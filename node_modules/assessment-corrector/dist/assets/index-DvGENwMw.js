var Ede=Object.defineProperty;var Tde=(t,r,i)=>r in t?Ede(t,r,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[r]=i;var Tt=(t,r,i)=>Tde(t,typeof r!="symbol"?r+"":r,i);(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const g of document.querySelectorAll('link[rel="modulepreload"]'))u(g);new MutationObserver(g=>{for(const h of g)if(h.type==="childList")for(const x of h.addedNodes)x.tagName==="LINK"&&x.rel==="modulepreload"&&u(x)}).observe(document,{childList:!0,subtree:!0});function i(g){const h={};return g.integrity&&(h.integrity=g.integrity),g.referrerPolicy&&(h.referrerPolicy=g.referrerPolicy),g.crossOrigin==="use-credentials"?h.credentials="include":g.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function u(g){if(g.ep)return;g.ep=!0;const h=i(g);fetch(g.href,h)}})();/**
* @vue/shared v3.5.17
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function yW(t){const r=Object.create(null);for(const i of t.split(","))r[i]=1;return i=>i in r}const Ca={},yE=[],Rv=()=>{},Ade=()=>!1,DF=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),xW=t=>t.startsWith("onUpdate:"),Qc=Object.assign,wW=(t,r)=>{const i=t.indexOf(r);i>-1&&t.splice(i,1)},Ode=Object.prototype.hasOwnProperty,Hi=(t,r)=>Ode.call(t,r),As=Array.isArray,xE=t=>uI(t)==="[object Map]",PF=t=>uI(t)==="[object Set]",LG=t=>uI(t)==="[object Date]",Xs=t=>typeof t=="function",Ul=t=>typeof t=="string",Dv=t=>typeof t=="symbol",ia=t=>t!==null&&typeof t=="object",UX=t=>(ia(t)||Xs(t))&&Xs(t.then)&&Xs(t.catch),WX=Object.prototype.toString,uI=t=>WX.call(t),Rde=t=>uI(t).slice(8,-1),KX=t=>uI(t)==="[object Object]",CW=t=>Ul(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,SR=yW(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),NF=t=>{const r=Object.create(null);return i=>r[i]||(r[i]=t(i))},Ide=/-(\w)/g,Hf=NF(t=>t.replace(Ide,(r,i)=>i?i.toUpperCase():"")),Dde=/\B([A-Z])/g,XC=NF(t=>t.replace(Dde,"-$1").toLowerCase()),$1=NF(t=>t.charAt(0).toUpperCase()+t.slice(1)),I9=NF(t=>t?`on${$1(t)}`:""),Vx=(t,r)=>!Object.is(t,r),$6=(t,...r)=>{for(let i=0;i<t.length;i++)t[i](...r)},EU=(t,r,i,u=!1)=>{Object.defineProperty(t,r,{configurable:!0,enumerable:!1,writable:u,value:i})},TU=t=>{const r=parseFloat(t);return isNaN(r)?t:r},Pde=t=>{const r=Ul(t)?Number(t):NaN;return isNaN(r)?t:r};let BG;const MF=()=>BG||(BG=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Qs(t){if(As(t)){const r={};for(let i=0;i<t.length;i++){const u=t[i],g=Ul(u)?Bde(u):Qs(u);if(g)for(const h in g)r[h]=g[h]}return r}else if(Ul(t)||ia(t))return t}const Nde=/;(?![^(]*\))/g,Mde=/:([^]+)/,Lde=/\/\*[^]*?\*\//g;function Bde(t){const r={};return t.replace(Lde,"").split(Nde).forEach(i=>{if(i){const u=i.split(Mde);u.length>1&&(r[u[0].trim()]=u[1].trim())}}),r}function xo(t){let r="";if(Ul(t))r=t;else if(As(t))for(let i=0;i<t.length;i++){const u=xo(t[i]);u&&(r+=u+" ")}else if(ia(t))for(const i in t)t[i]&&(r+=i+" ");return r.trim()}const Fde="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",$de=yW(Fde);function jX(t){return!!t||t===""}function Vde(t,r){if(t.length!==r.length)return!1;let i=!0;for(let u=0;i&&u<t.length;u++)i=LF(t[u],r[u]);return i}function LF(t,r){if(t===r)return!0;let i=LG(t),u=LG(r);if(i||u)return i&&u?t.getTime()===r.getTime():!1;if(i=Dv(t),u=Dv(r),i||u)return t===r;if(i=As(t),u=As(r),i||u)return i&&u?Vde(t,r):!1;if(i=ia(t),u=ia(r),i||u){if(!i||!u)return!1;const g=Object.keys(t).length,h=Object.keys(r).length;if(g!==h)return!1;for(const x in t){const w=t.hasOwnProperty(x),R=r.hasOwnProperty(x);if(w&&!R||!w&&R||!LF(t[x],r[x]))return!1}}return String(t)===String(r)}function ZX(t,r){return t.findIndex(i=>LF(i,r))}const GX=t=>!!(t&&t.__v_isRef===!0),He=t=>Ul(t)?t:t==null?"":As(t)||ia(t)&&(t.toString===WX||!Xs(t.toString))?GX(t)?He(t.value):JSON.stringify(t,qX,2):String(t),qX=(t,r)=>GX(r)?qX(t,r.value):xE(r)?{[`Map(${r.size})`]:[...r.entries()].reduce((i,[u,g],h)=>(i[D9(u,h)+" =>"]=g,i),{})}:PF(r)?{[`Set(${r.size})`]:[...r.values()].map(i=>D9(i))}:Dv(r)?D9(r):ia(r)&&!As(r)&&!KX(r)?String(r):r,D9=(t,r="")=>{var i;return Dv(t)?`Symbol(${(i=t.description)!=null?i:r})`:t};/**
* @vue/reactivity v3.5.17
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Bd;class YX{constructor(r=!1){this.detached=r,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Bd,!r&&Bd&&(this.index=(Bd.scopes||(Bd.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let r,i;if(this.scopes)for(r=0,i=this.scopes.length;r<i;r++)this.scopes[r].pause();for(r=0,i=this.effects.length;r<i;r++)this.effects[r].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let r,i;if(this.scopes)for(r=0,i=this.scopes.length;r<i;r++)this.scopes[r].resume();for(r=0,i=this.effects.length;r<i;r++)this.effects[r].resume()}}run(r){if(this._active){const i=Bd;try{return Bd=this,r()}finally{Bd=i}}}on(){++this._on===1&&(this.prevScope=Bd,Bd=this)}off(){this._on>0&&--this._on===0&&(Bd=this.prevScope,this.prevScope=void 0)}stop(r){if(this._active){this._active=!1;let i,u;for(i=0,u=this.effects.length;i<u;i++)this.effects[i].stop();for(this.effects.length=0,i=0,u=this.cleanups.length;i<u;i++)this.cleanups[i]();if(this.cleanups.length=0,this.scopes){for(i=0,u=this.scopes.length;i<u;i++)this.scopes[i].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!r){const g=this.parent.scopes.pop();g&&g!==this&&(this.parent.scopes[this.index]=g,g.index=this.index)}this.parent=void 0}}}function Ux(t){return new YX(t)}function SW(){return Bd}function eu(t,r=!1){Bd&&Bd.cleanups.push(t)}let za;const P9=new WeakSet;class XX{constructor(r){this.fn=r,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Bd&&Bd.active&&Bd.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,P9.has(this)&&(P9.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||QX(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,FG(this),eJ(this);const r=za,i=cb;za=this,cb=!0;try{return this.fn()}finally{tJ(this),za=r,cb=i,this.flags&=-3}}stop(){if(this.flags&1){for(let r=this.deps;r;r=r.nextDep)EW(r);this.deps=this.depsTail=void 0,FG(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?P9.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){AU(this)&&this.run()}get dirty(){return AU(this)}}let JX=0,_R,kR;function QX(t,r=!1){if(t.flags|=8,r){t.next=kR,kR=t;return}t.next=_R,_R=t}function _W(){JX++}function kW(){if(--JX>0)return;if(kR){let r=kR;for(kR=void 0;r;){const i=r.next;r.next=void 0,r.flags&=-9,r=i}}let t;for(;_R;){let r=_R;for(_R=void 0;r;){const i=r.next;if(r.next=void 0,r.flags&=-9,r.flags&1)try{r.trigger()}catch(u){t||(t=u)}r=i}}if(t)throw t}function eJ(t){for(let r=t.deps;r;r=r.nextDep)r.version=-1,r.prevActiveLink=r.dep.activeLink,r.dep.activeLink=r}function tJ(t){let r,i=t.depsTail,u=i;for(;u;){const g=u.prevDep;u.version===-1?(u===i&&(i=g),EW(u),zde(u)):r=u,u.dep.activeLink=u.prevActiveLink,u.prevActiveLink=void 0,u=g}t.deps=r,t.depsTail=i}function AU(t){for(let r=t.deps;r;r=r.nextDep)if(r.dep.version!==r.version||r.dep.computed&&(nJ(r.dep.computed)||r.dep.version!==r.version))return!0;return!!t._dirty}function nJ(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===LR)||(t.globalVersion=LR,!t.isSSR&&t.flags&128&&(!t.deps&&!t._dirty||!AU(t))))return;t.flags|=2;const r=t.dep,i=za,u=cb;za=t,cb=!0;try{eJ(t);const g=t.fn(t._value);(r.version===0||Vx(g,t._value))&&(t.flags|=128,t._value=g,r.version++)}catch(g){throw r.version++,g}finally{za=i,cb=u,tJ(t),t.flags&=-3}}function EW(t,r=!1){const{dep:i,prevSub:u,nextSub:g}=t;if(u&&(u.nextSub=g,t.prevSub=void 0),g&&(g.prevSub=u,t.nextSub=void 0),i.subs===t&&(i.subs=u,!u&&i.computed)){i.computed.flags&=-5;for(let h=i.computed.deps;h;h=h.nextDep)EW(h,!0)}!r&&!--i.sc&&i.map&&i.map.delete(i.key)}function zde(t){const{prevDep:r,nextDep:i}=t;r&&(r.nextDep=i,t.prevDep=void 0),i&&(i.prevDep=r,t.nextDep=void 0)}let cb=!0;const oJ=[];function P1(){oJ.push(cb),cb=!1}function N1(){const t=oJ.pop();cb=t===void 0?!0:t}function FG(t){const{cleanup:r}=t;if(t.cleanup=void 0,r){const i=za;za=void 0;try{r()}finally{za=i}}}let LR=0;class Hde{constructor(r,i){this.sub=r,this.dep=i,this.version=i.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class TW{constructor(r){this.computed=r,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(r){if(!za||!cb||za===this.computed)return;let i=this.activeLink;if(i===void 0||i.sub!==za)i=this.activeLink=new Hde(za,this),za.deps?(i.prevDep=za.depsTail,za.depsTail.nextDep=i,za.depsTail=i):za.deps=za.depsTail=i,sJ(i);else if(i.version===-1&&(i.version=this.version,i.nextDep)){const u=i.nextDep;u.prevDep=i.prevDep,i.prevDep&&(i.prevDep.nextDep=u),i.prevDep=za.depsTail,i.nextDep=void 0,za.depsTail.nextDep=i,za.depsTail=i,za.deps===i&&(za.deps=u)}return i}trigger(r){this.version++,LR++,this.notify(r)}notify(r){_W();try{for(let i=this.subs;i;i=i.prevSub)i.sub.notify()&&i.sub.dep.notify()}finally{kW()}}}function sJ(t){if(t.dep.sc++,t.sub.flags&4){const r=t.dep.computed;if(r&&!t.dep.subs){r.flags|=20;for(let u=r.deps;u;u=u.nextDep)sJ(u)}const i=t.dep.subs;i!==t&&(t.prevSub=i,i&&(i.nextSub=t)),t.dep.subs=t}}const eF=new WeakMap,WC=Symbol(""),OU=Symbol(""),BR=Symbol("");function Fd(t,r,i){if(cb&&za){let u=eF.get(t);u||eF.set(t,u=new Map);let g=u.get(i);g||(u.set(i,g=new TW),g.map=u,g.key=i),g.track()}}function T1(t,r,i,u,g,h){const x=eF.get(t);if(!x){LR++;return}const w=R=>{R&&R.trigger()};if(_W(),r==="clear")x.forEach(w);else{const R=As(t),D=R&&CW(i);if(R&&i==="length"){const O=Number(u);x.forEach((M,H)=>{(H==="length"||H===BR||!Dv(H)&&H>=O)&&w(M)})}else switch((i!==void 0||x.has(void 0))&&w(x.get(i)),D&&w(x.get(BR)),r){case"add":R?D&&w(x.get("length")):(w(x.get(WC)),xE(t)&&w(x.get(OU)));break;case"delete":R||(w(x.get(WC)),xE(t)&&w(x.get(OU)));break;case"set":xE(t)&&w(x.get(WC));break}}kW()}function Ude(t,r){const i=eF.get(t);return i&&i.get(r)}function Qk(t){const r=Ns(t);return r===t?r:(Fd(r,"iterate",BR),Xh(t)?r:r.map(cd))}function BF(t){return Fd(t=Ns(t),"iterate",BR),t}const Wde={__proto__:null,[Symbol.iterator](){return N9(this,Symbol.iterator,cd)},concat(...t){return Qk(this).concat(...t.map(r=>As(r)?Qk(r):r))},entries(){return N9(this,"entries",t=>(t[1]=cd(t[1]),t))},every(t,r){return w1(this,"every",t,r,void 0,arguments)},filter(t,r){return w1(this,"filter",t,r,i=>i.map(cd),arguments)},find(t,r){return w1(this,"find",t,r,cd,arguments)},findIndex(t,r){return w1(this,"findIndex",t,r,void 0,arguments)},findLast(t,r){return w1(this,"findLast",t,r,cd,arguments)},findLastIndex(t,r){return w1(this,"findLastIndex",t,r,void 0,arguments)},forEach(t,r){return w1(this,"forEach",t,r,void 0,arguments)},includes(...t){return M9(this,"includes",t)},indexOf(...t){return M9(this,"indexOf",t)},join(t){return Qk(this).join(t)},lastIndexOf(...t){return M9(this,"lastIndexOf",t)},map(t,r){return w1(this,"map",t,r,void 0,arguments)},pop(){return gR(this,"pop")},push(...t){return gR(this,"push",t)},reduce(t,...r){return $G(this,"reduce",t,r)},reduceRight(t,...r){return $G(this,"reduceRight",t,r)},shift(){return gR(this,"shift")},some(t,r){return w1(this,"some",t,r,void 0,arguments)},splice(...t){return gR(this,"splice",t)},toReversed(){return Qk(this).toReversed()},toSorted(t){return Qk(this).toSorted(t)},toSpliced(...t){return Qk(this).toSpliced(...t)},unshift(...t){return gR(this,"unshift",t)},values(){return N9(this,"values",cd)}};function N9(t,r,i){const u=BF(t),g=u[r]();return u!==t&&!Xh(t)&&(g._next=g.next,g.next=()=>{const h=g._next();return h.value&&(h.value=i(h.value)),h}),g}const Kde=Array.prototype;function w1(t,r,i,u,g,h){const x=BF(t),w=x!==t&&!Xh(t),R=x[r];if(R!==Kde[r]){const M=R.apply(t,h);return w?cd(M):M}let D=i;x!==t&&(w?D=function(M,H){return i.call(this,cd(M),H,t)}:i.length>2&&(D=function(M,H){return i.call(this,M,H,t)}));const O=R.call(x,D,u);return w&&g?g(O):O}function $G(t,r,i,u){const g=BF(t);let h=i;return g!==t&&(Xh(t)?i.length>3&&(h=function(x,w,R){return i.call(this,x,w,R,t)}):h=function(x,w,R){return i.call(this,x,cd(w),R,t)}),g[r](h,...u)}function M9(t,r,i){const u=Ns(t);Fd(u,"iterate",BR);const g=u[r](...i);return(g===-1||g===!1)&&RW(i[0])?(i[0]=Ns(i[0]),u[r](...i)):g}function gR(t,r,i=[]){P1(),_W();const u=Ns(t)[r].apply(t,i);return kW(),N1(),u}const jde=yW("__proto__,__v_isRef,__isVue"),rJ=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(Dv));function Zde(t){Dv(t)||(t=String(t));const r=Ns(this);return Fd(r,"has",t),r.hasOwnProperty(t)}class iJ{constructor(r=!1,i=!1){this._isReadonly=r,this._isShallow=i}get(r,i,u){if(i==="__v_skip")return r.__v_skip;const g=this._isReadonly,h=this._isShallow;if(i==="__v_isReactive")return!g;if(i==="__v_isReadonly")return g;if(i==="__v_isShallow")return h;if(i==="__v_raw")return u===(g?h?ofe:uJ:h?cJ:lJ).get(r)||Object.getPrototypeOf(r)===Object.getPrototypeOf(u)?r:void 0;const x=As(r);if(!g){let R;if(x&&(R=Wde[i]))return R;if(i==="hasOwnProperty")return Zde}const w=Reflect.get(r,i,Ha(r)?r:u);return(Dv(i)?rJ.has(i):jde(i))||(g||Fd(r,"get",i),h)?w:Ha(w)?x&&CW(i)?w:w.value:ia(w)?g?FE(w):Ac(w):w}}class aJ extends iJ{constructor(r=!1){super(!1,r)}set(r,i,u,g){let h=r[i];if(!this._isShallow){const R=Wx(h);if(!Xh(u)&&!Wx(u)&&(h=Ns(h),u=Ns(u)),!As(r)&&Ha(h)&&!Ha(u))return R?!1:(h.value=u,!0)}const x=As(r)&&CW(i)?Number(i)<r.length:Hi(r,i),w=Reflect.set(r,i,u,Ha(r)?r:g);return r===Ns(g)&&(x?Vx(u,h)&&T1(r,"set",i,u):T1(r,"add",i,u)),w}deleteProperty(r,i){const u=Hi(r,i);r[i];const g=Reflect.deleteProperty(r,i);return g&&u&&T1(r,"delete",i,void 0),g}has(r,i){const u=Reflect.has(r,i);return(!Dv(i)||!rJ.has(i))&&Fd(r,"has",i),u}ownKeys(r){return Fd(r,"iterate",As(r)?"length":WC),Reflect.ownKeys(r)}}class Gde extends iJ{constructor(r=!1){super(!0,r)}set(r,i){return!0}deleteProperty(r,i){return!0}}const qde=new aJ,Yde=new Gde,Xde=new aJ(!0);const RU=t=>t,S6=t=>Reflect.getPrototypeOf(t);function Jde(t,r,i){return function(...u){const g=this.__v_raw,h=Ns(g),x=xE(h),w=t==="entries"||t===Symbol.iterator&&x,R=t==="keys"&&x,D=g[t](...u),O=i?RU:r?tF:cd;return!r&&Fd(h,"iterate",R?OU:WC),{next(){const{value:M,done:H}=D.next();return H?{value:M,done:H}:{value:w?[O(M[0]),O(M[1])]:O(M),done:H}},[Symbol.iterator](){return this}}}}function _6(t){return function(...r){return t==="delete"?!1:t==="clear"?void 0:this}}function Qde(t,r){const i={get(g){const h=this.__v_raw,x=Ns(h),w=Ns(g);t||(Vx(g,w)&&Fd(x,"get",g),Fd(x,"get",w));const{has:R}=S6(x),D=r?RU:t?tF:cd;if(R.call(x,g))return D(h.get(g));if(R.call(x,w))return D(h.get(w));h!==x&&h.get(g)},get size(){const g=this.__v_raw;return!t&&Fd(Ns(g),"iterate",WC),Reflect.get(g,"size",g)},has(g){const h=this.__v_raw,x=Ns(h),w=Ns(g);return t||(Vx(g,w)&&Fd(x,"has",g),Fd(x,"has",w)),g===w?h.has(g):h.has(g)||h.has(w)},forEach(g,h){const x=this,w=x.__v_raw,R=Ns(w),D=r?RU:t?tF:cd;return!t&&Fd(R,"iterate",WC),w.forEach((O,M)=>g.call(h,D(O),D(M),x))}};return Qc(i,t?{add:_6("add"),set:_6("set"),delete:_6("delete"),clear:_6("clear")}:{add(g){!r&&!Xh(g)&&!Wx(g)&&(g=Ns(g));const h=Ns(this);return S6(h).has.call(h,g)||(h.add(g),T1(h,"add",g,g)),this},set(g,h){!r&&!Xh(h)&&!Wx(h)&&(h=Ns(h));const x=Ns(this),{has:w,get:R}=S6(x);let D=w.call(x,g);D||(g=Ns(g),D=w.call(x,g));const O=R.call(x,g);return x.set(g,h),D?Vx(h,O)&&T1(x,"set",g,h):T1(x,"add",g,h),this},delete(g){const h=Ns(this),{has:x,get:w}=S6(h);let R=x.call(h,g);R||(g=Ns(g),R=x.call(h,g)),w&&w.call(h,g);const D=h.delete(g);return R&&T1(h,"delete",g,void 0),D},clear(){const g=Ns(this),h=g.size!==0,x=g.clear();return h&&T1(g,"clear",void 0,void 0),x}}),["keys","values","entries",Symbol.iterator].forEach(g=>{i[g]=Jde(g,t,r)}),i}function AW(t,r){const i=Qde(t,r);return(u,g,h)=>g==="__v_isReactive"?!t:g==="__v_isReadonly"?t:g==="__v_raw"?u:Reflect.get(Hi(i,g)&&g in u?i:u,g,h)}const efe={get:AW(!1,!1)},tfe={get:AW(!1,!0)},nfe={get:AW(!0,!1)};const lJ=new WeakMap,cJ=new WeakMap,uJ=new WeakMap,ofe=new WeakMap;function sfe(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function rfe(t){return t.__v_skip||!Object.isExtensible(t)?0:sfe(Rde(t))}function Ac(t){return Wx(t)?t:OW(t,!1,qde,efe,lJ)}function ife(t){return OW(t,!1,Xde,tfe,cJ)}function FE(t){return OW(t,!0,Yde,nfe,uJ)}function OW(t,r,i,u,g){if(!ia(t)||t.__v_raw&&!(r&&t.__v_isReactive))return t;const h=rfe(t);if(h===0)return t;const x=g.get(t);if(x)return x;const w=new Proxy(t,h===2?u:i);return g.set(t,w),w}function zx(t){return Wx(t)?zx(t.__v_raw):!!(t&&t.__v_isReactive)}function Wx(t){return!!(t&&t.__v_isReadonly)}function Xh(t){return!!(t&&t.__v_isShallow)}function RW(t){return t?!!t.__v_raw:!1}function Ns(t){const r=t&&t.__v_raw;return r?Ns(r):t}function IW(t){return!Hi(t,"__v_skip")&&Object.isExtensible(t)&&EU(t,"__v_skip",!0),t}const cd=t=>ia(t)?Ac(t):t,tF=t=>ia(t)?FE(t):t;function Ha(t){return t?t.__v_isRef===!0:!1}function Ln(t){return dJ(t,!1)}function Do(t){return dJ(t,!0)}function dJ(t,r){return Ha(t)?t:new afe(t,r)}class afe{constructor(r,i){this.dep=new TW,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=i?r:Ns(r),this._value=i?r:cd(r),this.__v_isShallow=i}get value(){return this.dep.track(),this._value}set value(r){const i=this._rawValue,u=this.__v_isShallow||Xh(r)||Wx(r);r=u?r:Ns(r),Vx(r,i)&&(this._rawValue=r,this._value=u?r:cd(r),this.dep.trigger())}}function ne(t){return Ha(t)?t.value:t}function Pv(t){return Xs(t)?t():ne(t)}const lfe={get:(t,r,i)=>r==="__v_raw"?t:ne(Reflect.get(t,r,i)),set:(t,r,i,u)=>{const g=t[r];return Ha(g)&&!Ha(i)?(g.value=i,!0):Reflect.set(t,r,i,u)}};function fJ(t){return zx(t)?t:new Proxy(t,lfe)}function FF(t){const r=As(t)?new Array(t.length):{};for(const i in t)r[i]=mJ(t,i);return r}class cfe{constructor(r,i,u){this._object=r,this._key=i,this._defaultValue=u,this.__v_isRef=!0,this._value=void 0}get value(){const r=this._object[this._key];return this._value=r===void 0?this._defaultValue:r}set value(r){this._object[this._key]=r}get dep(){return Ude(Ns(this._object),this._key)}}class ufe{constructor(r){this._getter=r,this.__v_isRef=!0,this.__v_isReadonly=!0,this._value=void 0}get value(){return this._value=this._getter()}}function En(t,r,i){return Ha(t)?t:Xs(t)?new ufe(t):ia(t)&&arguments.length>1?mJ(t,r,i):Ln(t)}function mJ(t,r,i){const u=t[r];return Ha(u)?u:new cfe(t,r,i)}class dfe{constructor(r,i,u){this.fn=r,this.setter=i,this._value=void 0,this.dep=new TW(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=LR-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!i,this.isSSR=u}notify(){if(this.flags|=16,!(this.flags&8)&&za!==this)return QX(this,!0),!0}get value(){const r=this.dep.track();return nJ(this),r&&(r.version=this.dep.version),this._value}set value(r){this.setter&&this.setter(r)}}function ffe(t,r,i=!1){let u,g;return Xs(t)?u=t:(u=t.get,g=t.set),new dfe(u,g,i)}const k6={},nF=new WeakMap;let FC;function mfe(t,r=!1,i=FC){if(i){let u=nF.get(i);u||nF.set(i,u=[]),u.push(t)}}function gfe(t,r,i=Ca){const{immediate:u,deep:g,once:h,scheduler:x,augmentJob:w,call:R}=i,D=q=>g?q:Xh(q)||g===!1||g===0?A1(q,1):A1(q);let O,M,H,K,Z=!1,Q=!1;if(Ha(t)?(M=()=>t.value,Z=Xh(t)):zx(t)?(M=()=>D(t),Z=!0):As(t)?(Q=!0,Z=t.some(q=>zx(q)||Xh(q)),M=()=>t.map(q=>{if(Ha(q))return q.value;if(zx(q))return D(q);if(Xs(q))return R?R(q,2):q()})):Xs(t)?r?M=R?()=>R(t,2):t:M=()=>{if(H){P1();try{H()}finally{N1()}}const q=FC;FC=O;try{return R?R(t,3,[K]):t(K)}finally{FC=q}}:M=Rv,r&&g){const q=M,he=g===!0?1/0:g;M=()=>A1(q(),he)}const re=SW(),U=()=>{O.stop(),re&&re.active&&wW(re.effects,O)};if(h&&r){const q=r;r=(...he)=>{q(...he),U()}}let ge=Q?new Array(t.length).fill(k6):k6;const de=q=>{if(!(!(O.flags&1)||!O.dirty&&!q))if(r){const he=O.run();if(g||Z||(Q?he.some((oe,_e)=>Vx(oe,ge[_e])):Vx(he,ge))){H&&H();const oe=FC;FC=O;try{const _e=[he,ge===k6?void 0:Q&&ge[0]===k6?[]:ge,K];ge=he,R?R(r,3,_e):r(..._e)}finally{FC=oe}}}else O.run()};return w&&w(de),O=new XX(M),O.scheduler=x?()=>x(de,!1):de,K=q=>mfe(q,!1,O),H=O.onStop=()=>{const q=nF.get(O);if(q){if(R)R(q,4);else for(const he of q)he();nF.delete(O)}},r?u?de(!0):ge=O.run():x?x(de.bind(null,!0),!0):O.run(),U.pause=O.pause.bind(O),U.resume=O.resume.bind(O),U.stop=U,U}function A1(t,r=1/0,i){if(r<=0||!ia(t)||t.__v_skip||(i=i||new Set,i.has(t)))return t;if(i.add(t),r--,Ha(t))A1(t.value,r,i);else if(As(t))for(let u=0;u<t.length;u++)A1(t[u],r,i);else if(PF(t)||xE(t))t.forEach(u=>{A1(u,r,i)});else if(KX(t)){for(const u in t)A1(t[u],r,i);for(const u of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,u)&&A1(t[u],r,i)}return t}/**
* @vue/runtime-core v3.5.17
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function dI(t,r,i,u){try{return u?t(...u):t()}catch(g){$F(g,r,i)}}function mb(t,r,i,u){if(Xs(t)){const g=dI(t,r,i,u);return g&&UX(g)&&g.catch(h=>{$F(h,r,i)}),g}if(As(t)){const g=[];for(let h=0;h<t.length;h++)g.push(mb(t[h],r,i,u));return g}}function $F(t,r,i,u=!0){const g=r?r.vnode:null,{errorHandler:h,throwUnhandledErrorInProduction:x}=r&&r.appContext.config||Ca;if(r){let w=r.parent;const R=r.proxy,D=`https://vuejs.org/error-reference/#runtime-${i}`;for(;w;){const O=w.ec;if(O){for(let M=0;M<O.length;M++)if(O[M](t,R,D)===!1)return}w=w.parent}if(h){P1(),dI(h,null,10,[t,R,D]),N1();return}}hfe(t,i,g,u,x)}function hfe(t,r,i,u=!0,g=!1){if(g)throw t;console.error(t)}const $f=[];let Ev=-1;const wE=[];let Nx=null,fE=0;const gJ=Promise.resolve();let oF=null;function ys(t){const r=oF||gJ;return t?r.then(this?t.bind(this):t):r}function pfe(t){let r=Ev+1,i=$f.length;for(;r<i;){const u=r+i>>>1,g=$f[u],h=FR(g);h<t||h===t&&g.flags&2?r=u+1:i=u}return r}function DW(t){if(!(t.flags&1)){const r=FR(t),i=$f[$f.length-1];!i||!(t.flags&2)&&r>=FR(i)?$f.push(t):$f.splice(pfe(r),0,t),t.flags|=1,hJ()}}function hJ(){oF||(oF=gJ.then(bJ))}function bfe(t){As(t)?wE.push(...t):Nx&&t.id===-1?Nx.splice(fE+1,0,t):t.flags&1||(wE.push(t),t.flags|=1),hJ()}function VG(t,r,i=Ev+1){for(;i<$f.length;i++){const u=$f[i];if(u&&u.flags&2){if(t&&u.id!==t.uid)continue;$f.splice(i,1),i--,u.flags&4&&(u.flags&=-2),u(),u.flags&4||(u.flags&=-2)}}}function pJ(t){if(wE.length){const r=[...new Set(wE)].sort((i,u)=>FR(i)-FR(u));if(wE.length=0,Nx){Nx.push(...r);return}for(Nx=r,fE=0;fE<Nx.length;fE++){const i=Nx[fE];i.flags&4&&(i.flags&=-2),i.flags&8||i(),i.flags&=-2}Nx=null,fE=0}}const FR=t=>t.id==null?t.flags&2?-1:1/0:t.id;function bJ(t){try{for(Ev=0;Ev<$f.length;Ev++){const r=$f[Ev];r&&!(r.flags&8)&&(r.flags&4&&(r.flags&=-2),dI(r,r.i,r.i?15:14),r.flags&4||(r.flags&=-2))}}finally{for(;Ev<$f.length;Ev++){const r=$f[Ev];r&&(r.flags&=-2)}Ev=-1,$f.length=0,pJ(),oF=null,($f.length||wE.length)&&bJ()}}let zf=null,vJ=null;function sF(t){const r=zf;return zf=t,vJ=t&&t.type.__scopeId||null,r}function xt(t,r=zf,i){if(!r||t._n)return t;const u=(...g)=>{u._d&&eq(-1);const h=sF(r);let x;try{x=t(...g)}finally{sF(h),u._d&&eq(1)}return x};return u._n=!0,u._c=!0,u._d=!0,u}function Zn(t,r){if(zf===null)return t;const i=WF(zf),u=t.dirs||(t.dirs=[]);for(let g=0;g<r.length;g++){let[h,x,w,R=Ca]=r[g];h&&(Xs(h)&&(h={mounted:h,updated:h}),h.deep&&A1(x),u.push({dir:h,instance:i,value:x,oldValue:void 0,arg:w,modifiers:R}))}return t}function IC(t,r,i,u){const g=t.dirs,h=r&&r.dirs;for(let x=0;x<g.length;x++){const w=g[x];h&&(w.oldValue=h[x].value);let R=w.dir[u];R&&(P1(),mb(R,i,8,[t.el,w,t,r]),N1())}}const yJ=Symbol("_vte"),xJ=t=>t.__isTeleport,ER=t=>t&&(t.disabled||t.disabled===""),zG=t=>t&&(t.defer||t.defer===""),HG=t=>typeof SVGElement<"u"&&t instanceof SVGElement,UG=t=>typeof MathMLElement=="function"&&t instanceof MathMLElement,IU=(t,r)=>{const i=t&&t.to;return Ul(i)?r?r(i):null:i},wJ={name:"Teleport",__isTeleport:!0,process(t,r,i,u,g,h,x,w,R,D){const{mc:O,pc:M,pbc:H,o:{insert:K,querySelector:Z,createText:Q,createComment:re}}=D,U=ER(r.props);let{shapeFlag:ge,children:de,dynamicChildren:q}=r;if(t==null){const he=r.el=Q(""),oe=r.anchor=Q("");K(he,i,u),K(oe,i,u);const _e=(Qe,ct)=>{ge&16&&(g&&g.isCE&&(g.ce._teleportTarget=Qe),O(de,Qe,ct,g,h,x,w,R))},Ue=()=>{const Qe=r.target=IU(r.props,Z),ct=CJ(Qe,r,Q,K);Qe&&(x!=="svg"&&HG(Qe)?x="svg":x!=="mathml"&&UG(Qe)&&(x="mathml"),U||(_e(Qe,ct),V6(r,!1)))};U&&(_e(i,oe),V6(r,!0)),zG(r.props)?(r.el.__isMounted=!1,Ff(()=>{Ue(),delete r.el.__isMounted},h)):Ue()}else{if(zG(r.props)&&t.el.__isMounted===!1){Ff(()=>{wJ.process(t,r,i,u,g,h,x,w,R,D)},h);return}r.el=t.el,r.targetStart=t.targetStart;const he=r.anchor=t.anchor,oe=r.target=t.target,_e=r.targetAnchor=t.targetAnchor,Ue=ER(t.props),Qe=Ue?i:oe,ct=Ue?he:_e;if(x==="svg"||HG(oe)?x="svg":(x==="mathml"||UG(oe))&&(x="mathml"),q?(H(t.dynamicChildren,q,Qe,g,h,x,w),FW(t,r,!0)):R||M(t,r,Qe,ct,g,h,x,w,!1),U)Ue?r.props&&t.props&&r.props.to!==t.props.to&&(r.props.to=t.props.to):E6(r,i,he,D,1);else if((r.props&&r.props.to)!==(t.props&&t.props.to)){const Ce=r.target=IU(r.props,Z);Ce&&E6(r,Ce,null,D,0)}else Ue&&E6(r,oe,_e,D,1);V6(r,U)}},remove(t,r,i,{um:u,o:{remove:g}},h){const{shapeFlag:x,children:w,anchor:R,targetStart:D,targetAnchor:O,target:M,props:H}=t;if(M&&(g(D),g(O)),h&&g(R),x&16){const K=h||!ER(H);for(let Z=0;Z<w.length;Z++){const Q=w[Z];u(Q,r,i,K,!!Q.dynamicChildren)}}},move:E6,hydrate:vfe};function E6(t,r,i,{o:{insert:u},m:g},h=2){h===0&&u(t.targetAnchor,r,i);const{el:x,anchor:w,shapeFlag:R,children:D,props:O}=t,M=h===2;if(M&&u(x,r,i),(!M||ER(O))&&R&16)for(let H=0;H<D.length;H++)g(D[H],r,i,2);M&&u(w,r,i)}function vfe(t,r,i,u,g,h,{o:{nextSibling:x,parentNode:w,querySelector:R,insert:D,createText:O}},M){const H=r.target=IU(r.props,R);if(H){const K=ER(r.props),Z=H._lpa||H.firstChild;if(r.shapeFlag&16)if(K)r.anchor=M(x(t),r,w(t),i,u,g,h),r.targetStart=Z,r.targetAnchor=Z&&x(Z);else{r.anchor=x(t);let Q=Z;for(;Q;){if(Q&&Q.nodeType===8){if(Q.data==="teleport start anchor")r.targetStart=Q;else if(Q.data==="teleport anchor"){r.targetAnchor=Q,H._lpa=r.targetAnchor&&x(r.targetAnchor);break}}Q=x(Q)}r.targetAnchor||CJ(H,r,O,D),M(Z&&x(Z),r,H,i,u,g,h)}V6(r,K)}return r.anchor&&x(r.anchor)}const yfe=wJ;function V6(t,r){const i=t.ctx;if(i&&i.ut){let u,g;for(r?(u=t.el,g=t.anchor):(u=t.targetStart,g=t.targetAnchor);u&&u!==g;)u.nodeType===1&&u.setAttribute("data-v-owner",i.uid),u=u.nextSibling;i.ut()}}function CJ(t,r,i,u){const g=r.targetStart=i(""),h=r.targetAnchor=i("");return g[yJ]=h,t&&(u(g,t),u(h,t)),h}const Mx=Symbol("_leaveCb"),T6=Symbol("_enterCb");function SJ(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return jd(()=>{t.isMounted=!0}),Ru(()=>{t.isUnmounting=!0}),t}const jh=[Function,Array],_J={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:jh,onEnter:jh,onAfterEnter:jh,onEnterCancelled:jh,onBeforeLeave:jh,onLeave:jh,onAfterLeave:jh,onLeaveCancelled:jh,onBeforeAppear:jh,onAppear:jh,onAfterAppear:jh,onAppearCancelled:jh},kJ=t=>{const r=t.subTree;return r.component?kJ(r.component):r},xfe={name:"BaseTransition",props:_J,setup(t,{slots:r}){const i=$E(),u=SJ();return()=>{const g=r.default&&PW(r.default(),!0);if(!g||!g.length)return;const h=EJ(g),x=Ns(t),{mode:w}=x;if(u.isLeaving)return L9(h);const R=WG(h);if(!R)return L9(h);let D=$R(R,x,u,i,M=>D=M);R.type!==Vd&&GC(R,D);let O=i.subTree&&WG(i.subTree);if(O&&O.type!==Vd&&!$C(R,O)&&kJ(i).type!==Vd){let M=$R(O,x,u,i);if(GC(O,M),w==="out-in"&&R.type!==Vd)return u.isLeaving=!0,M.afterLeave=()=>{u.isLeaving=!1,i.job.flags&8||i.update(),delete M.afterLeave,O=void 0},L9(h);w==="in-out"&&R.type!==Vd?M.delayLeave=(H,K,Z)=>{const Q=TJ(u,O);Q[String(O.key)]=O,H[Mx]=()=>{K(),H[Mx]=void 0,delete D.delayedLeave,O=void 0},D.delayedLeave=()=>{Z(),delete D.delayedLeave,O=void 0}}:O=void 0}else O&&(O=void 0);return h}}};function EJ(t){let r=t[0];if(t.length>1){for(const i of t)if(i.type!==Vd){r=i;break}}return r}const wfe=xfe;function TJ(t,r){const{leavingVNodes:i}=t;let u=i.get(r.type);return u||(u=Object.create(null),i.set(r.type,u)),u}function $R(t,r,i,u,g){const{appear:h,mode:x,persisted:w=!1,onBeforeEnter:R,onEnter:D,onAfterEnter:O,onEnterCancelled:M,onBeforeLeave:H,onLeave:K,onAfterLeave:Z,onLeaveCancelled:Q,onBeforeAppear:re,onAppear:U,onAfterAppear:ge,onAppearCancelled:de}=r,q=String(t.key),he=TJ(i,t),oe=(Qe,ct)=>{Qe&&mb(Qe,u,9,ct)},_e=(Qe,ct)=>{const Ce=ct[1];oe(Qe,ct),As(Qe)?Qe.every(Te=>Te.length<=1)&&Ce():Qe.length<=1&&Ce()},Ue={mode:x,persisted:w,beforeEnter(Qe){let ct=R;if(!i.isMounted)if(h)ct=re||R;else return;Qe[Mx]&&Qe[Mx](!0);const Ce=he[q];Ce&&$C(t,Ce)&&Ce.el[Mx]&&Ce.el[Mx](),oe(ct,[Qe])},enter(Qe){let ct=D,Ce=O,Te=M;if(!i.isMounted)if(h)ct=U||D,Ce=ge||O,Te=de||M;else return;let I=!1;const dt=Qe[T6]=gt=>{I||(I=!0,gt?oe(Te,[Qe]):oe(Ce,[Qe]),Ue.delayedLeave&&Ue.delayedLeave(),Qe[T6]=void 0)};ct?_e(ct,[Qe,dt]):dt()},leave(Qe,ct){const Ce=String(t.key);if(Qe[T6]&&Qe[T6](!0),i.isUnmounting)return ct();oe(H,[Qe]);let Te=!1;const I=Qe[Mx]=dt=>{Te||(Te=!0,ct(),dt?oe(Q,[Qe]):oe(Z,[Qe]),Qe[Mx]=void 0,he[Ce]===t&&delete he[Ce])};he[Ce]=t,K?_e(K,[Qe,I]):I()},clone(Qe){const ct=$R(Qe,r,i,u,g);return g&&g(ct),ct}};return Ue}function L9(t){if(VF(t))return t=L1(t),t.children=null,t}function WG(t){if(!VF(t))return xJ(t.type)&&t.children?EJ(t.children):t;if(t.component)return t.component.subTree;const{shapeFlag:r,children:i}=t;if(i){if(r&16)return i[0];if(r&32&&Xs(i.default))return i.default()}}function GC(t,r){t.shapeFlag&6&&t.component?(t.transition=r,GC(t.component.subTree,r)):t.shapeFlag&128?(t.ssContent.transition=r.clone(t.ssContent),t.ssFallback.transition=r.clone(t.ssFallback)):t.transition=r}function PW(t,r=!1,i){let u=[],g=0;for(let h=0;h<t.length;h++){let x=t[h];const w=i==null?x.key:String(i)+String(x.key!=null?x.key:h);x.type===ms?(x.patchFlag&128&&g++,u=u.concat(PW(x.children,r,w))):(r||x.type!==Vd)&&u.push(w!=null?L1(x,{key:w}):x)}if(g>1)for(let h=0;h<u.length;h++)u[h].patchFlag=-2;return u}/*! #__NO_SIDE_EFFECTS__ */function AJ(t,r){return Xs(t)?Qc({name:t.name},r,{setup:t}):t}function V1(){const t=$E();return t?(t.appContext.config.idPrefix||"v")+"-"+t.ids[0]+t.ids[1]++:""}function OJ(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}function TR(t,r,i,u,g=!1){if(As(t)){t.forEach((Z,Q)=>TR(Z,r&&(As(r)?r[Q]:r),i,u,g));return}if(AR(u)&&!g){u.shapeFlag&512&&u.type.__asyncResolved&&u.component.subTree.component&&TR(t,r,i,u.component.subTree);return}const h=u.shapeFlag&4?WF(u.component):u.el,x=g?null:h,{i:w,r:R}=t,D=r&&r.r,O=w.refs===Ca?w.refs={}:w.refs,M=w.setupState,H=Ns(M),K=M===Ca?()=>!1:Z=>Hi(H,Z);if(D!=null&&D!==R&&(Ul(D)?(O[D]=null,K(D)&&(M[D]=null)):Ha(D)&&(D.value=null)),Xs(R))dI(R,w,12,[x,O]);else{const Z=Ul(R),Q=Ha(R);if(Z||Q){const re=()=>{if(t.f){const U=Z?K(R)?M[R]:O[R]:R.value;g?As(U)&&wW(U,h):As(U)?U.includes(h)||U.push(h):Z?(O[R]=[h],K(R)&&(M[R]=O[R])):(R.value=[h],t.k&&(O[t.k]=R.value))}else Z?(O[R]=x,K(R)&&(M[R]=x)):Q&&(R.value=x,t.k&&(O[t.k]=x))};x?(re.id=-1,Ff(re,i)):re()}}}MF().requestIdleCallback;MF().cancelIdleCallback;const AR=t=>!!t.type.__asyncLoader,VF=t=>t.type.__isKeepAlive;function NW(t,r){RJ(t,"a",r)}function zF(t,r){RJ(t,"da",r)}function RJ(t,r,i=Ou){const u=t.__wdc||(t.__wdc=()=>{let g=i;for(;g;){if(g.isDeactivated)return;g=g.parent}return t()});if(HF(r,u,i),i){let g=i.parent;for(;g&&g.parent;)VF(g.parent.vnode)&&Cfe(u,r,i,g),g=g.parent}}function Cfe(t,r,i,u){const g=HF(r,t,u,!0);IJ(()=>{wW(u[r],g)},i)}function HF(t,r,i=Ou,u=!1){if(i){const g=i[t]||(i[t]=[]),h=r.__weh||(r.__weh=(...x)=>{P1();const w=gI(i),R=mb(r,i,t,x);return w(),N1(),R});return u?g.unshift(h):g.push(h),h}}const z1=t=>(r,i=Ou)=>{(!HR||t==="sp")&&HF(t,(...u)=>r(...u),i)},fI=z1("bm"),jd=z1("m"),Sfe=z1("bu"),MW=z1("u"),Ru=z1("bum"),IJ=z1("um"),_fe=z1("sp"),kfe=z1("rtg"),Efe=z1("rtc");function Tfe(t,r=Ou){HF("ec",t,r)}const Afe="components",Ofe=Symbol.for("v-ndc");function Rfe(t){return Ul(t)&&Ife(Afe,t,!1)||t}function Ife(t,r,i=!0,u=!1){const g=zf||Ou;if(g){const h=g.type;{const w=bme(h,!1);if(w&&(w===r||w===Hf(r)||w===$1(Hf(r))))return h}const x=KG(g[t]||h[t],r)||KG(g.appContext[t],r);return!x&&u?h:x}}function KG(t,r){return t&&(t[r]||t[Hf(r)]||t[$1(Hf(r))])}function M1(t,r,i,u){let g;const h=i,x=As(t);if(x||Ul(t)){const w=x&&zx(t);let R=!1,D=!1;w&&(R=!Xh(t),D=Wx(t),t=BF(t)),g=new Array(t.length);for(let O=0,M=t.length;O<M;O++)g[O]=r(R?D?tF(cd(t[O])):cd(t[O]):t[O],O,void 0,h)}else if(typeof t=="number"){g=new Array(t);for(let w=0;w<t;w++)g[w]=r(w+1,w,void 0,h)}else if(ia(t))if(t[Symbol.iterator])g=Array.from(t,(w,R)=>r(w,R,void 0,h));else{const w=Object.keys(t);g=new Array(w.length);for(let R=0,D=w.length;R<D;R++){const O=w[R];g[R]=r(t[O],O,R,h)}}else g=[];return g}const DU=t=>t?qJ(t)?WF(t):DU(t.parent):null,OR=Qc(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>DU(t.parent),$root:t=>DU(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>PJ(t),$forceUpdate:t=>t.f||(t.f=()=>{DW(t.update)}),$nextTick:t=>t.n||(t.n=ys.bind(t.proxy)),$watch:t=>Qfe.bind(t)}),B9=(t,r)=>t!==Ca&&!t.__isScriptSetup&&Hi(t,r),Dfe={get({_:t},r){if(r==="__v_skip")return!0;const{ctx:i,setupState:u,data:g,props:h,accessCache:x,type:w,appContext:R}=t;let D;if(r[0]!=="$"){const K=x[r];if(K!==void 0)switch(K){case 1:return u[r];case 2:return g[r];case 4:return i[r];case 3:return h[r]}else{if(B9(u,r))return x[r]=1,u[r];if(g!==Ca&&Hi(g,r))return x[r]=2,g[r];if((D=t.propsOptions[0])&&Hi(D,r))return x[r]=3,h[r];if(i!==Ca&&Hi(i,r))return x[r]=4,i[r];PU&&(x[r]=0)}}const O=OR[r];let M,H;if(O)return r==="$attrs"&&Fd(t.attrs,"get",""),O(t);if((M=w.__cssModules)&&(M=M[r]))return M;if(i!==Ca&&Hi(i,r))return x[r]=4,i[r];if(H=R.config.globalProperties,Hi(H,r))return H[r]},set({_:t},r,i){const{data:u,setupState:g,ctx:h}=t;return B9(g,r)?(g[r]=i,!0):u!==Ca&&Hi(u,r)?(u[r]=i,!0):Hi(t.props,r)||r[0]==="$"&&r.slice(1)in t?!1:(h[r]=i,!0)},has({_:{data:t,setupState:r,accessCache:i,ctx:u,appContext:g,propsOptions:h}},x){let w;return!!i[x]||t!==Ca&&Hi(t,x)||B9(r,x)||(w=h[0])&&Hi(w,x)||Hi(u,x)||Hi(OR,x)||Hi(g.config.globalProperties,x)},defineProperty(t,r,i){return i.get!=null?t._.accessCache[r]=0:Hi(i,"value")&&this.set(t,r,i.value,null),Reflect.defineProperty(t,r,i)}};function jG(t){return As(t)?t.reduce((r,i)=>(r[i]=null,r),{}):t}let PU=!0;function Pfe(t){const r=PJ(t),i=t.proxy,u=t.ctx;PU=!1,r.beforeCreate&&ZG(r.beforeCreate,t,"bc");const{data:g,computed:h,methods:x,watch:w,provide:R,inject:D,created:O,beforeMount:M,mounted:H,beforeUpdate:K,updated:Z,activated:Q,deactivated:re,beforeDestroy:U,beforeUnmount:ge,destroyed:de,unmounted:q,render:he,renderTracked:oe,renderTriggered:_e,errorCaptured:Ue,serverPrefetch:Qe,expose:ct,inheritAttrs:Ce,components:Te,directives:I,filters:dt}=r;if(D&&Nfe(D,u,null),x)for(const en in x){const ft=x[en];Xs(ft)&&(u[en]=ft.bind(i))}if(g){const en=g.call(i,i);ia(en)&&(t.data=Ac(en))}if(PU=!0,h)for(const en in h){const ft=h[en],Rn=Xs(ft)?ft.bind(i,i):Xs(ft.get)?ft.get.bind(i,i):Rv,Ot=!Xs(ft)&&Xs(ft.set)?ft.set.bind(i):Rv,rt=Mt({get:Rn,set:Ot});Object.defineProperty(u,en,{enumerable:!0,configurable:!0,get:()=>rt.value,set:Ve=>rt.value=Ve})}if(w)for(const en in w)DJ(w[en],u,i,en);if(R){const en=Xs(R)?R.call(i):R;Reflect.ownKeys(en).forEach(ft=>{Wf(ft,en[ft])})}O&&ZG(O,t,"c");function Ft(en,ft){As(ft)?ft.forEach(Rn=>en(Rn.bind(i))):ft&&en(ft.bind(i))}if(Ft(fI,M),Ft(jd,H),Ft(Sfe,K),Ft(MW,Z),Ft(NW,Q),Ft(zF,re),Ft(Tfe,Ue),Ft(Efe,oe),Ft(kfe,_e),Ft(Ru,ge),Ft(IJ,q),Ft(_fe,Qe),As(ct))if(ct.length){const en=t.exposed||(t.exposed={});ct.forEach(ft=>{Object.defineProperty(en,ft,{get:()=>i[ft],set:Rn=>i[ft]=Rn})})}else t.exposed||(t.exposed={});he&&t.render===Rv&&(t.render=he),Ce!=null&&(t.inheritAttrs=Ce),Te&&(t.components=Te),I&&(t.directives=I),Qe&&OJ(t)}function Nfe(t,r,i=Rv){As(t)&&(t=NU(t));for(const u in t){const g=t[u];let h;ia(g)?"default"in g?h=ka(g.from||u,g.default,!0):h=ka(g.from||u):h=ka(g),Ha(h)?Object.defineProperty(r,u,{enumerable:!0,configurable:!0,get:()=>h.value,set:x=>h.value=x}):r[u]=h}}function ZG(t,r,i){mb(As(t)?t.map(u=>u.bind(r.proxy)):t.bind(r.proxy),r,i)}function DJ(t,r,i,u){let g=u.includes(".")?WJ(i,u):()=>i[u];if(Ul(t)){const h=r[t];Xs(h)&&Fn(g,h)}else if(Xs(t))Fn(g,t.bind(i));else if(ia(t))if(As(t))t.forEach(h=>DJ(h,r,i,u));else{const h=Xs(t.handler)?t.handler.bind(i):r[t.handler];Xs(h)&&Fn(g,h,t)}}function PJ(t){const r=t.type,{mixins:i,extends:u}=r,{mixins:g,optionsCache:h,config:{optionMergeStrategies:x}}=t.appContext,w=h.get(r);let R;return w?R=w:!g.length&&!i&&!u?R=r:(R={},g.length&&g.forEach(D=>rF(R,D,x,!0)),rF(R,r,x)),ia(r)&&h.set(r,R),R}function rF(t,r,i,u=!1){const{mixins:g,extends:h}=r;h&&rF(t,h,i,!0),g&&g.forEach(x=>rF(t,x,i,!0));for(const x in r)if(!(u&&x==="expose")){const w=Mfe[x]||i&&i[x];t[x]=w?w(t[x],r[x]):r[x]}return t}const Mfe={data:GG,props:qG,emits:qG,methods:CR,computed:CR,beforeCreate:Lf,created:Lf,beforeMount:Lf,mounted:Lf,beforeUpdate:Lf,updated:Lf,beforeDestroy:Lf,beforeUnmount:Lf,destroyed:Lf,unmounted:Lf,activated:Lf,deactivated:Lf,errorCaptured:Lf,serverPrefetch:Lf,components:CR,directives:CR,watch:Bfe,provide:GG,inject:Lfe};function GG(t,r){return r?t?function(){return Qc(Xs(t)?t.call(this,this):t,Xs(r)?r.call(this,this):r)}:r:t}function Lfe(t,r){return CR(NU(t),NU(r))}function NU(t){if(As(t)){const r={};for(let i=0;i<t.length;i++)r[t[i]]=t[i];return r}return t}function Lf(t,r){return t?[...new Set([].concat(t,r))]:r}function CR(t,r){return t?Qc(Object.create(null),t,r):r}function qG(t,r){return t?As(t)&&As(r)?[...new Set([...t,...r])]:Qc(Object.create(null),jG(t),jG(r??{})):r}function Bfe(t,r){if(!t)return r;if(!r)return t;const i=Qc(Object.create(null),t);for(const u in r)i[u]=Lf(t[u],r[u]);return i}function NJ(){return{app:null,config:{isNativeTag:Ade,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Ffe=0;function $fe(t,r){return function(u,g=null){Xs(u)||(u=Qc({},u)),g!=null&&!ia(g)&&(g=null);const h=NJ(),x=new WeakSet,w=[];let R=!1;const D=h.app={_uid:Ffe++,_component:u,_props:g,_container:null,_context:h,_instance:null,version:yme,get config(){return h.config},set config(O){},use(O,...M){return x.has(O)||(O&&Xs(O.install)?(x.add(O),O.install(D,...M)):Xs(O)&&(x.add(O),O(D,...M))),D},mixin(O){return h.mixins.includes(O)||h.mixins.push(O),D},component(O,M){return M?(h.components[O]=M,D):h.components[O]},directive(O,M){return M?(h.directives[O]=M,D):h.directives[O]},mount(O,M,H){if(!R){const K=D._ceVNode||ce(u,g);return K.appContext=h,H===!0?H="svg":H===!1&&(H=void 0),t(K,O,H),R=!0,D._container=O,O.__vue_app__=D,WF(K.component)}},onUnmount(O){w.push(O)},unmount(){R&&(mb(w,D._instance,16),t(null,D._container),delete D._container.__vue_app__)},provide(O,M){return h.provides[O]=M,D},runWithContext(O){const M=KC;KC=D;try{return O()}finally{KC=M}}};return D}}let KC=null;function Wf(t,r){if(Ou){let i=Ou.provides;const u=Ou.parent&&Ou.parent.provides;u===i&&(i=Ou.provides=Object.create(u)),i[t]=r}}function ka(t,r,i=!1){const u=Ou||zf;if(u||KC){let g=KC?KC._context.provides:u?u.parent==null||u.ce?u.vnode.appContext&&u.vnode.appContext.provides:u.parent.provides:void 0;if(g&&t in g)return g[t];if(arguments.length>1)return i&&Xs(r)?r.call(u&&u.proxy):r}}function Vfe(){return!!(Ou||zf||KC)}const MJ={},LJ=()=>Object.create(MJ),BJ=t=>Object.getPrototypeOf(t)===MJ;function zfe(t,r,i,u=!1){const g={},h=LJ();t.propsDefaults=Object.create(null),FJ(t,r,g,h);for(const x in t.propsOptions[0])x in g||(g[x]=void 0);i?t.props=u?g:ife(g):t.type.props?t.props=g:t.props=h,t.attrs=h}function Hfe(t,r,i,u){const{props:g,attrs:h,vnode:{patchFlag:x}}=t,w=Ns(g),[R]=t.propsOptions;let D=!1;if((u||x>0)&&!(x&16)){if(x&8){const O=t.vnode.dynamicProps;for(let M=0;M<O.length;M++){let H=O[M];if(UF(t.emitsOptions,H))continue;const K=r[H];if(R)if(Hi(h,H))K!==h[H]&&(h[H]=K,D=!0);else{const Z=Hf(H);g[Z]=MU(R,w,Z,K,t,!1)}else K!==h[H]&&(h[H]=K,D=!0)}}}else{FJ(t,r,g,h)&&(D=!0);let O;for(const M in w)(!r||!Hi(r,M)&&((O=XC(M))===M||!Hi(r,O)))&&(R?i&&(i[M]!==void 0||i[O]!==void 0)&&(g[M]=MU(R,w,M,void 0,t,!0)):delete g[M]);if(h!==w)for(const M in h)(!r||!Hi(r,M))&&(delete h[M],D=!0)}D&&T1(t.attrs,"set","")}function FJ(t,r,i,u){const[g,h]=t.propsOptions;let x=!1,w;if(r)for(let R in r){if(SR(R))continue;const D=r[R];let O;g&&Hi(g,O=Hf(R))?!h||!h.includes(O)?i[O]=D:(w||(w={}))[O]=D:UF(t.emitsOptions,R)||(!(R in u)||D!==u[R])&&(u[R]=D,x=!0)}if(h){const R=Ns(i),D=w||Ca;for(let O=0;O<h.length;O++){const M=h[O];i[M]=MU(g,R,M,D[M],t,!Hi(D,M))}}return x}function MU(t,r,i,u,g,h){const x=t[i];if(x!=null){const w=Hi(x,"default");if(w&&u===void 0){const R=x.default;if(x.type!==Function&&!x.skipFactory&&Xs(R)){const{propsDefaults:D}=g;if(i in D)u=D[i];else{const O=gI(g);u=D[i]=R.call(null,r),O()}}else u=R;g.ce&&g.ce._setProp(i,u)}x[0]&&(h&&!w?u=!1:x[1]&&(u===""||u===XC(i))&&(u=!0))}return u}const Ufe=new WeakMap;function $J(t,r,i=!1){const u=i?Ufe:r.propsCache,g=u.get(t);if(g)return g;const h=t.props,x={},w=[];let R=!1;if(!Xs(t)){const O=M=>{R=!0;const[H,K]=$J(M,r,!0);Qc(x,H),K&&w.push(...K)};!i&&r.mixins.length&&r.mixins.forEach(O),t.extends&&O(t.extends),t.mixins&&t.mixins.forEach(O)}if(!h&&!R)return ia(t)&&u.set(t,yE),yE;if(As(h))for(let O=0;O<h.length;O++){const M=Hf(h[O]);YG(M)&&(x[M]=Ca)}else if(h)for(const O in h){const M=Hf(O);if(YG(M)){const H=h[O],K=x[M]=As(H)||Xs(H)?{type:H}:Qc({},H),Z=K.type;let Q=!1,re=!0;if(As(Z))for(let U=0;U<Z.length;++U){const ge=Z[U],de=Xs(ge)&&ge.name;if(de==="Boolean"){Q=!0;break}else de==="String"&&(re=!1)}else Q=Xs(Z)&&Z.name==="Boolean";K[0]=Q,K[1]=re,(Q||Hi(K,"default"))&&w.push(M)}}const D=[x,w];return ia(t)&&u.set(t,D),D}function YG(t){return t[0]!=="$"&&!SR(t)}const LW=t=>t[0]==="_"||t==="$stable",BW=t=>As(t)?t.map(Av):[Av(t)],Wfe=(t,r,i)=>{if(r._n)return r;const u=xt((...g)=>BW(r(...g)),i);return u._c=!1,u},VJ=(t,r,i)=>{const u=t._ctx;for(const g in t){if(LW(g))continue;const h=t[g];if(Xs(h))r[g]=Wfe(g,h,u);else if(h!=null){const x=BW(h);r[g]=()=>x}}},zJ=(t,r)=>{const i=BW(r);t.slots.default=()=>i},HJ=(t,r,i)=>{for(const u in r)(i||!LW(u))&&(t[u]=r[u])},Kfe=(t,r,i)=>{const u=t.slots=LJ();if(t.vnode.shapeFlag&32){const g=r.__;g&&EU(u,"__",g,!0);const h=r._;h?(HJ(u,r,i),i&&EU(u,"_",h,!0)):VJ(r,u)}else r&&zJ(t,r)},jfe=(t,r,i)=>{const{vnode:u,slots:g}=t;let h=!0,x=Ca;if(u.shapeFlag&32){const w=r._;w?i&&w===1?h=!1:HJ(g,r,i):(h=!r.$stable,VJ(r,g)),x=r}else r&&(zJ(t,r),x={default:1});if(h)for(const w in g)!LW(w)&&x[w]==null&&delete g[w]},Ff=ime;function Zfe(t){return Gfe(t)}function Gfe(t,r){const i=MF();i.__VUE__=!0;const{insert:u,remove:g,patchProp:h,createElement:x,createText:w,createComment:R,setText:D,setElementText:O,parentNode:M,nextSibling:H,setScopeId:K=Rv,insertStaticContent:Z}=t,Q=(qe,it,Se,Me=null,Ke=null,xe=null,Re=void 0,Fe=null,Je=!!it.dynamicChildren)=>{if(qe===it)return;qe&&!$C(qe,it)&&(Me=Jt(qe),Ve(qe,Ke,xe,!0),qe=null),it.patchFlag===-2&&(Je=!1,it.dynamicChildren=null);const{type:wt,ref:pn,shapeFlag:Qt}=it;switch(wt){case mI:re(qe,it,Se,Me);break;case Vd:U(qe,it,Se,Me);break;case $9:qe==null&&ge(it,Se,Me,Re);break;case ms:Te(qe,it,Se,Me,Ke,xe,Re,Fe,Je);break;default:Qt&1?he(qe,it,Se,Me,Ke,xe,Re,Fe,Je):Qt&6?I(qe,it,Se,Me,Ke,xe,Re,Fe,Je):(Qt&64||Qt&128)&&wt.process(qe,it,Se,Me,Ke,xe,Re,Fe,Je,nn)}pn!=null&&Ke?TR(pn,qe&&qe.ref,xe,it||qe,!it):pn==null&&qe&&qe.ref!=null&&TR(qe.ref,null,xe,qe,!0)},re=(qe,it,Se,Me)=>{if(qe==null)u(it.el=w(it.children),Se,Me);else{const Ke=it.el=qe.el;it.children!==qe.children&&D(Ke,it.children)}},U=(qe,it,Se,Me)=>{qe==null?u(it.el=R(it.children||""),Se,Me):it.el=qe.el},ge=(qe,it,Se,Me)=>{[qe.el,qe.anchor]=Z(qe.children,it,Se,Me,qe.el,qe.anchor)},de=({el:qe,anchor:it},Se,Me)=>{let Ke;for(;qe&&qe!==it;)Ke=H(qe),u(qe,Se,Me),qe=Ke;u(it,Se,Me)},q=({el:qe,anchor:it})=>{let Se;for(;qe&&qe!==it;)Se=H(qe),g(qe),qe=Se;g(it)},he=(qe,it,Se,Me,Ke,xe,Re,Fe,Je)=>{it.type==="svg"?Re="svg":it.type==="math"&&(Re="mathml"),qe==null?oe(it,Se,Me,Ke,xe,Re,Fe,Je):Qe(qe,it,Ke,xe,Re,Fe,Je)},oe=(qe,it,Se,Me,Ke,xe,Re,Fe)=>{let Je,wt;const{props:pn,shapeFlag:Qt,transition:An,dirs:no}=qe;if(Je=qe.el=x(qe.type,xe,pn&&pn.is,pn),Qt&8?O(Je,qe.children):Qt&16&&Ue(qe.children,Je,null,Me,Ke,F9(qe,xe),Re,Fe),no&&IC(qe,null,Me,"created"),_e(Je,qe,qe.scopeId,Re,Me),pn){for(const Jo in pn)Jo!=="value"&&!SR(Jo)&&h(Je,Jo,null,pn[Jo],xe,Me);"value"in pn&&h(Je,"value",null,pn.value,xe),(wt=pn.onVnodeBeforeMount)&&wv(wt,Me,qe)}no&&IC(qe,null,Me,"beforeMount");const co=qfe(Ke,An);co&&An.beforeEnter(Je),u(Je,it,Se),((wt=pn&&pn.onVnodeMounted)||co||no)&&Ff(()=>{wt&&wv(wt,Me,qe),co&&An.enter(Je),no&&IC(qe,null,Me,"mounted")},Ke)},_e=(qe,it,Se,Me,Ke)=>{if(Se&&K(qe,Se),Me)for(let xe=0;xe<Me.length;xe++)K(qe,Me[xe]);if(Ke){let xe=Ke.subTree;if(it===xe||jJ(xe.type)&&(xe.ssContent===it||xe.ssFallback===it)){const Re=Ke.vnode;_e(qe,Re,Re.scopeId,Re.slotScopeIds,Ke.parent)}}},Ue=(qe,it,Se,Me,Ke,xe,Re,Fe,Je=0)=>{for(let wt=Je;wt<qe.length;wt++){const pn=qe[wt]=Fe?Lx(qe[wt]):Av(qe[wt]);Q(null,pn,it,Se,Me,Ke,xe,Re,Fe)}},Qe=(qe,it,Se,Me,Ke,xe,Re)=>{const Fe=it.el=qe.el;let{patchFlag:Je,dynamicChildren:wt,dirs:pn}=it;Je|=qe.patchFlag&16;const Qt=qe.props||Ca,An=it.props||Ca;let no;if(Se&&DC(Se,!1),(no=An.onVnodeBeforeUpdate)&&wv(no,Se,it,qe),pn&&IC(it,qe,Se,"beforeUpdate"),Se&&DC(Se,!0),(Qt.innerHTML&&An.innerHTML==null||Qt.textContent&&An.textContent==null)&&O(Fe,""),wt?ct(qe.dynamicChildren,wt,Fe,Se,Me,F9(it,Ke),xe):Re||ft(qe,it,Fe,null,Se,Me,F9(it,Ke),xe,!1),Je>0){if(Je&16)Ce(Fe,Qt,An,Se,Ke);else if(Je&2&&Qt.class!==An.class&&h(Fe,"class",null,An.class,Ke),Je&4&&h(Fe,"style",Qt.style,An.style,Ke),Je&8){const co=it.dynamicProps;for(let Jo=0;Jo<co.length;Jo++){const Ho=co[Jo],sr=Qt[Ho],Cs=An[Ho];(Cs!==sr||Ho==="value")&&h(Fe,Ho,sr,Cs,Ke,Se)}}Je&1&&qe.children!==it.children&&O(Fe,it.children)}else!Re&&wt==null&&Ce(Fe,Qt,An,Se,Ke);((no=An.onVnodeUpdated)||pn)&&Ff(()=>{no&&wv(no,Se,it,qe),pn&&IC(it,qe,Se,"updated")},Me)},ct=(qe,it,Se,Me,Ke,xe,Re)=>{for(let Fe=0;Fe<it.length;Fe++){const Je=qe[Fe],wt=it[Fe],pn=Je.el&&(Je.type===ms||!$C(Je,wt)||Je.shapeFlag&198)?M(Je.el):Se;Q(Je,wt,pn,null,Me,Ke,xe,Re,!0)}},Ce=(qe,it,Se,Me,Ke)=>{if(it!==Se){if(it!==Ca)for(const xe in it)!SR(xe)&&!(xe in Se)&&h(qe,xe,it[xe],null,Ke,Me);for(const xe in Se){if(SR(xe))continue;const Re=Se[xe],Fe=it[xe];Re!==Fe&&xe!=="value"&&h(qe,xe,Fe,Re,Ke,Me)}"value"in Se&&h(qe,"value",it.value,Se.value,Ke)}},Te=(qe,it,Se,Me,Ke,xe,Re,Fe,Je)=>{const wt=it.el=qe?qe.el:w(""),pn=it.anchor=qe?qe.anchor:w("");let{patchFlag:Qt,dynamicChildren:An,slotScopeIds:no}=it;no&&(Fe=Fe?Fe.concat(no):no),qe==null?(u(wt,Se,Me),u(pn,Se,Me),Ue(it.children||[],Se,pn,Ke,xe,Re,Fe,Je)):Qt>0&&Qt&64&&An&&qe.dynamicChildren?(ct(qe.dynamicChildren,An,Se,Ke,xe,Re,Fe),(it.key!=null||Ke&&it===Ke.subTree)&&FW(qe,it,!0)):ft(qe,it,Se,pn,Ke,xe,Re,Fe,Je)},I=(qe,it,Se,Me,Ke,xe,Re,Fe,Je)=>{it.slotScopeIds=Fe,qe==null?it.shapeFlag&512?Ke.ctx.activate(it,Se,Me,Re,Je):dt(it,Se,Me,Ke,xe,Re,Je):gt(qe,it,Je)},dt=(qe,it,Se,Me,Ke,xe,Re)=>{const Fe=qe.component=fme(qe,Me,Ke);if(VF(qe)&&(Fe.ctx.renderer=nn),mme(Fe,!1,Re),Fe.asyncDep){if(Ke&&Ke.registerDep(Fe,Ft,Re),!qe.el){const Je=Fe.subTree=ce(Vd);U(null,Je,it,Se)}}else Ft(Fe,qe,it,Se,Ke,xe,Re)},gt=(qe,it,Se)=>{const Me=it.component=qe.component;if(sme(qe,it,Se))if(Me.asyncDep&&!Me.asyncResolved){en(Me,it,Se);return}else Me.next=it,Me.update();else it.el=qe.el,Me.vnode=it},Ft=(qe,it,Se,Me,Ke,xe,Re)=>{const Fe=()=>{if(qe.isMounted){let{next:Qt,bu:An,u:no,parent:co,vnode:Jo}=qe;{const xs=UJ(qe);if(xs){Qt&&(Qt.el=Jo.el,en(qe,Qt,Re)),xs.asyncDep.then(()=>{qe.isUnmounted||Fe()});return}}let Ho=Qt,sr;DC(qe,!1),Qt?(Qt.el=Jo.el,en(qe,Qt,Re)):Qt=Jo,An&&$6(An),(sr=Qt.props&&Qt.props.onVnodeBeforeUpdate)&&wv(sr,co,Qt,Jo),DC(qe,!0);const Cs=JG(qe),ri=qe.subTree;qe.subTree=Cs,Q(ri,Cs,M(ri.el),Jt(ri),qe,Ke,xe),Qt.el=Cs.el,Ho===null&&rme(qe,Cs.el),no&&Ff(no,Ke),(sr=Qt.props&&Qt.props.onVnodeUpdated)&&Ff(()=>wv(sr,co,Qt,Jo),Ke)}else{let Qt;const{el:An,props:no}=it,{bm:co,m:Jo,parent:Ho,root:sr,type:Cs}=qe,ri=AR(it);DC(qe,!1),co&&$6(co),!ri&&(Qt=no&&no.onVnodeBeforeMount)&&wv(Qt,Ho,it),DC(qe,!0);{sr.ce&&sr.ce._def.shadowRoot!==!1&&sr.ce._injectChildStyle(Cs);const xs=qe.subTree=JG(qe);Q(null,xs,Se,Me,qe,Ke,xe),it.el=xs.el}if(Jo&&Ff(Jo,Ke),!ri&&(Qt=no&&no.onVnodeMounted)){const xs=it;Ff(()=>wv(Qt,Ho,xs),Ke)}(it.shapeFlag&256||Ho&&AR(Ho.vnode)&&Ho.vnode.shapeFlag&256)&&qe.a&&Ff(qe.a,Ke),qe.isMounted=!0,it=Se=Me=null}};qe.scope.on();const Je=qe.effect=new XX(Fe);qe.scope.off();const wt=qe.update=Je.run.bind(Je),pn=qe.job=Je.runIfDirty.bind(Je);pn.i=qe,pn.id=qe.uid,Je.scheduler=()=>DW(pn),DC(qe,!0),wt()},en=(qe,it,Se)=>{it.component=qe;const Me=qe.vnode.props;qe.vnode=it,qe.next=null,Hfe(qe,it.props,Me,Se),jfe(qe,it.children,Se),P1(),VG(qe),N1()},ft=(qe,it,Se,Me,Ke,xe,Re,Fe,Je=!1)=>{const wt=qe&&qe.children,pn=qe?qe.shapeFlag:0,Qt=it.children,{patchFlag:An,shapeFlag:no}=it;if(An>0){if(An&128){Ot(wt,Qt,Se,Me,Ke,xe,Re,Fe,Je);return}else if(An&256){Rn(wt,Qt,Se,Me,Ke,xe,Re,Fe,Je);return}}no&8?(pn&16&&Bn(wt,Ke,xe),Qt!==wt&&O(Se,Qt)):pn&16?no&16?Ot(wt,Qt,Se,Me,Ke,xe,Re,Fe,Je):Bn(wt,Ke,xe,!0):(pn&8&&O(Se,""),no&16&&Ue(Qt,Se,Me,Ke,xe,Re,Fe,Je))},Rn=(qe,it,Se,Me,Ke,xe,Re,Fe,Je)=>{qe=qe||yE,it=it||yE;const wt=qe.length,pn=it.length,Qt=Math.min(wt,pn);let An;for(An=0;An<Qt;An++){const no=it[An]=Je?Lx(it[An]):Av(it[An]);Q(qe[An],no,Se,null,Ke,xe,Re,Fe,Je)}wt>pn?Bn(qe,Ke,xe,!0,!1,Qt):Ue(it,Se,Me,Ke,xe,Re,Fe,Je,Qt)},Ot=(qe,it,Se,Me,Ke,xe,Re,Fe,Je)=>{let wt=0;const pn=it.length;let Qt=qe.length-1,An=pn-1;for(;wt<=Qt&&wt<=An;){const no=qe[wt],co=it[wt]=Je?Lx(it[wt]):Av(it[wt]);if($C(no,co))Q(no,co,Se,null,Ke,xe,Re,Fe,Je);else break;wt++}for(;wt<=Qt&&wt<=An;){const no=qe[Qt],co=it[An]=Je?Lx(it[An]):Av(it[An]);if($C(no,co))Q(no,co,Se,null,Ke,xe,Re,Fe,Je);else break;Qt--,An--}if(wt>Qt){if(wt<=An){const no=An+1,co=no<pn?it[no].el:Me;for(;wt<=An;)Q(null,it[wt]=Je?Lx(it[wt]):Av(it[wt]),Se,co,Ke,xe,Re,Fe,Je),wt++}}else if(wt>An)for(;wt<=Qt;)Ve(qe[wt],Ke,xe,!0),wt++;else{const no=wt,co=wt,Jo=new Map;for(wt=co;wt<=An;wt++){const uo=it[wt]=Je?Lx(it[wt]):Av(it[wt]);uo.key!=null&&Jo.set(uo.key,wt)}let Ho,sr=0;const Cs=An-co+1;let ri=!1,xs=0;const aa=new Array(Cs);for(wt=0;wt<Cs;wt++)aa[wt]=0;for(wt=no;wt<=Qt;wt++){const uo=qe[wt];if(sr>=Cs){Ve(uo,Ke,xe,!0);continue}let $o;if(uo.key!=null)$o=Jo.get(uo.key);else for(Ho=co;Ho<=An;Ho++)if(aa[Ho-co]===0&&$C(uo,it[Ho])){$o=Ho;break}$o===void 0?Ve(uo,Ke,xe,!0):(aa[$o-co]=wt+1,$o>=xs?xs=$o:ri=!0,Q(uo,it[$o],Se,null,Ke,xe,Re,Fe,Je),sr++)}const cn=ri?Yfe(aa):yE;for(Ho=cn.length-1,wt=Cs-1;wt>=0;wt--){const uo=co+wt,$o=it[uo],mi=uo+1<pn?it[uo+1].el:Me;aa[wt]===0?Q(null,$o,Se,mi,Ke,xe,Re,Fe,Je):ri&&(Ho<0||wt!==cn[Ho]?rt($o,Se,mi,2):Ho--)}}},rt=(qe,it,Se,Me,Ke=null)=>{const{el:xe,type:Re,transition:Fe,children:Je,shapeFlag:wt}=qe;if(wt&6){rt(qe.component.subTree,it,Se,Me);return}if(wt&128){qe.suspense.move(it,Se,Me);return}if(wt&64){Re.move(qe,it,Se,nn);return}if(Re===ms){u(xe,it,Se);for(let Qt=0;Qt<Je.length;Qt++)rt(Je[Qt],it,Se,Me);u(qe.anchor,it,Se);return}if(Re===$9){de(qe,it,Se);return}if(Me!==2&&wt&1&&Fe)if(Me===0)Fe.beforeEnter(xe),u(xe,it,Se),Ff(()=>Fe.enter(xe),Ke);else{const{leave:Qt,delayLeave:An,afterLeave:no}=Fe,co=()=>{qe.ctx.isUnmounted?g(xe):u(xe,it,Se)},Jo=()=>{Qt(xe,()=>{co(),no&&no()})};An?An(xe,co,Jo):Jo()}else u(xe,it,Se)},Ve=(qe,it,Se,Me=!1,Ke=!1)=>{const{type:xe,props:Re,ref:Fe,children:Je,dynamicChildren:wt,shapeFlag:pn,patchFlag:Qt,dirs:An,cacheIndex:no}=qe;if(Qt===-2&&(Ke=!1),Fe!=null&&(P1(),TR(Fe,null,Se,qe,!0),N1()),no!=null&&(it.renderCache[no]=void 0),pn&256){it.ctx.deactivate(qe);return}const co=pn&1&&An,Jo=!AR(qe);let Ho;if(Jo&&(Ho=Re&&Re.onVnodeBeforeUnmount)&&wv(Ho,it,qe),pn&6)Yt(qe.component,Se,Me);else{if(pn&128){qe.suspense.unmount(Se,Me);return}co&&IC(qe,null,it,"beforeUnmount"),pn&64?qe.type.remove(qe,it,Se,nn,Me):wt&&!wt.hasOnce&&(xe!==ms||Qt>0&&Qt&64)?Bn(wt,it,Se,!1,!0):(xe===ms&&Qt&384||!Ke&&pn&16)&&Bn(Je,it,Se),Me&&bt(qe)}(Jo&&(Ho=Re&&Re.onVnodeUnmounted)||co)&&Ff(()=>{Ho&&wv(Ho,it,qe),co&&IC(qe,null,it,"unmounted")},Se)},bt=qe=>{const{type:it,el:Se,anchor:Me,transition:Ke}=qe;if(it===ms){Yn(Se,Me);return}if(it===$9){q(qe);return}const xe=()=>{g(Se),Ke&&!Ke.persisted&&Ke.afterLeave&&Ke.afterLeave()};if(qe.shapeFlag&1&&Ke&&!Ke.persisted){const{leave:Re,delayLeave:Fe}=Ke,Je=()=>Re(Se,xe);Fe?Fe(qe.el,xe,Je):Je()}else xe()},Yn=(qe,it)=>{let Se;for(;qe!==it;)Se=H(qe),g(qe),qe=Se;g(it)},Yt=(qe,it,Se)=>{const{bum:Me,scope:Ke,job:xe,subTree:Re,um:Fe,m:Je,a:wt,parent:pn,slots:{__:Qt}}=qe;XG(Je),XG(wt),Me&&$6(Me),pn&&As(Qt)&&Qt.forEach(An=>{pn.renderCache[An]=void 0}),Ke.stop(),xe&&(xe.flags|=8,Ve(Re,qe,it,Se)),Fe&&Ff(Fe,it),Ff(()=>{qe.isUnmounted=!0},it),it&&it.pendingBranch&&!it.isUnmounted&&qe.asyncDep&&!qe.asyncResolved&&qe.suspenseId===it.pendingId&&(it.deps--,it.deps===0&&it.resolve())},Bn=(qe,it,Se,Me=!1,Ke=!1,xe=0)=>{for(let Re=xe;Re<qe.length;Re++)Ve(qe[Re],it,Se,Me,Ke)},Jt=qe=>{if(qe.shapeFlag&6)return Jt(qe.component.subTree);if(qe.shapeFlag&128)return qe.suspense.next();const it=H(qe.anchor||qe.el),Se=it&&it[yJ];return Se?H(Se):it};let te=!1;const vo=(qe,it,Se)=>{qe==null?it._vnode&&Ve(it._vnode,null,null,!0):Q(it._vnode||null,qe,it,null,null,null,Se),it._vnode=qe,te||(te=!0,VG(),pJ(),te=!1)},nn={p:Q,um:Ve,m:rt,r:bt,mt:dt,mc:Ue,pc:ft,pbc:ct,n:Jt,o:t};return{render:vo,hydrate:void 0,createApp:$fe(vo)}}function F9({type:t,props:r},i){return i==="svg"&&t==="foreignObject"||i==="mathml"&&t==="annotation-xml"&&r&&r.encoding&&r.encoding.includes("html")?void 0:i}function DC({effect:t,job:r},i){i?(t.flags|=32,r.flags|=4):(t.flags&=-33,r.flags&=-5)}function qfe(t,r){return(!t||t&&!t.pendingBranch)&&r&&!r.persisted}function FW(t,r,i=!1){const u=t.children,g=r.children;if(As(u)&&As(g))for(let h=0;h<u.length;h++){const x=u[h];let w=g[h];w.shapeFlag&1&&!w.dynamicChildren&&((w.patchFlag<=0||w.patchFlag===32)&&(w=g[h]=Lx(g[h]),w.el=x.el),!i&&w.patchFlag!==-2&&FW(x,w)),w.type===mI&&(w.el=x.el),w.type===Vd&&!w.el&&(w.el=x.el)}}function Yfe(t){const r=t.slice(),i=[0];let u,g,h,x,w;const R=t.length;for(u=0;u<R;u++){const D=t[u];if(D!==0){if(g=i[i.length-1],t[g]<D){r[u]=g,i.push(u);continue}for(h=0,x=i.length-1;h<x;)w=h+x>>1,t[i[w]]<D?h=w+1:x=w;D<t[i[h]]&&(h>0&&(r[u]=i[h-1]),i[h]=u)}}for(h=i.length,x=i[h-1];h-- >0;)i[h]=x,x=r[x];return i}function UJ(t){const r=t.subTree.component;if(r)return r.asyncDep&&!r.asyncResolved?r:UJ(r)}function XG(t){if(t)for(let r=0;r<t.length;r++)t[r].flags|=8}const Xfe=Symbol.for("v-scx"),Jfe=()=>ka(Xfe);function Uf(t,r){return $W(t,null,r)}function Fn(t,r,i){return $W(t,r,i)}function $W(t,r,i=Ca){const{immediate:u,deep:g,flush:h,once:x}=i,w=Qc({},i),R=r&&u||!r&&h!=="post";let D;if(HR){if(h==="sync"){const K=Jfe();D=K.__watcherHandles||(K.__watcherHandles=[])}else if(!R){const K=()=>{};return K.stop=Rv,K.resume=Rv,K.pause=Rv,K}}const O=Ou;w.call=(K,Z,Q)=>mb(K,O,Z,Q);let M=!1;h==="post"?w.scheduler=K=>{Ff(K,O&&O.suspense)}:h!=="sync"&&(M=!0,w.scheduler=(K,Z)=>{Z?K():DW(K)}),w.augmentJob=K=>{r&&(K.flags|=4),M&&(K.flags|=2,O&&(K.id=O.uid,K.i=O))};const H=gfe(t,r,w);return HR&&(D?D.push(H):R&&H()),H}function Qfe(t,r,i){const u=this.proxy,g=Ul(t)?t.includes(".")?WJ(u,t):()=>u[t]:t.bind(u,u);let h;Xs(r)?h=r:(h=r.handler,i=r);const x=gI(this),w=$W(g,h.bind(u),i);return x(),w}function WJ(t,r){const i=r.split(".");return()=>{let u=t;for(let g=0;g<i.length&&u;g++)u=u[i[g]];return u}}const eme=(t,r)=>r==="modelValue"||r==="model-value"?t.modelModifiers:t[`${r}Modifiers`]||t[`${Hf(r)}Modifiers`]||t[`${XC(r)}Modifiers`];function tme(t,r,...i){if(t.isUnmounted)return;const u=t.vnode.props||Ca;let g=i;const h=r.startsWith("update:"),x=h&&eme(u,r.slice(7));x&&(x.trim&&(g=i.map(O=>Ul(O)?O.trim():O)),x.number&&(g=i.map(TU)));let w,R=u[w=I9(r)]||u[w=I9(Hf(r))];!R&&h&&(R=u[w=I9(XC(r))]),R&&mb(R,t,6,g);const D=u[w+"Once"];if(D){if(!t.emitted)t.emitted={};else if(t.emitted[w])return;t.emitted[w]=!0,mb(D,t,6,g)}}function KJ(t,r,i=!1){const u=r.emitsCache,g=u.get(t);if(g!==void 0)return g;const h=t.emits;let x={},w=!1;if(!Xs(t)){const R=D=>{const O=KJ(D,r,!0);O&&(w=!0,Qc(x,O))};!i&&r.mixins.length&&r.mixins.forEach(R),t.extends&&R(t.extends),t.mixins&&t.mixins.forEach(R)}return!h&&!w?(ia(t)&&u.set(t,null),null):(As(h)?h.forEach(R=>x[R]=null):Qc(x,h),ia(t)&&u.set(t,x),x)}function UF(t,r){return!t||!DF(r)?!1:(r=r.slice(2).replace(/Once$/,""),Hi(t,r[0].toLowerCase()+r.slice(1))||Hi(t,XC(r))||Hi(t,r))}function JG(t){const{type:r,vnode:i,proxy:u,withProxy:g,propsOptions:[h],slots:x,attrs:w,emit:R,render:D,renderCache:O,props:M,data:H,setupState:K,ctx:Z,inheritAttrs:Q}=t,re=sF(t);let U,ge;try{if(i.shapeFlag&4){const q=g||u,he=q;U=Av(D.call(he,q,O,M,K,H,Z)),ge=w}else{const q=r;U=Av(q.length>1?q(M,{attrs:w,slots:x,emit:R}):q(M,null)),ge=r.props?w:nme(w)}}catch(q){RR.length=0,$F(q,t,1),U=ce(Vd)}let de=U;if(ge&&Q!==!1){const q=Object.keys(ge),{shapeFlag:he}=de;q.length&&he&7&&(h&&q.some(xW)&&(ge=ome(ge,h)),de=L1(de,ge,!1,!0))}return i.dirs&&(de=L1(de,null,!1,!0),de.dirs=de.dirs?de.dirs.concat(i.dirs):i.dirs),i.transition&&GC(de,i.transition),U=de,sF(re),U}const nme=t=>{let r;for(const i in t)(i==="class"||i==="style"||DF(i))&&((r||(r={}))[i]=t[i]);return r},ome=(t,r)=>{const i={};for(const u in t)(!xW(u)||!(u.slice(9)in r))&&(i[u]=t[u]);return i};function sme(t,r,i){const{props:u,children:g,component:h}=t,{props:x,children:w,patchFlag:R}=r,D=h.emitsOptions;if(r.dirs||r.transition)return!0;if(i&&R>=0){if(R&1024)return!0;if(R&16)return u?QG(u,x,D):!!x;if(R&8){const O=r.dynamicProps;for(let M=0;M<O.length;M++){const H=O[M];if(x[H]!==u[H]&&!UF(D,H))return!0}}}else return(g||w)&&(!w||!w.$stable)?!0:u===x?!1:u?x?QG(u,x,D):!0:!!x;return!1}function QG(t,r,i){const u=Object.keys(r);if(u.length!==Object.keys(t).length)return!0;for(let g=0;g<u.length;g++){const h=u[g];if(r[h]!==t[h]&&!UF(i,h))return!0}return!1}function rme({vnode:t,parent:r},i){for(;r;){const u=r.subTree;if(u.suspense&&u.suspense.activeBranch===t&&(u.el=t.el),u===t)(t=r.vnode).el=i,r=r.parent;else break}}const jJ=t=>t.__isSuspense;function ime(t,r){r&&r.pendingBranch?As(t)?r.effects.push(...t):r.effects.push(t):bfe(t)}const ms=Symbol.for("v-fgt"),mI=Symbol.for("v-txt"),Vd=Symbol.for("v-cmt"),$9=Symbol.for("v-stc"),RR=[];let Pg=null;function Xt(t=!1){RR.push(Pg=t?null:[])}function ame(){RR.pop(),Pg=RR[RR.length-1]||null}let VR=1;function eq(t,r=!1){VR+=t,t<0&&Pg&&r&&(Pg.hasOnce=!0)}function ZJ(t){return t.dynamicChildren=VR>0?Pg||yE:null,ame(),VR>0&&Pg&&Pg.push(t),t}function mo(t,r,i,u,g,h){return ZJ(ie(t,r,i,u,g,h,!0))}function Yo(t,r,i,u,g){return ZJ(ce(t,r,i,u,g,!0))}function zR(t){return t?t.__v_isVNode===!0:!1}function $C(t,r){return t.type===r.type&&t.key===r.key}const GJ=({key:t})=>t??null,z6=({ref:t,ref_key:r,ref_for:i})=>(typeof t=="number"&&(t=""+t),t!=null?Ul(t)||Ha(t)||Xs(t)?{i:zf,r:t,k:r,f:!!i}:t:null);function ie(t,r=null,i=null,u=0,g=null,h=t===ms?0:1,x=!1,w=!1){const R={__v_isVNode:!0,__v_skip:!0,type:t,props:r,key:r&&GJ(r),ref:r&&z6(r),scopeId:vJ,slotScopeIds:null,children:i,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:h,patchFlag:u,dynamicProps:g,dynamicChildren:null,appContext:null,ctx:zf};return w?(VW(R,i),h&128&&t.normalize(R)):i&&(R.shapeFlag|=Ul(i)?8:16),VR>0&&!x&&Pg&&(R.patchFlag>0||h&6)&&R.patchFlag!==32&&Pg.push(R),R}const ce=lme;function lme(t,r=null,i=null,u=0,g=null,h=!1){if((!t||t===Ofe)&&(t=Vd),zR(t)){const w=L1(t,r,!0);return i&&VW(w,i),VR>0&&!h&&Pg&&(w.shapeFlag&6?Pg[Pg.indexOf(t)]=w:Pg.push(w)),w.patchFlag=-2,w}if(vme(t)&&(t=t.__vccOpts),r){r=cme(r);let{class:w,style:R}=r;w&&!Ul(w)&&(r.class=xo(w)),ia(R)&&(RW(R)&&!As(R)&&(R=Qc({},R)),r.style=Qs(R))}const x=Ul(t)?1:jJ(t)?128:xJ(t)?64:ia(t)?4:Xs(t)?2:0;return ie(t,r,i,u,g,x,h,!0)}function cme(t){return t?RW(t)||BJ(t)?Qc({},t):t:null}function L1(t,r,i=!1,u=!1){const{props:g,ref:h,patchFlag:x,children:w,transition:R}=t,D=r?Xo(g||{},r):g,O={__v_isVNode:!0,__v_skip:!0,type:t.type,props:D,key:D&&GJ(D),ref:r&&r.ref?i&&h?As(h)?h.concat(z6(r)):[h,z6(r)]:z6(r):h,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:w,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:r&&t.type!==ms?x===-1?16:x|16:x,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:R,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&L1(t.ssContent),ssFallback:t.ssFallback&&L1(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return R&&u&&GC(O,R.clone(O)),O}function Ts(t=" ",r=0){return ce(mI,null,t,r)}function Jn(t="",r=!1){return r?(Xt(),Yo(Vd,null,t)):ce(Vd,null,t)}function Av(t){return t==null||typeof t=="boolean"?ce(Vd):As(t)?ce(ms,null,t.slice()):zR(t)?Lx(t):ce(mI,null,String(t))}function Lx(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:L1(t)}function VW(t,r){let i=0;const{shapeFlag:u}=t;if(r==null)r=null;else if(As(r))i=16;else if(typeof r=="object")if(u&65){const g=r.default;g&&(g._c&&(g._d=!1),VW(t,g()),g._c&&(g._d=!0));return}else{i=32;const g=r._;!g&&!BJ(r)?r._ctx=zf:g===3&&zf&&(zf.slots._===1?r._=1:(r._=2,t.patchFlag|=1024))}else Xs(r)?(r={default:r,_ctx:zf},i=32):(r=String(r),u&64?(i=16,r=[Ts(r)]):i=8);t.children=r,t.shapeFlag|=i}function Xo(...t){const r={};for(let i=0;i<t.length;i++){const u=t[i];for(const g in u)if(g==="class")r.class!==u.class&&(r.class=xo([r.class,u.class]));else if(g==="style")r.style=Qs([r.style,u.style]);else if(DF(g)){const h=r[g],x=u[g];x&&h!==x&&!(As(h)&&h.includes(x))&&(r[g]=h?[].concat(h,x):x)}else g!==""&&(r[g]=u[g])}return r}function wv(t,r,i,u=null){mb(t,r,7,[i,u])}const ume=NJ();let dme=0;function fme(t,r,i){const u=t.type,g=(r?r.appContext:t.appContext)||ume,h={uid:dme++,vnode:t,type:u,parent:r,appContext:g,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new YX(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:r?r.provides:Object.create(g.provides),ids:r?r.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:$J(u,g),emitsOptions:KJ(u,g),emit:null,emitted:null,propsDefaults:Ca,inheritAttrs:u.inheritAttrs,ctx:Ca,data:Ca,props:Ca,attrs:Ca,slots:Ca,refs:Ca,setupState:Ca,setupContext:null,suspense:i,suspenseId:i?i.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return h.ctx={_:h},h.root=r?r.root:h,h.emit=tme.bind(null,h),t.ce&&t.ce(h),h}let Ou=null;const $E=()=>Ou||zf;let iF,LU;{const t=MF(),r=(i,u)=>{let g;return(g=t[i])||(g=t[i]=[]),g.push(u),h=>{g.length>1?g.forEach(x=>x(h)):g[0](h)}};iF=r("__VUE_INSTANCE_SETTERS__",i=>Ou=i),LU=r("__VUE_SSR_SETTERS__",i=>HR=i)}const gI=t=>{const r=Ou;return iF(t),t.scope.on(),()=>{t.scope.off(),iF(r)}},tq=()=>{Ou&&Ou.scope.off(),iF(null)};function qJ(t){return t.vnode.shapeFlag&4}let HR=!1;function mme(t,r=!1,i=!1){r&&LU(r);const{props:u,children:g}=t.vnode,h=qJ(t);zfe(t,u,h,r),Kfe(t,g,i||r);const x=h?gme(t,r):void 0;return r&&LU(!1),x}function gme(t,r){const i=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,Dfe);const{setup:u}=i;if(u){P1();const g=t.setupContext=u.length>1?pme(t):null,h=gI(t),x=dI(u,t,0,[t.props,g]),w=UX(x);if(N1(),h(),(w||t.sp)&&!AR(t)&&OJ(t),w){if(x.then(tq,tq),r)return x.then(R=>{nq(t,R)}).catch(R=>{$F(R,t,0)});t.asyncDep=x}else nq(t,x)}else YJ(t)}function nq(t,r,i){Xs(r)?t.type.__ssrInlineRender?t.ssrRender=r:t.render=r:ia(r)&&(t.setupState=fJ(r)),YJ(t)}function YJ(t,r,i){const u=t.type;t.render||(t.render=u.render||Rv);{const g=gI(t);P1();try{Pfe(t)}finally{N1(),g()}}}const hme={get(t,r){return Fd(t,"get",""),t[r]}};function pme(t){const r=i=>{t.exposed=i||{}};return{attrs:new Proxy(t.attrs,hme),slots:t.slots,emit:t.emit,expose:r}}function WF(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(fJ(IW(t.exposed)),{get(r,i){if(i in r)return r[i];if(i in OR)return OR[i](t)},has(r,i){return i in r||i in OR}})):t.proxy}function bme(t,r=!0){return Xs(t)?t.displayName||t.name:t.name||r&&t.__name}function vme(t){return Xs(t)&&"__vccOpts"in t}const Mt=(t,r)=>ffe(t,r,HR);function Nv(t,r,i){const u=arguments.length;return u===2?ia(r)&&!As(r)?zR(r)?ce(t,null,[r]):ce(t,r):ce(t,null,r):(u>3?i=Array.prototype.slice.call(arguments,2):u===3&&zR(i)&&(i=[i]),ce(t,r,i))}const yme="3.5.17";/**
* @vue/runtime-dom v3.5.17
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let BU;const oq=typeof window<"u"&&window.trustedTypes;if(oq)try{BU=oq.createPolicy("vue",{createHTML:t=>t})}catch{}const XJ=BU?t=>BU.createHTML(t):t=>t,xme="http://www.w3.org/2000/svg",wme="http://www.w3.org/1998/Math/MathML",E1=typeof document<"u"?document:null,sq=E1&&E1.createElement("template"),Cme={insert:(t,r,i)=>{r.insertBefore(t,i||null)},remove:t=>{const r=t.parentNode;r&&r.removeChild(t)},createElement:(t,r,i,u)=>{const g=r==="svg"?E1.createElementNS(xme,t):r==="mathml"?E1.createElementNS(wme,t):i?E1.createElement(t,{is:i}):E1.createElement(t);return t==="select"&&u&&u.multiple!=null&&g.setAttribute("multiple",u.multiple),g},createText:t=>E1.createTextNode(t),createComment:t=>E1.createComment(t),setText:(t,r)=>{t.nodeValue=r},setElementText:(t,r)=>{t.textContent=r},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>E1.querySelector(t),setScopeId(t,r){t.setAttribute(r,"")},insertStaticContent(t,r,i,u,g,h){const x=i?i.previousSibling:r.lastChild;if(g&&(g===h||g.nextSibling))for(;r.insertBefore(g.cloneNode(!0),i),!(g===h||!(g=g.nextSibling)););else{sq.innerHTML=XJ(u==="svg"?`<svg>${t}</svg>`:u==="mathml"?`<math>${t}</math>`:t);const w=sq.content;if(u==="svg"||u==="mathml"){const R=w.firstChild;for(;R.firstChild;)w.appendChild(R.firstChild);w.removeChild(R)}r.insertBefore(w,i)}return[x?x.nextSibling:r.firstChild,i?i.previousSibling:r.lastChild]}},Ax="transition",hR="animation",EE=Symbol("_vtc"),JJ={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},QJ=Qc({},_J,JJ),Sme=t=>(t.displayName="Transition",t.props=QJ,t),Kx=Sme((t,{slots:r})=>Nv(wfe,eQ(t),r)),PC=(t,r=[])=>{As(t)?t.forEach(i=>i(...r)):t&&t(...r)},rq=t=>t?As(t)?t.some(r=>r.length>1):t.length>1:!1;function eQ(t){const r={};for(const Te in t)Te in JJ||(r[Te]=t[Te]);if(t.css===!1)return r;const{name:i="v",type:u,duration:g,enterFromClass:h=`${i}-enter-from`,enterActiveClass:x=`${i}-enter-active`,enterToClass:w=`${i}-enter-to`,appearFromClass:R=h,appearActiveClass:D=x,appearToClass:O=w,leaveFromClass:M=`${i}-leave-from`,leaveActiveClass:H=`${i}-leave-active`,leaveToClass:K=`${i}-leave-to`}=t,Z=_me(g),Q=Z&&Z[0],re=Z&&Z[1],{onBeforeEnter:U,onEnter:ge,onEnterCancelled:de,onLeave:q,onLeaveCancelled:he,onBeforeAppear:oe=U,onAppear:_e=ge,onAppearCancelled:Ue=de}=r,Qe=(Te,I,dt,gt)=>{Te._enterCancelled=gt,Dx(Te,I?O:w),Dx(Te,I?D:x),dt&&dt()},ct=(Te,I)=>{Te._isLeaving=!1,Dx(Te,M),Dx(Te,K),Dx(Te,H),I&&I()},Ce=Te=>(I,dt)=>{const gt=Te?_e:ge,Ft=()=>Qe(I,Te,dt);PC(gt,[I,Ft]),iq(()=>{Dx(I,Te?R:h),kv(I,Te?O:w),rq(gt)||aq(I,u,Q,Ft)})};return Qc(r,{onBeforeEnter(Te){PC(U,[Te]),kv(Te,h),kv(Te,x)},onBeforeAppear(Te){PC(oe,[Te]),kv(Te,R),kv(Te,D)},onEnter:Ce(!1),onAppear:Ce(!0),onLeave(Te,I){Te._isLeaving=!0;const dt=()=>ct(Te,I);kv(Te,M),Te._enterCancelled?(kv(Te,H),FU()):(FU(),kv(Te,H)),iq(()=>{Te._isLeaving&&(Dx(Te,M),kv(Te,K),rq(q)||aq(Te,u,re,dt))}),PC(q,[Te,dt])},onEnterCancelled(Te){Qe(Te,!1,void 0,!0),PC(de,[Te])},onAppearCancelled(Te){Qe(Te,!0,void 0,!0),PC(Ue,[Te])},onLeaveCancelled(Te){ct(Te),PC(he,[Te])}})}function _me(t){if(t==null)return null;if(ia(t))return[V9(t.enter),V9(t.leave)];{const r=V9(t);return[r,r]}}function V9(t){return Pde(t)}function kv(t,r){r.split(/\s+/).forEach(i=>i&&t.classList.add(i)),(t[EE]||(t[EE]=new Set)).add(r)}function Dx(t,r){r.split(/\s+/).forEach(u=>u&&t.classList.remove(u));const i=t[EE];i&&(i.delete(r),i.size||(t[EE]=void 0))}function iq(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let kme=0;function aq(t,r,i,u){const g=t._endId=++kme,h=()=>{g===t._endId&&u()};if(i!=null)return setTimeout(h,i);const{type:x,timeout:w,propCount:R}=tQ(t,r);if(!x)return u();const D=x+"end";let O=0;const M=()=>{t.removeEventListener(D,H),h()},H=K=>{K.target===t&&++O>=R&&M()};setTimeout(()=>{O<R&&M()},w+1),t.addEventListener(D,H)}function tQ(t,r){const i=window.getComputedStyle(t),u=Z=>(i[Z]||"").split(", "),g=u(`${Ax}Delay`),h=u(`${Ax}Duration`),x=lq(g,h),w=u(`${hR}Delay`),R=u(`${hR}Duration`),D=lq(w,R);let O=null,M=0,H=0;r===Ax?x>0&&(O=Ax,M=x,H=h.length):r===hR?D>0&&(O=hR,M=D,H=R.length):(M=Math.max(x,D),O=M>0?x>D?Ax:hR:null,H=O?O===Ax?h.length:R.length:0);const K=O===Ax&&/\b(transform|all)(,|$)/.test(u(`${Ax}Property`).toString());return{type:O,timeout:M,propCount:H,hasTransform:K}}function lq(t,r){for(;t.length<r.length;)t=t.concat(t);return Math.max(...r.map((i,u)=>cq(i)+cq(t[u])))}function cq(t){return t==="auto"?0:Number(t.slice(0,-1).replace(",","."))*1e3}function FU(){return document.body.offsetHeight}function Eme(t,r,i){const u=t[EE];u&&(r=(r?[r,...u]:[...u]).join(" ")),r==null?t.removeAttribute("class"):i?t.setAttribute("class",r):t.className=r}const aF=Symbol("_vod"),nQ=Symbol("_vsh"),Co={beforeMount(t,{value:r},{transition:i}){t[aF]=t.style.display==="none"?"":t.style.display,i&&r?i.beforeEnter(t):pR(t,r)},mounted(t,{value:r},{transition:i}){i&&r&&i.enter(t)},updated(t,{value:r,oldValue:i},{transition:u}){!r!=!i&&(u?r?(u.beforeEnter(t),pR(t,!0),u.enter(t)):u.leave(t,()=>{pR(t,!1)}):pR(t,r))},beforeUnmount(t,{value:r}){pR(t,r)}};function pR(t,r){t.style.display=r?t[aF]:"none",t[nQ]=!r}const Tme=Symbol(""),Ame=/(^|;)\s*display\s*:/;function Ome(t,r,i){const u=t.style,g=Ul(i);let h=!1;if(i&&!g){if(r)if(Ul(r))for(const x of r.split(";")){const w=x.slice(0,x.indexOf(":")).trim();i[w]==null&&H6(u,w,"")}else for(const x in r)i[x]==null&&H6(u,x,"");for(const x in i)x==="display"&&(h=!0),H6(u,x,i[x])}else if(g){if(r!==i){const x=u[Tme];x&&(i+=";"+x),u.cssText=i,h=Ame.test(i)}}else r&&t.removeAttribute("style");aF in t&&(t[aF]=h?u.display:"",t[nQ]&&(u.display="none"))}const uq=/\s*!important$/;function H6(t,r,i){if(As(i))i.forEach(u=>H6(t,r,u));else if(i==null&&(i=""),r.startsWith("--"))t.setProperty(r,i);else{const u=Rme(t,r);uq.test(i)?t.setProperty(XC(u),i.replace(uq,""),"important"):t[u]=i}}const dq=["Webkit","Moz","ms"],z9={};function Rme(t,r){const i=z9[r];if(i)return i;let u=Hf(r);if(u!=="filter"&&u in t)return z9[r]=u;u=$1(u);for(let g=0;g<dq.length;g++){const h=dq[g]+u;if(h in t)return z9[r]=h}return r}const fq="http://www.w3.org/1999/xlink";function mq(t,r,i,u,g,h=$de(r)){u&&r.startsWith("xlink:")?i==null?t.removeAttributeNS(fq,r.slice(6,r.length)):t.setAttributeNS(fq,r,i):i==null||h&&!jX(i)?t.removeAttribute(r):t.setAttribute(r,h?"":Dv(i)?String(i):i)}function gq(t,r,i,u,g){if(r==="innerHTML"||r==="textContent"){i!=null&&(t[r]=r==="innerHTML"?XJ(i):i);return}const h=t.tagName;if(r==="value"&&h!=="PROGRESS"&&!h.includes("-")){const w=h==="OPTION"?t.getAttribute("value")||"":t.value,R=i==null?t.type==="checkbox"?"on":"":String(i);(w!==R||!("_value"in t))&&(t.value=R),i==null&&t.removeAttribute(r),t._value=i;return}let x=!1;if(i===""||i==null){const w=typeof t[r];w==="boolean"?i=jX(i):i==null&&w==="string"?(i="",x=!0):w==="number"&&(i=0,x=!0)}try{t[r]=i}catch{}x&&t.removeAttribute(g||r)}function VC(t,r,i,u){t.addEventListener(r,i,u)}function Ime(t,r,i,u){t.removeEventListener(r,i,u)}const hq=Symbol("_vei");function Dme(t,r,i,u,g=null){const h=t[hq]||(t[hq]={}),x=h[r];if(u&&x)x.value=u;else{const[w,R]=Pme(r);if(u){const D=h[r]=Lme(u,g);VC(t,w,D,R)}else x&&(Ime(t,w,x,R),h[r]=void 0)}}const pq=/(?:Once|Passive|Capture)$/;function Pme(t){let r;if(pq.test(t)){r={};let u;for(;u=t.match(pq);)t=t.slice(0,t.length-u[0].length),r[u[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):XC(t.slice(2)),r]}let H9=0;const Nme=Promise.resolve(),Mme=()=>H9||(Nme.then(()=>H9=0),H9=Date.now());function Lme(t,r){const i=u=>{if(!u._vts)u._vts=Date.now();else if(u._vts<=i.attached)return;mb(Bme(u,i.value),r,5,[u])};return i.value=t,i.attached=Mme(),i}function Bme(t,r){if(As(r)){const i=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{i.call(t),t._stopped=!0},r.map(u=>g=>!g._stopped&&u&&u(g))}else return r}const bq=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,Fme=(t,r,i,u,g,h)=>{const x=g==="svg";r==="class"?Eme(t,u,x):r==="style"?Ome(t,i,u):DF(r)?xW(r)||Dme(t,r,i,u,h):(r[0]==="."?(r=r.slice(1),!0):r[0]==="^"?(r=r.slice(1),!1):$me(t,r,u,x))?(gq(t,r,u),!t.tagName.includes("-")&&(r==="value"||r==="checked"||r==="selected")&&mq(t,r,u,x,h,r!=="value")):t._isVueCE&&(/[A-Z]/.test(r)||!Ul(u))?gq(t,Hf(r),u,h,r):(r==="true-value"?t._trueValue=u:r==="false-value"&&(t._falseValue=u),mq(t,r,u,x))};function $me(t,r,i,u){if(u)return!!(r==="innerHTML"||r==="textContent"||r in t&&bq(r)&&Xs(i));if(r==="spellcheck"||r==="draggable"||r==="translate"||r==="autocorrect"||r==="form"||r==="list"&&t.tagName==="INPUT"||r==="type"&&t.tagName==="TEXTAREA")return!1;if(r==="width"||r==="height"){const g=t.tagName;if(g==="IMG"||g==="VIDEO"||g==="CANVAS"||g==="SOURCE")return!1}return bq(r)&&Ul(i)?!1:r in t}const oQ=new WeakMap,sQ=new WeakMap,lF=Symbol("_moveCb"),vq=Symbol("_enterCb"),Vme=t=>(delete t.props.mode,t),zme=Vme({name:"TransitionGroup",props:Qc({},QJ,{tag:String,moveClass:String}),setup(t,{slots:r}){const i=$E(),u=SJ();let g,h;return MW(()=>{if(!g.length)return;const x=t.moveClass||`${t.name||"v"}-move`;if(!Kme(g[0].el,i.vnode.el,x)){g=[];return}g.forEach(Hme),g.forEach(Ume);const w=g.filter(Wme);FU(),w.forEach(R=>{const D=R.el,O=D.style;kv(D,x),O.transform=O.webkitTransform=O.transitionDuration="";const M=D[lF]=H=>{H&&H.target!==D||(!H||/transform$/.test(H.propertyName))&&(D.removeEventListener("transitionend",M),D[lF]=null,Dx(D,x))};D.addEventListener("transitionend",M)}),g=[]}),()=>{const x=Ns(t),w=eQ(x);let R=x.tag||ms;if(g=[],h)for(let D=0;D<h.length;D++){const O=h[D];O.el&&O.el instanceof Element&&(g.push(O),GC(O,$R(O,w,u,i)),oQ.set(O,O.el.getBoundingClientRect()))}h=r.default?PW(r.default()):[];for(let D=0;D<h.length;D++){const O=h[D];O.key!=null&&GC(O,$R(O,w,u,i))}return ce(R,null,h)}}}),zW=zme;function Hme(t){const r=t.el;r[lF]&&r[lF](),r[vq]&&r[vq]()}function Ume(t){sQ.set(t,t.el.getBoundingClientRect())}function Wme(t){const r=oQ.get(t),i=sQ.get(t),u=r.left-i.left,g=r.top-i.top;if(u||g){const h=t.el.style;return h.transform=h.webkitTransform=`translate(${u}px,${g}px)`,h.transitionDuration="0s",t}}function Kme(t,r,i){const u=t.cloneNode(),g=t[EE];g&&g.forEach(w=>{w.split(/\s+/).forEach(R=>R&&u.classList.remove(R))}),i.split(/\s+/).forEach(w=>w&&u.classList.add(w)),u.style.display="none";const h=r.nodeType===1?r:r.parentNode;h.appendChild(u);const{hasTransform:x}=tQ(u);return h.removeChild(u),x}const cF=t=>{const r=t.props["onUpdate:modelValue"]||!1;return As(r)?i=>$6(r,i):r};function jme(t){t.target.composing=!0}function yq(t){const r=t.target;r.composing&&(r.composing=!1,r.dispatchEvent(new Event("input")))}const CE=Symbol("_assign"),TE={created(t,{modifiers:{lazy:r,trim:i,number:u}},g){t[CE]=cF(g);const h=u||g.props&&g.props.type==="number";VC(t,r?"change":"input",x=>{if(x.target.composing)return;let w=t.value;i&&(w=w.trim()),h&&(w=TU(w)),t[CE](w)}),i&&VC(t,"change",()=>{t.value=t.value.trim()}),r||(VC(t,"compositionstart",jme),VC(t,"compositionend",yq),VC(t,"change",yq))},mounted(t,{value:r}){t.value=r??""},beforeUpdate(t,{value:r,oldValue:i,modifiers:{lazy:u,trim:g,number:h}},x){if(t[CE]=cF(x),t.composing)return;const w=(h||t.type==="number")&&!/^0\d/.test(t.value)?TU(t.value):t.value,R=r??"";w!==R&&(document.activeElement===t&&t.type!=="range"&&(u&&r===i||g&&t.value.trim()===R)||(t.value=R))}},$U={deep:!0,created(t,r,i){t[CE]=cF(i),VC(t,"change",()=>{const u=t._modelValue,g=Zme(t),h=t.checked,x=t[CE];if(As(u)){const w=ZX(u,g),R=w!==-1;if(h&&!R)x(u.concat(g));else if(!h&&R){const D=[...u];D.splice(w,1),x(D)}}else if(PF(u)){const w=new Set(u);h?w.add(g):w.delete(g),x(w)}else x(rQ(t,h))})},mounted:xq,beforeUpdate(t,r,i){t[CE]=cF(i),xq(t,r,i)}};function xq(t,{value:r,oldValue:i},u){t._modelValue=r;let g;if(As(r))g=ZX(r,u.props.value)>-1;else if(PF(r))g=r.has(u.props.value);else{if(r===i)return;g=LF(r,rQ(t,!0))}t.checked!==g&&(t.checked=g)}function Zme(t){return"_value"in t?t._value:t.value}function rQ(t,r){const i=r?"_trueValue":"_falseValue";return i in t?t[i]:r}const Gme=Qc({patchProp:Fme},Cme);let wq;function qme(){return wq||(wq=Zfe(Gme))}const Yme=(...t)=>{const r=qme().createApp(...t),{mount:i}=r;return r.mount=u=>{const g=Jme(u);if(!g)return;const h=r._component;!Xs(h)&&!h.render&&!h.template&&(h.template=g.innerHTML),g.nodeType===1&&(g.textContent="");const x=i(g,!1,Xme(g));return g instanceof Element&&(g.removeAttribute("v-cloak"),g.setAttribute("data-v-app","")),x},r};function Xme(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function Jme(t){return Ul(t)?document.querySelector(t):t}function Jh(t,r){let i;function u(){i=Ux(),i.run(()=>r.length?r(()=>{i==null||i.stop(),u()}):r())}Fn(t,g=>{g&&!i?u():g||(i==null||i.stop(),i=void 0)},{immediate:!0}),eu(()=>{i==null||i.stop()})}const _i=typeof window<"u",HW=_i&&"IntersectionObserver"in window,Qme=_i&&("ontouchstart"in window||window.navigator.maxTouchPoints>0),ege=_i&&"matchMedia"in window&&typeof window.matchMedia=="function";function Cq(t,r,i){tge(t,r),r.set(t,i)}function tge(t,r){if(r.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Sq(t,r,i){return t.set(iQ(t,r),i),i}function C1(t,r){return t.get(iQ(t,r))}function iQ(t,r,i){if(typeof t=="function"?t===r:t.has(r))return arguments.length<3?r:i;throw new TypeError("Private element is not present on this object")}function aQ(t,r,i){const u=r.length-1;if(u<0)return t===void 0?i:t;for(let g=0;g<u;g++){if(t==null)return i;t=t[r[g]]}return t==null||t[r[u]]===void 0?i:t[r[u]]}function Qh(t,r){if(t===r)return!0;if(t instanceof Date&&r instanceof Date&&t.getTime()!==r.getTime()||t!==Object(t)||r!==Object(r))return!1;const i=Object.keys(t);return i.length!==Object.keys(r).length?!1:i.every(u=>Qh(t[u],r[u]))}function VU(t,r,i){return t==null||!r||typeof r!="string"?i:t[r]!==void 0?t[r]:(r=r.replace(/\[(\w+)\]/g,".$1"),r=r.replace(/^\./,""),aQ(t,r.split("."),i))}function Yh(t,r,i){if(r===!0)return t===void 0?i:t;if(r==null||typeof r=="boolean")return i;if(t!==Object(t)){if(typeof r!="function")return i;const g=r(t,i);return typeof g>"u"?i:g}if(typeof r=="string")return VU(t,r,i);if(Array.isArray(r))return aQ(t,r,i);if(typeof r!="function")return i;const u=r(t,i);return typeof u>"u"?i:u}function lQ(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return Array.from({length:t},(i,u)=>r+u)}function Fs(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"px";if(t==null||t==="")return;const i=Number(t);return isNaN(i)?String(t):isFinite(i)?`${i}${r}`:void 0}function zU(t){return t!==null&&typeof t=="object"&&!Array.isArray(t)}function _q(t){let r;return t!==null&&typeof t=="object"&&((r=Object.getPrototypeOf(t))===Object.prototype||r===null)}function cQ(t){if(t&&"$el"in t){const r=t.$el;return(r==null?void 0:r.nodeType)===Node.TEXT_NODE?r.nextElementSibling:r}return t}const HU=Object.freeze({enter:13,tab:9,delete:46,esc:27,space:32,up:38,down:40,left:37,right:39,end:35,home:36,del:46,backspace:8,insert:45,pageup:33,pagedown:34,shift:16});function U9(t,r){return r.every(i=>t.hasOwnProperty(i))}function KF(t,r){const i={};for(const u of r)Object.prototype.hasOwnProperty.call(t,u)&&(i[u]=t[u]);return i}function kq(t,r,i){const u=Object.create(null),g=Object.create(null);for(const h in t)r.some(x=>x instanceof RegExp?x.test(h):x===h)?u[h]=t[h]:g[h]=t[h];return[u,g]}function Gx(t,r){const i={...t};return r.forEach(u=>delete i[u]),i}const uQ=/^on[^a-z]/,dQ=t=>uQ.test(t),nge=["onAfterscriptexecute","onAnimationcancel","onAnimationend","onAnimationiteration","onAnimationstart","onAuxclick","onBeforeinput","onBeforescriptexecute","onChange","onClick","onCompositionend","onCompositionstart","onCompositionupdate","onContextmenu","onCopy","onCut","onDblclick","onFocusin","onFocusout","onFullscreenchange","onFullscreenerror","onGesturechange","onGestureend","onGesturestart","onGotpointercapture","onInput","onKeydown","onKeypress","onKeyup","onLostpointercapture","onMousedown","onMousemove","onMouseout","onMouseover","onMouseup","onMousewheel","onPaste","onPointercancel","onPointerdown","onPointerenter","onPointerleave","onPointermove","onPointerout","onPointerover","onPointerup","onReset","onSelect","onSubmit","onTouchcancel","onTouchend","onTouchmove","onTouchstart","onTransitioncancel","onTransitionend","onTransitionrun","onTransitionstart","onWheel"];function hI(t){const[r,i]=kq(t,[uQ]),u=Gx(r,nge),[g,h]=kq(i,["class","style","id",/^data-/]);return Object.assign(g,r),Object.assign(h,u),[g,h]}function Wd(t){return t==null?[]:Array.isArray(t)?t:[t]}function oge(t,r){let i=0;const u=function(){for(var g=arguments.length,h=new Array(g),x=0;x<g;x++)h[x]=arguments[x];clearTimeout(i),i=setTimeout(()=>t(...h),ne(r))};return u.clear=()=>{clearTimeout(i)},u.immediate=t,u}function Mm(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;return Math.max(r,Math.min(i,t))}function Eq(t,r){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"0";return t+i.repeat(Math.max(0,r-t.length))}function Tq(t,r){return(arguments.length>2&&arguments[2]!==void 0?arguments[2]:"0").repeat(Math.max(0,r-t.length))+t}function sge(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;const i=[];let u=0;for(;u<t.length;)i.push(t.substr(u,r)),u+=r;return i}function Aq(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1e3;if(t<r)return`${t} B`;const i=r===1024?["Ki","Mi","Gi"]:["k","M","G"];let u=-1;for(;Math.abs(t)>=r&&u<i.length-1;)t/=r,++u;return`${t.toFixed(1)} ${i[u]}B`}function Ud(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=arguments.length>2?arguments[2]:void 0;const u={};for(const g in t)u[g]=t[g];for(const g in r){const h=t[g],x=r[g];if(_q(h)&&_q(x)){u[g]=Ud(h,x,i);continue}if(i&&Array.isArray(h)&&Array.isArray(x)){u[g]=i(h,x);continue}u[g]=x}return u}function fQ(t){return t.map(r=>r.type===ms?fQ(r.children):r).flat()}function jC(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";if(jC.cache.has(t))return jC.cache.get(t);const r=t.replace(/[^a-z]/gi,"-").replace(/\B([A-Z])/g,"-$1").toLowerCase();return jC.cache.set(t,r),r}jC.cache=new Map;function gE(t,r){if(!r||typeof r!="object")return[];if(Array.isArray(r))return r.map(i=>gE(t,i)).flat(1);if(r.suspense)return gE(t,r.ssContent);if(Array.isArray(r.children))return r.children.map(i=>gE(t,i)).flat(1);if(r.component){if(Object.getOwnPropertySymbols(r.component.provides).includes(t))return[r.component];if(r.component.subTree)return gE(t,r.component.subTree).flat(1)}return[]}var eE=new WeakMap,NC=new WeakMap;class mQ{constructor(r){Cq(this,eE,[]),Cq(this,NC,0),this.size=r}get isFull(){return C1(eE,this).length===this.size}push(r){C1(eE,this)[C1(NC,this)]=r,Sq(NC,this,(C1(NC,this)+1)%this.size)}values(){return C1(eE,this).slice(C1(NC,this)).concat(C1(eE,this).slice(0,C1(NC,this)))}clear(){C1(eE,this).length=0,Sq(NC,this,0)}}function UW(t){const r=Ac({});Uf(()=>{const u=t();for(const g in u)r[g]=u[g]},{flush:"sync"});const i={};for(const u in r)i[u]=En(()=>r[u]);return i}function uF(t,r){return t.includes(r)}function gQ(t){return t[2].toLowerCase()+t.slice(3)}const Lm=()=>[Function,Array];function Oq(t,r){return r="on"+$1(r),!!(t[r]||t[`${r}Once`]||t[`${r}Capture`]||t[`${r}OnceCapture`]||t[`${r}CaptureOnce`])}function jF(t){for(var r=arguments.length,i=new Array(r>1?r-1:0),u=1;u<r;u++)i[u-1]=arguments[u];if(Array.isArray(t))for(const g of t)g(...i);else typeof t=="function"&&t(...i)}function UR(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const i=["button","[href]",'input:not([type="hidden"])',"select","textarea","[tabindex]"].map(u=>`${u}${r?':not([tabindex="-1"])':""}:not([disabled])`).join(", ");return[...t.querySelectorAll(i)]}function hQ(t,r,i){let u,g=t.indexOf(document.activeElement);const h=r==="next"?1:-1;do g+=h,u=t[g];while((!u||u.offsetParent==null||!((i==null?void 0:i(u))??!0))&&g<t.length&&g>=0);return u}function IR(t,r){var u,g,h,x;const i=UR(t);if(r==null)(t===document.activeElement||!t.contains(document.activeElement))&&((u=i[0])==null||u.focus());else if(r==="first")(g=i[0])==null||g.focus();else if(r==="last")(h=i.at(-1))==null||h.focus();else if(typeof r=="number")(x=i[r])==null||x.focus();else{const w=hQ(i,r);w?w.focus():IR(t,r==="next"?"first":"last")}}function rge(){}function AE(t,r){if(!(_i&&typeof CSS<"u"&&typeof CSS.supports<"u"&&CSS.supports(`selector(${r})`)))return null;try{return!!t&&t.matches(r)}catch{return null}}function WW(t){return t.some(r=>zR(r)?r.type===Vd?!1:r.type!==ms||WW(r.children):!0)?t:null}function ige(t,r){if(!_i||t===0)return r(),()=>{};const i=window.setTimeout(r,t);return()=>window.clearTimeout(i)}function age(t,r){const i=t.clientX,u=t.clientY,g=r.getBoundingClientRect(),h=g.left,x=g.top,w=g.right,R=g.bottom;return i>=h&&i<=w&&u>=x&&u<=R}function UU(){const t=Do(),r=i=>{t.value=i};return Object.defineProperty(r,"value",{enumerable:!0,get:()=>t.value,set:i=>t.value=i}),Object.defineProperty(r,"el",{enumerable:!0,get:()=>cQ(t.value)}),r}function dF(t){const r=t.key.length===1,i=!t.ctrlKey&&!t.metaKey&&!t.altKey;return r&&i}function WU(t){return typeof t=="string"||typeof t=="number"||typeof t=="boolean"||typeof t=="bigint"}function lge(t){const r={};for(const i in t)r[Hf(i)]=t[i];return r}function cge(t){const r=["checked","disabled"];return Object.fromEntries(Object.entries(t).filter(i=>{let[u,g]=i;return r.includes(u)?!!g:g!==void 0}))}const pQ=["top","bottom"],uge=["start","end","left","right"];function KU(t,r){let[i,u]=t.split(" ");return u||(u=uF(pQ,i)?"start":uF(uge,i)?"top":"center"),{side:jU(i,r),align:jU(u,r)}}function jU(t,r){return t==="start"?r?"right":"left":t==="end"?r?"left":"right":t}function W9(t){return{side:{center:"center",top:"bottom",bottom:"top",left:"right",right:"left"}[t.side],align:t.align}}function K9(t){return{side:t.side,align:{center:"center",top:"bottom",bottom:"top",left:"right",right:"left"}[t.align]}}function Rq(t){return{side:t.align,align:t.side}}function Iq(t){return uF(pQ,t.side)?"y":"x"}class Iv{constructor(r){let{x:i,y:u,width:g,height:h}=r;this.x=i,this.y=u,this.width=g,this.height=h}get top(){return this.y}get bottom(){return this.y+this.height}get left(){return this.x}get right(){return this.x+this.width}}function Dq(t,r){return{x:{before:Math.max(0,r.left-t.left),after:Math.max(0,t.right-r.right)},y:{before:Math.max(0,r.top-t.top),after:Math.max(0,t.bottom-r.bottom)}}}function bQ(t){return Array.isArray(t)?new Iv({x:t[0],y:t[1],width:0,height:0}):t.getBoundingClientRect()}function dge(t){if(t===document.documentElement)return visualViewport?new Iv({x:visualViewport.scale>1?0:visualViewport.offsetLeft,y:visualViewport.scale>1?0:visualViewport.offsetTop,width:visualViewport.width*visualViewport.scale,height:visualViewport.height*visualViewport.scale}):new Iv({x:0,y:0,width:document.documentElement.clientWidth,height:document.documentElement.clientHeight});{const r=t.getBoundingClientRect();return new Iv({x:r.x,y:r.y,width:t.clientWidth,height:t.clientHeight})}}function KW(t){const r=t.getBoundingClientRect(),i=getComputedStyle(t),u=i.transform;if(u){let g,h,x,w,R;if(u.startsWith("matrix3d("))g=u.slice(9,-1).split(/, /),h=Number(g[0]),x=Number(g[5]),w=Number(g[12]),R=Number(g[13]);else if(u.startsWith("matrix("))g=u.slice(7,-1).split(/, /),h=Number(g[0]),x=Number(g[3]),w=Number(g[4]),R=Number(g[5]);else return new Iv(r);const D=i.transformOrigin,O=r.x-w-(1-h)*parseFloat(D),M=r.y-R-(1-x)*parseFloat(D.slice(D.indexOf(" ")+1)),H=h?r.width/h:t.offsetWidth+1,K=x?r.height/x:t.offsetHeight+1;return new Iv({x:O,y:M,width:H,height:K})}else return new Iv(r)}function hE(t,r,i){if(typeof t.animate>"u")return{finished:Promise.resolve()};let u;try{u=t.animate(r,i)}catch{return{finished:Promise.resolve()}}return typeof u.finished>"u"&&(u.finished=new Promise(g=>{u.onfinish=()=>{g(u)}})),u}const U6=new WeakMap;function fge(t,r){Object.keys(r).forEach(i=>{if(dQ(i)){const u=gQ(i),g=U6.get(t);if(r[i]==null)g==null||g.forEach(h=>{const[x,w]=h;x===u&&(t.removeEventListener(u,w),g.delete(h))});else if(!g||![...g].some(h=>h[0]===u&&h[1]===r[i])){t.addEventListener(u,r[i]);const h=g||new Set;h.add([u,r[i]]),U6.has(t)||U6.set(t,h)}}else r[i]==null?t.removeAttribute(i):t.setAttribute(i,r[i])})}function mge(t,r){Object.keys(r).forEach(i=>{if(dQ(i)){const u=gQ(i),g=U6.get(t);g==null||g.forEach(h=>{const[x,w]=h;x===u&&(t.removeEventListener(u,w),g.delete(h))})}else t.removeAttribute(i)})}const tE=2.4,Pq=.2126729,Nq=.7151522,Mq=.072175,gge=.55,hge=.58,pge=.57,bge=.62,A6=.03,Lq=1.45,vge=5e-4,yge=1.25,xge=1.25,Bq=.078,Fq=12.82051282051282,O6=.06,$q=.001;function Vq(t,r){const i=(t.r/255)**tE,u=(t.g/255)**tE,g=(t.b/255)**tE,h=(r.r/255)**tE,x=(r.g/255)**tE,w=(r.b/255)**tE;let R=i*Pq+u*Nq+g*Mq,D=h*Pq+x*Nq+w*Mq;if(R<=A6&&(R+=(A6-R)**Lq),D<=A6&&(D+=(A6-D)**Lq),Math.abs(D-R)<vge)return 0;let O;if(D>R){const M=(D**gge-R**hge)*yge;O=M<$q?0:M<Bq?M-M*Fq*O6:M-O6}else{const M=(D**bge-R**pge)*xge;O=M>-$q?0:M>-Bq?M-M*Fq*O6:M+O6}return O*100}function vQ(t,r){r=Array.isArray(r)?r.slice(0,-1).map(i=>`'${i}'`).join(", ")+` or '${r.at(-1)}'`:`'${r}'`}const fF=.20689655172413793,wge=t=>t>fF**3?Math.cbrt(t):t/(3*fF**2)+4/29,Cge=t=>t>fF?t**3:3*fF**2*(t-4/29);function yQ(t){const r=wge,i=r(t[1]);return[116*i-16,500*(r(t[0]/.95047)-i),200*(i-r(t[2]/1.08883))]}function xQ(t){const r=Cge,i=(t[0]+16)/116;return[r(i+t[1]/500)*.95047,r(i),r(i-t[2]/200)*1.08883]}const Sge=[[3.2406,-1.5372,-.4986],[-.9689,1.8758,.0415],[.0557,-.204,1.057]],_ge=t=>t<=.0031308?t*12.92:1.055*t**(1/2.4)-.055,kge=[[.4124,.3576,.1805],[.2126,.7152,.0722],[.0193,.1192,.9505]],Ege=t=>t<=.04045?t/12.92:((t+.055)/1.055)**2.4;function wQ(t){const r=Array(3),i=_ge,u=Sge;for(let g=0;g<3;++g)r[g]=Math.round(Mm(i(u[g][0]*t[0]+u[g][1]*t[1]+u[g][2]*t[2]))*255);return{r:r[0],g:r[1],b:r[2]}}function jW(t){let{r,g:i,b:u}=t;const g=[0,0,0],h=Ege,x=kge;r=h(r/255),i=h(i/255),u=h(u/255);for(let w=0;w<3;++w)g[w]=x[w][0]*r+x[w][1]*i+x[w][2]*u;return g}function ZU(t){return!!t&&/^(#|var\(--|(rgb|hsl)a?\()/.test(t)}function Tge(t){return ZU(t)&&!/^((rgb|hsl)a?\()?var\(--/.test(t)}const zq=/^(?<fn>(?:rgb|hsl)a?)\((?<values>.+)\)/,Age={rgb:(t,r,i,u)=>({r:t,g:r,b:i,a:u}),rgba:(t,r,i,u)=>({r:t,g:r,b:i,a:u}),hsl:(t,r,i,u)=>Hq({h:t,s:r,l:i,a:u}),hsla:(t,r,i,u)=>Hq({h:t,s:r,l:i,a:u}),hsv:(t,r,i,u)=>WR({h:t,s:r,v:i,a:u}),hsva:(t,r,i,u)=>WR({h:t,s:r,v:i,a:u})};function Ov(t){if(typeof t=="number")return{r:(t&16711680)>>16,g:(t&65280)>>8,b:t&255};if(typeof t=="string"&&zq.test(t)){const{groups:r}=t.match(zq),{fn:i,values:u}=r,g=u.split(/,\s*|\s*\/\s*|\s+/).map((h,x)=>h.endsWith("%")||x>0&&x<3&&["hsl","hsla","hsv","hsva"].includes(i)?parseFloat(h)/100:parseFloat(h));return Age[i](...g)}else if(typeof t=="string"){let r=t.startsWith("#")?t.slice(1):t;return[3,4].includes(r.length)?r=r.split("").map(i=>i+i).join(""):[6,8].includes(r.length),Rge(r)}else if(typeof t=="object"){if(U9(t,["r","g","b"]))return t;if(U9(t,["h","s","l"]))return WR(CQ(t));if(U9(t,["h","s","v"]))return WR(t)}throw new TypeError(`Invalid color: ${t==null?t:String(t)||t.constructor.name}
Expected #hex, #hexa, rgb(), rgba(), hsl(), hsla(), object or number`)}function WR(t){const{h:r,s:i,v:u,a:g}=t,h=w=>{const R=(w+r/60)%6;return u-u*i*Math.max(Math.min(R,4-R,1),0)},x=[h(5),h(3),h(1)].map(w=>Math.round(w*255));return{r:x[0],g:x[1],b:x[2],a:g}}function Hq(t){return WR(CQ(t))}function CQ(t){const{h:r,s:i,l:u,a:g}=t,h=u+i*Math.min(u,1-u),x=h===0?0:2-2*u/h;return{h:r,s:x,v:h,a:g}}function R6(t){const r=Math.round(t).toString(16);return("00".substr(0,2-r.length)+r).toUpperCase()}function Oge(t){let{r,g:i,b:u,a:g}=t;return`#${[R6(r),R6(i),R6(u),g!==void 0?R6(Math.round(g*255)):""].join("")}`}function Rge(t){t=Ige(t);let[r,i,u,g]=sge(t,2).map(h=>parseInt(h,16));return g=g===void 0?g:g/255,{r,g:i,b:u,a:g}}function Ige(t){return t.startsWith("#")&&(t=t.slice(1)),t=t.replace(/([^0-9a-f])/gi,"F"),(t.length===3||t.length===4)&&(t=t.split("").map(r=>r+r).join("")),t.length!==6&&(t=Eq(Eq(t,6),8,"F")),t}function Dge(t,r){const i=yQ(jW(t));return i[0]=i[0]+r*10,wQ(xQ(i))}function Pge(t,r){const i=yQ(jW(t));return i[0]=i[0]-r*10,wQ(xQ(i))}function Nge(t){const r=Ov(t);return jW(r)[1]}function SQ(t){const r=Math.abs(Vq(Ov(0),Ov(t)));return Math.abs(Vq(Ov(16777215),Ov(t)))>Math.min(r,50)?"#fff":"#000"}function qn(t,r){return i=>Object.keys(t).reduce((u,g)=>{const x=typeof t[g]=="object"&&t[g]!=null&&!Array.isArray(t[g])?t[g]:{type:t[g]};return i&&g in i?u[g]={...x,default:i[g]}:u[g]=x,r&&!u[g].source&&(u[g].source=r),u},{})}const or=qn({class:[String,Array,Object],style:{type:[String,Array,Object],default:null}},"component");function xc(t,r){const i=$E();if(!i)throw new Error(`[Vuetify] ${t} must be called from inside a setup function`);return i}function Bv(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"composables";const r=xc(t).type;return jC((r==null?void 0:r.aliasName)||(r==null?void 0:r.name))}function Mge(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:xc("injectSelf");const{provides:i}=r;if(i&&t in i)return i[t]}const OE=Symbol.for("vuetify:defaults");function Lge(t){return Ln(t)}function ZW(){const t=ka(OE);if(!t)throw new Error("[Vuetify] Could not find defaults instance");return t}function qx(t,r){const i=ZW(),u=Ln(t),g=Mt(()=>{if(ne(r==null?void 0:r.disabled))return i.value;const x=ne(r==null?void 0:r.scoped),w=ne(r==null?void 0:r.reset),R=ne(r==null?void 0:r.root);if(u.value==null&&!(x||w||R))return i.value;let D=Ud(u.value,{prev:i.value});if(x)return D;if(w||R){const O=Number(w||1/0);for(let M=0;M<=O&&!(!D||!("prev"in D));M++)D=D.prev;return D&&typeof R=="string"&&R in D&&(D=Ud(Ud(D,{prev:D}),D[R])),D}return D.prev?Ud(D.prev,D):D});return Wf(OE,g),g}function Bge(t,r){return t.props&&(typeof t.props[r]<"u"||typeof t.props[jC(r)]<"u")}function Fge(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:ZW();const u=xc("useDefaults");if(r=r??u.type.name??u.type.__name,!r)throw new Error("[Vuetify] Could not determine component name");const g=Mt(()=>{var R;return(R=i.value)==null?void 0:R[t._as??r]}),h=new Proxy(t,{get(R,D){var K,Z,Q,re;const O=Reflect.get(R,D);if(D==="class"||D==="style")return[(K=g.value)==null?void 0:K[D],O].filter(U=>U!=null);if(Bge(u.vnode,D))return O;const M=(Z=g.value)==null?void 0:Z[D];if(M!==void 0)return M;const H=(re=(Q=i.value)==null?void 0:Q.global)==null?void 0:re[D];return H!==void 0?H:O}}),x=Do();Uf(()=>{if(g.value){const R=Object.entries(g.value).filter(D=>{let[O]=D;return O.startsWith(O[0].toUpperCase())});x.value=R.length?Object.fromEntries(R):void 0}else x.value=void 0});function w(){const R=Mge(OE,u);Wf(OE,Mt(()=>x.value?Ud((R==null?void 0:R.value)??{},x.value):R==null?void 0:R.value))}return{props:h,provideSubDefaults:w}}function VE(t){if(t._setup=t._setup??t.setup,!t.name)return t;if(t._setup){t.props=qn(t.props??{},t.name)();const r=Object.keys(t.props).filter(i=>i!=="class"&&i!=="style");t.filterProps=function(u){return KF(u,r)},t.props._as=String,t.setup=function(u,g){const h=ZW();if(!h.value)return t._setup(u,g);const{props:x,provideSubDefaults:w}=Fge(u,u._as??t.name,h),R=t._setup(x,g);return w(),R}}return t}function ts(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return r=>(t?VE:AJ)(r)}function ZF(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"div",i=arguments.length>2?arguments[2]:void 0;return ts()({name:i??$1(Hf(t.replace(/__/g,"-"))),props:{tag:{type:String,default:r},...or()},setup(u,g){let{slots:h}=g;return()=>{var x;return Nv(u.tag,{class:[t,u.class],style:u.style},(x=h.default)==null?void 0:x.call(h))}}})}function _Q(t){if(typeof t.getRootNode!="function"){for(;t.parentNode;)t=t.parentNode;return t!==document?null:document}const r=t.getRootNode();return r!==document&&r.getRootNode({composed:!0})!==document?null:r}const mF="cubic-bezier(0.4, 0, 0.2, 1)",$ge="cubic-bezier(0.0, 0, 0.2, 1)",Vge="cubic-bezier(0.4, 0, 1, 1)";function kQ(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;for(;t;){if(r?zge(t):GW(t))return t;t=t.parentElement}return document.scrollingElement}function gF(t,r){const i=[];if(r&&t&&!r.contains(t))return i;for(;t&&(GW(t)&&i.push(t),t!==r);)t=t.parentElement;return i}function GW(t){if(!t||t.nodeType!==Node.ELEMENT_NODE)return!1;const r=window.getComputedStyle(t);return r.overflowY==="scroll"||r.overflowY==="auto"&&t.scrollHeight>t.clientHeight}function zge(t){if(!t||t.nodeType!==Node.ELEMENT_NODE)return!1;const r=window.getComputedStyle(t);return["scroll","auto"].includes(r.overflowY)}function Hge(t){for(;t;){if(window.getComputedStyle(t).position==="fixed")return!0;t=t.offsetParent}return!1}function $s(t){const r=xc("useRender");r.render=t}function ra(t,r,i){let u=arguments.length>3&&arguments[3]!==void 0?arguments[3]:M=>M,g=arguments.length>4&&arguments[4]!==void 0?arguments[4]:M=>M;const h=xc("useProxiedModel"),x=Ln(t[r]!==void 0?t[r]:i),w=jC(r),D=Mt(w!==r?()=>{var M,H,K,Z;return t[r],!!(((M=h.vnode.props)!=null&&M.hasOwnProperty(r)||(H=h.vnode.props)!=null&&H.hasOwnProperty(w))&&((K=h.vnode.props)!=null&&K.hasOwnProperty(`onUpdate:${r}`)||(Z=h.vnode.props)!=null&&Z.hasOwnProperty(`onUpdate:${w}`)))}:()=>{var M,H;return t[r],!!((M=h.vnode.props)!=null&&M.hasOwnProperty(r)&&((H=h.vnode.props)!=null&&H.hasOwnProperty(`onUpdate:${r}`)))});Jh(()=>!D.value,()=>{Fn(()=>t[r],M=>{x.value=M})});const O=Mt({get(){const M=t[r];return u(D.value?M:x.value)},set(M){const H=g(M),K=Ns(D.value?t[r]:x.value);K===H||u(K)===M||(x.value=H,h==null||h.emit(`update:${r}`,H))}});return Object.defineProperty(O,"externalValue",{get:()=>D.value?t[r]:x.value}),O}const Uge={badge:"Badge",open:"Open",close:"Close",dismiss:"Dismiss",confirmEdit:{ok:"OK",cancel:"Cancel"},dataIterator:{noResultsText:"No matching records found",loadingText:"Loading items..."},dataTable:{itemsPerPageText:"Rows per page:",ariaLabel:{sortDescending:"Sorted descending.",sortAscending:"Sorted ascending.",sortNone:"Not sorted.",activateNone:"Activate to remove sorting.",activateDescending:"Activate to sort descending.",activateAscending:"Activate to sort ascending."},sortBy:"Sort by"},dataFooter:{itemsPerPageText:"Items per page:",itemsPerPageAll:"All",nextPage:"Next page",prevPage:"Previous page",firstPage:"First page",lastPage:"Last page",pageText:"{0}-{1} of {2}"},dateRangeInput:{divider:"to"},datePicker:{itemsSelected:"{0} selected",range:{title:"Select dates",header:"Enter dates"},title:"Select date",header:"Enter date",input:{placeholder:"Enter date"}},noDataText:"No data available",carousel:{prev:"Previous visual",next:"Next visual",ariaLabel:{delimiter:"Carousel slide {0} of {1}"}},calendar:{moreEvents:"{0} more",today:"Today"},input:{clear:"Clear {0}",prependAction:"{0} prepended action",appendAction:"{0} appended action",otp:"Please enter OTP character {0}"},fileInput:{counter:"{0} files",counterSize:"{0} files ({1} in total)"},fileUpload:{title:"Drag and drop files here",divider:"or",browse:"Browse Files"},timePicker:{am:"AM",pm:"PM",title:"Select Time"},pagination:{ariaLabel:{root:"Pagination Navigation",next:"Next page",previous:"Previous page",page:"Go to page {0}",currentPage:"Page {0}, Current page",first:"First page",last:"Last page"}},stepper:{next:"Next",prev:"Previous"},rating:{ariaLabel:{item:"Rating {0} of {1}"}},loading:"Loading...",infiniteScroll:{loadMore:"Load more",empty:"No more"},rules:{required:"This field is required",email:"Please enter a valid email",number:"This field can only contain numbers",integer:"This field can only contain integer values",capital:"This field can only contain uppercase letters",maxLength:"You must enter a maximum of {0} characters",minLength:"You must enter a minimum of {0} characters",strictLength:"The length of the entered field is invalid",exclude:"The {0} character is not allowed",notEmpty:"Please choose at least one value",pattern:"Invalid format"},hotkey:{then:"then",ctrl:"Ctrl",command:"Command",space:"Space",shift:"Shift",alt:"Alt",enter:"Enter",escape:"Escape",upArrow:"Up Arrow",downArrow:"Down Arrow",leftArrow:"Left Arrow",rightArrow:"Right Arrow",backspace:"Backspace",option:"Option",plus:"plus",shortcut:"Keyboard shortcut: {0}"}},Uq="$vuetify.",Wq=(t,r)=>t.replace(/\{(\d+)\}/g,(i,u)=>String(r[Number(u)])),EQ=(t,r,i)=>function(u){for(var g=arguments.length,h=new Array(g>1?g-1:0),x=1;x<g;x++)h[x-1]=arguments[x];if(!u.startsWith(Uq))return Wq(u,h);const w=u.replace(Uq,""),R=t.value&&i.value[t.value],D=r.value&&i.value[r.value];let O=VU(R,w,null);return O||(`${u}${t.value}`,O=VU(D,w,null)),O||(O=u),typeof O!="string"&&(O=u),Wq(O,h)};function qW(t,r){return(i,u)=>new Intl.NumberFormat([t.value,r.value],u).format(i)}function TQ(t,r){return qW(t,r)(.1).includes(",")?",":"."}function j9(t,r,i){const u=ra(t,r,t[r]??i.value);return u.value=t[r]??i.value,Fn(i,g=>{t[r]==null&&(u.value=i.value)}),u}function AQ(t){return r=>{const i=j9(r,"locale",t.current),u=j9(r,"fallback",t.fallback),g=j9(r,"messages",t.messages);return{name:"vuetify",current:i,fallback:u,messages:g,decimalSeparator:En(()=>TQ(i,u)),t:EQ(i,u,g),n:qW(i,u),provide:AQ({current:i,fallback:u,messages:g})}}}function Wge(t){const r=Do((t==null?void 0:t.locale)??"en"),i=Do((t==null?void 0:t.fallback)??"en"),u=Ln({en:Uge,...t==null?void 0:t.messages});return{name:"vuetify",current:r,fallback:i,messages:u,decimalSeparator:En(()=>(t==null?void 0:t.decimalSeparator)??TQ(r,i)),t:EQ(r,i,u),n:qW(r,i),provide:AQ({current:r,fallback:i,messages:u})}}const hF=Symbol.for("vuetify:locale");function Kge(t){return t.name!=null}function jge(t){const r=t!=null&&t.adapter&&Kge(t==null?void 0:t.adapter)?t==null?void 0:t.adapter:Wge(t),i=Gge(r,t);return{...r,...i}}function zE(){const t=ka(hF);if(!t)throw new Error("[Vuetify] Could not find injected locale instance");return t}function Zge(){return{af:!1,ar:!0,bg:!1,ca:!1,ckb:!1,cs:!1,de:!1,el:!1,en:!1,es:!1,et:!1,fa:!0,fi:!1,fr:!1,hr:!1,hu:!1,he:!0,id:!1,it:!1,ja:!1,km:!1,ko:!1,lv:!1,lt:!1,nl:!1,no:!1,pl:!1,pt:!1,ro:!1,ru:!1,sk:!1,sl:!1,srCyrl:!1,srLatn:!1,sv:!1,th:!1,tr:!1,az:!1,uk:!1,vi:!1,zhHans:!1,zhHant:!1}}function Gge(t,r){const i=Ln((r==null?void 0:r.rtl)??Zge()),u=Mt(()=>i.value[t.current.value]??!1);return{isRtl:u,rtl:i,rtlClasses:En(()=>`v-locale--is-${u.value?"rtl":"ltr"}`)}}function ep(){const t=ka(hF);if(!t)throw new Error("[Vuetify] Could not find injected rtl instance");return{isRtl:t.isRtl,rtlClasses:t.rtlClasses}}function pI(t){const r=t.slice(-2).toUpperCase();switch(!0){case t==="GB-alt-variant":return{firstDay:0,firstWeekSize:4};case t==="001":return{firstDay:1,firstWeekSize:1};case`AG AS BD BR BS BT BW BZ CA CO DM DO ET GT GU HK HN ID IL IN JM JP KE
    KH KR LA MH MM MO MT MX MZ NI NP PA PE PH PK PR PY SA SG SV TH TT TW UM US
    VE VI WS YE ZA ZW`.includes(r):return{firstDay:0,firstWeekSize:1};case`AI AL AM AR AU AZ BA BM BN BY CL CM CN CR CY EC GE HR KG KZ LB LK LV
    MD ME MK MN MY NZ RO RS SI TJ TM TR UA UY UZ VN XK`.includes(r):return{firstDay:1,firstWeekSize:1};case`AD AN AT AX BE BG CH CZ DE DK EE ES FI FJ FO FR GB GF GP GR HU IE IS
    IT LI LT LU MC MQ NL NO PL RE RU SE SK SM VA`.includes(r):return{firstDay:1,firstWeekSize:4};case"AE AF BH DJ DZ EG IQ IR JO KW LY OM QA SD SY".includes(r):return{firstDay:6,firstWeekSize:1};case r==="MV":return{firstDay:5,firstWeekSize:1};case r==="PT":return{firstDay:0,firstWeekSize:4};default:return null}}function qge(t,r,i){var O;const u=[];let g=[];const h=OQ(t),x=RQ(t),w=i??((O=pI(r))==null?void 0:O.firstDay)??0,R=(h.getDay()-w+7)%7,D=(x.getDay()-w+7)%7;for(let M=0;M<R;M++){const H=new Date(h);H.setDate(H.getDate()-(R-M)),g.push(H)}for(let M=1;M<=x.getDate();M++){const H=new Date(t.getFullYear(),t.getMonth(),M);g.push(H),g.length===7&&(u.push(g),g=[])}for(let M=1;M<7-D;M++){const H=new Date(x);H.setDate(H.getDate()+M),g.push(H)}return g.length>0&&u.push(g),u}function GU(t,r,i){var h;const u=i??((h=pI(r))==null?void 0:h.firstDay)??0,g=new Date(t);for(;g.getDay()!==u;)g.setDate(g.getDate()-1);return g}function Yge(t,r){var g;const i=new Date(t),u=((((g=pI(r))==null?void 0:g.firstDay)??0)+6)%7;for(;i.getDay()!==u;)i.setDate(i.getDate()+1);return i}function OQ(t){return new Date(t.getFullYear(),t.getMonth(),1)}function RQ(t){return new Date(t.getFullYear(),t.getMonth()+1,0)}function Xge(t){const r=t.split("-").map(Number);return new Date(r[0],r[1]-1,r[2])}const Jge=/^([12]\d{3}-([1-9]|0[1-9]|1[0-2])-([1-9]|0[1-9]|[12]\d|3[01]))$/;function IQ(t){if(t==null)return new Date;if(t instanceof Date)return t;if(typeof t=="string"){let r;if(Jge.test(t))return Xge(t);if(r=Date.parse(t),!isNaN(r))return new Date(r)}return null}const Kq=new Date(2e3,0,2);function Qge(t,r,i){var g;const u=r??((g=pI(t))==null?void 0:g.firstDay)??0;return lQ(7).map(h=>{const x=new Date(Kq);return x.setDate(Kq.getDate()+u+h),new Intl.DateTimeFormat(t,{weekday:i??"narrow"}).format(x)})}function ehe(t,r,i,u){const g=IQ(t)??new Date,h=u==null?void 0:u[r];if(typeof h=="function")return h(g,r,i);let x={};switch(r){case"fullDate":x={year:"numeric",month:"short",day:"numeric"};break;case"fullDateWithWeekday":x={weekday:"long",year:"numeric",month:"long",day:"numeric"};break;case"normalDate":const w=g.getDate(),R=new Intl.DateTimeFormat(i,{month:"long"}).format(g);return`${w} ${R}`;case"normalDateWithWeekday":x={weekday:"short",day:"numeric",month:"short"};break;case"shortDate":x={month:"short",day:"numeric"};break;case"year":x={year:"numeric"};break;case"month":x={month:"long"};break;case"monthShort":x={month:"short"};break;case"monthAndYear":x={month:"long",year:"numeric"};break;case"monthAndDate":x={month:"long",day:"numeric"};break;case"weekday":x={weekday:"long"};break;case"weekdayShort":x={weekday:"short"};break;case"dayOfMonth":return new Intl.NumberFormat(i).format(g.getDate());case"hours12h":x={hour:"numeric",hour12:!0};break;case"hours24h":x={hour:"numeric",hour12:!1};break;case"minutes":x={minute:"numeric"};break;case"seconds":x={second:"numeric"};break;case"fullTime":x={hour:"numeric",minute:"numeric"};break;case"fullTime12h":x={hour:"numeric",minute:"numeric",hour12:!0};break;case"fullTime24h":x={hour:"numeric",minute:"numeric",hour12:!1};break;case"fullDateTime":x={year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"numeric"};break;case"fullDateTime12h":x={year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"numeric",hour12:!0};break;case"fullDateTime24h":x={year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"numeric",hour12:!1};break;case"keyboardDate":x={year:"numeric",month:"2-digit",day:"2-digit"};break;case"keyboardDateTime":return x={year:"numeric",month:"2-digit",day:"2-digit",hour:"numeric",minute:"numeric"},new Intl.DateTimeFormat(i,x).format(g).replace(/, /g," ");case"keyboardDateTime12h":return x={year:"numeric",month:"2-digit",day:"2-digit",hour:"numeric",minute:"numeric",hour12:!0},new Intl.DateTimeFormat(i,x).format(g).replace(/, /g," ");case"keyboardDateTime24h":return x={year:"numeric",month:"2-digit",day:"2-digit",hour:"numeric",minute:"numeric",hour12:!1},new Intl.DateTimeFormat(i,x).format(g).replace(/, /g," ");default:x=h??{timeZone:"UTC",timeZoneName:"short"}}return new Intl.DateTimeFormat(i,x).format(g)}function the(t,r){const i=t.toJsDate(r),u=i.getFullYear(),g=Tq(String(i.getMonth()+1),2,"0"),h=Tq(String(i.getDate()),2,"0");return`${u}-${g}-${h}`}function nhe(t){const[r,i,u]=t.split("-").map(Number);return new Date(r,i-1,u)}function ohe(t,r){const i=new Date(t);return i.setMinutes(i.getMinutes()+r),i}function she(t,r){const i=new Date(t);return i.setHours(i.getHours()+r),i}function W6(t,r){const i=new Date(t);return i.setDate(i.getDate()+r),i}function rhe(t,r){const i=new Date(t);return i.setDate(i.getDate()+r*7),i}function ihe(t,r){const i=new Date(t);return i.setDate(1),i.setMonth(i.getMonth()+r),i}function qU(t){return t.getFullYear()}function ahe(t){return t.getMonth()}function lhe(t,r,i,u){const g=pI(r),h=i??(g==null?void 0:g.firstDay)??0,x=u??(g==null?void 0:g.firstWeekSize)??1;function w(K){const Z=new Date(K,0,1);return 7-YU(Z,GU(Z,r,h),"days")}let R=qU(t);const D=W6(GU(t,r,h),6);R<qU(D)&&w(R+1)>=x&&R++;const O=new Date(R,0,1),M=w(R),H=M>=x?W6(O,M-7):W6(O,M);return 1+YU(DQ(t),bF(H),"weeks")}function che(t){return t.getDate()}function uhe(t){return new Date(t.getFullYear(),t.getMonth()+1,1)}function dhe(t){return new Date(t.getFullYear(),t.getMonth()-1,1)}function fhe(t){return t.getHours()}function mhe(t){return t.getMinutes()}function ghe(t){return new Date(t.getFullYear(),0,1)}function hhe(t){return new Date(t.getFullYear(),11,31)}function phe(t,r){return pF(t,r[0])&&yhe(t,r[1])}function bhe(t){const r=new Date(t);return r instanceof Date&&!isNaN(r.getTime())}function pF(t,r){return t.getTime()>r.getTime()}function vhe(t,r){return pF(bF(t),bF(r))}function yhe(t,r){return t.getTime()<r.getTime()}function jq(t,r){return t.getTime()===r.getTime()}function xhe(t,r){return t.getDate()===r.getDate()&&t.getMonth()===r.getMonth()&&t.getFullYear()===r.getFullYear()}function whe(t,r){return t.getMonth()===r.getMonth()&&t.getFullYear()===r.getFullYear()}function Che(t,r){return t.getFullYear()===r.getFullYear()}function YU(t,r,i){const u=new Date(t),g=new Date(r);switch(i){case"years":return u.getFullYear()-g.getFullYear();case"quarters":return Math.floor((u.getMonth()-g.getMonth()+(u.getFullYear()-g.getFullYear())*12)/4);case"months":return u.getMonth()-g.getMonth()+(u.getFullYear()-g.getFullYear())*12;case"weeks":return Math.floor((u.getTime()-g.getTime())/(1e3*60*60*24*7));case"days":return Math.floor((u.getTime()-g.getTime())/(1e3*60*60*24));case"hours":return Math.floor((u.getTime()-g.getTime())/(1e3*60*60));case"minutes":return Math.floor((u.getTime()-g.getTime())/(1e3*60));case"seconds":return Math.floor((u.getTime()-g.getTime())/1e3);default:return u.getTime()-g.getTime()}}function She(t,r){const i=new Date(t);return i.setHours(r),i}function _he(t,r){const i=new Date(t);return i.setMinutes(r),i}function khe(t,r){const i=new Date(t);return i.setMonth(r),i}function Ehe(t,r){const i=new Date(t);return i.setDate(r),i}function The(t,r){const i=new Date(t);return i.setFullYear(r),i}function bF(t){return new Date(t.getFullYear(),t.getMonth(),t.getDate(),0,0,0,0)}function DQ(t){return new Date(t.getFullYear(),t.getMonth(),t.getDate(),23,59,59,999)}class Ahe{constructor(r){this.locale=r.locale,this.formats=r.formats}date(r){return IQ(r)}toJsDate(r){return r}toISO(r){return the(this,r)}parseISO(r){return nhe(r)}addMinutes(r,i){return ohe(r,i)}addHours(r,i){return she(r,i)}addDays(r,i){return W6(r,i)}addWeeks(r,i){return rhe(r,i)}addMonths(r,i){return ihe(r,i)}getWeekArray(r,i){const u=i!==void 0?Number(i):void 0;return qge(r,this.locale,u)}startOfWeek(r,i){const u=i!==void 0?Number(i):void 0;return GU(r,this.locale,u)}endOfWeek(r){return Yge(r,this.locale)}startOfMonth(r){return OQ(r)}endOfMonth(r){return RQ(r)}format(r,i){return ehe(r,i,this.locale,this.formats)}isEqual(r,i){return jq(r,i)}isValid(r){return bhe(r)}isWithinRange(r,i){return phe(r,i)}isAfter(r,i){return pF(r,i)}isAfterDay(r,i){return vhe(r,i)}isBefore(r,i){return!pF(r,i)&&!jq(r,i)}isSameDay(r,i){return xhe(r,i)}isSameMonth(r,i){return whe(r,i)}isSameYear(r,i){return Che(r,i)}setMinutes(r,i){return _he(r,i)}setHours(r,i){return She(r,i)}setMonth(r,i){return khe(r,i)}setDate(r,i){return Ehe(r,i)}setYear(r,i){return The(r,i)}getDiff(r,i,u){return YU(r,i,u)}getWeekdays(r,i){const u=r!==void 0?Number(r):void 0;return Qge(this.locale,u,i)}getYear(r){return qU(r)}getMonth(r){return ahe(r)}getWeek(r,i,u){const g=i!==void 0?Number(i):void 0;return lhe(r,this.locale,g,u)}getDate(r){return che(r)}getNextMonth(r){return uhe(r)}getPreviousMonth(r){return dhe(r)}getHours(r){return fhe(r)}getMinutes(r){return mhe(r)}startOfDay(r){return bF(r)}endOfDay(r){return DQ(r)}startOfYear(r){return ghe(r)}endOfYear(r){return hhe(r)}}const Ohe=Symbol.for("vuetify:date-options"),Zq=Symbol.for("vuetify:date-adapter");function Rhe(t,r){const i=Ud({adapter:Ahe,locale:{af:"af-ZA",bg:"bg-BG",ca:"ca-ES",ckb:"",cs:"cs-CZ",de:"de-DE",el:"el-GR",en:"en-US",et:"et-EE",fa:"fa-IR",fi:"fi-FI",hr:"hr-HR",hu:"hu-HU",he:"he-IL",id:"id-ID",it:"it-IT",ja:"ja-JP",ko:"ko-KR",lv:"lv-LV",lt:"lt-LT",nl:"nl-NL",no:"no-NO",pl:"pl-PL",pt:"pt-PT",ro:"ro-RO",ru:"ru-RU",sk:"sk-SK",sl:"sl-SI",srCyrl:"sr-SP",srLatn:"sr-SP",sv:"sv-SE",th:"th-TH",tr:"tr-TR",az:"az-AZ",uk:"uk-UA",vi:"vi-VN",zhHans:"zh-CN",zhHant:"zh-TW"}},t);return{options:i,instance:Ihe(i,r)}}function Ihe(t,r){const i=Ac(typeof t.adapter=="function"?new t.adapter({locale:t.locale[r.current.value]??r.current.value,formats:t.formats}):t.adapter);return Fn(r.current,u=>{i.locale=t.locale[u]??u??i.locale}),i}const GF=["sm","md","lg","xl","xxl"],XU=Symbol.for("vuetify:display"),Gq={mobileBreakpoint:"lg",thresholds:{xs:0,sm:600,md:960,lg:1280,xl:1920,xxl:2560}},Dhe=function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Gq;return Ud(Gq,t)};function qq(t){return _i&&!t?window.innerWidth:typeof t=="object"&&t.clientWidth||0}function Yq(t){return _i&&!t?window.innerHeight:typeof t=="object"&&t.clientHeight||0}function Xq(t){const r=_i&&!t?window.navigator.userAgent:"ssr";function i(Z){return!!r.match(Z)}const u=i(/android/i),g=i(/iphone|ipad|ipod/i),h=i(/cordova/i),x=i(/electron/i),w=i(/chrome/i),R=i(/edge/i),D=i(/firefox/i),O=i(/opera/i),M=i(/win/i),H=i(/mac/i),K=i(/linux/i);return{android:u,ios:g,cordova:h,electron:x,chrome:w,edge:R,firefox:D,opera:O,win:M,mac:H,linux:K,touch:Qme,ssr:r==="ssr"}}function Phe(t,r){const{thresholds:i,mobileBreakpoint:u}=Dhe(t),g=Do(Yq(r)),h=Do(Xq(r)),x=Ac({}),w=Do(qq(r));function R(){g.value=Yq(),w.value=qq()}function D(){R(),h.value=Xq()}return Uf(()=>{const O=w.value<i.sm,M=w.value<i.md&&!O,H=w.value<i.lg&&!(M||O),K=w.value<i.xl&&!(H||M||O),Z=w.value<i.xxl&&!(K||H||M||O),Q=w.value>=i.xxl,re=O?"xs":M?"sm":H?"md":K?"lg":Z?"xl":"xxl",U=typeof u=="number"?u:i[u],ge=w.value<U;x.xs=O,x.sm=M,x.md=H,x.lg=K,x.xl=Z,x.xxl=Q,x.smAndUp=!O,x.mdAndUp=!(O||M),x.lgAndUp=!(O||M||H),x.xlAndUp=!(O||M||H||K),x.smAndDown=!(H||K||Z||Q),x.mdAndDown=!(K||Z||Q),x.lgAndDown=!(Z||Q),x.xlAndDown=!Q,x.name=re,x.height=g.value,x.width=w.value,x.mobile=ge,x.mobileBreakpoint=u,x.platform=h.value,x.thresholds=i}),_i&&(window.addEventListener("resize",R,{passive:!0}),eu(()=>{window.removeEventListener("resize",R)},!0)),{...FF(x),update:D,ssr:!!r}}const PQ=qn({mobile:{type:Boolean,default:!1},mobileBreakpoint:[Number,String]},"display");function qF(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{mobile:null},r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Bv();const i=ka(XU);if(!i)throw new Error("Could not find Vuetify display injection");const u=Mt(()=>t.mobile?!0:typeof t.mobileBreakpoint=="number"?i.width.value<t.mobileBreakpoint:t.mobileBreakpoint?i.width.value<i.thresholds.value[t.mobileBreakpoint]:t.mobile===null?i.mobile.value:!1),g=En(()=>r?{[`${r}--mobile`]:u.value}:{});return{...i,displayClasses:g,mobile:u}}const NQ=Symbol.for("vuetify:goto");function MQ(){return{container:void 0,duration:300,layout:!1,offset:0,easing:"easeInOutCubic",patterns:{linear:t=>t,easeInQuad:t=>t**2,easeOutQuad:t=>t*(2-t),easeInOutQuad:t=>t<.5?2*t**2:-1+(4-2*t)*t,easeInCubic:t=>t**3,easeOutCubic:t=>--t**3+1,easeInOutCubic:t=>t<.5?4*t**3:(t-1)*(2*t-2)*(2*t-2)+1,easeInQuart:t=>t**4,easeOutQuart:t=>1- --t**4,easeInOutQuart:t=>t<.5?8*t**4:1-8*--t**4,easeInQuint:t=>t**5,easeOutQuint:t=>1+--t**5,easeInOutQuint:t=>t<.5?16*t**5:1+16*--t**5}}}function Nhe(t){return YW(t)??(document.scrollingElement||document.body)}function YW(t){return typeof t=="string"?document.querySelector(t):cQ(t)}function Z9(t,r,i){if(typeof t=="number")return r&&i?-t:t;let u=YW(t),g=0;for(;u;)g+=r?u.offsetLeft:u.offsetTop,u=u.offsetParent;return g}function Mhe(t,r){return{rtl:r.isRtl,options:Ud(MQ(),t)}}async function Jq(t,r,i,u){const g=i?"scrollLeft":"scrollTop",h=Ud((u==null?void 0:u.options)??MQ(),r),x=u==null?void 0:u.rtl.value,w=(typeof t=="number"?t:YW(t))??0,R=h.container==="parent"&&w instanceof HTMLElement?w.parentElement:Nhe(h.container),D=typeof h.easing=="function"?h.easing:h.patterns[h.easing];if(!D)throw new TypeError(`Easing function "${h.easing}" not found.`);let O;if(typeof w=="number")O=Z9(w,i,x);else if(O=Z9(w,i,x)-Z9(R,i,x),h.layout){const Z=window.getComputedStyle(w).getPropertyValue("--v-layout-top");Z&&(O-=parseInt(Z,10))}O+=h.offset,O=Bhe(R,O,!!x,!!i);const M=R[g]??0;if(O===M)return Promise.resolve(O);const H=performance.now();return new Promise(K=>requestAnimationFrame(function Z(Q){const U=(Q-H)/h.duration,ge=Math.floor(M+(O-M)*D(Mm(U,0,1)));if(R[g]=ge,U>=1&&Math.abs(ge-R[g])<10)return K(O);if(U>2)return K(R[g]);requestAnimationFrame(Z)}))}function Lhe(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const r=ka(NQ),{isRtl:i}=ep();if(!r)throw new Error("[Vuetify] Could not find injected goto instance");const u={...r,rtl:En(()=>r.rtl.value||i.value)};async function g(h,x){return Jq(h,Ud(t,x),!1,u)}return g.horizontal=async(h,x)=>Jq(h,Ud(t,x),!0,u),g}function Bhe(t,r,i,u){const{scrollWidth:g,scrollHeight:h}=t,[x,w]=t===document.scrollingElement?[window.innerWidth,window.innerHeight]:[t.offsetWidth,t.offsetHeight];let R,D;return u?i?(R=-(g-x),D=0):(R=0,D=g-x):(R=0,D=h+-w),Mm(r,R,D)}const Fhe={collapse:"mdi-chevron-up",complete:"mdi-check",cancel:"mdi-close-circle",close:"mdi-close",delete:"mdi-close-circle",clear:"mdi-close-circle",success:"mdi-check-circle",info:"mdi-information",warning:"mdi-alert-circle",error:"mdi-close-circle",prev:"mdi-chevron-left",next:"mdi-chevron-right",checkboxOn:"mdi-checkbox-marked",checkboxOff:"mdi-checkbox-blank-outline",checkboxIndeterminate:"mdi-minus-box",delimiter:"mdi-circle",sortAsc:"mdi-arrow-up",sortDesc:"mdi-arrow-down",expand:"mdi-chevron-down",menu:"mdi-menu",subgroup:"mdi-menu-down",dropdown:"mdi-menu-down",radioOn:"mdi-radiobox-marked",radioOff:"mdi-radiobox-blank",edit:"mdi-pencil",ratingEmpty:"mdi-star-outline",ratingFull:"mdi-star",ratingHalf:"mdi-star-half-full",loading:"mdi-cached",first:"mdi-page-first",last:"mdi-page-last",unfold:"mdi-unfold-more-horizontal",file:"mdi-paperclip",plus:"mdi-plus",minus:"mdi-minus",calendar:"mdi-calendar",treeviewCollapse:"mdi-menu-down",treeviewExpand:"mdi-menu-right",eyeDropper:"mdi-eyedropper",upload:"mdi-cloud-upload",color:"mdi-palette",command:"mdi-apple-keyboard-command",ctrl:"mdi-apple-keyboard-control",space:"mdi-keyboard-space",shift:"mdi-apple-keyboard-shift",alt:"mdi-apple-keyboard-option",enter:"mdi-keyboard-return",arrowup:"mdi-arrow-up",arrowdown:"mdi-arrow-down",arrowleft:"mdi-arrow-left",arrowright:"mdi-arrow-right",backspace:"mdi-backspace"},$he={component:t=>Nv(BQ,{...t,class:"mdi"})},fi=[String,Function,Object,Array],JU=Symbol.for("vuetify:icons"),YF=qn({icon:{type:fi},tag:{type:[String,Object,Function],required:!0}},"icon"),Qq=ts()({name:"VComponentIcon",props:YF(),setup(t,r){let{slots:i}=r;return()=>{const u=t.icon;return ce(t.tag,null,{default:()=>{var g;return[t.icon?ce(u,null,null):(g=i.default)==null?void 0:g.call(i)]}})}}}),LQ=VE({name:"VSvgIcon",inheritAttrs:!1,props:YF(),setup(t,r){let{attrs:i}=r;return()=>ce(t.tag,Xo(i,{style:null}),{default:()=>[ie("svg",{class:"v-icon__svg",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",role:"img","aria-hidden":"true"},[Array.isArray(t.icon)?t.icon.map(u=>Array.isArray(u)?ie("path",{d:u[0],"fill-opacity":u[1]},null):ie("path",{d:u},null)):ie("path",{d:t.icon},null)])]})}});VE({name:"VLigatureIcon",props:YF(),setup(t){return()=>ce(t.tag,null,{default:()=>[t.icon]})}});const BQ=VE({name:"VClassIcon",props:YF(),setup(t){return()=>ce(t.tag,{class:xo(t.icon)},null)}});function Vhe(){return{svg:{component:LQ},class:{component:BQ}}}function zhe(t){const r=Vhe(),i=(t==null?void 0:t.defaultSet)??"mdi";return i==="mdi"&&!r.mdi&&(r.mdi=$he),Ud({defaultSet:i,sets:r,aliases:{...Fhe,vuetify:["M8.2241 14.2009L12 21L22 3H14.4459L8.2241 14.2009Z",["M7.26303 12.4733L7.00113 12L2 3H12.5261C12.5261 3 12.5261 3 12.5261 3L7.26303 12.4733Z",.6]],"vuetify-outline":"svg:M7.26 12.47 12.53 3H2L7.26 12.47ZM14.45 3 8.22 14.2 12 21 22 3H14.45ZM18.6 5 12 16.88 10.51 14.2 15.62 5ZM7.26 8.35 5.4 5H9.13L7.26 8.35Z","vuetify-play":["m6.376 13.184-4.11-7.192C1.505 4.66 2.467 3 4.003 3h8.532l-.953 1.576-.006.01-.396.677c-.429.732-.214 1.507.194 2.015.404.503 1.092.878 1.869.806a3.72 3.72 0 0 1 1.005.022c.276.053.434.143.523.237.138.146.38.635-.25 2.09-.893 1.63-1.553 1.722-1.847 1.677-.213-.033-.468-.158-.756-.406a4.95 4.95 0 0 1-.8-.927c-.39-.564-1.04-.84-1.66-.846-.625-.006-1.316.27-1.693.921l-.478.826-.911 1.506Z",["M9.093 11.552c.046-.079.144-.15.32-.148a.53.53 0 0 1 .43.207c.285.414.636.847 1.046 1.2.405.35.914.662 1.516.754 1.334.205 2.502-.698 3.48-2.495l.014-.028.013-.03c.687-1.574.774-2.852-.005-3.675-.37-.391-.861-.586-1.333-.676a5.243 5.243 0 0 0-1.447-.044c-.173.016-.393-.073-.54-.257-.145-.18-.127-.316-.082-.392l.393-.672L14.287 3h5.71c1.536 0 2.499 1.659 1.737 2.992l-7.997 13.996c-.768 1.344-2.706 1.344-3.473 0l-3.037-5.314 1.377-2.278.004-.006.004-.007.481-.831Z",.6]]}},t)}const Hhe=t=>{const r=ka(JU);if(!r)throw new Error("Missing Vuetify Icons provide!");return{iconData:Mt(()=>{var R;const u=Pv(t);if(!u)return{component:Qq};let g=u;if(typeof g=="string"&&(g=g.trim(),g.startsWith("$")&&(g=(R=r.aliases)==null?void 0:R[g.slice(1)])),Array.isArray(g))return{component:LQ,icon:g};if(typeof g!="string")return{component:Qq,icon:g};const h=Object.keys(r.sets).find(D=>typeof g=="string"&&g.startsWith(`${D}:`)),x=h?g.slice(h.length+1):g;return{component:r.sets[h??r.defaultSet].component,icon:x}})}},KR=Symbol.for("vuetify:theme"),oc=qn({theme:String},"theme");function eY(){return{defaultTheme:"light",prefix:"v-",variations:{colors:[],lighten:0,darken:0},themes:{light:{dark:!1,colors:{background:"#FFFFFF",surface:"#FFFFFF","surface-bright":"#FFFFFF","surface-light":"#EEEEEE","surface-variant":"#424242","on-surface-variant":"#EEEEEE",primary:"#1867C0","primary-darken-1":"#1F5592",secondary:"#48A9A6","secondary-darken-1":"#018786",error:"#B00020",info:"#2196F3",success:"#4CAF50",warning:"#FB8C00"},variables:{"border-color":"#000000","border-opacity":.12,"high-emphasis-opacity":.87,"medium-emphasis-opacity":.6,"disabled-opacity":.38,"idle-opacity":.04,"hover-opacity":.04,"focus-opacity":.12,"selected-opacity":.08,"activated-opacity":.12,"pressed-opacity":.12,"dragged-opacity":.08,"theme-kbd":"#EEEEEE","theme-on-kbd":"#000000","theme-code":"#F5F5F5","theme-on-code":"#000000"}},dark:{dark:!0,colors:{background:"#121212",surface:"#212121","surface-bright":"#ccbfd6","surface-light":"#424242","surface-variant":"#c8c8c8","on-surface-variant":"#000000",primary:"#2196F3","primary-darken-1":"#277CC1",secondary:"#54B6B2","secondary-darken-1":"#48A9A6",error:"#CF6679",info:"#2196F3",success:"#4CAF50",warning:"#FB8C00"},variables:{"border-color":"#FFFFFF","border-opacity":.12,"high-emphasis-opacity":1,"medium-emphasis-opacity":.7,"disabled-opacity":.5,"idle-opacity":.1,"hover-opacity":.04,"focus-opacity":.12,"selected-opacity":.08,"activated-opacity":.12,"pressed-opacity":.16,"dragged-opacity":.08,"theme-kbd":"#424242","theme-on-kbd":"#FFFFFF","theme-code":"#343434","theme-on-code":"#CCCCCC"}}},stylesheetId:"vuetify-theme-stylesheet",scoped:!1,unimportant:!1,utilities:!0}}function Uhe(){var u,g;let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:eY();const r=eY();if(!t)return{...r,isDisabled:!0};const i={};for(const[h,x]of Object.entries(t.themes??{})){const w=x.dark||h==="dark"?(u=r.themes)==null?void 0:u.dark:(g=r.themes)==null?void 0:g.light;i[h]=Ud(w,x)}return Ud(r,{...t,themes:i})}function MC(t,r,i,u){t.push(`${Zhe(r,u)} {
`,...i.map(g=>`  ${g};
`),`}
`)}function tY(t,r){const i=t.dark?2:1,u=t.dark?1:2,g=[];for(const[h,x]of Object.entries(t.colors)){const w=Ov(x);g.push(`--${r}theme-${h}: ${w.r},${w.g},${w.b}`),h.startsWith("on-")||g.push(`--${r}theme-${h}-overlay-multiplier: ${Nge(x)>.18?i:u}`)}for(const[h,x]of Object.entries(t.variables)){const w=typeof x=="string"&&x.startsWith("#")?Ov(x):void 0,R=w?`${w.r}, ${w.g}, ${w.b}`:void 0;g.push(`--${r}${h}: ${R??x}`)}return g}function Whe(t,r,i){const u={};if(i)for(const g of["lighten","darken"]){const h=g==="lighten"?Dge:Pge;for(const x of lQ(i[g],1))u[`${t}-${g}-${x}`]=Oge(h(Ov(r),x))}return u}function Khe(t,r){if(!r)return{};let i={};for(const u of r.colors){const g=t[u];g&&(i={...i,...Whe(u,g,r)})}return i}function jhe(t){const r={};for(const i of Object.keys(t)){if(i.startsWith("on-")||t[`on-${i}`])continue;const u=`on-${i}`,g=Ov(t[i]);r[u]=SQ(g)}return r}function Zhe(t,r){if(!r)return t;const i=`:where(${r})`;return t===":root"?i:`${i} ${t}`}function Ghe(t,r,i){const u=qhe(t,r);u&&(u.innerHTML=i)}function qhe(t,r){if(!_i)return null;let i=document.getElementById(t);return i||(i=document.createElement("style"),i.id=t,i.type="text/css",r&&i.setAttribute("nonce",r),document.head.appendChild(i)),i}function Yhe(t){const r=Uhe(t),i=Do(r.defaultTheme),u=Ln(r.themes),g=Do("light"),h=Mt({get(){return i.value==="system"?g.value:i.value},set(U){i.value=U}}),x=Mt(()=>{const U={};for(const[ge,de]of Object.entries(u.value)){const q={...de.colors,...Khe(de.colors,r.variations)};U[ge]={...de,colors:{...q,...jhe(q)}}}return U}),w=En(()=>x.value[h.value]),R=Mt(()=>{var q;const U=[],ge=r.unimportant?"":" !important",de=r.scoped?r.prefix:"";(q=w.value)!=null&&q.dark&&MC(U,":root",["color-scheme: dark"],r.scope),MC(U,":root",tY(w.value,r.prefix),r.scope);for(const[he,oe]of Object.entries(x.value))MC(U,`.${r.prefix}theme--${he}`,[`color-scheme: ${oe.dark?"dark":"normal"}`,...tY(oe,r.prefix)],r.scope);if(r.utilities){const he=[],oe=[],_e=new Set(Object.values(x.value).flatMap(Ue=>Object.keys(Ue.colors)));for(const Ue of _e)Ue.startsWith("on-")?MC(oe,`.${Ue}`,[`color: rgb(var(--${r.prefix}theme-${Ue}))${ge}`],r.scope):(MC(he,`.${de}bg-${Ue}`,[`--${r.prefix}theme-overlay-multiplier: var(--${r.prefix}theme-${Ue}-overlay-multiplier)`,`background-color: rgb(var(--${r.prefix}theme-${Ue}))${ge}`,`color: rgb(var(--${r.prefix}theme-on-${Ue}))${ge}`],r.scope),MC(oe,`.${de}text-${Ue}`,[`color: rgb(var(--${r.prefix}theme-${Ue}))${ge}`],r.scope),MC(oe,`.${de}border-${Ue}`,[`--${r.prefix}border-color: var(--${r.prefix}theme-${Ue})`],r.scope));U.push(...he,...oe)}return U.map((he,oe)=>oe===0?he:`    ${he}`).join("")}),D=En(()=>r.isDisabled?void 0:`${r.prefix}theme--${h.value}`),O=En(()=>Object.keys(x.value));if(ege){let ge=function(){g.value=U.matches?"dark":"light"};var re=ge;const U=window.matchMedia("(prefers-color-scheme: dark)");ge(),U.addEventListener("change",ge,{passive:!0}),SW()&&eu(()=>{U.removeEventListener("change",ge)})}function M(U){if(r.isDisabled)return;const ge=U._context.provides.usehead;if(ge){let he=function(){return{style:[{textContent:R.value,id:r.stylesheetId,nonce:r.cspNonce||!1}]}};var de=he;if(ge.push){const oe=ge.push(he);_i&&Fn(R,()=>{oe.patch(he)})}else _i?(ge.addHeadObjs(En(he)),Uf(()=>ge.updateDOM())):ge.addHeadObjs(he())}else{let he=function(){Ghe(r.stylesheetId,r.cspNonce,R.value)};var q=he;_i?Fn(R,he,{immediate:!0}):he()}}function H(U){O.value.includes(U)&&(h.value=U)}function K(){let U=arguments.length>0&&arguments[0]!==void 0?arguments[0]:O.value;const ge=U.indexOf(h.value),de=ge===-1?0:(ge+1)%U.length;H(U[de])}function Z(){let U=arguments.length>0&&arguments[0]!==void 0?arguments[0]:["light","dark"];K(U)}const Q=new Proxy(h,{get(U,ge){return Reflect.get(U,ge)},set(U,ge,de){return ge==="value"&&vQ(`theme.global.name.value = ${de}`,`theme.change('${de}')`),Reflect.set(U,ge,de)}});return{install:M,change:H,cycle:K,toggle:Z,isDisabled:r.isDisabled,name:h,themes:u,current:w,computedThemes:x,prefix:r.prefix,themeClasses:D,styles:R,global:{name:Q,current:w}}}function tu(t){xc("provideTheme");const r=ka(KR,null);if(!r)throw new Error("Could not find Vuetify theme injection");const i=En(()=>t.theme??r.name.value),u=En(()=>r.themes.value[i.value]),g=En(()=>r.isDisabled?void 0:`${r.prefix}theme--${i.value}`),h={...r,name:i,current:u,themeClasses:g};return Wf(KR,h),h}function Xhe(){xc("useTheme");const t=ka(KR,null);if(!t)throw new Error("Could not find Vuetify theme injection");return t}function RE(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"content";const i=UU(),u=Ln();if(_i){const g=new ResizeObserver(h=>{h.length&&(r==="content"?u.value=h[0].contentRect:u.value=h[0].target.getBoundingClientRect())});Ru(()=>{g.disconnect()}),Fn(()=>i.el,(h,x)=>{x&&(g.unobserve(x),u.value=void 0),h&&g.observe(h)},{flush:"post"})}return{resizeRef:i,contentRect:FE(u)}}const vF=Symbol.for("vuetify:layout"),FQ=Symbol.for("vuetify:layout-item"),nY=1e3,Jhe=qn({overlaps:{type:Array,default:()=>[]},fullHeight:Boolean},"layout"),$Q=qn({name:{type:String},order:{type:[Number,String],default:0},absolute:Boolean},"layout-item");function Qhe(){const t=ka(vF);if(!t)throw new Error("[Vuetify] Could not find injected layout");return{getLayoutItem:t.getLayoutItem,mainRect:t.mainRect,mainStyles:t.mainStyles}}function VQ(t){const r=ka(vF);if(!r)throw new Error("[Vuetify] Could not find injected layout");const i=t.id??`layout-item-${V1()}`,u=xc("useLayoutItem");Wf(FQ,{id:i});const g=Do(!1);zF(()=>g.value=!0),NW(()=>g.value=!1);const{layoutItemStyles:h,layoutItemScrimStyles:x}=r.register(u,{...t,active:Mt(()=>g.value?!1:t.active.value),id:i});return Ru(()=>r.unregister(i)),{layoutItemStyles:h,layoutRect:r.layoutRect,layoutItemScrimStyles:x}}const epe=(t,r,i,u)=>{let g={top:0,left:0,right:0,bottom:0};const h=[{id:"",layer:{...g}}];for(const x of t){const w=r.get(x),R=i.get(x),D=u.get(x);if(!w||!R||!D)continue;const O={...g,[w.value]:parseInt(g[w.value],10)+(D.value?parseInt(R.value,10):0)};h.push({id:x,layer:O}),g=O}return h};function tpe(t){const r=ka(vF,null),i=Mt(()=>r?r.rootZIndex.value-100:nY),u=Ln([]),g=Ac(new Map),h=Ac(new Map),x=Ac(new Map),w=Ac(new Map),R=Ac(new Map),{resizeRef:D,contentRect:O}=RE(),M=Mt(()=>{const oe=new Map,_e=t.overlaps??[];for(const Ue of _e.filter(Qe=>Qe.includes(":"))){const[Qe,ct]=Ue.split(":");if(!u.value.includes(Qe)||!u.value.includes(ct))continue;const Ce=g.get(Qe),Te=g.get(ct),I=h.get(Qe),dt=h.get(ct);!Ce||!Te||!I||!dt||(oe.set(ct,{position:Ce.value,amount:parseInt(I.value,10)}),oe.set(Qe,{position:Te.value,amount:-parseInt(dt.value,10)}))}return oe}),H=Mt(()=>{const oe=[...new Set([...x.values()].map(Ue=>Ue.value))].sort((Ue,Qe)=>Ue-Qe),_e=[];for(const Ue of oe){const Qe=u.value.filter(ct=>{var Ce;return((Ce=x.get(ct))==null?void 0:Ce.value)===Ue});_e.push(...Qe)}return epe(_e,g,h,w)}),K=Mt(()=>!Array.from(R.values()).some(oe=>oe.value)),Z=Mt(()=>H.value[H.value.length-1].layer),Q=En(()=>({"--v-layout-left":Fs(Z.value.left),"--v-layout-right":Fs(Z.value.right),"--v-layout-top":Fs(Z.value.top),"--v-layout-bottom":Fs(Z.value.bottom),...K.value?void 0:{transition:"none"}})),re=Mt(()=>H.value.slice(1).map((oe,_e)=>{let{id:Ue}=oe;const{layer:Qe}=H.value[_e],ct=h.get(Ue),Ce=g.get(Ue);return{id:Ue,...Qe,size:Number(ct.value),position:Ce.value}})),U=oe=>re.value.find(_e=>_e.id===oe),ge=xc("createLayout"),de=Do(!1);jd(()=>{de.value=!0}),Wf(vF,{register:(oe,_e)=>{let{id:Ue,order:Qe,position:ct,layoutSize:Ce,elementSize:Te,active:I,disableTransitions:dt,absolute:gt}=_e;x.set(Ue,Qe),g.set(Ue,ct),h.set(Ue,Ce),w.set(Ue,I),dt&&R.set(Ue,dt);const en=gE(FQ,ge==null?void 0:ge.vnode).indexOf(oe);en>-1?u.value.splice(en,0,Ue):u.value.push(Ue);const ft=Mt(()=>re.value.findIndex(Ve=>Ve.id===Ue)),Rn=Mt(()=>i.value+H.value.length*2-ft.value*2),Ot=Mt(()=>{const Ve=ct.value==="left"||ct.value==="right",bt=ct.value==="right",Yn=ct.value==="bottom",Yt=Te.value??Ce.value,Bn=Yt===0?"%":"px",Jt={[ct.value]:0,zIndex:Rn.value,transform:`translate${Ve?"X":"Y"}(${(I.value?0:-(Yt===0?100:Yt))*(bt||Yn?-1:1)}${Bn})`,position:gt.value||i.value!==nY?"absolute":"fixed",...K.value?void 0:{transition:"none"}};if(!de.value)return Jt;const te=re.value[ft.value];if(!te)throw new Error(`[Vuetify] Could not find layout item "${Ue}"`);const vo=M.value.get(Ue);return vo&&(te[vo.position]+=vo.amount),{...Jt,height:Ve?`calc(100% - ${te.top}px - ${te.bottom}px)`:Te.value?`${Te.value}px`:void 0,left:bt?void 0:`${te.left}px`,right:bt?`${te.right}px`:void 0,top:ct.value!=="bottom"?`${te.top}px`:void 0,bottom:ct.value!=="top"?`${te.bottom}px`:void 0,width:Ve?Te.value?`${Te.value}px`:void 0:`calc(100% - ${te.left}px - ${te.right}px)`}}),rt=Mt(()=>({zIndex:Rn.value-1}));return{layoutItemStyles:Ot,layoutItemScrimStyles:rt,zIndex:Rn}},unregister:oe=>{x.delete(oe),g.delete(oe),h.delete(oe),w.delete(oe),R.delete(oe),u.value=u.value.filter(_e=>_e!==oe)},mainRect:Z,mainStyles:Q,getLayoutItem:U,items:re,layoutRect:O,rootZIndex:i});const q=En(()=>["v-layout",{"v-layout--full-height":t.fullHeight}]),he=En(()=>({zIndex:r?i.value:void 0,position:r?"relative":void 0,overflow:r?"hidden":void 0}));return{layoutClasses:q,layoutStyles:he,getLayoutItem:U,items:re,layoutRect:O,layoutRef:D}}function zQ(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{blueprint:r,...i}=t,u=Ud(r,i),{aliases:g={},components:h={},directives:x={}}=u,w=Ux();return w.run(()=>{const R=Lge(u.defaults),D=Phe(u.display,u.ssr),O=Yhe(u.theme),M=zhe(u.icons),H=jge(u.locale),K=Rhe(u.date,H),Z=Mhe(u.goTo,H);function Q(U){for(const de in x)U.directive(de,x[de]);for(const de in h)U.component(de,h[de]);for(const de in g)U.component(de,VE({...g[de],name:de,aliasName:g[de].name}));const ge=Ux();if(ge.run(()=>{O.install(U)}),U.onUnmount(()=>ge.stop()),U.provide(OE,R),U.provide(XU,D),U.provide(KR,O),U.provide(JU,M),U.provide(hF,H),U.provide(Ohe,K.options),U.provide(Zq,K.instance),U.provide(NQ,Z),_i&&u.ssr)if(U.$nuxt)U.$nuxt.hook("app:suspense:resolve",()=>{D.update()});else{const{mount:de}=U;U.mount=function(){const q=de(...arguments);return ys(()=>D.update()),U.mount=de,q}}U.mixin({computed:{$vuetify(){return Ac({defaults:nE.call(this,OE),display:nE.call(this,XU),theme:nE.call(this,KR),icons:nE.call(this,JU),locale:nE.call(this,hF),date:nE.call(this,Zq)})}}})}function re(){w.stop()}return{install:Q,unmount:re,defaults:R,display:D,theme:O,icons:M,locale:H,date:K,goTo:Z}})}const npe="3.9.0";zQ.version=npe;function nE(t){var u,g;const r=this.$,i=((u=r.parent)==null?void 0:u.provides)??((g=r.vnode.appContext)==null?void 0:g.provides);if(i&&t in i)return i[t]}const ope=zQ({theme:{themes:{light:{colors:{primary:"#1867C0",secondary:"#5CBBF6"}}}}});/*!
 * pinia v2.3.1
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */let HQ;const XF=t=>HQ=t,UQ=Symbol();function QU(t){return t&&typeof t=="object"&&Object.prototype.toString.call(t)==="[object Object]"&&typeof t.toJSON!="function"}var DR;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(DR||(DR={}));function spe(){const t=Ux(!0),r=t.run(()=>Ln({}));let i=[],u=[];const g=IW({install(h){XF(g),g._a=h,h.provide(UQ,g),h.config.globalProperties.$pinia=g,u.forEach(x=>i.push(x)),u=[]},use(h){return this._a?i.push(h):u.push(h),this},_p:i,_a:null,_e:t,_s:new Map,state:r});return g}const WQ=()=>{};function oY(t,r,i,u=WQ){t.push(r);const g=()=>{const h=t.indexOf(r);h>-1&&(t.splice(h,1),u())};return!i&&SW()&&eu(g),g}function oE(t,...r){t.slice().forEach(i=>{i(...r)})}const rpe=t=>t(),sY=Symbol(),G9=Symbol();function eW(t,r){t instanceof Map&&r instanceof Map?r.forEach((i,u)=>t.set(u,i)):t instanceof Set&&r instanceof Set&&r.forEach(t.add,t);for(const i in r){if(!r.hasOwnProperty(i))continue;const u=r[i],g=t[i];QU(g)&&QU(u)&&t.hasOwnProperty(i)&&!Ha(u)&&!zx(u)?t[i]=eW(g,u):t[i]=u}return t}const ipe=Symbol();function ape(t){return!QU(t)||!t.hasOwnProperty(ipe)}const{assign:Px}=Object;function lpe(t){return!!(Ha(t)&&t.effect)}function cpe(t,r,i,u){const{state:g,actions:h,getters:x}=r,w=i.state.value[t];let R;function D(){w||(i.state.value[t]=g?g():{});const O=FF(i.state.value[t]);return Px(O,h,Object.keys(x||{}).reduce((M,H)=>(M[H]=IW(Mt(()=>{XF(i);const K=i._s.get(t);return x[H].call(K,K)})),M),{}))}return R=KQ(t,D,r,i,u,!0),R}function KQ(t,r,i={},u,g,h){let x;const w=Px({actions:{}},i),R={deep:!0};let D,O,M=[],H=[],K;const Z=u.state.value[t];!h&&!Z&&(u.state.value[t]={}),Ln({});let Q;function re(Ue){let Qe;D=O=!1,typeof Ue=="function"?(Ue(u.state.value[t]),Qe={type:DR.patchFunction,storeId:t,events:K}):(eW(u.state.value[t],Ue),Qe={type:DR.patchObject,payload:Ue,storeId:t,events:K});const ct=Q=Symbol();ys().then(()=>{Q===ct&&(D=!0)}),O=!0,oE(M,Qe,u.state.value[t])}const U=h?function(){const{state:Qe}=i,ct=Qe?Qe():{};this.$patch(Ce=>{Px(Ce,ct)})}:WQ;function ge(){x.stop(),M=[],H=[],u._s.delete(t)}const de=(Ue,Qe="")=>{if(sY in Ue)return Ue[G9]=Qe,Ue;const ct=function(){XF(u);const Ce=Array.from(arguments),Te=[],I=[];function dt(en){Te.push(en)}function gt(en){I.push(en)}oE(H,{args:Ce,name:ct[G9],store:he,after:dt,onError:gt});let Ft;try{Ft=Ue.apply(this&&this.$id===t?this:he,Ce)}catch(en){throw oE(I,en),en}return Ft instanceof Promise?Ft.then(en=>(oE(Te,en),en)).catch(en=>(oE(I,en),Promise.reject(en))):(oE(Te,Ft),Ft)};return ct[sY]=!0,ct[G9]=Qe,ct},q={_p:u,$id:t,$onAction:oY.bind(null,H),$patch:re,$reset:U,$subscribe(Ue,Qe={}){const ct=oY(M,Ue,Qe.detached,()=>Ce()),Ce=x.run(()=>Fn(()=>u.state.value[t],Te=>{(Qe.flush==="sync"?O:D)&&Ue({storeId:t,type:DR.direct,events:K},Te)},Px({},R,Qe)));return ct},$dispose:ge},he=Ac(q);u._s.set(t,he);const _e=(u._a&&u._a.runWithContext||rpe)(()=>u._e.run(()=>(x=Ux()).run(()=>r({action:de}))));for(const Ue in _e){const Qe=_e[Ue];if(Ha(Qe)&&!lpe(Qe)||zx(Qe))h||(Z&&ape(Qe)&&(Ha(Qe)?Qe.value=Z[Ue]:eW(Qe,Z[Ue])),u.state.value[t][Ue]=Qe);else if(typeof Qe=="function"){const ct=de(Qe,Ue);_e[Ue]=ct,w.actions[Ue]=Qe}}return Px(he,_e),Px(Ns(he),_e),Object.defineProperty(he,"$state",{get:()=>u.state.value[t],set:Ue=>{re(Qe=>{Px(Qe,Ue)})}}),u._p.forEach(Ue=>{Px(he,x.run(()=>Ue({store:he,app:u._a,pinia:u,options:w})))}),Z&&h&&i.hydrate&&i.hydrate(he.$state,Z),D=!0,O=!0,he}/*! #__NO_SIDE_EFFECTS__ */function Iu(t,r,i){let u,g;const h=typeof r=="function";typeof t=="string"?(u=t,g=h?i:r):(g=t,u=t.id);function x(w,R){const D=Vfe();return w=w||(D?ka(UQ,null):null),w&&XF(w),w=HQ,w._s.has(u)||(h?KQ(u,r,g,w):cpe(u,g,w)),w._s.get(u)}return x.$id=u,x}const upe=spe();/*!
  * shared v11.1.9
  * (c) 2025 kazuya kawaguchi
  * Released under the MIT License.
  */const rY=typeof window<"u",jQ=(t,r=!1)=>r?Symbol.for(t):Symbol(t),dpe=(t,r,i)=>fpe({l:t,k:r,s:i}),fpe=t=>JSON.stringify(t).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029").replace(/\u0027/g,"\\u0027"),Dm=t=>typeof t=="number"&&isFinite(t),yF=t=>GQ(t)==="[object RegExp]",mpe=t=>zd(t)&&Object.keys(t).length===0,HE=Object.assign,gpe=Object.create,Kd=(t=null)=>gpe(t);let iY;const XW=()=>iY||(iY=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:Kd());function aY(t){return t.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")}const hpe=Object.prototype.hasOwnProperty;function lb(t,r){return hpe.call(t,r)}const Mv=Array.isArray,nc=t=>typeof t=="function",Ur=t=>typeof t=="string",Vf=t=>typeof t=="boolean",Hl=t=>t!==null&&typeof t=="object",ppe=t=>Hl(t)&&nc(t.then)&&nc(t.catch),ZQ=Object.prototype.toString,GQ=t=>ZQ.call(t),zd=t=>GQ(t)==="[object Object]",bpe=t=>t==null?"":Mv(t)||zd(t)&&t.toString===ZQ?JSON.stringify(t,null,2):String(t);function JW(t,r=""){return t.reduce((i,u,g)=>g===0?i+u:i+r+u,"")}function vpe(t,r){typeof console<"u"&&(console.warn("[intlify] "+t),r&&console.warn(r.stack))}const I6=t=>!Hl(t)||Mv(t);function K6(t,r){if(I6(t)||I6(r))throw new Error("Invalid value");const i=[{src:t,des:r}];for(;i.length;){const{src:u,des:g}=i.pop();Object.keys(u).forEach(h=>{h!=="__proto__"&&(Hl(u[h])&&!Hl(g[h])&&(g[h]=Array.isArray(u[h])?[]:Kd()),I6(g[h])||I6(u[h])?g[h]=u[h]:i.push({src:u[h],des:g[h]}))})}}/*!
  * message-compiler v11.1.9
  * (c) 2025 kazuya kawaguchi
  * Released under the MIT License.
  */function ype(t,r,i){return{line:t,column:r,offset:i}}function tW(t,r,i){return{start:t,end:r}}const Xi={EXPECTED_TOKEN:1,INVALID_TOKEN_IN_PLACEHOLDER:2,UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER:3,UNKNOWN_ESCAPE_SEQUENCE:4,INVALID_UNICODE_ESCAPE_SEQUENCE:5,UNBALANCED_CLOSING_BRACE:6,UNTERMINATED_CLOSING_BRACE:7,EMPTY_PLACEHOLDER:8,NOT_ALLOW_NEST_PLACEHOLDER:9,INVALID_LINKED_FORMAT:10,MUST_HAVE_MESSAGES_IN_PLURAL:11,UNEXPECTED_EMPTY_LINKED_MODIFIER:12,UNEXPECTED_EMPTY_LINKED_KEY:13,UNEXPECTED_LEXICAL_ANALYSIS:14},xpe=17;function JF(t,r,i={}){const{domain:u,messages:g,args:h}=i,x=t,w=new SyntaxError(String(x));return w.code=t,r&&(w.location=r),w.domain=u,w}function wpe(t){throw t}const S1=" ",Cpe="\r",Bf=`
`,Spe="\u2028",_pe="\u2029";function kpe(t){const r=t;let i=0,u=1,g=1,h=0;const x=_e=>r[_e]===Cpe&&r[_e+1]===Bf,w=_e=>r[_e]===Bf,R=_e=>r[_e]===_pe,D=_e=>r[_e]===Spe,O=_e=>x(_e)||w(_e)||R(_e)||D(_e),M=()=>i,H=()=>u,K=()=>g,Z=()=>h,Q=_e=>x(_e)||R(_e)||D(_e)?Bf:r[_e],re=()=>Q(i),U=()=>Q(i+h);function ge(){return h=0,O(i)&&(u++,g=0),x(i)&&i++,i++,g++,r[i]}function de(){return x(i+h)&&h++,h++,r[i+h]}function q(){i=0,u=1,g=1,h=0}function he(_e=0){h=_e}function oe(){const _e=i+h;for(;_e!==i;)ge();h=0}return{index:M,line:H,column:K,peekOffset:Z,charAt:Q,currentChar:re,currentPeek:U,next:ge,peek:de,reset:q,resetPeek:he,skipToPeek:oe}}const Ox=void 0,Epe=".",lY="'",Tpe="tokenizer";function Ape(t,r={}){const i=r.location!==!1,u=kpe(t),g=()=>u.index(),h=()=>ype(u.line(),u.column(),u.index()),x=h(),w=g(),R={currentType:13,offset:w,startLoc:x,endLoc:x,lastType:13,lastOffset:w,lastStartLoc:x,lastEndLoc:x,braceNest:0,inLinked:!1,text:""},D=()=>R,{onError:O}=r;function M(Re,Fe,Je,...wt){const pn=D();if(Fe.column+=Je,Fe.offset+=Je,O){const Qt=i?tW(pn.startLoc,Fe):null,An=JF(Re,Qt,{domain:Tpe,args:wt});O(An)}}function H(Re,Fe,Je){Re.endLoc=h(),Re.currentType=Fe;const wt={type:Fe};return i&&(wt.loc=tW(Re.startLoc,Re.endLoc)),Je!=null&&(wt.value=Je),wt}const K=Re=>H(Re,13);function Z(Re,Fe){return Re.currentChar()===Fe?(Re.next(),Fe):(M(Xi.EXPECTED_TOKEN,h(),0,Fe),"")}function Q(Re){let Fe="";for(;Re.currentPeek()===S1||Re.currentPeek()===Bf;)Fe+=Re.currentPeek(),Re.peek();return Fe}function re(Re){const Fe=Q(Re);return Re.skipToPeek(),Fe}function U(Re){if(Re===Ox)return!1;const Fe=Re.charCodeAt(0);return Fe>=97&&Fe<=122||Fe>=65&&Fe<=90||Fe===95}function ge(Re){if(Re===Ox)return!1;const Fe=Re.charCodeAt(0);return Fe>=48&&Fe<=57}function de(Re,Fe){const{currentType:Je}=Fe;if(Je!==2)return!1;Q(Re);const wt=U(Re.currentPeek());return Re.resetPeek(),wt}function q(Re,Fe){const{currentType:Je}=Fe;if(Je!==2)return!1;Q(Re);const wt=Re.currentPeek()==="-"?Re.peek():Re.currentPeek(),pn=ge(wt);return Re.resetPeek(),pn}function he(Re,Fe){const{currentType:Je}=Fe;if(Je!==2)return!1;Q(Re);const wt=Re.currentPeek()===lY;return Re.resetPeek(),wt}function oe(Re,Fe){const{currentType:Je}=Fe;if(Je!==7)return!1;Q(Re);const wt=Re.currentPeek()===".";return Re.resetPeek(),wt}function _e(Re,Fe){const{currentType:Je}=Fe;if(Je!==8)return!1;Q(Re);const wt=U(Re.currentPeek());return Re.resetPeek(),wt}function Ue(Re,Fe){const{currentType:Je}=Fe;if(!(Je===7||Je===11))return!1;Q(Re);const wt=Re.currentPeek()===":";return Re.resetPeek(),wt}function Qe(Re,Fe){const{currentType:Je}=Fe;if(Je!==9)return!1;const wt=()=>{const Qt=Re.currentPeek();return Qt==="{"?U(Re.peek()):Qt==="@"||Qt==="|"||Qt===":"||Qt==="."||Qt===S1||!Qt?!1:Qt===Bf?(Re.peek(),wt()):Ce(Re,!1)},pn=wt();return Re.resetPeek(),pn}function ct(Re){Q(Re);const Fe=Re.currentPeek()==="|";return Re.resetPeek(),Fe}function Ce(Re,Fe=!0){const Je=(pn=!1,Qt="")=>{const An=Re.currentPeek();return An==="{"||An==="@"||!An?pn:An==="|"?!(Qt===S1||Qt===Bf):An===S1?(Re.peek(),Je(!0,S1)):An===Bf?(Re.peek(),Je(!0,Bf)):!0},wt=Je();return Fe&&Re.resetPeek(),wt}function Te(Re,Fe){const Je=Re.currentChar();return Je===Ox?Ox:Fe(Je)?(Re.next(),Je):null}function I(Re){const Fe=Re.charCodeAt(0);return Fe>=97&&Fe<=122||Fe>=65&&Fe<=90||Fe>=48&&Fe<=57||Fe===95||Fe===36}function dt(Re){return Te(Re,I)}function gt(Re){const Fe=Re.charCodeAt(0);return Fe>=97&&Fe<=122||Fe>=65&&Fe<=90||Fe>=48&&Fe<=57||Fe===95||Fe===36||Fe===45}function Ft(Re){return Te(Re,gt)}function en(Re){const Fe=Re.charCodeAt(0);return Fe>=48&&Fe<=57}function ft(Re){return Te(Re,en)}function Rn(Re){const Fe=Re.charCodeAt(0);return Fe>=48&&Fe<=57||Fe>=65&&Fe<=70||Fe>=97&&Fe<=102}function Ot(Re){return Te(Re,Rn)}function rt(Re){let Fe="",Je="";for(;Fe=ft(Re);)Je+=Fe;return Je}function Ve(Re){let Fe="";for(;;){const Je=Re.currentChar();if(Je==="{"||Je==="}"||Je==="@"||Je==="|"||!Je)break;if(Je===S1||Je===Bf)if(Ce(Re))Fe+=Je,Re.next();else{if(ct(Re))break;Fe+=Je,Re.next()}else Fe+=Je,Re.next()}return Fe}function bt(Re){re(Re);let Fe="",Je="";for(;Fe=Ft(Re);)Je+=Fe;return Re.currentChar()===Ox&&M(Xi.UNTERMINATED_CLOSING_BRACE,h(),0),Je}function Yn(Re){re(Re);let Fe="";return Re.currentChar()==="-"?(Re.next(),Fe+=`-${rt(Re)}`):Fe+=rt(Re),Re.currentChar()===Ox&&M(Xi.UNTERMINATED_CLOSING_BRACE,h(),0),Fe}function Yt(Re){return Re!==lY&&Re!==Bf}function Bn(Re){re(Re),Z(Re,"'");let Fe="",Je="";for(;Fe=Te(Re,Yt);)Fe==="\\"?Je+=Jt(Re):Je+=Fe;const wt=Re.currentChar();return wt===Bf||wt===Ox?(M(Xi.UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER,h(),0),wt===Bf&&(Re.next(),Z(Re,"'")),Je):(Z(Re,"'"),Je)}function Jt(Re){const Fe=Re.currentChar();switch(Fe){case"\\":case"'":return Re.next(),`\\${Fe}`;case"u":return te(Re,Fe,4);case"U":return te(Re,Fe,6);default:return M(Xi.UNKNOWN_ESCAPE_SEQUENCE,h(),0,Fe),""}}function te(Re,Fe,Je){Z(Re,Fe);let wt="";for(let pn=0;pn<Je;pn++){const Qt=Ot(Re);if(!Qt){M(Xi.INVALID_UNICODE_ESCAPE_SEQUENCE,h(),0,`\\${Fe}${wt}${Re.currentChar()}`);break}wt+=Qt}return`\\${Fe}${wt}`}function vo(Re){return Re!=="{"&&Re!=="}"&&Re!==S1&&Re!==Bf}function nn(Re){re(Re);let Fe="",Je="";for(;Fe=Te(Re,vo);)Je+=Fe;return Je}function yn(Re){let Fe="",Je="";for(;Fe=dt(Re);)Je+=Fe;return Je}function qe(Re){const Fe=Je=>{const wt=Re.currentChar();return wt==="{"||wt==="@"||wt==="|"||wt==="("||wt===")"||!wt||wt===S1?Je:(Je+=wt,Re.next(),Fe(Je))};return Fe("")}function it(Re){re(Re);const Fe=Z(Re,"|");return re(Re),Fe}function Se(Re,Fe){let Je=null;switch(Re.currentChar()){case"{":return Fe.braceNest>=1&&M(Xi.NOT_ALLOW_NEST_PLACEHOLDER,h(),0),Re.next(),Je=H(Fe,2,"{"),re(Re),Fe.braceNest++,Je;case"}":return Fe.braceNest>0&&Fe.currentType===2&&M(Xi.EMPTY_PLACEHOLDER,h(),0),Re.next(),Je=H(Fe,3,"}"),Fe.braceNest--,Fe.braceNest>0&&re(Re),Fe.inLinked&&Fe.braceNest===0&&(Fe.inLinked=!1),Je;case"@":return Fe.braceNest>0&&M(Xi.UNTERMINATED_CLOSING_BRACE,h(),0),Je=Me(Re,Fe)||K(Fe),Fe.braceNest=0,Je;default:{let pn=!0,Qt=!0,An=!0;if(ct(Re))return Fe.braceNest>0&&M(Xi.UNTERMINATED_CLOSING_BRACE,h(),0),Je=H(Fe,1,it(Re)),Fe.braceNest=0,Fe.inLinked=!1,Je;if(Fe.braceNest>0&&(Fe.currentType===4||Fe.currentType===5||Fe.currentType===6))return M(Xi.UNTERMINATED_CLOSING_BRACE,h(),0),Fe.braceNest=0,Ke(Re,Fe);if(pn=de(Re,Fe))return Je=H(Fe,4,bt(Re)),re(Re),Je;if(Qt=q(Re,Fe))return Je=H(Fe,5,Yn(Re)),re(Re),Je;if(An=he(Re,Fe))return Je=H(Fe,6,Bn(Re)),re(Re),Je;if(!pn&&!Qt&&!An)return Je=H(Fe,12,nn(Re)),M(Xi.INVALID_TOKEN_IN_PLACEHOLDER,h(),0,Je.value),re(Re),Je;break}}return Je}function Me(Re,Fe){const{currentType:Je}=Fe;let wt=null;const pn=Re.currentChar();switch((Je===7||Je===8||Je===11||Je===9)&&(pn===Bf||pn===S1)&&M(Xi.INVALID_LINKED_FORMAT,h(),0),pn){case"@":return Re.next(),wt=H(Fe,7,"@"),Fe.inLinked=!0,wt;case".":return re(Re),Re.next(),H(Fe,8,".");case":":return re(Re),Re.next(),H(Fe,9,":");default:return ct(Re)?(wt=H(Fe,1,it(Re)),Fe.braceNest=0,Fe.inLinked=!1,wt):oe(Re,Fe)||Ue(Re,Fe)?(re(Re),Me(Re,Fe)):_e(Re,Fe)?(re(Re),H(Fe,11,yn(Re))):Qe(Re,Fe)?(re(Re),pn==="{"?Se(Re,Fe)||wt:H(Fe,10,qe(Re))):(Je===7&&M(Xi.INVALID_LINKED_FORMAT,h(),0),Fe.braceNest=0,Fe.inLinked=!1,Ke(Re,Fe))}}function Ke(Re,Fe){let Je={type:13};if(Fe.braceNest>0)return Se(Re,Fe)||K(Fe);if(Fe.inLinked)return Me(Re,Fe)||K(Fe);switch(Re.currentChar()){case"{":return Se(Re,Fe)||K(Fe);case"}":return M(Xi.UNBALANCED_CLOSING_BRACE,h(),0),Re.next(),H(Fe,3,"}");case"@":return Me(Re,Fe)||K(Fe);default:{if(ct(Re))return Je=H(Fe,1,it(Re)),Fe.braceNest=0,Fe.inLinked=!1,Je;if(Ce(Re))return H(Fe,0,Ve(Re));break}}return Je}function xe(){const{currentType:Re,offset:Fe,startLoc:Je,endLoc:wt}=R;return R.lastType=Re,R.lastOffset=Fe,R.lastStartLoc=Je,R.lastEndLoc=wt,R.offset=g(),R.startLoc=h(),u.currentChar()===Ox?H(R,13):Ke(u,R)}return{nextToken:xe,currentOffset:g,currentPosition:h,context:D}}const Ope="parser",Rpe=/(?:\\\\|\\'|\\u([0-9a-fA-F]{4})|\\U([0-9a-fA-F]{6}))/g;function Ipe(t,r,i){switch(t){case"\\\\":return"\\";case"\\'":return"'";default:{const u=parseInt(r||i,16);return u<=55295||u>=57344?String.fromCodePoint(u):""}}}function Dpe(t={}){const r=t.location!==!1,{onError:i}=t;function u(U,ge,de,q,...he){const oe=U.currentPosition();if(oe.offset+=q,oe.column+=q,i){const _e=r?tW(de,oe):null,Ue=JF(ge,_e,{domain:Ope,args:he});i(Ue)}}function g(U,ge,de){const q={type:U};return r&&(q.start=ge,q.end=ge,q.loc={start:de,end:de}),q}function h(U,ge,de,q){r&&(U.end=ge,U.loc&&(U.loc.end=de))}function x(U,ge){const de=U.context(),q=g(3,de.offset,de.startLoc);return q.value=ge,h(q,U.currentOffset(),U.currentPosition()),q}function w(U,ge){const de=U.context(),{lastOffset:q,lastStartLoc:he}=de,oe=g(5,q,he);return oe.index=parseInt(ge,10),U.nextToken(),h(oe,U.currentOffset(),U.currentPosition()),oe}function R(U,ge){const de=U.context(),{lastOffset:q,lastStartLoc:he}=de,oe=g(4,q,he);return oe.key=ge,U.nextToken(),h(oe,U.currentOffset(),U.currentPosition()),oe}function D(U,ge){const de=U.context(),{lastOffset:q,lastStartLoc:he}=de,oe=g(9,q,he);return oe.value=ge.replace(Rpe,Ipe),U.nextToken(),h(oe,U.currentOffset(),U.currentPosition()),oe}function O(U){const ge=U.nextToken(),de=U.context(),{lastOffset:q,lastStartLoc:he}=de,oe=g(8,q,he);return ge.type!==11?(u(U,Xi.UNEXPECTED_EMPTY_LINKED_MODIFIER,de.lastStartLoc,0),oe.value="",h(oe,q,he),{nextConsumeToken:ge,node:oe}):(ge.value==null&&u(U,Xi.UNEXPECTED_LEXICAL_ANALYSIS,de.lastStartLoc,0,Cv(ge)),oe.value=ge.value||"",h(oe,U.currentOffset(),U.currentPosition()),{node:oe})}function M(U,ge){const de=U.context(),q=g(7,de.offset,de.startLoc);return q.value=ge,h(q,U.currentOffset(),U.currentPosition()),q}function H(U){const ge=U.context(),de=g(6,ge.offset,ge.startLoc);let q=U.nextToken();if(q.type===8){const he=O(U);de.modifier=he.node,q=he.nextConsumeToken||U.nextToken()}switch(q.type!==9&&u(U,Xi.UNEXPECTED_LEXICAL_ANALYSIS,ge.lastStartLoc,0,Cv(q)),q=U.nextToken(),q.type===2&&(q=U.nextToken()),q.type){case 10:q.value==null&&u(U,Xi.UNEXPECTED_LEXICAL_ANALYSIS,ge.lastStartLoc,0,Cv(q)),de.key=M(U,q.value||"");break;case 4:q.value==null&&u(U,Xi.UNEXPECTED_LEXICAL_ANALYSIS,ge.lastStartLoc,0,Cv(q)),de.key=R(U,q.value||"");break;case 5:q.value==null&&u(U,Xi.UNEXPECTED_LEXICAL_ANALYSIS,ge.lastStartLoc,0,Cv(q)),de.key=w(U,q.value||"");break;case 6:q.value==null&&u(U,Xi.UNEXPECTED_LEXICAL_ANALYSIS,ge.lastStartLoc,0,Cv(q)),de.key=D(U,q.value||"");break;default:{u(U,Xi.UNEXPECTED_EMPTY_LINKED_KEY,ge.lastStartLoc,0);const he=U.context(),oe=g(7,he.offset,he.startLoc);return oe.value="",h(oe,he.offset,he.startLoc),de.key=oe,h(de,he.offset,he.startLoc),{nextConsumeToken:q,node:de}}}return h(de,U.currentOffset(),U.currentPosition()),{node:de}}function K(U){const ge=U.context(),de=ge.currentType===1?U.currentOffset():ge.offset,q=ge.currentType===1?ge.endLoc:ge.startLoc,he=g(2,de,q);he.items=[];let oe=null;do{const Qe=oe||U.nextToken();switch(oe=null,Qe.type){case 0:Qe.value==null&&u(U,Xi.UNEXPECTED_LEXICAL_ANALYSIS,ge.lastStartLoc,0,Cv(Qe)),he.items.push(x(U,Qe.value||""));break;case 5:Qe.value==null&&u(U,Xi.UNEXPECTED_LEXICAL_ANALYSIS,ge.lastStartLoc,0,Cv(Qe)),he.items.push(w(U,Qe.value||""));break;case 4:Qe.value==null&&u(U,Xi.UNEXPECTED_LEXICAL_ANALYSIS,ge.lastStartLoc,0,Cv(Qe)),he.items.push(R(U,Qe.value||""));break;case 6:Qe.value==null&&u(U,Xi.UNEXPECTED_LEXICAL_ANALYSIS,ge.lastStartLoc,0,Cv(Qe)),he.items.push(D(U,Qe.value||""));break;case 7:{const ct=H(U);he.items.push(ct.node),oe=ct.nextConsumeToken||null;break}}}while(ge.currentType!==13&&ge.currentType!==1);const _e=ge.currentType===1?ge.lastOffset:U.currentOffset(),Ue=ge.currentType===1?ge.lastEndLoc:U.currentPosition();return h(he,_e,Ue),he}function Z(U,ge,de,q){const he=U.context();let oe=q.items.length===0;const _e=g(1,ge,de);_e.cases=[],_e.cases.push(q);do{const Ue=K(U);oe||(oe=Ue.items.length===0),_e.cases.push(Ue)}while(he.currentType!==13);return oe&&u(U,Xi.MUST_HAVE_MESSAGES_IN_PLURAL,de,0),h(_e,U.currentOffset(),U.currentPosition()),_e}function Q(U){const ge=U.context(),{offset:de,startLoc:q}=ge,he=K(U);return ge.currentType===13?he:Z(U,de,q,he)}function re(U){const ge=Ape(U,HE({},t)),de=ge.context(),q=g(0,de.offset,de.startLoc);return r&&q.loc&&(q.loc.source=U),q.body=Q(ge),t.onCacheKey&&(q.cacheKey=t.onCacheKey(U)),de.currentType!==13&&u(ge,Xi.UNEXPECTED_LEXICAL_ANALYSIS,de.lastStartLoc,0,U[de.offset]||""),h(q,ge.currentOffset(),ge.currentPosition()),q}return{parse:re}}function Cv(t){if(t.type===13)return"EOF";const r=(t.value||"").replace(/\r?\n/gu,"\\n");return r.length>10?r.slice(0,9)+"":r}function Ppe(t,r={}){const i={ast:t,helpers:new Set};return{context:()=>i,helper:h=>(i.helpers.add(h),h)}}function cY(t,r){for(let i=0;i<t.length;i++)QW(t[i],r)}function QW(t,r){switch(t.type){case 1:cY(t.cases,r),r.helper("plural");break;case 2:cY(t.items,r);break;case 6:{QW(t.key,r),r.helper("linked"),r.helper("type");break}case 5:r.helper("interpolate"),r.helper("list");break;case 4:r.helper("interpolate"),r.helper("named");break}}function Npe(t,r={}){const i=Ppe(t);i.helper("normalize"),t.body&&QW(t.body,i);const u=i.context();t.helpers=Array.from(u.helpers)}function Mpe(t){const r=t.body;return r.type===2?uY(r):r.cases.forEach(i=>uY(i)),t}function uY(t){if(t.items.length===1){const r=t.items[0];(r.type===3||r.type===9)&&(t.static=r.value,delete r.value)}else{const r=[];for(let i=0;i<t.items.length;i++){const u=t.items[i];if(!(u.type===3||u.type===9)||u.value==null)break;r.push(u.value)}if(r.length===t.items.length){t.static=JW(r);for(let i=0;i<t.items.length;i++){const u=t.items[i];(u.type===3||u.type===9)&&delete u.value}}}}function mE(t){switch(t.t=t.type,t.type){case 0:{const r=t;mE(r.body),r.b=r.body,delete r.body;break}case 1:{const r=t,i=r.cases;for(let u=0;u<i.length;u++)mE(i[u]);r.c=i,delete r.cases;break}case 2:{const r=t,i=r.items;for(let u=0;u<i.length;u++)mE(i[u]);r.i=i,delete r.items,r.static&&(r.s=r.static,delete r.static);break}case 3:case 9:case 8:case 7:{const r=t;r.value&&(r.v=r.value,delete r.value);break}case 6:{const r=t;mE(r.key),r.k=r.key,delete r.key,r.modifier&&(mE(r.modifier),r.m=r.modifier,delete r.modifier);break}case 5:{const r=t;r.i=r.index,delete r.index;break}case 4:{const r=t;r.k=r.key,delete r.key;break}}delete t.type}function Lpe(t,r){const{filename:i,breakLineCode:u,needIndent:g}=r,h=r.location!==!1,x={filename:i,code:"",column:1,line:1,offset:0,map:void 0,breakLineCode:u,needIndent:g,indentLevel:0};h&&t.loc&&(x.source=t.loc.source);const w=()=>x;function R(Q,re){x.code+=Q}function D(Q,re=!0){const U=re?u:"";R(g?U+"  ".repeat(Q):U)}function O(Q=!0){const re=++x.indentLevel;Q&&D(re)}function M(Q=!0){const re=--x.indentLevel;Q&&D(re)}function H(){D(x.indentLevel)}return{context:w,push:R,indent:O,deindent:M,newline:H,helper:Q=>`_${Q}`,needIndent:()=>x.needIndent}}function Bpe(t,r){const{helper:i}=t;t.push(`${i("linked")}(`),IE(t,r.key),r.modifier?(t.push(", "),IE(t,r.modifier),t.push(", _type")):t.push(", undefined, _type"),t.push(")")}function Fpe(t,r){const{helper:i,needIndent:u}=t;t.push(`${i("normalize")}([`),t.indent(u());const g=r.items.length;for(let h=0;h<g&&(IE(t,r.items[h]),h!==g-1);h++)t.push(", ");t.deindent(u()),t.push("])")}function $pe(t,r){const{helper:i,needIndent:u}=t;if(r.cases.length>1){t.push(`${i("plural")}([`),t.indent(u());const g=r.cases.length;for(let h=0;h<g&&(IE(t,r.cases[h]),h!==g-1);h++)t.push(", ");t.deindent(u()),t.push("])")}}function Vpe(t,r){r.body?IE(t,r.body):t.push("null")}function IE(t,r){const{helper:i}=t;switch(r.type){case 0:Vpe(t,r);break;case 1:$pe(t,r);break;case 2:Fpe(t,r);break;case 6:Bpe(t,r);break;case 8:t.push(JSON.stringify(r.value),r);break;case 7:t.push(JSON.stringify(r.value),r);break;case 5:t.push(`${i("interpolate")}(${i("list")}(${r.index}))`,r);break;case 4:t.push(`${i("interpolate")}(${i("named")}(${JSON.stringify(r.key)}))`,r);break;case 9:t.push(JSON.stringify(r.value),r);break;case 3:t.push(JSON.stringify(r.value),r);break}}const zpe=(t,r={})=>{const i=Ur(r.mode)?r.mode:"normal",u=Ur(r.filename)?r.filename:"message.intl";r.sourceMap;const g=r.breakLineCode!=null?r.breakLineCode:i==="arrow"?";":`
`,h=r.needIndent?r.needIndent:i!=="arrow",x=t.helpers||[],w=Lpe(t,{filename:u,breakLineCode:g,needIndent:h});w.push(i==="normal"?"function __msg__ (ctx) {":"(ctx) => {"),w.indent(h),x.length>0&&(w.push(`const { ${JW(x.map(O=>`${O}: _${O}`),", ")} } = ctx`),w.newline()),w.push("return "),IE(w,t),w.deindent(h),w.push("}"),delete t.helpers;const{code:R,map:D}=w.context();return{ast:t,code:R,map:D?D.toJSON():void 0}};function Hpe(t,r={}){const i=HE({},r),u=!!i.jit,g=!!i.minify,h=i.optimize==null?!0:i.optimize,w=Dpe(i).parse(t);return u?(h&&Mpe(w),g&&mE(w),{ast:w,code:""}):(Npe(w,i),zpe(w,i))}/*!
  * core-base v11.1.9
  * (c) 2025 kazuya kawaguchi
  * Released under the MIT License.
  */function Upe(){typeof __INTLIFY_PROD_DEVTOOLS__!="boolean"&&(XW().__INTLIFY_PROD_DEVTOOLS__=!1)}function Hx(t){return Hl(t)&&eK(t)===0&&(lb(t,"b")||lb(t,"body"))}const qQ=["b","body"];function Wpe(t){return Yx(t,qQ)}const YQ=["c","cases"];function Kpe(t){return Yx(t,YQ,[])}const XQ=["s","static"];function jpe(t){return Yx(t,XQ)}const JQ=["i","items"];function Zpe(t){return Yx(t,JQ,[])}const QQ=["t","type"];function eK(t){return Yx(t,QQ)}const eee=["v","value"];function D6(t,r){const i=Yx(t,eee);if(i!=null)return i;throw jR(r)}const tee=["m","modifier"];function Gpe(t){return Yx(t,tee)}const nee=["k","key"];function qpe(t){const r=Yx(t,nee);if(r)return r;throw jR(6)}function Yx(t,r,i){for(let u=0;u<r.length;u++){const g=r[u];if(lb(t,g)&&t[g]!=null)return t[g]}return i}const Ype=[...qQ,...YQ,...XQ,...JQ,...nee,...tee,...eee,...QQ];function jR(t){return new Error(`unhandled node type: ${t}`)}function q9(t){return i=>Xpe(i,t)}function Xpe(t,r){const i=Wpe(r);if(i==null)throw jR(0);if(eK(i)===1){const h=Kpe(i);return t.plural(h.reduce((x,w)=>[...x,dY(t,w)],[]))}else return dY(t,i)}function dY(t,r){const i=jpe(r);if(i!=null)return t.type==="text"?i:t.normalize([i]);{const u=Zpe(r).reduce((g,h)=>[...g,nW(t,h)],[]);return t.normalize(u)}}function nW(t,r){const i=eK(r);switch(i){case 3:return D6(r,i);case 9:return D6(r,i);case 4:{const u=r;if(lb(u,"k")&&u.k)return t.interpolate(t.named(u.k));if(lb(u,"key")&&u.key)return t.interpolate(t.named(u.key));throw jR(i)}case 5:{const u=r;if(lb(u,"i")&&Dm(u.i))return t.interpolate(t.list(u.i));if(lb(u,"index")&&Dm(u.index))return t.interpolate(t.list(u.index));throw jR(i)}case 6:{const u=r,g=Gpe(u),h=qpe(u);return t.linked(nW(t,h),g?nW(t,g):void 0,t.type)}case 7:return D6(r,i);case 8:return D6(r,i);default:throw new Error(`unhandled node on format message part: ${i}`)}}const Jpe=t=>t;let P6=Kd();function Qpe(t,r={}){let i=!1;const u=r.onError||wpe;return r.onError=g=>{i=!0,u(g)},{...Hpe(t,r),detectError:i}}function ebe(t,r){if(Ur(t)){Vf(r.warnHtmlMessage)&&r.warnHtmlMessage;const u=(r.onCacheKey||Jpe)(t),g=P6[u];if(g)return g;const{ast:h,detectError:x}=Qpe(t,{...r,location:!1,jit:!0}),w=q9(h);return x?w:P6[u]=w}else{const i=t.cacheKey;if(i){const u=P6[i];return u||(P6[i]=q9(t))}else return q9(t)}}let ZR=null;function tbe(t){ZR=t}function nbe(t,r,i){ZR&&ZR.emit("i18n:init",{timestamp:Date.now(),i18n:t,version:r,meta:i})}const obe=sbe("function:translate");function sbe(t){return r=>ZR&&ZR.emit(t,r)}const j6={INVALID_ARGUMENT:xpe,NOT_SUPPORT_LOCALE_PROMISE_VALUE:21,NOT_SUPPORT_LOCALE_ASYNC_FUNCTION:22,NOT_SUPPORT_LOCALE_TYPE:23},rbe=24;function Z6(t){return JF(t,null,void 0)}function ibe(t,r){return r.locale!=null?fY(r.locale):fY(t.locale)}let Y9;function fY(t){if(Ur(t))return t;if(nc(t)){if(t.resolvedOnce&&Y9!=null)return Y9;if(t.constructor.name==="Function"){const r=t();if(ppe(r))throw Z6(j6.NOT_SUPPORT_LOCALE_PROMISE_VALUE);return Y9=r}else throw Z6(j6.NOT_SUPPORT_LOCALE_ASYNC_FUNCTION)}else throw Z6(j6.NOT_SUPPORT_LOCALE_TYPE)}function abe(t,r,i){return[...new Set([i,...Mv(r)?r:Hl(r)?Object.keys(r):Ur(r)?[r]:[i]])]}function lbe(t,r){return Hl(t)?t[r]:null}const cbe="11.1.9",oee=-1,oW="en-US",mY=t=>`${t.charAt(0).toLocaleUpperCase()}${t.substr(1)}`;function ube(){return{upper:(t,r)=>r==="text"&&Ur(t)?t.toUpperCase():r==="vnode"&&Hl(t)&&"__v_isVNode"in t?t.children.toUpperCase():t,lower:(t,r)=>r==="text"&&Ur(t)?t.toLowerCase():r==="vnode"&&Hl(t)&&"__v_isVNode"in t?t.children.toLowerCase():t,capitalize:(t,r)=>r==="text"&&Ur(t)?mY(t):r==="vnode"&&Hl(t)&&"__v_isVNode"in t?mY(t.children):t}}let see;function dbe(t){see=t}let ree=null;const fbe=t=>{ree=t},mbe=()=>ree;let iee=null;const gY=t=>{iee=t},gbe=()=>iee;let hY=0;function hbe(t={}){const r=nc(t.onWarn)?t.onWarn:vpe,i=Ur(t.version)?t.version:cbe,u=Ur(t.locale)||nc(t.locale)?t.locale:oW,g=nc(u)?oW:u,h=Mv(t.fallbackLocale)||zd(t.fallbackLocale)||Ur(t.fallbackLocale)||t.fallbackLocale===!1?t.fallbackLocale:g,x=zd(t.messages)?t.messages:X9(g),w=zd(t.datetimeFormats)?t.datetimeFormats:X9(g),R=zd(t.numberFormats)?t.numberFormats:X9(g),D=HE(Kd(),t.modifiers,ube()),O=t.pluralRules||Kd(),M=nc(t.missing)?t.missing:null,H=Vf(t.missingWarn)||yF(t.missingWarn)?t.missingWarn:!0,K=Vf(t.fallbackWarn)||yF(t.fallbackWarn)?t.fallbackWarn:!0,Z=!!t.fallbackFormat,Q=!!t.unresolving,re=nc(t.postTranslation)?t.postTranslation:null,U=zd(t.processor)?t.processor:null,ge=Vf(t.warnHtmlMessage)?t.warnHtmlMessage:!0,de=!!t.escapeParameter,q=nc(t.messageCompiler)?t.messageCompiler:see,he=nc(t.messageResolver)?t.messageResolver:lbe,oe=nc(t.localeFallbacker)?t.localeFallbacker:abe,_e=Hl(t.fallbackContext)?t.fallbackContext:void 0,Ue=t,Qe=Hl(Ue.__datetimeFormatters)?Ue.__datetimeFormatters:new Map,ct=Hl(Ue.__numberFormatters)?Ue.__numberFormatters:new Map,Ce=Hl(Ue.__meta)?Ue.__meta:{};hY++;const Te={version:i,cid:hY,locale:u,fallbackLocale:h,messages:x,modifiers:D,pluralRules:O,missing:M,missingWarn:H,fallbackWarn:K,fallbackFormat:Z,unresolving:Q,postTranslation:re,processor:U,warnHtmlMessage:ge,escapeParameter:de,messageCompiler:q,messageResolver:he,localeFallbacker:oe,fallbackContext:_e,onWarn:r,__meta:Ce};return Te.datetimeFormats=w,Te.numberFormats=R,Te.__datetimeFormatters=Qe,Te.__numberFormatters=ct,__INTLIFY_PROD_DEVTOOLS__&&nbe(Te,i,Ce),Te}const X9=t=>({[t]:Kd()});function pbe(t,r,i,u,g){const{missing:h,onWarn:x}=t;if(h!==null){const w=h(t,i,r,g);return Ur(w)?w:r}else return r}function bR(t,r,i){const u=t;u.__localeChainCache=new Map,t.localeFallbacker(t,i,r)}function bbe(t,r){return t===r?!1:t.split("-")[0]===r.split("-")[0]}function vbe(t,r){const i=r.indexOf(t);if(i===-1)return!1;for(let u=i+1;u<r.length;u++)if(bbe(t,r[u]))return!0;return!1}const ybe=t=>t,xbe=t=>"",wbe="text",Cbe=t=>t.length===0?"":JW(t),Sbe=bpe;function pY(t,r){return t=Math.abs(t),r===2?t?t>1?1:0:1:t?Math.min(t,2):0}function _be(t){const r=Dm(t.pluralIndex)?t.pluralIndex:-1;return t.named&&(Dm(t.named.count)||Dm(t.named.n))?Dm(t.named.count)?t.named.count:Dm(t.named.n)?t.named.n:r:r}function kbe(t,r){r.count||(r.count=t),r.n||(r.n=t)}function Ebe(t={}){const r=t.locale,i=_be(t),u=Hl(t.pluralRules)&&Ur(r)&&nc(t.pluralRules[r])?t.pluralRules[r]:pY,g=Hl(t.pluralRules)&&Ur(r)&&nc(t.pluralRules[r])?pY:void 0,h=U=>U[u(i,U.length,g)],x=t.list||[],w=U=>x[U],R=t.named||Kd();Dm(t.pluralIndex)&&kbe(i,R);const D=U=>R[U];function O(U,ge){const de=nc(t.messages)?t.messages(U,!!ge):Hl(t.messages)?t.messages[U]:!1;return de||(t.parent?t.parent.message(U):xbe)}const M=U=>t.modifiers?t.modifiers[U]:ybe,H=zd(t.processor)&&nc(t.processor.normalize)?t.processor.normalize:Cbe,K=zd(t.processor)&&nc(t.processor.interpolate)?t.processor.interpolate:Sbe,Z=zd(t.processor)&&Ur(t.processor.type)?t.processor.type:wbe,re={list:w,named:D,plural:h,linked:(U,...ge)=>{const[de,q]=ge;let he="text",oe="";ge.length===1?Hl(de)?(oe=de.modifier||oe,he=de.type||he):Ur(de)&&(oe=de||oe):ge.length===2&&(Ur(de)&&(oe=de||oe),Ur(q)&&(he=q||he));const _e=O(U,!0)(re),Ue=he==="vnode"&&Mv(_e)&&oe?_e[0]:_e;return oe?M(oe)(Ue,he):Ue},message:O,type:Z,interpolate:K,normalize:H,values:HE(Kd(),x,R)};return re}const bY=()=>"",ib=t=>nc(t);function Tbe(t,...r){const{fallbackFormat:i,postTranslation:u,unresolving:g,messageCompiler:h,fallbackLocale:x,messages:w}=t,[R,D]=cee(...r),O=Vf(D.missingWarn)?D.missingWarn:t.missingWarn,M=Vf(D.fallbackWarn)?D.fallbackWarn:t.fallbackWarn,H=Vf(D.escapeParameter)?D.escapeParameter:t.escapeParameter,K=!!D.resolvedMessage,Z=Ur(D.default)||Vf(D.default)?Vf(D.default)?h?R:()=>R:D.default:i?h?R:()=>R:null,Q=i||Z!=null&&(Ur(Z)||nc(Z)),re=ibe(t,D);H&&Abe(D);let[U,ge,de]=K?[R,re,w[re]||Kd()]:aee(t,R,re,x,M,O),q=U,he=R;if(!K&&!(Ur(q)||Hx(q)||ib(q))&&Q&&(q=Z,he=q),!K&&(!(Ur(q)||Hx(q)||ib(q))||!Ur(ge)))return g?oee:R;let oe=!1;const _e=()=>{oe=!0},Ue=ib(q)?q:lee(t,R,ge,q,he,_e);if(oe)return q;const Qe=Ibe(t,ge,de,D),ct=Ebe(Qe),Ce=Obe(t,Ue,ct),Te=u?u(Ce,R):Ce;if(__INTLIFY_PROD_DEVTOOLS__){const I={timestamp:Date.now(),key:Ur(R)?R:ib(q)?q.key:"",locale:ge||(ib(q)?q.locale:""),format:Ur(q)?q:ib(q)?q.source:"",message:Te};I.meta=HE({},t.__meta,mbe()||{}),obe(I)}return Te}function Abe(t){Mv(t.list)?t.list=t.list.map(r=>Ur(r)?aY(r):r):Hl(t.named)&&Object.keys(t.named).forEach(r=>{Ur(t.named[r])&&(t.named[r]=aY(t.named[r]))})}function aee(t,r,i,u,g,h){const{messages:x,onWarn:w,messageResolver:R,localeFallbacker:D}=t,O=D(t,u,i);let M=Kd(),H,K=null;const Z="translate";for(let Q=0;Q<O.length&&(H=O[Q],M=x[H]||Kd(),(K=R(M,r))===null&&(K=M[r]),!(Ur(K)||Hx(K)||ib(K)));Q++)if(!vbe(H,O)){const re=pbe(t,r,H,h,Z);re!==r&&(K=re)}return[K,H,M]}function lee(t,r,i,u,g,h){const{messageCompiler:x,warnHtmlMessage:w}=t;if(ib(u)){const D=u;return D.locale=D.locale||i,D.key=D.key||r,D}if(x==null){const D=()=>u;return D.locale=i,D.key=r,D}const R=x(u,Rbe(t,i,g,u,w,h));return R.locale=i,R.key=r,R.source=u,R}function Obe(t,r,i){return r(i)}function cee(...t){const[r,i,u]=t,g=Kd();if(!Ur(r)&&!Dm(r)&&!ib(r)&&!Hx(r))throw Z6(j6.INVALID_ARGUMENT);const h=Dm(r)?String(r):(ib(r),r);return Dm(i)?g.plural=i:Ur(i)?g.default=i:zd(i)&&!mpe(i)?g.named=i:Mv(i)&&(g.list=i),Dm(u)?g.plural=u:Ur(u)?g.default=u:zd(u)&&HE(g,u),[h,g]}function Rbe(t,r,i,u,g,h){return{locale:r,key:i,warnHtmlMessage:g,onError:x=>{throw h&&h(x),x},onCacheKey:x=>dpe(r,i,x)}}function Ibe(t,r,i,u){const{modifiers:g,pluralRules:h,messageResolver:x,fallbackLocale:w,fallbackWarn:R,missingWarn:D,fallbackContext:O}=t,H={locale:r,modifiers:g,pluralRules:h,messages:(K,Z)=>{let Q=x(i,K);if(Q==null&&(O||Z)){const[,,re]=aee(O||t,K,r,w,R,D);Q=x(re,K)}if(Ur(Q)||Hx(Q)){let re=!1;const ge=lee(t,K,r,Q,K,()=>{re=!0});return re?bY:ge}else return ib(Q)?Q:bY}};return t.processor&&(H.processor=t.processor),u.list&&(H.list=u.list),u.named&&(H.named=u.named),Dm(u.plural)&&(H.pluralIndex=u.plural),H}Upe();/*!
  * petite-vue-i18n v11.1.9
  * (c) 2025 kazuya kawaguchi
  * Released under the MIT License.
  */const Dbe="11.1.9";function Pbe(){typeof __INTLIFY_PROD_DEVTOOLS__!="boolean"&&(XW().__INTLIFY_PROD_DEVTOOLS__=!1)}const xF={UNEXPECTED_RETURN_TYPE:rbe,UNEXPECTED_ERROR:32};function wF(t,...r){return JF(t,null,void 0)}const Nbe=jQ("__setPluralRules");function GR(t){if(!Hl(t)||Hx(t))return t;for(const r in t)if(lb(t,r))if(!r.includes("."))Hl(t[r])&&GR(t[r]);else{const i=r.split("."),u=i.length-1;let g=t,h=!1;for(let x=0;x<u;x++){if(i[x]==="__proto__")throw new Error(`unsafe key: ${i[x]}`);if(i[x]in g||(g[i[x]]=Kd()),!Hl(g[i[x]])){h=!0;break}g=g[i[x]]}if(h||(Hx(g)?Ype.includes(i[u])||delete t[r]:(g[i[u]]=t[r],delete t[r])),!Hx(g)){const x=g[i[u]];Hl(x)&&GR(x)}}return t}function Mbe(t,r){const{messages:i,__i18n:u,messageResolver:g,flatJson:h}=r,x=zd(i)?i:Mv(u)?Kd():{[t]:Kd()};if(Mv(u)&&u.forEach(w=>{if("locale"in w&&"resource"in w){const{locale:R,resource:D}=w;R?(x[R]=x[R]||Kd(),K6(D,x[R])):K6(D,x)}else Ur(w)&&K6(JSON.parse(w),x)}),g==null&&h)for(const w in x)lb(x,w)&&GR(x[w]);return x}function Lbe(t){return t.type}const vY="__INTLIFY_META__";let yY=0;function xY(t){return(r,i,u,g)=>t(i,u,$E()||void 0,g)}const Bbe=()=>{const t=$E();let r=null;return t&&(r=Lbe(t)[vY])?{[vY]:r}:null};function Fbe(t={}){const{__root:r,__injectWithOption:i}=t,u=r===void 0,g=t.flatJson,h=rY?Ln:Do;let x=Vf(t.inheritLocale)?t.inheritLocale:!0;const w=h(r&&x?r.locale.value:Ur(t.locale)?t.locale:oW),R=h(r&&x?r.fallbackLocale.value:Ur(t.fallbackLocale)||Mv(t.fallbackLocale)||zd(t.fallbackLocale)||t.fallbackLocale===!1?t.fallbackLocale:w.value),D=h(Mbe(w.value,t));let O=r?r.missingWarn:Vf(t.missingWarn)||yF(t.missingWarn)?t.missingWarn:!0,M=r?r.fallbackWarn:Vf(t.fallbackWarn)||yF(t.fallbackWarn)?t.fallbackWarn:!0,H=r?r.fallbackRoot:Vf(t.fallbackRoot)?t.fallbackRoot:!0,K=!!t.fallbackFormat,Z=nc(t.missing)?t.missing:null,Q=nc(t.missing)?xY(t.missing):null,re=nc(t.postTranslation)?t.postTranslation:null,U=r?r.warnHtmlMessage:Vf(t.warnHtmlMessage)?t.warnHtmlMessage:!0,ge=!!t.escapeParameter;const de=r?r.modifiers:zd(t.modifiers)?t.modifiers:{};let q=t.pluralRules||r&&r.pluralRules,he;he=(()=>{u&&gY(null);const Ve={version:Dbe,locale:w.value,fallbackLocale:R.value,messages:D.value,modifiers:de,pluralRules:q,missing:Q===null?void 0:Q,missingWarn:O,fallbackWarn:M,fallbackFormat:K,unresolving:!0,postTranslation:re===null?void 0:re,warnHtmlMessage:U,escapeParameter:ge,messageResolver:t.messageResolver,messageCompiler:t.messageCompiler,__meta:{framework:"vue"}},bt=hbe(Ve);return u&&gY(bt),bt})(),bR(he,w.value,R.value);function _e(){return[w.value,R.value,D.value]}const Ue=Mt({get:()=>w.value,set:Ve=>{he.locale=Ve,w.value=Ve}}),Qe=Mt({get:()=>R.value,set:Ve=>{he.fallbackLocale=Ve,R.value=Ve,bR(he,w.value,Ve)}}),ct=Mt(()=>D.value);function Ce(){return nc(re)?re:null}function Te(Ve){re=Ve,he.postTranslation=Ve}function I(){return Z}function dt(Ve){Ve!==null&&(Q=xY(Ve)),Z=Ve,he.missing=Q}const gt=(Ve,bt,Yn,Yt,Bn,Jt)=>{_e();let te;try{__INTLIFY_PROD_DEVTOOLS__,u||(he.fallbackContext=r?gbe():void 0),te=Ve(he)}finally{__INTLIFY_PROD_DEVTOOLS__,u||(he.fallbackContext=void 0)}if(Dm(te)&&te===oee||Yn==="translate exists"){const[vo,nn]=bt();return r&&H?Yt(r):Bn(vo)}else{if(Jt(te))return te;throw wF(xF.UNEXPECTED_RETURN_TYPE)}};function Ft(...Ve){return gt(bt=>Reflect.apply(Tbe,null,[bt,...Ve]),()=>cee(...Ve),"translate",bt=>Reflect.apply(bt.t,bt,[...Ve]),bt=>bt,bt=>Ur(bt))}function en(Ve){q=Ve,he.pluralRules=q}function ft(Ve){return D.value[Ve]||{}}function Rn(Ve,bt){if(g){const Yn={[Ve]:bt};for(const Yt in Yn)lb(Yn,Yt)&&GR(Yn[Yt]);bt=Yn[Ve]}D.value[Ve]=bt,he.messages=D.value}function Ot(Ve,bt){D.value[Ve]=D.value[Ve]||{};const Yn={[Ve]:bt};if(g)for(const Yt in Yn)lb(Yn,Yt)&&GR(Yn[Yt]);bt=Yn[Ve],K6(bt,D.value[Ve]),he.messages=D.value}return yY++,r&&rY&&(Fn(r.locale,Ve=>{x&&(w.value=Ve,he.locale=Ve,bR(he,w.value,R.value))}),Fn(r.fallbackLocale,Ve=>{x&&(R.value=Ve,he.fallbackLocale=Ve,bR(he,w.value,R.value))})),{id:yY,locale:Ue,fallbackLocale:Qe,get inheritLocale(){return x},set inheritLocale(Ve){x=Ve,Ve&&r&&(w.value=r.locale.value,R.value=r.fallbackLocale.value,bR(he,w.value,R.value))},get availableLocales(){return Object.keys(D.value).sort()},messages:ct,get modifiers(){return de},get pluralRules(){return q||{}},get isGlobal(){return u},get missingWarn(){return O},set missingWarn(Ve){O=Ve,he.missingWarn=O},get fallbackWarn(){return M},set fallbackWarn(Ve){M=Ve,he.fallbackWarn=M},get fallbackRoot(){return H},set fallbackRoot(Ve){H=Ve},get fallbackFormat(){return K},set fallbackFormat(Ve){K=Ve,he.fallbackFormat=K},get warnHtmlMessage(){return U},set warnHtmlMessage(Ve){U=Ve,he.warnHtmlMessage=Ve},get escapeParameter(){return ge},set escapeParameter(Ve){ge=Ve,he.escapeParameter=Ve},t:Ft,getLocaleMessage:ft,setLocaleMessage:Rn,mergeLocaleMessage:Ot,getPostTranslationHandler:Ce,setPostTranslationHandler:Te,getMissingHandler:I,setMissingHandler:dt,[Nbe]:en}}function $be(t={}){const r=Vf(t.globalInjection)?t.globalInjection:!0,i=new Map,[u,g]=Vbe(t),h=jQ("");function x(O){return i.get(O)||null}function w(O,M){i.set(O,M)}function R(O){i.delete(O)}const D={get mode(){return"composition"},async install(O,...M){if(O.__VUE_I18N_SYMBOL__=h,O.provide(O.__VUE_I18N_SYMBOL__,D),zd(M[0])){const Z=M[0];D.__composerExtend=Z.__composerExtend,D.__vueI18nExtend=Z.__vueI18nExtend}let H=null;r&&(H=Hbe(O,D.global));const K=O.unmount;O.unmount=()=>{H&&H(),D.dispose(),K()}},get global(){return g},dispose(){u.stop()},__instances:i,__getInstance:x,__setInstance:w,__deleteInstance:R};return D}function Vbe(t,r){const i=Ux(),u=i.run(()=>Fbe(t));if(u==null)throw wF(xF.UNEXPECTED_ERROR);return[i,u]}const zbe=["locale","fallbackLocale","availableLocales"],wY=["t"];function Hbe(t,r){const i=Object.create(null);return zbe.forEach(g=>{const h=Object.getOwnPropertyDescriptor(r,g);if(!h)throw wF(xF.UNEXPECTED_ERROR);const x=Ha(h.value)?{get(){return h.value.value},set(w){h.value.value=w}}:{get(){return h.get&&h.get()}};Object.defineProperty(i,g,x)}),t.config.globalProperties.$i18n=i,wY.forEach(g=>{const h=Object.getOwnPropertyDescriptor(r,g);if(!h||!h.value)throw wF(xF.UNEXPECTED_ERROR);Object.defineProperty(t.config.globalProperties,`$${g}`,h)}),()=>{delete t.config.globalProperties.$i18n,wY.forEach(g=>{delete t.config.globalProperties[`$${g}`]})}}Pbe();dbe(ebe);if(__INTLIFY_PROD_DEVTOOLS__){const t=XW();t.__INTLIFY__=!0,tbe(t.__INTLIFY_DEVTOOLS_GLOBAL_HOOK__)}const J9=t=>t&&typeof t=="object"&&!Array.isArray(t),sW=(t,...r)=>{if(!r.length)return t;const i=r.shift();if(J9(t)&&J9(i))for(const u in i)J9(i[u])?(t[u]||Object.assign(t,{[u]:{}}),sW(t[u],i[u])):Object.assign(t,{[u]:i[u]});return sW(t,...r)},Ube=sW({},{de:{allAnnotations:{t:0,b:{t:2,i:[{t:3}],s:"Anmerkungen"}},allApply:{t:0,b:{t:2,i:[{t:3}],s:"bernehmen"}},allAuthorize:{t:0,b:{t:2,i:[{t:3}],s:"Freigeben..."}},allCancel:{t:0,b:{t:2,i:[{t:3}],s:"Abbrechen"}},allCancelCorrection:{t:0,b:{t:2,i:[{t:3}],s:"Korrektur abbrechen"}},allChange:{t:0,b:{t:2,i:[{t:3}],s:"ndern..."}},allClose:{t:0,b:{t:2,i:[{t:3}],s:"Schlieen"}},allCloseMessage:{t:0,b:{t:2,i:[{t:3}],s:"Meldung schlieen"}},allComments:{t:0,b:{t:2,i:[{t:3}],s:"Anmerkungen"}},allCorrection:{t:0,b:{t:2,i:[{t:3}],s:"Korrektur"}},allDelete:{t:0,b:{t:2,i:[{t:3}],s:"Lschen"}},allEnd:{t:0,b:{t:2,i:[{t:3}],s:"Beenden"}},allEssay:{t:0,b:{t:2,i:[{t:3}],s:"Abgabe-Text"}},allEssayAndCorrection:{t:0,b:{t:2,i:[{t:3}],s:"Abgabe und Korrektur"}},allEssayNoCorrectionAuthorized:{t:0,b:{t:2,i:[{t:3}],s:"Fr diesen Abgabe-Text ist noch keine Korrektur freigegeben."}},allGeneralPoints:{t:0,b:{t:2,i:[{t:3}],s:"Kopfnoten"}},allGeneralPointsLong:{t:0,b:{t:2,i:[{t:3}],s:"Allgemeine Punkte (Kopfnoten)"}},allGrade:{t:0,b:{t:2,i:[{t:3}],s:"Note:"}},allInstructions:{t:0,b:{t:2,i:[{t:3}],s:"Aufgabenstellung"}},allInstructionsPdf:{t:0,b:{t:2,i:[{t:3}],s:"Aufgabenstellung als PDF"}},allIsSelected:{t:0,b:{t:2,i:[{t:3}],s:", ist ausgewhlt"}},allLoad:{t:0,b:{t:2,i:[{t:3}],s:"Laden"}},allLoadData:{t:0,b:{t:2,i:[{t:3}],s:"Lade Daten ..."}},allMark:{t:0,b:{t:2,i:[{t:3}],s:"Markieren"}},allNotes:{t:0,b:{t:2,i:[{t:3}],s:"Notizen"}},allNotesWillPurged:{t:0,b:{t:2,i:[{t:3}],s:"Notizen, werden bei der Abgabe verworfen"}},allNumCharacters:{t:0,b:{t:2,i:[{t:4,k:"n"},{t:3,v:" Zeichen"}]}},allNumWords:{t:0,b:{t:1,c:[{t:2,i:[{t:4,k:"n"},{t:3,v:" Wort"}]},{t:2,i:[{t:4,k:"n"},{t:3,v:" Wrter"}]}]}},allOk:{t:0,b:{t:2,i:[{t:3}],s:"Ok"}},allOr:{t:0,b:{t:2,i:[{t:3}],s:"or"}},allOverview:{t:0,b:{t:2,i:[{t:3}],s:"bersicht"}},allOwnSummary:{t:0,b:{t:2,i:[{t:3}],s:"Eigenes Gutachten"}},allOwnSummaryAndRating:{t:0,b:{t:2,i:[{t:3}],s:"Eigene Bewertung"}},allPartialPoints:{t:0,b:{t:2,i:[{t:3}],s:"Teilpunkte"}},allPartialPointsLong:{t:0,b:{t:2,i:[{t:3}],s:"Teilpunkte zur Anmerkung"}},allPoints:{t:0,b:{t:1,c:[{t:2,i:[{t:3}],s:"Punkt"},{t:2,i:[{t:3}],s:"Punkte"}]}},allPregraded:{t:0,b:{t:2,i:[{t:3}],s:"vorbenotet"}},allTotalRating:{t:0,b:{t:2,i:[{t:3}],s:"Gesamtbewertung"}},allRevision:{t:0,b:{t:2,i:[{t:3}],s:"berarbeitung"}},allShow:{t:0,b:{t:2,i:[{t:3}],s:"anzeigen"}},allSelect:{t:0,b:{t:2,i:[{t:3}],s:"Auswhlen"}},allSolution:{t:0,b:{t:2,i:[{t:3}],s:"Lsungshinweise"}},allSolutionPdf:{t:0,b:{t:2,i:[{t:3}],s:"Lsungshinweise als PDF"}},allSummary:{t:0,b:{t:2,i:[{t:3}],s:"Gutachten"}},allUpload:{t:0,b:{t:2,i:[{t:3}],s:"Hochladen"}},apiMissingParams:{t:0,b:{t:2,i:[{t:3}],s:"Es fehlen Informationen zum Laden der Korrektur. Bitte rufen Sie die Korrekturoberflche aus der Korrektur-Startseite neu auf."}},apiLoadingDataFailed:{t:0,b:{t:2,i:[{t:3}],s:"Die Korrektur konnte nicht geladen werden. Bitte rufen Sie die Korrekturoberflche aus der Korrektur-Startseite neu auf."}},appBarReturn:{t:0,b:{t:2,i:[{t:3}],s:"Schlieen"}},authorizationAuthorize:{t:0,b:{t:2,i:[{t:3}],s:"Freigeben"}},authorizationEditIncludes:{t:0,b:{t:2,i:[{t:3}],s:"Einbezug bearbeiten"}},authorizationGradeTitle:{t:0,b:{t:2,i:[{t:3}],s:"Note:"}},authorizationPartialPoints:{t:0,b:{t:2,i:[{t:4,k:"n"},{t:3,v:" Teilpunkte"}]}},authorizationPleaseEnterPoints:{t:0,b:{t:2,i:[{t:3}],s:"Bitte geben Sie eine Bewertung ein, damit eine Note vergeben werden kann."}},authorizationPleaseEnterSummary:{t:0,b:{t:2,i:[{t:3}],s:"Bitte stellen Sie ein Gutachten bereit."}},authorizationPointsLabel:{t:0,b:{t:2,i:[{t:3}],s:"Eigene Bewertung:"}},authorizationPointsSuffix:{t:0,b:{t:2,i:[{t:3}],s:"Punkte"}},authorizationPointsMismatch:{t:0,b:{t:2,i:[{t:3,v:"Ihre Bewertung weicht von der automatischen berechneten Summe der vergebenen Punkte ("},{t:5,i:0},{t:3,v:") ab. Bitte beachten Sie, dass diese Punkte bei der Einsichtnahme erkennbar sind."}]}},authorizationSummaryLabel:{t:0,b:{t:2,i:[{t:3}],s:"Gutachten:"}},authorizationSummaryEdit:{t:0,b:{t:2,i:[{t:3}],s:"Gutachten bearbeiten"}},authorizationWarnFinalize:{t:0,b:{t:2,i:[{t:3}],s:"Durch die Freigabe wird Ihre Korrektur festgeschrieben. Sie knnen sie anschlieend nicht mehr ndern. Mchten Sie Ihre Korrektur freigeben?"}},authorizationWarnStitchDecision:{t:0,b:{t:2,i:[{t:3,v:"Ihre Bewertung wird einen Stichentscheid erfordern: "},{t:5,i:0}]}},authorizationTitle:{t:0,b:{t:2,i:[{t:3,v:"Korrektur von "},{t:5,i:0},{t:3,v:" freigeben"}]}},correctionsFirstCorrection:{t:0,b:{t:2,i:[{t:3}],s:"(Erstkorrektur)"}},correctorsNthCorrector:{t:0,b:{t:2,i:[{t:3,v:"("},{t:5,i:0},{t:3,v:". Korrektur)"}]}},correctionsSecondCorrection:{t:0,b:{t:2,i:[{t:3}],s:"(Zweitkorrektur)"}},correctionsStitchCorrection:{t:0,b:{t:2,i:[{t:3}],s:"(Stichentscheid)"}},essayImageZoomIn:{t:0,b:{t:2,i:[{t:3}],s:"Anzeige der Abgabe vergrern"}},essayImageZoomOut:{t:0,b:{t:2,i:[{t:3}],s:"Anzeige der Abgabe verkleinern"}},essayZoomIn:{t:0,b:{t:2,i:[{t:3}],s:"Anzeige der Abgabe vergrern"}},essayZoomOut:{t:0,b:{t:2,i:[{t:3}],s:"Anzeige der Abgabe verkleinern"}},helpAction:{t:0,b:{t:2,i:[{t:3}],s:"Aktion"}},helpButton:{t:0,b:{t:2,i:[{t:3}],s:"Tastenbefehle"}},helpCloseHelp:{t:0,b:{t:2,i:[{t:3}],s:"Hilfe schlieen"}},helpCommandBold:{t:0,b:{t:2,i:[{t:3}],s:"Fett"}},helpCommandH1:{t:0,b:{t:2,i:[{t:3}],s:"berschrift 1"}},helpCommandH2:{t:0,b:{t:2,i:[{t:3}],s:"berschrift 2"}},helpCommandH3:{t:0,b:{t:2,i:[{t:3}],s:"berschrift 3"}},helpCommandH4:{t:0,b:{t:2,i:[{t:3}],s:"berschrift 4"}},helpCommandH5:{t:0,b:{t:2,i:[{t:3}],s:"berschrift 5"}},helpCommandH6:{t:0,b:{t:2,i:[{t:3}],s:"berschrift 6"}},helpCommandItalic:{t:0,b:{t:2,i:[{t:3}],s:"Kursiv"}},helpCommandParagraph:{t:0,b:{t:2,i:[{t:3}],s:"Absatz"}},helpCommandRedo:{t:0,b:{t:2,i:[{t:3}],s:"Wiederholen"}},helpCommandSelectAll:{t:0,b:{t:2,i:[{t:3}],s:"Alles auswhlen"}},helpCommundUnderline:{t:0,b:{t:2,i:[{t:3}],s:"Unterstrichen"}},helpCommandUndo:{t:0,b:{t:2,i:[{t:3}],s:"Rckgngig machen"}},helpComments:{t:0,b:{t:2,i:[{t:3}],s:"Anmerkungen"}},helpCommentsDelete:{t:0,b:{t:2,i:[{t:3}],s:"Anmerkung lschen"}},helpCommentsJumpToCriteria:{t:0,b:{t:2,i:[{t:3}],s:"Zu Bewertungskriterien springen (falls vorhanden)"}},helpCommentsJumpToMark:{t:0,b:{t:2,i:[{t:3}],s:"Zur Markierung im Text springen"}},helpCommentsReturnFromCriteria:{t:0,b:{t:2,i:[{t:3}],s:"Von Bewertungskriterien zurckkehren"}},helpCommentsSelect:{t:0,b:{t:2,i:[{t:3}],s:"Bearbeitung ffnen"}},helpEssay:{t:0,b:{t:2,i:[{t:3}],s:"Abgabe-Text"}},helpEssayCreateComment:{t:0,b:{t:2,i:[{t:3}],s:"Anmerkung fr Auswahl erzeugen"}},helpEssayJumpToComment:{t:0,b:{t:2,i:[{t:3}],s:"Anmerkung bei Cursor anspringen"}},helpEssayMoveCursor:{t:0,b:{t:2,i:[{t:3}],s:"Cursor bewegen"}},helpEssaySelectText:{t:0,b:{t:2,i:[{t:3}],s:"Text auswhlen"}},helpEssayUnselectText:{t:0,b:{t:2,i:[{t:3}],s:"Textauswahl entfernen"}},helpContentLeftColumn:{t:0,b:{t:2,i:[{t:3}],s:"Inhalt linke Spalte"}},helpContentRightColumn:{t:0,b:{t:2,i:[{t:3}],s:"Inhalt rechte Spalte"}},helpEditorCommands:{t:0,b:{t:2,i:[{t:3}],s:"Tastenbefehle im Gutachten"}},helpEditorNavigation:{t:0,b:{t:2,i:[{t:3}],s:"Navigation im Gutachten"}},helpGeneralNavigation:{t:0,b:{t:2,i:[{t:3}],s:"Allgemeine Navigation"}},helpHeaderButtons:{t:0,b:{t:2,i:[{t:3}],s:"Schaltflchen der Kopfzeile"}},helpNavigationButtons:{t:0,b:{t:2,i:[{t:3}],s:"Schaltflchen der Navigazionsleiste"}},helpKeyEsc:{t:0,b:{t:2,i:[{t:3}],s:"Esc"}},helpKeyAlt0:{t:0,b:{t:2,i:[{t:3}],s:"Alt + 0"}},helpKeyAlt1:{t:0,b:{t:2,i:[{t:3}],s:"Alt + 1"}},helpKeyAlt2:{t:0,b:{t:2,i:[{t:3}],s:"Alt + 2"}},helpKeyAltDel:{t:0,b:{t:2,i:[{t:3}],s:"Alt + Entfernen"}},helpKeyAltF10:{t:0,b:{t:2,i:[{t:3}],s:"Alt + F10"}},helpKeyAltNum:{t:0,b:{t:2,i:[{t:3}],s:"Alt + #"}},helpKeyAltReturn:{t:0,b:{t:2,i:[{t:3}],s:"Alt + Eingabetaste"}},helpKeyCtrlA:{t:0,b:{t:2,i:[{t:3}],s:"Ctrl + A"}},helpKeyCtrlB:{t:0,b:{t:2,i:[{t:3}],s:"Ctrl + B"}},helpKeyCtrlI:{t:0,b:{t:2,i:[{t:3}],s:"Ctrl + I"}},helpKeyCtrlU:{t:0,b:{t:2,i:[{t:3}],s:"Ctrl + U"}},helpKeyCtrlYOrCtrlShiftZ:{t:0,b:{t:2,i:[{t:3}],s:"Ctrl + Y oder Ctrl + Shift + Z"}},helpKeyCtrlZ:{t:0,b:{t:2,i:[{t:3}],s:"Ctrl + Z"}},helpKeyF1:{t:0,b:{t:2,i:[{t:3}],s:"F1"}},helpKeyF1InSnippets:{t:0,b:{t:2,i:[{t:3}],s:"F1 in Textbaustein-Auswahl"}},helpKeyReturn:{t:0,b:{t:2,i:[{t:3}],s:"Eingabetaste"}},helpKeyReturnOnFocusedLabel:{t:0,b:{t:2,i:[{t:3}],s:"Eingabetaste auf Etikett im Focus"}},helpKeyReturnOnFocusedPoints:{t:0,b:{t:2,i:[{t:3}],s:"Eingabetaste auf Punkten im Focus"}},helpKeyReturnWhenNotSelected:{t:0,b:{t:2,i:[{t:3}],s:"Eingabetaste, wenn kein Text ausgewhlt"}},helpKeyReturnWhenSelected:{t:0,b:{t:2,i:[{t:3}],s:"Eingabetaste wenn Text ausgewht"}},helpKeyShiftAlt1:{t:0,b:{t:2,i:[{t:3}],s:"Shift + Alt + 1"}},helpKeyShiftAlt2:{t:0,b:{t:2,i:[{t:3}],s:"Shift + Alt + 2"}},helpKeyShiftAlt3:{t:0,b:{t:2,i:[{t:3}],s:"Shift + Alt + 3"}},helpKeyShiftAlt4:{t:0,b:{t:2,i:[{t:3}],s:"Shift + Alt + 4"}},helpKeyShiftAlt5:{t:0,b:{t:2,i:[{t:3}],s:"Shift + Alt + 5"}},helpKeyShiftAlt6:{t:0,b:{t:2,i:[{t:3}],s:"Shift + Alt + 6"}},helpKeyShiftAlt7:{t:0,b:{t:2,i:[{t:3}],s:"Shift + Alt + 7"}},helpKeyShiftTab:{t:0,b:{t:2,i:[{t:3}],s:"Shift + Tab"}},helpKeysArrows:{t:0,b:{t:2,i:[{t:3}],s:"Pfeiltasten"}},helpKeysLeftRight:{t:0,b:{t:2,i:[{t:3}],s:"Pfeil links und rechts"}},helpKeysShiftArrows:{t:0,b:{t:2,i:[{t:3}],s:"Shift + Pfeiltasten"}},helpKeyTab:{t:0,b:{t:2,i:[{t:3}],s:"Tab"}},helpKeysUpDown:{t:0,b:{t:2,i:[{t:3}],s:"Pfeil abwrts und aufwrts"}},helpNextElement:{t:0,b:{t:2,i:[{t:3}],s:"Nchstes Element"}},helpPopupBlockFormatsClose:{t:0,b:{t:2,i:[{t:3}],s:"Popup der Absatzformate schlieen"}},helpPopupBlockFormatsNavigate:{t:0,b:{t:2,i:[{t:3}],s:"Im Popup zwischen Absatzformaten wechseln"}},helpPopupBlockFormatsSelect:{t:0,b:{t:2,i:[{t:3}],s:"Im Popup ein Absatzformat whlen"}},helpPopupBlockFormatsShow:{t:0,b:{t:2,i:[{t:3}],s:"Popup der Absatzformate aufklappen"}},helpPreviousElement:{t:0,b:{t:2,i:[{t:3}],s:"Vorheriges Element"}},helpShortcut:{t:0,b:{t:2,i:[{t:3}],s:"Tastenbefehl"}},helpSnippetsApply:{t:0,b:{t:2,i:[{t:3}],s:"Textbaustein bernehmen"}},helpSnippetsOpen:{t:0,b:{t:2,i:[{t:3}],s:"Textbaustein auswhlen"}},helpToolbarFocusIn:{t:0,b:{t:2,i:[{t:3}],s:"In Symbolleiste wechseln"}},helpToolbarFocusOut:{t:0,b:{t:2,i:[{t:3}],s:"Symbolleiste verlassen"}},helpToolbarNavigate:{t:0,b:{t:2,i:[{t:3}],s:"In Symbolleiste zwischen Schaltflchen wechseln"}},instructionsZoomOut:{t:0,b:{t:2,i:[{t:3}],s:"Aufgabenstellung Text verkleinern"}},instructionsZoomIn:{t:0,b:{t:2,i:[{t:3}],s:"Aufgabenstellung Text vergrern"}},itemsPreviousWriter:{t:0,b:{t:2,i:[{t:3}],s:"Vorheriger Teilnehmer"}},itemsNextWriter:{t:0,b:{t:2,i:[{t:3}],s:"Nchster Teilnehmer"}},itemsSuffixApproximation:{t:0,b:{t:2,i:[{t:3}],s:"- in Annherung"}},itemsSuffixAuthorized:{t:0,b:{t:2,i:[{t:3}],s:"- freigegeben"}},itemsSuffixConsulting:{t:0,b:{t:2,i:[{t:3}],s:"- in Beratung"}},itemsSuffixFinalized:{t:0,b:{t:2,i:[{t:3}],s:"- abgeschlossen"}},itemsSuffixOpen:{t:0,b:{t:2,i:[{t:3}],s:"- offen"}},itemsSuffixPregraded:{t:0,b:{t:2,i:[{t:3}],s:"- vorbenotet"}},itemsSuffixStitch:{t:0,b:{t:2,i:[{t:3}],s:"- im Stichentscheid"}},itemsWriter:{t:0,b:{t:2,i:[{t:3}],s:"Teilnehmer/in"}},mainContentExpand:{t:0,b:{t:2,i:[{t:3}],s:"Erweitern"}},mainContentExpandLeftColumn:{t:0,b:{t:2,i:[{t:3}],s:"Linke Spalte erweitern"}},mainContentExpandRightColumn:{t:0,b:{t:2,i:[{t:3}],s:"Rechte Spalte erweitern"}},mainContentLeftColumn:{t:0,b:{t:2,i:[{t:3}],s:"Linke Spalte"}},mainContentRightColumn:{t:0,b:{t:2,i:[{t:3}],s:"Rechte Spalte"}},mainContentSendFailureLine1:{t:0,b:{t:2,i:[{t:3}],s:"Ihre letzten nderungen zu diesem Teilnehmer konnten nicht bertragen werden, sind aber lokal gespeichert."}},mainContentSendFailureLine2:{t:0,b:{t:2,i:[{t:3}],s:"Sie knnen diese Meldung schlieen und warten bis Ihre nderungen wieder automatisch gespeichert werden (Siehe Seitenfu)."}},mainContentSendFailureLine3:{t:0,b:{t:2,i:[{t:3}],s:"Alternativ knnen Sie die Korrektur jetzt abbrechen und spter wieder aufrufen, um die nderungen nachtrglich zu speichern."}},mainContentShowOtherCorrections:{t:0,b:{t:2,i:[{t:3}],s:"Andere Korrektoren zeigen"}},mainContentStopCorrection:{t:0,b:{t:2,i:[{t:3}],s:"Korrektur abbrechen"}},markingCommentSum:{t:0,b:{t:2,i:[{t:3}],s:"Summe:"}},markingCommentPointsCriterion:{t:0,b:{t:2,i:[{t:3}],s:"Bewertungskriterium"}},markingCommentPointsPleaseSelect:{t:0,b:{t:2,i:[{t:3}],s:"Bitte whlen Sie eine Anmerkung aus."}},markingCommentPointsWithoutCriterion:{t:0,b:{t:2,i:[{t:3}],s:"Allgemein"}},markingCommentPointsSumOfMax:{t:0,b:{t:2,i:[{t:3}],s:"Summe /max."}},markingCommentsCommentForLabel:{t:0,b:{t:2,i:[{t:3,v:"Anmerkung zur Markierung "},{t:5,i:0}]}},markingCommentsDelete:{t:0,b:{t:2,i:[{t:3}],s:"Anmerkung lschen"}},markingGeneralPointsMax:{t:0,b:{t:2,i:[{t:3}],s:"max."}},markingGeneralPointsCriterion:{t:0,b:{t:2,i:[{t:3}],s:"Bewertungskriterium"}},markingOpenSnippets:{t:0,b:{t:2,i:[{t:3}],s:"Textbausteine (F1)"}},navBarSelected:{t:0,b:{t:2,i:[{t:3}],s:" (ausgewhlt)"}},navBarSelectedAria:{t:0,b:{t:2,i:[{t:3}],s:", ist ausgewhlt"}},otherSummaryNotAuthorized:{t:0,b:{t:2,i:[{t:3}],s:"Diese Korrektur ist noch nicht freigegeben."}},ownSummaryIncludesCommentPoints:{t:0,b:{t:2,i:[{t:3}],s:"Punkte zu Anmerkungen"}},ownSummaryIncludesCommentPointsInfo:{t:0,b:{t:2,i:[{t:3}],s:"Bei jeder Anmerkung wird die vergebene Punktzahl angezeigt."}},ownSummaryIncludesCriteriaPoints:{t:0,b:{t:2,i:[{t:3}],s:"Punkte zu Kriterien"}},ownSummaryIncludesCriteriaPointsInfo:{t:0,b:{t:2,i:[{t:3}],s:"Es wird eine Tabelle mit den Bewertungskriterien und den dafr erreichten Punkten angezeigt."}},ownSummaryIncludesIncludeInfo:{t:0,b:{t:2,i:[{t:3}],s:"informativ"}},ownSummaryIncludesIncludeNot:{t:0,b:{t:2,i:[{t:3}],s:"nicht einbeziehen"}},ownSummaryIncludesIncludeRelevant:{t:0,b:{t:2,i:[{t:3}],s:"bewertungsrelevant"}},ownSummaryIncludesLabelInclude:{t:0,b:{t:2,i:[{t:3}],s:"Einbeziehen:"}},ownSummaryIncludesMarksAndComments:{t:0,b:{t:2,i:[{t:3}],s:"Markierungen und Anmerkungen"}},ownSummaryIncludesMarksAndCommentsInfo:{t:0,b:{t:2,i:[{t:3}],s:"Es wird der abgegebene Text mit markierten Stellen und Anmerkungen am Rand eingefgt."}},ownSummaryIncludesRatingsInfo:{t:0,b:{t:2,i:[{t:3}],s:"Bei jeder Anmerkung wird die vergebene Auszeichnung angezeigt."}},ownSummaryIncludesTitle:{t:0,b:{t:2,i:[{t:3}],s:"In die PDF-Dokumentation der Korrektur einbeziehen"}},ownSummaryIncludesUpdatePreferences:{t:0,b:{t:2,i:[{t:3}],s:"Als Vorgabe fr andere Korekturen bernehmen, bei denen noch keine Auswahl getroffen wurde. Bereits aktiv getroffene Auwahlen bleiben unverndert."}},ownSummaryPointsRating:{t:0,b:{t:2,i:[{t:3}],s:"Eigene Bewertung:"}},ownSummaryPregraded:{t:0,b:{t:2,i:[{t:3}],s:"vorbenotet"}},ownSummaryRevisionTextHiddenField:{t:0,b:{t:2,i:[{t:3}],s:"Verborgenes Feld zur berarbeitung"}},ownSummaryTextHiddenField:{t:0,b:{t:2,i:[{t:3}],s:"Verborgenes Feld zum Gutachten"}},ownSummaryTemplate:{t:0,b:{t:2,i:[{t:3}],s:"Vorlage"}},ownSummaryTemplateAdoptLong:{t:0,b:{t:2,i:[{t:3}],s:"Gutachten-Vorlage bernehmen"}},ownSummaryTemplateAdoptShort:{t:0,b:{t:2,i:[{t:3}],s:"bernehmen"}},ownSummaryTemplateMessage:{t:0,b:{t:2,i:[{t:3}],s:"Wenn Sie die Gutachten-Vorlage bernehmen, wird Ihr bisheriger Gutachten-Text ersetzt."}},ownSummaryTemplatePreview:{t:0,b:{t:2,i:[{t:3}],s:"Vorschau"}},ownSummaryUploadDeleteTitle:{t:0,b:{t:2,i:[{t:3}],s:"PDF-Datei des Gutachtens lschen"}},ownSummaryUploadDeleteInfo:{t:0,b:{t:2,i:[{t:3}],s:"Wenn Sie die PDF-Datei lschen, knnen Sie wieder einen Text eingeben oder eine andere Datei hochladen."}},ownSummaryUploadTitle:{t:0,b:{t:2,i:[{t:3}],s:"Gutachten als PDF-Datei hochladen"}},ownSummaryUploadTextWarning:{t:0,b:{t:2,i:[{t:3}],s:"Bitte lschen Sie den Gutachten-Text, bevor Sie ein Gutachten als PDF-Datei hochladen."}},SendingStatusSending:{t:0,b:{t:2,i:[{t:3}],s:"nderungen werden gesendet"}},SendingStatusSend:{t:0,b:{t:2,i:[{t:3}],s:"Letzte nderung senden"}},SendingStatusSent:{t:0,b:{t:2,i:[{t:3}],s:"Alles gesendet"}},settingsHeadings:{t:0,b:{t:2,i:[{t:3}],s:"berschriften"}},settingsHeading:{t:0,b:{t:2,i:[{t:3}],s:"berschrift"}},settingsHeading1:{t:0,b:{t:2,i:[{t:3}],s:"berschrift 1"}},settingsHeading2:{t:0,b:{t:2,i:[{t:3}],s:"berschrift 2"}},settingsHeading3:{t:0,b:{t:2,i:[{t:3}],s:"berschrift 3"}},settingsHeading4:{t:0,b:{t:2,i:[{t:3}],s:"berschrift 4"}},settingsHeading5:{t:0,b:{t:2,i:[{t:3}],s:"berschrift 5"}},settingsHeading6:{t:0,b:{t:2,i:[{t:3}],s:"berschrift 6"}},settingsInline:{t:0,b:{t:2,i:[{t:3}],s:"Zeichenformate"}},settingsBold:{t:0,b:{t:2,i:[{t:3}],s:"Fett"}},settingsItalic:{t:0,b:{t:2,i:[{t:3}],s:"Kursiv"}},settingsUnderline:{t:0,b:{t:2,i:[{t:3}],s:"Unterstrichen"}},settingsStrikethrough:{t:0,b:{t:2,i:[{t:3}],s:"Durchgestrichen"}},settingsSuperscript:{t:0,b:{t:2,i:[{t:3}],s:"Hochgestellt"}},settingsSubscript:{t:0,b:{t:2,i:[{t:3}],s:"Tiefgestellt"}},settingsCode:{t:0,b:{t:2,i:[{t:3}],s:"Code"}},settingsListElement:{t:0,b:{t:2,i:[{t:3}],s:"Listenelement"}},settingsBlocks:{t:0,b:{t:2,i:[{t:3}],s:"Absatzformate"}},settingsParagraph:{t:0,b:{t:2,i:[{t:3}],s:"Absatz"}},settingsBlockquote:{t:0,b:{t:2,i:[{t:3}],s:"Zitat"}},settingsPre:{t:0,b:{t:2,i:[{t:3}],s:"Maschinenschrift"}},settingsAlign:{t:0,b:{t:2,i:[{t:3}],s:"Ausrichtung"}},settingsAlignLeft:{t:0,b:{t:2,i:[{t:3}],s:"Linksbndig"}},settingsAlignCenter:{t:0,b:{t:2,i:[{t:3}],s:"Zentriert"}},settingsAlignRight:{t:0,b:{t:2,i:[{t:3}],s:"Rechtsbndig"}},settingsAlignJustify:{t:0,b:{t:2,i:[{t:3}],s:"Blocksatz"}},settingsProcedureApproximation:{t:0,b:{t:2,i:[{t:3}],s:"Annherung"}},settingsProcedureConsulting:{t:0,b:{t:2,i:[{t:3}],s:"Beratung"}},settingsProcedureNone:{t:0,b:{t:2,i:[{t:3}],s:"Kein Verfahren"}},settingsRatingPositive:{t:0,b:{t:2,i:[{t:3}],s:"Exzellent"}},settingsRatingNegative:{t:0,b:{t:2,i:[{t:3}],s:"Kardinal"}},snippetsNewSnippet:{t:0,b:{t:2,i:[{t:3}],s:"--- neuer Baustein ---"}},snippetsEdit:{t:0,b:{t:2,i:[{t:3}],s:"Bearbeiten:"}},snippetsSelect:{t:0,b:{t:2,i:[{t:3}],s:"Auswhlen:"}},snippetsSnippet:{t:0,b:{t:2,i:[{t:3}],s:"Textbaustein"}},startupContentLoadData:{t:0,b:{t:2,i:[{t:3}],s:"LadeDaten..."}},startupContentLoadError:{t:0,b:{t:2,i:[{t:3}],s:"Fehler beim Laden"}},startupContentLoadItemError:{t:0,b:{t:2,i:[{t:3}],s:"Beim Laden der zu korrigierenden Abgabe ist ein Fehler aufgetreten. Die Korrekturoberflche kann nicht gestartet werden."}},startupContentMyCorrections:{t:0,b:{t:2,i:[{t:3}],s:"Meine Korrekturen"}},startupContentDataReplaceInfo1:{t:0,b:{t:2,i:[{t:3}],s:"In Ihrem Browser sind Daten eines anderen Korrektors oder einer anderen Aufgabe vorhanden, die noch nicht bertragen wurden:"}},startupContentDataReplaceInfo2:{t:0,b:{t:2,i:[{t:3}],s:"Durch das Laden der neuen Korrektur werden diese Daten gelscht. Mchten Sie die neuen Daten laden?"}},startupContentDeleteAndLoad:{t:0,b:{t:2,i:[{t:3}],s:"Verwerfen und Laden"}},startupContentItemReplaceInfo1:{t:0,b:{t:2,i:[{t:3}],s:"In Ihrem Browser sind Daten Ihrer vorherigen Bearbeitung vorhanden, die noch nicht bertragen wurden:"}},startupContentItemReplaceInfo2:{t:0,b:{t:2,i:[{t:3}],s:"Sie knnen mit diesen Daten weiter arbeiten, um sie nachtrglich zu bertragen oder sie verwerfen."}},startupContentDeleteLocalData:{t:0,b:{t:2,i:[{t:3}],s:"Lokale Daten verwerfen"}},startupContentKeepLocalData:{t:0,b:{t:2,i:[{t:3}],s:"Mit lokalen Daten weiter arbeiten"}},stichDecision:{t:0,b:{t:2,i:[{t:3}],s:"Stichentscheid"}},revisionFix:{t:0,b:{t:2,i:[{t:3}],s:"Freigeben"}},revisionFixAndContinue:{t:0,b:{t:2,i:[{t:3}],s:"Freigeben und Weiter"}},revisionFixAndClose:{t:0,b:{t:2,i:[{t:3}],s:"Freigeben und Schlieen"}},revisionFixApproximationTitle:{t:0,b:{t:2,i:[{t:3}],s:"Annherung freigeben"}},revisionFixConsultingTitle:{t:0,b:{t:2,i:[{t:3}],s:"Beratungsergebnis freigeben"}},revisionButton:{t:0,b:{t:2,i:[{t:3}],s:"Freigeben..."}},revisionPleaseEnterPoints:{t:0,b:{t:2,i:[{t:3}],s:"Bitte geben Sie eine neue Bewertung ein."}},revisionPleaseEnterText:{t:0,b:{t:2,i:[{t:3}],s:"Bitte geben Sie eine Begrndung ein."}},revisionRequireOtherRevision:{t:0,b:{t:2,i:[{t:3}],s:"Hiermit rume ich der Zweitkorrektur die Mglichkeit ein, sich anzunhern."}},authorizationPleaseEnterText:{t:0,b:{t:2,i:[{t:3}],s:"Bitte geben Sie eine Begrndung ein."}},revisionPointsLabel:{t:0,b:{t:2,i:[{t:3}],s:"Neue Bewertung:"}},revisionTextLabel:{t:0,b:{t:2,i:[{t:3}],s:"Begrndung:"}},revisionTextEdit:{t:0,b:{t:2,i:[{t:3}],s:"Begrndung bearbeiten"}},revisionWarnStitchDecision:{t:0,b:{t:2,i:[{t:3,v:"Ihre Bewertung wird einen Stichentscheid erfordern: "},{t:5,i:0}]}},revisionWarnFinalize:{t:0,b:{t:2,i:[{t:3}],s:"Mchten Sie Ihre neue Bewertung freigeben? Sie knnen sie anschlieend nicht mehr ndern."}},sumOfPointsLabel:{t:0,b:{t:2,i:[{t:3}],s:"Summe der Teilpunkte: "}},sumOfPointsToCriteriaInComments:{t:0,b:{t:2,i:[{t:3}],s:"(zu Kriterien bei Anmerkungen)"}},sumOfPointsToComments:{t:0,b:{t:2,i:[{t:3}],s:"(zu Anmerkungen)"}},sumOfPointsNCommentCriteriaMGeneralCriteria:{t:0,b:{t:2,i:[{t:3,v:"("},{t:5,i:0},{t:3,v:" zu Kriterien bei Anmerkungen, "},{t:5,i:1},{t:3,v:" zu allgemeinen Kriterien)"}]}},sumOfPointsNCommentsMGeneralCriteria:{t:0,b:{t:2,i:[{t:3,v:"("},{t:5,i:0},{t:3,v:" zu Anmerkungen, "},{t:5,i:1},{t:3,v:" zu allgemeinen Kriterien)"}]}},summariesIncludeComments:{t:0,b:{t:2,i:[{t:3}],s:"Anmerkungen"}},summariesIncludeCommentRatings:{t:0,b:{t:2,i:[{t:3}],s:"Positiv/Negativbewerungen"}},summariesIncludeNoDetails:{t:0,b:{t:2,i:[{t:3}],s:"keine Detail-Informationen"}},summariesIncludePartialPoints:{t:0,b:{t:2,i:[{t:3}],s:"Teilpunkte"}},summariesPointsOutsideMinMax:{t:0,b:{t:2,i:[{t:3,v:"Ihre Bewertung muss zwischen "},{t:5,i:0},{t:3,v:" und "},{t:5,i:1},{t:3,v:" Punkten liegen!"}]}},summariesPointsDifferText:{t:0,b:{t:1,c:[{t:2,i:[{t:3,v:"Der Punkteunterschied bersteigt "},{t:4,k:"n"},{t:3,v:" Punkt."}]},{t:2,i:[{t:3,v:"Der Punkteunterschied bersteigt "},{t:4,k:"n"},{t:3,v:" Punkte."}]}]}},summariesProcedureApproximationNeeded:{t:0,b:{t:2,i:[{t:3,v:"Ihre Bewertung wird ein Annherungsverfahren erfordern: "},{t:5,i:0}]}},summariesProcedureConsultingNeeded:{t:0,b:{t:2,i:[{t:3,v:"Ihre Bewertung wird ein Beratungsverfahren erfordern: "},{t:5,i:0}]}},summariesProcedureStitchNeeded:{t:0,b:{t:2,i:[{t:3,v:"Ihre Bewertung wird einen Stichentscheid erfordern: "},{t:5,i:0}]}},summariesNoGrade:{t:0,b:{t:2,i:[{t:3}],s:"ohne Note"}},summaryCriteriaInComments:{t:0,b:{t:2,i:[{t:3}],s:"Bewertungskriterien bei Anmerkungen"}},summaryCriteriaGeneralCriteria:{t:0,b:{t:2,i:[{t:3}],s:"Allgemeine Bewertungskriterien (Kopfnoten)"}},summaryCriteriaMarkings:{t:0,b:{t:2,i:[{t:3}],s:"Auszeichnungen"}},summaryCriteriaNumber:{t:0,b:{t:2,i:[{t:3}],s:"Anzahl"}},summaryCriteriaPointsInComments:{t:0,b:{t:2,i:[{t:3}],s:"Punkte in Kommentaren"}},summaryCriteriaPointsOfMax:{t:0,b:{t:2,i:[{t:3}],s:"Punkte /max"}},summaryCriteriaRating:{t:0,b:{t:2,i:[{t:3}],s:"Bewertung"}},summaryPointsInclude:{t:0,b:{t:2,i:[{t:3}],s:"Einbeziehen:"}},summaryPointsRating:{t:0,b:{t:2,i:[{t:3}],s:"Bewertung:"}},summaryRevisionRating:{t:0,b:{t:2,i:[{t:3}],s:"Neue Bewertung:"}},tasksNextTask:{t:0,b:{t:2,i:[{t:3}],s:"Nchste Teilaufgabe"}},tasksPreviousTask:{t:0,b:{t:2,i:[{t:3}],s:"Vorherige Teilaufgabe"}},tasksTask:{t:0,b:{t:2,i:[{t:3}],s:"Teilaufgabe"}},tinyHelperIframeAriaText:{t:0,b:{t:2,i:[{t:3}],s:"Gutachten-Editor"}}}}),ud=$be({locale:"de",messages:Ube});function Wbe(t){t.use(ope).use(upe).use(ud)}function uee(t,r){return function(){return t.apply(r,arguments)}}const{toString:Kbe}=Object.prototype,{getPrototypeOf:tK}=Object,{iterator:QF,toStringTag:dee}=Symbol,e8=(t=>r=>{const i=Kbe.call(r);return t[i]||(t[i]=i.slice(8,-1).toLowerCase())})(Object.create(null)),hb=t=>(t=t.toLowerCase(),r=>e8(r)===t),t8=t=>r=>typeof r===t,{isArray:UE}=Array,qR=t8("undefined");function jbe(t){return t!==null&&!qR(t)&&t.constructor!==null&&!qR(t.constructor)&&Bm(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const fee=hb("ArrayBuffer");function Zbe(t){let r;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?r=ArrayBuffer.isView(t):r=t&&t.buffer&&fee(t.buffer),r}const Gbe=t8("string"),Bm=t8("function"),mee=t8("number"),n8=t=>t!==null&&typeof t=="object",qbe=t=>t===!0||t===!1,G6=t=>{if(e8(t)!=="object")return!1;const r=tK(t);return(r===null||r===Object.prototype||Object.getPrototypeOf(r)===null)&&!(dee in t)&&!(QF in t)},Ybe=hb("Date"),Xbe=hb("File"),Jbe=hb("Blob"),Qbe=hb("FileList"),eve=t=>n8(t)&&Bm(t.pipe),tve=t=>{let r;return t&&(typeof FormData=="function"&&t instanceof FormData||Bm(t.append)&&((r=e8(t))==="formdata"||r==="object"&&Bm(t.toString)&&t.toString()==="[object FormData]"))},nve=hb("URLSearchParams"),[ove,sve,rve,ive]=["ReadableStream","Request","Response","Headers"].map(hb),ave=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function bI(t,r,{allOwnKeys:i=!1}={}){if(t===null||typeof t>"u")return;let u,g;if(typeof t!="object"&&(t=[t]),UE(t))for(u=0,g=t.length;u<g;u++)r.call(null,t[u],u,t);else{const h=i?Object.getOwnPropertyNames(t):Object.keys(t),x=h.length;let w;for(u=0;u<x;u++)w=h[u],r.call(null,t[w],w,t)}}function gee(t,r){r=r.toLowerCase();const i=Object.keys(t);let u=i.length,g;for(;u-- >0;)if(g=i[u],r===g.toLowerCase())return g;return null}const HC=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,hee=t=>!qR(t)&&t!==HC;function rW(){const{caseless:t}=hee(this)&&this||{},r={},i=(u,g)=>{const h=t&&gee(r,g)||g;G6(r[h])&&G6(u)?r[h]=rW(r[h],u):G6(u)?r[h]=rW({},u):UE(u)?r[h]=u.slice():r[h]=u};for(let u=0,g=arguments.length;u<g;u++)arguments[u]&&bI(arguments[u],i);return r}const lve=(t,r,i,{allOwnKeys:u}={})=>(bI(r,(g,h)=>{i&&Bm(g)?t[h]=uee(g,i):t[h]=g},{allOwnKeys:u}),t),cve=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),uve=(t,r,i,u)=>{t.prototype=Object.create(r.prototype,u),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:r.prototype}),i&&Object.assign(t.prototype,i)},dve=(t,r,i,u)=>{let g,h,x;const w={};if(r=r||{},t==null)return r;do{for(g=Object.getOwnPropertyNames(t),h=g.length;h-- >0;)x=g[h],(!u||u(x,t,r))&&!w[x]&&(r[x]=t[x],w[x]=!0);t=i!==!1&&tK(t)}while(t&&(!i||i(t,r))&&t!==Object.prototype);return r},fve=(t,r,i)=>{t=String(t),(i===void 0||i>t.length)&&(i=t.length),i-=r.length;const u=t.indexOf(r,i);return u!==-1&&u===i},mve=t=>{if(!t)return null;if(UE(t))return t;let r=t.length;if(!mee(r))return null;const i=new Array(r);for(;r-- >0;)i[r]=t[r];return i},gve=(t=>r=>t&&r instanceof t)(typeof Uint8Array<"u"&&tK(Uint8Array)),hve=(t,r)=>{const u=(t&&t[QF]).call(t);let g;for(;(g=u.next())&&!g.done;){const h=g.value;r.call(t,h[0],h[1])}},pve=(t,r)=>{let i;const u=[];for(;(i=t.exec(r))!==null;)u.push(i);return u},bve=hb("HTMLFormElement"),vve=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(i,u,g){return u.toUpperCase()+g}),CY=(({hasOwnProperty:t})=>(r,i)=>t.call(r,i))(Object.prototype),yve=hb("RegExp"),pee=(t,r)=>{const i=Object.getOwnPropertyDescriptors(t),u={};bI(i,(g,h)=>{let x;(x=r(g,h,t))!==!1&&(u[h]=x||g)}),Object.defineProperties(t,u)},xve=t=>{pee(t,(r,i)=>{if(Bm(t)&&["arguments","caller","callee"].indexOf(i)!==-1)return!1;const u=t[i];if(Bm(u)){if(r.enumerable=!1,"writable"in r){r.writable=!1;return}r.set||(r.set=()=>{throw Error("Can not rewrite read-only method '"+i+"'")})}})},wve=(t,r)=>{const i={},u=g=>{g.forEach(h=>{i[h]=!0})};return UE(t)?u(t):u(String(t).split(r)),i},Cve=()=>{},Sve=(t,r)=>t!=null&&Number.isFinite(t=+t)?t:r;function _ve(t){return!!(t&&Bm(t.append)&&t[dee]==="FormData"&&t[QF])}const kve=t=>{const r=new Array(10),i=(u,g)=>{if(n8(u)){if(r.indexOf(u)>=0)return;if(!("toJSON"in u)){r[g]=u;const h=UE(u)?[]:{};return bI(u,(x,w)=>{const R=i(x,g+1);!qR(R)&&(h[w]=R)}),r[g]=void 0,h}}return u};return i(t,0)},Eve=hb("AsyncFunction"),Tve=t=>t&&(n8(t)||Bm(t))&&Bm(t.then)&&Bm(t.catch),bee=((t,r)=>t?setImmediate:r?((i,u)=>(HC.addEventListener("message",({source:g,data:h})=>{g===HC&&h===i&&u.length&&u.shift()()},!1),g=>{u.push(g),HC.postMessage(i,"*")}))(`axios@${Math.random()}`,[]):i=>setTimeout(i))(typeof setImmediate=="function",Bm(HC.postMessage)),Ave=typeof queueMicrotask<"u"?queueMicrotask.bind(HC):typeof process<"u"&&process.nextTick||bee,Ove=t=>t!=null&&Bm(t[QF]),ln={isArray:UE,isArrayBuffer:fee,isBuffer:jbe,isFormData:tve,isArrayBufferView:Zbe,isString:Gbe,isNumber:mee,isBoolean:qbe,isObject:n8,isPlainObject:G6,isReadableStream:ove,isRequest:sve,isResponse:rve,isHeaders:ive,isUndefined:qR,isDate:Ybe,isFile:Xbe,isBlob:Jbe,isRegExp:yve,isFunction:Bm,isStream:eve,isURLSearchParams:nve,isTypedArray:gve,isFileList:Qbe,forEach:bI,merge:rW,extend:lve,trim:ave,stripBOM:cve,inherits:uve,toFlatObject:dve,kindOf:e8,kindOfTest:hb,endsWith:fve,toArray:mve,forEachEntry:hve,matchAll:pve,isHTMLForm:bve,hasOwnProperty:CY,hasOwnProp:CY,reduceDescriptors:pee,freezeMethods:xve,toObjectSet:wve,toCamelCase:vve,noop:Cve,toFiniteNumber:Sve,findKey:gee,global:HC,isContextDefined:hee,isSpecCompliantForm:_ve,toJSONObject:kve,isAsyncFn:Eve,isThenable:Tve,setImmediate:bee,asap:Ave,isIterable:Ove};function ur(t,r,i,u,g){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",r&&(this.code=r),i&&(this.config=i),u&&(this.request=u),g&&(this.response=g,this.status=g.status?g.status:null)}ln.inherits(ur,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:ln.toJSONObject(this.config),code:this.code,status:this.status}}});const vee=ur.prototype,yee={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{yee[t]={value:t}});Object.defineProperties(ur,yee);Object.defineProperty(vee,"isAxiosError",{value:!0});ur.from=(t,r,i,u,g,h)=>{const x=Object.create(vee);return ln.toFlatObject(t,x,function(R){return R!==Error.prototype},w=>w!=="isAxiosError"),ur.call(x,t.message,r,i,u,g),x.cause=t,x.name=t.name,h&&Object.assign(x,h),x};const Rve=null;function iW(t){return ln.isPlainObject(t)||ln.isArray(t)}function xee(t){return ln.endsWith(t,"[]")?t.slice(0,-2):t}function SY(t,r,i){return t?t.concat(r).map(function(g,h){return g=xee(g),!i&&h?"["+g+"]":g}).join(i?".":""):r}function Ive(t){return ln.isArray(t)&&!t.some(iW)}const Dve=ln.toFlatObject(ln,{},null,function(r){return/^is[A-Z]/.test(r)});function o8(t,r,i){if(!ln.isObject(t))throw new TypeError("target must be an object");r=r||new FormData,i=ln.toFlatObject(i,{metaTokens:!0,dots:!1,indexes:!1},!1,function(Q,re){return!ln.isUndefined(re[Q])});const u=i.metaTokens,g=i.visitor||O,h=i.dots,x=i.indexes,R=(i.Blob||typeof Blob<"u"&&Blob)&&ln.isSpecCompliantForm(r);if(!ln.isFunction(g))throw new TypeError("visitor must be a function");function D(Z){if(Z===null)return"";if(ln.isDate(Z))return Z.toISOString();if(ln.isBoolean(Z))return Z.toString();if(!R&&ln.isBlob(Z))throw new ur("Blob is not supported. Use a Buffer instead.");return ln.isArrayBuffer(Z)||ln.isTypedArray(Z)?R&&typeof Blob=="function"?new Blob([Z]):Buffer.from(Z):Z}function O(Z,Q,re){let U=Z;if(Z&&!re&&typeof Z=="object"){if(ln.endsWith(Q,"{}"))Q=u?Q:Q.slice(0,-2),Z=JSON.stringify(Z);else if(ln.isArray(Z)&&Ive(Z)||(ln.isFileList(Z)||ln.endsWith(Q,"[]"))&&(U=ln.toArray(Z)))return Q=xee(Q),U.forEach(function(de,q){!(ln.isUndefined(de)||de===null)&&r.append(x===!0?SY([Q],q,h):x===null?Q:Q+"[]",D(de))}),!1}return iW(Z)?!0:(r.append(SY(re,Q,h),D(Z)),!1)}const M=[],H=Object.assign(Dve,{defaultVisitor:O,convertValue:D,isVisitable:iW});function K(Z,Q){if(!ln.isUndefined(Z)){if(M.indexOf(Z)!==-1)throw Error("Circular reference detected in "+Q.join("."));M.push(Z),ln.forEach(Z,function(U,ge){(!(ln.isUndefined(U)||U===null)&&g.call(r,U,ln.isString(ge)?ge.trim():ge,Q,H))===!0&&K(U,Q?Q.concat(ge):[ge])}),M.pop()}}if(!ln.isObject(t))throw new TypeError("data must be an object");return K(t),r}function _Y(t){const r={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(u){return r[u]})}function nK(t,r){this._pairs=[],t&&o8(t,this,r)}const wee=nK.prototype;wee.append=function(r,i){this._pairs.push([r,i])};wee.toString=function(r){const i=r?function(u){return r.call(this,u,_Y)}:_Y;return this._pairs.map(function(g){return i(g[0])+"="+i(g[1])},"").join("&")};function Pve(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Cee(t,r,i){if(!r)return t;const u=i&&i.encode||Pve;ln.isFunction(i)&&(i={serialize:i});const g=i&&i.serialize;let h;if(g?h=g(r,i):h=ln.isURLSearchParams(r)?r.toString():new nK(r,i).toString(u),h){const x=t.indexOf("#");x!==-1&&(t=t.slice(0,x)),t+=(t.indexOf("?")===-1?"?":"&")+h}return t}class kY{constructor(){this.handlers=[]}use(r,i,u){return this.handlers.push({fulfilled:r,rejected:i,synchronous:u?u.synchronous:!1,runWhen:u?u.runWhen:null}),this.handlers.length-1}eject(r){this.handlers[r]&&(this.handlers[r]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(r){ln.forEach(this.handlers,function(u){u!==null&&r(u)})}}const See={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Nve=typeof URLSearchParams<"u"?URLSearchParams:nK,Mve=typeof FormData<"u"?FormData:null,Lve=typeof Blob<"u"?Blob:null,Bve={isBrowser:!0,classes:{URLSearchParams:Nve,FormData:Mve,Blob:Lve},protocols:["http","https","file","blob","url","data"]},oK=typeof window<"u"&&typeof document<"u",aW=typeof navigator=="object"&&navigator||void 0,Fve=oK&&(!aW||["ReactNative","NativeScript","NS"].indexOf(aW.product)<0),$ve=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Vve=oK&&window.location.href||"http://localhost",zve=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:oK,hasStandardBrowserEnv:Fve,hasStandardBrowserWebWorkerEnv:$ve,navigator:aW,origin:Vve},Symbol.toStringTag,{value:"Module"})),Hd={...zve,...Bve};function Hve(t,r){return o8(t,new Hd.classes.URLSearchParams,Object.assign({visitor:function(i,u,g,h){return Hd.isNode&&ln.isBuffer(i)?(this.append(u,i.toString("base64")),!1):h.defaultVisitor.apply(this,arguments)}},r))}function Uve(t){return ln.matchAll(/\w+|\[(\w*)]/g,t).map(r=>r[0]==="[]"?"":r[1]||r[0])}function Wve(t){const r={},i=Object.keys(t);let u;const g=i.length;let h;for(u=0;u<g;u++)h=i[u],r[h]=t[h];return r}function _ee(t){function r(i,u,g,h){let x=i[h++];if(x==="__proto__")return!0;const w=Number.isFinite(+x),R=h>=i.length;return x=!x&&ln.isArray(g)?g.length:x,R?(ln.hasOwnProp(g,x)?g[x]=[g[x],u]:g[x]=u,!w):((!g[x]||!ln.isObject(g[x]))&&(g[x]=[]),r(i,u,g[x],h)&&ln.isArray(g[x])&&(g[x]=Wve(g[x])),!w)}if(ln.isFormData(t)&&ln.isFunction(t.entries)){const i={};return ln.forEachEntry(t,(u,g)=>{r(Uve(u),g,i,0)}),i}return null}function Kve(t,r,i){if(ln.isString(t))try{return(r||JSON.parse)(t),ln.trim(t)}catch(u){if(u.name!=="SyntaxError")throw u}return(i||JSON.stringify)(t)}const vI={transitional:See,adapter:["xhr","http","fetch"],transformRequest:[function(r,i){const u=i.getContentType()||"",g=u.indexOf("application/json")>-1,h=ln.isObject(r);if(h&&ln.isHTMLForm(r)&&(r=new FormData(r)),ln.isFormData(r))return g?JSON.stringify(_ee(r)):r;if(ln.isArrayBuffer(r)||ln.isBuffer(r)||ln.isStream(r)||ln.isFile(r)||ln.isBlob(r)||ln.isReadableStream(r))return r;if(ln.isArrayBufferView(r))return r.buffer;if(ln.isURLSearchParams(r))return i.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),r.toString();let w;if(h){if(u.indexOf("application/x-www-form-urlencoded")>-1)return Hve(r,this.formSerializer).toString();if((w=ln.isFileList(r))||u.indexOf("multipart/form-data")>-1){const R=this.env&&this.env.FormData;return o8(w?{"files[]":r}:r,R&&new R,this.formSerializer)}}return h||g?(i.setContentType("application/json",!1),Kve(r)):r}],transformResponse:[function(r){const i=this.transitional||vI.transitional,u=i&&i.forcedJSONParsing,g=this.responseType==="json";if(ln.isResponse(r)||ln.isReadableStream(r))return r;if(r&&ln.isString(r)&&(u&&!this.responseType||g)){const x=!(i&&i.silentJSONParsing)&&g;try{return JSON.parse(r)}catch(w){if(x)throw w.name==="SyntaxError"?ur.from(w,ur.ERR_BAD_RESPONSE,this,null,this.response):w}}return r}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Hd.classes.FormData,Blob:Hd.classes.Blob},validateStatus:function(r){return r>=200&&r<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};ln.forEach(["delete","get","head","post","put","patch"],t=>{vI.headers[t]={}});const jve=ln.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Zve=t=>{const r={};let i,u,g;return t&&t.split(`
`).forEach(function(x){g=x.indexOf(":"),i=x.substring(0,g).trim().toLowerCase(),u=x.substring(g+1).trim(),!(!i||r[i]&&jve[i])&&(i==="set-cookie"?r[i]?r[i].push(u):r[i]=[u]:r[i]=r[i]?r[i]+", "+u:u)}),r},EY=Symbol("internals");function vR(t){return t&&String(t).trim().toLowerCase()}function q6(t){return t===!1||t==null?t:ln.isArray(t)?t.map(q6):String(t)}function Gve(t){const r=Object.create(null),i=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let u;for(;u=i.exec(t);)r[u[1]]=u[2];return r}const qve=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function Q9(t,r,i,u,g){if(ln.isFunction(u))return u.call(this,r,i);if(g&&(r=i),!!ln.isString(r)){if(ln.isString(u))return r.indexOf(u)!==-1;if(ln.isRegExp(u))return u.test(r)}}function Yve(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(r,i,u)=>i.toUpperCase()+u)}function Xve(t,r){const i=ln.toCamelCase(" "+r);["get","set","has"].forEach(u=>{Object.defineProperty(t,u+i,{value:function(g,h,x){return this[u].call(this,r,g,h,x)},configurable:!0})})}let Fm=class{constructor(r){r&&this.set(r)}set(r,i,u){const g=this;function h(w,R,D){const O=vR(R);if(!O)throw new Error("header name must be a non-empty string");const M=ln.findKey(g,O);(!M||g[M]===void 0||D===!0||D===void 0&&g[M]!==!1)&&(g[M||R]=q6(w))}const x=(w,R)=>ln.forEach(w,(D,O)=>h(D,O,R));if(ln.isPlainObject(r)||r instanceof this.constructor)x(r,i);else if(ln.isString(r)&&(r=r.trim())&&!qve(r))x(Zve(r),i);else if(ln.isObject(r)&&ln.isIterable(r)){let w={},R,D;for(const O of r){if(!ln.isArray(O))throw TypeError("Object iterator must return a key-value pair");w[D=O[0]]=(R=w[D])?ln.isArray(R)?[...R,O[1]]:[R,O[1]]:O[1]}x(w,i)}else r!=null&&h(i,r,u);return this}get(r,i){if(r=vR(r),r){const u=ln.findKey(this,r);if(u){const g=this[u];if(!i)return g;if(i===!0)return Gve(g);if(ln.isFunction(i))return i.call(this,g,u);if(ln.isRegExp(i))return i.exec(g);throw new TypeError("parser must be boolean|regexp|function")}}}has(r,i){if(r=vR(r),r){const u=ln.findKey(this,r);return!!(u&&this[u]!==void 0&&(!i||Q9(this,this[u],u,i)))}return!1}delete(r,i){const u=this;let g=!1;function h(x){if(x=vR(x),x){const w=ln.findKey(u,x);w&&(!i||Q9(u,u[w],w,i))&&(delete u[w],g=!0)}}return ln.isArray(r)?r.forEach(h):h(r),g}clear(r){const i=Object.keys(this);let u=i.length,g=!1;for(;u--;){const h=i[u];(!r||Q9(this,this[h],h,r,!0))&&(delete this[h],g=!0)}return g}normalize(r){const i=this,u={};return ln.forEach(this,(g,h)=>{const x=ln.findKey(u,h);if(x){i[x]=q6(g),delete i[h];return}const w=r?Yve(h):String(h).trim();w!==h&&delete i[h],i[w]=q6(g),u[w]=!0}),this}concat(...r){return this.constructor.concat(this,...r)}toJSON(r){const i=Object.create(null);return ln.forEach(this,(u,g)=>{u!=null&&u!==!1&&(i[g]=r&&ln.isArray(u)?u.join(", "):u)}),i}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([r,i])=>r+": "+i).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(r){return r instanceof this?r:new this(r)}static concat(r,...i){const u=new this(r);return i.forEach(g=>u.set(g)),u}static accessor(r){const u=(this[EY]=this[EY]={accessors:{}}).accessors,g=this.prototype;function h(x){const w=vR(x);u[w]||(Xve(g,x),u[w]=!0)}return ln.isArray(r)?r.forEach(h):h(r),this}};Fm.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);ln.reduceDescriptors(Fm.prototype,({value:t},r)=>{let i=r[0].toUpperCase()+r.slice(1);return{get:()=>t,set(u){this[i]=u}}});ln.freezeMethods(Fm);function eU(t,r){const i=this||vI,u=r||i,g=Fm.from(u.headers);let h=u.data;return ln.forEach(t,function(w){h=w.call(i,h,g.normalize(),r?r.status:void 0)}),g.normalize(),h}function kee(t){return!!(t&&t.__CANCEL__)}function WE(t,r,i){ur.call(this,t??"canceled",ur.ERR_CANCELED,r,i),this.name="CanceledError"}ln.inherits(WE,ur,{__CANCEL__:!0});function Eee(t,r,i){const u=i.config.validateStatus;!i.status||!u||u(i.status)?t(i):r(new ur("Request failed with status code "+i.status,[ur.ERR_BAD_REQUEST,ur.ERR_BAD_RESPONSE][Math.floor(i.status/100)-4],i.config,i.request,i))}function Jve(t){const r=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return r&&r[1]||""}function Qve(t,r){t=t||10;const i=new Array(t),u=new Array(t);let g=0,h=0,x;return r=r!==void 0?r:1e3,function(R){const D=Date.now(),O=u[h];x||(x=D),i[g]=R,u[g]=D;let M=h,H=0;for(;M!==g;)H+=i[M++],M=M%t;if(g=(g+1)%t,g===h&&(h=(h+1)%t),D-x<r)return;const K=O&&D-O;return K?Math.round(H*1e3/K):void 0}}function e0e(t,r){let i=0,u=1e3/r,g,h;const x=(D,O=Date.now())=>{i=O,g=null,h&&(clearTimeout(h),h=null),t.apply(null,D)};return[(...D)=>{const O=Date.now(),M=O-i;M>=u?x(D,O):(g=D,h||(h=setTimeout(()=>{h=null,x(g)},u-M)))},()=>g&&x(g)]}const CF=(t,r,i=3)=>{let u=0;const g=Qve(50,250);return e0e(h=>{const x=h.loaded,w=h.lengthComputable?h.total:void 0,R=x-u,D=g(R),O=x<=w;u=x;const M={loaded:x,total:w,progress:w?x/w:void 0,bytes:R,rate:D||void 0,estimated:D&&w&&O?(w-x)/D:void 0,event:h,lengthComputable:w!=null,[r?"download":"upload"]:!0};t(M)},i)},TY=(t,r)=>{const i=t!=null;return[u=>r[0]({lengthComputable:i,total:t,loaded:u}),r[1]]},AY=t=>(...r)=>ln.asap(()=>t(...r)),t0e=Hd.hasStandardBrowserEnv?((t,r)=>i=>(i=new URL(i,Hd.origin),t.protocol===i.protocol&&t.host===i.host&&(r||t.port===i.port)))(new URL(Hd.origin),Hd.navigator&&/(msie|trident)/i.test(Hd.navigator.userAgent)):()=>!0,n0e=Hd.hasStandardBrowserEnv?{write(t,r,i,u,g,h){const x=[t+"="+encodeURIComponent(r)];ln.isNumber(i)&&x.push("expires="+new Date(i).toGMTString()),ln.isString(u)&&x.push("path="+u),ln.isString(g)&&x.push("domain="+g),h===!0&&x.push("secure"),document.cookie=x.join("; ")},read(t){const r=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return r?decodeURIComponent(r[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function o0e(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function s0e(t,r){return r?t.replace(/\/?\/$/,"")+"/"+r.replace(/^\/+/,""):t}function Tee(t,r,i){let u=!o0e(r);return t&&(u||i==!1)?s0e(t,r):r}const OY=t=>t instanceof Fm?{...t}:t;function qC(t,r){r=r||{};const i={};function u(D,O,M,H){return ln.isPlainObject(D)&&ln.isPlainObject(O)?ln.merge.call({caseless:H},D,O):ln.isPlainObject(O)?ln.merge({},O):ln.isArray(O)?O.slice():O}function g(D,O,M,H){if(ln.isUndefined(O)){if(!ln.isUndefined(D))return u(void 0,D,M,H)}else return u(D,O,M,H)}function h(D,O){if(!ln.isUndefined(O))return u(void 0,O)}function x(D,O){if(ln.isUndefined(O)){if(!ln.isUndefined(D))return u(void 0,D)}else return u(void 0,O)}function w(D,O,M){if(M in r)return u(D,O);if(M in t)return u(void 0,D)}const R={url:h,method:h,data:h,baseURL:x,transformRequest:x,transformResponse:x,paramsSerializer:x,timeout:x,timeoutMessage:x,withCredentials:x,withXSRFToken:x,adapter:x,responseType:x,xsrfCookieName:x,xsrfHeaderName:x,onUploadProgress:x,onDownloadProgress:x,decompress:x,maxContentLength:x,maxBodyLength:x,beforeRedirect:x,transport:x,httpAgent:x,httpsAgent:x,cancelToken:x,socketPath:x,responseEncoding:x,validateStatus:w,headers:(D,O,M)=>g(OY(D),OY(O),M,!0)};return ln.forEach(Object.keys(Object.assign({},t,r)),function(O){const M=R[O]||g,H=M(t[O],r[O],O);ln.isUndefined(H)&&M!==w||(i[O]=H)}),i}const Aee=t=>{const r=qC({},t);let{data:i,withXSRFToken:u,xsrfHeaderName:g,xsrfCookieName:h,headers:x,auth:w}=r;r.headers=x=Fm.from(x),r.url=Cee(Tee(r.baseURL,r.url,r.allowAbsoluteUrls),t.params,t.paramsSerializer),w&&x.set("Authorization","Basic "+btoa((w.username||"")+":"+(w.password?unescape(encodeURIComponent(w.password)):"")));let R;if(ln.isFormData(i)){if(Hd.hasStandardBrowserEnv||Hd.hasStandardBrowserWebWorkerEnv)x.setContentType(void 0);else if((R=x.getContentType())!==!1){const[D,...O]=R?R.split(";").map(M=>M.trim()).filter(Boolean):[];x.setContentType([D||"multipart/form-data",...O].join("; "))}}if(Hd.hasStandardBrowserEnv&&(u&&ln.isFunction(u)&&(u=u(r)),u||u!==!1&&t0e(r.url))){const D=g&&h&&n0e.read(h);D&&x.set(g,D)}return r},r0e=typeof XMLHttpRequest<"u",i0e=r0e&&function(t){return new Promise(function(i,u){const g=Aee(t);let h=g.data;const x=Fm.from(g.headers).normalize();let{responseType:w,onUploadProgress:R,onDownloadProgress:D}=g,O,M,H,K,Z;function Q(){K&&K(),Z&&Z(),g.cancelToken&&g.cancelToken.unsubscribe(O),g.signal&&g.signal.removeEventListener("abort",O)}let re=new XMLHttpRequest;re.open(g.method.toUpperCase(),g.url,!0),re.timeout=g.timeout;function U(){if(!re)return;const de=Fm.from("getAllResponseHeaders"in re&&re.getAllResponseHeaders()),he={data:!w||w==="text"||w==="json"?re.responseText:re.response,status:re.status,statusText:re.statusText,headers:de,config:t,request:re};Eee(function(_e){i(_e),Q()},function(_e){u(_e),Q()},he),re=null}"onloadend"in re?re.onloadend=U:re.onreadystatechange=function(){!re||re.readyState!==4||re.status===0&&!(re.responseURL&&re.responseURL.indexOf("file:")===0)||setTimeout(U)},re.onabort=function(){re&&(u(new ur("Request aborted",ur.ECONNABORTED,t,re)),re=null)},re.onerror=function(){u(new ur("Network Error",ur.ERR_NETWORK,t,re)),re=null},re.ontimeout=function(){let q=g.timeout?"timeout of "+g.timeout+"ms exceeded":"timeout exceeded";const he=g.transitional||See;g.timeoutErrorMessage&&(q=g.timeoutErrorMessage),u(new ur(q,he.clarifyTimeoutError?ur.ETIMEDOUT:ur.ECONNABORTED,t,re)),re=null},h===void 0&&x.setContentType(null),"setRequestHeader"in re&&ln.forEach(x.toJSON(),function(q,he){re.setRequestHeader(he,q)}),ln.isUndefined(g.withCredentials)||(re.withCredentials=!!g.withCredentials),w&&w!=="json"&&(re.responseType=g.responseType),D&&([H,Z]=CF(D,!0),re.addEventListener("progress",H)),R&&re.upload&&([M,K]=CF(R),re.upload.addEventListener("progress",M),re.upload.addEventListener("loadend",K)),(g.cancelToken||g.signal)&&(O=de=>{re&&(u(!de||de.type?new WE(null,t,re):de),re.abort(),re=null)},g.cancelToken&&g.cancelToken.subscribe(O),g.signal&&(g.signal.aborted?O():g.signal.addEventListener("abort",O)));const ge=Jve(g.url);if(ge&&Hd.protocols.indexOf(ge)===-1){u(new ur("Unsupported protocol "+ge+":",ur.ERR_BAD_REQUEST,t));return}re.send(h||null)})},a0e=(t,r)=>{const{length:i}=t=t?t.filter(Boolean):[];if(r||i){let u=new AbortController,g;const h=function(D){if(!g){g=!0,w();const O=D instanceof Error?D:this.reason;u.abort(O instanceof ur?O:new WE(O instanceof Error?O.message:O))}};let x=r&&setTimeout(()=>{x=null,h(new ur(`timeout ${r} of ms exceeded`,ur.ETIMEDOUT))},r);const w=()=>{t&&(x&&clearTimeout(x),x=null,t.forEach(D=>{D.unsubscribe?D.unsubscribe(h):D.removeEventListener("abort",h)}),t=null)};t.forEach(D=>D.addEventListener("abort",h));const{signal:R}=u;return R.unsubscribe=()=>ln.asap(w),R}},l0e=function*(t,r){let i=t.byteLength;if(i<r){yield t;return}let u=0,g;for(;u<i;)g=u+r,yield t.slice(u,g),u=g},c0e=async function*(t,r){for await(const i of u0e(t))yield*l0e(i,r)},u0e=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const r=t.getReader();try{for(;;){const{done:i,value:u}=await r.read();if(i)break;yield u}}finally{await r.cancel()}},RY=(t,r,i,u)=>{const g=c0e(t,r);let h=0,x,w=R=>{x||(x=!0,u&&u(R))};return new ReadableStream({async pull(R){try{const{done:D,value:O}=await g.next();if(D){w(),R.close();return}let M=O.byteLength;if(i){let H=h+=M;i(H)}R.enqueue(new Uint8Array(O))}catch(D){throw w(D),D}},cancel(R){return w(R),g.return()}},{highWaterMark:2})},s8=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",Oee=s8&&typeof ReadableStream=="function",d0e=s8&&(typeof TextEncoder=="function"?(t=>r=>t.encode(r))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),Ree=(t,...r)=>{try{return!!t(...r)}catch{return!1}},f0e=Oee&&Ree(()=>{let t=!1;const r=new Request(Hd.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!r}),IY=64*1024,lW=Oee&&Ree(()=>ln.isReadableStream(new Response("").body)),SF={stream:lW&&(t=>t.body)};s8&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(r=>{!SF[r]&&(SF[r]=ln.isFunction(t[r])?i=>i[r]():(i,u)=>{throw new ur(`Response type '${r}' is not supported`,ur.ERR_NOT_SUPPORT,u)})})})(new Response);const m0e=async t=>{if(t==null)return 0;if(ln.isBlob(t))return t.size;if(ln.isSpecCompliantForm(t))return(await new Request(Hd.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(ln.isArrayBufferView(t)||ln.isArrayBuffer(t))return t.byteLength;if(ln.isURLSearchParams(t)&&(t=t+""),ln.isString(t))return(await d0e(t)).byteLength},g0e=async(t,r)=>{const i=ln.toFiniteNumber(t.getContentLength());return i??m0e(r)},h0e=s8&&(async t=>{let{url:r,method:i,data:u,signal:g,cancelToken:h,timeout:x,onDownloadProgress:w,onUploadProgress:R,responseType:D,headers:O,withCredentials:M="same-origin",fetchOptions:H}=Aee(t);D=D?(D+"").toLowerCase():"text";let K=a0e([g,h&&h.toAbortSignal()],x),Z;const Q=K&&K.unsubscribe&&(()=>{K.unsubscribe()});let re;try{if(R&&f0e&&i!=="get"&&i!=="head"&&(re=await g0e(O,u))!==0){let he=new Request(r,{method:"POST",body:u,duplex:"half"}),oe;if(ln.isFormData(u)&&(oe=he.headers.get("content-type"))&&O.setContentType(oe),he.body){const[_e,Ue]=TY(re,CF(AY(R)));u=RY(he.body,IY,_e,Ue)}}ln.isString(M)||(M=M?"include":"omit");const U="credentials"in Request.prototype;Z=new Request(r,{...H,signal:K,method:i.toUpperCase(),headers:O.normalize().toJSON(),body:u,duplex:"half",credentials:U?M:void 0});let ge=await fetch(Z,H);const de=lW&&(D==="stream"||D==="response");if(lW&&(w||de&&Q)){const he={};["status","statusText","headers"].forEach(Qe=>{he[Qe]=ge[Qe]});const oe=ln.toFiniteNumber(ge.headers.get("content-length")),[_e,Ue]=w&&TY(oe,CF(AY(w),!0))||[];ge=new Response(RY(ge.body,IY,_e,()=>{Ue&&Ue(),Q&&Q()}),he)}D=D||"text";let q=await SF[ln.findKey(SF,D)||"text"](ge,t);return!de&&Q&&Q(),await new Promise((he,oe)=>{Eee(he,oe,{data:q,headers:Fm.from(ge.headers),status:ge.status,statusText:ge.statusText,config:t,request:Z})})}catch(U){throw Q&&Q(),U&&U.name==="TypeError"&&/Load failed|fetch/i.test(U.message)?Object.assign(new ur("Network Error",ur.ERR_NETWORK,t,Z),{cause:U.cause||U}):ur.from(U,U&&U.code,t,Z)}}),cW={http:Rve,xhr:i0e,fetch:h0e};ln.forEach(cW,(t,r)=>{if(t){try{Object.defineProperty(t,"name",{value:r})}catch{}Object.defineProperty(t,"adapterName",{value:r})}});const DY=t=>`- ${t}`,p0e=t=>ln.isFunction(t)||t===null||t===!1,Iee={getAdapter:t=>{t=ln.isArray(t)?t:[t];const{length:r}=t;let i,u;const g={};for(let h=0;h<r;h++){i=t[h];let x;if(u=i,!p0e(i)&&(u=cW[(x=String(i)).toLowerCase()],u===void 0))throw new ur(`Unknown adapter '${x}'`);if(u)break;g[x||"#"+h]=u}if(!u){const h=Object.entries(g).map(([w,R])=>`adapter ${w} `+(R===!1?"is not supported by the environment":"is not available in the build"));let x=r?h.length>1?`since :
`+h.map(DY).join(`
`):" "+DY(h[0]):"as no adapter specified";throw new ur("There is no suitable adapter to dispatch the request "+x,"ERR_NOT_SUPPORT")}return u},adapters:cW};function tU(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new WE(null,t)}function PY(t){return tU(t),t.headers=Fm.from(t.headers),t.data=eU.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),Iee.getAdapter(t.adapter||vI.adapter)(t).then(function(u){return tU(t),u.data=eU.call(t,t.transformResponse,u),u.headers=Fm.from(u.headers),u},function(u){return kee(u)||(tU(t),u&&u.response&&(u.response.data=eU.call(t,t.transformResponse,u.response),u.response.headers=Fm.from(u.response.headers))),Promise.reject(u)})}const Dee="1.10.0",r8={};["object","boolean","number","function","string","symbol"].forEach((t,r)=>{r8[t]=function(u){return typeof u===t||"a"+(r<1?"n ":" ")+t}});const NY={};r8.transitional=function(r,i,u){function g(h,x){return"[Axios v"+Dee+"] Transitional option '"+h+"'"+x+(u?". "+u:"")}return(h,x,w)=>{if(r===!1)throw new ur(g(x," has been removed"+(i?" in "+i:"")),ur.ERR_DEPRECATED);return i&&!NY[x]&&(NY[x]=!0,console.warn(g(x," has been deprecated since v"+i+" and will be removed in the near future"))),r?r(h,x,w):!0}};r8.spelling=function(r){return(i,u)=>(console.warn(`${u} is likely a misspelling of ${r}`),!0)};function b0e(t,r,i){if(typeof t!="object")throw new ur("options must be an object",ur.ERR_BAD_OPTION_VALUE);const u=Object.keys(t);let g=u.length;for(;g-- >0;){const h=u[g],x=r[h];if(x){const w=t[h],R=w===void 0||x(w,h,t);if(R!==!0)throw new ur("option "+h+" must be "+R,ur.ERR_BAD_OPTION_VALUE);continue}if(i!==!0)throw new ur("Unknown option "+h,ur.ERR_BAD_OPTION)}}const Y6={assertOptions:b0e,validators:r8},Sv=Y6.validators;let ZC=class{constructor(r){this.defaults=r||{},this.interceptors={request:new kY,response:new kY}}async request(r,i){try{return await this._request(r,i)}catch(u){if(u instanceof Error){let g={};Error.captureStackTrace?Error.captureStackTrace(g):g=new Error;const h=g.stack?g.stack.replace(/^.+\n/,""):"";try{u.stack?h&&!String(u.stack).endsWith(h.replace(/^.+\n.+\n/,""))&&(u.stack+=`
`+h):u.stack=h}catch{}}throw u}}_request(r,i){typeof r=="string"?(i=i||{},i.url=r):i=r||{},i=qC(this.defaults,i);const{transitional:u,paramsSerializer:g,headers:h}=i;u!==void 0&&Y6.assertOptions(u,{silentJSONParsing:Sv.transitional(Sv.boolean),forcedJSONParsing:Sv.transitional(Sv.boolean),clarifyTimeoutError:Sv.transitional(Sv.boolean)},!1),g!=null&&(ln.isFunction(g)?i.paramsSerializer={serialize:g}:Y6.assertOptions(g,{encode:Sv.function,serialize:Sv.function},!0)),i.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?i.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:i.allowAbsoluteUrls=!0),Y6.assertOptions(i,{baseUrl:Sv.spelling("baseURL"),withXsrfToken:Sv.spelling("withXSRFToken")},!0),i.method=(i.method||this.defaults.method||"get").toLowerCase();let x=h&&ln.merge(h.common,h[i.method]);h&&ln.forEach(["delete","get","head","post","put","patch","common"],Z=>{delete h[Z]}),i.headers=Fm.concat(x,h);const w=[];let R=!0;this.interceptors.request.forEach(function(Q){typeof Q.runWhen=="function"&&Q.runWhen(i)===!1||(R=R&&Q.synchronous,w.unshift(Q.fulfilled,Q.rejected))});const D=[];this.interceptors.response.forEach(function(Q){D.push(Q.fulfilled,Q.rejected)});let O,M=0,H;if(!R){const Z=[PY.bind(this),void 0];for(Z.unshift.apply(Z,w),Z.push.apply(Z,D),H=Z.length,O=Promise.resolve(i);M<H;)O=O.then(Z[M++],Z[M++]);return O}H=w.length;let K=i;for(M=0;M<H;){const Z=w[M++],Q=w[M++];try{K=Z(K)}catch(re){Q.call(this,re);break}}try{O=PY.call(this,K)}catch(Z){return Promise.reject(Z)}for(M=0,H=D.length;M<H;)O=O.then(D[M++],D[M++]);return O}getUri(r){r=qC(this.defaults,r);const i=Tee(r.baseURL,r.url,r.allowAbsoluteUrls);return Cee(i,r.params,r.paramsSerializer)}};ln.forEach(["delete","get","head","options"],function(r){ZC.prototype[r]=function(i,u){return this.request(qC(u||{},{method:r,url:i,data:(u||{}).data}))}});ln.forEach(["post","put","patch"],function(r){function i(u){return function(h,x,w){return this.request(qC(w||{},{method:r,headers:u?{"Content-Type":"multipart/form-data"}:{},url:h,data:x}))}}ZC.prototype[r]=i(),ZC.prototype[r+"Form"]=i(!0)});let v0e=class Pee{constructor(r){if(typeof r!="function")throw new TypeError("executor must be a function.");let i;this.promise=new Promise(function(h){i=h});const u=this;this.promise.then(g=>{if(!u._listeners)return;let h=u._listeners.length;for(;h-- >0;)u._listeners[h](g);u._listeners=null}),this.promise.then=g=>{let h;const x=new Promise(w=>{u.subscribe(w),h=w}).then(g);return x.cancel=function(){u.unsubscribe(h)},x},r(function(h,x,w){u.reason||(u.reason=new WE(h,x,w),i(u.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(r){if(this.reason){r(this.reason);return}this._listeners?this._listeners.push(r):this._listeners=[r]}unsubscribe(r){if(!this._listeners)return;const i=this._listeners.indexOf(r);i!==-1&&this._listeners.splice(i,1)}toAbortSignal(){const r=new AbortController,i=u=>{r.abort(u)};return this.subscribe(i),r.signal.unsubscribe=()=>this.unsubscribe(i),r.signal}static source(){let r;return{token:new Pee(function(g){r=g}),cancel:r}}};function y0e(t){return function(i){return t.apply(null,i)}}function x0e(t){return ln.isObject(t)&&t.isAxiosError===!0}const uW={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(uW).forEach(([t,r])=>{uW[r]=t});function Nee(t){const r=new ZC(t),i=uee(ZC.prototype.request,r);return ln.extend(i,ZC.prototype,r,{allOwnKeys:!0}),ln.extend(i,r,null,{allOwnKeys:!0}),i.create=function(g){return Nee(qC(t,g))},i}const _a=Nee(vI);_a.Axios=ZC;_a.CanceledError=WE;_a.CancelToken=v0e;_a.isCancel=kee;_a.VERSION=Dee;_a.toFormData=o8;_a.AxiosError=ur;_a.Cancel=_a.CanceledError;_a.all=function(r){return Promise.all(r)};_a.spread=y0e;_a.isAxiosError=x0e;_a.mergeConfig=qC;_a.AxiosHeaders=Fm;_a.formToJSON=t=>_ee(ln.isHTMLForm(t)?new FormData(t):t);_a.getAdapter=Iee.getAdapter;_a.HttpStatusCode=uW;_a.default=_a;const{Axios:Zke,AxiosError:Gke,CanceledError:qke,isCancel:Yke,CancelToken:Xke,VERSION:Jke,all:Qke,Cancel:eEe,isAxiosError:tEe,spread:nEe,toFormData:oEe,AxiosHeaders:sEe,HttpStatusCode:rEe,formToJSON:iEe,getAdapter:aEe,mergeConfig:lEe}=_a;/*! js-cookie v3.0.5 | MIT */function N6(t){for(var r=1;r<arguments.length;r++){var i=arguments[r];for(var u in i)t[u]=i[u]}return t}var w0e={read:function(t){return t[0]==='"'&&(t=t.slice(1,-1)),t.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(t){return encodeURIComponent(t).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}};function dW(t,r){function i(g,h,x){if(!(typeof document>"u")){x=N6({},r,x),typeof x.expires=="number"&&(x.expires=new Date(Date.now()+x.expires*864e5)),x.expires&&(x.expires=x.expires.toUTCString()),g=encodeURIComponent(g).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var w="";for(var R in x)x[R]&&(w+="; "+R,x[R]!==!0&&(w+="="+x[R].split(";")[0]));return document.cookie=g+"="+t.write(h,g)+w}}function u(g){if(!(typeof document>"u"||arguments.length&&!g)){for(var h=document.cookie?document.cookie.split("; "):[],x={},w=0;w<h.length;w++){var R=h[w].split("="),D=R.slice(1).join("=");try{var O=decodeURIComponent(R[0]);if(x[O]=t.read(D,O),g===O)break}catch{}}return g?x[g]:x}}return Object.create({set:i,get:u,remove:function(g,h){i(g,"",N6({},h,{expires:-1}))},withAttributes:function(g){return dW(this.converter,N6({},this.attributes,g))},withConverter:function(g){return dW(N6({},this.converter,g),this.attributes)}},{attributes:{value:Object.freeze(r)},converter:{value:Object.freeze(t)}})}var xr=dW(w0e,{path:"/"}),M6=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function sK(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var nU={exports:{}},oU={exports:{}},MY;function C0e(){return MY||(MY=1,function(){var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",r={rotl:function(i,u){return i<<u|i>>>32-u},rotr:function(i,u){return i<<32-u|i>>>u},endian:function(i){if(i.constructor==Number)return r.rotl(i,8)&16711935|r.rotl(i,24)&4278255360;for(var u=0;u<i.length;u++)i[u]=r.endian(i[u]);return i},randomBytes:function(i){for(var u=[];i>0;i--)u.push(Math.floor(Math.random()*256));return u},bytesToWords:function(i){for(var u=[],g=0,h=0;g<i.length;g++,h+=8)u[h>>>5]|=i[g]<<24-h%32;return u},wordsToBytes:function(i){for(var u=[],g=0;g<i.length*32;g+=8)u.push(i[g>>>5]>>>24-g%32&255);return u},bytesToHex:function(i){for(var u=[],g=0;g<i.length;g++)u.push((i[g]>>>4).toString(16)),u.push((i[g]&15).toString(16));return u.join("")},hexToBytes:function(i){for(var u=[],g=0;g<i.length;g+=2)u.push(parseInt(i.substr(g,2),16));return u},bytesToBase64:function(i){for(var u=[],g=0;g<i.length;g+=3)for(var h=i[g]<<16|i[g+1]<<8|i[g+2],x=0;x<4;x++)g*8+x*6<=i.length*8?u.push(t.charAt(h>>>6*(3-x)&63)):u.push("=");return u.join("")},base64ToBytes:function(i){i=i.replace(/[^A-Z0-9+\/]/ig,"");for(var u=[],g=0,h=0;g<i.length;h=++g%4)h!=0&&u.push((t.indexOf(i.charAt(g-1))&Math.pow(2,-2*h+8)-1)<<h*2|t.indexOf(i.charAt(g))>>>6-h*2);return u}};oU.exports=r}()),oU.exports}var sU,LY;function BY(){if(LY)return sU;LY=1;var t={utf8:{stringToBytes:function(r){return t.bin.stringToBytes(unescape(encodeURIComponent(r)))},bytesToString:function(r){return decodeURIComponent(escape(t.bin.bytesToString(r)))}},bin:{stringToBytes:function(r){for(var i=[],u=0;u<r.length;u++)i.push(r.charCodeAt(u)&255);return i},bytesToString:function(r){for(var i=[],u=0;u<r.length;u++)i.push(String.fromCharCode(r[u]));return i.join("")}}};return sU=t,sU}/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var rU,FY;function S0e(){if(FY)return rU;FY=1,rU=function(i){return i!=null&&(t(i)||r(i)||!!i._isBuffer)};function t(i){return!!i.constructor&&typeof i.constructor.isBuffer=="function"&&i.constructor.isBuffer(i)}function r(i){return typeof i.readFloatLE=="function"&&typeof i.slice=="function"&&t(i.slice(0,0))}return rU}var $Y;function _0e(){return $Y||($Y=1,function(){var t=C0e(),r=BY().utf8,i=S0e(),u=BY().bin,g=function(h,x){h.constructor==String?x&&x.encoding==="binary"?h=u.stringToBytes(h):h=r.stringToBytes(h):i(h)?h=Array.prototype.slice.call(h,0):!Array.isArray(h)&&h.constructor!==Uint8Array&&(h=h.toString());for(var w=t.bytesToWords(h),R=h.length*8,D=1732584193,O=-271733879,M=-1732584194,H=271733878,K=0;K<w.length;K++)w[K]=(w[K]<<8|w[K]>>>24)&16711935|(w[K]<<24|w[K]>>>8)&4278255360;w[R>>>5]|=128<<R%32,w[(R+64>>>9<<4)+14]=R;for(var Z=g._ff,Q=g._gg,re=g._hh,U=g._ii,K=0;K<w.length;K+=16){var ge=D,de=O,q=M,he=H;D=Z(D,O,M,H,w[K+0],7,-680876936),H=Z(H,D,O,M,w[K+1],12,-389564586),M=Z(M,H,D,O,w[K+2],17,606105819),O=Z(O,M,H,D,w[K+3],22,-1044525330),D=Z(D,O,M,H,w[K+4],7,-176418897),H=Z(H,D,O,M,w[K+5],12,1200080426),M=Z(M,H,D,O,w[K+6],17,-1473231341),O=Z(O,M,H,D,w[K+7],22,-45705983),D=Z(D,O,M,H,w[K+8],7,1770035416),H=Z(H,D,O,M,w[K+9],12,-1958414417),M=Z(M,H,D,O,w[K+10],17,-42063),O=Z(O,M,H,D,w[K+11],22,-1990404162),D=Z(D,O,M,H,w[K+12],7,1804603682),H=Z(H,D,O,M,w[K+13],12,-40341101),M=Z(M,H,D,O,w[K+14],17,-1502002290),O=Z(O,M,H,D,w[K+15],22,1236535329),D=Q(D,O,M,H,w[K+1],5,-165796510),H=Q(H,D,O,M,w[K+6],9,-1069501632),M=Q(M,H,D,O,w[K+11],14,643717713),O=Q(O,M,H,D,w[K+0],20,-373897302),D=Q(D,O,M,H,w[K+5],5,-701558691),H=Q(H,D,O,M,w[K+10],9,38016083),M=Q(M,H,D,O,w[K+15],14,-660478335),O=Q(O,M,H,D,w[K+4],20,-405537848),D=Q(D,O,M,H,w[K+9],5,568446438),H=Q(H,D,O,M,w[K+14],9,-1019803690),M=Q(M,H,D,O,w[K+3],14,-187363961),O=Q(O,M,H,D,w[K+8],20,1163531501),D=Q(D,O,M,H,w[K+13],5,-1444681467),H=Q(H,D,O,M,w[K+2],9,-51403784),M=Q(M,H,D,O,w[K+7],14,1735328473),O=Q(O,M,H,D,w[K+12],20,-1926607734),D=re(D,O,M,H,w[K+5],4,-378558),H=re(H,D,O,M,w[K+8],11,-2022574463),M=re(M,H,D,O,w[K+11],16,1839030562),O=re(O,M,H,D,w[K+14],23,-35309556),D=re(D,O,M,H,w[K+1],4,-1530992060),H=re(H,D,O,M,w[K+4],11,1272893353),M=re(M,H,D,O,w[K+7],16,-155497632),O=re(O,M,H,D,w[K+10],23,-1094730640),D=re(D,O,M,H,w[K+13],4,681279174),H=re(H,D,O,M,w[K+0],11,-358537222),M=re(M,H,D,O,w[K+3],16,-722521979),O=re(O,M,H,D,w[K+6],23,76029189),D=re(D,O,M,H,w[K+9],4,-640364487),H=re(H,D,O,M,w[K+12],11,-421815835),M=re(M,H,D,O,w[K+15],16,530742520),O=re(O,M,H,D,w[K+2],23,-995338651),D=U(D,O,M,H,w[K+0],6,-198630844),H=U(H,D,O,M,w[K+7],10,1126891415),M=U(M,H,D,O,w[K+14],15,-1416354905),O=U(O,M,H,D,w[K+5],21,-57434055),D=U(D,O,M,H,w[K+12],6,1700485571),H=U(H,D,O,M,w[K+3],10,-1894986606),M=U(M,H,D,O,w[K+10],15,-1051523),O=U(O,M,H,D,w[K+1],21,-2054922799),D=U(D,O,M,H,w[K+8],6,1873313359),H=U(H,D,O,M,w[K+15],10,-30611744),M=U(M,H,D,O,w[K+6],15,-1560198380),O=U(O,M,H,D,w[K+13],21,1309151649),D=U(D,O,M,H,w[K+4],6,-145523070),H=U(H,D,O,M,w[K+11],10,-1120210379),M=U(M,H,D,O,w[K+2],15,718787259),O=U(O,M,H,D,w[K+9],21,-343485551),D=D+ge>>>0,O=O+de>>>0,M=M+q>>>0,H=H+he>>>0}return t.endian([D,O,M,H])};g._ff=function(h,x,w,R,D,O,M){var H=h+(x&w|~x&R)+(D>>>0)+M;return(H<<O|H>>>32-O)+x},g._gg=function(h,x,w,R,D,O,M){var H=h+(x&R|w&~R)+(D>>>0)+M;return(H<<O|H>>>32-O)+x},g._hh=function(h,x,w,R,D,O,M){var H=h+(x^w^R)+(D>>>0)+M;return(H<<O|H>>>32-O)+x},g._ii=function(h,x,w,R,D,O,M){var H=h+(w^(x|~R))+(D>>>0)+M;return(H<<O|H>>>32-O)+x},g._blocksize=16,g._digestsize=16,nU.exports=function(h,x){if(h==null)throw new Error("Illegal argument "+h);var w=t.wordsToBytes(g(h,x));return x&&x.asBytes?w:x&&x.asString?u.bytesToString(w):t.bytesToHex(w)}}()),nU.exports}var k0e=_0e();const E0e=sK(k0e),zi=class zi{constructor(r={}){Tt(this,"action",null);Tt(this,"type",null);Tt(this,"key","");Tt(this,"item_key","");Tt(this,"last_change",0);Tt(this,"payload",null);r.action!==void 0&&zi.ALLOWED_ACTIONS.includes(r.action)&&(this.action=r.action.toString()),r.type!==void 0&&zi.ALLOWED_TYPES.includes(r.type)&&(this.type=r.type.toString()),r.key!==void 0&&r.key!==null&&(this.key=r.key.toString()),r.item_key!==void 0&&r.item_key!==null&&(this.item_key=r.item_key.toString()),r.last_change!==void 0&&r.last_change!==null&&(this.last_change=parseInt(r.last_change)),r.payload!==void 0&&r.payload!==null&&(this.payload=r.payload),this.last_change===null&&(this.last_change=Date.now())}static buildChangeKey(r,i){return r+"_"+i}getData(){return Object.assign({},this)}getChangeKey(){return zi.buildChangeKey(this.type,this.key)}isValid(){return zi.ALLOWED_TYPES.includes(this.type)&&zi.ALLOWED_ACTIONS.includes(this.action)&&this.key!=""&&(this.item_key!=""||this.type==zi.TYPE_SNIPPETS)}};Tt(zi,"ACTION_SAVE","save"),Tt(zi,"ACTION_DELETE","delete"),Tt(zi,"ALLOWED_ACTIONS",[zi.ACTION_SAVE,zi.ACTION_DELETE]),Tt(zi,"TYPE_COMMENT","comment"),Tt(zi,"TYPE_POINTS","points"),Tt(zi,"TYPE_SUMMARY","summary"),Tt(zi,"TYPE_PREFERENCES","preferences"),Tt(zi,"TYPE_SNIPPETS","snippets"),Tt(zi,"ALLOWED_TYPES",[zi.TYPE_COMMENT,zi.TYPE_POINTS,zi.TYPE_SUMMARY,zi.TYPE_PREFERENCES,zi.TYPE_SNIPPETS]),Tt(zi,"STORED_TYPES",[zi.TYPE_COMMENT,zi.TYPE_POINTS,zi.TYPE_SUMMARY,zi.TYPE_PREFERENCES,zi.TYPE_SNIPPETS]);let Ms=zi;const vE=class vE{constructor(r={}){Tt(this,"key","");Tt(this,"item_key","");Tt(this,"task_id",null);Tt(this,"writer_id",null);Tt(this,"corrector_id",null);Tt(this,"user_id",null);Tt(this,"title","");Tt(this,"initials","");Tt(this,"position",0);r.task_id!==void 0&&r.task_id!==null&&(this.task_id=parseInt(r.task_id)),r.writer_id!==void 0&&r.writer_id!==null&&(this.writer_id=parseInt(r.writer_id)),r.corrector_id!==void 0&&r.corrector_id!==null&&(this.corrector_id=parseInt(r.corrector_id)),r.user_id!==void 0&&r.user_id!==null&&(this.user_id=parseInt(r.user_id)),r.title!==void 0&&r.title!==null&&(this.title=r.title.toString()),r.initials!==void 0&&r.initials!==null&&(this.initials=r.initials.toString().toUpperCase()),r.position!==void 0&&r.position!==null&&(this.position=parseInt(r.position)),this.key=vE.buildKey(this.task_id,this.writer_id,this.corrector_id),this.item_key=Si.buildKey(this.task_id,this.writer_id)}static order(r,i){return r.position<i.position?-1:r.position>i.position?1:0}static buildKey(r,i,u){return"C"+r+"_"+i+"_"+u}static extractTaskId(r){const i=r?r.match(/C(\d+)_(\d+)_(\d+)/):null;return i&&i[1]?parseInt(i[1]):null}static extractWriterId(r){const i=r?r.match(/C(\d+)_(\d+)_(\d+)/):null;return i&&i[2]?parseInt(i[2]):null}static extractCorrectorId(r){const i=r?r.match(/C(\d+)_(\d+)_(\d+)/):null;return i&&i[3]?parseInt(i[3]):null}getKey(){return this.key}getData(){return Object.assign({},this)}};Tt(vE,"POSITION_FIRST",0),Tt(vE,"POSITION_SECOND",1),Tt(vE,"POSITION_STITCH",2);let Sa=vE;const Tc=class Tc{constructor(r={}){Tt(this,"item_key","");Tt(this,"correction_key","");Tt(this,"id",null);Tt(this,"task_id",null);Tt(this,"writer_id",null);Tt(this,"corrector_id",null);Tt(this,"text","");Tt(this,"points",null);Tt(this,"grade_key","");Tt(this,"pdf","");Tt(this,"status","");Tt(this,"revision_text","");Tt(this,"revision_points",null);Tt(this,"revision_grade_key","");Tt(this,"require_other_revision",!1);Tt(this,"last_change",null);this.setData(r)}static buildKey(r,i,u){return"S"+r+"_"+i+"_"+u}setData(r){r.id!==void 0&&r.id!==null&&(this.id=parseInt(r.id)),r.task_id!==void 0&&r.task_id!==null&&(this.task_id=parseInt(r.task_id)),r.task_id!==void 0&&r.task_id!==null&&(this.task_id=parseInt(r.task_id)),r.writer_id!==void 0&&r.writer_id!==null&&(this.writer_id=parseInt(r.writer_id)),r.corrector_id!==void 0&&r.corrector_id!==null&&(this.corrector_id=parseInt(r.corrector_id)),r.text!==void 0&&r.text!==null&&(this.text=r.text.toString()),r.points!==void 0&&r.points!==null&&(this.points=parseFloat(r.points)),r.pdf!==void 0&&r.pdf!==null&&(this.pdf=r.pdf.toString()),r.status!==void 0&&Tc.ALLOWED_STATUS.includes(r.status)&&(this.status=r.status.toString()),r.grade_key!==void 0&&r.grade_key!==null&&(this.grade_key=r.grade_key.toString()),r.revision_text!==void 0&&r.revision_text!==null&&(this.revision_text=r.revision_text.toString()),r.revision_points!==void 0&&r.revision_points!==null&&(this.revision_points=parseFloat(r.revision_points)),r.require_other_revision!==void 0&&r.require_other_revision!==null&&(this.require_other_revision=!!r.require_other_revision),r.last_change!==void 0&&r.last_change!==null&&(this.last_change=parseInt(r.last_change)),this.item_key=Si.buildKey(this.task_id,this.writer_id),this.correction_key=Sa.buildKey(this.task_id,this.writer_id,this.corrector_id)}getData(){return Object.assign({},this)}getKey(){return Tc.buildKey(this.task_id,this.writer_id,this.corrector_id)}getClone(){return new Tc(this.getData())}hasTextOrPdf(){return this.text||this.pdf}hasPoints(){return this.points!==null&&!Number.isNaN(this.points)}hasRevisionText(){return!!this.revision_text}hasRevisionPoints(){return this.revision_points!==null&&!Number.isNaN(this.revision_points)}isPregraded(){return this.status==Tc.STATUS_PRE_GRADED}isAuthorized(){return this.status==Tc.STATUS_AUTHORIZED||this.status==Tc.STATUS_REVISED}isRevised(){return this.status==Tc.STATUS_REVISED}isEqual(r){for(const i in this)if(this[i]!==r[i])return!1;return!0}};Tt(Tc,"STATUS_NOT_STARTED","not_started"),Tt(Tc,"STATUS_OPEN","open"),Tt(Tc,"STATUS_PRE_GRADED","pre_graded"),Tt(Tc,"STATUS_AUTHORIZED","authorized"),Tt(Tc,"STATUS_REVISED","revised"),Tt(Tc,"ALLOWED_STATUS",[Tc.STATUS_NOT_STARTED,Tc.STATUS_OPEN,Tc.STATUS_PRE_GRADED,Tc.STATUS_AUTHORIZED,Tc.STATUS_REVISED]);let Tu=Tc;const zC=class zC{constructor(r={}){Tt(this,"task_id",null);Tt(this,"position",0);Tt(this,"type",null);Tt(this,"title",null);Tt(this,"instructions",null);Tt(this,"solution",null);Tt(this,"key",null);r.task_id!==void 0&&r.task_id!==null&&(this.task_id=parseInt(r.task_id)),r.position!==void 0&&r.position!==null&&(this.position=parseInt(r.position)),r.type!==void 0&&zC.ALLOWED_TYPES.includes(r.type)&&(this.type=r.type.toString()),r.title!==void 0&&r.title!==null&&(this.title=r.title.toString()),r.instructions!==void 0&&r.instructions!==null&&(this.instructions=r.instructions.toString()),r.solution!==void 0&&r.solution!==null&&(this.solution=r.solution.toString()),this.key=zC.buildKey(this.task_id)}static order(r,i){return r.position<i.position?-1:r.position>i.position?1:0}static buildKey(r){return"T"+r}getKey(){return this.key}getData(){return Object.assign({},this)}};Tt(zC,"TYPE_ESSAY","essay"),Tt(zC,"ALLOWED_TYPES",[zC.TYPE_ESSAY]);let Bx=zC;const{t:sb}=ud.global,Ld=class Ld{constructor(r={}){Tt(this,"key",null);Tt(this,"task_id",null);Tt(this,"writer_id",null);Tt(this,"position",null);Tt(this,"pseudonym","");Tt(this,"title",null);Tt(this,"correction_status","");Tt(this,"grading_status","");Tt(this,"can_correct",!1);Tt(this,"can_authorize",!1);Tt(this,"can_revise",!1);r.key!==void 0&&r.key!==null&&(this.key=r.key.toString()),r.task_id!==void 0&&r.task_id!==null&&(this.task_id=parseInt(r.task_id)),r.writer_id!==void 0&&r.writer_id!==null&&(this.writer_id=parseInt(r.writer_id)),r.position!==void 0&&r.position!==null&&(this.position=parseInt(r.position)),r.pseudonym!==void 0&&r.pseudonym!==null&&(this.pseudonym=r.pseudonym.toString()),r.correction_status!==void 0&&r.correction_status!==null&&(this.correction_status=r.correction_status.toString()),r.grading_status!==void 0&&r.grading_status!==null&&(this.grading_status=r.grading_status.toString()),r.can_correct!==void 0&&r.can_correct!==null&&(this.can_correct=!!r.can_correct),r.can_authorize!==void 0&&r.can_authorize!==null&&(this.can_authorize=!!r.can_authorize),r.can_revise!==void 0&&r.can_revise!==null&&(this.can_revise=!!r.can_revise),this.key===null&&(this.key=Ld.buildKey(this.task_id,this.writer_id)),this.title===null&&(this.title=Ld.buildTitle(this))}static order(r,i){return r.position<i.position?-1:r.position>i.position?1:r.title<i.title?-1:r.title>i.title?1:0}static buildKey(r,i){return r&&i?"I"+r.toString()+"_"+i.toString():""}static extractTaskId(r){const i=r.match(/I(\d+)_(\d+)/);return i&&i[1]?parseInt(i[1]):null}static extractWriterId(r){const i=r.match(/I(\d+)_(\d+)/);return i&&i[2]?parseInt(i[2]):null}static buildTitle(r){return r.pseudonym+" "+Ld.buildPositionText(r.position)+" "+Ld.buildStatusText(r)}static buildPositionText(r){if(Oe.settings().Assessment.multiple_correctors)switch(r){case Sa.POSITION_FIRST:return sb("correctionsFirstCorrection");case Sa.POSITION_SECOND:return sb("correctionsSecondCorrection");case Sa.POSITION_STITCH:return sb("correctionsStitchCorrection");default:return""}return""}static buildStatusText(r){switch(r.correction_status){case Ld.STATUS_OPEN:switch(r.grading_status){case Tu.STATUS_NOT_STARTED:case Tu.STATUS_OPEN:return sb("itemsSuffixOpen");case Tu.STATUS_PRE_GRADED:return sb("itemsSuffixPregraded");case Tu.STATUS_AUTHORIZED:return sb("itemsSuffixAuthorized");default:return sb("itemsSuffixOpen")}case Ld.STATUS_APPROXIMATION:return sb("itemsSuffixApproximation");case Ld.STATUS_CONSULTING:return sb("itemsSuffixConsulting");case Ld.STATUS_STITCH:return sb("itemsSuffixStitch");case Ld.STATUS_FINALIZED:return sb("itemsSuffixFinalized");default:return""}}getKey(){return this.key}getTaskKey(){return Bx.buildKey(this.task_id)}getData(){return Object.assign({},this)}};Tt(Ld,"STATUS_OPEN","open"),Tt(Ld,"STATUS_APPROXIMATION","approximation"),Tt(Ld,"STATUS_CONSULTING","consulting"),Tt(Ld,"STATUS_STITCH","stitch"),Tt(Ld,"STATUS_FINALIZED","finalized");let Si=Ld;const{t:VY}=ud.global,zY=5e3,T0e=Iu("api",{state:()=>({backendUrl:"",returnUrl:"",userId:"",assId:"",contextId:"",asAdmin:"",itemKey:"",dataToken:"",fileToken:"",timeOffset:0,intervals:{},lastSendingTry:0,lastLoadingTry:0}),getters:{isLoading:t=>t.lastLoadingTry>0,storedItemKey:t=>localStorage.getItem("xlasCorrectorItemKey"),getRequestConfig(t){return function(i){let u=t.backendUrl,g=new URLSearchParams,h=u.search(/\?+/);return h!=-1&&(g=new URLSearchParams(u.substr(h)),u=u.substr(0,h)),g.append("user_id",t.userId),g.append("ass_id",t.assId),g.append("context_id",t.contextId),g.append("as_admin",t.asAdmin),g.append("signature",E0e(t.userId+t.assId+t.contextId+i)),{baseURL:u,params:g,timeout:3e4,responseType:"json",responseEncoding:"utf8"}}},getResourceUrl(t){return function(i){const u=this.getRequestConfig(this.fileToken);return u.baseURL+"/corrector/file/task/resource/"+i.id+"/resource?"+u.params.toString()}},getImageUrl(t){return function(i){const u=this.getRequestConfig(this.fileToken);return u.baseURL+"/corrector/file/essaytask/image/"+i.id+"/image?"+u.params.toString()}},getThumbUrl(t){return function(i){const u=this.getRequestConfig(this.fileToken);return u.baseURL+"/corrector/file/essaytask/thumb/"+i.id+"/thumb?"+u.params.toString()}},getSummaryPdfUrl(t){return function(i){const u=this.getRequestConfig(this.fileToken);return u.baseURL+"/corrector/file/task/summary/"+i.id+"/"+i.pdf+"?"+u.params.toString()}},getServerTime(t){return function(i){return i==0?0:Math.floor((i-t.timeOffset)/1e3)}}},actions:{async clearStorage(){},async init(){let t=!1,r=!1;this.backendUrl=localStorage.getItem("xlasCorrectorBackendUrl")??"",this.returnUrl=localStorage.getItem("xlasCorrectorReturnUrl")??"",this.userId=localStorage.getItem("xlasCorrectorUserId")??"",this.assId=localStorage.getItem("xlasCorrectorAssId")??"",this.contextId=localStorage.getItem("xlasCorrectorContextId")??"",this.asAdmin=localStorage.getItem("xlasCorrectorAsAdmin")??"",this.itemKey=localStorage.getItem("xlasCorrectorItemKey")??"",this.dataToken=localStorage.getItem("xlasCorrectorDataToken")??"",this.fileToken=localStorage.getItem("xlasCorrectorFileToken")??"",this.timeOffset=Math.floor(localStorage.getItem("xlasCorrectorTimeOffset")??0),xr.get("xlasUserId")!=null&&xr.get("xlasUserId")!=this.userId&&(this.userId=xr.get("xlasUserId"),t=!0),xr.get("xlasAssId")&&xr.get("xlasAssId")!=this.assId&&(this.assId=xr.get("xlasAssId"),t=!0),xr.get("xlasContextId")!=null&&xr.get("xlasContextId")!=this.contextId&&(this.contextId=xr.get("xlasContextId"),t=!0),xr.get("xlasAsAdmin")!=null&&xr.get("xlasAsAdmin")!=this.asAdmin&&(this.asAdmin=xr.get("xlasAsAdmin"),t=!0);let i=Si.extractTaskId(this.itemKey),u=Si.extractWriterId(this.itemKey);if(xr.get("xlasTaskId")!=null&&xr.get("xlasWriterId")!=null&&(xr.get("xlasTaskId")!=i||xr.get("xlasWriterId")!=u)&&(r=!0,i=xr.get("xlasTaskId"),u=xr.get("xlasWriterId"),this.itemKey=Si.buildKey(i,u)),this.itemKey||(r=!0),xr.get("xlasBackendUrl")!=null&&xr.get("xlasBackendUrl")!=this.backendUrl&&(this.backendUrl=xr.get("xlasBackendUrl")),xr.get("xlasReturnUrl")!=null&&xr.get("xlasReturnUrl")!=this.returnUrl&&(this.returnUrl=xr.get("xlasReturnUrl")),xr.get("xlasDataToken")!=null&&xr.get("xlasDataToken")!=this.dataToken&&(this.dataToken=xr.get("xlasDataToken")),xr.get("xlasFileToken")!=null&&xr.get("xlasFileToken")!=this.dataToken&&(this.fileToken=xr.get("xlasFileToken")),!this.backendUrl||!this.returnUrl||!this.userId||!this.assId||!this.contextId||!this.dataToken||!this.fileToken){Oe.layout().initFailure=VY("apiMissingParams");return}xr.remove("xlasBackendUrl"),xr.remove("xlasReturnUrl"),xr.remove("xlasUserId"),xr.remove("xlasAssId"),xr.remove("xlasContextId"),xr.remove("xlasAsAdmin"),xr.remove("xlasTaskId"),xr.remove("xlasWriterId"),xr.remove("xlasDataToken"),xr.remove("xlasFileToken"),localStorage.setItem("xlasCorrectorBackendUrl",this.backendUrl),localStorage.setItem("xlasCorrectorReturnUrl",this.returnUrl),localStorage.setItem("xlasCorrectorUserId",this.userId),localStorage.setItem("xlasCorrectorAssId",this.assId),localStorage.setItem("xlasCorrectorContextId",this.contextId),localStorage.setItem("xlasCorrectorAsAdmin",this.asAdmin),localStorage.setItem("xlasCorrectorItemKey",this.itemKey),localStorage.setItem("xlasCorrectorDataToken",this.dataToken),localStorage.setItem("xlasCorrectorFileToken",this.fileToken);const g=Oe.changes();await g.loadFromStorage(),g.countChanges>0?t?(console.log("init: open saving, new context"),await this.loadDataFromStorage(),Oe.layout().showDataReplaceConfirmation=!0):r?(console.log("init: open saving, same context, new item"),await this.loadDataFromStorage(),Oe.layout().showItemReplaceConfirmation=!0):(console.log("init: open saving, same context, same item"),await this.loadDataFromStorage(),this.initAfterKeepDataConfirmed()):(console.log("init: no open saving"),this.initAfterReplaceDataConfirmed())},async initAfterReplaceDataConfirmed(){console.log("initAfterReplaceDataConfirmed"),await Y0e(),Oe.layout().showDataReplaceConfirmation=!1,Oe.layout().showItemReplaceConfirmation=!1,await this.loadDataFromBackend()&&(await this.loadItemFromBackend(this.itemKey),this.finishInitialisation())},async initAfterKeepDataConfirmed(){console.log("initAfterKeepDataConfirmed"),Oe.layout().showDataReplaceConfirmation=!1,Oe.layout().showItemReplaceConfirmation=!1,this.itemKey=localStorage.getItem("xlasCorrectorItemKey"),await this.loadItemFromStorage(this.itemKey);const t=Oe.items().getItem(this.itemKey);await this.loadDataFromBackend()&&(await Oe.items().saveItem(t),await this.loadItemFromStorage(this.itemKey),this.finishInitialisation())},finishInitialisation(){Oe.summaries().isOneAuthorized&&Oe.comments().setShowOtherCorrections(!0),Oe.layout().initialized=!0},async loadDataFromStorage(){return console.log("loadDataFromStorage..."),this.setLoading(!0),this.clearAllIntervals(),await Oe.criteria().loadFromStorage(),await Oe.items().loadFromStorage(),await Oe.layout().loadFromStorage(),await Oe.levels().loadFromStorage(),await Oe.preferences().loadFromStorage(),await Oe.resources().loadFromStorage(),await Oe.settings().loadFromStorage(),await Oe.snippets().loadFromStorage(),await Oe.tasks().loadFromStorage(),await Oe.templates().loadFromStorage(),this.setLoading(!1),!0},async loadItemFromStorage(t){console.log("loadItemFromStorage..."),this.setLoading(!0),this.clearAllIntervals();const r=Oe.items();return(t==""||r.getItem(t)==null)&&(t=r.firstKey),this.itemKey=t,localStorage.setItem("xlasCorrectorItemKey",this.itemKey),await Oe.changes().loadFromStorage(),await Oe.comments().loadFromStorage(),await Oe.corrections().loadFromStorage(),await Oe.essay().loadFromStorage(),await Oe.pages().loadFromStorage(),await Oe.points().loadFromStorage(),await Oe.summaries().loadFromStorage(),Oe.comments().setMarkerChange(),Oe.items().updateCurrentKeys(),Oe.tasks().updateCurrentKeys(),Oe.layout().initForItem(),this.setLoading(!1),this.setInterval("apiStore.saveChangesToBackend",this.saveChangesToBackend,zY),!0},async loadDataFromBackend(){console.log("loadDataFromBackend..."),this.setLoading(!0),this.clearAllIntervals();let t={};try{t=await _a.get("/corrector/data",this.getRequestConfig(this.dataToken)),this.setTimeOffset(t),this.refreshToken(t)}catch(r){return console.error(r),Oe.layout().initFailure=VY("apiLoadingDataFailed"),this.setLoading(!1),!1}return await Oe.layout().clearStorage(),await Oe.levels().loadFromBackend(t.data.Assessment.GradeLevels),await Oe.resources().loadFromBackend(t.data.Assessment.Resources),await Oe.settings().loadFromBackend("Assessment",t.data.Assessment.Settings),await Oe.items().loadFromBackend(t.data.Task.Items),await Oe.preferences().loadFromBackend(t.data.Task.Preferences),await Oe.settings().loadFromBackend("Task",t.data.Task.Settings),await Oe.snippets().loadFromBackend(t.data.Task.Snippets),await Oe.tasks().loadFromBackend(t.data.Task.Tasks),await Oe.templates().loadFromBackend(t.data.Task.Templates),await Oe.settings().loadFromBackend("EssayTask",t.data.EssayTask.Settings),this.setLoading(!1),!0},async loadItemFromBackend(t){console.log("loadItemFromBackend..."),this.setLoading(!0),this.clearAllIntervals();const r=Oe.items();(t==""||!Oe.items().getItem(t))&&(t=r.firstKey??"");let i={};const u=Si.extractTaskId(t),g=Si.extractWriterId(t);try{i=await _a.get("/corrector/item/"+u+"/"+g,this.getRequestConfig(this.dataToken)),this.setTimeOffset(i),this.refreshToken(i)}catch(h){return console.error(h),Oe.layout().showItemLoadFailure=!0,this.setLoading(!1),!1}return this.itemKey=t,localStorage.setItem("xlasCorrectorItemKey",this.itemKey),await r.saveItem(new Si(i.data.Task.Item)),await Oe.changes().clearStorage(),await Oe.essay().loadFromBackend(i.data.EssayTask.Essay),await Oe.pages().loadFromBackend(i.data.EssayTask.Pages),await Oe.corrections().loadFromBackend(i.data.Task.Corrections),await Oe.criteria().loadFromBackend(i.data.Task.Criteria),await Oe.comments().loadFromBackend(i.data.Task.Comments),await Oe.points().loadFromBackend(i.data.Task.Points),await Oe.summaries().loadFromBackend(i.data.Task.Summaries),Oe.comments().setMarkerChange(),Oe.items().updateCurrentKeys(),Oe.tasks().updateCurrentKeys(),Oe.layout().initForItem(),this.setLoading(!1),this.setInterval("apiStore.saveChangesToBackend",this.saveChangesToBackend,zY),!0},async saveChangesToBackend(t=!1){const r=Oe.changes();if(r.countChanges>0&&!await this.isSending(!0)){this.setSending(!0);try{const i={Task:{}};i.Task[Ms.TYPE_SNIPPETS]=await Oe.snippets().getChangedData(this.lastSendingTry),i.Task[Ms.TYPE_PREFERENCES]=await Oe.preferences().getChangedData(this.lastSendingTry),i.Task[Ms.TYPE_COMMENT]=await Oe.comments().getChangedData(this.lastSendingTry),i.Task[Ms.TYPE_POINTS]=await Oe.points().getChangedData(this.lastSendingTry),i.Task[Ms.TYPE_SUMMARY]=await Oe.summaries().getChangedData(this.lastSendingTry);const u=await _a.put("/corrector/changes",i,this.getRequestConfig(this.dataToken));this.setTimeOffset(u),this.refreshToken(u);for(const g in u.data??[]){const h=u.data[g];for(const x in h??[])await r.setChangesSent(x,h[x],this.lastSendingTry)}}catch(i){return console.error(i),this.setSending(!1),!1}this.setSending(!1)}return r.countChanges==0},async sendSummaryPdf(t,r,i){try{const u=new FormData;return u.append("file",r),(await _a.post("/corrector/upload/"+t.task_id+"/"+t.writer_id,u,Object.assign(this.getRequestConfig(this.dataToken),{headers:{"Content-Type":"multipart/form-data"},onUploadProgress:i}))).data.id}catch(u){return console.log(u),!1}},setTimeOffset(t){if(t.headers.xlastime){const r=t.headers.xlastime*1e3,i=Date.now();this.timeOffset=i-r,localStorage.setItem("xlasCorrectorTimeOffset",this.timeOffset)}},refreshToken(t){t.headers.xlasdatatoken&&(this.dataToken=t.headers.xlasdatatoken,localStorage.setItem("xlasCorrectorDataToken",this.dataToken)),t.headers.xlasfiletoken&&(this.fileToken=t.headers.xlasfiletoken,localStorage.setItem("xlasCorrectorFileToken",this.fileToken))},async isSending(t=!1){if(t){let r=0;for(;r<5&&this.lastSendingTry>0;)r++,await new Promise(i=>setTimeout(i,1e3))}return this.lastSendingTry>0},setSending(t){t?this.lastSendingTry=Date.now():this.lastSendingTry=0},setLoading(t){t?this.lastLoadingTry=Date.now():this.lastLoadingTry=0},setInterval(t,r,i){t in this.intervals&&clearInterval(this.intervals[t]),this.intervals[t]=setInterval(r,i)},clearAllIntervals(){for(const t in this.intervals)clearInterval(this.intervals[t]),delete this.intervals[t]}}});class A0e{constructor(r={}){Tt(this,"action",null);Tt(this,"type",null);Tt(this,"key","");Tt(this,"done",!1);Tt(this,"result",null);r.action!==void 0&&Ms.ALLOWED_ACTIONS.includes(r.action)&&(this.action=r.action.toString()),r.type!==void 0&&Ms.ALLOWED_TYPES.includes(r.type)&&(this.type=r.type.toString()),r.key!==void 0&&r.key!==null&&(this.key=r.key.toString()),r.done!==void 0&&r.done!==null&&(this.done=!!r.done),r.result!==void 0&&r.result!==null&&(this.result=r.result),this.last_change==0&&(this.last_change=Date.now())}getData(){return Object.assign({},this)}}function L6(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var iU={exports:{}};/*!
    localForage -- Offline Storage, Improved
    Version 1.10.0
    https://localforage.github.io/localForage
    (c) 2013-2017 Mozilla, Apache License 2.0
*/var HY;function O0e(){return HY||(HY=1,function(t,r){(function(i){t.exports=i()})(function(){return function i(u,g,h){function x(D,O){if(!g[D]){if(!u[D]){var M=typeof L6=="function"&&L6;if(!O&&M)return M(D,!0);if(w)return w(D,!0);var H=new Error("Cannot find module '"+D+"'");throw H.code="MODULE_NOT_FOUND",H}var K=g[D]={exports:{}};u[D][0].call(K.exports,function(Z){var Q=u[D][1][Z];return x(Q||Z)},K,K.exports,i,u,g,h)}return g[D].exports}for(var w=typeof L6=="function"&&L6,R=0;R<h.length;R++)x(h[R]);return x}({1:[function(i,u,g){(function(h){var x=h.MutationObserver||h.WebKitMutationObserver,w;if(x){var R=0,D=new x(Z),O=h.document.createTextNode("");D.observe(O,{characterData:!0}),w=function(){O.data=R=++R%2}}else if(!h.setImmediate&&typeof h.MessageChannel<"u"){var M=new h.MessageChannel;M.port1.onmessage=Z,w=function(){M.port2.postMessage(0)}}else"document"in h&&"onreadystatechange"in h.document.createElement("script")?w=function(){var re=h.document.createElement("script");re.onreadystatechange=function(){Z(),re.onreadystatechange=null,re.parentNode.removeChild(re),re=null},h.document.documentElement.appendChild(re)}:w=function(){setTimeout(Z,0)};var H,K=[];function Z(){H=!0;for(var re,U,ge=K.length;ge;){for(U=K,K=[],re=-1;++re<ge;)U[re]();ge=K.length}H=!1}u.exports=Q;function Q(re){K.push(re)===1&&!H&&w()}}).call(this,typeof M6<"u"?M6:typeof self<"u"?self:typeof window<"u"?window:{})},{}],2:[function(i,u,g){var h=i(1);function x(){}var w={},R=["REJECTED"],D=["FULFILLED"],O=["PENDING"];u.exports=M;function M(he){if(typeof he!="function")throw new TypeError("resolver must be a function");this.state=O,this.queue=[],this.outcome=void 0,he!==x&&Q(this,he)}M.prototype.catch=function(he){return this.then(null,he)},M.prototype.then=function(he,oe){if(typeof he!="function"&&this.state===D||typeof oe!="function"&&this.state===R)return this;var _e=new this.constructor(x);if(this.state!==O){var Ue=this.state===D?he:oe;K(_e,Ue,this.outcome)}else this.queue.push(new H(_e,he,oe));return _e};function H(he,oe,_e){this.promise=he,typeof oe=="function"&&(this.onFulfilled=oe,this.callFulfilled=this.otherCallFulfilled),typeof _e=="function"&&(this.onRejected=_e,this.callRejected=this.otherCallRejected)}H.prototype.callFulfilled=function(he){w.resolve(this.promise,he)},H.prototype.otherCallFulfilled=function(he){K(this.promise,this.onFulfilled,he)},H.prototype.callRejected=function(he){w.reject(this.promise,he)},H.prototype.otherCallRejected=function(he){K(this.promise,this.onRejected,he)};function K(he,oe,_e){h(function(){var Ue;try{Ue=oe(_e)}catch(Qe){return w.reject(he,Qe)}Ue===he?w.reject(he,new TypeError("Cannot resolve promise with itself")):w.resolve(he,Ue)})}w.resolve=function(he,oe){var _e=re(Z,oe);if(_e.status==="error")return w.reject(he,_e.value);var Ue=_e.value;if(Ue)Q(he,Ue);else{he.state=D,he.outcome=oe;for(var Qe=-1,ct=he.queue.length;++Qe<ct;)he.queue[Qe].callFulfilled(oe)}return he},w.reject=function(he,oe){he.state=R,he.outcome=oe;for(var _e=-1,Ue=he.queue.length;++_e<Ue;)he.queue[_e].callRejected(oe);return he};function Z(he){var oe=he&&he.then;if(he&&(typeof he=="object"||typeof he=="function")&&typeof oe=="function")return function(){oe.apply(he,arguments)}}function Q(he,oe){var _e=!1;function Ue(Te){_e||(_e=!0,w.reject(he,Te))}function Qe(Te){_e||(_e=!0,w.resolve(he,Te))}function ct(){oe(Qe,Ue)}var Ce=re(ct);Ce.status==="error"&&Ue(Ce.value)}function re(he,oe){var _e={};try{_e.value=he(oe),_e.status="success"}catch(Ue){_e.status="error",_e.value=Ue}return _e}M.resolve=U;function U(he){return he instanceof this?he:w.resolve(new this(x),he)}M.reject=ge;function ge(he){var oe=new this(x);return w.reject(oe,he)}M.all=de;function de(he){var oe=this;if(Object.prototype.toString.call(he)!=="[object Array]")return this.reject(new TypeError("must be an array"));var _e=he.length,Ue=!1;if(!_e)return this.resolve([]);for(var Qe=new Array(_e),ct=0,Ce=-1,Te=new this(x);++Ce<_e;)I(he[Ce],Ce);return Te;function I(dt,gt){oe.resolve(dt).then(Ft,function(en){Ue||(Ue=!0,w.reject(Te,en))});function Ft(en){Qe[gt]=en,++ct===_e&&!Ue&&(Ue=!0,w.resolve(Te,Qe))}}}M.race=q;function q(he){var oe=this;if(Object.prototype.toString.call(he)!=="[object Array]")return this.reject(new TypeError("must be an array"));var _e=he.length,Ue=!1;if(!_e)return this.resolve([]);for(var Qe=-1,ct=new this(x);++Qe<_e;)Ce(he[Qe]);return ct;function Ce(Te){oe.resolve(Te).then(function(I){Ue||(Ue=!0,w.resolve(ct,I))},function(I){Ue||(Ue=!0,w.reject(ct,I))})}}},{1:1}],3:[function(i,u,g){(function(h){typeof h.Promise!="function"&&(h.Promise=i(2))}).call(this,typeof M6<"u"?M6:typeof self<"u"?self:typeof window<"u"?window:{})},{2:2}],4:[function(i,u,g){var h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Be){return typeof Be}:function(Be){return Be&&typeof Symbol=="function"&&Be.constructor===Symbol&&Be!==Symbol.prototype?"symbol":typeof Be};function x(Be,mt){if(!(Be instanceof mt))throw new TypeError("Cannot call a class as a function")}function w(){try{if(typeof indexedDB<"u")return indexedDB;if(typeof webkitIndexedDB<"u")return webkitIndexedDB;if(typeof mozIndexedDB<"u")return mozIndexedDB;if(typeof OIndexedDB<"u")return OIndexedDB;if(typeof msIndexedDB<"u")return msIndexedDB}catch{return}}var R=w();function D(){try{if(!R||!R.open)return!1;var Be=typeof openDatabase<"u"&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),mt=typeof fetch=="function"&&fetch.toString().indexOf("[native code")!==-1;return(!Be||mt)&&typeof indexedDB<"u"&&typeof IDBKeyRange<"u"}catch{return!1}}function O(Be,mt){Be=Be||[],mt=mt||{};try{return new Blob(Be,mt)}catch(lt){if(lt.name!=="TypeError")throw lt;for(var Ze=typeof BlobBuilder<"u"?BlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:WebKitBlobBuilder,_t=new Ze,Ct=0;Ct<Be.length;Ct+=1)_t.append(Be[Ct]);return _t.getBlob(mt.type)}}typeof Promise>"u"&&i(3);var M=Promise;function H(Be,mt){mt&&Be.then(function(Ze){mt(null,Ze)},function(Ze){mt(Ze)})}function K(Be,mt,Ze){typeof mt=="function"&&Be.then(mt),typeof Ze=="function"&&Be.catch(Ze)}function Z(Be){return typeof Be!="string"&&(console.warn(Be+" used as a key, but it is not a string."),Be=String(Be)),Be}function Q(){if(arguments.length&&typeof arguments[arguments.length-1]=="function")return arguments[arguments.length-1]}var re="local-forage-detect-blob-support",U=void 0,ge={},de=Object.prototype.toString,q="readonly",he="readwrite";function oe(Be){for(var mt=Be.length,Ze=new ArrayBuffer(mt),_t=new Uint8Array(Ze),Ct=0;Ct<mt;Ct++)_t[Ct]=Be.charCodeAt(Ct);return Ze}function _e(Be){return new M(function(mt){var Ze=Be.transaction(re,he),_t=O([""]);Ze.objectStore(re).put(_t,"key"),Ze.onabort=function(Ct){Ct.preventDefault(),Ct.stopPropagation(),mt(!1)},Ze.oncomplete=function(){var Ct=navigator.userAgent.match(/Chrome\/(\d+)/),lt=navigator.userAgent.match(/Edge\//);mt(lt||!Ct||parseInt(Ct[1],10)>=43)}}).catch(function(){return!1})}function Ue(Be){return typeof U=="boolean"?M.resolve(U):_e(Be).then(function(mt){return U=mt,U})}function Qe(Be){var mt=ge[Be.name],Ze={};Ze.promise=new M(function(_t,Ct){Ze.resolve=_t,Ze.reject=Ct}),mt.deferredOperations.push(Ze),mt.dbReady?mt.dbReady=mt.dbReady.then(function(){return Ze.promise}):mt.dbReady=Ze.promise}function ct(Be){var mt=ge[Be.name],Ze=mt.deferredOperations.pop();if(Ze)return Ze.resolve(),Ze.promise}function Ce(Be,mt){var Ze=ge[Be.name],_t=Ze.deferredOperations.pop();if(_t)return _t.reject(mt),_t.promise}function Te(Be,mt){return new M(function(Ze,_t){if(ge[Be.name]=ge[Be.name]||Ve(),Be.db)if(mt)Qe(Be),Be.db.close();else return Ze(Be.db);var Ct=[Be.name];mt&&Ct.push(Be.version);var lt=R.open.apply(R,Ct);mt&&(lt.onupgradeneeded=function(rn){var bn=lt.result;try{bn.createObjectStore(Be.storeName),rn.oldVersion<=1&&bn.createObjectStore(re)}catch(Cn){if(Cn.name==="ConstraintError")console.warn('The database "'+Be.name+'" has been upgraded from version '+rn.oldVersion+" to version "+rn.newVersion+', but the storage "'+Be.storeName+'" already exists.');else throw Cn}}),lt.onerror=function(rn){rn.preventDefault(),_t(lt.error)},lt.onsuccess=function(){var rn=lt.result;rn.onversionchange=function(bn){bn.target.close()},Ze(rn),ct(Be)}})}function I(Be){return Te(Be,!1)}function dt(Be){return Te(Be,!0)}function gt(Be,mt){if(!Be.db)return!0;var Ze=!Be.db.objectStoreNames.contains(Be.storeName),_t=Be.version<Be.db.version,Ct=Be.version>Be.db.version;if(_t&&(Be.version!==mt&&console.warn('The database "'+Be.name+`" can't be downgraded from version `+Be.db.version+" to version "+Be.version+"."),Be.version=Be.db.version),Ct||Ze){if(Ze){var lt=Be.db.version+1;lt>Be.version&&(Be.version=lt)}return!0}return!1}function Ft(Be){return new M(function(mt,Ze){var _t=new FileReader;_t.onerror=Ze,_t.onloadend=function(Ct){var lt=btoa(Ct.target.result||"");mt({__local_forage_encoded_blob:!0,data:lt,type:Be.type})},_t.readAsBinaryString(Be)})}function en(Be){var mt=oe(atob(Be.data));return O([mt],{type:Be.type})}function ft(Be){return Be&&Be.__local_forage_encoded_blob}function Rn(Be){var mt=this,Ze=mt._initReady().then(function(){var _t=ge[mt._dbInfo.name];if(_t&&_t.dbReady)return _t.dbReady});return K(Ze,Be,Be),Ze}function Ot(Be){Qe(Be);for(var mt=ge[Be.name],Ze=mt.forages,_t=0;_t<Ze.length;_t++){var Ct=Ze[_t];Ct._dbInfo.db&&(Ct._dbInfo.db.close(),Ct._dbInfo.db=null)}return Be.db=null,I(Be).then(function(lt){return Be.db=lt,gt(Be)?dt(Be):lt}).then(function(lt){Be.db=mt.db=lt;for(var rn=0;rn<Ze.length;rn++)Ze[rn]._dbInfo.db=lt}).catch(function(lt){throw Ce(Be,lt),lt})}function rt(Be,mt,Ze,_t){_t===void 0&&(_t=1);try{var Ct=Be.db.transaction(Be.storeName,mt);Ze(null,Ct)}catch(lt){if(_t>0&&(!Be.db||lt.name==="InvalidStateError"||lt.name==="NotFoundError"))return M.resolve().then(function(){if(!Be.db||lt.name==="NotFoundError"&&!Be.db.objectStoreNames.contains(Be.storeName)&&Be.version<=Be.db.version)return Be.db&&(Be.version=Be.db.version+1),dt(Be)}).then(function(){return Ot(Be).then(function(){rt(Be,mt,Ze,_t-1)})}).catch(Ze);Ze(lt)}}function Ve(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function bt(Be){var mt=this,Ze={db:null};if(Be)for(var _t in Be)Ze[_t]=Be[_t];var Ct=ge[Ze.name];Ct||(Ct=Ve(),ge[Ze.name]=Ct),Ct.forages.push(mt),mt._initReady||(mt._initReady=mt.ready,mt.ready=Rn);var lt=[];function rn(){return M.resolve()}for(var bn=0;bn<Ct.forages.length;bn++){var Cn=Ct.forages[bn];Cn!==mt&&lt.push(Cn._initReady().catch(rn))}var Tn=Ct.forages.slice(0);return M.all(lt).then(function(){return Ze.db=Ct.db,I(Ze)}).then(function(_n){return Ze.db=_n,gt(Ze,mt._defaultConfig.version)?dt(Ze):_n}).then(function(_n){Ze.db=Ct.db=_n,mt._dbInfo=Ze;for(var Po=0;Po<Tn.length;Po++){var xn=Tn[Po];xn!==mt&&(xn._dbInfo.db=Ze.db,xn._dbInfo.version=Ze.version)}})}function Yn(Be,mt){var Ze=this;Be=Z(Be);var _t=new M(function(Ct,lt){Ze.ready().then(function(){rt(Ze._dbInfo,q,function(rn,bn){if(rn)return lt(rn);try{var Cn=bn.objectStore(Ze._dbInfo.storeName),Tn=Cn.get(Be);Tn.onsuccess=function(){var _n=Tn.result;_n===void 0&&(_n=null),ft(_n)&&(_n=en(_n)),Ct(_n)},Tn.onerror=function(){lt(Tn.error)}}catch(_n){lt(_n)}})}).catch(lt)});return H(_t,mt),_t}function Yt(Be,mt){var Ze=this,_t=new M(function(Ct,lt){Ze.ready().then(function(){rt(Ze._dbInfo,q,function(rn,bn){if(rn)return lt(rn);try{var Cn=bn.objectStore(Ze._dbInfo.storeName),Tn=Cn.openCursor(),_n=1;Tn.onsuccess=function(){var Po=Tn.result;if(Po){var xn=Po.value;ft(xn)&&(xn=en(xn));var Ws=Be(xn,Po.key,_n++);Ws!==void 0?Ct(Ws):Po.continue()}else Ct()},Tn.onerror=function(){lt(Tn.error)}}catch(Po){lt(Po)}})}).catch(lt)});return H(_t,mt),_t}function Bn(Be,mt,Ze){var _t=this;Be=Z(Be);var Ct=new M(function(lt,rn){var bn;_t.ready().then(function(){return bn=_t._dbInfo,de.call(mt)==="[object Blob]"?Ue(bn.db).then(function(Cn){return Cn?mt:Ft(mt)}):mt}).then(function(Cn){rt(_t._dbInfo,he,function(Tn,_n){if(Tn)return rn(Tn);try{var Po=_n.objectStore(_t._dbInfo.storeName);Cn===null&&(Cn=void 0);var xn=Po.put(Cn,Be);_n.oncomplete=function(){Cn===void 0&&(Cn=null),lt(Cn)},_n.onabort=_n.onerror=function(){var Ws=xn.error?xn.error:xn.transaction.error;rn(Ws)}}catch(Ws){rn(Ws)}})}).catch(rn)});return H(Ct,Ze),Ct}function Jt(Be,mt){var Ze=this;Be=Z(Be);var _t=new M(function(Ct,lt){Ze.ready().then(function(){rt(Ze._dbInfo,he,function(rn,bn){if(rn)return lt(rn);try{var Cn=bn.objectStore(Ze._dbInfo.storeName),Tn=Cn.delete(Be);bn.oncomplete=function(){Ct()},bn.onerror=function(){lt(Tn.error)},bn.onabort=function(){var _n=Tn.error?Tn.error:Tn.transaction.error;lt(_n)}}catch(_n){lt(_n)}})}).catch(lt)});return H(_t,mt),_t}function te(Be){var mt=this,Ze=new M(function(_t,Ct){mt.ready().then(function(){rt(mt._dbInfo,he,function(lt,rn){if(lt)return Ct(lt);try{var bn=rn.objectStore(mt._dbInfo.storeName),Cn=bn.clear();rn.oncomplete=function(){_t()},rn.onabort=rn.onerror=function(){var Tn=Cn.error?Cn.error:Cn.transaction.error;Ct(Tn)}}catch(Tn){Ct(Tn)}})}).catch(Ct)});return H(Ze,Be),Ze}function vo(Be){var mt=this,Ze=new M(function(_t,Ct){mt.ready().then(function(){rt(mt._dbInfo,q,function(lt,rn){if(lt)return Ct(lt);try{var bn=rn.objectStore(mt._dbInfo.storeName),Cn=bn.count();Cn.onsuccess=function(){_t(Cn.result)},Cn.onerror=function(){Ct(Cn.error)}}catch(Tn){Ct(Tn)}})}).catch(Ct)});return H(Ze,Be),Ze}function nn(Be,mt){var Ze=this,_t=new M(function(Ct,lt){if(Be<0){Ct(null);return}Ze.ready().then(function(){rt(Ze._dbInfo,q,function(rn,bn){if(rn)return lt(rn);try{var Cn=bn.objectStore(Ze._dbInfo.storeName),Tn=!1,_n=Cn.openKeyCursor();_n.onsuccess=function(){var Po=_n.result;if(!Po){Ct(null);return}Be===0||Tn?Ct(Po.key):(Tn=!0,Po.advance(Be))},_n.onerror=function(){lt(_n.error)}}catch(Po){lt(Po)}})}).catch(lt)});return H(_t,mt),_t}function yn(Be){var mt=this,Ze=new M(function(_t,Ct){mt.ready().then(function(){rt(mt._dbInfo,q,function(lt,rn){if(lt)return Ct(lt);try{var bn=rn.objectStore(mt._dbInfo.storeName),Cn=bn.openKeyCursor(),Tn=[];Cn.onsuccess=function(){var _n=Cn.result;if(!_n){_t(Tn);return}Tn.push(_n.key),_n.continue()},Cn.onerror=function(){Ct(Cn.error)}}catch(_n){Ct(_n)}})}).catch(Ct)});return H(Ze,Be),Ze}function qe(Be,mt){mt=Q.apply(this,arguments);var Ze=this.config();Be=typeof Be!="function"&&Be||{},Be.name||(Be.name=Be.name||Ze.name,Be.storeName=Be.storeName||Ze.storeName);var _t=this,Ct;if(!Be.name)Ct=M.reject("Invalid arguments");else{var lt=Be.name===Ze.name&&_t._dbInfo.db,rn=lt?M.resolve(_t._dbInfo.db):I(Be).then(function(bn){var Cn=ge[Be.name],Tn=Cn.forages;Cn.db=bn;for(var _n=0;_n<Tn.length;_n++)Tn[_n]._dbInfo.db=bn;return bn});Be.storeName?Ct=rn.then(function(bn){if(bn.objectStoreNames.contains(Be.storeName)){var Cn=bn.version+1;Qe(Be);var Tn=ge[Be.name],_n=Tn.forages;bn.close();for(var Po=0;Po<_n.length;Po++){var xn=_n[Po];xn._dbInfo.db=null,xn._dbInfo.version=Cn}var Ws=new M(function(ns,gs){var jr=R.open(Be.name,Cn);jr.onerror=function(Uo){var rc=jr.result;rc.close(),gs(Uo)},jr.onupgradeneeded=function(){var Uo=jr.result;Uo.deleteObjectStore(Be.storeName)},jr.onsuccess=function(){var Uo=jr.result;Uo.close(),ns(Uo)}});return Ws.then(function(ns){Tn.db=ns;for(var gs=0;gs<_n.length;gs++){var jr=_n[gs];jr._dbInfo.db=ns,ct(jr._dbInfo)}}).catch(function(ns){throw(Ce(Be,ns)||M.resolve()).catch(function(){}),ns})}}):Ct=rn.then(function(bn){Qe(Be);var Cn=ge[Be.name],Tn=Cn.forages;bn.close();for(var _n=0;_n<Tn.length;_n++){var Po=Tn[_n];Po._dbInfo.db=null}var xn=new M(function(Ws,ns){var gs=R.deleteDatabase(Be.name);gs.onerror=function(){var jr=gs.result;jr&&jr.close(),ns(gs.error)},gs.onblocked=function(){console.warn('dropInstance blocked for database "'+Be.name+'" until all open connections are closed')},gs.onsuccess=function(){var jr=gs.result;jr&&jr.close(),Ws(jr)}});return xn.then(function(Ws){Cn.db=Ws;for(var ns=0;ns<Tn.length;ns++){var gs=Tn[ns];ct(gs._dbInfo)}}).catch(function(Ws){throw(Ce(Be,Ws)||M.resolve()).catch(function(){}),Ws})})}return H(Ct,mt),Ct}var it={_driver:"asyncStorage",_initStorage:bt,_support:D(),iterate:Yt,getItem:Yn,setItem:Bn,removeItem:Jt,clear:te,length:vo,key:nn,keys:yn,dropInstance:qe};function Se(){return typeof openDatabase=="function"}var Me="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Ke="~~local_forage_type~",xe=/^~~local_forage_type~([^~]+)~/,Re="__lfsc__:",Fe=Re.length,Je="arbf",wt="blob",pn="si08",Qt="ui08",An="uic8",no="si16",co="si32",Jo="ur16",Ho="ui32",sr="fl32",Cs="fl64",ri=Fe+Je.length,xs=Object.prototype.toString;function aa(Be){var mt=Be.length*.75,Ze=Be.length,_t,Ct=0,lt,rn,bn,Cn;Be[Be.length-1]==="="&&(mt--,Be[Be.length-2]==="="&&mt--);var Tn=new ArrayBuffer(mt),_n=new Uint8Array(Tn);for(_t=0;_t<Ze;_t+=4)lt=Me.indexOf(Be[_t]),rn=Me.indexOf(Be[_t+1]),bn=Me.indexOf(Be[_t+2]),Cn=Me.indexOf(Be[_t+3]),_n[Ct++]=lt<<2|rn>>4,_n[Ct++]=(rn&15)<<4|bn>>2,_n[Ct++]=(bn&3)<<6|Cn&63;return Tn}function cn(Be){var mt=new Uint8Array(Be),Ze="",_t;for(_t=0;_t<mt.length;_t+=3)Ze+=Me[mt[_t]>>2],Ze+=Me[(mt[_t]&3)<<4|mt[_t+1]>>4],Ze+=Me[(mt[_t+1]&15)<<2|mt[_t+2]>>6],Ze+=Me[mt[_t+2]&63];return mt.length%3===2?Ze=Ze.substring(0,Ze.length-1)+"=":mt.length%3===1&&(Ze=Ze.substring(0,Ze.length-2)+"=="),Ze}function uo(Be,mt){var Ze="";if(Be&&(Ze=xs.call(Be)),Be&&(Ze==="[object ArrayBuffer]"||Be.buffer&&xs.call(Be.buffer)==="[object ArrayBuffer]")){var _t,Ct=Re;Be instanceof ArrayBuffer?(_t=Be,Ct+=Je):(_t=Be.buffer,Ze==="[object Int8Array]"?Ct+=pn:Ze==="[object Uint8Array]"?Ct+=Qt:Ze==="[object Uint8ClampedArray]"?Ct+=An:Ze==="[object Int16Array]"?Ct+=no:Ze==="[object Uint16Array]"?Ct+=Jo:Ze==="[object Int32Array]"?Ct+=co:Ze==="[object Uint32Array]"?Ct+=Ho:Ze==="[object Float32Array]"?Ct+=sr:Ze==="[object Float64Array]"?Ct+=Cs:mt(new Error("Failed to get type for BinaryArray"))),mt(Ct+cn(_t))}else if(Ze==="[object Blob]"){var lt=new FileReader;lt.onload=function(){var rn=Ke+Be.type+"~"+cn(this.result);mt(Re+wt+rn)},lt.readAsArrayBuffer(Be)}else try{mt(JSON.stringify(Be))}catch(rn){console.error("Couldn't convert value into a JSON string: ",Be),mt(null,rn)}}function $o(Be){if(Be.substring(0,Fe)!==Re)return JSON.parse(Be);var mt=Be.substring(ri),Ze=Be.substring(Fe,ri),_t;if(Ze===wt&&xe.test(mt)){var Ct=mt.match(xe);_t=Ct[1],mt=mt.substring(Ct[0].length)}var lt=aa(mt);switch(Ze){case Je:return lt;case wt:return O([lt],{type:_t});case pn:return new Int8Array(lt);case Qt:return new Uint8Array(lt);case An:return new Uint8ClampedArray(lt);case no:return new Int16Array(lt);case Jo:return new Uint16Array(lt);case co:return new Int32Array(lt);case Ho:return new Uint32Array(lt);case sr:return new Float32Array(lt);case Cs:return new Float64Array(lt);default:throw new Error("Unkown type: "+Ze)}}var mi={serialize:uo,deserialize:$o,stringToBuffer:aa,bufferToString:cn};function ul(Be,mt,Ze,_t){Be.executeSql("CREATE TABLE IF NOT EXISTS "+mt.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],Ze,_t)}function tn(Be){var mt=this,Ze={db:null};if(Be)for(var _t in Be)Ze[_t]=typeof Be[_t]!="string"?Be[_t].toString():Be[_t];var Ct=new M(function(lt,rn){try{Ze.db=openDatabase(Ze.name,String(Ze.version),Ze.description,Ze.size)}catch(bn){return rn(bn)}Ze.db.transaction(function(bn){ul(bn,Ze,function(){mt._dbInfo=Ze,lt()},function(Cn,Tn){rn(Tn)})},rn)});return Ze.serializer=mi,Ct}function ki(Be,mt,Ze,_t,Ct,lt){Be.executeSql(Ze,_t,Ct,function(rn,bn){bn.code===bn.SYNTAX_ERR?rn.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[mt.storeName],function(Cn,Tn){Tn.rows.length?lt(Cn,bn):ul(Cn,mt,function(){Cn.executeSql(Ze,_t,Ct,lt)},lt)},lt):lt(rn,bn)},lt)}function Go(Be,mt){var Ze=this;Be=Z(Be);var _t=new M(function(Ct,lt){Ze.ready().then(function(){var rn=Ze._dbInfo;rn.db.transaction(function(bn){ki(bn,rn,"SELECT * FROM "+rn.storeName+" WHERE key = ? LIMIT 1",[Be],function(Cn,Tn){var _n=Tn.rows.length?Tn.rows.item(0).value:null;_n&&(_n=rn.serializer.deserialize(_n)),Ct(_n)},function(Cn,Tn){lt(Tn)})})}).catch(lt)});return H(_t,mt),_t}function Wl(Be,mt){var Ze=this,_t=new M(function(Ct,lt){Ze.ready().then(function(){var rn=Ze._dbInfo;rn.db.transaction(function(bn){ki(bn,rn,"SELECT * FROM "+rn.storeName,[],function(Cn,Tn){for(var _n=Tn.rows,Po=_n.length,xn=0;xn<Po;xn++){var Ws=_n.item(xn),ns=Ws.value;if(ns&&(ns=rn.serializer.deserialize(ns)),ns=Be(ns,Ws.key,xn+1),ns!==void 0){Ct(ns);return}}Ct()},function(Cn,Tn){lt(Tn)})})}).catch(lt)});return H(_t,mt),_t}function js(Be,mt,Ze,_t){var Ct=this;Be=Z(Be);var lt=new M(function(rn,bn){Ct.ready().then(function(){mt===void 0&&(mt=null);var Cn=mt,Tn=Ct._dbInfo;Tn.serializer.serialize(mt,function(_n,Po){Po?bn(Po):Tn.db.transaction(function(xn){ki(xn,Tn,"INSERT OR REPLACE INTO "+Tn.storeName+" (key, value) VALUES (?, ?)",[Be,_n],function(){rn(Cn)},function(Ws,ns){bn(ns)})},function(xn){if(xn.code===xn.QUOTA_ERR){if(_t>0){rn(js.apply(Ct,[Be,Cn,Ze,_t-1]));return}bn(xn)}})})}).catch(bn)});return H(lt,Ze),lt}function ii(Be,mt,Ze){return js.apply(this,[Be,mt,Ze,1])}function Oc(Be,mt){var Ze=this;Be=Z(Be);var _t=new M(function(Ct,lt){Ze.ready().then(function(){var rn=Ze._dbInfo;rn.db.transaction(function(bn){ki(bn,rn,"DELETE FROM "+rn.storeName+" WHERE key = ?",[Be],function(){Ct()},function(Cn,Tn){lt(Tn)})})}).catch(lt)});return H(_t,mt),_t}function Rc(Be){var mt=this,Ze=new M(function(_t,Ct){mt.ready().then(function(){var lt=mt._dbInfo;lt.db.transaction(function(rn){ki(rn,lt,"DELETE FROM "+lt.storeName,[],function(){_t()},function(bn,Cn){Ct(Cn)})})}).catch(Ct)});return H(Ze,Be),Ze}function Ic(Be){var mt=this,Ze=new M(function(_t,Ct){mt.ready().then(function(){var lt=mt._dbInfo;lt.db.transaction(function(rn){ki(rn,lt,"SELECT COUNT(key) as c FROM "+lt.storeName,[],function(bn,Cn){var Tn=Cn.rows.item(0).c;_t(Tn)},function(bn,Cn){Ct(Cn)})})}).catch(Ct)});return H(Ze,Be),Ze}function kl(Be,mt){var Ze=this,_t=new M(function(Ct,lt){Ze.ready().then(function(){var rn=Ze._dbInfo;rn.db.transaction(function(bn){ki(bn,rn,"SELECT key FROM "+rn.storeName+" WHERE id = ? LIMIT 1",[Be+1],function(Cn,Tn){var _n=Tn.rows.length?Tn.rows.item(0).key:null;Ct(_n)},function(Cn,Tn){lt(Tn)})})}).catch(lt)});return H(_t,mt),_t}function Dc(Be){var mt=this,Ze=new M(function(_t,Ct){mt.ready().then(function(){var lt=mt._dbInfo;lt.db.transaction(function(rn){ki(rn,lt,"SELECT key FROM "+lt.storeName,[],function(bn,Cn){for(var Tn=[],_n=0;_n<Cn.rows.length;_n++)Tn.push(Cn.rows.item(_n).key);_t(Tn)},function(bn,Cn){Ct(Cn)})})}).catch(Ct)});return H(Ze,Be),Ze}function Zs(Be){return new M(function(mt,Ze){Be.transaction(function(_t){_t.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(Ct,lt){for(var rn=[],bn=0;bn<lt.rows.length;bn++)rn.push(lt.rows.item(bn).name);mt({db:Be,storeNames:rn})},function(Ct,lt){Ze(lt)})},function(_t){Ze(_t)})})}function So(Be,mt){mt=Q.apply(this,arguments);var Ze=this.config();Be=typeof Be!="function"&&Be||{},Be.name||(Be.name=Be.name||Ze.name,Be.storeName=Be.storeName||Ze.storeName);var _t=this,Ct;return Be.name?Ct=new M(function(lt){var rn;Be.name===Ze.name?rn=_t._dbInfo.db:rn=openDatabase(Be.name,"","",0),Be.storeName?lt({db:rn,storeNames:[Be.storeName]}):lt(Zs(rn))}).then(function(lt){return new M(function(rn,bn){lt.db.transaction(function(Cn){function Tn(Ws){return new M(function(ns,gs){Cn.executeSql("DROP TABLE IF EXISTS "+Ws,[],function(){ns()},function(jr,Uo){gs(Uo)})})}for(var _n=[],Po=0,xn=lt.storeNames.length;Po<xn;Po++)_n.push(Tn(lt.storeNames[Po]));M.all(_n).then(function(){rn()}).catch(function(Ws){bn(Ws)})},function(Cn){bn(Cn)})})}):Ct=M.reject("Invalid arguments"),H(Ct,mt),Ct}var dl={_driver:"webSQLStorage",_initStorage:tn,_support:Se(),iterate:Wl,getItem:Go,setItem:ii,removeItem:Oc,clear:Rc,length:Ic,key:kl,keys:Dc,dropInstance:So};function Ui(){try{return typeof localStorage<"u"&&"setItem"in localStorage&&!!localStorage.setItem}catch{return!1}}function Du(Be,mt){var Ze=Be.name+"/";return Be.storeName!==mt.storeName&&(Ze+=Be.storeName+"/"),Ze}function Sn(){var Be="_localforage_support_test";try{return localStorage.setItem(Be,!0),localStorage.removeItem(Be),!1}catch{return!0}}function sc(){return!Sn()||localStorage.length>0}function Kf(Be){var mt=this,Ze={};if(Be)for(var _t in Be)Ze[_t]=Be[_t];return Ze.keyPrefix=Du(Be,mt._defaultConfig),sc()?(mt._dbInfo=Ze,Ze.serializer=mi,M.resolve()):M.reject()}function Tr(Be){var mt=this,Ze=mt.ready().then(function(){for(var _t=mt._dbInfo.keyPrefix,Ct=localStorage.length-1;Ct>=0;Ct--){var lt=localStorage.key(Ct);lt.indexOf(_t)===0&&localStorage.removeItem(lt)}});return H(Ze,Be),Ze}function jf(Be,mt){var Ze=this;Be=Z(Be);var _t=Ze.ready().then(function(){var Ct=Ze._dbInfo,lt=localStorage.getItem(Ct.keyPrefix+Be);return lt&&(lt=Ct.serializer.deserialize(lt)),lt});return H(_t,mt),_t}function fl(Be,mt){var Ze=this,_t=Ze.ready().then(function(){for(var Ct=Ze._dbInfo,lt=Ct.keyPrefix,rn=lt.length,bn=localStorage.length,Cn=1,Tn=0;Tn<bn;Tn++){var _n=localStorage.key(Tn);if(_n.indexOf(lt)===0){var Po=localStorage.getItem(_n);if(Po&&(Po=Ct.serializer.deserialize(Po)),Po=Be(Po,_n.substring(rn),Cn++),Po!==void 0)return Po}}});return H(_t,mt),_t}function Kl(Be,mt){var Ze=this,_t=Ze.ready().then(function(){var Ct=Ze._dbInfo,lt;try{lt=localStorage.key(Be)}catch{lt=null}return lt&&(lt=lt.substring(Ct.keyPrefix.length)),lt});return H(_t,mt),_t}function El(Be){var mt=this,Ze=mt.ready().then(function(){for(var _t=mt._dbInfo,Ct=localStorage.length,lt=[],rn=0;rn<Ct;rn++){var bn=localStorage.key(rn);bn.indexOf(_t.keyPrefix)===0&&lt.push(bn.substring(_t.keyPrefix.length))}return lt});return H(Ze,Be),Ze}function dr(Be){var mt=this,Ze=mt.keys().then(function(_t){return _t.length});return H(Ze,Be),Ze}function la(Be,mt){var Ze=this;Be=Z(Be);var _t=Ze.ready().then(function(){var Ct=Ze._dbInfo;localStorage.removeItem(Ct.keyPrefix+Be)});return H(_t,mt),_t}function ml(Be,mt,Ze){var _t=this;Be=Z(Be);var Ct=_t.ready().then(function(){mt===void 0&&(mt=null);var lt=mt;return new M(function(rn,bn){var Cn=_t._dbInfo;Cn.serializer.serialize(mt,function(Tn,_n){if(_n)bn(_n);else try{localStorage.setItem(Cn.keyPrefix+Be,Tn),rn(lt)}catch(Po){(Po.name==="QuotaExceededError"||Po.name==="NS_ERROR_DOM_QUOTA_REACHED")&&bn(Po),bn(Po)}})})});return H(Ct,Ze),Ct}function Zf(Be,mt){if(mt=Q.apply(this,arguments),Be=typeof Be!="function"&&Be||{},!Be.name){var Ze=this.config();Be.name=Be.name||Ze.name,Be.storeName=Be.storeName||Ze.storeName}var _t=this,Ct;return Be.name?Ct=new M(function(lt){Be.storeName?lt(Du(Be,_t._defaultConfig)):lt(Be.name+"/")}).then(function(lt){for(var rn=localStorage.length-1;rn>=0;rn--){var bn=localStorage.key(rn);bn.indexOf(lt)===0&&localStorage.removeItem(bn)}}):Ct=M.reject("Invalid arguments"),H(Ct,mt),Ct}var nu={_driver:"localStorageWrapper",_initStorage:Kf,_support:Ui(),iterate:fl,getItem:jf,setItem:ml,removeItem:la,clear:Tr,length:dr,key:Kl,keys:El,dropInstance:Zf},Tl=function(mt,Ze){return mt===Ze||typeof mt=="number"&&typeof Ze=="number"&&isNaN(mt)&&isNaN(Ze)},Zd=function(mt,Ze){for(var _t=mt.length,Ct=0;Ct<_t;){if(Tl(mt[Ct],Ze))return!0;Ct++}return!1},Pu=Array.isArray||function(Be){return Object.prototype.toString.call(Be)==="[object Array]"},cs={},Kr={},gi={INDEXEDDB:it,WEBSQL:dl,LOCALSTORAGE:nu},Gf=[gi.INDEXEDDB._driver,gi.WEBSQL._driver,gi.LOCALSTORAGE._driver],gl=["dropInstance"],ou=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(gl),Pi={description:"",driver:Gf.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function Ta(Be,mt){Be[mt]=function(){var Ze=arguments;return Be.ready().then(function(){return Be[mt].apply(Be,Ze)})}}function Aa(){for(var Be=1;Be<arguments.length;Be++){var mt=arguments[Be];if(mt)for(var Ze in mt)mt.hasOwnProperty(Ze)&&(Pu(mt[Ze])?arguments[0][Ze]=mt[Ze].slice():arguments[0][Ze]=mt[Ze])}return arguments[0]}var Vs=function(){function Be(mt){x(this,Be);for(var Ze in gi)if(gi.hasOwnProperty(Ze)){var _t=gi[Ze],Ct=_t._driver;this[Ze]=Ct,cs[Ct]||this.defineDriver(_t)}this._defaultConfig=Aa({},Pi),this._config=Aa({},this._defaultConfig,mt),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return Be.prototype.config=function(Ze){if((typeof Ze>"u"?"undefined":h(Ze))==="object"){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var _t in Ze){if(_t==="storeName"&&(Ze[_t]=Ze[_t].replace(/\W/g,"_")),_t==="version"&&typeof Ze[_t]!="number")return new Error("Database version must be a number.");this._config[_t]=Ze[_t]}return"driver"in Ze&&Ze.driver?this.setDriver(this._config.driver):!0}else return typeof Ze=="string"?this._config[Ze]:this._config},Be.prototype.defineDriver=function(Ze,_t,Ct){var lt=new M(function(rn,bn){try{var Cn=Ze._driver,Tn=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!Ze._driver){bn(Tn);return}for(var _n=ou.concat("_initStorage"),Po=0,xn=_n.length;Po<xn;Po++){var Ws=_n[Po],ns=!Zd(gl,Ws);if((ns||Ze[Ws])&&typeof Ze[Ws]!="function"){bn(Tn);return}}var gs=function(){for(var rc=function(Or){return function(){var Gd=new Error("Method "+Or+" is not implemented by the current driver"),Jr=M.reject(Gd);return H(Jr,arguments[arguments.length-1]),Jr}},Oa=0,_o=gl.length;Oa<_o;Oa++){var Al=gl[Oa];Ze[Al]||(Ze[Al]=rc(Al))}};gs();var jr=function(rc){cs[Cn]&&console.info("Redefining LocalForage driver: "+Cn),cs[Cn]=Ze,Kr[Cn]=rc,rn()};"_support"in Ze?Ze._support&&typeof Ze._support=="function"?Ze._support().then(jr,bn):jr(!!Ze._support):jr(!0)}catch(Uo){bn(Uo)}});return K(lt,_t,Ct),lt},Be.prototype.driver=function(){return this._driver||null},Be.prototype.getDriver=function(Ze,_t,Ct){var lt=cs[Ze]?M.resolve(cs[Ze]):M.reject(new Error("Driver not found."));return K(lt,_t,Ct),lt},Be.prototype.getSerializer=function(Ze){var _t=M.resolve(mi);return K(_t,Ze),_t},Be.prototype.ready=function(Ze){var _t=this,Ct=_t._driverSet.then(function(){return _t._ready===null&&(_t._ready=_t._initDriver()),_t._ready});return K(Ct,Ze,Ze),Ct},Be.prototype.setDriver=function(Ze,_t,Ct){var lt=this;Pu(Ze)||(Ze=[Ze]);var rn=this._getSupportedDrivers(Ze);function bn(){lt._config.driver=lt.driver()}function Cn(Po){return lt._extend(Po),bn(),lt._ready=lt._initStorage(lt._config),lt._ready}function Tn(Po){return function(){var xn=0;function Ws(){for(;xn<Po.length;){var ns=Po[xn];return xn++,lt._dbInfo=null,lt._ready=null,lt.getDriver(ns).then(Cn).catch(Ws)}bn();var gs=new Error("No available storage method found.");return lt._driverSet=M.reject(gs),lt._driverSet}return Ws()}}var _n=this._driverSet!==null?this._driverSet.catch(function(){return M.resolve()}):M.resolve();return this._driverSet=_n.then(function(){var Po=rn[0];return lt._dbInfo=null,lt._ready=null,lt.getDriver(Po).then(function(xn){lt._driver=xn._driver,bn(),lt._wrapLibraryMethodsWithReady(),lt._initDriver=Tn(rn)})}).catch(function(){bn();var Po=new Error("No available storage method found.");return lt._driverSet=M.reject(Po),lt._driverSet}),K(this._driverSet,_t,Ct),this._driverSet},Be.prototype.supports=function(Ze){return!!Kr[Ze]},Be.prototype._extend=function(Ze){Aa(this,Ze)},Be.prototype._getSupportedDrivers=function(Ze){for(var _t=[],Ct=0,lt=Ze.length;Ct<lt;Ct++){var rn=Ze[Ct];this.supports(rn)&&_t.push(rn)}return _t},Be.prototype._wrapLibraryMethodsWithReady=function(){for(var Ze=0,_t=ou.length;Ze<_t;Ze++)Ta(this,ou[Ze])},Be.prototype.createInstance=function(Ze){return new Be(Ze)},Be}(),wr=new Vs;u.exports=wr},{3:3}]},{},[4])(4)})}(iU)),iU.exports}var R0e=O0e();const I0e=sK(R0e);function dd(t){return I0e.createInstance({name:"xlas-assessment-corrector",storeName:t})}const Mf=dd("changes");function D0e(){const t={changes:{},lastSave:0,lastSendingSuccess:0};for(const r of Ms.STORED_TYPES)t.changes[r]={};return t}const P0e=Iu("changes",{state:()=>D0e(),getters:{countChanges(t){let r=0;for(const i of Ms.STORED_TYPES)r+=Object.keys(t.changes[i]).length;return r},getChangesCount(t){return function(i){return Object.keys(t.changes[i]??[]).length}},getChangesFor(t){return function(i,u=0){if(!Ms.STORED_TYPES.includes(i))return[];const g=[];for(const h in t.changes[i]){const x=t.changes[i][h];(u==0||x.last_change<=u)&&g.push(x)}return g}},getChangeDataToSend(t){return function(i,u=null){const g=i.getData();return u&&(g.payload=u),g.last_change=Oe.api().getServerTime(i.last_change),g}}},actions:{async clearStorage(){try{this.$reset(),await Mf.clear()}catch(t){console.log(t)}},async loadFromStorage(){this.$reset();try{for(const t in this.changes){const r=await Mf.getItem(t)??[];for(const i of r){const u=await Mf.getItem(Ms.buildChangeKey(t,i)),g=JSON.parse(u);typeof g=="object"&&g!==null&&(this.changes[t][i]=new Ms(g))}}this.lastSave=parseInt(await Mf.getItem("lastSave")),this.lastSendingSuccess=parseInt(await Mf.getItem("lastSendingSuccess"))}catch(t){console.log(t)}},async setChange(t){t.isValid()&&(this.changes[t.type][t.key]=t,await Mf.setItem(t.getChangeKey(),JSON.stringify(t.getData())),await Mf.setItem(t.type,Object.keys(this.changes[t.type])),this.lastSave=Date.now(),await Mf.setItem("lastSave",this.lastSave))},async unsetChange(t){t.isValid()&&(delete this.changes[t.type][t.key],await Mf.removeItem(t.getChangeKey()),await Mf.setItem(t.type,Object.keys(this.changes[t.type])),this.lastSave=Date.now(),await Mf.setItem("lastSave",this.lastSave))},async setChangesSent(t,r=[],i){let u=!1;if(this.changes[t])for(const g of r){const h=new A0e(g),x=this.changes[t][h.key];x&&h.done&&x.last_change<=i&&(delete this.changes[t][h.key],await Mf.removeItem(x.getChangeKey()),u=!0)}u&&(this.lastSave=Date.now(),await Mf.setItem(t,Object.keys(this.changes[t])),await Mf.setItem("lastSave",this.lastSave)),this.lastSendingSuccess=Date.now(),await Mf.setItem("lastSendingSuccess",this.lastSendingSuccess)}}});class yR{constructor(r={}){Tt(this,"x",0);Tt(this,"y",0);r.x!==void 0&&r.x!==null&&(this.x=parseInt(r.x)),r.y!==void 0&&r.y!==null&&(this.y=parseInt(r.y))}getData(){return{x:this.x,y:this.y}}}const ll=class ll{constructor(r={}){Tt(this,"key","");Tt(this,"shape","");Tt(this,"pos",new yR(0,0));Tt(this,"end",new yR(0,0));Tt(this,"width",0);Tt(this,"height",0);Tt(this,"polygon",[]);Tt(this,"symbol","");this.setData(r)}setData(r){if(r.key!==void 0&&r.key!==null&&(this.key=r.key),r.shape!==void 0&&ll.ALLOWED_SHAPES.includes(r.shape)&&(this.shape=r.shape.toString()),r.pos!==void 0&&r.pos!==null&&(this.pos=new yR(r.pos)),r.end!==void 0&&r.end!==null&&(this.end=new yR(r.end)),r.width!==void 0&&r.width!==null&&(this.width=parseInt(r.width)),r.height!==void 0&&r.height!==null&&(this.height=parseInt(r.height)),r.polygon!==void 0&&Array.isArray(r.polygon))for(const i of r.polygon)this.polygon.push(new yR(i));r.symbol!==void 0&&r.symbol!==null&&(this.symbol=r.symbol.toString())}getData(){let r=[];for(const i of this.polygon)r.push(i.getData());return{key:this.key,shape:this.shape,pos:this.pos.getData(),end:this.end.getData(),width:this.width,height:this.height,polygon:r,symbol:this.symbol}}getIcon(){switch(this.shape){case ll.SHAPE_LINE:return"mdi-minus";case ll.SHAPE_WAVE:return"mdi-wave";case ll.SHAPE_RECTANGLE:return"mdi-rectangle-outline";case ll.SHAPE_POLYGON:return"mdi-vector-triangle";case ll.SHAPE_CIRCLE:switch(this.symbol){case ll.SYMBOL_CHECK:return"mdi-check";case ll.SYMBOL_CROSS:return"mdi-close";case ll.SYMBOL_QUESTION:return"mdi-help"}}return""}};Tt(ll,"SHAPE_CIRCLE","circle"),Tt(ll,"SHAPE_RECTANGLE","rectangle"),Tt(ll,"SHAPE_POLYGON","polygon"),Tt(ll,"SHAPE_LINE","line"),Tt(ll,"SHAPE_WAVE","wave"),Tt(ll,"ALLOWED_SHAPES",[ll.SHAPE_CIRCLE,ll.SHAPE_RECTANGLE,ll.SHAPE_POLYGON,ll.SHAPE_LINE,ll.SHAPE_WAVE]),Tt(ll,"SYMBOL_CHECK",""),Tt(ll,"SYMBOL_CROSS",""),Tt(ll,"SYMBOL_QUESTION","?");let Rg=ll;const Og=class Og{constructor(r={}){Tt(this,"key","");Tt(this,"item_key","");Tt(this,"correction_key","");Tt(this,"task_id",null);Tt(this,"writer_id",null);Tt(this,"corrector_id",null);Tt(this,"start_position",0);Tt(this,"end_position",0);Tt(this,"parent_number",0);Tt(this,"comment","");Tt(this,"rating_excellent",!1);Tt(this,"rating_cardinal",!1);Tt(this,"label","");Tt(this,"prefix","");Tt(this,"marks",[]);Tt(this,"deleted",!1);if(r.key!==void 0&&r.key!==null&&(this.key=r.key.toString()),r.task_id!==void 0&&r.task_id!==null&&(this.task_id=parseInt(r.task_id)),r.task_id!==void 0&&r.task_id!==null&&(this.task_id=parseInt(r.task_id)),r.writer_id!==void 0&&r.writer_id!==null&&(this.writer_id=parseInt(r.writer_id)),r.corrector_id!==void 0&&r.corrector_id!==null&&(this.corrector_id=parseInt(r.corrector_id)),r.start_position!==void 0&&r.start_position!==null&&(this.start_position=parseInt(r.start_position)),r.end_position!==void 0&&r.end_position!==null&&(this.end_position=parseInt(r.end_position)),r.parent_number!==void 0&&r.parent_number!==null&&(this.parent_number=parseInt(r.parent_number)),r.comment!==void 0&&r.comment!==null&&(this.comment=r.comment.toString()),r.rating==Og.RAITNG_EXCELLENT?this.rating_excellent=!0:r.rating==Og.RATING_CARDINAL&&(this.rating_cardinal=!0),r.marks!==void 0&&Array.isArray(r.marks))for(const i of r.marks)this.addMarkData(i);!this.key&&this.corrector_id&&(this.key=Og.newKey(this.corrector_id)),!this.item_key&&this.task_id&&this.writer_id&&(this.item_key=Si.buildKey(this.task_id,this.writer_id)),!this.correction_key&&this.task_id&&this.writer_id&&this.corrector_id&&(this.correction_key=Sa.buildKey(this.task_id,this.writer_id,this.corrector_id))}static order(r,i){return r.parent_number<i.parent_number?-1:r.parent_number>i.parent_number?1:r.start_position<i.start_position?-1:r.start_position>i.start_position?1:0}static newKey(r){return"C"+r+"_"+Math.random().toString()}setCorrectionKey(r){this.correction_key=r,this.task_id=Sa.extractTaskId(this.correction_key),this.writer_id=Sa.extractWriterId(this.correction_key),this.corrector_id=Sa.extractCorrectorId(this.correction_key),this.item_key=Si.buildKey(this.task_id,this.writer_id),this.key=Og.newKey(this.corrector_id)}addMarkData(r){this.marks.push(new Rg(r)),this.calculateStartPositon()}updateMarkData(r){for(const i of this.marks)i.key==r.key&&i.setData(r);this.calculateStartPositon()}getMarkIcon(){for(const r of this.marks)return r.getIcon();return null}getMarkByKey(r){for(const i of this.marks)if(i.key==r)return i;return null}getMarkColor(r){const i=r.shape==Rg.SHAPE_CIRCLE||r.shape==Rg.SHAPE_POLYGON||r.shape==Rg.SHAPE_RECTANGLE;return this.prefix=="own"?this.rating_excellent?i?"#E3EFDD80":"#19e62e":this.rating_cardinal?i?"#FBDED180":"#bc4710":i?"#D8E5F480":"#3365ff":this.rating_excellent?i?"#F7F9F780":"#19e62e":this.rating_cardinal?i?"#FCF6F480":"#bc4710":i?"#F5F7FB80":"#3365ff"}getMarkSelectedColor(r){const i=r.shape==Rg.SHAPE_CIRCLE||r.shape==Rg.SHAPE_POLYGON||r.shape==Rg.SHAPE_RECTANGLE;return this.rating_excellent?i?"#BBEBA5A0":"#19e62e":this.rating_cardinal?i?"#FCB494A0":"#bc4710":i?"#94C3FCA0":"#3365ff"}calculateStartPositon(){let r=null;for(const i of this.marks)(r===null||i.pos.y>r)&&(r=i.pos.y);r!==null&&(this.start_position=r)}hasMarkKey(r){for(const i of this.marks)if(i.key==r)return!0;return!1}getData(){let r=[];for(const i of this.marks)r.push(i.getData());return{key:this.key,item_key:this.item_key,correction_key:this.correction_key,task_id:this.task_id,writer_id:this.writer_id,corrector_id:this.corrector_id,start_position:this.start_position,end_position:this.end_position,parent_number:this.parent_number,comment:this.comment,rating:this.rating_excellent?Og.RAITNG_EXCELLENT:this.rating_cardinal?Og.RATING_CARDINAL:"",marks:r}}};Tt(Og,"RATING_CARDINAL","cardinal"),Tt(Og,"RAITNG_EXCELLENT","excellent"),Tt(Og,"ALLOWED_RATING",[Og.RATING_CARDINAL,Og.RAITNG_EXCELLENT]);let UC=Og;const Md=dd("comments"),N0e=Iu("comments",{state:()=>({keys:[],comments:[],showOtherCorrections:!0,markerChange:0,selectionChange:0,filterChange:0,caretRequest:0,selectedKey:"",firstVisibleKey:"",filterKeys:[]}),getters:{selectedComment(t){return t.getComment(t.selectedKey)},selectedLabel(t){let r=t.getComment(t.selectedKey);return r?r.label:""},activeComments(t){return Oe.api(),t.comments.filter(r=>(t.showOtherCorrections||r.correction_key==Oe.corrections().ownKey)&&(t.filterKeys.length==0||t.filterKeys.includes(r.key)))},isOtherCorrectionsShown(t){return t.showOtherCorrections},isFilterActive(t){return t.filterKeys.length>0},getComment(t){return function(i){return t.comments.find(u=>u.key==i)}},getCommentByMarkKey(t){return function(i){return t.comments.find(u=>u.hasMarkKey(i))}},getActiveCommentsInRange(t){return function(i,u){return t.activeComments.filter(g=>g.start_position<=u&&g.end_position>=i)}},getActiveCommentsByStartPosition(t){return function(i){return t.activeComments.filter(u=>u.start_position==i)}},getActiveCommentsByParentNumber(t){return function(i){return t.activeComments.filter(u=>u.parent_number==i)}},getCountOfExcellent(t){return function(i){return t.comments.filter(u=>u.correction_key==i&&u.rating_excellent).length}},getCountOfCardinal(t){return function(i){return t.comments.filter(u=>u.correction_key==i&&u.rating_cardinal).length}}},actions:{setFirstVisibleComment(t){this.firstVisibleKey=t},setMarkerChange(){this.markerChange=Date.now()},setFilterChange(){this.filterChange=Date.now()},setCaretRequest(){this.caretRequest=Date.now()},selectComment(t,r=!0){this.selectedKey=t,r&&(this.selectionChange=Date.now())},async createComment(t,r,i){let u=new UC({start_position:t,end_position:r,parent_number:i});return await this.addComment(u),u.key},async addComment(t){const r=Oe.corrections(),i=Oe.changes();return t.setCorrectionKey(r.ownKey),this.keys.push(t.key),this.filterKeys.length>0&&(this.filterKeys.push(t.key),this.setFilterChange()),this.comments.push(t),await this.sortAndLabelComments(),this.setMarkerChange(),this.selectComment(t.key,!0),await Md.setItem(t.key,JSON.stringify(t.getData())),await Md.setItem("keys",JSON.stringify(this.keys)),await i.setChange(new Ms({type:Ms.TYPE_COMMENT,action:Ms.ACTION_SAVE,key:t.key,item_key:t.item_key})),t.key},async updateComment(t,r=!1){Oe.api();const i=Oe.summaries(),u=Oe.changes();this.keys.includes(t.key)&&t.correction_key==Oe.corrections().ownKey&&!i.isOwnDisabled&&(await Md.setItem(t.key,JSON.stringify(t.getData())),await u.setChange(new Ms({type:Ms.TYPE_COMMENT,action:Ms.ACTION_SAVE,key:t.key,item_key:t.item_key})),r&&(await this.sortAndLabelComments(),this.setMarkerChange()))},async deleteComment(t){await this.removeComment(t),await this.sortAndLabelComments(),this.setMarkerChange()},async removeComment(t){const r=Oe.changes();await Oe.points().deletePointsOfComment(t),this.selectedKey==t&&this.selectComment("",!0);const u=this.comments.find(h=>h.key==t);this.comments=this.comments.filter(h=>h.key!=t),this.keys.includes(t)&&(this.keys=this.keys.filter(h=>h!=t),await Md.setItem("keys",JSON.stringify(this.keys)),await Md.removeItem(t));const g=new Ms({type:Ms.TYPE_COMMENT,action:Ms.ACTION_DELETE,key:u.key,item_key:u.item_key,payload:u.getData()});await r.setChange(g)},async sortAndLabelComments(){Oe.api();const t=Oe.corrections();this.comments=this.comments.sort(UC.order);let r=0,i={};for(const u of this.comments){const g=t.getCorrection(u.correction_key),h=g?g.initials:"??";if(u.parent_number>r){r=u.parent_number;for(const x of t.correctionKeys)i[x]=0;i[u.correction_key]=1}else i[u.correction_key]++;u.label=h+" "+r.toString()+"."+i[u.correction_key].toString(),u.prefix=u.correction_key==Oe.corrections().ownKey?"own":"other"}},setFilterByRating(t,r,i){this.filterKeys=[];for(const u of this.comments)u.correction_key==t&&u.rating_excellent==r&&u.rating_cardinal==i&&this.filterKeys.push(u.key);this.setFilterChange()},setFilterByPoints(t){const r=Oe.points();this.filterKeys=[];for(const i of this.comments)i.correction_key==t&&r.getCommentHasPoints(i.key)&&this.filterKeys.push(i.key);this.setFilterChange()},setFilterByCriterion(t,r){const i=Oe.points();this.filterKeys=[];for(const u of this.comments)u.correction_key==t&&i.getCommentHasPointsForCriterion(u.key,r)&&this.filterKeys.push(u.key);this.setFilterChange()},resetFilter(){this.filterKeys=[],this.setFilterChange()},async setShowOtherCorrections(t){this.showOtherCorrections=!!t,this.markerChange=Date.now(),await Md.setItem("showOtherCorrections",JSON.stringify(this.showOtherCorrections))},async clearStorage(){try{await Md.clear()}catch(t){console.log(t)}this.$reset()},async loadFromStorage(){const t=Oe.api();try{this.$reset();const r=await Md.getItem("keys");r&&(this.keys=JSON.parse(r)),this.showOtherCorrections=!!JSON.parse(await Md.getItem("showOtherCorrections"));for(const i of this.keys){const u=new UC(JSON.parse(await Md.getItem(i)));u.item_key==t.itemKey&&this.comments.push(u)}await this.sortAndLabelComments()}catch(r){console.log(r)}},async loadFromBackend(t){const r=Oe.api();try{this.$reset(),this.showOtherCorrections=!!JSON.parse(await Md.getItem("showOtherCorrections")),await Md.clear();for(const i of t){const u=new UC(i);this.keys.push(u.key),await Md.setItem(u.key,JSON.stringify(u.getData())),u.item_key==r.itemKey&&this.comments.push(u)}await this.sortAndLabelComments(),await Md.setItem("keys",JSON.stringify(this.keys)),await Md.setItem("showOtherCorrections",JSON.stringify(this.showOtherCorrections))}catch(i){console.log(i)}},async getChangedData(t=0){const r=Oe.changes(),i=[];for(const u of r.getChangesFor(Ms.TYPE_COMMENT,t)){const g=await Md.getItem(u.key);g?i.push(r.getChangeDataToSend(u,JSON.parse(g))):i.push(r.getChangeDataToSend(u))}return i}}}),sE=dd("corrections"),{t:cEe}=ud.global,M0e=Iu("corrections",{state:()=>({corrections:{},ownKey:""}),getters:{allCorrections(t){return Object.values(t.corrections)},sortedCorrections(t){return t.allCorrections.sort(Sa.order)},countCorrections(t){return t.allCorrections.length},correctionKeys(t){return Object.keys(t.corrections)},firstCorrection(t){return t.allCorrections.find(r=>r.position==Sa.POSITION_FIRST)??null},secondCorrection(t){return t.allCorrections.find(r=>r.position==Sa.POSITION_SECOND)??null},stitchCorrection(t){return t.allCorrections.find(r=>r.position==Sa.POSITION_STITCH)??null},ownCorrection(t){return t.allCorrections.find(r=>r.key==t.ownKey)??null},firstOtherCorrection(t){return t.allCorrections.sort(Sa.order).find(r=>r.key!=t.ownKey)??null},otherCorrections(t){return t.allCorrections.filter(r=>r.key!=t.ownKey).sort(Sa.order)},getCorrection(t){return function(i){return t.corrections[i]}}},actions:{async clearStorage(){try{await sE.clear(),this.$reset()}catch(t){console.log(t)}},async loadFromStorage(){try{this.$reset();const t=await sE.getItem("keys")??[];for(const r of t)this.corrections[r]=new Sa(await sE.getItem(r));this.updateOwnKey()}catch(t){console.log(t)}},async loadFromBackend(t=[]){try{await sE.clear(),this.$reset();for(const r of t){const i=new Sa(r);this.corrections[i.getKey()]=i,await sE.setItem(i.getKey(),i.getData())}await sE.setItem("keys",Object.keys(this.corrections)),this.updateOwnKey()}catch(r){console.log(r)}},updateOwnKey(){const t=Oe.api();for(const r of Object.values(this.corrections))if(r.item_key==t.itemKey&&r.user_id==parseInt(t.userId)){this.ownKey=r.key;break}}}});class DE{constructor(r={}){Tt(this,"key","");Tt(this,"id",null);Tt(this,"task_id",null);Tt(this,"corrector_id",null);Tt(this,"title","");Tt(this,"description","");Tt(this,"points",0);Tt(this,"is_general",!1);r.id!==void 0&&r.id!==null&&(this.id=parseInt(r.id)),r.task_id!==void 0&&r.task_id!==null&&(this.task_id=parseInt(r.task_id)),r.corrector_id!==void 0&&r.corrector_id!==null&&(this.corrector_id=parseInt(r.corrector_id)),r.title!==void 0&&r.title!==null&&(this.title=r.title.toString()),r.description!==void 0&&r.description!==null&&(this.description=r.description.toString()),r.points!==void 0&&r.points!==null&&(this.points=parseInt(r.points)),r.is_general!==void 0&&r.is_general!==null&&(this.is_general=!!r.is_general),this.key=DE.buildKey(this.id)}static order(r,i){return r.title<i.title?-1:r.title>i.title?1:0}static buildKey(r){return"C"+r}static extractCriterionId(r){return parseInt(r.substring(1))}getKey(){return this.key}getData(){return Object.assign({},this)}}const rE=dd("criteria"),L0e=Iu("criteria",{state:()=>({criteria:{}}),getters:{allCriteria(t){return Object.values(t.criteria)},ownCriteria(t){const r=Oe.corrections().ownCorrection;return r?t.allCriteria.filter(i=>i.task_id===r.task_id&&(i.corrector_id===null||i.corrector_id===r.corrector_id)):[]},hasCommentCriteria(t){return!!t.allCriteria.find(r=>!r.is_general)},hasOwnCriteria(t){return!!t.ownCriteria},hasOwnGeneralCriteria(t){return!!t.ownCriteria.find(r=>r.is_general)},hasOwnCommentCriteria(t){return!!t.ownCriteria.find(r=>!r.is_general)},getCorrectionCriteria(t){return function(i){const u=Sa.extractTaskId(i),g=Sa.extractCorrectorId(i);return t.allCriteria.filter(h=>h.task_id===u&&(h.corrector_id===null||h.corrector_id===g))}},getCorrectionGeneralCriteria(t){return function(i){return t.getCorrectionCriteria(i).filter(u=>u.is_general)}},getCorrectionCommentCriteria(t){return function(i){return t.getCorrectionCriteria(i).filter(u=>!u.is_general)}},getCorrectionHasCriteria(t){return function(i){return!!t.getCorrectionCriteria(i)}},getCorrectionHasGeneralCriteria(t){return function(i){return!!t.getCorrectionGeneralCriteria(i)}},getCorrectionHasCommentCriteria(t){return function(i){return!!t.getCorrectionCommentCriteria(i)}}},actions:{async clearStorage(){try{this.$reset(),await rE.clear()}catch(t){console.log(t)}},async loadFromStorage(){try{this.$reset();const t=await rE.getItem("keys")??[];for(const r of t)this.criteria[r]=new DE(await rE.getItem(r))}catch(t){console.log(t)}},async loadFromBackend(t=[]){try{await rE.clear(),this.$reset();for(const r of t){const i=new DE(r);this.criteria[i.getKey()]=i,await rE.setItem(i.getKey(),i.getData())}await rE.setItem("keys",Object.keys(this.criteria))}catch(r){console.log(r)}}}}),aU=dd("essay"),B0e=Iu("essay",{state:()=>({text:null}),getters:{},actions:{async clearStorage(){try{await aU.clear(),this.$reset()}catch(t){console.log(t)}},async loadFromStorage(){try{const t=await aU.getItem("essay");this.$patch(t)}catch(t){console.log(t)}},async loadFromBackend(t){try{await aU.setItem("essay",t),this.$patch(t)}catch(r){console.log(r)}}}}),_1=dd("items"),F0e=Iu("items",{state:()=>({items:{},firstKey:null,lastKey:null,previousKey:null,nextKey:null}),getters:{currentKey(t){return Oe.api().itemKey},currentItem(t){return t.items[Oe.api().itemKey]},countItems(t){return Object.keys(t.items).length},hasItems(t){return t.countItems>0},sortedItems(t){if(Oe.api().itemKey&&t.items[Oe.api().itemKey]){const r=Si.extractTaskId(Oe.api().itemKey);return Object.values(t.items).filter(i=>i.task_id==r).toSorted(Si.order)}else return Object.values(t.items).toSorted(Si.order)},canAct(t){return t.canCorrect||t.canAuthorize||t.canRevise},canCorrect(t){var r;return(r=t.currentItem)==null?void 0:r.can_correct},canAuthorize(t){var r;return(r=t.currentItem)==null?void 0:r.can_authorize},canRevise(t){var r;return(r=t.currentItem)==null?void 0:r.can_revise},isOpen(t){var r;return((r=t.currentItem)==null?void 0:r.correction_status)===Si.STATUS_OPEN},isInRevision(t){var r,i;return((r=t.currentItem)==null?void 0:r.correction_status)===Si.STATUS_APPROXIMATION||((i=t.currentItem)==null?void 0:i.correction_status)===Si.STATUS_CONSULTING},isInStitch(t){var r;return((r=t.currentItem)==null?void 0:r.correction_status)===Si.STATUS_STITCH},isFinal(t){var r;return((r=t.currentItem)==null?void 0:r.correction_status)===Si.STATUS_FINALIZED},getItem(t){return function(i,u=null){return t.items[i]??u}},getByTask(t){return function(i){const u=Object.values(t.items).find(g=>{var h;return g.getTaskKey()==i&&g.writer_id==((h=t.currentItem)==null?void 0:h.writer_id)});return u||Object.values(t.items).toSorted(Si.order).find(g=>g.getTaskKey()==i)}}},actions:{async clearStorage(){try{this.$reset(),await _1.clear()}catch(t){console.log(t)}},async loadFromStorage(){try{this.$reset();const t=await _1.getItem("keys")??[];for(const r of t)this.items[r]=new Si(await _1.getItem(r));this.updateCurrentKeys()}catch(t){console.log(t)}},async loadFromBackend(t=[]){try{await _1.clear(),this.$reset();for(const r of t){const i=new Si(r);this.items[i.getKey()]=i,await _1.setItem(i.getKey(),i.getData())}await _1.setItem("keys",Object.keys(this.items)),this.updateCurrentKeys()}catch(r){console.log(r)}},async saveItem(t){try{this.items[t.getKey()]=t,await _1.setItem(t.getKey(),JSON.stringify(t.getData())),await _1.setItem("keys",Object.keys(this.items))}catch(r){console.log(r)}},async changeItem(t){t&&!Oe.api().isLoading&&(Oe.changes().countChanges==0||await Oe.api().saveChangesToBackend(!0)?await Oe.api().loadItemFromBackend(t):Oe.layout().showSendFailure=!0)},async setCurrentGradingStatus(t){this.currentItem.grading_status=t,this.currentItem.title=Si.buildTitle(this.currentItem),await _1.setItem(this.currentItem.getKey(),JSON.stringify(this.currentItem.getData()))},updateCurrentKeys(){var t,r;if(this.countItems){const i=this.sortedItems,u=0,g=i.length-1;this.firstKey=(t=i[u])==null?void 0:t.getKey(),this.lastKey=(r=i[g])==null?void 0:r.getKey(),this.previousKey=null,this.nextKey=null;for(let h=u;h<=g;h++){let x=i[h];if((x==null?void 0:x.getKey())==this.currentKey){this.previousKey=h>u?i[h-1].getKey():null,this.nextKey=h<g?i[h+1].getKey():null;break}}}}}}),lU=dd("layout"),$0e=Iu("layout",{state:()=>({expandedColumn:"none",leftContent:"essay",rightContent:"marking",showMarkingComments:!0,showMarkingGeneralPoints:!0,showMarkingCommentPoints:!0,showMarkingText:!1,showLeftSummaryCriteria:!1,showRightSummaryCriteria:!1,showLeftSummaryText:!0,showRightSummaryText:!0,showLeftSummaryRevision:!1,showRightSummaryRevision:!1,leftCorrectionKey:"",rightCorrectionKey:"",showIncludesPopup:!1,initFailure:"",initialized:!1,showItemLoadFailure:!1,showSendFailure:!1,showDataReplaceConfirmation:!1,showItemReplaceConfirmation:!1,focusTarget:"",focusChange:0}),getters:{hasInitFailure:t=>t.initFailure!=="",isLeftExpanded:t=>t.expandedColumn=="left",isRightExpanded:t=>t.expandedColumn=="right",isInstructionsSelected:t=>t.leftContent=="instructions",isInstructionsPdfSelected:t=>t.leftContent=="instructionsPdf",isSolutionSelected:t=>t.leftContent=="solution",isSolutionPdfSelected:t=>t.leftContent=="solutionPdf",isResourcesSelected:t=>t.leftContent=="resources",isEssaySelected:t=>t.leftContent=="essay",isSummarySelected:t=>t.rightContent=="summary",isMarkingSelected:t=>t.rightContent=="marking",isLeftCorrectionSelected:t=>t.leftContent=="correction",isRightCorrectionSelected:t=>t.rightContent=="correction",isInstructionsVisible:t=>t.isInstructionsSelected&&t.isLeftVisible,isInstructionsPdfVisible:t=>t.isInstructionsPdfSelected&&t.isLeftVisible,isSolutionVisible:t=>t.isSolutionSelected&&t.isLeftVisible,isSolutionPdfVisible:t=>t.isSolutionPdfSelected&&t.isLeftVisible,isResourcesVisible:t=>t.isResourcesSelected&&t.isLeftVisible,isEssayVisible:t=>t.isEssaySelected&&t.isLeftVisible,isSummaryVisible:t=>t.isSummarySelected&&t.isRightVisible,isMarkingVisible:t=>t.isMarkingSelected&&t.isRightVisible,isLeftCorrectionVisible:t=>t.isLeftCorrectionSelected&&t.isLeftVisible,isRightCorrectionVisible:t=>t.isRightCorrectionSelected&&t.isRightVisible,isLeftVisible(t){return!Oe.api().isLoading&&t.expandedColumn!="right"},isRightVisible(t){return!Oe.api().isLoading&&t.expandedColumn!="left"},leftCorrectionTitle(t){const i=Oe.corrections().getCorrection(t.leftCorrectionKey);return i?"Korrektur von "+i.title+" "+Si.buildPositionText(i.position):""},rightCorrectionTitle(t){const i=Oe.corrections().getCorrection(t.rightCorrectionKey);return i?"Korrektur von "+i.title+" "+Si.buildPositionText(i.position):""},getCorrectionIsVisible(t){return function(i){return t.leftCorrectionKey==i&&t.isLeftCorrectionVisible||t.rightCorrectionKey==i&&t.isRightCorrectionVisible}}},actions:{async clearStorage(){try{await lU.clear()}catch(t){console.log(t)}this.$reset()},async loadFromStorage(){try{this.$reset();const t=await lU.getItem("layout");t&&(this.expandedColumn=t.expandedColumn,this.rightContent=t.rightContent,this.showMarkingComments=!!t.showMarkingComments,this.showMarkingGeneralPoints=!!t.showMarkingGeneralPoints,this.showMarkingCommentPoints=!!t.showMarkingCommentPoints,this.showMarkingText=!!t.showMarkingText,this.showLeftSummaryCriteria=!!t.showLeftSummaryCriteria,this.showRightSummaryCriteria=!!t.showRightSummaryCriteria,this.showLeftSummaryText=!!t.showLeftSummaryText,this.showRightSummaryText=!!t.showRightSummaryText),!this.showMarkingComments&&!this.showMarkingGeneralPoints&&!this.showMarkingCommentPoints&&(this.showMarkingComments=!0),!this.showLeftSummaryCriteria&&!this.showLeftSummaryText&&(this.showLeftSummaryCriteria=!0),!this.showRightSummaryCriteria&&!this.showRightSummaryText&&(this.showRightSummaryCriteria=!0)}catch(t){console.log(t)}},async saveToStorage(){try{await lU.setItem("layout",{expandedColumn:this.expandedColumn,leftContent:this.leftContent,rightContent:this.rightContent,showMarkingComments:this.showMarkingComments,showMarkingGeneralPoints:this.showMarkingGeneralPoints,showMarkingCommentPoints:this.showMarkingCommentPoints,showMarkingText:this.showMarkingText,showLeftSummaryCriteria:this.showLeftSummaryCriteria,showRightSummaryCriteria:this.showRightSummaryCriteria,showLeftSummaryText:this.showLeftSummaryText,showRightSummaryText:this.showRightSummaryText})}catch(t){console.log(t)}},initForItem(){var t,r;Oe.items().isInRevision||Oe.items().isInStitch?(this.showRightSummaryCriteria=!1,this.showRightSummaryRevision=!0,this.leftContent="correction",this.rightContent="summary",this.leftCorrectionKey=((t=Oe.corrections().firstOtherCorrection)==null?void 0:t.key)??"",(r=Oe.summaries().getForCorrection(this.leftCorrectionKey))!=null&&r.isRevised&&(this.showLeftSummaryCriteria=!1,this.showLeftSummaryRevision=!0),Oe.settings().hasSummaryOverview||(this.showLeftSummaryCriteria=!1,this.showRightSummaryCriteria=!1)):(this.leftContent="essay",this.rightContent="marking",Oe.settings().Task.enable_comments||(this.showMarkingText=!0)),this.expandedColumn="none",this.saveToStorage()},showInstructions(){this.leftContent="instructions",this.setLeftVisible(),this.saveToStorage()},showInstructionsPdf(){this.leftContent="instructionsPdf",this.setLeftVisible(),this.saveToStorage()},showSolution(){this.leftContent="solution",this.setLeftVisible(),this.saveToStorage()},showSolutionPdf(){this.leftContent="solutionPdf",this.setLeftVisible(),this.saveToStorage()},showResources(){this.leftContent="resources",this.setLeftVisible(),this.saveToStorage()},showLeftCorrection(){this.leftContent="correction",this.setLeftVisible(),this.saveToStorage()},showRightCorrection(){this.rightContent="correction",this.setRightVisible(),this.saveToStorage()},showEssay(){this.leftContent="essay",this.setLeftVisible(),Oe.settings().Task.enable_comments&&(this.rightContent="marking",this.setRightVisible()),this.saveToStorage()},showMarking(){this.rightContent="marking",this.setRightVisible(),this.saveToStorage()},showSummary(){this.rightContent="summary",this.setRightVisible(),this.saveToStorage()},setLeftVisible(t=null){if(this.isLeftVisible||(this.expandedColumn="left",this.saveToStorage()),t===null)switch(this.leftContent){case"instructions":case"solution":case"essay":t=this.leftContent;break}this.setFocusChange(t??"appHeadLeft")},setRightVisible(t=null){this.isRightVisible||(this.expandedColumn="right",this.saveToStorage()),this.setFocusChange(t??"appHeadRight")},setLeftExpanded(t){this.expandedColumn=t?"left":"none",this.saveToStorage()},setRightExpanded(t){this.expandedColumn=t?"right":"none",this.saveToStorage()},focusMarkingCommentPointsSum(){this.showMarkingComments||(this.showMarkingComments=!0,this.saveToStorage()),this.setFocusChange("MarkingCommentPointsSum")},focusMarkingGeneralPoints(){this.showMarkingGeneralPoints||(this.showMarkingGeneralPoints=!0,this.saveToStorage()),this.setFocusChange("MarkingGeneralPoints")},focusMarkingCommentPoints(){this.showMarkingCommentPoints||(this.showMarkingCommentPoints=!0,this.saveToStorage()),this.setFocusChange("MarkingCommentPoints")},toggleMarkingComments(){this.showMarkingComments=!this.showMarkingComments,this.saveToStorage()},toggleMarkingGeneralPoints(){this.showMarkingGeneralPoints=!this.showMarkingGeneralPoints,this.saveToStorage()},toggleMarkingCommentPoints(){this.showMarkingCommentPoints=!this.showMarkingCommentPoints,this.saveToStorage()},toggleMarkingText(){this.showMarkingText=!this.showMarkingText,this.saveToStorage()},toggleLeftSummaryCriteria(){this.showLeftSummaryCriteria=!this.showLeftSummaryCriteria,this.saveToStorage()},toggleRightSummaryCriteria(){this.showRightSummaryCriteria=!this.showRightSummaryCriteria,this.saveToStorage()},toggleLeftSummaryText(){this.showLeftSummaryText=!this.showLeftSummaryText,this.saveToStorage()},toggleRightSummaryText(){this.showRightSummaryText=!this.showRightSummaryText,this.saveToStorage()},toggleLeftSummaryRevision(){this.showLeftSummaryRevision=!this.showLeftSummaryRevision,this.saveToStorage()},toggleRightSummaryRevision(){this.showRightSummaryRevision=!this.showRightSummaryRevision,this.saveToStorage()},selectCorrection(t){Oe.api();const r=Oe.corrections();this.leftCorrectionKey==t?this.showLeftCorrection():this.rightCorrectionKey==t?this.showRightCorrection():Oe.corrections().ownKey?(this.leftCorrectionKey=t,this.showLeftCorrection()):r.countCorrections==1?(this.rightCorrectionKey=t,this.showRightCorrection()):this.leftCorrectionKey==""?(this.leftCorrectionKey=t,this.showLeftCorrection()):this.rightCorrectionKey==""?(this.rightCorrectionKey=t,this.showRightCorrection()):(this.leftCorrectionKey=t,this.showLeftCorrection())},setFocusChange(t){this.focusTarget=t,this.focusChange=Date.now()},handleKeyDown(t){if(t.altKey)switch(t.key){case"0":this.setFocusChange("header");break;case"1":this.setLeftVisible();break;case"2":this.setRightVisible();break;case"#":this.setFocusChange("navigation");break}}}});class PR{constructor(r={}){Tt(this,"id",null);Tt(this,"key",null);Tt(this,"min_points",0);Tt(this,"title",null);Tt(this,"statement",null);r.id!==void 0&&r.id!==null&&(this.id=parseInt(r.id)),r.min_points!==void 0&&r.min_points!==null&&(this.min_points=parseFloat(r.min_points)),r.title!==void 0&&r.title!==null&&(this.title=r.title.toString()),r.statement!==void 0&&r.statement!==null&&(this.statement=r.statement.toString()),this.key===null&&(this.key=PR.buildKey(this.id))}static order(r,i){return r.min_points<i.min_points?-1:r.min_points>i.min_points?1:0}static buildKey(r){return"L"+r}getKey(){return this.key}getData(){return Object.assign({},this)}}const iE=dd("levels"),V0e=Iu("levels",{state:()=>({levels:{}}),getters:{hasLevels:t=>Object.keys(t.levels).length>0,sortedLevels:t=>Object.values(t.levels).toSorted(PR.order),getLevel(t){return function(i){return t.levels[i]}},getLevelForPoints(t){return function(i){if(Number.isNaN(i))return null;let u=null;for(const g of t.sortedLevels){if(g.min_points>i)break;u=g}return u}}},actions:{async clearStorage(){try{this.$reset(),await iE.clear()}catch(t){console.log(t)}},async loadFromStorage(){try{this.$reset();const t=await iE.getItem("keys")??[];for(const r of t)this.levels[r]=new PR(await iE.getItem(r))}catch(t){console.log(t)}},async loadFromBackend(t=[]){try{await iE.clear(),this.$reset();for(const r of t){const i=new PR(r);this.levels[i.getKey()]=i,await iE.setItem(i.getKey(),i.getData())}await iE.setItem("keys",Object.keys(this.levels))}catch(r){console.log(r)}}}});class _F{constructor(r={}){Tt(this,"key","");Tt(this,"item_key","");Tt(this,"id",null);Tt(this,"task_id",null);Tt(this,"writer_id",null);Tt(this,"page_no",0);Tt(this,"width",0);Tt(this,"height",0);Tt(this,"url",null);Tt(this,"thumb_width",null);Tt(this,"thumb_height",null);Tt(this,"thumb_url",null);Tt(this,"objectUrl",null);Tt(this,"thumbObjectUrl",null);r.id!==void 0&&r.id!==null&&(this.id=parseInt(r.id)),r.task_id!==void 0&&r.task_id!==null&&(this.task_id=parseInt(r.task_id)),r.writer_id!==void 0&&r.writer_id!==null&&(this.writer_id=parseInt(r.writer_id)),r.page_no!==void 0&&r.page_no!==null&&(this.page_no=parseInt(r.page_no)),r.width!==void 0&&r.width!==null&&(this.width=parseInt(r.width)),r.height!==void 0&&r.height!==null&&(this.height=parseInt(r.height)),r.url!==void 0&&r.url!==null&&(this.url=r.url.toString()),r.thumb_width!==void 0&&r.thumb_width!==null&&(this.thumb_width=parseInt(r.thumb_width)),r.thumb_height!==void 0&&r.thumb_height!==null&&(this.thumb_height=parseInt(r.thumb_height)),r.thumb_url!==void 0&&r.thumb_url!==null&&(this.thumb_url=r.thumb_url.toString()),this.key=_F.buildKey(this.id),this.item_key=Si.buildKey(this.task_id,this.writer_id)}static buildKey(r){return"P"+r}static order(r,i){return r.position<i.position?-1:r.position>i.position?1:0}getKey(){return this.key}getData(){return Object.assign({},this)}}const aE=dd("pages"),z0e=Iu("pages",{state:()=>({pages:{},selectedKey:"",minPage:0,maxPage:0,loadedThumbs:0,loadedImages:0}),getters:{hasPages(t){return Object.keys(t.pages).length>0},selectedPage(t){return t.pages[t.selectedKey]??null},selectedPageNo(t){var r;return((r=t.selectedPage)==null?void 0:r.page_no)??null},currentPages(t){return Object.values(t.pages)},getPage(t){return function(i){return t.pages[i]??null}},getPageByPageNo(t){return function(i){return t.currentPages.find(u=>u.page_no==i)??null}}},actions:{selectPage(t){this.selectedKey!=t&&(this.selectedKey=t)},selectByPageNo(t){for(const r of this.currentPages)if(r.page_no==t)return this.selectedKey=r.key,!0;return!1},calculateMinMaxPage(){let t=null,r=null;for(const i of this.currentPages)(t===null||i.page_no<t)&&(t=i.page_no),(r===null||i.page_no>r)&&(r=i.page_no);t!==null&&(this.minPage=t),r!==null&&(this.maxPage=r)},async clearStorage(){try{await aE.clear()}catch(t){console.log(t)}this.purgeFiles(),this.$reset()},async loadFromStorage(){const t=Oe.api();try{this.purgeFiles(),this.$reset();const r=await aE.getItem("keys");for(const i of r){const u=new _F(await aE.getItem(i));u.item_key==t.itemKey&&(this.pages[i]=u)}this.calculateMinMaxPage(),this.selectByPageNo(this.minPage),this.loadFiles()}catch(r){console.log(r)}},async loadFromBackend(t){const r=Oe.api();try{await aE.clear(),this.purgeFiles(),this.$reset();for(const i of t){const u=new _F(i);u.url=r.getImageUrl(u),u.thumb_url=r.getThumbUrl(u),u.item_key==r.itemKey&&(await aE.setItem(u.getKey(),u.getData()),this.pages[u.key]=u)}await aE.setItem("keys",Object.keys(this.pages)),this.calculateMinMaxPage(),this.selectByPageNo(this.minPage),this.loadFiles()}catch(i){console.log(i)}},async loadFiles(){try{for(const t in this.pages){const r=this.pages[t];let i;r&&(i=await _a(r.url,{responseType:"blob",timeout:6e4}),this.loadedImages++,i=await _a(r.thumb_url,{responseType:"blob",timeout:6e4}),this.loadedThumbs++)}}catch(t){console.error(t)}},purgeFiles(){for(const t in this.pages){const r=this.pages[t];r&&(r.thumbObjectUrl!==null&&(r.thumbObjectUrl=null),r.objectUrl!==null&&(r.objectUrl=null))}this.loadedThumbs=0,this.loadedImages=0}}});class SE{constructor(r={}){Tt(this,"key","");Tt(this,"item_key","");Tt(this,"correction_key","");Tt(this,"comment_key","");Tt(this,"criterion_key","");Tt(this,"task_id",null);Tt(this,"writer_id",null);Tt(this,"corrector_id",null);Tt(this,"criterion_id",null);Tt(this,"points",0);r.key!==void 0&&r.key!==null&&(this.key=r.key.toString()),r.comment_key!==void 0&&r.comment_key!==null&&(this.comment_key=r.comment_key.toString()),r.task_id!==void 0&&r.task_id!==null&&(this.task_id=parseInt(r.task_id)),r.writer_id!==void 0&&r.writer_id!==null&&(this.writer_id=parseInt(r.writer_id)),r.corrector_id!==void 0&&r.corrector_id!==null&&(this.corrector_id=parseInt(r.corrector_id)),r.criterion_id!==void 0&&r.criterion_id!==null&&(this.criterion_id=parseInt(r.criterion_id)),r.points!==void 0&&r.points!==null&&(this.points=parseFloat(r.points)),!this.key&&this.corrector_id&&(this.key=SE.newKey(this.corrector_id)),!this.item_key&&this.task_id&&this.writer_id&&(this.item_key=Si.buildKey(this.task_id,this.writer_id)),!this.correction_key&&this.task_id&&this.writer_id&&this.corrector_id&&(this.correction_key=Sa.buildKey(this.task_id,this.writer_id,this.corrector_id)),!this.criterion_key&&this.criterion_id&&(this.criterion_key=DE.buildKey(this.criterion_id))}static newKey(r){return"P"+r+"_"+Math.random().toString()}setKeys(r,i,u){this.correction_key=r,this.comment_key=i,this.criterion_key=u,this.task_id=Sa.extractTaskId(this.correction_key),this.writer_id=Sa.extractWriterId(this.correction_key),this.corrector_id=Sa.extractCorrectorId(this.correction_key),u&&(this.criterion_id=DE.extractCriterionId(this.criterion_key)),this.item_key=Si.buildKey(this.task_id,this.writer_id),this.key=SE.newKey(this.corrector_id)}setPoints(r){this.points=parseFloat(r)}getData(){return Object.assign({},this)}}const Zh=dd("points"),H0e=Iu("points",{state:()=>({keys:[],points:[],unsentChanges:{}}),getters:{getCommentHasPoints(t){return function(i){return t.points.find(u=>u.comment_key==i&&u.points!=0)!==void 0}},getCommentHasPointsForCriterion(t){return function(i,u){return t.points.find(g=>g.comment_key==i&&g.criterion_key==u&&g.points!=0)!==void 0}},getSumOfPointsForCorrection(t){return function(i,u=null,g=null){let h=0;return t.points.filter(x=>x.correction_key==i&&(u===null||u==(x.comment_key!=""))&&(g===null||g==(x.criterion_key!=""))).forEach(x=>h+=x.points),h}},getSumOfPointsForComment(t){return function(i){let u=0;return t.points.filter(g=>g.comment_key==i).forEach(g=>u+=g.points),u}},getSumOfPointsForCriterion(t){return function(i,u){let g=0;return t.points.filter(h=>h.criterion_key==i.key&&h.correction_key==u).forEach(h=>g+=h.points),g}},getPointsOfCriterionExceeded(t){return function(i,u){let g=0;const h=(i==null?void 0:i.key)??"";return t.points.filter(x=>x.criterion_key==h&&x.correction_key==u).forEach(x=>g+=x.points),g>(i?i.points:Oe.settings().Assessment.max_points)}},getObjectsForCorrection(t){return function(i){return t.points.filter(u=>u.correction_key==i)}},getObjectByData(t){return function(i,u,g){return t.points.find(h=>h.correction_key==i&&h.comment_key==u&&h.criterion_key==g)}}},actions:{async setValueByCommentOrCriterion(t,r,i){Oe.api();let u=this.getObjectByData(Oe.corrections().ownKey,t,r);u?i?(u.setPoints(i),this.updatePoints(u)):this.deletePoints(u.key):(t||r)&&i&&this.createPoints(t,r,i)},async createPoints(t,r,i){const u=Oe.corrections(),g=new SE({points:i});g.setKeys(u.ownKey,t,r),this.keys.push(g.key),this.points.push(g),await Zh.setItem(g.key,JSON.stringify(g.getData())),await Zh.setItem("keys",JSON.stringify(this.keys)),await Oe.changes().setChange(new Ms({type:Ms.TYPE_POINTS,action:Ms.ACTION_SAVE,key:g.key,item_key:g.item_key}))},async updatePoints(t){this.keys.includes(t.key)&&(await Zh.setItem(t.key,JSON.stringify(t.getData())),await Oe.changes().setChange(new Ms({type:Ms.TYPE_POINTS,action:Ms.ACTION_SAVE,key:t.key,item_key:t.item_key})))},async deletePoints(t){const r=this.points.find(g=>g.key==t);this.points=this.points.filter(g=>g.key!=t),this.keys.includes(t)&&(this.keys=this.keys.filter(g=>g!=t),await Zh.setItem("keys",JSON.stringify(this.keys)),await Zh.removeItem(t));const i=Oe.changes(),u=new Ms({type:Ms.TYPE_POINTS,action:Ms.ACTION_DELETE,key:r.key,item_key:r.item_key,payload:r.getData()});await i.setChange(u)},async deletePointsOfComment(t){this.points.filter(r=>r.comment_key==t).forEach(r=>this.deletePoints(r.key))},async clearStorage(){try{await Zh.clear()}catch(t){console.log(t)}this.$reset()},async loadFromStorage(){const t=Oe.api();try{this.$reset();const r=await Zh.getItem("keys");r&&(this.keys=JSON.parse(r)),this.points=[];for(const i of this.keys){let u=JSON.parse(await Zh.getItem(i)),g=new SE(u);g.item_key==t.itemKey&&this.points.push(g)}}catch(r){console.log(r)}},async loadFromBackend(t){const r=Oe.api();try{await Zh.clear(),this.$reset();for(const i of t){const u=new SE(i);this.keys.push(u.key),await Zh.setItem(u.key,JSON.stringify(u.getData())),u.item_key==r.itemKey&&this.points.push(u)}await Zh.setItem("keys",JSON.stringify(this.keys))}catch(i){console.log(i)}},async getChangedData(t=0){const r=Oe.changes(),i=[];for(const u of r.getChangesFor(Ms.TYPE_POINTS,t)){const g=await Zh.getItem(u.key);g?i.push(r.getChangeDataToSend(u,JSON.parse(g))):i.push(r.getChangeDataToSend(u))}return i}}}),cU=dd("preferences"),U0e=Iu("preferences",{state:()=>({essay_page_zoom:.25,essay_text_zoom:1,summary_text_zoom:1}),getters:{},actions:{async clearStorage(){try{await cU.clear()}catch(t){console.log(t)}this.$reset()},async loadFromStorage(){try{const t=await cU.getItem("preferences");t&&this.$patch(t)}catch(t){console.log(t)}},async saveToStorage(){try{await cU.setItem("preferences",Object.assign({},this.$state))}catch(t){console.log(t)}},async loadFromBackend(t){try{t.essay_text_zoom&&(this.essay_text_zoom=t.essay_text_zoom),t.essay_page_zoom&&(this.essay_page_zoom=t.essay_page_zoom),t.summary_text_zoom&&(this.summary_text_zoom=t.summary_text_zoom),await this.saveToStorage()}catch(r){console.log(r)}},async update(){const t=Oe.changes(),r=Oe.api();await this.saveToStorage(),Oe.corrections().ownKey&&await t.setChange(new Ms({type:Ms.TYPE_PREFERENCES,action:Ms.ACTION_SAVE,key:"preferences",item_key:r.itemKey}))},async getChangedData(t=0){const r=Oe.changes(),i=[];for(const u of r.getChangesFor(Ms.TYPE_PREFERENCES,t)){i.push(r.getChangeDataToSend(u,Object.assign({},this.$state)));break}return i},zoomEssayPageIn(){this.essay_page_zoom=this.essay_page_zoom*1.1,this.update()},zoomEssayPageOut(){this.essay_page_zoom=this.essay_page_zoom*.9,this.update()},zoomEssayTextIn(){this.essay_text_zoom=this.essay_text_zoom*1.1,this.update()},zoomEssayTextOut(){this.essay_text_zoom=this.essay_text_zoom*.9,this.update()},zoomSummaryTextIn(){this.summary_text_zoom=this.summary_text_zoom*1.1,this.update()},zoomSummaryTextOut(){this.summary_text_zoom=this.summary_text_zoom*.9,this.update()}}}),Va=class Va{constructor(r={}){Tt(this,"id","");Tt(this,"task_id",null);Tt(this,"title","");Tt(this,"type",null);Tt(this,"embedded",!0);Tt(this,"source","");Tt(this,"url","");Tt(this,"mimetype","");Tt(this,"size",null);Tt(this,"key",null);r.id!==void 0&&r.id!==null&&(this.id=parseInt(r.id)),r.task_id!==void 0&&r.task_id!==null&&(this.task_id=parseInt(r.task_id)),r.title!==void 0&&r.title!==null&&(this.title=r.title.toString()),r.type!==void 0&&Va.ALLOWED_TYPES.includes(r.type)&&(this.type=r.type.toString()),r.embedded!==void 0&&r.embedded!==null&&(this.embedded=!!r.embedded),r.source!==void 0&&r.source!==null&&(this.source=r.source.toString()),r.url!==void 0&&r.url!==null&&(this.url=r.url.toString()),r.mimetype!==void 0&&r.mimetype!==null&&(this.mimetype=r.mimetype),r.size!==void 0&&r.size!==null&&(this.size=parseInt(r.size)),this.key=Va.buildKey(this.id)}static buildKey(r){return"R"+r.toString()}static order(r,i){return r.title<i.title?-1:r.title>i.title?1:0}getKey(){return this.key}getData(){return Object.assign({},this)}isPdf(){return[Va.TYPE_FILE,Va.TYPE_SOLUTION,Va.TYPE_INSTRUCTION].includes(this.type)}isExternalUrl(){return this.type==Va.TYPE_URL&&!this.embedded}isEmbeddedUrl(){return this.type==Va.TYPE_URL&&this.embedded}isEmbeddedSelectable(){return this.type==Va.TYPE_FILE||this.type==Va.TYPE_URL&&this.embedded}canBeAnnoteted(){return[Va.TYPE_FILE,Va.TYPE_SOLUTION,Va.TYPE_INSTRUCTION].includes(this.type)}hasFileToLoad(){return[Va.TYPE_FILE,Va.TYPE_SOLUTION,Va.TYPE_INSTRUCTION].includes(this.type)}};Tt(Va,"TYPE_FILE","file"),Tt(Va,"TYPE_URL","url"),Tt(Va,"TYPE_INSTRUCTION","instruct"),Tt(Va,"TYPE_SOLUTION","solution"),Tt(Va,"ALLOWED_TYPES",[Va.TYPE_FILE,Va.TYPE_URL,Va.TYPE_INSTRUCTION,Va.TYPE_SOLUTION]);let rb=Va;const Rx=dd("resources"),W0e=Iu("resources",{state:()=>({resources:{},activeKey:""}),getters:{currentResources(t){const r=Oe.tasks();return Object.values(t.resources).filter(i=>{var u;return i.task_id===((u=r.currentTask)==null?void 0:u.task_id)||i.task_id===null}).sort(rb.order)},hasResources(t){return t.currentResources.length>0},hasInstruction(t){return!!t.currentResources.find(r=>r.type===rb.TYPE_INSTRUCTION)},hasSolution(t){return!!t.currentResources.find(r=>r.type===rb.TYPE_SOLUTION)},instruction(t){return t.currentResources.find(r=>r.type===rb.TYPE_INSTRUCTION)},solution(t){return t.currentResources.find(r=>r.type===rb.TYPE_SOLUTION)},fileOrUrlResources(t){return t.currentResources.filter(r=>r.type==rb.TYPE_FILE||r.type===rb.TYPE_URL)},activeResource(t){return t.currentResources.find(r=>r.key===t.activeKey)},getResourceIsActive(t){return r=>r.key===t.activeKey},getResourceIsAvailable(t){return r=>!!t.currentResources.find(i=>i.key===r.key)}},actions:{async clearStorage(){try{this.$reset(),await Rx.clear()}catch(t){console.log(t)}},async loadFromStorage(){try{this.$reset();const t=await Rx.getItem("keys")??[];for(const r of t)this.resources[r]=new rb(await Rx.getItem(r));this.activeKey=await Rx.getItem("activeKey")??"",await this.loadFiles()}catch(t){console.log(t)}},async loadFromBackend(t=[]){const r=Oe.api();try{await Rx.clear(),this.$reset();for(const i of t){const u=new rb(i);u.hasFileToLoad()&&(u.url=r.getResourceUrl(u)),this.resources[u.getKey()]=u,await Rx.setItem(u.getKey(),u.getData())}await Rx.setItem("keys",Object.keys(this.resources)),this.loadFiles(),this.selectFirstEmbeddedResource()}catch(i){console.log(i)}},async selectResource(t){this.getResourceIsAvailable(t)&&(this.activeKey=t.key,await Rx.setItem("activeKey",this.activeKey))},async selectFirstEmbeddedResource(){if(!this.activeResource)for(const t of this.currentResources)t.isEmbeddedSelectable&&await this.selectResource(t)},async loadFiles(){for(const t of Object.values(this.resources)){let r=null;if(t.hasFileToLoad())try{console.log("preload "+t.title+"..."),r=await _a(t.url,{responseType:"blob",timeout:6e4}),console.log("finished. ")}catch(i){console.error(i)}}}}});class ub{}Tt(ub,"APPROXIMATION","approximation"),Tt(ub,"CONSULTING","consulting"),Tt(ub,"NONE","none");const{t:k1}=ud.global,uU=dd("settings"),K0e=Iu("settings",{state:()=>({Assessment:{multiple_correctors:!1,mutual_visibility:!1,procedure_when_distance:!1,procedure:ub.NONE,max_auto_distance:0,revision_between:!1,stitch_after_procedure:!1,max_points:0,no_manual_decimals:!1},Task:{positive_rating:k1("settingsRatingPositive"),negative_rating:k1("settingsRatingNegative"),enable_comments:!1,enable_comment_ratings:!1,enable_partial_points:!1,enable_summary_pdf:!1,summary_pdf_advice:null},EssayTask:{headline_scheme:null}}),getters:{contentClass(t){return t.EssayTask.headline_scheme==="three"?"headlines-three":""},inclusionText(t){let r="";return t.Task.enable_comments&&(r=(r?r+", ":"")+k1("summariesIncludeComments")),t.Task.enable_comment_ratings&&(r=(r?r+", ":"")+k1("summariesIncludeCommentRatings")),t.Task.enable_partial_points&&(r=(r?r+", ":"")+k1("summariesIncludePartialPoints")),r==""&&(r=k1("summariesIncludeNoDetails")),r},procedureText(t){switch(t.Assessment.procedure){case ub.APPROXIMATION:return k1("settingsProcedureApproximation");case ub.CONSULTING:return k1("settingsProcedureConsulting");default:return k1("settingsProcedureNone")}},hasSummaryOverview(t){return t.Task.enable_comment_ratings||t.Task.enable_partial_points}},actions:{async clearStorage(){this.$reset();try{await uU.clear()}catch(t){console.log(t)}},async loadFromStorage(){this.$reset();try{for(const t in this.$state){const r=await uU.getItem(t);this.$patch(r)}}catch(t){console.log(t)}},async loadFromBackend(t,r){this.$state[t]=Object.assign(this.$state[t],r);try{await uU.setItem(t,Object.assign({},this.$state[t]))}catch(i){console.log(i)}}}}),MR=class MR{constructor(r={}){Tt(this,"key","");Tt(this,"purpose","");Tt(this,"title","");Tt(this,"text","");Tt(this,"deleted",!1);r.key!==void 0&&r.key!==null?this.key=r.key.toString():this.key=MR.newKey(),r.purpose!==void 0&&r.purpose!==null&&(this.purpose=r.purpose.toString()),r.title!==void 0&&r.title!==null&&(this.title=r.title.toString()),r.text!==void 0&&r.text!==null&&(this.text=r.text.toString())}static newKey(){return"SNIP_"+Math.random().toString()}static order(r,i){return r.text<i.text?-1:r.text>i.text?1:0}getData(){return Object.assign({},this)}};Tt(MR,"FOR_COMMENT","for_comment"),Tt(MR,"FOR_SUMMARY","for_summary");let Au=MR;const Gh=dd("snippets"),j0e=Iu("snippets",{state:()=>({snippets:{},selection_open:!1,open_for_purpose:null,open_for_key:null,open_text:"",insert_text:"",select:null,edit:new Au}),getters:{sortedSnippets(t){return Object.values(t.snippets).sort(Au.order)},forComment(t){return Object.values(t.snippets).filter(r=>r.purpose==Au.FOR_COMMENT)},forSummary(t){return Object.values(t.snippets).filter(r=>r.purpose==Au.FOR_SUMMARY)},has(t){return function(i){return Object.keys(t.snippets).includes(i)}},get(t){return function(i){return t.snippets[i]}}},actions:{openSelection(t,r,i=""){this.open_for_purpose=t,this.open_for_key=r,this.open_text=i,this.insert_text="",this.selection_open=!0},async clearStorage(){try{await Gh.clear()}catch(t){console.log(t)}this.$reset()},async loadFromStorage(){try{this.$reset();const t=await Gh.getItem("keys");for(const r of t??[])this.snippets[r]=new Au(await Gh.getItem(r))}catch(t){console.log(t)}},async loadFromBackend(t){try{await Gh.clear(),this.$reset();for(const r of t){const i=new Au(r);await Gh.setItem(i.key,i.getData()),this.snippets[i.key]=i}await Gh.setItem("keys",Object.keys(this.snippets))}catch(r){console.log(r)}},async createSnippet(t){this.snippets[t.key]=t,await Gh.setItem(t.key,t.getData()),await Gh.setItem("keys",Object.keys(this.snippets)),await Oe.changes().setChange(new Ms({type:Ms.TYPE_SNIPPETS,action:Ms.ACTION_SAVE,key:t.key}))},async updateSnippet(t){this.has(t.key)&&(await Gh.setItem(t.key,t.getData()),await Oe.changes().setChange(new Ms({type:Ms.TYPE_SNIPPETS,action:Ms.ACTION_SAVE,key:t.key})))},async deleteSnippet(t){this.has(t)&&(delete this.snippets[t],await Gh.removeItem(t),await Gh.setItem("keys",Object.keys(this.snippets)),await Oe.changes().setChange(new Ms({type:Ms.TYPE_SNIPPETS,action:Ms.ACTION_DELETE,key:t})))},async getChangedData(t=0){const r=Oe.changes(),i=[];for(const u of r.getChangesFor(Ms.TYPE_SNIPPETS,t)){const g=await Gh.getItem(u.key);g?i.push(r.getChangeDataToSend(u,g)):i.push(r.getChangeDataToSend(u))}return i}}}),{t:LC}=ud.global,Ix=dd("summaries"),dU=1e3;let xR=0;const Z0e=Iu("summaries",{state:()=>({summaries:{},editSummary:new Tu,lastCheck:0}),getters:{allSummaries(t){return Object.values(t.summaries)},isOwnDisabled(t){return t.editSummary.correction_key==""||t.editSummary.isPregraded()||t.editSummary.isAuthorized()||!Oe.items().canCorrect},isOwnPregraded(t){return t.editSummary.isPregraded()},isOwnAuthorized(t){return t.editSummary.isAuthorized()},isOwnRevised(t){return t.editSummary.isRevised()},isOneAuthorized(t){for(const r of t.allSummaries)if(r.isAuthorized())return!0;return!1},areOthersAuthorized(t){for(const r of t.allSummaries)if(r.getKey()!=t.editSummary.getKey()&&!r.isAuthorized())return!1;return!0},currentGradeTitle(t){if(t.editSummary.grade_key){let i=Oe.levels().getLevel(t.editSummary.grade_key);if(i)return i.title}return LC("summariesNoGrade")},currentGradeStatement(t){if(t.editSummary.grade_key){let i=Oe.levels().getLevel(t.editSummary.grade_key);if(i)return i.statement}return""},getAuthorizationForCorrection(t){return function(i){for(const u of t.allSummaries)if(u.correction_key==i)return u.isAuthorized();return!1}},getForCorrection(t){return function(i){for(const u of t.allSummaries)if(u.correction_key==i)return u;return null}},procedureNeededText(t){const r=Oe.settings(),i=Oe.items(),u=t.pointsDifferText;if(u&&!i.isInStitch){switch(r.Assessment.procedure){case ub.APPROXIMATION:return LC("summariesProcedureApproximationNeeded",[u]);case ub.CONSULTING:return LC("summariesProcedureConsultingNeeded",[u])}if(r.Assessment.stitch_after_procedure&&!i.isInStitch)return LC("summariesProcedureStitchNeeded",[u])}return""},stitchNeededAfterRevisionText(t){const r=t.pointsDifferText;return r?LC("summariesProcedureStitchNeeded",[r]):""},pointsDifferText(t){var h,x;const r=t.editSummary,i=t.getForCorrection(((h=Oe.corrections().firstOtherCorrection)==null?void 0:h.key)??"")??null;let u=null,g=null;return Oe.items().canRevise||((x=Oe.corrections().ownCorrection)==null?void 0:x.position)==Sa.POSITION_STITCH?(u=(r==null?void 0:r.revision_points)??(r==null?void 0:r.points),g=(i==null?void 0:i.revision_points)??(i==null?void 0:i.points)):(u=r==null?void 0:r.points,g=i==null?void 0:i.points),u===null||g===null?"":Math.abs(u-g)>Oe.settings().Assessment.max_auto_distance?LC("summariesPointsDifferText",Oe.settings().Assessment.max_auto_distance):""},pointsOutsideCorridorText(t){const r=t.pointsCorridor,i=Oe.items().canRevise?t.editSummary.revision_points:t.editSummary.points;return i<r.min||i>r.max?LC("summariesPointsOutsideMinMax",[r.min,r.max]):""},pointsCorridor(t){var h,x,w;const r=t.getForCorrection(((h=Oe.corrections().firstCorrection)==null?void 0:h.key)??"")??null,i=t.getForCorrection(((x=Oe.corrections().secondCorrection)==null?void 0:x.key)??"")??null;let u=null,g=null;return((w=Oe.corrections().ownCorrection)==null?void 0:w.position)==Sa.POSITION_STITCH?(u=(r==null?void 0:r.revision_points)??(r==null?void 0:r.points),g=(i==null?void 0:i.revision_points)??(i==null?void 0:i.points)):Oe.items().canRevise&&Oe.settings().Assessment.revision_between?(u=r==null?void 0:r.points,g=i==null?void 0:i.points):(u=0,g=Oe.settings().Assessment.max_points),{min:Math.min(u,g),max:Math.max(u,g)}}},actions:{async clearStorage(){try{this.$reset(),await Ix.clear()}catch(t){console.log(t)}},async loadFromStorage(){var u;const t=Oe.api(),r=Oe.levels(),i=Oe.corrections();try{this.$reset();const g=await Ix.getItem("keys");for(const h of g){const x=new Tu(await Ix.getItem(h));x.grade_key=(u=r.getLevelForPoints(x.points))==null?void 0:u.key,x.item_key==t.itemKey&&(this.summaries[h]=x),x.correction_key==i.ownKey&&(this.editSummary=x.getClone())}}catch(g){console.log(g)}xR=0,t.setInterval("summariesStore.updateContent",this.updateContent,dU)},async loadFromBackend(t){var g;const r=Oe.api(),i=Oe.levels(),u=Oe.corrections();try{await Ix.clear(),this.$reset();for(const h of t){const x=new Tu(h);x.grade_key=(g=i.getLevelForPoints(x.points))==null?void 0:g.key,await Ix.setItem(x.getKey(),x.getData()),x.item_key==r.itemKey&&(this.summaries[x.getKey()]=x),x.correction_key==u.ownKey&&(this.editSummary=x.getClone())}await Ix.setItem("keys",Object.keys(this.summaries))}catch(h){console.log(h)}xR=0,r.setInterval("summariesStore.updateContent",this.updateContent,dU)},async updateContent(t=!1,r=!1){Oe.levels();const i=Oe.api(),u=Oe.changes(),g=Date.now();if(g-this.lastCheck<dU&&!r||xR++&&!r)return;const h=this.summaries[this.editSummary.getKey()]??new Tu,x=this.getCloneToStore(h,this.editSummary);if(x.isEqual(h)){this.lastCheck=g,xR=0;return}x.last_change=i.getServerTime(g);try{this.editSummary.setData(x.getData()),this.summaries[x.getKey()]=x,await Ix.setItem(x.getKey(),x.getData()),await u.setChange(new Ms({type:Ms.TYPE_SUMMARY,action:Ms.ACTION_SAVE,key:x.getKey(),item_key:x.item_key})),console.log("Save Change ","| Editor: ",t,"| Duration:",Date.now()-g,"ms")}catch(w){console.error(w)}this.lastCheck=g,xR=0},getCloneToStore(t,r){var h,x;const i=Oe.items(),u=Oe.levels();let g=t.getClone();switch(i.canCorrect&&(g.text=r.text,g.pdf=r.pdf,g.points=this.adjustPoints(r.points),g.grade_key=((h=u.getLevelForPoints(r.points))==null?void 0:h.key)??""),i.canRevise&&(g.revision_text=r.revision_text,g.revision_points=this.adjustPoints(r.revision_points),g.revision_grade_key=((x=u.getLevelForPoints(r.revision_grade_key))==null?void 0:x.key)??"",g.require_other_revision=r.require_other_revision),r.status){case Tu.STATUS_PRE_GRADED:case Tu.STATUS_OPEN:g.status=i.canCorrect?r.status:g.status;break;case Tu.STATUS_AUTHORIZED:g.status=i.canAuthorize?r.status:g.status;break;case Tu.STATUS_REVISED:g.status=i.canRevise?r.status:g.status}return g},adjustPoints(t){const r=Oe.settings();return Number.isNaN(t)?null:!Number.isInteger(t)&&r.Assessment.no_manual_decimals?Math.floor(parseFloat(t)):t<0?0:t>r.Assessment.max_points?r.Assessment.max_points:parseFloat(t)},async getChangedData(t=0){const r=Oe.changes(),i=[];for(const u of r.getChangesFor(Ms.TYPE_SUMMARY,t)){const g=await Ix.getItem(u.key);i.push(r.getChangeDataToSend(u,g))}return i},async setOwnOpen(){this.editSummary.status=Tu.STATUS_OPEN,await this.updateContent(!1,!0)},async setOwnPregraded(){this.editSummary.status=Tu.STATUS_PRE_GRADED,await this.updateContent(!1,!0)},async setOwnAuthorized(){this.editSummary.status=Tu.STATUS_AUTHORIZED,await this.updateContent(!1,!0)},async setOwnRevised(){this.editSummary.status=Tu.STATUS_REVISED,await this.updateContent(!1,!0)}}}),lE=dd("tasks"),G0e=Iu("tasks",{state:()=>({tasks:{},firstKey:null,lastKey:null,previousKey:null,nextKey:null}),getters:{countTasks(t){return Object.keys(t.tasks).length},currentKey(t){return Bx.buildKey(Si.extractTaskId(Oe.api().itemKey))},currentTask(t){return t.tasks[t.currentKey]},currentTitle(t){var r;return(r=t.currentTask)==null?void 0:r.title},hasInstructions(t){var r;return!!((r=t.currentTask)!=null&&r.instructions)},hasSolution(t){var r;return!!((r=t.currentTask)!=null&&r.solution)},hasTexts(t){return t.hasInstructions||t.hasSolution},sortedTasks(t){return Object.values(t.tasks).toSorted(Bx.order)},taskIds(t){let r=[];for(const i of t.sortedTasks)r.push(i.task_id);return r}},actions:{async clearStorage(){try{this.$reset(),await lE.clear()}catch(t){console.log(t)}},async loadFromStorage(){try{this.$reset();const t=await lE.getItem("keys")??[];for(const r of t)this.tasks[r]=new Bx(await lE.getItem(r))}catch(t){console.log(t)}},async loadFromBackend(t=[]){try{await lE.clear(),this.$reset();for(const r of t){const i=new Bx(r);this.tasks[i.getKey()]=i,await lE.setItem(i.getKey(),i.getData())}await lE.setItem("keys",Object.keys(this.tasks))}catch(r){console.log(r)}},updateCurrentKeys(){if(this.countTasks){const t=this.sortedTasks,r=0,i=t.length-1;this.firstKey=t[r].getKey(),this.lastKey=t[i].getKey(),this.previousKey=null,this.nextKey=null;for(let u=r;u<=i;u++)if(t[u].getKey()==this.currentKey){this.previousKey=u>r?t[u-1].getKey():null,this.nextKey=u<i?t[u+1].getKey():null;break}}}}});class UY{constructor(r={}){Tt(this,"task_id",null);Tt(this,"content","");r.task_id!==void 0&&r.task_id!==null&&(this.task_id=parseInt(r.task_id)),r.content!==void 0&&r.content!==null&&(this.content=r.content.toString())}getKey(){return Bx.buildKey(this.task_id)}getData(){return Object.assign({},this)}hasContent(){return this.content!=""}}const cE=dd("templates"),{t:uEe}=ud.global,q0e=Iu("templates",{state:()=>({templates:{}}),getters:{currentTemplate(t){return t.templates[Oe.tasks().currentKey]}},actions:{async clearStorage(){try{await cE.clear(),this.$reset()}catch(t){console.log(t)}},async loadFromStorage(){try{this.$reset();const t=await cE.getItem("keys")??[];for(const r of t)this.templates[r]=new UY(await cE.getItem(r))}catch(t){console.log(t)}},async loadFromBackend(t=[]){try{await cE.clear(),this.$reset();for(const r of t){const i=new UY(r);this.templates[i.getKey()]=i,await cE.setItem(i.getKey(),i.getData())}await cE.setItem("keys",Object.keys(this.templates))}catch(r){console.log(r)}}}}),Oe={api:()=>T0e(),changes:()=>P0e(),comments:()=>N0e(),corrections:()=>M0e(),criteria:()=>L0e(),essay:()=>B0e(),items:()=>F0e(),layout:()=>$0e(),levels:()=>V0e(),pages:()=>z0e(),points:()=>H0e(),preferences:()=>U0e(),resources:()=>W0e(),settings:()=>K0e(),snippets:()=>j0e(),summaries:()=>Z0e(),tasks:()=>G0e(),templates:()=>q0e()};async function Y0e(){for(const t of Object.values(Oe))await t().clearStorage()}const Ea=(t,r)=>{const i=t.__vccOpts||t;for(const[u,g]of r)i[u]=g;return i},H1=qn({border:[Boolean,Number,String]},"border");function U1(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Bv();return{borderClasses:Mt(()=>{const u=t.border;return u===!0||u===""?`${r}--border`:typeof u=="string"||u===0?String(u).split(" ").map(g=>`border-${g}`):[]})}}const X0e=[null,"default","comfortable","compact"],tp=qn({density:{type:String,default:"default",validator:t=>X0e.includes(t)}},"density");function pb(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Bv();return{densityClasses:En(()=>`${r}--density-${t.density}`)}}const W1=qn({elevation:{type:[Number,String],validator(t){const r=parseInt(t);return!isNaN(r)&&r>=0&&r<=24}}},"elevation");function K1(t){return{elevationClasses:En(()=>{const i=Ha(t)?t.value:t.elevation;return i==null?[]:[`elevation-${i}`]})}}const Fg=qn({rounded:{type:[Boolean,Number,String],default:void 0},tile:Boolean},"rounded");function $g(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Bv();return{roundedClasses:Mt(()=>{const u=Ha(t)?t.value:t.rounded,g=Ha(t)?t.value:t.tile,h=[];if(u===!0||u==="")h.push(`${r}--rounded`);else if(typeof u=="string"||u===0)for(const x of String(u).split(" "))h.push(`rounded-${x}`);else(g||u===!1)&&h.push("rounded-0");return h})}}const Ua=qn({tag:{type:[String,Object,Function],default:"div"}},"tag");function rK(t){return UW(()=>{const r=Pv(t),i=[],u={};if(r.background)if(ZU(r.background)){if(u.backgroundColor=r.background,!r.text&&Tge(r.background)){const g=Ov(r.background);if(g.a==null||g.a===1){const h=SQ(g);u.color=h,u.caretColor=h}}}else i.push(`bg-${r.background}`);return r.text&&(ZU(r.text)?(u.color=r.text,u.caretColor=r.text):i.push(`text-${r.text}`)),{colorClasses:i,colorStyles:u}})}function gb(t){const{colorClasses:r,colorStyles:i}=rK(()=>({text:Pv(t)}));return{textColorClasses:r,textColorStyles:i}}function db(t){const{colorClasses:r,colorStyles:i}=rK(()=>({background:Pv(t)}));return{backgroundColorClasses:r,backgroundColorStyles:i}}const J0e=["elevated","flat","tonal","outlined","text","plain"];function KE(t,r){return ie(ms,null,[t&&ie("span",{key:"overlay",class:xo(`${r}__overlay`)},null),ie("span",{key:"underlay",class:xo(`${r}__underlay`)},null)])}const j1=qn({color:String,variant:{type:String,default:"elevated",validator:t=>J0e.includes(t)}},"variant");function jE(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Bv();const i=En(()=>{const{variant:h}=Pv(t);return`${r}--variant-${h}`}),{colorClasses:u,colorStyles:g}=rK(()=>{const{variant:h,color:x}=Pv(t);return{[["elevated","flat"].includes(h)?"background":"text"]:x}});return{colorClasses:u,colorStyles:g,variantClasses:i}}const Mee=qn({baseColor:String,divided:Boolean,direction:{type:String,default:"horizontal"},...H1(),...or(),...tp(),...W1(),...Fg(),...Ua(),...oc(),...j1()},"VBtnGroup"),R1=ts()({name:"VBtnGroup",props:Mee(),setup(t,r){let{slots:i}=r;const{themeClasses:u}=tu(t),{densityClasses:g}=pb(t),{borderClasses:h}=U1(t),{elevationClasses:x}=K1(t),{roundedClasses:w}=$g(t);qx({VBtn:{height:En(()=>t.direction==="horizontal"?"auto":null),baseColor:En(()=>t.baseColor),color:En(()=>t.color),density:En(()=>t.density),flat:!0,variant:En(()=>t.variant)}}),$s(()=>ce(t.tag,{class:xo(["v-btn-group",`v-btn-group--${t.direction}`,{"v-btn-group--divided":t.divided},u.value,h.value,g.value,x.value,w.value,t.class]),style:Qs(t.style)},i))}}),iK=qn({modelValue:{type:null,default:void 0},multiple:Boolean,mandatory:[Boolean,String],max:Number,selectedClass:String,disabled:Boolean},"group"),Lee=qn({value:null,disabled:Boolean,selectedClass:String},"group-item");function Bee(t,r){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;const u=xc("useGroupItem");if(!u)throw new Error("[Vuetify] useGroupItem composable must be used inside a component setup function");const g=V1();Wf(Symbol.for(`${r.description}:id`),g);const h=ka(r,null);if(!h){if(!i)return h;throw new Error(`[Vuetify] Could not find useGroup injection with symbol ${r.description}`)}const x=En(()=>t.value),w=Mt(()=>!!(h.disabled.value||t.disabled));h.register({id:g,value:x,disabled:w},u),Ru(()=>{h.unregister(g)});const R=Mt(()=>h.isSelected(g)),D=Mt(()=>h.items.value[0].id===g),O=Mt(()=>h.items.value[h.items.value.length-1].id===g),M=Mt(()=>R.value&&[h.selectedClass.value,t.selectedClass]);return Fn(R,H=>{u.emit("group:selected",{value:H})},{flush:"sync"}),{id:g,isSelected:R,isFirst:D,isLast:O,toggle:()=>h.select(g,!R.value),select:H=>h.select(g,H),selectedClass:M,value:x,disabled:w,group:h}}function aK(t,r){let i=!1;const u=Ac([]),g=ra(t,"modelValue",[],H=>H==null?[]:Fee(u,Wd(H)),H=>{const K=e1e(u,H);return t.multiple?K:K[0]}),h=xc("useGroup");function x(H,K){const Z=H,Q=Symbol.for(`${r.description}:id`),U=gE(Q,h==null?void 0:h.vnode).indexOf(K);ne(Z.value)==null&&(Z.value=U,Z.useIndexAsValue=!0),U>-1?u.splice(U,0,Z):u.push(Z)}function w(H){if(i)return;R();const K=u.findIndex(Z=>Z.id===H);u.splice(K,1)}function R(){const H=u.find(K=>!K.disabled);H&&t.mandatory==="force"&&!g.value.length&&(g.value=[H.id])}jd(()=>{R()}),Ru(()=>{i=!0}),MW(()=>{for(let H=0;H<u.length;H++)u[H].useIndexAsValue&&(u[H].value=H)});function D(H,K){const Z=u.find(Q=>Q.id===H);if(!(K&&(Z!=null&&Z.disabled)))if(t.multiple){const Q=g.value.slice(),re=Q.findIndex(ge=>ge===H),U=~re;if(K=K??!U,U&&t.mandatory&&Q.length<=1||!U&&t.max!=null&&Q.length+1>t.max)return;re<0&&K?Q.push(H):re>=0&&!K&&Q.splice(re,1),g.value=Q}else{const Q=g.value.includes(H);if(t.mandatory&&Q||!Q&&!K)return;g.value=K??!Q?[H]:[]}}function O(H){if(t.multiple,g.value.length){const K=g.value[0],Z=u.findIndex(U=>U.id===K);let Q=(Z+H)%u.length,re=u[Q];for(;re.disabled&&Q!==Z;)Q=(Q+H)%u.length,re=u[Q];if(re.disabled)return;g.value=[u[Q].id]}else{const K=u.find(Z=>!Z.disabled);K&&(g.value=[K.id])}}const M={register:x,unregister:w,selected:g,select:D,disabled:En(()=>t.disabled),prev:()=>O(u.length-1),next:()=>O(1),isSelected:H=>g.value.includes(H),selectedClass:En(()=>t.selectedClass),items:En(()=>u),getItemIndex:H=>Q0e(u,H)};return Wf(r,M),M}function Q0e(t,r){const i=Fee(t,[r]);return i.length?t.findIndex(u=>u.id===i[0]):-1}function Fee(t,r){const i=[];return r.forEach(u=>{const g=t.find(x=>Qh(u,x.value)),h=t[u];(g==null?void 0:g.value)!=null?i.push(g.id):h!=null&&i.push(h.id)}),i}function e1e(t,r){const i=[];return r.forEach(u=>{const g=t.findIndex(h=>h.id===u);if(~g){const h=t[g];i.push(h.value!=null?h.value:g)}}),i}const $ee=Symbol.for("vuetify:v-btn-toggle"),t1e=qn({...Mee(),...iK()},"VBtnToggle"),n1e=ts()({name:"VBtnToggle",props:t1e(),emits:{"update:modelValue":t=>!0},setup(t,r){let{slots:i}=r;const{isSelected:u,next:g,prev:h,select:x,selected:w}=aK(t,$ee);return $s(()=>{const R=R1.filterProps(t);return ce(R1,Xo({class:["v-btn-toggle",t.class]},R,{style:t.style}),{default:()=>{var D;return[(D=i.default)==null?void 0:D.call(i,{isSelected:u,next:g,prev:h,select:x,selected:w})]}})}),{next:g,prev:h,select:x}}}),o1e=qn({defaults:Object,disabled:Boolean,reset:[Number,String],root:[Boolean,String],scoped:Boolean},"VDefaultsProvider"),cl=ts(!1)({name:"VDefaultsProvider",props:o1e(),setup(t,r){let{slots:i}=r;const{defaults:u,disabled:g,reset:h,root:x,scoped:w}=FF(t);return qx(u,{reset:h,root:x,scoped:w,disabled:g}),()=>{var R;return(R=i.default)==null?void 0:R.call(i)}}}),s1e=["x-small","small","default","large","x-large"],yI=qn({size:{type:[String,Number],default:"default"}},"size");function xI(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Bv();return UW(()=>{const i=t.size;let u,g;return uF(s1e,i)?u=`${r}--size-${i}`:i&&(g={width:Fs(i),height:Fs(i)}),{sizeClasses:u,sizeStyles:g}})}const r1e=qn({color:String,disabled:Boolean,start:Boolean,end:Boolean,icon:fi,opacity:[String,Number],...or(),...yI(),...Ua({tag:"i"}),...oc()},"VIcon"),Gn=ts()({name:"VIcon",props:r1e(),setup(t,r){let{attrs:i,slots:u}=r;const g=Do(),{themeClasses:h}=Xhe(),{iconData:x}=Hhe(()=>g.value||t.icon),{sizeClasses:w}=xI(t),{textColorClasses:R,textColorStyles:D}=gb(()=>t.color);return $s(()=>{var H,K;const O=(H=u.default)==null?void 0:H.call(u);O&&(g.value=(K=fQ(O).filter(Z=>Z.type===mI&&Z.children&&typeof Z.children=="string")[0])==null?void 0:K.children);const M=!!(i.onClick||i.onClickOnce);return ce(x.value.component,{tag:t.tag,icon:x.value.icon,class:xo(["v-icon","notranslate",h.value,w.value,R.value,{"v-icon--clickable":M,"v-icon--disabled":t.disabled,"v-icon--start":t.start,"v-icon--end":t.end},t.class]),style:Qs([{"--v-icon-opacity":t.opacity},w.value?void 0:{fontSize:Fs(t.size),height:Fs(t.size),width:Fs(t.size)},D.value,t.style]),role:M?"button":void 0,"aria-hidden":!M,tabindex:M?t.disabled?-1:0:void 0},{default:()=>[O]})}),{}}});function Vee(t,r){const i=Ln(),u=Do(!1);if(HW){const g=new IntersectionObserver(h=>{u.value=!!h.find(x=>x.isIntersecting)},r);eu(()=>{g.disconnect()}),Fn(i,(h,x)=>{x&&(g.unobserve(x),u.value=!1),h&&g.observe(h)},{flush:"post"})}return{intersectionRef:i,isIntersecting:u}}const i1e=qn({bgColor:String,color:String,indeterminate:[Boolean,String],modelValue:{type:[Number,String],default:0},rotate:{type:[Number,String],default:0},width:{type:[Number,String],default:4},...or(),...yI(),...Ua({tag:"div"}),...oc()},"VProgressCircular"),a1e=ts()({name:"VProgressCircular",props:i1e(),setup(t,r){let{slots:i}=r;const u=20,g=2*Math.PI*u,h=Ln(),{themeClasses:x}=tu(t),{sizeClasses:w,sizeStyles:R}=xI(t),{textColorClasses:D,textColorStyles:O}=gb(()=>t.color),{textColorClasses:M,textColorStyles:H}=gb(()=>t.bgColor),{intersectionRef:K,isIntersecting:Z}=Vee(),{resizeRef:Q,contentRect:re}=RE(),U=En(()=>Mm(parseFloat(t.modelValue),0,100)),ge=En(()=>Number(t.width)),de=En(()=>R.value?Number(t.size):re.value?re.value.width:Math.max(ge.value,32)),q=En(()=>u/(1-ge.value/de.value)*2),he=En(()=>ge.value/de.value*q.value),oe=En(()=>Fs((100-U.value)/100*g));return Uf(()=>{K.value=h.value,Q.value=h.value}),$s(()=>ce(t.tag,{ref:h,class:xo(["v-progress-circular",{"v-progress-circular--indeterminate":!!t.indeterminate,"v-progress-circular--visible":Z.value,"v-progress-circular--disable-shrink":t.indeterminate==="disable-shrink"},x.value,w.value,D.value,t.class]),style:Qs([R.value,O.value,t.style]),role:"progressbar","aria-valuemin":"0","aria-valuemax":"100","aria-valuenow":t.indeterminate?void 0:U.value},{default:()=>[ie("svg",{style:{transform:`rotate(calc(-90deg + ${Number(t.rotate)}deg))`},xmlns:"http://www.w3.org/2000/svg",viewBox:`0 0 ${q.value} ${q.value}`},[ie("circle",{class:xo(["v-progress-circular__underlay",M.value]),style:Qs(H.value),fill:"transparent",cx:"50%",cy:"50%",r:u,"stroke-width":he.value,"stroke-dasharray":g,"stroke-dashoffset":0},null),ie("circle",{class:"v-progress-circular__overlay",fill:"transparent",cx:"50%",cy:"50%",r:u,"stroke-width":he.value,"stroke-dasharray":g,"stroke-dashoffset":oe.value},null)]),i.default&&ie("div",{class:"v-progress-circular__content"},[i.default({value:U.value})])]})),{}}}),bb=qn({height:[Number,String],maxHeight:[Number,String],maxWidth:[Number,String],minHeight:[Number,String],minWidth:[Number,String],width:[Number,String]},"dimension");function vb(t){return{dimensionStyles:Mt(()=>{const i={},u=Fs(t.height),g=Fs(t.maxHeight),h=Fs(t.maxWidth),x=Fs(t.minHeight),w=Fs(t.minWidth),R=Fs(t.width);return u!=null&&(i.height=u),g!=null&&(i.maxHeight=g),h!=null&&(i.maxWidth=h),x!=null&&(i.minHeight=x),w!=null&&(i.minWidth=w),R!=null&&(i.width=R),i})}}const WY={center:"center",top:"bottom",bottom:"top",left:"right",right:"left"},i8=qn({location:String},"location");function a8(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,i=arguments.length>2?arguments[2]:void 0;const{isRtl:u}=ep();return{locationStyles:Mt(()=>{if(!t.location)return{};const{side:h,align:x}=KU(t.location.split(" ").length>1?t.location:`${t.location} center`,u.value);function w(D){return i?i(D):0}const R={};return h!=="center"&&(r?R[WY[h]]=`calc(100% - ${w(h)}px)`:R[h]=0),x!=="center"?r?R[WY[x]]=`calc(100% - ${w(x)}px)`:R[x]=0:(h==="center"?R.top=R.left="50%":R[{top:"left",bottom:"left",left:"top",right:"top"}[h]]="50%",R.transform={top:"translateX(-50%)",bottom:"translateX(-50%)",left:"translateY(-50%)",right:"translateY(-50%)",center:"translate(-50%, -50%)"}[h]),R})}}const l1e=qn({absolute:Boolean,active:{type:Boolean,default:!0},bgColor:String,bgOpacity:[Number,String],bufferValue:{type:[Number,String],default:0},bufferColor:String,bufferOpacity:[Number,String],clickable:Boolean,color:String,height:{type:[Number,String],default:4},indeterminate:Boolean,max:{type:[Number,String],default:100},modelValue:{type:[Number,String],default:0},opacity:[Number,String],reverse:Boolean,stream:Boolean,striped:Boolean,roundedBar:Boolean,...or(),...i8({location:"top"}),...Fg(),...Ua(),...oc()},"VProgressLinear"),zee=ts()({name:"VProgressLinear",props:l1e(),emits:{"update:modelValue":t=>!0},setup(t,r){var Ce;let{slots:i}=r;const u=ra(t,"modelValue"),{isRtl:g,rtlClasses:h}=ep(),{themeClasses:x}=tu(t),{locationStyles:w}=a8(t),{textColorClasses:R,textColorStyles:D}=gb(()=>t.color),{backgroundColorClasses:O,backgroundColorStyles:M}=db(()=>t.bgColor||t.color),{backgroundColorClasses:H,backgroundColorStyles:K}=db(()=>t.bufferColor||t.bgColor||t.color),{backgroundColorClasses:Z,backgroundColorStyles:Q}=db(()=>t.color),{roundedClasses:re}=$g(t),{intersectionRef:U,isIntersecting:ge}=Vee(),de=Mt(()=>parseFloat(t.max)),q=Mt(()=>parseFloat(t.height)),he=Mt(()=>Mm(parseFloat(t.bufferValue)/de.value*100,0,100)),oe=Mt(()=>Mm(parseFloat(u.value)/de.value*100,0,100)),_e=Mt(()=>g.value!==t.reverse),Ue=Mt(()=>t.indeterminate?"fade-transition":"slide-x-transition"),Qe=_i&&((Ce=window.matchMedia)==null?void 0:Ce.call(window,"(forced-colors: active)").matches);function ct(Te){if(!U.value)return;const{left:I,right:dt,width:gt}=U.value.getBoundingClientRect(),Ft=_e.value?gt-Te.clientX+(dt-gt):Te.clientX-I;u.value=Math.round(Ft/gt*de.value)}return $s(()=>ce(t.tag,{ref:U,class:xo(["v-progress-linear",{"v-progress-linear--absolute":t.absolute,"v-progress-linear--active":t.active&&ge.value,"v-progress-linear--reverse":_e.value,"v-progress-linear--rounded":t.rounded,"v-progress-linear--rounded-bar":t.roundedBar,"v-progress-linear--striped":t.striped},re.value,x.value,h.value,t.class]),style:Qs([{bottom:t.location==="bottom"?0:void 0,top:t.location==="top"?0:void 0,height:t.active?Fs(q.value):0,"--v-progress-linear-height":Fs(q.value),...t.absolute?w.value:{}},t.style]),role:"progressbar","aria-hidden":t.active?"false":"true","aria-valuemin":"0","aria-valuemax":t.max,"aria-valuenow":t.indeterminate?void 0:Math.min(parseFloat(u.value),de.value),onClick:t.clickable&&ct},{default:()=>[t.stream&&ie("div",{key:"stream",class:xo(["v-progress-linear__stream",R.value]),style:{...D.value,[_e.value?"left":"right"]:Fs(-q.value),borderTop:`${Fs(q.value/2)} dotted`,opacity:parseFloat(t.bufferOpacity),top:`calc(50% - ${Fs(q.value/4)})`,width:Fs(100-he.value,"%"),"--v-progress-linear-stream-to":Fs(q.value*(_e.value?1:-1))}},null),ie("div",{class:xo(["v-progress-linear__background",Qe?void 0:O.value]),style:Qs([M.value,{opacity:parseFloat(t.bgOpacity),width:t.stream?0:void 0}])},null),ie("div",{class:xo(["v-progress-linear__buffer",Qe?void 0:H.value]),style:Qs([K.value,{opacity:parseFloat(t.bufferOpacity),width:Fs(he.value,"%")}])},null),ce(Kx,{name:Ue.value},{default:()=>[t.indeterminate?ie("div",{class:"v-progress-linear__indeterminate"},[["long","short"].map(Te=>ie("div",{key:Te,class:xo(["v-progress-linear__indeterminate",Te,Qe?void 0:Z.value]),style:Qs(Q.value)},null))]):ie("div",{class:xo(["v-progress-linear__determinate",Qe?void 0:Z.value]),style:Qs([Q.value,{width:Fs(oe.value,"%")}])},null)]}),i.default&&ie("div",{class:"v-progress-linear__content"},[i.default({value:oe.value,buffer:he.value})])]})),{}}}),lK=qn({loading:[Boolean,String]},"loader");function cK(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Bv();return{loaderClasses:En(()=>({[`${r}--loading`]:t.loading}))}}function Hee(t,r){var u;let{slots:i}=r;return ie("div",{class:xo(`${t.name}__loader`)},[((u=i.default)==null?void 0:u.call(i,{color:t.color,isActive:t.active}))||ce(zee,{absolute:t.absolute,active:t.active,color:t.color,height:"2",indeterminate:!0},null)])}const c1e=["static","relative","fixed","absolute","sticky"],uK=qn({position:{type:String,validator:t=>c1e.includes(t)}},"position");function dK(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Bv();return{positionClasses:En(()=>t.position?`${r}--${t.position}`:void 0)}}function u1e(){const t=xc("useRoute");return Mt(()=>{var r;return(r=t==null?void 0:t.proxy)==null?void 0:r.$route})}function Uee(){var t,r;return(r=(t=xc("useRouter"))==null?void 0:t.proxy)==null?void 0:r.$router}function l8(t,r){var O,M;const i=Rfe("RouterLink"),u=En(()=>!!(t.href||t.to)),g=Mt(()=>(u==null?void 0:u.value)||Oq(r,"click")||Oq(t,"click"));if(typeof i=="string"||!("useLink"in i)){const H=En(()=>t.href);return{isLink:u,isClickable:g,href:H,linkProps:Ac({href:H})}}const h=i.useLink({to:En(()=>t.to||""),replace:En(()=>t.replace)}),x=Mt(()=>t.to?h:void 0),w=u1e(),R=Mt(()=>{var H,K,Z;return x.value?t.exact?w.value?((Z=x.value.isExactActive)==null?void 0:Z.value)&&Qh(x.value.route.value.query,w.value.query):((K=x.value.isExactActive)==null?void 0:K.value)??!1:((H=x.value.isActive)==null?void 0:H.value)??!1:!1}),D=Mt(()=>{var H;return t.to?(H=x.value)==null?void 0:H.route.value.href:t.href});return{isLink:u,isClickable:g,isActive:R,route:(O=x.value)==null?void 0:O.route,navigate:(M=x.value)==null?void 0:M.navigate,href:D,linkProps:Ac({href:D,"aria-current":En(()=>R.value?"page":void 0)})}}const c8=qn({href:String,replace:Boolean,to:[String,Object],exact:Boolean},"router");let fU=!1;function d1e(t,r){let i=!1,u,g;_i&&(t!=null&&t.beforeEach)&&(ys(()=>{window.addEventListener("popstate",h),u=t.beforeEach((x,w,R)=>{fU?i?r(R):R():setTimeout(()=>i?r(R):R()),fU=!0}),g=t==null?void 0:t.afterEach(()=>{fU=!1})}),eu(()=>{window.removeEventListener("popstate",h),u==null||u(),g==null||g()}));function h(x){var w;(w=x.state)!=null&&w.replaced||(i=!0,setTimeout(()=>i=!1))}}function f1e(t,r){Fn(()=>{var i;return(i=t.isActive)==null?void 0:i.value},i=>{t.isLink.value&&i!=null&&r&&ys(()=>{r(i)})},{immediate:!0})}const fW=Symbol("rippleStop"),m1e=80;function KY(t,r){t.style.transform=r,t.style.webkitTransform=r}function mW(t){return t.constructor.name==="TouchEvent"}function Wee(t){return t.constructor.name==="KeyboardEvent"}const g1e=function(t,r){var M;let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},u=0,g=0;if(!Wee(t)){const H=r.getBoundingClientRect(),K=mW(t)?t.touches[t.touches.length-1]:t;u=K.clientX-H.left,g=K.clientY-H.top}let h=0,x=.3;(M=r._ripple)!=null&&M.circle?(x=.15,h=r.clientWidth/2,h=i.center?h:h+Math.sqrt((u-h)**2+(g-h)**2)/4):h=Math.sqrt(r.clientWidth**2+r.clientHeight**2)/2;const w=`${(r.clientWidth-h*2)/2}px`,R=`${(r.clientHeight-h*2)/2}px`,D=i.center?w:`${u-h}px`,O=i.center?R:`${g-h}px`;return{radius:h,scale:x,x:D,y:O,centerX:w,centerY:R}},kF={show(t,r){var K;let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!((K=r==null?void 0:r._ripple)!=null&&K.enabled))return;const u=document.createElement("span"),g=document.createElement("span");u.appendChild(g),u.className="v-ripple__container",i.class&&(u.className+=` ${i.class}`);const{radius:h,scale:x,x:w,y:R,centerX:D,centerY:O}=g1e(t,r,i),M=`${h*2}px`;g.className="v-ripple__animation",g.style.width=M,g.style.height=M,r.appendChild(u);const H=window.getComputedStyle(r);H&&H.position==="static"&&(r.style.position="relative",r.dataset.previousPosition="static"),g.classList.add("v-ripple__animation--enter"),g.classList.add("v-ripple__animation--visible"),KY(g,`translate(${w}, ${R}) scale3d(${x},${x},${x})`),g.dataset.activated=String(performance.now()),requestAnimationFrame(()=>{requestAnimationFrame(()=>{g.classList.remove("v-ripple__animation--enter"),g.classList.add("v-ripple__animation--in"),KY(g,`translate(${D}, ${O}) scale3d(1,1,1)`)})})},hide(t){var h;if(!((h=t==null?void 0:t._ripple)!=null&&h.enabled))return;const r=t.getElementsByClassName("v-ripple__animation");if(r.length===0)return;const i=r[r.length-1];if(i.dataset.isHiding)return;i.dataset.isHiding="true";const u=performance.now()-Number(i.dataset.activated),g=Math.max(250-u,0);setTimeout(()=>{i.classList.remove("v-ripple__animation--in"),i.classList.add("v-ripple__animation--out"),setTimeout(()=>{var w;t.getElementsByClassName("v-ripple__animation").length===1&&t.dataset.previousPosition&&(t.style.position=t.dataset.previousPosition,delete t.dataset.previousPosition),((w=i.parentNode)==null?void 0:w.parentNode)===t&&t.removeChild(i.parentNode)},300)},g)}};function Kee(t){return typeof t>"u"||!!t}function YR(t){const r={},i=t.currentTarget;if(!(!(i!=null&&i._ripple)||i._ripple.touched||t[fW])){if(t[fW]=!0,mW(t))i._ripple.touched=!0,i._ripple.isTouch=!0;else if(i._ripple.isTouch)return;if(r.center=i._ripple.centered||Wee(t),i._ripple.class&&(r.class=i._ripple.class),mW(t)){if(i._ripple.showTimerCommit)return;i._ripple.showTimerCommit=()=>{kF.show(t,i,r)},i._ripple.showTimer=window.setTimeout(()=>{var u;(u=i==null?void 0:i._ripple)!=null&&u.showTimerCommit&&(i._ripple.showTimerCommit(),i._ripple.showTimerCommit=null)},m1e)}else kF.show(t,i,r)}}function jY(t){t[fW]=!0}function Ig(t){const r=t.currentTarget;if(r!=null&&r._ripple){if(window.clearTimeout(r._ripple.showTimer),t.type==="touchend"&&r._ripple.showTimerCommit){r._ripple.showTimerCommit(),r._ripple.showTimerCommit=null,r._ripple.showTimer=window.setTimeout(()=>{Ig(t)});return}window.setTimeout(()=>{r._ripple&&(r._ripple.touched=!1)}),kF.hide(r)}}function jee(t){const r=t.currentTarget;r!=null&&r._ripple&&(r._ripple.showTimerCommit&&(r._ripple.showTimerCommit=null),window.clearTimeout(r._ripple.showTimer))}let XR=!1;function ZY(t,r){!XR&&r.includes(t.keyCode)&&(XR=!0,YR(t))}function Zee(t){XR=!1,Ig(t)}function Gee(t){XR&&(XR=!1,Ig(t))}function qee(t,r,i){const{value:u,modifiers:g}=r,h=Kee(u);h||kF.hide(t),t._ripple=t._ripple??{},t._ripple.enabled=h,t._ripple.centered=g.center,t._ripple.circle=g.circle;const x=zU(u)?u:{};x.class&&(t._ripple.class=x.class);const w=x.keys??[HU.enter,HU.space];if(t._ripple.keyDownHandler=R=>ZY(R,w),h&&!i){if(g.stop){t.addEventListener("touchstart",jY,{passive:!0}),t.addEventListener("mousedown",jY);return}t.addEventListener("touchstart",YR,{passive:!0}),t.addEventListener("touchend",Ig,{passive:!0}),t.addEventListener("touchmove",jee,{passive:!0}),t.addEventListener("touchcancel",Ig),t.addEventListener("mousedown",YR),t.addEventListener("mouseup",Ig),t.addEventListener("mouseleave",Ig),t.addEventListener("keydown",R=>ZY(R,w)),t.addEventListener("keyup",Zee),t.addEventListener("blur",Gee),t.addEventListener("dragstart",Ig,{passive:!0})}else!h&&i&&Yee(t)}function Yee(t){var r;t.removeEventListener("mousedown",YR),t.removeEventListener("touchstart",YR),t.removeEventListener("touchend",Ig),t.removeEventListener("touchmove",jee),t.removeEventListener("touchcancel",Ig),t.removeEventListener("mouseup",Ig),t.removeEventListener("mouseleave",Ig),(r=t._ripple)!=null&&r.keyDownHandler&&t.removeEventListener("keydown",t._ripple.keyDownHandler),t.removeEventListener("keyup",Zee),t.removeEventListener("dragstart",Ig),t.removeEventListener("blur",Gee)}function h1e(t,r){qee(t,r,!1)}function p1e(t){Yee(t),delete t._ripple}function b1e(t,r){if(r.value===r.oldValue)return;const i=Kee(r.oldValue);qee(t,r,i)}const B1={mounted:h1e,unmounted:p1e,updated:b1e},v1e=qn({active:{type:Boolean,default:void 0},activeColor:String,baseColor:String,symbol:{type:null,default:$ee},flat:Boolean,icon:[Boolean,String,Function,Object],prependIcon:fi,appendIcon:fi,block:Boolean,readonly:Boolean,slim:Boolean,stacked:Boolean,ripple:{type:[Boolean,Object],default:!0},text:{type:[String,Number,Boolean],default:void 0},...H1(),...or(),...tp(),...bb(),...W1(),...Lee(),...lK(),...i8(),...uK(),...Fg(),...c8(),...yI(),...Ua({tag:"button"}),...oc(),...j1({variant:"elevated"})},"VBtn"),Io=ts()({name:"VBtn",props:v1e(),emits:{"group:selected":t=>!0},setup(t,r){let{attrs:i,slots:u}=r;const{themeClasses:g}=tu(t),{borderClasses:h}=U1(t),{densityClasses:x}=pb(t),{dimensionStyles:w}=vb(t),{elevationClasses:R}=K1(t),{loaderClasses:D}=cK(t),{locationStyles:O}=a8(t),{positionClasses:M}=dK(t),{roundedClasses:H}=$g(t),{sizeClasses:K,sizeStyles:Z}=xI(t),Q=Bee(t,t.symbol,!1),re=l8(t,i),U=Mt(()=>{var Ce;return t.active!==void 0?t.active:re.isLink.value?(Ce=re.isActive)==null?void 0:Ce.value:Q==null?void 0:Q.isSelected.value}),ge=En(()=>U.value?t.activeColor??t.color:t.color),de=Mt(()=>{var Te,I;return{color:(Q==null?void 0:Q.isSelected.value)&&(!re.isLink.value||((Te=re.isActive)==null?void 0:Te.value))||!Q||((I=re.isActive)==null?void 0:I.value)?ge.value??t.baseColor:t.baseColor,variant:t.variant}}),{colorClasses:q,colorStyles:he,variantClasses:oe}=jE(de),_e=Mt(()=>(Q==null?void 0:Q.disabled.value)||t.disabled),Ue=En(()=>t.variant==="elevated"&&!(t.disabled||t.flat||t.border)),Qe=Mt(()=>{if(!(t.value===void 0||typeof t.value=="symbol"))return Object(t.value)===t.value?JSON.stringify(t.value,null,0):t.value});function ct(Ce){var Te;_e.value||re.isLink.value&&(Ce.metaKey||Ce.ctrlKey||Ce.shiftKey||Ce.button!==0||i.target==="_blank")||((Te=re.navigate)==null||Te.call(re,Ce),Q==null||Q.toggle())}return f1e(re,Q==null?void 0:Q.select),$s(()=>{const Ce=re.isLink.value?"a":t.tag,Te=!!(t.prependIcon||u.prepend),I=!!(t.appendIcon||u.append),dt=!!(t.icon&&t.icon!==!0);return Zn(ce(Ce,Xo({type:Ce==="a"?void 0:"button",class:["v-btn",Q==null?void 0:Q.selectedClass.value,{"v-btn--active":U.value,"v-btn--block":t.block,"v-btn--disabled":_e.value,"v-btn--elevated":Ue.value,"v-btn--flat":t.flat,"v-btn--icon":!!t.icon,"v-btn--loading":t.loading,"v-btn--readonly":t.readonly,"v-btn--slim":t.slim,"v-btn--stacked":t.stacked},g.value,h.value,q.value,x.value,R.value,D.value,M.value,H.value,K.value,oe.value,t.class],style:[he.value,w.value,O.value,Z.value,t.style],"aria-busy":t.loading?!0:void 0,disabled:_e.value||void 0,tabindex:t.loading||t.readonly?-1:void 0,onClick:ct,value:Qe.value},re.linkProps),{default:()=>{var gt;return[KE(!0,"v-btn"),!t.icon&&Te&&ie("span",{key:"prepend",class:"v-btn__prepend"},[u.prepend?ce(cl,{key:"prepend-defaults",disabled:!t.prependIcon,defaults:{VIcon:{icon:t.prependIcon}}},u.prepend):ce(Gn,{key:"prepend-icon",icon:t.prependIcon},null)]),ie("span",{class:"v-btn__content","data-no-activator":""},[!u.default&&dt?ce(Gn,{key:"content-icon",icon:t.icon},null):ce(cl,{key:"content-defaults",disabled:!dt,defaults:{VIcon:{icon:t.icon}}},{default:()=>{var Ft;return[((Ft=u.default)==null?void 0:Ft.call(u))??He(t.text)]}})]),!t.icon&&I&&ie("span",{key:"append",class:"v-btn__append"},[u.append?ce(cl,{key:"append-defaults",disabled:!t.appendIcon,defaults:{VIcon:{icon:t.appendIcon}}},u.append):ce(Gn,{key:"append-icon",icon:t.appendIcon},null)]),!!t.loading&&ie("span",{key:"loader",class:"v-btn__loader"},[((gt=u.loader)==null?void 0:gt.call(u))??ce(a1e,{color:typeof t.loading=="boolean"?void 0:t.loading,indeterminate:!0,width:"2"},null)])]}}),[[B1,!_e.value&&t.ripple,"",{center:!!t.icon}]])}),{group:Q}}}),Pm=ts()({name:"VCardActions",props:or(),setup(t,r){let{slots:i}=r;return qx({VBtn:{slim:!0,variant:"text"}}),$s(()=>{var u;return ie("div",{class:xo(["v-card-actions",t.class]),style:Qs(t.style)},[(u=i.default)==null?void 0:u.call(i)])}),{}}}),y1e=qn({opacity:[Number,String],...or(),...Ua()},"VCardSubtitle"),x1e=ts()({name:"VCardSubtitle",props:y1e(),setup(t,r){let{slots:i}=r;return $s(()=>ce(t.tag,{class:xo(["v-card-subtitle",t.class]),style:Qs([{"--v-card-subtitle-opacity":t.opacity},t.style])},i)),{}}}),I1=ZF("v-card-title");function w1e(t){return{aspectStyles:Mt(()=>{const r=Number(t.aspectRatio);return r?{paddingBottom:String(1/r*100)+"%"}:void 0})}}const Xee=qn({aspectRatio:[String,Number],contentClass:null,inline:Boolean,...or(),...bb()},"VResponsive"),GY=ts()({name:"VResponsive",props:Xee(),setup(t,r){let{slots:i}=r;const{aspectStyles:u}=w1e(t),{dimensionStyles:g}=vb(t);return $s(()=>{var h;return ie("div",{class:xo(["v-responsive",{"v-responsive--inline":t.inline},t.class]),style:Qs([g.value,t.style])},[ie("div",{class:"v-responsive__sizer",style:Qs(u.value)},null),(h=i.additional)==null?void 0:h.call(i),i.default&&ie("div",{class:xo(["v-responsive__content",t.contentClass])},[i.default()])])}),{}}}),ZE=qn({transition:{type:null,default:"fade-transition",validator:t=>t!==!0}},"transition"),Fx=(t,r)=>{let{slots:i}=r;const{transition:u,disabled:g,group:h,...x}=t,{component:w=h?zW:Kx,...R}=zU(u)?u:{};let D;return zU(u)?D=Xo(R,cge({disabled:g,group:h}),x):D=Xo({name:g||!u?"":u},x),Nv(w,D,i)};function C1e(t,r){if(!HW)return;const i=r.modifiers||{},u=r.value,{handler:g,options:h}=typeof u=="object"?u:{handler:u,options:{}},x=new IntersectionObserver(function(){var M;let w=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],R=arguments.length>1?arguments[1]:void 0;const D=(M=t._observe)==null?void 0:M[r.instance.$.uid];if(!D)return;const O=w.some(H=>H.isIntersecting);g&&(!i.quiet||D.init)&&(!i.once||O||D.init)&&g(O,w,R),O&&i.once?Jee(t,r):D.init=!0},h);t._observe=Object(t._observe),t._observe[r.instance.$.uid]={init:!1,observer:x},x.observe(t)}function Jee(t,r){var u;const i=(u=t._observe)==null?void 0:u[r.instance.$.uid];i&&(i.observer.unobserve(t),delete t._observe[r.instance.$.uid])}const PE={mounted:C1e,unmounted:Jee},S1e=qn({absolute:Boolean,alt:String,cover:Boolean,color:String,draggable:{type:[Boolean,String],default:void 0},eager:Boolean,gradient:String,lazySrc:String,options:{type:Object,default:()=>({root:void 0,rootMargin:void 0,threshold:void 0})},sizes:String,src:{type:[String,Object],default:""},crossorigin:String,referrerpolicy:String,srcset:String,position:String,...Xee(),...or(),...Fg(),...ZE()},"VImg"),wI=ts()({name:"VImg",directives:{vIntersect:PE},props:S1e(),emits:{loadstart:t=>!0,load:t=>!0,error:t=>!0},setup(t,r){let{emit:i,slots:u}=r;const{backgroundColorClasses:g,backgroundColorStyles:h}=db(()=>t.color),{roundedClasses:x}=$g(t),w=xc("VImg"),R=Do(""),D=Ln(),O=Do(t.eager?"loading":"idle"),M=Do(),H=Do(),K=Mt(()=>t.src&&typeof t.src=="object"?{src:t.src.src,srcset:t.srcset||t.src.srcset,lazySrc:t.lazySrc||t.src.lazySrc,aspect:Number(t.aspectRatio||t.src.aspect||0)}:{src:t.src,srcset:t.srcset,lazySrc:t.lazySrc,aspect:Number(t.aspectRatio||0)}),Z=Mt(()=>K.value.aspect||M.value/H.value||0);Fn(()=>t.src,()=>{Q(O.value!=="idle")}),Fn(Z,(Te,I)=>{!Te&&I&&D.value&&q(D.value)}),fI(()=>Q());function Q(Te){if(!(t.eager&&Te)&&!(HW&&!Te&&!t.eager)){if(O.value="loading",K.value.lazySrc){const I=new Image;I.src=K.value.lazySrc,q(I,null)}K.value.src&&ys(()=>{var I;i("loadstart",((I=D.value)==null?void 0:I.currentSrc)||K.value.src),setTimeout(()=>{var dt;if(!w.isUnmounted)if((dt=D.value)!=null&&dt.complete){if(D.value.naturalWidth||U(),O.value==="error")return;Z.value||q(D.value,null),O.value==="loading"&&re()}else Z.value||q(D.value),ge()})})}}function re(){var Te;w.isUnmounted||(ge(),q(D.value),O.value="loaded",i("load",((Te=D.value)==null?void 0:Te.currentSrc)||K.value.src))}function U(){var Te;w.isUnmounted||(O.value="error",i("error",((Te=D.value)==null?void 0:Te.currentSrc)||K.value.src))}function ge(){const Te=D.value;Te&&(R.value=Te.currentSrc||Te.src)}let de=-1;Ru(()=>{clearTimeout(de)});function q(Te){let I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:100;const dt=()=>{if(clearTimeout(de),w.isUnmounted)return;const{naturalHeight:gt,naturalWidth:Ft}=Te;gt||Ft?(M.value=Ft,H.value=gt):!Te.complete&&O.value==="loading"&&I!=null?de=window.setTimeout(dt,I):(Te.currentSrc.endsWith(".svg")||Te.currentSrc.startsWith("data:image/svg+xml"))&&(M.value=1,H.value=1)};dt()}const he=En(()=>({"v-img__img--cover":t.cover,"v-img__img--contain":!t.cover})),oe=()=>{var dt;if(!K.value.src||O.value==="idle")return null;const Te=ie("img",{class:xo(["v-img__img",he.value]),style:{objectPosition:t.position},crossorigin:t.crossorigin,src:K.value.src,srcset:K.value.srcset,alt:t.alt,referrerpolicy:t.referrerpolicy,draggable:t.draggable,sizes:t.sizes,ref:D,onLoad:re,onError:U},null),I=(dt=u.sources)==null?void 0:dt.call(u);return ce(Fx,{transition:t.transition,appear:!0},{default:()=>[Zn(I?ie("picture",{class:"v-img__picture"},[I,Te]):Te,[[Co,O.value==="loaded"]])]})},_e=()=>ce(Fx,{transition:t.transition},{default:()=>[K.value.lazySrc&&O.value!=="loaded"&&ie("img",{class:xo(["v-img__img","v-img__img--preload",he.value]),style:{objectPosition:t.position},crossorigin:t.crossorigin,src:K.value.lazySrc,alt:t.alt,referrerpolicy:t.referrerpolicy,draggable:t.draggable},null)]}),Ue=()=>u.placeholder?ce(Fx,{transition:t.transition,appear:!0},{default:()=>[(O.value==="loading"||O.value==="error"&&!u.error)&&ie("div",{class:"v-img__placeholder"},[u.placeholder()])]}):null,Qe=()=>u.error?ce(Fx,{transition:t.transition,appear:!0},{default:()=>[O.value==="error"&&ie("div",{class:"v-img__error"},[u.error()])]}):null,ct=()=>t.gradient?ie("div",{class:"v-img__gradient",style:{backgroundImage:`linear-gradient(${t.gradient})`}},null):null,Ce=Do(!1);{const Te=Fn(Z,I=>{I&&(requestAnimationFrame(()=>{requestAnimationFrame(()=>{Ce.value=!0})}),Te())})}return $s(()=>{const Te=GY.filterProps(t);return Zn(ce(GY,Xo({class:["v-img",{"v-img--absolute":t.absolute,"v-img--booting":!Ce.value},g.value,x.value,t.class],style:[{width:Fs(t.width==="auto"?M.value:t.width)},h.value,t.style]},Te,{aspectRatio:Z.value,"aria-label":t.alt,role:t.alt?"img":void 0}),{additional:()=>ie(ms,null,[ce(oe,null,null),ce(_e,null,null),ce(ct,null,null),ce(Ue,null,null),ce(Qe,null,null)]),default:u.default}),[[PE,{handler:Q,options:t.options},null,{once:!0}]])}),{currentSrc:R,image:D,state:O,naturalWidth:M,naturalHeight:H}}}),_1e=qn({start:Boolean,end:Boolean,icon:fi,image:String,text:String,...H1(),...or(),...tp(),...Fg(),...yI(),...Ua(),...oc(),...j1({variant:"flat"})},"VAvatar"),jx=ts()({name:"VAvatar",props:_1e(),setup(t,r){let{slots:i}=r;const{themeClasses:u}=tu(t),{borderClasses:g}=U1(t),{colorClasses:h,colorStyles:x,variantClasses:w}=jE(t),{densityClasses:R}=pb(t),{roundedClasses:D}=$g(t),{sizeClasses:O,sizeStyles:M}=xI(t);return $s(()=>ce(t.tag,{class:xo(["v-avatar",{"v-avatar--start":t.start,"v-avatar--end":t.end},u.value,g.value,h.value,R.value,D.value,O.value,w.value,t.class]),style:Qs([x.value,M.value,t.style])},{default:()=>[i.default?ce(cl,{key:"content-defaults",defaults:{VImg:{cover:!0,src:t.image},VIcon:{icon:t.icon}}},{default:()=>[i.default()]}):t.image?ce(wI,{key:"image",src:t.image,alt:"",cover:!0},null):t.icon?ce(Gn,{key:"icon",icon:t.icon},null):t.text,KE(!1,"v-avatar")]})),{}}}),k1e=qn({appendAvatar:String,appendIcon:fi,prependAvatar:String,prependIcon:fi,subtitle:{type:[String,Number,Boolean],default:void 0},title:{type:[String,Number,Boolean],default:void 0},...or(),...tp()},"VCardItem"),E1e=ts()({name:"VCardItem",props:k1e(),setup(t,r){let{slots:i}=r;return $s(()=>{var D;const u=!!(t.prependAvatar||t.prependIcon),g=!!(u||i.prepend),h=!!(t.appendAvatar||t.appendIcon),x=!!(h||i.append),w=!!(t.title!=null||i.title),R=!!(t.subtitle!=null||i.subtitle);return ie("div",{class:xo(["v-card-item",t.class]),style:Qs(t.style)},[g&&ie("div",{key:"prepend",class:"v-card-item__prepend"},[i.prepend?ce(cl,{key:"prepend-defaults",disabled:!u,defaults:{VAvatar:{density:t.density,image:t.prependAvatar},VIcon:{density:t.density,icon:t.prependIcon}}},i.prepend):ie(ms,null,[t.prependAvatar&&ce(jx,{key:"prepend-avatar",density:t.density,image:t.prependAvatar},null),t.prependIcon&&ce(Gn,{key:"prepend-icon",density:t.density,icon:t.prependIcon},null)])]),ie("div",{class:"v-card-item__content"},[w&&ce(I1,{key:"title"},{default:()=>{var O;return[((O=i.title)==null?void 0:O.call(i))??He(t.title)]}}),R&&ce(x1e,{key:"subtitle"},{default:()=>{var O;return[((O=i.subtitle)==null?void 0:O.call(i))??He(t.subtitle)]}}),(D=i.default)==null?void 0:D.call(i)]),x&&ie("div",{key:"append",class:"v-card-item__append"},[i.append?ce(cl,{key:"append-defaults",disabled:!h,defaults:{VAvatar:{density:t.density,image:t.appendAvatar},VIcon:{density:t.density,icon:t.appendIcon}}},i.append):ie(ms,null,[t.appendIcon&&ce(Gn,{key:"append-icon",density:t.density,icon:t.appendIcon},null),t.appendAvatar&&ce(jx,{key:"append-avatar",density:t.density,image:t.appendAvatar},null)])])])}),{}}}),T1e=qn({opacity:[Number,String],...or(),...Ua()},"VCardText"),Nm=ts()({name:"VCardText",props:T1e(),setup(t,r){let{slots:i}=r;return $s(()=>ce(t.tag,{class:xo(["v-card-text",t.class]),style:Qs([{"--v-card-text-opacity":t.opacity},t.style])},i)),{}}}),A1e=qn({appendAvatar:String,appendIcon:fi,disabled:Boolean,flat:Boolean,hover:Boolean,image:String,link:{type:Boolean,default:void 0},prependAvatar:String,prependIcon:fi,ripple:{type:[Boolean,Object],default:!0},subtitle:{type:[String,Number,Boolean],default:void 0},text:{type:[String,Number,Boolean],default:void 0},title:{type:[String,Number,Boolean],default:void 0},...H1(),...or(),...tp(),...bb(),...W1(),...lK(),...i8(),...uK(),...Fg(),...c8(),...Ua(),...oc(),...j1({variant:"elevated"})},"VCard"),Ng=ts()({name:"VCard",directives:{vRipple:B1},props:A1e(),setup(t,r){let{attrs:i,slots:u}=r;const{themeClasses:g}=tu(t),{borderClasses:h}=U1(t),{colorClasses:x,colorStyles:w,variantClasses:R}=jE(t),{densityClasses:D}=pb(t),{dimensionStyles:O}=vb(t),{elevationClasses:M}=K1(t),{loaderClasses:H}=cK(t),{locationStyles:K}=a8(t),{positionClasses:Z}=dK(t),{roundedClasses:Q}=$g(t),re=l8(t,i);return $s(()=>{const U=t.link!==!1&&re.isLink.value,ge=!t.disabled&&t.link!==!1&&(t.link||re.isClickable.value),de=U?"a":t.tag,q=!!(u.title||t.title!=null),he=!!(u.subtitle||t.subtitle!=null),oe=q||he,_e=!!(u.append||t.appendAvatar||t.appendIcon),Ue=!!(u.prepend||t.prependAvatar||t.prependIcon),Qe=!!(u.image||t.image),ct=oe||Ue||_e,Ce=!!(u.text||t.text!=null);return Zn(ce(de,Xo({class:["v-card",{"v-card--disabled":t.disabled,"v-card--flat":t.flat,"v-card--hover":t.hover&&!(t.disabled||t.flat),"v-card--link":ge},g.value,h.value,x.value,D.value,M.value,H.value,Z.value,Q.value,R.value,t.class],style:[w.value,O.value,K.value,t.style],onClick:ge&&re.navigate,tabindex:t.disabled?-1:void 0},re.linkProps),{default:()=>{var Te;return[Qe&&ie("div",{key:"image",class:"v-card__image"},[u.image?ce(cl,{key:"image-defaults",disabled:!t.image,defaults:{VImg:{cover:!0,src:t.image}}},u.image):ce(wI,{key:"image-img",cover:!0,src:t.image},null)]),ce(Hee,{name:"v-card",active:!!t.loading,color:typeof t.loading=="boolean"?void 0:t.loading},{default:u.loader}),ct&&ce(E1e,{key:"item",prependAvatar:t.prependAvatar,prependIcon:t.prependIcon,title:t.title,subtitle:t.subtitle,appendAvatar:t.appendAvatar,appendIcon:t.appendIcon},{default:u.item,prepend:u.prepend,title:u.title,subtitle:u.subtitle,append:u.append}),Ce&&ce(Nm,{key:"text"},{default:()=>{var I;return[((I=u.text)==null?void 0:I.call(u))??t.text]}}),(Te=u.default)==null?void 0:Te.call(u),u.actions&&ce(Pm,null,{default:u.actions}),KE(ge,"v-card")]}}),[[B1,ge&&t.ripple]])}),{}}}),O1e=qn({disabled:Boolean,group:Boolean,hideOnLeave:Boolean,leaveAbsolute:Boolean,mode:String,origin:String},"transition");function Vg(t,r,i){return ts()({name:t,props:O1e({mode:i,origin:r}),setup(u,g){let{slots:h}=g;const x={onBeforeEnter(w){u.origin&&(w.style.transformOrigin=u.origin)},onLeave(w){if(u.leaveAbsolute){const{offsetTop:R,offsetLeft:D,offsetWidth:O,offsetHeight:M}=w;w._transitionInitialStyles={position:w.style.position,top:w.style.top,left:w.style.left,width:w.style.width,height:w.style.height},w.style.position="absolute",w.style.top=`${R}px`,w.style.left=`${D}px`,w.style.width=`${O}px`,w.style.height=`${M}px`}u.hideOnLeave&&w.style.setProperty("display","none","important")},onAfterLeave(w){if(u.leaveAbsolute&&(w!=null&&w._transitionInitialStyles)){const{position:R,top:D,left:O,width:M,height:H}=w._transitionInitialStyles;delete w._transitionInitialStyles,w.style.position=R||"",w.style.top=D||"",w.style.left=O||"",w.style.width=M||"",w.style.height=H||""}}};return()=>{const w=u.group?zW:Kx;return Nv(w,{name:u.disabled?"":t,css:!u.disabled,...u.group?void 0:{mode:u.mode},...u.disabled?{}:x},h.default)}}})}function Qee(t,r){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"in-out";return ts()({name:t,props:{mode:{type:String,default:i},disabled:Boolean,group:Boolean},setup(u,g){let{slots:h}=g;const x=u.group?zW:Kx;return()=>Nv(x,{name:u.disabled?"":t,css:!u.disabled,...u.disabled?{}:r},h.default)}})}function ete(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";const i=(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1)?"width":"height",u=Hf(`offset-${i}`);return{onBeforeEnter(x){x._parent=x.parentNode,x._initialStyle={transition:x.style.transition,overflow:x.style.overflow,[i]:x.style[i]}},onEnter(x){const w=x._initialStyle;if(!w)return;x.style.setProperty("transition","none","important"),x.style.overflow="hidden";const R=`${x[u]}px`;x.style[i]="0",x.offsetHeight,x.style.transition=w.transition,t&&x._parent&&x._parent.classList.add(t),requestAnimationFrame(()=>{x.style[i]=R})},onAfterEnter:h,onEnterCancelled:h,onLeave(x){x._initialStyle={transition:"",overflow:x.style.overflow,[i]:x.style[i]},x.style.overflow="hidden",x.style[i]=`${x[u]}px`,x.offsetHeight,requestAnimationFrame(()=>x.style[i]="0")},onAfterLeave:g,onLeaveCancelled:g};function g(x){t&&x._parent&&x._parent.classList.remove(t),h(x)}function h(x){if(!x._initialStyle)return;const w=x._initialStyle[i];x.style.overflow=x._initialStyle.overflow,w!=null&&(x.style[i]=w),delete x._initialStyle}}const R1e=qn({target:[Object,Array]},"v-dialog-transition"),mU=new WeakMap,fK=ts()({name:"VDialogTransition",props:R1e(),setup(t,r){let{slots:i}=r;const u={onBeforeEnter(g){g.style.pointerEvents="none",g.style.visibility="hidden"},async onEnter(g,h){var K;await new Promise(Z=>requestAnimationFrame(Z)),await new Promise(Z=>requestAnimationFrame(Z)),g.style.visibility="";const x=YY(t.target,g),{x:w,y:R,sx:D,sy:O,speed:M}=x;mU.set(g,x);const H=hE(g,[{transform:`translate(${w}px, ${R}px) scale(${D}, ${O})`,opacity:0},{}],{duration:225*M,easing:$ge});(K=qY(g))==null||K.forEach(Z=>{hE(Z,[{opacity:0},{opacity:0,offset:.33},{}],{duration:225*2*M,easing:mF})}),H.finished.then(()=>h())},onAfterEnter(g){g.style.removeProperty("pointer-events")},onBeforeLeave(g){g.style.pointerEvents="none"},async onLeave(g,h){var K;await new Promise(Z=>requestAnimationFrame(Z));let x;!mU.has(g)||Array.isArray(t.target)||t.target.offsetParent||t.target.getClientRects().length?x=YY(t.target,g):x=mU.get(g);const{x:w,y:R,sx:D,sy:O,speed:M}=x;hE(g,[{},{transform:`translate(${w}px, ${R}px) scale(${D}, ${O})`,opacity:0}],{duration:125*M,easing:Vge}).finished.then(()=>h()),(K=qY(g))==null||K.forEach(Z=>{hE(Z,[{},{opacity:0,offset:.2},{opacity:0}],{duration:125*2*M,easing:mF})})},onAfterLeave(g){g.style.removeProperty("pointer-events")}};return()=>t.target?ce(Kx,Xo({name:"dialog-transition"},u,{css:!1}),i):ce(Kx,{name:"dialog-transition"},i)}});function qY(t){var i;const r=(i=t.querySelector(":scope > .v-card, :scope > .v-sheet, :scope > .v-list"))==null?void 0:i.children;return r&&[...r]}function YY(t,r){const i=bQ(t),u=KW(r),[g,h]=getComputedStyle(r).transformOrigin.split(" ").map(U=>parseFloat(U)),[x,w]=getComputedStyle(r).getPropertyValue("--v-overlay-anchor-origin").split(" ");let R=i.left+i.width/2;x==="left"||w==="left"?R-=i.width/2:(x==="right"||w==="right")&&(R+=i.width/2);let D=i.top+i.height/2;x==="top"||w==="top"?D-=i.height/2:(x==="bottom"||w==="bottom")&&(D+=i.height/2);const O=i.width/u.width,M=i.height/u.height,H=Math.max(1,O,M),K=O/H||0,Z=M/H||0,Q=u.width*u.height/(window.innerWidth*window.innerHeight),re=Q>.12?Math.min(1.5,(Q-.12)*10+1):1;return{x:R-(g+u.left),y:D-(h+u.top),sx:K,sy:Z,speed:re}}Vg("fab-transition","center center","out-in");Vg("dialog-bottom-transition");Vg("dialog-top-transition");const XY=Vg("fade-transition");Vg("scale-transition");Vg("scroll-x-transition");Vg("scroll-x-reverse-transition");Vg("scroll-y-transition");Vg("scroll-y-reverse-transition");Vg("slide-x-transition");Vg("slide-x-reverse-transition");const tte=Vg("slide-y-transition");Vg("slide-y-reverse-transition");const nte=Qee("expand-transition",ete()),ote=Qee("expand-x-transition",ete("",!0));function gU(t,r){return{x:t.x+r.x,y:t.y+r.y}}function I1e(t,r){return{x:t.x-r.x,y:t.y-r.y}}function JY(t,r){if(t.side==="top"||t.side==="bottom"){const{side:i,align:u}=t,g=u==="left"?0:u==="center"?r.width/2:u==="right"?r.width:u,h=i==="top"?0:i==="bottom"?r.height:i;return gU({x:g,y:h},r)}else if(t.side==="left"||t.side==="right"){const{side:i,align:u}=t,g=i==="left"?0:i==="right"?r.width:i,h=u==="top"?0:u==="center"?r.height/2:u==="bottom"?r.height:u;return gU({x:g,y:h},r)}return gU({x:r.width/2,y:r.height/2},r)}const ste={static:N1e,connected:L1e},D1e=qn({locationStrategy:{type:[String,Function],default:"static",validator:t=>typeof t=="function"||t in ste},location:{type:String,default:"bottom"},origin:{type:String,default:"auto"},offset:[Number,String,Array]},"VOverlay-location-strategies");function P1e(t,r){const i=Ln({}),u=Ln();_i&&Jh(()=>!!(r.isActive.value&&t.locationStrategy),w=>{var R,D;Fn(()=>t.locationStrategy,w),eu(()=>{window.removeEventListener("resize",g),visualViewport==null||visualViewport.removeEventListener("resize",h),visualViewport==null||visualViewport.removeEventListener("scroll",x),u.value=void 0}),window.addEventListener("resize",g,{passive:!0}),visualViewport==null||visualViewport.addEventListener("resize",h,{passive:!0}),visualViewport==null||visualViewport.addEventListener("scroll",x,{passive:!0}),typeof t.locationStrategy=="function"?u.value=(R=t.locationStrategy(r,t,i))==null?void 0:R.updateLocation:u.value=(D=ste[t.locationStrategy](r,t,i))==null?void 0:D.updateLocation});function g(w){var R;(R=u.value)==null||R.call(u,w)}function h(w){var R;(R=u.value)==null||R.call(u,w)}function x(w){var R;(R=u.value)==null||R.call(u,w)}return{contentStyles:i,updateLocation:u}}function N1e(){}function M1e(t,r){const i=KW(t);return r?i.x+=parseFloat(t.style.right||0):i.x-=parseFloat(t.style.left||0),i.y-=parseFloat(t.style.top||0),i}function L1e(t,r,i){(Array.isArray(t.target.value)||Hge(t.target.value))&&Object.assign(i.value,{position:"fixed",top:0,[t.isRtl.value?"right":"left"]:0});const{preferredAnchor:g,preferredOrigin:h}=UW(()=>{const U=KU(r.location,t.isRtl.value),ge=r.origin==="overlap"?U:r.origin==="auto"?W9(U):KU(r.origin,t.isRtl.value);return U.side===ge.side&&U.align===K9(ge).align?{preferredAnchor:Rq(U),preferredOrigin:Rq(ge)}:{preferredAnchor:U,preferredOrigin:ge}}),[x,w,R,D]=["minWidth","minHeight","maxWidth","maxHeight"].map(U=>Mt(()=>{const ge=parseFloat(r[U]);return isNaN(ge)?1/0:ge})),O=Mt(()=>{if(Array.isArray(r.offset))return r.offset;if(typeof r.offset=="string"){const U=r.offset.split(" ").map(parseFloat);return U.length<2&&U.push(0),U}return typeof r.offset=="number"?[r.offset,0]:[0,0]});let M=!1,H=-1;const K=new mQ(4),Z=new ResizeObserver(()=>{if(!M)return;if(requestAnimationFrame(ge=>{ge!==H&&K.clear(),requestAnimationFrame(de=>{H=de})}),K.isFull){const ge=K.values();if(Qh(ge.at(-1),ge.at(-3))&&!Qh(ge.at(-1),ge.at(-2)))return}const U=re();U&&K.push(U.flipped)});Fn([t.target,t.contentEl],(U,ge)=>{let[de,q]=U,[he,oe]=ge;he&&!Array.isArray(he)&&Z.unobserve(he),de&&!Array.isArray(de)&&Z.observe(de),oe&&Z.unobserve(oe),q&&Z.observe(q)},{immediate:!0}),eu(()=>{Z.disconnect()});let Q=new Iv({x:0,y:0,width:0,height:0});function re(){if(M=!1,requestAnimationFrame(()=>M=!0),!t.target.value||!t.contentEl.value)return;(Array.isArray(t.target.value)||t.target.value.offsetParent||t.target.value.getClientRects().length)&&(Q=bQ(t.target.value));const U=M1e(t.contentEl.value,t.isRtl.value),ge=gF(t.contentEl.value),de=12;ge.length||(ge.push(document.documentElement),t.contentEl.value.style.top&&t.contentEl.value.style.left||(U.x-=parseFloat(document.documentElement.style.getPropertyValue("--v-body-scroll-x")||0),U.y-=parseFloat(document.documentElement.style.getPropertyValue("--v-body-scroll-y")||0)));const q=ge.reduce((I,dt)=>{const gt=dge(dt);return I?new Iv({x:Math.max(I.left,gt.left),y:Math.max(I.top,gt.top),width:Math.min(I.right,gt.right)-Math.max(I.left,gt.left),height:Math.min(I.bottom,gt.bottom)-Math.max(I.top,gt.top)}):gt},void 0);q.x+=de,q.y+=de,q.width-=de*2,q.height-=de*2;let he={anchor:g.value,origin:h.value};function oe(I){const dt=new Iv(U),gt=JY(I.anchor,Q),Ft=JY(I.origin,dt);let{x:en,y:ft}=I1e(gt,Ft);switch(I.anchor.side){case"top":ft-=O.value[0];break;case"bottom":ft+=O.value[0];break;case"left":en-=O.value[0];break;case"right":en+=O.value[0];break}switch(I.anchor.align){case"top":ft-=O.value[1];break;case"bottom":ft+=O.value[1];break;case"left":en-=O.value[1];break;case"right":en+=O.value[1];break}return dt.x+=en,dt.y+=ft,dt.width=Math.min(dt.width,R.value),dt.height=Math.min(dt.height,D.value),{overflows:Dq(dt,q),x:en,y:ft}}let _e=0,Ue=0;const Qe={x:0,y:0},ct={x:!1,y:!1};let Ce=-1;for(;!(Ce++>10);){const{x:I,y:dt,overflows:gt}=oe(he);_e+=I,Ue+=dt,U.x+=I,U.y+=dt;{const Ft=Iq(he.anchor),en=gt.x.before||gt.x.after,ft=gt.y.before||gt.y.after;let Rn=!1;if(["x","y"].forEach(Ot=>{if(Ot==="x"&&en&&!ct.x||Ot==="y"&&ft&&!ct.y){const rt={anchor:{...he.anchor},origin:{...he.origin}},Ve=Ot==="x"?Ft==="y"?K9:W9:Ft==="y"?W9:K9;rt.anchor=Ve(rt.anchor),rt.origin=Ve(rt.origin);const{overflows:bt}=oe(rt);(bt[Ot].before<=gt[Ot].before&&bt[Ot].after<=gt[Ot].after||bt[Ot].before+bt[Ot].after<(gt[Ot].before+gt[Ot].after)/2)&&(he=rt,Rn=ct[Ot]=!0)}}),Rn)continue}gt.x.before&&(_e+=gt.x.before,U.x+=gt.x.before),gt.x.after&&(_e-=gt.x.after,U.x-=gt.x.after),gt.y.before&&(Ue+=gt.y.before,U.y+=gt.y.before),gt.y.after&&(Ue-=gt.y.after,U.y-=gt.y.after);{const Ft=Dq(U,q);Qe.x=q.width-Ft.x.before-Ft.x.after,Qe.y=q.height-Ft.y.before-Ft.y.after,_e+=Ft.x.before,U.x+=Ft.x.before,Ue+=Ft.y.before,U.y+=Ft.y.before}break}const Te=Iq(he.anchor);return Object.assign(i.value,{"--v-overlay-anchor-origin":`${he.anchor.side} ${he.anchor.align}`,transformOrigin:`${he.origin.side} ${he.origin.align}`,top:Fs(hU(Ue)),left:t.isRtl.value?void 0:Fs(hU(_e)),right:t.isRtl.value?Fs(hU(-_e)):void 0,minWidth:Fs(Te==="y"?Math.min(x.value,Q.width):x.value),maxWidth:Fs(QY(Mm(Qe.x,x.value===1/0?0:x.value,R.value))),maxHeight:Fs(QY(Mm(Qe.y,w.value===1/0?0:w.value,D.value)))}),{available:Qe,contentBox:U,flipped:ct}}return Fn(()=>[g.value,h.value,r.offset,r.minWidth,r.minHeight,r.maxWidth,r.maxHeight],()=>re()),ys(()=>{const U=re();if(!U)return;const{available:ge,contentBox:de}=U;de.height>ge.y&&requestAnimationFrame(()=>{re(),requestAnimationFrame(()=>{re()})})}),{updateLocation:re}}function hU(t){return Math.round(t*devicePixelRatio)/devicePixelRatio}function QY(t){return Math.ceil(t*devicePixelRatio)/devicePixelRatio}let gW=!0;const EF=[];function B1e(t){!gW||EF.length?(EF.push(t),hW()):(gW=!1,t(),hW())}let eX=-1;function hW(){cancelAnimationFrame(eX),eX=requestAnimationFrame(()=>{const t=EF.shift();t&&t(),EF.length?hW():gW=!0})}const X6={none:null,close:V1e,block:z1e,reposition:H1e},F1e=qn({scrollStrategy:{type:[String,Function],default:"block",validator:t=>typeof t=="function"||t in X6}},"VOverlay-scroll-strategies");function $1e(t,r){if(!_i)return;let i;Uf(async()=>{i==null||i.stop(),r.isActive.value&&t.scrollStrategy&&(i=Ux(),await new Promise(u=>setTimeout(u)),i.active&&i.run(()=>{var u;typeof t.scrollStrategy=="function"?t.scrollStrategy(r,t,i):(u=X6[t.scrollStrategy])==null||u.call(X6,r,t,i)}))}),eu(()=>{i==null||i.stop()})}function V1e(t){function r(i){t.isActive.value=!1}rte(t.targetEl.value??t.contentEl.value,r)}function z1e(t,r){var x;const i=(x=t.root.value)==null?void 0:x.offsetParent,u=[...new Set([...gF(t.targetEl.value,r.contained?i:void 0),...gF(t.contentEl.value,r.contained?i:void 0)])].filter(w=>!w.classList.contains("v-overlay-scroll-blocked")),g=window.innerWidth-document.documentElement.offsetWidth,h=(w=>GW(w)&&w)(i||document.documentElement);h&&t.root.value.classList.add("v-overlay--scroll-blocked"),u.forEach((w,R)=>{w.style.setProperty("--v-body-scroll-x",Fs(-w.scrollLeft)),w.style.setProperty("--v-body-scroll-y",Fs(-w.scrollTop)),w!==document.documentElement&&w.style.setProperty("--v-scrollbar-offset",Fs(g)),w.classList.add("v-overlay-scroll-blocked")}),eu(()=>{u.forEach((w,R)=>{const D=parseFloat(w.style.getPropertyValue("--v-body-scroll-x")),O=parseFloat(w.style.getPropertyValue("--v-body-scroll-y")),M=w.style.scrollBehavior;w.style.scrollBehavior="auto",w.style.removeProperty("--v-body-scroll-x"),w.style.removeProperty("--v-body-scroll-y"),w.style.removeProperty("--v-scrollbar-offset"),w.classList.remove("v-overlay-scroll-blocked"),w.scrollLeft=-D,w.scrollTop=-O,w.style.scrollBehavior=M}),h&&t.root.value.classList.remove("v-overlay--scroll-blocked")})}function H1e(t,r,i){let u=!1,g=-1,h=-1;function x(w){B1e(()=>{var O,M;const R=performance.now();(M=(O=t.updateLocation).value)==null||M.call(O,w),u=(performance.now()-R)/(1e3/60)>2})}h=(typeof requestIdleCallback>"u"?w=>w():requestIdleCallback)(()=>{i.run(()=>{rte(t.targetEl.value??t.contentEl.value,w=>{u?(cancelAnimationFrame(g),g=requestAnimationFrame(()=>{g=requestAnimationFrame(()=>{x(w)})})):x(w)})})}),eu(()=>{typeof cancelIdleCallback<"u"&&cancelIdleCallback(h),cancelAnimationFrame(g)})}function rte(t,r){const i=[document,...gF(t)];i.forEach(u=>{u.addEventListener("scroll",r,{passive:!0})}),eu(()=>{i.forEach(u=>{u.removeEventListener("scroll",r)})})}const pW=Symbol.for("vuetify:v-menu"),ite=qn({closeDelay:[Number,String],openDelay:[Number,String]},"delay");function ate(t,r){let i=()=>{};function u(x){i==null||i();const w=Number(x?t.openDelay:t.closeDelay);return new Promise(R=>{i=ige(w,()=>{r==null||r(x),R(x)})})}function g(){return u(!0)}function h(){return u(!1)}return{clearDelay:i,runOpenDelay:g,runCloseDelay:h}}const U1e=qn({target:[String,Object],activator:[String,Object],activatorProps:{type:Object,default:()=>({})},openOnClick:{type:Boolean,default:void 0},openOnHover:Boolean,openOnFocus:{type:Boolean,default:void 0},closeOnContentClick:Boolean,...ite()},"VOverlay-activator");function W1e(t,r){let{isActive:i,isTop:u,contentEl:g}=r;const h=xc("useActivator"),x=Ln();let w=!1,R=!1,D=!0;const O=Mt(()=>t.openOnFocus||t.openOnFocus==null&&t.openOnHover),M=Mt(()=>t.openOnClick||t.openOnClick==null&&!t.openOnHover&&!O.value),{runOpenDelay:H,runCloseDelay:K}=ate(t,Ue=>{Ue===(t.openOnHover&&w||O.value&&R)&&!(t.openOnHover&&i.value&&!u.value)&&(i.value!==Ue&&(D=!0),i.value=Ue)}),Z=Ln(),Q={onClick:Ue=>{Ue.stopPropagation(),x.value=Ue.currentTarget||Ue.target,i.value||(Z.value=[Ue.clientX,Ue.clientY]),i.value=!i.value},onMouseenter:Ue=>{var Qe;(Qe=Ue.sourceCapabilities)!=null&&Qe.firesTouchEvents||(w=!0,x.value=Ue.currentTarget||Ue.target,H())},onMouseleave:Ue=>{w=!1,K()},onFocus:Ue=>{AE(Ue.target,":focus-visible")!==!1&&(R=!0,Ue.stopPropagation(),x.value=Ue.currentTarget||Ue.target,H())},onBlur:Ue=>{R=!1,Ue.stopPropagation(),K()}},re=Mt(()=>{const Ue={};return M.value&&(Ue.onClick=Q.onClick),t.openOnHover&&(Ue.onMouseenter=Q.onMouseenter,Ue.onMouseleave=Q.onMouseleave),O.value&&(Ue.onFocus=Q.onFocus,Ue.onBlur=Q.onBlur),Ue}),U=Mt(()=>{const Ue={};if(t.openOnHover&&(Ue.onMouseenter=()=>{w=!0,H()},Ue.onMouseleave=()=>{w=!1,K()}),O.value&&(Ue.onFocusin=()=>{R=!0,H()},Ue.onFocusout=()=>{R=!1,K()}),t.closeOnContentClick){const Qe=ka(pW,null);Ue.onClick=()=>{i.value=!1,Qe==null||Qe.closeParents()}}return Ue}),ge=Mt(()=>{const Ue={};return t.openOnHover&&(Ue.onMouseenter=()=>{D&&(w=!0,D=!1,H())},Ue.onMouseleave=()=>{w=!1,K()}),Ue});Fn(u,Ue=>{var Qe;Ue&&(t.openOnHover&&!w&&(!O.value||!R)||O.value&&!R&&(!t.openOnHover||!w))&&!((Qe=g.value)!=null&&Qe.contains(document.activeElement))&&(i.value=!1)}),Fn(i,Ue=>{Ue||setTimeout(()=>{Z.value=void 0})},{flush:"post"});const de=UU();Uf(()=>{de.value&&ys(()=>{x.value=de.el})});const q=UU(),he=Mt(()=>t.target==="cursor"&&Z.value?Z.value:q.value?q.el:lte(t.target,h)||x.value),oe=Mt(()=>Array.isArray(he.value)?void 0:he.value);let _e;return Fn(()=>!!t.activator,Ue=>{Ue&&_i?(_e=Ux(),_e.run(()=>{K1e(t,h,{activatorEl:x,activatorEvents:re})})):_e&&_e.stop()},{flush:"post",immediate:!0}),eu(()=>{_e==null||_e.stop()}),{activatorEl:x,activatorRef:de,target:he,targetEl:oe,targetRef:q,activatorEvents:re,contentEvents:U,scrimEvents:ge}}function K1e(t,r,i){let{activatorEl:u,activatorEvents:g}=i;Fn(()=>t.activator,(R,D)=>{if(D&&R!==D){const O=w(D);O&&x(O)}R&&ys(()=>h())},{immediate:!0}),Fn(()=>t.activatorProps,()=>{h()}),eu(()=>{x()});function h(){let R=arguments.length>0&&arguments[0]!==void 0?arguments[0]:w(),D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:t.activatorProps;R&&fge(R,Xo(g.value,D))}function x(){let R=arguments.length>0&&arguments[0]!==void 0?arguments[0]:w(),D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:t.activatorProps;R&&mge(R,Xo(g.value,D))}function w(){let R=arguments.length>0&&arguments[0]!==void 0?arguments[0]:t.activator;const D=lte(R,r);return u.value=(D==null?void 0:D.nodeType)===Node.ELEMENT_NODE?D:void 0,u.value}}function lte(t,r){var u,g;if(!t)return;let i;if(t==="parent"){let h=(g=(u=r==null?void 0:r.proxy)==null?void 0:u.$el)==null?void 0:g.parentNode;for(;h!=null&&h.hasAttribute("data-no-activator");)h=h.parentNode;i=h}else typeof t=="string"?i=document.querySelector(t):"$el"in t?i=t.$el:i=t;return i}function j1e(){if(!_i)return Do(!1);const{ssr:t}=qF();if(t){const r=Do(!1);return jd(()=>{r.value=!0}),r}else return Do(!0)}const Z1e=qn({eager:Boolean},"lazy");function G1e(t,r){const i=Do(!1),u=En(()=>i.value||t.eager||r.value);Fn(r,()=>i.value=!0);function g(){t.eager||(i.value=!1)}return{isBooted:i,hasContent:u,onAfterLeave:g}}function u8(){const r=xc("useScopeId").vnode.scopeId;return{scopeId:r?{[r]:""}:void 0}}const tX=Symbol.for("vuetify:stack"),wR=Ac([]);function q1e(t,r,i){const u=xc("useStack"),g=!i,h=ka(tX,void 0),x=Ac({activeChildren:new Set});Wf(tX,x);const w=Do(Number(Pv(r)));Jh(t,()=>{var M;const O=(M=wR.at(-1))==null?void 0:M[1];w.value=O?O+10:Number(Pv(r)),g&&wR.push([u.uid,w.value]),h==null||h.activeChildren.add(u.uid),eu(()=>{if(g){const H=Ns(wR).findIndex(K=>K[0]===u.uid);wR.splice(H,1)}h==null||h.activeChildren.delete(u.uid)})});const R=Do(!0);g&&Uf(()=>{var M;const O=((M=wR.at(-1))==null?void 0:M[0])===u.uid;setTimeout(()=>R.value=O)});const D=En(()=>!x.activeChildren.size);return{globalTop:FE(R),localTop:D,stackStyles:En(()=>({zIndex:w.value}))}}function Y1e(t){return{teleportTarget:Mt(()=>{const i=t();if(i===!0||!_i)return;const u=i===!1?document.body:typeof i=="string"?document.querySelector(i):i;if(u==null)return;let g=[...u.children].find(h=>h.matches(".v-overlay-container"));return g||(g=document.createElement("div"),g.className="v-overlay-container",u.appendChild(g)),g})}}function X1e(){return!0}function cte(t,r,i){if(!t||ute(t,i)===!1)return!1;const u=_Q(r);if(typeof ShadowRoot<"u"&&u instanceof ShadowRoot&&u.host===t.target)return!1;const g=(typeof i.value=="object"&&i.value.include||(()=>[]))();return g.push(r),!g.some(h=>h==null?void 0:h.contains(t.target))}function ute(t,r){return(typeof r.value=="object"&&r.value.closeConditional||X1e)(t)}function J1e(t,r,i){const u=typeof i.value=="function"?i.value:i.value.handler;t.shadowTarget=t.target,r._clickOutside.lastMousedownWasOutside&&cte(t,r,i)&&setTimeout(()=>{ute(t,i)&&u&&u(t)},0)}function nX(t,r){const i=_Q(t);r(document),typeof ShadowRoot<"u"&&i instanceof ShadowRoot&&r(i)}const oX={mounted(t,r){const i=g=>J1e(g,t,r),u=g=>{t._clickOutside.lastMousedownWasOutside=cte(g,t,r)};nX(t,g=>{g.addEventListener("click",i,!0),g.addEventListener("mousedown",u,!0)}),t._clickOutside||(t._clickOutside={lastMousedownWasOutside:!1}),t._clickOutside[r.instance.$.uid]={onClick:i,onMousedown:u}},beforeUnmount(t,r){t._clickOutside&&(nX(t,i=>{var h;if(!i||!((h=t._clickOutside)!=null&&h[r.instance.$.uid]))return;const{onClick:u,onMousedown:g}=t._clickOutside[r.instance.$.uid];i.removeEventListener("click",u,!0),i.removeEventListener("mousedown",g,!0)}),delete t._clickOutside[r.instance.$.uid])}};function Q1e(t){const{modelValue:r,color:i,...u}=t;return ce(Kx,{name:"fade-transition",appear:!0},{default:()=>[t.modelValue&&ie("div",Xo({class:["v-overlay__scrim",t.color.backgroundColorClasses.value],style:t.color.backgroundColorStyles.value},u),null)]})}const mK=qn({absolute:Boolean,attach:[Boolean,String,Object],closeOnBack:{type:Boolean,default:!0},contained:Boolean,contentClass:null,contentProps:null,disabled:Boolean,opacity:[Number,String],noClickAnimation:Boolean,modelValue:Boolean,persistent:Boolean,scrim:{type:[Boolean,String],default:!0},zIndex:{type:[Number,String],default:2e3},...U1e(),...or(),...bb(),...Z1e(),...D1e(),...F1e(),...oc(),...ZE()},"VOverlay"),TF=ts()({name:"VOverlay",directives:{vClickOutside:oX},inheritAttrs:!1,props:{_disableGlobalStack:Boolean,...mK()},emits:{"click:outside":t=>!0,"update:modelValue":t=>!0,keydown:t=>!0,afterEnter:()=>!0,afterLeave:()=>!0},setup(t,r){let{slots:i,attrs:u,emit:g}=r;const h=xc("VOverlay"),x=Ln(),w=Ln(),R=Ln(),D=ra(t,"modelValue"),O=Mt({get:()=>D.value,set:Jt=>{Jt&&t.disabled||(D.value=Jt)}}),{themeClasses:M}=tu(t),{rtlClasses:H,isRtl:K}=ep(),{hasContent:Z,onAfterLeave:Q}=G1e(t,O),re=db(()=>typeof t.scrim=="string"?t.scrim:null),{globalTop:U,localTop:ge,stackStyles:de}=q1e(O,()=>t.zIndex,t._disableGlobalStack),{activatorEl:q,activatorRef:he,target:oe,targetEl:_e,targetRef:Ue,activatorEvents:Qe,contentEvents:ct,scrimEvents:Ce}=W1e(t,{isActive:O,isTop:ge,contentEl:R}),{teleportTarget:Te}=Y1e(()=>{var vo,nn,yn;const Jt=t.attach||t.contained;if(Jt)return Jt;const te=((vo=q==null?void 0:q.value)==null?void 0:vo.getRootNode())||((yn=(nn=h.proxy)==null?void 0:nn.$el)==null?void 0:yn.getRootNode());return te instanceof ShadowRoot?te:!1}),{dimensionStyles:I}=vb(t),dt=j1e(),{scopeId:gt}=u8();Fn(()=>t.disabled,Jt=>{Jt&&(O.value=!1)});const{contentStyles:Ft,updateLocation:en}=P1e(t,{isRtl:K,contentEl:R,target:oe,isActive:O});$1e(t,{root:x,contentEl:R,targetEl:_e,isActive:O,updateLocation:en});function ft(Jt){g("click:outside",Jt),t.persistent?Yn():O.value=!1}function Rn(Jt){return O.value&&U.value&&(!t.scrim||Jt.target===w.value||Jt instanceof MouseEvent&&Jt.shadowTarget===w.value)}_i&&Fn(O,Jt=>{Jt?window.addEventListener("keydown",Ot):window.removeEventListener("keydown",Ot)},{immediate:!0}),Ru(()=>{_i&&window.removeEventListener("keydown",Ot)});function Ot(Jt){var te,vo,nn;Jt.key==="Escape"&&U.value&&((te=R.value)!=null&&te.contains(document.activeElement)||g("keydown",Jt),t.persistent?Yn():(O.value=!1,(vo=R.value)!=null&&vo.contains(document.activeElement)&&((nn=q.value)==null||nn.focus())))}function rt(Jt){Jt.key==="Escape"&&!U.value||g("keydown",Jt)}const Ve=Uee();Jh(()=>t.closeOnBack,()=>{d1e(Ve,Jt=>{U.value&&O.value?(Jt(!1),t.persistent?Yn():O.value=!1):Jt()})});const bt=Ln();Fn(()=>O.value&&(t.absolute||t.contained)&&Te.value==null,Jt=>{if(Jt){const te=kQ(x.value);te&&te!==document.scrollingElement&&(bt.value=te.scrollTop)}});function Yn(){t.noClickAnimation||R.value&&hE(R.value,[{transformOrigin:"center"},{transform:"scale(1.03)"},{transformOrigin:"center"}],{duration:150,easing:mF})}function Yt(){g("afterEnter")}function Bn(){Q(),g("afterLeave")}return $s(()=>{var Jt;return ie(ms,null,[(Jt=i.activator)==null?void 0:Jt.call(i,{isActive:O.value,targetRef:Ue,props:Xo({ref:he},Qe.value,t.activatorProps)}),dt.value&&Z.value&&ce(yfe,{disabled:!Te.value,to:Te.value},{default:()=>[ie("div",Xo({class:["v-overlay",{"v-overlay--absolute":t.absolute||t.contained,"v-overlay--active":O.value,"v-overlay--contained":t.contained},M.value,H.value,t.class],style:[de.value,{"--v-overlay-opacity":t.opacity,top:Fs(bt.value)},t.style],ref:x,onKeydown:rt},gt,u),[ce(Q1e,Xo({color:re,modelValue:O.value&&!!t.scrim,ref:w},Ce.value),null),ce(Fx,{appear:!0,persisted:!0,transition:t.transition,target:oe.value,onAfterEnter:Yt,onAfterLeave:Bn},{default:()=>{var te;return[Zn(ie("div",Xo({ref:R,class:["v-overlay__content",t.contentClass],style:[I.value,Ft.value]},ct.value,t.contentProps),[(te=i.default)==null?void 0:te.call(i,{isActive:O})]),[[Co,O.value],[oX,{handler:ft,closeConditional:Rn,include:()=>[q.value]}]])]}})])]})])}),{activatorEl:q,scrimEl:w,target:oe,animateClick:Yn,contentEl:R,globalTop:U,localTop:ge,updateLocation:en}}}),pU=Symbol("Forwarded refs");function bU(t,r){let i=t;for(;i;){const u=Reflect.getOwnPropertyDescriptor(i,r);if(u)return u;i=Object.getPrototypeOf(i)}}function Xx(t){for(var r=arguments.length,i=new Array(r>1?r-1:0),u=1;u<r;u++)i[u-1]=arguments[u];return t[pU]=i,new Proxy(t,{get(g,h){if(Reflect.has(g,h))return Reflect.get(g,h);if(!(typeof h=="symbol"||h.startsWith("$")||h.startsWith("__"))){for(const x of i)if(x.value&&Reflect.has(x.value,h)){const w=Reflect.get(x.value,h);return typeof w=="function"?w.bind(x.value):w}}},has(g,h){if(Reflect.has(g,h))return!0;if(typeof h=="symbol"||h.startsWith("$")||h.startsWith("__"))return!1;for(const x of i)if(x.value&&Reflect.has(x.value,h))return!0;return!1},set(g,h,x){if(Reflect.has(g,h))return Reflect.set(g,h,x);if(typeof h=="symbol"||h.startsWith("$")||h.startsWith("__"))return!1;for(const w of i)if(w.value&&Reflect.has(w.value,h))return Reflect.set(w.value,h,x);return!1},getOwnPropertyDescriptor(g,h){var w;const x=Reflect.getOwnPropertyDescriptor(g,h);if(x)return x;if(!(typeof h=="symbol"||h.startsWith("$")||h.startsWith("__"))){for(const R of i){if(!R.value)continue;const D=bU(R.value,h)??("_"in R.value?bU((w=R.value._)==null?void 0:w.setupState,h):void 0);if(D)return D}for(const R of i){const D=R.value&&R.value[pU];if(!D)continue;const O=D.slice();for(;O.length;){const M=O.shift(),H=bU(M.value,h);if(H)return H;const K=M.value&&M.value[pU];K&&O.push(...K)}}}}})}const eye=qn({fullscreen:Boolean,retainFocus:{type:Boolean,default:!0},scrollable:Boolean,...mK({origin:"center center",scrollStrategy:"block",transition:{component:fK},zIndex:2400})},"VDialog"),Mg=ts()({name:"VDialog",props:eye(),emits:{"update:modelValue":t=>!0,afterEnter:()=>!0,afterLeave:()=>!0},setup(t,r){let{emit:i,slots:u}=r;const g=ra(t,"modelValue"),{scopeId:h}=u8(),x=Ln();function w(O){var K,Z;const M=O.relatedTarget,H=O.target;if(M!==H&&((K=x.value)!=null&&K.contentEl)&&((Z=x.value)!=null&&Z.globalTop)&&![document,x.value.contentEl].includes(H)&&!x.value.contentEl.contains(H)){const Q=UR(x.value.contentEl);if(!Q.length)return;const re=Q[0],U=Q[Q.length-1];M===re?U.focus():re.focus()}}Ru(()=>{document.removeEventListener("focusin",w)}),_i&&Fn(()=>g.value&&t.retainFocus,O=>{O?document.addEventListener("focusin",w):document.removeEventListener("focusin",w)},{immediate:!0});function R(){var O;i("afterEnter"),(t.scrim||t.retainFocus)&&((O=x.value)!=null&&O.contentEl)&&!x.value.contentEl.contains(document.activeElement)&&x.value.contentEl.focus({preventScroll:!0})}function D(){i("afterLeave")}return Fn(g,async O=>{var M;O||(await ys(),(M=x.value.activatorEl)==null||M.focus({preventScroll:!0}))}),$s(()=>{const O=TF.filterProps(t),M=Xo({"aria-haspopup":"dialog"},t.activatorProps),H=Xo({tabindex:-1},t.contentProps);return ce(TF,Xo({ref:x,class:["v-dialog",{"v-dialog--fullscreen":t.fullscreen,"v-dialog--scrollable":t.scrollable},t.class],style:t.style},O,{modelValue:g.value,"onUpdate:modelValue":K=>g.value=K,"aria-modal":"true",activatorProps:M,contentProps:H,height:t.fullscreen?void 0:t.height,width:t.fullscreen?void 0:t.width,maxHeight:t.fullscreen?void 0:t.maxHeight,maxWidth:t.fullscreen?void 0:t.maxWidth,role:"dialog",onAfterEnter:R,onAfterLeave:D},h),{activator:u.activator,default:function(){for(var K=arguments.length,Z=new Array(K),Q=0;Q<K;Q++)Z[Q]=arguments[Q];return ce(cl,{root:"VDialog"},{default:()=>{var re;return[(re=u.default)==null?void 0:re.call(u,...Z)]}})}})}),Xx({},x)}}),tye=qn({fixedHeader:Boolean,fixedFooter:Boolean,height:[Number,String],hover:Boolean,striped:{type:String,default:null,validator:t=>["even","odd"].includes(t)},...or(),...tp(),...Ua(),...oc()},"VTable"),ab=ts()({name:"VTable",props:tye(),setup(t,r){let{slots:i,emit:u}=r;const{themeClasses:g}=tu(t),{densityClasses:h}=pb(t);return $s(()=>ce(t.tag,{class:xo(["v-table",{"v-table--fixed-height":!!t.height,"v-table--fixed-header":t.fixedHeader,"v-table--fixed-footer":t.fixedFooter,"v-table--has-top":!!i.top,"v-table--has-bottom":!!i.bottom,"v-table--hover":t.hover,"v-table--striped-even":t.striped==="even","v-table--striped-odd":t.striped==="odd"},g.value,h.value,t.class]),style:Qs(t.style)},{default:()=>{var x,w,R;return[(x=i.top)==null?void 0:x.call(i),i.default?ie("div",{class:"v-table__wrapper",style:{height:Fs(t.height)}},[ie("table",null,[i.default()])]):(w=i.wrapper)==null?void 0:w.call(i),(R=i.bottom)==null?void 0:R.call(i)]}})),{}}}),nye={width:"50%"},oye={width:"50%"},sye={width:"50%"},rye={width:"50%"},iye={width:"50%"},aye={width:"50%"},lye={width:"50%"},cye={width:"50%"},uye={__name:"Help",setup(t){const r=Oe.layout();return(i,u)=>(Xt(),mo(ms,null,[ce(Io,{class:"app-header-item",onClick:u[0]||(u[0]=g=>ne(r).showHelp=!0)},{default:xt(()=>[ce(Gn,{left:"",icon:"mdi-keyboard-outline"}),Ts(" "+He(i.$t("helpButton")),1)]),_:1}),ce(Mg,{modelValue:ne(r).showHelp,"onUpdate:modelValue":u[2]||(u[2]=g=>ne(r).showHelp=g),"max-width":"1000"},{default:xt(()=>[ce(Ng,null,{default:xt(()=>[ce(Nm,null,{default:xt(()=>[ie("h1",null,He(i.$t("helpGeneralNavigation")),1),ce(ab,null,{default:xt(()=>[ie("thead",null,[ie("tr",null,[ie("th",nye,He(i.$t("helpAction")),1),ie("th",oye,He(i.$t("helpShortcut")),1)])]),ie("tbody",null,[ie("tr",null,[ie("td",null,He(i.$t("helpNextElement")),1),ie("td",null,He(i.$t("helpKeyTab")),1)]),ie("tr",null,[ie("td",null,He(i.$t("helpPreviousElement")),1),ie("td",null,He(i.$t("helpKeyShiftTab")),1)]),ie("tr",null,[ie("td",null,He(i.$t("helpHeaderButtons")),1),ie("td",null,He(i.$t("helpKeyAlt0")),1)]),ie("tr",null,[ie("td",null,He(i.$t("helpNavigationButtons")),1),ie("td",null,He(i.$t("helpKeyAltNum")),1)]),ie("tr",null,[ie("td",null,He(i.$t("helpContentLeftColumn")),1),ie("td",null,He(i.$t("helpKeyAlt1")),1)]),ie("tr",null,[ie("td",null,He(i.$t("helpContentRightColumn")),1),ie("td",null,He(i.$t("helpKeyAlt2")),1)])])]),_:1}),ie("h1",null,He(i.$t("helpEssay")),1),ce(ab,null,{default:xt(()=>[ie("thead",null,[ie("tr",null,[ie("th",sye,He(i.$t("helpAction")),1),ie("th",rye,He(i.$t("helpShortcut")),1)])]),ie("tbody",null,[ie("tr",null,[ie("td",null,He(i.$t("helpEssayMoveCursor")),1),ie("td",null,He(i.$t("helpKeysArrows")),1)]),ie("tr",null,[ie("td",null,He(i.$t("helpEssaySelectText")),1),ie("td",null,He(i.$t("helpKeysShiftArrows")),1)]),ie("tr",null,[ie("td",null,He(i.$t("helpEssayUnselectText")),1),ie("td",null,He(i.$t("helpKeyEsc")),1)]),ie("tr",null,[ie("td",null,He(i.$t("helpEssayCreateComment")),1),ie("td",null,He(i.$t("helpKeyReturnWhenSelected")),1)]),ie("tr",null,[ie("td",null,He(i.$t("helpEssayJumpToComment")),1),ie("td",null,He(i.$t("helpKeyReturnWhenNotSelected")),1)])])]),_:1}),ie("h1",null,He(i.$t("helpComments")),1),ce(ab,null,{default:xt(()=>[ie("thead",null,[ie("tr",null,[ie("th",iye,He(i.$t("helpAction")),1),ie("th",aye,He(i.$t("helpShortcut")),1)])]),ie("tbody",null,[ie("tr",null,[ie("td",null,He(i.$t("helpCommentsSelect")),1),ie("td",null,He(i.$t("helpKeyReturnOnFocusedLabel")),1)]),ie("tr",null,[ie("td",null,He(i.$t("helpCommentsJumpToMark")),1),ie("td",null,He(i.$t("helpKeyAltReturn")),1)]),ie("tr",null,[ie("td",null,He(i.$t("helpCommentsJumpToCriteria")),1),ie("td",null,He(i.$t("helpKeyReturnOnFocusedPoints")),1)]),ie("tr",null,[ie("td",null,He(i.$t("helpCommentsReturnFromCriteria")),1),ie("td",null,He(i.$t("helpKeyEsc")),1)]),ie("tr",null,[ie("td",null,He(i.$t("helpCommentsDelete")),1),ie("td",null,He(i.$t("helpKeyAltDel")),1)]),ie("tr",null,[ie("td",null,He(i.$t("helpSnippetsOpen")),1),ie("td",null,He(i.$t("helpKeyF1")),1)]),ie("tr",null,[ie("td",null,He(i.$t("helpSnippetsApply")),1),ie("td",null,He(i.$t("helpKeyF1InSnippets")),1)])])]),_:1}),ie("h1",null,He(i.$t("helpEditorNavigation")),1),ce(ab,null,{default:xt(()=>[ie("thead",null,[ie("tr",null,[ie("th",lye,He(i.$t("helpAction")),1),ie("th",cye,He(i.$t("helpShortcut")),1)])]),ie("tbody",null,[ie("tr",null,[ie("td",null,He(i.$t("helpToolbarFocusIn")),1),ie("td",null,He(i.$t("helpKeyAltF10")),1)]),ie("tr",null,[ie("td",null,He(i.$t("helpToolbarFocusOut")),1),ie("td",null,He(i.$t("helpKeyEsc")),1)]),ie("tr",null,[ie("td",null,He(i.$t("helpToolbarNavigate")),1),ie("td",null,He(i.$t("helpKeysLeftRight")),1)]),ie("tr",null,[ie("td",null,He(i.$t("helpPopupBlockFormatsShow")),1),ie("td",null,He(i.$t("helpKeyReturn")),1)]),ie("tr",null,[ie("td",null,He(i.$t("helpPopupBlockFormatsNavigate")),1),ie("td",null,He(i.$t("helpKeysUpDown")),1)]),ie("tr",null,[ie("td",null,He(i.$t("helpPopupBlockFormatsSelect")),1),ie("td",null,He(i.$t("helpKeyReturn")),1)]),ie("tr",null,[ie("td",null,He(i.$t("helpPopupBlockFormatsClose")),1),ie("td",null,He(i.$t("helpKeyEsc")),1)])])]),_:1}),u[4]||(u[4]=ie("h1",null,"Tastenbefehle im Gutachten",-1)),ce(ab,null,{default:xt(()=>[u[3]||(u[3]=ie("thead",null,[ie("tr",null,[ie("th",{width:"50%"},"Aktion"),ie("th",{width:"50%"},"Tastenkombination")])],-1)),ie("tbody",null,[ie("tr",null,[ie("td",null,He(i.$t("helpCommandBold")),1),ie("td",null,He(i.$t("Ctrl + B")),1)]),ie("tr",null,[ie("td",null,He(i.$t("helpCommandItalic")),1),ie("td",null,He(i.$t("helpKeyCtrlI")),1)]),ie("tr",null,[ie("td",null,He(i.$t("helpCommundUnderline")),1),ie("td",null,He(i.$t("Ctrl + U")),1)]),ie("tr",null,[ie("td",null,He(i.$t("helpCommandSelectAll")),1),ie("td",null,He(i.$t("Ctrl + A")),1)]),ie("tr",null,[ie("td",null,He(i.$t("helpCommandRedo")),1),ie("td",null,He(i.$t("helpKeyCtrlYOrCtrlShiftZ")),1)]),ie("tr",null,[ie("td",null,He(i.$t("Rckgngig machen")),1),ie("td",null,He(i.$t("Ctrl + Z")),1)]),ie("tr",null,[ie("td",null,He(i.$t("helpCommandH1")),1),ie("td",null,He(i.$t("helpKeyShiftAlt1")),1)]),ie("tr",null,[ie("td",null,He(i.$t("helpCommandH2")),1),ie("td",null,He(i.$t("helpKeyShiftAlt2")),1)]),ie("tr",null,[ie("td",null,He(i.$t("helpCommandH3")),1),ie("td",null,He(i.$t("helpKeyShiftAlt3")),1)]),ie("tr",null,[ie("td",null,He(i.$t("helpCommandH4")),1),ie("td",null,He(i.$t("helpKeyShiftAlt4")),1)]),ie("tr",null,[ie("td",null,He(i.$t("helpCommandH5")),1),ie("td",null,He(i.$t("helpKeyShiftAlt5")),1)]),ie("tr",null,[ie("td",null,He(i.$t("helpCommandH6")),1),ie("td",null,He(i.$t("helpKeyShiftAlt6")),1)]),ie("tr",null,[ie("td",null,He(i.$t("helpCommandParagraph")),1),ie("td",null,He(i.$t("helpKeyShiftAlt7")),1)]),ie("tr",null,[ie("td",null,He(i.$t("helpSnippetsOpen")),1),ie("td",null,He(i.$t("helpKeyF1")),1)]),ie("tr",null,[ie("td",null,He(i.$t("helpSnippetsApply")),1),ie("td",null,He(i.$t("helpKeyF1InSnippets")),1)])])]),_:1,__:[3]})]),_:1,__:[4]}),ce(Pm,null,{default:xt(()=>[ce(Io,{onClick:u[1]||(u[1]=g=>ne(r).showHelp=!1)},{default:xt(()=>[ie("span",null,He(i.$t("helpCloseHelp")),1)]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}},dye=Ea(uye,[["__scopeId","data-v-7153d5db"]]),fye=qn({text:String,onClick:Lm(),...or(),...oc()},"VLabel"),dte=ts()({name:"VLabel",props:fye(),setup(t,r){let{slots:i}=r;return $s(()=>{var u;return ie("label",{class:xo(["v-label",{"v-label--clickable":!!t.onClick},t.class]),style:Qs(t.style),onClick:t.onClick},[t.text,(u=i.default)==null?void 0:u.call(i)])}),{}}}),fte=Symbol.for("vuetify:selection-control-group"),mte=qn({color:String,disabled:{type:Boolean,default:null},defaultsTarget:String,error:Boolean,id:String,inline:Boolean,falseIcon:fi,trueIcon:fi,ripple:{type:[Boolean,Object],default:!0},multiple:{type:Boolean,default:null},name:String,readonly:{type:Boolean,default:null},modelValue:null,type:String,valueComparator:{type:Function,default:Qh},...or(),...tp(),...oc()},"SelectionControlGroup"),mye=qn({...mte({defaultsTarget:"VSelectionControl"})},"VSelectionControlGroup");ts()({name:"VSelectionControlGroup",props:mye(),emits:{"update:modelValue":t=>!0},setup(t,r){let{slots:i}=r;const u=ra(t,"modelValue"),g=V1(),h=En(()=>t.id||`v-selection-control-group-${g}`),x=En(()=>t.name||h.value),w=new Set;return Wf(fte,{modelValue:u,forceUpdate:()=>{w.forEach(R=>R())},onForceUpdate:R=>{w.add(R),eu(()=>{w.delete(R)})}}),qx({[t.defaultsTarget]:{color:En(()=>t.color),disabled:En(()=>t.disabled),density:En(()=>t.density),error:En(()=>t.error),inline:En(()=>t.inline),modelValue:u,multiple:En(()=>!!t.multiple||t.multiple==null&&Array.isArray(u.value)),name:x,falseIcon:En(()=>t.falseIcon),trueIcon:En(()=>t.trueIcon),readonly:En(()=>t.readonly),ripple:En(()=>t.ripple),type:En(()=>t.type),valueComparator:En(()=>t.valueComparator)}}),$s(()=>{var R;return ie("div",{class:xo(["v-selection-control-group",{"v-selection-control-group--inline":t.inline},t.class]),style:Qs(t.style),role:t.type==="radio"?"radiogroup":void 0},[(R=i.default)==null?void 0:R.call(i)])}),{}}});const gte=qn({label:String,baseColor:String,trueValue:null,falseValue:null,value:null,...or(),...mte()},"VSelectionControl");function gye(t){const r=ka(fte,void 0),{densityClasses:i}=pb(t),u=ra(t,"modelValue"),g=Mt(()=>t.trueValue!==void 0?t.trueValue:t.value!==void 0?t.value:!0),h=Mt(()=>t.falseValue!==void 0?t.falseValue:!1),x=Mt(()=>!!t.multiple||t.multiple==null&&Array.isArray(u.value)),w=Mt({get(){const K=r?r.modelValue.value:u.value;return x.value?Wd(K).some(Z=>t.valueComparator(Z,g.value)):t.valueComparator(K,g.value)},set(K){if(t.readonly)return;const Z=K?g.value:h.value;let Q=Z;x.value&&(Q=K?[...Wd(u.value),Z]:Wd(u.value).filter(re=>!t.valueComparator(re,g.value))),r?r.modelValue.value=Q:u.value=Q}}),{textColorClasses:R,textColorStyles:D}=gb(()=>{if(!(t.error||t.disabled))return w.value?t.color:t.baseColor}),{backgroundColorClasses:O,backgroundColorStyles:M}=db(()=>w.value&&!t.error&&!t.disabled?t.color:t.baseColor),H=Mt(()=>w.value?t.trueIcon:t.falseIcon);return{group:r,densityClasses:i,trueValue:g,falseValue:h,model:w,textColorClasses:R,textColorStyles:D,backgroundColorClasses:O,backgroundColorStyles:M,icon:H}}const sX=ts()({name:"VSelectionControl",directives:{vRipple:B1},inheritAttrs:!1,props:gte(),emits:{"update:modelValue":t=>!0},setup(t,r){let{attrs:i,slots:u}=r;const{group:g,densityClasses:h,icon:x,model:w,textColorClasses:R,textColorStyles:D,backgroundColorClasses:O,backgroundColorStyles:M,trueValue:H}=gye(t),K=V1(),Z=Do(!1),Q=Do(!1),re=Ln(),U=En(()=>t.id||`input-${K}`),ge=En(()=>!t.disabled&&!t.readonly);g==null||g.onForceUpdate(()=>{re.value&&(re.value.checked=w.value)});function de(_e){ge.value&&(Z.value=!0,AE(_e.target,":focus-visible")!==!1&&(Q.value=!0))}function q(){Z.value=!1,Q.value=!1}function he(_e){_e.stopPropagation()}function oe(_e){if(!ge.value){re.value&&(re.value.checked=w.value);return}t.readonly&&g&&ys(()=>g.forceUpdate()),w.value=_e.target.checked}return $s(()=>{var Ce,Te;const _e=u.label?u.label({label:t.label,props:{for:U.value}}):t.label,[Ue,Qe]=hI(i),ct=ie("input",Xo({ref:re,checked:w.value,disabled:!!t.disabled,id:U.value,onBlur:q,onFocus:de,onInput:oe,"aria-disabled":!!t.disabled,"aria-label":t.label,type:t.type,value:H.value,name:t.name,"aria-checked":t.type==="checkbox"?w.value:void 0},Qe),null);return ie("div",Xo({class:["v-selection-control",{"v-selection-control--dirty":w.value,"v-selection-control--disabled":t.disabled,"v-selection-control--error":t.error,"v-selection-control--focused":Z.value,"v-selection-control--focus-visible":Q.value,"v-selection-control--inline":t.inline},h.value,t.class]},Ue,{style:t.style}),[ie("div",{class:xo(["v-selection-control__wrapper",R.value]),style:Qs(D.value)},[(Ce=u.default)==null?void 0:Ce.call(u,{backgroundColorClasses:O,backgroundColorStyles:M}),Zn(ie("div",{class:xo(["v-selection-control__input"])},[((Te=u.input)==null?void 0:Te.call(u,{model:w,textColorClasses:R,textColorStyles:D,backgroundColorClasses:O,backgroundColorStyles:M,inputNode:ct,icon:x.value,props:{onFocus:de,onBlur:q,id:U.value}}))??ie(ms,null,[x.value&&ce(Gn,{key:"icon",icon:x.value},null),ct])]),[[B1,t.ripple&&[!t.disabled&&!t.readonly,null,["center","circle"]]]])]),_e&&ce(dte,{for:U.value,onClick:he},{default:()=>[_e]})])}),{isFocused:Z,input:re}}}),hte=qn({indeterminate:Boolean,indeterminateIcon:{type:fi,default:"$checkboxIndeterminate"},...gte({falseIcon:"$checkboxOff",trueIcon:"$checkboxOn"})},"VCheckboxBtn"),AF=ts()({name:"VCheckboxBtn",props:hte(),emits:{"update:modelValue":t=>!0,"update:indeterminate":t=>!0},setup(t,r){let{slots:i}=r;const u=ra(t,"indeterminate"),g=ra(t,"modelValue");function h(R){u.value&&(u.value=!1)}const x=En(()=>u.value?t.indeterminateIcon:t.falseIcon),w=En(()=>u.value?t.indeterminateIcon:t.trueIcon);return $s(()=>{const R=Gx(sX.filterProps(t),["modelValue"]);return ce(sX,Xo(R,{modelValue:g.value,"onUpdate:modelValue":[D=>g.value=D,h],class:["v-checkbox-btn",t.class],style:t.style,type:"checkbox",falseIcon:x.value,trueIcon:w.value,"aria-checked":u.value?"mixed":void 0}),i)}),{}}});function pte(t){const{t:r}=zE();function i(u){let{name:g,color:h,...x}=u;const w={prepend:"prependAction",prependInner:"prependAction",append:"appendAction",appendInner:"appendAction",clear:"clear"}[g],R=t[`onClick:${g}`];function D(M){M.key!=="Enter"&&M.key!==" "||(M.preventDefault(),M.stopPropagation(),jF(R,new PointerEvent("click",M)))}const O=R&&w?r(`$vuetify.input.${w}`,t.label??""):void 0;return ce(Gn,Xo({icon:t[`${g}Icon`],"aria-label":O,onClick:R,onKeydown:D,color:h},x),null)}return{InputIcon:i}}const hye=qn({active:Boolean,color:String,messages:{type:[Array,String],default:()=>[]},...or(),...ZE({transition:{component:tte,leaveAbsolute:!0,group:!0}})},"VMessages"),pye=ts()({name:"VMessages",props:hye(),setup(t,r){let{slots:i}=r;const u=Mt(()=>Wd(t.messages)),{textColorClasses:g,textColorStyles:h}=gb(()=>t.color);return $s(()=>ce(Fx,{transition:t.transition,tag:"div",class:xo(["v-messages",g.value,t.class]),style:Qs([h.value,t.style])},{default:()=>[t.active&&u.value.map((x,w)=>ie("div",{class:"v-messages__message",key:`${w}-${u.value}`},[i.message?i.message({message:x}):x]))]})),{}}}),bte=qn({focused:Boolean,"onUpdate:focused":Lm()},"focus");function CI(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Bv();const i=ra(t,"focused"),u=En(()=>({[`${r}--focused`]:i.value}));function g(){i.value=!0}function h(){i.value=!1}return{focusClasses:u,isFocused:i,focus:g,blur:h}}const bye=Symbol.for("vuetify:form");function gK(t){const r=ka(bye,null);return{...r,isReadonly:Mt(()=>!!((t==null?void 0:t.readonly)??(r==null?void 0:r.isReadonly.value))),isDisabled:Mt(()=>!!((t==null?void 0:t.disabled)??(r==null?void 0:r.isDisabled.value)))}}const vye=Symbol.for("vuetify:rules");function yye(t){const r=ka(vye,null);return r?r(t):En(t)}const xye=qn({disabled:{type:Boolean,default:null},error:Boolean,errorMessages:{type:[Array,String],default:()=>[]},maxErrors:{type:[Number,String],default:1},name:String,label:String,readonly:{type:Boolean,default:null},rules:{type:Array,default:()=>[]},modelValue:null,validateOn:String,validationValue:null,...bte()},"validation");function wye(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Bv(),i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:V1();const u=ra(t,"modelValue"),g=Mt(()=>t.validationValue===void 0?u.value:t.validationValue),h=gK(t),x=yye(()=>t.rules),w=Ln([]),R=Do(!0),D=Mt(()=>!!(Wd(u.value===""?null:u.value).length||Wd(g.value===""?null:g.value).length)),O=Mt(()=>{var q;return(q=t.errorMessages)!=null&&q.length?Wd(t.errorMessages).concat(w.value).slice(0,Math.max(0,Number(t.maxErrors))):w.value}),M=Mt(()=>{var oe;let q=(t.validateOn??((oe=h.validateOn)==null?void 0:oe.value))||"input";q==="lazy"&&(q="input lazy"),q==="eager"&&(q="input eager");const he=new Set((q==null?void 0:q.split(" "))??[]);return{input:he.has("input"),blur:he.has("blur")||he.has("input")||he.has("invalid-input"),invalidInput:he.has("invalid-input"),lazy:he.has("lazy"),eager:he.has("eager")}}),H=Mt(()=>{var q;return t.error||(q=t.errorMessages)!=null&&q.length?!1:t.rules.length?R.value?w.value.length||M.value.lazy?null:!0:!w.value.length:!0}),K=Do(!1),Z=Mt(()=>({[`${r}--error`]:H.value===!1,[`${r}--dirty`]:D.value,[`${r}--disabled`]:h.isDisabled.value,[`${r}--readonly`]:h.isReadonly.value})),Q=xc("validation"),re=Mt(()=>t.name??ne(i));fI(()=>{var q;(q=h.register)==null||q.call(h,{id:re.value,vm:Q,validate:de,reset:U,resetValidation:ge})}),Ru(()=>{var q;(q=h.unregister)==null||q.call(h,re.value)}),jd(async()=>{var q;M.value.lazy||await de(!M.value.eager),(q=h.update)==null||q.call(h,re.value,H.value,O.value)}),Jh(()=>M.value.input||M.value.invalidInput&&H.value===!1,()=>{Fn(g,()=>{if(g.value!=null)de();else if(t.focused){const q=Fn(()=>t.focused,he=>{he||de(),q()})}})}),Jh(()=>M.value.blur,()=>{Fn(()=>t.focused,q=>{q||de()})}),Fn([H,O],()=>{var q;(q=h.update)==null||q.call(h,re.value,H.value,O.value)});async function U(){u.value=null,await ys(),await ge()}async function ge(){R.value=!0,M.value.lazy?w.value=[]:await de(!M.value.eager)}async function de(){let q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;const he=[];K.value=!0;for(const oe of x.value){if(he.length>=Number(t.maxErrors??1))break;const Ue=await(typeof oe=="function"?oe:()=>oe)(g.value);if(Ue!==!0){if(Ue!==!1&&typeof Ue!="string"){console.warn(`${Ue} is not a valid value. Rule functions must return boolean true or a string.`);continue}he.push(Ue||"")}}return w.value=he,K.value=!1,R.value=q,w.value}return{errorMessages:O,isDirty:D,isDisabled:h.isDisabled,isReadonly:h.isReadonly,isPristine:R,isValid:H,isValidating:K,reset:U,resetValidation:ge,validate:de,validationClasses:Z}}const SI=qn({id:String,appendIcon:fi,baseColor:String,centerAffix:{type:Boolean,default:!0},color:String,glow:Boolean,iconColor:[Boolean,String],prependIcon:fi,hideDetails:[Boolean,String],hideSpinButtons:Boolean,hint:String,persistentHint:Boolean,messages:{type:[Array,String],default:()=>[]},direction:{type:String,default:"horizontal",validator:t=>["horizontal","vertical"].includes(t)},"onClick:prepend":Lm(),"onClick:append":Lm(),...or(),...tp(),...KF(bb(),["maxWidth","minWidth","width"]),...oc(),...xye()},"VInput"),Zx=ts()({name:"VInput",props:{...SI()},emits:{"update:modelValue":t=>!0},setup(t,r){let{attrs:i,slots:u,emit:g}=r;const{densityClasses:h}=pb(t),{dimensionStyles:x}=vb(t),{themeClasses:w}=tu(t),{rtlClasses:R}=ep(),{InputIcon:D}=pte(t),O=V1(),M=Mt(()=>t.id||`input-${O}`),H=Mt(()=>`${M.value}-messages`),{errorMessages:K,isDirty:Z,isDisabled:Q,isReadonly:re,isPristine:U,isValid:ge,isValidating:de,reset:q,resetValidation:he,validate:oe,validationClasses:_e}=wye(t,"v-input",M),Ue=Mt(()=>({id:M,messagesId:H,isDirty:Z,isDisabled:Q,isReadonly:re,isPristine:U,isValid:ge,isValidating:de,reset:q,resetValidation:he,validate:oe})),Qe=En(()=>t.error||t.disabled?void 0:t.focused?t.color:t.baseColor),ct=En(()=>{if(t.iconColor)return t.iconColor===!0?Qe.value:t.iconColor}),Ce=Mt(()=>{var Te;return(Te=t.errorMessages)!=null&&Te.length||!U.value&&K.value.length?K.value:t.hint&&(t.persistentHint||t.focused)?t.hint:t.messages});return $s(()=>{var Ft,en,ft,Rn;const Te=!!(u.prepend||t.prependIcon),I=!!(u.append||t.appendIcon),dt=Ce.value.length>0,gt=!t.hideDetails||t.hideDetails==="auto"&&(dt||!!u.details);return ie("div",{class:xo(["v-input",`v-input--${t.direction}`,{"v-input--center-affix":t.centerAffix,"v-input--focused":t.focused,"v-input--glow":t.glow,"v-input--hide-spin-buttons":t.hideSpinButtons},h.value,w.value,R.value,_e.value,t.class]),style:Qs([x.value,t.style])},[Te&&ie("div",{key:"prepend",class:"v-input__prepend"},[(Ft=u.prepend)==null?void 0:Ft.call(u,Ue.value),t.prependIcon&&ce(D,{key:"prepend-icon",name:"prepend",color:ct.value},null)]),u.default&&ie("div",{class:"v-input__control"},[(en=u.default)==null?void 0:en.call(u,Ue.value)]),I&&ie("div",{key:"append",class:"v-input__append"},[t.appendIcon&&ce(D,{key:"append-icon",name:"append",color:ct.value},null),(ft=u.append)==null?void 0:ft.call(u,Ue.value)]),gt&&ie("div",{id:H.value,class:"v-input__details",role:"alert","aria-live":"polite"},[ce(pye,{active:dt,messages:Ce.value},{message:u.message}),(Rn=u.details)==null?void 0:Rn.call(u,Ue.value)])])}),{reset:q,resetValidation:he,validate:oe,isValid:ge,errorMessages:K}}}),Cye=qn({...SI(),...Gx(hte(),["inline"])},"VCheckbox"),Sye=ts()({name:"VCheckbox",inheritAttrs:!1,props:Cye(),emits:{"update:modelValue":t=>!0,"update:focused":t=>!0},setup(t,r){let{attrs:i,slots:u}=r;const g=ra(t,"modelValue"),{isFocused:h,focus:x,blur:w}=CI(t),R=Ln(),D=V1();return $s(()=>{const[O,M]=hI(i),H=Zx.filterProps(t),K=AF.filterProps(t);return ce(Zx,Xo({ref:R,class:["v-checkbox",t.class]},O,H,{modelValue:g.value,"onUpdate:modelValue":Z=>g.value=Z,id:t.id||`checkbox-${D}`,focused:h.value,style:t.style}),{...u,default:Z=>{let{id:Q,messagesId:re,isDisabled:U,isReadonly:ge,isValid:de}=Z;return ce(AF,Xo(K,{id:Q.value,"aria-describedby":re.value,disabled:U.value,readonly:ge.value},M,{error:de.value===!1,modelValue:g.value,"onUpdate:modelValue":q=>g.value=q,onFocus:x,onBlur:w}),u)}})}),Xx({},R)}});function _ye(t){let{selectedElement:r,containerElement:i,isRtl:u,isHorizontal:g}=t;const h=JR(g,i),x=vte(g,u,i),w=JR(g,r),R=yte(g,r),D=w*.4;return x>R?R-D:x+h<R+w?R-h+w+D:x}function kye(t){let{selectedElement:r,containerElement:i,isHorizontal:u}=t;const g=JR(u,i),h=yte(u,r),x=JR(u,r);return h-g/2+x/2}function rX(t,r){const i=t?"scrollWidth":"scrollHeight";return(r==null?void 0:r[i])||0}function Eye(t,r){const i=t?"clientWidth":"clientHeight";return(r==null?void 0:r[i])||0}function vte(t,r,i){if(!i)return 0;const{scrollLeft:u,offsetWidth:g,scrollWidth:h}=i;return t?r?h-g+u:u:i.scrollTop}function JR(t,r){const i=t?"offsetWidth":"offsetHeight";return(r==null?void 0:r[i])||0}function yte(t,r){const i=t?"offsetLeft":"offsetTop";return(r==null?void 0:r[i])||0}const Tye=Symbol.for("vuetify:v-slide-group"),xte=qn({centerActive:Boolean,contentClass:null,direction:{type:String,default:"horizontal"},symbol:{type:null,default:Tye},nextIcon:{type:fi,default:"$next"},prevIcon:{type:fi,default:"$prev"},showArrows:{type:[Boolean,String],validator:t=>typeof t=="boolean"||["always","desktop","mobile"].includes(t)},...or(),...PQ({mobile:null}),...Ua(),...iK({selectedClass:"v-slide-group-item--active"})},"VSlideGroup"),iX=ts()({name:"VSlideGroup",props:xte(),emits:{"update:modelValue":t=>!0},setup(t,r){let{slots:i}=r;const{isRtl:u}=ep(),{displayClasses:g,mobile:h}=qF(t),x=aK(t,t.symbol),w=Do(!1),R=Do(0),D=Do(0),O=Do(0),M=Mt(()=>t.direction==="horizontal"),{resizeRef:H,contentRect:K}=RE(),{resizeRef:Z,contentRect:Q}=RE(),re=Lhe(),U=Mt(()=>({container:H.el,duration:200,easing:"easeOutQuart"})),ge=Mt(()=>x.selected.value.length?x.items.value.findIndex(rt=>rt.id===x.selected.value[0]):-1),de=Mt(()=>x.selected.value.length?x.items.value.findIndex(rt=>rt.id===x.selected.value[x.selected.value.length-1]):-1);if(_i){let rt=-1;Fn(()=>[x.selected.value,K.value,Q.value,M.value],()=>{cancelAnimationFrame(rt),rt=requestAnimationFrame(()=>{if(K.value&&Q.value){const Ve=M.value?"width":"height";D.value=K.value[Ve],O.value=Q.value[Ve],w.value=D.value+1<O.value}if(ge.value>=0&&Z.el){const Ve=Z.el.children[de.value];he(Ve,t.centerActive)}})})}const q=Do(!1);function he(rt,Ve){let bt=0;Ve?bt=kye({containerElement:H.el,isHorizontal:M.value,selectedElement:rt}):bt=_ye({containerElement:H.el,isHorizontal:M.value,isRtl:u.value,selectedElement:rt}),oe(bt)}function oe(rt){if(!_i||!H.el)return;const Ve=JR(M.value,H.el),bt=vte(M.value,u.value,H.el);if(!(rX(M.value,H.el)<=Ve||Math.abs(rt-bt)<16)){if(M.value&&u.value&&H.el){const{scrollWidth:Yt,offsetWidth:Bn}=H.el;rt=Yt-Bn-rt}M.value?re.horizontal(rt,U.value):re(rt,U.value)}}function _e(rt){const{scrollTop:Ve,scrollLeft:bt}=rt.target;R.value=M.value?bt:Ve}function Ue(rt){if(q.value=!0,!(!w.value||!Z.el)){for(const Ve of rt.composedPath())for(const bt of Z.el.children)if(bt===Ve){he(bt);return}}}function Qe(rt){q.value=!1}let ct=!1;function Ce(rt){var Ve;!ct&&!q.value&&!(rt.relatedTarget&&((Ve=Z.el)!=null&&Ve.contains(rt.relatedTarget)))&&gt(),ct=!1}function Te(){ct=!0}function I(rt){if(!Z.el)return;function Ve(bt){rt.preventDefault(),gt(bt)}M.value?rt.key==="ArrowRight"?Ve(u.value?"prev":"next"):rt.key==="ArrowLeft"&&Ve(u.value?"next":"prev"):rt.key==="ArrowDown"?Ve("next"):rt.key==="ArrowUp"&&Ve("prev"),rt.key==="Home"?Ve("first"):rt.key==="End"&&Ve("last")}function dt(rt,Ve){if(!rt)return;let bt=rt;do bt=bt==null?void 0:bt[Ve==="next"?"nextElementSibling":"previousElementSibling"];while(bt!=null&&bt.hasAttribute("disabled"));return bt}function gt(rt){if(!Z.el)return;let Ve;if(!rt)Ve=UR(Z.el)[0];else if(rt==="next"){if(Ve=dt(Z.el.querySelector(":focus"),rt),!Ve)return gt("first")}else if(rt==="prev"){if(Ve=dt(Z.el.querySelector(":focus"),rt),!Ve)return gt("last")}else rt==="first"?(Ve=Z.el.firstElementChild,Ve!=null&&Ve.hasAttribute("disabled")&&(Ve=dt(Ve,"next"))):rt==="last"&&(Ve=Z.el.lastElementChild,Ve!=null&&Ve.hasAttribute("disabled")&&(Ve=dt(Ve,"prev")));Ve&&Ve.focus({preventScroll:!0})}function Ft(rt){const Ve=M.value&&u.value?-1:1,bt=(rt==="prev"?-Ve:Ve)*D.value;let Yn=R.value+bt;if(M.value&&u.value&&H.el){const{scrollWidth:Yt,offsetWidth:Bn}=H.el;Yn+=Yt-Bn}oe(Yn)}const en=Mt(()=>({next:x.next,prev:x.prev,select:x.select,isSelected:x.isSelected})),ft=Mt(()=>{switch(t.showArrows){case"always":return!0;case"desktop":return!h.value;case!0:return w.value||Math.abs(R.value)>0;case"mobile":return h.value||w.value||Math.abs(R.value)>0;default:return!h.value&&(w.value||Math.abs(R.value)>0)}}),Rn=Mt(()=>Math.abs(R.value)>1),Ot=Mt(()=>{if(!H.value)return!1;const rt=rX(M.value,H.el),Ve=Eye(M.value,H.el);return rt-Ve-Math.abs(R.value)>1});return $s(()=>ce(t.tag,{class:xo(["v-slide-group",{"v-slide-group--vertical":!M.value,"v-slide-group--has-affixes":ft.value,"v-slide-group--is-overflowing":w.value},g.value,t.class]),style:Qs(t.style),tabindex:q.value||x.selected.value.length?-1:0,onFocus:Ce},{default:()=>{var rt,Ve,bt;return[ft.value&&ie("div",{key:"prev",class:xo(["v-slide-group__prev",{"v-slide-group__prev--disabled":!Rn.value}]),onMousedown:Te,onClick:()=>Rn.value&&Ft("prev")},[((rt=i.prev)==null?void 0:rt.call(i,en.value))??ce(XY,null,{default:()=>[ce(Gn,{icon:u.value?t.nextIcon:t.prevIcon},null)]})]),ie("div",{key:"container",ref:H,class:xo(["v-slide-group__container",t.contentClass]),onScroll:_e},[ie("div",{ref:Z,class:"v-slide-group__content",onFocusin:Ue,onFocusout:Qe,onKeydown:I},[(Ve=i.default)==null?void 0:Ve.call(i,en.value)])]),ft.value&&ie("div",{key:"next",class:xo(["v-slide-group__next",{"v-slide-group__next--disabled":!Ot.value}]),onMousedown:Te,onClick:()=>Ot.value&&Ft("next")},[((bt=i.next)==null?void 0:bt.call(i,en.value))??ce(XY,null,{default:()=>[ce(Gn,{icon:u.value?t.prevIcon:t.nextIcon},null)]})])]}})),{selected:x.selected,scrollTo:Ft,scrollOffset:R,focus:gt,hasPrev:Rn,hasNext:Ot}}}),wte=Symbol.for("vuetify:v-chip-group"),Aye=qn({baseColor:String,column:Boolean,filter:Boolean,valueComparator:{type:Function,default:Qh},...xte(),...or(),...iK({selectedClass:"v-chip--selected"}),...Ua(),...oc(),...j1({variant:"tonal"})},"VChipGroup");ts()({name:"VChipGroup",props:Aye(),emits:{"update:modelValue":t=>!0},setup(t,r){let{slots:i}=r;const{themeClasses:u}=tu(t),{isSelected:g,select:h,next:x,prev:w,selected:R}=aK(t,wte);return qx({VChip:{baseColor:En(()=>t.baseColor),color:En(()=>t.color),disabled:En(()=>t.disabled),filter:En(()=>t.filter),variant:En(()=>t.variant)}}),$s(()=>{const D=iX.filterProps(t);return ce(iX,Xo(D,{class:["v-chip-group",{"v-chip-group--column":t.column},u.value,t.class],style:t.style}),{default:()=>{var O;return[(O=i.default)==null?void 0:O.call(i,{isSelected:g,select:h,next:x,prev:w,selected:R.value})]}})}),{}}});const Oye=qn({activeClass:String,appendAvatar:String,appendIcon:fi,baseColor:String,closable:Boolean,closeIcon:{type:fi,default:"$delete"},closeLabel:{type:String,default:"$vuetify.close"},draggable:Boolean,filter:Boolean,filterIcon:{type:fi,default:"$complete"},label:Boolean,link:{type:Boolean,default:void 0},pill:Boolean,prependAvatar:String,prependIcon:fi,ripple:{type:[Boolean,Object],default:!0},text:{type:[String,Number,Boolean],default:void 0},modelValue:{type:Boolean,default:!0},onClick:Lm(),onClickOnce:Lm(),...H1(),...or(),...tp(),...W1(),...Lee(),...Fg(),...c8(),...yI(),...Ua({tag:"span"}),...oc(),...j1({variant:"tonal"})},"VChip"),hK=ts()({name:"VChip",directives:{vRipple:B1},props:Oye(),emits:{"click:close":t=>!0,"update:modelValue":t=>!0,"group:selected":t=>!0,click:t=>!0},setup(t,r){let{attrs:i,emit:u,slots:g}=r;const{t:h}=zE(),{borderClasses:x}=U1(t),{densityClasses:w}=pb(t),{elevationClasses:R}=K1(t),{roundedClasses:D}=$g(t),{sizeClasses:O}=xI(t),{themeClasses:M}=tu(t),H=ra(t,"modelValue"),K=Bee(t,wte,!1),Z=l8(t,i),Q=En(()=>t.link!==!1&&Z.isLink.value),re=Mt(()=>!t.disabled&&t.link!==!1&&(!!K||t.link||Z.isClickable.value)),U=En(()=>({"aria-label":h(t.closeLabel),disabled:t.disabled,onClick(_e){_e.preventDefault(),_e.stopPropagation(),H.value=!1,u("click:close",_e)}})),{colorClasses:ge,colorStyles:de,variantClasses:q}=jE(()=>({color:!K||K.isSelected.value?t.color??t.baseColor:t.baseColor,variant:t.variant}));function he(_e){var Ue;u("click",_e),re.value&&((Ue=Z.navigate)==null||Ue.call(Z,_e),K==null||K.toggle())}function oe(_e){(_e.key==="Enter"||_e.key===" ")&&(_e.preventDefault(),he(_e))}return()=>{var dt;const _e=Z.isLink.value?"a":t.tag,Ue=!!(t.appendIcon||t.appendAvatar),Qe=!!(Ue||g.append),ct=!!(g.close||t.closable),Ce=!!(g.filter||t.filter)&&K,Te=!!(t.prependIcon||t.prependAvatar),I=!!(Te||g.prepend);return H.value&&Zn(ce(_e,Xo({class:["v-chip",{"v-chip--disabled":t.disabled,"v-chip--label":t.label,"v-chip--link":re.value,"v-chip--filter":Ce,"v-chip--pill":t.pill,[`${t.activeClass}`]:t.activeClass&&((dt=Z.isActive)==null?void 0:dt.value)},M.value,x.value,ge.value,w.value,R.value,D.value,O.value,q.value,K==null?void 0:K.selectedClass.value,t.class],style:[de.value,t.style],disabled:t.disabled||void 0,draggable:t.draggable,tabindex:re.value?0:void 0,onClick:he,onKeydown:re.value&&!Q.value&&oe},Z.linkProps),{default:()=>{var gt;return[KE(re.value,"v-chip"),Ce&&ce(ote,{key:"filter"},{default:()=>[Zn(ie("div",{class:"v-chip__filter"},[g.filter?ce(cl,{key:"filter-defaults",disabled:!t.filterIcon,defaults:{VIcon:{icon:t.filterIcon}}},g.filter):ce(Gn,{key:"filter-icon",icon:t.filterIcon},null)]),[[Co,K.isSelected.value]])]}),I&&ie("div",{key:"prepend",class:"v-chip__prepend"},[g.prepend?ce(cl,{key:"prepend-defaults",disabled:!Te,defaults:{VAvatar:{image:t.prependAvatar,start:!0},VIcon:{icon:t.prependIcon,start:!0}}},g.prepend):ie(ms,null,[t.prependIcon&&ce(Gn,{key:"prepend-icon",icon:t.prependIcon,start:!0},null),t.prependAvatar&&ce(jx,{key:"prepend-avatar",image:t.prependAvatar,start:!0},null)])]),ie("div",{class:"v-chip__content","data-no-activator":""},[((gt=g.default)==null?void 0:gt.call(g,{isSelected:K==null?void 0:K.isSelected.value,selectedClass:K==null?void 0:K.selectedClass.value,select:K==null?void 0:K.select,toggle:K==null?void 0:K.toggle,value:K==null?void 0:K.value.value,disabled:t.disabled}))??He(t.text)]),Qe&&ie("div",{key:"append",class:"v-chip__append"},[g.append?ce(cl,{key:"append-defaults",disabled:!Ue,defaults:{VAvatar:{end:!0,image:t.appendAvatar},VIcon:{end:!0,icon:t.appendIcon}}},g.append):ie(ms,null,[t.appendIcon&&ce(Gn,{key:"append-icon",end:!0,icon:t.appendIcon},null),t.appendAvatar&&ce(jx,{key:"append-avatar",end:!0,image:t.appendAvatar},null)])]),ct&&ie("button",Xo({key:"close",class:"v-chip__close",type:"button","data-testid":"close-chip"},U.value),[g.close?ce(cl,{key:"close-defaults",defaults:{VIcon:{icon:t.closeIcon,size:"x-small"}}},g.close):ce(Gn,{key:"close-icon",icon:t.closeIcon,size:"x-small"},null)])]}}),[[B1,re.value&&t.ripple,null]])}}}),Rye=qn({color:String,inset:Boolean,length:[Number,String],opacity:[Number,String],thickness:[Number,String],vertical:Boolean,...or(),...oc()},"VDivider"),_E=ts()({name:"VDivider",props:Rye(),setup(t,r){let{attrs:i,slots:u}=r;const{themeClasses:g}=tu(t),{textColorClasses:h,textColorStyles:x}=gb(()=>t.color),w=Mt(()=>{const R={};return t.length&&(R[t.vertical?"height":"width"]=Fs(t.length)),t.thickness&&(R[t.vertical?"borderRightWidth":"borderTopWidth"]=Fs(t.thickness)),R});return $s(()=>{const R=ie("hr",{class:xo([{"v-divider":!0,"v-divider--inset":t.inset,"v-divider--vertical":t.vertical},g.value,h.value,t.class]),style:Qs([w.value,x.value,{"--v-border-opacity":t.opacity},t.style]),"aria-orientation":!i.role||i.role==="separator"?t.vertical?"vertical":"horizontal":void 0,role:`${i.role||"separator"}`},null);return u.default?ie("div",{class:xo(["v-divider__wrapper",{"v-divider__wrapper--vertical":t.vertical,"v-divider__wrapper--inset":t.inset}])},[R,ie("div",{class:"v-divider__content"},[u.default()]),R]):R}),{}}}),bW=Symbol.for("vuetify:list");function Cte(){let{filterable:t}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{filterable:!1};const r=ka(bW,{filterable:!1,hasPrepend:Do(!1),updateHasPrepend:()=>null}),i={filterable:r.filterable||t,hasPrepend:Do(!1),updateHasPrepend:u=>{u&&(i.hasPrepend.value=u)}};return Wf(bW,i),r}function Ste(){return ka(bW,null)}const pK=t=>{const r={activate:i=>{let{id:u,value:g,activated:h}=i;return u=Ns(u),t&&!g&&h.size===1&&h.has(u)||(g?h.add(u):h.delete(u)),h},in:(i,u,g)=>{let h=new Set;if(i!=null)for(const x of Wd(i))h=r.activate({id:x,value:!0,activated:new Set(h),children:u,parents:g});return h},out:i=>Array.from(i)};return r},_te=t=>{const r=pK(t);return{activate:u=>{let{activated:g,id:h,...x}=u;h=Ns(h);const w=g.has(h)?new Set([h]):new Set;return r.activate({...x,id:h,activated:w})},in:(u,g,h)=>{let x=new Set;if(u!=null){const w=Wd(u);w.length&&(x=r.in(w.slice(0,1),g,h))}return x},out:(u,g,h)=>r.out(u,g,h)}},Iye=t=>{const r=pK(t);return{activate:u=>{let{id:g,activated:h,children:x,...w}=u;return g=Ns(g),x.has(g)?h:r.activate({id:g,activated:h,children:x,...w})},in:r.in,out:r.out}},Dye=t=>{const r=_te(t);return{activate:u=>{let{id:g,activated:h,children:x,...w}=u;return g=Ns(g),x.has(g)?h:r.activate({id:g,activated:h,children:x,...w})},in:r.in,out:r.out}},Pye={open:t=>{let{id:r,value:i,opened:u,parents:g}=t;if(i){const h=new Set;h.add(r);let x=g.get(r);for(;x!=null;)h.add(x),x=g.get(x);return h}else return u.delete(r),u},select:()=>null},kte={open:t=>{let{id:r,value:i,opened:u,parents:g}=t;if(i){let h=g.get(r);for(u.add(r);h!=null&&h!==r;)u.add(h),h=g.get(h);return u}else u.delete(r);return u},select:()=>null},Nye={open:kte.open,select:t=>{let{id:r,value:i,opened:u,parents:g}=t;if(!i)return u;const h=[];let x=g.get(r);for(;x!=null;)h.push(x),x=g.get(x);return new Set(h)}},bK=t=>{const r={select:i=>{let{id:u,value:g,selected:h}=i;if(u=Ns(u),t&&!g){const x=Array.from(h.entries()).reduce((w,R)=>{let[D,O]=R;return O==="on"&&w.push(D),w},[]);if(x.length===1&&x[0]===u)return h}return h.set(u,g?"on":"off"),h},in:(i,u,g,h)=>{const x=new Map;for(const w of i||[])r.select({id:w,value:!0,selected:x,children:u,parents:g,disabled:h});return x},out:i=>{const u=[];for(const[g,h]of i.entries())h==="on"&&u.push(g);return u}};return r},Ete=t=>{const r=bK(t);return{select:u=>{let{selected:g,id:h,...x}=u;h=Ns(h);const w=g.has(h)?new Map([[h,g.get(h)]]):new Map;return r.select({...x,id:h,selected:w})},in:(u,g,h,x)=>u!=null&&u.length?r.in(u.slice(0,1),g,h,x):new Map,out:(u,g,h)=>r.out(u,g,h)}},Mye=t=>{const r=bK(t);return{select:u=>{let{id:g,selected:h,children:x,...w}=u;return g=Ns(g),x.has(g)?h:r.select({id:g,selected:h,children:x,...w})},in:r.in,out:r.out}},Lye=t=>{const r=Ete(t);return{select:u=>{let{id:g,selected:h,children:x,...w}=u;return g=Ns(g),x.has(g)?h:r.select({id:g,selected:h,children:x,...w})},in:r.in,out:r.out}},Tte=t=>{const r={select:i=>{let{id:u,value:g,selected:h,children:x,parents:w,disabled:R}=i;u=Ns(u);const D=new Map(h),O=[u];for(;O.length;){const H=O.shift();R.has(H)||h.set(Ns(H),g?"on":"off"),x.has(H)&&O.push(...x.get(H))}let M=Ns(w.get(u));for(;M;){let H=!0,K=!0;for(const Z of x.get(M)){const Q=Ns(Z);if(!R.has(Q)&&(h.get(Q)!=="on"&&(H=!1),h.has(Q)&&h.get(Q)!=="off"&&(K=!1),!H&&!K))break}h.set(M,H?"on":K?"off":"indeterminate"),M=Ns(w.get(M))}return t&&!g&&Array.from(h.entries()).reduce((K,Z)=>{let[Q,re]=Z;return re==="on"&&K.push(Q),K},[]).length===0?D:h},in:(i,u,g,h)=>{let x=new Map;for(const w of i||[])x=r.select({id:w,value:!0,selected:x,children:u,parents:g,disabled:h});return x},out:(i,u)=>{const g=[];for(const[h,x]of i.entries())x==="on"&&!u.has(h)&&g.push(h);return g}};return r},Bye=t=>{const r=Tte(t);return{select:r.select,in:r.in,out:(u,g,h)=>{const x=[];for(const[w,R]of u.entries())if(R==="on"){if(h.has(w)){const D=h.get(w);if(u.get(D)==="on")continue}x.push(w)}return x}}},QR=Symbol.for("vuetify:nested"),Ate={id:Do(),root:{register:()=>null,unregister:()=>null,children:Ln(new Map),parents:Ln(new Map),disabled:Ln(new Set),open:()=>null,openOnSelect:()=>null,activate:()=>null,select:()=>null,activatable:Ln(!1),selectable:Ln(!1),opened:Ln(new Set),activated:Ln(new Set),selected:Ln(new Map),selectedValues:Ln([]),getPath:()=>[]}},Fye=qn({activatable:Boolean,selectable:Boolean,activeStrategy:[String,Function,Object],selectStrategy:[String,Function,Object],openStrategy:[String,Object],opened:null,activated:null,selected:null,mandatory:Boolean},"nested"),$ye=t=>{let r=!1;const i=Do(new Map),u=Do(new Map),g=Do(new Set),h=ra(t,"opened",t.opened,Q=>new Set(Array.isArray(Q)?Q.map(re=>Ns(re)):Q),Q=>[...Q.values()]),x=Mt(()=>{if(typeof t.activeStrategy=="object")return t.activeStrategy;if(typeof t.activeStrategy=="function")return t.activeStrategy(t.mandatory);switch(t.activeStrategy){case"leaf":return Iye(t.mandatory);case"single-leaf":return Dye(t.mandatory);case"independent":return pK(t.mandatory);case"single-independent":default:return _te(t.mandatory)}}),w=Mt(()=>{if(typeof t.selectStrategy=="object")return t.selectStrategy;if(typeof t.selectStrategy=="function")return t.selectStrategy(t.mandatory);switch(t.selectStrategy){case"single-leaf":return Lye(t.mandatory);case"leaf":return Mye(t.mandatory);case"independent":return bK(t.mandatory);case"single-independent":return Ete(t.mandatory);case"trunk":return Bye(t.mandatory);case"classic":default:return Tte(t.mandatory)}}),R=Mt(()=>{if(typeof t.openStrategy=="object")return t.openStrategy;switch(t.openStrategy){case"list":return Nye;case"single":return Pye;case"multiple":default:return kte}}),D=ra(t,"activated",t.activated,Q=>x.value.in(Q,i.value,u.value),Q=>x.value.out(Q,i.value,u.value)),O=ra(t,"selected",t.selected,Q=>w.value.in(Q,i.value,u.value,g.value),Q=>w.value.out(Q,i.value,u.value));Ru(()=>{r=!0});function M(Q){const re=[];let U=Ns(Q);for(;U!=null;)re.unshift(U),U=u.value.get(U);return re}const H=xc("nested"),K=new Set,Z={id:Do(),root:{opened:h,activatable:En(()=>t.activatable),selectable:En(()=>t.selectable),activated:D,selected:O,selectedValues:Mt(()=>{const Q=[];for(const[re,U]of O.value.entries())U==="on"&&Q.push(re);return Q}),register:(Q,re,U,ge)=>{if(K.has(Q)){M(Q).map(String).join(" -> "),M(re).concat(Q).map(String).join(" -> ");return}else K.add(Q);re&&Q!==re&&u.value.set(Q,re),U&&g.value.add(Q),ge&&i.value.set(Q,[]),re!=null&&i.value.set(re,[...i.value.get(re)||[],Q])},unregister:Q=>{if(r)return;K.delete(Q),i.value.delete(Q),g.value.delete(Q);const re=u.value.get(Q);if(re){const U=i.value.get(re)??[];i.value.set(re,U.filter(ge=>ge!==Q))}u.value.delete(Q)},open:(Q,re,U)=>{H.emit("click:open",{id:Q,value:re,path:M(Q),event:U});const ge=R.value.open({id:Q,value:re,opened:new Set(h.value),children:i.value,parents:u.value,event:U});ge&&(h.value=ge)},openOnSelect:(Q,re,U)=>{const ge=R.value.select({id:Q,value:re,selected:new Map(O.value),opened:new Set(h.value),children:i.value,parents:u.value,event:U});ge&&(h.value=ge)},select:(Q,re,U)=>{H.emit("click:select",{id:Q,value:re,path:M(Q),event:U});const ge=w.value.select({id:Q,value:re,selected:new Map(O.value),children:i.value,parents:u.value,disabled:g.value,event:U});ge&&(O.value=ge),Z.root.openOnSelect(Q,re,U)},activate:(Q,re,U)=>{if(!t.activatable)return Z.root.select(Q,!0,U);H.emit("click:activate",{id:Q,value:re,path:M(Q),event:U});const ge=x.value.activate({id:Q,value:re,activated:new Set(D.value),children:i.value,parents:u.value,event:U});if(ge.size!==D.value.size)D.value=ge;else{for(const de of ge)if(!D.value.has(de)){D.value=ge;return}for(const de of D.value)if(!ge.has(de)){D.value=ge;return}}},children:i,parents:u,disabled:g,getPath:M}};return Wf(QR,Z),Z.root},Ote=(t,r,i)=>{const u=ka(QR,Ate),g=Symbol("nested item"),h=Mt(()=>Ns(Pv(t))??g),x={...u,id:h,open:(w,R)=>u.root.open(h.value,w,R),openOnSelect:(w,R)=>u.root.openOnSelect(h.value,w,R),isOpen:Mt(()=>u.root.opened.value.has(h.value)),parent:Mt(()=>u.root.parents.value.get(h.value)),activate:(w,R)=>u.root.activate(h.value,w,R),isActivated:Mt(()=>u.root.activated.value.has(h.value)),select:(w,R)=>u.root.select(h.value,w,R),isSelected:Mt(()=>u.root.selected.value.get(h.value)==="on"),isIndeterminate:Mt(()=>u.root.selected.value.get(h.value)==="indeterminate"),isLeaf:Mt(()=>!u.root.children.value.get(h.value)),isGroupActivator:u.isGroupActivator};return fI(()=>{u.isGroupActivator||u.root.register(h.value,u.id.value,Pv(r),i)}),Ru(()=>{u.isGroupActivator||u.root.unregister(h.value)}),i&&Wf(QR,x),x},Vye=()=>{const t=ka(QR,Ate);Wf(QR,{...t,isGroupActivator:!0})};function d8(){const t=Do(!1);return jd(()=>{window.requestAnimationFrame(()=>{t.value=!0})}),{ssrBootStyles:En(()=>t.value?void 0:{transition:"none !important"}),isBooted:FE(t)}}const zye=VE({name:"VListGroupActivator",setup(t,r){let{slots:i}=r;return Vye(),()=>{var u;return(u=i.default)==null?void 0:u.call(i)}}}),Hye=qn({activeColor:String,baseColor:String,color:String,collapseIcon:{type:fi,default:"$collapse"},disabled:Boolean,expandIcon:{type:fi,default:"$expand"},rawId:[String,Number],prependIcon:fi,appendIcon:fi,fluid:Boolean,subgroup:Boolean,title:String,value:null,...or(),...Ua()},"VListGroup"),aX=ts()({name:"VListGroup",props:Hye(),setup(t,r){let{slots:i}=r;const{isOpen:u,open:g,id:h}=Ote(()=>t.value,()=>t.disabled,!0),x=Mt(()=>`v-list-group--id-${String(t.rawId??h.value)}`),w=Ste(),{isBooted:R}=d8();function D(K){var Z;["INPUT","TEXTAREA"].includes((Z=K.target)==null?void 0:Z.tagName)||g(!u.value,K)}const O=Mt(()=>({onClick:D,class:"v-list-group__header",id:x.value})),M=Mt(()=>u.value?t.collapseIcon:t.expandIcon),H=Mt(()=>({VListItem:{active:u.value,activeColor:t.activeColor,baseColor:t.baseColor,color:t.color,prependIcon:t.prependIcon||t.subgroup&&M.value,appendIcon:t.appendIcon||!t.subgroup&&M.value,title:t.title,value:t.value}}));return $s(()=>ce(t.tag,{class:xo(["v-list-group",{"v-list-group--prepend":w==null?void 0:w.hasPrepend.value,"v-list-group--fluid":t.fluid,"v-list-group--subgroup":t.subgroup,"v-list-group--open":u.value},t.class]),style:Qs(t.style)},{default:()=>[i.activator&&ce(cl,{defaults:H.value},{default:()=>[ce(zye,null,{default:()=>[i.activator({props:O.value,isOpen:u.value})]})]}),ce(Fx,{transition:{component:nte},disabled:!R.value},{default:()=>{var K;return[Zn(ie("div",{class:"v-list-group__items",role:"group","aria-labelledby":x.value},[(K=i.default)==null?void 0:K.call(i)]),[[Co,u.value]])]}})]})),{isOpen:u}}}),Uye=qn({opacity:[Number,String],...or(),...Ua()},"VListItemSubtitle"),Wye=ts()({name:"VListItemSubtitle",props:Uye(),setup(t,r){let{slots:i}=r;return $s(()=>ce(t.tag,{class:xo(["v-list-item-subtitle",t.class]),style:Qs([{"--v-list-item-subtitle-opacity":t.opacity},t.style])},i)),{}}}),Kye=ZF("v-list-item-title"),jye=qn({active:{type:Boolean,default:void 0},activeClass:String,activeColor:String,appendAvatar:String,appendIcon:fi,baseColor:String,disabled:Boolean,lines:[Boolean,String],link:{type:Boolean,default:void 0},nav:Boolean,prependAvatar:String,prependIcon:fi,ripple:{type:[Boolean,Object],default:!0},slim:Boolean,subtitle:{type:[String,Number,Boolean],default:void 0},title:{type:[String,Number,Boolean],default:void 0},value:null,onClick:Lm(),onClickOnce:Lm(),...H1(),...or(),...tp(),...bb(),...W1(),...Fg(),...c8(),...Ua(),...oc(),...j1({variant:"text"})},"VListItem"),ld=ts()({name:"VListItem",directives:{vRipple:B1},props:jye(),emits:{click:t=>!0},setup(t,r){let{attrs:i,slots:u,emit:g}=r;const h=l8(t,i),x=Mt(()=>t.value===void 0?h.href.value:t.value),{activate:w,isActivated:R,select:D,isOpen:O,isSelected:M,isIndeterminate:H,isGroupActivator:K,root:Z,parent:Q,openOnSelect:re,id:U}=Ote(x,()=>t.disabled,!1),ge=Ste(),de=Mt(()=>{var Yt;return t.active!==!1&&(t.active||((Yt=h.isActive)==null?void 0:Yt.value)||(Z.activatable.value?R.value:M.value))}),q=En(()=>t.link!==!1&&h.isLink.value),he=Mt(()=>!!ge&&(Z.selectable.value||Z.activatable.value||t.value!=null)),oe=Mt(()=>!t.disabled&&t.link!==!1&&(t.link||h.isClickable.value||he.value)),_e=En(()=>t.rounded||t.nav),Ue=En(()=>t.color??t.activeColor),Qe=En(()=>({color:de.value?Ue.value??t.baseColor:t.baseColor,variant:t.variant}));Fn(()=>{var Yt;return(Yt=h.isActive)==null?void 0:Yt.value},Yt=>{Yt&&ct()}),fI(()=>{var Yt;(Yt=h.isActive)!=null&&Yt.value&&ct()});function ct(){Q.value!=null&&Z.open(Q.value,!0),re(!0)}const{themeClasses:Ce}=tu(t),{borderClasses:Te}=U1(t),{colorClasses:I,colorStyles:dt,variantClasses:gt}=jE(Qe),{densityClasses:Ft}=pb(t),{dimensionStyles:en}=vb(t),{elevationClasses:ft}=K1(t),{roundedClasses:Rn}=$g(_e),Ot=En(()=>t.lines?`v-list-item--${t.lines}-line`:void 0),rt=En(()=>t.ripple!==void 0&&t.ripple&&(ge!=null&&ge.filterable)?{keys:[HU.enter]}:t.ripple),Ve=Mt(()=>({isActive:de.value,select:D,isOpen:O.value,isSelected:M.value,isIndeterminate:H.value}));function bt(Yt){var Bn,Jt;g("click",Yt),!["INPUT","TEXTAREA"].includes((Bn=Yt.target)==null?void 0:Bn.tagName)&&oe.value&&((Jt=h.navigate)==null||Jt.call(h,Yt),!K&&(Z.activatable.value?w(!R.value,Yt):(Z.selectable.value||t.value!=null)&&D(!M.value,Yt)))}function Yn(Yt){const Bn=Yt.target;["INPUT","TEXTAREA"].includes(Bn.tagName)||(Yt.key==="Enter"||Yt.key===" "&&!(ge!=null&&ge.filterable))&&(Yt.preventDefault(),Yt.stopPropagation(),Yt.target.dispatchEvent(new MouseEvent("click",Yt)))}return $s(()=>{const Yt=q.value?"a":t.tag,Bn=u.title||t.title!=null,Jt=u.subtitle||t.subtitle!=null,te=!!(t.appendAvatar||t.appendIcon),vo=!!(te||u.append),nn=!!(t.prependAvatar||t.prependIcon),yn=!!(nn||u.prepend);return ge==null||ge.updateHasPrepend(yn),t.activeColor&&vQ("active-color",["color","base-color"]),Zn(ce(Yt,Xo({class:["v-list-item",{"v-list-item--active":de.value,"v-list-item--disabled":t.disabled,"v-list-item--link":oe.value,"v-list-item--nav":t.nav,"v-list-item--prepend":!yn&&(ge==null?void 0:ge.hasPrepend.value),"v-list-item--slim":t.slim,[`${t.activeClass}`]:t.activeClass&&de.value},Ce.value,Te.value,I.value,Ft.value,ft.value,Ot.value,Rn.value,gt.value,t.class],style:[dt.value,en.value,t.style],tabindex:oe.value?ge?-2:0:void 0,"aria-selected":he.value?Z.activatable.value?R.value:Z.selectable.value?M.value:de.value:void 0,onClick:bt,onKeydown:oe.value&&!q.value&&Yn},h.linkProps),{default:()=>{var qe;return[KE(oe.value||de.value,"v-list-item"),yn&&ie("div",{key:"prepend",class:"v-list-item__prepend"},[u.prepend?ce(cl,{key:"prepend-defaults",disabled:!nn,defaults:{VAvatar:{density:t.density,image:t.prependAvatar},VIcon:{density:t.density,icon:t.prependIcon},VListItemAction:{start:!0}}},{default:()=>{var it;return[(it=u.prepend)==null?void 0:it.call(u,Ve.value)]}}):ie(ms,null,[t.prependAvatar&&ce(jx,{key:"prepend-avatar",density:t.density,image:t.prependAvatar},null),t.prependIcon&&ce(Gn,{key:"prepend-icon",density:t.density,icon:t.prependIcon},null)]),ie("div",{class:"v-list-item__spacer"},null)]),ie("div",{class:"v-list-item__content","data-no-activator":""},[Bn&&ce(Kye,{key:"title"},{default:()=>{var it;return[((it=u.title)==null?void 0:it.call(u,{title:t.title}))??He(t.title)]}}),Jt&&ce(Wye,{key:"subtitle"},{default:()=>{var it;return[((it=u.subtitle)==null?void 0:it.call(u,{subtitle:t.subtitle}))??He(t.subtitle)]}}),(qe=u.default)==null?void 0:qe.call(u,Ve.value)]),vo&&ie("div",{key:"append",class:"v-list-item__append"},[u.append?ce(cl,{key:"append-defaults",disabled:!te,defaults:{VAvatar:{density:t.density,image:t.appendAvatar},VIcon:{density:t.density,icon:t.appendIcon},VListItemAction:{end:!0}}},{default:()=>{var it;return[(it=u.append)==null?void 0:it.call(u,Ve.value)]}}):ie(ms,null,[t.appendIcon&&ce(Gn,{key:"append-icon",density:t.density,icon:t.appendIcon},null),t.appendAvatar&&ce(jx,{key:"append-avatar",density:t.density,image:t.appendAvatar},null)]),ie("div",{class:"v-list-item__spacer"},null)])]}}),[[B1,oe.value&&rt.value]])}),{activate:w,isActivated:R,isGroupActivator:K,isSelected:M,list:ge,select:D,root:Z,id:U,link:h}}}),Zye=qn({color:String,inset:Boolean,sticky:Boolean,title:String,...or(),...Ua()},"VListSubheader"),vK=ts()({name:"VListSubheader",props:Zye(),setup(t,r){let{slots:i}=r;const{textColorClasses:u,textColorStyles:g}=gb(()=>t.color);return $s(()=>{const h=!!(i.default||t.title);return ce(t.tag,{class:xo(["v-list-subheader",{"v-list-subheader--inset":t.inset,"v-list-subheader--sticky":t.sticky},u.value,t.class]),style:Qs([{textColorStyles:g},t.style])},{default:()=>{var x;return[h&&ie("div",{class:"v-list-subheader__text"},[((x=i.default)==null?void 0:x.call(i))??t.title])]}})}),{}}}),Gye=qn({items:Array,returnObject:Boolean},"VListChildren"),Rte=ts()({name:"VListChildren",props:Gye(),setup(t,r){let{slots:i}=r;return Cte(),()=>{var u,g;return((u=i.default)==null?void 0:u.call(i))??((g=t.items)==null?void 0:g.map(h=>{var H,K;let{children:x,props:w,type:R,raw:D}=h;if(R==="divider")return((H=i.divider)==null?void 0:H.call(i,{props:w}))??ce(_E,w,null);if(R==="subheader")return((K=i.subheader)==null?void 0:K.call(i,{props:w}))??ce(vK,w,null);const O={subtitle:i.subtitle?Z=>{var Q;return(Q=i.subtitle)==null?void 0:Q.call(i,{...Z,item:D})}:void 0,prepend:i.prepend?Z=>{var Q;return(Q=i.prepend)==null?void 0:Q.call(i,{...Z,item:D})}:void 0,append:i.append?Z=>{var Q;return(Q=i.append)==null?void 0:Q.call(i,{...Z,item:D})}:void 0,title:i.title?Z=>{var Q;return(Q=i.title)==null?void 0:Q.call(i,{...Z,item:D})}:void 0},M=aX.filterProps(w);return x?ce(aX,Xo(M,{value:t.returnObject?D:w==null?void 0:w.value,rawId:w==null?void 0:w.value}),{activator:Z=>{let{props:Q}=Z;const re={...w,...Q,value:t.returnObject?D:w.value};return i.header?i.header({props:re}):ce(ld,re,O)},default:()=>ce(Rte,{items:x,returnObject:t.returnObject},i)}):i.item?i.item({props:w}):ce(ld,Xo(w,{value:t.returnObject?D:w.value}),O)}))}}}),Ite=qn({items:{type:Array,default:()=>[]},itemTitle:{type:[String,Array,Function],default:"title"},itemValue:{type:[String,Array,Function],default:"value"},itemChildren:{type:[Boolean,String,Array,Function],default:"children"},itemProps:{type:[Boolean,String,Array,Function],default:"props"},itemType:{type:[Boolean,String,Array,Function],default:"type"},returnObject:Boolean,valueComparator:Function},"list-items");function vW(t,r){const i=Yh(r,t.itemTitle,r),u=Yh(r,t.itemValue,i),g=Yh(r,t.itemChildren),h=Yh(r,t.itemType,"item"),x=t.itemProps===!0?typeof r=="object"&&r!=null&&!Array.isArray(r)?"children"in r?Gx(r,["children"]):r:void 0:Yh(r,t.itemProps),w={title:i,value:u,...x};return{type:h,title:String(w.title??""),value:w.value,props:w,children:h==="item"&&Array.isArray(g)?Dte(t,g):void 0,raw:r}}function Dte(t,r){const i=KF(t,["itemTitle","itemValue","itemChildren","itemProps","itemType","returnObject","valueComparator"]),u=[];for(const g of r)u.push(vW(i,g));return u}function Pte(t){const r=Mt(()=>Dte(t,t.items)),i=Mt(()=>r.value.some(w=>w.value===null)),u=Do(new Map),g=Do([]);Uf(()=>{const w=r.value,R=new Map,D=[];for(let O=0;O<w.length;O++){const M=w[O];if(WU(M.value)||M.value===null){let H=R.get(M.value);H||(H=[],R.set(M.value,H)),H.push(M)}else D.push(M)}u.value=R,g.value=D});function h(w){const R=u.value,D=r.value,O=g.value,M=i.value,H=t.returnObject,K=!!t.valueComparator,Z=t.valueComparator||Qh,Q=KF(t,["itemTitle","itemValue","itemChildren","itemProps","itemType","returnObject","valueComparator"]),re=[];e:for(const U of w){if(!M&&U===null)continue;if(H&&typeof U=="string"){re.push(vW(Q,U));continue}const ge=R.get(U);if(K||!ge){for(const de of K?D:O)if(Z(U,de.value)){re.push(de);continue e}re.push(vW(Q,U));continue}re.push(...ge)}return re}function x(w){return t.returnObject?w.map(R=>{let{raw:D}=R;return D}):w.map(R=>{let{value:D}=R;return D})}return{items:r,transformIn:h,transformOut:x}}function qye(t,r){const i=Yh(r,t.itemType,"item"),u=WU(r)?r:Yh(r,t.itemTitle),g=WU(r)?r:Yh(r,t.itemValue,void 0),h=Yh(r,t.itemChildren),x=t.itemProps===!0?Gx(r,["children"]):Yh(r,t.itemProps),w={title:u,value:g,...x};return{type:i,title:w.title,value:w.value,props:w,children:i==="item"&&h?Nte(t,h):void 0,raw:r}}function Nte(t,r){const i=[];for(const u of r)i.push(qye(t,u));return i}function Yye(t){return{items:Mt(()=>Nte(t,t.items))}}const Xye=qn({baseColor:String,activeColor:String,activeClass:String,bgColor:String,disabled:Boolean,filterable:Boolean,expandIcon:fi,collapseIcon:fi,lines:{type:[Boolean,String],default:"one"},slim:Boolean,nav:Boolean,"onClick:open":Lm(),"onClick:select":Lm(),"onUpdate:opened":Lm(),...Fye({selectStrategy:"single-leaf",openStrategy:"list"}),...H1(),...or(),...tp(),...bb(),...W1(),...Ite(),...Fg(),...Ua(),...oc(),...j1({variant:"text"})},"VList"),_I=ts()({name:"VList",props:Xye(),emits:{"update:selected":t=>!0,"update:activated":t=>!0,"update:opened":t=>!0,"click:open":t=>!0,"click:activate":t=>!0,"click:select":t=>!0},setup(t,r){let{slots:i}=r;const{items:u}=Yye(t),{themeClasses:g}=tu(t),{backgroundColorClasses:h,backgroundColorStyles:x}=db(()=>t.bgColor),{borderClasses:w}=U1(t),{densityClasses:R}=pb(t),{dimensionStyles:D}=vb(t),{elevationClasses:O}=K1(t),{roundedClasses:M}=$g(t),{children:H,open:K,parents:Z,select:Q,getPath:re}=$ye(t),U=En(()=>t.lines?`v-list--${t.lines}-line`:void 0),ge=En(()=>t.activeColor),de=En(()=>t.baseColor),q=En(()=>t.color);Cte({filterable:t.filterable}),qx({VListGroup:{activeColor:ge,baseColor:de,color:q,expandIcon:En(()=>t.expandIcon),collapseIcon:En(()=>t.collapseIcon)},VListItem:{activeClass:En(()=>t.activeClass),activeColor:ge,baseColor:de,color:q,density:En(()=>t.density),disabled:En(()=>t.disabled),lines:En(()=>t.lines),nav:En(()=>t.nav),slim:En(()=>t.slim),variant:En(()=>t.variant)}});const he=Do(!1),oe=Ln();function _e(I){he.value=!0}function Ue(I){he.value=!1}function Qe(I){var dt;!he.value&&!(I.relatedTarget&&((dt=oe.value)!=null&&dt.contains(I.relatedTarget)))&&Te()}function ct(I){const dt=I.target;if(!(!oe.value||["INPUT","TEXTAREA"].includes(dt.tagName))){if(I.key==="ArrowDown")Te("next");else if(I.key==="ArrowUp")Te("prev");else if(I.key==="Home")Te("first");else if(I.key==="End")Te("last");else return;I.preventDefault()}}function Ce(I){he.value=!0}function Te(I){if(oe.value)return IR(oe.value,I)}return $s(()=>ce(t.tag,{ref:oe,class:xo(["v-list",{"v-list--disabled":t.disabled,"v-list--nav":t.nav,"v-list--slim":t.slim},g.value,h.value,w.value,R.value,O.value,U.value,M.value,t.class]),style:Qs([x.value,D.value,t.style]),tabindex:t.disabled?-1:0,role:"listbox","aria-activedescendant":void 0,onFocusin:_e,onFocusout:Ue,onFocus:Qe,onKeydown:ct,onMousedown:Ce},{default:()=>[ce(Rte,{items:u.value,returnObject:t.returnObject},i)]})),{open:K,select:Q,focus:Te,children:H,parents:Z,getPath:re}}}),Jye=qn({id:String,submenu:Boolean,disableInitialFocus:Boolean,...Gx(mK({closeDelay:250,closeOnContentClick:!0,locationStrategy:"connected",location:void 0,openDelay:300,scrim:!1,scrollStrategy:"reposition",transition:{component:fK}}),["absolute"])},"VMenu"),kI=ts()({name:"VMenu",props:Jye(),emits:{"update:modelValue":t=>!0},setup(t,r){let{slots:i}=r;const u=ra(t,"modelValue"),{scopeId:g}=u8(),{isRtl:h}=ep(),x=V1(),w=En(()=>t.id||`v-menu-${x}`),R=Ln(),D=ka(pW,null),O=Do(new Set);Wf(pW,{register(){O.value.add(x)},unregister(){O.value.delete(x)},closeParents(re){setTimeout(()=>{var U;!O.value.size&&!t.persistent&&(re==null||(U=R.value)!=null&&U.contentEl&&!age(re,R.value.contentEl))&&(u.value=!1,D==null||D.closeParents())},40)}}),Ru(()=>{D==null||D.unregister(),document.removeEventListener("focusin",M)}),zF(()=>u.value=!1);async function M(re){var de,q,he;const U=re.relatedTarget,ge=re.target;await ys(),u.value&&U!==ge&&((de=R.value)!=null&&de.contentEl)&&((q=R.value)!=null&&q.globalTop)&&![document,R.value.contentEl].includes(ge)&&!R.value.contentEl.contains(ge)&&((he=UR(R.value.contentEl)[0])==null||he.focus())}Fn(u,re=>{re?(D==null||D.register(),_i&&!t.disableInitialFocus&&document.addEventListener("focusin",M,{once:!0})):(D==null||D.unregister(),_i&&document.removeEventListener("focusin",M))},{immediate:!0});function H(re){D==null||D.closeParents(re)}function K(re){var U,ge,de,q,he;if(!t.disabled)if(re.key==="Tab"||re.key==="Enter"&&!t.closeOnContentClick){if(re.key==="Enter"&&(re.target instanceof HTMLTextAreaElement||re.target instanceof HTMLInputElement&&re.target.closest("form")))return;re.key==="Enter"&&re.preventDefault(),hQ(UR((U=R.value)==null?void 0:U.contentEl,!1),re.shiftKey?"prev":"next",_e=>_e.tabIndex>=0)||(u.value=!1,(de=(ge=R.value)==null?void 0:ge.activatorEl)==null||de.focus())}else t.submenu&&re.key===(h.value?"ArrowRight":"ArrowLeft")&&(u.value=!1,(he=(q=R.value)==null?void 0:q.activatorEl)==null||he.focus())}function Z(re){var ge;if(t.disabled)return;const U=(ge=R.value)==null?void 0:ge.contentEl;U&&u.value?re.key==="ArrowDown"?(re.preventDefault(),re.stopImmediatePropagation(),IR(U,"next")):re.key==="ArrowUp"?(re.preventDefault(),re.stopImmediatePropagation(),IR(U,"prev")):t.submenu&&(re.key===(h.value?"ArrowRight":"ArrowLeft")?u.value=!1:re.key===(h.value?"ArrowLeft":"ArrowRight")&&(re.preventDefault(),IR(U,"first"))):(t.submenu?re.key===(h.value?"ArrowLeft":"ArrowRight"):["ArrowDown","ArrowUp"].includes(re.key))&&(u.value=!0,re.preventDefault(),setTimeout(()=>setTimeout(()=>Z(re))))}const Q=Mt(()=>Xo({"aria-haspopup":"menu","aria-expanded":String(u.value),"aria-controls":w.value,onKeydown:Z},t.activatorProps));return $s(()=>{const re=TF.filterProps(t);return ce(TF,Xo({ref:R,id:w.value,class:["v-menu",t.class],style:t.style},re,{modelValue:u.value,"onUpdate:modelValue":U=>u.value=U,absolute:!0,activatorProps:Q.value,location:t.location??(t.submenu?"end":"bottom"),"onClick:outside":H,onKeydown:K},g),{activator:i.activator,default:function(){for(var U=arguments.length,ge=new Array(U),de=0;de<U;de++)ge[de]=arguments[de];return ce(cl,{root:"VMenu"},{default:()=>{var q;return[(q=i.default)==null?void 0:q.call(i,...ge)]}})}})}),Xx({id:w,openChildren:O},R)}}),Qye=qn({active:Boolean,disabled:Boolean,max:[Number,String],value:{type:[Number,String],default:0},...or(),...ZE({transition:{component:tte}})},"VCounter"),yK=ts()({name:"VCounter",functional:!0,props:Qye(),setup(t,r){let{slots:i}=r;const u=En(()=>t.max?`${t.value} / ${t.max}`:String(t.value));return $s(()=>ce(Fx,{transition:t.transition},{default:()=>[Zn(ie("div",{class:xo(["v-counter",{"text-error":t.max&&!t.disabled&&parseFloat(t.value)>parseFloat(t.max)},t.class]),style:Qs(t.style)},[i.default?i.default({counter:u.value,max:t.max,value:t.value}):u.value]),[[Co,t.active]])]})),{}}}),exe=qn({floating:Boolean,...or()},"VFieldLabel"),B6=ts()({name:"VFieldLabel",props:exe(),setup(t,r){let{slots:i}=r;return $s(()=>ce(dte,{class:xo(["v-field-label",{"v-field-label--floating":t.floating},t.class]),style:Qs(t.style),"aria-hidden":t.floating||void 0},i)),{}}}),txe=["underlined","outlined","filled","solo","solo-inverted","solo-filled","plain"],f8=qn({appendInnerIcon:fi,bgColor:String,clearable:Boolean,clearIcon:{type:fi,default:"$clear"},active:Boolean,centerAffix:{type:Boolean,default:void 0},color:String,baseColor:String,dirty:Boolean,disabled:{type:Boolean,default:null},glow:Boolean,error:Boolean,flat:Boolean,iconColor:[Boolean,String],label:String,persistentClear:Boolean,prependInnerIcon:fi,reverse:Boolean,singleLine:Boolean,variant:{type:String,default:"filled",validator:t=>txe.includes(t)},"onClick:clear":Lm(),"onClick:appendInner":Lm(),"onClick:prependInner":Lm(),...or(),...lK(),...Fg(),...oc()},"VField"),NE=ts()({name:"VField",inheritAttrs:!1,props:{id:String,...bte(),...f8()},emits:{"update:focused":t=>!0,"update:modelValue":t=>!0},setup(t,r){let{attrs:i,emit:u,slots:g}=r;const{themeClasses:h}=tu(t),{loaderClasses:x}=cK(t),{focusClasses:w,isFocused:R,focus:D,blur:O}=CI(t),{InputIcon:M}=pte(t),{roundedClasses:H}=$g(t),{rtlClasses:K}=ep(),Z=En(()=>t.dirty||t.active),Q=En(()=>!!(t.label||g.label)),re=En(()=>!t.singleLine&&Q.value),U=V1(),ge=Mt(()=>t.id||`input-${U}`),de=En(()=>`${ge.value}-messages`),q=Ln(),he=Ln(),oe=Ln(),_e=Mt(()=>["plain","underlined"].includes(t.variant)),Ue=Mt(()=>t.error||t.disabled?void 0:Z.value&&R.value?t.color:t.baseColor),Qe=Mt(()=>{if(!(!t.iconColor||t.glow&&!R.value))return t.iconColor===!0?Ue.value:t.iconColor}),{backgroundColorClasses:ct,backgroundColorStyles:Ce}=db(()=>t.bgColor),{textColorClasses:Te,textColorStyles:I}=gb(Ue);Fn(Z,Ft=>{if(re.value){const en=q.value.$el,ft=he.value.$el;requestAnimationFrame(()=>{const Rn=KW(en),Ot=ft.getBoundingClientRect(),rt=Ot.x-Rn.x,Ve=Ot.y-Rn.y-(Rn.height/2-Ot.height/2),bt=Ot.width/.75,Yn=Math.abs(bt-Rn.width)>1?{maxWidth:Fs(bt)}:void 0,Yt=getComputedStyle(en),Bn=getComputedStyle(ft),Jt=parseFloat(Yt.transitionDuration)*1e3||150,te=parseFloat(Bn.getPropertyValue("--v-field-label-scale")),vo=Bn.getPropertyValue("color");en.style.visibility="visible",ft.style.visibility="hidden",hE(en,{transform:`translate(${rt}px, ${Ve}px) scale(${te})`,color:vo,...Yn},{duration:Jt,easing:mF,direction:Ft?"normal":"reverse"}).finished.then(()=>{en.style.removeProperty("visibility"),ft.style.removeProperty("visibility")})})}},{flush:"post"});const dt=Mt(()=>({isActive:Z,isFocused:R,controlRef:oe,blur:O,focus:D}));function gt(Ft){Ft.target!==document.activeElement&&Ft.preventDefault()}return $s(()=>{var rt,Ve,bt;const Ft=t.variant==="outlined",en=!!(g["prepend-inner"]||t.prependInnerIcon),ft=!!(t.clearable||g.clear)&&!t.disabled,Rn=!!(g["append-inner"]||t.appendInnerIcon||ft),Ot=()=>g.label?g.label({...dt.value,label:t.label,props:{for:ge.value}}):t.label;return ie("div",Xo({class:["v-field",{"v-field--active":Z.value,"v-field--appended":Rn,"v-field--center-affix":t.centerAffix??!_e.value,"v-field--disabled":t.disabled,"v-field--dirty":t.dirty,"v-field--error":t.error,"v-field--glow":t.glow,"v-field--flat":t.flat,"v-field--has-background":!!t.bgColor,"v-field--persistent-clear":t.persistentClear,"v-field--prepended":en,"v-field--reverse":t.reverse,"v-field--single-line":t.singleLine,"v-field--no-label":!Ot(),[`v-field--variant-${t.variant}`]:!0},h.value,ct.value,w.value,x.value,H.value,K.value,t.class],style:[Ce.value,t.style],onClick:gt},i),[ie("div",{class:"v-field__overlay"},null),ce(Hee,{name:"v-field",active:!!t.loading,color:t.error?"error":typeof t.loading=="string"?t.loading:t.color},{default:g.loader}),en&&ie("div",{key:"prepend",class:"v-field__prepend-inner"},[t.prependInnerIcon&&ce(M,{key:"prepend-icon",name:"prependInner",color:Qe.value},null),(rt=g["prepend-inner"])==null?void 0:rt.call(g,dt.value)]),ie("div",{class:"v-field__field","data-no-activator":""},[["filled","solo","solo-inverted","solo-filled"].includes(t.variant)&&re.value&&ce(B6,{key:"floating-label",ref:he,class:xo([Te.value]),floating:!0,for:ge.value,style:Qs(I.value)},{default:()=>[Ot()]}),Q.value&&ce(B6,{key:"label",ref:q,for:ge.value},{default:()=>[Ot()]}),((Ve=g.default)==null?void 0:Ve.call(g,{...dt.value,props:{id:ge.value,class:"v-field__input","aria-describedby":de.value},focus:D,blur:O}))??ie("div",{id:ge.value,class:"v-field__input","aria-describedby":de.value},null)]),ft&&ce(ote,{key:"clear"},{default:()=>[Zn(ie("div",{class:"v-field__clearable",onMousedown:Yn=>{Yn.preventDefault(),Yn.stopPropagation()}},[ce(cl,{defaults:{VIcon:{icon:t.clearIcon}}},{default:()=>[g.clear?g.clear({...dt.value,props:{onFocus:D,onBlur:O,onClick:t["onClick:clear"],tabindex:-1}}):ce(M,{name:"clear",onFocus:D,onBlur:O,tabindex:-1},null)]})]),[[Co,t.dirty]])]}),Rn&&ie("div",{key:"append",class:"v-field__append-inner"},[(bt=g["append-inner"])==null?void 0:bt.call(g,dt.value),t.appendInnerIcon&&ce(M,{key:"append-icon",name:"appendInner",color:Qe.value},null)]),ie("div",{class:xo(["v-field__outline",Te.value]),style:Qs(I.value)},[Ft&&ie(ms,null,[ie("div",{class:"v-field__outline__start"},null),re.value&&ie("div",{class:"v-field__outline__notch"},[ce(B6,{ref:he,floating:!0,for:ge.value},{default:()=>[Ot()]})]),ie("div",{class:"v-field__outline__end"},null)]),_e.value&&re.value&&ce(B6,{ref:he,floating:!0,for:ge.value},{default:()=>[Ot()]})])])}),{controlRef:oe,fieldIconColor:Qe}}});function Mte(t){function r(i,u){var g,h;!t.autofocus||!i||(h=(g=u[0].target)==null?void 0:g.focus)==null||h.call(g)}return{onIntersect:r}}const nxe=["color","file","time","date","datetime-local","week","month"],xK=qn({autofocus:Boolean,counter:[Boolean,Number,String],counterValue:[Number,Function],prefix:String,placeholder:String,persistentPlaceholder:Boolean,persistentCounter:Boolean,suffix:String,role:String,type:{type:String,default:"text"},modelModifiers:Object,...SI(),...f8()},"VTextField"),eI=ts()({name:"VTextField",directives:{vIntersect:PE},inheritAttrs:!1,props:xK(),emits:{"click:control":t=>!0,"mousedown:control":t=>!0,"update:focused":t=>!0,"update:modelValue":t=>!0},setup(t,r){let{attrs:i,emit:u,slots:g}=r;const h=ra(t,"modelValue"),{isFocused:x,focus:w,blur:R}=CI(t),{onIntersect:D}=Mte(t),O=Mt(()=>typeof t.counterValue=="function"?t.counterValue(h.value):typeof t.counterValue=="number"?t.counterValue:(h.value??"").toString().length),M=Mt(()=>{if(i.maxlength)return i.maxlength;if(!(!t.counter||typeof t.counter!="number"&&typeof t.counter!="string"))return t.counter}),H=Mt(()=>["plain","underlined"].includes(t.variant)),K=Ln(),Z=Ln(),Q=Ln(),re=Mt(()=>nxe.includes(t.type)||t.persistentPlaceholder||x.value||t.active);function U(){x.value||w(),ys(()=>{Q.value!==document.activeElement&&ys(()=>{var oe;return(oe=Q.value)==null?void 0:oe.focus()})})}function ge(oe){u("mousedown:control",oe),oe.target!==Q.value&&(U(),oe.preventDefault())}function de(oe){u("click:control",oe)}function q(oe,_e){oe.stopPropagation(),U(),ys(()=>{h.value=null,_e(),jF(t["onClick:clear"],oe)})}function he(oe){var Ue;const _e=oe.target;if(h.value=_e.value,(Ue=t.modelModifiers)!=null&&Ue.trim&&["text","search","password","tel","url"].includes(t.type)){const Qe=[_e.selectionStart,_e.selectionEnd];ys(()=>{_e.selectionStart=Qe[0],_e.selectionEnd=Qe[1]})}}return $s(()=>{const oe=!!(g.counter||t.counter!==!1&&t.counter!=null),_e=!!(oe||g.details),[Ue,Qe]=hI(i),{modelValue:ct,...Ce}=Zx.filterProps(t),Te=NE.filterProps(t);return ce(Zx,Xo({ref:K,modelValue:h.value,"onUpdate:modelValue":I=>h.value=I,class:["v-text-field",{"v-text-field--prefixed":t.prefix,"v-text-field--suffixed":t.suffix,"v-input--plain-underlined":H.value},t.class],style:t.style},Ue,Ce,{centerAffix:!H.value,focused:x.value}),{...g,default:I=>{let{id:dt,isDisabled:gt,isDirty:Ft,isReadonly:en,isValid:ft,reset:Rn}=I;return ce(NE,Xo({ref:Z,onMousedown:ge,onClick:de,"onClick:clear":Ot=>q(Ot,Rn),"onClick:prependInner":t["onClick:prependInner"],"onClick:appendInner":t["onClick:appendInner"],role:t.role},Te,{id:dt.value,active:re.value||Ft.value,dirty:Ft.value||t.dirty,disabled:gt.value,focused:x.value,error:ft.value===!1}),{...g,default:Ot=>{let{props:{class:rt,...Ve}}=Ot;const bt=Zn(ie("input",Xo({ref:Q,value:h.value,onInput:he,autofocus:t.autofocus,readonly:en.value,disabled:gt.value,name:t.name,placeholder:t.placeholder,size:1,type:t.type,onFocus:U,onBlur:R},Ve,Qe),null),[[PE,{handler:D},null,{once:!0}]]);return ie(ms,null,[t.prefix&&ie("span",{class:"v-text-field__prefix"},[ie("span",{class:"v-text-field__prefix__text"},[t.prefix])]),g.default?ie("div",{class:xo(rt),"data-no-activator":""},[g.default(),bt]):L1(bt,{class:rt}),t.suffix&&ie("span",{class:"v-text-field__suffix"},[ie("span",{class:"v-text-field__suffix__text"},[t.suffix])])])}})},details:_e?I=>{var dt;return ie(ms,null,[(dt=g.details)==null?void 0:dt.call(g,I),oe&&ie(ms,null,[ie("span",null,null),ce(yK,{active:t.persistentCounter||x.value,value:O.value,max:M.value,disabled:t.disabled},g.counter)])])}:void 0})}),Xx({},K,Z,Q)}}),oxe=qn({renderless:Boolean,...or()},"VVirtualScrollItem"),sxe=ts()({name:"VVirtualScrollItem",inheritAttrs:!1,props:oxe(),emits:{"update:height":t=>!0},setup(t,r){let{attrs:i,emit:u,slots:g}=r;const{resizeRef:h,contentRect:x}=RE(void 0,"border");Fn(()=>{var w;return(w=x.value)==null?void 0:w.height},w=>{w!=null&&u("update:height",w)}),$s(()=>{var w,R;return t.renderless?ie(ms,null,[(w=g.default)==null?void 0:w.call(g,{itemRef:h})]):ie("div",Xo({ref:h,class:["v-virtual-scroll__item",t.class],style:t.style},i),[(R=g.default)==null?void 0:R.call(g)])})}}),rxe=-1,ixe=1,vU=100,axe=qn({itemHeight:{type:[Number,String],default:null},itemKey:{type:[String,Array,Function],default:null},height:[Number,String]},"virtual");function lxe(t,r){const i=qF(),u=Do(0);Uf(()=>{u.value=parseFloat(t.itemHeight||0)});const g=Do(0),h=Do(Math.ceil((parseInt(t.height)||i.height.value)/(u.value||16))||1),x=Do(0),w=Do(0),R=Ln(),D=Ln();let O=0;const{resizeRef:M,contentRect:H}=RE();Uf(()=>{M.value=R.value});const K=Mt(()=>{var Ot;return R.value===document.documentElement?i.height.value:((Ot=H.value)==null?void 0:Ot.height)||parseInt(t.height)||0}),Z=Mt(()=>!!(R.value&&D.value&&K.value&&u.value));let Q=Array.from({length:r.value.length}),re=Array.from({length:r.value.length});const U=Do(0);let ge=-1;function de(Ot){return Q[Ot]||u.value}const q=oge(()=>{const Ot=performance.now();re[0]=0;const rt=r.value.length;for(let Ve=1;Ve<=rt-1;Ve++)re[Ve]=(re[Ve-1]||0)+de(Ve-1);U.value=Math.max(U.value,performance.now()-Ot)},U),he=Fn(Z,Ot=>{Ot&&(he(),O=D.value.offsetTop,q.immediate(),Ft(),~ge&&ys(()=>{_i&&window.requestAnimationFrame(()=>{ft(ge),ge=-1})}))});eu(()=>{q.clear()});function oe(Ot,rt){const Ve=Q[Ot],bt=u.value;u.value=bt?Math.min(u.value,rt):rt,(Ve!==rt||bt!==u.value)&&(Q[Ot]=rt,q())}function _e(Ot){Ot=Mm(Ot,0,r.value.length-1);const rt=Math.floor(Ot),Ve=Ot%1,bt=rt+1,Yn=re[rt]||0,Yt=re[bt]||Yn;return Yn+(Yt-Yn)*Ve}function Ue(Ot){return cxe(re,Ot)}let Qe=0,ct=0,Ce=0;Fn(K,(Ot,rt)=>{rt&&(Ft(),Ot<rt&&requestAnimationFrame(()=>{ct=0,Ft()}))});let Te=-1;function I(){if(!R.value||!D.value)return;const Ot=R.value.scrollTop,rt=performance.now();rt-Ce>500?(ct=Math.sign(Ot-Qe),O=D.value.offsetTop):ct=Ot-Qe,Qe=Ot,Ce=rt,window.clearTimeout(Te),Te=window.setTimeout(dt,500),Ft()}function dt(){!R.value||!D.value||(ct=0,Ce=0,window.clearTimeout(Te),Ft())}let gt=-1;function Ft(){cancelAnimationFrame(gt),gt=requestAnimationFrame(en)}function en(){if(!R.value||!K.value||!u.value)return;const Ot=Qe-O,rt=Math.sign(ct),Ve=Math.max(0,Ot-vU),bt=Mm(Ue(Ve),0,r.value.length),Yn=Ot+K.value+vU,Yt=Mm(Ue(Yn)+1,bt+1,r.value.length);if((rt!==rxe||bt<g.value)&&(rt!==ixe||Yt>h.value)){const Bn=_e(g.value)-_e(bt),Jt=_e(Yt)-_e(h.value);Math.max(Bn,Jt)>vU?(g.value=bt,h.value=Yt):(bt<=0&&(g.value=bt),Yt>=r.value.length&&(h.value=Yt))}x.value=_e(g.value),w.value=_e(r.value.length)-_e(h.value)}function ft(Ot){const rt=_e(Ot);!R.value||Ot&&!rt?ge=Ot:R.value.scrollTop=rt}const Rn=Mt(()=>r.value.slice(g.value,h.value).map((Ot,rt)=>{const Ve=rt+g.value;return{raw:Ot,index:Ve,key:Yh(Ot,t.itemKey,Ve)}}));return Fn(r,()=>{Q=Array.from({length:r.value.length}),re=Array.from({length:r.value.length}),q.immediate(),Ft()},{deep:1}),{calculateVisibleItems:Ft,containerRef:R,markerRef:D,computedItems:Rn,paddingTop:x,paddingBottom:w,scrollToIndex:ft,handleScroll:I,handleScrollend:dt,handleItemResize:oe}}function cxe(t,r){let i=t.length-1,u=0,g=0,h=null,x=-1;if(t[i]<r)return i;for(;u<=i;)if(g=u+i>>1,h=t[g],h>r)i=g-1;else if(h<r)x=g,u=g+1;else return h===r?g:u;return x}const uxe=qn({items:{type:Array,default:()=>[]},renderless:Boolean,...axe(),...or(),...bb()},"VVirtualScroll"),Lte=ts()({name:"VVirtualScroll",props:uxe(),setup(t,r){let{slots:i}=r;const u=xc("VVirtualScroll"),{dimensionStyles:g}=vb(t),{calculateVisibleItems:h,containerRef:x,markerRef:w,handleScroll:R,handleScrollend:D,handleItemResize:O,scrollToIndex:M,paddingTop:H,paddingBottom:K,computedItems:Z}=lxe(t,En(()=>t.items));return Jh(()=>t.renderless,()=>{function Q(){var ge,de;const U=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1)?"addEventListener":"removeEventListener";x.value===document.documentElement?(document[U]("scroll",R,{passive:!0}),document[U]("scrollend",D)):((ge=x.value)==null||ge[U]("scroll",R,{passive:!0}),(de=x.value)==null||de[U]("scrollend",D))}jd(()=>{x.value=kQ(u.vnode.el,!0),Q(!0)}),eu(Q)}),$s(()=>{const Q=Z.value.map(re=>ce(sxe,{key:re.key,renderless:t.renderless,"onUpdate:height":U=>O(re.index,U)},{default:U=>{var ge;return(ge=i.default)==null?void 0:ge.call(i,{item:re.raw,index:re.index,...U})}}));return t.renderless?ie(ms,null,[ie("div",{ref:w,class:"v-virtual-scroll__spacer",style:{paddingTop:Fs(H.value)}},null),Q,ie("div",{class:"v-virtual-scroll__spacer",style:{paddingBottom:Fs(K.value)}},null)]):ie("div",{ref:x,class:xo(["v-virtual-scroll",t.class]),onScrollPassive:R,onScrollend:D,style:Qs([g.value,t.style])},[ie("div",{ref:w,class:"v-virtual-scroll__container",style:{paddingTop:Fs(H.value),paddingBottom:Fs(K.value)}},[Q])])}),{calculateVisibleItems:h,scrollToIndex:M}}});function Bte(t,r){const i=Do(!1);let u;function g(w){cancelAnimationFrame(u),i.value=!0,u=requestAnimationFrame(()=>{u=requestAnimationFrame(()=>{i.value=!1})})}async function h(){await new Promise(w=>requestAnimationFrame(w)),await new Promise(w=>requestAnimationFrame(w)),await new Promise(w=>requestAnimationFrame(w)),await new Promise(w=>{if(i.value){const R=Fn(i,()=>{R(),w()})}else w()})}async function x(w){var O,M;if(w.key==="Tab"&&((O=r.value)==null||O.focus()),!["PageDown","PageUp","Home","End"].includes(w.key))return;const R=(M=t.value)==null?void 0:M.$el;if(!R)return;(w.key==="Home"||w.key==="End")&&R.scrollTo({top:w.key==="Home"?0:R.scrollHeight,behavior:"smooth"}),await h();const D=R.querySelectorAll(":scope > :not(.v-virtual-scroll__spacer)");if(w.key==="PageDown"||w.key==="Home"){const H=R.getBoundingClientRect().top;for(const K of D)if(K.getBoundingClientRect().top>=H){K.focus();break}}else{const H=R.getBoundingClientRect().bottom;for(const K of[...D].reverse())if(K.getBoundingClientRect().bottom<=H){K.focus();break}}}return{onScrollPassive:g,onKeydown:x}}const Fte=qn({chips:Boolean,closableChips:Boolean,closeText:{type:String,default:"$vuetify.close"},openText:{type:String,default:"$vuetify.open"},eager:Boolean,hideNoData:Boolean,hideSelected:Boolean,listProps:{type:Object},menu:Boolean,menuIcon:{type:fi,default:"$dropdown"},menuProps:{type:Object},multiple:Boolean,noDataText:{type:String,default:"$vuetify.noDataText"},openOnClear:Boolean,itemColor:String,noAutoScroll:Boolean,...Ite({itemChildren:!1})},"Select"),dxe=qn({...Fte(),...Gx(xK({modelValue:null,role:"combobox"}),["validationValue","dirty","appendInnerIcon"]),...ZE({transition:{component:fK}})},"VSelect");ts()({name:"VSelect",props:dxe(),emits:{"update:focused":t=>!0,"update:modelValue":t=>!0,"update:menu":t=>!0},setup(t,r){let{slots:i}=r;const{t:u}=zE(),g=Ln(),h=Ln(),x=Ln(),{items:w,transformIn:R,transformOut:D}=Pte(t),O=ra(t,"modelValue",[],Ot=>R(Ot===null?[null]:Wd(Ot)),Ot=>{const rt=D(Ot);return t.multiple?rt:rt[0]??null}),M=Mt(()=>typeof t.counterValue=="function"?t.counterValue(O.value):typeof t.counterValue=="number"?t.counterValue:O.value.length),H=gK(t),K=Mt(()=>O.value.map(Ot=>Ot.value)),Z=Do(!1);let Q="",re=-1,U;const ge=Mt(()=>t.hideSelected?w.value.filter(Ot=>!O.value.some(rt=>(t.valueComparator||Qh)(rt,Ot))):w.value),de=Mt(()=>t.hideNoData&&!ge.value.length||H.isReadonly.value||H.isDisabled.value),q=ra(t,"menu"),he=Mt({get:()=>q.value,set:Ot=>{var rt;q.value&&!Ot&&((rt=h.value)!=null&&rt.openChildren.size)||Ot&&de.value||(q.value=Ot)}}),oe=En(()=>he.value?t.closeText:t.openText),_e=Mt(()=>{var Ot;return{...t.menuProps,activatorProps:{...((Ot=t.menuProps)==null?void 0:Ot.activatorProps)||{},"aria-haspopup":"listbox"}}}),Ue=Ln(),Qe=Bte(Ue,g);function ct(Ot){t.openOnClear&&(he.value=!0)}function Ce(){de.value||(he.value=!he.value)}function Te(Ot){dF(Ot)&&I(Ot)}function I(Ot){var vo,nn,yn;if(!Ot.key||H.isReadonly.value)return;["Enter"," ","ArrowDown","ArrowUp","Home","End"].includes(Ot.key)&&Ot.preventDefault(),["Enter","ArrowDown"," "].includes(Ot.key)&&(he.value=!0),["Escape","Tab"].includes(Ot.key)&&(he.value=!1),Ot.key==="Home"?(vo=Ue.value)==null||vo.focus("first"):Ot.key==="End"&&((nn=Ue.value)==null||nn.focus("last"));const rt=1e3;if(!dF(Ot))return;const Ve=performance.now();Ve-U>rt&&(Q="",re=-1),Q+=Ot.key.toLowerCase(),U=Ve;const bt=ge.value;function Yn(){let qe=Yt();return qe||Q.at(-1)===Q.at(-2)&&(Q=Q.slice(0,-1),qe=Yt(),qe)||(re=-1,qe=Yt(),qe)?qe:(Q=Ot.key.toLowerCase(),Yt())}function Yt(){for(let qe=re+1;qe<bt.length;qe++){const it=bt[qe];if(it.title.toLowerCase().startsWith(Q))return[it,qe]}}const Bn=Yn();if(!Bn)return;const[Jt,te]=Bn;re=te,(yn=Ue.value)==null||yn.focus(te),t.multiple||(O.value=[Jt])}function dt(Ot){let rt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(!Ot.props.disabled)if(t.multiple){const Ve=O.value.findIndex(Yn=>(t.valueComparator||Qh)(Yn.value,Ot.value)),bt=rt??!~Ve;if(~Ve){const Yn=bt?[...O.value,Ot]:[...O.value];Yn.splice(Ve,1),O.value=Yn}else bt&&(O.value=[...O.value,Ot])}else{const Ve=rt!==!1;O.value=Ve?[Ot]:[],ys(()=>{he.value=!1})}}function gt(Ot){var rt;(rt=Ue.value)!=null&&rt.$el.contains(Ot.relatedTarget)||(he.value=!1)}function Ft(){var Ot;t.eager&&((Ot=x.value)==null||Ot.calculateVisibleItems())}function en(){var Ot;Z.value&&((Ot=g.value)==null||Ot.focus())}function ft(Ot){Z.value=!0}function Rn(Ot){if(Ot==null)O.value=[];else if(AE(g.value,":autofill")||AE(g.value,":-webkit-autofill")){const rt=w.value.find(Ve=>Ve.title===Ot);rt&&dt(rt)}else g.value&&(g.value.value="")}return Fn(he,()=>{if(!t.hideSelected&&he.value&&O.value.length){const Ot=ge.value.findIndex(rt=>O.value.some(Ve=>(t.valueComparator||Qh)(Ve.value,rt.value)));_i&&!t.noAutoScroll&&window.requestAnimationFrame(()=>{var rt;Ot>=0&&((rt=x.value)==null||rt.scrollToIndex(Ot))})}}),Fn(()=>t.items,(Ot,rt)=>{he.value||Z.value&&!rt.length&&Ot.length&&(he.value=!0)}),$s(()=>{const Ot=!!(t.chips||i.chip),rt=!!(!t.hideNoData||ge.value.length||i["prepend-item"]||i["append-item"]||i["no-data"]),Ve=O.value.length>0,bt=eI.filterProps(t),Yn=Ve||!Z.value&&t.label&&!t.persistentPlaceholder?void 0:t.placeholder;return ce(eI,Xo({ref:g},bt,{modelValue:O.value.map(Yt=>Yt.props.value).join(", "),"onUpdate:modelValue":Rn,focused:Z.value,"onUpdate:focused":Yt=>Z.value=Yt,validationValue:O.externalValue,counterValue:M.value,dirty:Ve,class:["v-select",{"v-select--active-menu":he.value,"v-select--chips":!!t.chips,[`v-select--${t.multiple?"multiple":"single"}`]:!0,"v-select--selected":O.value.length,"v-select--selection-slot":!!i.selection},t.class],style:t.style,inputmode:"none",placeholder:Yn,"onClick:clear":ct,"onMousedown:control":Ce,onBlur:gt,onKeydown:I,"aria-label":u(oe.value),title:u(oe.value)}),{...i,default:()=>ie(ms,null,[ce(kI,Xo({ref:h,modelValue:he.value,"onUpdate:modelValue":Yt=>he.value=Yt,activator:"parent",contentClass:"v-select__content",disabled:de.value,eager:t.eager,maxHeight:310,openOnClick:!1,closeOnContentClick:!1,transition:t.transition,onAfterEnter:Ft,onAfterLeave:en},_e.value),{default:()=>[rt&&ce(_I,Xo({ref:Ue,selected:K.value,selectStrategy:t.multiple?"independent":"single-independent",onMousedown:Yt=>Yt.preventDefault(),onKeydown:Te,onFocusin:ft,tabindex:"-1","aria-live":"polite","aria-label":`${t.label}-list`,color:t.itemColor??t.color},Qe,t.listProps),{default:()=>{var Yt,Bn,Jt;return[(Yt=i["prepend-item"])==null?void 0:Yt.call(i),!ge.value.length&&!t.hideNoData&&(((Bn=i["no-data"])==null?void 0:Bn.call(i))??ce(ld,{key:"no-data",title:u(t.noDataText)},null)),ce(Lte,{ref:x,renderless:!0,items:ge.value,itemKey:"value"},{default:te=>{var Se,Me,Ke;let{item:vo,index:nn,itemRef:yn}=te;const qe=lge(vo.props),it=Xo(vo.props,{ref:yn,key:vo.value,onClick:()=>dt(vo,null)});return vo.type==="divider"?((Se=i.divider)==null?void 0:Se.call(i,{props:vo.raw,index:nn}))??ce(_E,Xo(vo.props,{key:`divider-${nn}`}),null):vo.type==="subheader"?((Me=i.subheader)==null?void 0:Me.call(i,{props:vo.raw,index:nn}))??ce(vK,Xo(vo.props,{key:`subheader-${nn}`}),null):((Ke=i.item)==null?void 0:Ke.call(i,{item:vo,index:nn,props:it}))??ce(ld,Xo(it,{role:"option"}),{prepend:xe=>{let{isSelected:Re}=xe;return ie(ms,null,[t.multiple&&!t.hideSelected?ce(AF,{key:vo.value,modelValue:Re,ripple:!1,tabindex:"-1"},null):void 0,qe.prependAvatar&&ce(jx,{image:qe.prependAvatar},null),qe.prependIcon&&ce(Gn,{icon:qe.prependIcon},null)])}})}}),(Jt=i["append-item"])==null?void 0:Jt.call(i)]}})]}),O.value.map((Yt,Bn)=>{function Jt(yn){yn.stopPropagation(),yn.preventDefault(),dt(Yt,!1)}const te={"onClick:close":Jt,onKeydown(yn){yn.key!=="Enter"&&yn.key!==" "||(yn.preventDefault(),yn.stopPropagation(),Jt(yn))},onMousedown(yn){yn.preventDefault(),yn.stopPropagation()},modelValue:!0,"onUpdate:modelValue":void 0},vo=Ot?!!i.chip:!!i.selection,nn=vo?WW(Ot?i.chip({item:Yt,index:Bn,props:te}):i.selection({item:Yt,index:Bn})):void 0;if(!(vo&&!nn))return ie("div",{key:Yt.value,class:"v-select__selection"},[Ot?i.chip?ce(cl,{key:"chip-defaults",defaults:{VChip:{closable:t.closableChips,size:"small",text:Yt.title}}},{default:()=>[nn]}):ce(hK,Xo({key:"chip",closable:t.closableChips,size:"small",text:Yt.title,disabled:Yt.props.disabled},te),null):nn??ie("span",{class:"v-select__selection-text"},[Yt.title,t.multiple&&Bn<O.value.length-1&&ie("span",{class:"v-select__selection-comma"},[Ts(",")])])])})]),"append-inner":function(){var te,vo;for(var Yt=arguments.length,Bn=new Array(Yt),Jt=0;Jt<Yt;Jt++)Bn[Jt]=arguments[Jt];return ie(ms,null,[(te=i["append-inner"])==null?void 0:te.call(i,...Bn),t.menuIcon?ce(Gn,{class:"v-select__menu-icon",color:(vo=g.value)==null?void 0:vo.fieldIconColor,icon:t.menuIcon},null):void 0])}})}),Xx({isFocused:Z,menu:he,select:dt},g)}});const fxe=(t,r,i)=>{if(t==null||r==null)return-1;if(!r.length)return 0;t=t.toString().toLocaleLowerCase(),r=r.toString().toLocaleLowerCase();const u=[];let g=t.indexOf(r);for(;~g;)u.push([g,g+r.length]),g=t.indexOf(r,g+r.length);return u.length?u:-1};function yU(t,r){if(!(t==null||typeof t=="boolean"||t===-1))return typeof t=="number"?[[t,t+r.length]]:Array.isArray(t[0])?t:[t]}const mxe=qn({customFilter:Function,customKeyFilter:Object,filterKeys:[Array,String],filterMode:{type:String,default:"intersection"},noFilter:Boolean},"filter");function gxe(t,r,i){var w;const u=[],g=(i==null?void 0:i.default)??fxe,h=i!=null&&i.filterKeys?Wd(i.filterKeys):!1,x=Object.keys((i==null?void 0:i.customKeyFilter)??{}).length;if(!(t!=null&&t.length))return u;e:for(let R=0;R<t.length;R++){const[D,O=D]=Wd(t[R]),M={},H={};let K=-1;if((r||x>0)&&!(i!=null&&i.noFilter)){if(typeof D=="object"){if(D.type==="divider"||D.type==="subheader")continue;const re=h||Object.keys(O);for(const U of re){const ge=Yh(O,U),de=(w=i==null?void 0:i.customKeyFilter)==null?void 0:w[U];if(K=de?de(ge,r,D):g(ge,r,D),K!==-1&&K!==!1)de?M[U]=yU(K,r):H[U]=yU(K,r);else if((i==null?void 0:i.filterMode)==="every")continue e}}else K=g(D,r,D),K!==-1&&K!==!1&&(H.title=yU(K,r));const Z=Object.keys(H).length,Q=Object.keys(M).length;if(!Z&&!Q||(i==null?void 0:i.filterMode)==="union"&&Q!==x&&!Z||(i==null?void 0:i.filterMode)==="intersection"&&(Q!==x||!Z))continue}u.push({index:R,matches:{...H,...M}})}return u}function hxe(t,r,i,u){const g=Do([]),h=Do(new Map),x=Mt(()=>ne(r));Uf(()=>{const R=typeof i=="function"?i():ne(i),D=typeof R!="string"&&typeof R!="number"?"":String(R),O=gxe(x.value,D,{customKeyFilter:{...t.customKeyFilter,...ne(u==null?void 0:u.customKeyFilter)},default:t.customFilter,filterKeys:t.filterKeys,filterMode:t.filterMode,noFilter:t.noFilter}),M=ne(r),H=[],K=new Map;O.forEach(Z=>{let{index:Q,matches:re}=Z;const U=M[Q];H.push(U),K.set(U.value,re)}),g.value=H,h.value=K});function w(R){return h.value.get(R.value)}return{filteredItems:g,filteredMatches:h,getMatches:w}}function pxe(t,r,i){return i==null||!i.length?r:i.map((u,g)=>{const h=g===0?0:i[g-1][1],x=[ie("span",{class:xo(`${t}__unmask`)},[r.slice(h,u[0])]),ie("span",{class:xo(`${t}__mask`)},[r.slice(u[0],u[1])])];return g===i.length-1&&x.push(ie("span",{class:xo(`${t}__unmask`)},[r.slice(u[1])])),ie(ms,null,[x])})}const bxe=qn({autoSelectFirst:{type:[Boolean,String]},clearOnSelect:Boolean,search:String,...mxe({filterKeys:["title"]}),...Fte(),...Gx(xK({modelValue:null,role:"combobox"}),["validationValue","dirty","appendInnerIcon"]),...ZE({transition:!1})},"VAutocomplete"),wK=ts()({name:"VAutocomplete",props:bxe(),emits:{"update:focused":t=>!0,"update:search":t=>!0,"update:modelValue":t=>!0,"update:menu":t=>!0},setup(t,r){let{slots:i}=r;const{t:u}=zE(),g=Ln(),h=Do(!1),x=Do(!0),w=Do(!1),R=Ln(),D=Ln(),O=Do(-1),{items:M,transformIn:H,transformOut:K}=Pte(t),{textColorClasses:Z,textColorStyles:Q}=gb(()=>{var nn;return(nn=g.value)==null?void 0:nn.color}),re=ra(t,"search",""),U=ra(t,"modelValue",[],nn=>H(nn===null?[null]:Wd(nn)),nn=>{const yn=K(nn);return t.multiple?yn:yn[0]??null}),ge=Mt(()=>typeof t.counterValue=="function"?t.counterValue(U.value):typeof t.counterValue=="number"?t.counterValue:U.value.length),de=gK(t),{filteredItems:q,getMatches:he}=hxe(t,M,()=>x.value?"":re.value),oe=Mt(()=>t.hideSelected?q.value.filter(nn=>!U.value.some(yn=>yn.value===nn.value)):q.value),_e=Mt(()=>!!(t.chips||i.chip)),Ue=Mt(()=>_e.value||!!i.selection),Qe=Mt(()=>U.value.map(nn=>nn.props.value)),ct=Mt(()=>{var yn;return(t.autoSelectFirst===!0||t.autoSelectFirst==="exact"&&re.value===((yn=oe.value[0])==null?void 0:yn.title))&&oe.value.length>0&&!x.value&&!w.value}),Ce=Mt(()=>t.hideNoData&&!oe.value.length||de.isReadonly.value||de.isDisabled.value),Te=ra(t,"menu"),I=Mt({get:()=>Te.value,set:nn=>{var yn;Te.value&&!nn&&((yn=R.value)!=null&&yn.openChildren.size)||nn&&Ce.value||(Te.value=nn)}}),dt=Mt(()=>I.value?t.closeText:t.openText),gt=Ln(),Ft=Bte(gt,g);function en(nn){t.openOnClear&&(I.value=!0),re.value=""}function ft(){Ce.value||(I.value=!0)}function Rn(nn){Ce.value||(h.value&&(nn.preventDefault(),nn.stopPropagation()),I.value=!I.value)}function Ot(nn){var yn;(dF(nn)||nn.key==="Backspace")&&((yn=g.value)==null||yn.focus())}function rt(nn){var it,Se,Me,Ke,xe;if(de.isReadonly.value)return;const yn=(it=g.value)==null?void 0:it.selectionStart,qe=U.value.length;if(["Enter","ArrowDown","ArrowUp"].includes(nn.key)&&nn.preventDefault(),["Enter","ArrowDown"].includes(nn.key)&&(I.value=!0),["Escape"].includes(nn.key)&&(I.value=!1),ct.value&&["Enter","Tab"].includes(nn.key)&&!U.value.some(Re=>{let{value:Fe}=Re;return Fe===oe.value[0].value})&&vo(oe.value[0]),nn.key==="ArrowDown"&&ct.value&&((Se=gt.value)==null||Se.focus("next")),["Backspace","Delete"].includes(nn.key)){if(!t.multiple&&Ue.value&&U.value.length>0&&!re.value)return vo(U.value[0],!1);if(~O.value){nn.preventDefault();const Re=O.value;vo(U.value[O.value],!1),O.value=Re>=qe-1?qe-2:Re}else nn.key==="Backspace"&&!re.value&&(O.value=qe-1);return}if(t.multiple)if(nn.key==="ArrowLeft"){if(O.value<0&&yn&&yn>0)return;const Re=O.value>-1?O.value-1:qe-1;if(U.value[Re])O.value=Re;else{const Fe=((Me=re.value)==null?void 0:Me.length)??null;O.value=-1,(Ke=g.value)==null||Ke.setSelectionRange(Fe,Fe)}}else if(nn.key==="ArrowRight"){if(O.value<0)return;const Re=O.value+1;U.value[Re]?O.value=Re:(O.value=-1,(xe=g.value)==null||xe.setSelectionRange(0,0))}else~O.value&&dF(nn)&&(O.value=-1)}function Ve(nn){if(AE(g.value,":autofill")||AE(g.value,":-webkit-autofill")){const yn=M.value.find(qe=>qe.title===nn.target.value);yn&&vo(yn)}}function bt(){var nn;t.eager&&((nn=D.value)==null||nn.calculateVisibleItems())}function Yn(){var nn;h.value&&(x.value=!0,(nn=g.value)==null||nn.focus())}function Yt(nn){h.value=!0,setTimeout(()=>{w.value=!0})}function Bn(nn){w.value=!1}function Jt(nn){(nn==null||nn===""&&!t.multiple&&!Ue.value)&&(U.value=[])}const te=Do(!1);function vo(nn){let yn=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(!(!nn||nn.props.disabled))if(t.multiple){const qe=U.value.findIndex(Se=>(t.valueComparator||Qh)(Se.value,nn.value)),it=yn??!~qe;if(~qe){const Se=it?[...U.value,nn]:[...U.value];Se.splice(qe,1),U.value=Se}else it&&(U.value=[...U.value,nn]);t.clearOnSelect&&(re.value="")}else{const qe=yn!==!1;U.value=qe?[nn]:[],re.value=qe&&!Ue.value?nn.title:"",ys(()=>{I.value=!1,x.value=!0})}}return Fn(h,(nn,yn)=>{var qe;nn!==yn&&(nn?(te.value=!0,re.value=t.multiple||Ue.value?"":String(((qe=U.value.at(-1))==null?void 0:qe.props.title)??""),x.value=!0,ys(()=>te.value=!1)):(!t.multiple&&re.value==null&&(U.value=[]),I.value=!1,(t.multiple||Ue.value)&&(re.value=""),O.value=-1))}),Fn(re,nn=>{!h.value||te.value||(nn&&(I.value=!0),x.value=!nn)}),Fn(I,()=>{if(!t.hideSelected&&I.value&&U.value.length){const nn=oe.value.findIndex(yn=>U.value.some(qe=>yn.value===qe.value));_i&&window.requestAnimationFrame(()=>{var yn;nn>=0&&((yn=D.value)==null||yn.scrollToIndex(nn))})}}),Fn(()=>t.items,(nn,yn)=>{I.value||h.value&&!yn.length&&nn.length&&(I.value=!0)}),$s(()=>{const nn=!!(!t.hideNoData||oe.value.length||i["prepend-item"]||i["append-item"]||i["no-data"]),yn=U.value.length>0,qe=eI.filterProps(t);return ce(eI,Xo({ref:g},qe,{modelValue:re.value,"onUpdate:modelValue":[it=>re.value=it,Jt],focused:h.value,"onUpdate:focused":it=>h.value=it,validationValue:U.externalValue,counterValue:ge.value,dirty:yn,onChange:Ve,class:["v-autocomplete",`v-autocomplete--${t.multiple?"multiple":"single"}`,{"v-autocomplete--active-menu":I.value,"v-autocomplete--chips":!!t.chips,"v-autocomplete--selection-slot":!!Ue.value,"v-autocomplete--selecting-index":O.value>-1},t.class],style:t.style,readonly:de.isReadonly.value,placeholder:yn?void 0:t.placeholder,"onClick:clear":en,"onMousedown:control":ft,onKeydown:rt}),{...i,default:()=>ie(ms,null,[ce(kI,Xo({ref:R,modelValue:I.value,"onUpdate:modelValue":it=>I.value=it,activator:"parent",contentClass:"v-autocomplete__content",disabled:Ce.value,eager:t.eager,maxHeight:310,openOnClick:!1,closeOnContentClick:!1,transition:t.transition,onAfterEnter:bt,onAfterLeave:Yn},t.menuProps),{default:()=>[nn&&ce(_I,Xo({ref:gt,filterable:!0,selected:Qe.value,selectStrategy:t.multiple?"independent":"single-independent",onMousedown:it=>it.preventDefault(),onKeydown:Ot,onFocusin:Yt,onFocusout:Bn,tabindex:"-1","aria-live":"polite",color:t.itemColor??t.color},Ft,t.listProps),{default:()=>{var it,Se,Me;return[(it=i["prepend-item"])==null?void 0:it.call(i),!oe.value.length&&!t.hideNoData&&(((Se=i["no-data"])==null?void 0:Se.call(i))??ce(ld,{key:"no-data",title:u(t.noDataText)},null)),ce(Lte,{ref:D,renderless:!0,items:oe.value,itemKey:"value"},{default:Ke=>{var wt,pn,Qt;let{item:xe,index:Re,itemRef:Fe}=Ke;const Je=Xo(xe.props,{ref:Fe,key:xe.value,active:ct.value&&Re===0?!0:void 0,onClick:()=>vo(xe,null)});return xe.type==="divider"?((wt=i.divider)==null?void 0:wt.call(i,{props:xe.raw,index:Re}))??ce(_E,Xo(xe.props,{key:`divider-${Re}`}),null):xe.type==="subheader"?((pn=i.subheader)==null?void 0:pn.call(i,{props:xe.raw,index:Re}))??ce(vK,Xo(xe.props,{key:`subheader-${Re}`}),null):((Qt=i.item)==null?void 0:Qt.call(i,{item:xe,index:Re,props:Je}))??ce(ld,Xo(Je,{role:"option"}),{prepend:An=>{let{isSelected:no}=An;return ie(ms,null,[t.multiple&&!t.hideSelected?ce(AF,{key:xe.value,modelValue:no,ripple:!1,tabindex:"-1"},null):void 0,xe.props.prependAvatar&&ce(jx,{image:xe.props.prependAvatar},null),xe.props.prependIcon&&ce(Gn,{icon:xe.props.prependIcon},null)])},title:()=>{var An;return x.value?xe.title:pxe("v-autocomplete",xe.title,(An=he(xe))==null?void 0:An.title)}})}}),(Me=i["append-item"])==null?void 0:Me.call(i)]}})]}),U.value.map((it,Se)=>{function Me(Fe){Fe.stopPropagation(),Fe.preventDefault(),vo(it,!1)}const Ke={"onClick:close":Me,onKeydown(Fe){Fe.key!=="Enter"&&Fe.key!==" "||(Fe.preventDefault(),Fe.stopPropagation(),Me(Fe))},onMousedown(Fe){Fe.preventDefault(),Fe.stopPropagation()},modelValue:!0,"onUpdate:modelValue":void 0},xe=_e.value?!!i.chip:!!i.selection,Re=xe?WW(_e.value?i.chip({item:it,index:Se,props:Ke}):i.selection({item:it,index:Se})):void 0;if(!(xe&&!Re))return ie("div",{key:it.value,class:xo(["v-autocomplete__selection",Se===O.value&&["v-autocomplete__selection--selected",Z.value]]),style:Qs(Se===O.value?Q.value:{})},[_e.value?i.chip?ce(cl,{key:"chip-defaults",defaults:{VChip:{closable:t.closableChips,size:"small",text:it.title}}},{default:()=>[Re]}):ce(hK,Xo({key:"chip",closable:t.closableChips,size:"small",text:it.title,disabled:it.props.disabled},Ke),null):Re??ie("span",{class:"v-autocomplete__selection-text"},[it.title,t.multiple&&Se<U.value.length-1&&ie("span",{class:"v-autocomplete__selection-comma"},[Ts(",")])])])})]),"append-inner":function(){var Ke,xe;for(var it=arguments.length,Se=new Array(it),Me=0;Me<it;Me++)Se[Me]=arguments[Me];return ie(ms,null,[(Ke=i["append-inner"])==null?void 0:Ke.call(i,...Se),t.menuIcon?ce(Gn,{class:"v-autocomplete__menu-icon",color:(xe=g.value)==null?void 0:xe.fieldIconColor,icon:t.menuIcon,onMousedown:Rn,onClick:rge,"aria-label":u(dt.value),title:u(dt.value),tabindex:"-1"},null):void 0])}})}),Xx({isFocused:h,isPristine:x,menu:I,search:re,filteredItems:q,select:vo},g)}}),vxe={class:"sr-only"},yxe={class:"sr-only"},xxe={__name:"Items",setup(t){const r=Oe.api(),i=Oe.items(),u=Ln(!1),g=Ln(!1),h=Ln("");Ln(!1);const{t:x}=ud.global;async function w(){await ys(),u.value&&(g.value=!0,h.value="")}async function R(){u.value=!1,i.changeItem(h.value)}return(D,O)=>(Xt(),mo(ms,null,[ce(Io,{disabled:ne(r).isLoading||!ne(i).previousKey,onClick:O[0]||(O[0]=M=>ne(i).changeItem(ne(i).previousKey))},{default:xt(()=>[ce(Gn,{left:"",icon:"mdi-arrow-left-bold"}),ie("span",vxe,He(D.$t("itemsPreviousWriter")),1)]),_:1},8,["disabled"]),ce(Io,{disabled:ne(r).isLoading,id:"app-items-menu-activator"},{default:xt(()=>[Zn(ie("span",null,He(D.$t("allLoadData")),513),[[Co,ne(r).isLoading]]),Zn(ie("span",null,He(ne(i).currentItem.title),513),[[Co,!ne(r).isLoading&&ne(i).currentItem!==void 0]])]),_:1},8,["disabled"]),ce(Io,{disabled:ne(r).isLoading||!ne(i).nextKey,onClick:O[1]||(O[1]=M=>ne(i).changeItem(ne(i).nextKey))},{default:xt(()=>[ce(Gn,{left:"",icon:"mdi-arrow-right-bold"}),ie("span",yxe,He(D.$t("itemsNextWriter")),1)]),_:1},8,["disabled"]),ce(kI,{disabled:ne(r).isLoading,modelValue:u.value,"onUpdate:modelValue":[O[4]||(O[4]=M=>u.value=M),O[5]||(O[5]=M=>w())],activator:"#app-items-menu-activator","close-on-content-click":!1},{default:xt(()=>[g.value?(Xt(),Yo(wK,{key:0,id:"app-items-autocomplete",modelValue:h.value,"onUpdate:modelValue":[O[2]||(O[2]=M=>h.value=M),O[3]||(O[3]=M=>R())],items:ne(i).sortedItems,menu:!0,"item-title":"title","item-value":"key",autofocus:"","auto-select-first":"",class:"flex-full-width",density:"comfortable","item-props":"","menu-icon":"",placeholder:D.$t("itemsWriter"),"prepend-inner-icon":"mdi-magnify",theme:"light",variant:"solo"},null,8,["modelValue","items","placeholder"])):Jn("",!0)]),_:1},8,["disabled","modelValue"])],64))}},wxe={class:"sr-only"},Cxe={class:"sr-only"},Sxe={__name:"Tasks",setup(t){const r=Oe.api(),i=Oe.items(),u=Oe.tasks(),g=Ln(!1),h=Ln(!1),x=Ln("");Ln(!1);const{t:w}=ud.global;async function R(){await ys(),g.value&&(h.value=!0,x.value="")}async function D(){var O;g.value=!1,i.changeItem((O=i.getByTask(x.value))==null?void 0:O.key)}return(O,M)=>(Xt(),mo(ms,null,[ce(Io,{disabled:ne(r).isLoading||!ne(u).previousKey,onClick:M[0]||(M[0]=H=>{var K;return ne(i).changeItem((K=ne(i).getByTask(ne(u).previousKey))==null?void 0:K.key)})},{default:xt(()=>[ce(Gn,{left:"",icon:"mdi-arrow-left-bold"}),ie("span",wxe,He(O.$t("tasksPreviousTask")),1)]),_:1},8,["disabled"]),ce(Io,{disabled:ne(r).isLoading,id:"app-tasks-menu-activator"},{default:xt(()=>{var H;return[Zn(ie("span",null,He(O.$t("allLoadData")),513),[[Co,ne(r).isLoading]]),Zn(ie("span",null,He((H=ne(u).currentTask)==null?void 0:H.title),513),[[Co,!ne(r).isLoading&&ne(i).currentItem!==void 0]])]}),_:1},8,["disabled"]),ce(Io,{disabled:ne(r).isLoading||!ne(u).nextKey,onClick:M[1]||(M[1]=H=>{var K;return ne(i).changeItem((K=ne(i).getByTask(ne(u).nextKey))==null?void 0:K.key)})},{default:xt(()=>[ce(Gn,{left:"",icon:"mdi-arrow-right-bold"}),ie("span",Cxe,He(O.$t("tasksNextTask")),1)]),_:1},8,["disabled"]),ce(kI,{disabled:ne(r).isLoading,modelValue:g.value,"onUpdate:modelValue":[M[4]||(M[4]=H=>g.value=H),M[5]||(M[5]=H=>R())],activator:"#app-tasks-menu-activator","close-on-content-click":!1},{default:xt(()=>[h.value?(Xt(),Yo(wK,{key:0,id:"app-taks-autocomplete",modelValue:x.value,"onUpdate:modelValue":[M[2]||(M[2]=H=>x.value=H),M[3]||(M[3]=H=>D())],items:ne(u).sortedTasks,menu:!0,"item-title":"title","item-value":"key",autofocus:"","auto-select-first":"",class:"flex-full-width",density:"comfortable","item-props":"","menu-icon":"",placeholder:O.$t("tasksTasks"),"prepend-inner-icon":"mdi-magnify",theme:"light",variant:"solo"},null,8,["modelValue","items","placeholder"])):Jn("",!0)]),_:1},8,["disabled","modelValue"])],64))}},_xe=qn({text:String,...or(),...Ua()},"VToolbarTitle"),kxe=ts()({name:"VToolbarTitle",props:_xe(),setup(t,r){let{slots:i}=r;return $s(()=>{const u=!!(i.default||i.text||t.text);return ce(t.tag,{class:xo(["v-toolbar-title",t.class]),style:Qs(t.style)},{default:()=>{var g;return[u&&ie("div",{class:"v-toolbar-title__placeholder"},[i.text?i.text():t.text,(g=i.default)==null?void 0:g.call(i)])]}})}),{}}}),Exe=[null,"prominent","default","comfortable","compact"],$te=qn({absolute:Boolean,collapse:Boolean,color:String,density:{type:String,default:"default",validator:t=>Exe.includes(t)},extended:{type:Boolean,default:null},extensionHeight:{type:[Number,String],default:48},flat:Boolean,floating:Boolean,height:{type:[Number,String],default:64},image:String,title:String,...H1(),...or(),...W1(),...Fg(),...Ua({tag:"header"}),...oc()},"VToolbar"),lX=ts()({name:"VToolbar",props:$te(),setup(t,r){var K;let{slots:i}=r;const{backgroundColorClasses:u,backgroundColorStyles:g}=db(()=>t.color),{borderClasses:h}=U1(t),{elevationClasses:x}=K1(t),{roundedClasses:w}=$g(t),{themeClasses:R}=tu(t),{rtlClasses:D}=ep(),O=Do(t.extended===null?!!((K=i.extension)!=null&&K.call(i)):t.extended),M=Mt(()=>parseInt(Number(t.height)+(t.density==="prominent"?Number(t.height):0)-(t.density==="comfortable"?8:0)-(t.density==="compact"?16:0),10)),H=Mt(()=>O.value?parseInt(Number(t.extensionHeight)+(t.density==="prominent"?Number(t.extensionHeight):0)-(t.density==="comfortable"?4:0)-(t.density==="compact"?8:0),10):0);return qx({VBtn:{variant:"text"}}),$s(()=>{var U;const Z=!!(t.title||i.title),Q=!!(i.image||t.image),re=(U=i.extension)==null?void 0:U.call(i);return O.value=t.extended===null?!!re:t.extended,ce(t.tag,{class:xo(["v-toolbar",{"v-toolbar--absolute":t.absolute,"v-toolbar--collapse":t.collapse,"v-toolbar--flat":t.flat,"v-toolbar--floating":t.floating,[`v-toolbar--density-${t.density}`]:!0},u.value,h.value,x.value,w.value,R.value,D.value,t.class]),style:Qs([g.value,t.style])},{default:()=>[Q&&ie("div",{key:"image",class:"v-toolbar__image"},[i.image?ce(cl,{key:"image-defaults",disabled:!t.image,defaults:{VImg:{cover:!0,src:t.image}}},i.image):ce(wI,{key:"image-img",cover:!0,src:t.image},null)]),ce(cl,{defaults:{VTabs:{height:Fs(M.value)}}},{default:()=>{var ge,de,q;return[ie("div",{class:"v-toolbar__content",style:{height:Fs(M.value)}},[i.prepend&&ie("div",{class:"v-toolbar__prepend"},[(ge=i.prepend)==null?void 0:ge.call(i)]),Z&&ce(kxe,{key:"title",text:t.title},{text:i.title}),(de=i.default)==null?void 0:de.call(i),i.append&&ie("div",{class:"v-toolbar__append"},[(q=i.append)==null?void 0:q.call(i)])])]}}),ce(cl,{defaults:{VTabs:{height:Fs(H.value)}}},{default:()=>[ce(nte,null,{default:()=>[O.value&&ie("div",{class:"v-toolbar__extension",style:{height:Fs(H.value)}},[re])]})]})]})}),{contentHeight:M,extensionHeight:H}}}),Txe=qn({scrollTarget:{type:String},scrollThreshold:{type:[String,Number],default:300}},"scroll");function Axe(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{canScroll:i}=r;let u=0,g=0;const h=Ln(null),x=Do(0),w=Do(0),R=Do(0),D=Do(!1),O=Do(!1),M=Mt(()=>Number(t.scrollThreshold)),H=Mt(()=>Mm((M.value-x.value)/M.value||0)),K=()=>{const Z=h.value;if(!Z||i&&!i.value)return;u=x.value,x.value="window"in Z?Z.pageYOffset:Z.scrollTop;const Q=Z instanceof Window?document.documentElement.scrollHeight:Z.scrollHeight;if(g!==Q){g=Q;return}O.value=x.value<u,R.value=Math.abs(x.value-M.value)};return Fn(O,()=>{w.value=w.value||x.value}),Fn(D,()=>{w.value=0}),jd(()=>{Fn(()=>t.scrollTarget,Z=>{var re;const Q=Z?document.querySelector(Z):window;Q&&Q!==h.value&&((re=h.value)==null||re.removeEventListener("scroll",K),h.value=Q,h.value.addEventListener("scroll",K,{passive:!0}))},{immediate:!0})}),Ru(()=>{var Z;(Z=h.value)==null||Z.removeEventListener("scroll",K)}),i&&Fn(i,K,{immediate:!0}),{scrollThreshold:M,currentScroll:x,currentThreshold:R,isScrollActive:D,scrollRatio:H,isScrollingUp:O,savedScroll:w}}const Oxe=qn({scrollBehavior:String,modelValue:{type:Boolean,default:!0},location:{type:String,default:"top",validator:t=>["top","bottom"].includes(t)},...$te(),...$Q(),...Txe(),height:{type:[Number,String],default:64}},"VAppBar"),Vte=ts()({name:"VAppBar",props:Oxe(),emits:{"update:modelValue":t=>!0},setup(t,r){let{slots:i}=r;const u=Ln(),g=ra(t,"modelValue"),h=Mt(()=>{var de;const ge=new Set(((de=t.scrollBehavior)==null?void 0:de.split(" "))??[]);return{hide:ge.has("hide"),fullyHide:ge.has("fully-hide"),inverted:ge.has("inverted"),collapse:ge.has("collapse"),elevate:ge.has("elevate"),fadeImage:ge.has("fade-image")}}),x=Mt(()=>{const ge=h.value;return ge.hide||ge.fullyHide||ge.inverted||ge.collapse||ge.elevate||ge.fadeImage||!g.value}),{currentScroll:w,scrollThreshold:R,isScrollingUp:D,scrollRatio:O}=Axe(t,{canScroll:x}),M=En(()=>h.value.hide||h.value.fullyHide),H=Mt(()=>t.collapse||h.value.collapse&&(h.value.inverted?O.value>0:O.value===0)),K=Mt(()=>t.flat||h.value.fullyHide&&!g.value||h.value.elevate&&(h.value.inverted?w.value>0:w.value===0)),Z=Mt(()=>h.value.fadeImage?h.value.inverted?1-O.value:O.value:void 0),Q=Mt(()=>{var q,he;if(h.value.hide&&h.value.inverted)return 0;const ge=((q=u.value)==null?void 0:q.contentHeight)??0,de=((he=u.value)==null?void 0:he.extensionHeight)??0;return M.value?w.value<R.value||h.value.fullyHide?ge+de:ge:ge+de});Jh(()=>!!t.scrollBehavior,()=>{Uf(()=>{M.value?h.value.inverted?g.value=w.value>R.value:g.value=D.value||w.value<R.value:g.value=!0})});const{ssrBootStyles:re}=d8(),{layoutItemStyles:U}=VQ({id:t.name,order:Mt(()=>parseInt(t.order,10)),position:En(()=>t.location),layoutSize:Q,elementSize:Do(void 0),active:g,absolute:En(()=>t.absolute)});return $s(()=>{const ge=lX.filterProps(t);return ce(lX,Xo({ref:u,class:["v-app-bar",{"v-app-bar--bottom":t.location==="bottom"},t.class],style:[{...U.value,"--v-toolbar-image-opacity":Z.value,height:void 0,...re.value},t.style]},ge,{collapse:H.value,flat:K.value}),i)}),{}}}),Rxe=qn({fluid:{type:Boolean,default:!1},...or(),...bb(),...Ua()},"VContainer"),ME=ts()({name:"VContainer",props:Rxe(),setup(t,r){let{slots:i}=r;const{rtlClasses:u}=ep(),{dimensionStyles:g}=vb(t);return $s(()=>ce(t.tag,{class:xo(["v-container",{"v-container--fluid":t.fluid},u.value,t.class]),style:Qs([g.value,t.style])},i)),{}}}),zte=GF.reduce((t,r)=>(t[r]={type:[Boolean,String,Number],default:!1},t),{}),Hte=GF.reduce((t,r)=>{const i="offset"+$1(r);return t[i]={type:[String,Number],default:null},t},{}),Ute=GF.reduce((t,r)=>{const i="order"+$1(r);return t[i]={type:[String,Number],default:null},t},{}),cX={col:Object.keys(zte),offset:Object.keys(Hte),order:Object.keys(Ute)};function Ixe(t,r,i){let u=t;if(!(i==null||i===!1)){if(r){const g=r.replace(t,"");u+=`-${g}`}return t==="col"&&(u="v-"+u),t==="col"&&(i===""||i===!0)||(u+=`-${i}`),u.toLowerCase()}}const Dxe=["auto","start","end","center","baseline","stretch"],Pxe=qn({cols:{type:[Boolean,String,Number],default:!1},...zte,offset:{type:[String,Number],default:null},...Hte,order:{type:[String,Number],default:null},...Ute,alignSelf:{type:String,default:null,validator:t=>Dxe.includes(t)},...or(),...Ua()},"VCol"),yc=ts()({name:"VCol",props:Pxe(),setup(t,r){let{slots:i}=r;const u=Mt(()=>{const g=[];let h;for(h in cX)cX[h].forEach(w=>{const R=t[w],D=Ixe(h,w,R);D&&g.push(D)});const x=g.some(w=>w.startsWith("v-col-"));return g.push({"v-col":!x||!t.cols,[`v-col-${t.cols}`]:t.cols,[`offset-${t.offset}`]:t.offset,[`order-${t.order}`]:t.order,[`align-self-${t.alignSelf}`]:t.alignSelf}),g});return()=>{var g;return Nv(t.tag,{class:[u.value,t.class],style:t.style},(g=i.default)==null?void 0:g.call(i))}}}),CK=["start","end","center"],Wte=["space-between","space-around","space-evenly"];function SK(t,r){return GF.reduce((i,u)=>{const g=t+$1(u);return i[g]=r(),i},{})}const Nxe=[...CK,"baseline","stretch"],Kte=t=>Nxe.includes(t),jte=SK("align",()=>({type:String,default:null,validator:Kte})),Mxe=[...CK,...Wte],Zte=t=>Mxe.includes(t),Gte=SK("justify",()=>({type:String,default:null,validator:Zte})),Lxe=[...CK,...Wte,"stretch"],qte=t=>Lxe.includes(t),Yte=SK("alignContent",()=>({type:String,default:null,validator:qte})),uX={align:Object.keys(jte),justify:Object.keys(Gte),alignContent:Object.keys(Yte)},Bxe={align:"align",justify:"justify",alignContent:"align-content"};function Fxe(t,r,i){let u=Bxe[t];if(i!=null){if(r){const g=r.replace(t,"");u+=`-${g}`}return u+=`-${i}`,u.toLowerCase()}}const $xe=qn({dense:Boolean,noGutters:Boolean,align:{type:String,default:null,validator:Kte},...jte,justify:{type:String,default:null,validator:Zte},...Gte,alignContent:{type:String,default:null,validator:qte},...Yte,...or(),...Ua()},"VRow"),O1=ts()({name:"VRow",props:$xe(),setup(t,r){let{slots:i}=r;const u=Mt(()=>{const g=[];let h;for(h in uX)uX[h].forEach(x=>{const w=t[x],R=Fxe(h,x,w);R&&g.push(R)});return g.push({"v-row--no-gutters":t.noGutters,"v-row--dense":t.dense,[`align-${t.align}`]:t.align,[`justify-${t.justify}`]:t.justify,[`align-content-${t.alignContent}`]:t.alignContent}),g});return()=>{var g;return Nv(t.tag,{class:["v-row",u.value,t.class],style:t.style},(g=i.default)==null?void 0:g.call(i))}}}),_K=ZF("v-spacer","div","VSpacer"),Vxe={__name:"AppBar",setup(t){const r=Oe.api();Oe.tasks(),Oe.changes();const i=Oe.layout();async function u(){if(i.focusTarget=="header"){await ys();for(const h of document.getElementsByClassName("app-header-item"))if(!h.disabled){h.focus();break}}}Fn(()=>i.focusChange,u);async function g(){Oe.changes().countChanges==0||await r.saveChangesToBackend(!0)?window.location=r.returnUrl:Oe.layout().showSendFailure=!0}return(h,x)=>(Xt(),Yo(Vte,{elevation:"1",color:"white",density:"compact"},{default:xt(()=>[ne(Oe).tasks().countTasks>1?(Xt(),Yo(Sxe,{key:0})):Jn("",!0),ce(xxe),ce(_K),ce(dye),ce(Io,{class:"app-header-item",onClick:x[0]||(x[0]=w=>g())},{default:xt(()=>[ce(Gn,{left:"",icon:"mdi-logout-variant"}),ie("span",null,He(h.$t("appBarReturn")),1)]),_:1})]),_:1}))}},zxe={__name:"SendingStatus",setup(t){const r=Oe.api(),i=Oe.changes();function u(){return i.countChanges==0}function g(){return r.lastSendingTry>0}return(h,x)=>(Xt(),Yo(_I,{tabindex:"-1"},{default:xt(()=>[ce(ld,{"aria-role":"button",class:"app-navigation-item",tabindex:"0",onClick:x[0]||(x[0]=w=>ne(r).saveChangesToBackend()),disabled:u(),"aria-label":g()?h.$t("SendingStatusSending"):u()?h.$t("SendingStatusSent"):h.$t("SendingStatusSend"),title:g()?h.$t("SendingStatusSending"):u()?h.$t("SendingStatusSent"):h.$t("SendingStatusSend"),ripple:!1},{prepend:xt(()=>[ce(Gn,{"aria-role":"hidden",icon:g()?"mdi-cloud-upload":u()?"mdi-cloud-check-outline":"mdi-cloud-outline"},null,8,["icon"])]),_:1},8,["disabled","aria-label","title"])]),_:1}))}};function Hxe(t){let{rootEl:r,isSticky:i,layoutItemStyles:u}=t;const g=Do(!1),h=Do(0),x=Mt(()=>{const D=typeof g.value=="boolean"?"top":g.value;return[i.value?{top:"auto",bottom:"auto",height:void 0}:void 0,g.value?{[D]:Fs(h.value)}:{top:u.value.top}]});jd(()=>{Fn(i,D=>{D?window.addEventListener("scroll",R,{passive:!0}):window.removeEventListener("scroll",R)},{immediate:!0})}),Ru(()=>{window.removeEventListener("scroll",R)});let w=0;function R(){const D=w>window.scrollY?"up":"down",O=r.value.getBoundingClientRect(),M=parseFloat(u.value.top??0),H=window.scrollY-Math.max(0,h.value-M),K=O.height+Math.max(h.value,M)-window.scrollY-window.innerHeight,Z=parseFloat(getComputedStyle(r.value).getPropertyValue("--v-body-scroll-y"))||0;O.height<window.innerHeight-M?(g.value="top",h.value=M):D==="up"&&g.value==="bottom"||D==="down"&&g.value==="top"?(h.value=window.scrollY+O.top-Z,g.value=!0):D==="down"&&K<=0?(h.value=0,g.value="bottom"):D==="up"&&H<=0&&(Z?g.value!=="top"&&(h.value=-H+Z+M,g.value="top"):(h.value=O.top+H,g.value="top")),w=window.scrollY}return{isStuck:g,stickyStyles:x}}const Uxe=100,Wxe=20;function dX(t){return(t<0?-1:1)*Math.sqrt(Math.abs(t))*1.41421356237}function fX(t){if(t.length<2)return 0;if(t.length===2)return t[1].t===t[0].t?0:(t[1].d-t[0].d)/(t[1].t-t[0].t);let r=0;for(let i=t.length-1;i>0;i--){if(t[i].t===t[i-1].t)continue;const u=dX(r),g=(t[i].d-t[i-1].d)/(t[i].t-t[i-1].t);r+=(g-u)*Math.abs(g),i===t.length-1&&(r*=.5)}return dX(r)*1e3}function Kxe(){const t={};function r(g){Array.from(g.changedTouches).forEach(h=>{(t[h.identifier]??(t[h.identifier]=new mQ(Wxe))).push([g.timeStamp,h])})}function i(g){Array.from(g.changedTouches).forEach(h=>{delete t[h.identifier]})}function u(g){var D;const h=(D=t[g])==null?void 0:D.values().reverse();if(!h)throw new Error(`No samples for touch id ${g}`);const x=h[0],w=[],R=[];for(const O of h){if(x[0]-O[0]>Uxe)break;w.push({t:O[0],d:O[1].clientX}),R.push({t:O[0],d:O[1].clientY})}return{x:fX(w),y:fX(R),get direction(){const{x:O,y:M}=this,[H,K]=[Math.abs(O),Math.abs(M)];return H>K&&O>=0?"right":H>K&&O<=0?"left":K>H&&M>=0?"down":K>H&&M<=0?"up":jxe()}}}return{addMovement:r,endTouch:i,getVelocity:u}}function jxe(){throw new Error}function Zxe(t){let{el:r,isActive:i,isTemporary:u,width:g,touchless:h,position:x}=t;jd(()=>{window.addEventListener("touchstart",ge,{passive:!0}),window.addEventListener("touchmove",de,{passive:!1}),window.addEventListener("touchend",q,{passive:!0})}),Ru(()=>{window.removeEventListener("touchstart",ge),window.removeEventListener("touchmove",de),window.removeEventListener("touchend",q)});const w=Mt(()=>["left","right"].includes(x.value)),{addMovement:R,endTouch:D,getVelocity:O}=Kxe();let M=!1;const H=Do(!1),K=Do(0),Z=Do(0);let Q;function re(oe,_e){return(x.value==="left"?oe:x.value==="right"?document.documentElement.clientWidth-oe:x.value==="top"?oe:x.value==="bottom"?document.documentElement.clientHeight-oe:uE())-(_e?g.value:0)}function U(oe){let _e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const Ue=x.value==="left"?(oe-Z.value)/g.value:x.value==="right"?(document.documentElement.clientWidth-oe-Z.value)/g.value:x.value==="top"?(oe-Z.value)/g.value:x.value==="bottom"?(document.documentElement.clientHeight-oe-Z.value)/g.value:uE();return _e?Mm(Ue):Ue}function ge(oe){if(h.value)return;const _e=oe.changedTouches[0].clientX,Ue=oe.changedTouches[0].clientY,Qe=25,ct=x.value==="left"?_e<Qe:x.value==="right"?_e>document.documentElement.clientWidth-Qe:x.value==="top"?Ue<Qe:x.value==="bottom"?Ue>document.documentElement.clientHeight-Qe:uE(),Ce=i.value&&(x.value==="left"?_e<g.value:x.value==="right"?_e>document.documentElement.clientWidth-g.value:x.value==="top"?Ue<g.value:x.value==="bottom"?Ue>document.documentElement.clientHeight-g.value:uE());(ct||Ce||i.value&&u.value)&&(Q=[_e,Ue],Z.value=re(w.value?_e:Ue,i.value),K.value=U(w.value?_e:Ue),M=Z.value>-20&&Z.value<80,D(oe),R(oe))}function de(oe){const _e=oe.changedTouches[0].clientX,Ue=oe.changedTouches[0].clientY;if(M){if(!oe.cancelable){M=!1;return}const ct=Math.abs(_e-Q[0]),Ce=Math.abs(Ue-Q[1]);(w.value?ct>Ce&&ct>3:Ce>ct&&Ce>3)?(H.value=!0,M=!1):(w.value?Ce:ct)>3&&(M=!1)}if(!H.value)return;oe.preventDefault(),R(oe);const Qe=U(w.value?_e:Ue,!1);K.value=Math.max(0,Math.min(1,Qe)),Qe>1?Z.value=re(w.value?_e:Ue,!0):Qe<0&&(Z.value=re(w.value?_e:Ue,!1))}function q(oe){if(M=!1,!H.value)return;R(oe),H.value=!1;const _e=O(oe.changedTouches[0].identifier),Ue=Math.abs(_e.x),Qe=Math.abs(_e.y);(w.value?Ue>Qe&&Ue>400:Qe>Ue&&Qe>3)?i.value=_e.direction===({left:"right",right:"left",top:"down",bottom:"up"}[x.value]||uE()):i.value=K.value>.5}const he=Mt(()=>H.value?{transform:x.value==="left"?`translateX(calc(-100% + ${K.value*g.value}px))`:x.value==="right"?`translateX(calc(100% - ${K.value*g.value}px))`:x.value==="top"?`translateY(calc(-100% + ${K.value*g.value}px))`:x.value==="bottom"?`translateY(calc(100% - ${K.value*g.value}px))`:uE(),transition:"none"}:void 0);return Jh(H,()=>{var Ue,Qe;const oe=((Ue=r.value)==null?void 0:Ue.style.transform)??null,_e=((Qe=r.value)==null?void 0:Qe.style.transition)??null;Uf(()=>{var ct,Ce,Te,I;(Ce=r.value)==null||Ce.style.setProperty("transform",((ct=he.value)==null?void 0:ct.transform)||"none"),(I=r.value)==null||I.style.setProperty("transition",((Te=he.value)==null?void 0:Te.transition)||null)}),eu(()=>{var ct,Ce;(ct=r.value)==null||ct.style.setProperty("transform",oe),(Ce=r.value)==null||Ce.style.setProperty("transition",_e)})}),{isDragging:H,dragProgress:K,dragStyles:he}}function uE(){throw new Error}const Gxe=["start","end","left","right","top","bottom"],qxe=qn({color:String,disableResizeWatcher:Boolean,disableRouteWatcher:Boolean,expandOnHover:Boolean,floating:Boolean,modelValue:{type:Boolean,default:null},permanent:Boolean,rail:{type:Boolean,default:null},railWidth:{type:[Number,String],default:56},scrim:{type:[Boolean,String],default:!0},image:String,temporary:Boolean,persistent:Boolean,touchless:Boolean,width:{type:[Number,String],default:256},location:{type:String,default:"start",validator:t=>Gxe.includes(t)},sticky:Boolean,...H1(),...or(),...ite(),...PQ({mobile:null}),...W1(),...$Q(),...Fg(),...Ua({tag:"nav"}),...oc()},"VNavigationDrawer"),Yxe=ts()({name:"VNavigationDrawer",props:qxe(),emits:{"update:modelValue":t=>!0,"update:rail":t=>!0},setup(t,r){let{attrs:i,emit:u,slots:g}=r;const{isRtl:h}=ep(),{themeClasses:x}=tu(t),{borderClasses:w}=U1(t),{backgroundColorClasses:R,backgroundColorStyles:D}=db(()=>t.color),{elevationClasses:O}=K1(t),{displayClasses:M,mobile:H}=qF(t),{roundedClasses:K}=$g(t),Z=Uee(),Q=ra(t,"modelValue",null,Ot=>!!Ot),{ssrBootStyles:re}=d8(),{scopeId:U}=u8(),ge=Ln(),de=Do(!1),{runOpenDelay:q,runCloseDelay:he}=ate(t,Ot=>{de.value=Ot}),oe=Mt(()=>t.rail&&t.expandOnHover&&de.value?Number(t.width):Number(t.rail?t.railWidth:t.width)),_e=Mt(()=>jU(t.location,h.value)),Ue=En(()=>t.persistent),Qe=Mt(()=>!t.permanent&&(H.value||t.temporary)),ct=Mt(()=>t.sticky&&!Qe.value&&_e.value!=="bottom");Jh(()=>t.expandOnHover&&t.rail!=null,()=>{Fn(de,Ot=>u("update:rail",!Ot))}),Jh(()=>!t.disableResizeWatcher,()=>{Fn(Qe,Ot=>!t.permanent&&ys(()=>Q.value=!Ot))}),Jh(()=>!t.disableRouteWatcher&&!!Z,()=>{Fn(Z.currentRoute,()=>Qe.value&&(Q.value=!1))}),Fn(()=>t.permanent,Ot=>{Ot&&(Q.value=!0)}),t.modelValue==null&&!Qe.value&&(Q.value=t.permanent||!H.value);const{isDragging:Ce,dragProgress:Te}=Zxe({el:ge,isActive:Q,isTemporary:Qe,width:oe,touchless:En(()=>t.touchless),position:_e}),I=Mt(()=>{const Ot=Qe.value?0:t.rail&&t.expandOnHover?Number(t.railWidth):oe.value;return Ce.value?Ot*Te.value:Ot}),{layoutItemStyles:dt,layoutItemScrimStyles:gt}=VQ({id:t.name,order:Mt(()=>parseInt(t.order,10)),position:_e,layoutSize:I,elementSize:oe,active:FE(Q),disableTransitions:En(()=>Ce.value),absolute:Mt(()=>t.absolute||ct.value&&typeof Ft.value!="string")}),{isStuck:Ft,stickyStyles:en}=Hxe({rootEl:ge,isSticky:ct,layoutItemStyles:dt}),ft=db(()=>typeof t.scrim=="string"?t.scrim:null),Rn=Mt(()=>({...Ce.value?{opacity:Te.value*.2,transition:"none"}:void 0,...gt.value}));return qx({VList:{bgColor:"transparent"}}),$s(()=>{const Ot=g.image||t.image;return ie(ms,null,[ce(t.tag,Xo({ref:ge,onMouseenter:q,onMouseleave:he,class:["v-navigation-drawer",`v-navigation-drawer--${_e.value}`,{"v-navigation-drawer--expand-on-hover":t.expandOnHover,"v-navigation-drawer--floating":t.floating,"v-navigation-drawer--is-hovering":de.value,"v-navigation-drawer--rail":t.rail,"v-navigation-drawer--temporary":Qe.value,"v-navigation-drawer--persistent":Ue.value,"v-navigation-drawer--active":Q.value,"v-navigation-drawer--sticky":ct.value},x.value,R.value,w.value,M.value,O.value,K.value,t.class],style:[D.value,dt.value,re.value,en.value,t.style]},U,i),{default:()=>{var rt,Ve,bt;return[Ot&&ie("div",{key:"image",class:"v-navigation-drawer__img"},[g.image?ce(cl,{key:"image-defaults",disabled:!t.image,defaults:{VImg:{alt:"",cover:!0,height:"inherit",src:t.image}}},g.image):ce(wI,{key:"image-img",alt:"",cover:!0,height:"inherit",src:t.image},null)]),g.prepend&&ie("div",{class:"v-navigation-drawer__prepend"},[(rt=g.prepend)==null?void 0:rt.call(g)]),ie("div",{class:"v-navigation-drawer__content"},[(Ve=g.default)==null?void 0:Ve.call(g)]),g.append&&ie("div",{class:"v-navigation-drawer__append"},[(bt=g.append)==null?void 0:bt.call(g)])]}}),ce(Kx,{name:"fade-transition"},{default:()=>[Qe.value&&(Ce.value||Q.value)&&!!t.scrim&&ie("div",Xo({class:["v-navigation-drawer__scrim",ft.backgroundColorClasses.value],style:[Rn.value,ft.backgroundColorStyles.value],onClick:()=>{Ue.value||(Q.value=!1)}},U),null)]})])}),{isStuck:Ft}}}),Xxe={__name:"NavBar",setup(t){Oe.api();const r=Oe.layout();Oe.items();const i=Oe.resources(),u=Oe.corrections(),g=Oe.tasks();async function h(){if(r.focusTarget=="navigation"){await ys();for(const H of document.getElementsByClassName("app-navigation-item")){H.focus();break}}}Fn(()=>r.focusChange,h);function x(){document.getElementById("app-navigation-drawer").dispatchEvent(new Event("mouseenter"))}function w(){document.getElementById("app-navigation-drawer").dispatchEvent(new Event("mouseleave"))}function R(H){H.keyCode==27?w():r.handleKeyDown(H)}function D(H){H.type=="url"&&!H.embedded?window.open(H.source,"long-essay-writer-resource-"+H.key):(i.selectResource(H),r.showResources())}function O(H){switch(H.type){case"url":return i.getResourceIsActive(H)&&r.isResourcesVisible?"mdi-file-link":"mdi-file-link-outline";default:return i.getResourceIsActive(H)&&r.isResourcesVisible?"mdi-file":"mdi-file-outline"}}function M(H){return H.title+" - "+H.initials+" "+Si.buildPositionText(H.position)}return(H,K)=>(Xt(),Yo(Yxe,{id:"app-navigation-drawer",elevation:"2",width:"500",permanent:"",rail:"","expand-on-hover":"",onFocusin:x,onFocusout:w,onKeydown:R},{append:xt(()=>[ce(zxe)]),default:xt(()=>[ce(_I,{tabindex:"-1"},{default:xt(()=>[Zn(ce(ld,{"aria-role":"button",class:"app-navigation-item",tabindex:"0",onClick:K[0]||(K[0]=Z=>{ne(r).showInstructions()}),"aria-label":H.$t("allInstructions")+ne(r).isInstructionsVisible?H.$t("navBarSelectedAria"):"",title:H.$t("allInstructions")+(ne(r).isInstructionsVisible?H.$t("navBarSelected"):""),ripple:!1},{prepend:xt(()=>[ce(Gn,{"aria-role":"hidden",icon:ne(r).isInstructionsVisible?"mdi-text-box":"mdi-text-box-outline"},null,8,["icon"])]),_:1},8,["aria-label","title"]),[[Co,ne(g).hasInstructions]]),Zn(ce(ld,{"aria-role":"button",class:"app-navigation-item",tabindex:"0",onClick:K[1]||(K[1]=Z=>{ne(r).showInstructionsPdf()}),"aria-label":H.$t("allInstructionsPdf")+(ne(r).isInstructionsPdfVisible?H.$t("navBarSelectedAria"):""),title:H.$t("allInstructionsPdf")+(ne(r).isInstructionsPdfVisible?H.$t("navBarSelected"):""),ripple:!1},{prepend:xt(()=>[ce(Gn,{"aria-role":"hidden",icon:ne(r).isInstructionsPdfVisible?"mdi-text-box":"mdi-text-box-outline"},null,8,["icon"])]),_:1},8,["aria-label","title"]),[[Co,ne(i).hasInstruction]]),Zn(ce(ld,{"aria-role":"button",class:"app-navigation-item",tabindex:"0",onClick:K[2]||(K[2]=Z=>{ne(r).showSolution()}),"aria-label":H.$t("allSolution")+(ne(r).isSolutionVisible?H.$t("navBarSelectedAria"):""),title:H.$t("allSolution")+(ne(r).isSolutionVisible?H.$t("navBarSelected"):""),ripple:!1},{prepend:xt(()=>[ce(Gn,{"aria-role":"hidden",icon:ne(r).isSolutionVisible?"mdi-text-box-check":"mdi-text-box-check-outline"},null,8,["icon"])]),_:1},8,["aria-label","title"]),[[Co,ne(g).hasSolution]]),Zn(ce(ld,{"aria-role":"button",class:"app-navigation-item",tabindex:"0",onClick:K[3]||(K[3]=Z=>{ne(r).showSolutionPdf()}),"aria-label":H.$t("allSolutionPdf")+(ne(r).isSolutionPdfVisible?H.$t("navBarSelectedAria"):""),title:H.$t("allSolutionPdf")+(ne(r).isSolutionPdfVisible?H.$t("navBarSelected"):""),ripple:!1},{prepend:xt(()=>[ce(Gn,{"aria-role":"hidden",icon:ne(r).isSolutionPdfVisible?"mdi-text-box-check":"mdi-text-box-check-outline"},null,8,["icon"])]),_:1},8,["aria-label","title"]),[[Co,ne(i).hasSolution]]),(Xt(!0),mo(ms,null,M1(ne(i).fileOrUrlResources,Z=>(Xt(),Yo(ld,{"aria-role":"button",class:"app-navigation-item",tabindex:"0",onClick:Q=>{D(Z)},"aria-label":Z.title+(ne(i).getResourceIsActive(Z)&&ne(r).isResourcesVisible?", ist ausgewhlt":""),title:Z.title+(ne(i).getResourceIsActive(Z)&&ne(r).isResourcesVisible?H.$t("navBarSelected"):""),key:Z.key,ripple:!1},{prepend:xt(()=>[ce(Gn,{"aria-role":"hidden",icon:O(Z)},null,8,["icon"])]),_:2},1032,["onClick","aria-label","title"]))),128)),Zn(ce(_E,{class:"border-opacity-75"},null,512),[[Co,ne(g).hasTexts||ne(i).hasResources]]),ce(ld,{"aria-role":"button",class:"app-navigation-item",tabindex:"0",onClick:K[4]||(K[4]=Z=>{ne(r).showEssay()}),"aria-label":H.$t("allEssayAndCorrection")+(ne(r).isEssayVisible?H.$t("navBarSelectedAria"):""),title:H.$t("allEssayAndCorrection")+(ne(r).isEssayVisible?H.$t("navBarSelected"):""),ripple:!1},{prepend:xt(()=>[ce(Gn,{"aria-role":"hidden",icon:ne(r).isEssayVisible&&ne(r).isMarkingVisible?"mdi-comment-edit":"mdi-comment-edit-outline"},null,8,["icon"])]),_:1},8,["aria-label","title"]),ce(_E,{class:"border-opacity-75"}),(Xt(!0),mo(ms,null,M1(ne(u).otherCorrections,Z=>(Xt(),Yo(ld,{"aria-role":"button",class:"app-navigation-item",tabindex:"0",onClick:Q=>{ne(r).selectCorrection(Z.key)},"aria-label":M(Z)+(ne(r).getCorrectionIsVisible(Z.key)?H.$t("navBarSelectedAria"):""),title:M(Z)+(ne(r).getCorrectionIsVisible(Z.key)?H.$t("navBarSelected"):""),key:Z.correction_key,ripple:!1},{prepend:xt(()=>[ce(Gn,{"aria-role":"hidden",icon:ne(r).getCorrectionIsVisible(Z.key)?"mdi-account-school":"mdi-account-school-outline"},null,8,["icon"])]),_:2},1032,["onClick","aria-label","title"]))),128)),ne(u).ownCorrection!==null?(Xt(),Yo(ld,{key:0,"aria-role":"button",class:"app-navigation-item",tabindex:"0",onClick:K[5]||(K[5]=Z=>{ne(r).showSummary()}),"aria-label":H.$t("allOwnSummaryAndRating")+(ne(r).isSummaryVisible?H.$t("navBarSelectedAria"):""),title:H.$t("allOwnSummaryAndRating")+(ne(r).isSummaryVisible?H.$t("navBarSelected"):""),ripple:!1},{prepend:xt(()=>[ce(Gn,{"aria-role":"hidden",icon:ne(r).isSummaryVisible?"mdi-file-edit":"mdi-file-edit-outline"},null,8,["icon"])]),_:1},8,["aria-label","title"])):Jn("",!0),ce(_E,{class:"border-opacity-75"})]),_:1})]),_:1}))}},Jxe=Ea(Xxe,[["__scopeId","data-v-dbcd4a0f"]]),Qxe=["innerHTML"],ewe={__name:"Instructions",setup(t){const r=Oe.tasks(),i=Oe.layout();function u(h){return h.preventDefault(),!1}async function g(){i.focusTarget=="instructions"&&(await ys(),document.getElementById("app-instructions").focus())}return g(),Fn(()=>i.focusChange,g),(h,x)=>{var w;return Xt(),mo("div",{id:"app-instructions",class:"long-essay-content",contenteditable:"true",onBeforeinput:u,innerHTML:(w=ne(r).currentTask)==null?void 0:w.instructions},null,40,Qxe)}}},twe=Ea(ewe,[["__scopeId","data-v-f0cb7ed4"]]),nwe=["data"],owe={__name:"InstructionsPdf",setup(t){const i=Oe.resources().instruction;return(u,g)=>(Xt(),mo("div",null,[ne(i).mimetype=="application/pdf"?(Xt(),mo("object",{key:0,type:"application/pdf",data:ne(i).url,width:"100%",height:"100%"},null,8,nwe)):Jn("",!0)]))}},swe=Ea(owe,[["__scopeId","data-v-3032ccee"]]),rwe=["innerHTML"],iwe={__name:"Solution",setup(t){const r=Oe.tasks(),i=Oe.layout();function u(h){return h.preventDefault(),!1}async function g(){i.focusTarget=="solution"&&(await ys(),document.getElementById("app-solution").focus())}return g(),Fn(()=>i.focusChange,g),(h,x)=>(Xt(),mo("div",{id:"app-solution",class:"long-essay-content",contenteditable:"true",onBeforeinput:u,innerHTML:ne(r).solution},null,40,rwe))}},awe=Ea(iwe,[["__scopeId","data-v-fbbc007c"]]),lwe=["data"],cwe={__name:"SolutionPdf",setup(t){const i=Oe.resources().solution;return(u,g)=>(Xt(),mo("div",null,[ne(i).mimetype=="application/pdf"?(Xt(),mo("object",{key:0,type:"application/pdf",data:ne(i).url,width:"100%",height:"100%"},null,8,lwe)):Jn("",!0)]))}},uwe=Ea(cwe,[["__scopeId","data-v-a5bf3b1f"]]),dwe={class:"resources"},fwe={key:0},mwe=["data"],gwe={key:1},hwe=["src"],pwe={__name:"Resources",setup(t){const r=Oe.resources();return(i,u)=>(Xt(),mo("div",dwe,[(Xt(!0),mo(ms,null,M1(ne(r).fileOrUrlResources,g=>(Xt(),mo(ms,{key:g.key},[g.type=="file"?Zn((Xt(),mo("div",fwe,[g.mimetype=="application/pdf"?(Xt(),mo("object",{key:0,type:"application/pdf",data:g.url,width:"100%",height:"100%"},null,8,mwe)):Jn("",!0)],512)),[[Co,ne(r).getResourceIsActive(g)]]):Jn("",!0),g.type=="url"&&g.embedded==!0?Zn((Xt(),mo("div",gwe,[ie("iframe",{src:g.source,width:"100%",height:"100%",frameborder:"0",referrerpolicy:"strict-origin-when-cross-origin",allowfullscreen:""},null,8,hwe)],512)),[[Co,ne(r).getResourceIsActive(g)]]):Jn("",!0)],64))),128))]))}},bwe=Ea(pwe,[["__scopeId","data-v-9f00696d"]]);class vwe{constructor(r,i,u){Tt(this,"observer",null);Tt(this,"marks",[]);if(!r)throw new Error("Missing anchor element");this.el=r,i instanceof Function&&(this.onSelection=i,this.el.addEventListener("mouseup",this.selectionHandler.bind(this)),this.el.addEventListener("touchend",this.selectionHandler.bind(this)),this.el.addEventListener("keydown",this.keydownHandler.bind(this))),u instanceof Function&&(this.onIntersection=u,this.observer=new IntersectionObserver(this.intersectionHandler.bind(this),{root:this.el,threshold:[1]}))}onSelection(r){}onIntersection(r){}keydownHandler(r){switch(r.key){case"Enter":r.preventDefault(),this.selectionHandler(r);break;case"Escape":r.preventDefault(),this.removeSelection();break}}selectionHandler(r){let i=this.getSelectionData();i.mouseX=r.clientX,i.mouseY=r.clientY,i.firstWord>0&&i.lastWord>0&&this.onSelection(i)}intersectionHandler(r){let i=0;this.marks.forEach(u=>{(i==0||u.firstWord<i)&&this.isMarkVisible(u.firstWord,u.lastWord)&&(i=u.firstWord)}),this.onIntersection(i)}removeSelection(){window.getSelection().collapseToEnd()}getSelectionData(){const r=window.getSelection(),i=r.getRangeAt(0);if(!r||!i)return{};let u=i.commonAncestorContainer;u.nodeType==3&&(u=u.parentNode.parentNode);let g=0,h=0,x=0;return u.querySelectorAll("w-p").forEach(w=>{if(r.containsNode(w,!0)){let R=parseInt(w.getAttribute("w")),D=parseInt(w.getAttribute("p"));(g==0||R<g)&&(g=R,x=D),R>h&&(h=R)}}),{firstWord:g,lastWord:h,parentNumber:x,isCollapsed:r.isCollapsed}}addLabel(r,i,u){let g=this.el.querySelector('w-p[w="'+u+'"]');g&&(g.setAttribute("label",i),g.classList.add(r))}showMark(r,i,u){this.marks.push({cssClass:r,firstWord:i,lastWord:u}),this.el.querySelectorAll("w-p").forEach(g=>{let h=parseInt(g.getAttribute("w"));h>=i&&h<=u&&g.classList.add(r),this.observer&&(h==i||h==u)&&this.observer.observe(g)})}hideMark(r,i,u){this.marks=this.marks.filter(g=>g.cssClass!=r||g.firstWord!=i||g.lastWord!=u),this.el.querySelectorAll("w-p."+r).forEach(g=>{let h=parseInt(g.getAttribute("w"));h>=i&&h<=u&&g.classList.remove(r),this.observer&&(h==i||h==u)&&this.observer.unobserve(g)})}hideAllMarksOfClass(r){this.marks=this.marks.filter(i=>i.cssClass!=r),this.el.querySelectorAll("w-p."+r).forEach(i=>{i.classList.remove(r)})}hideAllMarksAndLabels(){this.marks=[],this.el.querySelectorAll("w-p[class]").forEach(r=>{r.classList.value=""}),this.observer&&this.observer.disconnect()}hideSelection(){}scrollToMark(r,i){if(!this.isMarkVisible(r,i,!0)){const u=this.el.querySelector('w-p[w="'+r+'"]');u&&u.scrollIntoView()}}setCaretToMark(r){const i=this.el.querySelector('w-p[w="'+r+'"]').childNodes[0];if(i){let u=document.createRange(),g=window.getSelection();u.setStart(i,0),u.collapse(!0),g.removeAllRanges(),g.addRange(u)}}isMarkVisible(r,i,u){const g=this.el.querySelector('w-p[w="'+r+'"]'),h=this.el.querySelector('w-p[w="'+i+'"]');if(!g||!h)return!1;const x=this.el.getBoundingClientRect(),w=g.getBoundingClientRect(),R=h.getBoundingClientRect(),D=w.top>=x.top&&w.bottom<=x.bottom,O=R.top>=x.top&&R.bottom<=x.bottom;return u?D&&O:D||O}}const ywe={id:"app-essay-wrapper"},xwe={class:"appTextButtons"},wwe=["innerHTML"],Cwe={__name:"Essay",setup(t){const r=Oe.essay(),i=Oe.comments(),u=Oe.summaries(),g=Oe.preferences(),h=Oe.settings(),x=Oe.layout();let w;jd(()=>{ge(),w=new vwe(document.getElementById("app-essay"),Z,Q),i.activeComments.forEach(de=>K(de))});function R(de){return de.preventDefault(),!1}async function D(){x.focusTarget=="essay"&&(await ys(),document.getElementById("app-essay").focus())}D(),Fn(()=>x.focusChange,D);function O(){w.hideAllMarksAndLabels(),i.activeComments.forEach(de=>K(de))}Fn(()=>i.markerChange,O),Fn(()=>i.filterChange,O);function M(){w.hideAllMarksOfClass("selected");let de=i.getComment(i.selectedKey);de&&(w.showMark("selected",de.start_position,de.end_position),w.addLabel("labelled",de.label,de.start_position),w.scrollToMark(de.start_position,de.end_position))}Fn(()=>i.selectionChange,M);function H(){let de=i.getComment(i.selectedKey);w.setCaretToMark(de.start_position)}Fn(()=>i.caretRequest,H);function K(de){de.prefix&&(w.hideMark(de.prefix+"-excellent",de.start_position,de.end_position),w.hideMark(de.prefix+"-cardinal",de.start_position,de.end_position),w.hideMark(de.prefix,de.start_position,de.end_position),de.rating_excellent?w.showMark(de.prefix+"-excellent",de.start_position,de.end_position):de.rating_cardinal?w.showMark(de.prefix+"-cardinal",de.start_position,de.end_position):w.showMark(de.prefix,de.start_position,de.end_position)),w.addLabel("labelled",de.label,de.start_position)}async function Z(de){if(!Oe.settings().Task.enable_comments)return;let q=i.getActiveCommentsInRange(de.firstWord,de.lastWord);if(q.length){let he=q.shift();de.isCollapsed?(w.removeSelection(),i.selectComment(he.key)):(w.removeSelection(),u.isOwnDisabled||i.createComment(de.firstWord,de.lastWord,de.parentNumber))}else de.isCollapsed||(w.removeSelection(),u.isOwnDisabled||i.createComment(de.firstWord,de.lastWord,de.parentNumber))}function Q(de){let q=i.getActiveCommentsByStartPosition(de);if(q.length){let he=q.shift();i.setFirstVisibleComment(he.key)}}function re(){g.zoomEssayTextIn(),ge()}function U(){g.zoomEssayTextOut(),ge()}function ge(){document.getElementById("app-essay").style.fontSize=g.essay_text_zoom+"rem"}return(de,q)=>(Xt(),mo("div",ywe,[ie("div",xwe,[ce(R1,{density:"comfortable",variant:"outlined",divided:""},{default:xt(()=>[ce(Io,{title:de.$t("essayZoomOut"),size:"small",icon:"mdi-magnify-minus-outline",onClick:q[0]||(q[0]=he=>U())},null,8,["title"]),ce(Io,{title:de.$t("essayZoomIn"),size:"small",icon:"mdi-magnify-plus-outline",onClick:q[1]||(q[1]=he=>re())},null,8,["title"])]),_:1})]),ie("div",{contenteditable:"true",id:"app-essay",onBeforeinput:R,class:xo("xlas-content "+ne(h).contentClass),innerHTML:ne(r).text},null,42,wwe)]))}},kE=()=>{},mX=(t,r)=>Math.abs(t-r),Swe=(t,r)=>({x:Math.min(t.x,r.x),y:Math.min(t.y,r.y),width:mX(t.x,r.x),height:mX(t.y,r.y)}),Xte=t=>t,tI=t=>typeof t=="object",pE=t=>typeof t=="string",LE=t=>typeof t=="number",EI=t=>typeof t>"u",_we=t=>[!0,!1].includes(t),Jte=(t,r)=>Object.fromEntries(Object.entries(r).map(([i,u])=>[i,t(u,i)])),kwe=(t,r)=>Object.fromEntries(Object.entries(r).filter(([i,u])=>t(u,i))),NR=(t,r)=>kwe((i,u)=>t.includes(u),r),Ewe=(t,r)=>tI(r)&&Object.values(Jte((i,u)=>i(r[u]),t)).filter(i=>!i).length===0,Twe=(...t)=>r=>t.reduce((i,u)=>u(i),r),nI=(...t)=>Twe(...t.reverse()),oI=Symbol("none"),Awe=t=>r=>r===oI?oI:t(r),Owe=t=>r=>r===oI?t():r,Rwe=(t,r)=>nI(...Object.entries(t).map(([i,u])=>Owe(()=>u(r[i])?oI:{key:i,type:u.name,offendingValue:r[i]})))(tI(r)?oI:{type:tI.name,offendingValue:r}),gX=(t,r)=>{const i=u=>u?`Key "${u}" of `:"";Awe(({type:u,key:g=!1})=>GE(`Value does not match required form: ${i(g)}${JSON.stringify(r)} does not satisfy ${u}.`))(Rwe(t,r))},OF=(t,r)=>(...i)=>{if(t(...i))return r(...i)},fb=(t,r)=>({x:t,y:r}),J6=t=>Ewe({x:LE,y:LE},t),m8=(t,r)=>({x:t.x+r.x,y:t.y+r.y}),sI=(t,r)=>({x:r.x*t,y:r.y*t}),JC=(t,r)=>m8(t,sI(-1,r)),Iwe=t=>({width:t.x,height:t.y}),Dwe=t=>fb(t.width,t.height),Pwe=(t,r)=>({width:t,height:r}),Nwe=(t,r)=>fb(t.x*Math.cos(r)-t.y*Math.sin(r),t.x*Math.sin(r)+t.y*Math.cos(r)),Mwe=({x:t,y:r})=>`${t},${r}`,Lwe=(t,r)=>t.map(i=>m8(i,r)),Bwe=t=>t.map(Mwe).join(" "),Qte=(t,r)=>Bwe(Lwe(t,r)),Fwe=(t,r)=>{const[i,u]=t.width/t.height<r.width/r.height?["height","width"]:["width","height"];return{[i]:r[i],[u]:r[i]*(t[u]/t[i])}},GE=t=>{throw new Error(t)},rI=(t,r)=>t||GE(r),hX=t=>()=>t,ene=(t,r)=>!EI(r.find(t)),$we=(t,r)=>!ene(i=>!t(i),r),tne=t=>t instanceof Array,nne=t=>{const r=nne.name+"("+t.name+")";return{[r]:u=>tne(u)&&$we(t,u)}[r]},Vwe=(t,r)=>Object.entries(t).reduce((i,[u,g])=>g===r[u]?i:[...i,{left:g,right:r[u],name:u}],[]),one=Reflect.set,zwe=Reflect.deleteProperty,kK=(t,...r)=>t.bind(null,...r),Hwe=t=>t.apply.bind(t,null),EK=t=>t.map(r=>r()),Uwe=(t,r)=>Object.entries(r).forEach(Hwe(t)),Wwe=(t,r,i)=>Uwe(t[r].bind(t),i),Kwe=t=>r=>(t(r),r),dE=(t,r=kE)=>(i=void 0)=>{if(EI(i))return t;r(i),t=i},xU=JSON.stringify,Fv=t=>{let r=(...g)=>GE(`No matching function found for arguments: ${xU(g)}.`);const i={},u=(...g)=>(i[xU(t(...g))]||r)(...g);return u.define=(g,h=void 0)=>{EI(h)?r=g:i[xU(g)]=h},u},Wr=(t,...r)=>t.define(...r),sne=(t,r,i)=>(t.addEventListener(r,i),()=>t.removeEventListener(r,i)),iI=Fv((t,r)=>r);Wr(iI,sne);const TK=(t,r)=>Wr(iI,t,(i,u,g)=>{const h=[t,r].map(x=>sne(i,x,g));return()=>{EK(h)}});TK("mousedown","touchstart");TK("mousemove","touchmove");TK("mouseup","touchend");const YC=Fv(t=>t.constructor.name);Wr(YC,"MouseEvent",t=>fb(t.clientX,t.clientY));Wr(YC,"TouchEvent",t=>fb(t.touches[0].clientX,t.touches[0].clientY));const jwe=t=>t.reduce((r,i)=>tI(i.right)&&!tne(i.right)?[...r,...rne(i.left,i.right).map(({path:u,...g})=>({path:[i.name,...u],...g}))]:[...r,{path:[i.name],value:i.right}],[]),rne=(t,r)=>jwe(Vwe(t,r)),Zwe=(t,r)=>!EI(r.find(i=>ine(i.path,t))),ine=(t,r)=>JSON.stringify(t)===JSON.stringify(r),ane=(t,r)=>t.length>=r.length&&ine(t.slice(0,r.length),r),AK=(t,r)=>t.length===0?r:tI(r)?AK(t.slice(1),r[t[0]]):GE("Path not found."),$d=(t,r)=>({requires:i=>ane(i,t),then:nI(r,kK(AK,t))}),$x=(t,r)=>({requires:hX(!1),then:nI(r,hX(t))}),OK=(t,r)=>({requires:i=>ene(kK(ane,i),Object.values(t)),then:i=>r(Jte(u=>AK(u,i),t))}),Jc=t=>r=>i=>i.setAttribute(t,(LE(r),r)),lne=()=>t=>r=>one(r,"textContent",t),aI=t=>r=>i=>i.style.setProperty(t,r),Gwe=t=>t.reduce((r,i)=>r.includes(i)?r:[...r,i],[]),RK=(t,r,i)=>r.forEach(({then:u})=>u(t)(i)),pX=(t,r,i,u)=>{const g=({path:x})=>r.filter(w=>w.requires(x)),h=Gwe(i.reduce((x,w)=>x.concat(g(w)),[]));RK(t,h,u)},Bg=(t,r)=>t.append(r),BE=(t,r)=>Wwe(t,"setAttribute",r),qwe=({start:t,move:r,stop:i=kE})=>{let u=null;return{start:g=>{g.preventDefault(),u=t(YC(g))},move:g=>{g.preventDefault(),u=r(YC(g),u)},stop:g=>{i(u)}}},Ywe=(t,r)=>Array.from(t.children).forEach(kK(Bg,r)),cne=t=>(r,i={},...u)=>{const g=t(r);return u.forEach(h=>Bg(g,h)),BE(g,i),g},Xwe=t=>document.createElementNS("http://www.w3.org/2000/svg",t),_l=cne(Xwe),Jwe=cne(t=>document.createElement(t)),Qwe=()=>{let t=null;return r=>{if(t!==null)return new Promise(kE);const i=()=>t===i?(t=null,!0):!1;return t=i,new Promise(u=>r(()=>{i(),u()}))}},e2e=t=>{const r=Qwe();return{current:()=>t,acquire:(i,u)=>r(g=>{const h=t;t=i,u(()=>{g()&&(t=h)})})}},t2e=t=>new Promise((r,i)=>{const u=document.createElement("img");u.onload=()=>r(Pwe(u.width,u.height)),u.onerror=i,u.src=t}),une=t=>t.type==="touchend"&&t.touches.length===0,lI=Fv((t,r=void 0)=>EI(r)?t.constructor.name:r);Wr(lI,"TouchEvent",t=>t.touches.length===1||une(t));Wr(lI,"MouseEvent",t=>t.button===0);Wr(lI,"PointerEvent",t=>lI(t,"MouseEvent"));const cI=Fv(t=>t.constructor.name);Wr(cI,"TouchEvent",t=>t.touches.length===2||une(t));Wr(cI,"MouseEvent",t=>t.button===1);Wr(cI,"PointerEvent",t=>cI(t,"MouseEvent"));const Lg=Fv((t,r)=>r);Wr(Lg,iI);["click","mousedown","mouseup"].forEach(t=>{Wr(Lg,t,(r,i,u)=>iI(r,i,OF(lI,u))),Wr(Lg,[t,"primary"],(r,[i,u],g)=>Lg(r,i,g)),Wr(Lg,[t,"secondary"],(r,[i,u],g)=>iI(r,i,OF(cI,g)))});const n2e=(t,{start:r=kE,move:i=kE,stop:u=kE},g,h)=>{const x=D=>i(D),R=[Lg(window,["mouseup",g],D=>{EK(R),u(D)}),Lg(t,"mousemove",x)];r(h)},gr={CIRCLE:"circle",RECTANGLE:"rectangle",POLYGON:"polygon",LINE:"line",WAVE:"wave"},o2e=t=>Object.values(gr).includes(t),s2e={[gr.CIRCLE]:{symbol:pE,symbolColor:pE},[gr.RECTANGLE]:{width:LE,height:LE},[gr.POLYGON]:{polygon:nne(J6)},[gr.LINE]:{end:J6},[gr.WAVE]:{end:J6}},dne={key:pE,label:pE,color:pE,selectedColor:pE,shape:o2e,pos:J6,locked:_we},r2e=t=>({...NR(Object.keys(dne),t),pos:NR(["x","y"],t.pos)}),i2e={[gr.CIRCLE]:t=>NR(["symbol","symbolColor"],t),[gr.RECTANGLE]:t=>NR(["width","height"],t),[gr.POLYGON]:({polygon:t})=>({polygon:t.map(r=>NR(["x","y"],r))}),[gr.LINE]:({end:{x:t,y:r}})=>({end:{x:t,y:r}}),[gr.WAVE]:({end:{x:t,y:r}})=>({end:{x:t,y:r}})},IK=Fv(t=>t.shape);Wr(IK,Xte);Wr(IK,gr.CIRCLE,({symbol:t="",symbolColor:r="black",...i})=>({...i,symbol:t,symbolColor:r}));const bE=t=>(t={...t,key:t.key||"mark-"+Math.random().toString(),locked:t.locked||!1},gX(dne,t),t=IK(t),gX(s2e[t.shape],t),{...r2e(t),...i2e[t.shape](t)}),Q6={lambda:60,amplitude:20,lineWidth:10},wU={startDot:{radius:20,borderWidth:10},lineWidth:10},a2e={width:15},D1=Symbol("silent"),l2e=({polygon:t,pos:r})=>Qte(t,r),c2e=t=>r=>r.setAttribute("points",l2e(t)),g8=t=>[$d(["color"],aI("--default-color")),$d(["selectedColor"],aI("--selected-color")),$d(["locked"],r=>Jc("class")(["shape"].concat(r?["locked"]:[],t).join(" ")))],fne=(t,r)=>{const i=g=>Math.sqrt(Math.pow(g.x,2)+Math.pow(g.y,2)),u=({start:g,end:h})=>{const x=Math.atan(h.y/h.x),w=h.x<0?x-Math.PI:x,R=Nwe(JC(g,fb(0,t/2)),-w),D=`rotateZ(${w}rad)`,O=`translate(${R.x}px, ${R.y}px)`;return`${D} ${O}`};return[...g8(r),OK({start:["pos"],end:["end"]},nI(aI("transform"),u)),$d(["end"],nI(Jc("width"),i)),$x(`0 ${t/2}px`,aI("transform-origin")),$x(t,Jc("height")),$x(0,Jc("x")),$x(0,Jc("y"))]},Lv=Fv(t=>t.shape||t);Wr(Lv,gr.RECTANGLE,()=>[...g8([]),$d(["pos","x"],Jc("x")),$d(["pos","y"],Jc("y")),$d(["width"],Jc("width")),$d(["height"],Jc("height"))]);Wr(Lv,gr.CIRCLE,()=>[...g8([]),$d(["pos","x"],qh(0,Jc("cx"))),$d(["pos","y"],qh(0,Jc("cy"))),$d(["pos","x"],qh(1,Jc("x"))),$d(["pos","y"],qh(1,Jc("y"))),$d(["symbol"],qh(1,lne())),$d(["symbolColor"],qh(1,aI("fill"))),$x("symbol",qh(1,Jc("class"))),$x(70,qh(0,Jc("r")))]);Wr(Lv,gr.POLYGON,()=>[...g8([]),OK({pos:["pos"],polygon:["polygon"]},c2e)]);Wr(Lv,gr.LINE,()=>fne(a2e.width,[]));Wr(Lv,gr.WAVE,()=>fne(Q6.amplitude*2,["wave"]));const qh=(t,r)=>i=>u=>r(i)(u.children[t]);Wr(Lv,"label",()=>[$d(["pos","x"],qh(0,Jc("x"))),$d(["pos","x"],qh(1,Jc("x"))),$x("label",qh(0,Jc("class"))),$x("label",qh(1,Jc("class"))),OK({shape:["shape"],label:["label"],y:["pos","y"]},({shape:t,label:r,y:i})=>u=>{t==gr.CIRCLE&&(i=i-70),BE(u.children[1],{y:i}),lne()(r)(u.children[1]),requestAnimationFrame(()=>{const{width:g,height:h}=u.children[1].getBBox();BE(u.children[0],{y:i-h+h*.15,width:g,height:h})})})]);const QC=Fv(Xte);Wr(QC,gr.RECTANGLE,()=>_l("rect"));Wr(QC,gr.CIRCLE,()=>_l("g",{},_l("circle"),_l("text")));Wr(QC,gr.POLYGON,()=>_l("polygon"));Wr(QC,gr.LINE,()=>_l("rect"));Wr(QC,gr.WAVE,()=>_l("rect"));Wr(QC,t=>GE(`Invalid shape name: ${t}.`));const mne=t=>{const r=QC(t.shape);return RK(t,Lv(t),r),r},u2e=t=>{const r=_l("g",{},_l("rect"),_l("text"));return RK(t,Lv("label"),r),r},d2e=(t,r,i)=>{pX(t,Lv(t),r,i.nodes.shape),pX(t,Lv("label"),r,i.nodes.label)},f2e=t=>({mark:t,nodes:{root:_l("g"),label:u2e(t),shape:mne(t)}}),m2e={[gr.RECTANGLE]:{width:10,height:20},[gr.CIRCLE]:{},[gr.POLYGON]:{polygon:[fb(0,0)]},[gr.LINE]:{end:fb(0,0)},[gr.WAVE]:{end:fb(0,0)}},g2e=(t,r,i,u)=>bE({...m2e[r],shape:r,pos:t,color:i,selectedColor:u,label:""}),h8=(t,r,i,u="primary")=>n2e(t.nodes.svg,qwe(i),u,r),h2e=(t,r)=>t2e(r).then(i=>{BE(t.nodes.backgroundImage,{href:r,x:0,y:0,...i}),t.canvas.size(i),Sne(t)}),p2e=()=>Kwe(t=>one(t,"innerHTML",[" {position: relative; width: 100%; height: 100%; overflow: auto;}",".moving {overflow: hidden;}"," svg .polygon-start:hover {stroke: blue;}"," svg {position: absolute;}"," svg * {user-select: none;}"," svg .shape {fill: var(--default-color);}"," svg .shape.wave {mask: url(#wave-mask);}"," svg rect.label {fill: lightblue;}"," svg .foreground .shape {fill: var(--selected-color);}"," svg .shape text.symbol {text-anchor: middle; dominant-baseline: central; fill: black;}"].map(r=>".long-essay-image-marker"+r).join(" ")))(document.createElement("style")),b2e=()=>({background:_l("g",{class:"background"}),normal:_l("g"),foreground:_l("g",{class:"foreground"})}),v2e=t=>rI(Object.values(gr).includes(t),`Invalid shape name: ${t}.`),y2e=t=>{rI(LE(t),`Scale must be a number, given: ${JSON.stringify(t)}.`),rI(t>0,`Scale must be > 0 given: ${t}.`)},x2e=(t,r,i)=>{const u=b2e(),g=_l("svg",{width:"100%",height:"100%"},...Object.values(u)),h=Jwe("div",{class:"long-essay-image-marker"},g),x=_l("image");return Bg(t,h),Bg(t,p2e()),Bg(g,_l("defs",{},k2e(),E2e())),{nodes:{app:h,svg:g,layers:u,backgroundImage:x},creation:{color:dE("#0000AAAA"),selectedColor:dE("#FF0000AA"),shape:dE(gr.CIRCLE,v2e)},status:e2e({name:"idle"}),canvas:{scale:dE(1,y2e),size:dE(null)},mode:dE("draw-shape",w=>rI(["draw-shape","scroll"].includes(w),`Invalid marker mode: ${w}`)),groups:{},emit:{createMark:r,selectMark:i}}},TI=(t,r,i)=>t.status.acquire(r,i),DK=(t,r,i,u)=>TI(t,{name:r,group:i},u),gne=(t,r,i)=>{Lg(i,"mousedown",u=>(r.mark.locked?Promise.resolve():bne(t,r,u)).then(()=>wne(t,[r])))},w2e=(t,r)=>{hne(t,r),C2e(t,r),Bg(t.nodes.layers.normal,r.nodes.root)},C2e=(t,r)=>{Bg(r.nodes.root,r.nodes.label),gne(t,r,r.nodes.label)},hne=(t,r)=>{Bg(r.nodes.root,r.nodes.shape),gne(t,r,r.nodes.shape)},p8=t=>(r,i)=>TI(r,{name:"drawNew"},u=>{const g=g2e(F1(r,YC(i)),R2e(r),vne(r),yne(r));r.emit.selectMark(null,i),u(),NK(r,g,D1),t(r,r.groups[g.key],i).then(()=>{r.emit.createMark(r.groups[g.key].mark,i),RF(r,[g.key],i)})}),PK=Fv(t=>t.mode()),eS=Fv(PK),pne=(t,r,i)=>DK(t,"editGroup",r,u=>h8(t,i,{start:g=>(b8(t,[r],D1),g=F1(t,g),{mark:r.mark,start:{mouse:g,pos:r.mark.pos}}),move:(g,{mark:h,start:x})=>{const w=JC(F1(t,g),x.mouse),R={...h,end:w};return v8(t,R),{start:x,mark:R}},stop:u}));Wr(eS,["draw-shape",gr.LINE],p8(pne));Wr(eS,["draw-shape",gr.WAVE],p8(pne));const S2e=(t,r,i)=>DK(t,"editGroup",r,u=>h8(t,i,{start:g=>(b8(t,[r],D1),g=F1(t,g),{mark:r.mark,start:{mouse:g,pos:r.mark.pos}}),move:(g,{mark:h,start:x})=>{const w=JC(F1(t,g),x.mouse),{width:R,height:D,...O}=Swe(x.pos,m8(x.pos,w)),M={...h,pos:O,width:R,height:D};return v8(t,M),{start:x,mark:M}},stop:u}));Wr(eS,["draw-shape",gr.RECTANGLE],p8(S2e));const bne=(t,r,i)=>DK(t,"moveGroup",r,u=>h8(t,i,{start:g=>(g=F1(t,g),b8(t,[r],D1),{mark:r.mark,start:{pos:r.mark.pos,mouse:g}}),move:(g,{mark:h,start:x})=>{const w=JC(F1(t,g),x.mouse),R={...h,pos:m8(x.pos,w)};return v8(t,R),{start:x,mark:R}},stop:u}));Wr(eS,["draw-shape",gr.CIRCLE],p8(bne));const _2e=(t,r,i)=>{const u=_l("circle",{cx:r.x,cy:r.y,r:wU.startDot.radius+"px","stroke-width":wU.startDot.borderWidth+"px",fill:"lightblue",class:"polygon-start"}),g=_l("polyline",{points:"",stroke:"blue",class:"polygon-next-point","stroke-width":wU.lineWidth+"px",fill:"none"}),h=_l("g",{class:"new-polygon"});return Bg(h,g),Bg(h,u),Bg(t,h),Lg(u,"click",x=>{x.stopPropagation(),h.remove(),i()}),x=>BE(g,{points:Qte(x,r)})},k2e=()=>{const t=fb(Q6.lambda,Q6.amplitude*2),r=sI(.5,t),i=sI(.5,r);return _l("pattern",{x:"0",y:"0",id:"wave-pattern",width:`${t.x}px`,height:`${t.y}px`,patternUnits:"userSpaceOnUse"},_l("path",{d:`M -${r.x} ${r.y} Q -${i.x} -${i.y}, 0 ${r.y} t ${r.x} 0 t ${r.x} 0`,fill:"none",stroke:"white","stroke-width":Q6.lineWidth+"px"}))},E2e=()=>_l("mask",{id:"wave-mask",x:0,y:0,width:"100%",height:"100%"},_l("rect",{x:0,y:0,width:"100%",height:"100%",fill:"url(#wave-pattern)"})),T2e=(t,r,i)=>bE({label:"",polygon:r,pos:i,color:vne(t),selectedColor:yne(t),shape:gr.POLYGON}),A2e=(t,r,i)=>u=>{u.preventDefault(),i(JC(F1(t,YC(u)),r))};Wr(eS,["draw-shape",gr.POLYGON],(t,r)=>TI(t,{name:"newPolygon"},i=>{r.preventDefault(),t.emit.selectMark(null,r);const u=F1(t,YC(r)),g=_2e(t.nodes.layers.foreground,u,()=>D()),h=[fb(0,0)],x=O=>A2e(t,u,O);let w=fb(0,0);const R=[i,Lg(t.nodes.svg,"mousemove",x(O=>{g([...h,O]),w=O})),Lg(window,"mouseup",O=>h.push(w))],D=()=>{EK(R);const O=T2e(t,h,u);NK(t,O,r),RF(t,[O.key],r)}}));const O2e=t=>{const r=i=>[t.nodes.svg,t.nodes.backgroundImage].includes(i.target);Lg(t.nodes.svg,"mousedown",OF(r,i=>eS(t,i))),Lg(t.nodes.svg,["mousedown","secondary"],OF(r,i=>xne(t,i,"secondary")))},vne=t=>t.creation.color(),yne=t=>t.creation.selectedColor(),R2e=t=>t.creation.shape();Wr(PK,"draw-shape",t=>[t.mode(),t.creation.shape()]);Wr(PK,t=>t.mode());const xne=(t,r,i="primary")=>TI(t,{name:"moving-view"},u=>{t.nodes.app.classList.add("moving"),h8(t,r,{start:g=>g,move:(g,h)=>{const x=JC(h,g);return t.nodes.app.scrollBy(x.x,x.y),g},stop:()=>{t.nodes.app.classList.remove("moving"),u()}},i)});Wr(eS,"scroll",xne);const b8=(t,r,i)=>{[].slice.call(t.nodes.layers.foreground.children).forEach(u=>u.classList.remove("active")),Ywe(t.nodes.layers.foreground,t.nodes.layers.normal),r.forEach(u=>{const g=u.nodes.root;g.classList.add("active"),Bg(t.nodes.layers.foreground,g)}),i!==D1&&r.forEach(u=>t.emit.selectMark(u.mark,i))},wne=(t,r,i)=>TI(t,{name:"selecting-multiple"},u=>{b8(t,r,i),u()}),Cne=(t,r)=>t.groups[r]||GE(`Mark with key ${r} does not exist.`),RF=(t,r,i)=>wne(t,r.map(u=>Cne(t,u)),i),NK=(t,r,i)=>{rI(!t.groups[r.key],`Duplicated key: ${r.key}`);const u=f2e(r);w2e(t,u),t.groups[r.key]=u,i!==D1&&t.emit.createMark(r,i)},v8=(t,r)=>{const i=Cne(t,r.key),u=rne(i.mark,r);i.mark=r,Zwe(["shape"],u)?(i.nodes.shape.remove(),i.nodes.shape=mne(i.mark),hne(t,i)):d2e(i.mark,u,i)},Sne=t=>BE(t.nodes.svg,{...Iwe(sI(t.canvas.scale(),Dwe(t.canvas.size()))),viewBox:[0,0,t.canvas.size().width,t.canvas.size().height].join(" ")}),F1=(t,r)=>sI(1/t.canvas.scale(),JC(r,t.nodes.svg.getBoundingClientRect())),I2e=(t,r,i)=>{const u=x2e(t,(w,R)=>r(bE(w),R),(w,R)=>i(w?bE(w):null,R));O2e(u);const g=w=>NK(u,bE(w),D1),h=w=>{u.groups[w].nodes.root.remove(),zwe(u.groups,w)},x=w=>{u.canvas.scale(w),Sne(u)};return{showPage:(w,R)=>{h2e(u,w),Bg(u.nodes.layers.background,u.nodes.backgroundImage),u.canvas.scale(1),Object.values(u.groups).forEach(D=>h(D.mark.key)),R.forEach(g)},addMark:g,removeMark:h,selectMark:w=>RF(u,[w],D1),selectMarks:w=>RF(u,w,D1),updateMark:w=>v8(u,bE(w)),setDefaultColor:w=>u.creation.color(w),setDefaultSelectedColor:w=>u.creation.selectedColor(w),setDefaultShape:w=>u.creation.shape(w),setZoomLevel:x,fitToPage:()=>{if(u.canvas.size()){const w=Fwe(u.canvas.size(),u.nodes.app.getBoundingClientRect());x(w.width/u.canvas.size().width)}},drawMode:()=>u.mode("draw-shape"),scrollMode:()=>u.mode("scroll")}},D2e={id:"app-essay-image-wrapper"},P2e={class:"appImageButtons"},N2e={class:"appImageBottomNav"},M2e={__name:"EssayImage",setup(t){Oe.api();const r=Oe.comments(),i=Oe.summaries(),u=Oe.pages();Oe.layout();const g=Oe.preferences(),h=Ln(),x=Ln("scroll"),w=Ln(!1),R=Ln(0),D=Ln(!0);let O,M="",H=[];jd(()=>{O=I2e(h.value,K,Z),O.setDefaultColor("#3365ffaa"),O.setDefaultSelectedColor("#3365ffaa"),ct(),Q(u.minPage)});async function K(Te){if(Oe.settings().Task.enable_comments&&Te&&!i.isOwnDisabled){const I=new Rg(Te);switch(x.value){case"check":I.symbol=Rg.SYMBOL_CHECK;break;case"cross":I.symbol=Rg.SYMBOL_CROSS;break;case"question":I.symbol=Rg.SYMBOL_QUESTION;break}if(H.push(Te.key),!r.getCommentByMarkKey(Te.key)){const dt=r.selectedComment;if(dt&&dt.parent_number==u.selectedPageNo)dt.addMarkData(I),await r.updateComment(dt,!0);else{const gt=new UC({parent_number:u.selectedPageNo,marks:[I]});await r.addComment(gt)}}}}function Z(Te,I){if(Oe.settings().Task.enable_comments)if(Te){let dt=r.getCommentByMarkKey(Te.key);if(dt){r.selectComment(dt.key);const gt=dt.getData();if(dt.correction_key==Oe.corrections().ownKey&&!i.isOwnDisabled){Te.symbol=Te.symbol==""?null:Te.symbol,dt.updateMarkData(Te);const Ft=dt.getData();JSON.stringify(gt)!=JSON.stringify(Ft)&&r.updateComment(dt,!0)}else{const Ft=dt.getMarkByKey(Te.key);if(Ft){const en={...Ft.getData(),label:D.value?dt.label:"",color:dt.getMarkColor(Ft),selectedColor:dt.getMarkSelectedColor(Ft),locked:dt.correction_key!=Oe.corrections().ownKey||i.isOwnDisabled};O.updateMark(en)}}}}else{const dt=r.selectedComment;I&&I.shiftKey&&dt&&dt.parent_number==u.selectedPageNo||r.selectComment("")}}function Q(Te){if(u.selectByPageNo(Te)){const I=u.getPageByPageNo(Te);if(I){I.url?(O.showPage(I.url,[]),M=I.url):(O.showPage("",[]),M="");try{O.setZoomLevel(g.essay_page_zoom)}catch{}document.querySelector(".long-essay-image-marker").scrollTop=0,H=[],ge(),R.value=Te}}}function re(){const Te=u.selectedPage;Te&&Te.url!=M&&Q(Te.page_no)}Fn(()=>u.loadedImages,re);function U(){const Te=r.getComment(r.selectedKey);Te&&Te.parent_number!=u.selectedPageNo&&Q(Te.parent_number),ge()}Fn(()=>r.selectionChange,U);function ge(){let Te=[];for(const I of r.activeComments)if(I.parent_number==u.selectedPageNo){let dt=[];for(const gt of I.marks){const Ft={...gt.getData(),label:D.value?I.label:"",color:I.getMarkColor(gt),selectedColor:I.getMarkSelectedColor(gt),locked:I.correction_key!=Oe.corrections().ownKey||i.isOwnDisabled};H.includes(gt.key)?O.updateMark(Ft):O.addMark(Ft),Te.push(gt.key),dt.push(gt.key)}I.key==r.selectedKey&&O.selectMarks(dt)}for(const I of H)Te.includes(I)||O.removeMark(I);H=Te}Fn(()=>r.markerChange,ge),Fn(()=>r.filterChange,ge);function de(){let Te=r.getActiveCommentsByParentNumber(u.selectedPageNo);if(Te.length){let I=Te.shift();r.setFirstVisibleComment(I.key)}}Fn(()=>u.selectedKey,de);function q(){u.selectedPageNo>u.minPage&&Q(u.selectedPageNo-1)}function he(){u.selectedPageNo<u.maxPage&&Q(u.selectedPageNo+1)}function oe(Te){w.value=!1,Q(Te)}async function _e(){w.value&&(await ys(),await new Promise(I=>setTimeout(I,250)),document.getElementById("app-pages-menu-input").select())}function Ue(){g.zoomEssayPageIn(),O.setZoomLevel(g.essay_page_zoom)}function Qe(){g.zoomEssayPageOut(),O.setZoomLevel(g.essay_page_zoom)}function ct(){switch(i.isOwnDisabled&&(x.value="scroll"),x.value){case"scroll":O.scrollMode();break;case"rectangle":O.drawMode(),O.setDefaultShape(gr.RECTANGLE);break;case"line":O.drawMode(),O.setDefaultShape(gr.LINE);break;case"wave":O.drawMode(),O.setDefaultShape(gr.WAVE);break;case"polygon":O.drawMode(),O.setDefaultShape(gr.POLYGON);break;case"circle":case"check":case"cross":case"question":O.drawMode(),O.setDefaultShape(gr.CIRCLE);break}}function Ce(){D.value==1?D.value=0:D.value=1,ge()}return(Te,I)=>(Xt(),mo("div",D2e,[ie("div",P2e,[ce(R1,{density:"comfortable",variant:"outlined",divided:""},{default:xt(()=>[ce(Io,{size:"small",title:Te.$t("essayImageZoomOut"),icon:"mdi-magnify-minus-outline",onClick:I[0]||(I[0]=dt=>Qe())},null,8,["title"]),ce(Io,{size:"small",title:Te.$t("essayImageZoomIn"),icon:"mdi-magnify-plus-outline",onClick:I[1]||(I[1]=dt=>Ue())},null,8,["title"])]),_:1}),I[13]||(I[13]=Ts("  ")),ne(Oe).settings().Task.enable_comments?(Xt(),Yo(n1e,{key:0,density:"comfortable",variant:"outlined",divided:"",modelValue:x.value,"onUpdate:modelValue":I[2]||(I[2]=dt=>x.value=dt),onClick:I[3]||(I[3]=dt=>ct())},{default:xt(()=>[ce(Io,{size:"small",icon:"mdi-cursor-move",value:"scroll"}),ce(Io,{disabled:ne(i).isOwnDisabled,size:"small",icon:"mdi-minus",value:"line"},null,8,["disabled"]),ce(Io,{disabled:ne(i).isOwnDisabled,size:"small",icon:"mdi-wave",value:"wave"},null,8,["disabled"]),ce(Io,{disabled:ne(i).isOwnDisabled,size:"small",icon:"mdi-check",value:"check"},null,8,["disabled"]),ce(Io,{disabled:ne(i).isOwnDisabled,size:"small",icon:"mdi-help",value:"question"},null,8,["disabled"])]),_:1},8,["modelValue"])):Jn("",!0),I[14]||(I[14]=Ts("  ")),ne(Oe).settings().Task.enable_comments?(Xt(),Yo(R1,{key:1,density:"comfortable",variant:"outlined",divided:""},{default:xt(()=>[ce(Io,{size:"small",active:D.value,icon:"mdi-label-outline",onClick:I[4]||(I[4]=dt=>Ce())},null,8,["active"])]),_:1})):Jn("",!0),I[15]||(I[15]=Ts("  ")),ce(R1,{density:"comfortable",variant:"outlined",divided:""},{default:xt(()=>[ce(Io,{size:"small",icon:"mdi-menu-left",onClick:I[5]||(I[5]=dt=>q())}),ce(Io,{size:"small",id:"app-pages-menu-activator"},{default:xt(()=>[Ts(He(ne(u).selectedPageNo),1)]),_:1}),ce(Io,{size:"small",icon:"mdi-menu-right",onClick:I[6]||(I[6]=dt=>he())})]),_:1}),ce(kI,{activator:"#app-pages-menu-activator",modelValue:w.value,"onUpdate:modelValue":[I[9]||(I[9]=dt=>w.value=dt),I[10]||(I[10]=dt=>_e())],"close-on-content-click":!1},{default:xt(()=>[ce(_I,null,{default:xt(()=>[ce(ld,null,{default:xt(()=>[ce(eI,{id:"app-pages-menu-input",modelValue:R.value,"onUpdate:modelValue":I[7]||(I[7]=dt=>R.value=dt),density:"compact",variant:"solo",label:"Number","single-line":"","hide-details":"","prepend-inner-icon":"mdi-magnify",onChange:I[8]||(I[8]=dt=>oe(R.value))},null,8,["modelValue"])]),_:1}),(Xt(!0),mo(ms,null,M1(ne(u).currentPages,dt=>(Xt(),Yo(ld,{onClick:gt=>oe(dt.page_no),title:dt.page_no,key:dt.key},{default:xt(()=>[Zn(ce(wI,{src:dt.thumb_url,width:"100"},null,8,["src"]),[[Co,dt.thumb_url!==null]])]),_:2},1032,["onClick","title"]))),128))]),_:1})]),_:1},8,["modelValue"])]),ie("div",{class:"appImageMarker",ref_key:"markerNode",ref:h},null,512),ie("div",N2e,[ce(R1,{variant:"outlined",divided:""},{default:xt(()=>[ce(Io,{disabled:ne(u).selectedPageNo<=ne(u).minPage,size:"small",icon:"mdi-menu-left",onClick:I[11]||(I[11]=dt=>q())},null,8,["disabled"]),ce(Io,{disabled:ne(u).selectedPageNo>=ne(u).maxPage,size:"small",icon:"mdi-menu-right",onClick:I[12]||(I[12]=dt=>he())},null,8,["disabled"])]),_:1})])]))}},L2e=Ea(M2e,[["__scopeId","data-v-56113188"]]),B2e={class:"text-right"},F2e={class:"sr-only"},$2e={"aria-hidden":"true"},V2e={class:"text-right"},z2e={class:"sr-only"},H2e={"aria-hidden":"true"},U2e={class:"text-right"},W2e={class:"text-right"},K2e={class:"sr-only"},j2e={"aria-hidden":"true"},Z2e={class:"text-right"},G2e={class:"text-right"},q2e={class:"sr-only"},Y2e={"aria-hidden":"true"},X2e={class:"text-right"},J2e={class:"text-right"},Q2e={class:"generalCriterion"},eCe={class:"text-right"},tCe={__name:"SummaryCriteria",props:["correction_key"],setup(t){const r=Oe.api(),i=Oe.criteria(),u=Oe.comments(),g=Oe.points(),h=Oe.layout(),x=Oe.settings(),w=t;Fn(()=>w,O),Fn(()=>r.itemKey,O);const R=Ac({}),D=Ac({});async function O(){await ys(),i.getCorrectionCommentCriteria(w.correction_key).forEach(Z=>{D[Z.key]={key:Z.key,title:Z.title,max_points:Z.points,sum_points:0}}),i.getCorrectionGeneralCriteria(w.correction_key).forEach(Z=>{R[Z.key]={key:Z.key,title:Z.title,max_points:Z.points,sum_points:0}}),g.getObjectsForCorrection(w.correction_key).forEach(Z=>{D[Z.criterion_key]!==void 0&&(D[Z.criterion_key].sum_points+=Z.points),R[Z.criterion_key]!==void 0&&(R[Z.criterion_key].sum_points+=Z.points)})}i.getCorrectionHasCriteria(w.correction_key)&&O();async function M(Z,Q){u.setFilterByRating(w.correction_key,Z,Q),!w.correction_key==Oe.corrections().ownKey&&u.setShowOtherCorrections(!0),await ys(),h.showEssay(),h.showMarking()}async function H(){u.setFilterByPoints(w.correction_key),!w.correction_key==Oe.corrections().ownKey&&u.setShowOtherCorrections(!0),await ys(),h.showEssay(),h.showMarking()}async function K(Z){u.setFilterByCriterion(w.correction_key,Z),!w.correction_key==Oe.corrections().ownKey&&u.setShowOtherCorrections(!0),await ys(),h.showEssay(),h.showMarking()}return(Z,Q)=>(Xt(),mo("div",null,[ne(x).Task.enable_comment_ratings?(Xt(),Yo(ab,{key:0,class:"table",density:"compact"},{default:xt(()=>[ie("thead",null,[ie("tr",null,[ie("th",null,He(Z.$t("summaryCriteriaMarkings")),1),ie("th",B2e,He(Z.$t("summaryCriteriaNumber")),1)])]),ie("tbody",null,[ie("tr",null,[ie("td",null,[ce(Io,{density:"compact",size:"small",variant:"text","prepend-icon":"mdi-filter-outline",disabled:ne(u).getCountOfExcellent(w.correction_key)==0,onClick:Q[0]||(Q[0]=re=>M(!0,!1))},{default:xt(()=>[ie("span",F2e,He(ne(x).Task.positive_rating),1)]),_:1},8,["disabled"]),ie("span",$2e,He(ne(x).Task.positive_rating),1)]),ie("td",V2e,He(ne(u).getCountOfExcellent(w.correction_key)),1)]),ie("tr",null,[ie("td",null,[ce(Io,{density:"compact",size:"small",variant:"text","prepend-icon":"mdi-filter-outline",disabled:ne(u).getCountOfCardinal(w.correction_key)==0,onClick:Q[1]||(Q[1]=re=>M(!1,!0))},{default:xt(()=>[ie("span",z2e,He(ne(x).Task.negative_rating),1)]),_:1},8,["disabled"]),ie("span",H2e,He(ne(x).Task.negative_rating),1)]),ie("td",U2e,He(ne(u).getCountOfCardinal(w.correction_key)),1)])])]),_:1})):Jn("",!0),ne(x).Task.enable_partial_points&&!ne(i).getCorrectionHasCommentCriteria(w.correction_key)?(Xt(),Yo(ab,{key:1,class:"table",density:"compact"},{default:xt(()=>[ie("thead",null,[ie("tr",null,[ie("th",null,[ie("strong",null,He(Z.$t("summaryCriteriaRating")),1)]),ie("th",W2e,He(Z.$t("allPoints")),1)])]),ie("tbody",null,[ie("tr",null,[ie("td",null,[ce(Io,{density:"compact",size:"small",variant:"text","prepend-icon":"mdi-filter-outline",disabled:ne(g).getSumOfPointsForCorrection(w.correction_key,!0,!1)==0,onClick:Q[2]||(Q[2]=re=>H())},{default:xt(()=>[ie("span",K2e,He(Z.$t("summaryCriteriaPointsInComments")),1)]),_:1},8,["disabled"]),ie("span",j2e,He(Z.$t("summaryCriteriaPointsInComments")),1)]),ie("td",Z2e,He(ne(g).getSumOfPointsForCorrection(w.correction_key,!0,!1)),1)])])]),_:1})):Jn("",!0),ne(x).Task.enable_partial_points&&ne(i).getCorrectionHasCommentCriteria(w.correction_key)?(Xt(),Yo(ab,{key:2,class:"table",density:"compact"},{default:xt(()=>[ie("thead",null,[ie("tr",null,[ie("th",null,He(Z.$t("summaryCriteriaInComments")),1),ie("th",G2e,He(Z.$t("summaryCriteriaPointsOfMax")),1)])]),ie("tbody",null,[(Xt(!0),mo(ms,null,M1(D,re=>(Xt(),mo("tr",{key:re.key},[ie("td",null,[ce(Io,{density:"compact",size:"small",variant:"text","prepend-icon":"mdi-filter-outline",disabled:re.sum_points==0,onClick:U=>K(re.key)},{default:xt(()=>[ie("span",q2e,He(re.title),1)]),_:2},1032,["disabled","onClick"]),ie("span",Y2e,He(re.title),1)]),ie("td",X2e,He(re.sum_points)+" / "+He(re.max_points),1)]))),128))])]),_:1})):Jn("",!0),ne(x).Task.enable_partial_points&&ne(i).getCorrectionHasGeneralCriteria(w.correction_key)?(Xt(),Yo(ab,{key:3,class:"table",density:"compact"},{default:xt(()=>[ie("thead",null,[ie("tr",null,[ie("th",null,He(Z.$t("summaryCriteriaGeneralCriteria")),1),ie("th",J2e,He(Z.$t("summaryCriteriaPointsOfMax")),1)])]),ie("tbody",null,[(Xt(!0),mo(ms,null,M1(R,re=>(Xt(),mo("tr",{key:re.key},[ie("td",null,[ie("span",Q2e,He(re.title),1)]),ie("td",eCe,He(re.sum_points)+" / "+He(re.max_points),1)]))),128))])]),_:1})):Jn("",!0)]))}},nCe=Ea(tCe,[["__scopeId","data-v-331fdfef"]]),oCe=["innerHTML"],sCe={__name:"SummaryText",props:["correction_key"],setup(t){const r=Oe.summaries(),i=t;function u(){let g=r.getForCorrection(i.correction_key);if(g)return g.text}return(g,h)=>(Xt(),mo("div",{class:"app-summary-text-wrapper xlas-content headlines-three",innerHTML:u()},null,8,oCe))}},_ne=Ea(sCe,[["__scopeId","data-v-4c9adad8"]]),rCe={class:"app-summary-file-wrapper"},iCe=["src"],aCe={__name:"SummaryFile",props:["correction_key"],setup(t){const r=t;function i(){let u=Oe.summaries().getForCorrection(r.correction_key);if(u&&u.pdf)return Oe.api().getSummaryPdfUrl(u)}return(u,g)=>(Xt(),mo("div",rCe,[i()?(Xt(),mo("iframe",{key:0,scrolling:"no",class:"summary-pdf",type:"application/pdf",src:i()},null,8,iCe)):Jn("",!0)]))}},IF=Ea(aCe,[["__scopeId","data-v-10f24ac7"]]),lCe={id:"app-summary-points-wrapper"},cCe={__name:"SummaryPoints",props:["correction_key"],setup(t){Oe.settings();const r=Oe.levels(),i=Oe.summaries(),u=t,g=Ln(0),h=Ln(""),x=Ln("");function w(){const R=i.getForCorrection(u.correction_key);if(R){g.value=R.points;const D=r.getLevel(R.grade_key);D&&(h.value=D.title,x.value=D.statement)}}return Fn(()=>u.correction_key,w),w(),(R,D)=>(Xt(),mo("div",lCe,[ie("strong",null,He(R.$t("summaryPointsRating")),1),Ts(" "+He(g.value)+" "+He(R.$t("allPoints",g.value))+" ",1),ie("strong",null,He(R.$t("allGrade")),1),Ts(" "+He(h.value)+" ",1),ie("p",null,He(x.value),1)]))}},uCe=Ea(cCe,[["__scopeId","data-v-d3927868"]]),dCe={id:"app-summary-revision-wrapper"},fCe=["innerHTML"],mCe={class:"app-summary-points"},gCe={__name:"SummaryRevision",props:["correction_key"],setup(t){Oe.settings();const r=Oe.levels(),i=Oe.summaries(),u=t,g=Ln(""),h=Ln(0),x=Ln(""),w=Ln("");function R(){const D=i.getForCorrection(u.correction_key);if(D){g.value=D.revision_text,h.value=D.revision_points;const O=r.getLevel(D.grade_key);O&&(x.value=O.title,w.value=O.statement)}}return Fn(()=>u.correction_key,R),R(),(D,O)=>(Xt(),mo("div",dCe,[ie("div",{class:"app-summary-text-display xlas-content headlines-three",innerHTML:g.value},null,8,fCe),ie("div",mCe,[ie("p",null,[ie("strong",null,He(D.$t("summaryRevisionRating")),1),Ts(" "+He(h.value)+" "+He(D.$t("allPoints",h.value))+" ",1),ie("strong",null,He(D.$t("allGrade")),1),Ts(" "+He(x.value),1)]),ie("p",null,He(w.value),1)])]))}},hCe=Ea(gCe,[["__scopeId","data-v-51bc1322"]]),pCe={__name:"SumOfPoints",props:["correction_key"],setup(t){const r=Oe.settings(),i=Oe.points(),u=Oe.criteria(),g=t,{t:h}=ud.global,x=u.getCorrectionHasGeneralCriteria(g.correction_key),w=u.getCorrectionHasCommentCriteria(g.correction_key);function R(){const D=i.getSumOfPointsForCorrection(g.correction_key,!0),O=i.getSumOfPointsForCorrection(g.correction_key,!1);return O+D==0?"":x?w?h("sumOfPointsNCommentCriteriaMGeneralCriteria",[D,O]):h("sumOfPointsNCommentsMGeneralCriteria",[D,O]):h(w?"sumOfPointsToCriteriaInComments":"sumOfPointsToComments")}return(D,O)=>(Xt(),mo("span",null,[ie("strong",null,He(D.$t("sumOfPointsLabel")),1),ie("span",{class:xo(ne(i).getSumOfPointsForCorrection(g.correction_key)>ne(r).Assessment.max_points?"red":"")},He(ne(i).getSumOfPointsForCorrection(g.correction_key))+" von max. "+He(ne(r).Assessment.max_points),3),Ts(" "+He(R()),1)]))}},kne=Ea(pCe,[["__scopeId","data-v-b58bf4c4"]]),bCe=ZF("v-alert-title"),vCe=qn({iconSize:[Number,String],iconSizes:{type:Array,default:()=>[["x-small",10],["small",16],["default",24],["large",28],["x-large",32]]}},"iconSize");function yCe(t,r){return{iconSize:Mt(()=>{const u=new Map(t.iconSizes),g=t.iconSize??r()??"default";return u.has(g)?u.get(g):g})}}const xCe=["success","info","warning","error"],wCe=qn({border:{type:[Boolean,String],validator:t=>typeof t=="boolean"||["top","end","bottom","start"].includes(t)},borderColor:String,closable:Boolean,closeIcon:{type:fi,default:"$close"},closeLabel:{type:String,default:"$vuetify.close"},icon:{type:[Boolean,String,Function,Object],default:null},modelValue:{type:Boolean,default:!0},prominent:Boolean,title:String,text:String,type:{type:String,validator:t=>xCe.includes(t)},...or(),...tp(),...bb(),...W1(),...vCe(),...i8(),...uK(),...Fg(),...Ua(),...oc(),...j1({variant:"flat"})},"VAlert"),Dg=ts()({name:"VAlert",props:wCe(),emits:{"click:close":t=>!0,"update:modelValue":t=>!0},setup(t,r){let{emit:i,slots:u}=r;const g=ra(t,"modelValue"),h=En(()=>{if(t.icon!==!1)return t.type?t.icon??`$${t.type}`:t.icon}),{iconSize:x}=yCe(t,()=>t.prominent?44:28),{themeClasses:w}=tu(t),{colorClasses:R,colorStyles:D,variantClasses:O}=jE(()=>({color:t.color??t.type,variant:t.variant})),{densityClasses:M}=pb(t),{dimensionStyles:H}=vb(t),{elevationClasses:K}=K1(t),{locationStyles:Z}=a8(t),{positionClasses:Q}=dK(t),{roundedClasses:re}=$g(t),{textColorClasses:U,textColorStyles:ge}=gb(()=>t.borderColor),{t:de}=zE(),q=En(()=>({"aria-label":de(t.closeLabel),onClick(he){g.value=!1,i("click:close",he)}}));return()=>{const he=!!(u.prepend||h.value),oe=!!(u.title||t.title),_e=!!(u.close||t.closable),Ue={density:t.density,icon:h.value,size:x.value};return g.value&&ce(t.tag,{class:xo(["v-alert",t.border&&{"v-alert--border":!!t.border,[`v-alert--border-${t.border===!0?"start":t.border}`]:!0},{"v-alert--prominent":t.prominent},w.value,R.value,M.value,K.value,Q.value,re.value,O.value,t.class]),style:Qs([D.value,H.value,Z.value,t.style]),role:"alert"},{default:()=>{var Qe,ct;return[KE(!1,"v-alert"),t.border&&ie("div",{key:"border",class:xo(["v-alert__border",U.value]),style:Qs(ge.value)},null),he&&ie("div",{key:"prepend",class:"v-alert__prepend"},[u.prepend?ce(cl,{key:"prepend-defaults",disabled:!h.value,defaults:{VIcon:{...Ue}}},u.prepend):ce(Gn,Xo({key:"prepend-icon"},Ue),null)]),ie("div",{class:"v-alert__content"},[oe&&ce(bCe,{key:"title"},{default:()=>{var Ce;return[((Ce=u.title)==null?void 0:Ce.call(u))??t.title]}}),((Qe=u.text)==null?void 0:Qe.call(u))??t.text,(ct=u.default)==null?void 0:ct.call(u)]),u.append&&ie("div",{key:"append",class:"v-alert__append"},[u.append()]),_e&&ie("div",{key:"close",class:"v-alert__close"},[u.close?ce(cl,{key:"close-defaults",defaults:{VBtn:{icon:t.closeIcon,size:"x-small",variant:"text"}}},{default:()=>{var Ce;return[(Ce=u.close)==null?void 0:Ce.call(u,{props:q.value})]}}):ce(Io,Xo({key:"close-btn",icon:t.closeIcon,size:"x-small",variant:"text"},q.value),null)])]}})}}}),CCe={id:"app-authorization-wrapper"},SCe={key:0,class:"appRow"},_Ce=["innerHTML"],kCe=["data"],ECe={key:1,class:"appRow"},TCe={key:2,class:"appRow"},ACe={class:"appRow"},OCe={key:3,class:"appRow"},RCe={__name:"Authorization",setup(t){const r=Oe.api(),i=Oe.items(),u=Oe.settings(),g=Oe.summaries(),h=Oe.levels();Oe.layout();const x=Oe.points();Oe.comments(),Oe.criteria();const{t:w}=ud.global,R=Ln(!1);function D(){let M=0;return!u.Task.enable_partial_points||(M=x.getSumOfPointsForCorrection(Oe.corrections().ownKey),M==0||M==g.editSummary.points)?"":w("authorizationPointsMismatch",[M])}async function O(){await g.setOwnAuthorized(),await r.saveChangesToBackend(!0)?(R.value=!1,r.loadItemFromBackend(i.currentKey)):(R.value=!1,Oe.layout().showSendFailure=!0)}return(M,H)=>(Xt(),mo("div",CCe,[ce(Io,{class:"app-header-item",disabled:ne(r).isLoading||!ne(i).canAuthorize,onClick:H[0]||(H[0]=K=>R.value=!0)},{default:xt(()=>[ce(Gn,{left:"",icon:"mdi-file-certificate-outline"}),ie("span",null,He(M.$t("authorizationAuthorize"))+"...",1)]),_:1},8,["disabled"]),ce(Mg,{"max-width":"60em",persistent:"",modelValue:R.value,"onUpdate:modelValue":H[3]||(H[3]=K=>R.value=K)},{default:xt(()=>[ce(Ng,null,{default:xt(()=>[ce(I1,null,{default:xt(()=>[Ts(He(M.$t("authorizationTitle",[ne(i).currentItem.title])),1)]),_:1}),ce(Nm,null,{default:xt(()=>[ne(g).editSummary.hasTextOrPdf()?(Xt(),mo("div",SCe,[ie("strong",null,He(M.$t("authorizationSummaryLabel")),1),ne(g).editSummary.text?(Xt(),mo("div",{key:0,class:"appText xlas-content headlines-three",innerHTML:ne(g).editSummary.text},null,8,_Ce)):Jn("",!0),ne(g).editSummary.pdf?(Xt(),mo("object",{key:1,class:"appPdf",type:"application/pdf",data:ne(r).getSummaryPdfUrl(ne(g).editSummary)},null,8,kCe)):Jn("",!0)])):Jn("",!0),ne(u).Task.enable_partial_points?(Xt(),mo("div",ECe,[ce(kne,{class:"sumOfPoints",correction_key:ne(Oe).corrections().ownKey},null,8,["correction_key"])])):Jn("",!0),ne(g).editSummary.hasPoints()?(Xt(),mo("div",TCe,[ie("strong",null,He(M.$t("ownSummaryPointsRating")),1),Ts(" "+He(ne(g).editSummary.points)+" "+He(M.$t("authorizationPointsSuffix"))+"  ",1),ie("strong",null,He(M.$t("authorizationGradeTitle")),1),Ts(" "+He(ne(g).currentGradeTitle)+" ",1),ie("p",null,He(ne(g).currentGradeStatement),1)])):Jn("",!0),ie("div",ACe,[Zn(ce(Dg,{color:"#0000A0",type:"info",variant:"text",density:"compact"},{default:xt(()=>[Ts(He(M.$t("authorizationPleaseEnterSummary")),1)]),_:1},512),[[Co,!ne(g).editSummary.text&&!ne(g).editSummary.pdf]]),Zn(ce(Dg,{color:"#0000A0",type:"info",variant:"text",density:"compact"},{default:xt(()=>[Ts(He(M.$t("authorizationPleaseEnterPoints")),1)]),_:1},512),[[Co,ne(h).hasLevels&&!ne(g).editSummary.hasPoints()]]),Zn(ce(Dg,{color:"#0000A0",type:"info",variant:"text",density:"compact"},{default:xt(()=>[Ts(He(D()),1)]),_:1},512),[[Co,D()!=""]]),Zn(ce(Dg,{color:"#0000A0",type:"info",variant:"text",density:"compact"},{default:xt(()=>[Ts(He(ne(g).procedureNeededText),1)]),_:1},512),[[Co,ne(g).areOthersAuthorized&&ne(g).procedureNeededText!=""]]),Zn(ce(Dg,{color:"#0000A0",type:"info",variant:"text",density:"compact"},{default:xt(()=>[Ts(He(ne(g).pointsOutsideCorridorText),1)]),_:1},512),[[Co,ne(i).isInStitch&&ne(g).pointsOutsideCorridorText!==""]])]),ne(g).editSummary.hasTextOrPdf()&&ne(g).editSummary.hasPoints()?(Xt(),mo("div",OCe,He(M.$t("authorizationWarnFinalize")),1)):Jn("",!0)]),_:1}),ce(Pm,null,{default:xt(()=>[ne(g).editSummary.hasTextOrPdf()&&ne(g).editSummary.hasPoints()?(Xt(),Yo(Io,{key:0,onClick:H[1]||(H[1]=K=>O())},{default:xt(()=>[ce(Gn,{left:"",icon:"mdi-check"}),ie("span",null,He(M.$t("authorizationAuthorize")),1)]),_:1})):Jn("",!0),ce(Io,{onClick:H[2]||(H[2]=K=>R.value=!1)},{default:xt(()=>[ce(Gn,{left:"",icon:"mdi-close"}),ie("span",null,He(M.$t("allCancel")),1)]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]))}},ICe=Ea(RCe,[["__scopeId","data-v-bee0a428"]]),DCe={id:"app-own-summary-points-wrapper"},PCe={key:0},NCe={for:"appOwnSummaryPoints"},MCe=["disabled","min","max"],LCe=["disabled"],BCe={for:"appOwnSummaryPregraded"},FCe={__name:"OwnSummaryPoints",setup(t){Oe.api();const r=Oe.items(),i=Oe.summaries(),u=Oe.settings();Oe.layout();const g=Ln(!1);g.value=i.isOwnPregraded;async function h(x){x.preventDefault(),i.isOwnPregraded?await i.setOwnOpen():i.isOwnAuthorized||await i.setOwnPregraded(),await r.setCurrentGradingStatus(i.editSummary.status),g.value=i.isOwnPregraded}return(x,w)=>(Xt(),mo("div",DCe,[ce(ME,null,{default:xt(()=>[ce(O1,{dense:""},{default:xt(()=>[ce(yc,{cols:"10"},{default:xt(()=>[ne(u).Task.enable_partial_points?(Xt(),mo("p",PCe,[ce(kne,{class:"sumOfPoints",correction_key:ne(Oe).corrections().ownKey},null,8,["correction_key"])])):Jn("",!0),ie("label",NCe,[ie("strong",null,He(x.$t("ownSummaryPointsRating")),1)]),w[2]||(w[2]=Ts("  ")),Zn(ie("input",{id:"appOwnSummaryPoints",type:"number",disabled:ne(i).isOwnDisabled,class:"appPoints",min:ne(i).pointsCorridor.min,max:ne(i).pointsCorridor.max,"onUpdate:modelValue":w[0]||(w[0]=R=>ne(i).editSummary.points=R)},null,8,MCe),[[TE,ne(i).editSummary.points]]),Ts(" "+He(x.$t("allPoints",ne(i).editSummary.points))+"  ",1),ie("strong",null,He(x.$t("allGrade")),1),Ts(" "+He(ne(i).currentGradeTitle)+" ",1),ie("p",null,He(ne(i).currentGradeStatement),1)]),_:1,__:[2]}),ce(yc,{cols:"2"},{default:xt(()=>[ne(i).isOwnAuthorized?Jn("",!0):Zn((Xt(),mo("input",{key:0,id:"appOwnSummaryPregraded",type:"checkbox",class:"appCheckbox","onUpdate:modelValue":w[1]||(w[1]=R=>g.value=R),disabled:ne(i).isOwnAuthorized||!ne(i).editSummary.hasPoints(),onChange:h},null,40,LCe)),[[$U,g.value]]),ie("label",BCe,He(x.$t("allPregraded")),1),Zn(ce(ICe,null,null,512),[[Co,!ne(i).isOwnAuthorized]])]),_:1})]),_:1})]),_:1})]))}},$Ce=Ea(FCe,[["__scopeId","data-v-00cda19f"]]);var VCe=["onActivate","onAddUndo","onBeforeAddUndo","onBeforeExecCommand","onBeforeGetContent","onBeforeRenderUI","onBeforeSetContent","onBeforePaste","onBlur","onChange","onClearUndos","onClick","onContextMenu","onCommentChange","onCompositionEnd","onCompositionStart","onCompositionUpdate","onCopy","onCut","onDblclick","onDeactivate","onDirty","onDrag","onDragDrop","onDragEnd","onDragGesture","onDragOver","onDrop","onExecCommand","onFocus","onFocusIn","onFocusOut","onGetContent","onHide","onInit","onInput","onKeyDown","onKeyPress","onKeyUp","onLoadContent","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp","onNodeChange","onObjectResizeStart","onObjectResized","onObjectSelected","onPaste","onPostProcess","onPostRender","onPreProcess","onProgressState","onRedo","onRemove","onReset","onSaveContent","onSelectionChange","onSetAttrib","onSetContent","onShow","onSubmit","onUndo","onVisualAid"],zCe=function(t){return VCe.map(function(r){return r.toLowerCase()}).indexOf(t.toLowerCase())!==-1},HCe=function(t,r,i){Object.keys(r).filter(zCe).forEach(function(u){var g=r[u];typeof g=="function"&&(u==="onInit"?g(t,i):i.on(u.substring(2),function(h){return g(h,i)}))})},UCe=function(t,r,i,u){var g=t.modelEvents?t.modelEvents:null,h=Array.isArray(g)?g.join(" "):g;Fn(u,function(x,w){i&&typeof x=="string"&&x!==w&&x!==i.getContent({format:t.outputFormat})&&i.setContent(x)}),i.on(h||"change input undo redo",function(){r.emit("update:modelValue",i.getContent({format:t.outputFormat}))})},WCe=function(t,r,i,u,g,h){u.setContent(h()),i.attrs["onUpdate:modelValue"]&&UCe(r,i,u,g),HCe(t,i.attrs,u)},bX=0,Ene=function(t){var r=Date.now(),i=Math.floor(Math.random()*1e9);return bX++,t+"_"+i+bX+String(r)},KCe=function(t){return t!==null&&t.tagName.toLowerCase()==="textarea"},vX=function(t){return typeof t>"u"||t===""?[]:Array.isArray(t)?t:t.split(" ")},jCe=function(t,r){return vX(t).concat(vX(r))},ZCe=function(t){return t==null},yX=function(t){var r;return typeof((r=t.options)===null||r===void 0?void 0:r.set)=="function"&&t.options.isRegistered("disabled")},xX=function(){return{listeners:[],scriptId:Ene("tiny-script"),scriptLoaded:!1}},GCe=function(){var t=xX(),r=function(g,h,x,w){var R=h.createElement("script");R.referrerPolicy="origin",R.type="application/javascript",R.id=g,R.src=x;var D=function(){R.removeEventListener("load",D),w()};R.addEventListener("load",D),h.head&&h.head.appendChild(R)},i=function(g,h,x){t.scriptLoaded?x():(t.listeners.push(x),g.getElementById(t.scriptId)||r(t.scriptId,g,h,function(){t.listeners.forEach(function(w){return w()}),t.scriptLoaded=!0}))},u=function(){t=xX()};return{load:i,reinitialize:u}},qCe=GCe(),YCe=function(){return typeof window<"u"?window:global},BC=function(){var t=YCe();return t&&t.tinymce?t.tinymce:null},XCe={apiKey:String,licenseKey:String,cloudChannel:String,id:String,init:Object,initialValue:String,inline:Boolean,modelEvents:[String,Array],plugins:[String,Array],tagName:String,toolbar:[String,Array],modelValue:String,disabled:Boolean,readonly:Boolean,tinymceScriptSrc:String,outputFormat:{type:String,validator:function(t){return t==="html"||t==="text"}}},Tv=function(){return Tv=Object.assign||function(t){for(var r,i=1,u=arguments.length;i<u;i++){r=arguments[i];for(var g in r)Object.prototype.hasOwnProperty.call(r,g)&&(t[g]=r[g])}return t},Tv.apply(this,arguments)},JCe=function(t,r,i,u){return t(u||"div",{id:r,ref:i})},QCe=function(t,r,i){return t("textarea",{id:r,visibility:"hidden",ref:i})},CU={selector:void 0,target:void 0},SU=function(t,r){var i;typeof((i=t.mode)===null||i===void 0?void 0:i.set)=="function"?t.mode.set(r):t.setMode(r)},Tne=AJ({props:XCe,setup:function(t,r){var i=t.init?Tv(Tv({},t.init),CU):Tv({},CU),u=FF(t),g=u.disabled,h=u.readonly,x=u.modelValue,w=u.tagName,R=Ln(null),D=null,O=t.id||Ene("tiny-vue"),M=t.init&&t.init.inline||t.inline,H=!!r.attrs["onUpdate:modelValue"],K=!0,Z=t.initialValue?t.initialValue:"",Q="",re=function(de){return H?function(){return x!=null&&x.value?x.value:""}:function(){return de?Z:Q}},U=function(){var de=re(K),q=Tv(Tv({},i),{disabled:t.disabled,readonly:t.readonly,target:R.value,plugins:jCe(i.plugins,t.plugins),toolbar:t.toolbar||i.toolbar,inline:M,license_key:t.licenseKey,setup:function(he){D=he,!yX(D)&&t.disabled===!0&&SU(D,"readonly"),he.on("init",function(oe){return WCe(oe,t,r,he,x,de)}),typeof i.setup=="function"&&i.setup(he)}});KCe(R.value)&&(R.value.style.visibility=""),BC().init(q),K=!1};Fn(h,function(de){D!==null&&SU(D,de?"readonly":"design")}),Fn(g,function(de){D!==null&&(yX(D)?D.options.set("disabled",de):SU(D,de?"readonly":"design"))}),Fn(w,function(de){var q;D&&(H||(Q=D.getContent()),(q=BC())===null||q===void 0||q.remove(D),ys(function(){return U()}))}),jd(function(){if(BC()!==null)U();else if(R.value&&R.value.ownerDocument){var de=t.cloudChannel?t.cloudChannel:"7",q=t.apiKey?t.apiKey:"no-api-key",he=ZCe(t.tinymceScriptSrc)?"https://cdn.tiny.cloud/1/".concat(q,"/tinymce/").concat(de,"/tinymce.min.js"):t.tinymceScriptSrc;qCe.load(R.value.ownerDocument,he,U)}}),Ru(function(){BC()!==null&&BC().remove(D)}),M||(NW(function(){K||U()}),zF(function(){var de;D&&(H||(Q=D.getContent()),(de=BC())===null||de===void 0||de.remove(D))}));var ge=function(de){var q;D&&(Q=D.getContent(),(q=BC())===null||q===void 0||q.remove(D),i=Tv(Tv(Tv({},i),de),CU),ys(function(){return U()}))};return r.expose({rerender:ge,getEditor:function(){return D}}),function(){return M?JCe(Nv,O,R,t.tagName):QCe(Nv,O,R)}}});const eSe='.xlas-content{font-family:serif;font-size:1rem;line-height:150%;text-align:justify}.xlas-content p,.xlas-content pre{margin-top:0;margin-bottom:10px;min-height:1.5em;text-align:justify}.xlas-content pre{max-width:80em;white-space:pre-wrap;word-wrap:break-word;overflow-wrap:break-word}.xlas-content ol,.xlas-content ul{margin:0 0 10px;padding:0}.xlas-content li{margin:0 0 0 40px;min-height:1.5em}.xlas-content li+li{margin-top:10px}.xlas-content li>ol,.xlas-content li>ul{margin-top:10px;margin-bottom:0}.xlas-content table{border-collapse:collapse;border:1px solid gray;width:100%;table-layout:fixed;margin-bottom:10px}.xlas-content tr{vertical-align:top}.xlas-content td,.xlas-content th{border:1px solid gray;min-width:1em;min-height:1em;padding:5px}.xlas-content hr{page-break-before:always;height:0;width:0;border:0;margin:0}.xlas-content .mce-pagebreak{width:calc(100% + 40px);height:1px;height:20px;background-color:#eee;border-top:1px solid #ccc;margin-left:-20px}.xlas-content{counter-reset:xlas-h1 xlas-h2 xlas-h3 xlas-h4 xlas-h5 xlas-h6}.xlas-content h1,.xlas-content h2,.xlas-content h3,.xlas-content h4,.xlas-content h5,.xlas-content h6{font-family:serif;font-size:1em;font-weight:700;padding:0;margin-top:0;margin-bottom:10px;min-height:1.5em}.xlas-content h1{counter-increment:xlas-h1;counter-reset:xlas-h2 xlas-h3 xlas-h4 xlas-h5 xlas-h6}.xlas-content h2{counter-increment:xlas-h2;counter-reset:xlas-h3 xlas-h4 xlas-h5 xlas-h6}.xlas-content h3{counter-increment:xlas-h3;counter-reset:xlas-h4 xlas-h5 xlas-h6}.xlas-content h4{counter-increment:xlas-h4;counter-reset:xlas-h5 xlas-h6}.xlas-content h5{counter-increment:xlas-h5;counter-reset:xlas-h6}.xlas-content h6{counter-increment:xlas-h6}.xlas-content.headlines-three h1{font-size:1.3em!important}.xlas-content.headlines-three h2{font-size:1.15em!important}.xlas-content.headlines-three h3{font-size:1em!important}.xlas-content.headlines-numeric h1:before{content:counter(xlas-h1,decimal) " "}.xlas-content.headlines-numeric h2:before{content:counter(xlas-h1,decimal) "." counter(xlas-h2,decimal) " "}.xlas-content.headlines-numeric h3:before{content:counter(xlas-h1,decimal) "." counter(xlas-h2,decimal) "." counter(xlas-h3,decimal) " "}.xlas-content.headlines-numeric h4:before{content:counter(xlas-h1,decimal) "." counter(xlas-h2,decimal) "." counter(xlas-h3,decimal) "." counter(xlas-h4,decimal) " "}.xlas-content.headlines-numeric h5:before{content:counter(xlas-h1,decimal) "." counter(xlas-h2,decimal) "." counter(xlas-h3,decimal) "." counter(xlas-h4,decimal) "." counter(xlas-h5,decimal) " "}.xlas-content.headlines-numeric h6:before{content:counter(xlas-h1,decimal) "." counter(xlas-h2,decimal) "." counter(xlas-h3,decimal) "." counter(xlas-h4,decimal) "." counter(xlas-h5,decimal) "." counter(xlas-h6,decimal) " "}.xlas-content.headlines-edutiek h1:before{content:counter(xlas-h1,upper-latin) ". "}.xlas-content.headlines-edutiek h2:before{content:counter(xlas-h2,upper-roman) ". "}.xlas-content.headlines-edutiek h3:before{content:counter(xlas-h3,decimal) ". "}.xlas-content.headlines-edutiek h4:before{content:counter(xlas-h4,lower-latin) ". "}.xlas-content.headlines-edutiek h5:before{content:counter(xlas-h5,lower-latin) counter(xlas-h5,lower-latin) ". "}.xlas-content.headlines-edutiek h6:before{content:"(" counter(xlas-h6,decimal) ") "}';var _U={exports:{}},wX;function tSe(){return wX||(wX=1,function(t){(function(){var r=function(e){if(e===null)return"null";if(e===void 0)return"undefined";var n=typeof e;return n==="object"&&(Array.prototype.isPrototypeOf(e)||e.constructor&&e.constructor.name==="Array")?"array":n==="object"&&(String.prototype.isPrototypeOf(e)||e.constructor&&e.constructor.name==="String")?"string":n},i=function(e){return["undefined","boolean","number","string","function","xml","null"].indexOf(e)!==-1},u=function(e,n){var o=Array.prototype.slice.call(e);return o.sort(n)},g=function(e,n){return h(function(o,a){return e.eq(n(o),n(a))})},h=function(e){return{eq:e}},x=h(function(e,n){return e===n}),w=x,R=function(e){return h(function(n,o){if(n.length!==o.length)return!1;for(var a=n.length,c=0;c<a;c++)if(!e.eq(n[c],o[c]))return!1;return!0})},D=function(e,n){return g(R(e),function(o){return u(o,n)})},O=function(e){return h(function(n,o){var a=Object.keys(n),c=Object.keys(o);if(!D(w).eq(a,c))return!1;for(var m=a.length,p=0;p<m;p++){var S=a[p];if(!e.eq(n[S],o[S]))return!1}return!0})},M=h(function(e,n){if(e===n)return!0;var o=r(e),a=r(n);return o!==a?!1:i(o)?e===n:o==="array"?R(M).eq(e,n):o==="object"?O(M).eq(e,n):!1});const H=Object.getPrototypeOf,K=(e,n,o)=>{var a;return o(e,n.prototype)?!0:((a=e.constructor)===null||a===void 0?void 0:a.name)===n.name},Z=e=>{const n=typeof e;return e===null?"null":n==="object"&&Array.isArray(e)?"array":n==="object"&&K(e,String,(o,a)=>a.isPrototypeOf(o))?"string":n},Q=e=>n=>Z(n)===e,re=e=>n=>typeof n===e,U=e=>n=>e===n,ge=(e,n)=>q(e)&&K(e,n,(o,a)=>H(o)===a),de=Q("string"),q=Q("object"),he=e=>ge(e,Object),oe=Q("array"),_e=U(null),Ue=re("boolean"),Qe=U(void 0),ct=e=>e==null,Ce=e=>!ct(e),Te=re("function"),I=re("number"),dt=(e,n)=>{if(oe(e)){for(let o=0,a=e.length;o<a;++o)if(!n(e[o]))return!1;return!0}return!1},gt=()=>{},Ft=(e,n)=>(...o)=>e(n.apply(null,o)),en=(e,n)=>o=>e(n(o)),ft=e=>()=>e,Rn=e=>e,Ot=(e,n)=>e===n;function rt(e,...n){return(...o)=>{const a=n.concat(o);return e.apply(null,a)}}const Ve=e=>n=>!e(n),bt=e=>()=>{throw new Error(e)},Yn=e=>e(),Yt=e=>{e()},Bn=ft(!1),Jt=ft(!0);class te{constructor(n,o){this.tag=n,this.value=o}static some(n){return new te(!0,n)}static none(){return te.singletonNone}fold(n,o){return this.tag?o(this.value):n()}isSome(){return this.tag}isNone(){return!this.tag}map(n){return this.tag?te.some(n(this.value)):te.none()}bind(n){return this.tag?n(this.value):te.none()}exists(n){return this.tag&&n(this.value)}forall(n){return!this.tag||n(this.value)}filter(n){return!this.tag||n(this.value)?this:te.none()}getOr(n){return this.tag?this.value:n}or(n){return this.tag?this:n}getOrThunk(n){return this.tag?this.value:n()}orThunk(n){return this.tag?this:n()}getOrDie(n){if(this.tag)return this.value;throw new Error(n??"Called getOrDie on None")}static from(n){return Ce(n)?te.some(n):te.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(n){this.tag&&n(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}te.singletonNone=new te(!1);const vo=Array.prototype.slice,nn=Array.prototype.indexOf,yn=Array.prototype.push,qe=(e,n)=>nn.call(e,n),it=(e,n)=>{const o=qe(e,n);return o===-1?te.none():te.some(o)},Se=(e,n)=>qe(e,n)>-1,Me=(e,n)=>{for(let o=0,a=e.length;o<a;o++){const c=e[o];if(n(c,o))return!0}return!1},Ke=(e,n)=>{const o=e.length,a=new Array(o);for(let c=0;c<o;c++){const m=e[c];a[c]=n(m,c)}return a},xe=(e,n)=>{for(let o=0,a=e.length;o<a;o++){const c=e[o];n(c,o)}},Re=(e,n)=>{for(let o=e.length-1;o>=0;o--){const a=e[o];n(a,o)}},Fe=(e,n)=>{const o=[],a=[];for(let c=0,m=e.length;c<m;c++){const p=e[c];(n(p,c)?o:a).push(p)}return{pass:o,fail:a}},Je=(e,n)=>{const o=[];for(let a=0,c=e.length;a<c;a++){const m=e[a];n(m,a)&&o.push(m)}return o},wt=(e,n,o)=>(Re(e,(a,c)=>{o=n(o,a,c)}),o),pn=(e,n,o)=>(xe(e,(a,c)=>{o=n(o,a,c)}),o),Qt=(e,n,o)=>{for(let a=0,c=e.length;a<c;a++){const m=e[a];if(n(m,a))return te.some(m);if(o(m,a))break}return te.none()},An=(e,n)=>Qt(e,n,Bn),no=(e,n)=>{for(let o=0,a=e.length;o<a;o++){const c=e[o];if(n(c,o))return te.some(o)}return te.none()},co=e=>{const n=[];for(let o=0,a=e.length;o<a;++o){if(!oe(e[o]))throw new Error("Arr.flatten item "+o+" was not an array, input: "+e);yn.apply(n,e[o])}return n},Jo=(e,n)=>co(Ke(e,n)),Ho=(e,n)=>{for(let o=0,a=e.length;o<a;++o){const c=e[o];if(n(c,o)!==!0)return!1}return!0},sr=e=>{const n=vo.call(e,0);return n.reverse(),n},Cs=(e,n)=>Je(e,o=>!Se(n,o)),ri=(e,n)=>{const o={};for(let a=0,c=e.length;a<c;a++){const m=e[a];o[String(m)]=n(m,a)}return o},xs=(e,n)=>{const o=vo.call(e,0);return o.sort(n),o},aa=(e,n)=>n>=0&&n<e.length?te.some(e[n]):te.none(),cn=e=>aa(e,0),uo=e=>aa(e,e.length-1),$o=Te(Array.from)?Array.from:e=>vo.call(e),mi=(e,n)=>{for(let o=0;o<e.length;o++){const a=n(e[o],o);if(a.isSome())return a}return te.none()},ul=(e,n)=>{const o=[],a=Te(n)?c=>Me(o,m=>n(m,c)):c=>Se(o,c);for(let c=0,m=e.length;c<m;c++){const p=e[c];a(p)||o.push(p)}return o},tn=Object.keys,ki=Object.hasOwnProperty,Go=(e,n)=>{const o=tn(e);for(let a=0,c=o.length;a<c;a++){const m=o[a],p=e[m];n(p,m)}},Wl=(e,n)=>js(e,(o,a)=>({k:a,v:n(o,a)})),js=(e,n)=>{const o={};return Go(e,(a,c)=>{const m=n(a,c);o[m.k]=m.v}),o},ii=e=>(n,o)=>{e[o]=n},Oc=(e,n,o,a)=>{Go(e,(c,m)=>{(n(c,m)?o:a)(c,m)})},Rc=(e,n)=>{const o={},a={};return Oc(e,n,ii(o),ii(a)),{t:o,f:a}},Ic=(e,n)=>{const o={};return Oc(e,n,ii(o),gt),o},kl=(e,n)=>{const o=[];return Go(e,(a,c)=>{o.push(n(a,c))}),o},Dc=e=>kl(e,Rn),Zs=(e,n)=>So(e,n)?te.from(e[n]):te.none(),So=(e,n)=>ki.call(e,n),dl=(e,n)=>So(e,n)&&e[n]!==void 0&&e[n]!==null,Ui=(e,n,o=M)=>O(o).eq(e,n),Du=e=>{const n={};return xe(e,o=>{n[o]={}}),tn(n)},Sn=e=>e.length!==void 0,sc=Array.isArray,Kf=e=>{if(sc(e))return e;{const n=[];for(let o=0,a=e.length;o<a;o++)n[o]=e[o];return n}},Tr=(e,n,o)=>{if(!e)return!1;if(o=o||e,Sn(e)){for(let a=0,c=e.length;a<c;a++)if(n.call(o,e[a],a,e)===!1)return!1}else for(const a in e)if(So(e,a)&&n.call(o,e[a],a,e)===!1)return!1;return!0},jf=(e,n)=>{const o=[];return Tr(e,(a,c)=>{o.push(n(a,c,e))}),o},fl=(e,n)=>{const o=[];return Tr(e,(a,c)=>{(!n||n(a,c,e))&&o.push(a)}),o},Kl=(e,n)=>{if(e){for(let o=0,a=e.length;o<a;o++)if(e[o]===n)return o}return-1},El=(e,n,o,a)=>{let c=Qe(o)?e[0]:o;for(let m=0;m<e.length;m++)c=n.call(a,c,e[m],m);return c},dr=(e,n,o)=>{for(let a=0,c=e.length;a<c;a++)if(n.call(o,e[a],a,e))return a;return-1},la=e=>e[e.length-1],ml=e=>{let n=!1,o;return(...a)=>(n||(n=!0,o=e.apply(null,a)),o)},Zf=(e,n,o,a)=>{const c=e.isiOS()&&/ipad/i.test(o)===!0,m=e.isiOS()&&!c,p=e.isiOS()||e.isAndroid(),S=p||a("(pointer:coarse)"),T=c||!m&&p&&a("(min-device-width:768px)"),V=m||p&&!T,X=n.isSafari()&&e.isiOS()&&/safari/i.test(o)===!1,ee=!V&&!T&&!X;return{isiPad:ft(c),isiPhone:ft(m),isTablet:ft(T),isPhone:ft(V),isTouch:ft(S),isAndroid:e.isAndroid,isiOS:e.isiOS,isWebView:ft(X),isDesktop:ft(ee)}},nu=(e,n)=>{for(let o=0;o<e.length;o++){const a=e[o];if(a.test(n))return a}},Tl=(e,n)=>{const o=nu(e,n);if(!o)return{major:0,minor:0};const a=c=>Number(n.replace(o,"$"+c));return cs(a(1),a(2))},Zd=(e,n)=>{const o=String(n).toLowerCase();return e.length===0?Pu():Tl(e,o)},Pu=()=>cs(0,0),cs=(e,n)=>({major:e,minor:n}),Kr={nu:cs,detect:Zd,unknown:Pu},gi=(e,n)=>mi(n.brands,o=>{const a=o.brand.toLowerCase();return An(e,c=>{var m;return a===((m=c.brand)===null||m===void 0?void 0:m.toLowerCase())}).map(c=>({current:c.name,version:Kr.nu(parseInt(o.version,10),0)}))}),Gf=(e,n)=>{const o=String(n).toLowerCase();return An(e,a=>a.search(o))},gl=(e,n)=>Gf(e,n).map(o=>{const a=Kr.detect(o.versionRegexes,n);return{current:o.name,version:a}}),ou=(e,n)=>Gf(e,n).map(o=>{const a=Kr.detect(o.versionRegexes,n);return{current:o.name,version:a}}),Pi=(e,n)=>e.substring(n),Ta=(e,n,o)=>n===""||e.length>=n.length&&e.substr(o,o+n.length)===n,Aa=(e,n)=>wr(e,n)?Pi(e,n.length):e,Vs=(e,n,o=0,a)=>{const c=e.indexOf(n,o);return c!==-1?Qe(a)?!0:c+n.length<=a:!1},wr=(e,n)=>Ta(e,n,0),Be=(e,n)=>Ta(e,n,e.length-n.length),mt=e=>n=>n.replace(e,""),Ze=mt(/^\s+|\s+$/g),_t=mt(/^\s+/g),Ct=mt(/\s+$/g),lt=e=>e.length>0,rn=e=>!lt(e),bn=(e,n)=>n<=0?"":new Array(n+1).join(e),Cn=(e,n=10)=>{const o=parseInt(e,n);return isNaN(o)?te.none():te.some(o)},Tn=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,_n=e=>n=>Vs(n,e),Po=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:e=>Vs(e,"edge/")&&Vs(e,"chrome")&&Vs(e,"safari")&&Vs(e,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,Tn],search:e=>Vs(e,"chrome")&&!Vs(e,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:e=>Vs(e,"msie")||Vs(e,"trident")},{name:"Opera",versionRegexes:[Tn,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:_n("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:_n("firefox")},{name:"Safari",versionRegexes:[Tn,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:e=>(Vs(e,"safari")||Vs(e,"mobile/"))&&Vs(e,"applewebkit")}],xn=[{name:"Windows",search:_n("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:e=>Vs(e,"iphone")||Vs(e,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:_n("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:_n("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:_n("linux"),versionRegexes:[]},{name:"Solaris",search:_n("sunos"),versionRegexes:[]},{name:"FreeBSD",search:_n("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:_n("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],Ws={browsers:ft(Po),oses:ft(xn)},ns="Edge",gs="Chromium",jr="IE",Uo="Opera",rc="Firefox",Oa="Safari",_o=()=>Al({current:void 0,version:Kr.unknown()}),Al=e=>{const n=e.current,o=e.version,a=c=>()=>n===c;return{current:n,version:o,isEdge:a(ns),isChromium:a(gs),isIE:a(jr),isOpera:a(Uo),isFirefox:a(rc),isSafari:a(Oa)}},Ol={unknown:_o,nu:Al},Or="Windows",Gd="iOS",Jr="Android",qf="Linux",Rl="macOS",zs="Solaris",fd="FreeBSD",$m="ChromeOS",Vm=()=>Rr({current:void 0,version:Kr.unknown()}),Rr=e=>{const n=e.current,o=e.version,a=c=>()=>n===c;return{current:n,version:o,isWindows:a(Or),isiOS:a(Gd),isAndroid:a(Jr),isMacOS:a(Rl),isLinux:a(qf),isSolaris:a(zs),isFreeBSD:a(fd),isChromeOS:a($m)}},hl={unknown:Vm,nu:Rr},rr={detect:(e,n,o)=>{const a=Ws.browsers(),c=Ws.oses(),m=n.bind(T=>gi(a,T)).orThunk(()=>gl(a,e)).fold(Ol.unknown,Ol.nu),p=ou(c,e).fold(hl.unknown,hl.nu),S=Zf(p,m,e,o);return{browser:m,os:p,deviceType:S}}},qd=e=>window.matchMedia(e).matches;let Dl=ml(()=>rr.detect(window.navigator.userAgent,te.from(window.navigator.userAgentData),qd));const ca=()=>Dl(),zm=window.navigator.userAgent,Wi=ca(),Wa=Wi.browser,ua=Wi.os,pl=Wi.deviceType,zg=zm.indexOf("Windows Phone")!==-1,os={transparentSrc:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",documentMode:Wa.isIE()?document.documentMode||7:10,cacheSuffix:null,container:null,canHaveCSP:!Wa.isIE(),windowsPhone:zg,browser:{current:Wa.current,version:Wa.version,isChromium:Wa.isChromium,isEdge:Wa.isEdge,isFirefox:Wa.isFirefox,isIE:Wa.isIE,isOpera:Wa.isOpera,isSafari:Wa.isSafari},os:{current:ua.current,version:ua.version,isAndroid:ua.isAndroid,isChromeOS:ua.isChromeOS,isFreeBSD:ua.isFreeBSD,isiOS:ua.isiOS,isLinux:ua.isLinux,isMacOS:ua.isMacOS,isSolaris:ua.isSolaris,isWindows:ua.isWindows},deviceType:{isDesktop:pl.isDesktop,isiPad:pl.isiPad,isiPhone:pl.isiPhone,isPhone:pl.isPhone,isTablet:pl.isTablet,isTouch:pl.isTouch,isWebView:pl.isWebView}},su=/^\s*|\s*$/g,md=e=>ct(e)?"":(""+e).replace(su,""),Nu=(e,n)=>n?n==="array"&&sc(e)?!0:typeof e===n:e!==void 0,np=(e,n,o={})=>{const a=de(e)?e.split(n||","):e||[];let c=a.length;for(;c--;)o[a[c]]={};return o},$v=So,jl=(e,...n)=>{for(let o=0;o<n.length;o++){const a=n[o];for(const c in a)if(So(a,c)){const m=a[c];m!==void 0&&(e[c]=m)}}return e},op=function(e,n,o,a){a=a||this,e&&(o&&(e=e[o]),Tr(e,(c,m)=>n.call(a,c,m,o)===!1?!1:(op(c,n,o,a),!0)))},dn={trim:md,isArray:sc,is:Nu,toArray:Kf,makeMap:np,each:Tr,map:jf,grep:fl,inArray:Kl,hasOwn:$v,extend:jl,walk:op,resolve:(e,n=window)=>{const o=e.split(".");for(let a=0,c=o.length;a<c&&(n=n[o[a]],!!n);a++);return n},explode:(e,n)=>oe(e)?e:e===""?[]:jf(e.split(n||","),md),_addCacheSuffix:e=>{const n=os.cacheSuffix;return n&&(e+=(e.indexOf("?")===-1?"?":"&")+n),e}},Yd=(e,n,o=Ot)=>e.exists(a=>o(a,n)),Xd=(e,n,o=Ot)=>da(e,n,o).getOr(e.isNone()&&n.isNone()),Ug=e=>{const n=[],o=a=>{n.push(a)};for(let a=0;a<e.length;a++)e[a].each(o);return n},da=(e,n,o)=>e.isSome()&&n.isSome()?te.some(o(e.getOrDie(),n.getOrDie())):te.none(),Jd=(e,n,o,a)=>e.isSome()&&n.isSome()&&o.isSome()?te.some(a(e.getOrDie(),n.getOrDie(),o.getOrDie())):te.none(),Yf=(e,n)=>e?te.some(n):te.none(),zv=typeof window<"u"?window:Function("return this;")(),xb=(e,n)=>{let o=n??zv;for(let a=0;a<e.length&&o!==void 0&&o!==null;++a)o=o[e[a]];return o},wb=(e,n)=>{const o=e.split(".");return xb(o,n)},Z1=(e,n)=>wb(e,n),Hv=(e,n)=>{const o=Z1(e,n);if(o==null)throw new Error(e+" not available on this browser");return o},G1=Object.getPrototypeOf,Wg=e=>Hv("HTMLElement",e),ru=e=>{const n=wb("ownerDocument.defaultView",e);return q(e)&&(Wg(n).prototype.isPrototypeOf(e)||/^HTML\w*Element$/.test(G1(e).constructor.name))},gd=8,iu=9,Ki=11,Pl=1,Qd=3,hs=e=>e.dom.nodeName.toLowerCase(),Pc=e=>e.dom.nodeType,Hm=e=>n=>Pc(n)===e,Um=e=>Pc(e)===gd||hs(e)==="#comment",bl=e=>Qr(e)&&ru(e.dom),Qr=Hm(Pl),Cr=Hm(Qd),Ji=Hm(iu),fr=Hm(Ki),ef=e=>n=>Qr(n)&&hs(n)===e,tf=(e,n,o)=>{if(de(o)||Ue(o)||I(o))e.setAttribute(n,o+"");else throw console.error("Invalid call to Attribute.set. Key ",n,":: Value ",o,":: Element ",e),new Error("Attribute value was not simple")},Ei=(e,n,o)=>{tf(e.dom,n,o)},Ka=(e,n)=>{const o=e.dom;Go(n,(a,c)=>{tf(o,c,a)})},Ra=(e,n)=>{const o=e.dom.getAttribute(n);return o===null?void 0:o},hi=(e,n)=>te.from(Ra(e,n)),hd=(e,n)=>{const o=e.dom;return o&&o.hasAttribute?o.hasAttribute(n):!1},qo=(e,n)=>{e.dom.removeAttribute(n)},ai=e=>{const n=e.dom.attributes;return n==null||n.length===0},ja=e=>pn(e.dom.attributes,(n,o)=>(n[o.name]=o.value,n),{}),au=(e,n)=>{const o=Ra(e,n);return o===void 0||o===""?[]:o.split(" ")},Ni=(e,n,o)=>{const c=au(e,n).concat([o]);return Ei(e,n,c.join(" ")),!0},Wn=(e,n,o)=>{const a=Je(au(e,n),c=>c!==o);return a.length>0?Ei(e,n,a.join(" ")):qo(e,n),!1},Nc=e=>e.dom.classList!==void 0,Mc=e=>au(e,"class"),Ss=(e,n)=>Ni(e,"class",n),Xf=(e,n)=>Wn(e,"class",n),sp=(e,n)=>Se(Mc(e),n)?Xf(e,n):Ss(e,n),lu=(e,n)=>{Nc(e)?e.dom.classList.add(n):Ss(e,n)},ss=e=>{(Nc(e)?e.dom.classList:Mc(e)).length===0&&qo(e,"class")},Ia=(e,n)=>{Nc(e)?e.dom.classList.remove(n):Xf(e,n),ss(e)},Wm=(e,n)=>{const o=Nc(e)?e.dom.classList.toggle(n):sp(e,n);return ss(e),o},Mu=(e,n)=>Nc(e)&&e.dom.classList.contains(n),Kg=(e,n)=>{const a=(n||document).createElement("div");if(a.innerHTML=e,!a.hasChildNodes()||a.childNodes.length>1){const c="HTML does not have a single root node";throw console.error(c,e),new Error(c)}return cu(a.childNodes[0])},Lc=(e,n)=>{const a=(n||document).createElement(e);return cu(a)},Za=(e,n)=>{const a=(n||document).createTextNode(e);return cu(a)},cu=e=>{if(e==null)throw new Error("Node cannot be null or undefined");return{dom:e}},Ye={fromHtml:Kg,fromTag:Lc,fromText:Za,fromDom:cu,fromPoint:(e,n,o)=>te.from(e.dom.elementFromPoint(n,o)).map(cu)},Jf=(e,n)=>{const o=[],a=m=>(o.push(m),n(m));let c=n(e);do c=c.bind(a);while(c.isSome());return o},qs=(e,n)=>{const o=e.dom;if(o.nodeType!==Pl)return!1;{const a=o;if(a.matches!==void 0)return a.matches(n);if(a.msMatchesSelector!==void 0)return a.msMatchesSelector(n);if(a.webkitMatchesSelector!==void 0)return a.webkitMatchesSelector(n);if(a.mozMatchesSelector!==void 0)return a.mozMatchesSelector(n);throw new Error("Browser lacks native selectors")}},rp=e=>e.nodeType!==Pl&&e.nodeType!==iu&&e.nodeType!==Ki||e.childElementCount===0,Km=(e,n)=>{const o=n===void 0?document:n.dom;return rp(o)?[]:Ke(o.querySelectorAll(e),Ye.fromDom)},wc=(e,n)=>{const o=n===void 0?document:n.dom;return rp(o)?te.none():te.from(o.querySelector(e)).map(Ye.fromDom)},us=(e,n)=>e.dom===n.dom,fa=(e,n)=>{const o=e.dom,a=n.dom;return o===a?!1:o.contains(a)},ic=e=>Ye.fromDom(e.dom.ownerDocument),Cc=e=>Ji(e)?e:ic(e),uu=e=>Ye.fromDom(Cc(e).dom.documentElement),Lu=e=>Ye.fromDom(Cc(e).dom.defaultView),Qi=e=>te.from(e.dom.parentNode).map(Ye.fromDom),of=e=>te.from(e.dom.parentElement).map(Ye.fromDom),jm=(e,n)=>{const o=Te(n)?n:Bn;let a=e.dom;const c=[];for(;a.parentNode!==null&&a.parentNode!==void 0;){const m=a.parentNode,p=Ye.fromDom(m);if(c.push(p),o(p)===!0)break;a=m}return c},jg=e=>{const n=o=>Je(o,a=>!us(e,a));return Qi(e).map(ma).map(n).getOr([])},Mi=e=>te.from(e.dom.previousSibling).map(Ye.fromDom),oo=e=>te.from(e.dom.nextSibling).map(Ye.fromDom),Bu=e=>sr(Jf(e,Mi)),Qf=e=>Jf(e,oo),ma=e=>Ke(e.dom.childNodes,Ye.fromDom),Fu=(e,n)=>{const o=e.dom.childNodes;return te.from(o[n]).map(Ye.fromDom)},Zl=e=>Fu(e,0),$u=e=>Fu(e,e.dom.childNodes.length-1),pd=e=>e.dom.childNodes.length,Li=e=>{const n=e.dom.head;if(n==null)throw new Error("Head is not available yet");return Ye.fromDom(n)},Sc=e=>fr(e)&&Ce(e.dom.host),du=e=>Ye.fromDom(e.dom.getRootNode()),em=e=>Sc(e)?e:Li(Cc(e)),Cb=e=>Sc(e)?e:Ye.fromDom(Cc(e).dom.body),Vu=e=>{const n=du(e);return Sc(n)?te.some(n):te.none()},sf=e=>Ye.fromDom(e.dom.host),Zm=e=>{if(Ce(e.target)){const n=Ye.fromDom(e.target);if(Qr(n)&&Ir(n)&&e.composed&&e.composedPath){const o=e.composedPath();if(o)return cn(o)}}return te.from(e.target)},Ir=e=>Ce(e.dom.shadowRoot),Da=e=>{const n=Cr(e)?e.dom.parentNode:e.dom;if(n==null||n.ownerDocument===null)return!1;const o=n.ownerDocument;return Vu(Ye.fromDom(n)).fold(()=>o.body.contains(n),en(Da,sf))};var Pa=(e,n,o,a,c)=>e(o,a)?te.some(o):Te(c)&&c(o)?te.none():n(o,a,c);const Ga=(e,n,o)=>{let a=e.dom;const c=Te(o)?o:Bn;for(;a.parentNode;){a=a.parentNode;const m=Ye.fromDom(a);if(n(m))return te.some(m);if(c(m))break}return te.none()},Ti=(e,n,o)=>Pa((c,m)=>m(c),Ga,e,n,o),tm=(e,n)=>{const o=e.dom;return o.parentNode?pi(Ye.fromDom(o.parentNode),a=>!us(e,a)&&n(a)):te.none()},pi=(e,n)=>{const o=c=>n(Ye.fromDom(c));return An(e.dom.childNodes,o).map(Ye.fromDom)},ji=(e,n)=>{const o=a=>{for(let c=0;c<a.childNodes.length;c++){const m=Ye.fromDom(a.childNodes[c]);if(n(m))return te.some(m);const p=o(a.childNodes[c]);if(p.isSome())return p}return te.none()};return o(e.dom)},Bc=(e,n,o)=>Ga(e,a=>qs(a,n),o),Ht=(e,n)=>wc(n,e),Bi=(e,n,o)=>Pa((c,m)=>qs(c,m),Bc,e,n,o),Zg=e=>Bi(e,"[contenteditable]"),Sr=(e,n=!1)=>Da(e)?e.dom.isContentEditable:Zg(e).fold(ft(n),o=>zu(o)==="true"),zu=e=>e.dom.contentEditable,qa=e=>e.style!==void 0&&Te(e.style.getPropertyValue),Fc=(e,n,o)=>{if(!de(o))throw console.error("Invalid call to CSS.set. Property ",n,":: Value ",o,":: Element ",e),new Error("CSS value must be a string: "+o);qa(e)&&e.style.setProperty(n,o)},nm=(e,n)=>{qa(e)&&e.style.removeProperty(n)},Ya=(e,n,o)=>{const a=e.dom;Fc(a,n,o)},ds=(e,n)=>{const o=e.dom;Go(n,(a,c)=>{Fc(o,c,a)})},$r=(e,n)=>{const o=e.dom,c=window.getComputedStyle(o).getPropertyValue(n);return c===""&&!Da(e)?Hu(o,n):c},Hu=(e,n)=>qa(e)?e.style.getPropertyValue(n):"",Zr=(e,n)=>{const o=e.dom,a=Hu(o,n);return te.from(a).filter(c=>c.length>0)},Gm=e=>{const n={},o=e.dom;if(qa(o))for(let a=0;a<o.style.length;a++){const c=o.style.item(a);n[c]=o.style[c]}return n},$c=(e,n)=>{const o=e.dom;nm(o,n),Yd(hi(e,"style").map(Ze),"")&&qo(e,"style")},ip=e=>e.dom.offsetWidth,Dr=(e,n)=>{Qi(e).each(a=>{a.dom.insertBefore(n.dom,e.dom)})},vt=(e,n)=>{oo(e).fold(()=>{Qi(e).each(c=>{Vr(c,n)})},a=>{Dr(a,n)})},Xa=(e,n)=>{Zl(e).fold(()=>{Vr(e,n)},a=>{e.dom.insertBefore(n.dom,a.dom)})},Vr=(e,n)=>{e.dom.appendChild(n.dom)},ac=(e,n)=>{Dr(e,n),Vr(n,e)},Vc=(e,n)=>{xe(n,(o,a)=>{const c=a===0?e:n[a-1];vt(c,o)})},li=(e,n)=>{xe(n,o=>{Vr(e,o)})},ir=e=>{e.dom.textContent="",xe(ma(e),n=>{Hs(n)})},Hs=e=>{const n=e.dom;n.parentNode!==null&&n.parentNode.removeChild(n)},ga=e=>{const n=ma(e);n.length>0&&Vc(e,n),Hs(e)},ha=(e,n)=>{const a=(n||document).createElement("div");return a.innerHTML=e,ma(Ye.fromDom(a))},Nl=e=>Ke(e,Ye.fromDom),_c=e=>e.dom.innerHTML,fu=(e,n)=>{const a=ic(e).dom,c=Ye.fromDom(a.createDocumentFragment()),m=ha(n,a);li(c,m),ir(e),Vr(e,c)},bd=e=>{const n=Ye.fromTag("div"),o=Ye.fromDom(e.dom.cloneNode(!0));return Vr(n,o),_c(n)},om=(e,n,o,a,c,m,p)=>({target:e,x:n,y:o,stop:a,prevent:c,kill:m,raw:p}),Gg=e=>{const n=Ye.fromDom(Zm(e).getOr(e.target)),o=()=>e.stopPropagation(),a=()=>e.preventDefault(),c=Ft(a,o);return om(n,e.clientX,e.clientY,o,a,c,e)},ap=(e,n)=>o=>{e(o)&&n(Gg(o))},Uu=(e,n,o,a,c)=>{const m=ap(o,a);return e.dom.addEventListener(n,m,c),{unbind:rt(Y,e,n,m,c)}},L=(e,n,o,a)=>Uu(e,n,o,a,!1),Y=(e,n,o,a)=>{e.dom.removeEventListener(n,o,a)},fe=(e,n)=>({left:e,top:n,translate:(a,c)=>fe(e+a,n+c)}),We=fe,tt=e=>{const n=e.getBoundingClientRect();return We(n.left,n.top)},Ut=(e,n)=>e!==void 0?e:n!==void 0?n:0,lo=e=>{const n=e.dom.ownerDocument,o=n.body,a=n.defaultView,c=n.documentElement;if(o===e.dom)return We(o.offsetLeft,o.offsetTop);const m=Ut(a==null?void 0:a.pageYOffset,c.scrollTop),p=Ut(a==null?void 0:a.pageXOffset,c.scrollLeft),S=Ut(c.clientTop,o.clientTop),T=Ut(c.clientLeft,o.clientLeft);return Mo(e).translate(p-T,m-S)},Mo=e=>{const n=e.dom,a=n.ownerDocument.body;return a===n?We(a.offsetLeft,a.offsetTop):Da(e)?tt(n):We(0,0)},ko=e=>{const n=e!==void 0?e.dom:document,o=n.body.scrollLeft||n.documentElement.scrollLeft,a=n.body.scrollTop||n.documentElement.scrollTop;return We(o,a)},jn=(e,n,o)=>{const c=(o!==void 0?o.dom:document).defaultView;c&&c.scrollTo(e,n)},Is=(e,n)=>{ca().browser.isSafari()&&Te(e.dom.scrollIntoViewIfNeeded)?e.dom.scrollIntoViewIfNeeded(!1):e.dom.scrollIntoView(n)},ei=e=>{const n=e===void 0?window:e;return ca().browser.isFirefox()?te.none():te.from(n.visualViewport)},Pr=(e,n,o,a)=>({x:e,y:n,width:o,height:a,right:e+o,bottom:n+a}),zc=e=>{const n=e===void 0?window:e,o=n.document,a=ko(Ye.fromDom(o));return ei(n).fold(()=>{const c=n.document.documentElement,m=c.clientWidth,p=c.clientHeight;return Pr(a.left,a.top,m,p)},c=>Pr(Math.max(c.pageLeft,a.left),Math.max(c.pageTop,a.top),c.width,c.height))},rf=(e,n)=>Je(ma(e),n),sm=(e,n)=>{let o=[];return xe(ma(e),a=>{n(a)&&(o=o.concat([a])),o=o.concat(sm(a,n))}),o},bi=(e,n)=>Km(n,e),q1=(e,n,o)=>Ga(e,n,o).isSome(),lp=(e,n)=>tm(e,n).isSome(),Uv=(e,n)=>ji(e,n).isSome();class Na{constructor(n,o){this.node=n,this.rootNode=o,this.current=this.current.bind(this),this.next=this.next.bind(this),this.prev=this.prev.bind(this),this.prev2=this.prev2.bind(this)}current(){return this.node}next(n){return this.node=this.findSibling(this.node,"firstChild","nextSibling",n),this.node}prev(n){return this.node=this.findSibling(this.node,"lastChild","previousSibling",n),this.node}prev2(n){return this.node=this.findPreviousNode(this.node,n),this.node}findSibling(n,o,a,c){if(n){if(!c&&n[o])return n[o];if(n!==this.rootNode){let m=n[a];if(m)return m;for(let p=n.parentNode;p&&p!==this.rootNode;p=p.parentNode)if(m=p[a],m)return m}}}findPreviousNode(n,o){if(n){const a=n.previousSibling;if(this.rootNode&&a===this.rootNode)return;if(a){if(!o){for(let m=a.lastChild;m;m=m.lastChild)if(!m.lastChild)return m}return a}const c=n.parentNode;if(c&&c!==this.rootNode)return c}}}const Gr="\uFEFF",ea="",Wu=e=>e===Gr,af=e=>e.replace(/\uFEFF/g,""),cp=/^[ \t\r\n]*$/,lc=e=>cp.test(e),vl=e=>{for(const n of e)if(!Wu(n))return!1;return!0},qm=e=>" \f	\v".indexOf(e)!==-1,lf=e=>e===`
`||e==="\r",Jx=(e,n)=>n<e.length&&n>=0?lf(e[n]):!1,up=(e,n=4,o=!0,a=!0)=>{const c=bn(" ",n),m=e.replace(/\t/g,c);return pn(m,(S,T)=>qm(T)||T===ea?S.pcIsSpace||S.str===""&&o||S.str.length===m.length-1&&a||Jx(m,S.str.length+1)?{pcIsSpace:!1,str:S.str+ea}:{pcIsSpace:!0,str:S.str+" "}:{pcIsSpace:lf(T),str:S.str+T},{pcIsSpace:!1,str:""}).str},vd=e=>n=>!!n&&n.nodeType===e,cf=e=>!!e&&!Object.getPrototypeOf(e),Un=vd(1),Hc=e=>Un(e)&&bl(Ye.fromDom(e)),dp=e=>Un(e)&&e.namespaceURI==="http://www.w3.org/2000/svg",uf=e=>{const n=e.toLowerCase();return o=>Ce(o)&&o.nodeName.toLowerCase()===n},pa=e=>{const n=e.map(o=>o.toLowerCase());return o=>{if(o&&o.nodeName){const a=o.nodeName.toLowerCase();return Se(n,a)}return!1}},Uc=(e,n)=>{const o=n.toLowerCase().split(" ");return a=>{if(Un(a)){const c=a.ownerDocument.defaultView;if(c)for(let m=0;m<o.length;m++){const p=c.getComputedStyle(a,null);if((p?p.getPropertyValue(e):null)===o[m])return!0}}return!1}},Ym=e=>n=>Un(n)&&n.hasAttribute(e),df=e=>Un(e)&&e.hasAttribute("data-mce-bogus"),Sb=e=>Un(e)&&e.getAttribute("data-mce-bogus")==="all",mu=e=>Un(e)&&e.tagName==="TABLE",qg=e=>n=>!!(Hc(n)&&(n.contentEditable===e||n.getAttribute("data-mce-contenteditable")===e)),Yg=pa(["textarea","input"]),on=vd(3),Wv=vd(4),ff=vd(7),Wo=vd(8),Xn=vd(9),mf=vd(11),Ar=uf("br"),Wc=uf("img"),Kc=qg("true"),To=qg("false"),Xg=pa(["td","th"]),Y1=pa(["td","th","caption"]),Lt=pa(["video","audio","object","embed"]),Kv=uf("li"),Jg=uf("details"),Qg=uf("summary"),Xm={skipBogus:!0,includeZwsp:!1,checkRootAsContent:!1},rm=(e,n,o)=>{const a=Ye.fromDom(n),c=Ye.fromDom(e),m=o.getWhitespaceElements();return q1(c,S=>So(m,hs(S)),rt(us,a))},X1=e=>Un(e)&&e.nodeName==="A"&&!e.hasAttribute("href")&&(e.hasAttribute("name")||e.hasAttribute("id")),gf=(e,n)=>Un(e)&&So(n.getNonEmptyElements(),e.nodeName),hr=Ym("data-mce-bookmark"),Ku=e=>of(Ye.fromDom(e)).exists(n=>!Sr(n)),fp=(e,n,o)=>lc(e.data)&&!rm(e,n,o),gu=(e,n,o,a)=>on(e)&&!fp(e,n,o)&&(!a.includeZwsp||!vl(e.data)),im=(e,n,o,a)=>Te(a.isContent)&&a.isContent(n)||gf(n,e)||hr(n)||X1(n)||gu(n,o,e,a)||To(n)||Kc(n)&&Ku(n),cc=(e,n,o)=>{const a={...Xm,...o};if(a.checkRootAsContent&&im(e,n,n,a))return!1;let c=n.firstChild,m=0;if(!c)return!0;const p=new Na(c,n);do{if(a.skipBogus&&Un(c)){const S=c.getAttribute("data-mce-bogus");if(S){c=p.next(S==="all");continue}}if(Wo(c)){c=p.next(!0);continue}if(Ar(c)){m++,c=p.next();continue}if(im(e,c,n,a))return!1;c=p.next()}while(c);return m<=1},Nr=(e,n,o)=>cc(e,n.dom,{checkRootAsContent:!0,...o}),am=(e,n,o)=>im(e,n,n,{includeZwsp:Xm.includeZwsp,...o}),Fi=e=>{let n=e;return{get:()=>n,set:c=>{n=c}}},_b=e=>{const n=Fi(te.none()),o=()=>n.get().each(e);return{clear:()=>{o(),n.set(te.none())},isSet:()=>n.get().isSome(),get:()=>n.get(),set:S=>{o(),n.set(te.some(S))}}},jc=e=>{const n=Fi(te.none()),o=()=>n.get().each(S=>clearInterval(S));return{clear:()=>{o(),n.set(te.none())},isSet:()=>n.get().isSome(),get:()=>n.get(),set:S=>{o(),n.set(te.some(setInterval(S,e)))}}},Ai=()=>{const e=_b(gt);return{...e,on:o=>e.get().each(o)}},an=e=>{const n=e.toLowerCase();return n==="svg"?"svg":n==="math"?"math":"html"},lm=e=>an(e)!=="html",Zi=e=>lm(e.nodeName),P=e=>an(e.nodeName),z=["svg","math"],ue=()=>{const e=Ai(),n=()=>e.get().map(P).getOr("html");return{track:c=>(Zi(c)?e.set(c):e.get().exists(m=>!m.contains(c))&&e.clear(),n()),current:n,reset:()=>{e.clear()}}},Ae="data-mce-block",ot=e=>Je(tn(e),n=>!/[A-Z]/.test(n)),Vt=e=>Ke(ot(e),n=>{const o=CSS.escape(n);return`${o}:`+Ke(z,a=>`not(${a} ${o})`).join(":")}).join(","),un=(e,n)=>Ce(n.querySelector(e))?(n.setAttribute(Ae,"true"),n.getAttribute("data-mce-selected")==="inline-boundary"&&n.removeAttribute("data-mce-selected"),!0):(n.removeAttribute(Ae),!1),$n=(e,n)=>{const o=Vt(e.getTransparentElements()),a=Vt(e.getBlockElements());return Je(n.querySelectorAll(o),c=>un(a,c))},Vn=(e,n,o)=>{var a;const c=o?"lastChild":"firstChild";for(let m=n[c];m;m=m[c])if(cc(e,m,{checkRootAsContent:!0})){(a=m.parentNode)===null||a===void 0||a.removeChild(m);return}},Ko=(e,n,o)=>{const a=document.createRange(),c=n.parentNode;if(c){a.setStartBefore(n),a.setEndBefore(o);const m=a.extractContents();Vn(e,m,!0),a.setStartAfter(o),a.setEndAfter(n);const p=a.extractContents();Vn(e,p,!1),cc(e,m,{checkRootAsContent:!0})||c.insertBefore(m,n),cc(e,o,{checkRootAsContent:!0})||c.insertBefore(o,n),cc(e,p,{checkRootAsContent:!0})||c.insertBefore(p,n),c.removeChild(n)}},Fo=(e,n,o)=>{const a=e.getBlockElements(),c=Ye.fromDom(n),m=S=>hs(S)in a,p=S=>us(S,c);xe(Nl(o),S=>{Ga(S,m,p).each(T=>{const V=rf(S,X=>m(X)&&!e.isValidChild(hs(T),hs(X)));if(V.length>0){const X=of(T);xe(V,ee=>{Ga(ee,m,p).each(ae=>{Ko(e,ae.dom,ee.dom)})}),X.each(ee=>$n(e,ee.dom))}})})},es=(e,n,o)=>{xe([...o,...hu(e,n)?[n]:[]],a=>xe(bi(Ye.fromDom(a),a.nodeName.toLowerCase()),c=>{eh(e,c.dom)&&ga(c)}))},Qo=(e,n)=>{const o=$n(e,n);Fo(e,n,o),es(e,n,o)},ci=(e,n)=>{if(cm(e,n)){const o=Vt(e.getBlockElements());un(o,n)}},Ja=(e,n,o)=>{const a=m=>us(m,Ye.fromDom(n)),c=jm(Ye.fromDom(o),a);aa(c,c.length-2).filter(Qr).fold(()=>Qo(e,n),m=>Qo(e,m.dom))},qr=e=>e.hasAttribute(Ae),ju=(e,n)=>So(e.getTransparentElements(),n),cm=(e,n)=>Un(n)&&ju(e,n.nodeName),hu=(e,n)=>cm(e,n)&&qr(n),eh=(e,n)=>cm(e,n)&&!qr(n),yd=(e,n)=>n.type===1&&ju(e,n.name)&&de(n.attr(Ae)),mp=ca().browser,Jm=e=>An(e,Qr),um=e=>mp.isFirefox()&&hs(e)==="table"?Jm(ma(e)).filter(n=>hs(n)==="caption").bind(n=>Jm(Qf(n)).map(o=>{const a=o.dom.offsetTop,c=n.dom.offsetTop,m=n.dom.offsetHeight;return a<=c?-m:0})).getOr(0):0,kb=(e,n)=>e.children&&Se(e.children,n),jv=(e,n,o)=>{let a=0,c=0;const m=e.ownerDocument;if(o=o||e,n){if(o===e&&n.getBoundingClientRect&&$r(Ye.fromDom(e),"position")==="static"){const S=n.getBoundingClientRect();return a=S.left+(m.documentElement.scrollLeft||e.scrollLeft)-m.documentElement.clientLeft,c=S.top+(m.documentElement.scrollTop||e.scrollTop)-m.documentElement.clientTop,{x:a,y:c}}let p=n;for(;p&&p!==o&&p.nodeType&&!kb(p,o);){const S=p;a+=S.offsetLeft||0,c+=S.offsetTop||0,p=S.offsetParent}for(p=n.parentNode;p&&p!==o&&p.nodeType&&!kb(p,o);)a-=p.scrollLeft||0,c-=p.scrollTop||0,p=p.parentNode;c+=um(Ye.fromDom(n))}return{x:a,y:c}},ps=(e,n={})=>{let o=0;const a={},c=Ye.fromDom(e),m=Cc(c),p=nt=>{n.referrerPolicy=nt},S=nt=>{n.contentCssCors=nt},T=nt=>{Vr(em(c),nt)},V=nt=>{const ut=em(c);Ht(ut,"#"+nt).each(Hs)},X=nt=>Zs(a,nt).getOrThunk(()=>({id:"mce-u"+o++,passed:[],failed:[],count:0})),ee=nt=>new Promise((ut,at)=>{let kt;const qt=dn._addCacheSuffix(nt),gn=X(qt);a[qt]=gn,gn.count++;const Pn=(Hn,so)=>{xe(Hn,Yt),gn.status=so,gn.passed=[],gn.failed=[],kt&&(kt.onload=null,kt.onerror=null,kt=null)},$t=()=>Pn(gn.passed,2),Rt=()=>Pn(gn.failed,3);if(ut&&gn.passed.push(ut),at&&gn.failed.push(at),gn.status===1)return;if(gn.status===2){$t();return}if(gn.status===3){Rt();return}gn.status=1;const Zt=Ye.fromTag("link",m.dom);Ka(Zt,{rel:"stylesheet",type:"text/css",id:gn.id}),n.contentCssCors&&Ei(Zt,"crossOrigin","anonymous"),n.referrerPolicy&&Ei(Zt,"referrerpolicy",n.referrerPolicy),kt=Zt.dom,kt.onload=$t,kt.onerror=Rt,T(Zt),Ei(Zt,"href",qt)}),ae=(nt,ut)=>{const at=X(nt);a[nt]=at,at.count++;const kt=Ye.fromTag("style",m.dom);Ka(kt,{rel:"stylesheet",type:"text/css",id:at.id}),kt.dom.innerHTML=ut,T(kt)},we=nt=>Promise.allSettled(Ke(nt,at=>ee(at).then(ft(at)))).then(at=>{const kt=Fe(at,qt=>qt.status==="fulfilled");return kt.fail.length>0?Promise.reject(Ke(kt.fail,qt=>qt.reason)):Ke(kt.pass,qt=>qt.value)}),Ne=nt=>{const ut=dn._addCacheSuffix(nt);Zs(a,ut).each(at=>{--at.count===0&&(delete a[ut],V(at.id))})};return{load:ee,loadRawCss:ae,loadAll:we,unload:Ne,unloadRawCss:nt=>{Zs(a,nt).each(ut=>{--ut.count===0&&(delete a[nt],V(ut.id))})},unloadAll:nt=>{xe(nt,ut=>{Ne(ut)})},_setReferrerPolicy:p,_setContentCssCors:S}},Qa=(()=>{const e=new WeakMap;return{forElement:(o,a)=>{const m=du(o).dom;return te.from(e.get(m)).getOrThunk(()=>{const p=ps(m,a);return e.set(m,p),p})}}})(),Gl=e=>e.nodeName.toLowerCase()==="span",Zv=(e,n)=>Ce(e)&&(am(n,e)||n.isInline(e.nodeName.toLowerCase())),Gv=(e,n,o)=>{const a=new Na(e,n).prev(!1),c=new Na(e,n).next(!1),m=Qe(a)||Zv(a,o),p=Qe(c)||Zv(c,o);return m&&p},dm=e=>Gl(e)&&e.getAttribute("data-mce-type")==="bookmark",th=(e,n,o)=>on(e)&&e.data.length>0&&Gv(e,n,o),Qx=e=>Un(e)?e.childNodes.length>0:!1,qv=e=>mf(e)||Xn(e),Eb=(e,n,o,a)=>{var c;const m=a||n;if(Un(n)&&dm(n))return n;const p=n.childNodes;for(let S=p.length-1;S>=0;S--)Eb(e,p[S],o,m);if(Un(n)){const S=n.childNodes;S.length===1&&dm(S[0])&&((c=n.parentNode)===null||c===void 0||c.insertBefore(S[0],n))}return!qv(n)&&!am(o,n)&&!Qx(n)&&!th(n,m,o)&&e.remove(n),n},ew=dn.makeMap,Yv=/[&<>\"\u0060\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Xv=/[<>&\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,nh=/[<>&\"\']/g,Tb=/&#([a-z0-9]+);?|&([a-z0-9]+);/gi,tw={128:"",130:"",131:"",132:"",133:"",134:"",135:"",136:"",137:"",138:"",139:"",140:"",142:"",145:"",146:"",147:"",148:"",149:"",150:"",151:"",152:"",153:"",154:"",155:"",156:"",158:"",159:""},fm={'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;","&":"&amp;","`":"&#96;"},gp={"&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"',"&apos;":"'"},hp=e=>{const n=Ye.fromTag("div").dom;return n.innerHTML=e,n.textContent||n.innerText||e},mm=(e,n)=>{const o={};if(e){const a=e.split(",");n=n||10;for(let c=0;c<a.length;c+=2){const m=String.fromCharCode(parseInt(a[c],n));if(!fm[m]){const p="&"+a[c+1]+";";o[m]=p,o[p]=m}}return o}else return},Qm=mm("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32),Jv=(e,n)=>e.replace(n?Yv:Xv,o=>fm[o]||o),qE=e=>(""+e).replace(nh,n=>fm[n]||n),Qv=(e,n)=>e.replace(n?Yv:Xv,o=>o.length>1?"&#"+((o.charCodeAt(0)-55296)*1024+(o.charCodeAt(1)-56320)+65536)+";":fm[o]||"&#"+o.charCodeAt(0)+";"),Zu=(e,n,o)=>{const a=o||Qm;return e.replace(n?Yv:Xv,c=>fm[c]||a[c]||c)},pp={encodeRaw:Jv,encodeAllRaw:qE,encodeNumeric:Qv,encodeNamed:Zu,getEncodeFunc:(e,n)=>{const o=mm(n)||Qm,a=(p,S)=>p.replace(S?Yv:Xv,T=>fm[T]!==void 0?fm[T]:o[T]!==void 0?o[T]:T.length>1?"&#"+((T.charCodeAt(0)-55296)*1024+(T.charCodeAt(1)-56320)+65536)+";":"&#"+T.charCodeAt(0)+";"),c=(p,S)=>Zu(p,S,o),m=ew(e.replace(/\+/g,","));return m.named&&m.numeric?a:m.named?n?c:Zu:m.numeric?Qv:Jv},decode:e=>e.replace(Tb,(n,o)=>o?(o.charAt(0).toLowerCase()==="x"?o=parseInt(o.substr(1),16):o=parseInt(o,10),o>65535?(o-=65536,String.fromCharCode(55296+(o>>10),56320+(o&1023))):tw[o]||String.fromCharCode(o)):gp[n]||Qm[n]||hp(n))},el=(e,n)=>(e=dn.trim(e),e?e.split(n||" "):[]),bp=e=>new RegExp("^"+e.replace(/([?+*])/g,".$1")+"$"),vp=e=>q(e)&&e.source&&Object.prototype.toString.call(e)==="[object RegExp]",J1=e=>{const n=o=>oe(o)?Ke(o,n):vp(o)?new RegExp(o.source,o.flags):q(o)?Wl(o,n):o;return n(e)},_s=e=>{const n=/^(~)?(.+)$/;return Jo(el(e,","),o=>{const a=n.exec(o);if(a){const m=a[1]==="~"?"span":"div",p=a[2];return[{cloneName:m,name:p}]}else return[]})},uc=e=>Object.freeze(["id","accesskey","class","dir","lang","style","tabindex","title","role",...e!=="html4"?["contenteditable","contextmenu","draggable","dropzone","hidden","spellcheck","translate","itemprop","itemscope","itemtype"]:[],...e!=="html5-strict"?["xml:lang"]:[]]),hf=e=>{let n,o;n="address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul",o="a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd label map noscript object q s samp script select small span strong sub sup textarea u var #text #comment",e!=="html4"&&(n+=" article aside details dialog figure main header footer hgroup section nav "+"a ins del canvas map",o+=" audio canvas command data datalist mark meter output picture progress time wbr video ruby bdi keygen svg"),e!=="html5-strict"&&(o=[o,"acronym applet basefont big font strike tt"].join(" "),n=[n,"center dir isindex noframes"].join(" "));const a=[n,o].join(" ");return{blockContent:n,phrasingContent:o,flowContent:a}},yl=e=>{const{blockContent:n,phrasingContent:o,flowContent:a}=hf(e),c=m=>Object.freeze(m.split(" "));return Object.freeze({blockContent:c(n),phrasingContent:c(o),flowContent:c(a)})},pr={html4:ml(()=>yl("html4")),html5:ml(()=>yl("html5")),"html5-strict":ml(()=>yl("html5-strict"))},e0=(e,n)=>{const{blockContent:o,phrasingContent:a,flowContent:c}=pr[e]();return n==="blocks"?te.some(o):n==="phrasing"?te.some(a):n==="flow"?te.some(c):te.none()},nS=e=>{const n=uc(e),{phrasingContent:o,flowContent:a}=hf(e),c={},m=(T,V,X)=>{c[T]={attributes:ri(V,ft({})),attributesOrder:V,children:ri(X,ft({}))}},p=(T,V="",X="")=>{const ee=el(X),ae=el(T);let we=ae.length;const Ne=[...n,...el(V)];for(;we--;)m(ae[we],Ne.slice(),ee)},S=(T,V)=>{const X=el(T),ee=el(V);let ae=X.length;for(;ae--;){const we=c[X[ae]];for(let Ne=0,ke=ee.length;Ne<ke;Ne++)we.attributes[ee[Ne]]={},we.attributesOrder.push(ee[Ne])}};return e!=="html5-strict"&&(xe(el("acronym applet basefont big font strike tt"),X=>{p(X,"",o)}),xe(el("center dir isindex noframes"),X=>{p(X,"",a)})),p("html","manifest","head body"),p("head","","base command link meta noscript script style title"),p("title hr noscript br"),p("base","href target"),p("link","href rel media hreflang type sizes hreflang"),p("meta","name http-equiv content charset"),p("style","media type scoped"),p("script","src async defer type charset"),p("body","onafterprint onbeforeprint onbeforeunload onblur onerror onfocus onhashchange onload onmessage onoffline ononline onpagehide onpageshow onpopstate onresize onscroll onstorage onunload",a),p("dd div","",a),p("address dt caption","",e==="html4"?o:a),p("h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn","",o),p("blockquote","cite",a),p("ol","reversed start type","li"),p("ul","","li"),p("li","value",a),p("dl","","dt dd"),p("a","href target rel media hreflang type",e==="html4"?o:a),p("q","cite",o),p("ins del","cite datetime",a),p("img","src sizes srcset alt usemap ismap width height"),p("iframe","src name width height",a),p("embed","src type width height"),p("object","data type typemustmatch name usemap form width height",[a,"param"].join(" ")),p("param","name value"),p("map","name",[a,"area"].join(" ")),p("area","alt coords shape href target rel media hreflang type"),p("table","border","caption colgroup thead tfoot tbody tr"+(e==="html4"?" col":"")),p("colgroup","span","col"),p("col","span"),p("tbody thead tfoot","","tr"),p("tr","","td th"),p("td","colspan rowspan headers",a),p("th","colspan rowspan headers scope abbr",a),p("form","accept-charset action autocomplete enctype method name novalidate target",a),p("fieldset","disabled form name",[a,"legend"].join(" ")),p("label","form for",o),p("input","accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate formtarget height list max maxlength min multiple name pattern readonly required size src step type value width"),p("button","disabled form formaction formenctype formmethod formnovalidate formtarget name type value",e==="html4"?a:o),p("select","disabled form multiple name required size","option optgroup"),p("optgroup","disabled label","option"),p("option","disabled label selected value"),p("textarea","cols dirname disabled form maxlength name readonly required rows wrap"),p("menu","type label",[a,"li"].join(" ")),p("noscript","",a),e!=="html4"&&(p("wbr"),p("ruby","",[o,"rt rp"].join(" ")),p("figcaption","",a),p("mark rt rp bdi","",o),p("summary","",[o,"h1 h2 h3 h4 h5 h6"].join(" ")),p("canvas","width height",a),p("data","value",o),p("video","src crossorigin poster preload autoplay mediagroup loop muted controls width height buffered",[a,"track source"].join(" ")),p("audio","src crossorigin preload autoplay mediagroup loop muted controls buffered volume",[a,"track source"].join(" ")),p("picture","","img source"),p("source","src srcset type media sizes"),p("track","kind src srclang label default"),p("datalist","",[o,"option"].join(" ")),p("article section nav aside main header footer","",a),p("hgroup","","h1 h2 h3 h4 h5 h6"),p("figure","",[a,"figcaption"].join(" ")),p("time","datetime",o),p("dialog","open",a),p("command","type label icon disabled checked radiogroup command"),p("output","for form name",o),p("progress","value max",o),p("meter","value min max low high optimum",o),p("details","open",[a,"summary"].join(" ")),p("keygen","autofocus challenge disabled form keytype name"),m("svg","id tabindex lang xml:space class style x y width height viewBox preserveAspectRatio zoomAndPan transform".split(" "),[])),e!=="html5-strict"&&(S("script","language xml:space"),S("style","xml:space"),S("object","declare classid code codebase codetype archive standby align border hspace vspace"),S("embed","align name hspace vspace"),S("param","valuetype type"),S("a","charset name rev shape coords"),S("br","clear"),S("applet","codebase archive code object alt name width height align hspace vspace"),S("img","name longdesc align border hspace vspace"),S("iframe","longdesc frameborder marginwidth marginheight scrolling align"),S("font basefont","size color face"),S("input","usemap align"),S("select"),S("textarea"),S("h1 h2 h3 h4 h5 h6 div p legend caption","align"),S("ul","type compact"),S("li","type"),S("ol dl menu dir","compact"),S("pre","width xml:space"),S("hr","align noshade size width"),S("isindex","prompt"),S("table","summary width frame rules cellspacing cellpadding align bgcolor"),S("col","width align char charoff valign"),S("colgroup","width align char charoff valign"),S("thead","align char charoff valign"),S("tr","align char charoff valign bgcolor"),S("th","axis align char charoff valign nowrap bgcolor width height"),S("form","accept"),S("td","abbr axis scope align char charoff valign nowrap bgcolor width height"),S("tfoot","align char charoff valign"),S("tbody","align char charoff valign"),S("area","nohref"),S("body","background bgcolor text link vlink alink")),e!=="html4"&&(S("input button select textarea","autofocus"),S("input textarea","placeholder"),S("a","download"),S("link script img","crossorigin"),S("img","loading"),S("iframe","sandbox seamless allow allowfullscreen loading referrerpolicy")),e!=="html4"&&xe([c.video,c.audio],T=>{delete T.children.audio,delete T.children.video}),xe(el("a form meter progress dfn"),T=>{c[T]&&delete c[T].children[T]}),delete c.caption.children.table,delete c.script,c},YE=e=>e==="-"?"remove":"add",Mr=e=>{const n=/^(@?)([A-Za-z0-9_\-.\u00b7\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u037d\u037f-\u1fff\u200c-\u200d\u203f-\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]+)$/;return te.from(n.exec(e)).map(o=>({preset:o[1]==="@",name:o[2]}))},Q1=e=>{const n=/^([+\-]?)([A-Za-z0-9_\-.\u00b7\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u037d\u037f-\u1fff\u200c-\u200d\u203f-\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]+)\[([^\]]+)]$/;return Jo(el(e,","),o=>{const a=n.exec(o);if(a){const c=a[1],m=c?YE(c):"replace",p=a[2],S=Jo(el(a[3],"|"),T=>Mr(T).toArray());return[{operation:m,name:p,validChildren:S}]}else return[]})},ow=(e,n)=>{const o=/^([!\-])?(\w+[\\:]:\w+|[^=~<]+)?(?:([=~<])(.*))?$/,a=/[*?+]/,{attributes:c,attributesOrder:m}=n;return xe(el(e,"|"),p=>{const S=o.exec(p);if(S){const T={},V=S[1],X=S[2].replace(/[\\:]:/g,":"),ee=S[3],ae=S[4];if(V==="!"&&(n.attributesRequired=n.attributesRequired||[],n.attributesRequired.push(X),T.required=!0),V==="-"){delete c[X],m.splice(dn.inArray(m,X),1);return}if(ee&&(ee==="="?(n.attributesDefault=n.attributesDefault||[],n.attributesDefault.push({name:X,value:ae}),T.defaultValue=ae):ee==="~"?(n.attributesForced=n.attributesForced||[],n.attributesForced.push({name:X,value:ae}),T.forcedValue=ae):ee==="<"&&(T.validValues=dn.makeMap(ae,"?"))),a.test(X)){const we=T;n.attributePatterns=n.attributePatterns||[],we.pattern=bp(X),n.attributePatterns.push(we)}else c[X]||m.push(X),c[X]=T}})},oh=(e,n)=>{Go(e.attributes,(o,a)=>{n.attributes[a]=o}),n.attributesOrder.push(...e.attributesOrder)},Gu=(e,n)=>{const o=/^([#+\-])?([^\[!\/]+)(?:\/([^\[!]+))?(?:(!?)\[([^\]]+)])?$/;return Jo(el(n,","),a=>{const c=o.exec(a);if(c){const m=c[1],p=c[2],S=c[3],T=c[4],V=c[5],X={attributes:{},attributesOrder:[]};if(e.each(ee=>oh(ee,X)),m==="#"?X.paddEmpty=!0:m==="-"&&(X.removeEmpty=!0),T==="!"&&(X.removeEmptyAttrs=!0),V&&ow(V,X),S&&(X.outputName=p),p==="@")if(e.isNone())e=te.some(X);else return[];return[S?{name:p,element:X,aliasName:S}:{name:p,element:X}]}else return[]})},Ab={},Nn=dn.makeMap,xd=dn.each,sw=dn.extend,ey=dn.explode,Ob=(e,n={})=>{const o=Nn(e," ",Nn(e.toUpperCase()," "));return sw(o,n)},ty=e=>Ob("td th li dt dd figcaption caption details summary",e.getTextBlockElements()),yp=(e,n)=>{if(e){const o={};return de(e)&&(e={"*":e}),xd(e,(a,c)=>{o[c]=o[c.toUpperCase()]=n==="map"?Nn(a,/[, ]/):ey(a,/[, ]/)}),o}else return},qu=(e={})=>{var n;const o={},a={};let c=[];const m={},p={},S=(ao,Ps,wi)=>{const Yi=e[ao];if(Yi)return Nn(Yi,/[, ]/,Nn(Yi.toUpperCase(),/[, ]/));{let $a=Ab[ao];return $a||($a=Ob(Ps,wi),Ab[ao]=$a),$a}},T=(n=e.schema)!==null&&n!==void 0?n:"html5",V=nS(T);e.verify_html===!1&&(e.valid_elements="*[*]");const X=yp(e.valid_styles),ee=yp(e.invalid_styles,"map"),ae=yp(e.valid_classes,"map"),we=S("whitespace_elements","pre script noscript style textarea video audio iframe object code"),Ne=S("self_closing_elements","colgroup dd dt li option p td tfoot th thead tr"),ke=S("void_elements","area base basefont br col frame hr img input isindex link meta param embed source wbr track"),$e=S("boolean_attributes","checked compact declare defer disabled ismap multiple nohref noresize noshade nowrap readonly selected autoplay loop controls allowfullscreen"),nt="td th iframe video audio object script code",ut=S("non_empty_elements",nt+" pre svg textarea summary",ke),at=S("move_caret_before_on_enter_elements",nt+" table",ke),kt="h1 h2 h3 h4 h5 h6",qt=S("text_block_elements",kt+" p div address pre form blockquote center dir fieldset header footer article section hgroup aside main nav figure"),gn=S("block_elements","hr table tbody thead tfoot th tr td li ol ul caption dl dt dd noscript menu isindex option datalist select optgroup figcaption details summary html body multicol listing",qt),Pn=S("text_inline_elements","span strong b em i font s strike u var cite dfn code mark q sup sub samp"),$t=S("transparent_elements","a ins del canvas map"),Rt=S("wrap_block_elements","pre "+kt);xd("script noscript iframe noframes noembed title style textarea xmp plaintext".split(" "),ao=>{p[ao]=new RegExp("</"+ao+"[^>]*>","gi")});const Zt=ao=>{const Ps=te.from(o["@"]),wi=/[*?+]/;xe(Gu(Ps,ao??""),({name:Yi,element:$a,aliasName:tc})=>{if(tc&&(o[tc]=$a),wi.test(Yi)){const xa=$a;xa.pattern=bp(Yi),c.push(xa)}else o[Yi]=$a})},Hn=ao=>{c=[],xe(tn(o),Ps=>{delete o[Ps]}),Zt(ao)},so=(ao,Ps)=>{var wi,Yi;delete Ab.text_block_elements,delete Ab.block_elements;const $a=Ps.extends?!Pf(Ps.extends):!1,tc=Ps.extends;if(a[ao]=tc?a[tc]:{},m[ao]=tc??ao,ut[ao.toUpperCase()]={},ut[ao]={},$a||(gn[ao.toUpperCase()]={},gn[ao]={}),tc&&!o[ao]&&o[tc]){const xa=J1(o[tc]);delete xa.removeEmptyAttrs,delete xa.removeEmpty,o[ao]=xa}else o[ao]={attributesOrder:[],attributes:{}};if(oe(Ps.attributes)){const xa=ku=>{wa.attributesOrder.push(ku),wa.attributes[ku]={}},wa=(wi=o[ao])!==null&&wi!==void 0?wi:{};delete wa.attributesDefault,delete wa.attributesForced,delete wa.attributePatterns,delete wa.attributesRequired,wa.attributesOrder=[],wa.attributes={},xe(Ps.attributes,ku=>{const Vh=uc(T);Mr(ku).each(({preset:zh,name:Hh})=>{zh?Hh==="global"&&xe(Vh,xa):xa(Hh)})}),o[ao]=wa}if(Ue(Ps.padEmpty)){const xa=(Yi=o[ao])!==null&&Yi!==void 0?Yi:{};xa.paddEmpty=Ps.padEmpty,o[ao]=xa}if(oe(Ps.children)){const xa={},wa=Vh=>{xa[Vh]={}},ku=Vh=>{e0(T,Vh).each(zh=>{xe(zh,wa)})};xe(Ps.children,Vh=>{Mr(Vh).each(({preset:zh,name:Hh})=>{zh?ku(Hh):wa(Hh)})}),a[ao]=xa}tc&&Go(a,(xa,wa)=>{xa[tc]&&(a[wa]=xa=sw({},a[wa]),xa[ao]=xa[tc])})},rs=ao=>{xe(_s(ao??""),({name:Ps,cloneName:wi})=>{so(Ps,{extends:wi})})},fs=ao=>{q(ao)?Go(ao,(Ps,wi)=>so(wi,Ps)):de(ao)&&rs(ao)},Js=ao=>{xe(Q1(ao??""),({operation:Ps,name:wi,validChildren:Yi})=>{const $a=Ps==="replace"?{"#comment":{}}:a[wi],tc=wa=>{Ps==="remove"?delete $a[wa]:$a[wa]={}},xa=wa=>{e0(T,wa).each(ku=>{xe(ku,tc)})};xe(Yi,({preset:wa,name:ku})=>{wa?xa(ku):tc(ku)}),a[wi]=$a})},cr=ao=>{const Ps=o[ao];if(Ps)return Ps;let wi=c.length;for(;wi--;){const Yi=c[wi];if(Yi.pattern.test(ao))return Yi}},Vi=()=>{e.valid_elements?(Hn(e.valid_elements),xd(V,(ao,Ps)=>{a[Ps]=ao.children})):(xd(V,(ao,Ps)=>{o[Ps]={attributes:ao.attributes,attributesOrder:ao.attributesOrder},a[Ps]=ao.children}),xd(el("strong/b em/i"),ao=>{const Ps=el(ao,"/");o[Ps[1]].outputName=Ps[0]}),xd(Pn,(ao,Ps)=>{o[Ps]&&(e.padd_empty_block_inline_children&&(o[Ps].paddInEmptyBlock=!0),o[Ps].removeEmpty=!0)}),xd(el("ol ul blockquote a table tbody"),ao=>{o[ao]&&(o[ao].removeEmpty=!0)}),xd(el("p h1 h2 h3 h4 h5 h6 th td pre div address caption li summary"),ao=>{o[ao]&&(o[ao].paddEmpty=!0)}),xd(el("span"),ao=>{o[ao].removeEmptyAttrs=!0})),delete o.svg,fs(e.custom_elements),Js(e.valid_children),Zt(e.extended_valid_elements),Js("+ol[ul|ol],+ul[ul|ol]"),xd({dd:"dl",dt:"dl",li:"ul ol",td:"tr",th:"tr",tr:"tbody thead tfoot",tbody:"table",thead:"table",tfoot:"table",legend:"fieldset",area:"map",param:"video audio object"},(ao,Ps)=>{o[Ps]&&(o[Ps].parentsRequired=el(ao))}),e.invalid_elements&&xd(ey(e.invalid_elements),ao=>{o[ao]&&delete o[ao]}),cr("span")||Zt("span[!data-mce-type|*]")},vc=ft(X),yr=ft(ee),wn=ft(ae),to=ft($e),Us=ft(gn),kn=ft(qt),ho=ft(Pn),ls=ft(Object.seal(ke)),Dn=ft(Ne),is=ft(ut),bs=ft(at),Sl=ft(we),lr=ft($t),al=ft(Rt),kg=ft(Object.seal(p)),ob=(ao,Ps)=>{const wi=a[ao.toLowerCase()];return!!(wi&&wi[Ps.toLowerCase()])},_u=(ao,Ps)=>{const wi=cr(ao);if(wi)if(Ps){if(wi.attributes[Ps])return!0;const Yi=wi.attributePatterns;if(Yi){let $a=Yi.length;for(;$a--;)if(Yi[$a].pattern.test(Ps))return!0}}else return!0;return!1},Pf=ao=>So(Us(),ao),Eg=ao=>!wr(ao,"#")&&_u(ao)&&!Pf(ao),Nf=ao=>So(al(),ao)||Eg(ao),Tg=ft(m);return Vi(),{type:T,children:a,elements:o,getValidStyles:vc,getValidClasses:wn,getBlockElements:Us,getInvalidStyles:yr,getVoidElements:ls,getTextBlockElements:kn,getTextInlineElements:ho,getBoolAttrs:to,getElementRule:cr,getSelfClosingElements:Dn,getNonEmptyElements:is,getMoveCaretBeforeOnEnterElements:bs,getWhitespaceElements:Sl,getTransparentElements:lr,getSpecialElements:kg,isValidChild:ob,isValid:_u,isBlock:Pf,isInline:Eg,isWrapper:Nf,getCustomElements:Tg,addValidElements:Zt,setValidElements:Hn,addCustomElements:fs,addValidChildren:Js}},XE=e=>({value:ny(e)}),ny=e=>Aa(e,"#").toUpperCase(),rw=e=>{const n=e.toString(16);return(n.length===1?"0"+n:n).toUpperCase()},oy=e=>{const n=rw(e.red)+rw(e.green)+rw(e.blue);return XE(n)},iw=/^\s*rgb\s*\(\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*(\d+)\s*\)\s*$/i,aw=/^\s*rgba\s*\(\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*((?:\d?\.\d+|\d+)%?)\s*\)\s*$/i,sy=(e,n,o,a)=>({red:e,green:n,blue:o,alpha:a}),lw=(e,n,o,a)=>{const c=parseInt(e,10),m=parseInt(n,10),p=parseInt(o,10),S=parseFloat(a);return sy(c,m,p,S)},cw=e=>iw.test(e)?"rgb":aw.test(e)?"rgba":"other",oS=e=>{const n=iw.exec(e);if(n!==null)return te.some(lw(n[1],n[2],n[3],"1"));const o=aw.exec(e);return o!==null?te.some(lw(o[1],o[2],o[3],o[4])):te.none()},JE=e=>`rgba(${e.red},${e.green},${e.blue},${e.alpha})`,t0=e=>oS(e).map(oy).map(n=>"#"+n.value).getOr(e),uw=(e={},n)=>{const o=/(?:url(?:(?:\(\s*\"([^\"]+)\"\s*\))|(?:\(\s*\'([^\']+)\'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:\'([^\']+)\')|(?:\"([^\"]+)\")/gi,a=/\s*([^:]+):\s*([^;]+);?/g,c=/\s+$/,m={};let p,S;const T=Gr;n&&(p=n.getValidStyles(),S=n.getInvalidStyles());const V=(`\\" \\' \\; \\: ; : `+T).split(" ");for(let ee=0;ee<V.length;ee++)m[V[ee]]=T+ee,m[T+ee]=V[ee];const X={parse:ee=>{const ae={};let we=!1;const Ne=e.url_converter,ke=e.url_converter_scope||X,$e=($t,Rt,Zt)=>{const Hn=ae[$t+"-top"+Rt];if(!Hn)return;const so=ae[$t+"-right"+Rt];if(!so)return;const rs=ae[$t+"-bottom"+Rt];if(!rs)return;const fs=ae[$t+"-left"+Rt];if(!fs)return;const Js=[Hn,so,rs,fs];let cr=Js.length-1;for(;cr--&&Js[cr]===Js[cr+1];);cr>-1&&Zt||(ae[$t+Rt]=cr===-1?Js[0]:Js.join(" "),delete ae[$t+"-top"+Rt],delete ae[$t+"-right"+Rt],delete ae[$t+"-bottom"+Rt],delete ae[$t+"-left"+Rt])},nt=$t=>{const Rt=ae[$t];if(!Rt)return;const Zt=Rt.indexOf(",")>-1?[Rt]:Rt.split(" ");let Hn=Zt.length;for(;Hn--;)if(Zt[Hn]!==Zt[0])return!1;return ae[$t]=Zt[0],!0},ut=($t,Rt,Zt,Hn)=>{nt(Rt)&&nt(Zt)&&nt(Hn)&&(ae[$t]=ae[Rt]+" "+ae[Zt]+" "+ae[Hn],delete ae[Rt],delete ae[Zt],delete ae[Hn])},at=$t=>(we=!0,m[$t]),kt=($t,Rt)=>(we&&($t=$t.replace(/\uFEFF[0-9]/g,Zt=>m[Zt])),Rt||($t=$t.replace(/\\([\'\";:])/g,"$1")),$t),qt=$t=>String.fromCharCode(parseInt($t.slice(1),16)),gn=$t=>$t.replace(/\\[0-9a-f]+/gi,qt),Pn=($t,Rt,Zt,Hn,so,rs)=>{if(so=so||rs,so)return so=kt(so),"'"+so.replace(/\'/g,"\\'")+"'";if(Rt=kt(Rt||Zt||Hn||""),!e.allow_script_urls){const fs=Rt.replace(/[\s\r\n]+/g,"");if(/(java|vb)script:/i.test(fs)||!e.allow_svg_data_urls&&/^data:image\/svg/i.test(fs))return""}return Ne&&(Rt=Ne.call(ke,Rt,"style")),"url('"+Rt.replace(/\'/g,"\\'")+"')"};if(ee){ee=ee.replace(/[\u0000-\u001F]/g,""),ee=ee.replace(/\\[\"\';:\uFEFF]/g,at).replace(/\"[^\"]+\"|\'[^\']+\'/g,Rt=>Rt.replace(/[;:]/g,at));let $t;for(;$t=a.exec(ee);){a.lastIndex=$t.index+$t[0].length;let Rt=$t[1].replace(c,"").toLowerCase(),Zt=$t[2].replace(c,"");if(Rt&&Zt){if(Rt=gn(Rt),Zt=gn(Zt),Rt.indexOf(T)!==-1||Rt.indexOf('"')!==-1||!e.allow_script_urls&&(Rt==="behavior"||/expression\s*\(|\/\*|\*\//.test(Zt)))continue;Rt==="font-weight"&&Zt==="700"?Zt="bold":(Rt==="color"||Rt==="background-color")&&(Zt=Zt.toLowerCase()),cw(Zt)==="rgb"&&oS(Zt).each(Hn=>{Zt=t0(JE(Hn)).toLowerCase()}),Zt=Zt.replace(o,Pn),ae[Rt]=we?kt(Zt,!0):Zt}}$e("border","",!0),$e("border","-width"),$e("border","-color"),$e("border","-style"),$e("padding",""),$e("margin",""),ut("border","border-width","border-style","border-color"),ae.border==="medium none"&&delete ae.border,ae["border-image"]==="none"&&delete ae["border-image"]}return ae},serialize:(ee,ae)=>{let we="";const Ne=($e,nt)=>{const ut=nt[$e];if(ut)for(let at=0,kt=ut.length;at<kt;at++){const qt=ut[at],gn=ee[qt];gn&&(we+=(we.length>0?" ":"")+qt+": "+gn+";")}},ke=($e,nt)=>{if(!S||!nt)return!0;let ut=S["*"];return ut&&ut[$e]?!1:(ut=S[nt],!(ut&&ut[$e]))};return ae&&p?(Ne("*",p),Ne(ae,p)):Go(ee,($e,nt)=>{$e&&ke(nt,ae)&&(we+=(we.length>0?" ":"")+nt+": "+$e+";")}),we}};return X},xp={keyLocation:!0,layerX:!0,layerY:!0,returnValue:!0,webkitMovementX:!0,webkitMovementY:!0,keyIdentifier:!0,mozPressure:!0},QE=e=>e instanceof Event||Te(e.initEvent),eT=e=>e.isDefaultPrevented===Jt||e.isDefaultPrevented===Bn,eg=e=>ct(e.preventDefault)||QE(e),sh=(e,n)=>{const o=n??{};for(const a in e)So(xp,a)||(o[a]=e[a]);return Ce(e.composedPath)&&(o.composedPath=()=>e.composedPath()),Ce(e.getModifierState)&&(o.getModifierState=a=>e.getModifierState(a)),Ce(e.getTargetRanges)&&(o.getTargetRanges=()=>e.getTargetRanges()),o},ry=(e,n,o,a)=>{var c;const m=sh(n,a);return m.type=e,ct(m.target)&&(m.target=(c=m.srcElement)!==null&&c!==void 0?c:o),eg(n)&&(m.preventDefault=()=>{m.defaultPrevented=!0,m.isDefaultPrevented=Jt,Te(n.preventDefault)&&n.preventDefault()},m.stopPropagation=()=>{m.cancelBubble=!0,m.isPropagationStopped=Jt,Te(n.stopPropagation)&&n.stopPropagation()},m.stopImmediatePropagation=()=>{m.isImmediatePropagationStopped=Jt,m.stopPropagation()},eT(m)||(m.isDefaultPrevented=m.defaultPrevented===!0?Jt:Bn,m.isPropagationStopped=m.cancelBubble===!0?Jt:Bn,m.isImmediatePropagationStopped=Bn)),m},sS="mce-data-",dw=/^(?:mouse|contextmenu)|click/,n0=(e,n,o,a)=>{e.addEventListener(n,o,a||!1)},gm=(e,n,o,a)=>{e.removeEventListener(n,o,a||!1)},iy=e=>Ce(e)&&dw.test(e.type),Gi=(e,n)=>{const o=ry(e.type,e,document,n);if(iy(e)&&Qe(e.pageX)&&!Qe(e.clientX)){const a=o.target.ownerDocument||document,c=a.documentElement,m=a.body,p=o;p.pageX=e.clientX+(c&&c.scrollLeft||m&&m.scrollLeft||0)-(c&&c.clientLeft||m&&m.clientLeft||0),p.pageY=e.clientY+(c&&c.scrollTop||m&&m.scrollTop||0)-(c&&c.clientTop||m&&m.clientTop||0)}return o},ui=(e,n,o)=>{const a=e.document,c={type:"ready"};if(o.domLoaded){n(c);return}const m=()=>a.readyState==="complete"||a.readyState==="interactive"&&a.body,p=()=>{gm(e,"DOMContentLoaded",p),gm(e,"load",p),o.domLoaded||(o.domLoaded=!0,n(c)),e=null};m()?p():n0(e,"DOMContentLoaded",p),o.domLoaded||n0(e,"load",p)};class tg{constructor(){this.domLoaded=!1,this.events={},this.count=1,this.expando=sS+(+new Date).toString(32),this.hasFocusIn="onfocusin"in document.documentElement,this.count=1}bind(n,o,a,c){const m=this;let p;const S=window,T=ae=>{m.executeHandlers(Gi(ae||S.event),V)};if(!n||on(n)||Wo(n))return a;let V;n[m.expando]?V=n[m.expando]:(V=m.count++,n[m.expando]=V,m.events[V]={}),c=c||n;const X=o.split(" ");let ee=X.length;for(;ee--;){let ae=X[ee],we=T,Ne=!1,ke=!1;if(ae==="DOMContentLoaded"&&(ae="ready"),m.domLoaded&&ae==="ready"&&n.readyState==="complete"){a.call(c,Gi({type:ae}));continue}!m.hasFocusIn&&(ae==="focusin"||ae==="focusout")&&(Ne=!0,ke=ae==="focusin"?"focus":"blur",we=$e=>{const nt=Gi($e||S.event);nt.type=nt.type==="focus"?"focusin":"focusout",m.executeHandlers(nt,V)}),p=m.events[V][ae],p?ae==="ready"&&m.domLoaded?a(Gi({type:ae})):p.push({func:a,scope:c}):(m.events[V][ae]=p=[{func:a,scope:c}],p.fakeName=ke,p.capture=Ne,p.nativeHandler=we,ae==="ready"?ui(n,we,m):n0(n,ke||ae,we,Ne))}return n=p=null,a}unbind(n,o,a){if(!n||on(n)||Wo(n))return this;const c=n[this.expando];if(c){let m=this.events[c];if(o){const p=o.split(" ");let S=p.length;for(;S--;){const T=p[S],V=m[T];if(V){if(a){let X=V.length;for(;X--;)if(V[X].func===a){const ee=V.nativeHandler,ae=V.fakeName,we=V.capture,Ne=V.slice(0,X).concat(V.slice(X+1));Ne.nativeHandler=ee,Ne.fakeName=ae,Ne.capture=we,m[T]=Ne}}(!a||V.length===0)&&(delete m[T],gm(n,V.fakeName||T,V.nativeHandler,V.capture))}}}else Go(m,(p,S)=>{gm(n,p.fakeName||S,p.nativeHandler,p.capture)}),m={};for(const p in m)if(So(m,p))return this;delete this.events[c];try{delete n[this.expando]}catch{n[this.expando]=null}}return this}fire(n,o,a){return this.dispatch(n,o,a)}dispatch(n,o,a){if(!n||on(n)||Wo(n))return this;const c=Gi({type:o,target:n},a);do{const m=n[this.expando];m&&this.executeHandlers(c,m),n=n.parentNode||n.ownerDocument||n.defaultView||n.parentWindow}while(n&&!c.isPropagationStopped());return this}clean(n){if(!n||on(n)||Wo(n))return this;if(n[this.expando]&&this.unbind(n),n.getElementsByTagName||(n=n.document),n&&n.getElementsByTagName){this.unbind(n);const o=n.getElementsByTagName("*");let a=o.length;for(;a--;)n=o[a],n[this.expando]&&this.unbind(n)}return this}destroy(){this.events={}}cancel(n){return n&&(n.preventDefault(),n.stopImmediatePropagation()),!1}executeHandlers(n,o){const a=this.events[o],c=a&&a[n.type];if(c)for(let m=0,p=c.length;m<p;m++){const S=c[m];if(S&&S.func.call(S.scope,n)===!1&&n.preventDefault(),n.isImmediatePropagationStopped())return}}}tg.Event=new tg;const fw=dn.each,ay=dn.grep,Ma="data-mce-style",ql=dn.makeMap("fill-opacity font-weight line-height opacity orphans widows z-index zoom"," "),wp=(e,n,o)=>{ct(o)||o===""?qo(e,n):Ei(e,n,o)},ng=e=>e.replace(/[A-Z]/g,n=>"-"+n.toLowerCase()),rh=(e,n)=>{let o=0;if(e)for(let a=e.nodeType,c=e.previousSibling;c;c=c.previousSibling){const m=c.nodeType;n&&on(c)&&(m===a||!c.data.length)||(o++,a=m)}return o},ly=(e,n)=>{const o=Ra(n,"style"),a=e.serialize(e.parse(o),hs(n));wp(n,Ma,a)},rS=(e,n)=>I(e)?So(ql,n)?e+"":e+"px":e,mw=(e,n,o)=>{const a=ng(n);ct(o)||o===""?$c(e,a):Ya(e,a,rS(o,a))},ih=(e,n,o)=>{const a=n.keep_values,c={set:(p,S,T)=>{const V=Ye.fromDom(p);Te(n.url_converter)&&Ce(S)&&(S=n.url_converter.call(n.url_converter_scope||o(),String(S),T,p));const X="data-mce-"+T;wp(V,X,S),wp(V,T,S)},get:(p,S)=>{const T=Ye.fromDom(p);return Ra(T,"data-mce-"+S)||Ra(T,S)}},m={style:{set:(p,S)=>{const T=Ye.fromDom(p);a&&wp(T,Ma,S),qo(T,"style"),de(S)&&ds(T,e.parse(S))},get:p=>{const S=Ye.fromDom(p),T=Ra(S,Ma)||Ra(S,"style");return e.serialize(e.parse(T),hs(S))}}};return a&&(m.href=m.src=c),m},br=(e,n={})=>{const o={},a=window,c={};let m=0;const p=!0,S=!0,T=Qa.forElement(Ye.fromDom(e),{contentCssCors:n.contentCssCors,referrerPolicy:n.referrerPolicy}),V=[],X=n.schema?n.schema:qu({}),ee=uw({url_converter:n.url_converter,url_converter_scope:n.url_converter_scope},n.schema),ae=n.ownEvents?new tg:tg.Event,we=X.getBlockElements(),Ne=At=>de(At)?So(we,At):Un(At)&&(So(we,At.nodeName)||hu(X,At)),ke=At=>At&&e&&de(At)?e.getElementById(At):At,$e=At=>{const It=ke(At);return Ce(It)?Ye.fromDom(It):null},nt=(At,It,vn="")=>{let mn;const wo=$e(At);if(Ce(wo)&&Qr(wo)){const Es=mR[It];Es&&Es.get?mn=Es.get(wo.dom,It):mn=Ra(wo,It)}return Ce(mn)?mn:vn},ut=At=>{const It=ke(At);return ct(It)?[]:It.attributes},at=(At,It,vn)=>{to(At,mn=>{if(Un(mn)){const wo=Ye.fromDom(mn),Es=vn===""?null:vn,Ci=Ra(wo,It),Uh=mR[It];Uh&&Uh.set?Uh.set(wo.dom,Es,It):wp(wo,It,Es),Ci!==Es&&n.onSetAttrib&&n.onSetAttrib({attrElm:wo.dom,attrName:It,attrValue:Es})}})},kt=(At,It)=>At.cloneNode(It),qt=()=>n.root_element||e.body,gn=At=>{const It=zc(At);return{x:It.x,y:It.y,w:It.width,h:It.height}},Pn=(At,It)=>jv(e.body,ke(At),It),$t=(At,It,vn)=>{to(At,mn=>{const wo=Ye.fromDom(mn);mw(wo,It,vn),n.update_styles&&ly(ee,wo)})},Rt=(At,It)=>{to(At,vn=>{const mn=Ye.fromDom(vn);Go(It,(wo,Es)=>{mw(mn,Es,wo)}),n.update_styles&&ly(ee,mn)})},Zt=(At,It,vn)=>{const mn=ke(At);if(!(ct(mn)||!Hc(mn)&&!dp(mn)))return vn?$r(Ye.fromDom(mn),ng(It)):(It=It.replace(/-(\D)/g,(wo,Es)=>Es.toUpperCase()),It==="float"&&(It="cssFloat"),mn.style?mn.style[It]:void 0)},Hn=At=>{const It=ke(At);if(!It)return{w:0,h:0};let vn=Zt(It,"width"),mn=Zt(It,"height");return(!vn||vn.indexOf("px")===-1)&&(vn="0"),(!mn||mn.indexOf("px")===-1)&&(mn="0"),{w:parseInt(vn,10)||It.offsetWidth||It.clientWidth,h:parseInt(mn,10)||It.offsetHeight||It.clientHeight}},so=At=>{const It=ke(At),vn=Pn(It),mn=Hn(It);return{x:vn.x,y:vn.y,w:mn.w,h:mn.h}},rs=(At,It)=>{if(!At)return!1;const vn=oe(At)?At:[At];return Me(vn,mn=>qs(Ye.fromDom(mn),It))},fs=(At,It,vn,mn)=>{const wo=[];let Es=ke(At);mn=mn===void 0;const Ci=vn||(qt().nodeName!=="BODY"?qt().parentNode:null);if(de(It))if(It==="*")It=Un;else{const Uh=It;It=w6=>rs(w6,Uh)}for(;Es&&!(Es===Ci||ct(Es.nodeType)||Xn(Es)||mf(Es));){if(!It||It(Es))if(mn)wo.push(Es);else return[Es];Es=Es.parentNode}return mn?wo:null},Js=(At,It,vn)=>{const mn=fs(At,It,vn,!1);return mn&&mn.length>0?mn[0]:null},cr=(At,It,vn)=>{let mn=It;if(At){de(It)&&(mn=wo=>rs(wo,It));for(let wo=At[vn];wo;wo=wo[vn])if(Te(mn)&&mn(wo))return wo}return null},Vi=(At,It)=>cr(At,It,"nextSibling"),vc=(At,It)=>cr(At,It,"previousSibling"),yr=At=>Te(At.querySelectorAll),wn=(At,It)=>{var vn,mn;const wo=(mn=(vn=ke(It))!==null&&vn!==void 0?vn:n.root_element)!==null&&mn!==void 0?mn:e;return yr(wo)?$o(wo.querySelectorAll(At)):[]},to=function(At,It,vn){const mn=vn??this;if(oe(At)){const wo=[];return fw(At,(Es,Ci)=>{const Uh=ke(Es);Uh&&wo.push(It.call(mn,Uh,Ci))}),wo}else{const wo=ke(At);return wo?It.call(mn,wo):!1}},Us=(At,It)=>{to(At,vn=>{Go(It,(mn,wo)=>{at(vn,wo,mn)})})},kn=(At,It)=>{to(At,vn=>{const mn=Ye.fromDom(vn);fu(mn,It)})},ho=(At,It,vn,mn,wo)=>to(At,Es=>{const Ci=de(It)?e.createElement(It):It;return Ce(vn)&&Us(Ci,vn),mn&&(!de(mn)&&mn.nodeType?Ci.appendChild(mn):de(mn)&&kn(Ci,mn)),wo?Ci:Es.appendChild(Ci)}),ls=(At,It,vn)=>ho(e.createElement(At),At,It,vn,!0),Dn=pp.decode,is=pp.encodeAllRaw,bs=(At,It,vn="")=>{let mn="<"+At;for(const wo in It)dl(It,wo)&&(mn+=" "+wo+'="'+is(It[wo])+'"');return rn(vn)&&So(X.getVoidElements(),At)?mn+" />":mn+">"+vn+"</"+At+">"},Sl=At=>{const It=e.createElement("div"),vn=e.createDocumentFragment();vn.appendChild(It),At&&(It.innerHTML=At);let mn;for(;mn=It.firstChild;)vn.appendChild(mn);return vn.removeChild(It),vn},lr=(At,It)=>to(At,vn=>{const mn=Ye.fromDom(vn);return It&&xe(ma(mn),wo=>{Cr(wo)&&wo.dom.length===0?Hs(wo):Dr(mn,wo)}),Hs(mn),mn.dom}),al=At=>to(At,It=>{const vn=It.attributes;for(let mn=vn.length-1;mn>=0;mn--)It.removeAttributeNode(vn.item(mn))}),kg=At=>ee.parse(At),ob=(At,It)=>ee.serialize(At,It),_u=At=>{if(xv!==br.DOM&&e===document){if(o[At])return;o[At]=!0}let It=e.getElementById("mceDefaultStyles");if(!It){It=e.createElement("style"),It.id="mceDefaultStyles",It.type="text/css";const vn=e.head;vn.firstChild?vn.insertBefore(It,vn.firstChild):vn.appendChild(It)}It.styleSheet?It.styleSheet.cssText+=At:It.appendChild(e.createTextNode(At))},Pf=At=>{At||(At=""),xe(At.split(","),It=>{c[It]=!0,T.load(It).catch(gt)})},Eg=(At,It,vn)=>{to(At,mn=>{if(Un(mn)){const wo=Ye.fromDom(mn),Es=It.split(" ");xe(Es,Ci=>{Ce(vn)?(vn?lu:Ia)(wo,Ci):Wm(wo,Ci)})}})},Nf=(At,It)=>{Eg(At,It,!0)},Tg=(At,It)=>{Eg(At,It,!1)},ao=(At,It)=>{const vn=$e(At),mn=It.split(" ");return Ce(vn)&&Ho(mn,wo=>Mu(vn,wo))},Ps=At=>{to(At,It=>$c(Ye.fromDom(It),"display"))},wi=At=>{to(At,It=>Ya(Ye.fromDom(It),"display","none"))},Yi=At=>{const It=$e(At);return Ce(It)&&Yd(Zr(It,"display"),"none")},$a=At=>(At||"mce_")+m++,tc=At=>{const It=$e(At);return Ce(It)?Un(It.dom)?It.dom.outerHTML:bd(It):""},xa=(At,It)=>{to(At,vn=>{Un(vn)&&(vn.outerHTML=It)})},wa=(At,It)=>{const vn=ke(It);return to(At,mn=>{const wo=vn==null?void 0:vn.parentNode,Es=vn==null?void 0:vn.nextSibling;return wo&&(Es?wo.insertBefore(mn,Es):wo.appendChild(mn)),mn})},ku=(At,It,vn)=>to(It,mn=>{var wo;const Es=oe(It)?At.cloneNode(!0):At;return vn&&fw(ay(mn.childNodes),Ci=>{Es.appendChild(Ci)}),(wo=mn.parentNode)===null||wo===void 0||wo.replaceChild(Es,mn),mn}),Vh=(At,It)=>{if(At.nodeName!==It.toUpperCase()){const vn=ls(It);return fw(ut(At),mn=>{at(vn,mn.nodeName,nt(At,mn.nodeName))}),ku(vn,At,!0),vn}else return At},zh=(At,It)=>{let vn=At;for(;vn;){let mn=It;for(;mn&&vn!==mn;)mn=mn.parentNode;if(vn===mn)break;vn=vn.parentNode}return!vn&&At.ownerDocument?At.ownerDocument.documentElement:vn},Hh=(At,It,vn)=>he(It)?cc(X,At,{...vn,isContent:wo=>{const Es=wo.nodeName.toLowerCase();return!!It[Es]}}):cc(X,At,vn),Ag=()=>e.createRange(),Tx=(At,It,vn)=>{let mn=Ag(),wo,Es;if(At&&It&&At.parentNode&&It.parentNode){const Ci=At.parentNode;return mn.setStart(Ci,rh(At)),mn.setEnd(It.parentNode,rh(It)),wo=mn.extractContents(),mn=Ag(),mn.setStart(It.parentNode,rh(It)+1),mn.setEnd(Ci,rh(At)+1),Es=mn.extractContents(),Ci.insertBefore(Eb(xv,wo,X),At),vn?Ci.insertBefore(vn,At):Ci.insertBefore(It,At),Ci.insertBefore(Eb(xv,Es,X),At),lr(At),vn||It}else return},Xk=(At,It,vn,mn)=>{if(oe(At)){let wo=At.length;const Es=[];for(;wo--;)Es[wo]=Xk(At[wo],It,vn,mn);return Es}else return n.collect&&(At===e||At===a)&&V.push([At,It,vn,mn]),ae.bind(At,It,vn,mn||xv)},Jk=(At,It,vn)=>{if(oe(At)){let mn=At.length;const wo=[];for(;mn--;)wo[mn]=Jk(At[mn],It,vn);return wo}else{if(V.length>0&&(At===e||At===a)){let mn=V.length;for(;mn--;){const[wo,Es,Ci]=V[mn];At===wo&&(!It||It===Es)&&(!vn||vn===Ci)&&ae.unbind(wo,Es,Ci)}}return ae.unbind(At,It,vn)}},A9=(At,It,vn)=>ae.dispatch(At,It,vn),y1=(At,It,vn)=>ae.dispatch(At,It,vn),x6=At=>{if(At&&Hc(At)){const It=At.getAttribute("data-mce-contenteditable");return It&&It!=="inherit"?It:At.contentEditable!=="inherit"?At.contentEditable:null}else return null},xv={doc:e,settings:n,win:a,files:c,stdMode:p,boxModel:S,styleSheetLoader:T,boundEvents:V,styles:ee,schema:X,events:ae,isBlock:Ne,root:null,clone:kt,getRoot:qt,getViewPort:gn,getRect:so,getSize:Hn,getParent:Js,getParents:fs,get:ke,getNext:Vi,getPrev:vc,select:wn,is:rs,add:ho,create:ls,createHTML:bs,createFragment:Sl,remove:lr,setStyle:$t,getStyle:Zt,setStyles:Rt,removeAllAttribs:al,setAttrib:at,setAttribs:Us,getAttrib:nt,getPos:Pn,parseStyle:kg,serializeStyle:ob,addStyle:_u,loadCSS:Pf,addClass:Nf,removeClass:Tg,hasClass:ao,toggleClass:Eg,show:Ps,hide:wi,isHidden:Yi,uniqueId:$a,setHTML:kn,getOuterHTML:tc,setOuterHTML:xa,decode:Dn,encode:is,insertAfter:wa,replace:ku,rename:Vh,findCommonAncestor:zh,run:to,getAttribs:ut,isEmpty:Hh,createRng:Ag,nodeIndex:rh,split:Tx,bind:Xk,unbind:Jk,fire:y1,dispatch:A9,getContentEditable:x6,getContentEditableParent:At=>{const It=qt();let vn=null;for(let mn=At;mn&&mn!==It&&(vn=x6(mn),vn===null);mn=mn.parentNode);return vn},isEditable:At=>{if(Ce(At)){const It=Un(At)?At:At.parentElement;return Ce(It)&&Hc(It)&&Sr(Ye.fromDom(It))}else return!1},destroy:()=>{if(V.length>0){let At=V.length;for(;At--;){const[It,vn,mn]=V[At];ae.unbind(It,vn,mn)}}Go(c,(At,It)=>{T.unload(It),delete c[It]})},isChildOf:(At,It)=>At===It||It.contains(At),dumpRng:At=>"startContainer: "+At.startContainer.nodeName+", startOffset: "+At.startOffset+", endContainer: "+At.endContainer.nodeName+", endOffset: "+At.endOffset},mR=ih(ee,n,ft(xv));return xv};br.DOM=br(document),br.nodeIndex=rh;const cy=br.DOM,Lr=0,pf=1,wd=2,Cp=3;class dc{constructor(n={}){this.states={},this.queue=[],this.scriptLoadedCallbacks={},this.queueLoadedCallbacks=[],this.loading=!1,this.settings=n}_setReferrerPolicy(n){this.settings.referrerPolicy=n}loadScript(n){return new Promise((o,a)=>{const c=cy;let m;const p=()=>{c.remove(V),m&&(m.onerror=m.onload=m=null)},S=()=>{p(),o()},T=()=>{p(),a("Failed to load script: "+n)},V=c.uniqueId();m=document.createElement("script"),m.id=V,m.type="text/javascript",m.src=dn._addCacheSuffix(n),this.settings.referrerPolicy&&c.setAttrib(m,"referrerpolicy",this.settings.referrerPolicy),m.onload=S,m.onerror=T,(document.getElementsByTagName("head")[0]||document.body).appendChild(m)})}isDone(n){return this.states[n]===wd}markDone(n){this.states[n]=wd}add(n){const o=this;return o.queue.push(n),o.states[n]===void 0&&(o.states[n]=Lr),new Promise((c,m)=>{o.scriptLoadedCallbacks[n]||(o.scriptLoadedCallbacks[n]=[]),o.scriptLoadedCallbacks[n].push({resolve:c,reject:m})})}load(n){return this.add(n)}remove(n){delete this.states[n],delete this.scriptLoadedCallbacks[n]}loadQueue(){const n=this.queue;return this.queue=[],this.loadScripts(n)}loadScripts(n){const o=this,a=(T,V)=>{Zs(o.scriptLoadedCallbacks,V).each(X=>{xe(X,ee=>ee[T](V))}),delete o.scriptLoadedCallbacks[V]},c=T=>{const V=Je(T,X=>X.status==="rejected");return V.length>0?Promise.reject(Jo(V,({reason:X})=>oe(X)?X:[X])):Promise.resolve()},m=T=>Promise.allSettled(Ke(T,V=>o.states[V]===wd?(a("resolve",V),Promise.resolve()):o.states[V]===Cp?(a("reject",V),Promise.reject(V)):(o.states[V]=pf,o.loadScript(V).then(()=>{o.states[V]=wd,a("resolve",V);const X=o.queue;return X.length>0?(o.queue=[],m(X).then(c)):Promise.resolve()},()=>(o.states[V]=Cp,a("reject",V),Promise.reject(V)))))),p=T=>(o.loading=!0,m(T).then(V=>{o.loading=!1;const X=o.queueLoadedCallbacks.shift();return te.from(X).each(Yt),c(V)})),S=Du(n);return o.loading?new Promise((T,V)=>{o.queueLoadedCallbacks.push(()=>{p(S).then(T,V)})}):p(S)}}dc.ScriptLoader=new dc;const tl=(e,n)=>{const o=e.indexOf(n);return o!==-1&&e.indexOf(n,o+1)>o},ah=e=>q(e)&&So(e,"raw"),o0=e=>oe(e)&&e.length>1,Sp={},s0=Fi("en"),_p=()=>Zs(Sp,s0.get()),Yu={getData:()=>Wl(Sp,e=>({...e})),setCode:e=>{e&&s0.set(e)},getCode:()=>s0.get(),add:(e,n)=>{let o=Sp[e];o||(Sp[e]=o={});const a=Ke(tn(n),c=>c.toLowerCase());Go(n,(c,m)=>{const p=m.toLowerCase();p!==m&&tl(a,p)?(So(n,p)||(o[p]=c),o[m]=c):o[p]=c})},translate:e=>{const n=_p().getOr({}),o=p=>Te(p)?Object.prototype.toString.call(p):a(p)?"":""+p,a=p=>p===""||p===null||p===void 0,c=p=>{const S=o(p);return So(n,S)?o(n[S]):Zs(n,S.toLowerCase()).map(o).getOr(S)},m=p=>p.replace(/{context:\w+}$/,"");if(a(e))return"";if(ah(e))return o(e.raw);if(o0(e)){const p=e.slice(1),S=c(e[0]).replace(/\{([0-9]+)\}/g,(T,V)=>So(p,V)?o(p[V]):T);return m(S)}return m(c(e))},isRtl:()=>_p().bind(e=>Zs(e,"_dir")).exists(e=>e==="rtl"),hasCode:e=>So(Sp,e)},Yl=()=>{const e=[],n={},o={},a=[],c=(ke,$e)=>{const nt=Je(a,ut=>ut.name===ke&&ut.state===$e);xe(nt,ut=>ut.resolve())},m=ke=>So(n,ke),p=ke=>So(o,ke),S=ke=>{if(o[ke])return o[ke].instance},T=(ke,$e)=>{const nt=Yu.getCode(),ut=","+($e||"")+",";!nt||$e&&ut.indexOf(","+nt+",")===-1||dc.ScriptLoader.add(n[ke]+"/langs/"+nt+".js")},V=(ke,$e)=>{Yl.languageLoad!==!1&&(m(ke)?T(ke,$e):Ne(ke,"loaded").then(()=>T(ke,$e)))},X=(ke,$e)=>(e.push($e),o[ke]={instance:$e},c(ke,"added"),$e),ee=ke=>{delete n[ke],delete o[ke]},ae=(ke,$e)=>de($e)?de(ke)?{prefix:"",resource:$e,suffix:""}:{prefix:ke.prefix,resource:$e,suffix:ke.suffix}:$e,we=(ke,$e)=>{if(n[ke])return Promise.resolve();let nt=de($e)?$e:$e.prefix+$e.resource+$e.suffix;nt.indexOf("/")!==0&&nt.indexOf("://")===-1&&(nt=Yl.baseURL+"/"+nt),n[ke]=nt.substring(0,nt.lastIndexOf("/"));const ut=()=>(c(ke,"loaded"),Promise.resolve());return o[ke]?ut():dc.ScriptLoader.add(nt).then(ut)},Ne=(ke,$e="added")=>$e==="added"&&p(ke)||$e==="loaded"&&m(ke)?Promise.resolve():new Promise(nt=>{a.push({name:ke,state:$e,resolve:nt})});return{items:e,urls:n,lookup:o,get:S,requireLangPack:V,add:X,remove:ee,createUrl:ae,load:we,waitFor:Ne}};Yl.languageLoad=!0,Yl.baseURL="",Yl.PluginManager=Yl(),Yl.ThemeManager=Yl(),Yl.ModelManager=Yl();const kp=(e,n)=>{let o=null;return{cancel:()=>{_e(o)||(clearTimeout(o),o=null)},throttle:(...m)=>{_e(o)&&(o=setTimeout(()=>{o=null,e.apply(null,m)},n))}}},Rb=(e,n)=>{let o=null;const a=()=>{_e(o)||(clearTimeout(o),o=null)};return{cancel:a,throttle:(...m)=>{a(),o=setTimeout(()=>{o=null,e.apply(null,m)},n)}}},cS=(e,n,o)=>Bc(e,n,o).isSome(),ni=ft("mce-annotation"),oi=ft("data-mce-annotation"),Oi=ft("data-mce-annotation-uid"),er=ft("data-mce-annotation-active"),Yr=ft("data-mce-annotation-classes"),vi=ft("data-mce-annotation-attrs"),uy=e=>n=>us(n,e),dy=(e,n)=>{const o=e.selection.getRng(),a=Ye.fromDom(o.startContainer),c=Ye.fromDom(e.getBody()),m=n.fold(()=>"."+ni(),T=>`[${oi()}="${T}"]`),p=Fu(a,o.startOffset).getOr(a);return Bi(p,m,uy(c)).bind(T=>hi(T,`${Oi()}`).bind(V=>hi(T,`${oi()}`).map(X=>{const ee=bw(e,V);return{uid:V,name:X,elements:ee}})))},pw=e=>Qr(e)&&Mu(e,ni()),r0=(e,n)=>hd(e,"data-mce-bogus")||cS(e,'[data-mce-bogus="all"]',uy(n)),bw=(e,n)=>{const o=Ye.fromDom(e.getBody()),a=bi(o,`[${Oi()}="${n}"]`);return Je(a,c=>!r0(c,o))},Ep=(e,n)=>{const o=Ye.fromDom(e.getBody()),a=bi(o,`[${oi()}="${n}"]`),c={};return xe(a,m=>{if(!r0(m,o)){const p=Ra(m,Oi()),S=Zs(c,p).getOr([]);c[p]=S.concat([m])}}),c},fy=(e,n)=>{const o=Fi({}),a=()=>({listeners:[],previous:Ai()}),c=(ee,ae)=>{m(ee,we=>(ae(we),we))},m=(ee,ae)=>{const we=o.get(),Ne=Zs(we,ee).getOrThunk(a),ke=ae(Ne);we[ee]=ke,o.set(we)},p=(ee,ae,we)=>{c(ee,Ne=>{xe(Ne.listeners,ke=>ke(!0,ee,{uid:ae,nodes:Ke(we,$e=>$e.dom)}))})},S=ee=>{c(ee,ae=>{xe(ae.listeners,we=>we(!1,ee))})},T=(ee,ae)=>{xe(bw(e,ee),we=>{ae?Ei(we,er(),"true"):qo(we,er())})},V=Rb(()=>{const ee=xs(n.getNames());xe(ee,ae=>{m(ae,we=>{const Ne=we.previous.get();return dy(e,te.some(ae)).fold(()=>{Ne.each(ke=>{S(ae),we.previous.clear(),T(ke,!1)})},({uid:ke,name:$e,elements:nt})=>{Yd(Ne,ke)||(Ne.each(ut=>T(ut,!1)),p($e,ke,nt),we.previous.set(ke),T(ke,!0))}),{previous:we.previous,listeners:we.listeners}})})},30);return e.on("remove",()=>{V.cancel()}),e.on("NodeChange",()=>{V.throttle()}),{addListener:(ee,ae)=>{m(ee,we=>({previous:we.previous,listeners:we.listeners.concat([ae])}))}}},my=(e,n)=>{const o=oi(),a=m=>te.from(m.attr(o)).bind(n.lookup),c=m=>{var p,S;m.attr(Oi(),null),m.attr(oi(),null),m.attr(er(),null);const T=te.from(m.attr(vi())).map(ae=>ae.split(",")).getOr([]),V=te.from(m.attr(Yr())).map(ae=>ae.split(",")).getOr([]);xe(T,ae=>m.attr(ae,null));const X=(S=(p=m.attr("class"))===null||p===void 0?void 0:p.split(" "))!==null&&S!==void 0?S:[],ee=Cs(X,[ni()].concat(V));m.attr("class",ee.length>0?ee.join(" "):null),m.attr(Yr(),null),m.attr(vi(),null)};e.serializer.addTempAttr(er()),e.serializer.addAttributeFilter(o,m=>{for(const p of m)a(p).each(S=>{S.persistent===!1&&(p.name==="span"?p.unwrap():c(p))})})},vw=()=>{const e={};return{register:(c,m)=>{e[c]={name:c,settings:m}},lookup:c=>Zs(e,c).map(m=>m.settings),getNames:()=>tn(e)}},i0=(e,n,o)=>Math.min(Math.max(e,n),o),fc=()=>window.crypto.getRandomValues(new Uint32Array(1))[0]/4294967295;let yw=0;const Ml=e=>{const o=new Date().getTime(),a=Math.floor(fc()*1e9);return yw++,e+"_"+a+yw+String(o)},a0=(e,n)=>{xe(n,o=>{lu(e,o)})},Tp=(e,n)=>{xe(n,o=>{Ia(e,o)})},Cd=(e,n)=>Ye.fromDom(e.dom.cloneNode(n)),yi=e=>Cd(e,!1),ch=e=>Cd(e,!0),xw=(e,n)=>{const o=Ye.fromTag(n),a=ja(e);return Ka(o,a),o},ww=(e,n)=>{const o=xw(e,n);vt(e,o);const a=ma(e);return li(o,a),Hs(e),o},l0=(e,n,o=Bn)=>{const a=new Na(e,n),c=m=>{let p;do p=a[m]();while(p&&!on(p)&&!o(p));return te.from(p).filter(on)};return{current:()=>te.from(a.current()).filter(on),next:()=>c("next"),prev:()=>c("prev"),prev2:()=>c("prev2")}},hm=(e,n)=>{const o=n||(p=>e.isBlock(p)||Ar(p)||To(p)),a=(p,S,T,V)=>{if(on(p)){const X=V(p,S,p.data);if(X!==-1)return te.some({container:p,offset:X})}return T().bind(X=>a(X.container,X.offset,T,V))};return{backwards:(p,S,T,V)=>{const X=l0(p,V??e.getRoot(),o);return a(p,S,()=>X.prev().map(ee=>({container:ee,offset:ee.length})),T).getOrNull()},forwards:(p,S,T,V)=>{const X=l0(p,V??e.getRoot(),o);return a(p,S,()=>X.next().map(ee=>({container:ee,offset:0})),T).getOrNull()}}},c0=((e,n)=>{const o=m=>{if(!e(m))throw new Error("Can only get "+n+" value of a "+n+" node");return a(m).getOr("")},a=m=>e(m)?te.from(m.dom.nodeValue):te.none();return{get:o,getOption:a,set:(m,p)=>{if(!e(m))throw new Error("Can only set raw "+n+" value of a "+n+" node");m.dom.nodeValue=p}}})(Cr,"text"),uh=e=>c0.get(e),uS=e=>c0.getOption(e),u0=(e,n)=>c0.set(e,n),d0=["td","th"],gy=["thead","tbody","tfoot"],Ib=["h1","h2","h3","h4","h5","h6","p","div","address","pre","form","blockquote","center","dir","fieldset","header","footer","article","section","hgroup","aside","nav","figure"],hy=["li","dd","dt"],Ll=["ul","ol","dl"],Cw=["pre","script","textarea","style"],pm=e=>{let n;return o=>(n=n||ri(e,Jt),So(n,hs(o)))},f0=e=>hs(e)==="table",bf=e=>Qr(e)&&hs(e)==="br",m0=pm(Ib),g0=pm(Ll),dh=pm(hy),Ap=pm(gy),Xu=pm(d0),h0=pm(Cw),nT=e=>{const n=[];let o=e.dom;for(;o;)n.push(Ye.fromDom(o)),o=o.lastChild;return n},pu=e=>{const n=bi(e,"br"),o=Je(nT(e).slice(-1),bf);n.length===o.length&&xe(o,Hs)},bm=()=>{const e=Ye.fromTag("br");return Ei(e,"data-mce-bogus","1"),e},Ju=e=>{ir(e),Vr(e,bm())},Sw=(e,n)=>{$u(e).each(o=>{Mi(o).each(a=>{n.isBlock(hs(e))&&bf(o)&&n.isBlock(hs(a))&&Hs(o)})})},ta=Gr,Qu=Wu,mc=af,oT=e=>e.insertContent(ta,{preserve_zwsp:!0}),og=Un,vm=on,Db=e=>(vm(e)&&(e=e.parentNode),og(e)&&e.hasAttribute("data-mce-caret")),fh=e=>vm(e)&&Qu(e.data),Zc=e=>Db(e)||fh(e),py=e=>e.firstChild!==e.lastChild||!Ar(e.firstChild),by=(e,n)=>{var o;const c=((o=e.ownerDocument)!==null&&o!==void 0?o:document).createTextNode(ta),m=e.parentNode;if(n){const p=e.previousSibling;if(vm(p)){if(Zc(p))return p;if(ym(p))return p.splitText(p.data.length-1)}m==null||m.insertBefore(c,e)}else{const p=e.nextSibling;if(vm(p)){if(Zc(p))return p;if(b0(p))return p.splitText(1),p}e.nextSibling?m==null||m.insertBefore(c,e.nextSibling):m==null||m.appendChild(c)}return c},p0=e=>{const n=e.container();return on(n)?n.data.charAt(e.offset())===ta||e.isAtStart()&&fh(n.previousSibling):!1},vy=e=>{const n=e.container();return on(n)?n.data.charAt(e.offset()-1)===ta||e.isAtEnd()&&fh(n.nextSibling):!1},dS=(e,n,o)=>{var a;const m=((a=n.ownerDocument)!==null&&a!==void 0?a:document).createElement(e);m.setAttribute("data-mce-caret",o?"before":"after"),m.setAttribute("data-mce-bogus","all"),m.appendChild(bm().dom);const p=n.parentNode;return o?p==null||p.insertBefore(m,n):n.nextSibling?p==null||p.insertBefore(m,n.nextSibling):p==null||p.appendChild(m),m},b0=e=>vm(e)&&e.data[0]===ta,ym=e=>vm(e)&&e.data[e.data.length-1]===ta,v0=e=>{var n;const o=e.getElementsByTagName("br"),a=o[o.length-1];df(a)&&((n=a.parentNode)===null||n===void 0||n.removeChild(a))},Op=e=>e&&e.hasAttribute("data-mce-caret")?(v0(e),e.removeAttribute("data-mce-caret"),e.removeAttribute("data-mce-bogus"),e.removeAttribute("style"),e.removeAttribute("data-mce-style"),e.removeAttribute("_moz_abspos"),e):null,Rp=e=>Db(e.startContainer),sg=Math.round,rg=e=>e?{left:sg(e.left),top:sg(e.top),bottom:sg(e.bottom),right:sg(e.right),width:sg(e.width),height:sg(e.height)}:{left:0,top:0,bottom:0,right:0,width:0,height:0},y0=(e,n)=>(e=rg(e),n||(e.left=e.left+e.width),e.right=e.left,e.width=0,e),ig=(e,n)=>e.left===n.left&&e.top===n.top&&e.bottom===n.bottom&&e.right===n.right,ag=(e,n,o)=>e>=0&&e<=Math.min(n.height,o.height)/2,lg=(e,n)=>{const o=Math.min(n.height/2,e.height/2);return e.bottom-o<n.top?!0:e.top>n.bottom?!1:ag(n.top-e.bottom,e,n)},Ip=(e,n)=>e.top>n.bottom?!0:e.bottom<n.top?!1:ag(n.bottom-e.top,e,n),yy=(e,n,o)=>n>=e.left&&n<=e.right&&o>=e.top&&o<=e.bottom,Pb=e=>pn(e,(n,o)=>n.fold(()=>te.some(o),a=>{const c=Math.min(o.left,a.left),m=Math.min(o.top,a.top),p=Math.max(o.right,a.right),S=Math.max(o.bottom,a.bottom);return te.some({top:m,right:p,bottom:S,left:c,width:p-c,height:S-m})}),te.none()),xy=(e,n,o)=>{const a=Math.max(Math.min(n,e.left+e.width),e.left),c=Math.max(Math.min(o,e.top+e.height),e.top);return Math.sqrt((n-a)*(n-a)+(o-c)*(o-c))},_w=(e,n)=>Math.max(0,Math.min(e.bottom,n.bottom)-Math.max(e.top,n.top)),Nb=e=>{const n=e.startContainer,o=e.startOffset;return n===e.endContainer&&n.hasChildNodes()&&e.endOffset===o+1?n.childNodes[o]:null},na=(e,n)=>{if(Un(e)&&e.hasChildNodes()){const o=e.childNodes,a=i0(n,0,o.length-1);return o[a]}else return e},kw=(e,n)=>{if(!(n<0&&Un(e)&&e.hasChildNodes()))return na(e,n)},fS=new RegExp("[-----------------------------------------------------------------------------------------------------------------------------------]"),Ew=e=>de(e)&&e.charCodeAt(0)>=768&&fS.test(e),Tw=(...e)=>n=>{for(let o=0;o<e.length;o++)if(e[o](n))return!0;return!1},cg=(...e)=>n=>{for(let o=0;o<e.length;o++)if(!e[o](n))return!1;return!0},wy=Kc,x0=To,Aw=Ar,sT=on,ug=pa(["script","style","textarea"]),w0=pa(["img","input","textarea","hr","iframe","video","audio","object","embed"]),mS=pa(["table"]),gS=Zc,Sd=e=>gS(e)?!1:sT(e)?!ug(e.parentNode):w0(e)||Aw(e)||mS(e)||Cy(e),Ow=e=>Un(e)&&e.getAttribute("unselectable")==="true",Cy=e=>!Ow(e)&&x0(e),hS=(e,n)=>{for(let o=e.parentNode;o&&o!==n;o=o.parentNode){if(Cy(o))return!1;if(wy(o))return!0}return!0},Dp=e=>Cy(e)?!pn($o(e.getElementsByTagName("*")),(n,o)=>n||wy(o),!1):!1,Mb=e=>w0(e)||Dp(e),C0=(e,n)=>Sd(e)&&hS(e,n),pS=Un,_d=Sd,mh=Uc("display","block table"),S0=Uc("float","left right"),_0=cg(pS,_d,Ve(S0)),Sy=Ve(Uc("white-space","pre pre-line pre-wrap")),k0=on,ol=Ar,_y=br.nodeIndex,gh=kw,hh=e=>e?e.createRange():br.DOM.createRng(),E0=e=>de(e)&&/[\r\n\t ]/.test(e),ky=e=>!!e.setStart&&!!e.setEnd,Pp=e=>{const n=e.startContainer,o=e.startOffset;if(E0(e.toString())&&Sy(n.parentNode)&&on(n)){const a=n.data;if(E0(a[o-1])||E0(a[o+1]))return!0}return!1},dg=e=>{const n=e.ownerDocument,o=hh(n),a=n.createTextNode(ea),c=e.parentNode;c.insertBefore(a,e),o.setStart(a,0),o.setEnd(a,1);const m=rg(o.getBoundingClientRect());return c.removeChild(a),m},Rw=e=>{const n=e.startContainer,o=e.endContainer,a=e.startOffset,c=e.endOffset;if(n===o&&on(o)&&a===0&&c===1){const m=e.cloneRange();return m.setEndAfter(o),Xl(m)}else return null},Ey=e=>e.left===0&&e.right===0&&e.top===0&&e.bottom===0,Xl=e=>{var n;let o;const a=e.getClientRects();return a.length>0?o=rg(a[0]):o=rg(e.getBoundingClientRect()),!ky(e)&&ol(e)&&Ey(o)?dg(e):Ey(o)&&ky(e)&&(n=Rw(e))!==null&&n!==void 0?n:o},fg=(e,n)=>{const o=y0(e,n);return o.width=1,o.right=o.left+1,o},Iw=e=>{const n=[],o=p=>{p.height!==0&&(n.length>0&&ig(p,n[n.length-1])||n.push(p))},a=(p,S)=>{const T=hh(p.ownerDocument);if(S<p.data.length){if(Ew(p.data[S]))return;if(Ew(p.data[S-1])&&(T.setStart(p,S),T.setEnd(p,S+1),!Pp(T))){o(fg(Xl(T),!1));return}}S>0&&(T.setStart(p,S-1),T.setEnd(p,S),Pp(T)||o(fg(Xl(T),!1))),S<p.data.length&&(T.setStart(p,S),T.setEnd(p,S+1),Pp(T)||o(fg(Xl(T),!0)))},c=e.container(),m=e.offset();if(k0(c))return a(c,m),n;if(pS(c))if(e.isAtEnd()){const p=gh(c,m);k0(p)&&a(p,p.data.length),_0(p)&&!ol(p)&&o(fg(Xl(p),!1))}else{const p=gh(c,m);if(k0(p)&&a(p,0),_0(p)&&e.isAtEnd())return o(fg(Xl(p),!1)),n;const S=gh(e.container(),e.offset()-1);_0(S)&&!ol(S)&&(mh(S)||mh(p)||!_0(p))&&o(fg(Xl(S),!1)),_0(p)&&o(fg(Xl(p),!0))}return n},Dt=(e,n,o)=>{const a=()=>(k0(e),n===0),c=()=>k0(e)?n>=e.data.length:n>=e.childNodes.length,m=()=>{const X=hh(e.ownerDocument);return X.setStart(e,n),X.setEnd(e,n),X},p=()=>(o||(o=Iw(Dt(e,n))),o),S=()=>p().length>0,T=X=>X&&e===X.container()&&n===X.offset(),V=X=>gh(e,X?n-1:n);return{container:ft(e),offset:ft(n),toRange:m,getClientRects:p,isVisible:S,isAtStart:a,isAtEnd:c,isEqual:T,getNode:V}};Dt.fromRangeStart=e=>Dt(e.startContainer,e.startOffset),Dt.fromRangeEnd=e=>Dt(e.endContainer,e.endOffset),Dt.after=e=>Dt(e.parentNode,_y(e)+1),Dt.before=e=>Dt(e.parentNode,_y(e)),Dt.isAbove=(e,n)=>da(cn(n.getClientRects()),uo(e.getClientRects()),lg).getOr(!1),Dt.isBelow=(e,n)=>da(uo(n.getClientRects()),cn(e.getClientRects()),Ip).getOr(!1),Dt.isAtStart=e=>e?e.isAtStart():!1,Dt.isAtEnd=e=>e?e.isAtEnd():!1,Dt.isTextPosition=e=>e?on(e.container()):!1,Dt.isElementPosition=e=>!Dt.isTextPosition(e);const Lb=(e,n)=>{on(n)&&n.data.length===0&&e.remove(n)},rT=(e,n,o)=>{n.insertNode(o),Lb(e,o.previousSibling),Lb(e,o.nextSibling)},bS=(e,n,o)=>{const a=te.from(o.firstChild),c=te.from(o.lastChild);n.insertNode(o),a.each(m=>Lb(e,m.previousSibling)),c.each(m=>Lb(e,m.nextSibling))},Ty=(e,n,o)=>{mf(o)?bS(e,n,o):rT(e,n,o)},kd=on,Ay=df,T0=br.nodeIndex,Dw=e=>{const n=e.parentNode;return Ay(n)?Dw(n):n},Pw=e=>e?El(e.childNodes,(n,o)=>(Ay(o)&&o.nodeName!=="BR"?n=n.concat(Pw(o)):n.push(o),n),[]):[],iT=(e,n)=>{let o=e;for(;(o=o.previousSibling)&&kd(o);)n+=o.data.length;return n},y=e=>n=>e===n,_=e=>{let n,o;n=Pw(Dw(e)),o=dr(n,y(e),e),n=n.slice(0,o+1);const a=El(n,(c,m,p)=>(kd(m)&&kd(n[p-1])&&c++,c),0);return n=fl(n,pa([e.nodeName])),o=dr(n,y(e),e),o-a},A=e=>(kd(e)?"text()":e.nodeName.toLowerCase())+"["+_(e)+"]",F=(e,n,o)=>{const a=[];for(let c=n.parentNode;c&&c!==e;c=c.parentNode)a.push(c);return a},j=(e,n)=>{let o=[],a=n.container(),c=n.offset(),m;if(kd(a))m=iT(a,c);else{const S=a.childNodes;c>=S.length?(m="after",c=S.length-1):m="before",a=S[c]}o.push(A(a));let p=F(e,a);return p=fl(p,Ve(df)),o=o.concat(jf(p,S=>A(S))),o.reverse().join("/")+","+m},G=(e,n,o)=>{let a=Pw(e);return a=fl(a,(c,m)=>!kd(c)||!kd(a[m-1])),a=fl(a,pa([n])),a[o]},le=(e,n)=>{let o=e,a=0;for(;kd(o);){const c=o.data.length;if(n>=a&&n<=a+c){e=o,n=n-a;break}if(!kd(o.nextSibling)){e=o,n=c;break}a+=c,o=o.nextSibling}return kd(e)&&n>e.data.length&&(n=e.data.length),Dt(e,n)},me=(e,n)=>{if(!n)return null;const o=n.split(","),a=o[0].split("/"),c=o.length>1?o[1]:"before",m=El(a,(p,S)=>{const T=/([\w\-\(\)]+)\[([0-9]+)\]/.exec(S);return T?(T[1]==="text()"&&(T[1]="#text"),G(p,T[1],parseInt(T[2],10))):null},e);if(!m)return null;if(!kd(m)&&m.parentNode){let p;return c==="after"?p=T0(m)+1:p=T0(m),Dt(m.parentNode,p)}return le(m,parseInt(c,10))},Ie=To,je=(e,n,o)=>{let a=e(n.data.slice(0,o)).length;for(let c=n.previousSibling;c&&on(c);c=c.previousSibling)a+=e(c.data).length;return a},st=(e,n,o,a,c)=>{const m=c?a.startContainer:a.endContainer;let p=c?a.startOffset:a.endOffset;const S=[],T=e.getRoot();if(on(m))S.push(o?je(n,m,p):p);else{let V=0;const X=m.childNodes;p>=X.length&&X.length&&(V=1,p=Math.max(0,X.length-1)),S.push(e.nodeIndex(X[p],o)+V)}for(let V=m;V&&V!==T;V=V.parentNode)S.push(e.nodeIndex(V,o));return S},ze=(e,n,o,a)=>{const c=n.dom,m=st(c,e,o,a,!0),p=n.isForward(),S=Rp(a)?{isFakeCaret:!0}:{};if(n.isCollapsed())return{start:m,forward:p,...S};{const T=st(c,e,o,a,!1);return{start:m,end:T,forward:p,...S}}},Ge=(e,n,o)=>{let a=0;return dn.each(e.select(n),c=>{if(c.getAttribute("data-mce-bogus")!=="all"){if(c===o)return!1;a++;return}}),a},Xe=(e,n)=>{let o=n?e.startContainer:e.endContainer,a=n?e.startOffset:e.endOffset;if(Un(o)&&o.nodeName==="TR"){const c=o.childNodes;o=c[Math.min(n?a:a-1,c.length-1)],o&&(a=n?0:o.childNodes.length,n?e.setStart(o,a):e.setEnd(o,a))}},pt=e=>(Xe(e,!0),Xe(e,!1),e),yt=(e,n)=>{if(Un(e)&&(e=na(e,n),Ie(e)))return e;if(Zc(e)){on(e)&&Db(e)&&(e=e.parentNode);let o=e.previousSibling;if(Ie(o)||(o=e.nextSibling,Ie(o)))return o}},Kt=e=>yt(e.startContainer,e.startOffset)||yt(e.endContainer,e.endOffset),jt=(e,n,o)=>{const a=o.getNode(),c=o.getRng();if(a.nodeName==="IMG"||Ie(a)){const p=a.nodeName;return{name:p,index:Ge(o.dom,p,a)}}const m=Kt(c);if(m){const p=m.tagName;return{name:p,index:Ge(o.dom,p,m)}}return ze(e,o,n,c)},Wt=e=>{const n=e.getRng();return{start:j(e.dom.getRoot(),Dt.fromRangeStart(n)),end:j(e.dom.getRoot(),Dt.fromRangeEnd(n)),forward:e.isForward()}},Gt=e=>({rng:e.getRng(),forward:e.isForward()}),fn=(e,n,o)=>{const a={"data-mce-type":"bookmark",id:n,style:"overflow:hidden;line-height:0px"};return o?e.create("span",a,"&#xFEFF;"):e.create("span",a)},hn=(e,n)=>{const o=e.dom;let a=e.getRng();const c=o.uniqueId(),m=e.isCollapsed(),p=e.getNode(),S=p.nodeName,T=e.isForward();if(S==="IMG")return{name:S,index:Ge(o,S,p)};const V=pt(a.cloneRange());if(!m){V.collapse(!1);const ee=fn(o,c+"_end",n);Ty(o,V,ee)}a=pt(a),a.collapse(!0);const X=fn(o,c+"_start",n);return Ty(o,a,X),e.moveToBookmark({id:c,keep:!0,forward:T}),{id:c,forward:T}},St=(e,n,o=!1)=>n===2?jt(mc,o,e):n===3?Wt(e):n?Gt(e):hn(e,!1),Mn=rt(jt,Rn,!0),po=e=>{const n=m=>m(e),o=ft(e),a=()=>c,c={tag:!0,inner:e,fold:(m,p)=>p(e),isValue:Jt,isError:Bn,map:m=>bo.value(m(e)),mapError:a,bind:n,exists:n,forall:n,getOr:o,or:a,getOrThunk:o,orThunk:a,getOrDie:o,each:m=>{m(e)},toOptional:()=>te.some(e)};return c},zo=e=>{const n=()=>o,o={tag:!1,inner:e,fold:(a,c)=>a(e),isValue:Bn,isError:Jt,map:n,mapError:a=>bo.error(a(e)),bind:n,exists:Bn,forall:Jt,getOr:Rn,or:Rn,getOrThunk:Yn,orThunk:Yn,getOrDie:bt(String(e)),each:gt,toOptional:te.none};return o},bo={value:po,error:zo,fromOption:(e,n)=>e.fold(()=>zo(n),po)},ws={generate:e=>{if(!oe(e))throw new Error("cases must be an array");if(e.length===0)throw new Error("there must be at least one case");const n=[],o={};return xe(e,(a,c)=>{const m=tn(a);if(m.length!==1)throw new Error("one and only one name per case");const p=m[0],S=a[p];if(o[p]!==void 0)throw new Error("duplicate key detected:"+p);if(p==="cata")throw new Error("cannot have a case named cata (sorry)");if(!oe(S))throw new Error("case arguments must be an array");n.push(p),o[p]=(...T)=>{const V=T.length;if(V!==S.length)throw new Error("Wrong number of arguments to case "+p+". Expected "+S.length+" ("+S+"), got "+V);return{fold:(...ee)=>{if(ee.length!==e.length)throw new Error("Wrong number of arguments to fold. Expected "+e.length+", got "+ee.length);return ee[c].apply(null,T)},match:ee=>{const ae=tn(ee);if(n.length!==ae.length)throw new Error("Wrong number of arguments to match. Expected: "+n.join(",")+`
Actual: `+ae.join(","));if(!Ho(n,Ne=>Se(ae,Ne)))throw new Error("Not all branches were specified when using match. Specified: "+ae.join(", ")+`
Required: `+n.join(", "));return ee[p].apply(null,T)},log:ee=>{console.log(ee,{constructors:n,constructor:p,params:T})}}}}),o}};ws.generate([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]);const Ri=e=>{const n=[],o=[];return xe(e,a=>{a.fold(c=>{n.push(c)},c=>{o.push(c)})}),{errors:n,values:o}},xl=e=>e.type==="inline-command"||e.type==="inline-format",La=e=>e.type==="block-command"||e.type==="block-format",bu=(e,n)=>(e.type==="block-command"||e.type==="block-format")&&e.trigger===n,ph=e=>{var n;const o=c=>bo.error({message:c,pattern:e}),a=(c,m,p)=>{if(e.format!==void 0){let S;if(oe(e.format)){if(!Ho(e.format,de))return o(c+" pattern has non-string items in the `format` array");S=e.format}else if(de(e.format))S=[e.format];else return o(c+" pattern has non-string `format` parameter");return bo.value(m(S))}else return e.cmd!==void 0?de(e.cmd)?bo.value(p(e.cmd,e.value)):o(c+" pattern has non-string `cmd` parameter"):o(c+" pattern is missing both `format` and `cmd` parameters")};if(!q(e))return o("Raw pattern is not an object");if(!de(e.start))return o("Raw pattern is missing `start` parameter");if(e.end!==void 0){if(!de(e.end))return o("Inline pattern has non-string `end` parameter");if(e.start.length===0&&e.end.length===0)return o("Inline pattern has empty `start` and `end` parameters");let c=e.start,m=e.end;return m.length===0&&(m=c,c=""),a("Inline",p=>({type:"inline-format",start:c,end:m,format:p}),(p,S)=>({type:"inline-command",start:c,end:m,cmd:p,value:S}))}else{if(e.replacement!==void 0)return de(e.replacement)?e.start.length===0?o("Replacement pattern has empty `start` parameter"):bo.value({type:"inline-command",start:"",end:e.start,cmd:"mceInsertContent",value:e.replacement}):o("Replacement pattern has non-string `replacement` parameter");{const c=(n=e.trigger)!==null&&n!==void 0?n:"space";return e.start.length===0?o("Block pattern has empty `start` parameter"):a("Block",m=>({type:"block-format",start:e.start,format:m[0],trigger:c}),(m,p)=>({type:"block-command",start:e.start,cmd:m,value:p,trigger:c}))}}},wl=e=>Je(e,La),vf=e=>Je(e,xl),Bb=(e,n)=>({inlinePatterns:vf(e),blockPatterns:wl(e),dynamicPatternsLookup:n}),mg=(e,n)=>({...e,blockPatterns:Je(e.blockPatterns,o=>bu(o,n))}),Fb=e=>{const n=Ri(Ke(e,ph));return xe(n.errors,o=>console.error(o.message,o.pattern)),n.values},Oy=e=>n=>{const o=e(n);return Fb(o)},gg=ca().deviceType,vS=gg.isTouch(),y8=br.DOM,x8=e=>{const n=e.indexOf("=")>0?e.split(/[;,](?![^=;,]*(?:[;,]|$))/):e.split(",");return pn(n,(o,a)=>{const c=a.split("="),m=c[0],p=c.length>1?c[1]:m;return o[Ze(m)]=Ze(p),o},{})},AI=e=>ge(e,RegExp),zn=e=>n=>n.options.get(e),Nw=e=>de(e)||q(e),aT=(e,n="")=>o=>{const a=de(o);if(a)if(o.indexOf("=")!==-1){const c=x8(o);return{value:Zs(c,e.id).getOr(n),valid:a}}else return{value:o,valid:a};else return{valid:!1,message:"Must be a string."}},yS=e=>{const n=e.options.register;n("id",{processor:"string",default:e.id}),n("selector",{processor:"string"}),n("target",{processor:"object"}),n("suffix",{processor:"string"}),n("cache_suffix",{processor:"string"}),n("base_url",{processor:"string"}),n("referrer_policy",{processor:"string",default:""}),n("language_load",{processor:"boolean",default:!0}),n("inline",{processor:"boolean",default:!1}),n("iframe_attrs",{processor:"object",default:{}}),n("doctype",{processor:"string",default:"<!DOCTYPE html>"}),n("document_base_url",{processor:"string",default:e.documentBaseUrl}),n("body_id",{processor:aT(e,"tinymce"),default:"tinymce"}),n("body_class",{processor:aT(e),default:""}),n("content_security_policy",{processor:"string",default:""}),n("br_in_pre",{processor:"boolean",default:!0}),n("forced_root_block",{processor:o=>{const a=de(o)&&lt(o);return a?{value:o,valid:a}:{valid:!1,message:"Must be a non-empty string."}},default:"p"}),n("forced_root_block_attrs",{processor:"object",default:{}}),n("newline_behavior",{processor:o=>{const a=Se(["block","linebreak","invert","default"],o);return a?{value:o,valid:a}:{valid:!1,message:"Must be one of: block, linebreak, invert or default."}},default:"default"}),n("br_newline_selector",{processor:"string",default:".mce-toc h2,figcaption,caption"}),n("no_newline_selector",{processor:"string",default:""}),n("keep_styles",{processor:"boolean",default:!0}),n("end_container_on_empty_block",{processor:o=>Ue(o)?{valid:!0,value:o}:de(o)?{valid:!0,value:o}:{valid:!1,message:"Must be boolean or a string"},default:"blockquote"}),n("font_size_style_values",{processor:"string",default:"xx-small,x-small,small,medium,large,x-large,xx-large"}),n("font_size_legacy_values",{processor:"string",default:"xx-small,small,medium,large,x-large,xx-large,300%"}),n("font_size_classes",{processor:"string",default:""}),n("automatic_uploads",{processor:"boolean",default:!0}),n("images_reuse_filename",{processor:"boolean",default:!1}),n("images_replace_blob_uris",{processor:"boolean",default:!0}),n("icons",{processor:"string",default:""}),n("icons_url",{processor:"string",default:""}),n("images_upload_url",{processor:"string",default:""}),n("images_upload_base_path",{processor:"string",default:""}),n("images_upload_credentials",{processor:"boolean",default:!1}),n("images_upload_handler",{processor:"function"}),n("language",{processor:"string",default:"en"}),n("language_url",{processor:"string",default:""}),n("entity_encoding",{processor:"string",default:"named"}),n("indent",{processor:"boolean",default:!0}),n("indent_before",{processor:"string",default:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,details,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist"}),n("indent_after",{processor:"string",default:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,details,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist"}),n("indent_use_margin",{processor:"boolean",default:!1}),n("indentation",{processor:"string",default:"40px"}),n("content_css",{processor:o=>{const a=o===!1||de(o)||dt(o,de);return a?de(o)?{value:Ke(o.split(","),Ze),valid:a}:oe(o)?{value:o,valid:a}:o===!1?{value:[],valid:a}:{value:o,valid:a}:{valid:!1,message:"Must be false, a string or an array of strings."}},default:A0(e)?[]:["default"]}),n("content_style",{processor:"string"}),n("content_css_cors",{processor:"boolean",default:!1}),n("font_css",{processor:o=>{const a=de(o)||dt(o,de);return a?{value:oe(o)?o:Ke(o.split(","),Ze),valid:a}:{valid:!1,message:"Must be a string or an array of strings."}},default:[]}),n("inline_boundaries",{processor:"boolean",default:!0}),n("inline_boundaries_selector",{processor:"string",default:"a[href],code,span.mce-annotation"}),n("object_resizing",{processor:o=>{const a=Ue(o)||de(o);return a?o===!1||gg.isiPhone()||gg.isiPad()?{value:"",valid:a}:{value:o===!0?"table,img,figure.image,div,video,iframe":o,valid:a}:{valid:!1,message:"Must be boolean or a string"}},default:!vS}),n("resize_img_proportional",{processor:"boolean",default:!0}),n("event_root",{processor:"string"}),n("service_message",{processor:"string"}),n("theme",{processor:o=>o===!1||de(o)||Te(o),default:"silver"}),n("theme_url",{processor:"string"}),n("formats",{processor:"object"}),n("format_empty_lines",{processor:"boolean",default:!1}),n("format_noneditable_selector",{processor:"string",default:""}),n("preview_styles",{processor:o=>{const a=o===!1||de(o);return a?{value:o===!1?"":o,valid:a}:{valid:!1,message:"Must be false or a string"}},default:"font-family font-size font-weight font-style text-decoration text-transform color background-color border border-radius outline text-shadow"}),n("custom_ui_selector",{processor:"string",default:""}),n("hidden_input",{processor:"boolean",default:!0}),n("submit_patch",{processor:"boolean",default:!0}),n("encoding",{processor:"string"}),n("add_form_submit_trigger",{processor:"boolean",default:!0}),n("add_unload_trigger",{processor:"boolean",default:!0}),n("custom_undo_redo_levels",{processor:"number",default:0}),n("disable_nodechange",{processor:"boolean",default:!1}),n("readonly",{processor:"boolean",default:!1}),n("editable_root",{processor:"boolean",default:!0}),n("plugins",{processor:"string[]",default:[]}),n("external_plugins",{processor:"object"}),n("forced_plugins",{processor:"string[]"}),n("model",{processor:"string",default:e.hasPlugin("rtc")?"plugin":"dom"}),n("model_url",{processor:"string"}),n("block_unsupported_drop",{processor:"boolean",default:!0}),n("visual",{processor:"boolean",default:!0}),n("visual_table_class",{processor:"string",default:"mce-item-table"}),n("visual_anchor_class",{processor:"string",default:"mce-item-anchor"}),n("iframe_aria_text",{processor:"string",default:"Rich Text Area. Press ALT-0 for help."}),n("setup",{processor:"function"}),n("init_instance_callback",{processor:"function"}),n("url_converter",{processor:"function",default:e.convertURL}),n("url_converter_scope",{processor:"object",default:e}),n("urlconverter_callback",{processor:"function"}),n("allow_conditional_comments",{processor:"boolean",default:!1}),n("allow_html_data_urls",{processor:"boolean",default:!1}),n("allow_svg_data_urls",{processor:"boolean"}),n("allow_html_in_named_anchor",{processor:"boolean",default:!1}),n("allow_script_urls",{processor:"boolean",default:!1}),n("allow_unsafe_link_target",{processor:"boolean",default:!1}),n("convert_fonts_to_spans",{processor:"boolean",default:!0,deprecated:!0}),n("fix_list_elements",{processor:"boolean",default:!1}),n("preserve_cdata",{processor:"boolean",default:!1}),n("remove_trailing_brs",{processor:"boolean",default:!0}),n("pad_empty_with_br",{processor:"boolean",default:!1}),n("inline_styles",{processor:"boolean",default:!0,deprecated:!0}),n("element_format",{processor:"string",default:"html"}),n("entities",{processor:"string"}),n("schema",{processor:"string",default:"html5"}),n("convert_urls",{processor:"boolean",default:!0}),n("relative_urls",{processor:"boolean",default:!0}),n("remove_script_host",{processor:"boolean",default:!0}),n("custom_elements",{processor:Nw}),n("extended_valid_elements",{processor:"string"}),n("invalid_elements",{processor:"string"}),n("invalid_styles",{processor:Nw}),n("valid_children",{processor:"string"}),n("valid_classes",{processor:Nw}),n("valid_elements",{processor:"string"}),n("valid_styles",{processor:Nw}),n("verify_html",{processor:"boolean",default:!0}),n("auto_focus",{processor:o=>de(o)||o===!0}),n("browser_spellcheck",{processor:"boolean",default:!1}),n("protect",{processor:"array"}),n("images_file_types",{processor:"string",default:"jpeg,jpg,jpe,jfi,jif,jfif,png,gif,bmp,webp"}),n("deprecation_warnings",{processor:"boolean",default:!0}),n("a11y_advanced_options",{processor:"boolean",default:!1}),n("api_key",{processor:"string"}),n("license_key",{processor:"string"}),n("paste_block_drop",{processor:"boolean",default:!1}),n("paste_data_images",{processor:"boolean",default:!0}),n("paste_preprocess",{processor:"function"}),n("paste_postprocess",{processor:"function"}),n("paste_webkit_styles",{processor:"string",default:"none"}),n("paste_remove_styles_if_webkit",{processor:"boolean",default:!0}),n("paste_merge_formats",{processor:"boolean",default:!0}),n("smart_paste",{processor:"boolean",default:!0}),n("paste_as_text",{processor:"boolean",default:!1}),n("paste_tab_spaces",{processor:"number",default:4}),n("text_patterns",{processor:o=>dt(o,q)||o===!1?{value:Fb(o===!1?[]:o),valid:!0}:{valid:!1,message:"Must be an array of objects or false."},default:[{start:"*",end:"*",format:"italic"},{start:"**",end:"**",format:"bold"},{start:"#",format:"h1",trigger:"space"},{start:"##",format:"h2",trigger:"space"},{start:"###",format:"h3",trigger:"space"},{start:"####",format:"h4",trigger:"space"},{start:"#####",format:"h5",trigger:"space"},{start:"######",format:"h6",trigger:"space"},{start:"1.",cmd:"InsertOrderedList",trigger:"space"},{start:"*",cmd:"InsertUnorderedList",trigger:"space"},{start:"-",cmd:"InsertUnorderedList",trigger:"space"},{start:">",cmd:"mceBlockQuote",trigger:"space"},{start:"---",cmd:"InsertHorizontalRule",trigger:"space"}]}),n("text_patterns_lookup",{processor:o=>Te(o)?{value:Oy(o),valid:!0}:{valid:!1,message:"Must be a single function"},default:o=>[]}),n("noneditable_class",{processor:"string",default:"mceNonEditable"}),n("editable_class",{processor:"string",default:"mceEditable"}),n("noneditable_regexp",{processor:o=>dt(o,AI)?{value:o,valid:!0}:AI(o)?{value:[o],valid:!0}:{valid:!1,message:"Must be a RegExp or an array of RegExp."},default:[]}),n("table_tab_navigation",{processor:"boolean",default:!0}),n("highlight_on_focus",{processor:"boolean",default:!0}),n("xss_sanitization",{processor:"boolean",default:!0}),n("details_initial_state",{processor:o=>{const a=Se(["inherited","collapsed","expanded"],o);return a?{value:o,valid:a}:{valid:!1,message:"Must be one of: inherited, collapsed, or expanded."}},default:"inherited"}),n("details_serialized_state",{processor:o=>{const a=Se(["inherited","collapsed","expanded"],o);return a?{value:o,valid:a}:{valid:!1,message:"Must be one of: inherited, collapsed, or expanded."}},default:"inherited"}),n("init_content_sync",{processor:"boolean",default:!1}),n("newdocument_content",{processor:"string",default:""}),n("sandbox_iframes",{processor:"boolean",default:!0}),n("sandbox_iframes_exclusions",{processor:"string[]",default:["youtube.com","youtu.be","vimeo.com","player.vimeo.com","dailymotion.com","embed.music.apple.com","open.spotify.com","giphy.com","dai.ly","codepen.io"]}),n("convert_unsafe_embeds",{processor:"boolean",default:!0}),e.on("ScriptsLoaded",()=>{n("directionality",{processor:"string",default:Yu.isRtl()?"rtl":void 0}),n("placeholder",{processor:"string",default:y8.getAttrib(e.getElement(),"placeholder")})})},gc=zn("iframe_attrs"),xm=zn("doctype"),Ed=zn("document_base_url"),xS=zn("body_id"),lT=zn("body_class"),OI=zn("content_security_policy"),cT=zn("br_in_pre"),Jl=zn("forced_root_block"),Mw=zn("forced_root_block_attrs"),uT=zn("newline_behavior"),RI=zn("br_newline_selector"),II=zn("no_newline_selector"),dT=zn("keep_styles"),fT=zn("end_container_on_empty_block"),vr=zn("automatic_uploads"),Np=zn("images_reuse_filename"),DI=zn("images_replace_blob_uris"),mT=zn("icons"),PI=zn("icons_url"),gT=zn("images_upload_url"),NI=zn("images_upload_base_path"),hT=zn("images_upload_credentials"),w8=zn("images_upload_handler"),MI=zn("content_css_cors"),Lw=zn("referrer_policy"),pT=zn("language"),C8=zn("language_url"),LI=zn("indent_use_margin"),Td=zn("indentation"),kc=zn("content_css"),Ry=zn("content_style"),BI=zn("font_css"),S8=zn("directionality"),Os=zn("inline_boundaries_selector"),FI=zn("object_resizing"),$I=zn("resize_img_proportional"),bT=zn("placeholder"),VI=zn("event_root"),_8=zn("service_message"),Iy=zn("theme"),k8=zn("theme_url"),Bw=zn("model"),vT=zn("model_url"),Dy=zn("inline_boundaries"),E8=zn("formats"),T8=zn("preview_styles"),A8=zn("format_empty_lines"),Oo=zn("format_noneditable_selector"),zI=zn("custom_ui_selector"),A0=zn("inline"),yT=zn("hidden_input"),HI=zn("submit_patch"),UI=zn("add_form_submit_trigger"),WI=zn("add_unload_trigger"),KI=zn("custom_undo_redo_levels"),O8=zn("disable_nodechange"),jI=zn("readonly"),Gs=zn("editable_root"),ZI=zn("content_css_cors"),wm=zn("plugins"),bh=zn("external_plugins"),wS=zn("block_unsupported_drop"),ed=zn("visual"),CS=zn("visual_table_class"),Py=zn("visual_anchor_class"),Fw=zn("iframe_aria_text"),Ny=zn("setup"),R8=zn("init_instance_callback"),I8=zn("urlconverter_callback"),D8=zn("auto_focus"),P8=zn("browser_spellcheck"),Ds=zn("protect"),hg=zn("paste_block_drop"),vh=zn("paste_data_images"),N8=zn("paste_preprocess"),$w=zn("paste_postprocess"),Ls=zn("newdocument_content"),GI=zn("paste_webkit_styles"),xT=zn("paste_remove_styles_if_webkit"),M8=zn("paste_merge_formats"),O0=zn("smart_paste"),R0=zn("paste_as_text"),qI=zn("paste_tab_spaces"),L8=zn("allow_html_data_urls"),B8=zn("text_patterns"),Vw=zn("text_patterns_lookup"),I0=zn("noneditable_class"),F8=zn("editable_class"),YI=zn("noneditable_regexp"),$8=zn("preserve_cdata"),XI=zn("highlight_on_focus"),JI=zn("xss_sanitization"),QI=zn("init_content_sync"),wT=e=>e.options.isSet("text_patterns_lookup"),CT=e=>dn.explode(e.options.get("font_size_style_values")),ST=e=>dn.explode(e.options.get("font_size_classes")),eD=e=>e.options.get("encoding")==="xml",_T=e=>dn.explode(e.options.get("images_file_types")),tD=zn("table_tab_navigation"),SS=zn("details_initial_state"),nD=zn("details_serialized_state"),kT=zn("sandbox_iframes"),_S=e=>e.options.get("sandbox_iframes_exclusions"),oD=zn("convert_unsafe_embeds"),sD=zn("license_key"),rD=zn("api_key"),V8=Un,iD=on,zw=e=>{const n=e.parentNode;n&&n.removeChild(e)},ET=e=>{const n=mc(e);return{count:e.length-n.length,text:n}},TT=e=>{let n;for(;(n=e.data.lastIndexOf(ta))!==-1;)e.deleteData(n,1)},AT=(e,n)=>($b(e),n),z8=(e,n)=>{const o=ET(e.data.substr(0,n.offset())),a=ET(e.data.substr(n.offset()));return(o.text+a.text).length>0?(TT(e),Dt(e,n.offset()-o.count)):n},H8=(e,n)=>{const o=n.container(),a=it($o(o.childNodes),e).map(c=>c<n.offset()?Dt(o,n.offset()-1):n).getOr(n);return $b(e),a},U8=(e,n)=>iD(e)&&n.container()===e?z8(e,n):AT(e,n),W8=(e,n)=>n.container()===e.parentNode?H8(e,n):AT(e,n),K8=(e,n)=>Dt.isTextPosition(n)?U8(e,n):W8(e,n),$b=e=>{V8(e)&&Zc(e)&&(py(e)?e.removeAttribute("data-mce-caret"):zw(e)),iD(e)&&(TT(e),e.data.length===0&&zw(e))},aD=To,kS=Lt,j8=Xg,OT="*[contentEditable=false],video,audio,embed,object",lD=(e,n,o)=>{const a=y0(n.getBoundingClientRect(),o);let c,m;if(e.tagName==="BODY"){const S=e.ownerDocument.documentElement;c=e.scrollLeft||S.scrollLeft,m=e.scrollTop||S.scrollTop}else{const S=e.getBoundingClientRect();c=e.scrollLeft-S.left,m=e.scrollTop-S.top}a.left+=c,a.right+=c,a.top+=m,a.bottom+=m,a.width=1;let p=n.offsetWidth-n.clientWidth;return p>0&&(o&&(p*=-1),a.left+=p,a.right+=p),a},cD=e=>{var n,o;const a=bi(Ye.fromDom(e),OT);for(let c=0;c<a.length;c++){const m=a[c].dom;let p=m.previousSibling;if(ym(p)){const S=p.data;S.length===1?(n=p.parentNode)===null||n===void 0||n.removeChild(p):p.deleteData(S.length-1,1)}p=m.nextSibling,b0(p)&&(p.data.length===1?(o=p.parentNode)===null||o===void 0||o.removeChild(p):p.deleteData(0,1))}},uD=(e,n,o,a)=>{const c=Ai();let m,p;const S=Jl(e),T=e.dom,V=(ke,$e)=>{let nt;if(X(),j8($e))return null;if(o($e)){const ut=dS(S,$e,ke),at=lD(n,$e,ke);T.setStyle(ut,"top",at.top),T.setStyle(ut,"caret-color","transparent"),p=ut;const kt=T.create("div",{class:"mce-visual-caret","data-mce-bogus":"all"});T.setStyles(kt,{...at}),T.add(n,kt),c.set({caret:kt,element:$e,before:ke}),ke&&T.addClass(kt,"mce-visual-caret-before"),ee(),nt=$e.ownerDocument.createRange(),nt.setStart(ut,0),nt.setEnd(ut,0)}else return p=by($e,ke),nt=$e.ownerDocument.createRange(),Hw(p.nextSibling)?(nt.setStart(p,0),nt.setEnd(p,0)):(nt.setStart(p,1),nt.setEnd(p,1)),nt;return nt},X=()=>{cD(n),p&&($b(p),p=null),c.on(ke=>{T.remove(ke.caret),c.clear()}),m&&(clearInterval(m),m=void 0)},ee=()=>{m=setInterval(()=>{c.on(ke=>{a()?T.toggleClass(ke.caret,"mce-visual-caret-hidden"):T.addClass(ke.caret,"mce-visual-caret-hidden")})},500)};return{show:V,hide:X,getCss:()=>".mce-visual-caret {position: absolute;background-color: black;background-color: currentcolor;}.mce-visual-caret-hidden {display: none;}*[data-mce-caret] {position: absolute;left: -1000px;right: auto;top: 0;margin: 0;padding: 0;}",reposition:()=>{c.on(ke=>{const $e=lD(n,ke.element,ke.before);T.setStyles(ke.caret,{...$e})})},destroy:()=>clearInterval(m)}},RT=()=>os.browser.isFirefox(),Hw=e=>aD(e)||kS(e),Uw=e=>(Hw(e)||mu(e)&&RT())&&of(Ye.fromDom(e)).exists(Sr),ES=Kc,TS=To,dD=Lt,IT=Uc("display","block table table-cell table-caption list-item"),DT=Zc,fD=Db,Z8=Un,AS=on,mD=Sd,D0=e=>e>0,P0=e=>e<0,OS=(e,n)=>{let o;for(;o=e(n);)if(!fD(o))return o;return null},Ww=(e,n,o,a,c)=>{const m=new Na(e,a),p=TS(e)||fD(e);let S;if(P0(n)){if(p&&(S=OS(m.prev.bind(m),!0),o(S)))return S;for(;S=OS(m.prev.bind(m),c);)if(o(S))return S}if(D0(n)){if(p&&(S=OS(m.next.bind(m),!0),o(S)))return S;for(;S=OS(m.next.bind(m),c);)if(o(S))return S}return null},G8=(e,n)=>{const o=c=>ES(c.dom),a=c=>c.dom===n;return Ga(Ye.fromDom(e),o,a).map(c=>c.dom).getOr(n)},Vb=(e,n)=>{for(;e&&e!==n;){if(IT(e))return e;e=e.parentNode}return null},yh=(e,n,o)=>Vb(e.container(),o)===Vb(n.container(),o),RS=(e,n)=>{if(!n)return te.none();const o=n.container(),a=n.offset();return Z8(o)?te.from(o.childNodes[a+e]):te.none()},gD=(e,n)=>{var o;const c=((o=n.ownerDocument)!==null&&o!==void 0?o:document).createRange();return e?(c.setStartBefore(n),c.setEndBefore(n)):(c.setStartAfter(n),c.setEndAfter(n)),c},hD=(e,n,o)=>Vb(n,e)===Vb(o,e),PT=(e,n,o)=>{const a=e?"previousSibling":"nextSibling";let c=o;for(;c&&c!==n;){let m=c[a];if(m&&DT(m)&&(m=m[a]),TS(m)||dD(m)){if(hD(n,m,c))return m;break}if(mD(m))break;c=c.parentNode}return null},Kw=rt(gD,!0),jw=rt(gD,!1),NT=(e,n,o)=>{let a;const c=rt(PT,!0,n),m=rt(PT,!1,n),p=o.startContainer,S=o.startOffset;if(Db(p)){const T=AS(p)?p.parentNode:p,V=T.getAttribute("data-mce-caret");if(V==="before"&&(a=T.nextSibling,Uw(a)))return Kw(a);if(V==="after"&&(a=T.previousSibling,Uw(a)))return jw(a)}if(!o.collapsed)return o;if(on(p)){if(DT(p)){if(e===1){if(a=m(p),a)return Kw(a);if(a=c(p),a)return jw(a)}if(e===-1){if(a=c(p),a)return jw(a);if(a=m(p),a)return Kw(a)}return o}if(ym(p)&&S>=p.data.length-1)return e===1&&(a=m(p),a)?Kw(a):o;if(b0(p)&&S<=1)return e===-1&&(a=c(p),a)?jw(a):o;if(S===p.data.length)return a=m(p),a?Kw(a):o;if(S===0)return a=c(p),a?jw(a):o}return o},pD=(e,n)=>RS(e?0:-1,n).filter(TS),Zw=(e,n,o)=>{const a=NT(e,n,o);return e===-1?Dt.fromRangeStart(a):Dt.fromRangeEnd(a)},IS=e=>te.from(e.getNode()).map(Ye.fromDom),q8=e=>te.from(e.getNode(!0)).map(Ye.fromDom),MT=(e,n)=>{let o=n;for(;o=e(o);)if(o.isVisible())return o;return o},DS=(e,n)=>{const o=yh(e,n);return!o&&Ar(e.getNode())?!0:o};var Bl;(function(e){e[e.Backwards=-1]="Backwards",e[e.Forwards=1]="Forwards"})(Bl||(Bl={}));const Y8=To,xh=on,bD=Un,eo=Ar,N0=Sd,LT=Mb,PS=C0,BT=(e,n)=>{const o=[];let a=e;for(;a&&a!==n;)o.push(a),a=a.parentNode;return o},vD=(e,n)=>e.hasChildNodes()&&n<e.childNodes.length?e.childNodes[n]:null,Gw=(e,n)=>{if(D0(e)){if(N0(n.previousSibling)&&!xh(n.previousSibling))return Dt.before(n);if(xh(n))return Dt(n,0)}if(P0(e)){if(N0(n.nextSibling)&&!xh(n.nextSibling))return Dt.after(n);if(xh(n))return Dt(n,n.data.length)}return P0(e)?eo(n)?Dt.before(n):Dt.after(n):Dt.before(n)},yD=(e,n)=>{const o=n.nextSibling;return o&&N0(o)?xh(o)?Dt(o,0):Dt.before(o):FT(Bl.Forwards,Dt.after(n),e)},FT=(e,n,o)=>{let a,c,m,p;if(!bD(o)||!n)return null;if(n.isEqual(Dt.after(o))&&o.lastChild){if(p=Dt.after(o.lastChild),P0(e)&&N0(o.lastChild)&&bD(o.lastChild))return eo(o.lastChild)?Dt.before(o.lastChild):p}else p=n;const S=p.container();let T=p.offset();if(xh(S)){if(P0(e)&&T>0)return Dt(S,--T);if(D0(e)&&T<S.length)return Dt(S,++T);a=S}else{if(P0(e)&&T>0&&(c=vD(S,T-1),N0(c)))return!LT(c)&&(m=Ww(c,e,PS,c),m)?xh(m)?Dt(m,m.data.length):Dt.after(m):xh(c)?Dt(c,c.data.length):Dt.before(c);if(D0(e)&&T<S.childNodes.length&&(c=vD(S,T),N0(c)))return eo(c)?yD(o,c):!LT(c)&&(m=Ww(c,e,PS,c),m)?xh(m)?Dt(m,0):Dt.before(m):xh(c)?Dt(c,0):Dt.after(c);a=c||p.getNode()}if(a&&(D0(e)&&p.isAtEnd()||P0(e)&&p.isAtStart())&&(a=Ww(a,e,Jt,o,!0),PS(a,o)))return Gw(e,a);c=a&&Ww(a,e,PS,o);const V=la(Je(BT(S,o),Y8));return V&&(!c||!V.contains(c))?(D0(e)?p=Dt.after(V):p=Dt.before(V),p):c?Gw(e,c):null},go=e=>({next:n=>FT(Bl.Forwards,n,e),prev:n=>FT(Bl.Backwards,n,e)}),jo=(e,n,o)=>{const a=e?Dt.before(o):Dt.after(o);return Ad(e,n,a)},xD=e=>Ar(e)?Dt.before(e):Dt.after(e),wD=e=>Dt.isTextPosition(e)?e.offset()===0:Sd(e.getNode()),CD=e=>{if(Dt.isTextPosition(e)){const n=e.container();return e.offset()===n.data.length}else return Sd(e.getNode(!0))},SD=(e,n)=>!Dt.isTextPosition(e)&&!Dt.isTextPosition(n)&&e.getNode()===n.getNode(!0),Eo=e=>!Dt.isTextPosition(e)&&Ar(e.getNode()),qw=(e,n,o)=>e?!SD(n,o)&&!Eo(n)&&CD(n)&&wD(o):!SD(o,n)&&wD(n)&&CD(o),Ad=(e,n,o)=>{const a=go(n);return te.from(e?a.next(o):a.prev(o))},M0=(e,n,o)=>Ad(e,n,o).bind(a=>yh(o,a,n)&&qw(e,o,a)?Ad(e,n,a):te.some(a)),_D=(e,n,o,a)=>M0(e,n,o).bind(c=>a(c)?_D(e,n,c,a):te.some(c)),My=(e,n)=>{const o=e?n.firstChild:n.lastChild;return on(o)?te.some(Dt(o,e?0:o.data.length)):o?Sd(o)?te.some(e?Dt.before(o):xD(o)):jo(e,n,o):te.none()},Gc=rt(Ad,!0),td=rt(Ad,!1),yo=rt(My,!0),yf=rt(My,!1),Ly="_mce_caret",Od=e=>Un(e)&&e.id===Ly,zb=(e,n)=>{let o=n;for(;o&&o!==e;){if(Od(o))return o;o=o.parentNode}return null},kD=e=>de(e.start),ED=e=>So(e,"rng"),TD=e=>So(e,"id"),$T=e=>So(e,"name"),AD=e=>dn.isArray(e.start),NS=e=>!$T(e)&&Ue(e.forward)?e.forward:!0,OD=(e,n)=>(Un(n)&&e.isBlock(n)&&!n.innerHTML&&(n.innerHTML='<br data-mce-bogus="1" />'),n),X8=(e,n)=>{const o=te.from(me(e.getRoot(),n.start)),a=te.from(me(e.getRoot(),n.end));return da(o,a,(c,m)=>{const p=e.createRng();return p.setStart(c.container(),c.offset()),p.setEnd(m.container(),m.offset()),{range:p,forward:NS(n)}})},J8=(e,n)=>{var o;const c=((o=e.ownerDocument)!==null&&o!==void 0?o:document).createTextNode(ta);e.appendChild(c),n.setStart(c,0),n.setEnd(c,0)},VT=e=>!e.hasChildNodes(),zT=(e,n)=>yf(e).fold(Bn,o=>(n.setStart(o.container(),o.offset()),n.setEnd(o.container(),o.offset()),!0)),RD=(e,n,o)=>VT(n)&&zb(e,n)?(J8(n,o),!0):!1,ID=(e,n,o,a)=>{const c=o[n?"start":"end"],m=e.getRoot();if(c){let p=m,S=c[0];for(let T=c.length-1;p&&T>=1;T--){const V=p.childNodes;if(RD(m,p,a))return!0;if(c[T]>V.length-1)return RD(m,p,a)?!0:zT(p,a);p=V[c[T]]}on(p)&&(S=Math.min(c[0],p.data.length)),Un(p)&&(S=Math.min(c[0],p.childNodes.length)),n?a.setStart(p,S):a.setEnd(p,S)}return!0},HT=e=>on(e)&&e.data.length>0,DD=(e,n,o)=>{const a=e.get(o.id+"_"+n),c=a==null?void 0:a.parentNode,m=o.keep;if(a&&c){let p,S;if(n==="start"?m?a.hasChildNodes()?(p=a.firstChild,S=1):HT(a.nextSibling)?(p=a.nextSibling,S=0):HT(a.previousSibling)?(p=a.previousSibling,S=a.previousSibling.data.length):(p=c,S=e.nodeIndex(a)+1):(p=c,S=e.nodeIndex(a)):m?a.hasChildNodes()?(p=a.firstChild,S=1):HT(a.previousSibling)?(p=a.previousSibling,S=a.previousSibling.data.length):(p=c,S=e.nodeIndex(a)):(p=c,S=e.nodeIndex(a)),!m){const T=a.previousSibling,V=a.nextSibling;dn.each(dn.grep(a.childNodes),ee=>{on(ee)&&(ee.data=ee.data.replace(/\uFEFF/g,""))});let X;for(;X=e.get(o.id+"_"+n);)e.remove(X,!0);if(on(V)&&on(T)&&!os.browser.isOpera()){const ee=T.data.length;T.appendData(V.data),e.remove(V),p=T,S=ee}}return te.some(Dt(p,S))}else return te.none()},PD=(e,n)=>{const o=e.createRng();return ID(e,!0,n,o)&&ID(e,!1,n,o)?te.some({range:o,forward:NS(n)}):te.none()},L0=(e,n)=>{const o=DD(e,"start",n),a=DD(e,"end",n);return da(o,a.or(o),(c,m)=>{const p=e.createRng();return p.setStart(OD(e,c.container()),c.offset()),p.setEnd(OD(e,m.container()),m.offset()),{range:p,forward:NS(n)}})},ND=(e,n)=>te.from(e.select(n.name)[n.index]).map(o=>{const a=e.createRng();return a.selectNode(o),{range:a,forward:!0}}),MD=(e,n)=>{const o=e.dom;if(n){if(AD(n))return PD(o,n);if(kD(n))return X8(o,n);if(TD(n))return L0(o,n);if($T(n))return ND(o,n);if(ED(n))return te.some({range:n.rng,forward:NS(n)})}return te.none()},Q8=(e,n,o)=>St(e,n,o),e7=(e,n)=>{MD(e,n).each(({range:o,forward:a})=>{e.setRng(o,a)})},Rd=e=>Un(e)&&e.tagName==="SPAN"&&e.getAttribute("data-mce-type")==="bookmark",Ql=(e=>n=>e===n)(ea),B0=e=>e!==""&&` \f
\r	\v`.indexOf(e)!==-1,Mp=e=>!B0(e)&&!Ql(e)&&!Wu(e),zr=e=>{const n=[];if(e)for(let o=0;o<e.rangeCount;o++)n.push(e.getRangeAt(o));return n},xf=e=>Jo(e,n=>{const o=Nb(n);return o?[Ye.fromDom(o)]:[]}),Yw=e=>zr(e).length>1,MS=e=>Je(xf(e),Xu),By=e=>bi(e,"td[data-mce-selected],th[data-mce-selected]"),LD=(e,n)=>{const o=By(n);return o.length>0?o:MS(e)},pg=e=>LD(zr(e.selection.getSel()),Ye.fromDom(e.getBody())),tr=(e,n)=>Bc(e,"table",n),Xw=e=>{const n=e.startContainer,o=e.startOffset;return on(n)?o===0?te.some(Ye.fromDom(n)):te.none():te.from(n.childNodes[o]).map(Ye.fromDom)},BD=e=>{const n=e.endContainer,o=e.endOffset;return on(n)?o===n.data.length?te.some(Ye.fromDom(n)):te.none():te.from(n.childNodes[o-1]).map(Ye.fromDom)},UT=e=>Zl(e).fold(ft([e]),n=>[e].concat(UT(n))),Jw=e=>$u(e).fold(ft([e]),n=>hs(n)==="br"?Mi(n).map(o=>[e].concat(Jw(o))).getOr([]):[e].concat(Jw(n))),Qw=(e,n)=>da(Xw(n),BD(n),(o,a)=>{const c=An(UT(e),rt(us,o)),m=An(Jw(e),rt(us,a));return c.isSome()&&m.isSome()}).getOr(!1),e2=(e,n,o,a)=>{const c=o,m=new Na(o,c),p=Ic(e.schema.getMoveCaretBeforeOnEnterElements(),(T,V)=>!Se(["td","th","table"],V.toLowerCase()));let S=o;do{if(on(S)&&dn.trim(S.data).length!==0){a?n.setStart(S,0):n.setEnd(S,S.data.length);return}if(p[S.nodeName]){a?n.setStartBefore(S):S.nodeName==="BR"?n.setEndBefore(S):n.setEndAfter(S);return}}while(S=a?m.next():m.prev());c.nodeName==="BODY"&&(a?n.setStart(c,0):n.setEnd(c,c.childNodes.length))},Fy=e=>{const n=e.selection.getSel();return Ce(n)&&n.rangeCount>0},$y=(e,n)=>{const o=pg(e);o.length>0?xe(o,a=>{const c=a.dom,m=e.dom.createRng();m.setStartBefore(c),m.setEndAfter(c),n(m,!0)}):n(e.selection.getRng(),!1)},LS=(e,n,o)=>{const a=hn(e,n);o(a),e.moveToBookmark(a)},Vy=e=>I(e==null?void 0:e.nodeType),BS=e=>Un(e)&&!Rd(e)&&!Od(e)&&!df(e),FD=(e,n)=>{if(BS(n)&&!/^(TD|TH)$/.test(n.nodeName)){const o=e.getAttrib(n,"data-mce-selected"),a=parseInt(o,10);return!isNaN(a)&&a>0}else return!1},WT=(e,n,o)=>{const{selection:a,dom:c}=e,m=a.getNode(),p=To(m);LS(a,!0,()=>{n()}),p&&To(m)&&c.isChildOf(m,e.getBody())?e.selection.select(m):o(a.getStart())&&$D(c,a)},$D=(e,n)=>{var o,a;const c=n.getRng(),{startContainer:m,startOffset:p}=c,S=n.getNode();if(!FD(e,S)&&Un(m)){const T=m.childNodes,V=e.getRoot();let X;if(p<T.length){const ee=T[p];X=new Na(ee,(o=e.getParent(ee,e.isBlock))!==null&&o!==void 0?o:V)}else{const ee=T[T.length-1];X=new Na(ee,(a=e.getParent(ee,e.isBlock))!==null&&a!==void 0?a:V),X.next(!0)}for(let ee=X.current();ee;ee=X.next()){if(e.getContentEditable(ee)==="false")return;if(on(ee)&&!KT(ee)){c.setStart(ee,0),n.setRng(c);return}}}},F0=(e,n,o)=>{if(e){const a=n?"nextSibling":"previousSibling";for(e=e[a];e;e=e[a])if(Un(e)||!KT(e))return e}},FS=(e,n)=>!!e.getTextBlockElements()[n.nodeName.toLowerCase()]||hu(e,n),Hb=(e,n,o)=>e.schema.isValidChild(n,o),KT=(e,n=!1)=>{if(Ce(e)&&on(e)){const o=n?e.data.replace(/ /g,""):e.data;return lc(o)}else return!1},n7=e=>Ce(e)&&on(e)&&e.length===0,VD=(e,n)=>{const o="[data-mce-cef-wrappable]",a=Oo(e),c=rn(a)?o:`${o},${a}`;return qs(Ye.fromDom(n),c)},jT=(e,n)=>{const o=e.dom;return BS(n)&&o.getContentEditable(n)==="false"&&VD(e,n)&&o.select('[contenteditable="true"]',n).length===0},Lp=(e,n)=>Te(e)?e(n):(Ce(n)&&(e=e.replace(/%(\w+)/g,(o,a)=>n[a]||o)),e),zy=(e,n)=>(e=e||"",n=n||"",e=""+(e.nodeName||e),n=""+(n.nodeName||n),e.toLowerCase()===n.toLowerCase()),$S=(e,n)=>{if(ct(e))return null;{let o=String(e);return(n==="color"||n==="backgroundColor")&&(o=t0(o)),n==="fontWeight"&&e===700&&(o="bold"),n==="fontFamily"&&(o=o.replace(/[\'\"]/g,"").replace(/,\s+/g,",")),o}},t2=(e,n,o)=>{const a=e.getStyle(n,o);return $S(a,o)},ZT=(e,n)=>{let o;return e.getParent(n,a=>Un(a)?(o=e.getStyle(a,"text-decoration"),!!o&&o!=="none"):!1),o},n2=(e,n,o)=>e.getParents(n,o,e.getRoot()),VS=(e,n,o)=>{const a=e.formatter.get(n);return Ce(a)&&Me(a,o)},zD=(e,n)=>VS(e,n,a=>{const c=m=>Te(m)||m.length>1&&m.charAt(0)==="%";return Me(["styles","attributes"],m=>Zs(a,m).exists(p=>{const S=oe(p)?p:Dc(p);return Me(S,c)}))}),HD=(e,n,o)=>{const a=["inline","block","selector","attributes","styles","classes"],c=m=>Ic(m,(p,S)=>Me(a,T=>T===S));return VS(e,n,m=>{const p=c(m);return VS(e,o,S=>{const T=c(S);return Ui(p,T)})})},bg=e=>dl(e,"block"),UD=e=>bg(e)&&e.wrapper===!0,WD=e=>bg(e)&&e.wrapper!==!0,nd=e=>dl(e,"selector"),sl=e=>dl(e,"inline"),KD=e=>nd(e)&&sl(e)&&Yd(Zs(e,"mixed"),!0),zS=e=>nd(e)&&e.expand!==!1&&!sl(e),jD=e=>{const n=[];let o=e;for(;o;){if(on(o)&&o.data!==ta||o.childNodes.length>1)return[];Un(o)&&n.push(o),o=o.firstChild}return n},GT=e=>jD(e).length>0,HS=e=>Od(e.dom)&&GT(e.dom),Ub=Rd,o2=n2,US=KT,WS=FS,ZD=e=>Ar(e)&&e.getAttribute("data-mce-bogus")&&!e.nextSibling,s2=(e,n)=>{let o=n;for(;o;){if(Un(o)&&e.getContentEditable(o))return e.getContentEditable(o)==="false"?o:n;o=o.parentNode}return n},KS=(e,n,o,a)=>{const c=n.data;if(e){for(let m=o;m>0;m--)if(a(c.charAt(m-1)))return m}else for(let m=o;m<c.length;m++)if(a(c.charAt(m)))return m;return-1},r2=(e,n,o)=>KS(e,n,o,a=>Ql(a)||B0(a)),qT=(e,n,o)=>KS(e,n,o,Mp),YT=(e,n,o,a,c,m)=>{let p;const S=e.getParent(o,e.isBlock)||n,T=(X,ee,ae)=>{const we=hm(e),Ne=c?we.backwards:we.forwards;return te.from(Ne(X,ee,(ke,$e)=>Ub(ke.parentNode)?-1:(p=ke,ae(c,ke,$e)),S))};return T(o,a,r2).bind(X=>m?T(X.container,X.offset+(c?-1:0),qT):te.some(X)).orThunk(()=>p?te.some({container:p,offset:c?0:p.length}):te.none())},$0=(e,n,o,a,c)=>{const m=a[c];on(a)&&rn(a.data)&&m&&(a=m);const p=o2(e,a);for(let S=0;S<p.length;S++)for(let T=0;T<n.length;T++){const V=n[T];if(!(Ce(V.collapsed)&&V.collapsed!==o.collapsed)&&nd(V)&&e.is(p[S],V.selector))return p[S]}return a},jS=(e,n,o,a)=>{var c;let m=o;const p=e.getRoot(),S=n[0];if(bg(S)&&(m=S.wrapper?null:e.getParent(o,S.block,p)),!m){const T=(c=e.getParent(o,"LI,TD,TH,SUMMARY"))!==null&&c!==void 0?c:p;m=e.getParent(on(o)?o.parentNode:o,V=>V!==p&&WS(e.schema,V),T)}if(m&&bg(S)&&S.wrapper&&(m=o2(e,m,"ul,ol").reverse()[0]||m),!m)for(m=o;m&&m[a]&&!e.isBlock(m[a])&&(m=m[a],!zy(m,"br")););return m||o},ZS=(e,n,o,a)=>{const c=o.parentNode;return Ce(o[a])?!1:c===n||ct(c)||e.isBlock(c)?!0:ZS(e,n,c,a)},Bp=(e,n,o,a,c)=>{let m=o;const p=c?"previousSibling":"nextSibling",S=e.getRoot();if(on(o)&&!US(o)&&(c?a>0:a<o.data.length))return o;for(;m;){if(!n[0].block_expand&&e.isBlock(m))return m;for(let T=m[p];T;T=T[p]){const V=on(T)&&!ZS(e,S,T,p);if(!Ub(T)&&!ZD(T)&&!US(T,V))return m}if(m===S||m.parentNode===S){o=m;break}m=m.parentNode}return o},Fp=e=>Ub(e.parentNode)||Ub(e),Wb=(e,n,o,a=!1)=>{let{startContainer:c,startOffset:m,endContainer:p,endOffset:S}=n;const T=o[0];return Un(c)&&c.hasChildNodes()&&(c=na(c,m),on(c)&&(m=0)),Un(p)&&p.hasChildNodes()&&(p=na(p,n.collapsed?S:S-1),on(p)&&(S=p.data.length)),c=s2(e,c),p=s2(e,p),Fp(c)&&(c=Ub(c)?c:c.parentNode,n.collapsed?c=c.previousSibling||c:c=c.nextSibling||c,on(c)&&(m=n.collapsed?c.length:0)),Fp(p)&&(p=Ub(p)?p:p.parentNode,n.collapsed?p=p.nextSibling||p:p=p.previousSibling||p,on(p)&&(S=n.collapsed?0:p.length)),n.collapsed&&(YT(e,e.getRoot(),c,m,!0,a).each(({container:ee,offset:ae})=>{c=ee,m=ae}),YT(e,e.getRoot(),p,S,!1,a).each(({container:ee,offset:ae})=>{p=ee,S=ae})),(sl(T)||T.block_expand)&&((!sl(T)||!on(c)||m===0)&&(c=Bp(e,o,c,m,!0)),(!sl(T)||!on(p)||S===p.data.length)&&(p=Bp(e,o,p,S,!1))),zS(T)&&(c=$0(e,o,n,c,"previousSibling"),p=$0(e,o,n,p,"nextSibling")),(bg(T)||nd(T))&&(c=jS(e,o,c,"previousSibling"),p=jS(e,o,p,"nextSibling"),bg(T)&&(e.isBlock(c)||(c=Bp(e,o,c,m,!0),on(c)&&(m=0)),e.isBlock(p)||(p=Bp(e,o,p,S,!1),on(p)&&(S=p.data.length)))),Un(c)&&c.parentNode&&(m=e.nodeIndex(c),c=c.parentNode),Un(p)&&p.parentNode&&(S=e.nodeIndex(p)+1,p=p.parentNode),{startContainer:c,startOffset:m,endContainer:p,endOffset:S}},i2=(e,n,o)=>{var a;const c=n.startOffset,m=na(n.startContainer,c),p=n.endOffset,S=na(n.endContainer,p-1),T=$e=>{const nt=$e[0];on(nt)&&nt===m&&c>=nt.data.length&&$e.splice(0,1);const ut=$e[$e.length-1];return p===0&&$e.length>0&&ut===S&&on(ut)&&$e.splice($e.length-1,1),$e},V=($e,nt,ut)=>{const at=[];for(;$e&&$e!==ut;$e=$e[nt])at.push($e);return at},X=($e,nt)=>e.getParent($e,ut=>ut.parentNode===nt,nt),ee=($e,nt,ut)=>{const at=ut?"nextSibling":"previousSibling";for(let kt=$e,qt=kt.parentNode;kt&&kt!==nt;kt=qt){qt=kt.parentNode;const gn=V(kt===$e?kt:kt[at],at);gn.length&&(ut||gn.reverse(),o(T(gn)))}};if(m===S)return o(T([m]));const ae=(a=e.findCommonAncestor(m,S))!==null&&a!==void 0?a:e.getRoot();if(e.isChildOf(m,S))return ee(m,ae,!0);if(e.isChildOf(S,m))return ee(S,ae);const we=X(m,ae)||m,Ne=X(S,ae)||S;ee(m,we,!0);const ke=V(we===m?we:we.nextSibling,"nextSibling",Ne===S?Ne.nextSibling:Ne);ke.length&&o(T(ke)),ee(S,Ne)},o7=['pre[class*=language-][contenteditable="false"]',"figure.image","div[data-ephox-embed-iri]","div.tiny-pageembed","div.mce-toc","div[data-mce-toc]"],GD=e=>Cr(e)&&uh(e)===ta,qD=(e,n,o,a)=>Qi(n).fold(()=>"skipping",c=>a==="br"||GD(n)?"valid":pw(n)?"existing":Od(n.dom)?"caret":Me(o7,m=>qs(n,m))?"valid-block":!Hb(e,o,a)||!Hb(e,hs(c),o)?"invalid-child":"valid"),Kb=(e,n)=>{const o=Wb(e.dom,n,[{inline:"span"}]);n.setStart(o.startContainer,o.startOffset),n.setEnd(o.endContainer,o.endOffset),e.selection.setRng(n)},jb=(e,n,o,a,c,m)=>{const{uid:p=n,...S}=o;lu(e,ni()),Ei(e,`${Oi()}`,p),Ei(e,`${oi()}`,a);const{attributes:T={},classes:V=[]}=c(p,S);if(Ka(e,T),a0(e,V),m){V.length>0&&Ei(e,`${Yr()}`,V.join(","));const X=tn(T);X.length>0&&Ei(e,`${vi()}`,X.join(","))}},Fl=e=>{Ia(e,ni()),qo(e,`${Oi()}`),qo(e,`${oi()}`),qo(e,`${er()}`);const n=hi(e,`${vi()}`).map(a=>a.split(",")).getOr([]),o=hi(e,`${Yr()}`).map(a=>a.split(",")).getOr([]);xe(n,a=>qo(e,a)),Tp(e,o),qo(e,`${Yr()}`),qo(e,`${vi()}`)},wh=(e,n,o,a,c)=>{const m=Ye.fromTag("span",e);return jb(m,n,o,a,c,!1),m},Ks=(e,n,o,a,c,m)=>{const p=[],S=wh(e.getDoc(),o,m,a,c),T=Ai(),V=()=>{T.clear()},X=()=>T.get().getOrThunk(()=>{const Ne=yi(S);return p.push(Ne),T.set(Ne),Ne}),ee=Ne=>{xe(Ne,ae)},ae=Ne=>{switch(qD(e,Ne,"span",hs(Ne))){case"invalid-child":{V();const $e=ma(Ne);ee($e),V();break}case"valid-block":{V(),jb(Ne,o,m,a,c,!0);break}case"valid":{const $e=X();ac(Ne,$e);break}}},we=Ne=>{const ke=Ke(Ne,Ye.fromDom);ee(ke)};return i2(e.dom,n,Ne=>{V(),we(Ne)}),p},s7=(e,n,o,a)=>{e.undoManager.transact(()=>{const c=e.selection,m=c.getRng(),p=pg(e).length>0,S=Ml("mce-annotation");if(m.collapsed&&!p&&Kb(e,m),c.getRng().collapsed&&!p){const T=wh(e.getDoc(),S,a,n,o.decorate);fu(T,ea),c.getRng().insertNode(T.dom),c.select(T.dom)}else LS(c,!1,()=>{$y(e,T=>{Ks(e,T,S,n,o.decorate,a)})})})},YD=e=>{const n=vw();my(e,n);const o=fy(e,n),a=ef("span"),c=m=>{xe(m,p=>{a(p)?ga(p):Fl(p)})};return{register:(m,p)=>{n.register(m,p)},annotate:(m,p)=>{n.lookup(m).each(S=>{s7(e,m,S,p)})},annotationChanged:(m,p)=>{o.addListener(m,p)},remove:m=>{dy(e,te.some(m)).each(({elements:p})=>{const S=e.selection.getBookmark();c(p),e.selection.moveToBookmark(S)})},removeAll:m=>{const p=e.selection.getBookmark();Go(Ep(e,m),(S,T)=>{c(S)}),e.selection.moveToBookmark(p)},getAll:m=>{const p=Ep(e,m);return Wl(p,S=>Ke(S,T=>T.dom))}}},mr=e=>({getBookmark:rt(Q8,e),moveToBookmark:rt(e7,e)});mr.isBookmarkNode=Rd;const XT=(e,n,o)=>o.collapsed?!1:Me(o.getClientRects(),a=>yy(a,e,n)),a2=(e,n)=>e.dispatch("PreProcess",n),l2=(e,n)=>e.dispatch("PostProcess",n),c2=e=>{e.dispatch("remove")},u2=e=>{e.dispatch("detach")},XD=(e,n)=>{e.dispatch("SwitchMode",{mode:n})},r7=(e,n,o,a,c)=>{e.dispatch("ObjectResizeStart",{target:n,width:o,height:a,origin:c})},i7=(e,n,o,a,c)=>{e.dispatch("ObjectResized",{target:n,width:o,height:a,origin:c})},a7=e=>{e.dispatch("PreInit")},l7=e=>{e.dispatch("PostRender")},Ii=e=>{e.dispatch("Init")},JD=(e,n)=>{e.dispatch("PlaceholderToggle",{state:n})},JT=(e,n,o)=>{e.dispatch(n,o)},QD=(e,n,o,a)=>{e.dispatch("FormatApply",{format:n,node:o,vars:a})},eP=(e,n,o,a)=>{e.dispatch("FormatRemove",{format:n,node:o,vars:a})},c7=(e,n)=>e.dispatch("BeforeSetContent",n),vu=(e,n)=>e.dispatch("SetContent",n),vg=(e,n)=>e.dispatch("BeforeGetContent",n),tP=(e,n)=>e.dispatch("GetContent",n),QT=(e,n)=>{e.dispatch("AutocompleterStart",n)},eA=(e,n)=>{e.dispatch("AutocompleterUpdate",n)},tA=(e,n)=>{e.dispatch("AutocompleterUpdateActiveRange",n)},u7=e=>{e.dispatch("AutocompleterEnd")},d2=(e,n,o)=>e.dispatch("PastePreProcess",{content:n,internal:o}),GS=(e,n,o)=>e.dispatch("PastePostProcess",{node:n,internal:o}),qS=(e,n)=>e.dispatch("PastePlainTextToggle",{state:n}),d7=(e,n)=>e.dispatch("EditableRootStateChange",{state:n}),On={BACKSPACE:8,DELETE:46,DOWN:40,ENTER:13,ESC:27,LEFT:37,RIGHT:39,SPACEBAR:32,TAB:9,UP:38,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,modifierPressed:e=>e.shiftKey||e.ctrlKey||e.altKey||On.metaKeyPressed(e),metaKeyPressed:e=>os.os.isMacOS()||os.os.isiOS()?e.metaKey:e.ctrlKey&&!e.altKey},V0="data-mce-selected",f7="table,img,figure.image,hr,video,span.mce-preview-object,details",Id=Math.abs,Zb=Math.round,YS={nw:[0,0,-1,-1],ne:[1,0,1,-1],se:[1,1,1,1],sw:[0,1,-1,1]},Cm=e=>e.type==="longpress"||e.type.indexOf("touch")===0,ar=(e,n)=>{const o=n.dom,a=n.getDoc(),c=document,m=n.getBody();let p,S,T,V,X,ee,ae,we,Ne,ke,$e,nt,ut,at,kt,qt,gn;const Pn=Dn=>Ce(Dn)&&(Wc(Dn)||o.is(Dn,"figure.image")),$t=Dn=>Lt(Dn)||o.hasClass(Dn,"mce-preview-object"),Rt=(Dn,is)=>{if(Cm(Dn)){const bs=Dn.touches[0];return Pn(Dn.target)&&!XT(bs.clientX,bs.clientY,is)}else return Pn(Dn.target)&&!XT(Dn.clientX,Dn.clientY,is)},Zt=Dn=>{const is=Dn.target;Rt(Dn,n.selection.getRng())&&!Dn.isDefaultPrevented()&&n.selection.select(is)},Hn=Dn=>o.hasClass(Dn,"mce-preview-object")&&Ce(Dn.firstElementChild)?[Dn,Dn.firstElementChild]:o.is(Dn,"figure.image")?[Dn.querySelector("img")]:[Dn],so=Dn=>{const is=FI(n);return!is||Dn.getAttribute("data-mce-resize")==="false"||Dn===n.getBody()?!1:o.hasClass(Dn,"mce-preview-object")&&Ce(Dn.firstElementChild)?qs(Ye.fromDom(Dn.firstElementChild),is):qs(Ye.fromDom(Dn),is)},rs=(Dn,is)=>{if($t(is))return Dn.create("img",{src:os.transparentSrc});if(mu(is)){const Sl=wr(V.name,"n")?cn:uo,lr=is.cloneNode(!0);return Sl(Dn.select("tr",lr)).each(al=>{const kg=Dn.select("td,th",al);Dn.setStyle(al,"height",null),xe(kg,ob=>Dn.setStyle(ob,"height",null))}),lr}else return is.cloneNode(!0)},fs=(Dn,is,bs)=>{if(Ce(bs)){const Sl=Hn(Dn);xe(Sl,lr=>{lr.style[is]||!n.schema.isValid(lr.nodeName.toLowerCase(),is)?o.setStyle(lr,is,bs):o.setAttrib(lr,is,""+bs)})}},Js=(Dn,is,bs)=>{fs(Dn,"width",is),fs(Dn,"height",bs)},cr=Dn=>{let is,bs,Sl,lr,al;is=Dn.screenX-ee,bs=Dn.screenY-ae,at=is*V[2]+ke,kt=bs*V[3]+$e,at=at<5?5:at,kt=kt<5?5:kt,(Pn(p)||$t(p))&&$I(n)!==!1?Sl=!On.modifierPressed(Dn):Sl=On.modifierPressed(Dn),Sl&&(Id(is)>Id(bs)?(kt=Zb(at*nt),at=Zb(kt/nt)):(at=Zb(kt/nt),kt=Zb(at*nt))),Js(S,at,kt),lr=V.startPos.x+is,al=V.startPos.y+bs,lr=lr>0?lr:0,al=al>0?al:0,o.setStyles(T,{left:lr,top:al,display:"block"}),T.innerHTML=at+" &times; "+kt,V[2]<0&&S.clientWidth<=at&&o.setStyle(S,"left",we+(ke-at)),V[3]<0&&S.clientHeight<=kt&&o.setStyle(S,"top",Ne+($e-kt)),is=m.scrollWidth-qt,bs=m.scrollHeight-gn,is+bs!==0&&o.setStyles(T,{left:lr-is,top:al-bs}),ut||(r7(n,p,ke,$e,"corner-"+V.name),ut=!0)},Vi=()=>{const Dn=ut;ut=!1,Dn&&(fs(p,"width",at),fs(p,"height",kt)),o.unbind(a,"mousemove",cr),o.unbind(a,"mouseup",Vi),c!==a&&(o.unbind(c,"mousemove",cr),o.unbind(c,"mouseup",Vi)),o.remove(S),o.remove(T),o.remove(X),vc(p),Dn&&(i7(n,p,at,kt,"corner-"+V.name),o.setAttrib(p,"style",o.getAttrib(p,"style"))),n.nodeChanged()},vc=Dn=>{kn();const is=o.getPos(Dn,m),bs=is.x,Sl=is.y,lr=Dn.getBoundingClientRect(),al=lr.width||lr.right-lr.left,kg=lr.height||lr.bottom-lr.top;p!==Dn&&(wn(),p=Dn,at=kt=0);const ob=n.dispatch("ObjectSelected",{target:Dn});so(Dn)&&!ob.isDefaultPrevented()?Go(YS,(_u,Pf)=>{const Eg=Tg=>{const ao=Hn(p)[0];ee=Tg.screenX,ae=Tg.screenY,ke=ao.clientWidth,$e=ao.clientHeight,nt=$e/ke,V=_u,V.name=Pf,V.startPos={x:al*_u[0]+bs,y:kg*_u[1]+Sl},qt=m.scrollWidth,gn=m.scrollHeight,X=o.add(m,"div",{class:"mce-resize-backdrop","data-mce-bogus":"all"}),o.setStyles(X,{position:"fixed",left:"0",top:"0",width:"100%",height:"100%"}),S=rs(o,p),o.addClass(S,"mce-clonedresizable"),o.setAttrib(S,"data-mce-bogus","all"),S.contentEditable="false",o.setStyles(S,{left:bs,top:Sl,margin:0}),Js(S,al,kg),S.removeAttribute(V0),m.appendChild(S),o.bind(a,"mousemove",cr),o.bind(a,"mouseup",Vi),c!==a&&(o.bind(c,"mousemove",cr),o.bind(c,"mouseup",Vi)),T=o.add(m,"div",{class:"mce-resize-helper","data-mce-bogus":"all"},ke+" &times; "+$e)};let Nf=o.get("mceResizeHandle"+Pf);Nf&&o.remove(Nf),Nf=o.add(m,"div",{id:"mceResizeHandle"+Pf,"data-mce-bogus":"all",class:"mce-resizehandle",unselectable:!0,style:"cursor:"+Pf+"-resize; margin:0; padding:0"}),o.bind(Nf,"mousedown",Tg=>{Tg.stopImmediatePropagation(),Tg.preventDefault(),Eg(Tg)}),_u.elm=Nf,o.setStyles(Nf,{left:al*_u[0]+bs-Nf.offsetWidth/2,top:kg*_u[1]+Sl-Nf.offsetHeight/2})}):wn(!1)},yr=kp(vc,0),wn=(Dn=!0)=>{yr.cancel(),kn(),p&&Dn&&p.removeAttribute(V0),Go(YS,(is,bs)=>{const Sl=o.get("mceResizeHandle"+bs);Sl&&(o.unbind(Sl),o.remove(Sl))})},to=(Dn,is)=>o.isChildOf(Dn,is),Us=Dn=>{if(ut||n.removed||n.composing)return;const is=Dn.type==="mousedown"?Dn.target:e.getNode(),bs=Bi(Ye.fromDom(is),f7).map(lr=>lr.dom).filter(lr=>o.isEditable(lr.parentElement)||lr.nodeName==="IMG"&&o.isEditable(lr)).getOrUndefined(),Sl=Ce(bs)?o.getAttrib(bs,V0,"1"):"1";if(xe(o.select(`img[${V0}],hr[${V0}]`),lr=>{lr.removeAttribute(V0)}),Ce(bs)&&to(bs,m)&&n.hasFocus()){ho();const lr=e.getStart(!0);if(to(lr,bs)&&to(e.getEnd(!0),bs)){o.setAttrib(bs,V0,Sl),yr.throttle(bs);return}}wn()},kn=()=>{Go(YS,Dn=>{Dn.elm&&(o.unbind(Dn.elm),delete Dn.elm)})},ho=()=>{try{n.getDoc().execCommand("enableObjectResizing",!1,"false")}catch{}};return n.on("init",()=>{ho(),n.on("NodeChange ResizeEditor ResizeWindow ResizeContent drop",Us),n.on("keyup compositionend",Dn=>{p&&p.nodeName==="TABLE"&&Us(Dn)}),n.on("hide blur",wn),n.on("contextmenu longpress",Zt,!0)}),n.on("remove",kn),{isResizable:so,showResizeRect:vc,hideResizeRect:wn,updateResizeRect:Us,destroy:()=>{yr.cancel(),p=S=X=null}}},Hy=(e,n)=>{n.fold(o=>{e.setStartBefore(o.dom)},(o,a)=>{e.setStart(o.dom,a)},o=>{e.setStartAfter(o.dom)})},XS=(e,n)=>{n.fold(o=>{e.setEndBefore(o.dom)},(o,a)=>{e.setEnd(o.dom,a)},o=>{e.setEndAfter(o.dom)})},nA=(e,n,o)=>{const a=e.document.createRange();return Hy(a,n),XS(a,o),a},f2=(e,n,o,a,c)=>{const m=e.document.createRange();return m.setStart(n.dom,o),m.setEnd(a.dom,c),m},z0=ws.generate([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),nP=(e,n,o)=>n(Ye.fromDom(o.startContainer),o.startOffset,Ye.fromDom(o.endContainer),o.endOffset),oA=(e,n)=>n.match({domRange:o=>({ltr:ft(o),rtl:te.none}),relative:(o,a)=>({ltr:ml(()=>nA(e,o,a)),rtl:ml(()=>te.some(nA(e,a,o)))}),exact:(o,a,c,m)=>({ltr:ml(()=>f2(e,o,a,c,m)),rtl:ml(()=>te.some(f2(e,c,m,o,a)))})}),m7=(e,n)=>{const o=n.ltr();return o.collapsed?n.rtl().filter(c=>c.collapsed===!1).map(c=>z0.rtl(Ye.fromDom(c.endContainer),c.endOffset,Ye.fromDom(c.startContainer),c.startOffset)).getOrThunk(()=>nP(e,z0.ltr,o)):nP(e,z0.ltr,o)},oP=(e,n)=>{const o=oA(e,n);return m7(e,o)};z0.ltr,z0.rtl;const JS={create:(e,n,o,a)=>({start:e,soffset:n,finish:o,foffset:a})},sP=(e,n,o)=>{var a;return te.from((a=e.caretPositionFromPoint)===null||a===void 0?void 0:a.call(e,n,o)).bind(c=>{if(c.offsetNode===null)return te.none();const m=e.createRange();return m.setStart(c.offsetNode,c.offset),m.collapse(),te.some(m)})},QS=(e,n,o)=>{var a;return te.from((a=e.caretRangeFromPoint)===null||a===void 0?void 0:a.call(e,n,o))},h7=(e,n,o)=>e.caretPositionFromPoint?sP(e,n,o):e.caretRangeFromPoint?QS(e,n,o):te.none(),p7=(e,n,o)=>{const a=e.document;return h7(a,n,o).map(c=>JS.create(Ye.fromDom(c.startContainer),c.startOffset,Ye.fromDom(c.endContainer),c.endOffset))},sA=ws.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),b7=(e,n,o,a)=>e.fold(n,o,a),v7=e=>e.fold(Rn,Rn,Rn),rP=sA.before,y7=sA.on,x7=sA.after,Ch={before:rP,on:y7,after:x7,cata:b7,getStart:v7},m2=ws.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),w7=e=>m2.exact(e.start,e.soffset,e.finish,e.foffset),C7=e=>e.match({domRange:n=>Ye.fromDom(n.startContainer),relative:(n,o)=>Ch.getStart(n),exact:(n,o,a,c)=>n}),iP=m2.domRange,wf=m2.relative,S7=m2.exact,aP=e=>{const n=C7(e);return Lu(n)},rA=JS.create,Gb={domRange:iP,relative:wf,exact:S7,exactFromRange:w7,getWin:aP,range:rA},g2=(e,n)=>{const o=hs(e);return o==="input"?Ch.after(e):Se(["br","img"],o)?n===0?Ch.before(e):Ch.after(e):Ch.on(e,n)},lP=(e,n)=>{const o=e.fold(Ch.before,g2,Ch.after),a=n.fold(Ch.before,g2,Ch.after);return Gb.relative(o,a)},e_=(e,n,o,a)=>{const c=g2(e,n),m=g2(o,a);return Gb.relative(c,m)},cP=e=>e.match({domRange:n=>{const o=Ye.fromDom(n.startContainer),a=Ye.fromDom(n.endContainer);return e_(o,n.startOffset,a,n.endOffset)},relative:lP,exact:e_}),od=(e,n)=>{const a=document.createDocumentFragment();return xe(e,c=>{a.appendChild(c.dom)}),Ye.fromDom(a)},_7=e=>{const n=Gb.getWin(e).dom,o=(c,m,p,S)=>f2(n,c,m,p,S),a=cP(e);return oP(n,a).match({ltr:o,rtl:o})},iA=(e,n,o)=>p7(e,n,o),uP=(e,n,o)=>{const a=Lu(Ye.fromDom(o));return iA(a.dom,e,n).map(c=>{const m=o.createRange();return m.setStart(c.start.dom,c.soffset),m.setEnd(c.finish.dom,c.foffset),m}).getOrUndefined()},h2=(e,n)=>Ce(e)&&Ce(n)&&e.startContainer===n.startContainer&&e.startOffset===n.startOffset&&e.endContainer===n.endContainer&&e.endOffset===n.endOffset,yg=(e,n,o)=>{let a=e;for(;a&&a!==n;){if(o(a))return a;a=a.parentNode}return null},t_=(e,n,o)=>yg(e,n,o)!==null,n_=(e,n,o)=>t_(e,n,a=>a.nodeName===o),dP=(e,n)=>Zc(e)&&!t_(e,n,Od),fP=(e,n,o)=>{const a=n.parentNode;if(a){const c=new Na(n,e.getParent(a,e.isBlock)||e.getRoot());let m;for(;m=c[o?"prev":"next"]();)if(Ar(m))return!0}return!1},mP=(e,n)=>{var o;return((o=e.previousSibling)===null||o===void 0?void 0:o.nodeName)===n},gP=(e,n)=>{let o=n;for(;o&&o!==e;){if(To(o))return!0;o=o.parentNode}return!1},p2=(e,n,o,a,c)=>{const m=e.getRoot(),p=e.schema.getNonEmptyElements(),S=c.parentNode;let T,V;if(!S)return te.none();const X=e.getParent(S,e.isBlock)||m;if(a&&Ar(c)&&n&&e.isEmpty(X))return te.some(Dt(S,e.nodeIndex(c)));const ee=new Na(c,X);for(;V=ee[a?"prev":"next"]();){if(e.getContentEditableParent(V)==="false"||dP(V,m))return te.none();if(on(V)&&V.data.length>0)return n_(V,m,"A")?te.none():te.some(Dt(V,a?V.data.length:0));if(e.isBlock(V)||p[V.nodeName.toLowerCase()])return te.none();T=V}return Wo(T)?te.none():o&&T?te.some(Dt(T,0)):te.none()},aA=(e,n,o,a)=>{const c=e.getRoot();let m,p=!1,S=o?a.startContainer:a.endContainer,T=o?a.startOffset:a.endOffset;const V=Un(S)&&T===S.childNodes.length,X=e.schema.getNonEmptyElements();let ee=o;if(Zc(S))return te.none();if(Un(S)&&T>S.childNodes.length-1&&(ee=!1),Xn(S)&&(S=c,T=0),S===c){if(ee&&(m=S.childNodes[T>0?T-1:0],m&&(Zc(m)||X[m.nodeName]||mu(m))))return te.none();if(S.hasChildNodes()){if(T=Math.min(!ee&&T>0?T-1:T,S.childNodes.length-1),S=S.childNodes[T],T=on(S)&&V?S.data.length:0,!n&&S===c.lastChild&&mu(S)||gP(c,S)||Zc(S)||Jg(S))return te.none();if(S.hasChildNodes()&&!mu(S)){m=S;const ae=new Na(S,c);do{if(To(m)||Zc(m)){p=!1;break}if(on(m)&&m.data.length>0){T=ee?0:m.data.length,S=m,p=!0;break}if(X[m.nodeName.toLowerCase()]&&!Y1(m)){T=e.nodeIndex(m),S=m.parentNode,ee||T++,p=!0;break}}while(m=ee?ae.next():ae.prev())}}}return n&&(on(S)&&T===0&&p2(e,V,n,!0,S).each(ae=>{S=ae.container(),T=ae.offset(),p=!0}),Un(S)&&(m=S.childNodes[T],m||(m=S.childNodes[T-1]),m&&Ar(m)&&!mP(m,"A")&&!fP(e,m,!1)&&!fP(e,m,!0)&&p2(e,V,n,!0,m).each(ae=>{S=ae.container(),T=ae.offset(),p=!0}))),ee&&!n&&on(S)&&T===S.data.length&&p2(e,V,n,!1,S).each(ae=>{S=ae.container(),T=ae.offset(),p=!0}),p&&S?te.some(Dt(S,T)):te.none()},Sh=(e,n)=>{const o=n.collapsed,a=n.cloneRange(),c=Dt.fromRangeStart(n);return aA(e,o,!0,a).each(m=>{(!o||!Dt.isAbove(c,m))&&a.setStart(m.container(),m.offset())}),o||aA(e,o,!1,a).each(m=>{a.setEnd(m.container(),m.offset())}),o&&a.collapse(!0),h2(n,a)?te.none():te.some(a)},b2=(e,n)=>e.splitText(n),v2=e=>{let n=e.startContainer,o=e.startOffset,a=e.endContainer,c=e.endOffset;if(n===a&&on(n)){if(o>0&&o<n.data.length)if(a=b2(n,o),n=a.previousSibling,c>o){c=c-o;const m=b2(a,c).previousSibling;n=a=m,c=m.data.length,o=0}else c=0}else if(on(n)&&o>0&&o<n.data.length&&(n=b2(n,o),o=0),on(a)&&c>0&&c<a.data.length){const m=b2(a,c).previousSibling;a=m,c=m.data.length}return{startContainer:n,startOffset:o,endContainer:a,endOffset:c}},qb=e=>({walk:(m,p)=>i2(e,m,p),split:v2,expand:(m,p={type:"word"})=>{if(p.type==="word"){const S=Wb(e,m,[{inline:"span"}]),T=e.createRng();return T.setStart(S.startContainer,S.startOffset),T.setEnd(S.endContainer,S.endOffset),T}return m},normalize:m=>Sh(e,m).fold(Bn,p=>(m.setStart(p.startContainer,p.startOffset),m.setEnd(p.endContainer,p.endOffset),!0))});qb.compareRanges=h2,qb.getCaretRangeFromPoint=uP,qb.getSelectedNode=Nb,qb.getNode=na;const lA=((e,n)=>{const o=(S,T)=>{if(!I(T)&&!T.match(/^[0-9]+$/))throw new Error(e+".set accepts only positive integer values. Value was "+T);const V=S.dom;qa(V)&&(V.style[e]=T+"px")},a=S=>{const T=n(S);if(T<=0||T===null){const V=$r(S,e);return parseFloat(V)||0}return T},c=a,m=(S,T)=>pn(T,(V,X)=>{const ee=$r(S,X),ae=ee===void 0?0:parseInt(ee,10);return isNaN(ae)?V:V+ae},0);return{set:o,get:a,getOuter:c,aggregate:m,max:(S,T,V)=>{const X=m(S,V);return T>X?T-X:0}}})("height",e=>{const n=e.dom;return Da(e)?n.getBoundingClientRect().height:n.offsetHeight}),H0=e=>lA.get(e),hP=()=>Ye.fromDom(document),pP=(e,n)=>e.view(n).fold(ft([]),a=>{const c=e.owner(a),m=pP(e,c);return[a].concat(m)}),o_=(e,n)=>{const o=n.owner(e);return pP(n,o)};var T7=Object.freeze({__proto__:null,view:e=>{var n;return(e.dom===document?te.none():te.from((n=e.dom.defaultView)===null||n===void 0?void 0:n.frameElement)).map(Ye.fromDom)},owner:e=>Cc(e)});const bP=e=>{const n=hP(),o=ko(n),a=o_(e,T7),c=Mo(e),m=wt(a,(p,S)=>{const T=Mo(S);return{left:p.left+T.left,top:p.top+T.top}},{left:0,top:0});return We(m.left+c.left+o.left,m.top+c.top+o.top)},$p=e=>hs(e)==="textarea",vP=(e,n)=>e.dispatch("ScrollIntoView",n).isDefaultPrevented(),yP=(e,n)=>{e.dispatch("AfterScrollIntoView",n)},xP=(e,n)=>{const o=ma(e);if(o.length===0||$p(e))return{element:e,offset:n};if(n<o.length&&!$p(o[n]))return{element:o[n],offset:0};{const a=o[o.length-1];return $p(a)?{element:e,offset:n}:hs(a)==="img"?{element:a,offset:1}:Cr(a)?{element:a,offset:uh(a).length}:{element:a,offset:ma(a).length}}},y2=(e,n)=>{const o=lo(e),a=H0(e);return{element:e,bottom:o.top+a,height:a,pos:o,cleanup:n}},wP=(e,n)=>{const o=xP(e,n),a=Ye.fromHtml('<span data-mce-bogus="all" style="display: inline-block;">'+ta+"</span>");return Dr(o.element,a),y2(a,()=>Hs(a))},CP=e=>y2(Ye.fromDom(e),gt),SP=(e,n,o,a)=>{kP(e,(c,m)=>_P(e,n,o,a),o)},x2=(e,n,o,a,c)=>{const m={elm:a.element.dom,alignToTop:c};if(vP(e,m))return;const p=ko(n).top;o(e,n,p,a,c),yP(e,m)},_P=(e,n,o,a)=>{const c=Ye.fromDom(e.getBody()),m=Ye.fromDom(e.getDoc());ip(c);const p=wP(Ye.fromDom(o.startContainer),o.startOffset);x2(e,m,n,p,a),p.cleanup()},s_=(e,n,o,a)=>{const c=Ye.fromDom(e.getDoc());x2(e,c,o,CP(n),a)},kP=(e,n,o)=>{const a=o.startContainer,c=o.startOffset,m=o.endContainer,p=o.endOffset;n(Ye.fromDom(a),Ye.fromDom(m));const S=e.dom.createRng();S.setStart(a,c),S.setEnd(m,p),e.selection.setRng(o)},w2=(e,n,o,a,c)=>{const m=n.pos;if(a)jn(m.left,m.top,c);else{const p=m.top-o+n.height;jn(-e.getBody().getBoundingClientRect().left,p,c)}},cA=(e,n,o,a,c,m)=>{const p=a+o,S=c.pos.top,T=c.bottom,V=T-S>=a;S<o?w2(e,c,a,m!==!1,n):S>p?w2(e,c,a,V?m!==!1:m===!0,n):T>p&&!V&&w2(e,c,a,m===!0,n)},C2=(e,n,o,a,c)=>{const m=Lu(n).dom.innerHeight;cA(e,n,o,m,a,c)},_h=(e,n,o,a,c)=>{const m=Lu(n).dom.innerHeight;cA(e,n,o,m,a,c);const p=bP(a.element),S=zc(window);p.top<S.y?Is(a.element,c!==!1):p.top>S.bottom&&Is(a.element,c===!0)},A7=(e,n,o)=>SP(e,C2,n,o),uA=(e,n,o)=>s_(e,n,C2,o),qi=(e,n,o)=>SP(e,_h,n,o),dA=(e,n,o)=>s_(e,n,_h,o),fA=(e,n,o)=>{(e.inline?uA:dA)(e,n,o)},Cf=(e,n,o)=>{(e.inline?A7:qi)(e,n,o)},mA=(e,n=!1)=>e.dom.focus({preventScroll:n}),gA=e=>{const n=du(e).dom;return e.dom===n.activeElement},U0=(e=hP())=>te.from(e.dom.activeElement).map(Ye.fromDom),O7=e=>U0(du(e)).filter(n=>e.dom.contains(n.dom)),EP=(e,n)=>{const o=Cr(n)?uh(n).length:ma(n).length+1;return e>o?o:e<0?0:e},Uy=e=>Gb.range(e.start,EP(e.soffset,e.start),e.finish,EP(e.foffset,e.finish)),TP=(e,n)=>!cf(n.dom)&&(fa(e,n)||us(e,n)),Yb=e=>n=>TP(e,n.start)&&TP(e,n.finish),R7=e=>e.inline||os.browser.isFirefox(),Xb=e=>Gb.range(Ye.fromDom(e.startContainer),e.startOffset,Ye.fromDom(e.endContainer),e.endOffset),I7=e=>{const n=e.getSelection();return(!n||n.rangeCount===0?te.none():te.from(n.getRangeAt(0))).map(Xb)},Sf=e=>{const n=Lu(e);return I7(n.dom).filter(Yb(e))},S2=(e,n)=>te.from(n).filter(Yb(e)).map(Uy),hA=e=>{const n=document.createRange();try{return n.setStart(e.start.dom,e.soffset),n.setEnd(e.finish.dom,e.foffset),te.some(n)}catch{return te.none()}},Wy=e=>{const n=R7(e)?Sf(Ye.fromDom(e.getBody())):te.none();e.bookmark=n.isSome()?n:e.bookmark},pA=e=>(e.bookmark?e.bookmark:te.none()).bind(o=>S2(Ye.fromDom(e.getBody()),o)).bind(hA),r_=e=>{pA(e).each(n=>e.selection.setRng(n))},_f={isEditorUIElement:e=>{const n=e.className.toString();return n.indexOf("tox-")!==-1||n.indexOf("mce-")!==-1}},i_=(e,n)=>(I(n)||(n=0),setTimeout(e,n)),AP=(e,n)=>(I(n)||(n=0),setInterval(e,n)),sd={setEditorTimeout:(e,n,o)=>i_(()=>{e.removed||n()},o),setEditorInterval:(e,n,o)=>{const a=AP(()=>{e.removed?clearInterval(a):n()},o);return a}},bA=e=>e.type==="nodechange"&&e.selectionChange,W0=(e,n)=>{const o=()=>{n.throttle()};br.DOM.bind(document,"mouseup",o),e.on("remove",()=>{br.DOM.unbind(document,"mouseup",o)})},vA=(e,n)=>{e.on("mouseup touchend",o=>{n.throttle()})},OP=(e,n)=>{vA(e,n),e.on("keyup NodeChange AfterSetSelectionRange",o=>{bA(o)||Wy(e)})},D7=e=>{const n=kp(()=>{Wy(e)},0);e.on("init",()=>{e.inline&&W0(e,n),OP(e,n)}),e.on("remove",()=>{n.cancel()})};let kh;const yA=br.DOM,RP=e=>Un(e)&&_f.isEditorUIElement(e),_2=e=>{const n=e.classList;return n!==void 0?n.contains("tox-edit-area")||n.contains("tox-edit-area__iframe")||n.contains("mce-content-body"):!1},a_=(e,n)=>{const o=zI(e);return yA.getParent(n,c=>RP(c)||(o?e.dom.is(c,o):!1))!==null},l_=e=>{try{const n=du(Ye.fromDom(e.getElement()));return U0(n).fold(()=>document.body,o=>o.dom)}catch{return document.body}},IP=(e,n)=>{const o=n.editor;D7(o);const a=(c,m)=>{if(XI(c)&&c.inline!==!0){const p=Ye.fromDom(c.getContainer());m(p,"tox-edit-focus")}};o.on("focusin",()=>{const c=e.focusedEditor;_2(l_(o))&&a(o,lu),c!==o&&(c&&c.dispatch("blur",{focusedEditor:o}),e.setActive(o),e.focusedEditor=o,o.dispatch("focus",{blurredEditor:c}),o.focus(!0))}),o.on("focusout",()=>{sd.setEditorTimeout(o,()=>{const c=e.focusedEditor;(!_2(l_(o))||c!==o)&&a(o,Ia),!a_(o,l_(o))&&c===o&&(o.dispatch("blur",{focusedEditor:null}),e.focusedEditor=null)})}),kh||(kh=c=>{const m=e.activeEditor;m&&Zm(c).each(p=>{const S=p;S.ownerDocument===document&&S!==document.body&&!a_(m,S)&&e.focusedEditor===m&&(m.dispatch("blur",{focusedEditor:null}),e.focusedEditor=null)})},yA.bind(document,"focusin",kh))},P7=(e,n)=>{e.focusedEditor===n.editor&&(e.focusedEditor=null),!e.activeEditor&&kh&&(yA.unbind(document,"focusin",kh),kh=null)},N7=e=>{e.on("AddEditor",rt(IP,e)),e.on("RemoveEditor",rt(P7,e))},M7=(e,n)=>e.dom.getParent(n,o=>e.dom.getContentEditable(o)==="true"),L7=(e,n)=>e.dom.getParent(n,o=>e.dom.getContentEditable(o)==="false")!==null,B7=e=>e.collapsed?te.from(na(e.startContainer,e.startOffset)).map(Ye.fromDom):te.none(),F7=(e,n)=>B7(n).bind(o=>Ap(o)?te.some(o):fa(e,o)?te.none():te.some(e)),DP=(e,n)=>{F7(Ye.fromDom(e.getBody()),n).bind(o=>yo(o.dom)).fold(()=>{e.selection.normalize()},o=>e.selection.setRng(o.toRange()))},c_=e=>{if(e.setActive)try{e.setActive()}catch{e.focus()}else e.focus()},$7=e=>gA(e)||O7(e).isSome(),V7=e=>Ce(e.iframeElement)&&gA(Ye.fromDom(e.iframeElement)),z7=e=>{const n=e.getBody();return n&&$7(Ye.fromDom(n))},PP=e=>{const n=du(Ye.fromDom(e.getElement()));return U0(n).filter(o=>!_2(o.dom)&&a_(e,o.dom)).isSome()},Ky=e=>e.inline?z7(e):V7(e),K0=e=>Ky(e)||PP(e),H7=e=>{const n=e.selection,o=e.getBody();let a=n.getRng();e.quirks.refreshContentEditable();const c=p=>{pA(p).each(S=>{p.selection.setRng(S),a=S})};!Ky(e)&&e.hasEditableRoot()&&c(e);const m=M7(e,n.getNode());if(m&&e.dom.isChildOf(m,o)){L7(e,m)||c_(o),c_(m),e.hasEditableRoot()||c(e),DP(e,a),xA(e);return}e.inline||(os.browser.isOpera()||c_(o),e.getWin().focus()),(os.browser.isFirefox()||e.inline)&&(c_(o),DP(e,a)),xA(e)},xA=e=>e.editorManager.setActive(e),NP=(e,n)=>{e.removed||(n?xA(e):H7(e))},MP=(e,n)=>n.collapsed?e.isEditable(n.startContainer):e.isEditable(n.startContainer)&&e.isEditable(n.endContainer),LP=(e,n,o,a,c)=>{const m=o?n.startContainer:n.endContainer,p=o?n.startOffset:n.endOffset;return te.from(m).map(Ye.fromDom).map(S=>!a||!n.collapsed?Fu(S,c(S,p)).getOr(S):S).bind(S=>Qr(S)?te.some(S):Qi(S).filter(Qr)).map(S=>S.dom).getOr(e)},BP=(e,n,o=!1)=>LP(e,n,!0,o,(a,c)=>Math.min(pd(a),c)),FP=(e,n,o=!1)=>LP(e,n,!1,o,(a,c)=>c>0?c-1:c),$P=(e,n)=>{const o=e;for(;e&&on(e)&&e.length===0;)e=n?e.nextSibling:e.previousSibling;return e||o},U7=(e,n)=>{if(!n)return e;let o=n.startContainer,a=n.endContainer;const c=n.startOffset,m=n.endOffset;let p=n.commonAncestorContainer;n.collapsed||(o===a&&m-c<2&&o.hasChildNodes()&&(p=o.childNodes[c]),on(o)&&on(a)&&(o.length===c?o=$P(o.nextSibling,!0):o=o.parentNode,m===0?a=$P(a.previousSibling,!1):a=a.parentNode,o&&o===a&&(p=o)));const S=on(p)?p.parentNode:p;return Hc(S)?S:e},wA=(e,n,o,a)=>{const c=[],m=e.getRoot(),p=e.getParent(o||BP(m,n,n.collapsed),e.isBlock),S=e.getParent(a||FP(m,n,n.collapsed),e.isBlock);if(p&&p!==m&&c.push(p),p&&S&&p!==S){let T;const V=new Na(p,m);for(;(T=V.next())&&T!==S;)e.isBlock(T)&&c.push(T)}return S&&p!==S&&S!==m&&c.push(S),c},k2=(e,n,o)=>te.from(n).bind(a=>te.from(a.parentNode).map(c=>{const m=e.nodeIndex(a),p=e.createRng();return p.setStart(c,m),p.setEnd(c,m+1),o&&(e2(e,p,a,!0),e2(e,p,a,!1)),p})),u_=(e,n)=>Ke(n,o=>{const a=e.dispatch("GetSelectionRange",{range:o});return a.range!==o?a.range:o}),W7={"#text":3,"#comment":8,"#cdata":4,"#pi":7,"#doctype":10,"#document-fragment":11},j0=(e,n,o)=>{const a=o?"lastChild":"firstChild",c=o?"prev":"next";if(e[a])return e[a];if(e!==n){let m=e[c];if(m)return m;for(let p=e.parent;p&&p!==n;p=p.parent)if(m=p[c],m)return m}},VP=e=>{var n;const o=(n=e.value)!==null&&n!==void 0?n:"";if(!lc(o))return!1;const a=e.parent;return!(a&&(a.name!=="span"||a.attr("style"))&&/^[ ]+$/.test(o))},ba=e=>{const n=e.name==="a"&&!e.attr("href")&&e.attr("id");return e.attr("name")||e.attr("id")&&!e.firstChild||e.attr("data-mce-bookmark")||n};class Cl{static create(n,o){const a=new Cl(n,W7[n]||1);return o&&Go(o,(c,m)=>{a.attr(m,c)}),a}constructor(n,o){this.name=n,this.type=o,o===1&&(this.attributes=[],this.attributes.map={})}replace(n){const o=this;return n.parent&&n.remove(),o.insert(n,o),o.remove(),o}attr(n,o){const a=this;if(!de(n))return Ce(n)&&Go(n,(m,p)=>{a.attr(p,m)}),a;const c=a.attributes;if(c){if(o!==void 0){if(o===null){if(n in c.map){delete c.map[n];let m=c.length;for(;m--;)if(c[m].name===n)return c.splice(m,1),a}return a}if(n in c.map){let m=c.length;for(;m--;)if(c[m].name===n){c[m].value=o;break}}else c.push({name:n,value:o});return c.map[n]=o,a}return c.map[n]}}clone(){const n=this,o=new Cl(n.name,n.type),a=n.attributes;if(a){const c=[];c.map={};for(let m=0,p=a.length;m<p;m++){const S=a[m];S.name!=="id"&&(c[c.length]={name:S.name,value:S.value},c.map[S.name]=S.value)}o.attributes=c}return o.value=n.value,o}wrap(n){const o=this;return o.parent&&(o.parent.insert(n,o),n.append(o)),o}unwrap(){const n=this;for(let o=n.firstChild;o;){const a=o.next;n.insert(o,n,!0),o=a}n.remove()}remove(){const n=this,o=n.parent,a=n.next,c=n.prev;return o&&(o.firstChild===n?(o.firstChild=a,a&&(a.prev=null)):c&&(c.next=a),o.lastChild===n?(o.lastChild=c,c&&(c.next=null)):a&&(a.prev=c),n.parent=n.next=n.prev=null),n}append(n){const o=this;n.parent&&n.remove();const a=o.lastChild;return a?(a.next=n,n.prev=a,o.lastChild=n):o.lastChild=o.firstChild=n,n.parent=o,n}insert(n,o,a){n.parent&&n.remove();const c=o.parent||this;return a?(o===c.firstChild?c.firstChild=n:o.prev&&(o.prev.next=n),n.prev=o.prev,n.next=o,o.prev=n):(o===c.lastChild?c.lastChild=n:o.next&&(o.next.prev=n),n.next=o.next,n.prev=o,o.next=n),n.parent=c,n}getAll(n){const o=this,a=[];for(let c=o.firstChild;c;c=j0(c,o))c.name===n&&a.push(c);return a}children(){const n=this,o=[];for(let a=n.firstChild;a;a=a.next)o.push(a);return o}empty(){const n=this;if(n.firstChild){const o=[];for(let c=n.firstChild;c;c=j0(c,n))o.push(c);let a=o.length;for(;a--;){const c=o[a];c.parent=c.firstChild=c.lastChild=c.next=c.prev=null}}return n.firstChild=n.lastChild=null,n}isEmpty(n,o={},a){var c;const m=this;let p=m.firstChild;if(ba(m))return!1;if(p)do{if(p.type===1){if(p.attr("data-mce-bogus"))continue;if(n[p.name]||ba(p))return!1}if(p.type===8||p.type===3&&!VP(p)||p.type===3&&p.parent&&o[p.parent.name]&&lc((c=p.value)!==null&&c!==void 0?c:"")||a&&a(p))return!1}while(p=j0(p,m));return!0}walk(n){return j0(this,null,n)}}const zP=dn.makeMap("NOSCRIPT STYLE SCRIPT XMP IFRAME NOEMBED NOFRAMES PLAINTEXT"," "),d_=e=>de(e.nodeValue)&&e.nodeValue.includes(ta),E2=e=>`${e.length===0?"":`${Ke(e,n=>`[${n}]`).join(",")},`}[data-mce-bogus="all"]`,Jb=(e,n)=>n.querySelectorAll(E2(e)),Vp=e=>document.createTreeWalker(e,NodeFilter.SHOW_COMMENT,n=>d_(n)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP),HP=e=>document.createTreeWalker(e,NodeFilter.SHOW_TEXT,n=>{if(d_(n)){const o=n.parentNode;return o&&So(zP,o.nodeName)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}else return NodeFilter.FILTER_SKIP}),K7=e=>Vp(e).nextNode()!==null,jy=e=>HP(e).nextNode()!==null,Zy=(e,n)=>n.querySelector(E2(e))!==null,Gy=(e,n)=>{xe(Jb(e,n),o=>{const a=Ye.fromDom(o);Ra(a,"data-mce-bogus")==="all"?Hs(a):xe(e,c=>{hd(a,c)&&qo(a,c)})})},f_=e=>{let n=e.nextNode();for(;n!==null;)n.nodeValue=null,n=e.nextNode()},CA=Ft(f_,Vp),UP=Ft(f_,HP),SA=(e,n)=>{const o=[{condition:rt(Zy,n),action:rt(Gy,n)},{condition:K7,action:CA},{condition:jy,action:UP}];let a=e,c=!1;return xe(o,({condition:m,action:p})=>{m(a)&&(c||(a=e.cloneNode(!0),c=!0),p(a))}),a},WP=e=>{const n=bi(e,"[data-mce-bogus]");xe(n,o=>{Ra(o,"data-mce-bogus")==="all"?Hs(o):bf(o)?(Dr(o,Ye.fromText(Gr)),Hs(o)):ga(o)})},KP=e=>{const n=bi(e,"input");xe(n,o=>{qo(o,"name")})},jP=(e,n)=>{const o=Jl(e),a=new RegExp(`^(<${o}[^>]*>(&nbsp;|&#160;|\\s||<br \\/>|)<\\/${o}>[\r
]*|<br \\/>[\r
]*)$`);return n.replace(a,"")},ZP=(e,n)=>{const o=e.getDoc(),a=du(Ye.fromDom(e.getBody())),c=Ye.fromTag("div",o);Ei(c,"data-mce-bogus","all"),ds(c,{position:"fixed",left:"-9999999px",top:"0"}),fu(c,n.innerHTML),WP(c),KP(c);const m=Cb(a);Vr(m,c);const p=mc(c.dom.innerText);return Hs(c),p},T2=(e,n,o)=>{let a;return n.format==="raw"?a=dn.trim(mc(SA(o,e.serializer.getTempAttrs()).innerHTML)):n.format==="text"?a=ZP(e,o):n.format==="tree"?a=e.serializer.serialize(o,n):a=jP(e,e.serializer.serialize(o,n)),n.format!=="text"&&!h0(Ye.fromDom(o))&&de(a)?dn.trim(a):a},GP=(e,n)=>te.from(e.getBody()).fold(ft(n.format==="tree"?new Cl("body",11):""),o=>T2(e,n,o)),_A=dn.makeMap,kA=e=>{const n=[];e=e||{};const o=e.indent,a=_A(e.indent_before||""),c=_A(e.indent_after||""),m=pp.getEncodeFunc(e.entity_encoding||"raw",e.entities),p=e.element_format!=="xhtml";return{start:(S,T,V)=>{if(o&&a[S]&&n.length>0){const X=n[n.length-1];X.length>0&&X!==`
`&&n.push(`
`)}if(n.push("<",S),T)for(let X=0,ee=T.length;X<ee;X++){const ae=T[X];n.push(" ",ae.name,'="',m(ae.value,!0),'"')}if(!V||p?n[n.length]=">":n[n.length]=" />",V&&o&&c[S]&&n.length>0){const X=n[n.length-1];X.length>0&&X!==`
`&&n.push(`
`)}},end:S=>{let T;n.push("</",S,">"),o&&c[S]&&n.length>0&&(T=n[n.length-1],T.length>0&&T!==`
`&&n.push(`
`))},text:(S,T)=>{S.length>0&&(n[n.length]=T?S:m(S))},cdata:S=>{n.push("<![CDATA[",S,"]]>")},comment:S=>{n.push("<!--",S,"-->")},pi:(S,T)=>{T?n.push("<?",S," ",m(T),"?>"):n.push("<?",S,"?>"),o&&n.push(`
`)},doctype:S=>{n.push("<!DOCTYPE",S,">",o?`
`:"")},reset:()=>{n.length=0},getContent:()=>n.join("").replace(/\n$/,"")}},zp=(e={},n=qu())=>{const o=kA(e);return e.validate="validate"in e?e.validate:!0,{serialize:c=>{const m=e.validate,p={3:T=>{var V;o.text((V=T.value)!==null&&V!==void 0?V:"",T.raw)},8:T=>{var V;o.comment((V=T.value)!==null&&V!==void 0?V:"")},7:T=>{o.pi(T.name,T.value)},10:T=>{var V;o.doctype((V=T.value)!==null&&V!==void 0?V:"")},4:T=>{var V;o.cdata((V=T.value)!==null&&V!==void 0?V:"")},11:T=>{let V=T;if(V=V.firstChild)do S(V);while(V=V.next)}};o.reset();const S=T=>{var V;const X=p[T.type];if(X)X(T);else{const ee=T.name,ae=ee in n.getVoidElements();let we=T.attributes;if(m&&we&&we.length>1){const Ne=[];Ne.map={};const ke=n.getElementRule(T.name);if(ke){for(let $e=0,nt=ke.attributesOrder.length;$e<nt;$e++){const ut=ke.attributesOrder[$e];if(ut in we.map){const at=we.map[ut];Ne.map[ut]=at,Ne.push({name:ut,value:at})}}for(let $e=0,nt=we.length;$e<nt;$e++){const ut=we[$e].name;if(!(ut in Ne.map)){const at=we.map[ut];Ne.map[ut]=at,Ne.push({name:ut,value:at})}}we=Ne}}if(o.start(ee,we,ae),lm(ee))de(T.value)&&o.text(T.value,!0),o.end(ee);else if(!ae){let Ne=T.firstChild;if(Ne){(ee==="pre"||ee==="textarea")&&Ne.type===3&&((V=Ne.value)===null||V===void 0?void 0:V[0])===`
`&&o.text(`
`,!0);do S(Ne);while(Ne=Ne.next)}o.end(ee)}}};return c.type===1&&!e.inner?S(c):c.type===3?p[3](c):p[11](c),o.getContent()}}},EA=new Set;xe(["margin","margin-left","margin-right","margin-top","margin-bottom","padding","padding-left","padding-right","padding-top","padding-bottom","border","border-width","border-style","border-color","background","background-attachment","background-clip","background-image","background-origin","background-position","background-repeat","background-size","float","position","left","right","top","bottom","z-index","display","transform","width","max-width","min-width","height","max-height","min-height","overflow","overflow-x","overflow-y","text-overflow","vertical-align","transition","transition-delay","transition-duration","transition-property","transition-timing-function"],n=>{EA.add(n)});const TA=new Set;xe(["background-color"],n=>{TA.add(n)});const AA=["font","text-decoration","text-emphasis"],qP=(e,n)=>e.parseStyle(e.getAttrib(n,"style")),Z0=(e,n)=>tn(qP(e,n)),OA=e=>EA.has(e),A2=e=>TA.has(e),RA=(e,n)=>Me(Z0(e,n),o=>OA(o)),YP=(e,n)=>RA(e,n)&&Me(Z0(e,n),o=>A2(o)),m_=e=>Je(e,n=>Me(AA,o=>wr(n,o))),j7=(e,n,o)=>{const a=Z0(e,n),c=Z0(e,o),m=p=>{var S,T;const V=(S=e.getStyle(n,p))!==null&&S!==void 0?S:"",X=(T=e.getStyle(o,p))!==null&&T!==void 0?T:"";return lt(V)&&lt(X)&&V!==X};return Me(a,p=>{const S=T=>Me(T,V=>V===p);if(!S(c)&&S(AA)){const T=m_(c);return Me(T,m)}else return m(p)})},XP=(e,n,o)=>te.from(o.container()).filter(on).exists(a=>{const c=e?0:-1;return n(a.data.charAt(o.offset()+c))}),Hp=rt(XP,!0,B0),O2=rt(XP,!1,B0),JP=e=>{const n=e.container();return on(n)&&(n.data.length===0||Qu(n.data)&&mr.isBookmarkNode(n.parentNode))},Sm=(e,n)=>o=>RS(e?0:-1,o).filter(n).isSome(),IA=e=>Wc(e)&&$r(Ye.fromDom(e),"display")==="block",g_=e=>To(e)&&!Sb(e),QP=Sm(!0,IA),eN=Sm(!1,IA),G0=Sm(!0,Lt),qy=Sm(!1,Lt),tN=Sm(!0,mu),Yy=Sm(!1,mu),va=Sm(!0,g_),xg=Sm(!1,g_),q0=e=>e.slice(0,-1),nN=(e,n,o)=>fa(n,e)?q0(jm(e,a=>o(a)||us(a,n))):[],yu=(e,n)=>nN(e,n,Bn),rd=(e,n)=>[e].concat(yu(e,n)),h_=(e,n,o)=>_D(e,n,o,JP),oN=e=>n=>e.isBlock(hs(n)),DA=(e,n,o)=>An(rd(Ye.fromDom(n.container()),e),oN(o)),Xy=(e,n,o,a)=>h_(e,n.dom,o).forall(c=>DA(n,o,a).fold(()=>!yh(c,o,n.dom),m=>!yh(c,o,n.dom)&&fa(m,Ye.fromDom(c.container())))),p_=(e,n,o,a)=>DA(n,o,a).fold(()=>h_(e,n.dom,o).forall(c=>!yh(c,o,n.dom)),c=>h_(e,c.dom,o).isNone()),b_=rt(p_,!1),sN=rt(p_,!0),PA=rt(Xy,!1),NA=rt(Xy,!0),Z7=e=>IS(e).exists(bf),kf=(e,n,o,a)=>{const c=Je(rd(Ye.fromDom(o.container()),n),p=>a.isBlock(hs(p))),m=cn(c).getOr(n);return Ad(e,m.dom,o).filter(Z7)},R2=(e,n,o)=>IS(n).exists(bf)||kf(!0,e,n,o).isSome(),Y0=(e,n,o)=>q8(n).exists(bf)||kf(!1,e,n,o).isSome(),v_=rt(kf,!1),rN=rt(kf,!0),MA=e=>Dt.isTextPosition(e)&&!e.isAtStart()&&!e.isAtEnd(),LA=(e,n,o)=>{const a=Je(rd(Ye.fromDom(n.container()),e),c=>o.isBlock(hs(c)));return cn(a).getOr(e)},iN=(e,n,o)=>MA(n)?O2(n):O2(n)||td(LA(e,n,o).dom,n).exists(O2),aN=(e,n,o)=>MA(n)?Hp(n):Hp(n)||Gc(LA(e,n,o).dom,n).exists(Hp),lN=e=>Se(["pre","pre-wrap"],e),y_=e=>IS(e).bind(n=>Ti(n,Qr)).exists(n=>lN($r(n,"white-space"))),BA=(e,n)=>td(e.dom,n).isNone(),FA=(e,n)=>Gc(e.dom,n).isNone(),cN=(e,n,o)=>BA(e,n)||FA(e,n)||b_(e,n,o)||sN(e,n,o)||Y0(e,n,o)||R2(e,n,o),$A=e=>Ce(e)&&To(e)&&IT(e),VA=(e,n)=>o=>$A(new Na(o,e)[n]()),uN=(e,n)=>{const o=Gc(e.dom,n).getOr(n),a=VA(e.dom,"next");return n.isAtEnd()&&(a(n.container())||a(o.container()))},zA=(e,n)=>{const o=td(e.dom,n).getOr(n),a=VA(e.dom,"prev");return n.isAtStart()&&(a(n.container())||a(o.container()))},HA=(e,n,o)=>y_(n)?!1:cN(e,n,o)||iN(e,n,o)||aN(e,n,o),Jy=(e,n,o)=>y_(n)?!1:b_(e,n,o)||PA(e,n,o)||Y0(e,n,o)||iN(e,n,o)||zA(e,n),dN=e=>{const n=e.container(),o=e.offset();return on(n)&&o<n.data.length?Dt(n,o+1):e},X0=(e,n,o)=>y_(n)?!1:sN(e,n,o)||NA(e,n,o)||R2(e,n,o)||aN(e,n,o)||uN(e,n),UA=(e,n,o)=>Jy(e,n,o)||X0(e,dN(n),o),I2=(e,n)=>Ql(e.charAt(n)),WA=(e,n)=>B0(e.charAt(n)),fN=e=>{const n=e.container();return on(n)&&Vs(n.data,ea)},G7=e=>{const n=e.split("");return Ke(n,(o,a)=>Ql(o)&&a>0&&a<n.length-1&&Mp(n[a-1])&&Mp(n[a+1])?" ":o).join("")},mN=(e,n,o,a)=>{const c=n.data,m=Dt(n,0);return!o&&I2(c,0)&&!UA(e,m,a)?(n.data=" "+c.slice(1),!0):o&&WA(c,0)&&Jy(e,m,a)?(n.data=ea+c.slice(1),!0):!1},gN=e=>{const n=e.data,o=G7(n);return o!==n?(e.data=o,!0):!1},hN=(e,n,o,a)=>{const c=n.data,m=Dt(n,c.length-1);return!o&&I2(c,c.length-1)&&!UA(e,m,a)?(n.data=c.slice(0,-1)+" ",!0):o&&WA(c,c.length-1)&&X0(e,m,a)?(n.data=c.slice(0,-1)+ea,!0):!1},pN=(e,n,o)=>{const a=n.container();if(!on(a))return te.none();if(fN(n)){const c=mN(e,a,!1,o)||gN(a)||hN(e,a,!1,o);return Yf(c,n)}else if(UA(e,n,o)){const c=mN(e,a,!0,o)||hN(e,a,!0,o);return Yf(c,n)}else return te.none()},q7=e=>{const n=Ye.fromDom(e.getBody());e.selection.isCollapsed()&&pN(n,Dt.fromRangeStart(e.selection.getRng()),e.schema).each(o=>{e.selection.setRng(o.toRange())})},bN=(e,n,o,a)=>{if(o===0)return;const c=Ye.fromDom(e),m=Ga(c,V=>a.isBlock(hs(V))).getOr(c),p=e.data.slice(n,n+o),S=n+o>=e.data.length&&X0(m,Dt(e,e.data.length),a),T=n===0&&Jy(m,Dt(e,0),a);e.replaceData(n,o,up(p,4,T,S))},x_=(e,n,o)=>{const a=e.data.slice(n),c=a.length-_t(a).length;bN(e,n,c,o)},di=(e,n,o)=>{const a=e.data.slice(0,n),c=a.length-Ct(a).length;bN(e,n-c,c,o)},D2=(e,n,o,a,c=!0)=>{const m=Ct(e.data).length,p=c?e:n,S=c?n:e;return c?p.appendData(S.data):p.insertData(0,S.data),Hs(Ye.fromDom(S)),a&&x_(p,m,o),p},Y7=(e,n)=>{const o=e.container(),a=e.offset();return!Dt.isTextPosition(e)&&o===n.parentNode&&a>Dt.before(n).offset()},X7=(e,n)=>Y7(n,e)?Dt(n.container(),n.offset()-1):n,Qy=e=>on(e)?Dt(e,0):Dt.before(e),Qb=e=>on(e)?Dt(e,e.data.length):Dt.after(e),Eh=e=>Sd(e.previousSibling)?te.some(Qb(e.previousSibling)):e.previousSibling?yf(e.previousSibling):te.none(),KA=e=>Sd(e.nextSibling)?te.some(Qy(e.nextSibling)):e.nextSibling?yo(e.nextSibling):te.none(),vN=(e,n)=>te.from(n.previousSibling?n.previousSibling:n.parentNode).bind(o=>td(e,Dt.before(o))).orThunk(()=>Gc(e,Dt.after(n))),yN=(e,n)=>Gc(e,Dt.after(n)).orThunk(()=>td(e,Dt.before(n))),w_=(e,n)=>Eh(n).orThunk(()=>KA(n)).orThunk(()=>vN(e,n)),J7=(e,n)=>KA(n).orThunk(()=>Eh(n)).orThunk(()=>yN(e,n)),jA=(e,n,o)=>e?J7(n,o):w_(n,o),xN=(e,n,o)=>jA(e,n,o).map(rt(X7,o)),ZA=(e,n,o)=>{o.fold(()=>{e.focus()},a=>{e.selection.setRng(a.toRange(),n)})},GA=e=>n=>n.dom===e,wN=(e,n)=>n&&So(e.schema.getBlockElements(),hs(n)),qA=(e,n,o)=>{if(Nr(e,n)){const a=Ye.fromHtml('<br data-mce-bogus="1">');return o?xe(ma(n),c=>{HS(c)||Hs(c)}):ir(n),Vr(n,a),te.some(Dt.before(a.dom))}else return te.none()},Q7=(e,n,o,a)=>{const c=Mi(e).filter(Cr),m=oo(e).filter(Cr);return Hs(e),Jd(c,m,n,(p,S,T)=>{const V=p.dom,X=S.dom,ee=V.data.length;return D2(V,X,o,a),T.container()===X?Dt(V,ee):T}).orThunk(()=>(a&&(c.each(p=>di(p.dom,p.dom.length,o)),m.each(p=>x_(p.dom,0,o))),n))},e$=(e,n)=>So(e.schema.getTextInlineElements(),hs(n)),hc=(e,n,o,a=!0,c=!1)=>{const m=xN(n,e.getBody(),o.dom),p=Ga(o,rt(wN,e),GA(e.getBody())),S=Q7(o,m,e.schema,e$(e,o));e.dom.isEmpty(e.getBody())?(e.setContent(""),e.selection.setCursorLocation()):p.bind(T=>qA(e.schema,T,c)).fold(()=>{a&&ZA(e,n,S)},T=>{a&&ZA(e,n,te.some(T))})},CN=/[\u0591-\u07FF\uFB1D-\uFDFF\uFE70-\uFEFC]/,t$=e=>CN.test(e),J0=(e,n)=>qs(Ye.fromDom(n),Os(e))&&!hu(e.schema,n)&&e.dom.isEditable(n),P2=e=>{var n;return br.DOM.getStyle(e,"direction",!0)==="rtl"||t$((n=e.textContent)!==null&&n!==void 0?n:"")},n$=(e,n,o)=>Je(br.DOM.getParents(o.container(),"*",n),e),ev=(e,n,o)=>{const a=n$(e,n,o);return te.from(a[a.length-1])},SN=(e,n,o)=>{const a=Vb(n,e),c=Vb(o,e);return Ce(a)&&a===c},YA=e=>p0(e)||vy(e),Ef=(e,n)=>{const o=n.container(),a=n.offset();return e?fh(o)?on(o.nextSibling)?Dt(o.nextSibling,0):Dt.after(o):p0(n)?Dt(o,a+1):n:fh(o)?on(o.previousSibling)?Dt(o.previousSibling,o.previousSibling.data.length):Dt.before(o):vy(n)?Dt(o,a-1):n},_N=rt(Ef,!0),ex=rt(Ef,!1),XA=(e,n)=>{const o=a=>a.stopImmediatePropagation();e.on("beforeinput input",o,!0),e.getDoc().execCommand(n),e.off("beforeinput input",o)},kN=e=>{e.execCommand("delete")},C_=e=>XA(e,"Delete"),JA=e=>XA(e,"ForwardDelete"),N2=e=>n=>Yd(Qi(n),e,us),EN=e=>m0(e)||dh(e),M2=(e,n)=>fa(e,n)?Ti(n,EN,N2(e)):te.none(),S_=(e,n=!0)=>{e.dom.isEmpty(e.getBody())&&e.setContent("",{no_selection:!n})},TN=(e,n,o)=>da(yo(o),yf(o),(a,c)=>{const m=Ef(!0,a),p=Ef(!1,c),S=Ef(!1,n);return e?Gc(o,S).exists(T=>T.isEqual(p)&&n.isEqual(m)):td(o,S).exists(T=>T.isEqual(m)&&n.isEqual(p))}).getOr(!0),_m=e=>(Um(e)?Mi(e):$u(e)).bind(_m).orThunk(()=>te.some(e)),__=(e,n,o,a=!0)=>{var c;n.deleteContents();const m=_m(o).getOr(o),p=Ye.fromDom((c=e.dom.getParent(m.dom,e.dom.isBlock))!==null&&c!==void 0?c:o.dom);if(p.dom===e.getBody()?S_(e,a):Nr(e.schema,p,{checkRootAsContent:!1})&&(Ju(p),a&&e.selection.setCursorLocation(p.dom,0)),!us(o,p)){const S=Yd(Qi(p),o)?[]:jg(p);xe(S.concat(ma(o)),T=>{!us(T,p)&&!fa(T,p)&&Nr(e.schema,T)&&Hs(T)})}},o$=e=>n=>us(e,n),QA=e=>bi(e,"td,th"),Ys=(e,n)=>tr(Ye.fromDom(e),n),s$=e=>da(e.startTable,e.endTable,(n,o)=>{const a=Uv(n,m=>us(m,o)),c=Uv(o,m=>us(m,n));return!a&&!c?e:{...e,startTable:a?te.none():e.startTable,endTable:c?te.none():e.endTable,isSameTable:!1,isMultiTable:!1}}).getOr(e),L2=e=>s$(e),r$=(e,n)=>{const o=Ys(e.startContainer,n),a=Ys(e.endContainer,n),c=o.isSome(),m=a.isSome(),p=da(o,a,us).getOr(!1);return L2({startTable:o,endTable:a,isStartInTable:c,isEndInTable:m,isSameTable:p,isMultiTable:!p&&c&&m})},k_=(e,n)=>({start:e,end:n}),tv=(e,n,o)=>({rng:e,table:n,cells:o}),ec=ws.generate([{singleCellTable:["rng","cell"]},{fullTable:["table"]},{partialTable:["cells","outsideDetails"]},{multiTable:["startTableCells","endTableCells","betweenRng"]}]),nv=(e,n)=>Bi(Ye.fromDom(e),"td,th",n),Up=e=>!us(e.start,e.end),wg=(e,n)=>tr(e.start,n).bind(o=>tr(e.end,n).bind(a=>Yf(us(o,a),o))),B2=(e,n)=>!Up(e)&&wg(e,n).exists(o=>{const a=o.dom.rows;return a.length===1&&a[0].cells.length===1}),e3=(e,n)=>{const o=nv(e.startContainer,n),a=nv(e.endContainer,n);return da(o,a,k_)},t3=e=>n=>tr(n,e).bind(o=>uo(QA(o)).map(a=>k_(n,a))),AN=e=>n=>tr(n,e).bind(o=>cn(QA(o)).map(a=>k_(a,n))),E_=e=>n=>wg(n,e).map(o=>tv(n,o,QA(o))),ON=(e,n,o,a)=>{if(o.collapsed||!e.forall(Up))return te.none();if(n.isSameTable){const c=e.bind(E_(a));return te.some({start:c,end:c})}else{const c=nv(o.startContainer,a),m=nv(o.endContainer,a),p=c.bind(t3(a)).bind(E_(a)),S=m.bind(AN(a)).bind(E_(a));return te.some({start:p,end:S})}},RN=(e,n)=>no(e,o=>us(o,n)),T_=e=>da(RN(e.cells,e.rng.start),RN(e.cells,e.rng.end),(n,o)=>e.cells.slice(n,o+1)),IN=(e,n,o)=>e.exists(a=>B2(a,o)&&Qw(a.start,n)),n3=(e,n)=>{const{startTable:o,endTable:a}=n,c=e.cloneRange();return o.each(m=>c.setStartAfter(m.dom)),a.each(m=>c.setEndBefore(m.dom)),c},DN=(e,n,o,a)=>ON(e,n,o,a).bind(({start:c,end:m})=>c.or(m)).bind(c=>{const{isSameTable:m}=n,p=T_(c).getOr([]);if(m&&c.cells.length===p.length)return te.some(ec.fullTable(c.table));if(p.length>0){if(m)return te.some(ec.partialTable(p,te.none()));{const S=n3(o,n);return te.some(ec.partialTable(p,te.some({...n,rng:S})))}}else return te.none()}),o3=(e,n,o,a)=>ON(e,n,o,a).bind(({start:c,end:m})=>{const p=c.bind(T_).getOr([]),S=m.bind(T_).getOr([]);if(p.length>0&&S.length>0){const T=n3(o,n);return te.some(ec.multiTable(p,S,T))}else return te.none()}),i$=(e,n)=>{const o=o$(e),a=e3(n,o),c=r$(n,o);return IN(a,n,o)?a.map(m=>ec.singleCellTable(n,m.start)):c.isMultiTable?o3(a,c,n,o):DN(a,c,n,o)},PN=e=>xe(e,n=>{qo(n,"contenteditable"),Ju(n)}),a$=(e,n)=>te.from(e.dom.getParent(n,e.dom.isBlock)).map(Ye.fromDom),Th=(e,n,o)=>{o.each(a=>{n?Hs(a):(Ju(a),e.selection.setCursorLocation(a.dom,0))})},Q0=(e,n,o,a)=>{const c=o.cloneRange();a?(c.setStart(o.startContainer,o.startOffset),c.setEndAfter(n.dom.lastChild)):(c.setStartBefore(n.dom.firstChild),c.setEnd(o.endContainer,o.endOffset)),i3(e,c,n,!1).each(m=>m())},s3=e=>{const n=pg(e),o=Ye.fromDom(e.selection.getNode());Xg(o.dom)&&Nr(e.schema,o)?e.selection.setCursorLocation(o.dom,0):e.selection.collapse(!0),n.length>1&&Me(n,a=>us(a,o))&&Ei(o,"data-mce-selected","1")},r3=(e,n,o)=>te.some(()=>{const a=e.selection.getRng(),c=o.bind(({rng:m,isStartInTable:p})=>{const S=a$(e,p?m.endContainer:m.startContainer);m.deleteContents(),Th(e,p,S.filter(rt(Nr,e.schema)));const T=p?n[0]:n[n.length-1];return Q0(e,T,a,p),Nr(e.schema,T)?te.none():te.some(p?n.slice(1):n.slice(0,-1))}).getOr(n);PN(c),s3(e)}),NN=(e,n,o,a)=>te.some(()=>{const c=e.selection.getRng(),m=n[0],p=o[o.length-1];Q0(e,m,c,!0),Q0(e,p,c,!1);const S=Nr(e.schema,m)?n:n.slice(1),T=Nr(e.schema,p)?o:o.slice(0,-1);PN(S.concat(T)),a.deleteContents(),s3(e)}),i3=(e,n,o,a=!0)=>te.some(()=>{__(e,n,o,a)}),ov=(e,n)=>te.some(()=>hc(e,!1,n)),l$=(e,n,o)=>i$(n,o).bind(a=>a.fold(rt(i3,e),rt(ov,e),rt(r3,e),rt(NN,e))),c$=(e,n)=>A_(e,n),u$=(e,n,o,a)=>a3(n,a).fold(()=>l$(e,n,o),c=>c$(e,c)),d$=(e,n,o)=>{const a=Ye.fromDom(e.getBody()),c=e.selection.getRng();return o.length!==0?r3(e,o,te.none()):u$(e,a,c,n)},MN=(e,n)=>An(rd(n,e),Xu),a3=(e,n)=>An(rd(n,e),ef("caption")),f$=(e,n,o,a,c)=>M0(o,e.getBody(),c).bind(m=>MN(n,Ye.fromDom(m.getNode())).bind(p=>us(p,a)?te.none():te.some(gt))),A_=(e,n)=>te.some(()=>{Ju(n),e.selection.setCursorLocation(n.dom,0)}),m$=(e,n,o,a)=>yo(e.dom).bind(c=>yf(e.dom).map(m=>n?o.isEqual(c)&&a.isEqual(m):o.isEqual(m)&&a.isEqual(c))).getOr(!0),O_=(e,n)=>A_(e,n),g$=(e,n,o)=>a3(e,Ye.fromDom(o.getNode())).fold(()=>te.some(gt),a=>Yf(!us(a,n),gt)),F2=(e,n,o,a,c)=>M0(o,e.getBody(),c).fold(()=>te.some(gt),m=>m$(a,o,c,m)?O_(e,a):g$(n,a,m)),l3=(e,n,o,a)=>{const c=Dt.fromRangeStart(e.selection.getRng());return MN(o,a).bind(m=>Nr(e.schema,m,{checkRootAsContent:!1})?A_(e,m):f$(e,o,n,m,c))},e1=(e,n,o,a)=>{const c=Dt.fromRangeStart(e.selection.getRng());return Nr(e.schema,a)?A_(e,a):F2(e,o,n,a,c)},sv=(e,n)=>e?tN(n):Yy(n),R_=(e,n)=>{const o=Dt.fromRangeStart(e.selection.getRng());return sv(n,o)||Ad(n,e.getBody(),o).exists(a=>sv(n,a))},I_=(e,n,o)=>{const a=Ye.fromDom(e.getBody());return a3(a,o).fold(()=>l3(e,n,a,o).orThunk(()=>Yf(R_(e,n),gt)),c=>e1(e,n,a,c))},Wp=(e,n)=>{const o=Ye.fromDom(e.selection.getStart(!0)),a=pg(e);return e.selection.isCollapsed()&&a.length===0?I_(e,n,o):d$(e,o,a)},Tf=(e,n)=>{let o=n;for(;o&&o!==e;){if(Kc(o)||To(o))return o;o=o.parentNode}return null},D_=["data-ephox-","data-mce-","data-alloy-","data-snooker-","_"],P_=dn.each,N_=e=>{const n=e.dom,o=new Set(e.serializer.getTempAttrs()),a=(m,p)=>{if(m.nodeName!==p.nodeName||m.nodeType!==p.nodeType)return!1;const S=V=>{const X={};return P_(n.getAttribs(V),ee=>{const ae=ee.nodeName.toLowerCase();ae!=="style"&&!c(ae)&&(X[ae]=n.getAttrib(V,ae))}),X},T=(V,X)=>{for(const ee in V)if(So(V,ee)){const ae=X[ee];if(Qe(ae)||V[ee]!==ae)return!1;delete X[ee]}for(const ee in X)if(So(X,ee))return!1;return!0};return Un(m)&&Un(p)&&(!T(S(m),S(p))||!T(n.parseStyle(n.getAttrib(m,"style")),n.parseStyle(n.getAttrib(p,"style"))))?!1:!Rd(m)&&!Rd(p)},c=m=>Me(D_,p=>wr(m,p))||o.has(m);return{compare:a,isAttributeInternal:c}},M_=e=>["h1","h2","h3","h4","h5","h6"].includes(e.name),c3=e=>e.name==="summary",LN=(e,n)=>{let o=e;for(;o=o.walk();)n(o)},u3=(e,n,o,a)=>{const c=o.name;for(let m=0,p=e.length;m<p;m++){const S=e[m];if(S.name===c){const T=a.nodes[c];T?T.nodes.push(o):a.nodes[c]={filter:S,nodes:[o]}}}if(o.attributes)for(let m=0,p=n.length;m<p;m++){const S=n[m],T=S.name;if(T in o.attributes.map){const V=a.attributes[T];V?V.nodes.push(o):a.attributes[T]={filter:S,nodes:[o]}}}},tx=(e,n,o)=>{const a={nodes:{},attributes:{}};return o.firstChild&&LN(o,c=>{u3(e,n,c,a)}),a},d3=(e,n)=>{const o=(a,c)=>{Go(a,m=>{const p=$o(m.nodes);xe(m.filter.callbacks,S=>{for(let T=p.length-1;T>=0;T--){const V=p[T];(!(c?V.attr(m.filter.name)!==void 0:V.name===m.filter.name)||ct(V.parent))&&p.splice(T,1)}p.length>0&&S(p,m.filter.name,n)})})};o(e.nodes,!1),o(e.attributes,!0)},f3=(e,n,o,a={})=>{const c=tx(e,n,o);d3(c,a)},L_=(e,n,o,a)=>{if((e.pad_empty_with_br||n.insert)&&o(a)){const m=new Cl("br",1);n.insert&&m.attr("data-mce-bogus","1"),a.empty().append(m)}else a.empty().append(new Cl("#text",3)).value=ea},B_=e=>{var n;return m3(e,"#text")&&((n=e==null?void 0:e.firstChild)===null||n===void 0?void 0:n.value)===ea},m3=(e,n)=>{const o=e==null?void 0:e.firstChild;return Ce(o)&&o===e.lastChild&&o.name===n},BN=(e,n)=>{const o=e.getElementRule(n.name);return(o==null?void 0:o.paddEmpty)===!0},nx=(e,n,o,a)=>a.isEmpty(n,o,c=>BN(e,c)),FN=(e,n)=>Ce(e)&&(n(e)||e.name==="br"),Kp=e=>{let n;for(let o=e;o;o=o.parent){const a=o.attr("contenteditable");if(a==="false")break;a==="true"&&(n=o)}return te.from(n)},Ah=(e,n,o=e.parent)=>{if(n.getSpecialElements()[e.name])e.empty().remove();else{const a=e.children();for(const c of a)o&&!n.isValidChild(o.name,c.name)&&Ah(c,n,o);e.unwrap()}},Dd=(e,n,o,a=gt)=>{const c=n.getTextBlockElements(),m=n.getNonEmptyElements(),p=n.getWhitespaceElements(),S=dn.makeMap("tr,td,th,tbody,thead,tfoot,table,summary"),T=new Set,V=X=>X!==o&&!S[X.name];for(let X=0;X<e.length;X++){const ee=e[X];let ae,we,Ne;if(!ee.parent||T.has(ee))continue;if(c[ee.name]&&ee.parent.name==="li"){let $e=ee.next;for(;$e&&c[$e.name];){$e.name="li",T.add($e),ee.parent.insert($e,ee.parent);$e=$e.next}ee.unwrap();continue}const ke=[ee];for(ae=ee.parent;ae&&!n.isValidChild(ae.name,ee.name)&&V(ae);ae=ae.parent)ke.push(ae);if(ae&&ke.length>1)if($2(n,ee,ae))Ah(ee,n);else{ke.reverse(),we=ke[0].clone(),a(we);let $e=we;for(let nt=0;nt<ke.length-1;nt++){n.isValidChild($e.name,ke[nt].name)&&nt>0?(Ne=ke[nt].clone(),a(Ne),$e.append(Ne)):Ne=$e;for(let ut=ke[nt].firstChild;ut&&ut!==ke[nt+1];){const at=ut.next;Ne.append(ut),ut=at}$e=Ne}nx(n,m,p,we)?ae.insert(ee,ke[0],!0):(ae.insert(we,ke[0],!0),ae.insert(ee,we)),ae=ke[0],(nx(n,m,p,ae)||m3(ae,"br"))&&ae.empty().remove()}else if(ee.parent){if(ee.name==="li"){let $e=ee.prev;if($e&&($e.name==="ul"||$e.name==="ol")){$e.append(ee);continue}if($e=ee.next,$e&&($e.name==="ul"||$e.name==="ol")&&$e.firstChild){$e.insert(ee,$e.firstChild,!0);continue}const nt=new Cl("ul",1);a(nt),ee.wrap(nt);continue}if(n.isValidChild(ee.parent.name,"div")&&n.isValidChild("div",ee.name)){const $e=new Cl("div",1);a($e),ee.wrap($e)}else Ah(ee,n)}}},g3=(e,n)=>{let o=e;for(;o;){if(o.name===n)return!0;o=o.parent}return!1},$2=(e,n,o=n.parent)=>o?e.children[n.name]&&!e.isValidChild(o.name,n.name)||n.name==="a"&&g3(o,"a")?!0:c3(o)&&M_(n)?!((o==null?void 0:o.firstChild)===n&&(o==null?void 0:o.lastChild)===n):!1:!1,$N=(e,n,o,a)=>{const c=document.createRange();return c.setStart(e,n),c.setEnd(o,a),c},VN=e=>{const n=Dt.fromRangeStart(e),o=Dt.fromRangeEnd(e),a=e.commonAncestorContainer;return Ad(!1,a,o).map(c=>!yh(n,o,a)&&yh(n,c,a)?$N(n.container(),n.offset(),c.container(),c.offset()):e).getOr(e)},F_=e=>e.collapsed?e:VN(e),h3=e=>Ce(e.firstChild)&&e.firstChild===e.lastChild,zN=e=>e.name==="br"||e.value===ea,HN=(e,n)=>e.getBlockElements()[n.name]&&h3(n)&&zN(n.firstChild),p3=(e,n)=>{const o=e.getNonEmptyElements();return Ce(n)&&(n.isEmpty(o)||HN(e,n))},Oh=(e,n)=>{let o=n.firstChild,a=n.lastChild;return o&&o.name==="meta"&&(o=o.next),a&&a.attr("id")==="mce_marker"&&(a=a.prev),p3(e,a)&&(a=a==null?void 0:a.prev),!o||o!==a?!1:o.name==="ul"||o.name==="ol"},km=e=>{var n,o;const a=e.firstChild,c=e.lastChild;return a&&a.nodeName==="META"&&((n=a.parentNode)===null||n===void 0||n.removeChild(a)),c&&c.id==="mce_marker"&&((o=c.parentNode)===null||o===void 0||o.removeChild(c)),e},$_=(e,n,o)=>{const a=n.serialize(o),c=e.createFragment(a);return km(c)},UN=e=>{var n;return Je((n=e==null?void 0:e.childNodes)!==null&&n!==void 0?n:[],o=>o.nodeName==="LI")},V_=e=>e.data===ea||Ar(e),WN=e=>Ce(e==null?void 0:e.firstChild)&&e.firstChild===e.lastChild&&V_(e.firstChild),KN=e=>!e.firstChild||WN(e),jN=e=>e.length>0&&KN(e[e.length-1])?e.slice(0,-1):e,z_=(e,n)=>{const o=e.getParent(n,e.isBlock);return o&&o.nodeName==="LI"?o:null},ZN=(e,n)=>!!z_(e,n),GN=(e,n)=>{const o=n.cloneRange(),a=n.cloneRange();return o.setStartBefore(e),a.setEndAfter(e),[o.cloneContents(),a.cloneContents()]},H_=(e,n)=>{const o=Dt.before(e),c=go(n).next(o);return c?c.toRange():null},U_=(e,n)=>{const o=Dt.after(e),c=go(n).prev(o);return c?c.toRange():null},qN=(e,n,o,a)=>{const c=GN(e,a),m=e.parentNode;return m&&(m.insertBefore(c[0],e),dn.each(n,p=>{m.insertBefore(p,e)}),m.insertBefore(c[1],e),m.removeChild(e)),U_(n[n.length-1],o)},b3=(e,n,o)=>{const a=e.parentNode;return a&&dn.each(n,c=>{a.insertBefore(c,e)}),H_(e,o)},h$=(e,n,o,a)=>(a.insertAfter(n.reverse(),e),U_(n[0],o)),p$=(e,n,o,a)=>{const c=$_(n,e,a),m=z_(n,o.startContainer),p=jN(UN(c.firstChild)),S=1,T=2,V=n.getRoot(),X=ee=>{const ae=Dt.fromRangeStart(o),we=go(n.getRoot()),Ne=ee===S?we.prev(ae):we.next(ae),ke=Ne==null?void 0:Ne.getNode();return ke?z_(n,ke)!==m:!0};return m?X(S)?b3(m,p,V):X(T)?h$(m,p,V,n):qN(m,p,V,o):null},b$=["pre"],v$=(e,n,o,a)=>{var c;const m=n.firstChild,p=n.lastChild,S=p.attr("data-mce-type")==="bookmark"?p.prev:p,T=m===S,V=Se(b$,m.name);if(T&&V){const X=m.attr("contenteditable")!=="false",ee=((c=e.getParent(o,e.isBlock))===null||c===void 0?void 0:c.nodeName.toLowerCase())===m.name,ae=te.from(Tf(a,o)).forall(Kc);return X&&ee&&ae}else return!1},v3=Xg,y$=(e,n,o)=>{if(Ce(o)){const a=e.getParent(n.endContainer,v3);return o===a&&Qw(Ye.fromDom(o),n)}else return!1},W_=(e,n,o)=>{var a;if(o.getAttribute("data-mce-bogus")==="all")(a=o.parentNode)===null||a===void 0||a.insertBefore(e.dom.createFragment(n),o);else{const c=o.firstChild,m=o.lastChild;!c||c===m&&c.nodeName==="BR"?e.dom.setHTML(o,n):e.selection.setContent(n,{no_events:!0})}},y3=(e,n,o)=>{te.from(e.getParent(n,"td,th")).map(Ye.fromDom).each(a=>Sw(a,o))},YN=(e,n)=>{const o=e.schema.getTextInlineElements(),a=e.dom;if(n){const c=e.getBody(),m=N_(e),p="*[data-mce-fragment]",S=a.select(p);dn.each(S,T=>{const V=ae=>Ce(o[ae.nodeName.toLowerCase()]),X=ae=>ae.childNodes.length===1;if((ae=>!(RA(a,ae)||YP(a,ae)))(T)&&V(T)&&X(T)){const ae=Z0(a,T),we=(nt,ut)=>Ho(nt,at=>Se(ut,at)),Ne=nt=>X(T)&&a.is(nt,p)&&V(nt)&&(nt.nodeName===T.nodeName&&we(ae,Z0(a,nt))||Ne(nt.children[0])),ke=nt=>Ce(nt)&&nt!==c&&(m.compare(T,nt)||ke(nt.parentElement)),$e=nt=>Ce(nt)&&nt!==c&&a.is(nt,p)&&(j7(a,T,nt)||$e(nt.parentElement));(Ne(T.children[0])||ke(T.parentElement)&&!$e(T.parentElement))&&a.remove(T,!0)}})}},x3=e=>{let n=e;for(;n=n.walk();)n.type===1&&n.attr("data-mce-fragment","1")},x$=e=>{dn.each(e.getElementsByTagName("*"),n=>{n.removeAttribute("data-mce-fragment")})},w$=e=>!!e.getAttribute("data-mce-fragment"),C$=(e,n)=>Ce(n)&&!e.schema.getVoidElements()[n.nodeName],S$=(e,n)=>{var o,a,c;let m;const p=e.dom,S=e.selection;if(!n)return;S.scrollIntoView(n);const T=Tf(e.getBody(),n);if(T&&p.getContentEditable(T)==="false"){p.remove(n),S.select(T);return}let V=p.createRng();const X=n.previousSibling;if(on(X)){V.setStart(X,(a=(o=X.nodeValue)===null||o===void 0?void 0:o.length)!==null&&a!==void 0?a:0);const we=n.nextSibling;on(we)&&(X.appendData(we.data),(c=we.parentNode)===null||c===void 0||c.removeChild(we))}else V.setStartBefore(n),V.setEndBefore(n);const ee=we=>{let Ne=Dt.fromRangeStart(we);return Ne=go(e.getBody()).next(Ne),Ne==null?void 0:Ne.toRange()},ae=p.getParent(n,p.isBlock);if(p.remove(n),ae&&p.isEmpty(ae)){const we=v3(ae);ir(Ye.fromDom(ae)),V.setStart(ae,0),V.setEnd(ae,0),!we&&!w$(ae)&&(m=ee(V))?(V=m,p.remove(ae)):p.add(ae,p.create("br",we?{}:{"data-mce-bogus":"1"}))}S.setRng(V)},_$=e=>{const n=e.dom,o=F_(e.selection.getRng());e.selection.setRng(o);const a=n.getParent(o.startContainer,v3);y$(n,o,a)?i3(e,o,Ye.fromDom(a)):o.startContainer===o.endContainer&&o.endOffset-o.startOffset===1&&on(o.startContainer.childNodes[o.startOffset])?o.deleteContents():e.getDoc().execCommand("Delete",!1)},k$=e=>{for(let n=e;n;n=n.walk())if(n.attr("id")==="mce_marker")return te.some(n);return te.none()},K_=(e,n,o)=>{var a;return Me(o.children(),M_)&&((a=e.getParent(n,e.isBlock))===null||a===void 0?void 0:a.nodeName)==="SUMMARY"},j_=(e,n,o)=>{var a,c;const m=e.selection,p=e.dom,S=e.parser,T=o.merge,V=zp({validate:!0},e.schema),X='<span id="mce_marker" data-mce-type="bookmark">&#xFEFF;</span>';o.preserve_zwsp||(n=mc(n)),n.indexOf("{$caret}")===-1&&(n+="{$caret}"),n=n.replace(/\{\$caret\}/,X);let ee=m.getRng();const ae=ee.startContainer,we=e.getBody();ae===we&&m.isCollapsed()&&p.isBlock(we.firstChild)&&C$(e,we.firstChild)&&p.isEmpty(we.firstChild)&&(ee=p.createRng(),ee.setStart(we.firstChild,0),ee.setEnd(we.firstChild,0),m.setRng(ee)),m.isCollapsed()||_$(e);const Ne=m.getNode(),ke={context:Ne.nodeName.toLowerCase(),data:o.data,insert:!0},$e=S.parse(n,ke);if(o.paste===!0&&Oh(e.schema,$e)&&ZN(p,Ne))return ee=p$(V,p,m.getRng(),$e),ee&&m.setRng(ee),n;o.paste===!0&&v$(p,$e,Ne,e.getBody())&&((a=$e.firstChild)===null||a===void 0||a.unwrap()),x3($e);let nt=$e.lastChild;if(nt&&nt.attr("id")==="mce_marker"){const ut=nt;for(nt=nt.prev;nt;nt=nt.walk(!0))if(nt.type===3||!p.isBlock(nt.name)){nt.parent&&e.schema.isValidChild(nt.parent.name,"span")&&nt.parent.insert(ut,nt,nt.name==="br");break}}if(e._selectionOverrides.showBlockCaretContainer(Ne),!ke.invalid&&!K_(p,Ne,$e))n=V.serialize($e),W_(e,n,Ne);else{e.selection.setContent(X);let ut=m.getNode(),at;const kt=e.getBody();for(Xn(ut)?ut=at=kt:at=ut;at&&at!==kt;)ut=at,at=at.parentNode;n=ut===kt?kt.innerHTML:p.getOuterHTML(ut);const qt=S.parse(n),gn=k$(qt),Pn=gn.bind(Kp).getOr(qt);gn.each(Hn=>Hn.replace($e));const $t=$e.children(),Rt=(c=$e.parent)!==null&&c!==void 0?c:qt;$e.unwrap();const Zt=Je($t,Hn=>$2(e.schema,Hn,Rt));Dd(Zt,e.schema,Pn),f3(S.getNodeFilters(),S.getAttributeFilters(),qt),n=V.serialize(qt),ut===kt?p.setHTML(kt,n):p.setOuterHTML(ut,n)}return YN(e,T),S$(e,p.get("mce_marker")),x$(e.getBody()),y3(p,m.getStart(),e.schema),Ja(e.schema,e.getBody(),m.getStart()),n},t1=e=>e instanceof Cl,E$=e=>{Ky(e)&&yo(e.getBody()).each(n=>{const o=n.getNode(),a=mu(o)?yo(o).getOr(n):n;e.selection.setRng(a.toRange())})},w3=(e,n,o)=>{e.dom.setHTML(e.getBody(),n),o!==!0&&E$(e)},T$=(e,n,o,a)=>{if(o=mc(o),o.length===0||/^\s+$/.test(o)){const c='<br data-mce-bogus="1">';n.nodeName==="TABLE"?o="<tr><td>"+c+"</td></tr>":/^(UL|OL)$/.test(n.nodeName)&&(o="<li>"+c+"</li>");const m=Jl(e);return e.schema.isValidChild(n.nodeName.toLowerCase(),m.toLowerCase())?(o=c,o=e.dom.createHTML(m,Mw(e),o)):o||(o=c),w3(e,o,a.no_selection),{content:o,html:o}}else{a.format!=="raw"&&(o=zp({validate:!1},e.schema).serialize(e.parser.parse(o,{isRootContent:!0,insert:!0})));const c=h0(Ye.fromDom(n))?o:dn.trim(o);return w3(e,c,a.no_selection),{content:c,html:c}}},A$=(e,n,o,a)=>{f3(e.parser.getNodeFilters(),e.parser.getAttributeFilters(),o);const c=zp({validate:!1},e.schema).serialize(o),m=mc(h0(Ye.fromDom(n))?c:dn.trim(c));return w3(e,m,a.no_selection),{content:o,html:m}},O$=(e,n,o)=>te.from(e.getBody()).map(a=>t1(n)?A$(e,a,n,o):T$(e,a,n,o)).getOr({content:n,html:t1(o.content)?"":o.content}),XN=e=>Te(e)?e:Bn,Em=(e,n,o)=>{let a=e.dom;const c=XN(o);for(;a.parentNode;){a=a.parentNode;const m=Ye.fromDom(a),p=n(m);if(p.isSome())return p;if(c(m))break}return te.none()},V2=(e,n,o)=>{const a=n(e),c=XN(o);return a.orThunk(()=>c(e)?te.none():Em(e,n,c))},Z_=zy,C3=(e,n,o)=>{const a=e.formatter.get(o);if(a)for(let c=0;c<a.length;c++){const m=a[c];if(nd(m)&&m.inherit===!1&&e.dom.is(n,m.selector))return!0}return!1},G_=(e,n,o,a,c)=>{const m=e.dom.getRoot();if(n===m)return!1;const p=e.dom.getParent(n,S=>C3(e,S,o)?!0:S.parentNode===m||!!Rh(e,S,o,a,!0));return!!Rh(e,p,o,a,c)},q_=(e,n,o)=>sl(o)&&Z_(n,o.inline)||bg(o)&&Z_(n,o.block)?!0:nd(o)?Un(n)&&e.is(n,o.selector):!1,S3=(e,n,o,a,c,m)=>{const p=o[a],S=a==="attributes";if(Te(o.onmatch))return o.onmatch(n,o,a);if(p){if(Sn(p)){for(let T=0;T<p.length;T++)if(S?e.getAttrib(n,p[T]):t2(e,n,p[T]))return!0}else for(const T in p)if(So(p,T)){const V=S?e.getAttrib(n,T):t2(e,n,T),X=Lp(p[T],m),ee=ct(V)||rn(V);if(ee&&ct(X))continue;if(c&&ee&&!o.exact||(!c||o.exact)&&!Z_(V,$S(X,T)))return!1}}return!0},Rh=(e,n,o,a,c)=>{const m=e.formatter.get(o),p=e.dom;if(m&&Un(n))for(let S=0;S<m.length;S++){const T=m[S];if(q_(e.dom,n,T)&&S3(p,n,T,"attributes",c,a)&&S3(p,n,T,"styles",c,a)){const V=T.classes;if(V){for(let X=0;X<V.length;X++)if(!e.dom.hasClass(n,Lp(V[X],a)))return}return T}}},rv=(e,n,o,a,c)=>{if(a)return G_(e,a,n,o,c);if(a=e.selection.getNode(),G_(e,a,n,o,c))return!0;const m=e.selection.getStart();return!!(m!==a&&G_(e,m,n,o,c))},JN=(e,n,o)=>{const a=[],c={},m=e.selection.getStart();return e.dom.getParent(m,p=>{for(let S=0;S<n.length;S++){const T=n[S];!c[T]&&Rh(e,p,T,o)&&(c[T]=!0,a.push(T))}},e.dom.getRoot()),a},QN=(e,n)=>{const o=c=>us(c,Ye.fromDom(e.getBody())),a=(c,m)=>Rh(e,c.dom,m)?te.some(m):te.none();return te.from(e.selection.getStart(!0)).bind(c=>V2(Ye.fromDom(c),m=>mi(n,p=>a(m,p)),o)).getOrNull()},e5=(e,n)=>{const o=e.formatter.get(n),a=e.dom;if(o&&e.selection.isEditable()){const c=e.selection.getStart(),m=n2(a,c);for(let p=o.length-1;p>=0;p--){const S=o[p];if(!nd(S))return!0;for(let T=m.length-1;T>=0;T--)if(a.is(m[T],S.selector))return!0}}return!1},_3=(e,n,o)=>pn(o,(a,c)=>{const m=zD(e,c);return e.formatter.matchNode(n,c,{},m)?a.concat([c]):a},[]),z2=ta,R$=(e,n)=>e.importNode(n,!0),t5=e=>{if(e){const n=new Na(e,e);for(let o=n.current();o;o=n.next())if(on(o))return o}return null},Ih=e=>{const n=Ye.fromTag("span");return Ka(n,{id:Ly,"data-mce-bogus":"1","data-mce-type":"format-caret"}),e&&Vr(n,Ye.fromText(z2)),n},k3=e=>{const n=t5(e);return n&&n.data.charAt(0)===z2&&n.deleteData(0,1),n},E3=(e,n,o)=>{const a=e.dom,c=e.selection;if(GT(n))hc(e,!1,Ye.fromDom(n),o,!0);else{const m=c.getRng(),p=a.getParent(n,a.isBlock),S=m.startContainer,T=m.startOffset,V=m.endContainer,X=m.endOffset,ee=k3(n);a.remove(n,!0),S===ee&&T>0&&m.setStart(ee,T-1),V===ee&&X>0&&m.setEnd(ee,X-1),p&&a.isEmpty(p)&&Ju(Ye.fromDom(p)),c.setRng(m)}},T3=(e,n,o)=>{const a=e.dom,c=e.selection;if(n)E3(e,n,o);else if(n=zb(e.getBody(),c.getStart()),!n)for(;n=a.get(Ly);)E3(e,n,o)},n1=(e,n,o)=>{var a,c;const m=e.dom,p=m.getParent(o,rt(FS,e.schema));p&&m.isEmpty(p)?(a=o.parentNode)===null||a===void 0||a.replaceChild(n,o):(pu(Ye.fromDom(o)),m.isEmpty(o)?(c=o.parentNode)===null||c===void 0||c.replaceChild(n,o):m.insertAfter(n,o))},A3=(e,n)=>(e.appendChild(n),n),H2=(e,n)=>{var o;const a=wt(e,(m,p)=>A3(m,p.cloneNode(!1)),n),c=(o=a.ownerDocument)!==null&&o!==void 0?o:document;return A3(a,c.createTextNode(z2))},I$=(e,n,o,a,c,m)=>{const p=e.formatter,S=e.dom,T=Je(tn(p.get()),ee=>ee!==a&&!Vs(ee,"removeformat")),V=_3(e,o,T);if(Je(V,ee=>!HD(e,ee,a)).length>0){const ee=o.cloneNode(!1);return S.add(n,ee),p.remove(a,c,ee,m),S.remove(ee),te.some(ee)}else return te.none()},n5=e=>u0(e,uh(e).replace(new RegExp(`${ea}$`)," ")),O3=(e,n)=>{const o=()=>{n!==null&&!e.dom.isEmpty(n)&&Mi(Ye.fromDom(n)).each(a=>{Cr(a)?n5(a):ji(a,c=>Cr(c)).each(c=>{Cr(c)&&n5(c)})})};e.once("input",a=>{a.data&&!B0(a.data)&&(a.isComposing?e.once("compositionend",()=>{o()}):o())})},jp=(e,n,o)=>{let a;const c=e.selection,m=e.formatter.get(n);if(!m)return;const p=c.getRng();let S=p.startOffset;const V=p.startContainer.nodeValue;a=zb(e.getBody(),c.getStart());const X=/[^\s\u00a0\u00ad\u200b\ufeff]/;if(V&&S>0&&S<V.length&&X.test(V.charAt(S))&&X.test(V.charAt(S-1))){const ee=c.getBookmark();p.collapse(!0);let ae=Wb(e.dom,p,m);ae=v2(ae),e.formatter.apply(n,o,ae),c.moveToBookmark(ee)}else{let ee=a?t5(a):null;(!a||(ee==null?void 0:ee.data)!==z2)&&(a=R$(e.getDoc(),Ih(!0).dom),ee=a.firstChild,p.insertNode(a),S=1,O3(e,a)),e.formatter.apply(n,o,a),c.setCursorLocation(ee,S)}},R3=(e,n,o,a)=>{const c=e.dom,m=e.selection;let p=!1;const S=e.formatter.get(n);if(!S)return;const T=m.getRng(),V=T.startContainer,X=T.startOffset;let ee=V;on(V)&&(X!==V.data.length&&(p=!0),ee=ee.parentNode);const ae=[];let we;for(;ee;){if(Rh(e,ee,n,o,a)){we=ee;break}ee.nextSibling&&(p=!0),ae.push(ee),ee=ee.parentNode}if(we)if(p){const Ne=m.getBookmark();T.collapse(!0);let ke=Wb(c,T,S,!0);ke=v2(ke),e.formatter.remove(n,o,ke,a),m.moveToBookmark(Ne)}else{const Ne=zb(e.getBody(),we),ke=Ce(Ne)?c.getParents(we.parentNode,Jt,Ne):[],$e=Ih(!1).dom;n1(e,$e,Ne??we);const nt=I$(e,$e,we,n,o,a),ut=H2([...ae,...nt.toArray(),...ke],$e);Ne&&E3(e,Ne,Ce(Ne)),m.setCursorLocation(ut,1),O3(e,$e),c.isEmpty(we)&&c.remove(we)}},I3=(e,n,o)=>{const a=e.selection,c=e.getBody();T3(e,null,o),(n===8||n===46)&&a.isCollapsed()&&a.getStart().innerHTML===z2&&T3(e,zb(c,a.getStart()),!0),(n===37||n===39)&&T3(e,zb(c,a.getStart()),!0)},D3=e=>on(e)&&Be(e.data,ea),o5=e=>{e.on("mouseup keydown",n=>{I3(e,n.keyCode,D3(e.selection.getRng().endContainer))})},P3=e=>{const n=Ih(!1),o=H2(e,n.dom);return{caretContainer:n,caretPosition:Dt(o,0)}},N3=(e,n)=>{const{caretContainer:o,caretPosition:a}=P3(n);return Dr(Ye.fromDom(e),o),Hs(Ye.fromDom(e)),a},D$=(e,n)=>{const{caretContainer:o,caretPosition:a}=P3(n);return e.insertNode(o.dom),a},ox=(e,n)=>{if(Od(n.dom))return!1;const o=e.schema.getTextInlineElements();return So(o,hs(n))&&!Od(n.dom)&&!df(n.dom)},iv={},M3=pa(["pre"]),s5=(e,n)=>{iv[e]||(iv[e]=[]),iv[e].push(n)},r5=(e,n)=>{So(iv,e)&&xe(iv[e],o=>{o(n)})};s5("pre",e=>{const n=e.selection.getRng(),o=c=>m=>{const p=m.previousSibling;return M3(p)&&Se(c,p)},a=(c,m)=>{const p=Ye.fromDom(m),S=Cc(p).dom;Hs(p),li(Ye.fromDom(c),[Ye.fromTag("br",S),Ye.fromTag("br",S),...ma(p)])};if(!n.collapsed){const c=e.selection.getSelectedBlocks(),m=Je(Je(c,M3),o(c));xe(m,p=>{a(p.previousSibling,p)})}});const L3=["fontWeight","fontStyle","color","fontSize","fontFamily"],Y_=e=>q(e.styles)&&Me(tn(e.styles),n=>Se(L3,n)),B3=e=>An(e,n=>sl(n)&&n.inline==="span"&&Y_(n)),sx=(e,n)=>{const o=e.get(n);return oe(o)?B3(o):te.none()},i5=(e,n)=>td(n,Dt.fromRangeStart(e)).isNone(),F3=(e,n)=>Gc(n,Dt.fromRangeEnd(e)).exists(o=>!Ar(o.getNode())||Gc(n,o).isSome())===!1,a5=e=>n=>Kv(n)&&e.isEditable(n),P$=e=>{const n=e.getSelectedBlocks(),o=e.getRng();if(e.isCollapsed())return[];if(n.length===1)return i5(o,n[0])&&F3(o,n[0])?n:[];{const a=cn(n).filter(p=>i5(o,p)).toArray(),c=uo(n).filter(p=>F3(o,p)).toArray(),m=n.slice(1,-1);return a.concat(m).concat(c)}},l5=e=>Je(P$(e),a5(e.dom)),$3=e=>Je(e.getSelectedBlocks(),a5(e.dom)),V3=dn.each,X_=e=>Un(e)&&!Rd(e)&&!Od(e)&&!df(e),av=(e,n)=>{for(let o=e;o;o=o[n]){if(on(o)&&lt(o.data))return e;if(Un(o)&&!Rd(o))return o}return e},z3=(e,n,o)=>{const a=N_(e),c=Hc(n)&&e.dom.isEditable(n),m=Hc(o)&&e.dom.isEditable(o);if(c&&m){const p=av(n,"previousSibling"),S=av(o,"nextSibling");if(a.compare(p,S)){for(let T=p.nextSibling;T&&T!==S;){const V=T;T=T.nextSibling,p.appendChild(V)}return e.dom.remove(S),dn.each(dn.grep(S.childNodes),T=>{p.appendChild(T)}),p}}return o},J_=(e,n,o,a)=>{var c;if(a&&n.merge_siblings!==!1){const m=(c=z3(e,F0(a),a))!==null&&c!==void 0?c:a;z3(e,m,F0(m,!0))}},c5=(e,n,o)=>{if(n.clear_child_styles){const a=n.links?"*:not(a)":"*";V3(e.select(a,o),c=>{X_(c)&&e.isEditable(c)&&V3(n.styles,(m,p)=>{e.setStyle(c,p,"")})})}},U2=(e,n,o)=>{V3(e.childNodes,a=>{X_(a)&&(n(a)&&o(a),a.hasChildNodes()&&U2(a,n,o))})},lv=(e,n)=>{n.nodeName==="SPAN"&&e.getAttribs(n).length===0&&e.remove(n,!0)},H3=(e,n)=>o=>!!(o&&t2(e,o,n)),Pd=(e,n,o)=>a=>{e.setStyle(a,n,o),a.getAttribute("style")===""&&a.removeAttribute("style"),lv(e,a)},Af=ws.generate([{keep:[]},{rename:["name"]},{removed:[]}]),U3=/^(src|href|style)$/,Q_=dn.each,ek=zy,u5=e=>/^(TR|TH|TD)$/.test(e.nodeName),o1=(e,n,o)=>e.isChildOf(n,o)&&n!==o&&!e.isBlock(o),W2=(e,n,o)=>{let a=n[o?"startContainer":"endContainer"],c=n[o?"startOffset":"endOffset"];if(Un(a)){const m=a.childNodes.length-1;!o&&c&&c--,a=a.childNodes[c>m?m:c]}return on(a)&&o&&c>=a.data.length&&(a=new Na(a,e.getBody()).next()||a),on(a)&&!o&&c===0&&(a=new Na(a,e.getBody()).prev()||a),a},W3=(e,n)=>{const o=n?"firstChild":"lastChild",a=e[o];return u5(e)&&a?e.nodeName==="TR"&&a[o]||a:e},tk=(e,n,o,a)=>{var c;const m=e.create(o,a);return(c=n.parentNode)===null||c===void 0||c.insertBefore(m,n),m.appendChild(n),m},nk=(e,n,o,a,c)=>{const m=Ye.fromDom(n),p=Ye.fromDom(e.create(a,c)),S=o?Qf(m):Bu(m);return li(p,S),o?(Dr(m,p),Xa(p,m)):(vt(m,p),Vr(p,m)),p.dom},N$=(e,n)=>n.links&&e.nodeName==="A",d5=(e,n,o)=>{const a=n.parentNode;let c;const m=e.dom,p=Jl(e);bg(o)&&a===m.getRoot()&&(!o.list_block||!ek(n,o.list_block))&&xe($o(n.childNodes),S=>{Hb(e,p,S.nodeName.toLowerCase())?c?c.appendChild(S):(c=tk(m,S,p),m.setAttribs(c,Mw(e))):c=null}),!(KD(o)&&!ek(o.inline,n))&&m.remove(n,!0)},K3=(e,n,o)=>I(e)?{name:n,value:null}:{name:e,value:Lp(n,o)},f5=(e,n)=>{e.getAttrib(n,"style")===""&&(n.removeAttribute("style"),n.removeAttribute("data-mce-style"))},id=(e,n,o,a,c)=>{let m=!1;Q_(o.styles,(p,S)=>{const{name:T,value:V}=K3(S,p,a),X=$S(V,T);(o.remove_similar||_e(V)||!Un(c)||ek(t2(e,c,T),X))&&e.setStyle(n,T,""),m=!0}),m&&f5(e,n)},j3=(e,n,o)=>{n==="removeformat"?xe($3(e.selection),a=>{xe(L3,c=>e.dom.setStyle(a,c,"")),f5(e.dom,a)}):sx(e.formatter,n).each(a=>{xe($3(e.selection),c=>id(e.dom,c,a,o,null))})},Z3=(e,n,o,a,c)=>{const m=e.dom,p=N_(e),S=e.schema;if(sl(n)&&ju(S,n.inline)&&hu(S,a)&&a.parentElement===e.getBody())return d5(e,a,n),Af.removed();if(!n.ceFalseOverride&&a&&m.getContentEditableParent(a)==="false"||a&&!q_(m,a,n)&&!N$(a,n))return Af.keep();const T=a,V=n.preserve_attributes;if(sl(n)&&n.remove==="all"&&oe(V)){const X=Je(m.getAttribs(T),ee=>Se(V,ee.name.toLowerCase()));if(m.removeAllAttribs(T),xe(X,ee=>m.setAttrib(T,ee.name,ee.value)),X.length>0)return Af.rename("span")}if(n.remove!=="all"){id(m,T,n,o,c),Q_(n.attributes,(ee,ae)=>{const{name:we,value:Ne}=K3(ae,ee,o);if(n.remove_similar||_e(Ne)||!Un(c)||ek(m.getAttrib(c,we),Ne)){if(we==="class"){const ke=m.getAttrib(T,we);if(ke){let $e="";if(xe(ke.split(/\s+/),nt=>{/mce\-\w+/.test(nt)&&($e+=($e?" ":"")+nt)}),$e){m.setAttrib(T,we,$e);return}}}if(U3.test(we)&&T.removeAttribute("data-mce-"+we),we==="style"&&pa(["li"])(T)&&m.getStyle(T,"list-style-type")==="none"){T.removeAttribute(we),m.setStyle(T,"list-style-type","none");return}we==="class"&&T.removeAttribute("className"),T.removeAttribute(we)}}),Q_(n.classes,ee=>{ee=Lp(ee,o),(!Un(c)||m.hasClass(c,ee))&&m.removeClass(T,ee)});const X=m.getAttribs(T);for(let ee=0;ee<X.length;ee++){const ae=X[ee].nodeName;if(!p.isAttributeInternal(ae))return Af.keep()}}return n.remove!=="none"?(d5(e,T,n),Af.removed()):Af.keep()},G3=(e,n,o,a,c)=>{let m;return n.parentNode&&xe(n2(e.dom,n.parentNode).reverse(),p=>{if(!m&&Un(p)&&p.id!=="_start"&&p.id!=="_end"){const S=Rh(e,p,o,a,c);S&&S.split!==!1&&(m=p)}}),m},m5=(e,n,o,a)=>Z3(e,n,o,a,a).fold(ft(a),c=>(e.dom.createFragment().appendChild(a),e.dom.rename(a,c)),ft(null)),K2=(e,n,o,a,c,m,p,S)=>{var T,V;let X,ee;const ae=e.dom;if(o){const we=o.parentNode;for(let Ne=a.parentNode;Ne&&Ne!==we;Ne=Ne.parentNode){let ke=ae.clone(Ne,!1);for(let $e=0;$e<n.length&&(ke=m5(e,n[$e],S,ke),ke!==null);$e++);ke&&(X&&ke.appendChild(X),ee||(ee=ke),X=ke)}(!p.mixed||!ae.isBlock(o))&&(a=(T=ae.split(o,a))!==null&&T!==void 0?T:a),X&&ee&&((V=c.parentNode)===null||V===void 0||V.insertBefore(X,c),ee.appendChild(c),sl(p)&&J_(e,p,S,X))}return a},Zp=(e,n,o,a,c)=>{const m=e.formatter.get(n),p=m[0],S=e.dom,T=e.selection,V=ke=>{const $e=G3(e,ke,n,o,c);return K2(e,m,$e,ke,ke,!0,p,o)},X=ke=>Rd(ke)&&Un(ke)&&(ke.id==="_start"||ke.id==="_end"),ee=ke=>Me(m,$e=>uv(e,$e,o,ke,ke)),ae=ke=>{const $e=$o(ke.childNodes),ut=ee(ke)||Me(m,qt=>q_(S,ke,qt)),at=ke.parentNode;if(!ut&&Ce(at)&&zS(p)&&ee(at),p.deep&&$e.length)for(let qt=0;qt<$e.length;qt++)ae($e[qt]);xe(["underline","line-through","overline"],qt=>{Un(ke)&&e.dom.getStyle(ke,"text-decoration")===qt&&ke.parentNode&&ZT(S,ke.parentNode)===qt&&uv(e,{deep:!1,exact:!0,inline:"span",styles:{textDecoration:qt}},void 0,ke)})},we=ke=>{const $e=S.get(ke?"_start":"_end");if($e){let nt=$e[ke?"firstChild":"lastChild"];return X(nt)&&(nt=nt[ke?"firstChild":"lastChild"]),on(nt)&&nt.data.length===0&&(nt=ke?$e.previousSibling||$e.nextSibling:$e.nextSibling||$e.previousSibling),S.remove($e,!0),nt}else return null},Ne=ke=>{let $e,nt,ut=Wb(S,ke,m,ke.collapsed);if(p.split){if(ut=v2(ut),$e=W2(e,ut,!0),nt=W2(e,ut),$e!==nt){if($e=W3($e,!0),nt=W3(nt,!1),o1(S,$e,nt)){const kt=te.from($e.firstChild).getOr($e);V(nk(S,kt,!0,"span",{id:"_start","data-mce-type":"bookmark"})),we(!0);return}if(o1(S,nt,$e)){const kt=te.from(nt.lastChild).getOr(nt);V(nk(S,kt,!1,"span",{id:"_end","data-mce-type":"bookmark"})),we(!1);return}$e=tk(S,$e,"span",{id:"_start","data-mce-type":"bookmark"}),nt=tk(S,nt,"span",{id:"_end","data-mce-type":"bookmark"});const at=S.createRng();at.setStartAfter($e),at.setEndBefore(nt),i2(S,at,kt=>{xe(kt,qt=>{!Rd(qt)&&!Rd(qt.parentNode)&&V(qt)})}),V($e),V(nt),$e=we(!0),nt=we()}else $e=nt=V($e);ut.startContainer=$e.parentNode?$e.parentNode:$e,ut.startOffset=S.nodeIndex($e),ut.endContainer=nt.parentNode?nt.parentNode:nt,ut.endOffset=S.nodeIndex(nt)+1}i2(S,ut,at=>{xe(at,ae)})};if(a){if(Vy(a)){const ke=S.createRng();ke.setStartBefore(a),ke.setEndAfter(a),Ne(ke)}else Ne(a);eP(e,n,a,o);return}!T.isCollapsed()||!sl(p)||pg(e).length?(WT(e,()=>$y(e,Ne),ke=>sl(p)&&rv(e,n,o,ke)),e.nodeChanged()):R3(e,n,o,c),j3(e,n,o),eP(e,n,a,o)},cv=(e,n,o,a,c)=>{(a||e.selection.isEditable())&&Zp(e,n,o,a,c)},uv=(e,n,o,a,c)=>Z3(e,n,o,a,c).fold(Bn,m=>(e.dom.rename(a,m),!0),Jt),ok=dn.each,q3=(e,n,o,a)=>{const c=m=>{if(Hc(m)&&Un(m.parentNode)&&e.isEditable(m)){const p=ZT(e,m.parentNode);e.getStyle(m,"color")&&p?e.setStyle(m,"text-decoration",p):e.getStyle(m,"text-decoration")===p&&e.setStyle(m,"text-decoration",null)}};n.styles&&(n.styles.color||n.styles.textDecoration)&&(dn.walk(a,c,"childNodes"),c(a))},g5=(e,n,o,a)=>{if(n.styles&&n.styles.backgroundColor){const c=H3(e,"fontSize");U2(a,m=>c(m)&&e.isEditable(m),Pd(e,"backgroundColor",Lp(n.styles.backgroundColor,o)))}},M$=(e,n,o,a)=>{if(sl(n)&&(n.inline==="sub"||n.inline==="sup")){const c=H3(e,"fontSize");U2(a,p=>c(p)&&e.isEditable(p),Pd(e,"fontSize",""));const m=Je(e.select(n.inline==="sup"?"sub":"sup",a),e.isEditable);e.remove(m,!0)}},h5=(e,n,o,a)=>{ok(n,c=>{sl(c)&&ok(e.dom.select(c.inline,a),m=>{X_(m)&&uv(e,c,o,m,c.exact?m:null)}),c5(e.dom,c,a)})},p5=(e,n,o,a,c)=>{const m=c.parentNode;Rh(e,m,o,a)&&uv(e,n,a,c)||n.merge_with_parents&&m&&e.dom.getParent(m,p=>Rh(e,p,o,a)?(uv(e,n,a,c),!0):!1)},j2=dn.each,b5=(e,n,o,a)=>{if(A8(e)&&sl(n)&&o.parentNode){const c=ty(e.schema),m=lp(Ye.fromDom(o),p=>Od(p.dom));return dl(c,a)&&cc(e.schema,o.parentNode,{skipBogus:!1,includeZwsp:!0})&&!m}else return!1},v5=(e,n,o,a)=>{if(j2(o.styles,(c,m)=>{e.setStyle(n,m,Lp(c,a))}),o.styles){const c=e.getAttrib(n,"style");c&&e.setAttrib(n,"data-mce-style",c)}},L$=(e,n,o,a)=>{const c=e.formatter.get(n),m=c[0],p=!a&&e.selection.isCollapsed(),S=e.dom,T=e.selection,V=(Ne,ke=m)=>{Te(ke.onformat)&&ke.onformat(Ne,ke,o,a),v5(S,Ne,ke,o),j2(ke.attributes,($e,nt)=>{S.setAttrib(Ne,nt,Lp($e,o))}),j2(ke.classes,$e=>{const nt=Lp($e,o);S.hasClass(Ne,nt)||S.addClass(Ne,nt)})},X=(Ne,ke)=>{let $e=!1;return j2(Ne,nt=>nd(nt)?S.getContentEditable(ke)==="false"&&!nt.ceFalseOverride||Ce(nt.collapsed)&&nt.collapsed!==p?!0:S.is(ke,nt.selector)&&!Od(ke)?(V(ke,nt),$e=!0,!1):!0:!1),$e},ee=Ne=>{if(de(Ne)){const ke=S.create(Ne);return V(ke),ke}else return null},ae=(Ne,ke,$e)=>{const nt=[];let ut=!0;const at=m.inline||m.block,kt=ee(at),qt=$t=>UD(m)&&Rh(e,$t,n,o),gn=($t,Rt,Zt)=>{const Hn=WD(m)&&FS(e.schema,$t)&&Hb(e,Rt,at);return Zt&&Hn},Pn=($t,Rt,Zt,Hn)=>{const so=$t.nodeName.toLowerCase(),rs=Hb(e,at,so)&&Hb(e,Rt,at),fs=!$e&&on($t)&&Qu($t.data),Js=Od($t),cr=!sl(m)||!Ne.isBlock($t);return(Zt||Hn)&&rs&&!fs&&!Js&&cr};i2(Ne,ke,$t=>{let Rt;const Zt=Hn=>{let so=!1,rs=ut,fs=!1;const Js=Hn.parentNode,cr=Js.nodeName.toLowerCase(),Vi=Ne.getContentEditable(Hn);Ce(Vi)&&(rs=ut,ut=Vi==="true",so=!0,fs=jT(e,Hn));const vc=ut&&!so;if(Ar(Hn)&&!b5(e,m,Hn,cr)){Rt=null,bg(m)&&Ne.remove(Hn);return}if(qt(Hn)){Rt=null;return}if(gn(Hn,cr,vc)){const yr=Ne.rename(Hn,at);V(yr),nt.push(yr),Rt=null;return}if(nd(m)){let yr=X(c,Hn);if(!yr&&Ce(Js)&&zS(m)&&(yr=X(c,Js)),!sl(m)||yr){Rt=null;return}}Ce(kt)&&Pn(Hn,cr,vc,fs)?(Rt||(Rt=Ne.clone(kt,!1),Js.insertBefore(Rt,Hn),nt.push(Rt)),fs&&so&&(ut=rs),Rt.appendChild(Hn)):(Rt=null,xe($o(Hn.childNodes),Zt),so&&(ut=rs),Rt=null)};xe($t,Zt)}),m.links===!0&&xe(nt,$t=>{const Rt=Zt=>{Zt.nodeName==="A"&&V(Zt,m),xe($o(Zt.childNodes),Rt)};Rt($t)}),xe(nt,$t=>{const Rt=so=>{let rs=0;return xe(so.childNodes,fs=>{!n7(fs)&&!Rd(fs)&&rs++}),rs},Zt=so=>An(so.childNodes,BS).filter(fs=>Ne.getContentEditable(fs)!=="false"&&q_(Ne,fs,m)).map(fs=>{const Js=Ne.clone(fs,!1);return V(Js),Ne.replace(Js,so,!0),Ne.remove(fs,!0),Js}).getOr(so),Hn=Rt($t);if((nt.length>1||!Ne.isBlock($t))&&Hn===0){Ne.remove($t,!0);return}(sl(m)||bg(m)&&m.wrapper)&&(!m.exact&&Hn===1&&($t=Zt($t)),h5(e,c,o,$t),p5(e,m,n,o,$t),g5(Ne,m,o,$t),q3(Ne,m,o,$t),M$(Ne,m,o,$t),J_(e,m,o,$t))})},we=Vy(a)?a:T.getNode();if(S.getContentEditable(we)==="false"&&!jT(e,we)){a=we,X(c,a),QD(e,n,a,o);return}if(m){if(a)if(Vy(a)){if(!X(c,a)){const Ne=S.createRng();Ne.setStartBefore(a),Ne.setEndAfter(a),ae(S,Wb(S,Ne,c),!0)}}else ae(S,a,!0);else!p||!sl(m)||pg(e).length?(T.setRng(F_(T.getRng())),WT(e,()=>{$y(e,(Ne,ke)=>{const $e=ke?Ne:Wb(S,Ne,c);ae(S,$e,!1)})},Jt),e.nodeChanged()):jp(e,n,o),sx(e.formatter,n).each(Ne=>{xe(l5(e.selection),ke=>v5(S,ke,Ne,o))});r5(n,e)}QD(e,n,a,o)},y5=(e,n,o,a)=>{(a||e.selection.isEditable())&&L$(e,n,o,a)},qc=e=>So(e,"vars"),x5=(e,n)=>{e.set({}),n.on("NodeChange",o=>{X3(n,o.element,e.get())}),n.on("FormatApply FormatRemove",o=>{const a=te.from(o.node).map(c=>Vy(c)?c:c.startContainer).bind(c=>Un(c)?te.some(c):te.from(c.parentElement)).getOrThunk(()=>rx(n));X3(n,a,e.get())})},rx=e=>e.selection.getStart(),w5=(e,n,o,a,c)=>Qt(n,S=>{const T=e.formatter.matchNode(S,o,c??{},a);return!Qe(T)},S=>C3(e,S,o)?!0:a?!1:Ce(e.formatter.matchNode(S,o,c,!0))),Y3=(e,n)=>{const o=n??rx(e);return Je(n2(e.dom,o),a=>Un(a)&&!df(a))},X3=(e,n,o)=>{const a=Y3(e,n);Go(o,(c,m)=>{const p=S=>{const T=w5(e,a,m,S.similar,qc(S)?S.vars:void 0),V=T.isSome();if(S.state.get()!==V){S.state.set(V);const X=T.getOr(n);qc(S)?S.callback(V,{node:X,format:m,parents:a}):xe(S.callbacks,ee=>ee(V,{node:X,format:m,parents:a}))}};xe([c.withSimilar,c.withoutSimilar],p),xe(c.withVars,p)})},J3=(e,n,o,a,c,m)=>{const p=n.get();xe(o.split(","),S=>{const T=Zs(p,S).getOrThunk(()=>{const X={withSimilar:{state:Fi(!1),similar:!0,callbacks:[]},withoutSimilar:{state:Fi(!1),similar:!1,callbacks:[]},withVars:[]};return p[S]=X,X}),V=()=>{const X=Y3(e);return w5(e,X,S,c,m).isSome()};if(Qe(m)){const X=c?T.withSimilar:T.withoutSimilar;X.callbacks.push(a),X.callbacks.length===1&&X.state.set(V())}else T.withVars.push({state:Fi(V()),similar:c,vars:m,callback:a})}),n.set(p)},C5=(e,n,o)=>{const a=e.get();xe(n.split(","),c=>Zs(a,c).each(m=>{a[c]={withSimilar:{...m.withSimilar,callbacks:Je(m.withSimilar.callbacks,p=>p!==o)},withoutSimilar:{...m.withoutSimilar,callbacks:Je(m.withoutSimilar.callbacks,p=>p!==o)},withVars:Je(m.withVars,p=>p.callback!==o)}})),e.set(a)},B$=(e,n,o,a,c,m)=>(J3(e,n,o,a,c,m),{unbind:()=>C5(n,o,a)}),F$=(e,n,o,a)=>{const c=e.formatter.get(n);c&&(rv(e,n,o,a)&&(!("toggle"in c[0])||c[0].toggle)?cv(e,n,o,a):y5(e,n,o,a))},S5=dn.explode,sk=()=>{const e={};return{addFilter:(c,m)=>{xe(S5(c),p=>{So(e,p)||(e[p]={name:p,callbacks:[]}),e[p].callbacks.push(m)})},getFilters:()=>Dc(e),removeFilter:(c,m)=>{xe(S5(c),p=>{if(So(e,p))if(Ce(m)){const S=e[p],T=Je(S.callbacks,V=>V!==m);T.length>0?S.callbacks=T:delete e[p]}else delete e[p]})}}},$$=(e,n)=>{xe(n,o=>{e.attr(o,null)})},V$=(e,n,o)=>{e.addNodeFilter("font",a=>{xe(a,c=>{const m=n.parse(c.attr("style")),p=c.attr("color"),S=c.attr("face"),T=c.attr("size");p&&(m.color=p),S&&(m["font-family"]=S),T&&Cn(T).each(V=>{m["font-size"]=o[V-1]}),c.name="span",c.attr("style",n.serialize(m)),$$(c,["color","face","size"])})})},_5=(e,n,o)=>{e.addNodeFilter("strike",a=>{const c=n.type!=="html4";xe(a,m=>{if(c)m.name="s";else{const p=o.parse(m.attr("style"));p["text-decoration"]="line-through",m.name="span",m.attr("style",o.serialize(p))}})})},z$=(e,n,o)=>{var a;const c=uw();n.convert_fonts_to_spans&&V$(e,c,dn.explode((a=n.font_size_legacy_values)!==null&&a!==void 0?a:"")),_5(e,o,c)},H$=(e,n,o)=>{n.inline_styles&&z$(e,n,o)},Q3=e=>fetch(e).then(n=>n.ok?n.blob():Promise.reject()).catch(()=>Promise.reject({message:`Cannot convert ${e} to Blob. Resource might not exist or is inaccessible.`,uriType:"blob"})),rk=e=>{const n=/([a-z0-9+\/=\s]+)/i.exec(e);return n?n[1]:""},ik=e=>{const[n,...o]=e.split(","),a=o.join(","),c=/data:([^/]+\/[^;]+)(;.+)?/.exec(n);if(c){const m=c[2]===";base64",p=m?rk(a):decodeURIComponent(a);return te.some({type:c[1],data:p,base64Encoded:m})}else return te.none()},e4=(e,n,o=!0)=>{let a=n;if(o)try{a=atob(n)}catch{return te.none()}const c=new Uint8Array(a.length);for(let m=0;m<c.length;m++)c[m]=a.charCodeAt(m);return te.some(new Blob([c],{type:e}))},t4=e=>new Promise((n,o)=>{ik(e).bind(({type:a,data:c,base64Encoded:m})=>e4(a,c,m)).fold(()=>o("Invalid data URI"),n)}),U$=e=>wr(e,"blob:")?Q3(e):wr(e,"data:")?t4(e):Promise.reject("Unknown URI format"),k5=e=>new Promise((n,o)=>{const a=new FileReader;a.onloadend=()=>{n(a.result)},a.onerror=()=>{var c;o((c=a.error)===null||c===void 0?void 0:c.message)},a.readAsDataURL(e)});let W$=0;const s1=e=>"blobid"+W$++,E5=(e,n,o)=>ik(e).bind(({data:a,type:c,base64Encoded:m})=>{if(n&&!m)return te.none();{const p=m?a:btoa(a);return o(p,c)}}),Z2=(e,n,o)=>{const a=e.create(s1(),n,o);return e.add(a),a},T5=(e,n,o=!1)=>E5(n,o,(a,c)=>te.from(e.getByData(a,c)).orThunk(()=>e4(c,a).map(m=>Z2(e,m,a)))),n4=(e,n)=>{const o=()=>Promise.reject("Invalid data URI");if(wr(n,"blob:")){const a=e.getByUri(n);return Ce(a)?Promise.resolve(a):U$(n).then(c=>k5(c).then(m=>E5(m,!1,p=>te.some(Z2(e,c,p))).getOrThunk(o)))}else return wr(n,"data:")?T5(e,n).fold(o,a=>Promise.resolve(a)):Promise.reject("Unknown image data format")},A5=/^(?:(?:(?:[A-Za-z][A-Za-z\d.+-]{0,14}:\/\/(?:[-.~*+=!&;:'%@?^${}(),\w]+@)?|www\.|[-;:&=+$,.\w]+@)([A-Za-z\d-]+(?:\.[A-Za-z\d-]+)*))(?::\d+)?(?:\/(?:[-.~*+=!;:'%@$(),\/\w]*[-~*+=%@$()\/\w])?)?(?:\?(?:[-.~*+=!&;:'%@?^${}(),\/\w]+)?)?(?:#(?:[-.~*+=!&;:'%@?^${}(),\/\w]+)?)?)$/,O5=e=>te.from(e.match(A5)).bind(n=>aa(n,1)).map(n=>wr(n,"www.")?n.substring(4):n),o4=(e,n)=>{te.from(e.attr("src")).bind(O5).forall(o=>!Se(n,o))&&e.attr("sandbox","")},ix=(e,n)=>wr(e,`${n}/`),K$=e=>Qe(e)?"iframe":ix(e,"image")?"img":ix(e,"video")?"video":ix(e,"audio")?"audio":"iframe",j$=({type:e,src:n,width:o,height:a}={},c,m)=>{const p=K$(e),S=new Cl(p,1);return S.attr(p==="audio"?{src:n}:{src:n,width:o,height:a}),(p==="audio"||p==="video")&&S.attr("controls",""),p==="iframe"&&c&&o4(S,m),S},s4=e=>Ce(e.attr("data-mce-bogus")),R5=e=>e.attr("src")===os.transparentSrc||Ce(e.attr("data-mce-placeholder")),Z$=(e,n)=>{const{blob_cache:o}=n;if(o){const a=c=>{const m=c.attr("src");R5(c)||s4(c)||ct(m)||T5(o,m,!0).each(p=>{c.attr("src",p.blobUri())})};e.addAttributeFilter("src",c=>xe(c,a))}},G$=(e,n)=>{var o,a;const c=e.schema;e.addAttributeFilter("href",T=>{let V=T.length;const X=ae=>ae.split(" ").filter(Ne=>Ne.length>0).concat(["noopener"]).sort().join(" "),ee=ae=>{const we=ae?dn.trim(ae):"";return/\b(noopener)\b/g.test(we)?we:X(we)};if(!n.allow_unsafe_link_target)for(;V--;){const ae=T[V];ae.name==="a"&&ae.attr("target")==="_blank"&&ae.attr("rel",ee(ae.attr("rel")))}}),n.allow_html_in_named_anchor||e.addAttributeFilter("id,name",T=>{let V=T.length,X,ee,ae,we;for(;V--;)if(we=T[V],we.name==="a"&&we.firstChild&&!we.attr("href"))for(ae=we.parent,X=we.lastChild;X&&ae;)ee=X.prev,ae.insert(X,we),X=ee}),n.fix_list_elements&&e.addNodeFilter("ul,ol",T=>{let V=T.length,X,ee;for(;V--;)if(X=T[V],ee=X.parent,ee&&(ee.name==="ul"||ee.name==="ol"))if(X.prev&&X.prev.name==="li")X.prev.append(X);else{const ae=new Cl("li",1);ae.attr("style","list-style-type: none"),X.wrap(ae)}});const m=c.getValidClasses();n.validate&&m&&e.addAttributeFilter("class",T=>{var V;let X=T.length;for(;X--;){const ee=T[X],ae=(V=ee.attr("class"))!==null&&V!==void 0?V:"",we=dn.explode(ae," ");let Ne="";for(let ke=0;ke<we.length;ke++){const $e=we[ke];let nt=!1,ut=m["*"];ut&&ut[$e]&&(nt=!0),ut=m[ee.name],!nt&&ut&&ut[$e]&&(nt=!0),nt&&(Ne&&(Ne+=" "),Ne+=$e)}Ne.length||(Ne=null),ee.attr("class",Ne)}}),Z$(e,n);const p=(o=n.sandbox_iframes)!==null&&o!==void 0?o:!1,S=ul((a=n.sandbox_iframes_exclusions)!==null&&a!==void 0?a:[]);n.convert_unsafe_embeds&&e.addNodeFilter("object,embed",T=>xe(T,V=>{V.replace(j$({type:V.attr("type"),src:V.name==="object"?V.attr("data"):V.attr("src"),width:V.attr("width"),height:V.attr("height")},p,S))})),p&&e.addNodeFilter("iframe",T=>xe(T,V=>o4(V,S)))},{entries:I5,setPrototypeOf:D5,isFrozen:r4,getPrototypeOf:P5,getOwnPropertyDescriptor:q$}=Object;let{freeze:ad,seal:Hr,create:Y$}=Object,{apply:i4,construct:ak}=typeof Reflect<"u"&&Reflect;i4||(i4=function(n,o,a){return n.apply(o,a)}),ad||(ad=function(n){return n}),Hr||(Hr=function(n){return n}),ak||(ak=function(n,o){return new n(...o)});const a4=wu(Array.prototype.forEach),N5=wu(Array.prototype.pop),Tm=wu(Array.prototype.push),ax=wu(String.prototype.toLowerCase),lk=wu(String.prototype.toString),l4=wu(String.prototype.match),Of=wu(String.prototype.replace),c4=wu(String.prototype.indexOf),M5=wu(String.prototype.trim),xu=wu(RegExp.prototype.test),dv=G2(TypeError);function wu(e){return function(n){for(var o=arguments.length,a=new Array(o>1?o-1:0),c=1;c<o;c++)a[c-1]=arguments[c];return i4(e,n,a)}}function G2(e){return function(){for(var n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return ak(e,o)}}function Rs(e,n,o){var a;o=(a=o)!==null&&a!==void 0?a:ax,D5&&D5(e,null);let c=n.length;for(;c--;){let m=n[c];if(typeof m=="string"){const p=o(m);p!==m&&(r4(n)||(n[c]=p),m=p)}e[m]=!0}return e}function Dh(e){const n=Y$(null);for(const[o,a]of I5(e))n[o]=a;return n}function q2(e,n){for(;e!==null;){const a=q$(e,n);if(a){if(a.get)return wu(a.get);if(typeof a.value=="function")return wu(a.value)}e=P5(e)}function o(a){return console.warn("fallback value for",a),null}return o}const u4=ad(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),d4=ad(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),ck=ad(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),X$=ad(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),f4=ad(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),Y2=ad(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),L5=ad(["#text"]),B5=ad(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),m4=ad(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),F5=ad(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),uk=ad(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),J$=Hr(/\{\{[\w\W]*|[\w\W]*\}\}/gm),Q$=Hr(/<%[\w\W]*|[\w\W]*%>/gm),eV=Hr(/\${[\w\W]*}/gm),tV=Hr(/^data-[\-\w.\u00B7-\uFFFF]/),nV=Hr(/^aria-[\-\w]+$/),$5=Hr(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),V5=Hr(/^(?:\w+script|data):/i),z5=Hr(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),g4=Hr(/^html$/i);var h4=Object.freeze({__proto__:null,MUSTACHE_EXPR:J$,ERB_EXPR:Q$,TMPLIT_EXPR:eV,DATA_ATTR:tV,ARIA_ATTR:nV,IS_ALLOWED_URI:$5,IS_SCRIPT_OR_DATA:V5,ATTR_WHITESPACE:z5,DOCTYPE_NAME:g4});const H5=()=>typeof window>"u"?null:window,U5=function(n,o){if(typeof n!="object"||typeof n.createPolicy!="function")return null;let a=null;const c="data-tt-policy-suffix";o&&o.hasAttribute(c)&&(a=o.getAttribute(c));const m="dompurify"+(a?"#"+a:"");try{return n.createPolicy(m,{createHTML(p){return p},createScriptURL(p){return p}})}catch{return console.warn("TrustedTypes policy "+m+" could not be created."),null}};function p4(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:H5();const n=vs=>p4(vs);if(n.version="3.0.5",n.removed=[],!e||!e.document||e.document.nodeType!==9)return n.isSupported=!1,n;const o=e.document,a=o.currentScript;let{document:c}=e;const{DocumentFragment:m,HTMLTemplateElement:p,Node:S,Element:T,NodeFilter:V,NamedNodeMap:X=e.NamedNodeMap||e.MozNamedAttrMap,HTMLFormElement:ee,DOMParser:ae,trustedTypes:we}=e,Ne=T.prototype,ke=q2(Ne,"cloneNode"),$e=q2(Ne,"nextSibling"),nt=q2(Ne,"childNodes"),ut=q2(Ne,"parentNode");if(typeof p=="function"){const vs=c.createElement("template");vs.content&&vs.content.ownerDocument&&(c=vs.content.ownerDocument)}let at,kt="";const{implementation:qt,createNodeIterator:gn,createDocumentFragment:Pn,getElementsByTagName:$t}=c,{importNode:Rt}=o;let Zt={};n.isSupported=typeof I5=="function"&&typeof ut=="function"&&qt&&qt.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:Hn,ERB_EXPR:so,TMPLIT_EXPR:rs,DATA_ATTR:fs,ARIA_ATTR:Js,IS_SCRIPT_OR_DATA:cr,ATTR_WHITESPACE:Vi}=h4;let{IS_ALLOWED_URI:vc}=h4,yr=null;const wn=Rs({},[...u4,...d4,...ck,...f4,...L5]);let to=null;const Us=Rs({},[...B5,...m4,...F5,...uk]);let kn=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),ho=null,ls=null,Dn=!0,is=!0,bs=!1,Sl=!0,lr=!1,al=!1,kg=!1,ob=!1,_u=!1,Pf=!1,Eg=!1,Nf=!0,Tg=!1;const ao="user-content-";let Ps=!0,wi=!1,Yi={},$a=null;const tc=Rs({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let xa=null;const wa=Rs({},["audio","video","img","source","image","track"]);let ku=null;const Vh=Rs({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),zh="http://www.w3.org/1998/Math/MathML",Hh="http://www.w3.org/2000/svg",Ag="http://www.w3.org/1999/xhtml";let Tx=Ag,Xk=!1,Jk=null;const A9=Rs({},[zh,Hh,Ag],lk);let y1;const x6=["application/xhtml+xml","text/html"],OG="text/html";let Xc,RC=null;const RG=c.createElement("form"),O9=function(Nt){return Nt instanceof RegExp||Nt instanceof Function},xv=function(Nt){if(!(RC&&RC===Nt)){if((!Nt||typeof Nt!="object")&&(Nt={}),Nt=Dh(Nt),y1=x6.indexOf(Nt.PARSER_MEDIA_TYPE)===-1?y1=OG:y1=Nt.PARSER_MEDIA_TYPE,Xc=y1==="application/xhtml+xml"?lk:ax,yr="ALLOWED_TAGS"in Nt?Rs({},Nt.ALLOWED_TAGS,Xc):wn,to="ALLOWED_ATTR"in Nt?Rs({},Nt.ALLOWED_ATTR,Xc):Us,Jk="ALLOWED_NAMESPACES"in Nt?Rs({},Nt.ALLOWED_NAMESPACES,lk):A9,ku="ADD_URI_SAFE_ATTR"in Nt?Rs(Dh(Vh),Nt.ADD_URI_SAFE_ATTR,Xc):Vh,xa="ADD_DATA_URI_TAGS"in Nt?Rs(Dh(wa),Nt.ADD_DATA_URI_TAGS,Xc):wa,$a="FORBID_CONTENTS"in Nt?Rs({},Nt.FORBID_CONTENTS,Xc):tc,ho="FORBID_TAGS"in Nt?Rs({},Nt.FORBID_TAGS,Xc):{},ls="FORBID_ATTR"in Nt?Rs({},Nt.FORBID_ATTR,Xc):{},Yi="USE_PROFILES"in Nt?Nt.USE_PROFILES:!1,Dn=Nt.ALLOW_ARIA_ATTR!==!1,is=Nt.ALLOW_DATA_ATTR!==!1,bs=Nt.ALLOW_UNKNOWN_PROTOCOLS||!1,Sl=Nt.ALLOW_SELF_CLOSE_IN_ATTR!==!1,lr=Nt.SAFE_FOR_TEMPLATES||!1,al=Nt.WHOLE_DOCUMENT||!1,_u=Nt.RETURN_DOM||!1,Pf=Nt.RETURN_DOM_FRAGMENT||!1,Eg=Nt.RETURN_TRUSTED_TYPE||!1,ob=Nt.FORCE_BODY||!1,Nf=Nt.SANITIZE_DOM!==!1,Tg=Nt.SANITIZE_NAMED_PROPS||!1,Ps=Nt.KEEP_CONTENT!==!1,wi=Nt.IN_PLACE||!1,vc=Nt.ALLOWED_URI_REGEXP||$5,Tx=Nt.NAMESPACE||Ag,kn=Nt.CUSTOM_ELEMENT_HANDLING||{},Nt.CUSTOM_ELEMENT_HANDLING&&O9(Nt.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(kn.tagNameCheck=Nt.CUSTOM_ELEMENT_HANDLING.tagNameCheck),Nt.CUSTOM_ELEMENT_HANDLING&&O9(Nt.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(kn.attributeNameCheck=Nt.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),Nt.CUSTOM_ELEMENT_HANDLING&&typeof Nt.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(kn.allowCustomizedBuiltInElements=Nt.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),lr&&(is=!1),Pf&&(_u=!0),Yi&&(yr=Rs({},[...L5]),to=[],Yi.html===!0&&(Rs(yr,u4),Rs(to,B5)),Yi.svg===!0&&(Rs(yr,d4),Rs(to,m4),Rs(to,uk)),Yi.svgFilters===!0&&(Rs(yr,ck),Rs(to,m4),Rs(to,uk)),Yi.mathMl===!0&&(Rs(yr,f4),Rs(to,F5),Rs(to,uk))),Nt.ADD_TAGS&&(yr===wn&&(yr=Dh(yr)),Rs(yr,Nt.ADD_TAGS,Xc)),Nt.ADD_ATTR&&(to===Us&&(to=Dh(to)),Rs(to,Nt.ADD_ATTR,Xc)),Nt.ADD_URI_SAFE_ATTR&&Rs(ku,Nt.ADD_URI_SAFE_ATTR,Xc),Nt.FORBID_CONTENTS&&($a===tc&&($a=Dh($a)),Rs($a,Nt.FORBID_CONTENTS,Xc)),Ps&&(yr["#text"]=!0),al&&Rs(yr,["html","head","body"]),yr.table&&(Rs(yr,["tbody"]),delete ho.tbody),Nt.TRUSTED_TYPES_POLICY){if(typeof Nt.TRUSTED_TYPES_POLICY.createHTML!="function")throw dv('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof Nt.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw dv('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');at=Nt.TRUSTED_TYPES_POLICY,kt=at.createHTML("")}else at===void 0&&(at=U5(we,a)),at!==null&&typeof kt=="string"&&(kt=at.createHTML(""));ad&&ad(Nt),RC=Nt}},mR=Rs({},["mi","mo","mn","ms","mtext"]),At=Rs({},["foreignobject","desc","title","annotation-xml"]),It=Rs({},["title","style","font","a","script"]),vn=Rs({},d4);Rs(vn,ck),Rs(vn,X$);const mn=Rs({},f4);Rs(mn,Y2);const wo=function(Nt){let Qn=ut(Nt);(!Qn||!Qn.tagName)&&(Qn={namespaceURI:Tx,tagName:"template"});const Bo=ax(Nt.tagName),sa=ax(Qn.tagName);return Jk[Nt.namespaceURI]?Nt.namespaceURI===Hh?Qn.namespaceURI===Ag?Bo==="svg":Qn.namespaceURI===zh?Bo==="svg"&&(sa==="annotation-xml"||mR[sa]):!!vn[Bo]:Nt.namespaceURI===zh?Qn.namespaceURI===Ag?Bo==="math":Qn.namespaceURI===Hh?Bo==="math"&&At[sa]:!!mn[Bo]:Nt.namespaceURI===Ag?Qn.namespaceURI===Hh&&!At[sa]||Qn.namespaceURI===zh&&!mR[sa]?!1:!mn[Bo]&&(It[Bo]||!vn[Bo]):!!(y1==="application/xhtml+xml"&&Jk[Nt.namespaceURI]):!1},Es=function(Nt){Tm(n.removed,{element:Nt});try{Nt.parentNode.removeChild(Nt)}catch{Nt.remove()}},Ci=function(Nt,Qn){try{Tm(n.removed,{attribute:Qn.getAttributeNode(Nt),from:Qn})}catch{Tm(n.removed,{attribute:null,from:Qn})}if(Qn.removeAttribute(Nt),Nt==="is"&&!to[Nt])if(_u||Pf)try{Es(Qn)}catch{}else try{Qn.setAttribute(Nt,"")}catch{}},Uh=function(Nt){let Qn,Bo;if(ob)Nt="<remove></remove>"+Nt;else{const Wh=l4(Nt,/^[\r\n\t ]+/);Bo=Wh&&Wh[0]}y1==="application/xhtml+xml"&&Tx===Ag&&(Nt='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+Nt+"</body></html>");const sa=at?at.createHTML(Nt):Nt;if(Tx===Ag)try{Qn=new ae().parseFromString(sa,y1)}catch{}if(!Qn||!Qn.documentElement){Qn=qt.createDocument(Tx,"template",null);try{Qn.documentElement.innerHTML=Xk?kt:sa}catch{}}const Eu=Qn.body||Qn.documentElement;return Nt&&Bo&&Eu.insertBefore(c.createTextNode(Bo),Eu.childNodes[0]||null),Tx===Ag?$t.call(Qn,al?"html":"body")[0]:al?Qn.documentElement:Eu},w6=function(Nt){return gn.call(Nt.ownerDocument||Nt,Nt,V.SHOW_ELEMENT|V.SHOW_COMMENT|V.SHOW_TEXT,null,!1)},Sde=function(Nt){return Nt instanceof ee&&(typeof Nt.nodeName!="string"||typeof Nt.textContent!="string"||typeof Nt.removeChild!="function"||!(Nt.attributes instanceof X)||typeof Nt.removeAttribute!="function"||typeof Nt.setAttribute!="function"||typeof Nt.namespaceURI!="string"||typeof Nt.insertBefore!="function"||typeof Nt.hasChildNodes!="function")},C6=function(Nt){return typeof S=="object"?Nt instanceof S:Nt&&typeof Nt=="object"&&typeof Nt.nodeType=="number"&&typeof Nt.nodeName=="string"},x1=function(Nt,Qn,Bo){Zt[Nt]&&a4(Zt[Nt],sa=>{sa.call(n,Qn,Bo,RC)})},IG=function(Nt){let Qn;if(x1("beforeSanitizeElements",Nt,null),Sde(Nt))return Es(Nt),!0;const Bo=Xc(Nt.nodeName);if(x1("uponSanitizeElement",Nt,{tagName:Bo,allowedTags:yr}),Nt.hasChildNodes()&&!C6(Nt.firstElementChild)&&(!C6(Nt.content)||!C6(Nt.content.firstElementChild))&&xu(/<[/\w]/g,Nt.innerHTML)&&xu(/<[/\w]/g,Nt.textContent))return Es(Nt),!0;if(!yr[Bo]||ho[Bo]){if(!ho[Bo]&&PG(Bo)&&(kn.tagNameCheck instanceof RegExp&&xu(kn.tagNameCheck,Bo)||kn.tagNameCheck instanceof Function&&kn.tagNameCheck(Bo)))return!1;if(Ps&&!$a[Bo]){const sa=ut(Nt)||Nt.parentNode,Eu=nt(Nt)||Nt.childNodes;if(Eu&&sa){const Wh=Eu.length;for(let zl=Wh-1;zl>=0;--zl)sa.insertBefore(ke(Eu[zl],!0),$e(Nt))}}return Es(Nt),!0}return Nt instanceof T&&!wo(Nt)||(Bo==="noscript"||Bo==="noembed"||Bo==="noframes")&&xu(/<\/no(script|embed|frames)/i,Nt.innerHTML)?(Es(Nt),!0):(lr&&Nt.nodeType===3&&(Qn=Nt.textContent,Qn=Of(Qn,Hn," "),Qn=Of(Qn,so," "),Qn=Of(Qn,rs," "),Nt.textContent!==Qn&&(Tm(n.removed,{element:Nt.cloneNode()}),Nt.textContent=Qn)),x1("afterSanitizeElements",Nt,null),!1)},DG=function(Nt,Qn,Bo){if(Nf&&(Qn==="id"||Qn==="name")&&(Bo in c||Bo in RG))return!1;if(!(is&&!ls[Qn]&&xu(fs,Qn))){if(!(Dn&&xu(Js,Qn))){if(!to[Qn]||ls[Qn]){if(!(PG(Nt)&&(kn.tagNameCheck instanceof RegExp&&xu(kn.tagNameCheck,Nt)||kn.tagNameCheck instanceof Function&&kn.tagNameCheck(Nt))&&(kn.attributeNameCheck instanceof RegExp&&xu(kn.attributeNameCheck,Qn)||kn.attributeNameCheck instanceof Function&&kn.attributeNameCheck(Qn))||Qn==="is"&&kn.allowCustomizedBuiltInElements&&(kn.tagNameCheck instanceof RegExp&&xu(kn.tagNameCheck,Bo)||kn.tagNameCheck instanceof Function&&kn.tagNameCheck(Bo))))return!1}else if(!ku[Qn]){if(!xu(vc,Of(Bo,Vi,""))){if(!((Qn==="src"||Qn==="xlink:href"||Qn==="href")&&Nt!=="script"&&c4(Bo,"data:")===0&&xa[Nt])){if(!(bs&&!xu(cr,Of(Bo,Vi,"")))){if(Bo)return!1}}}}}}return!0},PG=function(Nt){return Nt.indexOf("-")>0},NG=function(Nt){let Qn,Bo,sa,Eu;x1("beforeSanitizeAttributes",Nt,null);const{attributes:Wh}=Nt;if(!Wh)return;const zl={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:to};for(Eu=Wh.length;Eu--;){Qn=Wh[Eu];const{name:Kh,namespaceURI:R9}=Qn;Bo=Kh==="value"?Qn.value:M5(Qn.value);const kde=Bo;if(sa=Xc(Kh),zl.attrName=sa,zl.attrValue=Bo,zl.keepAttr=!0,zl.forceKeepAttr=void 0,x1("uponSanitizeAttribute",Nt,zl),Bo=zl.attrValue,zl.forceKeepAttr)continue;if(!zl.keepAttr){Ci(Kh,Nt);continue}if(!Sl&&xu(/\/>/i,Bo)){Ci(Kh,Nt);continue}lr&&(Bo=Of(Bo,Hn," "),Bo=Of(Bo,so," "),Bo=Of(Bo,rs," "));const MG=Xc(Nt.nodeName);if(!DG(MG,sa,Bo)){Ci(Kh,Nt);continue}if(Tg&&(sa==="id"||sa==="name")&&(Ci(Kh,Nt),Bo=ao+Bo),at&&typeof we=="object"&&typeof we.getAttributeType=="function"&&!R9)switch(we.getAttributeType(MG,sa)){case"TrustedHTML":{Bo=at.createHTML(Bo);break}case"TrustedScriptURL":{Bo=at.createScriptURL(Bo);break}}if(Bo!==kde)try{R9?Nt.setAttributeNS(R9,Kh,Bo):Nt.setAttribute(Kh,Bo)}catch{Ci(Kh,Nt)}}x1("afterSanitizeAttributes",Nt,null)},_de=function vs(Nt){let Qn;const Bo=w6(Nt);for(x1("beforeSanitizeShadowDOM",Nt,null);Qn=Bo.nextNode();)x1("uponSanitizeShadowNode",Qn,null),!IG(Qn)&&(Qn.content instanceof m&&vs(Qn.content),NG(Qn));x1("afterSanitizeShadowDOM",Nt,null)};return n.sanitize=function(vs){let Nt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Qn,Bo,sa,Eu;if(Xk=!vs,Xk&&(vs="<!-->"),typeof vs!="string"&&!C6(vs))if(typeof vs.toString=="function"){if(vs=vs.toString(),typeof vs!="string")throw dv("dirty is not a string, aborting")}else throw dv("toString is not a function");if(!n.isSupported)return vs;if(kg||xv(Nt),n.removed=[],typeof vs=="string"&&(wi=!1),wi){if(vs.nodeName){const Kh=Xc(vs.nodeName);if(!yr[Kh]||ho[Kh])throw dv("root node is forbidden and cannot be sanitized in-place")}}else if(vs instanceof S)Qn=Uh("<!---->"),Bo=Qn.ownerDocument.importNode(vs,!0),Bo.nodeType===1&&Bo.nodeName==="BODY"||Bo.nodeName==="HTML"?Qn=Bo:Qn.appendChild(Bo);else{if(!_u&&!lr&&!al&&vs.indexOf("<")===-1)return at&&Eg?at.createHTML(vs):vs;if(Qn=Uh(vs),!Qn)return _u?null:Eg?kt:""}Qn&&ob&&Es(Qn.firstChild);const Wh=w6(wi?vs:Qn);for(;sa=Wh.nextNode();)IG(sa)||(sa.content instanceof m&&_de(sa.content),NG(sa));if(wi)return vs;if(_u){if(Pf)for(Eu=Pn.call(Qn.ownerDocument);Qn.firstChild;)Eu.appendChild(Qn.firstChild);else Eu=Qn;return(to.shadowroot||to.shadowrootmode)&&(Eu=Rt.call(o,Eu,!0)),Eu}let zl=al?Qn.outerHTML:Qn.innerHTML;return al&&yr["!doctype"]&&Qn.ownerDocument&&Qn.ownerDocument.doctype&&Qn.ownerDocument.doctype.name&&xu(g4,Qn.ownerDocument.doctype.name)&&(zl="<!DOCTYPE "+Qn.ownerDocument.doctype.name+`>
`+zl),lr&&(zl=Of(zl,Hn," "),zl=Of(zl,so," "),zl=Of(zl,rs," ")),at&&Eg?at.createHTML(zl):zl},n.setConfig=function(vs){xv(vs),kg=!0},n.clearConfig=function(){RC=null,kg=!1},n.isValidAttribute=function(vs,Nt,Qn){RC||xv({});const Bo=Xc(vs),sa=Xc(Nt);return DG(Bo,sa,Qn)},n.addHook=function(vs,Nt){typeof Nt=="function"&&(Zt[vs]=Zt[vs]||[],Tm(Zt[vs],Nt))},n.removeHook=function(vs){if(Zt[vs])return N5(Zt[vs])},n.removeHooks=function(vs){Zt[vs]&&(Zt[vs]=[])},n.removeAllHooks=function(){Zt={}},n}var b4=p4();const W5=dn.each,K5=dn.trim,oV=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],sV={ftp:21,http:80,https:443,mailto:25},j5=["img","video"],Z5=(e,n)=>Ce(e)?!e:Ce(n)?!Se(j5,n):!0,rV=e=>{try{return decodeURIComponent(e)}catch{return unescape(e)}},v4=(e,n,o)=>{const a=rV(n).replace(/\s/g,"");return e.allow_script_urls?!1:/((java|vb)script|mhtml):/i.test(a)?!0:e.allow_html_data_urls?!1:/^data:image\//i.test(a)?Z5(e.allow_svg_data_urls,o)&&/^data:image\/svg\+xml/i.test(a):/^data:/i.test(a)};class Rf{static parseDataUri(n){let o;const a=decodeURIComponent(n).split(","),c=/data:([^;]+)/.exec(a[0]);return c&&(o=c[1]),{type:o,data:a[1]}}static isDomSafe(n,o,a={}){if(a.allow_script_urls)return!0;{const c=pp.decode(n).replace(/[\s\u0000-\u001F]+/g,"");return!v4(a,c,o)}}static getDocumentBaseUrl(n){var o;let a;return n.protocol.indexOf("http")!==0&&n.protocol!=="file:"?a=(o=n.href)!==null&&o!==void 0?o:"":a=n.protocol+"//"+n.host+n.pathname,/^[^:]+:\/\/\/?[^\/]+\//.test(a)&&(a=a.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(a)||(a+="/")),a}constructor(n,o={}){this.path="",this.directory="",n=K5(n),this.settings=o;const a=o.base_uri,c=this;if(/^([\w\-]+):([^\/]{2})/i.test(n)||/^\s*#/.test(n)){c.source=n;return}const m=n.indexOf("//")===0;if(n.indexOf("/")===0&&!m&&(n=(a&&a.protocol||"http")+"://mce_host"+n),!/^[\w\-]*:?\/\//.test(n)){const S=a?a.path:new Rf(document.location.href).directory;if((a==null?void 0:a.protocol)==="")n="//mce_host"+c.toAbsPath(S,n);else{const T=/([^#?]*)([#?]?.*)/.exec(n);T&&(n=(a&&a.protocol||"http")+"://mce_host"+c.toAbsPath(S,T[1])+T[2])}}n=n.replace(/@@/g,"(mce_at)");const p=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*):?([^:@\/]*))?@)?(\[[a-zA-Z0-9:.%]+\]|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(n);p&&W5(oV,(S,T)=>{let V=p[T];V&&(V=V.replace(/\(mce_at\)/g,"@@")),c[S]=V}),a&&(c.protocol||(c.protocol=a.protocol),c.userInfo||(c.userInfo=a.userInfo),!c.port&&c.host==="mce_host"&&(c.port=a.port),(!c.host||c.host==="mce_host")&&(c.host=a.host),c.source=""),m&&(c.protocol="")}setPath(n){const o=/^(.*?)\/?(\w+)?$/.exec(n);o&&(this.path=o[0],this.directory=o[1],this.file=o[2]),this.source="",this.getURI()}toRelative(n){if(n==="./")return n;const o=new Rf(n,{base_uri:this});if(o.host!=="mce_host"&&this.host!==o.host&&o.host||this.port!==o.port||this.protocol!==o.protocol&&o.protocol!=="")return o.getURI();const a=this.getURI(),c=o.getURI();if(a===c||a.charAt(a.length-1)==="/"&&a.substr(0,a.length-1)===c)return a;let m=this.toRelPath(this.path,o.path);return o.query&&(m+="?"+o.query),o.anchor&&(m+="#"+o.anchor),m}toAbsolute(n,o){const a=new Rf(n,{base_uri:this});return a.getURI(o&&this.isSameOrigin(a))}isSameOrigin(n){if(this.host==n.host&&this.protocol==n.protocol){if(this.port==n.port)return!0;const o=this.protocol?sV[this.protocol]:null;if(o&&(this.port||o)==(n.port||o))return!0}return!1}toRelPath(n,o){let a=0,c="",m,p;const S=n.substring(0,n.lastIndexOf("/")).split("/"),T=o.split("/");if(S.length>=T.length){for(m=0,p=S.length;m<p;m++)if(m>=T.length||S[m]!==T[m]){a=m+1;break}}if(S.length<T.length){for(m=0,p=T.length;m<p;m++)if(m>=S.length||S[m]!==T[m]){a=m+1;break}}if(a===1)return o;for(m=0,p=S.length-(a-1);m<p;m++)c+="../";for(m=a-1,p=T.length;m<p;m++)m!==a-1?c+="/"+T[m]:c+=T[m];return c}toAbsPath(n,o){let a=0;const c=/\/$/.test(o)?"/":"",m=n.split("/"),p=o.split("/"),S=[];W5(m,ee=>{ee&&S.push(ee)});const T=[];for(let ee=p.length-1;ee>=0;ee--)if(!(p[ee].length===0||p[ee]===".")){if(p[ee]===".."){a++;continue}if(a>0){a--;continue}T.push(p[ee])}const V=S.length-a;let X;return V<=0?X=sr(T).join("/"):X=S.slice(0,V).join("/")+"/"+sr(T).join("/"),X.indexOf("/")!==0&&(X="/"+X),c&&X.lastIndexOf("/")!==X.length-1&&(X+=c),X}getURI(n=!1){let o;return(!this.source||n)&&(o="",n||(this.protocol?o+=this.protocol+"://":o+="//",this.userInfo&&(o+=this.userInfo+"@"),this.host&&(o+=this.host),this.port&&(o+=":"+this.port)),this.path&&(o+=this.path),this.query&&(o+="?"+this.query),this.anchor&&(o+="#"+this.anchor),this.source=o),this.source}}const iV=dn.makeMap("src,href,data,background,action,formaction,poster,xlink:href"),y4="data-mce-type";let G5=0;const q5=(e,n,o,a,c)=>{var m,p,S,T;const V=n.validate,X=o.getSpecialElements();e.nodeType===gd&&!n.allow_conditional_comments&&/^\[if/i.test((m=e.nodeValue)!==null&&m!==void 0?m:"")&&(e.nodeValue=" "+e.nodeValue);const ee=(p=c==null?void 0:c.tagName)!==null&&p!==void 0?p:e.nodeName.toLowerCase();if(a!=="html"&&o.isValid(a)){Ce(c)&&(c.allowedTags[ee]=!0);return}if(e.nodeType!==Pl||ee==="body")return;const ae=Ye.fromDom(e),we=hd(ae,y4),Ne=Ra(ae,"data-mce-bogus");if(!we&&de(Ne)){Ne==="all"?Hs(ae):ga(ae);return}const ke=o.getElementRule(ee);if(V&&!ke){So(X,ee)?Hs(ae):ga(ae);return}else Ce(c)&&(c.allowedTags[ee]=!0);if(V&&ke&&!we){if(xe((S=ke.attributesForced)!==null&&S!==void 0?S:[],$e=>{Ei(ae,$e.name,$e.value==="{$uid}"?`mce_${G5++}`:$e.value)}),xe((T=ke.attributesDefault)!==null&&T!==void 0?T:[],$e=>{hd(ae,$e.name)||Ei(ae,$e.name,$e.value==="{$uid}"?`mce_${G5++}`:$e.value)}),ke.attributesRequired&&!Me(ke.attributesRequired,$e=>hd(ae,$e))){ga(ae);return}if(ke.removeEmptyAttrs&&ai(ae)){ga(ae);return}ke.outputName&&ke.outputName!==ee&&ww(ae,ke.outputName)}},aV=(e,n,o,a,c)=>{const m=e.tagName.toLowerCase(),{attrName:p,attrValue:S}=c;c.keepAttr=X2(n,o,a,m,p,S),c.keepAttr?(c.allowedAttributes[p]=!0,w4(p,o)&&(c.attrValue=p),n.allow_svg_data_urls&&wr(S,"data:image/svg+xml")&&(c.forceKeepAttr=!0)):x4(e,p)&&(c.forceKeepAttr=!0)},X2=(e,n,o,a,c,m)=>o!=="html"&&!lm(a)?!0:!(c in iV&&v4(e,m,a))&&(!e.validate||n.isValid(a,c)||wr(c,"data-")||wr(c,"aria-")),x4=(e,n)=>e.hasAttribute(y4)&&(n==="id"||n==="class"||n==="style"),w4=(e,n)=>e in n.getBoolAttrs(),Y5=(e,n,o,a)=>{const{attributes:c}=e;for(let m=c.length-1;m>=0;m--){const p=c[m],S=p.name,T=p.value;!X2(n,o,a,e.tagName.toLowerCase(),S,T)&&!x4(e,S)?e.removeAttribute(S):w4(S,o)&&e.setAttribute(S,S)}},lV=(e,n,o)=>{const a=b4();return a.addHook("uponSanitizeElement",(c,m)=>{q5(c,e,n,o.track(c),m)}),a.addHook("uponSanitizeAttribute",(c,m)=>{aV(c,e,n,o.current(),m)}),a},cV=(e,n)=>{const a={...{IN_PLACE:!0,ALLOW_UNKNOWN_PROTOCOLS:!0,ALLOWED_TAGS:["#comment","#cdata-section","body"],ALLOWED_ATTR:[]}};return a.PARSER_MEDIA_TYPE=n,e.allow_script_urls?a.ALLOWED_URI_REGEXP=/.*/:e.allow_html_data_urls&&(a.ALLOWED_URI_REGEXP=/^(?!(\w+script|mhtml):)/i),a},X5=e=>{const n=P(e);if(n==="svg"){const o=["type","href","role","arcrole","title","show","actuate","label","from","to"].map(c=>`xlink:${c}`),a={IN_PLACE:!0,USE_PROFILES:{html:!0,svg:!0,svgFilters:!0},ALLOWED_ATTR:o};b4().sanitize(e,a)}else if(n==="math"){const o={IN_PLACE:!0,USE_PROFILES:{mathMl:!0}};b4().sanitize(e,o)}else throw new Error("Not a namespace element")},uV=(e,n)=>{const o=ue();if(e.sanitize){const a=lV(e,n,o);return{sanitizeHtmlElement:(m,p)=>{a.sanitize(m,cV(e,p)),a.removed=[],o.reset()},sanitizeNamespaceElement:X5}}else return{sanitizeHtmlElement:(m,p)=>{const S=document.createNodeIterator(m,NodeFilter.SHOW_ELEMENT|NodeFilter.SHOW_COMMENT|NodeFilter.SHOW_TEXT);let T;for(;T=S.nextNode();){const V=o.track(T);q5(T,e,n,V),Un(T)&&Y5(T,e,n,V)}o.reset()},sanitizeNamespaceElement:gt}},dk=dn.makeMap,C4=dn.extend,J5=(e,n,o,a)=>{const c=e.name,m=c in o&&c!=="title"&&c!=="textarea"&&c!=="noscript",p=n.childNodes;for(let S=0,T=p.length;S<T;S++){const V=p[S],X=new Cl(V.nodeName.toLowerCase(),V.nodeType);if(Un(V)){const ee=V.attributes;for(let ae=0,we=ee.length;ae<we;ae++){const Ne=ee[ae];X.attr(Ne.name,Ne.value)}lm(X.name)&&(a(V),X.value=V.innerHTML)}else on(V)?(X.value=V.data,m&&(X.raw=!0)):(Wo(V)||Wv(V)||ff(V))&&(X.value=V.data);lm(X.name)||J5(X,V,o,a),e.append(X)}},rl=(e,n,o)=>{const a=[];for(let c=e,m=c;c;m=c,c=c.walk()){const p=c;xe(n,S=>S(p)),ct(p.parent)&&p!==e?c=m:a.push(p)}for(let c=a.length-1;c>=0;c--){const m=a[c];xe(o,p=>p(m))}},Ph=(e,n,o,a)=>{const c=o.validate,m=n.getNonEmptyElements(),p=n.getWhitespaceElements(),S=C4(dk("script,style,head,html,body,title,meta,param"),n.getBlockElements()),T=ty(n),V=/[ \t\r\n]+/g,X=/^[ \t\r\n]+/,ee=/[ \t\r\n]+$/,ae=ut=>{let at=ut.parent;for(;Ce(at);){if(at.name in p)return!0;at=at.parent}return!1},we=ut=>{let at=ut;for(;Ce(at);){if(at.name in T)return nx(n,m,p,at);at=at.parent}return!1},Ne=ut=>ut.name in S||yd(n,ut)||lm(ut.name)&&ut.parent===e,ke=(ut,at)=>{const kt=at?ut.prev:ut.next;return Ce(kt)||ct(ut.parent)?!1:Ne(ut.parent)&&(ut.parent!==e||a.isRootContent===!0)};return[ut=>{var at;if(ut.type===3&&!ae(ut)){let kt=(at=ut.value)!==null&&at!==void 0?at:"";kt=kt.replace(V," "),(FN(ut.prev,Ne)||ke(ut,!0))&&(kt=kt.replace(X,"")),kt.length===0||kt===" "&&ut.prev&&ut.prev.type===gd&&ut.next&&ut.next.type===gd?ut.remove():ut.value=kt}},ut=>{var at;if(ut.type===1){const kt=n.getElementRule(ut.name);if(c&&kt){const qt=nx(n,m,p,ut);kt.paddInEmptyBlock&&qt&&we(ut)?L_(o,a,Ne,ut):kt.removeEmpty&&qt?Ne(ut)?ut.remove():ut.unwrap():kt.paddEmpty&&(qt||B_(ut))&&L_(o,a,Ne,ut)}}else if(ut.type===3&&!ae(ut)){let kt=(at=ut.value)!==null&&at!==void 0?at:"";(ut.next&&Ne(ut.next)||ke(ut,!1))&&(kt=kt.replace(ee,"")),kt.length===0?ut.remove():ut.value=kt}}]},dV=(e,n)=>{var o;const a=(o=n.forced_root_block)!==null&&o!==void 0?o:e.forced_root_block;return a===!1?"":a===!0?"p":a},lx=(e={},n=qu())=>{const o=sk(),a=sk(),c={validate:!0,root_name:"body",sanitize:!0,...e},m=new DOMParser,p=uV(c,n),S=(at,kt,qt="html")=>{const gn=qt==="xhtml"?"application/xhtml+xml":"text/html",Pn=So(n.getSpecialElements(),kt.toLowerCase()),$t=Pn?`<${kt}>${at}</${kt}>`:at,Rt=()=>qt==="xhtml"?`<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>${$t}</body></html>`:/^[\s]*<head/i.test(at)||/^[\s]*<html/i.test(at)||/^[\s]*<!DOCTYPE/i.test(at)?`<html>${$t}</html>`:`<body>${$t}</body>`,Zt=m.parseFromString(Rt(),gn).body;return p.sanitizeHtmlElement(Zt,gn),Pn?Zt.firstChild:Zt},T=o.addFilter,V=o.getFilters,X=o.removeFilter,ee=a.addFilter,ae=a.getFilters,we=a.removeFilter,Ne=(at,kt)=>{$2(n,at)&&kt.push(at)},ke=(at,kt)=>{const qt=de(kt.attr(y4)),gn=kt.type===1&&!So(at,kt.name)&&!yd(n,kt)&&!lm(kt.name);return kt.type===3||gn&&!qt},$e=(at,kt)=>{const qt=C4(dk("script,style,head,html,body,title,meta,param"),n.getBlockElements()),gn=/^[ \t\r\n]+/,Pn=/[ \t\r\n]+$/;let $t=at.firstChild,Rt=null;const Zt=Hn=>{var so,rs;Hn&&($t=Hn.firstChild,$t&&$t.type===3&&($t.value=(so=$t.value)===null||so===void 0?void 0:so.replace(gn,"")),$t=Hn.lastChild,$t&&$t.type===3&&($t.value=(rs=$t.value)===null||rs===void 0?void 0:rs.replace(Pn,"")))};if(n.isValidChild(at.name,kt.toLowerCase())){for(;$t;){const Hn=$t.next;ke(qt,$t)?(Rt||(Rt=new Cl(kt,1),Rt.attr(c.forced_root_block_attrs),at.insert(Rt,$t)),Rt.append($t)):(Zt(Rt),Rt=null),$t=Hn}Zt(Rt)}},ut={schema:n,addAttributeFilter:ee,getAttributeFilters:ae,removeAttributeFilter:we,addNodeFilter:T,getNodeFilters:V,removeNodeFilter:X,parse:(at,kt={})=>{var qt;const gn=c.validate,Pn=(qt=kt.context)!==null&&qt!==void 0?qt:c.root_name,$t=S(at,Pn,kt.format);Qo(n,$t);const Rt=new Cl(Pn,11);J5(Rt,$t,n.getSpecialElements(),p.sanitizeNamespaceElement),$t.innerHTML="";const[Zt,Hn]=Ph(Rt,n,c,kt),so=[],rs=gn?Vi=>Ne(Vi,so):gt,fs={nodes:{},attributes:{}},Js=Vi=>u3(V(),ae(),Vi,fs);if(rl(Rt,[Zt,Js],[Hn,rs]),so.reverse(),gn&&so.length>0)if(kt.context){const{pass:Vi,fail:vc}=Fe(so,yr=>yr.parent===Rt);Dd(vc,n,Rt,Js),kt.invalid=Vi.length>0}else Dd(so,n,Rt,Js);const cr=dV(c,kt);return cr&&(Rt.name==="body"||kt.isRootContent)&&$e(Rt,cr),kt.invalid||d3(fs,kt),Rt}};return G$(ut,c),H$(ut,c,n),ut},fV=e=>t1(e)?zp({validate:!1}).serialize(e):e,S4=(e,n,o)=>{const a=fV(e),c=n(a);if(c.isDefaultPrevented())return c;if(t1(e))if(c.content!==a){const m=lx({validate:!1,forced_root_block:!1,...o}).parse(c.content,{context:e.name});return{...c,content:m}}else return{...c,content:e};else return c},r1=e=>({sanitize:JI(e),sandbox_iframes:kT(e),sandbox_iframes_exclusions:_S(e)}),Q5=(e,n)=>{if(n.no_events)return bo.value(n);{const o=vg(e,n);return o.isDefaultPrevented()?bo.error(tP(e,{content:"",...o}).content):bo.value(o)}},Am=(e,n,o)=>o.no_events?n:S4(n,c=>tP(e,{...o,content:c}),r1(e)).content,_4=(e,n)=>{if(n.no_events)return bo.value(n);{const o=S4(n.content,a=>c7(e,{...n,content:a}),r1(e));return o.isDefaultPrevented()?(vu(e,o),bo.error(void 0)):bo.value(o)}},k4=(e,n,o)=>{o.no_events||vu(e,{...o,content:n})},fk=(e,n,o)=>({element:e,width:n,rows:o}),E4=(e,n)=>({element:e,cells:n}),mV=(e,n)=>({x:e,y:n}),mk=(e,n)=>hi(e,n).bind(Cn).getOr(1),Nh=(e,n,o,a,c)=>{const m=mk(c,"rowspan"),p=mk(c,"colspan"),S=e.rows;for(let T=o;T<o+m;T++){S[T]||(S[T]=E4(ch(a),[]));for(let V=n;V<n+p;V++){const X=S[T].cells;X[V]=T===o&&V===n?c:yi(c)}}},eM=(e,n,o)=>{const a=e.rows;return!!(a[o]?a[o].cells:[])[n]},tM=(e,n,o)=>{for(;eM(e,n,o);)n++;return n},J2=e=>pn(e,(n,o)=>o.cells.length>n?o.cells.length:n,0),gk=(e,n)=>{const o=e.rows;for(let a=0;a<o.length;a++){const c=o[a].cells;for(let m=0;m<c.length;m++)if(us(c[m],n))return te.some(mV(m,a))}return te.none()},T4=(e,n,o,a,c)=>{const m=[],p=e.rows;for(let S=o;S<=c;S++){const T=p[S].cells,V=n<a?T.slice(n,a+1):T.slice(a,n+1);m.push(E4(p[S].element,V))}return m},nM=(e,n,o)=>{const a=n.x,c=n.y,m=o.x,p=o.y,S=c<p?T4(e,a,c,m,p):T4(e,a,p,m,c);return fk(e.element,J2(S),S)},oM=(e,n)=>{const o=yi(e.element),a=Ye.fromTag("tbody");return li(a,n),Vr(o,a),o},gV=e=>Ke(e.rows,n=>{const o=Ke(n.cells,c=>{const m=ch(c);return qo(m,"colspan"),qo(m,"rowspan"),m}),a=yi(n.element);return li(a,o),a}),hV=e=>{const n=fk(yi(e),0,[]);return xe(bi(e,"tr"),(o,a)=>{xe(bi(o,"td,th"),(c,m)=>{Nh(n,tM(n,m,a),a,o,c)})}),fk(n.element,J2(n.rows),n.rows)},pV=e=>oM(e,gV(e)),sM=(e,n,o)=>gk(e,n).bind(a=>gk(e,o).map(c=>nM(e,a,c))),rM=e=>An(e,n=>hs(n)==="ul"||hs(n)==="ol"),bV=(e,n)=>An(e,o=>hs(o)==="li"&&Qw(o,n)).fold(ft([]),o=>rM(e).map(a=>{const c=Ye.fromTag(hs(a)),m=Ic(Gm(a),(p,S)=>wr(S,"list-style"));return ds(c,m),[Ye.fromTag("li"),c]}).getOr([])),A4=(e,n)=>{const o=pn(n,(a,c)=>(Vr(c,a),c),e);return n.length>0?od([o]):o},iM=e=>dh(e)?Qi(e).filter(g0).fold(ft([]),n=>[e,n]):g0(e)?[e]:[],vV=(e,n,o)=>{const a=Ye.fromDom(n.commonAncestorContainer),c=rd(a,e),m=Je(c,T=>o.isWrapper(hs(T))),p=bV(c,n),S=m.concat(p.length?p:iM(a));return Ke(S,yi)},O4=()=>od([]),yV=(e,n,o)=>A4(Ye.fromDom(n.cloneContents()),vV(e,n,o)),xV=(e,n)=>Bc(n,"table",rt(us,e)),pc=(e,n)=>xV(e,n[0]).bind(o=>{const a=n[0],c=n[n.length-1],m=hV(o);return sM(m,a,c).map(p=>od([pV(p)]))}).getOrThunk(O4),wV=(e,n,o)=>n.length>0&&n[0].collapsed?O4():yV(e,n[0],o),CV=(e,n,o)=>{const a=LD(n,e);return a.length>0?pc(e,a):wV(e,n,o)},hk=(e,n)=>n>=0&&n<e.length&&B0(e.charAt(n)),aM=e=>mc(e.innerText),pk=e=>e.map(n=>n.nodeName).getOr("div").toLowerCase(),SV=e=>te.from(e.selection.getRng()).map(n=>{var o;const a=te.from(e.dom.getParent(n.commonAncestorContainer,e.dom.isBlock)),c=e.getBody(),m=pk(a),p=Ye.fromDom(n.cloneContents());WP(p),KP(p);const S=e.dom.add(c,m,{"data-mce-bogus":"all",style:"overflow: hidden; opacity: 0;"},p.dom),T=aM(S),V=mc((o=S.textContent)!==null&&o!==void 0?o:"");if(e.dom.remove(S),hk(V,0)||hk(V,V.length-1)){const X=a.getOr(c),ee=aM(X),ae=ee.indexOf(T);if(ae===-1)return T;{const we=hk(ee,ae-1),Ne=hk(ee,ae+T.length);return(we?" ":"")+T+(Ne?" ":"")}}else return T}).getOr(""),R4=(e,n)=>{const o=e.selection.getRng(),a=e.dom.create("body"),c=e.selection.getSel(),m=u_(e,zr(c)),p=n.contextual?CV(Ye.fromDom(e.getBody()),m,e.schema).dom:o.cloneContents();return p&&a.appendChild(p),e.selection.serializer.serialize(a,n)},I4=(e,n)=>{if(n.format==="text")return SV(e);{const o=R4(e,n);return n.format==="tree"?o:e.selection.isCollapsed()?"":o}},_V=(e,n)=>({...e,format:n,get:!0,selection:!0,getInner:!0}),kV=(e,n,o={})=>{const a=_V(o,n);return Q5(e,a).fold(Rn,c=>{const m=I4(e,c);return Am(e,m,c)})},If=0,D4=1,lM=2,P4=(e,n)=>{const o=e.length+n.length+2,a=new Array(o),c=new Array(o),m=(X,ee,ae)=>({start:X,end:ee,diag:ae}),p=(X,ee,ae,we,Ne)=>{const ke=T(X,ee,ae,we);if(ke===null||ke.start===ee&&ke.diag===ee-we||ke.end===X&&ke.diag===X-ae){let $e=X,nt=ae;for(;$e<ee||nt<we;)$e<ee&&nt<we&&e[$e]===n[nt]?(Ne.push([If,e[$e]]),++$e,++nt):ee-X>we-ae?(Ne.push([lM,e[$e]]),++$e):(Ne.push([D4,n[nt]]),++nt)}else{p(X,ke.start,ae,ke.start-ke.diag,Ne);for(let $e=ke.start;$e<ke.end;++$e)Ne.push([If,e[$e]]);p(ke.end,ee,ke.end-ke.diag,we,Ne)}},S=(X,ee,ae,we)=>{let Ne=X;for(;Ne-ee<we&&Ne<ae&&e[Ne]===n[Ne-ee];)++Ne;return m(X,Ne,ee)},T=(X,ee,ae,we)=>{const Ne=ee-X,ke=we-ae;if(Ne===0||ke===0)return null;const $e=Ne-ke,nt=ke+Ne,ut=(nt%2===0?nt:nt+1)/2;a[1+ut]=X,c[1+ut]=ee+1;let at,kt,qt,gn,Pn;for(at=0;at<=ut;++at){for(kt=-at;kt<=at;kt+=2){for(qt=kt+ut,kt===-at||kt!==at&&a[qt-1]<a[qt+1]?a[qt]=a[qt+1]:a[qt]=a[qt-1]+1,gn=a[qt],Pn=gn-X+ae-kt;gn<ee&&Pn<we&&e[gn]===n[Pn];)a[qt]=++gn,++Pn;if($e%2!==0&&$e-at<=kt&&kt<=$e+at&&c[qt-$e]<=a[qt])return S(c[qt-$e],kt+X-ae,ee,we)}for(kt=$e-at;kt<=$e+at;kt+=2){for(qt=kt+ut-$e,kt===$e-at||kt!==$e+at&&c[qt+1]<=c[qt-1]?c[qt]=c[qt+1]-1:c[qt]=c[qt-1],gn=c[qt]-1,Pn=gn-X+ae-kt;gn>=X&&Pn>=ae&&e[gn]===n[Pn];)c[qt]=gn--,Pn--;if($e%2===0&&-at<=kt&&kt<=at&&c[qt]<=a[qt+$e])return S(c[qt],kt+X-ae,ee,we)}}return null},V=[];return p(0,e.length,0,n.length,V),V},N4=e=>Un(e)?e.outerHTML:on(e)?pp.encodeRaw(e.data,!1):Wo(e)?"<!--"+e.data+"-->":"",bk=e=>{let n;const o=document.createElement("div"),a=document.createDocumentFragment();for(e&&(o.innerHTML=e);n=o.firstChild;)a.appendChild(n);return a},cM=(e,n,o)=>{const a=bk(n);if(e.hasChildNodes()&&o<e.childNodes.length){const c=e.childNodes[o];e.insertBefore(a,c)}else e.appendChild(a)},uM=(e,n)=>{if(e.hasChildNodes()&&n<e.childNodes.length){const o=e.childNodes[n];e.removeChild(o)}},dM=(e,n)=>{let o=0;xe(e,a=>{a[0]===If?o++:a[0]===D4?(cM(n,a[1],o),o++):a[0]===lM&&uM(n,o)})},EV=(e,n)=>Je(Ke($o(e.childNodes),Ft(mc,N4)),o=>o.length>0),TV=(e,n)=>{const o=Ke($o(n.childNodes),N4);return dM(P4(o,e),n),n},M4=ml(()=>document.implementation.createHTMLDocument("undo")),AV=e=>e.querySelector("iframe")!==null,OV=e=>({type:"fragmented",fragments:e,content:"",bookmark:null,beforeBookmark:null}),vk=e=>({type:"complete",fragments:null,content:e,bookmark:null,beforeBookmark:null}),cx=e=>{const n=e.serializer.getTempAttrs(),o=SA(e.getBody(),n);return AV(o)?OV(EV(o)):vk(mc(o.innerHTML))},Q2=(e,n,o)=>{const a=o?n.beforeBookmark:n.bookmark;n.type==="fragmented"?TV(n.fragments,e.getBody()):e.setContent(n.content,{format:"raw",no_selection:Ce(a)&&AD(a)?!a.isFakeCaret:!0}),a&&(e.selection.moveToBookmark(a),e.selection.scrollIntoView())},yk=e=>e.type==="fragmented"?e.fragments.join(""):e.content,Gp=e=>{const n=Ye.fromTag("body",M4());return fu(n,yk(e)),xe(bi(n,"*[data-mce-bogus]"),ga),_c(n)},RV=(e,n)=>yk(e)===yk(n),IV=(e,n)=>Gp(e)===Gp(n),ux=(e,n)=>!e||!n?!1:RV(e,n)?!0:IV(e,n),xk=e=>e.get()===0,eC=(e,n,o)=>{xk(o)&&(e.typing=n)},L4=(e,n)=>{e.typing&&(eC(e,!1,n),e.add())},DV=e=>{e.typing&&(e.typing=!1,e.add())},PV=(e,n,o)=>{xk(n)&&o.set(Mn(e.selection))},B4=(e,n,o,a,c,m,p)=>{const S=cx(e),T=dn.extend(m||{},S);if(!xk(a)||e.removed)return null;const V=n.data[o.get()];if(e.dispatch("BeforeAddUndo",{level:T,lastLevel:V,originalEvent:p}).isDefaultPrevented()||V&&ux(V,T))return null;n.data[o.get()]&&c.get().each(ae=>{n.data[o.get()].beforeBookmark=ae});const X=KI(e);if(X&&n.data.length>X){for(let ae=0;ae<n.data.length-1;ae++)n.data[ae]=n.data[ae+1];n.data.length--,o.set(n.data.length)}T.bookmark=Mn(e.selection),o.get()<n.data.length-1&&(n.data.length=o.get()+1),n.data.push(T),o.set(n.data.length-1);const ee={level:T,lastLevel:V,originalEvent:p};return o.get()>0?(e.setDirty(!0),e.dispatch("AddUndo",ee),e.dispatch("change",ee)):e.dispatch("AddUndo",ee),T},F4=(e,n,o)=>{n.data=[],o.set(0),n.typing=!1,e.dispatch("ClearUndos")},$4=(e,n,o,a,c)=>{if(n.transact(a)){const m=n.data[o.get()].bookmark,p=n.data[o.get()-1];Q2(e,p,!0),n.transact(c)&&(n.data[o.get()-1].beforeBookmark=m)}},fM=(e,n,o)=>{let a;return n.get()<o.length-1&&(n.set(n.get()+1),a=o[n.get()],Q2(e,a,!1),e.setDirty(!0),e.dispatch("Redo",{level:a})),a},wk=(e,n,o,a)=>{let c;return n.typing&&(n.add(),n.typing=!1,eC(n,!1,o)),a.get()>0&&(a.set(a.get()-1),c=n.data[a.get()],Q2(e,c,!0),e.setDirty(!0),e.dispatch("Undo",{level:c})),c},mM=e=>{e.clear(),e.add()},gM=(e,n,o)=>o.get()>0||n.typing&&n.data[0]&&!ux(cx(e),n.data[0]),NV=(e,n)=>n.get()<e.data.length-1&&!e.typing,MV=(e,n,o)=>(L4(e,n),e.beforeChange(),e.ignore(o),e.add()),V4=(e,n)=>{try{e.set(e.get()+1),n()}finally{e.set(e.get()-1)}},hM=(e,n)=>{const o=e.dom,a=Ce(n)?n:e.getBody();xe(o.select("table,a",a),c=>{switch(c.nodeName){case"TABLE":const m=CS(e),p=o.getAttrib(c,"border");(!p||p==="0")&&e.hasVisual?o.addClass(c,m):o.removeClass(c,m);break;case"A":if(!o.getAttrib(c,"href")){const S=o.getAttrib(c,"name")||c.id,T=Py(e);S&&e.hasVisual?o.addClass(c,T):o.removeClass(c,T)}break}}),e.dispatch("VisualAid",{element:n,hasVisual:e.hasVisual})},z4=e=>({init:{bindEvents:gt},undoManager:{beforeChange:(n,o)=>PV(e,n,o),add:(n,o,a,c,m,p)=>B4(e,n,o,a,c,m,p),undo:(n,o,a)=>wk(e,n,o,a),redo:(n,o)=>fM(e,n,o),clear:(n,o)=>F4(e,n,o),reset:n=>mM(n),hasUndo:(n,o)=>gM(e,n,o),hasRedo:(n,o)=>NV(n,o),transact:(n,o,a)=>MV(n,o,a),ignore:(n,o)=>V4(n,o),extra:(n,o,a,c)=>$4(e,n,o,a,c)},formatter:{match:(n,o,a,c)=>rv(e,n,o,a,c),matchAll:(n,o)=>JN(e,n,o),matchNode:(n,o,a,c)=>Rh(e,n,o,a,c),canApply:n=>e5(e,n),closest:n=>QN(e,n),apply:(n,o,a)=>y5(e,n,o,a),remove:(n,o,a,c)=>cv(e,n,o,a,c),toggle:(n,o,a)=>F$(e,n,o,a),formatChanged:(n,o,a,c,m)=>B$(e,n,o,a,c,m)},editor:{getContent:n=>GP(e,n),setContent:(n,o)=>O$(e,n,o),insertContent:(n,o)=>j_(e,n,o),addVisual:n=>hM(e,n)},selection:{getContent:(n,o)=>kV(e,n,o)},autocompleter:{addDecoration:gt,removeDecoration:gt},raw:{getModel:()=>te.none()}}),LV=e=>{const n=V=>q(V)?V:{},{init:o,undoManager:a,formatter:c,editor:m,selection:p,autocompleter:S,raw:T}=e;return{init:{bindEvents:o.bindEvents},undoManager:{beforeChange:a.beforeChange,add:a.add,undo:a.undo,redo:a.redo,clear:a.clear,reset:a.reset,hasUndo:a.hasUndo,hasRedo:a.hasRedo,transact:(V,X,ee)=>a.transact(ee),ignore:(V,X)=>a.ignore(X),extra:(V,X,ee,ae)=>a.extra(ee,ae)},formatter:{match:(V,X,ee,ae)=>c.match(V,n(X),ae),matchAll:c.matchAll,matchNode:c.matchNode,canApply:V=>c.canApply(V),closest:V=>c.closest(V),apply:(V,X,ee)=>c.apply(V,n(X)),remove:(V,X,ee,ae)=>c.remove(V,n(X)),toggle:(V,X,ee)=>c.toggle(V,n(X)),formatChanged:(V,X,ee,ae,we)=>c.formatChanged(X,ee,ae,we)},editor:{getContent:V=>m.getContent(V),setContent:(V,X)=>({content:m.setContent(V,X),html:""}),insertContent:(V,X)=>(m.insertContent(V),""),addVisual:m.addVisual},selection:{getContent:(V,X)=>p.getContent(X)},autocompleter:{addDecoration:S.addDecoration,removeDecoration:S.removeDecoration},raw:{getModel:()=>te.some(T.getRawModel())}}},BV=()=>{const e=ft(null),n=ft("");return{init:{bindEvents:gt},undoManager:{beforeChange:gt,add:e,undo:e,redo:e,clear:gt,reset:gt,hasUndo:Bn,hasRedo:Bn,transact:e,ignore:gt,extra:gt},formatter:{match:Bn,matchAll:ft([]),matchNode:ft(void 0),canApply:Bn,closest:n,apply:gt,remove:gt,toggle:gt,formatChanged:ft({unbind:gt})},editor:{getContent:n,setContent:ft({content:"",html:""}),insertContent:ft(""),addVisual:gt},selection:{getContent:n},autocompleter:{addDecoration:gt,removeDecoration:gt},raw:{getModel:ft(te.none())}}},Mh=e=>So(e.plugins,"rtc"),pM=e=>Zs(e.plugins,"rtc").bind(n=>te.from(n.setup)),bM=e=>{const n=e;return pM(e).fold(()=>(n.rtcInstance=z4(e),te.none()),o=>(n.rtcInstance=BV(),te.some(()=>o().then(a=>(n.rtcInstance=LV(a),a.rtc.isRemote)))))},H4=e=>e.rtcInstance?e.rtcInstance:z4(e),il=e=>{const n=e.rtcInstance;if(n)return n;throw new Error("Failed to get RTC instance not yet initialized.")},dx=(e,n,o)=>{il(e).undoManager.beforeChange(n,o)},FV=(e,n,o,a,c,m,p)=>il(e).undoManager.add(n,o,a,c,m,p),$V=(e,n,o,a)=>il(e).undoManager.undo(n,o,a),vM=(e,n,o)=>il(e).undoManager.redo(n,o),yM=(e,n,o)=>{il(e).undoManager.clear(n,o)},Ck=(e,n)=>{il(e).undoManager.reset(n)},VV=(e,n,o)=>il(e).undoManager.hasUndo(n,o),zV=(e,n,o)=>il(e).undoManager.hasRedo(n,o),HV=(e,n,o,a)=>il(e).undoManager.transact(n,o,a),UV=(e,n,o)=>{il(e).undoManager.ignore(n,o)},WV=(e,n,o,a,c)=>{il(e).undoManager.extra(n,o,a,c)},KV=(e,n,o,a,c)=>il(e).formatter.match(n,o,a,c),jV=(e,n,o)=>il(e).formatter.matchAll(n,o),ZV=(e,n,o,a,c)=>il(e).formatter.matchNode(n,o,a,c),GV=(e,n)=>il(e).formatter.canApply(n),qV=(e,n)=>il(e).formatter.closest(n),_r=(e,n,o,a)=>{il(e).formatter.apply(n,o,a)},xM=(e,n,o,a,c)=>{il(e).formatter.remove(n,o,a,c)},U4=(e,n,o,a)=>{il(e).formatter.toggle(n,o,a)},wM=(e,n,o,a,c,m)=>il(e).formatter.formatChanged(n,o,a,c,m),CM=(e,n)=>H4(e).editor.getContent(n),W4=(e,n,o)=>H4(e).editor.setContent(n,o),YV=(e,n,o)=>H4(e).editor.insertContent(n,o),XV=(e,n,o)=>il(e).selection.getContent(n,o),SM=(e,n)=>il(e).editor.addVisual(n),_M=e=>il(e).init.bindEvents(),JV=(e,n={})=>{const o=n.format?n.format:"html";return XV(e,o,n)},i1=e=>e.dom.length===0?(Hs(e),te.none()):te.some(e),QV=(e,n)=>e.filter(o=>mr.isBookmarkNode(o.dom)).bind(n?oo:Mi),fx=(e,n,o,a,c)=>{const m=e.dom,p=n.dom,S=a?m.length:p.length;a?(D2(m,p,c,!1,!a),o.setStart(p,S)):(D2(p,m,c,!1,!a),o.setEnd(p,S))},tC=(e,n,o)=>{Qi(e).each(a=>{const c=e.dom;n&&Jy(a,Dt(c,0),o)?x_(c,0,o):!n&&X0(a,Dt(c,c.length),o)&&di(c,c.length,o)})},a1=(e,n,o,a,c)=>{e.bind(m=>((a?di:x_)(m.dom,a?m.dom.length:0,c),n.filter(Cr).map(S=>fx(m,S,o,a,c)))).orThunk(()=>QV(n,a).or(n).filter(Cr).map(p=>tC(p,a,c)))},K4=(e,n,o)=>{const a=te.from(n.firstChild).map(Ye.fromDom),c=te.from(n.lastChild).map(Ye.fromDom);e.deleteContents(),e.insertNode(n);const m=a.bind(Mi).filter(Cr).bind(i1),p=c.bind(oo).filter(Cr).bind(i1);a1(m,a,e,!0,o),a1(p,c,e,!1,o),e.collapse(!1)},kM=(e,n)=>({format:"html",...e,set:!0,selection:!0,content:n}),EM=(e,n)=>{if(n.format!=="raw"){const o=e.selection.getRng(),a=e.dom.getParent(o.commonAncestorContainer,e.dom.isBlock),c=a?{context:a.nodeName.toLowerCase()}:{},m=e.parser.parse(n.content,{forced_root_block:!1,...c,...n});return zp({validate:!1},e.schema).serialize(m)}else return n.content},j4=(e,n,o={})=>{const a=kM(o,n);_4(e,a).each(c=>{const m=EM(e,c),p=e.selection.getRng();K4(p,p.createContextualFragment(m),e.schema),e.selection.setRng(p),Cf(e,p),k4(e,m,c)})},Z4=(e,n,o)=>{if(So(e,n)){const a=Je(e[n],c=>c!==o);a.length===0?delete e[n]:e[n]=a}};var TM=(e,n)=>{let o,a;const c=(S,T)=>An(T,V=>e.is(V,S)),m=S=>e.getParents(S,void 0,e.getRoot()),p=()=>{o={},a={},n.on("NodeChange",S=>{const T=S.element,V=m(T),X={};Go(o,(ee,ae)=>{c(ae,V).each(we=>{a[ae]||(xe(ee,Ne=>{Ne(!0,{node:we,selector:ae,parents:V})}),a[ae]=ee),X[ae]=ee})}),Go(a,(ee,ae)=>{X[ae]||(delete a[ae],xe(ee,we=>{we(!1,{node:T,selector:ae,parents:V})}))})})};return{selectorChangedWithUnbind:(S,T)=>(o||p(),o[S]||(o[S]=[]),o[S].push(T),c(S,m(n.selection.getStart())).each(()=>{a[S]=o[S]}),{unbind:()=>{Z4(o,S,T),Z4(a,S,T)}})}};const G4=e=>!!(e&&e.ownerDocument)&&fa(Ye.fromDom(e.ownerDocument),Ye.fromDom(e)),q4=e=>e?G4(e.startContainer)&&G4(e.endContainer):!1,Y4=(e,n,o,a)=>{let c,m;const{selectorChangedWithUnbind:p}=TM(e,a),S=(wn,to)=>{const Us=e.createRng();Ce(wn)&&Ce(to)?(Us.setStart(wn,to),Us.setEnd(wn,to),kt(Us),nt(!1)):(e2(e,Us,a.getBody(),!0),kt(Us))},T=wn=>JV(a,wn),V=(wn,to)=>j4(a,wn,to),X=wn=>BP(a.getBody(),at(),wn),ee=wn=>FP(a.getBody(),at(),wn),ae=(wn,to)=>vc.getBookmark(wn,to),we=wn=>vc.moveToBookmark(wn),Ne=(wn,to)=>(k2(e,wn,to).each(kt),wn),ke=()=>{const wn=at(),to=ut();return!wn||wn.item?!1:wn.compareEndPoints?wn.compareEndPoints("StartToEnd",wn)===0:!to||wn.collapsed},$e=()=>{const wn=at(),to=a.getBody().querySelectorAll('[data-mce-selected="1"]');return to.length>0?Ho(to,Us=>e.isEditable(Us.parentElement)):MP(e,wn)},nt=wn=>{const to=at();to.collapse(!!wn),kt(to)},ut=()=>n.getSelection?n.getSelection():n.document.selection,at=()=>{let wn;const to=(kn,ho,ls)=>{try{return ho.compareBoundaryPoints(kn,ls)}catch{return-1}},Us=n.document;if(Ce(a.bookmark)&&!Ky(a)){const kn=pA(a);if(kn.isSome())return kn.map(ho=>u_(a,[ho])[0]).getOr(Us.createRange())}try{const kn=ut();kn&&!cf(kn.anchorNode)&&(kn.rangeCount>0?wn=kn.getRangeAt(0):wn=Us.createRange(),wn=u_(a,[wn])[0])}catch{}if(wn||(wn=Us.createRange()),Xn(wn.startContainer)&&wn.collapsed){const kn=e.getRoot();wn.setStart(kn,0),wn.setEnd(kn,0)}return c&&m&&(to(wn.START_TO_START,wn,c)===0&&to(wn.END_TO_END,wn,c)===0?wn=m:(c=null,m=null)),wn},kt=(wn,to)=>{if(!q4(wn))return;const Us=ut();if(wn=a.dispatch("SetSelectionRange",{range:wn,forward:to}).range,Us){m=wn;try{Us.removeAllRanges(),Us.addRange(wn)}catch{}to===!1&&Us.extend&&(Us.collapse(wn.endContainer,wn.endOffset),Us.extend(wn.startContainer,wn.startOffset)),c=Us.rangeCount>0?Us.getRangeAt(0):null}if(!wn.collapsed&&wn.startContainer===wn.endContainer&&(Us!=null&&Us.setBaseAndExtent)&&wn.endOffset-wn.startOffset<2&&wn.startContainer.hasChildNodes()){const ho=wn.startContainer.childNodes[wn.startOffset];ho&&ho.nodeName==="IMG"&&(Us.setBaseAndExtent(wn.startContainer,wn.startOffset,wn.endContainer,wn.endOffset),(Us.anchorNode!==wn.startContainer||Us.focusNode!==wn.endContainer)&&Us.setBaseAndExtent(ho,0,ho,1))}a.dispatch("AfterSetSelectionRange",{range:wn,forward:to})},qt=wn=>(V(e.getOuterHTML(wn)),wn),gn=()=>U7(a.getBody(),at()),Pn=(wn,to)=>wA(e,at(),wn,to),$t=()=>{const wn=ut(),to=wn==null?void 0:wn.anchorNode,Us=wn==null?void 0:wn.focusNode;if(!wn||!to||!Us||cf(to)||cf(Us))return!0;const kn=e.createRng(),ho=e.createRng();try{kn.setStart(to,wn.anchorOffset),kn.collapse(!0),ho.setStart(Us,wn.focusOffset),ho.collapse(!0)}catch{return!0}return kn.compareBoundaryPoints(kn.START_TO_START,ho)<=0},Vi={dom:e,win:n,serializer:o,editor:a,expand:(wn={type:"word"})=>kt(qb(e).expand(at(),wn)),collapse:nt,setCursorLocation:S,getContent:T,setContent:V,getBookmark:ae,moveToBookmark:we,select:Ne,isCollapsed:ke,isEditable:$e,isForward:$t,setNode:qt,getNode:gn,getSel:ut,setRng:kt,getRng:at,getStart:X,getEnd:ee,getSelectedBlocks:Pn,normalize:()=>{const wn=at(),to=ut();if(!Yw(to)&&Fy(a)){const Us=Sh(e,wn);return Us.each(kn=>{kt(kn,$t())}),Us.getOr(wn)}return wn},selectorChanged:(wn,to)=>(p(wn,to),Vi),selectorChangedWithUnbind:p,getScrollContainer:()=>{let wn,to=e.getRoot();for(;to&&to.nodeName!=="BODY";){if(to.scrollHeight>to.clientHeight){wn=to;break}to=to.parentNode}return wn},scrollIntoView:(wn,to)=>{Ce(wn)?fA(a,wn,to):Cf(a,at(),to)},placeCaretAt:(wn,to)=>kt(uP(wn,to,a.getDoc())),getBoundingClientRect:()=>{const wn=at();return wn.collapsed?Dt.fromRangeStart(wn).getClientRects()[0]:wn.getBoundingClientRect()},destroy:()=>{n=c=m=null,yr.destroy()}},vc=mr(Vi),yr=ar(Vi,a);return Vi.bookmarkManager=vc,Vi.controlSelection=yr,Vi},AM=(e,n,o)=>{n.addNodeFilter("br",(a,c,m)=>{const p=dn.extend({},o.getBlockElements()),S=o.getNonEmptyElements(),T=o.getWhitespaceElements();p.body=1;const V=X=>X.name in p||yd(o,X);for(let X=0,ee=a.length;X<ee;X++){let ae=a[X],we=ae.parent;if(we&&V(we)&&ae===we.lastChild){let Ne=ae.prev;for(;Ne;){const ke=Ne.name;if(ke!=="span"||Ne.attr("data-mce-type")!=="bookmark"){ke==="br"&&(ae=null);break}Ne=Ne.prev}if(ae&&(ae.remove(),nx(o,S,T,we))){const ke=o.getElementRule(we.name);ke&&(ke.removeEmpty?we.remove():ke.paddEmpty&&L_(e,m,V,we))}}else{let Ne=ae;for(;we&&we.firstChild===Ne&&we.lastChild===Ne&&(Ne=we,!p[we.name]);)we=we.parent;if(Ne===we){const ke=new Cl("#text",3);ke.value=ea,ae.replace(ke)}}}})},X4=(e,n,o)=>{e.addAttributeFilter("data-mce-tabindex",(a,c)=>{let m=a.length;for(;m--;){const p=a[m];p.attr("tabindex",p.attr("data-mce-tabindex")),p.attr(c,null)}}),e.addAttributeFilter("src,href,style",(a,c)=>{const m="data-mce-"+c,p=n.url_converter,S=n.url_converter_scope;let T=a.length;for(;T--;){const V=a[T];let X=V.attr(m);X!==void 0?(V.attr(c,X.length>0?X:null),V.attr(m,null)):(X=V.attr(c),c==="style"?X=o.serializeStyle(o.parseStyle(X),V.name):p&&(X=p.call(S,X,c,V.name)),V.attr(c,X.length>0?X:null))}}),e.addAttributeFilter("class",a=>{let c=a.length;for(;c--;){const m=a[c];let p=m.attr("class");p&&(p=p.replace(/(?:^|\s)mce-item-\w+(?!\S)/g,""),m.attr("class",p.length>0?p:null))}}),e.addAttributeFilter("data-mce-type",(a,c,m)=>{let p=a.length;for(;p--;){const S=a[p];S.attr("data-mce-type")==="bookmark"&&!m.cleanup&&(te.from(S.firstChild).exists(V=>{var X;return!Qu((X=V.value)!==null&&X!==void 0?X:"")})?S.unwrap():S.remove())}}),e.addNodeFilter("script,style",(a,c)=>{var m;const p=T=>T.replace(/(<!--\[CDATA\[|\]\]-->)/g,`
`).replace(/^[\r\n]*|[\r\n]*$/g,"").replace(/^\s*((<!--)?(\s*\/\/)?\s*<!\[CDATA\[|(<!--\s*)?\/\*\s*<!\[CDATA\[\s*\*\/|(\/\/)?\s*<!--|\/\*\s*<!--\s*\*\/)\s*[\r\n]*/gi,"").replace(/\s*(\/\*\s*\]\]>\s*\*\/(-->)?|\s*\/\/\s*\]\]>(-->)?|\/\/\s*(-->)?|\]\]>|\/\*\s*-->\s*\*\/|\s*-->\s*)\s*$/g,"");let S=a.length;for(;S--;){const T=a[S],V=T.firstChild,X=(m=V==null?void 0:V.value)!==null&&m!==void 0?m:"";if(c==="script"){const ee=T.attr("type");ee&&T.attr("type",ee==="mce-no/type"?null:ee.replace(/^mce\-/,"")),n.element_format==="xhtml"&&V&&X.length>0&&(V.value=`// <![CDATA[
`+p(X)+`
// ]]>`)}else n.element_format==="xhtml"&&V&&X.length>0&&(V.value=`<!--
`+p(X)+`
-->`)}}),e.addNodeFilter("#comment",a=>{let c=a.length;for(;c--;){const m=a[c],p=m.value;n.preserve_cdata&&(p==null?void 0:p.indexOf("[CDATA["))===0?(m.name="#cdata",m.type=4,m.value=o.decode(p.replace(/^\[CDATA\[|\]\]$/g,""))):(p==null?void 0:p.indexOf("mce:protected "))===0&&(m.name="#text",m.type=3,m.raw=!0,m.value=unescape(p).substr(14))}}),e.addNodeFilter("xml:namespace,input",(a,c)=>{let m=a.length;for(;m--;){const p=a[m];p.type===7?p.remove():p.type===1&&c==="input"&&!p.attr("type")&&p.attr("type","text")}}),e.addAttributeFilter("data-mce-type",a=>{xe(a,c=>{c.attr("data-mce-type")==="format-caret"&&(c.isEmpty(e.schema.getNonEmptyElements())?c.remove():c.unwrap())})}),e.addAttributeFilter("data-mce-src,data-mce-href,data-mce-style,data-mce-selected,data-mce-expando,data-mce-block,data-mce-type,data-mce-resize,data-mce-placeholder",(a,c)=>{let m=a.length;for(;m--;)a[m].attr(c,null)}),n.remove_trailing_brs&&AM(n,e,e.schema)},ez=e=>{const n=a=>(a==null?void 0:a.name)==="br",o=e.lastChild;if(n(o)){const a=o.prev;n(a)&&(o.remove(),a.remove())}},OM=(e,n,o)=>{let a;const c=e.dom;let m=n.cloneNode(!0);const p=document.implementation;if(p.createHTMLDocument){const S=p.createHTMLDocument("");dn.each(m.nodeName==="BODY"?m.childNodes:[m],T=>{S.body.appendChild(S.importNode(T,!0))}),m.nodeName!=="BODY"?m=S.body.firstChild:m=S.body,a=c.doc,c.doc=S}return a2(e,{...o,node:m}),a&&(c.doc=a),m},RM=(e,n)=>Ce(e)&&e.hasEventListeners("PreProcess")&&!n.no_events,IM=(e,n,o)=>RM(e,o)?OM(e,n,o):n,tz=(e,n,o)=>{dn.inArray(n,o)===-1&&(e.addAttributeFilter(o,(a,c)=>{let m=a.length;for(;m--;)a[m].attr(c,null)}),n.push(o))},nz=(e,n,o)=>!n.no_events&&e?l2(e,{...n,content:o}).content:o,Sk=(e,n,o)=>{const a=mc(o.getInner?n.innerHTML:e.getOuterHTML(n));return o.selection||h0(Ye.fromDom(n))?a:dn.trim(a)},DM=(e,n,o)=>{const a=o.selection?{forced_root_block:!1,...o}:o,c=e.parse(n,a);return ez(c),c},PM=(e,n,o)=>zp(e,n).serialize(o),NM=(e,n,o,a,c)=>{const m=PM(n,o,a);return nz(e,c,m)},oz=(e,n)=>{const o=["data-mce-selected"],a={entity_encoding:"named",remove_trailing_brs:!0,pad_empty_with_br:!1,...e},c=n&&n.dom?n.dom:br.DOM,m=n&&n.schema?n.schema:qu(a),p=lx(a,m);X4(p,a,c);const S=(T,V={})=>{const X={format:"html",...V},ee=IM(n,T,X),ae=Sk(c,ee,X),we=DM(p,ae,X);return X.format==="tree"?we:NM(n,a,m,we,X)};return{schema:m,addNodeFilter:p.addNodeFilter,addAttributeFilter:p.addAttributeFilter,serialize:S,addRules:m.addValidElements,setRules:m.setValidElements,addTempAttr:rt(tz,p,o),getTempAttrs:ft(o),getNodeFilters:p.getNodeFilters,getAttributeFilters:p.getAttributeFilters,removeNodeFilter:p.removeNodeFilter,removeAttributeFilter:p.removeAttributeFilter}},MM=(e,n)=>{const o=oz(e,n);return{schema:o.schema,addNodeFilter:o.addNodeFilter,addAttributeFilter:o.addAttributeFilter,serialize:o.serialize,addRules:o.addRules,setRules:o.setRules,addTempAttr:o.addTempAttr,getTempAttrs:o.getTempAttrs,getNodeFilters:o.getNodeFilters,getAttributeFilters:o.getAttributeFilters,removeNodeFilter:o.removeNodeFilter,removeAttributeFilter:o.removeAttributeFilter}},sz="html",rz=(e,n)=>({...e,format:n,get:!0,getInner:!0}),LM=(e,n={})=>{const o=n.format?n.format:sz,a=rz(n,o);return Q5(e,a).fold(Rn,c=>{const m=CM(e,c);return Am(e,m,c)})},BM="html",FM=(e,n)=>({format:BM,...e,set:!0,content:n}),J4=(e,n,o={})=>{const a=FM(o,n);return _4(e,a).map(c=>{const m=W4(e,c.content,c);return k4(e,m.html,c),m.content}).getOr(n)},iz="autoresize_on_init,content_editable_state,padd_empty_with_br,block_elements,boolean_attributes,editor_deselector,editor_selector,elements,file_browser_callback_types,filepicker_validator_handler,force_hex_style_colors,force_p_newlines,gecko_spellcheck,images_dataimg_filter,media_scripts,mode,move_caret_before_on_enter_elements,non_empty_elements,self_closing_elements,short_ended_elements,special,spellchecker_select_languages,spellchecker_whitelist,tab_focus,tabfocus_elements,table_responsive_width,text_block_elements,text_inline_elements,toolbar_drawer,types,validate,whitespace_elements,paste_enable_default_filters,paste_filter_drop,paste_word_valid_elements,paste_retain_style_properties,paste_convert_word_fake_lists,template_cdate_classes,template_mdate_classes,template_selected_content_classes,template_preview_replace_values,template_replace_values,templates,template_cdate_format,template_mdate_format".split(","),az=[],lz="bbcode,colorpicker,contextmenu,fullpage,legacyoutput,spellchecker,template,textcolor,rtc".split(","),nC=[],Q4=(e,n)=>{const o=Je(n,a=>So(e,a));return xs(o)},cz=e=>{const n=Q4(e,iz),o=e.forced_root_block;return(o===!1||o==="")&&n.push("forced_root_block (false only)"),xs(n)},$M=e=>Q4(e,az),eO=(e,n)=>{const o=dn.makeMap(e.plugins," "),c=Je(n,m=>So(o,m));return xs(c)},tO=e=>eO(e,lz),VM=e=>eO(e,nC.map(n=>n.name)),zM=(e,n)=>{const o=cz(e),a=tO(n),c=a.length>0,m=o.length>0,p=n.theme==="mobile";if(c||m||p){const S=`
- `,T=p?`

Themes:${S}mobile`:"",V=c?`

Plugins:${S}${a.join(S)}`:"",X=m?`

Options:${S}${o.join(S)}`:"";console.warn("The following deprecated features are currently enabled and have been removed in TinyMCE 7.0. These features will no longer work and should be removed from the TinyMCE configuration. See https://www.tiny.cloud/docs/tinymce/7/migration-from-6x/ for more information."+T+V+X)}},HM=e=>An(nC,n=>n.name===e).fold(()=>e,n=>n.replacedWith?`${e}, replaced by ${n.replacedWith}`:e),uz=(e,n)=>{const o=$M(e),a=VM(n),c=a.length>0,m=o.length>0;if(c||m){const p=`
- `,S=c?`

Plugins:${p}${a.map(HM).join(p)}`:"",T=m?`

Options:${p}${o.join(p)}`:"";console.warn("The following deprecated features are currently enabled but will be removed soon."+S+T)}},dz=(e,n)=>{zM(e,n),uz(e,n)},fv=br.DOM,fz=e=>{fv.setStyle(e.id,"display",e.orgDisplay)},oC=e=>te.from(e).each(n=>n.destroy()),_k=e=>{const n=e;n.contentAreaContainer=n.formElement=n.container=n.editorContainer=null,n.bodyElement=n.contentDocument=n.contentWindow=null,n.iframeElement=n.targetElm=null;const o=e.selection;if(o){const a=o.dom;n.selection=o.win=o.dom=a.doc=null}},UM=e=>{const n=e.formElement;n&&(n._mceOldSubmit&&(n.submit=n._mceOldSubmit,delete n._mceOldSubmit),fv.unbind(n,"submit reset",e.formEventDelegate))},WM=e=>{if(!e.removed){const{_selectionOverrides:n,editorUpload:o}=e,a=e.getBody(),c=e.getElement();a&&e.save({is_removing:!0}),e.removed=!0,e.unbindAllNativeEvents(),e.hasHiddenInput&&Ce(c==null?void 0:c.nextSibling)&&fv.remove(c.nextSibling),c2(e),e.editorManager.remove(e),!e.inline&&a&&fz(e),u2(e),fv.remove(e.getContainer()),oC(n),oC(o),e.destroy()}},mz=(e,n)=>{const{selection:o,dom:a}=e;if(!e.destroyed){if(!n&&!e.removed){e.remove();return}n||(e.editorManager.off("beforeunload",e._beforeUnload),e.theme&&e.theme.destroy&&e.theme.destroy(),oC(o),oC(a)),UM(e),_k(e),e.destroyed=!0}},sC=(()=>{const e={};return{add:(c,m)=>{e[c]=m},get:c=>e[c]?e[c]:{icons:{}},has:c=>So(e,c)}})(),mv=Yl.ModelManager,rC=(e,n)=>n.dom[e],nO=(e,n)=>parseInt($r(n,e),10),oO=rt(rC,"clientWidth"),KM=rt(rC,"clientHeight"),gz=rt(nO,"margin-top"),jM=rt(nO,"margin-left"),hz=e=>e.dom.getBoundingClientRect(),ZM=(e,n,o)=>{const a=oO(e),c=KM(e);return n>=0&&o>=0&&n<=a&&o<=c},GM=(e,n,o,a)=>{const c=hz(n),m=e?c.left+n.dom.clientLeft+jM(n):0,p=e?c.top+n.dom.clientTop+gz(n):0,S=o-m,T=a-p;return{x:S,y:T}},pz=(e,n,o)=>{const a=Ye.fromDom(e.getBody()),c=e.inline?a:uu(a),m=GM(e.inline,c,n,o);return ZM(c,m.x,m.y)},qM=e=>te.from(e).map(Ye.fromDom),sO=e=>{const n=e.inline?e.getBody():e.getContentAreaContainer();return qM(n).map(Da).getOr(!1)};var YM=()=>{const e=()=>{throw new Error("Theme did not provide a NotificationManager implementation.")};return{open:e,close:e,getArgs:e}};const rO=e=>{const n=[],o=()=>{const ae=e.theme;return ae&&ae.getNotificationManagerImpl?ae.getNotificationManagerImpl():YM()},a=()=>te.from(n[0]),c=(ae,we)=>ae.type===we.type&&ae.text===we.text&&!ae.progressBar&&!ae.timeout&&!we.progressBar&&!we.timeout,m=()=>{a().each(ae=>{ae.reposition()})},p=ae=>{n.push(ae)},S=ae=>{no(n,we=>we===ae).each(we=>{n.splice(we,1)})},T=(ae,we=!0)=>e.removed||!sO(e)?{}:(we&&e.dispatch("BeforeOpenNotification",{notification:ae}),An(n,Ne=>c(o().getArgs(Ne),ae)).getOrThunk(()=>{e.editorManager.setActive(e);const Ne=o().open(ae,()=>{S(Ne)},()=>K0(e));return p(Ne),m(),e.dispatch("OpenNotification",{notification:{...Ne}}),Ne})),V=()=>{a().each(ae=>{o().close(ae),S(ae),m()})},X=ft(n);return(ae=>{ae.on("SkinLoaded",()=>{const we=_8(ae);we&&T({text:we,type:"warning",timeout:0},!1),m()}),ae.on("show ResizeEditor ResizeWindow NodeChange ToggleView FullscreenStateChanged",()=>{requestAnimationFrame(m)}),ae.on("remove",()=>{xe(n.slice(),we=>{o().close(we)})}),ae.addShortcut("alt+F12","Focus to notification",()=>a().map(we=>Ye.fromDom(we.getEl())).each(we=>mA(we)))})(e),{open:T,close:V,getNotifications:X}},l1=Yl.PluginManager,gv=Yl.ThemeManager;var bz=()=>{const e=()=>{throw new Error("Theme did not provide a WindowManager implementation.")};return{open:e,openUrl:e,alert:e,confirm:e,close:e}};const XM=e=>{let n=[];const o=()=>{const ke=e.theme;return ke&&ke.getWindowManagerImpl?ke.getWindowManagerImpl():bz()},a=(ke,$e)=>(...nt)=>$e?$e.apply(ke,nt):void 0,c=ke=>{e.dispatch("OpenWindow",{dialog:ke})},m=ke=>{e.dispatch("CloseWindow",{dialog:ke})},p=ke=>{n.push(ke),c(ke)},S=ke=>{m(ke),n=Je(n,$e=>$e!==ke),n.length===0&&e.focus()},T=()=>te.from(n[n.length-1]),V=ke=>{e.editorManager.setActive(e),Wy(e),e.ui.show();const $e=ke();return p($e),$e},X=(ke,$e)=>V(()=>o().open(ke,$e,S)),ee=ke=>V(()=>o().openUrl(ke,S)),ae=(ke,$e,nt)=>{const ut=o();ut.alert(ke,a(nt||ut,$e))},we=(ke,$e,nt)=>{const ut=o();ut.confirm(ke,a(nt||ut,$e))},Ne=()=>{T().each(ke=>{o().close(ke),S(ke)})};return e.on("remove",()=>{xe(n,ke=>{o().close(ke)})}),{open:X,openUrl:ee,alert:ae,confirm:we,close:Ne}},kk=(e,n)=>{e.notificationManager.open({type:"error",text:n})},Ek=(e,n)=>{e._skinLoaded?kk(e,n):e.on("SkinLoaded",()=>{kk(e,n)})},JM=(e,n)=>{Ek(e,Yu.translate(["Failed to upload image: {0}",n]))},mx=(e,n,o)=>{JT(e,n,{message:o}),console.error(o)},c1=(e,n,o)=>o?`Failed to load ${e}: ${o} from url ${n}`:`Failed to load ${e} url: ${n}`,iO=(e,n,o)=>{mx(e,"PluginLoadError",c1("plugin",n,o))},aO=(e,n,o)=>{mx(e,"IconsLoadError",c1("icons",n,o))},vz=(e,n,o)=>{mx(e,"LanguageLoadError",c1("language",n,o))},QM=(e,n,o)=>{mx(e,"ThemeLoadError",c1("theme",n,o))},yz=(e,n,o)=>{mx(e,"ModelLoadError",c1("model",n,o))},xz=(e,n,o)=>{const a=Yu.translate(["Failed to initialize plugin: {0}",n]);JT(e,"PluginLoadError",{message:a}),iC(a,o),Ek(e,a)},iC=(e,...n)=>{const o=window.console;o&&(o.error?o.error(e,...n):o.log(e,...n))},lO=e=>/^[a-z0-9\-]+$/i.test(e),cO=e=>"content/"+e+"/content.css",Tk=e=>tinymce.Resource.has(cO(e)),wz=e=>eL(e,kc(e)),Cz=e=>eL(e,BI(e)),eL=(e,n)=>{const o=e.editorManager.baseURL+"/skins/content",c=`content${e.editorManager.suffix}.css`;return Ke(n,m=>Tk(m)?m:lO(m)&&!e.inline?`${o}/${m}/${c}`:e.documentBaseURI.toAbsolute(m))},tL=e=>{e.contentCSS=e.contentCSS.concat(wz(e),Cz(e))},nL=e=>e?$o(e.getElementsByTagName("img")):[],Sz=(e,n)=>{const o={};return{findAll:(c,m=Jt)=>{const p=Je(nL(c),T=>{const V=T.src;return T.hasAttribute("data-mce-bogus")||T.hasAttribute("data-mce-placeholder")||!V||V===os.transparentSrc?!1:wr(V,"blob:")?!e.isUploaded(V)&&m(T):wr(V,"data:")?m(T):!1}),S=Ke(p,T=>{const V=T.src;if(So(o,V))return o[V].then(X=>de(X)?X:{image:T,blobInfo:X.blobInfo});{const X=n4(n,V).then(ee=>(delete o[V],{image:T,blobInfo:ee})).catch(ee=>(delete o[V],ee));return o[V]=X,X}});return Promise.all(S)}}},uO=()=>{let o={};const a=(ae,we)=>({status:ae,resultUri:we}),c=ae=>ae in o;return{hasBlobUri:c,getResultUri:ae=>{const we=o[ae];return we?we.resultUri:null},isPending:ae=>c(ae)?o[ae].status===1:!1,isUploaded:ae=>c(ae)?o[ae].status===2:!1,markPending:ae=>{o[ae]=a(1,null)},markUploaded:(ae,we)=>{o[ae]=a(2,we)},removeFailed:ae=>{delete o[ae]},destroy:()=>{o={}}}};let aC=0;const oL=()=>{const e=()=>Math.round(fc()*4294967295).toString(36);return"s"+new Date().getTime().toString(36)+e()+e()+e()},_z=e=>e+aC+++oL(),sL=()=>{let e=[];const n=ee=>({"image/jpeg":"jpg","image/jpg":"jpg","image/gif":"gif","image/png":"png","image/apng":"apng","image/avif":"avif","image/svg+xml":"svg","image/webp":"webp","image/bmp":"bmp","image/tiff":"tiff"})[ee.toLowerCase()]||"dat",o=(ee,ae,we,Ne,ke)=>{if(de(ee))return a({id:ee,name:Ne,filename:ke,blob:ae,base64:we});if(q(ee))return a(ee);throw new Error("Unknown input type")},a=ee=>{if(!ee.blob||!ee.base64)throw new Error("blob and base64 representations of the image are required for BlobInfo to be created");const ae=ee.id||_z("blobid"),we=ee.name||ae,Ne=ee.blob;return{id:ft(ae),name:ft(we),filename:ft(ee.filename||we+"."+n(Ne.type)),blob:ft(Ne),base64:ft(ee.base64),blobUri:ft(ee.blobUri||URL.createObjectURL(Ne)),uri:ft(ee.uri)}},c=ee=>{p(ee.id())||e.push(ee)},m=ee=>An(e,ee).getOrUndefined(),p=ee=>m(ae=>ae.id()===ee);return{create:o,add:c,get:p,getByUri:ee=>m(ae=>ae.blobUri()===ee),getByData:(ee,ae)=>m(we=>we.base64()===ee&&we.blob().type===ae),findFirst:m,removeByUri:ee=>{e=Je(e,ae=>ae.blobUri()===ee?(URL.revokeObjectURL(ae.blobUri()),!1):!0)},destroy:()=>{xe(e,ee=>{URL.revokeObjectURL(ee.blobUri())}),e=[]}}},rL=(e,n)=>{const o={},a=(ke,$e)=>ke?ke.replace(/\/$/,"")+"/"+$e.replace(/^\//,""):$e,c=(ke,$e)=>new Promise((nt,ut)=>{const at=new XMLHttpRequest;at.open("POST",n.url),at.withCredentials=n.credentials,at.upload.onprogress=qt=>{$e(qt.loaded/qt.total*100)},at.onerror=()=>{ut("Image upload failed due to a XHR Transport error. Code: "+at.status)},at.onload=()=>{if(at.status<200||at.status>=300){ut("HTTP Error: "+at.status);return}const qt=JSON.parse(at.responseText);if(!qt||!de(qt.location)){ut("Invalid JSON: "+at.responseText);return}nt(a(n.basePath,qt.location))};const kt=new FormData;kt.append("file",ke.blob(),ke.filename()),at.send(kt)}),m=Te(n.handler)?n.handler:c,p=()=>new Promise(ke=>{ke([])}),S=(ke,$e)=>({url:$e,blobInfo:ke,status:!0}),T=(ke,$e)=>({url:"",blobInfo:ke,status:!1,error:$e}),V=(ke,$e)=>{dn.each(o[ke],nt=>{nt($e)}),delete o[ke]},X=(ke,$e,nt)=>(e.markPending(ke.blobUri()),new Promise(ut=>{let at,kt;try{const qt=()=>{at&&(at.close(),kt=gt)},gn=$t=>{qt(),e.markUploaded(ke.blobUri(),$t),V(ke.blobUri(),S(ke,$t)),ut(S(ke,$t))},Pn=$t=>{qt(),e.removeFailed(ke.blobUri()),V(ke.blobUri(),T(ke,$t)),ut(T(ke,$t))};kt=$t=>{$t<0||$t>100||te.from(at).orThunk(()=>te.from(nt).map(Yn)).each(Rt=>{at=Rt,Rt.progressBar.value($t)})},$e(ke,kt).then(gn,$t=>{Pn(de($t)?{message:$t}:$t)})}catch(qt){ut(T(ke,qt))}})),ee=ke=>ke===c,ae=ke=>{const $e=ke.blobUri();return new Promise(nt=>{o[$e]=o[$e]||[],o[$e].push(nt)})},we=(ke,$e)=>(ke=dn.grep(ke,nt=>!e.isUploaded(nt.blobUri())),Promise.all(dn.map(ke,nt=>e.isPending(nt.blobUri())?ae(nt):X(nt,m,$e))));return{upload:(ke,$e)=>!n.url&&ee(m)?p():we(ke,$e)}},iL=e=>()=>e.notificationManager.open({text:e.translate("Image uploading..."),type:"info",timeout:-1,progressBar:!0}),aL=(e,n)=>rL(n,{url:gT(e),basePath:NI(e),credentials:hT(e),handler:w8(e)}),kz=e=>{const n=uO(),o=aL(e,n);return{upload:(a,c=!0)=>o.upload(a,c?iL(e):void 0)}},Ez=(e,n)=>e.dom.isEmpty(n.dom)&&Ce(e.schema.getTextBlockElements()[hs(n)]),lL=e=>n=>{Ez(e,n)&&Vr(n,Ye.fromHtml('<br data-mce-bogus="1" />'))},dO=e=>{const n=sL();let o,a;const c=uO(),m=[],p=at=>kt=>e.selection?at(kt):[],S=at=>at+(at.indexOf("?")===-1?"?":"&")+new Date().getTime(),T=(at,kt,qt)=>{let gn=0;do gn=at.indexOf(kt,gn),gn!==-1&&(at=at.substring(0,gn)+qt+at.substr(gn+kt.length),gn+=qt.length-kt.length+1);while(gn!==-1);return at},V=(at,kt,qt)=>{const gn=`src="${qt}"${qt===os.transparentSrc?' data-mce-placeholder="1"':""}`;return at=T(at,`src="${kt}"`,gn),at=T(at,'data-mce-src="'+kt+'"','data-mce-src="'+qt+'"'),at},X=(at,kt)=>{xe(e.undoManager.data,qt=>{qt.type==="fragmented"?qt.fragments=Ke(qt.fragments,gn=>V(gn,at,kt)):qt.content=V(qt.content,at,kt)})},ee=(at,kt)=>{const qt=e.convertURL(kt,"src");X(at.src,kt),Ka(Ye.fromDom(at),{src:Np(e)?S(kt):kt,"data-mce-src":qt})},ae=()=>(o||(o=aL(e,c)),$e().then(p(at=>{const kt=Ke(at,qt=>qt.blobInfo);return o.upload(kt,iL(e)).then(p(qt=>{const gn=[];let Pn=!1;const $t=Ke(qt,(Rt,Zt)=>{const{blobInfo:Hn,image:so}=at[Zt];let rs=!1;return Rt.status&&DI(e)?(Rt.url&&!Vs(so.src,Rt.url)&&(Pn=!0),n.removeByUri(so.src),Mh(e)||ee(so,Rt.url)):Rt.error&&(Rt.error.remove&&(X(so.src,os.transparentSrc),gn.push(so),rs=!0),JM(e,Rt.error.message)),{element:so,status:Rt.status,uploadUri:Rt.url,blobInfo:Hn,removed:rs}});return gn.length>0&&!Mh(e)?e.undoManager.transact(()=>{xe(Nl(gn),Rt=>{const Zt=Qi(Rt);Hs(Rt),Zt.each(lL(e)),n.removeByUri(Rt.dom.src)})}):Pn&&e.undoManager.dispatchChange(),$t}))}))),we=()=>vr(e)?ae():Promise.resolve([]),Ne=at=>Ho(m,kt=>kt(at)),ke=at=>{m.push(at)},$e=()=>(a||(a=Sz(c,n)),a.findAll(e.getBody(),Ne).then(p(at=>{const kt=Je(at,qt=>de(qt)?(Ek(e,qt),!1):qt.uriType!=="blob");return Mh(e)||xe(kt,qt=>{X(qt.image.src,qt.blobInfo.blobUri()),qt.image.src=qt.blobInfo.blobUri(),qt.image.removeAttribute("data-mce-src")}),kt}))),nt=()=>{n.destroy(),c.destroy(),a=o=null},ut=at=>at.replace(/src="(blob:[^"]+)"/g,(kt,qt)=>{const gn=c.getResultUri(qt);if(gn)return'src="'+gn+'"';let Pn=n.getByUri(qt);return Pn||(Pn=pn(e.editorManager.get(),($t,Rt)=>$t||Rt.editorUpload&&Rt.editorUpload.blobCache.getByUri(qt),void 0)),Pn?'src="data:'+Pn.blob().type+";base64,"+Pn.base64()+'"':kt});return e.on("SetContent",()=>{vr(e)?we():$e()}),e.on("RawSaveContent",at=>{at.content=ut(at.content)}),e.on("GetContent",at=>{at.source_view||at.format==="raw"||at.format==="tree"||(at.content=ut(at.content))}),e.on("PostRender",()=>{e.parser.addNodeFilter("img",at=>{xe(at,kt=>{const qt=kt.attr("src");if(!qt||n.getByUri(qt))return;const gn=c.getResultUri(qt);gn&&kt.attr("src",gn)})})}),{blobCache:n,addFilter:ke,uploadImages:ae,uploadImagesAuto:we,scanForImages:$e,destroy:nt}},cL=e=>{const n=e.dom,o=e.schema.type,a={valigntop:[{selector:"td,th",styles:{verticalAlign:"top"}}],valignmiddle:[{selector:"td,th",styles:{verticalAlign:"middle"}}],valignbottom:[{selector:"td,th",styles:{verticalAlign:"bottom"}}],alignleft:[{selector:"figure.image",collapsed:!1,classes:"align-left",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"left"},inherit:!1,preview:!1},{selector:"img,audio,video",collapsed:!1,styles:{float:"left"},preview:"font-family font-size"},{selector:"table",collapsed:!1,styles:{marginLeft:"0px",marginRight:"auto"},onformat:c=>{n.setStyle(c,"float",null)},preview:"font-family font-size"},{selector:".mce-preview-object,[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{float:"left"}}],aligncenter:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"center"},inherit:!1,preview:"font-family font-size"},{selector:"figure.image",collapsed:!1,classes:"align-center",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"img,audio,video",collapsed:!1,styles:{display:"block",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"table",collapsed:!1,styles:{marginLeft:"auto",marginRight:"auto"},preview:"font-family font-size"},{selector:".mce-preview-object",ceFalseOverride:!0,styles:{display:"table",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{marginLeft:"auto",marginRight:"auto"},preview:!1}],alignright:[{selector:"figure.image",collapsed:!1,classes:"align-right",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"right"},inherit:!1,preview:"font-family font-size"},{selector:"img,audio,video",collapsed:!1,styles:{float:"right"},preview:"font-family font-size"},{selector:"table",collapsed:!1,styles:{marginRight:"0px",marginLeft:"auto"},onformat:c=>{n.setStyle(c,"float",null)},preview:"font-family font-size"},{selector:".mce-preview-object,[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{float:"right"},preview:!1}],alignjustify:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"justify"},inherit:!1,preview:"font-family font-size"}],bold:[{inline:"strong",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontWeight:"bold"}},{inline:"b",remove:"all",preserve_attributes:["class","style"]}],italic:[{inline:"em",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontStyle:"italic"}},{inline:"i",remove:"all",preserve_attributes:["class","style"]}],underline:[{inline:"span",styles:{textDecoration:"underline"},exact:!0},{inline:"u",remove:"all",preserve_attributes:["class","style"]}],strikethrough:(()=>{const c={inline:"span",styles:{textDecoration:"line-through"},exact:!0},m={inline:"strike",remove:"all",preserve_attributes:["class","style"]},p={inline:"s",remove:"all",preserve_attributes:["class","style"]};return o!=="html4"?[p,c,m]:[c,p,m]})(),forecolor:{inline:"span",styles:{color:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},hilitecolor:{inline:"span",styles:{backgroundColor:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},fontname:{inline:"span",toggle:!1,styles:{fontFamily:"%value"},clear_child_styles:!0},fontsize:{inline:"span",toggle:!1,styles:{fontSize:"%value"},clear_child_styles:!0},lineheight:{selector:"h1,h2,h3,h4,h5,h6,p,li,td,th,div",styles:{lineHeight:"%value"}},fontsize_class:{inline:"span",attributes:{class:"%value"}},blockquote:{block:"blockquote",wrapper:!0,remove:"all"},subscript:{inline:"sub"},superscript:{inline:"sup"},code:{inline:"code"},link:{inline:"a",selector:"a",remove:"all",split:!0,deep:!0,onmatch:(c,m,p)=>Un(c)&&c.hasAttribute("href"),onformat:(c,m,p)=>{dn.each(p,(S,T)=>{n.setAttrib(c,T,S)})}},lang:{inline:"span",clear_child_styles:!0,remove_similar:!0,attributes:{lang:"%value","data-mce-lang":c=>{var m;return(m=c==null?void 0:c.customValue)!==null&&m!==void 0?m:null}}},removeformat:[{selector:"b,strong,em,i,font,u,strike,s,sub,sup,dfn,code,samp,kbd,var,cite,mark,q,del,ins,small",remove:"all",split:!0,expand:!1,block_expand:!0,deep:!0},{selector:"span",attributes:["style","class"],remove:"empty",split:!0,expand:!1,deep:!0},{selector:"*",attributes:["style","class"],split:!1,expand:!1,deep:!0}]};return dn.each("p h1 h2 h3 h4 h5 h6 div address pre dt dd samp".split(/\s/),c=>{a[c]={block:c,remove:"all"}}),a},fO={remove_similar:!0,inherit:!1},u1={selector:"td,th",...fO},uL={tablecellbackgroundcolor:{styles:{backgroundColor:"%value"},...u1},tablecellverticalalign:{styles:{"vertical-align":"%value"},...u1},tablecellbordercolor:{styles:{borderColor:"%value"},...u1},tablecellclass:{classes:["%value"],...u1},tableclass:{selector:"table",classes:["%value"],...fO},tablecellborderstyle:{styles:{borderStyle:"%value"},...u1},tablecellborderwidth:{styles:{borderWidth:"%value"},...u1}},Tz=ft(uL),mO=e=>{const n={},o=p=>Ce(p)?n[p]:n,a=p=>So(n,p),c=(p,S)=>{p&&(de(p)?(oe(S)||(S=[S]),xe(S,T=>{Qe(T.deep)&&(T.deep=!nd(T)),Qe(T.split)&&(T.split=!nd(T)||sl(T)),Qe(T.remove)&&nd(T)&&!sl(T)&&(T.remove="none"),nd(T)&&sl(T)&&(T.mixed=!0,T.block_expand=!0),de(T.classes)&&(T.classes=T.classes.split(/\s+/))}),n[p]=S):Go(p,(T,V)=>{c(V,T)}))},m=p=>(p&&n[p]&&delete n[p],n);return c(cL(e)),c(Tz()),c(E8(e)),{get:o,has:a,register:c,unregister:m}},d1=dn.each,Cu=br.DOM,Cg=e=>Ce(e)&&q(e),lC=(e,n)=>{const o=n&&n.schema||qu({}),a=(T,V)=>{V.classes.length>0&&Cu.addClass(T,V.classes.join(" ")),Cu.setAttribs(T,V.attrs)},c=T=>{const V=de(T)?{name:T,classes:[],attrs:{}}:T,X=Cu.create(V.name);return a(X,V),X},m=(T,V)=>{const X=o.getElementRule(T.nodeName.toLowerCase()),ee=X==null?void 0:X.parentsRequired;return ee&&ee.length?V&&Se(ee,V)?V:ee[0]:!1},p=(T,V,X)=>{let ee;const ae=V[0],we=Cg(ae)?ae.name:void 0,Ne=m(T,we);if(Ne)we===Ne?(ee=ae,V=V.slice(1)):ee=Ne;else if(ae)ee=ae,V=V.slice(1);else if(!X)return T;const ke=ee?c(ee):Cu.create("div");ke.appendChild(T),X&&dn.each(X,nt=>{const ut=c(nt);ke.insertBefore(ut,T)});const $e=Cg(ee)?ee.siblings:void 0;return p(ke,V,$e)},S=Cu.create("div");if(e.length>0){const T=e[0],V=c(T),X=Cg(T)?T.siblings:void 0;S.appendChild(p(V,e.slice(1),X))}return S},gx=e=>{e=dn.trim(e);let n="div";const o={name:n,classes:[],attrs:{},selector:e};return e!=="*"&&(n=e.replace(/(?:([#\.]|::?)([\w\-]+)|(\[)([^\]]+)\]?)/g,(a,c,m,p,S)=>{switch(c){case"#":o.attrs.id=m;break;case".":o.classes.push(m);break;case":":dn.inArray("checked disabled enabled read-only required".split(" "),m)!==-1&&(o.attrs[m]=m);break}if(p==="["){const T=S.match(/([\w\-]+)(?:\=\"([^\"]+))?/);T&&(o.attrs[T[1]]=T[2])}return""})),o.name=n||"div",o},dL=e=>de(e)?(e=e.split(/\s*,\s*/)[0],e=e.replace(/\s*(~\+|~|\+|>)\s*/g,"$1"),dn.map(e.split(/(?:>|\s+(?![^\[\]]+\]))/),n=>{const o=dn.map(n.split(/(?:~\+|~|\+)/),gx),a=o.pop();return o.length&&(a.siblings=o),a}).reverse()):[],fL=(e,n)=>{let o="",a=T8(e);if(a==="")return"";const c=ae=>de(ae)?ae.replace(/%(\w+)/g,""):"",m=(ae,we)=>Cu.getStyle(we??e.getBody(),ae,!0);if(de(n)){const ae=e.formatter.get(n);if(!ae)return"";n=ae[0]}if("preview"in n){const ae=n.preview;if(ae===!1)return"";a=ae||a}let p=n.block||n.inline||"span",S;const T=dL(n.selector);T.length>0?(T[0].name||(T[0].name=p),p=n.selector,S=lC(T,e)):S=lC([p],e);const V=Cu.select(p,S)[0]||S.firstChild;d1(n.styles,(ae,we)=>{const Ne=c(ae);Ne&&Cu.setStyle(V,we,Ne)}),d1(n.attributes,(ae,we)=>{const Ne=c(ae);Ne&&Cu.setAttrib(V,we,Ne)}),d1(n.classes,ae=>{const we=c(ae);Cu.hasClass(V,we)||Cu.addClass(V,we)}),e.dispatch("PreviewFormats"),Cu.setStyles(S,{position:"absolute",left:-65535}),e.getBody().appendChild(S);const X=m("fontSize"),ee=/px$/.test(X)?parseInt(X,10):0;return d1(a.split(" "),ae=>{let we=m(ae,V);if(!(ae==="background-color"&&/transparent|rgba\s*\([^)]+,\s*0\)/.test(we)&&(we=m(ae),t0(we).toLowerCase()==="#ffffff"))&&!(ae==="color"&&t0(we).toLowerCase()==="#000000")){if(ae==="font-size"&&/em|%$/.test(we)){if(ee===0)return;we=parseFloat(we)/(/%$/.test(we)?100:1)*ee+"px"}ae==="border"&&we&&(o+="padding:0 2px;"),o+=ae+":"+we+";"}}),e.dispatch("AfterPreviewFormats"),Cu.remove(S),o},gO=e=>{e.addShortcut("meta+b","","Bold"),e.addShortcut("meta+i","","Italic"),e.addShortcut("meta+u","","Underline");for(let n=1;n<=6;n++)e.addShortcut("access+"+n,"",["FormatBlock",!1,"h"+n]);e.addShortcut("access+7","",["FormatBlock",!1,"p"]),e.addShortcut("access+8","",["FormatBlock",!1,"div"]),e.addShortcut("access+9","",["FormatBlock",!1,"address"])},cC=e=>{const n=mO(e),o=Fi({});return gO(e),o5(e),Mh(e)||x5(o,e),{get:n.get,has:n.has,register:n.register,unregister:n.unregister,apply:(a,c,m)=>{_r(e,a,c,m)},remove:(a,c,m,p)=>{xM(e,a,c,m,p)},toggle:(a,c,m)=>{U4(e,a,c,m)},match:(a,c,m,p)=>KV(e,a,c,m,p),closest:a=>qV(e,a),matchAll:(a,c)=>jV(e,a,c),matchNode:(a,c,m,p)=>ZV(e,a,c,m,p),canApply:a=>GV(e,a),formatChanged:(a,c,m,p)=>wM(e,o,a,c,m,p),getCssText:rt(fL,e)}},qp=e=>{switch(e.toLowerCase()){case"undo":case"redo":case"mcefocus":return!0;default:return!1}},f1=(e,n,o)=>{const a=Fi(!1),c=T=>{eC(n,!1,o),n.add({},T)};e.on("init",()=>{n.add()}),e.on("BeforeExecCommand",T=>{const V=T.command;qp(V)||(L4(n,o),n.beforeChange())}),e.on("ExecCommand",T=>{const V=T.command;qp(V)||c(T)}),e.on("ObjectResizeStart cut",()=>{n.beforeChange()}),e.on("SaveContent ObjectResized blur",c),e.on("dragend",c),e.on("keyup",T=>{const V=T.keyCode;if(T.isDefaultPrevented())return;const X=os.os.isMacOS()&&T.key==="Meta";(V>=33&&V<=36||V>=37&&V<=40||V===45||T.ctrlKey||X)&&(c(),e.nodeChanged()),(V===46||V===8)&&e.nodeChanged(),a.get()&&n.typing&&!ux(cx(e),n.data[0])&&(e.isDirty()||e.setDirty(!0),e.dispatch("TypingUndo"),a.set(!1),e.nodeChanged())}),e.on("keydown",T=>{const V=T.keyCode;if(T.isDefaultPrevented())return;if(V>=33&&V<=36||V>=37&&V<=40||V===45){n.typing&&c(T);return}const X=T.ctrlKey&&!T.altKey||T.metaKey;if((V<16||V>20)&&V!==224&&V!==91&&!n.typing&&!X){n.beforeChange(),eC(n,!0,o),n.add({},T),a.set(!0);return}(os.os.isMacOS()?T.metaKey:T.ctrlKey&&!T.altKey)&&n.beforeChange()}),e.on("mousedown",T=>{n.typing&&c(T)});const m=T=>T.inputType==="insertReplacementText",p=T=>T.inputType==="insertText"&&T.data===null,S=T=>T.inputType==="insertFromPaste"||T.inputType==="insertFromDrop";e.on("input",T=>{T.inputType&&(m(T)||p(T)||S(T))&&c(T)}),e.on("AddUndo Undo Redo ClearUndos",T=>{T.isDefaultPrevented()||e.nodeChanged()})},mL=e=>{e.addShortcut("meta+z","","Undo"),e.addShortcut("meta+y,meta+shift+z","","Redo")},gL=e=>{const n=Ai(),o=Fi(0),a=Fi(0),c={data:[],typing:!1,beforeChange:()=>{dx(e,o,n)},add:(m,p)=>FV(e,c,a,o,n,m,p),dispatchChange:()=>{e.setDirty(!0);const m=cx(e);m.bookmark=Mn(e.selection),e.dispatch("change",{level:m,lastLevel:aa(c.data,a.get()).getOrUndefined()})},undo:()=>$V(e,c,o,a),redo:()=>vM(e,a,c.data),clear:()=>{yM(e,c,a)},reset:()=>{Ck(e,c)},hasUndo:()=>VV(e,c,a),hasRedo:()=>zV(e,c,a),transact:m=>HV(e,c,o,m),ignore:m=>{UV(e,o,m)},extra:(m,p)=>{WV(e,c,a,m,p)}};return Mh(e)||f1(e,c,o),mL(e),c},hL=[9,27,On.HOME,On.END,19,20,44,144,145,33,34,45,16,17,18,91,92,93,On.DOWN,On.UP,On.LEFT,On.RIGHT].concat(os.browser.isFirefox()?[224]:[]),pL="data-mce-placeholder",bL=e=>e.type==="keydown"||e.type==="keyup",vL=e=>{const n=e.keyCode;return n===On.BACKSPACE||n===On.DELETE},hO=e=>{if(bL(e)){const n=e.keyCode;return!vL(e)&&(On.metaKeyPressed(e)||e.altKey||n>=112&&n<=123||Se(hL,n))}else return!1},yL=e=>bL(e)&&!(vL(e)||e.type==="keyup"&&e.keyCode===229),Az=(e,n,o)=>{if(e.isEmpty(n,void 0,{skipBogus:!1,includeZwsp:!0})){const a=n.firstElementChild;return a?e.getStyle(n.firstElementChild,"padding-left")||e.getStyle(n.firstElementChild,"padding-right")?!1:o===a.nodeName.toLowerCase():!0}else return!1},xL=e=>{var n;const o=e.dom,a=Jl(e),c=(n=bT(e))!==null&&n!==void 0?n:"",m=(p,S)=>{if(hO(p))return;const T=e.getBody(),V=yL(p)?!1:Az(o,T,a);(o.getAttrib(T,pL)!==""!==V||S)&&(o.setAttrib(T,pL,V?c:null),JD(e,V),e.on(V?"keydown":"keyup",m),e.off(V?"keyup":"keydown",m))};lt(c)&&e.on("init",p=>{m(p,!0),e.on("change SetContent ExecCommand",m),e.on("paste",S=>sd.setEditorTimeout(e,()=>m(S)))})},Oz=(e,n)=>({block:e,position:n}),pO=(e,n)=>({from:e,to:n}),bO=(e,n)=>{const o=Ye.fromDom(e),a=Ye.fromDom(n.container());return M2(o,a).map(c=>Oz(c,n))},wL=e=>!(fa(e.to.block,e.from.block)||fa(e.from.block,e.to.block)),vO=e=>!us(e.from.block,e.to.block),yO=(e,n)=>Ti(n,c=>Xu(c)||Kc(c.dom),c=>us(c,e)).filter(Qr).getOr(e),xO=(e,n)=>{const o=Ye.fromDom(e);return us(yO(o,n.from.block),yO(o,n.to.block))},Rz=e=>To(e.from.block.dom)===!1&&To(e.to.block.dom)===!1,CL=e=>{const n=o=>m0(o)||qr(o.dom)||dh(o);return n(e.from.block)&&n(e.to.block)},Iz=(e,n,o,a)=>Ar(a.position.getNode())&&!Nr(e,a.block)?My(!1,a.block.dom).bind(c=>c.isEqual(a.position)?Ad(o,n,c).bind(m=>bO(n,m)):te.some(a)).getOr(a):a,SL=(e,n,o,a)=>{const c=bO(n,Dt.fromRangeStart(a)),m=c.bind(p=>Ad(o,n,p.position).bind(S=>bO(n,S).map(T=>Iz(e,n,o,T))));return da(c,m,pO).filter(p=>vO(p)&&xO(n,p)&&Rz(p)&&CL(p)&&wL(p))},_L=(e,n,o,a)=>a.collapsed?SL(e,n,o,a):te.none(),Dz=(e,n)=>{const o=ma(e);return no(o,a=>n.isBlock(hs(a))).fold(ft(o),a=>o.slice(0,a))},kL=(e,n)=>{const o=Dz(e,n);return xe(o,Hs),o},EL=(e,n,o)=>{const a=rd(o,n);return An(a.reverse(),c=>Nr(e,c)).each(Hs)},Pz=(e,n)=>Je(Bu(n),o=>!Nr(e,o)).length===0,Nz=(e,n,o,a,c)=>{if(Nr(a,o))return Ju(o),yo(o.dom);Pz(a,c)&&Nr(a,n)&&Dr(c,Ye.fromTag("br"));const m=td(o.dom,Dt.before(c.dom));return xe(kL(n,a),p=>{Dr(c,p)}),EL(a,e,n),m},m1=(e,n)=>e.isInline(hs(n)),TL=(e,n,o,a)=>{if(Nr(a,o)){if(Nr(a,n)){const p=wt((S=>{const T=(V,X)=>Zl(V).fold(()=>X,ee=>m1(a,ee)?T(ee,X.concat(yi(ee))):X);return T(S,[])})(o),(S,T)=>(ac(S,T),T),bm());ir(n),Vr(n,p)}return Hs(o),yo(n.dom)}const c=yf(o.dom);return xe(kL(n,a),m=>{Vr(o,m)}),EL(a,e,n),c},AL=(e,n)=>{const o=rd(n,e);return te.from(o[o.length-1])},OL=(e,n)=>fa(n,e)?AL(n,e):te.none(),RL=(e,n)=>{My(e,n.dom).bind(o=>te.from(o.getNode())).map(Ye.fromDom).filter(bf).each(Hs)},IL=(e,n,o,a)=>(RL(!0,n),RL(!1,o),OL(n,o).fold(rt(TL,e,n,o,a),rt(Nz,e,n,o,a))),Yp=(e,n,o,a,c)=>n?IL(e,a,o,c):IL(e,o,a,c),Ak=(e,n)=>{const o=Ye.fromDom(e.getBody());return _L(e.schema,o.dom,n,e.selection.getRng()).map(c=>()=>{Yp(o,n,c.from.block,c.to.block,e.schema).each(m=>{e.selection.setRng(m.toRange())})})},Ok=(e,n,o)=>{const a=n.getRng();return da(M2(e,Ye.fromDom(a.startContainer)),M2(e,Ye.fromDom(a.endContainer)),(c,m)=>us(c,m)?te.none():te.some(()=>{a.deleteContents(),Yp(e,!0,c,m,o).each(p=>{n.setRng(p.toRange())})})).getOr(te.none())},DL=(e,n)=>{const o=Ye.fromDom(n),a=rt(us,e);return Ga(o,Xu,a).isSome()},PL=(e,n)=>DL(e,n.startContainer)||DL(e,n.endContainer),Mz=(e,n)=>{const o=td(e.dom,Dt.fromRangeStart(n)).isNone(),a=Gc(e.dom,Dt.fromRangeEnd(n)).isNone();return!PL(e,n)&&o&&a},Lz=e=>te.some(()=>{e.setContent(""),e.selection.setCursorLocation()}),wO=e=>{const n=Ye.fromDom(e.getBody()),o=e.selection.getRng();return Mz(n,o)?Lz(e):Ok(n,e.selection,e.schema)},CO=(e,n)=>e.selection.isCollapsed()?te.none():wO(e),si=(e,n,o,a,c)=>te.from(n._selectionOverrides.showCaret(e,o,a,c)),Bz=e=>{const n=e.ownerDocument.createRange();return n.selectNode(e),n},uC=(e,n)=>e.dispatch("BeforeObjectSelected",{target:n}).isDefaultPrevented()?te.none():te.some(Bz(n)),SO=(e,n,o)=>{const a=NT(1,e.getBody(),n),c=Dt.fromRangeStart(a),m=c.getNode();if(Hw(m))return si(1,e,m,!c.isAtEnd(),!1);const p=c.getNode(!0);if(Hw(p))return si(1,e,p,!1,!1);const S=Tf(e.dom.getRoot(),c.getNode());return Hw(S)?si(1,e,S,!1,o):te.none()},Rk=(e,n,o)=>n.collapsed?SO(e,n,o).getOr(n):n,_O=e=>va(e)||G0(e),Fz=e=>xg(e)||qy(e),$z=(e,n)=>{on(n)&&n.data.length===0&&e.remove(n)},NL=(e,n,o,a,c,m)=>{si(a,e,m.getNode(!c),c,!0).each(p=>{if(n.collapsed){const S=n.cloneRange();c?S.setEnd(p.startContainer,p.startOffset):S.setStart(p.endContainer,p.endOffset),S.deleteContents()}else n.deleteContents();e.selection.setRng(p)}),$z(e.dom,o)},Vz=(e,n)=>{const o=e.selection.getRng();if(!on(o.commonAncestorContainer))return te.none();const a=n?Bl.Forwards:Bl.Backwards,c=go(e.getBody()),m=rt(MT,n?c.next:c.prev),p=n?_O:Fz,S=Zw(a,e.getBody(),o),T=m(S),V=T&&Ef(n,T);if(!V||!DS(S,V))return te.none();if(p(V))return te.some(()=>NL(e,o,S.getNode(),a,n,V));const X=m(V);return X&&p(X)&&DS(V,X)?te.some(()=>NL(e,o,S.getNode(),a,n,X)):te.none()},kO=(e,n)=>Vz(e,n),EO=(e,n)=>{const o=e.getBody();return n?yo(o).filter(va):yf(o).filter(xg)},TO=e=>{const n=e.selection.getRng();return!n.collapsed&&(EO(e,!0).exists(o=>o.isEqual(Dt.fromRangeStart(n)))||EO(e,!1).exists(o=>o.isEqual(Dt.fromRangeEnd(n))))},hx=e=>Ce(e)&&(Xu(Ye.fromDom(e))||dh(Ye.fromDom(e))),Ba=ws.generate([{remove:["element"]},{moveToElement:["element"]},{moveToPosition:["position"]}]),zz=(e,n)=>{const o=n.getNode(!e),a=e?"after":"before";return Un(o)&&o.getAttribute("data-mce-caret")===a},Hz=(e,n,o,a,c)=>{const m=p=>c.isInline(p.nodeName.toLowerCase())&&!yh(o,a,e);return pD(!n,o).fold(()=>pD(n,a).fold(Bn,m),m)},ML=(e,n,o,a,c)=>{const m=c.getNode(!o);return M2(Ye.fromDom(n),Ye.fromDom(a.getNode())).map(p=>Nr(e,p)?Ba.remove(p.dom):Ba.moveToElement(m)).orThunk(()=>te.some(Ba.moveToElement(m)))},LL=(e,n,o,a)=>Ad(n,e,o).bind(c=>hx(c.getNode())||Hz(e,n,o,c,a)?te.none():n&&To(c.getNode())||!n&&To(c.getNode(!0))?ML(a,e,n,o,c):n&&xg(o)||!n&&va(o)?te.some(Ba.moveToPosition(c)):te.none()),Uz=(e,n)=>ct(n)?te.none():e&&To(n.nextSibling)?te.some(Ba.moveToElement(n.nextSibling)):!e&&To(n.previousSibling)?te.some(Ba.moveToElement(n.previousSibling)):te.none(),Wz=(e,n,o)=>o.fold(a=>te.some(Ba.remove(a)),a=>te.some(Ba.moveToElement(a)),a=>yh(n,a,e)?te.none():te.some(Ba.moveToPosition(a))),Kz=(e,n,o,a)=>zz(n,o)?Uz(n,o.getNode(!n)).orThunk(()=>LL(e,n,o,a)):LL(e,n,o,a).bind(c=>Wz(e,o,c)),jz=(e,n,o,a)=>{const c=NT(n?1:-1,e,o),m=Dt.fromRangeStart(c),p=Ye.fromDom(e);return!n&&xg(m)?te.some(Ba.remove(m.getNode(!0))):n&&va(m)?te.some(Ba.remove(m.getNode())):!n&&va(m)&&Y0(p,m,a)?v_(p,m,a).map(S=>Ba.remove(S.getNode())):n&&xg(m)&&R2(p,m,a)?rN(p,m,a).map(S=>Ba.remove(S.getNode())):Kz(e,n,m,a)},Zz=(e,n)=>o=>(e._selectionOverrides.hideFakeCaret(),hc(e,n,Ye.fromDom(o)),!0),Gz=(e,n)=>o=>{const a=n?Dt.before(o):Dt.after(o);return e.selection.setRng(a.toRange()),!0},qz=e=>n=>(e.selection.setRng(n.toRange()),!0),BL=(e,n)=>te.from(Tf(e.getBody(),n)),Yz=(e,n)=>{const o=e.selection.getNode();return BL(e,o).filter(To).fold(()=>jz(e.getBody(),n,e.selection.getRng(),e.schema).map(a=>()=>a.fold(Zz(e,n),Gz(e,n),qz(e))),()=>te.some(gt))},Xz=e=>{xe(bi(e,".mce-offscreen-selection"),Hs)},Jz=(e,n)=>{const o=e.selection.getNode();return To(o)&&!Xg(o)?BL(e,o.parentNode).filter(To).fold(()=>te.some(()=>{Xz(Ye.fromDom(e.getBody())),hc(e,n,Ye.fromDom(e.selection.getNode())),S_(e)}),()=>te.some(gt)):TO(e)?te.some(()=>{__(e,e.selection.getRng(),Ye.fromDom(e.getBody()))}):te.none()},FL=e=>{const n=e.dom,o=e.selection,a=Tf(e.getBody(),o.getNode());if(Kc(a)&&n.isBlock(a)&&n.isEmpty(a)){const c=n.create("br",{"data-mce-bogus":"1"});n.setHTML(a,""),a.appendChild(c),o.setRng(Dt.before(c).toRange())}return!0},AO=(e,n)=>e.selection.isCollapsed()?Yz(e,n):Jz(e,n),$L=e=>e.hasOwnProperty("text"),VL=e=>e.hasOwnProperty("marker"),zL=(e,n)=>{const o=(m,p)=>{if(on(m))return{text:m,offset:p};{const S=n(),T=m.childNodes;return p<T.length?(m.insertBefore(S,T[p]),{marker:S,before:!0}):(m.appendChild(S),{marker:S,before:!1})}},a=o(e.endContainer,e.endOffset);return{start:o(e.startContainer,e.startOffset),end:a}},HL=e=>{var n,o;const{start:a,end:c}=e,m=new window.Range;return $L(a)?m.setStart(a.text,a.offset):VL(a)&&(a.before?m.setStartBefore(a.marker):m.setStartAfter(a.marker),(n=a.marker.parentNode)===null||n===void 0||n.removeChild(a.marker)),$L(c)?m.setEnd(c.text,c.offset):VL(c)&&(c.before?m.setEndBefore(c.marker):m.setEndAfter(c.marker),(o=c.marker.parentNode)===null||o===void 0||o.removeChild(c.marker)),m},OO=(e,n)=>{var o;const a=e.dom,c=a.getParent(e.selection.getStart(),a.isBlock),m=a.getParent(e.selection.getEnd(),a.isBlock),p=e.getBody();if(((o=c==null?void 0:c.nodeName)===null||o===void 0?void 0:o.toLowerCase())==="div"&&c&&m&&c===p.firstChild&&m===p.lastChild&&!a.isEmpty(p)){const T=c.cloneNode(!1),V=()=>{if(n?JA(e):C_(e),p.firstChild!==c){const X=zL(e.selection.getRng(),()=>document.createElement("span"));Array.from(p.childNodes).forEach(ee=>T.appendChild(ee)),p.appendChild(T),e.selection.setRng(HL(X))}};return te.some(V)}return te.none()},Qz=(e,n)=>{const o=Dt.fromRangeStart(e.selection.getRng());return Ad(n,e.getBody(),o).filter(a=>n?QP(a):eN(a)).bind(a=>RS(n?0:-1,a)).map(a=>()=>e.selection.select(a))},RO=(e,n)=>e.selection.isCollapsed()?Qz(e,n):te.none(),px=on,UL=e=>px(e)&&e.data[0]===ta,WL=e=>px(e)&&e.data[e.data.length-1]===ta,KL=e=>{var n;return((n=e.ownerDocument)!==null&&n!==void 0?n:document).createTextNode(ta)},eH=e=>{var n;if(px(e.previousSibling))return WL(e.previousSibling)||e.previousSibling.appendData(ta),e.previousSibling;if(px(e))return UL(e)||e.insertData(0,ta),e;{const o=KL(e);return(n=e.parentNode)===null||n===void 0||n.insertBefore(o,e),o}},tH=e=>{var n,o;if(px(e.nextSibling))return UL(e.nextSibling)||e.nextSibling.insertData(0,ta),e.nextSibling;if(px(e))return WL(e)||e.appendData(ta),e;{const a=KL(e);return e.nextSibling?(n=e.parentNode)===null||n===void 0||n.insertBefore(a,e.nextSibling):(o=e.parentNode)===null||o===void 0||o.appendChild(a),a}},Ik=(e,n)=>e?eH(n):tH(n),jL=rt(Ik,!0),nH=rt(Ik,!1),ZL=(e,n)=>on(e.container())?Ik(n,e.container()):Ik(n,e.getNode()),GL=(e,n)=>{const o=n.get();return o&&e.container()===o&&fh(o)},IO=(e,n)=>n.fold(o=>{$b(e.get());const a=jL(o);return e.set(a),te.some(Dt(a,a.length-1))},o=>yo(o).map(a=>{if(GL(a,e)){const c=e.get();return Dt(c,1)}else{$b(e.get());const c=ZL(a,!0);return e.set(c),Dt(c,1)}}),o=>yf(o).map(a=>{if(GL(a,e)){const c=e.get();return Dt(c,c.length-1)}else{$b(e.get());const c=ZL(a,!1);return e.set(c),Dt(c,c.length-1)}}),o=>{$b(e.get());const a=nH(o);return e.set(a),te.some(Dt(a,1))}),qL=(e,n)=>{for(let o=0;o<e.length;o++){const a=e[o].apply(null,n);if(a.isSome())return a}return te.none()},Yc=ws.generate([{before:["element"]},{start:["element"]},{end:["element"]},{after:["element"]}]),YL=(e,n)=>{const o=Vb(n,e);return o||e},oH=(e,n,o)=>{const a=_N(o),c=YL(n,a.container());return ev(e,c,a).fold(()=>Gc(c,a).bind(rt(ev,e,c)).map(m=>Yc.before(m)),te.none)},XL=(e,n)=>zb(e,n)===null,JL=(e,n,o)=>ev(e,n,o).filter(rt(XL,n)),sH=(e,n,o)=>{const a=ex(o);return JL(e,n,a).bind(c=>td(c,a).isNone()?te.some(Yc.start(c)):te.none())},rH=(e,n,o)=>{const a=_N(o);return JL(e,n,a).bind(c=>Gc(c,a).isNone()?te.some(Yc.end(c)):te.none())},iH=(e,n,o)=>{const a=ex(o),c=YL(n,a.container());return ev(e,c,a).fold(()=>td(c,a).bind(rt(ev,e,c)).map(m=>Yc.after(m)),te.none)},QL=e=>!P2(DO(e)),Lh=(e,n,o)=>qL([oH,sH,rH,iH],[e,n,o]).filter(QL),DO=e=>e.fold(Rn,Rn,Rn,Rn),eB=e=>e.fold(ft("before"),ft("start"),ft("end"),ft("after")),dC=e=>e.fold(Yc.before,Yc.before,Yc.after,Yc.after),Dk=e=>e.fold(Yc.start,Yc.start,Yc.end,Yc.end),aH=(e,n)=>eB(e)===eB(n)&&DO(e)===DO(n),tB=(e,n,o,a,c,m)=>da(ev(n,o,a),ev(n,o,c),(p,S)=>p!==S&&SN(o,p,S)?Yc.after(e?p:S):m).getOr(m),lH=(e,n)=>e.fold(Jt,o=>!aH(o,n)),cH=(e,n,o,a,c)=>{const m=Ef(e,c);return Ad(e,o,m).map(rt(Ef,e)).fold(()=>a.map(dC),T=>Lh(n,o,T).map(rt(tB,e,n,o,m,T)).filter(rt(lH,a))).filter(QL)},uH=(e,n)=>e?n.fold(Ft(te.some,Yc.start),te.none,Ft(te.some,Yc.after),te.none):n.fold(te.none,Ft(te.some,Yc.before),te.none,Ft(te.some,Yc.end)),dH=(e,n,o,a)=>{const c=Ef(e,a),m=Lh(n,o,c);return Lh(n,o,c).bind(rt(uH,e)).orThunk(()=>cH(e,n,o,m,a))},fH=e=>Te(e.selection.getSel().modify),nB=(e,n,o)=>{const a=e?1:-1;return n.setRng(Dt(o.container(),o.offset()+a).toRange()),n.getSel().modify("move",e?"forward":"backward","word"),!0},PO=(e,n)=>{const o=n.selection.getRng(),a=e?Dt.fromRangeEnd(o):Dt.fromRangeStart(o);return fH(n)?e&&p0(a)?nB(!0,n.selection,a):!e&&vy(a)?nB(!1,n.selection,a):!1:!1};var Om;(function(e){e[e.Br=0]="Br",e[e.Block=1]="Block",e[e.Wrap=2]="Wrap",e[e.Eol=3]="Eol"})(Om||(Om={}));const Pk=(e,n)=>e===Bl.Backwards?sr(n):n,oB=(e,n,o)=>e===Bl.Forwards?n.next(o):n.prev(o),mH=(e,n,o,a)=>Ar(a.getNode(n===Bl.Forwards))?Om.Br:yh(o,a)===!1?Om.Block:Om.Wrap,sB=(e,n,o,a)=>{const c=go(o);let m=a;const p=[];for(;m;){const S=oB(n,c,m);if(!S)break;if(Ar(S.getNode(!1)))return n===Bl.Forwards?{positions:Pk(n,p).concat([S]),breakType:Om.Br,breakAt:te.some(S)}:{positions:Pk(n,p),breakType:Om.Br,breakAt:te.some(S)};if(!S.isVisible()){m=S;continue}if(e(m,S)){const T=mH(o,n,m,S);return{positions:Pk(n,p),breakType:T,breakAt:te.some(S)}}p.push(S),m=S}return{positions:Pk(n,p),breakType:Om.Eol,breakAt:te.none()}},rB=(e,n,o,a)=>n(o,a).breakAt.map(c=>{const m=n(o,c).positions;return e===Bl.Backwards?m.concat(c):[c].concat(m)}).getOr([]),NO=(e,n)=>pn(e,(o,a)=>o.fold(()=>te.some(a),c=>da(cn(c.getClientRects()),cn(a.getClientRects()),(m,p)=>{const S=Math.abs(n-m.left);return Math.abs(n-p.left)<=S?a:c}).or(o)),te.none()),Nk=(e,n)=>cn(n.getClientRects()).bind(o=>NO(e,o.left)),fC=rt(sB,Dt.isAbove,-1),mC=rt(sB,Dt.isBelow,1),iB=rt(rB,-1,fC),Mk=rt(rB,1,mC),aB=(e,n)=>fC(e,n).breakAt.isNone(),lB=(e,n)=>mC(e,n).breakAt.isNone(),gH=e=>yo(e).map(n=>[n].concat(mC(e,n).positions)).getOr([]),cB=e=>yf(e).map(n=>fC(e,n).positions.concat(n)).getOr([]),g1=(e,n)=>Nk(iB(e,n),n),hH=(e,n)=>Nk(Mk(e,n),n),pH=To,uB=(e,n)=>Math.abs(e.left-n),Su=(e,n)=>Math.abs(e.right-n),dB=e=>dl(e,"node"),fB=(e,n)=>El(e,(o,a)=>{const c=Math.min(uB(o,n),Su(o,n)),m=Math.min(uB(a,n),Su(a,n));return m===c&&dB(a)&&pH(a.node)||m<c?a:o}),bH=e=>{const n=o=>Ke(o,a=>{const c=rg(a);return c.node=e,c});if(Un(e))return n(e.getClientRects());if(on(e)){const o=e.ownerDocument.createRange();return o.setStart(e,0),o.setEnd(e,e.data.length),n(o.getClientRects())}else return[]},mB=e=>Jo(e,bH);var gC;(function(e){e[e.Up=-1]="Up",e[e.Down=1]="Down"})(gC||(gC={}));const vH=(e,n,o,a)=>{let c=a;for(;c=Ww(c,e,C0,n);)if(o(c))return},MO=(e,n,o,a,c,m)=>{let p=0;const S=[],T=ee=>{let ae=mB([ee]);e===-1&&(ae=ae.reverse());for(let we=0;we<ae.length;we++){const Ne=ae[we];if(!o(Ne,V)){if(S.length>0&&n(Ne,la(S))&&p++,Ne.line=p,c(Ne))return!0;S.push(Ne)}}return!1},V=la(m.getClientRects());if(!V)return S;const X=m.getNode();return X&&(T(X),vH(e,a,T,X)),S},yH=(e,n)=>n.line>e,xH=(e,n)=>n.line===e,wH=rt(MO,gC.Up,lg,Ip),CH=rt(MO,gC.Down,Ip,lg),gB=e=>la(e.getClientRects()),bx=(e,n,o,a)=>{const c=go(n);let m,p,S,T;const V=[];let X=0;e===1?(m=c.next,p=Ip,S=lg,T=Dt.after(a)):(m=c.prev,p=lg,S=Ip,T=Dt.before(a));const ee=gB(T);do{if(!T.isVisible())continue;const ae=gB(T);if(S(ae,ee))continue;V.length>0&&p(ae,la(V))&&X++;const we=rg(ae);if(we.position=T,we.line=X,o(we))return V;V.push(we)}while(T=m(T));return V},LO=e=>n=>yH(e,n),vx=e=>n=>xH(e,n),Sg=(e,n)=>{e.selection.setRng(n),Cf(e,e.selection.getRng())},Lk=(e,n,o)=>te.some(Rk(e,n,o)),BO=(e,n,o,a,c,m)=>{const p=n===Bl.Forwards,S=go(e.getBody()),T=rt(MT,p?S.next:S.prev),V=p?a:c;if(!o.collapsed){const Ne=Nb(o);if(m(Ne))return si(n,e,Ne,n===Bl.Backwards,!1);if(TO(e)){const ke=o.cloneRange();return ke.collapse(n===Bl.Backwards),te.from(ke)}}const X=Zw(n,e.getBody(),o);if(V(X))return uC(e,X.getNode(!p));let ee=T(X);const ae=Rp(o);if(ee)ee=Ef(p,ee);else return ae?te.some(o):te.none();if(V(ee))return si(n,e,ee.getNode(!p),p,!1);const we=T(ee);return we&&V(we)&&DS(ee,we)?si(n,e,we.getNode(!p),p,!1):ae?Lk(e,ee.toRange(),!1):te.none()},hB=(e,n,o,a,c,m)=>{const p=Zw(n,e.getBody(),o),S=la(p.getClientRects()),T=n===gC.Down,V=e.getBody();if(!S)return te.none();if(TO(e)){const $e=T?Dt.fromRangeEnd(o):Dt.fromRangeStart(o);return(T?hH:g1)(V,$e).orThunk(()=>te.from($e)).map(ut=>ut.toRange())}const ee=(T?CH:wH)(V,LO(1),p),ae=Je(ee,vx(1)),we=S.left,Ne=fB(ae,we);if(Ne&&m(Ne.node)){const $e=Math.abs(we-Ne.left),nt=Math.abs(we-Ne.right);return si(n,e,Ne.node,$e<nt,!1)}let ke;if(a(p)?ke=p.getNode():c(p)?ke=p.getNode(!0):ke=Nb(o),ke){const $e=bx(n,V,LO(1),ke);let nt=fB(Je($e,vx(1)),we);if(nt||(nt=la(Je($e,vx(0))),nt))return Lk(e,nt.position.toRange(),!1)}return ae.length===0?Bk(e,T).filter(T?c:a).map($e=>Rk(e,$e.toRange(),!1)):te.none()},Bk=(e,n)=>{const o=e.selection.getRng(),a=n?Dt.fromRangeEnd(o):Dt.fromRangeStart(o),c=G8(a.container(),e.getBody());if(n){const m=mC(c,a);return uo(m.positions)}else{const m=fC(c,a);return cn(m.positions)}},pB=(e,n,o)=>Bk(e,n).filter(o).exists(a=>(e.selection.setRng(a.toRange()),!0)),hC=(e,n)=>{const o=e.dom.createRng();o.setStart(n.container(),n.offset()),o.setEnd(n.container(),n.offset()),e.selection.setRng(o)},FO=(e,n)=>{e?n.setAttribute("data-mce-selected","inline-boundary"):n.removeAttribute("data-mce-selected")},$O=(e,n,o)=>IO(n,o).map(a=>(hC(e,a),o)),bB=(e,n,o)=>{const a=Dt.fromRangeStart(e);if(e.collapsed)return a;{const c=Dt.fromRangeEnd(e);return o?td(n,c).getOr(c):Gc(n,a).getOr(a)}},vB=(e,n,o)=>{const a=e.getBody(),c=bB(e.selection.getRng(),a,o),m=rt(J0,e);return dH(o,m,a,c).bind(S=>$O(e,n,S))},yB=(e,n,o)=>{const a=Ke(bi(Ye.fromDom(n.getRoot()),'*[data-mce-selected="inline-boundary"]'),p=>p.dom),c=Je(a,e),m=Je(o,e);xe(Cs(c,m),rt(FO,!1)),xe(Cs(m,c),rt(FO,!0))},VO=(e,n)=>{const o=n.get();if(e.selection.isCollapsed()&&!e.composing&&o){const a=Dt.fromRangeStart(e.selection.getRng());Dt.isTextPosition(a)&&!YA(a)&&(hC(e,K8(o,a)),n.set(null))}},xB=(e,n,o,a)=>{if(n.selection.isCollapsed()){const c=Je(a,e);xe(c,m=>{const p=Dt.fromRangeStart(n.selection.getRng());Lh(e,n.getBody(),p).bind(S=>$O(n,o,S))})}},zO=(e,n,o)=>Dy(e)?vB(e,n,o).isSome():!1,HO=(e,n,o)=>Dy(n)?PO(e,n):!1,wB=e=>{const n=Fi(null),o=rt(J0,e);return e.on("NodeChange",a=>{Dy(e)&&(yB(o,e.dom,a.parents),VO(e,n),xB(o,e,n,a.parents))}),n},CB=rt(HO,!0),SB=rt(HO,!1),pC=(e,n,o)=>{if(Dy(e)){const a=Bk(e,n).getOrThunk(()=>{const c=e.selection.getRng();return n?Dt.fromRangeEnd(c):Dt.fromRangeStart(c)});return Lh(rt(J0,e),e.getBody(),a).exists(c=>{const m=dC(c);return IO(o,m).exists(p=>(hC(e,p),!0))})}else return!1},UO=(e,n)=>{const o=document.createRange();return o.setStart(e.container(),e.offset()),o.setEnd(n.container(),n.offset()),o},WO=e=>da(yo(e),yf(e),(n,o)=>{const a=Ef(!0,n),c=Ef(!1,o);return Gc(e,a).forall(m=>m.isEqual(c))}).getOr(!0),bC=(e,n)=>o=>IO(n,o).map(a=>()=>hC(e,a)),KO=(e,n,o,a)=>{const c=e.getBody(),m=rt(J0,e);e.undoManager.ignore(()=>{e.selection.setRng(UO(o,a)),C_(e),Lh(m,c,Dt.fromRangeStart(e.selection.getRng())).map(Dk).bind(bC(e,n)).each(Yt)}),e.nodeChanged()},_B=(e,n)=>{const o=Vb(n,e);return o||e},kB=(e,n,o,a)=>{const c=_B(e.getBody(),a.container()),m=rt(J0,e),p=Lh(m,c,a);return p.bind(T=>o?T.fold(ft(te.some(Dk(T))),te.none,ft(te.some(dC(T))),te.none):T.fold(te.none,ft(te.some(dC(T))),te.none,ft(te.some(Dk(T))))).map(bC(e,n)).getOrThunk(()=>{const T=M0(o,c,a),V=T.bind(X=>Lh(m,c,X));return da(p,V,()=>ev(m,c,a).bind(X=>WO(X)?te.some(()=>{hc(e,o,Ye.fromDom(X))}):te.none())).getOrThunk(()=>V.bind(()=>T.map(X=>()=>{o?KO(e,n,a,X):KO(e,n,X,a)})))})},vC=(e,n,o)=>{if(e.selection.isCollapsed()&&Dy(e)){const a=Dt.fromRangeStart(e.selection.getRng());return kB(e,n,o,a)}return te.none()},EB=e=>pd(e)>1,jO=(e,n)=>{const o=Ye.fromDom(e.getBody()),a=Ye.fromDom(e.selection.getStart()),c=rd(a,o);return no(c,n).fold(ft(c),m=>c.slice(0,m))},TB=e=>pd(e)===1,SH=e=>jO(e,n=>e.schema.isBlock(hs(n))||EB(n)),AB=e=>jO(e,n=>e.schema.isBlock(hs(n))),ZO=(e,n)=>{const o=rt(ox,e);return Jo(n,a=>o(a)?[a.dom]:[])},yC=e=>{const n=AB(e);return ZO(e,n)},OB=(e,n,o,a)=>{const c=ZO(n,a);if(c.length===0)hc(n,e,o);else{const m=N3(o.dom,c);n.selection.setRng(m.toRange())}},RB=(e,n)=>{const o=Je(SH(e),TB);return uo(o).bind(a=>{const c=Dt.fromRangeStart(e.selection.getRng());return TN(n,c,a.dom)&&!HS(a)?te.some(()=>OB(n,e,a,o)):te.none()})},GO=(e,n)=>{const o=n.parentElement;return Ar(n)&&!_e(o)&&e.dom.isEmpty(o)},_H=e=>HS(Ye.fromDom(e)),qO=(e,n)=>{const o=e.selection.getStart(),a=GO(e,o)||_H(o)?N3(o,n):D$(e.selection.getRng(),n);e.selection.setRng(a.toRange())},kH=(e,n)=>{const o=Cs(n,yC(e));o.length>0&&qO(e,o)},YO=e=>on(e.startContainer),IB=e=>e.startOffset===0&&YO(e),EH=(e,n)=>{const o=n.startContainer.parentElement;return!_e(o)&&ox(e,Ye.fromDom(o))},TH=e=>{const n=e.startContainer.parentNode,o=e.endContainer.parentNode;return!_e(n)&&!_e(o)&&n.isEqualNode(o)},s=e=>{const n=e.endContainer;return e.endOffset===(on(n)?n.length:n.childNodes.length)},l=e=>TH(e)&&s(e),d=e=>!e.endContainer.isEqualNode(e.commonAncestorContainer),f=e=>l(e)||d(e),b=e=>{const n=e.selection.getRng();return IB(n)&&EH(e,n)&&f(n)},v=e=>{if(b(e)){const n=yC(e);return te.some(()=>{C_(e),kH(e,n)})}else return te.none()},C=(e,n)=>e.selection.isCollapsed()?RB(e,n):v(e),k=(e,n)=>q1(e,o=>Od(o.dom),o=>n.isBlock(hs(o))),E=e=>k(Ye.fromDom(e.selection.getStart()),e.schema),N=e=>{const n=e.selection.getRng();return n.collapsed&&(YO(n)||e.dom.isEmpty(n.startContainer))&&!E(e)},$=e=>(N(e)&&qO(e,[]),!0),B=(e,n,o)=>Ce(o)?te.some(()=>{e._selectionOverrides.hideFakeCaret(),hc(e,n,Ye.fromDom(o))}):te.none(),W=(e,n)=>{const o=n?G0:qy,a=n?Bl.Forwards:Bl.Backwards,c=Zw(a,e.getBody(),e.selection.getRng());return o(c)?B(e,n,c.getNode(!n)):te.from(Ef(n,c)).filter(m=>o(m)&&DS(c,m)).bind(m=>B(e,n,m.getNode(!n)))},J=(e,n)=>{const o=e.selection.getNode();return Lt(o)?B(e,n,o):te.none()},se=(e,n)=>e.selection.isCollapsed()?W(e,n):J(e,n),pe=e=>Ti(e,n=>Kc(n.dom)||To(n.dom)).exists(n=>Kc(n.dom)),ye=e=>Cn(e??"").getOr(0),De=(e,n)=>{const o=e||f0(n)?"margin":"padding",a=$r(n,"direction")==="rtl"?"-right":"-left";return o+a},ve=(e,n,o,a,c,m)=>{const p=De(o,Ye.fromDom(m)),S=ye(e.getStyle(m,p));if(n==="outdent"){const T=Math.max(0,S-a);e.setStyle(m,p,T?T+c:"")}else{const T=S+a+c;e.setStyle(m,p,T)}},be=(e,n)=>Ho(n,o=>{const a=De(LI(e),o),c=Zr(o,a).map(ye).getOr(0);return e.dom.getContentEditable(o.dom)!=="false"&&c>0}),Ee=e=>{const n=et(e);return!e.mode.isReadOnly()&&(n.length>1||be(e,n))},Pe=e=>g0(e)||dh(e),Le=e=>Qi(e).exists(Pe),et=e=>Je(Nl(e.selection.getSelectedBlocks()),n=>!Pe(n)&&!Le(n)&&pe(n)),ht=(e,n)=>{var o,a;const{dom:c}=e,m=Td(e),p=(a=(o=/[a-z%]+$/i.exec(m))===null||o===void 0?void 0:o[0])!==null&&a!==void 0?a:"px",S=ye(m),T=LI(e);xe(et(e),V=>{ve(c,n,T,S,p,V.dom)})},zt=e=>ht(e,"indent"),Bt=e=>ht(e,"outdent"),Pt=e=>{if(e.selection.isCollapsed()&&Ee(e)){const n=e.dom,o=e.selection.getRng(),a=Dt.fromRangeStart(o),c=n.getParent(o.startContainer,n.isBlock);if(c!==null&&b_(Ye.fromDom(c),a,e.schema))return te.some(()=>Bt(e))}return te.none()},sn=(e,n,o)=>mi([Pt,AO,kO,(a,c)=>vC(a,n,c),Ak,Wp,RO,se,CO,C,OO],a=>a(e,o)).filter(a=>e.selection.isEditable()),In=(e,n)=>{sn(e,n,!1).fold(()=>{e.selection.isEditable()&&(C_(e),S_(e))},Yt)},Kn=(e,n)=>{sn(e,n,!0).fold(()=>{e.selection.isEditable()&&JA(e)},Yt)},ro=(e,n)=>{e.addCommand("delete",()=>{In(e,n)}),e.addCommand("forwardDelete",()=>{Kn(e,n)})},Ro=5,as=400,kr=e=>e.touches===void 0||e.touches.length!==1?te.none():te.some(e.touches[0]),Br=(e,n)=>{const o=Math.abs(e.clientX-n.x),a=Math.abs(e.clientY-n.y);return o>Ro||a>Ro},Zo=e=>{const n=Ai(),o=Fi(!1),a=Rb(c=>{e.dispatch("longpress",{...c,type:"longpress"}),o.set(!0)},as);e.on("touchstart",c=>{kr(c).each(m=>{a.cancel();const p={x:m.clientX,y:m.clientY,target:c.target};a.throttle(c),o.set(!1),n.set(p)})},!0),e.on("touchmove",c=>{a.cancel(),kr(c).each(m=>{n.on(p=>{Br(m,p)&&(n.clear(),o.set(!1),e.dispatch("longpresscancel"))})})},!0),e.on("touchend touchcancel",c=>{a.cancel(),c.type!=="touchcancel"&&n.get().filter(m=>m.target.isEqualNode(c.target)).each(()=>{o.get()?c.preventDefault():e.dispatch("tap",{...c,type:"tap"})})},!0)},ks=(e,n)=>So(e,n.nodeName),fo=(e,n)=>on(n)?!0:Un(n)?!ks(e.getBlockElements(),n)&&!Rd(n)&&!hu(e,n)&&!Zi(n):!1,Fr=(e,n,o)=>Me(yu(Ye.fromDom(o),Ye.fromDom(n)),a=>ks(e,a.dom)),nr=(e,n)=>{if(on(n)){if(n.data.length===0)return!0;if(/^\s+$/.test(n.data))return!n.nextSibling||ks(e,n.nextSibling)||Zi(n.nextSibling)}return!1},$l=e=>e.dom.create(Jl(e),Mw(e)),Vl=e=>{const n=e.dom,o=e.selection,a=e.schema,c=a.getBlockElements(),m=o.getStart(),p=e.getBody();let S,T,V=null;const X=Jl(e);if(!m||!Un(m))return;const ee=p.nodeName.toLowerCase();if(!a.isValidChild(ee,X.toLowerCase())||Fr(c,p,m))return;if(p.firstChild===p.lastChild&&Ar(p.firstChild)){S=$l(e),S.appendChild(bm().dom),p.replaceChild(S,p.firstChild),e.selection.setCursorLocation(S,0),e.nodeChanged();return}let ae=p.firstChild;for(;ae;)if(Un(ae)&&ci(a,ae),fo(a,ae)){if(nr(c,ae)){T=ae,ae=ae.nextSibling,n.remove(T);continue}if(!S){if(!V&&e.hasFocus()&&(V=zL(e.selection.getRng(),()=>document.createElement("span"))),!ae.parentNode){ae=null;break}S=$l(e),p.insertBefore(S,ae)}T=ae,ae=ae.nextSibling,S.appendChild(T)}else S=null,ae=ae.nextSibling;V&&(e.selection.setRng(HL(V)),e.nodeChanged())},Fa=(e,n,o)=>{const a=Ye.fromDom($l(e)),c=bm();Vr(a,c),o(n,a);const m=document.createRange();return m.setStartBefore(c.dom),m.setEndBefore(c.dom),m},ya=e=>{e.on("NodeChange",()=>Vl(e))},Xp=e=>n=>(" "+n.attr("class")+" ").indexOf(e)!==-1,yx=(e,n,o)=>function(a){const c=arguments,m=c[c.length-2],p=m>0?n.charAt(m-1):"";if(p==='"')return a;if(p===">"){const S=n.lastIndexOf("<",m);if(S!==-1&&n.substring(S,m).indexOf('contenteditable="false"')!==-1)return a}return'<span class="'+o+'" data-mce-content="'+e.dom.encode(c[0])+'">'+e.dom.encode(typeof c[1]=="string"?c[1]:c[0])+"</span>"},hv=(e,n,o)=>{let a=n.length,c=o.content;if(o.format!=="raw"){for(;a--;)c=c.replace(n[a],yx(e,c,I0(e)));o.content=c}},Jp=(e,n)=>Ho(e,o=>{const a=n.match(o);return a!==null&&a[0].length===n.length}),xC=e=>{const n="contenteditable",o=" "+dn.trim(F8(e))+" ",a=" "+dn.trim(I0(e))+" ",c=Xp(o),m=Xp(a),p=YI(e);p.length>0&&e.on("BeforeSetContent",S=>{hv(e,p,S)}),e.parser.addAttributeFilter("class",S=>{let T=S.length;for(;T--;){const V=S[T];c(V)?V.attr(n,"true"):m(V)&&V.attr(n,"false")}}),e.serializer.addAttributeFilter(n,S=>{let T=S.length;for(;T--;){const V=S[T];if(!c(V)&&!m(V))continue;const X=V.attr("data-mce-content");p.length>0&&X?Jp(p,X)?(V.name="#text",V.type=3,V.raw=!0,V.value=X):V.remove():V.attr(n,null)}})},pv=e=>Ht(Ye.fromDom(e.getBody()),"*[data-mce-caret]").map(n=>n.dom).getOrNull(),Bh=(e,n)=>{n.hasAttribute("data-mce-caret")&&(Op(n),e.selection.setRng(e.selection.getRng()),e.selection.scrollIntoView(n))},h1=(e,n)=>{const o=pv(e);if(o){if(n.type==="compositionstart"){n.preventDefault(),n.stopPropagation(),Bh(e,o);return}py(o)&&(Bh(e,o),e.undoManager.add())}},p1=e=>{e.on("keyup compositionstart",rt(h1,e))},xx=To,Fk=(e,n,o)=>BO(n,e,o,va,xg,xx),wC=(e,n,o)=>hB(n,e,o,m=>va(m)||tN(m),m=>xg(m)||Yy(m),xx),bv=e=>{const n=e.dom.create(Jl(e));return n.innerHTML='<br data-mce-bogus="1">',n},Fh=(e,n,o)=>{const a=go(e.getBody()),c=rt(MT,n===1?a.next:a.prev);if(o.collapsed){const m=e.dom.getParent(o.startContainer,"PRE");if(!m)return;if(!c(Dt.fromRangeStart(o))){const S=Ye.fromDom(bv(e));n===1?vt(Ye.fromDom(m),S):Dr(Ye.fromDom(m),S),e.selection.select(S.dom,!0),e.selection.collapse()}}},Qp=(e,n)=>{const o=n?Bl.Forwards:Bl.Backwards,a=e.selection.getRng();return Fk(o,e,a).orThunk(()=>(Fh(e,o,a),te.none()))},CC=(e,n)=>{const o=n?1:-1,a=e.selection.getRng();return wC(o,e,a).orThunk(()=>(Fh(e,o,a),te.none()))},SC=(e,n)=>{const o=n?e.getEnd(!0):e.getStart(!0);return P2(o)?!n:n},Bs=(e,n)=>Qp(e,SC(e.selection,n)).exists(o=>(Sg(e,o),!0)),$h=(e,n)=>CC(e,n).exists(o=>(Sg(e,o),!0)),Rm=(e,n)=>pB(e,n,n?xg:va),b1=(e,n)=>EO(e,!n).map(o=>{const a=o.toRange(),c=e.selection.getRng();return n?a.setStart(c.startContainer,c.startOffset):a.setEnd(c.endContainer,c.endOffset),a}).exists(o=>(Sg(e,o),!0)),$k=e=>Se(["figcaption"],hs(e)),eb=(e,n,o)=>{const a=rt(us,n);return Ti(Ye.fromDom(e.container()),c=>o.isBlock(hs(c)),a).filter($k)},wx=(e,n,o)=>n?lB(e.dom,o):aB(e.dom,o),XO=(e,n)=>{const o=Ye.fromDom(e.getBody()),a=Dt.fromRangeStart(e.selection.getRng());return eb(a,o,e.schema).exists(()=>{if(wx(o,n,a)){const m=Fa(e,o,n?Vr:Xa);return e.selection.setRng(m),!0}else return!1})},Vk=(e,n)=>e.selection.isCollapsed()?XO(e,n):!1,AH=(e,n,o)=>{const a=e.selection.getRng(),c=Dt.fromRangeStart(a);return e.getBody().firstChild===n&&aB(o,c)?(e.execCommand("InsertNewBlockBefore"),!0):!1},Cx=(e,n)=>{const o=e.selection.getRng(),a=Dt.fromRangeStart(o);return e.getBody().lastChild===n&&lB(n,a)?(e.execCommand("InsertNewBlockAfter"),!0):!1},OH=(e,n)=>n?te.from(e.dom.getParent(e.selection.getNode(),"details")).map(o=>Cx(e,o)).getOr(!1):te.from(e.dom.getParent(e.selection.getNode(),"summary")).bind(o=>te.from(e.dom.getParent(o,"details")).map(a=>AH(e,a,o))).getOr(!1),bc=(e,n)=>OH(e,n),v1={shiftKey:!1,altKey:!1,ctrlKey:!1,metaKey:!1,keyCode:0},RH=e=>Ke(e,n=>({...v1,...n})),DB=e=>Ke(e,n=>({...v1,...n})),zk=(e,n)=>n.keyCode===e.keyCode&&n.shiftKey===e.shiftKey&&n.altKey===e.altKey&&n.ctrlKey===e.ctrlKey&&n.metaKey===e.metaKey,PB=(e,n)=>Jo(RH(e),o=>zk(o,n)?[o]:[]),NB=(e,n)=>Jo(DB(e),o=>zk(o,n)?[o]:[]),No=(e,...n)=>()=>e.apply(null,n),vv=(e,n)=>An(PB(e,n),o=>o.action()),Hk=(e,n)=>mi(NB(e,n),o=>o.action()),yv=(e,n)=>{const o=n?Bl.Forwards:Bl.Backwards,a=e.selection.getRng();return BO(e,o,a,G0,qy,Lt).exists(c=>(Sg(e,c),!0))},Sx=(e,n)=>{const o=n?1:-1,a=e.selection.getRng();return hB(e,o,a,G0,qy,Lt).exists(c=>(Sg(e,c),!0))},JO=(e,n)=>pB(e,n,n?qy:G0),QO=ws.generate([{none:["current"]},{first:["current"]},{middle:["current","target"]},{last:["current"]}]),Df={...QO,none:e=>QO.none(e)},MB=(e,n)=>tR(e,n,Jt),tR=(e,n,o)=>Jo(ma(e),a=>qs(a,n)?o(a)?[a]:[]:tR(a,n,o)),LB=(e,n,o=Bn)=>{if(o(n))return te.none();if(Se(e,hs(n)))return te.some(n);const a=c=>qs(c,"table")||o(c);return Bc(n,e.join(","),a)},BB=(e,n)=>LB(["td","th"],e,n),IH=e=>MB(e,"th,td"),Et=(e,n)=>Bi(e,"table",n),io=(e,n,o,a,c=Jt)=>{const m=a===1;if(!m&&o<=0)return Df.first(e[0]);if(m&&o>=e.length-1)return Df.last(e[e.length-1]);{const p=o+a,S=e[p];return c(S)?Df.middle(n,S):io(e,n,p,a,c)}},Lo=(e,n)=>Et(e,n).bind(o=>{const a=IH(o);return no(a,m=>us(e,m)).map(m=>({index:m,all:a}))}),Er=(e,n,o)=>Lo(e,o).fold(()=>Df.none(e),c=>io(c.all,e,c.index,1,n)),xi=(e,n,o)=>Lo(e,o).fold(()=>Df.none(),c=>io(c.all,e,c.index,-1,n)),$i=e=>uS(e).filter(n=>n.trim().length!==0||n.indexOf(ea)>-1).isSome(),Di=e=>bl(e)&&Ra(e,"contenteditable")==="false",oa=["img","br"],_x=e=>$i(e)||Se(oa,hs(e))||Di(e),DH=e=>ji(e,_x),FB=(e,n)=>({left:e.left-n,top:e.top-n,right:e.right+n*2,bottom:e.bottom+n*2,width:e.width+n,height:e.height+n}),FK=(e,n)=>Jo(n,o=>{const a=FB(rg(o.getBoundingClientRect()),-1);return[{x:a.left,y:e(a),cell:o},{x:a.right,y:e(a),cell:o}]}),Bne=(e,n,o)=>pn(e,(a,c)=>a.fold(()=>te.some(c),m=>{const p=Math.sqrt(Math.abs(m.x-n)+Math.abs(m.y-o)),S=Math.sqrt(Math.abs(c.x-n)+Math.abs(c.y-o));return te.some(S<p?c:m)}),te.none()),$K=(e,n,o,a,c)=>{const m=bi(Ye.fromDom(o),"td,th,caption").map(S=>S.dom),p=Je(FK(e,m),S=>n(S,c));return Bne(p,a,c).map(S=>S.cell)},Fne=e=>e.bottom,$ne=e=>e.top,Vne=(e,n)=>e.y<n,zne=(e,n)=>e.y>n,Hne=rt($K,Fne,Vne),Une=rt($K,$ne,zne),Wne=(e,n)=>cn(n.getClientRects()).bind(o=>Hne(e,o.left,o.top)).bind(o=>Nk(cB(o),n)),Kne=(e,n)=>uo(n.getClientRects()).bind(o=>Une(e,o.left,o.top)).bind(o=>Nk(gH(o),n)),jne=(e,n,o)=>o.breakAt.exists(a=>e(n,a).breakAt.isSome()),Zne=e=>e.breakType===Om.Wrap&&e.positions.length===0,Gne=e=>e.breakType===Om.Br&&e.positions.length===1,VK=(e,n,o)=>{const a=e(n,o);return Zne(a)||!Ar(o.getNode())&&Gne(a)?!jne(e,n,a):a.breakAt.isNone()},qne=rt(VK,fC),Yne=rt(VK,mC),Xne=(e,n,o)=>{const a=Dt.fromRangeStart(n);return My(!e,o).exists(c=>c.isEqual(a))},Jne=(e,n,o,a)=>{const c=e.selection.getRng(),m=n?1:-1;return RT()&&Xne(n,c,o)?(si(m,e,o,!n,!1).each(p=>{Sg(e,p)}),!0):!1},Qne=(e,n,o)=>Wne(n,o).orThunk(()=>cn(o.getClientRects()).bind(a=>NO(iB(e,Dt.before(n)),a.left))).getOr(Dt.before(n)),eoe=(e,n,o)=>Kne(n,o).orThunk(()=>cn(o.getClientRects()).bind(a=>NO(Mk(e,Dt.after(n)),a.left))).getOr(Dt.after(n)),zK=(e,n)=>{const o=n.getNode(e);return mu(o)?te.some(o):te.none()},toe=(e,n,o)=>{n.undoManager.transact(()=>{const a=e?vt:Dr,c=Fa(n,Ye.fromDom(o),a);Sg(n,c)})},HK=(e,n,o)=>{const a=zK(!!n,o),c=n===!1;a.fold(()=>Sg(e,o.toRange()),m=>My(c,e.getBody()).filter(p=>p.isEqual(o)).fold(()=>Sg(e,o.toRange()),p=>toe(n,e,m)))},noe=(e,n,o,a)=>{const c=e.selection.getRng(),m=Dt.fromRangeStart(c),p=e.getBody();if(!n&&qne(a,m)){const S=Qne(p,o,m);return HK(e,n,S),!0}else if(n&&Yne(a,m)){const S=eoe(p,o,m);return HK(e,n,S),!0}else return!1},UK=(e,n,o)=>te.from(e.dom.getParent(e.selection.getNode(),"td,th")).bind(a=>te.from(e.dom.getParent(a,"table")).map(c=>o(e,n,c,a))).getOr(!1),WK=(e,n)=>UK(e,n,Jne),PH=(e,n)=>UK(e,n,noe),ooe=e=>{const n=Gb.exact(e,0,e,0);return _7(n)},KK=(e,n,o)=>o.fold(te.none,te.none,(a,c)=>DH(c).map(m=>ooe(m)),a=>(e.execCommand("mceTableInsertRowAfter"),jK(e,n,a))),jK=(e,n,o)=>KK(e,n,Er(o,Sr)),soe=(e,n,o)=>KK(e,n,xi(o,Sr)),ZK=(e,n)=>{const o=["table","li","dl"],a=Ye.fromDom(e.getBody()),c=S=>{const T=hs(S);return us(S,a)||Se(o,T)},m=e.selection.getRng(),p=Ye.fromDom(n?m.endContainer:m.startContainer);return BB(p,c).map(S=>(Et(S,c).each(X=>{e.model.table.clearSelectedCells(X.dom)}),e.selection.collapse(!n),(n?jK:soe)(e,c,S).each(X=>{e.selection.setRng(X)}),!0)).getOr(!1)},roe=(e,n,o)=>{const a=os.os.isMacOS()||os.os.isiOS();vv([{keyCode:On.RIGHT,action:No(Bs,e,!0)},{keyCode:On.LEFT,action:No(Bs,e,!1)},{keyCode:On.UP,action:No($h,e,!1)},{keyCode:On.DOWN,action:No($h,e,!0)},...a?[{keyCode:On.UP,action:No(b1,e,!1),metaKey:!0,shiftKey:!0},{keyCode:On.DOWN,action:No(b1,e,!0),metaKey:!0,shiftKey:!0}]:[],{keyCode:On.RIGHT,action:No(WK,e,!0)},{keyCode:On.LEFT,action:No(WK,e,!1)},{keyCode:On.UP,action:No(PH,e,!1)},{keyCode:On.DOWN,action:No(PH,e,!0)},{keyCode:On.UP,action:No(PH,e,!1)},{keyCode:On.UP,action:No(bc,e,!1)},{keyCode:On.DOWN,action:No(bc,e,!0)},{keyCode:On.RIGHT,action:No(yv,e,!0)},{keyCode:On.LEFT,action:No(yv,e,!1)},{keyCode:On.UP,action:No(Sx,e,!1)},{keyCode:On.DOWN,action:No(Sx,e,!0)},{keyCode:On.RIGHT,action:No(zO,e,n,!0)},{keyCode:On.LEFT,action:No(zO,e,n,!1)},{keyCode:On.RIGHT,ctrlKey:!a,altKey:a,action:No(CB,e,n)},{keyCode:On.LEFT,ctrlKey:!a,altKey:a,action:No(SB,e,n)},{keyCode:On.UP,action:No(Vk,e,!1)},{keyCode:On.DOWN,action:No(Vk,e,!0)}],o).each(c=>{o.preventDefault()})},ioe=(e,n)=>{e.on("keydown",o=>{o.isDefaultPrevented()||roe(e,n,o)})},tb=(e,n)=>({container:e,offset:n}),$B=br.DOM,VB=e=>n=>e===n?-1:0,aoe=e=>n=>e.isBlock(n)||Se(["BR","IMG","HR","INPUT"],n.nodeName)||e.getContentEditable(n)==="false",NH=(e,n,o)=>{if(on(e)&&n>=0)return te.some(tb(e,n));{const a=hm($B);return te.from(a.backwards(e,n,VB(e),o)).map(c=>tb(c.container,c.container.data.length))}},loe=(e,n,o)=>{if(on(e)&&n>=e.length)return te.some(tb(e,n));{const a=hm($B);return te.from(a.forwards(e,n,VB(e),o)).map(c=>tb(c.container,0))}},MH=(e,n,o)=>{if(!on(e))return te.none();const a=e.data;if(n>=0&&n<=a.length)return te.some(tb(e,n));{const c=hm($B);return te.from(c.backwards(e,n,VB(e),o)).bind(m=>{const p=m.container.data;return MH(m.container,n+p.length,o)})}},GK=(e,n,o)=>{if(!on(e))return te.none();const a=e.data;if(n<=a.length)return te.some(tb(e,n));{const c=hm($B);return te.from(c.forwards(e,n,VB(e),o)).bind(m=>GK(m.container,n-a.length,o))}},LH=(e,n,o,a,c)=>{const m=hm(e,aoe(e));return te.from(m.backwards(n,o,a,c))},coe=e=>e.collapsed&&on(e.startContainer),uoe=e=>mc(e.toString().replace(/\u00A0/g," ")),qK=e=>e!==""&&` \f
\r	\v`.indexOf(e)!==-1,doe=(e,n)=>e.substring(n.length),foe=(e,n,o,a=!1)=>{let c;const m=o.charAt(0);for(c=n-1;c>=0;c--){const p=e.charAt(c);if(!a&&qK(p))return te.none();if(m===p&&Vs(e,o,c,n))break}return te.some(c)},BH=(e,n,o,a=!1)=>{if(!coe(n))return te.none();const c={text:"",offset:0},m=(S,T,V)=>(c.text=V+c.text,c.offset+=T,foe(c.text,c.offset,o,a).getOr(T)),p=e.getParent(n.startContainer,e.isBlock)||e.getRoot();return LH(e,n.startContainer,n.startOffset,m,p).bind(S=>{const T=n.cloneRange();if(T.setStart(S.container,S.offset),T.setEnd(n.endContainer,n.endOffset),T.collapsed)return te.none();const V=uoe(T);return V.lastIndexOf(o)!==0?te.none():te.some({text:doe(V,o),range:T,trigger:o})})},moe=e=>e.nodeType===Qd,goe=e=>e.nodeType===Pl,YK=e=>{if(moe(e))return tb(e,e.data.length);{const n=e.childNodes;return n.length>0?YK(n[n.length-1]):tb(e,n.length)}},XK=(e,n)=>{const o=e.childNodes;return o.length>0&&n<o.length?XK(o[n],0):o.length>0&&goe(e)&&o.length===n?YK(o[o.length-1]):tb(e,n)},hoe=(e,n)=>{var o;const a=(o=e.getParent(n.container,e.isBlock))!==null&&o!==void 0?o:e.getRoot();return LH(e,n.container,n.offset,(c,m)=>m===0?-1:m,a).filter(c=>{const m=c.container.data.charAt(c.offset-1);return!qK(m)}).isSome()},poe=e=>n=>{const o=XK(n.startContainer,n.startOffset);return!hoe(e,o)},boe=(e,n,o)=>mi(o.triggers,a=>BH(e,n,a)),voe=(e,n)=>{const o=n(),a=e.selection.getRng();return boe(e.dom,a,o).bind(c=>JK(e,n,c))},JK=(e,n,o,a={})=>{var c;const m=n(),S=(c=e.selection.getRng().startContainer.nodeValue)!==null&&c!==void 0?c:"",T=Je(m.lookupByTrigger(o.trigger),X=>o.text.length>=X.minChars&&X.matches.getOrThunk(()=>poe(e.dom))(o.range,S,o.text));if(T.length===0)return te.none();const V=Promise.all(Ke(T,X=>X.fetch(o.text,X.maxResults,a).then(ae=>({matchText:o.text,items:ae,columns:X.columns,onAction:X.onAction,highlightOn:X.highlightOn}))));return te.some({lookupData:V,context:o})};var nb;(function(e){e[e.Error=0]="Error",e[e.Value=1]="Value"})(nb||(nb={}));const FH=(e,n,o)=>e.stype===nb.Error?n(e.serror):o(e.svalue),yoe=e=>{const n=[],o=[];return xe(e,a=>{FH(a,c=>o.push(c),c=>n.push(c))}),{values:n,errors:o}},xoe=(e,n)=>e.stype===nb.Error?{stype:nb.Error,serror:n(e.serror)}:e,woe=(e,n)=>e.stype===nb.Value?{stype:nb.Value,svalue:n(e.svalue)}:e,Coe=(e,n)=>e.stype===nb.Value?n(e.svalue):e,Soe=(e,n)=>e.stype===nb.Error?n(e.serror):e,QK=e=>({stype:nb.Value,svalue:e}),ej=e=>({stype:nb.Error,serror:e}),Ec={fromResult:e=>e.fold(ej,QK),toResult:e=>FH(e,bo.error,bo.value),svalue:QK,partition:yoe,serror:ej,bind:Coe,bindError:Soe,map:woe,mapError:xoe,fold:FH},$H=e=>q(e)&&tn(e).length>100?" removed due to size":JSON.stringify(e,null,2),_oe=e=>{const n=e.length>10?e.slice(0,10).concat([{path:[],getErrorInfo:ft("... (only showing first ten failures)")}]):e;return Ke(n,o=>"Failed path: ("+o.path.join(" > ")+`)
`+o.getErrorInfo())},zB=(e,n)=>Ec.serror([{path:e,getErrorInfo:n}]),koe=(e,n,o)=>zB(e,()=>'Could not find valid *required* value for "'+n+'" in '+$H(o)),Eoe=(e,n)=>zB(e,()=>'Choice schema did not contain choice key: "'+n+'"'),Toe=(e,n,o)=>zB(e,()=>'The chosen schema: "'+o+'" did not exist in branches: '+$H(n)),Aoe=(e,n)=>zB(e,ft(n)),Ooe=(e,n,o,a)=>Zs(o,a).fold(()=>Toe(e,o,a),m=>m.extract(e.concat(["branch: "+a]),n)),Roe=(e,n)=>({extract:(c,m)=>Zs(m,e).fold(()=>Eoe(c,e),S=>Ooe(c,m,n,S)),toString:()=>"chooseOn("+e+"). Possible values: "+tn(n)}),Ioe=(e,n)=>n,Doe=(e,n)=>he(e)&&he(n)?HB(e,n):n,tj=e=>(...n)=>{if(n.length===0)throw new Error("Can't merge zero objects");const o={};for(let a=0;a<n.length;a++){const c=n[a];for(const m in c)So(c,m)&&(o[m]=e(o[m],c[m]))}return o},HB=tj(Doe),nj=tj(Ioe),oj=()=>({tag:"required",process:{}}),Poe=e=>({tag:"defaultedThunk",process:e}),sj=e=>Poe(ft(e)),Noe=()=>({tag:"option",process:{}}),Moe=(e,n)=>e.length>0?Ec.svalue(HB(n,nj.apply(void 0,e))):Ec.svalue(n),rj=e=>Ft(Ec.serror,co)(e),Loe={consolidateObj:(e,n)=>{const o=Ec.partition(e);return o.errors.length>0?rj(o.errors):Moe(o.values,n)},consolidateArr:e=>{const n=Ec.partition(e);return n.errors.length>0?rj(n.errors):Ec.svalue(n.values)}},Boe=(e,n,o,a)=>({tag:"field",key:e,newKey:n,presence:o,prop:a}),Foe=(e,n)=>({tag:"custom",newKey:e,instantiator:n}),ij=(e,n,o)=>{switch(e.tag){case"field":return n(e.key,e.newKey,e.presence,e.prop);case"custom":return o(e.newKey,e.instantiator)}},VH=e=>{const n=(a,c)=>Ec.bindError(e(c),m=>Aoe(a,m)),o=ft("val");return{extract:n,toString:o}},$oe=VH(Ec.svalue),Voe=(e,n,o,a)=>Zs(n,o).fold(()=>koe(e,o,n),a),aj=(e,n,o,a)=>{const c=Zs(e,n).getOrThunk(()=>o(e));return a(c)},zoe=(e,n,o)=>o(Zs(e,n)),Hoe=(e,n,o,a)=>{const c=Zs(e,n).map(m=>m===!0?o(e):m);return a(c)},Uoe=(e,n,o,a,c)=>{const m=S=>c.extract(n.concat([a]),S),p=S=>S.fold(()=>Ec.svalue(te.none()),T=>{const V=c.extract(n.concat([a]),T);return Ec.map(V,te.some)});switch(e.tag){case"required":return Voe(n,o,a,m);case"defaultedThunk":return aj(o,a,e.process,m);case"option":return zoe(o,a,p);case"defaultedOptionThunk":return Hoe(o,a,e.process,p);case"mergeWithThunk":return aj(o,a,ft({}),S=>{const T=HB(e.process(o),S);return m(T)})}},Woe=(e,n,o)=>{const a={},c=[];for(const m of o)ij(m,(p,S,T,V)=>{const X=Uoe(T,e,n,p,V);Ec.fold(X,ee=>{c.push(...ee)},ee=>{a[S]=ee})},(p,S)=>{a[p]=S(n)});return c.length>0?Ec.serror(c):Ec.svalue(a)},zH=e=>({extract:(a,c)=>Woe(a,c,e),toString:()=>`obj{
`+Ke(e,c=>ij(c,(m,p,S,T)=>m+" -> "+T.toString(),(m,p)=>"state("+m+")")).join(`
`)+"}"}),lj=e=>({extract:(a,c)=>{const m=Ke(c,(p,S)=>e.extract(a.concat(["["+S+"]"]),p));return Loe.consolidateArr(m)},toString:()=>"array("+e.toString()+")"}),Koe=e=>VH(n=>e(n).fold(Ec.serror,Ec.svalue)),joe=(e,n,o)=>{const a=n.extract([e],o);return Ec.mapError(a,c=>({input:o,errors:c}))},Zoe=(e,n,o)=>Ec.toResult(joe(e,n,o)),Goe=e=>`Errors: 
`+_oe(e.errors).join(`
`)+`

Input object: `+$H(e.input),cj=(e,n)=>Roe(e,Wl(n,zH)),qoe=ft($oe),UB=(e,n)=>VH(o=>{const a=typeof o;return e(o)?Ec.svalue(o):Ec.serror(`Expected type: ${n} but got: ${a}`)}),Yoe=UB(I,"number"),WB=UB(de,"string"),Xoe=UB(Ue,"boolean"),HH=UB(Te,"function"),nR=Boe,uj=Foe,Joe=e=>Koe(n=>Se(e,n)?bo.value(n):bo.error(`Unsupported value: "${n}", choose one of "${e.join(", ")}".`)),dj=(e,n)=>nR(e,e,oj(),n),fj=e=>dj(e,WB),mj=e=>dj(e,HH),Qoe=(e,n)=>nR(e,e,oj(),lj(n)),UH=(e,n)=>nR(e,e,Noe(),n),KB=e=>UH(e,WB),ese=e=>UH(e,HH),tse=(e,n)=>nR(e,e,sj(n),qoe()),Uk=(e,n,o)=>nR(e,e,sj(n),o),gj=(e,n)=>Uk(e,n,Yoe),nse=(e,n)=>Uk(e,n,WB),hj=(e,n,o)=>Uk(e,n,Joe(o)),WH=(e,n)=>Uk(e,n,Xoe),KH=(e,n)=>Uk(e,n,HH),ose=(e,n,o)=>Uk(e,n,lj(o)),sse=fj("type"),rse=mj("fetch"),jH=mj("onAction"),ise=KH("onSetup",()=>gt),ase=KB("text"),lse=KB("icon"),cse=KB("tooltip"),use=KB("label"),dse=WH("active",!1),fse=WH("enabled",!0),pj=WH("primary",!1),mse=e=>tse("columns",e),oR=e=>nse("type",e),gse=zH([sse,fj("trigger"),gj("minChars",1),mse(1),gj("maxResults",10),ese("matches"),rse,jH,ose("highlightOn",[],WB)]),hse=e=>Zoe("Autocompleter",gse,e),ZH=[fse,cse,lse,ase,ise],bj=[dse].concat(ZH),pse=[KH("predicate",Bn),hj("scope","node",["node","editor"]),hj("position","selection",["node","selection","line"])],bse=ZH.concat([oR("contextformbutton"),pj,jH,uj("original",Rn)]),vse=bj.concat([oR("contextformbutton"),pj,jH,uj("original",Rn)]),yse=ZH.concat([oR("contextformbutton")]),xse=bj.concat([oR("contextformtogglebutton")]),wse=cj("type",{contextformbutton:bse,contextformtogglebutton:vse});zH([oR("contextform"),KH("initValue",ft("")),use,Qoe("commands",wse),UH("launch",cj("type",{contextformbutton:yse,contextformtogglebutton:xse}))].concat(pse));const Cse=e=>{const n=e.ui.registry.getAll().popups,o=Wl(n,p=>hse(p).fold(S=>{throw new Error(Goe(S))},Rn)),a=Du(kl(o,p=>p.trigger)),c=Dc(o);return{dataset:o,triggers:a,lookupByTrigger:p=>Je(c,S=>S.trigger===p)}},Sse=(e,n)=>{const o=Rb(n.load,50);e.on("input",a=>{a.inputType==="insertCompositionText"&&!e.composing||o.throttle()}),e.on("keydown",a=>{const c=a.which;c===8?o.throttle():c===27?(o.cancel(),n.cancelIfNecessary()):(c===38||c===40)&&o.cancel()},!0),e.on("remove",o.cancel)},_se=e=>{const n=Ai(),o=Fi(!1),a=n.isSet,c=()=>{a()&&(u7(e),o.set(!1),n.clear())},m=ee=>{a()||n.set({trigger:ee.trigger,matchLength:ee.text.length})},p=ml(()=>Cse(e)),S=ee=>n.get().map(ae=>BH(e.dom,e.selection.getRng(),ae.trigger,!0).bind(we=>JK(e,p,we,ee))).getOrThunk(()=>voe(e,p)),T=ee=>{S(ee).fold(c,ae=>{m(ae.context),ae.lookupData.then(we=>{n.get().map(Ne=>{const ke=ae.context;Ne.trigger===ke.trigger&&(n.set({...Ne,matchLength:ke.text.length}),o.get()?(tA(e,{range:ke.range}),eA(e,{lookupData:we})):(o.set(!0),tA(e,{range:ke.range}),QT(e,{lookupData:we})))})})})},V=(ee,ae)=>{const we=ee.compareBoundaryPoints(window.Range.START_TO_START,ae),Ne=ee.compareBoundaryPoints(window.Range.END_TO_END,ae);return we>=0&&Ne<=0},X=()=>n.get().bind(({trigger:ee})=>{const ae=e.selection.getRng();return BH(e.dom,ae,ee,o.get()).filter(({range:we})=>V(ae,we)).map(({range:we})=>we)});e.addCommand("mceAutocompleterReload",(ee,ae)=>{const we=q(ae)?ae.fetchOptions:{};T(we)}),e.addCommand("mceAutocompleterClose",c),e.addCommand("mceAutocompleterRefreshActiveRange",()=>{X().each(ee=>{tA(e,{range:ee})})}),e.editorCommands.addQueryStateHandler("mceAutoCompleterInRange",()=>X().isSome()),Sse(e,{cancelIfNecessary:c,load:T})},kse=ca().browser.isSafari(),vj=e=>Ju(Ye.fromDom(e)),yj=(e,n)=>{var o;return e.startOffset===0&&e.endOffset===((o=n.textContent)===null||o===void 0?void 0:o.length)},jB=(e,n)=>te.from(e.getParent(n.container(),"details")),xj=(e,n)=>jB(e,n).isSome(),Ese=(e,n)=>{const o=te.from(e.getParent(n.startContainer,"details")),a=te.from(e.getParent(n.endContainer,"details"));if(o.isSome()||a.isSome()){const c=o.bind(m=>te.from(e.select("summary",m)[0]));return te.some({startSummary:c,startDetails:o,endDetails:a})}else return te.none()},Tse=(e,n)=>yo(n).exists(o=>o.isEqual(e)),Ase=(e,n)=>yf(n).exists(o=>Ar(o.getNode())&&td(n,o).exists(a=>a.isEqual(e))||o.isEqual(e)),Ose=(e,n)=>n.startSummary.exists(o=>Tse(e,o)),Rse=(e,n)=>n.startSummary.exists(o=>Ase(e,o)),Ise=(e,n)=>n.startDetails.exists(o=>td(o,e).forall(a=>n.startSummary.exists(c=>!c.contains(e.container())&&c.contains(a.container())))),Dse=(e,n,o)=>o.startDetails.exists(a=>Gc(e,n).forall(c=>!a.contains(c.container()))),wj=(e,n)=>{const o=n.getNode();Qe(o)||e.selection.setCursorLocation(o,n.offset())},Cj=(e,n,o)=>{const a=e.dom.getParent(n.container(),"details");if(a&&!a.open){const c=e.dom.select("summary",a)[0];c&&(o?yo(c):yf(c)).each(p=>wj(e,p))}else wj(e,n)},Pse=(e,n)=>{const o=T=>T.contains(e.startContainer),a=T=>T.contains(e.endContainer),c=n.startSummary.exists(o),m=n.startSummary.exists(a),p=n.startDetails.forall(T=>n.endDetails.forall(V=>T!==V));return(c||m)&&!(c&&m)||p},Sj=(e,n,o)=>{const{dom:a,selection:c}=e,m=e.getBody();if(o==="character"){const p=Dt.fromRangeStart(c.getRng()),S=a.getParent(p.container(),a.isBlock),T=jB(a,p),V=S&&a.isEmpty(S),X=_e(S==null?void 0:S.previousSibling),ee=_e(S==null?void 0:S.nextSibling);return V&&(n?ee:X)&&M0(!n,m,p).exists(Ne=>xj(a,Ne)&&!Xd(T,jB(a,Ne)))?!0:M0(n,m,p).fold(Bn,ae=>{const we=jB(a,ae);if(xj(a,ae)&&!Xd(T,we)){if(n||Cj(e,ae,!1),S&&V){if(n&&X)return!0;if(!n&&ee)return!0;Cj(e,ae,n),e.dom.remove(S)}return!0}else return!1})}else return!1},Nse=(e,n,o,a)=>{const m=e.selection.getRng(),p=Dt.fromRangeStart(m),S=e.getBody();return a==="selection"?Pse(m,n):o?Rse(p,n)||Dse(S,p,n):Ose(p,n)||Ise(p,n)},Mse=(e,n,o)=>Ese(e.dom,e.selection.getRng()).fold(()=>Sj(e,n,o),a=>Nse(e,a,n,o)||Sj(e,n,o)),Lse=(e,n,o)=>{const a=e.selection,c=a.getNode(),m=a.getRng(),p=Dt.fromRangeStart(m);return Qg(c)?(o==="selection"&&yj(m,c)||TN(n,p,c)?vj(c):e.undoManager.transact(()=>{const S=a.getSel();let{anchorNode:T,anchorOffset:V,focusNode:X,focusOffset:ee}=S??{};const ae=()=>{Ce(T)&&Ce(V)&&Ce(X)&&Ce(ee)&&(S==null||S.setBaseAndExtent(T,V,X,ee))},we=()=>{T=S==null?void 0:S.anchorNode,V=S==null?void 0:S.anchorOffset,X=S==null?void 0:S.focusNode,ee=S==null?void 0:S.focusOffset},Ne=($e,nt)=>{xe($e.childNodes,ut=>{Vy(ut)&&nt.appendChild(ut)})},ke=e.dom.create("span",{"data-mce-bogus":"1"});Ne(c,ke),c.appendChild(ke),ae(),(o==="word"||o==="line")&&(S==null||S.modify("extend",n?"right":"left",o)),!a.isCollapsed()&&yj(a.getRng(),ke)?vj(c):(e.execCommand(n?"ForwardDelete":"Delete"),we(),Ne(ke,c),ae()),e.dom.remove(ke)}),!0):!1},_C=(e,n,o)=>Mse(e,n,o)||kse&&Lse(e,n,o)?te.some(gt):te.none(),_j=e=>(n,o,a={})=>{const c=n.getBody(),m={bubbles:!0,composed:!0,data:null,isComposing:!1,detail:0,view:null,target:c,currentTarget:c,eventPhase:Event.AT_TARGET,originalTarget:c,explicitOriginalTarget:c,isTrusted:!1,srcElement:c,cancelable:!1,preventDefault:gt,inputType:o},p=sh(new InputEvent(e));return n.dispatch(e,{...p,...m,...a})},sR=_j("input"),ZB=_j("beforeinput"),kj=ca(),Ej=kj.os,Tj=Ej.isMacOS()||Ej.isiOS(),Bse=kj.browser.isFirefox(),Fse=(e,n,o)=>{const a=o.keyCode===On.BACKSPACE?"deleteContentBackward":"deleteContentForward",c=e.selection.isCollapsed(),m=c?"character":"selection",p=S=>c?S?"word":"line":"selection";Hk([{keyCode:On.BACKSPACE,action:No(Pt,e)},{keyCode:On.BACKSPACE,action:No(AO,e,!1)},{keyCode:On.DELETE,action:No(AO,e,!0)},{keyCode:On.BACKSPACE,action:No(kO,e,!1)},{keyCode:On.DELETE,action:No(kO,e,!0)},{keyCode:On.BACKSPACE,action:No(vC,e,n,!1)},{keyCode:On.DELETE,action:No(vC,e,n,!0)},{keyCode:On.BACKSPACE,action:No(Wp,e,!1)},{keyCode:On.DELETE,action:No(Wp,e,!0)},{keyCode:On.BACKSPACE,action:No(_C,e,!1,m)},{keyCode:On.DELETE,action:No(_C,e,!0,m)},...Tj?[{keyCode:On.BACKSPACE,altKey:!0,action:No(_C,e,!1,p(!0))},{keyCode:On.DELETE,altKey:!0,action:No(_C,e,!0,p(!0))},{keyCode:On.BACKSPACE,metaKey:!0,action:No(_C,e,!1,p(!1))}]:[{keyCode:On.BACKSPACE,ctrlKey:!0,action:No(_C,e,!1,p(!0))},{keyCode:On.DELETE,ctrlKey:!0,action:No(_C,e,!0,p(!0))}],{keyCode:On.BACKSPACE,action:No(RO,e,!1)},{keyCode:On.DELETE,action:No(RO,e,!0)},{keyCode:On.BACKSPACE,action:No(se,e,!1)},{keyCode:On.DELETE,action:No(se,e,!0)},{keyCode:On.BACKSPACE,action:No(CO,e,!1)},{keyCode:On.DELETE,action:No(CO,e,!0)},{keyCode:On.BACKSPACE,action:No(Ak,e,!1)},{keyCode:On.DELETE,action:No(Ak,e,!0)},{keyCode:On.BACKSPACE,action:No(C,e,!1)},{keyCode:On.DELETE,action:No(C,e,!0)},{keyCode:On.BACKSPACE,action:No(OO,e,!1)},{keyCode:On.DELETE,action:No(OO,e,!0)}],o).filter(S=>e.selection.isEditable()).each(S=>{o.preventDefault(),ZB(e,a).isDefaultPrevented()||(S(),sR(e,a))})},$se=(e,n,o)=>vv([{keyCode:On.BACKSPACE,action:No(FL,e)},{keyCode:On.DELETE,action:No(FL,e)},...Tj?[{keyCode:On.BACKSPACE,altKey:!0,action:No($,e)},{keyCode:On.DELETE,altKey:!0,action:No($,e)},...o?[{keyCode:Bse?224:91,action:No($,e)}]:[]]:[{keyCode:On.BACKSPACE,ctrlKey:!0,action:No($,e)},{keyCode:On.DELETE,ctrlKey:!0,action:No($,e)}]],n),Vse=(e,n)=>{let o=!1;e.on("keydown",a=>{o=a.keyCode===On.BACKSPACE,a.isDefaultPrevented()||Fse(e,n,a)}),e.on("keyup",a=>{a.isDefaultPrevented()||$se(e,a,o),o=!1})},zse=e=>{for(;e;){if(Un(e)||on(e)&&e.data&&/[\r\n\s]/.test(e.data))return e;e=e.nextSibling}return null},Wk=(e,n)=>{const o=e.dom,a=e.schema.getMoveCaretBeforeOnEnterElements();if(!n)return;if(/^(LI|DT|DD)$/.test(n.nodeName)){const m=zse(n.firstChild);m&&/^(UL|OL|DL)$/.test(m.nodeName)&&n.insertBefore(o.doc.createTextNode(ea),n.firstChild)}const c=o.createRng();if(n.normalize(),n.hasChildNodes()){const m=new Na(n,n);let p=n,S;for(;S=m.current();){if(on(S)){c.setStart(S,0),c.setEnd(S,0);break}if(a[S.nodeName.toLowerCase()]){c.setStartBefore(S),c.setEndBefore(S);break}p=S,S=m.next()}S||(c.setStart(p,0),c.setEnd(p,0))}else Ar(n)?n.nextSibling&&o.isBlock(n.nextSibling)?(c.setStartBefore(n),c.setEndBefore(n)):(c.setStartAfter(n),c.setEndAfter(n)):(c.setStart(n,0),c.setEnd(n,0));e.selection.setRng(c),Cf(e,c)},rR=(e,n)=>{const o=e.getRoot();let a,c=n;for(;c!==o&&c&&e.getContentEditable(c)!=="false";){if(e.getContentEditable(c)==="true"){a=c;break}c=c.parentNode}return c!==o?a:o},GH=e=>te.from(e.dom.getParent(e.selection.getStart(!0),e.dom.isBlock)),Hse=e=>GH(e).fold(ft(""),n=>n.nodeName.toUpperCase()),Use=e=>GH(e).filter(n=>dh(Ye.fromDom(n))).isSome(),qH=e=>{e.innerHTML='<br data-mce-bogus="1">'},Wse=(e,n,o)=>{const a=e.dom;te.from(o.style).map(a.parseStyle).each(T=>{const X={...Gm(Ye.fromDom(n)),...T};a.setStyles(n,X)});const c=te.from(o.class).map(T=>T.split(/\s+/)),m=te.from(n.className).map(T=>Je(T.split(/\s+/),V=>V!==""));da(c,m,(T,V)=>{const X=Je(V,ae=>!Se(T,ae)),ee=[...T,...X];a.setAttrib(n,"class",ee.join(" "))});const p=["style","class"],S=Ic(o,(T,V)=>!Se(p,V));a.setAttribs(n,S)},iR=(e,n)=>{if(Jl(e).toLowerCase()===n.tagName.toLowerCase()){const a=Mw(e);Wse(e,n,a)}},Aj=(e,n,o,a,c=!0,m,p)=>{const S=e.dom,T=e.schema,V=Jl(e),X=o?o.nodeName.toUpperCase():"";let ee=n;const ae=T.getTextInlineElements();let we;m||X==="TABLE"||X==="HR"?we=S.create(m||V,p||{}):we=o.cloneNode(!1);let Ne=we;if(!c)S.setAttrib(we,"style",null),S.setAttrib(we,"class",null);else do if(ae[ee.nodeName]){if(Od(ee)||Rd(ee))continue;const ke=ee.cloneNode(!1);S.setAttrib(ke,"id",""),we.hasChildNodes()?(ke.appendChild(we.firstChild),we.appendChild(ke)):(Ne=ke,we.appendChild(ke))}while((ee=ee.parentNode)&&ee!==a);return iR(e,we),qH(Ne),we},Kse=(e,n)=>e.dom.getParent(n,Jg),jse=(e,n,o)=>{let a=n;for(;a&&a!==e&&_e(a.nextSibling);){const c=a.parentElement;if(!c||!o(c))return Jg(c);a=c}return!1},Zse=(e,n,o)=>!n&&o.nodeName.toLowerCase()===Jl(e)&&e.dom.isEmpty(o)&&jse(e.getBody(),o,a=>So(e.schema.getTextBlockElements(),a.nodeName.toLowerCase())),Gse=(e,n,o)=>{var a,c,m;const p=n(Jl(e)),S=Kse(e,o);S&&(e.dom.insertAfter(p,S),Wk(e,p),((m=(c=(a=o.parentElement)===null||a===void 0?void 0:a.childNodes)===null||c===void 0?void 0:c.length)!==null&&m!==void 0?m:0)>1&&e.dom.remove(o))},qse=(e,n)=>e.firstChild&&e.firstChild.nodeName===n,Yse=e=>{var n;return((n=e.parentNode)===null||n===void 0?void 0:n.firstChild)===e},Oj=(e,n)=>{const o=e==null?void 0:e.parentNode;return Ce(o)&&o.nodeName===n},Rj=e=>Ce(e)&&/^(OL|UL|LI)$/.test(e.nodeName),YH=e=>Ce(e)&&/^(LI|DT|DD)$/.test(e.nodeName),Xse=e=>Rj(e)&&Rj(e.parentNode),GB=e=>{const n=e.parentNode;return YH(n)?n:e},qB=(e,n,o)=>{let a=e[o?"firstChild":"lastChild"];for(;a&&!Un(a);)a=a[o?"nextSibling":"previousSibling"];return a===n},Ij=e=>pn(kl(Gm(Ye.fromDom(e)),(n,o)=>`${o}: ${n};`),(n,o)=>n+o,""),Jse=(e,n,o,a,c)=>{const m=e.dom,p=e.selection.getRng(),S=o.parentNode;if(o===e.getBody()||!S)return;Xse(o)&&(c="LI");const T=YH(a)?Ij(a):void 0;let V=YH(a)&&T?n(c,{style:Ij(a)}):n(c);if(qB(o,a,!0)&&qB(o,a,!1))if(Oj(o,"LI")){const X=GB(o);m.insertAfter(V,X),Yse(o)?m.remove(X):m.remove(o)}else m.replace(V,o);else if(qB(o,a,!0))Oj(o,"LI")?(m.insertAfter(V,GB(o)),V.appendChild(m.doc.createTextNode(" ")),V.appendChild(o)):S.insertBefore(V,o),m.remove(a);else if(qB(o,a,!1))m.insertAfter(V,GB(o)),m.remove(a);else{o=GB(o);const X=p.cloneRange();X.setStartAfter(a),X.setEndAfter(o);const ee=X.extractContents();if(c==="LI"&&qse(ee,"LI")){const ae=Je(Ke(V.children,Ye.fromDom),Ve(ef("br")));V=ee.firstChild,m.insertAfter(ee,o),xe(ae,we=>Xa(Ye.fromDom(V),we)),T&&V.setAttribute("style",T)}else m.insertAfter(ee,o),m.insertAfter(V,o);m.remove(a)}Wk(e,V)},Qse=e=>{xe(sm(Ye.fromDom(e),Cr),n=>{const o=n.dom;o.nodeValue=mc(o.data)})},ere=(e,n)=>{const o=e.dom.getParent(n,"ol,ul,dl");return o!==null&&e.dom.getContentEditableParent(o)==="false"},tre=(e,n)=>n&&n.nodeName==="A"&&e.isEmpty(n),XH=(e,n)=>e.nodeName===n||e.previousSibling&&e.previousSibling.nodeName===n,JH=(e,n)=>Ce(n)&&e.isBlock(n)&&!/^(TD|TH|CAPTION|FORM)$/.test(n.nodeName)&&!/^(fixed|absolute)/i.test(n.style.position)&&e.isEditable(n.parentNode)&&e.getContentEditable(n)!=="false",nre=(e,n,o)=>{var a;const c=[];if(!o)return;let m=o;for(;m=m.firstChild;){if(e.isBlock(m))return;Un(m)&&!n[m.nodeName.toLowerCase()]&&c.push(m)}let p=c.length;for(;p--;)m=c[p],(!m.hasChildNodes()||m.firstChild===m.lastChild&&((a=m.firstChild)===null||a===void 0?void 0:a.nodeValue)===""||tre(e,m))&&e.remove(m)},QH=(e,n,o)=>on(n)?e?o===1&&n.data.charAt(o-1)===ta?0:o:o===n.data.length-1&&n.data.charAt(o)===ta?n.data.length:o:o,ore=e=>{const n=e.cloneRange();return n.setStart(e.startContainer,QH(!0,e.startContainer,e.startOffset)),n.setEnd(e.endContainer,QH(!1,e.endContainer,e.endOffset)),n},sre=e=>{let n=e;do on(n)&&(n.data=n.data.replace(/^[\r\n]+/,"")),n=n.firstChild;while(n)},rre=(e,n,o,a,c)=>{var m,p;const S=e.dom,T=(m=rR(S,a))!==null&&m!==void 0?m:S.getRoot();let V=S.getParent(a,S.isBlock);if(!V||!JH(S,V)){if(V=V||T,!V.hasChildNodes()){const we=S.create(n);return iR(e,we),V.appendChild(we),o.setStart(we,0),o.setEnd(we,0),we}let X=a;for(;X&&X.parentNode!==V;)X=X.parentNode;let ee;for(;X&&!S.isBlock(X);)ee=X,X=X.previousSibling;const ae=(p=ee==null?void 0:ee.parentElement)===null||p===void 0?void 0:p.nodeName;if(ee&&ae&&e.schema.isValidChild(ae,n.toLowerCase())){const we=ee.parentNode,Ne=S.create(n);for(iR(e,Ne),we.insertBefore(Ne,ee),X=ee;X&&!S.isBlock(X);){const ke=X.nextSibling;Ne.appendChild(X),X=ke}o.setStart(a,c),o.setEnd(a,c)}}return a},ire=(e,n)=>{n.normalize();const o=n.lastChild;(!o||Un(o)&&/^(left|right)$/gi.test(e.getStyle(o,"float",!0)))&&e.add(n,"br")},are=(e,n)=>{const o=fT(e);return ct(n)?!1:de(o)?Se(dn.explode(o),n.nodeName.toLowerCase()):o},Dj={insert:(e,n)=>{let o,a,c,m,p=!1;const S=e.dom,T=e.schema,V=T.getNonEmptyElements(),X=e.selection.getRng(),ee=Jl(e),ae=Ye.fromDom(X.startContainer),we=Fu(ae,X.startOffset),Ne=we.exists(Zt=>bl(Zt)&&!Sr(Zt)),ke=X.collapsed&&Ne,$e=(Zt,Hn)=>Aj(e,o,gn,qt,dT(e),Zt,Hn),nt=Zt=>{const Hn=QH(Zt,o,a);if(on(o)&&(Zt?Hn>0:Hn<o.data.length))return!1;if((o.parentNode===gn||o===gn)&&p&&!Zt||Zt&&Un(o)&&o===gn.firstChild)return!0;if(XH(o,"TABLE")||XH(o,"HR"))return p&&!Zt||!p&&Zt;const so=new Na(o,gn);on(o)&&(Zt&&Hn===0?so.prev():!Zt&&Hn===o.data.length&&so.next());let rs;for(;rs=so.current();){if(Un(rs)){if(!rs.getAttribute("data-mce-bogus")){const fs=rs.nodeName.toLowerCase();if(V[fs]&&fs!=="br")return!1}}else if(on(rs)&&!lc(rs.data))return!1;Zt?so.prev():so.next()}return!0},ut=()=>{let Zt;return/^(H[1-6]|PRE|FIGURE)$/.test(c)&&Pn!=="HGROUP"?Zt=$e(ee):Zt=$e(),are(e,m)&&JH(S,m)&&S.isEmpty(gn,void 0,{includeZwsp:!0})?Zt=S.split(m,gn):S.insertAfter(Zt,gn),Wk(e,Zt),Zt};Sh(S,X).each(Zt=>{X.setStart(Zt.startContainer,Zt.startOffset),X.setEnd(Zt.endContainer,Zt.endOffset)}),o=X.startContainer,a=X.startOffset;const at=!!(n&&n.shiftKey),kt=!!(n&&n.ctrlKey);Un(o)&&o.hasChildNodes()&&!ke&&(p=a>o.childNodes.length-1,o=o.childNodes[Math.min(a,o.childNodes.length-1)]||o,p&&on(o)?a=o.data.length:a=0);const qt=rR(S,o);if(!qt||ere(e,o))return;at||(o=rre(e,ee,X,o,a));let gn=S.getParent(o,S.isBlock)||S.getRoot();m=Ce(gn==null?void 0:gn.parentNode)?S.getParent(gn.parentNode,S.isBlock):null,c=gn?gn.nodeName.toUpperCase():"";const Pn=m?m.nodeName.toUpperCase():"";if(Pn==="LI"&&!kt){const Zt=m;gn=Zt,m=Zt.parentNode,c=Pn}if(Un(m)&&Zse(e,at,gn))return Gse(e,$e,gn);if(/^(LI|DT|DD)$/.test(c)&&Un(m)&&S.isEmpty(gn)){Jse(e,$e,m,gn,ee);return}if(!ke&&(gn===e.getBody()||!JH(S,gn)))return;const $t=gn.parentNode;let Rt;if(ke)Rt=$e(ee),we.fold(()=>{Vr(ae,Ye.fromDom(Rt))},Zt=>{Dr(Zt,Ye.fromDom(Rt))}),e.selection.setCursorLocation(Rt,0);else if(Db(gn))Rt=Op(gn),S.isEmpty(gn)&&qH(gn),iR(e,Rt),Wk(e,Rt);else if(nt(!1))Rt=ut();else if(nt(!0)&&$t){const Zt=Dt.fromRangeStart(X),Hn=Yy(Zt),so=Ye.fromDom(gn),fs=Y0(so,Zt,e.schema)?v_(so,Zt,e.schema).bind(cr=>te.from(cr.getNode())):te.none();Rt=$t.insertBefore($e(),gn);const Js=XH(gn,"HR")||Hn?Rt:fs.getOr(gn);Wk(e,Js)}else{const Zt=ore(X).cloneRange();Zt.setEndAfter(gn);const Hn=Zt.extractContents();Qse(Hn),sre(Hn),Rt=Hn.firstChild,S.insertAfter(Hn,gn),nre(S,V,Rt),ire(S,gn),S.isEmpty(gn)&&qH(gn),Rt.normalize(),S.isEmpty(Rt)?(S.remove(Rt),ut()):(iR(e,Rt),Wk(e,Rt))}S.setAttrib(Rt,"id",""),e.dispatch("NewBlock",{newBlock:Rt})},fakeEventName:"insertParagraph"},lre=(e,n,o)=>{const a=new Na(n,o);let c;const m=e.getNonEmptyElements();for(;c=a.next();)if(m[c.nodeName.toLowerCase()]||on(c)&&c.length>0)return!0;return!1},Pj=(e,n,o)=>{const a=e.dom.createRng();o?(a.setStartBefore(n),a.setEndBefore(n)):(a.setStartAfter(n),a.setEndAfter(n)),e.selection.setRng(a),Cf(e,a)},cre=(e,n)=>{const o=e.selection,a=e.dom,c=o.getRng();let m,p=!1;Sh(a,c).each(we=>{c.setStart(we.startContainer,we.startOffset),c.setEnd(we.endContainer,we.endOffset)});let S=c.startOffset,T=c.startContainer;if(Un(T)&&T.hasChildNodes()){const we=S>T.childNodes.length-1;T=T.childNodes[Math.min(S,T.childNodes.length-1)]||T,we&&on(T)?S=T.data.length:S=0}let V=a.getParent(T,a.isBlock);const X=V&&V.parentNode?a.getParent(V.parentNode,a.isBlock):null,ee=X?X.nodeName.toUpperCase():"",ae=!!(n&&n.ctrlKey);ee==="LI"&&!ae&&(V=X),on(T)&&S>=T.data.length&&(lre(e.schema,T,V||a.getRoot())||(m=a.create("br"),c.insertNode(m),c.setStartAfter(m),c.setEndAfter(m),p=!0)),m=a.create("br"),Ty(a,c,m),Pj(e,m,p),e.undoManager.add()},ure=(e,n)=>{const o=Ye.fromTag("br");Dr(Ye.fromDom(n),o),e.undoManager.add()},dre=(e,n)=>{mre(e.getBody(),n)||vt(Ye.fromDom(n),Ye.fromTag("br"));const o=Ye.fromTag("br");vt(Ye.fromDom(n),o),Pj(e,o.dom,!1),e.undoManager.add()},fre=e=>Ar(e.getNode()),mre=(e,n)=>fre(Dt.after(n))?!0:Gc(e,Dt.after(n)).map(o=>Ar(o.getNode())).getOr(!1),Nj=e=>e&&e.nodeName==="A"&&"href"in e,gre=e=>e.fold(Bn,Nj,Nj,Bn),hre=e=>{const n=rt(J0,e),o=Dt.fromRangeStart(e.selection.getRng());return Lh(n,e.getBody(),o).filter(gre)},pre=(e,n)=>{n.fold(gt,rt(ure,e),rt(dre,e),gt)},Mj={insert:(e,n)=>{const o=hre(e);o.isSome()?o.each(rt(pre,e)):cre(e,n)},fakeEventName:"insertLineBreak"},Lj=(e,n)=>GH(e).filter(o=>n.length>0&&qs(Ye.fromDom(o),n)).isSome(),bre=e=>Lj(e,RI(e)),vre=e=>Lj(e,II(e)),Im=ws.generate([{br:[]},{block:[]},{none:[]}]),yre=(e,n)=>vre(e),Bj=e=>(n,o)=>Use(n)===e,Fj=(e,n)=>(o,a)=>Hse(o)===e.toUpperCase()===n,xre=e=>{const n=rR(e.dom,e.selection.getStart());return ct(n)},aR=e=>Fj("pre",e),wre=()=>Fj("summary",!0),YB=e=>(n,o)=>cT(n)===e,Cre=(e,n)=>bre(e),XB=(e,n)=>n,Sre=e=>{const n=Jl(e),o=rR(e.dom,e.selection.getStart());return Ce(o)&&e.schema.isValidChild(o.nodeName,n)},_re=e=>{const n=e.selection.getRng(),o=Ye.fromDom(n.startContainer),c=Fu(o,n.startOffset).map(m=>bl(m)&&!Sr(m));return n.collapsed&&c.getOr(!0)},_g=(e,n)=>(o,a)=>pn(e,(m,p)=>m&&p(o,a),!0)?te.some(n):te.none(),kre=(e,n)=>qL([_g([yre],Im.none()),_g([aR(!0),xre],Im.none()),_g([wre()],Im.br()),_g([aR(!0),YB(!1),XB],Im.br()),_g([aR(!0),YB(!1)],Im.block()),_g([aR(!0),YB(!0),XB],Im.block()),_g([aR(!0),YB(!0)],Im.br()),_g([Bj(!0),XB],Im.br()),_g([Bj(!0)],Im.block()),_g([Cre],Im.br()),_g([XB],Im.br()),_g([Sre],Im.block()),_g([_re],Im.block())],[e,!!(n&&n.shiftKey)]).getOr(Im.none()),JB=(e,n,o)=>{n.selection.isCollapsed()||kN(n),!(Ce(o)&&ZB(n,e.fakeEventName).isDefaultPrevented())&&(e.insert(n,o),Ce(o)&&sR(n,e.fakeEventName))},$j=(e,n)=>{const o=()=>JB(Mj,e,n),a=()=>JB(Dj,e,n),c=kre(e,n);switch(uT(e)){case"linebreak":c.fold(o,o,gt);break;case"block":c.fold(a,a,gt);break;case"invert":c.fold(a,o,gt);break;default:c.fold(o,a,gt);break}},Vj=ca(),Ere=Vj.os.isiOS()&&Vj.browser.isSafari(),zj=(e,n)=>{n.isDefaultPrevented()||(n.preventDefault(),DV(e.undoManager),e.undoManager.transact(()=>{$j(e,n)}))},Tre=e=>{if(!e.collapsed)return!1;const n=e.startContainer;if(on(n)){const o=/^[\uAC00-\uD7AF\u1100-\u11FF\u3130-\u318F\uA960-\uA97F\uD7B0-\uD7FF]$/,a=n.data.charAt(e.startOffset-1);return o.test(a)}else return!1},Are=e=>{let n=te.none();const o=c=>{n=te.some(c.selection.getBookmark()),c.undoManager.add()},a=(c,m)=>{c.undoManager.undo(),n.fold(gt,p=>c.selection.moveToBookmark(p)),zj(c,m),n=te.none()};e.on("keydown",c=>{c.keyCode===On.ENTER&&(Ere&&Tre(e.selection.getRng())?o(e):zj(e,c))}),e.on("keyup",c=>{c.keyCode===On.ENTER&&n.each(()=>a(e,c))})},Ore=(e,n,o)=>{const a=os.os.isMacOS()||os.os.isiOS();vv([{keyCode:On.END,action:No(Rm,e,!0)},{keyCode:On.HOME,action:No(Rm,e,!1)},...a?[]:[{keyCode:On.HOME,action:No(b1,e,!1),ctrlKey:!0,shiftKey:!0},{keyCode:On.END,action:No(b1,e,!0),ctrlKey:!0,shiftKey:!0}],{keyCode:On.END,action:No(JO,e,!0)},{keyCode:On.HOME,action:No(JO,e,!1)},{keyCode:On.END,action:No(pC,e,!0,n)},{keyCode:On.HOME,action:No(pC,e,!1,n)}],o).each(c=>{o.preventDefault()})},Rre=(e,n)=>{e.on("keydown",o=>{o.isDefaultPrevented()||Ore(e,n,o)})},Ire=e=>{e.on("input",n=>{n.isComposing||q7(e)})},Dre=ca(),Pre=(e,n,o)=>{vv([{keyCode:On.PAGE_UP,action:No(pC,e,!1,n)},{keyCode:On.PAGE_DOWN,action:No(pC,e,!0,n)}],o)},Hj=e=>e.stopImmediatePropagation(),Uj=e=>e.keyCode===On.PAGE_UP||e.keyCode===On.PAGE_DOWN,Wj=(e,n,o)=>{o&&!e.get()?n.on("NodeChange",Hj,!0):!o&&e.get()&&n.off("NodeChange",Hj),e.set(o)},Nre=(e,n)=>{if(Dre.os.isMacOS())return;const o=Fi(!1);e.on("keydown",a=>{Uj(a)&&Wj(o,e,!0)}),e.on("keyup",a=>{a.isDefaultPrevented()||Pre(e,n,a),Uj(a)&&o.get()&&(Wj(o,e,!1),e.nodeChanged())})},Mre=e=>{e.on("beforeinput",n=>{(!e.selection.isEditable()||Me(n.getTargetRanges(),o=>!MP(e.dom,o)))&&n.preventDefault()})},Kj=(e,n)=>{const o=n.container(),a=n.offset();return on(o)?(o.insertData(a,e),te.some(Dt(o,a+e.length))):IS(n).map(c=>{const m=Ye.fromText(e);return n.isAtEnd()?vt(c,m):Dr(c,m),Dt(m.dom,e.length)})},jj=rt(Kj,ea),Zj=rt(Kj," "),Lre=(e,n,o)=>HA(e,n,o)?jj(n):Zj(n),Bre=e=>n=>n.fold(o=>td(e.dom,Dt.before(o)),o=>yo(o),o=>yf(o),o=>Gc(e.dom,Dt.after(o))),Fre=(e,n,o)=>a=>HA(e,a,o)?jj(n):Zj(n),Gj=e=>n=>{e.selection.setRng(n.toRange()),e.nodeChanged()},$re=(e,n)=>e.isEditable(e.getParent(n,"summary")),Vre=e=>{const n=Dt.fromRangeStart(e.selection.getRng()),o=Ye.fromDom(e.getBody());if(e.selection.isCollapsed()){const a=rt(J0,e),c=Dt.fromRangeStart(e.selection.getRng());return Lh(a,e.getBody(),c).bind(Bre(o)).map(m=>()=>Fre(o,n,e.schema)(m).each(Gj(e)))}else return te.none()},zre=e=>{const n=()=>{const o=Ye.fromDom(e.getBody());e.selection.isCollapsed()||e.getDoc().execCommand("Delete");const a=Dt.fromRangeStart(e.selection.getRng());Lre(o,a,e.schema).each(Gj(e))};return Yf(os.browser.isFirefox()&&e.selection.isEditable()&&$re(e.dom,e.selection.getRng().startContainer),n)},Hre=(e,n)=>{Hk([{keyCode:On.SPACEBAR,action:No(Vre,e)},{keyCode:On.SPACEBAR,action:No(zre,e)}],n).each(o=>{n.preventDefault(),ZB(e,"insertText",{data:" "}).isDefaultPrevented()||(o(),sR(e,"insertText",{data:" "}))})},Ure=e=>{e.on("keydown",n=>{n.isDefaultPrevented()||Hre(e,n)})},Wre=e=>tD(e)?[{keyCode:On.TAB,action:No(ZK,e,!0)},{keyCode:On.TAB,shiftKey:!0,action:No(ZK,e,!1)}]:[],Kre=(e,n)=>{vv([...Wre(e)],n).each(o=>{n.preventDefault()})},jre=e=>{e.on("keydown",n=>{n.isDefaultPrevented()||Kre(e,n)})},Zre=e=>{if(e.addShortcut("Meta+P","","mcePrint"),_se(e),Mh(e))return Fi(null);{const n=wB(e);return Mre(e),p1(e),ioe(e,n),Vse(e,n),Are(e),Ure(e),Ire(e),jre(e),Rre(e,n),Nre(e,n),n}};class Gre{constructor(n){this.lastPath=[],this.editor=n;let o;const a=this;"onselectionchange"in n.getDoc()||n.on("NodeChange click mouseup keyup focus",c=>{const m=n.selection.getRng(),p={startContainer:m.startContainer,startOffset:m.startOffset,endContainer:m.endContainer,endOffset:m.endOffset};(c.type==="nodechange"||!h2(p,o))&&n.dispatch("SelectionChange"),o=p}),n.on("contextmenu",()=>{Wy(n),n.dispatch("SelectionChange")}),n.on("SelectionChange",()=>{const c=n.selection.getStart(!0);c&&Fy(n)&&!a.isSameElementPath(c)&&n.dom.isChildOf(c,n.getBody())&&n.nodeChanged({selectionChange:!0})}),n.on("mouseup",c=>{!c.isDefaultPrevented()&&Fy(n)&&(n.selection.getNode().nodeName==="IMG"?sd.setEditorTimeout(n,()=>{n.nodeChanged()}):n.nodeChanged())})}nodeChanged(n={}){const o=this.editor.selection;let a;if(this.editor.initialized&&o&&!O8(this.editor)&&!this.editor.mode.isReadOnly()){const c=this.editor.getBody();a=o.getStart(!0)||c,(a.ownerDocument!==this.editor.getDoc()||!this.editor.dom.isChildOf(a,c))&&(a=c);const m=[];this.editor.dom.getParent(a,p=>p===c?!0:(m.push(p),!1)),this.editor.dispatch("NodeChange",{...n,element:a,parents:m})}}isSameElementPath(n){let o;const a=this.editor,c=sr(a.dom.getParents(n,Jt,a.getBody()));if(c.length===this.lastPath.length){for(o=c.length;o>=0&&c[o]===this.lastPath[o];o--);if(o===-1)return this.lastPath=c,!0}return this.lastPath=c,!1}}const qj=Ml("image"),qre=e=>{const n=e;return te.from(n[qj])},Yre=(e,n)=>{const o=e;o[qj]=n},e9=Ml("event"),Xre=e=>{const n=e;return te.from(n[e9])},QB=e=>n=>{const o=n;o[e9]=e},Jre=(e,n)=>QB(n)(e),Yj=QB(0),Qre=QB(2),eie=QB(1),tie=(e=>n=>{const o=n;return te.from(o[e9]).exists(a=>a===e)})(0),nie=()=>Object.freeze({length:0,item:e=>null}),t9=Ml("mode"),oie=e=>{const n=e;return te.from(n[t9])},e6=e=>n=>{const o=n;o[t9]=e},Xj=(e,n)=>e6(n)(e),Jj=e6(0),n9=e6(2),sie=e6(1),Qj=e=>n=>{const o=n;return te.from(o[t9]).exists(a=>a===e)},Kk=Qj(0),eZ=Qj(1),rie=(e,n)=>({...n,get length(){return n.length},add:(o,a)=>{if(Kk(e))if(de(o)){if(!Qe(a))return n.add(o,a)}else return n.add(o);return null},remove:o=>{Kk(e)&&n.remove(o)},clear:()=>{Kk(e)&&n.clear()}}),iie=["none","copy","link","move"],aie=["none","copy","copyLink","copyMove","link","linkMove","move","all","uninitialized"],o9=()=>{const e=new window.DataTransfer;let n="move",o="all";const a={get dropEffect(){return n},set dropEffect(c){Se(iie,c)&&(n=c)},get effectAllowed(){return o},set effectAllowed(c){tie(a)&&Se(aie,c)&&(o=c)},get items(){return rie(a,e.items)},get files(){return eZ(a)?nie():e.files},get types(){return e.types},setDragImage:(c,m,p)=>{Kk(a)&&(Yre(a,{image:c,x:m,y:p}),e.setDragImage(c,m,p))},getData:c=>eZ(a)?"":e.getData(c),setData:(c,m)=>{Kk(a)&&e.setData(c,m)},clearData:c=>{Kk(a)&&e.clearData(c)}};return Jj(a),a},lie=e=>{const n=o9(),o=oie(e);return n9(e),Yj(n),n.dropEffect=e.dropEffect,n.effectAllowed=e.effectAllowed,qre(e).each(a=>n.setDragImage(a.image,a.x,a.y)),xe(e.types,a=>{a!=="Files"&&n.setData(a,e.getData(a))}),xe(e.files,a=>n.items.add(a)),Xre(e).each(a=>{Jre(n,a)}),o.each(a=>{Xj(e,a),Xj(n,a)}),n},cie=e=>{const n=e.getData("text/html");return n===""?te.none():te.some(n)},tZ=(e,n)=>e.setData("text/html",n),nZ="x-tinymce/html",t6=ft(nZ),s9="<!-- "+nZ+" -->",uie=e=>s9+e,die=e=>e.replace(s9,""),oZ=e=>e.indexOf(s9)!==-1,fie=e=>!/<(?:\/?(?!(?:div|p|br|span)>)\w+|(?:(?!(?:span style="white-space:\s?pre;?">)|br\s?\/>))\w+\s[^>]+)>/i.test(e),mie=(e,n)=>{let o="<"+e;const a=kl(n,(c,m)=>m+'="'+pp.encodeAllRaw(c)+'"');return a.length&&(o+=" "+a.join(" ")),o+">"},gie=(e,n,o)=>{const a=e.split(/\n\n/),c=mie(n,o),m="</"+n+">",p=Ke(a,T=>T.split(/\n/).join("<br />")),S=T=>c+T+m;return p.length===1?p[0]:Ke(p,S).join("")},sZ="%MCEPASTEBIN%",hie=(e,n)=>{const{dom:o,selection:a}=e,c=e.getBody();n.set(a.getRng());const m=o.add(e.getBody(),"div",{id:"mcepastebin",class:"mce-pastebin",contentEditable:!0,"data-mce-bogus":"all",style:"position: fixed; top: 50%; width: 10px; height: 10px; overflow: hidden; opacity: 0"},sZ);os.browser.isFirefox()&&o.setStyle(m,"left",o.getStyle(c,"direction",!0)==="rtl"?65535:-65535),o.bind(m,"beforedeactivate focusin focusout",p=>{p.stopPropagation()}),m.focus(),a.select(m,!0)},pie=(e,n)=>{const o=e.dom;if(r9(e)){let a;const c=n.get();for(;a=r9(e);)o.remove(a),o.unbind(a);c&&e.selection.setRng(c)}n.set(null)},r9=e=>e.dom.get("mcepastebin"),bie=e=>Ce(e)&&e.id==="mcepastebin",vie=e=>{const n=e.dom,o=(p,S)=>{p.appendChild(S),n.remove(S,!0)},[a,...c]=Je(e.getBody().childNodes,bie);xe(c,p=>{o(a,p)});const m=n.select("div[id=mcepastebin]",a);for(let p=m.length-1;p>=0;p--){const S=n.create("div");a.insertBefore(S,m[p]),o(S,m[p])}return a?a.innerHTML:""},rZ=e=>e===sZ,yie=e=>{const n=Fi(null);return{create:()=>hie(e,n),remove:()=>pie(e,n),getEl:()=>r9(e),getHtml:()=>vie(e),getLastRng:n.get}},iZ=(e,n)=>(dn.each(n,o=>{ge(o,RegExp)?e=e.replace(o,""):e=e.replace(o[0],o[1])}),e),xie=e=>{const n=qu(),o=lx({},n);let a="";const c=n.getVoidElements(),m=dn.makeMap("script noscript style textarea video audio iframe object"," "),p=n.getBlockElements(),S=T=>{const V=T.name,X=T;if(V==="br"){a+=`
`;return}if(V!=="wbr"){if(c[V]&&(a+=" "),m[V]){a+=" ";return}if(T.type===3&&(a+=T.value),!(T.name in n.getVoidElements())){let ee=T.firstChild;if(ee)do S(ee);while(ee=ee.next)}p[V]&&X.next&&(a+=`
`,V==="p"&&(a+=`
`))}};return e=iZ(e,[/<!\[[^\]]+\]>/g]),S(o.parse(e)),a},aZ=e=>(e=iZ(e,[/^[\s\S]*<body[^>]*>\s*|\s*<\/body[^>]*>[\s\S]*$/ig,/<!--StartFragment-->|<!--EndFragment-->/g,[/( ?)<span class="Apple-converted-space">\u00a0<\/span>( ?)/g,(o,a,c)=>!a&&!c?" ":ea],/<br class="Apple-interchange-newline">/g,/<br>$/i]),e),wie=e=>{let n=0;return()=>e+n++},Cie=e=>{const n=e.toLowerCase(),o={jpg:"jpeg",jpe:"jpeg",jfi:"jpeg",jif:"jpeg",jfif:"jpeg",pjpeg:"jpeg",pjp:"jpeg",svg:"svg+xml"};return dn.hasOwn(o,n)?"image/"+o[n]:"image/"+n},Sie=(e,n)=>{const o=lx({sanitize:JI(e),sandbox_iframes:kT(e),sandbox_iframes_exclusions:_S(e),convert_unsafe_embeds:oD(e)},e.schema);o.addNodeFilter("meta",c=>{dn.each(c,m=>{m.remove()})});const a=o.parse(n,{forced_root_block:!1,isRootContent:!0});return zp({validate:!0},e.schema).serialize(a)},lZ=(e,n)=>({content:e,cancelled:n}),_ie=(e,n,o)=>{const a=e.dom.create("div",{style:"display:none"},n),c=GS(e,a,o);return lZ(c.node.innerHTML,c.isDefaultPrevented())},kie=(e,n,o)=>{const a=d2(e,n,o),c=Sie(e,a.content);return e.hasEventListeners("PastePostProcess")&&!a.isDefaultPrevented()?_ie(e,c,o):lZ(c,a.isDefaultPrevented())},Eie=(e,n,o)=>kie(e,n,o),i9=(e,n)=>(e.insertContent(n,{merge:M8(e),paste:!0}),!0),a9=e=>/^https?:\/\/[\w\-\/+=.,!;:&%@^~(){}?#]+$/i.test(e),Tie=(e,n)=>a9(n)&&Me(_T(e),o=>Be(n.toLowerCase(),`.${o.toLowerCase()}`)),Aie=(e,n,o)=>(e.undoManager.extra(()=>{o(e,n)},()=>{e.insertContent('<img src="'+n+'">')}),!0),Oie=(e,n,o)=>(e.undoManager.extra(()=>{o(e,n)},()=>{e.execCommand("mceInsertLink",!1,n)}),!0),Rie=(e,n,o)=>!e.selection.isCollapsed()&&a9(n)?Oie(e,n,o):!1,Iie=(e,n,o)=>Tie(e,n)?Aie(e,n,o):!1,Die=(e,n)=>{dn.each([Rie,Iie,i9],o=>!o(e,n,i9))},Pie=(e,n,o)=>{o||!O0(e)?i9(e,n):Die(e,n)},Nie=wie("mceclip"),Mie=e=>{const n=o9();return tZ(n,e),n9(n),n},cZ=(e,n,o,a,c)=>{const m=Eie(e,n,o);if(!m.cancelled){const p=m.content,S=()=>Pie(e,p,a);c?ZB(e,"insertFromPaste",{dataTransfer:Mie(p)}).isDefaultPrevented()||(S(),sR(e,"insertFromPaste")):S()}},n6=(e,n,o,a)=>{const c=o||oZ(n);cZ(e,die(n),c,!1,a)},l9=(e,n,o)=>{const a=e.dom.encode(n).replace(/\r\n/g,`
`),c=up(a,qI(e)),m=gie(c,Jl(e),Mw(e));cZ(e,m,!1,!0,o)},uZ=e=>{const n={};if(e&&e.types)for(let o=0;o<e.types.length;o++){const a=e.types[o];try{n[a]=e.getData(a)}catch{n[a]=""}}return n},kx=(e,n)=>n in e&&e[n].length>0,dZ=e=>kx(e,"text/html")||kx(e,"text/plain"),Lie=(e,n)=>{const o=n.match(/([\s\S]+?)(?:\.[a-z0-9.]+)$/i);return Ce(o)?e.dom.encode(o[1]):void 0},Bie=(e,n,o,a)=>{const c=Nie(),m=Np(e)&&Ce(o.name),p=m?Lie(e,o.name):c,S=m?o.name:void 0,T=n.create(c,o,a,p,S);return n.add(T),T},Fie=(e,n)=>{ik(n.uri).each(({data:o,type:a,base64Encoded:c})=>{const m=c?o:btoa(o),p=n.file,S=e.editorUpload.blobCache,T=S.getByData(m,a),V=T??Bie(e,S,p,m);n6(e,`<img src="${V.blobUri()}">`,!1,!0)})},$ie=e=>e.type==="paste",Vie=e=>Promise.all(Ke(e,n=>k5(n).then(o=>({file:n,uri:o})))),zie=e=>{const n=_T(e);return o=>wr(o.type,"image/")&&Me(n,a=>Cie(a)===o.type)},Hie=(e,n)=>{const o=n.items?Jo($o(n.items),c=>c.kind==="file"?[c.getAsFile()]:[]):[],a=n.files?$o(n.files):[];return Je(o.length>0?o:a,zie(e))},fZ=(e,n,o)=>{const a=$ie(n)?n.clipboardData:n.dataTransfer;if(vh(e)&&a){const c=Hie(e,a);if(c.length>0)return n.preventDefault(),Vie(c).then(m=>{o&&e.selection.setRng(o),xe(m,p=>{Fie(e,p)})}),!0}return!1},Uie=e=>{var n,o;return os.os.isAndroid()&&((o=(n=e.clipboardData)===null||n===void 0?void 0:n.items)===null||o===void 0?void 0:o.length)===0},Wie=e=>On.metaKeyPressed(e)&&e.keyCode===86||e.shiftKey&&e.keyCode===45,c9=(e,n,o,a,c)=>{let m=aZ(o);const p=kx(n,t6())||oZ(o),S=!p&&fie(m),T=a9(m);(rZ(m)||!m.length||S&&!T)&&(a=!0),(a||T)&&(kx(n,"text/plain")&&S?m=n["text/plain"]:m=xie(m)),!rZ(m)&&(a?l9(e,m,c):n6(e,m,p,c))},Kie=(e,n,o)=>{let a;const c=()=>n.getLastRng()||e.selection.getRng();e.on("keydown",m=>{Wie(m)&&!m.isDefaultPrevented()&&(a=m.shiftKey&&m.keyCode===86)}),e.on("paste",m=>{if(m.isDefaultPrevented()||Uie(m))return;const p=o.get()==="text"||a;a=!1;const S=uZ(m.clipboardData);!dZ(S)&&fZ(e,m,c())||(kx(S,"text/html")?(m.preventDefault(),c9(e,S,S["text/html"],p,!0)):kx(S,"text/plain")&&kx(S,"text/uri-list")?(m.preventDefault(),c9(e,S,S["text/plain"],p,!0)):(n.create(),sd.setEditorTimeout(e,()=>{const T=n.getHtml();n.remove(),c9(e,S,T,p,!1)},0)))})},jie=e=>{const n=c=>wr(c,"webkit-fake-url"),o=c=>wr(c,"data:"),a=c=>{var m;return((m=c.data)===null||m===void 0?void 0:m.paste)===!0};e.parser.addNodeFilter("img",(c,m,p)=>{if(!vh(e)&&a(p))for(const S of c){const T=S.attr("src");de(T)&&!S.attr("data-mce-object")&&T!==os.transparentSrc&&(n(T)||!L8(e)&&o(T))&&S.remove()}})},Zie=(e,n,o)=>{Kie(e,n,o),jie(e)},Gie=(e,n)=>{n.get()==="text"?(n.set("html"),qS(e,!1)):(n.set("text"),qS(e,!0)),e.focus()},qie=(e,n)=>{e.addCommand("mceTogglePlainTextPaste",()=>{Gie(e,n)}),e.addCommand("mceInsertClipboardContent",(o,a)=>{a.html&&n6(e,a.html,a.internal,!1),a.text&&l9(e,a.text,!1)})},Yie=(e,n,o)=>{if(e)try{return e.clearData(),e.setData("text/html",n),e.setData("text/plain",o),e.setData(t6(),n),!0}catch{return!1}else return!1},mZ=(e,n,o,a)=>{Yie(e.clipboardData,n.html,n.text)?(e.preventDefault(),a()):o(n.html,a)},gZ=e=>(n,o)=>{const{dom:a,selection:c}=e,m=a.create("div",{contenteditable:"false","data-mce-bogus":"all"}),p=a.create("div",{contenteditable:"true"},n);a.setStyles(m,{position:"fixed",top:"0",left:"-3000px",width:"1000px",overflow:"hidden"}),m.appendChild(p),a.add(e.getBody(),m);const S=c.getRng();p.focus();const T=a.createRng();T.selectNodeContents(p),c.setRng(T),sd.setEditorTimeout(e,()=>{c.setRng(S),a.remove(m),o()},0)},hZ=e=>({html:uie(e.selection.getContent({contextual:!0})),text:e.selection.getContent({format:"text"})}),Xie=e=>!!e.dom.getParent(e.selection.getStart(),"td[data-mce-selected],th[data-mce-selected]",e.getBody()),pZ=e=>!e.selection.isCollapsed()||Xie(e),Jie=e=>n=>{!n.isDefaultPrevented()&&pZ(e)&&e.selection.isEditable()&&mZ(n,hZ(e),gZ(e),()=>{if(os.browser.isChromium()||os.browser.isFirefox()){const o=e.selection.getRng();sd.setEditorTimeout(e,()=>{e.selection.setRng(o),e.execCommand("Delete")},0)}else e.execCommand("Delete")})},Qie=e=>n=>{!n.isDefaultPrevented()&&pZ(e)&&mZ(n,hZ(e),gZ(e),gt)},eae=e=>{e.on("cut",Jie(e)),e.on("copy",Qie(e))},bZ=(e,n)=>{var o,a;return qb.getCaretRangeFromPoint((o=n.clientX)!==null&&o!==void 0?o:0,(a=n.clientY)!==null&&a!==void 0?a:0,e.getDoc())},tae=e=>{const n=e["text/plain"];return n?n.indexOf("file://")===0:!1},vZ=(e,n)=>{e.focus(),n&&e.selection.setRng(n)},nae=e=>Me(e.files,n=>/^image\//.test(n.type)),oae=(e,n,o,a)=>{const c=e.getParent(o,p=>hu(n,p));if(!_e(e.getParent(o,"summary")))return!0;if(c&&So(a,"text/html")){const p=new DOMParser().parseFromString(a["text/html"],"text/html").body;return!_e(p.querySelector(c.nodeName.toLowerCase()))}else return!1},sae=e=>{e.on("input",n=>{const o=a=>_e(a.querySelector("summary"));if(n.inputType==="deleteByDrag"){const a=Je(e.dom.select("details"),o);xe(a,c=>{Ar(c.firstChild)&&c.firstChild.remove();const m=e.dom.create("summary");m.appendChild(bm().dom),c.prepend(m)})}})},rae=(e,n)=>{hg(e)&&e.on("dragend dragover draggesture dragdrop drop drag",o=>{o.preventDefault(),o.stopPropagation()}),vh(e)||e.on("drop",o=>{const a=o.dataTransfer;a&&nae(a)&&o.preventDefault()}),e.on("drop",o=>{if(o.isDefaultPrevented())return;const a=bZ(e,o);if(ct(a))return;const c=uZ(o.dataTransfer),m=kx(c,t6());if((!dZ(c)||tae(c))&&fZ(e,o,a))return;const p=c[t6()],S=p||c["text/html"]||c["text/plain"],T=oae(e.dom,e.schema,a.startContainer,c),V=n.get();V&&!T||S&&(o.preventDefault(),sd.setEditorTimeout(e,()=>{e.undoManager.transact(()=>{(p||V&&T)&&e.execCommand("Delete"),vZ(e,a);const X=aZ(S);c["text/html"]?n6(e,X,m,!0):l9(e,X,!0)})}))}),e.on("dragstart",o=>{n.set(!0)}),e.on("dragover dragend",o=>{vh(e)&&!n.get()&&(o.preventDefault(),vZ(e,bZ(e,o))),o.type==="dragend"&&n.set(!1)}),sae(e)},iae=e=>{const n=c=>m=>{c(e,m)},o=N8(e);Te(o)&&e.on("PastePreProcess",n(o));const a=$w(e);Te(a)&&e.on("PastePostProcess",n(a))},aae=(e,n)=>{e.on("PastePreProcess",o=>{o.content=n(e,o.content,o.internal)})},lae=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi,yZ=e=>dn.trim(e).replace(lae,t0).toLowerCase(),cae=(e,n,o)=>{const a=GI(e);if(o||a==="all"||!xT(e))return n;const c=a?a.split(/[, ]/):[];if(c&&a!=="none"){const m=e.dom,p=e.selection.getNode();n=n.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,(S,T,V,X)=>{const ee=m.parseStyle(m.decode(V)),ae={};for(let Ne=0;Ne<c.length;Ne++){const ke=ee[c[Ne]];let $e=ke,nt=m.getStyle(p,c[Ne],!0);/color/.test(c[Ne])&&($e=yZ($e),nt=yZ(nt)),nt!==$e&&(ae[c[Ne]]=ke)}const we=m.serializeStyle(ae,"span");return we?T+' style="'+we+'"'+X:T+X})}else n=n.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,"$1$3");return n=n.replace(/(<[^>]+) data-mce-style="([^"]+)"([^>]*>)/gi,(m,p,S,T)=>p+' style="'+S+'"'+T),n},uae=e=>{(os.browser.isChromium()||os.browser.isSafari())&&aae(e,cae)},dae=e=>{const n=Fi(!1),o=Fi(R0(e)?"text":"html"),a=yie(e);uae(e),qie(e,o),iae(e),e.addQueryStateHandler("mceTogglePlainTextPaste",()=>o.get()==="text"),e.on("PreInit",()=>{eae(e),rae(e,n),Zie(e,a,o)})},fae=e=>{e.on("click",n=>{e.dom.getParent(n.target,"details")&&n.preventDefault()})},mae=e=>{e.parser.addNodeFilter("details",n=>{const o=SS(e);xe(n,a=>{o==="expanded"?a.attr("open","open"):o==="collapsed"&&a.attr("open",null)})}),e.serializer.addNodeFilter("details",n=>{const o=nD(e);xe(n,a=>{o==="expanded"?a.attr("open","open"):o==="collapsed"&&a.attr("open",null)})})},gae=e=>{fae(e),mae(e)},hae=Ar,xZ=on,pae=e=>To(e.dom),bae=e=>Kc(e.dom),wZ=e=>n=>us(Ye.fromDom(e),n),vae=(e,n,o)=>Ti(Ye.fromDom(e),a=>bae(a)||o.isBlock(hs(a)),wZ(n)).getOr(Ye.fromDom(n)).dom,CZ=(e,n)=>Ti(Ye.fromDom(e),pae,wZ(n)),SZ=(e,n,o)=>{const a=new Na(e,n),c=o?a.next.bind(a):a.prev.bind(a);let m=e;for(let p=o?e:c();p&&!hae(p);p=c())Sd(p)&&(m=p);return m},yae=(e,n,o)=>{const c=Dt.fromRangeStart(e).getNode(),m=vae(c,n,o),p=SZ(c,m,!1),S=SZ(c,m,!0),T=document.createRange();return CZ(p,m).fold(()=>{xZ(p)?T.setStart(p,0):T.setStartBefore(p)},V=>T.setStartBefore(V.dom)),CZ(S,m).fold(()=>{xZ(S)?T.setEnd(S,S.data.length):T.setEndAfter(S)},V=>T.setEndAfter(V.dom)),T},xae=e=>{const n=yae(e.selection.getRng(),e.getBody(),e.schema);e.selection.setRng(F_(n))},wae=e=>{e.on("mousedown",n=>{n.detail>=3&&(n.preventDefault(),xae(e))})};var jk;(function(e){e.Before="before",e.After="after"})(jk||(jk={}));const Cae=(e,n)=>Math.abs(e.left-n),Sae=(e,n)=>Math.abs(e.right-n),_ae=(e,n)=>e>=n.top&&e<=n.bottom,kae=(e,n)=>e.top<n.bottom&&e.bottom>n.top,Eae=(e,n)=>{const o=_w(e,n)/Math.min(e.height,n.height);return kae(e,n)&&o>.5},Tae=(e,n)=>{const o=Je(e,a=>_ae(n,a));return Pb(o).fold(()=>[[],e],a=>{const{pass:c,fail:m}=Fe(e,p=>Eae(p,a));return[c,m]})},Aae=(e,n)=>({node:e.node,position:Cae(e,n)<Sae(e,n)?jk.Before:jk.After}),Oae=(e,n,o)=>n>e.left&&n<e.right?0:Math.min(Math.abs(e.left-n),Math.abs(e.right-n)),u9=(e,n,o,a)=>{const c=ee=>Sd(ee.node)?te.some(ee):Un(ee.node)?u9($o(ee.node.childNodes),n,o,!1):te.none(),m=(ee,ae,we)=>c(ae).filter(Ne=>Math.abs(we(ee,n,o)-we(Ne,n,o))<2&&on(Ne.node)),p=(ee,ae)=>{const we=xs(ee,(Ne,ke)=>ae(Ne,n,o)-ae(ke,n,o));return mi(we,c).map(Ne=>a&&!on(Ne.node)&&we.length>1?m(Ne,we[1],ae).getOr(Ne):Ne)},[S,T]=Tae(mB(e),o),{pass:V,fail:X}=Fe(T,ee=>ee.top<o);return p(S,Oae).orThunk(()=>p(X,xy)).orThunk(()=>p(V,xy))},Rae=(e,n,o,a)=>{const c=(m,p)=>{const S=V=>Un(V)&&V.classList.contains("mce-drag-container"),T=Je(m.dom.childNodes,Ve(S));return p.fold(()=>u9(T,o,a,!0),V=>{const X=Je(T,ee=>ee!==V.dom);return u9(X,o,a,!0)}).orThunk(()=>(us(m,e)?te.none():of(m)).bind(X=>c(X,te.some(m))))};return c(n,te.none())},Iae=(e,n,o)=>{const a=Ye.fromDom(e),c=Cc(a),p=Ye.fromPoint(c,n,o).filter(S=>fa(a,S)).getOr(a);return Rae(a,p,n,o)},_Z=(e,n,o)=>Iae(e,n,o).filter(a=>Uw(a.node)).map(a=>Aae(a,n)),kZ=e=>{var n,o;const a=e.getBoundingClientRect(),c=e.ownerDocument,m=c.documentElement,p=c.defaultView;return{top:a.top+((n=p==null?void 0:p.scrollY)!==null&&n!==void 0?n:0)-m.clientTop,left:a.left+((o=p==null?void 0:p.scrollX)!==null&&o!==void 0?o:0)-m.clientLeft}},Dae=e=>e.inline?kZ(e.getBody()):{left:0,top:0},Pae=e=>{const n=e.getBody();return e.inline?{left:n.scrollLeft,top:n.scrollTop}:{left:0,top:0}},Nae=e=>{const n=e.getBody(),o=e.getDoc().documentElement,a={left:n.scrollLeft,top:n.scrollTop},c={left:n.scrollLeft||o.scrollLeft,top:n.scrollTop||o.scrollTop};return e.inline?a:c},Mae=(e,n)=>{if(n.target.ownerDocument!==e.getDoc()){const o=kZ(e.getContentAreaContainer()),a=Nae(e);return{left:n.pageX-o.left+a.left,top:n.pageY-o.top+a.top}}return{left:n.pageX,top:n.pageY}},Lae=(e,n,o)=>({pageX:o.left-e.left+n.left,pageY:o.top-e.top+n.top}),Bae=(e,n)=>Lae(Dae(e),Pae(e),Mae(e,n)),EZ=e=>({target:e,srcElement:e}),Fae=(e,n,o,a)=>({...n,dataTransfer:a,type:e,...EZ(o)}),$ae=(e,n,o)=>{const a=bt("Function not supported on simulated event.");return{bubbles:!0,cancelBubble:!1,cancelable:!0,composed:!1,currentTarget:null,defaultPrevented:!1,eventPhase:0,isTrusted:!0,returnValue:!1,timeStamp:0,type:e,composedPath:a,initEvent:a,preventDefault:gt,stopImmediatePropagation:gt,stopPropagation:gt,AT_TARGET:window.Event.AT_TARGET,BUBBLING_PHASE:window.Event.BUBBLING_PHASE,CAPTURING_PHASE:window.Event.CAPTURING_PHASE,NONE:window.Event.NONE,altKey:!1,button:0,buttons:0,clientX:0,clientY:0,ctrlKey:!1,metaKey:!1,movementX:0,movementY:0,offsetX:0,offsetY:0,pageX:0,pageY:0,relatedTarget:null,screenX:0,screenY:0,shiftKey:!1,x:0,y:0,detail:0,view:null,which:0,initUIEvent:a,initMouseEvent:a,getModifierState:a,dataTransfer:o,...EZ(n)}},Vae=(e,n)=>{const o=lie(e);return n==="dragstart"?(Yj(o),Jj(o)):n==="drop"?(Qre(o),n9(o)):(eie(o),sie(o)),o},zae=(e,n,o,a)=>{const c=Vae(o,e);return Qe(a)?$ae(e,n,c):Fae(e,a,n,c)},o6=32,Hae=100,s6=8,r6=16,TZ=To,Uae=Tw(TZ,Kc),Wae=(e,n,o)=>TZ(o)&&o!==n&&e.isEditable(o.parentElement),Kae=(e,n,o)=>ct(n)||n===o||e.dom.isChildOf(n,o)?!1:e.dom.isEditable(n),jae=(e,n,o,a)=>{const c=e.dom,m=n.cloneNode(!0);c.setStyles(m,{width:o,height:a}),c.setAttrib(m,"data-mce-selected",null);const p=c.create("div",{class:"mce-drag-container","data-mce-bogus":"all",unselectable:"on",contenteditable:"false"});return c.setStyles(p,{position:"absolute",opacity:.5,overflow:"hidden",border:0,padding:0,margin:0,width:o,height:a}),c.setStyles(m,{margin:0,boxSizing:"border-box"}),p.appendChild(m),p},Zae=(e,n)=>{e.parentNode!==n&&n.appendChild(e)},i6=(e,n)=>o=>()=>{const a=e==="left"?o.scrollX:o.scrollY;o.scroll({[e]:a+n,behavior:"smooth"})},AZ=i6("left",-o6),OZ=i6("left",o6),RZ=i6("top",-o6),IZ=i6("top",o6),Gae=(e,n,o,a,c,m,p,S,T,V,X,ee)=>{let ae=0,we=0;e.style.left=n.pageX+"px",e.style.top=n.pageY+"px",n.pageX+o>c&&(ae=n.pageX+o-c),n.pageY+a>m&&(we=n.pageY+a-m),e.style.width=o-ae+"px",e.style.height=a-we+"px";const Ne=T.clientHeight,ke=T.clientWidth,$e=p+T.getBoundingClientRect().top,nt=S+T.getBoundingClientRect().left;X.on(ut=>{ut.intervalId.clear(),ut.dragging&&ee&&(p+s6>=Ne?ut.intervalId.set(IZ(V)):p-s6<=0?ut.intervalId.set(RZ(V)):S+s6>=ke?ut.intervalId.set(OZ(V)):S-s6<=0?ut.intervalId.set(AZ(V)):$e+r6>=window.innerHeight?ut.intervalId.set(IZ(window)):$e-r6<=0?ut.intervalId.set(RZ(window)):nt+r6>=window.innerWidth?ut.intervalId.set(OZ(window)):nt-r6<=0&&ut.intervalId.set(AZ(window)))})},DZ=e=>{e&&e.parentNode&&e.parentNode.removeChild(e)},qae=(e,n)=>{const o=e.getParent(n.parentNode,e.isBlock);DZ(n),o&&o!==e.getRoot()&&e.isEmpty(o)&&Ju(Ye.fromDom(o))},Yae=e=>e.button===0,Xae=(e,n)=>({pageX:n.pageX-e.relX,pageY:n.pageY+5}),Jae=(e,n)=>o=>{if(Yae(o)){const a=An(n.dom.getParents(o.target),Uae).getOr(null);if(Ce(a)&&Wae(n.dom,n.getBody(),a)){const c=n.dom.getPos(a),m=n.getBody(),p=n.getDoc().documentElement;e.set({element:a,dataTransfer:o9(),dragging:!1,screenX:o.screenX,screenY:o.screenY,maxX:(n.inline?m.scrollWidth:p.offsetWidth)-2,maxY:(n.inline?m.scrollHeight:p.offsetHeight)-2,relX:o.pageX-c.x,relY:o.pageY-c.y,width:a.offsetWidth,height:a.offsetHeight,ghost:jae(n,a,a.offsetWidth,a.offsetHeight),intervalId:jc(Hae)})}}},Qae=(e,n,o)=>{e._selectionOverrides.hideFakeCaret(),_Z(e.getBody(),n,o).fold(()=>e.selection.placeCaretAt(n,o),a=>{const c=e._selectionOverrides.showCaret(1,a.node,a.position===jk.Before,!1);c?e.selection.setRng(c):e.selection.placeCaretAt(n,o)})},lR=(e,n,o,a,c)=>{n==="dragstart"&&tZ(a,e.dom.getOuterHTML(o));const m=zae(n,o,a,c);return e.dispatch(n,m)},ele=(e,n)=>{const o=kp((c,m)=>Qae(n,c,m),0);n.on("remove",o.cancel);const a=e;return c=>e.on(m=>{const p=Math.max(Math.abs(c.screenX-m.screenX),Math.abs(c.screenY-m.screenY));if(!m.dragging&&p>10){const S=lR(n,"dragstart",m.element,m.dataTransfer,c);if(Ce(S.dataTransfer)&&(m.dataTransfer=S.dataTransfer),S.isDefaultPrevented())return;m.dragging=!0,n.focus()}if(m.dragging){const S=c.currentTarget===n.getDoc().documentElement,T=Xae(m,Bae(n,c));Zae(m.ghost,n.getBody()),Gae(m.ghost,T,m.width,m.height,m.maxX,m.maxY,c.clientY,c.clientX,n.getContentAreaContainer(),n.getWin(),a,S),o.throttle(c.clientX,c.clientY)}})},tle=e=>{const n=e.getSel();if(Ce(n)){const a=n.getRangeAt(0).startContainer;return on(a)?a.parentNode:a}else return null},nle=(e,n)=>o=>{e.on(a=>{var c;if(a.intervalId.clear(),a.dragging){if(Kae(n,tle(n.selection),a.element)){const m=(c=n.getDoc().elementFromPoint(o.clientX,o.clientY))!==null&&c!==void 0?c:n.getBody();lR(n,"drop",m,a.dataTransfer,o).isDefaultPrevented()||n.undoManager.transact(()=>{qae(n.dom,a.element),cie(a.dataTransfer).each(S=>n.insertContent(S)),n._selectionOverrides.hideFakeCaret()})}lR(n,"dragend",n.getBody(),a.dataTransfer,o)}}),NZ(e)},PZ=(e,n,o)=>{e.on(a=>{a.intervalId.clear(),a.dragging&&o.fold(()=>lR(n,"dragend",a.element,a.dataTransfer),c=>lR(n,"dragend",a.element,a.dataTransfer,c))}),NZ(e)},ole=(e,n)=>o=>PZ(e,n,te.some(o)),NZ=e=>{e.on(n=>{n.intervalId.clear(),DZ(n.ghost)}),e.clear()},sle=e=>{const n=Ai(),o=br.DOM,a=document,c=Jae(n,e),m=ele(n,e),p=nle(n,e),S=ole(n,e);e.on("mousedown",c),e.on("mousemove",m),e.on("mouseup",p),o.bind(a,"mousemove",m),o.bind(a,"mouseup",S),e.on("remove",()=>{o.unbind(a,"mousemove",m),o.unbind(a,"mouseup",S)}),e.on("keydown",T=>{T.keyCode===On.ESC&&PZ(n,e,te.none())})},rle=e=>{const n=c=>{if(!c.isDefaultPrevented()){const m=c.dataTransfer;m&&(Se(m.types,"Files")||m.files.length>0)&&(c.preventDefault(),c.type==="drop"&&Ek(e,"Dropped file type is not supported"))}},o=c=>{a_(e,c.target)&&n(c)},a=()=>{const c=br.DOM,m=e.dom,p=document,S=e.inline?e.getBody():e.getDoc(),T=["drop","dragover"];xe(T,V=>{c.bind(p,V,o),m.bind(S,V,n)}),e.on("remove",()=>{xe(T,V=>{c.unbind(p,V,o),m.unbind(S,V,n)})})};e.on("init",()=>{sd.setEditorTimeout(e,a,0)})},ile=e=>{sle(e),wS(e)&&rle(e)},ale=e=>{const n=kp(()=>{if(!e.removed&&e.getBody().contains(document.activeElement)){const o=e.selection.getRng();if(o.collapsed){const a=Rk(e,o,!1);e.selection.setRng(a)}}},0);e.on("focus",()=>{n.throttle()}),e.on("blur",()=>{n.cancel()})},lle=e=>{e.on("init",()=>{e.on("focusin",n=>{const o=n.target;if(Lt(o)){const a=Tf(e.getBody(),o),c=To(a)?a:o;e.selection.getNode()!==c&&uC(e,c).each(m=>e.selection.setRng(m))}})})},cR=To,MZ=(e,n)=>Tf(e.getBody(),n),cle=e=>{const n=e.selection,o=e.dom,a=e.getBody(),c=uD(e,a,o.isBlock,()=>Ky(e)),m="sel-"+o.uniqueId(),p="data-mce-selected";let S;const T=Pn=>Ce(Pn)&&o.hasClass(Pn,"mce-offscreen-selection"),V=Pn=>Pn!==a&&(cR(Pn)||Lt(Pn))&&o.isChildOf(Pn,a)&&o.isEditable(Pn.parentNode),X=Pn=>{Pn&&n.setRng(Pn)},ee=(Pn,$t,Rt,Zt=!0)=>e.dispatch("ShowCaret",{target:$t,direction:Pn,before:Rt}).isDefaultPrevented()?null:(Zt&&n.scrollIntoView($t,Pn===-1),c.show(Rt,$t)),ae=Pn=>{Pn.hasAttribute("data-mce-caret")&&(Op(Pn),n.scrollIntoView(Pn))},we=()=>{e.on("click",$t=>{o.isEditable($t.target)||($t.preventDefault(),e.focus())}),e.on("blur NewBlock",kt),e.on("ResizeWindow FullscreenStateChanged",c.reposition),e.on("tap",$t=>{const Rt=$t.target,Zt=MZ(e,Rt);cR(Zt)?($t.preventDefault(),uC(e,Zt).each(at)):V(Rt)&&uC(e,Rt).each(at)},!0),e.on("mousedown",$t=>{const Rt=$t.target;if(Rt!==a&&Rt.nodeName!=="HTML"&&!o.isChildOf(Rt,a)||!pz(e,$t.clientX,$t.clientY))return;kt(),gn();const Zt=MZ(e,Rt);cR(Zt)?($t.preventDefault(),uC(e,Zt).each(at)):_Z(a,$t.clientX,$t.clientY).each(Hn=>{$t.preventDefault();const so=ee(1,Hn.node,Hn.position===jk.Before,!1);X(so),Hc(Zt)?Zt.focus():e.getBody().focus()})}),e.on("keypress",$t=>{On.modifierPressed($t)||cR(n.getNode())&&$t.preventDefault()}),e.on("GetSelectionRange",$t=>{let Rt=$t.range;if(S){if(!S.parentNode){S=null;return}Rt=Rt.cloneRange(),Rt.selectNode(S),$t.range=Rt}}),e.on("SetSelectionRange",$t=>{$t.range=$e($t.range);const Rt=at($t.range,$t.forward);Rt&&($t.range=Rt)});const Pn=$t=>Un($t)&&$t.id==="mcepastebin";e.on("AfterSetSelectionRange",$t=>{const Rt=$t.range,Zt=Rt.startContainer.parentElement;!ke(Rt)&&!Pn(Zt)&&gn(),T(Zt)||kt()}),ile(e),ale(e),lle(e)},Ne=Pn=>Zc(Pn)||b0(Pn)||ym(Pn),ke=Pn=>Ne(Pn.startContainer)||Ne(Pn.endContainer),$e=Pn=>{const $t=e.schema.getVoidElements(),Rt=o.createRng(),Zt=Pn.startContainer,Hn=Pn.startOffset,so=Pn.endContainer,rs=Pn.endOffset;return So($t,Zt.nodeName.toLowerCase())?Hn===0?Rt.setStartBefore(Zt):Rt.setStartAfter(Zt):Rt.setStart(Zt,Hn),So($t,so.nodeName.toLowerCase())?rs===0?Rt.setEndBefore(so):Rt.setEndAfter(so):Rt.setEnd(so,rs),Rt},nt=(Pn,$t)=>{const Rt=Ye.fromDom(e.getBody()),Zt=e.getDoc(),Hn=Ht(Rt,"#"+m).getOrThunk(()=>{const fs=Ye.fromHtml('<div data-mce-bogus="all" class="mce-offscreen-selection"></div>',Zt);return Ei(fs,"id",m),Vr(Rt,fs),fs}),so=o.createRng();ir(Hn),li(Hn,[Ye.fromText(ea,Zt),Ye.fromDom($t),Ye.fromText(ea,Zt)]),so.setStart(Hn.dom.firstChild,1),so.setEnd(Hn.dom.lastChild,0),ds(Hn,{top:o.getPos(Pn,e.getBody()).y+"px"}),mA(Hn);const rs=n.getSel();return rs&&(rs.removeAllRanges(),rs.addRange(so)),so},ut=Pn=>{const $t=Pn.cloneNode(!0),Rt=e.dispatch("ObjectSelected",{target:Pn,targetClone:$t});if(Rt.isDefaultPrevented())return null;const Zt=nt(Pn,Rt.targetClone),Hn=Ye.fromDom(Pn);return xe(bi(Ye.fromDom(e.getBody()),`*[${p}]`),so=>{us(Hn,so)||qo(so,p)}),o.getAttrib(Pn,p)||Pn.setAttribute(p,"1"),S=Pn,gn(),Zt},at=(Pn,$t)=>{if(!Pn)return null;if(Pn.collapsed){if(!ke(Pn)){const so=$t?1:-1,rs=Zw(so,a,Pn),fs=rs.getNode(!$t);if(Ce(fs)){if(Uw(fs))return ee(so,fs,$t?!rs.isAtEnd():!1,!1);if(fh(fs)&&To(fs.nextSibling)){const cr=o.createRng();return cr.setStart(fs,0),cr.setEnd(fs,0),cr}}const Js=rs.getNode($t);if(Ce(Js)){if(Uw(Js))return ee(so,Js,$t?!1:!rs.isAtEnd(),!1);if(fh(Js)&&To(Js.previousSibling)){const cr=o.createRng();return cr.setStart(Js,1),cr.setEnd(Js,1),cr}}}return null}let Rt=Pn.startContainer,Zt=Pn.startOffset;const Hn=Pn.endOffset;if(on(Rt)&&Zt===0&&cR(Rt.parentNode)&&(Rt=Rt.parentNode,Zt=o.nodeIndex(Rt),Rt=Rt.parentNode),!Un(Rt))return null;if(Hn===Zt+1&&Rt===Pn.endContainer){const so=Rt.childNodes[Zt];if(V(so))return ut(so)}return null},kt=()=>{S&&S.removeAttribute(p),Ht(Ye.fromDom(e.getBody()),"#"+m).each(Hs),S=null},qt=()=>{c.destroy(),S=null},gn=()=>{c.hide()};return Mh(e)||we(),{showCaret:ee,showBlockCaretContainer:ae,hideFakeCaret:gn,destroy:qt}},ule=(e,n)=>{let o=n;for(let a=e.previousSibling;on(a);a=a.previousSibling)o+=a.data.length;return o},LZ=(e,n,o,a,c)=>{if(on(o)&&(a<0||a>o.data.length))return[];const m=c&&on(o)?[ule(o,a)]:[a];let p=o;for(;p!==n&&p.parentNode;)m.push(e.nodeIndex(p,c)),p=p.parentNode;return p===n?m.reverse():[]},d9=(e,n,o,a,c,m,p=!1)=>{const S=LZ(e,n,o,a,p),T=LZ(e,n,c,m,p);return{start:S,end:T}},BZ=(e,n)=>{const o=n.slice(),a=o.pop();return I(a)?pn(o,(m,p)=>m.bind(S=>te.from(S.childNodes[p])),te.some(e)).bind(m=>on(m)&&(a<0||a>m.data.length)?te.none():te.some({node:m,offset:a})):te.none()},FZ=(e,n)=>BZ(e,n.start).bind(({node:o,offset:a})=>BZ(e,n.end).map(({node:c,offset:m})=>{const p=document.createRange();return p.setStart(o,a),p.setEnd(c,m),p})),dle=(e,n,o,a=!1)=>d9(e,n,o.startContainer,o.startOffset,o.endContainer,o.endOffset,a),Zk=(e,n,o)=>{if(n&&e.isEmpty(n)&&!o(n)){const a=n.parentNode;e.remove(n,on(n.firstChild)&&lc(n.firstChild.data)),Zk(e,a,o)}},a6=(e,n,o,a=!0)=>{const c=n.startContainer.parentNode,m=n.endContainer.parentNode;n.deleteContents(),a&&!o(n.startContainer)&&(on(n.startContainer)&&n.startContainer.data.length===0&&e.remove(n.startContainer),on(n.endContainer)&&n.endContainer.data.length===0&&e.remove(n.endContainer),Zk(e,c,o),c!==m&&Zk(e,m,o))},l6=(e,n)=>te.from(e.dom.getParent(n.startContainer,e.dom.isBlock)),f9=(e,n,o)=>{const a=e.dynamicPatternsLookup({text:o,block:n});return{...e,blockPatterns:wl(a).concat(e.blockPatterns),inlinePatterns:vf(a).concat(e.inlinePatterns)}},m9=(e,n,o,a)=>{const c=e.createRng();return c.setStart(n,0),c.setEnd(o,a),c.toString()},$Z=(e,n)=>e.create("span",{"data-mce-type":"bookmark",id:n}),c6=(e,n)=>{const o=e.createRng();return o.setStartAfter(n.start),o.setEndBefore(n.end),o},VZ=(e,n,o)=>{const a=FZ(e.getRoot(),o).getOrDie("Unable to resolve path range"),c=a.startContainer,m=a.endContainer,p=a.endOffset===0?m:m.splitText(a.endOffset),S=a.startOffset===0?c:c.splitText(a.startOffset),T=S.parentNode,V=p.parentNode;return{prefix:n,end:V.insertBefore($Z(e,n+"-end"),p),start:T.insertBefore($Z(e,n+"-start"),S)}},zZ=(e,n,o)=>{Zk(e,e.get(n.prefix+"-end"),o),Zk(e,e.get(n.prefix+"-start"),o)},g9=e=>e.start.length===0,fle=e=>(n,o)=>{const c=n.data.substring(0,o),m=c.lastIndexOf(e.charAt(e.length-1)),p=c.lastIndexOf(e);return p!==-1?p+e.length:m!==-1?m+1:-1},HZ=(e,n,o,a)=>{const c=n.start;return LH(e,a.container,a.offset,fle(c),o).bind(p=>{var S,T;const V=(T=(S=o.textContent)===null||S===void 0?void 0:S.indexOf(c))!==null&&T!==void 0?T:-1;if(V!==-1&&p.offset>=V+c.length){const ee=e.createRng();return ee.setStart(p.container,p.offset-c.length),ee.setEnd(p.container,p.offset),te.some(ee)}else{const ee=p.offset-c.length;return MH(p.container,ee,o).map(ae=>{const we=e.createRng();return we.setStart(ae.container,ae.offset),we.setEnd(p.container,p.offset),we}).filter(ae=>ae.toString()===c).orThunk(()=>HZ(e,n,o,tb(p.container,0)))}})},mle=(e,n,o,a,c,m=!1)=>{if(n.start.length===0&&!m){const p=e.createRng();return p.setStart(o,a),p.setEnd(o,a),te.some(p)}return NH(o,a,c).bind(p=>HZ(e,n,c,p).bind(T=>{var V;if(m){if(T.endContainer===p.container&&T.endOffset===p.offset)return te.none();if(p.offset===0&&((V=T.endContainer.textContent)===null||V===void 0?void 0:V.length)===T.endOffset)return te.none()}return te.some(T)}))},gle=(e,n,o,a)=>{const c=e.dom,m=c.getRoot(),p=o.pattern,S=o.position.container,T=o.position.offset;return MH(S,T-o.pattern.end.length,n).bind(V=>{const X=d9(c,m,V.container,V.offset,S,T,a);if(g9(p))return te.some({matches:[{pattern:p,startRng:X,endRng:X}],position:V});{const ee=u6(e,o.remainingPatterns,V.container,V.offset,n,a),ae=ee.getOr({matches:[],position:V}),we=ae.position;return mle(c,p,we.container,we.offset,n,ee.isNone()).map(ke=>{const $e=dle(c,m,ke,a);return{matches:ae.matches.concat([{pattern:p,startRng:$e,endRng:X}]),position:tb(ke.startContainer,ke.startOffset)}})}})},u6=(e,n,o,a,c,m)=>{const p=e.dom;return NH(o,a,p.getRoot()).bind(S=>{const T=m9(p,c,o,a);for(let V=0;V<n.length;V++){const X=n[V];if(!Be(T,X.end))continue;const ee=n.slice();ee.splice(V,1);const ae=gle(e,c,{pattern:X,remainingPatterns:ee,position:S},m);if(ae.isNone()&&a>0)return u6(e,n,o,a-1,c,m);if(ae.isSome())return ae}return te.none()})},UZ=(e,n,o)=>{e.selection.setRng(o),n.type==="inline-format"?xe(n.format,a=>{e.formatter.apply(a)}):e.execCommand(n.cmd,!1,n.value)},hle=(e,n,o,a)=>{const c=c6(e.dom,o);a6(e.dom,c,a),UZ(e,n,c)},ple=(e,n,o,a,c)=>{const m=e.dom,p=c6(m,a),S=c6(m,o);a6(m,S,c),a6(m,p,c);const T={prefix:o.prefix,start:o.end,end:a.start},V=c6(m,T);UZ(e,n,V)},ble=(e,n)=>{const o=Ml("mce_textpattern"),a=wt(n,(c,m)=>{const p=VZ(e,o+`_end${c.length}`,m.endRng);return c.concat([{...m,endMarker:p}])},[]);return wt(a,(c,m)=>{const p=a.length-c.length-1,S=g9(m.pattern)?m.endMarker:VZ(e,o+`_start${p}`,m.startRng);return c.concat([{...m,startMarker:S}])},[])},vle=e=>xs(e,(n,o)=>o.end.length-n.end.length),yle=(e,n)=>{const o=Ho(e,a=>Me(n,c=>a.pattern.start===c.pattern.start&&a.pattern.end===c.pattern.end));return e.length===n.length?o?e:n:e.length>n.length?e:n},WZ=(e,n,o,a,c,m)=>{const p=u6(e,c.inlinePatterns,o,a,n,m).fold(()=>[],T=>T.matches),S=u6(e,vle(c.inlinePatterns),o,a,n,m).fold(()=>[],T=>T.matches);return yle(p,S)},KZ=(e,n)=>{if(n.length===0)return;const o=e.dom,a=e.selection.getBookmark(),c=ble(o,n);xe(c,m=>{const p=o.getParent(m.startMarker.start,o.isBlock),S=T=>T===p;g9(m.pattern)?hle(e,m.pattern,m.endMarker,S):ple(e,m.pattern,m.startMarker,m.endMarker,S),zZ(o,m.endMarker,S),zZ(o,m.startMarker,S)}),e.selection.moveToBookmark(a)},jZ=(e,n,o)=>loe(n,0,n).map(a=>{const c=a.container;return GK(c,o.start.length,n).each(m=>{const p=e.createRng();p.setStart(c,0),p.setEnd(m.container,m.offset),a6(e,p,S=>S===n)}),c}),ZZ=e=>(n,o)=>{const a=n.dom,c=o.pattern,m=FZ(a.getRoot(),o.range).getOrDie("Unable to resolve path range"),p=(S,T)=>{const V=T.get(S);return oe(V)&&cn(V).exists(X=>So(X,"block"))};return l6(n,m).each(S=>{c.type==="block-format"?p(c.format,n.formatter)&&n.undoManager.transact(()=>{e(n.dom,S,c),n.formatter.apply(c.format)}):c.type==="block-command"&&n.undoManager.transact(()=>{e(n.dom,S,c),n.execCommand(c.cmd,!1,c.value)})}),!0},xle=e=>xs(e,(n,o)=>o.start.length-n.start.length),GZ=e=>(n,o)=>{const a=xle(n),c=o.replace(ea," ");return An(a,m=>e(m,o,c))},qZ=(e,n)=>(o,a,c,m,p)=>{var S;p===void 0&&(p=(S=a.textContent)!==null&&S!==void 0?S:"");const T=o.dom,V=Jl(o);return T.is(a,V)?e(c.blockPatterns,p).map(X=>n&&dn.trim(p).length===X.start.length?[]:[{pattern:X,range:d9(T,T.getRoot(),a,0,a,0,m)}]).getOr([]):[]},wle=e=>/^\s[^\s]/.test(e),Cle=ZZ((e,n,o)=>{jZ(e,n,o).each(a=>{const c=Ye.fromDom(a),m=uh(c);wle(m)&&u0(c,m.slice(1))})}),Sle=GZ((e,n,o)=>n.indexOf(e.start)===0||o.indexOf(e.start)===0),_le=qZ(Sle,!0),kle=(e,n)=>{const o=e.selection.getRng();return l6(e,o).map(a=>{var c;const m=Math.max(0,o.startOffset),p=f9(n,a,(c=a.textContent)!==null&&c!==void 0?c:""),S=WZ(e,a,o.startContainer,m,p,!0),T=_le(e,a,p,!0);return{inlineMatches:S,blockMatches:T}}).filter(({inlineMatches:a,blockMatches:c})=>c.length>0||a.length>0)},Ele=(e,n)=>{if(n.length===0)return;const o=e.selection.getBookmark();xe(n,a=>Cle(e,a)),e.selection.moveToBookmark(o)},Tle=ZZ(jZ),Ale=GZ((e,n,o)=>n===e.start||o===e.start),Ole=qZ(Ale,!1),Rle=(e,n)=>{const o=e.selection.getRng();return l6(e,o).map(a=>{const c=Math.max(0,o.startOffset),m=m9(e.dom,a,o.startContainer,c),p=f9(n,a,m);return Ole(e,a,p,!1,m)}).filter(a=>a.length>0)},Ile=(e,n)=>{xe(n,o=>Tle(e,o))},Dle=(e,n)=>kle(e,n).fold(Bn,({inlineMatches:o,blockMatches:a})=>(e.undoManager.add(),e.undoManager.extra(()=>{e.execCommand("mceInsertNewLine")},()=>{oT(e),KZ(e,o),Ele(e,a);const c=e.selection.getRng(),m=NH(c.startContainer,c.startOffset,e.dom.getRoot());e.execCommand("mceInsertNewLine"),m.each(p=>{const S=p.container;S.data.charAt(p.offset-1)===Gr&&(S.deleteData(p.offset-1,1),Zk(e.dom,S.parentNode,T=>T===e.dom.getRoot()))})}),!0)),Ple=(e,n)=>{const o=e.selection.getRng();l6(e,o).map(a=>{const c=Math.max(0,o.startOffset-1),m=m9(e.dom,a,o.startContainer,c),p=f9(n,a,m),S=WZ(e,a,o.startContainer,c,p,!1);S.length>0&&e.undoManager.transact(()=>{KZ(e,S)})})},Nle=(e,n)=>Rle(e,n).fold(Bn,o=>(e.undoManager.transact(()=>{Ile(e,o)}),!0)),YZ=(e,n,o)=>{for(let a=0;a<e.length;a++)if(o(e[a],n))return!0;return!1},Mle=(e,n)=>YZ(e,n,(o,a)=>o===a.keyCode&&!On.modifierPressed(a)),Lle=(e,n)=>YZ(e,n,(o,a)=>o.charCodeAt(0)===a.charCode),Ble=e=>{const n=[",",".",";",":","!","?"],o=[32],a=()=>Bb(B8(e).filter(p=>p.type==="inline-command"||p.type==="block-command"?e.queryCommandSupported(p.cmd):!0),Vw(e)),c=()=>wT(e);e.on("keydown",p=>{if(p.keyCode===13&&!On.modifierPressed(p)&&e.selection.isCollapsed()){const S=mg(a(),"enter");(S.inlinePatterns.length>0||S.blockPatterns.length>0||c())&&Dle(e,S)&&p.preventDefault()}},!0),e.on("keydown",p=>{if(p.keyCode===32&&e.selection.isCollapsed()){const S=mg(a(),"space");(S.blockPatterns.length>0||c())&&Nle(e,S)&&p.preventDefault()}},!0);const m=()=>{if(e.selection.isCollapsed()){const p=mg(a(),"space");(p.inlinePatterns.length>0||c())&&Ple(e,p)}};e.on("keyup",p=>{Mle(o,p)&&m()}),e.on("keypress",p=>{Lle(n,p)&&sd.setEditorTimeout(e,m)})},Fle=e=>{Ble(e)},$le=e=>{const n=dn.each,o=On.BACKSPACE,a=On.DELETE,c=e.dom,m=e.selection,p=e.parser,S=os.browser,T=S.isFirefox(),V=S.isChromium()||S.isSafari(),X=os.deviceType.isiPhone()||os.deviceType.isiPad(),ee=os.os.isMacOS()||os.os.isiOS(),ae=(kn,ho)=>{try{e.getDoc().execCommand(kn,!1,String(ho))}catch{}},we=kn=>kn.isDefaultPrevented(),Ne=()=>{const kn=ls=>{const Dn=c.create("body"),is=ls.cloneContents();return Dn.appendChild(is),m.serializer.serialize(Dn,{format:"html"})},ho=ls=>{const Dn=kn(ls),is=c.createRng();is.selectNode(e.getBody());const bs=kn(is);return Dn===bs};e.on("keydown",ls=>{const Dn=ls.keyCode;if(!we(ls)&&(Dn===a||Dn===o)&&e.selection.isEditable()){const is=e.selection.isCollapsed(),bs=e.getBody();if(is&&!cc(e.schema,bs)||!is&&!ho(e.selection.getRng()))return;ls.preventDefault(),e.setContent(""),bs.firstChild&&c.isBlock(bs.firstChild)?e.selection.setCursorLocation(bs.firstChild,0):e.selection.setCursorLocation(bs,0),e.nodeChanged()}})},ke=()=>{e.shortcuts.add("meta+a",null,"SelectAll")},$e=()=>{e.inline||c.bind(e.getDoc(),"mousedown mouseup",kn=>{let ho;if(kn.target===e.getDoc().documentElement)if(ho=m.getRng(),e.getBody().focus(),kn.type==="mousedown"){if(Zc(ho.startContainer))return;m.placeCaretAt(kn.clientX,kn.clientY)}else m.setRng(ho)})},nt=()=>{e.on("keydown",kn=>{if(!we(kn)&&kn.keyCode===o){if(!e.getBody().getElementsByTagName("hr").length)return;if(m.isCollapsed()&&m.getRng().startOffset===0){const ho=m.getNode(),ls=ho.previousSibling;if(ho.nodeName==="HR"){c.remove(ho),kn.preventDefault();return}ls&&ls.nodeName&&ls.nodeName.toLowerCase()==="hr"&&(c.remove(ls),kn.preventDefault())}}})},ut=()=>{Range.prototype.getClientRects||e.on("mousedown",kn=>{if(!we(kn)&&kn.target.nodeName==="HTML"){const ho=e.getBody();ho.blur(),sd.setEditorTimeout(e,()=>{ho.focus()})}})},at=()=>{const kn=Py(e);e.on("click",ho=>{const ls=ho.target;/^(IMG|HR)$/.test(ls.nodeName)&&c.isEditable(ls)&&(ho.preventDefault(),e.selection.select(ls),e.nodeChanged()),ls.nodeName==="A"&&c.hasClass(ls,kn)&&ls.childNodes.length===0&&c.isEditable(ls.parentNode)&&(ho.preventDefault(),m.select(ls))})},kt=()=>{const kn=()=>{const ls=c.getAttribs(m.getStart().cloneNode(!1));return()=>{const Dn=m.getStart();Dn!==e.getBody()&&(c.setAttrib(Dn,"style",null),n(ls,is=>{Dn.setAttributeNode(is.cloneNode(!0))}))}},ho=()=>!m.isCollapsed()&&c.getParent(m.getStart(),c.isBlock)!==c.getParent(m.getEnd(),c.isBlock);e.on("keypress",ls=>{let Dn;return!we(ls)&&(ls.keyCode===8||ls.keyCode===46)&&ho()?(Dn=kn(),e.getDoc().execCommand("delete",!1),Dn(),ls.preventDefault(),!1):!0}),c.bind(e.getDoc(),"cut",ls=>{if(!we(ls)&&ho()){const Dn=kn();sd.setEditorTimeout(e,()=>{Dn()})}})},qt=()=>{e.on("keydown",kn=>{if(!we(kn)&&kn.keyCode===o&&m.isCollapsed()&&m.getRng().startOffset===0){const ho=m.getNode().previousSibling;if(ho&&ho.nodeName&&ho.nodeName.toLowerCase()==="table")return kn.preventDefault(),!1}return!0})},gn=()=>{e.on("keydown",kn=>{if(we(kn)||kn.keyCode!==On.BACKSPACE)return;let ho=m.getRng();const ls=ho.startContainer,Dn=ho.startOffset,is=c.getRoot();let bs=ls;if(!(!ho.collapsed||Dn!==0)){for(;bs.parentNode&&bs.parentNode.firstChild===bs&&bs.parentNode!==is;)bs=bs.parentNode;bs.nodeName==="BLOCKQUOTE"&&(e.formatter.toggle("blockquote",void 0,bs),ho=c.createRng(),ho.setStart(ls,0),ho.setEnd(ls,0),m.setRng(ho))}})},Pn=()=>{const kn=()=>{ae("StyleWithCSS",!1),ae("enableInlineTableEditing",!1),FI(e)||ae("enableObjectResizing",!1)};jI(e)||e.on("BeforeExecCommand mousedown",kn)},$t=()=>{const kn=()=>{n(c.select("a:not([data-mce-block])"),ho=>{var ls;let Dn=ho.parentNode;const is=c.getRoot();if((Dn==null?void 0:Dn.lastChild)===ho){for(;Dn&&!c.isBlock(Dn);){if(((ls=Dn.parentNode)===null||ls===void 0?void 0:ls.lastChild)!==Dn||Dn===is)return;Dn=Dn.parentNode}c.add(Dn,"br",{"data-mce-bogus":1})}})};e.on("SetContent ExecCommand",ho=>{(ho.type==="setcontent"||ho.command==="mceInsertLink")&&kn()})},Rt=()=>{e.on("init",()=>{ae("DefaultParagraphSeparator",Jl(e))})},Zt=kn=>{const ho=kn.getBody(),ls=kn.selection.getRng();return ls.startContainer===ls.endContainer&&ls.startContainer===ho&&ls.startOffset===0&&ls.endOffset===ho.childNodes.length},Hn=()=>{e.on("keyup focusin mouseup",kn=>{!On.modifierPressed(kn)&&!Zt(e)&&m.normalize()},!0)},so=()=>{e.contentStyles.push("img:-moz-broken {-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}")},rs=()=>{e.inline||e.on("keydown",()=>{document.activeElement===document.body&&e.getWin().focus()})},fs=()=>{e.inline||(e.contentStyles.push("body {min-height: 150px}"),e.on("click",kn=>{let ho;kn.target.nodeName==="HTML"&&(ho=e.selection.getRng(),e.getBody().focus(),e.selection.setRng(ho),e.selection.normalize(),e.nodeChanged())}))},Js=()=>{ee&&e.on("keydown",kn=>{On.metaKeyPressed(kn)&&!kn.shiftKey&&(kn.keyCode===37||kn.keyCode===39)&&(kn.preventDefault(),e.selection.getSel().modify("move",kn.keyCode===37?"backward":"forward","lineboundary"))})},cr=()=>{e.on("click",kn=>{let ho=kn.target;do if(ho.tagName==="A"){kn.preventDefault();return}while(ho=ho.parentNode)}),e.contentStyles.push(".mce-content-body {-webkit-touch-callout: none}")},Vi=()=>{e.on("init",()=>{e.dom.bind(e.getBody(),"submit",kn=>{kn.preventDefault()})})},vc=()=>{p.addNodeFilter("br",kn=>{let ho=kn.length;for(;ho--;)kn[ho].attr("class")==="Apple-interchange-newline"&&kn[ho].remove()})},yr=gt,wn=()=>{if(!T||e.removed)return!1;const kn=e.selection.getSel();return!kn||!kn.rangeCount||kn.rangeCount===0},to=()=>{V&&($e(),at(),Vi(),ke(),X&&(rs(),fs(),cr())),T&&(ut(),Pn(),so(),Js())},Us=()=>{gn(),Ne(),os.windowsPhone||Hn(),V&&($e(),at(),Rt(),Vi(),qt(),vc(),X?(rs(),fs(),cr()):ke()),T&&(nt(),ut(),kt(),Pn(),$t(),so(),Js(),qt())};return Mh(e)?to():Us(),{refreshContentEditable:yr,isHidden:wn}},Vle=e=>e.toLowerCase()==="gpl",zle=e=>e.length>=64&&e.length<=255,Hle=e=>Vle(e)||zle(e)?"VALID":"INVALID",Ule=e=>{const n=sD(e);!de(rD(e))&&(Qe(n)||Hle(n)==="INVALID")&&console.warn("TinyMCE is running in evaluation mode. Provide a valid license key or add license_key: 'gpl' to the init config to agree to the open source license terms. Read more at https://www.tiny.cloud/license-key/")},h9=br.DOM,Wle=(e,n)=>{const o=Ye.fromDom(e.getBody()),a=em(du(o)),c=Ye.fromTag("style");Ei(c,"type","text/css"),Vr(c,Ye.fromText(n)),Vr(a,c),e.on("remove",()=>{Hs(c)})},Kle=e=>e.inline?e.getElement().nodeName.toLowerCase():void 0,p9=e=>Ic(e,n=>Qe(n)===!1),XZ=e=>{const n=e.options.get,o=e.editorUpload.blobCache;return p9({allow_conditional_comments:n("allow_conditional_comments"),allow_html_data_urls:n("allow_html_data_urls"),allow_svg_data_urls:n("allow_svg_data_urls"),allow_html_in_named_anchor:n("allow_html_in_named_anchor"),allow_script_urls:n("allow_script_urls"),allow_unsafe_link_target:n("allow_unsafe_link_target"),convert_unsafe_embeds:n("convert_unsafe_embeds"),convert_fonts_to_spans:n("convert_fonts_to_spans"),fix_list_elements:n("fix_list_elements"),font_size_legacy_values:n("font_size_legacy_values"),forced_root_block:n("forced_root_block"),forced_root_block_attrs:n("forced_root_block_attrs"),preserve_cdata:n("preserve_cdata"),inline_styles:n("inline_styles"),root_name:Kle(e),sandbox_iframes:n("sandbox_iframes"),sandbox_iframes_exclusions:_S(e),sanitize:n("xss_sanitization"),validate:!0,blob_cache:o,document:e.getDoc()})},JZ=e=>{const n=e.options.get;return p9({custom_elements:n("custom_elements"),extended_valid_elements:n("extended_valid_elements"),invalid_elements:n("invalid_elements"),invalid_styles:n("invalid_styles"),schema:n("schema"),valid_children:n("valid_children"),valid_classes:n("valid_classes"),valid_elements:n("valid_elements"),valid_styles:n("valid_styles"),verify_html:n("verify_html"),padd_empty_block_inline_children:n("format_empty_lines")})},jle=e=>{const n=e.options.get;return{...XZ(e),...JZ(e),...p9({remove_trailing_brs:n("remove_trailing_brs"),pad_empty_with_br:n("pad_empty_with_br"),url_converter:n("url_converter"),url_converter_scope:n("url_converter_scope"),element_format:n("element_format"),entities:n("entities"),entity_encoding:n("entity_encoding"),indent:n("indent"),indent_after:n("indent_after"),indent_before:n("indent_before")})}},Zle=e=>{const n=lx(XZ(e),e.schema);return n.addAttributeFilter("src,href,style,tabindex",(o,a)=>{const c=e.dom,m="data-mce-"+a;let p=o.length;for(;p--;){const S=o[p];let T=S.attr(a);if(T&&!S.attr(m)){if(T.indexOf("data:")===0||T.indexOf("blob:")===0)continue;a==="style"?(T=c.serializeStyle(c.parseStyle(T),S.name),T.length||(T=null),S.attr(m,T),S.attr(a,T)):a==="tabindex"?(S.attr(m,T),S.attr(a,null)):S.attr(m,e.convertURL(T,a,S.name))}}}),n.addNodeFilter("script",o=>{let a=o.length;for(;a--;){const c=o[a],m=c.attr("type")||"no/type";m.indexOf("mce-")!==0&&c.attr("type","mce-"+m)}}),$8(e)&&n.addNodeFilter("#cdata",o=>{var a;let c=o.length;for(;c--;){const m=o[c];m.type=8,m.name="#comment",m.value="[CDATA["+e.dom.encode((a=m.value)!==null&&a!==void 0?a:"")+"]]"}}),n.addNodeFilter("p,h1,h2,h3,h4,h5,h6,div",o=>{let a=o.length;const c=e.schema.getNonEmptyElements();for(;a--;){const m=o[a];m.isEmpty(c)&&m.getAll("br").length===0&&m.append(new Cl("br",1))}}),n},Gle=e=>{const n=D8(e);n&&sd.setEditorTimeout(e,()=>{let o;n===!0?o=e:o=e.editorManager.get(n),o&&!o.destroyed&&(o.focus(),o.selection.scrollIntoView())},100)},qle=e=>{const n=e.dom.getRoot();!e.inline&&(!Fy(e)||e.selection.getStart(!0)===n)&&yo(n).each(o=>{const a=o.getNode(),c=mu(a)?yo(a).getOr(o):o;e.selection.setRng(c.toRange())})},Yle=e=>{e.bindPendingEventDelegates(),e.initialized=!0,Ii(e),e.focus(!0),qle(e),e.nodeChanged({initial:!0});const n=R8(e);Te(n)&&n.call(e,e),Gle(e)},b9=e=>e.inline?e.ui.styleSheetLoader:e.dom.styleSheetLoader,Xle=(e,n,o)=>{const{pass:a,fail:c}=Fe(n,S=>tinymce.Resource.has(cO(S))),p=[...a.map(S=>{const T=tinymce.Resource.get(cO(S));return de(T)?Promise.resolve(b9(e).loadRawCss(S,T)):Promise.resolve()}),b9(e).loadAll(c)];return e.inline?p:p.concat([e.ui.styleSheetLoader.loadAll(o)])},QZ=e=>{const n=b9(e),o=BI(e),a=e.contentCSS,c=()=>{n.unloadAll(a),e.inline||e.ui.styleSheetLoader.unloadAll(o)},m=()=>{e.removed?c():e.on("remove",c)};if(e.contentStyles.length>0){let T="";dn.each(e.contentStyles,V=>{T+=V+`\r
`}),e.dom.addStyle(T)}const p=Promise.all(Xle(e,a,o)).then(m).catch(m),S=Ry(e);return S&&Wle(e,S),p},Jle=e=>{const n=e.getDoc(),o=e.getBody();a7(e),P8(e)||(n.body.spellcheck=!1,h9.setAttrib(o,"spellcheck","false")),e.quirks=$le(e),l7(e);const a=S8(e);a!==void 0&&(o.dir=a);const c=Ds(e);c&&e.on("BeforeSetContent",m=>{dn.each(c,p=>{m.content=m.content.replace(p,S=>"<!--mce:protected "+escape(S)+"-->")})}),e.on("SetContent",()=>{e.addVisual(e.getBody())}),e.on("compositionstart compositionend",m=>{e.composing=m.type==="compositionstart"})},Qle=e=>{Mh(e)||e.load({initial:!0,format:"html"}),e.startContent=e.getContent({format:"raw"})},v9=e=>{e.removed!==!0&&(Qle(e),Yle(e))},ece=e=>{let n=!1;const o=setTimeout(()=>{n||e.setProgressState(!0)},500);return()=>{clearTimeout(o),n=!0,e.setProgressState(!1)}},eG=e=>{const n=e.getElement();let o=e.getDoc();e.inline&&(h9.addClass(n,"mce-content-body"),e.contentDocument=o=document,e.contentWindow=window,e.bodyElement=n,e.contentAreaContainer=n);const a=e.getBody();a.disabled=!0,e.readonly=jI(e),e._editableRoot=Gs(e),!e.readonly&&e.hasEditableRoot()&&(e.inline&&h9.getStyle(a,"position",!0)==="static"&&(a.style.position="relative"),a.contentEditable="true"),a.disabled=!1,e.editorUpload=dO(e),e.schema=qu(JZ(e)),e.dom=br(o,{keep_values:!0,url_converter:e.convertURL,url_converter_scope:e,update_styles:!0,root_element:e.inline?e.getBody():null,collect:e.inline,schema:e.schema,contentCssCors:MI(e),referrerPolicy:Lw(e),onSetAttrib:p=>{e.dispatch("SetAttrib",p)}}),e.parser=Zle(e),e.serializer=MM(jle(e),e),e.selection=Y4(e.dom,e.getWin(),e.serializer,e),e.annotator=YD(e),e.formatter=cC(e),e.undoManager=gL(e),e._nodeChangeDispatcher=new Gre(e),e._selectionOverrides=cle(e),Zo(e),gae(e),xC(e),Mh(e)||(wae(e),Fle(e));const c=Zre(e);ro(e,c),ya(e),xL(e),dae(e);const m=bM(e);Jle(e),Ule(e),m.fold(()=>{const p=ece(e);QZ(e).then(()=>{v9(e),p()})},p=>{e.setProgressState(!0),QZ(e).then(()=>{p().then(S=>{e.setProgressState(!1),v9(e),_M(e)},S=>{e.notificationManager.open({type:"error",text:String(S)}),v9(e),_M(e)})})})},tce=Jt,nce=(e,n,o)=>L(e,n,tce,o),y9=br.DOM,oce=(e,n,o,a)=>{const c=Ye.fromTag("iframe");return a.each(m=>Ei(c,"tabindex",m)),Ka(c,o),Ka(c,{id:e+"_ifr",frameBorder:"0",allowTransparency:"true",title:n}),lu(c,"tox-edit-area__iframe"),c},sce=e=>{let n=xm(e)+"<html><head>";Ed(e)!==e.documentBaseUrl&&(n+='<base href="'+e.documentBaseURI.getURI()+'" />'),n+='<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />';const o=xS(e),a=lT(e),c=e.translate(Fw(e));return OI(e)&&(n+='<meta http-equiv="Content-Security-Policy" content="'+OI(e)+'" />'),n+=`</head><body id="${o}" class="mce-content-body ${a}" data-id="${e.id}" aria-label="${c}"><br></body></html>`,n},rce=(e,n)=>{const o=os.browser.isFirefox()?Fw(e):"Rich Text Area",a=e.translate(o),c=hi(Ye.fromDom(e.getElement()),"tabindex").bind(Cn),m=oce(e.id,a,gc(e),c).dom;m.onload=()=>{m.onload=null,e.dispatch("load")},e.contentAreaContainer=n.iframeContainer,e.iframeElement=m,e.iframeHTML=sce(e),y9.add(n.iframeContainer,m)},ice=e=>{const n=e.iframeElement,o=()=>{e.contentDocument=n.contentDocument,eG(e)};if(QI(e)||os.browser.isFirefox()){const a=e.getDoc();a.open(),a.write(e.iframeHTML),a.close(),o()}else{const a=nce(Ye.fromDom(n),"load",()=>{a.unbind(),o()});n.srcdoc=e.iframeHTML}},ace=(e,n)=>{rce(e,n),n.editorContainer&&(n.editorContainer.style.display=e.orgDisplay,e.hidden=y9.isHidden(n.editorContainer)),e.getElement().style.display="none",y9.setAttrib(e.id,"aria-hidden","true"),e.getElement().style.visibility=e.orgVisibility,ice(e)},tG=br.DOM,lce=(e,n,o)=>{const a=l1.get(o),c=l1.urls[o]||e.documentBaseUrl.replace(/\/$/,"");if(o=dn.trim(o),a&&dn.inArray(n,o)===-1){if(e.plugins[o])return;try{const m=a(e,c)||{};e.plugins[o]=m,Te(m.init)&&(m.init(e,c),n.push(o))}catch(m){xz(e,o,m)}}},cce=e=>e.replace(/^\-/,""),uce=e=>{const n=[];xe(wm(e),o=>{lce(e,n,cce(o))})},dce=e=>{const n=dn.trim(mT(e)),o=e.ui.registry.getAll().icons,a={...sC.get("default").icons,...sC.get(n).icons};Go(a,(c,m)=>{So(o,m)||e.ui.registry.addIcon(m,c)})},fce=e=>{const n=Iy(e);if(de(n)){const o=gv.get(n);e.theme=o(e,gv.urls[n])||{},Te(e.theme.init)&&e.theme.init(e,gv.urls[n]||e.documentBaseUrl.replace(/\/$/,""))}else e.theme={}},mce=e=>{const n=Bw(e),o=mv.get(n);e.model=o(e,mv.urls[n])},gce=e=>{const n=e.theme.renderUI;return n?n():oG(e)},hce=e=>{const n=e.getElement(),a=Iy(e)(e,n);return a.editorContainer.nodeType&&(a.editorContainer.id=a.editorContainer.id||e.id+"_parent"),a.iframeContainer&&a.iframeContainer.nodeType&&(a.iframeContainer.id=a.iframeContainer.id||e.id+"_iframecontainer"),a.height=a.iframeHeight?a.iframeHeight:n.offsetHeight,a},nG=(e,n)=>({editorContainer:e,iframeContainer:n,api:{}}),pce=e=>{const n=tG.create("div");return tG.insertAfter(n,e),nG(n,n)},oG=e=>{const n=e.getElement();return e.inline?nG(null):pce(n)},bce=e=>{const n=e.getElement();return e.orgDisplay=n.style.display,de(Iy(e))?gce(e):Te(Iy(e))?hce(e):oG(e)},vce=(e,n)=>{const o={show:te.from(n.show).getOr(gt),hide:te.from(n.hide).getOr(gt),isEnabled:te.from(n.isEnabled).getOr(Jt),setEnabled:a=>{e.mode.isReadOnly()||te.from(n.setEnabled).each(c=>c(a))}};e.ui={...e.ui,...o}},yce=async e=>{e.dispatch("ScriptsLoaded"),dce(e),fce(e),mce(e),uce(e);const n=await bce(e);vce(e,te.from(n.api).getOr({})),e.editorContainer=n.editorContainer,tL(e),e.inline?eG(e):ace(e,{editorContainer:n.editorContainer,iframeContainer:n.iframeContainer})},kC=br.DOM,sG=e=>e.charAt(0)==="-",xce=(e,n)=>{const o=pT(n),a=C8(n);if(!Yu.hasCode(o)&&o!=="en"){const c=lt(a)?a:`${n.editorManager.baseURL}/langs/${o}.js`;e.add(c).catch(()=>{vz(n,c,o)})}},wce=(e,n)=>{const o=Iy(e);if(de(o)&&!sG(o)&&!So(gv.urls,o)){const a=k8(e),c=a?e.documentBaseURI.toAbsolute(a):`themes/${o}/theme${n}.js`;gv.load(o,c).catch(()=>{QM(e,c,o)})}},Cce=(e,n)=>{const o=Bw(e);if(o!=="plugin"&&!So(mv.urls,o)){const a=vT(e),c=de(a)?e.documentBaseURI.toAbsolute(a):`models/${o}/model${n}.js`;mv.load(o,c).catch(()=>{yz(e,c,o)})}},Sce=e=>te.from(PI(e)).filter(lt).map(n=>({url:n,name:te.none()})),rG=(e,n,o)=>te.from(n).filter(a=>lt(a)&&!sC.has(a)).map(a=>({url:`${e.editorManager.baseURL}/icons/${a}/icons${o}.js`,name:te.some(a)})),_ce=(e,n,o)=>{const a=rG(n,"default",o),c=Sce(n).orThunk(()=>rG(n,mT(n),""));xe(Ug([a,c]),m=>{e.add(m.url).catch(()=>{aO(n,m.url,m.name.getOrUndefined())})})},kce=(e,n)=>{const o=(a,c)=>{l1.load(a,c).catch(()=>{iO(e,c,a)})};Go(bh(e),(a,c)=>{o(c,a),e.options.set("plugins",wm(e).concat(c))}),xe(wm(e),a=>{a=dn.trim(a),a&&!l1.urls[a]&&!sG(a)&&o(a,`plugins/${a}/plugin${n}.js`)})},Ece=e=>{const n=Iy(e);return!de(n)||Ce(gv.get(n))},Tce=e=>{const n=Bw(e);return Ce(mv.get(n))},Ace=(e,n)=>{const o=dc.ScriptLoader,a=()=>{!e.removed&&Ece(e)&&Tce(e)&&yce(e)};wce(e,n),Cce(e,n),xce(o,e),_ce(o,e,n),kce(e,n),o.loadQueue().then(a,a)},Oce=(e,n)=>Qa.forElement(e,{contentCssCors:ZI(n),referrerPolicy:Lw(n)}),Rce=e=>{const n=e.id;Yu.setCode(pT(e));const o=()=>{kC.unbind(window,"ready",o),e.render()};if(!tg.Event.domLoaded){kC.bind(window,"ready",o);return}if(!e.getElement())return;const a=Ye.fromDom(e.getElement()),c=ja(a);e.on("remove",()=>{Re(a.dom.attributes,p=>qo(a,p.name)),Ka(a,c)}),e.ui.styleSheetLoader=Oce(a,e),A0(e)?e.inline=!0:(e.orgVisibility=e.getElement().style.visibility,e.getElement().style.visibility="hidden");const m=e.getElement().form||kC.getParent(n,"form");m&&(e.formElement=m,yT(e)&&!Yg(e.getElement())&&(kC.insertAfter(kC.create("input",{type:"hidden",name:n}),n),e.hasHiddenInput=!0),e.formEventDelegate=p=>{e.dispatch(p.type,p)},kC.bind(m,"submit reset",e.formEventDelegate),e.on("reset",()=>{e.resetContent()}),HI(e)&&!m.submit.nodeType&&!m.submit.length&&!m._mceOldSubmit&&(m._mceOldSubmit=m.submit,m.submit=()=>(e.editorManager.triggerSave(),e.setDirty(!1),m._mceOldSubmit(m)))),e.windowManager=XM(e),e.notificationManager=rO(e),eD(e)&&e.on("GetContent",p=>{p.save&&(p.content=kC.encode(p.content))}),UI(e)&&e.on("submit",()=>{e.initialized&&e.save()}),WI(e)&&(e._beforeUnload=()=>{e.initialized&&!e.destroyed&&!e.isHidden()&&e.save({format:"raw",no_events:!0,set_dirty:!1})},e.editorManager.on("BeforeUnload",e._beforeUnload)),e.editorManager.add(e),Ace(e,e.suffix)},Ice=(e,n)=>{e._editableRoot!==n&&(e._editableRoot=n,e.readonly||(e.getBody().contentEditable=String(e.hasEditableRoot()),e.nodeChanged()),d7(e,n))},Dce=e=>e._editableRoot,Pce=(e,n)=>({sections:ft(e),options:ft(n)}),iG=ca().deviceType,aG=iG.isPhone(),Nce=iG.isTablet(),uR=e=>{if(ct(e))return[];{const n=oe(e)?e:e.split(/[ ,]/),o=Ke(n,Ze);return Je(o,lt)}},Mce=(e,n)=>{const o=Rc(n,(a,c)=>Se(e,c));return Pce(o.t,o.f)},Lce=(e,n,o={})=>{const a=e.sections(),c=Zs(a,n).getOr({});return dn.extend({},o,c)},x9=(e,n)=>So(e.sections(),n),Bce=(e,n)=>x9(e,n)?e.sections()[n]:{},Fce=(e,n)=>({...{table_grid:!1,object_resizing:!1,resize:!1,toolbar_mode:Zs(e,"toolbar_mode").getOr("scrolling"),toolbar_sticky:!1},...n?{menubar:!1}:{}}),$ce=(e,n)=>{var o;const a=(o=n.external_plugins)!==null&&o!==void 0?o:{};return e&&e.external_plugins?dn.extend({},e.external_plugins,a):a},Vce=(e,n)=>[...uR(e),...uR(n)],zce=(e,n,o,a)=>e&&x9(n,"mobile")?a:o,Hce=(e,n,o,a)=>{const c=uR(o.forced_plugins),m=uR(a.plugins),p=Bce(n,"mobile"),S=p.plugins?uR(p.plugins):m,T=zce(e,n,m,S),V=Vce(c,T);return dn.extend(a,{forced_plugins:c,plugins:V})},Uce=(e,n)=>e&&x9(n,"mobile"),Wce=(e,n,o,a,c)=>{var m;const p=e?{mobile:Fce((m=c.mobile)!==null&&m!==void 0?m:{},n)}:{},S=Mce(["mobile"],HB(p,c)),T=dn.extend(o,a,S.options(),Uce(e,S)?Lce(S,"mobile"):{},{external_plugins:$ce(a,S.options())});return Hce(e,S,a,T)},Kce=(e,n)=>{const o=nj(n);return Wce(aG||Nce,aG,o,e,o)},jce=(e,n)=>SM(e,n),Zce=e=>{const n=(a,c)=>{e.formatter.toggle(a,c),e.nodeChanged()},o=a=>()=>{xe("left,center,right,justify".split(","),c=>{a!==c&&e.formatter.remove("align"+c)}),a!=="none"&&n("align"+a)};e.editorCommands.addCommands({JustifyLeft:o("left"),JustifyCenter:o("center"),JustifyRight:o("right"),JustifyFull:o("justify"),JustifyNone:o("none")})},Gce=e=>{const n=o=>()=>{const a=e.selection,c=a.isCollapsed()?[e.dom.getParent(a.getNode(),e.dom.isBlock)]:a.getSelectedBlocks();return Me(c,m=>Ce(e.formatter.matchNode(m,o)))};e.editorCommands.addCommands({JustifyLeft:n("alignleft"),JustifyCenter:n("aligncenter"),JustifyRight:n("alignright"),JustifyFull:n("alignjustify")},"state")},qce=e=>{Zce(e),Gce(e)},Yce=e=>{e.editorCommands.addCommands({"Cut,Copy,Paste":n=>{const o=e.getDoc();let a;try{o.execCommand(n)}catch{a=!0}if(n==="paste"&&!o.queryCommandEnabled(n)&&(a=!0),a||!o.queryCommandSupported(n)){let c=e.translate("Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.");(os.os.isMacOS()||os.os.isiOS())&&(c=c.replace(/Ctrl\+/g,"+")),e.notificationManager.open({text:c,type:"error"})}}})},Xce=(e,n,o,a)=>{const c=Ye.fromDom(e.getRoot());return Jy(c,Dt.fromRangeStart(n),a)?o=o.replace(/^ /,"&nbsp;"):o=o.replace(/^&nbsp;/," "),X0(c,Dt.fromRangeEnd(n),a)?o=o.replace(/(&nbsp;| )(<br( \/)>)?$/,"&nbsp;"):o=o.replace(/&nbsp;(<br( \/)?>)?$/," "),o},Jce=e=>{if(typeof e!="string"){const n=dn.extend({paste:e.paste,data:{paste:e.paste}},e);return{content:e.content,details:n}}return{content:e,details:{}}},Qce=(e,n)=>{const o=e.selection,a=e.dom;return/^ | $/.test(n)?Xce(a,o.getRng(),n,e.schema):n},d6=(e,n)=>{if(e.selection.isEditable()){const{content:o,details:a}=Jce(n);_4(e,{...a,content:Qce(e,o),format:"html",set:!1,selection:!0}).each(c=>{const m=YV(e,c.content,a);k4(e,m,c),e.addVisual()})}},eue=e=>{e.editorCommands.addCommands({mceCleanup:()=>{const n=e.selection.getBookmark();e.setContent(e.getContent()),e.selection.moveToBookmark(n)},insertImage:(n,o,a)=>{d6(e,e.dom.createHTML("img",{src:a}))},insertHorizontalRule:()=>{e.execCommand("mceInsertContent",!1,"<hr>")},insertText:(n,o,a)=>{d6(e,e.dom.encode(a))},insertHTML:(n,o,a)=>{d6(e,a)},mceInsertContent:(n,o,a)=>{d6(e,a)},mceSetContent:(n,o,a)=>{e.setContent(a)},mceReplaceContent:(n,o,a)=>{e.execCommand("mceInsertContent",!1,a.replace(/\{\$selection\}/g,e.selection.getContent({format:"text"})))},mceNewDocument:()=>{e.setContent(Ls(e))}})},tue={"font-size":"size","font-family":"face"},nue=ef("font"),oue=(e,n,o)=>{const a=m=>Zr(m,e).orThunk(()=>nue(m)?Zs(tue,e).bind(p=>hi(m,p)):te.none()),c=m=>us(Ye.fromDom(n),m);return V2(Ye.fromDom(o),m=>a(m),c)},sue=e=>e.replace(/[\'\"\\]/g,"").replace(/,\s+/g,","),rue=(e,n)=>te.from(br.DOM.getStyle(n,e,!0)),lG=e=>(n,o)=>te.from(o).map(Ye.fromDom).filter(Qr).bind(a=>oue(e,n,a.dom).or(rue(e,a.dom))).getOr(""),iue=lG("font-size"),aue=Ft(sue,lG("font-family")),lue=e=>yo(e.getBody()).bind(n=>{const o=n.container();return te.from(on(o)?o.parentNode:o)}),cue=e=>te.from(e.selection.getRng()).bind(n=>{const o=e.getBody();return n.startContainer===o&&n.startOffset===0?te.none():te.from(e.selection.getStart(!0))}),uue=(e,n)=>cue(e).orThunk(rt(lue,e)).map(Ye.fromDom).filter(Qr).bind(n),w9=(e,n)=>uue(e,en(te.some,n)),cG=(e,n)=>{if(/^[0-9.]+$/.test(n)){const o=parseInt(n,10);if(o>=1&&o<=7){const a=CT(e),c=ST(e);return c.length>0?c[o-1]||n:a[o-1]||n}else return n}else return n},due=e=>{const n=e.split(/\s*,\s*/);return Ke(n,o=>o.indexOf(" ")!==-1&&!(wr(o,'"')||wr(o,"'"))?`'${o}'`:o).join(",")},fue=(e,n)=>{const o=cG(e,n);e.formatter.toggle("fontname",{value:due(o)}),e.nodeChanged()},mue=e=>w9(e,n=>aue(e.getBody(),n.dom)).getOr(""),gue=(e,n)=>{e.formatter.toggle("fontsize",{value:cG(e,n)}),e.nodeChanged()},hue=e=>w9(e,n=>iue(e.getBody(),n.dom)).getOr(""),pue=e=>w9(e,n=>{const o=Ye.fromDom(e.getBody()),a=V2(n,m=>Zr(m,"line-height"),rt(us,o)),c=()=>{const m=parseFloat($r(n,"line-height")),p=parseFloat($r(n,"font-size"));return String(m/p)};return a.getOrThunk(c)}).getOr(""),bue=(e,n)=>{e.formatter.toggle("lineheight",{value:String(n)}),e.nodeChanged()},vue=e=>{const n=(o,a)=>{e.formatter.toggle(o,a),e.nodeChanged()};e.editorCommands.addCommands({"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":o=>{n(o)},"ForeColor,HiliteColor":(o,a,c)=>{n(o,{value:c})},BackColor:(o,a,c)=>{n("hilitecolor",{value:c})},FontName:(o,a,c)=>{fue(e,c)},FontSize:(o,a,c)=>{gue(e,c)},LineHeight:(o,a,c)=>{bue(e,c)},Lang:(o,a,c)=>{var m;n(o,{value:c.code,customValue:(m=c.customCode)!==null&&m!==void 0?m:null})},RemoveFormat:o=>{e.formatter.remove(o)},mceBlockQuote:()=>{n("blockquote")},FormatBlock:(o,a,c)=>{n(de(c)?c:"p")},mceToggleFormat:(o,a,c)=>{n(c)}})},yue=e=>{const n=o=>e.formatter.match(o);e.editorCommands.addCommands({"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":o=>n(o),mceBlockQuote:()=>n("blockquote")},"state"),e.editorCommands.addQueryValueHandler("FontName",()=>mue(e)),e.editorCommands.addQueryValueHandler("FontSize",()=>hue(e)),e.editorCommands.addQueryValueHandler("LineHeight",()=>pue(e))},xue=e=>{vue(e),yue(e)},wue=e=>{e.editorCommands.addCommands({mceAddUndoLevel:()=>{e.undoManager.add()},mceEndUndoLevel:()=>{e.undoManager.add()},Undo:()=>{e.undoManager.undo()},Redo:()=>{e.undoManager.redo()}})},Cue=e=>{e.editorCommands.addCommands({Indent:()=>{zt(e)},Outdent:()=>{Bt(e)}}),e.editorCommands.addCommands({Outdent:()=>Ee(e)},"state")},Sue=e=>{const n=(o,a,c)=>{const m=de(c)?{href:c}:c,p=e.dom.getParent(e.selection.getNode(),"a");q(m)&&de(m.href)&&(m.href=m.href.replace(/ /g,"%20"),(!p||!m.href)&&e.formatter.remove("link"),m.href&&e.formatter.apply("link",m,p))};e.editorCommands.addCommands({unlink:()=>{if(e.selection.isEditable()){if(e.selection.isCollapsed()){const o=e.dom.getParent(e.selection.getStart(),"a");o&&e.dom.remove(o,!0);return}e.formatter.remove("link")}},mceInsertLink:n,createLink:n})},_ue=(e,n,o,a)=>{const c=e.dom,m=S=>c.isBlock(S)&&S.parentElement===o,p=m(n)?n:c.getParent(a,m,o);return te.from(p).map(Ye.fromDom)},uG=(e,n)=>{const o=e.dom,a=e.selection.getRng(),c=n?e.selection.getStart():e.selection.getEnd(),m=n?a.startContainer:a.endContainer,p=rR(o,m);if(!p||!p.isContentEditable)return;const S=n?Dr:vt,T=Jl(e);_ue(e,c,p,m).each(V=>{const X=Aj(e,m,V.dom,p,!1,T);S(V,Ye.fromDom(X)),e.selection.setCursorLocation(X,0),e.dispatch("NewBlock",{newBlock:X}),sR(e,"insertParagraph")})},kue=e=>uG(e,!0),Eue=e=>uG(e,!1),Tue=e=>{e.editorCommands.addCommands({InsertNewBlockBefore:()=>{kue(e)},InsertNewBlockAfter:()=>{Eue(e)}})},Aue=e=>{e.editorCommands.addCommands({insertParagraph:()=>{JB(Dj,e)},mceInsertNewLine:(n,o,a)=>{$j(e,a)},InsertLineBreak:(n,o,a)=>{JB(Mj,e)}})},Oue=e=>{e.editorCommands.addCommands({mceSelectNodeDepth:(n,o,a)=>{let c=0;e.dom.getParent(e.selection.getNode(),m=>Un(m)&&c++===a?(e.selection.select(m),!1):!0,e.getBody())},mceSelectNode:(n,o,a)=>{e.selection.select(a)},selectAll:()=>{const n=e.dom.getParent(e.selection.getStart(),Kc);if(n){const o=e.dom.createRng();o.selectNodeContents(n),e.selection.setRng(o)}}})},Rue=e=>{e.editorCommands.addCommands({mceRemoveNode:(n,o,a)=>{const c=a??e.selection.getNode();if(c!==e.getBody()){const m=e.selection.getBookmark();e.dom.remove(c,!0),e.selection.moveToBookmark(m)}},mcePrint:()=>{e.getWin().print()},mceFocus:(n,o,a)=>{NP(e,a===!0)},mceToggleVisualAid:()=>{e.hasVisual=!e.hasVisual,e.addVisual()}})},Iue=e=>{qce(e),Yce(e),wue(e),Oue(e),eue(e),Sue(e),Cue(e),Tue(e),Aue(e),xue(e),Rue(e)},Due=["toggleview"],dG=e=>Se(Due,e.toLowerCase());class fG{constructor(n){this.commands={state:{},exec:{},value:{}},this.editor=n}execCommand(n,o=!1,a,c){const m=this.editor,p=n.toLowerCase(),S=c==null?void 0:c.skip_focus;if(m.removed||(p!=="mcefocus"&&(!/^(mceAddUndoLevel|mceEndUndoLevel)$/i.test(p)&&!S?m.focus():r_(m)),m.dispatch("BeforeExecCommand",{command:n,ui:o,value:a}).isDefaultPrevented()))return!1;const V=this.commands.exec[p];return Te(V)?(V(p,o,a),m.dispatch("ExecCommand",{command:n,ui:o,value:a}),!0):!1}queryCommandState(n){if(!dG(n)&&this.editor.quirks.isHidden()||this.editor.removed)return!1;const o=n.toLowerCase(),a=this.commands.state[o];return Te(a)?a(o):!1}queryCommandValue(n){if(!dG(n)&&this.editor.quirks.isHidden()||this.editor.removed)return"";const o=n.toLowerCase(),a=this.commands.value[o];return Te(a)?a(o):""}addCommands(n,o="exec"){const a=this.commands;Go(n,(c,m)=>{xe(m.toLowerCase().split(","),p=>{a[o][p]=c})})}addCommand(n,o,a){const c=n.toLowerCase();this.commands.exec[c]=(m,p,S)=>o.call(a??this.editor,p,S)}queryCommandSupported(n){const o=n.toLowerCase();return!!this.commands.exec[o]}addQueryStateHandler(n,o,a){this.commands.state[n.toLowerCase()]=()=>o.call(a??this.editor)}addQueryValueHandler(n,o,a){this.commands.value[n.toLowerCase()]=()=>o.call(a??this.editor)}}const EC="data-mce-contenteditable",Pue=(e,n,o)=>{Mu(e,n)&&!o?Ia(e,n):o&&lu(e,n)},C9=(e,n,o)=>{try{e.getDoc().execCommand(n,!1,String(o))}catch{}},f6=(e,n)=>{e.dom.contentEditable=n?"true":"false"},Nue=e=>{xe(bi(e,'*[contenteditable="true"]'),n=>{Ei(n,EC,"true"),f6(n,!1)})},Mue=e=>{xe(bi(e,`*[${EC}="true"]`),n=>{qo(n,EC),f6(n,!0)})},Lue=e=>{te.from(e.selection.getNode()).each(n=>{n.removeAttribute("data-mce-selected")})},Bue=e=>{e.selection.setRng(e.selection.getRng())},Fue=(e,n)=>{const o=Ye.fromDom(e.getBody());Pue(o,"mce-content-readonly",n),n?(e.selection.controlSelection.hideResizeRect(),e._selectionOverrides.hideFakeCaret(),Lue(e),e.readonly=!0,f6(o,!1),Nue(o)):(e.readonly=!1,e.hasEditableRoot()&&f6(o,!0),Mue(o),C9(e,"StyleWithCSS",!1),C9(e,"enableInlineTableEditing",!1),C9(e,"enableObjectResizing",!1),K0(e)&&e.focus(),Bue(e),e.nodeChanged())},TC=e=>e.readonly,mG=e=>{e.parser.addAttributeFilter("contenteditable",n=>{TC(e)&&xe(n,o=>{o.attr(EC,o.attr("contenteditable")),o.attr("contenteditable","false")})}),e.serializer.addAttributeFilter(EC,n=>{TC(e)&&xe(n,o=>{o.attr("contenteditable",o.attr(EC))})}),e.serializer.addTempAttr(EC)},$ue=e=>{e.serializer?mG(e):e.on("PreInit",()=>{mG(e)})},Vue=e=>e.type==="click",zue=["copy"],Hue=e=>Se(zue,e.type),Uue=(e,n)=>Bi(n,"a",a=>us(a,Ye.fromDom(e.getBody()))).bind(a=>hi(a,"href")),Wue=(e,n)=>{if(Vue(n)&&!On.metaKeyPressed(n)){const o=Ye.fromDom(n.target);Uue(e,o).each(a=>{if(n.preventDefault(),/^#/.test(a)){const c=e.dom.select(`${a},[name="${Aa(a,"#")}"]`);c.length&&e.selection.scrollIntoView(c[0],!0)}else window.open(a,"_blank","rel=noopener noreferrer,menubar=yes,toolbar=yes,location=yes,status=yes,resizable=yes,scrollbars=yes")})}else Hue(n)&&e.dispatch(n.type,n)},Kue=e=>{e.on("ShowCaret",n=>{TC(e)&&n.preventDefault()}),e.on("ObjectSelected",n=>{TC(e)&&n.preventDefault()})},jue=dn.makeMap("focus blur focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange mouseout mouseenter mouseleave wheel keydown keypress keyup input beforeinput contextmenu dragstart dragend dragover draggesture dragdrop drop drag submit compositionstart compositionend compositionupdate touchstart touchmove touchend touchcancel"," ");class S9{static isNative(n){return!!jue[n.toLowerCase()]}constructor(n){this.bindings={},this.settings=n||{},this.scope=this.settings.scope||this,this.toggleEvent=this.settings.toggleEvent||Bn}fire(n,o){return this.dispatch(n,o)}dispatch(n,o){const a=n.toLowerCase(),c=ry(a,o??{},this.scope);this.settings.beforeFire&&this.settings.beforeFire(c);const m=this.bindings[a];if(m)for(let p=0,S=m.length;p<S;p++){const T=m[p];if(!T.removed){if(T.once&&this.off(a,T.func),c.isImmediatePropagationStopped())return c;if(T.func.call(this.scope,c)===!1)return c.preventDefault(),c}}return c}on(n,o,a,c){if(o===!1&&(o=Bn),o){const m={func:o,removed:!1};c&&dn.extend(m,c);const p=n.toLowerCase().split(" ");let S=p.length;for(;S--;){const T=p[S];let V=this.bindings[T];V||(V=[],this.toggleEvent(T,!0)),a?V=[m,...V]:V=[...V,m],this.bindings[T]=V}}return this}off(n,o){if(n){const a=n.toLowerCase().split(" ");let c=a.length;for(;c--;){const m=a[c];let p=this.bindings[m];if(!m)return Go(this.bindings,(S,T)=>{this.toggleEvent(T,!1),delete this.bindings[T]}),this;if(p){if(!o)p.length=0;else{const S=Fe(p,T=>T.func===o);p=S.fail,this.bindings[m]=p,xe(S.pass,T=>{T.removed=!0})}p.length||(this.toggleEvent(n,!1),delete this.bindings[m])}}}else Go(this.bindings,(a,c)=>{this.toggleEvent(c,!1)}),this.bindings={};return this}once(n,o,a){return this.on(n,o,a,{once:!0})}has(n){n=n.toLowerCase();const o=this.bindings[n];return!(!o||o.length===0)}}const dR=e=>(e._eventDispatcher||(e._eventDispatcher=new S9({scope:e,toggleEvent:(n,o)=>{S9.isNative(n)&&e.toggleNativeEvent&&e.toggleNativeEvent(n,o)}})),e._eventDispatcher),_9={fire(e,n,o){return this.dispatch(e,n,o)},dispatch(e,n,o){const a=this;if(a.removed&&e!=="remove"&&e!=="detach")return ry(e.toLowerCase(),n??{},a);const c=dR(a).dispatch(e,n);if(o!==!1&&a.parent){let m=a.parent();for(;m&&!c.isPropagationStopped();)m.dispatch(e,c,!1),m=m.parent?m.parent():void 0}return c},on(e,n,o){return dR(this).on(e,n,o)},off(e,n){return dR(this).off(e,n)},once(e,n){return dR(this).once(e,n)},hasEventListeners(e){return dR(this).has(e)}},m6=br.DOM;let AC;const g6=(e,n)=>{if(n==="selectionchange")return e.getDoc();if(!e.inline&&/^(?:mouse|touch|click|contextmenu|drop|dragover|dragend)/.test(n))return e.getDoc().documentElement;const o=VI(e);return o?(e.eventRoot||(e.eventRoot=m6.select(o)[0]),e.eventRoot):e.getBody()},Zue=e=>!e.hidden&&!TC(e),gG=(e,n,o)=>{Zue(e)?e.dispatch(n,o):TC(e)&&Wue(e,o)},hG=(e,n)=>{if(e.delegates||(e.delegates={}),e.delegates[n]||e.removed)return;const o=g6(e,n);if(VI(e)){if(AC||(AC={},e.editorManager.on("removeEditor",()=>{e.editorManager.activeEditor||AC&&(Go(AC,(c,m)=>{e.dom.unbind(g6(e,m))}),AC=null)})),AC[n])return;const a=c=>{const m=c.target,p=e.editorManager.get();let S=p.length;for(;S--;){const T=p[S].getBody();(T===m||m6.isChildOf(m,T))&&gG(p[S],n,c)}};AC[n]=a,m6.bind(o,n,a)}else{const a=c=>{gG(e,n,c)};m6.bind(o,n,a),e.delegates[n]=a}},pG={..._9,bindPendingEventDelegates(){const e=this;dn.each(e._pendingNativeEvents,n=>{hG(e,n)})},toggleNativeEvent(e,n){const o=this;e==="focus"||e==="blur"||o.removed||(n?o.initialized?hG(o,e):o._pendingNativeEvents?o._pendingNativeEvents.push(e):o._pendingNativeEvents=[e]:o.initialized&&o.delegates&&(o.dom.unbind(g6(o,e),e,o.delegates[e]),delete o.delegates[e]))},unbindAllNativeEvents(){const e=this,n=e.getBody(),o=e.dom;e.delegates&&(Go(e.delegates,(a,c)=>{e.dom.unbind(g6(e,c),c,a)}),delete e.delegates),!e.inline&&n&&o&&(n.onload=null,o.unbind(e.getWin()),o.unbind(e.getDoc())),o&&(o.unbind(n),o.unbind(e.getContainer()))}},Gue=e=>de(e)?{value:e.split(/[ ,]/),valid:!0}:dt(e,de)?{value:e,valid:!0}:{valid:!1,message:"The value must be a string[] or a comma/space separated string."},que=e=>{const n=(()=>{switch(e){case"array":return oe;case"boolean":return Ue;case"function":return Te;case"number":return I;case"object":return q;case"string":return de;case"string[]":return Gue;case"object[]":return o=>dt(o,q);case"regexp":return o=>ge(o,RegExp);default:return Jt}})();return o=>k9(o,n,`The value must be a ${e}.`)},Yue=e=>de(e.processor),bG=(e,n)=>{const o=rn(n.message)?"":`. ${n.message}`;return e+o},vG=e=>e.valid,k9=(e,n,o="")=>{const a=n(e);return Ue(a)?a?{value:e,valid:!0}:{valid:!1,message:o}:a},Xue=(e,n,o)=>{if(!Qe(n)){const a=k9(n,o);if(vG(a))return a.value;console.error(bG(`Invalid default value passed for the "${e}" option`,a))}},Jue=(e,n,o=n)=>{const a={},c={},m=(we,Ne,ke)=>{const $e=k9(Ne,ke);return vG($e)?(c[we]=$e.value,!0):(console.warn(bG(`Invalid value passed for the ${we} option`,$e)),!1)},p=(we,Ne)=>{const ke=Yue(Ne)?que(Ne.processor):Ne.processor,$e=Xue(we,Ne.default,ke);a[we]={...Ne,default:$e,processor:ke},Zs(c,we).orThunk(()=>Zs(n,we)).each(ut=>m(we,ut,ke))},S=we=>So(a,we);return{register:p,isRegistered:S,get:we=>Zs(c,we).orThunk(()=>Zs(a,we).map(Ne=>Ne.default)).getOrUndefined(),set:(we,Ne)=>{if(S(we)){const ke=a[we];return ke.immutable?(console.error(`"${we}" is an immutable option and cannot be updated`),!1):m(we,Ne,ke.processor)}else return console.warn(`"${we}" is not a registered option. Ensure the option has been registered before setting a value.`),!1},unset:we=>{const Ne=S(we);return Ne&&delete c[we],Ne},isSet:we=>So(c,we),debug:()=>{try{console.log(JSON.parse(JSON.stringify(o,(we,Ne)=>Ue(Ne)||I(Ne)||de(Ne)||_e(Ne)||oe(Ne)||he(Ne)?Ne:Object.prototype.toString.call(Ne))))}catch(we){console.error(we)}}}},Que=["design","readonly"],yG=(e,n,o,a)=>{const c=o[n.get()],m=o[a];try{m.activate()}catch(p){console.error(`problem while activating editor mode ${a}:`,p);return}c.deactivate(),c.editorReadOnly!==m.editorReadOnly&&Fue(e,m.editorReadOnly),n.set(a),XD(e,a)},ede=(e,n,o,a)=>{if(a!==o.get()){if(!So(n,a))throw new Error(`Editor mode '${a}' is invalid`);e.initialized?yG(e,o,n,a):e.on("init",()=>yG(e,o,n,a))}},tde=(e,n,o)=>{if(Se(Que,n))throw new Error(`Cannot override default mode ${n}`);return{...e,[n]:{...o,deactivate:()=>{try{o.deactivate()}catch(a){console.error(`problem while deactivating editor mode ${n}:`,a)}}}}},nde=e=>{const n=Fi("design"),o=Fi({design:{activate:gt,deactivate:gt,editorReadOnly:!1},readonly:{activate:gt,deactivate:gt,editorReadOnly:!0}});return $ue(e),Kue(e),{isReadOnly:()=>TC(e),set:a=>ede(e,o.get(),n,a),get:()=>n.get(),register:(a,c)=>{o.set(tde(o.get(),a,c))}}},E9=dn.each,T9=dn.explode,ode={f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123},xG=dn.makeMap("alt,ctrl,shift,meta,access"),sde=e=>e in xG,rde=e=>{const n={},o=os.os.isMacOS()||os.os.isiOS();E9(T9(e.toLowerCase(),"+"),m=>{sde(m)?n[m]=!0:/^[0-9]{2,}$/.test(m)?n.keyCode=parseInt(m,10):(n.charCode=m.charCodeAt(0),n.keyCode=ode[m]||m.toUpperCase().charCodeAt(0))});const a=[n.keyCode];let c;for(c in xG)n[c]?a.push(c):n[c]=!1;return n.id=a.join(","),n.access&&(n.alt=!0,o?n.ctrl=!0:n.shift=!0),n.meta&&(o?n.meta=!0:(n.ctrl=!0,n.meta=!1)),n};class wG{constructor(n){this.shortcuts={},this.pendingPatterns=[],this.editor=n;const o=this;n.on("keyup keypress keydown",a=>{(o.hasModifier(a)||o.isFunctionKey(a))&&!a.isDefaultPrevented()&&(E9(o.shortcuts,c=>{o.matchShortcut(a,c)&&(o.pendingPatterns=c.subpatterns.slice(0),a.type==="keydown"&&o.executeShortcutAction(c))}),o.matchShortcut(a,o.pendingPatterns[0])&&(o.pendingPatterns.length===1&&a.type==="keydown"&&o.executeShortcutAction(o.pendingPatterns[0]),o.pendingPatterns.shift()))})}add(n,o,a,c){const m=this,p=m.normalizeCommandFunc(a);return E9(T9(dn.trim(n)),S=>{const T=m.createShortcut(S,o,p,c);m.shortcuts[T.id]=T}),!0}remove(n){const o=this.createShortcut(n);return this.shortcuts[o.id]?(delete this.shortcuts[o.id],!0):!1}normalizeCommandFunc(n){const o=this,a=n;return typeof a=="string"?()=>{o.editor.execCommand(a,!1,null)}:dn.isArray(a)?()=>{o.editor.execCommand(a[0],a[1],a[2])}:a}createShortcut(n,o,a,c){const m=dn.map(T9(n,">"),rde);return m[m.length-1]=dn.extend(m[m.length-1],{func:a,scope:c||this.editor}),dn.extend(m[0],{desc:this.editor.translate(o),subpatterns:m.slice(1)})}hasModifier(n){return n.altKey||n.ctrlKey||n.metaKey}isFunctionKey(n){return n.type==="keydown"&&n.keyCode>=112&&n.keyCode<=123}matchShortcut(n,o){return!o||o.ctrl!==n.ctrlKey||o.meta!==n.metaKey||o.alt!==n.altKey||o.shift!==n.shiftKey?!1:n.keyCode===o.keyCode||n.charCode&&n.charCode===o.charCode?(n.preventDefault(),!0):!1}executeShortcutAction(n){return n.func?n.func.call(n.scope):null}}const ide=()=>{const e={},n={},o={},a={},c={},m={},p={},S={},T=(X,ee)=>(ae,we)=>{X[ae.toLowerCase()]={...we,type:ee}},V=(X,ee)=>a[X.toLowerCase()]=ee;return{addButton:T(e,"button"),addGroupToolbarButton:T(e,"grouptoolbarbutton"),addToggleButton:T(e,"togglebutton"),addMenuButton:T(e,"menubutton"),addSplitButton:T(e,"splitbutton"),addMenuItem:T(n,"menuitem"),addNestedMenuItem:T(n,"nestedmenuitem"),addToggleMenuItem:T(n,"togglemenuitem"),addAutocompleter:T(o,"autocompleter"),addContextMenu:T(c,"contextmenu"),addContextToolbar:T(m,"contexttoolbar"),addContextForm:T(m,"contextform"),addSidebar:T(p,"sidebar"),addView:T(S,"views"),addIcon:V,getAll:()=>({buttons:e,menuItems:n,icons:a,popups:o,contextMenus:c,contextToolbars:m,sidebars:p,views:S})}},ade=()=>{const e=ide();return{addAutocompleter:e.addAutocompleter,addButton:e.addButton,addContextForm:e.addContextForm,addContextMenu:e.addContextMenu,addContextToolbar:e.addContextToolbar,addIcon:e.addIcon,addMenuButton:e.addMenuButton,addMenuItem:e.addMenuItem,addNestedMenuItem:e.addNestedMenuItem,addSidebar:e.addSidebar,addSplitButton:e.addSplitButton,addToggleButton:e.addToggleButton,addGroupToolbarButton:e.addGroupToolbarButton,addToggleMenuItem:e.addToggleMenuItem,addView:e.addView,getAll:e.getAll}},OC=br.DOM,CG=dn.extend,lde=dn.each;class h6{constructor(n,o,a){this.plugins={},this.contentCSS=[],this.contentStyles=[],this.loadedCSS={},this.isNotDirty=!1,this.composing=!1,this.destroyed=!1,this.hasHiddenInput=!1,this.iframeElement=null,this.initialized=!1,this.readonly=!1,this.removed=!1,this.startContent="",this._pendingNativeEvents=[],this._skinLoaded=!1,this._editableRoot=!0,this.editorManager=a,this.documentBaseUrl=a.documentBaseURL,CG(this,pG);const c=this;this.id=n,this.hidden=!1;const m=Kce(a.defaultOptions,o);this.options=Jue(c,m,o),yS(c);const p=this.options.get;p("deprecation_warnings")&&dz(o,m);const S=p("suffix");S&&(a.suffix=S),this.suffix=a.suffix;const T=p("base_url");T&&a._setBaseUrl(T),this.baseUri=a.baseURI;const V=Lw(c);V&&(dc.ScriptLoader._setReferrerPolicy(V),br.DOM.styleSheetLoader._setReferrerPolicy(V));const X=ZI(c);Ce(X)&&br.DOM.styleSheetLoader._setContentCssCors(X),Yl.languageLoad=p("language_load"),Yl.baseURL=a.baseURL,this.setDirty(!1),this.documentBaseURI=new Rf(Ed(c),{base_uri:this.baseUri}),this.baseURI=this.baseUri,this.inline=A0(c),this.hasVisual=ed(c),this.shortcuts=new wG(this),this.editorCommands=new fG(this),Iue(this);const ee=p("cache_suffix");ee&&(os.cacheSuffix=ee.replace(/^[\?\&]+/,"")),this.ui={registry:ade(),styleSheetLoader:void 0,show:gt,hide:gt,setEnabled:gt,isEnabled:Jt},this.mode=nde(c),a.dispatch("SetupEditor",{editor:this});const ae=Ny(c);Te(ae)&&ae.call(c,c)}render(){Rce(this)}focus(n){this.execCommand("mceFocus",!1,n)}hasFocus(){return Ky(this)}translate(n){return Yu.translate(n)}getParam(n,o,a){const c=this.options;return c.isRegistered(n)||(Ce(a)?c.register(n,{processor:a,default:o}):c.register(n,{processor:Jt,default:o})),!c.isSet(n)&&!Qe(o)?o:c.get(n)}hasPlugin(n,o){return Se(wm(this),n)?o?l1.get(n)!==void 0:!0:!1}nodeChanged(n){this._nodeChangeDispatcher.nodeChanged(n)}addCommand(n,o,a){this.editorCommands.addCommand(n,o,a)}addQueryStateHandler(n,o,a){this.editorCommands.addQueryStateHandler(n,o,a)}addQueryValueHandler(n,o,a){this.editorCommands.addQueryValueHandler(n,o,a)}addShortcut(n,o,a,c){this.shortcuts.add(n,o,a,c)}execCommand(n,o,a,c){return this.editorCommands.execCommand(n,o,a,c)}queryCommandState(n){return this.editorCommands.queryCommandState(n)}queryCommandValue(n){return this.editorCommands.queryCommandValue(n)}queryCommandSupported(n){return this.editorCommands.queryCommandSupported(n)}show(){const n=this;n.hidden&&(n.hidden=!1,n.inline?n.getBody().contentEditable="true":(OC.show(n.getContainer()),OC.hide(n.id)),n.load(),n.dispatch("show"))}hide(){const n=this;n.hidden||(n.save(),n.inline?(n.getBody().contentEditable="false",n===n.editorManager.focusedEditor&&(n.editorManager.focusedEditor=null)):(OC.hide(n.getContainer()),OC.setStyle(n.id,"display",n.orgDisplay)),n.hidden=!0,n.dispatch("hide"))}isHidden(){return this.hidden}setProgressState(n,o){this.dispatch("ProgressState",{state:n,time:o})}load(n={}){const o=this,a=o.getElement();if(o.removed)return"";if(a){const c={...n,load:!0},m=Yg(a)?a.value:a.innerHTML,p=o.setContent(m,c);return c.no_events||o.dispatch("LoadContent",{...c,element:a}),p}else return""}save(n={}){const o=this;let a=o.getElement();if(!a||!o.initialized||o.removed)return"";const c={...n,save:!0,element:a};let m=o.getContent(c);const p={...c,content:m};if(p.no_events||o.dispatch("SaveContent",p),p.format==="raw"&&o.dispatch("RawSaveContent",p),m=p.content,Yg(a))a.value=m;else{(n.is_removing||!o.inline)&&(a.innerHTML=m);const S=OC.getParent(o.id,"form");S&&lde(S.elements,T=>T.name===o.id?(T.value=m,!1):!0)}return p.element=c.element=a=null,p.set_dirty!==!1&&o.setDirty(!1),m}setContent(n,o){return J4(this,n,o)}getContent(n){return LM(this,n)}insertContent(n,o){o&&(n=CG({content:n},o)),this.execCommand("mceInsertContent",!1,n)}resetContent(n){n===void 0?J4(this,this.startContent,{format:"raw"}):J4(this,n),this.undoManager.reset(),this.setDirty(!1),this.nodeChanged()}isDirty(){return!this.isNotDirty}setDirty(n){const o=!this.isNotDirty;this.isNotDirty=!n,n&&n!==o&&this.dispatch("dirty")}getContainer(){const n=this;return n.container||(n.container=n.editorContainer||OC.get(n.id+"_parent")),n.container}getContentAreaContainer(){return this.contentAreaContainer}getElement(){return this.targetElm||(this.targetElm=OC.get(this.id)),this.targetElm}getWin(){const n=this;if(!n.contentWindow){const o=n.iframeElement;o&&(n.contentWindow=o.contentWindow)}return n.contentWindow}getDoc(){const n=this;if(!n.contentDocument){const o=n.getWin();o&&(n.contentDocument=o.document)}return n.contentDocument}getBody(){var n,o;const a=this.getDoc();return(o=(n=this.bodyElement)!==null&&n!==void 0?n:a==null?void 0:a.body)!==null&&o!==void 0?o:null}convertURL(n,o,a){const c=this,m=c.options.get,p=I8(c);if(Te(p))return p.call(c,n,a,!0,o);if(!m("convert_urls")||a==="link"||q(a)&&a.nodeName==="LINK"||n.indexOf("file:")===0||n.length===0)return n;const S=new Rf(n);return S.protocol!=="http"&&S.protocol!=="https"&&S.protocol!==""?n:m("relative_urls")?c.documentBaseURI.toRelative(n):(n=c.documentBaseURI.toAbsolute(n,m("remove_script_host")),n)}addVisual(n){jce(this,n)}setEditableRoot(n){Ice(this,n)}hasEditableRoot(){return Dce(this)}remove(){WM(this)}destroy(n){mz(this,n)}uploadImages(){return this.editorUpload.uploadImages()}_scanForImages(){return this.editorUpload.scanForImages()}}const Gk=br.DOM,p6=dn.each;let SG=!1,b6,Nd=[];const v6=e=>{const n=e.type;p6(Ex.get(),o=>{switch(n){case"scroll":o.dispatch("ScrollWindow",e);break;case"resize":o.dispatch("ResizeWindow",e);break}})},_G=e=>{if(e!==SG){const n=br.DOM;e?(n.bind(window,"resize",v6),n.bind(window,"scroll",v6)):(n.unbind(window,"resize",v6),n.unbind(window,"scroll",v6)),SG=e}},kG=e=>{const n=Nd;return Nd=Je(Nd,o=>e!==o),Ex.activeEditor===e&&(Ex.activeEditor=Nd.length>0?Nd[0]:null),Ex.focusedEditor===e&&(Ex.focusedEditor=null),n.length!==Nd.length},cde=e=>{e&&e.initialized&&!(e.getContainer()||e.getBody()).parentNode&&(kG(e),e.unbindAllNativeEvents(),e.destroy(!0),e.removed=!0)},ude=document.compatMode!=="CSS1Compat",Ex={..._9,baseURI:null,baseURL:null,defaultOptions:{},documentBaseURL:null,suffix:null,majorVersion:"7",minorVersion:"3.0",releaseDate:"2024-08-07",i18n:Yu,activeEditor:null,focusedEditor:null,setup(){const e=this;let n="",o="",a=Rf.getDocumentBaseUrl(document.location);/^[^:]+:\/\/\/?[^\/]+\//.test(a)&&(a=a.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(a)||(a+="/"));const c=window.tinymce||window.tinyMCEPreInit;if(c)n=c.base||c.baseURL,o=c.suffix;else{const m=document.getElementsByTagName("script");for(let p=0;p<m.length;p++){const S=m[p].src||"";if(S==="")continue;const T=S.substring(S.lastIndexOf("/"));if(/tinymce(\.full|\.jquery|)(\.min|\.dev|)\.js/.test(S)){T.indexOf(".min")!==-1&&(o=".min"),n=S.substring(0,S.lastIndexOf("/"));break}}if(!n&&document.currentScript){const p=document.currentScript.src;p.indexOf(".min")!==-1&&(o=".min"),n=p.substring(0,p.lastIndexOf("/"))}}e.baseURL=new Rf(a).toAbsolute(n),e.documentBaseURL=a,e.baseURI=new Rf(e.baseURL),e.suffix=o,N7(e)},overrideDefaults(e){const n=e.base_url;n&&this._setBaseUrl(n);const o=e.suffix;o&&(this.suffix=o),this.defaultOptions=e;const a=e.plugin_base_urls;a!==void 0&&Go(a,(c,m)=>{Yl.PluginManager.urls[m]=c})},init(e){const n=this;let o;const a=dn.makeMap("area base basefont br col frame hr img input isindex link meta param embed source wbr track colgroup option table tbody tfoot thead tr th td script noscript style textarea video audio iframe object menu"," "),c=(X,ee)=>X.inline&&ee.tagName.toLowerCase()in a,m=X=>{let ee=X.id;return ee||(ee=Zs(X,"name").filter(ae=>!Gk.get(ae)).getOrThunk(Gk.uniqueId),X.setAttribute("id",ee)),ee},p=X=>{const ee=e[X];if(ee)return ee.apply(n,[])},S=X=>os.browser.isIE()||os.browser.isEdge()?(iC("TinyMCE does not support the browser you are using. For a list of supported browsers please see: https://www.tiny.cloud/docs/tinymce/7/support/#supportedwebbrowsers"),[]):ude?(iC("Failed to initialize the editor as the document is not in standards mode. TinyMCE requires standards mode."),[]):de(X.selector)?Gk.select(X.selector):Ce(X.target)?[X.target]:[];let T=X=>{o=X};const V=()=>{let X=0;const ee=[];let ae;const we=(Ne,ke,$e)=>{const nt=new h6(Ne,ke,n);ee.push(nt),nt.on("init",()=>{++X===ae.length&&T(ee)}),nt.targetElm=nt.targetElm||$e,nt.render()};Gk.unbind(window,"ready",V),p("onpageload"),ae=ul(S(e)),dn.each(ae,Ne=>{cde(n.get(Ne.id))}),ae=dn.grep(ae,Ne=>!n.get(Ne.id)),ae.length===0?T([]):p6(ae,Ne=>{c(e,Ne)?iC("Could not initialize inline editor on invalid inline target element",Ne):we(m(Ne),e,Ne)})};return Gk.bind(window,"ready",V),new Promise(X=>{o?X(o):T=ee=>{X(ee)}})},get(e){return arguments.length===0?Nd.slice(0):de(e)?An(Nd,n=>n.id===e).getOr(null):I(e)&&Nd[e]?Nd[e]:null},add(e){const n=this,o=n.get(e.id);return o===e||(o===null&&Nd.push(e),_G(!0),n.activeEditor=e,n.dispatch("AddEditor",{editor:e}),b6||(b6=a=>{const c=n.dispatch("BeforeUnload");if(c.returnValue)return a.preventDefault(),a.returnValue=c.returnValue,c.returnValue},window.addEventListener("beforeunload",b6))),e},createEditor(e,n){return this.add(new h6(e,n,this))},remove(e){const n=this;let o;if(!e){for(let a=Nd.length-1;a>=0;a--)n.remove(Nd[a]);return}if(de(e)){p6(Gk.select(e),a=>{o=n.get(a.id),o&&n.remove(o)});return}return o=e,_e(n.get(o.id))?null:(kG(o)&&n.dispatch("RemoveEditor",{editor:o}),Nd.length===0&&window.removeEventListener("beforeunload",b6),o.remove(),_G(Nd.length>0),o)},execCommand(e,n,o){var a;const c=this,m=q(o)?(a=o.id)!==null&&a!==void 0?a:o.index:o;switch(e){case"mceAddEditor":{if(!c.get(m)){const p=o.options;new h6(m,p,c).render()}return!0}case"mceRemoveEditor":{const p=c.get(m);return p&&p.remove(),!0}case"mceToggleEditor":{const p=c.get(m);return p?(p.isHidden()?p.show():p.hide(),!0):(c.execCommand("mceAddEditor",!1,o),!0)}}return c.activeEditor?c.activeEditor.execCommand(e,n,o):!1},triggerSave:()=>{p6(Nd,e=>{e.save()})},addI18n:(e,n)=>{Yu.add(e,n)},translate:e=>Yu.translate(e),setActive(e){const n=this.activeEditor;this.activeEditor!==e&&(n&&n.dispatch("deactivate",{relatedTarget:e}),e.dispatch("activate",{relatedTarget:n})),this.activeEditor=e},_setBaseUrl(e){this.baseURL=new Rf(this.documentBaseURL).toAbsolute(e.replace(/\/+$/,"")),this.baseURI=new Rf(this.baseURL)}};Ex.setup();const dde=(()=>{const e=Ai(),n=m=>({items:m,types:tn(m),getType:p=>Zs(m,p).getOrUndefined()}),o=m=>{e.set(m)},a=()=>e.get().getOrUndefined(),c=e.clear;return{FakeClipboardItem:n,write:o,read:a,clear:c}})(),EG=Math.min,qk=Math.max,y6=Math.round,TG=(e,n,o)=>{let a=n.x,c=n.y;const m=e.w,p=e.h,S=n.w,T=n.h,V=(o||"").split("");return V[0]==="b"&&(c+=T),V[1]==="r"&&(a+=S),V[0]==="c"&&(c+=y6(T/2)),V[1]==="c"&&(a+=y6(S/2)),V[3]==="b"&&(c-=p),V[4]==="r"&&(a-=m),V[3]==="c"&&(c-=y6(p/2)),V[4]==="c"&&(a-=y6(m/2)),Yk(a,c,m,p)},fde=(e,n,o,a)=>{for(let c=0;c<a.length;c++){const m=TG(e,n,a[c]);if(m.x>=o.x&&m.x+m.w<=o.w+o.x&&m.y>=o.y&&m.y+m.h<=o.h+o.y)return a[c]}return null},mde=(e,n,o)=>Yk(e.x-n,e.y-o,e.w+n*2,e.h+o*2),gde=(e,n)=>{const o=qk(e.x,n.x),a=qk(e.y,n.y),c=EG(e.x+e.w,n.x+n.w),m=EG(e.y+e.h,n.y+n.h);return c-o<0||m-a<0?null:Yk(o,a,c-o,m-a)},hde=(e,n,o)=>{let a=e.x,c=e.y,m=e.x+e.w,p=e.y+e.h;const S=n.x+n.w,T=n.y+n.h,V=qk(0,n.x-a),X=qk(0,n.y-c),ee=qk(0,m-S),ae=qk(0,p-T);return a+=V,c+=X,o&&(m+=V,p+=X,a-=ee,c-=ae),m-=ee,p-=ae,Yk(a,c,m-a,p-c)},Yk=(e,n,o,a)=>({x:e,y:n,w:o,h:a}),pde={inflate:mde,relativePosition:TG,findBestRelativePosition:fde,intersect:gde,clamp:hde,create:Yk,fromClientRect:e=>Yk(e.left,e.top,e.width,e.height)},bde=(e,n,o=1e3)=>{let a=!1,c=null;const m=V=>(...X)=>{a||(a=!0,c!==null&&(clearTimeout(c),c=null),V.apply(null,X))},p=m(e),S=m(n);return{start:(...V)=>{!a&&c===null&&(c=setTimeout(()=>S.apply(null,V),o))},resolve:p,reject:S}},vde=(()=>{const e={},n={},o={};return{load:(T,V)=>{const X=`Script at URL "${V}" failed to load`,ee=`Script at URL "${V}" did not call \`tinymce.Resource.add('${T}', data)\` within 1 second`;if(e[T]!==void 0)return e[T];{const ae=new Promise((we,Ne)=>{const ke=bde(we,Ne);n[T]=ke.resolve,dc.ScriptLoader.loadScript(V).then(()=>ke.start(ee),()=>ke.reject(X))});return e[T]=ae,ae}},add:(T,V)=>{n[T]!==void 0&&(n[T](V),delete n[T]),e[T]=Promise.resolve(V),o[T]=V},has:T=>T in o,get:T=>o[T],unload:T=>{delete e[T],delete o[T]}}})(),yde=()=>(()=>{let e={},n=[];const o={getItem:a=>{const c=e[a];return c||null},setItem:(a,c)=>{n.push(a),e[a]=String(c)},key:a=>n[a],removeItem:a=>{n=n.filter(c=>c===a),delete e[a]},clear:()=>{n=[],e={}},length:0};return Object.defineProperty(o,"length",{get:()=>n.length,configurable:!1,enumerable:!1}),o})();let fR;try{const e="__storage_test__";fR=window.localStorage,fR.setItem(e,e),fR.removeItem(e)}catch{fR=yde()}var xde=fR;const wde={geom:{Rect:pde},util:{Delay:sd,Tools:dn,VK:On,URI:Rf,EventDispatcher:S9,Observable:_9,I18n:Yu,LocalStorage:xde,ImageUploader:kz},dom:{EventUtils:tg,TreeWalker:Na,TextSeeker:hm,DOMUtils:br,ScriptLoader:dc,RangeUtils:qb,Serializer:MM,StyleSheetLoader:ps,ControlSelection:ar,BookmarkManager:mr,Selection:Y4,Event:tg.Event},html:{Styles:uw,Entities:pp,Node:Cl,Schema:qu,DomParser:lx,Writer:kA,Serializer:zp},Env:os,AddOnManager:Yl,Annotator:YD,Formatter:cC,UndoManager:gL,EditorCommands:fG,WindowManager:XM,NotificationManager:rO,EditorObservable:pG,Shortcuts:wG,Editor:h6,FocusManager:_f,EditorManager:Ex,DOM:br.DOM,ScriptLoader:dc.ScriptLoader,PluginManager:l1,ThemeManager:gv,ModelManager:mv,IconManager:sC,Resource:vde,FakeClipboard:dde,trim:dn.trim,isArray:dn.isArray,is:dn.is,toArray:dn.toArray,makeMap:dn.makeMap,each:dn.each,map:dn.map,grep:dn.grep,inArray:dn.inArray,extend:dn.extend,walk:dn.walk,resolve:dn.resolve,explode:dn.explode,_addCacheSuffix:dn._addCacheSuffix},AG=dn.extend(Ex,wde),Cde=e=>{try{t.exports=e}catch{}};(e=>{window.tinymce=e,window.tinyMCE=e})(AG),Cde(AG)})()}(_U)),_U.exports}var nSe=tSe();const oSe=sK(nSe);tinymce.IconManager.add("default",{icons:{"accessibility-check":'<svg width="24" height="24"><path d="M12 2a2 2 0 0 1 2 2 2 2 0 0 1-2 2 2 2 0 0 1-2-2c0-1.1.9-2 2-2Zm8 7h-5v12c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-5c0-.6-.4-1-1-1a1 1 0 0 0-1 1v5c0 .6-.4 1-1 1a1 1 0 0 1-1-1V9H4a1 1 0 1 1 0-2h16c.6 0 1 .4 1 1s-.4 1-1 1Z" fill-rule="nonzero"/></svg>',"accordion-toggle":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M12 15c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1h-6a1 1 0 0 1-1-1Z"/><path opacity=".2" fill-rule="evenodd" clip-rule="evenodd" d="M4 15c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1-1-1Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M12 19c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1h-6a1 1 0 0 1-1-1Z"/><path opacity=".2" fill-rule="evenodd" clip-rule="evenodd" d="M4 19c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1-1-1Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M12.3 7.3a1 1 0 0 1 1.4 0L16 9.6l2.3-2.3a1 1 0 1 1 1.4 1.4L16 12.4l-3.7-3.7a1 1 0 0 1 0-1.4ZM4.3 11.7a1 1 0 0 1 0-1.4L6.6 8 4.3 5.7a1 1 0 0 1 1.4-1.4L9.4 8l-3.7 3.7a1 1 0 0 1-1.4 0Z"/></svg>',accordion:'<svg width="24" height="24"><rect x="12" y="7" width="10" height="2" rx="1"/><rect x="12" y="11" width="10" height="2" rx="1"/><rect x="12" y="15" width="6" height="2" rx="1"/><path fill-rule="evenodd" clip-rule="evenodd" d="M2.3 7.3a1 1 0 0 1 1.4 0L6 9.6l2.3-2.3a1 1 0 0 1 1.4 1.4L6 12.4 2.3 8.7a1 1 0 0 1 0-1.4Z"/></svg>',"action-next":'<svg width="24" height="24"><path fill-rule="nonzero" d="M5.7 7.3a1 1 0 0 0-1.4 1.4l7.7 7.7 7.7-7.7a1 1 0 1 0-1.4-1.4L12 13.6 5.7 7.3Z"/></svg>',"action-prev":'<svg width="24" height="24"><path fill-rule="nonzero" d="M18.3 15.7a1 1 0 0 0 1.4-1.4L12 6.6l-7.7 7.7a1 1 0 0 0 1.4 1.4L12 9.4l6.3 6.3Z"/></svg>',addtag:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M15 5a2 2 0 0 1 1.6.8L21 12l-4.4 6.2a2 2 0 0 1-1.6.8h-3v-2h3l3.5-5L15 7H5v3H3V7c0-1.1.9-2 2-2h10Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M6 12a1 1 0 0 0-1 1v2H3a1 1 0 1 0 0 2h2v2a1 1 0 1 0 2 0v-2h2a1 1 0 1 0 0-2H7v-2c0-.6-.4-1-1-1Z"/></svg>',"ai-prompt":'<svg width="24" height="24"><g clip-path="url(#a)"><path fill-rule="evenodd" clip-rule="evenodd" d="M15 6.7a1 1 0 0 0-1.4 0l-9.9 10a1 1 0 0 0 0 1.3l2.1 2.1c.4.4 1 .4 1.4 0l10-9.9c.3-.3.3-1 0-1.4l-2.2-2Zm1.4 2.8-2-2-3 2.7 2.2 2.2 2.8-2.9Z"/><path d="m18.5 7.3-.7-1.5-1.5-.8 1.5-.7.7-1.5.7 1.5 1.5.7-1.5.8-.7 1.5ZM18.5 16.5l-.7-1.6-1.5-.7 1.5-.7.7-1.6.7 1.6 1.5.7-1.5.7-.7 1.6ZM9.7 7.3 9 5.8 7.5 5 9 4.3l.7-1.5.7 1.5L12 5l-1.5.8-.7 1.5Z"/></g><defs><clipPath id="a"><path d="M0 0h24v24H0z"/></clipPath></defs></svg>',ai:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M5 3a3 3 0 0 0-3 3v12a3 3 0 0 0 3 3h14a3 3 0 0 0 3-3V6a3 3 0 0 0-3-3H5Zm6.8 11.5.5 1.2a68.3 68.3 0 0 0 .7 1.1l.4.1c.3 0 .5 0 .7-.3.2-.1.3-.3.3-.6l-.3-1-2.6-6.2a20.4 20.4 0 0 0-.5-1.3l-.5-.4-.7-.2c-.2 0-.5 0-.6.2-.2 0-.4.2-.5.4l-.3.6-.3.7L5.7 15l-.2.6-.1.4c0 .3 0 .5.3.7l.6.2c.3 0 .5 0 .7-.2l.4-1 .5-1.2h3.9ZM9.8 9l1.5 4h-3l1.5-4Zm5.6-.9v7.6c0 .4 0 .7.2 1l.7.2c.3 0 .6 0 .8-.3l.2-.9V8.1c0-.4 0-.7-.2-.9a1 1 0 0 0-.8-.3c-.2 0-.5.1-.7.3l-.2 1Z"/></svg>',"align-center":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm3 4h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 1 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm-3-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"align-justify":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"align-left":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Zm0-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"align-none":'<svg width="24" height="24"><path d="M14.2 5 13 7H5a1 1 0 1 1 0-2h9.2Zm4 0h.8a1 1 0 0 1 0 2h-2l1.2-2Zm-6.4 4-1.2 2H5a1 1 0 0 1 0-2h6.8Zm4 0H19a1 1 0 0 1 0 2h-4.4l1.2-2Zm-6.4 4-1.2 2H5a1 1 0 0 1 0-2h4.4Zm4 0H19a1 1 0 0 1 0 2h-6.8l1.2-2ZM7 17l-1.2 2H5a1 1 0 0 1 0-2h2Zm4 0h8a1 1 0 0 1 0 2H9.8l1.2-2Zm5.2-13.5 1.3.7-9.7 16.3-1.3-.7 9.7-16.3Z" fill-rule="evenodd"/></svg>',"align-right":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm6 4h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm-6-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"arrow-left":'<svg width="24" height="24"><path d="m5.6 13 12 6a1 1 0 0 0 1.4-1V6a1 1 0 0 0-1.4-.9l-12 6a1 1 0 0 0 0 1.8Z" fill-rule="evenodd"/></svg>',"arrow-right":'<svg width="24" height="24"><path d="m18.5 13-12 6A1 1 0 0 1 5 18V6a1 1 0 0 1 1.4-.9l12 6a1 1 0 0 1 0 1.8Z" fill-rule="evenodd"/></svg>',bold:'<svg width="24" height="24"><path d="M7.8 19c-.3 0-.5 0-.6-.2l-.2-.5V5.7c0-.2 0-.4.2-.5l.6-.2h5c1.5 0 2.7.3 3.5 1 .7.6 1.1 1.4 1.1 2.5a3 3 0 0 1-.6 1.9c-.4.6-1 1-1.6 1.2.4.1.9.3 1.3.6s.8.7 1 1.2c.4.4.5 1 .5 1.6 0 1.3-.4 2.3-1.3 3-.8.7-2.1 1-3.8 1H7.8Zm5-8.3c.6 0 1.2-.1 1.6-.5.4-.3.6-.7.6-1.3 0-1.1-.8-1.7-2.3-1.7H9.3v3.5h3.4Zm.5 6c.7 0 1.3-.1 1.7-.4.4-.4.6-.9.6-1.5s-.2-1-.7-1.4c-.4-.3-1-.4-2-.4H9.4v3.8h4Z" fill-rule="evenodd"/></svg>',bookmark:'<svg width="24" height="24"><path d="M6 4v17l6-4 6 4V4c0-.6-.4-1-1-1H7a1 1 0 0 0-1 1Z" fill-rule="nonzero"/></svg>',"border-style":'<svg width="24" height="24"><g fill-rule="evenodd"><rect width="18" height="2" x="3" y="6" rx="1"/><rect width="2.8" height="2" x="3" y="16" rx="1"/><rect width="2.8" height="2" x="6.8" y="16" rx="1"/><rect width="2.8" height="2" x="10.6" y="16" rx="1"/><rect width="2.8" height="2" x="14.4" y="16" rx="1"/><rect width="2.8" height="2" x="18.2" y="16" rx="1"/><rect width="8" height="2" x="3" y="11" rx="1"/><rect width="8" height="2" x="13" y="11" rx="1"/></g></svg>',"border-width":'<svg width="24" height="24"><g fill-rule="evenodd"><rect width="18" height="5" x="3" y="5" rx="1"/><rect width="18" height="3.5" x="3" y="11.5" rx="1"/><rect width="18" height="2" x="3" y="17" rx="1"/></g></svg>',brightness:'<svg width="24" height="24"><path d="M12 17c.3 0 .5.1.7.3.2.2.3.4.3.7v1c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7v-1c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3Zm0-10a1 1 0 0 1-.7-.3A1 1 0 0 1 11 6V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7v1c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3Zm7 4c.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-1a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h1ZM7 12c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3H5a1 1 0 0 1-.7-.3A1 1 0 0 1 4 12c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h1c.3 0 .5.1.7.3.2.2.3.4.3.7Zm10 3.5.7.8c.2.1.3.4.3.6 0 .3-.1.6-.3.8a1 1 0 0 1-.8.3 1 1 0 0 1-.6-.3l-.8-.7a1 1 0 0 1-.3-.8c0-.2.1-.5.3-.7a1 1 0 0 1 1.4 0Zm-10-7-.7-.8a1 1 0 0 1-.3-.6c0-.3.1-.6.3-.8.2-.2.5-.3.8-.3.2 0 .5.1.7.3l.7.7c.2.2.3.5.3.8 0 .2-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.8-.3Zm10 0a1 1 0 0 1-.8.3 1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.3.1-.6.3-.8l.8-.7c.1-.2.4-.3.6-.3.3 0 .6.1.8.3.2.2.3.5.3.8 0 .2-.1.5-.3.7l-.7.7Zm-10 7c.2-.2.5-.3.8-.3.2 0 .5.1.7.3a1 1 0 0 1 0 1.4l-.8.8a1 1 0 0 1-.6.3 1 1 0 0 1-.8-.3 1 1 0 0 1-.3-.8c0-.2.1-.5.3-.6l.7-.8ZM12 8a4 4 0 0 1 3.7 2.4 4 4 0 0 1 0 3.2A4 4 0 0 1 12 16a4 4 0 0 1-3.7-2.4 4 4 0 0 1 0-3.2A4 4 0 0 1 12 8Zm0 6.5c.7 0 1.3-.2 1.8-.7.5-.5.7-1.1.7-1.8s-.2-1.3-.7-1.8c-.5-.5-1.1-.7-1.8-.7s-1.3.2-1.8.7c-.5.5-.7 1.1-.7 1.8s.2 1.3.7 1.8c.5.5 1.1.7 1.8.7Z" fill-rule="evenodd"/></svg>',browse:'<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2h-4v-2h4V8H5v10h4v2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9.4-2.3 2.3a1 1 0 1 1-1.4-1.4l4-4a1 1 0 0 1 1.4 0l4 4a1 1 0 0 1-1.4 1.4L13 13.4V20a1 1 0 0 1-2 0v-6.6Z" fill-rule="nonzero"/></svg>',cancel:'<svg width="24" height="24"><path d="M12 4.6a7.4 7.4 0 1 1 0 14.8 7.4 7.4 0 0 1 0-14.8ZM12 3a9 9 0 1 0 0 18 9 9 0 0 0 0-18Zm0 8L14.8 8l1 1.1-2.7 2.8 2.7 2.7-1.1 1.1-2.7-2.7-2.7 2.7-1-1.1 2.6-2.7-2.7-2.7 1-1.1 2.8 2.7Z" fill-rule="nonzero"/></svg>',"cell-background-color":'<svg width="24" height="24"><path d="m15.7 2 1.6 1.6-2.7 2.6 5.9 5.8c.7.7.7 1.7 0 2.4l-6.3 6.1a1.7 1.7 0 0 1-2.4 0l-6.3-6.1c-.7-.7-.7-1.7 0-2.4L15.7 2ZM18 12l-4.5-4L9 12h9ZM4 16s2 2.4 2 3.8C6 21 5.1 22 4 22s-2-1-2-2.2C2 18.4 4 16 4 16Z"/></svg>',"cell-border-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M5 13v5h2v2H5a2 2 0 0 1-2-2v-5h2zm8-7V4h6a2 2 0 0 1 2 2h-8z" opacity=".2"/><path fill-rule="nonzero" d="M13 4v2H5v7H3V6c0-1.1.9-2 2-2h8zm-2.6 14.1.1-.1.1.1.2.3.2.2.2.2c.4.6.8 1.2.8 1.7 0 .8-.7 1.5-1.5 1.5S9 21.3 9 20.5c0-.5.4-1.1.8-1.7l.2-.2.2-.2.2-.3z"/><path d="m13 11-2 2H5v-2h6V6h2z"/><path fill-rule="nonzero" d="m18.4 8 1 1-1.8 1.9 4 4c.5.4.5 1.1 0 1.6l-4.3 4.2a1.2 1.2 0 0 1-1.6 0l-4.4-4.2c-.4-.5-.4-1.2 0-1.7l7-6.8Zm1.6 7-3-3-3 3h6Z"/></g></svg>',"change-case":'<svg width="24" height="24"><path d="M18.4 18.2v-.6c-.5.8-1.3 1.2-2.4 1.2-2.2 0-3.3-1.6-3.3-4.8 0-3.1 1-4.7 3.3-4.7 1.1 0 1.8.3 2.4 1.1v-.6c0-.5.4-.8.8-.8s.8.3.8.8v8.4c0 .5-.4.8-.8.8a.8.8 0 0 1-.8-.8zm-2-7.4c-1.3 0-1.8.9-1.8 3.2 0 2.4.5 3.3 1.7 3.3 1.3 0 1.8-.9 1.8-3.2 0-2.4-.5-3.3-1.7-3.3zM10 15.7H5.5l-.8 2.6a1 1 0 0 1-1 .7h-.2a.7.7 0 0 1-.7-1l4-12a1 1 0 0 1 2 0l4 12a.7.7 0 0 1-.8 1h-.2a1 1 0 0 1-1-.7l-.8-2.6zm-.3-1.5-2-6.5-1.9 6.5h3.9z" fill-rule="evenodd"/></svg>',"character-count":'<svg width="24" height="24"><path d="M4 11.5h16v1H4v-1Zm4.8-6.8V10H7.7V5.8h-1v-1h2ZM11 8.3V9h2v1h-3V7.7l2-1v-.9h-2v-1h3v2.4l-2 1Zm6.3-3.4V10h-3.1V9h2.1V8h-2.1V6.8h2.1v-1h-2.1v-1h3.1ZM5.8 16.4c0-.5.2-.8.5-1 .2-.2.6-.3 1.2-.3l.8.1c.2 0 .4.2.5.3l.4.4v2.8l.2.3H8.2V18.7l-.6.3H7c-.4 0-.7 0-1-.2a1 1 0 0 1-.3-.9c0-.3 0-.6.3-.8.3-.2.7-.4 1.2-.4l.6-.2h.3v-.2l-.1-.2a.8.8 0 0 0-.5-.1 1 1 0 0 0-.4 0l-.3.4h-1Zm2.3.8h-.2l-.2.1-.4.1a1 1 0 0 0-.4.2l-.2.2.1.3.5.1h.4l.4-.4v-.6Zm2-3.4h1.2v1.7l.5-.3h.5c.5 0 .9.1 1.2.5.3.4.5.8.5 1.4 0 .6-.2 1.1-.5 1.5-.3.4-.7.6-1.3.6l-.6-.1-.4-.4v.4h-1.1v-5.4Zm1.1 3.3c0 .3 0 .6.2.8a.7.7 0 0 0 1.2 0l.2-.8c0-.4 0-.6-.2-.8a.7.7 0 0 0-.6-.3l-.6.3-.2.8Zm6.1-.5c0-.2 0-.3-.2-.4a.8.8 0 0 0-.5-.2c-.3 0-.5.1-.6.3l-.2.9c0 .3 0 .6.2.8.1.2.3.3.6.3.2 0 .4 0 .5-.2l.2-.4h1.1c0 .5-.3.8-.6 1.1a2 2 0 0 1-1.3.4c-.5 0-1-.2-1.3-.6a2 2 0 0 1-.5-1.4c0-.6.1-1.1.5-1.5.3-.4.8-.5 1.4-.5.5 0 1 0 1.2.3.4.3.5.7.5 1.2h-1v-.1Z" fill-rule="evenodd"/></svg>',"checklist-rtl":'<svg width="24" height="24"><path d="M5 17h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2zm14.2 11c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 8c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8z" fill-rule="evenodd"/></svg>',checklist:'<svg width="24" height="24"><path d="M11 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2h-8a1 1 0 0 1 0-2ZM7.2 16c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 8c-.2.3-.7.4-1 0L3.8 6.9a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Z" fill-rule="evenodd"/></svg>',checkmark:'<svg width="24" height="24"><path d="M18.2 5.4a1 1 0 0 1 1.6 1.2l-8 12a1 1 0 0 1-1.5.1l-5-5a1 1 0 1 1 1.4-1.4l4.1 4.1 7.4-11Z" fill-rule="nonzero"/></svg>',"chevron-down":'<svg width="10" height="10"><path d="M8.7 2.2c.3-.3.8-.3 1 0 .4.4.4.9 0 1.2L5.7 7.8c-.3.3-.9.3-1.2 0L.2 3.4a.8.8 0 0 1 0-1.2c.3-.3.8-.3 1.1 0L5 6l3.7-3.8Z" fill-rule="nonzero"/></svg>',"chevron-left":'<svg width="10" height="10"><path d="M7.8 1.3 4 5l3.8 3.7c.3.3.3.8 0 1-.4.4-.9.4-1.2 0L2.2 5.7a.8.8 0 0 1 0-1.2L6.6.2C7 0 7.4 0 7.8.2c.3.3.3.8 0 1.1Z" fill-rule="nonzero"/></svg>',"chevron-right":'<svg width="10" height="10"><path d="M2.2 1.3a.8.8 0 0 1 0-1c.4-.4.9-.4 1.2 0l4.4 4.1c.3.4.3.9 0 1.2L3.4 9.8c-.3.3-.8.3-1.2 0a.8.8 0 0 1 0-1.1L6 5 2.2 1.3Z" fill-rule="nonzero"/></svg>',"chevron-up":'<svg width="10" height="10"><path d="M8.7 7.8 5 4 1.3 7.8c-.3.3-.8.3-1 0a.8.8 0 0 1 0-1.2l4.1-4.4c.3-.3.9-.3 1.2 0l4.2 4.4c.3.3.3.9 0 1.2-.3.3-.8.3-1.1 0Z" fill-rule="nonzero"/></svg>',close:'<svg width="24" height="24"><path d="M17.3 8.2 13.4 12l3.9 3.8a1 1 0 0 1-1.5 1.5L12 13.4l-3.8 3.9a1 1 0 0 1-1.5-1.5l3.9-3.8-3.9-3.8a1 1 0 0 1 1.5-1.5l3.8 3.9 3.8-3.9a1 1 0 0 1 1.5 1.5Z" fill-rule="evenodd"/></svg>',"code-sample":'<svg width="24" height="26"><path d="M7.1 11a2.8 2.8 0 0 1-.8 2 2.8 2.8 0 0 1 .8 2v1.7c0 .3.1.6.4.8.2.3.5.4.8.4.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.7 0-1.4-.3-2-.8-.5-.6-.8-1.3-.8-2V15c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 0 1-.4-.4v-.8c0-.2.2-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V9.3c0-.7.3-1.4.8-2 .6-.5 1.3-.8 2-.8.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8V11Zm9.8 0V9.3c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 0 1-.4-.4V7c0-.2.1-.4.4-.4.7 0 1.4.3 2 .8.5.6.8 1.3.8 2V11c0 .3.1.6.4.8.2.3.5.4.8.4.2 0 .4.2.4.4v.8c0 .2-.2.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8v1.7c0 .7-.3 1.4-.8 2-.6.5-1.3.8-2 .8a.4.4 0 0 1-.4-.4v-.8c0-.2.1-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V15a2.8 2.8 0 0 1 .8-2 2.8 2.8 0 0 1-.8-2Zm-3.3-.4c0 .4-.1.8-.5 1.1-.3.3-.7.5-1.1.5-.4 0-.8-.2-1.1-.5-.4-.3-.5-.7-.5-1.1 0-.5.1-.9.5-1.2.3-.3.7-.4 1.1-.4.4 0 .8.1 1.1.4.4.3.5.7.5 1.2ZM12 13c.4 0 .8.1 1.1.5.4.3.5.7.5 1.1 0 1-.1 1.6-.5 2a3 3 0 0 1-1.1 1c-.4.3-.8.4-1.1.4a.5.5 0 0 1-.5-.5V17a3 3 0 0 0 1-.2l.6-.6c-.6 0-1-.2-1.3-.5-.2-.3-.3-.7-.3-1 0-.5.1-1 .5-1.2.3-.4.7-.5 1.1-.5Z" fill-rule="evenodd"/></svg>',"color-levels":'<svg width="24" height="24"><path d="M17.5 11.4A9 9 0 0 1 18 14c0 .5 0 1-.2 1.4 0 .4-.3.9-.5 1.3a6.2 6.2 0 0 1-3.7 3 5.7 5.7 0 0 1-3.2 0A5.9 5.9 0 0 1 7.6 18a6.2 6.2 0 0 1-1.4-2.6 6.7 6.7 0 0 1 0-2.8c0-.4.1-.9.3-1.3a13.6 13.6 0 0 1 2.3-4A20 20 0 0 1 12 4a26.4 26.4 0 0 1 3.2 3.4 18.2 18.2 0 0 1 2.3 4Zm-2 4.5c.4-.7.5-1.4.5-2a7.3 7.3 0 0 0-1-3.2c.2.6.2 1.2.2 1.9a4.5 4.5 0 0 1-1.3 3 5.3 5.3 0 0 1-2.3 1.5 4.9 4.9 0 0 1-2 .1 4.3 4.3 0 0 0 2.4.8 4 4 0 0 0 2-.6 4 4 0 0 0 1.5-1.5Z" fill-rule="evenodd"/></svg>',"color-picker":'<svg width="24" height="24"><path d="M12 3a9 9 0 0 0 0 18 1.5 1.5 0 0 0 1.1-2.5c-.2-.3-.4-.6-.4-1 0-.8.7-1.5 1.5-1.5H16a5 5 0 0 0 5-5c0-4.4-4-8-9-8Zm-5.5 9a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm3-4a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm5 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm3 4a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Z" fill-rule="nonzero"/></svg>',"color-swatch-remove-color":'<svg width="24" height="24"><path stroke="#000" stroke-width="2" d="M21 3 3 21" fill-rule="evenodd"/></svg>',"color-swatch":'<svg width="24" height="24"><rect x="3" y="3" width="18" height="18" rx="1" fill-rule="evenodd"/></svg>',"comment-add":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="m9 19 3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 0 0-1 1v10c0 .6.4 1 1 1h4v2Zm-2 4v-4H5a3 3 0 0 1-3-3V6a3 3 0 0 1 3-3h14a3 3 0 0 1 3 3v10a3 3 0 0 1-3 3h-6.4L7 23Z"/><path d="M13 10h2a1 1 0 0 1 0 2h-2v2a1 1 0 0 1-2 0v-2H9a1 1 0 0 1 0-2h2V8a1 1 0 0 1 2 0v2Z"/></g></svg>',comment:'<svg width="24" height="24"><path fill-rule="nonzero" d="m9 19 3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 0 0-1 1v10c0 .6.4 1 1 1h4v2Zm-2 4v-4H5a3 3 0 0 1-3-3V6a3 3 0 0 1 3-3h14a3 3 0 0 1 3 3v10a3 3 0 0 1-3 3h-6.4L7 23Z"/></svg>',contrast:'<svg width="24" height="24"><path d="M12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4Zm-6 8a6 6 0 0 0 6 6V6a6 6 0 0 0-6 6Z" fill-rule="evenodd"/></svg>',copy:'<svg width="24" height="24"><path d="M16 3H6a2 2 0 0 0-2 2v11h2V5h10V3Zm1 4a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-7a2 2 0 0 1-2-2V9c0-1.2.9-2 2-2h7Zm0 12V9h-7v10h7Z" fill-rule="nonzero"/></svg>',crop:'<svg width="24" height="24"><path d="M17 8v7h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v2c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-2H7V9H5a1 1 0 1 1 0-2h2V5c0-.6.4-1 1-1s1 .4 1 1v2h7l3-3 1 1-3 3ZM9 9v5l5-5H9Zm1 6h5v-5l-5 5Z" fill-rule="evenodd"/></svg>',"cut-column":'<svg width="24" height="24"><path fill-rule="evenodd" d="M7.2 4.5c.9 0 1.6.4 2.2 1A3.7 3.7 0 0 1 10.5 8v.5l1 1 4-4 1-.5a3.3 3.3 0 0 1 2 0c.4 0 .7.3 1 .5L17 8h4v13h-6V10l-1.5 1.5.5.5v4l-2.5-2.5-1 1v.5c0 .4 0 .8-.3 1.2-.2.5-.4.9-.8 1.2-.6.7-1.3 1-2.2 1-.8.2-1.5 0-2-.6l-.5-.8-.2-1c0-.4 0-.8.3-1.2A3.9 3.9 0 0 1 7 12.7c.5-.2 1-.3 1.5-.2l1-1-1-1c-.5 0-1 0-1.5-.2-.5-.1-1-.4-1.4-.9-.4-.3-.6-.7-.8-1.2L4.5 7c0-.4 0-.7.2-1 0-.3.3-.6.5-.8.5-.5 1.2-.8 2-.7Zm12.3 5h-3v10h3v-10ZM8 13.8h-.3l-.4.2a2.8 2.8 0 0 0-.7.4v.1a2.8 2.8 0 0 0-.6.8l-.1.4v.7l.2.5.5.2h.7a2.6 2.6 0 0 0 .8-.3 2.4 2.4 0 0 0 .7-.7 2.5 2.5 0 0 0 .3-.8 1.5 1.5 0 0 0 0-.8 1 1 0 0 0-.2-.4 1 1 0 0 0-.5-.2H8Zm3.5-3.7c-.4 0-.7.1-1 .4-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4ZM7 5.8h-.4a1 1 0 0 0-.5.3 1 1 0 0 0-.2.5v.7a2.5 2.5 0 0 0 .3.8l.2.3h.1l.4.4.4.2.4.1h.7L9 9l.2-.4a1.6 1.6 0 0 0 0-.8 2.6 2.6 0 0 0-.3-.8A2.5 2.5 0 0 0 7.7 6l-.4-.1H7Z"/></svg>',"cut-row":'<svg width="24" height="24"><path fill-rule="evenodd" d="M22 3v5H9l3 3 2-2h4l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8.7.6 1 1.3 1 2.2.2.8 0 1.5-.6 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 0 1-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 0 1 8.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 0 1 0-2c0-.4.3-.7.5-1l2 2V3h14ZM8.5 15.3h-.3a2.6 2.6 0 0 0-.8.4 2.5 2.5 0 0 0-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 0 0 .8-.3L9 18V18l.4-.4.2-.4.1-.4v-.7a1 1 0 0 0-.2-.5 1 1 0 0 0-.4-.2h-.5Zm7 0H15a1 1 0 0 0-.4.3 1 1 0 0 0-.2.5 1.5 1.5 0 0 0 0 .7v.4a2.8 2.8 0 0 0 .5.7h.1a2.8 2.8 0 0 0 .8.6l.4.1h.7l.5-.2.2-.5v-.7a2.6 2.6 0 0 0-.3-.8 2.4 2.4 0 0 0-.7-.7 2.5 2.5 0 0 0-.8-.3h-.3ZM12 11.6c-.4 0-.7.1-1 .4-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4Zm8.5-7.1h-11v2h11v-2Z"/></svg>',cut:'<svg width="24" height="24"><path d="M18 15c.6.7 1 1.4 1 2.3 0 .8-.2 1.5-.7 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 0 1-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 0 1 8.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 0 1 0-2c0-.4.3-.7.5-1l6 6 6-6 .5 1a3.3 3.3 0 0 1 0 2c0 .4-.3.7-.5 1l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8Zm-8.5 2.2.1-.4v-.7a1 1 0 0 0-.2-.5 1 1 0 0 0-.4-.2 1.6 1.6 0 0 0-.8 0 2.6 2.6 0 0 0-.8.3 2.5 2.5 0 0 0-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 0 0 .8-.3 2.8 2.8 0 0 0 1-1Zm2.5-2.8c.4 0 .7-.1 1-.4.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4s-.7.1-1 .4c-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4Zm5.4 4 .2-.5v-.7a2.6 2.6 0 0 0-.3-.8 2.4 2.4 0 0 0-.7-.7 2.5 2.5 0 0 0-.8-.3 1.5 1.5 0 0 0-.8 0 1 1 0 0 0-.4.2 1 1 0 0 0-.2.5 1.5 1.5 0 0 0 0 .7v.4l.3.4.3.4a2.8 2.8 0 0 0 .8.5l.4.1h.7l.5-.2Z" fill-rule="evenodd"/></svg>',"document-properties":'<svg width="24" height="24"><path d="M14.4 3H7a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h10a2 2 0 0 0 2-2V7.6L14.4 3ZM17 19H7V5h6v4h4v10Z" fill-rule="nonzero"/></svg>',drag:'<svg width="24" height="24"><path d="M13 5h2v2h-2V5Zm0 4h2v2h-2V9ZM9 9h2v2H9V9Zm4 4h2v2h-2v-2Zm-4 0h2v2H9v-2Zm0 4h2v2H9v-2Zm4 0h2v2h-2v-2ZM9 5h2v2H9V5Z" fill-rule="evenodd"/></svg>',"duplicate-column":'<svg width="24" height="24"><path d="M17 6v16h-7V6h7Zm-2 2h-3v12h3V8Zm-2-6v2H8v15H6V2h7Z"/></svg>',"duplicate-row":'<svg width="24" height="24"><path d="M22 11v7H6v-7h16Zm-2 2H8v3h12v-3Zm-1-6v2H4v5H2V7h17Z"/></svg>',duplicate:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M16 3v2H6v11H4V5c0-1.1.9-2 2-2h10Zm3 8h-2V9h-7v10h9a2 2 0 0 1-2 2h-7a2 2 0 0 1-2-2V9c0-1.2.9-2 2-2h7a2 2 0 0 1 2 2v2Z"/><path d="M17 14h1a1 1 0 0 1 0 2h-1v1a1 1 0 0 1-2 0v-1h-1a1 1 0 0 1 0-2h1v-1a1 1 0 0 1 2 0v1Z"/></g></svg>',"edit-block":'<svg width="24" height="24"><path fill-rule="nonzero" d="m19.8 8.8-9.4 9.4c-.2.2-.5.4-.9.4l-5.4 1.2 1.2-5.4.5-.8 9.4-9.4c.7-.7 1.8-.7 2.5 0l2.1 2.1c.7.7.7 1.8 0 2.5Zm-2-.2 1-.9v-.3l-2.2-2.2a.3.3 0 0 0-.3 0l-1 1L18 8.5Zm-1 1-2.5-2.4-6 6 2.5 2.5 6-6Zm-7 7.1-2.6-2.4-.3.3-.1.2-.7 3 3.1-.6h.1l.4-.5Z"/></svg>',"edit-image":'<svg width="24" height="24"><path d="M18 16h2V7a2 2 0 0 0-2-2H7v2h11v9ZM6 17h15a1 1 0 0 1 0 2h-1v1a1 1 0 0 1-2 0v-1H6a2 2 0 0 1-2-2V7H3a1 1 0 1 1 0-2h1V4a1 1 0 1 1 2 0v13Zm3-5.3 1.3 2 3-4.7 3.7 6H7l2-3.3Z" fill-rule="nonzero"/></svg>',"embed-page":'<svg width="24" height="24"><path d="M19 6V5H5v14h2A13 13 0 0 1 19 6Zm0 1.4c-.8.8-1.6 2.4-2.2 4.6H19V7.4Zm0 5.6h-2.4c-.4 1.8-.6 3.8-.6 6h3v-6Zm-4 6c0-2.2.2-4.2.6-6H13c-.7 1.8-1.1 3.8-1.1 6h3Zm-4 0c0-2.2.4-4.2 1-6H9.6A12 12 0 0 0 8 19h3ZM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm11.8 9c.4-1.9 1-3.4 1.8-4.5a9.2 9.2 0 0 0-4 4.5h2.2Zm-3.4 0a12 12 0 0 1 2.8-4 12 12 0 0 0-5 4h2.2Z" fill-rule="nonzero"/></svg>',embed:'<svg width="24" height="24"><path d="M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm1 2v14h14V5H5Zm4.8 2.6 5.6 4a.5.5 0 0 1 0 .8l-5.6 4A.5.5 0 0 1 9 16V8a.5.5 0 0 1 .8-.4Z" fill-rule="nonzero"/></svg>',emoji:'<svg width="24" height="24"><path d="M9 11c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 0 0-1 1c0 .6.4 1 1 1Zm6 0c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 0 0-1 1c0 .6.4 1 1 1Zm-3 5.5c2.1 0 4-1.5 4.4-3.5H7.6c.5 2 2.3 3.5 4.4 3.5ZM12 4a8 8 0 1 0 0 16 8 8 0 0 0 0-16Zm0 14.5a6.5 6.5 0 1 1 0-13 6.5 6.5 0 0 1 0 13Z" fill-rule="nonzero"/></svg>',export:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M14.4 3 18 7v1h-5V5H7v14h9a1 1 0 0 1 2 0c0 1-.8 2-1.9 2H7c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2h7.5Z"/><path d="M18.1 12c.5 0 .9.4.9 1 0 .5-.3 1-.8 1h-7.3c-.5 0-.9-.4-.9-1 0-.5.3-1 .8-1h7.3Z"/><path d="M16.4 9.2a1 1 0 0 1 1.4.2l2.4 3.6-2.4 3.6a1 1 0 0 1-1.7-1v-.2l1.7-2.4-1.6-2.4a1 1 0 0 1 .2-1.4Z"/></g></svg>',fill:'<svg width="24" height="26"><path d="m16.6 12-9-9-1.4 1.4 2.4 2.4-5.2 5.1c-.5.6-.5 1.6 0 2.2L9 19.6a1.5 1.5 0 0 0 2.2 0l5.5-5.5c.5-.6.5-1.6 0-2.2ZM5.2 13 10 8.2l4.8 4.8H5.2ZM19 14.5s-2 2.2-2 3.5c0 1.1.9 2 2 2a2 2 0 0 0 2-2c0-1.3-2-3.5-2-3.5Z" fill-rule="nonzero"/></svg>',"flip-horizontally":'<svg width="24" height="24"><path d="M14 19h2v-2h-2v2Zm4-8h2V9h-2v2ZM4 7v10c0 1.1.9 2 2 2h3v-2H6V7h3V5H6a2 2 0 0 0-2 2Zm14-2v2h2a2 2 0 0 0-2-2Zm-7 16h2V3h-2v18Zm7-6h2v-2h-2v2Zm-4-8h2V5h-2v2Zm4 12a2 2 0 0 0 2-2h-2v2Z" fill-rule="nonzero"/></svg>',"flip-vertically":'<svg width="24" height="24"><path d="M5 14v2h2v-2H5Zm8 4v2h2v-2h-2Zm4-14H7a2 2 0 0 0-2 2v3h2V6h10v3h2V6a2 2 0 0 0-2-2Zm2 14h-2v2a2 2 0 0 0 2-2ZM3 11v2h18v-2H3Zm6 7v2h2v-2H9Zm8-4v2h2v-2h-2ZM5 18c0 1.1.9 2 2 2v-2H5Z" fill-rule="nonzero"/></svg>',footnote:'<svg width="24" height="24"><path d="M19 13c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2h14Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M19 4v6h-1V5h-1.5V4h2.6Z"/><path d="M12 18c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2h7ZM14 8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2h9Z"/></svg>',"format-code":'<svg width="24" height="24"><path d="m10 22 2-7H6l9-13h2l-2 8h7L12 22h-2ZM6 2h7l-1.4 2H6V2Zm4.2 4H4v2h4.8l1.4-2Zm-2.7 4H2v2h4l1.5-2Z"/></svg>',"format-painter":'<svg width="24" height="24"><path d="M18 5V4c0-.5-.4-1-1-1H5a1 1 0 0 0-1 1v4c0 .6.5 1 1 1h12c.6 0 1-.4 1-1V7h1v4H9v9c0 .6.4 1 1 1h2c.6 0 1-.4 1-1v-7h8V5h-3Z" fill-rule="nonzero"/></svg>',format:'<svg width="24" height="24"><path fill-rule="evenodd" d="M17 5a1 1 0 0 1 0 2h-4v11a1 1 0 0 1-2 0V7H7a1 1 0 1 1 0-2h10Z"/></svg>',fullscreen:'<svg width="24" height="24"><path d="m15.3 10-1.2-1.3 2.9-3h-2.3a.9.9 0 1 1 0-1.7H19c.5 0 .9.4.9.9v4.4a.9.9 0 1 1-1.8 0V7l-2.9 3Zm0 4 3 3v-2.3a.9.9 0 1 1 1.7 0V19c0 .5-.4.9-.9.9h-4.4a.9.9 0 1 1 0-1.8H17l-3-2.9 1.3-1.2ZM10 15.4l-2.9 3h2.3a.9.9 0 1 1 0 1.7H5a.9.9 0 0 1-.9-.9v-4.4a.9.9 0 1 1 1.8 0V17l2.9-3 1.2 1.3ZM8.7 10 5.7 7v2.3a.9.9 0 0 1-1.7 0V5c0-.5.4-.9.9-.9h4.4a.9.9 0 0 1 0 1.8H7l3 2.9-1.3 1.2Z" fill-rule="nonzero"/></svg>',gallery:'<svg width="24" height="24"><path fill-rule="nonzero" d="m5 15.7 2.3-2.2c.3-.3.7-.3 1 0L11 16l5.1-5c.3-.4.8-.4 1 0l2 1.9V8H5v7.7ZM5 18V19h3l1.8-1.9-2-2L5 17.9Zm14-3-2.5-2.4-6.4 6.5H19v-4ZM4 6h16c.6 0 1 .4 1 1v13c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V7c0-.6.4-1 1-1Zm6 7a2 2 0 1 1 0-4 2 2 0 0 1 0 4ZM4.5 4h15a.5.5 0 1 1 0 1h-15a.5.5 0 0 1 0-1Zm2-2h11a.5.5 0 1 1 0 1h-11a.5.5 0 0 1 0-1Z"/></svg>',gamma:'<svg width="24" height="24"><path d="M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm1 2v14h14V5H5Zm6.5 11.8V14L9.2 8.7a5.1 5.1 0 0 0-.4-.8l-.1-.2H8v-1l.3-.1.3-.1h.7a1 1 0 0 1 .6.5l.1.3a8.5 8.5 0 0 1 .3.6l1.9 4.6 2-5.2a1 1 0 0 1 1-.6.5.5 0 0 1 .5.6L13 14v2.8a.7.7 0 0 1-1.4 0Z" fill-rule="nonzero"/></svg>',help:'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M12 5.5a6.5 6.5 0 0 0-6 9 6.3 6.3 0 0 0 1.4 2l1 1a6.3 6.3 0 0 0 3.6 1 6.5 6.5 0 0 0 6-9 6.3 6.3 0 0 0-1.4-2l-1-1a6.3 6.3 0 0 0-3.6-1ZM12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4Z"/><path d="M9.6 9.7a.7.7 0 0 1-.7-.8c0-1.1 1.5-1.8 3.2-1.8 1.8 0 3.2.8 3.2 2.4 0 1.4-.4 2.1-1.5 2.8-.2 0-.3.1-.3.2a2 2 0 0 0-.8.8.8.8 0 0 1-1.4-.6c.3-.7.8-1 1.3-1.5l.4-.2c.7-.4.8-.6.8-1.5 0-.5-.6-.9-1.7-.9-.5 0-1 .1-1.4.3-.2 0-.3.1-.3.2v-.2c0 .4-.4.8-.8.8Z" fill-rule="nonzero"/><circle cx="12" cy="16" r="1"/></g></svg>',"highlight-bg-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path class="tox-icon-highlight-bg-color__color" d="M3 18h18v3H3z"/><path fill-rule="nonzero" d="M7.7 16.7H3l3.3-3.3-.7-.8L10.2 8l4 4.1-4 4.2c-.2.2-.6.2-.8 0l-.6-.7-1.1 1.1zm5-7.5L11 7.4l3-2.9a2 2 0 0 1 2.6 0L18 6c.7.7.7 2 0 2.7l-2.9 2.9-1.8-1.8-.5-.6"/></g></svg>',home:'<svg width="24" height="24"><path fill-rule="nonzero" d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/></svg>',"horizontal-rule":'<svg width="24" height="24"><path d="M4 11h16v2H4z" fill-rule="evenodd"/></svg>',"image-options":'<svg width="24" height="24"><path d="M6 10a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm12 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm-6 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Z" fill-rule="nonzero"/></svg>',image:'<svg width="24" height="24"><path d="m5 15.7 3.3-3.2c.3-.3.7-.3 1 0L12 15l4.1-4c.3-.4.8-.4 1 0l2 1.9V5H5v10.7ZM5 18V19h3l2.8-2.9-2-2L5 17.9Zm14-3-2.5-2.4-6.4 6.5H19v-4ZM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm6 8a2 2 0 1 0 0-4 2 2 0 0 0 0 4Z" fill-rule="nonzero"/></svg>',indent:'<svg width="24" height="24"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 1 1 0-2Zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm-5 4h12a1 1 0 0 1 0 2H7a1 1 0 0 1 0-2Zm-2.6-3.8L6.2 12l-1.8-1.2a1 1 0 0 1 1.2-1.6l3 2a1 1 0 0 1 0 1.6l-3 2a1 1 0 1 1-1.2-1.6Z" fill-rule="evenodd"/></svg>',info:'<svg width="24" height="24"><path d="M12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4Zm-1 3v2h2V7h-2Zm3 10v-1h-1v-5h-3v1h1v4h-1v1h4Z" fill-rule="evenodd"/></svg>',"insert-character":'<svg width="24" height="24"><path d="M15 18h4l1-2v4h-6v-3.3l1.4-1a6 6 0 0 0 1.8-2.9 6.3 6.3 0 0 0-.1-4.1 5.8 5.8 0 0 0-3-3.2c-.6-.3-1.3-.5-2.1-.5a5.1 5.1 0 0 0-3.9 1.8 6.3 6.3 0 0 0-1.3 6 6.2 6.2 0 0 0 1.8 3l1.4.9V20H4v-4l1 2h4v-.5l-2-1L5.4 15A6.5 6.5 0 0 1 4 11c0-1 .2-1.9.6-2.7A7 7 0 0 1 6.3 6C7.1 5.4 8 5 9 4.5c1-.3 2-.5 3.1-.5a8.8 8.8 0 0 1 5.7 2 7 7 0 0 1 1.7 2.3 6 6 0 0 1 .2 4.8c-.2.7-.6 1.3-1 1.9a7.6 7.6 0 0 1-3.6 2.5v.5Z" fill-rule="evenodd"/></svg>',"insert-time":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M12 19a7 7 0 1 0 0-14 7 7 0 0 0 0 14Zm0 2a9 9 0 1 1 0-18 9 9 0 0 1 0 18Z"/><path d="M16 12h-3V7c0-.6-.4-1-1-1a1 1 0 0 0-1 1v7h5c.6 0 1-.4 1-1s-.4-1-1-1Z"/></g></svg>',invert:'<svg width="24" height="24"><path d="M18 19.3 16.5 18a5.8 5.8 0 0 1-3.1 1.9 6.1 6.1 0 0 1-5.5-1.6A5.8 5.8 0 0 1 6 14v-.3l.1-1.2A13.9 13.9 0 0 1 7.7 9l-3-3 .7-.8 2.8 2.9 9 8.9 1.5 1.6-.7.6Zm0-5.5v.3l-.1 1.1-.4 1-1.2-1.2a4.3 4.3 0 0 0 .2-1v-.2c0-.4 0-.8-.2-1.3l-.5-1.4a14.8 14.8 0 0 0-3-4.2L12 6a26.1 26.1 0 0 0-2.2 2.5l-1-1a20.9 20.9 0 0 1 2.9-3.3L12 4l1 .8a22.2 22.2 0 0 1 4 5.4c.6 1.2 1 2.4 1 3.6Z" fill-rule="evenodd"/></svg>',italic:'<svg width="24" height="24"><path d="m16.7 4.7-.1.9h-.3c-.6 0-1 0-1.4.3-.3.3-.4.6-.5 1.1l-2.1 9.8v.6c0 .5.4.8 1.4.8h.2l-.2.8H8l.2-.8h.2c1.1 0 1.8-.5 2-1.5l2-9.8.1-.5c0-.6-.4-.8-1.4-.8h-.3l.2-.9h5.8Z" fill-rule="evenodd"/></svg>',language:'<svg width="24" height="24"><path d="M12 3a9 9 0 1 1 0 18 9 9 0 0 1 0-18Zm4.3 13.3c-.5 1-1.2 2-2 2.9a7.5 7.5 0 0 0 3.2-2.1l-.2-.2a6 6 0 0 0-1-.6Zm-8.6 0c-.5.2-.9.5-1.2.8.9 1 2 1.7 3.2 2a10 10 0 0 1-2-2.8Zm3.6-.8c-.8 0-1.6.1-2.2.3.5 1 1.2 1.9 2.1 2.7Zm1.5 0v3c.9-.8 1.6-1.7 2.1-2.7-.6-.2-1.4-.3-2.1-.3Zm-6-2.7H4.5c.2 1 .5 2.1 1 3h.3l1.3-1a10 10 0 0 1-.3-2Zm12.7 0h-2.3c0 .7-.1 1.4-.3 2l1.6 1.1c.5-1 .9-2 1-3.1Zm-3.8 0h-3V14c1 0 2 .1 2.7.4.2-.5.3-1 .3-1.6Zm-4.4 0h-3l.3 1.6c.8-.3 1.7-.4 2.7-.4v-1.3Zm-5.5-5c-.7 1-1.1 2.2-1.3 3.5h2.3c0-1 .2-1.8.5-2.6l-1.5-1Zm2.9 1.4v.1c-.2.6-.4 1.3-.4 2h3V9.4c-1 0-1.8-.1-2.6-.3Zm6.6 0h-.1l-2.4.3v1.8h3l-.5-2.1Zm3-1.4-.3.1-1.3.8c.3.8.5 1.6.5 2.6h2.3a7.5 7.5 0 0 0-1.3-3.5Zm-9 0 2 .2V5.5a9 9 0 0 0-2 2.2Zm3.5-2.3V8c.6 0 1.3 0 1.9-.2a9 9 0 0 0-2-2.3Zm-3-.7h-.1c-1.1.4-2.1 1-3 1.8l1.2.7a10 10 0 0 1 1.9-2.5Zm4.4 0 .1.1a10 10 0 0 1 1.8 2.4l1.1-.7a7.5 7.5 0 0 0-3-1.8Z"/></svg>',"line-height":'<svg width="24" height="24"><path d="M21 5a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zM7 3.6l3.7 3.7a1 1 0 0 1-1.3 1.5h-.1L8 7.3v9.2l1.3-1.3a1 1 0 0 1 1.3 0h.1c.4.4.4 1 0 1.3v.1L7 20.4l-3.7-3.7a1 1 0 0 1 1.3-1.5h.1L6 16.7V7.4L4.7 8.7a1 1 0 0 1-1.3 0h-.1a1 1 0 0 1 0-1.3v-.1L7 3.6z"/></svg>',line:'<svg width="24" height="24"><path d="m15 9-8 8H4v-3l8-8 3 3Zm1-1-3-3 1-1h1c-.2 0 0 0 0 0l2 2s0 .2 0 0v1l-1 1ZM4 18h16v2H4v-2Z" fill-rule="evenodd"/></svg>',link:'<svg width="24" height="24"><path d="M6.2 12.3a1 1 0 0 1 1.4 1.4l-2 2a2 2 0 1 0 2.6 2.8l4.8-4.8a1 1 0 0 0 0-1.4 1 1 0 1 1 1.4-1.3 2.9 2.9 0 0 1 0 4L9.6 20a3.9 3.9 0 0 1-5.5-5.5l2-2Zm11.6-.6a1 1 0 0 1-1.4-1.4l2-2a2 2 0 1 0-2.6-2.8L11 10.3a1 1 0 0 0 0 1.4A1 1 0 1 1 9.6 13a2.9 2.9 0 0 1 0-4L14.4 4a3.9 3.9 0 0 1 5.5 5.5l-2 2Z" fill-rule="nonzero"/></svg>',"list-bull-circle":'<svg width="48" height="48"><g fill-rule="evenodd"><path d="M11 16a2 2 0 1 0 0-4 2 2 0 0 0 0 4Zm0 1a3 3 0 1 1 0-6 3 3 0 0 1 0 6ZM11 26a2 2 0 1 0 0-4 2 2 0 0 0 0 4Zm0 1a3 3 0 1 1 0-6 3 3 0 0 1 0 6ZM11 36a2 2 0 1 0 0-4 2 2 0 0 0 0 4Zm0 1a3 3 0 1 1 0-6 3 3 0 0 1 0 6Z" fill-rule="nonzero"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-bull-default":'<svg width="48" height="48"><g fill-rule="evenodd"><circle cx="11" cy="14" r="3"/><circle cx="11" cy="24" r="3"/><circle cx="11" cy="34" r="3"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-bull-square":'<svg width="48" height="48"><g fill-rule="evenodd"><path d="M8 11h6v6H8zM8 21h6v6H8zM8 31h6v6H8z"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-num-default-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M37.4 17v-4.8h-.1l-1.5 1v-1.1l1.6-1.1h1.2v6zM33.3 17.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm1.7 5.7c0-1.2 1-2 2.2-2 1.3 0 2.1.8 2.1 1.8 0 .7-.3 1.2-1.3 2.2l-1.2 1v.2h2.6v1h-4.3v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H35zm-1.7 4.3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm3.2 7.3v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H35c0-1.1 1-1.8 2.2-1.8 1.2 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.7.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .6 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7zm-3.3 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7z"/></g></svg>',"list-num-default":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10 17v-4.8l-1.5 1v-1.1l1.6-1h1.2V17h-1.2Zm3.6.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm-5 5.7c0-1.2.8-2 2.1-2s2.1.8 2.1 1.8c0 .7-.3 1.2-1.4 2.2l-1.1 1v.2h2.6v1H8.6v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H8.5Zm6.3 4.3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM10 34.4v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H8.6c0-1.1 1-1.8 2.2-1.8 1.3 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.8.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .7 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7Zm4.7 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7Z"/></g></svg>',"list-num-lower-alpha-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M36.5 16c-.9 0-1.5-.5-1.5-1.3s.6-1.3 1.8-1.4h1v-.4c0-.4-.2-.6-.7-.6-.4 0-.7.1-.8.4h-1.1c0-.8.8-1.4 2-1.4S39 12 39 13V16h-1.2v-.6c-.3.4-.8.7-1.4.7Zm.4-.8c.6 0 1-.4 1-.9V14h-1c-.5.1-.7.3-.7.6 0 .4.3.6.7.6ZM33.1 16.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7ZM37.7 26c-.7 0-1.2-.2-1.5-.7v.7H35v-6.3h1.2v2.5c.3-.5.8-.9 1.5-.9 1.1 0 1.8 1 1.8 2.4 0 1.5-.7 2.4-1.8 2.4Zm-.5-3.6c-.6 0-1 .5-1 1.3s.4 1.4 1 1.4c.7 0 1-.6 1-1.4 0-.8-.3-1.3-1-1.3ZM33.2 26.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7zm6 7h-1c-.1-.5-.4-.8-1-.8s-1 .5-1 1.4c0 1 .4 1.4 1 1.4.5 0 .9-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7zm-6.1 3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-lower-alpha":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10.3 15.2c.5 0 1-.4 1-.9V14h-1c-.5.1-.8.3-.8.6 0 .4.3.6.8.6Zm-.4.9c-1 0-1.5-.6-1.5-1.4 0-.8.6-1.3 1.7-1.4h1.1v-.4c0-.4-.2-.6-.7-.6-.5 0-.8.1-.9.4h-1c0-.8.8-1.4 2-1.4 1.1 0 1.8.6 1.8 1.6V16h-1.1v-.6h-.1c-.2.4-.7.7-1.3.7Zm4.6 0c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-3.2 10c-.6 0-1.2-.3-1.4-.8v.7H8.5v-6.3H10v2.5c.3-.5.8-.9 1.4-.9 1.2 0 1.9 1 1.9 2.4 0 1.5-.7 2.4-1.9 2.4Zm-.4-3.7c-.7 0-1 .5-1 1.3s.3 1.4 1 1.4c.6 0 1-.6 1-1.4 0-.8-.4-1.3-1-1.3Zm4 3.7c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-2.2 7h-1.2c0-.5-.4-.8-.9-.8-.6 0-1 .5-1 1.4 0 1 .4 1.4 1 1.4.5 0 .8-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7Zm1.8 3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-lower-greek-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M37.4 16c-1.2 0-2-.8-2-2.3 0-1.5.8-2.4 2-2.4.6 0 1 .4 1.3 1v-.9H40v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1-.7h-.2c-.2.4-.7.8-1.3.8Zm.3-1c.6 0 1-.5 1-1.3s-.4-1.3-1-1.3-1 .5-1 1.3.4 1.4 1 1.4ZM33.3 16.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM36 21.9c0-1.5.8-2.3 2.1-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.9 1.3.9.3 1.3.8 1.3 1.7 0 1.2-.7 1.9-1.8 1.9-.6 0-1.1-.3-1.4-.8v2.2H36V22Zm1.8 1.2v-1h.3c.5 0 .9-.2.9-.7 0-.5-.3-.8-.9-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1 1.3s1-.4 1-1-.4-1-1.2-1h-.3ZM33.3 26.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM37.1 34.6 34.8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.2.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2Zm.7 1a2 2 0 0 0-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1ZM33.3 36.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-lower-greek":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10.5 15c.7 0 1-.5 1-1.3s-.3-1.3-1-1.3c-.5 0-.9.5-.9 1.3s.4 1.4 1 1.4Zm-.3 1c-1.1 0-1.8-.8-1.8-2.3 0-1.5.7-2.4 1.8-2.4.7 0 1.1.4 1.3 1h.1v-.9h1.2v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1.1-.7h-.1c-.2.4-.7.8-1.4.8Zm5 .1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7Zm-4.9 7v-1h.3c.6 0 1-.2 1-.7 0-.5-.4-.8-1-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1.1 1.3.6 0 1-.4 1-1s-.5-1-1.3-1h-.3ZM8.6 22c0-1.5.7-2.3 2-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.8 1.3.8.3 1.3.8 1.3 1.7 0 1.2-.8 1.9-1.9 1.9-.6 0-1.1-.3-1.3-.8v2.2H8.5V22Zm6.2 4.2c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm-4.5 8.5L8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.1.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2Zm.7 1a2 2 0 0 0-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1Zm4.5.5c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-lower-roman-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M32.9 16v-1.2h-1.3V16H33Zm0 10v-1.2h-1.3V26H33Zm0 10v-1.2h-1.3V36H33Z"/><path fill-rule="nonzero" d="M36 21h-1.5v5H36zM36 31h-1.5v5H36zM39 21h-1.5v5H39zM39 31h-1.5v5H39zM42 31h-1.5v5H42zM36 11h-1.5v5H36zM36 19h-1.5v1H36zM36 29h-1.5v1H36zM39 19h-1.5v1H39zM39 29h-1.5v1H39zM42 29h-1.5v1H42zM36 9h-1.5v1H36z"/></g></svg>',"list-num-lower-roman":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M15.1 16v-1.2h1.3V16H15Zm0 10v-1.2h1.3V26H15Zm0 10v-1.2h1.3V36H15Z"/><path fill-rule="nonzero" d="M12 21h1.5v5H12zM12 31h1.5v5H12zM9 21h1.5v5H9zM9 31h1.5v5H9zM6 31h1.5v5H6zM12 11h1.5v5H12zM12 19h1.5v1H12zM12 29h1.5v1H12zM9 19h1.5v1H9zM9 29h1.5v1H9zM6 29h1.5v1H6zM12 9h1.5v1H12z"/></g></svg>',"list-num-upper-alpha-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="m39.3 17-.5-1.4h-2l-.5 1.4H35l2-6h1.6l2 6h-1.3Zm-1.6-4.7-.7 2.3h1.6l-.8-2.3ZM33.4 17c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm4.7 9.9h-2.7v-6H38c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7Zm-1.4-5v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1Zm0 4h1.1c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9h-1.1V26ZM33 27.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm4.9 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2Zm-4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-upper-alpha":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="m12.6 17-.5-1.4h-2L9.5 17H8.3l2-6H12l2 6h-1.3ZM11 12.3l-.7 2.3h1.6l-.8-2.3Zm4.7 4.8c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7ZM11.4 27H8.7v-6h2.6c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7ZM10 22v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1Zm0 4H11c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9H10V26Zm5.4 1.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-4.1 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2Zm4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-upper-roman-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M31.6 17v-1.2H33V17h-1.3Zm0 10v-1.2H33V27h-1.3Zm0 10v-1.2H33V37h-1.3Z"/><path fill-rule="nonzero" d="M34.5 20H36v7h-1.5zM34.5 30H36v7h-1.5zM37.5 20H39v7h-1.5zM37.5 30H39v7h-1.5zM40.5 30H42v7h-1.5zM34.5 10H36v7h-1.5z"/></g></svg>',"list-num-upper-roman":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M15.1 17v-1.2h1.3V17H15Zm0 10v-1.2h1.3V27H15Zm0 10v-1.2h1.3V37H15Z"/><path fill-rule="nonzero" d="M12 20h1.5v7H12zM12 30h1.5v7H12zM9 20h1.5v7H9zM9 30h1.5v7H9zM6 30h1.5v7H6zM12 10h1.5v7H12z"/></g></svg>',lock:'<svg width="24" height="24"><path d="M16.3 11c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H8V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h.3ZM10 8v3h4V8a1 1 0 0 0-.3-.7A1 1 0 0 0 13 7h-2a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7Z" fill-rule="evenodd"/></svg>',ltr:'<svg width="24" height="24"><path d="M11 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 7.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L11 5ZM4.4 16.2 6.2 15l-1.8-1.2a1 1 0 0 1 1.2-1.6l3 2a1 1 0 0 1 0 1.6l-3 2a1 1 0 1 1-1.2-1.6Z" fill-rule="evenodd"/></svg>',"math-equation":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M9 4.8c.1-.5.5-.8 1-.8h10a1 1 0 1 1 0 2h-9.2L8.3 19.2a1 1 0 0 1-1.7.4l-3.4-4.2a1 1 0 0 1 1.6-1.2l2 2.5L9 4.8Zm9.7 5.5c.4.4.4 1 0 1.4L17 13.5l1.8 1.8a1 1 0 1 1-1.4 1.4L15.5 15l-1.8 1.8a1 1 0 0 1-1.4-1.4l1.8-1.8-1.8-1.8a1 1 0 0 1 1.4-1.4l1.8 1.8 1.8-1.8a1 1 0 0 1 1.4 0Z"/></svg>',minus:'<svg width="24" height="24"><path d="M19 11a1 1 0 0 1 .1 2H5a1 1 0 0 1-.1-2H19Z"/></svg>',"more-drawer":'<svg width="24" height="24"><path d="M6 10a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm12 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm-6 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Z" fill-rule="nonzero"/></svg>',"new-document":'<svg width="24" height="24"><path d="M14.4 3H7a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h10a2 2 0 0 0 2-2V7.6L14.4 3ZM17 19H7V5h6v4h4v10Z" fill-rule="nonzero"/></svg>',"new-tab":'<svg width="24" height="24"><path d="m15 13 2-2v8H5V7h8l-2 2H7v8h8v-4Zm4-8v5.5l-2-2-5.6 5.5H10v-1.4L15.5 7l-2-2H19Z" fill-rule="evenodd"/></svg>',"non-breaking":'<svg width="24" height="24"><path d="M11 11H8a1 1 0 1 1 0-2h3V6c0-.6.4-1 1-1s1 .4 1 1v3h3c.6 0 1 .4 1 1s-.4 1-1 1h-3v3c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-3Zm10 4v5H3v-5c0-.6.4-1 1-1s1 .4 1 1v3h14v-3c0-.6.4-1 1-1s1 .4 1 1Z" fill-rule="evenodd"/></svg>',notice:'<svg width="24" height="24"><path d="M15.5 4 20 8.5v7L15.5 20h-7L4 15.5v-7L8.5 4h7ZM13 17v-2h-2v2h2Zm0-4V7h-2v6h2Z" fill-rule="evenodd" clip-rule="evenodd"/></svg>',"ordered-list-rtl":'<svg width="24" height="24"><path d="M6 17h8a1 1 0 0 1 0 2H6a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2H6a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2H6a1 1 0 1 1 0-2Zm13-1v3.5a.5.5 0 1 1-1 0V5h-.5a.5.5 0 1 1 0-1H19Zm-1 8.8.2.2h1.3a.5.5 0 1 1 0 1h-1.6a1 1 0 0 1-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 0 0-.2-.2h-1.3a.5.5 0 0 1-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3Zm2 4.2v2c0 .6-.4 1-1 1h-1.5a.5.5 0 0 1 0-1h1.2a.3.3 0 1 0 0-.6h-1.3a.4.4 0 1 1 0-.8h1.3a.3.3 0 0 0 0-.6h-1.2a.5.5 0 1 1 0-1H19c.6 0 1 .4 1 1Z" fill-rule="evenodd"/></svg>',"ordered-list":'<svg width="24" height="24"><path d="M10 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 1 1 0-2ZM6 4v3.5c0 .3-.2.5-.5.5a.5.5 0 0 1-.5-.5V5h-.5a.5.5 0 0 1 0-1H6Zm-1 8.8.2.2h1.3c.3 0 .5.2.5.5s-.2.5-.5.5H4.9a1 1 0 0 1-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 0 0-.2-.2H4.5a.5.5 0 0 1-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3ZM7 17v2c0 .6-.4 1-1 1H4.5a.5.5 0 0 1 0-1h1.2c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.4a.4.4 0 1 1 0-.8h1.3c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.5a.5.5 0 1 1 0-1H6c.6 0 1 .4 1 1Z" fill-rule="evenodd"/></svg>',orientation:'<svg width="24" height="24"><path d="M7.3 6.4 1 13l6.4 6.5 6.5-6.5-6.5-6.5ZM3.7 13l3.6-3.7L11 13l-3.7 3.7-3.6-3.7ZM12 6l2.8 2.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0L9.2 5.7a.8.8 0 0 1 0-1.2L13.6.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L12 4h1a9 9 0 1 1-4.3 16.9l1.5-1.5A7 7 0 1 0 13 6h-1Z" fill-rule="nonzero"/></svg>',outdent:'<svg width="24" height="24"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 1 1 0-2Zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm-5 4h12a1 1 0 0 1 0 2H7a1 1 0 0 1 0-2Zm1.6-3.8a1 1 0 0 1-1.2 1.6l-3-2a1 1 0 0 1 0-1.6l3-2a1 1 0 0 1 1.2 1.6L6.8 12l1.8 1.2Z" fill-rule="evenodd"/></svg>',"export-pdf":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M7 3h7.4L19 7.6V17h-2V9h-4V5H7v3H5V5c0-1.1.9-2 2-2Z"/><path d="M2.6 15.2v-1.9h1c.6 0 1-.2 1.4-.5.3-.3.5-.7.5-1.2s-.2-.9-.5-1.2a2 2 0 0 0-1.3-.4H1v5.2h1.6Zm.4-3h-.4v-1.1h.5l.6.1.2.5c0 .1 0 .3-.2.4l-.7.1Zm5.7 3 1-.1c.3 0 .5-.2.7-.4l.5-.8c.2-.3.2-.7.2-1.3v-1l-.5-.8c-.2-.3-.4-.5-.7-.6L8.7 10H6.3v5.2h2.4Zm-.4-1.1H8v-3h.4c.5 0 .8.2 1 .4l.2 1.1-.1 1-.3.3-.8.2Zm5.3 1.2V13h2v-1h-2v-1H16V10h-4v5.2h1.6Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M15 17a1 1 0 1 0-2 0v3.1l-1.4-1a1 1 0 1 0-1.2 1.7l3.6 2.4 3.6-2.4a1 1 0 0 0-1.2-1.6l-1.4 1V17Z"/></svg>',"export-word":'<svg width="24" height="24"><path d="M9.5 7A1.5 1.5 0 0 1 11 8.4v7.1A1.5 1.5 0 0 1 9.6 17H2.5A1.5 1.5 0 0 1 1 15.6V8.5A1.5 1.5 0 0 1 2.4 7h7.1Zm-1 2.8-1 2.6-1-2.5v-.1a.6.6 0 0 0-1 0l-.1.1-.9 2.5-1-2.5v-.1a.6.6 0 0 0-1 .4v.1l1.5 4v.1a.6.6 0 0 0 1 0v-.1l1-2.5.9 2.5v.1a.6.6 0 0 0 1 0H8l1.6-4v-.2a.6.6 0 0 0-1.1-.4Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M7 3h7.4L19 7.6V17h-2V9h-4V5H5c0-1.1.9-2 2-2ZM15 17a1 1 0 1 0-2 0v3.1l-1.4-1a1 1 0 1 0-1.2 1.7l3.6 2.4 3.6-2.4a1 1 0 0 0-1.2-1.6l-1.4 1V17Z"/></svg>',"import-word":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M7 3h7.4L19 7.6V15h-2V9h-4V5H5c0-1.1.9-2 2-2Z"/><path d="M9.5 7A1.5 1.5 0 0 1 11 8.4v7.1A1.5 1.5 0 0 1 9.6 17H2.5A1.5 1.5 0 0 1 1 15.6V8.5A1.5 1.5 0 0 1 2.4 7h7.1Zm-1 2.8-1 2.6-1-2.5v-.1a.6.6 0 0 0-1 0l-.1.1-.9 2.5-1-2.5v-.1a.6.6 0 0 0-1 .4v.1l1.5 4v.1a.6.6 0 0 0 1 0v-.1l1-2.5.9 2.5v.1a.6.6 0 0 0 1 0H8l1.6-4v-.2a.6.6 0 0 0-1.1-.4Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M11.4 18.2a1 1 0 0 0 1.2 1.6l1.4-1V22a1 1 0 1 0 2 0v-3.1l1.4 1a1 1 0 0 0 1.2-1.7L15 15.8l-3.6 2.4Z"/></svg>',"page-break":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M5 11c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1h-1a1 1 0 0 1 0-2Zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2ZM7 3v5h10V3c0-.6.4-1 1-1s1 .4 1 1v7H5V3c0-.6.4-1 1-1s1 .4 1 1ZM6 22a1 1 0 0 1-1-1v-7h14v7c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-5H7v5c0 .6-.4 1-1 1Z"/></g></svg>',paragraph:'<svg width="24" height="24"><path fill-rule="evenodd" d="M10 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 6.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L10 5Z"/></svg>',"paste-column-after":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V7h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h7v2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm8 7v12h-6V8h6Zm-1.5 1.5h-3v9h3v-9ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-column-before":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V18c0 1-.8 2-1.9 2H11v-2h7V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v2H4V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm-2 7v12H4V8h6ZM8.5 9.5h-3v9h3v-9ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-row-after":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V11h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h14c0 1-.8 2-1.9 2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm10 11v5H8v-5h14Zm-1.5 1.5h-11v2h11v-2ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-row-before":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V7h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h12v-4h2v4c0 1-.8 2-1.9 2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm10 7v5H8V8h14Zm-1.5 1.5h-11v2h11v-2ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-text":'<svg width="24" height="24"><path d="M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h3V9h9ZM9 20H6a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0 1 12 1a3 3 0 0 1 2.8 2H18a2 2 0 0 1 2 2v4h1v12H9v-1Zm1.5-9.5v9h9v-9h-9ZM12 3a1 1 0 0 0-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1Zm0 9h6v2h-.5l-.5-1h-1v4h.8v1h-3.6v-1h.8v-4h-1l-.5 1H12v-2Z" fill-rule="nonzero"/></svg>',paste:'<svg width="24" height="24"><path d="M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h3V9h9ZM9 20H6a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0 1 12 1a3 3 0 0 1 2.8 2H18a2 2 0 0 1 2 2v4h1v12H9v-1Zm1.5-9.5v9h9v-9h-9ZM12 3a1 1 0 0 0-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1Z" fill-rule="nonzero"/></svg>',"permanent-pen":'<svg width="24" height="24"><path d="M10.5 17.5 8 20H3v-3l3.5-3.5a2 2 0 0 1 0-3L14 3l1 1-7.3 7.3a1 1 0 0 0 0 1.4l3.6 3.6c.4.4 1 .4 1.4 0L20 9l1 1-7.6 7.6a2 2 0 0 1-2.8 0l-.1-.1Z" fill-rule="nonzero"/></svg>',plus:'<svg width="24" height="24"><path d="M12 4c.5 0 1 .4 1 .9V11h6a1 1 0 0 1 .1 2H13v6a1 1 0 0 1-2 .1V13H5a1 1 0 0 1-.1-2H11V5c0-.6.4-1 1-1Z"/></svg>',preferences:'<svg width="24" height="24"><path d="m20.1 13.5-1.9.2a5.8 5.8 0 0 1-.6 1.5l1.2 1.5c.4.4.3 1 0 1.4l-.7.7a1 1 0 0 1-1.4 0l-1.5-1.2a6.2 6.2 0 0 1-1.5.6l-.2 1.9c0 .5-.5.9-1 .9h-1a1 1 0 0 1-1-.9l-.2-1.9a5.8 5.8 0 0 1-1.5-.6l-1.5 1.2a1 1 0 0 1-1.4 0l-.7-.7a1 1 0 0 1 0-1.4l1.2-1.5a6.2 6.2 0 0 1-.6-1.5l-1.9-.2a1 1 0 0 1-.9-1v-1c0-.5.4-1 .9-1l1.9-.2a5.8 5.8 0 0 1 .6-1.5L5.2 7.3a1 1 0 0 1 0-1.4l.7-.7a1 1 0 0 1 1.4 0l1.5 1.2a6.2 6.2 0 0 1 1.5-.6l.2-1.9c0-.5.5-.9 1-.9h1c.5 0 1 .4 1 .9l.2 1.9a5.8 5.8 0 0 1 1.5.6l1.5-1.2a1 1 0 0 1 1.4 0l.7.7c.3.4.4 1 0 1.4l-1.2 1.5a6.2 6.2 0 0 1 .6 1.5l1.9.2c.5 0 .9.5.9 1v1c0 .5-.4 1-.9 1ZM12 15a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z" fill-rule="evenodd"/></svg>',preview:'<svg width="24" height="24"><path d="M3.5 12.5c.5.8 1.1 1.6 1.8 2.3 2 2 4.2 3.2 6.7 3.2s4.7-1.2 6.7-3.2a16.2 16.2 0 0 0 2.1-2.8 15.7 15.7 0 0 0-2.1-2.8c-2-2-4.2-3.2-6.7-3.2a9.3 9.3 0 0 0-6.7 3.2A16.2 16.2 0 0 0 3.2 12c0 .2.2.3.3.5Zm-2.4-1 .7-1.2L4 7.8C6.2 5.4 8.9 4 12 4c3 0 5.8 1.4 8.1 3.8a18.2 18.2 0 0 1 2.8 3.7v1l-.7 1.2-2.1 2.5c-2.3 2.4-5 3.8-8.1 3.8-3 0-5.8-1.4-8.1-3.8a18.2 18.2 0 0 1-2.8-3.7 1 1 0 0 1 0-1Zm12-3.3a2 2 0 1 0 2.7 2.6 4 4 0 1 1-2.6-2.6Z" fill-rule="nonzero"/></svg>',print:'<svg width="24" height="24"><path d="M18 8H6a3 3 0 0 0-3 3v6h2v3h14v-3h2v-6a3 3 0 0 0-3-3Zm-1 10H7v-4h10v4Zm.5-5c-.8 0-1.5-.7-1.5-1.5s.7-1.5 1.5-1.5 1.5.7 1.5 1.5-.7 1.5-1.5 1.5Zm.5-8H6v2h12V5Z" fill-rule="nonzero"/></svg>',quote:'<svg width="24" height="24"><path d="M7.5 17h.9c.4 0 .7-.2.9-.6L11 13V8c0-.6-.4-1-1-1H6a1 1 0 0 0-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 0 0 .8 1.3Zm8 0h.9c.4 0 .7-.2.9-.6L19 13V8c0-.6-.4-1-1-1h-4a1 1 0 0 0-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 0 0 .8 1.3Z" fill-rule="nonzero"/></svg>',redo:'<svg width="24" height="24"><path d="M17.6 10H12c-2.8 0-4.4 1.4-4.9 3.5-.4 2 .3 4 1.4 4.6a1 1 0 1 1-1 1.8c-2-1.2-2.9-4.1-2.3-6.8.6-3 3-5.1 6.8-5.1h5.6l-3.3-3.3a1 1 0 1 1 1.4-1.4l5 5a1 1 0 0 1 0 1.4l-5 5a1 1 0 0 1-1.4-1.4l3.3-3.3Z" fill-rule="nonzero"/></svg>',reload:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="m5 22.1-1.2-4.7v-.2a1 1 0 0 1 1-1l5 .4a1 1 0 1 1-.2 2l-2.2-.2a7.8 7.8 0 0 0 8.4.2 7.5 7.5 0 0 0 3.5-6.4 1 1 0 1 1 2 0 9.5 9.5 0 0 1-4.5 8 9.9 9.9 0 0 1-10.2 0l.4 1.4a1 1 0 1 1-2 .5ZM13.6 7.4c0-.5.5-1 1-.9l2.8.2a8 8 0 0 0-9.5-1 7.5 7.5 0 0 0-3.6 7 1 1 0 0 1-2 0 9.5 9.5 0 0 1 4.5-8.6 10 10 0 0 1 10.9.3l-.3-1a1 1 0 0 1 2-.5l1.1 4.8a1 1 0 0 1-1 1.2l-5-.4a1 1 0 0 1-.9-1Z"/></g></svg>',"remove-formatting":'<svg width="24" height="24"><path d="M13.2 6a1 1 0 0 1 0 .2l-2.6 10a1 1 0 0 1-1 .8h-.2a.8.8 0 0 1-.8-1l2.6-10H8a1 1 0 1 1 0-2h9a1 1 0 0 1 0 2h-3.8ZM5 18h7a1 1 0 0 1 0 2H5a1 1 0 0 1 0-2Zm13 1.5L16.5 18 15 19.5a.7.7 0 0 1-1-1l1.5-1.5-1.5-1.5a.7.7 0 0 1 1-1l1.5 1.5 1.5-1.5a.7.7 0 0 1 1 1L17.5 17l1.5 1.5a.7.7 0 0 1-1 1Z" fill-rule="evenodd"/></svg>',remove:'<svg width="24" height="24"><path d="M16 7h3a1 1 0 0 1 0 2h-1v9a3 3 0 0 1-3 3H9a3 3 0 0 1-3-3V9H5a1 1 0 1 1 0-2h3V6a3 3 0 0 1 3-3h2a3 3 0 0 1 3 3v1Zm-2 0V6c0-.6-.4-1-1-1h-2a1 1 0 0 0-1 1v1h4Zm2 2H8v9c0 .6.4 1 1 1h6c.6 0 1-.4 1-1V9Zm-7 3a1 1 0 0 1 2 0v4a1 1 0 0 1-2 0v-4Zm4 0a1 1 0 0 1 2 0v4a1 1 0 0 1-2 0v-4Z" fill-rule="nonzero"/></svg>',"resize-handle":'<svg width="10" height="10"><g fill-rule="nonzero"><path d="M8.1 1.1A.5.5 0 1 1 9 2l-7 7A.5.5 0 1 1 1 8l7-7ZM8.1 5.1A.5.5 0 1 1 9 6l-3 3A.5.5 0 1 1 5 8l3-3Z"/></g></svg>',resize:'<svg width="24" height="24"><path d="M4 5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h6c.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7a1 1 0 0 1-.7.3H7.4L18 16.6V13c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7v6c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-6a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3.6L6 7.4V11c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.7-.3A1 1 0 0 1 4 11V5Z" fill-rule="evenodd"/></svg>',"restore-draft":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M17 13c0 .6-.4 1-1 1h-4V8c0-.6.4-1 1-1s1 .4 1 1v4h2c.6 0 1 .4 1 1Z"/><path d="M4.7 10H9a1 1 0 0 1 0 2H3a1 1 0 0 1-1-1V5a1 1 0 1 1 2 0v3l2.5-2.4a9.2 9.2 0 0 1 10.8-1.5A9 9 0 0 1 13.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 1 1 1.3-1.5 7.2 7.2 0 0 0 11.6-3.7 7 7 0 0 0-3.5-7.7A7.2 7.2 0 0 0 8 7L4.7 10Z" fill-rule="nonzero"/></g></svg>',"revision-history":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M17 13c0 .6-.4 1-1 1h-4V8c0-.6.4-1 1-1s1 .4 1 1v4h2c.6 0 1 .4 1 1Z"/><path d="M4.7 10H9a1 1 0 0 1 0 2H3a1 1 0 0 1-1-1V5a1 1 0 1 1 2 0v3l2.5-2.4a9.2 9.2 0 0 1 10.8-1.5A9 9 0 0 1 13.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 1 1 1.3-1.5 7.2 7.2 0 0 0 11.6-3.7 7 7 0 0 0-3.5-7.7A7.2 7.2 0 0 0 8 7L4.7 10Z" fill-rule="nonzero"/></g></svg>',"rotate-left":'<svg width="24" height="24"><path d="M4.7 10H9a1 1 0 0 1 0 2H3a1 1 0 0 1-1-1V5a1 1 0 1 1 2 0v3l2.5-2.4a9.2 9.2 0 0 1 10.8-1.5A9 9 0 0 1 13.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 1 1 1.3-1.5 7.2 7.2 0 0 0 11.6-3.7 7 7 0 0 0-3.5-7.7A7.2 7.2 0 0 0 8 7L4.7 10Z" fill-rule="nonzero"/></svg>',"rotate-right":'<svg width="24" height="24"><path d="M20 8V5a1 1 0 0 1 2 0v6c0 .6-.4 1-1 1h-6a1 1 0 0 1 0-2h4.3L16 7A7.2 7.2 0 0 0 7.7 6a7 7 0 0 0 3 13.1c1.9.1 3.7-.5 5-1.7a1 1 0 0 1 1.4 1.5A9.2 9.2 0 0 1 2.2 14c-.9-3.9 1-8 4.5-9.9 3.5-1.9 8-1.3 10.8 1.5L20 8Z" fill-rule="nonzero"/></svg>',rtl:'<svg width="24" height="24"><path d="M8 5h8v2h-2v12h-2V7h-2v12H8v-7c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 4.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L8 5Zm12 11.2a1 1 0 1 1-1 1.6l-3-2a1 1 0 0 1 0-1.6l3-2a1 1 0 1 1 1 1.6L18.4 15l1.8 1.2Z" fill-rule="evenodd"/></svg>',save:'<svg width="24" height="24"><path d="M5 16h14a2 2 0 0 1 2 2v2a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-2c0-1.1.9-2 2-2Zm0 2v2h14v-2H5Zm10 0h2v2h-2v-2Zm-4-6.4L8.7 9.3a1 1 0 1 0-1.4 1.4l4 4c.4.4 1 .4 1.4 0l4-4a1 1 0 1 0-1.4-1.4L13 11.6V4a1 1 0 0 0-2 0v7.6Z" fill-rule="nonzero"/></svg>',search:'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Z" fill-rule="nonzero"/></svg>',"select-all":'<svg width="24" height="24"><path d="M3 5h2V3a2 2 0 0 0-2 2Zm0 8h2v-2H3v2Zm4 8h2v-2H7v2ZM3 9h2V7H3v2Zm10-6h-2v2h2V3Zm6 0v2h2a2 2 0 0 0-2-2ZM5 21v-2H3c0 1.1.9 2 2 2Zm-2-4h2v-2H3v2ZM9 3H7v2h2V3Zm2 18h2v-2h-2v2Zm8-8h2v-2h-2v2Zm0 8a2 2 0 0 0 2-2h-2v2Zm0-12h2V7h-2v2Zm0 8h2v-2h-2v2Zm-4 4h2v-2h-2v2Zm0-16h2V3h-2v2ZM7 17h10V7H7v10Zm2-8h6v6H9V9Z" fill-rule="nonzero"/></svg>',selected:'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2Zm3.6 10.9L7 12.3a.7.7 0 0 0-1 1L9.6 17 18 8.6a.7.7 0 0 0 0-1 .7.7 0 0 0-1 0l-7.4 7.3Z"/></svg>',send:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="m13.3 22 7-18.3-18.3 7L9 15l4.3 7ZM18 6.8l-.7-.7L9.4 14l.7.7L18 6.8Z"/></svg>',settings:'<svg width="24" height="24"><path d="M11 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V8H5a1 1 0 1 1 0-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.5V6ZM8 8h2V6H8v2Zm9 2.8v.2h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v.3c0 .2 0 .3-.2.5l-.6.2h-2.4c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V13H5a1 1 0 0 1 0-2h8v-.3c0-.2 0-.3.2-.5l.6-.2h2.4c.3 0 .4 0 .6.2l.2.6ZM14 13h2v-2h-2v2Zm-3 2.8v.2h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V18H5a1 1 0 0 1 0-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.6ZM8 18h2v-2H8v2Z" fill-rule="evenodd"/></svg>',sharpen:'<svg width="24" height="24"><path d="m16 6 4 4-8 9-8-9 4-4h8Zm-4 10.2 5.5-6.2-.1-.1H12v-.3h5.1l-.2-.2H12V9h4.6l-.2-.2H12v-.3h4.1l-.2-.2H12V8h3.6l-.2-.2H8.7L6.5 10l.1.1H12v.3H6.9l.2.2H12v.3H7.3l.2.2H12v.3H7.7l.3.2h4v.3H8.2l.2.2H12v.3H8.6l.3.2H12v.3H9l.3.2H12v.3H9.5l.2.2H12v.3h-2l.2.2H12v.3h-1.6l.2.2H12v.3h-1.1l.2.2h.9v.3h-.7l.2.2h.5v.3h-.3l.3.2Z" fill-rule="evenodd"/></svg>',sourcecode:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M9.8 15.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0l-4.4-4.1a.8.8 0 0 1 0-1.2l4.4-4.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L6 12l3.8 3.7ZM14.2 15.7c-.3.3-.3.8 0 1 .4.4.9.4 1.2 0l4.4-4.1c.3-.3.3-.9 0-1.2l-4.4-4.2a.8.8 0 0 0-1.2 0c-.3.3-.3.8 0 1.1L18 12l-3.8 3.7Z"/></g></svg>',"spell-check":'<svg width="24" height="24"><path d="M6 8v3H5V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h2c.3 0 .5.1.7.3.2.2.3.4.3.7v6H8V8H6Zm0-3v2h2V5H6Zm13 0h-3v5h3v1h-3a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3v1Zm-5 1.5-.1.7c-.1.2-.3.3-.6.3.3 0 .5.1.6.3l.1.7V10c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-3V4h3c.3 0 .5.1.7.3.2.2.3.4.3.7v1.5ZM13 10V8h-2v2h2Zm0-3V5h-2v2h2Zm3 5 1 1-6.5 7L7 15.5l1.3-1 2.2 2.2L16 12Z" fill-rule="evenodd"/></svg>',"strike-through":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M15.6 8.5c-.5-.7-1-1.1-1.3-1.3-.6-.4-1.3-.6-2-.6-2.7 0-2.8 1.7-2.8 2.1 0 1.6 1.8 2 3.2 2.3 4.4.9 4.6 2.8 4.6 3.9 0 1.4-.7 4.1-5 4.1A6.2 6.2 0 0 1 7 16.4l1.5-1.1c.4.6 1.6 2 3.7 2 1.6 0 2.5-.4 3-1.2.4-.8.3-2-.8-2.6-.7-.4-1.6-.7-2.9-1-1-.2-3.9-.8-3.9-3.6C7.6 6 10.3 5 12.4 5c2.9 0 4.2 1.6 4.7 2.4l-1.5 1.1Z"/><path d="M5 11h14a1 1 0 0 1 0 2H5a1 1 0 0 1 0-2Z" fill-rule="nonzero"/></g></svg>',subscript:'<svg width="24" height="24"><path d="m10.4 10 4.6 4.6-1.4 1.4L9 11.4 4.4 16 3 14.6 7.6 10 3 5.4 4.4 4 9 8.6 13.6 4 15 5.4 10.4 10ZM21 19h-5v-1l1-.8 1.7-1.6c.3-.4.5-.8.5-1.2 0-.3 0-.6-.2-.7-.2-.2-.5-.3-.9-.3a2 2 0 0 0-.8.2l-.7.3-.4-1.1 1-.6 1.2-.2c.8 0 1.4.3 1.8.7.4.4.6.9.6 1.5s-.2 1.1-.5 1.6a8 8 0 0 1-1.3 1.3l-.6.6h2.6V19Z" fill-rule="nonzero"/></svg>',superscript:'<svg width="24" height="24"><path d="M15 9.4 10.4 14l4.6 4.6-1.4 1.4L9 15.4 4.4 20 3 18.6 7.6 14 3 9.4 4.4 8 9 12.6 13.6 8 15 9.4Zm5.9 1.6h-5v-1l1-.8 1.7-1.6c.3-.5.5-.9.5-1.3 0-.3 0-.5-.2-.7-.2-.2-.5-.3-.9-.3l-.8.2-.7.4-.4-1.2c.2-.2.5-.4 1-.5.3-.2.8-.2 1.2-.2.8 0 1.4.2 1.8.6.4.4.6 1 .6 1.6 0 .5-.2 1-.5 1.5l-1.3 1.4-.6.5h2.6V11Z" fill-rule="nonzero"/></svg>',"table-caption":'<svg width="24" height="24"><g fill-rule="nonzero"><rect width="12" height="2" x="3" y="4" rx="1"/><path d="M19 8a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-8c0-1.1.9-2 2-2h14ZM5 15v3h6v-3H5Zm14 0h-6v3h6v-3Zm0-5h-6v3h6v-3ZM5 13h6v-3H5v3Z"/></g></svg>',"table-cell-classes":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M13 4v9H3V6c0-1.1.9-2 2-2h8Zm-2 2H5v5h6V6Z"/><path fill-rule="nonzero" d="M13 4h6a2 2 0 0 1 2 2v7h-8v-2h6V6h-6V4Z" opacity=".2"/><path d="m18 20-2.6 1.6.7-3-2.4-2 3.1-.2 1.2-2.9 1.2 2.9 3.1.2-2.4 2 .7 3z"/><path fill-rule="nonzero" d="M3 13v5c0 1.1.9 2 2 2h8v-7h-2v5H5v-5H3Z" opacity=".2"/></g></svg>',"table-cell-properties":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9H5v5h6v-5Zm8 0h-6v5h6v-5Zm-8-7H5v5h6V6Z"/></svg>',"table-cell-select-all":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v12h14V6Z"/><path d="M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2Z" opacity=".2"/></g></svg>',"table-cell-select-inner":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v12h14V6Z" opacity=".2"/><path d="M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2Z"/></g></svg>',"table-classes":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v7h-8v7H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9H5v5h6v-5Zm8-7h-6v5h6V6Zm-8 0H5v5h6V6Z"/><path d="m18 20-2.6 1.6.7-3-2.4-2 3.1-.2 1.2-2.9 1.2 2.9 3.1.2-2.4 2 .7 3z"/></g></svg>',"table-delete-column":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-4 4h-2V6h-2v2H9V6H5v12h4v-2h2v2h2v-2h2v2h4V6h-4v2Zm.3.5 1 1.2-3 2.3 3 2.3-1 1.2L12 13l-3.3 2.6-1-1.2 3-2.3-3-2.3 1-1.2L12 11l3.3-2.5Z"/></svg>',"table-delete-row":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v3h2.5v2H5v2h2.5v2H5v3h14v-3h-2.5v-2H19v-2h-2.5V9H19V6Zm-4.7 1.8 1.2 1L13 12l2.6 3.3-1.2 1-2.3-3-2.3 3-1.2-1L11 12 8.5 8.7l1.2-1 2.3 3 2.3-3Z"/></svg>',"table-delete-table":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 6v12h14V6H5Z"/><path d="m14.4 8.6 1.1 1-2.4 2.4 2.4 2.4-1.1 1.1-2.4-2.4-2.4 2.4-1-1.1 2.3-2.4-2.3-2.4 1-1 2.4 2.3z"/></g></svg>',"table-insert-column-after":'<svg width="24" height="24"><path fill-rule="nonzero" d="M20 4c.6 0 1 .4 1 1v2a1 1 0 0 1-2 0V6h-8v12h8v-1a1 1 0 0 1 2 0v2c0 .5-.4 1-.9 1H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h15ZM9 13H5v5h4v-5Zm7-5c.5 0 1 .4 1 .9V11h2a1 1 0 0 1 .1 2H17v2a1 1 0 0 1-2 .1V13h-2a1 1 0 0 1-.1-2H15V9c0-.6.4-1 1-1ZM9 6H5v5h4V6Z"/></svg>',"table-insert-column-before":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H4a1 1 0 0 1-1-1v-2a1 1 0 0 1 2 0v1h8V6H5v1a1 1 0 1 1-2 0V5c0-.6.4-1 1-1h15Zm0 9h-4v5h4v-5ZM8 8c.5 0 1 .4 1 .9V11h2a1 1 0 0 1 .1 2H9v2a1 1 0 0 1-2 .1V13H5a1 1 0 0 1-.1-2H7V9c0-.6.4-1 1-1Zm11-2h-4v5h4V6Z"/></svg>',"table-insert-row-above":'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4a1 1 0 1 1 0 2H5v6h14V6h-1a1 1 0 0 1 0-2h2c.6 0 1 .4 1 1v13a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5c0-.6.4-1 1-1h2Zm5 10H5v4h6v-4Zm8 0h-6v4h6v-4ZM12 3c.5 0 1 .4 1 .9V6h2a1 1 0 0 1 0 2h-2v2a1 1 0 0 1-2 .1V8H9a1 1 0 0 1 0-2h2V4c0-.6.4-1 1-1Z"/></svg>',"table-insert-row-after":'<svg width="24" height="24"><path fill-rule="nonzero" d="M12 13c.5 0 1 .4 1 .9V16h2a1 1 0 0 1 .1 2H13v2a1 1 0 0 1-2 .1V18H9a1 1 0 0 1-.1-2H11v-2c0-.6.4-1 1-1Zm6 7a1 1 0 0 1 0-2h1v-6H5v6h1a1 1 0 0 1 0 2H4a1 1 0 0 1-1-1V6c0-1.1.9-2 2-2h14a2 2 0 0 1 2 2v13c0 .5-.4 1-.9 1H18ZM11 6H5v4h6V6Zm8 0h-6v4h6V6Z"/></svg>',"table-left-header":'<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 9h-4v5h4v-5Zm-6 0H9v5h4v-5Zm0-7H9v5h4V6Zm6 0h-4v5h4V6Z"/></svg>',"table-merge-cells":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 15.5V18h3v-2.5H5Zm14-5h-9V18h9v-7.5ZM19 6h-4v2.5h4V6ZM8 6H5v2.5h3V6Zm5 0h-3v2.5h3V6Zm-8 7.5h3v-3H5v3Z"/></svg>',"table-row-numbering-rtl":'<svg width="24" height="24"><path d="M6 4a2 2 0 0 0-2 2v13c0 1.1.9 2 2 2h12a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2H6Zm0 12h8v3H6v-3Zm11 0c.6 0 1 .4 1 1v1a1 1 0 0 1-2 0v-1c0-.6.4-1 1-1ZM6 11h8v3H6v-3Zm11 0c.6 0 1 .4 1 1v1a1 1 0 0 1-2 0v-1c0-.6.4-1 1-1ZM6 6h8v3H6V6Zm11 0c.6 0 1 .4 1 1v1a1 1 0 1 1-2 0V7c0-.6.4-1 1-1Z"/></svg>',"table-row-numbering":'<svg width="24" height="24"><path d="M18 4a2 2 0 0 1 2 2v13a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h12Zm0 12h-8v3h8v-3ZM7 16a1 1 0 0 0-1 1v1a1 1 0 0 0 2 0v-1c0-.6-.4-1-1-1Zm11-5h-8v3h8v-3ZM7 11a1 1 0 0 0-1 1v1a1 1 0 0 0 2 0v-1c0-.6-.4-1-1-1Zm11-5h-8v3h8V6ZM7 6a1 1 0 0 0-1 1v1a1 1 0 1 0 2 0V7c0-.6-.4-1-1-1Z"/></svg>',"table-row-properties":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 15v3h6v-3H5Zm14 0h-6v3h6v-3Zm0-9h-6v3h6V6ZM5 9h6V6H5v3Z"/></svg>',"table-split-cells":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM8 15.5H5V18h3v-2.5Zm11-5h-9V18h9v-7.5Zm-2.5 1 1 1-2 2 2 2-1 1-2-2-2 2-1-1 2-2-2-2 1-1 2 2 2-2Zm-8.5-1H5v3h3v-3ZM19 6h-4v2.5h4V6ZM8 6H5v2.5h3V6Zm5 0h-3v2.5h3V6Z"/></svg>',"table-top-header":'<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 11H5v3h6v-3Zm8 0h-6v3h6v-3Zm0-5h-6v3h6v-3ZM5 13h6v-3H5v3Z"/></svg>',table:'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 14v4h6v-4H5Zm14 0h-6v4h6v-4Zm0-6h-6v4h6V8ZM5 12h6V8H5v4Z"/></svg>',"template-add":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M9 12v4H5a2 2 0 0 0-2 2v3h9.3a6 6 0 0 1-.3-2H5v-1h7a6 6 0 0 1 .8-2H11v-5l-.8-.6a3 3 0 1 1 3.6 0l-.8.6v4.7a6 6 0 0 1 2-1.9V12a5 5 0 1 0-6 0Z"/><path d="M18 15c.5 0 1 .4 1 .9V18h2a1 1 0 0 1 .1 2H19v2a1 1 0 0 1-2 .1V20h-2a1 1 0 0 1-.1-2H17v-2c0-.6.4-1 1-1Z"/></svg>',template:'<svg width="24" height="24"><path d="M19 19v-1H5v1h14ZM9 16v-4a5 5 0 1 1 6 0v4h4a2 2 0 0 1 2 2v3H3v-3c0-1.1.9-2 2-2h4Zm4 0v-5l.8-.6a3 3 0 1 0-3.6 0l.8.6v5h2Z" fill-rule="nonzero"/></svg>',"temporary-placeholder":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M9 7.6V6h2.5V4.5a.5.5 0 1 1 1 0V6H15v1.6a8 8 0 1 1-6 0Zm-2.6 5.3a.5.5 0 0 0 .3.6c.3 0 .6 0 .6-.3l.1-.2a5 5 0 0 1 3.3-2.8c.3-.1.4-.4.4-.6-.1-.3-.4-.5-.6-.4a6 6 0 0 0-4.1 3.7Z"/><circle cx="14" cy="4" r="1"/><circle cx="12" cy="2" r="1"/><circle cx="10" cy="4" r="1"/></g></svg>',"text-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path class="tox-icon-text-color__color" d="M3 18h18v3H3z"/><path d="M8.7 16h-.8a.5.5 0 0 1-.5-.6l2.7-9c.1-.3.3-.4.5-.4h2.8c.2 0 .4.1.5.4l2.7 9a.5.5 0 0 1-.5.6h-.8a.5.5 0 0 1-.4-.4l-.7-2.2c0-.3-.3-.4-.5-.4h-3.4c-.2 0-.4.1-.5.4l-.7 2.2c0 .3-.2.4-.4.4Zm2.6-7.6-.6 2a.5.5 0 0 0 .5.6h1.6a.5.5 0 0 0 .5-.6l-.6-2c0-.3-.3-.4-.5-.4h-.4c-.2 0-.4.1-.5.4Z"/></g></svg>',"text-size-decrease":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M14 5a1 1 0 1 1 0 2h-4v11a1 1 0 1 1-2 0V7H4a1 1 0 0 1 0-2h10ZM14 12a1 1 0 1 0 0 2h6a1 1 0 1 0 0-2h-6Z"/></svg>',"text-size-increase":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M14 5a1 1 0 1 1 0 2h-4v11a1 1 0 1 1-2 0V7H4a1 1 0 0 1 0-2h10ZM17 9a1 1 0 0 0-1 1v2h-2a1 1 0 1 0 0 2h2v2a1 1 0 1 0 2 0v-2h2a1 1 0 1 0 0-2h-2v-2c0-.6-.4-1-1-1Z"/></svg>',toc:'<svg width="24" height="24"><path d="M5 5c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 1 1 0-2Zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 1 1 0-2Zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm0-4c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 1 1 0-2Zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',translate:'<svg width="24" height="24"><path d="m12.7 14.3-.3.7-.4.7-2.2-2.2-3.1 3c-.3.4-.8.4-1 0a.7.7 0 0 1 0-1l3.1-3A12.4 12.4 0 0 1 6.7 9H8a10.1 10.1 0 0 0 1.7 2.4c.5-.5 1-1.1 1.4-1.8l.9-2H4.7a.7.7 0 1 1 0-1.5h4.4v-.7c0-.4.3-.8.7-.8.4 0 .7.4.7.8v.7H15c.4 0 .8.3.8.7 0 .4-.4.8-.8.8h-1.4a12.3 12.3 0 0 1-1 2.4 13.5 13.5 0 0 1-1.7 2.3l1.9 1.8Zm4.3-3 2.7 7.3a.5.5 0 0 1-.4.7 1 1 0 0 1-1-.7l-.6-1.5h-3.4l-.6 1.5a1 1 0 0 1-1 .7.5.5 0 0 1-.4-.7l2.7-7.4a1 1 0 0 1 2 0Zm-2.2 4.4h2.4L16 12.5l-1.2 3.2Z" fill-rule="evenodd"/></svg>',typography:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M17 5a1 1 0 1 1 0 2h-4v11a1 1 0 1 1-2 0V7H7a1 1 0 0 1 0-2h10Z"/><path d="m17.5 14 .8-1.7 1.7-.8-1.7-.8-.8-1.7-.8 1.7-1.7.8 1.7.8.8 1.7ZM7 14l1 2 2 1-2 1-1 2-1-2-2-1 2-1 1-2Z"/></svg>',underline:'<svg width="24" height="24"><path d="M16 5c.6 0 1 .4 1 1v5.5a4 4 0 0 1-.4 1.8l-1 1.4a5.3 5.3 0 0 1-5.5 1 5 5 0 0 1-1.6-1c-.5-.4-.8-.9-1.1-1.4a4 4 0 0 1-.4-1.8V6c0-.6.4-1 1-1s1 .4 1 1v5.5c0 .3 0 .6.2 1l.6.7a3.3 3.3 0 0 0 2.2.8 3.4 3.4 0 0 0 2.2-.8c.3-.2.4-.5.6-.8l.2-.9V6c0-.6.4-1 1-1ZM8 17h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',undo:'<svg width="24" height="24"><path d="M6.4 8H12c3.7 0 6.2 2 6.8 5.1.6 2.7-.4 5.6-2.3 6.8a1 1 0 0 1-1-1.8c1.1-.6 1.8-2.7 1.4-4.6-.5-2.1-2.1-3.5-4.9-3.5H6.4l3.3 3.3a1 1 0 1 1-1.4 1.4l-5-5a1 1 0 0 1 0-1.4l5-5a1 1 0 0 1 1.4 1.4L6.4 8Z" fill-rule="nonzero"/></svg>',unlink:'<svg width="24" height="24"><path d="M6.2 12.3a1 1 0 0 1 1.4 1.4l-2 2a2 2 0 1 0 2.6 2.8l4.8-4.8a1 1 0 0 0 0-1.4 1 1 0 1 1 1.4-1.3 2.9 2.9 0 0 1 0 4L9.6 20a3.9 3.9 0 0 1-5.5-5.5l2-2Zm11.6-.6a1 1 0 0 1-1.4-1.4l2.1-2a2 2 0 1 0-2.7-2.8L11 10.3a1 1 0 0 0 0 1.4A1 1 0 1 1 9.6 13a2.9 2.9 0 0 1 0-4L14.4 4a3.9 3.9 0 0 1 5.5 5.5l-2 2ZM7.6 6.3a.8.8 0 0 1-1 1.1L3.3 4.2a.7.7 0 1 1 1-1l3.2 3.1ZM5.1 8.6a.8.8 0 0 1 0 1.5H3a.8.8 0 0 1 0-1.5H5Zm5-3.5a.8.8 0 0 1-1.5 0V3a.8.8 0 0 1 1.5 0V5Zm6 11.8a.8.8 0 0 1 1-1l3.2 3.2a.8.8 0 0 1-1 1L16 17Zm-2.2 2a.8.8 0 0 1 1.5 0V21a.8.8 0 0 1-1.5 0V19Zm5-3.5a.7.7 0 1 1 0-1.5H21a.8.8 0 0 1 0 1.5H19Z" fill-rule="nonzero"/></svg>',unlock:'<svg width="24" height="24"><path d="M16 5c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h-2V8a1 1 0 0 0-.3-.7A1 1 0 0 0 16 7h-2a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7v3h.3c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H4.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H11V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2Z" fill-rule="evenodd"/></svg>',"unordered-list":'<svg width="24" height="24"><path d="M11 5h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2ZM4.5 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Z" fill-rule="evenodd"/></svg>',unselected:'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2Zm0 1a1 1 0 0 0-1 1v12c0 .6.4 1 1 1h12c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H6Z"/></svg>',upload:'<svg width="24" height="24"><path d="M18 19v-2a1 1 0 0 1 2 0v3c0 .6-.4 1-1 1H5a1 1 0 0 1-1-1v-3a1 1 0 0 1 2 0v2h12ZM11 6.4 8.7 8.7a1 1 0 0 1-1.4-1.4l4-4a1 1 0 0 1 1.4 0l4 4a1 1 0 1 1-1.4 1.4L13 6.4V16a1 1 0 0 1-2 0V6.4Z" fill-rule="nonzero"/></svg>',user:'<svg width="24" height="24"><path d="M12 24a12 12 0 1 1 0-24 12 12 0 0 1 0 24Zm-8.7-5.3a11 11 0 0 0 17.4 0C19.4 16.3 14.6 15 12 15c-2.6 0-7.4 1.3-8.7 3.7ZM12 13c2.2 0 4-2 4-4.5S14.2 4 12 4 8 6 8 8.5 9.8 13 12 13Z" fill-rule="nonzero"/></svg>',"vertical-align":'<svg width="24" height="24"><g fill-rule="nonzero"><rect width="18" height="2" x="3" y="11" rx="1"/><path d="M12 2c.6 0 1 .4 1 1v4l2-1.3a1 1 0 0 1 1.2 1.5l-.1.1-4.1 3-4-3a1 1 0 0 1 1-1.7l2 1.5V3c0-.6.4-1 1-1zm0 11.8 4 2.9a1 1 0 0 1-1 1.7l-2-1.5V21c0 .5-.4 1-.9 1H12a1 1 0 0 1-1-1v-4l-2 1.3a1 1 0 0 1-1.2-.1l-.1-.1a1 1 0 0 1 .1-1.3l.1-.1 4.1-3z"/></g></svg>',visualblocks:'<svg width="24" height="24"><path d="M9 19v2H7v-2h2Zm-4 0v2a2 2 0 0 1-2-2h2Zm8 0v2h-2v-2h2Zm8 0a2 2 0 0 1-2 2v-2h2Zm-4 0v2h-2v-2h2ZM15 7a1 1 0 0 1 0 2v7a1 1 0 0 1-2 0V9h-1v7a1 1 0 0 1-2 0v-4a2.5 2.5 0 0 1-.2-5H15ZM5 15v2H3v-2h2Zm16 0v2h-2v-2h2ZM5 11v2H3v-2h2Zm16 0v2h-2v-2h2ZM5 7v2H3V7h2Zm16 0v2h-2V7h2ZM5 3v2H3c0-1.1.9-2 2-2Zm8 0v2h-2V3h2Zm6 0a2 2 0 0 1 2 2h-2V3ZM9 3v2H7V3h2Zm8 0v2h-2V3h2Z" fill-rule="evenodd"/></svg>',visualchars:'<svg width="24" height="24"><path d="M10 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 6.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L10 5Z" fill-rule="evenodd"/></svg>',warning:'<svg width="24" height="24"><path d="M19.8 18.3c.2.5.3.9 0 1.2-.1.3-.5.5-1 .5H5.2c-.5 0-.9-.2-1-.5-.3-.3-.2-.7 0-1.2L11 4.7l.5-.5.5-.2c.2 0 .3 0 .5.2.2 0 .3.3.5.5l6.8 13.6ZM12 18c.3 0 .5-.1.7-.3.2-.2.3-.4.3-.7a1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3 1 1 0 0 0-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3Zm.7-3 .3-4a1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3 1 1 0 0 0-.3.7l.3 4h1.4Z" fill-rule="evenodd"/></svg>',"zoom-in":'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Zm-1-9a1 1 0 0 1 2 0v6a1 1 0 0 1-2 0V8Zm-2 4a1 1 0 0 1 0-2h6a1 1 0 0 1 0 2H8Z" fill-rule="nonzero"/></svg>',"zoom-out":'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Zm-3-5a1 1 0 0 1 0-2h6a1 1 0 0 1 0 2H8Z" fill-rule="nonzero"/></svg>'}});(function(){const t=Object.getPrototypeOf,r=(s,l,d)=>{var f;return!!d(s,l.prototype)||((f=s.constructor)===null||f===void 0?void 0:f.name)===l.name},i=s=>l=>(d=>{const f=typeof d;return d===null?"null":f==="object"&&Array.isArray(d)?"array":f==="object"&&r(d,String,(b,v)=>v.isPrototypeOf(b))?"string":f})(l)===s,u=s=>l=>typeof l===s,g=s=>l=>s===l,h=i("string"),x=i("object"),w=s=>((l,d)=>x(l)&&r(l,d,(f,b)=>t(f)===b))(s,Object),R=i("array"),D=g(null),O=u("boolean"),M=g(void 0),H=s=>s==null,K=s=>!H(s),Z=u("function"),Q=u("number"),re=(s,l)=>{if(R(s)){for(let d=0,f=s.length;d<f;++d)if(!l(s[d]))return!1;return!0}return!1},U=()=>{},ge=s=>()=>s(),de=(s,l)=>(...d)=>s(l.apply(null,d)),q=s=>()=>s,he=s=>s,oe=(s,l)=>s===l;function _e(s,...l){return(...d)=>{const f=l.concat(d);return s.apply(null,f)}}const Ue=s=>l=>!s(l),Qe=s=>()=>{throw new Error(s)},ct=s=>s(),Ce=q(!1),Te=q(!0);class I{constructor(l,d){this.tag=l,this.value=d}static some(l){return new I(!0,l)}static none(){return I.singletonNone}fold(l,d){return this.tag?d(this.value):l()}isSome(){return this.tag}isNone(){return!this.tag}map(l){return this.tag?I.some(l(this.value)):I.none()}bind(l){return this.tag?l(this.value):I.none()}exists(l){return this.tag&&l(this.value)}forall(l){return!this.tag||l(this.value)}filter(l){return!this.tag||l(this.value)?this:I.none()}getOr(l){return this.tag?this.value:l}or(l){return this.tag?this:l}getOrThunk(l){return this.tag?this.value:l()}orThunk(l){return this.tag?this:l()}getOrDie(l){if(this.tag)return this.value;throw new Error(l??"Called getOrDie on None")}static from(l){return K(l)?I.some(l):I.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(l){this.tag&&l(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}I.singletonNone=new I(!1);const dt=Array.prototype.slice,gt=Array.prototype.indexOf,Ft=Array.prototype.push,en=(s,l)=>gt.call(s,l),ft=(s,l)=>en(s,l)>-1,Rn=(s,l)=>{for(let d=0,f=s.length;d<f;d++)if(l(s[d],d))return!0;return!1},Ot=(s,l)=>{const d=[];for(let f=0;f<s;f++)d.push(l(f));return d},rt=(s,l)=>{const d=[];for(let f=0;f<s.length;f+=l){const b=dt.call(s,f,f+l);d.push(b)}return d},Ve=(s,l)=>{const d=s.length,f=new Array(d);for(let b=0;b<d;b++){const v=s[b];f[b]=l(v,b)}return f},bt=(s,l)=>{for(let d=0,f=s.length;d<f;d++)l(s[d],d)},Yn=(s,l)=>{const d=[],f=[];for(let b=0,v=s.length;b<v;b++){const C=s[b];(l(C,b)?d:f).push(C)}return{pass:d,fail:f}},Yt=(s,l)=>{const d=[];for(let f=0,b=s.length;f<b;f++){const v=s[f];l(v,f)&&d.push(v)}return d},Bn=(s,l,d)=>(((f,b)=>{for(let v=f.length-1;v>=0;v--)b(f[v],v)})(s,(f,b)=>{d=l(d,f,b)}),d),Jt=(s,l,d)=>(bt(s,(f,b)=>{d=l(d,f,b)}),d),te=(s,l)=>((d,f,b)=>{for(let v=0,C=d.length;v<C;v++){const k=d[v];if(f(k,v))return I.some(k);if(b(k,v))break}return I.none()})(s,l,Ce),vo=(s,l)=>{for(let d=0,f=s.length;d<f;d++)if(l(s[d],d))return I.some(d);return I.none()},nn=s=>{const l=[];for(let d=0,f=s.length;d<f;++d){if(!R(s[d]))throw new Error("Arr.flatten item "+d+" was not an array, input: "+s);Ft.apply(l,s[d])}return l},yn=(s,l)=>nn(Ve(s,l)),qe=(s,l)=>{for(let d=0,f=s.length;d<f;++d)if(l(s[d],d)!==!0)return!1;return!0},it=s=>{const l=dt.call(s,0);return l.reverse(),l},Se=(s,l)=>Yt(s,d=>!ft(l,d)),Me=(s,l)=>{const d={};for(let f=0,b=s.length;f<b;f++){const v=s[f];d[String(v)]=l(v,f)}return d},Ke=s=>[s],xe=(s,l)=>{const d=dt.call(s,0);return d.sort(l),d},Re=(s,l)=>l>=0&&l<s.length?I.some(s[l]):I.none(),Fe=s=>Re(s,0),Je=s=>Re(s,s.length-1),wt=Z(Array.from)?Array.from:s=>dt.call(s),pn=(s,l)=>{for(let d=0;d<s.length;d++){const f=l(s[d],d);if(f.isSome())return f}return I.none()},Qt=Object.keys,An=Object.hasOwnProperty,no=(s,l)=>{const d=Qt(s);for(let f=0,b=d.length;f<b;f++){const v=d[f];l(s[v],v)}},co=(s,l)=>Jo(s,(d,f)=>({k:f,v:l(d,f)})),Jo=(s,l)=>{const d={};return no(s,(f,b)=>{const v=l(f,b);d[v.k]=v.v}),d},Ho=s=>(l,d)=>{s[d]=l},sr=(s,l,d,f)=>{no(s,(b,v)=>{(l(b,v)?d:f)(b,v)})},Cs=(s,l)=>{const d={};return sr(s,l,Ho(d),U),d},ri=(s,l)=>{const d=[];return no(s,(f,b)=>{d.push(l(f,b))}),d},xs=(s,l)=>{const d=Qt(s);for(let f=0,b=d.length;f<b;f++){const v=d[f],C=s[v];if(l(C,v,s))return I.some(C)}return I.none()},aa=s=>ri(s,he),cn=(s,l)=>uo(s,l)?I.from(s[l]):I.none(),uo=(s,l)=>An.call(s,l),$o=(s,l)=>uo(s,l)&&s[l]!==void 0&&s[l]!==null,mi=(s,l,d=oe)=>s.exists(f=>d(f,l)),ul=s=>{const l=[],d=f=>{l.push(f)};for(let f=0;f<s.length;f++)s[f].each(d);return l},tn=(s,l,d)=>s.isSome()&&l.isSome()?I.some(d(s.getOrDie(),l.getOrDie())):I.none(),ki=(s,l)=>s!=null?I.some(l(s)):I.none(),Go=(s,l)=>s?I.some(l):I.none(),Wl=(s,l,d)=>l===""||s.length>=l.length&&s.substr(d,d+l.length)===l,js=(s,l)=>Oc(s,l)?((d,f)=>d.substring(f))(s,l.length):s,ii=(s,l,d=0,f)=>{const b=s.indexOf(l,d);return b!==-1&&(!!M(f)||b+l.length<=f)},Oc=(s,l)=>Wl(s,l,0),Rc=(s,l)=>Wl(s,l,s.length-l.length),Ic=(gd=/^\s+|\s+$/g,s=>s.replace(gd,"")),kl=s=>s.length>0,Dc=s=>!kl(s),Zs=s=>s.style!==void 0&&Z(s.style.getPropertyValue),So=s=>{if(s==null)throw new Error("Node cannot be null or undefined");return{dom:s}},dl=(s,l)=>{const d=document.createElement("div");if(d.innerHTML=s,!d.hasChildNodes()||d.childNodes.length>1){const f="HTML does not have a single root node";throw console.error(f,s),new Error(f)}return So(d.childNodes[0])},Ui=(s,l)=>{const d=document.createElement(s);return So(d)},Du=(s,l)=>{const d=document.createTextNode(s);return So(d)},Sn=So,sc=typeof window<"u"?window:Function("return this;")(),Kf=(s,l)=>((d,f)=>{let b=f??sc;for(let v=0;v<d.length&&b!=null;++v)b=b[d[v]];return b})(s.split("."),l),Tr=Object.getPrototypeOf,jf=s=>{const l=Kf("ownerDocument.defaultView",s);return x(s)&&((d=>((f,b)=>{const v=((C,k)=>Kf(C,k))(f,b);if(v==null)throw new Error(f+" not available on this browser");return v})("HTMLElement",d))(l).prototype.isPrototypeOf(s)||/^HTML\w*Element$/.test(Tr(s).constructor.name))},fl=s=>s.dom.nodeName.toLowerCase(),Kl=s=>l=>(d=>d.dom.nodeType)(l)===s,El=s=>dr(s)&&jf(s.dom),dr=Kl(1),la=Kl(3),ml=Kl(9),Zf=Kl(11),nu=s=>l=>dr(l)&&fl(l)===s,Tl=(s,l)=>{const d=s.dom;if(d.nodeType!==1)return!1;{const f=d;if(f.matches!==void 0)return f.matches(l);if(f.msMatchesSelector!==void 0)return f.msMatchesSelector(l);if(f.webkitMatchesSelector!==void 0)return f.webkitMatchesSelector(l);if(f.mozMatchesSelector!==void 0)return f.mozMatchesSelector(l);throw new Error("Browser lacks native selectors")}},Zd=s=>s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11||s.childElementCount===0,Pu=(s,l)=>{const d=l===void 0?document:l.dom;return Zd(d)?I.none():I.from(d.querySelector(s)).map(Sn)},cs=(s,l)=>s.dom===l.dom,Kr=(s,l)=>{const d=s.dom,f=l.dom;return d!==f&&d.contains(f)},gi=s=>Sn(s.dom.ownerDocument),Gf=s=>ml(s)?s:gi(s),gl=s=>Sn(Gf(s).dom.documentElement),ou=s=>Sn(Gf(s).dom.defaultView),Pi=s=>I.from(s.dom.parentNode).map(Sn),Ta=s=>I.from(s.dom.parentElement).map(Sn),Aa=s=>I.from(s.dom.offsetParent).map(Sn),Vs=s=>Ve(s.dom.childNodes,Sn),wr=(s,l)=>{const d=s.dom.childNodes;return I.from(d[l]).map(Sn)},Be=s=>wr(s,0),mt=(s,l)=>({element:s,offset:l}),Ze=(s,l)=>{const d=Vs(s);return d.length>0&&l<d.length?mt(d[l],0):mt(s,l)},_t=s=>Zf(s)&&K(s.dom.host),Ct=s=>Sn(s.dom.getRootNode()),lt=s=>_t(s)?s:Sn(Gf(s).dom.body),rn=s=>{const l=Ct(s);return _t(l)?I.some(l):I.none()},bn=s=>Sn(s.dom.host),Cn=s=>{const l=la(s)?s.dom.parentNode:s.dom;if(l==null||l.ownerDocument===null)return!1;const d=l.ownerDocument;return rn(Sn(l)).fold(()=>d.body.contains(l),(f=Cn,b=bn,v=>f(b(v))));var f,b},Tn=()=>_n(Sn(document)),_n=s=>{const l=s.dom.body;if(l==null)throw new Error("Body is not available yet");return Sn(l)},Po=(s,l,d)=>{if(!(h(d)||O(d)||Q(d)))throw console.error("Invalid call to Attribute.set. Key ",l,":: Value ",d,":: Element ",s),new Error("Attribute value was not simple");s.setAttribute(l,d+"")},xn=(s,l,d)=>{Po(s.dom,l,d)},Ws=(s,l)=>{const d=s.dom;no(l,(f,b)=>{Po(d,b,f)})},ns=(s,l)=>{const d=s.dom.getAttribute(l);return d===null?void 0:d},gs=(s,l)=>I.from(ns(s,l)),jr=(s,l)=>{const d=s.dom;return!(!d||!d.hasAttribute)&&d.hasAttribute(l)},Uo=(s,l)=>{s.dom.removeAttribute(l)},rc=(s,l,d)=>{if(!h(d))throw console.error("Invalid call to CSS.set. Property ",l,":: Value ",d,":: Element ",s),new Error("CSS value must be a string: "+d);Zs(s)&&s.style.setProperty(l,d)},Oa=(s,l)=>{Zs(s)&&s.style.removeProperty(l)},_o=(s,l,d)=>{const f=s.dom;rc(f,l,d)},Al=(s,l)=>{const d=s.dom;no(l,(f,b)=>{rc(d,b,f)})},Ol=(s,l)=>{const d=s.dom;no(l,(f,b)=>{f.fold(()=>{Oa(d,b)},v=>{rc(d,b,v)})})},Or=(s,l)=>{const d=s.dom,f=window.getComputedStyle(d).getPropertyValue(l);return f!==""||Cn(s)?f:Gd(d,l)},Gd=(s,l)=>Zs(s)?s.style.getPropertyValue(l):"",Jr=(s,l)=>{const d=s.dom,f=Gd(d,l);return I.from(f).filter(b=>b.length>0)},qf=s=>{const l={},d=s.dom;if(Zs(d))for(let f=0;f<d.style.length;f++){const b=d.style.item(f);l[b]=d.style[b]}return l},Rl=(s,l,d)=>{const f=Ui(s);return _o(f,l,d),Jr(f,l).isSome()},zs=(s,l)=>{const d=s.dom;Oa(d,l),mi(gs(s,"style").map(Ic),"")&&Uo(s,"style")},fd=s=>s.dom.offsetWidth,$m=(s,l)=>{const d=b=>{const v=l(b);if(v<=0||v===null){const C=Or(b,s);return parseFloat(C)||0}return v},f=(b,v)=>Jt(v,(C,k)=>{const E=Or(b,k),N=E===void 0?0:parseInt(E,10);return isNaN(N)?C:C+N},0);return{set:(b,v)=>{if(!Q(v)&&!v.match(/^[0-9]+$/))throw new Error(s+".set accepts only positive integer values. Value was "+v);const C=b.dom;Zs(C)&&(C.style[s]=v+"px")},get:d,getOuter:d,aggregate:f,max:(b,v,C)=>{const k=f(b,C);return v>k?v-k:0}}},Vm=$m("height",s=>{const l=s.dom;return Cn(s)?l.getBoundingClientRect().height:l.offsetHeight}),Rr=s=>Vm.get(s),hl=s=>Vm.getOuter(s),Il=(s,l)=>({left:s,top:l,translate:(d,f)=>Il(s+d,l+f)}),rr=Il,qd=(s,l)=>s!==void 0?s:l!==void 0?l:0,Dl=s=>{const l=s.dom.ownerDocument,d=l.body,f=l.defaultView,b=l.documentElement;if(d===s.dom)return rr(d.offsetLeft,d.offsetTop);const v=qd(f==null?void 0:f.pageYOffset,b.scrollTop),C=qd(f==null?void 0:f.pageXOffset,b.scrollLeft),k=qd(b.clientTop,d.clientTop),E=qd(b.clientLeft,d.clientLeft);return ca(s).translate(C-E,v-k)},ca=s=>{const l=s.dom,d=l.ownerDocument.body;return d===l?rr(d.offsetLeft,d.offsetTop):Cn(s)?(f=>{const b=f.getBoundingClientRect();return rr(b.left,b.top)})(l):rr(0,0)},zm=$m("width",s=>s.dom.offsetWidth),Wi=s=>zm.get(s),Wa=s=>zm.getOuter(s),ua=s=>{let l,d=!1;return(...f)=>(d||(d=!0,l=s.apply(null,f)),l)},pl=()=>zg(0,0),zg=(s,l)=>({major:s,minor:l}),os={nu:zg,detect:(s,l)=>{const d=String(l).toLowerCase();return s.length===0?pl():((f,b)=>{const v=((k,E)=>{for(let N=0;N<k.length;N++){const $=k[N];if($.test(E))return $}})(f,b);if(!v)return{major:0,minor:0};const C=k=>Number(b.replace(v,"$"+k));return zg(C(1),C(2))})(s,d)},unknown:pl},su=(s,l)=>{const d=String(l).toLowerCase();return te(s,f=>f.search(d))},md=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,Nu=s=>l=>ii(l,s),np=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:s=>ii(s,"edge/")&&ii(s,"chrome")&&ii(s,"safari")&&ii(s,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,md],search:s=>ii(s,"chrome")&&!ii(s,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:s=>ii(s,"msie")||ii(s,"trident")},{name:"Opera",versionRegexes:[md,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:Nu("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:Nu("firefox")},{name:"Safari",versionRegexes:[md,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:s=>(ii(s,"safari")||ii(s,"mobile/"))&&ii(s,"applewebkit")}],$v=[{name:"Windows",search:Nu("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:s=>ii(s,"iphone")||ii(s,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:Nu("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:Nu("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:Nu("linux"),versionRegexes:[]},{name:"Solaris",search:Nu("sunos"),versionRegexes:[]},{name:"FreeBSD",search:Nu("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:Nu("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],jl={browsers:q(np),oses:q($v)},op="Edge",Vv="Chromium",Hg="Opera",yb="Firefox",dn="Safari",Yd=s=>{const l=s.current,d=s.version,f=b=>()=>l===b;return{current:l,version:d,isEdge:f(op),isChromium:f(Vv),isIE:f("IE"),isOpera:f(Hg),isFirefox:f(yb),isSafari:f(dn)}},Xd=()=>Yd({current:void 0,version:os.unknown()}),Ug=Yd,da="Windows",Jd="Android",Yf="Linux",zv="macOS",xb="Solaris",wb="FreeBSD",Z1="ChromeOS",Hv=s=>{const l=s.current,d=s.version,f=b=>()=>l===b;return{current:l,version:d,isWindows:f(da),isiOS:f("iOS"),isAndroid:f(Jd),isMacOS:f(zv),isLinux:f(Yf),isSolaris:f(xb),isFreeBSD:f(wb),isChromeOS:f(Z1)}},G1=()=>Hv({current:void 0,version:os.unknown()}),Wg=Hv,ru=s=>window.matchMedia(s).matches;var gd;let iu=ua(()=>((s,l,d)=>{const f=jl.browsers(),b=jl.oses(),v=l.bind(E=>((N,$)=>pn($.brands,B=>{const W=B.brand.toLowerCase();return te(N,J=>{var se;return W===((se=J.brand)===null||se===void 0?void 0:se.toLowerCase())}).map(J=>({current:J.name,version:os.nu(parseInt(B.version,10),0)}))}))(f,E)).orThunk(()=>((E,N)=>su(E,N).map($=>{const B=os.detect($.versionRegexes,N);return{current:$.name,version:B}}))(f,s)).fold(Xd,Ug),C=((E,N)=>su(E,N).map($=>{const B=os.detect($.versionRegexes,N);return{current:$.name,version:B}}))(b,s).fold(G1,Wg),k=((E,N,$,B)=>{const W=E.isiOS()&&/ipad/i.test($)===!0,J=E.isiOS()&&!W,se=E.isiOS()||E.isAndroid(),pe=se||B("(pointer:coarse)"),ye=W||!J&&se&&B("(min-device-width:768px)"),De=J||se&&!ye,ve=N.isSafari()&&E.isiOS()&&/safari/i.test($)===!1,be=!De&&!ye&&!ve;return{isiPad:q(W),isiPhone:q(J),isTablet:q(ye),isPhone:q(De),isTouch:q(pe),isAndroid:E.isAndroid,isiOS:E.isiOS,isWebView:q(ve),isDesktop:q(be)}})(C,v,s,d);return{browser:v,os:C,deviceType:k}})(window.navigator.userAgent,I.from(window.navigator.userAgentData),ru));const Ki=()=>iu(),Pl=s=>{const l=Sn((v=>{if(K(v.target)){const C=Sn(v.target);if(dr(C)&&(k=>K(k.dom.shadowRoot))(C)&&v.composed&&v.composedPath){const k=v.composedPath();if(k)return Fe(k)}}return I.from(v.target)})(s).getOr(s.target)),d=()=>s.stopPropagation(),f=()=>s.preventDefault(),b=de(f,d);return((v,C,k,E,N,$,B)=>({target:v,x:C,y:k,stop:E,prevent:N,kill:$,raw:B}))(l,s.clientX,s.clientY,d,f,b,s)},Qd=(s,l,d,f,b)=>{const v=((C,k)=>E=>{C(E)&&k(Pl(E))})(d,f);return s.dom.addEventListener(l,v,b),{unbind:_e(hs,s,l,v,b)}},hs=(s,l,d,f)=>{s.dom.removeEventListener(l,d,f)},Pc=(s,l)=>{Pi(s).each(d=>{d.dom.insertBefore(l.dom,s.dom)})},Hm=(s,l)=>{(f=>I.from(f.dom.nextSibling).map(Sn))(s).fold(()=>{Pi(s).each(f=>{bl(f,l)})},f=>{Pc(f,l)})},Um=(s,l)=>{Be(s).fold(()=>{bl(s,l)},d=>{s.dom.insertBefore(l.dom,d.dom)})},bl=(s,l)=>{s.dom.appendChild(l.dom)},Qr=(s,l)=>{bt(l,d=>{bl(s,d)})},Cr=s=>{s.dom.textContent="",bt(Vs(s),l=>{Ji(l)})},Ji=s=>{const l=s.dom;l.parentNode!==null&&l.parentNode.removeChild(l)},fr=s=>{const l=s!==void 0?s.dom:document,d=l.body.scrollLeft||l.documentElement.scrollLeft,f=l.body.scrollTop||l.documentElement.scrollTop;return rr(d,f)},ef=(s,l,d)=>{const f=(d!==void 0?d.dom:document).defaultView;f&&f.scrollTo(s,l)},tf=(s,l,d,f)=>({x:s,y:l,width:d,height:f,right:s+d,bottom:l+f}),Ei=s=>{const l=s===void 0?window:s,d=l.document,f=fr(Sn(d));return(b=>{const v=b===void 0?window:b;return Ki().browser.isFirefox()?I.none():I.from(v.visualViewport)})(l).fold(()=>{const b=l.document.documentElement,v=b.clientWidth,C=b.clientHeight;return tf(f.left,f.top,v,C)},b=>tf(Math.max(b.pageLeft,f.left),Math.max(b.pageTop,f.top),b.width,b.height))},Ka=()=>Sn(document),Ra=(s,l)=>s.view(l).fold(q([]),d=>{const f=s.owner(d),b=Ra(s,f);return[d].concat(b)});var hi=Object.freeze({__proto__:null,view:s=>{var l;return(s.dom===document?I.none():I.from((l=s.dom.defaultView)===null||l===void 0?void 0:l.frameElement)).map(Sn)},owner:s=>gi(s)});const hd=s=>{const l=Ka(),d=fr(l);return((b,v)=>{const C=v.owner(b),k=Ra(v,C);return I.some(k)})(s,hi).fold(_e(Dl,s),b=>{const v=ca(s),C=Bn(b,(k,E)=>{const N=ca(E);return{left:k.left+N.left,top:k.top+N.top}},{left:0,top:0});return rr(C.left+v.left+d.left,C.top+v.top+d.top)})},qo=(s,l,d,f)=>({x:s,y:l,width:d,height:f,right:s+d,bottom:l+f}),ai=s=>{const l=Dl(s),d=Wa(s),f=hl(s);return qo(l.left,l.top,d,f)},ja=s=>{const l=hd(s),d=Wa(s),f=hl(s);return qo(l.left,l.top,d,f)},au=(s,l)=>{const d=Math.max(s.x,l.x),f=Math.max(s.y,l.y),b=Math.min(s.right,l.right),v=Math.min(s.bottom,l.bottom);return qo(d,f,b-d,v-f)},Ni=()=>Ei(window),Wn=s=>{let l=s;return{get:()=>l,set:d=>{l=d}}},Nc=s=>{const l=Wn(I.none()),d=()=>l.get().each(s);return{clear:()=>{d(),l.set(I.none())},isSet:()=>l.get().isSome(),get:()=>l.get(),set:f=>{d(),l.set(I.some(f))}}},Mc=()=>Nc(s=>s.unbind()),Ss=()=>{const s=Nc(U);return{...s,on:l=>s.get().each(l)}};var Xf=tinymce.util.Tools.resolve("tinymce.ThemeManager");const sp=s=>{const l=v=>v(s),d=q(s),f=()=>b,b={tag:!0,inner:s,fold:(v,C)=>C(s),isValue:Te,isError:Ce,map:v=>ss.value(v(s)),mapError:f,bind:l,exists:l,forall:l,getOr:d,or:f,getOrThunk:d,orThunk:f,getOrDie:d,each:v=>{v(s)},toOptional:()=>I.some(s)};return b},lu=s=>{const l=()=>d,d={tag:!1,inner:s,fold:(f,b)=>f(s),isValue:Ce,isError:Te,map:l,mapError:f=>ss.error(f(s)),bind:l,exists:Ce,forall:Te,getOr:he,or:he,getOrThunk:ct,orThunk:ct,getOrDie:Qe(String(s)),each:U,toOptional:I.none};return d},ss={value:sp,error:lu,fromOption:(s,l)=>s.fold(()=>lu(l),sp)};var Ia;(function(s){s[s.Error=0]="Error",s[s.Value=1]="Value"})(Ia||(Ia={}));const Wm=(s,l,d)=>s.stype===Ia.Error?l(s.serror):d(s.svalue),Mu=s=>({stype:Ia.Value,svalue:s}),Kg=s=>({stype:Ia.Error,serror:s}),Lc=Mu,Za=Kg,cu=Wm,nf=(s,l,d,f)=>({tag:"field",key:s,newKey:l,presence:d,prop:f}),Ye=(s,l,d)=>{switch(s.tag){case"field":return l(s.key,s.newKey,s.presence,s.prop);case"custom":return d(s.newKey,s.instantiator)}},Jf=s=>(...l)=>{if(l.length===0)throw new Error("Can't merge zero objects");const d={};for(let f=0;f<l.length;f++){const b=l[f];for(const v in b)uo(b,v)&&(d[v]=s(d[v],b[v]))}return d},qs=Jf((s,l)=>w(s)&&w(l)?qs(s,l):l),rp=Jf((s,l)=>l),Km=s=>({tag:"defaultedThunk",process:s}),wc=s=>Km(q(s)),us=s=>({tag:"mergeWithThunk",process:s}),fa=s=>{const l=(f=>{const b=[],v=[];return bt(f,C=>{Wm(C,k=>v.push(k),k=>b.push(k))}),{values:b,errors:v}})(s);return l.errors.length>0?(d=l.errors,de(Za,nn)(d)):Lc(l.values);var d},ic=s=>x(s)&&Qt(s).length>100?" removed due to size":JSON.stringify(s,null,2),Cc=(s,l)=>Za([{path:s,getErrorInfo:l}]),uu=s=>({extract:(l,d)=>((f,b)=>f.stype===Ia.Error?b(f.serror):f)(s(d),f=>((b,v)=>Cc(b,q(v)))(l,f)),toString:q("val")}),Lu=uu(Lc),Qi=(s,l,d,f)=>f(cn(s,l).getOrThunk(()=>d(s))),of=(s,l,d,f,b)=>{const v=k=>b.extract(l.concat([f]),k),C=k=>k.fold(()=>Lc(I.none()),E=>((N,$)=>N.stype===Ia.Value?{stype:Ia.Value,svalue:$(N.svalue)}:N)(b.extract(l.concat([f]),E),I.some));switch(s.tag){case"required":return((k,E,N,$)=>cn(E,N).fold(()=>((B,W,J)=>Cc(B,()=>'Could not find valid *required* value for "'+W+'" in '+ic(J)))(k,N,E),$))(l,d,f,v);case"defaultedThunk":return Qi(d,f,s.process,v);case"option":return((k,E,N)=>N(cn(k,E)))(d,f,C);case"defaultedOptionThunk":return((k,E,N,$)=>$(cn(k,E).map(B=>B===!0?N(k):B)))(d,f,s.process,C);case"mergeWithThunk":return Qi(d,f,q({}),k=>{const E=qs(s.process(d),k);return v(E)})}},jm=s=>({extract:(l,d)=>s().extract(l,d),toString:()=>s().toString()}),jg=s=>Qt(Cs(s,K)),Mi=s=>{const l=oo(s),d=Bn(s,(f,b)=>Ye(b,v=>qs(f,{[v]:!0}),q(f)),{});return{extract:(f,b)=>{const v=O(b)?[]:jg(b),C=Yt(v,k=>!$o(d,k));return C.length===0?l.extract(f,b):((k,E)=>Cc(k,()=>"There are unsupported fields: ["+E.join(", ")+"] specified"))(f,C)},toString:l.toString}},oo=s=>({extract:(l,d)=>((f,b,v)=>{const C={},k=[];for(const E of v)Ye(E,(N,$,B,W)=>{const J=of(B,f,b,N,W);cu(J,se=>{k.push(...se)},se=>{C[$]=se})},(N,$)=>{C[N]=$(b)});return k.length>0?Za(k):Lc(C)})(l,d,s),toString:()=>`obj{
`+Ve(s,d=>Ye(d,(f,b,v,C)=>f+" -> "+C.toString(),(f,b)=>"state("+f+")")).join(`
`)+"}"}),Bu=s=>({extract:(l,d)=>{const f=Ve(d,(b,v)=>s.extract(l.concat(["["+v+"]"]),b));return fa(f)},toString:()=>"array("+s.toString()+")"}),Qf=(s,l)=>{const d=l!==void 0?l:he;return{extract:(f,b)=>{const v=[];for(const C of s){const k=C.extract(f,b);if(k.stype===Ia.Value)return{stype:Ia.Value,svalue:d(k.svalue)};v.push(k)}return fa(v)},toString:()=>"oneOf("+Ve(s,f=>f.toString()).join(", ")+")"}},ma=(s,l)=>({extract:(d,f)=>{const b=Qt(f),v=((C,k)=>Bu(uu(s)).extract(C,k))(d,b);return((C,k)=>C.stype===Ia.Value?k(C.svalue):C)(v,C=>{const k=Ve(C,E=>nf(E,E,{tag:"required",process:{}},l));return oo(k).extract(d,f)})},toString:()=>"setOf("+l.toString()+")"}),Fu=de(Bu,oo),Zl=q(Lu),$u=(s,l)=>uu(d=>{const f=typeof d;return s(d)?Lc(d):Za(`Expected type: ${l} but got: ${f}`)}),pd=$u(Q,"number"),Li=$u(h,"string"),Sc=$u(O,"boolean"),du=$u(Z,"function"),em=s=>{if(Object(s)!==s)return!0;switch({}.toString.call(s).slice(8,-1)){case"Boolean":case"Number":case"String":case"Date":case"RegExp":case"Blob":case"FileList":case"ImageData":case"ImageBitmap":case"ArrayBuffer":return!0;case"Array":case"Object":return Object.keys(s).every(l=>em(s[l]));default:return!1}},Cb=uu(s=>em(s)?Lc(s):Za("Expected value to be acceptable for sending via postMessage")),Vu=(s,l)=>({extract:(d,f)=>cn(f,s).fold(()=>((b,v)=>Cc(b,()=>'Choice schema did not contain choice key: "'+v+'"'))(d,s),b=>((v,C,k,E)=>cn(k,E).fold(()=>((N,$,B)=>Cc(N,()=>'The chosen schema: "'+B+'" did not exist in branches: '+ic($)))(v,k,E),N=>N.extract(v.concat(["branch: "+E]),C)))(d,f,l,b)),toString:()=>"chooseOn("+s+"). Possible values: "+Qt(l)}),sf=s=>uu(l=>s(l).fold(Za,Lc)),Zm=(s,l)=>ma(d=>s(d).fold(Kg,Mu),l),Ir=(s,l,d)=>{return f=((b,v,C)=>((k,E)=>k.stype===Ia.Error?{stype:Ia.Error,serror:E(k.serror)}:k)(v.extract([b],C),k=>({input:C,errors:k})))(s,l,d),Wm(f,ss.error,ss.value);var f},Da=s=>s.fold(l=>{throw new Error(Ga(l))},he),Pa=(s,l,d)=>Da(Ir(s,l,d)),Ga=s=>`Errors: 
`+(l=>{const d=l.length>10?l.slice(0,10).concat([{path:[],getErrorInfo:q("... (only showing first ten failures)")}]):l;return Ve(d,f=>"Failed path: ("+f.path.join(" > ")+`)
`+f.getErrorInfo())})(s.errors).join(`
`)+`

Input object: `+ic(s.input),Ti=(s,l)=>Vu(s,co(l,oo)),tm=(s,l)=>((d,f)=>{const b=ua(f);return{extract:(v,C)=>b().extract(v,C),toString:()=>b().toString()}})(0,l),pi=nf,ji=(s,l)=>({tag:"custom",newKey:s,instantiator:l}),Bc=s=>sf(l=>ft(s,l)?ss.value(l):ss.error(`Unsupported value: "${l}", choose one of "${s.join(", ")}".`)),Ht=s=>pi(s,s,{tag:"required",process:{}},Zl()),Bi=(s,l)=>pi(s,s,{tag:"required",process:{}},l),Zg=s=>Bi(s,pd),Sr=s=>Bi(s,Li),zu=(s,l)=>pi(s,s,{tag:"required",process:{}},Bc(l)),qa=s=>Bi(s,du),Fc=(s,l)=>pi(s,s,{tag:"required",process:{}},oo(l)),nm=(s,l)=>pi(s,s,{tag:"required",process:{}},Fu(l)),Ya=(s,l)=>pi(s,s,{tag:"required",process:{}},Bu(l)),ds=s=>pi(s,s,{tag:"option",process:{}},Zl()),$r=(s,l)=>pi(s,s,{tag:"option",process:{}},l),Hu=s=>$r(s,pd),Zr=s=>$r(s,Li),Gm=(s,l)=>$r(s,Bc(l)),$c=s=>$r(s,du),ip=(s,l)=>$r(s,Bu(l)),Dr=(s,l)=>$r(s,oo(l)),vt=(s,l)=>pi(s,s,wc(l),Zl()),Xa=(s,l,d)=>pi(s,s,wc(l),d),Vr=(s,l)=>Xa(s,l,pd),ac=(s,l)=>Xa(s,l,Li),Vc=(s,l,d)=>Xa(s,l,Bc(d)),li=(s,l)=>Xa(s,l,Sc),ir=(s,l)=>Xa(s,l,du),Hs=(s,l,d)=>Xa(s,l,Bu(d)),ga=(s,l,d)=>Xa(s,l,oo(d)),ha=s=>{if(!R(s))throw new Error("cases must be an array");if(s.length===0)throw new Error("there must be at least one case");const l=[],d={};return bt(s,(f,b)=>{const v=Qt(f);if(v.length!==1)throw new Error("one and only one name per case");const C=v[0],k=f[C];if(d[C]!==void 0)throw new Error("duplicate key detected:"+C);if(C==="cata")throw new Error("cannot have a case named cata (sorry)");if(!R(k))throw new Error("case arguments must be an array");l.push(C),d[C]=(...E)=>{const N=E.length;if(N!==k.length)throw new Error("Wrong number of arguments to case "+C+". Expected "+k.length+" ("+k+"), got "+N);return{fold:(...$)=>{if($.length!==s.length)throw new Error("Wrong number of arguments to fold. Expected "+s.length+", got "+$.length);return $[b].apply(null,E)},match:$=>{const B=Qt($);if(l.length!==B.length)throw new Error("Wrong number of arguments to match. Expected: "+l.join(",")+`
Actual: `+B.join(","));if(!qe(l,W=>ft(B,W)))throw new Error("Not all branches were specified when using match. Specified: "+B.join(", ")+`
Required: `+l.join(", "));return $[C].apply(null,E)},log:$=>{console.log($,{constructors:l,constructor:C,params:E})}}}}),d};ha([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]);const Nl=(s,l)=>((d,f)=>({[d]:f}))(s,l),_c=s=>(l=>{const d={};return bt(l,f=>{d[f.key]=f.value}),d})(s),fu=s=>Z(s)?s:Ce,bd=(s,l,d)=>{let f=s.dom;const b=fu(d);for(;f.parentNode;){f=f.parentNode;const v=Sn(f),C=l(v);if(C.isSome())return C;if(b(v))break}return I.none()},om=(s,l,d)=>{const f=l(s),b=fu(d);return f.orThunk(()=>b(s)?I.none():bd(s,l,b))},Gg=(s,l)=>cs(s.element,l.event.target),ap={can:Te,abort:Ce,run:U},Uu=s=>{if(!$o(s,"can")&&!$o(s,"abort")&&!$o(s,"run"))throw new Error("EventHandler defined by: "+JSON.stringify(s,null,2)+" does not have can, abort, or run!");return{...ap,...s}},L=q,Y=L("touchstart"),fe=L("touchmove"),We=L("touchend"),tt=L("touchcancel"),Ut=L("mousedown"),lo=L("mousemove"),Mo=L("mouseout"),ko=L("mouseup"),jn=L("mouseover"),Is=L("focusin"),ei=L("focusout"),Pr=L("keydown"),zc=L("keyup"),rf=L("input"),sm=L("change"),bi=L("click"),q1=L("transitioncancel"),lp=L("transitionend"),Uv=L("transitionstart"),Na=L("selectstart"),Gr=s=>q("alloy."+s),ea={tap:Gr("tap")},Wu=Gr("focus"),af=Gr("blur.post"),cp=Gr("paste.post"),lc=Gr("receive"),vl=Gr("execute"),qm=Gr("focus.item"),lf=ea.tap,Jx=Gr("longpress"),up=Gr("sandbox.close"),vd=Gr("typeahead.cancel"),cf=Gr("system.init"),Un=Gr("system.touchmove"),Hc=Gr("system.touchend"),dp=Gr("system.scroll"),uf=Gr("system.resize"),pa=Gr("system.attached"),Uc=Gr("system.detached"),Ym=Gr("system.dismissRequested"),df=Gr("system.repositionRequested"),Sb=Gr("focusmanager.shifted"),mu=Gr("slotcontainer.visibility"),qg=Gr("system.external.element.scroll"),Yg=Gr("change.tab"),on=Gr("dismiss.tab"),Wv=Gr("highlight"),ff=Gr("dehighlight"),Wo=(s,l)=>{Wc(s,s.element,l,{})},Xn=(s,l,d)=>{Wc(s,s.element,l,d)},mf=s=>{Wo(s,vl())},Ar=(s,l,d)=>{Wc(s,l,d,{})},Wc=(s,l,d,f)=>{const b={target:l,...f};s.getSystem().triggerEvent(d,l,b)},Kc=(s,l,d,f)=>{s.getSystem().triggerEvent(d,l,f.event)},To=s=>_c(s),Xg=(s,l)=>({key:s,value:Uu({abort:l})}),Y1=s=>({key:s,value:Uu({run:(l,d)=>{d.event.prevent()}})}),Lt=(s,l)=>({key:s,value:Uu({run:l})}),Kv=(s,l,d)=>({key:s,value:Uu({run:(f,b)=>{l.apply(void 0,[f,b].concat(d))}})}),Jg=s=>l=>({key:s,value:Uu({run:(d,f)=>{Gg(d,f)&&l(d,f)}})}),Qg=(s,l,d)=>((f,b)=>Lt(f,(v,C)=>{v.getSystem().getByUid(b).each(k=>{Kc(k,k.element,f,C)})}))(s,l.partUids[d]),Xm=(s,l)=>Lt(s,(d,f)=>{const b=f.event,v=d.getSystem().getByDom(b.target).getOrThunk(()=>om(b.target,C=>d.getSystem().getByDom(C).toOptional(),Ce).getOr(d));l(d,v,f)}),rm=s=>Lt(s,(l,d)=>{d.cut()}),X1=s=>Lt(s,(l,d)=>{d.stop()}),gf=(s,l)=>Jg(s)(l),hr=Jg(pa()),Ku=Jg(Uc()),fp=Jg(cf()),gu=(nh=vl(),s=>Lt(nh,s)),im=s=>Ve(s,l=>Rc(l,"/*")?l.substring(0,l.length-2):l),cc=(s,l)=>{const d=s.toString(),f=d.indexOf(")")+1,b=d.indexOf("("),v=d.substring(b+1,f-1).split(/,\s*/);return s.toFunctionAnnotation=()=>({name:l,parameters:im(v)}),s},Nr=s=>({classes:M(s.classes)?[]:s.classes,attributes:M(s.attributes)?{}:s.attributes,styles:M(s.styles)?{}:s.styles}),am=(s,l,d)=>fp((f,b)=>{d(f,s,l)}),Fi=s=>({key:s,value:void 0}),_b=(s,l,d,f,b,v,C)=>{const k=$=>$o($,d)?$[d]():I.none(),E=co(b,($,B)=>((W,J,se)=>((pe,ye,De)=>{const ve=De.toString(),be=ve.indexOf(")")+1,Ee=ve.indexOf("("),Pe=ve.substring(Ee+1,be-1).split(/,\s*/);return pe.toFunctionAnnotation=()=>({name:ye,parameters:im(Pe.slice(0,1).concat(Pe.slice(3)))}),pe})((pe,...ye)=>{const De=[pe].concat(ye);return pe.config({name:q(W)}).fold(()=>{throw new Error("We could not find any behaviour configuration for: "+W+". Using API: "+se)},ve=>{const be=Array.prototype.slice.call(De,1);return J.apply(void 0,[pe,ve.config,ve.state].concat(be))})},se,J))(d,$,B)),N={...co(v,($,B)=>cc($,B)),...E,revoke:_e(Fi,d),config:$=>{const B=Pa(d+"-config",s,$);return{key:d,value:{config:B,me:N,configAsRaw:ua(()=>Pa(d+"-config",s,$)),initialConfig:$,state:C}}},schema:q(l),exhibit:($,B)=>tn(k($),cn(f,"exhibit"),(W,J)=>J(B,W.config,W.state)).getOrThunk(()=>Nr({})),name:q(d),handlers:$=>k($).map(B=>cn(f,"events").getOr(()=>({}))(B.config,B.state)).getOr({})};return N},jc={init:()=>Ai({readState:q("No State required")})},Ai=s=>s,an=s=>_c(s),lm=Mi([Ht("fields"),Ht("name"),vt("active",{}),vt("apis",{}),vt("state",jc),vt("extra",{})]),Zi=s=>{const l=Pa("Creating behaviour: "+s.name,lm,s);return((d,f,b,v,C,k)=>{const E=Mi(d),N=Dr(f,[($=d,$r("config",Mi($)))]);var $;return _b(E,N,f,b,v,C,k)})(l.fields,l.name,l.active,l.apis,l.extra,l.state)},P=Mi([Ht("branchKey"),Ht("branches"),Ht("name"),vt("active",{}),vt("apis",{}),vt("state",jc),vt("extra",{})]),z=s=>{const l=Pa("Creating behaviour: "+s.name,P,s);return((d,f,b,v,C,k)=>{const E=d,N=Dr(f,[$r("config",d)]);return _b(E,N,f,b,v,C,k)})(Ti(l.branchKey,l.branches),l.name,l.active,l.apis,l.extra,l.state)},ue=q(void 0),Ae=(s,l)=>{const d=ns(s,l);return d===void 0||d===""?[]:d.split(" ")},ot=s=>s.dom.classList!==void 0,Vt=s=>Ae(s,"class"),un=(s,l)=>((d,f,b)=>{const v=Ae(d,f).concat([b]);return xn(d,f,v.join(" ")),!0})(s,"class",l),$n=(s,l)=>((d,f,b)=>{const v=Yt(Ae(d,f),C=>C!==b);return v.length>0?xn(d,f,v.join(" ")):Uo(d,f),!1})(s,"class",l),Vn=(s,l)=>{ot(s)?s.dom.classList.add(l):un(s,l)},Ko=s=>{(ot(s)?s.dom.classList:Vt(s)).length===0&&Uo(s,"class")},Fo=(s,l)=>{ot(s)?s.dom.classList.remove(l):$n(s,l),Ko(s)},es=(s,l)=>ot(s)&&s.dom.classList.contains(l),Qo=(s,l)=>{bt(l,d=>{Vn(s,d)})},ci=(s,l)=>{bt(l,d=>{Fo(s,d)})},Ja=s=>ot(s)?(l=>{const d=l.dom.classList,f=new Array(d.length);for(let b=0;b<d.length;b++){const v=d.item(b);v!==null&&(f[b]=v)}return f})(s):Vt(s),qr=(s,l,d,f,b)=>{const v=C=>C+"px";return{position:s,left:l.map(v),top:d.map(v),right:f.map(v),bottom:b.map(v)}},ju=(s,l)=>{Ol(s,(d=>({...d,position:I.some(d.position)}))(l))},cm=s=>(mi(Jr(s,"position"),"fixed")?I.none():Aa(s)).orThunk(()=>{const l=Ui("span");return Pi(s).bind(d=>{bl(d,l);const f=Aa(l);return Ji(l),f})}),hu=s=>cm(s).map(Dl).getOrThunk(()=>rr(0,0)),eh=(s,l)=>{const d=s.element;Vn(d,l.transitionClass),Fo(d,l.fadeOutClass),Vn(d,l.fadeInClass),l.onShow(s)},yd=(s,l)=>{const d=s.element;Vn(d,l.transitionClass),Fo(d,l.fadeInClass),Vn(d,l.fadeOutClass),l.onHide(s)},mp=(s,l)=>s.y>=l.y,Jm=(s,l)=>s.bottom<=l.bottom,um=(s,l,d)=>({location:"top",leftX:l,topY:d.bounds.y-s.y}),kb=(s,l,d)=>({location:"bottom",leftX:l,bottomY:s.bottom-d.bounds.bottom}),jv=s=>s.box.x-s.win.x,ps=(s,l,d)=>d.getInitialPos().map(f=>{const b=((v,C)=>{const k=C.optScrollEnv.fold(q(v.bounds.y),E=>E.scrollElmTop+(v.bounds.y-E.currentScrollTop));return rr(v.bounds.x,k)})(f,l);return{box:qo(b.left,b.top,Wi(s),Rr(s)),location:f.location}}),ti=(s,l,d,f,b)=>{const v=((k,E)=>{const N=E.optScrollEnv.fold(q(k.y),$=>k.y+$.currentScrollTop-$.scrollElmTop);return rr(k.x,N)})(l,d),C=qo(v.left,v.top,l.width,l.height);f.setInitialPos({style:qf(s),position:Or(s,"position")||"static",bounds:C,location:b.location})},Qa=(s,l,d)=>d.getInitialPos().bind(f=>{var b;switch(d.clearInitialPos(),f.position){case"static":return I.some({morph:"static"});case"absolute":const v=cm(s).getOr(Tn()),C=ai(v),k=(b=v.dom.scrollTop)!==null&&b!==void 0?b:0;return I.some({morph:"absolute",positionCss:qr("absolute",cn(f.style,"left").map(E=>l.x-C.x),cn(f.style,"top").map(E=>l.y-C.y+k),cn(f.style,"right").map(E=>C.right-l.right),cn(f.style,"bottom").map(E=>C.bottom-l.bottom))});default:return I.none()}}),Gl=s=>{switch(s.location){case"top":return I.some({morph:"fixed",positionCss:qr("fixed",I.some(s.leftX),I.some(s.topY),I.none(),I.none())});case"bottom":return I.some({morph:"fixed",positionCss:qr("fixed",I.some(s.leftX),I.none(),I.none(),I.some(s.bottomY))});default:return I.none()}},Zv=(s,l,d)=>{const f=s.element;return mi(Jr(f,"position"),"fixed")?((b,v,C)=>((k,E,N)=>ps(k,E,N).filter(({box:$})=>((B,W,J)=>qe(B,se=>{switch(se){case"bottom":return Jm(W,J.bounds);case"top":return mp(W,J.bounds)}}))(N.getModes(),$,E)).bind(({box:$})=>Qa(k,$,N)))(b,v,C).orThunk(()=>v.optScrollEnv.bind(k=>ps(b,v,C)).bind(({box:k,location:E})=>{const N=Ni(),$=jv({win:N,box:k}),B=E==="top"?um(N,$,v):kb(N,$,v);return Gl(B)})))(f,l,d):((b,v,C)=>{const k=ai(b),E=Ni(),N=(($,B,W)=>{const J=B.win,se=B.box,pe=jv(B);return pn($,ye=>{switch(ye){case"bottom":return Jm(se,W.bounds)?I.none():I.some(kb(J,pe,W));case"top":return mp(se,W.bounds)?I.none():I.some(um(J,pe,W));default:return I.none()}}).getOr({location:"no-dock"})})(C.getModes(),{win:E,box:k},v);return N.location==="top"||N.location==="bottom"?(ti(b,k,v,C,N),Gl(N)):I.none()})(f,l,d)},Gv=(s,l,d)=>{d.setDocked(!1),bt(["left","right","top","bottom","position"],f=>zs(s.element,f)),l.onUndocked(s)},dm=(s,l,d,f)=>{const b=f.position==="fixed";d.setDocked(b),ju(s.element,f),(b?l.onDocked:l.onUndocked)(s)},th=(s,l,d,f,b=!1)=>{l.contextual.each(v=>{v.lazyContext(s).each(C=>{const k=((E,N)=>E.y<N.bottom&&E.bottom>N.y)(C,f.bounds);k!==d.isVisible()&&(d.setVisible(k),b&&!k?(Qo(s.element,[v.fadeOutClass]),v.onHide(s)):(k?eh:yd)(s,v))})})},Qx=(s,l,d,f,b)=>{th(s,l,d,f,!0),dm(s,l,d,b.positionCss)},qv=(s,l,d)=>{s.getSystem().isConnected()&&((f,b,v)=>{const C=b.lazyViewport(f);th(f,b,v,C),Zv(f,C,v).each(k=>{((E,N,$,B,W)=>{switch(W.morph){case"static":return Gv(E,N,$);case"absolute":return dm(E,N,$,W.positionCss);case"fixed":Qx(E,N,$,B,W)}})(f,b,v,C,k)})})(s,l,d)},Eb=(s,l,d)=>{d.isDocked()&&((f,b,v)=>{const C=f.element;v.setDocked(!1);const k=b.lazyViewport(f);((E,N,$)=>{const B=E.element;return ps(B,N,$).bind(({box:W})=>Qa(B,W,$))})(f,k,v).each(E=>{switch(E.morph){case"static":Gv(f,b,v);break;case"absolute":dm(f,b,v,E.positionCss)}}),v.setVisible(!0),b.contextual.each(E=>{ci(C,[E.fadeInClass,E.fadeOutClass,E.transitionClass]),E.onShow(f)}),qv(f,b,v)})(s,l,d)},ew=s=>(l,d,f)=>{const b=d.lazyViewport(l);((v,C,k,E)=>{const N=ai(v),$=Ni(),B=E($,jv({win:$,box:N}),C);return B.location==="bottom"||B.location==="top"?(((W,J,se,pe,ye)=>{pe.getInitialPos().fold(()=>ti(W,J,se,pe,ye),()=>U)})(v,N,C,k,B),Gl(B)):I.none()})(l.element,b,f,s).each(v=>{Qx(l,d,f,b,v)})},Yv=ew(um),Xv=ew(kb);var nh,Tb=Object.freeze({__proto__:null,refresh:qv,reset:Eb,isDocked:(s,l,d)=>d.isDocked(),getModes:(s,l,d)=>d.getModes(),setModes:(s,l,d,f)=>d.setModes(f),forceDockToTop:Yv,forceDockToBottom:Xv}),tw=Object.freeze({__proto__:null,events:(s,l)=>To([gf(lp(),(d,f)=>{s.contextual.each(b=>{es(d.element,b.transitionClass)&&(ci(d.element,[b.transitionClass,b.fadeInClass]),(l.isVisible()?b.onShown:b.onHidden)(d)),f.stop()})}),Lt(dp(),(d,f)=>{qv(d,s,l)}),Lt(qg(),(d,f)=>{qv(d,s,l)}),Lt(uf(),(d,f)=>{Eb(d,s,l)})])});const fm=s=>s.dom.innerHTML,gp=(s,l)=>{const d=gi(s).dom,f=Sn(d.createDocumentFragment()),b=((v,C)=>{const k=(C||document).createElement("div");return k.innerHTML=v,Vs(Sn(k))})(l,d);Qr(f,b),Cr(s),bl(s,f)},hp=(s,l)=>Sn(s.dom.cloneNode(l)),mm=s=>(l=>{if(_t(l))return"#shadow-root";{const d=(f=>hp(f,!1))(l);return(f=>{const b=Ui("div"),v=Sn(f.dom.cloneNode(!0));return bl(b,v),fm(b)})(d)}})(s);var Qm;(function(s){s[s.STOP=0]="STOP",s[s.NORMAL=1]="NORMAL",s[s.LOGGING=2]="LOGGING"})(Qm||(Qm={}));const Jv=Wn({}),qE=["alloy/data/Fields","alloy/debugging/Debugging"],Qv=(s,l,d)=>((f,b,v)=>{switch(cn(Jv.get(),f).orThunk(()=>{const C=Qt(Jv.get());return pn(C,k=>f.indexOf(k)>-1?I.some(Jv.get()[k]):I.none())}).getOr(Qm.NORMAL)){case Qm.NORMAL:return v(Zu());case Qm.LOGGING:{const C=((E,N)=>{const $=[],B=new Date().getTime();return{logEventCut:(W,J,se)=>{$.push({outcome:"cut",target:J,purpose:se})},logEventStopped:(W,J,se)=>{$.push({outcome:"stopped",target:J,purpose:se})},logNoParent:(W,J,se)=>{$.push({outcome:"no-parent",target:J,purpose:se})},logEventNoHandlers:(W,J)=>{$.push({outcome:"no-handlers-left",target:J})},logEventResponse:(W,J,se)=>{$.push({outcome:"response",purpose:se,target:J})},write:()=>{const W=new Date().getTime();ft(["mousemove","mouseover","mouseout",cf()],E)||console.log(E,{event:E,time:W-B,target:N.dom,sequence:Ve($,J=>ft(["cut","stopped","response"],J.outcome)?"{"+J.purpose+"} "+J.outcome+" at ("+mm(J.target)+")":J.outcome)})}}})(f,b),k=v(C);return C.write(),k}case Qm.STOP:return!0}})(s,l,d),Zu=q({logEventCut:U,logEventStopped:U,logNoParent:U,logEventNoHandlers:U,logEventResponse:U,write:U}),tS=q([Ht("menu"),Ht("selectedMenu")]),nw=q([Ht("item"),Ht("selectedItem")]);q(oo(nw().concat(tS())));const pp=q(oo(nw())),el=Fc("initSize",[Ht("numColumns"),Ht("numRows")]),bp=()=>Fc("markers",[Ht("backgroundMenu")].concat(tS()).concat(nw())),vp=s=>Fc("markers",Ve(s,Ht)),J1=(s,l,d)=>((()=>{const f=new Error;if(f.stack!==void 0){const b=f.stack.split(`
`);te(b,v=>v.indexOf("alloy")>0&&!Rn(qE,C=>v.indexOf(C)>-1)).getOr("unknown")}})(),pi(l,l,d,sf(f=>ss.value((...b)=>f.apply(void 0,b))))),_s=s=>J1(0,s,wc(U)),uc=s=>J1(0,s,wc(I.none)),hf=s=>J1(0,s,{tag:"required",process:{}}),yl=s=>J1(0,s,{tag:"required",process:{}}),pr=(s,l)=>ji(s,q(l)),e0=s=>ji(s,he),nS=q(el);var YE=[Dr("contextual",[Sr("fadeInClass"),Sr("fadeOutClass"),Sr("transitionClass"),qa("lazyContext"),_s("onShow"),_s("onShown"),_s("onHide"),_s("onHidden")]),ir("lazyViewport",()=>({bounds:Ni(),optScrollEnv:I.none()})),Hs("modes",["top","bottom"],Li),_s("onDocked"),_s("onUndocked")];const Mr=Zi({fields:YE,name:"docking",active:tw,apis:Tb,state:Object.freeze({__proto__:null,init:s=>{const l=Wn(!1),d=Wn(!0),f=Ss(),b=Wn(s.modes);return Ai({isDocked:l.get,setDocked:l.set,getInitialPos:f.get,setInitialPos:f.set,clearInitialPos:f.clear,isVisible:d.get,setVisible:d.set,getModes:b.get,setModes:b.set,readState:()=>`docked:  ${l.get()}, visible: ${d.get()}, modes: ${b.get().join(",")}`})}})}),Q1=To([((s,l)=>({key:s,value:Uu({can:(d,f)=>{const b=f.event,v=b.originator,C=b.target;return!((k,E,N)=>cs(E,k.element)&&!cs(E,N))(d,v,C)||(console.warn(Wu()+` did not get interpreted by the desired target. 
Originator: `+mm(v)+`
Target: `+mm(C)+`
Check the `+Wu()+" event handlers"),!1)}})}))(Wu())]);var ow=Object.freeze({__proto__:null,events:Q1});const oh=(s,l,d,f)=>{const b=s+l;return b>f?d:b<d?f:b},Gu=(s,l,d)=>Math.min(Math.max(s,l),d);let Ab=0;const Nn=s=>{const l=new Date().getTime(),d=Math.floor(window.crypto.getRandomValues(new Uint32Array(1))[0]/4294967295*1e9);return Ab++,s+"_"+d+Ab+String(l)},xd=q("alloy-id-"),sw=q("data-alloy-id"),ey=xd(),Ob=sw(),ty=(s,l)=>{Object.defineProperty(s.dom,Ob,{value:l,writable:!0})},yp=s=>{const l=dr(s)?s.dom[Ob]:null;return I.from(l)},qu=s=>Nn(s),XE=he,ny=s=>{const l=b=>`The component must be in a context to execute: ${b}`+(s?`
`+mm(s().element)+" is not in context.":""),d=b=>()=>{throw new Error(l(b))},f=b=>()=>{console.warn(l(b))};return{debugInfo:q("fake"),triggerEvent:f("triggerEvent"),triggerFocus:f("triggerFocus"),triggerEscape:f("triggerEscape"),broadcast:f("broadcast"),broadcastOn:f("broadcastOn"),broadcastEvent:f("broadcastEvent"),build:d("build"),buildOrPatch:d("buildOrPatch"),addToWorld:d("addToWorld"),removeFromWorld:d("removeFromWorld"),addToGui:d("addToGui"),removeFromGui:d("removeFromGui"),getByUid:d("getByUid"),getByDom:d("getByDom"),isConnected:Ce}},rw=ny(),oy=Nn("alloy-premade"),iw=s=>(Object.defineProperty(s.element.dom,oy,{value:s.uid,writable:!0}),Nl(oy,s)),aw=s=>cn(s,oy),sy=s=>((l,d)=>{const f=d.toString(),b=f.indexOf(")")+1,v=f.indexOf("("),C=f.substring(v+1,b-1).split(/,\s*/);return l.toFunctionAnnotation=()=>({name:"OVERRIDE",parameters:im(C.slice(1))}),l})((l,...d)=>s(l.getApis(),l,...d),s),lw=(s,l)=>{const d={};return no(s,(f,b)=>{no(f,(v,C)=>{const k=cn(d,C).getOr([]);d[C]=k.concat([l(b,v)])})}),d},cw=s=>s.cHandler,oS=(s,l)=>({name:s,handler:l}),JE=(s,l)=>{const d={};return bt(s,f=>{d[f.name()]=f.handlers(l)}),d},t0=(s,l,d)=>{const f=l[d];return f?((b,v,C,k)=>{try{const E=xe(C,(N,$)=>{const B=N[v],W=$[v],J=k.indexOf(B),se=k.indexOf(W);if(J===-1)throw new Error("The ordering for "+b+" does not have an entry for "+B+`.
Order specified: `+JSON.stringify(k,null,2));if(se===-1)throw new Error("The ordering for "+b+" does not have an entry for "+W+`.
Order specified: `+JSON.stringify(k,null,2));return J<se?-1:se<J?1:0});return ss.value(E)}catch(E){return ss.error([E])}})("Event: "+d,"name",s,f).map(b=>(v=>({can:((E,N)=>(...$)=>Jt(E,(B,W)=>B&&(J=>J.can)(W).apply(void 0,$),!0))(v),abort:((E,N)=>(...$)=>Jt(E,(B,W)=>B||(J=>J.abort)(W).apply(void 0,$),!1))(v),run:(...E)=>{bt(v,N=>{N.run.apply(void 0,E)})}}))(Ve(b,v=>v.handler))):((b,v)=>ss.error(["The event ("+b+`) has more than one behaviour that listens to it.
When this occurs, you must specify an event ordering for the behaviours in your spec (e.g. [ "listing", "toggling" ]).
The behaviours that can trigger it are: `+JSON.stringify(Ve(v,C=>C.name),null,2)]))(d,s)},uw=(s,l)=>((d,f)=>{const b=(C=>{const k=[],E=[];return bt(C,N=>{N.fold($=>{k.push($)},$=>{E.push($)})}),{errors:k,values:E}})(d);return b.errors.length>0?(v=b.errors,ss.error(nn(v))):((C,k)=>C.length===0?ss.value(k):ss.value(qs(k,rp.apply(void 0,C))))(b.values,f);var v})(ri(s,(d,f)=>(d.length===1?ss.value(d[0].handler):t0(d,l,f)).map(b=>{const v=(k=>{const E=(N=>Z(N)?{can:Te,abort:Ce,run:N}:N)(k);return(N,$,...B)=>{const W=[N,$].concat(B);E.abort.apply(void 0,W)?$.stop():E.can.apply(void 0,W)&&E.run.apply(void 0,W)}})(b),C=d.length>1?Yt(l[f],k=>Rn(d,E=>E.name===k)).join(" > "):d[0].name;return Nl(f,((k,E)=>({handler:k,purpose:E}))(v,C))})),{}),xp="alloy.base.behaviour",QE=oo([pi("dom","dom",{tag:"required",process:{}},oo([Ht("tag"),vt("styles",{}),vt("classes",[]),vt("attributes",{}),ds("value"),ds("innerHtml")])),Ht("components"),Ht("uid"),vt("events",{}),vt("apis",{}),pi("eventOrder","eventOrder",(wp={[vl()]:["disabling",xp,"toggling","typeaheadevents"],[Wu()]:[xp,"focusing","keying"],[cf()]:[xp,"disabling","toggling","representing","tooltipping"],[rf()]:[xp,"representing","streaming","invalidating"],[Uc()]:[xp,"representing","item-events","toolbar-button-events","tooltipping"],[Ut()]:["focusing",xp,"item-type-events"],[Y()]:["focusing",xp,"item-type-events"],[jn()]:["item-type-events","tooltipping"],[lc()]:["receiving","reflecting","tooltipping"]},us(q(wp))),Zl()),ds("domModification")]),eT=s=>s.events,eg=s=>s.dom.value,sh=(s,l)=>{if(l===void 0)throw new Error("Value.set was undefined");s.dom.value=l},ry=(s,l,d)=>{d.fold(()=>bl(s,l),f=>{cs(f,l)||(Pc(f,l),Ji(f))})},sS=(s,l,d)=>{const f=Ve(l,d),b=Vs(s);return bt(b.slice(f.length),Ji),f},dw=(s,l,d,f)=>{const b=wr(s,l),v=f(d,b),C=((k,E,N)=>wr(k,E).map($=>{if(N.exists(B=>!cs(B,$))){const B=N.map(fl).getOr("span"),W=Ui(B);return Pc($,W),W}return $}))(s,l,b);return ry(s,v.element,C),v},n0=(s,l)=>{const d=Qt(s),f=Qt(l),b=Se(f,d),v=((C,k)=>{const E={},N={};return sr(C,($,B)=>!uo(l,B)||$!==l[B],Ho(E),Ho(N)),{t:E,f:N}})(s).t;return{toRemove:b,toSet:v}},gm=(s,l)=>{const d=l.filter(f=>fl(f)===s.tag&&!(b=>b.innerHtml.isSome()&&b.domChildren.length>0)(s)&&!(b=>uo(b.dom,oy))(f)).bind(f=>((b,v)=>{try{const C=((k,E)=>{const{class:N,style:$,...B}=(Ee=>Jt(Ee.dom.attributes,(Pe,Le)=>(Pe[Le.name]=Le.value,Pe),{}))(E),{toSet:W,toRemove:J}=n0(k.attributes,B),se=qf(E),{toSet:pe,toRemove:ye}=n0(k.styles,se),De=Ja(E),ve=Se(De,k.classes),be=Se(k.classes,De);return bt(J,Ee=>Uo(E,Ee)),Ws(E,W),Qo(E,be),ci(E,ve),bt(ye,Ee=>zs(E,Ee)),Al(E,pe),k.innerHtml.fold(()=>{const Ee=k.domChildren;((Pe,Le)=>{sS(Pe,Le,(et,ht)=>{const zt=wr(Pe,ht);return ry(Pe,et,zt),et})})(E,Ee)},Ee=>{gp(E,Ee)}),(()=>{const Ee=E,Pe=k.value.getOrUndefined();Pe!==eg(Ee)&&sh(Ee,Pe??"")})(),E})(b,v);return I.some(C)}catch{return I.none()}})(s,f)).getOrThunk(()=>(f=>{const b=Ui(f.tag);Ws(b,f.attributes),Qo(b,f.classes),Al(b,f.styles),f.innerHtml.each(C=>gp(b,C));const v=f.domChildren;return Qr(b,v),f.value.each(C=>{sh(b,C)}),b})(s));return ty(d,s.uid),d},iy=s=>{const l=(d=>{const f=cn(d,"behaviours").getOr({});return yn(Qt(f),b=>{const v=f[b];return K(v)?[v.me]:[]})})(s);return((d,f)=>((b,v)=>{const C=Ve(v,E=>Dr(E.name(),[Ht("config"),vt("state",jc)])),k=Ir("component.behaviours",oo(C),b.behaviours).fold(E=>{throw new Error(Ga(E)+`
Complete spec:
`+JSON.stringify(b,null,2))},he);return{list:v,data:co(k,E=>{const N=E.map($=>({config:$.config,state:$.state.init($.config)}));return q(N)})}})(d,f))(s,l)},Gi=(s,l)=>{const d=()=>W,f=Wn(rw),b=Da((J=>Ir("custom.definition",QE,J))(s)),v=iy(s),C=(J=>J.list)(v),k=(J=>J.data)(v),E=((J,se,pe)=>{const ye={...(De=J).dom,uid:De.uid,domChildren:Ve(De.components,et=>et.element)};var De;const ve=(et=>et.domModification.fold(()=>Nr({}),Nr))(J),be={"alloy.base.modification":ve},Ee=se.length>0?((et,ht,zt,Bt)=>{const Pt={...ht};bt(zt,as=>{Pt[as.name()]=as.exhibit(et,Bt)});const sn=lw(Pt,(as,kr)=>({name:as,modification:kr})),In=as=>Bn(as,(kr,Br)=>({...Br.modification,...kr}),{}),Kn=Bn(sn.classes,(as,kr)=>kr.modification.concat(as),[]),ro=In(sn.attributes),Ro=In(sn.styles);return Nr({classes:Kn,attributes:ro,styles:Ro})})(pe,be,se,ye):ve;return Pe=ye,Le=Ee,{...Pe,attributes:{...Pe.attributes,...Le.attributes},styles:{...Pe.styles,...Le.styles},classes:Pe.classes.concat(Le.classes)};var Pe,Le})(b,C,k),N=gm(E,l),$=((J,se,pe)=>{const ye={"alloy.base.behaviour":eT(J)};return((De,ve,be,Ee)=>{const Pe=((Le,et,ht)=>{const zt={...ht,...JE(et,Le)};return lw(zt,oS)})(De,be,Ee);return uw(Pe,ve)})(pe,J.eventOrder,se,ye).getOrDie()})(b,C,k),B=Wn(b.components),W={uid:s.uid,getSystem:f.get,config:J=>{const se=k;return(Z(se[J.name()])?se[J.name()]:()=>{throw new Error("Could not find "+J.name()+" in "+JSON.stringify(s,null,2))})()},hasConfigured:J=>Z(k[J.name()]),spec:s,readState:J=>k[J]().map(se=>se.state.readState()).getOr("not enabled"),getApis:()=>b.apis,connect:J=>{f.set(J)},disconnect:()=>{f.set(ny(d))},element:N,syncComponents:()=>{const J=Vs(N),se=yn(J,pe=>f.get().getByDom(pe).fold(()=>[],Ke));B.set(se)},components:B.get,events:$};return W},ui=s=>{const l=Du(s);return tg({element:l})},tg=s=>{const l=Pa("external.component",Mi([Ht("element"),ds("uid")]),s),d=Wn(ny()),f=l.uid.getOrThunk(()=>qu("external"));ty(l.element,f);const b={uid:f,getSystem:d.get,config:I.none,hasConfigured:Ce,connect:v=>{d.set(v)},disconnect:()=>{d.set(ny(()=>b))},getApis:()=>({}),element:l.element,spec:s,readState:q("No state"),syncComponents:U,components:q([]),events:{}};return iw(b)},fw=qu,ay=(s,l)=>aw(s).getOrThunk(()=>((d,f)=>{const{events:b,...v}=XE(d),C=((E,N)=>{const $=cn(E,"components").getOr([]);return N.fold(()=>Ve($,Ma),B=>Ve($,(W,J)=>ay(W,wr(B,J))))})(v,f),k={...v,events:{...ow,...b},components:C};return ss.value(Gi(k,f))})((d=>uo(d,"uid"))(s)?s:{uid:fw(""),...s},l).getOrDie()),Ma=s=>ay(s,I.none()),ql=iw;var wp,ng=(s,l,d,f,b)=>s(d,f)?I.some(d):Z(b)&&b(d)?I.none():l(d,f,b);const rh=(s,l,d)=>{let f=s.dom;const b=Z(d)?d:Ce;for(;f.parentNode;){f=f.parentNode;const v=Sn(f);if(l(v))return I.some(v);if(b(v))break}return I.none()},ly=(s,l,d)=>ng((f,b)=>b(f),rh,s,l,d),rS=(s,l)=>te(s.dom.childNodes,d=>l(Sn(d))).map(Sn),mw=(s,l,d)=>ly(s,l,d).isSome(),ih=(s,l,d)=>rh(s,f=>Tl(f,l),d),br=(s,l)=>((d,f)=>{const b=d.dom;return b.parentNode?rS(Sn(b.parentNode),v=>!cs(d,v)&&Tl(v,l)):I.none()})(s),cy=(s,l)=>rS(s,d=>Tl(d,l)),Lr=(s,l)=>Pu(l,s),pf=(s,l,d)=>ng((f,b)=>Tl(f,b),ih,s,l,d),wd="aria-controls",Cp=()=>{const s=Nn(wd);return{id:s,link:l=>{xn(l,wd,s)},unlink:l=>{Uo(l,wd)}}},dc=(s,l)=>mw(l,d=>cs(d,s.element),Ce)||((d,f)=>(b=>ly(b,v=>{if(!dr(v))return!1;const C=ns(v,"id");return C!==void 0&&C.indexOf(wd)>-1}).bind(v=>{const C=ns(v,"id"),k=Ct(v);return Lr(k,`[${wd}="${C}"]`)}))(f).exists(b=>dc(d,b)))(s,l),tl=(s,l,d,f,b,v,C,k=!1)=>({x:s,y:l,bubble:d,direction:f,placement:b,restriction:v,label:`${C}-${b}`,alwaysFit:k}),ah=ha([{southeast:[]},{southwest:[]},{northeast:[]},{northwest:[]},{south:[]},{north:[]},{east:[]},{west:[]}]),o0=ah.southeast,Sp=ah.southwest,s0=ah.northeast,_p=ah.northwest,iS=ah.south,gw=ah.north,hw=ah.east,aS=ah.west,nl=(s,l)=>Me(["left","right","top","bottom"],d=>cn(l,d).map(f=>((b,v)=>{switch(v){case 1:return b.x;case 0:return b.x+b.width;case 2:return b.y;case 3:return b.y+b.height}})(s,f))),lh="layout",lS=s=>s.x,Yu=(s,l)=>s.x+s.width/2-l.width/2,Yl=(s,l)=>s.x+s.width-l.width,kp=(s,l)=>s.y-l.height,Rb=s=>s.y+s.height,cS=(s,l)=>s.y+s.height/2-l.height/2,ni=(s,l,d)=>tl(lS(s),Rb(s),d.southeast(),o0(),"southeast",nl(s,{left:1,top:3}),lh),oi=(s,l,d)=>tl(Yl(s,l),Rb(s),d.southwest(),Sp(),"southwest",nl(s,{right:0,top:3}),lh),Oi=(s,l,d)=>tl(lS(s),kp(s,l),d.northeast(),s0(),"northeast",nl(s,{left:1,bottom:2}),lh),er=(s,l,d)=>tl(Yl(s,l),kp(s,l),d.northwest(),_p(),"northwest",nl(s,{right:0,bottom:2}),lh),Yr=(s,l,d)=>tl(Yu(s,l),kp(s,l),d.north(),gw(),"north",nl(s,{bottom:2}),lh),vi=(s,l,d)=>tl(Yu(s,l),Rb(s),d.south(),iS(),"south",nl(s,{top:3}),lh),uy=(s,l,d)=>tl((f=>f.x+f.width)(s),cS(s,l),d.east(),hw(),"east",nl(s,{left:0}),lh),dy=(s,l,d)=>tl(((f,b)=>f.x-b.width)(s,l),cS(s,l),d.west(),aS(),"west",nl(s,{right:1}),lh),pw=()=>[ni,oi,Oi,er,vi,Yr,uy,dy],r0=()=>[oi,ni,er,Oi,vi,Yr,uy,dy],bw=()=>[Oi,er,ni,oi,Yr,vi],Ep=()=>[er,Oi,oi,ni,Yr,vi],fy=()=>[ni,oi,Oi,er,vi,Yr],my=()=>[oi,ni,er,Oi,vi,Yr];var vw=Object.freeze({__proto__:null,events:s=>To([Lt(lc(),(l,d)=>{const f=s.channels,b=Qt(f),v=d,C=((k,E)=>E.universal?k:Yt(k,N=>ft(E.channels,N)))(b,v);bt(C,k=>{const E=f[k],N=E.schema,$=Pa("channel["+k+`] data
Receiver: `+mm(l.element),N,v.data);E.onReceive(l,$)})})])}),i0=[Bi("channels",Zm(ss.value,Mi([hf("onReceive"),vt("schema",Zl())])))];const fc=Zi({fields:i0,name:"receiving",active:vw});var yw=Object.freeze({__proto__:null,exhibit:(s,l)=>Nr({classes:[],styles:l.useFixed()?{}:{position:"relative"}})});const Ml=(s,l=!1)=>s.dom.focus({preventScroll:l}),a0=s=>s.dom.blur(),Tp=s=>{const l=Ct(s).dom;return s.dom===l.activeElement},Cd=(s=Ka())=>I.from(s.dom.activeElement).map(Sn),yi=s=>Cd(Ct(s)).filter(l=>s.dom.contains(l.dom)),ch=(s,l)=>{const d=Ct(l),f=Cd(d).bind(v=>{const C=k=>cs(v,k);return C(l)?I.some(l):((k,E)=>{const N=$=>{for(let B=0;B<$.childNodes.length;B++){const W=Sn($.childNodes[B]);if(E(W))return I.some(W);const J=N($.childNodes[B]);if(J.isSome())return J}return I.none()};return N(k.dom)})(l,C)}),b=s(l);return f.each(v=>{Cd(d).filter(C=>cs(C,v)).fold(()=>{Ml(v)},U)}),b},xw=ha([{none:[]},{relative:["x","y","width","height"]},{fixed:["x","y","width","height"]}]),ww=(s,l,d,f,b,v)=>{const C=l.rect,k=C.x-d,E=C.y-f,N=b-(k+C.width),$=v-(E+C.height),B=I.some(k),W=I.some(E),J=I.some(N),se=I.some($),pe=I.none();return l.direction.fold(()=>qr(s,B,W,pe,pe),()=>qr(s,pe,W,J,pe),()=>qr(s,B,pe,pe,se),()=>qr(s,pe,pe,J,se),()=>qr(s,B,W,pe,pe),()=>qr(s,B,pe,pe,se),()=>qr(s,B,W,pe,pe),()=>qr(s,pe,W,J,pe))},l0=(s,l)=>s.fold(()=>{const d=l.rect;return qr("absolute",I.some(d.x),I.some(d.y),I.none(),I.none())},(d,f,b,v)=>ww("absolute",l,d,f,b,v),(d,f,b,v)=>ww("fixed",l,d,f,b,v)),hm=(s,l)=>{const d=_e(hd,l),f=s.fold(d,d,()=>{const C=fr();return hd(l).translate(-C.left,-C.top)}),b=Wa(l),v=hl(l);return qo(f.left,f.top,b,v)},tT=(s,l)=>l.fold(()=>s.fold(Ni,Ni,qo),d=>s.fold(q(d),q(d),()=>{const f=c0(s,d.x,d.y);return qo(f.left,f.top,d.width,d.height)})),c0=(s,l,d)=>{const f=rr(l,d);return s.fold(q(f),q(f),()=>{const b=fr();return f.translate(-b.left,-b.top)})};xw.none;const uh=xw.relative,uS=xw.fixed,u0="data-alloy-placement",d0=s=>gs(s,u0),gy=ha([{fit:["reposition"]},{nofit:["reposition","visibleW","visibleH","isVisible"]}]),Ib=(s,l,d,f)=>{const b=s.bubble,v=b.offset,C=((Ee,Pe,Le)=>{const et=(sn,In)=>Pe[sn].map(Kn=>{const ro=sn==="top"||sn==="bottom",Ro=ro?Le.top:Le.left,as=(sn==="left"||sn==="top"?Math.max:Math.min)(Kn,In)+Ro;return ro?Gu(as,Ee.y,Ee.bottom):Gu(as,Ee.x,Ee.right)}).getOr(In),ht=et("left",Ee.x),zt=et("top",Ee.y),Bt=et("right",Ee.right),Pt=et("bottom",Ee.bottom);return qo(ht,zt,Bt-ht,Pt-zt)})(f,s.restriction,v),k=s.x+v.left,E=s.y+v.top,N=qo(k,E,l,d),{originInBounds:$,sizeInBounds:B,visibleW:W,visibleH:J}=((Ee,Pe)=>{const{x:Le,y:et,right:ht,bottom:zt}=Pe,{x:Bt,y:Pt,right:sn,bottom:In,width:Kn,height:ro}=Ee;return{originInBounds:Bt>=Le&&Bt<=ht&&Pt>=et&&Pt<=zt,sizeInBounds:sn<=ht&&sn>=Le&&In<=zt&&In>=et,visibleW:Math.min(Kn,Bt>=Le?ht-Bt:sn-Le),visibleH:Math.min(ro,Pt>=et?zt-Pt:In-et)}})(N,C),se=$&&B,pe=se?N:((Ee,Pe)=>{const{x:Le,y:et,right:ht,bottom:zt}=Pe,{x:Bt,y:Pt,width:sn,height:In}=Ee,Kn=Math.max(Le,ht-sn),ro=Math.max(et,zt-In),Ro=Gu(Bt,Le,Kn),as=Gu(Pt,et,ro),kr=Math.min(Ro+sn,ht)-Ro,Br=Math.min(as+In,zt)-as;return qo(Ro,as,kr,Br)})(N,C),ye=pe.width>0&&pe.height>0,{maxWidth:De,maxHeight:ve}=((Ee,Pe,Le)=>{const et=q(Pe.bottom-Le.y),ht=q(Le.bottom-Pe.y),zt=((In,Kn,ro,Ro)=>In.fold(Kn,Kn,Ro,Ro,Kn,Ro,ro,ro))(Ee,ht,ht,et),Bt=q(Pe.right-Le.x),Pt=q(Le.right-Pe.x);return{maxWidth:((In,Kn,ro,Ro)=>In.fold(Kn,Ro,Kn,Ro,ro,ro,Kn,Ro))(Ee,Pt,Pt,Bt),maxHeight:zt}})(s.direction,pe,f),be={rect:pe,maxHeight:ve,maxWidth:De,direction:s.direction,placement:s.placement,classes:{on:b.classesOn,off:b.classesOff},layout:s.label,testY:E};return se||s.alwaysFit?gy.fit(be):gy.nofit(be,W,J,ye)},hy=Te,Ll=(s,l,d)=>((f,b,v,C)=>Qd(f,b,v,C,!1))(s,l,hy,d),Cw=(s,l,d)=>((f,b,v,C)=>Qd(f,b,v,C,!0))(s,l,hy,d),pm=Pl,f0=["top","bottom","right","left"],bf="data-alloy-transition-timer",m0=(s,l,d,f,b,v)=>{const C=((k,E,N)=>N.exists($=>{const B=k.mode;return B==="all"||$[B]!==E[B]}))(f,b,v);if(C||((k,E)=>((N,$)=>qe($,B=>es(N,B)))(k,E.classes))(s,f)){_o(s,"position",d.position);const k=hm(l,s),E=l0(l,{...b,rect:k}),N=Me(f0,$=>E[$]);(($,B)=>{const W=J=>parseFloat(J).toFixed(3);return xs(B,(J,se)=>!((pe,ye,De=oe)=>tn(pe,ye,De).getOr(pe.isNone()&&ye.isNone()))($[se].map(W),J.map(W))).isSome()})(d,N)&&(Ol(s,N),C&&(($,B)=>{Qo($,B.classes),gs($,bf).each(W=>{clearTimeout(parseInt(W,10)),Uo($,bf)}),((W,J)=>{const se=Mc(),pe=Mc();let ye;const De=Pe=>{var Le;const et=(Le=Pe.raw.pseudoElement)!==null&&Le!==void 0?Le:"";return cs(Pe.target,W)&&Dc(et)&&ft(f0,Pe.raw.propertyName)},ve=Pe=>{if(H(Pe)||De(Pe)){se.clear(),pe.clear();const Le=Pe==null?void 0:Pe.raw.type;(H(Le)||Le===lp())&&(clearTimeout(ye),Uo(W,bf),ci(W,J.classes))}},be=Ll(W,Uv(),Pe=>{De(Pe)&&(be.unbind(),se.set(Ll(W,lp(),ve)),pe.set(Ll(W,q1(),ve)))}),Ee=(Pe=>{const Le=Bt=>{const Pt=Or(Pe,Bt).split(/\s*,\s*/);return Yt(Pt,kl)},et=Bt=>{if(h(Bt)&&/^[\d.]+/.test(Bt)){const Pt=parseFloat(Bt);return Rc(Bt,"ms")?Pt:1e3*Pt}return 0},ht=Le("transition-delay"),zt=Le("transition-duration");return Jt(zt,(Bt,Pt,sn)=>{const In=et(ht[sn])+et(Pt);return Math.max(Bt,In)},0)})(W);requestAnimationFrame(()=>{ye=setTimeout(ve,Ee+17),xn(W,bf,ye)})})($,B)})(s,f),fd(s))}else ci(s,f.classes)},g0=(s,l)=>{((d,f)=>{const b=Vm.max(d,f,["margin-top","border-top-width","padding-top","padding-bottom","border-bottom-width","margin-bottom"]);_o(d,"max-height",b+"px")})(s,Math.floor(l))},dh=q((s,l)=>{g0(s,l),Al(s,{"overflow-x":"hidden","overflow-y":"auto"})}),Ap=q((s,l)=>{g0(s,l)}),Xu=(s,l,d)=>s[l]===void 0?d:s[l],h0=(s,l,d,f)=>{const b=((v,C,k,E)=>{zs(C,"max-height"),zs(C,"max-width");const N={width:Wa($=C),height:hl($)};var $;return((B,W,J,se,pe,ye)=>{const De=se.width,ve=se.height,be=(Ee,Pe,Le,et,ht)=>{const zt=Ee(J,se,pe,B,ye),Bt=Ib(zt,De,ve,ye);return Bt.fold(q(Bt),(Pt,sn,In,Kn)=>(ht===Kn?In>et||sn>Le:!ht&&Kn)?Bt:gy.nofit(Pe,Le,et,ht))};return Jt(W,(Ee,Pe)=>{const Le=_e(be,Pe);return Ee.fold(q(Ee),Le)},gy.nofit({rect:J,maxHeight:se.height,maxWidth:se.width,direction:o0(),placement:"southeast",classes:{on:[],off:[]},layout:"none",testY:J.y},-1,-1,!1)).fold(he,he)})(C,E.preference,v,N,k,E.bounds)})(s,l,d,f);return((v,C,k)=>{const E=l0(k.origin,C);k.transition.each(N=>{m0(v,k.origin,E,N,C,k.lastPlacement)}),ju(v,E)})(l,b,f),((v,C)=>{((k,E)=>{xn(k,u0,E)})(v,C.placement)})(l,b),((v,C)=>{const k=C.classes;ci(v,k.off),Qo(v,k.on)})(l,b),((v,C,k)=>{(0,k.maxHeightFunction)(v,C.maxHeight)})(l,b,f),((v,C,k)=>{(0,k.maxWidthFunction)(v,C.maxWidth)})(l,b,f),{layout:b.layout,placement:b.placement}},nT=["valignCentre","alignLeft","alignRight","alignCentre","top","bottom","left","right","inset"],pu=(s,l,d,f=1)=>{const b=s*f,v=l*f,C=E=>cn(d,E).getOr([]),k=(E,N,$)=>{const B=Se(nT,$);return{offset:rr(E,N),classesOn:yn($,C),classesOff:yn(B,C)}};return{southeast:()=>k(-s,l,["top","alignLeft"]),southwest:()=>k(s,l,["top","alignRight"]),south:()=>k(-s/2,l,["top","alignCentre"]),northeast:()=>k(-s,-l,["bottom","alignLeft"]),northwest:()=>k(s,-l,["bottom","alignRight"]),north:()=>k(-s/2,-l,["bottom","alignCentre"]),east:()=>k(s,-l/2,["valignCentre","left"]),west:()=>k(-s,-l/2,["valignCentre","right"]),insetNortheast:()=>k(b,v,["top","alignLeft","inset"]),insetNorthwest:()=>k(-b,v,["top","alignRight","inset"]),insetNorth:()=>k(-b/2,v,["top","alignCentre","inset"]),insetSoutheast:()=>k(b,-v,["bottom","alignLeft","inset"]),insetSouthwest:()=>k(-b,-v,["bottom","alignRight","inset"]),insetSouth:()=>k(-b/2,-v,["bottom","alignCentre","inset"]),insetEast:()=>k(-b,-v/2,["valignCentre","right","inset"]),insetWest:()=>k(b,-v/2,["valignCentre","left","inset"])}},bm=()=>pu(0,0,{}),Ju=he,Sw=(s,l)=>d=>ta(d)==="rtl"?l:s,ta=s=>Or(s,"direction")==="rtl"?"rtl":"ltr";var Qu;(function(s){s.TopToBottom="toptobottom",s.BottomToTop="bottomtotop"})(Qu||(Qu={}));const mc="data-alloy-vertical-dir",oT=s=>mw(s,l=>dr(l)&&ns(l,"data-alloy-vertical-dir")===Qu.BottomToTop),og=()=>Dr("layouts",[Ht("onLtr"),Ht("onRtl"),ds("onBottomLtr"),ds("onBottomRtl")]),vm=(s,l,d,f,b,v,C)=>{const k=C.map(oT).getOr(!1),E=l.layouts.map(W=>W.onLtr(s)),N=l.layouts.map(W=>W.onRtl(s)),$=k?l.layouts.bind(W=>W.onBottomLtr.map(J=>J(s))).or(E).getOr(b):E.getOr(d),B=k?l.layouts.bind(W=>W.onBottomRtl.map(J=>J(s))).or(N).getOr(v):N.getOr(f);return Sw($,B)(s)};var Db=[Ht("hotspot"),ds("bubble"),vt("overrides",{}),og(),pr("placement",(s,l,d)=>{const f=l.hotspot,b=hm(d,f.element),v=vm(s.element,l,fy(),my(),bw(),Ep(),I.some(l.hotspot.element));return I.some(Ju({anchorBox:b,bubble:l.bubble.getOr(bm()),overrides:l.overrides,layouts:v}))})],fh=[Ht("x"),Ht("y"),vt("height",0),vt("width",0),vt("bubble",bm()),vt("overrides",{}),og(),pr("placement",(s,l,d)=>{const f=c0(d,l.x,l.y),b=qo(f.left,f.top,l.width,l.height),v=vm(s.element,l,pw(),r0(),pw(),r0(),I.none());return I.some(Ju({anchorBox:b,bubble:l.bubble,overrides:l.overrides,layouts:v}))})];const Zc=ha([{screen:["point"]},{absolute:["point","scrollLeft","scrollTop"]}]),py=s=>s.fold(he,(l,d,f)=>l.translate(-d,-f)),by=s=>s.fold(he,he),p0=s=>Jt(s,(l,d)=>l.translate(d.left,d.top),rr(0,0)),vy=s=>{const l=Ve(s,by);return p0(l)},dS=Zc.screen,b0=Zc.absolute,ym=(s,l,d)=>{const f=gi(s.element),b=fr(f),v=((C,k,E)=>{const N=ou(E.root).dom;return I.from(N.frameElement).map(Sn).filter($=>{const B=gi($),W=gi(C.element);return cs(B,W)}).map(Dl)})(s,0,d).getOr(b);return b0(v,b.left,b.top)},v0=(s,l,d,f)=>{const b=dS(rr(s,l));return I.some(((v,C,k)=>({point:v,width:C,height:k}))(b,d,f))},Op=(s,l,d,f,b)=>s.map(v=>{const C=[l,v.point],k=(E=()=>vy(C),N=()=>vy(C),$=()=>(be=>{const Ee=Ve(be,py);return p0(Ee)})(C),f.fold(E,N,$));var E,N,$;const B=(pe=k.left,ye=k.top,De=v.width,ve=v.height,{x:pe,y:ye,width:De,height:ve}),W=d.showAbove?bw():fy(),J=d.showAbove?Ep():my(),se=vm(b,d,W,J,W,J,I.none());var pe,ye,De,ve;return Ju({anchorBox:B,bubble:d.bubble.getOr(bm()),overrides:d.overrides,layouts:se})});var Rp=[Ht("node"),Ht("root"),ds("bubble"),og(),vt("overrides",{}),vt("showAbove",!1),pr("placement",(s,l,d)=>{const f=ym(s,0,l);return l.node.filter(Cn).bind(b=>{const v=b.dom.getBoundingClientRect(),C=v0(v.left,v.top,v.width,v.height),k=l.node.getOr(s.element);return Op(C,f,l,d,k)})})];const sg=(s,l,d,f)=>({start:s,soffset:l,finish:d,foffset:f}),rg=ha([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),y0=(rg.before,rg.on,rg.after,s=>s.fold(he,he,he)),ig=ha([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),ag={domRange:ig.domRange,relative:ig.relative,exact:ig.exact,exactFromRange:s=>ig.exact(s.start,s.soffset,s.finish,s.foffset),getWin:s=>{const l=(d=>d.match({domRange:f=>Sn(f.startContainer),relative:(f,b)=>y0(f),exact:(f,b,v,C)=>f}))(s);return ou(l)},range:sg},lg=(s,l,d)=>{const f=s.document.createRange();var b;return b=f,l.fold(v=>{b.setStartBefore(v.dom)},(v,C)=>{b.setStart(v.dom,C)},v=>{b.setStartAfter(v.dom)}),((v,C)=>{C.fold(k=>{v.setEndBefore(k.dom)},(k,E)=>{v.setEnd(k.dom,E)},k=>{v.setEndAfter(k.dom)})})(f,d),f},Ip=(s,l,d,f,b)=>{const v=s.document.createRange();return v.setStart(l.dom,d),v.setEnd(f.dom,b),v},yy=s=>({left:s.left,top:s.top,right:s.right,bottom:s.bottom,width:s.width,height:s.height}),Pb=ha([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),xy=(s,l,d)=>l(Sn(d.startContainer),d.startOffset,Sn(d.endContainer),d.endOffset),_w=(s,l)=>((d,f)=>{const b=((v,C)=>C.match({domRange:k=>({ltr:q(k),rtl:I.none}),relative:(k,E)=>({ltr:ua(()=>lg(v,k,E)),rtl:ua(()=>I.some(lg(v,E,k)))}),exact:(k,E,N,$)=>({ltr:ua(()=>Ip(v,k,E,N,$)),rtl:ua(()=>I.some(Ip(v,N,$,k,E)))})}))(d,f);return((v,C)=>{const k=C.ltr();return k.collapsed?C.rtl().filter(E=>E.collapsed===!1).map(E=>Pb.rtl(Sn(E.endContainer),E.endOffset,Sn(E.startContainer),E.startOffset)).getOrThunk(()=>xy(0,Pb.ltr,k)):xy(0,Pb.ltr,k)})(0,b)})(s,l).match({ltr:(d,f,b,v)=>{const C=s.document.createRange();return C.setStart(d.dom,f),C.setEnd(b.dom,v),C},rtl:(d,f,b,v)=>{const C=s.document.createRange();return C.setStart(b.dom,v),C.setEnd(d.dom,f),C}});Pb.ltr,Pb.rtl;const Nb=(s,l,d)=>Yt(((f,b)=>{const v=Z(b)?b:Ce;let C=f.dom;const k=[];for(;C.parentNode!==null&&C.parentNode!==void 0;){const E=C.parentNode,N=Sn(E);if(k.push(N),v(N)===!0)break;C=E}return k})(s,d),l),na=(s,l)=>((d,f)=>{const b=f===void 0?document:f.dom;return Zd(b)?[]:Ve(b.querySelectorAll(d),Sn)})(l,s),kw=s=>{if(s.rangeCount>0){const l=s.getRangeAt(0),d=s.getRangeAt(s.rangeCount-1);return I.some(sg(Sn(l.startContainer),l.startOffset,Sn(d.endContainer),d.endOffset))}return I.none()},fS=s=>{if(s.anchorNode===null||s.focusNode===null)return kw(s);{const l=Sn(s.anchorNode),d=Sn(s.focusNode);return((f,b,v,C)=>{const k=((N,$,B,W)=>{const J=gi(N).dom.createRange();return J.setStart(N.dom,$),J.setEnd(B.dom,W),J})(f,b,v,C),E=cs(f,v)&&b===C;return k.collapsed&&!E})(l,s.anchorOffset,d,s.focusOffset)?I.some(sg(l,s.anchorOffset,d,s.focusOffset)):kw(s)}},Ew=(s,l)=>(d=>{const f=d.getClientRects(),b=f.length>0?f[0]:d.getBoundingClientRect();return b.width>0||b.height>0?I.some(b).map(yy):I.none()})(_w(s,l)),Tw=((s,l)=>{const d=f=>s(f)?I.from(f.dom.nodeValue):I.none();return{get:f=>{if(!s(f))throw new Error("Can only get text value of a text node");return d(f).getOr("")},getOption:d,set:(f,b)=>{if(!s(f))throw new Error("Can only set raw text value of a text node");f.dom.nodeValue=b}}})(la),cg=(s,l)=>({element:s,offset:l}),wy=(s,l)=>la(s)?cg(s,l):((d,f)=>{const b=Vs(d);if(b.length===0)return cg(d,f);if(f<b.length)return cg(b[f],0);{const v=b[b.length-1],C=la(v)?(k=>Tw.get(k))(v).length:Vs(v).length;return cg(v,C)}})(s,l),x0=s=>s.foffset!==void 0,Aw=(s,l)=>l.getSelection.getOrThunk(()=>()=>(d=>(f=>I.from(f.getSelection()))(d).filter(f=>f.rangeCount>0).bind(fS))(s))().map(d=>{if(x0(d)){const f=wy(d.start,d.soffset),b=wy(d.finish,d.foffset);return ag.range(f.element,f.offset,b.element,b.offset)}return d});var sT=[ds("getSelection"),Ht("root"),ds("bubble"),og(),vt("overrides",{}),vt("showAbove",!1),pr("placement",(s,l,d)=>{const f=ou(l.root).dom,b=ym(s,0,l),v=Aw(f,l).bind(k=>{if(x0(k))return((N,$)=>(B=>{const W=B.getBoundingClientRect();return W.width>0||W.height>0?I.some(W).map(yy):I.none()})(_w(N,$)))(f,ag.exactFromRange(k)).orThunk(()=>{const N=Du("\uFEFF");Pc(k.start,N);const $=Ew(f,ag.exact(N,0,N,1));return Ji(N),$}).bind(N=>v0(N.left,N.top,N.width,N.height));{const E=co(k,$=>$.dom.getBoundingClientRect()),N={left:Math.min(E.firstCell.left,E.lastCell.left),right:Math.max(E.firstCell.right,E.lastCell.right),top:Math.min(E.firstCell.top,E.lastCell.top),bottom:Math.max(E.firstCell.bottom,E.lastCell.bottom)};return v0(N.left,N.top,N.right-N.left,N.bottom-N.top)}}),C=Aw(f,l).bind(k=>x0(k)?dr(k.start)?I.some(k.start):Ta(k.start):I.some(k.firstCell)).getOr(s.element);return Op(v,b,l,d,C)})];const ug="link-layout",w0=s=>s.x+s.width,mS=(s,l)=>s.x-l.width,gS=(s,l)=>s.y-l.height+s.height,Sd=s=>s.y,Ow=(s,l,d)=>tl(w0(s),Sd(s),d.southeast(),o0(),"southeast",nl(s,{left:0,top:2}),ug),Cy=(s,l,d)=>tl(mS(s,l),Sd(s),d.southwest(),Sp(),"southwest",nl(s,{right:1,top:2}),ug),hS=(s,l,d)=>tl(w0(s),gS(s,l),d.northeast(),s0(),"northeast",nl(s,{left:0,bottom:3}),ug),Dp=(s,l,d)=>tl(mS(s,l),gS(s,l),d.northwest(),_p(),"northwest",nl(s,{right:1,bottom:3}),ug),Mb=()=>[Ow,Cy,hS,Dp],C0=()=>[Cy,Ow,Dp,hS];var pS=[Ht("item"),og(),vt("overrides",{}),pr("placement",(s,l,d)=>{const f=hm(d,l.item.element),b=vm(s.element,l,Mb(),C0(),Mb(),C0(),I.none());return I.some(Ju({anchorBox:f,bubble:bm(),overrides:l.overrides,layouts:b}))})],_d=Ti("type",{selection:sT,node:Rp,hotspot:Db,submenu:pS,makeshift:fh});const mh=[Ya("classes",Li),Vc("mode","all",["all","layout","placement"])],S0=[vt("useFixed",Ce),ds("getBounds")],_0=[Bi("anchor",_d),Dr("transition",mh)],Sy=(s,l,d,f,b,v)=>{const C=Pa("placement.info",oo(_0),b),k=C.anchor,E=f.element,N=d.get(f.uid);ch(()=>{_o(E,"position","fixed");const $=Jr(E,"visibility");_o(E,"visibility","hidden");const B=l.useFixed()?(()=>{const W=document.documentElement;return uS(0,0,W.clientWidth,W.clientHeight)})():(W=>{const J=Dl(W.element),se=W.element.dom.getBoundingClientRect();return uh(J.left,J.top,se.width,se.height)})(s);k.placement(s,k,B).each(W=>{const J=v.orThunk(()=>l.getBounds.map(ct)),se=((pe,ye,De,ve,be,Ee)=>((Pe,Le,et,ht,zt,Bt,Pt,sn)=>{const In=Xu(Pt,"maxHeightFunction",dh()),Kn=Xu(Pt,"maxWidthFunction",U),ro=Pe.anchorBox,Ro=Pe.origin,as={bounds:tT(Ro,Bt),origin:Ro,preference:ht,maxHeightFunction:In,maxWidthFunction:Kn,lastPlacement:zt,transition:sn};return h0(ro,Le,et,as)})(((Pe,Le)=>((et,ht)=>({anchorBox:et,origin:ht}))(Pe,Le))(ye.anchorBox,pe),ve.element,ye.bubble,ye.layouts,be,De,ye.overrides,Ee))(B,W,J,f,N,C.transition);d.set(f.uid,se)}),$.fold(()=>{zs(E,"visibility")},W=>{_o(E,"visibility",W)}),Jr(E,"left").isNone()&&Jr(E,"top").isNone()&&Jr(E,"right").isNone()&&Jr(E,"bottom").isNone()&&mi(Jr(E,"position"),"fixed")&&zs(E,"position")},E)};var k0=Object.freeze({__proto__:null,position:(s,l,d,f,b)=>{const v=I.none();Sy(s,l,d,f,b,v)},positionWithinBounds:Sy,getMode:(s,l,d)=>l.useFixed()?"fixed":"absolute",reset:(s,l,d,f)=>{const b=f.element;bt(["position","left","right","top","bottom"],v=>zs(b,v)),(v=>{Uo(v,u0)})(b),d.clear(f.uid)}});const ol=Zi({fields:S0,name:"positioning",active:yw,apis:k0,state:Object.freeze({__proto__:null,init:()=>{let s={};return Ai({readState:()=>s,clear:l=>{K(l)?delete s[l]:s={}},set:(l,d)=>{s[l]=d},get:l=>cn(s,l)})}})}),_y=s=>s.getSystem().isConnected(),gh=s=>{Wo(s,Uc());const l=s.components();bt(l,gh)},hh=s=>{const l=s.components();bt(l,hh),Wo(s,pa())},E0=(s,l)=>{s.getSystem().addToWorld(l),Cn(s.element)&&hh(l)},ky=s=>{gh(s),s.getSystem().removeFromWorld(s)},Pp=(s,l)=>{bl(s.element,l.element)},dg=(s,l)=>{Rw(s,l,bl)},Rw=(s,l,d)=>{s.getSystem().addToWorld(l),d(s.element,l.element),Cn(s.element)&&hh(l),s.syncComponents()},Ey=s=>{gh(s),Ji(s.element),s.getSystem().removeFromWorld(s)},Xl=s=>{const l=Pi(s.element).bind(d=>s.getSystem().getByDom(d).toOptional());Ey(s),l.each(d=>{d.syncComponents()})},fg=s=>{const l=s.components();bt(l,Ey),Cr(s.element),s.syncComponents()},Iw=(s,l)=>{Lb(s,l,bl)},Dt=(s,l)=>{Lb(s,l,Hm)},Lb=(s,l,d)=>{d(s,l.element);const f=Vs(l.element);bt(f,b=>{l.getByDom(b).each(hh)})},rT=s=>{const l=Vs(s.element);bt(l,d=>{s.getByDom(d).each(gh)}),Ji(s.element)},bS=(s,l,d,f)=>{d.get().each(C=>{fg(s)});const b=l.getAttachPoint(s);dg(b,s);const v=s.getSystem().build(f);return dg(s,v),d.set(v),v},Ty=(s,l,d,f)=>{const b=bS(s,l,d,f);return l.onOpen(s,b),b},kd=(s,l,d)=>{d.get().each(f=>{fg(s),Xl(s),l.onClose(s,f),d.clear()})},Ay=(s,l,d)=>d.isOpen(),T0=(s,l,d)=>{const f=l.getAttachPoint(s);_o(s.element,"position",ol.getMode(f)),((b,v,C,k)=>{Jr(b.element,v).fold(()=>{Uo(b.element,C)},E=>{xn(b.element,C,E)}),_o(b.element,v,"hidden")})(s,"visibility",l.cloakVisibilityAttr)},Dw=(s,l,d)=>{(f=>Rn(["top","left","right","bottom"],b=>Jr(f,b).isSome()))(s.element)||zs(s.element,"position"),((f,b,v)=>{gs(f.element,v).fold(()=>zs(f.element,b),C=>_o(f.element,b,C))})(s,"visibility",l.cloakVisibilityAttr)};var Pw=Object.freeze({__proto__:null,cloak:T0,decloak:Dw,open:Ty,openWhileCloaked:(s,l,d,f,b)=>{T0(s,l),Ty(s,l,d,f),b(),Dw(s,l)},close:kd,isOpen:Ay,isPartOf:(s,l,d,f)=>Ay(0,0,d)&&d.get().exists(b=>l.isPartOf(s,b,f)),getState:(s,l,d)=>d.get(),setContent:(s,l,d,f)=>d.get().map(()=>bS(s,l,d,f))}),iT=Object.freeze({__proto__:null,events:(s,l)=>To([Lt(up(),(d,f)=>{kd(d,s,l)})])}),y=[_s("onOpen"),_s("onClose"),Ht("isPartOf"),Ht("getAttachPoint"),vt("cloakVisibilityAttr","data-precloak-visibility")],_=Object.freeze({__proto__:null,init:()=>{const s=Ss(),l=q("not-implemented");return Ai({readState:l,isOpen:s.isSet,clear:s.clear,set:s.set,get:s.get})}});const A=Zi({fields:y,name:"sandboxing",active:iT,apis:Pw,state:_}),F=q("dismiss.popups"),j=q("reposition.popups"),G=q("mouse.released"),le=Mi([vt("isExtraPart",Ce),Dr("fireEventInstead",[vt("event",Ym())])]),me=s=>{const l=Pa("Dismissal",le,s);return{[F()]:{schema:Mi([Ht("target")]),onReceive:(d,f)=>{A.isOpen(d)&&(A.isPartOf(d,f.target)||l.isExtraPart(d,f.target)||l.fireEventInstead.fold(()=>A.close(d),b=>Wo(d,b.event)))}}}},Ie=Mi([Dr("fireEventInstead",[vt("event",df())]),qa("doReposition")]),je=s=>{const l=Pa("Reposition",Ie,s);return{[j()]:{onReceive:d=>{A.isOpen(d)&&l.fireEventInstead.fold(()=>l.doReposition(d),f=>Wo(d,f.event))}}}},st=(s,l,d)=>{l.store.manager.onLoad(s,l,d)},ze=(s,l,d)=>{l.store.manager.onUnload(s,l,d)};var Ge=Object.freeze({__proto__:null,onLoad:st,onUnload:ze,setValue:(s,l,d,f)=>{l.store.manager.setValue(s,l,d,f)},getValue:(s,l,d)=>l.store.manager.getValue(s,l,d),getState:(s,l,d)=>d}),Xe=Object.freeze({__proto__:null,events:(s,l)=>{const d=s.resetOnDom?[hr((f,b)=>{st(f,s,l)}),Ku((f,b)=>{ze(f,s,l)})]:[am(s,l,st)];return To(d)}});const pt=()=>{const s=Wn(null);return Ai({set:s.set,get:s.get,isNotSet:()=>s.get()===null,clear:()=>{s.set(null)},readState:()=>({mode:"memory",value:s.get()})})},yt=()=>{const s=Wn({}),l=Wn({});return Ai({readState:()=>({mode:"dataset",dataByValue:s.get(),dataByText:l.get()}),lookup:d=>cn(s.get(),d).orThunk(()=>cn(l.get(),d)),update:d=>{const f=s.get(),b=l.get(),v={},C={};bt(d,k=>{v[k.value]=k,cn(k,"meta").each(E=>{cn(E,"text").each(N=>{C[N]=k})})}),s.set({...f,...v}),l.set({...b,...C})},clear:()=>{s.set({}),l.set({})}})};var Kt=Object.freeze({__proto__:null,memory:pt,dataset:yt,manual:()=>Ai({readState:U}),init:s=>s.store.manager.state(s)});const jt=(s,l,d,f)=>{const b=l.store;d.update([f]),b.setValue(s,f),l.onSetValue(s,f)};var Wt=[ds("initialValue"),Ht("getFallbackEntry"),Ht("getDataKey"),Ht("setValue"),pr("manager",{setValue:jt,getValue:(s,l,d)=>{const f=l.store,b=f.getDataKey(s);return d.lookup(b).getOrThunk(()=>f.getFallbackEntry(b))},onLoad:(s,l,d)=>{l.store.initialValue.each(f=>{jt(s,l,d,f)})},onUnload:(s,l,d)=>{d.clear()},state:yt})],Gt=[Ht("getValue"),vt("setValue",U),ds("initialValue"),pr("manager",{setValue:(s,l,d,f)=>{l.store.setValue(s,f),l.onSetValue(s,f)},getValue:(s,l,d)=>l.store.getValue(s),onLoad:(s,l,d)=>{l.store.initialValue.each(f=>{l.store.setValue(s,f)})},onUnload:U,state:jc.init})],fn=[ds("initialValue"),pr("manager",{setValue:(s,l,d,f)=>{d.set(f),l.onSetValue(s,f)},getValue:(s,l,d)=>d.get(),onLoad:(s,l,d)=>{l.store.initialValue.each(f=>{d.isNotSet()&&d.set(f)})},onUnload:(s,l,d)=>{d.clear()},state:pt})],hn=[Xa("store",{mode:"memory"},Ti("mode",{memory:fn,manual:Gt,dataset:Wt})),_s("onSetValue"),vt("resetOnDom",!1)];const St=Zi({fields:hn,name:"representing",active:Xe,apis:Ge,extra:{setValueFrom:(s,l)=>{const d=St.getValue(l);St.setValue(s,d)}},state:Kt}),Mn=(s,l)=>ga(s,{},Ve(l,d=>{return f=d.name(),b="Cannot configure "+d.name()+" for "+s,pi(f,f,{tag:"option",process:{}},uu(v=>Za("The field: "+f+" is forbidden. "+b)));var f,b}).concat([ji("dump",he)])),po=s=>s.dump,zo=(s,l)=>({...an(l),...s.dump}),Ao=Mn,bo=zo,Vo="placeholder",ws=ha([{single:["required","valueThunk"]},{multiple:["required","valueThunks"]}]),Ri=s=>uo(s,"uiType"),xl=(s,l,d,f)=>((b,v,C,k)=>Ri(C)&&C.uiType===Vo?((E,N,$,B)=>E.exists(W=>W!==$.owner)?ws.single(!0,q($)):cn(B,$.name).fold(()=>{throw new Error("Unknown placeholder component: "+$.name+`
Known: [`+Qt(B)+`]
Namespace: `+E.getOr("none")+`
Spec: `+JSON.stringify($,null,2))},W=>W.replace()))(b,0,C,k):ws.single(!1,q(C)))(s,0,d,f).fold((b,v)=>{const C=Ri(d)?v(l,d.config,d.validated):v(l),k=cn(C,"components").getOr([]),E=yn(k,N=>xl(s,l,N,f));return[{...C,components:E}]},(b,v)=>{if(Ri(d)){const C=v(l,d.config,d.validated);return d.validated.preprocess.getOr(he)(C)}return v(l)}),La=ws.single,bu=ws.multiple,ph=q(Vo),wl=ha([{required:["data"]},{external:["data"]},{optional:["data"]},{group:["data"]}]),vf=vt("factory",{sketch:he}),Bb=vt("schema",[]),mg=Ht("name"),Fb=pi("pname","pname",Km(s=>"<alloy."+Nn(s.name)+">"),Zl()),Oy=ji("schema",()=>[ds("preprocess")]),gg=vt("defaults",q({})),vS=vt("overrides",q({})),y8=oo([vf,Bb,mg,Fb,gg,vS]),x8=oo([vf,Bb,mg,gg,vS]),AI=oo([vf,Bb,mg,Fb,gg,vS]),zn=oo([vf,Oy,mg,Ht("unit"),Fb,gg,vS]),Nw=s=>s.fold(I.some,I.none,I.some,I.some),aT=s=>{const l=d=>d.name;return s.fold(l,l,l,l)},yS=(s,l)=>d=>{const f=Pa("Converting part type",l,d);return s(f)},gc=yS(wl.required,y8),xm=yS(wl.external,x8),Ed=yS(wl.optional,AI),xS=yS(wl.group,zn),lT=q("entirety");var OI=Object.freeze({__proto__:null,required:gc,external:xm,optional:Ed,group:xS,asNamedPart:Nw,name:aT,asCommon:s=>s.fold(he,he,he,he),original:lT});const cT=(s,l,d,f)=>qs(l.defaults(s,d,f),d,{uid:s.partUids[l.name]},l.overrides(s,d,f)),Jl=(s,l)=>{const d={};return bt(l,f=>{Nw(f).each(b=>{const v=Mw(s,b.pname);d[b.name]=C=>{const k=Pa("Part: "+b.name+" in "+s,oo(b.schema),C);return{...v,config:C,validated:k}}})}),d},Mw=(s,l)=>({uiType:ph(),owner:s,name:l}),uT=(s,l,d)=>({uiType:ph(),owner:s,name:l,config:d,validated:{}}),RI=s=>yn(s,l=>l.fold(I.none,I.some,I.none,I.none).map(d=>Fc(d.name,d.schema.concat([e0(lT())]))).toArray()),II=s=>Ve(s,aT),dT=(s,l,d)=>((f,b,v)=>{const C={},k={};return bt(v,E=>{E.fold(N=>{C[N.pname]=La(!0,($,B,W)=>N.factory.sketch(cT($,N,B,W)))},N=>{const $=b.parts[N.name];k[N.name]=q(N.factory.sketch(cT(b,N,$[lT()]),$))},N=>{C[N.pname]=La(!1,($,B,W)=>N.factory.sketch(cT($,N,B,W)))},N=>{C[N.pname]=bu(!0,($,B,W)=>{const J=$[N.name];return Ve(J,se=>N.factory.sketch(qs(N.defaults($,se,W),se,N.overrides($,se))))})})}),{internals:q(C),externals:q(k)}})(0,l,d),fT=(s,l,d)=>((f,b,v,C)=>{const k=co(C,(N,$)=>((B,W)=>{let J=!1;return{name:q(B),required:()=>W.fold((se,pe)=>se,(se,pe)=>se),used:()=>J,replace:()=>{if(J)throw new Error("Trying to use the same placeholder more than once: "+B);return J=!0,W}}})($,N)),E=((N,$,B,W)=>yn(B,J=>xl(N,$,J,W)))(f,b,v,k);return no(k,N=>{if(N.used()===!1&&N.required())throw new Error("Placeholder: "+N.name()+` was not found in components list
Namespace: `+f.getOr("none")+`
Components: `+JSON.stringify(b.components,null,2))}),E})(I.some(s),l,l.components,d),vr=(s,l,d)=>{const f=l.partUids[d];return s.getSystem().getByUid(f).toOptional()},Np=(s,l,d)=>vr(s,l,d).getOrDie("Could not find part: "+d),DI=(s,l,d)=>{const f={},b=l.partUids,v=s.getSystem();return bt(d,C=>{f[C]=q(v.getByUid(b[C]))}),f},mT=(s,l)=>{const d=s.getSystem();return co(l.partUids,(f,b)=>q(d.getByUid(f)))},PI=s=>Qt(s.partUids),gT=(s,l,d)=>{const f={},b=l.partUids,v=s.getSystem();return bt(d,C=>{f[C]=q(v.getByUid(b[C]).getOrDie())}),f},NI=(s,l)=>{const d=II(l);return _c(Ve(d,f=>({key:f,value:s+"-"+f})))},hT=s=>pi("partUids","partUids",us(l=>NI(l.uid,s)),Zl());var w8=Object.freeze({__proto__:null,generate:Jl,generateOne:uT,schemas:RI,names:II,substitutes:dT,components:fT,defaultUids:NI,defaultUidsSchema:hT,getAllParts:mT,getAllPartNames:PI,getPart:vr,getPartOrDie:Np,getParts:DI,getPartsOrDie:gT});const MI=(s,l,d,f,b)=>{const v=((C,k)=>(C.length>0?[Fc("parts",C)]:[]).concat([Ht("uid"),vt("dom",{}),vt("components",[]),e0("originalSpec"),vt("debug.sketcher",{})]).concat(k))(f,b);return Pa(s+" [SpecSchema]",Mi(v.concat(l)),d)},Lw=(s,l,d,f,b)=>{const v=pT(b),C=RI(d),k=hT(d),E=MI(s,l,v,C,[k]),N=dT(0,E,d);return f(E,fT(s,E,N.internals()),v,N.externals())},pT=s=>(l=>uo(l,"uid"))(s)?s:{...s,uid:qu("uid")},C8=Mi([Ht("name"),Ht("factory"),Ht("configFields"),vt("apis",{}),vt("extraApis",{})]),LI=Mi([Ht("name"),Ht("factory"),Ht("configFields"),Ht("partFields"),vt("apis",{}),vt("extraApis",{})]),Td=s=>{const l=Pa("Sketcher for "+s.name,C8,s),d=co(l.apis,sy),f=co(l.extraApis,(b,v)=>cc(b,v));return{name:l.name,configFields:l.configFields,sketch:b=>((v,C,k,E)=>{const N=pT(E);return k(MI(v,C,N,[],[]),N)})(l.name,l.configFields,l.factory,b),...d,...f}},kc=s=>{const l=Pa("Sketcher for "+s.name,LI,s),d=Jl(l.name,l.partFields),f=co(l.apis,sy),b=co(l.extraApis,(v,C)=>cc(v,C));return{name:l.name,partFields:l.partFields,configFields:l.configFields,sketch:v=>Lw(l.name,l.configFields,l.partFields,l.factory,v),parts:d,...f,...b}},Ry=s=>nu("input")(s)&&ns(s,"type")!=="radio"||nu("textarea")(s);var BI=Object.freeze({__proto__:null,getCurrent:(s,l,d)=>l.find(s)});const S8=[Ht("find")],Os=Zi({fields:S8,name:"composing",apis:BI}),FI=["input","button","textarea","select"],$I=(s,l,d)=>{(l.disabled()?Bw:vT)(s,l)},bT=(s,l)=>l.useNative===!0&&ft(FI,fl(s.element)),VI=s=>{xn(s.element,"disabled","disabled")},_8=s=>{Uo(s.element,"disabled")},Iy=s=>{xn(s.element,"aria-disabled","true")},k8=s=>{xn(s.element,"aria-disabled","false")},Bw=(s,l,d)=>{l.disableClass.each(f=>{Vn(s.element,f)}),(bT(s,l)?VI:Iy)(s),l.onDisabled(s)},vT=(s,l,d)=>{l.disableClass.each(f=>{Fo(s.element,f)}),(bT(s,l)?_8:k8)(s),l.onEnabled(s)},Dy=(s,l)=>bT(s,l)?(d=>jr(d.element,"disabled"))(s):(d=>ns(d.element,"aria-disabled")==="true")(s);var E8=Object.freeze({__proto__:null,enable:vT,disable:Bw,isDisabled:Dy,onLoad:$I,set:(s,l,d,f)=>{(f?Bw:vT)(s,l)}}),T8=Object.freeze({__proto__:null,exhibit:(s,l)=>Nr({classes:l.disabled()?l.disableClass.toArray():[]}),events:(s,l)=>To([Xg(vl(),(d,f)=>Dy(d,s)),am(s,l,$I)])}),A8=[ir("disabled",Ce),vt("useNative",!0),ds("disableClass"),_s("onDisabled"),_s("onEnabled")];const Oo=Zi({fields:A8,name:"disabling",active:T8,apis:E8}),zI=(s,l,d,f)=>{const b=na(s.element,"."+l.highlightClass);bt(b,v=>{Rn(f,C=>cs(C.element,v))||(Fo(v,l.highlightClass),s.getSystem().getByDom(v).each(C=>{l.onDehighlight(s,C),Wo(C,ff())}))})},A0=(s,l,d,f)=>{zI(s,l,0,[f]),yT(s,l,d,f)||(Vn(f.element,l.highlightClass),l.onHighlight(s,f),Wo(f,Wv()))},yT=(s,l,d,f)=>es(f.element,l.highlightClass),HI=(s,l,d)=>Lr(s.element,"."+l.itemClass).bind(f=>s.getSystem().getByDom(f).toOptional()),UI=(s,l,d)=>{const f=na(s.element,"."+l.itemClass);return(f.length>0?I.some(f[f.length-1]):I.none()).bind(b=>s.getSystem().getByDom(b).toOptional())},WI=(s,l,d,f)=>{const b=na(s.element,"."+l.itemClass);return vo(b,v=>es(v,l.highlightClass)).bind(v=>{const C=oh(v,f,0,b.length-1);return s.getSystem().getByDom(b[C]).toOptional()})},KI=(s,l,d)=>{const f=na(s.element,"."+l.itemClass);return ul(Ve(f,b=>s.getSystem().getByDom(b).toOptional()))};var O8=Object.freeze({__proto__:null,dehighlightAll:(s,l,d)=>zI(s,l,0,[]),dehighlight:(s,l,d,f)=>{yT(s,l,d,f)&&(Fo(f.element,l.highlightClass),l.onDehighlight(s,f),Wo(f,ff()))},highlight:A0,highlightFirst:(s,l,d)=>{HI(s,l).each(f=>{A0(s,l,d,f)})},highlightLast:(s,l,d)=>{UI(s,l).each(f=>{A0(s,l,d,f)})},highlightAt:(s,l,d,f)=>{((b,v,C,k)=>{const E=na(b.element,"."+v.itemClass);return I.from(E[k]).fold(()=>ss.error(new Error("No element found with index "+k)),b.getSystem().getByDom)})(s,l,0,f).fold(b=>{throw b},b=>{A0(s,l,d,b)})},highlightBy:(s,l,d,f)=>{const b=KI(s,l);te(b,f).each(v=>{A0(s,l,d,v)})},isHighlighted:yT,getHighlighted:(s,l,d)=>Lr(s.element,"."+l.highlightClass).bind(f=>s.getSystem().getByDom(f).toOptional()),getFirst:HI,getLast:UI,getPrevious:(s,l,d)=>WI(s,l,0,-1),getNext:(s,l,d)=>WI(s,l,0,1),getCandidates:KI}),jI=[Ht("highlightClass"),Ht("itemClass"),_s("onHighlight"),_s("onDehighlight")];const Gs=Zi({fields:jI,name:"highlighting",apis:O8}),ZI=[8],wm=[9],bh=[13],wS=[27],ed=[32],CS=[37],Py=[38],Fw=[39],Ny=[40],R8=(s,l,d)=>{const f=it(s.slice(0,l)),b=it(s.slice(l+1));return te(f.concat(b),d)},I8=(s,l,d)=>{const f=it(s.slice(0,l));return te(f,d)},D8=(s,l,d)=>{const f=s.slice(0,l),b=s.slice(l+1);return te(b.concat(f),d)},P8=(s,l,d)=>{const f=s.slice(l+1);return te(f,d)},Ds=s=>l=>{const d=l.raw;return ft(s,d.which)},hg=s=>l=>qe(s,d=>d(l)),vh=s=>s.raw.shiftKey===!0,N8=s=>s.raw.ctrlKey===!0,$w=Ue(vh),Ls=(s,l)=>({matches:s,classification:l}),GI=(s,l,d)=>{l.exists(f=>d.exists(b=>cs(b,f)))||Xn(s,Sb(),{prevFocus:l,newFocus:d})},xT=()=>{const s=l=>yi(l.element);return{get:s,set:(l,d)=>{const f=s(l);l.getSystem().triggerFocus(d,l.element);const b=s(l);GI(l,f,b)}}},M8=()=>{const s=l=>Gs.getHighlighted(l).map(d=>d.element);return{get:s,set:(l,d)=>{const f=s(l);l.getSystem().getByDom(d).fold(U,v=>{Gs.highlight(l,v)});const b=s(l);GI(l,f,b)}}};var O0;(function(s){s.OnFocusMode="onFocus",s.OnEnterOrSpaceMode="onEnterOrSpace",s.OnApiMode="onApi"})(O0||(O0={}));const R0=(s,l,d,f,b)=>{const v=(k,E,N,$,B)=>{return(W=N(k,E,$,B),J=E.event,te(W,se=>se.matches(J)).map(se=>se.classification)).bind(se=>se(k,E,$,B));var W,J},C={schema:()=>s.concat([vt("focusManager",xT()),Xa("focusInside","onFocus",sf(k=>ft(["onFocus","onEnterOrSpace","onApi"],k)?ss.value(k):ss.error("Invalid value for focusInside"))),pr("handler",C),pr("state",l),pr("sendFocusIn",b)]),processKey:v,toEvents:(k,E)=>{const N=k.focusInside!==O0.OnFocusMode?I.none():b(k).map(B=>Lt(Wu(),(W,J)=>{B(W,k,E),J.stop()})),$=[Lt(Pr(),(B,W)=>{v(B,W,d,k,E).fold(()=>{((J,se)=>{const pe=Ds(ed.concat(bh))(se.event);k.focusInside===O0.OnEnterOrSpaceMode&&pe&&Gg(J,se)&&b(k).each(ye=>{ye(J,k,E),se.stop()})})(B,W)},J=>{W.stop()})}),Lt(zc(),(B,W)=>{v(B,W,f,k,E).each(J=>{W.stop()})})];return To(N.toArray().concat($))}};return C},qI=s=>{const l=[ds("onEscape"),ds("onEnter"),vt("selector",'[data-alloy-tabstop="true"]:not(:disabled)'),vt("firstTabstop",0),vt("useTabstopAt",Te),ds("visibilitySelector")].concat([s]),d=($,B)=>{const W=$.visibilitySelector.bind(J=>pf(B,J)).getOr(B);return Rr(W)>0},f=($,B)=>B.focusManager.get($).bind(W=>pf(W,B.selector)),b=($,B,W)=>{((J,se)=>{const pe=na(J.element,se.selector),ye=Yt(pe,De=>d(se,De));return I.from(ye[se.firstTabstop])})($,B).each(J=>{B.focusManager.set($,J)})},v=($,B,W,J)=>{const se=na($.element,W.selector);return f($,W).bind(pe=>vo(se,_e(cs,pe)).bind(ye=>((De,ve,be,Ee,Pe)=>Pe(ve,be,Le=>((et,ht)=>d(et,ht)&&et.useTabstopAt(ht))(Ee,Le)).fold(()=>Ee.cyclic?I.some(!0):I.none(),Le=>(Ee.focusManager.set(De,Le),I.some(!0))))($,se,ye,W,J)))},C=($,B,W)=>{const J=W.cyclic?R8:I8;return v($,0,W,J)},k=($,B,W)=>{const J=W.cyclic?D8:P8;return v($,0,W,J)},E=q([Ls(hg([vh,Ds(wm)]),C),Ls(Ds(wm),k),Ls(hg([$w,Ds(bh)]),($,B,W)=>W.onEnter.bind(J=>J($,B)))]),N=q([Ls(Ds(wS),($,B,W)=>W.onEscape.bind(J=>J($,B))),Ls(Ds(wm),($,B,W)=>f($,W).filter(J=>!W.useTabstopAt(J)).bind(J=>((se=>(pe=>Pi(pe))(se).bind(Be).exists(pe=>cs(pe,se)))(J)?C:k)($,B,W)))]);return R0(l,jc.init,E,N,()=>I.some(b))};var L8=qI(ji("cyclic",Ce)),B8=qI(ji("cyclic",Te));const Vw=(s,l,d)=>Ry(d)&&Ds(ed)(l.event)?I.none():((f,b,v)=>(Ar(f,v,vl()),I.some(!0)))(s,0,d),I0=(s,l)=>I.some(!0),F8=[vt("execute",Vw),vt("useSpace",!1),vt("useEnter",!0),vt("useControlEnter",!1),vt("useDown",!1)],YI=(s,l,d)=>d.execute(s,l,s.element);var $8=R0(F8,jc.init,(s,l,d,f)=>{const b=d.useSpace&&!Ry(s.element)?ed:[],v=d.useEnter?bh:[],C=d.useDown?Ny:[],k=b.concat(v).concat(C);return[Ls(Ds(k),YI)].concat(d.useControlEnter?[Ls(hg([N8,Ds(bh)]),YI)]:[])},(s,l,d,f)=>d.useSpace&&!Ry(s.element)?[Ls(Ds(ed),I0)]:[],()=>I.none());const XI=()=>{const s=Ss();return Ai({readState:()=>s.get().map(l=>({numRows:String(l.numRows),numColumns:String(l.numColumns)})).getOr({numRows:"?",numColumns:"?"}),setGridSize:(l,d)=>{s.set({numRows:l,numColumns:d})},getNumRows:()=>s.get().map(l=>l.numRows),getNumColumns:()=>s.get().map(l=>l.numColumns)})};var JI=Object.freeze({__proto__:null,flatgrid:XI,init:s=>s.state(s)});const QI=s=>(l,d,f,b)=>{const v=s(l.element);return eD(v,l,d,f,b)},wT=(s,l)=>{const d=Sw(s,l);return QI(d)},CT=(s,l)=>{const d=Sw(l,s);return QI(d)},ST=s=>(l,d,f,b)=>eD(s,l,d,f,b),eD=(s,l,d,f,b)=>f.focusManager.get(l).bind(v=>s(l.element,v,f,b)).map(v=>(f.focusManager.set(l,v),!0)),_T=ST,tD=ST,SS=ST,nD=s=>!(l=>l.offsetWidth<=0&&l.offsetHeight<=0)(s.dom),kT=(s,l,d)=>{const f=na(s,d);return((b,v)=>vo(b,C=>cs(C,l)).map(C=>({index:C,candidates:b})))(Yt(f,nD))},_S=(s,l)=>vo(s,d=>cs(l,d)),oD=(s,l,d,f)=>f(Math.floor(l/d),l%d).bind(b=>{const v=b.row*d+b.column;return v>=0&&v<s.length?I.some(s[v]):I.none()}),sD=(s,l,d,f,b)=>oD(s,l,f,(v,C)=>{const k=v===d-1?s.length-v*f:f,E=oh(C,b,0,k-1);return I.some({row:v,column:E})}),rD=(s,l,d,f,b)=>oD(s,l,f,(v,C)=>{const k=oh(v,b,0,d-1),E=k===d-1?s.length-k*f:f,N=Gu(C,0,E-1);return I.some({row:k,column:N})}),V8=[Ht("selector"),vt("execute",Vw),uc("onEscape"),vt("captureTab",!1),nS()],iD=(s,l,d)=>{Lr(s.element,l.selector).each(f=>{l.focusManager.set(s,f)})},zw=s=>(l,d,f,b)=>kT(l,d,f.selector).bind(v=>s(v.candidates,v.index,b.getNumRows().getOr(f.initSize.numRows),b.getNumColumns().getOr(f.initSize.numColumns))),ET=(s,l,d)=>d.captureTab?I.some(!0):I.none(),TT=zw((s,l,d,f)=>sD(s,l,d,f,-1)),AT=zw((s,l,d,f)=>sD(s,l,d,f,1)),z8=zw((s,l,d,f)=>rD(s,l,d,f,-1)),H8=zw((s,l,d,f)=>rD(s,l,d,f,1)),U8=q([Ls(Ds(CS),wT(TT,AT)),Ls(Ds(Fw),CT(TT,AT)),Ls(Ds(Py),_T(z8)),Ls(Ds(Ny),tD(H8)),Ls(hg([vh,Ds(wm)]),ET),Ls(hg([$w,Ds(wm)]),ET),Ls(Ds(ed.concat(bh)),(s,l,d,f)=>((b,v)=>v.focusManager.get(b).bind(C=>pf(C,v.selector)))(s,d).bind(b=>d.execute(s,l,b)))]),W8=q([Ls(Ds(wS),(s,l,d)=>d.onEscape(s,l)),Ls(Ds(ed),I0)]);var K8=R0(V8,XI,U8,W8,()=>I.some(iD));const $b=(s,l,d,f,b)=>{const v=(C,k,E)=>b(C,k,f,0,E.length-1,E[k],N=>{return $=E[N],fl($)==="button"&&ns($,"disabled")==="disabled"?v(C,N,E):I.from(E[N]);var $});return kT(s,d,l).bind(C=>{const k=C.index,E=C.candidates;return v(k,k,E)})},aD=(s,l,d,f)=>$b(s,l,d,f,(b,v,C,k,E,N,$)=>{const B=Gu(v+C,k,E);return B===b?I.from(N):$(B)}),kS=(s,l,d,f)=>$b(s,l,d,f,(b,v,C,k,E,N,$)=>{const B=oh(v,C,k,E);return B===b?I.none():$(B)}),j8=[Ht("selector"),vt("getInitial",I.none),vt("execute",Vw),uc("onEscape"),vt("executeOnMove",!1),vt("allowVertical",!0),vt("allowHorizontal",!0),vt("cycles",!0)],OT=(s,l,d)=>((f,b)=>b.focusManager.get(f).bind(v=>pf(v,b.selector)))(s,d).bind(f=>d.execute(s,l,f)),lD=(s,l,d)=>{l.getInitial(s).orThunk(()=>Lr(s.element,l.selector)).each(f=>{l.focusManager.set(s,f)})},cD=(s,l,d)=>(d.cycles?kS:aD)(s,d.selector,l,-1),uD=(s,l,d)=>(d.cycles?kS:aD)(s,d.selector,l,1),RT=s=>(l,d,f,b)=>s(l,d,f,b).bind(()=>f.executeOnMove?OT(l,d,f):I.some(!0)),Hw=q([Ls(Ds(ed),I0),Ls(Ds(wS),(s,l,d)=>d.onEscape(s,l))]);var Uw=R0(j8,jc.init,(s,l,d,f)=>{const b=[...d.allowHorizontal?CS:[]].concat(d.allowVertical?Py:[]),v=[...d.allowHorizontal?Fw:[]].concat(d.allowVertical?Ny:[]);return[Ls(Ds(b),RT(wT(cD,uD))),Ls(Ds(v),RT(CT(cD,uD))),Ls(Ds(bh),OT),Ls(Ds(ed),OT)]},Hw,()=>I.some(lD));const ES=(s,l,d)=>I.from(s[l]).bind(f=>I.from(f[d]).map(b=>({rowIndex:l,columnIndex:d,cell:b}))),TS=(s,l,d,f)=>{const b=s[l].length,v=oh(d,f,0,b-1);return ES(s,l,v)},dD=(s,l,d,f)=>{const b=oh(d,f,0,s.length-1),v=s[b].length,C=Gu(l,0,v-1);return ES(s,b,C)},IT=(s,l,d,f)=>{const b=s[l].length,v=Gu(d+f,0,b-1);return ES(s,l,v)},DT=(s,l,d,f)=>{const b=Gu(d+f,0,s.length-1),v=s[b].length,C=Gu(l,0,v-1);return ES(s,b,C)},fD=[Fc("selectors",[Ht("row"),Ht("cell")]),vt("cycles",!0),vt("previousSelector",I.none),vt("execute",Vw)],Z8=(s,l,d)=>{l.previousSelector(s).orThunk(()=>{const f=l.selectors;return Lr(s.element,f.cell)}).each(f=>{l.focusManager.set(s,f)})},AS=(s,l)=>(d,f,b)=>{const v=b.cycles?s:l;return pf(f,b.selectors.row).bind(C=>{const k=na(C,b.selectors.cell);return _S(k,f).bind(E=>{const N=na(d,b.selectors.row);return _S(N,C).bind($=>{const B=((W,J)=>Ve(W,se=>na(se,J.selectors.cell)))(N,b);return v(B,$,E).map(W=>W.cell)})})})},mD=AS((s,l,d)=>TS(s,l,d,-1),(s,l,d)=>IT(s,l,d,-1)),D0=AS((s,l,d)=>TS(s,l,d,1),(s,l,d)=>IT(s,l,d,1)),P0=AS((s,l,d)=>dD(s,d,l,-1),(s,l,d)=>DT(s,d,l,-1)),OS=AS((s,l,d)=>dD(s,d,l,1),(s,l,d)=>DT(s,d,l,1)),Ww=q([Ls(Ds(CS),wT(mD,D0)),Ls(Ds(Fw),CT(mD,D0)),Ls(Ds(Py),_T(P0)),Ls(Ds(Ny),tD(OS)),Ls(Ds(ed.concat(bh)),(s,l,d)=>yi(s.element).bind(f=>d.execute(s,l,f)))]),G8=q([Ls(Ds(ed),I0)]);var Vb=R0(fD,jc.init,Ww,G8,()=>I.some(Z8));const yh=[Ht("selector"),vt("execute",Vw),vt("moveOnTab",!1)],RS=(s,l,d)=>d.focusManager.get(s).bind(f=>d.execute(s,l,f)),gD=(s,l,d)=>{Lr(s.element,l.selector).each(f=>{l.focusManager.set(s,f)})},hD=(s,l,d)=>kS(s,d.selector,l,-1),PT=(s,l,d)=>kS(s,d.selector,l,1),Kw=q([Ls(Ds(Py),SS(hD)),Ls(Ds(Ny),SS(PT)),Ls(hg([vh,Ds(wm)]),(s,l,d,f)=>d.moveOnTab?SS(hD)(s,l,d,f):I.none()),Ls(hg([$w,Ds(wm)]),(s,l,d,f)=>d.moveOnTab?SS(PT)(s,l,d,f):I.none()),Ls(Ds(bh),RS),Ls(Ds(ed),RS)]),jw=q([Ls(Ds(ed),I0)]);var NT=R0(yh,jc.init,Kw,jw,()=>I.some(gD));const pD=[uc("onSpace"),uc("onEnter"),uc("onShiftEnter"),uc("onLeft"),uc("onRight"),uc("onTab"),uc("onShiftTab"),uc("onUp"),uc("onDown"),uc("onEscape"),vt("stopSpaceKeyup",!1),ds("focusIn")];var Zw=R0(pD,jc.init,(s,l,d)=>[Ls(Ds(ed),d.onSpace),Ls(hg([$w,Ds(bh)]),d.onEnter),Ls(hg([vh,Ds(bh)]),d.onShiftEnter),Ls(hg([vh,Ds(wm)]),d.onShiftTab),Ls(hg([$w,Ds(wm)]),d.onTab),Ls(Ds(Py),d.onUp),Ls(Ds(Ny),d.onDown),Ls(Ds(CS),d.onLeft),Ls(Ds(Fw),d.onRight),Ls(Ds(ed),d.onSpace)],(s,l,d)=>[...d.stopSpaceKeyup?[Ls(Ds(ed),I0)]:[],Ls(Ds(wS),d.onEscape)],s=>s.focusIn);const IS=L8.schema(),q8=B8.schema(),MT=Uw.schema(),DS=K8.schema(),Bl=Vb.schema(),Y8=$8.schema(),xh=NT.schema(),bD=Zw.schema(),eo=z({branchKey:"mode",branches:Object.freeze({__proto__:null,acyclic:IS,cyclic:q8,flow:MT,flatgrid:DS,matrix:Bl,execution:Y8,menu:xh,special:bD}),name:"keying",active:{events:(s,l)=>s.handler.toEvents(s,l)},apis:{focusIn:(s,l,d)=>{l.sendFocusIn(l).fold(()=>{s.getSystem().triggerFocus(s.element,s.element)},f=>{f(s,l,d)})},setGridSize:(s,l,d,f,b)=>{(v=>$o(v,"setGridSize"))(d)?d.setGridSize(f,b):console.error("Layout does not support setGridSize")}},state:JI}),N0=(s,l)=>{ch(()=>{((d,f,b)=>{const v=d.components();(E=>{bt(E.components(),N=>Ji(N.element)),Cr(E.element),E.syncComponents()})(d);const C=b(f),k=Se(v,C);bt(k,E=>{gh(E),d.getSystem().removeFromWorld(E)}),bt(C,E=>{_y(E)?Pp(d,E):(d.getSystem().addToWorld(E),Pp(d,E),Cn(d.element)&&hh(E))}),d.syncComponents()})(s,l,()=>Ve(l,s.getSystem().build))},s.element)},LT=(s,l)=>{ch(()=>{((d,f,b)=>{const v=d.components(),C=yn(f,N=>aw(N).toArray());bt(v,N=>{ft(C,N)||ky(N)});const k=((N,$,B)=>sS(N,$,(W,J)=>dw(N,J,W,B)))(s.element,l,s.getSystem().buildOrPatch),E=Se(v,k);bt(E,N=>{_y(N)&&ky(N)}),bt(k,N=>{_y(N)||E0(d,N)}),d.syncComponents()})(s,l)},s.element)},PS=(s,l,d,f)=>{ky(l);const b=dw(s.element,d,f,s.getSystem().buildOrPatch);E0(s,b),s.syncComponents()},BT=(s,l,d)=>{const f=s.getSystem().build(d);Rw(s,f,l)},vD=(s,l,d,f)=>{Xl(l),BT(s,(b,v)=>((C,k,E)=>{wr(C,E).fold(()=>{bl(C,k)},N=>{Pc(N,k)})})(b,v,d),f)},Gw=(s,l)=>s.components(),yD=(s,l,d,f,b)=>{const v=Gw(s);return I.from(v[f]).map(C=>(b.fold(()=>Xl(C),k=>{(l.reuseDom?PS:vD)(s,C,f,k)}),C))};var FT=Object.freeze({__proto__:null,append:(s,l,d,f)=>{BT(s,bl,f)},prepend:(s,l,d,f)=>{BT(s,Um,f)},remove:(s,l,d,f)=>{const b=Gw(s);te(b,C=>cs(f.element,C.element)).each(Xl)},replaceAt:yD,replaceBy:(s,l,d,f,b)=>{const v=Gw(s);return vo(v,f).bind(C=>yD(s,l,0,C,b))},set:(s,l,d,f)=>(l.reuseDom?LT:N0)(s,f),contents:Gw});const go=Zi({fields:[li("reuseDom",!0)],name:"replacing",apis:FT}),jo=(s,l)=>{const d=((f,b)=>{const v=To(b);return Zi({fields:[Ht("enabled")],name:f,active:{events:q(v)}})})(s,l);return{key:s,value:{config:{},me:d,configAsRaw:q({}),initialConfig:{},state:jc}}},xD=(s,l)=>{l.ignore||(Ml(s.element),l.onFocus(s))};var wD=Object.freeze({__proto__:null,focus:xD,blur:(s,l)=>{l.ignore||a0(s.element)},isFocused:s=>Tp(s.element)}),CD=Object.freeze({__proto__:null,exhibit:(s,l)=>{const d=l.ignore?{}:{attributes:{tabindex:"-1"}};return Nr(d)},events:s=>To([Lt(Wu(),(l,d)=>{xD(l,s),d.stop()})].concat(s.stopMousedown?[Lt(Ut(),(l,d)=>{d.event.prevent()})]:[]))}),SD=[_s("onFocus"),vt("stopMousedown",!1),vt("ignore",!1)];const Eo=Zi({fields:SD,name:"focusing",active:CD,apis:wD}),qw=(s,l,d,f)=>{const b=d.get();d.set(f),((v,C,k)=>{C.toggleClass.each(E=>{k.get()?Vn(v.element,E):Fo(v.element,E)})})(s,l,d),((v,C,k)=>{const E=C.aria;E.update(v,E,k.get())})(s,l,d),b!==f&&l.onToggled(s,f)},Ad=(s,l,d)=>{qw(s,l,d,!d.get())},M0=(s,l,d)=>{qw(s,l,d,l.selected)};var _D=Object.freeze({__proto__:null,onLoad:M0,toggle:Ad,isOn:(s,l,d)=>d.get(),on:(s,l,d)=>{qw(s,l,d,!0)},off:(s,l,d)=>{qw(s,l,d,!1)},set:qw}),My=Object.freeze({__proto__:null,exhibit:()=>Nr({}),events:(s,l)=>{const d=(f=s,b=l,v=Ad,gu(k=>{v(k,f,b)}));var f,b,v;const C=am(s,l,M0);return To(nn([s.toggleOnExecute?[d]:[],[C]]))}});const Gc=(s,l,d)=>{xn(s.element,"aria-expanded",d)};var td=[vt("selected",!1),ds("toggleClass"),vt("toggleOnExecute",!0),_s("onToggled"),Xa("aria",{mode:"none"},Ti("mode",{pressed:[vt("syncWithExpanded",!1),pr("update",(s,l,d)=>{xn(s.element,"aria-pressed",d),l.syncWithExpanded&&Gc(s,0,d)})],checked:[pr("update",(s,l,d)=>{xn(s.element,"aria-checked",d)})],expanded:[pr("update",Gc)],selected:[pr("update",(s,l,d)=>{xn(s.element,"aria-selected",d)})],none:[pr("update",U)]}))];const yo=Zi({fields:td,name:"toggling",active:My,apis:_D,state:{init:()=>{const s=Wn(!1);return{get:()=>s.get(),set:l=>s.set(l),clear:()=>s.set(!1),readState:()=>s.get()}}}}),yf=()=>{const s=(l,d)=>{d.stop(),mf(l)};return[Lt(bi(),s),Lt(lf(),s),rm(Y()),rm(Ut())]},Ly=s=>To(nn([s.map(l=>gu((d,f)=>{l(d),f.stop()})).toArray(),yf()])),Od="alloy.item-hover",zb="alloy.item-focus",kD="alloy.item-toggled",ED=s=>{(yi(s.element).isNone()||Eo.isFocused(s))&&(Eo.isFocused(s)||Eo.focus(s),Xn(s,Od,{item:s}))},TD=s=>{Xn(s,zb,{item:s})},$T=q(Od),AD=q(zb),NS=q(kD),OD=s=>s.role.fold(()=>s.toggling.map(l=>l.exclusive?"menuitemradio":"menuitemcheckbox").getOr("menuitem"),he),X8=[Ht("data"),Ht("components"),Ht("dom"),vt("hasSubmenu",!1),ds("toggling"),ds("role"),Ao("itemBehaviours",[yo,Eo,eo,St]),vt("ignoreFocus",!1),vt("domModification",{}),pr("builder",s=>({dom:s.dom,domModification:{...s.domModification,attributes:{role:OD(s),...s.domModification.attributes,"aria-haspopup":s.hasSubmenu,...s.hasSubmenu?{"aria-expanded":!1}:{}}},behaviours:bo(s.itemBehaviours,[s.toggling.fold(yo.revoke,l=>yo.config(((d,f)=>({aria:{mode:f?"selected":"checked"},...Cs(d,(b,v)=>v!=="exclusive"),onToggled:(b,v)=>{Z(d.onToggled)&&d.onToggled(b,v),((C,k)=>{Xn(C,kD,{item:C,state:k})})(b,v)}}))(l,s.role.exists(d=>d==="option")))),Eo.config({ignore:s.ignoreFocus,stopMousedown:s.ignoreFocus,onFocus:l=>{TD(l)}}),eo.config({mode:"execution"}),St.config({store:{mode:"memory",initialValue:s.data}}),jo("item-type-events",[...yf(),Lt(jn(),ED),Lt(qm(),Eo.focus)])]),components:s.components,eventOrder:s.eventOrder})),vt("eventOrder",{})],J8=[Ht("dom"),Ht("components"),pr("builder",s=>({dom:s.dom,components:s.components,events:To([X1(qm())])}))],VT=q("item-widget"),zT=q([gc({name:"widget",overrides:s=>({behaviours:an([St.config({store:{mode:"manual",getValue:l=>s.data,setValue:U}})])})})]),RD=[Ht("uid"),Ht("data"),Ht("components"),Ht("dom"),vt("autofocus",!1),vt("ignoreFocus",!1),Ao("widgetBehaviours",[St,Eo,eo]),vt("domModification",{}),hT(zT()),pr("builder",s=>{const l=dT(VT(),s,zT()),d=fT(VT(),s,l.internals()),f=v=>vr(v,s,"widget").map(C=>(eo.focusIn(C),C)),b=(v,C)=>(Ry(C.event.target)||s.autofocus&&C.setSource(v.element),I.none());return{dom:s.dom,components:d,domModification:s.domModification,events:To([gu((v,C)=>{f(v).each(k=>{C.stop()})}),Lt(jn(),ED),Lt(qm(),(v,C)=>{s.autofocus?f(v):Eo.focus(v)})]),behaviours:bo(s.widgetBehaviours,[St.config({store:{mode:"memory",initialValue:s.data}}),Eo.config({ignore:s.ignoreFocus,onFocus:v=>{TD(v)}}),eo.config({mode:"special",focusIn:s.autofocus?v=>{f(v)}:ue(),onLeft:b,onRight:b,onEscape:(v,C)=>Eo.isFocused(v)||s.autofocus?(s.autofocus&&C.setSource(v.element),I.none()):(Eo.focus(v),I.some(!0))})])}})],ID=Ti("type",{widget:RD,item:X8,separator:J8}),HT=q([xS({factory:{sketch:s=>{const l=Pa("menu.spec item",ID,s);return l.builder(l)}},name:"items",unit:"item",defaults:(s,l)=>uo(l,"uid")?l:{...l,uid:qu("item")},overrides:(s,l)=>({type:l.type,ignoreFocus:s.fakeFocus,domModification:{classes:[s.markers.item]}})})]),DD=q([Zr("role"),Ht("value"),Ht("items"),Ht("dom"),Ht("components"),vt("eventOrder",{}),Mn("menuBehaviours",[Gs,St,Os,eo]),Xa("movement",{mode:"menu",moveOnTab:!0},Ti("mode",{grid:[nS(),pr("config",(s,l)=>({mode:"flatgrid",selector:"."+s.markers.item,initSize:{numColumns:l.initSize.numColumns,numRows:l.initSize.numRows},focusManager:s.focusManager}))],matrix:[pr("config",(s,l)=>({mode:"matrix",selectors:{row:l.rowSelector,cell:"."+s.markers.item},previousSelector:l.previousSelector,focusManager:s.focusManager})),Ht("rowSelector"),vt("previousSelector",I.none)],menu:[vt("moveOnTab",!0),pr("config",(s,l)=>({mode:"menu",selector:"."+s.markers.item,moveOnTab:l.moveOnTab,focusManager:s.focusManager}))]})),Bi("markers",pp()),vt("fakeFocus",!1),vt("focusManager",xT()),_s("onHighlight"),_s("onDehighlight"),vt("showMenuRole",!0)]),PD=q("alloy.menu-focus"),L0=kc({name:"Menu",configFields:DD(),partFields:HT(),factory:(s,l,d,f)=>({uid:s.uid,dom:s.dom,markers:s.markers,behaviours:zo(s.menuBehaviours,[Gs.config({highlightClass:s.markers.selectedItem,itemClass:s.markers.item,onHighlight:s.onHighlight,onDehighlight:s.onDehighlight}),St.config({store:{mode:"memory",initialValue:s.value}}),Os.config({find:I.some}),eo.config(s.movement.config(s,s.movement))]),events:To([Lt(AD(),(b,v)=>{const C=v.event;b.getSystem().getByDom(C.target).each(k=>{Gs.highlight(b,k),v.stop(),Xn(b,PD(),{menu:b,item:k})})}),Lt($T(),(b,v)=>{const C=v.event.item;Gs.highlight(b,C)}),Lt(NS(),(b,v)=>{const{item:C,state:k}=v.event;k&&ns(C.element,"role")==="menuitemradio"&&((E,N)=>{const $=na(E.element,'[role="menuitemradio"][aria-checked="true"]');bt($,B=>{cs(B,N.element)||E.getSystem().getByDom(B).each(W=>{yo.off(W)})})})(b,C)})]),components:l,eventOrder:s.eventOrder,...s.showMenuRole?{domModification:{attributes:{role:s.role.getOr("menu")}}}:{}})}),ND=(s,l,d,f)=>cn(d,f).bind(b=>cn(s,b).bind(v=>{const C=ND(s,l,d,v);return I.some([v].concat(C))})).getOr([]),MD=s=>s.type==="prepared"?I.some(s.menu):I.none(),Q8=()=>{const s=Wn({}),l=Wn({}),d=Wn({}),f=Ss(),b=Wn({}),v=E=>C(E).bind(MD),C=E=>cn(l.get(),E),k=E=>cn(s.get(),E);return{setMenuBuilt:(E,N)=>{l.set({...l.get(),[E]:{type:"prepared",menu:N}})},setContents:(E,N,$,B)=>{f.set(E),s.set($),l.set(N),b.set(B);const W=((J,se)=>{const pe={};no(J,(be,Ee)=>{bt(be,Pe=>{pe[Pe]=Ee})});const ye=se,De=Jo(se,(be,Ee)=>({k:be,v:Ee})),ve=co(De,(be,Ee)=>[Ee].concat(ND(pe,ye,De,Ee)));return co(pe,be=>cn(ve,be).getOr([be]))})(B,$);d.set(W)},expand:E=>cn(s.get(),E).map(N=>{const $=cn(d.get(),E).getOr([]);return[N].concat($)}),refresh:E=>cn(d.get(),E),collapse:E=>cn(d.get(),E).bind(N=>N.length>1?I.some(N.slice(1)):I.none()),lookupMenu:C,lookupItem:k,otherMenus:E=>{const N=b.get();return Se(Qt(N),E)},getPrimary:()=>f.get().bind(v),getMenus:()=>l.get(),clear:()=>{s.set({}),l.set({}),d.set({}),f.clear()},isClear:()=>f.get().isNone(),getTriggeringPath:(E,N)=>{const $=Yt(k(E).toArray(),B=>v(B).isSome());return cn(d.get(),E).bind(B=>{const W=it($.concat(B));return(J=>{const se=[];for(let pe=0;pe<J.length;pe++){const ye=J[pe];if(!ye.isSome())return I.none();se.push(ye.getOrDie())}return I.some(se)})(yn(W,(J,se)=>((pe,ye,De)=>v(pe).bind(ve=>(be=>xs(s.get(),(Ee,Pe)=>Ee===be))(pe).bind(be=>ye(be).map(Ee=>({triggeredMenu:ve,triggeringItem:Ee,triggeringPath:De})))))(J,N,W.slice(0,se+1)).fold(()=>mi(f.get(),J)?[]:[I.none()],pe=>[I.some(pe)])))})}}},e7=MD,Rd=Nn("tiered-menu-item-highlight"),t7=Nn("tiered-menu-item-dehighlight");var Ql;(function(s){s[s.HighlightMenuAndItem=0]="HighlightMenuAndItem",s[s.HighlightJustMenu=1]="HighlightJustMenu",s[s.HighlightNone=2]="HighlightNone"})(Ql||(Ql={}));const B0=q("collapse-item"),Mp=Td({name:"TieredMenu",configFields:[yl("onExecute"),yl("onEscape"),hf("onOpenMenu"),hf("onOpenSubmenu"),_s("onRepositionMenu"),_s("onCollapseMenu"),vt("highlightOnOpen",Ql.HighlightMenuAndItem),Fc("data",[Ht("primary"),Ht("menus"),Ht("expansions")]),vt("fakeFocus",!1),_s("onHighlightItem"),_s("onDehighlightItem"),_s("onHover"),bp(),Ht("dom"),vt("navigateOnHover",!0),vt("stayInDom",!1),Mn("tmenuBehaviours",[eo,Gs,Os,go]),vt("eventOrder",{})],apis:{collapseMenu:(s,l)=>{s.collapseMenu(l)},highlightPrimary:(s,l)=>{s.highlightPrimary(l)},repositionMenus:(s,l)=>{s.repositionMenus(l)}},factory:(s,l)=>{const d=Ss(),f=Q8(),b=be=>St.getValue(be).value,v=be=>co(s.data.menus,(Ee,Pe)=>yn(Ee.items,Le=>Le.type==="separator"?[]:[Le.data.value])),C=Gs.highlight,k=(be,Ee)=>{C(be,Ee),Gs.getHighlighted(Ee).orThunk(()=>Gs.getFirst(Ee)).each(Pe=>{s.fakeFocus?Gs.highlight(Ee,Pe):Ar(be,Pe.element,qm())})},E=(be,Ee)=>ul(Ve(Ee,Pe=>be.lookupMenu(Pe).bind(Le=>Le.type==="prepared"?I.some(Le.menu):I.none()))),N=(be,Ee,Pe)=>{const Le=E(Ee,Ee.otherMenus(Pe));bt(Le,et=>{ci(et.element,[s.markers.backgroundMenu]),s.stayInDom||go.remove(be,et)})},$=(be,Ee)=>{const Pe=(Le=>d.get().getOrThunk(()=>{const et={},ht=na(Le.element,`.${s.markers.item}`),zt=Yt(ht,Bt=>ns(Bt,"aria-haspopup")==="true");return bt(zt,Bt=>{Le.getSystem().getByDom(Bt).each(Pt=>{const sn=b(Pt);et[sn]=Pt})}),d.set(et),et}))(be);no(Pe,(Le,et)=>{const ht=ft(Ee,et);xn(Le.element,"aria-expanded",ht)})},B=(be,Ee,Pe)=>I.from(Pe[0]).bind(Le=>Ee.lookupMenu(Le).bind(et=>{if(et.type==="notbuilt")return I.none();{const ht=et.menu,zt=E(Ee,Pe.slice(1));return bt(zt,Bt=>{Vn(Bt.element,s.markers.backgroundMenu)}),Cn(ht.element)||go.append(be,ql(ht)),ci(ht.element,[s.markers.backgroundMenu]),k(be,ht),N(be,Ee,Pe),I.some(ht)}}));let W;(function(be){be[be.HighlightSubmenu=0]="HighlightSubmenu",be[be.HighlightParent=1]="HighlightParent"})(W||(W={}));const J=(be,Ee,Pe=W.HighlightSubmenu)=>{if(Ee.hasConfigured(Oo)&&Oo.isDisabled(Ee))return I.some(Ee);{const Le=b(Ee);return f.expand(Le).bind(et=>($(be,et),I.from(et[0]).bind(ht=>f.lookupMenu(ht).bind(zt=>{const Bt=((Pt,sn,In)=>{if(In.type==="notbuilt"){const Kn=Pt.getSystem().build(In.nbMenu());return f.setMenuBuilt(sn,Kn),Kn}return In.menu})(be,ht,zt);return Cn(Bt.element)||go.append(be,ql(Bt)),s.onOpenSubmenu(be,Ee,Bt,it(et)),Pe===W.HighlightSubmenu?(Gs.highlightFirst(Bt),B(be,f,et)):(Gs.dehighlightAll(Bt),I.some(Ee))}))))}},se=(be,Ee)=>{const Pe=b(Ee);return f.collapse(Pe).bind(Le=>($(be,Le),B(be,f,Le).map(et=>(s.onCollapseMenu(be,Ee,et),et))))},pe=be=>(Ee,Pe)=>pf(Pe.getSource(),`.${s.markers.item}`).bind(Le=>Ee.getSystem().getByDom(Le).toOptional().bind(et=>be(Ee,et).map(Te))),ye=To([Lt(PD(),(be,Ee)=>{const Pe=Ee.event.item;f.lookupItem(b(Pe)).each(()=>{const Le=Ee.event.menu;Gs.highlight(be,Le);const et=b(Ee.event.item);f.refresh(et).each(ht=>N(be,f,ht))})}),gu((be,Ee)=>{const Pe=Ee.event.target;be.getSystem().getByDom(Pe).each(Le=>{b(Le).indexOf("collapse-item")===0&&se(be,Le),J(be,Le,W.HighlightSubmenu).fold(()=>{s.onExecute(be,Le)},U)})}),hr((be,Ee)=>{(Pe=>{const Le=((ht,zt,Bt)=>co(Bt,(Pt,sn)=>{const In=()=>L0.sketch({...Pt,value:sn,markers:s.markers,fakeFocus:s.fakeFocus,onHighlight:(Kn,ro)=>{Xn(Kn,Rd,{menuComp:Kn,itemComp:ro})},onDehighlight:(Kn,ro)=>{Xn(Kn,t7,{menuComp:Kn,itemComp:ro})},focusManager:s.fakeFocus?M8():xT()});return sn===zt?{type:"prepared",menu:ht.getSystem().build(In())}:{type:"notbuilt",nbMenu:In}}))(Pe,s.data.primary,s.data.menus),et=v();return f.setContents(s.data.primary,Le,s.data.expansions,et),f.getPrimary()})(be).each(Pe=>{go.append(be,ql(Pe)),s.onOpenMenu(be,Pe),s.highlightOnOpen===Ql.HighlightMenuAndItem?k(be,Pe):s.highlightOnOpen===Ql.HighlightJustMenu&&C(be,Pe)})}),Lt(Rd,(be,Ee)=>{s.onHighlightItem(be,Ee.event.menuComp,Ee.event.itemComp)}),Lt(t7,(be,Ee)=>{s.onDehighlightItem(be,Ee.event.menuComp,Ee.event.itemComp)}),...s.navigateOnHover?[Lt($T(),(be,Ee)=>{const Pe=Ee.event.item;((Le,et)=>{const ht=b(et);f.refresh(ht).bind(zt=>($(Le,zt),B(Le,f,zt)))})(be,Pe),J(be,Pe,W.HighlightParent),s.onHover(be,Pe)})]:[]]),De=be=>Gs.getHighlighted(be).bind(Gs.getHighlighted),ve={collapseMenu:be=>{De(be).each(Ee=>{se(be,Ee)})},highlightPrimary:be=>{f.getPrimary().each(Ee=>{k(be,Ee)})},repositionMenus:be=>{f.getPrimary().bind(Pe=>De(be).bind(Le=>{const et=b(Le),ht=aa(f.getMenus()),zt=ul(Ve(ht,e7));return f.getTriggeringPath(et,Bt=>((Pt,sn,In)=>pn(sn,Kn=>{if(!Kn.getSystem().isConnected())return I.none();const ro=Gs.getCandidates(Kn);return te(ro,Ro=>b(Ro)===In)}))(0,zt,Bt))}).map(Le=>({primary:Pe,triggeringPath:Le}))).fold(()=>{(Pe=>I.from(Pe.components()[0]).filter(Le=>ns(Le.element,"role")==="menu"))(be).each(Pe=>{s.onRepositionMenu(be,Pe,[])})},({primary:Pe,triggeringPath:Le})=>{s.onRepositionMenu(be,Pe,Le)})}};return{uid:s.uid,dom:s.dom,markers:s.markers,behaviours:zo(s.tmenuBehaviours,[eo.config({mode:"special",onRight:pe((be,Ee)=>Ry(Ee.element)?I.none():J(be,Ee,W.HighlightSubmenu)),onLeft:pe((be,Ee)=>Ry(Ee.element)?I.none():se(be,Ee)),onEscape:pe((be,Ee)=>se(be,Ee).orThunk(()=>s.onEscape(be,Ee).map(()=>be))),focusIn:(be,Ee)=>{f.getPrimary().each(Pe=>{Ar(be,Pe.element,qm())})}}),Gs.config({highlightClass:s.markers.selectedMenu,itemClass:s.markers.menu}),Os.config({find:be=>Gs.getHighlighted(be)}),go.config({})]),eventOrder:s.eventOrder,apis:ve,events:ye}},extraApis:{tieredData:(s,l,d)=>({primary:s,menus:l,expansions:d}),singleData:(s,l)=>({primary:s,menus:Nl(s,l),expansions:{}}),collapseItem:s=>({value:Nn(B0()),meta:{text:s}})}}),zr=Td({name:"InlineView",configFields:[Ht("lazySink"),_s("onShow"),_s("onHide"),$c("onEscape"),Mn("inlineBehaviours",[A,St,fc]),Dr("fireDismissalEventInstead",[vt("event",Ym())]),Dr("fireRepositionEventInstead",[vt("event",df())]),vt("getRelated",I.none),vt("isExtraPart",Ce),vt("eventOrder",I.none)],factory:(s,l)=>{const d=(C,k,E,N)=>{const $=s.lazySink(C).getOrDie();A.openWhileCloaked(C,k,()=>ol.positionWithinBounds($,C,E,N())),St.setValue(C,I.some({mode:"position",config:E,getBounds:N}))},f=(C,k,E,N)=>{const $=((B,W,J,se,pe)=>{const ye=()=>B.lazySink(W),De=se.type==="horizontal"?{layouts:{onLtr:()=>fy(),onRtl:()=>my()}}:{},ve=be=>(Ee=>Ee.length===2)(be)?De:{};return Mp.sketch({dom:{tag:"div"},data:se.data,markers:se.menu.markers,highlightOnOpen:se.menu.highlightOnOpen,fakeFocus:se.menu.fakeFocus,onEscape:()=>(A.close(W),B.onEscape.map(be=>be(W)),I.some(!0)),onExecute:()=>I.some(!0),onOpenMenu:(be,Ee)=>{ol.positionWithinBounds(ye().getOrDie(),Ee,J,pe())},onOpenSubmenu:(be,Ee,Pe,Le)=>{const et=ye().getOrDie();ol.position(et,Pe,{anchor:{type:"submenu",item:Ee,...ve(Le)}})},onRepositionMenu:(be,Ee,Pe)=>{const Le=ye().getOrDie();ol.positionWithinBounds(Le,Ee,J,pe()),bt(Pe,et=>{const ht=ve(et.triggeringPath);ol.position(Le,et.triggeredMenu,{anchor:{type:"submenu",item:et.triggeringItem,...ht}})})}})})(s,C,k,E,N);A.open(C,$),St.setValue(C,I.some({mode:"menu",menu:$}))},b=C=>{A.isOpen(C)&&St.getValue(C).each(k=>{switch(k.mode){case"menu":A.getState(C).each(Mp.repositionMenus);break;case"position":const E=s.lazySink(C).getOrDie();ol.positionWithinBounds(E,C,k.config,k.getBounds())}})},v={setContent:(C,k)=>{A.setContent(C,k)},showAt:(C,k,E)=>{const N=I.none;d(C,k,E,N)},showWithinBounds:d,showMenuAt:(C,k,E)=>{f(C,k,E,I.none)},showMenuWithinBounds:f,hide:C=>{A.isOpen(C)&&(St.setValue(C,I.none()),A.close(C))},getContent:C=>A.getState(C),reposition:b,isOpen:A.isOpen};return{uid:s.uid,dom:s.dom,behaviours:zo(s.inlineBehaviours,[A.config({isPartOf:(C,k,E)=>dc(k,E)||((N,$)=>s.getRelated(N).exists(B=>dc(B,$)))(C,E),getAttachPoint:C=>s.lazySink(C).getOrDie(),onOpen:C=>{s.onShow(C)},onClose:C=>{s.onHide(C)}}),St.config({store:{mode:"memory",initialValue:I.none()}}),fc.config({channels:{...me({isExtraPart:l.isExtraPart,...s.fireDismissalEventInstead.map(C=>({fireEventInstead:{event:C.event}})).getOr({})}),...je({...s.fireRepositionEventInstead.map(C=>({fireEventInstead:{event:C.event}})).getOr({}),doReposition:b})}})]),eventOrder:s.eventOrder,apis:v}},apis:{showAt:(s,l,d,f)=>{s.showAt(l,d,f)},showWithinBounds:(s,l,d,f,b)=>{s.showWithinBounds(l,d,f,b)},showMenuAt:(s,l,d,f)=>{s.showMenuAt(l,d,f)},showMenuWithinBounds:(s,l,d,f,b)=>{s.showMenuWithinBounds(l,d,f,b)},hide:(s,l)=>{s.hide(l)},isOpen:(s,l)=>s.isOpen(l),getContent:(s,l)=>s.getContent(l),setContent:(s,l,d)=>{s.setContent(l,d)},reposition:(s,l)=>{s.reposition(l)}}});var xf,Yw,MS=tinymce.util.Tools.resolve("tinymce.util.Delay"),By=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),LD=tinymce.util.Tools.resolve("tinymce.EditorManager"),pg=tinymce.util.Tools.resolve("tinymce.Env");(function(s){s.default="wrap",s.floating="floating",s.sliding="sliding",s.scrolling="scrolling"})(xf||(xf={})),function(s){s.auto="auto",s.top="top",s.bottom="bottom"}(Yw||(Yw={}));const tr=s=>l=>l.options.get(s),Xw=s=>l=>I.from(s(l)),BD=s=>{const l=pg.deviceType.isPhone(),d=pg.deviceType.isTablet()||l,f=s.options.register,b=C=>h(C)||C===!1,v=C=>h(C)||Q(C);f("skin",{processor:C=>h(C)||C===!1,default:"oxide"}),f("skin_url",{processor:"string"}),f("height",{processor:v,default:Math.max(s.getElement().offsetHeight,400)}),f("width",{processor:v,default:By.DOM.getStyle(s.getElement(),"width")}),f("min_height",{processor:"number",default:100}),f("min_width",{processor:"number"}),f("max_height",{processor:"number"}),f("max_width",{processor:"number"}),f("style_formats",{processor:"object[]"}),f("style_formats_merge",{processor:"boolean",default:!1}),f("style_formats_autohide",{processor:"boolean",default:!1}),f("line_height_formats",{processor:"string",default:"1 1.1 1.2 1.3 1.4 1.5 2"}),f("font_family_formats",{processor:"string",default:"Andale Mono=andale mono,monospace;Arial=arial,helvetica,sans-serif;Arial Black=arial black,sans-serif;Book Antiqua=book antiqua,palatino,serif;Comic Sans MS=comic sans ms,sans-serif;Courier New=courier new,courier,monospace;Georgia=georgia,palatino,serif;Helvetica=helvetica,arial,sans-serif;Impact=impact,sans-serif;Symbol=symbol;Tahoma=tahoma,arial,helvetica,sans-serif;Terminal=terminal,monaco,monospace;Times New Roman=times new roman,times,serif;Trebuchet MS=trebuchet ms,geneva,sans-serif;Verdana=verdana,geneva,sans-serif;Webdings=webdings;Wingdings=wingdings,zapf dingbats"}),f("font_size_formats",{processor:"string",default:"8pt 10pt 12pt 14pt 18pt 24pt 36pt"}),f("font_size_input_default_unit",{processor:"string",default:"pt"}),f("block_formats",{processor:"string",default:"Paragraph=p;Heading 1=h1;Heading 2=h2;Heading 3=h3;Heading 4=h4;Heading 5=h5;Heading 6=h6;Preformatted=pre"}),f("content_langs",{processor:"object[]"}),f("removed_menuitems",{processor:"string",default:""}),f("menubar",{processor:C=>h(C)||O(C),default:!l}),f("menu",{processor:"object",default:{}}),f("toolbar",{processor:C=>O(C)||h(C)||R(C)?{value:C,valid:!0}:{valid:!1,message:"Must be a boolean, string or array."},default:!0}),Ot(9,C=>{f("toolbar"+(C+1),{processor:"string"})}),f("toolbar_mode",{processor:"string",default:d?"scrolling":"floating"}),f("toolbar_groups",{processor:"object",default:{}}),f("toolbar_location",{processor:"string",default:Yw.auto}),f("toolbar_persist",{processor:"boolean",default:!1}),f("toolbar_sticky",{processor:"boolean",default:s.inline}),f("toolbar_sticky_offset",{processor:"number",default:0}),f("fixed_toolbar_container",{processor:"string",default:""}),f("fixed_toolbar_container_target",{processor:"object"}),f("ui_mode",{processor:"string",default:"combined"}),f("file_picker_callback",{processor:"function"}),f("file_picker_validator_handler",{processor:"function"}),f("file_picker_types",{processor:"string"}),f("typeahead_urls",{processor:"boolean",default:!0}),f("anchor_top",{processor:b,default:"#top"}),f("anchor_bottom",{processor:b,default:"#bottom"}),f("draggable_modal",{processor:"boolean",default:!1}),f("statusbar",{processor:"boolean",default:!0}),f("elementpath",{processor:"boolean",default:!0}),f("branding",{processor:"boolean",default:!0}),f("promotion",{processor:"boolean",default:!0}),f("resize",{processor:C=>C==="both"||O(C),default:!pg.deviceType.isTouch()}),f("sidebar_show",{processor:"string"}),f("help_accessibility",{processor:"boolean",default:s.hasPlugin("help")}),f("default_font_stack",{processor:"string[]",default:[]})},UT=tr("readonly"),Jw=tr("height"),Qw=tr("width"),e2=Xw(tr("min_width")),Fy=Xw(tr("min_height")),$y=Xw(tr("max_width")),LS=Xw(tr("max_height")),Vy=Xw(tr("style_formats")),BS=tr("style_formats_merge"),FD=tr("style_formats_autohide"),WT=tr("content_langs"),$D=tr("removed_menuitems"),F0=tr("toolbar_mode"),FS=tr("toolbar_groups"),Hb=tr("toolbar_location"),KT=tr("fixed_toolbar_container"),n7=tr("fixed_toolbar_container_target"),VD=tr("toolbar_persist"),jT=tr("toolbar_sticky_offset"),Lp=tr("menubar"),zy=tr("toolbar"),$S=tr("file_picker_callback"),t2=tr("file_picker_validator_handler"),ZT=tr("font_size_input_default_unit"),n2=tr("file_picker_types"),VS=tr("typeahead_urls"),zD=tr("anchor_top"),HD=tr("anchor_bottom"),bg=tr("draggable_modal"),UD=tr("statusbar"),WD=tr("elementpath"),nd=tr("branding"),sl=tr("resize"),KD=tr("paste_as_text"),zS=tr("sidebar_show"),jD=tr("promotion"),GT=tr("help_accessibility"),HS=tr("default_font_stack"),Ub=s=>s.options.get("skin")===!1,o2=s=>s.options.get("menubar")!==!1,US=s=>{const l=s.options.get("skin_url");if(Ub(s))return l;if(l)return s.documentBaseURI.toAbsolute(l);{const d=s.options.get("skin");return LD.baseURL+"/skins/ui/"+d}},WS=s=>I.from(s.options.get("skin_url")),ZD=s=>s.options.get("line_height_formats").split(" "),s2=s=>{const l=zy(s),d=h(l),f=R(l)&&l.length>0;return!r2(s)&&(f||d||l===!0)},KS=s=>{const l=Ot(9,f=>s.options.get("toolbar"+(f+1))),d=Yt(l,h);return Go(d.length>0,d)},r2=s=>KS(s).fold(()=>{const l=zy(s);return re(l,h)&&l.length>0},Te),qT=s=>Hb(s)===Yw.bottom,YT=s=>{var l;if(!s.inline)return I.none();const d=(l=KT(s))!==null&&l!==void 0?l:"";if(d.length>0)return Lr(Tn(),d);const f=n7(s);return K(f)?I.some(Sn(f)):I.none()},$0=s=>s.inline&&YT(s).isSome(),jS=s=>YT(s).getOrThunk(()=>lt(Ct(Sn(s.getElement())))),ZS=s=>s.inline&&!o2(s)&&!s2(s)&&!r2(s),Bp=s=>(s.options.get("toolbar_sticky")||s.inline)&&!$0(s)&&!ZS(s),Fp=s=>!$0(s)&&s.options.get("ui_mode")==="split",Wb=s=>{const l=s.options.get("menu");return co(l,d=>({...d,items:d.items}))};var i2=Object.freeze({__proto__:null,get ToolbarMode(){return xf},get ToolbarLocation(){return Yw},register:BD,getSkinUrl:US,getSkinUrlOption:WS,isReadOnly:UT,isSkinDisabled:Ub,getHeightOption:Jw,getWidthOption:Qw,getMinWidthOption:e2,getMinHeightOption:Fy,getMaxWidthOption:$y,getMaxHeightOption:LS,getUserStyleFormats:Vy,shouldMergeStyleFormats:BS,shouldAutoHideStyleFormats:FD,getLineHeightFormats:ZD,getContentLanguages:WT,getRemovedMenuItems:$D,isMenubarEnabled:o2,isMultipleToolbars:r2,isToolbarEnabled:s2,isToolbarPersist:VD,getMultipleToolbarsOption:KS,getUiContainer:jS,useFixedContainer:$0,isSplitUiMode:Fp,getToolbarMode:F0,isDraggableModal:bg,isDistractionFree:ZS,isStickyToolbar:Bp,getStickyToolbarOffset:jT,getToolbarLocation:Hb,isToolbarLocationBottom:qT,getToolbarGroups:FS,getMenus:Wb,getMenubar:Lp,getToolbar:zy,getFilePickerCallback:$S,getFilePickerTypes:n2,useTypeaheadUrls:VS,getAnchorTop:zD,getAnchorBottom:HD,getFilePickerValidatorHandler:t2,getFontSizeInputDefaultUnit:ZT,useStatusBar:UD,useElementPath:WD,promotionEnabled:jD,useBranding:nd,getResize:sl,getPasteAsText:KD,getSidebarShow:zS,useHelpAccessibility:GT,getDefaultFontStack:HS});const o7=["visible","hidden","clip"],GD=s=>Ic(s).length>0&&!ft(o7,s),qD=s=>{if(El(s)){const l=Or(s,"overflow-x"),d=Or(s,"overflow-y");return GD(l)||GD(d)}return!1},Kb=(s,l)=>Fp(s)?((d,f)=>{const b=Nb(f,qD),v=b.length===0?rn(f).map(bn).map(C=>Nb(C,qD)).getOr([]):b;return Fe(v).map(C=>({element:C,others:v.slice(1),isFullscreen:()=>(k=>k.plugins.fullscreen&&k.plugins.fullscreen.isFullscreen())(d)}))})(s,l):I.none(),jb=s=>{const l=[...Ve(s.others,ai),Ni()];return s.isFullscreen()?Ni():((d,f)=>Jt(f,(b,v)=>au(b,v),d))(ai(s.element),l)},Fl=Td({name:"Button",factory:s=>{const l=Ly(s.action),d=s.dom.tag,f=b=>cn(s.dom,"attributes").bind(v=>cn(v,b));return{uid:s.uid,dom:s.dom,components:s.components,events:l,behaviours:bo(s.buttonBehaviours,[Eo.config({}),eo.config({mode:"execution",useSpace:!0,useEnter:!0})]),domModification:{attributes:d==="button"?{type:f("type").getOr("button"),...f("role").map(b=>({role:b})).getOr({})}:{role:s.role.getOr(f("role").getOr("button"))}},eventOrder:s.eventOrder}},configFields:[vt("uid",void 0),Ht("dom"),vt("components",[]),Ao("buttonBehaviours",[Eo,eo]),ds("action"),ds("role"),vt("eventOrder",{})]}),wh=s=>{const l=dl(s),d=Vs(l),f=(C=>{const k=C.dom.attributes!==void 0?C.dom.attributes:[];return Jt(k,(E,N)=>N.name==="class"?E:{...E,[N.name]:N.value},{})})(l),b=(C=>Array.prototype.slice.call(C.dom.classList,0))(l),v=d.length===0?{}:{innerHtml:fm(l)};return{tag:fl(l),classes:b,attributes:f,...v}},Ks=s=>{const l=(d=>d.uid!==void 0)(s)&&$o(s,"uid")?s.uid:qu("memento");return{get:d=>d.getSystem().getByUid(l).getOrDie(),getOpt:d=>d.getSystem().getByUid(l).toOptional(),asSpec:()=>({...s,uid:l})}};var s7=Object.freeze({__proto__:null,exhibit:(s,l)=>Nr({attributes:_c([{key:l.tabAttr,value:"true"}])})}),YD=[vt("tabAttr","data-alloy-tabstop")];const mr=Zi({fields:YD,name:"tabstopping",active:s7}),XT=Nn("tooltip.exclusive"),a2=Nn("tooltip.show"),l2=Nn("tooltip.hide"),c2=Nn("tooltip.immediateHide"),u2=Nn("tooltip.immediateShow"),XD=(s,l,d)=>{s.getSystem().broadcastOn([XT],{})};var r7=Object.freeze({__proto__:null,hideAllExclusive:XD,immediateOpenClose:(s,l,d,f)=>Wo(s,f?u2:c2),isEnabled:(s,l,d)=>d.isEnabled(),setComponents:(s,l,d,f)=>{d.getTooltip().each(b=>{b.getSystem().isConnected()&&go.set(b,f)})},setEnabled:(s,l,d,f)=>d.setEnabled(f)}),i7=Object.freeze({__proto__:null,events:(s,l)=>{const d=v=>{l.getTooltip().each(C=>{C.getSystem().isConnected()&&(Xl(C),s.onHide(v,C),l.clearTooltip())}),l.clearTimer()},f=v=>{if(!l.isShowing()&&l.isEnabled()){XD(v);const C=s.lazySink(v).getOrDie(),k=v.getSystem().build({dom:s.tooltipDom,components:s.tooltipComponents,events:To(s.mode==="normal"?[Lt(jn(),E=>{Wo(v,a2)}),Lt(Mo(),E=>{Wo(v,l2)})]:[]),behaviours:an([go.config({})])});l.setTooltip(k),dg(C,k),s.onShow(v,k),ol.position(C,k,{anchor:s.anchor(v)})}},b=v=>{l.getTooltip().each(C=>{const k=s.lazySink(v).getOrDie();ol.position(k,C,{anchor:s.anchor(v)})})};return To(nn([[fp(v=>{s.onSetup(v)}),Lt(a2,v=>{l.resetTimer(()=>{f(v)},s.delayForShow())}),Lt(l2,v=>{l.resetTimer(()=>{d(v)},s.delayForHide())}),Lt(u2,v=>{l.resetTimer(()=>{f(v)},0)}),Lt(c2,v=>{l.resetTimer(()=>{d(v)},0)}),Lt(lc(),(v,C)=>{const k=C;k.universal||ft(k.channels,XT)&&d(v)}),Ku(v=>{d(v)})],(()=>{switch(s.mode){case"normal":return[Lt(Is(),v=>{Wo(v,u2)}),Lt(af(),v=>{Wo(v,c2)}),Lt(jn(),v=>{Wo(v,a2)}),Lt(Mo(),v=>{Wo(v,l2)})];case"follow-highlight":return[Lt(Wv(),(v,C)=>{Wo(v,a2)}),Lt(ff(),v=>{Wo(v,l2)})];case"children-normal":return[Lt(Is(),(v,C)=>{yi(v.element).each(k=>{Tl(C.event.target,"[data-mce-tooltip]")&&l.getTooltip().fold(()=>{Wo(v,u2)},E=>{l.isShowing()&&(s.onShow(v,E),b(v))})})}),Lt(af(),v=>{yi(v.element).fold(()=>{Wo(v,c2)},U)}),Lt(jn(),v=>{Lr(v.element,"[data-mce-tooltip]:hover").each(C=>{l.getTooltip().fold(()=>{Wo(v,a2)},k=>{l.isShowing()&&(s.onShow(v,k),b(v))})})}),Lt(Mo(),v=>{Lr(v.element,"[data-mce-tooltip]:hover").fold(()=>{Wo(v,l2)},U)})];default:return[Lt(Is(),(v,C)=>{yi(v.element).each(k=>{Tl(C.event.target,"[data-mce-tooltip]")&&l.getTooltip().fold(()=>{Wo(v,u2)},E=>{l.isShowing()&&(s.onShow(v,E),b(v))})})}),Lt(af(),v=>{yi(v.element).fold(()=>{Wo(v,c2)},U)})]}})()]))}}),a7=[Ht("lazySink"),Ht("tooltipDom"),vt("exclusive",!0),vt("tooltipComponents",[]),ir("delayForShow",q(300)),ir("delayForHide",q(300)),ir("onSetup",U),Vc("mode","normal",["normal","follow-highlight","children-keyboard-focus","children-normal"]),vt("anchor",s=>({type:"hotspot",hotspot:s,layouts:{onLtr:q([vi,Yr,ni,Oi,oi,er]),onRtl:q([vi,Yr,ni,Oi,oi,er])},bubble:pu(0,-2,{})})),_s("onHide"),_s("onShow")],l7=Object.freeze({__proto__:null,init:()=>{const s=Wn(!0),l=Ss(),d=Ss(),f=()=>{l.on(clearTimeout)},b=q("not-implemented");return Ai({getTooltip:d.get,isShowing:d.isSet,setTooltip:d.set,clearTooltip:d.clear,clearTimer:f,resetTimer:(v,C)=>{f(),l.set(setTimeout(v,C))},readState:b,isEnabled:()=>s.get(),setEnabled:v=>s.set(v)})}});const Ii=Zi({fields:a7,name:"tooltipping",active:i7,state:l7,apis:r7}),{entries:JD,setPrototypeOf:JT,isFrozen:QD,getPrototypeOf:eP,getOwnPropertyDescriptor:c7}=Object;let{freeze:vu,seal:vg,create:tP}=Object,{apply:QT,construct:eA}=typeof Reflect<"u"&&Reflect;QT||(QT=function(s,l,d){return s.apply(l,d)}),vu||(vu=function(s){return s}),vg||(vg=function(s){return s}),eA||(eA=function(s,l){return new s(...l)});const tA=Cm(Array.prototype.forEach),u7=Cm(Array.prototype.pop),d2=Cm(Array.prototype.push),GS=Cm(String.prototype.toLowerCase),qS=Cm(String.prototype.toString),d7=Cm(String.prototype.match),On=Cm(String.prototype.replace),V0=Cm(String.prototype.indexOf),f7=Cm(String.prototype.trim),Id=Cm(RegExp.prototype.test),Zb=(YS=TypeError,function(){for(var s=arguments.length,l=new Array(s),d=0;d<s;d++)l[d]=arguments[d];return eA(YS,l)});var YS;function Cm(s){return function(l){for(var d=arguments.length,f=new Array(d>1?d-1:0),b=1;b<d;b++)f[b-1]=arguments[b];return QT(s,l,f)}}function ar(s,l,d){var f;d=(f=d)!==null&&f!==void 0?f:GS,JT&&JT(s,null);let b=l.length;for(;b--;){let v=l[b];if(typeof v=="string"){const C=d(v);C!==v&&(QD(l)||(l[b]=C),v=C)}s[v]=!0}return s}function Hy(s){const l=tP(null);for(const[d,f]of JD(s))l[d]=f;return l}function XS(s,l){for(;s!==null;){const d=c7(s,l);if(d){if(d.get)return Cm(d.get);if(typeof d.value=="function")return Cm(d.value)}s=eP(s)}return function(d){return console.warn("fallback value for",d),null}}const nA=vu(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),f2=vu(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),z0=vu(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),nP=vu(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),oA=vu(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),m7=vu(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),oP=vu(["#text"]),g7=vu(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),JS=vu(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),sP=vu(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),QS=vu(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),h7=vg(/\{\{[\w\W]*|[\w\W]*\}\}/gm),p7=vg(/<%[\w\W]*|[\w\W]*%>/gm),sA=vg(/\${[\w\W]*}/gm),b7=vg(/^data-[\-\w.\u00B7-\uFFFF]/),v7=vg(/^aria-[\-\w]+$/),rP=vg(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),y7=vg(/^(?:\w+script|data):/i),x7=vg(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),Ch=vg(/^html$/i);var m2=Object.freeze({__proto__:null,MUSTACHE_EXPR:h7,ERB_EXPR:p7,TMPLIT_EXPR:sA,DATA_ATTR:b7,ARIA_ATTR:v7,IS_ALLOWED_URI:rP,IS_SCRIPT_OR_DATA:y7,ATTR_WHITESPACE:x7,DOCTYPE_NAME:Ch});const w7=()=>typeof window>"u"?null:window;var C7=function s(){let l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:w7();const d=Et=>s(Et);if(d.version="3.0.5",d.removed=[],!l||!l.document||l.document.nodeType!==9)return d.isSupported=!1,d;const f=l.document,b=f.currentScript;let{document:v}=l;const{DocumentFragment:C,HTMLTemplateElement:k,Node:E,Element:N,NodeFilter:$,NamedNodeMap:B=l.NamedNodeMap||l.MozNamedAttrMap,HTMLFormElement:W,DOMParser:J,trustedTypes:se}=l,pe=N.prototype,ye=XS(pe,"cloneNode"),De=XS(pe,"nextSibling"),ve=XS(pe,"childNodes"),be=XS(pe,"parentNode");if(typeof k=="function"){const Et=v.createElement("template");Et.content&&Et.content.ownerDocument&&(v=Et.content.ownerDocument)}let Ee,Pe="";const{implementation:Le,createNodeIterator:et,createDocumentFragment:ht,getElementsByTagName:zt}=v,{importNode:Bt}=f;let Pt={};d.isSupported=typeof JD=="function"&&typeof be=="function"&&Le&&Le.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:sn,ERB_EXPR:In,TMPLIT_EXPR:Kn,DATA_ATTR:ro,ARIA_ATTR:Ro,IS_SCRIPT_OR_DATA:as,ATTR_WHITESPACE:kr}=m2;let{IS_ALLOWED_URI:Br}=m2,Zo=null;const ks=ar({},[...nA,...f2,...z0,...oA,...oP]);let fo=null;const Fr=ar({},[...g7,...JS,...sP,...QS]);let nr=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),$l=null,Vl=null,Fa=!0,ya=!0,Xp=!1,yx=!0,hv=!1,Jp=!1,xC=!1,pv=!1,Bh=!1,h1=!1,p1=!1,xx=!0,Fk=!1,wC=!0,bv=!1,Fh={},Qp=null;const CC=ar({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let SC=null;const Bs=ar({},["audio","video","img","source","image","track"]);let $h=null;const Rm=ar({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),b1="http://www.w3.org/1998/Math/MathML",$k="http://www.w3.org/2000/svg",eb="http://www.w3.org/1999/xhtml";let wx=eb,XO=!1,Vk=null;const AH=ar({},[b1,$k,eb],qS);let Cx;const OH=["application/xhtml+xml","text/html"];let bc,v1=null;const RH=v.createElement("form"),DB=function(Et){return Et instanceof RegExp||Et instanceof Function},zk=function(Et){if(!v1||v1!==Et){if(Et&&typeof Et=="object"||(Et={}),Et=Hy(Et),Cx=Cx=OH.indexOf(Et.PARSER_MEDIA_TYPE)===-1?"text/html":Et.PARSER_MEDIA_TYPE,bc=Cx==="application/xhtml+xml"?qS:GS,Zo="ALLOWED_TAGS"in Et?ar({},Et.ALLOWED_TAGS,bc):ks,fo="ALLOWED_ATTR"in Et?ar({},Et.ALLOWED_ATTR,bc):Fr,Vk="ALLOWED_NAMESPACES"in Et?ar({},Et.ALLOWED_NAMESPACES,qS):AH,$h="ADD_URI_SAFE_ATTR"in Et?ar(Hy(Rm),Et.ADD_URI_SAFE_ATTR,bc):Rm,SC="ADD_DATA_URI_TAGS"in Et?ar(Hy(Bs),Et.ADD_DATA_URI_TAGS,bc):Bs,Qp="FORBID_CONTENTS"in Et?ar({},Et.FORBID_CONTENTS,bc):CC,$l="FORBID_TAGS"in Et?ar({},Et.FORBID_TAGS,bc):{},Vl="FORBID_ATTR"in Et?ar({},Et.FORBID_ATTR,bc):{},Fh="USE_PROFILES"in Et&&Et.USE_PROFILES,Fa=Et.ALLOW_ARIA_ATTR!==!1,ya=Et.ALLOW_DATA_ATTR!==!1,Xp=Et.ALLOW_UNKNOWN_PROTOCOLS||!1,yx=Et.ALLOW_SELF_CLOSE_IN_ATTR!==!1,hv=Et.SAFE_FOR_TEMPLATES||!1,Jp=Et.WHOLE_DOCUMENT||!1,Bh=Et.RETURN_DOM||!1,h1=Et.RETURN_DOM_FRAGMENT||!1,p1=Et.RETURN_TRUSTED_TYPE||!1,pv=Et.FORCE_BODY||!1,xx=Et.SANITIZE_DOM!==!1,Fk=Et.SANITIZE_NAMED_PROPS||!1,wC=Et.KEEP_CONTENT!==!1,bv=Et.IN_PLACE||!1,Br=Et.ALLOWED_URI_REGEXP||rP,wx=Et.NAMESPACE||eb,nr=Et.CUSTOM_ELEMENT_HANDLING||{},Et.CUSTOM_ELEMENT_HANDLING&&DB(Et.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(nr.tagNameCheck=Et.CUSTOM_ELEMENT_HANDLING.tagNameCheck),Et.CUSTOM_ELEMENT_HANDLING&&DB(Et.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(nr.attributeNameCheck=Et.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),Et.CUSTOM_ELEMENT_HANDLING&&typeof Et.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(nr.allowCustomizedBuiltInElements=Et.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),hv&&(ya=!1),h1&&(Bh=!0),Fh&&(Zo=ar({},[...oP]),fo=[],Fh.html===!0&&(ar(Zo,nA),ar(fo,g7)),Fh.svg===!0&&(ar(Zo,f2),ar(fo,JS),ar(fo,QS)),Fh.svgFilters===!0&&(ar(Zo,z0),ar(fo,JS),ar(fo,QS)),Fh.mathMl===!0&&(ar(Zo,oA),ar(fo,sP),ar(fo,QS))),Et.ADD_TAGS&&(Zo===ks&&(Zo=Hy(Zo)),ar(Zo,Et.ADD_TAGS,bc)),Et.ADD_ATTR&&(fo===Fr&&(fo=Hy(fo)),ar(fo,Et.ADD_ATTR,bc)),Et.ADD_URI_SAFE_ATTR&&ar($h,Et.ADD_URI_SAFE_ATTR,bc),Et.FORBID_CONTENTS&&(Qp===CC&&(Qp=Hy(Qp)),ar(Qp,Et.FORBID_CONTENTS,bc)),wC&&(Zo["#text"]=!0),Jp&&ar(Zo,["html","head","body"]),Zo.table&&(ar(Zo,["tbody"]),delete $l.tbody),Et.TRUSTED_TYPES_POLICY){if(typeof Et.TRUSTED_TYPES_POLICY.createHTML!="function")throw Zb('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof Et.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw Zb('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');Ee=Et.TRUSTED_TYPES_POLICY,Pe=Ee.createHTML("")}else Ee===void 0&&(Ee=function(io,Lo){if(typeof io!="object"||typeof io.createPolicy!="function")return null;let Er=null;const xi="data-tt-policy-suffix";Lo&&Lo.hasAttribute(xi)&&(Er=Lo.getAttribute(xi));const $i="dompurify"+(Er?"#"+Er:"");try{return io.createPolicy($i,{createHTML:Di=>Di,createScriptURL:Di=>Di})}catch{return console.warn("TrustedTypes policy "+$i+" could not be created."),null}}(se,b)),Ee!==null&&typeof Pe=="string"&&(Pe=Ee.createHTML(""));vu&&vu(Et),v1=Et}},PB=ar({},["mi","mo","mn","ms","mtext"]),NB=ar({},["foreignobject","desc","title","annotation-xml"]),No=ar({},["title","style","font","a","script"]),vv=ar({},f2);ar(vv,z0),ar(vv,nP);const Hk=ar({},oA);ar(Hk,m7);const yv=function(Et){d2(d.removed,{element:Et});try{Et.parentNode.removeChild(Et)}catch{Et.remove()}},Sx=function(Et,io){try{d2(d.removed,{attribute:io.getAttributeNode(Et),from:io})}catch{d2(d.removed,{attribute:null,from:io})}if(io.removeAttribute(Et),Et==="is"&&!fo[Et])if(Bh||h1)try{yv(io)}catch{}else try{io.setAttribute(Et,"")}catch{}},JO=function(Et){let io,Lo;if(pv)Et="<remove></remove>"+Et;else{const $i=d7(Et,/^[\r\n\t ]+/);Lo=$i&&$i[0]}Cx==="application/xhtml+xml"&&wx===eb&&(Et='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+Et+"</body></html>");const Er=Ee?Ee.createHTML(Et):Et;if(wx===eb)try{io=new J().parseFromString(Er,Cx)}catch{}if(!io||!io.documentElement){io=Le.createDocument(wx,"template",null);try{io.documentElement.innerHTML=XO?Pe:Er}catch{}}const xi=io.body||io.documentElement;return Et&&Lo&&xi.insertBefore(v.createTextNode(Lo),xi.childNodes[0]||null),wx===eb?zt.call(io,Jp?"html":"body")[0]:Jp?io.documentElement:xi},QO=function(Et){return et.call(Et.ownerDocument||Et,Et,$.SHOW_ELEMENT|$.SHOW_COMMENT|$.SHOW_TEXT,null,!1)},eR=function(Et){return typeof E=="object"?Et instanceof E:Et&&typeof Et=="object"&&typeof Et.nodeType=="number"&&typeof Et.nodeName=="string"},Df=function(Et,io,Lo){Pt[Et]&&tA(Pt[Et],Er=>{Er.call(d,io,Lo,v1)})},MB=function(Et){let io;if(Df("beforeSanitizeElements",Et,null),(Lo=Et)instanceof W&&(typeof Lo.nodeName!="string"||typeof Lo.textContent!="string"||typeof Lo.removeChild!="function"||!(Lo.attributes instanceof B)||typeof Lo.removeAttribute!="function"||typeof Lo.setAttribute!="function"||typeof Lo.namespaceURI!="string"||typeof Lo.insertBefore!="function"||typeof Lo.hasChildNodes!="function"))return yv(Et),!0;var Lo;const Er=bc(Et.nodeName);if(Df("uponSanitizeElement",Et,{tagName:Er,allowedTags:Zo}),Et.hasChildNodes()&&!eR(Et.firstElementChild)&&(!eR(Et.content)||!eR(Et.content.firstElementChild))&&Id(/<[/\w]/g,Et.innerHTML)&&Id(/<[/\w]/g,Et.textContent))return yv(Et),!0;if(!Zo[Er]||$l[Er]){if(!$l[Er]&&LB(Er)&&(nr.tagNameCheck instanceof RegExp&&Id(nr.tagNameCheck,Er)||nr.tagNameCheck instanceof Function&&nr.tagNameCheck(Er)))return!1;if(wC&&!Qp[Er]){const xi=be(Et)||Et.parentNode,$i=ve(Et)||Et.childNodes;if($i&&xi)for(let Di=$i.length-1;Di>=0;--Di)xi.insertBefore(ye($i[Di],!0),De(Et))}return yv(Et),!0}return Et instanceof N&&!function(xi){let $i=be(xi);$i&&$i.tagName||($i={namespaceURI:wx,tagName:"template"});const Di=GS(xi.tagName),oa=GS($i.tagName);return!!Vk[xi.namespaceURI]&&(xi.namespaceURI===$k?$i.namespaceURI===eb?Di==="svg":$i.namespaceURI===b1?Di==="svg"&&(oa==="annotation-xml"||PB[oa]):!!vv[Di]:xi.namespaceURI===b1?$i.namespaceURI===eb?Di==="math":$i.namespaceURI===$k?Di==="math"&&NB[oa]:!!Hk[Di]:xi.namespaceURI===eb?!($i.namespaceURI===$k&&!NB[oa])&&!($i.namespaceURI===b1&&!PB[oa])&&!Hk[Di]&&(No[Di]||!vv[Di]):!(Cx!=="application/xhtml+xml"||!Vk[xi.namespaceURI]))}(Et)?(yv(Et),!0):Er!=="noscript"&&Er!=="noembed"&&Er!=="noframes"||!Id(/<\/no(script|embed|frames)/i,Et.innerHTML)?(hv&&Et.nodeType===3&&(io=Et.textContent,io=On(io,sn," "),io=On(io,In," "),io=On(io,Kn," "),Et.textContent!==io&&(d2(d.removed,{element:Et.cloneNode()}),Et.textContent=io)),Df("afterSanitizeElements",Et,null),!1):(yv(Et),!0)},tR=function(Et,io,Lo){if(xx&&(io==="id"||io==="name")&&(Lo in v||Lo in RH))return!1;if(!(ya&&!Vl[io]&&Id(ro,io))){if(!(Fa&&Id(Ro,io))){if(!fo[io]||Vl[io]){if(!(LB(Et)&&(nr.tagNameCheck instanceof RegExp&&Id(nr.tagNameCheck,Et)||nr.tagNameCheck instanceof Function&&nr.tagNameCheck(Et))&&(nr.attributeNameCheck instanceof RegExp&&Id(nr.attributeNameCheck,io)||nr.attributeNameCheck instanceof Function&&nr.attributeNameCheck(io))||io==="is"&&nr.allowCustomizedBuiltInElements&&(nr.tagNameCheck instanceof RegExp&&Id(nr.tagNameCheck,Lo)||nr.tagNameCheck instanceof Function&&nr.tagNameCheck(Lo))))return!1}else if(!$h[io]){if(!Id(Br,On(Lo,kr,""))){if((io!=="src"&&io!=="xlink:href"&&io!=="href"||Et==="script"||V0(Lo,"data:")!==0||!SC[Et])&&!(Xp&&!Id(as,On(Lo,kr,"")))){if(Lo)return!1}}}}}return!0},LB=function(Et){return Et.indexOf("-")>0},BB=function(Et){let io,Lo,Er,xi;Df("beforeSanitizeAttributes",Et,null);const{attributes:$i}=Et;if(!$i)return;const Di={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:fo};for(xi=$i.length;xi--;){io=$i[xi];const{name:oa,namespaceURI:_x}=io;Lo=oa==="value"?io.value:f7(io.value);const DH=Lo;if(Er=bc(oa),Di.attrName=Er,Di.attrValue=Lo,Di.keepAttr=!0,Di.forceKeepAttr=void 0,Df("uponSanitizeAttribute",Et,Di),Lo=Di.attrValue,Di.forceKeepAttr)continue;if(!Di.keepAttr){Sx(oa,Et);continue}if(!yx&&Id(/\/>/i,Lo)){Sx(oa,Et);continue}hv&&(Lo=On(Lo,sn," "),Lo=On(Lo,In," "),Lo=On(Lo,Kn," "));const FB=bc(Et.nodeName);if(tR(FB,Er,Lo)){if(!Fk||Er!=="id"&&Er!=="name"||(Sx(oa,Et),Lo="user-content-"+Lo),Ee&&typeof se=="object"&&typeof se.getAttributeType=="function"&&!_x)switch(se.getAttributeType(FB,Er)){case"TrustedHTML":Lo=Ee.createHTML(Lo);break;case"TrustedScriptURL":Lo=Ee.createScriptURL(Lo)}if(Lo!==DH)try{_x?Et.setAttributeNS(_x,oa,Lo):Et.setAttribute(oa,Lo)}catch{Sx(oa,Et)}}else Sx(oa,Et)}Df("afterSanitizeAttributes",Et,null)},IH=function Et(io){let Lo;const Er=QO(io);for(Df("beforeSanitizeShadowDOM",io,null);Lo=Er.nextNode();)Df("uponSanitizeShadowNode",Lo,null),MB(Lo)||(Lo.content instanceof C&&Et(Lo.content),BB(Lo));Df("afterSanitizeShadowDOM",io,null)};return d.sanitize=function(Et){let io,Lo,Er,xi,$i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(XO=!Et,XO&&(Et="<!-->"),typeof Et!="string"&&!eR(Et)){if(typeof Et.toString!="function")throw Zb("toString is not a function");if(typeof(Et=Et.toString())!="string")throw Zb("dirty is not a string, aborting")}if(!d.isSupported)return Et;if(xC||zk($i),d.removed=[],typeof Et=="string"&&(bv=!1),bv){if(Et.nodeName){const _x=bc(Et.nodeName);if(!Zo[_x]||$l[_x])throw Zb("root node is forbidden and cannot be sanitized in-place")}}else if(Et instanceof E)io=JO("<!---->"),Lo=io.ownerDocument.importNode(Et,!0),Lo.nodeType===1&&Lo.nodeName==="BODY"||Lo.nodeName==="HTML"?io=Lo:io.appendChild(Lo);else{if(!Bh&&!hv&&!Jp&&Et.indexOf("<")===-1)return Ee&&p1?Ee.createHTML(Et):Et;if(io=JO(Et),!io)return Bh?null:p1?Pe:""}io&&pv&&yv(io.firstChild);const Di=QO(bv?Et:io);for(;Er=Di.nextNode();)MB(Er)||(Er.content instanceof C&&IH(Er.content),BB(Er));if(bv)return Et;if(Bh){if(h1)for(xi=ht.call(io.ownerDocument);io.firstChild;)xi.appendChild(io.firstChild);else xi=io;return(fo.shadowroot||fo.shadowrootmode)&&(xi=Bt.call(f,xi,!0)),xi}let oa=Jp?io.outerHTML:io.innerHTML;return Jp&&Zo["!doctype"]&&io.ownerDocument&&io.ownerDocument.doctype&&io.ownerDocument.doctype.name&&Id(Ch,io.ownerDocument.doctype.name)&&(oa="<!DOCTYPE "+io.ownerDocument.doctype.name+`>
`+oa),hv&&(oa=On(oa,sn," "),oa=On(oa,In," "),oa=On(oa,Kn," ")),Ee&&p1?Ee.createHTML(oa):oa},d.setConfig=function(Et){zk(Et),xC=!0},d.clearConfig=function(){v1=null,xC=!1},d.isValidAttribute=function(Et,io,Lo){v1||zk({});const Er=bc(Et),xi=bc(io);return tR(Er,xi,Lo)},d.addHook=function(Et,io){typeof io=="function"&&(Pt[Et]=Pt[Et]||[],d2(Pt[Et],io))},d.removeHook=function(Et){if(Pt[Et])return u7(Pt[Et])},d.removeHooks=function(Et){Pt[Et]&&(Pt[Et]=[])},d.removeAllHooks=function(){Pt={}},d}();const iP=s=>C7().sanitize(s);var wf=tinymce.util.Tools.resolve("tinymce.util.I18n");const S7={indent:!0,outdent:!0,"table-insert-column-after":!0,"table-insert-column-before":!0,"paste-column-after":!0,"paste-column-before":!0,"unordered-list":!0,"list-bull-circle":!0,"list-bull-default":!0,"list-bull-square":!0},aP="temporary-placeholder",rA=s=>()=>cn(s,aP).getOr("!not found!"),Gb=(s,l)=>{const d=s.toLowerCase();if(wf.isRtl()){const f=((b,v)=>Rc(b,v)?b:((C,k)=>C+k)(b,v))(d,"-rtl");return uo(l,f)?f:d}return d},g2=(s,l)=>cn(l,Gb(s,l)),lP=(s,l)=>{const d=l();return g2(s,d).getOrThunk(rA(d))},e_=()=>jo("add-focusable",[hr(s=>{cy(s.element,"svg").each(l=>xn(l,"focusable","false"))})]),cP=(s,l,d,f)=>{var b,v;const C=(E=>!!wf.isRtl()&&uo(S7,E))(l)?["tox-icon--flip"]:[],k=cn(d,Gb(l,d)).or(f).getOrThunk(rA(d));return{dom:{tag:s.tag,attributes:(b=s.attributes)!==null&&b!==void 0?b:{},classes:s.classes.concat(C),innerHtml:k},behaviours:an([...(v=s.behaviours)!==null&&v!==void 0?v:[],e_()])}},od=(s,l,d,f=I.none())=>cP(l,s,d(),f),_7={success:"checkmark",error:"warning",err:"error",warning:"warning",warn:"warning",info:"info"},iA=Td({name:"Notification",factory:s=>{const l=Nn("notification-text"),d=Ks({dom:wh(`<p id=${l}>${iP(s.backstageProvider.translate(s.text))}</p>`),behaviours:an([go.config({})])}),f=B=>({dom:{tag:"div",classes:["tox-bar"],styles:{width:`${B}%`}}}),b=B=>({dom:{tag:"div",classes:["tox-text"],innerHtml:`${B}%`}}),v=Ks({dom:{tag:"div",classes:s.progress?["tox-progress-bar","tox-progress-indicator"]:["tox-progress-bar"]},components:[{dom:{tag:"div",classes:["tox-bar-container"]},components:[f(0)]},b(0)],behaviours:an([go.config({})])}),C={updateProgress:(B,W)=>{B.getSystem().isConnected()&&v.getOpt(B).each(J=>{go.set(J,[{dom:{tag:"div",classes:["tox-bar-container"]},components:[f(W)]},b(W)])})},updateText:(B,W)=>{if(B.getSystem().isConnected()){const J=d.get(B);go.set(J,[ui(W)])}}},k=nn([s.icon.toArray(),s.level.toArray(),s.level.bind(B=>I.from(_7[B])).toArray()]),E=Ks(Fl.sketch({dom:{tag:"button",classes:["tox-notification__dismiss","tox-button","tox-button--naked","tox-button--icon"],attributes:{"aria-label":s.backstageProvider.translate("Close")}},components:[od("close",{tag:"span",classes:["tox-icon"]},s.iconProvider)],buttonBehaviours:an([mr.config({}),Ii.config({...s.backstageProvider.tooltips.getConfig({tooltipText:s.backstageProvider.translate("Close")})})]),action:B=>{s.onAction(B)}})),N=((B,W,J)=>{const se=J(),pe=te(B,ye=>uo(se,Gb(ye,se)));return cP({tag:"div",classes:["tox-notification__icon"]},pe.getOr(aP),se,I.none())})(k,0,s.iconProvider),$=[N,{dom:{tag:"div",classes:["tox-notification__body"]},components:[d.asSpec()],behaviours:an([go.config({})])}];return{uid:s.uid,dom:{tag:"div",attributes:{role:"alert","aria-labelledby":l},classes:s.level.map(B=>["tox-notification","tox-notification--in",`tox-notification--${B}`]).getOr(["tox-notification","tox-notification--in"])},behaviours:an([mr.config({}),Eo.config({}),eo.config({mode:"special",onEscape:B=>(s.onAction(B),I.some(!0))})]),components:$.concat(s.progress?[v.asSpec()]:[]).concat([E.asSpec()]),apis:C}},configFields:[ds("level"),Ht("progress"),ds("icon"),Ht("onAction"),Ht("text"),Ht("iconProvider"),Ht("backstageProvider")],apis:{updateProgress:(s,l,d)=>{s.updateProgress(l,d)},updateText:(s,l,d)=>{s.updateText(l,d)}}});var uP=(s,l,d,f)=>{const b=l.backstage.shared,v=()=>Sn(s.queryCommandValue("ToggleView")===""?s.getContentAreaContainer():s.getContainer()),C=()=>{const E=ai(v());return I.some(E)},k=E=>{C().each(N=>{bt(E,$=>{zs($.element,"width"),Wi($.element)>N.width&&_o($.element,"width",N.width+"px")})})};return{open:(E,N,$)=>{const B=()=>{f.on(se=>{N();const pe=$();(ye=>{go.remove(ye,W),J()})(se),((ye,De)=>{Vs(ye.element).length===0?((ve,be)=>{zr.hide(ve),f.clear(),be&&s.focus()})(ye,De):((ve,be)=>{be&&eo.focusIn(ve)})(ye,De)})(se,pe)})},W=Ma(iA.sketch({text:E.text,level:ft(["success","error","warning","warn","info"],E.type)?E.type:void 0,progress:E.progressBar===!0,icon:E.icon,onAction:B,iconProvider:b.providers.icons,backstageProvider:b.providers}));if(f.isSet()){const se=ql(W);f.on(pe=>{go.append(pe,se),zr.reposition(pe),Mr.refresh(pe),k(pe.components())})}else{const se=Ma(zr.sketch({dom:{tag:"div",classes:["tox-notifications-container"],attributes:{"aria-label":"Notifications",role:"region"}},lazySink:b.getSink,fireDismissalEventInstead:{},...b.header.isPositionedAtTop()?{}:{fireRepositionEventInstead:{}},inlineBehaviours:an([eo.config({mode:"cyclic",selector:".tox-notification, .tox-notification a, .tox-notification button"}),go.config({}),...Bp(s)&&!b.header.isPositionedAtTop()?[]:[Mr.config({contextual:{lazyContext:()=>I.some(ai(v())),fadeInClass:"tox-notification-container-dock-fadein",fadeOutClass:"tox-notification-container-dock-fadeout",transitionClass:"tox-notification-container-dock-transition"},modes:["top"],lazyViewport:ve=>Kb(s,ve.element).map(be=>({bounds:jb(be),optScrollEnv:I.some({currentScrollTop:be.element.dom.scrollTop,scrollElmTop:Dl(be.element).top})})).getOrThunk(()=>({bounds:Ni(),optScrollEnv:I.none()}))})]])})),pe=ql(W),ye={maxHeightFunction:Ap()},De={...b.anchors.banner(),overrides:ye};f.set(se),d.add(se),zr.showWithinBounds(se,pe,{anchor:De},C)}Q(E.timeout)&&E.timeout>0&&MS.setEditorTimeout(s,()=>{B()},E.timeout);const J=()=>{f.on(se=>{zr.reposition(se),Mr.refresh(se),k(se.components())})};return{close:B,reposition:J,text:se=>{iA.updateText(W,se)},settings:E,getEl:()=>W.element.dom,progressBar:{value:se=>{iA.updateProgress(W,se)}}}},close:E=>{E.close()},getArgs:E=>E.settings}},h2;(function(s){s[s.CLOSE_ON_EXECUTE=0]="CLOSE_ON_EXECUTE",s[s.BUBBLE_TO_SANDBOX=1]="BUBBLE_TO_SANDBOX"})(h2||(h2={}));var yg=h2;const t_="tox-menu-nav__js",n_="tox-collection__item",dP="tox-swatch",fP={normal:t_,color:dP},mP="tox-collection__item--enabled",gP="tox-collection__item-icon",p2="tox-collection__item-label",aA="tox-collection__item-caret",Sh="tox-collection__item--active",b2="tox-collection__item-container",v2="tox-collection__item-container--row",qb=s=>cn(fP,s).getOr(t_),MK=s=>s==="color"?"tox-swatches":"tox-menu",lA=s=>({backgroundMenu:"tox-background-menu",selectedMenu:"tox-selected-menu",selectedItem:"tox-collection__item--active",hasIcons:"tox-menu--has-icons",menu:MK(s),tieredMenu:"tox-tiered-menu"}),H0=s=>{const l=lA(s);return{backgroundMenu:l.backgroundMenu,selectedMenu:l.selectedMenu,menu:l.menu,selectedItem:l.selectedItem,item:qb(s)}},hP=(s,l,d)=>{const f=lA(d);return{tag:"div",classes:nn([[f.menu,`tox-menu-${l}-column`],s?[f.hasIcons]:[]])}},pP=[L0.parts.items({})],o_=(s,l,d)=>{const f=lA(d);return{dom:{tag:"div",classes:nn([[f.tieredMenu]])},markers:H0(d)}},k7=q([ds("data"),vt("inputAttributes",{}),vt("inputStyles",{}),vt("tag","input"),vt("inputClasses",[]),_s("onSetValue"),vt("styles",{}),vt("eventOrder",{}),Mn("inputBehaviours",[St,Eo]),vt("selectOnFocus",!0)]),E7=s=>an([Eo.config({onFocus:s.selectOnFocus?l=>{const d=l.element,f=eg(d);d.dom.setSelectionRange(0,f.length)}:U})]),T7=s=>({...E7(s),...zo(s.inputBehaviours,[St.config({store:{mode:"manual",...s.data.map(l=>({initialValue:l})).getOr({}),getValue:l=>eg(l.element),setValue:(l,d)=>{eg(l.element)!==d&&sh(l.element,d)}},onSetValue:s.onSetValue})])}),bP=s=>({tag:s.tag,attributes:{type:"text",...s.inputAttributes},styles:s.inputStyles,classes:s.inputClasses}),$p=Td({name:"Input",configFields:k7(),factory:(s,l)=>({uid:s.uid,dom:bP(s),components:[],behaviours:T7(s),eventOrder:s.eventOrder})}),vP=Nn("refetch-trigger-event"),yP=Nn("redirect-menu-item-interaction"),xP="tox-menu__searcher",y2=s=>Lr(s.element,`.${xP}`).bind(l=>s.getSystem().getByDom(l).toOptional()),wP=y2,CP=s=>({fetchPattern:St.getValue(s),selectionStart:s.element.dom.selectionStart,selectionEnd:s.element.dom.selectionEnd}),SP=s=>{const l=(b,v)=>(v.cut(),I.none()),d=(b,v)=>{const C={interactionEvent:v.event,eventType:v.event.raw.type};return Xn(b,yP,C),I.some(!0)},f="searcher-events";return{dom:{tag:"div",classes:[n_]},components:[$p.sketch({inputClasses:[xP,"tox-textfield"],inputAttributes:{...s.placeholder.map(b=>({placeholder:s.i18n(b)})).getOr({}),type:"search","aria-autocomplete":"list"},inputBehaviours:an([jo(f,[Lt(rf(),b=>{Wo(b,vP)}),Lt(Pr(),(b,v)=>{v.event.raw.key==="Escape"&&v.stop()})]),eo.config({mode:"special",onLeft:l,onRight:l,onSpace:l,onEnter:d,onEscape:d,onUp:d,onDown:d})]),eventOrder:{keydown:[f,eo.name()]}})]}},x2="tox-collection--results__js",_P=s=>{var l;return s.dom?{...s,dom:{...s.dom,attributes:{...(l=s.dom.attributes)!==null&&l!==void 0?l:{},id:Nn("aria-item-search-result-id"),"aria-selected":"false"}}}:s},s_=(s,l)=>d=>{const f=rt(d,l);return Ve(f,b=>({dom:s,components:b}))},kP=(s,l)=>{const d=[];let f=[];return bt(s,(b,v)=>{l(b,v)?(f.length>0&&d.push(f),f=[],(uo(b.dom,"innerHtml")||b.components&&b.components.length>0)&&f.push(b)):f.push(b)}),f.length>0&&d.push(f),Ve(d,b=>({dom:{tag:"div",classes:["tox-collection__group"]},components:b}))},w2=(s,l,d)=>L0.parts.items({preprocess:f=>{const b=Ve(f,d);return s!=="auto"&&s>1?s_({tag:"div",classes:["tox-collection__group"]},s)(b):kP(b,(v,C)=>l[C].type==="separator")}}),cA=(s,l,d=!0)=>({dom:{tag:"div",classes:["tox-menu","tox-collection"].concat(s===1?["tox-collection--list"]:["tox-collection--grid"])},components:[w2(s,l,he)]}),C2=s=>Rn(s,l=>"icon"in l&&l.icon!==void 0),_h=s=>(console.error(Ga(s)),console.log(s),I.none()),A7=(s,l,d,f,b)=>{const v=(C=d,{dom:{tag:"div",classes:["tox-collection","tox-collection--horizontal"]},components:[L0.parts.items({preprocess:k=>kP(k,(E,N)=>C[N].type==="separator")})]});var C;return{value:s,dom:v.dom,components:v.components,items:d}},uA=(s,l,d,f,b)=>{if(b.menuType==="color"){const v=(C=>({dom:{tag:"div",classes:["tox-menu","tox-swatches-menu"]},components:[{dom:{tag:"div",classes:["tox-swatches"]},components:[L0.parts.items({preprocess:C!=="auto"?s_({tag:"div",classes:["tox-swatches__row"]},C):he})]}]}))(f);return{value:s,dom:v.dom,components:v.components,items:d}}if(b.menuType==="normal"&&f==="auto"){const v=cA(f,d);return{value:s,dom:v.dom,components:v.components,items:d}}if(b.menuType==="normal"||b.menuType==="searchable"){const v=b.menuType!=="searchable"?cA(f,d):b.searchMode.searchMode==="search-with-field"?((C,k,E)=>{const N=Nn("aria-controls-search-results");return{dom:{tag:"div",classes:["tox-menu","tox-collection"].concat(C===1?["tox-collection--list"]:["tox-collection--grid"])},components:[SP({i18n:wf.translate,placeholder:E.placeholder}),{dom:{tag:"div",classes:[...C===1?["tox-collection--list"]:["tox-collection--grid"],x2],attributes:{id:N}},components:[w2(C,k,_P)]}]}})(f,d,b.searchMode):((C,k,E=!0)=>{const N=Nn("aria-controls-search-results");return{dom:{tag:"div",classes:["tox-menu","tox-collection",x2].concat(C===1?["tox-collection--list"]:["tox-collection--grid"]),attributes:{id:N}},components:[w2(C,k,_P)]}})(f,d);return{value:s,dom:v.dom,components:v.components,items:d}}if(b.menuType==="listpreview"&&f!=="auto"){const v=(C=>({dom:{tag:"div",classes:["tox-menu","tox-collection","tox-collection--toolbar","tox-collection--toolbar-lg"]},components:[L0.parts.items({preprocess:s_({tag:"div",classes:["tox-collection__group"]},C)})]}))(f);return{value:s,dom:v.dom,components:v.components,items:d}}return{value:s,dom:hP(l,f,b.menuType),components:pP,items:d}},qi=Sr("type"),dA=Sr("name"),fA=Sr("label"),Cf=Sr("text"),mA=Sr("title"),gA=Sr("icon"),U0=Sr("value"),O7=qa("fetch"),EP=qa("getSubmenuItems"),Uy=qa("onAction"),TP=qa("onItemAction"),Yb=ir("onSetup",()=>U),R7=Zr("name"),Xb=Zr("text"),I7=Zr("role"),Sf=Zr("icon"),S2=Zr("tooltip"),hA=Zr("label"),Wy=Zr("shortcut"),pA=$c("select"),r_=li("active",!1),LK=li("borderless",!1),_f=li("enabled",!0),i_=li("primary",!1),AP=s=>vt("columns",s),sd=vt("meta",{}),bA=ir("onAction",U),W0=s=>ac("type",s),vA=s=>pi("name","name",Km(()=>Nn(`${s}-name`)),Li),OP=oo([qi,Xb]),D7=oo([W0("autocompleteitem"),r_,_f,sd,U0,Xb,Sf]),kh=[_f,S2,Sf,Xb,Yb],yA=oo([qi,Uy,Wy].concat(kh)),RP=s=>Ir("toolbarbutton",yA,s),_2=[r_].concat(kh),a_=oo(_2.concat([qi,Uy,Wy])),l_=s=>Ir("ToggleButton",a_,s),IP=[ir("predicate",Ce),Vc("scope","node",["node","editor"]),Vc("position","selection",["node","selection","line"])],P7=kh.concat([W0("contextformbutton"),i_,Uy,ji("original",he)]),N7=_2.concat([W0("contextformbutton"),i_,Uy,ji("original",he)]),M7=kh.concat([W0("contextformbutton")]),L7=_2.concat([W0("contextformtogglebutton")]),B7=Ti("type",{contextformbutton:P7,contextformtogglebutton:N7}),F7=oo([W0("contextform"),ir("initValue",q("")),hA,Ya("commands",B7),$r("launch",Ti("type",{contextformbutton:M7,contextformtogglebutton:L7}))].concat(IP)),DP=oo([W0("contexttoolbar"),Sr("items")].concat(IP)),c_=[qi,Sr("src"),Zr("alt"),Hs("classes",[],Li)],$7=oo(c_),V7=[qi,Cf,R7,Hs("classes",["tox-collection__item-label"],Li)],z7=oo(V7),PP=jm(()=>Vu("type",{cardimage:$7,cardtext:z7,cardcontainer:Ky})),Ky=oo([qi,ac("direction","horizontal"),ac("align","left"),ac("valign","middle"),Ya("items",PP)]),K0=[_f,Xb,I7,Wy,pi("value","value",Km(()=>Nn("menuitem-value")),Zl()),sd],H7=oo([qi,hA,Ya("items",PP),Yb,bA].concat(K0)),xA=oo([qi,r_,Sf].concat(K0)),NP=[qi,Sr("fancytype"),bA],MP=[vt("initData",{})].concat(NP),LP=[$c("select"),ga("initData",{},[li("allowCustomColors",!0),ac("storageKey","default"),ip("colors",Zl())])].concat(NP),BP=Ti("fancytype",{inserttable:MP,colorswatch:LP}),FP=oo([qi,Yb,bA,Sf].concat(K0)),$P=oo([qi,EP,Yb,Sf].concat(K0)),U7=oo([qi,Sf,r_,Yb,Uy].concat(K0)),wA=(s,l,d)=>{const f=na(s.element,"."+d);if(f.length>0){const b=vo(f,v=>{const C=v.dom.getBoundingClientRect().top,k=f[0].dom.getBoundingClientRect().top;return Math.abs(C-k)>l}).getOr(f.length);return I.some({numColumns:b,numRows:Math.ceil(f.length/b)})}return I.none()},k2=s=>((l,d)=>an([jo(l,d)]))(Nn("unnamed-events"),s),u_="silver.readonly",W7=oo([Bi("readonly",Sc)]),j0=(s,l)=>{const d=s.mainUi.outerContainer.element,f=[s.mainUi.mothership,...s.uiMotherships];l&&bt(f,b=>{b.broadcastOn([F()],{target:d})}),bt(f,b=>{b.broadcastOn([u_],{readonly:l})})},VP=(s,l)=>{s.on("init",()=>{s.mode.isReadOnly()&&j0(l,!0)}),s.on("SwitchMode",()=>j0(l,s.mode.isReadOnly())),UT(s)&&s.mode.set("readonly")},ba=()=>fc.config({channels:{[u_]:{schema:W7,onReceive:(s,l)=>{Oo.set(s,l.readonly)}}}}),Cl=s=>Oo.config({disabled:s}),zP=s=>Oo.config({disabled:s,disableClass:"tox-tbtn--disabled"}),d_=s=>Oo.config({disabled:s,disableClass:"tox-tbtn--disabled",useNative:!1}),E2=(s,l)=>{const d=s.getApi(l);return f=>{f(d)}},Jb=(s,l)=>hr(d=>{E2(s,d)(f=>{const b=s.onSetup(f);Z(b)&&l.set(b)})}),Vp=(s,l)=>Ku(d=>E2(s,d)(l.get())),HP=(s,l)=>gu((d,f)=>{E2(s,d)(s.onAction),s.triggersSubmenu||l!==yg.CLOSE_ON_EXECUTE||(d.getSystem().isConnected()&&Wo(d,up()),f.stop())}),K7={[vl()]:["disabling","alloy.base.behaviour","toggling","item-events"]},jy=ul,Zy=(s,l,d,f)=>{const b=Wn(U);return{type:"item",dom:l.dom,components:jy(l.optComponents),data:s.data,eventOrder:K7,hasSubmenu:s.triggersSubmenu,itemBehaviours:an([jo("item-events",[HP(s,d),Jb(s,b),Vp(s,b)]),(v=()=>!s.enabled||f.isDisabled(),Oo.config({disabled:v,disableClass:"tox-collection__item--state-disabled"})),ba(),go.config({})].concat(s.itemBehaviours))};var v},Gy=s=>({value:s.value,meta:{text:s.text.getOr(""),...s.meta}}),f_=s=>{const l=pg.os.isMacOS()||pg.os.isiOS(),d=l?{alt:"",ctrl:"",shift:"",meta:"",access:""}:{meta:"Ctrl",access:"Shift+Alt"},f=s.split("+"),b=Ve(f,v=>{const C=v.toLowerCase().trim();return uo(d,C)?d[C]:v});return l?b.join(""):b.join("+")},CA=(s,l,d=[gP])=>od(s,{tag:"div",classes:d},l),UP=s=>({dom:{tag:"div",classes:[p2]},components:[ui(wf.translate(s))]}),SA=(s,l)=>({dom:{tag:"div",classes:l,innerHtml:s}}),WP=(s,l)=>({dom:{tag:"div",classes:[p2]},components:[{dom:{tag:s.tag,styles:s.styles},components:[ui(wf.translate(l))]}]}),KP=s=>({dom:{tag:"div",classes:["tox-collection__item-accessory"]},components:[ui(f_(s))]}),jP=s=>CA("checkmark",s,["tox-collection__item-checkmark"]),ZP=s=>{const l=s.map(d=>({attributes:{id:Nn("menu-item"),"aria-label":wf.translate(d)}})).getOr({});return{tag:"div",classes:[t_,n_],...l}},T2=(s,l,d,f=I.none())=>s.presets==="color"?((b,v,C)=>{const k=b.value,E=b.iconContent.map($=>((B,W,J)=>{const se=W();return g2(B,se).or(J).getOrThunk(rA(se))})($,v.icons,C)),N=b.ariaLabel.map($=>({"aria-label":v.translate($),"data-mce-name":$})).getOr({});return{dom:(()=>{const $=dP,B=E.getOr(""),W={tag:"div",attributes:N,classes:[$]};return k==="custom"?{...W,tag:"button",classes:[...W.classes,"tox-swatches__picker-btn"],innerHtml:B}:k==="remove"?{...W,classes:[...W.classes,"tox-swatch--remove"],innerHtml:B}:K(k)?{...W,attributes:{...W.attributes,"data-mce-color":k},styles:{"background-color":k},innerHtml:B}:W})(),optComponents:[]}})(s,l,f):((b,v,C,k)=>{const E={tag:"div",classes:[gP]},N=C?b.iconContent.map(J=>od(J,E,v.icons,k)).orThunk(()=>I.some({dom:E})):I.none(),$=b.checkMark,B=I.from(b.meta).fold(()=>UP,J=>uo(J,"style")?_e(WP,J.style):UP),W=b.htmlContent.fold(()=>b.textContent.map(B),J=>I.some(SA(J,[p2])));return{dom:ZP(b.ariaLabel),optComponents:[N,W,b.shortcutContent.map(KP),$,b.caret]}})(s,l,d,f),GP=(s,l,d)=>cn(s,"tooltipWorker").map(f=>[Ii.config({lazySink:l.getSink,tooltipDom:{tag:"div",classes:["tox-tooltip-worker-container"]},tooltipComponents:[],anchor:b=>({type:"submenu",item:b,overrides:{maxHeightFunction:Ap}}),mode:"follow-highlight",onShow:(b,v)=>{f(C=>{Ii.setComponents(b,[tg({element:Sn(C)})])})}})]).getOrThunk(()=>d.map(f=>[Ii.config({...l.providers.tooltips.getConfig({tooltipText:f}),mode:"follow-highlight"})]).getOr([])),_A=(s,l)=>{const d=(f=>By.DOM.encode(f))(wf.translate(s));if(l.length>0){const f=new RegExp((b=>b.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"))(l),"gi");return d.replace(f,b=>`<span class="tox-autocompleter-highlight">${b}</span>`)}return d},kA=(s,l)=>Ve(s,d=>{switch(d.type){case"cardcontainer":return((v,C)=>{const k=v.direction==="vertical"?"tox-collection__item-container--column":v2,E=v.align==="left"?"tox-collection__item-container--align-left":"tox-collection__item-container--align-right";return{dom:{tag:"div",classes:[b2,k,E,(()=>{switch(v.valign){case"top":return"tox-collection__item-container--valign-top";case"middle":return"tox-collection__item-container--valign-middle";case"bottom":return"tox-collection__item-container--valign-bottom"}})()]},components:C}})(d,kA(d.items,l));case"cardimage":return((v,C,k)=>({dom:{tag:"img",classes:C,attributes:{src:v,alt:k.getOr("")}}}))(d.src,d.classes,d.alt);case"cardtext":const f=d.name.exists(v=>ft(l.cardText.highlightOn,v)),b=f?I.from(l.cardText.matchText).getOr(""):"";return SA(_A(d.text,b),d.classes)}}),zp=Jl(VT(),zT()),EA=s=>({value:Z0(s)}),TA=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,AA=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,qP=s=>TA.test(s)||AA.test(s),Z0=s=>js(s,"#").toUpperCase(),OA=s=>{const l=s.toString(16);return(l.length===1?"0"+l:l).toUpperCase()},A2=s=>{const l=OA(s.red)+OA(s.green)+OA(s.blue);return EA(l)},RA=Math.min,YP=Math.max,m_=Math.round,j7=/^\s*rgb\s*\(\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*(\d+)\s*\)\s*$/i,XP=/^\s*rgba\s*\(\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*((?:\d?\.\d+|\d+)%?)\s*\)\s*$/i,Hp=(s,l,d,f)=>({red:s,green:l,blue:d,alpha:f}),O2=s=>{const l=parseInt(s,10);return l.toString()===s&&l>=0&&l<=255},JP=s=>{let l,d,f;const b=(s.hue||0)%360;let v=s.saturation/100,C=s.value/100;if(v=YP(0,RA(v,1)),C=YP(0,RA(C,1)),v===0)return l=d=f=m_(255*C),Hp(l,d,f,1);const k=b/60,E=C*v,N=E*(1-Math.abs(k%2-1)),$=C-E;switch(Math.floor(k)){case 0:l=E,d=N,f=0;break;case 1:l=N,d=E,f=0;break;case 2:l=0,d=E,f=N;break;case 3:l=0,d=N,f=E;break;case 4:l=N,d=0,f=E;break;case 5:l=E,d=0,f=N;break;default:l=d=f=0}return l=m_(255*(l+$)),d=m_(255*(d+$)),f=m_(255*(f+$)),Hp(l,d,f,1)},Sm=s=>{const l=(v=>{const C=(E=>({value:E.value.replace(TA,($,B,W,J)=>B+B+W+W+J+J)}))(v),k=AA.exec(C.value);return k===null?["FFFFFF","FF","FF","FF"]:k})(s),d=parseInt(l[1],16),f=parseInt(l[2],16),b=parseInt(l[3],16);return Hp(d,f,b,1)},IA=(s,l,d,f)=>{const b=parseInt(s,10),v=parseInt(l,10),C=parseInt(d,10),k=parseFloat(f);return Hp(b,v,C,k)},g_=s=>{const l=j7.exec(s);if(l!==null)return I.some(IA(l[1],l[2],l[3],"1"));const d=XP.exec(s);return d!==null?I.some(IA(d[1],d[2],d[3],d[4])):I.none()},QP=s=>`rgba(${s.red},${s.green},${s.blue},${s.alpha})`,eN=Hp(255,0,0,1),G0=(s,l)=>{s.dispatch("ResizeContent",l)},qy=(s,l)=>{s.dispatch("TextColorChange",l)},tN=(s,l)=>s.dispatch("ResolveName",{name:l.nodeName.toLowerCase(),target:l}),Yy=(s,l)=>()=>{s(),l()},va=s=>q0(s,"NodeChange",l=>{l.setEnabled(s.selection.isEditable())}),xg=(s,l)=>d=>{const f=va(s)(d),b=((v,C)=>k=>{const E=Mc(),N=()=>{k.setActive(v.formatter.match(C));const $=v.formatter.formatChanged(C,k.setActive);E.set($)};return v.initialized?N():v.once("init",N),()=>{v.off("init",N),E.clear()}})(s,l)(d);return()=>{f(),b()}},q0=(s,l,d)=>f=>{const b=()=>d(f),v=()=>{d(f),s.on(l,b)};return s.initialized?v():s.once("init",v),()=>{s.off("init",v),s.off(l,b)}},nN=s=>l=>()=>{s.undoManager.transact(()=>{s.focus(),s.execCommand("mceToggleFormat",!1,l.format)})},yu=(s,l)=>()=>s.execCommand(l);var rd=tinymce.util.Tools.resolve("tinymce.util.LocalStorage");const h_={},oN=s=>cn(h_,s).getOrThunk(()=>{const l=`tinymce-custom-colors-${s}`,d=rd.getItem(l);if(H(d)){const b=rd.getItem("tinymce-custom-colors");rd.setItem(l,K(b)?b:"[]")}const f=((b,v=10)=>{const C=rd.getItem(b),k=h(C)?JSON.parse(C):[],E=v-(N=k).length<0?N.slice(0,v):N;var N;const $=B=>{E.splice(B,1)};return{add:B=>{((W,J)=>{const se=en(W,J);return se===-1?I.none():I.some(se)})(E,B).each($),E.unshift(B),E.length>v&&E.pop(),rd.setItem(b,JSON.stringify(E))},state:()=>E.slice(0)}})(l,10);return h_[s]=f,f}),DA=(s,l)=>{oN(s).add(l)},Xy=(s,l,d)=>({hue:s,saturation:l,value:d}),p_=s=>{let l=0,d=0,f=0;const b=s.red/255,v=s.green/255,C=s.blue/255,k=Math.min(b,Math.min(v,C)),E=Math.max(b,Math.max(v,C));return k===E?(f=k,Xy(0,0,100*f)):(l=b===k?3:C===k?1:5,l=60*(l-(b===k?v-C:C===k?b-v:C-b)/(E-k)),d=(E-k)/E,f=E,Xy(Math.round(l),Math.round(100*d),Math.round(100*f)))},b_=s=>A2(JP(s)),sN=s=>{return(l=s,qP(l)?I.some({value:Z0(l)}):I.none()).orThunk(()=>g_(s).map(A2)).getOrThunk(()=>{const d=document.createElement("canvas");d.height=1,d.width=1;const f=d.getContext("2d");f.clearRect(0,0,d.width,d.height),f.fillStyle="#FFFFFF",f.fillStyle=s,f.fillRect(0,0,1,1);const b=f.getImageData(0,0,1,1).data,v=b[0],C=b[1],k=b[2],E=b[3];return A2(Hp(v,C,k,E))});var l},PA="forecolor",NA="hilitecolor",Z7=s=>{const l=[];for(let d=0;d<s.length;d+=2)l.push({text:s[d+1],value:"#"+sN(s[d]).value,icon:"checkmark",type:"choiceitem"});return l},kf=s=>l=>l.options.get(s),R2="#000000",Y0=(s,l)=>l===PA&&s.options.isSet("color_map_foreground")?kf("color_map_foreground")(s):l===NA&&s.options.isSet("color_map_background")?kf("color_map_background")(s):kf("color_map")(s),v_=(s,l="default")=>Math.max(5,Math.ceil(Math.sqrt(Y0(s,l).length))),rN=(s,l)=>{const d=kf("color_cols")(s),f=v_(s,l);return d===v_(s)?f:d},MA=(s,l="default")=>Math.round(l===PA?kf("color_cols_foreground")(s):l===NA?kf("color_cols_background")(s):kf("color_cols")(s)),LA=kf("custom_colors"),iN=kf("color_default_foreground"),aN=kf("color_default_background"),lN=(s,l)=>{const d=Sn(s.selection.getStart()),f=l==="hilitecolor"?om(d,b=>{if(dr(b)){const v=Or(b,"background-color");return Go(g_(v).exists(C=>C.alpha!==0),v)}return I.none()}).getOr("rgba(0, 0, 0, 0)"):Or(d,"color");return g_(f).map(b=>"#"+A2(b).value)},y_=s=>{const l="choiceitem",d={type:l,text:"Remove color",icon:"color-swatch-remove-color",value:"remove"};return s?[d,{type:l,text:"Custom color",icon:"color-picker",value:"custom"}]:[d]},BA=(s,l,d,f)=>{d==="custom"?dN(s)(b=>{b.each(v=>{DA(l,v),s.execCommand("mceApplyTextcolor",l,v),f(v)})},lN(s,l).getOr(R2)):d==="remove"?(f(""),s.execCommand("mceRemoveTextcolor",l)):(f(d),s.execCommand("mceApplyTextcolor",l,d))},FA=(s,l,d)=>s.concat((f=>Ve(oN(f).state(),b=>({type:"choiceitem",text:b,icon:"checkmark",value:b})))(l).concat(y_(d))),cN=(s,l,d)=>f=>{f(FA(s,l,d))},$A=(s,l,d)=>{const f=l==="forecolor"?"tox-icon-text-color__color":"tox-icon-highlight-bg-color__color";s.setIconFill(f,d)},VA=(s,l)=>{s.setTooltip(l)},uN=(s,l)=>d=>{const f=lN(s,l);return mi(f,d.toUpperCase())},zA=(s,l,d)=>{if(Dc(d))return l==="forecolor"?"Text color":"Background color";const f=l==="forecolor"?"Text color {0}":"Background color {0}",b=FA(Y0(s,l),l,!1),v=te(b,C=>C.value===d).getOr({text:""}).text;return s.translate([f,s.translate(v)])},HA=(s,l,d,f)=>{s.ui.registry.addSplitButton(l,{tooltip:zA(s,d,f.get()),presets:"color",icon:l==="forecolor"?"text-color":"highlight-bg-color",select:uN(s,d),columns:MA(s,d),fetch:cN(Y0(s,d),d,LA(s)),onAction:b=>{BA(s,d,f.get(),U)},onItemAction:(b,v)=>{BA(s,d,v,C=>{f.set(C),qy(s,{name:l,color:C})})},onSetup:b=>{$A(b,l,f.get());const v=C=>{C.name===l&&($A(b,C.name,C.color),VA(b,zA(s,d,C.color)))};return s.on("TextColorChange",v),Yy(va(s)(b),()=>{s.off("TextColorChange",v)})}})},Jy=(s,l,d,f,b)=>{s.ui.registry.addNestedMenuItem(l,{text:f,icon:l==="forecolor"?"text-color":"highlight-bg-color",onSetup:v=>(VA(v,zA(s,d,b.get())),$A(v,l,b.get()),va(s)(v)),getSubmenuItems:()=>[{type:"fancymenuitem",fancytype:"colorswatch",select:uN(s,d),initData:{storageKey:d},onAction:v=>{BA(s,d,v.value,C=>{b.set(C),qy(s,{name:l,color:C})})}}]})},dN=s=>(l,d)=>{let f=!1;const b={colorpicker:d};s.windowManager.open({title:"Color Picker",size:"normal",body:{type:"panel",items:[{type:"colorpicker",name:"colorpicker",label:"Color"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:b,onAction:(v,C)=>{C.name==="hex-valid"&&(f=C.value)},onSubmit:v=>{const C=v.getData().colorpicker;f?(l(I.from(C)),v.close()):s.windowManager.alert(s.translate(["Invalid hex color code: {0}",C]))},onClose:U,onCancel:()=>{l(I.none())}})},X0=(s,l,d,f,b,v,C,k)=>{const E=C2(l),N=UA(l,d,f,b!=="color"?"normal":"color",v,C,k);return uA(s,E,N,f,{menuType:b})},UA=(s,l,d,f,b,v,C)=>ul(Ve(s,k=>{return k.type==="choiceitem"?(E=k,Ir("choicemenuitem",xA,E)).fold(_h,N=>I.some((($,B,W,J,se,pe,ye,De=!0)=>{const ve=T2({presets:W,textContent:B?$.text:I.none(),htmlContent:I.none(),ariaLabel:$.text,iconContent:$.icon,shortcutContent:B?$.shortcut:I.none(),checkMark:B?I.some(jP(ye.icons)):I.none(),caret:I.none(),value:$.value},ye,De),be=$.text.filter(q(!B)).map(Ee=>Ii.config(ye.tooltips.getConfig({tooltipText:ye.translate(Ee)})));return qs(Zy({data:Gy($),enabled:$.enabled,getApi:Ee=>({setActive:Pe=>{yo.set(Ee,Pe)},isActive:()=>yo.isOn(Ee),isEnabled:()=>!Oo.isDisabled(Ee),setEnabled:Pe=>Oo.set(Ee,!Pe)}),onAction:Ee=>J($.value),onSetup:Ee=>(Ee.setActive(se),U),triggersSubmenu:!1,itemBehaviours:[...be.toArray()]},ve,pe,ye),{toggling:{toggleClass:mP,toggleOnExecute:!1,selected:$.active,exclusive:!0}})})(N,d===1,f,l,v(N.value),b,C,C2(s)))):I.none();var E})),I2=(s,l)=>{const d=H0(l);return s===1?{mode:"menu",moveOnTab:!0}:s==="auto"?{mode:"grid",selector:"."+d.item,initSize:{numColumns:1,numRows:1}}:{mode:"matrix",rowSelector:"."+(l==="color"?"tox-swatches__row":"tox-collection__group"),previousSelector:f=>l==="color"?Lr(f.element,"[aria-checked=true]"):I.none()}},WA=Nn("cell-over"),fN=Nn("cell-execute"),G7=(s,l,d)=>{const f=v=>Xn(v,fN,{row:s,col:l}),b=(v,C)=>{C.stop(),f(v)};return Ma({dom:{tag:"div",attributes:{role:"button","aria-label":d}},behaviours:an([jo("insert-table-picker-cell",[Lt(jn(),Eo.focus),Lt(vl(),f),Lt(bi(),b),Lt(lf(),b)]),yo.config({toggleClass:"tox-insert-table-picker__selected",toggleOnExecute:!1}),Eo.config({onFocus:v=>Xn(v,WA,{row:s,col:l})})])})},mN=s=>yn(s,l=>Ve(l,ql)),gN=(s,l)=>ui(`${l}x${s}`),hN={inserttable:(s,l)=>{const d=(C=>(k,E)=>C.shared.providers.translate(["{0} columns, {1} rows",E,k]))(l),f=((C,k,E)=>{const N=[];for(let $=0;$<10;$++){const B=[];for(let W=0;W<10;W++){const J=C($+1,W+1);B.push(G7($,W,J))}N.push(B)}return N})(d),b=gN(0,0),v=Ks({dom:{tag:"span",classes:["tox-insert-table-picker__label"]},components:[b],behaviours:an([go.config({})])});return{type:"widget",data:{value:Nn("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:!0,components:[zp.widget({dom:{tag:"div",classes:["tox-insert-table-picker"]},components:mN(f).concat(v.asSpec()),behaviours:an([jo("insert-table-picker",[hr(C=>{go.set(v.get(C),[b])}),Xm(WA,(C,k,E)=>{const{row:N,col:$}=E.event;((B,W,J,se,pe)=>{for(let ye=0;ye<10;ye++)for(let De=0;De<10;De++)yo.set(B[ye][De],ye<=W&&De<=J)})(f,N,$),go.set(v.get(C),[gN(N+1,$+1)])}),Xm(fN,(C,k,E)=>{const{row:N,col:$}=E.event;Wo(C,up()),s.onAction({numRows:N+1,numColumns:$+1})})]),eo.config({initSize:{numRows:10,numColumns:10},mode:"flatgrid",selector:'[role="button"]'})])})]}},colorswatch:(s,l)=>{const d=((C,k)=>{const E=C.initData.allowCustomColors&&k.colorinput.hasCustomColors();return C.initData.colors.fold(()=>FA(k.colorinput.getColors(C.initData.storageKey),C.initData.storageKey,E),N=>N.concat(y_(E)))})(s,l),f=l.colorinput.getColorCols(s.initData.storageKey),b="color",v={...X0(Nn("menu-value"),d,C=>{s.onAction({value:C})},f,b,yg.CLOSE_ON_EXECUTE,s.select.getOr(Ce),l.shared.providers),markers:H0(b),movement:I2(f,b),showMenuRole:!1};return{type:"widget",data:{value:Nn("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:!0,components:[zp.widget(L0.sketch(v))]}}},pN=s=>({type:"separator",dom:{tag:"div",classes:[n_,"tox-collection__group-heading"]},components:s.text.map(ui).toArray()});var q7=Object.freeze({__proto__:null,getCoupled:(s,l,d,f)=>d.getOrCreate(s,l,f),getExistingCoupled:(s,l,d,f)=>d.getExisting(s,l,f)}),bN=[Bi("others",Zm(ss.value,Zl()))],x_=Object.freeze({__proto__:null,init:()=>{const s={},l=(f,b)=>{if(Qt(f.others).length===0)throw new Error("Cannot find any known coupled components");return cn(s,b)},d=q({});return Ai({readState:d,getExisting:(f,b,v)=>l(b,v).orThunk(()=>(cn(b.others,v).getOrDie("No information found for coupled component: "+v),I.none())),getOrCreate:(f,b,v)=>l(b,v).getOrThunk(()=>{const C=cn(b.others,v).getOrDie("No information found for coupled component: "+v)(f),k=f.getSystem().build(C);return s[v]=k,k})})}});const di=Zi({fields:bN,name:"coupling",apis:q7,state:x_}),D2=s=>{let l=I.none(),d=[];const f=C=>{b()?v(C):d.push(C)},b=()=>l.isSome(),v=C=>{l.each(k=>{setTimeout(()=>{C(k)},0)})};return s(C=>{b()||(l=I.some(C),bt(d,v),d=[])}),{get:f,map:C=>D2(k=>{f(E=>{k(C(E))})}),isReady:b}},Y7={nu:D2,pure:s=>D2(l=>{l(s)})},X7=s=>{setTimeout(()=>{throw s},0)},Qy=s=>{const l=d=>{s().then(d,X7)};return{map:d=>Qy(()=>s().then(d)),bind:d=>Qy(()=>s().then(f=>d(f).toPromise())),anonBind:d=>Qy(()=>s().then(()=>d.toPromise())),toLazy:()=>Y7.nu(l),toCached:()=>{let d=null;return Qy(()=>(d===null&&(d=s()),d))},toPromise:s,get:l}},Qb=s=>Qy(()=>new Promise(s)),Eh=s=>Qy(()=>Promise.resolve(s)),KA=q("sink"),vN=q(Ed({name:KA(),overrides:q({dom:{tag:"div"},behaviours:an([ol.config({useFixed:Te})]),events:To([rm(Pr()),rm(Ut()),rm(bi())])})})),yN=(s,l)=>{const d=s.getHotspot(l).getOr(l),f="hotspot",b=s.getAnchorOverrides();return s.layouts.fold(()=>({type:f,hotspot:d,overrides:b}),v=>({type:f,hotspot:d,overrides:b,layouts:v}))},w_=(s,l,d,f,b,v,C)=>((E,N,$,B,W,J,se)=>{const pe=((De,ve,be)=>(0,De.fetch)(be).map(ve))(E,N,B),ye=xN(B,E);return pe.map(De=>De.bind(ve=>{const be=ve.menus[ve.primary];return I.from(be).each(Ee=>{E.listRole.each(Pe=>{Ee.role=Pe})}),I.from(Mp.sketch({...J.menu(),uid:qu(""),data:ve,highlightOnOpen:se,onOpenMenu:(Ee,Pe)=>{const Le=ye().getOrDie();ol.position(Le,Pe,{anchor:$}),A.decloak(W)},onOpenSubmenu:(Ee,Pe,Le)=>{const et=ye().getOrDie();ol.position(et,Le,{anchor:{type:"submenu",item:Pe}}),A.decloak(W)},onRepositionMenu:(Ee,Pe,Le)=>{const et=ye().getOrDie();ol.position(et,Pe,{anchor:$}),bt(Le,ht=>{ol.position(et,ht.triggeredMenu,{anchor:{type:"submenu",item:ht.triggeringItem}})})},onEscape:()=>(Eo.focus(B),A.close(W),I.some(!0))}))}))})(s,l,yN(s,d),d,f,b,C).map(E=>(E.fold(()=>{A.isOpen(f)&&A.close(f)},N=>{A.cloak(f),A.open(f,N),v(f)}),f)),J7=(s,l,d,f,b,v,C)=>(A.close(f),Eh(f)),jA=(s,l,d,f,b,v)=>{const C=di.getCoupled(d,"sandbox");return(A.isOpen(C)?J7:w_)(s,l,d,C,f,b,v)},xN=(s,l)=>s.getSystem().getByUid(l.uid+"-"+KA()).map(d=>()=>ss.value(d)).getOrThunk(()=>l.lazySink.fold(()=>()=>ss.error(new Error("No internal sink is specified, nor could an external sink be found")),d=>()=>d(s))),ZA=s=>{A.getState(s).each(l=>{Mp.repositionMenus(l)})},GA=(s,l,d)=>{const f=Cp(),b=xN(l,s);return{dom:{tag:"div",classes:s.sandboxClasses,attributes:{id:f.id}},behaviours:bo(s.sandboxBehaviours,[St.config({store:{mode:"memory",initialValue:l}}),A.config({onOpen:(v,C)=>{const k=yN(s,l);f.link(l.element),s.matchWidth&&((E,N,$)=>{const B=Os.getCurrent(N).getOr(N),W=Wi(E.element);$?_o(B.element,"min-width",W+"px"):((J,se)=>{zm.set(J,se)})(B.element,W)})(k.hotspot,C,s.useMinWidth),s.onOpen(k,v,C),d!==void 0&&d.onOpen!==void 0&&d.onOpen(v,C)},onClose:(v,C)=>{f.unlink(l.element),b().getOr(C).element.dom.dispatchEvent(new window.FocusEvent("focusout")),d!==void 0&&d.onClose!==void 0&&d.onClose(v,C)},isPartOf:(v,C,k)=>dc(C,k)||dc(l,k),getAttachPoint:()=>b().getOrDie()}),Os.config({find:v=>A.getState(v).bind(C=>Os.getCurrent(C))}),fc.config({channels:{...me({isExtraPart:Ce}),...je({doReposition:ZA})}})])}},wN=s=>{const l=di.getCoupled(s,"sandbox");ZA(l)},qA=()=>[vt("sandboxClasses",[]),Ao("sandboxBehaviours",[Os,fc,A,St])],Q7=q([Ht("dom"),Ht("fetch"),_s("onOpen"),uc("onExecute"),vt("getHotspot",I.some),vt("getAnchorOverrides",q({})),og(),Mn("dropdownBehaviours",[yo,di,eo,Eo]),Ht("toggleClass"),vt("eventOrder",{}),ds("lazySink"),vt("matchWidth",!1),vt("useMinWidth",!1),ds("role"),ds("listRole")].concat(qA())),e$=q([xm({schema:[bp(),vt("fakeFocus",!1)],name:"menu",defaults:s=>({onExecute:s.onExecute})}),vN()]),hc=kc({name:"Dropdown",configFields:Q7(),partFields:e$(),factory:(s,l,d,f)=>{const b=E=>{A.getState(E).each(N=>{Mp.highlightPrimary(N)})},v=(E,N,$)=>jA(s,he,E,f,N,$),C={expand:E=>{yo.isOn(E)||v(E,U,Ql.HighlightNone).get(U)},open:E=>{yo.isOn(E)||v(E,U,Ql.HighlightMenuAndItem).get(U)},refetch:E=>di.getExistingCoupled(E,"sandbox").fold(()=>v(E,U,Ql.HighlightMenuAndItem).map(U),N=>w_(s,he,E,N,f,U,Ql.HighlightMenuAndItem).map(U)),isOpen:yo.isOn,close:E=>{yo.isOn(E)&&v(E,U,Ql.HighlightMenuAndItem).get(U)},repositionMenus:E=>{yo.isOn(E)&&wN(E)}},k=(E,N)=>(mf(E),I.some(!0));return{uid:s.uid,dom:s.dom,components:l,behaviours:zo(s.dropdownBehaviours,[yo.config({toggleClass:s.toggleClass,aria:{mode:"expanded"}}),di.config({others:{sandbox:E=>GA(s,E,{onOpen:()=>yo.on(E),onClose:()=>yo.off(E)})}}),eo.config({mode:"special",onSpace:k,onEnter:k,onDown:(E,N)=>{if(hc.isOpen(E)){const $=di.getCoupled(E,"sandbox");b($)}else hc.open(E);return I.some(!0)},onEscape:(E,N)=>hc.isOpen(E)?(hc.close(E),I.some(!0)):I.none()}),Eo.config({})]),events:Ly(I.some(E=>{v(E,b,Ql.HighlightMenuAndItem).get(U)})),eventOrder:{...s.eventOrder,[vl()]:["disabling","toggling","alloy.base.behaviour"]},apis:C,domModification:{attributes:{"aria-haspopup":s.listRole.getOr("true"),...s.role.fold(()=>({}),E=>({role:E})),...s.dom.tag==="button"?{type:cn(s.dom,"attributes").bind(E=>cn(E,"type")).getOr("button")}:{}}}}},apis:{open:(s,l)=>s.open(l),refetch:(s,l)=>s.refetch(l),expand:(s,l)=>s.expand(l),close:(s,l)=>s.close(l),isOpen:(s,l)=>s.isOpen(l),repositionMenus:(s,l)=>s.repositionMenus(l)}}),CN=(s,l,d)=>{wP(s).each(f=>{var b;((v,C)=>{gs(C.element,"id").each(k=>xn(v.element,"aria-activedescendant",k))})(f,d),(es((b=l).element,x2)?I.some(b.element):Lr(b.element,"."+x2)).each(v=>{gs(v,"id").each(C=>xn(f.element,"aria-controls",C))})}),xn(d.element,"aria-selected","true")},t$=(s,l,d)=>{xn(d.element,"aria-selected","false")},J0=s=>di.getExistingCoupled(s,"sandbox").bind(y2).map(CP).map(l=>l.fetchPattern).getOr("");var P2;(function(s){s[s.ContentFocus=0]="ContentFocus",s[s.UiFocus=1]="UiFocus"})(P2||(P2={}));const n$=(s,l,d,f,b)=>{const v=d.shared.providers,C=E=>b?{...E,shortcut:I.none(),icon:E.text.isSome()?I.none():E.icon}:E;switch(s.type){case"menuitem":return(k=s,Ir("menuitem",FP,k)).fold(_h,E=>I.some(((N,$,B,W=!0)=>{const J=T2({presets:"normal",iconContent:N.icon,textContent:N.text,htmlContent:I.none(),ariaLabel:N.text,caret:I.none(),checkMark:I.none(),shortcutContent:N.shortcut},B,W);return Zy({data:Gy(N),getApi:se=>({isEnabled:()=>!Oo.isDisabled(se),setEnabled:pe=>Oo.set(se,!pe)}),enabled:N.enabled,onAction:N.onAction,onSetup:N.onSetup,triggersSubmenu:!1,itemBehaviours:[]},J,$,B)})(C(E),l,v,f)));case"nestedmenuitem":return(E=>Ir("nestedmenuitem",$P,E))(s).fold(_h,E=>I.some(((N,$,B,W=!0,J=!1)=>{const se=J?(pe=B.icons,CA("chevron-down",pe,[aA])):(De=>CA("chevron-right",De,[aA]))(B.icons);var pe;const ye=T2({presets:"normal",iconContent:N.icon,textContent:N.text,htmlContent:I.none(),ariaLabel:N.text,caret:I.some(se),checkMark:I.none(),shortcutContent:N.shortcut},B,W);return Zy({data:Gy(N),getApi:De=>({isEnabled:()=>!Oo.isDisabled(De),setEnabled:ve=>Oo.set(De,!ve),setIconFill:(ve,be)=>{Lr(De.element,`svg path[class="${ve}"], rect[class="${ve}"]`).each(Ee=>{xn(Ee,"fill",be)})},setTooltip:ve=>{const be=B.translate(ve);xn(De.element,"aria-label",be)}}),enabled:N.enabled,onAction:U,onSetup:N.onSetup,triggersSubmenu:!0,itemBehaviours:[]},ye,$,B)})(C(E),l,v,f,b)));case"togglemenuitem":return(E=>Ir("togglemenuitem",U7,E))(s).fold(_h,E=>I.some(((N,$,B,W=!0)=>{const J=T2({iconContent:N.icon,textContent:N.text,htmlContent:I.none(),ariaLabel:N.text,checkMark:I.some(jP(B.icons)),caret:I.none(),shortcutContent:N.shortcut,presets:"normal",meta:N.meta},B,W);return qs(Zy({data:Gy(N),enabled:N.enabled,getApi:se=>({setActive:pe=>{yo.set(se,pe)},isActive:()=>yo.isOn(se),isEnabled:()=>!Oo.isDisabled(se),setEnabled:pe=>Oo.set(se,!pe)}),onAction:N.onAction,onSetup:N.onSetup,triggersSubmenu:!1,itemBehaviours:[]},J,$,B),{toggling:{toggleClass:mP,toggleOnExecute:!1,selected:N.active},role:N.role.getOrUndefined()})})(C(E),l,v,f)));case"separator":return(E=>Ir("separatormenuitem",OP,E))(s).fold(_h,E=>I.some(pN(E)));case"fancymenuitem":return(E=>Ir("fancymenuitem",BP,E))(s).fold(_h,E=>((N,$)=>cn(hN,N.fancytype).map(B=>B(N,$)))(E,d));default:return console.error("Unknown item in general menu",s),I.none()}var k},ev=(s,l,d,f,b,v,C)=>{const k=f===1,E=!k||C2(s);return ul(Ve(s,N=>{switch(N.type){case"separator":return($=N,Ir("Autocompleter.Separator",OP,$)).fold(_h,B=>I.some(pN(B)));case"cardmenuitem":return(B=>Ir("cardmenuitem",H7,B))(N).fold(_h,B=>I.some(((W,J,se,pe)=>{const ye={dom:ZP(W.label),optComponents:[I.some({dom:{tag:"div",classes:[b2,v2]},components:kA(W.items,pe)})]};return Zy({data:Gy({text:I.none(),...W}),enabled:W.enabled,getApi:De=>({isEnabled:()=>!Oo.isDisabled(De),setEnabled:ve=>{Oo.set(De,!ve),bt(na(De.element,"*"),be=>{De.getSystem().getByDom(be).each(Ee=>{Ee.hasConfigured(Oo)&&Oo.set(Ee,!ve)})})}}),onAction:W.onAction,onSetup:W.onSetup,triggersSubmenu:!1,itemBehaviours:I.from(pe.itemBehaviours).getOr([])},ye,J,se.providers)})({...B,onAction:W=>{B.onAction(W),d(B.value,B.meta)}},b,v,{itemBehaviours:GP(B.meta,v,I.none()),cardText:{matchText:l,highlightOn:C}})));default:return(B=>Ir("Autocompleter.Item",D7,B))(N).fold(_h,B=>I.some(((W,J,se,pe,ye,De,ve,be=!0)=>{const Ee=T2({presets:pe,textContent:I.none(),htmlContent:se?W.text.map(Le=>_A(Le,J)):I.none(),ariaLabel:W.text,iconContent:W.icon,shortcutContent:I.none(),checkMark:I.none(),caret:I.none(),value:W.value},ve.providers,be,W.icon),Pe=W.text.filter(Le=>!se&&Le!=="");return Zy({data:Gy(W),enabled:W.enabled,getApi:q({}),onAction:Le=>ye(W.value,W.meta),onSetup:q(U),triggersSubmenu:!1,itemBehaviours:GP(W,ve,Pe)},Ee,De,ve.providers)})(B,l,k,"normal",d,b,v,E)))}var $}))},SN=(s,l,d,f,b,v)=>{const C=C2(l),k=ul(Ve(l,N=>{const $=B=>n$(B,d,f,(W=>b?!uo(W,"text"):C)(B),b);return N.type==="nestedmenuitem"&&N.getSubmenuItems().length<=0?$({...N,enabled:!1}):$(N)})),E=(N=>N.searchMode==="no-search"?{menuType:"normal"}:{menuType:"searchable",searchMode:N})(v);return(b?A7:uA)(s,C,k,1,E)},YA=s=>Mp.singleData(s.value,s),Ef=s=>sg(Sn(s.startContainer),s.startOffset,Sn(s.endContainer),s.endOffset),_N=(s,l)=>{const d=Nn("autocompleter"),f=Wn(!1),b=Wn(!1),v=Ss(),C=Ma(zr.sketch({dom:{tag:"div",classes:["tox-autocompleter"],attributes:{id:d}},components:[],fireDismissalEventInstead:{},inlineBehaviours:an([jo("dismissAutocompleter",[Lt(Ym(),()=>B()),Lt(Wv(),(se,pe)=>{gs(pe.event.target,"id").each(ye=>xn(Sn(s.getBody()),"aria-activedescendant",ye))})])]),lazySink:l.getSink})),k=()=>zr.isOpen(C),E=b.get,N=()=>{if(k()){zr.hide(C),s.dom.remove(d,!1);const se=Sn(s.getBody());gs(se,"aria-owns").filter(pe=>pe===d).each(()=>{Uo(se,"aria-owns"),Uo(se,"aria-activedescendant")})}},$=()=>zr.getContent(C).bind(se=>Re(se.components(),0)),B=()=>s.execCommand("mceAutocompleterClose"),W=se=>{const pe=(ye=>{const De=pn(ye,ve=>I.from(ve.columns)).getOr(1);return yn(ye,ve=>{const be=ve.items;return ev(be,ve.matchText,(Ee,Pe)=>{const Le={hide:()=>B(),reload:et=>{N(),s.execCommand("mceAutocompleterReload",!1,{fetchOptions:et})}};s.execCommand("mceAutocompleterRefreshActiveRange"),v.get().each(et=>{f.set(!0),ve.onAction(Le,et,Ee,Pe),f.set(!1)})},De,yg.BUBBLE_TO_SANDBOX,l,ve.highlightOn)})})(se);pe.length>0?(((ye,De)=>{const ve=pn(ye,be=>I.from(be.columns)).getOr(1);zr.showMenuAt(C,{anchor:{type:"selection",getSelection:()=>v.get().map(Ef),root:Sn(s.getBody())}},((be,Ee,Pe,Le)=>{const et=I2(Ee,Le),ht=H0(Le);return{data:YA({...be,movement:et,menuBehaviours:k2(Ee!=="auto"?[]:[hr((zt,Bt)=>{wA(zt,4,ht.item).each(({numColumns:Pt,numRows:sn})=>{eo.setGridSize(zt,sn,Pt)})})])}),menu:{markers:H0(Le),fakeFocus:Pe===P2.ContentFocus}}})(uA("autocompleter-value",!0,De,ve,{menuType:"normal"}),ve,P2.ContentFocus,"normal")),$().each(Gs.highlightFirst)})(se,pe),xn(Sn(s.getBody()),"aria-owns",d),s.inline||J()):N()},J=()=>{s.dom.get(d)&&s.dom.remove(d,!1);const se=s.getDoc().documentElement,pe=s.selection.getNode(),ye=(De=>hp(De,!0))(C.element);Al(ye,{border:"0",clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:"0",position:"absolute",width:"1px",top:`${pe.offsetTop}px`,left:`${pe.offsetLeft}px`}),s.dom.add(se,ye.dom),Lr(ye,'[role="menu"]').each(De=>{zs(De,"position"),zs(De,"max-height")})};s.on("AutocompleterStart",({lookupData:se})=>{b.set(!0),f.set(!1),W(se)}),s.on("AutocompleterUpdate",({lookupData:se})=>W(se)),s.on("AutocompleterUpdateActiveRange",({range:se})=>v.set(se)),s.on("AutocompleterEnd",()=>{N(),b.set(!1),f.set(!1),v.clear()}),((se,pe)=>{const ye=(ve,be)=>{Xn(ve,Pr(),{raw:be})},De=()=>se.getMenu().bind(Gs.getHighlighted);pe.on("keydown",ve=>{const be=ve.which;se.isActive()&&(se.isMenuOpen()?be===13?(De().each(mf),ve.preventDefault()):be===40?(De().fold(()=>{se.getMenu().each(Gs.highlightFirst)},Ee=>{ye(Ee,ve)}),ve.preventDefault(),ve.stopImmediatePropagation()):be!==37&&be!==38&&be!==39||De().each(Ee=>{ye(Ee,ve),ve.preventDefault(),ve.stopImmediatePropagation()}):be!==13&&be!==38&&be!==40||se.cancelIfNecessary())}),pe.on("NodeChange",()=>{!se.isActive()||se.isProcessingAction()||pe.queryCommandState("mceAutoCompleterInRange")||se.cancelIfNecessary()})})({cancelIfNecessary:B,isMenuOpen:k,isActive:E,isProcessingAction:f.get,getMenu:$},s)},ex=(s,l,d)=>pf(s,l,d).isSome(),XA=(s,l)=>{let d=null;return{cancel:()=>{d!==null&&(clearTimeout(d),d=null)},schedule:(...f)=>{d=setTimeout(()=>{s.apply(null,f),d=null},l)}}},kN=s=>{const l=s.raw;return l.touches===void 0||l.touches.length!==1?I.none():I.some(l.touches[0])},C_=(s,l)=>{const d={stopBackspace:!0,...l},f=(B=>{const W=Ss(),J=Wn(!1),se=XA(ye=>{B.triggerEvent(Jx(),ye),J.set(!0)},400),pe=_c([{key:Y(),value:ye=>(kN(ye).each(De=>{se.cancel();const ve={x:De.clientX,y:De.clientY,target:ye.target};se.schedule(ye),J.set(!1),W.set(ve)}),I.none())},{key:fe(),value:ye=>(se.cancel(),kN(ye).each(De=>{W.on(ve=>{((be,Ee)=>{const Pe=Math.abs(be.clientX-Ee.x),Le=Math.abs(be.clientY-Ee.y);return Pe>5||Le>5})(De,ve)&&W.clear()})}),I.none())},{key:We(),value:ye=>(se.cancel(),W.get().filter(De=>cs(De.target,ye.target)).map(De=>J.get()?(ye.prevent(),!1):B.triggerEvent(lf(),ye)))}]);return{fireIfReady:(ye,De)=>cn(pe,De).bind(ve=>ve(ye))}})(d),b=Ve(["touchstart","touchmove","touchend","touchcancel","gesturestart","mousedown","mouseup","mouseover","mousemove","mouseout","click"].concat(["selectstart","input","contextmenu","change","transitionend","transitioncancel","drag","dragstart","dragend","dragenter","dragleave","dragover","drop","keyup"]),B=>Ll(s,B,W=>{f.fireIfReady(W,B).each(J=>{J&&W.kill()}),d.triggerEvent(B,W)&&W.kill()})),v=Ss(),C=Ll(s,"paste",B=>{f.fireIfReady(B,"paste").each(W=>{W&&B.kill()}),d.triggerEvent("paste",B)&&B.kill(),v.set(setTimeout(()=>{d.triggerEvent(cp(),B)},0))}),k=Ll(s,"keydown",B=>{d.triggerEvent("keydown",B)?B.kill():d.stopBackspace&&(W=>W.raw.which===ZI[0]&&!ft(["input","textarea"],fl(W.target))&&!ex(W.target,'[contenteditable="true"]'))(B)&&B.prevent()}),E=Ll(s,"focusin",B=>{d.triggerEvent("focusin",B)&&B.kill()}),N=Ss(),$=Ll(s,"focusout",B=>{d.triggerEvent("focusout",B)&&B.kill(),N.set(setTimeout(()=>{d.triggerEvent(af(),B)},0))});return{unbind:()=>{bt(b,B=>{B.unbind()}),k.unbind(),E.unbind(),$.unbind(),C.unbind(),v.on(clearTimeout),N.on(clearTimeout)}}},JA=(s,l)=>{const d=cn(s,"target").getOr(l);return Wn(d)},N2=ha([{stopped:[]},{resume:["element"]},{complete:[]}]),EN=(s,l,d,f,b,v)=>{const C=s(l,f),k=((E,N)=>{const $=Wn(!1),B=Wn(!1);return{stop:()=>{$.set(!0)},cut:()=>{B.set(!0)},isStopped:$.get,isCut:B.get,event:E,setSource:N.set,getSource:N.get}})(d,b);return C.fold(()=>(v.logEventNoHandlers(l,f),N2.complete()),E=>{const N=E.descHandler;return cw(N)(k),k.isStopped()?(v.logEventStopped(l,E.element,N.purpose),N2.stopped()):k.isCut()?(v.logEventCut(l,E.element,N.purpose),N2.complete()):Pi(E.element).fold(()=>(v.logNoParent(l,E.element,N.purpose),N2.complete()),$=>(v.logEventResponse(l,E.element,N.purpose),N2.resume($)))})},M2=(s,l,d,f,b,v)=>EN(s,l,d,f,b,v).fold(Te,C=>M2(s,l,d,C,b,v),Ce),S_=(s,l,d,f,b)=>{const v=JA(d,f);return M2(s,l,d,f,v,b)},TN=()=>{const s=(()=>{const f={};return{registerId:(b,v,C)=>{no(C,(k,E)=>{const N=f[E]!==void 0?f[E]:{};N[v]=(($,B)=>({cHandler:_e.apply(void 0,[$.handler].concat(B)),purpose:$.purpose}))(k,b),f[E]=N})},unregisterId:b=>{no(f,(v,C)=>{uo(v,b)&&delete v[b]})},filterByType:b=>cn(f,b).map(v=>ri(v,(C,k)=>((E,N)=>({id:E,descHandler:N}))(k,C))).getOr([]),find:(b,v,C)=>cn(f,v).bind(k=>om(C,E=>((N,$)=>yp($).bind(B=>cn(N,B)).map(B=>((W,J)=>({element:W,descHandler:J}))($,B)))(k,E),b))}})(),l={},d=f=>{yp(f.element).each(b=>{delete l[b],s.unregisterId(b)})};return{find:(f,b,v)=>s.find(f,b,v),filter:f=>s.filterByType(f),register:f=>{const b=(C=>{const k=C.element;return yp(k).getOrThunk(()=>((E,N)=>{const $=Nn(ey+"uid-");return ty(N,$),$})(0,C.element))})(f);$o(l,b)&&((C,k)=>{const E=l[k];if(E!==C)throw new Error('The tagId "'+k+'" is already used by: '+mm(E.element)+`
Cannot use it for: `+mm(C.element)+`
The conflicting element is`+(Cn(E.element)?" ":" not ")+"already in the DOM");d(C)})(f,b);const v=[f];s.registerId(v,b,f.events),l[b]=f},unregister:d,getById:f=>cn(l,f)}},_m=Td({name:"Container",factory:s=>{const{attributes:l,...d}=s.dom;return{uid:s.uid,dom:{tag:"div",attributes:{role:"presentation",...l},...d},components:s.components,behaviours:po(s.containerBehaviours),events:s.events,domModification:s.domModification,eventOrder:s.eventOrder}},configFields:[vt("components",[]),Mn("containerBehaviours",[]),vt("events",{}),vt("domModification",{}),vt("eventOrder",{})]}),__=s=>{const l=ye=>Pi(s.element).fold(Te,De=>cs(ye,De)),d=TN(),f=(ye,De)=>d.find(l,ye,De),b=C_(s.element,{triggerEvent:(ye,De)=>Qv(ye,De.target,ve=>((be,Ee,Pe,Le)=>S_(be,Ee,Pe,Pe.target,Le))(f,ye,De,ve))}),v={debugInfo:q("real"),triggerEvent:(ye,De,ve)=>{Qv(ye,De,be=>S_(f,ye,ve,De,be))},triggerFocus:(ye,De)=>{yp(ye).fold(()=>{Ml(ye)},ve=>{Qv(Wu(),ye,be=>(((Ee,Pe,Le,et,ht)=>{const zt=JA(Le,et);EN(Ee,Pe,Le,et,zt,ht)})(f,Wu(),{originator:De,kill:U,prevent:U,target:ye},ye,be),!1))})},triggerEscape:(ye,De)=>{v.triggerEvent("keydown",ye.element,De.event)},getByUid:ye=>se(ye),getByDom:ye=>pe(ye),build:Ma,buildOrPatch:ay,addToGui:ye=>{E(ye)},removeFromGui:ye=>{N(ye)},addToWorld:ye=>{C(ye)},removeFromWorld:ye=>{k(ye)},broadcast:ye=>{B(ye)},broadcastOn:(ye,De)=>{W(ye,De)},broadcastEvent:(ye,De)=>{J(ye,De)},isConnected:Te},C=ye=>{ye.connect(v),la(ye.element)||(d.register(ye),bt(ye.components(),C),v.triggerEvent(cf(),ye.element,{target:ye.element}))},k=ye=>{la(ye.element)||(bt(ye.components(),k),d.unregister(ye)),ye.disconnect()},E=ye=>{dg(s,ye)},N=ye=>{Xl(ye)},$=ye=>{const De=d.filter(lc());bt(De,ve=>{const be=ve.descHandler;cw(be)(ye)})},B=ye=>{$({universal:!0,data:ye})},W=(ye,De)=>{$({universal:!1,channels:ye,data:De})},J=(ye,De)=>((ve,be,Ee)=>{const Pe=(Le=>{const et=Wn(!1);return{stop:()=>{et.set(!0)},cut:U,isStopped:et.get,isCut:Ce,event:Le,setSource:Qe("Cannot set source of a broadcasted event"),getSource:Qe("Cannot get source of a broadcasted event")}})(be);return bt(ve,Le=>{const et=Le.descHandler;cw(et)(Pe)}),Pe.isStopped()})(d.filter(ye),De),se=ye=>d.getById(ye).fold(()=>ss.error(new Error('Could not find component with uid: "'+ye+'" in system.')),ss.value),pe=ye=>{const De=yp(ye).getOr("not found");return se(De)};return C(s),{root:s,element:s.element,destroy:()=>{b.unbind(),Ji(s.element)},add:E,remove:N,getByUid:se,getByDom:pe,addToWorld:C,removeFromWorld:k,broadcast:B,broadcastOn:W,broadcastEvent:J}},o$=q([vt("prefix","form-field"),Mn("fieldBehaviours",[Os,St])]),QA=q([Ed({schema:[Ht("dom")],name:"label"}),Ed({factory:{sketch:s=>({uid:s.uid,dom:{tag:"span",styles:{display:"none"},attributes:{"aria-hidden":"true"},innerHtml:s.text}})},schema:[Ht("text")],name:"aria-descriptor"}),gc({factory:{sketch:s=>{const l=((d,f)=>{const b={};return no(d,(v,C)=>{ft(f,C)||(b[C]=v)}),b})(s,["factory"]);return s.factory.sketch(l)}},schema:[Ht("factory")],name:"field"})]),Ys=kc({name:"FormField",configFields:o$(),partFields:QA(),factory:(s,l,d,f)=>{const b=zo(s.fieldBehaviours,[Os.config({find:k=>vr(k,s,"field")}),St.config({store:{mode:"manual",getValue:k=>Os.getCurrent(k).bind(St.getValue),setValue:(k,E)=>{Os.getCurrent(k).each(N=>{St.setValue(N,E)})}}})]),v=To([hr((k,E)=>{const N=DI(k,s,["label","field","aria-descriptor"]);N.field().each($=>{const B=Nn(s.prefix);N.label().each(W=>{xn(W.element,"for",B),xn($.element,"id",B)}),N["aria-descriptor"]().each(W=>{const J=Nn(s.prefix);xn(W.element,"id",J),xn($.element,"aria-describedby",J)})})})]),C={getField:k=>vr(k,s,"field"),getLabel:k=>vr(k,s,"label")};return{uid:s.uid,dom:s.dom,components:l,behaviours:b,events:v,apis:C}},apis:{getField:(s,l)=>s.getField(l),getLabel:(s,l)=>s.getLabel(l)}});var s$=tinymce.util.Tools.resolve("tinymce.html.Entities");const L2=(s,l,d,f)=>{const b=r$(s,l,d,f);return Ys.sketch(b)},r$=(s,l,d,f)=>({dom:k_(d),components:s.toArray().concat([l]),fieldBehaviours:an(f)}),k_=s=>({tag:"div",classes:["tox-form__group"].concat(s)}),tv=(s,l)=>Ys.parts.label({dom:{tag:"label",classes:["tox-label"]},components:[ui(l.translate(s))]}),ec=Nn("form-component-change"),nv=Nn("form-close"),Up=Nn("form-cancel"),wg=Nn("form-action"),B2=Nn("form-submit"),e3=Nn("form-block"),t3=Nn("form-unblock"),AN=Nn("form-tabchange"),E_=Nn("form-resize"),ON=(s,l,d)=>{const f=s.label.map(B=>tv(B,l)),b=l.icons(),v=B=>(W,J)=>{pf(J.event.target,"[data-collection-item-value]").each(se=>{B(W,J,se,ns(se,"data-collection-item-value"))})},C=v((B,W,J,se)=>{W.stop(),l.isDisabled()||Xn(B,wg,{name:s.name,value:se})}),k=[Lt(jn(),v((B,W,J)=>{Ml(J)})),Lt(bi(),C),Lt(lf(),C),Lt(Is(),v((B,W,J)=>{Lr(B.element,"."+Sh).each(se=>{Fo(se,Sh)}),Vn(J,Sh)})),Lt(ei(),v(B=>{Lr(B.element,"."+Sh).each(W=>{Fo(W,Sh),a0(W)})})),gu(v((B,W,J,se)=>{Xn(B,wg,{name:s.name,value:se})}))],E=(B,W)=>Ve(na(B.element,".tox-collection__item"),W),N=Ys.parts.field({dom:{tag:"div",classes:["tox-collection"].concat(s.columns!==1?["tox-collection--grid"]:["tox-collection--list"])},components:[],factory:{sketch:he},behaviours:an([Oo.config({disabled:l.isDisabled,onDisabled:B=>{E(B,W=>{Vn(W,"tox-collection__item--state-disabled"),xn(W,"aria-disabled",!0)})},onEnabled:B=>{E(B,W=>{Fo(W,"tox-collection__item--state-disabled"),Uo(W,"aria-disabled")})}}),ba(),go.config({}),Ii.config({...l.tooltips.getConfig({tooltipText:"",onShow:B=>{Lr(B.element,"."+Sh+"[data-mce-tooltip]").each(W=>{gs(W,"data-mce-tooltip").each(J=>{Ii.setComponents(B,l.tooltips.getComponents({tooltipText:J}))})})}}),mode:"children-keyboard-focus",anchor:B=>({type:"node",node:Lr(B.element,"."+Sh).orThunk(()=>Pu(".tox-collection__item")),root:B.element,layouts:{onLtr:q([vi,Yr,ni,Oi,oi,er]),onRtl:q([vi,Yr,ni,Oi,oi,er])},bubble:pu(0,-2,{})})}),St.config({store:{mode:"memory",initialValue:d.getOr([])},onSetValue:(B,W)=>{((J,se)=>{const pe=Ve(se,ve=>{const be=wf.translate(ve.text),Ee=s.columns===1?`<div class="tox-collection__item-label">${be}</div>`:"",Pe=`<div class="tox-collection__item-icon">${(ht=>{var zt;return(zt=b[ht])!==null&&zt!==void 0?zt:ht})(ve.icon)}</div>`,Le={_:" "," - ":" ","-":" "},et=be.replace(/\_| \- |\-/g,ht=>Le[ht]);return`<div data-mce-tooltip="${et}" class="tox-collection__item${l.isDisabled()?" tox-collection__item--state-disabled":""}" tabindex="-1" data-collection-item-value="${s$.encodeAllRaw(ve.value)}" aria-label="${et}">${Pe}${Ee}</div>`}),ye=s.columns!=="auto"&&s.columns>1?rt(pe,s.columns):[pe],De=Ve(ye,ve=>`<div class="tox-collection__group">${ve.join("")}</div>`);gp(J.element,De.join(""))})(B,W),s.columns==="auto"&&wA(B,5,"tox-collection__item").each(({numRows:J,numColumns:se})=>{eo.setGridSize(B,J,se)}),Wo(B,E_)}}),mr.config({}),eo.config(($=s.columns,$===1?{mode:"menu",moveOnTab:!1,selector:".tox-collection__item"}:$==="auto"?{mode:"flatgrid",selector:".tox-collection__item",initSize:{numColumns:1,numRows:1}}:{mode:"matrix",selectors:{row:".tox-collection__group",cell:`.${n_}`}})),jo("collection-events",k)]),eventOrder:{[vl()]:["disabling","alloy.base.behaviour","collection-events"],[Is()]:["collection-events","tooltipping"]}});var $;return L2(f,N,["tox-form__group--collection"],[])},RN=["input","textarea"],T_=s=>{const l=fl(s);return ft(RN,l)},IN=(s,l)=>{const d=l.getRoot(s).getOr(s.element);Fo(d,l.invalidClass),l.notify.each(f=>{T_(s.element)&&xn(s.element,"aria-invalid",!1),f.getContainer(s).each(b=>{gp(b,f.validHtml)}),f.onValid(s)})},n3=(s,l,d,f)=>{const b=l.getRoot(s).getOr(s.element);Vn(b,l.invalidClass),l.notify.each(v=>{T_(s.element)&&xn(s.element,"aria-invalid",!0),v.getContainer(s).each(C=>{gp(C,f)}),v.onInvalid(s,f)})},DN=(s,l,d)=>l.validator.fold(()=>Eh(ss.value(!0)),f=>f.validate(s)),o3=(s,l,d)=>(l.notify.each(f=>{f.onValidate(s)}),DN(s,l).map(f=>s.getSystem().isConnected()?f.fold(b=>(n3(s,l,0,b),ss.error(b)),b=>(IN(s,l),ss.value(b))):ss.error("No longer in system")));var i$=Object.freeze({__proto__:null,markValid:IN,markInvalid:n3,query:DN,run:o3,isInvalid:(s,l)=>{const d=l.getRoot(s).getOr(s.element);return es(d,l.invalidClass)}}),PN=Object.freeze({__proto__:null,events:(s,l)=>s.validator.map(d=>To([Lt(d.onEvent,f=>{o3(f,s).get(he)})].concat(d.validateOnLoad?[hr(f=>{o3(f,s).get(U)})]:[]))).getOr({})}),a$=[Ht("invalidClass"),vt("getRoot",I.none),Dr("notify",[vt("aria","alert"),vt("getContainer",I.none),vt("validHtml",""),_s("onValid"),_s("onInvalid"),_s("onValidate")]),Dr("validator",[Ht("validate"),vt("onEvent","input"),vt("validateOnLoad",!0)])];const Th=Zi({fields:a$,name:"invalidating",active:PN,apis:i$,extra:{validation:s=>l=>{const d=St.getValue(l);return Eh(s(d))}}}),Q0=Zi({fields:[],name:"unselecting",active:Object.freeze({__proto__:null,events:()=>To([Xg(Na(),Te)]),exhibit:()=>Nr({styles:{"-webkit-user-select":"none","user-select":"none","-ms-user-select":"none","-moz-user-select":"-moz-none"},attributes:{unselectable:"on"}})})}),s3=Nn("color-input-change"),r3=Nn("color-swatch-change"),NN=Nn("color-picker-cancel"),i3=Ed({schema:[Ht("dom")],name:"label"}),ov=s=>Ed({name:s+"-edge",overrides:l=>l.model.manager.edgeActions[s].fold(()=>({}),d=>({events:To([Kv(Y(),(f,b,v)=>d(f,v),[l]),Kv(Ut(),(f,b,v)=>d(f,v),[l]),Kv(lo(),(f,b,v)=>{v.mouseIsDown.get()&&d(f,v)},[l])])}))}),l$=ov("top-left"),c$=ov("top"),u$=ov("top-right"),d$=ov("right"),MN=ov("bottom-right"),a3=ov("bottom"),f$=ov("bottom-left"),A_=ov("left"),m$=gc({name:"thumb",defaults:q({dom:{styles:{position:"absolute"}}}),overrides:s=>({events:To([Qg(Y(),s,"spectrum"),Qg(fe(),s,"spectrum"),Qg(We(),s,"spectrum"),Qg(Ut(),s,"spectrum"),Qg(lo(),s,"spectrum"),Qg(ko(),s,"spectrum")])})}),O_=s=>vh(s.event);var g$=[i3,A_,d$,c$,a3,l$,u$,f$,MN,m$,gc({schema:[ji("mouseIsDown",()=>Wn(!1))],name:"spectrum",overrides:s=>{const l=s.model.manager,d=(f,b)=>l.getValueFromEvent(b).map(v=>l.setValueFrom(f,s,v));return{behaviours:an([eo.config({mode:"special",onLeft:(f,b)=>l.onLeft(f,s,O_(b)),onRight:(f,b)=>l.onRight(f,s,O_(b)),onUp:(f,b)=>l.onUp(f,s,O_(b)),onDown:(f,b)=>l.onDown(f,s,O_(b))}),mr.config({}),Eo.config({})]),events:To([Lt(Y(),d),Lt(fe(),d),Lt(Ut(),d),Lt(lo(),(f,b)=>{s.mouseIsDown.get()&&d(f,b)})])}}})];const F2=q("slider.change.value"),l3=s=>{const l=s.event.raw;if((d=>d.type.indexOf("touch")!==-1)(l)){const d=l;return d.touches!==void 0&&d.touches.length===1?I.some(d.touches[0]).map(f=>rr(f.clientX,f.clientY)):I.none()}{const d=l;return d.clientX!==void 0?I.some(d).map(f=>rr(f.clientX,f.clientY)):I.none()}},e1=s=>s.model.minX,sv=s=>s.model.minY,R_=s=>s.model.minX-1,I_=s=>s.model.minY-1,Wp=s=>s.model.maxX,Tf=s=>s.model.maxY,D_=s=>s.model.maxX+1,P_=s=>s.model.maxY+1,N_=(s,l,d)=>l(s)-d(s),M_=s=>N_(s,Wp,e1),c3=s=>N_(s,Tf,sv),LN=s=>M_(s)/2,u3=s=>c3(s)/2,tx=(s,l)=>l?s.stepSize*s.speedMultiplier:s.stepSize,d3=s=>s.snapToGrid,f3=s=>s.snapStart,L_=s=>s.rounded,B_=(s,l)=>s[l+"-edge"]!==void 0,m3=s=>B_(s,"left"),BN=s=>B_(s,"right"),nx=s=>B_(s,"top"),FN=s=>B_(s,"bottom"),Kp=s=>s.model.value.get(),Ah=(s,l)=>({x:s,y:l}),Dd=(s,l)=>{Xn(s,F2(),{value:l})},g3=(s,l,d,f)=>s<l?s:s>d?d:s===l?l-1:Math.max(l,s-f),$2=(s,l,d,f)=>s>d?s:s<l?l:s===d?d+1:Math.min(d,s+f),$N=(s,l,d)=>Math.max(l,Math.min(d,s)),VN=s=>{const{min:l,max:d,range:f,value:b,step:v,snap:C,snapStart:k,rounded:E,hasMinEdge:N,hasMaxEdge:$,minBound:B,maxBound:W,screenRange:J}=s,se=N?l-1:l,pe=$?d+1:d;if(b<B)return se;if(b>W)return pe;{const ye=((ve,be,Ee)=>Math.min(Ee,Math.max(ve,be))-be)(b,B,W),De=$N(ye/J*f+l,se,pe);return C&&De>=l&&De<=d?((ve,be,Ee,Pe,Le)=>Le.fold(()=>{const et=ve-be,ht=Math.round(et/Pe)*Pe;return $N(be+ht,be-1,Ee+1)},et=>{const ht=(ve-et)%Pe,zt=Math.round(ht/Pe),Bt=Math.floor((ve-et)/Pe),Pt=Math.floor((Ee-et)/Pe),sn=et+Math.min(Pt,Bt+zt)*Pe;return Math.max(et,sn)}))(De,l,d,v,k):E?Math.round(De):De}},F_=s=>{const{min:l,max:d,range:f,value:b,hasMinEdge:v,hasMaxEdge:C,maxBound:k,maxOffset:E,centerMinEdge:N,centerMaxEdge:$}=s;return b<l?v?0:N:b>d?C?k:$:(b-l)/f*E},h3="top",zN="right",HN="bottom",p3="left",Oh=s=>s.element.dom.getBoundingClientRect(),km=(s,l)=>s[l],$_=s=>{const l=Oh(s);return km(l,p3)},UN=s=>{const l=Oh(s);return km(l,zN)},V_=s=>{const l=Oh(s);return km(l,h3)},WN=s=>{const l=Oh(s);return km(l,HN)},KN=s=>{const l=Oh(s);return km(l,"width")},jN=s=>{const l=Oh(s);return km(l,"height")},z_=(s,l,d)=>(s+l)/2-d,ZN=(s,l)=>{const d=Oh(s),f=Oh(l),b=km(d,p3),v=km(d,zN),C=km(f,p3);return z_(b,v,C)},GN=(s,l)=>{const d=Oh(s),f=Oh(l),b=km(d,h3),v=km(d,HN),C=km(f,h3);return z_(b,v,C)},H_=(s,l)=>{Xn(s,F2(),{value:l})},U_=(s,l,d)=>{const f={min:e1(l),max:Wp(l),range:M_(l),value:d,step:tx(l),snap:d3(l),snapStart:f3(l),rounded:L_(l),hasMinEdge:m3(l),hasMaxEdge:BN(l),minBound:$_(s),maxBound:UN(s),screenRange:KN(s)};return VN(f)},qN=s=>(l,d,f)=>((b,v,C,k)=>{const E=(b>0?$2:g3)(Kp(C),e1(C),Wp(C),tx(C,k));return H_(v,E),I.some(E)})(s,l,d,f).map(Te),b3=(s,l,d,f,b,v)=>{const C=((k,E,N,$,B)=>{const W=KN(k),J=$.bind(ye=>I.some(ZN(ye,k))).getOr(0),se=B.bind(ye=>I.some(ZN(ye,k))).getOr(W),pe={min:e1(E),max:Wp(E),range:M_(E),value:N,hasMinEdge:m3(E),hasMaxEdge:BN(E),minBound:$_(k),maxBound:UN(k),maxOffset:W,centerMinEdge:J,centerMaxEdge:se};return F_(pe)})(l,v,d,f,b);return $_(l)-$_(s)+C},h$=qN(-1),p$=qN(1),b$=I.none,v$=I.none,v3={"top-left":I.none(),top:I.none(),"top-right":I.none(),right:I.some((s,l)=>{Dd(s,D_(l))}),"bottom-right":I.none(),bottom:I.none(),"bottom-left":I.none(),left:I.some((s,l)=>{Dd(s,R_(l))})};var y$=Object.freeze({__proto__:null,setValueFrom:(s,l,d)=>{const f=U_(s,l,d);return H_(s,f),f},setToMin:(s,l)=>{const d=e1(l);H_(s,d)},setToMax:(s,l)=>{const d=Wp(l);H_(s,d)},findValueOfOffset:U_,getValueFromEvent:s=>l3(s).map(l=>l.left),findPositionOfValue:b3,setPositionFromValue:(s,l,d,f)=>{const b=Kp(d),v=b3(s,f.getSpectrum(s),b,f.getLeftEdge(s),f.getRightEdge(s),d),C=Wi(l.element)/2;_o(l.element,"left",v-C+"px")},onLeft:h$,onRight:p$,onUp:b$,onDown:v$,edgeActions:v3});const W_=(s,l)=>{Xn(s,F2(),{value:l})},y3=(s,l,d)=>{const f={min:sv(l),max:Tf(l),range:c3(l),value:d,step:tx(l),snap:d3(l),snapStart:f3(l),rounded:L_(l),hasMinEdge:nx(l),hasMaxEdge:FN(l),minBound:V_(s),maxBound:WN(s),screenRange:jN(s)};return VN(f)},YN=s=>(l,d,f)=>((b,v,C,k)=>{const E=(b>0?$2:g3)(Kp(C),sv(C),Tf(C),tx(C,k));return W_(v,E),I.some(E)})(s,l,d,f).map(Te),x3=(s,l,d,f,b,v)=>{const C=((k,E,N,$,B)=>{const W=jN(k),J=$.bind(ye=>I.some(GN(ye,k))).getOr(0),se=B.bind(ye=>I.some(GN(ye,k))).getOr(W),pe={min:sv(E),max:Tf(E),range:c3(E),value:N,hasMinEdge:nx(E),hasMaxEdge:FN(E),minBound:V_(k),maxBound:WN(k),maxOffset:W,centerMinEdge:J,centerMaxEdge:se};return F_(pe)})(l,v,d,f,b);return V_(l)-V_(s)+C},x$=I.none,w$=I.none,C$=YN(-1),S$=YN(1),_$={"top-left":I.none(),top:I.some((s,l)=>{Dd(s,I_(l))}),"top-right":I.none(),right:I.none(),"bottom-right":I.none(),bottom:I.some((s,l)=>{Dd(s,P_(l))}),"bottom-left":I.none(),left:I.none()};var k$=Object.freeze({__proto__:null,setValueFrom:(s,l,d)=>{const f=y3(s,l,d);return W_(s,f),f},setToMin:(s,l)=>{const d=sv(l);W_(s,d)},setToMax:(s,l)=>{const d=Tf(l);W_(s,d)},findValueOfOffset:y3,getValueFromEvent:s=>l3(s).map(l=>l.top),findPositionOfValue:x3,setPositionFromValue:(s,l,d,f)=>{const b=Kp(d),v=x3(s,f.getSpectrum(s),b,f.getTopEdge(s),f.getBottomEdge(s),d),C=Rr(l.element)/2;_o(l.element,"top",v-C+"px")},onLeft:x$,onRight:w$,onUp:C$,onDown:S$,edgeActions:_$});const K_=(s,l)=>{Xn(s,F2(),{value:l})},j_=(s,l)=>({x:s,y:l}),t1=(s,l)=>(d,f,b)=>((v,C,k,E,N)=>{const $=v>0?$2:g3,B=C?Kp(E).x:$(Kp(E).x,e1(E),Wp(E),tx(E,N)),W=C?$(Kp(E).y,sv(E),Tf(E),tx(E,N)):Kp(E).y;return K_(k,j_(B,W)),I.some(B)})(s,l,d,f,b).map(Te),E$=t1(-1,!1),w3=t1(1,!1),T$=t1(-1,!0),A$=t1(1,!0),O$={"top-left":I.some((s,l)=>{Dd(s,Ah(R_(l),I_(l)))}),top:I.some((s,l)=>{Dd(s,Ah(LN(l),I_(l)))}),"top-right":I.some((s,l)=>{Dd(s,Ah(D_(l),I_(l)))}),right:I.some((s,l)=>{Dd(s,Ah(D_(l),u3(l)))}),"bottom-right":I.some((s,l)=>{Dd(s,Ah(D_(l),P_(l)))}),bottom:I.some((s,l)=>{Dd(s,Ah(LN(l),P_(l)))}),"bottom-left":I.some((s,l)=>{Dd(s,Ah(R_(l),P_(l)))}),left:I.some((s,l)=>{Dd(s,Ah(R_(l),u3(l)))})};var XN=Object.freeze({__proto__:null,setValueFrom:(s,l,d)=>{const f=U_(s,l,d.left),b=y3(s,l,d.top),v=j_(f,b);return K_(s,v),v},setToMin:(s,l)=>{const d=e1(l),f=sv(l);K_(s,j_(d,f))},setToMax:(s,l)=>{const d=Wp(l),f=Tf(l);K_(s,j_(d,f))},getValueFromEvent:s=>l3(s),setPositionFromValue:(s,l,d,f)=>{const b=Kp(d),v=b3(s,f.getSpectrum(s),b.x,f.getLeftEdge(s),f.getRightEdge(s),d),C=x3(s,f.getSpectrum(s),b.y,f.getTopEdge(s),f.getBottomEdge(s),d),k=Wi(l.element)/2,E=Rr(l.element)/2;_o(l.element,"left",v-k+"px"),_o(l.element,"top",C-E+"px")},onLeft:E$,onRight:w3,onUp:T$,onDown:A$,edgeActions:O$});const Em=kc({name:"Slider",configFields:[vt("stepSize",1),vt("speedMultiplier",10),vt("onChange",U),vt("onChoose",U),vt("onInit",U),vt("onDragStart",U),vt("onDragEnd",U),vt("snapToGrid",!1),vt("rounded",!0),ds("snapStart"),Bi("model",Ti("mode",{x:[vt("minX",0),vt("maxX",100),ji("value",s=>Wn(s.mode.minX)),Ht("getInitialValue"),pr("manager",y$)],y:[vt("minY",0),vt("maxY",100),ji("value",s=>Wn(s.mode.minY)),Ht("getInitialValue"),pr("manager",k$)],xy:[vt("minX",0),vt("maxX",100),vt("minY",0),vt("maxY",100),ji("value",s=>Wn({x:s.mode.minX,y:s.mode.minY})),Ht("getInitialValue"),pr("manager",XN)]})),Mn("sliderBehaviours",[eo,St]),ji("mouseIsDown",()=>Wn(!1))],partFields:g$,factory:(s,l,d,f)=>{const b=ve=>Np(ve,s,"thumb"),v=ve=>Np(ve,s,"spectrum"),C=ve=>vr(ve,s,"left-edge"),k=ve=>vr(ve,s,"right-edge"),E=ve=>vr(ve,s,"top-edge"),N=ve=>vr(ve,s,"bottom-edge"),$=s.model,B=$.manager,W=(ve,be)=>{B.setPositionFromValue(ve,be,s,{getLeftEdge:C,getRightEdge:k,getTopEdge:E,getBottomEdge:N,getSpectrum:v})},J=(ve,be)=>{$.value.set(be);const Ee=b(ve);W(ve,Ee)},se=ve=>{const be=s.mouseIsDown.get();s.mouseIsDown.set(!1),be&&vr(ve,s,"thumb").each(Ee=>{const Pe=$.value.get();s.onChoose(ve,Ee,Pe)})},pe=(ve,be)=>{be.stop(),s.mouseIsDown.set(!0),s.onDragStart(ve,b(ve))},ye=(ve,be)=>{be.stop(),s.onDragEnd(ve,b(ve)),se(ve)},De=ve=>{vr(ve,s,"spectrum").map(eo.focusIn)};return{uid:s.uid,dom:s.dom,components:l,behaviours:zo(s.sliderBehaviours,[eo.config({mode:"special",focusIn:De}),St.config({store:{mode:"manual",getValue:ve=>$.value.get(),setValue:J}}),fc.config({channels:{[G()]:{onReceive:se}}})]),events:To([Lt(F2(),(ve,be)=>{((Ee,Pe)=>{J(Ee,Pe);const Le=b(Ee);s.onChange(Ee,Le,Pe)})(ve,be.event.value)}),hr((ve,be)=>{const Ee=$.getInitialValue();$.value.set(Ee);const Pe=b(ve);W(ve,Pe);const Le=v(ve);s.onInit(ve,Pe,Le,$.value.get())}),Lt(Y(),pe),Lt(We(),ye),Lt(Ut(),(ve,be)=>{De(ve),pe(ve,be)}),Lt(ko(),ye)]),apis:{resetToMin:ve=>{B.setToMin(ve,s)},resetToMax:ve=>{B.setToMax(ve,s)},setValue:J,refresh:W},domModification:{styles:{position:"relative"}}}},apis:{setValue:(s,l,d)=>{s.setValue(l,d)},resetToMin:(s,l)=>{s.resetToMin(l)},resetToMax:(s,l)=>{s.resetToMax(l)},refresh:(s,l)=>{s.refresh(l)}}}),V2=Nn("rgb-hex-update"),Z_=Nn("slider-update"),C3=Nn("palette-update"),G_="form",q_=[Mn("formBehaviours",[St])],S3=s=>"<alloy.field."+s+">",Rh=(s,l)=>({uid:s.uid,dom:s.dom,components:l,behaviours:zo(s.formBehaviours,[St.config({store:{mode:"manual",getValue:d=>{const f=mT(d,s);return co(f,(b,v)=>b().bind(C=>{return k=Os.getCurrent(C),E=new Error(`Cannot find a current component to extract the value from for form part '${v}': `+mm(C.element)),k.fold(()=>ss.error(E),ss.value);var k,E}).map(St.getValue))},setValue:(d,f)=>{no(f,(b,v)=>{vr(d,s,v).each(C=>{Os.getCurrent(C).each(k=>{St.setValue(k,b)})})})}}})]),apis:{getField:(d,f)=>vr(d,s,f).bind(Os.getCurrent)}}),rv={getField:sy((s,l,d)=>s.getField(l,d)),sketch:s=>{const l=(()=>{const v=[];return{field:(C,k)=>(v.push(C),uT(G_,S3(C),k)),record:q(v)}})(),d=s(l),f=l.record(),b=Ve(f,v=>gc({name:v,pname:S3(v)}));return Lw(G_,q_,b,Rh,d)}},JN=Nn("valid-input"),QN=Nn("invalid-input"),e5=Nn("validating-input"),_3="colorcustom.rgb.",z2={isEnabled:Te,setEnabled:U,immediatelyShow:U,immediatelyHide:U},R$=(s,l,d,f,b,v)=>{const C=(J,se)=>{const pe=se.get();J!==pe.isEnabled()&&(pe.setEnabled(J),J?pe.immediatelyShow():pe.immediatelyHide())},k=(J,se,pe)=>Th.config({invalidClass:l("invalid"),notify:{onValidate:ye=>{Xn(ye,e5,{type:J})},onValid:ye=>{C(!1,pe),Xn(ye,JN,{type:J,value:St.getValue(ye)})},onInvalid:ye=>{C(!0,pe),Xn(ye,QN,{type:J,value:St.getValue(ye)})}},validator:{validate:ye=>{const De=St.getValue(ye),ve=se(De)?ss.value(!0):ss.error(s("aria.input.invalid"));return Eh(ve)},validateOnLoad:!1}}),E=(J,se,pe,ye,De)=>{const ve=Wn(z2),be=s(_3+"range"),Ee=Ys.parts.label({dom:{tag:"label",attributes:{"aria-label":ye}},components:[ui(pe)]}),Pe=Ys.parts.field({data:De,factory:$p,inputAttributes:{type:"text",...se==="hex"?{"aria-live":"polite"}:{}},inputClasses:[l("textfield")],inputBehaviours:an([k(se,J,ve),mr.config({}),Ii.config({...b({tooltipText:"",onSetup:Pt=>{ve.set({isEnabled:()=>Ii.isEnabled(Pt),setEnabled:sn=>Ii.setEnabled(Pt,sn),immediatelyShow:()=>Ii.immediateOpenClose(Pt,!0),immediatelyHide:()=>Ii.immediateOpenClose(Pt,!1)}),Ii.setEnabled(Pt,!1)},onShow:(Pt,sn)=>{Ii.setComponents(Pt,[{dom:{tag:"p",classes:[l("rgb-warning-note")]},components:[ui(s(se==="hex"?"colorcustom.rgb.invalidHex":"colorcustom.rgb.invalid"))]}])}})})]),onSetValue:Pt=>{Th.isInvalid(Pt)&&Th.run(Pt).get(U)}}),Le=Nn("aria-invalid"),et=Ks(v("invalid",I.some(Le),"warning")),ht=[Ee,Pe,Ks({dom:{tag:"div",classes:[l("invalid-icon")]},components:[et.asSpec()]}).asSpec()],zt=se!=="hex"?[Ys.parts["aria-descriptor"]({text:be})]:[],Bt=ht.concat(zt);return{dom:{tag:"div",attributes:{role:"presentation"},classes:[l("rgb-container")]},components:Bt}},N=(J,se)=>{const pe=se.red,ye=se.green,De=se.blue;St.setValue(J,{red:pe,green:ye,blue:De})},$=Ks({dom:{tag:"div",classes:[l("rgba-preview")],styles:{"background-color":"white"},attributes:{role:"presentation"}}}),B=(J,se)=>{$.getOpt(J).each(pe=>{_o(pe.element,"background-color","#"+se.value)})};return Td({factory:()=>{const J={red:Wn(I.some(255)),green:Wn(I.some(255)),blue:Wn(I.some(255)),hex:Wn(I.some("ffffff"))},se=ht=>J[ht].get(),pe=(ht,zt)=>{J[ht].set(zt)},ye=ht=>{const zt=ht.red,Bt=ht.green,Pt=ht.blue;pe("red",I.some(zt)),pe("green",I.some(Bt)),pe("blue",I.some(Pt))},De=(ht,zt)=>{const Bt=zt.event;Bt.type!=="hex"?pe(Bt.type,I.none()):f(ht)},ve=(ht,zt)=>{const Bt=zt.event;(Pt=>Pt.type==="hex")(Bt)?((Pt,sn)=>{d(Pt);const In=EA(sn);pe("hex",I.some(In.value));const Kn=Sm(In);N(Pt,Kn),ye(Kn),Xn(Pt,V2,{hex:In}),B(Pt,In)})(ht,Bt.value):((Pt,sn,In)=>{const Kn=parseInt(In,10);pe(sn,I.some(Kn)),se("red").bind(ro=>se("green").bind(Ro=>se("blue").map(as=>Hp(ro,Ro,as,1)))).each(ro=>{const Ro=((as,kr)=>{const Br=A2(kr);return rv.getField(as,"hex").each(Zo=>{Eo.isFocused(Zo)||St.setValue(as,{hex:Br.value})}),Br})(Pt,ro);Xn(Pt,V2,{hex:Ro}),B(Pt,Ro)})})(ht,Bt.type,Bt.value)},be=ht=>({label:s(_3+ht+".label"),description:s(_3+ht+".description")}),Ee=be("red"),Pe=be("green"),Le=be("blue"),et=be("hex");return qs(rv.sketch(ht=>({dom:{tag:"form",classes:[l("rgb-form")],attributes:{"aria-label":s("aria.color.picker")}},components:[ht.field("red",Ys.sketch(E(O2,"red",Ee.label,Ee.description,255))),ht.field("green",Ys.sketch(E(O2,"green",Pe.label,Pe.description,255))),ht.field("blue",Ys.sketch(E(O2,"blue",Le.label,Le.description,255))),ht.field("hex",Ys.sketch(E(qP,"hex",et.label,et.description,"ffffff"))),$.asSpec()],formBehaviours:an([Th.config({invalidClass:l("form-invalid")}),jo("rgb-form-events",[Lt(JN,ve),Lt(QN,De),Lt(e5,De)])])})),{apis:{updateHex:(ht,zt)=>{St.setValue(ht,{hex:zt.value}),((Bt,Pt)=>{const sn=Sm(Pt);N(Bt,sn),ye(sn)})(ht,zt),B(ht,zt)}}})},name:"RgbForm",configFields:[],apis:{updateHex:(J,se,pe)=>{J.updateHex(se,pe)}},extraApis:{}})},t5=(s,l,d,f)=>Td({name:"ColourPicker",configFields:[Ht("dom"),vt("onValidHex",U),vt("onInvalidHex",U)],factory:v=>{const C=R$(s,l,v.onValidHex,v.onInvalidHex,d,f),k=((De,ve)=>{const be=Em.parts.spectrum({dom:{tag:"canvas",attributes:{role:"presentation"},classes:[ve("sv-palette-spectrum")]}}),Ee=Em.parts.thumb({dom:{tag:"div",attributes:{role:"presentation"},classes:[ve("sv-palette-thumb")],innerHtml:`<div class=${ve("sv-palette-inner-thumb")} role="presentation"></div>`}}),Pe=(Le,et)=>{const{width:ht,height:zt}=Le,Bt=Le.getContext("2d");if(Bt===null)return;Bt.fillStyle=et,Bt.fillRect(0,0,ht,zt);const Pt=Bt.createLinearGradient(0,0,ht,0);Pt.addColorStop(0,"rgba(255,255,255,1)"),Pt.addColorStop(1,"rgba(255,255,255,0)"),Bt.fillStyle=Pt,Bt.fillRect(0,0,ht,zt);const sn=Bt.createLinearGradient(0,0,0,zt);sn.addColorStop(0,"rgba(0,0,0,0)"),sn.addColorStop(1,"rgba(0,0,0,1)"),Bt.fillStyle=sn,Bt.fillRect(0,0,ht,zt)};return Td({factory:Le=>{const et=q({x:0,y:0}),ht=an([Os.config({find:I.some}),Eo.config({})]);return Em.sketch({dom:{tag:"div",attributes:{role:"slider","aria-valuetext":De(["Saturation {0}%, Brightness {1}%",0,0])},classes:[ve("sv-palette")]},model:{mode:"xy",getInitialValue:et},rounded:!1,components:[be,Ee],onChange:(zt,Bt,Pt)=>{Q(Pt)||xn(zt.element,"aria-valuetext",De(["Saturation {0}%, Brightness {1}%",Math.floor(Pt.x),Math.floor(100-Pt.y)])),Xn(zt,C3,{value:Pt})},onInit:(zt,Bt,Pt,sn)=>{Pe(Pt.element.dom,QP(eN))},sliderBehaviours:ht})},name:"SaturationBrightnessPalette",configFields:[],apis:{setHue:(Le,et,ht)=>{((zt,Bt)=>{const Pt=zt.components()[0].element.dom,sn=Xy(Bt,100,100),In=JP(sn);Pe(Pt,QP(In))})(et,ht)},setThumb:(Le,et,ht)=>{((zt,Bt)=>{const Pt=p_(Sm(Bt));Em.setValue(zt,{x:Pt.saturation,y:100-Pt.value}),xn(zt.element,"aria-valuetext",De(["Saturation {0}%, Brightness {1}%",Pt.saturation,Pt.value]))})(et,ht)}},extraApis:{}})})(s,l),E={paletteRgba:Wn(eN),paletteHue:Wn(0)},N=Ks(((De,ve)=>{const be=Em.parts.spectrum({dom:{tag:"div",classes:[ve("hue-slider-spectrum")],attributes:{role:"presentation"}}}),Ee=Em.parts.thumb({dom:{tag:"div",classes:[ve("hue-slider-thumb")],attributes:{role:"presentation"}}});return Em.sketch({dom:{tag:"div",classes:[ve("hue-slider")],attributes:{role:"slider","aria-valuemin":0,"aria-valuemax":360,"aria-valuenow":120}},rounded:!1,model:{mode:"y",getInitialValue:q(0)},components:[be,Ee],sliderBehaviours:an([Eo.config({})]),onChange:(Pe,Le,et)=>{xn(Pe.element,"aria-valuenow",Math.floor(360-3.6*et)),Xn(Pe,Z_,{value:et})}})})(0,l)),$=Ks(k.sketch({})),B=Ks(C.sketch({})),W=(De,ve,be)=>{$.getOpt(De).each(Ee=>{k.setHue(Ee,be)})},J=(De,ve)=>{B.getOpt(De).each(be=>{C.updateHex(be,ve)})},se=(De,ve,be)=>{N.getOpt(De).each(Ee=>{Em.setValue(Ee,(Pe=>100-Pe/360*100)(be))})},pe=(De,ve)=>{$.getOpt(De).each(be=>{k.setThumb(be,ve)})},ye=(De,ve,be,Ee)=>{((Pe,Le)=>{const et=Sm(Pe);E.paletteRgba.set(et),E.paletteHue.set(Le)})(ve,be),bt(Ee,Pe=>{Pe(De,ve,be)})};return{uid:v.uid,dom:v.dom,components:[$.asSpec(),N.asSpec(),B.asSpec()],behaviours:an([jo("colour-picker-events",[Lt(V2,(()=>{const De=[W,se,pe];return(ve,be)=>{const Ee=be.event.hex,Pe=(Le=>p_(Sm(Le)))(Ee);ye(ve,Ee,Pe.hue,De)}})()),Lt(C3,(()=>{const De=[J];return(ve,be)=>{const Ee=be.event.value,Pe=E.paletteHue.get(),Le=Xy(Pe,Ee.x,100-Ee.y),et=b_(Le);ye(ve,et,Pe,De)}})()),Lt(Z_,(()=>{const De=[W,J];return(ve,be)=>{const Ee=(zt=>(100-zt)/100*360)(be.event.value),Pe=E.paletteRgba.get(),Le=p_(Pe),et=Xy(Ee,Le.saturation,Le.value),ht=b_(et);ye(ve,ht,Ee,De)}})())]),Os.config({find:De=>B.getOpt(De)}),eo.config({mode:"acyclic"})])}}}),Ih=()=>Os.config({find:I.some}),k3=s=>Os.config({find:l=>wr(l.element,s).bind(d=>l.getSystem().getByDom(d).toOptional())}),E3=oo([vt("preprocess",he),vt("postprocess",he)]),T3=(s,l)=>{const d=Pa("RepresentingConfigs.memento processors",E3,l);return St.config({store:{mode:"manual",getValue:f=>{const b=s.get(f),v=St.getValue(b);return d.postprocess(v)},setValue:(f,b)=>{const v=d.preprocess(b),C=s.get(f);St.setValue(C,v)}}})},n1=(s,l,d)=>St.config({store:{mode:"manual",...s.map(f=>({initialValue:f})).getOr({}),getValue:l,setValue:d}}),A3=(s,l,d)=>n1(s,f=>l(f.element),(f,b)=>d(f.element,b)),H2=s=>St.config({store:{mode:"memory",initialValue:s}}),I$={"colorcustom.rgb.red.label":"R","colorcustom.rgb.red.description":"Red component","colorcustom.rgb.green.label":"G","colorcustom.rgb.green.description":"Green component","colorcustom.rgb.blue.label":"B","colorcustom.rgb.blue.description":"Blue component","colorcustom.rgb.hex.label":"#","colorcustom.rgb.hex.description":"Hex color code","colorcustom.rgb.range":"Range 0 to 255","colorcustom.rgb.invalid":"Numbers only, 0 to 255","colorcustom.rgb.invalidHex":"Hexadecimal only, 000000 to FFFFFF","aria.color.picker":"Color Picker","aria.input.invalid":"Invalid input"};var n5=tinymce.util.Tools.resolve("tinymce.Resource");const O3=s=>uo(s,"init");var jp=tinymce.util.Tools.resolve("tinymce.util.Tools");const R3=(s,l)=>{let d=null;const f=()=>{D(d)||(clearTimeout(d),d=null)};return{cancel:f,throttle:(...b)=>{f(),d=setTimeout(()=>{d=null,s.apply(null,b)},l)}}},I3=Nn("alloy-fake-before-tabstop"),D3=Nn("alloy-fake-after-tabstop"),o5=s=>({dom:{tag:"div",styles:{width:"1px",height:"1px",outline:"none"},attributes:{tabindex:"0"},classes:s},behaviours:an([Eo.config({ignore:!0}),mr.config({})])}),P3=(s,l)=>({dom:{tag:"div",classes:["tox-navobj",...s.getOr([])]},components:[o5([I3]),l,o5([D3])],behaviours:an([k3(1)])}),N3=(s,l)=>{Xn(s,Pr(),{raw:{which:9,shiftKey:l}})},D$=(s,l)=>{const d=l.element;es(d,I3)?N3(s,!0):es(d,D3)&&N3(s,!1)},ox=s=>ex(s,["."+I3,"."+D3].join(","),Ce),iv=Nn("update-dialog"),M3=Nn("update-title"),s5=Nn("update-body"),r5=Nn("update-footer"),L3=Nn("body-send-message"),Y_=Nn("dialog-focus-shifted"),B3=Ki().browser,sx=B3.isSafari(),i5=B3.isFirefox(),F3=sx||i5,a5=B3.isChromium(),P$=({scrollTop:s,scrollHeight:l,clientHeight:d})=>Math.ceil(s)+d>=l,l5=(s,l)=>s.scrollTo(0,l==="bottom"?99999999:l),$3=(s,l,d)=>{const f=s.dom;I.from(f.contentDocument).fold(d,b=>{let v=0;const C=((E,N)=>{const $=E.body;return I.from(!/^<!DOCTYPE (html|HTML)/.test(N)&&(!a5&&!sx||K($)&&($.scrollTop!==0||Math.abs($.scrollHeight-$.clientHeight)>1))?$:E.documentElement)})(b,l).map(E=>(v=E.scrollTop,E)).forall(P$),k=()=>{const E=f.contentWindow;K(E)&&(C?l5(E,"bottom"):!C&&F3&&v!==0&&l5(E,v))};sx&&f.addEventListener("load",k,{once:!0}),b.open(),b.write(l),b.close(),sx||k()})},V3=Go(F3,sx?500:200).map(s=>((l,d)=>{let f=null,b=null;return{cancel:()=>{D(f)||(clearTimeout(f),f=null,b=null)},throttle:(...v)=>{b=v,D(f)&&(f=setTimeout(()=>{const C=b;f=null,b=null,l.apply(null,C)},d))}}})($3,s)),X_=Nn("toolbar.button.execute"),av=Nn("common-button-display-events"),z3={[vl()]:["disabling","alloy.base.behaviour","toggling","toolbar-button-events","tooltipping"],[pa()]:["toolbar-button-events",av],[Uc()]:["toolbar-button-events","dropdown-events","tooltipping"],[Ut()]:["focusing","alloy.base.behaviour",av]},J_=s=>_o(s.element,"width",Or(s.element,"width")),c5=(s,l,d)=>od(s,{tag:"span",classes:["tox-icon","tox-tbtn__icon-wrap"],behaviours:d},l),U2=(s,l)=>c5(s,l,[]),lv=(s,l)=>c5(s,l,[go.config({})]),H3=(s,l,d)=>({dom:{tag:"span",classes:[`${l}__select-label`]},components:[ui(d.translate(s))],behaviours:an([go.config({})])}),Pd=Nn("update-menu-text"),Af=Nn("update-menu-icon"),U3=(s,l,d,f)=>{const b=Wn(U),v=s.text.map(pe=>Ks(H3(pe,l,d.providers))),C=s.icon.map(pe=>Ks(lv(pe,d.providers.icons))),k=(pe,ye)=>{const De=St.getValue(pe);return Eo.focus(De),Xn(De,"keydown",{raw:ye.event.raw}),hc.close(De),I.some(!0)},E=s.role.fold(()=>({}),pe=>({role:pe})),N=I.from(s.listRole).map(pe=>({listRole:pe})).getOr({}),$=s.ariaLabel.fold(()=>({}),pe=>({"aria-label":d.providers.translate(pe)})),B=od("chevron-down",{tag:"div",classes:[`${l}__select-chevron`]},d.providers.icons),W=Nn("common-button-display-events"),J="dropdown-events";return Ks(hc.sketch({...s.uid?{uid:s.uid}:{},...E,...N,dom:{tag:"button",classes:[l,`${l}--select`].concat(Ve(s.classes,pe=>`${l}--${pe}`)),attributes:{...$,...K(f)?{"data-mce-name":f}:{}}},components:jy([C.map(pe=>pe.asSpec()),v.map(pe=>pe.asSpec()),I.some(B)]),matchWidth:!0,useMinWidth:!0,onOpen:(pe,ye,De)=>{s.searchable&&(ve=>{wP(ve).each(be=>Eo.focus(be))})(De)},dropdownBehaviours:an([...s.dropdownBehaviours,Cl(()=>s.disabled||d.providers.isDisabled()),ba(),Q0.config({}),go.config({}),...s.tooltip.map(pe=>Ii.config(d.providers.tooltips.getConfig({tooltipText:d.providers.translate(pe)}))).toArray(),jo(J,[Jb(s,b),Vp(s,b)]),jo(W,[hr((pe,ye)=>s.listRole==="listbox"?U:J_(pe))]),jo("menubutton-update-display-text",[Lt(Pd,(pe,ye)=>{v.bind(De=>De.getOpt(pe)).each(De=>{go.set(De,[ui(d.providers.translate(ye.event.text))])})}),Lt(Af,(pe,ye)=>{C.bind(De=>De.getOpt(pe)).each(De=>{go.set(De,[lv(ye.event.icon,d.providers.icons)])})})])]),eventOrder:qs(z3,{[Ut()]:["focusing","alloy.base.behaviour","item-type-events","normal-dropdown-events"],[pa()]:["toolbar-button-events",Ii.name(),J,W]}),sandboxBehaviours:an([eo.config({mode:"special",onLeft:k,onRight:k}),jo("dropdown-sandbox-events",[Lt(vP,(pe,ye)=>{(De=>{const ve=St.getValue(De),be=y2(De).map(CP);hc.refetch(ve).get(()=>{const Ee=di.getCoupled(ve,"sandbox");be.each(Pe=>y2(Ee).each(Le=>((et,ht)=>{St.setValue(et,ht.fetchPattern),et.element.dom.selectionStart=ht.selectionStart,et.element.dom.selectionEnd=ht.selectionEnd})(Le,Pe)))})})(pe),ye.stop()}),Lt(yP,(pe,ye)=>{((De,ve)=>{(be=>A.getState(be).bind(Gs.getHighlighted).bind(Gs.getHighlighted))(De).each(be=>{((Ee,Pe,Le,et)=>{const ht={...et,target:Pe};Ee.getSystem().triggerEvent(Le,Pe,ht)})(De,be.element,ve.event.eventType,ve.event.interactionEvent)})})(pe,ye),ye.stop()})])]),lazySink:d.getSink,toggleClass:`${l}--active`,parts:{menu:{...o_(0,s.columns,s.presets),fakeFocus:s.searchable,...s.listRole==="listbox"?{}:{onHighlightItem:CN,onCollapseMenu:(pe,ye,De)=>{Gs.getHighlighted(De).each(ve=>{CN(pe,De,ve)})},onDehighlightItem:t$}}},getAnchorOverrides:()=>({maxHeightFunction:(pe,ye)=>{dh()(pe,ye-10)}}),fetch:pe=>Qb(_e(s.fetch,pe))})).asSpec()},Q_=s=>s.type==="separator",ek={type:"separator"},u5=(s,l)=>{const d=((f,b)=>{const v=Jt(f,(C,k)=>(E=>h(E))(k)?k===""?C:k==="|"?C.length>0&&!Q_(C[C.length-1])?C.concat([ek]):C:uo(b,k.toLowerCase())?C.concat([b[k.toLowerCase()]]):C:C.concat([k]),[]);return v.length>0&&Q_(v[v.length-1])&&v.pop(),v})(h(s)?s.split(" "):s,l);return Bn(d,(f,b)=>{if((v=>uo(v,"getSubmenuItems"))(b)){const v=(k=>{const E=cn(k,"value").getOrThunk(()=>Nn("generated-menu-item"));return qs({value:E},k)})(b),C=((k,E)=>{const N=k.getSubmenuItems(),$=u5(N,E);return{item:k,menus:qs($.menus,{[k.value]:$.items}),expansions:qs($.expansions,{[k.value]:k.value})}})(v,l);return{menus:qs(f.menus,C.menus),items:[C.item,...f.items],expansions:qs(f.expansions,C.expansions)}}return{...f,items:[b,...f.items]}},{menus:{},expansions:{},items:[]})},o1=(s,l,d,f)=>{const b=Nn("primary-menu"),v=u5(s,d.shared.providers.menuItems());if(v.items.length===0)return I.none();const C=(B=>B.search.fold(()=>({searchMode:"no-search"}),W=>({searchMode:"search-with-field",placeholder:W.placeholder})))(f),k=SN(b,v.items,l,d,f.isHorizontalMenu,C),E=(B=>B.search.fold(()=>({searchMode:"no-search"}),W=>({searchMode:"search-with-results"})))(f),N=co(v.menus,(B,W)=>SN(W,B,l,d,!1,E)),$=qs(N,Nl(b,k));return I.from(Mp.tieredData(b,$,v.expansions))},W2=s=>!uo(s,"items"),W3="data-value",tk=(s,l,d,f,b)=>Ve(d,v=>W2(v)?{type:"togglemenuitem",...b?{}:{role:"option"},text:v.text,value:v.value,active:v.value===f,onAction:()=>{St.setValue(s,v.value),Xn(s,ec,{name:l}),Eo.focus(s)}}:{type:"nestedmenuitem",text:v.text,getSubmenuItems:()=>tk(s,l,v.items,f,b)}),nk=(s,l)=>pn(s,d=>W2(d)?Go(d.value===l,d):nk(d.items,l)),N$=Td({name:"HtmlSelect",configFields:[Ht("options"),Mn("selectBehaviours",[Eo,St]),vt("selectClasses",[]),vt("selectAttributes",{}),ds("data")],factory:(s,l)=>{const d=Ve(s.options,b=>({dom:{tag:"option",value:b.value,innerHtml:b.text}})),f=s.data.map(b=>Nl("initialValue",b)).getOr({});return{uid:s.uid,dom:{tag:"select",classes:s.selectClasses,attributes:s.selectAttributes},components:d,behaviours:zo(s.selectBehaviours,[Eo.config({}),St.config({store:{mode:"manual",getValue:b=>eg(b.element),setValue:(b,v)=>{const C=Fe(s.options);te(s.options,k=>k.value===v).isSome()?sh(b.element,v):b.element.dom.selectedIndex===-1&&v===""&&C.each(k=>sh(b.element,k.value))},...f}})])}}}),d5=q([vt("field1Name","field1"),vt("field2Name","field2"),hf("onLockedChange"),vp(["lockClass"]),vt("locked",!1),Ao("coupledFieldBehaviours",[Os,St])]),K3=(s,l)=>gc({factory:Ys,name:s,overrides:d=>({fieldBehaviours:an([jo("coupled-input-behaviour",[Lt(rf(),f=>{((b,v,C)=>vr(b,v,C).bind(Os.getCurrent))(f,d,l).each(b=>{vr(f,d,"lock").each(v=>{yo.isOn(v)&&d.onLockedChange(f,b,v)})})})])])})}),f5=q([K3("field1","field2"),K3("field2","field1"),gc({factory:Fl,schema:[Ht("dom")],name:"lock",overrides:s=>({buttonBehaviours:an([yo.config({selected:s.locked,toggleClass:s.markers.lockClass,aria:{mode:"pressed"}})])})})]),id=kc({name:"FormCoupledInputs",configFields:d5(),partFields:f5(),factory:(s,l,d,f)=>({uid:s.uid,dom:s.dom,components:l,behaviours:bo(s.coupledFieldBehaviours,[Os.config({find:I.some}),St.config({store:{mode:"manual",getValue:b=>{const v=gT(b,s,["field1","field2"]);return{[s.field1Name]:St.getValue(v.field1()),[s.field2Name]:St.getValue(v.field2())}},setValue:(b,v)=>{const C=gT(b,s,["field1","field2"]);$o(v,s.field1Name)&&St.setValue(C.field1(),v[s.field1Name]),$o(v,s.field2Name)&&St.setValue(C.field2(),v[s.field2Name])}}})]),apis:{getField1:b=>vr(b,s,"field1"),getField2:b=>vr(b,s,"field2"),getLock:b=>vr(b,s,"lock")}}),apis:{getField1:(s,l)=>s.getField1(l),getField2:(s,l)=>s.getField2(l),getLock:(s,l)=>s.getLock(l)}}),j3=s=>{const l=/^\s*(\d+(?:\.\d+)?)\s*(|cm|mm|in|px|pt|pc|em|ex|ch|rem|vw|vh|vmin|vmax|%)\s*$/.exec(s);if(l!==null){const d=parseFloat(l[1]),f=l[2];return ss.value({value:d,unit:f})}return ss.error(s)},Z3=(s,l)=>{const d={"":96,px:96,pt:72,cm:2.54,pc:12,mm:25.4,in:1},f=b=>uo(d,b);return s.unit===l?I.some(s.value):f(s.unit)&&f(l)?d[s.unit]===d[l]?I.some(s.value):I.some(s.value/d[s.unit]*d[l]):I.none()},G3=s=>I.none(),m5=(s,l)=>{const d=s.label.map($=>tv($,l)),f=[Oo.config({disabled:()=>s.disabled||l.isDisabled()}),ba(),eo.config({mode:"execution",useEnter:s.multiline!==!0,useControlEnter:s.multiline===!0,execute:$=>(Wo($,B2),I.some(!0))}),jo("textfield-change",[Lt(rf(),($,B)=>{Xn($,ec,{name:s.name})}),Lt(cp(),($,B)=>{Xn($,ec,{name:s.name})})]),mr.config({})],b=s.validation.map($=>Th.config({getRoot:B=>Ta(B.element),invalidClass:"tox-invalid",validator:{validate:B=>{const W=St.getValue(B),J=$.validator(W);return Eh(J===!0?ss.value(W):ss.error(J))},validateOnLoad:$.validateOnLoad}})).toArray(),v={...s.placeholder.fold(q({}),$=>({placeholder:l.translate($)})),...s.inputMode.fold(q({}),$=>({inputmode:$})),"data-mce-name":s.name},C=Ys.parts.field({tag:s.multiline===!0?"textarea":"input",...s.data.map($=>({data:$})).getOr({}),inputAttributes:v,inputClasses:[s.classname],inputBehaviours:an(nn([f,b])),selectOnFocus:!1,factory:$p}),k=s.multiline?{dom:{tag:"div",classes:["tox-textarea-wrap"]},components:[C]}:C,E=(s.flex?["tox-form__group--stretched"]:[]).concat(s.maximized?["tox-form-group--maximize"]:[]),N=[Oo.config({disabled:()=>s.disabled||l.isDisabled(),onDisabled:$=>{Ys.getField($).each(Oo.disable)},onEnabled:$=>{Ys.getField($).each(Oo.enable)}}),ba()];return L2(d,k,E,N)},K2=(s,l)=>l.getAnimationRoot.fold(()=>s.element,d=>d(s)),Zp=s=>s.dimension.property,cv=(s,l)=>s.dimension.getDimension(l),uv=(s,l)=>{const d=K2(s,l);ci(d,[l.shrinkingClass,l.growingClass])},ok=(s,l)=>{Fo(s.element,l.openClass),Vn(s.element,l.closedClass),_o(s.element,Zp(l),"0px"),fd(s.element)},q3=(s,l)=>{Fo(s.element,l.closedClass),Vn(s.element,l.openClass),zs(s.element,Zp(l))},g5=(s,l,d,f)=>{d.setCollapsed(),_o(s.element,Zp(l),cv(l,s.element)),uv(s,l),ok(s,l),l.onStartShrink(s),l.onShrunk(s)},M$=(s,l,d,f)=>{const b=f.getOrThunk(()=>cv(l,s.element));d.setCollapsed(),_o(s.element,Zp(l),b),fd(s.element);const v=K2(s,l);Fo(v,l.growingClass),Vn(v,l.shrinkingClass),ok(s,l),l.onStartShrink(s)},h5=(s,l,d)=>{const f=cv(l,s.element);(f==="0px"?g5:M$)(s,l,d,I.some(f))},p5=(s,l,d)=>{const f=K2(s,l),b=es(f,l.shrinkingClass),v=cv(l,s.element);q3(s,l);const C=cv(l,s.element);(b?()=>{_o(s.element,Zp(l),v),fd(s.element)}:()=>{ok(s,l)})(),Fo(f,l.shrinkingClass),Vn(f,l.growingClass),q3(s,l),_o(s.element,Zp(l),C),d.setExpanded(),l.onStartGrow(s)},j2=(s,l,d)=>{const f=K2(s,l);return es(f,l.growingClass)===!0},b5=(s,l,d)=>{const f=K2(s,l);return es(f,l.shrinkingClass)===!0};var v5=Object.freeze({__proto__:null,refresh:(s,l,d)=>{if(d.isExpanded()){zs(s.element,Zp(l));const f=cv(l,s.element);_o(s.element,Zp(l),f)}},grow:(s,l,d)=>{d.isExpanded()||p5(s,l,d)},shrink:(s,l,d)=>{d.isExpanded()&&h5(s,l,d)},immediateShrink:(s,l,d)=>{d.isExpanded()&&g5(s,l,d)},hasGrown:(s,l,d)=>d.isExpanded(),hasShrunk:(s,l,d)=>d.isCollapsed(),isGrowing:j2,isShrinking:b5,isTransitioning:(s,l,d)=>j2(s,l)||b5(s,l),toggleGrow:(s,l,d)=>{(d.isExpanded()?h5:p5)(s,l,d)},disableTransitions:uv,immediateGrow:(s,l,d)=>{d.isExpanded()||(q3(s,l),_o(s.element,Zp(l),cv(l,s.element)),uv(s,l),d.setExpanded(),l.onStartGrow(s),l.onGrown(s))}}),L$=Object.freeze({__proto__:null,exhibit:(s,l,d)=>{const f=l.expanded;return Nr(f?{classes:[l.openClass],styles:{}}:{classes:[l.closedClass],styles:Nl(l.dimension.property,"0px")})},events:(s,l)=>To([gf(lp(),(d,f)=>{f.event.raw.propertyName===s.dimension.property&&(uv(d,s),l.isExpanded()&&zs(d.element,s.dimension.property),(l.isExpanded()?s.onGrown:s.onShrunk)(d))})])}),y5=[Ht("closedClass"),Ht("openClass"),Ht("shrinkingClass"),Ht("growingClass"),ds("getAnimationRoot"),_s("onShrunk"),_s("onStartShrink"),_s("onGrown"),_s("onStartGrow"),vt("expanded",!1),Bi("dimension",Ti("property",{width:[pr("property","width"),pr("getDimension",s=>Wi(s)+"px")],height:[pr("property","height"),pr("getDimension",s=>Rr(s)+"px")]}))];const qc=Zi({fields:y5,name:"sliding",active:L$,apis:v5,state:Object.freeze({__proto__:null,init:s=>{const l=Wn(s.expanded);return Ai({isExpanded:()=>l.get()===!0,isCollapsed:()=>l.get()===!1,setCollapsed:_e(l.set,!1),setExpanded:_e(l.set,!0),readState:()=>"expanded: "+l.get()})}})}),x5=s=>({isEnabled:()=>!Oo.isDisabled(s),setEnabled:l=>Oo.set(s,!l),setActive:l=>{const d=s.element;l?(Vn(d,"tox-tbtn--enabled"),xn(d,"aria-pressed",!0)):(Fo(d,"tox-tbtn--enabled"),Uo(d,"aria-pressed"))},isActive:()=>es(s.element,"tox-tbtn--enabled"),setText:l=>{Xn(s,Pd,{text:l})},setIcon:l=>Xn(s,Af,{icon:l})}),rx=(s,l,d,f,b=!0,v)=>U3({text:s.text,icon:s.icon,tooltip:s.tooltip,ariaLabel:s.tooltip,searchable:s.search.isSome(),role:f,fetch:(C,k)=>{const E={pattern:s.search.isSome()?J0(C):""};s.fetch(N=>{k(o1(N,yg.CLOSE_ON_EXECUTE,d,{isHorizontalMenu:!1,search:s.search}))},E,x5(C))},onSetup:s.onSetup,getApi:x5,columns:1,presets:"normal",classes:[],dropdownBehaviours:[...b?[mr.config({})]:[]]},l,d.shared,v),w5=(s,l,d)=>{const f=v=>C=>{const k=!C.isActive();C.setActive(k),v.storage.set(k),d.shared.getSink().each(E=>{l().getOpt(E).each(N=>{Ml(N.element),Xn(N,wg,{name:v.name,value:v.storage.get()})})})},b=v=>C=>{C.setActive(v.storage.get())};return v=>{v(Ve(s,C=>{const k=C.text.fold(()=>({}),E=>({text:E}));return{type:C.type,active:!1,...k,onAction:f(C),onSetup:b(C)}}))}},Y3=s=>({dom:{tag:"span",classes:["tox-tree__label"],attributes:{"aria-label":s}},components:[ui(s)]}),X3=Nn("leaf-label-event-id"),J3=({leaf:s,onLeafAction:l,visible:d,treeId:f,selectedId:b,backstage:v})=>{const C=s.menu.map(E=>rx(E,"tox-mbtn",v,I.none(),d)),k=[Y3(s.title)];return C.each(E=>k.push(E)),Fl.sketch({dom:{tag:"div",classes:["tox-tree--leaf__label","tox-trbtn"].concat(d?["tox-tree--leaf__label--visible"]:[])},components:k,role:"treeitem",action:E=>{l(s.id),E.getSystem().broadcastOn([`update-active-item-${f}`],{value:s.id})},eventOrder:{[Pr()]:[X3,"keying"]},buttonBehaviours:an([...d?[mr.config({})]:[],yo.config({toggleClass:"tox-trbtn--enabled",toggleOnExecute:!1,aria:{mode:"selected"}}),fc.config({channels:{[`update-active-item-${f}`]:{onReceive:(E,N)=>{(N.value===s.id?yo.on:yo.off)(E)}}}}),jo(X3,[hr((E,N)=>{b.each($=>{($===s.id?yo.on:yo.off)(E)})}),Lt(Pr(),(E,N)=>{const $=N.event.raw.code==="ArrowLeft",B=N.event.raw.code==="ArrowRight";$?(ih(E.element,".tox-tree--directory").each(W=>{E.getSystem().getByDom(W).each(J=>{cy(W,".tox-tree--directory__label").each(se=>{J.getSystem().getByDom(se).each(Eo.focus)})})}),N.stop()):B&&N.stop()})])])})},C5=Nn("directory-label-event-id"),B$=({directory:s,visible:l,noChildren:d,backstage:f})=>{const b=s.menu.map(N=>rx(N,"tox-mbtn",f,I.none())),v=[{dom:{tag:"div",classes:["tox-chevron"]},components:[(C="chevron-right",k=f.shared.providers.icons,((N,$,B)=>od(N,{tag:"span",classes:["tox-tree__icon-wrap","tox-icon"],behaviours:[]},$))(C,k))]},Y3(s.title)];var C,k;b.each(N=>{v.push(N)});const E=N=>{ih(N.element,".tox-tree--directory").each($=>{N.getSystem().getByDom($).each(B=>{const W=!yo.isOn(B);yo.toggle(B),Xn(N,"expand-tree-node",{expanded:W,node:s.id})})})};return Fl.sketch({dom:{tag:"div",classes:["tox-tree--directory__label","tox-trbtn"].concat(l?["tox-tree--directory__label--visible"]:[])},components:v,action:E,eventOrder:{[Pr()]:[C5,"keying"]},buttonBehaviours:an([...l?[mr.config({})]:[],jo(C5,[Lt(Pr(),(N,$)=>{const B=$.event.raw.code==="ArrowRight",W=$.event.raw.code==="ArrowLeft";B&&d&&$.stop(),(B||W)&&ih(N.element,".tox-tree--directory").each(J=>{N.getSystem().getByDom(J).each(se=>{!yo.isOn(se)&&B||yo.isOn(se)&&W?(E(N),$.stop()):W&&!yo.isOn(se)&&(ih(se.element,".tox-tree--directory").each(pe=>{cy(pe,".tox-tree--directory__label").each(ye=>{se.getSystem().getByDom(ye).each(Eo.focus)})}),$.stop())})})})])])})},F$=({children:s,onLeafAction:l,visible:d,treeId:f,expandedIds:b,selectedId:v,backstage:C})=>({dom:{tag:"div",classes:["tox-tree--directory__children"]},components:s.map(k=>k.type==="leaf"?J3({leaf:k,selectedId:v,onLeafAction:l,visible:d,treeId:f,backstage:C}):sk({directory:k,expandedIds:b,selectedId:v,onLeafAction:l,labelTabstopping:d,treeId:f,backstage:C})),behaviours:an([qc.config({dimension:{property:"height"},closedClass:"tox-tree--directory__children--closed",openClass:"tox-tree--directory__children--open",growingClass:"tox-tree--directory__children--growing",shrinkingClass:"tox-tree--directory__children--shrinking",expanded:d}),go.config({})])}),S5=Nn("directory-event-id"),sk=({directory:s,onLeafAction:l,labelTabstopping:d,treeId:f,backstage:b,expandedIds:v,selectedId:C})=>{const{children:k}=s,E=Wn(v),N=v.includes(s.id);return{dom:{tag:"div",classes:["tox-tree--directory"],attributes:{role:"treeitem"}},components:[B$({directory:s,visible:d,noChildren:s.children.length===0,backstage:b}),F$({children:k,expandedIds:v,selectedId:C,onLeafAction:l,visible:N,treeId:f,backstage:b})],behaviours:an([jo(S5,[hr(($,B)=>{yo.set($,N)}),Lt("expand-tree-node",($,B)=>{const{expanded:W,node:J}=B.event;E.set(W?[...E.get(),J]:E.get().filter(se=>se!==J))})]),yo.config({...s.children.length>0?{aria:{mode:"expanded"}}:{},toggleClass:"tox-tree--directory--expanded",onToggled:($,B)=>{const W=$.components()[1],J=(se=B,k.map(pe=>pe.type==="leaf"?J3({leaf:pe,selectedId:C,onLeafAction:l,visible:se,treeId:f,backstage:b}):sk({directory:pe,expandedIds:E.get(),selectedId:C,onLeafAction:l,labelTabstopping:se,treeId:f,backstage:b})));var se;B?qc.grow(W):qc.shrink(W),go.set(W,J)}})])}},$$=Nn("tree-event-id");var V$=Object.freeze({__proto__:null,events:(s,l)=>{const d=s.stream.streams.setup(s,l);return To([Lt(s.event,d),Ku(()=>l.cancel())].concat(s.cancelEvent.map(f=>[Lt(f,()=>l.cancel())]).getOr([])))}});const _5=s=>{const l=Wn(null);return Ai({readState:()=>({timer:l.get()!==null?"set":"unset"}),setTimer:d=>{l.set(d)},cancel:()=>{const d=l.get();d!==null&&d.cancel()}})};var z$=Object.freeze({__proto__:null,throttle:_5,init:s=>s.stream.streams.state(s)}),H$=[Bi("stream",Ti("mode",{throttle:[Ht("delay"),vt("stopEvent",!0),pr("streams",{setup:(s,l)=>{const d=s.stream,f=R3(s.onStream,d.delay);return l.setTimer(f),(b,v)=>{f.throttle(b,v),d.stopEvent&&v.stop()}},state:_5})]})),vt("event","input"),ds("cancelEvent"),hf("onStream")];const Q3=Zi({fields:H$,name:"streaming",active:V$,state:z$}),rk=(s,l,d)=>{const f=St.getValue(d);St.setValue(l,f),e4(l)},ik=(s,l)=>{const d=s.element,f=eg(d),b=d.dom;ns(d,"type")!=="number"&&l(b,f)},e4=s=>{ik(s,(l,d)=>l.setSelectionRange(d.length,d.length))},t4=q("alloy.typeahead.itemexecute"),U$=q([ds("lazySink"),Ht("fetch"),vt("minChars",5),vt("responseTime",1e3),_s("onOpen"),vt("getHotspot",I.some),vt("getAnchorOverrides",q({})),vt("layouts",I.none()),vt("eventOrder",{}),ga("model",{},[vt("getDisplayText",s=>s.meta!==void 0&&s.meta.text!==void 0?s.meta.text:s.value),vt("selectsOver",!0),vt("populateFromBrowse",!0)]),_s("onSetValue"),uc("onExecute"),_s("onItemExecute"),vt("inputClasses",[]),vt("inputAttributes",{}),vt("inputStyles",{}),vt("matchWidth",!0),vt("useMinWidth",!1),vt("dismissOnBlur",!0),vp(["openClass"]),ds("initialData"),ds("listRole"),Mn("typeaheadBehaviours",[Eo,St,Q3,eo,yo,di]),ji("lazyTypeaheadComp",()=>Wn(I.none)),ji("previewing",()=>Wn(!0))].concat(k7()).concat(qA())),k5=q([xm({schema:[bp()],name:"menu",overrides:s=>({fakeFocus:!0,onHighlightItem:(l,d,f)=>{s.previewing.get()?s.lazyTypeaheadComp.get().each(b=>{((v,C,k)=>{if(v.selectsOver){const E=St.getValue(C),N=v.getDisplayText(E),$=St.getValue(k);return v.getDisplayText($).indexOf(N)===0?I.some(()=>{rk(0,C,k),((B,W)=>{ik(B,(J,se)=>J.setSelectionRange(W,se.length))})(C,N.length)}):I.none()}return I.none()})(s.model,b,f).fold(()=>{s.model.selectsOver?(Gs.dehighlight(d,f),s.previewing.set(!0)):s.previewing.set(!1)},v=>{v(),s.previewing.set(!1)})}):s.lazyTypeaheadComp.get().each(b=>{s.model.populateFromBrowse&&rk(s.model,b,f),gs(f.element,"id").each(v=>xn(b.element,"aria-activedescendant",v))})},onExecute:(l,d)=>s.lazyTypeaheadComp.get().map(f=>(Xn(f,t4(),{item:d}),!0)),onHover:(l,d)=>{s.previewing.set(!1),s.lazyTypeaheadComp.get().each(f=>{s.model.populateFromBrowse&&rk(s.model,f,d)})}})})]),W$=kc({name:"Typeahead",configFields:U$(),partFields:k5(),factory:(s,l,d,f)=>{const b=(B,W,J)=>{s.previewing.set(!1);const se=di.getCoupled(B,"sandbox");if(A.isOpen(se))Os.getCurrent(se).each(pe=>{Gs.getHighlighted(pe).fold(()=>{J(pe)},()=>{Kc(se,pe.element,"keydown",W)})});else{const pe=ye=>{Os.getCurrent(ye).each(J)};w_(s,C(B),B,se,f,pe,Ql.HighlightMenuAndItem).get(U)}},v=E7(s),C=B=>W=>W.map(J=>{const se=aa(J.menus),pe=yn(se,ye=>Yt(ye.items,De=>De.type==="item"));return St.getState(B).update(Ve(pe,ye=>ye.data)),J}),k=B=>Os.getCurrent(B),E="typeaheadevents",N=[Eo.config({}),St.config({onSetValue:s.onSetValue,store:{mode:"dataset",getDataKey:B=>eg(B.element),getFallbackEntry:B=>({value:B,meta:{}}),setValue:(B,W)=>{sh(B.element,s.model.getDisplayText(W))},...s.initialData.map(B=>Nl("initialValue",B)).getOr({})}}),Q3.config({stream:{mode:"throttle",delay:s.responseTime,stopEvent:!1},onStream:(B,W)=>{const J=di.getCoupled(B,"sandbox");if(Eo.isFocused(B)&&eg(B.element).length>=s.minChars){const se=k(J).bind(ye=>Gs.getHighlighted(ye).map(St.getValue));s.previewing.set(!0);const pe=ye=>{k(J).each(De=>{se.fold(()=>{s.model.selectsOver&&Gs.highlightFirst(De)},ve=>{Gs.highlightBy(De,be=>St.getValue(be).value===ve.value),Gs.getHighlighted(De).orThunk(()=>(Gs.highlightFirst(De),I.none()))})})};w_(s,C(B),B,J,f,pe,Ql.HighlightJustMenu).get(U)}},cancelEvent:vd()}),eo.config({mode:"special",onDown:(B,W)=>(b(B,W,Gs.highlightFirst),I.some(!0)),onEscape:B=>{const W=di.getCoupled(B,"sandbox");return A.isOpen(W)?(A.close(W),I.some(!0)):I.none()},onUp:(B,W)=>(b(B,W,Gs.highlightLast),I.some(!0)),onEnter:B=>{const W=di.getCoupled(B,"sandbox"),J=A.isOpen(W);if(J&&!s.previewing.get())return k(W).bind(se=>Gs.getHighlighted(se)).map(se=>(Xn(B,t4(),{item:se}),!0));{const se=St.getValue(B);return Wo(B,vd()),s.onExecute(W,B,se),J&&A.close(W),I.some(!0)}}}),yo.config({toggleClass:s.markers.openClass,aria:{mode:"expanded"}}),di.config({others:{sandbox:B=>GA(s,B,{onOpen:()=>yo.on(B),onClose:()=>{s.lazyTypeaheadComp.get().each(W=>Uo(W.element,"aria-activedescendant")),yo.off(B)}})}}),jo(E,[hr(B=>{s.lazyTypeaheadComp.set(I.some(B))}),Ku(B=>{s.lazyTypeaheadComp.set(I.none())}),gu(B=>{const W=U;jA(s,C(B),B,f,W,Ql.HighlightMenuAndItem).get(U)}),Lt(t4(),(B,W)=>{const J=di.getCoupled(B,"sandbox");rk(s.model,B,W.event.item),Wo(B,vd()),s.onItemExecute(B,J,W.event.item,St.getValue(B)),A.close(J),e4(B)})].concat(s.dismissOnBlur?[Lt(af(),B=>{const W=di.getCoupled(B,"sandbox");yi(W.element).isNone()&&A.close(W)})]:[]))],$={[Uc()]:[St.name(),Q3.name(),E],...s.eventOrder};return{uid:s.uid,dom:bP(qs(s,{inputAttributes:{role:"combobox","aria-autocomplete":"list","aria-haspopup":"true"}})),behaviours:{...v,...zo(s.typeaheadBehaviours,N)},eventOrder:$}}}),s1=s=>({...s,toCached:()=>s1(s.toCached()),bindFuture:l=>s1(s.bind(d=>d.fold(f=>Eh(ss.error(f)),f=>l(f)))),bindResult:l=>s1(s.map(d=>d.bind(l))),mapResult:l=>s1(s.map(d=>d.map(l))),mapError:l=>s1(s.map(d=>d.mapError(l))),foldResult:(l,d)=>s.map(f=>f.fold(l,d)),withTimeout:(l,d)=>s1(Qb(f=>{let b=!1;const v=setTimeout(()=>{b=!0,f(ss.error(d()))},l);s.get(C=>{b||(clearTimeout(v),f(C))})}))}),E5=s=>s1(Qb(s)),Z2=(s,l,d=[],f,b,v,C)=>{const k=l.fold(()=>({}),$=>({action:$})),E={buttonBehaviours:an([Cl(()=>!s.enabled||C.isDisabled()),ba(),mr.config({}),...v.map($=>Ii.config(C.tooltips.getConfig({tooltipText:C.translate($)}))).toArray(),jo("button press",[Y1("click")])].concat(d)),eventOrder:{click:["button press","alloy.base.behaviour"],mousedown:["button press","alloy.base.behaviour"]},...k},N=qs(E,{dom:f});return qs(N,{components:b})},T5=(s,l,d,f=[],b)=>{const v={tag:"button",classes:["tox-tbtn"],attributes:{...s.tooltip.map(E=>({"aria-label":d.translate(E)})).getOr({}),"data-mce-name":b}},C=s.icon.map(E=>U2(E,d.icons)),k=jy([C]);return Z2(s,l,f,v,k,s.tooltip,d)},n4=s=>{switch(s){case"primary":return["tox-button"];case"toolbar":return["tox-tbtn"];default:return["tox-button","tox-button--secondary"]}},A5=(s,l,d,f=[],b=[])=>{const v=d.translate(s.text),C=s.icon.map(B=>U2(B,d.icons)),k=[C.getOrThunk(()=>ui(v))],E=s.buttonType.getOr(s.primary||s.borderless?"primary":"secondary"),N={tag:"button",classes:[...n4(E),...C.isSome()?["tox-button--icon"]:[],...s.borderless?["tox-button--naked"]:[],...b],attributes:{"aria-label":v,"data-mce-name":s.text}},$=s.icon.map(q(v));return Z2(s,l,f,N,k,$,d)},O5=(s,l,d,f=[],b=[])=>{const v=A5(s,I.some(l),d,f,b);return Fl.sketch(v)},o4=(s,l)=>d=>{l==="custom"?Xn(d,wg,{name:s,value:{}}):l==="submit"?Wo(d,B2):l==="cancel"?Wo(d,Up):console.error("Unknown button type: ",l)},ix=(s,l,d)=>{if(((f,b)=>b==="menu")(0,l)){const f=()=>C,b=s,v={...s,type:"menubutton",search:I.none(),onSetup:k=>(k.setEnabled(s.enabled),U),fetch:w5(b.items,f,d)},C=Ks(rx(v,"tox-tbtn",d,I.none(),!0,s.text.or(s.tooltip).getOrUndefined()));return C.asSpec()}if(((f,b)=>b==="custom"||b==="cancel"||b==="submit")(0,l)){const f=o4(s.name,l),b={...s,borderless:!1};return O5(b,f,d.shared.providers,[])}if(((f,b)=>b==="togglebutton")(0,l))return((f,b,v)=>{var C,k;const E=f.icon.map(be=>lv(be,b.icons)).map(Ks),N=f.buttonType.getOr(f.primary?"primary":"secondary"),$={...f,name:(C=f.name)!==null&&C!==void 0?C:"",tooltip:f.tooltip,enabled:(k=f.enabled)!==null&&k!==void 0&&k},B=$.tooltip.or(f.text).map(be=>({"aria-label":b.translate(be)})).getOr({}),W=n4(N??"secondary"),J=f.icon.isSome()&&f.text.isSome(),se={tag:"button",classes:[...W.concat(f.icon.isSome()?["tox-button--icon"]:[]),...f.active?["tox-button--enabled"]:[],...J?["tox-button--icon-and-text"]:[]],attributes:{...B,...K(v)?{"data-mce-name":v}:{}}},pe=b.translate(f.text.getOr("")),ye=ui(pe),De=[...jy([E.map(be=>be.asSpec())]),...f.text.isSome()?[ye]:[]],ve=Z2($,I.some(be=>{Xn(be,wg,{name:f.name,value:{setIcon:Ee=>{E.map(Pe=>Pe.getOpt(be).each(Le=>{go.set(Le,[lv(Ee,b.icons)])}))}}})}),[],se,De,f.tooltip,b);return Fl.sketch(ve)})(s,d.shared.providers,s.text.or(s.tooltip).getOrUndefined());throw console.error("Unknown footer button type: ",l),new Error("Unknown footer button type")},K$={type:"separator"},j$=s=>({type:"menuitem",value:s.url,text:s.title,meta:{attach:s.attach},onAction:U}),s4=(s,l)=>({type:"menuitem",value:l,text:s,meta:{attach:void 0},onAction:U}),R5=(s,l)=>(d=>Ve(d,j$))(((d,f)=>Yt(f,b=>b.type===d))(s,l)),Z$=s=>R5("header",s.targets),G$=s=>R5("anchor",s.targets),I5=s=>I.from(s.anchorTop).map(l=>s4("<top>",l)).toArray(),D5=s=>I.from(s.anchorBottom).map(l=>s4("<bottom>",l)).toArray(),r4=(s,l)=>{const d=s.toLowerCase();return Yt(l,f=>{var b;const v=f.meta!==void 0&&f.meta.text!==void 0?f.meta.text:f.text,C=(b=f.value)!==null&&b!==void 0?b:"";return ii(v.toLowerCase(),d)||ii(C.toLowerCase(),d)})},P5=Nn("aria-invalid"),q$=(s,l)=>{s.dom.checked=l},ad=s=>s.dom.checked,Hr=s=>(l,d,f,b,v)=>cn(d,"name").fold(()=>s(d,b,I.none(),v),C=>l.field(C,s(d,b,cn(f,C),v))),Y$={bar:Hr((s,l)=>((d,f)=>({dom:{tag:"div",classes:["tox-bar","tox-form__controls-h-stack"]},components:Ve(d.items,f.interpreter)}))(s,l.shared)),collection:Hr((s,l,d)=>ON(s,l.shared.providers,d)),alertbanner:Hr((s,l)=>((d,f)=>{const b=lP(d.icon,f.icons);return _m.sketch({dom:{tag:"div",attributes:{role:"alert"},classes:["tox-notification","tox-notification--in",`tox-notification--${d.level}`]},components:[{dom:{tag:"div",classes:["tox-notification__icon"],innerHtml:d.url?void 0:b},components:d.url?[Fl.sketch({dom:{tag:"button",classes:["tox-button","tox-button--naked","tox-button--icon"],innerHtml:b,attributes:{title:f.translate(d.iconTooltip)}},action:v=>Xn(v,wg,{name:"alert-banner",value:d.url}),buttonBehaviours:an([e_()])})]:void 0},{dom:{tag:"div",classes:["tox-notification__body"],innerHtml:f.translate(d.text)}}]})})(s,l.shared.providers)),input:Hr((s,l,d)=>((f,b,v)=>m5({name:f.name,multiline:!1,label:f.label,inputMode:f.inputMode,placeholder:f.placeholder,flex:!1,disabled:!f.enabled,classname:"tox-textfield",validation:I.none(),maximized:f.maximized,data:v},b))(s,l.shared.providers,d)),textarea:Hr((s,l,d)=>((f,b,v)=>m5({name:f.name,multiline:!0,label:f.label,inputMode:I.none(),placeholder:f.placeholder,flex:!0,disabled:!f.enabled,classname:"tox-textarea",validation:I.none(),maximized:f.maximized,data:v},b))(s,l.shared.providers,d)),label:Hr((s,l,d,f)=>((b,v,C)=>{const k="tox-label",E=b.align==="center"?[`${k}--center`]:[],N=b.align==="end"?[`${k}--end`]:[],$=Ks({dom:{tag:"label",classes:[k,...E,...N]},components:[ui(v.providers.translate(b.label))]}),B=Ve(b.items,v.interpreter);return{dom:{tag:"div",classes:["tox-form__group"]},components:[$.asSpec(),...B],behaviours:an([Ih(),go.config({}),(W=I.none(),A3(W,fm,gp)),eo.config({mode:"acyclic"}),jo("label",[hr(J=>{b.for.each(se=>{C(se).each(pe=>{$.getOpt(J).each(ye=>{var De;const ve=(De=ns(pe.element,"id"))!==null&&De!==void 0?De:Nn("form-field");xn(pe.element,"id",ve),xn(ye.element,"for",ve)})})})})])])};var W})(s,l.shared,f)),iframe:(E4=(s,l,d)=>((f,b,v)=>{const C="tox-dialog__iframe",k=f.transparent?[]:[`${C}--opaque`],E=f.border?["tox-navobj-bordered"]:[],N={...f.label.map(J=>({title:J})).getOr({}),...v.map(J=>({srcdoc:J})).getOr({}),...f.sandboxed?{sandbox:"allow-scripts allow-same-origin"}:{}},$=((J,se)=>{const pe=Wn(J.getOr(""));return{getValue:ye=>pe.get(),setValue:(ye,De)=>{if(pe.get()!==De){const ve=ye.element,be=()=>xn(ve,"srcdoc",De);se?V3.fold(q($3),Ee=>Ee.throttle)(ve,De,be):be()}pe.set(De)}}})(v,f.streamContent),B=f.label.map(J=>tv(J,b)),W=Ys.parts.field({factory:{sketch:J=>P3(I.from(E),{uid:J.uid,dom:{tag:"iframe",attributes:N,classes:[C,...k]},behaviours:an([mr.config({}),Eo.config({}),n1(v,$.getValue,$.setValue),fc.config({channels:{[Y_]:{onReceive:(se,pe)=>{pe.newFocus.each(ye=>{Ta(se.element).each(De=>{(cs(se.element,ye)?Vn:Fo)(De,"tox-navobj-bordered-focus")})})}}}})])})}});return L2(B,W,["tox-form__group--stretched"],[])})(s,l.shared.providers,d),(s,l,d,f,b)=>{const v=qs(l,{source:"dynamic"});return Hr(E4)(s,v,d,f,b)}),button:Hr((s,l)=>((d,f)=>{const b=o4(d.name,"custom");return v=I.none(),C=Ys.parts.field({factory:Fl,...A5(d,I.some(b),f,[H2(""),Ih()])}),L2(v,C,[],[]);var v,C})(s,l.shared.providers)),checkbox:Hr((s,l,d)=>((f,b,v)=>{const C=B=>(B.element.dom.click(),I.some(!0)),k=Ys.parts.field({factory:{sketch:he},dom:{tag:"input",classes:["tox-checkbox__input"],attributes:{type:"checkbox"}},behaviours:an([Ih(),Oo.config({disabled:()=>!f.enabled||b.isDisabled(),onDisabled:B=>{Ta(B.element).each(W=>Vn(W,"tox-checkbox--disabled"))},onEnabled:B=>{Ta(B.element).each(W=>Fo(W,"tox-checkbox--disabled"))}}),mr.config({}),Eo.config({}),A3(v,ad,q$),eo.config({mode:"special",onEnter:C,onSpace:C,stopSpaceKeyup:!0}),jo("checkbox-events",[Lt(sm(),(B,W)=>{Xn(B,ec,{name:f.name})})])])}),E=Ys.parts.label({dom:{tag:"span",classes:["tox-checkbox__label"]},components:[ui(b.translate(f.label))],behaviours:an([Q0.config({})])}),N=B=>od(B==="checked"?"selected":"unselected",{tag:"span",classes:["tox-icon","tox-checkbox-icon__"+B]},b.icons),$=Ks({dom:{tag:"div",classes:["tox-checkbox__icons"]},components:[N("checked"),N("unchecked")]});return Ys.sketch({dom:{tag:"label",classes:["tox-checkbox"]},components:[k,$.asSpec(),E],fieldBehaviours:an([Oo.config({disabled:()=>!f.enabled||b.isDisabled()}),ba()])})})(s,l.shared.providers,d)),colorinput:Hr((s,l,d)=>((f,b,v,C)=>{const k=Ys.parts.field({factory:$p,inputClasses:["tox-textfield"],data:C,onSetValue:B=>Th.run(B).get(U),inputBehaviours:an([Oo.config({disabled:b.providers.isDisabled}),ba(),mr.config({}),Th.config({invalidClass:"tox-textbox-field-invalid",getRoot:B=>Ta(B.element),notify:{onValid:B=>{const W=St.getValue(B);Xn(B,s3,{color:W})}},validator:{validateOnLoad:!1,validate:B=>{const W=St.getValue(B);if(W.length===0)return Eh(ss.value(!0));{const J=Ui("span");_o(J,"background-color",W);const se=Jr(J,"background-color").fold(()=>ss.error("blah"),pe=>ss.value(W));return Eh(se)}}}})]),selectOnFocus:!1}),E=f.label.map(B=>tv(B,b.providers)),N=(B,W)=>{Xn(B,r3,{value:W})},$=Ks(((B,W)=>hc.sketch({dom:B.dom,components:B.components,toggleClass:"mce-active",dropdownBehaviours:an([Cl(W.providers.isDisabled),ba(),Q0.config({}),mr.config({})]),layouts:B.layouts,sandboxClasses:["tox-dialog__popups"],lazySink:W.getSink,fetch:J=>Qb(se=>B.fetch(se)).map(se=>I.from(YA(qs(X0(Nn("menu-value"),se,pe=>{B.onItemAction(J,pe)},B.columns,B.presets,yg.CLOSE_ON_EXECUTE,Ce,W.providers),{movement:I2(B.columns,B.presets)})))),parts:{menu:o_(0,0,B.presets)}}))({dom:{tag:"span",attributes:{"aria-label":b.providers.translate("Color swatch")}},layouts:{onRtl:()=>[oi,ni,vi],onLtr:()=>[ni,oi,vi]},components:[],fetch:cN(v.getColors(f.storageKey),f.storageKey,v.hasCustomColors()),columns:v.getColorCols(f.storageKey),presets:"color",onItemAction:(B,W)=>{$.getOpt(B).each(J=>{W==="custom"?v.colorPicker(se=>{se.fold(()=>Wo(J,NN),pe=>{N(J,pe),DA(f.storageKey,pe)})},"#ffffff"):N(J,W==="remove"?"":W)})}},b));return Ys.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:E.toArray().concat([{dom:{tag:"div",classes:["tox-color-input"]},components:[k,$.asSpec()]}]),fieldBehaviours:an([jo("form-field-events",[Lt(s3,(B,W)=>{$.getOpt(B).each(J=>{_o(J.element,"background-color",W.event.color)}),Xn(B,ec,{name:f.name})}),Lt(r3,(B,W)=>{Ys.getField(B).each(J=>{St.setValue(J,W.event.value),Os.getCurrent(B).each(Eo.focus)})}),Lt(NN,(B,W)=>{Ys.getField(B).each(J=>{Os.getCurrent(B).each(Eo.focus)})})])])})})(s,l.shared,l.colorinput,d)),colorpicker:Hr((s,l,d)=>((f,b,v)=>{const C=N=>"tox-"+N,k=t5((N=>$=>h($)?N.translate(I$[$]):N.translate($))(b),C,b.tooltips.getConfig,(N,$,B=N,W=N)=>od(B,{tag:"div",classes:["tox-icon","tox-control-wrap__status-icon-"+N],attributes:{title:b.translate(W),"aria-live":"polite",...$.fold(()=>({}),J=>({id:J}))}},b.icons)),E=Ks(k.sketch({dom:{tag:"div",classes:[C("color-picker-container")],attributes:{role:"presentation"}},onValidHex:N=>{Xn(N,wg,{name:"hex-valid",value:!0})},onInvalidHex:N=>{Xn(N,wg,{name:"hex-valid",value:!1})}}));return{dom:{tag:"div"},components:[E.asSpec()],behaviours:an([n1(v,N=>{const $=E.get(N);return Os.getCurrent($).bind(B=>St.getValue(B).hex).map(B=>"#"+js(B,"#")).getOr("")},(N,$)=>{const B=I.from(/^#([a-fA-F0-9]{3}(?:[a-fA-F0-9]{3})?)/.exec($)).bind(J=>Re(J,1)),W=E.get(N);Os.getCurrent(W).fold(()=>{console.log("Can not find form")},J=>{St.setValue(J,{hex:B.getOr("")}),rv.getField(J,"hex").each(se=>{Wo(se,rf())})})}),Ih()])}})(0,l.shared.providers,d)),dropzone:Hr((s,l,d)=>((f,b,v)=>{const C=(se,pe)=>{pe.stop()},k=se=>(pe,ye)=>{bt(se,De=>{De(pe,ye)})},E=(se,pe)=>{var ye;if(!Oo.isDisabled(se)){const De=pe.event.raw;$(se,(ye=De.dataTransfer)===null||ye===void 0?void 0:ye.files)}},N=(se,pe)=>{const ye=pe.event.raw.target;$(se,ye.files)},$=(se,pe)=>{pe&&(St.setValue(se,((ye,De)=>{const ve=jp.explode(De.getOption("images_file_types"));return Yt(wt(ye),be=>Rn(ve,Ee=>Rc(be.name.toLowerCase(),`.${Ee.toLowerCase()}`)))})(pe,b)),Xn(se,ec,{name:f.name}))},B=Ks({dom:{tag:"input",attributes:{type:"file",accept:"image/*"},styles:{display:"none"}},behaviours:an([jo("input-file-events",[rm(bi()),rm(lf())])])}),W=f.label.map(se=>tv(se,b)),J=Ys.parts.field({factory:{sketch:se=>({uid:se.uid,dom:{tag:"div",classes:["tox-dropzone-container"]},behaviours:an([H2(v.getOr([])),Ih(),Oo.config({}),yo.config({toggleClass:"dragenter",toggleOnExecute:!1}),jo("dropzone-events",[Lt("dragenter",k([C,yo.toggle])),Lt("dragleave",k([C,yo.toggle])),Lt("dragover",C),Lt("drop",k([C,E])),Lt(sm(),N)])]),components:[{dom:{tag:"div",classes:["tox-dropzone"],styles:{}},components:[{dom:{tag:"p"},components:[ui(b.translate("Drop an image here"))]},Fl.sketch({dom:{tag:"button",styles:{position:"relative"},classes:["tox-button","tox-button--secondary"]},components:[ui(b.translate("Browse for an image")),B.asSpec()],action:pe=>{B.get(pe).element.dom.click()},buttonBehaviours:an([mr.config({}),Cl(b.isDisabled),ba()])})]}]})}});return L2(W,J,["tox-form__group--stretched"],[])})(s,l.shared.providers,d)),grid:Hr((s,l)=>((d,f)=>({dom:{tag:"div",classes:["tox-form__grid",`tox-form__grid--${d.columns}col`]},components:Ve(d.items,f.interpreter)}))(s,l.shared)),listbox:Hr((s,l,d)=>((f,b,v)=>{const C=Rn(f.items,W=>!W2(W)),k=b.shared.providers,E=v.bind(W=>nk(f.items,W)).orThunk(()=>Fe(f.items).filter(W2)),N=f.label.map(W=>tv(W,k)),$=Ys.parts.field({dom:{},factory:{sketch:W=>U3({uid:W.uid,text:E.map(J=>J.text),icon:I.none(),tooltip:I.none(),role:Go(!C,"combobox"),...C?{}:{listRole:"listbox"},ariaLabel:f.label,fetch:(J,se)=>{const pe=tk(J,f.name,f.items,St.getValue(J),C);se(o1(pe,yg.CLOSE_ON_EXECUTE,b,{isHorizontalMenu:!1,search:I.none()}))},onSetup:q(U),getApi:q({}),columns:1,presets:"normal",classes:[],dropdownBehaviours:[mr.config({}),n1(E.map(J=>J.value),J=>ns(J.element,W3),(J,se)=>{nk(f.items,se).each(pe=>{xn(J.element,W3,pe.value),Xn(J,Pd,{text:pe.text})})})]},"tox-listbox",b.shared)}}),B={dom:{tag:"div",classes:["tox-listboxfield"]},components:[$]};return Ys.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:nn([N.toArray(),[B]]),fieldBehaviours:an([Oo.config({disabled:q(!f.enabled),onDisabled:W=>{Ys.getField(W).each(Oo.disable)},onEnabled:W=>{Ys.getField(W).each(Oo.enable)}})])})})(s,l,d)),selectbox:Hr((s,l,d)=>((f,b,v)=>{const C=Ve(f.items,B=>({text:b.translate(B.text),value:B.value})),k=f.label.map(B=>tv(B,b)),E=Ys.parts.field({dom:{},...v.map(B=>({data:B})).getOr({}),selectAttributes:{size:f.size},options:C,factory:N$,selectBehaviours:an([Oo.config({disabled:()=>!f.enabled||b.isDisabled()}),mr.config({}),jo("selectbox-change",[Lt(sm(),(B,W)=>{Xn(B,ec,{name:f.name})})])])}),N=f.size>1?I.none():I.some(od("chevron-down",{tag:"div",classes:["tox-selectfield__icon-js"]},b.icons)),$={dom:{tag:"div",classes:["tox-selectfield"]},components:nn([[E],N.toArray()])};return Ys.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:nn([k.toArray(),[$]]),fieldBehaviours:an([Oo.config({disabled:()=>!f.enabled||b.isDisabled(),onDisabled:B=>{Ys.getField(B).each(Oo.disable)},onEnabled:B=>{Ys.getField(B).each(Oo.enable)}}),ba()])})})(s,l.shared.providers,d)),sizeinput:Hr((s,l)=>((d,f)=>{let b=G3;const v=Nn("ratio-event"),C=pe=>od(pe,{tag:"span",classes:["tox-icon","tox-lock-icon__"+pe]},f.icons),k=d.label.getOr("Constrain proportions"),E=f.translate(k),N=id.parts.lock({dom:{tag:"button",classes:["tox-lock","tox-button","tox-button--naked","tox-button--icon"],attributes:{"aria-label":E,"data-mce-name":k}},components:[C("lock"),C("unlock")],buttonBehaviours:an([Oo.config({disabled:()=>!d.enabled||f.isDisabled()}),ba(),mr.config({}),Ii.config(f.tooltips.getConfig({tooltipText:E}))])}),$=pe=>({dom:{tag:"div",classes:["tox-form__group"]},components:pe}),B=pe=>Ys.parts.field({factory:$p,inputClasses:["tox-textfield"],inputBehaviours:an([Oo.config({disabled:()=>!d.enabled||f.isDisabled()}),ba(),mr.config({}),jo("size-input-events",[Lt(Is(),(ye,De)=>{Xn(ye,v,{isField1:pe})}),Lt(sm(),(ye,De)=>{Xn(ye,ec,{name:d.name})})])]),selectOnFocus:!1}),W=pe=>({dom:{tag:"label",classes:["tox-label"]},components:[ui(f.translate(pe))]}),J=id.parts.field1($([Ys.parts.label(W("Width")),B(!0)])),se=id.parts.field2($([Ys.parts.label(W("Height")),B(!1)]));return id.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:[{dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:[J,se,$([W(""),N])]}],field1Name:"width",field2Name:"height",locked:!0,markers:{lockClass:"tox-locked"},onLockedChange:(pe,ye,De)=>{j3(St.getValue(pe)).each(ve=>{b(ve).each(be=>{St.setValue(ye,(Ee=>{const Pe={"":0,px:0,pt:1,mm:1,pc:2,ex:2,em:2,ch:2,rem:2,cm:3,in:4,"%":4};let Le=Ee.value.toFixed((et=Ee.unit)in Pe?Pe[et]:1);var et;return Le.indexOf(".")!==-1&&(Le=Le.replace(/\.?0*$/,"")),Le+Ee.unit})(be))})})},coupledFieldBehaviours:an([Oo.config({disabled:()=>!d.enabled||f.isDisabled(),onDisabled:pe=>{id.getField1(pe).bind(Ys.getField).each(Oo.disable),id.getField2(pe).bind(Ys.getField).each(Oo.disable),id.getLock(pe).each(Oo.disable)},onEnabled:pe=>{id.getField1(pe).bind(Ys.getField).each(Oo.enable),id.getField2(pe).bind(Ys.getField).each(Oo.enable),id.getLock(pe).each(Oo.enable)}}),ba(),jo("size-input-events2",[Lt(v,(pe,ye)=>{const De=ye.event.isField1,ve=De?id.getField1(pe):id.getField2(pe),be=De?id.getField2(pe):id.getField1(pe),Ee=ve.map(St.getValue).getOr(""),Pe=be.map(St.getValue).getOr("");b=((Le,et)=>{const ht=j3(Le).toOptional(),zt=j3(et).toOptional();return tn(ht,zt,(Bt,Pt)=>Z3(Bt,Pt.unit).map(sn=>Pt.value/sn).map(sn=>{return In=sn,Kn=Pt.unit,ro=>Z3(ro,Kn).map(Ro=>({value:Ro*In,unit:Kn}));var In,Kn}).getOr(G3)).getOr(G3)})(Ee,Pe)})])])})})(s,l.shared.providers)),slider:Hr((s,l,d)=>((f,b,v)=>{const C=Em.parts.label({dom:{tag:"label",classes:["tox-label"]},components:[ui(b.translate(f.label))]}),k=Em.parts.spectrum({dom:{tag:"div",classes:["tox-slider__rail"],attributes:{role:"presentation"}}}),E=Em.parts.thumb({dom:{tag:"div",classes:["tox-slider__handle"],attributes:{role:"presentation"}}});return Em.sketch({dom:{tag:"div",classes:["tox-slider"],attributes:{role:"presentation"}},model:{mode:"x",minX:f.min,maxX:f.max,getInitialValue:q(v.getOrThunk(()=>(Math.abs(f.max)-Math.abs(f.min))/2))},components:[C,k,E],sliderBehaviours:an([Ih(),Eo.config({})]),onChoose:(N,$,B)=>{Xn(N,ec,{name:f.name,value:B})},onChange:(N,$,B)=>{Xn(N,ec,{name:f.name,value:B})}})})(s,l.shared.providers,d)),urlinput:Hr((s,l,d)=>((f,b,v,C)=>{const k=b.shared.providers,E=ve=>{const be=St.getValue(ve);v.addToHistory(be.value,f.filetype)},N={...C.map(ve=>({initialData:ve})).getOr({}),dismissOnBlur:!0,inputClasses:["tox-textfield"],sandboxClasses:["tox-dialog__popups"],inputAttributes:{"aria-errormessage":P5,type:"url"},minChars:0,responseTime:0,fetch:ve=>{const be=((Pe,Le,et)=>{var ht,zt;const Bt=St.getValue(Le),Pt=(zt=(ht=Bt==null?void 0:Bt.meta)===null||ht===void 0?void 0:ht.text)!==null&&zt!==void 0?zt:Bt.value;return et.getLinkInformation().fold(()=>[],sn=>{const In=r4(Pt,(ro=>Ve(ro,Ro=>s4(Ro,Ro)))(et.getHistory(Pe)));return Pe==="file"?(Kn=[In,r4(Pt,Z$(sn)),r4(Pt,nn([I5(sn),G$(sn),D5(sn)]))],Jt(Kn,(ro,Ro)=>ro.length===0||Ro.length===0?ro.concat(Ro):ro.concat(K$,Ro),[])):In;var Kn})})(f.filetype,ve,v),Ee=o1(be,yg.BUBBLE_TO_SANDBOX,b,{isHorizontalMenu:!1,search:I.none()});return Eh(Ee)},getHotspot:ve=>ye.getOpt(ve),onSetValue:(ve,be)=>{ve.hasConfigured(Th)&&Th.run(ve).get(U)},typeaheadBehaviours:an([...v.getValidationHandler().map(ve=>Th.config({getRoot:be=>Ta(be.element),invalidClass:"tox-control-wrap--status-invalid",notify:{onInvalid:(be,Ee)=>{W.getOpt(be).each(Pe=>{xn(Pe.element,"title",k.translate(Ee))})}},validator:{validate:be=>{const Ee=St.getValue(be);return E5(Pe=>{ve({type:f.filetype,url:Ee.value},Le=>{if(Le.status==="invalid"){const et=ss.error(Le.message);Pe(et)}else{const et=ss.value(Le.message);Pe(et)}})})},validateOnLoad:!1}})).toArray(),Oo.config({disabled:()=>!f.enabled||k.isDisabled()}),mr.config({}),jo("urlinput-events",[Lt(rf(),ve=>{const be=eg(ve.element),Ee=be.trim();Ee!==be&&sh(ve.element,Ee),f.filetype==="file"&&Xn(ve,ec,{name:f.name})}),Lt(sm(),ve=>{Xn(ve,ec,{name:f.name}),E(ve)}),Lt(cp(),ve=>{Xn(ve,ec,{name:f.name}),E(ve)})])]),eventOrder:{[rf()]:["streaming","urlinput-events","invalidating"]},model:{getDisplayText:ve=>ve.value,selectsOver:!1,populateFromBrowse:!1},markers:{openClass:"tox-textfield--popup-open"},lazySink:b.shared.getSink,parts:{menu:o_(0,0,"normal")},onExecute:(ve,be,Ee)=>{Xn(be,B2,{})},onItemExecute:(ve,be,Ee,Pe)=>{E(ve),Xn(ve,ec,{name:f.name})}},$=Ys.parts.field({...N,factory:W$}),B=f.label.map(ve=>tv(ve,k)),W=Ks(((ve,be,Ee=ve,Pe=ve)=>od(Ee,{tag:"div",classes:["tox-icon","tox-control-wrap__status-icon-"+ve],attributes:{title:k.translate(Pe),"aria-live":"polite",...be.fold(()=>({}),Le=>({id:Le}))}},k.icons))("invalid",I.some(P5),"warning")),J=Ks({dom:{tag:"div",classes:["tox-control-wrap__status-icon-wrap"]},components:[W.asSpec()]}),se=v.getUrlPicker(f.filetype),pe=Nn("browser.url.event"),ye=Ks({dom:{tag:"div",classes:["tox-control-wrap"]},components:[$,J.asSpec()],behaviours:an([Oo.config({disabled:()=>!f.enabled||k.isDisabled()})])}),De=Ks(O5({name:f.name,icon:I.some("browse"),text:f.picker_text.or(f.label).getOr(""),enabled:f.enabled,primary:!1,buttonType:I.none(),borderless:!0},ve=>Wo(ve,pe),k,[],["tox-browse-url"]));return Ys.sketch({dom:k_([]),components:B.toArray().concat([{dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:nn([[ye.asSpec()],se.map(()=>De.asSpec()).toArray()])}]),fieldBehaviours:an([Oo.config({disabled:()=>!f.enabled||k.isDisabled(),onDisabled:ve=>{Ys.getField(ve).each(Oo.disable),De.getOpt(ve).each(Oo.disable)},onEnabled:ve=>{Ys.getField(ve).each(Oo.enable),De.getOpt(ve).each(Oo.enable)}}),ba(),jo("url-input-events",[Lt(pe,ve=>{Os.getCurrent(ve).each(be=>{const Ee=St.getValue(be),Pe={fieldname:f.name,...Ee};se.each(Le=>{Le(Pe).get(et=>{St.setValue(be,et),Xn(ve,ec,{name:f.name})})})})})])])})})(s,l,l.urlinput,d)),customeditor:Hr(s=>{const l=Ss(),d=Ks({dom:{tag:s.tag}}),f=Ss(),b=!O3(s)&&s.onFocus.isSome()?[Eo.config({onFocus:v=>{s.onFocus.each(C=>{C(v.element.dom)})}}),mr.config({})]:[];return{dom:{tag:"div",classes:["tox-custom-editor"]},behaviours:an([jo("custom-editor-events",[hr(v=>{d.getOpt(v).each(C=>{(O3(s)?s.init(C.element.dom):n5.load(s.scriptId,s.scriptUrl).then(k=>k(C.element.dom,s.settings))).then(k=>{f.on(E=>{k.setValue(E)}),f.clear(),l.set(k)})})})]),n1(I.none(),()=>l.get().fold(()=>f.get().getOr(""),v=>v.getValue()),(v,C)=>{l.get().fold(()=>f.set(C),k=>k.setValue(C))}),Ih()].concat(b)),components:[d.asSpec()]}}),htmlpanel:Hr((s,l)=>((d,f)=>{const b=["tox-form__group",...d.stretched?["tox-form__group--stretched"]:[]],v=jo("htmlpanel",[hr(C=>{d.onInit(C.element.dom)})]);return d.presets==="presentation"?_m.sketch({dom:{tag:"div",classes:b,innerHtml:d.html},containerBehaviours:an([Ii.config({...f.tooltips.getConfig({tooltipText:"",onShow:C=>{Lr(C.element,"[data-mce-tooltip]:hover").orThunk(()=>yi(C.element)).each(k=>{gs(k,"data-mce-tooltip").each(E=>{Ii.setComponents(C,f.tooltips.getComponents({tooltipText:E}))})})}}),mode:"children-normal",anchor:C=>({type:"node",node:Lr(C.element,"[data-mce-tooltip]:hover").orThunk(()=>yi(C.element).filter(k=>gs(k,"data-mce-tooltip").isSome())),root:C.element,layouts:{onLtr:q([vi,Yr,ni,Oi,oi,er]),onRtl:q([vi,Yr,ni,Oi,oi,er])},bubble:pu(0,-2,{})})}),v])}):_m.sketch({dom:{tag:"div",classes:b,innerHtml:d.html,attributes:{role:"document"}},containerBehaviours:an([mr.config({}),Eo.config({}),v])})})(s,l.shared.providers)),imagepreview:Hr((s,l,d)=>((f,b)=>{const v=Wn(b.getOr({url:""})),C=Ks({dom:{tag:"img",classes:["tox-imagepreview__image"],attributes:b.map($=>({src:$.url})).getOr({})}}),k=Ks({dom:{tag:"div",classes:["tox-imagepreview__container"],attributes:{role:"presentation"}},components:[C.asSpec()]}),E={};f.height.each($=>E.height=$);const N=b.map($=>({url:$.url,zoom:I.from($.zoom),cachedWidth:I.from($.cachedWidth),cachedHeight:I.from($.cachedHeight)}));return{dom:{tag:"div",classes:["tox-imagepreview"],styles:E,attributes:{role:"presentation"}},components:[k.asSpec()],behaviours:an([Ih(),n1(N,()=>v.get(),($,B)=>{const W={url:B.url};B.zoom.each(se=>W.zoom=se),B.cachedWidth.each(se=>W.cachedWidth=se),B.cachedHeight.each(se=>W.cachedHeight=se),v.set(W);const J=()=>{const{cachedWidth:se,cachedHeight:pe,zoom:ye}=W;if(!M(se)&&!M(pe)){if(M(ye)){const ve=((be,Ee,Pe)=>{const Le=Wi(be),et=Rr(be);return Math.min(Le/Ee,et/Pe,1)})($.element,se,pe);W.zoom=ve}const De=((ve,be,Ee,Pe,Le)=>{const et=Ee*Le,ht=Pe*Le,zt=Math.max(0,ve/2-et/2),Bt=Math.max(0,be/2-ht/2);return{left:zt.toString()+"px",top:Bt.toString()+"px",width:et.toString()+"px",height:ht.toString()+"px"}})(Wi($.element),Rr($.element),se,pe,W.zoom);k.getOpt($).each(ve=>{Al(ve.element,De)})}};C.getOpt($).each(se=>{const pe=se.element;var ye;B.url!==ns(pe,"src")&&(xn(pe,"src",B.url),Fo($.element,"tox-imagepreview__loaded")),J(),(ye=pe,new Promise((De,ve)=>{const be=()=>{Pe(),De(ye)},Ee=[Ll(ye,"load",be),Ll(ye,"error",()=>{Pe(),ve("Unable to load data from image: "+ye.dom.src)})],Pe=()=>bt(Ee,Le=>Le.unbind());ye.dom.complete&&be()})).then(De=>{$.getSystem().isConnected()&&(Vn($.element,"tox-imagepreview__loaded"),W.cachedWidth=De.dom.naturalWidth,W.cachedHeight=De.dom.naturalHeight,J())})})})])}})(s,d)),table:Hr((s,l)=>((d,f)=>{const b=k=>({dom:{tag:"td",innerHtml:f.translate(k)}});return{dom:{tag:"table",classes:["tox-dialog__table"]},components:[(C=d.header,{dom:{tag:"thead"},components:[{dom:{tag:"tr"},components:Ve(C,k=>({dom:{tag:"th",innerHtml:f.translate(k)}}))}]}),(v=d.cells,{dom:{tag:"tbody"},components:Ve(v,k=>({dom:{tag:"tr"},components:Ve(k,b)}))})],behaviours:an([mr.config({}),Eo.config({})])};var v,C})(s,l.shared.providers)),tree:Hr((s,l)=>((d,f)=>{const b=d.onLeafAction.getOr(U),v=d.onToggleExpand.getOr(U),C=d.defaultExpandedIds,k=Wn(C),E=Wn(d.defaultSelectedId),N=Nn("tree-id"),$=(B,W)=>d.items.map(J=>J.type==="leaf"?J3({leaf:J,selectedId:B,onLeafAction:b,visible:!0,treeId:N,backstage:f}):sk({directory:J,selectedId:B,onLeafAction:b,expandedIds:W,labelTabstopping:!0,treeId:N,backstage:f}));return{dom:{tag:"div",classes:["tox-tree"],attributes:{role:"tree"}},components:$(E.get(),k.get()),behaviours:an([eo.config({mode:"flow",selector:".tox-tree--leaf__label--visible, .tox-tree--directory__label--visible",cycles:!1}),jo($$,[Lt("expand-tree-node",(B,W)=>{const{expanded:J,node:se}=W.event;k.set(J?[...k.get(),se]:k.get().filter(pe=>pe!==se)),v(k.get(),{expanded:J,node:se})})]),fc.config({channels:{[`update-active-item-${N}`]:{onReceive:(B,W)=>{E.set(I.some(W.value)),go.set(B,$(I.some(W.value),k.get()))}}}}),go.config({})])}})(s,l)),panel:Hr((s,l)=>((d,f)=>({dom:{tag:"div",classes:d.classes},components:Ve(d.items,f.shared.interpreter)}))(s,l))},i4={field:(s,l)=>l,record:q([])},ak=(s,l,d,f,b)=>{const v=qs(f,{shared:{interpreter:C=>a4(s,C,d,v,b)}});return a4(s,l,d,v,b)},a4=(s,l,d,f,b)=>cn(Y$,l.type).fold(()=>(console.error(`Unknown factory type "${l.type}", defaulting to container: `,l),l),v=>v(s,l,d,f,b)),N5=(s,l,d,f)=>a4(i4,s,l,d,f),Tm="layout-inset",ax=s=>s.x,lk=(s,l)=>s.x+s.width/2-l.width/2,l4=(s,l)=>s.x+s.width-l.width,Of=s=>s.y,c4=(s,l)=>s.y+s.height-l.height,M5=(s,l)=>s.y+s.height/2-l.height/2,xu=(s,l,d)=>tl(l4(s,l),c4(s,l),d.insetSouthwest(),_p(),"southwest",nl(s,{right:0,bottom:3}),Tm),dv=(s,l,d)=>tl(ax(s),c4(s,l),d.insetSoutheast(),s0(),"southeast",nl(s,{left:1,bottom:3}),Tm),wu=(s,l,d)=>tl(l4(s,l),Of(s),d.insetNorthwest(),Sp(),"northwest",nl(s,{right:0,top:2}),Tm),G2=(s,l,d)=>tl(ax(s),Of(s),d.insetNortheast(),o0(),"northeast",nl(s,{left:1,top:2}),Tm),Rs=(s,l,d)=>tl(lk(s,l),Of(s),d.insetNorth(),iS(),"north",nl(s,{top:2}),Tm),Dh=(s,l,d)=>tl(lk(s,l),c4(s,l),d.insetSouth(),gw(),"south",nl(s,{bottom:3}),Tm),q2=(s,l,d)=>tl(l4(s,l),M5(s,l),d.insetEast(),aS(),"east",nl(s,{right:0}),Tm),u4=(s,l,d)=>tl(ax(s),M5(s,l),d.insetWest(),hw(),"west",nl(s,{left:1}),Tm),d4=s=>{switch(s){case"north":return Rs;case"northeast":return G2;case"northwest":return wu;case"south":return Dh;case"southeast":return dv;case"southwest":return xu;case"east":return q2;case"west":return u4}},ck=(s,l,d,f,b)=>d0(f).map(d4).getOr(Rs)(s,l,d,f,b),X$=s=>{switch(s){case"north":return Dh;case"northeast":return dv;case"northwest":return xu;case"south":return Rs;case"southeast":return G2;case"southwest":return wu;case"east":return u4;case"west":return q2}},f4=(s,l,d,f,b)=>d0(f).map(X$).getOr(Rs)(s,l,d,f,b),Y2={valignCentre:[],alignCentre:[],alignLeft:[],alignRight:[],right:[],left:[],bottom:[],top:[]},L5=(s,l,d)=>{const f={maxHeightFunction:Ap()};return()=>d()?{type:"node",root:lt(Ct(s())),node:I.from(s()),bubble:pu(12,12,Y2),layouts:{onRtl:()=>[G2],onLtr:()=>[wu]},overrides:f}:{type:"hotspot",hotspot:l(),bubble:pu(-12,12,Y2),layouts:{onRtl:()=>[ni,oi,vi],onLtr:()=>[oi,ni,vi]},overrides:f}},B5=(s,l,d,f)=>{const b={maxHeightFunction:Ap()};return()=>f()?{type:"node",root:lt(Ct(l())),node:I.from(l()),bubble:pu(12,12,Y2),layouts:{onRtl:()=>[Rs],onLtr:()=>[Rs]},overrides:b}:s?{type:"node",root:lt(Ct(l())),node:I.from(l()),bubble:pu(0,-hl(l()),Y2),layouts:{onRtl:()=>[Yr],onLtr:()=>[Yr]},overrides:b}:{type:"hotspot",hotspot:d(),bubble:pu(0,0,Y2),layouts:{onRtl:()=>[Yr],onLtr:()=>[Yr]},overrides:b}},m4=(s,l,d)=>()=>d()?{type:"node",root:lt(Ct(s())),node:I.from(s()),layouts:{onRtl:()=>[Rs],onLtr:()=>[Rs]}}:{type:"hotspot",hotspot:l(),layouts:{onRtl:()=>[vi],onLtr:()=>[vi]}},F5=(s,l)=>()=>({type:"selection",root:l(),getSelection:()=>{const d=s.selection.getRng(),f=s.model.table.getSelectedCells();if(f.length>1){const b=f[0],v=f[f.length-1],C={firstCell:Sn(b),lastCell:Sn(v)};return I.some(C)}return I.some(ag.range(Sn(d.startContainer),d.startOffset,Sn(d.endContainer),d.endOffset))}}),uk=s=>l=>({type:"node",root:s(),node:l}),J$=(s,l,d,f)=>{const b=$0(s),v=()=>Sn(s.getBody()),C=()=>Sn(s.getContentAreaContainer()),k=()=>b||!f();return{inlineDialog:L5(C,l,k),inlineBottomDialog:B5(s.inline,C,d,k),banner:m4(C,l,k),cursor:F5(s,v),node:uk(v)}},Q$=s=>(l,d)=>{dN(s)(l,d)},eV=s=>()=>LA(s),tV=s=>l=>Y0(s,l),nV=s=>l=>MA(s,l),$5=s=>()=>bg(s),V5=s=>$o(s,"items"),z5=s=>$o(s,"format"),g4=[{title:"Headings",items:[{title:"Heading 1",format:"h1"},{title:"Heading 2",format:"h2"},{title:"Heading 3",format:"h3"},{title:"Heading 4",format:"h4"},{title:"Heading 5",format:"h5"},{title:"Heading 6",format:"h6"}]},{title:"Inline",items:[{title:"Bold",format:"bold"},{title:"Italic",format:"italic"},{title:"Underline",format:"underline"},{title:"Strikethrough",format:"strikethrough"},{title:"Superscript",format:"superscript"},{title:"Subscript",format:"subscript"},{title:"Code",format:"code"}]},{title:"Blocks",items:[{title:"Paragraph",format:"p"},{title:"Blockquote",format:"blockquote"},{title:"Div",format:"div"},{title:"Pre",format:"pre"}]},{title:"Align",items:[{title:"Left",format:"alignleft"},{title:"Center",format:"aligncenter"},{title:"Right",format:"alignright"},{title:"Justify",format:"alignjustify"}]}],h4=s=>Jt(s,(l,d)=>{if(uo(d,"items")){const f=h4(d.items);return{customFormats:l.customFormats.concat(f.customFormats),formats:l.formats.concat([{title:d.title,items:f.formats}])}}if(uo(d,"inline")||(f=>uo(f,"block"))(d)||(f=>uo(f,"selector"))(d)){const f=`custom-${h(d.name)?d.name:d.title.toLowerCase()}`;return{customFormats:l.customFormats.concat([{name:f,format:d}]),formats:l.formats.concat([{title:d.title,format:f,icon:d.icon}])}}return{...l,formats:l.formats.concat(d)}},{customFormats:[],formats:[]}),H5=s=>Vy(s).map(l=>{const d=((f,b)=>{const v=h4(b),C=k=>{bt(k,E=>{f.formatter.has(E.name)||f.formatter.register(E.name,E.format)})};return f.formatter?C(v.customFormats):f.on("init",()=>{C(v.customFormats)}),v.formats})(s,l);return BS(s)?g4.concat(d):d}).getOr(g4),U5=(s,l,d)=>({...s,type:"formatter",isSelected:l(s.format),getStylePreview:d(s.format)}),p4=(s,l,d,f)=>{const b=v=>Ve(v,C=>V5(C)?(k=>{const E=b(k.items);return{...k,type:"submenu",getStyleItems:q(E)}})(C):z5(C)?(k=>U5(k,d,f))(C):(k=>{const E=Qt(k);return E.length===1&&ft(E,"title")})(C)?{...C,type:"separator"}:(k=>{const E=h(k.name)?k.name:Nn(k.title),N=`custom-${E}`,$={...k,type:"formatter",format:N,isSelected:d(N),getStylePreview:f(N)};return s.formatter.register(E,$),$})(C));return b(l)},b4=s=>{let l=0;const d=f=>[{dom:{tag:"div",classes:["tox-tooltip__body"]},components:[ui(f.tooltipText)]}];return{getConfig:f=>({delayForShow:()=>l>0?60:300,delayForHide:q(300),exclusive:!0,lazySink:s,tooltipDom:{tag:"div",classes:["tox-tooltip","tox-tooltip--up"]},tooltipComponents:d(f),onShow:(b,v)=>{l++,f.onShow&&f.onShow(b,v)},onHide:(b,v)=>{l--,f.onHide&&f.onHide(b,v)},onSetup:f.onSetup}),getComponents:d}},W5=jp.trim,K5=s=>l=>!!((d=>K(d)&&d.nodeType===1)(l)&&(l.contentEditable===s||l.getAttribute("data-mce-contenteditable")===s)),oV=K5("true"),sV=K5("false"),j5=(s,l,d,f,b)=>({type:s,title:l,url:d,level:f,attach:b}),Z5=s=>s.innerText||s.textContent,rV=s=>(l=>l&&l.nodeName==="A"&&(l.id||l.name)!==void 0)(s)&&Rf(s),v4=s=>s&&/^(H[1-6])$/.test(s.nodeName),Rf=s=>(l=>{let d=l;for(;d=d.parentNode;){const f=d.contentEditable;if(f&&f!=="inherit")return oV(d)}return!1})(s)&&!sV(s),iV=s=>v4(s)&&Rf(s),y4=s=>{var l;const d=(f=>f.id?f.id:Nn("h"))(s);return j5("header",(l=Z5(s))!==null&&l!==void 0?l:"","#"+d,(f=>v4(f)?parseInt(f.nodeName.substr(1),10):0)(s),()=>{s.id=d})},G5=s=>{const l=s.id||s.name,d=Z5(s);return j5("anchor",d||"#"+l,"#"+l,0,U)},q5=s=>W5(s.title).length>0,aV=s=>{const l=(d=>Ve(na(Sn(d),"h1,h2,h3,h4,h5,h6,a:not([href])"),b=>b.dom))(s);return Yt((d=>Ve(Yt(d,iV),y4))(l).concat((d=>Ve(Yt(d,rV),G5))(l)),q5)},X2="tinymce-url-history",x4=s=>h(s)&&/^https?/.test(s),w4=s=>x(s)&&xs(s,l=>{return!(R(d=l)&&d.length<=5&&qe(d,x4));var d}).isNone(),Y5=()=>{const s=rd.getItem(X2);if(s===null)return{};let l;try{l=JSON.parse(s)}catch(d){if(d instanceof SyntaxError)return console.log("Local storage "+X2+" was not valid JSON",d),{};throw d}return w4(l)?l:(console.log("Local storage "+X2+" was not valid format",l),{})},lV=s=>{const l=Y5();return cn(l,s).getOr([])},cV=(s,l)=>{if(!x4(s))return;const d=Y5(),f=cn(d,l).getOr([]),b=Yt(f,v=>v!==s);d[l]=[s].concat(b).slice(0,5),(v=>{if(!w4(v))throw new Error(`Bad format for history:
`+JSON.stringify(v));rd.setItem(X2,JSON.stringify(v))})(d)},X5=s=>!!s,uV=s=>co(jp.makeMap(s,/[, ]/),X5),dk=s=>I.from($S(s)),C4=s=>I.from(s).filter(h).getOrUndefined(),J5=s=>({getHistory:lV,addToHistory:cV,getLinkInformation:()=>(l=>VS(l)?I.some({targets:aV(l.getBody()),anchorTop:C4(zD(l)),anchorBottom:C4(HD(l))}):I.none())(s),getValidationHandler:()=>(l=>I.from(t2(l)))(s),getUrlPicker:l=>((d,f)=>((b,v)=>{const C=(k=>{const E=I.from(n2(k)).filter(X5).map(uV);return dk(k).fold(Ce,N=>E.fold(Te,$=>Qt($).length>0&&$))})(b);return O(C)?C?dk(b):I.none():C[v]?dk(b):I.none()})(d,f).map(b=>v=>Qb(C=>{const k={filetype:f,fieldname:v.fieldname,...I.from(v.meta).getOr({})};b.call(d,(E,N)=>{if(!h(E))throw new Error("Expected value to be string");if(N!==void 0&&!x(N))throw new Error("Expected meta to be a object");C({value:E,meta:N})},v.value,k)})))(s,l)}),rl=w8,Ph=OI,dV=q([vt("shell",!1),Ht("makeItem"),vt("setupItem",U),Ao("listBehaviours",[go])]),lx=Ed({name:"items",overrides:()=>({behaviours:an([go.config({})])})}),fV=q([lx]),S4=kc({name:q("CustomList")(),configFields:dV(),partFields:fV(),factory:(s,l,d,f)=>{const b=s.shell?{behaviours:[go.config({})],components:[]}:{behaviours:[],components:l};return{uid:s.uid,dom:s.dom,components:b.components,behaviours:zo(s.listBehaviours,b.behaviours),apis:{setItems:(v,C)=>{var k;(k=v,s.shell?I.some(k):vr(k,s,"items")).fold(()=>{throw console.error("Custom List was defined to not be a shell, but no item container was specified in components"),new Error("Custom List was defined to not be a shell, but no item container was specified in components")},E=>{const N=go.contents(E),$=C.length,B=$-N.length,W=B>0?Ot(B,()=>s.makeItem()):[],J=N.slice($);bt(J,pe=>go.remove(E,pe)),bt(W,pe=>go.append(E,pe));const se=go.contents(E);bt(se,(pe,ye)=>{s.setupItem(v,pe,C[ye],ye)})})}}}},apis:{setItems:(s,l,d)=>{s.setItems(l,d)}}}),r1=q([Ht("dom"),vt("shell",!0),Mn("toolbarBehaviours",[go])]),Q5=q([Ed({name:"groups",overrides:()=>({behaviours:an([go.config({})])})})]),Am=kc({name:"Toolbar",configFields:r1(),partFields:Q5(),factory:(s,l,d,f)=>{const b=s.shell?{behaviours:[go.config({})],components:[]}:{behaviours:[],components:l};return{uid:s.uid,dom:s.dom,components:b.components,behaviours:zo(s.toolbarBehaviours,b.behaviours),apis:{setGroups:(v,C)=>{var k;(k=v,s.shell?I.some(k):vr(k,s,"groups")).fold(()=>{throw console.error("Toolbar was defined to not be a shell, but no groups container was specified in components"),new Error("Toolbar was defined to not be a shell, but no groups container was specified in components")},E=>{go.set(E,C)})},refresh:U},domModification:{attributes:{role:"group"}}}},apis:{setGroups:(s,l,d)=>{s.setGroups(l,d)}}}),_4=U,k4=Ce,fk=q([]);var E4,mV=Object.freeze({__proto__:null,setup:_4,isDocked:k4,getBehaviours:fk});const mk=q(Nn("toolbar-height-change")),Nh={fadeInClass:"tox-editor-dock-fadein",fadeOutClass:"tox-editor-dock-fadeout",transitionClass:"tox-editor-dock-transition"},eM="tox-tinymce--toolbar-sticky-on",tM="tox-tinymce--toolbar-sticky-off",J2=(s,l)=>ft(Mr.getModes(s),l),gk=s=>{const l=s.element;Ta(l).each(d=>{const f="padding-"+Mr.getModes(s)[0];if(Mr.isDocked(s)){const b=Wi(d);_o(l,"width",b+"px"),_o(d,f,(v=>hl(v)+(parseInt(Or(v,"margin-top"),10)||0)+(parseInt(Or(v,"margin-bottom"),10)||0))(l)+"px")}else zs(l,"width"),zs(d,f)})},T4=(s,l)=>{l?(Fo(s,Nh.fadeOutClass),Qo(s,[Nh.transitionClass,Nh.fadeInClass])):(Fo(s,Nh.fadeInClass),Qo(s,[Nh.fadeOutClass,Nh.transitionClass]))},nM=(s,l)=>{const d=Sn(s.getContainer());l?(Vn(d,eM),Fo(d,tM)):(Vn(d,tM),Fo(d,eM))},oM=(s,l)=>{const d=Ss(),f=l.getSink,b=k=>{f().each(E=>k(E.element))},v=k=>{s.inline||gk(k),nM(s,Mr.isDocked(k)),k.getSystem().broadcastOn([j()],{}),f().each(E=>E.getSystem().broadcastOn([j()],{}))},C=s.inline?[]:[fc.config({channels:{[mk()]:{onReceive:gk}}})];return[Eo.config({}),Mr.config({contextual:{lazyContext:k=>{const E=hl(k.element),N=s.inline?s.getContentAreaContainer():s.getContainer();return I.from(N).map($=>{const B=ai(Sn($));return Kb(s,k.element).fold(()=>{const W=B.height-E,J=B.y+(J2(k,"top")?0:E);return qo(B.x,J,B.width,W)},W=>{const J=au(B,jb(W)),se=J2(k,"top")?J.y:J.y+E;return qo(J.x,se,J.width,J.height-E)})})},onShow:()=>{b(k=>T4(k,!0))},onShown:k=>{b(E=>ci(E,[Nh.transitionClass,Nh.fadeInClass])),d.get().each(E=>{((N,$)=>{const B=gi($);Cd(B).filter(W=>!cs($,W)).filter(W=>cs(W,Sn(B.dom.body))||Kr(N,W)).each(()=>Ml($))})(k.element,E),d.clear()})},onHide:k=>{((E,N)=>yi(E).orThunk(()=>N().toOptional().bind($=>yi($.element))))(k.element,f).fold(d.clear,d.set),b(E=>T4(E,!1))},onHidden:()=>{b(k=>ci(k,[Nh.transitionClass]))},...Nh},lazyViewport:k=>Kb(s,k.element).fold(()=>{const E=Ni(),N=jT(s),$=E.y+(J2(k,"top")?N:0),B=E.height-(J2(k,"bottom")?N:0);return{bounds:qo(E.x,$,E.width,B),optScrollEnv:I.none()}},E=>({bounds:jb(E),optScrollEnv:I.some({currentScrollTop:E.element.dom.scrollTop,scrollElmTop:Dl(E.element).top})})),modes:[l.header.getDockingMode()],onDocked:v,onUndocked:v}),...C]};var gV=Object.freeze({__proto__:null,setup:(s,l,d)=>{s.inline||(l.header.isPositionedAtTop()||s.on("ResizeEditor",()=>{d().each(Mr.reset)}),s.on("ResizeWindow ResizeEditor",()=>{d().each(gk)}),s.on("SkinLoaded",()=>{d().each(f=>{Mr.isDocked(f)?Mr.reset(f):Mr.refresh(f)})}),s.on("FullscreenStateChanged",()=>{d().each(Mr.reset)})),s.on("AfterScrollIntoView",f=>{d().each(b=>{Mr.refresh(b);const v=b.element;nD(v)&&((C,k)=>{const E=gi(k),N=ou(k).dom.innerHeight,$=fr(E),B=Sn(C.elm),W=ja(B),J=Rr(B),se=W.y,pe=se+J,ye=Dl(k),De=Rr(k),ve=ye.top,be=ve+De,Ee=Math.abs(ve-$.top)<2,Pe=Math.abs(be-($.top+N))<2;if(Ee&&se<be)ef($.left,se-De,E);else if(Pe&&pe>ve){const Le=se-N+J+De;ef($.left,Le,E)}})(f,v)})}),s.on("PostRender",()=>{nM(s,!1)})},isDocked:s=>s().map(Mr.isDocked).getOr(!1),getBehaviours:oM});const hV=oo([qi,Bi("items",Qf([Fu([dA,Ya("items",Li)]),Li]))].concat(kh)),pV=[Zr("text"),Zr("tooltip"),Zr("icon"),Xa("search",!1,Qf([Sc,oo([Zr("placeholder")])],s=>O(s)?s?I.some({placeholder:I.none()}):I.none():I.some(s))),qa("fetch"),ir("onSetup",()=>U)],sM=oo([qi,...pV]),rM=s=>Ir("menubutton",sM,s),bV=oo([qi,S2,Sf,Xb,pA,O7,Yb,Vc("presets","normal",["normal","color","listpreview"]),AP(1),Uy,TP]);var A4=Td({factory:(s,l)=>{const d={focus:eo.focusIn,setMenus:(f,b)=>{const v=Ve(b,C=>{const k={type:"menubutton",text:C.text,fetch:N=>{N(C.getItems())}},E=rM(k).mapError(N=>Ga(N)).getOrDie();return rx(E,"tox-mbtn",l.backstage,I.some("menuitem"))});go.set(f,v)}};return{uid:s.uid,dom:s.dom,components:[],behaviours:an([go.config({}),jo("menubar-events",[hr(f=>{s.onSetup(f)}),Lt(jn(),(f,b)=>{Lr(f.element,".tox-mbtn--active").each(v=>{pf(b.event.target,".tox-mbtn").each(C=>{cs(v,C)||f.getSystem().getByDom(v).each(k=>{f.getSystem().getByDom(C).each(E=>{hc.expand(E),hc.close(k),Eo.focus(E)})})})})}),Lt(Sb(),(f,b)=>{b.event.prevFocus.bind(v=>f.getSystem().getByDom(v).toOptional()).each(v=>{b.event.newFocus.bind(C=>f.getSystem().getByDom(C).toOptional()).each(C=>{hc.isOpen(v)&&(hc.expand(C),hc.close(v))})})})]),eo.config({mode:"flow",selector:".tox-mbtn",onEscape:f=>(s.onEscape(f),I.some(!0))}),mr.config({})]),apis:d,domModification:{attributes:{role:"menubar"}}}},name:"silver.Menubar",configFields:[Ht("dom"),Ht("uid"),Ht("onEscape"),Ht("backstage"),vt("onSetup",U)],apis:{focus:(s,l)=>{s.focus(l)},setMenus:(s,l,d)=>{s.setMenus(l,d)}}});const iM="container",vV=[Mn("slotBehaviours",[])],O4=s=>"<alloy.field."+s+">",yV=(s,l)=>{const d=$=>PI(s),f=($,B)=>(W,J)=>vr(W,s,J).map(se=>$(se,J)).getOr(B),b=($,B)=>ns($.element,"aria-hidden")!=="true",v=f(b,!1),C=f(($,B)=>{if(b($)){const W=$.element;_o(W,"display","none"),xn(W,"aria-hidden","true"),Xn($,mu(),{name:B,visible:!1})}}),k=($=>(B,W)=>{bt(W,J=>$(B,J))})(C),E=f(($,B)=>{if(!b($)){const W=$.element;zs(W,"display"),Uo(W,"aria-hidden"),Xn($,mu(),{name:B,visible:!0})}}),N={getSlotNames:d,getSlot:($,B)=>vr($,s,B),isShowing:v,hideSlot:C,hideAllSlots:$=>k($,d()),showSlot:E};return{uid:s.uid,dom:s.dom,components:l,behaviours:po(s.slotBehaviours),apis:N}},xV=co({getSlotNames:(s,l)=>s.getSlotNames(l),getSlot:(s,l,d)=>s.getSlot(l,d),isShowing:(s,l,d)=>s.isShowing(l,d),hideSlot:(s,l,d)=>s.hideSlot(l,d),hideAllSlots:(s,l)=>s.hideAllSlots(l),showSlot:(s,l,d)=>s.showSlot(l,d)},s=>sy(s)),pc={...xV,sketch:s=>{const l=(()=>{const v=[];return{slot:(C,k)=>(v.push(C),uT(iM,O4(C),k)),record:q(v)}})(),d=s(l),f=l.record(),b=Ve(f,v=>gc({name:v,pname:O4(v)}));return Lw(iM,vV,b,yV,d)}},wV=oo([Sf,S2,ir("onShow",U),ir("onHide",U),Yb]),CV=s=>({element:()=>s.element.dom}),hk=(s,l)=>{const d=Ve(Qt(l),f=>{const b=l[f],v=Da((C=>Ir("sidebar",wV,C))(b));return{name:f,getApi:CV,onSetup:v.onSetup,onShow:v.onShow,onHide:v.onHide}});return Ve(d,f=>{const b=Wn(U);return s.slot(f.name,{dom:{tag:"div",classes:["tox-sidebar__pane"]},behaviours:k2([Jb(f,b),Vp(f,b),Lt(mu(),(v,C)=>{const k=C.event;te(d,N=>N.name===k.name).each(N=>{(k.visible?N.onShow:N.onHide)(N.getApi(v))})})])})})},aM=s=>pc.sketch(l=>({dom:{tag:"div",classes:["tox-sidebar__pane-container"]},components:hk(l,s),slotBehaviours:k2([hr(d=>pc.hideAllSlots(d))])})),pk=(s,l)=>{xn(s,"role",l)},SV=s=>Os.getCurrent(s).bind(l=>qc.isGrowing(l)||qc.hasGrown(l)?Os.getCurrent(l).bind(d=>te(pc.getSlotNames(d),f=>pc.isShowing(d,f))):I.none()),R4=Nn("FixSizeEvent"),I4=Nn("AutoSizeEvent");var _V=Object.freeze({__proto__:null,block:(s,l,d,f)=>{xn(s.element,"aria-busy",!0);const b=l.getRoot(s).getOr(s),v=an([eo.config({mode:"special",onTab:()=>I.some(!0),onShiftTab:()=>I.some(!0)}),Eo.config({})]),C=f(b,v),k=b.getSystem().build(C);go.append(b,ql(k)),k.hasConfigured(eo)&&l.focus&&eo.focusIn(k),d.isBlocked()||l.onBlock(s),d.blockWith(()=>go.remove(b,k))},unblock:(s,l,d)=>{Uo(s.element,"aria-busy"),d.isBlocked()&&l.onUnblock(s),d.clear()},isBlocked:(s,l,d)=>d.isBlocked()}),kV=[ir("getRoot",I.none),li("focus",!0),_s("onBlock"),_s("onUnblock")];const If=Zi({fields:kV,name:"blocking",apis:_V,state:Object.freeze({__proto__:null,init:()=>{const s=Nc(l=>l.destroy());return Ai({readState:s.isSet,blockWith:l=>{s.set({destroy:l})},clear:s.clear,isBlocked:s.isSet})}})}),D4=s=>Os.getCurrent(s).each(l=>Ml(l.element,!0)),lM=(s,l,d)=>{const f=Wn(!1),b=Ss(),v=k=>{var E;f.get()&&(!(N=>N.type==="focusin")(E=k)||!(E.composed?Fe(E.composedPath()):I.from(E.target)).map(Sn).filter(dr).exists(N=>es(N,"mce-pastebin")))&&(k.preventDefault(),D4(l()),s.editorManager.setActive(s))};s.inline||s.on("PreInit",()=>{s.dom.bind(s.getWin(),"focusin",v),s.on("BeforeExecCommand",k=>{k.command.toLowerCase()==="mcefocus"&&k.value!==!0&&v(k)})});const C=k=>{k!==f.get()&&(f.set(k),((E,N,$,B)=>{const W=N.element;if(((J,se)=>{const pe="tabindex",ye=`data-mce-${pe}`;I.from(J.iframeElement).map(Sn).each(De=>{se?(gs(De,pe).each(ve=>xn(De,ye,ve)),xn(De,pe,-1)):(Uo(De,pe),gs(De,ye).each(ve=>{xn(De,pe,ve),Uo(De,ye)}))})})(E,$),$)If.block(N,(J=>(se,pe)=>({dom:{tag:"div",attributes:{"aria-label":J.translate("Loading..."),tabindex:"0"},classes:["tox-throbber__busy-spinner"]},components:[{dom:wh('<div class="tox-spinner"><div></div><div></div><div></div></div>')}]}))(B)),zs(W,"display"),Uo(W,"aria-hidden"),E.hasFocus()&&D4(N);else{const J=Os.getCurrent(N).exists(se=>Tp(se.element));If.unblock(N),_o(W,"display","none"),xn(W,"aria-hidden","true"),J&&E.focus()}})(s,l(),k,d.providers),((E,N)=>{E.dispatch("AfterProgressState",{state:N})})(s,k))};s.on("ProgressState",k=>{if(b.on(clearTimeout),Q(k.time)){const E=MS.setEditorTimeout(s,()=>C(k.state),k.time);b.set(E)}else C(k.state),b.clear()})},P4=(s,l,d)=>({within:s,extra:l,withinWidth:d}),N4=(s,l,d)=>{const f=Jt(s,(C,k)=>((E,N)=>{const $=d(E);return I.some({element:E,start:N,finish:N+$,width:$})})(k,C.len).fold(q(C),E=>({len:E.finish,list:C.list.concat([E])})),{len:0,list:[]}).list,b=Yt(f,C=>C.finish<=l),v=Bn(b,(C,k)=>C+k.width,0);return{within:b,extra:f.slice(b.length),withinWidth:v}},bk=s=>Ve(s,l=>l.element),cM=(s,l)=>{const d=Ve(l,f=>ql(f));Am.setGroups(s,d)},uM=(s,l,d)=>{const f=l.builtGroups.get();if(f.length===0)return;const b=Np(s,l,"primary"),v=di.getCoupled(s,"overflowGroup");_o(b.element,"visibility","hidden");const C=f.concat([v]),k=pn(C,N=>yi(N.element).bind($=>N.getSystem().getByDom($).toOptional()));d([]),cM(b,C);const E=((N,$,B,W)=>{const J=((De,ve,be)=>{const Ee=N4(ve,De,be);return Ee.extra.length===0?I.some(Ee):I.none()})(N,$,B).getOrThunk(()=>N4($,N-B(W),B)),se=J.within,pe=J.extra,ye=J.withinWidth;return pe.length===1&&pe[0].width<=B(W)?((De,ve,be)=>{const Ee=bk(De.concat(ve));return P4(Ee,[],be)})(se,pe,ye):pe.length>=1?((De,ve,be,Ee)=>{const Pe=bk(De).concat([be]);return P4(Pe,bk(ve),Ee)})(se,pe,W,ye):((De,ve,be)=>P4(bk(De),[],be))(se,0,ye)})(Wi(b.element),l.builtGroups.get(),N=>Math.ceil(N.element.dom.getBoundingClientRect().width),v);E.extra.length===0?(go.remove(b,v),d([])):(cM(b,E.within),d(E.extra)),zs(b.element,"visibility"),fd(b.element),k.each(Eo.focus)},dM=q([Mn("splitToolbarBehaviours",[di]),ji("builtGroups",()=>Wn([]))]),EV=q([vp(["overflowToggledClass"]),$c("getOverflowBounds"),Ht("lazySink"),ji("overflowGroups",()=>Wn([])),_s("onOpened"),_s("onClosed")].concat(dM())),TV=q([gc({factory:Am,schema:r1(),name:"primary"}),xm({schema:r1(),name:"overflow"}),xm({name:"overflow-button"}),xm({name:"overflow-group"})]),M4=q((s,l)=>{((d,f)=>{const b=zm.max(d,f,["margin-left","border-left-width","padding-left","padding-right","border-right-width","margin-right"]);_o(d,"max-width",b+"px")})(s,Math.floor(l))}),AV=q([vp(["toggledClass"]),Ht("lazySink"),qa("fetch"),$c("getBounds"),Dr("fireDismissalEventInstead",[vt("event",Ym())]),og(),_s("onToggled")]),OV=q([xm({name:"button",overrides:s=>({dom:{attributes:{"aria-haspopup":"true"}},buttonBehaviours:an([yo.config({toggleClass:s.markers.toggledClass,aria:{mode:"expanded"},toggleOnExecute:!1,onToggled:s.onToggled})])})}),xm({factory:Am,schema:r1(),name:"toolbar",overrides:s=>({toolbarBehaviours:an([eo.config({mode:"cyclic",onEscape:l=>(vr(l,s,"button").each(Eo.focus),I.none())})])})})]),vk=Ss(),cx=(s,l)=>{const d=di.getCoupled(s,"toolbarSandbox");A.isOpen(d)?A.close(d):A.open(d,l.toolbar())},Q2=(s,l,d,f)=>{const b=d.getBounds.map(C=>C()),v=d.lazySink(s).getOrDie();ol.positionWithinBounds(v,l,{anchor:{type:"hotspot",hotspot:s,layouts:f,overrides:{maxWidthFunction:M4()}}},b)},yk=(s,l,d,f,b)=>{Am.setGroups(l,b),Q2(s,l,d,f),yo.on(s)},Gp=kc({name:"FloatingToolbarButton",factory:(s,l,d,f)=>({...Fl.sketch({...f.button(),action:b=>{cx(b,f)},buttonBehaviours:bo({dump:f.button().buttonBehaviours},[di.config({others:{toolbarSandbox:b=>((v,C,k)=>{const E=Cp();return{dom:{tag:"div",attributes:{id:E.id}},behaviours:an([eo.config({mode:"special",onEscape:N=>(A.close(N),I.some(!0))}),A.config({onOpen:(N,$)=>{const B=vk.get().getOr(!1);k.fetch().get(W=>{yk(v,$,k,C.layouts,W),E.link(v.element),B||eo.focusIn($)})},onClose:()=>{yo.off(v),vk.get().getOr(!1)||Eo.focus(v),E.unlink(v.element)},isPartOf:(N,$,B)=>dc($,B)||dc(v,B),getAttachPoint:()=>k.lazySink(v).getOrDie()}),fc.config({channels:{...me({isExtraPart:Ce,...k.fireDismissalEventInstead.map(N=>({fireEventInstead:{event:N.event}})).getOr({})}),...je({doReposition:()=>{A.getState(di.getCoupled(v,"toolbarSandbox")).each(N=>{Q2(v,N,k,C.layouts)})}})}})])}})(b,d,s)}})])}),apis:{setGroups:(b,v)=>{A.getState(di.getCoupled(b,"toolbarSandbox")).each(C=>{yk(b,C,s,d.layouts,v)})},reposition:b=>{A.getState(di.getCoupled(b,"toolbarSandbox")).each(v=>{Q2(b,v,s,d.layouts)})},toggle:b=>{cx(b,f)},toggleWithoutFocusing:b=>{((v,C)=>{vk.set(!0),cx(v,C),vk.clear()})(b,f)},getToolbar:b=>A.getState(di.getCoupled(b,"toolbarSandbox")),isOpen:b=>A.isOpen(di.getCoupled(b,"toolbarSandbox"))}}),configFields:AV(),partFields:OV(),apis:{setGroups:(s,l,d)=>{s.setGroups(l,d)},reposition:(s,l)=>{s.reposition(l)},toggle:(s,l)=>{s.toggle(l)},toggleWithoutFocusing:(s,l)=>{s.toggleWithoutFocusing(l)},getToolbar:(s,l)=>s.getToolbar(l),isOpen:(s,l)=>s.isOpen(l)}}),RV=q([Ht("items"),vp(["itemSelector"]),Mn("tgroupBehaviours",[eo])]),IV=q([xS({name:"items",unit:"item"})]),ux=kc({name:"ToolbarGroup",configFields:RV(),partFields:IV(),factory:(s,l,d,f)=>({uid:s.uid,dom:s.dom,components:l,behaviours:zo(s.tgroupBehaviours,[eo.config({mode:"flow",selector:s.markers.itemSelector})]),domModification:{attributes:{role:"toolbar"}}})}),xk=s=>Ve(s,l=>ql(l)),eC=(s,l,d)=>{uM(s,d,f=>{d.overflowGroups.set(f),l.getOpt(s).each(b=>{Gp.setGroups(b,xk(f))})})},L4=kc({name:"SplitFloatingToolbar",configFields:EV(),partFields:TV(),factory:(s,l,d,f)=>{const b=Ks(Gp.sketch({fetch:()=>Qb(v=>{v(xk(s.overflowGroups.get()))}),layouts:{onLtr:()=>[oi,ni],onRtl:()=>[ni,oi],onBottomLtr:()=>[er,Oi],onBottomRtl:()=>[Oi,er]},getBounds:d.getOverflowBounds,lazySink:s.lazySink,fireDismissalEventInstead:{},markers:{toggledClass:s.markers.overflowToggledClass},parts:{button:f["overflow-button"](),toolbar:f.overflow()},onToggled:(v,C)=>s[C?"onOpened":"onClosed"](v)}));return{uid:s.uid,dom:s.dom,components:l,behaviours:zo(s.splitToolbarBehaviours,[di.config({others:{overflowGroup:()=>ux.sketch({...f["overflow-group"](),items:[b.asSpec()]})}})]),apis:{setGroups:(v,C)=>{s.builtGroups.set(Ve(C,v.getSystem().build)),eC(v,b,s)},refresh:v=>eC(v,b,s),toggle:v=>{b.getOpt(v).each(C=>{Gp.toggle(C)})},toggleWithoutFocusing:v=>{b.getOpt(v).each(Gp.toggleWithoutFocusing)},isOpen:v=>b.getOpt(v).map(Gp.isOpen).getOr(!1),reposition:v=>{b.getOpt(v).each(C=>{Gp.reposition(C)})},getOverflow:v=>b.getOpt(v).bind(Gp.getToolbar)},domModification:{attributes:{role:"group"}}}},apis:{setGroups:(s,l,d)=>{s.setGroups(l,d)},refresh:(s,l)=>{s.refresh(l)},reposition:(s,l)=>{s.reposition(l)},toggle:(s,l)=>{s.toggle(l)},toggleWithoutFocusing:(s,l)=>{s.toggle(l)},isOpen:(s,l)=>s.isOpen(l),getOverflow:(s,l)=>s.getOverflow(l)}}),DV=q([vp(["closedClass","openClass","shrinkingClass","growingClass","overflowToggledClass"]),_s("onOpened"),_s("onClosed")].concat(dM())),PV=q([gc({factory:Am,schema:r1(),name:"primary"}),gc({factory:Am,schema:r1(),name:"overflow",overrides:s=>({toolbarBehaviours:an([qc.config({dimension:{property:"height"},closedClass:s.markers.closedClass,openClass:s.markers.openClass,shrinkingClass:s.markers.shrinkingClass,growingClass:s.markers.growingClass,onShrunk:l=>{vr(l,s,"overflow-button").each(d=>{yo.off(d)}),s.onClosed(l)},onGrown:l=>{s.onOpened(l)},onStartGrow:l=>{vr(l,s,"overflow-button").each(yo.on)}}),eo.config({mode:"acyclic",onEscape:l=>(vr(l,s,"overflow-button").each(Eo.focus),I.some(!0))})])})}),xm({name:"overflow-button",overrides:s=>({buttonBehaviours:an([yo.config({toggleClass:s.markers.overflowToggledClass,aria:{mode:"expanded"},toggleOnExecute:!1})])})}),xm({name:"overflow-group"})]),B4=(s,l,d)=>{vr(s,l,"overflow-button").each(f=>{vr(s,l,"overflow").each(b=>{if(F4(s,l),qc.hasShrunk(b)){const v=l.onOpened;l.onOpened=C=>{d||eo.focusIn(b),v(C),l.onOpened=v}}else{const v=l.onClosed;l.onClosed=C=>{d||Eo.focus(f),v(C),l.onClosed=v}}qc.toggleGrow(b)})})},F4=(s,l)=>{vr(s,l,"overflow").each(d=>{uM(s,l,f=>{const b=Ve(f,v=>ql(v));Am.setGroups(d,b)}),vr(s,l,"overflow-button").each(f=>{qc.hasGrown(d)&&yo.on(f)}),qc.refresh(d)})},$4=kc({name:"SplitSlidingToolbar",configFields:DV(),partFields:PV(),factory:(s,l,d,f)=>{const b="alloy.toolbar.toggle";return{uid:s.uid,dom:s.dom,components:l,behaviours:zo(s.splitToolbarBehaviours,[di.config({others:{overflowGroup:v=>ux.sketch({...f["overflow-group"](),items:[Fl.sketch({...f["overflow-button"](),action:C=>{Wo(v,b)}})]})}}),jo("toolbar-toggle-events",[Lt(b,v=>{B4(v,s,!1)})])]),apis:{setGroups:(v,C)=>{((k,E)=>{const N=Ve(E,k.getSystem().build);s.builtGroups.set(N)})(v,C),F4(v,s)},refresh:v=>F4(v,s),toggle:v=>{B4(v,s,!1)},toggleWithoutFocusing:v=>{B4(v,s,!0)},isOpen:v=>((C,k)=>vr(C,k,"overflow").map(qc.hasGrown).getOr(!1))(v,s)},domModification:{attributes:{role:"group"}}}},apis:{setGroups:(s,l,d)=>{s.setGroups(l,d)},refresh:(s,l)=>{s.refresh(l)},toggle:(s,l)=>{s.toggle(l)},isOpen:(s,l)=>s.isOpen(l)}}),fM=s=>{const l=s.title.fold(()=>({}),d=>({attributes:{title:d}}));return{dom:{tag:"div",classes:["tox-toolbar__group"],...l},components:[ux.parts.items({})],items:s.items,markers:{itemSelector:"*:not(.tox-split-button) > .tox-tbtn:not([disabled]), .tox-split-button:not([disabled]), .tox-toolbar-nav-js:not([disabled]), .tox-number-input:not([disabled])"},tgroupBehaviours:an([mr.config({}),Eo.config({})])}},wk=s=>ux.sketch(fM(s)),mM=(s,l)=>{const d=hr(f=>{const b=Ve(s.initGroups,wk);Am.setGroups(f,b)});return an([d_(s.providers.isDisabled),ba(),eo.config({mode:l,onEscape:s.onEscape,selector:".tox-toolbar__group"}),jo("toolbar-events",[d])])},gM=s=>{const l=s.cyclicKeying?"cyclic":"acyclic";return{uid:s.uid,dom:{tag:"div",classes:["tox-toolbar-overlord"]},parts:{"overflow-group":fM({title:I.none(),items:[]}),"overflow-button":T5({icon:I.some("more-drawer"),enabled:!0,tooltip:I.some("Reveal or hide additional toolbar items")},I.none(),s.providers,[],"overflow-button")},splitToolbarBehaviours:mM(s,l)}},NV=s=>{const l=gM(s),d=L4.parts.primary({dom:{tag:"div",classes:["tox-toolbar__primary"]}});return L4.sketch({...l,lazySink:s.getSink,getOverflowBounds:()=>{const f=s.moreDrawerData.lazyHeader().element,b=ja(f),v=gl(f),C=ja(v),k=Math.max(v.dom.scrollHeight,C.height);return qo(b.x+4,C.y,b.width-8,k)},parts:{...l.parts,overflow:{dom:{tag:"div",classes:["tox-toolbar__overflow"],attributes:s.attributes}}},components:[d],markers:{overflowToggledClass:"tox-tbtn--enabled"},onOpened:f=>s.onToggled(f,!0),onClosed:f=>s.onToggled(f,!1)})},MV=s=>{const l=$4.parts.primary({dom:{tag:"div",classes:["tox-toolbar__primary"]}}),d=$4.parts.overflow({dom:{tag:"div",classes:["tox-toolbar__overflow"]}}),f=gM(s);return $4.sketch({...f,components:[l,d],markers:{openClass:"tox-toolbar__overflow--open",closedClass:"tox-toolbar__overflow--closed",growingClass:"tox-toolbar__overflow--growing",shrinkingClass:"tox-toolbar__overflow--shrinking",overflowToggledClass:"tox-tbtn--enabled"},onOpened:b=>{b.getSystem().broadcastOn([mk()],{type:"opened"}),s.onToggled(b,!0)},onClosed:b=>{b.getSystem().broadcastOn([mk()],{type:"closed"}),s.onToggled(b,!1)}})},V4=s=>{const l=s.cyclicKeying?"cyclic":"acyclic";return Am.sketch({uid:s.uid,dom:{tag:"div",classes:["tox-toolbar"].concat(s.type===xf.scrolling?["tox-toolbar--scrolling"]:[])},components:[Am.parts.groups({})],toolbarBehaviours:mM(s,l)})},hM=[Xb,Sf,Zr("tooltip"),Vc("buttonType","secondary",["primary","secondary"]),li("borderless",!1),qa("onAction")],z4={button:[...hM,Cf,zu("type",["button"])],togglebutton:[...hM,li("active",!1),zu("type",["togglebutton"])]},LV=[zu("type",["group"]),Hs("buttons",[],Ti("type",z4))],BV=Ti("type",{...z4,group:LV}),Mh=oo([Hs("buttons",[],BV),qa("onShow"),qa("onHide")]),pM=(s,l)=>((d,f)=>{var b,v;const C=d.type==="togglebutton",k=d.icon.map(ve=>lv(ve,f.icons)).map(Ks),E={...d,name:C?d.text.getOr(d.icon.getOr("")):(b=d.text)!==null&&b!==void 0?b:d.icon.getOr(""),primary:d.buttonType==="primary",buttonType:I.from(d.buttonType),tooltip:d.tooltip,icon:d.icon,enabled:!0,borderless:d.borderless},N=n4((v=d.buttonType)!==null&&v!==void 0?v:"secondary"),$=C?d.text.map(f.translate):I.some(f.translate(d.text)),B=$.map(ui),W=E.tooltip.or($).map(ve=>({"aria-label":f.translate(ve)})).getOr({}),J=k.map(ve=>ve.asSpec()),se=jy([J,B]),pe=d.icon.isSome()&&B.isSome(),ye={tag:"button",classes:N.concat(...d.icon.isSome()&&!pe?["tox-button--icon"]:[]).concat(...pe?["tox-button--icon-and-text"]:[]).concat(...d.borderless?["tox-button--naked"]:[]).concat(...d.type==="togglebutton"&&d.active?["tox-button--enabled"]:[]),attributes:W},De=Z2(E,I.some(ve=>{const be=Ee=>{k.map(Pe=>Pe.getOpt(ve).each(Le=>{go.set(Le,[lv(Ee,f.icons)])}))};return C?d.onAction({setIcon:be,setActive:Ee=>{const Pe=ve.element;Ee?(Vn(Pe,"tox-button--enabled"),xn(Pe,"aria-pressed",!0)):(Fo(Pe,"tox-button--enabled"),Uo(Pe,"aria-pressed"))},isActive:()=>es(ve.element,"tox-button--enabled")}):d.type==="button"?d.onAction({setIcon:be}):void 0}),[],ye,se,d.tooltip,f);return Fl.sketch(De)})(s,l),bM=Ki().deviceType,H4=bM.isPhone(),il=bM.isTablet();var dx=kc({name:"silver.View",configFields:[Ht("viewConfig")],partFields:[Ed({factory:{sketch:s=>{let l=!1;const d=Ve(s.buttons,f=>f.type==="group"?(l=!0,((b,v)=>({dom:{tag:"div",classes:["tox-view__toolbar__group"]},components:Ve(b.buttons,C=>pM(C,v))}))(f,s.providers)):pM(f,s.providers));return{uid:s.uid,dom:{tag:"div",classes:[l?"tox-view__toolbar":"tox-view__header",...H4||il?["tox-view--mobile","tox-view--scrolling"]:[]]},behaviours:an([Eo.config({}),eo.config({mode:"flow",selector:"button, .tox-button",focusInside:O0.OnEnterOrSpaceMode})]),components:l?d:[_m.sketch({dom:{tag:"div",classes:["tox-view__header-start"]},components:[]}),_m.sketch({dom:{tag:"div",classes:["tox-view__header-end"]},components:d})]}}},schema:[Ht("buttons"),Ht("providers")],name:"header"}),Ed({factory:{sketch:s=>({uid:s.uid,behaviours:an([Eo.config({}),mr.config({})]),dom:{tag:"div",classes:["tox-view__pane"]}})},schema:[],name:"pane"})],factory:(s,l,d,f)=>{const b={getPane:v=>rl.getPart(v,s,"pane"),getOnShow:v=>s.viewConfig.onShow,getOnHide:v=>s.viewConfig.onHide};return{uid:s.uid,dom:s.dom,components:l,behaviours:an([Eo.config({}),eo.config({mode:"cyclic",focusInside:O0.OnEnterOrSpaceMode})]),apis:b}},apis:{getPane:(s,l)=>s.getPane(l),getOnShow:(s,l)=>s.getOnShow(l),getOnHide:(s,l)=>s.getOnHide(l)}});const FV=(s,l,d)=>ri(l,(f,b)=>{const v=Da(Ir("view",Mh,f));return s.slot(b,dx.sketch({dom:{tag:"div",classes:["tox-view"]},viewConfig:v,components:[...v.buttons.length>0?[dx.parts.header({buttons:v.buttons,providers:d})]:[],dx.parts.pane({})]}))}),$V=(s,l)=>pc.sketch(d=>({dom:{tag:"div",classes:["tox-view-wrap__slot-container"]},components:FV(d,s,l),slotBehaviours:k2([hr(f=>pc.hideAllSlots(f))])})),vM=s=>te(pc.getSlotNames(s),l=>pc.isShowing(s,l)),yM=(s,l,d)=>{pc.getSlot(s,l).each(f=>{dx.getPane(f).each(b=>{var v;d(f)((v=b.element.dom,{getContainer:q(v)}))})})};var Ck=Td({factory:(s,l)=>{const d={setViews:(f,b)=>{go.set(f,[$V(b,l.backstage.shared.providers)])},whichView:f=>Os.getCurrent(f).bind(vM),toggleView:(f,b,v,C)=>Os.getCurrent(f).exists(k=>{const E=vM(k),N=E.exists(B=>C===B),$=pc.getSlot(k,C).isSome();return $&&(pc.hideAllSlots(k),N?((B=>{const W=B.element;_o(W,"display","none"),xn(W,"aria-hidden","true")})(f),b()):(v(),(B=>{const W=B.element;zs(W,"display"),Uo(W,"aria-hidden")})(f),pc.showSlot(k,C),((B,W)=>{yM(B,W,dx.getOnShow)})(k,C)),E.each(B=>((W,J)=>yM(W,J,dx.getOnHide))(k,B))),$})};return{uid:s.uid,dom:{tag:"div",classes:["tox-view-wrap"],attributes:{"aria-hidden":"true"},styles:{display:"none"}},components:[],behaviours:an([go.config({}),Os.config({find:f=>{const b=go.contents(f);return Fe(b)}})]),apis:d}},name:"silver.ViewWrapper",configFields:[Ht("backstage")],apis:{setViews:(s,l,d)=>s.setViews(l,d),toggleView:(s,l,d,f,b)=>s.toggleView(l,d,f,b),whichView:(s,l)=>s.whichView(l)}});const VV=Ph.optional({factory:A4,name:"menubar",schema:[Ht("backstage")]}),zV=Ph.optional({factory:{sketch:s=>S4.sketch({uid:s.uid,dom:s.dom,listBehaviours:an([eo.config({mode:"acyclic",selector:".tox-toolbar"})]),makeItem:()=>V4({type:s.type,uid:Nn("multiple-toolbar-item"),cyclicKeying:!1,initGroups:[],providers:s.providers,onEscape:()=>(s.onEscape(),I.some(!0))}),setupItem:(l,d,f,b)=>{Am.setGroups(d,f)},shell:!0})},name:"multiple-toolbar",schema:[Ht("dom"),Ht("onEscape")]}),HV=Ph.optional({factory:{sketch:s=>(d=>d.type===xf.sliding?MV:d.type===xf.floating?NV:V4)(s)({type:s.type,uid:s.uid,onEscape:()=>(s.onEscape(),I.some(!0)),onToggled:(d,f)=>s.onToolbarToggled(f),cyclicKeying:!1,initGroups:[],getSink:s.getSink,providers:s.providers,moreDrawerData:{lazyToolbar:s.lazyToolbar,lazyMoreButton:s.lazyMoreButton,lazyHeader:s.lazyHeader},attributes:s.attributes})},name:"toolbar",schema:[Ht("dom"),Ht("onEscape"),Ht("getSink")]}),UV=Ph.optional({factory:{sketch:s=>{const l=s.editor,d=s.sticky?oM:fk;return{uid:s.uid,dom:s.dom,components:s.components,behaviours:an(d(l,s.sharedBackstage))}}},name:"header",schema:[Ht("dom")]}),WV=Ph.optional({factory:{sketch:s=>({uid:s.uid,dom:s.dom,components:[{dom:{tag:"a",attributes:{href:"https://www.tiny.cloud/tinymce-self-hosted-premium-features/?utm_campaign=self_hosted_upgrade_promo&utm_source=tiny&utm_medium=referral",rel:"noopener",target:"_blank","aria-hidden":"true"},classes:["tox-promotion-link"],innerHtml:"Upgrade"}}]})},name:"promotion",schema:[Ht("dom")]}),KV=Ph.optional({name:"socket",schema:[Ht("dom")]}),jV=Ph.optional({factory:{sketch:s=>({uid:s.uid,dom:{tag:"div",classes:["tox-sidebar"],attributes:{role:"presentation"}},components:[{dom:{tag:"div",classes:["tox-sidebar__slider"]},components:[],behaviours:an([mr.config({}),Eo.config({}),qc.config({dimension:{property:"width"},closedClass:"tox-sidebar--sliding-closed",openClass:"tox-sidebar--sliding-open",shrinkingClass:"tox-sidebar--sliding-shrinking",growingClass:"tox-sidebar--sliding-growing",onShrunk:l=>{Os.getCurrent(l).each(pc.hideAllSlots),Wo(l,I4)},onGrown:l=>{Wo(l,I4)},onStartGrow:l=>{Xn(l,R4,{width:Jr(l.element,"width").getOr("")})},onStartShrink:l=>{Xn(l,R4,{width:Wi(l.element)+"px"})}}),go.config({}),Os.config({find:l=>{const d=go.contents(l);return Fe(d)}})])}],behaviours:an([k3(0),jo("sidebar-sliding-events",[Lt(R4,(l,d)=>{_o(l.element,"width",d.event.width)}),Lt(I4,(l,d)=>{zs(l.element,"width")})])])})},name:"sidebar",schema:[Ht("dom")]}),ZV=Ph.optional({factory:{sketch:s=>({uid:s.uid,dom:{tag:"div",attributes:{"aria-hidden":"true"},classes:["tox-throbber"],styles:{display:"none"}},behaviours:an([go.config({}),If.config({focus:!1}),Os.config({find:l=>Fe(l.components())})]),components:[]})},name:"throbber",schema:[Ht("dom")]}),GV=Ph.optional({factory:Ck,name:"viewWrapper",schema:[Ht("backstage")]}),qV=Ph.optional({factory:{sketch:s=>({uid:s.uid,dom:{tag:"div",classes:["tox-editor-container"]},components:s.components})},name:"editorContainer",schema:[]});var _r=kc({name:"OuterContainer",factory:(s,l,d)=>{let f=!1;const b=C=>{br(C,".tox-statusbar").each(k=>{Or(k,"display")==="none"&&ns(k,"aria-hidden")==="true"?(zs(k,"display"),Uo(k,"aria-hidden")):(_o(k,"display","none"),xn(k,"aria-hidden","true"))})},v={getSocket:C=>rl.getPart(C,s,"socket"),setSidebar:(C,k,E)=>{rl.getPart(C,s,"sidebar").each(N=>(($,B,W)=>{Os.getCurrent($).each(J=>{go.set(J,[aM(B)]);const se=W==null?void 0:W.toLowerCase();h(se)&&uo(B,se)&&Os.getCurrent(J).each(pe=>{pc.showSlot(pe,se),qc.immediateGrow(J),zs(J.element,"width"),pk($.element,"region")})})})(N,k,E))},toggleSidebar:(C,k)=>{rl.getPart(C,s,"sidebar").each(E=>((N,$)=>{Os.getCurrent(N).each(B=>{Os.getCurrent(B).each(W=>{qc.hasGrown(B)?pc.isShowing(W,$)?(qc.shrink(B),pk(N.element,"presentation")):(pc.hideAllSlots(W),pc.showSlot(W,$),pk(N.element,"region")):(pc.hideAllSlots(W),pc.showSlot(W,$),qc.grow(B),pk(N.element,"region"))})})})(E,k))},whichSidebar:C=>rl.getPart(C,s,"sidebar").bind(SV).getOrNull(),getHeader:C=>rl.getPart(C,s,"header"),getToolbar:C=>rl.getPart(C,s,"toolbar"),setToolbar:(C,k)=>{rl.getPart(C,s,"toolbar").each(E=>{const N=Ve(k,wk);E.getApis().setGroups(E,N)})},setToolbars:(C,k)=>{rl.getPart(C,s,"multiple-toolbar").each(E=>{const N=Ve(k,$=>Ve($,wk));S4.setItems(E,N)})},refreshToolbar:C=>{rl.getPart(C,s,"toolbar").each(k=>k.getApis().refresh(k))},toggleToolbarDrawer:C=>{rl.getPart(C,s,"toolbar").each(k=>{ki(k.getApis().toggle,E=>E(k))})},toggleToolbarDrawerWithoutFocusing:C=>{rl.getPart(C,s,"toolbar").each(k=>{ki(k.getApis().toggleWithoutFocusing,E=>E(k))})},isToolbarDrawerToggled:C=>rl.getPart(C,s,"toolbar").bind(k=>I.from(k.getApis().isOpen).map(E=>E(k))).getOr(!1),getThrobber:C=>rl.getPart(C,s,"throbber"),focusToolbar:C=>{rl.getPart(C,s,"toolbar").orThunk(()=>rl.getPart(C,s,"multiple-toolbar")).each(k=>{eo.focusIn(k)})},setMenubar:(C,k)=>{rl.getPart(C,s,"menubar").each(E=>{A4.setMenus(E,k)})},focusMenubar:C=>{rl.getPart(C,s,"menubar").each(k=>{A4.focus(k)})},setViews:(C,k)=>{rl.getPart(C,s,"viewWrapper").each(E=>{Ck.setViews(E,k)})},toggleView:(C,k)=>rl.getPart(C,s,"viewWrapper").exists(E=>Ck.toggleView(E,()=>v.showMainView(C),()=>v.hideMainView(C),k)),whichView:C=>rl.getPart(C,s,"viewWrapper").bind(Ck.whichView).getOrNull(),hideMainView:C=>{f=v.isToolbarDrawerToggled(C),f&&v.toggleToolbarDrawer(C),rl.getPart(C,s,"editorContainer").each(k=>{const E=k.element;b(E),_o(E,"display","none"),xn(E,"aria-hidden","true")})},showMainView:C=>{f&&v.toggleToolbarDrawer(C),rl.getPart(C,s,"editorContainer").each(k=>{const E=k.element;b(E),zs(E,"display"),Uo(E,"aria-hidden")})}};return{uid:s.uid,dom:s.dom,components:l,apis:v,behaviours:s.behaviours}},configFields:[Ht("dom"),Ht("behaviours")],partFields:[UV,VV,HV,zV,KV,jV,WV,ZV,GV,qV],apis:{getSocket:(s,l)=>s.getSocket(l),setSidebar:(s,l,d,f)=>{s.setSidebar(l,d,f)},toggleSidebar:(s,l,d)=>{s.toggleSidebar(l,d)},whichSidebar:(s,l)=>s.whichSidebar(l),getHeader:(s,l)=>s.getHeader(l),getToolbar:(s,l)=>s.getToolbar(l),setToolbar:(s,l,d)=>{s.setToolbar(l,d)},setToolbars:(s,l,d)=>{s.setToolbars(l,d)},refreshToolbar:(s,l)=>s.refreshToolbar(l),toggleToolbarDrawer:(s,l)=>{s.toggleToolbarDrawer(l)},toggleToolbarDrawerWithoutFocusing:(s,l)=>{s.toggleToolbarDrawerWithoutFocusing(l)},isToolbarDrawerToggled:(s,l)=>s.isToolbarDrawerToggled(l),getThrobber:(s,l)=>s.getThrobber(l),setMenubar:(s,l,d)=>{s.setMenubar(l,d)},focusMenubar:(s,l)=>{s.focusMenubar(l)},focusToolbar:(s,l)=>{s.focusToolbar(l)},setViews:(s,l,d)=>{s.setViews(l,d)},toggleView:(s,l,d)=>s.toggleView(l,d),whichView:(s,l)=>s.whichView(l)}});const xM={file:{title:"File",items:"newdocument restoredraft | preview | importword exportpdf exportword | export print | deleteallconversations"},edit:{title:"Edit",items:"undo redo | cut copy paste pastetext | selectall | searchreplace"},view:{title:"View",items:"code revisionhistory | visualaid visualchars visualblocks | spellchecker | preview fullscreen | showcomments"},insert:{title:"Insert",items:"image link media addcomment pageembed inserttemplate codesample inserttable accordion math | charmap emoticons hr | pagebreak nonbreaking anchor tableofcontents footnotes | mergetags | insertdatetime"},format:{title:"Format",items:"bold italic underline strikethrough superscript subscript codeformat | styles blocks fontfamily fontsize align lineheight | forecolor backcolor | language | removeformat"},tools:{title:"Tools",items:"aidialog aishortcuts | spellchecker spellcheckerlanguage | autocorrect capitalization | a11ycheck code typography wordcount addtemplate"},table:{title:"Table",items:"inserttable | cell row column | advtablesort | tableprops deletetable"},help:{title:"Help",items:"help"}},U4=s=>s.split(" "),wM=(s,l)=>{const d={...xM,...l.menus},f=Qt(l.menus).length>0,b=l.menubar===void 0||l.menubar===!0?U4("file edit view insert format tools table help"):U4(l.menubar===!1?"":l.menubar),v=Yt(b,k=>{const E=uo(xM,k);return f?E||cn(l.menus,k).exists(N=>uo(N,"items")):E}),C=Ve(v,k=>{const E=d[k];return((N,$,B)=>{const W=$D(B).split(/[ ,]/);return{text:N.title,getItems:()=>yn(N.items,J=>{const se=J.toLowerCase();return se.trim().length===0||Rn(W,pe=>pe===se)?[]:se==="separator"||se==="|"?[{type:"separator"}]:$.menuItems[se]?[$.menuItems[se]]:[]})}})({title:E.title,items:U4(E.items)},l,s)});return Yt(C,k=>k.getItems().length>0&&Rn(k.getItems(),E=>h(E)||E.type!=="separator"))},CM=(s,l,d)=>(s.on("remove",()=>d.unload(l)),d.load(l)),W4=(s,l,d,f)=>(s.on("remove",()=>f.unloadRawCss(l)),f.loadRawCss(l,d)),YV=async(s,l)=>{const d="ui/"+WS(s).getOr("default")+"/skin.css",f=tinymce.Resource.get(d);if(!h(f)){const b=s.editorManager.suffix;return CM(s,l+`/skin${b}.css`,s.ui.styleSheetLoader)}W4(s,d,f,s.ui.styleSheetLoader)},XV=async(s,l)=>{var d;if(d=Sn(s.getElement()),rn(d).isSome()){const f="ui/"+WS(s).getOr("default")+"/skin.shadowdom.css",b=tinymce.Resource.get(f);if(!h(b)){const v=s.editorManager.suffix;return CM(s,l+`/skin.shadowdom${v}.css`,By.DOM.styleSheetLoader)}W4(s,f,b,By.DOM.styleSheetLoader)}},SM=(s,l)=>(async(d,f)=>{const b=()=>{const C=US(f),k=f.editorManager.suffix;C&&f.contentCSS.push(C+(d?"/content.inline":"/content")+`${k}.css`)};WS(f).fold(b,C=>{const k="ui/"+C+(d?"/content.inline":"/content")+".css",E=tinymce.Resource.get(k);h(E)?W4(f,k,E,f.ui.styleSheetLoader):b()});const v=US(f);if(!Ub(f)&&h(v))return Promise.all([YV(f,v),XV(f,v)]).then()})(s,l).then((d=>{const f=()=>{d._skinLoaded=!0,(b=>{b.dispatch("SkinLoaded")})(d)};return()=>{d.initialized?f():d.on("init",f)}})(l),((d,f)=>()=>((b,v)=>{b.dispatch("SkinLoadError",v)})(d,{message:"Skin could not be loaded"}))(l)),_M=_e(SM,!1),JV=_e(SM,!0),i1=(s,l,d)=>Dc(d)?s.translate(l):s.translate([l,s.translate(d)]),QV=(s,l)=>{const d=(v,C,k,E)=>{const N=s.shared.providers.translate(v.title);if(v.type==="separator")return I.some({type:"separator",text:N});if(v.type==="submenu"){const $=yn(v.getStyleItems(),B=>f(B,C,E));return C===0&&$.length<=0?I.none():I.some({type:"nestedmenuitem",text:N,enabled:$.length>0,getSubmenuItems:()=>yn(v.getStyleItems(),B=>f(B,C,E))})}return I.some({type:"togglemenuitem",text:N,icon:v.icon,active:v.isSelected(E),enabled:!k,onAction:l.onAction(v),...v.getStylePreview().fold(()=>({}),$=>({meta:{style:$}}))})},f=(v,C,k)=>{const E=v.type==="formatter"&&l.isInvalid(v);return C===0?E?[]:d(v,C,!1,k).toArray():d(v,C,E,k).toArray()},b=v=>{const C=l.getCurrentValue(),k=l.shouldHide?0:1;return yn(v,E=>f(E,k,C))};return{validateItems:b,getFetch:(v,C)=>(k,E)=>{const N=C(),$=b(N);E(o1($,yg.CLOSE_ON_EXECUTE,v,{isHorizontalMenu:!1,search:I.none()}))}}},fx=(s,l)=>{const d=l.dataset,f=d.type==="basic"?()=>Ve(d.data,b=>U5(b,l.isSelectedFor,l.getPreviewFor)):d.getData;return{items:QV(s,l),getStyleItems:f}},tC=(s,l,d,f,b,v)=>{const{items:C,getStyleItems:k}=fx(l,d),E=Wn(d.tooltip);return U3({text:d.icon.isSome()?I.none():d.text,icon:d.icon,ariaLabel:I.some(d.tooltip),tooltip:I.none(),role:I.none(),fetch:C.getFetch(l,k),onSetup:N=>{const $=B=>N.setTooltip(i1(s,f(B.value),B.value));return s.on(b,$),Yy(q0(s,"NodeChange",B=>{const W=B.getComponent();d.updateText(W),Oo.set(B.getComponent(),!s.selection.isEditable())})(N),()=>s.off(b,$))},getApi:N=>({getComponent:q(N),setTooltip:$=>{const B=l.shared.providers.translate($);xn(N.element,"aria-label",B),E.set($)}}),columns:1,presets:"normal",classes:d.icon.isSome()?[]:["bespoke"],dropdownBehaviours:[Ii.config({...l.shared.providers.tooltips.getConfig({tooltipText:l.shared.providers.translate(d.tooltip),onShow:N=>{if(d.tooltip!==E.get()){const $=l.shared.providers.translate(E.get());Ii.setComponents(N,l.shared.providers.tooltips.getComponents({tooltipText:$}))}}})})]},"tox-tbtn",l.shared,v)};var a1;(function(s){s[s.SemiColon=0]="SemiColon",s[s.Space=1]="Space"})(a1||(a1={}));const K4=(s,l,d)=>{const f=(b=((v,C)=>C===a1.SemiColon?v.replace(/;$/,"").split(";"):v.split(" "))(s.options.get(l),d),Ve(b,v=>{let C=v,k=v;const E=v.split("=");return E.length>1&&(C=E[0],k=E[1]),{title:C,format:k}}));var b;return{type:"basic",data:f}},kM=q("Alignment {0}"),EM="left",j4=[{title:"Left",icon:"align-left",format:"alignleft",command:"JustifyLeft"},{title:"Center",icon:"align-center",format:"aligncenter",command:"JustifyCenter"},{title:"Right",icon:"align-right",format:"alignright",command:"JustifyRight"},{title:"Justify",icon:"align-justify",format:"alignjustify",command:"JustifyFull"}],Z4=s=>{const l={type:"basic",data:j4};return{tooltip:i1(s,kM(),EM),text:I.none(),icon:I.some("align-left"),isSelectedFor:d=>()=>s.formatter.match(d),getCurrentValue:I.none,getPreviewFor:d=>I.none,onAction:d=>()=>te(j4,f=>f.format===d.format).each(f=>s.execCommand(f.command)),updateText:d=>{const f=te(j4,b=>s.formatter.match(b.format)).fold(q(EM),b=>b.title.toLowerCase());Xn(d,Af,{icon:`align-${f}`}),((b,v)=>{b.dispatch("AlignTextUpdate",v)})(s,{value:f})},dataset:l,shouldHide:!1,isInvalid:d=>!s.formatter.canApply(d.format)}},TM=(s,l)=>{const d=l(),f=Ve(d,b=>b.format);return I.from(s.formatter.closest(f)).bind(b=>te(d,v=>v.format===b))},G4=q("Block {0}"),q4="Paragraph",Y4=s=>{const l=K4(s,"block_formats",a1.SemiColon);return{tooltip:i1(s,G4(),q4),text:I.some(q4),icon:I.none(),isSelectedFor:d=>()=>s.formatter.match(d),getCurrentValue:I.none,getPreviewFor:d=>()=>{const f=s.formatter.get(d);return f?I.some({tag:f.length>0&&(f[0].inline||f[0].block)||"div",styles:s.dom.parseStyle(s.formatter.getCssText(d))}):I.none()},onAction:nN(s),updateText:d=>{const f=TM(s,()=>l.data).fold(q(q4),b=>b.title);Xn(d,Pd,{text:f}),((b,v)=>{b.dispatch("BlocksTextUpdate",v)})(s,{value:f})},dataset:l,shouldHide:!1,isInvalid:d=>!s.formatter.canApply(d.format)}},AM=q("Font {0}"),X4="System Font",ez=["-apple-system","Segoe UI","Roboto","Helvetica Neue","sans-serif"],OM=s=>{const l=s.split(/\s*,\s*/);return Ve(l,d=>d.replace(/^['"]+|['"]+$/g,""))},RM=(s,l)=>l.length>0&&qe(l,d=>s.indexOf(d.toLowerCase())>-1),IM=s=>{const l=()=>{const f=N=>N?OM(N)[0]:"",b=s.queryCommandValue("FontName"),v=d.data,C=b?b.toLowerCase():"",k=HS(s);return{matchOpt:te(v,N=>{const $=N.format;return $.toLowerCase()===C||f($).toLowerCase()===f(C).toLowerCase()}).orThunk(()=>Go(((N,$)=>{if(N.indexOf("-apple-system")===0||$.length>0){const B=OM(N.toLowerCase());return RM(B,ez)||RM(B,$)}return!1})(C,k),{title:X4,format:C})),font:b}},d=K4(s,"font_family_formats",a1.SemiColon);return{tooltip:i1(s,AM(),X4),text:I.some(X4),icon:I.none(),isSelectedFor:f=>b=>b.exists(v=>v.format===f),getCurrentValue:()=>{const{matchOpt:f}=l();return f},getPreviewFor:f=>()=>I.some({tag:"div",styles:f.indexOf("dings")===-1?{"font-family":f}:{}}),onAction:f=>()=>{s.undoManager.transact(()=>{s.focus(),s.execCommand("FontName",!1,f.format)})},updateText:f=>{const{matchOpt:b,font:v}=l(),C=b.fold(q(v),k=>k.title);Xn(f,Pd,{text:C}),((k,E)=>{k.dispatch("FontFamilyTextUpdate",E)})(s,{value:C})},dataset:d,shouldHide:!1,isInvalid:Ce}},tz={unsupportedLength:["em","ex","cap","ch","ic","rem","lh","rlh","vw","vh","vi","vb","vmin","vmax","cm","mm","Q","in","pc","pt","px"],fixed:["px","pt"],relative:["%"],empty:[""]},nz=(()=>{const s="[0-9]+",l="[eE][+-]?"+s,d=b=>`(?:${b})?`,f=["Infinity",s+"\\."+d(s)+d(l),"\\."+s+d(l),s+d(l)].join("|");return new RegExp(`^([+-]?(?:${f}))(.*)$`)})(),Sk=(s,l)=>I.from(nz.exec(s)).bind(d=>{const f=Number(d[1]),b=d[2];return((v,C)=>Rn(C,k=>Rn(tz[k],E=>v===E)))(b,l)?I.some({value:f,unit:b}):I.none()}),DM={tab:q(9),escape:q(27),enter:q(13),backspace:q(8),delete:q(46),left:q(37),up:q(38),right:q(39),down:q(40),space:q(32),home:q(36),end:q(35),pageUp:q(33),pageDown:q(34)},PM=q("Font size {0}"),NM="12pt",oz={"8pt":"1","10pt":"2","12pt":"3","14pt":"4","18pt":"5","24pt":"6","36pt":"7"},MM={"xx-small":"7pt","x-small":"8pt",small:"10pt",medium:"12pt",large:"14pt","x-large":"18pt","xx-large":"24pt"},sz=(s,l)=>/[0-9.]+px$/.test(s)?((d,f)=>{const b=Math.pow(10,f);return Math.round(d*b)/b})(72*parseInt(s,10)/96,l||0)+"pt":cn(MM,s).getOr(s),rz=s=>cn(oz,s).getOr(""),LM=s=>{const l=()=>{let b=I.none();const v=f.data,C=s.queryCommandValue("FontSize");if(C)for(let k=3;b.isNone()&&k>=0;k--){const E=sz(C,k),N=rz(E);b=te(v,$=>$.format===C||$.format===E||$.format===N)}return{matchOpt:b,size:C}},d=q(I.none),f=K4(s,"font_size_formats",a1.Space);return{tooltip:i1(s,PM(),NM),text:I.some(NM),icon:I.none(),isSelectedFor:b=>v=>v.exists(C=>C.format===b),getPreviewFor:d,getCurrentValue:()=>{const{matchOpt:b}=l();return b},onAction:b=>()=>{s.undoManager.transact(()=>{s.focus(),s.execCommand("FontSize",!1,b.format)})},updateText:b=>{const{matchOpt:v,size:C}=l(),k=v.fold(q(C),E=>E.title);Xn(b,Pd,{text:k}),((E,N)=>{E.dispatch("FontSizeTextUpdate",N)})(s,{value:k})},dataset:f,shouldHide:!1,isInvalid:Ce}},BM=s=>Dc(s)?"Formats":"Format {0}",FM=(s,l)=>{const d="Formats";return{tooltip:i1(s,BM(""),""),text:I.some(d),icon:I.none(),isSelectedFor:f=>()=>s.formatter.match(f),getCurrentValue:I.none,getPreviewFor:f=>()=>{const b=s.formatter.get(f);return b!==void 0?I.some({tag:b.length>0&&(b[0].inline||b[0].block)||"div",styles:s.dom.parseStyle(s.formatter.getCssText(f))}):I.none()},onAction:nN(s),updateText:f=>{const b=k=>V5(k)?yn(k.items,b):z5(k)?[{title:k.title,format:k.format}]:[],v=yn(H5(s),b),C=TM(s,q(v)).fold(q({title:d,tooltipLabel:""}),k=>({title:k.title,tooltipLabel:k.title}));Xn(f,Pd,{text:C.title}),((k,E)=>{k.dispatch("StylesTextUpdate",E)})(s,{value:C.tooltipLabel})},shouldHide:FD(s),isInvalid:f=>!s.formatter.canApply(f.format),dataset:l}},J4=q([Ht("toggleClass"),Ht("fetch"),hf("onExecute"),vt("getHotspot",I.some),vt("getAnchorOverrides",q({})),og(),hf("onItemExecute"),ds("lazySink"),Ht("dom"),_s("onOpen"),Mn("splitDropdownBehaviours",[di,eo,Eo]),vt("matchWidth",!1),vt("useMinWidth",!1),vt("eventOrder",{}),ds("role"),ds("listRole")].concat(qA())),iz=gc({factory:Fl,schema:[Ht("dom")],name:"arrow",defaults:()=>({buttonBehaviours:an([Eo.revoke()])}),overrides:s=>({dom:{tag:"span",attributes:{role:"presentation"}},action:l=>{l.getSystem().getByUid(s.uid).each(mf)},buttonBehaviours:an([yo.config({toggleOnExecute:!1,toggleClass:s.toggleClass})])})}),az=gc({factory:Fl,schema:[Ht("dom")],name:"button",defaults:()=>({buttonBehaviours:an([Eo.revoke()])}),overrides:s=>({dom:{tag:"span",attributes:{role:"presentation"}},action:l=>{l.getSystem().getByUid(s.uid).each(d=>{s.onExecute(d,l)})}})}),lz=q([iz,az,Ed({factory:{sketch:s=>({uid:s.uid,dom:{tag:"span",styles:{display:"none"},attributes:{"aria-hidden":"true"},innerHtml:s.text}})},schema:[Ht("text")],name:"aria-descriptor"}),xm({schema:[bp()],name:"menu",defaults:s=>({onExecute:(l,d)=>{l.getSystem().getByUid(s.uid).each(f=>{s.onItemExecute(f,l,d)})}})}),vN()]),nC=kc({name:"SplitDropdown",configFields:J4(),partFields:lz(),factory:(s,l,d,f)=>{const b=N=>{Os.getCurrent(N).each($=>{Gs.highlightFirst($),eo.focusIn($)})},v=N=>{jA(s,he,N,f,b,Ql.HighlightMenuAndItem).get(U)},C=N=>{const $=Np(N,s,"button");return mf($),I.some(!0)},k={...To([hr((N,$)=>{vr(N,s,"aria-descriptor").each(B=>{const W=Nn("aria");xn(B.element,"id",W),xn(N.element,"aria-describedby",W)})})]),...Ly(I.some(v))},E={repositionMenus:N=>{yo.isOn(N)&&wN(N)}};return{uid:s.uid,dom:s.dom,components:l,apis:E,eventOrder:{...s.eventOrder,[vl()]:["disabling","toggling","alloy.base.behaviour"]},events:k,behaviours:zo(s.splitDropdownBehaviours,[di.config({others:{sandbox:N=>{const $=Np(N,s,"arrow");return GA(s,N,{onOpen:()=>{yo.on($),yo.on(N)},onClose:()=>{yo.off($),yo.off(N)}})}}}),eo.config({mode:"special",onSpace:C,onEnter:C,onDown:N=>(v(N),I.some(!0))}),Eo.config({}),yo.config({toggleOnExecute:!1,aria:{mode:"expanded"}})]),domModification:{attributes:{role:s.role.getOr("button"),"aria-haspopup":!0}}}},apis:{repositionMenus:(s,l)=>s.repositionMenus(l)}}),Q4=s=>({isEnabled:()=>!Oo.isDisabled(s),setEnabled:l=>Oo.set(s,!l),setText:l=>Xn(s,Pd,{text:l}),setIcon:l=>Xn(s,Af,{icon:l})}),cz=s=>({setActive:l=>{yo.set(s,l)},isActive:()=>yo.isOn(s),isEnabled:()=>!Oo.isDisabled(s),setEnabled:l=>Oo.set(s,!l),setText:l=>Xn(s,Pd,{text:l}),setIcon:l=>Xn(s,Af,{icon:l})}),$M=(s,l)=>s.map(d=>({"aria-label":l.translate(d)})).getOr({}),eO=Nn("focus-button"),tO=(s,l,d,f,b,v)=>{const C=l.map(E=>Ks(H3(E,"tox-tbtn",b))),k=s.map(E=>Ks(lv(E,b.icons)));return{dom:{tag:"button",classes:["tox-tbtn"].concat(l.isSome()?["tox-tbtn--select"]:[]),attributes:{...$M(d,b),...K(v)?{"data-mce-name":v}:{}}},components:jy([k.map(E=>E.asSpec()),C.map(E=>E.asSpec())]),eventOrder:{[Ut()]:["focusing","alloy.base.behaviour",av],[pa()]:[av,"toolbar-group-button-events"]},buttonBehaviours:an([d_(b.isDisabled),ba(),jo(av,[hr((E,N)=>J_(E)),Lt(Pd,(E,N)=>{C.bind($=>$.getOpt(E)).each($=>{go.set($,[ui(b.translate(N.event.text))])})}),Lt(Af,(E,N)=>{k.bind($=>$.getOpt(E)).each($=>{go.set($,[lv(N.event.icon,b.icons)])})}),Lt(Ut(),(E,N)=>{N.event.prevent(),Wo(E,eO)})])].concat(f.getOr([])))}},VM=(s,l,d,f)=>{var b;const v=Wn(U),C=tO(s.icon,s.text,s.tooltip,I.none(),d,f);return Fl.sketch({dom:C.dom,components:C.components,eventOrder:z3,buttonBehaviours:{...an([jo("toolbar-button-events",[(k={onAction:s.onAction,getApi:l.getApi},gu((E,N)=>{E2(k,E)($=>{Xn(E,X_,{buttonApi:$}),k.onAction($)})})),Jb(l,v),Vp(l,v)]),...s.tooltip.map(E=>Ii.config(d.tooltips.getConfig({tooltipText:d.translate(E)+s.shortcut.map(N=>` (${f_(N)})`).getOr("")}))).toArray(),d_(()=>!s.enabled||d.isDisabled()),ba()].concat(l.toolbarButtonBehaviours)),[av]:(b=C.buttonBehaviours)===null||b===void 0?void 0:b[av]}});var k},zM=(s,l,d,f)=>VM(s,{toolbarButtonBehaviours:d.length>0?[jo("toolbarButtonWith",d)]:[],getApi:Q4,onSetup:s.onSetup},l,f),HM=(s,l,d,f)=>VM(s,{toolbarButtonBehaviours:[go.config({}),yo.config({toggleClass:"tox-tbtn--enabled",aria:{mode:"pressed"},toggleOnExecute:!1})].concat(d.length>0?[jo("toolbarToggleButtonWith",d)]:[]),getApi:cz,onSetup:s.onSetup},l,f),uz=(s,l,d)=>f=>Qb(b=>l.fetch(b)).map(b=>I.from(YA(qs(X0(Nn("menu-value"),b,v=>{l.onItemAction(s(f),v)},l.columns,l.presets,yg.CLOSE_ON_EXECUTE,l.select.getOr(Ce),d),{movement:I2(l.columns,l.presets),menuBehaviours:k2(l.columns!=="auto"?[]:[hr((v,C)=>{wA(v,4,qb(l.presets)).each(({numRows:k,numColumns:E})=>{eo.setGridSize(v,k,E)})})])})))),dz=[{name:"history",items:["undo","redo"]},{name:"ai",items:["aidialog","aishortcuts"]},{name:"styles",items:["styles"]},{name:"formatting",items:["bold","italic"]},{name:"alignment",items:["alignleft","aligncenter","alignright","alignjustify"]},{name:"indentation",items:["outdent","indent"]},{name:"permanent pen",items:["permanentpen"]},{name:"comments",items:["addcomment"]}],fv=(s,l)=>(d,f,b,v)=>{const C=s(d).mapError(k=>Ga(k)).getOrDie();return l(C,f,b,v)},fz={button:fv(RP,(s,l,d,f)=>((b,v,C)=>zM(b,v,[],C))(s,l.shared.providers,f)),togglebutton:fv(l_,(s,l,d,f)=>((b,v,C)=>HM(b,v,[],C))(s,l.shared.providers,f)),menubutton:fv(rM,(s,l,d,f)=>rx(s,"tox-tbtn",l,I.none(),!1,f)),splitbutton:fv(s=>Ir("SplitButton",bV,s),(s,l,d,f)=>((b,v,C)=>{const k=Wn(b.tooltip.getOr("")),E=B=>({isEnabled:()=>!Oo.isDisabled(B),setEnabled:W=>Oo.set(B,!W),setIconFill:(W,J)=>{Lr(B.element,`svg path[class="${W}"], rect[class="${W}"]`).each(se=>{xn(se,"fill",J)})},setActive:W=>{xn(B.element,"aria-pressed",W),Lr(B.element,"span").each(J=>{B.getSystem().getByDom(J).each(se=>yo.set(se,W))})},isActive:()=>Lr(B.element,"span").exists(W=>B.getSystem().getByDom(W).exists(yo.isOn)),setText:W=>Lr(B.element,"span").each(J=>B.getSystem().getByDom(J).each(se=>Xn(se,Pd,{text:W}))),setIcon:W=>Lr(B.element,"span").each(J=>B.getSystem().getByDom(J).each(se=>Xn(se,Af,{icon:W}))),setTooltip:W=>{const J=v.providers.translate(W);xn(B.element,"aria-label",J),k.set(W)}}),N=Wn(U),$={getApi:E,onSetup:b.onSetup};return nC.sketch({dom:{tag:"div",classes:["tox-split-button"],attributes:{"aria-pressed":!1,...$M(b.tooltip,v.providers),...K(C)?{"data-mce-name":C}:{}}},onExecute:B=>{const W=E(B);W.isEnabled()&&b.onAction(W)},onItemExecute:(B,W,J)=>{},splitDropdownBehaviours:an([zP(v.providers.isDisabled),ba(),jo("split-dropdown-events",[hr((B,W)=>J_(B)),Lt(eO,Eo.focus),Jb($,N),Vp($,N)]),Q0.config({}),...b.tooltip.map(B=>Ii.config({...v.providers.tooltips.getConfig({tooltipText:v.providers.translate(B),onShow:W=>{if(k.get()!==B){const J=v.providers.translate(k.get());Ii.setComponents(W,v.providers.tooltips.getComponents({tooltipText:J}))}}})})).toArray()]),eventOrder:{[pa()]:["alloy.base.behaviour","split-dropdown-events","tooltipping"],[Uc()]:["split-dropdown-events","tooltipping"]},toggleClass:"tox-tbtn--enabled",lazySink:v.getSink,fetch:uz(E,b,v.providers),parts:{menu:o_(0,b.columns,b.presets)},components:[nC.parts.button(tO(b.icon,b.text,I.none(),I.some([yo.config({toggleClass:"tox-tbtn--enabled",toggleOnExecute:!1})]),v.providers)),nC.parts.arrow({dom:{tag:"button",classes:["tox-tbtn","tox-split-button__chevron"],innerHtml:lP("chevron-down",v.providers.icons)},buttonBehaviours:an([zP(v.providers.isDisabled),ba(),e_()])}),nC.parts["aria-descriptor"]({text:v.providers.translate("To open the popup, press Shift+Enter")})]})})(s,l.shared,f)),grouptoolbarbutton:fv(s=>Ir("GroupToolbarButton",hV,s),(s,l,d,f)=>{const b=d.ui.registry.getAll().buttons,v={[mc]:l.shared.header.isPositionedAtTop()?Qu.TopToBottom:Qu.BottomToTop};if(F0(d)===xf.floating)return((C,k,E,N,$)=>{const B=k.shared,W=Wn(U),J={toolbarButtonBehaviours:[],getApi:Q4,onSetup:C.onSetup},se=[jo("toolbar-group-button-events",[Jb(J,W),Vp(J,W)])];return Gp.sketch({lazySink:B.getSink,fetch:()=>Qb(pe=>{pe(Ve(E(C.items),wk))}),markers:{toggledClass:"tox-tbtn--enabled"},parts:{button:tO(C.icon,C.text,C.tooltip,I.some(se),B.providers,$),toolbar:{dom:{tag:"div",classes:["tox-toolbar__overflow"],attributes:N}}}})})(s,l,C=>_k(d,{buttons:b,toolbar:C,allowToolbarGroups:!1},l,I.none()),v,f);throw new Error("Toolbar groups are only supported when using floating toolbar mode")})},oC={styles:(s,l)=>{const d={type:"advanced",...l.styles};return tC(s,l,FM(s,d),BM,"StylesTextUpdate","styles")},fontsize:(s,l)=>tC(s,l,LM(s),PM,"FontSizeTextUpdate","fontsize"),fontsizeinput:(s,l)=>((d,f,b,v)=>{let C=I.none();const k=q0(d,"NodeChange SwitchMode",Ee=>{const Pe=Ee.getComponent();C=I.some(Pe),b.updateInputValue(Pe),Oo.set(Pe,!d.selection.isEditable())}),E=Ee=>({getComponent:q(Ee)}),N=Wn(U),$=Nn("custom-number-input-events"),B=(Ee,Pe,Le)=>{const et=C.map(sn=>St.getValue(sn)).getOr(""),ht=b.getNewValue(et,Ee),zt=et.length-`${ht}`.length,Bt=C.map(sn=>sn.element.dom.selectionStart-zt),Pt=C.map(sn=>sn.element.dom.selectionEnd-zt);b.onAction(ht,Le),C.each(sn=>{St.setValue(sn,ht),Pe&&(Bt.each(In=>sn.element.dom.selectionStart=In),Pt.each(In=>sn.element.dom.selectionEnd=In))})},W=(Ee,Pe)=>B((Le,et)=>Le-et,Ee,Pe),J=(Ee,Pe)=>B((Le,et)=>Le+et,Ee,Pe),se=Ee=>Ta(Ee.element).fold(I.none,Pe=>(Ml(Pe),I.some(!0))),pe=Ee=>Tp(Ee.element)?(Be(Ee.element).each(Pe=>Ml(Pe)),I.some(!0)):I.none(),ye=(Ee,Pe,Le,et)=>{const ht=Wn(U),zt=f.shared.providers.translate(Le),Bt=Nn("altExecuting"),Pt=q0(d,"NodeChange SwitchMode",In=>{Oo.set(In.getComponent(),!d.selection.isEditable())}),sn=In=>{Oo.isDisabled(In)||Ee(!0)};return Fl.sketch({dom:{tag:"button",attributes:{"aria-label":zt,"data-mce-name":Pe},classes:et.concat(Pe)},components:[U2(Pe,f.shared.providers.icons)],buttonBehaviours:an([Oo.config({}),Ii.config(f.shared.providers.tooltips.getConfig({tooltipText:zt})),jo(Bt,[Jb({onSetup:Pt,getApi:E},ht),Vp({getApi:E},ht),Lt(Pr(),(In,Kn)=>{Kn.event.raw.keyCode!==DM.space()&&Kn.event.raw.keyCode!==DM.enter()||Oo.isDisabled(In)||Ee(!1)}),Lt(bi(),sn),Lt(We(),sn)])]),eventOrder:{[Pr()]:[Bt,"keying"],[bi()]:[Bt,"alloy.base.behaviour"],[We()]:[Bt,"alloy.base.behaviour"],[pa()]:["alloy.base.behaviour",Bt,"tooltipping"],[Uc()]:[Bt,"tooltipping"]}})},De=Ks(ye(Ee=>W(!1,Ee),"minus","Decrease font size",[])),ve=Ks(ye(Ee=>J(!1,Ee),"plus","Increase font size",[])),be=Ks({dom:{tag:"div",classes:["tox-input-wrapper"]},components:[$p.sketch({inputBehaviours:an([Oo.config({}),jo($,[Jb({onSetup:k,getApi:E},N),Vp({getApi:E},N)]),jo("input-update-display-text",[Lt(Pd,(Ee,Pe)=>{St.setValue(Ee,Pe.event.text)}),Lt(ei(),Ee=>{b.onAction(St.getValue(Ee))}),Lt(sm(),Ee=>{b.onAction(St.getValue(Ee))})]),eo.config({mode:"special",onEnter:Ee=>(B(he,!0,!0),I.some(!0)),onEscape:se,onUp:Ee=>(J(!0,!1),I.some(!0)),onDown:Ee=>(W(!0,!1),I.some(!0)),onLeft:(Ee,Pe)=>(Pe.cut(),I.none()),onRight:(Ee,Pe)=>(Pe.cut(),I.none())})])})],behaviours:an([Eo.config({}),eo.config({mode:"special",onEnter:pe,onSpace:pe,onEscape:se}),jo("input-wrapper-events",[Lt(jn(),Ee=>{bt([De,ve],Pe=>{const Le=Sn(Pe.get(Ee).element.dom);Tp(Le)&&a0(Le)})})])])});return{dom:{tag:"div",classes:["tox-number-input"],attributes:{...K(v)?{"data-mce-name":v}:{}}},components:[De.asSpec(),be.asSpec(),ve.asSpec()],behaviours:an([Eo.config({}),eo.config({mode:"flow",focusInside:O0.OnEnterOrSpaceMode,cycles:!1,selector:"button, .tox-input-wrapper",onEscape:Ee=>Tp(Ee.element)?I.none():(Ml(Ee.element),I.some(!0))})])}})(s,l,(d=>{const f=()=>d.queryCommandValue("FontSize");return{updateInputValue:b=>Xn(b,Pd,{text:f()}),onAction:(b,v)=>d.execCommand("FontSize",!1,b,{skip_focus:!v}),getNewValue:(b,v)=>{Sk(b,["unsupportedLength","empty"]);const C=f(),k=Sk(b,["unsupportedLength","empty"]).or(Sk(C,["unsupportedLength","empty"])),E=k.map(J=>J.value).getOr(16),N=ZT(d),$=k.map(J=>J.unit).filter(J=>J!=="").getOr(N),B=v(E,(J=>{var se;return(se={em:{step:.1},cm:{step:.1},in:{step:.1},pc:{step:.1},ch:{step:.1},rem:{step:.1}}[J])!==null&&se!==void 0?se:{step:1}})($).step),W=`${(J=>J>=0)(B)?B:E}${$}`;return W!==C&&((J,se)=>{J.dispatch("FontSizeInputTextUpdate",se)})(d,{value:W}),W}}})(s),"fontsizeinput"),fontfamily:(s,l)=>tC(s,l,IM(s),AM,"FontFamilyTextUpdate","fontfamily"),blocks:(s,l)=>tC(s,l,Y4(s),G4,"BlocksTextUpdate","blocks"),align:(s,l)=>tC(s,l,Z4(s),kM,"AlignTextUpdate","align")},_k=(s,l,d,f)=>{const b=(C=>{const k=C.toolbar,E=C.buttons;return k===!1?[]:k===void 0||k===!0?(N=>{const $=Ve(dz,B=>{const W=Yt(B.items,J=>uo(N,J)||uo(oC,J));return{name:B.name,items:W}});return Yt($,B=>B.items.length>0)})(E):h(k)?(N=>{const $=N.split("|");return Ve($,B=>({items:B.trim().split(" ")}))})(k):(N=>re(N,$=>uo($,"name")&&uo($,"items")))(k)?k:(console.error("Toolbar type should be string, string[], boolean or ToolbarGroup[]"),[])})(l),v=Ve(b,C=>{const k=yn(C.items,E=>E.trim().length===0?[]:((N,$,B,W,J,se)=>cn($,B.toLowerCase()).orThunk(()=>se.bind(pe=>pn(pe,ye=>cn($,ye+B.toLowerCase())))).fold(()=>cn(oC,B.toLowerCase()).map(pe=>pe(N,J)),pe=>pe.type!=="grouptoolbarbutton"||W?((ye,De,ve,be)=>cn(fz,ye.type).fold(()=>(console.error("skipping button defined by",ye),I.none()),Ee=>I.some(Ee(ye,De,ve,be))))(pe,J,N,B.toLowerCase()):(console.warn(`Ignoring the '${B}' toolbar button. Group toolbar buttons are only supported when using floating toolbar mode and cannot be nested.`),I.none())))(s,l.buttons,E,l.allowToolbarGroups,d,f).toArray());return{title:I.from(s.translate(C.name)),items:k}});return Yt(v,C=>C.items.length>0)},UM=(s,l,d,f)=>{const b=l.mainUi.outerContainer,v=d.toolbar,C=d.buttons;if(re(v,h)){const k=v.map(E=>{const N={toolbar:E,buttons:C,allowToolbarGroups:d.allowToolbarGroups};return _k(s,N,f,I.none())});_r.setToolbars(b,k)}else _r.setToolbar(b,_k(s,d,f,I.none()))},WM=Ki(),mz=WM.os.isiOS()&&WM.os.version.major<=12;var BK=Object.freeze({__proto__:null,render:(s,l,d,f,b)=>{const{mainUi:v,uiMotherships:C}=l,k=Wn(0),E=v.outerContainer;_M(s);const N=Sn(b.targetNode),$=lt(Ct(N));Dt(N,v.mothership),((se,pe,ye)=>{Fp(se)&&Dt(ye.mainUi.mothership.element,ye.popupUi.mothership),Iw(pe,ye.dialogUi.mothership)})(s,$,l),s.on("SkinLoaded",()=>{_r.setSidebar(E,d.sidebar,zS(s)),UM(s,l,d,f),k.set(s.getWin().innerWidth),_r.setMenubar(E,wM(s,d)),_r.setViews(E,d.views),((se,pe)=>{const{uiMotherships:ye}=pe,De=se.dom;let ve=se.getWin();const be=se.getDoc().documentElement,Ee=Wn(rr(ve.innerWidth,ve.innerHeight)),Pe=Wn(rr(be.offsetWidth,be.offsetHeight)),Le=()=>{const Bt=Ee.get();Bt.left===ve.innerWidth&&Bt.top===ve.innerHeight||(Ee.set(rr(ve.innerWidth,ve.innerHeight)),G0(se))},et=()=>{const Bt=se.getDoc().documentElement,Pt=Pe.get();Pt.left===Bt.offsetWidth&&Pt.top===Bt.offsetHeight||(Pe.set(rr(Bt.offsetWidth,Bt.offsetHeight)),G0(se))},ht=Bt=>{((Pt,sn)=>{Pt.dispatch("ScrollContent",sn)})(se,Bt)};De.bind(ve,"resize",Le),De.bind(ve,"scroll",ht);const zt=Cw(Sn(se.getBody()),"load",et);se.on("hide",()=>{bt(ye,Bt=>{_o(Bt.element,"display","none")})}),se.on("show",()=>{bt(ye,Bt=>{zs(Bt.element,"display")})}),se.on("NodeChange",et),se.on("remove",()=>{zt.unbind(),De.unbind(ve,"resize",Le),De.unbind(ve,"scroll",ht),ve=null})})(s,l)});const B=_r.getSocket(E).getOrDie("Could not find expected socket element");if(mz){Al(B.element,{overflow:"scroll","-webkit-overflow-scrolling":"touch"});const se=((ye,De)=>{let ve=null;return{cancel:()=>{D(ve)||(clearTimeout(ve),ve=null)},throttle:(...be)=>{D(ve)&&(ve=setTimeout(()=>{ve=null,ye.apply(null,be)},20))}}})(()=>{s.dispatch("ScrollContent")}),pe=Ll(B.element,"scroll",se.throttle);s.on("remove",pe.unbind)}VP(s,l),s.addCommand("ToggleSidebar",(se,pe)=>{_r.toggleSidebar(E,pe),(ye=>{ye.dispatch("ToggleSidebar")})(s)}),s.addQueryValueHandler("ToggleSidebar",()=>{var se;return(se=_r.whichSidebar(E))!==null&&se!==void 0?se:""}),s.addCommand("ToggleView",(se,pe)=>{if(_r.toggleView(E,pe)){const ye=E.element;v.mothership.broadcastOn([F()],{target:ye}),bt(C,De=>{De.broadcastOn([F()],{target:ye})}),D(_r.whichView(E))&&(s.focus(),s.nodeChanged(),_r.refreshToolbar(E)),(De=>{De.dispatch("ToggleView")})(s)}}),s.addQueryValueHandler("ToggleView",()=>{var se;return(se=_r.whichView(E))!==null&&se!==void 0?se:""});const W=F0(s);W!==xf.sliding&&W!==xf.floating||s.on("ResizeWindow ResizeEditor ResizeContent",()=>{const se=s.getWin().innerWidth;se!==k.get()&&(_r.refreshToolbar(l.mainUi.outerContainer),k.set(se))});const J={setEnabled:se=>{j0(l,!se)},isEnabled:()=>!Oo.isDisabled(E)};return{iframeContainer:B.element.dom,editorContainer:E.element.dom,api:J}}});const sC=s=>/^[0-9\.]+(|px)$/i.test(""+s)?I.some(parseInt(""+s,10)):I.none(),mv=s=>Q(s)?s+"px":s,rC=(s,l,d)=>{const f=l.filter(v=>s<v),b=d.filter(v=>s>v);return f.or(b).getOr(s)},nO=s=>{const l=Qw(s),d=e2(s),f=$y(s);return sC(l).map(b=>rC(b,d,f))},{ToolbarLocation:oO,ToolbarMode:KM}=i2,gz=(s,l,d,f,b)=>{const{mainUi:v,uiMotherships:C}=d,k=By.DOM,E=$0(s),N=Bp(s),$=$y(s).or(nO(s)),B=f.shared.header,W=B.isPositionedAtTop,J=F0(s),se=J===KM.sliding||J===KM.floating,pe=Wn(!1),ye=()=>pe.get()&&!s.removed,De=Pe=>se?Pe.fold(q(0),Le=>Le.components().length>1?Rr(Le.components()[1].element):0):0,ve=()=>{bt(C,Pe=>{Pe.broadcastOn([j()],{})})},be=Pe=>{if(!ye())return;E||b.on(ht=>{const zt=$.getOrThunk(()=>Ei().width-ca(l).left-10);_o(ht.element,"max-width",zt+"px")});const Le=fr(),et=!(E||E||!(Dl(v.outerContainer.element).left+Wa(v.outerContainer.element)>=window.innerWidth-40||Jr(v.outerContainer.element,"width").isSome())||(_o(v.outerContainer.element,"position","absolute"),_o(v.outerContainer.element,"left","0px"),zs(v.outerContainer.element,"width"),0));if(se&&_r.refreshToolbar(v.outerContainer),!E){const ht=fr(),zt=Go(Le.left!==ht.left,Le);((Bt,Pt)=>{b.on(sn=>{const In=_r.getToolbar(v.outerContainer),Kn=De(In),ro=ai(l),Ro=((Zo,ks)=>Fp(Zo)?cm(ks):I.none())(s,v.outerContainer.element),as=Ro.fold(()=>ro.x,Zo=>{const ks=ai(Zo);return cs(Zo,Tn())?ro.x:ro.x-ks.x}),kr=Go(Bt,Math.ceil(v.outerContainer.element.dom.getBoundingClientRect().width)).filter(Zo=>Zo>150).map(Zo=>{const ks=Pt.getOr(fr()),fo=window.innerWidth-(as-ks.left),Fr=Math.max(Math.min(Zo,fo),150);return fo<Zo&&_o(v.outerContainer.element,"width",Fr+"px"),{width:Fr+"px"}}).getOr({width:"max-content"}),Br={position:"absolute",left:Math.round(as)+"px",top:Ro.fold(()=>W()?Math.max(ro.y-Rr(sn.element)+Kn,0):ro.bottom,Zo=>{var ks;const fo=ai(Zo),Fr=(ks=Zo.dom.scrollTop)!==null&&ks!==void 0?ks:0,nr=cs(Zo,Tn())?Math.max(ro.y-Rr(sn.element)+Kn,0):ro.y-fo.y+Fr-Rr(sn.element)+Kn;return W()?nr:ro.bottom})+"px"};Al(v.outerContainer.element,{...Br,...kr})})})(et,zt),zt.each(Bt=>{ef(Bt.left,ht.top)})}N&&b.on(Pe),ve()},Ee=()=>!(E||!N||!ye())&&b.get().exists(Pe=>{const Le=B.getDockingMode(),et=(zt=>{switch(Hb(s)){case oO.auto:const Bt=_r.getToolbar(v.outerContainer),Pt=De(Bt),sn=Rr(zt.element)-Pt,In=ai(l);if(In.y>sn)return"top";{const Kn=gl(l),ro=Math.max(Kn.dom.scrollHeight,Rr(Kn));return In.bottom<ro-sn||Ni().bottom<In.bottom-sn?"bottom":"top"}case oO.bottom:return"bottom";case oO.top:default:return"top"}})(Pe);return et!==Le&&(ht=et,b.on(zt=>{Mr.setModes(zt,[ht]),B.setDockingMode(ht);const Bt=W()?Qu.TopToBottom:Qu.BottomToTop;xn(zt.element,mc,Bt)}),!0);var ht});return{isVisible:ye,isPositionedAtTop:W,show:()=>{pe.set(!0),_o(v.outerContainer.element,"display","flex"),k.addClass(s.getBody(),"mce-edit-focus"),bt(C,Pe=>{zs(Pe.element,"display")}),Ee(),Fp(s)?be(Pe=>Mr.isDocked(Pe)?Mr.reset(Pe):Mr.refresh(Pe)):be(Mr.refresh)},hide:()=>{pe.set(!1),_o(v.outerContainer.element,"display","none"),k.removeClass(s.getBody(),"mce-edit-focus"),bt(C,Pe=>{_o(Pe.element,"display","none")})},update:be,updateMode:()=>{Ee()&&be(Mr.reset)},repositionPopups:ve}},jM=(s,l)=>{const d=ai(s);return{pos:l?d.y:d.bottom,bounds:d}};var hz=Object.freeze({__proto__:null,render:(s,l,d,f,b)=>{const{mainUi:v}=l,C=Ss(),k=Sn(b.targetNode),E=gz(s,k,l,f,C),N=VD(s);JV(s);const $=()=>{if(C.isSet())return void E.show();C.set(_r.getHeader(v.outerContainer).getOrDie());const W=jS(s);Fp(s)?(Dt(k,v.mothership),Dt(k,l.popupUi.mothership)):Iw(W,v.mothership),Iw(W,l.dialogUi.mothership);const J=()=>{UM(s,l,d,f),_r.setMenubar(v.outerContainer,wM(s,d)),E.show(),((se,pe,ye,De)=>{const ve=Wn(jM(pe,ye.isPositionedAtTop())),be=et=>{const{pos:ht,bounds:zt}=jM(pe,ye.isPositionedAtTop()),{pos:Bt,bounds:Pt}=ve.get(),sn=zt.height!==Pt.height||zt.width!==Pt.width;ve.set({pos:ht,bounds:zt}),sn&&G0(se,et),ye.isVisible()&&(Bt!==ht?ye.update(Mr.reset):sn&&(ye.updateMode(),ye.repositionPopups()))};De||(se.on("activate",ye.show),se.on("deactivate",ye.hide)),se.on("SkinLoaded ResizeWindow",()=>ye.update(Mr.reset)),se.on("NodeChange keydown",et=>{requestAnimationFrame(()=>be(et))});let Ee=0;const Pe=R3(()=>ye.update(Mr.refresh),33);se.on("ScrollWindow",()=>{const et=fr().left;et!==Ee&&(Ee=et,Pe.throttle()),ye.updateMode()}),Fp(se)&&se.on("ElementScroll",et=>{ye.update(Mr.refresh)});const Le=Mc();Le.set(Cw(Sn(se.getBody()),"load",et=>be(et.raw))),se.on("remove",()=>{Le.clear()})})(s,k,E,N),s.nodeChanged()};N?s.once("SkinLoaded",J):J()};s.on("show",$),s.on("hide",E.hide),N||(s.on("focus",$),s.on("blur",E.hide)),s.on("init",()=>{(s.hasFocus()||N)&&$()}),VP(s,l);const B={show:$,hide:E.hide,setEnabled:W=>{j0(l,!W)},isEnabled:()=>!Oo.isDisabled(v.outerContainer)};return{editorContainer:v.outerContainer.element.dom,api:B}}});const ZM="contexttoolbar-hide",GM=(s,l)=>Lt(X_,(d,f)=>{const b=(v=>({hide:()=>Wo(v,up()),getValue:()=>St.getValue(v)}))(s.get(d));l.onAction(b,f.event.buttonApi)}),pz=(s,l)=>{const d=s.label.fold(()=>({}),v=>({"aria-label":v})),f=Ks($p.sketch({inputClasses:["tox-toolbar-textfield","tox-toolbar-nav-js"],data:s.initValue(),inputAttributes:d,selectOnFocus:!0,inputBehaviours:an([eo.config({mode:"special",onEnter:v=>b.findPrimary(v).map(C=>(mf(C),!0)),onLeft:(v,C)=>(C.cut(),I.none()),onRight:(v,C)=>(C.cut(),I.none())})])})),b=((v,C,k)=>{const E=Ve(C,N=>Ks((($,B,W)=>(J=>J.type==="contextformtogglebutton")(B)?((J,se,pe)=>{const{primary:ye,...De}=se.original,ve=Da(l_({...De,type:"togglebutton",onAction:U}));return HM(ve,pe,[GM(J,se)])})($,B,W):((J,se,pe)=>{const{primary:ye,...De}=se.original,ve=Da(RP({...De,type:"button",onAction:U}));return zM(ve,pe,[GM(J,se)])})($,B,W))(v,N,k)));return{asSpecs:()=>Ve(E,N=>N.asSpec()),findPrimary:N=>pn(C,($,B)=>$.primary?I.from(E[B]).bind(W=>W.getOpt(N)).filter(Ue(Oo.isDisabled)):I.none())}})(f,s.commands,l);return[{title:I.none(),items:[f.asSpec()]},{title:I.none(),items:b.asSpecs()}]},qM=(s,l,d)=>l.bottom-s.y>=d&&s.bottom-l.y>=d,sO=s=>{const l=(d=>{const f=d.getBoundingClientRect();if(f.height<=0&&f.width<=0){const b=Ze(Sn(d.startContainer),d.startOffset).element;return(la(b)?Pi(b):I.some(b)).filter(dr).map(v=>v.dom.getBoundingClientRect()).getOr(f)}return f})(s.selection.getRng());if(s.inline){const d=fr();return qo(d.left+l.left,d.top+l.top,l.width,l.height)}{const d=ja(Sn(s.getBody()));return qo(d.x+l.left,d.y+l.top,l.width,l.height)}},YM=(s,l,d,f=0)=>{const b=Ei(window),v=ai(Sn(s.getContentAreaContainer())),C=o2(s)||s2(s)||r2(s),{x:k,width:E}=((N,$,B)=>{const W=Math.max(N.x+B,$.x);return{x:W,width:Math.min(N.right-B,$.right)-W}})(v,b,f);if(s.inline&&!C)return qo(k,b.y,E,b.height);{const N=l.header.isPositionedAtTop(),{y:$,bottom:B}=((W,J,se,pe,ye,De)=>{const ve=Sn(W.getContainer()),be=Lr(ve,".tox-editor-header").getOr(ve),Ee=ai(be),Pe=Ee.y>=J.bottom,Le=pe&&!Pe;if(W.inline&&Le)return{y:Math.max(Ee.bottom+De,se.y),bottom:se.bottom};if(W.inline&&!Le)return{y:se.y,bottom:Math.min(Ee.y-De,se.bottom)};const et=ye==="line"?ai(ve):J;return Le?{y:Math.max(Ee.bottom+De,se.y),bottom:Math.min(et.bottom-De,se.bottom)}:{y:Math.max(et.y+De,se.y),bottom:Math.min(Ee.y-De,se.bottom)}})(s,v,b,N,d,f);return qo(k,$,E,B-$)}},rO={valignCentre:[],alignCentre:[],alignLeft:["tox-pop--align-left"],alignRight:["tox-pop--align-right"],right:["tox-pop--right"],left:["tox-pop--left"],bottom:["tox-pop--bottom"],top:["tox-pop--top"],inset:["tox-pop--inset"]},l1={maxHeightFunction:Ap(),maxWidthFunction:M4()},gv=s=>s==="node",bz=(s,l,d,f,b)=>{const v=sO(s),C=f.lastElement().exists(k=>cs(d,k));return((k,E)=>{const N=k.selection.getRng(),$=Ze(Sn(N.startContainer),N.startOffset);return N.startContainer===N.endContainer&&N.startOffset===N.endOffset-1&&cs($.element,E)})(s,d)?C?ck:Rs:C?((k,E,N)=>{const $=Jr(k,"position");_o(k,"position",E);const B=qM(v,ai(l),-20)&&!f.isReposition()?f4:ck;return $.each(W=>_o(k,"position",W)),B})(l,f.getMode()):(f.getMode()==="fixed"?b.y+fr().top:b.y)+(Rr(l)+12)<=v.y?Rs:Dh},XM=(s,l,d,f)=>{const b=C=>(k,E,N,$,B)=>({...bz(s,$,C,d,B)({...k,y:B.y,height:B.height},E,N,$,B),alwaysFit:!0}),v=C=>gv(f)?[b(C)]:[];return l?{onLtr:C=>[vi,ni,oi,Oi,er,Yr].concat(v(C)),onRtl:C=>[vi,oi,ni,er,Oi,Yr].concat(v(C))}:{onLtr:C=>[Yr,vi,Oi,ni,er,oi].concat(v(C)),onRtl:C=>[Yr,vi,er,oi,Oi,ni].concat(v(C))}},kk=(s,l)=>{const d=Yt(l,v=>v.predicate(s.dom)),{pass:f,fail:b}=Yn(d,v=>v.type==="contexttoolbar");return{contextToolbars:f,contextForms:b}},Ek=(s,l)=>{const d={},f=[],b=[],v={},C={},k=Qt(s);return bt(k,E=>{const N=s[E];N.type==="contextform"?(($,B)=>{const W=Da(Ir("ContextForm",F7,B));d[$]=W,W.launch.map(J=>{v["form:"+$]={...B.launch,type:J.type==="contextformtogglebutton"?"togglebutton":"button",onAction:()=>{l(W)}}}),W.scope==="editor"?b.push(W):f.push(W),C[$]=W})(E,N):N.type==="contexttoolbar"&&(($,B)=>{var W;(W=B,Ir("ContextToolbar",DP,W)).each(J=>{B.scope==="editor"?b.push(J):f.push(J),C[$]=J})})(E,N)}),{forms:d,inNodeScope:f,inEditorScope:b,lookupTable:C,formNavigators:v}},JM=Nn("forward-slide"),mx=Nn("backward-slide"),c1=Nn("change-slide-event"),iO="tox-pop--resizing",aO="tox-pop--transition",vz=(s,l,d,f)=>{const b=f.backstage,v=b.shared,C=Ki().deviceType.isTouch,k=Ss(),E=Ss(),N=Ss(),$=Ma((Le=>{const et=Wn([]);return zr.sketch({dom:{tag:"div",classes:["tox-pop"]},fireDismissalEventInstead:{event:"doNotDismissYet"},onShow:ht=>{et.set([]),zr.getContent(ht).each(zt=>{zs(zt.element,"visibility")}),Fo(ht.element,iO),zs(ht.element,"width")},inlineBehaviours:an([jo("context-toolbar-events",[gf(lp(),(ht,zt)=>{zt.event.raw.propertyName==="width"&&(Fo(ht.element,iO),zs(ht.element,"width"))}),Lt(c1,(ht,zt)=>{const Bt=ht.element;zs(Bt,"width");const Pt=Wi(Bt);zr.setContent(ht,zt.event.contents),Vn(Bt,iO);const sn=Wi(Bt);_o(Bt,"width",Pt+"px"),zr.getContent(ht).each(In=>{zt.event.focus.bind(Kn=>(Ml(Kn),yi(Bt))).orThunk(()=>(eo.focusIn(In),Cd(Ct(Bt))))}),setTimeout(()=>{_o(ht.element,"width",sn+"px")},0)}),Lt(JM,(ht,zt)=>{zr.getContent(ht).each(Bt=>{et.set(et.get().concat([{bar:Bt,focus:Cd(Ct(ht.element))}]))}),Xn(ht,c1,{contents:zt.event.forwardContents,focus:I.none()})}),Lt(mx,(ht,zt)=>{Je(et.get()).each(Bt=>{et.set(et.get().slice(0,et.get().length-1)),Xn(ht,c1,{contents:ql(Bt.bar),focus:Bt.focus})})})]),eo.config({mode:"special",onEscape:ht=>Je(et.get()).fold(()=>Le.onEscape(),zt=>(Wo(ht,mx),I.some(!0)))})]),lazySink:()=>ss.value(Le.sink)})})({sink:d,onEscape:()=>(s.focus(),I.some(!0))})),B=()=>{const Le=N.get().getOr("node"),et=gv(Le)?1:0;return YM(s,v,Le,et)},W=()=>!(s.removed||C()&&b.isContextMenuOpen()),J=()=>{if(W()){const Le=B(),et=mi(N.get(),"node")?((ht,zt)=>zt.filter(Bt=>Cn(Bt)&&El(Bt)).map(ja).getOrThunk(()=>sO(ht)))(s,k.get()):sO(s);return Le.height<=0||!qM(et,Le,.01)}return!0},se=()=>{k.clear(),E.clear(),N.clear(),zr.hide($)},pe=()=>{if(zr.isOpen($)){const Le=$.element;zs(Le,"display"),J()?_o(Le,"display","none"):(E.set(0),zr.reposition($))}},ye=Le=>({dom:{tag:"div",classes:["tox-pop__dialog"]},components:[Le],behaviours:an([eo.config({mode:"acyclic"}),jo("pop-dialog-wrap-events",[hr(et=>{s.shortcuts.add("ctrl+F9","focus statusbar",()=>eo.focusIn(et))}),Ku(et=>{s.shortcuts.remove("ctrl+F9")})])])}),De=ua(()=>Ek(l,Le=>{const et=ve([Le]);Xn($,JM,{forwardContents:ye(et)})})),ve=Le=>{const{buttons:et}=s.ui.registry.getAll(),ht={...et,...De().formNavigators},zt=F0(s)===xf.scrolling?xf.scrolling:xf.default,Bt=nn(Ve(Le,Pt=>Pt.type==="contexttoolbar"?((sn,In)=>_k(s,{buttons:sn,toolbar:In.items,allowToolbarGroups:!1},f.backstage,I.some(["form:"])))(ht,Pt):((sn,In)=>pz(sn,In))(Pt,v.providers)));return V4({type:zt,uid:Nn("context-toolbar"),initGroups:Bt,onEscape:I.none,cyclicKeying:!0,providers:v.providers})},be=(Le,et)=>{if(Pe.cancel(),!W())return;const ht=ve(Le),zt=Le[0].position,Bt=((sn,In)=>{const Kn=sn==="node"?v.anchors.node(In):v.anchors.cursor(),ro=((Ro,as,kr,Br)=>as==="line"?{bubble:pu(12,0,rO),layouts:{onLtr:()=>[uy],onRtl:()=>[dy]},overrides:l1}:{bubble:pu(0,12,rO,1/12),layouts:XM(Ro,kr,Br,as),overrides:l1})(s,sn,C(),{lastElement:k.get,isReposition:()=>mi(E.get(),0),getMode:()=>ol.getMode(d)});return qs(Kn,ro)})(zt,et);N.set(zt),E.set(1);const Pt=$.element;zs(Pt,"display"),(sn=>mi(tn(sn,k.get(),cs),!0))(et)||(Fo(Pt,aO),ol.reset(d,$)),zr.showWithinBounds($,ye(ht),{anchor:Bt,transition:{classes:[aO],mode:"placement"}},()=>I.some(B())),et.fold(k.clear,k.set),J()&&_o(Pt,"display","none")};let Ee=!1;const Pe=R3(()=>{!s.hasFocus()||s.removed||Ee||(es($.element,aO)?Pe.throttle():((Le,et)=>{const ht=Sn(et.getBody()),zt=Pt=>cs(Pt,ht),Bt=Sn(et.selection.getNode());return(Pt=>!zt(Pt)&&!Kr(ht,Pt))(Bt)?I.none():((Pt,sn,In)=>{const Kn=kk(Pt,sn);if(Kn.contextForms.length>0)return I.some({elem:Pt,toolbars:[Kn.contextForms[0]]});{const ro=kk(Pt,In);if(ro.contextForms.length>0)return I.some({elem:Pt,toolbars:[ro.contextForms[0]]});if(Kn.contextToolbars.length>0||ro.contextToolbars.length>0){const Ro=(as=>{if(as.length<=1)return as;{const kr=fo=>Rn(as,Fr=>Fr.position===fo),Br=fo=>Yt(as,Fr=>Fr.position===fo),Zo=kr("selection"),ks=kr("node");if(Zo||ks){if(ks&&Zo){const fo=Br("node"),Fr=Ve(Br("selection"),nr=>({...nr,position:"node"}));return fo.concat(Fr)}return Br(Zo?"selection":"node")}return Br("line")}})(Kn.contextToolbars.concat(ro.contextToolbars));return I.some({elem:Pt,toolbars:Ro})}return I.none()}})(Bt,Le.inNodeScope,Le.inEditorScope).orThunk(()=>((Pt,sn,In)=>Pt(sn)?I.none():bd(sn,Kn=>{if(dr(Kn)){const{contextToolbars:ro,contextForms:Ro}=kk(Kn,In.inNodeScope),as=Ro.length>0?Ro:(kr=>{if(kr.length<=1)return kr;{const Br=Zo=>te(kr,ks=>ks.position===Zo);return Br("selection").orThunk(()=>Br("node")).orThunk(()=>Br("line")).map(Zo=>Zo.position).fold(()=>[],Zo=>Yt(kr,ks=>ks.position===Zo))}})(ro);return as.length>0?I.some({elem:Kn,toolbars:as}):I.none()}return I.none()},Pt))(zt,Bt,Le))})(De(),s).fold(se,Le=>{be(Le.toolbars,I.some(Le.elem))}))},17);s.on("init",()=>{s.on("remove",se),s.on("ScrollContent ScrollWindow ObjectResized ResizeEditor longpress",pe),s.on("click keyup focus SetContent",Pe.throttle),s.on(ZM,se),s.on("contexttoolbar-show",Le=>{const et=De();cn(et.lookupTable,Le.toolbarKey).each(ht=>{be([ht],Go(Le.target!==s,Le.target)),zr.getContent($).each(eo.focusIn)})}),s.on("focusout",Le=>{MS.setEditorTimeout(s,()=>{yi(d.element).isNone()&&yi($.element).isNone()&&se()},0)}),s.on("SwitchMode",()=>{s.mode.isReadOnly()&&se()}),s.on("ExecCommand",({command:Le})=>{Le.toLowerCase()==="toggleview"&&se()}),s.on("AfterProgressState",Le=>{Le.state?se():s.hasFocus()&&Pe.throttle()}),s.on("dragstart",()=>{Ee=!0}),s.on("dragend drop",()=>{Ee=!1}),s.on("NodeChange",Le=>{yi($.element).fold(Pe.throttle,U)})})},QM=(s,l)=>{const d=()=>{const f=l.getOptions(s),b=l.getCurrent(s).map(l.hash),v=Ss();return Ve(f,C=>({type:"togglemenuitem",text:l.display(C),onSetup:k=>{const E=$=>{$&&(v.on(B=>B.setActive(!1)),v.set(k)),k.setActive($)};E(mi(b,l.hash(C)));const N=l.watcher(s,C,E);return()=>{v.clear(),N()}},onAction:()=>l.setCurrent(s,C)}))};s.ui.registry.addMenuButton(l.name,{tooltip:l.text,icon:l.icon,fetch:f=>f(d()),onSetup:l.onToolbarSetup}),s.ui.registry.addNestedMenuItem(l.name,{type:"nestedmenuitem",text:l.text,getSubmenuItems:d,onSetup:l.onMenuSetup})},yz=s=>{QM(s,(l=>({name:"lineheight",text:"Line height",icon:"line-height",getOptions:ZD,hash:d=>((f,b)=>Sk(f,["fixed","relative","empty"]).map(({value:v,unit:C})=>v+C))(d).getOr(d),display:he,watcher:(d,f,b)=>d.formatter.formatChanged("lineheight",b,!1,{value:f}).unbind,getCurrent:d=>I.from(d.queryCommandValue("LineHeight")),setCurrent:(d,f)=>d.execCommand("LineHeight",!1,f),onToolbarSetup:va(l),onMenuSetup:va(l)}))(s)),(l=>I.from(WT(l)).map(d=>({name:"language",text:"Language",icon:"language",getOptions:q(d),hash:f=>M(f.customCode)?f.code:`${f.code}/${f.customCode}`,display:f=>f.title,watcher:(f,b,v)=>{var C;return f.formatter.formatChanged("lang",v,!1,{value:b.code,customValue:(C=b.customCode)!==null&&C!==void 0?C:null}).unbind},getCurrent:f=>{const b=Sn(f.selection.getNode());return om(b,v=>I.some(v).filter(dr).bind(C=>gs(C,"lang").map(k=>({code:k,customCode:gs(C,"data-mce-lang").getOrUndefined(),title:""}))))},setCurrent:(f,b)=>f.execCommand("Lang",!1,b),onToolbarSetup:f=>{const b=Mc();return f.setActive(l.formatter.match("lang",{},void 0,!0)),b.set(l.formatter.formatChanged("lang",f.setActive,!0)),Yy(b.clear,va(l)(f))},onMenuSetup:va(l)})))(s).each(l=>QM(s,l))},xz=s=>q0(s,"NodeChange",l=>{l.setEnabled(s.queryCommandState("outdent")&&s.selection.isEditable())}),iC=(s,l)=>d=>{d.setActive(l.get());const f=b=>{l.set(b.state),d.setActive(b.state)};return s.on("PastePlainTextToggle",f),Yy(()=>s.off("PastePlainTextToggle",f),va(s)(d))},lO=(s,l)=>()=>{s.execCommand("mceToggleFormat",!1,l)},cO=s=>{(l=>{(d=>{jp.each([{name:"bold",text:"Bold",icon:"bold",shortcut:"Meta+B"},{name:"italic",text:"Italic",icon:"italic",shortcut:"Meta+I"},{name:"underline",text:"Underline",icon:"underline",shortcut:"Meta+U"},{name:"strikethrough",text:"Strikethrough",icon:"strike-through"},{name:"subscript",text:"Subscript",icon:"subscript"},{name:"superscript",text:"Superscript",icon:"superscript"}],(f,b)=>{d.ui.registry.addToggleButton(f.name,{tooltip:f.text,icon:f.icon,onSetup:xg(d,f.name),onAction:lO(d,f.name),shortcut:f.shortcut})});for(let f=1;f<=6;f++){const b="h"+f,v=`Access+${f}`;d.ui.registry.addToggleButton(b,{text:b.toUpperCase(),tooltip:"Heading "+f,onSetup:xg(d,b),onAction:lO(d,b),shortcut:v})}})(l),(d=>{jp.each([{name:"copy",text:"Copy",action:"Copy",icon:"copy"},{name:"help",text:"Help",action:"mceHelp",icon:"help",shortcut:"Alt+0"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all",shortcut:"Meta+A"},{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document"},{name:"print",text:"Print",action:"mcePrint",icon:"print",shortcut:"Meta+P"}],f=>{d.ui.registry.addButton(f.name,{tooltip:f.text,icon:f.icon,onAction:yu(d,f.action),shortcut:f.shortcut})}),jp.each([{name:"cut",text:"Cut",action:"Cut",icon:"cut"},{name:"paste",text:"Paste",action:"Paste",icon:"paste"},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting"},{name:"remove",text:"Remove",action:"Delete",icon:"remove"},{name:"hr",text:"Horizontal line",action:"InsertHorizontalRule",icon:"horizontal-rule"}],f=>{d.ui.registry.addButton(f.name,{tooltip:f.text,icon:f.icon,onSetup:va(d),onAction:yu(d,f.action)})})})(l),(d=>{jp.each([{name:"blockquote",text:"Blockquote",action:"mceBlockQuote",icon:"quote"}],f=>{d.ui.registry.addToggleButton(f.name,{tooltip:f.text,icon:f.icon,onAction:yu(d,f.action),onSetup:xg(d,f.name)})})})(l)})(s),(l=>{jp.each([{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document"},{name:"copy",text:"Copy",action:"Copy",icon:"copy",shortcut:"Meta+C"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all",shortcut:"Meta+A"},{name:"print",text:"Print...",action:"mcePrint",icon:"print",shortcut:"Meta+P"}],d=>{l.ui.registry.addMenuItem(d.name,{text:d.text,icon:d.icon,shortcut:d.shortcut,onAction:yu(l,d.action)})}),jp.each([{name:"bold",text:"Bold",action:"Bold",icon:"bold",shortcut:"Meta+B"},{name:"italic",text:"Italic",action:"Italic",icon:"italic",shortcut:"Meta+I"},{name:"underline",text:"Underline",action:"Underline",icon:"underline",shortcut:"Meta+U"},{name:"strikethrough",text:"Strikethrough",action:"Strikethrough",icon:"strike-through"},{name:"subscript",text:"Subscript",action:"Subscript",icon:"subscript"},{name:"superscript",text:"Superscript",action:"Superscript",icon:"superscript"},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting"},{name:"cut",text:"Cut",action:"Cut",icon:"cut",shortcut:"Meta+X"},{name:"paste",text:"Paste",action:"Paste",icon:"paste",shortcut:"Meta+V"},{name:"hr",text:"Horizontal line",action:"InsertHorizontalRule",icon:"horizontal-rule"}],d=>{l.ui.registry.addMenuItem(d.name,{text:d.text,icon:d.icon,shortcut:d.shortcut,onSetup:va(l),onAction:yu(l,d.action)})}),l.ui.registry.addMenuItem("codeformat",{text:"Code",icon:"sourcecode",onSetup:va(l),onAction:lO(l,"code")})})(s)},Tk=(s,l)=>q0(s,"Undo Redo AddUndo TypingUndo ClearUndos SwitchMode",d=>{d.setEnabled(!s.mode.isReadOnly()&&s.undoManager[l]())}),wz=s=>q0(s,"VisualAid",l=>{l.setActive(s.hasVisual)}),Cz=(s,l)=>{(d=>{bt([{name:"alignleft",text:"Align left",cmd:"JustifyLeft",icon:"align-left"},{name:"aligncenter",text:"Align center",cmd:"JustifyCenter",icon:"align-center"},{name:"alignright",text:"Align right",cmd:"JustifyRight",icon:"align-right"},{name:"alignjustify",text:"Justify",cmd:"JustifyFull",icon:"align-justify"}],f=>{d.ui.registry.addToggleButton(f.name,{tooltip:f.text,icon:f.icon,onAction:yu(d,f.cmd),onSetup:xg(d,f.name)})}),d.ui.registry.addButton("alignnone",{tooltip:"No alignment",icon:"align-none",onSetup:va(d),onAction:yu(d,"JustifyNone")})})(s),cO(s),((d,f)=>{((b,v)=>{const C=fx(v,Z4(b));b.ui.registry.addNestedMenuItem("align",{text:v.shared.providers.translate("Align"),onSetup:va(b),getSubmenuItems:()=>C.items.validateItems(C.getStyleItems())})})(d,f),((b,v)=>{const C=fx(v,IM(b));b.ui.registry.addNestedMenuItem("fontfamily",{text:v.shared.providers.translate("Fonts"),onSetup:va(b),getSubmenuItems:()=>C.items.validateItems(C.getStyleItems())})})(d,f),((b,v)=>{const C={type:"advanced",...v.styles},k=fx(v,FM(b,C));b.ui.registry.addNestedMenuItem("styles",{text:"Formats",onSetup:va(b),getSubmenuItems:()=>k.items.validateItems(k.getStyleItems())})})(d,f),((b,v)=>{const C=fx(v,Y4(b));b.ui.registry.addNestedMenuItem("blocks",{text:"Blocks",onSetup:va(b),getSubmenuItems:()=>C.items.validateItems(C.getStyleItems())})})(d,f),((b,v)=>{const C=fx(v,LM(b));b.ui.registry.addNestedMenuItem("fontsize",{text:"Font sizes",onSetup:va(b),getSubmenuItems:()=>C.items.validateItems(C.getStyleItems())})})(d,f)})(s,l),(d=>{(f=>{f.ui.registry.addMenuItem("undo",{text:"Undo",icon:"undo",shortcut:"Meta+Z",onSetup:Tk(f,"hasUndo"),onAction:yu(f,"undo")}),f.ui.registry.addMenuItem("redo",{text:"Redo",icon:"redo",shortcut:"Meta+Y",onSetup:Tk(f,"hasRedo"),onAction:yu(f,"redo")})})(d),(f=>{f.ui.registry.addButton("undo",{tooltip:"Undo",icon:"undo",enabled:!1,onSetup:Tk(f,"hasUndo"),onAction:yu(f,"undo"),shortcut:"Meta+Z"}),f.ui.registry.addButton("redo",{tooltip:"Redo",icon:"redo",enabled:!1,onSetup:Tk(f,"hasRedo"),onAction:yu(f,"redo"),shortcut:"Meta+Y"})})(d)})(s),(d=>{(k=>{k.addCommand("mceApplyTextcolor",(E,N)=>{(($,B,W)=>{$.undoManager.transact(()=>{$.focus(),$.formatter.apply(B,{value:W}),$.nodeChanged()})})(k,E,N)}),k.addCommand("mceRemoveTextcolor",E=>{((N,$)=>{N.undoManager.transact(()=>{N.focus(),N.formatter.remove($,{value:null},void 0,!0),N.nodeChanged()})})(k,E)})})(d);const f=iN(d),b=aN(d),v=Wn(f),C=Wn(b);HA(d,"forecolor","forecolor",v),HA(d,"backcolor","hilitecolor",C),Jy(d,"forecolor","forecolor","Text color",v),Jy(d,"backcolor","hilitecolor","Background color",C)})(s),(d=>{(f=>{f.ui.registry.addButton("visualaid",{tooltip:"Visual aids",text:"Visual aids",onAction:yu(f,"mceToggleVisualAid")})})(d),(f=>{f.ui.registry.addToggleMenuItem("visualaid",{text:"Visual aids",onSetup:wz(f),onAction:yu(f,"mceToggleVisualAid")})})(d)})(s),(d=>{(f=>{f.ui.registry.addButton("outdent",{tooltip:"Decrease indent",icon:"outdent",onSetup:xz(f),onAction:yu(f,"outdent")}),f.ui.registry.addButton("indent",{tooltip:"Increase indent",icon:"indent",onSetup:va(f),onAction:yu(f,"indent")})})(d)})(s),yz(s),(d=>{const f=Wn(KD(d)),b=()=>d.execCommand("mceTogglePlainTextPaste");d.ui.registry.addToggleButton("pastetext",{active:!1,icon:"paste-text",tooltip:"Paste as text",onAction:b,onSetup:iC(d,f)}),d.ui.registry.addToggleMenuItem("pastetext",{text:"Paste as text",icon:"paste-text",onAction:b,onSetup:iC(d,f)})})(s)},eL=s=>h(s)?s.split(/[ ,]/):s,tL=s=>l=>l.options.get(s),nL=tL("contextmenu_never_use_native"),Sz=tL("contextmenu_avoid_overlap"),uO=s=>{const l=s.ui.registry.getAll().contextMenus,d=s.options.get("contextmenu");return s.options.isSet("contextmenu")?d:Yt(d,f=>uo(l,f))},aC=(s,l)=>({type:"makeshift",x:s,y:l}),oL=s=>s.type==="longpress"||s.type.indexOf("touch")===0,_z=(s,l)=>l.type==="contextmenu"||l.type==="longpress"?s.inline?(d=>{if(oL(d)){const f=d.touches[0];return aC(f.pageX,f.pageY)}return aC(d.pageX,d.pageY)})(l):((d,f)=>{const b=By.DOM.getPos(d);return((v,C,k)=>aC(v.x+C,v.y+k))(f,b.x,b.y)})(s.getContentAreaContainer(),(d=>{if(oL(d)){const f=d.touches[0];return aC(f.clientX,f.clientY)}return aC(d.clientX,d.clientY)})(l)):sL(s),sL=s=>({type:"selection",root:Sn(s.selection.getNode())}),rL=(s,l,d)=>{switch(d){case"node":return(f=>({type:"node",node:I.some(Sn(f.selection.getNode())),root:Sn(f.getBody())}))(s);case"point":return _z(s,l);case"selection":return sL(s)}},iL=(s,l,d,f,b,v)=>{const C=d(),k=rL(s,l,v);o1(C,yg.CLOSE_ON_EXECUTE,f,{isHorizontalMenu:!1,search:I.none()}).map(E=>{l.preventDefault(),zr.showMenuAt(b,{anchor:k},{menu:{markers:H0("normal")},data:E})})},aL={onLtr:()=>[vi,ni,oi,Oi,er,Yr,Rs,Dh,G2,dv,wu,xu],onRtl:()=>[vi,oi,ni,er,Oi,Yr,Rs,Dh,wu,xu,G2,dv]},kz={valignCentre:[],alignCentre:[],alignLeft:["tox-pop--align-left"],alignRight:["tox-pop--align-right"],right:["tox-pop--right"],left:["tox-pop--left"],bottom:["tox-pop--bottom"],top:["tox-pop--top"]},Ez=(s,l,d,f,b,v)=>{const C=Ki(),k=C.os.isiOS(),E=C.os.isMacOS(),N=C.os.isAndroid(),$=C.deviceType.isTouch(),B=()=>{const W=d();((J,se,pe,ye,De,ve,be)=>{const Ee=((Pe,Le,et)=>{const ht=rL(Pe,Le,et);return{bubble:pu(0,et==="point"?12:0,kz),layouts:aL,overrides:{maxWidthFunction:M4(),maxHeightFunction:Ap()},...ht}})(J,se,ve);o1(pe,yg.CLOSE_ON_EXECUTE,ye,{isHorizontalMenu:!0,search:I.none()}).map(Pe=>{se.preventDefault();const Le=be?Ql.HighlightMenuAndItem:Ql.HighlightNone;zr.showMenuWithinBounds(De,{anchor:Ee},{menu:{markers:H0("normal"),highlightOnOpen:Le},data:Pe,type:"horizontal"},()=>I.some(YM(J,ye.shared,ve==="node"?"node":"selection"))),J.dispatch(ZM)})})(s,l,W,f,b,v,!(N||k||E&&$))};if((E||k)&&v!=="node"){const W=()=>{(J=>{const se=J.selection.getRng(),pe=()=>{MS.setEditorTimeout(J,()=>{J.selection.setRng(se)},10),ve()};J.once("touchend",pe);const ye=be=>{be.preventDefault(),be.stopImmediatePropagation()};J.on("mousedown",ye,!0);const De=()=>ve();J.once("longpresscancel",De);const ve=()=>{J.off("touchend",pe),J.off("longpresscancel",De),J.off("mousedown",ye)}})(s),B()};((J,se)=>{const pe=J.selection;if(pe.isCollapsed()||se.touches.length<1)return!1;{const ye=se.touches[0],De=pe.getRng();return Ew(J.getWin(),ag.domRange(De)).exists(ve=>ve.left<=ye.clientX&&ve.right>=ye.clientX&&ve.top<=ye.clientY&&ve.bottom>=ye.clientY)}})(s,l)?W():(s.once("selectionchange",W),s.once("touchend",()=>s.off("selectionchange",W)))}else B()},lL=s=>h(s)?s==="|":s.type==="separator",dO={type:"separator"},cL=s=>{const l=d=>({text:d.text,icon:d.icon,enabled:d.enabled,shortcut:d.shortcut});if(h(s))return s;switch(s.type){case"separator":return dO;case"submenu":return{type:"nestedmenuitem",...l(s),getSubmenuItems:()=>{const f=s.getSubmenuItems();return h(f)?f:Ve(f,cL)}};default:const d=s;return{type:"menuitem",...l(d),onAction:ge(d.onAction)}}},fO=(s,l)=>{if(l.length===0)return s;const d=Je(s).filter(f=>!lL(f)).fold(()=>[],f=>[dO]);return s.concat(d).concat(l).concat([dO])},u1=(s,l)=>!(d=>d.type==="longpress"||uo(d,"touches"))(l)&&(l.button!==2||l.target===s.getBody()&&l.pointerType===""),uL=(s,l)=>u1(s,l)?s.selection.getStart(!0):l.target,Tz=(s,l,d)=>{const f=Ki().deviceType.isTouch,b=Ma(zr.sketch({dom:{tag:"div"},lazySink:l,onEscape:()=>s.focus(),onShow:()=>d.setContextMenuState(!0),onHide:()=>d.setContextMenuState(!1),fireDismissalEventInstead:{},inlineBehaviours:an([jo("dismissContextMenu",[Lt(Ym(),(k,E)=>{A.close(k),s.focus()})])])})),v=()=>zr.hide(b),C=k=>{if(nL(s)&&k.preventDefault(),((N,$)=>$.ctrlKey&&!nL(N))(s,k)||(N=>uO(N).length===0)(s))return;const E=((N,$)=>{const B=Sz(N),W=u1(N,$)?"selection":"point";if(kl(B)){const J=uL(N,$);return ex(Sn(J),B)?"node":W}return W})(s,k);(f()?Ez:iL)(s,k,()=>{const N=uL(s,k),$=s.ui.registry.getAll(),B=uO(s);return((W,J,se)=>{const pe=Jt(J,(ye,De)=>cn(W,De.toLowerCase()).map(ve=>{const be=ve.update(se);if(h(be)&&kl(Ic(be)))return fO(ye,be.split(" "));if(R(be)&&be.length>0){const Ee=Ve(be,cL);return fO(ye,Ee)}return ye}).getOrThunk(()=>ye.concat([De])),[]);return pe.length>0&&lL(pe[pe.length-1])&&pe.pop(),pe})($.contextMenus,B,N)},d,b,E)};s.on("init",()=>{const k="ResizeEditor ScrollContent ScrollWindow longpresscancel"+(f()?"":" ResizeWindow");s.on(k,v),s.on("longpress contextmenu",C)})},mO=ha([{offset:["x","y"]},{absolute:["x","y"]},{fixed:["x","y"]}]),d1=s=>l=>l.translate(-s.left,-s.top),Cu=s=>l=>l.translate(s.left,s.top),Cg=s=>(l,d)=>Jt(s,(f,b)=>b(f),rr(l,d)),lC=(s,l,d)=>s.fold(Cg([Cu(d),d1(l)]),Cg([d1(l)]),Cg([])),gx=(s,l,d)=>s.fold(Cg([Cu(d)]),Cg([]),Cg([Cu(l)])),dL=(s,l,d)=>s.fold(Cg([]),Cg([d1(d)]),Cg([Cu(l),d1(d)])),fL=(s,l,d)=>{const f=s.fold((b,v)=>({position:I.some("absolute"),left:I.some(b+"px"),top:I.some(v+"px")}),(b,v)=>({position:I.some("absolute"),left:I.some(b-d.left+"px"),top:I.some(v-d.top+"px")}),(b,v)=>({position:I.some("fixed"),left:I.some(b+"px"),top:I.some(v+"px")}));return{right:I.none(),bottom:I.none(),...f}},gO=(s,l,d,f)=>{const b=(v,C)=>(k,E)=>{const N=v(l,d,f);return C(k.getOr(N.left),E.getOr(N.top))};return s.fold(b(dL,cC),b(gx,qp),b(lC,f1))},cC=mO.offset,qp=mO.absolute,f1=mO.fixed,mL=(s,l)=>{const d=ns(s,l);return M(d)?NaN:parseInt(d,10)},gL=(s,l,d,f,b,v)=>{const C=((N,$,B,W)=>((J,se)=>{const pe=J.element,ye=mL(pe,se.leftAttr),De=mL(pe,se.topAttr);return isNaN(ye)||isNaN(De)?I.none():I.some(rr(ye,De))})(N,$).fold(()=>B,J=>f1(J.left+W.left,J.top+W.top)))(s,l,d,f),k=l.mustSnap?pL(s,l,C,b,v):bL(s,l,C,b,v),E=lC(C,b,v);return((N,$,B)=>{const W=N.element;xn(W,$.leftAttr,B.left+"px"),xn(W,$.topAttr,B.top+"px")})(s,l,E),k.fold(()=>({coord:f1(E.left,E.top),extra:I.none()}),N=>({coord:N.output,extra:N.extra}))},hL=(s,l,d,f)=>pn(s,b=>{const v=b.sensor;return((k,E,N,$,B,W)=>{const J=gx(k,B,W),se=gx(E,B,W);return Math.abs(J.left-se.left)<=N&&Math.abs(J.top-se.top)<=$})(l,v,b.range.left,b.range.top,d,f)?I.some({output:gO(b.output,l,d,f),extra:b.extra}):I.none()}),pL=(s,l,d,f,b)=>{const v=l.getSnapPoints(s);return hL(v,d,f,b).orThunk(()=>Jt(v,(k,E)=>{const N=E.sensor,$=((B,W,J,se,pe,ye)=>{const De=gx(B,pe,ye),ve=gx(W,pe,ye),be=Math.abs(De.left-ve.left),Ee=Math.abs(De.top-ve.top);return rr(be,Ee)})(d,N,E.range.left,E.range.top,f,b);return k.deltas.fold(()=>({deltas:I.some($),snap:I.some(E)}),B=>($.left+$.top)/2<=(B.left+B.top)/2?{deltas:I.some($),snap:I.some(E)}:k)},{deltas:I.none(),snap:I.none()}).snap.map(k=>({output:gO(k.output,d,f,b),extra:k.extra})))},bL=(s,l,d,f,b)=>{const v=l.getSnapPoints(s);return hL(v,d,f,b)};var vL=Object.freeze({__proto__:null,snapTo:(s,l,d,f)=>{const b=l.getTarget(s.element);if(l.repositionTarget){const v=gi(s.element),C=fr(v),k=hu(b),E=(($,B,W)=>({coord:gO($.output,$.output,B,W),extra:$.extra}))(f,C,k),N=fL(E.coord,0,k);Ol(b,N)}}});const hO="data-initial-z-index",yL=(s,l)=>{s.getSystem().addToGui(l),(d=>{Pi(d.element).filter(dr).each(f=>{Jr(f,"z-index").each(b=>{xn(f,hO,b)}),_o(f,"z-index",Or(d.element,"z-index"))})})(l)},Az=s=>{(l=>{Pi(l.element).filter(dr).each(d=>{gs(d,hO).fold(()=>zs(d,"z-index"),f=>_o(d,"z-index",f)),Uo(d,hO)})})(s),s.getSystem().removeFromGui(s)},xL=(s,l,d)=>s.getSystem().build(_m.sketch({dom:{styles:{left:"0px",top:"0px",width:"100%",height:"100%",position:"fixed","z-index":"1000000000000000"},classes:[l]},events:d}));var Oz=Dr("snaps",[Ht("getSnapPoints"),_s("onSensor"),Ht("leftAttr"),Ht("topAttr"),vt("lazyViewport",Ni),vt("mustSnap",!1)]);const pO=[vt("useFixed",Ce),Ht("blockerClass"),vt("getTarget",he),vt("onDrag",U),vt("repositionTarget",!0),vt("onDrop",U),ir("getBounds",Ni),Oz],bO=s=>{return(l=Jr(s,"left"),d=Jr(s,"top"),f=Jr(s,"position"),l.isSome()&&d.isSome()&&f.isSome()?I.some(((b,v,C)=>(C==="fixed"?f1:cC)(parseInt(b,10),parseInt(v,10)))(l.getOrDie(),d.getOrDie(),f.getOrDie())):I.none()).getOrThunk(()=>{const b=Dl(s);return qp(b.left,b.top)});var l,d,f},wL=(s,l)=>({bounds:s.getBounds(),height:hl(l.element),width:Wa(l.element)}),vO=(s,l,d,f,b)=>{const v=d.update(f,b),C=d.getStartData().getOrThunk(()=>wL(l,s));v.each(k=>{((E,N,$,B)=>{const W=N.getTarget(E.element);if(N.repositionTarget){const J=gi(E.element),se=fr(J),pe=hu(W),ye=bO(W),De=((be,Ee,Pe,Le,et,ht,zt)=>((Bt,Pt,sn,In,Kn)=>{const ro=Kn.bounds,Ro=gx(Pt,sn,In),as=Gu(Ro.left,ro.x,ro.x+ro.width-Kn.width),kr=Gu(Ro.top,ro.y,ro.y+ro.height-Kn.height),Br=qp(as,kr);return Pt.fold(()=>{const Zo=dL(Br,sn,In);return cC(Zo.left,Zo.top)},q(Br),()=>{const Zo=lC(Br,sn,In);return f1(Zo.left,Zo.top)})})(0,Ee.fold(()=>{const Bt=(Pt=Pe,sn=ht.left,In=ht.top,Pt.fold((ro,Ro)=>cC(ro+sn,Ro+In),(ro,Ro)=>qp(ro+sn,Ro+In),(ro,Ro)=>f1(ro+sn,Ro+In)));var Pt,sn,In;const Kn=lC(Bt,Le,et);return f1(Kn.left,Kn.top)},Bt=>{const Pt=gL(be,Bt,Pe,ht,Le,et);return Pt.extra.each(sn=>{Bt.onSensor(be,sn)}),Pt.coord}),Le,et,zt))(E,N.snaps,ye,se,pe,B,$),ve=fL(De,0,pe);Ol(W,ve)}N.onDrag(E,W,B)})(s,l,C,k)})},yO=(s,l,d,f)=>{l.each(Az),d.snaps.each(v=>{((C,k)=>{((E,N)=>{const $=E.element;Uo($,N.leftAttr),Uo($,N.topAttr)})(C,k)})(s,v)});const b=d.getTarget(s.element);f.reset(),d.onDrop(s,b)},xO=s=>(l,d)=>{const f=b=>{d.setStartData(wL(l,b))};return To([Lt(dp(),b=>{d.getStartData().each(()=>f(b))}),...s(l,d,f)])};var Rz=Object.freeze({__proto__:null,getData:s=>I.from(rr(s.x,s.y)),getDelta:(s,l)=>rr(l.left-s.left,l.top-s.top)});const CL=(s,l,d)=>[Lt(Ut(),(f,b)=>{if(b.event.raw.button!==0)return;b.stop();const v=()=>yO(f,I.some(E),s,l),C=XA(v,200),k={drop:v,delayDrop:C.schedule,forceDrop:v,move:N=>{C.cancel(),vO(f,s,l,Rz,N)}},E=xL(f,s.blockerClass,(N=>To([Lt(Ut(),N.forceDrop),Lt(ko(),N.drop),Lt(lo(),($,B)=>{N.move(B.event)}),Lt(Mo(),N.delayDrop)]))(k));d(f),yL(f,E)})],Iz=[...pO,pr("dragger",{handlers:xO(CL)})];var SL=Object.freeze({__proto__:null,getData:s=>{const l=s.raw.touches;return l.length===1?(d=>{const f=d[0];return I.some(rr(f.clientX,f.clientY))})(l):I.none()},getDelta:(s,l)=>rr(l.left-s.left,l.top-s.top)});const _L=(s,l,d)=>{const f=Ss(),b=v=>{yO(v,f.get(),s,l),f.clear()};return[Lt(Y(),(v,C)=>{C.stop();const k=()=>b(v),E={drop:k,delayDrop:U,forceDrop:k,move:$=>{vO(v,s,l,SL,$)}},N=xL(v,s.blockerClass,($=>To([Lt(Y(),$.forceDrop),Lt(We(),$.drop),Lt(tt(),$.drop),Lt(fe(),(B,W)=>{$.move(W.event)})]))(E));f.set(N),d(v),yL(v,N)}),Lt(fe(),(v,C)=>{C.stop(),vO(v,s,l,SL,C.event)}),Lt(We(),(v,C)=>{C.stop(),b(v)}),Lt(tt(),b)]},Dz=Iz,kL=[...pO,pr("dragger",{handlers:xO(_L)})],EL=[...pO,pr("dragger",{handlers:xO((s,l,d)=>[...CL(s,l,d),..._L(s,l,d)])})];var Pz=Object.freeze({__proto__:null,mouse:Dz,touch:kL,mouseOrTouch:EL}),Nz=Object.freeze({__proto__:null,init:()=>{let s=I.none(),l=I.none();const d=q({});return Ai({readState:d,reset:()=>{s=I.none(),l=I.none()},update:(f,b)=>f.getData(b).bind(v=>((C,k)=>{const E=s.map(N=>C.getDelta(N,k));return s=I.some(k),E})(f,v)),getStartData:()=>l,setStartData:f=>{l=I.some(f)}})}});const m1=z({branchKey:"mode",branches:Pz,name:"dragging",active:{events:(s,l)=>s.dragger.handlers(s,l)},extra:{snap:s=>({sensor:s.sensor,range:s.range,output:s.output,extra:I.from(s.extra)})},state:Nz,apis:vL}),TL=(s,l,d,f,b,v)=>s.fold(()=>m1.snap({sensor:qp(d-20,f-20),range:rr(b,v),output:qp(I.some(d),I.some(f)),extra:{td:l}}),C=>{const k=d-20,E=f-20,N=C.element.dom.getBoundingClientRect();return m1.snap({sensor:qp(k,E),range:rr(40,40),output:qp(I.some(d-N.width/2),I.some(f-N.height/2)),extra:{td:l}})}),AL=(s,l,d)=>({getSnapPoints:s,leftAttr:"data-drag-left",topAttr:"data-drag-top",onSensor:(f,b)=>{const v=b.td;((C,k)=>C.exists(E=>cs(E,k)))(l.get(),v)||(l.set(v),d(v))},mustSnap:!0}),OL=s=>Ks(Fl.sketch({dom:{tag:"div",classes:["tox-selector"]},buttonBehaviours:an([m1.config({mode:"mouseOrTouch",blockerClass:"blocker",snaps:s}),Q0.config({})]),eventOrder:{mousedown:["dragging","alloy.base.behaviour"],touchstart:["dragging","alloy.base.behaviour"]}})),RL=(s,l)=>{const d=Wn([]),f=Wn([]),b=Wn(!1),v=Ss(),C=Ss(),k=ve=>{const be=ja(ve);return TL(B.getOpt(l),ve,be.x,be.y,be.width,be.height)},E=ve=>{const be=ja(ve);return TL(W.getOpt(l),ve,be.right,be.bottom,be.width,be.height)},N=AL(()=>Ve(d.get(),ve=>k(ve)),v,ve=>{C.get().each(be=>{s.dispatch("TableSelectorChange",{start:ve,finish:be})})}),$=AL(()=>Ve(f.get(),ve=>E(ve)),C,ve=>{v.get().each(be=>{s.dispatch("TableSelectorChange",{start:be,finish:ve})})}),B=OL(N),W=OL($),J=Ma(B.asSpec()),se=Ma(W.asSpec()),pe=(ve,be,Ee,Pe)=>{const Le=Ee(be);m1.snapTo(ve,Le),((et,ht,zt,Bt)=>{const Pt=ht.dom.getBoundingClientRect();zs(et.element,"display");const sn=ou(Sn(s.getBody())).dom.innerHeight,In=Pt[Pe]<0,Kn=((ro,Ro)=>ro[Pe]>Ro)(Pt,sn);(In||Kn)&&_o(et.element,"display","none")})(ve,be)},ye=ve=>pe(J,ve,k,"top"),De=ve=>pe(se,ve,E,"bottom");if(Ki().deviceType.isTouch()){const ve=be=>Ve(be,Sn);s.on("TableSelectionChange",be=>{b.get()||(dg(l,J),dg(l,se),b.set(!0));const Ee=Sn(be.start),Pe=Sn(be.finish);v.set(Ee),C.set(Pe),I.from(be.otherCells).each(Le=>{d.set(ve(Le.upOrLeftCells)),f.set(ve(Le.downOrRightCells)),ye(Ee),De(Pe)})}),s.on("ResizeEditor ResizeWindow ScrollContent",()=>{v.get().each(ye),C.get().each(De)}),s.on("TableSelectionClear",()=>{b.get()&&(Xl(J),Xl(se),b.set(!1)),v.clear(),C.clear()})}},IL=(s,l,d)=>{var f;const b=(f=l.delimiter)!==null&&f!==void 0?f:"";return{dom:{tag:"div",classes:["tox-statusbar__path"],attributes:{role:"navigation"}},behaviours:an([eo.config({mode:"flow",selector:"div[role=button]"}),Oo.config({disabled:d.isDisabled}),ba(),mr.config({}),go.config({}),jo("elementPathEvents",[hr((v,C)=>{s.shortcuts.add("alt+F11","focus statusbar elementpath",()=>eo.focusIn(v)),s.on("NodeChange",k=>{const E=($=>{const B=[];let W=$.length;for(;W-- >0;){const se=$[W];if(se.nodeType===1&&(J=se).nodeName!=="BR"&&!J.getAttribute("data-mce-bogus")&&J.getAttribute("data-mce-type")!=="bookmark"){const pe=tN(s,se);if(pe.isDefaultPrevented()||B.push({name:pe.name,element:se}),pe.isPropagationStopped())break}}var J;return B})(k.parents),N=E.length>0?Jt(E,($,B,W)=>{const J=((se,pe,ye)=>Fl.sketch({dom:{tag:"div",classes:["tox-statusbar__path-item"],attributes:{"data-index":ye}},components:[ui(se)],action:De=>{s.focus(),s.selection.select(pe),s.nodeChanged()},buttonBehaviours:an([Ii.config({...d.tooltips.getConfig({tooltipText:d.translate(["Select the {0} element",pe.nodeName.toLowerCase()]),onShow:(De,ve)=>{((be,Ee)=>{const Pe=I.from(ns(be,"id")).getOrThunk(()=>{const Le=Nn("aria");return xn(Ee,"id",Le),Le});xn(be,"aria-describedby",Pe)})(De.element,ve.element)},onHide:De=>{var ve;ve=De.element,Uo(ve,"aria-describedby")}})}),Cl(d.isDisabled),ba()])}))(B.name,B.element,W);return W===0?$.concat([J]):$.concat([{dom:{tag:"div",classes:["tox-statusbar__path-divider"],attributes:{"aria-hidden":!0}},components:[ui(` ${b} `)]},J])},[]):[];go.set(v,N)})})])]),components:[]}};var Yp;(function(s){s[s.None=0]="None",s[s.Both=1]="Both",s[s.Vertical=2]="Vertical"})(Yp||(Yp={}));const Ak=(s,l,d)=>{const f=Sn(s.getContainer()),b=((v,C,k,E,N)=>{const $={height:rC(E+C.top,Fy(v),LS(v))};return k===Yp.Both&&($.width=rC(N+C.left,e2(v),$y(v))),$})(s,l,d,Rr(f),Wi(f));no(b,(v,C)=>{Q(v)&&_o(f,C,mv(v))}),(v=>{v.dispatch("ResizeEditor")})(s)},Ok=(s,l,d,f)=>{const b=rr(20*d,20*f);return Ak(s,b,l),I.some(!0)},DL=(s,l)=>{const d=()=>{const f=[],b=GT(s),v=WD(s),C=nd(s)||s.hasPlugin("wordcount");return v&&f.push(IL(s,{},l)),b&&f.push((()=>{const k=f_("Alt+0");return{dom:{tag:"div",classes:["tox-statusbar__help-text"]},components:[ui(wf.translate(["Press {0} for help",k]))]}})()),C&&f.push((()=>{const k=[];return s.hasPlugin("wordcount")&&k.push(((E,N)=>{const $=(B,W,J)=>go.set(B,[ui(N.translate(["{0} "+J,W[J]]))]);return Fl.sketch({dom:{tag:"button",classes:["tox-statusbar__wordcount"]},components:[],buttonBehaviours:an([Cl(N.isDisabled),ba(),mr.config({}),go.config({}),St.config({store:{mode:"memory",initialValue:{mode:"words",count:{words:0,characters:0}}}}),jo("wordcount-events",[gu(B=>{const W=St.getValue(B),J=W.mode==="words"?"characters":"words";St.setValue(B,{mode:J,count:W.count}),$(B,W.count,J)}),hr(B=>{E.on("wordCountUpdate",W=>{const{mode:J}=St.getValue(B);St.setValue(B,{mode:J,count:W.wordCount}),$(B,W.wordCount,J)})})])]),eventOrder:{[vl()]:["disabling","alloy.base.behaviour","wordcount-events"]}})})(s,l)),nd(s)&&k.push({dom:{tag:"span",classes:["tox-statusbar__branding"]},components:[{dom:{tag:"a",attributes:{href:"https://www.tiny.cloud/powered-by-tiny?utm_campaign=poweredby&utm_source=tiny&utm_medium=referral&utm_content=v7",rel:"noopener",target:"_blank","aria-label":s.translate(["Build with {0}","TinyMCE"])},innerHtml:s.translate(["Build with {0}",`<svg height="16" viewBox="0 0 80 16" width="80" xmlns="http://www.w3.org/2000/svg"><g opacity=".8"><path d="m80 3.537v-2.202h-7.976v11.585h7.976v-2.25h-5.474v-2.621h4.812v-2.069h-4.812v-2.443zm-10.647 6.929c-.493.217-1.13.337-1.864.337s-1.276-.156-1.805-.47a3.732 3.732 0 0 1 -1.3-1.298c-.324-.554-.48-1.191-.48-1.877s.156-1.335.48-1.877a3.635 3.635 0 0 1 1.3-1.299 3.466 3.466 0 0 1 1.805-.481c.65 0 .914.06 1.263.18.36.12.698.277.986.47.289.192.578.384.842.6l.12.085v-2.586l-.023-.024c-.385-.35-.855-.614-1.384-.818-.53-.205-1.155-.313-1.877-.313-.721 0-1.6.144-2.333.445a5.773 5.773 0 0 0 -1.937 1.251 5.929 5.929 0 0 0 -1.324 1.9c-.324.735-.48 1.565-.48 2.455s.156 1.72.48 2.454c.325.734.758 1.383 1.324 1.913.553.53 1.215.938 1.937 1.25a6.286 6.286 0 0 0 2.333.434c.819 0 1.384-.108 1.961-.313.59-.216 1.083-.505 1.468-.866l.024-.024v-2.49l-.12.096c-.41.337-.878.626-1.396.866zm-14.869-4.15-4.8-5.04-.024-.025h-.902v11.67h2.502v-6.847l2.827 3.08.385.409.397-.41 2.791-3.067v6.845h2.502v-11.679h-.902l-4.788 5.052z"/><path clip-rule="evenodd" d="m15.543 5.137c0-3.032-2.466-5.113-4.957-5.137-.36 0-.745.024-1.094.096-.157.024-3.85.758-3.85.758-3.032.602-4.62 2.466-4.704 4.788-.024.89-.024 4.27-.024 4.27.036 3.165 2.406 5.138 5.017 5.126.337 0 1.119-.109 1.287-.145.144-.024.385-.084.746-.144.661-.12 1.684-.325 3.067-.602 2.37-.409 4.103-2.009 4.44-4.33.156-1.023.084-4.692.084-4.692zm-3.213 3.308-2.346.457v2.31l-5.859 1.143v-5.75l2.346-.458v3.441l3.513-.686v-3.44l-3.513.685v-2.297l5.859-1.143v5.75zm20.09-3.296-.083-1.023h-2.13v8.794h2.346v-4.884c0-1.107.95-1.985 2.057-1.997 1.095 0 1.901.89 1.901 1.997v4.884h2.346v-5.245c-.012-2.105-1.588-3.777-3.67-3.765a3.764 3.764 0 0 0 -2.778 1.25l.012-.011zm-6.014-4.102 2.346-.458v2.298l-2.346.457z" fill-rule="evenodd"/><path d="m28.752 4.126h-2.346v8.794h2.346z"/><path clip-rule="evenodd" d="m43.777 15.483 4.043-11.357h-2.418l-1.54 4.355-.445 1.324-.36-1.324-1.54-4.355h-2.418l3.151 8.794-1.083 3.08zm-21.028-5.51c0 .722.541 1.034.878 1.034s.638-.048.95-.144l.518 1.708c-.217.145-.879.518-2.13.518a2.565 2.565 0 0 1 -2.562-2.587c-.024-1.082-.024-2.49 0-4.21h-1.54v-2.142h1.54v-1.912l2.346-.458v2.37h2.201v2.142h-2.2v3.693-.012z" fill-rule="evenodd"/></g></svg>
`.trim()])},behaviours:an([Eo.config({})])}]}),{dom:{tag:"div",classes:["tox-statusbar__right-container"]},components:k}})()),f.length>0?[{dom:{tag:"div",classes:["tox-statusbar__text-container",...(()=>{const k="tox-statusbar__text-container--flex-start",E="tox-statusbar__text-container--flex-end";if(b){const N="tox-statusbar__text-container-3-cols";return C||v?C&&!v?[N,E]:[N,k]:[N,"tox-statusbar__text-container--space-around"]}return[C&&!v?E:k]})()]},components:f}]:[]};return{dom:{tag:"div",classes:["tox-statusbar"]},components:(()=>{const f=d(),b=((v,C)=>{const k=(N=>{const $=sl(N);return $===!1?Yp.None:$==="both"?Yp.Both:Yp.Vertical})(v);if(k===Yp.None)return I.none();const E=k===Yp.Both?"Press the arrow keys to resize the editor.":"Press the Up and Down arrow keys to resize the editor.";return I.some(od("resize-handle",{tag:"div",classes:["tox-statusbar__resize-handle"],attributes:{"aria-label":C.translate(E),"data-mce-name":"resize-handle"},behaviours:[m1.config({mode:"mouse",repositionTarget:!1,onDrag:(N,$,B)=>Ak(v,B,k),blockerClass:"tox-blocker"}),eo.config({mode:"special",onLeft:()=>Ok(v,k,-1,0),onRight:()=>Ok(v,k,1,0),onUp:()=>Ok(v,k,0,-1),onDown:()=>Ok(v,k,0,1)}),mr.config({}),Eo.config({}),Ii.config(C.tooltips.getConfig({tooltipText:C.translate("Resize")}))]},C.icons))})(s,l);return f.concat(b.toArray())})()}},PL=(s,l)=>l.get().getOrDie(`UI for ${s} has not been rendered`),Mz=(s,l)=>{const d=s.inline,f=d?hz:BK,b=Bp(s)?gV:mV,v=(()=>{const Le=Ss(),et=Ss(),ht=Ss();return{dialogUi:Le,popupUi:et,mainUi:ht,getUiMotherships:()=>{const zt=Le.get().map(Pt=>Pt.mothership),Bt=et.get().map(Pt=>Pt.mothership);return zt.fold(()=>Bt.toArray(),Pt=>Bt.fold(()=>[Pt],sn=>cs(Pt.element,sn.element)?[Pt]:[Pt,sn]))},lazyGetInOuterOrDie:(zt,Bt)=>()=>ht.get().bind(Pt=>Bt(Pt.outerContainer)).getOrDie(`Could not find ${zt} element in OuterContainer`)}})(),C=Ss(),k=Ss(),E=Ss(),N=Ki().deviceType.isTouch()?["tox-platform-touch"]:[],$=qT(s),B=F0(s),W=Ks({dom:{tag:"div",classes:["tox-anchorbar"]}}),J=Ks({dom:{tag:"div",classes:["tox-bottom-anchorbar"]}}),se=()=>v.mainUi.get().map(Le=>Le.outerContainer).bind(_r.getHeader),pe=v.lazyGetInOuterOrDie("anchor bar",W.getOpt),ye=v.lazyGetInOuterOrDie("bottom anchor bar",J.getOpt),De=v.lazyGetInOuterOrDie("toolbar",_r.getToolbar),ve=v.lazyGetInOuterOrDie("throbber",_r.getThrobber),be=((Le,et,ht,zt)=>{const Bt=Wn(!1),Pt=(ks=>{const fo=Wn(qT(ks)?"bottom":"top");return{isPositionedAtTop:()=>fo.get()==="top",getDockingMode:fo.get,setDockingMode:fo.set}})(et),sn={icons:()=>et.ui.registry.getAll().icons,menuItems:()=>et.ui.registry.getAll().menuItems,translate:wf.translate,isDisabled:()=>et.mode.isReadOnly()||!et.ui.isEnabled(),getOption:et.options.get,tooltips:b4(Le.dialog)},In=J5(et),Kn=(ks=>{const fo=Fa=>()=>ks.formatter.match(Fa),Fr=Fa=>()=>{const ya=ks.formatter.get(Fa);return ya!==void 0?I.some({tag:ya.length>0&&(ya[0].inline||ya[0].block)||"div",styles:ks.dom.parseStyle(ks.formatter.getCssText(Fa))}):I.none()},nr=Wn([]),$l=Wn([]),Vl=Wn(!1);return ks.on("PreInit",Fa=>{const ya=H5(ks),Xp=p4(ks,ya,fo,Fr);nr.set(Xp)}),ks.on("addStyleModifications",Fa=>{const ya=p4(ks,Fa.items,fo,Fr);$l.set(ya),Vl.set(Fa.replace)}),{getData:()=>{const Fa=Vl.get()?[]:nr.get(),ya=$l.get();return Fa.concat(ya)}}})(et),ro=(ks=>({colorPicker:Q$(ks),hasCustomColors:eV(ks),getColors:tV(ks),getColorCols:nV(ks)}))(et),Ro=(ks=>({isDraggableModal:$5(ks)}))(et),as={shared:{providers:sn,anchors:J$(et,ht,zt,Pt.isPositionedAtTop),header:Pt},urlinput:In,styles:Kn,colorinput:ro,dialog:Ro,isContextMenuOpen:()=>Bt.get(),setContextMenuState:ks=>Bt.set(ks)},kr=ks=>I.none(),Br={...as,shared:{...as.shared,interpreter:ks=>N5(ks,{},Br,kr),getSink:Le.popup}},Zo={...as,shared:{...as.shared,interpreter:ks=>N5(ks,{},Zo,kr),getSink:Le.dialog}};return{popup:Br,dialog:Zo}})({popup:()=>ss.fromOption(v.popupUi.get().map(Le=>Le.sink),"(popup) UI has not been rendered"),dialog:()=>ss.fromOption(v.dialogUi.get().map(Le=>Le.sink),"UI has not been rendered")},s,pe,ye),Ee=()=>{const Le=(()=>{const as={attributes:{[mc]:$?Qu.BottomToTop:Qu.TopToBottom}},kr=_r.parts.menubar({dom:{tag:"div",classes:["tox-menubar"]},backstage:be.popup,onEscape:()=>{s.focus()}}),Br=_r.parts.toolbar({dom:{tag:"div",classes:["tox-toolbar"]},getSink:be.popup.shared.getSink,providers:be.popup.shared.providers,onEscape:()=>{s.focus()},onToolbarToggled:ya=>{((Xp,yx)=>{Xp.dispatch("ToggleToolbarDrawer",{state:yx})})(s,ya)},type:B,lazyToolbar:De,lazyHeader:()=>se().getOrDie("Could not find header element"),...as}),Zo=_r.parts["multiple-toolbar"]({dom:{tag:"div",classes:["tox-toolbar-overlord"]},providers:be.popup.shared.providers,onEscape:()=>{s.focus()},type:B}),ks=r2(s),fo=s2(s),Fr=o2(s),nr=jD(s),$l=_r.parts.promotion({dom:{tag:"div",classes:["tox-promotion"]}}),Vl=ks||fo||Fr,Fa=nr?[$l,kr]:[kr];return _r.parts.header({dom:{tag:"div",classes:["tox-editor-header"].concat(Vl?[]:["tox-editor-header--empty"]),...as},components:nn([Fr?Fa:[],ks?[Zo]:fo?[Br]:[],$0(s)?[]:[W.asSpec()]]),sticky:Bp(s),editor:s,sharedBackstage:be.popup.shared})})(),et={dom:{tag:"div",classes:["tox-sidebar-wrap"]},components:[_r.parts.socket({dom:{tag:"div",classes:["tox-edit-area"]}}),_r.parts.sidebar({dom:{tag:"div",classes:["tox-sidebar"]}})]},ht=_r.parts.throbber({dom:{tag:"div",classes:["tox-throbber"]},backstage:be.popup}),zt=_r.parts.viewWrapper({backstage:be.popup}),Bt=UD(s)&&!d?I.some(DL(s,be.popup.shared.providers)):I.none(),Pt=nn([$?[]:[Le],d?[]:[et],$?[Le]:[]]),sn=_r.parts.editorContainer({components:nn([Pt,d?[]:[J.asSpec()]])}),In=ZS(s),Kn={role:"application",...wf.isRtl()?{dir:"rtl"}:{},...In?{"aria-hidden":"true"}:{}},ro=Ma(_r.sketch({dom:{tag:"div",classes:["tox","tox-tinymce"].concat(d?["tox-tinymce-inline"]:[]).concat($?["tox-tinymce--toolbar-bottom"]:[]).concat(N),styles:{visibility:"hidden",...In?{opacity:"0",border:"0"}:{}},attributes:Kn},components:[sn,...d?[]:[zt,...Bt.toArray()],ht],behaviours:an([ba(),Oo.config({disableClass:"tox-tinymce--disabled"}),eo.config({mode:"cyclic",selector:".tox-menubar, .tox-toolbar, .tox-toolbar__primary, .tox-toolbar__overflow--open, .tox-sidebar__overflow--open, .tox-statusbar__path, .tox-statusbar__wordcount, .tox-statusbar__branding a, .tox-statusbar__resize-handle"})])})),Ro=__(ro);return C.set(Ro),{mothership:Ro,outerContainer:ro}},Pe=Le=>{const et=mv((zt=>(Pt=>{const sn=Jw(Pt),In=Fy(Pt),Kn=LS(Pt);return sC(sn).map(ro=>rC(ro,In,Kn))})(zt).getOr(Jw(zt)))(s)),ht=mv((zt=>nO(zt).getOr(Qw(zt)))(s));return s.inline||(Rl("div","width",ht)&&_o(Le.element,"width",ht),Rl("div","height",et)?_o(Le.element,"height",et):_o(Le.element,"height","400px")),et};return{popups:{backstage:be.popup,getMothership:()=>PL("popups",E)},dialogs:{backstage:be.dialog,getMothership:()=>PL("dialogs",k)},renderUI:()=>{const Le=Ee(),et=(()=>{const zt=jS(s),Bt=cs(Tn(),zt)&&Or(zt,"display")==="grid",Pt={dom:{tag:"div",classes:["tox","tox-silver-sink","tox-tinymce-aux"].concat(N),attributes:{...wf.isRtl()?{dir:"rtl"}:{}}},behaviours:an([ol.config({useFixed:()=>b.isDocked(se)})])},sn={dom:{styles:{width:document.body.clientWidth+"px"}},events:To([Lt(uf(),ro=>{_o(ro.element,"width",document.body.clientWidth+"px")})])},In=Ma(qs(Pt,Bt?sn:{})),Kn=__(In);return k.set(Kn),{sink:In,mothership:Kn}})(),ht=Fp(s)?(()=>{const zt={dom:{tag:"div",classes:["tox","tox-silver-sink","tox-silver-popup-sink","tox-tinymce-aux"].concat(N),attributes:{...wf.isRtl()?{dir:"rtl"}:{}}},behaviours:an([ol.config({useFixed:()=>b.isDocked(se),getBounds:()=>l.getPopupSinkBounds()})])},Bt=Ma(zt),Pt=__(Bt);return E.set(Pt),{sink:Bt,mothership:Pt}})():(zt=>(E.set(zt.mothership),zt))(et);return v.dialogUi.set(et),v.popupUi.set(ht),v.mainUi.set(Le),(zt=>{const{mainUi:Bt,popupUi:Pt,uiMotherships:sn}=zt;co(FS(s),(fo,Fr)=>{s.ui.registry.addGroupToolbarButton(Fr,fo)});const{buttons:In,menuItems:Kn,contextToolbars:ro,sidebars:Ro,views:as}=s.ui.registry.getAll(),kr=KS(s),Br={menuItems:Kn,menus:Wb(s),menubar:Lp(s),toolbar:kr.getOrThunk(()=>zy(s)),allowToolbarGroups:B===xf.floating,buttons:In,sidebar:Ro,views:as};var Zo;Zo=Bt.outerContainer,s.addShortcut("alt+F9","focus menubar",()=>{_r.focusMenubar(Zo)}),s.addShortcut("alt+F10","focus toolbar",()=>{_r.focusToolbar(Zo)}),s.addCommand("ToggleToolbarDrawer",(fo,Fr)=>{Fr!=null&&Fr.skipFocus?_r.toggleToolbarDrawerWithoutFocusing(Zo):_r.toggleToolbarDrawer(Zo)}),s.addQueryStateHandler("ToggleToolbarDrawer",()=>_r.isToolbarDrawerToggled(Zo)),((fo,Fr,nr)=>{const $l=(Bs,$h)=>{bt([Fr,...nr],Rm=>{Rm.broadcastEvent(Bs,$h)})},Vl=(Bs,$h)=>{bt([Fr,...nr],Rm=>{Rm.broadcastOn([Bs],$h)})},Fa=Bs=>Vl(F(),{target:Bs.target}),ya=Ka(),Xp=Ll(ya,"touchstart",Fa),yx=Ll(ya,"touchmove",Bs=>$l(Un(),Bs)),hv=Ll(ya,"touchend",Bs=>$l(Hc(),Bs)),Jp=Ll(ya,"mousedown",Fa),xC=Ll(ya,"mouseup",Bs=>{Bs.raw.button===0&&Vl(G(),{target:Bs.target})}),pv=Bs=>Vl(F(),{target:Sn(Bs.target)}),Bh=Bs=>{Bs.button===0&&Vl(G(),{target:Sn(Bs.target)})},h1=()=>{bt(fo.editorManager.get(),Bs=>{fo!==Bs&&Bs.dispatch("DismissPopups",{relatedTarget:fo})})},p1=Bs=>$l(dp(),pm(Bs)),xx=Bs=>{Vl(j(),{}),$l(uf(),pm(Bs))},Fk=Ct(Sn(fo.getElement())),wC=Cw(Fk,"scroll",Bs=>{requestAnimationFrame(()=>{if(fo.getContainer()!=null){const $h=Kb(fo,Fr.element).map(Rm=>[Rm.element,...Rm.others]).getOr([]);Rn($h,Rm=>cs(Rm,Bs.target))&&(fo.dispatch("ElementScroll",{target:Bs.target.dom}),$l(qg(),Bs))}})}),bv=()=>Vl(j(),{}),Fh=Bs=>{Bs.state&&Vl(F(),{target:Sn(fo.getContainer())})},Qp=Bs=>{Vl(F(),{target:Sn(Bs.relatedTarget.getContainer())})},CC=Bs=>fo.dispatch("focusin",Bs),SC=Bs=>fo.dispatch("focusout",Bs);fo.on("PostRender",()=>{fo.on("click",pv),fo.on("tap",pv),fo.on("mouseup",Bh),fo.on("mousedown",h1),fo.on("ScrollWindow",p1),fo.on("ResizeWindow",xx),fo.on("ResizeEditor",bv),fo.on("AfterProgressState",Fh),fo.on("DismissPopups",Qp),bt([Fr,...nr],Bs=>{Bs.element.dom.addEventListener("focusin",CC),Bs.element.dom.addEventListener("focusout",SC)})}),fo.on("remove",()=>{fo.off("click",pv),fo.off("tap",pv),fo.off("mouseup",Bh),fo.off("mousedown",h1),fo.off("ScrollWindow",p1),fo.off("ResizeWindow",xx),fo.off("ResizeEditor",bv),fo.off("AfterProgressState",Fh),fo.off("DismissPopups",Qp),bt([Fr,...nr],Bs=>{Bs.element.dom.removeEventListener("focusin",CC),Bs.element.dom.removeEventListener("focusout",SC)}),Jp.unbind(),Xp.unbind(),yx.unbind(),hv.unbind(),xC.unbind(),wC.unbind()}),fo.on("detach",()=>{bt([Fr,...nr],rT),bt([Fr,...nr],Bs=>Bs.destroy())})})(s,Bt.mothership,sn),b.setup(s,be.popup.shared,se),Cz(s,be.popup),Tz(s,be.popup.shared.getSink,be.popup),(fo=>{const{sidebars:Fr}=fo.ui.registry.getAll();bt(Qt(Fr),nr=>{const $l=Fr[nr],Vl=()=>mi(I.from(fo.queryCommandValue("ToggleSidebar")),nr);fo.ui.registry.addToggleButton(nr,{icon:$l.icon,tooltip:$l.tooltip,onAction:Fa=>{fo.execCommand("ToggleSidebar",!1,nr),Fa.setActive(Vl())},onSetup:Fa=>{Fa.setActive(Vl());const ya=()=>Fa.setActive(Vl());return fo.on("ToggleSidebar",ya),()=>{fo.off("ToggleSidebar",ya)}}})})})(s),lM(s,ve,be.popup.shared),vz(s,ro,Pt.sink,{backstage:be.popup}),RL(s,Pt.sink);const ks={targetNode:s.getElement(),height:Pe(Bt.outerContainer)};return f.render(s,zt,Br,be.popup,ks)})({popupUi:ht,dialogUi:et,mainUi:Le,uiMotherships:v.getUiMotherships()})}}},Lz=q([Ht("lazySink"),ds("dragBlockClass"),ir("getBounds",Ni),vt("useTabstopAt",Te),vt("firstTabstop",0),vt("eventOrder",{}),Mn("modalBehaviours",[eo]),uc("onExecute"),yl("onEscape")]),wO={sketch:he},CO=q([Ed({name:"draghandle",overrides:(s,l)=>({behaviours:an([m1.config({mode:"mouse",getTarget:d=>ih(d,'[role="dialog"]').getOr(d),blockerClass:s.dragBlockClass.getOrDie(new Error(`The drag blocker class was not specified for a dialog with a drag handle: 
`+JSON.stringify(l,null,2)).message),getBounds:s.getDragBounds})])})}),gc({schema:[Ht("dom")],name:"title"}),gc({factory:wO,schema:[Ht("dom")],name:"close"}),gc({factory:wO,schema:[Ht("dom")],name:"body"}),Ed({factory:wO,schema:[Ht("dom")],name:"footer"}),xm({factory:{sketch:(s,l)=>({...s,dom:l.dom,components:l.components})},schema:[vt("dom",{tag:"div",styles:{position:"fixed",left:"0px",top:"0px",right:"0px",bottom:"0px"}}),vt("components",[])],name:"blocker"})]),si=kc({name:"ModalDialog",configFields:Lz(),partFields:CO(),factory:(s,l,d,f)=>{const b=Ss(),v=Nn("modal-events"),C={...s.eventOrder,[pa()]:[v].concat(s.eventOrder["alloy.system.attached"]||[])},k=Ki();return{uid:s.uid,dom:s.dom,components:l,apis:{show:E=>{b.set(E);const N=s.lazySink(E).getOrDie(),$=f.blocker(),B=N.getSystem().build({...$,components:$.components.concat([ql(E)]),behaviours:an([Eo.config({}),jo("dialog-blocker-events",[gf(Is(),()=>{If.isBlocked(E)||eo.focusIn(E)})])])});dg(N,B),eo.focusIn(E)},hide:E=>{b.clear(),Pi(E.element).each(N=>{E.getSystem().getByDom(N).each($=>{Xl($)})})},getBody:E=>Np(E,s,"body"),getFooter:E=>vr(E,s,"footer"),setIdle:E=>{If.unblock(E)},setBusy:(E,N)=>{If.block(E,N)}},eventOrder:C,domModification:{attributes:{role:"dialog","aria-modal":"true"}},behaviours:zo(s.modalBehaviours,[go.config({}),eo.config({mode:"cyclic",onEnter:s.onExecute,onEscape:s.onEscape,useTabstopAt:s.useTabstopAt,firstTabstop:s.firstTabstop}),If.config({getRoot:b.get}),jo(v,[hr(E=>{const N=Np(E,s,"title").element,$=(B=>B.dom.textContent)(N);k.os.isMacOS()&&K($)?xn(E.element,"aria-label",$):((B,W)=>{const J=gs(B,"id").fold(()=>{const se=Nn("dialog-label");return xn(W,"id",se),se},he);xn(B,"aria-labelledby",J)})(E.element,N)})])])}},apis:{show:(s,l)=>{s.show(l)},hide:(s,l)=>{s.hide(l)},getBody:(s,l)=>s.getBody(l),getFooter:(s,l)=>s.getFooter(l),setBusy:(s,l,d)=>{s.setBusy(l,d)},setIdle:(s,l)=>{s.setIdle(l)}}}),Bz=oo([qi,dA].concat(K0)),uC=Sc,SO=[vA("button"),Sf,Vc("align","end",["start","end"]),i_,_f,Gm("buttonType",["primary","secondary"])],Rk=[...SO,Cf],_O=[zu("type",["submit","cancel","custom"]),...Rk],Fz=[zu("type",["menu"]),Xb,S2,Sf,Ya("items",Bz),...SO],$z=[...SO,zu("type",["togglebutton"]),S2,Sf,Xb,li("active",!1)],NL=Ti("type",{submit:_O,cancel:_O,custom:_O,menu:Fz,togglebutton:$z}),Vz=[qi,Cf,zu("level",["info","warn","error","success"]),gA,vt("url","")],kO=oo(Vz),EO=[qi,Cf,_f,vA("button"),Sf,LK,Gm("buttonType",["primary","secondary","toolbar"]),i_],TO=oo(EO),hx=[qi,dA],Ba=hx.concat([hA]),zz=hx.concat([fA,_f]),Hz=oo(zz),ML=Sc,LL=Ba.concat([AP("auto")]),Uz=oo(LL),Wz=Fu([U0,Cf,gA]),Kz=Ba.concat([ac("storageKey","default")]),jz=oo(Kz),Zz=Li,Gz=oo(Ba),qz=Li,BL=hx.concat([ac("tag","textarea"),Sr("scriptId"),Sr("scriptUrl"),$c("onFocus"),Xa("settings",void 0,Cb)]),Yz=hx.concat([ac("tag","textarea"),qa("init")]),Xz=sf(s=>Ir("customeditor.old",Mi(Yz),s).orThunk(()=>Ir("customeditor.new",Mi(BL),s))),Jz=Li,FL=oo(Ba),AO=Bu(Lu),$L=s=>[qi,Zg("columns"),s],VL=[qi,Sr("html"),Vc("presets","presentation",["presentation","document"]),ir("onInit",U),li("stretched",!1)],zL=oo(VL),HL=Ba.concat([li("border",!1),li("sandboxed",!0),li("streamContent",!1),li("transparent",!0)]),OO=oo(HL),Qz=Li,RO=oo(hx.concat([Zr("height")])),px=oo([Sr("url"),Hu("zoom"),Hu("cachedWidth"),Hu("cachedHeight")]),UL=Ba.concat([Zr("inputMode"),Zr("placeholder"),li("maximized",!1),_f]),WL=oo(UL),KL=Li,eH=s=>[qi,fA,s,Vc("align","start",["start","center","end"]),Zr("for")],tH=[Cf,U0],Ik=[Cf,Ya("items",tm(0,()=>jL))],jL=Qf([oo(tH),oo(Ik)]),nH=Ba.concat([Ya("items",jL),_f]),ZL=oo(nH),GL=Li,IO=Ba.concat([nm("items",[Cf,U0]),Vr("size",1),_f]),qL=oo(IO),Yc=Li,YL=Ba.concat([li("constrain",!0),_f]),oH=oo(YL),XL=oo([Sr("width"),Sr("height")]),JL=hx.concat([fA,Vr("min",0),Vr("max",0)]),sH=oo(JL),rH=pd,iH=[qi,Ya("header",Li),Ya("cells",Bu(Li))],QL=oo(iH),Lh=Ba.concat([Zr("placeholder"),li("maximized",!1),_f]),DO=oo(Lh),eB=Li,dC=[zu("type",["directory","leaf"]),mA,Sr("id"),$r("menu",sM)],Dk=oo(dC),aH=dC.concat([Ya("children",tm(0,()=>Vu("type",{directory:tB,leaf:Dk})))]),tB=oo(aH),lH=Vu("type",{directory:tB,leaf:Dk}),cH=[qi,Ya("items",lH),$c("onLeafAction"),$c("onToggleExpand"),Hs("defaultExpandedIds",[],Li),Zr("defaultSelectedId")],uH=oo(cH),dH=Ba.concat([Vc("filetype","file",["image","media","file"]),_f,Zr("picker_text")]),fH=oo(dH),nB=oo([U0,sd]),PO=s=>pi("items","items",{tag:"required",process:{}},Bu(sf(l=>Ir(`Checking item of ${s}`,Om,l).fold(d=>ss.error(Ga(d)),d=>ss.value(d))))),Om=jm(()=>{return Vu("type",{alertbanner:kO,bar:oo((s=PO("bar"),[qi,s])),button:TO,checkbox:Hz,colorinput:jz,colorpicker:Gz,dropzone:FL,grid:oo($L(PO("grid"))),iframe:OO,input:WL,listbox:ZL,selectbox:qL,sizeinput:oH,slider:sH,textarea:DO,urlinput:fH,customeditor:Xz,htmlpanel:zL,imagepreview:RO,collection:Uz,label:oo(eH(PO("label"))),table:QL,tree:uH,panel:oB});var s}),Pk=[qi,vt("classes",[]),Ya("items",Om)],oB=oo(Pk),mH=[vA("tab"),mA,Ya("items",Om)],sB=[qi,nm("tabs",mH)],rB=oo(sB),NO=Rk,Nk=NL,fC=oo([Sr("title"),Bi("body",Vu("type",{panel:oB,tabpanel:rB})),ac("size","normal"),Hs("buttons",[],Nk),vt("initialData",{}),ir("onAction",U),ir("onChange",U),ir("onSubmit",U),ir("onClose",U),ir("onCancel",U),ir("onTabChange",U)]),mC=oo([zu("type",["cancel","custom"]),...NO]),iB=oo([Sr("title"),Sr("url"),Hu("height"),Hu("width"),ip("buttons",mC),ir("onAction",U),ir("onCancel",U),ir("onClose",U),ir("onMessage",U)]),Mk=s=>x(s)?[s].concat(yn(aa(s),Mk)):R(s)?yn(s,Mk):[],aB=s=>h(s.type)&&h(s.name),lB={checkbox:ML,colorinput:Zz,colorpicker:qz,dropzone:AO,input:KL,iframe:Qz,imagepreview:px,selectbox:Yc,sizeinput:XL,slider:rH,listbox:GL,size:XL,textarea:eB,urlinput:nB,customeditor:Jz,collection:Wz,togglemenuitem:uC},gH=s=>{const l=(f=>Yt(Mk(f),aB))(s),d=yn(l,f=>(b=>I.from(lB[b.type]))(f).fold(()=>[],b=>[Bi(f.name,b)]));return oo(d)},cB=s=>{var l;return{internalDialog:Da(Ir("dialog",fC,s)),dataValidator:gH(s),initialData:(l=s.initialData)!==null&&l!==void 0?l:{}}},g1={open:(s,l)=>{const d=cB(l);return s(d.internalDialog,d.initialData,d.dataValidator)},openUrl:(s,l)=>s(Da(Ir("dialog",iB,l))),redial:s=>cB(s)};var hH=Object.freeze({__proto__:null,events:(s,l)=>{const d=(f,b)=>{s.updateState.each(v=>{const C=v(f,b);l.set(C)}),s.renderComponents.each(v=>{const C=v(b,l.get());(s.reuseDom?LT:N0)(f,C)})};return To([Lt(lc(),(f,b)=>{const v=b;if(!v.universal){const C=s.channel;ft(v.channels,C)&&d(f,v.data)}}),hr((f,b)=>{s.initialData.each(v=>{d(f,v)})})])}}),pH=Object.freeze({__proto__:null,getState:(s,l,d)=>d}),uB=[Ht("channel"),ds("renderComponents"),ds("updateState"),ds("initialData"),li("reuseDom",!0)];const Su=Zi({fields:uB,name:"reflecting",active:hH,apis:pH,state:Object.freeze({__proto__:null,init:()=>{const s=Wn(I.none());return{readState:()=>s.get().getOr("none"),get:s.get,set:s.set,clear:()=>s.set(I.none())}}})}),dB=s=>{const l=[],d={};return no(s,(f,b)=>{f.fold(()=>{l.push(b)},v=>{d[b]=v})}),l.length>0?ss.error(l):ss.value(d)},fB=(s,l,d,f)=>{const b=Ks(rv.sketch(C=>({dom:{tag:"div",classes:["tox-form"].concat(s.classes)},components:Ve(s.items,k=>ak(C,k,l,d,f))})));return{dom:{tag:"div",classes:["tox-dialog__body"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:[b.asSpec()]}],behaviours:an([eo.config({mode:"acyclic",useTabstopAt:Ue(ox)}),(v=b,Os.config({find:v.getOpt})),T3(b,{postprocess:C=>dB(C).fold(k=>(console.error(k),{}),he)}),jo("dialog-body-panel",[Lt(Is(),(C,k)=>{C.getSystem().broadcastOn([Y_],{newFocus:I.some(k.event.target)})})])])};var v},bH=Td({name:"TabButton",configFields:[vt("uid",void 0),Ht("value"),pi("dom","dom",us(()=>({attributes:{role:"tab",id:Nn("aria"),"aria-selected":"false"}})),Zl()),ds("action"),vt("domModification",{}),Mn("tabButtonBehaviours",[Eo,eo,St]),Ht("view")],factory:(s,l)=>({uid:s.uid,dom:s.dom,components:s.components,events:Ly(s.action),behaviours:zo(s.tabButtonBehaviours,[Eo.config({}),eo.config({mode:"execution",useSpace:!0,useEnter:!0}),St.config({store:{mode:"memory",initialValue:s.value}})]),domModification:s.domModification})}),mB=q([Ht("tabs"),Ht("dom"),vt("clickToDismiss",!1),Mn("tabbarBehaviours",[Gs,eo]),vp(["tabClass","selectedClass"])]),gC=xS({factory:bH,name:"tabs",unit:"tab",overrides:s=>{const l=(f,b)=>{Gs.dehighlight(f,b),Xn(f,on(),{tabbar:f,button:b})},d=(f,b)=>{Gs.highlight(f,b),Xn(f,Yg(),{tabbar:f,button:b})};return{action:f=>{const b=f.getSystem().getByUid(s.uid).getOrDie(),v=Gs.isHighlighted(b,f);(v&&s.clickToDismiss?l:v?U:d)(b,f)},domModification:{classes:[s.markers.tabClass]}}}}),vH=q([gC]),MO=kc({name:"Tabbar",configFields:mB(),partFields:vH(),factory:(s,l,d,f)=>({uid:s.uid,dom:s.dom,components:l,"debug.sketcher":"Tabbar",domModification:{attributes:{role:"tablist"}},behaviours:zo(s.tabbarBehaviours,[Gs.config({highlightClass:s.markers.selectedClass,itemClass:s.markers.tabClass,onHighlight:(b,v)=>{xn(v.element,"aria-selected","true")},onDehighlight:(b,v)=>{xn(v.element,"aria-selected","false")}}),eo.config({mode:"flow",getInitial:b=>Gs.getHighlighted(b).map(v=>v.element),selector:"."+s.markers.tabClass,executeOnMove:!0})])})}),yH=Td({name:"Tabview",configFields:[Mn("tabviewBehaviours",[go])],factory:(s,l)=>({uid:s.uid,dom:s.dom,behaviours:zo(s.tabviewBehaviours,[go.config({})]),domModification:{attributes:{role:"tabpanel"}}})}),xH=q([vt("selectFirst",!0),_s("onChangeTab"),_s("onDismissTab"),vt("tabs",[]),Mn("tabSectionBehaviours",[])]),wH=gc({factory:MO,schema:[Ht("dom"),Fc("markers",[Ht("tabClass"),Ht("selectedClass")])],name:"tabbar",defaults:s=>({tabs:s.tabs})}),CH=gc({factory:yH,name:"tabview"}),gB=q([wH,CH]),bx=kc({name:"TabSection",configFields:xH(),partFields:gB(),factory:(s,l,d,f)=>{const b=(v,C)=>{vr(v,s,"tabbar").each(k=>{C(k).each(mf)})};return{uid:s.uid,dom:s.dom,components:l,behaviours:po(s.tabSectionBehaviours),events:To(nn([s.selectFirst?[hr((v,C)=>{b(v,Gs.getFirst)})]:[],[Lt(Yg(),(v,C)=>{(k=>{const E=St.getValue(k);vr(k,s,"tabview").each(N=>{te(s.tabs,$=>$.value===E).each($=>{const B=$.view();gs(k.element,"id").each(W=>{xn(N.element,"aria-labelledby",W)}),go.set(N,B),s.onChangeTab(N,k,B)})})})(C.event.button)}),Lt(on(),(v,C)=>{const k=C.event.button;s.onDismissTab(v,k)})]])),apis:{getViewItems:v=>vr(v,s,"tabview").map(C=>go.contents(C)).getOr([]),showTab:(v,C)=>{b(v,k=>{const E=Gs.getCandidates(k);return te(E,N=>St.getValue(N)===C).filter(N=>!Gs.isHighlighted(k,N))})}}}},apis:{getViewItems:(s,l)=>s.getViewItems(l),showTab:(s,l,d)=>{s.showTab(l,d)}}}),LO=(s,l)=>{_o(s,"height",l+"px"),_o(s,"flex-basis",l+"px")},vx=(s,l,d)=>{ih(s,'[role="dialog"]').each(f=>{Lr(f,'[role="tablist"]').each(b=>{d.get().map(v=>(_o(l,"height","0"),_o(l,"flex-basis","0"),Math.min(v,((C,k,E)=>{const N=gl(C).dom,$=ih(C,".tox-dialog-wrap").getOr(C);let B;B=Or($,"position")==="fixed"?Math.max(N.clientHeight,window.innerHeight):Math.max(N.offsetHeight,N.scrollHeight);const W=Rr(k),J=k.dom.offsetLeft>=E.dom.offsetLeft+Wi(E)?Math.max(Rr(E),W):W,se=parseInt(Or(C,"margin-top"),10)||0,pe=parseInt(Or(C,"margin-bottom"),10)||0;return B-(Rr(C)+se+pe-J)})(f,l,b)))).each(v=>{LO(l,v)})})})},Sg=s=>Lr(s,'[role="tabpanel"]'),Lk="send-data-to-section",BO="send-data-to-view",hB=(s,l,d,f)=>{const b=Wn({}),v=$=>{const B=St.getValue($),W=dB(B).getOr({}),J=b.get(),se=qs(J,W);b.set(se)},C=$=>{const B=b.get();St.setValue($,B)},k=Wn(null),E=Ve(s.tabs,$=>({value:$.name,dom:{tag:"div",classes:["tox-dialog__body-nav-item"]},components:[ui(d.shared.providers.translate($.title))],view:()=>[rv.sketch(B=>({dom:{tag:"div",classes:["tox-form"]},components:Ve($.items,W=>ak(B,W,l,d,f)),formBehaviours:an([eo.config({mode:"acyclic",useTabstopAt:Ue(ox)}),jo("TabView.form.events",[hr(C),Ku(v)]),fc.config({channels:_c([{key:Lk,value:{onReceive:v}},{key:BO,value:{onReceive:C}}])})])}))]})),N=($=>{const B=Ss();return{extraEvents:[hr(J=>{const se=J.element;Sg(se).each(pe=>{_o(pe,"visibility","hidden"),J.getSystem().getByDom(pe).toOptional().each(ye=>{const De=((be,Ee,Pe)=>Ve(be,(Le,et)=>{go.set(Pe,be[et].view());const ht=Ee.dom.getBoundingClientRect();return go.set(Pe,[]),ht.height}))($,pe,ye);(be=>Fe(xe(be,(Ee,Pe)=>Ee>Pe?-1:Ee<Pe?1:0)))(De).fold(B.clear,B.set)}),vx(se,pe,B),zs(pe,"visibility"),((ye,De)=>{Fe(ye).each(ve=>bx.showTab(De,ve.value))})($,J),requestAnimationFrame(()=>{vx(se,pe,B)})})}),Lt(uf(),J=>{const se=J.element;Sg(se).each(pe=>{vx(se,pe,B)})}),Lt(E_,(J,se)=>{const pe=J.element;Sg(pe).each(ye=>{const De=Cd(Ct(ye));_o(ye,"visibility","hidden");const ve=Jr(ye,"height").map(Ee=>parseInt(Ee,10));zs(ye,"height"),zs(ye,"flex-basis");const be=ye.dom.getBoundingClientRect().height;ve.forall(Ee=>be>Ee)?(B.set(be),vx(pe,ye,B)):ve.each(Ee=>{LO(ye,Ee)}),zs(ye,"visibility"),De.each(Ml)})})],selectFirst:!1}})(E);return bx.sketch({dom:{tag:"div",classes:["tox-dialog__body"]},onChangeTab:($,B,W)=>{const J=St.getValue(B);Xn($,AN,{name:J,oldName:k.get()}),k.set(J)},tabs:E,components:[bx.parts.tabbar({dom:{tag:"div",classes:["tox-dialog__body-nav"]},components:[MO.parts.tabs({})],markers:{tabClass:"tox-tab",selectedClass:"tox-dialog__body-nav-item--active"},tabbarBehaviours:an([mr.config({})])}),bx.parts.tabview({dom:{tag:"div",classes:["tox-dialog__body-content"]}})],selectFirst:N.selectFirst,tabSectionBehaviours:an([jo("tabpanel",N.extraEvents),eo.config({mode:"acyclic"}),Os.config({find:$=>Fe(bx.getViewItems($))}),n1(I.none(),$=>($.getSystem().broadcastOn([Lk],{}),b.get()),($,B)=>{b.set(B),$.getSystem().broadcastOn([BO],{})})])})},Bk=(s,l,d,f,b,v)=>({dom:{tag:"div",classes:["tox-dialog__content-js"],attributes:{...d.map(C=>({id:C})).getOr({}),...b?{"aria-live":"polite"}:{}}},components:[],behaviours:an([k3(0),Su.config({channel:`${s5}-${l}`,updateState:(C,k)=>I.some({isTabPanel:()=>k.body.type==="tabpanel"}),renderComponents:C=>{const k=C.body;return k.type==="tabpanel"?[hB(k,C.initialData,f,v)]:[fB(k,C.initialData,f,v)]},initialData:s})])}),pB=pg.deviceType.isTouch(),hC=(s,l)=>({dom:{tag:"div",styles:{display:"none"},classes:["tox-dialog__header"]},components:[s,l]}),FO=(s,l)=>si.parts.close(Fl.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":l.translate("Close")}},action:s,buttonBehaviours:an([mr.config({})])})),$O=()=>si.parts.title({dom:{tag:"div",classes:["tox-dialog__title"],innerHtml:"",styles:{display:"none"}}}),bB=(s,l)=>si.parts.body({dom:{tag:"div",classes:["tox-dialog__body"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:[{dom:wh(`<p>${iP(l.translate(s))}</p>`)}]}]}),vB=s=>si.parts.footer({dom:{tag:"div",classes:["tox-dialog__footer"]},components:s}),yB=(s,l)=>[_m.sketch({dom:{tag:"div",classes:["tox-dialog__footer-start"]},components:s}),_m.sketch({dom:{tag:"div",classes:["tox-dialog__footer-end"]},components:l})],VO=s=>{const l="tox-dialog",d=l+"-wrap",f=d+"__backdrop",b=l+"__disable-scroll";return si.sketch({lazySink:s.lazySink,onEscape:v=>(s.onEscape(v),I.some(!0)),useTabstopAt:v=>!ox(v),firstTabstop:s.firstTabstop,dom:{tag:"div",classes:[l].concat(s.extraClasses),styles:{position:"relative",...s.extraStyles}},components:[s.header,s.body,...s.footer.toArray()],parts:{blocker:{dom:wh(`<div class="${d}"></div>`),components:[{dom:{tag:"div",classes:pB?[f,f+"--opaque"]:[f]}}]}},dragBlockClass:d,modalBehaviours:an([Eo.config({}),jo("dialog-events",s.dialogEvents.concat([gf(Is(),(v,C)=>{If.isBlocked(v)||eo.focusIn(v)}),Lt(Sb(),(v,C)=>{v.getSystem().broadcastOn([Y_],{newFocus:C.event.newFocus})})])),jo("scroll-lock",[hr(()=>{Vn(Tn(),b)}),Ku(()=>{Fo(Tn(),b)})]),...s.extraBehaviours]),eventOrder:{[vl()]:["dialog-events"],[pa()]:["scroll-lock","dialog-events","alloy.base.behaviour"],[Uc()]:["alloy.base.behaviour","dialog-events","scroll-lock"],...s.eventOrder}})},xB=s=>Fl.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":s.translate("Close"),"data-mce-name":"close"}},buttonBehaviours:an([mr.config({}),Ii.config(s.tooltips.getConfig({tooltipText:s.translate("Close")}))]),components:[od("close",{tag:"span",classes:["tox-icon"]},s.icons)],action:l=>{Wo(l,Up)}}),zO=(s,l,d,f)=>({dom:{tag:"h1",classes:["tox-dialog__title"],attributes:{...d.map(b=>({id:b})).getOr({})}},components:[],behaviours:an([Su.config({channel:`${M3}-${l}`,initialData:s,renderComponents:b=>[ui(f.translate(b.title))]})])}),HO=()=>({dom:wh('<div class="tox-dialog__draghandle"></div>')}),wB=(s,l,d)=>((f,b,v)=>{const C=si.parts.title(zO(f,b,I.none(),v)),k=si.parts.draghandle(HO()),E=si.parts.close(xB(v)),N=[C].concat(f.draggable?[k]:[]).concat([E]);return _m.sketch({dom:wh('<div class="tox-dialog__header"></div>'),components:N})})({title:d.shared.providers.translate(s),draggable:d.dialog.isDraggableModal()},l,d.shared.providers),CB=(s,l,d,f)=>({dom:{tag:"div",classes:["tox-dialog__busy-spinner"],attributes:{"aria-label":d.translate(s)},styles:{left:"0px",right:"0px",bottom:"0px",top:`${f.getOr(0)}px`,position:"absolute"}},behaviours:l,components:[{dom:wh('<div class="tox-spinner"><div></div><div></div><div></div></div>')}]}),SB=(s,l,d)=>({onClose:()=>d.closeWindow(),onBlock:f=>{const b=Lr(s().element,".tox-dialog__header").map(v=>Rr(v));si.setBusy(s(),(v,C)=>CB(f.message,C,l,b))},onUnblock:()=>{si.setIdle(s())}}),pC="tox-dialog--fullscreen",UO="tox-dialog--width-lg",WO="tox-dialog--width-md",bC=s=>{switch(s){case"large":return I.some(UO);case"medium":return I.some(WO);default:return I.none()}},KO=(s,l)=>{const d=Sn(l.element.dom);es(d,pC)||(ci(d,[UO,WO]),bC(s).each(f=>Vn(d,f)))},_B=(s,l)=>{const d=Sn(s.element.dom),f=Ja(d),b=te(f,v=>v===UO||v===WO).or(bC(l));((v,C)=>{bt(C,k=>{((E,N)=>{ot(E)?E.dom.classList.toggle(N):(($,B)=>ft(Vt($),B)?$n($,B):un($,B))(E,N),Ko(E)})(v,k)})})(d,[pC,...b.toArray()])},kB=(s,l,d)=>Ma(VO({...s,firstTabstop:1,lazySink:d.shared.getSink,extraBehaviours:[H2({}),...s.extraBehaviours],onEscape:f=>{Wo(f,Up)},dialogEvents:l,eventOrder:{[lc()]:[Su.name(),fc.name()],[pa()]:["scroll-lock",Su.name(),"messages","dialog-events","alloy.base.behaviour"],[Uc()]:["alloy.base.behaviour","dialog-events","messages",Su.name(),"scroll-lock"]}})),vC=(s,l={})=>Ve(s,d=>d.type==="menu"?(f=>{const b=Ve(f.items,v=>{const C=cn(l,v.name).getOr(Wn(!1));return{...v,storage:C}});return{...f,items:b}})(d):d),EB=s=>Jt(s,(l,d)=>d.type==="menu"?Jt(d.items,(f,b)=>(f[b.name]=b.storage,f),l):l,{}),jO=(s,l)=>[Xm(Is(),D$),s(nv,(d,f,b,v)=>{Cd(Ct(v.element)).fold(U,a0),l.onClose(),f.onClose()}),s(Up,(d,f,b,v)=>{f.onCancel(d),Wo(v,nv)}),Lt(t3,(d,f)=>l.onUnblock()),Lt(e3,(d,f)=>l.onBlock(f.event))],TB=(s,l,d)=>{const f=(v,C)=>Lt(v,(k,E)=>{b(k,(N,$)=>{C(s(),N,E.event,k)})}),b=(v,C)=>{Su.getState(v).get().each(k=>{C(k.internalDialog,v)})};return[...jO(f,l),f(B2,(v,C)=>C.onSubmit(v)),f(ec,(v,C,k)=>{C.onChange(v,{name:k.name})}),f(wg,(v,C,k,E)=>{const N=()=>E.getSystem().isConnected()?eo.focusIn(E):void 0,$=J=>jr(J,"disabled")||gs(J,"aria-disabled").exists(se=>se==="true"),B=Ct(E.element),W=Cd(B);C.onAction(v,{name:k.name,value:k.value}),Cd(B).fold(N,J=>{$(J)||W.exists(se=>Kr(J,se)&&$(se))?N():d().toOptional().filter(se=>!Kr(se.element,J)).each(N)})}),f(AN,(v,C,k)=>{C.onTabChange(v,{newTabName:k.name,oldTabName:k.oldName})}),Ku(v=>{const C=s();St.setValue(v,C.getData())})]},SH=(s,l)=>{const d=l.map(v=>v.footerButtons).getOr([]),f=Yn(d,v=>v.align==="start"),b=(v,C)=>_m.sketch({dom:{tag:"div",classes:[`tox-dialog__footer-${v}`]},components:Ve(C,k=>k.memento.asSpec())});return[b("start",f.pass),b("end",f.fail)]},AB=(s,l,d)=>({dom:wh('<div class="tox-dialog__footer"></div>'),components:[],behaviours:an([Su.config({channel:`${r5}-${l}`,initialData:s,updateState:(f,b)=>{const v=Ve(b.buttons,C=>{const k=Ks(((E,N)=>ix(E,E.type,N))(C,d));return{name:C.name,align:C.align,memento:k}});return I.some({lookupByName:C=>((k,E,N)=>te(E,$=>$.name===N).bind($=>$.memento.getOpt(k)))(f,v,C),footerButtons:v})},renderComponents:SH})])}),ZO=(s,l,d)=>si.parts.footer(AB(s,l,d)),yC=(s,l)=>{if(s.getRoot().getSystem().isConnected()){const d=Os.getCurrent(s.getFormWrapper()).getOr(s.getFormWrapper());return rv.getField(d,l).orThunk(()=>s.getFooter().bind(b=>Su.getState(b).get()).bind(b=>b.lookupByName(l)))}return I.none()},OB=(s,l,d)=>{const f=v=>{const C=s.getRoot();C.getSystem().isConnected()&&v(C)},b={getData:()=>{const v=s.getRoot(),C=v.getSystem().isConnected()?s.getFormWrapper():v;return{...St.getValue(C),...co(d,k=>k.get())}},setData:v=>{f(C=>{const k=b.getData(),E=qs(k,v),N=((B,W)=>{const J=B.getRoot();return Su.getState(J).get().map(se=>Da(Ir("data",se.dataValidator,W))).getOr(W)})(s,E),$=s.getFormWrapper();St.setValue($,N),no(d,(B,W)=>{uo(E,W)&&B.set(E[W])})})},setEnabled:(v,C)=>{yC(s,v).each(C?Oo.enable:Oo.disable)},focus:v=>{yC(s,v).each(Eo.focus)},block:v=>{if(!h(v))throw new Error("The dialogInstanceAPI.block function should be passed a blocking message of type string as an argument");f(C=>{Xn(C,e3,{message:v})})},unblock:()=>{f(v=>{Wo(v,t3)})},showTab:v=>{f(C=>{const k=s.getBody();Su.getState(k).get().exists(E=>E.isTabPanel())&&Os.getCurrent(k).each(E=>{bx.showTab(E,v)})})},redial:v=>{f(C=>{const k=s.getId(),E=l(v),N=vC(E.internalDialog.buttons,d);C.getSystem().broadcastOn([`${iv}-${k}`],E),C.getSystem().broadcastOn([`${M3}-${k}`],E.internalDialog),C.getSystem().broadcastOn([`${s5}-${k}`],E.internalDialog),C.getSystem().broadcastOn([`${r5}-${k}`],{...E.internalDialog,buttons:N}),b.setData(E.initialData)})},close:()=>{f(v=>{Wo(v,nv)})},toggleFullscreen:s.toggleFullscreen};return b},RB=(s,l,d,f=!1,b)=>{const v=Nn("dialog"),C=Nn("dialog-label"),k=Nn("dialog-content"),E=s.internalDialog,N=Wn(E.size),$=bC(N.get()).toArray(),B=Ks(((Pe,Le,et,ht)=>_m.sketch({dom:wh('<div class="tox-dialog__header"></div>'),components:[zO(Pe,Le,I.some(et),ht),HO(),xB(ht)],containerBehaviours:an([m1.config({mode:"mouse",blockerClass:"blocker",getTarget:zt=>pf(zt,'[role="dialog"]').getOrDie(),snaps:{getSnapPoints:()=>[],leftAttr:"data-drag-left",topAttr:"data-drag-top"}})])}))({title:E.title,draggable:!0},v,C,d.shared.providers)),W=Ks(((Pe,Le,et,ht,zt,Bt)=>Bk(Pe,Le,I.some(et),ht,zt,Bt))({body:E.body,initialData:E.initialData},v,k,d,f,Pe=>yC(be,Pe))),J=vC(E.buttons),se=EB(J),pe=Go(J.length!==0,Ks(((Pe,Le,et)=>AB(Pe,Le,et))({buttons:J},v,d))),ye=TB(()=>Ee,{onBlock:Pe=>{If.block(ve,(Le,et)=>{const ht=B.getOpt(ve).map(zt=>Rr(zt.element));return CB(Pe.message,et,d.shared.providers,ht)})},onUnblock:()=>{If.unblock(ve)},onClose:()=>l.closeWindow()},d.shared.getSink),De=Ki().os,ve=Ma({dom:{tag:"div",classes:["tox-dialog","tox-dialog-inline",...$],attributes:{role:"dialog",...De.isMacOS()?{"aria-label":E.title}:{"aria-labelledby":C}}},eventOrder:{[lc()]:[Su.name(),fc.name()],[vl()]:["execute-on-form"],[pa()]:["reflecting","execute-on-form"]},behaviours:an([eo.config({mode:"cyclic",onEscape:Pe=>(Wo(Pe,nv),I.some(!0)),useTabstopAt:Pe=>!ox(Pe)&&(fl(Pe)!=="button"||ns(Pe,"disabled")!=="disabled"),firstTabstop:1}),Su.config({channel:`${iv}-${v}`,updateState:(Pe,Le)=>(N.set(Le.internalDialog.size),KO(Le.internalDialog.size,Pe),b(),I.some(Le)),initialData:s}),Eo.config({}),jo("execute-on-form",ye.concat([gf(Is(),(Pe,Le)=>{eo.focusIn(Pe)}),Lt(Sb(),(Pe,Le)=>{Pe.getSystem().broadcastOn([Y_],{newFocus:Le.event.newFocus})})])),If.config({getRoot:()=>I.some(ve)}),go.config({}),H2({})]),components:[B.asSpec(),W.asSpec(),...pe.map(Pe=>Pe.asSpec()).toArray()]}),be={getId:q(v),getRoot:q(ve),getFooter:()=>pe.map(Pe=>Pe.get(ve)),getBody:()=>W.get(ve),getFormWrapper:()=>{const Pe=W.get(ve);return Os.getCurrent(Pe).getOr(Pe)},toggleFullscreen:()=>{_B(ve,N.get())}},Ee=OB(be,l.redial,se);return{dialog:ve,instanceApi:Ee}};var GO=tinymce.util.Tools.resolve("tinymce.util.URI");const _H=["insertContent","setContent","execCommand","close","block","unblock"],qO=s=>x(s)&&_H.indexOf(s.mceAction)!==-1,kH=(s,l,d,f)=>{const b=Nn("dialog"),v=wB(s.title,b,f),C=(De=>{const ve={dom:{tag:"div",classes:["tox-dialog__content-js"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-iframe"]},components:[P3(I.none(),{dom:{tag:"iframe",attributes:{src:De.url}},behaviours:an([mr.config({}),Eo.config({})])})]}],behaviours:an([eo.config({mode:"acyclic",useTabstopAt:Ue(ox)})])};return si.parts.body(ve)})(s),k=s.buttons.bind(De=>De.length===0?I.none():I.some(ZO({buttons:De},b,f))),E=((De,ve)=>{const be=(Pe,Le)=>Lt(Pe,(et,ht)=>{Ee(et,(zt,Bt)=>{Le(ye,zt,ht.event,et)})}),Ee=(Pe,Le)=>{Su.getState(Pe).get().each(et=>{Le(et,Pe)})};return[...jO(be,ve),be(wg,(Pe,Le,et)=>{Le.onAction(Pe,{name:et.name})})]})(0,SB(()=>pe,f.shared.providers,l)),N={...s.height.fold(()=>({}),De=>({height:De+"px","max-height":De+"px"})),...s.width.fold(()=>({}),De=>({width:De+"px","max-width":De+"px"}))},$=s.width.isNone()&&s.height.isNone()?["tox-dialog--width-lg"]:[],B=new GO(s.url,{base_uri:new GO(window.location.href)}),W=`${B.protocol}://${B.host}${B.port?":"+B.port:""}`,J=Mc(),se=[Su.config({channel:`${iv}-${b}`,updateState:(De,ve)=>I.some(ve),initialData:s}),jo("messages",[hr(()=>{const De=Ll(Sn(window),"message",ve=>{if(B.isSameOrigin(new GO(ve.raw.origin))){const be=ve.raw.data;qO(be)?((Ee,Pe,Le)=>{switch(Le.mceAction){case"insertContent":Ee.insertContent(Le.content);break;case"setContent":Ee.setContent(Le.content);break;case"execCommand":const et=!!O(Le.ui)&&Le.ui;Ee.execCommand(Le.cmd,et,Le.value);break;case"close":Pe.close();break;case"block":Pe.block(Le.message);break;case"unblock":Pe.unblock()}})(d,ye,be):(Ee=>!qO(Ee)&&x(Ee)&&uo(Ee,"mceAction"))(be)&&s.onMessage(ye,be)}});J.set(De)}),Ku(J.clear)]),fc.config({channels:{[L3]:{onReceive:(De,ve)=>{Lr(De.element,"iframe").each(be=>{const Ee=be.dom.contentWindow;K(Ee)&&Ee.postMessage(ve,W)})}}}})],pe=kB({id:b,header:v,body:C,footer:k,extraClasses:$,extraBehaviours:se,extraStyles:N},E,f),ye=(De=>{const ve=be=>{De.getSystem().isConnected()&&be(De)};return{block:be=>{if(!h(be))throw new Error("The urlDialogInstanceAPI.block function should be passed a blocking message of type string as an argument");ve(Ee=>{Xn(Ee,e3,{message:be})})},unblock:()=>{ve(be=>{Wo(be,t3)})},close:()=>{ve(be=>{Wo(be,nv)})},sendMessage:be=>{ve(Ee=>{Ee.getSystem().broadcastOn([L3],be)})}}})(pe);return{dialog:pe,instanceApi:ye}},YO=(s,l)=>Da(Ir("data",l,s)),IB=s=>ex(s,".tox-alert-dialog")||ex(s,".tox-confirm-dialog"),EH=(s,l,d)=>l&&d?[]:[Mr.config({contextual:{lazyContext:()=>I.some(ai(Sn(s.getContentAreaContainer()))),fadeInClass:"tox-dialog-dock-fadein",fadeOutClass:"tox-dialog-dock-fadeout",transitionClass:"tox-dialog-dock-transition"},modes:["top"],lazyViewport:f=>Kb(s,f.element).map(b=>({bounds:jb(b),optScrollEnv:I.some({currentScrollTop:b.element.dom.scrollTop,scrollElmTop:Dl(b.element).top})})).getOrThunk(()=>({bounds:Ni(),optScrollEnv:I.none()}))})],TH=s=>{const l=s.editor,d=Bp(l),f=(E=>{const N=E.shared;return{open:($,B)=>{const W=()=>{si.hide(ye),B()},J=Ks(ix({name:"close-alert",text:"OK",primary:!0,buttonType:I.some("primary"),align:"end",enabled:!0,icon:I.none()},"cancel",E)),se=$O(),pe=FO(W,N.providers),ye=Ma(VO({lazySink:()=>N.getSink(),header:hC(se,pe),body:bB($,N.providers),footer:I.some(vB(yB([],[J.asSpec()]))),onEscape:W,extraClasses:["tox-alert-dialog"],extraBehaviours:[],extraStyles:{},dialogEvents:[Lt(Up,W)],eventOrder:{}}));si.show(ye);const De=J.get(ye);Eo.focus(De)}}})(s.backstages.dialog),b=(E=>{const N=E.shared;return{open:($,B)=>{const W=be=>{si.hide(De),B(be)},J=Ks(ix({name:"yes",text:"Yes",primary:!0,buttonType:I.some("primary"),align:"end",enabled:!0,icon:I.none()},"submit",E)),se=ix({name:"no",text:"No",primary:!1,buttonType:I.some("secondary"),align:"end",enabled:!0,icon:I.none()},"cancel",E),pe=$O(),ye=FO(()=>W(!1),N.providers),De=Ma(VO({lazySink:()=>N.getSink(),header:hC(pe,ye),body:bB($,N.providers),footer:I.some(vB(yB([],[se,J.asSpec()]))),onEscape:()=>W(!1),extraClasses:["tox-confirm-dialog"],extraBehaviours:[],extraStyles:{},dialogEvents:[Lt(Up,()=>W(!1)),Lt(B2,()=>W(!0))],eventOrder:{}}));si.show(De);const ve=J.get(De);Eo.focus(ve)}}})(s.backstages.dialog),v=(E,N)=>g1.open(($,B,W)=>{const J=B,se=((pe,ye,De)=>{const ve=Nn("dialog"),be=pe.internalDialog,Ee=wB(be.title,ve,De),Pe=Wn(be.size),Le=bC(Pe.get()).toArray(),et=((Ro,as,kr,Br)=>{const Zo=Bk(Ro,as,I.none(),kr,!1,Br);return si.parts.body(Zo)})({body:be.body,initialData:be.initialData},ve,De,Ro=>yC(Kn,Ro)),ht=vC(be.buttons),zt=EB(ht),Bt=Go(ht.length!==0,ZO({buttons:ht},ve,De)),Pt=TB(()=>ro,SB(()=>In,De.shared.providers,ye),De.shared.getSink),sn={id:ve,header:Ee,body:et,footer:Bt,extraClasses:Le,extraBehaviours:[Su.config({channel:`${iv}-${ve}`,updateState:(Ro,as)=>(Pe.set(as.internalDialog.size),KO(as.internalDialog.size,Ro),I.some(as)),initialData:pe})],extraStyles:{}},In=kB(sn,Pt,De),Kn={getId:q(ve),getRoot:q(In),getBody:()=>si.getBody(In),getFooter:()=>si.getFooter(In),getFormWrapper:()=>{const Ro=si.getBody(In);return Os.getCurrent(Ro).getOr(Ro)},toggleFullscreen:()=>{_B(In,Pe.get())}},ro=OB(Kn,ye.redial,zt);return{dialog:In,instanceApi:ro}})({dataValidator:W,initialData:J,internalDialog:$},{redial:g1.redial,closeWindow:()=>{si.hide(se.dialog),N(se.instanceApi)}},s.backstages.dialog);return si.show(se.dialog),se.instanceApi.setData(J),se.instanceApi},E),C=(E,N,$,B)=>g1.open((W,J,se)=>{const pe=YO(J,se),ye=Ss(),De=s.backstages.popup.shared.header.isPositionedAtTop(),ve=()=>ye.on(Pe=>{zr.reposition(Pe),d&&De||Mr.refresh(Pe)}),be=RB({dataValidator:se,initialData:pe,internalDialog:W},{redial:g1.redial,closeWindow:()=>{ye.on(zr.hide),l.off("ResizeEditor",ve),ye.clear(),$(be.instanceApi)}},s.backstages.popup,B.ariaAttrs,ve),Ee=Ma(zr.sketch({lazySink:s.backstages.popup.shared.getSink,dom:{tag:"div",classes:[]},fireDismissalEventInstead:B.persistent?{event:"doNotDismissYet"}:{},...De?{}:{fireRepositionEventInstead:{}},inlineBehaviours:an([jo("window-manager-inline-events",[Lt(Ym(),(Pe,Le)=>{Wo(be.dialog,Up)})]),...EH(l,d,De)]),isExtraPart:(Pe,Le)=>IB(Le)}));return ye.set(Ee),zr.showWithinBounds(Ee,ql(be.dialog),{anchor:N},()=>{const Pe=l.inline?Tn():Sn(l.getContainer()),Le=ai(Pe);return I.some(Le)}),d&&De||(Mr.refresh(Ee),l.on("ResizeEditor",ve)),be.instanceApi.setData(pe),eo.focusIn(be.dialog),be.instanceApi},E),k=(E,N,$,B)=>g1.open((W,J,se)=>{const pe=YO(J,se),ye=Ss(),De=s.backstages.popup.shared.header.isPositionedAtTop(),ve=()=>ye.on(Pe=>{zr.reposition(Pe),Mr.refresh(Pe)}),be=RB({dataValidator:se,initialData:pe,internalDialog:W},{redial:g1.redial,closeWindow:()=>{ye.on(zr.hide),l.off("ResizeEditor ScrollWindow ElementScroll",ve),ye.clear(),$(be.instanceApi)}},s.backstages.popup,B.ariaAttrs,ve),Ee=Ma(zr.sketch({lazySink:s.backstages.popup.shared.getSink,dom:{tag:"div",classes:[]},fireDismissalEventInstead:B.persistent?{event:"doNotDismissYet"}:{},...De?{}:{fireRepositionEventInstead:{}},inlineBehaviours:an([jo("window-manager-inline-events",[Lt(Ym(),(Pe,Le)=>{Wo(be.dialog,Up)})]),Mr.config({contextual:{lazyContext:()=>I.some(ai(Sn(l.getContentAreaContainer()))),fadeInClass:"tox-dialog-dock-fadein",fadeOutClass:"tox-dialog-dock-fadeout",transitionClass:"tox-dialog-dock-transition"},modes:["top","bottom"],lazyViewport:Pe=>Kb(l,Pe.element).map(Le=>({bounds:jb(Le),optScrollEnv:I.some({currentScrollTop:Le.element.dom.scrollTop,scrollElmTop:Dl(Le.element).top})})).getOrThunk(()=>({bounds:Ni(),optScrollEnv:I.none()}))})]),isExtraPart:(Pe,Le)=>IB(Le)}));return ye.set(Ee),zr.showWithinBounds(Ee,ql(be.dialog),{anchor:N},()=>s.backstages.popup.shared.getSink().toOptional().bind(Pe=>{const Le=Kb(l,Pe.element).map(zt=>jb(zt)).getOr(Ni()),et=ai(Sn(l.getContentAreaContainer())),ht=au(et,Le);return I.some(qo(ht.x,ht.y,ht.width,ht.height-15))})),Mr.refresh(Ee),l.on("ResizeEditor ScrollWindow ElementScroll ResizeWindow",ve),be.instanceApi.setData(pe),eo.focusIn(be.dialog),be.instanceApi},E);return{open:(E,N,$)=>{if(!M(N)){if(N.inline==="toolbar")return C(E,s.backstages.popup.shared.anchors.inlineDialog(),$,N);if(N.inline==="bottom")return k(E,s.backstages.popup.shared.anchors.inlineBottomDialog(),$,N);if(N.inline==="cursor")return C(E,s.backstages.popup.shared.anchors.cursor(),$,N)}return v(E,$)},openUrl:(E,N)=>(($,B)=>g1.openUrl(W=>{const J=kH(W,{closeWindow:()=>{si.hide(J.dialog),B(J.instanceApi)}},l,s.backstages.dialog);return si.show(J.dialog),J.instanceApi},$))(E,N),alert:(E,N)=>{f.open(E,N)},close:E=>{E.close()},confirm:(E,N)=>{b.open(E,N)}}};Xf.add("silver",s=>{(k=>{BD(k),(E=>{const N=E.options.register,$=W=>re(W,h)?{value:Z7(W),valid:!0}:{valid:!1,message:"Must be an array of strings."},B=W=>Q(W)&&W>0?{value:W,valid:!0}:{valid:!1,message:"Must be a positive number."};N("color_map",{processor:$,default:["#BFEDD2","Light Green","#FBEEB8","Light Yellow","#F8CAC6","Light Red","#ECCAFA","Light Purple","#C2E0F4","Light Blue","#2DC26B","Green","#F1C40F","Yellow","#E03E2D","Red","#B96AD9","Purple","#3598DB","Blue","#169179","Dark Turquoise","#E67E23","Orange","#BA372A","Dark Red","#843FA1","Dark Purple","#236FA1","Dark Blue","#ECF0F1","Light Gray","#CED4D9","Medium Gray","#95A5A6","Gray","#7E8C8D","Dark Gray","#34495E","Navy Blue","#000000","Black","#ffffff","White"]}),N("color_map_background",{processor:$}),N("color_map_foreground",{processor:$}),N("color_cols",{processor:B,default:v_(E)}),N("color_cols_foreground",{processor:B,default:rN(E,PA)}),N("color_cols_background",{processor:B,default:rN(E,NA)}),N("custom_colors",{processor:"boolean",default:!0}),N("color_default_foreground",{processor:"string",default:R2}),N("color_default_background",{processor:"string",default:R2})})(k),(E=>{const N=E.options.register;N("contextmenu_avoid_overlap",{processor:"string",default:""}),N("contextmenu_never_use_native",{processor:"boolean",default:!1}),N("contextmenu",{processor:$=>$===!1?{value:[],valid:!0}:h($)||re($,h)?{value:eL($),valid:!0}:{valid:!1,message:"Must be false or a string."},default:"link linkchecker image editimage table spellchecker configurepermanentpen"})})(k)})(s);let l=()=>Ni();const{dialogs:d,popups:f,renderUI:b}=Mz(s,{getPopupSinkBounds:()=>l()});_N(s,f.backstage.shared);const v=TH({editor:s,backstages:{popup:f.backstage,dialog:d.backstage}}),C=Ss();return{renderUI:()=>{const k=b();return Kb(s,f.getMothership().element).each(E=>{l=()=>jb(E)}),k},getWindowManagerImpl:q(v),getNotificationManagerImpl:()=>uP(s,{backstage:f.backstage},f.getMothership(),C)}})})();(function(){var t=tinymce.util.Tools.resolve("tinymce.ModelManager");const r=y=>_=>(A=>{const F=typeof A;return A===null?"null":F==="object"&&Array.isArray(A)?"array":F==="object"&&(j=G=A,(le=String).prototype.isPrototypeOf(j)||((me=G.constructor)===null||me===void 0?void 0:me.name)===le.name)?"string":F;var j,G,le,me})(_)===y,i=y=>_=>typeof _===y,u=y=>_=>y===_,g=r("string"),h=r("object"),x=r("array"),w=u(null),R=i("boolean"),D=u(void 0),O=y=>!(_=>_==null)(y),M=i("function"),H=i("number"),K=()=>{},Z=y=>()=>y,Q=y=>y,re=(y,_)=>y===_;function U(y,..._){return(...A)=>{const F=_.concat(A);return y.apply(null,F)}}const ge=y=>_=>!y(_),de=y=>y(),q=Z(!1),he=Z(!0);class oe{constructor(_,A){this.tag=_,this.value=A}static some(_){return new oe(!0,_)}static none(){return oe.singletonNone}fold(_,A){return this.tag?A(this.value):_()}isSome(){return this.tag}isNone(){return!this.tag}map(_){return this.tag?oe.some(_(this.value)):oe.none()}bind(_){return this.tag?_(this.value):oe.none()}exists(_){return this.tag&&_(this.value)}forall(_){return!this.tag||_(this.value)}filter(_){return!this.tag||_(this.value)?this:oe.none()}getOr(_){return this.tag?this.value:_}or(_){return this.tag?this:_}getOrThunk(_){return this.tag?this.value:_()}orThunk(_){return this.tag?this:_()}getOrDie(_){if(this.tag)return this.value;throw new Error(_??"Called getOrDie on None")}static from(_){return O(_)?oe.some(_):oe.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(_){this.tag&&_(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}oe.singletonNone=new oe(!1);const _e=Array.prototype.slice,Ue=Array.prototype.indexOf,Qe=Array.prototype.push,ct=(y,_)=>{return A=y,F=_,Ue.call(A,F)>-1;var A,F},Ce=(y,_)=>{for(let A=0,F=y.length;A<F;A++)if(_(y[A],A))return!0;return!1},Te=(y,_)=>{const A=[];for(let F=0;F<y;F++)A.push(_(F));return A},I=(y,_)=>{const A=y.length,F=new Array(A);for(let j=0;j<A;j++){const G=y[j];F[j]=_(G,j)}return F},dt=(y,_)=>{for(let A=0,F=y.length;A<F;A++)_(y[A],A)},gt=(y,_)=>{const A=[],F=[];for(let j=0,G=y.length;j<G;j++){const le=y[j];(_(le,j)?A:F).push(le)}return{pass:A,fail:F}},Ft=(y,_)=>{const A=[];for(let F=0,j=y.length;F<j;F++){const G=y[F];_(G,F)&&A.push(G)}return A},en=(y,_,A)=>(((F,j)=>{for(let G=F.length-1;G>=0;G--)j(F[G],G)})(y,(F,j)=>{A=_(A,F,j)}),A),ft=(y,_,A)=>(dt(y,(F,j)=>{A=_(A,F,j)}),A),Rn=(y,_)=>((A,F,j)=>{for(let G=0,le=A.length;G<le;G++){const me=A[G];if(F(me,G))return oe.some(me);if(j(me,G))break}return oe.none()})(y,_,q),Ot=(y,_)=>{for(let A=0,F=y.length;A<F;A++)if(_(y[A],A))return oe.some(A);return oe.none()},rt=y=>{const _=[];for(let A=0,F=y.length;A<F;++A){if(!x(y[A]))throw new Error("Arr.flatten item "+A+" was not an array, input: "+y);Qe.apply(_,y[A])}return _},Ve=(y,_)=>rt(I(y,_)),bt=(y,_)=>{for(let A=0,F=y.length;A<F;++A)if(_(y[A],A)!==!0)return!1;return!0},Yn=(y,_)=>{const A={};for(let F=0,j=y.length;F<j;F++){const G=y[F];A[String(G)]=_(G,F)}return A},Yt=(y,_)=>_>=0&&_<y.length?oe.some(y[_]):oe.none(),Bn=y=>Yt(y,0),Jt=y=>Yt(y,y.length-1),te=(y,_)=>{for(let A=0;A<y.length;A++){const F=_(y[A],A);if(F.isSome())return F}return oe.none()},vo=Object.keys,nn=Object.hasOwnProperty,yn=(y,_)=>{const A=vo(y);for(let F=0,j=A.length;F<j;F++){const G=A[F];_(y[G],G)}},qe=(y,_)=>it(y,(A,F)=>({k:F,v:_(A,F)})),it=(y,_)=>{const A={};return yn(y,(F,j)=>{const G=_(F,j);A[G.k]=G.v}),A},Se=(y,_)=>{const A=[];return yn(y,(F,j)=>{A.push(_(F,j))}),A},Me=y=>Se(y,Q),Ke=(y,_)=>nn.call(y,_),xe=typeof window<"u"?window:Function("return this;")(),Re=(y,_)=>((A,F)=>{let j=F??xe;for(let G=0;G<A.length&&j!=null;++G)j=j[A[G]];return j})(y.split("."),_),Fe=Object.getPrototypeOf,Je=y=>{const _=Re("ownerDocument.defaultView",y);return h(y)&&((A=>((F,j)=>{const G=((le,me)=>Re(le,me))(F,j);if(G==null)throw new Error(F+" not available on this browser");return G})("HTMLElement",A))(_).prototype.isPrototypeOf(y)||/^HTML\w*Element$/.test(Fe(y).constructor.name))},wt=y=>y.dom.nodeName.toLowerCase(),pn=y=>y.dom.nodeType,Qt=y=>_=>pn(_)===y,An=y=>pn(y)===8||wt(y)==="#comment",no=y=>co(y)&&Je(y.dom),co=Qt(1),Jo=Qt(3),Ho=Qt(9),sr=Qt(11),Cs=y=>_=>co(_)&&wt(_)===y,ri=(y,_,A)=>{if(!(g(A)||R(A)||H(A)))throw console.error("Invalid call to Attribute.set. Key ",_,":: Value ",A,":: Element ",y),new Error("Attribute value was not simple");y.setAttribute(_,A+"")},xs=(y,_,A)=>{ri(y.dom,_,A)},aa=(y,_)=>{const A=y.dom;yn(_,(F,j)=>{ri(A,j,F)})},cn=(y,_)=>{const A=y.dom.getAttribute(_);return A===null?void 0:A},uo=(y,_)=>oe.from(cn(y,_)),$o=(y,_)=>{y.dom.removeAttribute(_)},mi=y=>ft(y.dom.attributes,(_,A)=>(_[A.name]=A.value,_),{}),ul=y=>{if(y==null)throw new Error("Node cannot be null or undefined");return{dom:y}},tn={fromHtml:(y,_)=>{const A=(_||document).createElement("div");if(A.innerHTML=y,!A.hasChildNodes()||A.childNodes.length>1){const F="HTML does not have a single root node";throw console.error(F,y),new Error(F)}return ul(A.childNodes[0])},fromTag:(y,_)=>{const A=(_||document).createElement(y);return ul(A)},fromText:(y,_)=>{const A=(_||document).createTextNode(y);return ul(A)},fromDom:ul,fromPoint:(y,_,A)=>oe.from(y.dom.elementFromPoint(_,A)).map(ul)},ki=(y,_)=>{const A=y.dom;if(A.nodeType!==1)return!1;{const F=A;if(F.matches!==void 0)return F.matches(_);if(F.msMatchesSelector!==void 0)return F.msMatchesSelector(_);if(F.webkitMatchesSelector!==void 0)return F.webkitMatchesSelector(_);if(F.mozMatchesSelector!==void 0)return F.mozMatchesSelector(_);throw new Error("Browser lacks native selectors")}},Go=y=>y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11||y.childElementCount===0,Wl=(y,_)=>{const A=_===void 0?document:_.dom;return Go(A)?oe.none():oe.from(A.querySelector(y)).map(tn.fromDom)},js=(y,_)=>y.dom===_.dom,ii=(y,_)=>{const A=y.dom,F=_.dom;return A!==F&&A.contains(F)},Oc=ki,Rc=y=>tn.fromDom(y.dom.ownerDocument),Ic=y=>Ho(y)?y:Rc(y),kl=y=>oe.from(y.dom.parentNode).map(tn.fromDom),Dc=y=>oe.from(y.dom.parentElement).map(tn.fromDom),Zs=(y,_)=>{const A=M(_)?_:q;let F=y.dom;const j=[];for(;F.parentNode!==null&&F.parentNode!==void 0;){const G=F.parentNode,le=tn.fromDom(G);if(j.push(le),A(le)===!0)break;F=G}return j},So=y=>oe.from(y.dom.previousSibling).map(tn.fromDom),dl=y=>oe.from(y.dom.nextSibling).map(tn.fromDom),Ui=y=>I(y.dom.childNodes,tn.fromDom),Du=(y,_)=>{const A=y.dom.childNodes;return oe.from(A[_]).map(tn.fromDom)},Sn=(y,_)=>{kl(y).each(A=>{A.dom.insertBefore(_.dom,y.dom)})},sc=(y,_)=>{dl(y).fold(()=>{kl(y).each(A=>{Tr(A,_)})},A=>{Sn(A,_)})},Kf=(y,_)=>{(F=>Du(F,0))(y).fold(()=>{Tr(y,_)},F=>{y.dom.insertBefore(_.dom,F.dom)})},Tr=(y,_)=>{y.dom.appendChild(_.dom)},jf=(y,_)=>{Sn(y,_),Tr(_,y)},fl=(y,_)=>{dt(_,(A,F)=>{const j=F===0?y:_[F-1];sc(j,A)})},Kl=(y,_)=>{dt(_,A=>{Tr(y,A)})},El=y=>{y.dom.textContent="",dt(Ui(y),_=>{dr(_)})},dr=y=>{const _=y.dom;_.parentNode!==null&&_.parentNode.removeChild(_)},la=y=>{const _=Ui(y);_.length>0&&fl(y,_),dr(y)},ml=(y,_)=>tn.fromDom(y.dom.cloneNode(_)),Zf=y=>ml(y,!1),nu=y=>ml(y,!0),Tl=(y,_)=>{const A=tn.fromTag(_),F=mi(y);return aa(A,F),A},Zd=["tfoot","thead","tbody","colgroup"],Pu=(y,_,A)=>({element:y,rowspan:_,colspan:A}),cs=(y,_,A)=>({element:y,cells:_,section:A}),Kr=(y,_,A)=>({element:y,isNew:_,isLocked:A}),gi=(y,_,A,F)=>({element:y,cells:_,section:A,isNew:F}),Gf=y=>tn.fromDom(y.dom.host),gl=y=>{const _=Jo(y)?y.dom.parentNode:y.dom;if(_==null||_.ownerDocument===null)return!1;const A=_.ownerDocument;return(G=>{const le=(Ie=>tn.fromDom(Ie.dom.getRootNode()))(G);return sr(me=le)&&O(me.dom.host)?oe.some(le):oe.none();var me})(tn.fromDom(_)).fold(()=>A.body.contains(_),(F=gl,j=Gf,G=>F(j(G))));var F,j},ou=y=>{const _=y.dom.body;if(_==null)throw new Error("Body is not available yet");return tn.fromDom(_)},Pi=(y,_)=>{let A=[];return dt(Ui(y),F=>{_(F)&&(A=A.concat([F])),A=A.concat(Pi(F,_))}),A},Ta=(y,_,A)=>((F,j,G)=>Ft(Zs(F,G),le=>ki(le,_)))(y,0,A),Aa=(y,_)=>((A,F)=>Ft(Ui(A),j=>ki(j,_)))(y),Vs=(y,_)=>((A,F)=>{const j=F===void 0?document:F.dom;return Go(j)?[]:I(j.querySelectorAll(A),tn.fromDom)})(_,y);var wr=(y,_,A,F,j)=>y(A,F)?oe.some(A):M(j)&&j(A)?oe.none():_(A,F,j);const Be=(y,_,A)=>{let F=y.dom;const j=M(A)?A:q;for(;F.parentNode;){F=F.parentNode;const G=tn.fromDom(F);if(_(G))return oe.some(G);if(j(G))break}return oe.none()},mt=(y,_,A)=>wr((F,j)=>j(F),Be,y,_,A),Ze=(y,_,A)=>Be(y,F=>ki(F,_),A),_t=(y,_)=>((A,F)=>Rn(A.dom.childNodes,j=>{return G=tn.fromDom(j),ki(G,_);var G}).map(tn.fromDom))(y),Ct=(y,_)=>Wl(_,y),lt=(y,_,A)=>wr((F,j)=>ki(F,j),Ze,y,_,A),rn=(y,_,A=re)=>y.exists(F=>A(F,_)),bn=y=>{const _=[],A=F=>{_.push(F)};for(let F=0;F<y.length;F++)y[F].each(A);return _},Cn=(y,_)=>y?oe.some(_):oe.none(),Tn=(y,_,A)=>_===""||y.length>=_.length&&y.substr(A,A+_.length)===_,_n=(y,_,A=0,F)=>{const j=y.indexOf(_,A);return j!==-1&&(!!D(F)||j+_.length<=F)},Po=(y,_)=>Tn(y,_,0),xn=(y,_)=>Tn(y,_,y.length-_.length),Ws=(y=>_=>_.replace(y,""))(/^\s+|\s+$/g),ns=y=>y.length>0,gs=y=>y.style!==void 0&&M(y.style.getPropertyValue),jr=(y,_,A)=>{if(!g(A))throw console.error("Invalid call to CSS.set. Property ",_,":: Value ",A,":: Element ",y),new Error("CSS value must be a string: "+A);gs(y)&&y.style.setProperty(_,A)},Uo=(y,_,A)=>{const F=y.dom;jr(F,_,A)},rc=(y,_)=>{const A=y.dom;yn(_,(F,j)=>{jr(A,j,F)})},Oa=(y,_)=>{const A=y.dom,F=window.getComputedStyle(A).getPropertyValue(_);return F!==""||gl(y)?F:_o(A,_)},_o=(y,_)=>gs(y)?y.style.getPropertyValue(_):"",Al=(y,_)=>{const A=y.dom,F=_o(A,_);return oe.from(F).filter(j=>j.length>0)},Ol=(y,_)=>{((A,F)=>{gs(A)&&A.style.removeProperty(F)})(y.dom,_),rn(uo(y,"style").map(Ws),"")&&$o(y,"style")},Or=(y,_,A=0)=>uo(y,_).map(F=>parseInt(F,10)).getOr(A),Gd=(y,_)=>Or(y,_,1),Jr=y=>Cs("col")(y)?Or(y,"span",1)>1:Gd(y,"colspan")>1,qf=(y,_)=>parseInt(Oa(y,_),10),Rl=Z(10),zs=Z(10),fd=(y,_)=>$m(y,_,he),$m=(y,_,A)=>Ve(Ui(y),F=>ki(F,_)?A(F)?[F]:[]:$m(F,_,A)),Vm=(y,_)=>((A,F,j=q)=>j(F)?oe.none():ct(A,wt(F))?oe.some(F):Ze(F,A.join(","),G=>ki(G,"table")||j(G)))(["td","th"],y,_),Rr=y=>fd(y,"th,td"),hl=y=>ki(y,"colgroup")?Aa(y,"col"):Ve(qd(y),_=>Aa(_,"col")),Il=(y,_)=>lt(y,"table",_),rr=y=>fd(y,"tr"),qd=y=>Il(y).fold(Z([]),_=>Aa(_,"colgroup")),Dl=(y,_)=>I(y,A=>{if(wt(A)==="colgroup"){const F=I(hl(A),j=>{const G=Or(j,"span",1);return Pu(j,1,G)});return cs(A,F,"colgroup")}{const F=I(Rr(A),j=>{const G=Or(j,"rowspan",1),le=Or(j,"colspan",1);return Pu(j,G,le)});return cs(A,F,_(A))}}),ca=y=>kl(y).map(_=>{const A=wt(_);return(F=>ct(Zd,F))(A)?A:"tbody"}).getOr("tbody"),zm=y=>{const _=rr(y),A=[...qd(y),..._];return Dl(A,ca)},Wi=y=>{let _,A=!1;return(...F)=>(A||(A=!0,_=y.apply(null,F)),_)},Wa=()=>ua(0,0),ua=(y,_)=>({major:y,minor:_}),pl={nu:ua,detect:(y,_)=>{const A=String(_).toLowerCase();return y.length===0?Wa():((F,j)=>{const G=((me,Ie)=>{for(let je=0;je<me.length;je++){const st=me[je];if(st.test(Ie))return st}})(F,j);if(!G)return{major:0,minor:0};const le=me=>Number(j.replace(G,"$"+me));return ua(le(1),le(2))})(y,A)},unknown:Wa},zg=(y,_)=>{const A=String(_).toLowerCase();return Rn(y,F=>F.search(A))},os=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,su=y=>_=>_n(_,y),md=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:y=>_n(y,"edge/")&&_n(y,"chrome")&&_n(y,"safari")&&_n(y,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,os],search:y=>_n(y,"chrome")&&!_n(y,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:y=>_n(y,"msie")||_n(y,"trident")},{name:"Opera",versionRegexes:[os,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:su("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:su("firefox")},{name:"Safari",versionRegexes:[os,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:y=>(_n(y,"safari")||_n(y,"mobile/"))&&_n(y,"applewebkit")}],Nu=[{name:"Windows",search:su("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:y=>_n(y,"iphone")||_n(y,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:su("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:su("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:su("linux"),versionRegexes:[]},{name:"Solaris",search:su("sunos"),versionRegexes:[]},{name:"FreeBSD",search:su("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:su("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],np={browsers:Z(md),oses:Z(Nu)},$v="Edge",jl="Chromium",op="Opera",Vv="Firefox",Hg="Safari",yb=y=>{const _=y.current,A=y.version,F=j=>()=>_===j;return{current:_,version:A,isEdge:F($v),isChromium:F(jl),isIE:F("IE"),isOpera:F(op),isFirefox:F(Vv),isSafari:F(Hg)}},dn=()=>yb({current:void 0,version:pl.unknown()}),Yd=yb,Xd="Windows",Ug="Android",da="Linux",Jd="macOS",Yf="Solaris",zv="FreeBSD",xb="ChromeOS",wb=y=>{const _=y.current,A=y.version,F=j=>()=>_===j;return{current:_,version:A,isWindows:F(Xd),isiOS:F("iOS"),isAndroid:F(Ug),isMacOS:F(Jd),isLinux:F(da),isSolaris:F(Yf),isFreeBSD:F(zv),isChromeOS:F(xb)}},Z1=()=>wb({current:void 0,version:pl.unknown()}),Hv=wb,G1=y=>window.matchMedia(y).matches;let Wg=Wi(()=>((y,_,A)=>{const F=np.browsers(),j=np.oses(),G=_.bind(Ie=>((je,st)=>te(st.brands,ze=>{const Ge=ze.brand.toLowerCase();return Rn(je,Xe=>{var pt;return Ge===((pt=Xe.brand)===null||pt===void 0?void 0:pt.toLowerCase())}).map(Xe=>({current:Xe.name,version:pl.nu(parseInt(ze.version,10),0)}))}))(F,Ie)).orThunk(()=>((Ie,je)=>zg(Ie,je).map(st=>{const ze=pl.detect(st.versionRegexes,je);return{current:st.name,version:ze}}))(F,y)).fold(dn,Yd),le=((Ie,je)=>zg(Ie,je).map(st=>{const ze=pl.detect(st.versionRegexes,je);return{current:st.name,version:ze}}))(j,y).fold(Z1,Hv),me=((Ie,je,st,ze)=>{const Ge=Ie.isiOS()&&/ipad/i.test(st)===!0,Xe=Ie.isiOS()&&!Ge,pt=Ie.isiOS()||Ie.isAndroid(),yt=pt||ze("(pointer:coarse)"),Kt=Ge||!Xe&&pt&&ze("(min-device-width:768px)"),jt=Xe||pt&&!Kt,Wt=je.isSafari()&&Ie.isiOS()&&/safari/i.test(st)===!1,Gt=!jt&&!Kt&&!Wt;return{isiPad:Z(Ge),isiPhone:Z(Xe),isTablet:Z(Kt),isPhone:Z(jt),isTouch:Z(yt),isAndroid:Ie.isAndroid,isiOS:Ie.isiOS,isWebView:Z(Wt),isDesktop:Z(Gt)}})(le,G,y,A);return{browser:G,os:le,deviceType:me}})(window.navigator.userAgent,oe.from(window.navigator.userAgentData),G1));const ru=()=>Wg(),gd=(y,_)=>{const A=j=>{const G=_(j);if(G<=0||G===null){const le=Oa(j,y);return parseFloat(le)||0}return G},F=(j,G)=>ft(G,(le,me)=>{const Ie=Oa(j,me),je=Ie===void 0?0:parseInt(Ie,10);return isNaN(je)?le:le+je},0);return{set:(j,G)=>{if(!H(G)&&!G.match(/^[0-9]+$/))throw new Error(y+".set accepts only positive integer values. Value was "+G);const le=j.dom;gs(le)&&(le.style[y]=G+"px")},get:A,getOuter:A,aggregate:F,max:(j,G,le)=>{const me=F(j,le);return G>me?G-me:0}}},iu=(y,_,A)=>((F,j)=>(G=>{const le=parseFloat(G);return isNaN(le)?oe.none():oe.some(le)})(F).getOr(j))(Oa(y,_),A),Ki=gd("width",y=>y.dom.offsetWidth),Pl=y=>Ki.get(y),Qd=y=>Ki.getOuter(y),hs=y=>((_,A)=>{const F=_.dom,j=F.getBoundingClientRect().width||F.offsetWidth;return((G,le,me,Ie)=>le-iu(G,`padding-${me}`,0)-iu(G,`padding-${Ie}`,0)-iu(G,`border-${me}-width`,0)-iu(G,`border-${Ie}-width`,0))(_,j,"left","right")})(y),Pc=(y,_,A)=>{const F=y.cells,j=F.slice(0,_),G=F.slice(_),le=j.concat(A).concat(G);return bl(y,le)},Hm=(y,_,A)=>Pc(y,_,[A]),Um=(y,_,A)=>{y.cells[_]=A},bl=(y,_)=>gi(y.element,_,y.section,y.isNew),Qr=(y,_)=>y.cells[_],Cr=(y,_)=>Qr(y,_).element,Ji=y=>y.cells.length,fr=y=>{const _=gt(y,A=>A.section==="colgroup");return{rows:_.fail,cols:_.pass}},ef=(y,_,A)=>{const F=I(y.cells,A);return gi(_(y.element),F,y.section,!0)},tf="data-snooker-locked-cols",Ei=y=>uo(y,tf).bind(_=>oe.from(_.match(/\d+/g))).map(_=>Yn(_,he)),Ka=y=>{const _=ft(fr(y).rows,(F,j)=>(dt(j.cells,(G,le)=>{G.isLocked&&(F[le]=!0)}),F),{}),A=Se(_,(F,j)=>parseInt(j,10));return((F,j)=>{const G=_e.call(F,0);return G.sort(void 0),G})(A)},Ra=(y,_)=>y+","+_,hi=(y,_)=>{const A=Ve(y.all,F=>F.cells);return Ft(A,_)},hd=y=>{const _={},A=[],F=Bn(y).map(Ge=>Ge.element).bind(Il).bind(Ei).getOr({});let j=0,G=0,le=0;const{pass:me,fail:Ie}=gt(y,Ge=>Ge.section==="colgroup");dt(Ie,Ge=>{const Xe=[];dt(Ge.cells,pt=>{let yt=0;for(;_[Ra(le,yt)]!==void 0;)yt++;const Kt=((Wt,Gt)=>Ke(Wt,Gt)&&Wt[Gt]!==void 0&&Wt[Gt]!==null)(F,yt.toString()),jt=((Wt,Gt,fn,hn,St,Mn)=>({element:Wt,rowspan:Gt,colspan:fn,row:hn,column:St,isLocked:Mn}))(pt.element,pt.rowspan,pt.colspan,le,yt,Kt);for(let Wt=0;Wt<pt.colspan;Wt++)for(let Gt=0;Gt<pt.rowspan;Gt++){const fn=yt+Wt,hn=Ra(le+Gt,fn);_[hn]=jt,G=Math.max(G,fn+1)}Xe.push(jt)}),j++,A.push(cs(Ge.element,Xe,Ge.section)),le++});const{columns:je,colgroups:st}=Jt(me).map(Ge=>{const Xe=(yt=>{const Kt={};let jt=0;return dt(yt.cells,Wt=>{const Gt=Wt.colspan;Te(Gt,fn=>{const hn=jt+fn;Kt[hn]=((St,Mn,po)=>({element:St,colspan:Mn,column:po}))(Wt.element,Gt,hn)}),jt+=Gt}),Kt})(Ge);return{colgroups:[((yt,Kt)=>({element:yt,columns:Kt}))(Ge.element,Me(Xe))],columns:Xe}}).getOrThunk(()=>({colgroups:[],columns:{}}));return{grid:((Ge,Xe)=>({rows:Ge,columns:Xe}))(j,G),access:_,all:A,columns:je,colgroups:st}},qo=y=>{const _=zm(y);return hd(_)},ai=hd,ja=(y,_,A)=>oe.from(y.access[Ra(_,A)]),au=(y,_,A)=>{const F=hi(y,j=>A(_,j.element));return F.length>0?oe.some(F[0]):oe.none()},Ni=hi,Wn=y=>Ve(y.all,_=>_.cells),Nc=y=>Me(y.columns),Mc=y=>vo(y.columns).length>0,Ss=(y,_)=>oe.from(y.columns[_]),Xf=(y,_=he)=>{const A=y.grid,F=Te(A.columns,Q),j=Te(A.rows,Q);return I(F,G=>sp(()=>Ve(j,le=>ja(y,le,G).filter(me=>me.column===G).toArray()),le=>le.colspan===1&&_(le.element),()=>ja(y,0,G)))},sp=(y,_,A)=>{const F=y();return Rn(F,_).orThunk(()=>oe.from(F[0]).orThunk(A)).map(j=>j.element)},lu=y=>{const _=y.grid,A=Te(_.rows,Q),F=Te(_.columns,Q);return I(A,j=>sp(()=>Ve(F,G=>ja(y,j,G).filter(le=>le.row===j).fold(Z([]),le=>[le])),G=>G.rowspan===1,()=>ja(y,j,0)))},ss=(y,_)=>A=>Ia(A)==="rtl"?_:y,Ia=y=>Oa(y,"direction")==="rtl"?"rtl":"ltr",Wm=gd("height",y=>{const _=y.dom;return gl(y)?_.getBoundingClientRect().height:_.offsetHeight}),Mu=y=>Wm.get(y),Kg=y=>Wm.getOuter(y),Lc=(y,_)=>({left:y,top:_,translate:(A,F)=>Lc(y+A,_+F)}),Za=Lc,cu=(y,_)=>y!==void 0?y:_!==void 0?_:0,nf=y=>{const _=y.dom.ownerDocument,A=_.body,F=_.defaultView,j=_.documentElement;if(A===y.dom)return Za(A.offsetLeft,A.offsetTop);const G=cu(F==null?void 0:F.pageYOffset,j.scrollTop),le=cu(F==null?void 0:F.pageXOffset,j.scrollLeft),me=cu(j.clientTop,A.clientTop),Ie=cu(j.clientLeft,A.clientLeft);return Ye(y).translate(le-Ie,G-me)},Ye=y=>{const _=y.dom,A=_.ownerDocument.body;return A===_?Za(A.offsetLeft,A.offsetTop):gl(y)?(F=>{const j=F.getBoundingClientRect();return Za(j.left,j.top)})(_):Za(0,0)},Jf=(y,_)=>({row:y,y:_}),qs=(y,_)=>({col:y,x:_}),rp=y=>nf(y).left+Qd(y),Km=y=>nf(y).left,wc=(y,_)=>qs(y,Km(_)),us=(y,_)=>qs(y,rp(_)),fa=y=>nf(y).top,ic=(y,_)=>Jf(y,fa(_)),Cc=(y,_)=>Jf(y,fa(_)+Kg(_)),uu=(y,_,A)=>{if(A.length===0)return[];const F=I(A.slice(1),(G,le)=>G.map(me=>y(le,me))),j=A[A.length-1].map(G=>_(A.length-1,G));return F.concat([j])},Lu={delta:Q,positions:y=>uu(ic,Cc,y),edge:fa},Qi=ss({delta:Q,edge:Km,positions:y=>uu(wc,us,y)},{delta:y=>-y,edge:rp,positions:y=>uu(us,wc,y)}),of={delta:(y,_)=>Qi(_).delta(y,_),positions:(y,_)=>Qi(_).positions(y,_),edge:y=>Qi(y).edge(y)},jm={unsupportedLength:["em","ex","cap","ch","ic","rem","lh","rlh","vw","vh","vi","vb","vmin","vmax","cm","mm","Q","in","pc","pt","px"],fixed:["px","pt"],relative:["%"],empty:[""]},jg=(()=>{const y="[0-9]+",_="[eE][+-]?"+y,A=j=>`(?:${j})?`,F=["Infinity",y+"\\."+A(y)+A(_),"\\."+y+A(_),y+A(_)].join("|");return new RegExp(`^([+-]?(?:${F}))(.*)$`)})(),Mi=/(\d+(\.\d+)?)%/,oo=/(\d+(\.\d+)?)px|em/,Bu=Cs("col"),Qf=Cs("tr"),ma=(y,_,A)=>{const F=Dc(y).getOrThunk(()=>ou(Rc(y)));return _(y)/A(F)*100},Fu=(y,_)=>{Uo(y,"width",_+"px")},Zl=(y,_)=>{Uo(y,"width",_+"%")},$u=(y,_)=>{Uo(y,"height",_+"px")},pd=y=>{const _=(A=>{return iu(F=A,"height",F.dom.offsetHeight)+"px";var F})(y);return _?((A,F,j,G)=>{const le=parseFloat(A);return xn(A,"%")&&wt(F)!=="table"?((me,Ie,je,st)=>{const ze=Il(me).map(Ge=>{const Xe=je(Ge);return Math.floor(Ie/100*Xe)}).getOr(Ie);return st(me,ze),ze})(F,le,j,G):le})(_,y,Mu,$u):Mu(y)},Li=(y,_)=>Al(y,_).orThunk(()=>uo(y,_).map(A=>A+"px")),Sc=y=>Li(y,"width"),du=y=>ma(y,Pl,hs),em=y=>{return Bu(y)?Pl(y):iu(_=y,"width",_.dom.offsetWidth);var _},Cb=y=>Qf(y)?Mu(y):((_,A,F)=>F(_)/Gd(_,"rowspan"))(y,0,pd),Vu=(y,_,A)=>{Uo(y,"width",_+A)},sf=y=>ma(y,Pl,hs)+"%",Zm=Z(Mi),Ir=Cs("col"),Da=y=>Sc(y).getOrThunk(()=>em(y)+"px"),Pa=y=>{return(_=y,Li(_,"height")).getOrThunk(()=>Cb(y)+"px");var _},Ga=(y,_,A,F,j,G)=>y.filter(F).fold(()=>G(((le,me)=>{if(me<0||me>=le.length-1)return oe.none();const Ie=le[me].fold(()=>{const st=(ze=>{const Ge=_e.call(ze,0);return Ge.reverse(),Ge})(le.slice(0,me));return te(st,(ze,Ge)=>ze.map(Xe=>({value:Xe,delta:Ge+1})))},st=>oe.some({value:st,delta:0})),je=le[me+1].fold(()=>{const st=le.slice(me+1);return te(st,(ze,Ge)=>ze.map(Xe=>({value:Xe,delta:Ge+1})))},st=>oe.some({value:st,delta:1}));return Ie.bind(st=>je.map(ze=>{const Ge=ze.delta+st.delta;return Math.abs(ze.value-st.value)/Ge}))})(A,_)),le=>j(le)),Ti=(y,_,A,F)=>{const j=Xf(y),G=Mc(y)?(Ie=>I(Nc(Ie),je=>oe.from(je.element)))(y):j,le=[oe.some(of.edge(_))].concat(I(of.positions(j,_),Ie=>Ie.map(je=>je.x))),me=ge(Jr);return I(G,(Ie,je)=>Ga(Ie,je,le,me,st=>{if((Ge=>{const Xe=ru().browser,pt=Xe.isChromium()||Xe.isFirefox();return!Ir(Ge)||pt})(st))return A(st);{const Ge=(ze=j[je])!=null?Q(ze):oe.none();return Ga(Ge,je,le,me,Xe=>F(oe.some(Pl(Xe))),F)}var ze},F))},tm=y=>y.map(_=>_+"px").getOr(""),pi=(y,_,A)=>Ti(y,_,em,F=>F.getOrThunk(A.minCellWidth)),ji=(y,_,A,F)=>{const j=lu(y),G=I(y.all,me=>oe.some(me.element)),le=[oe.some(Lu.edge(_))].concat(I(Lu.positions(j,_),me=>me.map(Ie=>Ie.y)));return I(G,(me,Ie)=>Ga(me,Ie,le,he,A,F))},Bc=(y,_)=>()=>gl(y)?_(y):parseFloat(Al(y,"width").getOr("0")),Ht=y=>{const _=Bc(y,F=>parseFloat(sf(F))),A=Bc(y,Pl);return{width:_,pixelWidth:A,getWidths:(F,j)=>((G,le,me)=>Ti(G,le,du,Ie=>Ie.fold(()=>me.minCellWidth(),je=>je/me.pixelWidth()*100)))(F,y,j),getCellDelta:F=>F/A()*100,singleColumnWidth:(F,j)=>[100-F],minCellWidth:()=>Rl()/A()*100,setElementWidth:Zl,adjustTableWidth:F=>{const j=_();Zl(y,j+F/100*j)},isRelative:!0,label:"percent"}},Bi=y=>{const _=Bc(y,Pl);return{width:_,pixelWidth:_,getWidths:(A,F)=>pi(A,y,F),getCellDelta:Q,singleColumnWidth:(A,F)=>[Math.max(Rl(),A+F)-A],minCellWidth:Rl,setElementWidth:Fu,adjustTableWidth:A=>{const F=_()+A;Fu(y,F)},isRelative:!1,label:"pixel"}},Zg=y=>Sc(y).fold(()=>(_=>{const A=Bc(_,Pl),F=Z(0);return{width:A,pixelWidth:A,getWidths:(j,G)=>pi(j,_,G),getCellDelta:F,singleColumnWidth:Z([0]),minCellWidth:F,setElementWidth:K,adjustTableWidth:K,isRelative:!0,label:"none"}})(y),_=>((A,F)=>Zm().exec(F)!==null?Ht(A):Bi(A))(y,_)),Sr=Bi,zu=Ht,qa=(y,_,A)=>{const F=y[A].element,j=tn.fromTag("td");Tr(j,tn.fromTag("br")),(_?Tr:Kf)(F,j)},Fc=((y,_)=>{const A=F=>y(F)?oe.from(F.dom.nodeValue):oe.none();return{get:F=>{if(!y(F))throw new Error("Can only get text value of a text node");return A(F).getOr("")},getOption:A,set:(F,j)=>{if(!y(F))throw new Error("Can only set raw text value of a text node");F.dom.nodeValue=j}}})(Jo),nm=y=>Fc.get(y),Ya=y=>Fc.getOption(y),ds=(y,_)=>Fc.set(y,_),$r=y=>wt(y)==="img"?1:Ya(y).fold(()=>Ui(y).length,_=>_.length),Hu=["img","br"],Zr=y=>Ya(y).filter(_=>_.trim().length!==0||_.indexOf("")>-1).isSome()||ct(Hu,wt(y))||(_=>no(_)&&cn(_,"contenteditable")==="false")(y),Gm=y=>((_,A)=>{const F=j=>{for(let G=0;G<j.childNodes.length;G++){const le=tn.fromDom(j.childNodes[G]);if(A(le))return oe.some(le);const me=F(j.childNodes[G]);if(me.isSome())return me}return oe.none()};return F(_.dom)})(y,Zr),$c=y=>ip(y,Zr),ip=(y,_)=>{const A=F=>{const j=Ui(F);for(let G=j.length-1;G>=0;G--){const le=j[G];if(_(le))return oe.some(le);const me=A(le);if(me.isSome())return me}return oe.none()};return A(y)},Dr={scope:["row","col"]},vt=y=>()=>{const _=tn.fromTag("td",y.dom);return Tr(_,tn.fromTag("br",y.dom)),_},Xa=y=>()=>tn.fromTag("col",y.dom),Vr=y=>()=>tn.fromTag("colgroup",y.dom),ac=y=>()=>tn.fromTag("tr",y.dom),Vc=(y,_,A)=>{const F=((j,G)=>{const le=Tl(j,G),me=Ui(nu(j));return Kl(le,me),le})(y,_);return yn(A,(j,G)=>{j===null?$o(F,G):xs(F,G,j)}),F},li=y=>y,ir=(y,_,A)=>{const F=(j,G)=>{((le,me)=>{const Ie=le.dom,je=me.dom;gs(Ie)&&gs(je)&&(je.style.cssText=Ie.style.cssText)})(j.element,G),Ol(G,"height"),j.colspan!==1&&Ol(G,"width")};return{col:j=>{const G=tn.fromTag(wt(j.element),_.dom);return F(j,G),y(j.element,G),G},colgroup:Vr(_),row:ac(_),cell:j=>{const G=tn.fromTag(wt(j.element),_.dom),le=A.getOr(["strong","em","b","i","span","font","h1","h2","h3","h4","h5","h6","p","div"]),me=le.length>0?((Ie,je,st)=>Gm(Ie).map(ze=>{const Ge=st.join(","),Xe=Ta(ze,Ge,pt=>js(pt,Ie));return en(Xe,(pt,yt)=>{const Kt=Zf(yt);return Tr(pt,Kt),Kt},je)}).getOr(je))(j.element,G,le):G;return Tr(me,tn.fromTag("br")),F(j,G),((Ie,je)=>{yn(Dr,(st,ze)=>uo(Ie,ze).filter(Ge=>ct(st,Ge)).each(Ge=>xs(je,ze,Ge)))})(j.element,G),y(j.element,G),G},replace:Vc,colGap:Xa(_),gap:vt(_)}},Hs=y=>({col:Xa(y),colgroup:Vr(y),row:ac(y),cell:vt(y),replace:li,colGap:Xa(y),gap:vt(y)}),ga=y=>_=>_.options.get(y),ha="100%",Nl=y=>{var _;const A=y.dom,F=(_=A.getParent(y.selection.getStart(),A.isBlock))!==null&&_!==void 0?_:y.getBody();return hs(tn.fromDom(F))+"px"},_c=y=>oe.from(y.options.get("table_clone_elements")),fu=ga("table_header_type"),bd=ga("table_column_resizing"),om=y=>bd(y)==="preservetable",Gg=y=>bd(y)==="resizetable",ap=ga("table_sizing_mode"),Uu=y=>ap(y)==="relative",L=y=>ap(y)==="fixed",Y=y=>ap(y)==="responsive",fe=ga("table_resize_bars"),We=ga("table_style_by_css"),tt=ga("table_merge_content_on_paste"),Ut=y=>{const _=y.options,A=_.get("table_default_attributes");return _.isSet("table_default_attributes")?A:((F,j)=>Y(F)||We(F)?j:L(F)?{...j,width:Nl(F)}:{...j,width:ha})(y,A)},lo=ga("table_use_colgroups"),Mo=y=>lt(y,"[contenteditable]"),ko=(y,_=!1)=>gl(y)?y.dom.isContentEditable:Mo(y).fold(Z(_),A=>jn(A)==="true"),jn=y=>y.dom.contentEditable,Is=y=>tn.fromDom(y.getBody()),ei=y=>_=>js(_,Is(y)),Pr=y=>{$o(y,"data-mce-style");const _=A=>$o(A,"data-mce-style");dt(Rr(y),_),dt(hl(y),_),dt(rr(y),_)},zc=y=>tn.fromDom(y.selection.getStart()),rf=y=>y.getBoundingClientRect().width,sm=y=>y.getBoundingClientRect().height,bi=y=>(_,A)=>{const F=_.dom.getStyle(A,y)||_.dom.getAttrib(A,y);return oe.from(F).filter(ns)},q1=bi("width"),lp=bi("height"),Uv=y=>mt(y,Cs("table")).exists(ko),Na=(y,_)=>{const A=_.column,F=_.column+_.colspan-1,j=_.row,G=_.row+_.rowspan-1;return A<=y.finishCol&&F>=y.startCol&&j<=y.finishRow&&G>=y.startRow},Gr=(y,_)=>_.column>=y.startCol&&_.column+_.colspan-1<=y.finishCol&&_.row>=y.startRow&&_.row+_.rowspan-1<=y.finishRow,ea=(y,_,A)=>{const F=au(y,_,js),j=au(y,A,js);return F.bind(G=>j.map(le=>{return me=G,Ie=le,{startRow:Math.min(me.row,Ie.row),startCol:Math.min(me.column,Ie.column),finishRow:Math.max(me.row+me.rowspan-1,Ie.row+Ie.rowspan-1),finishCol:Math.max(me.column+me.colspan-1,Ie.column+Ie.colspan-1)};var me,Ie}))},Wu=(y,_,A)=>ea(y,_,A).map(F=>{const j=Ni(y,U(Na,F));return I(j,G=>G.element)}),af=(y,_)=>au(y,_,(A,F)=>ii(F,A)).map(A=>A.element),cp=(y,_,A)=>{const F=vl(y);return Wu(F,_,A)},lc=(y,_,A,F,j)=>{const G=vl(y),le=js(y,A)?oe.some(_):af(G,_),me=js(y,j)?oe.some(F):af(G,F);return le.bind(Ie=>me.bind(je=>Wu(G,Ie,je)))},vl=qo;var qm=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","li","table","thead","tbody","tfoot","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],lf=()=>({up:Z({selector:Ze,closest:lt,predicate:Be,all:Zs}),down:Z({selector:Vs,predicate:Pi}),styles:Z({get:Oa,getRaw:Al,set:Uo,remove:Ol}),attrs:Z({get:cn,set:xs,remove:$o,copyTo:(y,_)=>{const A=mi(y);aa(_,A)}}),insert:Z({before:Sn,after:sc,afterAll:fl,append:Tr,appendAll:Kl,prepend:Kf,wrap:jf}),remove:Z({unwrap:la,remove:dr}),create:Z({nu:tn.fromTag,clone:y=>tn.fromDom(y.dom.cloneNode(!1)),text:tn.fromText}),query:Z({comparePosition:(y,_)=>y.dom.compareDocumentPosition(_.dom),prevSibling:So,nextSibling:dl}),property:Z({children:Ui,name:wt,parent:kl,document:y=>Ic(y).dom,isText:Jo,isComment:An,isElement:co,isSpecial:y=>{const _=wt(y);return ct(["script","noscript","iframe","noframes","noembed","title","style","textarea","xmp"],_)},getLanguage:y=>co(y)?uo(y,"lang"):oe.none(),getText:nm,setText:ds,isBoundary:y=>!!co(y)&&(wt(y)==="body"||ct(qm,wt(y))),isEmptyTag:y=>!!co(y)&&ct(["br","img","hr","input"],wt(y)),isNonEditable:y=>co(y)&&cn(y,"contenteditable")==="false"}),eq:js,is:Oc});const Jx=(y,_,A,F)=>{const j=_(y,A);return en(F,(G,le)=>{const me=_(y,le);return up(y,G,me)},j)},up=(y,_,A)=>_.bind(F=>A.filter(U(y.eq,F))),vd=lf(),cf=(y,_)=>((A,F,j)=>j.length>0?((G,le,me,Ie)=>Ie(G,le,me[0],me.slice(1)))(A,F,j,Jx):oe.none())(vd,(A,F)=>y(F),_),Un=y=>Ze(y,"table"),Hc=(y,_,A)=>{const F=j=>G=>A!==void 0&&A(G)||js(G,j);return js(y,_)?oe.some({boxes:oe.some([y]),start:y,finish:_}):Un(y).bind(j=>Un(_).bind(G=>{if(js(j,G))return oe.some({boxes:cp(j,y,_),start:y,finish:_});if(ii(j,G)){const le=Ta(_,"td,th",F(j)),me=le.length>0?le[le.length-1]:_;return oe.some({boxes:lc(j,y,j,_,G),start:y,finish:me})}if(ii(G,j)){const le=Ta(y,"td,th",F(G)),me=le.length>0?le[le.length-1]:y;return oe.some({boxes:lc(G,y,j,_,G),start:y,finish:me})}return((le,me,Ie)=>((je,st,ze,Ge=q)=>{const Xe=[st].concat(je.up().all(st)),pt=[ze].concat(je.up().all(ze)),yt=Gt=>Ot(Gt,Ge).fold(()=>Gt,fn=>Gt.slice(0,fn+1)),Kt=yt(Xe),jt=yt(pt),Wt=Rn(Kt,Gt=>Ce(jt,((fn,hn)=>U(fn.eq,hn))(je,Gt)));return{firstpath:Kt,secondpath:jt,shared:Wt}})(vd,le,me,void 0))(y,_).shared.bind(le=>lt(le,"table",A).bind(me=>{const Ie=Ta(_,"td,th",F(me)),je=Ie.length>0?Ie[Ie.length-1]:_,st=Ta(y,"td,th",F(me)),ze=st.length>0?st[st.length-1]:y;return oe.some({boxes:lc(me,y,j,_,G),start:ze,finish:je})}))}))},dp=(y,_)=>{const A=Vs(y,_);return A.length>0?oe.some(A):oe.none()},uf=(y,_,A)=>Ct(y,_).bind(F=>Ct(y,A).bind(j=>cf(Un,[F,j]).map(G=>({first:F,last:j,table:G})))),pa=(y,_,A,F,j)=>((G,le)=>Rn(G,me=>ki(me,le)))(y,j).bind(G=>((le,me,Ie)=>Il(le).bind(je=>((st,ze,Ge,Xe)=>au(st,ze,js).bind(pt=>{const yt=Ge>0?pt.row+pt.rowspan-1:pt.row,Kt=Xe>0?pt.column+pt.colspan-1:pt.column;return ja(st,yt+Ge,Kt+Xe).map(jt=>jt.element)}))(vl(je),le,me,Ie)))(G,_,A).bind(le=>((me,Ie)=>Ze(me,"table").bind(je=>Ct(je,Ie).bind(st=>Hc(st,me).bind(ze=>ze.boxes.map(Ge=>({boxes:Ge,start:ze.start,finish:ze.finish}))))))(le,F))),Uc=(y,_)=>dp(y,_),Ym=(y,_,A)=>uf(y,_,A).bind(F=>{const j=Ie=>js(y,Ie),G="thead,tfoot,tbody,table",le=Ze(F.first,G,j),me=Ze(F.last,G,j);return le.bind(Ie=>me.bind(je=>js(Ie,je)?((st,ze,Ge)=>((Xe,pt,yt)=>ea(Xe,pt,yt).bind(Kt=>((jt,Wt)=>{let Gt=!0;const fn=U(Gr,Wt);for(let hn=Wt.startRow;hn<=Wt.finishRow;hn++)for(let St=Wt.startCol;St<=Wt.finishCol;St++)Gt=Gt&&ja(jt,hn,St).exists(fn);return Gt?oe.some(Wt):oe.none()})(Xe,Kt)))(vl(st),ze,Ge))(F.table,F.first,F.last):oe.none()))}),df=Q,Sb=y=>{const _=(A,F)=>uo(A,F).exists(j=>parseInt(j,10)>1);return y.length>0&&bt(y,A=>_(A,"rowspan")||_(A,"colspan"))?oe.some(y):oe.none()},mu=(y,_,A)=>_.length<=1?oe.none():Ym(y,A.firstSelectedSelector,A.lastSelectedSelector).map(F=>({bounds:F,cells:_})),qg="data-mce-selected",Yg="data-mce-first-selected",on="data-mce-last-selected",Wv="["+qg+"]",ff={selected:qg,selectedSelector:"td["+qg+"],th["+qg+"]",firstSelected:Yg,firstSelectedSelector:"td["+Yg+"],th["+Yg+"]",lastSelected:on,lastSelectedSelector:"td["+on+"],th["+on+"]"},Wo=(y,_,A)=>({element:A,mergable:mu(_,y,ff),unmergable:Sb(y),selection:df(y)}),Xn=y=>(_,A)=>{const F=wt(_),j=F==="col"||F==="colgroup"?Il(G=_).bind(le=>Uc(le,ff.firstSelectedSelector)).fold(Z(G),le=>le[0]):_;var G;return lt(j,y,A)},mf=Xn("th,td,caption"),Ar=Xn("th,td"),Wc=y=>{return _=y.model.table.getSelectedCells(),I(_,tn.fromDom);var _},Kc=(y,_)=>{y.on("BeforeGetContent",A=>{const F=j=>{A.preventDefault(),(G=>Il(G[0]).map(le=>{const me=((Ie,je)=>{const st=Gt=>ki(Gt.element,je),ze=nu(Ie),Ge=zm(ze),Xe=Zg(Ie),pt=ai(Ge),yt=((Gt,fn)=>{const hn=Gt.grid.columns;let St=Gt.grid.rows,Mn=hn,po=0,zo=0;const Ao=[],bo=[];return yn(Gt.access,Vo=>{if(Ao.push(Vo),fn(Vo)){bo.push(Vo);const ws=Vo.row,Ri=ws+Vo.rowspan-1,xl=Vo.column,La=xl+Vo.colspan-1;ws<St?St=ws:Ri>po&&(po=Ri),xl<Mn?Mn=xl:La>zo&&(zo=La)}}),((Vo,ws,Ri,xl,La,bu)=>({minRow:Vo,minCol:ws,maxRow:Ri,maxCol:xl,allCells:La,selectedCells:bu}))(St,Mn,po,zo,Ao,bo)})(pt,st),Kt="th:not("+je+"),td:not("+je+")",jt=$m(ze,"th,td",Gt=>ki(Gt,Kt));dt(jt,dr),((Gt,fn,hn,St)=>{const Mn=Ft(Gt,Ao=>Ao.section!=="colgroup"),po=fn.grid.columns,zo=fn.grid.rows;for(let Ao=0;Ao<zo;Ao++){let bo=!1;for(let Vo=0;Vo<po;Vo++)Ao<hn.minRow||Ao>hn.maxRow||Vo<hn.minCol||Vo>hn.maxCol||(ja(fn,Ao,Vo).filter(St).isNone()?qa(Mn,bo,Ao):bo=!0)}})(Ge,pt,yt,st);const Wt=((Gt,fn,hn,St)=>{if(St.minCol===0&&fn.grid.columns===St.maxCol+1)return 0;const Mn=pi(fn,Gt,hn),po=ft(Mn,(bo,Vo)=>bo+Vo,0),zo=ft(Mn.slice(St.minCol,St.maxCol+1),(bo,Vo)=>bo+Vo,0),Ao=zo/po*hn.pixelWidth()-hn.pixelWidth();return hn.getCellDelta(Ao)})(Ie,qo(Ie),Xe,yt);return((Gt,fn,hn,St)=>{yn(hn.columns,po=>{(po.column<fn.minCol||po.column>fn.maxCol)&&dr(po.element)});const Mn=Ft(fd(Gt,"tr"),po=>po.dom.childElementCount===0);dt(Mn,dr),fn.minCol!==fn.maxCol&&fn.minRow!==fn.maxRow||dt(fd(Gt,"th,td"),po=>{$o(po,"rowspan"),$o(po,"colspan")}),$o(Gt,tf),$o(Gt,"data-snooker-col-series"),Zg(Gt).adjustTableWidth(St)})(ze,yt,pt,Wt),ze})(le,Wv);return Pr(me),[me]}))(j).each(G=>{A.content=A.format==="text"?(le=>I(le,me=>me.dom.innerText).join(""))(G):((le,me)=>I(me,Ie=>le.selection.serializer.serialize(Ie.dom,{})).join(""))(y,G)})};if(A.selection===!0){const j=(G=>Ft(Wc(G),le=>ki(le,ff.selectedSelector)))(y);j.length>=1&&F(j)}}),y.on("BeforeSetContent",A=>{if(A.selection===!0&&A.paste===!0){const F=Wc(y);Bn(F).each(j=>{Il(j).each(G=>{const le=Ft(((Ie,je)=>{const st=document.createElement("div");return st.innerHTML=Ie,Ui(tn.fromDom(st))})(A.content),Ie=>wt(Ie)!=="meta"),me=Cs("table");if(tt(y)&&le.length===1&&me(le[0])){A.preventDefault();const Ie=tn.fromDom(y.getDoc()),je=Hs(Ie),st=((ze,Ge,Xe)=>({element:ze,clipboard:Ge,generators:Xe}))(j,le[0],je);_.pasteCells(G,st).each(()=>{y.focus()})}})})}})},To=(y,_)=>({element:y,offset:_}),Xg=(y,_,A)=>y.property().isText(_)&&y.property().getText(_).trim().length===0||y.property().isComment(_)?A(_).bind(F=>Xg(y,F,A).orThunk(()=>oe.some(F))):oe.none(),Y1=(y,_)=>y.property().isText(_)?y.property().getText(_).length:y.property().children(_).length,Lt=(y,_)=>{const A=Xg(y,_,y.query().prevSibling).getOr(_);if(y.property().isText(A))return To(A,Y1(y,A));const F=y.property().children(A);return F.length>0?Lt(y,F[F.length-1]):To(A,Y1(y,A))},Kv=Lt,Jg=lf(),Qg=(y,_)=>{Jr(y)||(F=>Sc(F).bind(j=>{return G=j,le=["fixed","relative","empty"],oe.from(jg.exec(G)).bind(me=>{const Ie=Number(me[1]),je=me[2];return((st,ze)=>Ce(ze,Ge=>Ce(jm[Ge],Xe=>st===Xe)))(je,le)?oe.some({value:Ie,unit:je}):oe.none()});var G,le}))(y).each(F=>{const j=F.value/2;Vu(y,j,F.unit),Vu(_,j,F.unit)})},Xm=y=>I(y,Z(0)),rm=(y,_,A,F,j)=>j(y.slice(0,_)).concat(F).concat(j(y.slice(A))),X1=y=>(_,A,F,j)=>{if(y(F)){const G=Math.max(j,_[A]-Math.abs(F)),le=Math.abs(G-_[A]);return F>=0?le:-le}return F},gf=X1(y=>y<0),hr=X1(he),Ku=()=>{const y=(A,F,j,G)=>{const le=(100+j)/100,me=Math.max(G,(A[F]+j)/le);return I(A,(Ie,je)=>(je===F?me:Ie/le)-Ie)},_=(A,F,j,G,le,me)=>me?y(A,F,G,le):((Ie,je,st,ze,Ge)=>{const Xe=gf(Ie,je,ze,Ge);return rm(Ie,je,st+1,[Xe,0],Xm)})(A,F,j,G,le);return{resizeTable:(A,F)=>A(F),clampTableDelta:gf,calcLeftEdgeDeltas:_,calcMiddleDeltas:(A,F,j,G,le,me,Ie)=>_(A,j,G,le,me,Ie),calcRightEdgeDeltas:(A,F,j,G,le,me)=>{if(me)return y(A,j,G,le);{const Ie=gf(A,j,G,le);return Xm(A.slice(0,j)).concat([Ie])}},calcRedestributedWidths:(A,F,j,G)=>{if(G){const le=(F+j)/F,me=I(A,Ie=>Ie/le);return{delta:100*le-100,newSizes:me}}return{delta:j,newSizes:A}}}},fp=()=>{const y=(_,A,F,j,G)=>{const le=hr(_,j>=0?F:A,j,G);return rm(_,A,F+1,[le,-le],Xm)};return{resizeTable:(_,A,F)=>{F&&_(A)},clampTableDelta:(_,A,F,j,G)=>{if(G){if(F>=0)return F;{const le=ft(_,(me,Ie)=>me+Ie-j,0);return Math.max(-le,F)}}return gf(_,A,F,j)},calcLeftEdgeDeltas:y,calcMiddleDeltas:(_,A,F,j,G,le)=>y(_,F,j,G,le),calcRightEdgeDeltas:(_,A,F,j,G,le)=>{if(le)return Xm(_);{const me=j/_.length;return I(_,Z(me))}},calcRedestributedWidths:(_,A,F,j)=>({delta:0,newSizes:_})}},gu=y=>qo(y).grid,im=Cs("th"),cc=y=>bt(y,_=>im(_.element)),Nr=(y,_)=>y&&_?"sectionCells":y?"section":"cells",am=y=>{const _=y.section==="thead",A=rn(Fi(y.cells),"th");return y.section==="tfoot"?{type:"footer"}:_||A?{type:"header",subType:Nr(_,A)}:{type:"body"}},Fi=y=>{const _=Ft(y,A=>im(A.element));return _.length===0?oe.some("td"):_.length===y.length?oe.some("th"):oe.none()},_b=(y,_,A)=>Kr(A(y.element,_),!0,y.isLocked),jc=(y,_)=>y.section!==_?gi(y.element,y.cells,_,y.isNew):y,Ai=()=>({transformRow:jc,transformCell:(y,_,A)=>{const F=A(y.element,_),j=wt(F)!=="td"?((G,le)=>{const me=Tl(G,"td");sc(G,me);const Ie=Ui(G);return Kl(me,Ie),dr(G),me})(F):F;return Kr(j,y.isNew,y.isLocked)}}),an=()=>({transformRow:jc,transformCell:_b}),lm=()=>({transformRow:(y,_)=>jc(y,_==="thead"?"tbody":_),transformCell:_b}),Zi=Ai,P=an,z=lm,ue=()=>({transformRow:Q,transformCell:_b}),Ae=(y,_,A,F)=>{A===F?$o(y,_):xs(y,_,A)},ot=(y,_,A)=>{Jt(Aa(y,_)).fold(()=>Kf(y,A),F=>sc(F,A))},Vt=(y,_)=>{const A=[],F=[],j=Ge=>I(Ge,Xe=>{Xe.isNew&&A.push(Xe.element);const pt=Xe.element;return El(pt),dt(Xe.cells,yt=>{yt.isNew&&F.push(yt.element),Ae(yt.element,"colspan",yt.colspan,1),Ae(yt.element,"rowspan",yt.rowspan,1),Tr(pt,yt.element)}),pt}),G=Ge=>Ve(Ge,Xe=>I(Xe.cells,pt=>(Ae(pt.element,"span",pt.colspan,1),pt.element))),le=(Ge,Xe)=>{const pt=((Kt,jt)=>{const Wt=_t(Kt,jt).getOrThunk(()=>{const Gt=tn.fromTag(jt,Rc(Kt).dom);return jt==="thead"?ot(Kt,"caption,colgroup",Gt):jt==="colgroup"?ot(Kt,"caption",Gt):Tr(Kt,Gt),Gt});return El(Wt),Wt})(y,Xe),yt=(Xe==="colgroup"?G:j)(Ge);Kl(pt,yt)},me=(Ge,Xe)=>{Ge.length>0?le(Ge,Xe):(pt=>{_t(y,pt).each(dr)})(Xe)},Ie=[],je=[],st=[],ze=[];return dt(_,Ge=>{switch(Ge.section){case"thead":Ie.push(Ge);break;case"tbody":je.push(Ge);break;case"tfoot":st.push(Ge);break;case"colgroup":ze.push(Ge)}}),me(ze,"colgroup"),me(Ie,"thead"),me(je,"tbody"),me(st,"tfoot"),{newRows:A,newCells:F}},un=(y,_)=>{if(y.length===0)return 0;const A=y[0];return Ot(y,F=>!_(A.element,F.element)).getOr(y.length)},$n=(y,_)=>{const A=I(y,F=>I(F.cells,q));return I(y,(F,j)=>{const G=Ve(F.cells,(le,me)=>{if(A[j][me]===!1){const Ge=((Xe,pt,yt,Kt)=>{const jt=((hn,St)=>hn[St])(Xe,pt),Wt=jt.section==="colgroup",Gt=un(jt.cells.slice(yt),Kt),fn=Wt?1:un(((hn,St)=>I(hn,Mn=>Qr(Mn,St)))(Xe.slice(pt),yt),Kt);return{colspan:Gt,rowspan:fn}})(y,j,me,_);return((Xe,pt,yt,Kt)=>{for(let jt=Xe;jt<Xe+yt;jt++)for(let Wt=pt;Wt<pt+Kt;Wt++)A[jt][Wt]=!0})(j,me,Ge.rowspan,Ge.colspan),[(Ie=le.element,je=Ge.rowspan,st=Ge.colspan,ze=le.isNew,{element:Ie,rowspan:je,colspan:st,isNew:ze})]}return[];var Ie,je,st,ze});return((le,me,Ie,je)=>({element:le,cells:me,section:Ie,isNew:je}))(F.element,G,F.section,F.isNew)})},Vn=(y,_,A)=>{const F=[];dt(y.colgroups,j=>{const G=[];for(let le=0;le<y.grid.columns;le++){const me=Ss(y,le).map(Ie=>Kr(Ie.element,A,!1)).getOrThunk(()=>Kr(_.colGap(),!0,!1));G.push(me)}F.push(gi(j.element,G,"colgroup",A))});for(let j=0;j<y.grid.rows;j++){const G=[];for(let Ie=0;Ie<y.grid.columns;Ie++){const je=ja(y,j,Ie).map(st=>Kr(st.element,A,st.isLocked)).getOrThunk(()=>Kr(_.gap(),!0,!1));G.push(je)}const le=y.all[j],me=gi(le.element,G,le.section,A);F.push(me)}return F},Ko=y=>$n(y,js),Fo=(y,_)=>te(y.all,A=>Rn(A.cells,F=>js(_,F.element))),es=(y,_,A)=>{const F=I(_.selection,G=>Vm(G).bind(le=>Fo(y,le)).filter(A)),j=bn(F);return Cn(j.length>0,j)},Qo=(y,_,A,F,j)=>(G,le,me,Ie)=>{const je=qo(G),st=oe.from(Ie==null?void 0:Ie.section).getOrThunk(ue);return _(je,le).map(ze=>{const Ge=((yt,Kt)=>Vn(yt,Kt,!1))(je,me),Xe=y(Ge,ze,js,j(me),st),pt=Ka(Xe.grid);return{info:ze,grid:Ko(Xe.grid),cursor:Xe.cursor,lockedColumns:pt}}).bind(ze=>{const Ge=Vt(G,ze.grid),Xe=oe.from(Ie==null?void 0:Ie.sizing).getOrThunk(()=>Zg(G)),pt=oe.from(Ie==null?void 0:Ie.resize).getOrThunk(fp);return A(G,ze.grid,ze.info,{sizing:Xe,resize:pt,section:st}),F(G),$o(G,tf),ze.lockedColumns.length>0&&xs(G,tf,ze.lockedColumns.join(",")),oe.some({cursor:ze.cursor,newRows:Ge.newRows,newCells:Ge.newCells})})},ci=(y,_)=>es(y,_,he).map(A=>({cells:A,generators:_.generators,clipboard:_.clipboard})),Ja=(y,_)=>es(y,_,he),qr=(y,_)=>es(y,_,A=>!A.isLocked),ju=(y,_)=>bt(_,A=>((F,j)=>Fo(F,j).exists(G=>!G.isLocked))(y,A)),cm=(y,_,A,F)=>{const j=fr(y).rows;let G=!0;for(let le=0;le<j.length;le++)for(let me=0;me<Ji(j[0]);me++){const Ie=j[le],je=Qr(Ie,me),st=A(je.element,_);st&&!G?Um(Ie,me,Kr(F(),!0,je.isLocked)):st&&(G=!1)}return y},hu=y=>{const _=G=>G(y),A=Z(y),F=()=>j,j={tag:!0,inner:y,fold:(G,le)=>le(y),isValue:he,isError:q,map:G=>yd.value(G(y)),mapError:F,bind:_,exists:_,forall:_,getOr:A,or:F,getOrThunk:A,orThunk:F,getOrDie:A,each:G=>{G(y)},toOptional:()=>oe.some(y)};return j},eh=y=>{const _=()=>A,A={tag:!1,inner:y,fold:(j,G)=>j(y),isValue:q,isError:he,map:_,mapError:j=>yd.error(j(y)),bind:_,exists:q,forall:he,getOr:Q,or:Q,getOrThunk:de,orThunk:de,getOrDie:(F=String(y),()=>{throw new Error(F)}),each:K,toOptional:oe.none};var F;return A},yd={value:hu,error:eh,fromOption:(y,_)=>y.fold(()=>eh(_),hu)},mp=(y,_)=>({rowDelta:0,colDelta:Ji(y[0])-Ji(_[0])}),Jm=(y,_)=>({rowDelta:y.length-_.length,colDelta:0}),um=(y,_,A,F)=>{const j=_.section==="colgroup"?A.col:A.cell;return Te(y,G=>Kr(j(),!0,F(G)))},kb=(y,_,A,F)=>{const j=y[y.length-1];return y.concat(Te(_,()=>{const G=j.section==="colgroup"?A.colgroup:A.row,le=ef(j,G,Q),me=um(le.cells.length,le,A,Ie=>Ke(F,Ie.toString()));return bl(le,me)}))},jv=(y,_,A,F)=>I(y,j=>{const G=um(_,j,A,q);return Pc(j,F,G)}),ps=(y,_,A)=>{const F=_.colDelta<0?jv:Q,j=_.rowDelta<0?kb:Q,G=Ka(y),le=Ji(y[0]),me=Ce(G,st=>st===le-1),Ie=F(y,Math.abs(_.colDelta),A,me?le-1:le),je=Ka(Ie);return j(Ie,Math.abs(_.rowDelta),A,Yn(je,he))},ti=(y,_,A,F)=>{const j=U(F,Qr(y[_],A).element),G=y[_];return y.length>1&&Ji(G)>1&&(A>0&&j(Cr(G,A-1))||A<G.cells.length-1&&j(Cr(G,A+1))||_>0&&j(Cr(y[_-1],A))||_<y.length-1&&j(Cr(y[_+1],A)))},Qa=(y,_,A)=>Ft(A,F=>F>=y.column&&F<=Ji(_[0])+y.column),Gl=(y,_,A,F,j)=>{((je,st,ze,Ge)=>{st>0&&st<je[0].cells.length&&dt(je,Xe=>{const pt=Xe.cells[st-1];let yt=0;const Kt=Ge();for(;Xe.cells.length>st+yt&&ze(pt.element,Xe.cells[st+yt].element);)Um(Xe,st+yt,Kr(Kt,!0,Xe.cells[st+yt].isLocked)),yt++})})(_,y,j,F.cell);const G=Jm(A,_),le=ps(A,G,F),me=Jm(_,le),Ie=ps(_,me,F);return I(Ie,(je,st)=>Pc(je,y,le[st].cells))},Zv=(y,_,A,F,j)=>{((Wt,Gt,fn,hn)=>{const St=fr(Wt).rows;if(Gt>0&&Gt<St.length){const Mn=((po,zo)=>ft(po,(Ao,bo)=>Ce(Ao,Vo=>zo(Vo.element,bo.element))?Ao:Ao.concat([bo]),[]))(St[Gt-1].cells,fn);dt(Mn,po=>{let zo=oe.none();for(let Ao=Gt;Ao<St.length;Ao++)for(let bo=0;bo<Ji(St[0]);bo++){const Vo=St[Ao],ws=Qr(Vo,bo);fn(ws.element,po.element)&&(zo.isNone()&&(zo=oe.some(hn())),zo.each(Ri=>{Um(Vo,bo,Kr(Ri,!0,ws.isLocked))}))}})}})(_,y,j,F.cell);const G=Ka(_),le=mp(_,A),me={...le,colDelta:le.colDelta-G.length},Ie=ps(_,me,F),{cols:je,rows:st}=fr(Ie),ze=Ka(Ie),Ge=mp(A,_),Xe={...Ge,colDelta:Ge.colDelta+ze.length},pt=(Kt=F,jt=ze,I(A,Wt=>ft(jt,(Gt,fn)=>{const hn=um(1,Wt,Kt,he)[0];return Hm(Gt,fn,hn)},Wt))),yt=ps(pt,Xe,F);var Kt,jt;return[...je,...st.slice(0,y),...yt,...st.slice(y,st.length)]},Gv=(y,_,A,F,j)=>{const{rows:G,cols:le}=fr(y),me=G.slice(0,_),Ie=G.slice(_);return[...le,...me,((je,st,ze,Ge)=>ef(je,Xe=>Ge(Xe,ze),st))(G[A],(je,st)=>_>0&&_<G.length&&F(Cr(G[_-1],st),Cr(G[_],st))?Qr(G[_],st):Kr(j(je.element,F),!0,je.isLocked),F,j),...Ie]},dm=(y,_,A,F,j)=>I(y,G=>{const le=_>0&&_<Ji(G)&&F(Cr(G,_-1),Cr(G,_)),me=((Ie,je,st,ze,Ge,Xe,pt)=>{if(st!=="colgroup"&&ze)return Qr(Ie,je);{const yt=Qr(Ie,Ge);return Kr(pt(yt.element,Xe),!0,!1)}})(G,_,G.section,le,A,F,j);return Hm(G,_,me)}),th=(y,_,A,F)=>((j,G,le,me)=>Cr(j[G],le)!==void 0&&G>0&&me(Cr(j[G-1],le),Cr(j[G],le)))(y,_,A,F)||((j,G,le)=>G>0&&le(Cr(j,G-1),Cr(j,G)))(y[_],A,F),Qx=(y,_,A,F)=>{const j=G=>(le=>le==="row"?(me=>Gd(me,"rowspan")>1)(_):Jr(_))(G)?`${G}group`:G;return y?im(_)?j(A):null:F&&im(_)?j(A==="row"?"col":"row"):null},qv=(y,_,A)=>Kr(A(y.element,_),!0,y.isLocked),Eb=(y,_,A,F,j,G,le)=>I(y,(me,Ie)=>((je,st)=>{const ze=je.cells,Ge=I(ze,(Xe,pt)=>{if((yt=>Ce(_,Kt=>A(yt.element,Kt.element)))(Xe)){const yt=le(Xe,Ie,pt)?j(Xe,A,F):Xe;return G(yt,Ie,pt).each(Kt=>{var jt,Wt;jt=yt.element,Wt={scope:oe.from(Kt)},yn(Wt,(Gt,fn)=>{Gt.fold(()=>{$o(jt,fn)},hn=>{ri(jt.dom,fn,hn)})})}),yt}return Xe});return gi(je.element,Ge,je.section,je.isNew)})(me)),ew=(y,_,A)=>Ve(y,(F,j)=>th(y,j,_,A)?[]:[Qr(F,_)]),Yv=(y,_,A,F,j)=>{const G=fr(y).rows,le=Ve(_,st=>ew(G,st,F)),me=I(G,st=>cc(st.cells)),Ie=((st,ze)=>bt(ze,Q)&&cc(st)?he:(Ge,Xe,pt)=>!(wt(Ge.element)==="th"&&ze[Xe]))(le,me);return Eb(y,le,F,j,qv,((st,ze)=>(Ge,Xe)=>oe.some(Qx(st,Ge.element,"row",ze[Xe])))(A,me),Ie)},Xv=(y,_,A,F)=>{const j=fr(y).rows,G=I(_,le=>Qr(j[le.row],le.column));return Eb(y,G,A,F,qv,oe.none,he)},nh=y=>{if(!x(y))throw new Error("cases must be an array");if(y.length===0)throw new Error("there must be at least one case");const _=[],A={};return dt(y,(F,j)=>{const G=vo(F);if(G.length!==1)throw new Error("one and only one name per case");const le=G[0],me=F[le];if(A[le]!==void 0)throw new Error("duplicate key detected:"+le);if(le==="cata")throw new Error("cannot have a case named cata (sorry)");if(!x(me))throw new Error("case arguments must be an array");_.push(le),A[le]=(...Ie)=>{const je=Ie.length;if(je!==me.length)throw new Error("Wrong number of arguments to case "+le+". Expected "+me.length+" ("+me+"), got "+je);return{fold:(...st)=>{if(st.length!==y.length)throw new Error("Wrong number of arguments to fold. Expected "+y.length+", got "+st.length);return st[j].apply(null,Ie)},match:st=>{const ze=vo(st);if(_.length!==ze.length)throw new Error("Wrong number of arguments to match. Expected: "+_.join(",")+`
Actual: `+ze.join(","));if(!bt(_,Ge=>ct(ze,Ge)))throw new Error("Not all branches were specified when using match. Specified: "+ze.join(", ")+`
Required: `+_.join(", "));return st[le].apply(null,Ie)},log:st=>{console.log(st,{constructors:_,constructor:le,params:Ie})}}}}),A},Tb={...nh([{none:[]},{only:["index"]},{left:["index","next"]},{middle:["prev","index","next"]},{right:["prev","index"]}])},tw=(y,_,A)=>{const F=((j,G)=>Mc(j)?((le,me)=>{const Ie=Nc(le);return I(Ie,(je,st)=>({element:je.element,width:me[st],colspan:je.colspan}))})(j,G):((le,me)=>{const Ie=Wn(le);return I(Ie,je=>{const st=((ze,Ge,Xe)=>{let pt=0;for(let yt=ze;yt<Ge;yt++)pt+=Xe[yt]!==void 0?Xe[yt]:0;return pt})(je.column,je.column+je.colspan,me);return{element:je.element,width:st,colspan:je.colspan}})})(j,G))(y,_);dt(F,j=>{A.setElementWidth(j.element,j.width)})},fm=(y,_,A,F,j)=>{const G=qo(y),le=j.getCellDelta(_),me=j.getWidths(G,j),Ie=A===G.grid.columns-1,je=F.clampTableDelta(me,A,le,j.minCellWidth(),Ie),st=((Ge,Xe,pt,yt,Kt)=>{const jt=Ge.slice(0),Wt=((fn,hn)=>fn.length===0?Tb.none():fn.length===1?Tb.only(0):hn===0?Tb.left(0,1):hn===fn.length-1?Tb.right(hn-1,hn):hn>0&&hn<fn.length-1?Tb.middle(hn-1,hn,hn+1):Tb.none())(Ge,Xe),Gt=Z(I(jt,Z(0)));return Wt.fold(Gt,fn=>yt.singleColumnWidth(jt[fn],pt),(fn,hn)=>Kt.calcLeftEdgeDeltas(jt,fn,hn,pt,yt.minCellWidth(),yt.isRelative),(fn,hn,St)=>Kt.calcMiddleDeltas(jt,fn,hn,St,pt,yt.minCellWidth(),yt.isRelative),(fn,hn)=>Kt.calcRightEdgeDeltas(jt,fn,hn,pt,yt.minCellWidth(),yt.isRelative))})(me,A,je,j,F),ze=I(st,(Ge,Xe)=>Ge+me[Xe]);tw(G,ze,j),F.resizeTable(j.adjustTableWidth,je,Ie)},gp=(y,_,A)=>{const F=qo(y),j=((Ie,je)=>ji(Ie,je,Cb,st=>st.getOrThunk(zs)))(F,y),G=I(j,(Ie,je)=>A===je?Math.max(_+Ie,zs()):Ie),le=((Ie,je)=>I(Ie.all,(st,ze)=>({element:st.element,height:je[ze]})))(F,G);dt(le,Ie=>{$u(Ie.element,Ie.height)}),dt(Wn(F),Ie=>{(je=>{Ol(je,"height")})(Ie.element)});const me=en(G,(Ie,je)=>Ie+je,0);$u(y,me)},hp=y=>ft(y,(_,A)=>Ce(_,F=>F.column===A.column)?_:_.concat([A]),[]).sort((_,A)=>_.column-A.column),mm=Cs("col"),Qm=Cs("colgroup"),Jv=y=>wt(y)==="tr"||Qm(y),qE=y=>({element:y,colspan:Or(y,"colspan",1),rowspan:Or(y,"rowspan",1)}),Qv=y=>uo(y,"scope").map(_=>_.substr(0,3)),Zu=(y,_=qE)=>{const A=j=>{if(Jv(j))return Qm((G={element:j}).element)?y.colgroup(G):y.row(G);{const le=j,me=(Ie=>mm(Ie.element)?y.col(Ie):y.cell(Ie))(_(le));return F=oe.some({item:le,replacement:me}),me}var G};let F=oe.none();return{getOrInit:(j,G)=>F.fold(()=>A(j),le=>G(j,le.item)?le.replacement:A(j))}},tS=y=>_=>{const A=[],F=j=>{const G=y==="td"?{scope:null}:{},le=_.replace(j,y,G);return A.push({item:j,sub:le}),le};return{replaceOrInit:(j,G)=>{if(Jv(j)||mm(j))return j;{const le=j;return((me,Ie)=>Rn(A,je=>Ie(je.item,me)))(le,G).fold(()=>F(le),me=>G(j,me.item)?me.sub:F(le))}}}},nw=y=>({unmerge:_=>{const A=Qv(_);return A.each(F=>xs(_,"scope",F)),()=>{const F=y.cell({element:_,colspan:1,rowspan:1});return Ol(F,"width"),Ol(_,"width"),A.each(j=>xs(F,"scope",j)),F}},merge:_=>(Ol(_[0],"width"),(()=>{const A=bn(I(_,Qv));if(A.length===0)return oe.none();{const F=A[0],j=["row","col"];return Ce(A,G=>G!==F&&ct(j,G))?oe.none():oe.from(F)}})().fold(()=>$o(_[0],"scope"),A=>xs(_[0],"scope",A+"group")),Z(_[0]))}),pp=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","table","thead","tfoot","tbody","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],el=lf(),bp=y=>((_,A)=>{const F=_.property().name(A);return ct(pp,F)})(el,y),vp=y=>((_,A)=>{const F=_.property().name(A);return ct(["ol","ul"],F)})(el,y),J1=y=>{const _=Cs("br"),A=j=>$c(j).bind(G=>{const le=dl(G).map(me=>!!bp(me)||!!((Ie,je)=>ct(["br","img","hr","input"],Ie.property().name(je)))(el,me)&&wt(me)!=="img").getOr(!1);return kl(G).map(me=>{return le===!0||wt(Ie=me)==="li"||Be(Ie,vp).isSome()||_(G)||bp(me)&&!js(j,me)?[]:[tn.fromTag("br")];var Ie})}).getOr([]),F=(()=>{const j=Ve(y,G=>{const le=Ui(G);return(me=>bt(me,Ie=>_(Ie)||Jo(Ie)&&nm(Ie).trim().length===0))(le)?[]:le.concat(A(G))});return j.length===0?[tn.fromTag("br")]:j})();El(y[0]),Kl(y[0],F)},_s=y=>ko(y,!0),uc=y=>{Rr(y).length===0&&dr(y)},hf=(y,_)=>({grid:y,cursor:_}),yl=(y,_,A)=>{const F=((j,G,le)=>{var me,Ie;const je=fr(j).rows;return oe.from((Ie=(me=je[G])===null||me===void 0?void 0:me.cells[le])===null||Ie===void 0?void 0:Ie.element).filter(_s).orThunk(()=>(st=>te(st,ze=>te(ze.cells,Ge=>{const Xe=Ge.element;return Cn(_s(Xe),Xe)})))(je))})(y,_,A);return hf(y,F)},pr=y=>ft(y,(_,A)=>Ce(_,F=>F.row===A.row)?_:_.concat([A]),[]).sort((_,A)=>_.row-A.row),e0=(y,_)=>(A,F,j,G,le)=>{const me=pr(F),Ie=I(me,st=>st.row),je=((st,ze,Ge,Xe,pt,yt,Kt)=>{const{cols:jt,rows:Wt}=fr(st),Gt=Wt[ze[0]],fn=Ve(ze,Ao=>((bo,Vo,ws)=>{const Ri=bo[Vo];return Ve(Ri.cells,(xl,La)=>th(bo,Vo,La,ws)?[]:[xl])})(Wt,Ao,pt)),hn=I(Gt.cells,(Ao,bo)=>cc(ew(Wt,bo,pt))),St=[...Wt];dt(ze,Ao=>{St[Ao]=Kt.transformRow(Wt[Ao],Ge)});const Mn=[...jt,...St],po=((Ao,bo)=>bt(bo,Q)&&cc(Ao.cells)?he:(Vo,ws,Ri)=>!(wt(Vo.element)==="th"&&bo[Ri]))(Gt,hn),zo=((Ao,bo)=>(Vo,ws,Ri)=>oe.some(Qx(Ao,Vo.element,"col",bo[Ri])))(Xe,hn);return Eb(Mn,fn,pt,yt,Kt.transformCell,zo,po)})(A,Ie,y,_,j,G.replaceOrInit,le);return yl(je,F[0].row,F[0].column)},nS=e0("thead",!0),YE=e0("tbody",!1),Mr=e0("tfoot",!1),Q1=(y,_,A)=>{const F=((G,le)=>Dl(G,()=>le))(y,A.section),j=ai(F);return Vn(j,_,!0)},ow=(y,_,A,F)=>((j,G,le,me)=>{const Ie=ai(G),je=me.getWidths(Ie,me);tw(Ie,je,me)})(0,_,0,F.sizing),oh=(y,_,A,F)=>((j,G,le,me,Ie)=>{const je=ai(G),st=me.getWidths(je,me),ze=me.pixelWidth(),{newSizes:Ge,delta:Xe}=Ie.calcRedestributedWidths(st,ze,le.pixelDelta,me.isRelative);tw(je,Ge,me),me.adjustTableWidth(Xe)})(0,_,A,F.sizing,F.resize),Gu=(y,_)=>Ce(_,A=>A.column===0&&A.isLocked),Ab=(y,_)=>Ce(_,A=>A.column+A.colspan>=y.grid.columns&&A.isLocked),Nn=(y,_)=>{const A=Xf(y),F=hp(_);return ft(F,(j,G)=>j+A[G.column].map(Qd).getOr(0),0)},xd=y=>(_,A)=>Ja(_,A).filter(F=>!(y?Gu:Ab)(_,F)).map(F=>({details:F,pixelDelta:Nn(_,F)})),sw=y=>(_,A)=>ci(_,A).filter(F=>!(y?Gu:Ab)(_,F.cells)),ey=tS("th"),Ob=tS("td"),ty=Qo((y,_,A,F)=>{const j=_[0].row,G=pr(_),le=en(G,(me,Ie)=>({grid:Gv(me.grid,j,Ie.row+me.delta,A,F.getOrInit),delta:me.delta+1}),{grid:y,delta:0}).grid;return yl(le,j,_[0].column)},Ja,K,K,Zu),yp=Qo((y,_,A,F)=>{const j=pr(_),G=j[j.length-1],le=G.row+G.rowspan,me=en(j,(Ie,je)=>Gv(Ie,le,je.row,A,F.getOrInit),y);return yl(me,le,_[0].column)},Ja,K,K,Zu),qu=Qo((y,_,A,F)=>{const j=_.details,G=hp(j),le=G[0].column,me=en(G,(Ie,je)=>({grid:dm(Ie.grid,le,je.column+Ie.delta,A,F.getOrInit),delta:Ie.delta+1}),{grid:y,delta:0}).grid;return yl(me,j[0].row,le)},xd(!0),oh,K,Zu),XE=Qo((y,_,A,F)=>{const j=_.details,G=j[j.length-1],le=G.column+G.colspan,me=hp(j),Ie=en(me,(je,st)=>dm(je,le,st.column,A,F.getOrInit),y);return yl(Ie,j[0].row,le)},xd(!1),oh,K,Zu),ny=Qo((y,_,A,F)=>{const j=hp(_.details),G=((me,Ie)=>Ve(me,je=>{const st=je.cells,ze=en(Ie,(Ge,Xe)=>Xe>=0&&Xe<Ge.length?Ge.slice(0,Xe).concat(Ge.slice(Xe+1)):Ge,st);return ze.length>0?[gi(je.element,ze,je.section,je.isNew)]:[]}))(y,I(j,me=>me.column)),le=G.length>0?G[0].cells.length-1:0;return yl(G,j[0].row,Math.min(j[0].column,le))},(y,_)=>qr(y,_).map(A=>({details:A,pixelDelta:-Nn(y,A)})),oh,uc,Zu),rw=Qo((y,_,A,F)=>{const j=pr(_),G=((me,Ie,je)=>{const{rows:st,cols:ze}=fr(me);return[...ze,...st.slice(0,Ie),...st.slice(je+1)]})(y,j[0].row,j[j.length-1].row),le=Math.max(fr(G).rows.length-1,0);return yl(G,Math.min(_[0].row,le),_[0].column)},Ja,K,uc,Zu),oy=Qo((y,_,A,F)=>{const j=hp(_),G=I(j,me=>me.column),le=Yv(y,G,!0,A,F.replaceOrInit);return yl(le,_[0].row,_[0].column)},qr,K,K,ey),iw=Qo((y,_,A,F)=>{const j=hp(_),G=I(j,me=>me.column),le=Yv(y,G,!1,A,F.replaceOrInit);return yl(le,_[0].row,_[0].column)},qr,K,K,Ob),aw=Qo(nS,qr,K,K,ey),sy=Qo(YE,qr,K,K,Ob),lw=Qo(Mr,qr,K,K,Ob),cw=Qo((y,_,A,F)=>{const j=Xv(y,_,A,F.replaceOrInit);return yl(j,_[0].row,_[0].column)},qr,K,K,ey),oS=Qo((y,_,A,F)=>{const j=Xv(y,_,A,F.replaceOrInit);return yl(j,_[0].row,_[0].column)},qr,K,K,Ob),JE=Qo((y,_,A,F)=>{const j=_.cells;J1(j);const G=((le,me,Ie,je)=>{const st=fr(le).rows;if(st.length===0)return le;for(let ze=me.startRow;ze<=me.finishRow;ze++)for(let Ge=me.startCol;Ge<=me.finishCol;Ge++){const Xe=st[ze],pt=Qr(Xe,Ge).isLocked;Um(Xe,Ge,Kr(je(),!1,pt))}return le})(y,_.bounds,0,F.merge(j));return hf(G,oe.from(j[0]))},(y,_)=>((A,F)=>F.mergable)(0,_).filter(A=>ju(y,A.cells)),ow,K,nw),t0=Qo((y,_,A,F)=>{const j=en(_,(G,le)=>cm(G,le,A,F.unmerge(le)),y);return hf(j,oe.from(_[0]))},(y,_)=>((A,F)=>F.unmergable)(0,_).filter(A=>ju(y,A)),ow,K,nw),uw=Qo((y,_,A,F)=>{const j=((me,Ie)=>{const je=qo(me);return Vn(je,Ie,!0)})(_.clipboard,_.generators);var G,le;return((me,Ie,je,st,ze)=>{const Ge=Ka(Ie),Xe=((jt,Wt,Gt)=>{const fn=Ji(Wt[0]),hn=fr(Wt).cols.length+jt.row,St=Te(fn-jt.column,Mn=>Mn+jt.column);return{row:hn,column:Rn(St,Mn=>bt(Gt,po=>po!==Mn)).getOr(fn-1)}})(me,Ie,Ge),pt=fr(je).rows,yt=Qa(Xe,pt,Ge);return((jt,Wt,Gt)=>{if(jt.row>=Wt.length||jt.column>Ji(Wt[0]))return yd.error("invalid start address out of table bounds, row: "+jt.row+", column: "+jt.column);const fn=Wt.slice(jt.row),hn=fn[0].cells.slice(jt.column),St=Ji(Gt[0]),Mn=Gt.length;return yd.value({rowDelta:fn.length-Mn,colDelta:hn.length-St})})(Xe,Ie,pt).map(jt=>{const Wt={...jt,colDelta:jt.colDelta-yt.length},Gt=ps(Ie,Wt,st),fn=Ka(Gt),hn=Qa(Xe,pt,fn);return((St,Mn,po,zo,Ao,bo)=>{const Vo=St.row,ws=St.column,Ri=Vo+po.length,xl=ws+Ji(po[0])+bo.length,La=Yn(bo,he);for(let bu=Vo;bu<Ri;bu++){let ph=0;for(let wl=ws;wl<xl;wl++){if(La[wl]){ph++;continue}ti(Mn,bu,wl,Ao)&&cm(Mn,Cr(Mn[bu],wl),Ao,zo.cell);const vf=wl-ws-ph,Bb=Qr(po[bu-Vo],vf),mg=Bb.element,Fb=zo.replace(mg);Um(Mn[bu],wl,Kr(Fb,!0,Bb.isLocked))}}return Mn})(Xe,Gt,pt,st,ze,hn)})})((G=_.row,le=_.column,{row:G,column:le}),y,j,_.generators,A).fold(()=>hf(y,oe.some(_.element)),me=>yl(me,_.row,_.column))},(y,_)=>Vm(_.element).bind(A=>Fo(y,A).map(F=>({...F,generators:_.generators,clipboard:_.clipboard}))),ow,K,Zu),xp=Qo((y,_,A,F)=>{const j=fr(y).rows,G=_.cells[0].column,le=j[_.cells[0].row],me=Q1(_.clipboard,_.generators,le),Ie=Gl(G,y,me,_.generators,A);return yl(Ie,_.cells[0].row,_.cells[0].column)},sw(!0),K,K,Zu),QE=Qo((y,_,A,F)=>{const j=fr(y).rows,G=_.cells[_.cells.length-1].column+_.cells[_.cells.length-1].colspan,le=j[_.cells[0].row],me=Q1(_.clipboard,_.generators,le),Ie=Gl(G,y,me,_.generators,A);return yl(Ie,_.cells[0].row,G)},sw(!1),K,K,Zu),eT=Qo((y,_,A,F)=>{const j=fr(y).rows,G=_.cells[0].row,le=j[G],me=Q1(_.clipboard,_.generators,le),Ie=Zv(G,y,me,_.generators,A);return yl(Ie,_.cells[0].row,_.cells[0].column)},ci,K,K,Zu),eg=Qo((y,_,A,F)=>{const j=fr(y).rows,G=_.cells[_.cells.length-1].row+_.cells[_.cells.length-1].rowspan,le=j[_.cells[0].row],me=Q1(_.clipboard,_.generators,le),Ie=Zv(G,y,me,_.generators,A);return yl(Ie,G,_.cells[0].column)},ci,K,K,Zu),sh=(y,_)=>{const A=qo(y);return Ja(A,_).bind(F=>{const j=F[F.length-1],G=F[0].column,le=j.column+j.colspan,me=rt(I(A.all,Ie=>Ft(Ie.cells,je=>je.column>=G&&je.column<le)));return Fi(me)}).getOr("")},ry=(y,_)=>{const A=qo(y);return Ja(A,_).bind(Fi).getOr("")},sS=(y,_)=>{const A=qo(y);return Ja(A,_).bind(F=>{const j=F[F.length-1],G=F[0].row,le=j.row+j.rowspan;return(me=>{const Ie=I(me,ze=>am(ze).type),je=ct(Ie,"header"),st=ct(Ie,"footer");if(je||st){const ze=ct(Ie,"body");return!je||ze||st?je||ze||!st?oe.none():oe.some("footer"):oe.some("header")}return oe.some("body")})(A.all.slice(G,le))}).getOr("")},dw=(y,_)=>y.dispatch("NewRow",{node:_}),n0=(y,_)=>y.dispatch("NewCell",{node:_}),gm=(y,_,A)=>{y.dispatch("TableModified",{...A,table:_})},iy={structure:!1,style:!0},Gi={structure:!0,style:!1},ui={structure:!0,style:!0},tg=(y,_)=>Uu(y)?zu(_):L(y)?Sr(_):Zg(_),fw=(y,_,A)=>{const F=st=>wt(Is(st))==="table",j=_c(y),G=Gg(y)?K:Qg,le=st=>{switch(fu(y)){case"section":return Zi();case"sectionCells":return P();case"cells":return z();default:return((ze,Ge)=>{var Xe;switch((Xe=qo(ze),te(Xe.all,pt=>{const yt=am(pt);return yt.type==="header"?oe.from(yt.subType):oe.none()})).getOr(Ge)){case"section":return Ai();case"sectionCells":return an();case"cells":return lm()}})(st,"section")}},me=(st,ze,Ge,Xe)=>(pt,yt,Kt=!1)=>{Pr(pt);const jt=tn.fromDom(y.getDoc()),Wt=ir(Ge,jt,j),Gt={sizing:tg(y,pt),resize:Gg(y)?Ku():fp(),section:le(pt)};return ze(pt)?st(pt,yt,Wt,Gt).bind(fn=>{_.refresh(pt.dom),dt(fn.newRows,St=>{dw(y,St.dom)}),dt(fn.newCells,St=>{n0(y,St.dom)});const hn=((St,Mn)=>Mn.cursor.fold(()=>{const po=Rr(St);return Bn(po).filter(gl).map(zo=>{A.clearSelectedCells(St.dom);const Ao=y.dom.createRng();return Ao.selectNode(zo.dom),y.selection.setRng(Ao),xs(zo,"data-mce-selected","1"),Ao})},po=>{const zo=Kv(Jg,po),Ao=y.dom.createRng();return Ao.setStart(zo.element.dom,zo.offset),Ao.setEnd(zo.element.dom,zo.offset),y.selection.setRng(Ao),A.clearSelectedCells(St.dom),oe.some(Ao)}))(pt,fn);return gl(pt)&&(Pr(pt),Kt||gm(y,pt.dom,Xe)),hn.map(St=>({rng:St,effect:Xe}))}):oe.none()},Ie=me(rw,st=>!F(y)||gu(st).rows>1,K,Gi),je=me(ny,st=>!F(y)||gu(st).columns>1,K,Gi);return{deleteRow:Ie,deleteColumn:je,insertRowsBefore:me(ty,he,K,Gi),insertRowsAfter:me(yp,he,K,Gi),insertColumnsBefore:me(qu,he,G,Gi),insertColumnsAfter:me(XE,he,G,Gi),mergeCells:me(JE,he,K,Gi),unmergeCells:me(t0,he,K,Gi),pasteColsBefore:me(xp,he,K,Gi),pasteColsAfter:me(QE,he,K,Gi),pasteRowsBefore:me(eT,he,K,Gi),pasteRowsAfter:me(eg,he,K,Gi),pasteCells:me(uw,he,K,ui),makeCellsHeader:me(cw,he,K,Gi),unmakeCellsHeader:me(oS,he,K,Gi),makeColumnsHeader:me(oy,he,K,Gi),unmakeColumnsHeader:me(iw,he,K,Gi),makeRowsHeader:me(aw,he,K,Gi),makeRowsBody:me(sy,he,K,Gi),makeRowsFooter:me(lw,he,K,Gi),getTableRowType:sS,getTableCellType:ry,getTableColType:sh}},ay=(y,_,A)=>{const F=Or(y,_,1);A===1||F<=1?$o(y,_):xs(y,_,Math.min(A,F))},Ma=(y,_)=>A=>{const F=A.column+A.colspan-1,j=A.column;return F>=y&&j<_},ql=nh([{invalid:["raw"]},{pixels:["value"]},{percent:["value"]}]),wp=(y,_,A)=>{const F=A.substring(0,A.length-y.length),j=parseFloat(F);return F===j.toString()?_(j):ql.invalid(A)},ng={...ql,from:y=>xn(y,"%")?wp("%",ql.percent,y):xn(y,"px")?wp("px",ql.pixels,y):ql.invalid(y)},rh=(y,_,A)=>{const F=ng.from(A),j=bt(y,G=>G==="0px")?((G,le)=>{const me=G.fold(()=>Z(""),Ie=>Z(Ie/le+"px"),()=>Z(100/le+"%"));return Te(le,me)})(F,y.length):((G,le,me)=>G.fold(()=>le,Ie=>((je,st,ze)=>{const Ge=ze/st;return I(je,Xe=>ng.from(Xe).fold(()=>Xe,pt=>pt*Ge+"px",pt=>pt/100*ze+"px"))})(le,me,Ie),Ie=>((je,st)=>I(je,ze=>ng.from(ze).fold(()=>ze,Ge=>Ge/st*100+"%",Ge=>Ge+"%")))(le,me)))(F,y,_);return mw(j)},ly=(y,_)=>y.length===0?_:en(y,(A,F)=>ng.from(F).fold(Z(0),Q,Q)+A,0),rS=(y,_)=>ng.from(y).fold(Z(y),A=>A+_+"px",A=>A+_+"%"),mw=y=>{if(y.length===0)return y;const _=en(y,(F,j)=>{const G=ng.from(j).fold(()=>({value:j,remainder:0}),le=>((me,Ie)=>{const je=Math.floor(me);return{value:je+"px",remainder:me-je}})(le),le=>({value:le+"%",remainder:0}));return{output:[G.value].concat(F.output),remainder:F.remainder+G.remainder}},{output:[],remainder:0}),A=_.output;return A.slice(0,A.length-1).concat([rS(A[A.length-1],Math.round(_.remainder))])},ih=ng.from,br=(y,_,A)=>{const F=qo(y),j=F.all,G=Wn(F),le=Nc(F);_.each(me=>{const Ie=ih(me).fold(Z("px"),Z("px"),Z("%")),je=Pl(y),st=((Ge,Xe)=>Ti(Ge,Xe,Da,tm))(F,y),ze=rh(st,je,me);Mc(F)?((Ge,Xe,pt)=>{dt(Xe,(yt,Kt)=>{const jt=ly([Ge[Kt]],Rl());Uo(yt.element,"width",jt+pt)})})(ze,le,Ie):((Ge,Xe,pt)=>{dt(Xe,yt=>{const Kt=Ge.slice(yt.column,yt.colspan+yt.column),jt=ly(Kt,Rl());Uo(yt.element,"width",jt+pt)})})(ze,G,Ie),Uo(y,"width",me)}),A.each(me=>{const Ie=Mu(y),je=((st,ze)=>ji(st,ze,Pa,tm))(F,y);((st,ze,Ge)=>{dt(Ge,Xe=>{Ol(Xe.element,"height")}),dt(ze,(Xe,pt)=>{Uo(Xe.element,"height",st[pt])})})(rh(je,Ie,me),j,G),Uo(y,"height",me)})},cy=y=>Sc(y).exists(_=>Mi.test(_)),Lr=y=>Sc(y).exists(_=>oo.test(_)),pf=y=>Sc(y).isNone(),wd=y=>{$o(y,"width"),$o(y,"height")},Cp=y=>{const _=sf(y);br(y,oe.some(_),oe.none()),wd(y)},dc=y=>{const _=(A=>Pl(A)+"px")(y);br(y,oe.some(_),oe.none()),wd(y)},tl=y=>{Ol(y,"width");const _=hl(y),A=_.length>0?_:Rr(y);dt(A,F=>{Ol(F,"width"),wd(F)}),wd(y)},ah={styles:{"border-collapse":"collapse",width:"100%"},attributes:{border:"1"},colGroups:!1},o0=(y,_,A,F)=>Te(y,j=>((G,le,me,Ie)=>{const je=tn.fromTag("tr");for(let st=0;st<G;st++){const ze=tn.fromTag(Ie<le||st<me?"th":"td");st<me&&xs(ze,"scope","row"),Ie<le&&xs(ze,"scope","col"),Tr(ze,tn.fromTag("br")),Tr(je,ze)}return je})(_,A,F,j)),Sp=(y,_)=>{y.selection.select(_.dom,!0),y.selection.collapse(!0)},s0=(y,_,A,F,j)=>{const G=(me=>{const Ie=me.options,je=Ie.get("table_default_styles");return Ie.isSet("table_default_styles")?je:((st,ze)=>Y(st)||!We(st)?ze:L(st)?{...ze,width:Nl(st)}:{...ze,width:ha})(me,je)})(y),le={styles:G,attributes:Ut(y),colGroups:lo(y)};return y.undoManager.ignore(()=>{const me=((je,st,ze,Ge,Xe,pt=ah)=>{const yt=tn.fromTag("table"),Kt=Xe!=="cells";rc(yt,pt.styles),aa(yt,pt.attributes),pt.colGroups&&Tr(yt,(fn=>{const hn=tn.fromTag("colgroup");return Te(fn,()=>Tr(hn,tn.fromTag("col"))),hn})(st));const jt=Math.min(je,ze);if(Kt&&ze>0){const fn=tn.fromTag("thead");Tr(yt,fn);const hn=o0(ze,st,Xe==="sectionCells"?jt:0,Ge);Kl(fn,hn)}const Wt=tn.fromTag("tbody");Tr(yt,Wt);const Gt=o0(Kt?je-jt:je,st,Kt?0:ze,Ge);return Kl(Wt,Gt),yt})(A,_,j,F,fu(y),le);xs(me,"data-mce-id","__mce");const Ie=(je=>{const st=tn.fromTag("div"),ze=tn.fromDom(je.dom.cloneNode(!0));return Tr(st,ze),(Ge=>Ge.dom.innerHTML)(st)})(me);y.insertContent(Ie),y.addVisual()}),Ct(Is(y),'table[data-mce-id="__mce"]').map(me=>(L(y)?dc(me):Y(y)?tl(me):(Uu(y)||(Ie=>g(Ie)&&Ie.indexOf("%")!==-1)(G.width))&&Cp(me),Pr(me),$o(me,"data-mce-id"),((Ie,je)=>{dt(Vs(je,"tr"),st=>{dw(Ie,st.dom),dt(Vs(st,"th,td"),ze=>{n0(Ie,ze.dom)})})})(y,me),((Ie,je)=>{Ct(je,"td,th").each(U(Sp,Ie))})(y,me),me.dom)).getOrNull()};var _p=tinymce.util.Tools.resolve("tinymce.FakeClipboard");const iS="x-tinymce/dom-table-",gw=iS+"rows",hw=iS+"columns",aS=y=>{const _=_p.FakeClipboardItem(y);_p.write([_])},nl=y=>{var _;const A=(_=_p.read())!==null&&_!==void 0?_:[];return te(A,F=>oe.from(F.getType(y)))},lh=y=>{nl(y).isSome()&&_p.clear()},lS=y=>{y.fold(Yl,_=>aS({[gw]:_}))},Yu=()=>nl(gw),Yl=()=>lh(gw),kp=y=>{y.fold(cS,_=>aS({[hw]:_}))},Rb=()=>nl(hw),cS=()=>lh(hw),ni=y=>mf(zc(y),ei(y)).filter(Uv),oi=(y,_)=>{const A=ei(y),F=ze=>Il(ze,A),j=ze=>(Ge=>Ar(zc(Ge),ei(Ge)).filter(Uv))(y).bind(Ge=>F(Ge).map(Xe=>ze(Xe,Ge))),G=ze=>{y.focus()},le=(ze,Ge=!1)=>j((Xe,pt)=>{const yt=Wo(Wc(y),Xe,pt);ze(Xe,yt,Ge).each(G)}),me=()=>j((ze,Ge)=>((Xe,pt,yt)=>{const Kt=qo(Xe);return Ja(Kt,pt).bind(jt=>{const Wt=Vn(Kt,yt,!1),Gt=fr(Wt).rows.slice(jt[0].row,jt[jt.length-1].row+jt[jt.length-1].rowspan),fn=Ve(Gt,St=>{const Mn=Ft(St.cells,po=>!po.isLocked);return Mn.length>0?[{...St,cells:Mn}]:[]}),hn=Ko(fn);return Cn(hn.length>0,hn)}).map(jt=>I(jt,Wt=>{const Gt=Zf(Wt.element);return dt(Wt.cells,fn=>{const hn=nu(fn.element);Ae(hn,"colspan",fn.colspan,1),Ae(hn,"rowspan",fn.rowspan,1),Tr(Gt,hn)}),Gt}))})(ze,Wo(Wc(y),ze,Ge),ir(K,tn.fromDom(y.getDoc()),oe.none()))),Ie=()=>j((ze,Ge)=>((Xe,pt)=>{const yt=qo(Xe);return qr(yt,pt).map(Kt=>{const jt=Kt[Kt.length-1],Wt=Kt[0].column,Gt=jt.column+jt.colspan,fn=((St,Mn,po)=>{if(Mc(St)){const zo=Ft(Nc(St),Ma(Mn,po)),Ao=I(zo,Vo=>{const ws=nu(Vo.element);return ay(ws,"span",po-Mn),ws}),bo=tn.fromTag("colgroup");return Kl(bo,Ao),[bo]}return[]})(yt,Wt,Gt),hn=((St,Mn,po)=>I(St.all,zo=>{const Ao=Ft(zo.cells,Ma(Mn,po)),bo=I(Ao,ws=>{const Ri=nu(ws.element);return ay(Ri,"colspan",po-Mn),Ri}),Vo=tn.fromTag("tr");return Kl(Vo,bo),Vo}))(yt,Wt,Gt);return[...fn,...hn]})})(ze,Wo(Wc(y),ze,Ge))),je=(ze,Ge)=>Ge().each(Xe=>{const pt=I(Xe,yt=>nu(yt));j((yt,Kt)=>{const jt=Hs(tn.fromDom(y.getDoc())),Wt=((Gt,fn,hn,St)=>({selection:df(Gt),clipboard:hn,generators:St}))(Wc(y),0,pt,jt);ze(yt,Wt).each(G)})}),st=ze=>(Ge,Xe)=>((pt,yt)=>Ke(pt,yt)?oe.from(pt[yt]):oe.none())(Xe,"type").each(pt=>{le(ze(pt),Xe.no_events)});yn({mceTableSplitCells:()=>le(_.unmergeCells),mceTableMergeCells:()=>le(_.mergeCells),mceTableInsertRowBefore:()=>le(_.insertRowsBefore),mceTableInsertRowAfter:()=>le(_.insertRowsAfter),mceTableInsertColBefore:()=>le(_.insertColumnsBefore),mceTableInsertColAfter:()=>le(_.insertColumnsAfter),mceTableDeleteCol:()=>le(_.deleteColumn),mceTableDeleteRow:()=>le(_.deleteRow),mceTableCutCol:()=>Ie().each(ze=>{kp(ze),le(_.deleteColumn)}),mceTableCutRow:()=>me().each(ze=>{lS(ze),le(_.deleteRow)}),mceTableCopyCol:()=>Ie().each(ze=>kp(ze)),mceTableCopyRow:()=>me().each(ze=>lS(ze)),mceTablePasteColBefore:()=>je(_.pasteColsBefore,Rb),mceTablePasteColAfter:()=>je(_.pasteColsAfter,Rb),mceTablePasteRowBefore:()=>je(_.pasteRowsBefore,Yu),mceTablePasteRowAfter:()=>je(_.pasteRowsAfter,Yu),mceTableDelete:()=>ni(y).each(ze=>{Il(ze,A).filter(ge(A)).each(Ge=>{const Xe=tn.fromText("");if(sc(Ge,Xe),dr(Ge),y.dom.isEmpty(y.getBody()))y.setContent(""),y.selection.setCursorLocation();else{const pt=y.dom.createRng();pt.setStart(Xe.dom,0),pt.setEnd(Xe.dom,0),y.selection.setRng(pt),y.nodeChanged()}})}),mceTableCellToggleClass:(ze,Ge)=>{j(Xe=>{const pt=Wc(y),yt=bt(pt,jt=>y.formatter.match("tablecellclass",{value:Ge},jt.dom)),Kt=yt?y.formatter.remove:y.formatter.apply;dt(pt,jt=>Kt("tablecellclass",{value:Ge},jt.dom)),gm(y,Xe.dom,iy)})},mceTableToggleClass:(ze,Ge)=>{j(Xe=>{y.formatter.toggle("tableclass",{value:Ge},Xe.dom),gm(y,Xe.dom,iy)})},mceTableToggleCaption:()=>{ni(y).each(ze=>{Il(ze,A).each(Ge=>{_t(Ge,"caption").fold(()=>{const Xe=tn.fromTag("caption");Tr(Xe,tn.fromText("Caption")),((pt,yt,Kt)=>{Du(pt,0).fold(()=>{Tr(pt,yt)},jt=>{Sn(jt,yt)})})(Ge,Xe),y.selection.setCursorLocation(Xe.dom,0)},Xe=>{Cs("caption")(ze)&&Wl("td",Ge).each(pt=>y.selection.setCursorLocation(pt.dom,0)),dr(Xe)}),gm(y,Ge.dom,Gi)})})},mceTableSizingMode:(ze,Ge)=>(Xe=>ni(y).each(pt=>{Y(y)||L(y)||Uu(y)||Il(pt,A).each(yt=>{Xe!=="relative"||cy(yt)?Xe!=="fixed"||Lr(yt)?Xe!=="responsive"||pf(yt)||tl(yt):dc(yt):Cp(yt),Pr(yt),gm(y,yt.dom,Gi)})}))(Ge),mceTableCellType:st(ze=>ze==="th"?_.makeCellsHeader:_.unmakeCellsHeader),mceTableColType:st(ze=>ze==="th"?_.makeColumnsHeader:_.unmakeColumnsHeader),mceTableRowType:st(ze=>{switch(ze){case"header":return _.makeRowsHeader;case"footer":return _.makeRowsFooter;default:return _.makeRowsBody}})},(ze,Ge)=>y.addCommand(Ge,ze)),y.addCommand("mceInsertTable",(ze,Ge)=>{((Xe,pt,yt,Kt={})=>{const jt=Wt=>H(Wt)&&Wt>0;if(jt(pt)&&jt(yt)){const Wt=Kt.headerRows||0,Gt=Kt.headerColumns||0;return s0(Xe,yt,pt,Gt,Wt)}console.error("Invalid values for mceInsertTable - rows and columns values are required to insert a table.")})(y,Ge.rows,Ge.columns,Ge.options)}),y.addCommand("mceTableApplyCellStyle",(ze,Ge)=>{const Xe=Kt=>"tablecell"+Kt.toLowerCase().replace("-","");if(!h(Ge))return;const pt=Ft(Wc(y),Uv);if(pt.length===0)return;const yt=((Kt,jt)=>{const Wt={};return((Gt,fn,hn,St)=>{yn(Gt,(Mn,po)=>{(fn(Mn,po)?hn:St)(Mn,po)})})(Kt,jt,(Gt=>(fn,hn)=>{Gt[hn]=fn})(Wt),K),Wt})(Ge,(Kt,jt)=>y.formatter.has(Xe(jt))&&g(Kt));(Kt=>{for(const jt in Kt)if(nn.call(Kt,jt))return!1;return!0})(yt)||(yn(yt,(Kt,jt)=>{const Wt=Xe(jt);dt(pt,Gt=>{Kt===""?y.formatter.remove(Wt,{value:null},Gt.dom,!0):y.formatter.apply(Wt,{value:Kt},Gt.dom)})}),F(pt[0]).each(Kt=>gm(y,Kt.dom,iy)))})},Oi=nh([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),er={before:Oi.before,on:Oi.on,after:Oi.after,cata:(y,_,A,F)=>y.fold(_,A,F),getStart:y=>y.fold(Q,Q,Q)},Yr=(y,_)=>({selection:y,kill:_}),vi=(y,_)=>{const A=y.document.createRange();return A.selectNode(_.dom),A},uy=(y,_)=>{const A=y.document.createRange();return dy(A,_),A},dy=(y,_)=>y.selectNodeContents(_.dom),pw=(y,_,A)=>{const F=y.document.createRange();var j;return j=F,_.fold(G=>{j.setStartBefore(G.dom)},(G,le)=>{j.setStart(G.dom,le)},G=>{j.setStartAfter(G.dom)}),((G,le)=>{le.fold(me=>{G.setEndBefore(me.dom)},(me,Ie)=>{G.setEnd(me.dom,Ie)},me=>{G.setEndAfter(me.dom)})})(F,A),F},r0=(y,_,A,F,j)=>{const G=y.document.createRange();return G.setStart(_.dom,A),G.setEnd(F.dom,j),G},bw=y=>({left:y.left,top:y.top,right:y.right,bottom:y.bottom,width:y.width,height:y.height}),Ep=nh([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),fy=(y,_,A)=>_(tn.fromDom(A.startContainer),A.startOffset,tn.fromDom(A.endContainer),A.endOffset),my=(y,_)=>{const A=((F,j)=>j.match({domRange:G=>({ltr:Z(G),rtl:oe.none}),relative:(G,le)=>({ltr:Wi(()=>pw(F,G,le)),rtl:Wi(()=>oe.some(pw(F,le,G)))}),exact:(G,le,me,Ie)=>({ltr:Wi(()=>r0(F,G,le,me,Ie)),rtl:Wi(()=>oe.some(r0(F,me,Ie,G,le)))})}))(y,_);return((F,j)=>{const G=j.ltr();return G.collapsed?j.rtl().filter(le=>le.collapsed===!1).map(le=>Ep.rtl(tn.fromDom(le.endContainer),le.endOffset,tn.fromDom(le.startContainer),le.startOffset)).getOrThunk(()=>fy(0,Ep.ltr,G)):fy(0,Ep.ltr,G)})(0,A)},vw=(y,_)=>my(y,_).match({ltr:(A,F,j,G)=>{const le=y.document.createRange();return le.setStart(A.dom,F),le.setEnd(j.dom,G),le},rtl:(A,F,j,G)=>{const le=y.document.createRange();return le.setStart(j.dom,G),le.setEnd(A.dom,F),le}});Ep.ltr,Ep.rtl;const i0=(y,_,A,F)=>({start:y,soffset:_,finish:A,foffset:F}),fc=(y,_,A,F)=>({start:er.on(y,_),finish:er.on(A,F)}),yw=(y,_)=>{const A=vw(y,_);return i0(tn.fromDom(A.startContainer),A.startOffset,tn.fromDom(A.endContainer),A.endOffset)},Ml=fc,a0=(y,_,A,F,j)=>js(A,F)?oe.none():Hc(A,F,_).bind(G=>{const le=G.boxes.getOr([]);return le.length>1?(j(y,le,G.start,G.finish),oe.some(Yr(oe.some(Ml(A,0,A,$r(A))),!0))):oe.none()}),Tp=(y,_)=>({item:y,mode:_}),Cd=(y,_,A,F=yi)=>y.property().parent(_).map(j=>Tp(j,F)),yi=(y,_,A,F=ch)=>A.sibling(y,_).map(j=>Tp(j,F)),ch=(y,_,A,F=ch)=>{const j=y.property().children(_);return A.first(j).map(G=>Tp(G,F))},xw=[{current:Cd,next:yi,fallback:oe.none()},{current:yi,next:ch,fallback:oe.some(Cd)},{current:ch,next:ch,fallback:oe.some(yi)}],ww=(y,_,A,F,j=xw)=>Rn(j,G=>G.current===A).bind(G=>G.current(y,_,F,G.next).orThunk(()=>G.fallback.bind(le=>ww(y,_,le,F)))),l0=(y,_,A,F,j,G)=>ww(y,_,F,j).bind(le=>G(le.item)?oe.none():A(le.item)?oe.some(le.item):l0(y,le.item,A,le.mode,j,G)),hm=y=>_=>y.property().children(_).length===0,tT=(y,_,A,F)=>l0(y,_,A,yi,{sibling:(j,G)=>j.query().prevSibling(G),first:j=>j.length>0?oe.some(j[j.length-1]):oe.none()},F),c0=(y,_,A,F)=>l0(y,_,A,yi,{sibling:(j,G)=>j.query().nextSibling(G),first:j=>j.length>0?oe.some(j[0]):oe.none()},F),uh=lf(),uS=(y,_)=>((A,F,j)=>tT(A,F,hm(A),j))(uh,y,_),u0=(y,_)=>((A,F,j)=>c0(A,F,hm(A),j))(uh,y,_),d0=nh([{none:["message"]},{success:[]},{failedUp:["cell"]},{failedDown:["cell"]}]),gy=y=>lt(y,"tr"),Ib={...d0,verify:(y,_,A,F,j,G,le)=>lt(F,"td,th",le).bind(me=>lt(_,"td,th",le).map(Ie=>js(me,Ie)?js(F,me)&&$r(me)===j?G(Ie):d0.none("in same cell"):cf(gy,[me,Ie]).fold(()=>((je,st,ze)=>{const Ge=je.getRect(st),Xe=je.getRect(ze);return Xe.right>Ge.left&&Xe.left<Ge.right})(y,Ie,me)?d0.success():G(Ie),je=>G(Ie)))).getOr(d0.none("default")),cata:(y,_,A,F,j)=>y.fold(_,A,F,j)},hy=Cs("br"),Ll=(y,_,A)=>_(y,A).bind(F=>Jo(F)&&nm(F).trim().length===0?Ll(F,_,A):oe.some(F)),Cw=(y,_,A,F)=>((j,G)=>Du(j,G).filter(hy).orThunk(()=>Du(j,G-1).filter(hy)))(_,A).bind(j=>F.traverse(j).fold(()=>Ll(j,F.gather,y).map(F.relative),G=>(le=>kl(le).bind(me=>{const Ie=Ui(me);return((je,st)=>Ot(je,U(js,st)))(Ie,le).map(je=>((st,ze,Ge,Xe)=>({parent:st,children:ze,element:Ge,index:Xe}))(me,Ie,le,je))}))(G).map(le=>er.on(le.parent,le.index)))),pm=(y,_)=>({left:y.left,top:y.top+_,right:y.right,bottom:y.bottom+_}),f0=(y,_)=>({left:y.left,top:y.top-_,right:y.right,bottom:y.bottom-_}),bf=(y,_,A)=>({left:y.left+_,top:y.top+A,right:y.right+_,bottom:y.bottom+A}),m0=y=>({left:y.left,top:y.top,right:y.right,bottom:y.bottom}),g0=(y,_)=>oe.some(y.getRect(_)),dh=(y,_,A)=>co(_)?g0(y,_).map(m0):Jo(_)?((F,j,G)=>G>=0&&G<$r(j)?F.getRangedRect(j,G,j,G+1):G>0?F.getRangedRect(j,G-1,j,G):oe.none())(y,_,A).map(m0):oe.none(),Ap=(y,_)=>co(_)?g0(y,_).map(m0):Jo(_)?y.getRangedRect(_,0,_,$r(_)).map(m0):oe.none(),Xu=nh([{none:[]},{retry:["caret"]}]),h0=(y,_,A)=>mt(_,bp).fold(q,F=>Ap(y,F).exists(j=>((G,le)=>G.left<le.left||Math.abs(le.right-G.left)<1||G.left>le.right)(A,j))),nT={point:y=>y.bottom,adjuster:(y,_,A,F,j)=>{const G=pm(j,5);return Math.abs(A.bottom-F.bottom)<1||A.top>j.bottom?Xu.retry(G):A.top===j.bottom?Xu.retry(pm(j,1)):h0(y,_,j)?Xu.retry(bf(G,5,0)):Xu.none()},move:pm,gather:u0},pu=(y,_,A,F,j)=>j===0?oe.some(F):((G,le,me)=>G.elementFromPoint(le,me).filter(Ie=>wt(Ie)==="table").isSome())(y,F.left,_.point(F))?((G,le,me,Ie,je)=>pu(G,le,me,le.move(Ie,5),je))(y,_,A,F,j-1):y.situsFromPoint(F.left,_.point(F)).bind(G=>G.start.fold(oe.none,le=>Ap(y,le).bind(me=>_.adjuster(y,le,me,A,F).fold(oe.none,Ie=>pu(y,_,A,Ie,j-1))).orThunk(()=>oe.some(F)),oe.none)),bm=(y,_,A)=>{const F=y.move(A,5),j=pu(_,y,A,F,100).getOr(F);return((G,le,me)=>G.point(le)>me.getInnerHeight()?oe.some(G.point(le)-me.getInnerHeight()):G.point(le)<0?oe.some(-G.point(le)):oe.none())(y,j,_).fold(()=>_.situsFromPoint(j.left,y.point(j)),G=>(_.scrollBy(0,G),_.situsFromPoint(j.left,y.point(j)-G)))},Ju={tryUp:U(bm,{point:y=>y.top,adjuster:(y,_,A,F,j)=>{const G=f0(j,5);return Math.abs(A.top-F.top)<1||A.bottom<j.top?Xu.retry(G):A.bottom===j.top?Xu.retry(f0(j,1)):h0(y,_,j)?Xu.retry(bf(G,5,0)):Xu.none()},move:f0,gather:uS}),tryDown:U(bm,nT),getJumpSize:Z(5)},Sw=(y,_,A)=>y.getSelection().bind(F=>((j,G,le,me)=>(hy(G)?((je,st,ze)=>ze.traverse(st).orThunk(()=>Ll(st,ze.gather,je)).map(ze.relative))(j,G,me):Cw(j,G,le,me)).map(je=>({start:je,finish:je})))(_,F.finish,F.foffset,A).fold(()=>oe.some(To(F.finish,F.foffset)),j=>{const G=y.fromSitus(j);return le=Ib.verify(y,F.finish,F.foffset,G.finish,G.foffset,A.failure,_),Ib.cata(le,me=>oe.none(),()=>oe.none(),me=>oe.some(To(me,0)),me=>oe.some(To(me,$r(me))));var le})),ta=(y,_,A,F,j,G)=>G===0?oe.none():oT(y,_,A,F,j).bind(le=>{const me=y.fromSitus(le),Ie=Ib.verify(y,A,F,me.finish,me.foffset,j.failure,_);return Ib.cata(Ie,()=>oe.none(),()=>oe.some(le),je=>js(A,je)&&F===0?Qu(y,A,F,f0,j):ta(y,_,je,0,j,G-1),je=>js(A,je)&&F===$r(je)?Qu(y,A,F,pm,j):ta(y,_,je,$r(je),j,G-1))}),Qu=(y,_,A,F,j)=>dh(y,_,A).bind(G=>mc(y,j,F(G,Ju.getJumpSize()))),mc=(y,_,A)=>{const F=ru().browser;return F.isChromium()||F.isSafari()||F.isFirefox()?_.retry(y,A):oe.none()},oT=(y,_,A,F,j)=>dh(y,A,F).bind(G=>mc(y,j,G)),og=(y,_,A,F,j)=>lt(F,"td,th",_).bind(G=>lt(G,"table",_).bind(le=>((me,Ie)=>Be(me,je=>kl(je).exists(st=>js(st,Ie)),void 0).isSome())(j,le)?((me,Ie,je)=>Sw(me,Ie,je).bind(st=>ta(me,Ie,st.element,st.offset,je,20).map(me.fromSitus)))(y,_,A).bind(me=>lt(me.finish,"td,th",_).map(Ie=>({start:G,finish:Ie,range:me}))):oe.none())),vm=(y,_,A,F,j,G)=>G(F,_).orThunk(()=>og(y,_,A,F,j).map(le=>{const me=le.range;return Yr(oe.some(Ml(me.start,me.soffset,me.finish,me.foffset)),!0)})),Db=(y,_)=>lt(y,"tr",_).bind(A=>lt(A,"table",_).bind(F=>{const j=Vs(F,"tr");return js(A,j[0])?((G,le,me)=>tT(uh,G,Ie=>$c(Ie).isSome(),me))(F,0,_).map(G=>{const le=$r(G);return Yr(oe.some(Ml(G,le,G,le)),!0)}):oe.none()})),fh=(y,_)=>lt(y,"tr",_).bind(A=>lt(A,"table",_).bind(F=>{const j=Vs(F,"tr");return js(A,j[j.length-1])?((G,le,me)=>c0(uh,G,Ie=>Gm(Ie).isSome(),me))(F,0,_).map(G=>Yr(oe.some(Ml(G,0,G,0)),!0)):oe.none()})),Zc=(y,_,A,F,j,G,le)=>og(y,A,F,j,G).bind(me=>a0(_,A,me.start,me.finish,le)),py=y=>{let _=y;return{get:()=>_,set:A=>{_=A}}},by=()=>{const y=(_=>{const A=py(oe.none()),F=()=>A.get().each(_);return{clear:()=>{F(),A.set(oe.none())},isSet:()=>A.get().isSome(),get:()=>A.get(),set:j=>{F(),A.set(oe.some(j))}}})(K);return{...y,on:_=>y.get().each(_)}},p0=(y,_)=>lt(y,"td,th",_),vy=y=>Dc(y).exists(ko),dS={traverse:dl,gather:u0,relative:er.before,retry:Ju.tryDown,failure:Ib.failedDown},b0={traverse:So,gather:uS,relative:er.before,retry:Ju.tryUp,failure:Ib.failedUp},ym=y=>_=>_===y,v0=ym(38),Op=ym(40),Rp=y=>y>=37&&y<=40,sg={isBackward:ym(37),isForward:ym(39)},rg={isBackward:ym(39),isForward:ym(37)},y0=nh([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),ig={domRange:y0.domRange,relative:y0.relative,exact:y0.exact,exactFromRange:y=>y0.exact(y.start,y.soffset,y.finish,y.foffset),getWin:y=>{const _=(A=>A.match({domRange:F=>tn.fromDom(F.startContainer),relative:(F,j)=>er.getStart(F),exact:(F,j,G,le)=>F}))(y);return tn.fromDom(Ic(_).dom.defaultView)},range:i0},ag=(y,_)=>{const A=wt(y);return A==="input"?er.after(y):ct(["br","img"],A)?_===0?er.before(y):er.after(y):er.on(y,_)},lg=y=>oe.from(y.getSelection()),Ip=(y,_)=>{lg(y).each(A=>{A.removeAllRanges(),A.addRange(_)})},yy=(y,_,A,F,j)=>{const G=r0(y,_,A,F,j);Ip(y,G)},Pb=(y,_)=>my(y,_).match({ltr:(A,F,j,G)=>{yy(y,A,F,j,G)},rtl:(A,F,j,G)=>{lg(y).each(le=>{if(le.setBaseAndExtent)le.setBaseAndExtent(A.dom,F,j.dom,G);else if(le.extend)try{((me,Ie,je,st,ze,Ge)=>{Ie.collapse(je.dom,st),Ie.extend(ze.dom,Ge)})(0,le,A,F,j,G)}catch{yy(y,j,G,A,F)}else yy(y,j,G,A,F)})}}),xy=(y,_,A,F,j)=>{const G=((le,me,Ie,je)=>{const st=ag(le,me),ze=ag(Ie,je);return ig.relative(st,ze)})(_,A,F,j);Pb(y,G)},_w=(y,_,A)=>{const F=((j,G)=>{const le=j.fold(er.before,ag,er.after),me=G.fold(er.before,ag,er.after);return ig.relative(le,me)})(_,A);Pb(y,F)},Nb=y=>{if(y.rangeCount>0){const _=y.getRangeAt(0),A=y.getRangeAt(y.rangeCount-1);return oe.some(i0(tn.fromDom(_.startContainer),_.startOffset,tn.fromDom(A.endContainer),A.endOffset))}return oe.none()},na=y=>{if(y.anchorNode===null||y.focusNode===null)return Nb(y);{const _=tn.fromDom(y.anchorNode),A=tn.fromDom(y.focusNode);return((F,j,G,le)=>{const me=((je,st,ze,Ge)=>{const Xe=Rc(je).dom.createRange();return Xe.setStart(je.dom,st),Xe.setEnd(ze.dom,Ge),Xe})(F,j,G,le),Ie=js(F,G)&&j===le;return me.collapsed&&!Ie})(_,y.anchorOffset,A,y.focusOffset)?oe.some(i0(_,y.anchorOffset,A,y.focusOffset)):Nb(y)}},kw=(y,_,A=!0)=>{const F=(A?uy:vi)(y,_);Ip(y,F)},fS=y=>(_=>lg(_).filter(A=>A.rangeCount>0).bind(na))(y).map(_=>ig.exact(_.start,_.soffset,_.finish,_.foffset)),Ew=(y,_,A)=>((F,j,G)=>((le,me,Ie)=>le.caretPositionFromPoint?((je,st,ze)=>{var Ge;return oe.from((Ge=je.caretPositionFromPoint)===null||Ge===void 0?void 0:Ge.call(je,st,ze)).bind(Xe=>{if(Xe.offsetNode===null)return oe.none();const pt=je.createRange();return pt.setStart(Xe.offsetNode,Xe.offset),pt.collapse(),oe.some(pt)})})(le,me,Ie):le.caretRangeFromPoint?((je,st,ze)=>{var Ge;return oe.from((Ge=je.caretRangeFromPoint)===null||Ge===void 0?void 0:Ge.call(je,st,ze))})(le,me,Ie):oe.none())(F.document,j,G).map(le=>i0(tn.fromDom(le.startContainer),le.startOffset,tn.fromDom(le.endContainer),le.endOffset)))(y,_,A),Tw=y=>({elementFromPoint:(_,A)=>tn.fromPoint(tn.fromDom(y.document),_,A),getRect:_=>_.dom.getBoundingClientRect(),getRangedRect:(_,A,F,j)=>{const G=ig.exact(_,A,F,j);return((le,me)=>(Ie=>{const je=Ie.getClientRects(),st=je.length>0?je[0]:Ie.getBoundingClientRect();return st.width>0||st.height>0?oe.some(st).map(bw):oe.none()})(vw(le,me)))(y,G)},getSelection:()=>fS(y).map(_=>yw(y,_)),fromSitus:_=>{const A=ig.relative(_.start,_.finish);return yw(y,A)},situsFromPoint:(_,A)=>Ew(y,_,A).map(F=>fc(F.start,F.soffset,F.finish,F.foffset)),clearSelection:()=>{(_=>{lg(_).each(A=>A.removeAllRanges())})(y)},collapseSelection:(_=!1)=>{fS(y).each(A=>A.fold(F=>F.collapse(_),(F,j)=>{const G=_?F:j;_w(y,G,G)},(F,j,G,le)=>{const me=_?F:G,Ie=_?j:le;xy(y,me,Ie,me,Ie)}))},setSelection:_=>{xy(y,_.start,_.soffset,_.finish,_.foffset)},setRelativeSelection:(_,A)=>{_w(y,_,A)},selectNode:_=>{kw(y,_,!1)},selectContents:_=>{kw(y,_)},getInnerHeight:()=>y.innerHeight,getScrollY:()=>(_=>{const A=_!==void 0?_.dom:document,F=A.body.scrollLeft||A.documentElement.scrollLeft,j=A.body.scrollTop||A.documentElement.scrollTop;return Za(F,j)})(tn.fromDom(y.document)).top,scrollBy:(_,A)=>{((F,j,G)=>{const le=(G!==void 0?G.dom:document).defaultView;le&&le.scrollBy(F,j)})(_,A,tn.fromDom(y.document))}}),cg=(y,_)=>({rows:y,cols:_}),wy=y=>mt(y,no).exists(ko),x0=(y,_)=>wy(y)||wy(_),Aw=y=>y.dom.classList!==void 0,sT=(y,_)=>((A,F,j)=>{const G=((le,me)=>{const Ie=cn(le,me);return Ie===void 0||Ie===""?[]:Ie.split(" ")})(A,F).concat([j]);return xs(A,F,G.join(" ")),!0})(y,"class",_),ug=(y,_)=>{Aw(y)?y.dom.classList.add(_):sT(y,_)},w0=(y,_)=>Aw(y)&&y.dom.classList.contains(_),mS=()=>({tag:"none"}),gS=y=>({tag:"multiple",elements:y}),Sd=y=>({tag:"single",element:y}),Ow=y=>{const _=tn.fromDom((me=>{if(O(me.target)){const Ie=tn.fromDom(me.target);if(co(Ie)&&O(Ie.dom.shadowRoot)&&me.composed&&me.composedPath){const je=me.composedPath();if(je)return Bn(je)}}return oe.from(me.target)})(y).getOr(y.target)),A=()=>y.stopPropagation(),F=()=>y.preventDefault(),j=(G=F,le=A,(...me)=>G(le.apply(null,me)));var G,le;return((me,Ie,je,st,ze,Ge,Xe)=>({target:me,x:Ie,y:je,stop:st,prevent:ze,kill:Ge,raw:Xe}))(_,y.clientX,y.clientY,A,F,j,y)},Cy=(y,_,A,F)=>{y.dom.removeEventListener(_,A,F)},hS=he,Dp=(y,_,A)=>((F,j,G,le)=>((me,Ie,je,st,ze)=>{const Ge=((Xe,pt)=>yt=>{Xe(yt)&&pt(Ow(yt))})(je,st);return me.dom.addEventListener(Ie,Ge,ze),{unbind:U(Cy,me,Ie,Ge,ze)}})(F,j,G,le,!1))(y,_,hS,A),Mb=Ow,C0=y=>!w0(tn.fromDom(y.target),"ephox-snooker-resizer-bar"),pS=(y,_)=>{const A=(j=ff.selectedSelector,{get:()=>Uc(tn.fromDom(y.getBody()),j).fold(()=>Ar(zc(y),ei(y)).fold(mS,Sd),gS)}),F=((G,le,me)=>{const Ie=Ge=>{$o(Ge,G.selected),$o(Ge,G.firstSelected),$o(Ge,G.lastSelected)},je=Ge=>{xs(Ge,G.selected,"1")},st=Ge=>{ze(Ge),me()},ze=Ge=>{const Xe=Vs(Ge,`${G.selectedSelector},${G.firstSelectedSelector},${G.lastSelectedSelector}`);dt(Xe,Ie)};return{clearBeforeUpdate:ze,clear:st,selectRange:(Ge,Xe,pt,yt)=>{st(Ge),dt(Xe,je),xs(pt,G.firstSelected,"1"),xs(yt,G.lastSelected,"1"),le(Xe,pt,yt)},selectedSelector:G.selectedSelector,firstSelectedSelector:G.firstSelectedSelector,lastSelectedSelector:G.lastSelectedSelector}})(ff,(G,le,me)=>{Il(le).each(Ie=>{const je=I(G,Xe=>Xe.dom),st=_c(y),ze=ir(K,tn.fromDom(y.getDoc()),st),Ge=((Xe,pt,yt)=>{const Kt=qo(Xe);return Ja(Kt,pt).map(jt=>{const Wt=Vn(Kt,yt,!1),{rows:Gt}=fr(Wt),fn=((St,Mn)=>{const po=St.slice(0,Mn[Mn.length-1].row+1),zo=Ko(po);return Ve(zo,Ao=>{const bo=Ao.cells.slice(0,Mn[Mn.length-1].column+1);return I(bo,Vo=>Vo.element)})})(Gt,jt),hn=((St,Mn)=>{const po=St.slice(Mn[0].row+Mn[0].rowspan-1,St.length),zo=Ko(po);return Ve(zo,Ao=>{const bo=Ao.cells.slice(Mn[0].column+Mn[0].colspan-1,Ao.cells.length);return I(bo,Vo=>Vo.element)})})(Gt,jt);return{upOrLeftCells:fn,downOrRightCells:hn}})})(Ie,{selection:Wc(y)},ze).map(Xe=>qe(Xe,pt=>I(pt,yt=>yt.dom))).getOrUndefined();((Xe,pt,yt,Kt,jt)=>{Xe.dispatch("TableSelectionChange",{cells:pt,start:yt,finish:Kt,otherCells:jt})})(y,je,le.dom,me.dom,Ge)})},()=>(G=>{G.dispatch("TableSelectionClear")})(y));var j;return y.on("init",G=>{const le=y.getWin(),me=Is(y),Ie=ei(y),je=((yt,Kt,jt,Wt)=>{const Gt=((fn,hn,St,Mn)=>{const po=by(),zo=po.clear,Ao=bo=>{po.on(Vo=>{Mn.clearBeforeUpdate(hn),p0(bo.target,St).each(ws=>{Hc(Vo,ws,St).each(Ri=>{const xl=Ri.boxes.getOr([]);if(xl.length===1){const La=xl[0],bu=jn(La)==="false",ph=rn(Mo(bo.target),La,js);bu&&ph&&Mn.selectRange(hn,xl,La,La)}else xl.length>1&&(Mn.selectRange(hn,xl,Ri.start,Ri.finish),fn.selectContents(ws))})})})};return{clearstate:zo,mousedown:bo=>{Mn.clear(hn),p0(bo.target,St).filter(vy).each(po.set)},mouseover:bo=>{Ao(bo)},mouseup:bo=>{Ao(bo),zo()}}})(Tw(yt),Kt,jt,Wt);return{clearstate:Gt.clearstate,mousedown:Gt.mousedown,mouseover:Gt.mouseover,mouseup:Gt.mouseup}})(le,me,Ie,F),st=((yt,Kt,jt,Wt)=>{const Gt=Tw(yt),fn=()=>(Wt.clear(Kt),oe.none());return{keydown:(hn,St,Mn,po,zo,Ao)=>{const bo=hn.raw,Vo=bo.which,ws=bo.shiftKey===!0;return dp(Kt,Wt.selectedSelector).fold(()=>(Rp(Vo)&&!ws&&Wt.clearBeforeUpdate(Kt),Rp(Vo)&&ws&&!x0(St,po)?oe.none:Op(Vo)&&ws?U(Zc,Gt,Kt,jt,dS,po,St,Wt.selectRange):v0(Vo)&&ws?U(Zc,Gt,Kt,jt,b0,po,St,Wt.selectRange):Op(Vo)?U(vm,Gt,jt,dS,po,St,fh):v0(Vo)?U(vm,Gt,jt,b0,po,St,Db):oe.none),xl=>{const La=bu=>()=>te(bu,wl=>((vf,Bb,mg,Fb,Oy)=>pa(Fb,vf,Bb,Oy.firstSelectedSelector,Oy.lastSelectedSelector).map(gg=>(Oy.clearBeforeUpdate(mg),Oy.selectRange(mg,gg.boxes,gg.start,gg.finish),gg.boxes)))(wl.rows,wl.cols,Kt,xl,Wt)).fold(()=>uf(Kt,Wt.firstSelectedSelector,Wt.lastSelectedSelector).map(wl=>{const vf=Op(Vo)||Ao.isForward(Vo)?er.after:er.before;return Gt.setRelativeSelection(er.on(wl.first,0),vf(wl.table)),Wt.clear(Kt),Yr(oe.none(),!0)}),wl=>oe.some(Yr(oe.none(),!0)));return Rp(Vo)&&ws&&!x0(St,po)?oe.none:Op(Vo)&&ws?La([cg(1,0)]):v0(Vo)&&ws?La([cg(-1,0)]):Ao.isBackward(Vo)&&ws?La([cg(0,-1),cg(-1,0)]):Ao.isForward(Vo)&&ws?La([cg(0,1),cg(1,0)]):Rp(Vo)&&!ws?fn:oe.none})()},keyup:(hn,St,Mn,po,zo)=>dp(Kt,Wt.selectedSelector).fold(()=>{const Ao=hn.raw,bo=Ao.which;return Ao.shiftKey===!0&&Rp(bo)&&x0(St,po)?((Vo,ws,Ri,xl,La,bu,ph)=>js(Ri,La)&&xl===bu?oe.none():lt(Ri,"td,th",ws).bind(wl=>lt(La,"td,th",ws).bind(vf=>a0(Vo,ws,wl,vf,ph))))(Kt,jt,St,Mn,po,zo,Wt.selectRange):oe.none()},oe.none)}})(le,me,Ie,F),ze=((yt,Kt,jt,Wt)=>{const Gt=Tw(yt);return(fn,hn)=>{Wt.clearBeforeUpdate(Kt),Hc(fn,hn,jt).each(St=>{const Mn=St.boxes.getOr([]);Wt.selectRange(Kt,Mn,St.start,St.finish),Gt.selectContents(hn),Gt.collapseSelection()})}})(le,me,Ie,F);y.on("TableSelectorChange",yt=>ze(yt.start,yt.finish));const Ge=(yt,Kt)=>{(jt=>jt.raw.shiftKey===!0)(yt)&&(Kt.kill&&yt.kill(),Kt.selection.each(jt=>{const Wt=ig.relative(jt.start,jt.finish),Gt=vw(le,Wt);y.selection.setRng(Gt)}))},Xe=yt=>yt.button===0,pt=(()=>{const yt=py(tn.fromDom(me)),Kt=py(0);return{touchEnd:jt=>{const Wt=tn.fromDom(jt.target);if(Cs("td")(Wt)||Cs("th")(Wt)){const Gt=yt.get(),fn=Kt.get();js(Gt,Wt)&&jt.timeStamp-fn<300&&(jt.preventDefault(),ze(Wt,Wt))}yt.set(Wt),Kt.set(jt.timeStamp)}}})();y.on("dragstart",yt=>{je.clearstate()}),y.on("mousedown",yt=>{Xe(yt)&&C0(yt)&&je.mousedown(Mb(yt))}),y.on("mouseover",yt=>{var Kt;(Kt=yt).buttons!==void 0&&(1&Kt.buttons)==0||!C0(yt)||je.mouseover(Mb(yt))}),y.on("mouseup",yt=>{Xe(yt)&&C0(yt)&&je.mouseup(Mb(yt))}),y.on("touchend",pt.touchEnd),y.on("keyup",yt=>{const Kt=Mb(yt);if(Kt.raw.shiftKey&&Rp(Kt.raw.which)){const jt=y.selection.getRng(),Wt=tn.fromDom(jt.startContainer),Gt=tn.fromDom(jt.endContainer);st.keyup(Kt,Wt,jt.startOffset,Gt,jt.endOffset).each(fn=>{Ge(Kt,fn)})}}),y.on("keydown",yt=>{const Kt=Mb(yt);_.hide();const jt=y.selection.getRng(),Wt=tn.fromDom(jt.startContainer),Gt=tn.fromDom(jt.endContainer),fn=ss(sg,rg)(tn.fromDom(y.selection.getStart()));st.keydown(Kt,Wt,jt.startOffset,Gt,jt.endOffset,fn).each(hn=>{Ge(Kt,hn)}),_.show()}),y.on("NodeChange",()=>{const yt=y.selection,Kt=tn.fromDom(yt.getStart()),jt=tn.fromDom(yt.getEnd());cf(Il,[Kt,jt]).fold(()=>F.clear(me),K)})}),y.on("PreInit",()=>{y.serializer.addTempAttr(ff.firstSelected),y.serializer.addTempAttr(ff.lastSelected)}),{getSelectedCells:()=>((G,le,me,Ie)=>{switch(G.tag){case"none":return le();case"single":return(je=>[je.dom])(G.element);case"multiple":return(je=>I(je,st=>st.dom))(G.elements)}})(A.get(),Z([])),clearSelectedCells:G=>F.clear(tn.fromDom(G))}},_d=y=>{let _=[];return{bind:A=>{if(A===void 0)throw new Error("Event bind error: undefined handler");_.push(A)},unbind:A=>{_=Ft(_,F=>F!==A)},trigger:(...A)=>{const F={};dt(y,(j,G)=>{F[j]=A[G]}),dt(_,j=>{j(F)})}}},mh=y=>({registry:qe(y,_=>({bind:_.bind,unbind:_.unbind})),trigger:qe(y,_=>_.trigger)}),S0=y=>y.slice(0).sort(),_0=(y,_)=>{const A=Ft(_,F=>!ct(y,F));A.length>0&&(F=>{throw new Error("Unsupported keys for object: "+S0(F).join(", "))})(A)},Sy=y=>((_,A)=>((F,j,G)=>{if(j.length===0)throw new Error("You must specify at least one required field.");return((le,me)=>{if(!x(me))throw new Error("The "+le+" fields must be an array. Was: "+me+".");dt(me,Ie=>{if(!g(Ie))throw new Error("The value "+Ie+" in the "+le+" fields was not a string.")})})("required",j),(le=>{const me=S0(le);Rn(me,(Ie,je)=>je<me.length-1&&Ie===me[je+1]).each(Ie=>{throw new Error("The field: "+Ie+" occurs more than once in the combined fields: ["+me.join(", ")+"].")})})(j),le=>{const me=vo(le);bt(j,je=>ct(me,je))||((je,st)=>{throw new Error("All required keys ("+S0(je).join(", ")+") were not specified. Specified keys were: "+S0(st).join(", ")+".")})(j,me),F(j,me);const Ie=Ft(j,je=>!G.validate(le[je],je));return Ie.length>0&&((je,st)=>{throw new Error("All values need to be of type: "+st+". Keys ("+S0(je).join(", ")+") were not.")})(Ie,G.label),le}})(_,A,{validate:M,label:"function"}))(_0,y),k0=Sy(["compare","extract","mutate","sink"]),ol=Sy(["element","start","stop","destroy"]),_y=Sy(["forceDrop","drop","move","delayDrop"]),gh=()=>{const y=(()=>{const F=mh({move:_d(["info"])});return{onEvent:K,reset:K,events:F.registry}})(),_=(()=>{let F=oe.none();const j=mh({move:_d(["info"])});return{onEvent:(G,le)=>{le.extract(G).each(me=>{((je,st)=>{const ze=F.map(Ge=>je.compare(Ge,st));return F=oe.some(st),ze})(le,me).each(je=>{j.trigger.move(je)})})},reset:()=>{F=oe.none()},events:j.registry}})();let A=y;return{on:()=>{A.reset(),A=_},off:()=>{A.reset(),A=y},isOn:()=>A===_,onEvent:(F,j)=>{A.onEvent(F,j)},events:_.events}},hh=y=>{const _=y.replace(/\./g,"-");return{resolve:A=>_+"-"+A}},E0=hh("ephox-dragster").resolve;var ky=k0({compare:(y,_)=>Za(_.left-y.left,_.top-y.top),extract:y=>oe.some(Za(y.x,y.y)),sink:(y,_)=>{const A=(me=>{const Ie={layerClass:E0("blocker"),...me},je=tn.fromTag("div");return xs(je,"role","presentation"),rc(je,{position:"fixed",left:"0px",top:"0px",width:"100%",height:"100%"}),ug(je,E0("blocker")),ug(je,Ie.layerClass),{element:Z(je),destroy:()=>{dr(je)}}})(_),F=Dp(A.element(),"mousedown",y.forceDrop),j=Dp(A.element(),"mouseup",y.drop),G=Dp(A.element(),"mousemove",y.move),le=Dp(A.element(),"mouseout",y.delayDrop);return ol({element:A.element,start:me=>{Tr(me,A.element())},stop:()=>{dr(A.element())},destroy:()=>{A.destroy(),j.unbind(),G.unbind(),le.unbind(),F.unbind()}})},mutate:(y,_)=>{y.mutate(_.left,_.top)}});const Pp=hh("ephox-snooker").resolve,dg=Pp("resizer-bar"),Rw=Pp("resizer-rows"),Ey=Pp("resizer-cols"),Xl=y=>{const _=Vs(y.parent(),"."+dg);dt(_,dr)},fg=(y,_,A)=>{const F=y.origin();dt(_,j=>{j.each(G=>{const le=A(F,G);ug(le,dg),Tr(y.parent(),le)})})},Iw=(y,_,A,F,j)=>{const G=nf(A),le=_.isResizable,me=F.length>0?Lu.positions(F,A):[],Ie=me.length>0?((ze,Ge)=>Ve(ze.all,(Xe,pt)=>Ge(Xe.element)?[pt]:[]))(y,le):[];((ze,Ge,Xe,pt)=>{fg(ze,Ge,(yt,Kt)=>{const jt=((Wt,Gt,fn,hn,St)=>{const Mn=tn.fromTag("div");return rc(Mn,{position:"absolute",left:Gt+"px",top:fn-3.5+"px",height:"7px",width:hn+"px"}),aa(Mn,{"data-row":Wt,role:"presentation"}),Mn})(Kt.row,Xe.left-yt.left,Kt.y-yt.top,pt);return ug(jt,Rw),jt})})(_,Ft(me,(ze,Ge)=>Ce(Ie,Xe=>Ge===Xe)),G,Qd(A));const je=j.length>0?of.positions(j,A):[],st=je.length>0?((ze,Ge)=>{const Xe=[];return Te(ze.grid.columns,pt=>{Ss(ze,pt).map(yt=>yt.element).forall(Ge)&&Xe.push(pt)}),Ft(Xe,pt=>{const yt=Ni(ze,Kt=>Kt.column===pt);return bt(yt,Kt=>Ge(Kt.element))})})(y,le):[];((ze,Ge,Xe,pt)=>{fg(ze,Ge,(yt,Kt)=>{const jt=((Wt,Gt,fn,hn,St)=>{const Mn=tn.fromTag("div");return rc(Mn,{position:"absolute",left:Gt-3.5+"px",top:fn+"px",height:St+"px",width:"7px"}),aa(Mn,{"data-column":Wt,role:"presentation"}),Mn})(Kt.col,Kt.x-yt.left,Xe.top-yt.top,0,pt);return ug(jt,Ey),jt})})(_,Ft(je,(ze,Ge)=>Ce(st,Xe=>Ge===Xe)),G,Kg(A))},Dt=(y,_)=>{if(Xl(y),y.isResizable(_)){const A=qo(_),F=lu(A),j=Xf(A);Iw(A,y,_,F,j)}},Lb=(y,_)=>{const A=Vs(y.parent(),"."+dg);dt(A,_)},rT=y=>{Lb(y,_=>{Uo(_,"display","none")})},bS=y=>{Lb(y,_=>{Uo(_,"display","block")})},Ty=Pp("resizer-bar-dragging"),kd=y=>{const _=(()=>{const ze=mh({drag:_d(["xDelta","yDelta","target"])});let Ge=oe.none();const Xe=(()=>{const pt=mh({drag:_d(["xDelta","yDelta"])});return{mutate:(yt,Kt)=>{pt.trigger.drag(yt,Kt)},events:pt.registry}})();return Xe.events.drag.bind(pt=>{Ge.each(yt=>{ze.trigger.drag(pt.xDelta,pt.yDelta,yt)})}),{assign:pt=>{Ge=oe.some(pt)},get:()=>Ge,mutate:Xe.mutate,events:ze.registry}})(),A=((ze,Ge={})=>{var Xe;return((pt,yt,Kt)=>{let jt=!1;const Wt=mh({start:_d([]),stop:_d([])}),Gt=gh(),fn=()=>{Mn.stop(),Gt.isOn()&&(Gt.off(),Wt.trigger.stop())},hn=((po,zo)=>{let Ao=null;const bo=()=>{w(Ao)||(clearTimeout(Ao),Ao=null)};return{cancel:bo,throttle:(...Vo)=>{bo(),Ao=setTimeout(()=>{Ao=null,po.apply(null,Vo)},200)}}})(fn);Gt.events.move.bind(po=>{yt.mutate(pt,po.info)});const St=po=>(...zo)=>{jt&&po.apply(null,zo)},Mn=yt.sink(_y({forceDrop:fn,drop:St(fn),move:St(po=>{hn.cancel(),Gt.onEvent(po,yt)}),delayDrop:St(hn.throttle)}),Kt);return{element:Mn.element,go:po=>{Mn.start(po),Gt.on(),Wt.trigger.start()},on:()=>{jt=!0},off:()=>{jt=!1},isActive:()=>jt,destroy:()=>{Mn.destroy()},events:Wt.registry}})(ze,(Xe=Ge.mode)!==null&&Xe!==void 0?Xe:ky,Ge)})(_,{});let F=oe.none();const j=(ze,Ge)=>oe.from(cn(ze,Ge));_.events.drag.bind(ze=>{j(ze.target,"data-row").each(Ge=>{const Xe=qf(ze.target,"top");Uo(ze.target,"top",Xe+ze.yDelta+"px")}),j(ze.target,"data-column").each(Ge=>{const Xe=qf(ze.target,"left");Uo(ze.target,"left",Xe+ze.xDelta+"px")})});const G=(ze,Ge)=>qf(ze,Ge)-Or(ze,"data-initial-"+Ge,0);A.events.stop.bind(()=>{_.get().each(ze=>{F.each(Ge=>{j(ze,"data-row").each(Xe=>{const pt=G(ze,"top");$o(ze,"data-initial-top"),st.trigger.adjustHeight(Ge,pt,parseInt(Xe,10))}),j(ze,"data-column").each(Xe=>{const pt=G(ze,"left");$o(ze,"data-initial-left"),st.trigger.adjustWidth(Ge,pt,parseInt(Xe,10))}),Dt(y,Ge)})})});const le=(ze,Ge)=>{st.trigger.startAdjust(),_.assign(ze),xs(ze,"data-initial-"+Ge,qf(ze,Ge)),ug(ze,Ty),Uo(ze,"opacity","0.2"),A.go(y.parent())},me=Dp(y.parent(),"mousedown",ze=>{var Ge;Ge=ze.target,w0(Ge,Rw)&&le(ze.target,"top"),(Xe=>w0(Xe,Ey))(ze.target)&&le(ze.target,"left")}),Ie=ze=>js(ze,y.view()),je=Dp(y.view(),"mouseover",ze=>{var Ge;(Ge=ze.target,lt(Ge,"table",Ie).filter(ko)).fold(()=>{gl(ze.target)&&Xl(y)},Xe=>{A.isActive()&&(F=oe.some(Xe),Dt(y,Xe))})}),st=mh({adjustHeight:_d(["table","delta","row"]),adjustWidth:_d(["table","delta","column"]),startAdjust:_d([])});return{destroy:()=>{me.unbind(),je.unbind(),A.destroy(),Xl(y)},refresh:ze=>{Dt(y,ze)},on:A.on,off:A.off,hideBars:U(rT,y),showBars:U(bS,y),events:st.registry}},Ay=y=>O(y)&&y.nodeName==="TABLE",T0="bar-",Dw=y=>cn(y,"data-mce-resize")!=="false",Pw=y=>{const _=by(),A=by(),F=by();let j,G,le,me;const Ie=ze=>tg(y,ze),je=()=>om(y)?fp():Ku(),st=(ze,Ge,Xe,pt)=>{const yt=(Wt=>{return Po(Gt=Wt,"corner-")?((fn,hn)=>fn.substring(7))(Gt):Gt;var Gt})(Ge),Kt=xn(yt,"e"),jt=Po(yt,"n");if(G===""&&Cp(ze),me===""&&(Wt=>{const Gt=(fn=>Mu(fn)+"px")(Wt);br(Wt,oe.none(),oe.some(Gt)),wd(Wt)})(ze),Xe!==j&&G!==""){Uo(ze,"width",G);const Wt=je(),Gt=Ie(ze),fn=om(y)||Kt?(hn=>gu(hn).columns)(ze)-1:0;fm(ze,Xe-j,fn,Wt,Gt)}else if((Wt=>/^(\d+(\.\d+)?)%$/.test(Wt))(G)){const Wt=parseFloat(G.replace("%",""));Uo(ze,"width",Xe*Wt/j+"%")}if((Wt=>/^(\d+(\.\d+)?)px$/.test(Wt))(G)&&(Wt=>{const Gt=qo(Wt);Mc(Gt)||dt(Rr(Wt),fn=>{const hn=Oa(fn,"width");Uo(fn,"width",hn),$o(fn,"width")})})(ze),pt!==le&&me!==""){Uo(ze,"height",me);const Wt=jt?0:(Gt=>gu(Gt).rows)(ze)-1;gp(ze,pt-le,Wt)}};return y.on("init",()=>{const ze=((Ge,Xe)=>Ge.inline?((pt,yt,Kt)=>({parent:Z(yt),view:Z(pt),origin:Z(Za(0,0)),isResizable:Kt}))(tn.fromDom(Ge.getBody()),(()=>{const pt=tn.fromTag("div");return rc(pt,{position:"static",height:"0",width:"0",padding:"0",margin:"0",border:"0"}),Tr(ou(tn.fromDom(document)),pt),pt})(),Xe):((pt,yt)=>{const Kt=Ho(pt)?(jt=>tn.fromDom(Ic(jt).dom.documentElement))(pt):pt;return{parent:Z(Kt),view:Z(pt),origin:Z(Za(0,0)),isResizable:yt}})(tn.fromDom(Ge.getDoc()),Xe))(y,Dw);if(F.set(ze),(Ge=>{const Xe=Ge.options.get("object_resizing");return ct(Xe.split(","),"table")})(y)&&fe(y)){const Ge=((Xe,pt,yt)=>{const Kt=Lu,jt=of,Wt=kd(Xe),Gt=mh({beforeResize:_d(["table","type"]),afterResize:_d(["table","type"]),startDrag:_d([])});return Wt.events.adjustHeight.bind(fn=>{const hn=fn.table;Gt.trigger.beforeResize(hn,"row");const St=Kt.delta(fn.delta,hn);gp(hn,St,fn.row),Gt.trigger.afterResize(hn,"row")}),Wt.events.startAdjust.bind(fn=>{Gt.trigger.startDrag()}),Wt.events.adjustWidth.bind(fn=>{const hn=fn.table;Gt.trigger.beforeResize(hn,"col");const St=jt.delta(fn.delta,hn),Mn=yt(hn);fm(hn,St,fn.column,pt,Mn),Gt.trigger.afterResize(hn,"col")}),{on:Wt.on,off:Wt.off,refreshBars:Wt.refresh,hideBars:Wt.hideBars,showBars:Wt.showBars,destroy:Wt.destroy,events:Gt.registry}})(ze,je(),Ie);Ge.on(),Ge.events.startDrag.bind(Xe=>{_.set(y.selection.getRng())}),Ge.events.beforeResize.bind(Xe=>{const pt=Xe.table.dom;((yt,Kt,jt,Wt,Gt)=>{yt.dispatch("ObjectResizeStart",{target:Kt,width:jt,height:Wt,origin:Gt})})(y,pt,rf(pt),sm(pt),T0+Xe.type)}),Ge.events.afterResize.bind(Xe=>{const pt=Xe.table,yt=pt.dom;Pr(pt),_.on(Kt=>{y.selection.setRng(Kt),y.focus()}),((Kt,jt,Wt,Gt,fn)=>{Kt.dispatch("ObjectResized",{target:jt,width:Wt,height:Gt,origin:fn})})(y,yt,rf(yt),sm(yt),T0+Xe.type),y.undoManager.add()}),A.set(Ge)}}),y.on("ObjectResizeStart",ze=>{const Ge=ze.target;if(Ay(Ge)){const Xe=tn.fromDom(Ge);dt(y.dom.select(".mce-clonedresizable"),pt=>{y.dom.addClass(pt,"mce-"+bd(y)+"-columns")}),!Lr(Xe)&&L(y)?dc(Xe):!cy(Xe)&&Uu(y)&&Cp(Xe),pf(Xe)&&Po(ze.origin,T0)&&Cp(Xe),j=ze.width,G=Y(y)?"":q1(y,Ge).getOr(""),le=ze.height,me=lp(y,Ge).getOr("")}}),y.on("ObjectResized",ze=>{const Ge=ze.target;if(Ay(Ge)){const Xe=tn.fromDom(Ge),pt=ze.origin;(yt=>Po(yt,"corner-"))(pt)&&st(Xe,pt,ze.width,ze.height),Pr(Xe),gm(y,Xe.dom,iy)}}),y.on("SwitchMode",()=>{A.on(ze=>{y.mode.isReadOnly()?ze.hideBars():ze.showBars()})}),y.on("dragstart dragend",ze=>{A.on(Ge=>{ze.type==="dragstart"?(Ge.hideBars(),Ge.off()):(Ge.on(),Ge.showBars())})}),y.on("remove",()=>{A.on(ze=>{ze.destroy()}),F.on(ze=>{((Ge,Xe)=>{Ge.inline&&dr(Xe.parent())})(y,ze)})}),{refresh:ze=>{A.on(Ge=>Ge.refreshBars(tn.fromDom(ze)))},hide:()=>{A.on(ze=>ze.hideBars())},show:()=>{A.on(ze=>ze.showBars())}}},iT=y=>{(j=>{const G=j.options.register;G("table_clone_elements",{processor:"string[]"}),G("table_use_colgroups",{processor:"boolean",default:!0}),G("table_header_type",{processor:le=>{const me=ct(["section","cells","sectionCells","auto"],le);return me?{value:le,valid:me}:{valid:!1,message:"Must be one of: section, cells, sectionCells or auto."}},default:"section"}),G("table_sizing_mode",{processor:"string",default:"auto"}),G("table_default_attributes",{processor:"object",default:{border:"1"}}),G("table_default_styles",{processor:"object",default:{"border-collapse":"collapse"}}),G("table_column_resizing",{processor:le=>{const me=ct(["preservetable","resizetable"],le);return me?{value:le,valid:me}:{valid:!1,message:"Must be preservetable, or resizetable."}},default:"preservetable"}),G("table_resize_bars",{processor:"boolean",default:!0}),G("table_style_by_css",{processor:"boolean",default:!0}),G("table_merge_content_on_paste",{processor:"boolean",default:!0})})(y);const _=Pw(y),A=pS(y,_),F=fw(y,_,A);return oi(y,F),((j,G)=>{const le=ei(j),me=Ie=>Ar(zc(j)).bind(je=>Il(je,le).map(st=>{const ze=Wo(Wc(j),st,je);return Ie(st,ze)})).getOr("");yn({mceTableRowType:()=>me(G.getTableRowType),mceTableCellType:()=>me(G.getTableCellType),mceTableColType:()=>me(G.getTableColType)},(Ie,je)=>j.addQueryValueHandler(je,Ie))})(y,F),Kc(y,F),{getSelectedCells:A.getSelectedCells,clearSelectedCells:A.clearSelectedCells}};t.add("dom",y=>({table:iT(y)}))})();tinymce.Resource.add("ui/default/skin.css",`.tox{box-shadow:none;box-sizing:content-box;color:#222f3e;cursor:auto;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:16px;font-style:normal;font-weight:400;line-height:normal;-webkit-tap-highlight-color:transparent;-webkit-text-decoration:none;text-decoration:none;text-shadow:none;text-transform:none;vertical-align:initial;white-space:normal}.tox :not(svg):not(rect){box-sizing:inherit;color:inherit;cursor:inherit;direction:inherit;font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;line-height:inherit;-webkit-tap-highlight-color:inherit;text-align:inherit;text-decoration:inherit;text-shadow:inherit;text-transform:inherit;vertical-align:inherit;white-space:inherit}.tox :not(svg):not(rect){background:0 0;border:0;box-shadow:none;float:none;height:auto;margin:0;max-width:none;outline:0;padding:0;position:static;width:auto}.tox:not([dir=rtl]){direction:ltr;text-align:left}.tox[dir=rtl]{direction:rtl;text-align:right}.tox-tinymce{border:2px solid #eee;border-radius:10px;box-shadow:none;box-sizing:border-box;display:flex;flex-direction:column;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;overflow:hidden;position:relative;visibility:inherit!important}.tox.tox-tinymce-inline{border:none;box-shadow:none;overflow:initial}.tox.tox-tinymce-inline .tox-editor-container{overflow:initial}.tox.tox-tinymce-inline .tox-editor-header{background-color:#fff;border:2px solid #eee;border-radius:10px;box-shadow:none;overflow:hidden}.tox-tinymce-aux{font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;z-index:1300}.tox-tinymce :focus,.tox-tinymce-aux :focus{outline:0}button::-moz-focus-inner{border:0}.tox[dir=rtl] .tox-icon--flip svg{transform:rotateY(180deg)}.tox .accessibility-issue__header{align-items:center;display:flex;margin-bottom:4px}.tox .accessibility-issue__description{align-items:stretch;border-radius:6px;display:flex;justify-content:space-between}.tox .accessibility-issue__description>div{padding-bottom:4px}.tox .accessibility-issue__description>div>div{align-items:center;display:flex;margin-bottom:4px}.tox .accessibility-issue__description>div>div .tox-icon svg{display:block}.tox .accessibility-issue__repair{margin-top:16px}.tox .tox-dialog__body-content .accessibility-issue--info .accessibility-issue__description{background-color:rgba(0,101,216,.1);color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--info .tox-form__group h2{color:#006ce7}.tox .tox-dialog__body-content .accessibility-issue--info .tox-icon svg{fill:#006ce7}.tox .tox-dialog__body-content .accessibility-issue--info a.tox-button--naked.tox-button--icon{background-color:#006ce7;color:#fff}.tox .tox-dialog__body-content .accessibility-issue--info a.tox-button--naked.tox-button--icon:focus,.tox .tox-dialog__body-content .accessibility-issue--info a.tox-button--naked.tox-button--icon:hover{background-color:#0060ce}.tox .tox-dialog__body-content .accessibility-issue--info a.tox-button--naked.tox-button--icon:active{background-color:#0054b4}.tox .tox-dialog__body-content .accessibility-issue--warn .accessibility-issue__description{background-color:rgba(255,165,0,.08);color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--warn .tox-form__group h2{color:#8f5d00}.tox .tox-dialog__body-content .accessibility-issue--warn .tox-icon svg{fill:#8f5d00}.tox .tox-dialog__body-content .accessibility-issue--warn a.tox-button--naked.tox-button--icon{background-color:#ffe89d;color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--warn a.tox-button--naked.tox-button--icon:focus,.tox .tox-dialog__body-content .accessibility-issue--warn a.tox-button--naked.tox-button--icon:hover{background-color:#f2d574;color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--warn a.tox-button--naked.tox-button--icon:active{background-color:#e8c657;color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--error .accessibility-issue__description{background-color:rgba(204,0,0,.1);color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--error .tox-form__group h2{color:#c00}.tox .tox-dialog__body-content .accessibility-issue--error .tox-icon svg{fill:#c00}.tox .tox-dialog__body-content .accessibility-issue--error a.tox-button--naked.tox-button--icon{background-color:#f2bfbf;color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--error a.tox-button--naked.tox-button--icon:focus,.tox .tox-dialog__body-content .accessibility-issue--error a.tox-button--naked.tox-button--icon:hover{background-color:#e9a4a4;color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--error a.tox-button--naked.tox-button--icon:active{background-color:#ee9494;color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--success .accessibility-issue__description{background-color:rgba(120,171,70,.1);color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--success .accessibility-issue__description>:last-child{display:none}.tox .tox-dialog__body-content .accessibility-issue--success .tox-form__group h2{color:#527530}.tox .tox-dialog__body-content .accessibility-issue--success .tox-icon svg{fill:#527530}.tox .tox-dialog__body-content .accessibility-issue__header .tox-form__group h1,.tox .tox-dialog__body-content .tox-form__group .accessibility-issue__description h2{font-size:14px;margin-top:0}.tox:not([dir=rtl]) .tox-dialog__body-content .accessibility-issue__header .tox-button{margin-left:4px}.tox:not([dir=rtl]) .tox-dialog__body-content .accessibility-issue__header>:nth-last-child(2){margin-left:auto}.tox:not([dir=rtl]) .tox-dialog__body-content .accessibility-issue__description{padding:4px 4px 4px 8px}.tox[dir=rtl] .tox-dialog__body-content .accessibility-issue__header .tox-button{margin-right:4px}.tox[dir=rtl] .tox-dialog__body-content .accessibility-issue__header>:nth-last-child(2){margin-right:auto}.tox[dir=rtl] .tox-dialog__body-content .accessibility-issue__description{padding:4px 8px 4px 4px}.tox .mce-codemirror{background:#fff;bottom:0;font-size:13px;left:0;position:absolute;right:0;top:0;z-index:1}.tox .mce-codemirror.tox-inline-codemirror{margin:8px;position:absolute}.tox .tox-advtemplate .tox-form__grid{flex:1}.tox .tox-advtemplate .tox-form__grid>div:first-child{display:flex;flex-direction:column;width:30%}.tox .tox-advtemplate .tox-form__grid>div:first-child>div:nth-child(2){flex-basis:0;flex-grow:1;overflow:auto}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox .tox-advtemplate .tox-form__grid>div:first-child{width:100%}}.tox .tox-advtemplate iframe{border-color:#eee;border-radius:10px;border-style:solid;border-width:1px;margin:0 10px}.tox .tox-anchorbar{display:flex;flex:0 0 auto}.tox .tox-bottom-anchorbar{display:flex;flex:0 0 auto}.tox .tox-bar{display:flex;flex:0 0 auto}.tox .tox-button{background-color:#006ce7;background-image:none;background-position:0 0;background-repeat:repeat;border-color:#006ce7;border-radius:6px;border-style:solid;border-width:1px;box-shadow:none;box-sizing:border-box;color:#fff;cursor:pointer;display:inline-block;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:14px;font-style:normal;font-weight:700;letter-spacing:normal;line-height:24px;margin:0;outline:0;padding:4px 16px;position:relative;text-align:center;-webkit-text-decoration:none;text-decoration:none;text-transform:none;white-space:nowrap}.tox .tox-button::before{border-radius:6px;bottom:-1px;box-shadow:inset 0 0 0 1px #fff,0 0 0 2px #006ce7;content:'';left:-1px;opacity:0;pointer-events:none;position:absolute;right:-1px;top:-1px}.tox .tox-button[disabled]{background-color:#006ce7;background-image:none;border-color:#006ce7;box-shadow:none;color:rgba(255,255,255,.5);cursor:not-allowed}.tox .tox-button:focus:not(:disabled){background-color:#0060ce;background-image:none;border-color:#0060ce;box-shadow:none;color:#fff}.tox .tox-button:focus:not(:disabled)::before{opacity:1}.tox .tox-button:hover:not(:disabled){background-color:#0060ce;background-image:none;border-color:#0060ce;box-shadow:none;color:#fff}.tox .tox-button:active:not(:disabled){background-color:#0054b4;background-image:none;border-color:#0054b4;box-shadow:none;color:#fff}.tox .tox-button.tox-button--enabled{background-color:#0054b4;background-image:none;border-color:#0054b4;box-shadow:none;color:#fff}.tox .tox-button.tox-button--enabled[disabled]{background-color:#0054b4;background-image:none;border-color:#0054b4;box-shadow:none;color:rgba(255,255,255,.5);cursor:not-allowed}.tox .tox-button.tox-button--enabled:focus:not(:disabled){background-color:#00489b;background-image:none;border-color:#00489b;box-shadow:none;color:#fff}.tox .tox-button.tox-button--enabled:hover:not(:disabled){background-color:#00489b;background-image:none;border-color:#00489b;box-shadow:none;color:#fff}.tox .tox-button.tox-button--enabled:active:not(:disabled){background-color:#003c81;background-image:none;border-color:#003c81;box-shadow:none;color:#fff}.tox .tox-button--icon-and-text,.tox .tox-button.tox-button--icon-and-text,.tox .tox-button.tox-button--secondary.tox-button--icon-and-text{display:flex;padding:5px 4px}.tox .tox-button--icon-and-text .tox-icon svg,.tox .tox-button.tox-button--icon-and-text .tox-icon svg,.tox .tox-button.tox-button--secondary.tox-button--icon-and-text .tox-icon svg{display:block;fill:currentColor}.tox .tox-button--secondary{background-color:#f0f0f0;background-image:none;background-position:0 0;background-repeat:repeat;border-color:#f0f0f0;border-radius:6px;border-style:solid;border-width:1px;box-shadow:none;color:#222f3e;font-size:14px;font-style:normal;font-weight:700;letter-spacing:normal;outline:0;padding:4px 16px;-webkit-text-decoration:none;text-decoration:none;text-transform:none}.tox .tox-button--secondary[disabled]{background-color:#f0f0f0;background-image:none;border-color:#f0f0f0;box-shadow:none;color:rgba(34,47,62,.5)}.tox .tox-button--secondary:focus:not(:disabled){background-color:#e3e3e3;background-image:none;border-color:#e3e3e3;box-shadow:none;color:#222f3e}.tox .tox-button--secondary:hover:not(:disabled){background-color:#e3e3e3;background-image:none;border-color:#e3e3e3;box-shadow:none;color:#222f3e}.tox .tox-button--secondary:active:not(:disabled){background-color:#d6d6d6;background-image:none;border-color:#d6d6d6;box-shadow:none;color:#222f3e}.tox .tox-button--secondary.tox-button--enabled{background-color:#a8c8ed;background-image:none;border-color:#a8c8ed;box-shadow:none;color:#222f3e}.tox .tox-button--secondary.tox-button--enabled[disabled]{background-color:#a8c8ed;background-image:none;border-color:#a8c8ed;box-shadow:none;color:rgba(34,47,62,.5)}.tox .tox-button--secondary.tox-button--enabled:focus:not(:disabled){background-color:#93bbe9;background-image:none;border-color:#93bbe9;box-shadow:none;color:#222f3e}.tox .tox-button--secondary.tox-button--enabled:hover:not(:disabled){background-color:#93bbe9;background-image:none;border-color:#93bbe9;box-shadow:none;color:#222f3e}.tox .tox-button--secondary.tox-button--enabled:active:not(:disabled){background-color:#7daee4;background-image:none;border-color:#7daee4;box-shadow:none;color:#222f3e}.tox .tox-button--icon,.tox .tox-button.tox-button--icon,.tox .tox-button.tox-button--secondary.tox-button--icon{padding:4px}.tox .tox-button--icon .tox-icon svg,.tox .tox-button.tox-button--icon .tox-icon svg,.tox .tox-button.tox-button--secondary.tox-button--icon .tox-icon svg{display:block;fill:currentColor}.tox .tox-button-link{background:0;border:none;box-sizing:border-box;cursor:pointer;display:inline-block;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:16px;font-weight:400;line-height:1.3;margin:0;padding:0;white-space:nowrap}.tox .tox-button-link--sm{font-size:14px}.tox .tox-button--naked{background-color:transparent;border-color:transparent;box-shadow:unset;color:#222f3e}.tox .tox-button--naked[disabled]{background-color:rgba(34,47,62,.12);border-color:transparent;box-shadow:unset;color:rgba(34,47,62,.5)}.tox .tox-button--naked:hover:not(:disabled){background-color:rgba(34,47,62,.12);border-color:transparent;box-shadow:unset;color:#222f3e}.tox .tox-button--naked:focus:not(:disabled){background-color:rgba(34,47,62,.12);border-color:transparent;box-shadow:unset;color:#222f3e}.tox .tox-button--naked:active:not(:disabled){background-color:rgba(34,47,62,.18);border-color:transparent;box-shadow:unset;color:#222f3e}.tox .tox-button--naked .tox-icon svg{fill:currentColor}.tox .tox-button--naked.tox-button--icon:hover:not(:disabled){color:#222f3e}.tox .tox-checkbox{align-items:center;border-radius:6px;cursor:pointer;display:flex;height:36px;min-width:36px}.tox .tox-checkbox__input{height:1px;overflow:hidden;position:absolute;top:auto;width:1px}.tox .tox-checkbox__icons{align-items:center;border-radius:6px;box-shadow:0 0 0 2px transparent;box-sizing:content-box;display:flex;height:24px;justify-content:center;padding:calc(4px - 1px);width:24px}.tox .tox-checkbox__icons .tox-checkbox-icon__unchecked svg{display:block;fill:rgba(34,47,62,0.3)}@media (forced-colors:active){.tox .tox-checkbox__icons .tox-checkbox-icon__unchecked svg{fill:currentColor!important}}.tox .tox-checkbox__icons .tox-checkbox-icon__indeterminate svg{display:none;fill:#006ce7}.tox .tox-checkbox__icons .tox-checkbox-icon__checked svg{display:none;fill:#006ce7}.tox .tox-checkbox--disabled{color:rgba(34,47,62,.5);cursor:not-allowed}.tox .tox-checkbox--disabled .tox-checkbox__icons .tox-checkbox-icon__checked svg{fill:rgba(34,47,62,0.5)}.tox .tox-checkbox--disabled .tox-checkbox__icons .tox-checkbox-icon__unchecked svg{fill:rgba(34,47,62,0.5)}.tox .tox-checkbox--disabled .tox-checkbox__icons .tox-checkbox-icon__indeterminate svg{fill:rgba(34,47,62,0.5)}.tox input.tox-checkbox__input:checked+.tox-checkbox__icons .tox-checkbox-icon__unchecked svg{display:none}.tox input.tox-checkbox__input:checked+.tox-checkbox__icons .tox-checkbox-icon__checked svg{display:block}.tox input.tox-checkbox__input:indeterminate+.tox-checkbox__icons .tox-checkbox-icon__unchecked svg{display:none}.tox input.tox-checkbox__input:indeterminate+.tox-checkbox__icons .tox-checkbox-icon__indeterminate svg{display:block}.tox input.tox-checkbox__input:focus+.tox-checkbox__icons{border-radius:6px;box-shadow:inset 0 0 0 1px #006ce7;padding:calc(4px - 1px)}.tox:not([dir=rtl]) .tox-checkbox__label{margin-left:4px}.tox:not([dir=rtl]) .tox-checkbox__input{left:-10000px}.tox:not([dir=rtl]) .tox-bar .tox-checkbox{margin-left:4px}.tox[dir=rtl] .tox-checkbox__label{margin-right:4px}.tox[dir=rtl] .tox-checkbox__input{right:-10000px}.tox[dir=rtl] .tox-bar .tox-checkbox{margin-right:4px}.tox .tox-collection--toolbar .tox-collection__group{display:flex;padding:0}.tox .tox-collection--grid .tox-collection__group{display:flex;flex-wrap:wrap;max-height:208px;overflow-x:hidden;overflow-y:auto;padding:0}.tox .tox-collection--list .tox-collection__group{border-bottom-width:0;border-color:#e3e3e3;border-left-width:0;border-right-width:0;border-style:solid;border-top-width:1px;padding:4px 0}.tox .tox-collection--list .tox-collection__group:first-child{border-top-width:0}.tox .tox-collection__group-heading{background-color:#fcfcfc;color:rgba(34,47,62,.7);cursor:default;font-size:12px;font-style:normal;font-weight:400;margin-bottom:4px;margin-top:-4px;padding:4px 8px;text-transform:none;-webkit-touch-callout:none;-webkit-user-select:none;user-select:none}.tox .tox-collection__item{align-items:center;border-radius:3px;color:#222f3e;display:flex;-webkit-touch-callout:none;-webkit-user-select:none;user-select:none}.tox .tox-collection--list .tox-collection__item{padding:4px 8px}.tox .tox-collection--toolbar .tox-collection__item{border-radius:3px;padding:4px}.tox .tox-collection--grid .tox-collection__item{border-radius:3px;padding:4px}.tox .tox-collection--list .tox-collection__item--enabled{background-color:#fff;color:#222f3e}.tox .tox-collection--list .tox-collection__item--active{background-color:#006ce7}.tox .tox-collection--toolbar .tox-collection__item--enabled,.tox .tox-collection--toolbar .tox-collection__item--enabled.tox-collection__item--active,.tox .tox-collection--toolbar .tox-collection__item--enabled.tox-collection__item--active:hover{background-color:#a6ccf7;color:#222f3e}@media (forced-colors:active){.tox .tox-collection--toolbar .tox-collection__item--enabled,.tox .tox-collection--toolbar .tox-collection__item--enabled.tox-collection__item--active,.tox .tox-collection--toolbar .tox-collection__item--enabled.tox-collection__item--active:hover{border-radius:3px;outline:solid 1px}}.tox .tox-collection--toolbar .tox-collection__item--active{background-color:#fff;position:relative}.tox .tox-collection--toolbar .tox-collection__item--active:hover{background-color:#f0f0f0;color:#222f3e}.tox .tox-collection--toolbar .tox-collection__item--active:focus{background-color:#f0f0f0;color:#222f3e}.tox .tox-collection--toolbar .tox-collection__item--active:focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-collection--toolbar .tox-collection__item--active:focus::after{border:2px solid highlight}}.tox .tox-collection--grid .tox-collection__item--enabled{background-color:#a6ccf7;color:#222f3e}.tox .tox-collection--grid .tox-collection__item--active:not(.tox-collection__item--state-disabled){background-color:#f0f0f0;color:#222f3e;position:relative;z-index:1}.tox .tox-collection--grid .tox-collection__item--active:not(.tox-collection__item--state-disabled):focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7 inset;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-collection--grid .tox-collection__item--active:not(.tox-collection__item--state-disabled):focus::after{border:2px solid highlight}}.tox .tox-collection--list .tox-collection__item--active:not(.tox-collection__item--state-disabled){color:#fff}@media (forced-colors:active){.tox .tox-collection--list .tox-collection__item--active:not(.tox-collection__item--state-disabled){border:solid 1px}}.tox .tox-collection--toolbar .tox-collection__item--active:not(.tox-collection__item--state-disabled){color:#222f3e}@media (forced-colors:active){.tox .tox-collection--toolbar .tox-collection__item--active:not(.tox-collection__item--state-disabled):hover{border-radius:3px;outline:solid 1px}}.tox .tox-collection__item-checkmark,.tox .tox-collection__item-icon{align-items:center;display:flex;height:24px;justify-content:center;width:24px}.tox .tox-collection__item-checkmark svg,.tox .tox-collection__item-icon svg{fill:currentColor}.tox .tox-collection--toolbar-lg .tox-collection__item-icon{height:48px;width:48px}.tox .tox-collection__item-label{color:currentColor;display:inline-block;flex:1;font-size:14px;font-style:normal;font-weight:400;line-height:24px;max-width:100%;text-transform:none;word-break:break-all}.tox .tox-collection__item-accessory{color:currentColor;display:inline-block;font-size:14px;height:24px;line-height:24px;text-transform:none}.tox .tox-collection__item-caret{align-items:center;display:flex;min-height:24px}.tox .tox-collection__item-caret::after{content:'';font-size:0;min-height:inherit}.tox .tox-collection__item-caret svg{fill:currentColor}.tox .tox-collection__item--state-disabled{background-color:transparent;color:rgba(34,47,62,.5);cursor:not-allowed}.tox .tox-collection__item--state-disabled .tox-collection__item-caret svg{fill:rgba(34,47,62,0.5)}.tox .tox-collection--list .tox-collection__item:not(.tox-collection__item--enabled) .tox-collection__item-checkmark svg{display:none}.tox .tox-collection--list .tox-collection__item:not(.tox-collection__item--enabled) .tox-collection__item-accessory+.tox-collection__item-checkmark{display:none}.tox .tox-collection--horizontal{background-color:#fff;border:1px solid #e3e3e3;border-radius:6px;box-shadow:0 0 2px 0 rgba(34,47,62,.2),0 4px 8px 0 rgba(34,47,62,.15);display:flex;flex:0 0 auto;flex-shrink:0;flex-wrap:nowrap;margin-bottom:0;overflow-x:auto;padding:0}.tox .tox-collection--horizontal .tox-collection__group{align-items:center;display:flex;flex-wrap:nowrap;margin:0;padding:0 4px}.tox .tox-collection--horizontal .tox-collection__item{height:28px;margin:6px 1px 5px 0;padding:0 4px}.tox .tox-collection--horizontal .tox-collection__item-label{white-space:nowrap}.tox .tox-collection--horizontal .tox-collection__item-caret{margin-left:4px}.tox .tox-collection__item-container{display:flex}.tox .tox-collection__item-container--row{align-items:center;flex:1 1 auto;flex-direction:row}.tox .tox-collection__item-container--row.tox-collection__item-container--align-left{margin-right:auto}.tox .tox-collection__item-container--row.tox-collection__item-container--align-right{justify-content:flex-end;margin-left:auto}.tox .tox-collection__item-container--row.tox-collection__item-container--valign-top{align-items:flex-start;margin-bottom:auto}.tox .tox-collection__item-container--row.tox-collection__item-container--valign-middle{align-items:center}.tox .tox-collection__item-container--row.tox-collection__item-container--valign-bottom{align-items:flex-end;margin-top:auto}.tox .tox-collection__item-container--column{align-self:center;flex:1 1 auto;flex-direction:column}.tox .tox-collection__item-container--column.tox-collection__item-container--align-left{align-items:flex-start}.tox .tox-collection__item-container--column.tox-collection__item-container--align-right{align-items:flex-end}.tox .tox-collection__item-container--column.tox-collection__item-container--valign-top{align-self:flex-start}.tox .tox-collection__item-container--column.tox-collection__item-container--valign-middle{align-self:center}.tox .tox-collection__item-container--column.tox-collection__item-container--valign-bottom{align-self:flex-end}.tox:not([dir=rtl]) .tox-collection--horizontal .tox-collection__group:not(:last-of-type){border-right:1px solid transparent}.tox:not([dir=rtl]) .tox-collection--list .tox-collection__item>:not(:first-child){margin-left:8px}.tox:not([dir=rtl]) .tox-collection--list .tox-collection__item>.tox-collection__item-label:first-child{margin-left:4px}.tox:not([dir=rtl]) .tox-collection__item-accessory{margin-left:16px;text-align:right}.tox:not([dir=rtl]) .tox-collection .tox-collection__item-caret{margin-left:16px}.tox[dir=rtl] .tox-collection--horizontal .tox-collection__group:not(:last-of-type){border-left:1px solid transparent}.tox[dir=rtl] .tox-collection--list .tox-collection__item>:not(:first-child){margin-right:8px}.tox[dir=rtl] .tox-collection--list .tox-collection__item>.tox-collection__item-label:first-child{margin-right:4px}.tox[dir=rtl] .tox-collection__item-accessory{margin-right:16px;text-align:left}.tox[dir=rtl] .tox-collection .tox-collection__item-caret{margin-right:16px;transform:rotateY(180deg)}.tox[dir=rtl] .tox-collection--horizontal .tox-collection__item-caret{margin-right:4px}@media (forced-colors:active){.tox .tox-hue-slider,.tox .tox-rgb-form .tox-rgba-preview{background-color:currentColor!important;border:1px solid highlight!important;forced-color-adjust:none}}.tox .tox-color-picker-container{display:flex;flex-direction:row;height:225px;margin:0}.tox .tox-sv-palette{box-sizing:border-box;display:flex;height:100%}.tox .tox-sv-palette-spectrum{height:100%}.tox .tox-sv-palette,.tox .tox-sv-palette-spectrum{width:225px}.tox .tox-sv-palette-thumb{background:0 0;border:1px solid #000;border-radius:50%;box-sizing:content-box;height:12px;position:absolute;width:12px}.tox .tox-sv-palette-inner-thumb{border:1px solid #fff;border-radius:50%;height:10px;position:absolute;width:10px}.tox .tox-hue-slider{box-sizing:border-box;height:100%;width:25px}.tox .tox-hue-slider-spectrum{background:linear-gradient(to bottom,red,#ff0080,#f0f,#8000ff,#00f,#0080ff,#0ff,#00ff80,#0f0,#80ff00,#ff0,#ff8000,red);height:100%;width:100%}.tox .tox-hue-slider,.tox .tox-hue-slider-spectrum{width:20px}.tox .tox-hue-slider-spectrum:focus,.tox .tox-sv-palette-spectrum:focus{outline:#08f solid}.tox .tox-hue-slider-thumb{background:#fff;border:1px solid #000;box-sizing:content-box;height:4px;width:100%}.tox .tox-rgb-form{display:flex;flex-direction:column;justify-content:space-between}.tox .tox-rgb-form div{align-items:center;display:flex;justify-content:space-between;margin-bottom:5px;width:inherit}.tox .tox-rgb-form input{min-width:6em}.tox .tox-rgb-form input.tox-invalid{border:1px solid red!important;box-shadow:0 0 0 1px red}.tox .tox-rgb-container{position:relative}.tox .tox-rgb-form .tox-invalid-icon{align-content:center;align-items:center;display:none;height:100%;position:absolute;right:0;top:0}.tox .tox-rgb-form .tox-invalid-icon .tox-control-wrap__status-icon-invalid{margin:0}.tox .tox-rgb-warning-note{background-color:#f5cccc;border:1px solid #f0b3b3;border-radius:3px;color:#77181f;padding:3px}.tox input.tox-invalid+.tox-invalid-icon{display:flex}.tox .tox-rgb-form .tox-rgba-preview{border:1px solid #000;flex-grow:2;margin-bottom:0}.tox:not([dir=rtl]) .tox-sv-palette{margin-right:15px}.tox:not([dir=rtl]) .tox-hue-slider{margin-right:15px}.tox:not([dir=rtl]) .tox-hue-slider-thumb{margin-left:-1px}.tox:not([dir=rtl]) .tox-rgb-form label{margin-right:.5em}.tox[dir=rtl] .tox-sv-palette{margin-left:15px}.tox[dir=rtl] .tox-hue-slider{margin-left:15px}.tox[dir=rtl] .tox-hue-slider-thumb{margin-right:-1px}.tox[dir=rtl] .tox-rgb-form label{margin-left:.5em}.tox .tox-toolbar .tox-swatches,.tox .tox-toolbar__overflow .tox-swatches,.tox .tox-toolbar__primary .tox-swatches{margin:5px 0 6px 11px}.tox .tox-collection--list .tox-collection__group .tox-swatches-menu{border:0;margin:-4px -4px}.tox .tox-swatches__row{display:flex}@media (forced-colors:active){.tox .tox-swatches__row{forced-color-adjust:none}}.tox .tox-swatch{height:30px;transition:transform .15s,box-shadow .15s;width:30px}.tox .tox-swatch:focus,.tox .tox-swatch:hover{box-shadow:0 0 0 1px rgba(127,127,127,.3) inset;transform:scale(.8)}.tox .tox-swatch--remove{align-items:center;display:flex;justify-content:center}.tox .tox-swatch--remove svg path{stroke:#e74c3c}.tox .tox-swatches__picker-btn{align-items:center;background-color:transparent;border:0;cursor:pointer;display:flex;height:30px;justify-content:center;outline:0;padding:0;width:30px}.tox .tox-swatches__picker-btn svg{fill:#222f3e;height:24px;width:24px}.tox .tox-swatches__picker-btn:hover{background:#f0f0f0}.tox div.tox-swatch:not(.tox-swatch--remove) svg{display:none;fill:#222f3e;height:24px;margin:calc((30px - 24px)/ 2) calc((30px - 24px)/ 2);width:24px}.tox div.tox-swatch:not(.tox-swatch--remove) svg path{fill:#fff;paint-order:stroke;stroke:#222f3e;stroke-width:2px}.tox div.tox-swatch:not(.tox-swatch--remove).tox-collection__item--enabled svg{display:block}.tox:not([dir=rtl]) .tox-swatches__picker-btn{margin-left:auto}.tox[dir=rtl] .tox-swatches__picker-btn{margin-right:auto}.tox .tox-comment-thread{background:#fff;position:relative}.tox .tox-comment-thread>:not(:first-child){margin-top:8px}.tox .tox-comment{background:#fff;border:1px solid #eee;border-radius:6px;box-shadow:0 4px 8px 0 rgba(34,47,62,.1);padding:8px 8px 16px 8px;position:relative}.tox .tox-comment__header{align-items:center;color:#222f3e;display:flex;justify-content:space-between}.tox .tox-comment__date{color:#222f3e;font-size:12px;line-height:18px}.tox .tox-comment__body{color:#222f3e;font-size:14px;font-style:normal;font-weight:400;line-height:1.3;margin-top:8px;position:relative;text-transform:initial}.tox .tox-comment__body textarea{resize:none;white-space:normal;width:100%}.tox .tox-comment__expander{padding-top:8px}.tox .tox-comment__expander p{color:rgba(34,47,62,.7);font-size:14px;font-style:normal}.tox .tox-comment__body p{margin:0}.tox .tox-comment__buttonspacing{padding-top:16px;text-align:center}.tox .tox-comment-thread__overlay::after{background:#fff;bottom:0;content:"";display:flex;left:0;opacity:.9;position:absolute;right:0;top:0;z-index:5}.tox .tox-comment__reply{display:flex;flex-shrink:0;flex-wrap:wrap;justify-content:flex-end;margin-top:8px}.tox .tox-comment__reply>:first-child{margin-bottom:8px;width:100%}.tox .tox-comment__edit{display:flex;flex-wrap:wrap;justify-content:flex-end;margin-top:16px}.tox .tox-comment__gradient::after{background:linear-gradient(rgba(255,255,255,0),#fff);bottom:0;content:"";display:block;height:5em;margin-top:-40px;position:absolute;width:100%}.tox .tox-comment__overlay{background:#fff;bottom:0;display:flex;flex-direction:column;flex-grow:1;left:0;opacity:.9;position:absolute;right:0;text-align:center;top:0;z-index:5}.tox .tox-comment__loading-text{align-items:center;color:#222f3e;display:flex;flex-direction:column;position:relative}.tox .tox-comment__loading-text>div{padding-bottom:16px}.tox .tox-comment__overlaytext{bottom:0;flex-direction:column;font-size:14px;left:0;padding:1em;position:absolute;right:0;top:0;z-index:10}.tox .tox-comment__overlaytext p{background-color:#fff;box-shadow:0 0 8px 8px #fff;color:#222f3e;text-align:center}.tox .tox-comment__overlaytext div:nth-of-type(2){font-size:.8em}.tox .tox-comment__busy-spinner{align-items:center;background-color:#fff;bottom:0;display:flex;justify-content:center;left:0;position:absolute;right:0;top:0;z-index:20}.tox .tox-comment__scroll{display:flex;flex-direction:column;flex-shrink:1;overflow:auto}.tox .tox-conversations{margin:8px}.tox:not([dir=rtl]) .tox-comment__edit{margin-left:8px}.tox:not([dir=rtl]) .tox-comment__buttonspacing>:last-child,.tox:not([dir=rtl]) .tox-comment__edit>:last-child,.tox:not([dir=rtl]) .tox-comment__reply>:last-child{margin-left:8px}.tox[dir=rtl] .tox-comment__edit{margin-right:8px}.tox[dir=rtl] .tox-comment__buttonspacing>:last-child,.tox[dir=rtl] .tox-comment__edit>:last-child,.tox[dir=rtl] .tox-comment__reply>:last-child{margin-right:8px}.tox .tox-user{align-items:center;display:flex}.tox .tox-user__avatar svg{fill:rgba(34,47,62,0.7)}.tox .tox-user__avatar img{border-radius:50%;height:36px;object-fit:cover;vertical-align:middle;width:36px}.tox .tox-user__name{color:#222f3e;font-size:14px;font-style:normal;font-weight:700;line-height:18px;text-transform:none}.tox:not([dir=rtl]) .tox-user__avatar img,.tox:not([dir=rtl]) .tox-user__avatar svg{margin-right:8px}.tox:not([dir=rtl]) .tox-user__avatar+.tox-user__name{margin-left:8px}.tox[dir=rtl] .tox-user__avatar img,.tox[dir=rtl] .tox-user__avatar svg{margin-left:8px}.tox[dir=rtl] .tox-user__avatar+.tox-user__name{margin-right:8px}.tox .tox-dialog-wrap{align-items:center;bottom:0;display:flex;justify-content:center;left:0;position:fixed;right:0;top:0;z-index:1100}.tox .tox-dialog-wrap__backdrop{background-color:rgba(255,255,255,.75);bottom:0;left:0;position:absolute;right:0;top:0;z-index:1}.tox .tox-dialog-wrap__backdrop--opaque{background-color:#fff}.tox .tox-dialog{background-color:#fff;border-color:#eee;border-radius:10px;border-style:solid;border-width:0;box-shadow:0 16px 16px -10px rgba(34,47,62,.15),0 0 40px 1px rgba(34,47,62,.15);display:flex;flex-direction:column;max-height:100%;max-width:480px;overflow:hidden;position:relative;width:95vw;z-index:2}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox .tox-dialog{align-self:flex-start;margin:8px auto;max-height:calc(100vh - 8px * 2);width:calc(100vw - 16px)}}.tox .tox-dialog-inline{z-index:1100}.tox .tox-dialog__header{align-items:center;background-color:#fff;border-bottom:none;color:#222f3e;display:flex;font-size:16px;justify-content:space-between;padding:8px 16px 0 16px;position:relative}.tox .tox-dialog__header .tox-button{z-index:1}.tox .tox-dialog__draghandle{cursor:grab;height:100%;left:0;position:absolute;top:0;width:100%}.tox .tox-dialog__draghandle:active{cursor:grabbing}.tox .tox-dialog__dismiss{margin-left:auto}.tox .tox-dialog__title{font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:20px;font-style:normal;font-weight:400;line-height:1.3;margin:0;text-transform:none}.tox .tox-dialog__body{color:#222f3e;display:flex;flex:1;font-size:16px;font-style:normal;font-weight:400;line-height:1.3;min-width:0;text-align:left;text-transform:none}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox .tox-dialog__body{flex-direction:column}}.tox .tox-dialog__body-nav{align-items:flex-start;display:flex;flex-direction:column;flex-shrink:0;padding:16px 16px}@media only screen and (min-width:768px){.tox .tox-dialog__body-nav{max-width:11em}}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox .tox-dialog__body-nav{flex-direction:row;-webkit-overflow-scrolling:touch;overflow-x:auto;padding-bottom:0}}.tox .tox-dialog__body-nav-item{border-bottom:2px solid transparent;color:rgba(34,47,62,.7);display:inline-block;flex-shrink:0;font-size:14px;line-height:1.3;margin-bottom:8px;max-width:13em;-webkit-text-decoration:none;text-decoration:none}.tox .tox-dialog__body-nav-item:focus{background-color:rgba(0,108,231,.1)}.tox .tox-dialog__body-nav-item--active{border-bottom:2px solid #006ce7;color:#006ce7}@media (forced-colors:active){.tox .tox-dialog__body-nav-item--active{border-bottom:2px solid highlight;color:highlight}}.tox .tox-dialog__body-content{box-sizing:border-box;display:flex;flex:1;flex-direction:column;max-height:min(650px,calc(100vh - 110px));overflow:auto;-webkit-overflow-scrolling:touch;padding:16px 16px}.tox .tox-dialog__body-content>*{margin-bottom:0;margin-top:16px}.tox .tox-dialog__body-content>:first-child{margin-top:0}.tox .tox-dialog__body-content>:last-child{margin-bottom:0}.tox .tox-dialog__body-content>:only-child{margin-bottom:0;margin-top:0}.tox .tox-dialog__body-content a{color:#006ce7;cursor:pointer;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-dialog__body-content a:focus,.tox .tox-dialog__body-content a:hover{color:#003c81;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-dialog__body-content a:focus-visible{border-radius:1px;outline:2px solid #006ce7;outline-offset:2px}.tox .tox-dialog__body-content a:active{color:#00244e;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-dialog__body-content svg{fill:#222f3e}.tox .tox-dialog__body-content strong{font-weight:700}.tox .tox-dialog__body-content ul{list-style-type:disc}.tox .tox-dialog__body-content dd,.tox .tox-dialog__body-content ol,.tox .tox-dialog__body-content ul{padding-inline-start:2.5rem}.tox .tox-dialog__body-content dl,.tox .tox-dialog__body-content ol,.tox .tox-dialog__body-content ul{margin-bottom:16px}.tox .tox-dialog__body-content dd,.tox .tox-dialog__body-content dl,.tox .tox-dialog__body-content dt,.tox .tox-dialog__body-content ol,.tox .tox-dialog__body-content ul{display:block;margin-inline-end:0;margin-inline-start:0}.tox .tox-dialog__body-content .tox-form__group h1{color:#222f3e;font-size:20px;font-style:normal;font-weight:700;letter-spacing:normal;margin-bottom:16px;margin-top:2rem;text-transform:none}.tox .tox-dialog__body-content .tox-form__group h2{color:#222f3e;font-size:16px;font-style:normal;font-weight:700;letter-spacing:normal;margin-bottom:16px;margin-top:2rem;text-transform:none}.tox .tox-dialog__body-content .tox-form__group p{margin-bottom:16px}.tox .tox-dialog__body-content .tox-form__group h1:first-child,.tox .tox-dialog__body-content .tox-form__group h2:first-child,.tox .tox-dialog__body-content .tox-form__group p:first-child{margin-top:0}.tox .tox-dialog__body-content .tox-form__group h1:last-child,.tox .tox-dialog__body-content .tox-form__group h2:last-child,.tox .tox-dialog__body-content .tox-form__group p:last-child{margin-bottom:0}.tox .tox-dialog__body-content .tox-form__group h1:only-child,.tox .tox-dialog__body-content .tox-form__group h2:only-child,.tox .tox-dialog__body-content .tox-form__group p:only-child{margin-bottom:0;margin-top:0}.tox .tox-dialog__body-content .tox-form__group .tox-label.tox-label--center{text-align:center}.tox .tox-dialog__body-content .tox-form__group .tox-label.tox-label--end{text-align:end}.tox .tox-dialog--width-lg{height:650px;max-width:1200px}.tox .tox-dialog--fullscreen{height:100%;max-width:100%}.tox .tox-dialog--fullscreen .tox-dialog__body-content{max-height:100%}.tox .tox-dialog--width-md{max-width:800px}.tox .tox-dialog--width-md .tox-dialog__body-content{overflow:auto}.tox .tox-dialog__body-content--centered{text-align:center}.tox .tox-dialog__footer{align-items:center;background-color:#fff;border-top:none;display:flex;justify-content:space-between;padding:8px 16px}.tox .tox-dialog__footer-end,.tox .tox-dialog__footer-start{display:flex}.tox .tox-dialog__busy-spinner{align-items:center;background-color:rgba(255,255,255,.75);bottom:0;display:flex;justify-content:center;left:0;position:absolute;right:0;top:0;z-index:3}.tox .tox-dialog__table{border-collapse:collapse;width:100%}.tox .tox-dialog__table thead th{font-weight:700;padding-bottom:8px}.tox .tox-dialog__table thead th:first-child{padding-right:8px}.tox .tox-dialog__table tbody tr{border-bottom:1px solid #626262}.tox .tox-dialog__table tbody tr:last-child{border-bottom:none}.tox .tox-dialog__table td{padding-bottom:8px;padding-top:8px}.tox .tox-dialog__table td:first-child{padding-right:8px}.tox .tox-dialog__iframe{min-height:200px}.tox .tox-dialog__iframe.tox-dialog__iframe--opaque{background:#fff}.tox .tox-navobj-bordered{position:relative}.tox .tox-navobj-bordered::before{border:1px solid #eee;border-radius:6px;content:'';inset:0;opacity:1;pointer-events:none;position:absolute;z-index:1}.tox .tox-navobj-bordered iframe{border-radius:6px}.tox .tox-navobj-bordered-focus.tox-navobj-bordered::before{border-color:#006ce7;box-shadow:0 0 0 1px #006ce7;outline:0}.tox .tox-dialog__popups{position:absolute;width:100%;z-index:1100}.tox .tox-dialog__body-iframe{display:flex;flex:1;flex-direction:column}.tox .tox-dialog__body-iframe .tox-navobj{display:flex;flex:1}.tox .tox-dialog__body-iframe .tox-navobj :nth-child(2){flex:1;height:100%}.tox .tox-dialog-dock-fadeout{opacity:0;visibility:hidden}.tox .tox-dialog-dock-fadein{opacity:1;visibility:visible}.tox .tox-dialog-dock-transition{transition:visibility 0s linear .3s,opacity .3s ease}.tox .tox-dialog-dock-transition.tox-dialog-dock-fadein{transition-delay:0s}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox:not([dir=rtl]) .tox-dialog__body-nav{margin-right:0}}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox:not([dir=rtl]) .tox-dialog__body-nav-item:not(:first-child){margin-left:8px}}.tox:not([dir=rtl]) .tox-dialog__footer .tox-dialog__footer-end>*,.tox:not([dir=rtl]) .tox-dialog__footer .tox-dialog__footer-start>*{margin-left:8px}.tox[dir=rtl] .tox-dialog__body{text-align:right}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox[dir=rtl] .tox-dialog__body-nav{margin-left:0}}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox[dir=rtl] .tox-dialog__body-nav-item:not(:first-child){margin-right:8px}}.tox[dir=rtl] .tox-dialog__footer .tox-dialog__footer-end>*,.tox[dir=rtl] .tox-dialog__footer .tox-dialog__footer-start>*{margin-right:8px}body.tox-dialog__disable-scroll{overflow:hidden}.tox .tox-dropzone-container{display:flex;flex:1}.tox .tox-dropzone{align-items:center;background:#fff;border:2px dashed #eee;box-sizing:border-box;display:flex;flex-direction:column;flex-grow:1;justify-content:center;min-height:100px;padding:10px}.tox .tox-dropzone p{color:rgba(34,47,62,.7);margin:0 0 16px 0}.tox .tox-edit-area{display:flex;flex:1;overflow:hidden;position:relative}.tox .tox-edit-area::before{border:2px solid #006ce7;border-radius:4px;content:'';inset:0;opacity:0;pointer-events:none;position:absolute;transition:opacity .15s;z-index:1}@media (forced-colors:active){.tox .tox-edit-area::before{border:2px solid highlight}}.tox .tox-edit-area__iframe{background-color:#fff;border:0;box-sizing:border-box;flex:1;height:100%;position:absolute;width:100%}.tox.tox-edit-focus .tox-edit-area::before{opacity:1}.tox.tox-inline-edit-area{border:1px dotted #eee}.tox .tox-editor-container{display:flex;flex:1 1 auto;flex-direction:column;overflow:hidden}.tox .tox-editor-header{display:grid;grid-template-columns:1fr min-content;z-index:2}.tox:not(.tox-tinymce-inline) .tox-editor-header{background-color:#fff;border-bottom:none;box-shadow:0 2px 2px -2px rgba(34,47,62,.1),0 8px 8px -4px rgba(34,47,62,.07);padding:4px 0}.tox:not(.tox-tinymce-inline) .tox-editor-header:not(.tox-editor-dock-transition){transition:box-shadow .5s}.tox:not(.tox-tinymce-inline).tox-tinymce--toolbar-bottom .tox-editor-header{border-top:1px solid #e3e3e3;box-shadow:none}.tox:not(.tox-tinymce-inline).tox-tinymce--toolbar-sticky-on .tox-editor-header{background-color:#fff;box-shadow:0 2px 2px -2px rgba(34,47,62,.2),0 8px 8px -4px rgba(34,47,62,.15);padding:4px 0}.tox:not(.tox-tinymce-inline).tox-tinymce--toolbar-sticky-on.tox-tinymce--toolbar-bottom .tox-editor-header{box-shadow:0 2px 2px -2px rgba(34,47,62,.2),0 8px 8px -4px rgba(34,47,62,.15)}.tox.tox:not(.tox-tinymce-inline) .tox-editor-header.tox-editor-header--empty{background:0 0;border:none;box-shadow:none;padding:0}.tox-editor-dock-fadeout{opacity:0;visibility:hidden}.tox-editor-dock-fadein{opacity:1;visibility:visible}.tox-editor-dock-transition{transition:visibility 0s linear .25s,opacity .25s ease}.tox-editor-dock-transition.tox-editor-dock-fadein{transition-delay:0s}.tox .tox-control-wrap{flex:1;position:relative}.tox .tox-control-wrap:not(.tox-control-wrap--status-invalid) .tox-control-wrap__status-icon-invalid,.tox .tox-control-wrap:not(.tox-control-wrap--status-unknown) .tox-control-wrap__status-icon-unknown,.tox .tox-control-wrap:not(.tox-control-wrap--status-valid) .tox-control-wrap__status-icon-valid{display:none}.tox .tox-control-wrap svg{display:block}.tox .tox-control-wrap__status-icon-wrap{position:absolute;top:50%;transform:translateY(-50%)}.tox .tox-control-wrap__status-icon-invalid svg{fill:#c00}.tox .tox-control-wrap__status-icon-unknown svg{fill:orange}.tox .tox-control-wrap__status-icon-valid svg{fill:green}.tox:not([dir=rtl]) .tox-control-wrap--status-invalid .tox-textfield,.tox:not([dir=rtl]) .tox-control-wrap--status-unknown .tox-textfield,.tox:not([dir=rtl]) .tox-control-wrap--status-valid .tox-textfield{padding-right:32px}.tox:not([dir=rtl]) .tox-control-wrap__status-icon-wrap{right:4px}.tox[dir=rtl] .tox-control-wrap--status-invalid .tox-textfield,.tox[dir=rtl] .tox-control-wrap--status-unknown .tox-textfield,.tox[dir=rtl] .tox-control-wrap--status-valid .tox-textfield{padding-left:32px}.tox[dir=rtl] .tox-control-wrap__status-icon-wrap{left:4px}.tox .tox-custom-preview{border-color:#eee;border-radius:6px;border-style:solid;border-width:1px;flex:1;padding:8px}.tox .tox-autocompleter{max-width:25em}.tox .tox-autocompleter .tox-menu{box-sizing:border-box;max-width:25em}.tox .tox-autocompleter .tox-autocompleter-highlight{font-weight:700}.tox .tox-color-input{display:flex;position:relative;z-index:1}.tox .tox-color-input .tox-textfield{z-index:-1}.tox .tox-color-input span{border-color:rgba(34 47 3.1%);border-radius:6px;border-style:solid;border-width:1px;box-shadow:none;box-sizing:border-box;height:24px;position:absolute;top:6px;width:24px}@media (forced-colors:active){.tox .tox-color-input span{border-color:currentColor;border-width:2px!important;forced-color-adjust:none}}.tox .tox-color-input span:focus:not([aria-disabled=true]),.tox .tox-color-input span:hover:not([aria-disabled=true]){border-color:#006ce7;cursor:pointer}.tox .tox-color-input span::before{background-image:linear-gradient(45deg,rgba(0,0,0,.25) 25%,transparent 25%),linear-gradient(-45deg,rgba(0,0,0,.25) 25%,transparent 25%),linear-gradient(45deg,transparent 75%,rgba(0,0,0,.25) 75%),linear-gradient(-45deg,transparent 75%,rgba(0,0,0,.25) 75%);background-position:0 0,0 6px,6px -6px,-6px 0;background-size:12px 12px;border:1px solid #fff;border-radius:6px;box-sizing:border-box;content:'';height:24px;left:-1px;position:absolute;top:-1px;width:24px;z-index:-1}@media (forced-colors:active){.tox .tox-color-input span::before{border:none}}.tox .tox-color-input span[aria-disabled=true]{cursor:not-allowed}.tox:not([dir=rtl]) .tox-color-input .tox-textfield{padding-left:36px}.tox:not([dir=rtl]) .tox-color-input span{left:6px}.tox[dir=rtl] .tox-color-input .tox-textfield{padding-right:36px}.tox[dir=rtl] .tox-color-input span{right:6px}.tox .tox-label,.tox .tox-toolbar-label{color:rgba(34,47,62,.7);display:block;font-size:14px;font-style:normal;font-weight:400;line-height:1.3;padding:0 8px 0 0;text-transform:none;white-space:nowrap}.tox .tox-toolbar-label{padding:0 8px}.tox[dir=rtl] .tox-label{padding:0 0 0 8px}.tox .tox-form{display:flex;flex:1;flex-direction:column}.tox .tox-form__group{box-sizing:border-box;margin-bottom:4px}.tox .tox-form-group--maximize{flex:1}.tox .tox-form__group--error{color:#c00}.tox .tox-form__group--collection{display:flex}.tox .tox-form__grid{display:flex;flex-direction:row;flex-wrap:wrap;justify-content:space-between}.tox .tox-form__grid--2col>.tox-form__group{width:calc(50% - (8px / 2))}.tox .tox-form__grid--3col>.tox-form__group{width:calc(100% / 3 - (8px / 2))}.tox .tox-form__grid--4col>.tox-form__group{width:calc(25% - (8px / 2))}.tox .tox-form__controls-h-stack{align-items:center;display:flex}.tox .tox-form__group--inline{align-items:center;display:flex}.tox .tox-form__group--stretched{display:flex;flex:1;flex-direction:column}.tox .tox-form__group--stretched .tox-textarea{flex:1}.tox .tox-form__group--stretched .tox-navobj{display:flex;flex:1}.tox .tox-form__group--stretched .tox-navobj :nth-child(2){flex:1;height:100%}.tox:not([dir=rtl]) .tox-form__controls-h-stack>:not(:first-child){margin-left:4px}.tox[dir=rtl] .tox-form__controls-h-stack>:not(:first-child){margin-right:4px}.tox .tox-lock.tox-locked .tox-lock-icon__unlock,.tox .tox-lock:not(.tox-locked) .tox-lock-icon__lock{display:none}.tox .tox-listboxfield .tox-listbox--select,.tox .tox-textarea,.tox .tox-textarea-wrap .tox-textarea:focus,.tox .tox-textfield,.tox .tox-toolbar-textfield{appearance:none;background-color:#fff;border-color:#eee;border-radius:6px;border-style:solid;border-width:1px;box-shadow:none;box-sizing:border-box;color:#222f3e;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:16px;line-height:24px;margin:0;min-height:34px;outline:0;padding:5px 5.5px;resize:none;width:100%}.tox .tox-textarea[disabled],.tox .tox-textfield[disabled]{background-color:#f2f2f2;color:rgba(34,47,62,.85);cursor:not-allowed}.tox .tox-custom-editor:focus-within,.tox .tox-listboxfield .tox-listbox--select:focus,.tox .tox-textarea-wrap:focus-within,.tox .tox-textarea:focus,.tox .tox-textfield:focus{background-color:#fff;border-color:#006ce7;box-shadow:0 0 0 1px #006ce7;outline:0}.tox .tox-toolbar-textfield{border-width:0;margin-bottom:3px;margin-top:2px;max-width:250px}.tox .tox-naked-btn{background-color:transparent;border:0;border-color:transparent;box-shadow:unset;color:#006ce7;cursor:pointer;display:block;margin:0;padding:0}.tox .tox-naked-btn svg{display:block;fill:#222f3e}.tox:not([dir=rtl]) .tox-toolbar-textfield+*{margin-left:4px}.tox[dir=rtl] .tox-toolbar-textfield+*{margin-right:4px}.tox .tox-listboxfield{cursor:pointer;position:relative}.tox .tox-listboxfield .tox-listbox--select[disabled]{background-color:#f2f2f2;color:rgba(34,47,62,.85);cursor:not-allowed}.tox .tox-listbox__select-label{cursor:default;flex:1;margin:0 4px}.tox .tox-listbox__select-chevron{align-items:center;display:flex;justify-content:center;width:16px}.tox .tox-listbox__select-chevron svg{fill:#222f3e}@media (forced-colors:active){.tox .tox-listbox__select-chevron svg{fill:currentColor!important}}.tox .tox-listboxfield .tox-listbox--select{align-items:center;display:flex}.tox:not([dir=rtl]) .tox-listboxfield svg{right:8px}.tox[dir=rtl] .tox-listboxfield svg{left:8px}.tox .tox-selectfield{cursor:pointer;position:relative}.tox .tox-selectfield select{appearance:none;background-color:#fff;border-color:#eee;border-radius:6px;border-style:solid;border-width:1px;box-shadow:none;box-sizing:border-box;color:#222f3e;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:16px;line-height:24px;margin:0;min-height:34px;outline:0;padding:5px 5.5px;resize:none;width:100%}.tox .tox-selectfield select[disabled]{background-color:#f2f2f2;color:rgba(34,47,62,.85);cursor:not-allowed}.tox .tox-selectfield select::-ms-expand{display:none}.tox .tox-selectfield select:focus{background-color:#fff;border-color:#006ce7;box-shadow:0 0 0 1px #006ce7;outline:0}.tox .tox-selectfield svg{pointer-events:none;position:absolute;top:50%;transform:translateY(-50%)}.tox:not([dir=rtl]) .tox-selectfield select[size="0"],.tox:not([dir=rtl]) .tox-selectfield select[size="1"]{padding-right:24px}.tox:not([dir=rtl]) .tox-selectfield svg{right:8px}.tox[dir=rtl] .tox-selectfield select[size="0"],.tox[dir=rtl] .tox-selectfield select[size="1"]{padding-left:24px}.tox[dir=rtl] .tox-selectfield svg{left:8px}.tox .tox-textarea-wrap{border-color:#eee;border-radius:6px;border-style:solid;border-width:1px;display:flex;flex:1;overflow:hidden}.tox .tox-textarea{appearance:textarea;white-space:pre-wrap}.tox .tox-textarea-wrap .tox-textarea{border:none}.tox .tox-textarea-wrap .tox-textarea:focus{border:none}.tox-fullscreen{border:0;height:100%;margin:0;overflow:hidden;overscroll-behavior:none;padding:0;touch-action:pinch-zoom;width:100%}.tox.tox-tinymce.tox-fullscreen .tox-statusbar__resize-handle{display:none}.tox-shadowhost.tox-fullscreen,.tox.tox-tinymce.tox-fullscreen{left:0;position:fixed;top:0;z-index:1200}.tox.tox-tinymce.tox-fullscreen{background-color:transparent}.tox-fullscreen .tox.tox-tinymce-aux,.tox-fullscreen~.tox.tox-tinymce-aux{z-index:1201}.tox .tox-help__more-link{list-style:none;margin-top:1em}.tox .tox-imagepreview{background-color:#666;height:380px;overflow:hidden;position:relative;width:100%}.tox .tox-imagepreview.tox-imagepreview__loaded{overflow:auto}.tox .tox-imagepreview__container{display:flex;left:100vw;position:absolute;top:100vw}.tox .tox-imagepreview__image{background:url(data:image/gif;base64,R0lGODdhDAAMAIABAMzMzP///ywAAAAADAAMAAACFoQfqYeabNyDMkBQb81Uat85nxguUAEAOw==)}.tox .tox-image-tools .tox-spacer{flex:1}.tox .tox-image-tools .tox-bar{align-items:center;display:flex;height:60px;justify-content:center}.tox .tox-image-tools .tox-imagepreview,.tox .tox-image-tools .tox-imagepreview+.tox-bar{margin-top:8px}.tox .tox-image-tools .tox-croprect-block{background:#000;opacity:.5;position:absolute;zoom:1}.tox .tox-image-tools .tox-croprect-handle{border:2px solid #fff;height:20px;left:0;position:absolute;top:0;width:20px}.tox .tox-image-tools .tox-croprect-handle-move{border:0;cursor:move;position:absolute}.tox .tox-image-tools .tox-croprect-handle-nw{border-width:2px 0 0 2px;cursor:nw-resize;left:100px;margin:-2px 0 0 -2px;top:100px}.tox .tox-image-tools .tox-croprect-handle-ne{border-width:2px 2px 0 0;cursor:ne-resize;left:200px;margin:-2px 0 0 -20px;top:100px}.tox .tox-image-tools .tox-croprect-handle-sw{border-width:0 0 2px 2px;cursor:sw-resize;left:100px;margin:-20px 2px 0 -2px;top:200px}.tox .tox-image-tools .tox-croprect-handle-se{border-width:0 2px 2px 0;cursor:se-resize;left:200px;margin:-20px 0 0 -20px;top:200px}.tox .tox-insert-table-picker{background-color:#fff;display:flex;flex-wrap:wrap;width:170px}.tox .tox-insert-table-picker>div{border-color:#eee;border-style:solid;border-width:0 1px 1px 0;box-sizing:border-box;height:17px;width:17px}.tox .tox-collection--list .tox-collection__group .tox-insert-table-picker{margin:-4px -4px}.tox .tox-insert-table-picker .tox-insert-table-picker__selected{background-color:#006ce7;border-color:#eee}@media (forced-colors:active){.tox .tox-insert-table-picker .tox-insert-table-picker__selected{border-color:Highlight;filter:contrast(50%)}}.tox .tox-insert-table-picker__label{color:rgba(34,47,62,.7);display:block;font-size:14px;padding:4px;text-align:center;width:100%}.tox:not([dir=rtl]) .tox-insert-table-picker>div:nth-child(10n){border-right:0}.tox[dir=rtl] .tox-insert-table-picker>div:nth-child(10n+1){border-right:0}.tox .tox-menu{background-color:#fff;border:1px solid transparent;border-radius:6px;box-shadow:0 0 2px 0 rgba(34,47,62,.2),0 4px 8px 0 rgba(34,47,62,.15);display:inline-block;overflow:hidden;vertical-align:top;z-index:1150}.tox .tox-menu.tox-collection.tox-collection--list{padding:0 4px}.tox .tox-menu.tox-collection.tox-collection--toolbar{padding:8px}.tox .tox-menu.tox-collection.tox-collection--grid{padding:8px}@media only screen and (min-width:768px){.tox .tox-menu .tox-collection__item-label{overflow-wrap:break-word;word-break:normal}.tox .tox-dialog__popups .tox-menu .tox-collection__item-label{word-break:break-all}}.tox .tox-menu__label blockquote,.tox .tox-menu__label code,.tox .tox-menu__label h1,.tox .tox-menu__label h2,.tox .tox-menu__label h3,.tox .tox-menu__label h4,.tox .tox-menu__label h5,.tox .tox-menu__label h6,.tox .tox-menu__label p{margin:0}.tox .tox-menubar{background:repeating-linear-gradient(transparent 0 1px,transparent 1px 39px) center top 39px/100% calc(100% - 39px) no-repeat;background-color:#fff;display:flex;flex:0 0 auto;flex-shrink:0;flex-wrap:wrap;grid-column:1/-1;grid-row:1;padding:0 11px 0 12px}.tox .tox-promotion+.tox-menubar{grid-column:1}.tox .tox-promotion{background:repeating-linear-gradient(transparent 0 1px,transparent 1px 39px) center top 39px/100% calc(100% - 39px) no-repeat;background-color:#fff;grid-column:2;grid-row:1;padding-inline-end:8px;padding-inline-start:4px;padding-top:5px}.tox .tox-promotion-link{align-items:unsafe center;background-color:#e8f1f8;border-radius:5px;color:#086be6;cursor:pointer;display:flex;font-size:14px;height:26.6px;padding:4px 8px;white-space:nowrap}.tox .tox-promotion-link:hover{background-color:#b4d7ff}.tox .tox-promotion-link:focus{background-color:#d9edf7}.tox .tox-mbtn{align-items:center;background:#fff;border:0;border-radius:3px;box-shadow:none;color:#222f3e;display:flex;flex:0 0 auto;font-size:14px;font-style:normal;font-weight:400;height:28px;justify-content:center;margin:5px 1px 6px 0;outline:0;padding:0 4px;text-transform:none;width:auto}.tox .tox-mbtn[disabled]{background-color:#fff;border:0;box-shadow:none;color:rgba(34,47,62,.5);cursor:not-allowed}.tox .tox-mbtn:focus:not(:disabled){background:#fff;border:0;box-shadow:none;color:#222f3e;position:relative;z-index:1}.tox .tox-mbtn:focus:not(:disabled)::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-mbtn:focus:not(:disabled)::after{border:2px solid highlight}}.tox .tox-mbtn--active,.tox .tox-mbtn:not(:disabled).tox-mbtn--active:focus{background:#a6ccf7;border:0;box-shadow:none;color:#222f3e}.tox .tox-mbtn:hover:not(:disabled):not(.tox-mbtn--active){background:#f0f0f0;border:0;box-shadow:none;color:#222f3e}.tox .tox-mbtn__select-label{cursor:default;font-weight:400;margin:0 4px}.tox .tox-mbtn[disabled] .tox-mbtn__select-label{cursor:not-allowed}.tox .tox-mbtn__select-chevron{align-items:center;display:flex;justify-content:center;width:16px;display:none}.tox .tox-notification{border-radius:6px;border-style:solid;border-width:1px;box-shadow:none;box-sizing:border-box;display:grid;font-size:14px;font-weight:400;grid-template-columns:minmax(40px,1fr) auto minmax(40px,1fr);margin-left:auto;margin-right:auto;margin-top:4px;opacity:0;padding:4px;transition:transform .1s ease-in,opacity 150ms ease-in;width:max-content}.tox .tox-notification a{cursor:pointer;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification p{font-size:14px;font-weight:400}.tox .tox-notification:focus{border-color:#006ce7;box-shadow:0 0 0 1px #006ce7}.tox .tox-notification--in{opacity:1}.tox .tox-notification--success{background-color:#e4eeda;border-color:#d7e6c8;color:#222f3e}.tox .tox-notification--success p{color:#222f3e}.tox .tox-notification--success a{color:#517342}.tox .tox-notification--success a:focus,.tox .tox-notification--success a:hover{color:#24321d;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification--success a:focus-visible{border-radius:1px;outline:2px solid #517342;outline-offset:2px}.tox .tox-notification--success a:active{color:#0d120a;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification--success svg{fill:#222f3e}.tox .tox-notification--error{background-color:#f5cccc;border-color:#f0b3b3;color:#222f3e}.tox .tox-notification--error p{color:#222f3e}.tox .tox-notification--error a{color:#77181f}.tox .tox-notification--error a:focus,.tox .tox-notification--error a:hover{color:#220709;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification--error a:focus-visible{border-radius:1px;outline:2px solid #77181f;outline-offset:2px}.tox .tox-notification--error a:active{color:#000;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification--error svg{fill:#222f3e}.tox .tox-notification--warn,.tox .tox-notification--warning{background-color:#fff5cc;border-color:#fff0b3;color:#222f3e}.tox .tox-notification--warn p,.tox .tox-notification--warning p{color:#222f3e}.tox .tox-notification--warn a,.tox .tox-notification--warning a{color:#7a6e25}.tox .tox-notification--warn a:focus,.tox .tox-notification--warn a:hover,.tox .tox-notification--warning a:focus,.tox .tox-notification--warning a:hover{color:#2c280d;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification--warn a:focus-visible,.tox .tox-notification--warning a:focus-visible{border-radius:1px;outline:2px solid #7a6e25;outline-offset:2px}.tox .tox-notification--warn a:active,.tox .tox-notification--warning a:active{color:#050502;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification--warn svg,.tox .tox-notification--warning svg{fill:#222f3e}.tox .tox-notification--info{background-color:#d6e7fb;border-color:#c1dbf9;color:#222f3e}.tox .tox-notification--info p{color:#222f3e}.tox .tox-notification--info a{color:#2a64a6}.tox .tox-notification--info a:focus,.tox .tox-notification--info a:hover{color:#163355;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification--info a:focus-visible{border-radius:1px;outline:2px solid #2a64a6;outline-offset:2px}.tox .tox-notification--info a:active{color:#0b1a2c;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification--info svg{fill:#222f3e}.tox .tox-notification__body{align-self:center;color:#222f3e;font-size:14px;grid-column-end:3;grid-column-start:2;grid-row-end:2;grid-row-start:1;text-align:center;white-space:normal;word-break:break-all;word-break:break-word}.tox .tox-notification__body>*{margin:0}.tox .tox-notification__body>*+*{margin-top:1rem}.tox .tox-notification__icon{align-self:center;grid-column-end:2;grid-column-start:1;grid-row-end:2;grid-row-start:1;justify-self:end}.tox .tox-notification__icon svg{display:block}.tox .tox-notification__dismiss{align-self:start;grid-column-end:4;grid-column-start:3;grid-row-end:2;grid-row-start:1;justify-self:end}.tox .tox-notification .tox-progress-bar{grid-column-end:4;grid-column-start:1;grid-row-end:3;grid-row-start:2;justify-self:center}.tox .tox-notification-container-dock-fadeout{opacity:0;visibility:hidden}.tox .tox-notification-container-dock-fadein{opacity:1;visibility:visible}.tox .tox-notification-container-dock-transition{transition:visibility 0s linear .3s,opacity .3s ease}.tox .tox-notification-container-dock-transition.tox-notification-container-dock-fadein{transition-delay:0s}.tox .tox-pop{display:inline-block;position:relative}.tox .tox-pop--resizing{transition:width .1s ease}.tox .tox-pop--resizing .tox-toolbar,.tox .tox-pop--resizing .tox-toolbar__group{flex-wrap:nowrap}.tox .tox-pop--transition{transition:.15s ease;transition-property:left,right,top,bottom}.tox .tox-pop--transition::after,.tox .tox-pop--transition::before{transition:all .15s,visibility 0s,opacity 75ms ease 75ms}.tox .tox-pop__dialog{background-color:#fff;border:1px solid #eee;border-radius:6px;box-shadow:0 0 2px 0 rgba(34,47,62,.2),0 4px 8px 0 rgba(34,47,62,.15);min-width:0;overflow:hidden}.tox .tox-pop__dialog>:not(.tox-toolbar){margin:4px 4px 4px 8px}.tox .tox-pop__dialog .tox-toolbar{background-color:transparent;margin-bottom:-1px}.tox .tox-pop::after,.tox .tox-pop::before{border-style:solid;content:'';display:block;height:0;opacity:1;position:absolute;width:0}@media (forced-colors:active){.tox .tox-pop::after,.tox .tox-pop::before{content:none}}.tox .tox-pop.tox-pop--inset::after,.tox .tox-pop.tox-pop--inset::before{opacity:0;transition:all 0s .15s,visibility 0s,opacity 75ms ease}.tox .tox-pop.tox-pop--bottom::after,.tox .tox-pop.tox-pop--bottom::before{left:50%;top:100%}.tox .tox-pop.tox-pop--bottom::after{border-color:#fff transparent transparent transparent;border-width:8px;margin-left:-8px;margin-top:-1px}.tox .tox-pop.tox-pop--bottom::before{border-color:#eee transparent transparent transparent;border-width:9px;margin-left:-9px}.tox .tox-pop.tox-pop--top::after,.tox .tox-pop.tox-pop--top::before{left:50%;top:0;transform:translateY(-100%)}.tox .tox-pop.tox-pop--top::after{border-color:transparent transparent #fff transparent;border-width:8px;margin-left:-8px;margin-top:1px}.tox .tox-pop.tox-pop--top::before{border-color:transparent transparent #eee transparent;border-width:9px;margin-left:-9px}.tox .tox-pop.tox-pop--left::after,.tox .tox-pop.tox-pop--left::before{left:0;top:calc(50% - 1px);transform:translateY(-50%)}.tox .tox-pop.tox-pop--left::after{border-color:transparent #fff transparent transparent;border-width:8px;margin-left:-15px}.tox .tox-pop.tox-pop--left::before{border-color:transparent #eee transparent transparent;border-width:10px;margin-left:-19px}.tox .tox-pop.tox-pop--right::after,.tox .tox-pop.tox-pop--right::before{left:100%;top:calc(50% + 1px);transform:translateY(-50%)}.tox .tox-pop.tox-pop--right::after{border-color:transparent transparent transparent #fff;border-width:8px;margin-left:-1px}.tox .tox-pop.tox-pop--right::before{border-color:transparent transparent transparent #eee;border-width:10px;margin-left:-1px}.tox .tox-pop.tox-pop--align-left::after,.tox .tox-pop.tox-pop--align-left::before{left:20px}.tox .tox-pop.tox-pop--align-right::after,.tox .tox-pop.tox-pop--align-right::before{left:calc(100% - 20px)}.tox .tox-sidebar-wrap{display:flex;flex-direction:row;flex-grow:1;min-height:0}.tox .tox-sidebar{background-color:#fff;display:flex;flex-direction:row;justify-content:flex-end}.tox .tox-sidebar__slider{display:flex;overflow:hidden}.tox .tox-sidebar__pane-container{display:flex}.tox .tox-sidebar__pane{display:flex}.tox .tox-sidebar--sliding-closed{opacity:0}.tox .tox-sidebar--sliding-open{opacity:1}.tox .tox-sidebar--sliding-growing,.tox .tox-sidebar--sliding-shrinking{transition:width .5s ease,opacity .5s ease}.tox .tox-selector{background-color:#4099ff;border-color:#4099ff;border-style:solid;border-width:1px;box-sizing:border-box;display:inline-block;height:10px;position:absolute;width:10px}.tox.tox-platform-touch .tox-selector{height:12px;width:12px}.tox .tox-slider{align-items:center;display:flex;flex:1;height:24px;justify-content:center;position:relative}.tox .tox-slider__rail{background-color:transparent;border:1px solid #eee;border-radius:6px;height:10px;min-width:120px;width:100%}.tox .tox-slider__handle{background-color:#006ce7;border:2px solid #0054b4;border-radius:6px;box-shadow:none;height:24px;left:50%;position:absolute;top:50%;transform:translateX(-50%) translateY(-50%);width:14px}.tox .tox-form__controls-h-stack>.tox-slider:not(:first-of-type){margin-inline-start:8px}.tox .tox-form__controls-h-stack>.tox-form__group+.tox-slider{margin-inline-start:32px}.tox .tox-form__controls-h-stack>.tox-slider+.tox-form__group{margin-inline-start:32px}.tox .tox-source-code{overflow:auto}.tox .tox-spinner{display:flex}.tox .tox-spinner>div{animation:tam-bouncing-dots 1.5s ease-in-out 0s infinite both;background-color:rgba(34,47,62,.7);border-radius:100%;height:8px;width:8px}.tox .tox-spinner>div:first-child{animation-delay:-.32s}.tox .tox-spinner>div:nth-child(2){animation-delay:-.16s}@keyframes tam-bouncing-dots{0%,100%,80%{transform:scale(0)}40%{transform:scale(1)}}.tox:not([dir=rtl]) .tox-spinner>div:not(:first-child){margin-left:4px}.tox[dir=rtl] .tox-spinner>div:not(:first-child){margin-right:4px}.tox .tox-statusbar{align-items:center;background-color:#fff;border-top:1px solid #e3e3e3;color:rgba(34,47,62,.7);display:flex;flex:0 0 auto;font-size:14px;font-weight:400;height:25px;overflow:hidden;padding:0 8px;position:relative;text-transform:none}.tox .tox-statusbar__path{display:flex;flex:1 1 auto;text-overflow:ellipsis;white-space:nowrap}.tox .tox-statusbar__right-container{display:flex;justify-content:flex-end;white-space:nowrap}.tox .tox-statusbar__help-text{text-align:center}.tox .tox-statusbar__text-container{align-items:flex-start;display:flex;flex:1 1 auto;height:16px;justify-content:space-between;overflow:hidden}@media only screen and (min-width:768px){.tox .tox-statusbar__text-container.tox-statusbar__text-container-3-cols>.tox-statusbar__help-text,.tox .tox-statusbar__text-container.tox-statusbar__text-container-3-cols>.tox-statusbar__path,.tox .tox-statusbar__text-container.tox-statusbar__text-container-3-cols>.tox-statusbar__right-container{flex:0 0 calc(100% / 3)}}.tox .tox-statusbar__text-container.tox-statusbar__text-container--flex-end{justify-content:flex-end}.tox .tox-statusbar__text-container.tox-statusbar__text-container--flex-start{justify-content:flex-start}.tox .tox-statusbar__text-container.tox-statusbar__text-container--space-around{justify-content:space-around}.tox .tox-statusbar__path>*{display:inline;white-space:nowrap}.tox .tox-statusbar__wordcount{flex:0 0 auto;margin-left:1ch}@media only screen and (max-width:767px){.tox .tox-statusbar__text-container .tox-statusbar__help-text{display:none}.tox .tox-statusbar__text-container .tox-statusbar__help-text:only-child{display:block}}.tox .tox-statusbar a,.tox .tox-statusbar__path-item,.tox .tox-statusbar__wordcount{color:rgba(34,47,62,.7);position:relative;-webkit-text-decoration:none;text-decoration:none}.tox .tox-statusbar a:focus:not(:disabled):not([aria-disabled=true]),.tox .tox-statusbar a:hover:not(:disabled):not([aria-disabled=true]),.tox .tox-statusbar__path-item:focus:not(:disabled):not([aria-disabled=true]),.tox .tox-statusbar__path-item:hover:not(:disabled):not([aria-disabled=true]),.tox .tox-statusbar__wordcount:focus:not(:disabled):not([aria-disabled=true]),.tox .tox-statusbar__wordcount:hover:not(:disabled):not([aria-disabled=true]){color:#222f3e;cursor:pointer}.tox .tox-statusbar a:focus-visible::after,.tox .tox-statusbar__path-item:focus-visible::after,.tox .tox-statusbar__wordcount:focus-visible::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-statusbar a:focus-visible::after,.tox .tox-statusbar__path-item:focus-visible::after,.tox .tox-statusbar__wordcount:focus-visible::after{border:2px solid highlight}}.tox .tox-statusbar__branding svg{fill:rgba(34,47,62,0.8);height:1em;margin-left:.3em;width:auto}@media (forced-colors:active){.tox .tox-statusbar__branding svg{fill:currentColor}}.tox .tox-statusbar__branding a{align-items:center;display:inline-flex}.tox .tox-statusbar__branding a:focus:not(:disabled):not([aria-disabled=true]) svg,.tox .tox-statusbar__branding a:hover:not(:disabled):not([aria-disabled=true]) svg{fill:#222f3e}.tox .tox-statusbar__resize-handle{align-items:flex-end;align-self:stretch;cursor:nwse-resize;display:flex;flex:0 0 auto;justify-content:flex-end;margin-bottom:3px;margin-left:4px;margin-right:calc(3px - 8px);margin-top:3px;padding-bottom:0;padding-left:0;padding-right:0;position:relative}.tox .tox-statusbar__resize-handle svg{display:block;fill:rgba(34,47,62,0.5)}.tox .tox-statusbar__resize-handle:focus svg,.tox .tox-statusbar__resize-handle:hover svg{fill:#222f3e}.tox .tox-statusbar__resize-handle:focus-visible{background-color:transparent;border-radius:1px 1px 5px 1px;box-shadow:0 0 0 2px transparent}.tox .tox-statusbar__resize-handle:focus-visible::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-statusbar__resize-handle:focus-visible::after{border:2px solid highlight}}.tox:not([dir=rtl]) .tox-statusbar__path>*{margin-right:4px}.tox:not([dir=rtl]) .tox-statusbar__branding{margin-left:2ch}.tox[dir=rtl] .tox-statusbar{flex-direction:row-reverse}.tox[dir=rtl] .tox-statusbar__path>*{margin-left:4px}.tox[dir=rtl] .tox-statusbar__branding svg{margin-left:0;margin-right:.3em}.tox .tox-throbber{z-index:1299}.tox .tox-throbber__busy-spinner{align-items:center;background-color:rgba(255,255,255,.6);bottom:0;display:flex;justify-content:center;left:0;position:absolute;right:0;top:0}.tox .tox-tbtn{align-items:center;background:#fff;border:0;border-radius:3px;box-shadow:none;color:#222f3e;display:flex;flex:0 0 auto;font-size:14px;font-style:normal;font-weight:400;height:28px;justify-content:center;margin:6px 1px 5px 0;outline:0;padding:0;text-transform:none;width:34px}@media (forced-colors:active){.tox .tox-tbtn.tox-tbtn:hover,.tox .tox-tbtn:hover{outline:1px dashed currentColor}.tox .tox-tbtn.tox-tbtn--active,.tox .tox-tbtn.tox-tbtn--enabled,.tox .tox-tbtn.tox-tbtn--enabled:focus,.tox .tox-tbtn.tox-tbtn--enabled:hover,.tox .tox-tbtn:focus:not(.tox-tbtn--disabled){outline:1px solid currentColor;position:relative}}.tox .tox-tbtn svg{display:block;fill:#222f3e}@media (forced-colors:active){.tox .tox-tbtn svg{fill:currentColor!important}.tox .tox-tbtn svg.tox-tbtn--enabled,.tox .tox-tbtn svg:focus:not(.tox-tbtn--disabled){fill:currentColor!important}.tox .tox-tbtn svg .tox-tbtn:disabled,.tox .tox-tbtn svg .tox-tbtn:disabled:hover,.tox .tox-tbtn svg.tox-tbtn--disabled,.tox .tox-tbtn svg.tox-tbtn--disabled:hover{filter:contrast(0%)}}.tox .tox-tbtn.tox-tbtn-more{padding-left:5px;padding-right:5px;width:inherit}.tox .tox-tbtn:focus{background:#fff;border:0;box-shadow:none;position:relative;z-index:1}.tox .tox-tbtn:focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-tbtn:focus::after{border:2px solid highlight}}.tox .tox-tbtn:hover{background:#f0f0f0;border:0;box-shadow:none;color:#222f3e}.tox .tox-tbtn:hover svg{fill:#222f3e}.tox .tox-tbtn:active{background:#a6ccf7;border:0;box-shadow:none;color:#222f3e}.tox .tox-tbtn:active svg{fill:#222f3e}.tox .tox-tbtn--disabled .tox-tbtn--enabled svg{fill:rgba(34,47,62,0.5)}.tox .tox-tbtn--disabled,.tox .tox-tbtn--disabled:hover,.tox .tox-tbtn:disabled,.tox .tox-tbtn:disabled:hover{background:#fff;border:0;box-shadow:none;color:rgba(34,47,62,.5);cursor:not-allowed}.tox .tox-tbtn--disabled svg,.tox .tox-tbtn--disabled:hover svg,.tox .tox-tbtn:disabled svg,.tox .tox-tbtn:disabled:hover svg{fill:rgba(34,47,62,0.5)}.tox .tox-tbtn--active,.tox .tox-tbtn--enabled,.tox .tox-tbtn--enabled:focus,.tox .tox-tbtn--enabled:hover{background:#a6ccf7;border:0;box-shadow:none;color:#222f3e;position:relative}.tox .tox-tbtn--active>*,.tox .tox-tbtn--enabled:focus>*,.tox .tox-tbtn--enabled:hover>*,.tox .tox-tbtn--enabled>*{transform:none}.tox .tox-tbtn--active svg,.tox .tox-tbtn--enabled svg,.tox .tox-tbtn--enabled:focus svg,.tox .tox-tbtn--enabled:hover svg{fill:#222f3e}.tox .tox-tbtn--active.tox-tbtn--disabled svg,.tox .tox-tbtn--enabled.tox-tbtn--disabled svg,.tox .tox-tbtn--enabled:focus.tox-tbtn--disabled svg,.tox .tox-tbtn--enabled:hover.tox-tbtn--disabled svg{fill:rgba(34,47,62,0.5)}.tox .tox-tbtn--enabled:focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-tbtn--enabled:focus::after{border:2px solid highlight}}.tox .tox-tbtn:focus:not(.tox-tbtn--disabled){color:#222f3e}.tox .tox-tbtn:focus:not(.tox-tbtn--disabled) svg{fill:#222f3e}.tox .tox-tbtn:active>*{transform:none}.tox .tox-tbtn--md{height:42px;width:51px}.tox .tox-tbtn--lg{flex-direction:column;height:56px;width:68px}.tox .tox-tbtn--return{align-self:stretch;height:unset;width:16px}.tox .tox-tbtn--labeled{padding:0 4px;width:unset}.tox .tox-tbtn__vlabel{display:block;font-size:10px;font-weight:400;letter-spacing:-.025em;margin-bottom:4px;white-space:nowrap}.tox .tox-number-input{background:#f7f7f7;border-radius:3px;display:flex;margin:6px 1px 5px 0;position:relative;width:auto}.tox .tox-number-input:focus{background:#f7f7f7}.tox .tox-number-input:focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-number-input:focus::after{border:2px solid highlight}}.tox .tox-number-input .tox-input-wrapper{display:flex;pointer-events:none;position:relative;text-align:center}.tox .tox-number-input .tox-input-wrapper:focus{background-color:#f7f7f7;z-index:1}.tox .tox-number-input .tox-input-wrapper:focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-number-input .tox-input-wrapper:focus::after{border:2px solid highlight}}.tox .tox-number-input .tox-input-wrapper:has(input:focus)::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-number-input .tox-input-wrapper:has(input:focus)::after{border:2px solid highlight}}.tox .tox-number-input input{border-radius:3px;color:#222f3e;font-size:14px;margin:2px 0;pointer-events:all;position:relative;width:60px}.tox .tox-number-input input:hover{background:#f0f0f0;color:#222f3e}.tox .tox-number-input input:focus{background-color:#f7f7f7}.tox .tox-number-input input:disabled{background:#fff;border:0;box-shadow:none;color:rgba(34,47,62,.5);cursor:not-allowed}.tox .tox-number-input button{color:#222f3e;height:28px;position:relative;text-align:center;width:24px}@media (forced-colors:active){.tox .tox-number-input button:active,.tox .tox-number-input button:focus,.tox .tox-number-input button:hover{outline:1px solid currentColor!important}}.tox .tox-number-input button svg{display:block;fill:#222f3e;margin:0 auto;transform:scale(.67)}@media (forced-colors:active){.tox .tox-number-input button svg,.tox .tox-number-input button svg:active,.tox .tox-number-input button svg:hover{fill:currentColor!important}.tox .tox-number-input button svg:disabled{filter:contrast(0)}}.tox .tox-number-input button:focus{background:#f7f7f7;z-index:1}.tox .tox-number-input button:focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-number-input button:focus::after{border:2px solid highlight}}.tox .tox-number-input button:hover{background:#f0f0f0;border:0;box-shadow:none;color:#222f3e}.tox .tox-number-input button:hover svg{fill:#222f3e}.tox .tox-number-input button:active{background:#a6ccf7;border:0;box-shadow:none;color:#222f3e}.tox .tox-number-input button:active svg{fill:#222f3e}.tox .tox-number-input button:disabled{background:#fff;border:0;box-shadow:none;color:rgba(34,47,62,.5);cursor:not-allowed}.tox .tox-number-input button:disabled svg{fill:rgba(34,47,62,0.5)}.tox .tox-number-input button.minus{border-radius:3px 0 0 3px}.tox .tox-number-input button.plus{border-radius:0 3px 3px 0}.tox .tox-number-input:focus:not(:active)>.tox-input-wrapper,.tox .tox-number-input:focus:not(:active)>button{background:#f7f7f7}.tox .tox-tbtn--select{margin:6px 1px 5px 0;padding:0 4px;width:auto}.tox .tox-tbtn__select-label{cursor:default;font-weight:400;height:initial;margin:0 4px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.tox .tox-tbtn__select-chevron{align-items:center;display:flex;justify-content:center;width:16px}.tox .tox-tbtn__select-chevron svg{fill:rgba(34,47,62,0.5)}@media (forced-colors:active){.tox .tox-tbtn__select-chevron svg{fill:currentColor}}.tox .tox-tbtn--bespoke{background:#f7f7f7}.tox .tox-tbtn--bespoke:focus{background:#f7f7f7}.tox .tox-tbtn--bespoke+.tox-tbtn--bespoke{margin-inline-start:4px}.tox .tox-tbtn--bespoke .tox-tbtn__select-label{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;width:7em}.tox .tox-tbtn--disabled .tox-tbtn__select-label,.tox .tox-tbtn--select:disabled .tox-tbtn__select-label{cursor:not-allowed}.tox .tox-split-button{border:0;border-radius:3px;box-sizing:border-box;display:flex;margin:6px 1px 5px 0}.tox .tox-split-button:hover{box-shadow:0 0 0 1px #f0f0f0 inset}.tox .tox-split-button:focus{background:#fff;box-shadow:none;color:#222f3e;position:relative;z-index:1}.tox .tox-split-button:focus::after{pointer-events:none;border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-split-button:focus::after{border:2px solid highlight}}.tox .tox-split-button>*{border-radius:0}.tox .tox-split-button>:first-child{border-bottom-left-radius:3px;border-top-left-radius:3px}.tox .tox-split-button>:nth-child(2){border-bottom-right-radius:3px;border-top-right-radius:3px}.tox .tox-split-button__chevron{width:16px}.tox .tox-split-button__chevron svg{fill:rgba(34,47,62,0.5)}@media (forced-colors:active){.tox .tox-split-button__chevron svg{fill:currentColor}}.tox .tox-split-button .tox-tbtn{margin:0}.tox .tox-split-button:focus .tox-tbtn{background-color:transparent}.tox .tox-split-button.tox-tbtn--disabled .tox-tbtn:focus,.tox .tox-split-button.tox-tbtn--disabled .tox-tbtn:hover,.tox .tox-split-button.tox-tbtn--disabled:focus,.tox .tox-split-button.tox-tbtn--disabled:hover{background:#fff;box-shadow:none;color:rgba(34,47,62,.5)}.tox.tox-platform-touch .tox-split-button .tox-tbtn--select{padding:0 0}.tox.tox-platform-touch .tox-split-button .tox-tbtn:not(.tox-tbtn--select):first-child{width:30px}.tox.tox-platform-touch .tox-split-button__chevron{width:20px}.tox .tox-split-button.tox-tbtn--disabled svg #tox-icon-highlight-bg-color__color,.tox .tox-split-button.tox-tbtn--disabled svg #tox-icon-text-color__color{opacity:.6}.tox .tox-toolbar-overlord{background-color:#fff}.tox .tox-toolbar,.tox .tox-toolbar__overflow,.tox .tox-toolbar__primary{background-attachment:local;background-color:#fff;background-image:repeating-linear-gradient(#e3e3e3 0 1px,transparent 1px 39px);background-position:center top 40px;background-repeat:no-repeat;background-size:calc(100% - 11px * 2) calc(100% - 41px);display:flex;flex:0 0 auto;flex-shrink:0;flex-wrap:wrap;padding:0 0;transform:perspective(1px)}.tox .tox-toolbar-overlord>.tox-toolbar,.tox .tox-toolbar-overlord>.tox-toolbar__overflow,.tox .tox-toolbar-overlord>.tox-toolbar__primary{background-position:center top 0;background-size:calc(100% - 11px * 2) calc(100% - 0)}.tox .tox-toolbar__overflow.tox-toolbar__overflow--closed{height:0;opacity:0;padding-bottom:0;padding-top:0;visibility:hidden}.tox .tox-toolbar__overflow--growing{transition:height .3s ease,opacity .2s linear .1s}.tox .tox-toolbar__overflow--shrinking{transition:opacity .3s ease,height .2s linear .1s,visibility 0s linear .3s}.tox .tox-anchorbar,.tox .tox-toolbar-overlord{grid-column:1/-1}.tox .tox-menubar+.tox-toolbar,.tox .tox-menubar+.tox-toolbar-overlord{border-top:1px solid transparent;margin-top:-1px;padding-bottom:1px;padding-top:1px}@media (forced-colors:active){.tox .tox-menubar+.tox-toolbar,.tox .tox-menubar+.tox-toolbar-overlord{outline:1px solid currentColor}}.tox .tox-toolbar--scrolling{flex-wrap:nowrap;overflow-x:auto}.tox .tox-pop .tox-toolbar{border-width:0}.tox .tox-toolbar--no-divider{background-image:none}.tox .tox-toolbar-overlord .tox-toolbar:not(.tox-toolbar--scrolling):first-child,.tox .tox-toolbar-overlord .tox-toolbar__primary{background-position:center top 39px}.tox .tox-editor-header>.tox-toolbar--scrolling,.tox .tox-toolbar-overlord .tox-toolbar--scrolling:first-child{background-image:none}.tox.tox-tinymce-aux .tox-toolbar__overflow{background-color:#fff;background-position:center top 43px;background-size:calc(100% - 8px * 2) calc(100% - 51px);border:none;border-radius:6px;box-shadow:0 0 2px 0 rgba(34,47,62,.2),0 4px 8px 0 rgba(34,47,62,.15);overscroll-behavior:none;padding:4px 0}@media (forced-colors:active){.tox.tox-tinymce-aux .tox-toolbar__overflow{border:solid}}.tox-pop .tox-pop__dialog .tox-toolbar{background-position:center top 43px;background-size:calc(100% - 11px * 2) calc(100% - 51px);padding:4px 0}.tox .tox-toolbar__group{align-items:center;display:flex;flex-wrap:wrap;margin:0 0;padding:0 11px 0 12px}.tox .tox-toolbar__group--pull-right{margin-left:auto}.tox .tox-toolbar--scrolling .tox-toolbar__group{flex-shrink:0;flex-wrap:nowrap}.tox:not([dir=rtl]) .tox-toolbar__group:not(:last-of-type){border-right:1px solid transparent}.tox[dir=rtl] .tox-toolbar__group:not(:last-of-type){border-left:1px solid transparent}.tox .tox-tooltip{display:inline-block;max-width:15em;padding:8px;pointer-events:none;position:relative;width:max-content;z-index:1150}.tox .tox-tooltip__body{background-color:#222f3e;border-radius:6px;box-shadow:none;color:#fff;font-size:12px;font-style:normal;font-weight:600;overflow-wrap:break-word;padding:4px 6px;text-transform:none}@media (forced-colors:active){.tox .tox-tooltip__body{outline:outset 1px}}.tox .tox-tooltip__arrow{position:absolute}.tox .tox-tooltip--down .tox-tooltip__arrow{border-left:8px solid transparent;border-right:8px solid transparent;border-top:8px solid #222f3e;bottom:0;left:50%;position:absolute;transform:translateX(-50%)}.tox .tox-tooltip--up .tox-tooltip__arrow{border-bottom:8px solid #222f3e;border-left:8px solid transparent;border-right:8px solid transparent;left:50%;position:absolute;top:0;transform:translateX(-50%)}.tox .tox-tooltip--right .tox-tooltip__arrow{border-bottom:8px solid transparent;border-left:8px solid #222f3e;border-top:8px solid transparent;position:absolute;right:0;top:50%;transform:translateY(-50%)}.tox .tox-tooltip--left .tox-tooltip__arrow{border-bottom:8px solid transparent;border-right:8px solid #222f3e;border-top:8px solid transparent;left:0;position:absolute;top:50%;transform:translateY(-50%)}.tox .tox-tree{display:flex;flex-direction:column}.tox .tox-tree .tox-trbtn{align-items:center;background:0 0;border:0;border-radius:4px;box-shadow:none;color:#222f3e;display:flex;flex:0 0 auto;font-size:14px;font-style:normal;font-weight:400;height:28px;margin-bottom:4px;margin-top:4px;outline:0;overflow:hidden;padding:0;padding-left:8px;text-transform:none}.tox .tox-tree .tox-trbtn .tox-tree__label{cursor:default;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.tox .tox-tree .tox-trbtn svg{display:block;fill:#222f3e}.tox .tox-tree .tox-trbtn:focus{background:#f0f0f0;border:0;box-shadow:none}.tox .tox-tree .tox-trbtn:hover{background:#f0f0f0;border:0;box-shadow:none;color:#222f3e}.tox .tox-tree .tox-trbtn:hover svg{fill:#222f3e}.tox .tox-tree .tox-trbtn:active{background:#a6ccf7;border:0;box-shadow:none;color:#222f3e}.tox .tox-tree .tox-trbtn:active svg{fill:#222f3e}.tox .tox-tree .tox-trbtn--disabled,.tox .tox-tree .tox-trbtn--disabled:hover,.tox .tox-tree .tox-trbtn:disabled,.tox .tox-tree .tox-trbtn:disabled:hover{background:0 0;border:0;box-shadow:none;color:rgba(34,47,62,.5);cursor:not-allowed}.tox .tox-tree .tox-trbtn--disabled svg,.tox .tox-tree .tox-trbtn--disabled:hover svg,.tox .tox-tree .tox-trbtn:disabled svg,.tox .tox-tree .tox-trbtn:disabled:hover svg{fill:rgba(34,47,62,0.5)}.tox .tox-tree .tox-trbtn--enabled,.tox .tox-tree .tox-trbtn--enabled:hover{background:#a6ccf7;border:0;box-shadow:none;color:#222f3e}.tox .tox-tree .tox-trbtn--enabled:hover>*,.tox .tox-tree .tox-trbtn--enabled>*{transform:none}.tox .tox-tree .tox-trbtn--enabled svg,.tox .tox-tree .tox-trbtn--enabled:hover svg{fill:#222f3e}.tox .tox-tree .tox-trbtn:focus:not(.tox-trbtn--disabled){color:#222f3e}.tox .tox-tree .tox-trbtn:focus:not(.tox-trbtn--disabled) svg{fill:#222f3e}.tox .tox-tree .tox-trbtn:active>*{transform:none}.tox .tox-tree .tox-trbtn--return{align-self:stretch;height:unset;width:16px}.tox .tox-tree .tox-trbtn--labeled{padding:0 4px;width:unset}.tox .tox-tree .tox-trbtn__vlabel{display:block;font-size:10px;font-weight:400;letter-spacing:-.025em;margin-bottom:4px;white-space:nowrap}.tox .tox-tree .tox-tree--directory{display:flex;flex-direction:column}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label{font-weight:700}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label .tox-mbtn{margin-left:auto}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label .tox-mbtn svg{fill:transparent}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label .tox-mbtn.tox-mbtn--active svg,.tox .tox-tree .tox-tree--directory .tox-tree--directory__label .tox-mbtn:focus svg{fill:#222f3e}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:focus .tox-mbtn svg,.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:hover .tox-mbtn svg{fill:#222f3e}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:hover:has(.tox-mbtn:hover){background-color:transparent;color:#222f3e}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:hover:has(.tox-mbtn:hover) .tox-chevron svg{fill:#222f3e}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label .tox-chevron{margin-right:6px}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:has(+ .tox-tree--directory__children--growing) .tox-chevron,.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:has(+ .tox-tree--directory__children--shrinking) .tox-chevron{transition:transform .5s ease-in-out}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:has(+ .tox-tree--directory__children--growing) .tox-chevron,.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:has(+ .tox-tree--directory__children--open) .tox-chevron{transform:rotate(90deg)}.tox .tox-tree .tox-tree--leaf__label{font-weight:400}.tox .tox-tree .tox-tree--leaf__label .tox-mbtn{margin-left:auto}.tox .tox-tree .tox-tree--leaf__label .tox-mbtn svg{fill:transparent}.tox .tox-tree .tox-tree--leaf__label .tox-mbtn.tox-mbtn--active svg,.tox .tox-tree .tox-tree--leaf__label .tox-mbtn:focus svg{fill:#222f3e}.tox .tox-tree .tox-tree--leaf__label:hover .tox-mbtn svg{fill:#222f3e}.tox .tox-tree .tox-tree--leaf__label:hover:has(.tox-mbtn:hover){background-color:transparent;color:#222f3e}.tox .tox-tree .tox-tree--leaf__label:hover:has(.tox-mbtn:hover) .tox-chevron svg{fill:#222f3e}.tox .tox-tree .tox-tree--directory__children{overflow:hidden;padding-left:16px}.tox .tox-tree .tox-tree--directory__children.tox-tree--directory__children--growing,.tox .tox-tree .tox-tree--directory__children.tox-tree--directory__children--shrinking{transition:height .5s ease-in-out}.tox .tox-tree .tox-trbtn.tox-tree--leaf__label{display:flex;justify-content:space-between}.tox .tox-revisionhistory__pane{padding:0!important}.tox .tox-revisionhistory__container{display:flex;flex-direction:column;height:100%}.tox .tox-revisionhistory{background-color:#fff;border-top:1px solid #f0f0f0;display:flex;flex:1;height:100%;margin-top:8px;overflow-x:auto;overflow-y:hidden;position:relative;width:100%}.tox .tox-revisionhistory--align-right{margin-left:auto}.tox .tox-revisionhistory__iframe{flex:1}.tox .tox-revisionhistory__sidebar{display:flex;flex-direction:column;height:100%;min-width:248px;width:316px}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__sidebar-title{background-color:#fff;box-shadow:0 4px 8px 0 rgba(34,47,62,.1);color:#222f3e;font-size:20px;font-weight:400;line-height:28px;padding:12px;z-index:1}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions{background-color:#f0f0f0;display:flex;flex:1;flex-direction:column;gap:12px;overflow-y:auto;padding:10px 12px}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions:focus{height:100%;position:relative;z-index:1}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions:focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0;border-radius:6px;bottom:1px;left:1px;right:1px;top:1px}@media (forced-colors:active){.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions:focus::after{border:2px solid highlight}}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card{background-color:#fff;border:1px solid #f0f0f0;border-radius:6px;color:#222f3e;cursor:pointer;display:flex;flex-direction:column;font-size:14px;gap:12px;padding:12px;width:100%}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card:hover{box-shadow:0 4px 8px 0 rgba(34,47,62,.1)}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card:focus{position:relative;z-index:1}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card:focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7 #006ce7;content:'';left:0;position:absolute;right:0;top:0;border-radius:6px;box-shadow:0 0 0 2px #006ce7;box-shadow:0 0 0 2px #006ce7!important}@media (forced-colors:active){.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card:focus::after{border:2px solid highlight}}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card.tox-revisionhistory__card--selected{background-color:#fff5cc;box-shadow:0 4px 8px 0 rgba(34,47,62,.1);position:relative}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card.tox-revisionhistory__card--selected::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7 #e3b82a;content:'';left:0;position:absolute;right:0;top:0;border-radius:6px;box-shadow:0 0 0 2px #e3b82a}@media (forced-colors:active){.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card.tox-revisionhistory__card--selected::after{border:2px solid highlight}}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card-date{display:flex;gap:12px;justify-content:space-between}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card-date-label{font-size:16px;line-height:24px}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card-label{font-size:12px;font-weight:600;line-height:24px;padding:0}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card-author{align-items:center;display:flex;flex:1 0 0;gap:8px;height:36px}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card-author-name{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;font-size:14px;font-weight:700;line-height:18px}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__avatar{border-radius:50%;height:36px;object-fit:cover;vertical-align:middle;width:36px}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__norevision{color:rgba(34,47,62,.7);font-size:16px;line-height:24px;padding:5px 5.5px}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card-check-icon{color:#222f3e;height:24px}.tox .tox-view-wrap,.tox .tox-view-wrap__slot-container{background-color:#fff;display:flex;flex:1;flex-direction:column;height:100%}.tox .tox-view{display:flex;flex:1 1 auto;flex-direction:column;overflow:hidden}.tox .tox-view__header{align-items:center;display:flex;font-size:16px;justify-content:space-between;padding:10px 10px 2px 10px;position:relative}.tox .tox-view__label{color:#222f3e;font-weight:700;line-height:24px;padding:4px 16px;text-align:center;white-space:nowrap}.tox .tox-view__label--normal{font-size:16px}.tox .tox-view__label--large{font-size:20px}.tox .tox-view--mobile.tox-view__header,.tox .tox-view--mobile.tox-view__toolbar{padding:8px}.tox .tox-view--scrolling{flex-wrap:nowrap;overflow-x:auto}.tox .tox-view__toolbar{display:flex;flex-direction:row;gap:8px;justify-content:space-between;overflow-x:auto;padding:10px 10px 2px 10px}.tox .tox-view__toolbar__group{display:flex;flex-direction:row;gap:12px}.tox .tox-view__header-end,.tox .tox-view__header-start{display:flex}.tox .tox-view__pane{height:100%;padding:8px;position:relative;width:100%}.tox .tox-view__pane_panel{border:1px solid #eee;border-radius:6px}.tox:not([dir=rtl]) .tox-view__header .tox-view__header-end>*,.tox:not([dir=rtl]) .tox-view__header .tox-view__header-start>*{margin-left:8px}.tox[dir=rtl] .tox-view__header .tox-view__header-end>*,.tox[dir=rtl] .tox-view__header .tox-view__header-start>*{margin-right:8px}.tox .tox-well{border:1px solid #eee;border-radius:6px;padding:8px;width:100%}.tox .tox-well>:first-child{margin-top:0}.tox .tox-well>:last-child{margin-bottom:0}.tox .tox-well>:only-child{margin:0}.tox .tox-custom-editor{border:1px solid #eee;border-radius:6px;display:flex;flex:1;overflow:hidden;position:relative}.tox .tox-dialog-loading::before{background-color:rgba(0,0,0,.5);content:"";height:100%;position:absolute;width:100%;z-index:1000}.tox .tox-tab{cursor:pointer}.tox .tox-dialog__content-js{display:flex;flex:1}.tox .tox-dialog__body-content .tox-collection{display:flex;flex:1}`);tinymce.Resource.add("ui/default/content.css",`.mce-content-body .mce-item-anchor{background:transparent url("data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D'8'%20height%3D'12'%20xmlns%3D'http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg'%3E%3Cpath%20d%3D'M0%200L8%200%208%2012%204.09117821%209%200%2012z'%2F%3E%3C%2Fsvg%3E%0A") no-repeat center}.mce-content-body .mce-item-anchor:empty{cursor:default;display:inline-block;height:12px!important;padding:0 2px;-webkit-user-modify:read-only;-moz-user-modify:read-only;-webkit-user-select:all;user-select:all;width:8px!important}.mce-content-body .mce-item-anchor:not(:empty){background-position-x:2px;display:inline-block;padding-left:12px}.mce-content-body .mce-item-anchor[data-mce-selected]{outline-offset:1px}.tox-comments-visible .tox-comment[contenteditable=false]:not([data-mce-selected]),.tox-comments-visible span.tox-comment img:not([data-mce-selected]),.tox-comments-visible span.tox-comment span.mce-preview-object:not([data-mce-selected]),.tox-comments-visible span.tox-comment>audio:not([data-mce-selected]),.tox-comments-visible span.tox-comment>video:not([data-mce-selected]){outline:3px solid #ffe89d}.tox-comments-visible .tox-comment[contenteditable=false][data-mce-annotation-active=true]:not([data-mce-selected]){outline:3px solid #fed635}.tox-comments-visible span.tox-comment[data-mce-annotation-active=true] img:not([data-mce-selected]),.tox-comments-visible span.tox-comment[data-mce-annotation-active=true] span.mce-preview-object:not([data-mce-selected]),.tox-comments-visible span.tox-comment[data-mce-annotation-active=true]>audio:not([data-mce-selected]),.tox-comments-visible span.tox-comment[data-mce-annotation-active=true]>video:not([data-mce-selected]){outline:3px solid #fed635}.tox-comments-visible span.tox-comment:not([data-mce-selected]){background-color:#ffe89d;outline:0}.tox-comments-visible span.tox-comment[data-mce-annotation-active=true]:not([data-mce-selected=inline-boundary]){background-color:#fed635}.tox-checklist>li:not(.tox-checklist--hidden){list-style:none;margin:.25em 0}.tox-checklist>li:not(.tox-checklist--hidden)::before{content:url("data:image/svg+xml;charset=UTF-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2216%22%20height%3D%2216%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cg%20id%3D%22checklist-unchecked%22%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%3E%3Crect%20id%3D%22Rectangle%22%20width%3D%2215%22%20height%3D%2215%22%20x%3D%22.5%22%20y%3D%22.5%22%20fill-rule%3D%22nonzero%22%20stroke%3D%22%234C4C4C%22%20rx%3D%222%22%2F%3E%3C%2Fg%3E%3C%2Fsvg%3E%0A");cursor:pointer;height:1em;margin-left:-1.5em;margin-top:.125em;position:absolute;width:1em}.tox-checklist li:not(.tox-checklist--hidden).tox-checklist--checked::before{content:url("data:image/svg+xml;charset=UTF-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2216%22%20height%3D%2216%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cg%20id%3D%22checklist-checked%22%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%3E%3Crect%20id%3D%22Rectangle%22%20width%3D%2216%22%20height%3D%2216%22%20fill%3D%22%234099FF%22%20fill-rule%3D%22nonzero%22%20rx%3D%222%22%2F%3E%3Cpath%20id%3D%22Path%22%20fill%3D%22%23FFF%22%20fill-rule%3D%22nonzero%22%20d%3D%22M11.5703186%2C3.14417309%20C11.8516238%2C2.73724603%2012.4164781%2C2.62829933%2012.83558%2C2.89774797%20C13.260121%2C3.17069355%2013.3759736%2C3.72932262%2013.0909105%2C4.14168582%20L7.7580587%2C11.8560195%20C7.43776896%2C12.3193404%206.76483983%2C12.3852142%206.35607322%2C11.9948725%20L3.02491697%2C8.8138662%20C2.66090143%2C8.46625845%202.65798871%2C7.89594698%203.01850234%2C7.54483354%20C3.373942%2C7.19866177%203.94940006%2C7.19592841%204.30829608%2C7.5386474%20L6.85276923%2C9.9684299%20L11.5703186%2C3.14417309%20Z%22%2F%3E%3C%2Fg%3E%3C%2Fsvg%3E%0A")}[dir=rtl] .tox-checklist>li:not(.tox-checklist--hidden)::before{margin-left:0;margin-right:-1.5em}code[class*=language-],pre[class*=language-]{color:#000;background:0 0;text-shadow:0 1px #fff;font-family:Consolas,Monaco,'Andale Mono','Ubuntu Mono',monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;tab-size:4;-webkit-hyphens:none;hyphens:none}code[class*=language-] ::selection,code[class*=language-]::selection,pre[class*=language-] ::selection,pre[class*=language-]::selection{text-shadow:none;background:#b3d4fc}@media print{code[class*=language-],pre[class*=language-]{text-shadow:none}}pre[class*=language-]{padding:1em;margin:.5em 0;overflow:auto}:not(pre)>code[class*=language-],pre[class*=language-]{background:#f5f2f0}:not(pre)>code[class*=language-]{padding:.1em;border-radius:.3em;white-space:normal}.token.cdata,.token.comment,.token.doctype,.token.prolog{color:#708090}.token.punctuation{color:#999}.token.namespace{opacity:.7}.token.boolean,.token.constant,.token.deleted,.token.number,.token.property,.token.symbol,.token.tag{color:#905}.token.attr-name,.token.builtin,.token.char,.token.inserted,.token.selector,.token.string{color:#690}.language-css .token.string,.style .token.string,.token.entity,.token.operator,.token.url{color:#9a6e3a;background:hsla(0,0%,100%,.5)}.token.atrule,.token.attr-value,.token.keyword{color:#07a}.token.class-name,.token.function{color:#dd4a68}.token.important,.token.regex,.token.variable{color:#e90}.token.bold,.token.important{font-weight:700}.token.italic{font-style:italic}.token.entity{cursor:help}.mce-content-body{overflow-wrap:break-word;word-wrap:break-word}.mce-content-body .mce-visual-caret{background-color:#000;background-color:currentColor;position:absolute}.mce-content-body .mce-visual-caret-hidden{display:none}.mce-content-body [data-mce-caret]{left:-1000px;margin:0;padding:0;position:absolute;right:auto;top:0}.mce-content-body .mce-offscreen-selection{left:-2000000px;max-width:1000000px;position:absolute}.mce-content-body [contentEditable=false]{cursor:default}.mce-content-body [contentEditable=true]{cursor:text}.tox-cursor-format-painter{cursor:url("data:image/svg+xml;charset=UTF-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2224%22%20height%3D%2224%22%20viewBox%3D%220%200%2024%2024%22%3E%0A%20%20%3Cg%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%3E%0A%20%20%20%20%3Cpath%20fill%3D%22%23000%22%20fill-rule%3D%22nonzero%22%20d%3D%22M15%2C6%20C15%2C5.45%2014.55%2C5%2014%2C5%20L6%2C5%20C5.45%2C5%205%2C5.45%205%2C6%20L5%2C10%20C5%2C10.55%205.45%2C11%206%2C11%20L14%2C11%20C14.55%2C11%2015%2C10.55%2015%2C10%20L15%2C9%20L16%2C9%20L16%2C12%20L9%2C12%20L9%2C19%20C9%2C19.55%209.45%2C20%2010%2C20%20L11%2C20%20C11.55%2C20%2012%2C19.55%2012%2C19%20L12%2C14%20L18%2C14%20L18%2C7%20L15%2C7%20L15%2C6%20Z%22%2F%3E%0A%20%20%20%20%3Cpath%20fill%3D%22%23000%22%20fill-rule%3D%22nonzero%22%20d%3D%22M1%2C1%20L8.25%2C1%20C8.66421356%2C1%209%2C1.33578644%209%2C1.75%20L9%2C1.75%20C9%2C2.16421356%208.66421356%2C2.5%208.25%2C2.5%20L2.5%2C2.5%20L2.5%2C8.25%20C2.5%2C8.66421356%202.16421356%2C9%201.75%2C9%20L1.75%2C9%20C1.33578644%2C9%201%2C8.66421356%201%2C8.25%20L1%2C1%20Z%22%2F%3E%0A%20%20%3C%2Fg%3E%0A%3C%2Fsvg%3E%0A"),default}div.mce-footnotes hr{margin-inline:0 auto;width:25%}div.mce-footnotes li>a.mce-footnotes-backlink{-webkit-text-decoration:none;text-decoration:none}@media print{sup.mce-footnote a{color:#000;-webkit-text-decoration:none;text-decoration:none}div.mce-footnotes{page-break-inside:avoid;break-inside:avoid;width:100%}div.mce-footnotes li>a.mce-footnotes-backlink{display:none}}tiny-math-block{display:flex;justify-content:center;margin:16px 0 16px 0}tiny-math-inline{display:inline-block}.mce-content-body figure.align-left{float:left}.mce-content-body figure.align-right{float:right}.mce-content-body figure.image.align-center{display:table;margin-left:auto;margin-right:auto}.mce-preview-object{border:1px solid gray;display:inline-block;line-height:0;margin:0 2px;position:relative}.mce-preview-object .mce-shim{background:url("data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7");height:100%;left:0;position:absolute;top:0;width:100%}.mce-preview-object[data-mce-selected="2"] .mce-shim{display:none}.mce-content-body .mce-mergetag{cursor:default!important;-webkit-user-select:none;user-select:none}.mce-content-body .mce-mergetag:hover{background-color:rgba(0,108,231,.1)}.mce-content-body .mce-mergetag-affix{background-color:rgba(0,108,231,.1);color:#006ce7}.mce-object{background:transparent url("data:image/svg+xml;charset=UTF-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2224%22%20height%3D%2224%22%3E%3Cpath%20d%3D%22M4%203h16a1%201%200%200%201%201%201v16a1%201%200%200%201-1%201H4a1%201%200%200%201-1-1V4a1%201%200%200%201%201-1zm1%202v14h14V5H5zm4.79%202.565l5.64%204.028a.5.5%200%200%201%200%20.814l-5.64%204.028a.5.5%200%200%201-.79-.407V7.972a.5.5%200%200%201%20.79-.407z%22%2F%3E%3C%2Fsvg%3E%0A") no-repeat center;border:1px dashed #aaa}.mce-pagebreak{border:1px dashed #aaa;cursor:default;display:block;height:5px;margin-top:15px;page-break-before:always;width:100%}@media print{.mce-pagebreak{border:0}}.tiny-pageembed .mce-shim{background:url(data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7);height:100%;left:0;position:absolute;top:0;width:100%}.tiny-pageembed[data-mce-selected="2"] .mce-shim{display:none}.tiny-pageembed{display:inline-block;position:relative}.tiny-pageembed--16by9,.tiny-pageembed--1by1,.tiny-pageembed--21by9,.tiny-pageembed--4by3{display:block;overflow:hidden;padding:0;position:relative;width:100%}.tiny-pageembed--21by9{padding-top:42.857143%}.tiny-pageembed--16by9{padding-top:56.25%}.tiny-pageembed--4by3{padding-top:75%}.tiny-pageembed--1by1{padding-top:100%}.tiny-pageembed--16by9 iframe,.tiny-pageembed--1by1 iframe,.tiny-pageembed--21by9 iframe,.tiny-pageembed--4by3 iframe{border:0;height:100%;left:0;position:absolute;top:0;width:100%}.mce-content-body[data-mce-placeholder]{position:relative}.mce-content-body[data-mce-placeholder]:not(.mce-visualblocks)::before{color:rgba(34,47,62,.7);content:attr(data-mce-placeholder);position:absolute}@media (forced-colors:active){.mce-content-body[data-mce-placeholder]:not(.mce-visualblocks)::before{color:highlight;filter:brightness(30%);z-index:-1}}.mce-content-body:not([dir=rtl])[data-mce-placeholder]:not(.mce-visualblocks)::before{left:1px}.mce-content-body[dir=rtl][data-mce-placeholder]:not(.mce-visualblocks)::before{right:1px}.mce-content-body div.mce-resizehandle{background-color:#4099ff;border-color:#4099ff;border-style:solid;border-width:1px;box-sizing:border-box;height:10px;position:absolute;width:10px;z-index:1298}.mce-content-body div.mce-resizehandle:hover{background-color:#4099ff}.mce-content-body div.mce-resizehandle:first-of-type{cursor:nwse-resize}.mce-content-body div.mce-resizehandle:nth-of-type(2){cursor:nesw-resize}.mce-content-body div.mce-resizehandle:nth-of-type(3){cursor:nwse-resize}.mce-content-body div.mce-resizehandle:nth-of-type(4){cursor:nesw-resize}.mce-content-body .mce-resize-backdrop{z-index:10000}.mce-content-body .mce-clonedresizable{cursor:default;opacity:.5;outline:1px dashed black;position:absolute;z-index:10001}.mce-content-body .mce-clonedresizable.mce-resizetable-columns td,.mce-content-body .mce-clonedresizable.mce-resizetable-columns th{border:0}.mce-content-body .mce-resize-helper{background:#555;background:rgba(0 0 0%);border:1px;border-radius:3px;color:#fff;display:none;font-family:sans-serif;font-size:12px;line-height:14px;margin:5px 10px;padding:5px;position:absolute;white-space:nowrap;z-index:10002}.tox-rtc-user-selection{position:relative}.tox-rtc-user-cursor{bottom:0;cursor:default;position:absolute;top:0;width:2px}.tox-rtc-user-cursor::before{background-color:inherit;border-radius:50%;content:'';display:block;height:8px;position:absolute;right:-3px;top:-3px;width:8px}.tox-rtc-user-cursor:hover::after{background-color:inherit;border-radius:100px;box-sizing:border-box;color:#fff;content:attr(data-user);display:block;font-size:12px;font-weight:700;left:-5px;min-height:8px;min-width:8px;padding:0 12px;position:absolute;top:-11px;white-space:nowrap;z-index:1000}.tox-rtc-user-selection--1 .tox-rtc-user-cursor{background-color:#2dc26b}.tox-rtc-user-selection--2 .tox-rtc-user-cursor{background-color:#e03e2d}.tox-rtc-user-selection--3 .tox-rtc-user-cursor{background-color:#f1c40f}.tox-rtc-user-selection--4 .tox-rtc-user-cursor{background-color:#3598db}.tox-rtc-user-selection--5 .tox-rtc-user-cursor{background-color:#b96ad9}.tox-rtc-user-selection--6 .tox-rtc-user-cursor{background-color:#e67e23}.tox-rtc-user-selection--7 .tox-rtc-user-cursor{background-color:#aaa69d}.tox-rtc-user-selection--8 .tox-rtc-user-cursor{background-color:#f368e0}.tox-rtc-remote-image{background:#eaeaea url("data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D%2236%22%20height%3D%2212%22%20viewBox%3D%220%200%2036%2012%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%0A%20%20%3Ccircle%20cx%3D%226%22%20cy%3D%226%22%20r%3D%223%22%20fill%3D%22rgba(0%2C%200%2C%200%2C%20.2)%22%3E%0A%20%20%20%20%3Canimate%20attributeName%3D%22r%22%20values%3D%223%3B5%3B3%22%20calcMode%3D%22linear%22%20dur%3D%221s%22%20repeatCount%3D%22indefinite%22%20%2F%3E%0A%20%20%3C%2Fcircle%3E%0A%20%20%3Ccircle%20cx%3D%2218%22%20cy%3D%226%22%20r%3D%223%22%20fill%3D%22rgba(0%2C%200%2C%200%2C%20.2)%22%3E%0A%20%20%20%20%3Canimate%20attributeName%3D%22r%22%20values%3D%223%3B5%3B3%22%20calcMode%3D%22linear%22%20begin%3D%22.33s%22%20dur%3D%221s%22%20repeatCount%3D%22indefinite%22%20%2F%3E%0A%20%20%3C%2Fcircle%3E%0A%20%20%3Ccircle%20cx%3D%2230%22%20cy%3D%226%22%20r%3D%223%22%20fill%3D%22rgba(0%2C%200%2C%200%2C%20.2)%22%3E%0A%20%20%20%20%3Canimate%20attributeName%3D%22r%22%20values%3D%223%3B5%3B3%22%20calcMode%3D%22linear%22%20begin%3D%22.66s%22%20dur%3D%221s%22%20repeatCount%3D%22indefinite%22%20%2F%3E%0A%20%20%3C%2Fcircle%3E%0A%3C%2Fsvg%3E%0A") no-repeat center center;border:1px solid #ccc;min-height:240px;min-width:320px}.mce-match-marker{background:#aaa;color:#fff}.mce-match-marker-selected{background:#39f;color:#fff}.mce-match-marker-selected::selection{background:#39f;color:#fff}.mce-content-body audio[data-mce-selected],.mce-content-body details[data-mce-selected],.mce-content-body embed[data-mce-selected],.mce-content-body img[data-mce-selected],.mce-content-body object[data-mce-selected],.mce-content-body table[data-mce-selected],.mce-content-body video[data-mce-selected]{outline:3px solid #b4d7ff}.mce-content-body hr[data-mce-selected]{outline:3px solid #b4d7ff;outline-offset:1px}.mce-content-body [contentEditable=false] [contentEditable=true]:focus{outline:3px solid #b4d7ff}.mce-content-body [contentEditable=false] [contentEditable=true]:hover{outline:3px solid #b4d7ff}.mce-content-body [contentEditable=false][data-mce-selected]{cursor:not-allowed;outline:3px solid #b4d7ff}.mce-content-body.mce-content-readonly [contentEditable=true]:focus,.mce-content-body.mce-content-readonly [contentEditable=true]:hover{outline:0}.mce-content-body [data-mce-selected=inline-boundary]{background-color:#b4d7ff}.mce-content-body .mce-edit-focus{outline:3px solid #b4d7ff}.mce-content-body td[data-mce-selected],.mce-content-body th[data-mce-selected]{position:relative}.mce-content-body td[data-mce-selected]::selection,.mce-content-body th[data-mce-selected]::selection{background:0 0}.mce-content-body td[data-mce-selected] *,.mce-content-body th[data-mce-selected] *{outline:0;-webkit-touch-callout:none;-webkit-user-select:none;user-select:none}.mce-content-body td[data-mce-selected]::after,.mce-content-body th[data-mce-selected]::after{background-color:rgba(180,215,255,.7);border:1px solid rgba(180,215,255,.7);bottom:-1px;content:'';left:-1px;mix-blend-mode:multiply;position:absolute;right:-1px;top:-1px}@media screen and (-ms-high-contrast:active),(-ms-high-contrast:none){.mce-content-body td[data-mce-selected]::after,.mce-content-body th[data-mce-selected]::after{border-color:rgba(0,84,180,.7)}}.mce-content-body img[data-mce-selected]::selection{background:0 0}.ephox-snooker-resizer-bar{background-color:#b4d7ff;opacity:0;-webkit-user-select:none;user-select:none}.ephox-snooker-resizer-cols{cursor:col-resize}.ephox-snooker-resizer-rows{cursor:row-resize}.ephox-snooker-resizer-bar.ephox-snooker-resizer-bar-dragging{opacity:1}.mce-spellchecker-word{background-image:url("data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D'4'%20height%3D'4'%20xmlns%3D'http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg'%3E%3Cpath%20stroke%3D'%23ff0000'%20fill%3D'none'%20stroke-linecap%3D'round'%20stroke-opacity%3D'.75'%20d%3D'M0%203L2%201%204%203'%2F%3E%3C%2Fsvg%3E%0A");background-position:0 calc(100% + 1px);background-repeat:repeat-x;background-size:auto 6px;cursor:default;height:2rem}.mce-spellchecker-grammar{background-image:url("data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D'4'%20height%3D'4'%20xmlns%3D'http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg'%3E%3Cpath%20stroke%3D'%2300A835'%20fill%3D'none'%20stroke-linecap%3D'round'%20d%3D'M0%203L2%201%204%203'%2F%3E%3C%2Fsvg%3E%0A");background-position:0 calc(100% + 1px);background-repeat:repeat-x;background-size:auto 6px;cursor:default}.mce-toc{border:1px solid gray}.mce-toc h2{margin:4px}.mce-toc ul>li{list-style-type:none}[data-mce-block]{display:block}.mce-item-table:not([border]),.mce-item-table:not([border]) caption,.mce-item-table:not([border]) td,.mce-item-table:not([border]) th,.mce-item-table[border="0"],.mce-item-table[border="0"] caption,.mce-item-table[border="0"] td,.mce-item-table[border="0"] th,table[style*="border-width: 0px"],table[style*="border-width: 0px"] caption,table[style*="border-width: 0px"] td,table[style*="border-width: 0px"] th{border:1px dashed #bbb}.mce-visualblocks address,.mce-visualblocks article,.mce-visualblocks aside,.mce-visualblocks blockquote,.mce-visualblocks div:not([data-mce-bogus]),.mce-visualblocks dl,.mce-visualblocks figcaption,.mce-visualblocks figure,.mce-visualblocks h1,.mce-visualblocks h2,.mce-visualblocks h3,.mce-visualblocks h4,.mce-visualblocks h5,.mce-visualblocks h6,.mce-visualblocks hgroup,.mce-visualblocks ol,.mce-visualblocks p,.mce-visualblocks pre,.mce-visualblocks section,.mce-visualblocks ul{background-repeat:no-repeat;border:1px dashed #bbb;margin-left:3px;padding-top:10px}.mce-visualblocks p{background-image:url(data:image/gif;base64,R0lGODlhCQAJAJEAAAAAAP///7u7u////yH5BAEAAAMALAAAAAAJAAkAAAIQnG+CqCN/mlyvsRUpThG6AgA7)}.mce-visualblocks h1{background-image:url(data:image/gif;base64,R0lGODlhDQAKAIABALu7u////yH5BAEAAAEALAAAAAANAAoAAAIXjI8GybGu1JuxHoAfRNRW3TWXyF2YiRUAOw==)}.mce-visualblocks h2{background-image:url(data:image/gif;base64,R0lGODlhDgAKAIABALu7u////yH5BAEAAAEALAAAAAAOAAoAAAIajI8Hybbx4oOuqgTynJd6bGlWg3DkJzoaUAAAOw==)}.mce-visualblocks h3{background-image:url(data:image/gif;base64,R0lGODlhDgAKAIABALu7u////yH5BAEAAAEALAAAAAAOAAoAAAIZjI8Hybbx4oOuqgTynJf2Ln2NOHpQpmhAAQA7)}.mce-visualblocks h4{background-image:url(data:image/gif;base64,R0lGODlhDgAKAIABALu7u////yH5BAEAAAEALAAAAAAOAAoAAAIajI8HybbxInR0zqeAdhtJlXwV1oCll2HaWgAAOw==)}.mce-visualblocks h5{background-image:url(data:image/gif;base64,R0lGODlhDgAKAIABALu7u////yH5BAEAAAEALAAAAAAOAAoAAAIajI8HybbxIoiuwjane4iq5GlW05GgIkIZUAAAOw==)}.mce-visualblocks h6{background-image:url(data:image/gif;base64,R0lGODlhDgAKAIABALu7u////yH5BAEAAAEALAAAAAAOAAoAAAIajI8HybbxIoiuwjan04jep1iZ1XRlAo5bVgAAOw==)}.mce-visualblocks div:not([data-mce-bogus]){background-image:url(data:image/gif;base64,R0lGODlhEgAKAIABALu7u////yH5BAEAAAEALAAAAAASAAoAAAIfjI9poI0cgDywrhuxfbrzDEbQM2Ei5aRjmoySW4pAAQA7)}.mce-visualblocks section{background-image:url(data:image/gif;base64,R0lGODlhKAAKAIABALu7u////yH5BAEAAAEALAAAAAAoAAoAAAI5jI+pywcNY3sBWHdNrplytD2ellDeSVbp+GmWqaDqDMepc8t17Y4vBsK5hDyJMcI6KkuYU+jpjLoKADs=)}.mce-visualblocks article{background-image:url(data:image/gif;base64,R0lGODlhKgAKAIABALu7u////yH5BAEAAAEALAAAAAAqAAoAAAI6jI+pywkNY3wG0GBvrsd2tXGYSGnfiF7ikpXemTpOiJScasYoDJJrjsG9gkCJ0ag6KhmaIe3pjDYBBQA7)}.mce-visualblocks blockquote{background-image:url(data:image/gif;base64,R0lGODlhPgAKAIABALu7u////yH5BAEAAAEALAAAAAA+AAoAAAJPjI+py+0Knpz0xQDyuUhvfoGgIX5iSKZYgq5uNL5q69asZ8s5rrf0yZmpNkJZzFesBTu8TOlDVAabUyatguVhWduud3EyiUk45xhTTgMBBQA7)}.mce-visualblocks address{background-image:url(data:image/gif;base64,R0lGODlhLQAKAIABALu7u////yH5BAEAAAEALAAAAAAtAAoAAAI/jI+pywwNozSP1gDyyZcjb3UaRpXkWaXmZW4OqKLhBmLs+K263DkJK7OJeifh7FicKD9A1/IpGdKkyFpNmCkAADs=)}.mce-visualblocks pre{background-image:url(data:image/gif;base64,R0lGODlhFQAKAIABALu7uwAAACH5BAEAAAEALAAAAAAVAAoAAAIjjI+ZoN0cgDwSmnpz1NCueYERhnibZVKLNnbOq8IvKpJtVQAAOw==)}.mce-visualblocks figure{background-image:url(data:image/gif;base64,R0lGODlhJAAKAIAAALu7u////yH5BAEAAAEALAAAAAAkAAoAAAI0jI+py+2fwAHUSFvD3RlvG4HIp4nX5JFSpnZUJ6LlrM52OE7uSWosBHScgkSZj7dDKnWAAgA7)}.mce-visualblocks figcaption{border:1px dashed #bbb}.mce-visualblocks hgroup{background-image:url(data:image/gif;base64,R0lGODlhJwAKAIABALu7uwAAACH5BAEAAAEALAAAAAAnAAoAAAI3jI+pywYNI3uB0gpsRtt5fFnfNZaVSYJil4Wo03Hv6Z62uOCgiXH1kZIIJ8NiIxRrAZNMZAtQAAA7)}.mce-visualblocks aside{background-image:url(data:image/gif;base64,R0lGODlhHgAKAIABAKqqqv///yH5BAEAAAEALAAAAAAeAAoAAAItjI+pG8APjZOTzgtqy7I3f1yehmQcFY4WKZbqByutmW4aHUd6vfcVbgudgpYCADs=)}.mce-visualblocks ul{background-image:url(data:image/gif;base64,R0lGODlhDQAKAIAAALu7u////yH5BAEAAAEALAAAAAANAAoAAAIXjI8GybGuYnqUVSjvw26DzzXiqIDlVwAAOw==)}.mce-visualblocks ol{background-image:url(data:image/gif;base64,R0lGODlhDQAKAIABALu7u////yH5BAEAAAEALAAAAAANAAoAAAIXjI8GybH6HHt0qourxC6CvzXieHyeWQAAOw==)}.mce-visualblocks dl{background-image:url(data:image/gif;base64,R0lGODlhDQAKAIABALu7u////yH5BAEAAAEALAAAAAANAAoAAAIXjI8GybEOnmOvUoWznTqeuEjNSCqeGRUAOw==)}.mce-visualblocks:not([dir=rtl]) address,.mce-visualblocks:not([dir=rtl]) article,.mce-visualblocks:not([dir=rtl]) aside,.mce-visualblocks:not([dir=rtl]) blockquote,.mce-visualblocks:not([dir=rtl]) div:not([data-mce-bogus]),.mce-visualblocks:not([dir=rtl]) dl,.mce-visualblocks:not([dir=rtl]) figcaption,.mce-visualblocks:not([dir=rtl]) figure,.mce-visualblocks:not([dir=rtl]) h1,.mce-visualblocks:not([dir=rtl]) h2,.mce-visualblocks:not([dir=rtl]) h3,.mce-visualblocks:not([dir=rtl]) h4,.mce-visualblocks:not([dir=rtl]) h5,.mce-visualblocks:not([dir=rtl]) h6,.mce-visualblocks:not([dir=rtl]) hgroup,.mce-visualblocks:not([dir=rtl]) ol,.mce-visualblocks:not([dir=rtl]) p,.mce-visualblocks:not([dir=rtl]) pre,.mce-visualblocks:not([dir=rtl]) section,.mce-visualblocks:not([dir=rtl]) ul{margin-left:3px}.mce-visualblocks[dir=rtl] address,.mce-visualblocks[dir=rtl] article,.mce-visualblocks[dir=rtl] aside,.mce-visualblocks[dir=rtl] blockquote,.mce-visualblocks[dir=rtl] div:not([data-mce-bogus]),.mce-visualblocks[dir=rtl] dl,.mce-visualblocks[dir=rtl] figcaption,.mce-visualblocks[dir=rtl] figure,.mce-visualblocks[dir=rtl] h1,.mce-visualblocks[dir=rtl] h2,.mce-visualblocks[dir=rtl] h3,.mce-visualblocks[dir=rtl] h4,.mce-visualblocks[dir=rtl] h5,.mce-visualblocks[dir=rtl] h6,.mce-visualblocks[dir=rtl] hgroup,.mce-visualblocks[dir=rtl] ol,.mce-visualblocks[dir=rtl] p,.mce-visualblocks[dir=rtl] pre,.mce-visualblocks[dir=rtl] section,.mce-visualblocks[dir=rtl] ul{background-position-x:right;margin-right:3px}.mce-nbsp,.mce-shy{background:#aaa}.mce-shy::after{content:'-'}body{font-family:sans-serif}table{border-collapse:collapse}`);tinymce.Resource.add("content/default/content.css",`body{font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,Oxygen,Ubuntu,Cantarell,'Open Sans','Helvetica Neue',sans-serif;line-height:1.4;margin:1rem}table{border-collapse:collapse}table:not([cellpadding]) td,table:not([cellpadding]) th{padding:.4rem}table[border]:not([border="0"]):not([style*=border-width]) td,table[border]:not([border="0"]):not([style*=border-width]) th{border-width:1px}table[border]:not([border="0"]):not([style*=border-style]) td,table[border]:not([border="0"]):not([style*=border-style]) th{border-style:solid}table[border]:not([border="0"]):not([style*=border-color]) td,table[border]:not([border="0"]):not([style*=border-color]) th{border-color:#ccc}figure{display:table;margin:1rem auto}figure figcaption{color:#999;display:block;margin-top:.25rem;text-align:center}hr{border-color:#ccc;border-style:solid;border-width:1px 0 0 0}code{background-color:#e8e8e8;border-radius:3px;padding:.1rem .2rem}.mce-content-body:not([dir=rtl]) blockquote{border-left:2px solid #ccc;margin-left:1.5rem;padding-left:1rem}.mce-content-body[dir=rtl] blockquote{border-right:2px solid #ccc;margin-right:1.5rem;padding-right:1rem}`);tinymce.addI18n("de",{"#":"#",Accessibility:"Barrierefreiheit",Accordion:"","Accordion body...":"","Accordion summary...":"",Action:"Aktion",Activity:"Aktivitt",Address:"Adresse",Advanced:"Erweitert",Align:"Ausrichtung","Align center":"Zentrieren","Align left":"Linksbndig ausrichten","Align right":"Rechtsbndig ausrichten",Alignment:"Ausrichtung","Alignment {0}":"",All:"Alle","Alternative description":"Alternative Beschreibung","Alternative source":"Alternative Quelle","Alternative source URL":"URL der alternativen Quelle",Anchor:"Anker","Anchor...":"Textmarke",Anchors:"Anker","Animals and Nature":"Tiere und Natur",Arrows:"Pfeile",B:"B","Background color":"Hintergrundfarbe","Background color {0}":"",Black:"Schwarz",Block:"Blocksatz","Block {0}":"",Blockquote:"Blockzitat",Blocks:"Blcke",Blue:"Blau","Blue component":"Blauanteil",Body:"Inhalt",Bold:"Fett",Border:"Rahmen","Border color":"Rahmenfarbe","Border style":"Rahmenstil","Border width":"Rahmenbreite",Bottom:"Unten","Browse files":"","Browse for an image":"Bild...","Browse links":"","Bullet list":"Aufzhlung",Cancel:"Abbrechen",Caption:"Beschriftung",Cell:"Zelle","Cell padding":"Zelleninnenabstand","Cell properties":"Zelleigenschaften","Cell spacing":"Zellenabstand","Cell styles":"Zellstil","Cell type":"Zelltyp",Center:"Zentriert",Characters:"Zeichen","Characters (no spaces)":"Zeichen (ohne Leerzeichen)",Circle:"Kreis",Class:"Klasse","Clear formatting":"Formatierung entfernen",Close:"Schlieen",Code:"Code","Code sample...":"Codebeispiel...","Code view":"Code Ansicht","Color Picker":"Farbwahl","Color swatch":"Farbpalette",Cols:"Spalten",Column:"Spalte","Column clipboard actions":"Spalten-Zwischenablage-Aktionen","Column group":"Spaltengruppe","Column header":"Spaltenkopf","Constrain proportions":"Seitenverhltnis beibehalten",Copy:"Kopieren","Copy column":"Spalte kopieren","Copy row":"Zeile kopieren","Could not find the specified string.":"Die angegebene Zeichenfolge wurde nicht gefunden.","Could not load emojis":"Emojis konnten nicht geladen werden",Count:"Anzahl",Currency:"Whrung","Current window":"Aktuelles Fenster","Custom color":"Benutzerdefinierte Farbe","Custom...":"Benutzerdefiniert...",Cut:"Ausschneiden","Cut column":"Spalte ausschneiden","Cut row":"Zeile ausschneiden","Dark Blue":"Dunkelblau","Dark Gray":"Dunkelgrau","Dark Green":"Dunkelgrn","Dark Orange":"Dunkelorange","Dark Purple":"Dunkellila","Dark Red":"Dunkelrot","Dark Turquoise":"Dunkeltrkis","Dark Yellow":"Dunkelgelb",Dashed:"Gestrichelt","Date/time":"Datum/Uhrzeit","Decrease indent":"Einzug verkleinern",Default:"Standard","Delete accordion":"","Delete column":"Spalte lschen","Delete row":"Zeile lschen","Delete table":"Tabelle lschen",Dimensions:"Abmessungen",Disc:"Scheibe",Div:"Div",Document:"Dokument",Dotted:"Gepunktet",Double:"Doppelt","Drop an image here":"Bild hier ablegen","Dropped file type is not supported":"Hereingezogener Dateityp wird nicht untersttzt",Edit:"Bearbeiten",Embed:"Einbettung",Emojis:"Emojis","Emojis...":"Emojis...",Error:"Fehler","Error: Form submit field collision.":"Fehler: Kollision der Formularbesttigungsfelder.","Error: No form element found.":"Fehler: Kein Formularelement gefunden.","Extended Latin":"Erweitertes Latein","Failed to initialize plugin: {0}":"Plugin konnte nicht initialisiert werden: {0}","Failed to load plugin url: {0}":"Plugin-URL konnte nicht geladen werden: {0}","Failed to load plugin: {0} from url {1}":"Plugin konnte nicht geladen werden: {0} von URL {1}","Failed to upload image: {0}":"Bild konnte nicht hochgeladen werden: {0}",File:"Datei",Find:"Suchen","Find (if searchreplace plugin activated)":"Suchen (wenn Suchen/Ersetzen-Plugin aktiviert ist)","Find and Replace":"Suchen und Ersetzen","Find and replace...":"Suchen und ersetzen...","Find in selection":"In Auswahl suchen","Find whole words only":"Nur ganze Wrter suchen",Flags:"Flaggen","Focus to contextual toolbar":"Fokus auf kontextbezogene Symbolleiste","Focus to element path":"Fokus auf Elementpfad","Focus to menubar":"Fokus auf Menleiste","Focus to toolbar":"Fokus auf Symbolleiste",Font:"Schriftart","Font size {0}":"","Font sizes":"Schriftgren","Font {0}":"",Fonts:"Schriftarten","Food and Drink":"Essen und Trinken",Footer:"Fuzeile",Format:"Format","Format {0}":"",Formats:"Formate",Fullscreen:"Vollbild",G:"G",General:"Allgemein",Gray:"Grau",Green:"Grn","Green component":"Grnanteil",Groove:"Gekantet","Handy Shortcuts":"Praktische Tastenkombinationen",Header:"Kopfzeile","Header cell":"Kopfzelle","Heading 1":"berschrift 1","Heading 2":"berschrift 2","Heading 3":"berschrift 3","Heading 4":"berschrift 4","Heading 5":"berschrift 5","Heading 6":"berschrift 6",Headings:"berschriften",Height:"Hhe",Help:"Hilfe","Hex color code":"Hexadezimal-Farbwert",Hidden:"Unsichtbar","Horizontal align":"Horizontal ausrichten","Horizontal line":"Horizontale Linie","Horizontal space":"Horizontaler Raum",ID:"ID","ID should start with a letter, followed only by letters, numbers, dashes, dots, colons or underscores.":"Die ID muss mit einem Buchstaben beginnen gefolgt von Buchstaben, Zahlen, Bindestrichen, Punkten, Doppelpunkten oder Unterstrichen.","Image is decorative":"Bild ist dekorativ","Image list":"Bildliste","Image title":"Bildtitel","Image...":"Bild...","ImageProxy HTTP error: Could not find Image Proxy":"Image Proxy HTTP Fehler: Kann Image Proxy nicht finden","ImageProxy HTTP error: Incorrect Image Proxy URL":"Image Proxy HTTP Fehler: Falsche Image Proxy URL","ImageProxy HTTP error: Rejected request":"Image Proxy HTTP Fehler: Abgewiesene Anfrage","ImageProxy HTTP error: Unknown ImageProxy error":"Image Proxy HTTP Fehler: Unbekannter Image Proxy Fehler","Increase indent":"Einzug vergrern",Inline:"Zeichenformate",Insert:"Einfgen","Insert Template":"Vorlage einfgen","Insert accordion":"","Insert column after":"Neue Spalte danach einfgen","Insert column before":"Neue Spalte davor einfgen","Insert date/time":"Datum/Uhrzeit einfgen","Insert image":"Bild einfgen","Insert link (if link plugin activated)":"Link einfgen (wenn Link-Plugin aktiviert ist)","Insert row after":"Neue Zeile danach einfgen","Insert row before":"Neue Zeile davor einfgen","Insert table":"Tabelle einfgen","Insert template...":"Vorlage einfgen...","Insert video":"Video einfgen","Insert/Edit code sample":"Codebeispiel einfgen/bearbeiten","Insert/edit image":"Bild einfgen/bearbeiten","Insert/edit link":"Link einfgen/bearbeiten","Insert/edit media":"Medien einfgen/bearbeiten","Insert/edit video":"Video einfgen/bearbeiten",Inset:"Eingelassen","Invalid hex color code: {0}":"Ungltiger Hexadezimal-Farbwert: {0}","Invalid input":"Ungltige Eingabe",Italic:"Kursiv",Justify:"Blocksatz","Keyboard Navigation":"Tastaturnavigation",Language:"Sprache","Learn more...":"Erfahren Sie mehr dazu...",Left:"Links","Left to right":"Von links nach rechts","Light Blue":"Hellblau","Light Gray":"Hellgrau","Light Green":"Hellgrn","Light Purple":"Helllila","Light Red":"Hellrot","Light Yellow":"Hellgelb","Line height":"Liniendicke","Link list":"Linkliste","Link...":"Link...","List Properties":"Liste Eigenschaften","List properties...":"Liste Eigenschaften","Loading emojis...":"Lade Emojis...","Loading...":"Wird geladen...","Lower Alpha":"Lateinisches Alphabet in Kleinbuchstaben","Lower Greek":"Griechische Kleinbuchstaben","Lower Roman":"Kleiner rmischer Buchstabe","Match case":"Gro-/Kleinschreibung beachten",Mathematical:"Mathematisch","Media poster (Image URL)":"Medienposter (Bild-URL)","Media...":"Medien...","Medium Blue":"Mittleres Blau","Medium Gray":"Mittelgrau","Medium Purple":"Mittelviolett","Merge cells":"Zellen verbinden",Middle:"Mitte","Midnight Blue":"Mitternachtsblau","More...":"Mehr...",Name:"Name","Navy Blue":"Marineblau","New document":"Neues Dokument","New window":"Neues Fenster",Next:"Nchste",No:"Nein","No alignment":"Keine Ausrichtung","No color":"Keine Farbe","Nonbreaking space":"Geschtztes Leerzeichen",None:"Keine","Numbered list":"Nummerierte Liste",OR:"ODER",Objects:"Objekte",Ok:"Ok","Open help dialog":"Hilfe-Dialog ffnen","Open link":"Link ffnen","Open link in...":"Link ffnen in...","Open popup menu for split buttons":"ffne Popup Menge um Buttons zu trennen",Orange:"Orange",Outset:"Hervorstehend","Page break":"Seitenumbruch",Paragraph:"Absatz",Paste:"Einfgen","Paste as text":"Als Text einfgen","Paste column after":"Spalte danach einfgen","Paste column before":"Spalte davor einfgen","Paste is now in plain text mode. Contents will now be pasted as plain text until you toggle this option off.":"Einfgen ist nun im unformatierten Textmodus. Inhalte werden ab jetzt als unformatierter Text eingefgt, bis Sie diese Einstellung wieder deaktivieren.","Paste or type a link":"Link einfgen oder eingeben","Paste row after":"Zeile danach einfgen","Paste row before":"Zeile davor einfgen","Paste your embed code below:":"Fgen Sie Ihren Einbettungscode unten ein:",People:"Menschen",Plugins:"Plugins","Plugins installed ({0}):":"Installierte Plugins ({0}):","Powered by {0}":"Betrieben von {0}",Pre:"Pre",Preferences:"Einstellungen",Preformatted:"Vorformatiert","Premium plugins:":"Premium-Plugins:","Press the Up and Down arrow keys to resize the editor.":"","Press the arrow keys to resize the editor.":"","Press {0} for help":"",Preview:"Vorschau",Previous:"Vorherige",Print:"Drucken","Print...":"Drucken...",Purple:"Violett",Quotations:"Anfhrungszeichen",R:"R","Range 0 to 255":"Spanne 0 bis 255",Red:"Rot","Red component":"Rotanteil",Redo:"Wiederholen",Remove:"Entfernen","Remove color":"Farbauswahl aufheben","Remove link":"Link entfernen",Replace:"Ersetzen","Replace all":"Alle ersetzen","Replace with":"Ersetzen durch",Resize:"Skalieren","Restore last draft":"Letzten Entwurf wiederherstellen","Reveal or hide additional toolbar items":"","Rich Text Area":"Rich-Text-Area","Rich Text Area. Press ALT-0 for help.":"Rich-Text-Bereich. Drcken Sie Alt+0 fr Hilfe.","Rich Text Area. Press ALT-F9 for menu. Press ALT-F10 for toolbar. Press ALT-0 for help":"Rich-Text-Bereich. Drcken Sie Alt+F9 fr das Men. Drcken Sie Alt+F10 fr die Symbolleiste. Drcken Sie Alt+0 fr Hilfe.",Ridge:"Eingeritzt",Right:"Rechts","Right to left":"Von rechts nach links",Row:"Zeile","Row clipboard actions":"Zeilen-Zwischenablage-Aktionen","Row group":"Zeilengruppe","Row header":"Zeilenkopf","Row properties":"Zeileneigenschaften","Row type":"Zeilentyp",Rows:"Zeilen",Save:"Speichern","Save (if save plugin activated)":"Speichern (wenn Save-Plugin aktiviert ist)",Scope:"Bereich",Search:"Suchen","Select all":"Alles auswhlen","Select...":"Auswahl...",Selection:"Auswahl",Shortcut:"Tastenkombination","Show blocks":"Blcke anzeigen","Show caption":"Beschriftung anzeigen","Show invisible characters":"Unsichtbare Zeichen anzeigen",Size:"Schriftgre",Solid:"Durchgezogen",Source:"Quelle","Source code":"Quellcode","Special Character":"Sonderzeichen","Special character...":"Sonderzeichen...","Split cell":"Zelle aufteilen",Square:"Rechteck","Start list at number":"Beginne Liste mit Nummer",Strikethrough:"Durchgestrichen",Style:"Formatvorlage",Subscript:"Tiefgestellt",Superscript:"Hochgestellt","Switch to or from fullscreen mode":"Vollbildmodus umschalten",Symbols:"Symbole","System Font":"Betriebssystemschriftart",Table:"Tabelle","Table caption":"Tabellenbeschriftung","Table properties":"Tabelleneigenschaften","Table styles":"Tabellenstil",Template:"Vorlage",Templates:"Vorlagen",Text:"Text","Text color":"Textfarbe","Text color {0}":"","Text to display":"Anzuzeigender Text","The URL you entered seems to be an email address. Do you want to add the required mailto: prefix?":"Diese URL scheint eine E-Mail-Adresse zu sein. Mchten Sie das dazu bentigte mailto: voranstellen?","The URL you entered seems to be an external link. Do you want to add the required http:// prefix?":"Diese URL scheint ein externer Link zu sein. Mchten Sie das dazu bentigte http:// voranstellen?","The URL you entered seems to be an external link. Do you want to add the required https:// prefix?":"Die eingegebene URL scheint ein externer Link zu sein. Soll das fehlende https:// davor ergnzt werden?",Title:"Titel","To open the popup, press Shift+Enter":"Drcken Sie Umschalt+Eingabe, um das Popup-Fenster zu ffnen.","Toggle accordion":"",Tools:"Werkzeuge",Top:"Oben","Travel and Places":"Reisen und Orte",Turquoise:"Trkis",Underline:"Unterstrichen",Undo:"Rckgngig machen",Upload:"Hochladen","Uploading image":"Bild wird hochgeladen","Upper Alpha":"Lateinisches Alphabet in Grobuchstaben","Upper Roman":"Groer rmischer Buchstabe",Url:"URL","User Defined":"Benutzerdefiniert",Valid:"Gltig",Version:"Version","Vertical align":"Vertikal ausrichten","Vertical space":"Vertikaler Raum",View:"Ansicht","Visual aids":"Visuelle Hilfen",Warn:"Warnung",White:"Wei",Width:"Breite","Word count":"Anzahl der Wrter",Words:"Wrter","Words: {0}":"Wortzahl: {0}",Yellow:"Gelb",Yes:"Ja","You are using {0}":"Sie verwenden {0}","You have unsaved changes are you sure you want to navigate away?":"Die nderungen wurden noch nicht gespeichert. Sind Sie sicher, dass Sie diese Seite verlassen wollen?","Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.":"Ihr Browser untersttzt leider keinen direkten Zugriff auf die Zwischenablage. Bitte benutzen Sie die Tastenkombinationen Strg+X/C/V.",alignment:"Ausrichtung","austral sign":"Australzeichen","cedi sign":"Cedizeichen","colon sign":"Doppelpunkt","cruzeiro sign":"Cruzeirozeichen","currency sign":"Whrungssymbol","dollar sign":"Dollarzeichen","dong sign":"Dongzeichen","drachma sign":"Drachmezeichen","euro-currency sign":"Eurozeichen",example:"Beispiel",formatting:"Formatierung","french franc sign":"Franczeichen","german penny symbol":"Pfennigzeichen","guarani sign":"Guaranizeichen",history:"Historie","hryvnia sign":"Hrywnjazeichen",indentation:"Einrckungen","indian rupee sign":"Indisches Rupiezeichen","kip sign":"Kipzeichen","lira sign":"Lirezeichen","livre tournois sign":"Livrezeichen","manat sign":"Manatzeichen","mill sign":"Millzeichen","naira sign":"Nairazeichen","new sheqel sign":"Schekelzeichen","nordic mark sign":"Zeichen nordische Mark","peseta sign":"Pesetazeichen","peso sign":"Pesozeichen","ruble sign":"Rubelzeichen","rupee sign":"Rupiezeichen","spesmilo sign":"Spesmilozeichen",styles:"Stile","tenge sign":"Tengezeichen","tugrik sign":"Tugrikzeichen","turkish lira sign":"Trkisches Lirazeichen","won sign":"Wonzeichen","yen character":"Yenzeichen","yen/yuan character variant one":"Yen-/Yuanzeichen Variante 1","yuan character":"Yuanzeichen","yuan character, in hong kong and taiwan":"Yuanzeichen in Hongkong und Taiwan","{0} characters":"{0}Zeichen","{0} columns, {1} rows":"","{0} words":"{0} Wrter"});var CX={},SX={},_X;function sSe(){return _X||(_X=1,function(){var t=tinymce.util.Tools.resolve("tinymce.PluginManager");const r=(L,Y,fe)=>{var We;return fe(L,Y.prototype)?!0:((We=L.constructor)===null||We===void 0?void 0:We.name)===Y.name},i=L=>{const Y=typeof L;return L===null?"null":Y==="object"&&Array.isArray(L)?"array":Y==="object"&&r(L,String,(fe,We)=>We.isPrototypeOf(fe))?"string":Y},u=L=>Y=>i(Y)===L,g=L=>Y=>typeof Y===L,h=u("string"),x=u("object"),w=u("array"),R=g("boolean"),D=L=>L==null,O=L=>!D(L),M=g("function"),H=g("number"),K=()=>{},Z=(L,Y)=>fe=>L(Y(fe)),Q=L=>()=>L,re=(L,Y)=>L===Y;function U(L,...Y){return(...fe)=>{const We=Y.concat(fe);return L.apply(null,We)}}const ge=L=>Y=>!L(Y),de=Q(!1);class q{constructor(Y,fe){this.tag=Y,this.value=fe}static some(Y){return new q(!0,Y)}static none(){return q.singletonNone}fold(Y,fe){return this.tag?fe(this.value):Y()}isSome(){return this.tag}isNone(){return!this.tag}map(Y){return this.tag?q.some(Y(this.value)):q.none()}bind(Y){return this.tag?Y(this.value):q.none()}exists(Y){return this.tag&&Y(this.value)}forall(Y){return!this.tag||Y(this.value)}filter(Y){return!this.tag||Y(this.value)?this:q.none()}getOr(Y){return this.tag?this.value:Y}or(Y){return this.tag?this:Y}getOrThunk(Y){return this.tag?this.value:Y()}orThunk(Y){return this.tag?this:Y()}getOrDie(Y){if(this.tag)return this.value;throw new Error(Y??"Called getOrDie on None")}static from(Y){return O(Y)?q.some(Y):q.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(Y){this.tag&&Y(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}q.singletonNone=new q(!1);const he=Array.prototype.slice,oe=Array.prototype.indexOf,_e=Array.prototype.push,Ue=(L,Y)=>oe.call(L,Y),Qe=(L,Y)=>Ue(L,Y)>-1,ct=(L,Y)=>{for(let fe=0,We=L.length;fe<We;fe++){const tt=L[fe];if(Y(tt,fe))return!0}return!1},Ce=(L,Y)=>{const fe=L.length,We=new Array(fe);for(let tt=0;tt<fe;tt++){const Ut=L[tt];We[tt]=Y(Ut,tt)}return We},Te=(L,Y)=>{for(let fe=0,We=L.length;fe<We;fe++){const tt=L[fe];Y(tt,fe)}},I=(L,Y)=>{const fe=[];for(let We=0,tt=L.length;We<tt;We++){const Ut=L[We];Y(Ut,We)&&fe.push(Ut)}return fe},dt=(L,Y)=>{if(L.length===0)return[];{let fe=Y(L[0]);const We=[];let tt=[];for(let Ut=0,lo=L.length;Ut<lo;Ut++){const Mo=L[Ut],ko=Y(Mo);ko!==fe&&(We.push(tt),tt=[]),fe=ko,tt.push(Mo)}return tt.length!==0&&We.push(tt),We}},gt=(L,Y,fe)=>(Te(L,(We,tt)=>{fe=Y(fe,We,tt)}),fe),Ft=(L,Y,fe)=>{for(let We=0,tt=L.length;We<tt;We++){const Ut=L[We];if(Y(Ut,We))return q.some(Ut);if(fe(Ut,We))break}return q.none()},en=(L,Y)=>Ft(L,Y,de),ft=L=>{const Y=[];for(let fe=0,We=L.length;fe<We;++fe){if(!w(L[fe]))throw new Error("Arr.flatten item "+fe+" was not an array, input: "+L);_e.apply(Y,L[fe])}return Y},Rn=(L,Y)=>ft(Ce(L,Y)),Ot=L=>{const Y=he.call(L,0);return Y.reverse(),Y},rt=(L,Y)=>Y>=0&&Y<L.length?q.some(L[Y]):q.none(),Ve=L=>rt(L,0),bt=L=>rt(L,L.length-1),Yn=(L,Y)=>{const fe=[],We=M(Y)?tt=>ct(fe,Ut=>Y(Ut,tt)):tt=>Qe(fe,tt);for(let tt=0,Ut=L.length;tt<Ut;tt++){const lo=L[tt];We(lo)||fe.push(lo)}return fe},Yt=(L,Y,fe=re)=>L.exists(We=>fe(We,Y)),Bn=(L,Y,fe=re)=>Jt(L,Y,fe).getOr(L.isNone()&&Y.isNone()),Jt=(L,Y,fe)=>L.isSome()&&Y.isSome()?q.some(fe(L.getOrDie(),Y.getOrDie())):q.none(),te=8,vo=11,nn=1,yn=3,qe=(L,Y)=>{const We=(Y||document).createElement("div");if(We.innerHTML=L,!We.hasChildNodes()||We.childNodes.length>1){const tt="HTML does not have a single root node";throw console.error(tt,L),new Error(tt)}return Me(We.childNodes[0])},it=(L,Y)=>{const We=(Y||document).createElement(L);return Me(We)},Se=(L,Y)=>{const We=(Y||document).createTextNode(L);return Me(We)},Me=L=>{if(L==null)throw new Error("Node cannot be null or undefined");return{dom:L}},xe={fromHtml:qe,fromTag:it,fromText:Se,fromDom:Me,fromPoint:(L,Y,fe)=>q.from(L.dom.elementFromPoint(Y,fe)).map(Me)},Re=(L,Y)=>{const fe=L.dom;if(fe.nodeType!==nn)return!1;{const We=fe;if(We.matches!==void 0)return We.matches(Y);if(We.msMatchesSelector!==void 0)return We.msMatchesSelector(Y);if(We.webkitMatchesSelector!==void 0)return We.webkitMatchesSelector(Y);if(We.mozMatchesSelector!==void 0)return We.mozMatchesSelector(Y);throw new Error("Browser lacks native selectors")}},Fe=(L,Y)=>L.dom===Y.dom,Je=(L,Y)=>{const fe=L.dom,We=Y.dom;return fe===We?!1:fe.contains(We)},wt=Re,pn=typeof window<"u"?window:Function("return this;")(),Qt=(L,Y)=>{let fe=Y??pn;for(let We=0;We<L.length&&fe!==void 0&&fe!==null;++We)fe=fe[L[We]];return fe},An=(L,Y)=>{const fe=L.split(".");return Qt(fe,Y)},no=(L,Y)=>An(L,Y),co=(L,Y)=>{const fe=no(L,Y);if(fe==null)throw new Error(L+" not available on this browser");return fe},Jo=Object.getPrototypeOf,Ho=L=>co("HTMLElement",L),sr=L=>{const Y=An("ownerDocument.defaultView",L);return x(L)&&(Ho(Y).prototype.isPrototypeOf(L)||/^HTML\w*Element$/.test(Jo(L).constructor.name))},Cs=L=>L.dom.nodeName.toLowerCase(),ri=L=>L.dom.nodeType,xs=L=>Y=>ri(Y)===L,aa=L=>ri(L)===te||Cs(L)==="#comment",cn=L=>uo(L)&&sr(L.dom),uo=xs(nn),$o=xs(yn),mi=xs(vo),ul=L=>Y=>uo(Y)&&Cs(Y)===L,tn=L=>q.from(L.dom.parentNode).map(xe.fromDom),ki=L=>q.from(L.dom.parentElement).map(xe.fromDom),Go=L=>q.from(L.dom.nextSibling).map(xe.fromDom),Wl=L=>Ce(L.dom.childNodes,xe.fromDom),js=(L,Y)=>{const fe=L.dom.childNodes;return q.from(fe[Y]).map(xe.fromDom)},ii=L=>js(L,0),Oc=L=>js(L,L.dom.childNodes.length-1),Rc=L=>mi(L)&&O(L.dom.host),Ic=L=>xe.fromDom(L.dom.getRootNode()),kl=L=>{const Y=Ic(L);return Rc(Y)?q.some(Y):q.none()},Dc=L=>xe.fromDom(L.dom.host),Zs=L=>{const Y=$o(L)?L.dom.parentNode:L.dom;if(Y==null||Y.ownerDocument===null)return!1;const fe=Y.ownerDocument;return kl(xe.fromDom(Y)).fold(()=>fe.body.contains(Y),Z(Zs,Dc))};var So=(L,Y,fe,We,tt)=>L(fe,We)?q.some(fe):M(tt)&&tt(fe)?q.none():Y(fe,We,tt);const dl=(L,Y,fe)=>{let We=L.dom;const tt=M(fe)?fe:de;for(;We.parentNode;){We=We.parentNode;const Ut=xe.fromDom(We);if(Y(Ut))return q.some(Ut);if(tt(Ut))break}return q.none()},Ui=(L,Y,fe)=>So((tt,Ut)=>Ut(tt),dl,L,Y,fe),Du=(L,Y,fe)=>dl(L,We=>Re(We,Y),fe),Sn=(L,Y,fe)=>So((tt,Ut)=>Re(tt,Ut),Du,L,Y,fe),sc=L=>Sn(L,"[contenteditable]"),Kf=(L,Y=!1)=>Zs(L)?L.dom.isContentEditable:sc(L).fold(Q(Y),fe=>Tr(fe)==="true"),Tr=L=>L.dom.contentEditable,jf=(L,Y)=>{tn(L).each(We=>{We.dom.insertBefore(Y.dom,L.dom)})},fl=(L,Y)=>{Go(L).fold(()=>{tn(L).each(tt=>{El(tt,Y)})},We=>{jf(We,Y)})},Kl=(L,Y)=>{ii(L).fold(()=>{El(L,Y)},We=>{L.dom.insertBefore(Y.dom,We.dom)})},El=(L,Y)=>{L.dom.appendChild(Y.dom)},dr=(L,Y)=>{Te(Y,fe=>{jf(L,fe)})},la=(L,Y)=>{Te(Y,fe=>{El(L,fe)})},ml=L=>{L.dom.textContent="",Te(Wl(L),Y=>{Zf(Y)})},Zf=L=>{const Y=L.dom;Y.parentNode!==null&&Y.parentNode.removeChild(Y)};var nu=tinymce.util.Tools.resolve("tinymce.dom.RangeUtils"),Tl=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker"),Zd=tinymce.util.Tools.resolve("tinymce.util.VK");const Pu=L=>Ce(L,xe.fromDom),cs=Object.keys,Kr=(L,Y)=>{const fe=cs(L);for(let We=0,tt=fe.length;We<tt;We++){const Ut=fe[We],lo=L[Ut];Y(lo,Ut)}},gi=L=>(Y,fe)=>{L[fe]=Y},Gf=(L,Y,fe,We)=>{Kr(L,(tt,Ut)=>{(Y(tt,Ut)?fe:We)(tt,Ut)})},gl=(L,Y)=>{const fe={};return Gf(L,Y,gi(fe),K),fe},ou=(L,Y,fe)=>{if(h(fe)||R(fe)||H(fe))L.setAttribute(Y,fe+"");else throw console.error("Invalid call to Attribute.set. Key ",Y,":: Value ",fe,":: Element ",L),new Error("Attribute value was not simple")},Pi=(L,Y)=>{const fe=L.dom;Kr(Y,(We,tt)=>{ou(fe,tt,We)})},Ta=L=>gt(L.dom.attributes,(Y,fe)=>(Y[fe.name]=fe.value,Y),{}),Aa=(L,Y)=>xe.fromDom(L.dom.cloneNode(Y)),Vs=L=>Aa(L,!0),wr=(L,Y)=>{const fe=xe.fromTag(Y),We=Ta(L);return Pi(fe,We),fe},Be=(L,Y)=>{const fe=wr(L,Y);fl(L,fe);const We=Wl(L);return la(fe,We),Zf(L),fe};var mt=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),Ze=tinymce.util.Tools.resolve("tinymce.util.Tools");const _t=L=>Y=>O(Y)&&Y.nodeName.toLowerCase()===L,Ct=L=>Y=>O(Y)&&L.test(Y.nodeName),lt=L=>O(L)&&L.nodeType===3,rn=L=>O(L)&&L.nodeType===1,bn=Ct(/^(OL|UL|DL)$/),Cn=Ct(/^(OL|UL)$/),Tn=_t("ol"),_n=Ct(/^(LI|DT|DD)$/),Po=Ct(/^(DT|DD)$/),xn=Ct(/^(TH|TD)$/),Ws=_t("br"),ns=L=>{var Y;return((Y=L.parentNode)===null||Y===void 0?void 0:Y.firstChild)===L},gs=(L,Y)=>O(Y)&&Y.nodeName in L.schema.getTextBlockElements(),jr=(L,Y)=>O(L)&&L.nodeName in Y,Uo=(L,Y)=>O(Y)&&Y.nodeName in L.schema.getVoidElements(),rc=(L,Y)=>Ws(Y)?L.isBlock(Y.nextSibling)&&!Ws(Y.previousSibling):!1,Oa=(L,Y,fe)=>{const We=L.isEmpty(Y);return fe&&L.select("span[data-mce-type=bookmark]",Y).length>0?!1:We},_o=(L,Y)=>L.isChildOf(Y,L.getRoot()),Al=L=>Y=>Y.options.get(L),Ol=L=>{const Y=L.options.register;Y("lists_indent_on_tab",{processor:"boolean",default:!0})},Or=Al("lists_indent_on_tab"),Gd=Al("forced_root_block"),Jr=Al("forced_root_block_attrs"),qf=(L,Y,fe={})=>{const We=L.dom,tt=L.schema.getBlockElements(),Ut=We.createFragment(),lo=Gd(L),Mo=Jr(L);let ko,jn,Is=!1;for(jn=We.create(lo,{...Mo,...fe.style?{style:fe.style}:{}}),jr(Y.firstChild,tt)||Ut.appendChild(jn);ko=Y.firstChild;){const ei=ko.nodeName;!Is&&(ei!=="SPAN"||ko.getAttribute("data-mce-type")!=="bookmark")&&(Is=!0),jr(ko,tt)?(Ut.appendChild(ko),jn=null):(jn||(jn=We.create(lo,Mo),Ut.appendChild(jn)),jn.appendChild(ko))}return!Is&&jn&&jn.appendChild(We.create("br",{"data-mce-bogus":"1"})),Ut},Rl=mt.DOM,zs=(L,Y,fe)=>{const We=jn=>{const Is=jn.parentNode;Is&&Ze.each(tt,ei=>{Is.insertBefore(ei,fe.parentNode)}),Rl.remove(jn)},tt=Rl.select('span[data-mce-type="bookmark"]',Y),Ut=qf(L,fe),lo=Rl.createRng();lo.setStartAfter(fe),lo.setEndAfter(Y);const Mo=lo.extractContents();for(let jn=Mo.firstChild;jn;jn=jn.firstChild)if(jn.nodeName==="LI"&&L.dom.isEmpty(jn)){Rl.remove(jn);break}L.dom.isEmpty(Mo)||Rl.insertAfter(Mo,Y),Rl.insertAfter(Ut,Y);const ko=fe.parentElement;ko&&Oa(L.dom,ko)&&We(ko),Rl.remove(fe),Oa(L.dom,Y)&&Rl.remove(Y)},fd=ul("dd"),$m=ul("dt"),Vm=(L,Y)=>{fd(Y)?Be(Y,"dt"):$m(Y)&&ki(Y).each(fe=>zs(L,fe.dom,Y.dom))},Rr=L=>{$m(L)&&Be(L,"dd")},hl=(L,Y,fe)=>{Y==="Indent"?Te(fe,Rr):Te(fe,We=>Vm(L,We))},Il=(L,Y)=>{if(lt(L))return{container:L,offset:Y};const fe=nu.getNode(L,Y);return lt(fe)?{container:fe,offset:Y>=L.childNodes.length?fe.data.length:0}:fe.previousSibling&&lt(fe.previousSibling)?{container:fe.previousSibling,offset:fe.previousSibling.data.length}:fe.nextSibling&&lt(fe.nextSibling)?{container:fe.nextSibling,offset:0}:{container:L,offset:Y}},rr=L=>{const Y=L.cloneRange(),fe=Il(L.startContainer,L.startOffset);Y.setStart(fe.container,fe.offset);const We=Il(L.endContainer,L.endOffset);return Y.setEnd(We.container,We.offset),Y},qd=["OL","UL","DL"],Dl=qd.join(","),ca=(L,Y)=>{const fe=Y||L.selection.getStart(!0);return L.dom.getParent(fe,Dl,md(L,fe))},zm=(L,Y)=>O(L)&&Y.length===1&&Y[0]===L,Wi=L=>I(L.querySelectorAll(Dl),bn),Wa=L=>{const Y=ca(L),fe=L.selection.getSelectedBlocks();return zm(Y,fe)?Wi(Y):I(fe,We=>bn(We)&&Y!==We)},ua=(L,Y)=>{const fe=Ze.map(Y,We=>{const tt=L.dom.getParent(We,"li,dd,dt",md(L,We));return tt||We});return Yn(fe)},pl=L=>{const Y=L.selection.getSelectedBlocks();return I(ua(L,Y),_n)},zg=L=>I(pl(L),Po),os=(L,Y)=>{const fe=L.dom.getParents(Y,"TD,TH");return fe.length>0?fe[0]:L.getBody()},su=(L,Y)=>!bn(Y)&&!_n(Y)&&ct(qd,fe=>L.isValidChild(Y.nodeName,fe)),md=(L,Y)=>{const fe=L.dom.getParents(Y,L.dom.isBlock),We=Ut=>Ut.nodeName.toLowerCase()!==Gd(L);return en(fe,Ut=>We(Ut)&&su(L.schema,Ut)).getOr(L.getBody())},Nu=L=>tn(L).exists(Y=>_n(Y.dom)&&ii(Y).exists(fe=>!bn(fe.dom))&&Oc(Y).exists(fe=>!bn(fe.dom))),np=(L,Y)=>{const fe=L.dom.getParents(Y,"ol,ul",md(L,Y));return bt(fe)},$v=L=>{const Y=np(L,L.selection.getStart()),fe=I(L.selection.getSelectedBlocks(),Cn);return Y.toArray().concat(fe)},jl=L=>{const Y=L.selection.getStart();return L.dom.getParents(Y,"ol,ul",md(L,Y))},op=L=>{const Y=$v(L),fe=jl(L);return en(fe,We=>Nu(xe.fromDom(We))).fold(()=>Vv(L,Y),We=>[We])},Vv=(L,Y)=>{const fe=Ce(Y,We=>np(L,We).getOr(We));return Yn(fe)},Hg=L=>/\btox\-/.test(L.className),yb=(L,Y)=>Ft(L,bn,xn).exists(fe=>fe.nodeName===Y&&!Hg(fe)),dn=(L,Y)=>Y!==null&&!L.dom.isEditable(Y),Yd=L=>{const Y=ca(L);return dn(L,Y)},Xd=(L,Y)=>{const fe=L.dom.getParent(Y,"ol,ul,dl");return dn(L,fe)},Ug=(L,Y)=>{const fe=L.selection.getNode();return Y({parents:L.dom.getParents(fe),element:fe}),L.on("NodeChange",Y),()=>L.off("NodeChange",Y)},da=(L,Y)=>{const We=document.createDocumentFragment();return Te(L,tt=>{We.appendChild(tt.dom)}),xe.fromDom(We)},Jd=(L,Y,fe)=>L.dispatch("ListMutation",{action:Y,element:fe}),zv=(L=>Y=>Y.replace(L,""))(/^\s+|\s+$/g),xb=L=>L.length>0,wb=L=>!xb(L),Z1=L=>L.style!==void 0&&M(L.style.getPropertyValue),Hv=(L,Y,fe)=>{if(!h(fe))throw console.error("Invalid call to CSS.set. Property ",Y,":: Value ",fe,":: Element ",L),new Error("CSS value must be a string: "+fe);Z1(L)&&L.style.setProperty(Y,fe)},G1=(L,Y,fe)=>{const We=L.dom;Hv(We,Y,fe)},Wg=L=>wt(L,"OL,UL"),ru=L=>wt(L,"LI"),gd=L=>ii(L).exists(Wg),iu=L=>Oc(L).exists(Wg),Ki=L=>"listAttributes"in L,Pl=L=>"isComment"in L,Qd=L=>"isFragment"in L,hs=L=>L.depth>0,Pc=L=>L.isSelected,Hm=L=>{const Y=Wl(L),fe=iu(L)?Y.slice(0,-1):Y;return Ce(fe,Vs)},Um=(L,Y,fe)=>tn(L).filter(uo).map(We=>({depth:Y,dirty:!1,isSelected:fe,content:Hm(L),itemAttributes:Ta(L),listAttributes:Ta(We),listType:Cs(We),isInPreviousLi:!1})),bl=(L,Y)=>{El(L.item,Y.list)},Qr=L=>{for(let Y=1;Y<L.length;Y++)bl(L[Y-1],L[Y])},Cr=(L,Y)=>{Jt(bt(L),Ve(Y),bl)},Ji=(L,Y)=>{const fe={list:xe.fromTag(Y,L),item:xe.fromTag("li",L)};return El(fe.list,fe.item),fe},fr=(L,Y,fe)=>{const We=[];for(let tt=0;tt<fe;tt++)We.push(Ji(L,Ki(Y)?Y.listType:Y.parentListType));return We},ef=(L,Y)=>{for(let fe=0;fe<L.length-1;fe++)G1(L[fe].item,"list-style-type","none");bt(L).each(fe=>{Ki(Y)&&(Pi(fe.list,Y.listAttributes),Pi(fe.item,Y.itemAttributes)),la(fe.item,Y.content)})},tf=(L,Y)=>{Cs(L.list)!==Y.listType&&(L.list=Be(L.list,Y.listType)),Pi(L.list,Y.listAttributes)},Ei=(L,Y,fe)=>{const We=xe.fromTag("li",L);return Pi(We,Y),la(We,fe),We},Ka=(L,Y)=>{El(L.list,Y),L.item=Y},Ra=(L,Y,fe)=>{const We=Y.slice(0,fe.depth);return bt(We).each(tt=>{if(Ki(fe)){const Ut=Ei(L,fe.itemAttributes,fe.content);Ka(tt,Ut),tf(tt,fe)}else if(Qd(fe))la(tt.item,fe.content);else{const Ut=xe.fromHtml(`<!--${fe.content}-->`);El(tt.list,Ut)}}),We},hi=(L,Y,fe)=>{const We=fr(L,fe,fe.depth-Y.length);return Qr(We),ef(We,fe),Cr(Y,We),Y.concat(We)},hd=(L,Y)=>{let fe=q.none();const We=gt(Y,(tt,Ut,lo)=>Pl(Ut)?lo===0?(fe=q.some(Ut),tt):Ra(L,tt,Ut):Ut.depth>tt.length?hi(L,tt,Ut):Ra(L,tt,Ut),[]);return fe.each(tt=>{const Ut=xe.fromHtml(`<!--${tt.content}-->`);Ve(We).each(lo=>{Kl(lo.list,Ut)})}),Ve(We).map(tt=>tt.list)},qo=(L,Y)=>{switch(L){case"Indent":Y.depth++;break;case"Outdent":Y.depth--;break;case"Flatten":Y.depth=0}Y.dirty=!0},ai=(L,Y)=>{Ki(L)&&Ki(Y)&&(L.listType=Y.listType,L.listAttributes={...Y.listAttributes})},ja=L=>{L.listAttributes=gl(L.listAttributes,(Y,fe)=>fe!=="start")},au=(L,Y)=>{const fe=L[Y].depth,We=Ut=>Ut.depth===fe&&!Ut.dirty,tt=Ut=>Ut.depth<fe;return Ft(Ot(L.slice(0,Y)),We,tt).orThunk(()=>Ft(L.slice(Y+1),We,tt))},Ni=L=>(Te(L,(Y,fe)=>{au(L,fe).fold(()=>{Y.dirty&&Ki(Y)&&ja(Y)},We=>ai(Y,We))}),L),Wn=L=>{let Y=L;return{get:()=>Y,set:tt=>{Y=tt}}},Nc=(L,Y,fe,We)=>{var tt;if(aa(We))return[{depth:L+1,content:(tt=We.dom.nodeValue)!==null&&tt!==void 0?tt:"",dirty:!1,isSelected:!1,isComment:!0}];Y.each(Mo=>{Fe(Mo.start,We)&&fe.set(!0)});const Ut=Um(We,L,fe.get());Y.each(Mo=>{Fe(Mo.end,We)&&fe.set(!1)});const lo=Oc(We).filter(Wg).map(Mo=>Ss(L,Y,fe,Mo)).getOr([]);return Ut.toArray().concat(lo)},Mc=(L,Y,fe,We)=>ii(We).filter(Wg).fold(()=>Nc(L,Y,fe,We),tt=>{const Ut=gt(Wl(We),(lo,Mo,ko)=>{if(ko===0)return lo;if(ru(Mo))return lo.concat(Nc(L,Y,fe,Mo));{const jn={isFragment:!0,depth:L,content:[Mo],isSelected:!1,dirty:!1,parentListType:Cs(tt)};return lo.concat(jn)}},[]);return Ss(L,Y,fe,tt).concat(Ut)}),Ss=(L,Y,fe,We)=>Rn(Wl(We),tt=>{const Ut=Wg(tt)?Ss:Mc,lo=L+1;return Ut(lo,Y,fe,tt)}),Xf=(L,Y)=>{const fe=Wn(!1),We=0;return Ce(L,tt=>({sourceList:tt,entries:Ss(We,Y,fe,tt)}))},sp=(L,Y)=>{const fe=Ni(Y);return Ce(fe,We=>{const tt=Pl(We)?da([xe.fromHtml(`<!--${We.content}-->`)]):da(We.content),Ut=Ki(We)?We.itemAttributes:{};return xe.fromDom(qf(L,tt.dom,Ut))})},lu=(L,Y)=>{const fe=Ni(Y);return hd(L.contentDocument,fe).toArray()},ss=(L,Y)=>Rn(dt(Y,hs),fe=>Ve(fe).exists(hs)?lu(L,fe):sp(L,fe)),Ia=(L,Y)=>{Te(I(L,Pc),fe=>qo(Y,fe))},Wm=L=>{const Y=Ce(pl(L),xe.fromDom);return Jt(en(Y,ge(gd)),en(Ot(Y),ge(gd)),(fe,We)=>({start:fe,end:We}))},Mu=(L,Y,fe)=>{const We=Xf(Y,Wm(L));Te(We,tt=>{Ia(tt.entries,fe);const Ut=ss(L,tt.entries);Te(Ut,lo=>{Jd(L,fe==="Indent"?"IndentList":"OutdentList",lo.dom)}),dr(tt.sourceList,Ut),Zf(tt.sourceList)})},Kg=(L,Y)=>{const fe=Pu(op(L)),We=Pu(zg(L));let tt=!1;if(fe.length||We.length){const Ut=L.selection.getBookmark();Mu(L,fe,Y),hl(L,Y,We),L.selection.moveToBookmark(Ut),L.selection.setRng(rr(L.selection.getRng())),L.nodeChanged(),tt=!0}return tt},Lc=(L,Y)=>!Yd(L)&&Kg(L,Y),Za=L=>Lc(L,"Indent"),cu=L=>Lc(L,"Outdent"),nf=L=>Lc(L,"Flatten"),Ye="\uFEFF",Jf=L=>L===Ye,qs=(L,Y,fe)=>dl(L,Y,fe).isSome(),rp=(L,Y)=>qs(L,U(Fe,Y));var Km=tinymce.util.Tools.resolve("tinymce.dom.BookmarkManager");const wc=mt.DOM,us=L=>{const Y={},fe=We=>{let tt=L[We?"startContainer":"endContainer"],Ut=L[We?"startOffset":"endOffset"];if(rn(tt)){const lo=wc.create("span",{"data-mce-type":"bookmark"});tt.hasChildNodes()?(Ut=Math.min(Ut,tt.childNodes.length-1),We?tt.insertBefore(lo,tt.childNodes[Ut]):wc.insertAfter(lo,tt.childNodes[Ut])):tt.appendChild(lo),tt=lo,Ut=0}Y[We?"startContainer":"endContainer"]=tt,Y[We?"startOffset":"endOffset"]=Ut};return fe(!0),L.collapsed||fe(),Y},fa=L=>{const Y=We=>{const tt=Mo=>{var ko;let jn=(ko=Mo.parentNode)===null||ko===void 0?void 0:ko.firstChild,Is=0;for(;jn;){if(jn===Mo)return Is;(!rn(jn)||jn.getAttribute("data-mce-type")!=="bookmark")&&Is++,jn=jn.nextSibling}return-1};let Ut=L[We?"startContainer":"endContainer"],lo=L[We?"startOffset":"endOffset"];if(Ut){if(rn(Ut)&&Ut.parentNode){const Mo=Ut;lo=tt(Ut),Ut=Ut.parentNode,wc.remove(Mo),!Ut.hasChildNodes()&&wc.isBlock(Ut)&&Ut.appendChild(wc.create("br"))}L[We?"startContainer":"endContainer"]=Ut,L[We?"startOffset":"endOffset"]=lo}};Y(!0),Y();const fe=wc.createRng();return fe.setStart(L.startContainer,L.startOffset),L.endContainer&&fe.setEnd(L.endContainer,L.endOffset),rr(fe)},ic=L=>{switch(L){case"UL":return"ToggleUlList";case"OL":return"ToggleOlList";case"DL":return"ToggleDLList"}},Cc=(L,Y,fe)=>{const We=fe["list-style-type"]?fe["list-style-type"]:null;L.setStyle(Y,"list-style-type",We)},uu=(L,Y)=>{Ze.each(Y,(fe,We)=>{L.setAttribute(We,fe)})},Lu=(L,Y,fe)=>{uu(Y,fe["list-attributes"]),Ze.each(L.select("li",Y),We=>{uu(We,fe["list-item-attributes"])})},Qi=(L,Y,fe)=>{Cc(L,Y,fe),Lu(L,Y,fe)},of=(L,Y,fe)=>{Ze.each(fe,We=>L.setStyle(Y,We,""))},jm=(L,Y)=>O(Y)&&!jr(Y,L.schema.getBlockElements()),jg=(L,Y,fe,We)=>{let tt=Y[fe?"startContainer":"endContainer"];const Ut=Y[fe?"startOffset":"endOffset"];rn(tt)&&(tt=tt.childNodes[Math.min(Ut,tt.childNodes.length-1)]||tt),!fe&&Ws(tt.nextSibling)&&(tt=tt.nextSibling);const lo=ko=>{for(;!L.dom.isBlock(ko)&&ko.parentNode&&We!==ko;)ko=ko.parentNode;return ko},Mo=(ko,jn)=>{var Is;const ei=new Tl(ko,lo(ko)),Pr=jn?"next":"prev";let zc;for(;zc=ei[Pr]();)if(!(Uo(L,zc)||Jf(zc.textContent)||((Is=zc.textContent)===null||Is===void 0?void 0:Is.length)===0))return q.some(zc);return q.none()};if(fe&&lt(tt))if(Jf(tt.textContent))tt=Mo(tt,!1).getOr(tt);else for(tt.parentNode!==null&&jm(L,tt.parentNode)&&(tt=tt.parentNode);tt.previousSibling!==null&&(jm(L,tt.previousSibling)||lt(tt.previousSibling));)tt=tt.previousSibling;if(!fe&&lt(tt))if(Jf(tt.textContent))tt=Mo(tt,!0).getOr(tt);else for(tt.parentNode!==null&&jm(L,tt.parentNode)&&(tt=tt.parentNode);tt.nextSibling!==null&&(jm(L,tt.nextSibling)||lt(tt.nextSibling));)tt=tt.nextSibling;for(;tt.parentNode!==We;){const ko=tt.parentNode;if(gs(L,tt)||/^(TD|TH)$/.test(ko.nodeName))return tt;tt=ko}return tt},Mi=(L,Y,fe)=>{const We=[],tt=L.dom,Ut=jg(L,Y,!0,fe),lo=jg(L,Y,!1,fe);let Mo;const ko=[];for(let jn=Ut;jn&&(ko.push(jn),jn!==lo);jn=jn.nextSibling);return Ze.each(ko,jn=>{var Is;if(gs(L,jn)){We.push(jn),Mo=null;return}if(tt.isBlock(jn)||Ws(jn)){Ws(jn)&&tt.remove(jn),Mo=null;return}const ei=jn.nextSibling;if(Km.isBookmarkNode(jn)&&(bn(ei)||gs(L,ei)||!ei&&jn.parentNode===fe)){Mo=null;return}Mo||(Mo=tt.create("p"),(Is=jn.parentNode)===null||Is===void 0||Is.insertBefore(Mo,jn),We.push(Mo)),Mo.appendChild(jn)}),We},oo=(L,Y,fe)=>{const We=L.getStyle(Y,"list-style-type");let tt=fe?fe["list-style-type"]:"";return tt=tt===null?"":tt,We===tt},Bu=(L,Y)=>{const fe=L.selection.getStart(!0),We=jg(L,Y,!0,L.getBody());return rp(xe.fromDom(We),xe.fromDom(Y.commonAncestorContainer))?Y.commonAncestorContainer:fe},Qf=(L,Y,fe)=>{const We=L.selection.getRng();let tt="LI";const Ut=md(L,Bu(L,We)),lo=L.dom;if(lo.getContentEditable(L.selection.getNode())==="false")return;Y=Y.toUpperCase(),Y==="DL"&&(tt="DT");const Mo=us(We),ko=I(Mi(L,We,Ut),L.dom.isEditable);Ze.each(ko,jn=>{let Is;const ei=jn.previousSibling,Pr=jn.parentNode;_n(Pr)||(ei&&bn(ei)&&ei.nodeName===Y&&oo(lo,ei,fe)?(Is=ei,jn=lo.rename(jn,tt),ei.appendChild(jn)):(Is=lo.create(Y),Pr.insertBefore(Is,jn),Is.appendChild(jn),jn=lo.rename(jn,tt)),of(lo,jn,["margin","margin-right","margin-bottom","margin-left","margin-top","padding","padding-right","padding-bottom","padding-left","padding-top"]),Qi(lo,Is,fe),pd(L.dom,Is))}),L.selection.setRng(fa(Mo))},ma=(L,Y)=>bn(L)&&L.nodeName===(Y==null?void 0:Y.nodeName),Fu=(L,Y,fe)=>{const We=L.getStyle(Y,"list-style-type",!0),tt=L.getStyle(fe,"list-style-type",!0);return We===tt},Zl=(L,Y)=>L.className===Y.className,$u=(L,Y,fe)=>ma(Y,fe)&&Fu(L,Y,fe)&&Zl(Y,fe),pd=(L,Y)=>{let fe,We=Y.nextSibling;if($u(L,Y,We)){const tt=We;for(;fe=tt.firstChild;)Y.appendChild(fe);L.remove(tt)}if(We=Y.previousSibling,$u(L,Y,We)){const tt=We;for(;fe=tt.lastChild;)Y.insertBefore(fe,Y.firstChild);L.remove(tt)}},Li=(L,Y,fe,We)=>{if(Y.nodeName!==fe){const tt=L.dom.rename(Y,fe);Qi(L.dom,tt,We),Jd(L,ic(fe),tt)}else Qi(L.dom,Y,We),Jd(L,ic(fe),Y)},Sc=(L,Y,fe,We)=>{if(Y.classList.forEach((tt,Ut,lo)=>{tt.startsWith("tox-")&&(lo.remove(tt),lo.length===0&&Y.removeAttribute("class"))}),Y.nodeName!==fe){const tt=L.dom.rename(Y,fe);Qi(L.dom,tt,We),Jd(L,ic(fe),tt)}else Qi(L.dom,Y,We),Jd(L,ic(fe),Y)},du=(L,Y,fe,We,tt)=>{const Ut=bn(Y);if(Ut&&Y.nodeName===We&&!em(tt)&&!Hg(Y))nf(L);else{Qf(L,We,tt);const lo=us(L.selection.getRng()),Mo=Ut?[Y,...fe]:fe,ko=Ut&&Hg(Y)?Sc:Li;Ze.each(Mo,jn=>{ko(L,jn,We,tt)}),L.selection.setRng(fa(lo))}},em=L=>"list-style-type"in L,Cb=(L,Y,fe,We)=>{if(Y!==L.getBody())if(Y)if(Y.nodeName===fe&&!em(We)&&!Hg(Y))nf(L);else{const tt=us(L.selection.getRng());Hg(Y)&&Y.classList.forEach((lo,Mo,ko)=>{lo.startsWith("tox-")&&(ko.remove(lo),ko.length===0&&Y.removeAttribute("class"))}),Qi(L.dom,Y,We);const Ut=L.dom.rename(Y,fe);pd(L.dom,Ut),L.selection.setRng(fa(tt)),Qf(L,fe,We),Jd(L,ic(fe),Ut)}else Qf(L,fe,We),Jd(L,ic(fe),Y)},Vu=(L,Y,fe)=>{const We=ca(L);if(Xd(L,We))return;const tt=Wa(L),Ut=x(fe)?fe:{};tt.length>0?du(L,We,tt,Y,Ut):Cb(L,We,Y,Ut)},sf=mt.DOM,Zm=(L,Y)=>{const fe=Y.parentElement;if(fe&&fe.nodeName==="LI"&&fe.firstChild===Y){const We=fe.previousSibling;We&&We.nodeName==="LI"?(We.appendChild(Y),Oa(L,fe)&&sf.remove(fe)):sf.setStyle(fe,"listStyleType","none")}if(bn(fe)){const We=fe.previousSibling;We&&We.nodeName==="LI"&&We.appendChild(Y)}},Ir=(L,Y)=>{const fe=Ze.grep(L.select("ol,ul",Y));Ze.each(fe,We=>{Zm(L,We)})},Da=(L,Y,fe,We)=>{let tt=Y.startContainer;const Ut=Y.startOffset;if(lt(tt)&&(fe?Ut<tt.data.length:Ut>0))return tt;const lo=L.schema.getNonEmptyElements();rn(tt)&&(tt=nu.getNode(tt,Ut));const Mo=new Tl(tt,We);fe&&rc(L.dom,tt)&&Mo.next();const ko=fe?Mo.next.bind(Mo):Mo.prev2.bind(Mo);for(;tt=ko();)if(tt.nodeName==="LI"&&!tt.hasChildNodes()||lo[tt.nodeName]||lt(tt)&&tt.data.length>0)return tt;return null},Pa=(L,Y)=>{const fe=Y.childNodes;return fe.length===1&&!bn(fe[0])&&L.isBlock(fe[0])},Ga=L=>q.from(L).map(xe.fromDom).filter(cn).exists(Y=>Kf(Y)&&!Qe(["details"],Cs(Y))),Ti=(L,Y)=>{Pa(L,Y)&&Ga(Y.firstChild)&&L.remove(Y.firstChild,!0)},tm=(L,Y,fe)=>{let We;const tt=Pa(L,fe)?fe.firstChild:fe;if(Ti(L,Y),!Oa(L,Y,!0))for(;We=Y.firstChild;)tt.appendChild(We)},pi=(L,Y,fe)=>{let We;const tt=Y.parentNode;if(!_o(L,Y)||!_o(L,fe))return;bn(fe.lastChild)&&(We=fe.lastChild),tt===fe.lastChild&&Ws(tt.previousSibling)&&L.remove(tt.previousSibling);const Ut=fe.lastChild;Ut&&Ws(Ut)&&Y.hasChildNodes()&&L.remove(Ut),Oa(L,fe,!0)&&ml(xe.fromDom(fe)),tm(L,Y,fe),We&&fe.appendChild(We);const Mo=Je(xe.fromDom(fe),xe.fromDom(Y))?L.getParents(Y,bn,fe):[];L.remove(Y),Te(Mo,ko=>{Oa(L,ko)&&ko!==L.getRoot()&&L.remove(ko)})},ji=(L,Y,fe)=>{ml(xe.fromDom(fe)),pi(L.dom,Y,fe),L.selection.setCursorLocation(fe,0)},Bc=(L,Y,fe,We)=>{const tt=L.dom;if(tt.isEmpty(We))ji(L,fe,We);else{const Ut=us(Y);pi(tt,fe,We),L.selection.setRng(fa(Ut))}},Ht=(L,Y,fe,We)=>{const tt=us(Y);pi(L.dom,fe,We);const Ut=fa(tt);L.selection.setRng(Ut)},Bi=(L,Y)=>{const fe=L.dom,We=L.selection,tt=We.getStart(),Ut=os(L,tt),lo=fe.getParent(We.getStart(),"LI",Ut);if(lo){const Mo=lo.parentElement;if(Mo===L.getBody()&&Oa(fe,Mo))return!0;const ko=rr(We.getRng()),jn=fe.getParent(Da(L,ko,Y,Ut),"LI",Ut),Is=jn&&(Y?fe.isChildOf(lo,jn):fe.isChildOf(jn,lo));if(jn&&jn!==lo&&!Is)return L.undoManager.transact(()=>{Y?Bc(L,ko,jn,lo):ns(lo)?cu(L):Ht(L,ko,lo,jn)}),!0;if(Is&&!Y&&jn!==lo)return L.undoManager.transact(()=>{if(ko.commonAncestorContainer.parentElement){const ei=us(ko),Pr=ko.commonAncestorContainer.parentElement;tm(fe,ko.commonAncestorContainer.parentElement,jn),Pr.remove();const zc=fa(ei);L.selection.setRng(zc)}}),!0;if(!jn&&!Y&&ko.startOffset===0&&ko.endOffset===0)return L.undoManager.transact(()=>{nf(L)}),!0}return!1},Zg=(L,Y,fe)=>{const We=L.getParent(Y.parentNode,L.isBlock,fe);L.remove(Y),We&&L.isEmpty(We)&&L.remove(We)},Sr=(L,Y)=>{const fe=L.dom,We=L.selection.getStart(),tt=os(L,We),Ut=fe.getParent(We,fe.isBlock,tt);if(Ut&&fe.isEmpty(Ut,void 0,{checkRootAsContent:!0})){const lo=rr(L.selection.getRng()),Mo=fe.getParent(Da(L,lo,Y,tt),"LI",tt);if(Mo){const ko=Pr=>Qe(["td","th","caption"],Cs(Pr)),jn=Pr=>Pr.dom===tt,Is=Ui(xe.fromDom(Mo),ko,jn),ei=Ui(xe.fromDom(lo.startContainer),ko,jn);return Bn(Is,ei,Fe)?(L.undoManager.transact(()=>{const Pr=Mo.parentNode;Zg(fe,Ut,tt),pd(fe,Pr),L.selection.select(Mo,!0),L.selection.collapse(Y)}),!0):!1}}return!1},zu=(L,Y)=>Bi(L,Y)||Sr(L,Y),qa=L=>{const Y=L.selection.getStart(),fe=os(L,Y);return L.dom.getParent(Y,"LI,DT,DD",fe)||pl(L).length>0},Fc=L=>qa(L)?(L.undoManager.transact(()=>{L.execCommand("Delete"),Ir(L.dom,L.getBody())}),!0):!1,nm=(L,Y)=>{const fe=L.selection;return!Xd(L,fe.getNode())&&(fe.isCollapsed()?zu(L,Y):Fc(L))},Ya=L=>{L.on("ExecCommand",Y=>{const fe=Y.command.toLowerCase();(fe==="delete"||fe==="forwarddelete")&&qa(L)&&Ir(L.dom,L.getBody())}),L.on("keydown",Y=>{Y.keyCode===Zd.BACKSPACE?nm(L,!1)&&Y.preventDefault():Y.keyCode===Zd.DELETE&&nm(L,!0)&&Y.preventDefault()})},ds=L=>({backspaceDelete:Y=>{nm(L,Y)}}),$r=(L,Y)=>{const fe=ca(L);fe===null||Xd(L,fe)||L.undoManager.transact(()=>{x(Y.styles)&&L.dom.setStyles(fe,Y.styles),x(Y.attrs)&&Kr(Y.attrs,(We,tt)=>L.dom.setAttrib(fe,tt,We))})},Hu=L=>{const Y=Ot(zv(L).split("")),fe=Ce(Y,(We,tt)=>{const Ut=We.toUpperCase().charCodeAt(0)-65+1;return Math.pow(26,tt)*Ut});return gt(fe,(We,tt)=>We+tt,0)},Zr=L=>{if(L--,L<0)return"";{const Y=L%26,fe=Math.floor(L/26),We=Zr(fe),tt=String.fromCharCode(65+Y);return We+tt}},Gm=L=>/^[A-Z]+$/.test(L),$c=L=>/^[a-z]+$/.test(L),ip=L=>/^[0-9]+$/.test(L),Dr=L=>ip(L)?2:Gm(L)?0:$c(L)?1:wb(L)?3:4,vt=L=>{switch(Dr(L)){case 2:return q.some({listStyleType:q.none(),start:L});case 0:return q.some({listStyleType:q.some("upper-alpha"),start:Hu(L).toString()});case 1:return q.some({listStyleType:q.some("lower-alpha"),start:Hu(L).toString()});case 3:return q.some({listStyleType:q.none(),start:""});case 4:return q.none()}},Xa=L=>{const Y=parseInt(L.start,10);return Yt(L.listStyleType,"upper-alpha")?Zr(Y):Yt(L.listStyleType,"lower-alpha")?Zr(Y).toLowerCase():L.start},Vr=L=>{const Y=ca(L);!Tn(Y)||Xd(L,Y)||L.windowManager.open({title:"List Properties",body:{type:"panel",items:[{type:"input",name:"start",label:"Start list at number",inputMode:"numeric"}]},initialData:{start:Xa({start:L.dom.getAttrib(Y,"start","1"),listStyleType:q.from(L.dom.getStyle(Y,"list-style-type"))})},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],onSubmit:fe=>{const We=fe.getData();vt(We.start).each(tt=>{L.execCommand("mceListUpdate",!1,{attrs:{start:tt.start==="1"?"":tt.start},styles:{"list-style-type":tt.listStyleType.getOr("")}})}),fe.close()}})},ac=(L,Y)=>()=>{const fe=ca(L);return O(fe)&&fe.nodeName===Y},Vc=L=>{L.addCommand("mceListProps",()=>{Vr(L)})},li=L=>{L.on("BeforeExecCommand",Y=>{const fe=Y.command.toLowerCase();fe==="indent"?Za(L):fe==="outdent"&&cu(L)}),L.addCommand("InsertUnorderedList",(Y,fe)=>{Vu(L,"UL",fe)}),L.addCommand("InsertOrderedList",(Y,fe)=>{Vu(L,"OL",fe)}),L.addCommand("InsertDefinitionList",(Y,fe)=>{Vu(L,"DL",fe)}),L.addCommand("RemoveList",()=>{nf(L)}),Vc(L),L.addCommand("mceListUpdate",(Y,fe)=>{x(fe)&&$r(L,fe)}),L.addQueryStateHandler("InsertUnorderedList",ac(L,"UL")),L.addQueryStateHandler("InsertOrderedList",ac(L,"OL")),L.addQueryStateHandler("InsertDefinitionList",ac(L,"DL"))};var ir=tinymce.util.Tools.resolve("tinymce.html.Node");const Hs=L=>L.type===3,ga=L=>L.length===0,ha=L=>{const Y=(tt,Ut)=>{const lo=ir.create("li");Te(tt,Mo=>lo.append(Mo)),Ut?L.insert(lo,Ut,!0):L.append(lo)},fe=(tt,Ut)=>Hs(Ut)?[...tt,Ut]:!ga(tt)&&!Hs(Ut)?(Y(tt,Ut),[]):tt,We=gt(L.children(),fe,[]);ga(We)||Y(We)},Nl=L=>{L.on("PreInit",()=>{const{parser:Y}=L;Y.addNodeFilter("ul,ol",fe=>Te(fe,ha))})},_c=L=>{L.on("keydown",Y=>{Y.keyCode!==Zd.TAB||Zd.metaKeyPressed(Y)||L.undoManager.transact(()=>{(Y.shiftKey?cu(L):Za(L))&&Y.preventDefault()})})},fu=L=>{Or(L)&&_c(L),Ya(L)},bd=(L,Y)=>fe=>{const We=tt=>{fe.setActive(yb(tt.parents,Y)),fe.setEnabled(!Xd(L,tt.element)&&L.selection.isEditable())};return fe.setEnabled(L.selection.isEditable()),Ug(L,We)},om=L=>{const Y=fe=>()=>L.execCommand(fe);L.hasPlugin("advlist")||(L.ui.registry.addToggleButton("numlist",{icon:"ordered-list",active:!1,tooltip:"Numbered list",onAction:Y("InsertOrderedList"),onSetup:bd(L,"OL")}),L.ui.registry.addToggleButton("bullist",{icon:"unordered-list",active:!1,tooltip:"Bullet list",onAction:Y("InsertUnorderedList"),onSetup:bd(L,"UL")}))},Gg=(L,Y)=>fe=>Ug(L,tt=>fe.setEnabled(yb(tt.parents,Y)&&!Xd(L,tt.element))),ap=L=>{const Y={text:"List properties...",icon:"ordered-list",onAction:()=>L.execCommand("mceListProps"),onSetup:Gg(L,"OL")};L.ui.registry.addMenuItem("listprops",Y),L.ui.registry.addContextMenu("lists",{update:fe=>{const We=ca(L,fe);return Tn(We)?["listprops"]:[]}})};var Uu=()=>{t.add("lists",L=>(Ol(L),Nl(L),L.hasPlugin("rtc",!0)?Vc(L):(fu(L),li(L)),om(L),ap(L),ds(L)))};Uu()}()),SX}var kX;function rSe(){return kX||(kX=1,sSe()),CX}rSe();var EX={},TX={},AX;function iSe(){return AX||(AX=1,function(){var t=tinymce.util.Tools.resolve("tinymce.PluginManager");const r=(Se,Me)=>Se.dispatch("insertCustomChar",{chr:Me}),i=(Se,Me)=>{const Ke=r(Se,Me).chr;Se.execCommand("mceInsertContent",!1,Ke)},u=(Se,Me,Ke)=>{var xe;return Ke(Se,Me.prototype)?!0:((xe=Se.constructor)===null||xe===void 0?void 0:xe.name)===Me.name},g=Se=>{const Me=typeof Se;return Se===null?"null":Me==="object"&&Array.isArray(Se)?"array":Me==="object"&&u(Se,String,(Ke,xe)=>xe.isPrototypeOf(Ke))?"string":Me},h=Se=>Me=>g(Me)===Se,x=Se=>Me=>typeof Me===Se,w=Se=>Me=>Se===Me,R=h("array"),D=w(null),O=w(void 0),M=Se=>Se==null,H=Se=>!M(Se),K=x("function"),Q=(Se=>()=>Se)(!1);class re{constructor(Me,Ke){this.tag=Me,this.value=Ke}static some(Me){return new re(!0,Me)}static none(){return re.singletonNone}fold(Me,Ke){return this.tag?Ke(this.value):Me()}isSome(){return this.tag}isNone(){return!this.tag}map(Me){return this.tag?re.some(Me(this.value)):re.none()}bind(Me){return this.tag?Me(this.value):re.none()}exists(Me){return this.tag&&Me(this.value)}forall(Me){return!this.tag||Me(this.value)}filter(Me){return!this.tag||Me(this.value)?this:re.none()}getOr(Me){return this.tag?this.value:Me}or(Me){return this.tag?this:Me}getOrThunk(Me){return this.tag?this.value:Me()}orThunk(Me){return this.tag?this:Me()}getOrDie(Me){if(this.tag)return this.value;throw new Error(Me??"Called getOrDie on None")}static from(Me){return H(Me)?re.some(Me):re.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(Me){this.tag&&Me(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}re.singletonNone=new re(!1);const U=Array.prototype.push,ge=(Se,Me)=>{const Ke=Se.length,xe=new Array(Ke);for(let Re=0;Re<Ke;Re++){const Fe=Se[Re];xe[Re]=Me(Fe,Re)}return xe},de=(Se,Me)=>{for(let Ke=0,xe=Se.length;Ke<xe;Ke++){const Re=Se[Ke];Me(Re,Ke)}},q=(Se,Me,Ke)=>{for(let xe=0,Re=Se.length;xe<Re;xe++){const Fe=Se[xe];if(Me(Fe,xe))return re.some(Fe);if(Ke(Fe,xe))break}return re.none()},he=(Se,Me)=>q(Se,Me,Q),oe=Se=>{const Me=[];for(let Ke=0,xe=Se.length;Ke<xe;++Ke){if(!R(Se[Ke]))throw new Error("Arr.flatten item "+Ke+" was not an array, input: "+Se);U.apply(Me,Se[Ke])}return Me},_e=(Se,Me)=>oe(ge(Se,Me));var Ue=tinymce.util.Tools.resolve("tinymce.util.Tools");const Qe=Se=>Me=>Me.options.get(Se),ct=Se=>{const Me=Se.options.register,Ke=xe=>K(xe)||R(xe);Me("charmap",{processor:Ke}),Me("charmap_append",{processor:Ke})},Ce=Qe("charmap"),Te=Qe("charmap_append"),I=Ue.isArray,dt="User Defined",gt=()=>[{name:"Currency",characters:[[36,"dollar sign"],[162,"cent sign"],[8364,"euro sign"],[163,"pound sign"],[165,"yen sign"],[164,"currency sign"],[8352,"euro-currency sign"],[8353,"colon sign"],[8354,"cruzeiro sign"],[8355,"french franc sign"],[8356,"lira sign"],[8357,"mill sign"],[8358,"naira sign"],[8359,"peseta sign"],[8360,"rupee sign"],[8361,"won sign"],[8362,"new sheqel sign"],[8363,"dong sign"],[8365,"kip sign"],[8366,"tugrik sign"],[8367,"drachma sign"],[8368,"german penny symbol"],[8369,"peso sign"],[8370,"guarani sign"],[8371,"austral sign"],[8372,"hryvnia sign"],[8373,"cedi sign"],[8374,"livre tournois sign"],[8375,"spesmilo sign"],[8376,"tenge sign"],[8377,"indian rupee sign"],[8378,"turkish lira sign"],[8379,"nordic mark sign"],[8380,"manat sign"],[8381,"ruble sign"],[20870,"yen character"],[20803,"yuan character"],[22291,"yuan character, in hong kong and taiwan"],[22278,"yen/yuan character variant one"]]},{name:"Text",characters:[[169,"copyright sign"],[174,"registered sign"],[8482,"trade mark sign"],[8240,"per mille sign"],[181,"micro sign"],[183,"middle dot"],[8226,"bullet"],[8230,"three dot leader"],[8242,"minutes / feet"],[8243,"seconds / inches"],[167,"section sign"],[182,"paragraph sign"],[223,"sharp s / ess-zed"]]},{name:"Quotations",characters:[[8249,"single left-pointing angle quotation mark"],[8250,"single right-pointing angle quotation mark"],[171,"left pointing guillemet"],[187,"right pointing guillemet"],[8216,"left single quotation mark"],[8217,"right single quotation mark"],[8220,"left double quotation mark"],[8221,"right double quotation mark"],[8218,"single low-9 quotation mark"],[8222,"double low-9 quotation mark"],[60,"less-than sign"],[62,"greater-than sign"],[8804,"less-than or equal to"],[8805,"greater-than or equal to"],[8211,"en dash"],[8212,"em dash"],[175,"macron"],[8254,"overline"],[164,"currency sign"],[166,"broken bar"],[168,"diaeresis"],[161,"inverted exclamation mark"],[191,"turned question mark"],[710,"circumflex accent"],[732,"small tilde"],[176,"degree sign"],[8722,"minus sign"],[177,"plus-minus sign"],[247,"division sign"],[8260,"fraction slash"],[215,"multiplication sign"],[185,"superscript one"],[178,"superscript two"],[179,"superscript three"],[188,"fraction one quarter"],[189,"fraction one half"],[190,"fraction three quarters"]]},{name:"Mathematical",characters:[[402,"function / florin"],[8747,"integral"],[8721,"n-ary sumation"],[8734,"infinity"],[8730,"square root"],[8764,"similar to"],[8773,"approximately equal to"],[8776,"almost equal to"],[8800,"not equal to"],[8801,"identical to"],[8712,"element of"],[8713,"not an element of"],[8715,"contains as member"],[8719,"n-ary product"],[8743,"logical and"],[8744,"logical or"],[172,"not sign"],[8745,"intersection"],[8746,"union"],[8706,"partial differential"],[8704,"for all"],[8707,"there exists"],[8709,"diameter"],[8711,"backward difference"],[8727,"asterisk operator"],[8733,"proportional to"],[8736,"angle"]]},{name:"Extended Latin",characters:[[192,"A - grave"],[193,"A - acute"],[194,"A - circumflex"],[195,"A - tilde"],[196,"A - diaeresis"],[197,"A - ring above"],[256,"A - macron"],[198,"ligature AE"],[199,"C - cedilla"],[200,"E - grave"],[201,"E - acute"],[202,"E - circumflex"],[203,"E - diaeresis"],[274,"E - macron"],[204,"I - grave"],[205,"I - acute"],[206,"I - circumflex"],[207,"I - diaeresis"],[298,"I - macron"],[208,"ETH"],[209,"N - tilde"],[210,"O - grave"],[211,"O - acute"],[212,"O - circumflex"],[213,"O - tilde"],[214,"O - diaeresis"],[216,"O - slash"],[332,"O - macron"],[338,"ligature OE"],[352,"S - caron"],[217,"U - grave"],[218,"U - acute"],[219,"U - circumflex"],[220,"U - diaeresis"],[362,"U - macron"],[221,"Y - acute"],[376,"Y - diaeresis"],[562,"Y - macron"],[222,"THORN"],[224,"a - grave"],[225,"a - acute"],[226,"a - circumflex"],[227,"a - tilde"],[228,"a - diaeresis"],[229,"a - ring above"],[257,"a - macron"],[230,"ligature ae"],[231,"c - cedilla"],[232,"e - grave"],[233,"e - acute"],[234,"e - circumflex"],[235,"e - diaeresis"],[275,"e - macron"],[236,"i - grave"],[237,"i - acute"],[238,"i - circumflex"],[239,"i - diaeresis"],[299,"i - macron"],[240,"eth"],[241,"n - tilde"],[242,"o - grave"],[243,"o - acute"],[244,"o - circumflex"],[245,"o - tilde"],[246,"o - diaeresis"],[248,"o slash"],[333,"o macron"],[339,"ligature oe"],[353,"s - caron"],[249,"u - grave"],[250,"u - acute"],[251,"u - circumflex"],[252,"u - diaeresis"],[363,"u - macron"],[253,"y - acute"],[254,"thorn"],[255,"y - diaeresis"],[563,"y - macron"],[913,"Alpha"],[914,"Beta"],[915,"Gamma"],[916,"Delta"],[917,"Epsilon"],[918,"Zeta"],[919,"Eta"],[920,"Theta"],[921,"Iota"],[922,"Kappa"],[923,"Lambda"],[924,"Mu"],[925,"Nu"],[926,"Xi"],[927,"Omicron"],[928,"Pi"],[929,"Rho"],[931,"Sigma"],[932,"Tau"],[933,"Upsilon"],[934,"Phi"],[935,"Chi"],[936,"Psi"],[937,"Omega"],[945,"alpha"],[946,"beta"],[947,"gamma"],[948,"delta"],[949,"epsilon"],[950,"zeta"],[951,"eta"],[952,"theta"],[953,"iota"],[954,"kappa"],[955,"lambda"],[956,"mu"],[957,"nu"],[958,"xi"],[959,"omicron"],[960,"pi"],[961,"rho"],[962,"final sigma"],[963,"sigma"],[964,"tau"],[965,"upsilon"],[966,"phi"],[967,"chi"],[968,"psi"],[969,"omega"]]},{name:"Symbols",characters:[[8501,"alef symbol"],[982,"pi symbol"],[8476,"real part symbol"],[978,"upsilon - hook symbol"],[8472,"Weierstrass p"],[8465,"imaginary part"]]},{name:"Arrows",characters:[[8592,"leftwards arrow"],[8593,"upwards arrow"],[8594,"rightwards arrow"],[8595,"downwards arrow"],[8596,"left right arrow"],[8629,"carriage return"],[8656,"leftwards double arrow"],[8657,"upwards double arrow"],[8658,"rightwards double arrow"],[8659,"downwards double arrow"],[8660,"left right double arrow"],[8756,"therefore"],[8834,"subset of"],[8835,"superset of"],[8836,"not a subset of"],[8838,"subset of or equal to"],[8839,"superset of or equal to"],[8853,"circled plus"],[8855,"circled times"],[8869,"perpendicular"],[8901,"dot operator"],[8968,"left ceiling"],[8969,"right ceiling"],[8970,"left floor"],[8971,"right floor"],[9001,"left-pointing angle bracket"],[9002,"right-pointing angle bracket"],[9674,"lozenge"],[9824,"black spade suit"],[9827,"black club suit"],[9829,"black heart suit"],[9830,"black diamond suit"],[8194,"en space"],[8195,"em space"],[8201,"thin space"],[8204,"zero width non-joiner"],[8205,"zero width joiner"],[8206,"left-to-right mark"],[8207,"right-to-left mark"]]}],Ft=Se=>Ue.grep(Se,Me=>I(Me)&&Me.length===2),en=Se=>I(Se)?Ft(Se):typeof Se=="function"?Se():[],ft=(Se,Me)=>{const Ke=Ce(Se);Ke&&(Me=[{name:dt,characters:en(Ke)}]);const xe=Te(Se);if(xe){const Re=Ue.grep(Me,Fe=>Fe.name===dt);return Re.length?(Re[0].characters=[...Re[0].characters,...en(xe)],Me):Me.concat({name:dt,characters:en(xe)})}return Me},Rn=Se=>{const Me=ft(Se,gt());return Me.length>1?[{name:"All",characters:_e(Me,Ke=>Ke.characters)}].concat(Me):Me},Ot=Se=>({getCharMap:()=>Rn(Se),insertChar:xe=>{i(Se,xe)}}),rt=Se=>{let Me=Se;return{get:()=>Me,set:Re=>{Me=Re}}},Ve=(Se,Me)=>{let Ke=null;const xe=()=>{D(Ke)||(clearTimeout(Ke),Ke=null)};return{cancel:xe,throttle:(...Fe)=>{xe(),Ke=setTimeout(()=>{Ke=null,Se.apply(null,Fe)},Me)}}},bt=(Se,Me,Ke=0,xe)=>{const Re=Se.indexOf(Me,Ke);return Re!==-1?O(xe)?!0:Re+Me.length<=xe:!1},Yn=String.fromCodePoint,Yt=(Se,Me,Ke)=>bt(Yn(Se).toLowerCase(),Ke)?!0:bt(Me.toLowerCase(),Ke)||bt(Me.toLowerCase().replace(/\s+/g,""),Ke),Bn=(Se,Me)=>{const Ke=[],xe=Me.toLowerCase();return de(Se.characters,Re=>{Yt(Re[0],Re[1],xe)&&Ke.push(Re)}),ge(Ke,Re=>({text:Re[1],value:Yn(Re[0]),icon:Yn(Re[0])}))},Jt="pattern",te=(Se,Me)=>{const Ke=()=>[{label:"Search",type:"input",name:Jt},{type:"collection",name:"results"}],xe=()=>ge(Me,Ho=>({title:Ho.name,name:Ho.name,items:Ke()})),Re=()=>({type:"panel",items:Ke()}),Fe=()=>({type:"tabpanel",tabs:xe()}),Je=Me.length===1?rt(dt):rt("All"),wt=(Ho,sr)=>{he(Me,Cs=>Cs.name===Je.get()).each(Cs=>{const ri=Bn(Cs,sr);Ho.setData({results:ri})})},Qt=Ve(Ho=>{const sr=Ho.getData().pattern;wt(Ho,sr)},40),An=Me.length===1?Re():Fe(),no={pattern:"",results:Bn(Me[0],"")},co={title:"Special Character",size:"normal",body:An,buttons:[{type:"cancel",name:"close",text:"Close",primary:!0}],initialData:no,onAction:(Ho,sr)=>{sr.name==="results"&&(i(Se,sr.value),Ho.close())},onTabChange:(Ho,sr)=>{Je.set(sr.newTabName),Qt.throttle(Ho)},onChange:(Ho,sr)=>{sr.name===Jt&&Qt.throttle(Ho)}};Se.windowManager.open(co).focus(Jt)},vo=(Se,Me)=>{Se.addCommand("mceShowCharmap",()=>{te(Se,Me)})},nn=(Se,Me)=>{Se.ui.registry.addAutocompleter("charmap",{trigger:":",columns:"auto",minChars:2,fetch:(Ke,xe)=>new Promise((Re,Fe)=>{Re(Bn(Me,Ke))}),onAction:(Ke,xe,Re)=>{Se.selection.setRng(xe),Se.insertContent(Re),Ke.hide()}})},yn=Se=>Me=>{const Ke=()=>{Me.setEnabled(Se.selection.isEditable())};return Se.on("NodeChange",Ke),Ke(),()=>{Se.off("NodeChange",Ke)}},qe=Se=>{const Me=()=>Se.execCommand("mceShowCharmap");Se.ui.registry.addButton("charmap",{icon:"insert-character",tooltip:"Special character",onAction:Me,onSetup:yn(Se)}),Se.ui.registry.addMenuItem("charmap",{icon:"insert-character",text:"Special character...",onAction:Me,onSetup:yn(Se)})};var it=()=>{t.add("charmap",Se=>{ct(Se);const Me=Rn(Se);return vo(Se,Me),qe(Se),nn(Se,Me[0]),Ot(Se)})};it()}()),TX}var OX;function aSe(){return OX||(OX=1,iSe()),EX}aSe();var RX={},IX={},DX;function lSe(){return DX||(DX=1,function(){var t=tinymce.util.Tools.resolve("tinymce.PluginManager");const i=(Se=>Me=>Se===Me)(null),u=Se=>Se,g=(Se,Me)=>{const Ke=Se.length,xe=new Array(Ke);for(let Re=0;Re<Ke;Re++){const Fe=Se[Re];xe[Re]=Me(Fe,Re)}return xe},x={aletter:"[A-Za-z---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------]",midnumlet:"[-'\\.]",midletter:"[:]",midnum:"[+*/,;;]",numeric:"[0-9---------------------------------]",cr:"\\r",lf:"\\n",newline:"[\v\f\u2028\u2029]",extend:"[------------------------------------------------------------------------------------------------------]",format:"[----\uFEFF-]",katakana:"[-------]",extendnumlet:"[=_--<>]",punctuation:"[~|!-*+-\\/:;?@\\[-`{};----------------------------------------------]"},w={ALETTER:0,MIDNUMLET:1,MIDLETTER:2,MIDNUM:3,NUMERIC:4,CR:5,LF:6,NEWLINE:7,EXTEND:8,FORMAT:9,KATAKANA:10,EXTENDNUMLET:11,AT:12,OTHER:13},R=[new RegExp(x.aletter),new RegExp(x.midnumlet),new RegExp(x.midletter),new RegExp(x.midnum),new RegExp(x.numeric),new RegExp(x.cr),new RegExp(x.lf),new RegExp(x.newline),new RegExp(x.extend),new RegExp(x.format),new RegExp(x.katakana),new RegExp(x.extendnumlet),new RegExp("@")],D="",O=new RegExp("^"+x.punctuation+"$"),M=/^\s+$/,H=R,K=w.OTHER,Z=Se=>{let Me=K;const Ke=H.length;for(let xe=0;xe<Ke;++xe){const Re=H[xe];if(Re&&Re.test(Se)){Me=xe;break}}return Me},Q=Se=>{const Me={};return Ke=>{if(Me[Ke])return Me[Ke];{const xe=Se(Ke);return Me[Ke]=xe,xe}}},re=Se=>{const Me=Q(Z);return g(Se,Me)},U=(Se,Me)=>{const Ke=Se[Me],xe=Se[Me+1];if(Me<0||Me>Se.length-1&&Me!==0||Ke===w.ALETTER&&xe===w.ALETTER)return!1;const Re=Se[Me+2];if(Ke===w.ALETTER&&(xe===w.MIDLETTER||xe===w.MIDNUMLET||xe===w.AT)&&Re===w.ALETTER)return!1;const Fe=Se[Me-1];return(Ke===w.MIDLETTER||Ke===w.MIDNUMLET||xe===w.AT)&&xe===w.ALETTER&&Fe===w.ALETTER||(Ke===w.NUMERIC||Ke===w.ALETTER)&&(xe===w.NUMERIC||xe===w.ALETTER)||(Ke===w.MIDNUM||Ke===w.MIDNUMLET)&&xe===w.NUMERIC&&Fe===w.NUMERIC||Ke===w.NUMERIC&&(xe===w.MIDNUM||xe===w.MIDNUMLET)&&Re===w.NUMERIC||(Ke===w.EXTEND||Ke===w.FORMAT)&&(xe===w.ALETTER||xe===w.NUMERIC||xe===w.KATAKANA||xe===w.EXTEND||xe===w.FORMAT)||(xe===w.EXTEND||xe===w.FORMAT&&(Re===w.ALETTER||Re===w.NUMERIC||Re===w.KATAKANA||Re===w.EXTEND||Re===w.FORMAT))&&(Ke===w.ALETTER||Ke===w.NUMERIC||Ke===w.KATAKANA||Ke===w.EXTEND||Ke===w.FORMAT)||Ke===w.CR&&xe===w.LF?!1:Ke===w.NEWLINE||Ke===w.CR||Ke===w.LF||xe===w.NEWLINE||xe===w.CR||xe===w.LF?!0:!(Ke===w.KATAKANA&&xe===w.KATAKANA||xe===w.EXTENDNUMLET&&(Ke===w.ALETTER||Ke===w.NUMERIC||Ke===w.KATAKANA||Ke===w.EXTENDNUMLET)||Ke===w.EXTENDNUMLET&&(xe===w.ALETTER||xe===w.NUMERIC||xe===w.KATAKANA)||Ke===w.AT)},ge=D,de=M,q=O,he=Se=>Se==="http"||Se==="https",oe=(Se,Me)=>{let Ke;for(Ke=Me;Ke<Se.length&&!de.test(Se[Ke]);Ke++);return Ke},_e=(Se,Me)=>{const Ke=oe(Se,Me+1);return Se.slice(Me+1,Ke).join(ge).substr(0,3)==="://"?Ke:Me},Ue=(Se,Me,Ke,xe)=>{const Re=[],Fe=[];let Je=[];for(let wt=0;wt<Ke.length;++wt)if(Je.push(Se[wt]),U(Ke,wt)){const pn=Me[wt];if((xe.includeWhitespace||!de.test(pn))&&(xe.includePunctuation||!q.test(pn))){const Qt=wt-Je.length+1,An=wt+1,no=Me.slice(Qt,An).join(ge);if(he(no)){const co=_e(Me,wt),Jo=Se.slice(An,co);Array.prototype.push.apply(Je,Jo),wt=co}Me[wt+1]==="."&&/^([a-zA-Z]\.)+$/.test(no+".")?(Je.push(Se[wt+1]),Fe.push({start:Qt,end:An+1})):Fe.push({start:Qt,end:An}),Re.push(Je)}Je=[]}return{words:Re,indices:Fe}},Qe=()=>({includeWhitespace:!1,includePunctuation:!1}),ct=(Se,Me,Ke)=>{Ke={...Qe(),...Ke};const xe=g(Se,Me),Re=re(xe);return Ue(Se,xe,Re,Ke)},Te=(Se,Me,Ke)=>ct(Se,Me,Ke).words,I=Se=>Se.replace(/\uFEFF/g,"");var dt=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker");const gt=(Se,Me)=>{const Ke=Me.getBlockElements(),xe=Me.getVoidElements(),Re=Qt=>Ke[Qt.nodeName]||xe[Qt.nodeName],Fe=[];let Je="";const wt=new dt(Se,Se);let pn;for(;pn=wt.next();)pn.nodeType===3?Je+=I(pn.data):Re(pn)&&Je.length&&(Fe.push(Je),Je="");return Je.length&&Fe.push(Je),Fe},Ft=Se=>Se.replace(/\u200B/g,""),en=Se=>Se.replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"_").length,ft=(Se,Me)=>{const Ke=Ft(gt(Se,Me).join(`
`));return Te(Ke.split(""),u).length},Rn=(Se,Me)=>{const Ke=gt(Se,Me).join("");return en(Ke)},Ot=(Se,Me)=>{const Ke=gt(Se,Me).join("").replace(/\s/g,"");return en(Ke)},rt=(Se,Me)=>()=>Me(Se.getBody(),Se.schema),Ve=(Se,Me)=>()=>Me(Se.selection.getRng().cloneContents(),Se.schema),bt=Se=>rt(Se,ft),Yn=Se=>({body:{getWordCount:bt(Se),getCharacterCount:rt(Se,Rn),getCharacterCountWithoutSpaces:rt(Se,Ot)},selection:{getWordCount:Ve(Se,ft),getCharacterCount:Ve(Se,Rn),getCharacterCountWithoutSpaces:Ve(Se,Ot)},getCount:bt(Se)}),Yt=(Se,Me)=>{Se.windowManager.open({title:"Word Count",body:{type:"panel",items:[{type:"table",header:["Count","Document","Selection"],cells:[["Words",String(Me.body.getWordCount()),String(Me.selection.getWordCount())],["Characters (no spaces)",String(Me.body.getCharacterCountWithoutSpaces()),String(Me.selection.getCharacterCountWithoutSpaces())],["Characters",String(Me.body.getCharacterCount()),String(Me.selection.getCharacterCount())]]}]},buttons:[{type:"cancel",name:"close",text:"Close",primary:!0}]})},Bn=(Se,Me)=>{Se.addCommand("mceWordCount",()=>Yt(Se,Me))},Jt=(Se,Me)=>{let Ke=null;return{cancel:()=>{i(Ke)||(clearTimeout(Ke),Ke=null)},throttle:(...Fe)=>{i(Ke)&&(Ke=setTimeout(()=>{Ke=null,Se.apply(null,Fe)},Me))}}};var te=tinymce.util.Tools.resolve("tinymce.util.Delay");const vo=(Se,Me)=>{Se.dispatch("wordCountUpdate",{wordCount:{words:Me.body.getWordCount(),characters:Me.body.getCharacterCount(),charactersWithoutSpaces:Me.body.getCharacterCountWithoutSpaces()}})},nn=(Se,Me)=>{vo(Se,Me)},yn=(Se,Me,Ke)=>{const xe=Jt(()=>nn(Se,Me),Ke);Se.on("init",()=>{nn(Se,Me),te.setEditorTimeout(Se,()=>{Se.on("SetContent BeforeAddUndo Undo Redo ViewUpdate keyup",xe.throttle)},0),Se.on("remove",xe.cancel)})},qe=Se=>{const Me=()=>Se.execCommand("mceWordCount");Se.ui.registry.addButton("wordcount",{tooltip:"Word count",icon:"character-count",onAction:Me}),Se.ui.registry.addMenuItem("wordcount",{text:"Word count",icon:"character-count",onAction:Me})};var it=(Se=300)=>{t.add("wordcount",Me=>{const Ke=Yn(Me);return Bn(Me,Ke),qe(Me),yn(Me,Ke,Se),Ke})};it()}()),IX}var PX;function cSe(){return PX||(PX=1,lSe()),RX}cSe();var NX={},MX={},LX;function uSe(){return LX||(LX=1,function(){var t=tinymce.util.Tools.resolve("tinymce.PluginManager");const r=(P,z,ue)=>{var Ae;return ue(P,z.prototype)?!0:((Ae=P.constructor)===null||Ae===void 0?void 0:Ae.name)===z.name},i=P=>{const z=typeof P;return P===null?"null":z==="object"&&Array.isArray(P)?"array":z==="object"&&r(P,String,(ue,Ae)=>Ae.isPrototypeOf(ue))?"string":z},u=P=>z=>i(z)===P,g=P=>z=>typeof z===P,h=P=>z=>P===z,x=u("string"),w=u("array"),R=g("boolean"),D=h(void 0),O=P=>P==null,M=P=>!O(P),H=g("function"),K=g("number"),Z=()=>{},Q=(P,z)=>ue=>P(z(ue)),re=P=>()=>P,U=P=>P,ge=(P,z)=>P===z;function de(P,...z){return(...ue)=>{const Ae=z.concat(ue);return P.apply(null,Ae)}}const q=P=>{P()},he=re(!1),oe=re(!0);class _e{constructor(z,ue){this.tag=z,this.value=ue}static some(z){return new _e(!0,z)}static none(){return _e.singletonNone}fold(z,ue){return this.tag?ue(this.value):z()}isSome(){return this.tag}isNone(){return!this.tag}map(z){return this.tag?_e.some(z(this.value)):_e.none()}bind(z){return this.tag?z(this.value):_e.none()}exists(z){return this.tag&&z(this.value)}forall(z){return!this.tag||z(this.value)}filter(z){return!this.tag||z(this.value)?this:_e.none()}getOr(z){return this.tag?this.value:z}or(z){return this.tag?this:z}getOrThunk(z){return this.tag?this.value:z()}orThunk(z){return this.tag?this:z()}getOrDie(z){if(this.tag)return this.value;throw new Error(z??"Called getOrDie on None")}static from(z){return M(z)?_e.some(z):_e.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(z){this.tag&&z(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}_e.singletonNone=new _e(!1);const Ue=Object.keys,Qe=Object.hasOwnProperty,ct=(P,z)=>{const ue=Ue(P);for(let Ae=0,ot=ue.length;Ae<ot;Ae++){const Vt=ue[Ae],un=P[Vt];z(un,Vt)}},Ce=P=>(z,ue)=>{P[ue]=z},Te=(P,z,ue,Ae)=>{ct(P,(ot,Vt)=>{(z(ot,Vt)?ue:Ae)(ot,Vt)})},I=(P,z)=>{const ue={};return Te(P,z,Ce(ue),Z),ue},dt=(P,z)=>{const ue=[];return ct(P,(Ae,ot)=>{ue.push(z(Ae,ot))}),ue},gt=P=>dt(P,U),Ft=P=>Ue(P).length,en=(P,z)=>ft(P,z)?_e.from(P[z]):_e.none(),ft=(P,z)=>Qe.call(P,z),Rn=(P,z)=>ft(P,z)&&P[z]!==void 0&&P[z]!==null,Ot=P=>{for(const z in P)if(Qe.call(P,z))return!1;return!0},rt=Array.prototype.indexOf,Ve=Array.prototype.push,bt=(P,z)=>rt.call(P,z),Yn=(P,z)=>bt(P,z)>-1,Yt=(P,z)=>{for(let ue=0,Ae=P.length;ue<Ae;ue++){const ot=P[ue];if(z(ot,ue))return!0}return!1},Bn=(P,z)=>{const ue=[];for(let Ae=0;Ae<P;Ae++)ue.push(z(Ae));return ue},Jt=(P,z)=>{const ue=P.length,Ae=new Array(ue);for(let ot=0;ot<ue;ot++){const Vt=P[ot];Ae[ot]=z(Vt,ot)}return Ae},te=(P,z)=>{for(let ue=0,Ae=P.length;ue<Ae;ue++){const ot=P[ue];z(ot,ue)}},vo=(P,z)=>{for(let ue=P.length-1;ue>=0;ue--){const Ae=P[ue];z(Ae,ue)}},nn=(P,z)=>{const ue=[],Ae=[];for(let ot=0,Vt=P.length;ot<Vt;ot++){const un=P[ot];(z(un,ot)?ue:Ae).push(un)}return{pass:ue,fail:Ae}},yn=(P,z)=>{const ue=[];for(let Ae=0,ot=P.length;Ae<ot;Ae++){const Vt=P[Ae];z(Vt,Ae)&&ue.push(Vt)}return ue},qe=(P,z,ue)=>(vo(P,(Ae,ot)=>{ue=z(ue,Ae,ot)}),ue),it=(P,z,ue)=>(te(P,(Ae,ot)=>{ue=z(ue,Ae,ot)}),ue),Se=(P,z,ue)=>{for(let Ae=0,ot=P.length;Ae<ot;Ae++){const Vt=P[Ae];if(z(Vt,Ae))return _e.some(Vt);if(ue(Vt,Ae))break}return _e.none()},Me=(P,z)=>Se(P,z,he),Ke=P=>{const z=[];for(let ue=0,Ae=P.length;ue<Ae;++ue){if(!w(P[ue]))throw new Error("Arr.flatten item "+ue+" was not an array, input: "+P);Ve.apply(z,P[ue])}return z},xe=(P,z)=>Ke(Jt(P,z)),Re=(P,z)=>{for(let ue=0,Ae=P.length;ue<Ae;++ue){const ot=P[ue];if(z(ot,ue)!==!0)return!1}return!0},Fe=(P,z)=>{const ue={};for(let Ae=0,ot=P.length;Ae<ot;Ae++){const Vt=P[Ae];ue[String(Vt)]=z(Vt,Ae)}return ue},Je=(P,z)=>z>=0&&z<P.length?_e.some(P[z]):_e.none(),wt=P=>Je(P,0),pn=P=>Je(P,P.length-1),Qt=(P,z)=>{for(let ue=0;ue<P.length;ue++){const Ae=z(P[ue],ue);if(Ae.isSome())return Ae}return _e.none()},An=8,no=9,co=11,Jo=1,Ho=3,sr=(P,z)=>{const Ae=(z||document).createElement("div");if(Ae.innerHTML=P,!Ae.hasChildNodes()||Ae.childNodes.length>1){const ot="HTML does not have a single root node";throw console.error(ot,P),new Error(ot)}return xs(Ae.childNodes[0])},Cs=(P,z)=>{const Ae=(z||document).createElement(P);return xs(Ae)},ri=(P,z)=>{const Ae=(z||document).createTextNode(P);return xs(Ae)},xs=P=>{if(P==null)throw new Error("Node cannot be null or undefined");return{dom:P}},cn={fromHtml:sr,fromTag:Cs,fromText:ri,fromDom:xs,fromPoint:(P,z,ue)=>_e.from(P.dom.elementFromPoint(z,ue)).map(xs)},uo=(P,z)=>{const ue=P.dom;if(ue.nodeType!==Jo)return!1;{const Ae=ue;if(Ae.matches!==void 0)return Ae.matches(z);if(Ae.msMatchesSelector!==void 0)return Ae.msMatchesSelector(z);if(Ae.webkitMatchesSelector!==void 0)return Ae.webkitMatchesSelector(z);if(Ae.mozMatchesSelector!==void 0)return Ae.mozMatchesSelector(z);throw new Error("Browser lacks native selectors")}},$o=P=>P.nodeType!==Jo&&P.nodeType!==no&&P.nodeType!==co||P.childElementCount===0,mi=(P,z)=>{const ue=z===void 0?document:z.dom;return $o(ue)?[]:Jt(ue.querySelectorAll(P),cn.fromDom)},ul=(P,z)=>{const ue=z===void 0?document:z.dom;return $o(ue)?_e.none():_e.from(ue.querySelector(P)).map(cn.fromDom)},tn=(P,z)=>P.dom===z.dom,ki=uo;typeof window<"u"||Function("return this;")();const Go=P=>P.dom.nodeName.toLowerCase(),Wl=P=>P.dom.nodeType,js=P=>z=>Wl(z)===P,ii=P=>Wl(P)===An||Go(P)==="#comment",Oc=js(Jo),Rc=js(Ho),Ic=js(no),kl=js(co),Dc=P=>z=>Oc(z)&&Go(z)===P,Zs=P=>cn.fromDom(P.dom.ownerDocument),So=P=>Ic(P)?P:Zs(P),dl=P=>_e.from(P.dom.parentNode).map(cn.fromDom),Ui=(P,z)=>{const ue=H(z)?z:he;let Ae=P.dom;const ot=[];for(;Ae.parentNode!==null&&Ae.parentNode!==void 0;){const Vt=Ae.parentNode,un=cn.fromDom(Vt);if(ot.push(un),ue(un)===!0)break;Ae=Vt}return ot},Du=P=>_e.from(P.dom.previousSibling).map(cn.fromDom),Sn=P=>_e.from(P.dom.nextSibling).map(cn.fromDom),sc=P=>Jt(P.dom.childNodes,cn.fromDom),Kf=(P,z)=>{const ue=P.dom.childNodes;return _e.from(ue[z]).map(cn.fromDom)},Tr=P=>Kf(P,0),jf=P=>kl(P)&&M(P.dom.host),fl=P=>cn.fromDom(P.dom.getRootNode()),Kl=P=>{const z=fl(P);return jf(z)?_e.some(z):_e.none()},El=P=>cn.fromDom(P.dom.host),dr=P=>{const z=Rc(P)?P.dom.parentNode:P.dom;if(z==null||z.ownerDocument===null)return!1;const ue=z.ownerDocument;return Kl(cn.fromDom(z)).fold(()=>ue.body.contains(z),Q(dr,El))};var la=(P,z,ue,Ae,ot)=>P(ue,Ae)?_e.some(ue):H(ot)&&ot(ue)?_e.none():z(ue,Ae,ot);const ml=(P,z,ue)=>{let Ae=P.dom;const ot=H(ue)?ue:he;for(;Ae.parentNode;){Ae=Ae.parentNode;const Vt=cn.fromDom(Ae);if(z(Vt))return _e.some(Vt);if(ot(Vt))break}return _e.none()},Zf=(P,z,ue)=>la((ot,Vt)=>Vt(ot),ml,P,z,ue),nu=(P,z)=>{const ue=ot=>z(cn.fromDom(ot));return Me(P.dom.childNodes,ue).map(cn.fromDom)},Tl=(P,z,ue)=>ml(P,Ae=>uo(Ae,z),ue),Zd=(P,z)=>nu(P,ue=>uo(ue,z)),Pu=(P,z)=>ul(z,P),cs=(P,z,ue)=>la((ot,Vt)=>uo(ot,Vt),Tl,P,z,ue),Kr=P=>cs(P,"[contenteditable]"),gi=(P,z=!1)=>dr(P)?P.dom.isContentEditable:Kr(P).fold(re(z),ue=>Gf(ue)==="true"),Gf=P=>P.dom.contentEditable,gl=P=>P.nodeName.toLowerCase(),ou=P=>cn.fromDom(P.getBody()),Pi=P=>z=>tn(z,ou(P)),Ta=P=>P?P.replace(/px$/,""):"",Aa=P=>/^\d+(\.\d+)?$/.test(P)?P+"px":P,Vs=P=>cn.fromDom(P.selection.getStart()),wr=P=>cn.fromDom(P.selection.getEnd()),Be=P=>Zf(P,Dc("table")).forall(gi),mt=(P,z)=>yn(sc(P),z),Ze=(P,z)=>{let ue=[];return te(sc(P),Ae=>{z(Ae)&&(ue=ue.concat([Ae])),ue=ue.concat(Ze(Ae,z))}),ue},_t=(P,z)=>mt(P,ue=>uo(ue,z)),Ct=(P,z)=>mi(z,P),lt=(P,z,ue)=>{if(x(ue)||R(ue)||K(ue))P.setAttribute(z,ue+"");else throw console.error("Invalid call to Attribute.set. Key ",z,":: Value ",ue,":: Element ",P),new Error("Attribute value was not simple")},rn=(P,z,ue)=>{lt(P.dom,z,ue)},bn=(P,z)=>{const ue=P.dom;ct(z,(Ae,ot)=>{lt(ue,ot,Ae)})},Cn=(P,z)=>{const ue=P.dom.getAttribute(z);return ue===null?void 0:ue},Tn=(P,z)=>_e.from(Cn(P,z)),_n=(P,z)=>{P.dom.removeAttribute(z)},Po=P=>it(P.dom.attributes,(z,ue)=>(z[ue.name]=ue.value,z),{}),xn=(P,z,ue=ge)=>P.exists(Ae=>ue(Ae,z)),Ws=P=>{const z=[],ue=Ae=>{z.push(Ae)};for(let Ae=0;Ae<P.length;Ae++)P[Ae].each(ue);return z},ns=(P,z,ue)=>P.isSome()&&z.isSome()?_e.some(ue(P.getOrDie(),z.getOrDie())):_e.none(),gs=P=>P.bind(U),jr=(P,z)=>P?_e.some(z):_e.none(),Uo=(P,z)=>P.substring(z),rc=(P,z,ue)=>z===""||P.length>=z.length&&P.substr(ue,ue+z.length)===z,Oa=(P,z)=>_o(P,z)?Uo(P,z.length):P,_o=(P,z)=>rc(P,z,0),Ol=(P=>z=>z.replace(P,""))(/^\s+|\s+$/g),Or=P=>P.length>0,Gd=P=>!Or(P),Jr=(P,z=10)=>{const ue=parseInt(P,z);return isNaN(ue)?_e.none():_e.some(ue)},qf=P=>{const z=parseFloat(P);return isNaN(z)?_e.none():_e.some(z)},Rl=P=>P.style!==void 0&&H(P.style.getPropertyValue),zs=(P,z,ue)=>{if(!x(ue))throw console.error("Invalid call to CSS.set. Property ",z,":: Value ",ue,":: Element ",P),new Error("CSS value must be a string: "+ue);Rl(P)&&P.style.setProperty(z,ue)},fd=(P,z)=>{Rl(P)&&P.style.removeProperty(z)},$m=(P,z,ue)=>{const Ae=P.dom;zs(Ae,z,ue)},Vm=(P,z)=>{const ue=P.dom,ot=window.getComputedStyle(ue).getPropertyValue(z);return ot===""&&!dr(P)?Rr(ue,z):ot},Rr=(P,z)=>Rl(P)?P.style.getPropertyValue(z):"",hl=(P,z)=>{const ue=P.dom,Ae=Rr(ue,z);return _e.from(Ae).filter(ot=>ot.length>0)},Il=(P,z)=>{const ue=P.dom;fd(ue,z),xn(Tn(P,"style").map(Ol),"")&&_n(P,"style")},rr=(P,z,ue=0)=>Tn(P,z).map(Ae=>parseInt(Ae,10)).getOr(ue),qd=(P,z)=>Dl(P,z,oe),Dl=(P,z,ue)=>xe(sc(P),Ae=>uo(Ae,z)?ue(Ae)?[Ae]:[]:Dl(Ae,z,ue)),ca=["tfoot","thead","tbody","colgroup"],zm=P=>Yn(ca,P),Wi=(P,z)=>({rows:P,columns:z}),Wa=(P,z,ue)=>({element:P,rowspan:z,colspan:ue}),ua=(P,z,ue,Ae,ot,Vt)=>({element:P,rowspan:z,colspan:ue,row:Ae,column:ot,isLocked:Vt}),pl=(P,z,ue)=>({element:P,cells:z,section:ue}),zg=(P,z,ue,Ae)=>({startRow:P,startCol:z,finishRow:ue,finishCol:Ae}),os=(P,z,ue)=>({element:P,colspan:z,column:ue}),su=(P,z)=>({element:P,columns:z}),md=(P,z,ue=he)=>{if(ue(z))return _e.none();if(Yn(P,Go(z)))return _e.some(z);const Ae=ot=>uo(ot,"table")||ue(ot);return Tl(z,P.join(","),Ae)},Nu=(P,z)=>md(["td","th"],P,z),np=P=>qd(P,"th,td"),$v=P=>uo(P,"colgroup")?_t(P,"col"):xe(Vv(P),z=>_t(z,"col")),jl=(P,z)=>cs(P,"table",z),op=P=>qd(P,"tr"),Vv=P=>jl(P).fold(re([]),z=>_t(z,"colgroup")),Hg=(P,z)=>Jt(P,ue=>{if(Go(ue)==="colgroup"){const Ae=Jt($v(ue),ot=>{const Vt=rr(ot,"span",1);return Wa(ot,1,Vt)});return pl(ue,Ae,"colgroup")}else{const Ae=Jt(np(ue),ot=>{const Vt=rr(ot,"rowspan",1),un=rr(ot,"colspan",1);return Wa(ot,Vt,un)});return pl(ue,Ae,z(ue))}}),yb=P=>dl(P).map(z=>{const ue=Go(z);return zm(ue)?ue:"tbody"}).getOr("tbody"),dn=P=>{const z=op(P),Ae=[...Vv(P),...z];return Hg(Ae,yb)},Yd="data-snooker-locked-cols",Xd=P=>Tn(P,Yd).bind(z=>_e.from(z.match(/\d+/g))).map(z=>Fe(z,oe)),Ug=(P,z)=>P+","+z,da=(P,z,ue)=>_e.from(P.access[Ug(z,ue)]),Jd=(P,z,ue)=>{const Ae=Yf(P,ot=>ue(z,ot.element));return Ae.length>0?_e.some(Ae[0]):_e.none()},Yf=(P,z)=>{const ue=xe(P.all,Ae=>Ae.cells);return yn(ue,z)},zv=P=>{const z={};let ue=0;return te(P.cells,Ae=>{const ot=Ae.colspan;Bn(ot,Vt=>{const un=ue+Vt;z[un]=os(Ae.element,ot,un)}),ue+=ot}),z},xb=P=>{const z={},ue=[],ot=wt(P).map(ci=>ci.element).bind(jl).bind(Xd).getOr({});let Vt=0,un=0,$n=0;const{pass:Vn,fail:Ko}=nn(P,ci=>ci.section==="colgroup");te(Ko,ci=>{const Ja=[];te(ci.cells,qr=>{let ju=0;for(;z[Ug($n,ju)]!==void 0;)ju++;const cm=Rn(ot,ju.toString()),hu=ua(qr.element,qr.rowspan,qr.colspan,$n,ju,cm);for(let eh=0;eh<qr.colspan;eh++)for(let yd=0;yd<qr.rowspan;yd++){const mp=$n+yd,Jm=ju+eh,um=Ug(mp,Jm);z[um]=hu,un=Math.max(un,Jm+1)}Ja.push(hu)}),Vt++,ue.push(pl(ci.element,Ja,ci.section)),$n++});const{columns:Fo,colgroups:es}=pn(Vn).map(ci=>{const Ja=zv(ci);return{colgroups:[su(ci.element,gt(Ja))],columns:Ja}}).getOrThunk(()=>({colgroups:[],columns:{}}));return{grid:Wi(Vt,un),access:z,all:ue,columns:Fo,colgroups:es}},ru={fromTable:P=>{const z=dn(P);return xb(z)},generate:xb,getAt:da,findItem:Jd,filterItems:Yf,justCells:P=>xe(P.all,z=>z.cells),justColumns:P=>gt(P.columns),hasColumns:P=>Ue(P.columns).length>0,getColumnAt:(P,z)=>_e.from(P.columns[z])};var gd=tinymce.util.Tools.resolve("tinymce.util.Tools");const iu=(P,z,ue)=>{const Ae=P.select("td,th",z);let ot;for(let Vt=0;Vt<Ae.length;Vt++){const un=P.getStyle(Ae[Vt],ue);if(D(ot)&&(ot=un),ot!==un)return""}return ot},Ki=(P,z,ue)=>{gd.each("left center right".split(" "),Ae=>{Ae!==ue&&P.formatter.remove("align"+Ae,{},z)}),ue&&P.formatter.apply("align"+ue,{},z)},Pl=(P,z,ue)=>{gd.each("top middle bottom".split(" "),Ae=>{Ae!==ue&&P.formatter.remove("valign"+Ae,{},z)}),ue&&P.formatter.apply("valign"+ue,{},z)},Qd=(P,z,ue)=>{P.dispatch("TableModified",{...ue,table:z})},hs=(P,z)=>qf(P).getOr(z),Pc=(P,z,ue)=>hs(Vm(P,z),ue),Hm=(P,z,ue,Ae)=>{const ot=Pc(P,`padding-${ue}`,0),Vt=Pc(P,`padding-${Ae}`,0),un=Pc(P,`border-${ue}-width`,0),$n=Pc(P,`border-${Ae}-width`,0);return z-ot-Vt-un-$n},Um=(P,z)=>{const ue=P.dom,Ae=ue.getBoundingClientRect().width||ue.offsetWidth;return Hm(P,Ae,"left","right")},Qr=P=>Um(P);var Cr=tinymce.util.Tools.resolve("tinymce.Env");const Ji="tableprops tabledelete | tableinsertrowbefore tableinsertrowafter tabledeleterow | tableinsertcolbefore tableinsertcolafter tabledeletecol",fr=Bn(5,P=>{const z=`${P+1}px`;return{title:z,value:z}}),ef=Jt(["Solid","Dotted","Dashed","Double","Groove","Ridge","Inset","Outset","None","Hidden"],P=>({title:P,value:P.toLowerCase()})),tf="100%",Ei=P=>{var z;const ue=P.dom,Ae=(z=ue.getParent(P.selection.getStart(),ue.isBlock))!==null&&z!==void 0?z:P.getBody();return Qr(cn.fromDom(Ae))+"px"},Ka=(P,z)=>Kg(P)||!Ss(P)?z:Mu(P)?{...z,width:Ei(P)}:{...z,width:tf},Ra=(P,z)=>Kg(P)||Ss(P)?z:Mu(P)?{...z,width:Ei(P)}:{...z,width:tf},hi=P=>z=>z.options.get(P),hd=P=>{const z=P.options.register;z("table_border_widths",{processor:"object[]",default:fr}),z("table_border_styles",{processor:"object[]",default:ef}),z("table_cell_advtab",{processor:"boolean",default:!0}),z("table_row_advtab",{processor:"boolean",default:!0}),z("table_advtab",{processor:"boolean",default:!0}),z("table_appearance_options",{processor:"boolean",default:!0}),z("table_grid",{processor:"boolean",default:!Cr.deviceType.isTouch()}),z("table_cell_class_list",{processor:"object[]",default:[]}),z("table_row_class_list",{processor:"object[]",default:[]}),z("table_class_list",{processor:"object[]",default:[]}),z("table_toolbar",{processor:"string",default:Ji}),z("table_background_color_map",{processor:"object[]",default:[]}),z("table_border_color_map",{processor:"object[]",default:[]})},qo=hi("table_sizing_mode"),ai=hi("table_border_widths"),ja=hi("table_border_styles"),au=hi("table_cell_advtab"),Ni=hi("table_row_advtab"),Wn=hi("table_advtab"),Nc=hi("table_appearance_options"),Mc=hi("table_grid"),Ss=hi("table_style_by_css"),Xf=hi("table_cell_class_list"),sp=hi("table_row_class_list"),lu=hi("table_class_list"),ss=hi("table_toolbar"),Ia=hi("table_background_color_map"),Wm=hi("table_border_color_map"),Mu=P=>qo(P)==="fixed",Kg=P=>qo(P)==="responsive",Lc=P=>{const z=P.options,ue=z.get("table_default_styles");return z.isSet("table_default_styles")?ue:Ka(P,ue)},Za=P=>{const z=P.options,ue=z.get("table_default_attributes");return z.isSet("table_default_attributes")?ue:Ra(P,ue)},cu=(P,z)=>z.column>=P.startCol&&z.column+z.colspan-1<=P.finishCol&&z.row>=P.startRow&&z.row+z.rowspan-1<=P.finishRow,nf=(P,z)=>{let ue=!0;const Ae=de(cu,z);for(let ot=z.startRow;ot<=z.finishRow;ot++)for(let Vt=z.startCol;Vt<=z.finishCol;Vt++)ue=ue&&ru.getAt(P,ot,Vt).exists(Ae);return ue?_e.some(z):_e.none()},Ye=(P,z)=>zg(Math.min(P.row,z.row),Math.min(P.column,z.column),Math.max(P.row+P.rowspan-1,z.row+z.rowspan-1),Math.max(P.column+P.colspan-1,z.column+z.colspan-1)),Jf=(P,z,ue)=>{const Ae=ru.findItem(P,z,tn),ot=ru.findItem(P,ue,tn);return Ae.bind(Vt=>ot.map(un=>Ye(Vt,un)))},qs=(P,z,ue)=>Jf(P,z,ue).bind(Ae=>nf(P,Ae)),rp=(P,z,ue)=>{const Ae=Km(P);return qs(Ae,z,ue)},Km=ru.fromTable,wc=(P,z)=>{dl(P).each(Ae=>{Ae.dom.insertBefore(z.dom,P.dom)})},us=(P,z)=>{Sn(P).fold(()=>{dl(P).each(ot=>{ic(ot,z)})},Ae=>{wc(Ae,z)})},fa=(P,z)=>{Tr(P).fold(()=>{ic(P,z)},Ae=>{P.dom.insertBefore(z.dom,Ae.dom)})},ic=(P,z)=>{P.dom.appendChild(z.dom)},Cc=(P,z)=>{wc(P,z),ic(z,P)},uu=(P,z)=>{te(z,(ue,Ae)=>{const ot=Ae===0?P:z[Ae-1];us(ot,ue)})},Lu=(P,z)=>{te(z,ue=>{ic(P,ue)})},Qi=P=>{const z=P.dom;z.parentNode!==null&&z.parentNode.removeChild(z)},of=P=>{const z=sc(P);z.length>0&&uu(P,z),Qi(P)},jg=((P,z)=>{const ue=Vt=>{if(!P(Vt))throw new Error("Can only get "+z+" value of a "+z+" node");return Ae(Vt).getOr("")},Ae=Vt=>P(Vt)?_e.from(Vt.dom.nodeValue):_e.none();return{get:ue,getOption:Ae,set:(Vt,un)=>{if(!P(Vt))throw new Error("Can only set raw "+z+" value of a "+z+" node");Vt.dom.nodeValue=un}}})(Rc,"text"),Mi=P=>jg.get(P),oo=(P,z)=>jg.set(P,z);var Bu=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","li","table","thead","tbody","tfoot","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],Qf=()=>{const P=Ko=>cn.fromDom(Ko.dom.cloneNode(!1)),z=Ko=>So(Ko).dom,ue=Ko=>Oc(Ko)?Go(Ko)==="body"?!0:Yn(Bu,Go(Ko)):!1,Ae=Ko=>Oc(Ko)?Yn(["br","img","hr","input"],Go(Ko)):!1,ot=Ko=>Oc(Ko)&&Cn(Ko,"contenteditable")==="false",Vt=(Ko,Fo)=>Ko.dom.compareDocumentPosition(Fo.dom),un=(Ko,Fo)=>{const es=Po(Ko);bn(Fo,es)},$n=Ko=>{const Fo=Go(Ko);return Yn(["script","noscript","iframe","noframes","noembed","title","style","textarea","xmp"],Fo)},Vn=Ko=>Oc(Ko)?Tn(Ko,"lang"):_e.none();return{up:re({selector:Tl,closest:cs,predicate:ml,all:Ui}),down:re({selector:Ct,predicate:Ze}),styles:re({get:Vm,getRaw:hl,set:$m,remove:Il}),attrs:re({get:Cn,set:rn,remove:_n,copyTo:un}),insert:re({before:wc,after:us,afterAll:uu,append:ic,appendAll:Lu,prepend:fa,wrap:Cc}),remove:re({unwrap:of,remove:Qi}),create:re({nu:cn.fromTag,clone:P,text:cn.fromText}),query:re({comparePosition:Vt,prevSibling:Du,nextSibling:Sn}),property:re({children:sc,name:Go,parent:dl,document:z,isText:Rc,isComment:ii,isElement:Oc,isSpecial:$n,getLanguage:Vn,getText:Mi,setText:oo,isBoundary:ue,isEmptyTag:Ae,isNonEditable:ot}),eq:tn,is:ki}};const ma=(P,z,ue,Ae)=>{const ot=ue[0],Vt=ue.slice(1);return Ae(P,z,ot,Vt)},Fu=(P,z,ue)=>ue.length>0?ma(P,z,ue,Zl):_e.none(),Zl=(P,z,ue,Ae)=>{const ot=z(P,ue);return qe(Ae,(Vt,un)=>{const $n=z(P,un);return $u(P,Vt,$n)},ot)},$u=(P,z,ue)=>z.bind(Ae=>ue.filter(de(P.eq,Ae))),pd=Fu,Li=Qf(),Sc=(P,z)=>pd(Li,(ue,Ae)=>P(Ae),z),du=P=>Tl(P,"table"),em=(P,z)=>{const ue=Ct(P,z);return ue.length>0?_e.some(ue):_e.none()},Cb=(P,z,ue)=>Pu(P,z).bind(Ae=>Pu(P,ue).bind(ot=>Sc(du,[Ae,ot]).map(Vt=>({first:Ae,last:ot,table:Vt})))),Vu=(P,z)=>em(P,z),sf=(P,z,ue)=>Cb(P,z,ue).bind(Ae=>{const ot=Vn=>tn(P,Vn),Vt="thead,tfoot,tbody,table",un=Tl(Ae.first,Vt,ot),$n=Tl(Ae.last,Vt,ot);return un.bind(Vn=>$n.bind(Ko=>tn(Vn,Ko)?rp(Ae.table,Ae.first,Ae.last):_e.none()))}),Zm=P=>Jt(P,cn.fromDom),Ir="data-mce-selected",Da="data-mce-first-selected",Pa="td["+Da+"],th["+Da+"]",Ga="data-mce-last-selected",Ti="td["+Ga+"],th["+Ga+"]",tm={selected:Ir,firstSelectedSelector:Pa,lastSelectedSelector:Ti},pi=P=>jl(P).bind(z=>Vu(z,tm.firstSelectedSelector)).fold(re(P),z=>z[0]),ji=P=>(z,ue)=>{const Ae=Go(z),ot=Ae==="col"||Ae==="colgroup"?pi(z):z;return cs(ot,P,ue)},Bc=ji("th,td,caption"),Ht=ji("th,td"),Bi=P=>Zm(P.model.table.getSelectedCells()),Zg=(P,z)=>{const ue=Ht(P),Ae=ue.bind(ot=>jl(ot)).map(ot=>op(ot));return ns(ue,Ae,(ot,Vt)=>yn(Vt,un=>Yt(Zm(un.dom.cells),$n=>Cn($n,z)==="1"||tn($n,ot)))).getOr([])},Sr=[{text:"None",value:""},{text:"Top",value:"top"},{text:"Middle",value:"middle"},{text:"Bottom",value:"bottom"}],zu=P=>({value:Ya(P)}),qa=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,Fc=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,nm=P=>qa.test(P)||Fc.test(P),Ya=P=>Oa(P,"#").toUpperCase(),ds=P=>nm(P)?_e.some({value:Ya(P)}):_e.none(),$r=P=>{const z=P.toString(16);return(z.length===1?"0"+z:z).toUpperCase()},Hu=P=>{const z=$r(P.red)+$r(P.green)+$r(P.blue);return zu(z)},Zr=/^\s*rgb\s*\(\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*(\d+)\s*\)\s*$/i,Gm=/^\s*rgba\s*\(\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*((?:\d?\.\d+|\d+)%?)\s*\)\s*$/i,$c=(P,z,ue,Ae)=>({red:P,green:z,blue:ue,alpha:Ae}),ip=(P,z,ue,Ae)=>{const ot=parseInt(P,10),Vt=parseInt(z,10),un=parseInt(ue,10),$n=parseFloat(Ae);return $c(ot,Vt,un,$n)},Dr=P=>{const z=Zr.exec(P);if(z!==null)return _e.some(ip(z[1],z[2],z[3],"1"));const ue=Gm.exec(P);return ue!==null?_e.some(ip(ue[1],ue[2],ue[3],ue[4])):_e.none()},vt=P=>ds(P).orThunk(()=>Dr(P).map(Hu)).getOrThunk(()=>{const z=document.createElement("canvas");z.height=1,z.width=1;const ue=z.getContext("2d");ue.clearRect(0,0,z.width,z.height),ue.fillStyle="#FFFFFF",ue.fillStyle=P,ue.fillRect(0,0,1,1);const Ae=ue.getImageData(0,0,1,1).data,ot=Ae[0],Vt=Ae[1],un=Ae[2],$n=Ae[3];return Hu($c(ot,Vt,un,$n))}),Xa=P=>Dr(P).map(Hu).map(z=>"#"+z.value).getOr(P),Vr=P=>{let z=P;return{get:()=>z,set:ot=>{z=ot}}},ac=P=>{const z=Vr(_e.none()),ue=()=>z.get().each(P);return{clear:()=>{ue(),z.set(_e.none())},isSet:()=>z.get().isSome(),get:()=>z.get(),set:$n=>{ue(),z.set(_e.some($n))}}},Vc=()=>ac(P=>P.unbind()),li=(P,z,ue)=>Ae=>{const ot=Vc(),Vt=Gd(ue),un=()=>{const $n=Bi(P),Vn=Ko=>P.formatter.match(z,{value:ue},Ko.dom,Vt);Vt?(Ae.setActive(!Yt($n,Vn)),ot.set(P.formatter.formatChanged(z,Ko=>Ae.setActive(!Ko),!0))):(Ae.setActive(Re($n,Vn)),ot.set(P.formatter.formatChanged(z,Ae.setActive,!1,{value:ue})))};return P.initialized?un():P.on("init",un),ot.clear},ir=P=>Rn(P,"menu"),Hs=P=>Jt(P,z=>{const ue=z.text||z.title||"";return ir(z)?{text:ue,items:Hs(z.menu)}:{text:ue,value:z.value}}),ga=P=>P.length?_e.some(Hs([{text:"Select...",value:"mce-no-match"},...P])):_e.none(),ha=(P,z,ue,Ae)=>Jt(z,ot=>{const Vt=ot.text||ot.title;return ir(ot)?{type:"nestedmenuitem",text:Vt,getSubmenuItems:()=>ha(P,ot.menu,ue,Ae)}:{text:Vt,type:"togglemenuitem",onAction:()=>Ae(ot.value),onSetup:li(P,ue,ot.value)}}),Nl=(P,z)=>ue=>{P.execCommand("mceTableApplyCellStyle",!1,{[z]:ue})},_c=P=>xe(P,z=>ir(z)?[{...z,menu:_c(z.menu)}]:Or(z.value)?[z]:[]),fu=(P,z,ue,Ae)=>ot=>ot(ha(P,z,ue,Ae)),bd=(P,z,ue)=>{const Ae=Jt(z,ot=>({text:ot.title,value:"#"+vt(ot.value).value,type:"choiceitem"}));return[{type:"fancymenuitem",fancytype:"colorswatch",initData:{colors:Ae.length>0?Ae:void 0,allowCustomColors:!1},onAction:ot=>{const Vt=ot.value==="remove"?"":ot.value;P.execCommand("mceTableApplyCellStyle",!1,{[ue]:Vt})}}]},om=P=>()=>{const ue=P.queryCommandValue("mceTableRowType")==="header"?"body":"header";P.execCommand("mceTableRowType",!1,{type:ue})},Gg=P=>()=>{const ue=P.queryCommandValue("mceTableColType")==="th"?"td":"th";P.execCommand("mceTableColType",!1,{type:ue})},ap=P=>ga(Xf(P)).map(z=>({name:"class",type:"listbox",label:"Class",items:z})),Uu=[{name:"width",type:"input",label:"Width"},{name:"celltype",type:"listbox",label:"Cell type",items:[{text:"Cell",value:"td"},{text:"Header cell",value:"th"}]},{name:"scope",type:"listbox",label:"Scope",items:[{text:"None",value:""},{text:"Row",value:"row"},{text:"Column",value:"col"},{text:"Row group",value:"rowgroup"},{text:"Column group",value:"colgroup"}]},{name:"halign",type:"listbox",label:"Horizontal align",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},{name:"valign",type:"listbox",label:"Vertical align",items:Sr}],L=P=>Uu.concat(ap(P).toArray()),Y=(P,z)=>{const Ae=[{name:"borderstyle",type:"listbox",label:"Border style",items:[{text:"Select...",value:""}].concat(Hs(ja(P)))},{name:"bordercolor",type:"colorinput",label:"Border color"},{name:"backgroundcolor",type:"colorinput",label:"Background color"}];return{title:"Advanced",name:"advanced",items:z==="cell"?[{name:"borderwidth",type:"input",label:"Border width"}].concat(Ae):Ae}},We={normal:(P,z)=>{const ue=P.dom;return{setAttrib:(un,$n)=>{ue.setAttrib(z,un,$n)},setStyle:(un,$n)=>{ue.setStyle(z,un,$n)},setFormat:(un,$n)=>{$n===""?P.formatter.remove(un,{value:null},z,!0):P.formatter.apply(un,{value:$n},z)}}}},tt=Dc("th"),Ut=(P,z)=>P&&z?"sectionCells":P?"section":"cells",lo=P=>{const z=P.section==="thead",ue=xn(Mo(P.cells),"th");return P.section==="tfoot"?{type:"footer"}:z||ue?{type:"header",subType:Ut(z,ue)}:{type:"body"}},Mo=P=>{const z=yn(P,ue=>tt(ue.element));return z.length===0?_e.some("td"):z.length===P.length?_e.some("th"):_e.none()},ko=P=>{const z=Jt(P,ot=>lo(ot).type),ue=Yn(z,"header"),Ae=Yn(z,"footer");if(!ue&&!Ae)return _e.some("body");{const ot=Yn(z,"body");return ue&&!ot&&!Ae?_e.some("header"):!ue&&!ot&&Ae?_e.some("footer"):_e.none()}},jn=P=>{let z=!1,ue;return(...Ae)=>(z||(z=!0,ue=P.apply(null,Ae)),ue)},Is=(P,z)=>Qt(P.all,ue=>Me(ue.cells,Ae=>tn(z,Ae.element))),ei=(P,z,ue)=>{const Ae=Jt(z.selection,Vt=>Nu(Vt).bind(un=>Is(P,un)).filter(ue)),ot=Ws(Ae);return jr(ot.length>0,ot)},Pr=(P,z)=>z.mergable,zc=(P,z)=>z.unmergable,rf=(P,z)=>ei(P,z,oe),sm=(P,z)=>Is(P,z).exists(ue=>!ue.isLocked),bi=(P,z)=>Re(z,ue=>sm(P,ue)),q1=(P,z)=>Pr(P,z).filter(ue=>bi(P,ue.cells)),lp=(P,z)=>zc(P,z).filter(ue=>bi(P,ue));({...{generate:P=>{if(!w(P))throw new Error("cases must be an array");if(P.length===0)throw new Error("there must be at least one case");const z=[],ue={};return te(P,(Ae,ot)=>{const Vt=Ue(Ae);if(Vt.length!==1)throw new Error("one and only one name per case");const un=Vt[0],$n=Ae[un];if(ue[un]!==void 0)throw new Error("duplicate key detected:"+un);if(un==="cata")throw new Error("cannot have a case named cata (sorry)");if(!w($n))throw new Error("case arguments must be an array");z.push(un),ue[un]=(...Vn)=>{const Ko=Vn.length;if(Ko!==$n.length)throw new Error("Wrong number of arguments to case "+un+". Expected "+$n.length+" ("+$n+"), got "+Ko);return{fold:(...es)=>{if(es.length!==P.length)throw new Error("Wrong number of arguments to fold. Expected "+P.length+", got "+es.length);return es[ot].apply(null,Vn)},match:es=>{const Qo=Ue(es);if(z.length!==Qo.length)throw new Error("Wrong number of arguments to match. Expected: "+z.join(",")+`
Actual: `+Qo.join(","));if(!Re(z,Ja=>Yn(Qo,Ja)))throw new Error("Not all branches were specified when using match. Specified: "+Qo.join(", ")+`
Required: `+z.join(", "));return es[un].apply(null,Vn)},log:es=>{console.log(es,{constructors:z,constructor:un,params:Vn})}}}}),ue}}.generate([{none:[]},{only:["index"]},{left:["index","next"]},{middle:["prev","index","next"]},{right:["prev","index"]}])});const Wu=(P,z)=>{const ue=ru.fromTable(P);return rf(ue,z).bind(ot=>{const Vt=ot[ot.length-1],un=ot[0].row,$n=Vt.row+Vt.rowspan,Vn=ue.all.slice(un,$n);return ko(Vn)}).getOr("")},af=P=>_o(P,"rgb")?Xa(P):P,cp=P=>{const z=cn.fromDom(P);return{borderwidth:hl(z,"border-width").getOr(""),borderstyle:hl(z,"border-style").getOr(""),bordercolor:hl(z,"border-color").map(af).getOr(""),backgroundcolor:hl(z,"background-color").map(af).getOr("")}},lc=P=>{const z=P[0],ue=P.slice(1);return te(ue,Ae=>{te(Ue(z),ot=>{ct(Ae,(Vt,un)=>{const $n=z[ot];$n!==""&&ot===un&&$n!==Vt&&(z[ot]=ot==="class"?"mce-no-match":"")})})}),z},vl=(P,z,ue,Ae)=>Me(P,ot=>!D(ue.formatter.matchNode(Ae,z+ot))).getOr(""),qm=de(vl,["left","center","right"],"align"),lf=de(vl,["top","middle","bottom"],"valign"),Jx=(P,z)=>{const ue=Lc(P),Ae=Za(P),ot=()=>({borderstyle:en(ue,"border-style").getOr(""),bordercolor:af(en(ue,"border-color").getOr("")),backgroundcolor:af(en(ue,"background-color").getOr(""))}),Vt={height:"",width:"100%",cellspacing:"",cellpadding:"",caption:!1,class:"",align:"",border:""},un=()=>{const Fo=ue["border-width"];return Ss(P)&&Fo?{border:Fo}:en(Ae,"border").fold(()=>({}),es=>({border:es}))},$n=z?ot():{},Vn=()=>{const Fo=en(ue,"border-spacing").or(en(Ae,"cellspacing")).fold(()=>({}),Qo=>({cellspacing:Qo})),es=en(ue,"border-padding").or(en(Ae,"cellpadding")).fold(()=>({}),Qo=>({cellpadding:Qo}));return{...Fo,...es}};return{...Vt,...ue,...Ae,...$n,...un(),...Vn()}},up=P=>jl(cn.fromDom(P)).map(z=>{const ue={selection:Zm(P.cells)};return Wu(z,ue)}).getOr(""),vd=(P,z,ue)=>{const Ae=($n,Vn)=>{const Ko=hl(cn.fromDom(Vn),"border-width");return Ss(P)&&Ko.isSome()?Ko.getOr(""):$n.getAttrib(Vn,"border")||iu(P.dom,Vn,"border-width")||iu(P.dom,Vn,"border")||""},ot=P.dom,Vt=Ss(P)?ot.getStyle(z,"border-spacing")||ot.getAttrib(z,"cellspacing"):ot.getAttrib(z,"cellspacing")||ot.getStyle(z,"border-spacing"),un=Ss(P)?iu(ot,z,"padding")||ot.getAttrib(z,"cellpadding"):ot.getAttrib(z,"cellpadding")||iu(ot,z,"padding");return{width:ot.getStyle(z,"width")||ot.getAttrib(z,"width"),height:ot.getStyle(z,"height")||ot.getAttrib(z,"height"),cellspacing:Vt??"",cellpadding:un??"",border:Ae(ot,z),caption:!!ot.select("caption",z)[0],class:ot.getAttrib(z,"class",""),align:qm(P,z),...ue?cp(z):{}}},cf=(P,z,ue)=>{const Ae=P.dom;return{height:Ae.getStyle(z,"height")||Ae.getAttrib(z,"height"),class:Ae.getAttrib(z,"class",""),type:up(z),align:qm(P,z),...ue?cp(z):{}}},Un=(P,z,ue,Ae)=>{const ot=P.dom,Vt=Ae.getOr(z);return{width:(($n,Vn)=>ot.getStyle($n,Vn)||ot.getAttrib($n,Vn))(Vt,"width"),scope:ot.getAttrib(z,"scope"),celltype:gl(z),class:ot.getAttrib(z,"class",""),halign:qm(P,z),valign:lf(P,z),...ue?cp(z):{}}},Hc=(P,z)=>{const ue=ru.fromTable(P),Ae=ru.justCells(ue),ot=yn(Ae,Vt=>Yt(z,un=>tn(Vt.element,un)));return Jt(ot,Vt=>({element:Vt.element.dom,column:ru.getColumnAt(ue,Vt.column).map(un=>un.element.dom)}))},dp=(P,z,ue,Ae)=>{Ae("scope")&&P.setAttrib("scope",ue.scope),Ae("class")&&ue.class!=="mce-no-match"&&P.setAttrib("class",ue.class),Ae("width")&&z.setStyle("width",Aa(ue.width))},uf=(P,z,ue)=>{ue("backgroundcolor")&&P.setFormat("tablecellbackgroundcolor",z.backgroundcolor),ue("bordercolor")&&P.setFormat("tablecellbordercolor",z.bordercolor),ue("borderstyle")&&P.setFormat("tablecellborderstyle",z.borderstyle),ue("borderwidth")&&P.setFormat("tablecellborderwidth",Aa(z.borderwidth))},pa=(P,z,ue,Ae)=>{const ot=z.length===1;te(z,Vt=>{const un=Vt.element,$n=ot?oe:Ae,Vn=We.normal(P,un),Ko=Vt.column.map(Fo=>We.normal(P,Fo)).getOr(Vn);dp(Vn,Ko,ue,$n),au(P)&&uf(Vn,ue,$n),Ae("halign")&&Ki(P,un,ue.halign),Ae("valign")&&Pl(P,un,ue.valign)})},Uc=(P,z)=>{P.execCommand("mceTableCellType",!1,{type:z.celltype,no_events:!0})},Ym=(P,z,ue,Ae)=>{const ot=I(Ae,(Vt,un)=>ue[un]!==Vt);Ft(ot)>0&&z.length>=1&&jl(z[0]).each(Vt=>{const un=Hc(Vt,z),$n=Ft(I(ot,(Ko,Fo)=>Fo!=="scope"&&Fo!=="celltype"))>0,Vn=ft(ot,"celltype");($n||ft(ot,"scope"))&&pa(P,un,Ae,de(ft,ot)),Vn&&Uc(P,Ae),Qd(P,Vt.dom,{structure:Vn,style:$n})})},df=(P,z,ue,Ae)=>{const ot=Ae.getData();Ae.close(),P.undoManager.transact(()=>{Ym(P,z,ue,ot),P.focus()})},Sb=(P,z)=>{const ue=jl(z[0]).map(Ae=>Jt(Hc(Ae,z),ot=>Un(P,ot.element,au(P),ot.column)));return lc(ue.getOrDie())},mu=P=>{const z=Bi(P);if(z.length===0)return;const ue=Sb(P,z),Ae={type:"tabpanel",tabs:[{title:"General",name:"general",items:L(P)},Y(P,"cell")]},ot={type:"panel",items:[{type:"grid",columns:2,items:L(P)}]};P.windowManager.open({title:"Cell Properties",size:"normal",body:au(P)?Ae:ot,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:ue,onSubmit:de(df,P,z,ue)})},qg=P=>ga(sp(P)).map(z=>({name:"class",type:"listbox",label:"Class",items:z})),Yg=[{type:"listbox",name:"type",label:"Row type",items:[{text:"Header",value:"header"},{text:"Body",value:"body"},{text:"Footer",value:"footer"}]},{type:"listbox",name:"align",label:"Alignment",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},{label:"Height",name:"height",type:"input"}],on=P=>Yg.concat(qg(P).toArray()),Wv=(P,z,ue)=>{ue("class")&&z.class!=="mce-no-match"&&P.setAttrib("class",z.class),ue("height")&&P.setStyle("height",Aa(z.height))},ff=(P,z,ue)=>{ue("backgroundcolor")&&P.setStyle("background-color",z.backgroundcolor),ue("bordercolor")&&P.setStyle("border-color",z.bordercolor),ue("borderstyle")&&P.setStyle("border-style",z.borderstyle)},Wo=(P,z,ue,Ae)=>{const Vt=z.length===1?oe:Ae;te(z,un=>{const $n=_t(cn.fromDom(un),"td,th"),Vn=We.normal(P,un);Wv(Vn,ue,Vt),Ni(P)&&ff(Vn,ue,Vt),Ae("height")&&te($n,Ko=>{P.dom.setStyle(Ko.dom,"height",null)}),Ae("align")&&Ki(P,un,ue.align)})},Xn=(P,z)=>{P.execCommand("mceTableRowType",!1,{type:z.type,no_events:!0})},mf=(P,z,ue,Ae)=>{const ot=I(Ae,(Vt,un)=>ue[un]!==Vt);if(Ft(ot)>0){const Vt=ft(ot,"type"),un=Vt?Ft(ot)>1:!0;un&&Wo(P,z,Ae,de(ft,ot)),Vt&&Xn(P,Ae),jl(cn.fromDom(z[0])).each($n=>Qd(P,$n.dom,{structure:Vt,style:un}))}},Ar=(P,z,ue,Ae)=>{const ot=Ae.getData();Ae.close(),P.undoManager.transact(()=>{mf(P,z,ue,ot),P.focus()})},Wc=P=>{const z=Zg(Vs(P),tm.selected);if(z.length===0)return;const ue=Jt(z,un=>cf(P,un.dom,Ni(P))),Ae=lc(ue),ot={type:"tabpanel",tabs:[{title:"General",name:"general",items:on(P)},Y(P,"row")]},Vt={type:"panel",items:[{type:"grid",columns:2,items:on(P)}]};P.windowManager.open({title:"Row Properties",size:"normal",body:Ni(P)?ot:Vt,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:Ae,onSubmit:de(Ar,P,Jt(z,un=>un.dom),Ae)})},Kc=(P,z,ue)=>{const Ae=ue?[{type:"input",name:"cols",label:"Cols",inputMode:"numeric"},{type:"input",name:"rows",label:"Rows",inputMode:"numeric"}]:[],ot=[{type:"input",name:"width",label:"Width"},{type:"input",name:"height",label:"Height"}],Vt=Nc(P)?[{type:"input",name:"cellspacing",label:"Cell spacing",inputMode:"numeric"},{type:"input",name:"cellpadding",label:"Cell padding",inputMode:"numeric"},{type:"input",name:"border",label:"Border width"},{type:"label",label:"Caption",items:[{type:"checkbox",name:"caption",label:"Show caption"}]}]:[],un=[{type:"listbox",name:"align",label:"Alignment",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]}],$n=z.length>0?[{name:"class",type:"listbox",label:"Class",items:z}]:[];return Ae.concat(ot).concat(Vt).concat(un).concat($n)},To=(P,z,ue,Ae)=>{if(z.tagName==="TD"||z.tagName==="TH")x(ue)&&M(Ae)?P.setStyle(z,ue,Ae):P.setStyles(z,ue);else if(z.children)for(let ot=0;ot<z.children.length;ot++)To(P,z.children[ot],ue,Ae)},Xg=(P,z,ue,Ae)=>{const ot=P.dom,Vt={},un={},$n=Ss(P),Vn=Wn(P),Ko=parseFloat(ue.border)===0;if(!D(ue.class)&&ue.class!=="mce-no-match"&&(Vt.class=ue.class),un.height=Aa(ue.height),$n?un.width=Aa(ue.width):ot.getAttrib(z,"width")&&(Vt.width=Ta(ue.width)),$n?(Ko?(Vt.border=0,un["border-width"]=""):(un["border-width"]=Aa(ue.border),Vt.border=1),un["border-spacing"]=Aa(ue.cellspacing)):(Vt.border=Ko?0:ue.border,Vt.cellpadding=ue.cellpadding,Vt.cellspacing=ue.cellspacing),$n&&z.children){const Fo={};if(Ko?Fo["border-width"]="":Ae.border&&(Fo["border-width"]=Aa(ue.border)),Ae.cellpadding&&(Fo.padding=Aa(ue.cellpadding)),Vn&&Ae.bordercolor&&(Fo["border-color"]=ue.bordercolor),!Ot(Fo))for(let es=0;es<z.children.length;es++)To(ot,z.children[es],Fo)}if(Vn){const Fo=ue;un["background-color"]=Fo.backgroundcolor,un["border-color"]=Fo.bordercolor,un["border-style"]=Fo.borderstyle}ot.setStyles(z,{...Lc(P),...un}),ot.setAttribs(z,{...Za(P),...Vt})},Y1=(P,z,ue,Ae)=>{const ot=P.dom,Vt=Ae.getData(),un=I(Vt,($n,Vn)=>ue[Vn]!==$n);Ae.close(),P.undoManager.transact(()=>{if(!z){const $n=Jr(Vt.cols).getOr(1),Vn=Jr(Vt.rows).getOr(1);P.execCommand("mceInsertTable",!1,{rows:Vn,columns:$n}),z=Ht(Vs(P),Pi(P)).bind(Ko=>jl(Ko,Pi(P))).map(Ko=>Ko.dom).getOrDie()}if(Ft(un)>0){const $n={border:ft(un,"border"),bordercolor:ft(un,"bordercolor"),cellpadding:ft(un,"cellpadding")};Xg(P,z,Vt,$n);const Vn=ot.select("caption",z)[0];(Vn&&!Vt.caption||!Vn&&Vt.caption)&&P.execCommand("mceTableToggleCaption"),Ki(P,z,Vt.align)}if(P.focus(),P.addVisual(),Ft(un)>0){const $n=ft(un,"caption"),Vn=$n?Ft(un)>1:!0;Qd(P,z,{structure:$n,style:Vn})}})},Lt=(P,z)=>{const ue=P.dom;let Ae,ot=Jx(P,Wn(P));z?(ot.cols="1",ot.rows="1",Wn(P)&&(ot.borderstyle="",ot.bordercolor="",ot.backgroundcolor="")):(Ae=ue.getParent(P.selection.getStart(),"table",P.getBody()),Ae?ot=vd(P,Ae,Wn(P)):Wn(P)&&(ot.borderstyle="",ot.bordercolor="",ot.backgroundcolor=""));const Vt=ga(lu(P));Vt.isSome()&&ot.class&&(ot.class=ot.class.replace(/\s*mce\-item\-table\s*/g,""));const un={type:"grid",columns:2,items:Kc(P,Vt.getOr([]),z)},$n=()=>({type:"panel",items:[un]}),Vn=()=>({type:"tabpanel",tabs:[{title:"General",name:"general",items:[un]},Y(P,"table")]}),Ko=Wn(P)?Vn():$n();P.windowManager.open({title:"Table Properties",size:"normal",body:Ko,onSubmit:de(Y1,P,Ae,ot),buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:ot})},Kv=P=>{const z=ue=>{Be(Vs(P))&&ue()};ct({mceTableProps:de(Lt,P,!1),mceTableRowProps:de(Wc,P),mceTableCellProps:de(mu,P),mceInsertTableDialog:de(Lt,P,!0)},(ue,Ae)=>P.addCommand(Ae,()=>z(ue)))},Jg=(P,z)=>Zd(P,z).isSome(),Qg=U,Xm=P=>{const z=(Ae,ot)=>Tn(Ae,ot).exists(Vt=>parseInt(Vt,10)>1),ue=Ae=>z(Ae,"rowspan")||z(Ae,"colspan");return P.length>0&&Re(P,ue)?_e.some(P):_e.none()},rm=(P,z,ue)=>z.length<=1?_e.none():sf(P,ue.firstSelectedSelector,ue.lastSelectedSelector).map(Ae=>({bounds:Ae,cells:z})),X1=P=>({element:P,mergable:_e.none(),unmergable:_e.none(),selection:[P]}),gf=(P,z,ue)=>({element:ue,mergable:rm(z,P,tm),unmergable:Xm(P),selection:Qg(P)}),hr=P=>{const z=Vr(_e.none()),ue=Vr([]);let Ae=_e.none();const ot=Dc("caption"),Vt=ps=>Ae.forall(ti=>!ti[ps]),un=()=>Bc(Vs(P),Pi(P)),$n=()=>Bc(wr(P),Pi(P)),Vn=()=>un().bind(ps=>gs(ns(jl(ps),$n().bind(jl),(ti,Qa)=>tn(ti,Qa)?ot(ps)?_e.some(X1(ps)):_e.some(gf(Bi(P),ti,ps)):_e.none()))),Ko=ps=>jl(ps.element).map(Qa=>{const Gl=ru.fromTable(Qa),Zv=rf(Gl,ps).getOr([]),Gv=it(Zv,(dm,th)=>(th.isLocked&&(dm.onAny=!0,th.column===0?dm.onFirst=!0:th.column+th.colspan>=Gl.grid.columns&&(dm.onLast=!0)),dm),{onAny:!1,onFirst:!1,onLast:!1});return{mergeable:q1(Gl,ps).isSome(),unmergeable:lp(Gl,ps).isSome(),locked:Gv}}),Fo=()=>{z.set(jn(Vn)()),Ae=z.get().bind(Ko),te(ue.get(),q)},es=ps=>(ps(),ue.set(ue.get().concat([ps])),()=>{ue.set(yn(ue.get(),ti=>ti!==ps))}),Qo=(ps,ti)=>es(()=>z.get().fold(()=>{ps.setEnabled(!1)},Qa=>{ps.setEnabled(!ti(Qa)&&P.selection.isEditable())})),ci=(ps,ti,Qa)=>es(()=>z.get().fold(()=>{ps.setEnabled(!1),ps.setActive(!1)},Gl=>{ps.setEnabled(!ti(Gl)&&P.selection.isEditable()),ps.setActive(Qa(Gl))})),Ja=ps=>Ae.exists(ti=>ti.locked[ps]),qr=ps=>Qo(ps,ti=>!1),ju=ps=>Qo(ps,ti=>ot(ti.element)),cm=ps=>ti=>Qo(ti,Qa=>ot(Qa.element)||Ja(ps)),hu=ps=>ti=>Qo(ti,Qa=>ot(Qa.element)||ps().isNone()),eh=(ps,ti)=>Qa=>Qo(Qa,Gl=>ot(Gl.element)||ps().isNone()||Ja(ti)),yd=ps=>Qo(ps,ti=>Vt("mergeable")),mp=ps=>Qo(ps,ti=>Vt("unmergeable")),Jm=ps=>ci(ps,he,ti=>jl(ti.element,Pi(P)).exists(Gl=>Jg(Gl,"caption"))),um=(ps,ti)=>Qa=>ci(Qa,Gl=>ot(Gl.element),()=>P.queryCommandValue(ps)===ti),kb=um("mceTableRowType","header"),jv=um("mceTableColType","th");return P.on("NodeChange ExecCommand TableSelectorChange",Fo),{onSetupTable:qr,onSetupCellOrRow:ju,onSetupColumn:cm,onSetupPasteable:hu,onSetupPasteableColumn:eh,onSetupMergeable:yd,onSetupUnmergeable:mp,resetTargets:Fo,onSetupTableWithCaption:Jm,onSetupTableRowHeaders:kb,onSetupTableColumnHeaders:jv,targets:z.get}};var Ku=tinymce.util.Tools.resolve("tinymce.FakeClipboard");const fp="x-tinymce/dom-table-",gu=fp+"rows",im=fp+"columns",cc=P=>{var z;const ue=(z=Ku.read())!==null&&z!==void 0?z:[];return Qt(ue,Ae=>_e.from(Ae.getType(P)))},Nr=()=>cc(gu),am=()=>cc(im),Fi=P=>z=>{const ue=()=>{z.setEnabled(P.selection.isEditable())};return P.on("NodeChange",ue),ue(),()=>{P.off("NodeChange",ue)}},_b=(P,z)=>{P.ui.registry.addMenuButton("table",{tooltip:"Table",icon:"table",onSetup:Fi(P),fetch:$n=>$n("inserttable | cell row column | advtablesort | tableprops deletetable")});const ue=$n=>()=>P.execCommand($n),Ae=($n,Vn)=>{P.queryCommandSupported(Vn.command)&&P.ui.registry.addButton($n,{...Vn,onAction:H(Vn.onAction)?Vn.onAction:ue(Vn.command)})},ot=($n,Vn)=>{P.queryCommandSupported(Vn.command)&&P.ui.registry.addToggleButton($n,{...Vn,onAction:H(Vn.onAction)?Vn.onAction:ue(Vn.command)})};Ae("tableprops",{tooltip:"Table properties",command:"mceTableProps",icon:"table",onSetup:z.onSetupTable}),Ae("tabledelete",{tooltip:"Delete table",command:"mceTableDelete",icon:"table-delete-table",onSetup:z.onSetupTable}),Ae("tablecellprops",{tooltip:"Cell properties",command:"mceTableCellProps",icon:"table-cell-properties",onSetup:z.onSetupCellOrRow}),Ae("tablemergecells",{tooltip:"Merge cells",command:"mceTableMergeCells",icon:"table-merge-cells",onSetup:z.onSetupMergeable}),Ae("tablesplitcells",{tooltip:"Split cell",command:"mceTableSplitCells",icon:"table-split-cells",onSetup:z.onSetupUnmergeable}),Ae("tableinsertrowbefore",{tooltip:"Insert row before",command:"mceTableInsertRowBefore",icon:"table-insert-row-above",onSetup:z.onSetupCellOrRow}),Ae("tableinsertrowafter",{tooltip:"Insert row after",command:"mceTableInsertRowAfter",icon:"table-insert-row-after",onSetup:z.onSetupCellOrRow}),Ae("tabledeleterow",{tooltip:"Delete row",command:"mceTableDeleteRow",icon:"table-delete-row",onSetup:z.onSetupCellOrRow}),Ae("tablerowprops",{tooltip:"Row properties",command:"mceTableRowProps",icon:"table-row-properties",onSetup:z.onSetupCellOrRow}),Ae("tableinsertcolbefore",{tooltip:"Insert column before",command:"mceTableInsertColBefore",icon:"table-insert-column-before",onSetup:z.onSetupColumn("onFirst")}),Ae("tableinsertcolafter",{tooltip:"Insert column after",command:"mceTableInsertColAfter",icon:"table-insert-column-after",onSetup:z.onSetupColumn("onLast")}),Ae("tabledeletecol",{tooltip:"Delete column",command:"mceTableDeleteCol",icon:"table-delete-column",onSetup:z.onSetupColumn("onAny")}),Ae("tablecutrow",{tooltip:"Cut row",command:"mceTableCutRow",icon:"cut-row",onSetup:z.onSetupCellOrRow}),Ae("tablecopyrow",{tooltip:"Copy row",command:"mceTableCopyRow",icon:"duplicate-row",onSetup:z.onSetupCellOrRow}),Ae("tablepasterowbefore",{tooltip:"Paste row before",command:"mceTablePasteRowBefore",icon:"paste-row-before",onSetup:z.onSetupPasteable(Nr)}),Ae("tablepasterowafter",{tooltip:"Paste row after",command:"mceTablePasteRowAfter",icon:"paste-row-after",onSetup:z.onSetupPasteable(Nr)}),Ae("tablecutcol",{tooltip:"Cut column",command:"mceTableCutCol",icon:"cut-column",onSetup:z.onSetupColumn("onAny")}),Ae("tablecopycol",{tooltip:"Copy column",command:"mceTableCopyCol",icon:"duplicate-column",onSetup:z.onSetupColumn("onAny")}),Ae("tablepastecolbefore",{tooltip:"Paste column before",command:"mceTablePasteColBefore",icon:"paste-column-before",onSetup:z.onSetupPasteableColumn(am,"onFirst")}),Ae("tablepastecolafter",{tooltip:"Paste column after",command:"mceTablePasteColAfter",icon:"paste-column-after",onSetup:z.onSetupPasteableColumn(am,"onLast")}),Ae("tableinsertdialog",{tooltip:"Insert table",command:"mceInsertTableDialog",icon:"table",onSetup:Fi(P)});const Vt=_c(lu(P));Vt.length!==0&&P.queryCommandSupported("mceTableToggleClass")&&P.ui.registry.addMenuButton("tableclass",{icon:"table-classes",tooltip:"Table styles",fetch:fu(P,Vt,"tableclass",$n=>P.execCommand("mceTableToggleClass",!1,$n)),onSetup:z.onSetupTable});const un=_c(Xf(P));un.length!==0&&P.queryCommandSupported("mceTableCellToggleClass")&&P.ui.registry.addMenuButton("tablecellclass",{icon:"table-cell-classes",tooltip:"Cell styles",fetch:fu(P,un,"tablecellclass",$n=>P.execCommand("mceTableCellToggleClass",!1,$n)),onSetup:z.onSetupCellOrRow}),P.queryCommandSupported("mceTableApplyCellStyle")&&(P.ui.registry.addMenuButton("tablecellvalign",{icon:"vertical-align",tooltip:"Vertical align",fetch:fu(P,Sr,"tablecellverticalalign",Nl(P,"vertical-align")),onSetup:z.onSetupCellOrRow}),P.ui.registry.addMenuButton("tablecellborderwidth",{icon:"border-width",tooltip:"Border width",fetch:fu(P,ai(P),"tablecellborderwidth",Nl(P,"border-width")),onSetup:z.onSetupCellOrRow}),P.ui.registry.addMenuButton("tablecellborderstyle",{icon:"border-style",tooltip:"Border style",fetch:fu(P,ja(P),"tablecellborderstyle",Nl(P,"border-style")),onSetup:z.onSetupCellOrRow}),P.ui.registry.addMenuButton("tablecellbackgroundcolor",{icon:"cell-background-color",tooltip:"Background color",fetch:$n=>$n(bd(P,Ia(P),"background-color")),onSetup:z.onSetupCellOrRow}),P.ui.registry.addMenuButton("tablecellbordercolor",{icon:"cell-border-color",tooltip:"Border color",fetch:$n=>$n(bd(P,Wm(P),"border-color")),onSetup:z.onSetupCellOrRow})),ot("tablecaption",{tooltip:"Table caption",icon:"table-caption",command:"mceTableToggleCaption",onSetup:z.onSetupTableWithCaption}),ot("tablerowheader",{tooltip:"Row header",icon:"table-top-header",command:"mceTableRowType",onAction:om(P),onSetup:z.onSetupTableRowHeaders}),ot("tablecolheader",{tooltip:"Column header",icon:"table-left-header",command:"mceTableColType",onAction:Gg(P),onSetup:z.onSetupTableColumnHeaders})},jc=P=>{const z=Ae=>P.dom.is(Ae,"table")&&P.getBody().contains(Ae)&&P.dom.isEditable(Ae.parentNode),ue=ss(P);ue.length>0&&P.ui.registry.addContextToolbar("table",{predicate:z,items:ue,scope:"node",position:"node"})},Ai=P=>z=>{const ue=()=>{z.setEnabled(P.selection.isEditable())};return P.on("NodeChange",ue),ue(),()=>{P.off("NodeChange",ue)}},an=(P,z)=>{const ue=es=>()=>P.execCommand(es),Ae=(es,Qo)=>P.queryCommandSupported(Qo.command)?(P.ui.registry.addMenuItem(es,{...Qo,onAction:H(Qo.onAction)?Qo.onAction:ue(Qo.command)}),!0):!1,ot=(es,Qo)=>{P.queryCommandSupported(Qo.command)&&P.ui.registry.addToggleMenuItem(es,{...Qo,onAction:H(Qo.onAction)?Qo.onAction:ue(Qo.command)})},Vt=es=>{P.execCommand("mceInsertTable",!1,{rows:es.numRows,columns:es.numColumns})},un=[Ae("tableinsertrowbefore",{text:"Insert row before",icon:"table-insert-row-above",command:"mceTableInsertRowBefore",onSetup:z.onSetupCellOrRow}),Ae("tableinsertrowafter",{text:"Insert row after",icon:"table-insert-row-after",command:"mceTableInsertRowAfter",onSetup:z.onSetupCellOrRow}),Ae("tabledeleterow",{text:"Delete row",icon:"table-delete-row",command:"mceTableDeleteRow",onSetup:z.onSetupCellOrRow}),Ae("tablerowprops",{text:"Row properties",icon:"table-row-properties",command:"mceTableRowProps",onSetup:z.onSetupCellOrRow}),Ae("tablecutrow",{text:"Cut row",icon:"cut-row",command:"mceTableCutRow",onSetup:z.onSetupCellOrRow}),Ae("tablecopyrow",{text:"Copy row",icon:"duplicate-row",command:"mceTableCopyRow",onSetup:z.onSetupCellOrRow}),Ae("tablepasterowbefore",{text:"Paste row before",icon:"paste-row-before",command:"mceTablePasteRowBefore",onSetup:z.onSetupPasteable(Nr)}),Ae("tablepasterowafter",{text:"Paste row after",icon:"paste-row-after",command:"mceTablePasteRowAfter",onSetup:z.onSetupPasteable(Nr)})],$n=[Ae("tableinsertcolumnbefore",{text:"Insert column before",icon:"table-insert-column-before",command:"mceTableInsertColBefore",onSetup:z.onSetupColumn("onFirst")}),Ae("tableinsertcolumnafter",{text:"Insert column after",icon:"table-insert-column-after",command:"mceTableInsertColAfter",onSetup:z.onSetupColumn("onLast")}),Ae("tabledeletecolumn",{text:"Delete column",icon:"table-delete-column",command:"mceTableDeleteCol",onSetup:z.onSetupColumn("onAny")}),Ae("tablecutcolumn",{text:"Cut column",icon:"cut-column",command:"mceTableCutCol",onSetup:z.onSetupColumn("onAny")}),Ae("tablecopycolumn",{text:"Copy column",icon:"duplicate-column",command:"mceTableCopyCol",onSetup:z.onSetupColumn("onAny")}),Ae("tablepastecolumnbefore",{text:"Paste column before",icon:"paste-column-before",command:"mceTablePasteColBefore",onSetup:z.onSetupPasteableColumn(am,"onFirst")}),Ae("tablepastecolumnafter",{text:"Paste column after",icon:"paste-column-after",command:"mceTablePasteColAfter",onSetup:z.onSetupPasteableColumn(am,"onLast")})],Vn=[Ae("tablecellprops",{text:"Cell properties",icon:"table-cell-properties",command:"mceTableCellProps",onSetup:z.onSetupCellOrRow}),Ae("tablemergecells",{text:"Merge cells",icon:"table-merge-cells",command:"mceTableMergeCells",onSetup:z.onSetupMergeable}),Ae("tablesplitcells",{text:"Split cell",icon:"table-split-cells",command:"mceTableSplitCells",onSetup:z.onSetupUnmergeable})];Mc(P)?P.ui.registry.addNestedMenuItem("inserttable",{text:"Table",icon:"table",getSubmenuItems:()=>[{type:"fancymenuitem",fancytype:"inserttable",onAction:Vt}],onSetup:Ai(P)}):P.ui.registry.addMenuItem("inserttable",{text:"Table",icon:"table",onAction:ue("mceInsertTableDialog"),onSetup:Ai(P)}),P.ui.registry.addMenuItem("inserttabledialog",{text:"Insert table",icon:"table",onAction:ue("mceInsertTableDialog"),onSetup:Ai(P)}),Ae("tableprops",{text:"Table properties",onSetup:z.onSetupTable,command:"mceTableProps"}),Ae("deletetable",{text:"Delete table",icon:"table-delete-table",onSetup:z.onSetupTable,command:"mceTableDelete"}),Yn(un,!0)&&P.ui.registry.addNestedMenuItem("row",{type:"nestedmenuitem",text:"Row",getSubmenuItems:re("tableinsertrowbefore tableinsertrowafter tabledeleterow tablerowprops | tablecutrow tablecopyrow tablepasterowbefore tablepasterowafter")}),Yn($n,!0)&&P.ui.registry.addNestedMenuItem("column",{type:"nestedmenuitem",text:"Column",getSubmenuItems:re("tableinsertcolumnbefore tableinsertcolumnafter tabledeletecolumn | tablecutcolumn tablecopycolumn tablepastecolumnbefore tablepastecolumnafter")}),Yn(Vn,!0)&&P.ui.registry.addNestedMenuItem("cell",{type:"nestedmenuitem",text:"Cell",getSubmenuItems:re("tablecellprops tablemergecells tablesplitcells")}),P.ui.registry.addContextMenu("table",{update:()=>(z.resetTargets(),z.targets().fold(re(""),es=>Go(es.element)==="caption"?"tableprops deletetable":"cell row column | advtablesort | tableprops deletetable"))});const Ko=_c(lu(P));Ko.length!==0&&P.queryCommandSupported("mceTableToggleClass")&&P.ui.registry.addNestedMenuItem("tableclass",{icon:"table-classes",text:"Table styles",getSubmenuItems:()=>ha(P,Ko,"tableclass",es=>P.execCommand("mceTableToggleClass",!1,es)),onSetup:z.onSetupTable});const Fo=_c(Xf(P));Fo.length!==0&&P.queryCommandSupported("mceTableCellToggleClass")&&P.ui.registry.addNestedMenuItem("tablecellclass",{icon:"table-cell-classes",text:"Cell styles",getSubmenuItems:()=>ha(P,Fo,"tablecellclass",es=>P.execCommand("mceTableCellToggleClass",!1,es)),onSetup:z.onSetupCellOrRow}),P.queryCommandSupported("mceTableApplyCellStyle")&&(P.ui.registry.addNestedMenuItem("tablecellvalign",{icon:"vertical-align",text:"Vertical align",getSubmenuItems:()=>ha(P,Sr,"tablecellverticalalign",Nl(P,"vertical-align")),onSetup:z.onSetupCellOrRow}),P.ui.registry.addNestedMenuItem("tablecellborderwidth",{icon:"border-width",text:"Border width",getSubmenuItems:()=>ha(P,ai(P),"tablecellborderwidth",Nl(P,"border-width")),onSetup:z.onSetupCellOrRow}),P.ui.registry.addNestedMenuItem("tablecellborderstyle",{icon:"border-style",text:"Border style",getSubmenuItems:()=>ha(P,ja(P),"tablecellborderstyle",Nl(P,"border-style")),onSetup:z.onSetupCellOrRow}),P.ui.registry.addNestedMenuItem("tablecellbackgroundcolor",{icon:"cell-background-color",text:"Background color",getSubmenuItems:()=>bd(P,Ia(P),"background-color"),onSetup:z.onSetupCellOrRow}),P.ui.registry.addNestedMenuItem("tablecellbordercolor",{icon:"cell-border-color",text:"Border color",getSubmenuItems:()=>bd(P,Wm(P),"border-color"),onSetup:z.onSetupCellOrRow})),ot("tablecaption",{icon:"table-caption",text:"Table caption",command:"mceTableToggleCaption",onSetup:z.onSetupTableWithCaption}),ot("tablerowheader",{text:"Row header",icon:"table-top-header",command:"mceTableRowType",onAction:om(P),onSetup:z.onSetupTableRowHeaders}),ot("tablecolheader",{text:"Column header",icon:"table-left-header",command:"mceTableColType",onAction:Gg(P),onSetup:z.onSetupTableRowHeaders})},lm=P=>{const z=hr(P);hd(P),Kv(P),an(P,z),_b(P,z),jc(P)};var Zi=()=>{t.add("table",lm)};Zi()}()),MX}var BX;function dSe(){return BX||(BX=1,uSe()),NX}dSe();var FX={},$X={},VX;function fSe(){return VX||(VX=1,function(){var t=tinymce.util.Tools.resolve("tinymce.PluginManager"),r=tinymce.util.Tools.resolve("tinymce.Env");const i=Z=>Q=>Q.options.get(Z),u=Z=>{const Q=Z.options.register;Q("pagebreak_separator",{processor:"string",default:"<!-- pagebreak -->"}),Q("pagebreak_split_block",{processor:"boolean",default:!1})},g=i("pagebreak_separator"),h=i("pagebreak_split_block"),x="mce-pagebreak",w=Z=>{const Q=`<img src="${r.transparentSrc}" class="${x}" data-mce-resize="false" data-mce-placeholder />`;return Z?`<p>${Q}</p>`:Q},R=Z=>{const Q=g(Z),re=()=>h(Z),U=new RegExp(Q.replace(/[\?\.\*\[\]\(\)\{\}\+\^\$\:]/g,ge=>"\\"+ge),"gi");Z.on("BeforeSetContent",ge=>{ge.content=ge.content.replace(U,w(re()))}),Z.on("PreInit",()=>{Z.serializer.addNodeFilter("img",ge=>{let de=ge.length,q,he;for(;de--;)if(q=ge[de],he=q.attr("class"),he&&he.indexOf(x)!==-1){const oe=q.parent;if(oe&&Z.schema.getBlockElements()[oe.name]&&re()){oe.type=3,oe.value=Q,oe.raw=!0,q.remove();continue}q.type=3,q.value=Q,q.raw=!0}})})},D=Z=>{Z.addCommand("mcePageBreak",()=>{Z.insertContent(w(h(Z)))})},O=Z=>{Z.on("ResolveName",Q=>{Q.target.nodeName==="IMG"&&Z.dom.hasClass(Q.target,x)&&(Q.name="pagebreak")})},M=Z=>Q=>{const re=()=>{Q.setEnabled(Z.selection.isEditable())};return Z.on("NodeChange",re),re(),()=>{Z.off("NodeChange",re)}},H=Z=>{const Q=()=>Z.execCommand("mcePageBreak");Z.ui.registry.addButton("pagebreak",{icon:"page-break",tooltip:"Page break",onAction:Q,onSetup:M(Z)}),Z.ui.registry.addMenuItem("pagebreak",{text:"Page break",icon:"page-break",onAction:Q,onSetup:M(Z)})};var K=()=>{t.add("pagebreak",Z=>{u(Z),D(Z),H(Z),R(Z),O(Z)})};K()}()),$X}var zX;function mSe(){return zX||(zX=1,fSe()),FX}mSe();const F6="extended",gSe="three";let _v,HX;const{t:Xr}=ud.global;class Ane{constructor(r){Tt(this,"editor_id",null);Tt(this,"editor",null);Tt(this,"scroll_top",0);Tt(this,"scroll_left",0);Tt(this,"wordCount",Ln(0));Tt(this,"characterCount",Ln(0));this.editor_id=r,Oe.settings(),_v=Oe.preferences(),HX=Oe.snippets()}getInit(){return{license_key:"gpl",language:"de",height:"100%",menubar:!1,statusbar:!1,elementpath:!1,body_class:"xlas-content headlines-three",plugins:"lists charmap wordcount table pagebreak",toolbar:this.tinyToolbar(F6),valid_elements:this.tinyValidElements(F6),valid_styles:this.tinyValidStyles(F6),formats:this.tinyFormats(),style_formats:this.tinyStyleFormats(F6,gSe),custom_undo_redo_levels:10,text_patterns:!1,skin_url:"default",content_css:"default",content_style:eSe.toString(),browser_spellcheck:!0,highlight_on_focus:!0,iframe_aria_text:Xr("tinyHelperIframeAriaText"),paste_as_text:!1,paste_block_drop:!0,paste_merge_formats:!0,paste_tab_spaces:4,smart_paste:!1,paste_data_images:!1,paste_remove_styles_if_webkit:!0,paste_webkit_styles:"none",table_appearance_options:!1,table_advtab:!1,table_cell_advtab:!1,table_row_advtab:!1,table_sizing_mode:"responsive",table_default_styles:{},table_default_attributes:{},table_resize_bars:!1,table_toolbar:"tabledelete | tableinsertrowbefore tableinsertrowafter tabledeleterow | tableinsertcolbefore tableinsertcolafter tabledeletecol",setup:(function(r){r.ui.registry.addButton("zoomOut",{tooltip:"Verkleinern",icon:"zoom-out",onAction:this.zoomOut.bind(this)}),r.ui.registry.addButton("zoomIn",{tooltip:"Vergrern",icon:"zoom-in",onAction:this.zoomIn.bind(this)}),r.ui.registry.addButton("openSnippets",{tooltip:"Textbausteine",icon:"plus",onAction:this.openSnippets.bind(this)})}).bind(this)}}init(){this.editor=oSe.get(this.editor_id),this.editor.getWin().addEventListener("scroll",this.saveScrolling.bind(this)),this.applyZoom(),this.applyFormat()}zoomIn(){_v.zoomSummaryTextIn(),this.applyZoom()}zoomOut(){_v.zoomSummaryTextOut(),this.applyZoom()}openSnippets(){HX.openSelection(Au.FOR_SUMMARY,null,this.editor.selection.getContent())}async applyFocus(){try{await ys(),this.editor.focus()}catch{}}applyFormat(){for(const r of document.getElementsByClassName("tox-tinymce-aux"))r.classList.add("headlines-three")}applyZoom(){try{const r=this.editor;r&&(r.dom.setStyle(r.dom.doc.body,"font-size",_v.summary_text_zoom+"rem"),r.dom.setStyle(r.dom.select("h1"),"font-size",_v.summary_text_zoom*1.3+"rem"),r.dom.setStyle(r.dom.select("h2"),"font-size",_v.summary_text_zoom*1.15+"rem"),r.dom.setStyle(r.dom.select("h3"),"font-size",_v.summary_text_zoom+"rem"),r.dom.setStyle(r.dom.select("h4"),"font-size",_v.summary_text_zoom+"rem"),r.dom.setStyle(r.dom.select("h5"),"font-size",_v.summary_text_zoom+"rem"),r.dom.setStyle(r.dom.select("h6"),"font-size",_v.summary_text_zoom+"rem"))}catch{}}saveScrolling(){const r=this.editor.getWin();(r.scrollX>0||r.scrollY>0)&&(this.scroll_left=r.scrollX,this.scroll_top=r.scrollY)}restoreScrolling(){try{this.editor.getWin().scroll({left:this.scroll_left,top:this.scroll_top})}catch(r){console.log(r)}}applyScrolling(){try{const r=this.editor.selection.getNode(),i=r.getBoundingClientRect(),u=this.editor.getContentAreaContainer().getBoundingClientRect();(i.top<u.top||i.bottom>u.bottom||i.right>u.right||i.left<u.left)&&r.scrollIntoView({behavior:"smooth",block:"nearest"})}catch(r){console.log(r)}}insertContent(r){try{this.editor.insertContent(r)}catch(i){console.log(i)}}tinyToolbar(r){switch(r){case"extended":return"undo redo styles bold italic underline bullist numlist indent outdent forecolor backcolor removeformat charmap table pagebreak wordcount";case"full":return"undo redo styles bold italic underline bullist numlist removeformat charmap wordcount";case"medium":return"undo redo bold italic underline bullist numlistremoveformat charmap wordcount";case"minimal":return"undo redo bold italic underline removeformat charmap wordcount";case"none":default:return"undo redo charmap wordcount"}}tinyValidElements(r){switch(r){case"extended":return"@[style|border|colspan|rowspan],p/div,br,strong/b,em/i,u,s,ol,ul,li,h1,h2,h3,h4,h5,h6,pre,code,blockquote,span,sub,sup,table,thead,tbody,th,tr,td,hr,img[class<mce-pagebreak|src|data-mce-resize|data-mce-placeholder|data-mce-selected]";case"full":return"p/div,br,strong/b,em/i,u,ol,ul,li,h1,h2,h3,h4,h5,h6,pre";case"medium":return"p/div,br,strong/b,em/i,u,ol,ul,li";case"minimal":return"p/div,p/li,br,strong/b,em/i,u";case"none":default:return"p/div,p/li,br"}}tinyValidStyles(r){switch(r){case"extended":return{"*":"background-color,color,text-align,mce-pagebreak,padding-left"};default:return{}}}tinyStyleFormats(r,i){const u={title:Xr("settingsHeadings"),items:[]};switch(i){case"single":u.items=[{title:Xr("settingsHeadings"),format:"h1"}];break;case"three":u.items=[{title:Xr("settingsHeading1"),format:"h1"},{title:Xr("settingsHeading2"),format:"h2"},{title:Xr("settingsHeading3"),format:"h3"}];break;default:u.items=[{title:Xr("settingsHeading1"),format:"h1"},{title:Xr("settingsHeading2"),format:"h2"},{title:Xr("settingsHeading3"),format:"h3"},{title:Xr("settingsHeading4"),format:"h4"},{title:Xr("settingsHeading5"),format:"h5"},{title:Xr("settingsHeading6"),format:"h6"}]}const g={title:Xr("settingsInline"),items:[]};switch(r){case"extended":g.items=[{title:Xr("settingsBold"),format:"bold"},{title:Xr("settingsItalic"),format:"italic"},{title:Xr("settingsUnderline"),format:"underline"},{title:Xr("settingsStrikethrough"),format:"strikethrough"},{title:Xr("settingsSuperscript"),format:"superscript"},{title:Xr("settingsSubscript"),format:"subscript"},{title:Xr("settingsCode"),format:"code"}];break;case"full":case"medium":case"minimal":g.items=[{title:Xr("settingsBold"),format:"bold"},{title:Xr("settingsItalic"),format:"italic"},{title:Xr("settingsUnderline"),format:"underline"}];break}const h={title:Xr("settingsBlocks"),items:[]};switch(r){case"extended":h.items=[{title:Xr("settingsParagraph"),format:"p"},{title:Xr("settingsBlockquote"),format:"blockquote"},{title:Xr("settingsPre"),format:"pre"}];break;case"full":h.items=[{title:Xr("settingsParagraph"),format:"p"},{title:Xr("settingsPre"),format:"pre"}];break;case"medium":case"minimal":h.items=[{title:Xr("settingsParagraph"),format:"p"}];break}const x={title:Xr("settingsAlign"),items:[]};switch(r){case"extended":x.items=[{title:Xr("settingsAlignLeft"),format:"alignleft"},{title:Xr("settingsAlignCenter"),format:"aligncenter"},{title:Xr("settingsAlignRight"),format:"alignright"},{title:Xr("settingsAlignJustify"),format:"alignjustify"}];break}const w=[];return u.items.length&&w.push(u),g.items.length&&w.push(g),h.items.length&&w.push(h),x.items.length&&w.push(x),w}tinyFormats(){return{underline:{inline:"u",remove:"all"},strikethrough:{inline:"s",remove:"all"}}}}const hSe={class:"app-own-summary-text-wrapper"},pSe=["for"],bSe={__name:"OwnSummaryText",props:["editorId"],setup(t){const r=Oe.summaries();Oe.preferences();const i=Oe.layout(),u=Oe.snippets(),g=t,h=new Ane(g.editorId);Fn(()=>i.focusChange,w);function x(){h.init()}async function w(){i.focusTarget=="ownSummary"&&(h.applyFocus(),await ys(),h.restoreScrolling())}function R(){r.updateContent(!0),h.applyZoom()}function D(){r.updateContent(!0)}function O(){switch(event.key){case"F1":event.preventDefault(),h.openSnippets();break;default:i.handleKeyDown(event)}}async function M(){if(!u.selection_open&&u.open_for_purpose==Au.FOR_SUMMARY&&(await w(),u.insert_text)){const H=u.insert_text;u.insert_text="",h.insertContent(H)}}return Fn(()=>u.selection_open,M),(H,K)=>(Xt(),mo("div",hSe,[ie("label",{for:g.editorId,class:"hidden"},He(H.$t("ownSummaryTextHiddenField")),9,pSe),ne(r).isOwnDisabled?Jn("",!0):(Xt(),Yo(ne(Tne),{key:0,id:g.editorId,modelValue:ne(r).editSummary.text,"onUpdate:modelValue":K[0]||(K[0]=Z=>ne(r).editSummary.text=Z),onInit:x,onChange:R,onKeyup:D,onKeydown:O,onScroll:ne(h).saveScrolling,licenseKey:"gpl",init:ne(h).getInit()},null,8,["id","modelValue","onScroll","init"]))]))}},One=Ea(bSe,[["__scopeId","data-v-3a896f32"]]),vSe={id:"app-own-summary-template-wrapper"},ySe=["innerHTML"],xSe={__name:"OwnSummaryTemplate",setup(t){const{t:r}=ud.global;Oe.api(),Oe.summaries(),Oe.settings(),Oe.layout();const i=Ln(!1);async function u(){const x=Oe.templates().currentTemplate;x!=null&&x.hasContent&&(Oe.summaries().editSummary.text=x.content,h())}function g(){i.value=!0}function h(){i.value=!1}return(x,w)=>{var R;return Xt(),mo("span",vSe,[(R=ne(Oe).templates().currentTemplate)!=null&&R.hasContent?(Xt(),Yo(Io,{key:0,class:"headline-button",flat:"",onClick:g},{default:xt(()=>[ce(Gn,{left:"",icon:"mdi-file-star-outline"}),ie("span",null,He(x.$t("ownSummaryTemplate")+"..."),1)]),_:1})):Jn("",!0),ce(Mg,{"max-width":"60em",persistent:"",modelValue:i.value,"onUpdate:modelValue":w[0]||(w[0]=D=>i.value=D)},{default:xt(()=>[ce(Ng,{class:"pa-4"},{default:xt(()=>[ce(I1,null,{default:xt(()=>[Ts(He(x.$t("ownSummaryTemplateAdoptLong")),1)]),_:1}),ce(Nm,null,{default:xt(()=>{var D;return[ce(Dg,{color:"#0000A0",type:"info",variant:"text",density:"compact"},{default:xt(()=>[Ts(He(x.$t("ownSummaryTemplateMessage")),1)]),_:1}),ie("div",{class:"appText xlas-content headlines-three",innerHTML:(D=ne(Oe).templates().currentTemplate)==null?void 0:D.content},null,8,ySe)]}),_:1}),ce(Pm,null,{default:xt(()=>[ce(Io,{onClick:u},{default:xt(()=>[ce(Gn,{left:"",icon:"mdi-close"}),ie("span",null,He(x.$t("ownSummaryTemplateAdoptShort")),1)]),_:1}),ce(Io,{onClick:h},{default:xt(()=>[ce(Gn,{left:"",icon:"mdi-close"}),ie("span",null,He(x.$t("allClose")),1)]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])])}}},Rne=Ea(xSe,[["__scopeId","data-v-bde782ea"]]);function wSe(){function t(i){var g,h;return[...((g=i.dataTransfer)==null?void 0:g.items)??[]].filter(x=>x.kind==="file").map(x=>x.webkitGetAsEntry()).filter(Boolean).length>0||[...((h=i.dataTransfer)==null?void 0:h.files)??[]].length>0}async function r(i){var h,x;const u=[],g=[...((h=i.dataTransfer)==null?void 0:h.items)??[]].filter(w=>w.kind==="file").map(w=>w.webkitGetAsEntry()).filter(Boolean);if(g.length)for(const w of g){const R=await Ine(w,Dne(".",w));u.push(...R.map(D=>D.file))}else u.push(...((x=i.dataTransfer)==null?void 0:x.files)??[]);return u}return{handleDrop:r,hasFilesOrFolders:t}}function Ine(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return new Promise((i,u)=>{t.isFile?t.file(h=>i([{file:h,path:r}]),u):t.isDirectory&&t.createReader().readEntries(async h=>{const x=[];for(const w of h)x.push(...await Ine(w,Dne(r,w)));i(x)})})}function Dne(t,r){return r.isDirectory?`${t}/${r.name}`:t}const CSe=qn({chips:Boolean,counter:Boolean,counterSizeString:{type:String,default:"$vuetify.fileInput.counterSize"},counterString:{type:String,default:"$vuetify.fileInput.counter"},hideInput:Boolean,multiple:Boolean,showSize:{type:[Boolean,Number,String],default:!1,validator:t=>typeof t=="boolean"||[1e3,1024].includes(Number(t))},...SI({prependIcon:"$file"}),modelValue:{type:[Array,Object],default:t=>t.multiple?[]:null,validator:t=>Wd(t).every(r=>r!=null&&typeof r=="object")},...f8({clearable:!0})},"VFileInput"),SSe=ts()({name:"VFileInput",inheritAttrs:!1,props:CSe(),emits:{"click:control":t=>!0,"mousedown:control":t=>!0,"update:focused":t=>!0,"update:modelValue":t=>!0},setup(t,r){let{attrs:i,emit:u,slots:g}=r;const{t:h}=zE(),x=ra(t,"modelValue",t.modelValue,gt=>Wd(gt),gt=>!t.multiple&&Array.isArray(gt)?gt[0]:gt),{isFocused:w,focus:R,blur:D}=CI(t),O=Mt(()=>typeof t.showSize!="boolean"?t.showSize:void 0),M=Mt(()=>(x.value??[]).reduce((gt,Ft)=>{let{size:en=0}=Ft;return gt+en},0)),H=Mt(()=>Aq(M.value,O.value)),K=Mt(()=>(x.value??[]).map(gt=>{const{name:Ft="",size:en=0}=gt;return t.showSize?`${Ft} (${Aq(en,O.value)})`:Ft})),Z=Mt(()=>{var Ft;const gt=((Ft=x.value)==null?void 0:Ft.length)??0;return t.showSize?h(t.counterSizeString,gt,H.value):h(t.counterString,gt)}),Q=Ln(),re=Ln(),U=Ln(),ge=En(()=>w.value||t.active),de=Mt(()=>["plain","underlined"].includes(t.variant)),q=Do(!1),{handleDrop:he,hasFilesOrFolders:oe}=wSe();function _e(){var gt;U.value!==document.activeElement&&((gt=U.value)==null||gt.focus()),w.value||R()}function Ue(gt){var Ft;(Ft=U.value)==null||Ft.click()}function Qe(gt){u("mousedown:control",gt)}function ct(gt){var Ft;(Ft=U.value)==null||Ft.click(),u("click:control",gt)}function Ce(gt){gt.stopPropagation(),_e(),ys(()=>{x.value=[],jF(t["onClick:clear"],gt)})}function Te(gt){gt.preventDefault(),gt.stopImmediatePropagation(),q.value=!0}function I(gt){gt.preventDefault(),q.value=!1}async function dt(gt){if(gt.preventDefault(),gt.stopImmediatePropagation(),q.value=!1,!U.value||!oe(gt))return;const Ft=new DataTransfer;for(const en of await he(gt))Ft.items.add(en);U.value.files=Ft.files,U.value.dispatchEvent(new Event("change",{bubbles:!0}))}return Fn(x,gt=>{(!Array.isArray(gt)||!gt.length)&&U.value&&(U.value.value="")}),$s(()=>{const gt=!!(g.counter||t.counter),Ft=!!(gt||g.details),[en,ft]=hI(i),{modelValue:Rn,...Ot}=Zx.filterProps(t),rt=NE.filterProps(t);return ce(Zx,Xo({ref:Q,modelValue:t.multiple?x.value:x.value[0],class:["v-file-input",{"v-file-input--chips":!!t.chips,"v-file-input--dragging":q.value,"v-file-input--hide":t.hideInput,"v-input--plain-underlined":de.value},t.class],style:t.style,"onClick:prepend":Ue},en,Ot,{centerAffix:!de.value,focused:w.value}),{...g,default:Ve=>{let{id:bt,isDisabled:Yn,isDirty:Yt,isReadonly:Bn,isValid:Jt}=Ve;return ce(NE,Xo({ref:re,"prepend-icon":t.prependIcon,onMousedown:Qe,onClick:ct,"onClick:clear":Ce,"onClick:prependInner":t["onClick:prependInner"],"onClick:appendInner":t["onClick:appendInner"]},rt,{id:bt.value,active:ge.value||Yt.value,dirty:Yt.value||t.dirty,disabled:Yn.value,focused:w.value,error:Jt.value===!1,onDragover:Te,onDrop:dt}),{...g,default:te=>{var yn;let{props:{class:vo,...nn}}=te;return ie(ms,null,[ie("input",Xo({ref:U,type:"file",readonly:Bn.value,disabled:Yn.value,multiple:t.multiple,name:t.name,onClick:qe=>{qe.stopPropagation(),Bn.value&&qe.preventDefault(),_e()},onChange:qe=>{if(!qe.target)return;const it=qe.target;x.value=[...it.files??[]]},onDragleave:I,onFocus:_e,onBlur:D},nn,ft),null),ie("div",{class:xo(vo)},[!!((yn=x.value)!=null&&yn.length)&&!t.hideInput&&(g.selection?g.selection({fileNames:K.value,totalBytes:M.value,totalBytesReadable:H.value}):t.chips?K.value.map(qe=>ce(hK,{key:qe,size:"small",text:qe},null)):K.value.join(", "))])])}})},details:Ft?Ve=>{var bt,Yn;return ie(ms,null,[(bt=g.details)==null?void 0:bt.call(g,Ve),gt&&ie(ms,null,[ie("span",null,null),ce(yK,{active:!!((Yn=x.value)!=null&&Yn.length),value:Z.value,disabled:t.disabled},g.counter)])])}:void 0})}),Xx({},Q,re,U)}}),_Se={id:"app-own-summary-upload-wrapper"},kSe={key:0,class:"mt-4"},ESe={__name:"OwnSummaryUpload",setup(t){const{t:r}=ud.global,i=Oe.api(),u=Oe.summaries(),g=Oe.settings();Oe.layout();const h=Ln(null),x=Ln(0),w=Ln(""),R=Ln(!1),D=Ln(!1),O=Ln(!1),M=Ln(!1);function H(U){x.value=Math.round(100*U.loaded/U.total)}async function K(){if(!h.value){w.value="Bitte whlen Sie eine Datei",R.value=!1;return}const U=await i.sendSummaryPdf(u.editSummary,h.value,H);if(U){u.editSummary.pdf=U,u.editSummary.text="",Q();return}w.value="Fehler beim Hochladen!",R.value=!1,x.value=0}function Z(){u.editSummary.text?D.value=!0:O.value=!0}function Q(){w.value="",R.value=!1,h.value=null,x.value=0,O.value=!1}function re(){u.editSummary.pdf=null,M.value=!1}return(U,ge)=>(Xt(),mo("span",_Se,[ne(u).editSummary.pdf?Jn("",!0):(Xt(),Yo(Io,{key:0,class:"headline-button",flat:"",onClick:Z},{default:xt(()=>[ce(Gn,{left:"",icon:"mdi-upload"}),ie("span",null,He(U.$t("allUpload")+"..."),1)]),_:1})),ne(u).editSummary.pdf?(Xt(),Yo(Io,{key:1,class:"headline-button",flat:"",onClick:ge[0]||(ge[0]=de=>M.value=!0)},{default:xt(()=>[ce(Gn,{left:"",icon:"mdi-delete-outline"}),ie("span",null,He(U.$t("allDelete")+"..."),1)]),_:1})):Jn("",!0),ce(Mg,{"max-width":"60em",persistent:"",modelValue:D.value,"onUpdate:modelValue":ge[2]||(ge[2]=de=>D.value=de)},{default:xt(()=>[ce(Ng,{class:"pa-4"},{default:xt(()=>[ce(I1,null,{default:xt(()=>[Ts(He(U.$t("ownSummaryUploadTitle")),1)]),_:1}),ce(Nm,null,{default:xt(()=>[Ts(He(U.$t("ownSummaryUploadTextWarning")),1)]),_:1}),ce(Pm,null,{default:xt(()=>[ce(Io,{onClick:ge[1]||(ge[1]=de=>D.value=!1)},{default:xt(()=>[ce(Gn,{left:"",icon:"mdi-close"}),ie("span",null,He(U.$t("allClose")),1)]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),ce(Mg,{"max-width":"60em",persistent:"",modelValue:O.value,"onUpdate:modelValue":ge[6]||(ge[6]=de=>O.value=de)},{default:xt(()=>[ce(Ng,{class:"pa-4"},{default:xt(()=>[ce(I1,null,{default:xt(()=>[Ts(He(U.$t("ownSummaryUploadTitle")),1)]),_:1}),ce(Nm,null,{default:xt(()=>[Zn(ce(Dg,{color:"#0000A0",type:"info",variant:"text",density:"compact"},{default:xt(()=>[Ts(He(ne(g).Task.summary_pdf_advice),1)]),_:1},512),[[Co,ne(g).Task.summary_pdf_advice!=""]]),ge[10]||(ge[10]=ie("p",null,"",-1)),ce(SSe,{variant:"outlined",label:"Dateiauswahl",modelValue:h.value,"onUpdate:modelValue":ge[3]||(ge[3]=de=>h.value=de),"prepend-icon":"mdi-file-check-outline","show-size":"",accept:"application/pdf"},null,8,["modelValue"]),x.value>0?(Xt(),mo("div",kSe,[ce(zee,{modelValue:x.value,"onUpdate:modelValue":ge[4]||(ge[4]=de=>x.value=de),color:"#0000A0",height:"25"},{default:xt(()=>[ie("strong",null,He(Math.ceil(x.value))+"%",1)]),_:1},8,["modelValue"])])):Jn("",!0),w.value?(Xt(),Yo(Dg,{key:1,type:R.value?"success":"error",class:"mt-4"},{default:xt(()=>[Ts(He(w.value),1)]),_:1},8,["type"])):Jn("",!0)]),_:1,__:[10]}),ce(Pm,null,{default:xt(()=>[ce(Io,{disabled:!h.value,onClick:K},{default:xt(()=>[ce(Gn,{left:"",icon:"mdi-upload"}),Ts(" "+He(U.$t("allUpload")),1)]),_:1},8,["disabled"]),ce(Io,{onClick:ge[5]||(ge[5]=de=>Q())},{default:xt(()=>[ce(Gn,{left:"",icon:"mdi-close"}),ie("span",null,He(U.$t("allCancel")),1)]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),ce(Mg,{"max-width":"60em",persistent:"",modelValue:M.value,"onUpdate:modelValue":ge[9]||(ge[9]=de=>M.value=de)},{default:xt(()=>[ce(Ng,{class:"pa-4"},{default:xt(()=>[ce(I1,null,{default:xt(()=>[Ts(He(U.$t("ownSummaryUploadDeleteTitle")),1)]),_:1}),ce(Nm,null,{default:xt(()=>[Ts(He(U.$t("ownSummaryUploadDeleteInfo")),1)]),_:1}),ce(Pm,null,{default:xt(()=>[ce(Io,{onClick:ge[7]||(ge[7]=de=>re())},{default:xt(()=>[ce(Gn,{left:"",icon:"mdi-delete-outline"}),Ts(" "+He(U.$t("allDelete")),1)]),_:1}),ce(Io,{onClick:ge[8]||(ge[8]=de=>M.value=!1)},{default:xt(()=>[ce(Gn,{left:"",icon:"mdi-close"}),ie("span",null,He(U.$t("allCancel")),1)]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]))}},Pne=Ea(ESe,[["__scopeId","data-v-e85b4533"]]),TSe={id:"app-authorization-wrapper"},ASe={key:0,class:"appRow"},OSe=["innerHTML"],RSe={class:"appRow"},ISe={key:0},DSe={class:"appRow"},PSe={key:0,class:"appRow"},NSe={key:1,class:"appRow"},MSe={__name:"ConfirmRevision",setup(t){const r=Oe.api(),i=Oe.items(),u=Oe.settings(),g=Oe.summaries(),h=Oe.levels(),x=Oe.corrections(),w=Oe.layout(),{t:R}=ud.global,D=Ln(!1);function O(){switch(u.Assessment.procedure){case ub.APPROXIMATION:return R("revisionFixApproximationTitle");case ub.CONSULTING:return R("revisionFixConsultingTitle");default:return""}}function M(){return g.editSummary.revision_text!=""&&g.pointsOutsideCorridorText==""&&!Number.isNaN(g.editSummary.revision_points)}function H(){var Z;return u.Assessment.procedure===ub.APPROXIMATION&&((Z=x.ownCorrection)==null?void 0:Z.position)===Sa.POSITION_FIRST}async function K(){await g.setOwnRevised(),await r.saveChangesToBackend(!0)?(D.value=!1,r.loadItemFromBackend(i.currentKey)):(D.value=!1,w.showSendFailure=!0)}return(Z,Q)=>(Xt(),mo("div",TSe,[ne(i).canRevise?(Xt(),Yo(Io,{key:0,class:"app-header-item",disabled:ne(r).isLoading,onClick:Q[0]||(Q[0]=re=>D.value=!0)},{default:xt(()=>[ce(Gn,{left:"",icon:"mdi-file-certificate-outline"}),ie("span",null,He(Z.$t("revisionButton")),1)]),_:1},8,["disabled"])):Jn("",!0),ce(Mg,{"max-width":"60em",persistent:"",modelValue:D.value,"onUpdate:modelValue":Q[4]||(Q[4]=re=>D.value=re)},{default:xt(()=>[ce(Ng,null,{default:xt(()=>[ce(I1,null,{default:xt(()=>[Ts(He(O()),1)]),_:1}),ce(Nm,null,{default:xt(()=>{var re,U;return[ne(g).editSummary.hasRevisionText()?(Xt(),mo("div",ASe,[ie("strong",null,He(Z.$t("revisionTextLabel")),1),ie("div",{class:"appText xlas-content headlines-three",innerHTML:ne(g).editSummary.revision_text},null,8,OSe)])):Jn("",!0),ie("div",RSe,[ne(g).editSummary.hasRevisionPoints()?(Xt(),mo("span",ISe,[ie("strong",null,He(Z.$t("revisionPointsLabel")),1),Ts(" "+He(ne(g).editSummary.revision_points)+" "+He(Z.$t("allPoints",ne(g).editSummary.revision_points))+" ",1),ie("strong",null,He(Z.$t("allGrade")),1),Ts(" "+He((re=ne(h).getLevelForPoints(ne(g).editSummary.revision_points))==null?void 0:re.title),1)])):Jn("",!0),ie("p",null,He((U=ne(h).getLevelForPoints(ne(g).editSummary.revision_points))==null?void 0:U.statement),1)]),ie("div",DSe,[Zn(ce(Dg,{color:"#0000A0",type:"info",variant:"text",density:"compact"},{default:xt(()=>[Ts(He(Z.$t("revisionPleaseEnterPoints")),1)]),_:1},512),[[Co,!ne(g).editSummary.hasRevisionPoints()]]),Zn(ce(Dg,{color:"#0000A0",type:"info",variant:"text",density:"compact"},{default:xt(()=>[Ts(He(Z.$t("revisionPleaseEnterText")),1)]),_:1},512),[[Co,!ne(g).editSummary.hasRevisionText()]]),Zn(ce(Dg,{color:"#0000A0",type:"info",variant:"text",density:"compact"},{default:xt(()=>[Ts(He(ne(g).pointsOutsideCorridorText),1)]),_:1},512),[[Co,ne(g).pointsOutsideCorridorText!==""]]),Zn(ce(Dg,{color:"#0000A0",type:"info",variant:"text",density:"compact"},{default:xt(()=>[Ts(He(ne(g).stitchNeededAfterRevisionText),1)]),_:1},512),[[Co,ne(g).stitchNeededAfterRevisionText!==""]]),ne(g).editSummary.hasRevisionText()&&ne(g).editSummary.hasRevisionPoints()?(Xt(),mo("div",PSe,[H()?(Xt(),Yo(Sye,{key:0,modelValue:ne(g).editSummary.require_other_revision,"onUpdate:modelValue":Q[1]||(Q[1]=ge=>ne(g).editSummary.require_other_revision=ge),label:ne(R)("revisionRequireOtherRevision")},null,8,["modelValue","label"])):Jn("",!0)])):Jn("",!0),M()?(Xt(),mo("div",NSe,He(Z.$t("revisionWarnFinalize")),1)):Jn("",!0)])]}),_:1}),ce(Pm,null,{default:xt(()=>[ce(Io,{disabled:!M(),onClick:Q[2]||(Q[2]=re=>K())},{default:xt(()=>[ce(Gn,{left:"",icon:"mdi-check"}),ie("span",null,He(Z.$t("revisionFix")),1)]),_:1},8,["disabled"]),ce(Io,{onClick:Q[3]||(Q[3]=re=>D.value=!1)},{default:xt(()=>[ce(Gn,{left:"",icon:"mdi-close"}),ie("span",null,He(Z.$t("allCancel")),1)]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]))}},LSe=Ea(MSe,[["__scopeId","data-v-8f667da5"]]),BSe={class:"app-own-summary-text-wrapper"},FSe={class:"app-summary-editor"},$Se=["for"],VSe=["innerHTML"],zSe={for:"appOwnSummaryPoints"},HSe=["disabled","min","max"],USe={key:0},WSe={__name:"OwnSummaryRevision",props:["editorId"],setup(t){const r=Oe.summaries();Oe.preferences();const i=Oe.layout(),u=Oe.snippets(),g=Oe.items();Oe.settings();const h=Oe.levels(),x=t,w=new Ane(x.editorId);function R(){w.init()}function D(){r.updateContent(!0),w.applyZoom()}function O(){r.updateContent(!0)}function M(){switch(event.key){case"F1":event.preventDefault(),w.openSnippets();break;default:i.handleKeyDown(event)}}async function H(){if(!u.selection_open&&u.open_for_purpose==Au.FOR_SUMMARY&&(await handleFocusChange(),u.insert_text)){const K=u.insert_text;u.insert_text="",w.insertContent(K)}}return Fn(()=>u.selection_open,H),(K,Z)=>(Xt(),mo("div",BSe,[ie("div",FSe,[ie("label",{for:x.editorId,class:"hidden"},He(K.$t("ownSummaryRevisionTextHiddenField")),9,$Se),ne(g).canRevise?(Xt(),Yo(ne(Tne),{key:0,id:x.editorId,modelValue:ne(r).editSummary.revision_text,"onUpdate:modelValue":Z[0]||(Z[0]=Q=>ne(r).editSummary.revision_text=Q),onInit:R,onChange:D,onKeyup:O,onKeydown:M,onScroll:ne(w).saveScrolling,licenseKey:"gpl",init:ne(w).getInit()},null,8,["id","modelValue","onScroll","init"])):Jn("",!0)]),ne(g).canRevise?Jn("",!0):(Xt(),mo("div",{key:0,class:"app-summary-text-display long-essay-content correction-summary",innerHTML:ne(r).editSummary.revision_text},null,8,VSe)),ce(ME,{class:"app-summary-points"},{default:xt(()=>[ce(O1,{dense:""},{default:xt(()=>[ce(yc,{cols:"10"},{default:xt(()=>{var Q,re;return[ie("label",zSe,[ie("strong",null,He(K.$t("summaryRevisionRating")),1)]),Z[2]||(Z[2]=Ts("  ")),Zn(ie("input",{disabled:!ne(g).canRevise,id:"appOwnSummaryPoints",class:"appPoints",type:"number",min:ne(r).pointsCorridor.min,max:ne(r).pointsCorridor.max,"onUpdate:modelValue":Z[1]||(Z[1]=U=>ne(r).editSummary.revision_points=U)},null,8,HSe),[[TE,ne(r).editSummary.revision_points]]),Ts(" "+He(K.$t("allPoints",Number.isNaN(ne(r).editSummary.revision_points)?0:ne(r).editSummary.revision_points))+"  ",1),Number.isNaN(ne(r).editSummary.revision_points)?Jn("",!0):(Xt(),mo("span",USe,[ie("strong",null,He(K.$t("allGrade")),1),Ts(" "+He((Q=ne(h).getLevelForPoints(ne(r).editSummary.revision_points))==null?void 0:Q.title),1)])),ie("p",null,He((re=ne(h).getLevelForPoints(ne(r).editSummary.revision_points))==null?void 0:re.statement),1)]}),_:1,__:[2]}),ce(yc,{cols:"2"},{default:xt(()=>[ce(LSe)]),_:1})]),_:1})]),_:1})]))}},KSe=Ea(WSe,[["__scopeId","data-v-721b21d5"]]),jSe={id:"app-summary-wrapper"},ZSe={class:"headline"},GSe={class:"headline"},qSe={class:"headline"},YSe={key:3,id:"app-own-summary-points"},XSe={class:"headline"},JSe={key:4,id:"app-summary-points"},QSe={class:"headline"},e_e={class:"headline"},t_e={class:"headline"},n_e={key:7},o_e={__name:"SummaryColumn",props:["correction_key","showCriteria","showText","showRevision"],setup(t){const r=t,i=Oe.corrections().getCorrection(r.correction_key),u=Si.buildPositionText(i.position);let g,h,x,w,R,D,O,M,H;function K(){g=r.correction_key==Oe.corrections().ownKey,h=g&&Oe.items().canCorrect,x=g&&Oe.items().canRevise,w=g?Oe.summaries().editSummary:Oe.summaries().getForCorrection(r.correction_key),R=w.isAuthorized(),D=w.isRevised(),O=r.showCriteria&&(Oe.settings().Task.enable_comment_ratings||Oe.settings().Task.enable_partial_points),M=r.showText&&(g||R),H=r.showRevision&&(g&&x||D)}Fn(()=>r.correction_key,K),Fn(()=>r.showCriteria,K),Fn(()=>r.showText,K),Fn(()=>r.showRevision,K),K();function Z(){switch((O?1:0)+(M?1:0)+(H?1:0)){case 0:return"hidden";case 1:return"full";case 2:return"half";case 3:return"third"}}return(Q,re)=>(Xt(),mo("div",jSe,[ne(O)?(Xt(),mo("div",{key:0,class:xo(Z())},[ie("h2",ZSe,He(Q.$t("allOverview"))+" "+He(ne(u)),1),ce(nCe,{class:"content",correction_key:r.correction_key},null,8,["correction_key"])],2)):Jn("",!0),ne(M)&&ne(g)&&!ne(Oe).summaries().isOwnDisabled?(Xt(),mo("div",{key:1,class:xo(Z())},[ce(ME,{class:"ma-0 pa-0"},{default:xt(()=>[ce(O1,{class:"section-header ma-0"},{default:xt(()=>[ce(yc,{cols:"6",class:"ma-0 pa-0"},{default:xt(()=>[ie("h2",GSe,He(Q.$t("allSummary"))+" "+He(ne(u)),1)]),_:1}),ce(yc,{cols:"6",class:"ma-0 pa-0 text-right"},{default:xt(()=>[ce(Rne),ce(Pne)]),_:1})]),_:1})]),_:1}),Zn(ce(One,{class:"content-noscroll",editorId:"summary"},null,512),[[Co,!ne(w).pdf]]),ne(w).pdf?(Xt(),Yo(IF,{key:0,class:"content-noscroll",correction_key:r.correction_key},null,8,["correction_key"])):Jn("",!0)],2)):Jn("",!0),ne(M)&&(!ne(g)||ne(Oe).summaries().isOwnDisabled)?(Xt(),mo("div",{key:2,class:xo(Z())},[ie("h2",qSe,He(Q.$t("allSummary"))+" "+He(ne(u)),1),ne(w).pdf?Jn("",!0):(Xt(),Yo(_ne,{key:0,class:"content",correction_key:r.correction_key},null,8,["correction_key"])),ne(w).pdf?(Xt(),Yo(IF,{key:1,class:"content-noscroll",correction_key:r.correction_key},null,8,["correction_key"])):Jn("",!0)],2)):Jn("",!0),ne(h)?(Xt(),mo("div",YSe,[ie("h2",XSe,He(Q.$t("allTotalRating"))+" "+He(ne(u)),1),ce($Ce,{class:"content"})])):Jn("",!0),!ne(h)&&ne(R)?(Xt(),mo("div",JSe,[ie("h2",QSe,He(Q.$t("allTotalRating"))+" "+He(ne(u)),1),ce(uCe,{class:"content",correction_key:r.correction_key},null,8,["correction_key"])])):Jn("",!0),ne(H)&&ne(x)?(Xt(),mo("div",{key:5,class:xo(Z())},[ie("h2",e_e,He(ne(Oe).settings().procedureText)+" "+He(ne(u)),1),ce(KSe,{class:"content-noscroll",editorId:"revision"})],2)):Jn("",!0),ne(H)&&!ne(x)&&ne(D)?(Xt(),mo("div",{key:6,class:xo(Z())},[ie("h2",t_e,He(ne(Oe).settings().procedureText)+" "+He(ne(u)),1),ce(hCe,{class:"content-noscroll",correction_key:r.correction_key},null,8,["correction_key"])],2)):Jn("",!0),!ne(h)&&!ne(R)?(Xt(),mo("div",n_e,He(Q.$t("otherSummaryNotAuthorized")),1)):Jn("",!0)]))}},kU=Ea(o_e,[["__scopeId","data-v-c40cb3a6"]]),s_e=qn({autoGrow:Boolean,autofocus:Boolean,counter:[Boolean,Number,String],counterValue:Function,prefix:String,placeholder:String,persistentPlaceholder:Boolean,persistentCounter:Boolean,noResize:Boolean,rows:{type:[Number,String],default:5,validator:t=>!isNaN(parseFloat(t))},maxRows:{type:[Number,String],validator:t=>!isNaN(parseFloat(t))},suffix:String,modelModifiers:Object,...SI(),...f8()},"VTextarea"),Nne=ts()({name:"VTextarea",directives:{vIntersect:PE},inheritAttrs:!1,props:s_e(),emits:{"click:control":t=>!0,"mousedown:control":t=>!0,"update:focused":t=>!0,"update:modelValue":t=>!0,"update:rows":t=>!0},setup(t,r){let{attrs:i,emit:u,slots:g}=r;const h=ra(t,"modelValue"),{isFocused:x,focus:w,blur:R}=CI(t),{onIntersect:D}=Mte(t),O=Mt(()=>typeof t.counterValue=="function"?t.counterValue(h.value):(h.value||"").toString().length),M=Mt(()=>{if(i.maxlength)return i.maxlength;if(!(!t.counter||typeof t.counter!="number"&&typeof t.counter!="string"))return t.counter}),H=Ln(),K=Ln(),Z=Do(""),Q=Ln(),re=Mt(()=>t.persistentPlaceholder||x.value||t.active);function U(){var Ce;Q.value!==document.activeElement&&((Ce=Q.value)==null||Ce.focus()),x.value||w()}function ge(Ce){U(),u("click:control",Ce)}function de(Ce){u("mousedown:control",Ce)}function q(Ce){Ce.stopPropagation(),U(),ys(()=>{h.value="",jF(t["onClick:clear"],Ce)})}function he(Ce){var I;const Te=Ce.target;if(h.value=Te.value,(I=t.modelModifiers)!=null&&I.trim){const dt=[Te.selectionStart,Te.selectionEnd];ys(()=>{Te.selectionStart=dt[0],Te.selectionEnd=dt[1]})}}const oe=Ln(),_e=Ln(Number(t.rows)),Ue=Mt(()=>["plain","underlined"].includes(t.variant));Uf(()=>{t.autoGrow||(_e.value=Number(t.rows))});function Qe(){t.autoGrow&&ys(()=>{if(!oe.value||!K.value)return;const Ce=getComputedStyle(oe.value),Te=getComputedStyle(K.value.$el),I=parseFloat(Ce.getPropertyValue("--v-field-padding-top"))+parseFloat(Ce.getPropertyValue("--v-input-padding-top"))+parseFloat(Ce.getPropertyValue("--v-field-padding-bottom")),dt=oe.value.scrollHeight,gt=parseFloat(Ce.lineHeight),Ft=Math.max(parseFloat(t.rows)*gt+I,parseFloat(Te.getPropertyValue("--v-input-control-height"))),en=parseFloat(t.maxRows)*gt+I||1/0,ft=Mm(dt??0,Ft,en);_e.value=Math.floor((ft-I)/gt),Z.value=Fs(ft)})}jd(Qe),Fn(h,Qe),Fn(()=>t.rows,Qe),Fn(()=>t.maxRows,Qe),Fn(()=>t.density,Qe),Fn(_e,Ce=>{u("update:rows",Ce)});let ct;return Fn(oe,Ce=>{Ce?(ct=new ResizeObserver(Qe),ct.observe(oe.value)):ct==null||ct.disconnect()}),Ru(()=>{ct==null||ct.disconnect()}),$s(()=>{const Ce=!!(g.counter||t.counter||t.counterValue),Te=!!(Ce||g.details),[I,dt]=hI(i),{modelValue:gt,...Ft}=Zx.filterProps(t),en=NE.filterProps(t);return ce(Zx,Xo({ref:H,modelValue:h.value,"onUpdate:modelValue":ft=>h.value=ft,class:["v-textarea v-text-field",{"v-textarea--prefixed":t.prefix,"v-textarea--suffixed":t.suffix,"v-text-field--prefixed":t.prefix,"v-text-field--suffixed":t.suffix,"v-textarea--auto-grow":t.autoGrow,"v-textarea--no-resize":t.noResize||t.autoGrow,"v-input--plain-underlined":Ue.value},t.class],style:t.style},I,Ft,{centerAffix:_e.value===1&&!Ue.value,focused:x.value}),{...g,default:ft=>{let{id:Rn,isDisabled:Ot,isDirty:rt,isReadonly:Ve,isValid:bt}=ft;return ce(NE,Xo({ref:K,style:{"--v-textarea-control-height":Z.value},onClick:ge,onMousedown:de,"onClick:clear":q,"onClick:prependInner":t["onClick:prependInner"],"onClick:appendInner":t["onClick:appendInner"]},en,{id:Rn.value,active:re.value||rt.value,centerAffix:_e.value===1&&!Ue.value,dirty:rt.value||t.dirty,disabled:Ot.value,focused:x.value,error:bt.value===!1}),{...g,default:Yn=>{let{props:{class:Yt,...Bn}}=Yn;return ie(ms,null,[t.prefix&&ie("span",{class:"v-text-field__prefix"},[t.prefix]),Zn(ie("textarea",Xo({ref:Q,class:Yt,value:h.value,onInput:he,autofocus:t.autofocus,readonly:Ve.value,disabled:Ot.value,placeholder:t.placeholder,rows:t.rows,name:t.name,onFocus:U,onBlur:R},Bn,dt),null),[[PE,{handler:D},null,{once:!0}]]),t.autoGrow&&Zn(ie("textarea",{class:xo([Yt,"v-textarea__sizer"]),id:`${Bn.id}-sizer`,"onUpdate:modelValue":Jt=>h.value=Jt,ref:oe,readonly:!0,"aria-hidden":"true"},null),[[TE,h.value]]),t.suffix&&ie("span",{class:"v-text-field__suffix"},[t.suffix])])}})},details:Te?ft=>{var Rn;return ie(ms,null,[(Rn=g.details)==null?void 0:Rn.call(g,ft),Ce&&ie(ms,null,[ie("span",null,null),ce(yK,{active:t.persistentCounter||x.value,value:O.value,max:M.value,disabled:t.disabled},g.counter)])])}:void 0})}),Xx({},H,K,Q)}}),r_e={class:"sr-only"},i_e=["id"],a_e={key:0},l_e=["id","disabled"],c_e=["for"],u_e={key:0},d_e=["id","disabled"],f_e=["for"],m_e={class:"pointsSum"},g_e={class:"sr-only"},h_e={__name:"MarkingComment",props:["comment"],setup(t){Oe.api();const r=Oe.comments(),i=Oe.summaries(),u=Oe.settings();Oe.criteria();const g=Oe.points(),h=Oe.layout(),x=Oe.snippets(),{t:w}=ud.global,D=t.comment,O=Ln();let M=Ln(0);const H=g.getObjectByData(D.correction_key,D.key,"");M.value=H?H.points:0;function K(Ce){return Ce.key==r.selectedKey}function Z(Ce){return Ce.correction_key==Oe.corrections().ownKey&&!i.isOwnDisabled}function Q(Ce){return Ce.rating_excellent||Ce.rating_cardinal||g.getSumOfPointsForComment(Ce.key)>0}jd(()=>{const Ce=document.getElementById("appCommentContainer"+D.key);for(const Te of Ce.getElementsByTagName("label"))Te.getAttribute("for").includes("app-comment-")&&(Te.classList.add("sr-only"),Te.getAttribute("aria-hidden")=="true"?Te.getAttribute("for").includes("-sizer")||Te.setAttribute("for",Te.getAttribute("for")+"-sizer"):Te.setAttribute("id","app-comment-"+D.key+"-messages"));for(const Te of Ce.getElementsByTagName("textarea"))Te.style.marginTop="-15px",Te.style.fontSize="0.9rem";for(const Te of Ce.getElementsByClassName("v-input__details"))Te.style.display="none"});function re(Ce){return Ce.key==r.selectedKey?Ce.rating_excellent?"#BBEBA5":Ce.rating_cardinal?"#FCB494":"#94C3FC":Ce.prefix=="own"?Ce.rating_excellent?"#E3EFDD":Ce.rating_cardinal?"#FBDED1":"#D8E5F4":Ce.rating_excellent?"#F7F9F7":Ce.rating_cardinal?"#FCF6F4":"#F5F7FB"}function U(Ce){return g.getSumOfPointsForComment(Ce.key)}function ge(Ce){return w("allPoints",U(Ce))}async function de(Ce){Ce.rating_excellent&&(Ce.rating_cardinal=!1),r.setMarkerChange(),r.updateComment(Ce)}async function q(Ce){Ce.rating_cardinal&&(Ce.rating_excellent=!1),r.setMarkerChange(),r.updateComment(Ce)}async function he(Ce){r.selectedKey!==Ce.key&&r.selectComment(Ce.key)}async function oe(){if(event.altKey)switch(event.key){case"Enter":event.preventDefault(),h.showEssay(),await ys(),r.setCaretRequest();break;case"Delete":event.preventDefault(),r.deleteComment(r.selectedKey);break}else switch(event.key){case"F1":event.preventDefault(),Qe();break}}async function _e(){switch(oe(),event.key){case"Enter":event.preventDefault(),h.focusMarkingCommentPoints();break}}async function Ue(){h.focusTarget=="MarkingCommentPointsSum"&&(await ys(),D.key==r.selectedKey&&document.getElementById("pointsInput"+D.key).focus())}Fn(()=>h.focusChange,Ue);function Qe(){const Ce=O.value;x.openSelection(Au.FOR_COMMENT,r.selectedKey,Ce.value.substring(Ce.selectionStart,Ce.selectionEnd))}async function ct(){if(!x.selection_open&&x.open_for_purpose==Au.FOR_COMMENT&&x.open_for_key==D.key){const Ce=O.value;if(await ys(),Ce.focus(),x.insert_text){const Te=x.insert_text;x.insert_text="";const I=Ce.selectionStart,dt=Ce.selectionEnd;D.comment=D.comment.slice(0,I)+Te+D.comment.slice(dt),await ys(),Ce.setSelectionRange(I,I+Te.length)}}}return Fn(()=>x.selection_open,ct),(Ce,Te)=>(Xt(),Yo(ME,{id:"appCommentContainer"+ne(D).key,key:ne(D).key,class:"commentContainer"},{default:xt(()=>[ce(O1,{dense:"",onClick:Te[14]||(Te[14]=I=>he(ne(D)))},{default:xt(()=>[ce(yc,{cols:"2"},{default:xt(()=>[ce(Gn,{size:"small",icon:ne(D).getMarkIcon()},null,8,["icon"]),Te[15]||(Te[15]=Ts("  ")),ie("button",{tabindex:"0",class:xo("v-btn commentLabel "+(ne(D).key==ne(r).selectedKey?"selected":""))},He(ne(D).label),3)]),_:1,__:[15]}),ce(yc,{cols:"9"},{default:xt(()=>[ce(ME,null,{default:xt(()=>[Zn(ce(O1,{dense:""},{default:xt(()=>[ce(yc,{cols:"12"},{default:xt(()=>[ce(Nne,{class:"commentInput","bg-color":re(ne(D)),rounded:"0",density:"compact",variant:"solo",ref_key:"textRef",ref:O,id:"app-comment-"+ne(D).key,label:Ce.$t("markingCommentsCommentForLabel",[ne(D).label]),rows:"1","auto-grow":"",readonly:ne(i).isOwnDisabled||ne(D).correction_key!=ne(Oe).corrections().ownKey,onChange:Te[0]||(Te[0]=I=>ne(r).updateComment(ne(D))),onKeyup:Te[1]||(Te[1]=I=>ne(r).updateComment(ne(D))),onKeydown:Te[2]||(Te[2]=I=>oe()),modelValue:ne(D).comment,"onUpdate:modelValue":Te[3]||(Te[3]=I=>ne(D).comment=I)},null,8,["bg-color","id","label","readonly","modelValue"])]),_:1})]),_:1},512),[[Co,K(ne(D))]]),Zn(ce(O1,{dense:""},{default:xt(()=>[ce(yc,{cols:"3"},{default:xt(()=>[ce(Io,{class:"snippetsButton",density:"compact",variant:"plain","prepend-icon":"mdi-plus",tabindex:K(ne(D))?0:-1,onKeydown:Te[4]||(Te[4]=I=>oe()),onClick:Qe},{default:xt(()=>[ie("span",r_e,He(Ce.$t("markingOpenSnippets")),1)]),_:1},8,["tabindex"])]),_:1}),ce(yc,{cols:"3"},{default:xt(()=>[ne(Oe).settings().Task.enable_partial_points?(Xt(),mo("span",{key:0,tabindex:"0",class:"pointsSum",id:"pointsInput"+ne(D).key,onKeydown:Te[5]||(Te[5]=I=>_e())},He(Ce.$t("markingCommentSum"))+" "+He(U(ne(D)))+" "+He(ge(ne(D))),41,i_e)):Jn("",!0)]),_:1}),ce(yc,{cols:"3"},{default:xt(()=>[ne(Oe).settings().Task.enable_comment_ratings?Zn((Xt(),mo("span",a_e,[Zn(ie("input",{type:"checkbox",class:"ratingInput","onUpdate:modelValue":Te[6]||(Te[6]=I=>ne(D).rating_excellent=I),id:"ratingExcellent"+ne(D).key,disabled:ne(i).isOwnDisabled||ne(D).correction_key!=ne(Oe).corrections().ownKey,onChange:Te[7]||(Te[7]=I=>de(ne(D))),onKeydown:Te[8]||(Te[8]=I=>oe())},null,40,l_e),[[$U,ne(D).rating_excellent]]),ie("label",{for:"ratingExcellent"+ne(D).key},""+He(ne(u).Task.positive_rating),9,c_e)],512)),[[Co,ne(D).rating_excellent||ne(D).key==ne(r).selectedKey]]):Jn("",!0)]),_:1}),ce(yc,{cols:"3"},{default:xt(()=>[ne(Oe).settings().Task.enable_comment_ratings?Zn((Xt(),mo("span",u_e,[Zn(ie("input",{type:"checkbox",class:"ratingInput","onUpdate:modelValue":Te[9]||(Te[9]=I=>ne(D).rating_cardinal=I),id:"ratingCardinal"+ne(D).key,disabled:ne(i).isOwnDisabled||ne(D).correction_key!=ne(Oe).corrections().ownKey,onChange:Te[10]||(Te[10]=I=>q(ne(D))),onKeydown:Te[11]||(Te[11]=I=>oe())},null,40,d_e),[[$U,ne(D).rating_cardinal]]),ie("label",{for:"ratingCardinal"+ne(D).key},""+He(ne(u).Task.negative_rating),9,f_e)],512)),[[Co,ne(D).rating_cardinal||ne(D).key==ne(r).selectedKey]]):Jn("",!0)]),_:1})]),_:1},512),[[Co,K(ne(D))]]),ce(O1,{dense:""},{default:xt(()=>[Zn(ce(yc,{cols:"12"},{default:xt(()=>[Zn(ie("div",{class:"commentDisplay",style:Qs("background-color: "+re(ne(D))+";")},He(ne(D).comment),5),[[Co,ne(D).comment]])]),_:1},512),[[Co,!K(ne(D))]])]),_:1}),Zn(ce(O1,{dense:"",class:"detailsDisplay"},{default:xt(()=>[ce(yc,{cols:"3"}),ce(yc,{cols:"3"},{default:xt(()=>[Zn(ie("span",null,[ie("span",m_e,He(Ce.$t("markingCommentSum"))+" "+He(U(ne(D)))+" "+He(ge(ne(D))),1)],512),[[Co,U(ne(D))>0]])]),_:1}),ce(yc,{cols:"3"},{default:xt(()=>[Zn(ie("span",null,[ce(Gn,{icon:"mdi-checkbox-outline"}),Ts(" "+He(ne(u).Task.positive_rating),1)],512),[[Co,ne(D).rating_excellent]])]),_:1}),ce(yc,{cols:"3"},{default:xt(()=>[Zn(ie("span",null,[ce(Gn,{icon:"mdi-checkbox-outline"}),Ts(" "+He(ne(u).Task.negative_rating),1)],512),[[Co,ne(D).rating_cardinal]])]),_:1})]),_:1},512),[[Co,!K(ne(D))&&Q(ne(D))]])]),_:1})]),_:1}),ce(yc,{cols:"1",class:"trashColumn"},{default:xt(()=>[Zn(ce(Io,{class:"trashButton",density:"compact",size:"small",variant:"text","prepend-icon":"mdi-delete-outline",tabindex:K(ne(D))?0:-1,onKeydown:Te[12]||(Te[12]=I=>oe()),onClick:Te[13]||(Te[13]=I=>{ne(r).deleteComment(ne(D).key)})},{default:xt(()=>[ie("span",g_e,He(Ce.$t("markingCommentsDelete")),1)]),_:1},8,["tabindex"]),[[Co,Z(ne(D))]])]),_:1})]),_:1})]),_:1},8,["id"]))}},p_e=Ea(h_e,[["__scopeId","data-v-1a9b214d"]]),b_e={id:"appMarkingComments"},v_e={__name:"MarkingComments",setup(t){const r=Oe.comments();async function i(){await ys();let g=document.getElementById("appCommentContainer"+r.selectedKey);if(g){let h=g.querySelector("textarea");h&&h.focus()}}Fn(()=>r.selectionChange,i);async function u(){await ys();let g=document.getElementById("appCommentContainer"+r.firstVisibleKey);g&&g.scrollIntoView()}return Fn(()=>r.firstVisibleKey,u),(g,h)=>(Xt(),mo("div",b_e,[(Xt(!0),mo(ms,null,M1(ne(r).activeComments,x=>(Xt(),Yo(p_e,{key:x.key,comment:x},null,8,["comment"]))),128))]))}},y_e={key:0,class:"info"},x_e={class:"col-left"},w_e={class:"col-mid text-right"},C_e={class:"col-right text-right"},S_e={class:"col-left"},__e={class:"col-mid text-right"},k_e=["disabled","max"],E_e={class:"col-left"},T_e=["for"],A_e={class:"col-mid text-right"},O_e=["onUpdate:modelValue","id","disabled","max","onChange"],R_e={__name:"MarkingCommentPoints",setup(t){const r=Oe.criteria(),i=Oe.comments(),u=Oe.points();Oe.api();const g=Oe.settings(),h=Oe.summaries(),x=Oe.layout();let w=Ln(""),R=Ln(""),D=Ln({});async function O(){const Z=i.getComment(i.selectedKey);w.value=Z?Z.key:"",R.value=Z?Z.correction_key:Oe.corrections().ownKey,D.value={};for(const re of r.getCorrectionCommentCriteria(R.value)){const U=u.getObjectByData(R.value,w.value,re.key);D.value[re.key]=(U==null?void 0:U.points)??0}const Q=u.getObjectByData(R.value,w.value,"");D.value[""]=(Q==null?void 0:Q.points)??0}O(),Fn(()=>i.selectionChange,O);function M(Z){u.setValueByCommentOrCriterion(i.selectedKey,Z,D.value[Z])}async function H(){x.focusTarget=="MarkingCommentPoints"&&(await ys(),document.getElementById("appMarkingCommentPointsStart").focus())}Fn(()=>x.focusChange,H);async function K(Z){switch(Z.key){case"Escape":Z.preventDefault(),x.focusMarkingCommentPointsSum();break}}return(Z,Q)=>(Xt(),mo("div",null,[ne(w)==""?(Xt(),mo("p",y_e,He(Z.$t("markingCommentPointsPleaseSelect")),1)):Jn("",!0),ne(w)!=""?(Xt(),Yo(ab,{key:1,density:"compact"},{default:xt(()=>[ie("thead",null,[ie("tr",null,[ie("th",x_e,[ie("span",{id:"appMarkingCommentPointsStart",tabindex:"0",onKeydown:K},He(Z.$t("markingCommentPointsCriterion")),33)]),ie("th",w_e,He(Z.$t("allPoints",0)),1),ie("th",C_e,He(Z.$t("markingCommentPointsSumOfMax")),1)])]),ie("tbody",null,[ie("tr",null,[ie("td",S_e,[ie("label",{tabindex:"0",onKeydown:K,for:"app-points-input-without"},He(Z.$t("markingCommentPointsWithoutCriterion")),33)]),ie("td",__e,[Zn(ie("input",{class:"appPoints",type:"number","onUpdate:modelValue":Q[0]||(Q[0]=re=>ne(D)[""]=re),id:"pp-points-input-without",disabled:ne(h).isOwnDisabled||ne(w)==""||ne(R)!=ne(Oe).corrections().ownKey,max:ne(g).Assessment.max_points,onChange:Q[1]||(Q[1]=re=>M("")),onKeydown:K},null,40,k_e),[[TE,ne(D)[""]]])]),ie("td",{class:xo("col-right text-right "+(ne(u).getPointsOfCriterionExceeded(null,ne(R))?"red":""))},He(ne(u).getSumOfPointsForCorrection(ne(R),!0,!1))+" / "+He(ne(g).Assessment.max_points),3)]),(Xt(!0),mo(ms,null,M1(ne(r).getCorrectionCommentCriteria(ne(R)),re=>(Xt(),mo("tr",{key:re.key},[ie("td",E_e,[ie("label",{tabindex:"0",onKeydown:K,for:"app-points-input-"+re.key},He(re.title),41,T_e)]),ie("td",A_e,[Zn(ie("input",{class:"appPoints",type:"number","onUpdate:modelValue":U=>ne(D)[re.key]=U,id:"app-points-input-"+re.key,disabled:ne(h).isOwnDisabled||ne(w)==""||ne(R)!=ne(Oe).corrections().ownKey,max:re.points,onChange:U=>M(re.key),onKeydown:K},null,40,O_e),[[TE,ne(D)[re.key]]])]),ie("td",{class:xo("col-right text-right "+(ne(u).getPointsOfCriterionExceeded(re,ne(R))?"red":""))},He(ne(u).getSumOfPointsForCriterion(re,ne(R)))+" / "+He(re.points),3)]))),128))])]),_:1})):Jn("",!0)]))}},I_e=Ea(R_e,[["__scopeId","data-v-d8ab7885"]]),D_e={class:"col-left"},P_e={class:"col-mid text-right"},N_e={class:"col-right text-right"},M_e={class:"col-left"},L_e=["for"],B_e={class:"col-mid text-right"},F_e=["onUpdate:modelValue","id","disabled","max","onChange"],$_e={class:"col-right text-right"},V_e={__name:"MarkingGeneralPoints",setup(t){const r=Oe.criteria();Oe.comments();const i=Oe.points();Oe.api(),Oe.settings();const u=Oe.summaries(),g=Oe.layout();let h=Ln(""),x=Ln({});async function w(){h.value=Oe.corrections().ownKey,x.value={};for(const M of r.getCorrectionGeneralCriteria(h.value)){const H=i.getObjectByData(h.value,"",M.key);x.value[M.key]=H?H.points:0}}w();function R(M){i.setValueByCommentOrCriterion("",M,x.value[M])}async function D(){g.focusTarget=="markingGeneralPoints"&&(await ys(),document.getElementById("appMarkingGeneralPointsStart").focus())}Fn(()=>g.focusChange,D);async function O(M){switch(M.key){case"Escape":M.preventDefault(),g.focusMarkingCommentPointsSum();break}}return(M,H)=>(Xt(),mo("div",null,[ce(ab,{density:"compact"},{default:xt(()=>[ie("thead",null,[ie("tr",null,[ie("th",D_e,[ie("span",{id:"appMarkingCommentPointsStart",tabindex:"0",onKeydown:O},He(M.$t("markingGeneralPointsCriterion")),33)]),ie("th",P_e,He(M.$t("allPoints",0)),1),ie("th",N_e,He(M.$t("markingGeneralPointsMax")),1)])]),ie("tbody",null,[(Xt(!0),mo(ms,null,M1(ne(r).getCorrectionGeneralCriteria(ne(h)),K=>(Xt(),mo("tr",{key:K.key},[ie("td",M_e,[ie("label",{tabindex:"0",onKeydown:O,for:"app-points-input-"+K.key},He(K.title),41,L_e)]),ie("td",B_e,[Zn(ie("input",{class:"appPoints",type:"number","onUpdate:modelValue":Z=>ne(x)[K.key]=Z,id:"app-points-input-"+K.key,disabled:ne(u).isOwnDisabled||ne(h)!=ne(Oe).corrections().ownKey,max:K.points,onChange:Z=>R(K.key),onKeydown:O},null,40,F_e),[[TE,ne(x)[K.key]]])]),ie("td",$_e,He(K.points),1)]))),128))])]),_:1})]))}},z_e=Ea(V_e,[["__scopeId","data-v-f5c5c1de"]]),H_e={id:"app-marking-wrapper"},U_e={class:"headline"},W_e={class:"headline"},K_e={class:"headline"},j_e={class:"headline"},Z_e={class:"headline"},G_e={key:5},q_e={__name:"Marking",setup(t){Oe.api();const r=Oe.layout(),i=Oe.items(),u=Oe.comments(),g=Oe.criteria(),h=Oe.summaries(),x=Oe.settings();function w(){return x.Task.enable_comments&&r.showMarkingComments&&(i.canAct||h.isOneAuthorized)}function R(){return x.Task.enable_partial_points&&r.showMarkingGeneralPoints&&g.hasOwnGeneralCriteria&&(i.canAct||h.isOneAuthorized)}function D(){return x.Task.enable_partial_points&&r.showMarkingCommentPoints&&(i.canAct||h.isOneAuthorized)}function O(){return r.showMarkingText&&(i.canAct||h.isOneAuthorized)}function M(){switch((w()?1:0)+(R()?1:0)+(D()?1:0)+(O()?1:0)){case 0:return"hidden";case 1:return"full";case 2:return"half";case 3:return"third";case 4:return"quart"}}return(H,K)=>(Xt(),mo("div",H_e,[w()?(Xt(),mo("div",{key:0,class:xo(M())},[ie("h2",U_e,He(H.$t("allComments")),1),ce(v_e,{class:"content"})],2)):Jn("",!0),D()?(Xt(),mo("div",{key:1,class:xo(M())},[ie("h2",W_e,[Ts(He(H.$t("allPartialPointsLong")),1),Zn(ie("span",{class:"commentLabel"},He(ne(u).selectedLabel),513),[[Co,ne(u).selectedKey!=""]])]),ce(I_e,{class:"content"})],2)):Jn("",!0),R()?(Xt(),mo("div",{key:2,class:xo(M())},[ie("h2",K_e,He(H.$t("allGeneralPointsLong")),1),ce(z_e,{class:"content"})],2)):Jn("",!0),O()&&!ne(Oe).summaries().isOwnDisabled?(Xt(),mo("div",{key:3,class:xo(M())},[ce(ME,{class:"ma-0 pa-0"},{default:xt(()=>[ce(O1,{class:"section-header ma-0"},{default:xt(()=>[ce(yc,{cols:"6",class:"ma-0 pa-0"},{default:xt(()=>[ie("h2",j_e,He(H.$t("allOwnSummary")),1)]),_:1}),ce(yc,{cols:"6",class:"ma-0 pa-0 text-right"},{default:xt(()=>[ne(h).isOwnDisabled?Jn("",!0):(Xt(),Yo(Rne,{key:0})),ne(h).isOwnDisabled?Jn("",!0):(Xt(),Yo(Pne,{key:1}))]),_:1})]),_:1})]),_:1}),ne(h).editSummary.pdf?Jn("",!0):(Xt(),Yo(One,{key:0,class:"content",editorId:"marking"})),ne(h).editSummary.pdf?(Xt(),Yo(IF,{key:1,class:"content",correction_key:ne(h).editSummary.correction_key},null,8,["correction_key"])):Jn("",!0)],2)):Jn("",!0),O()&&ne(Oe).summaries().isOwnDisabled?(Xt(),mo("div",{key:4,class:xo(M())},[ie("h2",Z_e,He(H.$t("allSummary")),1),ne(h).editSummary.pdf?Jn("",!0):(Xt(),Yo(_ne,{key:0,class:"content",correction_key:ne(h).editSummary.correction_key},null,8,["correction_key"])),ne(h).editSummary.pdf?(Xt(),Yo(IF,{key:1,class:"content",correction_key:ne(h).editSummary.correction_key},null,8,["correction_key"])):Jn("",!0)],2)):Jn("",!0),!ne(i).canAct&&!ne(h).isOneAuthorized?(Xt(),mo("div",G_e,He(H.$t("allEssayNoCorrectionAuthorized")),1)):Jn("",!0)]))}},Y_e=Ea(q_e,[["__scopeId","data-v-e6230e54"]]),X_e={id:"app-snippets"},J_e={__name:"Snippets",setup(t){const{t:r}=ud.global,i=Oe.snippets(),u=Ln(),g=Ln();let h=[];function x(){switch(h=[],i.open_for_purpose){case Au.FOR_COMMENT:for(const re of i.forComment)h.push(re);break;case Au.FOR_SUMMARY:for(const re of i.forSummary)h.push(re);break}h.push(new Au({key:"new",text:r("snippetsNewSnippet"),purpose:i.open_for_purpose}))}function w(){i.edit=new Au({text:"",purpose:i.open_for_purpose})}async function R(){i.selection_open&&(x(),w(),await ys(),u.value.focus(),await ys(),u.value.search=i.open_text)}Fn(()=>i.selection_open,R);async function D(){const re=u.value.search?u.value.search:"";if(i.select=="new")i.edit=new Au({text:re,purpose:i.open_for_purpose}),i.edit.text&&(await i.createSnippet(i.edit),x());else{const U=h.find(ge=>ge.key===i.select);U&&U.key!==i.edit.key&&(i.edit=U)}i.select=null,await ys(),g.value.focus()}async function O(){i.has(i.edit.key)?i.updateSnippet(i.edit):i.edit.text&&(await i.createSnippet(i.edit),x())}function M(){i.selection_open=!1}function H(){i.selection_open=!1,i.insert_text=i.edit.text}async function K(){i.deleteSnippet(i.edit.key),i.select=null,x(),w(),await ys(),u.value.focus()}async function Z(){switch(event.key){case"F1":event.preventDefault(),H();break}}function Q(re,U,ge){const de=ge.raw.text.toLowerCase(),q=U.toLowerCase();return ge.raw.key==="new"||de.indexOf(q)>-1}return(re,U)=>(Xt(),mo("div",X_e,[ce(Mg,{"max-width":"60em",modelValue:ne(i).selection_open,"onUpdate:modelValue":U[10]||(U[10]=ge=>ne(i).selection_open=ge)},{default:xt(()=>[ce(Ng,null,{default:xt(()=>[ce(I1,null,{default:xt(()=>[Ts(He(re.$t("snippetsSnippet")),1)]),_:1}),ce(Nm,null,{default:xt(()=>[Ts(He(re.$t("snippetsSelect"))+" ",1),ce(wK,{ref_key:"appSelect",ref:u,id:"appSnippetSelect",modelValue:ne(i).select,"onUpdate:modelValue":[U[0]||(U[0]=ge=>ne(i).select=ge),U[1]||(U[1]=ge=>D())],"custom-filter":Q,items:ne(h),onKeydown:U[2]||(U[2]=ge=>Z()),"base-color":"white","item-title":"text","item-value":"key"},null,8,["modelValue","items"]),Ts(" "+He(re.$t("snippetsEdit"))+" ",1),ce(Nne,{ref_key:"appEdit",ref:g,modelValue:ne(i).edit.text,"onUpdate:modelValue":U[3]||(U[3]=ge=>ne(i).edit.text=ge),onChange:U[4]||(U[4]=ge=>O()),onKeyup:U[5]||(U[5]=ge=>O()),onKeydown:U[6]||(U[6]=ge=>Z())},null,8,["modelValue"])]),_:1}),ce(Pm,null,{default:xt(()=>[ce(Io,{disabled:ne(i).edit.text=="",onClick:U[7]||(U[7]=ge=>H())},{default:xt(()=>[ce(Gn,{left:"",icon:"mdi-ok"}),ie("span",null,He(re.$t("allApply")),1)]),_:1},8,["disabled"]),ce(Io,{disabled:!ne(i).has(ne(i).edit.key),onClick:U[8]||(U[8]=ge=>K())},{default:xt(()=>[ce(Gn,{left:"",icon:"mdi-ok"}),ie("span",null,He(re.$t("allDelete")),1)]),_:1},8,["disabled"]),ce(_K),ce(Io,{onClick:U[9]||(U[9]=ge=>M())},{default:xt(()=>[ce(Gn,{left:"",icon:"mdi-close"}),ie("span",null,He(re.$t("allClose")),1)]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]))}},Q_e=qn({scrollable:Boolean,...or(),...bb(),...Ua({tag:"main"})},"VMain"),Mne=ts()({name:"VMain",props:Q_e(),setup(t,r){let{slots:i}=r;const{dimensionStyles:u}=vb(t),{mainStyles:g}=Qhe(),{ssrBootStyles:h}=d8();return $s(()=>ce(t.tag,{class:xo(["v-main",{"v-main--scrollable":t.scrollable},t.class]),style:Qs([g.value,h.value,u.value,t.style])},{default:()=>{var x,w;return[t.scrollable?ie("div",{class:"v-main__scroller"},[(x=i.default)==null?void 0:x.call(i)]):(w=i.default)==null?void 0:w.call(i)]}})),{}}}),eke={id:"app-main-container"},tke={class:"col-header"},nke={id:"appHeadLeft",tabindex:"0",class:"headline"},oke={class:"sr-only"},ske={"aria-hidden":"true"},rke={id:"app-expand-left-column",class:"sr-only"},ike={class:"col-content"},ake={class:"col-header"},lke={id:"appHeadRight",tabindex:"0",class:"headline"},cke={class:"sr-only"},uke={class:"sr-only"},dke={class:"sr-only"},fke={class:"sr-only"},mke={class:"sr-only"},gke={class:"sr-only"},hke={class:"sr-only"},pke={class:"sr-only"},bke={class:"sr-only"},vke={"aria-hidden":"true"},yke={id:"app-expand-right-column",class:"sr-only"},xke={class:"col-content"},wke={__name:"MainContent",setup(t){const r=Oe.api(),i=Oe.layout(),u=Oe.items(),g=Oe.resources(),h=Oe.comments(),x=Oe.criteria(),w=Oe.pages(),R=Oe.settings();async function D(){i.focusTarget=="appHeadLeft"&&(await ys(),document.getElementById("appHeadLeft").focus()),i.focusTarget=="appHeadRight"&&(await ys(),document.getElementById("appHeadRight").focus())}return Fn(()=>i.focusChange,D),document.addEventListener("keydown",i.handleKeyDown),(O,M)=>(Xt(),mo(ms,null,[ce(Mne,{"fill-height":""},{default:xt(()=>{var H;return[ie("div",eke,[Zn(ie("section",{class:xo(["column",{colExpanded:ne(i).isLeftExpanded,colNormal:!ne(i).isLeftExpanded}])},[ie("div",tke,[ie("h1",nke,He(ne(i).isInstructionsVisible?O.$t("allInstructions"):ne(i).isInstructionsPdfVisible?O.$t("allInstructionsPdf"):ne(i).isSolutionVisible?O.$t("allSolution"):ne(i).isSolutionPdfVisible?O.$t("allSolutionPdf"):ne(i).isEssayVisible?O.$t("allEssay"):ne(i).isResourcesVisible?(H=ne(g).activeResource)==null?void 0:H.title:ne(i).isLeftCorrectionVisible?ne(i).leftCorrectionTitle:O.$t("mainContentLeftColumn")),1),ce(R1,{density:"comfortable"},{default:xt(()=>{var K;return[ne(R).hasSummaryOverview?Zn((Xt(),Yo(Io,{key:0,size:"small",onClick:M[0]||(M[0]=Z=>ne(i).toggleLeftSummaryCriteria())},{default:xt(()=>[Zn(ce(Gn,{icon:"mdi-checkbox-outline"},null,512),[[Co,ne(i).showLeftSummaryCriteria]]),Zn(ce(Gn,{icon:"mdi-checkbox-blank-outline"},null,512),[[Co,!ne(i).showLeftSummaryCriteria]]),ie("span",null,He(O.$t("allOverview")),1)]),_:1},512)),[[Co,ne(i).isLeftCorrectionVisible]]):Jn("",!0),Zn(ce(Io,{size:"small",onClick:M[1]||(M[1]=Z=>ne(i).toggleLeftSummaryText())},{default:xt(()=>[Zn(ce(Gn,{icon:"mdi-checkbox-outline"},null,512),[[Co,ne(i).showLeftSummaryText]]),Zn(ce(Gn,{icon:"mdi-checkbox-blank-outline"},null,512),[[Co,!ne(i).showLeftSummaryText]]),ie("span",null,He(O.$t("allSummary")),1)]),_:1},512),[[Co,ne(i).isLeftCorrectionVisible]]),(K=ne(Oe).summaries().getForCorrection(ne(i).leftCorrectionKey))!=null&&K.isRevised()?Zn((Xt(),Yo(Io,{key:1,size:"small",onClick:M[2]||(M[2]=Z=>ne(i).toggleLeftSummaryRevision())},{default:xt(()=>[Zn(ce(Gn,{icon:"mdi-checkbox-outline"},null,512),[[Co,ne(i).showLeftSummaryRevision]]),Zn(ce(Gn,{icon:"mdi-checkbox-blank-outline"},null,512),[[Co,!ne(i).showLeftSummaryRevision]]),ie("span",null,He(ne(R).procedureText),1),ie("span",oke,He(O.$t("allShow")+(ne(i).showLeftSummaryRevision?O.$t("allIsSelected"):"")),1)]),_:1},512)),[[Co,ne(i).isLeftCorrectionVisible]]):Jn("",!0),Zn(ce(Io,{size:"small",onClick:M[3]||(M[3]=Z=>ne(i).setLeftExpanded(!1))},{default:xt(()=>[ce(Gn,{icon:"mdi-chevron-left"}),ie("span",null,He(ne(i).isMarkingSelected?O.$t("allCorrection"):ne(i).isSummarySelected?O.$t("allSummary"):ne(i).isRightCorrectionSelected?ne(i).rightCorrectionTitle:O.$t("mainContentExpandRightColumn")),1)]),_:1},512),[[Co,ne(i).isLeftExpanded]]),Zn(ce(Io,{size:"small",onClick:M[4]||(M[4]=Z=>ne(i).setLeftExpanded(!0))},{default:xt(()=>[ie("span",ske,He(O.$t("mainContentExpand")),1),ie("span",rke,He(O.$t("mainContentExpandLeftColumn")),1),ce(Gn,{icon:"mdi-chevron-right"})]),_:1},512),[[Co,!ne(i).isLeftExpanded]])]}),_:1})]),ie("div",ike,[ne(i).isInstructionsVisible?(Xt(),Yo(twe,{key:0})):Jn("",!0),ne(i).isInstructionsPdfVisible?(Xt(),Yo(swe,{key:1})):Jn("",!0),ne(i).isSolutionVisible?(Xt(),Yo(awe,{key:2})):Jn("",!0),ne(i).isSolutionPdfVisible?(Xt(),Yo(uwe,{key:3})):Jn("",!0),ne(i).isEssayVisible&&!ne(w).hasPages?(Xt(),Yo(Cwe,{key:4})):Jn("",!0),ne(i).isEssayVisible&&ne(w).hasPages?(Xt(),Yo(L2e,{key:5})):Jn("",!0),ne(i).isResourcesVisible?(Xt(),Yo(bwe,{key:6})):Jn("",!0),ne(i).isLeftCorrectionVisible?(Xt(),Yo(kU,{key:7,correction_key:ne(i).leftCorrectionKey,showCriteria:ne(i).showLeftSummaryCriteria,showText:ne(i).showLeftSummaryText,showRevision:ne(i).showLeftSummaryRevision},null,8,["correction_key","showCriteria","showText","showRevision"])):Jn("",!0)])],2),[[Co,ne(i).isLeftVisible]]),Zn(ie("section",{class:xo(["column",{colExpanded:ne(i).isRightExpanded,colNormal:!ne(i).isRightExpanded}])},[ie("div",ake,[ie("h1",lke,He(ne(i).isMarkingVisible?O.$t("allCorrection"):ne(i).isSummaryVisible?O.$t("allOwnSummaryAndRating"):ne(i).isRightCorrectionVisible?ne(i).rightCorrectionTitle:O.$t("mainContentRightColumn")),1),ce(R1,{density:"comfortable"},{default:xt(()=>[ne(R).Task.enable_comments&&ne(i).isMarkingVisible?(Xt(),Yo(Io,{key:0,size:"small",variant:"plain",onClick:M[5]||(M[5]=K=>ne(h).setShowOtherCorrections(!ne(h).isOtherCorrectionsShown))},{default:xt(()=>[ce(Gn,{icon:ne(h).isOtherCorrectionsShown?"mdi-account-school":"mdi-account-school-outline"},null,8,["icon"]),ie("span",cke,He(O.$t("mainContentShowOtherCorrections")+(ne(h).isOtherCorrectionsShown?O.$t("allIsSelected"):"")),1)]),_:1})):Jn("",!0),ne(R).hasSummaryOverview&&ne(i).isMarkingVisible?(Xt(),Yo(Io,{key:1,size:"small",variant:"plain",disabled:!ne(h).isFilterActive,onClick:M[6]||(M[6]=K=>ne(h).resetFilter())},{default:xt(()=>[ce(Gn,{icon:ne(h).isFilterActive?"mdi-filter":"mdi-filter-outline"},null,8,["icon"]),ie("span",uke,He("Filter aktiv"+(ne(h).isFilterActive?O.$t("allIsSelected"):"")),1)]),_:1},8,["disabled"])):Jn("",!0),ne(R).Task.enable_comments&&ne(u).canAct?Zn((Xt(),Yo(Io,{key:2,size:"small",onClick:M[7]||(M[7]=K=>ne(i).toggleMarkingComments())},{default:xt(()=>[Zn(ce(Gn,{icon:"mdi-checkbox-outline"},null,512),[[Co,ne(i).showMarkingComments]]),Zn(ce(Gn,{icon:"mdi-checkbox-blank-outline"},null,512),[[Co,!ne(i).showMarkingComments]]),ie("span",null,He(O.$t("allComments")),1),ie("span",dke,He(O.$t("allShow")+(ne(i).showMarkingComments?O.$t("allIsSelected"):"")),1)]),_:1},512)),[[Co,ne(i).isMarkingVisible]]):Jn("",!0),ne(R).Task.enable_partial_points&&ne(u).canAct&&ne(R).Task.enable_partial_points?Zn((Xt(),Yo(Io,{key:3,size:"small",onClick:M[8]||(M[8]=K=>ne(i).toggleMarkingCommentPoints())},{default:xt(()=>[Zn(ce(Gn,{icon:"mdi-checkbox-outline"},null,512),[[Co,ne(i).showMarkingCommentPoints]]),Zn(ce(Gn,{icon:"mdi-checkbox-blank-outline"},null,512),[[Co,!ne(i).showMarkingCommentPoints]]),ie("span",null,He(O.$t("allPartialPoints")),1),ie("span",fke,He(O.$t("allShow")+(ne(i).showMarkingCommentPoints?O.$t("allIsSelected"):"")),1)]),_:1},512)),[[Co,ne(i).isMarkingVisible]]):Jn("",!0),ne(R).Task.enable_partial_points&&ne(x).hasOwnGeneralCriteria?Zn((Xt(),Yo(Io,{key:4,size:"small",onClick:M[9]||(M[9]=K=>ne(i).toggleMarkingGeneralPoints())},{default:xt(()=>[Zn(ce(Gn,{icon:"mdi-checkbox-outline"},null,512),[[Co,ne(i).showMarkingGeneralPoints]]),Zn(ce(Gn,{icon:"mdi-checkbox-blank-outline"},null,512),[[Co,!ne(i).showMarkingGeneralPoints]]),ie("span",null,He(O.$t("allGeneralPoints")),1),ie("span",mke,He(O.$t("allShow")+(ne(i).showMarkingGeneralPoints?O.$t("allIsSelected"):"")),1)]),_:1},512)),[[Co,ne(i).isMarkingVisible]]):Jn("",!0),ne(u).canAct?Zn((Xt(),Yo(Io,{key:5,size:"small",onClick:M[10]||(M[10]=K=>ne(i).toggleMarkingText())},{default:xt(()=>[Zn(ce(Gn,{icon:"mdi-checkbox-outline"},null,512),[[Co,ne(i).showMarkingText]]),Zn(ce(Gn,{icon:"mdi-checkbox-blank-outline"},null,512),[[Co,!ne(i).showMarkingText]]),ie("span",null,He(O.$t("allSummary")),1),ie("span",gke,He(O.$t("allShow")+(ne(i).showMarkingText?O.$t("allIsSelected"):"")),1)]),_:1},512)),[[Co,ne(i).isMarkingVisible]]):Jn("",!0),ne(R).hasSummaryOverview?Zn((Xt(),Yo(Io,{key:6,size:"small",onClick:M[11]||(M[11]=K=>ne(i).toggleRightSummaryCriteria())},{default:xt(()=>[Zn(ce(Gn,{icon:"mdi-checkbox-outline"},null,512),[[Co,ne(i).showRightSummaryCriteria]]),Zn(ce(Gn,{icon:"mdi-checkbox-blank-outline"},null,512),[[Co,!ne(i).showRightSummaryCriteria]]),ie("span",null,He(O.$t("allOverview")),1),ie("span",hke,He(O.$t("allShow")+(ne(i).showRightSummaryCriteria?O.$t("allIsSelected"):"")),1)]),_:1},512)),[[Co,ne(i).isSummaryVisible||ne(i).isRightCorrectionVisible]]):Jn("",!0),Zn(ce(Io,{size:"small",onClick:M[12]||(M[12]=K=>ne(i).toggleRightSummaryText())},{default:xt(()=>[Zn(ce(Gn,{icon:"mdi-checkbox-outline"},null,512),[[Co,ne(i).showRightSummaryText]]),Zn(ce(Gn,{icon:"mdi-checkbox-blank-outline"},null,512),[[Co,!ne(i).showRightSummaryText]]),ie("span",null,He(O.$t("allSummary")),1),ie("span",pke,He(O.$t("allShow")+(ne(i).showRightSummaryText?O.$t("allIsSelected"):"")),1)]),_:1},512),[[Co,ne(i).isSummaryVisible||ne(i).isRightCorrectionVisible]]),ne(Oe).summaries().isOwnRevised||ne(Oe).items().canRevise?Zn((Xt(),Yo(Io,{key:7,size:"small",onClick:M[13]||(M[13]=K=>ne(i).toggleRightSummaryRevision())},{default:xt(()=>[Zn(ce(Gn,{icon:"mdi-checkbox-outline"},null,512),[[Co,ne(i).showRightSummaryRevision]]),Zn(ce(Gn,{icon:"mdi-checkbox-blank-outline"},null,512),[[Co,!ne(i).showRightSummaryRevision]]),ie("span",null,He(ne(R).procedureText),1),ie("span",bke,He(O.$t("allShow")+(ne(i).showRightSummaryRevision?O.$t("allIsSelected"):"")),1)]),_:1},512)),[[Co,ne(i).isSummaryVisible||ne(i).isRightCorrectionVisible]]):Jn("",!0),Zn(ce(Io,{size:"small",onClick:M[14]||(M[14]=K=>ne(i).setRightExpanded(!1))},{default:xt(()=>{var K;return[ie("span",null,He(ne(i).isInstructionsSelected?O.$t("allInstructions"):ne(i).isEssaySelected?O.$t("allEssay"):ne(i).isResourcesSelected?(K=ne(g).activeResource)==null?void 0:K.title:ne(i).isLeftCorrectionSelected?ne(i).leftCorrectionTitle:O.$t("mainContentExpandLeftColumn")),1),ce(Gn,{icon:"mdi-chevron-right"})]}),_:1},512),[[Co,ne(i).isRightExpanded]]),Zn(ce(Io,{size:"small",onClick:M[15]||(M[15]=K=>ne(i).setRightExpanded(!0))},{default:xt(()=>[ce(Gn,{icon:"mdi-chevron-left"}),ie("span",vke,He(O.$t("mainContentExpand")),1),ie("span",yke,He(O.$t("mainContentExpandRightColumn")),1)]),_:1},512),[[Co,!ne(i).isRightExpanded]])]),_:1})]),ie("div",xke,[ne(i).isSummaryVisible?(Xt(),Yo(kU,{key:0,correction_key:ne(Oe).corrections().ownKey,showCriteria:ne(i).showRightSummaryCriteria,showText:ne(i).showRightSummaryText,showRevision:ne(i).showRightSummaryRevision},null,8,["correction_key","showCriteria","showText","showRevision"])):Jn("",!0),ne(i).isRightCorrectionVisible?(Xt(),Yo(kU,{key:1,correction_key:ne(i).rightCorrectionKey,showCriteria:ne(i).showRightSummaryCriteria,showText:ne(i).showRightSummaryText,showRevision:ne(i).showRightSummaryRevision},null,8,["correction_key","showCriteria","showText","showRevision"])):Jn("",!0),ne(i).isMarkingVisible?(Xt(),Yo(Y_e,{key:2})):Jn("",!0)])],2),[[Co,ne(i).isRightVisible]])])]}),_:1}),ce(Mg,{persistent:"",modelValue:ne(Oe).layout().showSendFailure,"onUpdate:modelValue":M[17]||(M[17]=H=>ne(Oe).layout().showSendFailure=H)},{default:xt(()=>[ce(Ng,null,{default:xt(()=>[ce(Nm,null,{default:xt(()=>[ie("p",null,He(O.$t("mainContentSendFailureLine1")),1),ie("p",null,He(O.$t("mainContentSendFailureLine2")),1),ie("p",null,He(O.$t("mainContentSendFailureLine3")),1)]),_:1}),ce(Pm,null,{default:xt(()=>[ce(Io,{onClick:M[16]||(M[16]=H=>{ne(Oe).layout().showSendFailure=!1})},{default:xt(()=>[ce(Gn,{left:"",icon:"mdi-close"}),ie("span",null,He(O.$t("allCloseMessage")),1)]),_:1}),ce(Io,{href:ne(r).returnUrl},{default:xt(()=>[ce(Gn,{left:"",icon:"mdi-logout-variant"}),ie("span",null,He(O.$t("mainContentStopCorrection")),1)]),_:1},8,["href"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),ce(J_e)],64))}},Cke=Ea(wke,[["__scopeId","data-v-30be39f2"]]),Ske={__name:"StartupContent",setup(t){return(r,i)=>(Xt(),Yo(Mne,{"fill-height":""},{default:xt(()=>[ce(Vte,{elevation:"1",color:"white",density:"compact"},{default:xt(()=>[ie("p",null,He(r.$t("startupContentLoadData")),1),ce(_K),ce(Io,{href:ne(Oe).api().returnUrl},{default:xt(()=>[ce(Gn,{left:"",icon:"mdi-logout-variant"}),ie("span",null,He(r.$t("startupContentMyCorrections")),1)]),_:1},8,["href"])]),_:1}),ce(Mg,{persistent:"","max-width":"60em",modelValue:ne(Oe).layout().hasInitFailure,"onUpdate:modelValue":i[0]||(i[0]=u=>ne(Oe).layout().hasInitFailure=u)},{default:xt(()=>[ce(Ng,null,{default:xt(()=>[ce(I1,null,{default:xt(()=>[Ts(He(r.$t("startupContentLoadError")),1)]),_:1}),ce(Nm,null,{default:xt(()=>[ce(Dg,{type:"warning",variant:"text",color:"#0000A0"},{default:xt(()=>[Ts(He(ne(Oe).layout().initFailure),1)]),_:1})]),_:1}),ce(Pm,null,{default:xt(()=>[ce(Io,{href:ne(Oe).api().returnUrl},{default:xt(()=>[ce(Gn,{left:"",icon:"mdi-logout-variant"}),ie("span",null,He(r.$t("allEnd")),1)]),_:1},8,["href"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),ce(Mg,{persistent:"","max-width":"60em",modelValue:ne(Oe).layout().showItemLoadFailure,"onUpdate:modelValue":i[1]||(i[1]=u=>ne(Oe).layout().showItemLoadFailure=u)},{default:xt(()=>[ce(Ng,null,{default:xt(()=>[ce(Nm,null,{default:xt(()=>[ie("p",null,He(r.$t("startupContentLoadItemError")),1)]),_:1}),ce(Pm,null,{default:xt(()=>[ce(Io,{href:ne(Oe).api().returnUrl},{default:xt(()=>[ce(Gn,{left:"",icon:"mdi-logout-variant"}),ie("span",null,He(r.$t("allEnd")),1)]),_:1},8,["href"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),ce(Mg,{persistent:"","max-width":"60em",modelValue:ne(Oe).layout().showDataReplaceConfirmation,"onUpdate:modelValue":i[2]||(i[2]=u=>ne(Oe).layout().showDataReplaceConfirmation=u)},{default:xt(()=>[ce(Ng,null,{default:xt(()=>[ce(Nm,null,{default:xt(()=>[ie("p",null,He(r.$t("startupContentDataReplaceInfo1")),1),ie("p",null,[ie("strong",null,He(ne(Oe).tasks().currentTitle)+": "+He(ne(Oe).items().getItem(ne(Oe).api().storedItemKey,{key:0,title:"Unbekannt"}).title),1)]),ie("p",null,He(r.$t("startupContentDataReplaceInfo2")),1)]),_:1}),ce(Pm,null,{default:xt(()=>[ce(Io,{onClick:ne(Oe).api().initAfterReplaceDataConfirmed},{default:xt(()=>[ce(Gn,{left:"",icon:"mdi-reload"}),ie("span",null,He(r.$t("startupContentDeleteAndLoad")),1)]),_:1},8,["onClick"]),ce(Io,{href:ne(Oe).api().returnUrl},{default:xt(()=>[ce(Gn,{left:"",icon:"mdi-logout-variant"}),ie("span",null,He(r.$t("allCancel")),1)]),_:1},8,["href"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),ce(Mg,{persistent:"","max-width":"60em",modelValue:ne(Oe).layout().showItemReplaceConfirmation,"onUpdate:modelValue":i[3]||(i[3]=u=>ne(Oe).layout().showItemReplaceConfirmation=u)},{default:xt(()=>[ce(Ng,null,{default:xt(()=>[ce(Nm,null,{default:xt(()=>[ie("p",null,He(r.$t("startupContentItemReplaceInfo1")),1),ie("p",null,[ie("strong",null,He(ne(Oe).tasks().currentTitle)+": "+He(ne(Oe).items().getItem(ne(Oe).api().storedItemKey,{key:0,title:"Unbekannt"}).title),1)]),ie("p",null,He(r.$t("startupContentItemReplaceInfo2")),1)]),_:1}),ce(Pm,null,{default:xt(()=>[ce(Io,{onClick:ne(Oe).api().initAfterKeepDataConfirmed},{default:xt(()=>[ce(Gn,{left:"",icon:"mdi-pencil-outline"}),ie("span",null,He(r.$t("startupContentKeepLocalData")),1)]),_:1},8,["onClick"]),ce(Io,{onClick:ne(Oe).api().initAfterReplaceDataConfirmed},{default:xt(()=>[ce(Gn,{left:"",icon:"mdi-trash-can-outline"}),ie("span",null,He(r.$t("startupContentDeleteLocalData")),1)]),_:1},8,["onClick"]),ce(Io,{href:ne(Oe).api().returnUrl},{default:xt(()=>[ce(Gn,{left:"",icon:"mdi-logout-variant"}),ie("span",null,He(r.$t("allCancel")),1)]),_:1},8,["href"])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1}))}},_ke=qn({...or(),...Jhe({fullHeight:!0}),...oc()},"VApp"),kke=ts()({name:"VApp",props:_ke(),setup(t,r){let{slots:i}=r;const u=tu(t),{layoutClasses:g,getLayoutItem:h,items:x,layoutRef:w}=tpe(t),{rtlClasses:R}=ep();return $s(()=>{var D;return ie("div",{ref:w,class:xo(["v-application",u.themeClasses.value,g.value,R.value,t.class]),style:Qs([t.style])},[ie("div",{class:"v-application__wrap"},[(D=i.default)==null?void 0:D.call(i)])])}),{getLayoutItem:h,items:x,theme:u}}}),Eke={__name:"App",setup(t){return Oe.api().init(),(r,i)=>(Xt(),Yo(kke,{"fill-height":""},{default:xt(()=>[ne(Oe).layout().initialized?Jn("",!0):(Xt(),Yo(Ske,{key:0})),ne(Oe).layout().initialized?(Xt(),Yo(Vxe,{key:1})):Jn("",!0),ne(Oe).layout().initialized?(Xt(),Yo(Jxe,{key:2})):Jn("",!0),ne(Oe).layout().initialized?(Xt(),Yo(Cke,{key:3})):Jn("",!0)]),_:1}))}},Lne=Yme(Eke);Wbe(Lne);Lne.mount("#app");
