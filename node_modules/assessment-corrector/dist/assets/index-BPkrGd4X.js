var gde=Object.defineProperty;var hde=(t,r,i)=>r in t?gde(t,r,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[r]=i;var _t=(t,r,i)=>hde(t,typeof r!="symbol"?r+"":r,i);(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const g of document.querySelectorAll('link[rel="modulepreload"]'))u(g);new MutationObserver(g=>{for(const h of g)if(h.type==="childList")for(const x of h.addedNodes)x.tagName==="LINK"&&x.rel==="modulepreload"&&u(x)}).observe(document,{childList:!0,subtree:!0});function i(g){const h={};return g.integrity&&(h.integrity=g.integrity),g.referrerPolicy&&(h.referrerPolicy=g.referrerPolicy),g.crossOrigin==="use-credentials"?h.credentials="include":g.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function u(g){if(g.ep)return;g.ep=!0;const h=i(g);fetch(g.href,h)}})();/**
* @vue/shared v3.5.17
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function bW(t){const r=Object.create(null);for(const i of t.split(","))r[i]=1;return i=>i in r}const Ui={},hE=[],$b=()=>{},pde=()=>!1,RF=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),vW=t=>t.startsWith("onUpdate:"),rc=Object.assign,yW=(t,r)=>{const i=t.indexOf(r);i>-1&&t.splice(i,1)},bde=Object.prototype.hasOwnProperty,hi=(t,r)=>bde.call(t,r),ls=Array.isArray,pE=t=>cI(t)==="[object Map]",IF=t=>cI(t)==="[object Set]",NG=t=>cI(t)==="[object Date]",Ds=t=>typeof t=="function",tl=t=>typeof t=="string",zb=t=>typeof t=="symbol",Ii=t=>t!==null&&typeof t=="object",DX=t=>(Ii(t)||Ds(t))&&Ds(t.then)&&Ds(t.catch),PX=Object.prototype.toString,cI=t=>PX.call(t),vde=t=>cI(t).slice(8,-1),NX=t=>cI(t)==="[object Object]",xW=t=>tl(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,CR=bW(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),DF=t=>{const r=Object.create(null);return i=>r[i]||(r[i]=t(i))},yde=/-(\w)/g,Md=DF(t=>t.replace(yde,(r,i)=>i?i.toUpperCase():"")),xde=/\B([A-Z])/g,VC=DF(t=>t.replace(xde,"-$1").toLowerCase()),n1=DF(t=>t.charAt(0).toUpperCase()+t.slice(1)),O9=DF(t=>t?`on${n1(t)}`:""),gx=(t,r)=>!Object.is(t,r),B6=(t,...r)=>{for(let i=0;i<t.length;i++)t[i](...r)},SU=(t,r,i,u=!1)=>{Object.defineProperty(t,r,{configurable:!0,enumerable:!1,writable:u,value:i})},kU=t=>{const r=parseFloat(t);return isNaN(r)?t:r},wde=t=>{const r=tl(t)?Number(t):NaN;return isNaN(r)?t:r};let LG;const PF=()=>LG||(LG=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Ms(t){if(ls(t)){const r={};for(let i=0;i<t.length;i++){const u=t[i],g=tl(u)?kde(u):Ms(u);if(g)for(const h in g)r[h]=g[h]}return r}else if(tl(t)||Ii(t))return t}const Cde=/;(?![^(]*\))/g,_de=/:([^]+)/,Sde=/\/\*[^]*?\*\//g;function kde(t){const r={};return t.replace(Sde,"").split(Cde).forEach(i=>{if(i){const u=i.split(_de);u.length>1&&(r[u[0].trim()]=u[1].trim())}}),r}function lo(t){let r="";if(tl(t))r=t;else if(ls(t))for(let i=0;i<t.length;i++){const u=lo(t[i]);u&&(r+=u+" ")}else if(Ii(t))for(const i in t)t[i]&&(r+=i+" ");return r.trim()}const Ede="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Ade=bW(Ede);function LX(t){return!!t||t===""}function Tde(t,r){if(t.length!==r.length)return!1;let i=!0;for(let u=0;i&&u<t.length;u++)i=NF(t[u],r[u]);return i}function NF(t,r){if(t===r)return!0;let i=NG(t),u=NG(r);if(i||u)return i&&u?t.getTime()===r.getTime():!1;if(i=zb(t),u=zb(r),i||u)return t===r;if(i=ls(t),u=ls(r),i||u)return i&&u?Tde(t,r):!1;if(i=Ii(t),u=Ii(r),i||u){if(!i||!u)return!1;const g=Object.keys(t).length,h=Object.keys(r).length;if(g!==h)return!1;for(const x in t){const w=t.hasOwnProperty(x),I=r.hasOwnProperty(x);if(w&&!I||!w&&I||!NF(t[x],r[x]))return!1}}return String(t)===String(r)}function MX(t,r){return t.findIndex(i=>NF(i,r))}const BX=t=>!!(t&&t.__v_isRef===!0),Be=t=>tl(t)?t:t==null?"":ls(t)||Ii(t)&&(t.toString===PX||!Ds(t.toString))?BX(t)?Be(t.value):JSON.stringify(t,FX,2):String(t),FX=(t,r)=>BX(r)?FX(t,r.value):pE(r)?{[`Map(${r.size})`]:[...r.entries()].reduce((i,[u,g],h)=>(i[R9(u,h)+" =>"]=g,i),{})}:IF(r)?{[`Set(${r.size})`]:[...r.values()].map(i=>R9(i))}:zb(r)?R9(r):Ii(r)&&!ls(r)&&!NX(r)?String(r):r,R9=(t,r="")=>{var i;return zb(t)?`Symbol(${(i=t.description)!=null?i:r})`:t};/**
* @vue/reactivity v3.5.17
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Mu;class $X{constructor(r=!1){this.detached=r,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Mu,!r&&Mu&&(this.index=(Mu.scopes||(Mu.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let r,i;if(this.scopes)for(r=0,i=this.scopes.length;r<i;r++)this.scopes[r].pause();for(r=0,i=this.effects.length;r<i;r++)this.effects[r].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let r,i;if(this.scopes)for(r=0,i=this.scopes.length;r<i;r++)this.scopes[r].resume();for(r=0,i=this.effects.length;r<i;r++)this.effects[r].resume()}}run(r){if(this._active){const i=Mu;try{return Mu=this,r()}finally{Mu=i}}}on(){++this._on===1&&(this.prevScope=Mu,Mu=this)}off(){this._on>0&&--this._on===0&&(Mu=this.prevScope,this.prevScope=void 0)}stop(r){if(this._active){this._active=!1;let i,u;for(i=0,u=this.effects.length;i<u;i++)this.effects[i].stop();for(this.effects.length=0,i=0,u=this.cleanups.length;i<u;i++)this.cleanups[i]();if(this.cleanups.length=0,this.scopes){for(i=0,u=this.scopes.length;i<u;i++)this.scopes[i].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!r){const g=this.parent.scopes.pop();g&&g!==this&&(this.parent.scopes[this.index]=g,g.index=this.index)}this.parent=void 0}}}function vx(t){return new $X(t)}function wW(){return Mu}function ic(t,r=!1){Mu&&Mu.cleanups.push(t)}let ra;const I9=new WeakSet;class VX{constructor(r){this.fn=r,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Mu&&Mu.active&&Mu.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,I9.has(this)&&(I9.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||HX(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,MG(this),UX(this);const r=ra,i=cp;ra=this,cp=!0;try{return this.fn()}finally{WX(this),ra=r,cp=i,this.flags&=-3}}stop(){if(this.flags&1){for(let r=this.deps;r;r=r.nextDep)SW(r);this.deps=this.depsTail=void 0,MG(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?I9.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){EU(this)&&this.run()}get dirty(){return EU(this)}}let zX=0,_R,SR;function HX(t,r=!1){if(t.flags|=8,r){t.next=SR,SR=t;return}t.next=_R,_R=t}function CW(){zX++}function _W(){if(--zX>0)return;if(SR){let r=SR;for(SR=void 0;r;){const i=r.next;r.next=void 0,r.flags&=-9,r=i}}let t;for(;_R;){let r=_R;for(_R=void 0;r;){const i=r.next;if(r.next=void 0,r.flags&=-9,r.flags&1)try{r.trigger()}catch(u){t||(t=u)}r=i}}if(t)throw t}function UX(t){for(let r=t.deps;r;r=r.nextDep)r.version=-1,r.prevActiveLink=r.dep.activeLink,r.dep.activeLink=r}function WX(t){let r,i=t.depsTail,u=i;for(;u;){const g=u.prevDep;u.version===-1?(u===i&&(i=g),SW(u),Ode(u)):r=u,u.dep.activeLink=u.prevActiveLink,u.prevActiveLink=void 0,u=g}t.deps=r,t.depsTail=i}function EU(t){for(let r=t.deps;r;r=r.nextDep)if(r.dep.version!==r.version||r.dep.computed&&(KX(r.dep.computed)||r.dep.version!==r.version))return!0;return!!t._dirty}function KX(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===LR)||(t.globalVersion=LR,!t.isSSR&&t.flags&128&&(!t.deps&&!t._dirty||!EU(t))))return;t.flags|=2;const r=t.dep,i=ra,u=cp;ra=t,cp=!0;try{UX(t);const g=t.fn(t._value);(r.version===0||gx(g,t._value))&&(t.flags|=128,t._value=g,r.version++)}catch(g){throw r.version++,g}finally{ra=i,cp=u,WX(t),t.flags&=-3}}function SW(t,r=!1){const{dep:i,prevSub:u,nextSub:g}=t;if(u&&(u.nextSub=g,t.prevSub=void 0),g&&(g.prevSub=u,t.nextSub=void 0),i.subs===t&&(i.subs=u,!u&&i.computed)){i.computed.flags&=-5;for(let h=i.computed.deps;h;h=h.nextDep)SW(h,!0)}!r&&!--i.sc&&i.map&&i.map.delete(i.key)}function Ode(t){const{prevDep:r,nextDep:i}=t;r&&(r.nextDep=i,t.prevDep=void 0),i&&(i.prevDep=r,t.nextDep=void 0)}let cp=!0;const jX=[];function Y0(){jX.push(cp),cp=!1}function X0(){const t=jX.pop();cp=t===void 0?!0:t}function MG(t){const{cleanup:r}=t;if(t.cleanup=void 0,r){const i=ra;ra=void 0;try{r()}finally{ra=i}}}let LR=0;class Rde{constructor(r,i){this.sub=r,this.dep=i,this.version=i.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class kW{constructor(r){this.computed=r,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(r){if(!ra||!cp||ra===this.computed)return;let i=this.activeLink;if(i===void 0||i.sub!==ra)i=this.activeLink=new Rde(ra,this),ra.deps?(i.prevDep=ra.depsTail,ra.depsTail.nextDep=i,ra.depsTail=i):ra.deps=ra.depsTail=i,ZX(i);else if(i.version===-1&&(i.version=this.version,i.nextDep)){const u=i.nextDep;u.prevDep=i.prevDep,i.prevDep&&(i.prevDep.nextDep=u),i.prevDep=ra.depsTail,i.nextDep=void 0,ra.depsTail.nextDep=i,ra.depsTail=i,ra.deps===i&&(ra.deps=u)}return i}trigger(r){this.version++,LR++,this.notify(r)}notify(r){CW();try{for(let i=this.subs;i;i=i.prevSub)i.sub.notify()&&i.sub.dep.notify()}finally{_W()}}}function ZX(t){if(t.dep.sc++,t.sub.flags&4){const r=t.dep.computed;if(r&&!t.dep.subs){r.flags|=20;for(let u=r.deps;u;u=u.nextDep)ZX(u)}const i=t.dep.subs;i!==t&&(t.prevSub=i,i&&(i.nextSub=t)),t.dep.subs=t}}const J6=new WeakMap,PC=Symbol(""),AU=Symbol(""),MR=Symbol("");function Bu(t,r,i){if(cp&&ra){let u=J6.get(t);u||J6.set(t,u=new Map);let g=u.get(i);g||(u.set(i,g=new kW),g.map=u,g.key=i),g.track()}}function K0(t,r,i,u,g,h){const x=J6.get(t);if(!x){LR++;return}const w=I=>{I&&I.trigger()};if(CW(),r==="clear")x.forEach(w);else{const I=ls(t),D=I&&xW(i);if(I&&i==="length"){const O=Number(u);x.forEach((N,V)=>{(V==="length"||V===MR||!zb(V)&&V>=O)&&w(N)})}else switch((i!==void 0||x.has(void 0))&&w(x.get(i)),D&&w(x.get(MR)),r){case"add":I?D&&w(x.get("length")):(w(x.get(PC)),pE(t)&&w(x.get(AU)));break;case"delete":I||(w(x.get(PC)),pE(t)&&w(x.get(AU)));break;case"set":pE(t)&&w(x.get(PC));break}}_W()}function Ide(t,r){const i=J6.get(t);return i&&i.get(r)}function qk(t){const r=ps(t);return r===t?r:(Bu(r,"iterate",MR),Yg(t)?r:r.map(tu))}function LF(t){return Bu(t=ps(t),"iterate",MR),t}const Dde={__proto__:null,[Symbol.iterator](){return D9(this,Symbol.iterator,tu)},concat(...t){return qk(this).concat(...t.map(r=>ls(r)?qk(r):r))},entries(){return D9(this,"entries",t=>(t[1]=tu(t[1]),t))},every(t,r){return $0(this,"every",t,r,void 0,arguments)},filter(t,r){return $0(this,"filter",t,r,i=>i.map(tu),arguments)},find(t,r){return $0(this,"find",t,r,tu,arguments)},findIndex(t,r){return $0(this,"findIndex",t,r,void 0,arguments)},findLast(t,r){return $0(this,"findLast",t,r,tu,arguments)},findLastIndex(t,r){return $0(this,"findLastIndex",t,r,void 0,arguments)},forEach(t,r){return $0(this,"forEach",t,r,void 0,arguments)},includes(...t){return P9(this,"includes",t)},indexOf(...t){return P9(this,"indexOf",t)},join(t){return qk(this).join(t)},lastIndexOf(...t){return P9(this,"lastIndexOf",t)},map(t,r){return $0(this,"map",t,r,void 0,arguments)},pop(){return mR(this,"pop")},push(...t){return mR(this,"push",t)},reduce(t,...r){return BG(this,"reduce",t,r)},reduceRight(t,...r){return BG(this,"reduceRight",t,r)},shift(){return mR(this,"shift")},some(t,r){return $0(this,"some",t,r,void 0,arguments)},splice(...t){return mR(this,"splice",t)},toReversed(){return qk(this).toReversed()},toSorted(t){return qk(this).toSorted(t)},toSpliced(...t){return qk(this).toSpliced(...t)},unshift(...t){return mR(this,"unshift",t)},values(){return D9(this,"values",tu)}};function D9(t,r,i){const u=LF(t),g=u[r]();return u!==t&&!Yg(t)&&(g._next=g.next,g.next=()=>{const h=g._next();return h.value&&(h.value=i(h.value)),h}),g}const Pde=Array.prototype;function $0(t,r,i,u,g,h){const x=LF(t),w=x!==t&&!Yg(t),I=x[r];if(I!==Pde[r]){const N=I.apply(t,h);return w?tu(N):N}let D=i;x!==t&&(w?D=function(N,V){return i.call(this,tu(N),V,t)}:i.length>2&&(D=function(N,V){return i.call(this,N,V,t)}));const O=I.call(x,D,u);return w&&g?g(O):O}function BG(t,r,i,u){const g=LF(t);let h=i;return g!==t&&(Yg(t)?i.length>3&&(h=function(x,w,I){return i.call(this,x,w,I,t)}):h=function(x,w,I){return i.call(this,x,tu(w),I,t)}),g[r](h,...u)}function P9(t,r,i){const u=ps(t);Bu(u,"iterate",MR);const g=u[r](...i);return(g===-1||g===!1)&&TW(i[0])?(i[0]=ps(i[0]),u[r](...i)):g}function mR(t,r,i=[]){Y0(),CW();const u=ps(t)[r].apply(t,i);return _W(),X0(),u}const Nde=bW("__proto__,__v_isRef,__isVue"),GX=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(zb));function Lde(t){zb(t)||(t=String(t));const r=ps(this);return Bu(r,"has",t),r.hasOwnProperty(t)}class qX{constructor(r=!1,i=!1){this._isReadonly=r,this._isShallow=i}get(r,i,u){if(i==="__v_skip")return r.__v_skip;const g=this._isReadonly,h=this._isShallow;if(i==="__v_isReactive")return!g;if(i==="__v_isReadonly")return g;if(i==="__v_isShallow")return h;if(i==="__v_raw")return u===(g?h?Kde:QX:h?JX:XX).get(r)||Object.getPrototypeOf(r)===Object.getPrototypeOf(u)?r:void 0;const x=ls(r);if(!g){let I;if(x&&(I=Dde[i]))return I;if(i==="hasOwnProperty")return Lde}const w=Reflect.get(r,i,ia(r)?r:u);return(zb(i)?GX.has(i):Nde(i))||(g||Bu(r,"get",i),h)?w:ia(w)?x&&xW(i)?w:w.value:Ii(w)?g?NE(w):jl(w):w}}class YX extends qX{constructor(r=!1){super(!1,r)}set(r,i,u,g){let h=r[i];if(!this._isShallow){const I=yx(h);if(!Yg(u)&&!yx(u)&&(h=ps(h),u=ps(u)),!ls(r)&&ia(h)&&!ia(u))return I?!1:(h.value=u,!0)}const x=ls(r)&&xW(i)?Number(i)<r.length:hi(r,i),w=Reflect.set(r,i,u,ia(r)?r:g);return r===ps(g)&&(x?gx(u,h)&&K0(r,"set",i,u):K0(r,"add",i,u)),w}deleteProperty(r,i){const u=hi(r,i);r[i];const g=Reflect.deleteProperty(r,i);return g&&u&&K0(r,"delete",i,void 0),g}has(r,i){const u=Reflect.has(r,i);return(!zb(i)||!GX.has(i))&&Bu(r,"has",i),u}ownKeys(r){return Bu(r,"iterate",ls(r)?"length":PC),Reflect.ownKeys(r)}}class Mde extends qX{constructor(r=!1){super(!0,r)}set(r,i){return!0}deleteProperty(r,i){return!0}}const Bde=new YX,Fde=new Mde,$de=new YX(!0);const TU=t=>t,C6=t=>Reflect.getPrototypeOf(t);function Vde(t,r,i){return function(...u){const g=this.__v_raw,h=ps(g),x=pE(h),w=t==="entries"||t===Symbol.iterator&&x,I=t==="keys"&&x,D=g[t](...u),O=i?TU:r?Q6:tu;return!r&&Bu(h,"iterate",I?AU:PC),{next(){const{value:N,done:V}=D.next();return V?{value:N,done:V}:{value:w?[O(N[0]),O(N[1])]:O(N),done:V}},[Symbol.iterator](){return this}}}}function _6(t){return function(...r){return t==="delete"?!1:t==="clear"?void 0:this}}function zde(t,r){const i={get(g){const h=this.__v_raw,x=ps(h),w=ps(g);t||(gx(g,w)&&Bu(x,"get",g),Bu(x,"get",w));const{has:I}=C6(x),D=r?TU:t?Q6:tu;if(I.call(x,g))return D(h.get(g));if(I.call(x,w))return D(h.get(w));h!==x&&h.get(g)},get size(){const g=this.__v_raw;return!t&&Bu(ps(g),"iterate",PC),Reflect.get(g,"size",g)},has(g){const h=this.__v_raw,x=ps(h),w=ps(g);return t||(gx(g,w)&&Bu(x,"has",g),Bu(x,"has",w)),g===w?h.has(g):h.has(g)||h.has(w)},forEach(g,h){const x=this,w=x.__v_raw,I=ps(w),D=r?TU:t?Q6:tu;return!t&&Bu(I,"iterate",PC),w.forEach((O,N)=>g.call(h,D(O),D(N),x))}};return rc(i,t?{add:_6("add"),set:_6("set"),delete:_6("delete"),clear:_6("clear")}:{add(g){!r&&!Yg(g)&&!yx(g)&&(g=ps(g));const h=ps(this);return C6(h).has.call(h,g)||(h.add(g),K0(h,"add",g,g)),this},set(g,h){!r&&!Yg(h)&&!yx(h)&&(h=ps(h));const x=ps(this),{has:w,get:I}=C6(x);let D=w.call(x,g);D||(g=ps(g),D=w.call(x,g));const O=I.call(x,g);return x.set(g,h),D?gx(h,O)&&K0(x,"set",g,h):K0(x,"add",g,h),this},delete(g){const h=ps(this),{has:x,get:w}=C6(h);let I=x.call(h,g);I||(g=ps(g),I=x.call(h,g)),w&&w.call(h,g);const D=h.delete(g);return I&&K0(h,"delete",g,void 0),D},clear(){const g=ps(this),h=g.size!==0,x=g.clear();return h&&K0(g,"clear",void 0,void 0),x}}),["keys","values","entries",Symbol.iterator].forEach(g=>{i[g]=Vde(g,t,r)}),i}function EW(t,r){const i=zde(t,r);return(u,g,h)=>g==="__v_isReactive"?!t:g==="__v_isReadonly"?t:g==="__v_raw"?u:Reflect.get(hi(i,g)&&g in u?i:u,g,h)}const Hde={get:EW(!1,!1)},Ude={get:EW(!1,!0)},Wde={get:EW(!0,!1)};const XX=new WeakMap,JX=new WeakMap,QX=new WeakMap,Kde=new WeakMap;function jde(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Zde(t){return t.__v_skip||!Object.isExtensible(t)?0:jde(vde(t))}function jl(t){return yx(t)?t:AW(t,!1,Bde,Hde,XX)}function Gde(t){return AW(t,!1,$de,Ude,JX)}function NE(t){return AW(t,!0,Fde,Wde,QX)}function AW(t,r,i,u,g){if(!Ii(t)||t.__v_raw&&!(r&&t.__v_isReactive))return t;const h=Zde(t);if(h===0)return t;const x=g.get(t);if(x)return x;const w=new Proxy(t,h===2?u:i);return g.set(t,w),w}function hx(t){return yx(t)?hx(t.__v_raw):!!(t&&t.__v_isReactive)}function yx(t){return!!(t&&t.__v_isReadonly)}function Yg(t){return!!(t&&t.__v_isShallow)}function TW(t){return t?!!t.__v_raw:!1}function ps(t){const r=t&&t.__v_raw;return r?ps(r):t}function OW(t){return!hi(t,"__v_skip")&&Object.isExtensible(t)&&SU(t,"__v_skip",!0),t}const tu=t=>Ii(t)?jl(t):t,Q6=t=>Ii(t)?NE(t):t;function ia(t){return t?t.__v_isRef===!0:!1}function Tn(t){return eJ(t,!1)}function bo(t){return eJ(t,!0)}function eJ(t,r){return ia(t)?t:new qde(t,r)}class qde{constructor(r,i){this.dep=new kW,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=i?r:ps(r),this._value=i?r:tu(r),this.__v_isShallow=i}get value(){return this.dep.track(),this._value}set value(r){const i=this._rawValue,u=this.__v_isShallow||Yg(r)||yx(r);r=u?r:ps(r),gx(r,i)&&(this._rawValue=r,this._value=u?r:tu(r),this.dep.trigger())}}function Q(t){return ia(t)?t.value:t}function Hb(t){return Ds(t)?t():Q(t)}const Yde={get:(t,r,i)=>r==="__v_raw"?t:Q(Reflect.get(t,r,i)),set:(t,r,i,u)=>{const g=t[r];return ia(g)&&!ia(i)?(g.value=i,!0):Reflect.set(t,r,i,u)}};function tJ(t){return hx(t)?t:new Proxy(t,Yde)}function MF(t){const r=ls(t)?new Array(t.length):{};for(const i in t)r[i]=nJ(t,i);return r}class Xde{constructor(r,i,u){this._object=r,this._key=i,this._defaultValue=u,this.__v_isRef=!0,this._value=void 0}get value(){const r=this._object[this._key];return this._value=r===void 0?this._defaultValue:r}set value(r){this._object[this._key]=r}get dep(){return Ide(ps(this._object),this._key)}}class Jde{constructor(r){this._getter=r,this.__v_isRef=!0,this.__v_isReadonly=!0,this._value=void 0}get value(){return this._value=this._getter()}}function pn(t,r,i){return ia(t)?t:Ds(t)?new Jde(t):Ii(t)&&arguments.length>1?nJ(t,r,i):Tn(t)}function nJ(t,r,i){const u=t[r];return ia(u)?u:new Xde(t,r,i)}class Qde{constructor(r,i,u){this.fn=r,this.setter=i,this._value=void 0,this.dep=new kW(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=LR-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!i,this.isSSR=u}notify(){if(this.flags|=16,!(this.flags&8)&&ra!==this)return HX(this,!0),!0}get value(){const r=this.dep.track();return KX(this),r&&(r.version=this.dep.version),this._value}set value(r){this.setter&&this.setter(r)}}function efe(t,r,i=!1){let u,g;return Ds(t)?u=t:(u=t.get,g=t.set),new Qde(u,g,i)}const S6={},eF=new WeakMap;let EC;function tfe(t,r=!1,i=EC){if(i){let u=eF.get(i);u||eF.set(i,u=[]),u.push(t)}}function nfe(t,r,i=Ui){const{immediate:u,deep:g,once:h,scheduler:x,augmentJob:w,call:I}=i,D=j=>g?j:Yg(j)||g===!1||g===0?j0(j,1):j0(j);let O,N,V,U,Z=!1,ee=!1;if(ia(t)?(N=()=>t.value,Z=Yg(t)):hx(t)?(N=()=>D(t),Z=!0):ls(t)?(ee=!0,Z=t.some(j=>hx(j)||Yg(j)),N=()=>t.map(j=>{if(ia(j))return j.value;if(hx(j))return D(j);if(Ds(j))return I?I(j,2):j()})):Ds(t)?r?N=I?()=>I(t,2):t:N=()=>{if(V){Y0();try{V()}finally{X0()}}const j=EC;EC=O;try{return I?I(t,3,[U]):t(U)}finally{EC=j}}:N=$b,r&&g){const j=N,fe=g===!0?1/0:g;N=()=>j0(j(),fe)}const re=wW(),H=()=>{O.stop(),re&&re.active&&yW(re.effects,O)};if(h&&r){const j=r;r=(...fe)=>{j(...fe),H()}}let de=ee?new Array(t.length).fill(S6):S6;const le=j=>{if(!(!(O.flags&1)||!O.dirty&&!j))if(r){const fe=O.run();if(g||Z||(ee?fe.some((ne,Ve)=>gx(ne,de[Ve])):gx(fe,de))){V&&V();const ne=EC;EC=O;try{const Ve=[fe,de===S6?void 0:ee&&de[0]===S6?[]:de,U];de=fe,I?I(r,3,Ve):r(...Ve)}finally{EC=ne}}}else O.run()};return w&&w(le),O=new VX(N),O.scheduler=x?()=>x(le,!1):le,U=j=>tfe(j,!1,O),V=O.onStop=()=>{const j=eF.get(O);if(j){if(I)I(j,4);else for(const fe of j)fe();eF.delete(O)}},r?u?le(!0):de=O.run():x?x(le.bind(null,!0),!0):O.run(),H.pause=O.pause.bind(O),H.resume=O.resume.bind(O),H.stop=H,H}function j0(t,r=1/0,i){if(r<=0||!Ii(t)||t.__v_skip||(i=i||new Set,i.has(t)))return t;if(i.add(t),r--,ia(t))j0(t.value,r,i);else if(ls(t))for(let u=0;u<t.length;u++)j0(t[u],r,i);else if(IF(t)||pE(t))t.forEach(u=>{j0(u,r,i)});else if(NX(t)){for(const u in t)j0(t[u],r,i);for(const u of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,u)&&j0(t[u],r,i)}return t}/**
* @vue/runtime-core v3.5.17
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function uI(t,r,i,u){try{return u?t(...u):t()}catch(g){BF(g,r,i)}}function mp(t,r,i,u){if(Ds(t)){const g=uI(t,r,i,u);return g&&DX(g)&&g.catch(h=>{BF(h,r,i)}),g}if(ls(t)){const g=[];for(let h=0;h<t.length;h++)g.push(mp(t[h],r,i,u));return g}}function BF(t,r,i,u=!0){const g=r?r.vnode:null,{errorHandler:h,throwUnhandledErrorInProduction:x}=r&&r.appContext.config||Ui;if(r){let w=r.parent;const I=r.proxy,D=`https://vuejs.org/error-reference/#runtime-${i}`;for(;w;){const O=w.ec;if(O){for(let N=0;N<O.length;N++)if(O[N](t,I,D)===!1)return}w=w.parent}if(h){Y0(),uI(h,null,10,[t,I,D]),X0();return}}ofe(t,i,g,u,x)}function ofe(t,r,i,u=!0,g=!1){if(g)throw t;console.error(t)}const Pd=[];let Lb=-1;const bE=[];let cx=null,lE=0;const oJ=Promise.resolve();let tF=null;function Qo(t){const r=tF||oJ;return t?r.then(this?t.bind(this):t):r}function sfe(t){let r=Lb+1,i=Pd.length;for(;r<i;){const u=r+i>>>1,g=Pd[u],h=BR(g);h<t||h===t&&g.flags&2?r=u+1:i=u}return r}function RW(t){if(!(t.flags&1)){const r=BR(t),i=Pd[Pd.length-1];!i||!(t.flags&2)&&r>=BR(i)?Pd.push(t):Pd.splice(sfe(r),0,t),t.flags|=1,sJ()}}function sJ(){tF||(tF=oJ.then(iJ))}function rfe(t){ls(t)?bE.push(...t):cx&&t.id===-1?cx.splice(lE+1,0,t):t.flags&1||(bE.push(t),t.flags|=1),sJ()}function FG(t,r,i=Lb+1){for(;i<Pd.length;i++){const u=Pd[i];if(u&&u.flags&2){if(t&&u.id!==t.uid)continue;Pd.splice(i,1),i--,u.flags&4&&(u.flags&=-2),u(),u.flags&4||(u.flags&=-2)}}}function rJ(t){if(bE.length){const r=[...new Set(bE)].sort((i,u)=>BR(i)-BR(u));if(bE.length=0,cx){cx.push(...r);return}for(cx=r,lE=0;lE<cx.length;lE++){const i=cx[lE];i.flags&4&&(i.flags&=-2),i.flags&8||i(),i.flags&=-2}cx=null,lE=0}}const BR=t=>t.id==null?t.flags&2?-1:1/0:t.id;function iJ(t){try{for(Lb=0;Lb<Pd.length;Lb++){const r=Pd[Lb];r&&!(r.flags&8)&&(r.flags&4&&(r.flags&=-2),uI(r,r.i,r.i?15:14),r.flags&4||(r.flags&=-2))}}finally{for(;Lb<Pd.length;Lb++){const r=Pd[Lb];r&&(r.flags&=-2)}Lb=-1,Pd.length=0,rJ(),tF=null,(Pd.length||bE.length)&&iJ()}}let Ld=null,aJ=null;function nF(t){const r=Ld;return Ld=t,aJ=t&&t.type.__scopeId||null,r}function vt(t,r=Ld,i){if(!r||t._n)return t;const u=(...g)=>{u._d&&JG(-1);const h=nF(r);let x;try{x=t(...g)}finally{nF(h),u._d&&JG(1)}return x};return u._n=!0,u._c=!0,u._d=!0,u}function Mn(t,r){if(Ld===null)return t;const i=HF(Ld),u=t.dirs||(t.dirs=[]);for(let g=0;g<r.length;g++){let[h,x,w,I=Ui]=r[g];h&&(Ds(h)&&(h={mounted:h,updated:h}),h.deep&&j0(x),u.push({dir:h,instance:i,value:x,oldValue:void 0,arg:w,modifiers:I}))}return t}function yC(t,r,i,u){const g=t.dirs,h=r&&r.dirs;for(let x=0;x<g.length;x++){const w=g[x];h&&(w.oldValue=h[x].value);let I=w.dir[u];I&&(Y0(),mp(I,i,8,[t.el,w,t,r]),X0())}}const lJ=Symbol("_vte"),cJ=t=>t.__isTeleport,kR=t=>t&&(t.disabled||t.disabled===""),$G=t=>t&&(t.defer||t.defer===""),VG=t=>typeof SVGElement<"u"&&t instanceof SVGElement,zG=t=>typeof MathMLElement=="function"&&t instanceof MathMLElement,OU=(t,r)=>{const i=t&&t.to;return tl(i)?r?r(i):null:i},uJ={name:"Teleport",__isTeleport:!0,process(t,r,i,u,g,h,x,w,I,D){const{mc:O,pc:N,pbc:V,o:{insert:U,querySelector:Z,createText:ee,createComment:re}}=D,H=kR(r.props);let{shapeFlag:de,children:le,dynamicChildren:j}=r;if(t==null){const fe=r.el=ee(""),ne=r.anchor=ee("");U(fe,i,u),U(ne,i,u);const Ve=(Xe,rt)=>{de&16&&(g&&g.isCE&&(g.ce._teleportTarget=Xe),O(le,Xe,rt,g,h,x,w,I))},Fe=()=>{const Xe=r.target=OU(r.props,Z),rt=dJ(Xe,r,ee,U);Xe&&(x!=="svg"&&VG(Xe)?x="svg":x!=="mathml"&&zG(Xe)&&(x="mathml"),H||(Ve(Xe,rt),F6(r,!1)))};H&&(Ve(i,ne),F6(r,!0)),$G(r.props)?(r.el.__isMounted=!1,Dd(()=>{Fe(),delete r.el.__isMounted},h)):Fe()}else{if($G(r.props)&&t.el.__isMounted===!1){Dd(()=>{uJ.process(t,r,i,u,g,h,x,w,I,D)},h);return}r.el=t.el,r.targetStart=t.targetStart;const fe=r.anchor=t.anchor,ne=r.target=t.target,Ve=r.targetAnchor=t.targetAnchor,Fe=kR(t.props),Xe=Fe?i:ne,rt=Fe?fe:Ve;if(x==="svg"||VG(ne)?x="svg":(x==="mathml"||zG(ne))&&(x="mathml"),j?(V(t.dynamicChildren,j,Xe,g,h,x,w),MW(t,r,!0)):I||N(t,r,Xe,rt,g,h,x,w,!1),H)Fe?r.props&&t.props&&r.props.to!==t.props.to&&(r.props.to=t.props.to):k6(r,i,fe,D,1);else if((r.props&&r.props.to)!==(t.props&&t.props.to)){const xe=r.target=OU(r.props,Z);xe&&k6(r,xe,null,D,0)}else Fe&&k6(r,ne,Ve,D,1);F6(r,H)}},remove(t,r,i,{um:u,o:{remove:g}},h){const{shapeFlag:x,children:w,anchor:I,targetStart:D,targetAnchor:O,target:N,props:V}=t;if(N&&(g(D),g(O)),h&&g(I),x&16){const U=h||!kR(V);for(let Z=0;Z<w.length;Z++){const ee=w[Z];u(ee,r,i,U,!!ee.dynamicChildren)}}},move:k6,hydrate:ife};function k6(t,r,i,{o:{insert:u},m:g},h=2){h===0&&u(t.targetAnchor,r,i);const{el:x,anchor:w,shapeFlag:I,children:D,props:O}=t,N=h===2;if(N&&u(x,r,i),(!N||kR(O))&&I&16)for(let V=0;V<D.length;V++)g(D[V],r,i,2);N&&u(w,r,i)}function ife(t,r,i,u,g,h,{o:{nextSibling:x,parentNode:w,querySelector:I,insert:D,createText:O}},N){const V=r.target=OU(r.props,I);if(V){const U=kR(r.props),Z=V._lpa||V.firstChild;if(r.shapeFlag&16)if(U)r.anchor=N(x(t),r,w(t),i,u,g,h),r.targetStart=Z,r.targetAnchor=Z&&x(Z);else{r.anchor=x(t);let ee=Z;for(;ee;){if(ee&&ee.nodeType===8){if(ee.data==="teleport start anchor")r.targetStart=ee;else if(ee.data==="teleport anchor"){r.targetAnchor=ee,V._lpa=r.targetAnchor&&x(r.targetAnchor);break}}ee=x(ee)}r.targetAnchor||dJ(V,r,O,D),N(Z&&x(Z),r,V,i,u,g,h)}F6(r,U)}return r.anchor&&x(r.anchor)}const afe=uJ;function F6(t,r){const i=t.ctx;if(i&&i.ut){let u,g;for(r?(u=t.el,g=t.anchor):(u=t.targetStart,g=t.targetAnchor);u&&u!==g;)u.nodeType===1&&u.setAttribute("data-v-owner",i.uid),u=u.nextSibling;i.ut()}}function dJ(t,r,i,u){const g=r.targetStart=i(""),h=r.targetAnchor=i("");return g[lJ]=h,t&&(u(g,t),u(h,t)),h}const ux=Symbol("_leaveCb"),E6=Symbol("_enterCb");function fJ(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Ku(()=>{t.isMounted=!0}),Ac(()=>{t.isUnmounting=!0}),t}const Hg=[Function,Array],mJ={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Hg,onEnter:Hg,onAfterEnter:Hg,onEnterCancelled:Hg,onBeforeLeave:Hg,onLeave:Hg,onAfterLeave:Hg,onLeaveCancelled:Hg,onBeforeAppear:Hg,onAppear:Hg,onAfterAppear:Hg,onAppearCancelled:Hg},gJ=t=>{const r=t.subTree;return r.component?gJ(r.component):r},lfe={name:"BaseTransition",props:mJ,setup(t,{slots:r}){const i=LE(),u=fJ();return()=>{const g=r.default&&IW(r.default(),!0);if(!g||!g.length)return;const h=hJ(g),x=ps(t),{mode:w}=x;if(u.isLeaving)return N9(h);const I=HG(h);if(!I)return N9(h);let D=FR(I,x,u,i,N=>D=N);I.type!==$u&&BC(I,D);let O=i.subTree&&HG(i.subTree);if(O&&O.type!==$u&&!AC(I,O)&&gJ(i).type!==$u){let N=FR(O,x,u,i);if(BC(O,N),w==="out-in"&&I.type!==$u)return u.isLeaving=!0,N.afterLeave=()=>{u.isLeaving=!1,i.job.flags&8||i.update(),delete N.afterLeave,O=void 0},N9(h);w==="in-out"&&I.type!==$u?N.delayLeave=(V,U,Z)=>{const ee=pJ(u,O);ee[String(O.key)]=O,V[ux]=()=>{U(),V[ux]=void 0,delete D.delayedLeave,O=void 0},D.delayedLeave=()=>{Z(),delete D.delayedLeave,O=void 0}}:O=void 0}else O&&(O=void 0);return h}}};function hJ(t){let r=t[0];if(t.length>1){for(const i of t)if(i.type!==$u){r=i;break}}return r}const cfe=lfe;function pJ(t,r){const{leavingVNodes:i}=t;let u=i.get(r.type);return u||(u=Object.create(null),i.set(r.type,u)),u}function FR(t,r,i,u,g){const{appear:h,mode:x,persisted:w=!1,onBeforeEnter:I,onEnter:D,onAfterEnter:O,onEnterCancelled:N,onBeforeLeave:V,onLeave:U,onAfterLeave:Z,onLeaveCancelled:ee,onBeforeAppear:re,onAppear:H,onAfterAppear:de,onAppearCancelled:le}=r,j=String(t.key),fe=pJ(i,t),ne=(Xe,rt)=>{Xe&&mp(Xe,u,9,rt)},Ve=(Xe,rt)=>{const xe=rt[1];ne(Xe,rt),ls(Xe)?Xe.every(_e=>_e.length<=1)&&xe():Xe.length<=1&&xe()},Fe={mode:x,persisted:w,beforeEnter(Xe){let rt=I;if(!i.isMounted)if(h)rt=re||I;else return;Xe[ux]&&Xe[ux](!0);const xe=fe[j];xe&&AC(t,xe)&&xe.el[ux]&&xe.el[ux](),ne(rt,[Xe])},enter(Xe){let rt=D,xe=O,_e=N;if(!i.isMounted)if(h)rt=H||D,xe=de||O,_e=le||N;else return;let R=!1;const it=Xe[E6]=lt=>{R||(R=!0,lt?ne(_e,[Xe]):ne(xe,[Xe]),Fe.delayedLeave&&Fe.delayedLeave(),Xe[E6]=void 0)};rt?Ve(rt,[Xe,it]):it()},leave(Xe,rt){const xe=String(t.key);if(Xe[E6]&&Xe[E6](!0),i.isUnmounting)return rt();ne(V,[Xe]);let _e=!1;const R=Xe[ux]=it=>{_e||(_e=!0,rt(),it?ne(ee,[Xe]):ne(Z,[Xe]),Xe[ux]=void 0,fe[xe]===t&&delete fe[xe])};fe[xe]=t,U?Ve(U,[Xe,R]):R()},clone(Xe){const rt=FR(Xe,r,i,u,g);return g&&g(rt),rt}};return Fe}function N9(t){if(FF(t))return t=Q0(t),t.children=null,t}function HG(t){if(!FF(t))return cJ(t.type)&&t.children?hJ(t.children):t;if(t.component)return t.component.subTree;const{shapeFlag:r,children:i}=t;if(i){if(r&16)return i[0];if(r&32&&Ds(i.default))return i.default()}}function BC(t,r){t.shapeFlag&6&&t.component?(t.transition=r,BC(t.component.subTree,r)):t.shapeFlag&128?(t.ssContent.transition=r.clone(t.ssContent),t.ssFallback.transition=r.clone(t.ssFallback)):t.transition=r}function IW(t,r=!1,i){let u=[],g=0;for(let h=0;h<t.length;h++){let x=t[h];const w=i==null?x.key:String(i)+String(x.key!=null?x.key:h);x.type===Yo?(x.patchFlag&128&&g++,u=u.concat(IW(x.children,r,w))):(r||x.type!==$u)&&u.push(w!=null?Q0(x,{key:w}):x)}if(g>1)for(let h=0;h<u.length;h++)u[h].patchFlag=-2;return u}/*! #__NO_SIDE_EFFECTS__ */function bJ(t,r){return Ds(t)?rc({name:t.name},r,{setup:t}):t}function o1(){const t=LE();return t?(t.appContext.config.idPrefix||"v")+"-"+t.ids[0]+t.ids[1]++:""}function vJ(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}function ER(t,r,i,u,g=!1){if(ls(t)){t.forEach((Z,ee)=>ER(Z,r&&(ls(r)?r[ee]:r),i,u,g));return}if(AR(u)&&!g){u.shapeFlag&512&&u.type.__asyncResolved&&u.component.subTree.component&&ER(t,r,i,u.component.subTree);return}const h=u.shapeFlag&4?HF(u.component):u.el,x=g?null:h,{i:w,r:I}=t,D=r&&r.r,O=w.refs===Ui?w.refs={}:w.refs,N=w.setupState,V=ps(N),U=N===Ui?()=>!1:Z=>hi(V,Z);if(D!=null&&D!==I&&(tl(D)?(O[D]=null,U(D)&&(N[D]=null)):ia(D)&&(D.value=null)),Ds(I))uI(I,w,12,[x,O]);else{const Z=tl(I),ee=ia(I);if(Z||ee){const re=()=>{if(t.f){const H=Z?U(I)?N[I]:O[I]:I.value;g?ls(H)&&yW(H,h):ls(H)?H.includes(h)||H.push(h):Z?(O[I]=[h],U(I)&&(N[I]=O[I])):(I.value=[h],t.k&&(O[t.k]=I.value))}else Z?(O[I]=x,U(I)&&(N[I]=x)):ee&&(I.value=x,t.k&&(O[t.k]=x))};x?(re.id=-1,Dd(re,i)):re()}}}PF().requestIdleCallback;PF().cancelIdleCallback;const AR=t=>!!t.type.__asyncLoader,FF=t=>t.type.__isKeepAlive;function DW(t,r){yJ(t,"a",r)}function $F(t,r){yJ(t,"da",r)}function yJ(t,r,i=Ec){const u=t.__wdc||(t.__wdc=()=>{let g=i;for(;g;){if(g.isDeactivated)return;g=g.parent}return t()});if(VF(r,u,i),i){let g=i.parent;for(;g&&g.parent;)FF(g.parent.vnode)&&ufe(u,r,i,g),g=g.parent}}function ufe(t,r,i,u){const g=VF(r,t,u,!0);xJ(()=>{yW(u[r],g)},i)}function VF(t,r,i=Ec,u=!1){if(i){const g=i[t]||(i[t]=[]),h=r.__weh||(r.__weh=(...x)=>{Y0();const w=mI(i),I=mp(r,i,t,x);return w(),X0(),I});return u?g.unshift(h):g.push(h),h}}const s1=t=>(r,i=Ec)=>{(!zR||t==="sp")&&VF(t,(...u)=>r(...u),i)},dI=s1("bm"),Ku=s1("m"),dfe=s1("bu"),PW=s1("u"),Ac=s1("bum"),xJ=s1("um"),ffe=s1("sp"),mfe=s1("rtg"),gfe=s1("rtc");function hfe(t,r=Ec){VF("ec",t,r)}const pfe="components",bfe=Symbol.for("v-ndc");function vfe(t){return tl(t)&&yfe(pfe,t,!1)||t}function yfe(t,r,i=!0,u=!1){const g=Ld||Ec;if(g){const h=g.type;{const w=rme(h,!1);if(w&&(w===r||w===Md(r)||w===n1(Md(r))))return h}const x=UG(g[t]||h[t],r)||UG(g.appContext[t],r);return!x&&u?h:x}}function UG(t,r){return t&&(t[r]||t[Md(r)]||t[n1(Md(r))])}function J0(t,r,i,u){let g;const h=i,x=ls(t);if(x||tl(t)){const w=x&&hx(t);let I=!1,D=!1;w&&(I=!Yg(t),D=yx(t),t=LF(t)),g=new Array(t.length);for(let O=0,N=t.length;O<N;O++)g[O]=r(I?D?Q6(tu(t[O])):tu(t[O]):t[O],O,void 0,h)}else if(typeof t=="number"){g=new Array(t);for(let w=0;w<t;w++)g[w]=r(w+1,w,void 0,h)}else if(Ii(t))if(t[Symbol.iterator])g=Array.from(t,(w,I)=>r(w,I,void 0,h));else{const w=Object.keys(t);g=new Array(w.length);for(let I=0,D=w.length;I<D;I++){const O=w[I];g[I]=r(t[O],O,I,h)}}else g=[];return g}const RU=t=>t?FJ(t)?HF(t):RU(t.parent):null,TR=rc(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>RU(t.parent),$root:t=>RU(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>CJ(t),$forceUpdate:t=>t.f||(t.f=()=>{RW(t.update)}),$nextTick:t=>t.n||(t.n=Qo.bind(t.proxy)),$watch:t=>zfe.bind(t)}),L9=(t,r)=>t!==Ui&&!t.__isScriptSetup&&hi(t,r),xfe={get({_:t},r){if(r==="__v_skip")return!0;const{ctx:i,setupState:u,data:g,props:h,accessCache:x,type:w,appContext:I}=t;let D;if(r[0]!=="$"){const U=x[r];if(U!==void 0)switch(U){case 1:return u[r];case 2:return g[r];case 4:return i[r];case 3:return h[r]}else{if(L9(u,r))return x[r]=1,u[r];if(g!==Ui&&hi(g,r))return x[r]=2,g[r];if((D=t.propsOptions[0])&&hi(D,r))return x[r]=3,h[r];if(i!==Ui&&hi(i,r))return x[r]=4,i[r];IU&&(x[r]=0)}}const O=TR[r];let N,V;if(O)return r==="$attrs"&&Bu(t.attrs,"get",""),O(t);if((N=w.__cssModules)&&(N=N[r]))return N;if(i!==Ui&&hi(i,r))return x[r]=4,i[r];if(V=I.config.globalProperties,hi(V,r))return V[r]},set({_:t},r,i){const{data:u,setupState:g,ctx:h}=t;return L9(g,r)?(g[r]=i,!0):u!==Ui&&hi(u,r)?(u[r]=i,!0):hi(t.props,r)||r[0]==="$"&&r.slice(1)in t?!1:(h[r]=i,!0)},has({_:{data:t,setupState:r,accessCache:i,ctx:u,appContext:g,propsOptions:h}},x){let w;return!!i[x]||t!==Ui&&hi(t,x)||L9(r,x)||(w=h[0])&&hi(w,x)||hi(u,x)||hi(TR,x)||hi(g.config.globalProperties,x)},defineProperty(t,r,i){return i.get!=null?t._.accessCache[r]=0:hi(i,"value")&&this.set(t,r,i.value,null),Reflect.defineProperty(t,r,i)}};function WG(t){return ls(t)?t.reduce((r,i)=>(r[i]=null,r),{}):t}let IU=!0;function wfe(t){const r=CJ(t),i=t.proxy,u=t.ctx;IU=!1,r.beforeCreate&&KG(r.beforeCreate,t,"bc");const{data:g,computed:h,methods:x,watch:w,provide:I,inject:D,created:O,beforeMount:N,mounted:V,beforeUpdate:U,updated:Z,activated:ee,deactivated:re,beforeDestroy:H,beforeUnmount:de,destroyed:le,unmounted:j,render:fe,renderTracked:ne,renderTriggered:Ve,errorCaptured:Fe,serverPrefetch:Xe,expose:rt,inheritAttrs:xe,components:_e,directives:R,filters:it}=r;if(D&&Cfe(D,u,null),x)for(const Qt in x){const dt=x[Qt];Ds(dt)&&(u[Qt]=dt.bind(i))}if(g){const Qt=g.call(i,i);Ii(Qt)&&(t.data=jl(Qt))}if(IU=!0,h)for(const Qt in h){const dt=h[Qt],Sn=Ds(dt)?dt.bind(i,i):Ds(dt.get)?dt.get.bind(i,i):$b,Et=!Ds(dt)&&Ds(dt.set)?dt.set.bind(i):$b,et=Rt({get:Sn,set:Et});Object.defineProperty(u,Qt,{enumerable:!0,configurable:!0,get:()=>et.value,set:Me=>et.value=Me})}if(w)for(const Qt in w)wJ(w[Qt],u,i,Qt);if(I){const Qt=Ds(I)?I.call(i):I;Reflect.ownKeys(Qt).forEach(dt=>{Fd(dt,Qt[dt])})}O&&KG(O,t,"c");function Lt(Qt,dt){ls(dt)?dt.forEach(Sn=>Qt(Sn.bind(i))):dt&&Qt(dt.bind(i))}if(Lt(dI,N),Lt(Ku,V),Lt(dfe,U),Lt(PW,Z),Lt(DW,ee),Lt($F,re),Lt(hfe,Fe),Lt(gfe,ne),Lt(mfe,Ve),Lt(Ac,de),Lt(xJ,j),Lt(ffe,Xe),ls(rt))if(rt.length){const Qt=t.exposed||(t.exposed={});rt.forEach(dt=>{Object.defineProperty(Qt,dt,{get:()=>i[dt],set:Sn=>i[dt]=Sn})})}else t.exposed||(t.exposed={});fe&&t.render===$b&&(t.render=fe),xe!=null&&(t.inheritAttrs=xe),_e&&(t.components=_e),R&&(t.directives=R),Xe&&vJ(t)}function Cfe(t,r,i=$b){ls(t)&&(t=DU(t));for(const u in t){const g=t[u];let h;Ii(g)?"default"in g?h=ji(g.from||u,g.default,!0):h=ji(g.from||u):h=ji(g),ia(h)?Object.defineProperty(r,u,{enumerable:!0,configurable:!0,get:()=>h.value,set:x=>h.value=x}):r[u]=h}}function KG(t,r,i){mp(ls(t)?t.map(u=>u.bind(r.proxy)):t.bind(r.proxy),r,i)}function wJ(t,r,i,u){let g=u.includes(".")?PJ(i,u):()=>i[u];if(tl(t)){const h=r[t];Ds(h)&&Rn(g,h)}else if(Ds(t))Rn(g,t.bind(i));else if(Ii(t))if(ls(t))t.forEach(h=>wJ(h,r,i,u));else{const h=Ds(t.handler)?t.handler.bind(i):r[t.handler];Ds(h)&&Rn(g,h,t)}}function CJ(t){const r=t.type,{mixins:i,extends:u}=r,{mixins:g,optionsCache:h,config:{optionMergeStrategies:x}}=t.appContext,w=h.get(r);let I;return w?I=w:!g.length&&!i&&!u?I=r:(I={},g.length&&g.forEach(D=>oF(I,D,x,!0)),oF(I,r,x)),Ii(r)&&h.set(r,I),I}function oF(t,r,i,u=!1){const{mixins:g,extends:h}=r;h&&oF(t,h,i,!0),g&&g.forEach(x=>oF(t,x,i,!0));for(const x in r)if(!(u&&x==="expose")){const w=_fe[x]||i&&i[x];t[x]=w?w(t[x],r[x]):r[x]}return t}const _fe={data:jG,props:ZG,emits:ZG,methods:wR,computed:wR,beforeCreate:Rd,created:Rd,beforeMount:Rd,mounted:Rd,beforeUpdate:Rd,updated:Rd,beforeDestroy:Rd,beforeUnmount:Rd,destroyed:Rd,unmounted:Rd,activated:Rd,deactivated:Rd,errorCaptured:Rd,serverPrefetch:Rd,components:wR,directives:wR,watch:kfe,provide:jG,inject:Sfe};function jG(t,r){return r?t?function(){return rc(Ds(t)?t.call(this,this):t,Ds(r)?r.call(this,this):r)}:r:t}function Sfe(t,r){return wR(DU(t),DU(r))}function DU(t){if(ls(t)){const r={};for(let i=0;i<t.length;i++)r[t[i]]=t[i];return r}return t}function Rd(t,r){return t?[...new Set([].concat(t,r))]:r}function wR(t,r){return t?rc(Object.create(null),t,r):r}function ZG(t,r){return t?ls(t)&&ls(r)?[...new Set([...t,...r])]:rc(Object.create(null),WG(t),WG(r??{})):r}function kfe(t,r){if(!t)return r;if(!r)return t;const i=rc(Object.create(null),t);for(const u in r)i[u]=Rd(t[u],r[u]);return i}function _J(){return{app:null,config:{isNativeTag:pde,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Efe=0;function Afe(t,r){return function(u,g=null){Ds(u)||(u=rc({},u)),g!=null&&!Ii(g)&&(g=null);const h=_J(),x=new WeakSet,w=[];let I=!1;const D=h.app={_uid:Efe++,_component:u,_props:g,_container:null,_context:h,_instance:null,version:ame,get config(){return h.config},set config(O){},use(O,...N){return x.has(O)||(O&&Ds(O.install)?(x.add(O),O.install(D,...N)):Ds(O)&&(x.add(O),O(D,...N))),D},mixin(O){return h.mixins.includes(O)||h.mixins.push(O),D},component(O,N){return N?(h.components[O]=N,D):h.components[O]},directive(O,N){return N?(h.directives[O]=N,D):h.directives[O]},mount(O,N,V){if(!I){const U=D._ceVNode||ae(u,g);return U.appContext=h,V===!0?V="svg":V===!1&&(V=void 0),t(U,O,V),I=!0,D._container=O,O.__vue_app__=D,HF(U.component)}},onUnmount(O){w.push(O)},unmount(){I&&(mp(w,D._instance,16),t(null,D._container),delete D._container.__vue_app__)},provide(O,N){return h.provides[O]=N,D},runWithContext(O){const N=NC;NC=D;try{return O()}finally{NC=N}}};return D}}let NC=null;function Fd(t,r){if(Ec){let i=Ec.provides;const u=Ec.parent&&Ec.parent.provides;u===i&&(i=Ec.provides=Object.create(u)),i[t]=r}}function ji(t,r,i=!1){const u=Ec||Ld;if(u||NC){let g=NC?NC._context.provides:u?u.parent==null||u.ce?u.vnode.appContext&&u.vnode.appContext.provides:u.parent.provides:void 0;if(g&&t in g)return g[t];if(arguments.length>1)return i&&Ds(r)?r.call(u&&u.proxy):r}}function Tfe(){return!!(Ec||Ld||NC)}const SJ={},kJ=()=>Object.create(SJ),EJ=t=>Object.getPrototypeOf(t)===SJ;function Ofe(t,r,i,u=!1){const g={},h=kJ();t.propsDefaults=Object.create(null),AJ(t,r,g,h);for(const x in t.propsOptions[0])x in g||(g[x]=void 0);i?t.props=u?g:Gde(g):t.type.props?t.props=g:t.props=h,t.attrs=h}function Rfe(t,r,i,u){const{props:g,attrs:h,vnode:{patchFlag:x}}=t,w=ps(g),[I]=t.propsOptions;let D=!1;if((u||x>0)&&!(x&16)){if(x&8){const O=t.vnode.dynamicProps;for(let N=0;N<O.length;N++){let V=O[N];if(zF(t.emitsOptions,V))continue;const U=r[V];if(I)if(hi(h,V))U!==h[V]&&(h[V]=U,D=!0);else{const Z=Md(V);g[Z]=PU(I,w,Z,U,t,!1)}else U!==h[V]&&(h[V]=U,D=!0)}}}else{AJ(t,r,g,h)&&(D=!0);let O;for(const N in w)(!r||!hi(r,N)&&((O=VC(N))===N||!hi(r,O)))&&(I?i&&(i[N]!==void 0||i[O]!==void 0)&&(g[N]=PU(I,w,N,void 0,t,!0)):delete g[N]);if(h!==w)for(const N in h)(!r||!hi(r,N))&&(delete h[N],D=!0)}D&&K0(t.attrs,"set","")}function AJ(t,r,i,u){const[g,h]=t.propsOptions;let x=!1,w;if(r)for(let I in r){if(CR(I))continue;const D=r[I];let O;g&&hi(g,O=Md(I))?!h||!h.includes(O)?i[O]=D:(w||(w={}))[O]=D:zF(t.emitsOptions,I)||(!(I in u)||D!==u[I])&&(u[I]=D,x=!0)}if(h){const I=ps(i),D=w||Ui;for(let O=0;O<h.length;O++){const N=h[O];i[N]=PU(g,I,N,D[N],t,!hi(D,N))}}return x}function PU(t,r,i,u,g,h){const x=t[i];if(x!=null){const w=hi(x,"default");if(w&&u===void 0){const I=x.default;if(x.type!==Function&&!x.skipFactory&&Ds(I)){const{propsDefaults:D}=g;if(i in D)u=D[i];else{const O=mI(g);u=D[i]=I.call(null,r),O()}}else u=I;g.ce&&g.ce._setProp(i,u)}x[0]&&(h&&!w?u=!1:x[1]&&(u===""||u===VC(i))&&(u=!0))}return u}const Ife=new WeakMap;function TJ(t,r,i=!1){const u=i?Ife:r.propsCache,g=u.get(t);if(g)return g;const h=t.props,x={},w=[];let I=!1;if(!Ds(t)){const O=N=>{I=!0;const[V,U]=TJ(N,r,!0);rc(x,V),U&&w.push(...U)};!i&&r.mixins.length&&r.mixins.forEach(O),t.extends&&O(t.extends),t.mixins&&t.mixins.forEach(O)}if(!h&&!I)return Ii(t)&&u.set(t,hE),hE;if(ls(h))for(let O=0;O<h.length;O++){const N=Md(h[O]);GG(N)&&(x[N]=Ui)}else if(h)for(const O in h){const N=Md(O);if(GG(N)){const V=h[O],U=x[N]=ls(V)||Ds(V)?{type:V}:rc({},V),Z=U.type;let ee=!1,re=!0;if(ls(Z))for(let H=0;H<Z.length;++H){const de=Z[H],le=Ds(de)&&de.name;if(le==="Boolean"){ee=!0;break}else le==="String"&&(re=!1)}else ee=Ds(Z)&&Z.name==="Boolean";U[0]=ee,U[1]=re,(ee||hi(U,"default"))&&w.push(N)}}const D=[x,w];return Ii(t)&&u.set(t,D),D}function GG(t){return t[0]!=="$"&&!CR(t)}const NW=t=>t[0]==="_"||t==="$stable",LW=t=>ls(t)?t.map(Bb):[Bb(t)],Dfe=(t,r,i)=>{if(r._n)return r;const u=vt((...g)=>LW(r(...g)),i);return u._c=!1,u},OJ=(t,r,i)=>{const u=t._ctx;for(const g in t){if(NW(g))continue;const h=t[g];if(Ds(h))r[g]=Dfe(g,h,u);else if(h!=null){const x=LW(h);r[g]=()=>x}}},RJ=(t,r)=>{const i=LW(r);t.slots.default=()=>i},IJ=(t,r,i)=>{for(const u in r)(i||!NW(u))&&(t[u]=r[u])},Pfe=(t,r,i)=>{const u=t.slots=kJ();if(t.vnode.shapeFlag&32){const g=r.__;g&&SU(u,"__",g,!0);const h=r._;h?(IJ(u,r,i),i&&SU(u,"_",h,!0)):OJ(r,u)}else r&&RJ(t,r)},Nfe=(t,r,i)=>{const{vnode:u,slots:g}=t;let h=!0,x=Ui;if(u.shapeFlag&32){const w=r._;w?i&&w===1?h=!1:IJ(g,r,i):(h=!r.$stable,OJ(r,g)),x=r}else r&&(RJ(t,r),x={default:1});if(h)for(const w in g)!NW(w)&&x[w]==null&&delete g[w]},Dd=Gfe;function Lfe(t){return Mfe(t)}function Mfe(t,r){const i=PF();i.__VUE__=!0;const{insert:u,remove:g,patchProp:h,createElement:x,createText:w,createComment:I,setText:D,setElementText:O,parentNode:N,nextSibling:V,setScopeId:U=$b,insertStaticContent:Z}=t,ee=(Ke,tt,we,Re=null,He=null,be=null,ke=void 0,Ne=null,Ge=!!tt.dynamicChildren)=>{if(Ke===tt)return;Ke&&!AC(Ke,tt)&&(Re=sn(Ke),Me(Ke,He,be,!0),Ke=null),tt.patchFlag===-2&&(Ge=!1,tt.dynamicChildren=null);const{type:pt,ref:cn,shapeFlag:jt}=tt;switch(pt){case fI:re(Ke,tt,we,Re);break;case $u:H(Ke,tt,we,Re);break;case B9:Ke==null&&de(tt,we,Re,ke);break;case Yo:_e(Ke,tt,we,Re,He,be,ke,Ne,Ge);break;default:jt&1?fe(Ke,tt,we,Re,He,be,ke,Ne,Ge):jt&6?R(Ke,tt,we,Re,He,be,ke,Ne,Ge):(jt&64||jt&128)&&pt.process(Ke,tt,we,Re,He,be,ke,Ne,Ge,Zt)}cn!=null&&He?ER(cn,Ke&&Ke.ref,be,tt||Ke,!tt):cn==null&&Ke&&Ke.ref!=null&&ER(Ke.ref,null,be,Ke,!0)},re=(Ke,tt,we,Re)=>{if(Ke==null)u(tt.el=w(tt.children),we,Re);else{const He=tt.el=Ke.el;tt.children!==Ke.children&&D(He,tt.children)}},H=(Ke,tt,we,Re)=>{Ke==null?u(tt.el=I(tt.children||""),we,Re):tt.el=Ke.el},de=(Ke,tt,we,Re)=>{[Ke.el,Ke.anchor]=Z(Ke.children,tt,we,Re,Ke.el,Ke.anchor)},le=({el:Ke,anchor:tt},we,Re)=>{let He;for(;Ke&&Ke!==tt;)He=V(Ke),u(Ke,we,Re),Ke=He;u(tt,we,Re)},j=({el:Ke,anchor:tt})=>{let we;for(;Ke&&Ke!==tt;)we=V(Ke),g(Ke),Ke=we;g(tt)},fe=(Ke,tt,we,Re,He,be,ke,Ne,Ge)=>{tt.type==="svg"?ke="svg":tt.type==="math"&&(ke="mathml"),Ke==null?ne(tt,we,Re,He,be,ke,Ne,Ge):Xe(Ke,tt,He,be,ke,Ne,Ge)},ne=(Ke,tt,we,Re,He,be,ke,Ne)=>{let Ge,pt;const{props:cn,shapeFlag:jt,transition:xn,dirs:Xn}=Ke;if(Ge=Ke.el=x(Ke.type,be,cn&&cn.is,cn),jt&8?O(Ge,Ke.children):jt&16&&Fe(Ke.children,Ge,null,Re,He,M9(Ke,be),ke,Ne),Xn&&yC(Ke,null,Re,"created"),Ve(Ge,Ke,Ke.scopeId,ke,Re),cn){for(const zo in cn)zo!=="value"&&!CR(zo)&&h(Ge,zo,null,cn[zo],be,Re);"value"in cn&&h(Ge,"value",null,cn.value,be),(pt=cn.onVnodeBeforeMount)&&Ob(pt,Re,Ke)}Xn&&yC(Ke,null,Re,"beforeMount");const oo=Bfe(He,xn);oo&&xn.beforeEnter(Ge),u(Ge,tt,we),((pt=cn&&cn.onVnodeMounted)||oo||Xn)&&Dd(()=>{pt&&Ob(pt,Re,Ke),oo&&xn.enter(Ge),Xn&&yC(Ke,null,Re,"mounted")},He)},Ve=(Ke,tt,we,Re,He)=>{if(we&&U(Ke,we),Re)for(let be=0;be<Re.length;be++)U(Ke,Re[be]);if(He){let be=He.subTree;if(tt===be||LJ(be.type)&&(be.ssContent===tt||be.ssFallback===tt)){const ke=He.vnode;Ve(Ke,ke,ke.scopeId,ke.slotScopeIds,He.parent)}}},Fe=(Ke,tt,we,Re,He,be,ke,Ne,Ge=0)=>{for(let pt=Ge;pt<Ke.length;pt++){const cn=Ke[pt]=Ne?dx(Ke[pt]):Bb(Ke[pt]);ee(null,cn,tt,we,Re,He,be,ke,Ne)}},Xe=(Ke,tt,we,Re,He,be,ke)=>{const Ne=tt.el=Ke.el;let{patchFlag:Ge,dynamicChildren:pt,dirs:cn}=tt;Ge|=Ke.patchFlag&16;const jt=Ke.props||Ui,xn=tt.props||Ui;let Xn;if(we&&xC(we,!1),(Xn=xn.onVnodeBeforeUpdate)&&Ob(Xn,we,tt,Ke),cn&&yC(tt,Ke,we,"beforeUpdate"),we&&xC(we,!0),(jt.innerHTML&&xn.innerHTML==null||jt.textContent&&xn.textContent==null)&&O(Ne,""),pt?rt(Ke.dynamicChildren,pt,Ne,we,Re,M9(tt,He),be):ke||dt(Ke,tt,Ne,null,we,Re,M9(tt,He),be,!1),Ge>0){if(Ge&16)xe(Ne,jt,xn,we,He);else if(Ge&2&&jt.class!==xn.class&&h(Ne,"class",null,xn.class,He),Ge&4&&h(Ne,"style",jt.style,xn.style,He),Ge&8){const oo=tt.dynamicProps;for(let zo=0;zo<oo.length;zo++){const No=oo[zo],Gs=jt[No],ds=xn[No];(ds!==Gs||No==="value")&&h(Ne,No,Gs,ds,He,we)}}Ge&1&&Ke.children!==tt.children&&O(Ne,tt.children)}else!ke&&pt==null&&xe(Ne,jt,xn,we,He);((Xn=xn.onVnodeUpdated)||cn)&&Dd(()=>{Xn&&Ob(Xn,we,tt,Ke),cn&&yC(tt,Ke,we,"updated")},Re)},rt=(Ke,tt,we,Re,He,be,ke)=>{for(let Ne=0;Ne<tt.length;Ne++){const Ge=Ke[Ne],pt=tt[Ne],cn=Ge.el&&(Ge.type===Yo||!AC(Ge,pt)||Ge.shapeFlag&198)?N(Ge.el):we;ee(Ge,pt,cn,null,Re,He,be,ke,!0)}},xe=(Ke,tt,we,Re,He)=>{if(tt!==we){if(tt!==Ui)for(const be in tt)!CR(be)&&!(be in we)&&h(Ke,be,tt[be],null,He,Re);for(const be in we){if(CR(be))continue;const ke=we[be],Ne=tt[be];ke!==Ne&&be!=="value"&&h(Ke,be,Ne,ke,He,Re)}"value"in we&&h(Ke,"value",tt.value,we.value,He)}},_e=(Ke,tt,we,Re,He,be,ke,Ne,Ge)=>{const pt=tt.el=Ke?Ke.el:w(""),cn=tt.anchor=Ke?Ke.anchor:w("");let{patchFlag:jt,dynamicChildren:xn,slotScopeIds:Xn}=tt;Xn&&(Ne=Ne?Ne.concat(Xn):Xn),Ke==null?(u(pt,we,Re),u(cn,we,Re),Fe(tt.children||[],we,cn,He,be,ke,Ne,Ge)):jt>0&&jt&64&&xn&&Ke.dynamicChildren?(rt(Ke.dynamicChildren,xn,we,He,be,ke,Ne),(tt.key!=null||He&&tt===He.subTree)&&MW(Ke,tt,!0)):dt(Ke,tt,we,cn,He,be,ke,Ne,Ge)},R=(Ke,tt,we,Re,He,be,ke,Ne,Ge)=>{tt.slotScopeIds=Ne,Ke==null?tt.shapeFlag&512?He.ctx.activate(tt,we,Re,ke,Ge):it(tt,we,Re,He,be,ke,Ge):lt(Ke,tt,Ge)},it=(Ke,tt,we,Re,He,be,ke)=>{const Ne=Ke.component=eme(Ke,Re,He);if(FF(Ke)&&(Ne.ctx.renderer=Zt),tme(Ne,!1,ke),Ne.asyncDep){if(He&&He.registerDep(Ne,Lt,ke),!Ke.el){const Ge=Ne.subTree=ae($u);H(null,Ge,tt,we)}}else Lt(Ne,Ke,tt,we,He,be,ke)},lt=(Ke,tt,we)=>{const Re=tt.component=Ke.component;if(jfe(Ke,tt,we))if(Re.asyncDep&&!Re.asyncResolved){Qt(Re,tt,we);return}else Re.next=tt,Re.update();else tt.el=Ke.el,Re.vnode=tt},Lt=(Ke,tt,we,Re,He,be,ke)=>{const Ne=()=>{if(Ke.isMounted){let{next:jt,bu:xn,u:Xn,parent:oo,vnode:zo}=Ke;{const _s=DJ(Ke);if(_s){jt&&(jt.el=zo.el,Qt(Ke,jt,ke)),_s.asyncDep.then(()=>{Ke.isUnmounted||Ne()});return}}let No=jt,Gs;xC(Ke,!1),jt?(jt.el=zo.el,Qt(Ke,jt,ke)):jt=zo,xn&&B6(xn),(Gs=jt.props&&jt.props.onVnodeBeforeUpdate)&&Ob(Gs,oo,jt,zo),xC(Ke,!0);const ds=YG(Ke),ei=Ke.subTree;Ke.subTree=ds,ee(ei,ds,N(ei.el),sn(ei),Ke,He,be),jt.el=ds.el,No===null&&Zfe(Ke,ds.el),Xn&&Dd(Xn,He),(Gs=jt.props&&jt.props.onVnodeUpdated)&&Dd(()=>Ob(Gs,oo,jt,zo),He)}else{let jt;const{el:xn,props:Xn}=tt,{bm:oo,m:zo,parent:No,root:Gs,type:ds}=Ke,ei=AR(tt);xC(Ke,!1),oo&&B6(oo),!ei&&(jt=Xn&&Xn.onVnodeBeforeMount)&&Ob(jt,No,tt),xC(Ke,!0);{Gs.ce&&Gs.ce._def.shadowRoot!==!1&&Gs.ce._injectChildStyle(ds);const _s=Ke.subTree=YG(Ke);ee(null,_s,we,Re,Ke,He,be),tt.el=_s.el}if(zo&&Dd(zo,He),!ei&&(jt=Xn&&Xn.onVnodeMounted)){const _s=tt;Dd(()=>Ob(jt,No,_s),He)}(tt.shapeFlag&256||No&&AR(No.vnode)&&No.vnode.shapeFlag&256)&&Ke.a&&Dd(Ke.a,He),Ke.isMounted=!0,tt=we=Re=null}};Ke.scope.on();const Ge=Ke.effect=new VX(Ne);Ke.scope.off();const pt=Ke.update=Ge.run.bind(Ge),cn=Ke.job=Ge.runIfDirty.bind(Ge);cn.i=Ke,cn.id=Ke.uid,Ge.scheduler=()=>RW(cn),xC(Ke,!0),pt()},Qt=(Ke,tt,we)=>{tt.component=Ke;const Re=Ke.vnode.props;Ke.vnode=tt,Ke.next=null,Rfe(Ke,tt.props,Re,we),Nfe(Ke,tt.children,we),Y0(),FG(Ke),X0()},dt=(Ke,tt,we,Re,He,be,ke,Ne,Ge=!1)=>{const pt=Ke&&Ke.children,cn=Ke?Ke.shapeFlag:0,jt=tt.children,{patchFlag:xn,shapeFlag:Xn}=tt;if(xn>0){if(xn&128){Et(pt,jt,we,Re,He,be,ke,Ne,Ge);return}else if(xn&256){Sn(pt,jt,we,Re,He,be,ke,Ne,Ge);return}}Xn&8?(cn&16&&In(pt,He,be),jt!==pt&&O(we,jt)):cn&16?Xn&16?Et(pt,jt,we,Re,He,be,ke,Ne,Ge):In(pt,He,be,!0):(cn&8&&O(we,""),Xn&16&&Fe(jt,we,Re,He,be,ke,Ne,Ge))},Sn=(Ke,tt,we,Re,He,be,ke,Ne,Ge)=>{Ke=Ke||hE,tt=tt||hE;const pt=Ke.length,cn=tt.length,jt=Math.min(pt,cn);let xn;for(xn=0;xn<jt;xn++){const Xn=tt[xn]=Ge?dx(tt[xn]):Bb(tt[xn]);ee(Ke[xn],Xn,we,null,He,be,ke,Ne,Ge)}pt>cn?In(Ke,He,be,!0,!1,jt):Fe(tt,we,Re,He,be,ke,Ne,Ge,jt)},Et=(Ke,tt,we,Re,He,be,ke,Ne,Ge)=>{let pt=0;const cn=tt.length;let jt=Ke.length-1,xn=cn-1;for(;pt<=jt&&pt<=xn;){const Xn=Ke[pt],oo=tt[pt]=Ge?dx(tt[pt]):Bb(tt[pt]);if(AC(Xn,oo))ee(Xn,oo,we,null,He,be,ke,Ne,Ge);else break;pt++}for(;pt<=jt&&pt<=xn;){const Xn=Ke[jt],oo=tt[xn]=Ge?dx(tt[xn]):Bb(tt[xn]);if(AC(Xn,oo))ee(Xn,oo,we,null,He,be,ke,Ne,Ge);else break;jt--,xn--}if(pt>jt){if(pt<=xn){const Xn=xn+1,oo=Xn<cn?tt[Xn].el:Re;for(;pt<=xn;)ee(null,tt[pt]=Ge?dx(tt[pt]):Bb(tt[pt]),we,oo,He,be,ke,Ne,Ge),pt++}}else if(pt>xn)for(;pt<=jt;)Me(Ke[pt],He,be,!0),pt++;else{const Xn=pt,oo=pt,zo=new Map;for(pt=oo;pt<=xn;pt++){const vo=tt[pt]=Ge?dx(tt[pt]):Bb(tt[pt]);vo.key!=null&&zo.set(vo.key,pt)}let No,Gs=0;const ds=xn-oo+1;let ei=!1,_s=0;const Zi=new Array(ds);for(pt=0;pt<ds;pt++)Zi[pt]=0;for(pt=Xn;pt<=jt;pt++){const vo=Ke[pt];if(Gs>=ds){Me(vo,He,be,!0);continue}let Do;if(vo.key!=null)Do=zo.get(vo.key);else for(No=oo;No<=xn;No++)if(Zi[No-oo]===0&&AC(vo,tt[No])){Do=No;break}Do===void 0?Me(vo,He,be,!0):(Zi[Do-oo]=pt+1,Do>=_s?_s=Do:ei=!0,ee(vo,tt[Do],we,null,He,be,ke,Ne,Ge),Gs++)}const On=ei?Ffe(Zi):hE;for(No=On.length-1,pt=ds-1;pt>=0;pt--){const vo=oo+pt,Do=tt[vo],li=vo+1<cn?tt[vo+1].el:Re;Zi[pt]===0?ee(null,Do,we,li,He,be,ke,Ne,Ge):ei&&(No<0||pt!==On[No]?et(Do,we,li,2):No--)}}},et=(Ke,tt,we,Re,He=null)=>{const{el:be,type:ke,transition:Ne,children:Ge,shapeFlag:pt}=Ke;if(pt&6){et(Ke.component.subTree,tt,we,Re);return}if(pt&128){Ke.suspense.move(tt,we,Re);return}if(pt&64){ke.move(Ke,tt,we,Zt);return}if(ke===Yo){u(be,tt,we);for(let jt=0;jt<Ge.length;jt++)et(Ge[jt],tt,we,Re);u(Ke.anchor,tt,we);return}if(ke===B9){le(Ke,tt,we);return}if(Re!==2&&pt&1&&Ne)if(Re===0)Ne.beforeEnter(be),u(be,tt,we),Dd(()=>Ne.enter(be),He);else{const{leave:jt,delayLeave:xn,afterLeave:Xn}=Ne,oo=()=>{Ke.ctx.isUnmounted?g(be):u(be,tt,we)},zo=()=>{jt(be,()=>{oo(),Xn&&Xn()})};xn?xn(be,oo,zo):zo()}else u(be,tt,we)},Me=(Ke,tt,we,Re=!1,He=!1)=>{const{type:be,props:ke,ref:Ne,children:Ge,dynamicChildren:pt,shapeFlag:cn,patchFlag:jt,dirs:xn,cacheIndex:Xn}=Ke;if(jt===-2&&(He=!1),Ne!=null&&(Y0(),ER(Ne,null,we,Ke,!0),X0()),Xn!=null&&(tt.renderCache[Xn]=void 0),cn&256){tt.ctx.deactivate(Ke);return}const oo=cn&1&&xn,zo=!AR(Ke);let No;if(zo&&(No=ke&&ke.onVnodeBeforeUnmount)&&Ob(No,tt,Ke),cn&6)Wt(Ke.component,we,Re);else{if(cn&128){Ke.suspense.unmount(we,Re);return}oo&&yC(Ke,null,tt,"beforeUnmount"),cn&64?Ke.type.remove(Ke,tt,we,Zt,Re):pt&&!pt.hasOnce&&(be!==Yo||jt>0&&jt&64)?In(pt,tt,we,!1,!0):(be===Yo&&jt&384||!He&&cn&16)&&In(Ge,tt,we),Re&&ft(Ke)}(zo&&(No=ke&&ke.onVnodeUnmounted)||oo)&&Dd(()=>{No&&Ob(No,tt,Ke),oo&&yC(Ke,null,tt,"unmounted")},we)},ft=Ke=>{const{type:tt,el:we,anchor:Re,transition:He}=Ke;if(tt===Yo){so(we,Re);return}if(tt===B9){j(Ke);return}const be=()=>{g(we),He&&!He.persisted&&He.afterLeave&&He.afterLeave()};if(Ke.shapeFlag&1&&He&&!He.persisted){const{leave:ke,delayLeave:Ne}=He,Ge=()=>ke(we,be);Ne?Ne(Ke.el,be,Ge):Ge()}else be()},so=(Ke,tt)=>{let we;for(;Ke!==tt;)we=V(Ke),g(Ke),Ke=we;g(tt)},Wt=(Ke,tt,we)=>{const{bum:Re,scope:He,job:be,subTree:ke,um:Ne,m:Ge,a:pt,parent:cn,slots:{__:jt}}=Ke;qG(Ge),qG(pt),Re&&B6(Re),cn&&ls(jt)&&jt.forEach(xn=>{cn.renderCache[xn]=void 0}),He.stop(),be&&(be.flags|=8,Me(ke,Ke,tt,we)),Ne&&Dd(Ne,tt),Dd(()=>{Ke.isUnmounted=!0},tt),tt&&tt.pendingBranch&&!tt.isUnmounted&&Ke.asyncDep&&!Ke.asyncResolved&&Ke.suspenseId===tt.pendingId&&(tt.deps--,tt.deps===0&&tt.resolve())},In=(Ke,tt,we,Re=!1,He=!1,be=0)=>{for(let ke=be;ke<Ke.length;ke++)Me(Ke[ke],tt,we,Re,He)},sn=Ke=>{if(Ke.shapeFlag&6)return sn(Ke.component.subTree);if(Ke.shapeFlag&128)return Ke.suspense.next();const tt=V(Ke.anchor||Ke.el),we=tt&&tt[lJ];return we?V(we):tt};let J=!1;const fo=(Ke,tt,we)=>{Ke==null?tt._vnode&&Me(tt._vnode,null,null,!0):ee(tt._vnode||null,Ke,tt,null,null,null,we),tt._vnode=Ke,J||(J=!0,FG(),rJ(),J=!1)},Zt={p:ee,um:Me,m:et,r:ft,mt:it,mc:Fe,pc:dt,pbc:rt,n:sn,o:t};return{render:fo,hydrate:void 0,createApp:Afe(fo)}}function M9({type:t,props:r},i){return i==="svg"&&t==="foreignObject"||i==="mathml"&&t==="annotation-xml"&&r&&r.encoding&&r.encoding.includes("html")?void 0:i}function xC({effect:t,job:r},i){i?(t.flags|=32,r.flags|=4):(t.flags&=-33,r.flags&=-5)}function Bfe(t,r){return(!t||t&&!t.pendingBranch)&&r&&!r.persisted}function MW(t,r,i=!1){const u=t.children,g=r.children;if(ls(u)&&ls(g))for(let h=0;h<u.length;h++){const x=u[h];let w=g[h];w.shapeFlag&1&&!w.dynamicChildren&&((w.patchFlag<=0||w.patchFlag===32)&&(w=g[h]=dx(g[h]),w.el=x.el),!i&&w.patchFlag!==-2&&MW(x,w)),w.type===fI&&(w.el=x.el),w.type===$u&&!w.el&&(w.el=x.el)}}function Ffe(t){const r=t.slice(),i=[0];let u,g,h,x,w;const I=t.length;for(u=0;u<I;u++){const D=t[u];if(D!==0){if(g=i[i.length-1],t[g]<D){r[u]=g,i.push(u);continue}for(h=0,x=i.length-1;h<x;)w=h+x>>1,t[i[w]]<D?h=w+1:x=w;D<t[i[h]]&&(h>0&&(r[u]=i[h-1]),i[h]=u)}}for(h=i.length,x=i[h-1];h-- >0;)i[h]=x,x=r[x];return i}function DJ(t){const r=t.subTree.component;if(r)return r.asyncDep&&!r.asyncResolved?r:DJ(r)}function qG(t){if(t)for(let r=0;r<t.length;r++)t[r].flags|=8}const $fe=Symbol.for("v-scx"),Vfe=()=>ji($fe);function Bd(t,r){return BW(t,null,r)}function Rn(t,r,i){return BW(t,r,i)}function BW(t,r,i=Ui){const{immediate:u,deep:g,flush:h,once:x}=i,w=rc({},i),I=r&&u||!r&&h!=="post";let D;if(zR){if(h==="sync"){const U=Vfe();D=U.__watcherHandles||(U.__watcherHandles=[])}else if(!I){const U=()=>{};return U.stop=$b,U.resume=$b,U.pause=$b,U}}const O=Ec;w.call=(U,Z,ee)=>mp(U,O,Z,ee);let N=!1;h==="post"?w.scheduler=U=>{Dd(U,O&&O.suspense)}:h!=="sync"&&(N=!0,w.scheduler=(U,Z)=>{Z?U():RW(U)}),w.augmentJob=U=>{r&&(U.flags|=4),N&&(U.flags|=2,O&&(U.id=O.uid,U.i=O))};const V=nfe(t,r,w);return zR&&(D?D.push(V):I&&V()),V}function zfe(t,r,i){const u=this.proxy,g=tl(t)?t.includes(".")?PJ(u,t):()=>u[t]:t.bind(u,u);let h;Ds(r)?h=r:(h=r.handler,i=r);const x=mI(this),w=BW(g,h.bind(u),i);return x(),w}function PJ(t,r){const i=r.split(".");return()=>{let u=t;for(let g=0;g<i.length&&u;g++)u=u[i[g]];return u}}const Hfe=(t,r)=>r==="modelValue"||r==="model-value"?t.modelModifiers:t[`${r}Modifiers`]||t[`${Md(r)}Modifiers`]||t[`${VC(r)}Modifiers`];function Ufe(t,r,...i){if(t.isUnmounted)return;const u=t.vnode.props||Ui;let g=i;const h=r.startsWith("update:"),x=h&&Hfe(u,r.slice(7));x&&(x.trim&&(g=i.map(O=>tl(O)?O.trim():O)),x.number&&(g=i.map(kU)));let w,I=u[w=O9(r)]||u[w=O9(Md(r))];!I&&h&&(I=u[w=O9(VC(r))]),I&&mp(I,t,6,g);const D=u[w+"Once"];if(D){if(!t.emitted)t.emitted={};else if(t.emitted[w])return;t.emitted[w]=!0,mp(D,t,6,g)}}function NJ(t,r,i=!1){const u=r.emitsCache,g=u.get(t);if(g!==void 0)return g;const h=t.emits;let x={},w=!1;if(!Ds(t)){const I=D=>{const O=NJ(D,r,!0);O&&(w=!0,rc(x,O))};!i&&r.mixins.length&&r.mixins.forEach(I),t.extends&&I(t.extends),t.mixins&&t.mixins.forEach(I)}return!h&&!w?(Ii(t)&&u.set(t,null),null):(ls(h)?h.forEach(I=>x[I]=null):rc(x,h),Ii(t)&&u.set(t,x),x)}function zF(t,r){return!t||!RF(r)?!1:(r=r.slice(2).replace(/Once$/,""),hi(t,r[0].toLowerCase()+r.slice(1))||hi(t,VC(r))||hi(t,r))}function YG(t){const{type:r,vnode:i,proxy:u,withProxy:g,propsOptions:[h],slots:x,attrs:w,emit:I,render:D,renderCache:O,props:N,data:V,setupState:U,ctx:Z,inheritAttrs:ee}=t,re=nF(t);let H,de;try{if(i.shapeFlag&4){const j=g||u,fe=j;H=Bb(D.call(fe,j,O,N,U,V,Z)),de=w}else{const j=r;H=Bb(j.length>1?j(N,{attrs:w,slots:x,emit:I}):j(N,null)),de=r.props?w:Wfe(w)}}catch(j){OR.length=0,BF(j,t,1),H=ae($u)}let le=H;if(de&&ee!==!1){const j=Object.keys(de),{shapeFlag:fe}=le;j.length&&fe&7&&(h&&j.some(vW)&&(de=Kfe(de,h)),le=Q0(le,de,!1,!0))}return i.dirs&&(le=Q0(le,null,!1,!0),le.dirs=le.dirs?le.dirs.concat(i.dirs):i.dirs),i.transition&&BC(le,i.transition),H=le,nF(re),H}const Wfe=t=>{let r;for(const i in t)(i==="class"||i==="style"||RF(i))&&((r||(r={}))[i]=t[i]);return r},Kfe=(t,r)=>{const i={};for(const u in t)(!vW(u)||!(u.slice(9)in r))&&(i[u]=t[u]);return i};function jfe(t,r,i){const{props:u,children:g,component:h}=t,{props:x,children:w,patchFlag:I}=r,D=h.emitsOptions;if(r.dirs||r.transition)return!0;if(i&&I>=0){if(I&1024)return!0;if(I&16)return u?XG(u,x,D):!!x;if(I&8){const O=r.dynamicProps;for(let N=0;N<O.length;N++){const V=O[N];if(x[V]!==u[V]&&!zF(D,V))return!0}}}else return(g||w)&&(!w||!w.$stable)?!0:u===x?!1:u?x?XG(u,x,D):!0:!!x;return!1}function XG(t,r,i){const u=Object.keys(r);if(u.length!==Object.keys(t).length)return!0;for(let g=0;g<u.length;g++){const h=u[g];if(r[h]!==t[h]&&!zF(i,h))return!0}return!1}function Zfe({vnode:t,parent:r},i){for(;r;){const u=r.subTree;if(u.suspense&&u.suspense.activeBranch===t&&(u.el=t.el),u===t)(t=r.vnode).el=i,r=r.parent;else break}}const LJ=t=>t.__isSuspense;function Gfe(t,r){r&&r.pendingBranch?ls(t)?r.effects.push(...t):r.effects.push(t):rfe(t)}const Yo=Symbol.for("v-fgt"),fI=Symbol.for("v-txt"),$u=Symbol.for("v-cmt"),B9=Symbol.for("v-stc"),OR=[];let Sm=null;function Kt(t=!1){OR.push(Sm=t?null:[])}function qfe(){OR.pop(),Sm=OR[OR.length-1]||null}let $R=1;function JG(t,r=!1){$R+=t,t<0&&Sm&&r&&(Sm.hasOnce=!0)}function MJ(t){return t.dynamicChildren=$R>0?Sm||hE:null,qfe(),$R>0&&Sm&&Sm.push(t),t}function no(t,r,i,u,g,h){return MJ(se(t,r,i,u,g,h,!0))}function $o(t,r,i,u,g){return MJ(ae(t,r,i,u,g,!0))}function VR(t){return t?t.__v_isVNode===!0:!1}function AC(t,r){return t.type===r.type&&t.key===r.key}const BJ=({key:t})=>t??null,$6=({ref:t,ref_key:r,ref_for:i})=>(typeof t=="number"&&(t=""+t),t!=null?tl(t)||ia(t)||Ds(t)?{i:Ld,r:t,k:r,f:!!i}:t:null);function se(t,r=null,i=null,u=0,g=null,h=t===Yo?0:1,x=!1,w=!1){const I={__v_isVNode:!0,__v_skip:!0,type:t,props:r,key:r&&BJ(r),ref:r&&$6(r),scopeId:aJ,slotScopeIds:null,children:i,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:h,patchFlag:u,dynamicProps:g,dynamicChildren:null,appContext:null,ctx:Ld};return w?(FW(I,i),h&128&&t.normalize(I)):i&&(I.shapeFlag|=tl(i)?8:16),$R>0&&!x&&Sm&&(I.patchFlag>0||h&6)&&I.patchFlag!==32&&Sm.push(I),I}const ae=Yfe;function Yfe(t,r=null,i=null,u=0,g=null,h=!1){if((!t||t===bfe)&&(t=$u),VR(t)){const w=Q0(t,r,!0);return i&&FW(w,i),$R>0&&!h&&Sm&&(w.shapeFlag&6?Sm[Sm.indexOf(t)]=w:Sm.push(w)),w.patchFlag=-2,w}if(ime(t)&&(t=t.__vccOpts),r){r=Xfe(r);let{class:w,style:I}=r;w&&!tl(w)&&(r.class=lo(w)),Ii(I)&&(TW(I)&&!ls(I)&&(I=rc({},I)),r.style=Ms(I))}const x=tl(t)?1:LJ(t)?128:cJ(t)?64:Ii(t)?4:Ds(t)?2:0;return se(t,r,i,u,g,x,h,!0)}function Xfe(t){return t?TW(t)||EJ(t)?rc({},t):t:null}function Q0(t,r,i=!1,u=!1){const{props:g,ref:h,patchFlag:x,children:w,transition:I}=t,D=r?Bo(g||{},r):g,O={__v_isVNode:!0,__v_skip:!0,type:t.type,props:D,key:D&&BJ(D),ref:r&&r.ref?i&&h?ls(h)?h.concat($6(r)):[h,$6(r)]:$6(r):h,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:w,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:r&&t.type!==Yo?x===-1?16:x|16:x,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:I,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&Q0(t.ssContent),ssFallback:t.ssFallback&&Q0(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return I&&u&&BC(O,I.clone(O)),O}function vs(t=" ",r=0){return ae(fI,null,t,r)}function Wn(t="",r=!1){return r?(Kt(),$o($u,null,t)):ae($u,null,t)}function Bb(t){return t==null||typeof t=="boolean"?ae($u):ls(t)?ae(Yo,null,t.slice()):VR(t)?dx(t):ae(fI,null,String(t))}function dx(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:Q0(t)}function FW(t,r){let i=0;const{shapeFlag:u}=t;if(r==null)r=null;else if(ls(r))i=16;else if(typeof r=="object")if(u&65){const g=r.default;g&&(g._c&&(g._d=!1),FW(t,g()),g._c&&(g._d=!0));return}else{i=32;const g=r._;!g&&!EJ(r)?r._ctx=Ld:g===3&&Ld&&(Ld.slots._===1?r._=1:(r._=2,t.patchFlag|=1024))}else Ds(r)?(r={default:r,_ctx:Ld},i=32):(r=String(r),u&64?(i=16,r=[vs(r)]):i=8);t.children=r,t.shapeFlag|=i}function Bo(...t){const r={};for(let i=0;i<t.length;i++){const u=t[i];for(const g in u)if(g==="class")r.class!==u.class&&(r.class=lo([r.class,u.class]));else if(g==="style")r.style=Ms([r.style,u.style]);else if(RF(g)){const h=r[g],x=u[g];x&&h!==x&&!(ls(h)&&h.includes(x))&&(r[g]=h?[].concat(h,x):x)}else g!==""&&(r[g]=u[g])}return r}function Ob(t,r,i,u=null){mp(t,r,7,[i,u])}const Jfe=_J();let Qfe=0;function eme(t,r,i){const u=t.type,g=(r?r.appContext:t.appContext)||Jfe,h={uid:Qfe++,vnode:t,type:u,parent:r,appContext:g,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new $X(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:r?r.provides:Object.create(g.provides),ids:r?r.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:TJ(u,g),emitsOptions:NJ(u,g),emit:null,emitted:null,propsDefaults:Ui,inheritAttrs:u.inheritAttrs,ctx:Ui,data:Ui,props:Ui,attrs:Ui,slots:Ui,refs:Ui,setupState:Ui,setupContext:null,suspense:i,suspenseId:i?i.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return h.ctx={_:h},h.root=r?r.root:h,h.emit=Ufe.bind(null,h),t.ce&&t.ce(h),h}let Ec=null;const LE=()=>Ec||Ld;let sF,NU;{const t=PF(),r=(i,u)=>{let g;return(g=t[i])||(g=t[i]=[]),g.push(u),h=>{g.length>1?g.forEach(x=>x(h)):g[0](h)}};sF=r("__VUE_INSTANCE_SETTERS__",i=>Ec=i),NU=r("__VUE_SSR_SETTERS__",i=>zR=i)}const mI=t=>{const r=Ec;return sF(t),t.scope.on(),()=>{t.scope.off(),sF(r)}},QG=()=>{Ec&&Ec.scope.off(),sF(null)};function FJ(t){return t.vnode.shapeFlag&4}let zR=!1;function tme(t,r=!1,i=!1){r&&NU(r);const{props:u,children:g}=t.vnode,h=FJ(t);Ofe(t,u,h,r),Pfe(t,g,i||r);const x=h?nme(t,r):void 0;return r&&NU(!1),x}function nme(t,r){const i=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,xfe);const{setup:u}=i;if(u){Y0();const g=t.setupContext=u.length>1?sme(t):null,h=mI(t),x=uI(u,t,0,[t.props,g]),w=DX(x);if(X0(),h(),(w||t.sp)&&!AR(t)&&vJ(t),w){if(x.then(QG,QG),r)return x.then(I=>{eq(t,I)}).catch(I=>{BF(I,t,0)});t.asyncDep=x}else eq(t,x)}else $J(t)}function eq(t,r,i){Ds(r)?t.type.__ssrInlineRender?t.ssrRender=r:t.render=r:Ii(r)&&(t.setupState=tJ(r)),$J(t)}function $J(t,r,i){const u=t.type;t.render||(t.render=u.render||$b);{const g=mI(t);Y0();try{wfe(t)}finally{X0(),g()}}}const ome={get(t,r){return Bu(t,"get",""),t[r]}};function sme(t){const r=i=>{t.exposed=i||{}};return{attrs:new Proxy(t.attrs,ome),slots:t.slots,emit:t.emit,expose:r}}function HF(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(tJ(OW(t.exposed)),{get(r,i){if(i in r)return r[i];if(i in TR)return TR[i](t)},has(r,i){return i in r||i in TR}})):t.proxy}function rme(t,r=!0){return Ds(t)?t.displayName||t.name:t.name||r&&t.__name}function ime(t){return Ds(t)&&"__vccOpts"in t}const Rt=(t,r)=>efe(t,r,zR);function Ub(t,r,i){const u=arguments.length;return u===2?Ii(r)&&!ls(r)?VR(r)?ae(t,null,[r]):ae(t,r):ae(t,null,r):(u>3?i=Array.prototype.slice.call(arguments,2):u===3&&VR(i)&&(i=[i]),ae(t,r,i))}const ame="3.5.17";/**
* @vue/runtime-dom v3.5.17
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let LU;const tq=typeof window<"u"&&window.trustedTypes;if(tq)try{LU=tq.createPolicy("vue",{createHTML:t=>t})}catch{}const VJ=LU?t=>LU.createHTML(t):t=>t,lme="http://www.w3.org/2000/svg",cme="http://www.w3.org/1998/Math/MathML",W0=typeof document<"u"?document:null,nq=W0&&W0.createElement("template"),ume={insert:(t,r,i)=>{r.insertBefore(t,i||null)},remove:t=>{const r=t.parentNode;r&&r.removeChild(t)},createElement:(t,r,i,u)=>{const g=r==="svg"?W0.createElementNS(lme,t):r==="mathml"?W0.createElementNS(cme,t):i?W0.createElement(t,{is:i}):W0.createElement(t);return t==="select"&&u&&u.multiple!=null&&g.setAttribute("multiple",u.multiple),g},createText:t=>W0.createTextNode(t),createComment:t=>W0.createComment(t),setText:(t,r)=>{t.nodeValue=r},setElementText:(t,r)=>{t.textContent=r},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>W0.querySelector(t),setScopeId(t,r){t.setAttribute(r,"")},insertStaticContent(t,r,i,u,g,h){const x=i?i.previousSibling:r.lastChild;if(g&&(g===h||g.nextSibling))for(;r.insertBefore(g.cloneNode(!0),i),!(g===h||!(g=g.nextSibling)););else{nq.innerHTML=VJ(u==="svg"?`<svg>${t}</svg>`:u==="mathml"?`<math>${t}</math>`:t);const w=nq.content;if(u==="svg"||u==="mathml"){const I=w.firstChild;for(;I.firstChild;)w.appendChild(I.firstChild);w.removeChild(I)}r.insertBefore(w,i)}return[x?x.nextSibling:r.firstChild,i?i.previousSibling:r.lastChild]}},ox="transition",gR="animation",CE=Symbol("_vtc"),zJ={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},HJ=rc({},mJ,zJ),dme=t=>(t.displayName="Transition",t.props=HJ,t),xx=dme((t,{slots:r})=>Ub(cfe,UJ(t),r)),wC=(t,r=[])=>{ls(t)?t.forEach(i=>i(...r)):t&&t(...r)},oq=t=>t?ls(t)?t.some(r=>r.length>1):t.length>1:!1;function UJ(t){const r={};for(const _e in t)_e in zJ||(r[_e]=t[_e]);if(t.css===!1)return r;const{name:i="v",type:u,duration:g,enterFromClass:h=`${i}-enter-from`,enterActiveClass:x=`${i}-enter-active`,enterToClass:w=`${i}-enter-to`,appearFromClass:I=h,appearActiveClass:D=x,appearToClass:O=w,leaveFromClass:N=`${i}-leave-from`,leaveActiveClass:V=`${i}-leave-active`,leaveToClass:U=`${i}-leave-to`}=t,Z=fme(g),ee=Z&&Z[0],re=Z&&Z[1],{onBeforeEnter:H,onEnter:de,onEnterCancelled:le,onLeave:j,onLeaveCancelled:fe,onBeforeAppear:ne=H,onAppear:Ve=de,onAppearCancelled:Fe=le}=r,Xe=(_e,R,it,lt)=>{_e._enterCancelled=lt,ax(_e,R?O:w),ax(_e,R?D:x),it&&it()},rt=(_e,R)=>{_e._isLeaving=!1,ax(_e,N),ax(_e,U),ax(_e,V),R&&R()},xe=_e=>(R,it)=>{const lt=_e?Ve:de,Lt=()=>Xe(R,_e,it);wC(lt,[R,Lt]),sq(()=>{ax(R,_e?I:h),Nb(R,_e?O:w),oq(lt)||rq(R,u,ee,Lt)})};return rc(r,{onBeforeEnter(_e){wC(H,[_e]),Nb(_e,h),Nb(_e,x)},onBeforeAppear(_e){wC(ne,[_e]),Nb(_e,I),Nb(_e,D)},onEnter:xe(!1),onAppear:xe(!0),onLeave(_e,R){_e._isLeaving=!0;const it=()=>rt(_e,R);Nb(_e,N),_e._enterCancelled?(Nb(_e,V),MU()):(MU(),Nb(_e,V)),sq(()=>{_e._isLeaving&&(ax(_e,N),Nb(_e,U),oq(j)||rq(_e,u,re,it))}),wC(j,[_e,it])},onEnterCancelled(_e){Xe(_e,!1,void 0,!0),wC(le,[_e])},onAppearCancelled(_e){Xe(_e,!0,void 0,!0),wC(Fe,[_e])},onLeaveCancelled(_e){rt(_e),wC(fe,[_e])}})}function fme(t){if(t==null)return null;if(Ii(t))return[F9(t.enter),F9(t.leave)];{const r=F9(t);return[r,r]}}function F9(t){return wde(t)}function Nb(t,r){r.split(/\s+/).forEach(i=>i&&t.classList.add(i)),(t[CE]||(t[CE]=new Set)).add(r)}function ax(t,r){r.split(/\s+/).forEach(u=>u&&t.classList.remove(u));const i=t[CE];i&&(i.delete(r),i.size||(t[CE]=void 0))}function sq(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let mme=0;function rq(t,r,i,u){const g=t._endId=++mme,h=()=>{g===t._endId&&u()};if(i!=null)return setTimeout(h,i);const{type:x,timeout:w,propCount:I}=WJ(t,r);if(!x)return u();const D=x+"end";let O=0;const N=()=>{t.removeEventListener(D,V),h()},V=U=>{U.target===t&&++O>=I&&N()};setTimeout(()=>{O<I&&N()},w+1),t.addEventListener(D,V)}function WJ(t,r){const i=window.getComputedStyle(t),u=Z=>(i[Z]||"").split(", "),g=u(`${ox}Delay`),h=u(`${ox}Duration`),x=iq(g,h),w=u(`${gR}Delay`),I=u(`${gR}Duration`),D=iq(w,I);let O=null,N=0,V=0;r===ox?x>0&&(O=ox,N=x,V=h.length):r===gR?D>0&&(O=gR,N=D,V=I.length):(N=Math.max(x,D),O=N>0?x>D?ox:gR:null,V=O?O===ox?h.length:I.length:0);const U=O===ox&&/\b(transform|all)(,|$)/.test(u(`${ox}Property`).toString());return{type:O,timeout:N,propCount:V,hasTransform:U}}function iq(t,r){for(;t.length<r.length;)t=t.concat(t);return Math.max(...r.map((i,u)=>aq(i)+aq(t[u])))}function aq(t){return t==="auto"?0:Number(t.slice(0,-1).replace(",","."))*1e3}function MU(){return document.body.offsetHeight}function gme(t,r,i){const u=t[CE];u&&(r=(r?[r,...u]:[...u]).join(" ")),r==null?t.removeAttribute("class"):i?t.setAttribute("class",r):t.className=r}const rF=Symbol("_vod"),KJ=Symbol("_vsh"),uo={beforeMount(t,{value:r},{transition:i}){t[rF]=t.style.display==="none"?"":t.style.display,i&&r?i.beforeEnter(t):hR(t,r)},mounted(t,{value:r},{transition:i}){i&&r&&i.enter(t)},updated(t,{value:r,oldValue:i},{transition:u}){!r!=!i&&(u?r?(u.beforeEnter(t),hR(t,!0),u.enter(t)):u.leave(t,()=>{hR(t,!1)}):hR(t,r))},beforeUnmount(t,{value:r}){hR(t,r)}};function hR(t,r){t.style.display=r?t[rF]:"none",t[KJ]=!r}const hme=Symbol(""),pme=/(^|;)\s*display\s*:/;function bme(t,r,i){const u=t.style,g=tl(i);let h=!1;if(i&&!g){if(r)if(tl(r))for(const x of r.split(";")){const w=x.slice(0,x.indexOf(":")).trim();i[w]==null&&V6(u,w,"")}else for(const x in r)i[x]==null&&V6(u,x,"");for(const x in i)x==="display"&&(h=!0),V6(u,x,i[x])}else if(g){if(r!==i){const x=u[hme];x&&(i+=";"+x),u.cssText=i,h=pme.test(i)}}else r&&t.removeAttribute("style");rF in t&&(t[rF]=h?u.display:"",t[KJ]&&(u.display="none"))}const lq=/\s*!important$/;function V6(t,r,i){if(ls(i))i.forEach(u=>V6(t,r,u));else if(i==null&&(i=""),r.startsWith("--"))t.setProperty(r,i);else{const u=vme(t,r);lq.test(i)?t.setProperty(VC(u),i.replace(lq,""),"important"):t[u]=i}}const cq=["Webkit","Moz","ms"],$9={};function vme(t,r){const i=$9[r];if(i)return i;let u=Md(r);if(u!=="filter"&&u in t)return $9[r]=u;u=n1(u);for(let g=0;g<cq.length;g++){const h=cq[g]+u;if(h in t)return $9[r]=h}return r}const uq="http://www.w3.org/1999/xlink";function dq(t,r,i,u,g,h=Ade(r)){u&&r.startsWith("xlink:")?i==null?t.removeAttributeNS(uq,r.slice(6,r.length)):t.setAttributeNS(uq,r,i):i==null||h&&!LX(i)?t.removeAttribute(r):t.setAttribute(r,h?"":zb(i)?String(i):i)}function fq(t,r,i,u,g){if(r==="innerHTML"||r==="textContent"){i!=null&&(t[r]=r==="innerHTML"?VJ(i):i);return}const h=t.tagName;if(r==="value"&&h!=="PROGRESS"&&!h.includes("-")){const w=h==="OPTION"?t.getAttribute("value")||"":t.value,I=i==null?t.type==="checkbox"?"on":"":String(i);(w!==I||!("_value"in t))&&(t.value=I),i==null&&t.removeAttribute(r),t._value=i;return}let x=!1;if(i===""||i==null){const w=typeof t[r];w==="boolean"?i=LX(i):i==null&&w==="string"?(i="",x=!0):w==="number"&&(i=0,x=!0)}try{t[r]=i}catch{}x&&t.removeAttribute(g||r)}function TC(t,r,i,u){t.addEventListener(r,i,u)}function yme(t,r,i,u){t.removeEventListener(r,i,u)}const mq=Symbol("_vei");function xme(t,r,i,u,g=null){const h=t[mq]||(t[mq]={}),x=h[r];if(u&&x)x.value=u;else{const[w,I]=wme(r);if(u){const D=h[r]=Sme(u,g);TC(t,w,D,I)}else x&&(yme(t,w,x,I),h[r]=void 0)}}const gq=/(?:Once|Passive|Capture)$/;function wme(t){let r;if(gq.test(t)){r={};let u;for(;u=t.match(gq);)t=t.slice(0,t.length-u[0].length),r[u[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):VC(t.slice(2)),r]}let V9=0;const Cme=Promise.resolve(),_me=()=>V9||(Cme.then(()=>V9=0),V9=Date.now());function Sme(t,r){const i=u=>{if(!u._vts)u._vts=Date.now();else if(u._vts<=i.attached)return;mp(kme(u,i.value),r,5,[u])};return i.value=t,i.attached=_me(),i}function kme(t,r){if(ls(r)){const i=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{i.call(t),t._stopped=!0},r.map(u=>g=>!g._stopped&&u&&u(g))}else return r}const hq=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,Eme=(t,r,i,u,g,h)=>{const x=g==="svg";r==="class"?gme(t,u,x):r==="style"?bme(t,i,u):RF(r)?vW(r)||xme(t,r,i,u,h):(r[0]==="."?(r=r.slice(1),!0):r[0]==="^"?(r=r.slice(1),!1):Ame(t,r,u,x))?(fq(t,r,u),!t.tagName.includes("-")&&(r==="value"||r==="checked"||r==="selected")&&dq(t,r,u,x,h,r!=="value")):t._isVueCE&&(/[A-Z]/.test(r)||!tl(u))?fq(t,Md(r),u,h,r):(r==="true-value"?t._trueValue=u:r==="false-value"&&(t._falseValue=u),dq(t,r,u,x))};function Ame(t,r,i,u){if(u)return!!(r==="innerHTML"||r==="textContent"||r in t&&hq(r)&&Ds(i));if(r==="spellcheck"||r==="draggable"||r==="translate"||r==="autocorrect"||r==="form"||r==="list"&&t.tagName==="INPUT"||r==="type"&&t.tagName==="TEXTAREA")return!1;if(r==="width"||r==="height"){const g=t.tagName;if(g==="IMG"||g==="VIDEO"||g==="CANVAS"||g==="SOURCE")return!1}return hq(r)&&tl(i)?!1:r in t}const jJ=new WeakMap,ZJ=new WeakMap,iF=Symbol("_moveCb"),pq=Symbol("_enterCb"),Tme=t=>(delete t.props.mode,t),Ome=Tme({name:"TransitionGroup",props:rc({},HJ,{tag:String,moveClass:String}),setup(t,{slots:r}){const i=LE(),u=fJ();let g,h;return PW(()=>{if(!g.length)return;const x=t.moveClass||`${t.name||"v"}-move`;if(!Pme(g[0].el,i.vnode.el,x)){g=[];return}g.forEach(Rme),g.forEach(Ime);const w=g.filter(Dme);MU(),w.forEach(I=>{const D=I.el,O=D.style;Nb(D,x),O.transform=O.webkitTransform=O.transitionDuration="";const N=D[iF]=V=>{V&&V.target!==D||(!V||/transform$/.test(V.propertyName))&&(D.removeEventListener("transitionend",N),D[iF]=null,ax(D,x))};D.addEventListener("transitionend",N)}),g=[]}),()=>{const x=ps(t),w=UJ(x);let I=x.tag||Yo;if(g=[],h)for(let D=0;D<h.length;D++){const O=h[D];O.el&&O.el instanceof Element&&(g.push(O),BC(O,FR(O,w,u,i)),jJ.set(O,O.el.getBoundingClientRect()))}h=r.default?IW(r.default()):[];for(let D=0;D<h.length;D++){const O=h[D];O.key!=null&&BC(O,FR(O,w,u,i))}return ae(I,null,h)}}}),$W=Ome;function Rme(t){const r=t.el;r[iF]&&r[iF](),r[pq]&&r[pq]()}function Ime(t){ZJ.set(t,t.el.getBoundingClientRect())}function Dme(t){const r=jJ.get(t),i=ZJ.get(t),u=r.left-i.left,g=r.top-i.top;if(u||g){const h=t.el.style;return h.transform=h.webkitTransform=`translate(${u}px,${g}px)`,h.transitionDuration="0s",t}}function Pme(t,r,i){const u=t.cloneNode(),g=t[CE];g&&g.forEach(w=>{w.split(/\s+/).forEach(I=>I&&u.classList.remove(I))}),i.split(/\s+/).forEach(w=>w&&u.classList.add(w)),u.style.display="none";const h=r.nodeType===1?r:r.parentNode;h.appendChild(u);const{hasTransform:x}=WJ(u);return h.removeChild(u),x}const aF=t=>{const r=t.props["onUpdate:modelValue"]||!1;return ls(r)?i=>B6(r,i):r};function Nme(t){t.target.composing=!0}function bq(t){const r=t.target;r.composing&&(r.composing=!1,r.dispatchEvent(new Event("input")))}const vE=Symbol("_assign"),_E={created(t,{modifiers:{lazy:r,trim:i,number:u}},g){t[vE]=aF(g);const h=u||g.props&&g.props.type==="number";TC(t,r?"change":"input",x=>{if(x.target.composing)return;let w=t.value;i&&(w=w.trim()),h&&(w=kU(w)),t[vE](w)}),i&&TC(t,"change",()=>{t.value=t.value.trim()}),r||(TC(t,"compositionstart",Nme),TC(t,"compositionend",bq),TC(t,"change",bq))},mounted(t,{value:r}){t.value=r??""},beforeUpdate(t,{value:r,oldValue:i,modifiers:{lazy:u,trim:g,number:h}},x){if(t[vE]=aF(x),t.composing)return;const w=(h||t.type==="number")&&!/^0\d/.test(t.value)?kU(t.value):t.value,I=r??"";w!==I&&(document.activeElement===t&&t.type!=="range"&&(u&&r===i||g&&t.value.trim()===I)||(t.value=I))}},BU={deep:!0,created(t,r,i){t[vE]=aF(i),TC(t,"change",()=>{const u=t._modelValue,g=Lme(t),h=t.checked,x=t[vE];if(ls(u)){const w=MX(u,g),I=w!==-1;if(h&&!I)x(u.concat(g));else if(!h&&I){const D=[...u];D.splice(w,1),x(D)}}else if(IF(u)){const w=new Set(u);h?w.add(g):w.delete(g),x(w)}else x(GJ(t,h))})},mounted:vq,beforeUpdate(t,r,i){t[vE]=aF(i),vq(t,r,i)}};function vq(t,{value:r,oldValue:i},u){t._modelValue=r;let g;if(ls(r))g=MX(r,u.props.value)>-1;else if(IF(r))g=r.has(u.props.value);else{if(r===i)return;g=NF(r,GJ(t,!0))}t.checked!==g&&(t.checked=g)}function Lme(t){return"_value"in t?t._value:t.value}function GJ(t,r){const i=r?"_trueValue":"_falseValue";return i in t?t[i]:r}const Mme=rc({patchProp:Eme},ume);let yq;function Bme(){return yq||(yq=Lfe(Mme))}const Fme=(...t)=>{const r=Bme().createApp(...t),{mount:i}=r;return r.mount=u=>{const g=Vme(u);if(!g)return;const h=r._component;!Ds(h)&&!h.render&&!h.template&&(h.template=g.innerHTML),g.nodeType===1&&(g.textContent="");const x=i(g,!1,$me(g));return g instanceof Element&&(g.removeAttribute("v-cloak"),g.setAttribute("data-v-app","")),x},r};function $me(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function Vme(t){return tl(t)?document.querySelector(t):t}function Xg(t,r){let i;function u(){i=vx(),i.run(()=>r.length?r(()=>{i==null||i.stop(),u()}):r())}Rn(t,g=>{g&&!i?u():g||(i==null||i.stop(),i=void 0)},{immediate:!0}),ic(()=>{i==null||i.stop()})}const Qr=typeof window<"u",VW=Qr&&"IntersectionObserver"in window,zme=Qr&&("ontouchstart"in window||window.navigator.maxTouchPoints>0),Hme=Qr&&"matchMedia"in window&&typeof window.matchMedia=="function";function xq(t,r,i){Ume(t,r),r.set(t,i)}function Ume(t,r){if(r.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function wq(t,r,i){return t.set(qJ(t,r),i),i}function V0(t,r){return t.get(qJ(t,r))}function qJ(t,r,i){if(typeof t=="function"?t===r:t.has(r))return arguments.length<3?r:i;throw new TypeError("Private element is not present on this object")}function YJ(t,r,i){const u=r.length-1;if(u<0)return t===void 0?i:t;for(let g=0;g<u;g++){if(t==null)return i;t=t[r[g]]}return t==null||t[r[u]]===void 0?i:t[r[u]]}function Jg(t,r){if(t===r)return!0;if(t instanceof Date&&r instanceof Date&&t.getTime()!==r.getTime()||t!==Object(t)||r!==Object(r))return!1;const i=Object.keys(t);return i.length!==Object.keys(r).length?!1:i.every(u=>Jg(t[u],r[u]))}function FU(t,r,i){return t==null||!r||typeof r!="string"?i:t[r]!==void 0?t[r]:(r=r.replace(/\[(\w+)\]/g,".$1"),r=r.replace(/^\./,""),YJ(t,r.split("."),i))}function jg(t,r,i){if(r===!0)return t===void 0?i:t;if(r==null||typeof r=="boolean")return i;if(t!==Object(t)){if(typeof r!="function")return i;const g=r(t,i);return typeof g>"u"?i:g}if(typeof r=="string")return FU(t,r,i);if(Array.isArray(r))return YJ(t,r,i);if(typeof r!="function")return i;const u=r(t,i);return typeof u>"u"?i:u}function XJ(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return Array.from({length:t},(i,u)=>r+u)}function ws(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"px";if(t==null||t==="")return;const i=Number(t);return isNaN(i)?String(t):isFinite(i)?`${i}${r}`:void 0}function $U(t){return t!==null&&typeof t=="object"&&!Array.isArray(t)}function Cq(t){let r;return t!==null&&typeof t=="object"&&((r=Object.getPrototypeOf(t))===Object.prototype||r===null)}function JJ(t){if(t&&"$el"in t){const r=t.$el;return(r==null?void 0:r.nodeType)===Node.TEXT_NODE?r.nextElementSibling:r}return t}const VU=Object.freeze({enter:13,tab:9,delete:46,esc:27,space:32,up:38,down:40,left:37,right:39,end:35,home:36,del:46,backspace:8,insert:45,pageup:33,pagedown:34,shift:16});function z9(t,r){return r.every(i=>t.hasOwnProperty(i))}function UF(t,r){const i={};for(const u of r)Object.prototype.hasOwnProperty.call(t,u)&&(i[u]=t[u]);return i}function _q(t,r,i){const u=Object.create(null),g=Object.create(null);for(const h in t)r.some(x=>x instanceof RegExp?x.test(h):x===h)?u[h]=t[h]:g[h]=t[h];return[u,g]}function _x(t,r){const i={...t};return r.forEach(u=>delete i[u]),i}const QJ=/^on[^a-z]/,eQ=t=>QJ.test(t),Wme=["onAfterscriptexecute","onAnimationcancel","onAnimationend","onAnimationiteration","onAnimationstart","onAuxclick","onBeforeinput","onBeforescriptexecute","onChange","onClick","onCompositionend","onCompositionstart","onCompositionupdate","onContextmenu","onCopy","onCut","onDblclick","onFocusin","onFocusout","onFullscreenchange","onFullscreenerror","onGesturechange","onGestureend","onGesturestart","onGotpointercapture","onInput","onKeydown","onKeypress","onKeyup","onLostpointercapture","onMousedown","onMousemove","onMouseout","onMouseover","onMouseup","onMousewheel","onPaste","onPointercancel","onPointerdown","onPointerenter","onPointerleave","onPointermove","onPointerout","onPointerover","onPointerup","onReset","onSelect","onSubmit","onTouchcancel","onTouchend","onTouchmove","onTouchstart","onTransitioncancel","onTransitionend","onTransitionrun","onTransitionstart","onWheel"];function gI(t){const[r,i]=_q(t,[QJ]),u=_x(r,Wme),[g,h]=_q(i,["class","style","id",/^data-/]);return Object.assign(g,r),Object.assign(h,u),[g,h]}function Uu(t){return t==null?[]:Array.isArray(t)?t:[t]}function Kme(t,r){let i=0;const u=function(){for(var g=arguments.length,h=new Array(g),x=0;x<g;x++)h[x]=arguments[x];clearTimeout(i),i=setTimeout(()=>t(...h),Q(r))};return u.clear=()=>{clearTimeout(i)},u.immediate=t,u}function wf(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;return Math.max(r,Math.min(i,t))}function Sq(t,r){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"0";return t+i.repeat(Math.max(0,r-t.length))}function kq(t,r){return(arguments.length>2&&arguments[2]!==void 0?arguments[2]:"0").repeat(Math.max(0,r-t.length))+t}function jme(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;const i=[];let u=0;for(;u<t.length;)i.push(t.substr(u,r)),u+=r;return i}function Eq(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1e3;if(t<r)return`${t} B`;const i=r===1024?["Ki","Mi","Gi"]:["k","M","G"];let u=-1;for(;Math.abs(t)>=r&&u<i.length-1;)t/=r,++u;return`${t.toFixed(1)} ${i[u]}B`}function Hu(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=arguments.length>2?arguments[2]:void 0;const u={};for(const g in t)u[g]=t[g];for(const g in r){const h=t[g],x=r[g];if(Cq(h)&&Cq(x)){u[g]=Hu(h,x,i);continue}if(i&&Array.isArray(h)&&Array.isArray(x)){u[g]=i(h,x);continue}u[g]=x}return u}function tQ(t){return t.map(r=>r.type===Yo?tQ(r.children):r).flat()}function LC(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";if(LC.cache.has(t))return LC.cache.get(t);const r=t.replace(/[^a-z]/gi,"-").replace(/\B([A-Z])/g,"-$1").toLowerCase();return LC.cache.set(t,r),r}LC.cache=new Map;function uE(t,r){if(!r||typeof r!="object")return[];if(Array.isArray(r))return r.map(i=>uE(t,i)).flat(1);if(r.suspense)return uE(t,r.ssContent);if(Array.isArray(r.children))return r.children.map(i=>uE(t,i)).flat(1);if(r.component){if(Object.getOwnPropertySymbols(r.component.provides).includes(t))return[r.component];if(r.component.subTree)return uE(t,r.component.subTree).flat(1)}return[]}var Yk=new WeakMap,CC=new WeakMap;class nQ{constructor(r){xq(this,Yk,[]),xq(this,CC,0),this.size=r}get isFull(){return V0(Yk,this).length===this.size}push(r){V0(Yk,this)[V0(CC,this)]=r,wq(CC,this,(V0(CC,this)+1)%this.size)}values(){return V0(Yk,this).slice(V0(CC,this)).concat(V0(Yk,this).slice(0,V0(CC,this)))}clear(){V0(Yk,this).length=0,wq(CC,this,0)}}function zW(t){const r=jl({});Bd(()=>{const u=t();for(const g in u)r[g]=u[g]},{flush:"sync"});const i={};for(const u in r)i[u]=pn(()=>r[u]);return i}function lF(t,r){return t.includes(r)}function oQ(t){return t[2].toLowerCase()+t.slice(3)}const Cf=()=>[Function,Array];function Aq(t,r){return r="on"+n1(r),!!(t[r]||t[`${r}Once`]||t[`${r}Capture`]||t[`${r}OnceCapture`]||t[`${r}CaptureOnce`])}function WF(t){for(var r=arguments.length,i=new Array(r>1?r-1:0),u=1;u<r;u++)i[u-1]=arguments[u];if(Array.isArray(t))for(const g of t)g(...i);else typeof t=="function"&&t(...i)}function HR(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const i=["button","[href]",'input:not([type="hidden"])',"select","textarea","[tabindex]"].map(u=>`${u}${r?':not([tabindex="-1"])':""}:not([disabled])`).join(", ");return[...t.querySelectorAll(i)]}function sQ(t,r,i){let u,g=t.indexOf(document.activeElement);const h=r==="next"?1:-1;do g+=h,u=t[g];while((!u||u.offsetParent==null||!((i==null?void 0:i(u))??!0))&&g<t.length&&g>=0);return u}function RR(t,r){var u,g,h,x;const i=HR(t);if(r==null)(t===document.activeElement||!t.contains(document.activeElement))&&((u=i[0])==null||u.focus());else if(r==="first")(g=i[0])==null||g.focus();else if(r==="last")(h=i.at(-1))==null||h.focus();else if(typeof r=="number")(x=i[r])==null||x.focus();else{const w=sQ(i,r);w?w.focus():RR(t,r==="next"?"first":"last")}}function Zme(){}function SE(t,r){if(!(Qr&&typeof CSS<"u"&&typeof CSS.supports<"u"&&CSS.supports(`selector(${r})`)))return null;try{return!!t&&t.matches(r)}catch{return null}}function HW(t){return t.some(r=>VR(r)?r.type===$u?!1:r.type!==Yo||HW(r.children):!0)?t:null}function Gme(t,r){if(!Qr||t===0)return r(),()=>{};const i=window.setTimeout(r,t);return()=>window.clearTimeout(i)}function qme(t,r){const i=t.clientX,u=t.clientY,g=r.getBoundingClientRect(),h=g.left,x=g.top,w=g.right,I=g.bottom;return i>=h&&i<=w&&u>=x&&u<=I}function zU(){const t=bo(),r=i=>{t.value=i};return Object.defineProperty(r,"value",{enumerable:!0,get:()=>t.value,set:i=>t.value=i}),Object.defineProperty(r,"el",{enumerable:!0,get:()=>JJ(t.value)}),r}function cF(t){const r=t.key.length===1,i=!t.ctrlKey&&!t.metaKey&&!t.altKey;return r&&i}function HU(t){return typeof t=="string"||typeof t=="number"||typeof t=="boolean"||typeof t=="bigint"}function Yme(t){const r={};for(const i in t)r[Md(i)]=t[i];return r}function Xme(t){const r=["checked","disabled"];return Object.fromEntries(Object.entries(t).filter(i=>{let[u,g]=i;return r.includes(u)?!!g:g!==void 0}))}const rQ=["top","bottom"],Jme=["start","end","left","right"];function UU(t,r){let[i,u]=t.split(" ");return u||(u=lF(rQ,i)?"start":lF(Jme,i)?"top":"center"),{side:WU(i,r),align:WU(u,r)}}function WU(t,r){return t==="start"?r?"right":"left":t==="end"?r?"left":"right":t}function H9(t){return{side:{center:"center",top:"bottom",bottom:"top",left:"right",right:"left"}[t.side],align:t.align}}function U9(t){return{side:t.side,align:{center:"center",top:"bottom",bottom:"top",left:"right",right:"left"}[t.align]}}function Tq(t){return{side:t.align,align:t.side}}function Oq(t){return lF(rQ,t.side)?"y":"x"}class Vb{constructor(r){let{x:i,y:u,width:g,height:h}=r;this.x=i,this.y=u,this.width=g,this.height=h}get top(){return this.y}get bottom(){return this.y+this.height}get left(){return this.x}get right(){return this.x+this.width}}function Rq(t,r){return{x:{before:Math.max(0,r.left-t.left),after:Math.max(0,t.right-r.right)},y:{before:Math.max(0,r.top-t.top),after:Math.max(0,t.bottom-r.bottom)}}}function iQ(t){return Array.isArray(t)?new Vb({x:t[0],y:t[1],width:0,height:0}):t.getBoundingClientRect()}function Qme(t){if(t===document.documentElement)return visualViewport?new Vb({x:visualViewport.scale>1?0:visualViewport.offsetLeft,y:visualViewport.scale>1?0:visualViewport.offsetTop,width:visualViewport.width*visualViewport.scale,height:visualViewport.height*visualViewport.scale}):new Vb({x:0,y:0,width:document.documentElement.clientWidth,height:document.documentElement.clientHeight});{const r=t.getBoundingClientRect();return new Vb({x:r.x,y:r.y,width:t.clientWidth,height:t.clientHeight})}}function UW(t){const r=t.getBoundingClientRect(),i=getComputedStyle(t),u=i.transform;if(u){let g,h,x,w,I;if(u.startsWith("matrix3d("))g=u.slice(9,-1).split(/, /),h=Number(g[0]),x=Number(g[5]),w=Number(g[12]),I=Number(g[13]);else if(u.startsWith("matrix("))g=u.slice(7,-1).split(/, /),h=Number(g[0]),x=Number(g[3]),w=Number(g[4]),I=Number(g[5]);else return new Vb(r);const D=i.transformOrigin,O=r.x-w-(1-h)*parseFloat(D),N=r.y-I-(1-x)*parseFloat(D.slice(D.indexOf(" ")+1)),V=h?r.width/h:t.offsetWidth+1,U=x?r.height/x:t.offsetHeight+1;return new Vb({x:O,y:N,width:V,height:U})}else return new Vb(r)}function dE(t,r,i){if(typeof t.animate>"u")return{finished:Promise.resolve()};let u;try{u=t.animate(r,i)}catch{return{finished:Promise.resolve()}}return typeof u.finished>"u"&&(u.finished=new Promise(g=>{u.onfinish=()=>{g(u)}})),u}const z6=new WeakMap;function ege(t,r){Object.keys(r).forEach(i=>{if(eQ(i)){const u=oQ(i),g=z6.get(t);if(r[i]==null)g==null||g.forEach(h=>{const[x,w]=h;x===u&&(t.removeEventListener(u,w),g.delete(h))});else if(!g||![...g].some(h=>h[0]===u&&h[1]===r[i])){t.addEventListener(u,r[i]);const h=g||new Set;h.add([u,r[i]]),z6.has(t)||z6.set(t,h)}}else r[i]==null?t.removeAttribute(i):t.setAttribute(i,r[i])})}function tge(t,r){Object.keys(r).forEach(i=>{if(eQ(i)){const u=oQ(i),g=z6.get(t);g==null||g.forEach(h=>{const[x,w]=h;x===u&&(t.removeEventListener(u,w),g.delete(h))})}else t.removeAttribute(i)})}const Xk=2.4,Iq=.2126729,Dq=.7151522,Pq=.072175,nge=.55,oge=.58,sge=.57,rge=.62,A6=.03,Nq=1.45,ige=5e-4,age=1.25,lge=1.25,Lq=.078,Mq=12.82051282051282,T6=.06,Bq=.001;function Fq(t,r){const i=(t.r/255)**Xk,u=(t.g/255)**Xk,g=(t.b/255)**Xk,h=(r.r/255)**Xk,x=(r.g/255)**Xk,w=(r.b/255)**Xk;let I=i*Iq+u*Dq+g*Pq,D=h*Iq+x*Dq+w*Pq;if(I<=A6&&(I+=(A6-I)**Nq),D<=A6&&(D+=(A6-D)**Nq),Math.abs(D-I)<ige)return 0;let O;if(D>I){const N=(D**nge-I**oge)*age;O=N<Bq?0:N<Lq?N-N*Mq*T6:N-T6}else{const N=(D**rge-I**sge)*lge;O=N>-Bq?0:N>-Lq?N-N*Mq*T6:N+T6}return O*100}function aQ(t,r){r=Array.isArray(r)?r.slice(0,-1).map(i=>`'${i}'`).join(", ")+` or '${r.at(-1)}'`:`'${r}'`}const uF=.20689655172413793,cge=t=>t>uF**3?Math.cbrt(t):t/(3*uF**2)+4/29,uge=t=>t>uF?t**3:3*uF**2*(t-4/29);function lQ(t){const r=cge,i=r(t[1]);return[116*i-16,500*(r(t[0]/.95047)-i),200*(i-r(t[2]/1.08883))]}function cQ(t){const r=uge,i=(t[0]+16)/116;return[r(i+t[1]/500)*.95047,r(i),r(i-t[2]/200)*1.08883]}const dge=[[3.2406,-1.5372,-.4986],[-.9689,1.8758,.0415],[.0557,-.204,1.057]],fge=t=>t<=.0031308?t*12.92:1.055*t**(1/2.4)-.055,mge=[[.4124,.3576,.1805],[.2126,.7152,.0722],[.0193,.1192,.9505]],gge=t=>t<=.04045?t/12.92:((t+.055)/1.055)**2.4;function uQ(t){const r=Array(3),i=fge,u=dge;for(let g=0;g<3;++g)r[g]=Math.round(wf(i(u[g][0]*t[0]+u[g][1]*t[1]+u[g][2]*t[2]))*255);return{r:r[0],g:r[1],b:r[2]}}function WW(t){let{r,g:i,b:u}=t;const g=[0,0,0],h=gge,x=mge;r=h(r/255),i=h(i/255),u=h(u/255);for(let w=0;w<3;++w)g[w]=x[w][0]*r+x[w][1]*i+x[w][2]*u;return g}function KU(t){return!!t&&/^(#|var\(--|(rgb|hsl)a?\()/.test(t)}function hge(t){return KU(t)&&!/^((rgb|hsl)a?\()?var\(--/.test(t)}const $q=/^(?<fn>(?:rgb|hsl)a?)\((?<values>.+)\)/,pge={rgb:(t,r,i,u)=>({r:t,g:r,b:i,a:u}),rgba:(t,r,i,u)=>({r:t,g:r,b:i,a:u}),hsl:(t,r,i,u)=>Vq({h:t,s:r,l:i,a:u}),hsla:(t,r,i,u)=>Vq({h:t,s:r,l:i,a:u}),hsv:(t,r,i,u)=>UR({h:t,s:r,v:i,a:u}),hsva:(t,r,i,u)=>UR({h:t,s:r,v:i,a:u})};function Fb(t){if(typeof t=="number")return{r:(t&16711680)>>16,g:(t&65280)>>8,b:t&255};if(typeof t=="string"&&$q.test(t)){const{groups:r}=t.match($q),{fn:i,values:u}=r,g=u.split(/,\s*|\s*\/\s*|\s+/).map((h,x)=>h.endsWith("%")||x>0&&x<3&&["hsl","hsla","hsv","hsva"].includes(i)?parseFloat(h)/100:parseFloat(h));return pge[i](...g)}else if(typeof t=="string"){let r=t.startsWith("#")?t.slice(1):t;return[3,4].includes(r.length)?r=r.split("").map(i=>i+i).join(""):[6,8].includes(r.length),vge(r)}else if(typeof t=="object"){if(z9(t,["r","g","b"]))return t;if(z9(t,["h","s","l"]))return UR(dQ(t));if(z9(t,["h","s","v"]))return UR(t)}throw new TypeError(`Invalid color: ${t==null?t:String(t)||t.constructor.name}
Expected #hex, #hexa, rgb(), rgba(), hsl(), hsla(), object or number`)}function UR(t){const{h:r,s:i,v:u,a:g}=t,h=w=>{const I=(w+r/60)%6;return u-u*i*Math.max(Math.min(I,4-I,1),0)},x=[h(5),h(3),h(1)].map(w=>Math.round(w*255));return{r:x[0],g:x[1],b:x[2],a:g}}function Vq(t){return UR(dQ(t))}function dQ(t){const{h:r,s:i,l:u,a:g}=t,h=u+i*Math.min(u,1-u),x=h===0?0:2-2*u/h;return{h:r,s:x,v:h,a:g}}function O6(t){const r=Math.round(t).toString(16);return("00".substr(0,2-r.length)+r).toUpperCase()}function bge(t){let{r,g:i,b:u,a:g}=t;return`#${[O6(r),O6(i),O6(u),g!==void 0?O6(Math.round(g*255)):""].join("")}`}function vge(t){t=yge(t);let[r,i,u,g]=jme(t,2).map(h=>parseInt(h,16));return g=g===void 0?g:g/255,{r,g:i,b:u,a:g}}function yge(t){return t.startsWith("#")&&(t=t.slice(1)),t=t.replace(/([^0-9a-f])/gi,"F"),(t.length===3||t.length===4)&&(t=t.split("").map(r=>r+r).join("")),t.length!==6&&(t=Sq(Sq(t,6),8,"F")),t}function xge(t,r){const i=lQ(WW(t));return i[0]=i[0]+r*10,uQ(cQ(i))}function wge(t,r){const i=lQ(WW(t));return i[0]=i[0]-r*10,uQ(cQ(i))}function Cge(t){const r=Fb(t);return WW(r)[1]}function fQ(t){const r=Math.abs(Fq(Fb(0),Fb(t)));return Math.abs(Fq(Fb(16777215),Fb(t)))>Math.min(r,50)?"#fff":"#000"}function Bn(t,r){return i=>Object.keys(t).reduce((u,g)=>{const x=typeof t[g]=="object"&&t[g]!=null&&!Array.isArray(t[g])?t[g]:{type:t[g]};return i&&g in i?u[g]={...x,default:i[g]}:u[g]=x,r&&!u[g].source&&(u[g].source=r),u},{})}const Hs=Bn({class:[String,Array,Object],style:{type:[String,Array,Object],default:null}},"component");function Bl(t,r){const i=LE();if(!i)throw new Error(`[Vuetify] ${t} must be called from inside a setup function`);return i}function jb(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"composables";const r=Bl(t).type;return LC((r==null?void 0:r.aliasName)||(r==null?void 0:r.name))}function _ge(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Bl("injectSelf");const{provides:i}=r;if(i&&t in i)return i[t]}const kE=Symbol.for("vuetify:defaults");function Sge(t){return Tn(t)}function KW(){const t=ji(kE);if(!t)throw new Error("[Vuetify] Could not find defaults instance");return t}function Sx(t,r){const i=KW(),u=Tn(t),g=Rt(()=>{if(Q(r==null?void 0:r.disabled))return i.value;const x=Q(r==null?void 0:r.scoped),w=Q(r==null?void 0:r.reset),I=Q(r==null?void 0:r.root);if(u.value==null&&!(x||w||I))return i.value;let D=Hu(u.value,{prev:i.value});if(x)return D;if(w||I){const O=Number(w||1/0);for(let N=0;N<=O&&!(!D||!("prev"in D));N++)D=D.prev;return D&&typeof I=="string"&&I in D&&(D=Hu(Hu(D,{prev:D}),D[I])),D}return D.prev?Hu(D.prev,D):D});return Fd(kE,g),g}function kge(t,r){return t.props&&(typeof t.props[r]<"u"||typeof t.props[LC(r)]<"u")}function Ege(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:KW();const u=Bl("useDefaults");if(r=r??u.type.name??u.type.__name,!r)throw new Error("[Vuetify] Could not determine component name");const g=Rt(()=>{var I;return(I=i.value)==null?void 0:I[t._as??r]}),h=new Proxy(t,{get(I,D){var U,Z,ee,re;const O=Reflect.get(I,D);if(D==="class"||D==="style")return[(U=g.value)==null?void 0:U[D],O].filter(H=>H!=null);if(kge(u.vnode,D))return O;const N=(Z=g.value)==null?void 0:Z[D];if(N!==void 0)return N;const V=(re=(ee=i.value)==null?void 0:ee.global)==null?void 0:re[D];return V!==void 0?V:O}}),x=bo();Bd(()=>{if(g.value){const I=Object.entries(g.value).filter(D=>{let[O]=D;return O.startsWith(O[0].toUpperCase())});x.value=I.length?Object.fromEntries(I):void 0}else x.value=void 0});function w(){const I=_ge(kE,u);Fd(kE,Rt(()=>x.value?Hu((I==null?void 0:I.value)??{},x.value):I==null?void 0:I.value))}return{props:h,provideSubDefaults:w}}function ME(t){if(t._setup=t._setup??t.setup,!t.name)return t;if(t._setup){t.props=Bn(t.props??{},t.name)();const r=Object.keys(t.props).filter(i=>i!=="class"&&i!=="style");t.filterProps=function(u){return UF(u,r)},t.props._as=String,t.setup=function(u,g){const h=KW();if(!h.value)return t._setup(u,g);const{props:x,provideSubDefaults:w}=Ege(u,u._as??t.name,h),I=t._setup(x,g);return w(),I}}return t}function Vo(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return r=>(t?ME:bJ)(r)}function KF(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"div",i=arguments.length>2?arguments[2]:void 0;return Vo()({name:i??n1(Md(t.replace(/__/g,"-"))),props:{tag:{type:String,default:r},...Hs()},setup(u,g){let{slots:h}=g;return()=>{var x;return Ub(u.tag,{class:[t,u.class],style:u.style},(x=h.default)==null?void 0:x.call(h))}}})}function mQ(t){if(typeof t.getRootNode!="function"){for(;t.parentNode;)t=t.parentNode;return t!==document?null:document}const r=t.getRootNode();return r!==document&&r.getRootNode({composed:!0})!==document?null:r}const dF="cubic-bezier(0.4, 0, 0.2, 1)",Age="cubic-bezier(0.0, 0, 0.2, 1)",Tge="cubic-bezier(0.4, 0, 1, 1)";function gQ(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;for(;t;){if(r?Oge(t):jW(t))return t;t=t.parentElement}return document.scrollingElement}function fF(t,r){const i=[];if(r&&t&&!r.contains(t))return i;for(;t&&(jW(t)&&i.push(t),t!==r);)t=t.parentElement;return i}function jW(t){if(!t||t.nodeType!==Node.ELEMENT_NODE)return!1;const r=window.getComputedStyle(t);return r.overflowY==="scroll"||r.overflowY==="auto"&&t.scrollHeight>t.clientHeight}function Oge(t){if(!t||t.nodeType!==Node.ELEMENT_NODE)return!1;const r=window.getComputedStyle(t);return["scroll","auto"].includes(r.overflowY)}function Rge(t){for(;t;){if(window.getComputedStyle(t).position==="fixed")return!0;t=t.offsetParent}return!1}function Cs(t){const r=Bl("useRender");r.render=t}function Ri(t,r,i){let u=arguments.length>3&&arguments[3]!==void 0?arguments[3]:N=>N,g=arguments.length>4&&arguments[4]!==void 0?arguments[4]:N=>N;const h=Bl("useProxiedModel"),x=Tn(t[r]!==void 0?t[r]:i),w=LC(r),D=Rt(w!==r?()=>{var N,V,U,Z;return t[r],!!(((N=h.vnode.props)!=null&&N.hasOwnProperty(r)||(V=h.vnode.props)!=null&&V.hasOwnProperty(w))&&((U=h.vnode.props)!=null&&U.hasOwnProperty(`onUpdate:${r}`)||(Z=h.vnode.props)!=null&&Z.hasOwnProperty(`onUpdate:${w}`)))}:()=>{var N,V;return t[r],!!((N=h.vnode.props)!=null&&N.hasOwnProperty(r)&&((V=h.vnode.props)!=null&&V.hasOwnProperty(`onUpdate:${r}`)))});Xg(()=>!D.value,()=>{Rn(()=>t[r],N=>{x.value=N})});const O=Rt({get(){const N=t[r];return u(D.value?N:x.value)},set(N){const V=g(N),U=ps(D.value?t[r]:x.value);U===V||u(U)===N||(x.value=V,h==null||h.emit(`update:${r}`,V))}});return Object.defineProperty(O,"externalValue",{get:()=>D.value?t[r]:x.value}),O}const Ige={badge:"Badge",open:"Open",close:"Close",dismiss:"Dismiss",confirmEdit:{ok:"OK",cancel:"Cancel"},dataIterator:{noResultsText:"No matching records found",loadingText:"Loading items..."},dataTable:{itemsPerPageText:"Rows per page:",ariaLabel:{sortDescending:"Sorted descending.",sortAscending:"Sorted ascending.",sortNone:"Not sorted.",activateNone:"Activate to remove sorting.",activateDescending:"Activate to sort descending.",activateAscending:"Activate to sort ascending."},sortBy:"Sort by"},dataFooter:{itemsPerPageText:"Items per page:",itemsPerPageAll:"All",nextPage:"Next page",prevPage:"Previous page",firstPage:"First page",lastPage:"Last page",pageText:"{0}-{1} of {2}"},dateRangeInput:{divider:"to"},datePicker:{itemsSelected:"{0} selected",range:{title:"Select dates",header:"Enter dates"},title:"Select date",header:"Enter date",input:{placeholder:"Enter date"}},noDataText:"No data available",carousel:{prev:"Previous visual",next:"Next visual",ariaLabel:{delimiter:"Carousel slide {0} of {1}"}},calendar:{moreEvents:"{0} more",today:"Today"},input:{clear:"Clear {0}",prependAction:"{0} prepended action",appendAction:"{0} appended action",otp:"Please enter OTP character {0}"},fileInput:{counter:"{0} files",counterSize:"{0} files ({1} in total)"},fileUpload:{title:"Drag and drop files here",divider:"or",browse:"Browse Files"},timePicker:{am:"AM",pm:"PM",title:"Select Time"},pagination:{ariaLabel:{root:"Pagination Navigation",next:"Next page",previous:"Previous page",page:"Go to page {0}",currentPage:"Page {0}, Current page",first:"First page",last:"Last page"}},stepper:{next:"Next",prev:"Previous"},rating:{ariaLabel:{item:"Rating {0} of {1}"}},loading:"Loading...",infiniteScroll:{loadMore:"Load more",empty:"No more"},rules:{required:"This field is required",email:"Please enter a valid email",number:"This field can only contain numbers",integer:"This field can only contain integer values",capital:"This field can only contain uppercase letters",maxLength:"You must enter a maximum of {0} characters",minLength:"You must enter a minimum of {0} characters",strictLength:"The length of the entered field is invalid",exclude:"The {0} character is not allowed",notEmpty:"Please choose at least one value",pattern:"Invalid format"},hotkey:{then:"then",ctrl:"Ctrl",command:"Command",space:"Space",shift:"Shift",alt:"Alt",enter:"Enter",escape:"Escape",upArrow:"Up Arrow",downArrow:"Down Arrow",leftArrow:"Left Arrow",rightArrow:"Right Arrow",backspace:"Backspace",option:"Option",plus:"plus",shortcut:"Keyboard shortcut: {0}"}},zq="$vuetify.",Hq=(t,r)=>t.replace(/\{(\d+)\}/g,(i,u)=>String(r[Number(u)])),hQ=(t,r,i)=>function(u){for(var g=arguments.length,h=new Array(g>1?g-1:0),x=1;x<g;x++)h[x-1]=arguments[x];if(!u.startsWith(zq))return Hq(u,h);const w=u.replace(zq,""),I=t.value&&i.value[t.value],D=r.value&&i.value[r.value];let O=FU(I,w,null);return O||(`${u}${t.value}`,O=FU(D,w,null)),O||(O=u),typeof O!="string"&&(O=u),Hq(O,h)};function ZW(t,r){return(i,u)=>new Intl.NumberFormat([t.value,r.value],u).format(i)}function pQ(t,r){return ZW(t,r)(.1).includes(",")?",":"."}function W9(t,r,i){const u=Ri(t,r,t[r]??i.value);return u.value=t[r]??i.value,Rn(i,g=>{t[r]==null&&(u.value=i.value)}),u}function bQ(t){return r=>{const i=W9(r,"locale",t.current),u=W9(r,"fallback",t.fallback),g=W9(r,"messages",t.messages);return{name:"vuetify",current:i,fallback:u,messages:g,decimalSeparator:pn(()=>pQ(i,u)),t:hQ(i,u,g),n:ZW(i,u),provide:bQ({current:i,fallback:u,messages:g})}}}function Dge(t){const r=bo((t==null?void 0:t.locale)??"en"),i=bo((t==null?void 0:t.fallback)??"en"),u=Tn({en:Ige,...t==null?void 0:t.messages});return{name:"vuetify",current:r,fallback:i,messages:u,decimalSeparator:pn(()=>(t==null?void 0:t.decimalSeparator)??pQ(r,i)),t:hQ(r,i,u),n:ZW(r,i),provide:bQ({current:r,fallback:i,messages:u})}}const mF=Symbol.for("vuetify:locale");function Pge(t){return t.name!=null}function Nge(t){const r=t!=null&&t.adapter&&Pge(t==null?void 0:t.adapter)?t==null?void 0:t.adapter:Dge(t),i=Mge(r,t);return{...r,...i}}function BE(){const t=ji(mF);if(!t)throw new Error("[Vuetify] Could not find injected locale instance");return t}function Lge(){return{af:!1,ar:!0,bg:!1,ca:!1,ckb:!1,cs:!1,de:!1,el:!1,en:!1,es:!1,et:!1,fa:!0,fi:!1,fr:!1,hr:!1,hu:!1,he:!0,id:!1,it:!1,ja:!1,km:!1,ko:!1,lv:!1,lt:!1,nl:!1,no:!1,pl:!1,pt:!1,ro:!1,ru:!1,sk:!1,sl:!1,srCyrl:!1,srLatn:!1,sv:!1,th:!1,tr:!1,az:!1,uk:!1,vi:!1,zhHans:!1,zhHant:!1}}function Mge(t,r){const i=Tn((r==null?void 0:r.rtl)??Lge()),u=Rt(()=>i.value[t.current.value]??!1);return{isRtl:u,rtl:i,rtlClasses:pn(()=>`v-locale--is-${u.value?"rtl":"ltr"}`)}}function Qg(){const t=ji(mF);if(!t)throw new Error("[Vuetify] Could not find injected rtl instance");return{isRtl:t.isRtl,rtlClasses:t.rtlClasses}}function hI(t){const r=t.slice(-2).toUpperCase();switch(!0){case t==="GB-alt-variant":return{firstDay:0,firstWeekSize:4};case t==="001":return{firstDay:1,firstWeekSize:1};case`AG AS BD BR BS BT BW BZ CA CO DM DO ET GT GU HK HN ID IL IN JM JP KE
    KH KR LA MH MM MO MT MX MZ NI NP PA PE PH PK PR PY SA SG SV TH TT TW UM US
    VE VI WS YE ZA ZW`.includes(r):return{firstDay:0,firstWeekSize:1};case`AI AL AM AR AU AZ BA BM BN BY CL CM CN CR CY EC GE HR KG KZ LB LK LV
    MD ME MK MN MY NZ RO RS SI TJ TM TR UA UY UZ VN XK`.includes(r):return{firstDay:1,firstWeekSize:1};case`AD AN AT AX BE BG CH CZ DE DK EE ES FI FJ FO FR GB GF GP GR HU IE IS
    IT LI LT LU MC MQ NL NO PL RE RU SE SK SM VA`.includes(r):return{firstDay:1,firstWeekSize:4};case"AE AF BH DJ DZ EG IQ IR JO KW LY OM QA SD SY".includes(r):return{firstDay:6,firstWeekSize:1};case r==="MV":return{firstDay:5,firstWeekSize:1};case r==="PT":return{firstDay:0,firstWeekSize:4};default:return null}}function Bge(t,r,i){var O;const u=[];let g=[];const h=vQ(t),x=yQ(t),w=i??((O=hI(r))==null?void 0:O.firstDay)??0,I=(h.getDay()-w+7)%7,D=(x.getDay()-w+7)%7;for(let N=0;N<I;N++){const V=new Date(h);V.setDate(V.getDate()-(I-N)),g.push(V)}for(let N=1;N<=x.getDate();N++){const V=new Date(t.getFullYear(),t.getMonth(),N);g.push(V),g.length===7&&(u.push(g),g=[])}for(let N=1;N<7-D;N++){const V=new Date(x);V.setDate(V.getDate()+N),g.push(V)}return g.length>0&&u.push(g),u}function jU(t,r,i){var h;const u=i??((h=hI(r))==null?void 0:h.firstDay)??0,g=new Date(t);for(;g.getDay()!==u;)g.setDate(g.getDate()-1);return g}function Fge(t,r){var g;const i=new Date(t),u=((((g=hI(r))==null?void 0:g.firstDay)??0)+6)%7;for(;i.getDay()!==u;)i.setDate(i.getDate()+1);return i}function vQ(t){return new Date(t.getFullYear(),t.getMonth(),1)}function yQ(t){return new Date(t.getFullYear(),t.getMonth()+1,0)}function $ge(t){const r=t.split("-").map(Number);return new Date(r[0],r[1]-1,r[2])}const Vge=/^([12]\d{3}-([1-9]|0[1-9]|1[0-2])-([1-9]|0[1-9]|[12]\d|3[01]))$/;function xQ(t){if(t==null)return new Date;if(t instanceof Date)return t;if(typeof t=="string"){let r;if(Vge.test(t))return $ge(t);if(r=Date.parse(t),!isNaN(r))return new Date(r)}return null}const Uq=new Date(2e3,0,2);function zge(t,r,i){var g;const u=r??((g=hI(t))==null?void 0:g.firstDay)??0;return XJ(7).map(h=>{const x=new Date(Uq);return x.setDate(Uq.getDate()+u+h),new Intl.DateTimeFormat(t,{weekday:i??"narrow"}).format(x)})}function Hge(t,r,i,u){const g=xQ(t)??new Date,h=u==null?void 0:u[r];if(typeof h=="function")return h(g,r,i);let x={};switch(r){case"fullDate":x={year:"numeric",month:"short",day:"numeric"};break;case"fullDateWithWeekday":x={weekday:"long",year:"numeric",month:"long",day:"numeric"};break;case"normalDate":const w=g.getDate(),I=new Intl.DateTimeFormat(i,{month:"long"}).format(g);return`${w} ${I}`;case"normalDateWithWeekday":x={weekday:"short",day:"numeric",month:"short"};break;case"shortDate":x={month:"short",day:"numeric"};break;case"year":x={year:"numeric"};break;case"month":x={month:"long"};break;case"monthShort":x={month:"short"};break;case"monthAndYear":x={month:"long",year:"numeric"};break;case"monthAndDate":x={month:"long",day:"numeric"};break;case"weekday":x={weekday:"long"};break;case"weekdayShort":x={weekday:"short"};break;case"dayOfMonth":return new Intl.NumberFormat(i).format(g.getDate());case"hours12h":x={hour:"numeric",hour12:!0};break;case"hours24h":x={hour:"numeric",hour12:!1};break;case"minutes":x={minute:"numeric"};break;case"seconds":x={second:"numeric"};break;case"fullTime":x={hour:"numeric",minute:"numeric"};break;case"fullTime12h":x={hour:"numeric",minute:"numeric",hour12:!0};break;case"fullTime24h":x={hour:"numeric",minute:"numeric",hour12:!1};break;case"fullDateTime":x={year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"numeric"};break;case"fullDateTime12h":x={year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"numeric",hour12:!0};break;case"fullDateTime24h":x={year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"numeric",hour12:!1};break;case"keyboardDate":x={year:"numeric",month:"2-digit",day:"2-digit"};break;case"keyboardDateTime":return x={year:"numeric",month:"2-digit",day:"2-digit",hour:"numeric",minute:"numeric"},new Intl.DateTimeFormat(i,x).format(g).replace(/, /g," ");case"keyboardDateTime12h":return x={year:"numeric",month:"2-digit",day:"2-digit",hour:"numeric",minute:"numeric",hour12:!0},new Intl.DateTimeFormat(i,x).format(g).replace(/, /g," ");case"keyboardDateTime24h":return x={year:"numeric",month:"2-digit",day:"2-digit",hour:"numeric",minute:"numeric",hour12:!1},new Intl.DateTimeFormat(i,x).format(g).replace(/, /g," ");default:x=h??{timeZone:"UTC",timeZoneName:"short"}}return new Intl.DateTimeFormat(i,x).format(g)}function Uge(t,r){const i=t.toJsDate(r),u=i.getFullYear(),g=kq(String(i.getMonth()+1),2,"0"),h=kq(String(i.getDate()),2,"0");return`${u}-${g}-${h}`}function Wge(t){const[r,i,u]=t.split("-").map(Number);return new Date(r,i-1,u)}function Kge(t,r){const i=new Date(t);return i.setMinutes(i.getMinutes()+r),i}function jge(t,r){const i=new Date(t);return i.setHours(i.getHours()+r),i}function H6(t,r){const i=new Date(t);return i.setDate(i.getDate()+r),i}function Zge(t,r){const i=new Date(t);return i.setDate(i.getDate()+r*7),i}function Gge(t,r){const i=new Date(t);return i.setDate(1),i.setMonth(i.getMonth()+r),i}function ZU(t){return t.getFullYear()}function qge(t){return t.getMonth()}function Yge(t,r,i,u){const g=hI(r),h=i??(g==null?void 0:g.firstDay)??0,x=u??(g==null?void 0:g.firstWeekSize)??1;function w(U){const Z=new Date(U,0,1);return 7-GU(Z,jU(Z,r,h),"days")}let I=ZU(t);const D=H6(jU(t,r,h),6);I<ZU(D)&&w(I+1)>=x&&I++;const O=new Date(I,0,1),N=w(I),V=N>=x?H6(O,N-7):H6(O,N);return 1+GU(wQ(t),hF(V),"weeks")}function Xge(t){return t.getDate()}function Jge(t){return new Date(t.getFullYear(),t.getMonth()+1,1)}function Qge(t){return new Date(t.getFullYear(),t.getMonth()-1,1)}function ehe(t){return t.getHours()}function the(t){return t.getMinutes()}function nhe(t){return new Date(t.getFullYear(),0,1)}function ohe(t){return new Date(t.getFullYear(),11,31)}function she(t,r){return gF(t,r[0])&&ahe(t,r[1])}function rhe(t){const r=new Date(t);return r instanceof Date&&!isNaN(r.getTime())}function gF(t,r){return t.getTime()>r.getTime()}function ihe(t,r){return gF(hF(t),hF(r))}function ahe(t,r){return t.getTime()<r.getTime()}function Wq(t,r){return t.getTime()===r.getTime()}function lhe(t,r){return t.getDate()===r.getDate()&&t.getMonth()===r.getMonth()&&t.getFullYear()===r.getFullYear()}function che(t,r){return t.getMonth()===r.getMonth()&&t.getFullYear()===r.getFullYear()}function uhe(t,r){return t.getFullYear()===r.getFullYear()}function GU(t,r,i){const u=new Date(t),g=new Date(r);switch(i){case"years":return u.getFullYear()-g.getFullYear();case"quarters":return Math.floor((u.getMonth()-g.getMonth()+(u.getFullYear()-g.getFullYear())*12)/4);case"months":return u.getMonth()-g.getMonth()+(u.getFullYear()-g.getFullYear())*12;case"weeks":return Math.floor((u.getTime()-g.getTime())/(1e3*60*60*24*7));case"days":return Math.floor((u.getTime()-g.getTime())/(1e3*60*60*24));case"hours":return Math.floor((u.getTime()-g.getTime())/(1e3*60*60));case"minutes":return Math.floor((u.getTime()-g.getTime())/(1e3*60));case"seconds":return Math.floor((u.getTime()-g.getTime())/1e3);default:return u.getTime()-g.getTime()}}function dhe(t,r){const i=new Date(t);return i.setHours(r),i}function fhe(t,r){const i=new Date(t);return i.setMinutes(r),i}function mhe(t,r){const i=new Date(t);return i.setMonth(r),i}function ghe(t,r){const i=new Date(t);return i.setDate(r),i}function hhe(t,r){const i=new Date(t);return i.setFullYear(r),i}function hF(t){return new Date(t.getFullYear(),t.getMonth(),t.getDate(),0,0,0,0)}function wQ(t){return new Date(t.getFullYear(),t.getMonth(),t.getDate(),23,59,59,999)}class phe{constructor(r){this.locale=r.locale,this.formats=r.formats}date(r){return xQ(r)}toJsDate(r){return r}toISO(r){return Uge(this,r)}parseISO(r){return Wge(r)}addMinutes(r,i){return Kge(r,i)}addHours(r,i){return jge(r,i)}addDays(r,i){return H6(r,i)}addWeeks(r,i){return Zge(r,i)}addMonths(r,i){return Gge(r,i)}getWeekArray(r,i){const u=i!==void 0?Number(i):void 0;return Bge(r,this.locale,u)}startOfWeek(r,i){const u=i!==void 0?Number(i):void 0;return jU(r,this.locale,u)}endOfWeek(r){return Fge(r,this.locale)}startOfMonth(r){return vQ(r)}endOfMonth(r){return yQ(r)}format(r,i){return Hge(r,i,this.locale,this.formats)}isEqual(r,i){return Wq(r,i)}isValid(r){return rhe(r)}isWithinRange(r,i){return she(r,i)}isAfter(r,i){return gF(r,i)}isAfterDay(r,i){return ihe(r,i)}isBefore(r,i){return!gF(r,i)&&!Wq(r,i)}isSameDay(r,i){return lhe(r,i)}isSameMonth(r,i){return che(r,i)}isSameYear(r,i){return uhe(r,i)}setMinutes(r,i){return fhe(r,i)}setHours(r,i){return dhe(r,i)}setMonth(r,i){return mhe(r,i)}setDate(r,i){return ghe(r,i)}setYear(r,i){return hhe(r,i)}getDiff(r,i,u){return GU(r,i,u)}getWeekdays(r,i){const u=r!==void 0?Number(r):void 0;return zge(this.locale,u,i)}getYear(r){return ZU(r)}getMonth(r){return qge(r)}getWeek(r,i,u){const g=i!==void 0?Number(i):void 0;return Yge(r,this.locale,g,u)}getDate(r){return Xge(r)}getNextMonth(r){return Jge(r)}getPreviousMonth(r){return Qge(r)}getHours(r){return ehe(r)}getMinutes(r){return the(r)}startOfDay(r){return hF(r)}endOfDay(r){return wQ(r)}startOfYear(r){return nhe(r)}endOfYear(r){return ohe(r)}}const bhe=Symbol.for("vuetify:date-options"),Kq=Symbol.for("vuetify:date-adapter");function vhe(t,r){const i=Hu({adapter:phe,locale:{af:"af-ZA",bg:"bg-BG",ca:"ca-ES",ckb:"",cs:"cs-CZ",de:"de-DE",el:"el-GR",en:"en-US",et:"et-EE",fa:"fa-IR",fi:"fi-FI",hr:"hr-HR",hu:"hu-HU",he:"he-IL",id:"id-ID",it:"it-IT",ja:"ja-JP",ko:"ko-KR",lv:"lv-LV",lt:"lt-LT",nl:"nl-NL",no:"no-NO",pl:"pl-PL",pt:"pt-PT",ro:"ro-RO",ru:"ru-RU",sk:"sk-SK",sl:"sl-SI",srCyrl:"sr-SP",srLatn:"sr-SP",sv:"sv-SE",th:"th-TH",tr:"tr-TR",az:"az-AZ",uk:"uk-UA",vi:"vi-VN",zhHans:"zh-CN",zhHant:"zh-TW"}},t);return{options:i,instance:yhe(i,r)}}function yhe(t,r){const i=jl(typeof t.adapter=="function"?new t.adapter({locale:t.locale[r.current.value]??r.current.value,formats:t.formats}):t.adapter);return Rn(r.current,u=>{i.locale=t.locale[u]??u??i.locale}),i}const jF=["sm","md","lg","xl","xxl"],qU=Symbol.for("vuetify:display"),jq={mobileBreakpoint:"lg",thresholds:{xs:0,sm:600,md:960,lg:1280,xl:1920,xxl:2560}},xhe=function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:jq;return Hu(jq,t)};function Zq(t){return Qr&&!t?window.innerWidth:typeof t=="object"&&t.clientWidth||0}function Gq(t){return Qr&&!t?window.innerHeight:typeof t=="object"&&t.clientHeight||0}function qq(t){const r=Qr&&!t?window.navigator.userAgent:"ssr";function i(Z){return!!r.match(Z)}const u=i(/android/i),g=i(/iphone|ipad|ipod/i),h=i(/cordova/i),x=i(/electron/i),w=i(/chrome/i),I=i(/edge/i),D=i(/firefox/i),O=i(/opera/i),N=i(/win/i),V=i(/mac/i),U=i(/linux/i);return{android:u,ios:g,cordova:h,electron:x,chrome:w,edge:I,firefox:D,opera:O,win:N,mac:V,linux:U,touch:zme,ssr:r==="ssr"}}function whe(t,r){const{thresholds:i,mobileBreakpoint:u}=xhe(t),g=bo(Gq(r)),h=bo(qq(r)),x=jl({}),w=bo(Zq(r));function I(){g.value=Gq(),w.value=Zq()}function D(){I(),h.value=qq()}return Bd(()=>{const O=w.value<i.sm,N=w.value<i.md&&!O,V=w.value<i.lg&&!(N||O),U=w.value<i.xl&&!(V||N||O),Z=w.value<i.xxl&&!(U||V||N||O),ee=w.value>=i.xxl,re=O?"xs":N?"sm":V?"md":U?"lg":Z?"xl":"xxl",H=typeof u=="number"?u:i[u],de=w.value<H;x.xs=O,x.sm=N,x.md=V,x.lg=U,x.xl=Z,x.xxl=ee,x.smAndUp=!O,x.mdAndUp=!(O||N),x.lgAndUp=!(O||N||V),x.xlAndUp=!(O||N||V||U),x.smAndDown=!(V||U||Z||ee),x.mdAndDown=!(U||Z||ee),x.lgAndDown=!(Z||ee),x.xlAndDown=!ee,x.name=re,x.height=g.value,x.width=w.value,x.mobile=de,x.mobileBreakpoint=u,x.platform=h.value,x.thresholds=i}),Qr&&(window.addEventListener("resize",I,{passive:!0}),ic(()=>{window.removeEventListener("resize",I)},!0)),{...MF(x),update:D,ssr:!!r}}const CQ=Bn({mobile:{type:Boolean,default:!1},mobileBreakpoint:[Number,String]},"display");function ZF(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{mobile:null},r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:jb();const i=ji(qU);if(!i)throw new Error("Could not find Vuetify display injection");const u=Rt(()=>t.mobile?!0:typeof t.mobileBreakpoint=="number"?i.width.value<t.mobileBreakpoint:t.mobileBreakpoint?i.width.value<i.thresholds.value[t.mobileBreakpoint]:t.mobile===null?i.mobile.value:!1),g=pn(()=>r?{[`${r}--mobile`]:u.value}:{});return{...i,displayClasses:g,mobile:u}}const _Q=Symbol.for("vuetify:goto");function SQ(){return{container:void 0,duration:300,layout:!1,offset:0,easing:"easeInOutCubic",patterns:{linear:t=>t,easeInQuad:t=>t**2,easeOutQuad:t=>t*(2-t),easeInOutQuad:t=>t<.5?2*t**2:-1+(4-2*t)*t,easeInCubic:t=>t**3,easeOutCubic:t=>--t**3+1,easeInOutCubic:t=>t<.5?4*t**3:(t-1)*(2*t-2)*(2*t-2)+1,easeInQuart:t=>t**4,easeOutQuart:t=>1- --t**4,easeInOutQuart:t=>t<.5?8*t**4:1-8*--t**4,easeInQuint:t=>t**5,easeOutQuint:t=>1+--t**5,easeInOutQuint:t=>t<.5?16*t**5:1+16*--t**5}}}function Che(t){return GW(t)??(document.scrollingElement||document.body)}function GW(t){return typeof t=="string"?document.querySelector(t):JJ(t)}function K9(t,r,i){if(typeof t=="number")return r&&i?-t:t;let u=GW(t),g=0;for(;u;)g+=r?u.offsetLeft:u.offsetTop,u=u.offsetParent;return g}function _he(t,r){return{rtl:r.isRtl,options:Hu(SQ(),t)}}async function Yq(t,r,i,u){const g=i?"scrollLeft":"scrollTop",h=Hu((u==null?void 0:u.options)??SQ(),r),x=u==null?void 0:u.rtl.value,w=(typeof t=="number"?t:GW(t))??0,I=h.container==="parent"&&w instanceof HTMLElement?w.parentElement:Che(h.container),D=typeof h.easing=="function"?h.easing:h.patterns[h.easing];if(!D)throw new TypeError(`Easing function "${h.easing}" not found.`);let O;if(typeof w=="number")O=K9(w,i,x);else if(O=K9(w,i,x)-K9(I,i,x),h.layout){const Z=window.getComputedStyle(w).getPropertyValue("--v-layout-top");Z&&(O-=parseInt(Z,10))}O+=h.offset,O=khe(I,O,!!x,!!i);const N=I[g]??0;if(O===N)return Promise.resolve(O);const V=performance.now();return new Promise(U=>requestAnimationFrame(function Z(ee){const H=(ee-V)/h.duration,de=Math.floor(N+(O-N)*D(wf(H,0,1)));if(I[g]=de,H>=1&&Math.abs(de-I[g])<10)return U(O);if(H>2)return U(I[g]);requestAnimationFrame(Z)}))}function She(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const r=ji(_Q),{isRtl:i}=Qg();if(!r)throw new Error("[Vuetify] Could not find injected goto instance");const u={...r,rtl:pn(()=>r.rtl.value||i.value)};async function g(h,x){return Yq(h,Hu(t,x),!1,u)}return g.horizontal=async(h,x)=>Yq(h,Hu(t,x),!0,u),g}function khe(t,r,i,u){const{scrollWidth:g,scrollHeight:h}=t,[x,w]=t===document.scrollingElement?[window.innerWidth,window.innerHeight]:[t.offsetWidth,t.offsetHeight];let I,D;return u?i?(I=-(g-x),D=0):(I=0,D=g-x):(I=0,D=h+-w),wf(r,I,D)}const Ehe={collapse:"mdi-chevron-up",complete:"mdi-check",cancel:"mdi-close-circle",close:"mdi-close",delete:"mdi-close-circle",clear:"mdi-close-circle",success:"mdi-check-circle",info:"mdi-information",warning:"mdi-alert-circle",error:"mdi-close-circle",prev:"mdi-chevron-left",next:"mdi-chevron-right",checkboxOn:"mdi-checkbox-marked",checkboxOff:"mdi-checkbox-blank-outline",checkboxIndeterminate:"mdi-minus-box",delimiter:"mdi-circle",sortAsc:"mdi-arrow-up",sortDesc:"mdi-arrow-down",expand:"mdi-chevron-down",menu:"mdi-menu",subgroup:"mdi-menu-down",dropdown:"mdi-menu-down",radioOn:"mdi-radiobox-marked",radioOff:"mdi-radiobox-blank",edit:"mdi-pencil",ratingEmpty:"mdi-star-outline",ratingFull:"mdi-star",ratingHalf:"mdi-star-half-full",loading:"mdi-cached",first:"mdi-page-first",last:"mdi-page-last",unfold:"mdi-unfold-more-horizontal",file:"mdi-paperclip",plus:"mdi-plus",minus:"mdi-minus",calendar:"mdi-calendar",treeviewCollapse:"mdi-menu-down",treeviewExpand:"mdi-menu-right",eyeDropper:"mdi-eyedropper",upload:"mdi-cloud-upload",color:"mdi-palette",command:"mdi-apple-keyboard-command",ctrl:"mdi-apple-keyboard-control",space:"mdi-keyboard-space",shift:"mdi-apple-keyboard-shift",alt:"mdi-apple-keyboard-option",enter:"mdi-keyboard-return",arrowup:"mdi-arrow-up",arrowdown:"mdi-arrow-down",arrowleft:"mdi-arrow-left",arrowright:"mdi-arrow-right",backspace:"mdi-backspace"},Ahe={component:t=>Ub(EQ,{...t,class:"mdi"})},Vr=[String,Function,Object,Array],YU=Symbol.for("vuetify:icons"),GF=Bn({icon:{type:Vr},tag:{type:[String,Object,Function],required:!0}},"icon"),Xq=Vo()({name:"VComponentIcon",props:GF(),setup(t,r){let{slots:i}=r;return()=>{const u=t.icon;return ae(t.tag,null,{default:()=>{var g;return[t.icon?ae(u,null,null):(g=i.default)==null?void 0:g.call(i)]}})}}}),kQ=ME({name:"VSvgIcon",inheritAttrs:!1,props:GF(),setup(t,r){let{attrs:i}=r;return()=>ae(t.tag,Bo(i,{style:null}),{default:()=>[se("svg",{class:"v-icon__svg",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",role:"img","aria-hidden":"true"},[Array.isArray(t.icon)?t.icon.map(u=>Array.isArray(u)?se("path",{d:u[0],"fill-opacity":u[1]},null):se("path",{d:u},null)):se("path",{d:t.icon},null)])]})}});ME({name:"VLigatureIcon",props:GF(),setup(t){return()=>ae(t.tag,null,{default:()=>[t.icon]})}});const EQ=ME({name:"VClassIcon",props:GF(),setup(t){return()=>ae(t.tag,{class:lo(t.icon)},null)}});function The(){return{svg:{component:kQ},class:{component:EQ}}}function Ohe(t){const r=The(),i=(t==null?void 0:t.defaultSet)??"mdi";return i==="mdi"&&!r.mdi&&(r.mdi=Ahe),Hu({defaultSet:i,sets:r,aliases:{...Ehe,vuetify:["M8.2241 14.2009L12 21L22 3H14.4459L8.2241 14.2009Z",["M7.26303 12.4733L7.00113 12L2 3H12.5261C12.5261 3 12.5261 3 12.5261 3L7.26303 12.4733Z",.6]],"vuetify-outline":"svg:M7.26 12.47 12.53 3H2L7.26 12.47ZM14.45 3 8.22 14.2 12 21 22 3H14.45ZM18.6 5 12 16.88 10.51 14.2 15.62 5ZM7.26 8.35 5.4 5H9.13L7.26 8.35Z","vuetify-play":["m6.376 13.184-4.11-7.192C1.505 4.66 2.467 3 4.003 3h8.532l-.953 1.576-.006.01-.396.677c-.429.732-.214 1.507.194 2.015.404.503 1.092.878 1.869.806a3.72 3.72 0 0 1 1.005.022c.276.053.434.143.523.237.138.146.38.635-.25 2.09-.893 1.63-1.553 1.722-1.847 1.677-.213-.033-.468-.158-.756-.406a4.95 4.95 0 0 1-.8-.927c-.39-.564-1.04-.84-1.66-.846-.625-.006-1.316.27-1.693.921l-.478.826-.911 1.506Z",["M9.093 11.552c.046-.079.144-.15.32-.148a.53.53 0 0 1 .43.207c.285.414.636.847 1.046 1.2.405.35.914.662 1.516.754 1.334.205 2.502-.698 3.48-2.495l.014-.028.013-.03c.687-1.574.774-2.852-.005-3.675-.37-.391-.861-.586-1.333-.676a5.243 5.243 0 0 0-1.447-.044c-.173.016-.393-.073-.54-.257-.145-.18-.127-.316-.082-.392l.393-.672L14.287 3h5.71c1.536 0 2.499 1.659 1.737 2.992l-7.997 13.996c-.768 1.344-2.706 1.344-3.473 0l-3.037-5.314 1.377-2.278.004-.006.004-.007.481-.831Z",.6]]}},t)}const Rhe=t=>{const r=ji(YU);if(!r)throw new Error("Missing Vuetify Icons provide!");return{iconData:Rt(()=>{var I;const u=Hb(t);if(!u)return{component:Xq};let g=u;if(typeof g=="string"&&(g=g.trim(),g.startsWith("$")&&(g=(I=r.aliases)==null?void 0:I[g.slice(1)])),Array.isArray(g))return{component:kQ,icon:g};if(typeof g!="string")return{component:Xq,icon:g};const h=Object.keys(r.sets).find(D=>typeof g=="string"&&g.startsWith(`${D}:`)),x=h?g.slice(h.length+1):g;return{component:r.sets[h??r.defaultSet].component,icon:x}})}},WR=Symbol.for("vuetify:theme"),yl=Bn({theme:String},"theme");function Jq(){return{defaultTheme:"light",prefix:"v-",variations:{colors:[],lighten:0,darken:0},themes:{light:{dark:!1,colors:{background:"#FFFFFF",surface:"#FFFFFF","surface-bright":"#FFFFFF","surface-light":"#EEEEEE","surface-variant":"#424242","on-surface-variant":"#EEEEEE",primary:"#1867C0","primary-darken-1":"#1F5592",secondary:"#48A9A6","secondary-darken-1":"#018786",error:"#B00020",info:"#2196F3",success:"#4CAF50",warning:"#FB8C00"},variables:{"border-color":"#000000","border-opacity":.12,"high-emphasis-opacity":.87,"medium-emphasis-opacity":.6,"disabled-opacity":.38,"idle-opacity":.04,"hover-opacity":.04,"focus-opacity":.12,"selected-opacity":.08,"activated-opacity":.12,"pressed-opacity":.12,"dragged-opacity":.08,"theme-kbd":"#EEEEEE","theme-on-kbd":"#000000","theme-code":"#F5F5F5","theme-on-code":"#000000"}},dark:{dark:!0,colors:{background:"#121212",surface:"#212121","surface-bright":"#ccbfd6","surface-light":"#424242","surface-variant":"#c8c8c8","on-surface-variant":"#000000",primary:"#2196F3","primary-darken-1":"#277CC1",secondary:"#54B6B2","secondary-darken-1":"#48A9A6",error:"#CF6679",info:"#2196F3",success:"#4CAF50",warning:"#FB8C00"},variables:{"border-color":"#FFFFFF","border-opacity":.12,"high-emphasis-opacity":1,"medium-emphasis-opacity":.7,"disabled-opacity":.5,"idle-opacity":.1,"hover-opacity":.04,"focus-opacity":.12,"selected-opacity":.08,"activated-opacity":.12,"pressed-opacity":.16,"dragged-opacity":.08,"theme-kbd":"#424242","theme-on-kbd":"#FFFFFF","theme-code":"#343434","theme-on-code":"#CCCCCC"}}},stylesheetId:"vuetify-theme-stylesheet",scoped:!1,unimportant:!1,utilities:!0}}function Ihe(){var u,g;let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Jq();const r=Jq();if(!t)return{...r,isDisabled:!0};const i={};for(const[h,x]of Object.entries(t.themes??{})){const w=x.dark||h==="dark"?(u=r.themes)==null?void 0:u.dark:(g=r.themes)==null?void 0:g.light;i[h]=Hu(w,x)}return Hu(r,{...t,themes:i})}function _C(t,r,i,u){t.push(`${Lhe(r,u)} {
`,...i.map(g=>`  ${g};
`),`}
`)}function Qq(t,r){const i=t.dark?2:1,u=t.dark?1:2,g=[];for(const[h,x]of Object.entries(t.colors)){const w=Fb(x);g.push(`--${r}theme-${h}: ${w.r},${w.g},${w.b}`),h.startsWith("on-")||g.push(`--${r}theme-${h}-overlay-multiplier: ${Cge(x)>.18?i:u}`)}for(const[h,x]of Object.entries(t.variables)){const w=typeof x=="string"&&x.startsWith("#")?Fb(x):void 0,I=w?`${w.r}, ${w.g}, ${w.b}`:void 0;g.push(`--${r}${h}: ${I??x}`)}return g}function Dhe(t,r,i){const u={};if(i)for(const g of["lighten","darken"]){const h=g==="lighten"?xge:wge;for(const x of XJ(i[g],1))u[`${t}-${g}-${x}`]=bge(h(Fb(r),x))}return u}function Phe(t,r){if(!r)return{};let i={};for(const u of r.colors){const g=t[u];g&&(i={...i,...Dhe(u,g,r)})}return i}function Nhe(t){const r={};for(const i of Object.keys(t)){if(i.startsWith("on-")||t[`on-${i}`])continue;const u=`on-${i}`,g=Fb(t[i]);r[u]=fQ(g)}return r}function Lhe(t,r){if(!r)return t;const i=`:where(${r})`;return t===":root"?i:`${i} ${t}`}function Mhe(t,r,i){const u=Bhe(t,r);u&&(u.innerHTML=i)}function Bhe(t,r){if(!Qr)return null;let i=document.getElementById(t);return i||(i=document.createElement("style"),i.id=t,i.type="text/css",r&&i.setAttribute("nonce",r),document.head.appendChild(i)),i}function Fhe(t){const r=Ihe(t),i=bo(r.defaultTheme),u=Tn(r.themes),g=bo("light"),h=Rt({get(){return i.value==="system"?g.value:i.value},set(H){i.value=H}}),x=Rt(()=>{const H={};for(const[de,le]of Object.entries(u.value)){const j={...le.colors,...Phe(le.colors,r.variations)};H[de]={...le,colors:{...j,...Nhe(j)}}}return H}),w=pn(()=>x.value[h.value]),I=Rt(()=>{var j;const H=[],de=r.unimportant?"":" !important",le=r.scoped?r.prefix:"";(j=w.value)!=null&&j.dark&&_C(H,":root",["color-scheme: dark"],r.scope),_C(H,":root",Qq(w.value,r.prefix),r.scope);for(const[fe,ne]of Object.entries(x.value))_C(H,`.${r.prefix}theme--${fe}`,[`color-scheme: ${ne.dark?"dark":"normal"}`,...Qq(ne,r.prefix)],r.scope);if(r.utilities){const fe=[],ne=[],Ve=new Set(Object.values(x.value).flatMap(Fe=>Object.keys(Fe.colors)));for(const Fe of Ve)Fe.startsWith("on-")?_C(ne,`.${Fe}`,[`color: rgb(var(--${r.prefix}theme-${Fe}))${de}`],r.scope):(_C(fe,`.${le}bg-${Fe}`,[`--${r.prefix}theme-overlay-multiplier: var(--${r.prefix}theme-${Fe}-overlay-multiplier)`,`background-color: rgb(var(--${r.prefix}theme-${Fe}))${de}`,`color: rgb(var(--${r.prefix}theme-on-${Fe}))${de}`],r.scope),_C(ne,`.${le}text-${Fe}`,[`color: rgb(var(--${r.prefix}theme-${Fe}))${de}`],r.scope),_C(ne,`.${le}border-${Fe}`,[`--${r.prefix}border-color: var(--${r.prefix}theme-${Fe})`],r.scope));H.push(...fe,...ne)}return H.map((fe,ne)=>ne===0?fe:`    ${fe}`).join("")}),D=pn(()=>r.isDisabled?void 0:`${r.prefix}theme--${h.value}`),O=pn(()=>Object.keys(x.value));if(Hme){let de=function(){g.value=H.matches?"dark":"light"};var re=de;const H=window.matchMedia("(prefers-color-scheme: dark)");de(),H.addEventListener("change",de,{passive:!0}),wW()&&ic(()=>{H.removeEventListener("change",de)})}function N(H){if(r.isDisabled)return;const de=H._context.provides.usehead;if(de){let fe=function(){return{style:[{textContent:I.value,id:r.stylesheetId,nonce:r.cspNonce||!1}]}};var le=fe;if(de.push){const ne=de.push(fe);Qr&&Rn(I,()=>{ne.patch(fe)})}else Qr?(de.addHeadObjs(pn(fe)),Bd(()=>de.updateDOM())):de.addHeadObjs(fe())}else{let fe=function(){Mhe(r.stylesheetId,r.cspNonce,I.value)};var j=fe;Qr?Rn(I,fe,{immediate:!0}):fe()}}function V(H){O.value.includes(H)&&(h.value=H)}function U(){let H=arguments.length>0&&arguments[0]!==void 0?arguments[0]:O.value;const de=H.indexOf(h.value),le=de===-1?0:(de+1)%H.length;V(H[le])}function Z(){let H=arguments.length>0&&arguments[0]!==void 0?arguments[0]:["light","dark"];U(H)}const ee=new Proxy(h,{get(H,de){return Reflect.get(H,de)},set(H,de,le){return de==="value"&&aQ(`theme.global.name.value = ${le}`,`theme.change('${le}')`),Reflect.set(H,de,le)}});return{install:N,change:V,cycle:U,toggle:Z,isDisabled:r.isDisabled,name:h,themes:u,current:w,computedThemes:x,prefix:r.prefix,themeClasses:D,styles:I,global:{name:ee,current:w}}}function ac(t){Bl("provideTheme");const r=ji(WR,null);if(!r)throw new Error("Could not find Vuetify theme injection");const i=pn(()=>t.theme??r.name.value),u=pn(()=>r.themes.value[i.value]),g=pn(()=>r.isDisabled?void 0:`${r.prefix}theme--${i.value}`),h={...r,name:i,current:u,themeClasses:g};return Fd(WR,h),h}function $he(){Bl("useTheme");const t=ji(WR,null);if(!t)throw new Error("Could not find Vuetify theme injection");return t}function EE(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"content";const i=zU(),u=Tn();if(Qr){const g=new ResizeObserver(h=>{h.length&&(r==="content"?u.value=h[0].contentRect:u.value=h[0].target.getBoundingClientRect())});Ac(()=>{g.disconnect()}),Rn(()=>i.el,(h,x)=>{x&&(g.unobserve(x),u.value=void 0),h&&g.observe(h)},{flush:"post"})}return{resizeRef:i,contentRect:NE(u)}}const pF=Symbol.for("vuetify:layout"),AQ=Symbol.for("vuetify:layout-item"),eY=1e3,Vhe=Bn({overlaps:{type:Array,default:()=>[]},fullHeight:Boolean},"layout"),TQ=Bn({name:{type:String},order:{type:[Number,String],default:0},absolute:Boolean},"layout-item");function zhe(){const t=ji(pF);if(!t)throw new Error("[Vuetify] Could not find injected layout");return{getLayoutItem:t.getLayoutItem,mainRect:t.mainRect,mainStyles:t.mainStyles}}function OQ(t){const r=ji(pF);if(!r)throw new Error("[Vuetify] Could not find injected layout");const i=t.id??`layout-item-${o1()}`,u=Bl("useLayoutItem");Fd(AQ,{id:i});const g=bo(!1);$F(()=>g.value=!0),DW(()=>g.value=!1);const{layoutItemStyles:h,layoutItemScrimStyles:x}=r.register(u,{...t,active:Rt(()=>g.value?!1:t.active.value),id:i});return Ac(()=>r.unregister(i)),{layoutItemStyles:h,layoutRect:r.layoutRect,layoutItemScrimStyles:x}}const Hhe=(t,r,i,u)=>{let g={top:0,left:0,right:0,bottom:0};const h=[{id:"",layer:{...g}}];for(const x of t){const w=r.get(x),I=i.get(x),D=u.get(x);if(!w||!I||!D)continue;const O={...g,[w.value]:parseInt(g[w.value],10)+(D.value?parseInt(I.value,10):0)};h.push({id:x,layer:O}),g=O}return h};function Uhe(t){const r=ji(pF,null),i=Rt(()=>r?r.rootZIndex.value-100:eY),u=Tn([]),g=jl(new Map),h=jl(new Map),x=jl(new Map),w=jl(new Map),I=jl(new Map),{resizeRef:D,contentRect:O}=EE(),N=Rt(()=>{const ne=new Map,Ve=t.overlaps??[];for(const Fe of Ve.filter(Xe=>Xe.includes(":"))){const[Xe,rt]=Fe.split(":");if(!u.value.includes(Xe)||!u.value.includes(rt))continue;const xe=g.get(Xe),_e=g.get(rt),R=h.get(Xe),it=h.get(rt);!xe||!_e||!R||!it||(ne.set(rt,{position:xe.value,amount:parseInt(R.value,10)}),ne.set(Xe,{position:_e.value,amount:-parseInt(it.value,10)}))}return ne}),V=Rt(()=>{const ne=[...new Set([...x.values()].map(Fe=>Fe.value))].sort((Fe,Xe)=>Fe-Xe),Ve=[];for(const Fe of ne){const Xe=u.value.filter(rt=>{var xe;return((xe=x.get(rt))==null?void 0:xe.value)===Fe});Ve.push(...Xe)}return Hhe(Ve,g,h,w)}),U=Rt(()=>!Array.from(I.values()).some(ne=>ne.value)),Z=Rt(()=>V.value[V.value.length-1].layer),ee=pn(()=>({"--v-layout-left":ws(Z.value.left),"--v-layout-right":ws(Z.value.right),"--v-layout-top":ws(Z.value.top),"--v-layout-bottom":ws(Z.value.bottom),...U.value?void 0:{transition:"none"}})),re=Rt(()=>V.value.slice(1).map((ne,Ve)=>{let{id:Fe}=ne;const{layer:Xe}=V.value[Ve],rt=h.get(Fe),xe=g.get(Fe);return{id:Fe,...Xe,size:Number(rt.value),position:xe.value}})),H=ne=>re.value.find(Ve=>Ve.id===ne),de=Bl("createLayout"),le=bo(!1);Ku(()=>{le.value=!0}),Fd(pF,{register:(ne,Ve)=>{let{id:Fe,order:Xe,position:rt,layoutSize:xe,elementSize:_e,active:R,disableTransitions:it,absolute:lt}=Ve;x.set(Fe,Xe),g.set(Fe,rt),h.set(Fe,xe),w.set(Fe,R),it&&I.set(Fe,it);const Qt=uE(AQ,de==null?void 0:de.vnode).indexOf(ne);Qt>-1?u.value.splice(Qt,0,Fe):u.value.push(Fe);const dt=Rt(()=>re.value.findIndex(Me=>Me.id===Fe)),Sn=Rt(()=>i.value+V.value.length*2-dt.value*2),Et=Rt(()=>{const Me=rt.value==="left"||rt.value==="right",ft=rt.value==="right",so=rt.value==="bottom",Wt=_e.value??xe.value,In=Wt===0?"%":"px",sn={[rt.value]:0,zIndex:Sn.value,transform:`translate${Me?"X":"Y"}(${(R.value?0:-(Wt===0?100:Wt))*(ft||so?-1:1)}${In})`,position:lt.value||i.value!==eY?"absolute":"fixed",...U.value?void 0:{transition:"none"}};if(!le.value)return sn;const J=re.value[dt.value];if(!J)throw new Error(`[Vuetify] Could not find layout item "${Fe}"`);const fo=N.value.get(Fe);return fo&&(J[fo.position]+=fo.amount),{...sn,height:Me?`calc(100% - ${J.top}px - ${J.bottom}px)`:_e.value?`${_e.value}px`:void 0,left:ft?void 0:`${J.left}px`,right:ft?`${J.right}px`:void 0,top:rt.value!=="bottom"?`${J.top}px`:void 0,bottom:rt.value!=="top"?`${J.bottom}px`:void 0,width:Me?_e.value?`${_e.value}px`:void 0:`calc(100% - ${J.left}px - ${J.right}px)`}}),et=Rt(()=>({zIndex:Sn.value-1}));return{layoutItemStyles:Et,layoutItemScrimStyles:et,zIndex:Sn}},unregister:ne=>{x.delete(ne),g.delete(ne),h.delete(ne),w.delete(ne),I.delete(ne),u.value=u.value.filter(Ve=>Ve!==ne)},mainRect:Z,mainStyles:ee,getLayoutItem:H,items:re,layoutRect:O,rootZIndex:i});const j=pn(()=>["v-layout",{"v-layout--full-height":t.fullHeight}]),fe=pn(()=>({zIndex:r?i.value:void 0,position:r?"relative":void 0,overflow:r?"hidden":void 0}));return{layoutClasses:j,layoutStyles:fe,getLayoutItem:H,items:re,layoutRect:O,layoutRef:D}}function RQ(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{blueprint:r,...i}=t,u=Hu(r,i),{aliases:g={},components:h={},directives:x={}}=u,w=vx();return w.run(()=>{const I=Sge(u.defaults),D=whe(u.display,u.ssr),O=Fhe(u.theme),N=Ohe(u.icons),V=Nge(u.locale),U=vhe(u.date,V),Z=_he(u.goTo,V);function ee(H){for(const le in x)H.directive(le,x[le]);for(const le in h)H.component(le,h[le]);for(const le in g)H.component(le,ME({...g[le],name:le,aliasName:g[le].name}));const de=vx();if(de.run(()=>{O.install(H)}),H.onUnmount(()=>de.stop()),H.provide(kE,I),H.provide(qU,D),H.provide(WR,O),H.provide(YU,N),H.provide(mF,V),H.provide(bhe,U.options),H.provide(Kq,U.instance),H.provide(_Q,Z),Qr&&u.ssr)if(H.$nuxt)H.$nuxt.hook("app:suspense:resolve",()=>{D.update()});else{const{mount:le}=H;H.mount=function(){const j=le(...arguments);return Qo(()=>D.update()),H.mount=le,j}}H.mixin({computed:{$vuetify(){return jl({defaults:Jk.call(this,kE),display:Jk.call(this,qU),theme:Jk.call(this,WR),icons:Jk.call(this,YU),locale:Jk.call(this,mF),date:Jk.call(this,Kq)})}}})}function re(){w.stop()}return{install:ee,unmount:re,defaults:I,display:D,theme:O,icons:N,locale:V,date:U,goTo:Z}})}const Whe="3.9.0";RQ.version=Whe;function Jk(t){var u,g;const r=this.$,i=((u=r.parent)==null?void 0:u.provides)??((g=r.vnode.appContext)==null?void 0:g.provides);if(i&&t in i)return i[t]}const Khe=RQ({theme:{themes:{light:{colors:{primary:"#1867C0",secondary:"#5CBBF6"}}}}});/*!
 * pinia v2.3.1
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */let IQ;const qF=t=>IQ=t,DQ=Symbol();function XU(t){return t&&typeof t=="object"&&Object.prototype.toString.call(t)==="[object Object]"&&typeof t.toJSON!="function"}var IR;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(IR||(IR={}));function jhe(){const t=vx(!0),r=t.run(()=>Tn({}));let i=[],u=[];const g=OW({install(h){qF(g),g._a=h,h.provide(DQ,g),h.config.globalProperties.$pinia=g,u.forEach(x=>i.push(x)),u=[]},use(h){return this._a?i.push(h):u.push(h),this},_p:i,_a:null,_e:t,_s:new Map,state:r});return g}const PQ=()=>{};function tY(t,r,i,u=PQ){t.push(r);const g=()=>{const h=t.indexOf(r);h>-1&&(t.splice(h,1),u())};return!i&&wW()&&ic(g),g}function Qk(t,...r){t.slice().forEach(i=>{i(...r)})}const Zhe=t=>t(),nY=Symbol(),j9=Symbol();function JU(t,r){t instanceof Map&&r instanceof Map?r.forEach((i,u)=>t.set(u,i)):t instanceof Set&&r instanceof Set&&r.forEach(t.add,t);for(const i in r){if(!r.hasOwnProperty(i))continue;const u=r[i],g=t[i];XU(g)&&XU(u)&&t.hasOwnProperty(i)&&!ia(u)&&!hx(u)?t[i]=JU(g,u):t[i]=u}return t}const Ghe=Symbol();function qhe(t){return!XU(t)||!t.hasOwnProperty(Ghe)}const{assign:lx}=Object;function Yhe(t){return!!(ia(t)&&t.effect)}function Xhe(t,r,i,u){const{state:g,actions:h,getters:x}=r,w=i.state.value[t];let I;function D(){w||(i.state.value[t]=g?g():{});const O=MF(i.state.value[t]);return lx(O,h,Object.keys(x||{}).reduce((N,V)=>(N[V]=OW(Rt(()=>{qF(i);const U=i._s.get(t);return x[V].call(U,U)})),N),{}))}return I=NQ(t,D,r,i,u,!0),I}function NQ(t,r,i={},u,g,h){let x;const w=lx({actions:{}},i),I={deep:!0};let D,O,N=[],V=[],U;const Z=u.state.value[t];!h&&!Z&&(u.state.value[t]={}),Tn({});let ee;function re(Fe){let Xe;D=O=!1,typeof Fe=="function"?(Fe(u.state.value[t]),Xe={type:IR.patchFunction,storeId:t,events:U}):(JU(u.state.value[t],Fe),Xe={type:IR.patchObject,payload:Fe,storeId:t,events:U});const rt=ee=Symbol();Qo().then(()=>{ee===rt&&(D=!0)}),O=!0,Qk(N,Xe,u.state.value[t])}const H=h?function(){const{state:Xe}=i,rt=Xe?Xe():{};this.$patch(xe=>{lx(xe,rt)})}:PQ;function de(){x.stop(),N=[],V=[],u._s.delete(t)}const le=(Fe,Xe="")=>{if(nY in Fe)return Fe[j9]=Xe,Fe;const rt=function(){qF(u);const xe=Array.from(arguments),_e=[],R=[];function it(Qt){_e.push(Qt)}function lt(Qt){R.push(Qt)}Qk(V,{args:xe,name:rt[j9],store:fe,after:it,onError:lt});let Lt;try{Lt=Fe.apply(this&&this.$id===t?this:fe,xe)}catch(Qt){throw Qk(R,Qt),Qt}return Lt instanceof Promise?Lt.then(Qt=>(Qk(_e,Qt),Qt)).catch(Qt=>(Qk(R,Qt),Promise.reject(Qt))):(Qk(_e,Lt),Lt)};return rt[nY]=!0,rt[j9]=Xe,rt},j={_p:u,$id:t,$onAction:tY.bind(null,V),$patch:re,$reset:H,$subscribe(Fe,Xe={}){const rt=tY(N,Fe,Xe.detached,()=>xe()),xe=x.run(()=>Rn(()=>u.state.value[t],_e=>{(Xe.flush==="sync"?O:D)&&Fe({storeId:t,type:IR.direct,events:U},_e)},lx({},I,Xe)));return rt},$dispose:de},fe=jl(j);u._s.set(t,fe);const Ve=(u._a&&u._a.runWithContext||Zhe)(()=>u._e.run(()=>(x=vx()).run(()=>r({action:le}))));for(const Fe in Ve){const Xe=Ve[Fe];if(ia(Xe)&&!Yhe(Xe)||hx(Xe))h||(Z&&qhe(Xe)&&(ia(Xe)?Xe.value=Z[Fe]:JU(Xe,Z[Fe])),u.state.value[t][Fe]=Xe);else if(typeof Xe=="function"){const rt=le(Xe,Fe);Ve[Fe]=rt,w.actions[Fe]=Xe}}return lx(fe,Ve),lx(ps(fe),Ve),Object.defineProperty(fe,"$state",{get:()=>u.state.value[t],set:Fe=>{re(Xe=>{lx(Xe,Fe)})}}),u._p.forEach(Fe=>{lx(fe,x.run(()=>Fe({store:fe,app:u._a,pinia:u,options:w})))}),Z&&h&&i.hydrate&&i.hydrate(fe.$state,Z),D=!0,O=!0,fe}/*! #__NO_SIDE_EFFECTS__ */function nu(t,r,i){let u,g;const h=typeof r=="function";typeof t=="string"?(u=t,g=h?i:r):(g=t,u=t.id);function x(w,I){const D=Tfe();return w=w||(D?ji(DQ,null):null),w&&qF(w),w=IQ,w._s.has(u)||(h?NQ(u,r,g,w):Xhe(u,g,w)),w._s.get(u)}return x.$id=u,x}const Jhe=jhe();/*!
  * shared v11.1.9
  * (c) 2025 kazuya kawaguchi
  * Released under the MIT License.
  */const oY=typeof window<"u",LQ=(t,r=!1)=>r?Symbol.for(t):Symbol(t),Qhe=(t,r,i)=>epe({l:t,k:r,s:i}),epe=t=>JSON.stringify(t).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029").replace(/\u0027/g,"\\u0027"),xf=t=>typeof t=="number"&&isFinite(t),bF=t=>BQ(t)==="[object RegExp]",tpe=t=>Vu(t)&&Object.keys(t).length===0,FE=Object.assign,npe=Object.create,Wu=(t=null)=>npe(t);let sY;const qW=()=>sY||(sY=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:Wu());function rY(t){return t.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")}const ope=Object.prototype.hasOwnProperty;function lp(t,r){return ope.call(t,r)}const Wb=Array.isArray,vl=t=>typeof t=="function",xr=t=>typeof t=="string",Nd=t=>typeof t=="boolean",el=t=>t!==null&&typeof t=="object",spe=t=>el(t)&&vl(t.then)&&vl(t.catch),MQ=Object.prototype.toString,BQ=t=>MQ.call(t),Vu=t=>BQ(t)==="[object Object]",rpe=t=>t==null?"":Wb(t)||Vu(t)&&t.toString===MQ?JSON.stringify(t,null,2):String(t);function YW(t,r=""){return t.reduce((i,u,g)=>g===0?i+u:i+r+u,"")}function ipe(t,r){typeof console<"u"&&(console.warn("[intlify] "+t),r&&console.warn(r.stack))}const R6=t=>!el(t)||Wb(t);function U6(t,r){if(R6(t)||R6(r))throw new Error("Invalid value");const i=[{src:t,des:r}];for(;i.length;){const{src:u,des:g}=i.pop();Object.keys(u).forEach(h=>{h!=="__proto__"&&(el(u[h])&&!el(g[h])&&(g[h]=Array.isArray(u[h])?[]:Wu()),R6(g[h])||R6(u[h])?g[h]=u[h]:i.push({src:u[h],des:g[h]}))})}}/*!
  * message-compiler v11.1.9
  * (c) 2025 kazuya kawaguchi
  * Released under the MIT License.
  */function ape(t,r,i){return{line:t,column:r,offset:i}}function QU(t,r,i){return{start:t,end:r}}const Ci={EXPECTED_TOKEN:1,INVALID_TOKEN_IN_PLACEHOLDER:2,UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER:3,UNKNOWN_ESCAPE_SEQUENCE:4,INVALID_UNICODE_ESCAPE_SEQUENCE:5,UNBALANCED_CLOSING_BRACE:6,UNTERMINATED_CLOSING_BRACE:7,EMPTY_PLACEHOLDER:8,NOT_ALLOW_NEST_PLACEHOLDER:9,INVALID_LINKED_FORMAT:10,MUST_HAVE_MESSAGES_IN_PLURAL:11,UNEXPECTED_EMPTY_LINKED_MODIFIER:12,UNEXPECTED_EMPTY_LINKED_KEY:13,UNEXPECTED_LEXICAL_ANALYSIS:14},lpe=17;function YF(t,r,i={}){const{domain:u,messages:g,args:h}=i,x=t,w=new SyntaxError(String(x));return w.code=t,r&&(w.location=r),w.domain=u,w}function cpe(t){throw t}const z0=" ",upe="\r",Id=`
`,dpe="\u2028",fpe="\u2029";function mpe(t){const r=t;let i=0,u=1,g=1,h=0;const x=Ve=>r[Ve]===upe&&r[Ve+1]===Id,w=Ve=>r[Ve]===Id,I=Ve=>r[Ve]===fpe,D=Ve=>r[Ve]===dpe,O=Ve=>x(Ve)||w(Ve)||I(Ve)||D(Ve),N=()=>i,V=()=>u,U=()=>g,Z=()=>h,ee=Ve=>x(Ve)||I(Ve)||D(Ve)?Id:r[Ve],re=()=>ee(i),H=()=>ee(i+h);function de(){return h=0,O(i)&&(u++,g=0),x(i)&&i++,i++,g++,r[i]}function le(){return x(i+h)&&h++,h++,r[i+h]}function j(){i=0,u=1,g=1,h=0}function fe(Ve=0){h=Ve}function ne(){const Ve=i+h;for(;Ve!==i;)de();h=0}return{index:N,line:V,column:U,peekOffset:Z,charAt:ee,currentChar:re,currentPeek:H,next:de,peek:le,reset:j,resetPeek:fe,skipToPeek:ne}}const sx=void 0,gpe=".",iY="'",hpe="tokenizer";function ppe(t,r={}){const i=r.location!==!1,u=mpe(t),g=()=>u.index(),h=()=>ape(u.line(),u.column(),u.index()),x=h(),w=g(),I={currentType:13,offset:w,startLoc:x,endLoc:x,lastType:13,lastOffset:w,lastStartLoc:x,lastEndLoc:x,braceNest:0,inLinked:!1,text:""},D=()=>I,{onError:O}=r;function N(ke,Ne,Ge,...pt){const cn=D();if(Ne.column+=Ge,Ne.offset+=Ge,O){const jt=i?QU(cn.startLoc,Ne):null,xn=YF(ke,jt,{domain:hpe,args:pt});O(xn)}}function V(ke,Ne,Ge){ke.endLoc=h(),ke.currentType=Ne;const pt={type:Ne};return i&&(pt.loc=QU(ke.startLoc,ke.endLoc)),Ge!=null&&(pt.value=Ge),pt}const U=ke=>V(ke,13);function Z(ke,Ne){return ke.currentChar()===Ne?(ke.next(),Ne):(N(Ci.EXPECTED_TOKEN,h(),0,Ne),"")}function ee(ke){let Ne="";for(;ke.currentPeek()===z0||ke.currentPeek()===Id;)Ne+=ke.currentPeek(),ke.peek();return Ne}function re(ke){const Ne=ee(ke);return ke.skipToPeek(),Ne}function H(ke){if(ke===sx)return!1;const Ne=ke.charCodeAt(0);return Ne>=97&&Ne<=122||Ne>=65&&Ne<=90||Ne===95}function de(ke){if(ke===sx)return!1;const Ne=ke.charCodeAt(0);return Ne>=48&&Ne<=57}function le(ke,Ne){const{currentType:Ge}=Ne;if(Ge!==2)return!1;ee(ke);const pt=H(ke.currentPeek());return ke.resetPeek(),pt}function j(ke,Ne){const{currentType:Ge}=Ne;if(Ge!==2)return!1;ee(ke);const pt=ke.currentPeek()==="-"?ke.peek():ke.currentPeek(),cn=de(pt);return ke.resetPeek(),cn}function fe(ke,Ne){const{currentType:Ge}=Ne;if(Ge!==2)return!1;ee(ke);const pt=ke.currentPeek()===iY;return ke.resetPeek(),pt}function ne(ke,Ne){const{currentType:Ge}=Ne;if(Ge!==7)return!1;ee(ke);const pt=ke.currentPeek()===".";return ke.resetPeek(),pt}function Ve(ke,Ne){const{currentType:Ge}=Ne;if(Ge!==8)return!1;ee(ke);const pt=H(ke.currentPeek());return ke.resetPeek(),pt}function Fe(ke,Ne){const{currentType:Ge}=Ne;if(!(Ge===7||Ge===11))return!1;ee(ke);const pt=ke.currentPeek()===":";return ke.resetPeek(),pt}function Xe(ke,Ne){const{currentType:Ge}=Ne;if(Ge!==9)return!1;const pt=()=>{const jt=ke.currentPeek();return jt==="{"?H(ke.peek()):jt==="@"||jt==="|"||jt===":"||jt==="."||jt===z0||!jt?!1:jt===Id?(ke.peek(),pt()):xe(ke,!1)},cn=pt();return ke.resetPeek(),cn}function rt(ke){ee(ke);const Ne=ke.currentPeek()==="|";return ke.resetPeek(),Ne}function xe(ke,Ne=!0){const Ge=(cn=!1,jt="")=>{const xn=ke.currentPeek();return xn==="{"||xn==="@"||!xn?cn:xn==="|"?!(jt===z0||jt===Id):xn===z0?(ke.peek(),Ge(!0,z0)):xn===Id?(ke.peek(),Ge(!0,Id)):!0},pt=Ge();return Ne&&ke.resetPeek(),pt}function _e(ke,Ne){const Ge=ke.currentChar();return Ge===sx?sx:Ne(Ge)?(ke.next(),Ge):null}function R(ke){const Ne=ke.charCodeAt(0);return Ne>=97&&Ne<=122||Ne>=65&&Ne<=90||Ne>=48&&Ne<=57||Ne===95||Ne===36}function it(ke){return _e(ke,R)}function lt(ke){const Ne=ke.charCodeAt(0);return Ne>=97&&Ne<=122||Ne>=65&&Ne<=90||Ne>=48&&Ne<=57||Ne===95||Ne===36||Ne===45}function Lt(ke){return _e(ke,lt)}function Qt(ke){const Ne=ke.charCodeAt(0);return Ne>=48&&Ne<=57}function dt(ke){return _e(ke,Qt)}function Sn(ke){const Ne=ke.charCodeAt(0);return Ne>=48&&Ne<=57||Ne>=65&&Ne<=70||Ne>=97&&Ne<=102}function Et(ke){return _e(ke,Sn)}function et(ke){let Ne="",Ge="";for(;Ne=dt(ke);)Ge+=Ne;return Ge}function Me(ke){let Ne="";for(;;){const Ge=ke.currentChar();if(Ge==="{"||Ge==="}"||Ge==="@"||Ge==="|"||!Ge)break;if(Ge===z0||Ge===Id)if(xe(ke))Ne+=Ge,ke.next();else{if(rt(ke))break;Ne+=Ge,ke.next()}else Ne+=Ge,ke.next()}return Ne}function ft(ke){re(ke);let Ne="",Ge="";for(;Ne=Lt(ke);)Ge+=Ne;return ke.currentChar()===sx&&N(Ci.UNTERMINATED_CLOSING_BRACE,h(),0),Ge}function so(ke){re(ke);let Ne="";return ke.currentChar()==="-"?(ke.next(),Ne+=`-${et(ke)}`):Ne+=et(ke),ke.currentChar()===sx&&N(Ci.UNTERMINATED_CLOSING_BRACE,h(),0),Ne}function Wt(ke){return ke!==iY&&ke!==Id}function In(ke){re(ke),Z(ke,"'");let Ne="",Ge="";for(;Ne=_e(ke,Wt);)Ne==="\\"?Ge+=sn(ke):Ge+=Ne;const pt=ke.currentChar();return pt===Id||pt===sx?(N(Ci.UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER,h(),0),pt===Id&&(ke.next(),Z(ke,"'")),Ge):(Z(ke,"'"),Ge)}function sn(ke){const Ne=ke.currentChar();switch(Ne){case"\\":case"'":return ke.next(),`\\${Ne}`;case"u":return J(ke,Ne,4);case"U":return J(ke,Ne,6);default:return N(Ci.UNKNOWN_ESCAPE_SEQUENCE,h(),0,Ne),""}}function J(ke,Ne,Ge){Z(ke,Ne);let pt="";for(let cn=0;cn<Ge;cn++){const jt=Et(ke);if(!jt){N(Ci.INVALID_UNICODE_ESCAPE_SEQUENCE,h(),0,`\\${Ne}${pt}${ke.currentChar()}`);break}pt+=jt}return`\\${Ne}${pt}`}function fo(ke){return ke!=="{"&&ke!=="}"&&ke!==z0&&ke!==Id}function Zt(ke){re(ke);let Ne="",Ge="";for(;Ne=_e(ke,fo);)Ge+=Ne;return Ge}function bn(ke){let Ne="",Ge="";for(;Ne=it(ke);)Ge+=Ne;return Ge}function Ke(ke){const Ne=Ge=>{const pt=ke.currentChar();return pt==="{"||pt==="@"||pt==="|"||pt==="("||pt===")"||!pt||pt===z0?Ge:(Ge+=pt,ke.next(),Ne(Ge))};return Ne("")}function tt(ke){re(ke);const Ne=Z(ke,"|");return re(ke),Ne}function we(ke,Ne){let Ge=null;switch(ke.currentChar()){case"{":return Ne.braceNest>=1&&N(Ci.NOT_ALLOW_NEST_PLACEHOLDER,h(),0),ke.next(),Ge=V(Ne,2,"{"),re(ke),Ne.braceNest++,Ge;case"}":return Ne.braceNest>0&&Ne.currentType===2&&N(Ci.EMPTY_PLACEHOLDER,h(),0),ke.next(),Ge=V(Ne,3,"}"),Ne.braceNest--,Ne.braceNest>0&&re(ke),Ne.inLinked&&Ne.braceNest===0&&(Ne.inLinked=!1),Ge;case"@":return Ne.braceNest>0&&N(Ci.UNTERMINATED_CLOSING_BRACE,h(),0),Ge=Re(ke,Ne)||U(Ne),Ne.braceNest=0,Ge;default:{let cn=!0,jt=!0,xn=!0;if(rt(ke))return Ne.braceNest>0&&N(Ci.UNTERMINATED_CLOSING_BRACE,h(),0),Ge=V(Ne,1,tt(ke)),Ne.braceNest=0,Ne.inLinked=!1,Ge;if(Ne.braceNest>0&&(Ne.currentType===4||Ne.currentType===5||Ne.currentType===6))return N(Ci.UNTERMINATED_CLOSING_BRACE,h(),0),Ne.braceNest=0,He(ke,Ne);if(cn=le(ke,Ne))return Ge=V(Ne,4,ft(ke)),re(ke),Ge;if(jt=j(ke,Ne))return Ge=V(Ne,5,so(ke)),re(ke),Ge;if(xn=fe(ke,Ne))return Ge=V(Ne,6,In(ke)),re(ke),Ge;if(!cn&&!jt&&!xn)return Ge=V(Ne,12,Zt(ke)),N(Ci.INVALID_TOKEN_IN_PLACEHOLDER,h(),0,Ge.value),re(ke),Ge;break}}return Ge}function Re(ke,Ne){const{currentType:Ge}=Ne;let pt=null;const cn=ke.currentChar();switch((Ge===7||Ge===8||Ge===11||Ge===9)&&(cn===Id||cn===z0)&&N(Ci.INVALID_LINKED_FORMAT,h(),0),cn){case"@":return ke.next(),pt=V(Ne,7,"@"),Ne.inLinked=!0,pt;case".":return re(ke),ke.next(),V(Ne,8,".");case":":return re(ke),ke.next(),V(Ne,9,":");default:return rt(ke)?(pt=V(Ne,1,tt(ke)),Ne.braceNest=0,Ne.inLinked=!1,pt):ne(ke,Ne)||Fe(ke,Ne)?(re(ke),Re(ke,Ne)):Ve(ke,Ne)?(re(ke),V(Ne,11,bn(ke))):Xe(ke,Ne)?(re(ke),cn==="{"?we(ke,Ne)||pt:V(Ne,10,Ke(ke))):(Ge===7&&N(Ci.INVALID_LINKED_FORMAT,h(),0),Ne.braceNest=0,Ne.inLinked=!1,He(ke,Ne))}}function He(ke,Ne){let Ge={type:13};if(Ne.braceNest>0)return we(ke,Ne)||U(Ne);if(Ne.inLinked)return Re(ke,Ne)||U(Ne);switch(ke.currentChar()){case"{":return we(ke,Ne)||U(Ne);case"}":return N(Ci.UNBALANCED_CLOSING_BRACE,h(),0),ke.next(),V(Ne,3,"}");case"@":return Re(ke,Ne)||U(Ne);default:{if(rt(ke))return Ge=V(Ne,1,tt(ke)),Ne.braceNest=0,Ne.inLinked=!1,Ge;if(xe(ke))return V(Ne,0,Me(ke));break}}return Ge}function be(){const{currentType:ke,offset:Ne,startLoc:Ge,endLoc:pt}=I;return I.lastType=ke,I.lastOffset=Ne,I.lastStartLoc=Ge,I.lastEndLoc=pt,I.offset=g(),I.startLoc=h(),u.currentChar()===sx?V(I,13):He(u,I)}return{nextToken:be,currentOffset:g,currentPosition:h,context:D}}const bpe="parser",vpe=/(?:\\\\|\\'|\\u([0-9a-fA-F]{4})|\\U([0-9a-fA-F]{6}))/g;function ype(t,r,i){switch(t){case"\\\\":return"\\";case"\\'":return"'";default:{const u=parseInt(r||i,16);return u<=55295||u>=57344?String.fromCodePoint(u):""}}}function xpe(t={}){const r=t.location!==!1,{onError:i}=t;function u(H,de,le,j,...fe){const ne=H.currentPosition();if(ne.offset+=j,ne.column+=j,i){const Ve=r?QU(le,ne):null,Fe=YF(de,Ve,{domain:bpe,args:fe});i(Fe)}}function g(H,de,le){const j={type:H};return r&&(j.start=de,j.end=de,j.loc={start:le,end:le}),j}function h(H,de,le,j){r&&(H.end=de,H.loc&&(H.loc.end=le))}function x(H,de){const le=H.context(),j=g(3,le.offset,le.startLoc);return j.value=de,h(j,H.currentOffset(),H.currentPosition()),j}function w(H,de){const le=H.context(),{lastOffset:j,lastStartLoc:fe}=le,ne=g(5,j,fe);return ne.index=parseInt(de,10),H.nextToken(),h(ne,H.currentOffset(),H.currentPosition()),ne}function I(H,de){const le=H.context(),{lastOffset:j,lastStartLoc:fe}=le,ne=g(4,j,fe);return ne.key=de,H.nextToken(),h(ne,H.currentOffset(),H.currentPosition()),ne}function D(H,de){const le=H.context(),{lastOffset:j,lastStartLoc:fe}=le,ne=g(9,j,fe);return ne.value=de.replace(vpe,ype),H.nextToken(),h(ne,H.currentOffset(),H.currentPosition()),ne}function O(H){const de=H.nextToken(),le=H.context(),{lastOffset:j,lastStartLoc:fe}=le,ne=g(8,j,fe);return de.type!==11?(u(H,Ci.UNEXPECTED_EMPTY_LINKED_MODIFIER,le.lastStartLoc,0),ne.value="",h(ne,j,fe),{nextConsumeToken:de,node:ne}):(de.value==null&&u(H,Ci.UNEXPECTED_LEXICAL_ANALYSIS,le.lastStartLoc,0,Rb(de)),ne.value=de.value||"",h(ne,H.currentOffset(),H.currentPosition()),{node:ne})}function N(H,de){const le=H.context(),j=g(7,le.offset,le.startLoc);return j.value=de,h(j,H.currentOffset(),H.currentPosition()),j}function V(H){const de=H.context(),le=g(6,de.offset,de.startLoc);let j=H.nextToken();if(j.type===8){const fe=O(H);le.modifier=fe.node,j=fe.nextConsumeToken||H.nextToken()}switch(j.type!==9&&u(H,Ci.UNEXPECTED_LEXICAL_ANALYSIS,de.lastStartLoc,0,Rb(j)),j=H.nextToken(),j.type===2&&(j=H.nextToken()),j.type){case 10:j.value==null&&u(H,Ci.UNEXPECTED_LEXICAL_ANALYSIS,de.lastStartLoc,0,Rb(j)),le.key=N(H,j.value||"");break;case 4:j.value==null&&u(H,Ci.UNEXPECTED_LEXICAL_ANALYSIS,de.lastStartLoc,0,Rb(j)),le.key=I(H,j.value||"");break;case 5:j.value==null&&u(H,Ci.UNEXPECTED_LEXICAL_ANALYSIS,de.lastStartLoc,0,Rb(j)),le.key=w(H,j.value||"");break;case 6:j.value==null&&u(H,Ci.UNEXPECTED_LEXICAL_ANALYSIS,de.lastStartLoc,0,Rb(j)),le.key=D(H,j.value||"");break;default:{u(H,Ci.UNEXPECTED_EMPTY_LINKED_KEY,de.lastStartLoc,0);const fe=H.context(),ne=g(7,fe.offset,fe.startLoc);return ne.value="",h(ne,fe.offset,fe.startLoc),le.key=ne,h(le,fe.offset,fe.startLoc),{nextConsumeToken:j,node:le}}}return h(le,H.currentOffset(),H.currentPosition()),{node:le}}function U(H){const de=H.context(),le=de.currentType===1?H.currentOffset():de.offset,j=de.currentType===1?de.endLoc:de.startLoc,fe=g(2,le,j);fe.items=[];let ne=null;do{const Xe=ne||H.nextToken();switch(ne=null,Xe.type){case 0:Xe.value==null&&u(H,Ci.UNEXPECTED_LEXICAL_ANALYSIS,de.lastStartLoc,0,Rb(Xe)),fe.items.push(x(H,Xe.value||""));break;case 5:Xe.value==null&&u(H,Ci.UNEXPECTED_LEXICAL_ANALYSIS,de.lastStartLoc,0,Rb(Xe)),fe.items.push(w(H,Xe.value||""));break;case 4:Xe.value==null&&u(H,Ci.UNEXPECTED_LEXICAL_ANALYSIS,de.lastStartLoc,0,Rb(Xe)),fe.items.push(I(H,Xe.value||""));break;case 6:Xe.value==null&&u(H,Ci.UNEXPECTED_LEXICAL_ANALYSIS,de.lastStartLoc,0,Rb(Xe)),fe.items.push(D(H,Xe.value||""));break;case 7:{const rt=V(H);fe.items.push(rt.node),ne=rt.nextConsumeToken||null;break}}}while(de.currentType!==13&&de.currentType!==1);const Ve=de.currentType===1?de.lastOffset:H.currentOffset(),Fe=de.currentType===1?de.lastEndLoc:H.currentPosition();return h(fe,Ve,Fe),fe}function Z(H,de,le,j){const fe=H.context();let ne=j.items.length===0;const Ve=g(1,de,le);Ve.cases=[],Ve.cases.push(j);do{const Fe=U(H);ne||(ne=Fe.items.length===0),Ve.cases.push(Fe)}while(fe.currentType!==13);return ne&&u(H,Ci.MUST_HAVE_MESSAGES_IN_PLURAL,le,0),h(Ve,H.currentOffset(),H.currentPosition()),Ve}function ee(H){const de=H.context(),{offset:le,startLoc:j}=de,fe=U(H);return de.currentType===13?fe:Z(H,le,j,fe)}function re(H){const de=ppe(H,FE({},t)),le=de.context(),j=g(0,le.offset,le.startLoc);return r&&j.loc&&(j.loc.source=H),j.body=ee(de),t.onCacheKey&&(j.cacheKey=t.onCacheKey(H)),le.currentType!==13&&u(de,Ci.UNEXPECTED_LEXICAL_ANALYSIS,le.lastStartLoc,0,H[le.offset]||""),h(j,de.currentOffset(),de.currentPosition()),j}return{parse:re}}function Rb(t){if(t.type===13)return"EOF";const r=(t.value||"").replace(/\r?\n/gu,"\\n");return r.length>10?r.slice(0,9)+"":r}function wpe(t,r={}){const i={ast:t,helpers:new Set};return{context:()=>i,helper:h=>(i.helpers.add(h),h)}}function aY(t,r){for(let i=0;i<t.length;i++)XW(t[i],r)}function XW(t,r){switch(t.type){case 1:aY(t.cases,r),r.helper("plural");break;case 2:aY(t.items,r);break;case 6:{XW(t.key,r),r.helper("linked"),r.helper("type");break}case 5:r.helper("interpolate"),r.helper("list");break;case 4:r.helper("interpolate"),r.helper("named");break}}function Cpe(t,r={}){const i=wpe(t);i.helper("normalize"),t.body&&XW(t.body,i);const u=i.context();t.helpers=Array.from(u.helpers)}function _pe(t){const r=t.body;return r.type===2?lY(r):r.cases.forEach(i=>lY(i)),t}function lY(t){if(t.items.length===1){const r=t.items[0];(r.type===3||r.type===9)&&(t.static=r.value,delete r.value)}else{const r=[];for(let i=0;i<t.items.length;i++){const u=t.items[i];if(!(u.type===3||u.type===9)||u.value==null)break;r.push(u.value)}if(r.length===t.items.length){t.static=YW(r);for(let i=0;i<t.items.length;i++){const u=t.items[i];(u.type===3||u.type===9)&&delete u.value}}}}function cE(t){switch(t.t=t.type,t.type){case 0:{const r=t;cE(r.body),r.b=r.body,delete r.body;break}case 1:{const r=t,i=r.cases;for(let u=0;u<i.length;u++)cE(i[u]);r.c=i,delete r.cases;break}case 2:{const r=t,i=r.items;for(let u=0;u<i.length;u++)cE(i[u]);r.i=i,delete r.items,r.static&&(r.s=r.static,delete r.static);break}case 3:case 9:case 8:case 7:{const r=t;r.value&&(r.v=r.value,delete r.value);break}case 6:{const r=t;cE(r.key),r.k=r.key,delete r.key,r.modifier&&(cE(r.modifier),r.m=r.modifier,delete r.modifier);break}case 5:{const r=t;r.i=r.index,delete r.index;break}case 4:{const r=t;r.k=r.key,delete r.key;break}}delete t.type}function Spe(t,r){const{filename:i,breakLineCode:u,needIndent:g}=r,h=r.location!==!1,x={filename:i,code:"",column:1,line:1,offset:0,map:void 0,breakLineCode:u,needIndent:g,indentLevel:0};h&&t.loc&&(x.source=t.loc.source);const w=()=>x;function I(ee,re){x.code+=ee}function D(ee,re=!0){const H=re?u:"";I(g?H+"  ".repeat(ee):H)}function O(ee=!0){const re=++x.indentLevel;ee&&D(re)}function N(ee=!0){const re=--x.indentLevel;ee&&D(re)}function V(){D(x.indentLevel)}return{context:w,push:I,indent:O,deindent:N,newline:V,helper:ee=>`_${ee}`,needIndent:()=>x.needIndent}}function kpe(t,r){const{helper:i}=t;t.push(`${i("linked")}(`),AE(t,r.key),r.modifier?(t.push(", "),AE(t,r.modifier),t.push(", _type")):t.push(", undefined, _type"),t.push(")")}function Epe(t,r){const{helper:i,needIndent:u}=t;t.push(`${i("normalize")}([`),t.indent(u());const g=r.items.length;for(let h=0;h<g&&(AE(t,r.items[h]),h!==g-1);h++)t.push(", ");t.deindent(u()),t.push("])")}function Ape(t,r){const{helper:i,needIndent:u}=t;if(r.cases.length>1){t.push(`${i("plural")}([`),t.indent(u());const g=r.cases.length;for(let h=0;h<g&&(AE(t,r.cases[h]),h!==g-1);h++)t.push(", ");t.deindent(u()),t.push("])")}}function Tpe(t,r){r.body?AE(t,r.body):t.push("null")}function AE(t,r){const{helper:i}=t;switch(r.type){case 0:Tpe(t,r);break;case 1:Ape(t,r);break;case 2:Epe(t,r);break;case 6:kpe(t,r);break;case 8:t.push(JSON.stringify(r.value),r);break;case 7:t.push(JSON.stringify(r.value),r);break;case 5:t.push(`${i("interpolate")}(${i("list")}(${r.index}))`,r);break;case 4:t.push(`${i("interpolate")}(${i("named")}(${JSON.stringify(r.key)}))`,r);break;case 9:t.push(JSON.stringify(r.value),r);break;case 3:t.push(JSON.stringify(r.value),r);break}}const Ope=(t,r={})=>{const i=xr(r.mode)?r.mode:"normal",u=xr(r.filename)?r.filename:"message.intl";r.sourceMap;const g=r.breakLineCode!=null?r.breakLineCode:i==="arrow"?";":`
`,h=r.needIndent?r.needIndent:i!=="arrow",x=t.helpers||[],w=Spe(t,{filename:u,breakLineCode:g,needIndent:h});w.push(i==="normal"?"function __msg__ (ctx) {":"(ctx) => {"),w.indent(h),x.length>0&&(w.push(`const { ${YW(x.map(O=>`${O}: _${O}`),", ")} } = ctx`),w.newline()),w.push("return "),AE(w,t),w.deindent(h),w.push("}"),delete t.helpers;const{code:I,map:D}=w.context();return{ast:t,code:I,map:D?D.toJSON():void 0}};function Rpe(t,r={}){const i=FE({},r),u=!!i.jit,g=!!i.minify,h=i.optimize==null?!0:i.optimize,w=xpe(i).parse(t);return u?(h&&_pe(w),g&&cE(w),{ast:w,code:""}):(Cpe(w,i),Ope(w,i))}/*!
  * core-base v11.1.9
  * (c) 2025 kazuya kawaguchi
  * Released under the MIT License.
  */function Ipe(){typeof __INTLIFY_PROD_DEVTOOLS__!="boolean"&&(qW().__INTLIFY_PROD_DEVTOOLS__=!1)}function px(t){return el(t)&&JW(t)===0&&(lp(t,"b")||lp(t,"body"))}const FQ=["b","body"];function Dpe(t){return kx(t,FQ)}const $Q=["c","cases"];function Ppe(t){return kx(t,$Q,[])}const VQ=["s","static"];function Npe(t){return kx(t,VQ)}const zQ=["i","items"];function Lpe(t){return kx(t,zQ,[])}const HQ=["t","type"];function JW(t){return kx(t,HQ)}const UQ=["v","value"];function I6(t,r){const i=kx(t,UQ);if(i!=null)return i;throw KR(r)}const WQ=["m","modifier"];function Mpe(t){return kx(t,WQ)}const KQ=["k","key"];function Bpe(t){const r=kx(t,KQ);if(r)return r;throw KR(6)}function kx(t,r,i){for(let u=0;u<r.length;u++){const g=r[u];if(lp(t,g)&&t[g]!=null)return t[g]}return i}const Fpe=[...FQ,...$Q,...VQ,...zQ,...KQ,...WQ,...UQ,...HQ];function KR(t){return new Error(`unhandled node type: ${t}`)}function Z9(t){return i=>$pe(i,t)}function $pe(t,r){const i=Dpe(r);if(i==null)throw KR(0);if(JW(i)===1){const h=Ppe(i);return t.plural(h.reduce((x,w)=>[...x,cY(t,w)],[]))}else return cY(t,i)}function cY(t,r){const i=Npe(r);if(i!=null)return t.type==="text"?i:t.normalize([i]);{const u=Lpe(r).reduce((g,h)=>[...g,eW(t,h)],[]);return t.normalize(u)}}function eW(t,r){const i=JW(r);switch(i){case 3:return I6(r,i);case 9:return I6(r,i);case 4:{const u=r;if(lp(u,"k")&&u.k)return t.interpolate(t.named(u.k));if(lp(u,"key")&&u.key)return t.interpolate(t.named(u.key));throw KR(i)}case 5:{const u=r;if(lp(u,"i")&&xf(u.i))return t.interpolate(t.list(u.i));if(lp(u,"index")&&xf(u.index))return t.interpolate(t.list(u.index));throw KR(i)}case 6:{const u=r,g=Mpe(u),h=Bpe(u);return t.linked(eW(t,h),g?eW(t,g):void 0,t.type)}case 7:return I6(r,i);case 8:return I6(r,i);default:throw new Error(`unhandled node on format message part: ${i}`)}}const Vpe=t=>t;let D6=Wu();function zpe(t,r={}){let i=!1;const u=r.onError||cpe;return r.onError=g=>{i=!0,u(g)},{...Rpe(t,r),detectError:i}}function Hpe(t,r){if(xr(t)){Nd(r.warnHtmlMessage)&&r.warnHtmlMessage;const u=(r.onCacheKey||Vpe)(t),g=D6[u];if(g)return g;const{ast:h,detectError:x}=zpe(t,{...r,location:!1,jit:!0}),w=Z9(h);return x?w:D6[u]=w}else{const i=t.cacheKey;if(i){const u=D6[i];return u||(D6[i]=Z9(t))}else return Z9(t)}}let jR=null;function Upe(t){jR=t}function Wpe(t,r,i){jR&&jR.emit("i18n:init",{timestamp:Date.now(),i18n:t,version:r,meta:i})}const Kpe=jpe("function:translate");function jpe(t){return r=>jR&&jR.emit(t,r)}const W6={INVALID_ARGUMENT:lpe,NOT_SUPPORT_LOCALE_PROMISE_VALUE:21,NOT_SUPPORT_LOCALE_ASYNC_FUNCTION:22,NOT_SUPPORT_LOCALE_TYPE:23},Zpe=24;function K6(t){return YF(t,null,void 0)}function Gpe(t,r){return r.locale!=null?uY(r.locale):uY(t.locale)}let G9;function uY(t){if(xr(t))return t;if(vl(t)){if(t.resolvedOnce&&G9!=null)return G9;if(t.constructor.name==="Function"){const r=t();if(spe(r))throw K6(W6.NOT_SUPPORT_LOCALE_PROMISE_VALUE);return G9=r}else throw K6(W6.NOT_SUPPORT_LOCALE_ASYNC_FUNCTION)}else throw K6(W6.NOT_SUPPORT_LOCALE_TYPE)}function qpe(t,r,i){return[...new Set([i,...Wb(r)?r:el(r)?Object.keys(r):xr(r)?[r]:[i]])]}function Ype(t,r){return el(t)?t[r]:null}const Xpe="11.1.9",jQ=-1,tW="en-US",dY=t=>`${t.charAt(0).toLocaleUpperCase()}${t.substr(1)}`;function Jpe(){return{upper:(t,r)=>r==="text"&&xr(t)?t.toUpperCase():r==="vnode"&&el(t)&&"__v_isVNode"in t?t.children.toUpperCase():t,lower:(t,r)=>r==="text"&&xr(t)?t.toLowerCase():r==="vnode"&&el(t)&&"__v_isVNode"in t?t.children.toLowerCase():t,capitalize:(t,r)=>r==="text"&&xr(t)?dY(t):r==="vnode"&&el(t)&&"__v_isVNode"in t?dY(t.children):t}}let ZQ;function Qpe(t){ZQ=t}let GQ=null;const ebe=t=>{GQ=t},tbe=()=>GQ;let qQ=null;const fY=t=>{qQ=t},nbe=()=>qQ;let mY=0;function obe(t={}){const r=vl(t.onWarn)?t.onWarn:ipe,i=xr(t.version)?t.version:Xpe,u=xr(t.locale)||vl(t.locale)?t.locale:tW,g=vl(u)?tW:u,h=Wb(t.fallbackLocale)||Vu(t.fallbackLocale)||xr(t.fallbackLocale)||t.fallbackLocale===!1?t.fallbackLocale:g,x=Vu(t.messages)?t.messages:q9(g),w=Vu(t.datetimeFormats)?t.datetimeFormats:q9(g),I=Vu(t.numberFormats)?t.numberFormats:q9(g),D=FE(Wu(),t.modifiers,Jpe()),O=t.pluralRules||Wu(),N=vl(t.missing)?t.missing:null,V=Nd(t.missingWarn)||bF(t.missingWarn)?t.missingWarn:!0,U=Nd(t.fallbackWarn)||bF(t.fallbackWarn)?t.fallbackWarn:!0,Z=!!t.fallbackFormat,ee=!!t.unresolving,re=vl(t.postTranslation)?t.postTranslation:null,H=Vu(t.processor)?t.processor:null,de=Nd(t.warnHtmlMessage)?t.warnHtmlMessage:!0,le=!!t.escapeParameter,j=vl(t.messageCompiler)?t.messageCompiler:ZQ,fe=vl(t.messageResolver)?t.messageResolver:Ype,ne=vl(t.localeFallbacker)?t.localeFallbacker:qpe,Ve=el(t.fallbackContext)?t.fallbackContext:void 0,Fe=t,Xe=el(Fe.__datetimeFormatters)?Fe.__datetimeFormatters:new Map,rt=el(Fe.__numberFormatters)?Fe.__numberFormatters:new Map,xe=el(Fe.__meta)?Fe.__meta:{};mY++;const _e={version:i,cid:mY,locale:u,fallbackLocale:h,messages:x,modifiers:D,pluralRules:O,missing:N,missingWarn:V,fallbackWarn:U,fallbackFormat:Z,unresolving:ee,postTranslation:re,processor:H,warnHtmlMessage:de,escapeParameter:le,messageCompiler:j,messageResolver:fe,localeFallbacker:ne,fallbackContext:Ve,onWarn:r,__meta:xe};return _e.datetimeFormats=w,_e.numberFormats=I,_e.__datetimeFormatters=Xe,_e.__numberFormatters=rt,__INTLIFY_PROD_DEVTOOLS__&&Wpe(_e,i,xe),_e}const q9=t=>({[t]:Wu()});function sbe(t,r,i,u,g){const{missing:h,onWarn:x}=t;if(h!==null){const w=h(t,i,r,g);return xr(w)?w:r}else return r}function pR(t,r,i){const u=t;u.__localeChainCache=new Map,t.localeFallbacker(t,i,r)}function rbe(t,r){return t===r?!1:t.split("-")[0]===r.split("-")[0]}function ibe(t,r){const i=r.indexOf(t);if(i===-1)return!1;for(let u=i+1;u<r.length;u++)if(rbe(t,r[u]))return!0;return!1}const abe=t=>t,lbe=t=>"",cbe="text",ube=t=>t.length===0?"":YW(t),dbe=rpe;function gY(t,r){return t=Math.abs(t),r===2?t?t>1?1:0:1:t?Math.min(t,2):0}function fbe(t){const r=xf(t.pluralIndex)?t.pluralIndex:-1;return t.named&&(xf(t.named.count)||xf(t.named.n))?xf(t.named.count)?t.named.count:xf(t.named.n)?t.named.n:r:r}function mbe(t,r){r.count||(r.count=t),r.n||(r.n=t)}function gbe(t={}){const r=t.locale,i=fbe(t),u=el(t.pluralRules)&&xr(r)&&vl(t.pluralRules[r])?t.pluralRules[r]:gY,g=el(t.pluralRules)&&xr(r)&&vl(t.pluralRules[r])?gY:void 0,h=H=>H[u(i,H.length,g)],x=t.list||[],w=H=>x[H],I=t.named||Wu();xf(t.pluralIndex)&&mbe(i,I);const D=H=>I[H];function O(H,de){const le=vl(t.messages)?t.messages(H,!!de):el(t.messages)?t.messages[H]:!1;return le||(t.parent?t.parent.message(H):lbe)}const N=H=>t.modifiers?t.modifiers[H]:abe,V=Vu(t.processor)&&vl(t.processor.normalize)?t.processor.normalize:ube,U=Vu(t.processor)&&vl(t.processor.interpolate)?t.processor.interpolate:dbe,Z=Vu(t.processor)&&xr(t.processor.type)?t.processor.type:cbe,re={list:w,named:D,plural:h,linked:(H,...de)=>{const[le,j]=de;let fe="text",ne="";de.length===1?el(le)?(ne=le.modifier||ne,fe=le.type||fe):xr(le)&&(ne=le||ne):de.length===2&&(xr(le)&&(ne=le||ne),xr(j)&&(fe=j||fe));const Ve=O(H,!0)(re),Fe=fe==="vnode"&&Wb(Ve)&&ne?Ve[0]:Ve;return ne?N(ne)(Fe,fe):Fe},message:O,type:Z,interpolate:U,normalize:V,values:FE(Wu(),x,I)};return re}const hY=()=>"",ip=t=>vl(t);function hbe(t,...r){const{fallbackFormat:i,postTranslation:u,unresolving:g,messageCompiler:h,fallbackLocale:x,messages:w}=t,[I,D]=JQ(...r),O=Nd(D.missingWarn)?D.missingWarn:t.missingWarn,N=Nd(D.fallbackWarn)?D.fallbackWarn:t.fallbackWarn,V=Nd(D.escapeParameter)?D.escapeParameter:t.escapeParameter,U=!!D.resolvedMessage,Z=xr(D.default)||Nd(D.default)?Nd(D.default)?h?I:()=>I:D.default:i?h?I:()=>I:null,ee=i||Z!=null&&(xr(Z)||vl(Z)),re=Gpe(t,D);V&&pbe(D);let[H,de,le]=U?[I,re,w[re]||Wu()]:YQ(t,I,re,x,N,O),j=H,fe=I;if(!U&&!(xr(j)||px(j)||ip(j))&&ee&&(j=Z,fe=j),!U&&(!(xr(j)||px(j)||ip(j))||!xr(de)))return g?jQ:I;let ne=!1;const Ve=()=>{ne=!0},Fe=ip(j)?j:XQ(t,I,de,j,fe,Ve);if(ne)return j;const Xe=ybe(t,de,le,D),rt=gbe(Xe),xe=bbe(t,Fe,rt),_e=u?u(xe,I):xe;if(__INTLIFY_PROD_DEVTOOLS__){const R={timestamp:Date.now(),key:xr(I)?I:ip(j)?j.key:"",locale:de||(ip(j)?j.locale:""),format:xr(j)?j:ip(j)?j.source:"",message:_e};R.meta=FE({},t.__meta,tbe()||{}),Kpe(R)}return _e}function pbe(t){Wb(t.list)?t.list=t.list.map(r=>xr(r)?rY(r):r):el(t.named)&&Object.keys(t.named).forEach(r=>{xr(t.named[r])&&(t.named[r]=rY(t.named[r]))})}function YQ(t,r,i,u,g,h){const{messages:x,onWarn:w,messageResolver:I,localeFallbacker:D}=t,O=D(t,u,i);let N=Wu(),V,U=null;const Z="translate";for(let ee=0;ee<O.length&&(V=O[ee],N=x[V]||Wu(),(U=I(N,r))===null&&(U=N[r]),!(xr(U)||px(U)||ip(U)));ee++)if(!ibe(V,O)){const re=sbe(t,r,V,h,Z);re!==r&&(U=re)}return[U,V,N]}function XQ(t,r,i,u,g,h){const{messageCompiler:x,warnHtmlMessage:w}=t;if(ip(u)){const D=u;return D.locale=D.locale||i,D.key=D.key||r,D}if(x==null){const D=()=>u;return D.locale=i,D.key=r,D}const I=x(u,vbe(t,i,g,u,w,h));return I.locale=i,I.key=r,I.source=u,I}function bbe(t,r,i){return r(i)}function JQ(...t){const[r,i,u]=t,g=Wu();if(!xr(r)&&!xf(r)&&!ip(r)&&!px(r))throw K6(W6.INVALID_ARGUMENT);const h=xf(r)?String(r):(ip(r),r);return xf(i)?g.plural=i:xr(i)?g.default=i:Vu(i)&&!tpe(i)?g.named=i:Wb(i)&&(g.list=i),xf(u)?g.plural=u:xr(u)?g.default=u:Vu(u)&&FE(g,u),[h,g]}function vbe(t,r,i,u,g,h){return{locale:r,key:i,warnHtmlMessage:g,onError:x=>{throw h&&h(x),x},onCacheKey:x=>Qhe(r,i,x)}}function ybe(t,r,i,u){const{modifiers:g,pluralRules:h,messageResolver:x,fallbackLocale:w,fallbackWarn:I,missingWarn:D,fallbackContext:O}=t,V={locale:r,modifiers:g,pluralRules:h,messages:(U,Z)=>{let ee=x(i,U);if(ee==null&&(O||Z)){const[,,re]=YQ(O||t,U,r,w,I,D);ee=x(re,U)}if(xr(ee)||px(ee)){let re=!1;const de=XQ(t,U,r,ee,U,()=>{re=!0});return re?hY:de}else return ip(ee)?ee:hY}};return t.processor&&(V.processor=t.processor),u.list&&(V.list=u.list),u.named&&(V.named=u.named),xf(u.plural)&&(V.pluralIndex=u.plural),V}Ipe();/*!
  * petite-vue-i18n v11.1.9
  * (c) 2025 kazuya kawaguchi
  * Released under the MIT License.
  */const xbe="11.1.9";function wbe(){typeof __INTLIFY_PROD_DEVTOOLS__!="boolean"&&(qW().__INTLIFY_PROD_DEVTOOLS__=!1)}const vF={UNEXPECTED_RETURN_TYPE:Zpe,UNEXPECTED_ERROR:32};function yF(t,...r){return YF(t,null,void 0)}const Cbe=LQ("__setPluralRules");function ZR(t){if(!el(t)||px(t))return t;for(const r in t)if(lp(t,r))if(!r.includes("."))el(t[r])&&ZR(t[r]);else{const i=r.split("."),u=i.length-1;let g=t,h=!1;for(let x=0;x<u;x++){if(i[x]==="__proto__")throw new Error(`unsafe key: ${i[x]}`);if(i[x]in g||(g[i[x]]=Wu()),!el(g[i[x]])){h=!0;break}g=g[i[x]]}if(h||(px(g)?Fpe.includes(i[u])||delete t[r]:(g[i[u]]=t[r],delete t[r])),!px(g)){const x=g[i[u]];el(x)&&ZR(x)}}return t}function _be(t,r){const{messages:i,__i18n:u,messageResolver:g,flatJson:h}=r,x=Vu(i)?i:Wb(u)?Wu():{[t]:Wu()};if(Wb(u)&&u.forEach(w=>{if("locale"in w&&"resource"in w){const{locale:I,resource:D}=w;I?(x[I]=x[I]||Wu(),U6(D,x[I])):U6(D,x)}else xr(w)&&U6(JSON.parse(w),x)}),g==null&&h)for(const w in x)lp(x,w)&&ZR(x[w]);return x}function Sbe(t){return t.type}const pY="__INTLIFY_META__";let bY=0;function vY(t){return(r,i,u,g)=>t(i,u,LE()||void 0,g)}const kbe=()=>{const t=LE();let r=null;return t&&(r=Sbe(t)[pY])?{[pY]:r}:null};function Ebe(t={}){const{__root:r,__injectWithOption:i}=t,u=r===void 0,g=t.flatJson,h=oY?Tn:bo;let x=Nd(t.inheritLocale)?t.inheritLocale:!0;const w=h(r&&x?r.locale.value:xr(t.locale)?t.locale:tW),I=h(r&&x?r.fallbackLocale.value:xr(t.fallbackLocale)||Wb(t.fallbackLocale)||Vu(t.fallbackLocale)||t.fallbackLocale===!1?t.fallbackLocale:w.value),D=h(_be(w.value,t));let O=r?r.missingWarn:Nd(t.missingWarn)||bF(t.missingWarn)?t.missingWarn:!0,N=r?r.fallbackWarn:Nd(t.fallbackWarn)||bF(t.fallbackWarn)?t.fallbackWarn:!0,V=r?r.fallbackRoot:Nd(t.fallbackRoot)?t.fallbackRoot:!0,U=!!t.fallbackFormat,Z=vl(t.missing)?t.missing:null,ee=vl(t.missing)?vY(t.missing):null,re=vl(t.postTranslation)?t.postTranslation:null,H=r?r.warnHtmlMessage:Nd(t.warnHtmlMessage)?t.warnHtmlMessage:!0,de=!!t.escapeParameter;const le=r?r.modifiers:Vu(t.modifiers)?t.modifiers:{};let j=t.pluralRules||r&&r.pluralRules,fe;fe=(()=>{u&&fY(null);const Me={version:xbe,locale:w.value,fallbackLocale:I.value,messages:D.value,modifiers:le,pluralRules:j,missing:ee===null?void 0:ee,missingWarn:O,fallbackWarn:N,fallbackFormat:U,unresolving:!0,postTranslation:re===null?void 0:re,warnHtmlMessage:H,escapeParameter:de,messageResolver:t.messageResolver,messageCompiler:t.messageCompiler,__meta:{framework:"vue"}},ft=obe(Me);return u&&fY(ft),ft})(),pR(fe,w.value,I.value);function Ve(){return[w.value,I.value,D.value]}const Fe=Rt({get:()=>w.value,set:Me=>{fe.locale=Me,w.value=Me}}),Xe=Rt({get:()=>I.value,set:Me=>{fe.fallbackLocale=Me,I.value=Me,pR(fe,w.value,Me)}}),rt=Rt(()=>D.value);function xe(){return vl(re)?re:null}function _e(Me){re=Me,fe.postTranslation=Me}function R(){return Z}function it(Me){Me!==null&&(ee=vY(Me)),Z=Me,fe.missing=ee}const lt=(Me,ft,so,Wt,In,sn)=>{Ve();let J;try{__INTLIFY_PROD_DEVTOOLS__,u||(fe.fallbackContext=r?nbe():void 0),J=Me(fe)}finally{__INTLIFY_PROD_DEVTOOLS__,u||(fe.fallbackContext=void 0)}if(xf(J)&&J===jQ||so==="translate exists"){const[fo,Zt]=ft();return r&&V?Wt(r):In(fo)}else{if(sn(J))return J;throw yF(vF.UNEXPECTED_RETURN_TYPE)}};function Lt(...Me){return lt(ft=>Reflect.apply(hbe,null,[ft,...Me]),()=>JQ(...Me),"translate",ft=>Reflect.apply(ft.t,ft,[...Me]),ft=>ft,ft=>xr(ft))}function Qt(Me){j=Me,fe.pluralRules=j}function dt(Me){return D.value[Me]||{}}function Sn(Me,ft){if(g){const so={[Me]:ft};for(const Wt in so)lp(so,Wt)&&ZR(so[Wt]);ft=so[Me]}D.value[Me]=ft,fe.messages=D.value}function Et(Me,ft){D.value[Me]=D.value[Me]||{};const so={[Me]:ft};if(g)for(const Wt in so)lp(so,Wt)&&ZR(so[Wt]);ft=so[Me],U6(ft,D.value[Me]),fe.messages=D.value}return bY++,r&&oY&&(Rn(r.locale,Me=>{x&&(w.value=Me,fe.locale=Me,pR(fe,w.value,I.value))}),Rn(r.fallbackLocale,Me=>{x&&(I.value=Me,fe.fallbackLocale=Me,pR(fe,w.value,I.value))})),{id:bY,locale:Fe,fallbackLocale:Xe,get inheritLocale(){return x},set inheritLocale(Me){x=Me,Me&&r&&(w.value=r.locale.value,I.value=r.fallbackLocale.value,pR(fe,w.value,I.value))},get availableLocales(){return Object.keys(D.value).sort()},messages:rt,get modifiers(){return le},get pluralRules(){return j||{}},get isGlobal(){return u},get missingWarn(){return O},set missingWarn(Me){O=Me,fe.missingWarn=O},get fallbackWarn(){return N},set fallbackWarn(Me){N=Me,fe.fallbackWarn=N},get fallbackRoot(){return V},set fallbackRoot(Me){V=Me},get fallbackFormat(){return U},set fallbackFormat(Me){U=Me,fe.fallbackFormat=U},get warnHtmlMessage(){return H},set warnHtmlMessage(Me){H=Me,fe.warnHtmlMessage=Me},get escapeParameter(){return de},set escapeParameter(Me){de=Me,fe.escapeParameter=Me},t:Lt,getLocaleMessage:dt,setLocaleMessage:Sn,mergeLocaleMessage:Et,getPostTranslationHandler:xe,setPostTranslationHandler:_e,getMissingHandler:R,setMissingHandler:it,[Cbe]:Qt}}function Abe(t={}){const r=Nd(t.globalInjection)?t.globalInjection:!0,i=new Map,[u,g]=Tbe(t),h=LQ("");function x(O){return i.get(O)||null}function w(O,N){i.set(O,N)}function I(O){i.delete(O)}const D={get mode(){return"composition"},async install(O,...N){if(O.__VUE_I18N_SYMBOL__=h,O.provide(O.__VUE_I18N_SYMBOL__,D),Vu(N[0])){const Z=N[0];D.__composerExtend=Z.__composerExtend,D.__vueI18nExtend=Z.__vueI18nExtend}let V=null;r&&(V=Rbe(O,D.global));const U=O.unmount;O.unmount=()=>{V&&V(),D.dispose(),U()}},get global(){return g},dispose(){u.stop()},__instances:i,__getInstance:x,__setInstance:w,__deleteInstance:I};return D}function Tbe(t,r){const i=vx(),u=i.run(()=>Ebe(t));if(u==null)throw yF(vF.UNEXPECTED_ERROR);return[i,u]}const Obe=["locale","fallbackLocale","availableLocales"],yY=["t"];function Rbe(t,r){const i=Object.create(null);return Obe.forEach(g=>{const h=Object.getOwnPropertyDescriptor(r,g);if(!h)throw yF(vF.UNEXPECTED_ERROR);const x=ia(h.value)?{get(){return h.value.value},set(w){h.value.value=w}}:{get(){return h.get&&h.get()}};Object.defineProperty(i,g,x)}),t.config.globalProperties.$i18n=i,yY.forEach(g=>{const h=Object.getOwnPropertyDescriptor(r,g);if(!h||!h.value)throw yF(vF.UNEXPECTED_ERROR);Object.defineProperty(t.config.globalProperties,`$${g}`,h)}),()=>{delete t.config.globalProperties.$i18n,yY.forEach(g=>{delete t.config.globalProperties[`$${g}`]})}}wbe();Qpe(Hpe);if(__INTLIFY_PROD_DEVTOOLS__){const t=qW();t.__INTLIFY__=!0,Upe(t.__INTLIFY_DEVTOOLS_GLOBAL_HOOK__)}const Y9=t=>t&&typeof t=="object"&&!Array.isArray(t),nW=(t,...r)=>{if(!r.length)return t;const i=r.shift();if(Y9(t)&&Y9(i))for(const u in i)Y9(i[u])?(t[u]||Object.assign(t,{[u]:{}}),nW(t[u],i[u])):Object.assign(t,{[u]:i[u]});return nW(t,...r)},Ibe=nW({},{de:{allAnnotations:{t:0,b:{t:2,i:[{t:3}],s:"Anmerkungen"}},allApply:{t:0,b:{t:2,i:[{t:3}],s:"bernehmen"}},allAuthorize:{t:0,b:{t:2,i:[{t:3}],s:"Freigeben..."}},allCancel:{t:0,b:{t:2,i:[{t:3}],s:"Abbrechen"}},allCancelCorrection:{t:0,b:{t:2,i:[{t:3}],s:"Korrektur abbrechen"}},allChange:{t:0,b:{t:2,i:[{t:3}],s:"ndern..."}},allClose:{t:0,b:{t:2,i:[{t:3}],s:"Schlieen"}},allCloseMessage:{t:0,b:{t:2,i:[{t:3}],s:"Meldung schlieen"}},allComments:{t:0,b:{t:2,i:[{t:3}],s:"Anmerkungen"}},allCorrection:{t:0,b:{t:2,i:[{t:3}],s:"Korrektur"}},allDelete:{t:0,b:{t:2,i:[{t:3}],s:"Lschen"}},allEnd:{t:0,b:{t:2,i:[{t:3}],s:"Beenden"}},allEssay:{t:0,b:{t:2,i:[{t:3}],s:"Abgabe-Text"}},allEssayAndCorrection:{t:0,b:{t:2,i:[{t:3}],s:"Abgabe und Korrektur"}},allEssayNoCorrectionAuthorized:{t:0,b:{t:2,i:[{t:3}],s:"Fr diesen Abgabe-Text ist noch keine Korrektur freigegeben."}},allGeneralPoints:{t:0,b:{t:2,i:[{t:3}],s:"Kopfnoten"}},allGeneralPointsLong:{t:0,b:{t:2,i:[{t:3}],s:"Allgemeine Punkte (Kopfnoten)"}},allGrade:{t:0,b:{t:2,i:[{t:3}],s:"Note:"}},allInstructions:{t:0,b:{t:2,i:[{t:3}],s:"Aufgabenstellung"}},allInstructionsPdf:{t:0,b:{t:2,i:[{t:3}],s:"Aufgabenstellung als PDF"}},allIsSelected:{t:0,b:{t:2,i:[{t:3}],s:", ist ausgewhlt"}},allLoad:{t:0,b:{t:2,i:[{t:3}],s:"Laden"}},allLoadData:{t:0,b:{t:2,i:[{t:3}],s:"Lade Daten ..."}},allMark:{t:0,b:{t:2,i:[{t:3}],s:"Markieren"}},allNotes:{t:0,b:{t:2,i:[{t:3}],s:"Notizen"}},allNotesWillPurged:{t:0,b:{t:2,i:[{t:3}],s:"Notizen, werden bei der Abgabe verworfen"}},allNumCharacters:{t:0,b:{t:2,i:[{t:4,k:"n"},{t:3,v:" Zeichen"}]}},allNumWords:{t:0,b:{t:1,c:[{t:2,i:[{t:4,k:"n"},{t:3,v:" Wort"}]},{t:2,i:[{t:4,k:"n"},{t:3,v:" Wrter"}]}]}},allOk:{t:0,b:{t:2,i:[{t:3}],s:"Ok"}},allOr:{t:0,b:{t:2,i:[{t:3}],s:"or"}},allOverview:{t:0,b:{t:2,i:[{t:3}],s:"bersicht"}},allOwnSummary:{t:0,b:{t:2,i:[{t:3}],s:"Eigenes Gutachten"}},allOwnSummaryAndRating:{t:0,b:{t:2,i:[{t:3}],s:"Eigene Bewertung"}},allPartialPoints:{t:0,b:{t:2,i:[{t:3}],s:"Teilpunkte"}},allPartialPointsLong:{t:0,b:{t:2,i:[{t:3}],s:"Teilpunkte zur Anmerkung"}},allPoints:{t:0,b:{t:1,c:[{t:2,i:[{t:3}],s:"Punkt"},{t:2,i:[{t:3}],s:"Punkte"}]}},allPregraded:{t:0,b:{t:2,i:[{t:3}],s:"vorbenotet"}},allTotalRating:{t:0,b:{t:2,i:[{t:3}],s:"Gesamtbewertung"}},allRevision:{t:0,b:{t:2,i:[{t:3}],s:"berarbeitung"}},allShow:{t:0,b:{t:2,i:[{t:3}],s:"anzeigen"}},allSelect:{t:0,b:{t:2,i:[{t:3}],s:"Auswhlen"}},allSolution:{t:0,b:{t:2,i:[{t:3}],s:"Lsungshinweise"}},allSolutionPdf:{t:0,b:{t:2,i:[{t:3}],s:"Lsungshinweise als PDF"}},allSummary:{t:0,b:{t:2,i:[{t:3}],s:"Gutachten"}},allUpload:{t:0,b:{t:2,i:[{t:3}],s:"Hochladen"}},apiMissingParams:{t:0,b:{t:2,i:[{t:3}],s:"Es fehlen Informationen zum Laden der Korrektur. Bitte rufen Sie die Korrekturoberflche aus der Korrektur-Startseite neu auf."}},apiLoadingDataFailed:{t:0,b:{t:2,i:[{t:3}],s:"Die Korrektur konnte nicht geladen werden. Bitte rufen Sie die Korrekturoberflche aus der Korrektur-Startseite neu auf."}},appBarReturn:{t:0,b:{t:2,i:[{t:3}],s:"Schlieen"}},authorizationAuthorize:{t:0,b:{t:2,i:[{t:3}],s:"Freigeben"}},authorizationEditIncludes:{t:0,b:{t:2,i:[{t:3}],s:"Einbezug bearbeiten"}},authorizationGradeTitle:{t:0,b:{t:2,i:[{t:3}],s:"Note:"}},authorizationPartialPoints:{t:0,b:{t:2,i:[{t:4,k:"n"},{t:3,v:" Teilpunkte"}]}},authorizationPleaseEnterPoints:{t:0,b:{t:2,i:[{t:3}],s:"Bitte geben Sie eine Bewertung ein, damit eine Note vergeben werden kann."}},authorizationPleaseEnterSummary:{t:0,b:{t:2,i:[{t:3}],s:"Bitte stellen Sie ein Gutachten bereit."}},authorizationPointsLabel:{t:0,b:{t:2,i:[{t:3}],s:"Eigene Bewertung:"}},authorizationPointsSuffix:{t:0,b:{t:2,i:[{t:3}],s:"Punkte"}},authorizationPointsMismatch:{t:0,b:{t:2,i:[{t:3,v:"Ihre Bewertung weicht von der automatischen berechneten Summe der vergebenen Punkte ("},{t:5,i:0},{t:3,v:") ab. Bitte beachten Sie, dass diese Punkte bei der Einsichtnahme erkennbar sind."}]}},authorizationSummaryLabel:{t:0,b:{t:2,i:[{t:3}],s:"Gutachten:"}},authorizationSummaryEdit:{t:0,b:{t:2,i:[{t:3}],s:"Gutachten bearbeiten"}},authorizationWarnFinalize:{t:0,b:{t:2,i:[{t:3}],s:"Durch die Freigabe wird Ihre Korrektur festgeschrieben. Sie knnen sie anschlieend nicht mehr ndern. Mchten Sie Ihre Korrektur freigeben?"}},authorizationWarnStitchDecision:{t:0,b:{t:2,i:[{t:3,v:"Ihre Bewertung wird einen Stichentscheid erfordern: "},{t:5,i:0}]}},authorizationTitle:{t:0,b:{t:2,i:[{t:3,v:"Korrektur von "},{t:5,i:0},{t:3,v:" freigeben"}]}},correctionsFirstCorrection:{t:0,b:{t:2,i:[{t:3}],s:"(Erstkorrektur)"}},correctorsNthCorrector:{t:0,b:{t:2,i:[{t:3,v:"("},{t:5,i:0},{t:3,v:". Korrektur)"}]}},correctionsSecondCorrection:{t:0,b:{t:2,i:[{t:3}],s:"(Zweitkorrektur)"}},correctionsStitchCorrection:{t:0,b:{t:2,i:[{t:3}],s:"(Stichentscheid)"}},essayImageZoomIn:{t:0,b:{t:2,i:[{t:3}],s:"Anzeige der Abgabe vergrern"}},essayImageZoomOut:{t:0,b:{t:2,i:[{t:3}],s:"Anzeige der Abgabe verkleinern"}},essayZoomIn:{t:0,b:{t:2,i:[{t:3}],s:"Anzeige der Abgabe vergrern"}},essayZoomOut:{t:0,b:{t:2,i:[{t:3}],s:"Anzeige der Abgabe verkleinern"}},helpAction:{t:0,b:{t:2,i:[{t:3}],s:"Aktion"}},helpButton:{t:0,b:{t:2,i:[{t:3}],s:"Tastenbefehle"}},helpCloseHelp:{t:0,b:{t:2,i:[{t:3}],s:"Hilfe schlieen"}},helpCommandBold:{t:0,b:{t:2,i:[{t:3}],s:"Fett"}},helpCommandH1:{t:0,b:{t:2,i:[{t:3}],s:"berschrift 1"}},helpCommandH2:{t:0,b:{t:2,i:[{t:3}],s:"berschrift 2"}},helpCommandH3:{t:0,b:{t:2,i:[{t:3}],s:"berschrift 3"}},helpCommandH4:{t:0,b:{t:2,i:[{t:3}],s:"berschrift 4"}},helpCommandH5:{t:0,b:{t:2,i:[{t:3}],s:"berschrift 5"}},helpCommandH6:{t:0,b:{t:2,i:[{t:3}],s:"berschrift 6"}},helpCommandItalic:{t:0,b:{t:2,i:[{t:3}],s:"Kursiv"}},helpCommandParagraph:{t:0,b:{t:2,i:[{t:3}],s:"Absatz"}},helpCommandRedo:{t:0,b:{t:2,i:[{t:3}],s:"Wiederholen"}},helpCommandSelectAll:{t:0,b:{t:2,i:[{t:3}],s:"Alles auswhlen"}},helpCommundUnderline:{t:0,b:{t:2,i:[{t:3}],s:"Unterstrichen"}},helpCommandUndo:{t:0,b:{t:2,i:[{t:3}],s:"Rckgngig machen"}},helpComments:{t:0,b:{t:2,i:[{t:3}],s:"Anmerkungen"}},helpCommentsDelete:{t:0,b:{t:2,i:[{t:3}],s:"Anmerkung lschen"}},helpCommentsJumpToCriteria:{t:0,b:{t:2,i:[{t:3}],s:"Zu Bewertungskriterien springen (falls vorhanden)"}},helpCommentsJumpToMark:{t:0,b:{t:2,i:[{t:3}],s:"Zur Markierung im Text springen"}},helpCommentsReturnFromCriteria:{t:0,b:{t:2,i:[{t:3}],s:"Von Bewertungskriterien zurckkehren"}},helpCommentsSelect:{t:0,b:{t:2,i:[{t:3}],s:"Bearbeitung ffnen"}},helpEssay:{t:0,b:{t:2,i:[{t:3}],s:"Abgabe-Text"}},helpEssayCreateComment:{t:0,b:{t:2,i:[{t:3}],s:"Anmerkung fr Auswahl erzeugen"}},helpEssayJumpToComment:{t:0,b:{t:2,i:[{t:3}],s:"Anmerkung bei Cursor anspringen"}},helpEssayMoveCursor:{t:0,b:{t:2,i:[{t:3}],s:"Cursor bewegen"}},helpEssaySelectText:{t:0,b:{t:2,i:[{t:3}],s:"Text auswhlen"}},helpEssayUnselectText:{t:0,b:{t:2,i:[{t:3}],s:"Textauswahl entfernen"}},helpContentLeftColumn:{t:0,b:{t:2,i:[{t:3}],s:"Inhalt linke Spalte"}},helpContentRightColumn:{t:0,b:{t:2,i:[{t:3}],s:"Inhalt rechte Spalte"}},helpEditorCommands:{t:0,b:{t:2,i:[{t:3}],s:"Tastenbefehle im Gutachten"}},helpEditorNavigation:{t:0,b:{t:2,i:[{t:3}],s:"Navigation im Gutachten"}},helpGeneralNavigation:{t:0,b:{t:2,i:[{t:3}],s:"Allgemeine Navigation"}},helpHeaderButtons:{t:0,b:{t:2,i:[{t:3}],s:"Schaltflchen der Kopfzeile"}},helpNavigationButtons:{t:0,b:{t:2,i:[{t:3}],s:"Schaltflchen der Navigazionsleiste"}},helpKeyEsc:{t:0,b:{t:2,i:[{t:3}],s:"Esc"}},helpKeyAlt0:{t:0,b:{t:2,i:[{t:3}],s:"Alt + 0"}},helpKeyAlt1:{t:0,b:{t:2,i:[{t:3}],s:"Alt + 1"}},helpKeyAlt2:{t:0,b:{t:2,i:[{t:3}],s:"Alt + 2"}},helpKeyAltDel:{t:0,b:{t:2,i:[{t:3}],s:"Alt + Entfernen"}},helpKeyAltF10:{t:0,b:{t:2,i:[{t:3}],s:"Alt + F10"}},helpKeyAltNum:{t:0,b:{t:2,i:[{t:3}],s:"Alt + #"}},helpKeyAltReturn:{t:0,b:{t:2,i:[{t:3}],s:"Alt + Eingabetaste"}},helpKeyCtrlA:{t:0,b:{t:2,i:[{t:3}],s:"Ctrl + A"}},helpKeyCtrlB:{t:0,b:{t:2,i:[{t:3}],s:"Ctrl + B"}},helpKeyCtrlI:{t:0,b:{t:2,i:[{t:3}],s:"Ctrl + I"}},helpKeyCtrlU:{t:0,b:{t:2,i:[{t:3}],s:"Ctrl + U"}},helpKeyCtrlYOrCtrlShiftZ:{t:0,b:{t:2,i:[{t:3}],s:"Ctrl + Y oder Ctrl + Shift + Z"}},helpKeyCtrlZ:{t:0,b:{t:2,i:[{t:3}],s:"Ctrl + Z"}},helpKeyF1:{t:0,b:{t:2,i:[{t:3}],s:"F1"}},helpKeyF1InSnippets:{t:0,b:{t:2,i:[{t:3}],s:"F1 in Textbaustein-Auswahl"}},helpKeyReturn:{t:0,b:{t:2,i:[{t:3}],s:"Eingabetaste"}},helpKeyReturnOnFocusedLabel:{t:0,b:{t:2,i:[{t:3}],s:"Eingabetaste auf Etikett im Focus"}},helpKeyReturnOnFocusedPoints:{t:0,b:{t:2,i:[{t:3}],s:"Eingabetaste auf Punkten im Focus"}},helpKeyReturnWhenNotSelected:{t:0,b:{t:2,i:[{t:3}],s:"Eingabetaste, wenn kein Text ausgewhlt"}},helpKeyReturnWhenSelected:{t:0,b:{t:2,i:[{t:3}],s:"Eingabetaste wenn Text ausgewht"}},helpKeyShiftAlt1:{t:0,b:{t:2,i:[{t:3}],s:"Shift + Alt + 1"}},helpKeyShiftAlt2:{t:0,b:{t:2,i:[{t:3}],s:"Shift + Alt + 2"}},helpKeyShiftAlt3:{t:0,b:{t:2,i:[{t:3}],s:"Shift + Alt + 3"}},helpKeyShiftAlt4:{t:0,b:{t:2,i:[{t:3}],s:"Shift + Alt + 4"}},helpKeyShiftAlt5:{t:0,b:{t:2,i:[{t:3}],s:"Shift + Alt + 5"}},helpKeyShiftAlt6:{t:0,b:{t:2,i:[{t:3}],s:"Shift + Alt + 6"}},helpKeyShiftAlt7:{t:0,b:{t:2,i:[{t:3}],s:"Shift + Alt + 7"}},helpKeyShiftTab:{t:0,b:{t:2,i:[{t:3}],s:"Shift + Tab"}},helpKeysArrows:{t:0,b:{t:2,i:[{t:3}],s:"Pfeiltasten"}},helpKeysLeftRight:{t:0,b:{t:2,i:[{t:3}],s:"Pfeil links und rechts"}},helpKeysShiftArrows:{t:0,b:{t:2,i:[{t:3}],s:"Shift + Pfeiltasten"}},helpKeyTab:{t:0,b:{t:2,i:[{t:3}],s:"Tab"}},helpKeysUpDown:{t:0,b:{t:2,i:[{t:3}],s:"Pfeil abwrts und aufwrts"}},helpNextElement:{t:0,b:{t:2,i:[{t:3}],s:"Nchstes Element"}},helpPopupBlockFormatsClose:{t:0,b:{t:2,i:[{t:3}],s:"Popup der Absatzformate schlieen"}},helpPopupBlockFormatsNavigate:{t:0,b:{t:2,i:[{t:3}],s:"Im Popup zwischen Absatzformaten wechseln"}},helpPopupBlockFormatsSelect:{t:0,b:{t:2,i:[{t:3}],s:"Im Popup ein Absatzformat whlen"}},helpPopupBlockFormatsShow:{t:0,b:{t:2,i:[{t:3}],s:"Popup der Absatzformate aufklappen"}},helpPreviousElement:{t:0,b:{t:2,i:[{t:3}],s:"Vorheriges Element"}},helpShortcut:{t:0,b:{t:2,i:[{t:3}],s:"Tastenbefehl"}},helpSnippetsApply:{t:0,b:{t:2,i:[{t:3}],s:"Textbaustein bernehmen"}},helpSnippetsOpen:{t:0,b:{t:2,i:[{t:3}],s:"Textbaustein auswhlen"}},helpToolbarFocusIn:{t:0,b:{t:2,i:[{t:3}],s:"In Symbolleiste wechseln"}},helpToolbarFocusOut:{t:0,b:{t:2,i:[{t:3}],s:"Symbolleiste verlassen"}},helpToolbarNavigate:{t:0,b:{t:2,i:[{t:3}],s:"In Symbolleiste zwischen Schaltflchen wechseln"}},instructionsZoomOut:{t:0,b:{t:2,i:[{t:3}],s:"Aufgabenstellung Text verkleinern"}},instructionsZoomIn:{t:0,b:{t:2,i:[{t:3}],s:"Aufgabenstellung Text vergrern"}},itemsPreviousWriter:{t:0,b:{t:2,i:[{t:3}],s:"Vorheriger Teilnehmer"}},itemsNextWriter:{t:0,b:{t:2,i:[{t:3}],s:"Nchster Teilnehmer"}},itemsSuffixApproximation:{t:0,b:{t:2,i:[{t:3}],s:"- in Annherung"}},itemsSuffixAuthorized:{t:0,b:{t:2,i:[{t:3}],s:"- freigegeben"}},itemsSuffixConsulting:{t:0,b:{t:2,i:[{t:3}],s:"- in Beratung"}},itemsSuffixFinalized:{t:0,b:{t:2,i:[{t:3}],s:"- abgeschlossen"}},itemsSuffixOpen:{t:0,b:{t:2,i:[{t:3}],s:"- offen"}},itemsSuffixPregraded:{t:0,b:{t:2,i:[{t:3}],s:"- vorbenotet"}},itemsSuffixStitch:{t:0,b:{t:2,i:[{t:3}],s:"- im Stichentscheid"}},itemsWriter:{t:0,b:{t:2,i:[{t:3}],s:"Teilnehmer/in"}},mainContentExpand:{t:0,b:{t:2,i:[{t:3}],s:"Erweitern"}},mainContentExpandLeftColumn:{t:0,b:{t:2,i:[{t:3}],s:"Linke Spalte erweitern"}},mainContentExpandRightColumn:{t:0,b:{t:2,i:[{t:3}],s:"Rechte Spalte erweitern"}},mainContentLeftColumn:{t:0,b:{t:2,i:[{t:3}],s:"Linke Spalte"}},mainContentRightColumn:{t:0,b:{t:2,i:[{t:3}],s:"Rechte Spalte"}},mainContentSendFailureLine1:{t:0,b:{t:2,i:[{t:3}],s:"Ihre letzten nderungen zu diesem Teilnehmer konnten nicht bertragen werden, sind aber lokal gespeichert."}},mainContentSendFailureLine2:{t:0,b:{t:2,i:[{t:3}],s:"Sie knnen diese Meldung schlieen und warten bis Ihre nderungen wieder automatisch gespeichert werden (Siehe Seitenfu)."}},mainContentSendFailureLine3:{t:0,b:{t:2,i:[{t:3}],s:"Alternativ knnen Sie die Korrektur jetzt abbrechen und spter wieder aufrufen, um die nderungen nachtrglich zu speichern."}},mainContentShowOtherCorrections:{t:0,b:{t:2,i:[{t:3}],s:"Andere Korrektoren zeigen"}},mainContentStopCorrection:{t:0,b:{t:2,i:[{t:3}],s:"Korrektur abbrechen"}},markingCommentSum:{t:0,b:{t:2,i:[{t:3}],s:"Summe:"}},markingCommentPointsCriterion:{t:0,b:{t:2,i:[{t:3}],s:"Bewertungskriterium"}},markingCommentPointsPleaseSelect:{t:0,b:{t:2,i:[{t:3}],s:"Bitte whlen Sie eine Anmerkung aus."}},markingCommentPointsWithoutCriterion:{t:0,b:{t:2,i:[{t:3}],s:"Allgemein"}},markingCommentPointsSumOfMax:{t:0,b:{t:2,i:[{t:3}],s:"Summe /max."}},markingCommentsCommentForLabel:{t:0,b:{t:2,i:[{t:3,v:"Anmerkung zur Markierung "},{t:5,i:0}]}},markingCommentsDelete:{t:0,b:{t:2,i:[{t:3}],s:"Anmerkung lschen"}},markingGeneralPointsMax:{t:0,b:{t:2,i:[{t:3}],s:"max."}},markingGeneralPointsCriterion:{t:0,b:{t:2,i:[{t:3}],s:"Bewertungskriterium"}},markingOpenSnippets:{t:0,b:{t:2,i:[{t:3}],s:"Textbausteine (F1)"}},navBarSelected:{t:0,b:{t:2,i:[{t:3}],s:" (ausgewhlt)"}},navBarSelectedAria:{t:0,b:{t:2,i:[{t:3}],s:", ist ausgewhlt"}},otherSummaryNotAuthorized:{t:0,b:{t:2,i:[{t:3}],s:"Diese Korrektur ist noch nicht freigegeben."}},ownSummaryIncludesCommentPoints:{t:0,b:{t:2,i:[{t:3}],s:"Punkte zu Anmerkungen"}},ownSummaryIncludesCommentPointsInfo:{t:0,b:{t:2,i:[{t:3}],s:"Bei jeder Anmerkung wird die vergebene Punktzahl angezeigt."}},ownSummaryIncludesCriteriaPoints:{t:0,b:{t:2,i:[{t:3}],s:"Punkte zu Kriterien"}},ownSummaryIncludesCriteriaPointsInfo:{t:0,b:{t:2,i:[{t:3}],s:"Es wird eine Tabelle mit den Bewertungskriterien und den dafr erreichten Punkten angezeigt."}},ownSummaryIncludesIncludeInfo:{t:0,b:{t:2,i:[{t:3}],s:"informativ"}},ownSummaryIncludesIncludeNot:{t:0,b:{t:2,i:[{t:3}],s:"nicht einbeziehen"}},ownSummaryIncludesIncludeRelevant:{t:0,b:{t:2,i:[{t:3}],s:"bewertungsrelevant"}},ownSummaryIncludesLabelInclude:{t:0,b:{t:2,i:[{t:3}],s:"Einbeziehen:"}},ownSummaryIncludesMarksAndComments:{t:0,b:{t:2,i:[{t:3}],s:"Markierungen und Anmerkungen"}},ownSummaryIncludesMarksAndCommentsInfo:{t:0,b:{t:2,i:[{t:3}],s:"Es wird der abgegebene Text mit markierten Stellen und Anmerkungen am Rand eingefgt."}},ownSummaryIncludesRatingsInfo:{t:0,b:{t:2,i:[{t:3}],s:"Bei jeder Anmerkung wird die vergebene Auszeichnung angezeigt."}},ownSummaryIncludesTitle:{t:0,b:{t:2,i:[{t:3}],s:"In die PDF-Dokumentation der Korrektur einbeziehen"}},ownSummaryIncludesUpdatePreferences:{t:0,b:{t:2,i:[{t:3}],s:"Als Vorgabe fr andere Korekturen bernehmen, bei denen noch keine Auswahl getroffen wurde. Bereits aktiv getroffene Auwahlen bleiben unverndert."}},ownSummaryPointsRating:{t:0,b:{t:2,i:[{t:3}],s:"Eigene Bewertung:"}},ownSummaryPregraded:{t:0,b:{t:2,i:[{t:3}],s:"vorbenotet"}},ownSummaryRevisionTextHiddenField:{t:0,b:{t:2,i:[{t:3}],s:"Verborgenes Feld zur berarbeitung"}},ownSummaryTextHiddenField:{t:0,b:{t:2,i:[{t:3}],s:"Verborgenes Feld zum Gutachten"}},ownSummaryUploadDeleteTitle:{t:0,b:{t:2,i:[{t:3}],s:"PDF-Datei des Gutachtens lschen"}},ownSummaryUploadDeleteInfo:{t:0,b:{t:2,i:[{t:3}],s:"Wenn Sie die PDF-Datei lschen, knnen Sie wieder einen Text eingeben oder eine andere Datei hochladen."}},ownSummaryUploadTitle:{t:0,b:{t:2,i:[{t:3}],s:"Gutachten als PDF-Datei hochladen"}},ownSummaryUploadTextWarning:{t:0,b:{t:2,i:[{t:3}],s:"Bitte lschen Sie den Gutachten-Text, bevor Sie ein Gutachten als PDF-Datei hochladen."}},SendingStatusSending:{t:0,b:{t:2,i:[{t:3}],s:"nderungen werden gesendet"}},SendingStatusSend:{t:0,b:{t:2,i:[{t:3}],s:"Letzte nderung senden"}},SendingStatusSent:{t:0,b:{t:2,i:[{t:3}],s:"Alles gesendet"}},settingsHeading:{t:0,b:{t:2,i:[{t:3}],s:"berschrift"}},settingsHeading1:{t:0,b:{t:2,i:[{t:3}],s:"berschrift 1"}},settingsHeading2:{t:0,b:{t:2,i:[{t:3}],s:"berschrift 2"}},settingsHeading3:{t:0,b:{t:2,i:[{t:3}],s:"berschrift 3"}},settingsHeading4:{t:0,b:{t:2,i:[{t:3}],s:"berschrift 4"}},settingsHeading5:{t:0,b:{t:2,i:[{t:3}],s:"berschrift 5"}},settingsHeading6:{t:0,b:{t:2,i:[{t:3}],s:"berschrift 6"}},settingsListElement:{t:0,b:{t:2,i:[{t:3}],s:"Listenelement"}},settingsParagraph:{t:0,b:{t:2,i:[{t:3}],s:"Absatz"}},settingsProcedureApproximation:{t:0,b:{t:2,i:[{t:3}],s:"Annherung"}},settingsProcedureConsulting:{t:0,b:{t:2,i:[{t:3}],s:"Beratung"}},settingsProcedureNone:{t:0,b:{t:2,i:[{t:3}],s:"Kein Verfahren"}},settingsRatingPositive:{t:0,b:{t:2,i:[{t:3}],s:"Exzellent"}},settingsRatingNegative:{t:0,b:{t:2,i:[{t:3}],s:"Kardinal"}},settingsTypewriter:{t:0,b:{t:2,i:[{t:3}],s:"Maschinenschrift"}},snippetsNewSnippet:{t:0,b:{t:2,i:[{t:3}],s:"--- neuer Baustein ---"}},snippetsEdit:{t:0,b:{t:2,i:[{t:3}],s:"Bearbeiten:"}},snippetsSelect:{t:0,b:{t:2,i:[{t:3}],s:"Auswhlen:"}},snippetsSnippet:{t:0,b:{t:2,i:[{t:3}],s:"Textbaustein"}},startupContentLoadData:{t:0,b:{t:2,i:[{t:3}],s:"LadeDaten..."}},startupContentLoadError:{t:0,b:{t:2,i:[{t:3}],s:"Fehler beim Laden"}},startupContentLoadItemError:{t:0,b:{t:2,i:[{t:3}],s:"Beim Laden der zu korrigierenden Abgabe ist ein Fehler aufgetreten. Die Korrekturoberflche kann nicht gestartet werden."}},startupContentMyCorrections:{t:0,b:{t:2,i:[{t:3}],s:"Meine Korrekturen"}},startupContentDataReplaceInfo1:{t:0,b:{t:2,i:[{t:3}],s:"In Ihrem Browser sind Daten eines anderen Korrektors oder einer anderen Aufgabe vorhanden, die noch nicht bertragen wurden:"}},startupContentDataReplaceInfo2:{t:0,b:{t:2,i:[{t:3}],s:"Durch das Laden der neuen Korrektur werden diese Daten gelscht. Mchten Sie die neuen Daten laden?"}},startupContentDeleteAndLoad:{t:0,b:{t:2,i:[{t:3}],s:"Verwerfen und Laden"}},startupContentItemReplaceInfo1:{t:0,b:{t:2,i:[{t:3}],s:"In Ihrem Browser sind Daten Ihrer vorherigen Bearbeitung vorhanden, die noch nicht bertragen wurden:"}},startupContentItemReplaceInfo2:{t:0,b:{t:2,i:[{t:3}],s:"Sie knnen mit diesen Daten weiter arbeiten, um sie nachtrglich zu bertragen oder sie verwerfen."}},startupContentDeleteLocalData:{t:0,b:{t:2,i:[{t:3}],s:"Lokale Daten verwerfen"}},startupContentKeepLocalData:{t:0,b:{t:2,i:[{t:3}],s:"Mit lokalen Daten weiter arbeiten"}},stichDecision:{t:0,b:{t:2,i:[{t:3}],s:"Stichentscheid"}},revisionFix:{t:0,b:{t:2,i:[{t:3}],s:"Freigeben"}},revisionFixAndContinue:{t:0,b:{t:2,i:[{t:3}],s:"Freigeben und Weiter"}},revisionFixAndClose:{t:0,b:{t:2,i:[{t:3}],s:"Freigeben und Schlieen"}},revisionFixApproximationTitle:{t:0,b:{t:2,i:[{t:3}],s:"Annherung freigeben"}},revisionFixConsultingTitle:{t:0,b:{t:2,i:[{t:3}],s:"Beratungsergebnis freigeben"}},revisionButton:{t:0,b:{t:2,i:[{t:3}],s:"Freigeben..."}},revisionPleaseEnterPoints:{t:0,b:{t:2,i:[{t:3}],s:"Bitte geben Sie eine neue Bewertung ein."}},revisionPleaseEnterText:{t:0,b:{t:2,i:[{t:3}],s:"Bitte geben Sie eine Begrndung ein."}},revisionRequireOtherRevision:{t:0,b:{t:2,i:[{t:3}],s:"Hiermit rume ich der Zweitkorrektur die Mglichkeit ein, sich anzunhern."}},authorizationPleaseEnterText:{t:0,b:{t:2,i:[{t:3}],s:"Bitte geben Sie eine Begrndung ein."}},revisionPointsLabel:{t:0,b:{t:2,i:[{t:3}],s:"Neue Bewertung:"}},revisionTextLabel:{t:0,b:{t:2,i:[{t:3}],s:"Begrndung:"}},revisionTextEdit:{t:0,b:{t:2,i:[{t:3}],s:"Begrndung bearbeiten"}},revisionWarnStitchDecision:{t:0,b:{t:2,i:[{t:3,v:"Ihre Bewertung wird einen Stichentscheid erfordern: "},{t:5,i:0}]}},revisionWarnFinalize:{t:0,b:{t:2,i:[{t:3}],s:"Mchten Sie Ihre neue Bewertung freigeben? Sie knnen sie anschlieend nicht mehr ndern."}},sumOfPointsLabel:{t:0,b:{t:2,i:[{t:3}],s:"Summe der Teilpunkte: "}},sumOfPointsToCriteriaInComments:{t:0,b:{t:2,i:[{t:3}],s:"(zu Kriterien bei Anmerkungen)"}},sumOfPointsToComments:{t:0,b:{t:2,i:[{t:3}],s:"(zu Anmerkungen)"}},sumOfPointsNCommentCriteriaMGeneralCriteria:{t:0,b:{t:2,i:[{t:3,v:"("},{t:5,i:0},{t:3,v:" zu Kriterien bei Anmerkungen, "},{t:5,i:1},{t:3,v:" zu allgemeinen Kriterien)"}]}},sumOfPointsNCommentsMGeneralCriteria:{t:0,b:{t:2,i:[{t:3,v:"("},{t:5,i:0},{t:3,v:" zu Anmerkungen, "},{t:5,i:1},{t:3,v:" zu allgemeinen Kriterien)"}]}},summariesIncludeComments:{t:0,b:{t:2,i:[{t:3}],s:"Anmerkungen"}},summariesIncludeCommentRatings:{t:0,b:{t:2,i:[{t:3}],s:"Positiv/Negativbewerungen"}},summariesIncludeNoDetails:{t:0,b:{t:2,i:[{t:3}],s:"keine Detail-Informationen"}},summariesIncludePartialPoints:{t:0,b:{t:2,i:[{t:3}],s:"Teilpunkte"}},summariesPointsOutsideMinMax:{t:0,b:{t:2,i:[{t:3,v:"Ihre Bewertung muss zwischen "},{t:5,i:0},{t:3,v:" und "},{t:5,i:1},{t:3,v:" Punkten liegen!"}]}},summariesPointsDifferText:{t:0,b:{t:1,c:[{t:2,i:[{t:3,v:"Der Punkteunterschied bersteigt "},{t:4,k:"n"},{t:3,v:" Punkt."}]},{t:2,i:[{t:3,v:"Der Punkteunterschied bersteigt "},{t:4,k:"n"},{t:3,v:" Punkte."}]}]}},summariesProcedureApproximationNeeded:{t:0,b:{t:2,i:[{t:3,v:"Ihre Bewertung wird ein Annherungsverfahren erfordern: "},{t:5,i:0}]}},summariesProcedureConsultingNeeded:{t:0,b:{t:2,i:[{t:3,v:"Ihre Bewertung wird ein Beratungsverfahren erfordern: "},{t:5,i:0}]}},summariesProcedureStitchNeeded:{t:0,b:{t:2,i:[{t:3,v:"Ihre Bewertung wird einen Stichentscheid erfordern: "},{t:5,i:0}]}},summariesNoGrade:{t:0,b:{t:2,i:[{t:3}],s:"ohne Note"}},summaryCriteriaInComments:{t:0,b:{t:2,i:[{t:3}],s:"Bewertungskriterien bei Anmerkungen"}},summaryCriteriaGeneralCriteria:{t:0,b:{t:2,i:[{t:3}],s:"Allgemeine Bewertungskriterien (Kopfnoten)"}},summaryCriteriaMarkings:{t:0,b:{t:2,i:[{t:3}],s:"Auszeichnungen"}},summaryCriteriaNumber:{t:0,b:{t:2,i:[{t:3}],s:"Anzahl"}},summaryCriteriaPointsInComments:{t:0,b:{t:2,i:[{t:3}],s:"Punkte in Kommentaren"}},summaryCriteriaPointsOfMax:{t:0,b:{t:2,i:[{t:3}],s:"Punkte /max"}},summaryCriteriaRating:{t:0,b:{t:2,i:[{t:3}],s:"Bewertung"}},summaryPointsInclude:{t:0,b:{t:2,i:[{t:3}],s:"Einbeziehen:"}},summaryPointsRating:{t:0,b:{t:2,i:[{t:3}],s:"Bewertung:"}},summaryRevisionRating:{t:0,b:{t:2,i:[{t:3}],s:"Neue Bewertung:"}},tasksNextTask:{t:0,b:{t:2,i:[{t:3}],s:"Nchste Teilaufgabe"}},tasksPreviousTask:{t:0,b:{t:2,i:[{t:3}],s:"Vorherige Teilaufgabe"}},tasksTask:{t:0,b:{t:2,i:[{t:3}],s:"Teilaufgabe"}},tinyHelperIframeAriaText:{t:0,b:{t:2,i:[{t:3}],s:"Gutachten-Editor"}}}}),$d=Abe({locale:"de",messages:Ibe});function Dbe(t){t.use(Khe).use(Jhe).use($d)}function QQ(t,r){return function(){return t.apply(r,arguments)}}const{toString:Pbe}=Object.prototype,{getPrototypeOf:QW}=Object,{iterator:XF,toStringTag:eee}=Symbol,JF=(t=>r=>{const i=Pbe.call(r);return t[i]||(t[i]=i.slice(8,-1).toLowerCase())})(Object.create(null)),hp=t=>(t=t.toLowerCase(),r=>JF(r)===t),QF=t=>r=>typeof r===t,{isArray:$E}=Array,GR=QF("undefined");function Nbe(t){return t!==null&&!GR(t)&&t.constructor!==null&&!GR(t.constructor)&&_f(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const tee=hp("ArrayBuffer");function Lbe(t){let r;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?r=ArrayBuffer.isView(t):r=t&&t.buffer&&tee(t.buffer),r}const Mbe=QF("string"),_f=QF("function"),nee=QF("number"),e8=t=>t!==null&&typeof t=="object",Bbe=t=>t===!0||t===!1,j6=t=>{if(JF(t)!=="object")return!1;const r=QW(t);return(r===null||r===Object.prototype||Object.getPrototypeOf(r)===null)&&!(eee in t)&&!(XF in t)},Fbe=hp("Date"),$be=hp("File"),Vbe=hp("Blob"),zbe=hp("FileList"),Hbe=t=>e8(t)&&_f(t.pipe),Ube=t=>{let r;return t&&(typeof FormData=="function"&&t instanceof FormData||_f(t.append)&&((r=JF(t))==="formdata"||r==="object"&&_f(t.toString)&&t.toString()==="[object FormData]"))},Wbe=hp("URLSearchParams"),[Kbe,jbe,Zbe,Gbe]=["ReadableStream","Request","Response","Headers"].map(hp),qbe=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function pI(t,r,{allOwnKeys:i=!1}={}){if(t===null||typeof t>"u")return;let u,g;if(typeof t!="object"&&(t=[t]),$E(t))for(u=0,g=t.length;u<g;u++)r.call(null,t[u],u,t);else{const h=i?Object.getOwnPropertyNames(t):Object.keys(t),x=h.length;let w;for(u=0;u<x;u++)w=h[u],r.call(null,t[w],w,t)}}function oee(t,r){r=r.toLowerCase();const i=Object.keys(t);let u=i.length,g;for(;u-- >0;)if(g=i[u],r===g.toLowerCase())return g;return null}const RC=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,see=t=>!GR(t)&&t!==RC;function oW(){const{caseless:t}=see(this)&&this||{},r={},i=(u,g)=>{const h=t&&oee(r,g)||g;j6(r[h])&&j6(u)?r[h]=oW(r[h],u):j6(u)?r[h]=oW({},u):$E(u)?r[h]=u.slice():r[h]=u};for(let u=0,g=arguments.length;u<g;u++)arguments[u]&&pI(arguments[u],i);return r}const Ybe=(t,r,i,{allOwnKeys:u}={})=>(pI(r,(g,h)=>{i&&_f(g)?t[h]=QQ(g,i):t[h]=g},{allOwnKeys:u}),t),Xbe=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),Jbe=(t,r,i,u)=>{t.prototype=Object.create(r.prototype,u),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:r.prototype}),i&&Object.assign(t.prototype,i)},Qbe=(t,r,i,u)=>{let g,h,x;const w={};if(r=r||{},t==null)return r;do{for(g=Object.getOwnPropertyNames(t),h=g.length;h-- >0;)x=g[h],(!u||u(x,t,r))&&!w[x]&&(r[x]=t[x],w[x]=!0);t=i!==!1&&QW(t)}while(t&&(!i||i(t,r))&&t!==Object.prototype);return r},eve=(t,r,i)=>{t=String(t),(i===void 0||i>t.length)&&(i=t.length),i-=r.length;const u=t.indexOf(r,i);return u!==-1&&u===i},tve=t=>{if(!t)return null;if($E(t))return t;let r=t.length;if(!nee(r))return null;const i=new Array(r);for(;r-- >0;)i[r]=t[r];return i},nve=(t=>r=>t&&r instanceof t)(typeof Uint8Array<"u"&&QW(Uint8Array)),ove=(t,r)=>{const u=(t&&t[XF]).call(t);let g;for(;(g=u.next())&&!g.done;){const h=g.value;r.call(t,h[0],h[1])}},sve=(t,r)=>{let i;const u=[];for(;(i=t.exec(r))!==null;)u.push(i);return u},rve=hp("HTMLFormElement"),ive=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(i,u,g){return u.toUpperCase()+g}),xY=(({hasOwnProperty:t})=>(r,i)=>t.call(r,i))(Object.prototype),ave=hp("RegExp"),ree=(t,r)=>{const i=Object.getOwnPropertyDescriptors(t),u={};pI(i,(g,h)=>{let x;(x=r(g,h,t))!==!1&&(u[h]=x||g)}),Object.defineProperties(t,u)},lve=t=>{ree(t,(r,i)=>{if(_f(t)&&["arguments","caller","callee"].indexOf(i)!==-1)return!1;const u=t[i];if(_f(u)){if(r.enumerable=!1,"writable"in r){r.writable=!1;return}r.set||(r.set=()=>{throw Error("Can not rewrite read-only method '"+i+"'")})}})},cve=(t,r)=>{const i={},u=g=>{g.forEach(h=>{i[h]=!0})};return $E(t)?u(t):u(String(t).split(r)),i},uve=()=>{},dve=(t,r)=>t!=null&&Number.isFinite(t=+t)?t:r;function fve(t){return!!(t&&_f(t.append)&&t[eee]==="FormData"&&t[XF])}const mve=t=>{const r=new Array(10),i=(u,g)=>{if(e8(u)){if(r.indexOf(u)>=0)return;if(!("toJSON"in u)){r[g]=u;const h=$E(u)?[]:{};return pI(u,(x,w)=>{const I=i(x,g+1);!GR(I)&&(h[w]=I)}),r[g]=void 0,h}}return u};return i(t,0)},gve=hp("AsyncFunction"),hve=t=>t&&(e8(t)||_f(t))&&_f(t.then)&&_f(t.catch),iee=((t,r)=>t?setImmediate:r?((i,u)=>(RC.addEventListener("message",({source:g,data:h})=>{g===RC&&h===i&&u.length&&u.shift()()},!1),g=>{u.push(g),RC.postMessage(i,"*")}))(`axios@${Math.random()}`,[]):i=>setTimeout(i))(typeof setImmediate=="function",_f(RC.postMessage)),pve=typeof queueMicrotask<"u"?queueMicrotask.bind(RC):typeof process<"u"&&process.nextTick||iee,bve=t=>t!=null&&_f(t[XF]),Yt={isArray:$E,isArrayBuffer:tee,isBuffer:Nbe,isFormData:Ube,isArrayBufferView:Lbe,isString:Mbe,isNumber:nee,isBoolean:Bbe,isObject:e8,isPlainObject:j6,isReadableStream:Kbe,isRequest:jbe,isResponse:Zbe,isHeaders:Gbe,isUndefined:GR,isDate:Fbe,isFile:$be,isBlob:Vbe,isRegExp:ave,isFunction:_f,isStream:Hbe,isURLSearchParams:Wbe,isTypedArray:nve,isFileList:zbe,forEach:pI,merge:oW,extend:Ybe,trim:qbe,stripBOM:Xbe,inherits:Jbe,toFlatObject:Qbe,kindOf:JF,kindOfTest:hp,endsWith:eve,toArray:tve,forEachEntry:ove,matchAll:sve,isHTMLForm:rve,hasOwnProperty:xY,hasOwnProp:xY,reduceDescriptors:ree,freezeMethods:lve,toObjectSet:cve,toCamelCase:ive,noop:uve,toFiniteNumber:dve,findKey:oee,global:RC,isContextDefined:see,isSpecCompliantForm:fve,toJSONObject:mve,isAsyncFn:gve,isThenable:hve,setImmediate:iee,asap:pve,isIterable:bve};function Zs(t,r,i,u,g){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",r&&(this.code=r),i&&(this.config=i),u&&(this.request=u),g&&(this.response=g,this.status=g.status?g.status:null)}Yt.inherits(Zs,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Yt.toJSONObject(this.config),code:this.code,status:this.status}}});const aee=Zs.prototype,lee={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{lee[t]={value:t}});Object.defineProperties(Zs,lee);Object.defineProperty(aee,"isAxiosError",{value:!0});Zs.from=(t,r,i,u,g,h)=>{const x=Object.create(aee);return Yt.toFlatObject(t,x,function(I){return I!==Error.prototype},w=>w!=="isAxiosError"),Zs.call(x,t.message,r,i,u,g),x.cause=t,x.name=t.name,h&&Object.assign(x,h),x};const vve=null;function sW(t){return Yt.isPlainObject(t)||Yt.isArray(t)}function cee(t){return Yt.endsWith(t,"[]")?t.slice(0,-2):t}function wY(t,r,i){return t?t.concat(r).map(function(g,h){return g=cee(g),!i&&h?"["+g+"]":g}).join(i?".":""):r}function yve(t){return Yt.isArray(t)&&!t.some(sW)}const xve=Yt.toFlatObject(Yt,{},null,function(r){return/^is[A-Z]/.test(r)});function t8(t,r,i){if(!Yt.isObject(t))throw new TypeError("target must be an object");r=r||new FormData,i=Yt.toFlatObject(i,{metaTokens:!0,dots:!1,indexes:!1},!1,function(ee,re){return!Yt.isUndefined(re[ee])});const u=i.metaTokens,g=i.visitor||O,h=i.dots,x=i.indexes,I=(i.Blob||typeof Blob<"u"&&Blob)&&Yt.isSpecCompliantForm(r);if(!Yt.isFunction(g))throw new TypeError("visitor must be a function");function D(Z){if(Z===null)return"";if(Yt.isDate(Z))return Z.toISOString();if(Yt.isBoolean(Z))return Z.toString();if(!I&&Yt.isBlob(Z))throw new Zs("Blob is not supported. Use a Buffer instead.");return Yt.isArrayBuffer(Z)||Yt.isTypedArray(Z)?I&&typeof Blob=="function"?new Blob([Z]):Buffer.from(Z):Z}function O(Z,ee,re){let H=Z;if(Z&&!re&&typeof Z=="object"){if(Yt.endsWith(ee,"{}"))ee=u?ee:ee.slice(0,-2),Z=JSON.stringify(Z);else if(Yt.isArray(Z)&&yve(Z)||(Yt.isFileList(Z)||Yt.endsWith(ee,"[]"))&&(H=Yt.toArray(Z)))return ee=cee(ee),H.forEach(function(le,j){!(Yt.isUndefined(le)||le===null)&&r.append(x===!0?wY([ee],j,h):x===null?ee:ee+"[]",D(le))}),!1}return sW(Z)?!0:(r.append(wY(re,ee,h),D(Z)),!1)}const N=[],V=Object.assign(xve,{defaultVisitor:O,convertValue:D,isVisitable:sW});function U(Z,ee){if(!Yt.isUndefined(Z)){if(N.indexOf(Z)!==-1)throw Error("Circular reference detected in "+ee.join("."));N.push(Z),Yt.forEach(Z,function(H,de){(!(Yt.isUndefined(H)||H===null)&&g.call(r,H,Yt.isString(de)?de.trim():de,ee,V))===!0&&U(H,ee?ee.concat(de):[de])}),N.pop()}}if(!Yt.isObject(t))throw new TypeError("data must be an object");return U(t),r}function CY(t){const r={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(u){return r[u]})}function eK(t,r){this._pairs=[],t&&t8(t,this,r)}const uee=eK.prototype;uee.append=function(r,i){this._pairs.push([r,i])};uee.toString=function(r){const i=r?function(u){return r.call(this,u,CY)}:CY;return this._pairs.map(function(g){return i(g[0])+"="+i(g[1])},"").join("&")};function wve(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function dee(t,r,i){if(!r)return t;const u=i&&i.encode||wve;Yt.isFunction(i)&&(i={serialize:i});const g=i&&i.serialize;let h;if(g?h=g(r,i):h=Yt.isURLSearchParams(r)?r.toString():new eK(r,i).toString(u),h){const x=t.indexOf("#");x!==-1&&(t=t.slice(0,x)),t+=(t.indexOf("?")===-1?"?":"&")+h}return t}class _Y{constructor(){this.handlers=[]}use(r,i,u){return this.handlers.push({fulfilled:r,rejected:i,synchronous:u?u.synchronous:!1,runWhen:u?u.runWhen:null}),this.handlers.length-1}eject(r){this.handlers[r]&&(this.handlers[r]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(r){Yt.forEach(this.handlers,function(u){u!==null&&r(u)})}}const fee={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Cve=typeof URLSearchParams<"u"?URLSearchParams:eK,_ve=typeof FormData<"u"?FormData:null,Sve=typeof Blob<"u"?Blob:null,kve={isBrowser:!0,classes:{URLSearchParams:Cve,FormData:_ve,Blob:Sve},protocols:["http","https","file","blob","url","data"]},tK=typeof window<"u"&&typeof document<"u",rW=typeof navigator=="object"&&navigator||void 0,Eve=tK&&(!rW||["ReactNative","NativeScript","NS"].indexOf(rW.product)<0),Ave=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Tve=tK&&window.location.href||"http://localhost",Ove=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:tK,hasStandardBrowserEnv:Eve,hasStandardBrowserWebWorkerEnv:Ave,navigator:rW,origin:Tve},Symbol.toStringTag,{value:"Module"})),zu={...Ove,...kve};function Rve(t,r){return t8(t,new zu.classes.URLSearchParams,Object.assign({visitor:function(i,u,g,h){return zu.isNode&&Yt.isBuffer(i)?(this.append(u,i.toString("base64")),!1):h.defaultVisitor.apply(this,arguments)}},r))}function Ive(t){return Yt.matchAll(/\w+|\[(\w*)]/g,t).map(r=>r[0]==="[]"?"":r[1]||r[0])}function Dve(t){const r={},i=Object.keys(t);let u;const g=i.length;let h;for(u=0;u<g;u++)h=i[u],r[h]=t[h];return r}function mee(t){function r(i,u,g,h){let x=i[h++];if(x==="__proto__")return!0;const w=Number.isFinite(+x),I=h>=i.length;return x=!x&&Yt.isArray(g)?g.length:x,I?(Yt.hasOwnProp(g,x)?g[x]=[g[x],u]:g[x]=u,!w):((!g[x]||!Yt.isObject(g[x]))&&(g[x]=[]),r(i,u,g[x],h)&&Yt.isArray(g[x])&&(g[x]=Dve(g[x])),!w)}if(Yt.isFormData(t)&&Yt.isFunction(t.entries)){const i={};return Yt.forEachEntry(t,(u,g)=>{r(Ive(u),g,i,0)}),i}return null}function Pve(t,r,i){if(Yt.isString(t))try{return(r||JSON.parse)(t),Yt.trim(t)}catch(u){if(u.name!=="SyntaxError")throw u}return(i||JSON.stringify)(t)}const bI={transitional:fee,adapter:["xhr","http","fetch"],transformRequest:[function(r,i){const u=i.getContentType()||"",g=u.indexOf("application/json")>-1,h=Yt.isObject(r);if(h&&Yt.isHTMLForm(r)&&(r=new FormData(r)),Yt.isFormData(r))return g?JSON.stringify(mee(r)):r;if(Yt.isArrayBuffer(r)||Yt.isBuffer(r)||Yt.isStream(r)||Yt.isFile(r)||Yt.isBlob(r)||Yt.isReadableStream(r))return r;if(Yt.isArrayBufferView(r))return r.buffer;if(Yt.isURLSearchParams(r))return i.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),r.toString();let w;if(h){if(u.indexOf("application/x-www-form-urlencoded")>-1)return Rve(r,this.formSerializer).toString();if((w=Yt.isFileList(r))||u.indexOf("multipart/form-data")>-1){const I=this.env&&this.env.FormData;return t8(w?{"files[]":r}:r,I&&new I,this.formSerializer)}}return h||g?(i.setContentType("application/json",!1),Pve(r)):r}],transformResponse:[function(r){const i=this.transitional||bI.transitional,u=i&&i.forcedJSONParsing,g=this.responseType==="json";if(Yt.isResponse(r)||Yt.isReadableStream(r))return r;if(r&&Yt.isString(r)&&(u&&!this.responseType||g)){const x=!(i&&i.silentJSONParsing)&&g;try{return JSON.parse(r)}catch(w){if(x)throw w.name==="SyntaxError"?Zs.from(w,Zs.ERR_BAD_RESPONSE,this,null,this.response):w}}return r}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:zu.classes.FormData,Blob:zu.classes.Blob},validateStatus:function(r){return r>=200&&r<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Yt.forEach(["delete","get","head","post","put","patch"],t=>{bI.headers[t]={}});const Nve=Yt.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Lve=t=>{const r={};let i,u,g;return t&&t.split(`
`).forEach(function(x){g=x.indexOf(":"),i=x.substring(0,g).trim().toLowerCase(),u=x.substring(g+1).trim(),!(!i||r[i]&&Nve[i])&&(i==="set-cookie"?r[i]?r[i].push(u):r[i]=[u]:r[i]=r[i]?r[i]+", "+u:u)}),r},SY=Symbol("internals");function bR(t){return t&&String(t).trim().toLowerCase()}function Z6(t){return t===!1||t==null?t:Yt.isArray(t)?t.map(Z6):String(t)}function Mve(t){const r=Object.create(null),i=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let u;for(;u=i.exec(t);)r[u[1]]=u[2];return r}const Bve=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function X9(t,r,i,u,g){if(Yt.isFunction(u))return u.call(this,r,i);if(g&&(r=i),!!Yt.isString(r)){if(Yt.isString(u))return r.indexOf(u)!==-1;if(Yt.isRegExp(u))return u.test(r)}}function Fve(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(r,i,u)=>i.toUpperCase()+u)}function $ve(t,r){const i=Yt.toCamelCase(" "+r);["get","set","has"].forEach(u=>{Object.defineProperty(t,u+i,{value:function(g,h,x){return this[u].call(this,r,g,h,x)},configurable:!0})})}let Sf=class{constructor(r){r&&this.set(r)}set(r,i,u){const g=this;function h(w,I,D){const O=bR(I);if(!O)throw new Error("header name must be a non-empty string");const N=Yt.findKey(g,O);(!N||g[N]===void 0||D===!0||D===void 0&&g[N]!==!1)&&(g[N||I]=Z6(w))}const x=(w,I)=>Yt.forEach(w,(D,O)=>h(D,O,I));if(Yt.isPlainObject(r)||r instanceof this.constructor)x(r,i);else if(Yt.isString(r)&&(r=r.trim())&&!Bve(r))x(Lve(r),i);else if(Yt.isObject(r)&&Yt.isIterable(r)){let w={},I,D;for(const O of r){if(!Yt.isArray(O))throw TypeError("Object iterator must return a key-value pair");w[D=O[0]]=(I=w[D])?Yt.isArray(I)?[...I,O[1]]:[I,O[1]]:O[1]}x(w,i)}else r!=null&&h(i,r,u);return this}get(r,i){if(r=bR(r),r){const u=Yt.findKey(this,r);if(u){const g=this[u];if(!i)return g;if(i===!0)return Mve(g);if(Yt.isFunction(i))return i.call(this,g,u);if(Yt.isRegExp(i))return i.exec(g);throw new TypeError("parser must be boolean|regexp|function")}}}has(r,i){if(r=bR(r),r){const u=Yt.findKey(this,r);return!!(u&&this[u]!==void 0&&(!i||X9(this,this[u],u,i)))}return!1}delete(r,i){const u=this;let g=!1;function h(x){if(x=bR(x),x){const w=Yt.findKey(u,x);w&&(!i||X9(u,u[w],w,i))&&(delete u[w],g=!0)}}return Yt.isArray(r)?r.forEach(h):h(r),g}clear(r){const i=Object.keys(this);let u=i.length,g=!1;for(;u--;){const h=i[u];(!r||X9(this,this[h],h,r,!0))&&(delete this[h],g=!0)}return g}normalize(r){const i=this,u={};return Yt.forEach(this,(g,h)=>{const x=Yt.findKey(u,h);if(x){i[x]=Z6(g),delete i[h];return}const w=r?Fve(h):String(h).trim();w!==h&&delete i[h],i[w]=Z6(g),u[w]=!0}),this}concat(...r){return this.constructor.concat(this,...r)}toJSON(r){const i=Object.create(null);return Yt.forEach(this,(u,g)=>{u!=null&&u!==!1&&(i[g]=r&&Yt.isArray(u)?u.join(", "):u)}),i}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([r,i])=>r+": "+i).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(r){return r instanceof this?r:new this(r)}static concat(r,...i){const u=new this(r);return i.forEach(g=>u.set(g)),u}static accessor(r){const u=(this[SY]=this[SY]={accessors:{}}).accessors,g=this.prototype;function h(x){const w=bR(x);u[w]||($ve(g,x),u[w]=!0)}return Yt.isArray(r)?r.forEach(h):h(r),this}};Sf.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Yt.reduceDescriptors(Sf.prototype,({value:t},r)=>{let i=r[0].toUpperCase()+r.slice(1);return{get:()=>t,set(u){this[i]=u}}});Yt.freezeMethods(Sf);function J9(t,r){const i=this||bI,u=r||i,g=Sf.from(u.headers);let h=u.data;return Yt.forEach(t,function(w){h=w.call(i,h,g.normalize(),r?r.status:void 0)}),g.normalize(),h}function gee(t){return!!(t&&t.__CANCEL__)}function VE(t,r,i){Zs.call(this,t??"canceled",Zs.ERR_CANCELED,r,i),this.name="CanceledError"}Yt.inherits(VE,Zs,{__CANCEL__:!0});function hee(t,r,i){const u=i.config.validateStatus;!i.status||!u||u(i.status)?t(i):r(new Zs("Request failed with status code "+i.status,[Zs.ERR_BAD_REQUEST,Zs.ERR_BAD_RESPONSE][Math.floor(i.status/100)-4],i.config,i.request,i))}function Vve(t){const r=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return r&&r[1]||""}function zve(t,r){t=t||10;const i=new Array(t),u=new Array(t);let g=0,h=0,x;return r=r!==void 0?r:1e3,function(I){const D=Date.now(),O=u[h];x||(x=D),i[g]=I,u[g]=D;let N=h,V=0;for(;N!==g;)V+=i[N++],N=N%t;if(g=(g+1)%t,g===h&&(h=(h+1)%t),D-x<r)return;const U=O&&D-O;return U?Math.round(V*1e3/U):void 0}}function Hve(t,r){let i=0,u=1e3/r,g,h;const x=(D,O=Date.now())=>{i=O,g=null,h&&(clearTimeout(h),h=null),t.apply(null,D)};return[(...D)=>{const O=Date.now(),N=O-i;N>=u?x(D,O):(g=D,h||(h=setTimeout(()=>{h=null,x(g)},u-N)))},()=>g&&x(g)]}const xF=(t,r,i=3)=>{let u=0;const g=zve(50,250);return Hve(h=>{const x=h.loaded,w=h.lengthComputable?h.total:void 0,I=x-u,D=g(I),O=x<=w;u=x;const N={loaded:x,total:w,progress:w?x/w:void 0,bytes:I,rate:D||void 0,estimated:D&&w&&O?(w-x)/D:void 0,event:h,lengthComputable:w!=null,[r?"download":"upload"]:!0};t(N)},i)},kY=(t,r)=>{const i=t!=null;return[u=>r[0]({lengthComputable:i,total:t,loaded:u}),r[1]]},EY=t=>(...r)=>Yt.asap(()=>t(...r)),Uve=zu.hasStandardBrowserEnv?((t,r)=>i=>(i=new URL(i,zu.origin),t.protocol===i.protocol&&t.host===i.host&&(r||t.port===i.port)))(new URL(zu.origin),zu.navigator&&/(msie|trident)/i.test(zu.navigator.userAgent)):()=>!0,Wve=zu.hasStandardBrowserEnv?{write(t,r,i,u,g,h){const x=[t+"="+encodeURIComponent(r)];Yt.isNumber(i)&&x.push("expires="+new Date(i).toGMTString()),Yt.isString(u)&&x.push("path="+u),Yt.isString(g)&&x.push("domain="+g),h===!0&&x.push("secure"),document.cookie=x.join("; ")},read(t){const r=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return r?decodeURIComponent(r[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Kve(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function jve(t,r){return r?t.replace(/\/?\/$/,"")+"/"+r.replace(/^\/+/,""):t}function pee(t,r,i){let u=!Kve(r);return t&&(u||i==!1)?jve(t,r):r}const AY=t=>t instanceof Sf?{...t}:t;function FC(t,r){r=r||{};const i={};function u(D,O,N,V){return Yt.isPlainObject(D)&&Yt.isPlainObject(O)?Yt.merge.call({caseless:V},D,O):Yt.isPlainObject(O)?Yt.merge({},O):Yt.isArray(O)?O.slice():O}function g(D,O,N,V){if(Yt.isUndefined(O)){if(!Yt.isUndefined(D))return u(void 0,D,N,V)}else return u(D,O,N,V)}function h(D,O){if(!Yt.isUndefined(O))return u(void 0,O)}function x(D,O){if(Yt.isUndefined(O)){if(!Yt.isUndefined(D))return u(void 0,D)}else return u(void 0,O)}function w(D,O,N){if(N in r)return u(D,O);if(N in t)return u(void 0,D)}const I={url:h,method:h,data:h,baseURL:x,transformRequest:x,transformResponse:x,paramsSerializer:x,timeout:x,timeoutMessage:x,withCredentials:x,withXSRFToken:x,adapter:x,responseType:x,xsrfCookieName:x,xsrfHeaderName:x,onUploadProgress:x,onDownloadProgress:x,decompress:x,maxContentLength:x,maxBodyLength:x,beforeRedirect:x,transport:x,httpAgent:x,httpsAgent:x,cancelToken:x,socketPath:x,responseEncoding:x,validateStatus:w,headers:(D,O,N)=>g(AY(D),AY(O),N,!0)};return Yt.forEach(Object.keys(Object.assign({},t,r)),function(O){const N=I[O]||g,V=N(t[O],r[O],O);Yt.isUndefined(V)&&N!==w||(i[O]=V)}),i}const bee=t=>{const r=FC({},t);let{data:i,withXSRFToken:u,xsrfHeaderName:g,xsrfCookieName:h,headers:x,auth:w}=r;r.headers=x=Sf.from(x),r.url=dee(pee(r.baseURL,r.url,r.allowAbsoluteUrls),t.params,t.paramsSerializer),w&&x.set("Authorization","Basic "+btoa((w.username||"")+":"+(w.password?unescape(encodeURIComponent(w.password)):"")));let I;if(Yt.isFormData(i)){if(zu.hasStandardBrowserEnv||zu.hasStandardBrowserWebWorkerEnv)x.setContentType(void 0);else if((I=x.getContentType())!==!1){const[D,...O]=I?I.split(";").map(N=>N.trim()).filter(Boolean):[];x.setContentType([D||"multipart/form-data",...O].join("; "))}}if(zu.hasStandardBrowserEnv&&(u&&Yt.isFunction(u)&&(u=u(r)),u||u!==!1&&Uve(r.url))){const D=g&&h&&Wve.read(h);D&&x.set(g,D)}return r},Zve=typeof XMLHttpRequest<"u",Gve=Zve&&function(t){return new Promise(function(i,u){const g=bee(t);let h=g.data;const x=Sf.from(g.headers).normalize();let{responseType:w,onUploadProgress:I,onDownloadProgress:D}=g,O,N,V,U,Z;function ee(){U&&U(),Z&&Z(),g.cancelToken&&g.cancelToken.unsubscribe(O),g.signal&&g.signal.removeEventListener("abort",O)}let re=new XMLHttpRequest;re.open(g.method.toUpperCase(),g.url,!0),re.timeout=g.timeout;function H(){if(!re)return;const le=Sf.from("getAllResponseHeaders"in re&&re.getAllResponseHeaders()),fe={data:!w||w==="text"||w==="json"?re.responseText:re.response,status:re.status,statusText:re.statusText,headers:le,config:t,request:re};hee(function(Ve){i(Ve),ee()},function(Ve){u(Ve),ee()},fe),re=null}"onloadend"in re?re.onloadend=H:re.onreadystatechange=function(){!re||re.readyState!==4||re.status===0&&!(re.responseURL&&re.responseURL.indexOf("file:")===0)||setTimeout(H)},re.onabort=function(){re&&(u(new Zs("Request aborted",Zs.ECONNABORTED,t,re)),re=null)},re.onerror=function(){u(new Zs("Network Error",Zs.ERR_NETWORK,t,re)),re=null},re.ontimeout=function(){let j=g.timeout?"timeout of "+g.timeout+"ms exceeded":"timeout exceeded";const fe=g.transitional||fee;g.timeoutErrorMessage&&(j=g.timeoutErrorMessage),u(new Zs(j,fe.clarifyTimeoutError?Zs.ETIMEDOUT:Zs.ECONNABORTED,t,re)),re=null},h===void 0&&x.setContentType(null),"setRequestHeader"in re&&Yt.forEach(x.toJSON(),function(j,fe){re.setRequestHeader(fe,j)}),Yt.isUndefined(g.withCredentials)||(re.withCredentials=!!g.withCredentials),w&&w!=="json"&&(re.responseType=g.responseType),D&&([V,Z]=xF(D,!0),re.addEventListener("progress",V)),I&&re.upload&&([N,U]=xF(I),re.upload.addEventListener("progress",N),re.upload.addEventListener("loadend",U)),(g.cancelToken||g.signal)&&(O=le=>{re&&(u(!le||le.type?new VE(null,t,re):le),re.abort(),re=null)},g.cancelToken&&g.cancelToken.subscribe(O),g.signal&&(g.signal.aborted?O():g.signal.addEventListener("abort",O)));const de=Vve(g.url);if(de&&zu.protocols.indexOf(de)===-1){u(new Zs("Unsupported protocol "+de+":",Zs.ERR_BAD_REQUEST,t));return}re.send(h||null)})},qve=(t,r)=>{const{length:i}=t=t?t.filter(Boolean):[];if(r||i){let u=new AbortController,g;const h=function(D){if(!g){g=!0,w();const O=D instanceof Error?D:this.reason;u.abort(O instanceof Zs?O:new VE(O instanceof Error?O.message:O))}};let x=r&&setTimeout(()=>{x=null,h(new Zs(`timeout ${r} of ms exceeded`,Zs.ETIMEDOUT))},r);const w=()=>{t&&(x&&clearTimeout(x),x=null,t.forEach(D=>{D.unsubscribe?D.unsubscribe(h):D.removeEventListener("abort",h)}),t=null)};t.forEach(D=>D.addEventListener("abort",h));const{signal:I}=u;return I.unsubscribe=()=>Yt.asap(w),I}},Yve=function*(t,r){let i=t.byteLength;if(i<r){yield t;return}let u=0,g;for(;u<i;)g=u+r,yield t.slice(u,g),u=g},Xve=async function*(t,r){for await(const i of Jve(t))yield*Yve(i,r)},Jve=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const r=t.getReader();try{for(;;){const{done:i,value:u}=await r.read();if(i)break;yield u}}finally{await r.cancel()}},TY=(t,r,i,u)=>{const g=Xve(t,r);let h=0,x,w=I=>{x||(x=!0,u&&u(I))};return new ReadableStream({async pull(I){try{const{done:D,value:O}=await g.next();if(D){w(),I.close();return}let N=O.byteLength;if(i){let V=h+=N;i(V)}I.enqueue(new Uint8Array(O))}catch(D){throw w(D),D}},cancel(I){return w(I),g.return()}},{highWaterMark:2})},n8=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",vee=n8&&typeof ReadableStream=="function",Qve=n8&&(typeof TextEncoder=="function"?(t=>r=>t.encode(r))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),yee=(t,...r)=>{try{return!!t(...r)}catch{return!1}},e0e=vee&&yee(()=>{let t=!1;const r=new Request(zu.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!r}),OY=64*1024,iW=vee&&yee(()=>Yt.isReadableStream(new Response("").body)),wF={stream:iW&&(t=>t.body)};n8&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(r=>{!wF[r]&&(wF[r]=Yt.isFunction(t[r])?i=>i[r]():(i,u)=>{throw new Zs(`Response type '${r}' is not supported`,Zs.ERR_NOT_SUPPORT,u)})})})(new Response);const t0e=async t=>{if(t==null)return 0;if(Yt.isBlob(t))return t.size;if(Yt.isSpecCompliantForm(t))return(await new Request(zu.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(Yt.isArrayBufferView(t)||Yt.isArrayBuffer(t))return t.byteLength;if(Yt.isURLSearchParams(t)&&(t=t+""),Yt.isString(t))return(await Qve(t)).byteLength},n0e=async(t,r)=>{const i=Yt.toFiniteNumber(t.getContentLength());return i??t0e(r)},o0e=n8&&(async t=>{let{url:r,method:i,data:u,signal:g,cancelToken:h,timeout:x,onDownloadProgress:w,onUploadProgress:I,responseType:D,headers:O,withCredentials:N="same-origin",fetchOptions:V}=bee(t);D=D?(D+"").toLowerCase():"text";let U=qve([g,h&&h.toAbortSignal()],x),Z;const ee=U&&U.unsubscribe&&(()=>{U.unsubscribe()});let re;try{if(I&&e0e&&i!=="get"&&i!=="head"&&(re=await n0e(O,u))!==0){let fe=new Request(r,{method:"POST",body:u,duplex:"half"}),ne;if(Yt.isFormData(u)&&(ne=fe.headers.get("content-type"))&&O.setContentType(ne),fe.body){const[Ve,Fe]=kY(re,xF(EY(I)));u=TY(fe.body,OY,Ve,Fe)}}Yt.isString(N)||(N=N?"include":"omit");const H="credentials"in Request.prototype;Z=new Request(r,{...V,signal:U,method:i.toUpperCase(),headers:O.normalize().toJSON(),body:u,duplex:"half",credentials:H?N:void 0});let de=await fetch(Z,V);const le=iW&&(D==="stream"||D==="response");if(iW&&(w||le&&ee)){const fe={};["status","statusText","headers"].forEach(Xe=>{fe[Xe]=de[Xe]});const ne=Yt.toFiniteNumber(de.headers.get("content-length")),[Ve,Fe]=w&&kY(ne,xF(EY(w),!0))||[];de=new Response(TY(de.body,OY,Ve,()=>{Fe&&Fe(),ee&&ee()}),fe)}D=D||"text";let j=await wF[Yt.findKey(wF,D)||"text"](de,t);return!le&&ee&&ee(),await new Promise((fe,ne)=>{hee(fe,ne,{data:j,headers:Sf.from(de.headers),status:de.status,statusText:de.statusText,config:t,request:Z})})}catch(H){throw ee&&ee(),H&&H.name==="TypeError"&&/Load failed|fetch/i.test(H.message)?Object.assign(new Zs("Network Error",Zs.ERR_NETWORK,t,Z),{cause:H.cause||H}):Zs.from(H,H&&H.code,t,Z)}}),aW={http:vve,xhr:Gve,fetch:o0e};Yt.forEach(aW,(t,r)=>{if(t){try{Object.defineProperty(t,"name",{value:r})}catch{}Object.defineProperty(t,"adapterName",{value:r})}});const RY=t=>`- ${t}`,s0e=t=>Yt.isFunction(t)||t===null||t===!1,xee={getAdapter:t=>{t=Yt.isArray(t)?t:[t];const{length:r}=t;let i,u;const g={};for(let h=0;h<r;h++){i=t[h];let x;if(u=i,!s0e(i)&&(u=aW[(x=String(i)).toLowerCase()],u===void 0))throw new Zs(`Unknown adapter '${x}'`);if(u)break;g[x||"#"+h]=u}if(!u){const h=Object.entries(g).map(([w,I])=>`adapter ${w} `+(I===!1?"is not supported by the environment":"is not available in the build"));let x=r?h.length>1?`since :
`+h.map(RY).join(`
`):" "+RY(h[0]):"as no adapter specified";throw new Zs("There is no suitable adapter to dispatch the request "+x,"ERR_NOT_SUPPORT")}return u},adapters:aW};function Q9(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new VE(null,t)}function IY(t){return Q9(t),t.headers=Sf.from(t.headers),t.data=J9.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),xee.getAdapter(t.adapter||bI.adapter)(t).then(function(u){return Q9(t),u.data=J9.call(t,t.transformResponse,u),u.headers=Sf.from(u.headers),u},function(u){return gee(u)||(Q9(t),u&&u.response&&(u.response.data=J9.call(t,t.transformResponse,u.response),u.response.headers=Sf.from(u.response.headers))),Promise.reject(u)})}const wee="1.10.0",o8={};["object","boolean","number","function","string","symbol"].forEach((t,r)=>{o8[t]=function(u){return typeof u===t||"a"+(r<1?"n ":" ")+t}});const DY={};o8.transitional=function(r,i,u){function g(h,x){return"[Axios v"+wee+"] Transitional option '"+h+"'"+x+(u?". "+u:"")}return(h,x,w)=>{if(r===!1)throw new Zs(g(x," has been removed"+(i?" in "+i:"")),Zs.ERR_DEPRECATED);return i&&!DY[x]&&(DY[x]=!0,console.warn(g(x," has been deprecated since v"+i+" and will be removed in the near future"))),r?r(h,x,w):!0}};o8.spelling=function(r){return(i,u)=>(console.warn(`${u} is likely a misspelling of ${r}`),!0)};function r0e(t,r,i){if(typeof t!="object")throw new Zs("options must be an object",Zs.ERR_BAD_OPTION_VALUE);const u=Object.keys(t);let g=u.length;for(;g-- >0;){const h=u[g],x=r[h];if(x){const w=t[h],I=w===void 0||x(w,h,t);if(I!==!0)throw new Zs("option "+h+" must be "+I,Zs.ERR_BAD_OPTION_VALUE);continue}if(i!==!0)throw new Zs("Unknown option "+h,Zs.ERR_BAD_OPTION)}}const G6={assertOptions:r0e,validators:o8},Ib=G6.validators;let MC=class{constructor(r){this.defaults=r||{},this.interceptors={request:new _Y,response:new _Y}}async request(r,i){try{return await this._request(r,i)}catch(u){if(u instanceof Error){let g={};Error.captureStackTrace?Error.captureStackTrace(g):g=new Error;const h=g.stack?g.stack.replace(/^.+\n/,""):"";try{u.stack?h&&!String(u.stack).endsWith(h.replace(/^.+\n.+\n/,""))&&(u.stack+=`
`+h):u.stack=h}catch{}}throw u}}_request(r,i){typeof r=="string"?(i=i||{},i.url=r):i=r||{},i=FC(this.defaults,i);const{transitional:u,paramsSerializer:g,headers:h}=i;u!==void 0&&G6.assertOptions(u,{silentJSONParsing:Ib.transitional(Ib.boolean),forcedJSONParsing:Ib.transitional(Ib.boolean),clarifyTimeoutError:Ib.transitional(Ib.boolean)},!1),g!=null&&(Yt.isFunction(g)?i.paramsSerializer={serialize:g}:G6.assertOptions(g,{encode:Ib.function,serialize:Ib.function},!0)),i.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?i.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:i.allowAbsoluteUrls=!0),G6.assertOptions(i,{baseUrl:Ib.spelling("baseURL"),withXsrfToken:Ib.spelling("withXSRFToken")},!0),i.method=(i.method||this.defaults.method||"get").toLowerCase();let x=h&&Yt.merge(h.common,h[i.method]);h&&Yt.forEach(["delete","get","head","post","put","patch","common"],Z=>{delete h[Z]}),i.headers=Sf.concat(x,h);const w=[];let I=!0;this.interceptors.request.forEach(function(ee){typeof ee.runWhen=="function"&&ee.runWhen(i)===!1||(I=I&&ee.synchronous,w.unshift(ee.fulfilled,ee.rejected))});const D=[];this.interceptors.response.forEach(function(ee){D.push(ee.fulfilled,ee.rejected)});let O,N=0,V;if(!I){const Z=[IY.bind(this),void 0];for(Z.unshift.apply(Z,w),Z.push.apply(Z,D),V=Z.length,O=Promise.resolve(i);N<V;)O=O.then(Z[N++],Z[N++]);return O}V=w.length;let U=i;for(N=0;N<V;){const Z=w[N++],ee=w[N++];try{U=Z(U)}catch(re){ee.call(this,re);break}}try{O=IY.call(this,U)}catch(Z){return Promise.reject(Z)}for(N=0,V=D.length;N<V;)O=O.then(D[N++],D[N++]);return O}getUri(r){r=FC(this.defaults,r);const i=pee(r.baseURL,r.url,r.allowAbsoluteUrls);return dee(i,r.params,r.paramsSerializer)}};Yt.forEach(["delete","get","head","options"],function(r){MC.prototype[r]=function(i,u){return this.request(FC(u||{},{method:r,url:i,data:(u||{}).data}))}});Yt.forEach(["post","put","patch"],function(r){function i(u){return function(h,x,w){return this.request(FC(w||{},{method:r,headers:u?{"Content-Type":"multipart/form-data"}:{},url:h,data:x}))}}MC.prototype[r]=i(),MC.prototype[r+"Form"]=i(!0)});let i0e=class Cee{constructor(r){if(typeof r!="function")throw new TypeError("executor must be a function.");let i;this.promise=new Promise(function(h){i=h});const u=this;this.promise.then(g=>{if(!u._listeners)return;let h=u._listeners.length;for(;h-- >0;)u._listeners[h](g);u._listeners=null}),this.promise.then=g=>{let h;const x=new Promise(w=>{u.subscribe(w),h=w}).then(g);return x.cancel=function(){u.unsubscribe(h)},x},r(function(h,x,w){u.reason||(u.reason=new VE(h,x,w),i(u.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(r){if(this.reason){r(this.reason);return}this._listeners?this._listeners.push(r):this._listeners=[r]}unsubscribe(r){if(!this._listeners)return;const i=this._listeners.indexOf(r);i!==-1&&this._listeners.splice(i,1)}toAbortSignal(){const r=new AbortController,i=u=>{r.abort(u)};return this.subscribe(i),r.signal.unsubscribe=()=>this.unsubscribe(i),r.signal}static source(){let r;return{token:new Cee(function(g){r=g}),cancel:r}}};function a0e(t){return function(i){return t.apply(null,i)}}function l0e(t){return Yt.isObject(t)&&t.isAxiosError===!0}const lW={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(lW).forEach(([t,r])=>{lW[r]=t});function _ee(t){const r=new MC(t),i=QQ(MC.prototype.request,r);return Yt.extend(i,MC.prototype,r,{allOwnKeys:!0}),Yt.extend(i,r,null,{allOwnKeys:!0}),i.create=function(g){return _ee(FC(t,g))},i}const Ki=_ee(bI);Ki.Axios=MC;Ki.CanceledError=VE;Ki.CancelToken=i0e;Ki.isCancel=gee;Ki.VERSION=wee;Ki.toFormData=t8;Ki.AxiosError=Zs;Ki.Cancel=Ki.CanceledError;Ki.all=function(r){return Promise.all(r)};Ki.spread=a0e;Ki.isAxiosError=l0e;Ki.mergeConfig=FC;Ki.AxiosHeaders=Sf;Ki.formToJSON=t=>mee(Yt.isHTMLForm(t)?new FormData(t):t);Ki.getAdapter=xee.getAdapter;Ki.HttpStatusCode=lW;Ki.default=Ki;const{Axios:Ake,AxiosError:Tke,CanceledError:Oke,isCancel:Rke,CancelToken:Ike,VERSION:Dke,all:Pke,Cancel:Nke,isAxiosError:Lke,spread:Mke,toFormData:Bke,AxiosHeaders:Fke,HttpStatusCode:$ke,formToJSON:Vke,getAdapter:zke,mergeConfig:Hke}=Ki;/*! js-cookie v3.0.5 | MIT */function P6(t){for(var r=1;r<arguments.length;r++){var i=arguments[r];for(var u in i)t[u]=i[u]}return t}var c0e={read:function(t){return t[0]==='"'&&(t=t.slice(1,-1)),t.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(t){return encodeURIComponent(t).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}};function cW(t,r){function i(g,h,x){if(!(typeof document>"u")){x=P6({},r,x),typeof x.expires=="number"&&(x.expires=new Date(Date.now()+x.expires*864e5)),x.expires&&(x.expires=x.expires.toUTCString()),g=encodeURIComponent(g).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var w="";for(var I in x)x[I]&&(w+="; "+I,x[I]!==!0&&(w+="="+x[I].split(";")[0]));return document.cookie=g+"="+t.write(h,g)+w}}function u(g){if(!(typeof document>"u"||arguments.length&&!g)){for(var h=document.cookie?document.cookie.split("; "):[],x={},w=0;w<h.length;w++){var I=h[w].split("="),D=I.slice(1).join("=");try{var O=decodeURIComponent(I[0]);if(x[O]=t.read(D,O),g===O)break}catch{}}return g?x[g]:x}}return Object.create({set:i,get:u,remove:function(g,h){i(g,"",P6({},h,{expires:-1}))},withAttributes:function(g){return cW(this.converter,P6({},this.attributes,g))},withConverter:function(g){return cW(P6({},this.converter,g),this.attributes)}},{attributes:{value:Object.freeze(r)},converter:{value:Object.freeze(t)}})}var yr=cW(c0e,{path:"/"}),N6=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function nK(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var eU={exports:{}},tU={exports:{}},PY;function u0e(){return PY||(PY=1,function(){var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",r={rotl:function(i,u){return i<<u|i>>>32-u},rotr:function(i,u){return i<<32-u|i>>>u},endian:function(i){if(i.constructor==Number)return r.rotl(i,8)&16711935|r.rotl(i,24)&4278255360;for(var u=0;u<i.length;u++)i[u]=r.endian(i[u]);return i},randomBytes:function(i){for(var u=[];i>0;i--)u.push(Math.floor(Math.random()*256));return u},bytesToWords:function(i){for(var u=[],g=0,h=0;g<i.length;g++,h+=8)u[h>>>5]|=i[g]<<24-h%32;return u},wordsToBytes:function(i){for(var u=[],g=0;g<i.length*32;g+=8)u.push(i[g>>>5]>>>24-g%32&255);return u},bytesToHex:function(i){for(var u=[],g=0;g<i.length;g++)u.push((i[g]>>>4).toString(16)),u.push((i[g]&15).toString(16));return u.join("")},hexToBytes:function(i){for(var u=[],g=0;g<i.length;g+=2)u.push(parseInt(i.substr(g,2),16));return u},bytesToBase64:function(i){for(var u=[],g=0;g<i.length;g+=3)for(var h=i[g]<<16|i[g+1]<<8|i[g+2],x=0;x<4;x++)g*8+x*6<=i.length*8?u.push(t.charAt(h>>>6*(3-x)&63)):u.push("=");return u.join("")},base64ToBytes:function(i){i=i.replace(/[^A-Z0-9+\/]/ig,"");for(var u=[],g=0,h=0;g<i.length;h=++g%4)h!=0&&u.push((t.indexOf(i.charAt(g-1))&Math.pow(2,-2*h+8)-1)<<h*2|t.indexOf(i.charAt(g))>>>6-h*2);return u}};tU.exports=r}()),tU.exports}var nU,NY;function LY(){if(NY)return nU;NY=1;var t={utf8:{stringToBytes:function(r){return t.bin.stringToBytes(unescape(encodeURIComponent(r)))},bytesToString:function(r){return decodeURIComponent(escape(t.bin.bytesToString(r)))}},bin:{stringToBytes:function(r){for(var i=[],u=0;u<r.length;u++)i.push(r.charCodeAt(u)&255);return i},bytesToString:function(r){for(var i=[],u=0;u<r.length;u++)i.push(String.fromCharCode(r[u]));return i.join("")}}};return nU=t,nU}/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var oU,MY;function d0e(){if(MY)return oU;MY=1,oU=function(i){return i!=null&&(t(i)||r(i)||!!i._isBuffer)};function t(i){return!!i.constructor&&typeof i.constructor.isBuffer=="function"&&i.constructor.isBuffer(i)}function r(i){return typeof i.readFloatLE=="function"&&typeof i.slice=="function"&&t(i.slice(0,0))}return oU}var BY;function f0e(){return BY||(BY=1,function(){var t=u0e(),r=LY().utf8,i=d0e(),u=LY().bin,g=function(h,x){h.constructor==String?x&&x.encoding==="binary"?h=u.stringToBytes(h):h=r.stringToBytes(h):i(h)?h=Array.prototype.slice.call(h,0):!Array.isArray(h)&&h.constructor!==Uint8Array&&(h=h.toString());for(var w=t.bytesToWords(h),I=h.length*8,D=1732584193,O=-271733879,N=-1732584194,V=271733878,U=0;U<w.length;U++)w[U]=(w[U]<<8|w[U]>>>24)&16711935|(w[U]<<24|w[U]>>>8)&4278255360;w[I>>>5]|=128<<I%32,w[(I+64>>>9<<4)+14]=I;for(var Z=g._ff,ee=g._gg,re=g._hh,H=g._ii,U=0;U<w.length;U+=16){var de=D,le=O,j=N,fe=V;D=Z(D,O,N,V,w[U+0],7,-680876936),V=Z(V,D,O,N,w[U+1],12,-389564586),N=Z(N,V,D,O,w[U+2],17,606105819),O=Z(O,N,V,D,w[U+3],22,-1044525330),D=Z(D,O,N,V,w[U+4],7,-176418897),V=Z(V,D,O,N,w[U+5],12,1200080426),N=Z(N,V,D,O,w[U+6],17,-1473231341),O=Z(O,N,V,D,w[U+7],22,-45705983),D=Z(D,O,N,V,w[U+8],7,1770035416),V=Z(V,D,O,N,w[U+9],12,-1958414417),N=Z(N,V,D,O,w[U+10],17,-42063),O=Z(O,N,V,D,w[U+11],22,-1990404162),D=Z(D,O,N,V,w[U+12],7,1804603682),V=Z(V,D,O,N,w[U+13],12,-40341101),N=Z(N,V,D,O,w[U+14],17,-1502002290),O=Z(O,N,V,D,w[U+15],22,1236535329),D=ee(D,O,N,V,w[U+1],5,-165796510),V=ee(V,D,O,N,w[U+6],9,-1069501632),N=ee(N,V,D,O,w[U+11],14,643717713),O=ee(O,N,V,D,w[U+0],20,-373897302),D=ee(D,O,N,V,w[U+5],5,-701558691),V=ee(V,D,O,N,w[U+10],9,38016083),N=ee(N,V,D,O,w[U+15],14,-660478335),O=ee(O,N,V,D,w[U+4],20,-405537848),D=ee(D,O,N,V,w[U+9],5,568446438),V=ee(V,D,O,N,w[U+14],9,-1019803690),N=ee(N,V,D,O,w[U+3],14,-187363961),O=ee(O,N,V,D,w[U+8],20,1163531501),D=ee(D,O,N,V,w[U+13],5,-1444681467),V=ee(V,D,O,N,w[U+2],9,-51403784),N=ee(N,V,D,O,w[U+7],14,1735328473),O=ee(O,N,V,D,w[U+12],20,-1926607734),D=re(D,O,N,V,w[U+5],4,-378558),V=re(V,D,O,N,w[U+8],11,-2022574463),N=re(N,V,D,O,w[U+11],16,1839030562),O=re(O,N,V,D,w[U+14],23,-35309556),D=re(D,O,N,V,w[U+1],4,-1530992060),V=re(V,D,O,N,w[U+4],11,1272893353),N=re(N,V,D,O,w[U+7],16,-155497632),O=re(O,N,V,D,w[U+10],23,-1094730640),D=re(D,O,N,V,w[U+13],4,681279174),V=re(V,D,O,N,w[U+0],11,-358537222),N=re(N,V,D,O,w[U+3],16,-722521979),O=re(O,N,V,D,w[U+6],23,76029189),D=re(D,O,N,V,w[U+9],4,-640364487),V=re(V,D,O,N,w[U+12],11,-421815835),N=re(N,V,D,O,w[U+15],16,530742520),O=re(O,N,V,D,w[U+2],23,-995338651),D=H(D,O,N,V,w[U+0],6,-198630844),V=H(V,D,O,N,w[U+7],10,1126891415),N=H(N,V,D,O,w[U+14],15,-1416354905),O=H(O,N,V,D,w[U+5],21,-57434055),D=H(D,O,N,V,w[U+12],6,1700485571),V=H(V,D,O,N,w[U+3],10,-1894986606),N=H(N,V,D,O,w[U+10],15,-1051523),O=H(O,N,V,D,w[U+1],21,-2054922799),D=H(D,O,N,V,w[U+8],6,1873313359),V=H(V,D,O,N,w[U+15],10,-30611744),N=H(N,V,D,O,w[U+6],15,-1560198380),O=H(O,N,V,D,w[U+13],21,1309151649),D=H(D,O,N,V,w[U+4],6,-145523070),V=H(V,D,O,N,w[U+11],10,-1120210379),N=H(N,V,D,O,w[U+2],15,718787259),O=H(O,N,V,D,w[U+9],21,-343485551),D=D+de>>>0,O=O+le>>>0,N=N+j>>>0,V=V+fe>>>0}return t.endian([D,O,N,V])};g._ff=function(h,x,w,I,D,O,N){var V=h+(x&w|~x&I)+(D>>>0)+N;return(V<<O|V>>>32-O)+x},g._gg=function(h,x,w,I,D,O,N){var V=h+(x&I|w&~I)+(D>>>0)+N;return(V<<O|V>>>32-O)+x},g._hh=function(h,x,w,I,D,O,N){var V=h+(x^w^I)+(D>>>0)+N;return(V<<O|V>>>32-O)+x},g._ii=function(h,x,w,I,D,O,N){var V=h+(w^(x|~I))+(D>>>0)+N;return(V<<O|V>>>32-O)+x},g._blocksize=16,g._digestsize=16,eU.exports=function(h,x){if(h==null)throw new Error("Illegal argument "+h);var w=t.wordsToBytes(g(h,x));return x&&x.asBytes?w:x&&x.asString?u.bytesToString(w):t.bytesToHex(w)}}()),eU.exports}var m0e=f0e();const g0e=nK(m0e),gi=class gi{constructor(r={}){_t(this,"action",null);_t(this,"type",null);_t(this,"key","");_t(this,"item_key","");_t(this,"last_change",0);_t(this,"payload",null);r.action!==void 0&&gi.ALLOWED_ACTIONS.includes(r.action)&&(this.action=r.action.toString()),r.type!==void 0&&gi.ALLOWED_TYPES.includes(r.type)&&(this.type=r.type.toString()),r.key!==void 0&&r.key!==null&&(this.key=r.key.toString()),r.item_key!==void 0&&r.item_key!==null&&(this.item_key=r.item_key.toString()),r.last_change!==void 0&&r.last_change!==null&&(this.last_change=parseInt(r.last_change)),r.payload!==void 0&&r.payload!==null&&(this.payload=r.payload),this.last_change===null&&(this.last_change=Date.now())}static buildChangeKey(r,i){return r+"_"+i}getData(){return Object.assign({},this)}getChangeKey(){return gi.buildChangeKey(this.type,this.key)}isValid(){return gi.ALLOWED_TYPES.includes(this.type)&&gi.ALLOWED_ACTIONS.includes(this.action)&&this.key!=""&&(this.item_key!=""||this.type==gi.TYPE_SNIPPETS)}};_t(gi,"ACTION_SAVE","save"),_t(gi,"ACTION_DELETE","delete"),_t(gi,"ALLOWED_ACTIONS",[gi.ACTION_SAVE,gi.ACTION_DELETE]),_t(gi,"TYPE_COMMENT","comment"),_t(gi,"TYPE_POINTS","points"),_t(gi,"TYPE_SUMMARY","summary"),_t(gi,"TYPE_PREFERENCES","preferences"),_t(gi,"TYPE_SNIPPETS","snippets"),_t(gi,"ALLOWED_TYPES",[gi.TYPE_COMMENT,gi.TYPE_POINTS,gi.TYPE_SUMMARY,gi.TYPE_PREFERENCES,gi.TYPE_SNIPPETS]),_t(gi,"STORED_TYPES",[gi.TYPE_COMMENT,gi.TYPE_POINTS,gi.TYPE_SUMMARY,gi.TYPE_PREFERENCES,gi.TYPE_SNIPPETS]);let bs=gi;const gE=class gE{constructor(r={}){_t(this,"key","");_t(this,"item_key","");_t(this,"task_id",null);_t(this,"writer_id",null);_t(this,"corrector_id",null);_t(this,"user_id",null);_t(this,"title","");_t(this,"initials","");_t(this,"position",0);r.task_id!==void 0&&r.task_id!==null&&(this.task_id=parseInt(r.task_id)),r.writer_id!==void 0&&r.writer_id!==null&&(this.writer_id=parseInt(r.writer_id)),r.corrector_id!==void 0&&r.corrector_id!==null&&(this.corrector_id=parseInt(r.corrector_id)),r.user_id!==void 0&&r.user_id!==null&&(this.user_id=parseInt(r.user_id)),r.title!==void 0&&r.title!==null&&(this.title=r.title.toString()),r.initials!==void 0&&r.initials!==null&&(this.initials=r.initials.toString().toUpperCase()),r.position!==void 0&&r.position!==null&&(this.position=parseInt(r.position)),this.key=gE.buildKey(this.task_id,this.writer_id,this.corrector_id),this.item_key=Jr.buildKey(this.task_id,this.writer_id)}static order(r,i){return r.position<i.position?-1:r.position>i.position?1:0}static buildKey(r,i,u){return"C"+r+"_"+i+"_"+u}static extractTaskId(r){const i=r?r.match(/C(\d+)_(\d+)_(\d+)/):null;return i&&i[1]?parseInt(i[1]):null}static extractWriterId(r){const i=r?r.match(/C(\d+)_(\d+)_(\d+)/):null;return i&&i[2]?parseInt(i[2]):null}static extractCorrectorId(r){const i=r?r.match(/C(\d+)_(\d+)_(\d+)/):null;return i&&i[3]?parseInt(i[3]):null}getKey(){return this.key}getData(){return Object.assign({},this)}};_t(gE,"POSITION_FIRST",0),_t(gE,"POSITION_SECOND",1),_t(gE,"POSITION_STITCH",2);let Wi=gE;const Kl=class Kl{constructor(r={}){_t(this,"item_key","");_t(this,"correction_key","");_t(this,"id",null);_t(this,"task_id",null);_t(this,"writer_id",null);_t(this,"corrector_id",null);_t(this,"text","");_t(this,"points",null);_t(this,"grade_key","");_t(this,"pdf","");_t(this,"status","");_t(this,"revision_text","");_t(this,"revision_points",null);_t(this,"revision_grade_key","");_t(this,"require_other_revision",!1);_t(this,"last_change",null);this.setData(r)}static buildKey(r,i,u){return"S"+r+"_"+i+"_"+u}setData(r){r.id!==void 0&&r.id!==null&&(this.id=parseInt(r.id)),r.task_id!==void 0&&r.task_id!==null&&(this.task_id=parseInt(r.task_id)),r.task_id!==void 0&&r.task_id!==null&&(this.task_id=parseInt(r.task_id)),r.writer_id!==void 0&&r.writer_id!==null&&(this.writer_id=parseInt(r.writer_id)),r.corrector_id!==void 0&&r.corrector_id!==null&&(this.corrector_id=parseInt(r.corrector_id)),r.text!==void 0&&r.text!==null&&(this.text=r.text.toString()),r.points!==void 0&&r.points!==null&&(this.points=parseFloat(r.points)),r.pdf!==void 0&&r.pdf!==null&&(this.pdf=r.pdf.toString()),r.status!==void 0&&Kl.ALLOWED_STATUS.includes(r.status)&&(this.status=r.status.toString()),r.grade_key!==void 0&&r.grade_key!==null&&(this.grade_key=r.grade_key.toString()),r.revision_text!==void 0&&r.revision_text!==null&&(this.revision_text=r.revision_text.toString()),r.revision_points!==void 0&&r.revision_points!==null&&(this.revision_points=parseFloat(r.revision_points)),r.require_other_revision!==void 0&&r.require_other_revision!==null&&(this.require_other_revision=!!r.require_other_revision),r.last_change!==void 0&&r.last_change!==null&&(this.last_change=parseInt(r.last_change)),this.item_key=Jr.buildKey(this.task_id,this.writer_id),this.correction_key=Wi.buildKey(this.task_id,this.writer_id,this.corrector_id)}getData(){return Object.assign({},this)}getKey(){return Kl.buildKey(this.task_id,this.writer_id,this.corrector_id)}getClone(){return new Kl(this.getData())}hasTextOrPdf(){return this.text||this.pdf}hasPoints(){return this.points!==null&&!Number.isNaN(this.points)}hasRevisionText(){return!!this.revision_text}hasRevisionPoints(){return this.revision_points!==null&&!Number.isNaN(this.revision_points)}isPregraded(){return this.status==Kl.STATUS_PRE_GRADED}isAuthorized(){return this.status==Kl.STATUS_AUTHORIZED||this.status==Kl.STATUS_REVISED}isRevised(){return this.status==Kl.STATUS_REVISED}isEqual(r){for(const i in this)if(this[i]!==r[i])return!1;return!0}};_t(Kl,"STATUS_NOT_STARTED","not_started"),_t(Kl,"STATUS_OPEN","open"),_t(Kl,"STATUS_PRE_GRADED","pre_graded"),_t(Kl,"STATUS_AUTHORIZED","authorized"),_t(Kl,"STATUS_REVISED","revised"),_t(Kl,"ALLOWED_STATUS",[Kl.STATUS_NOT_STARTED,Kl.STATUS_OPEN,Kl.STATUS_PRE_GRADED,Kl.STATUS_AUTHORIZED,Kl.STATUS_REVISED]);let Sc=Kl;const OC=class OC{constructor(r={}){_t(this,"task_id",null);_t(this,"position",0);_t(this,"type",null);_t(this,"title",null);_t(this,"instructions",null);_t(this,"solution",null);_t(this,"key",null);r.task_id!==void 0&&r.task_id!==null&&(this.task_id=parseInt(r.task_id)),r.position!==void 0&&r.position!==null&&(this.position=parseInt(r.position)),r.type!==void 0&&OC.ALLOWED_TYPES.includes(r.type)&&(this.type=r.type.toString()),r.title!==void 0&&r.title!==null&&(this.title=r.title.toString()),r.instructions!==void 0&&r.instructions!==null&&(this.instructions=r.instructions.toString()),r.solution!==void 0&&r.solution!==null&&(this.solution=r.solution.toString()),this.key=OC.buildKey(this.task_id)}static order(r,i){return r.position<i.position?-1:r.position>i.position?1:0}static buildKey(r){return"T"+r}getKey(){return this.key}getData(){return Object.assign({},this)}};_t(OC,"TYPE_ESSAY","essay"),_t(OC,"ALLOWED_TYPES",[OC.TYPE_ESSAY]);let IC=OC;const{t:Db}=$d.global,Lu=class Lu{constructor(r={}){_t(this,"key",null);_t(this,"task_id",null);_t(this,"writer_id",null);_t(this,"position",null);_t(this,"pseudonym","");_t(this,"title",null);_t(this,"correction_status","");_t(this,"grading_status","");_t(this,"can_correct",!1);_t(this,"can_authorize",!1);_t(this,"can_revise",!1);r.key!==void 0&&r.key!==null&&(this.key=r.key.toString()),r.task_id!==void 0&&r.task_id!==null&&(this.task_id=parseInt(r.task_id)),r.writer_id!==void 0&&r.writer_id!==null&&(this.writer_id=parseInt(r.writer_id)),r.position!==void 0&&r.position!==null&&(this.position=parseInt(r.position)),r.pseudonym!==void 0&&r.pseudonym!==null&&(this.pseudonym=r.pseudonym.toString()),r.correction_status!==void 0&&r.correction_status!==null&&(this.correction_status=r.correction_status.toString()),r.grading_status!==void 0&&r.grading_status!==null&&(this.grading_status=r.grading_status.toString()),r.can_correct!==void 0&&r.can_correct!==null&&(this.can_correct=!!r.can_correct),r.can_authorize!==void 0&&r.can_authorize!==null&&(this.can_authorize=!!r.can_authorize),r.can_revise!==void 0&&r.can_revise!==null&&(this.can_revise=!!r.can_revise),this.key===null&&(this.key=Lu.buildKey(this.task_id,this.writer_id)),this.title===null&&(this.title=Lu.buildTitle(this))}static order(r,i){return r.position<i.position?-1:r.position>i.position?1:r.title<i.title?-1:r.title>i.title?1:0}static buildKey(r,i){return r&&i?"I"+r.toString()+"_"+i.toString():""}static extractTaskId(r){const i=r.match(/I(\d+)_(\d+)/);return i&&i[1]?parseInt(i[1]):null}static extractWriterId(r){const i=r.match(/I(\d+)_(\d+)/);return i&&i[2]?parseInt(i[2]):null}static buildTitle(r){return r.pseudonym+" "+Lu.buildPositionText(r.position)+" "+Lu.buildStatusText(r)}static buildPositionText(r){if(Se.settings().Assessment.multiple_correctors)switch(r){case Wi.POSITION_FIRST:return Db("correctionsFirstCorrection");case Wi.POSITION_SECOND:return Db("correctionsSecondCorrection");case Wi.POSITION_STITCH:return Db("correctionsStitchCorrection");default:return""}return""}static buildStatusText(r){switch(r.correction_status){case Lu.STATUS_OPEN:switch(r.grading_status){case Sc.STATUS_NOT_STARTED:case Sc.STATUS_OPEN:return Db("itemsSuffixOpen");case Sc.STATUS_PRE_GRADED:return Db("itemsSuffixPregraded");case Sc.STATUS_AUTHORIZED:return Db("itemsSuffixAuthorized");default:return""}case Lu.STATUS_APPROXIMATION:return Db("itemsSuffixApproximation");case Lu.STATUS_CONSULTING:return Db("itemsSuffixConsulting");case Lu.STATUS_STITCH:return Db("itemsSuffixStitch");case Lu.STATUS_FINALIZED:return Db("itemsSuffixFinalized");default:return""}}getKey(){return this.key}getTaskKey(){return IC.buildKey(this.task_id)}getData(){return Object.assign({},this)}};_t(Lu,"STATUS_OPEN","open"),_t(Lu,"STATUS_APPROXIMATION","approximation"),_t(Lu,"STATUS_CONSULTING","consulting"),_t(Lu,"STATUS_STITCH","stitch"),_t(Lu,"STATUS_FINALIZED","finalized");let Jr=Lu;const{t:FY}=$d.global,$Y=5e3,h0e=nu("api",{state:()=>({backendUrl:"",returnUrl:"",userId:"",assId:"",contextId:"",itemKey:"",dataToken:"",fileToken:"",timeOffset:0,intervals:{},lastSendingTry:0,lastLoadingTry:0}),getters:{isLoading:t=>t.lastLoadingTry>0,storedItemKey:t=>localStorage.getItem("xlasCorrectorItemKey"),getRequestConfig(t){return function(i){let u=t.backendUrl,g=new URLSearchParams,h=u.search(/\?+/);return h!=-1&&(g=new URLSearchParams(u.substr(h)),u=u.substr(0,h)),g.append("user_id",t.userId),g.append("ass_id",t.assId),g.append("context_id",t.contextId),g.append("signature",g0e(t.userId+t.assId+t.contextId+i)),{baseURL:u,params:g,timeout:3e4,responseType:"json",responseEncoding:"utf8"}}},getResourceUrl(t){return function(i){const u=this.getRequestConfig(this.fileToken);return u.baseURL+"/corrector/file/task/resource/"+i.id+"/resource?"+u.params.toString()}},getImageUrl(t){return function(i){const u=this.getRequestConfig(this.fileToken);return u.baseURL+"/corrector/file/essaytask/image/"+i.id+"/image?"+u.params.toString()}},getThumbUrl(t){return function(i){const u=this.getRequestConfig(this.fileToken);return u.baseURL+"/corrector/file/essaytask/thumb/"+i.id+"/thumb?"+u.params.toString()}},getSummaryPdfUrl(t){return function(i){const u=this.getRequestConfig(this.fileToken);return u.baseURL+"/corrector/file/task/summary/"+i.id+"/"+i.pdf+"?"+u.params.toString()}},getServerTime(t){return function(i){return i==0?0:Math.floor((i-t.timeOffset)/1e3)}}},actions:{async clearStorage(){},async init(){let t=!1,r=!1;this.backendUrl=localStorage.getItem("xlasCorrectorBackendUrl")??"",this.returnUrl=localStorage.getItem("xlasCorrectorReturnUrl")??"",this.userId=localStorage.getItem("xlasCorrectorUserId")??"",this.assId=localStorage.getItem("xlasCorrectorAssId")??"",this.contextId=localStorage.getItem("xlasCorrectorContextId")??"",this.itemKey=localStorage.getItem("xlasCorrectorItemKey")??"",this.dataToken=localStorage.getItem("xlasCorrectorDataToken")??"",this.fileToken=localStorage.getItem("xlasCorrectorFileToken")??"",this.timeOffset=Math.floor(localStorage.getItem("xlasCorrectorTimeOffset")??0),yr.get("xlasUserId")!=null&&yr.get("xlasUserId")!=this.userId&&(this.userId=yr.get("xlasUserId"),t=!0),yr.get("xlasAssId")&&yr.get("xlasAssId")!=this.assId&&(this.assId=yr.get("xlasAssId"),t=!0),yr.get("xlasContextId")!=null&&yr.get("xlasContextId")!=this.contextId&&(this.contextId=yr.get("xlasContextId"),t=!0);let i=Jr.extractTaskId(this.itemKey),u=Jr.extractWriterId(this.itemKey);if(yr.get("xlasTaskId")!=null&&yr.get("xlasWriterId")!=null&&(yr.get("xlasTaskId")!=i||yr.get("xlasWriterId")!=u)&&(r=!0,i=yr.get("xlasTaskId"),u=yr.get("xlasWriterId"),this.itemKey=Jr.buildKey(i,u)),this.itemKey||(r=!0),yr.get("xlasBackendUrl")!=null&&yr.get("xlasBackendUrl")!=this.backendUrl&&(this.backendUrl=yr.get("xlasBackendUrl")),yr.get("xlasReturnUrl")!=null&&yr.get("xlasReturnUrl")!=this.returnUrl&&(this.returnUrl=yr.get("xlasReturnUrl")),yr.get("xlasDataToken")!=null&&yr.get("xlasDataToken")!=this.dataToken&&(this.dataToken=yr.get("xlasDataToken")),yr.get("xlasFileToken")!=null&&yr.get("xlasFileToken")!=this.dataToken&&(this.fileToken=yr.get("xlasFileToken")),!this.backendUrl||!this.returnUrl||!this.userId||!this.assId||!this.contextId||!this.dataToken||!this.fileToken){Se.layout().initFailure=FY("apiMissingParams");return}yr.remove("xlasBackendUrl"),yr.remove("xlasReturnUrl"),yr.remove("xlasUserId"),yr.remove("xlasAssId"),yr.remove("xlasContextId"),yr.remove("xlasTaskId"),yr.remove("xlasWriterId"),yr.remove("xlasDataToken"),yr.remove("xlasFileToken"),localStorage.setItem("xlasCorrectorBackendUrl",this.backendUrl),localStorage.setItem("xlasCorrectorReturnUrl",this.returnUrl),localStorage.setItem("xlasCorrectorUserId",this.userId),localStorage.setItem("xlasCorrectorAssId",this.assId),localStorage.setItem("xlasCorrectorContextId",this.contextId),localStorage.setItem("xlasCorrectorItemKey",this.itemKey),localStorage.setItem("xlasCorrectorDataToken",this.dataToken),localStorage.setItem("xlasCorrectorFileToken",this.fileToken);const g=Se.changes();await g.loadFromStorage(),g.countChanges>0?t?(console.log("init: open saving, new context"),await this.loadDataFromStorage(),Se.layout().showDataReplaceConfirmation=!0):r?(console.log("init: open saving, same context, new item"),await this.loadDataFromStorage(),Se.layout().showItemReplaceConfirmation=!0):(console.log("init: open saving, same context, same item"),await this.loadDataFromStorage(),this.initAfterKeepDataConfirmed()):(console.log("init: no open saving"),this.initAfterReplaceDataConfirmed())},async initAfterReplaceDataConfirmed(){console.log("initAfterReplaceDataConfirmed"),await B0e(),Se.layout().showDataReplaceConfirmation=!1,Se.layout().showItemReplaceConfirmation=!1,await this.loadDataFromBackend()&&(await this.loadItemFromBackend(this.itemKey),this.finishInitialisation())},async initAfterKeepDataConfirmed(){console.log("initAfterKeepDataConfirmed"),Se.layout().showDataReplaceConfirmation=!1,Se.layout().showItemReplaceConfirmation=!1,this.itemKey=localStorage.getItem("xlasCorrectorItemKey"),await this.loadItemFromStorage(this.itemKey);const t=Se.items().getItem(this.itemKey);await this.loadDataFromBackend()&&(await Se.items().saveItem(t),await this.loadItemFromStorage(this.itemKey),this.finishInitialisation())},finishInitialisation(){Se.summaries().isOneAuthorized&&Se.comments().setShowOtherCorrections(!0),Se.layout().initialized=!0},async loadDataFromStorage(){return console.log("loadDataFromStorage..."),this.setLoading(!0),this.clearAllIntervals(),await Se.criteria().loadFromStorage(),await Se.items().loadFromStorage(),await Se.layout().loadFromStorage(),await Se.levels().loadFromStorage(),await Se.preferences().loadFromStorage(),await Se.resources().loadFromStorage(),await Se.settings().loadFromStorage(),await Se.snippets().loadFromStorage(),await Se.tasks().loadFromStorage(),this.setLoading(!1),!0},async loadItemFromStorage(t){console.log("loadItemFromStorage..."),this.setLoading(!0),this.clearAllIntervals();const r=Se.items();return(t==""||r.getItem(t)==null)&&(t=r.firstKey),this.itemKey=t,localStorage.setItem("xlasCorrectorItemKey",this.itemKey),await Se.changes().loadFromStorage(),await Se.comments().loadFromStorage(),await Se.corrections().loadFromStorage(),await Se.essay().loadFromStorage(),await Se.pages().loadFromStorage(),await Se.points().loadFromStorage(),await Se.summaries().loadFromStorage(),Se.comments().setMarkerChange(),Se.items().updateCurrentKeys(),Se.tasks().updateCurrentKeys(),Se.layout().initForItem(),this.setLoading(!1),this.setInterval("apiStore.saveChangesToBackend",this.saveChangesToBackend,$Y),!0},async loadDataFromBackend(){console.log("loadDataFromBackend..."),this.setLoading(!0),this.clearAllIntervals();let t={};try{t=await Ki.get("/corrector/data",this.getRequestConfig(this.dataToken)),this.setTimeOffset(t),this.refreshToken(t)}catch(r){return console.error(r),Se.layout().initFailure=FY("apiLoadingDataFailed"),this.setLoading(!1),!1}return await Se.layout().clearStorage(),await Se.levels().loadFromBackend(t.data.Assessment.GradeLevels),await Se.resources().loadFromBackend(t.data.Assessment.Resources),await Se.settings().loadFromBackend("Assessment",t.data.Assessment.Settings),await Se.items().loadFromBackend(t.data.Task.Items),await Se.preferences().loadFromBackend(t.data.Task.Preferences),await Se.settings().loadFromBackend("Task",t.data.Task.Settings),await Se.snippets().loadFromBackend(t.data.Task.Snippets),await Se.tasks().loadFromBackend(t.data.Task.Tasks),await Se.settings().loadFromBackend("EssayTask",t.data.EssayTask.Settings),this.setLoading(!1),!0},async loadItemFromBackend(t){console.log("loadItemFromBackend..."),this.setLoading(!0),this.clearAllIntervals();const r=Se.items();(t==""||!Se.items().getItem(t))&&(t=r.firstKey);let i={};const u=Jr.extractTaskId(t),g=Jr.extractWriterId(t);try{i=await Ki.get("/corrector/item/"+u+"/"+g,this.getRequestConfig(this.dataToken)),this.setTimeOffset(i),this.refreshToken(i)}catch(h){return console.error(h),Se.layout().showItemLoadFailure=!0,this.setLoading(!1),!1}return this.itemKey=t,localStorage.setItem("xlasCorrectorItemKey",this.itemKey),await r.saveItem(new Jr(i.data.Task.Item)),await Se.changes().clearStorage(),await Se.essay().loadFromBackend(i.data.EssayTask.Essay),await Se.pages().loadFromBackend(i.data.EssayTask.Pages),await Se.corrections().loadFromBackend(i.data.Task.Corrections),await Se.criteria().loadFromBackend(i.data.Task.Criteria),await Se.comments().loadFromBackend(i.data.Task.Comments),await Se.points().loadFromBackend(i.data.Task.Points),await Se.summaries().loadFromBackend(i.data.Task.Summaries),Se.comments().setMarkerChange(),Se.items().updateCurrentKeys(),Se.tasks().updateCurrentKeys(),Se.layout().initForItem(),this.setLoading(!1),this.setInterval("apiStore.saveChangesToBackend",this.saveChangesToBackend,$Y),!0},async saveChangesToBackend(t=!1){const r=Se.changes();if(r.countChanges>0&&!await this.isSending(!0)){this.setSending(!0);try{const i={Task:{}};i.Task[bs.TYPE_SNIPPETS]=await Se.snippets().getChangedData(this.lastSendingTry),i.Task[bs.TYPE_PREFERENCES]=await Se.preferences().getChangedData(this.lastSendingTry),i.Task[bs.TYPE_COMMENT]=await Se.comments().getChangedData(this.lastSendingTry),i.Task[bs.TYPE_POINTS]=await Se.points().getChangedData(this.lastSendingTry),i.Task[bs.TYPE_SUMMARY]=await Se.summaries().getChangedData(this.lastSendingTry);const u=await Ki.put("/corrector/changes",i,this.getRequestConfig(this.dataToken));this.setTimeOffset(u),this.refreshToken(u);for(const g in u.data??[]){const h=u.data[g];for(const x in h??[])await r.setChangesSent(x,h[x],this.lastSendingTry)}}catch(i){return console.error(i),this.setSending(!1),!1}this.setSending(!1)}return r.countChanges==0},async sendSummaryPdf(t,r,i){try{const u=new FormData;return u.append("file",r),(await Ki.post("/corrector/upload/"+t.task_id+"/"+t.writer_id,u,Object.assign(this.getRequestConfig(this.dataToken),{headers:{"Content-Type":"multipart/form-data"},onUploadProgress:i}))).data.id}catch(u){return console.log(u),!1}},setTimeOffset(t){if(t.headers.xlastime){const r=t.headers.xlastime*1e3,i=Date.now();this.timeOffset=i-r,localStorage.setItem("xlasCorrectorTimeOffset",this.timeOffset)}},refreshToken(t){t.headers.xlasdatatoken&&(this.dataToken=t.headers.xlasdatatoken,localStorage.setItem("xlasCorrectorDataToken",this.dataToken)),t.headers.xlasfiletoken&&(this.fileToken=t.headers.xlasfiletoken,localStorage.setItem("xlasCorrectorFileToken",this.fileToken))},async isSending(t=!1){if(t){let r=0;for(;r<5&&this.lastSendingTry>0;)r++,await new Promise(i=>setTimeout(i,1e3))}return this.lastSendingTry>0},setSending(t){t?this.lastSendingTry=Date.now():this.lastSendingTry=0},setLoading(t){t?this.lastLoadingTry=Date.now():this.lastLoadingTry=0},setInterval(t,r,i){t in this.intervals&&clearInterval(this.intervals[t]),this.intervals[t]=setInterval(r,i)},clearAllIntervals(){for(const t in this.intervals)clearInterval(this.intervals[t]),delete this.intervals[t]}}});class p0e{constructor(r={}){_t(this,"action",null);_t(this,"type",null);_t(this,"key","");_t(this,"done",!1);_t(this,"result",null);r.action!==void 0&&bs.ALLOWED_ACTIONS.includes(r.action)&&(this.action=r.action.toString()),r.type!==void 0&&bs.ALLOWED_TYPES.includes(r.type)&&(this.type=r.type.toString()),r.key!==void 0&&r.key!==null&&(this.key=r.key.toString()),r.done!==void 0&&r.done!==null&&(this.done=!!r.done),r.result!==void 0&&r.result!==null&&(this.result=r.result),this.last_change==0&&(this.last_change=Date.now())}getData(){return Object.assign({},this)}}function L6(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var sU={exports:{}};/*!
    localForage -- Offline Storage, Improved
    Version 1.10.0
    https://localforage.github.io/localForage
    (c) 2013-2017 Mozilla, Apache License 2.0
*/var VY;function b0e(){return VY||(VY=1,function(t,r){(function(i){t.exports=i()})(function(){return function i(u,g,h){function x(D,O){if(!g[D]){if(!u[D]){var N=typeof L6=="function"&&L6;if(!O&&N)return N(D,!0);if(w)return w(D,!0);var V=new Error("Cannot find module '"+D+"'");throw V.code="MODULE_NOT_FOUND",V}var U=g[D]={exports:{}};u[D][0].call(U.exports,function(Z){var ee=u[D][1][Z];return x(ee||Z)},U,U.exports,i,u,g,h)}return g[D].exports}for(var w=typeof L6=="function"&&L6,I=0;I<h.length;I++)x(h[I]);return x}({1:[function(i,u,g){(function(h){var x=h.MutationObserver||h.WebKitMutationObserver,w;if(x){var I=0,D=new x(Z),O=h.document.createTextNode("");D.observe(O,{characterData:!0}),w=function(){O.data=I=++I%2}}else if(!h.setImmediate&&typeof h.MessageChannel<"u"){var N=new h.MessageChannel;N.port1.onmessage=Z,w=function(){N.port2.postMessage(0)}}else"document"in h&&"onreadystatechange"in h.document.createElement("script")?w=function(){var re=h.document.createElement("script");re.onreadystatechange=function(){Z(),re.onreadystatechange=null,re.parentNode.removeChild(re),re=null},h.document.documentElement.appendChild(re)}:w=function(){setTimeout(Z,0)};var V,U=[];function Z(){V=!0;for(var re,H,de=U.length;de;){for(H=U,U=[],re=-1;++re<de;)H[re]();de=U.length}V=!1}u.exports=ee;function ee(re){U.push(re)===1&&!V&&w()}}).call(this,typeof N6<"u"?N6:typeof self<"u"?self:typeof window<"u"?window:{})},{}],2:[function(i,u,g){var h=i(1);function x(){}var w={},I=["REJECTED"],D=["FULFILLED"],O=["PENDING"];u.exports=N;function N(fe){if(typeof fe!="function")throw new TypeError("resolver must be a function");this.state=O,this.queue=[],this.outcome=void 0,fe!==x&&ee(this,fe)}N.prototype.catch=function(fe){return this.then(null,fe)},N.prototype.then=function(fe,ne){if(typeof fe!="function"&&this.state===D||typeof ne!="function"&&this.state===I)return this;var Ve=new this.constructor(x);if(this.state!==O){var Fe=this.state===D?fe:ne;U(Ve,Fe,this.outcome)}else this.queue.push(new V(Ve,fe,ne));return Ve};function V(fe,ne,Ve){this.promise=fe,typeof ne=="function"&&(this.onFulfilled=ne,this.callFulfilled=this.otherCallFulfilled),typeof Ve=="function"&&(this.onRejected=Ve,this.callRejected=this.otherCallRejected)}V.prototype.callFulfilled=function(fe){w.resolve(this.promise,fe)},V.prototype.otherCallFulfilled=function(fe){U(this.promise,this.onFulfilled,fe)},V.prototype.callRejected=function(fe){w.reject(this.promise,fe)},V.prototype.otherCallRejected=function(fe){U(this.promise,this.onRejected,fe)};function U(fe,ne,Ve){h(function(){var Fe;try{Fe=ne(Ve)}catch(Xe){return w.reject(fe,Xe)}Fe===fe?w.reject(fe,new TypeError("Cannot resolve promise with itself")):w.resolve(fe,Fe)})}w.resolve=function(fe,ne){var Ve=re(Z,ne);if(Ve.status==="error")return w.reject(fe,Ve.value);var Fe=Ve.value;if(Fe)ee(fe,Fe);else{fe.state=D,fe.outcome=ne;for(var Xe=-1,rt=fe.queue.length;++Xe<rt;)fe.queue[Xe].callFulfilled(ne)}return fe},w.reject=function(fe,ne){fe.state=I,fe.outcome=ne;for(var Ve=-1,Fe=fe.queue.length;++Ve<Fe;)fe.queue[Ve].callRejected(ne);return fe};function Z(fe){var ne=fe&&fe.then;if(fe&&(typeof fe=="object"||typeof fe=="function")&&typeof ne=="function")return function(){ne.apply(fe,arguments)}}function ee(fe,ne){var Ve=!1;function Fe(_e){Ve||(Ve=!0,w.reject(fe,_e))}function Xe(_e){Ve||(Ve=!0,w.resolve(fe,_e))}function rt(){ne(Xe,Fe)}var xe=re(rt);xe.status==="error"&&Fe(xe.value)}function re(fe,ne){var Ve={};try{Ve.value=fe(ne),Ve.status="success"}catch(Fe){Ve.status="error",Ve.value=Fe}return Ve}N.resolve=H;function H(fe){return fe instanceof this?fe:w.resolve(new this(x),fe)}N.reject=de;function de(fe){var ne=new this(x);return w.reject(ne,fe)}N.all=le;function le(fe){var ne=this;if(Object.prototype.toString.call(fe)!=="[object Array]")return this.reject(new TypeError("must be an array"));var Ve=fe.length,Fe=!1;if(!Ve)return this.resolve([]);for(var Xe=new Array(Ve),rt=0,xe=-1,_e=new this(x);++xe<Ve;)R(fe[xe],xe);return _e;function R(it,lt){ne.resolve(it).then(Lt,function(Qt){Fe||(Fe=!0,w.reject(_e,Qt))});function Lt(Qt){Xe[lt]=Qt,++rt===Ve&&!Fe&&(Fe=!0,w.resolve(_e,Xe))}}}N.race=j;function j(fe){var ne=this;if(Object.prototype.toString.call(fe)!=="[object Array]")return this.reject(new TypeError("must be an array"));var Ve=fe.length,Fe=!1;if(!Ve)return this.resolve([]);for(var Xe=-1,rt=new this(x);++Xe<Ve;)xe(fe[Xe]);return rt;function xe(_e){ne.resolve(_e).then(function(R){Fe||(Fe=!0,w.resolve(rt,R))},function(R){Fe||(Fe=!0,w.reject(rt,R))})}}},{1:1}],3:[function(i,u,g){(function(h){typeof h.Promise!="function"&&(h.Promise=i(2))}).call(this,typeof N6<"u"?N6:typeof self<"u"?self:typeof window<"u"?window:{})},{2:2}],4:[function(i,u,g){var h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(De){return typeof De}:function(De){return De&&typeof Symbol=="function"&&De.constructor===Symbol&&De!==Symbol.prototype?"symbol":typeof De};function x(De,at){if(!(De instanceof at))throw new TypeError("Cannot call a class as a function")}function w(){try{if(typeof indexedDB<"u")return indexedDB;if(typeof webkitIndexedDB<"u")return webkitIndexedDB;if(typeof mozIndexedDB<"u")return mozIndexedDB;if(typeof OIndexedDB<"u")return OIndexedDB;if(typeof msIndexedDB<"u")return msIndexedDB}catch{return}}var I=w();function D(){try{if(!I||!I.open)return!1;var De=typeof openDatabase<"u"&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),at=typeof fetch=="function"&&fetch.toString().indexOf("[native code")!==-1;return(!De||at)&&typeof indexedDB<"u"&&typeof IDBKeyRange<"u"}catch{return!1}}function O(De,at){De=De||[],at=at||{};try{return new Blob(De,at)}catch(ot){if(ot.name!=="TypeError")throw ot;for(var Ue=typeof BlobBuilder<"u"?BlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:WebKitBlobBuilder,wt=new Ue,bt=0;bt<De.length;bt+=1)wt.append(De[bt]);return wt.getBlob(at.type)}}typeof Promise>"u"&&i(3);var N=Promise;function V(De,at){at&&De.then(function(Ue){at(null,Ue)},function(Ue){at(Ue)})}function U(De,at,Ue){typeof at=="function"&&De.then(at),typeof Ue=="function"&&De.catch(Ue)}function Z(De){return typeof De!="string"&&(console.warn(De+" used as a key, but it is not a string."),De=String(De)),De}function ee(){if(arguments.length&&typeof arguments[arguments.length-1]=="function")return arguments[arguments.length-1]}var re="local-forage-detect-blob-support",H=void 0,de={},le=Object.prototype.toString,j="readonly",fe="readwrite";function ne(De){for(var at=De.length,Ue=new ArrayBuffer(at),wt=new Uint8Array(Ue),bt=0;bt<at;bt++)wt[bt]=De.charCodeAt(bt);return Ue}function Ve(De){return new N(function(at){var Ue=De.transaction(re,fe),wt=O([""]);Ue.objectStore(re).put(wt,"key"),Ue.onabort=function(bt){bt.preventDefault(),bt.stopPropagation(),at(!1)},Ue.oncomplete=function(){var bt=navigator.userAgent.match(/Chrome\/(\d+)/),ot=navigator.userAgent.match(/Edge\//);at(ot||!bt||parseInt(bt[1],10)>=43)}}).catch(function(){return!1})}function Fe(De){return typeof H=="boolean"?N.resolve(H):Ve(De).then(function(at){return H=at,H})}function Xe(De){var at=de[De.name],Ue={};Ue.promise=new N(function(wt,bt){Ue.resolve=wt,Ue.reject=bt}),at.deferredOperations.push(Ue),at.dbReady?at.dbReady=at.dbReady.then(function(){return Ue.promise}):at.dbReady=Ue.promise}function rt(De){var at=de[De.name],Ue=at.deferredOperations.pop();if(Ue)return Ue.resolve(),Ue.promise}function xe(De,at){var Ue=de[De.name],wt=Ue.deferredOperations.pop();if(wt)return wt.reject(at),wt.promise}function _e(De,at){return new N(function(Ue,wt){if(de[De.name]=de[De.name]||Me(),De.db)if(at)Xe(De),De.db.close();else return Ue(De.db);var bt=[De.name];at&&bt.push(De.version);var ot=I.open.apply(I,bt);at&&(ot.onupgradeneeded=function(Xt){var un=ot.result;try{un.createObjectStore(De.storeName),Xt.oldVersion<=1&&un.createObjectStore(re)}catch(vn){if(vn.name==="ConstraintError")console.warn('The database "'+De.name+'" has been upgraded from version '+Xt.oldVersion+" to version "+Xt.newVersion+', but the storage "'+De.storeName+'" already exists.');else throw vn}}),ot.onerror=function(Xt){Xt.preventDefault(),wt(ot.error)},ot.onsuccess=function(){var Xt=ot.result;Xt.onversionchange=function(un){un.target.close()},Ue(Xt),rt(De)}})}function R(De){return _e(De,!1)}function it(De){return _e(De,!0)}function lt(De,at){if(!De.db)return!0;var Ue=!De.db.objectStoreNames.contains(De.storeName),wt=De.version<De.db.version,bt=De.version>De.db.version;if(wt&&(De.version!==at&&console.warn('The database "'+De.name+`" can't be downgraded from version `+De.db.version+" to version "+De.version+"."),De.version=De.db.version),bt||Ue){if(Ue){var ot=De.db.version+1;ot>De.version&&(De.version=ot)}return!0}return!1}function Lt(De){return new N(function(at,Ue){var wt=new FileReader;wt.onerror=Ue,wt.onloadend=function(bt){var ot=btoa(bt.target.result||"");at({__local_forage_encoded_blob:!0,data:ot,type:De.type})},wt.readAsBinaryString(De)})}function Qt(De){var at=ne(atob(De.data));return O([at],{type:De.type})}function dt(De){return De&&De.__local_forage_encoded_blob}function Sn(De){var at=this,Ue=at._initReady().then(function(){var wt=de[at._dbInfo.name];if(wt&&wt.dbReady)return wt.dbReady});return U(Ue,De,De),Ue}function Et(De){Xe(De);for(var at=de[De.name],Ue=at.forages,wt=0;wt<Ue.length;wt++){var bt=Ue[wt];bt._dbInfo.db&&(bt._dbInfo.db.close(),bt._dbInfo.db=null)}return De.db=null,R(De).then(function(ot){return De.db=ot,lt(De)?it(De):ot}).then(function(ot){De.db=at.db=ot;for(var Xt=0;Xt<Ue.length;Xt++)Ue[Xt]._dbInfo.db=ot}).catch(function(ot){throw xe(De,ot),ot})}function et(De,at,Ue,wt){wt===void 0&&(wt=1);try{var bt=De.db.transaction(De.storeName,at);Ue(null,bt)}catch(ot){if(wt>0&&(!De.db||ot.name==="InvalidStateError"||ot.name==="NotFoundError"))return N.resolve().then(function(){if(!De.db||ot.name==="NotFoundError"&&!De.db.objectStoreNames.contains(De.storeName)&&De.version<=De.db.version)return De.db&&(De.version=De.db.version+1),it(De)}).then(function(){return Et(De).then(function(){et(De,at,Ue,wt-1)})}).catch(Ue);Ue(ot)}}function Me(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function ft(De){var at=this,Ue={db:null};if(De)for(var wt in De)Ue[wt]=De[wt];var bt=de[Ue.name];bt||(bt=Me(),de[Ue.name]=bt),bt.forages.push(at),at._initReady||(at._initReady=at.ready,at.ready=Sn);var ot=[];function Xt(){return N.resolve()}for(var un=0;un<bt.forages.length;un++){var vn=bt.forages[un];vn!==at&&ot.push(vn._initReady().catch(Xt))}var kn=bt.forages.slice(0);return N.all(ot).then(function(){return Ue.db=bt.db,R(Ue)}).then(function(gn){return Ue.db=gn,lt(Ue,at._defaultConfig.version)?it(Ue):gn}).then(function(gn){Ue.db=bt.db=gn,at._dbInfo=Ue;for(var Ao=0;Ao<kn.length;Ao++){var fn=kn[Ao];fn!==at&&(fn._dbInfo.db=Ue.db,fn._dbInfo.version=Ue.version)}})}function so(De,at){var Ue=this;De=Z(De);var wt=new N(function(bt,ot){Ue.ready().then(function(){et(Ue._dbInfo,j,function(Xt,un){if(Xt)return ot(Xt);try{var vn=un.objectStore(Ue._dbInfo.storeName),kn=vn.get(De);kn.onsuccess=function(){var gn=kn.result;gn===void 0&&(gn=null),dt(gn)&&(gn=Qt(gn)),bt(gn)},kn.onerror=function(){ot(kn.error)}}catch(gn){ot(gn)}})}).catch(ot)});return V(wt,at),wt}function Wt(De,at){var Ue=this,wt=new N(function(bt,ot){Ue.ready().then(function(){et(Ue._dbInfo,j,function(Xt,un){if(Xt)return ot(Xt);try{var vn=un.objectStore(Ue._dbInfo.storeName),kn=vn.openCursor(),gn=1;kn.onsuccess=function(){var Ao=kn.result;if(Ao){var fn=Ao.value;dt(fn)&&(fn=Qt(fn));var Os=De(fn,Ao.key,gn++);Os!==void 0?bt(Os):Ao.continue()}else bt()},kn.onerror=function(){ot(kn.error)}}catch(Ao){ot(Ao)}})}).catch(ot)});return V(wt,at),wt}function In(De,at,Ue){var wt=this;De=Z(De);var bt=new N(function(ot,Xt){var un;wt.ready().then(function(){return un=wt._dbInfo,le.call(at)==="[object Blob]"?Fe(un.db).then(function(vn){return vn?at:Lt(at)}):at}).then(function(vn){et(wt._dbInfo,fe,function(kn,gn){if(kn)return Xt(kn);try{var Ao=gn.objectStore(wt._dbInfo.storeName);vn===null&&(vn=void 0);var fn=Ao.put(vn,De);gn.oncomplete=function(){vn===void 0&&(vn=null),ot(vn)},gn.onabort=gn.onerror=function(){var Os=fn.error?fn.error:fn.transaction.error;Xt(Os)}}catch(Os){Xt(Os)}})}).catch(Xt)});return V(bt,Ue),bt}function sn(De,at){var Ue=this;De=Z(De);var wt=new N(function(bt,ot){Ue.ready().then(function(){et(Ue._dbInfo,fe,function(Xt,un){if(Xt)return ot(Xt);try{var vn=un.objectStore(Ue._dbInfo.storeName),kn=vn.delete(De);un.oncomplete=function(){bt()},un.onerror=function(){ot(kn.error)},un.onabort=function(){var gn=kn.error?kn.error:kn.transaction.error;ot(gn)}}catch(gn){ot(gn)}})}).catch(ot)});return V(wt,at),wt}function J(De){var at=this,Ue=new N(function(wt,bt){at.ready().then(function(){et(at._dbInfo,fe,function(ot,Xt){if(ot)return bt(ot);try{var un=Xt.objectStore(at._dbInfo.storeName),vn=un.clear();Xt.oncomplete=function(){wt()},Xt.onabort=Xt.onerror=function(){var kn=vn.error?vn.error:vn.transaction.error;bt(kn)}}catch(kn){bt(kn)}})}).catch(bt)});return V(Ue,De),Ue}function fo(De){var at=this,Ue=new N(function(wt,bt){at.ready().then(function(){et(at._dbInfo,j,function(ot,Xt){if(ot)return bt(ot);try{var un=Xt.objectStore(at._dbInfo.storeName),vn=un.count();vn.onsuccess=function(){wt(vn.result)},vn.onerror=function(){bt(vn.error)}}catch(kn){bt(kn)}})}).catch(bt)});return V(Ue,De),Ue}function Zt(De,at){var Ue=this,wt=new N(function(bt,ot){if(De<0){bt(null);return}Ue.ready().then(function(){et(Ue._dbInfo,j,function(Xt,un){if(Xt)return ot(Xt);try{var vn=un.objectStore(Ue._dbInfo.storeName),kn=!1,gn=vn.openKeyCursor();gn.onsuccess=function(){var Ao=gn.result;if(!Ao){bt(null);return}De===0||kn?bt(Ao.key):(kn=!0,Ao.advance(De))},gn.onerror=function(){ot(gn.error)}}catch(Ao){ot(Ao)}})}).catch(ot)});return V(wt,at),wt}function bn(De){var at=this,Ue=new N(function(wt,bt){at.ready().then(function(){et(at._dbInfo,j,function(ot,Xt){if(ot)return bt(ot);try{var un=Xt.objectStore(at._dbInfo.storeName),vn=un.openKeyCursor(),kn=[];vn.onsuccess=function(){var gn=vn.result;if(!gn){wt(kn);return}kn.push(gn.key),gn.continue()},vn.onerror=function(){bt(vn.error)}}catch(gn){bt(gn)}})}).catch(bt)});return V(Ue,De),Ue}function Ke(De,at){at=ee.apply(this,arguments);var Ue=this.config();De=typeof De!="function"&&De||{},De.name||(De.name=De.name||Ue.name,De.storeName=De.storeName||Ue.storeName);var wt=this,bt;if(!De.name)bt=N.reject("Invalid arguments");else{var ot=De.name===Ue.name&&wt._dbInfo.db,Xt=ot?N.resolve(wt._dbInfo.db):R(De).then(function(un){var vn=de[De.name],kn=vn.forages;vn.db=un;for(var gn=0;gn<kn.length;gn++)kn[gn]._dbInfo.db=un;return un});De.storeName?bt=Xt.then(function(un){if(un.objectStoreNames.contains(De.storeName)){var vn=un.version+1;Xe(De);var kn=de[De.name],gn=kn.forages;un.close();for(var Ao=0;Ao<gn.length;Ao++){var fn=gn[Ao];fn._dbInfo.db=null,fn._dbInfo.version=vn}var Os=new N(function(Go,ns){var Mr=I.open(De.name,vn);Mr.onerror=function(Lo){var ql=Mr.result;ql.close(),ns(Lo)},Mr.onupgradeneeded=function(){var Lo=Mr.result;Lo.deleteObjectStore(De.storeName)},Mr.onsuccess=function(){var Lo=Mr.result;Lo.close(),Go(Lo)}});return Os.then(function(Go){kn.db=Go;for(var ns=0;ns<gn.length;ns++){var Mr=gn[ns];Mr._dbInfo.db=Go,rt(Mr._dbInfo)}}).catch(function(Go){throw(xe(De,Go)||N.resolve()).catch(function(){}),Go})}}):bt=Xt.then(function(un){Xe(De);var vn=de[De.name],kn=vn.forages;un.close();for(var gn=0;gn<kn.length;gn++){var Ao=kn[gn];Ao._dbInfo.db=null}var fn=new N(function(Os,Go){var ns=I.deleteDatabase(De.name);ns.onerror=function(){var Mr=ns.result;Mr&&Mr.close(),Go(ns.error)},ns.onblocked=function(){console.warn('dropInstance blocked for database "'+De.name+'" until all open connections are closed')},ns.onsuccess=function(){var Mr=ns.result;Mr&&Mr.close(),Os(Mr)}});return fn.then(function(Os){vn.db=Os;for(var Go=0;Go<kn.length;Go++){var ns=kn[Go];rt(ns._dbInfo)}}).catch(function(Os){throw(xe(De,Os)||N.resolve()).catch(function(){}),Os})})}return V(bt,at),bt}var tt={_driver:"asyncStorage",_initStorage:ft,_support:D(),iterate:Wt,getItem:so,setItem:In,removeItem:sn,clear:J,length:fo,key:Zt,keys:bn,dropInstance:Ke};function we(){return typeof openDatabase=="function"}var Re="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",He="~~local_forage_type~",be=/^~~local_forage_type~([^~]+)~/,ke="__lfsc__:",Ne=ke.length,Ge="arbf",pt="blob",cn="si08",jt="ui08",xn="uic8",Xn="si16",oo="si32",zo="ur16",No="ui32",Gs="fl32",ds="fl64",ei=Ne+Ge.length,_s=Object.prototype.toString;function Zi(De){var at=De.length*.75,Ue=De.length,wt,bt=0,ot,Xt,un,vn;De[De.length-1]==="="&&(at--,De[De.length-2]==="="&&at--);var kn=new ArrayBuffer(at),gn=new Uint8Array(kn);for(wt=0;wt<Ue;wt+=4)ot=Re.indexOf(De[wt]),Xt=Re.indexOf(De[wt+1]),un=Re.indexOf(De[wt+2]),vn=Re.indexOf(De[wt+3]),gn[bt++]=ot<<2|Xt>>4,gn[bt++]=(Xt&15)<<4|un>>2,gn[bt++]=(un&3)<<6|vn&63;return kn}function On(De){var at=new Uint8Array(De),Ue="",wt;for(wt=0;wt<at.length;wt+=3)Ue+=Re[at[wt]>>2],Ue+=Re[(at[wt]&3)<<4|at[wt+1]>>4],Ue+=Re[(at[wt+1]&15)<<2|at[wt+2]>>6],Ue+=Re[at[wt+2]&63];return at.length%3===2?Ue=Ue.substring(0,Ue.length-1)+"=":at.length%3===1&&(Ue=Ue.substring(0,Ue.length-2)+"=="),Ue}function vo(De,at){var Ue="";if(De&&(Ue=_s.call(De)),De&&(Ue==="[object ArrayBuffer]"||De.buffer&&_s.call(De.buffer)==="[object ArrayBuffer]")){var wt,bt=ke;De instanceof ArrayBuffer?(wt=De,bt+=Ge):(wt=De.buffer,Ue==="[object Int8Array]"?bt+=cn:Ue==="[object Uint8Array]"?bt+=jt:Ue==="[object Uint8ClampedArray]"?bt+=xn:Ue==="[object Int16Array]"?bt+=Xn:Ue==="[object Uint16Array]"?bt+=zo:Ue==="[object Int32Array]"?bt+=oo:Ue==="[object Uint32Array]"?bt+=No:Ue==="[object Float32Array]"?bt+=Gs:Ue==="[object Float64Array]"?bt+=ds:at(new Error("Failed to get type for BinaryArray"))),at(bt+On(wt))}else if(Ue==="[object Blob]"){var ot=new FileReader;ot.onload=function(){var Xt=He+De.type+"~"+On(this.result);at(ke+pt+Xt)},ot.readAsArrayBuffer(De)}else try{at(JSON.stringify(De))}catch(Xt){console.error("Couldn't convert value into a JSON string: ",De),at(null,Xt)}}function Do(De){if(De.substring(0,Ne)!==ke)return JSON.parse(De);var at=De.substring(ei),Ue=De.substring(Ne,ei),wt;if(Ue===pt&&be.test(at)){var bt=at.match(be);wt=bt[1],at=at.substring(bt[0].length)}var ot=Zi(at);switch(Ue){case Ge:return ot;case pt:return O([ot],{type:wt});case cn:return new Int8Array(ot);case jt:return new Uint8Array(ot);case xn:return new Uint8ClampedArray(ot);case Xn:return new Int16Array(ot);case zo:return new Uint16Array(ot);case oo:return new Int32Array(ot);case No:return new Uint32Array(ot);case Gs:return new Float32Array(ot);case ds:return new Float64Array(ot);default:throw new Error("Unkown type: "+Ue)}}var li={serialize:vo,deserialize:Do,stringToBuffer:Zi,bufferToString:On};function nl(De,at,Ue,wt){De.executeSql("CREATE TABLE IF NOT EXISTS "+at.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],Ue,wt)}function en(De){var at=this,Ue={db:null};if(De)for(var wt in De)Ue[wt]=typeof De[wt]!="string"?De[wt].toString():De[wt];var bt=new N(function(ot,Xt){try{Ue.db=openDatabase(Ue.name,String(Ue.version),Ue.description,Ue.size)}catch(un){return Xt(un)}Ue.db.transaction(function(un){nl(un,Ue,function(){at._dbInfo=Ue,ot()},function(vn,kn){Xt(kn)})},Xt)});return Ue.serializer=li,bt}function pi(De,at,Ue,wt,bt,ot){De.executeSql(Ue,wt,bt,function(Xt,un){un.code===un.SYNTAX_ERR?Xt.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[at.storeName],function(vn,kn){kn.rows.length?ot(vn,un):nl(vn,at,function(){vn.executeSql(Ue,wt,bt,ot)},ot)},ot):ot(Xt,un)},ot)}function fs(De,at){var Ue=this;De=Z(De);var wt=new N(function(bt,ot){Ue.ready().then(function(){var Xt=Ue._dbInfo;Xt.db.transaction(function(un){pi(un,Xt,"SELECT * FROM "+Xt.storeName+" WHERE key = ? LIMIT 1",[De],function(vn,kn){var gn=kn.rows.length?kn.rows.item(0).value:null;gn&&(gn=Xt.serializer.deserialize(gn)),bt(gn)},function(vn,kn){ot(kn)})})}).catch(ot)});return V(wt,at),wt}function Zl(De,at){var Ue=this,wt=new N(function(bt,ot){Ue.ready().then(function(){var Xt=Ue._dbInfo;Xt.db.transaction(function(un){pi(un,Xt,"SELECT * FROM "+Xt.storeName,[],function(vn,kn){for(var gn=kn.rows,Ao=gn.length,fn=0;fn<Ao;fn++){var Os=gn.item(fn),Go=Os.value;if(Go&&(Go=Xt.serializer.deserialize(Go)),Go=De(Go,Os.key,fn+1),Go!==void 0){bt(Go);return}}bt()},function(vn,kn){ot(kn)})})}).catch(ot)});return V(wt,at),wt}function Ks(De,at,Ue,wt){var bt=this;De=Z(De);var ot=new N(function(Xt,un){bt.ready().then(function(){at===void 0&&(at=null);var vn=at,kn=bt._dbInfo;kn.serializer.serialize(at,function(gn,Ao){Ao?un(Ao):kn.db.transaction(function(fn){pi(fn,kn,"INSERT OR REPLACE INTO "+kn.storeName+" (key, value) VALUES (?, ?)",[De,gn],function(){Xt(vn)},function(Os,Go){un(Go)})},function(fn){if(fn.code===fn.QUOTA_ERR){if(wt>0){Xt(Ks.apply(bt,[De,vn,Ue,wt-1]));return}un(fn)}})})}).catch(un)});return V(ot,Ue),ot}function ti(De,at,Ue){return Ks.apply(this,[De,at,Ue,1])}function Dm(De,at){var Ue=this;De=Z(De);var wt=new N(function(bt,ot){Ue.ready().then(function(){var Xt=Ue._dbInfo;Xt.db.transaction(function(un){pi(un,Xt,"DELETE FROM "+Xt.storeName+" WHERE key = ?",[De],function(){bt()},function(vn,kn){ot(kn)})})}).catch(ot)});return V(wt,at),wt}function Zu(De){var at=this,Ue=new N(function(wt,bt){at.ready().then(function(){var ot=at._dbInfo;ot.db.transaction(function(Xt){pi(Xt,ot,"DELETE FROM "+ot.storeName,[],function(){wt()},function(un,vn){bt(vn)})})}).catch(bt)});return V(Ue,De),Ue}function Tc(De){var at=this,Ue=new N(function(wt,bt){at.ready().then(function(){var ot=at._dbInfo;ot.db.transaction(function(Xt){pi(Xt,ot,"SELECT COUNT(key) as c FROM "+ot.storeName,[],function(un,vn){var kn=vn.rows.item(0).c;wt(kn)},function(un,vn){bt(vn)})})}).catch(bt)});return V(Ue,De),Ue}function xl(De,at){var Ue=this,wt=new N(function(bt,ot){Ue.ready().then(function(){var Xt=Ue._dbInfo;Xt.db.transaction(function(un){pi(un,Xt,"SELECT key FROM "+Xt.storeName+" WHERE id = ? LIMIT 1",[De+1],function(vn,kn){var gn=kn.rows.length?kn.rows.item(0).key:null;bt(gn)},function(vn,kn){ot(kn)})})}).catch(ot)});return V(wt,at),wt}function Gu(De){var at=this,Ue=new N(function(wt,bt){at.ready().then(function(){var ot=at._dbInfo;ot.db.transaction(function(Xt){pi(Xt,ot,"SELECT key FROM "+ot.storeName,[],function(un,vn){for(var kn=[],gn=0;gn<vn.rows.length;gn++)kn.push(vn.rows.item(gn).key);wt(kn)},function(un,vn){bt(vn)})})}).catch(bt)});return V(Ue,De),Ue}function Ps(De){return new N(function(at,Ue){De.transaction(function(wt){wt.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(bt,ot){for(var Xt=[],un=0;un<ot.rows.length;un++)Xt.push(ot.rows.item(un).name);at({db:De,storeNames:Xt})},function(bt,ot){Ue(ot)})},function(wt){Ue(wt)})})}function yo(De,at){at=ee.apply(this,arguments);var Ue=this.config();De=typeof De!="function"&&De||{},De.name||(De.name=De.name||Ue.name,De.storeName=De.storeName||Ue.storeName);var wt=this,bt;return De.name?bt=new N(function(ot){var Xt;De.name===Ue.name?Xt=wt._dbInfo.db:Xt=openDatabase(De.name,"","",0),De.storeName?ot({db:Xt,storeNames:[De.storeName]}):ot(Ps(Xt))}).then(function(ot){return new N(function(Xt,un){ot.db.transaction(function(vn){function kn(Os){return new N(function(Go,ns){vn.executeSql("DROP TABLE IF EXISTS "+Os,[],function(){Go()},function(Mr,Lo){ns(Lo)})})}for(var gn=[],Ao=0,fn=ot.storeNames.length;Ao<fn;Ao++)gn.push(kn(ot.storeNames[Ao]));N.all(gn).then(function(){Xt()}).catch(function(Os){un(Os)})},function(vn){un(vn)})})}):bt=N.reject("Invalid arguments"),V(bt,at),bt}var Gl={_driver:"webSQLStorage",_initStorage:en,_support:we(),iterate:Zl,getItem:fs,setItem:ti,removeItem:Dm,clear:Zu,length:Tc,key:xl,keys:Gu,dropInstance:yo};function Di(){try{return typeof localStorage<"u"&&"setItem"in localStorage&&!!localStorage.setItem}catch{return!1}}function qu(De,at){var Ue=De.name+"/";return De.storeName!==at.storeName&&(Ue+=De.storeName+"/"),Ue}function mn(){var De="_localforage_support_test";try{return localStorage.setItem(De,!0),localStorage.removeItem(De),!1}catch{return!0}}function Yu(){return!mn()||localStorage.length>0}function Pm(De){var at=this,Ue={};if(De)for(var wt in De)Ue[wt]=De[wt];return Ue.keyPrefix=qu(De,at._defaultConfig),Yu()?(at._dbInfo=Ue,Ue.serializer=li,N.resolve()):N.reject()}function hr(De){var at=this,Ue=at.ready().then(function(){for(var wt=at._dbInfo.keyPrefix,bt=localStorage.length-1;bt>=0;bt--){var ot=localStorage.key(bt);ot.indexOf(wt)===0&&localStorage.removeItem(ot)}});return V(Ue,De),Ue}function Nm(De,at){var Ue=this;De=Z(De);var wt=Ue.ready().then(function(){var bt=Ue._dbInfo,ot=localStorage.getItem(bt.keyPrefix+De);return ot&&(ot=bt.serializer.deserialize(ot)),ot});return V(wt,at),wt}function ol(De,at){var Ue=this,wt=Ue.ready().then(function(){for(var bt=Ue._dbInfo,ot=bt.keyPrefix,Xt=ot.length,un=localStorage.length,vn=1,kn=0;kn<un;kn++){var gn=localStorage.key(kn);if(gn.indexOf(ot)===0){var Ao=localStorage.getItem(gn);if(Ao&&(Ao=bt.serializer.deserialize(Ao)),Ao=De(Ao,gn.substring(Xt),vn++),Ao!==void 0)return Ao}}});return V(wt,at),wt}function Fl(De,at){var Ue=this,wt=Ue.ready().then(function(){var bt=Ue._dbInfo,ot;try{ot=localStorage.key(De)}catch{ot=null}return ot&&(ot=ot.substring(bt.keyPrefix.length)),ot});return V(wt,at),wt}function wl(De){var at=this,Ue=at.ready().then(function(){for(var wt=at._dbInfo,bt=localStorage.length,ot=[],Xt=0;Xt<bt;Xt++){var un=localStorage.key(Xt);un.indexOf(wt.keyPrefix)===0&&ot.push(un.substring(wt.keyPrefix.length))}return ot});return V(Ue,De),Ue}function lr(De){var at=this,Ue=at.keys().then(function(wt){return wt.length});return V(Ue,De),Ue}function Ta(De,at){var Ue=this;De=Z(De);var wt=Ue.ready().then(function(){var bt=Ue._dbInfo;localStorage.removeItem(bt.keyPrefix+De)});return V(wt,at),wt}function $l(De,at,Ue){var wt=this;De=Z(De);var bt=wt.ready().then(function(){at===void 0&&(at=null);var ot=at;return new N(function(Xt,un){var vn=wt._dbInfo;vn.serializer.serialize(at,function(kn,gn){if(gn)un(gn);else try{localStorage.setItem(vn.keyPrefix+De,kn),Xt(ot)}catch(Ao){(Ao.name==="QuotaExceededError"||Ao.name==="NS_ERROR_DOM_QUOTA_REACHED")&&un(Ao),un(Ao)}})})});return V(bt,Ue),bt}function Lm(De,at){if(at=ee.apply(this,arguments),De=typeof De!="function"&&De||{},!De.name){var Ue=this.config();De.name=De.name||Ue.name,De.storeName=De.storeName||Ue.storeName}var wt=this,bt;return De.name?bt=new N(function(ot){De.storeName?ot(qu(De,wt._defaultConfig)):ot(De.name+"/")}).then(function(ot){for(var Xt=localStorage.length-1;Xt>=0;Xt--){var un=localStorage.key(Xt);un.indexOf(ot)===0&&localStorage.removeItem(un)}}):bt=N.reject("Invalid arguments"),V(bt,at),bt}var ou={_driver:"localStorageWrapper",_initStorage:Pm,_support:Di(),iterate:ol,getItem:Nm,setItem:$l,removeItem:Ta,clear:hr,length:lr,key:Fl,keys:wl,dropInstance:Lm},su=function(at,Ue){return at===Ue||typeof at=="number"&&typeof Ue=="number"&&isNaN(at)&&isNaN(Ue)},kf=function(at,Ue){for(var wt=at.length,bt=0;bt<wt;){if(su(at[bt],Ue))return!0;bt++}return!1},Vd=Array.isArray||function(De){return Object.prototype.toString.call(De)==="[object Array]"},ms={},Lr={},ci={INDEXEDDB:tt,WEBSQL:Gl,LOCALSTORAGE:ou},Mm=[ci.INDEXEDDB._driver,ci.WEBSQL._driver,ci.LOCALSTORAGE._driver],sl=["dropInstance"],ru=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(sl),Oa={description:"",driver:Mm.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function Ra(De,at){De[at]=function(){var Ue=arguments;return De.ready().then(function(){return De[at].apply(De,Ue)})}}function iu(){for(var De=1;De<arguments.length;De++){var at=arguments[De];if(at)for(var Ue in at)at.hasOwnProperty(Ue)&&(Vd(at[Ue])?arguments[0][Ue]=at[Ue].slice():arguments[0][Ue]=at[Ue])}return arguments[0]}var Bs=function(){function De(at){x(this,De);for(var Ue in ci)if(ci.hasOwnProperty(Ue)){var wt=ci[Ue],bt=wt._driver;this[Ue]=bt,ms[bt]||this.defineDriver(wt)}this._defaultConfig=iu({},Oa),this._config=iu({},this._defaultConfig,at),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return De.prototype.config=function(Ue){if((typeof Ue>"u"?"undefined":h(Ue))==="object"){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var wt in Ue){if(wt==="storeName"&&(Ue[wt]=Ue[wt].replace(/\W/g,"_")),wt==="version"&&typeof Ue[wt]!="number")return new Error("Database version must be a number.");this._config[wt]=Ue[wt]}return"driver"in Ue&&Ue.driver?this.setDriver(this._config.driver):!0}else return typeof Ue=="string"?this._config[Ue]:this._config},De.prototype.defineDriver=function(Ue,wt,bt){var ot=new N(function(Xt,un){try{var vn=Ue._driver,kn=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!Ue._driver){un(kn);return}for(var gn=ru.concat("_initStorage"),Ao=0,fn=gn.length;Ao<fn;Ao++){var Os=gn[Ao],Go=!kf(sl,Os);if((Go||Ue[Os])&&typeof Ue[Os]!="function"){un(kn);return}}var ns=function(){for(var ql=function(Ar){return function(){var Ef=new Error("Method "+Ar+" is not implemented by the current driver"),ni=N.reject(Ef);return V(ni,arguments[arguments.length-1]),ni}},Ia=0,wo=sl.length;Ia<wo;Ia++){var rl=sl[Ia];Ue[rl]||(Ue[rl]=ql(rl))}};ns();var Mr=function(ql){ms[vn]&&console.info("Redefining LocalForage driver: "+vn),ms[vn]=Ue,Lr[vn]=ql,Xt()};"_support"in Ue?Ue._support&&typeof Ue._support=="function"?Ue._support().then(Mr,un):Mr(!!Ue._support):Mr(!0)}catch(Lo){un(Lo)}});return U(ot,wt,bt),ot},De.prototype.driver=function(){return this._driver||null},De.prototype.getDriver=function(Ue,wt,bt){var ot=ms[Ue]?N.resolve(ms[Ue]):N.reject(new Error("Driver not found."));return U(ot,wt,bt),ot},De.prototype.getSerializer=function(Ue){var wt=N.resolve(li);return U(wt,Ue),wt},De.prototype.ready=function(Ue){var wt=this,bt=wt._driverSet.then(function(){return wt._ready===null&&(wt._ready=wt._initDriver()),wt._ready});return U(bt,Ue,Ue),bt},De.prototype.setDriver=function(Ue,wt,bt){var ot=this;Vd(Ue)||(Ue=[Ue]);var Xt=this._getSupportedDrivers(Ue);function un(){ot._config.driver=ot.driver()}function vn(Ao){return ot._extend(Ao),un(),ot._ready=ot._initStorage(ot._config),ot._ready}function kn(Ao){return function(){var fn=0;function Os(){for(;fn<Ao.length;){var Go=Ao[fn];return fn++,ot._dbInfo=null,ot._ready=null,ot.getDriver(Go).then(vn).catch(Os)}un();var ns=new Error("No available storage method found.");return ot._driverSet=N.reject(ns),ot._driverSet}return Os()}}var gn=this._driverSet!==null?this._driverSet.catch(function(){return N.resolve()}):N.resolve();return this._driverSet=gn.then(function(){var Ao=Xt[0];return ot._dbInfo=null,ot._ready=null,ot.getDriver(Ao).then(function(fn){ot._driver=fn._driver,un(),ot._wrapLibraryMethodsWithReady(),ot._initDriver=kn(Xt)})}).catch(function(){un();var Ao=new Error("No available storage method found.");return ot._driverSet=N.reject(Ao),ot._driverSet}),U(this._driverSet,wt,bt),this._driverSet},De.prototype.supports=function(Ue){return!!Lr[Ue]},De.prototype._extend=function(Ue){iu(this,Ue)},De.prototype._getSupportedDrivers=function(Ue){for(var wt=[],bt=0,ot=Ue.length;bt<ot;bt++){var Xt=Ue[bt];this.supports(Xt)&&wt.push(Xt)}return wt},De.prototype._wrapLibraryMethodsWithReady=function(){for(var Ue=0,wt=ru.length;Ue<wt;Ue++)Ra(this,ru[Ue])},De.prototype.createInstance=function(Ue){return new De(Ue)},De}(),cr=new Bs;u.exports=cr},{3:3}]},{},[4])(4)})}(sU)),sU.exports}var v0e=b0e();const y0e=nK(v0e);function ju(t){return y0e.createInstance({name:"xlas-assessment-corrector",storeName:t})}const Od=ju("changes");function x0e(){const t={changes:{},lastSave:0,lastSendingSuccess:0};for(const r of bs.STORED_TYPES)t.changes[r]={};return t}const w0e=nu("changes",{state:()=>x0e(),getters:{countChanges(t){let r=0;for(const i of bs.STORED_TYPES)r+=Object.keys(t.changes[i]).length;return r},getChangesCount(t){return function(i){return Object.keys(t.changes[i]??[]).length}},getChangesFor(t){return function(i,u=0){if(!bs.STORED_TYPES.includes(i))return[];const g=[];for(const h in t.changes[i]){const x=t.changes[i][h];(u==0||x.last_change<=u)&&g.push(x)}return g}},getChangeDataToSend(t){return function(i,u=null){const g=i.getData();return u&&(g.payload=u),g.last_change=Se.api().getServerTime(i.last_change),g}}},actions:{async clearStorage(){try{this.$reset(),await Od.clear()}catch(t){console.log(t)}},async loadFromStorage(){this.$reset();try{for(const t in this.changes){const r=await Od.getItem(t)??[];for(const i of r){const u=await Od.getItem(bs.buildChangeKey(t,i)),g=JSON.parse(u);typeof g=="object"&&g!==null&&(this.changes[t][i]=new bs(g))}}this.lastSave=parseInt(await Od.getItem("lastSave")),this.lastSendingSuccess=parseInt(await Od.getItem("lastSendingSuccess"))}catch(t){console.log(t)}},async setChange(t){t.isValid()&&(this.changes[t.type][t.key]=t,await Od.setItem(t.getChangeKey(),JSON.stringify(t.getData())),await Od.setItem(t.type,Object.keys(this.changes[t.type])),this.lastSave=Date.now(),await Od.setItem("lastSave",this.lastSave))},async unsetChange(t){t.isValid()&&(delete this.changes[t.type][t.key],await Od.removeItem(t.getChangeKey()),await Od.setItem(t.type,Object.keys(this.changes[t.type])),this.lastSave=Date.now(),await Od.setItem("lastSave",this.lastSave))},async setChangesSent(t,r=[],i){let u=!1;if(this.changes[t])for(const g of r){const h=new p0e(g),x=this.changes[t][h.key];x&&h.done&&x.last_change<=i&&(delete this.changes[t][h.key],await Od.removeItem(x.getChangeKey()),u=!0)}u&&(this.lastSave=Date.now(),await Od.setItem(t,Object.keys(this.changes[t])),await Od.setItem("lastSave",this.lastSave)),this.lastSendingSuccess=Date.now(),await Od.setItem("lastSendingSuccess",this.lastSendingSuccess)}}});class vR{constructor(r={}){_t(this,"x",0);_t(this,"y",0);r.x!==void 0&&r.x!==null&&(this.x=parseInt(r.x)),r.y!==void 0&&r.y!==null&&(this.y=parseInt(r.y))}getData(){return{x:this.x,y:this.y}}}const Ea=class Ea{constructor(r={}){_t(this,"key","");_t(this,"shape","");_t(this,"pos",new vR(0,0));_t(this,"end",new vR(0,0));_t(this,"width",0);_t(this,"height",0);_t(this,"polygon",[]);_t(this,"symbol","");this.setData(r)}setData(r){if(r.key!==void 0&&r.key!==null&&(this.key=r.key),r.shape!==void 0&&Ea.ALLOWED_SHAPES.includes(r.shape)&&(this.shape=r.shape.toString()),r.pos!==void 0&&r.pos!==null&&(this.pos=new vR(r.pos)),r.end!==void 0&&r.end!==null&&(this.end=new vR(r.end)),r.width!==void 0&&r.width!==null&&(this.width=parseInt(r.width)),r.height!==void 0&&r.height!==null&&(this.height=parseInt(r.height)),r.polygon!==void 0&&Array.isArray(r.polygon))for(const i of r.polygon)this.polygon.push(new vR(i));r.symbol!==void 0&&r.symbol!==null&&(this.symbol=r.symbol.toString())}getData(){let r=[];for(const i of this.polygon)r.push(i.getData());return{key:this.key,shape:this.shape,pos:this.pos.getData(),end:this.end.getData(),width:this.width,height:this.height,polygon:r,symbol:this.symbol}}getIcon(){switch(this.shape){case Ea.SHAPE_LINE:return"mdi-minus";case Ea.SHAPE_WAVE:return"mdi-wave";case Ea.SHAPE_RECTANGLE:return"mdi-rectangle-outline";case Ea.SHAPE_POLYGON:return"mdi-vector-triangle";case Ea.SHAPE_CIRCLE:switch(this.symbol){case Ea.SYMBOL_CHECK:return"mdi-check";case Ea.SYMBOL_CROSS:return"mdi-close";case Ea.SYMBOL_QUESTION:return"mdi-help"}}return""}};_t(Ea,"SHAPE_CIRCLE","circle"),_t(Ea,"SHAPE_RECTANGLE","rectangle"),_t(Ea,"SHAPE_POLYGON","polygon"),_t(Ea,"SHAPE_LINE","line"),_t(Ea,"SHAPE_WAVE","wave"),_t(Ea,"ALLOWED_SHAPES",[Ea.SHAPE_CIRCLE,Ea.SHAPE_RECTANGLE,Ea.SHAPE_POLYGON,Ea.SHAPE_LINE,Ea.SHAPE_WAVE]),_t(Ea,"SYMBOL_CHECK",""),_t(Ea,"SYMBOL_CROSS",""),_t(Ea,"SYMBOL_QUESTION","?");let Cm=Ea;const wm=class wm{constructor(r={}){_t(this,"key","");_t(this,"item_key","");_t(this,"correction_key","");_t(this,"task_id",null);_t(this,"writer_id",null);_t(this,"corrector_id",null);_t(this,"start_position",0);_t(this,"end_position",0);_t(this,"parent_number",0);_t(this,"comment","");_t(this,"rating_excellent",!1);_t(this,"rating_cardinal",!1);_t(this,"label","");_t(this,"prefix","");_t(this,"marks",[]);_t(this,"deleted",!1);if(r.key!==void 0&&r.key!==null&&(this.key=r.key.toString()),r.task_id!==void 0&&r.task_id!==null&&(this.task_id=parseInt(r.task_id)),r.task_id!==void 0&&r.task_id!==null&&(this.task_id=parseInt(r.task_id)),r.writer_id!==void 0&&r.writer_id!==null&&(this.writer_id=parseInt(r.writer_id)),r.corrector_id!==void 0&&r.corrector_id!==null&&(this.corrector_id=parseInt(r.corrector_id)),r.start_position!==void 0&&r.start_position!==null&&(this.start_position=parseInt(r.start_position)),r.end_position!==void 0&&r.end_position!==null&&(this.end_position=parseInt(r.end_position)),r.parent_number!==void 0&&r.parent_number!==null&&(this.parent_number=parseInt(r.parent_number)),r.comment!==void 0&&r.comment!==null&&(this.comment=r.comment.toString()),r.rating==wm.RAITNG_EXCELLENT?this.rating_excellent=!0:r.rating==wm.RATING_CARDINAL&&(this.rating_cardinal=!0),r.marks!==void 0&&Array.isArray(r.marks))for(const i of r.marks)this.addMarkData(i);!this.key&&this.corrector_id&&(this.key=wm.newKey(this.corrector_id)),!this.item_key&&this.task_id&&this.writer_id&&(this.item_key=Jr.buildKey(this.task_id,this.writer_id)),!this.correction_key&&this.task_id&&this.writer_id&&this.corrector_id&&(this.correction_key=Wi.buildKey(this.task_id,this.writer_id,this.corrector_id))}static order(r,i){return r.parent_number<i.parent_number?-1:r.parent_number>i.parent_number?1:r.start_position<i.start_position?-1:r.start_position>i.start_position?1:0}static newKey(r){return"C"+r+"_"+Math.random().toString()}setCorrectionKey(r){this.correction_key=r,this.task_id=Wi.extractTaskId(this.correction_key),this.writer_id=Wi.extractWriterId(this.correction_key),this.corrector_id=Wi.extractCorrectorId(this.correction_key),this.item_key=Jr.buildKey(this.task_id,this.writer_id),this.key=wm.newKey(this.corrector_id)}addMarkData(r){this.marks.push(new Cm(r)),this.calculateStartPositon()}updateMarkData(r){for(const i of this.marks)i.key==r.key&&i.setData(r);this.calculateStartPositon()}getMarkIcon(){for(const r of this.marks)return r.getIcon();return null}getMarkByKey(r){for(const i of this.marks)if(i.key==r)return i;return null}getMarkColor(r){const i=r.shape==Cm.SHAPE_CIRCLE||r.shape==Cm.SHAPE_POLYGON||r.shape==Cm.SHAPE_RECTANGLE;return this.prefix=="own"?this.rating_excellent?i?"#E3EFDD80":"#19e62e":this.rating_cardinal?i?"#FBDED180":"#bc4710":i?"#D8E5F480":"#3365ff":this.rating_excellent?i?"#F7F9F780":"#19e62e":this.rating_cardinal?i?"#FCF6F480":"#bc4710":i?"#F5F7FB80":"#3365ff"}getMarkSelectedColor(r){const i=r.shape==Cm.SHAPE_CIRCLE||r.shape==Cm.SHAPE_POLYGON||r.shape==Cm.SHAPE_RECTANGLE;return this.rating_excellent?i?"#BBEBA5A0":"#19e62e":this.rating_cardinal?i?"#FCB494A0":"#bc4710":i?"#94C3FCA0":"#3365ff"}calculateStartPositon(){let r=null;for(const i of this.marks)(r===null||i.pos.y>r)&&(r=i.pos.y);r!==null&&(this.start_position=r)}hasMarkKey(r){for(const i of this.marks)if(i.key==r)return!0;return!1}getData(){let r=[];for(const i of this.marks)r.push(i.getData());return{key:this.key,item_key:this.item_key,correction_key:this.correction_key,task_id:this.task_id,writer_id:this.writer_id,corrector_id:this.corrector_id,start_position:this.start_position,end_position:this.end_position,parent_number:this.parent_number,comment:this.comment,rating:this.rating_excellent?wm.RAITNG_EXCELLENT:this.rating_cardinal?wm.RATING_CARDINAL:"",marks:r}}};_t(wm,"RATING_CARDINAL","cardinal"),_t(wm,"RAITNG_EXCELLENT","excellent"),_t(wm,"ALLOWED_RATING",[wm.RATING_CARDINAL,wm.RAITNG_EXCELLENT]);let DC=wm;const Nu=ju("comments"),C0e=nu("comments",{state:()=>({keys:[],comments:[],showOtherCorrections:!0,markerChange:0,selectionChange:0,filterChange:0,caretRequest:0,selectedKey:"",firstVisibleKey:"",filterKeys:[]}),getters:{selectedComment(t){return t.getComment(t.selectedKey)},selectedLabel(t){let r=t.getComment(t.selectedKey);return r?r.label:""},activeComments(t){return Se.api(),t.comments.filter(r=>(t.showOtherCorrections||r.correction_key==Se.corrections().ownKey)&&(t.filterKeys.length==0||t.filterKeys.includes(r.key)))},isOtherCorrectionsShown(t){return t.showOtherCorrections},isFilterActive(t){return t.filterKeys.length>0},getComment(t){return function(i){return t.comments.find(u=>u.key==i)}},getCommentByMarkKey(t){return function(i){return t.comments.find(u=>u.hasMarkKey(i))}},getActiveCommentsInRange(t){return function(i,u){return t.activeComments.filter(g=>g.start_position<=u&&g.end_position>=i)}},getActiveCommentsByStartPosition(t){return function(i){return t.activeComments.filter(u=>u.start_position==i)}},getActiveCommentsByParentNumber(t){return function(i){return t.activeComments.filter(u=>u.parent_number==i)}},getCountOfExcellent(t){return function(i){return t.comments.filter(u=>u.correction_key==i&&u.rating_excellent).length}},getCountOfCardinal(t){return function(i){return t.comments.filter(u=>u.correction_key==i&&u.rating_cardinal).length}}},actions:{setFirstVisibleComment(t){this.firstVisibleKey=t},setMarkerChange(){this.markerChange=Date.now()},setFilterChange(){this.filterChange=Date.now()},setCaretRequest(){this.caretRequest=Date.now()},selectComment(t,r=!0){this.selectedKey=t,r&&(this.selectionChange=Date.now())},async createComment(t,r,i){let u=new DC({start_position:t,end_position:r,parent_number:i});return await this.addComment(u),u.key},async addComment(t){const r=Se.corrections(),i=Se.changes();return t.setCorrectionKey(r.ownKey),this.keys.push(t.key),this.filterKeys.length>0&&(this.filterKeys.push(t.key),this.setFilterChange()),this.comments.push(t),await this.sortAndLabelComments(),this.setMarkerChange(),this.selectComment(t.key,!0),await Nu.setItem(t.key,JSON.stringify(t.getData())),await Nu.setItem("keys",JSON.stringify(this.keys)),await i.setChange(new bs({type:bs.TYPE_COMMENT,action:bs.ACTION_SAVE,key:t.key,item_key:t.item_key})),t.key},async updateComment(t,r=!1){Se.api();const i=Se.summaries(),u=Se.changes();this.keys.includes(t.key)&&t.correction_key==Se.corrections().ownKey&&!i.isOwnDisabled&&(await Nu.setItem(t.key,JSON.stringify(t.getData())),await u.setChange(new bs({type:bs.TYPE_COMMENT,action:bs.ACTION_SAVE,key:t.key,item_key:t.item_key})),r&&(await this.sortAndLabelComments(),this.setMarkerChange()))},async deleteComment(t){await this.removeComment(t),await this.sortAndLabelComments(),this.setMarkerChange()},async removeComment(t){const r=Se.changes();await Se.points().deletePointsOfComment(t),this.selectedKey==t&&this.selectComment("",!0);const u=this.comments.find(h=>h.key==t);this.comments=this.comments.filter(h=>h.key!=t),this.keys.includes(t)&&(this.keys=this.keys.filter(h=>h!=t),await Nu.setItem("keys",JSON.stringify(this.keys)),await Nu.removeItem(t));const g=new bs({type:bs.TYPE_COMMENT,action:bs.ACTION_DELETE,key:u.key,item_key:u.item_key,payload:u.getData()});await r.setChange(g)},async sortAndLabelComments(){Se.api();const t=Se.corrections();this.comments=this.comments.sort(DC.order);let r=0,i={};for(const u of this.comments){const g=t.getCorrection(u.correction_key),h=g?g.initials:"??";if(u.parent_number>r){r=u.parent_number;for(const x of t.correctionKeys)i[x]=0;i[u.correction_key]=1}else i[u.correction_key]++;u.label=h+" "+r.toString()+"."+i[u.correction_key].toString(),u.prefix=u.correction_key==Se.corrections().ownKey?"own":"other"}},setFilterByRating(t,r,i){this.filterKeys=[];for(const u of this.comments)u.correction_key==t&&u.rating_excellent==r&&u.rating_cardinal==i&&this.filterKeys.push(u.key);this.setFilterChange()},setFilterByPoints(t){const r=Se.points();this.filterKeys=[];for(const i of this.comments)i.correction_key==t&&r.getCommentHasPoints(i.key)&&this.filterKeys.push(i.key);this.setFilterChange()},setFilterByCriterion(t,r){const i=Se.points();this.filterKeys=[];for(const u of this.comments)u.correction_key==t&&i.getCommentHasPointsForCriterion(u.key,r)&&this.filterKeys.push(u.key);this.setFilterChange()},resetFilter(){this.filterKeys=[],this.setFilterChange()},async setShowOtherCorrections(t){this.showOtherCorrections=!!t,this.markerChange=Date.now(),await Nu.setItem("showOtherCorrections",JSON.stringify(this.showOtherCorrections))},async clearStorage(){try{await Nu.clear()}catch(t){console.log(t)}this.$reset()},async loadFromStorage(){const t=Se.api();try{this.$reset();const r=await Nu.getItem("keys");r&&(this.keys=JSON.parse(r)),this.showOtherCorrections=!!JSON.parse(await Nu.getItem("showOtherCorrections"));for(const i of this.keys){const u=new DC(JSON.parse(await Nu.getItem(i)));u.item_key==t.itemKey&&this.comments.push(u)}await this.sortAndLabelComments()}catch(r){console.log(r)}},async loadFromBackend(t){const r=Se.api();try{this.$reset(),this.showOtherCorrections=!!JSON.parse(await Nu.getItem("showOtherCorrections")),await Nu.clear();for(const i of t){const u=new DC(i);this.keys.push(u.key),await Nu.setItem(u.key,JSON.stringify(u.getData())),u.item_key==r.itemKey&&this.comments.push(u)}await this.sortAndLabelComments(),await Nu.setItem("keys",JSON.stringify(this.keys)),await Nu.setItem("showOtherCorrections",JSON.stringify(this.showOtherCorrections))}catch(i){console.log(i)}},async getChangedData(t=0){const r=Se.changes(),i=[];for(const u of r.getChangesFor(bs.TYPE_COMMENT,t)){const g=await Nu.getItem(u.key);g?i.push(r.getChangeDataToSend(u,JSON.parse(g))):i.push(r.getChangeDataToSend(u))}return i}}}),eE=ju("corrections"),{t:Uke}=$d.global,_0e=nu("corrections",{state:()=>({corrections:{},ownKey:""}),getters:{allCorrections(t){return Object.values(t.corrections)},sortedCorrections(t){return t.allCorrections.sort(Wi.order)},countCorrections(t){return t.allCorrections.length},correctionKeys(t){return Object.keys(t.corrections)},firstCorrection(t){return t.allCorrections.find(r=>r.position==Wi.POSITION_FIRST)??null},secondCorrection(t){return t.allCorrections.find(r=>r.position==Wi.POSITION_SECOND)??null},stitchCorrection(t){return t.allCorrections.find(r=>r.position==Wi.POSITION_STITCH)??null},ownCorrection(t){return t.allCorrections.find(r=>r.key==t.ownKey)??null},firstOtherCorrection(t){return t.allCorrections.sort(Wi.order).find(r=>r.key!=t.ownKey)??null},otherCorrections(t){return t.allCorrections.filter(r=>r.key!=t.ownKey).sort(Wi.order)},getCorrection(t){return function(i){return t.corrections[i]}}},actions:{async clearStorage(){try{await eE.clear(),this.$reset()}catch(t){console.log(t)}},async loadFromStorage(){try{this.$reset();const t=await eE.getItem("keys")??[];for(const r of t)this.corrections[r]=new Wi(await eE.getItem(r));this.updateOwnKey()}catch(t){console.log(t)}},async loadFromBackend(t=[]){try{await eE.clear(),this.$reset();for(const r of t){const i=new Wi(r);this.corrections[i.getKey()]=i,await eE.setItem(i.getKey(),i.getData())}await eE.setItem("keys",Object.keys(this.corrections)),this.updateOwnKey()}catch(r){console.log(r)}},updateOwnKey(){const t=Se.api();for(const r of Object.values(this.corrections))if(r.item_key==t.itemKey&&r.user_id==parseInt(t.userId)){this.ownKey=r.key;break}}}});class TE{constructor(r={}){_t(this,"key","");_t(this,"id",null);_t(this,"task_id",null);_t(this,"corrector_id",null);_t(this,"title","");_t(this,"description","");_t(this,"points",0);_t(this,"is_general",!1);r.id!==void 0&&r.id!==null&&(this.id=parseInt(r.id)),r.task_id!==void 0&&r.task_id!==null&&(this.task_id=parseInt(r.task_id)),r.corrector_id!==void 0&&r.corrector_id!==null&&(this.corrector_id=parseInt(r.corrector_id)),r.title!==void 0&&r.title!==null&&(this.title=r.title.toString()),r.description!==void 0&&r.description!==null&&(this.description=r.description.toString()),r.points!==void 0&&r.points!==null&&(this.points=parseInt(r.points)),r.is_general!==void 0&&r.is_general!==null&&(this.is_general=!!r.is_general),this.key=TE.buildKey(this.id)}static order(r,i){return r.title<i.title?-1:r.title>i.title?1:0}static buildKey(r){return"C"+r}static extractCriterionId(r){return parseInt(r.substring(1))}getKey(){return this.key}getData(){return Object.assign({},this)}}const tE=ju("criteria"),S0e=nu("criteria",{state:()=>({criteria:{}}),getters:{allCriteria(t){return Object.values(t.criteria)},ownCriteria(t){const r=Se.corrections().ownCorrection;return r?t.allCriteria.filter(i=>i.task_id===r.task_id&&(i.corrector_id===null||i.corrector_id===r.corrector_id)):[]},hasCommentCriteria(t){return!!t.allCriteria.find(r=>!r.is_general)},hasOwnCriteria(t){return!!t.ownCriteria},hasOwnGeneralCriteria(t){return!!t.ownCriteria.find(r=>r.is_general)},hasOwnCommentCriteria(t){return!!t.ownCriteria.find(r=>!r.is_general)},getCorrectionCriteria(t){return function(i){const u=Wi.extractTaskId(i),g=Wi.extractCorrectorId(i);return t.allCriteria.filter(h=>h.task_id===u&&(h.corrector_id===null||h.corrector_id===g))}},getCorrectionGeneralCriteria(t){return function(i){return t.getCorrectionCriteria(i).filter(u=>u.is_general)}},getCorrectionCommentCriteria(t){return function(i){return t.getCorrectionCriteria(i).filter(u=>!u.is_general)}},getCorrectionHasCriteria(t){return function(i){return!!t.getCorrectionCriteria(i)}},getCorrectionHasGeneralCriteria(t){return function(i){return!!t.getCorrectionGeneralCriteria(i)}},getCorrectionHasCommentCriteria(t){return function(i){return!!t.getCorrectionCommentCriteria(i)}}},actions:{async clearStorage(){try{this.$reset(),await tE.clear()}catch(t){console.log(t)}},async loadFromStorage(){try{this.$reset();const t=await tE.getItem("keys")??[];for(const r of t)this.criteria[r]=new TE(await tE.getItem(r))}catch(t){console.log(t)}},async loadFromBackend(t=[]){try{await tE.clear(),this.$reset();for(const r of t){const i=new TE(r);this.criteria[i.getKey()]=i,await tE.setItem(i.getKey(),i.getData())}await tE.setItem("keys",Object.keys(this.criteria))}catch(r){console.log(r)}}}}),rU=ju("essay"),k0e=nu("essay",{state:()=>({text:null}),getters:{},actions:{async clearStorage(){try{await rU.clear(),this.$reset()}catch(t){console.log(t)}},async loadFromStorage(){try{const t=await rU.getItem("essay");this.$patch(t)}catch(t){console.log(t)}},async loadFromBackend(t){try{await rU.setItem("essay",t),this.$patch(t)}catch(r){console.log(r)}}}}),H0=ju("items"),E0e=nu("items",{state:()=>({items:{},firstKey:null,lastKey:null,previousKey:null,nextKey:null}),getters:{currentKey(t){return Se.api().itemKey},currentItem(t){return t.items[Se.api().itemKey]},countItems(t){return Object.keys(t.items).length},hasItems(t){return t.countItems>0},sortedItems(t){if(Se.api().itemKey){const r=Jr.extractTaskId(Se.api().itemKey);return Object.values(t.items).filter(i=>i.task_id==r).toSorted(Jr.order)}else return Object.values(t.items).toSorted(Jr.order)},canAct(t){return t.canCorrect||t.canAuthorize||t.canRevise},canCorrect(t){var r;return(r=t.currentItem)==null?void 0:r.can_correct},canAuthorize(t){var r;return(r=t.currentItem)==null?void 0:r.can_authorize},canRevise(t){var r;return(r=t.currentItem)==null?void 0:r.can_revise},isOpen(t){var r;return((r=t.currentItem)==null?void 0:r.correction_status)===Jr.STATUS_OPEN},isInRevision(t){var r,i;return((r=t.currentItem)==null?void 0:r.correction_status)===Jr.STATUS_APPROXIMATION||((i=t.currentItem)==null?void 0:i.correction_status)===Jr.STATUS_CONSULTING},isInStitch(t){var r;return((r=t.currentItem)==null?void 0:r.correction_status)===Jr.STATUS_STITCH},isFinal(t){var r;return((r=t.currentItem)==null?void 0:r.correction_status)===Jr.STATUS_FINALIZED},getItem(t){return function(i,u=null){return t.items[i]??u}},getByTask(t){return function(i){const u=Object.values(t.items).find(g=>{var h;return g.getTaskKey()==i&&g.writer_id==((h=t.currentItem)==null?void 0:h.writer_id)});return u||Object.values(t.items).toSorted(Jr.order).find(g=>g.getTaskKey()==i)}}},actions:{async clearStorage(){try{this.$reset(),await H0.clear()}catch(t){console.log(t)}},async loadFromStorage(){try{this.$reset();const t=await H0.getItem("keys")??[];for(const r of t)this.items[r]=new Jr(await H0.getItem(r));this.updateCurrentKeys()}catch(t){console.log(t)}},async loadFromBackend(t=[]){try{await H0.clear(),this.$reset();for(const r of t){const i=new Jr(r);this.items[i.getKey()]=i,await H0.setItem(i.getKey(),i.getData())}await H0.setItem("keys",Object.keys(this.items)),this.updateCurrentKeys()}catch(r){console.log(r)}},async saveItem(t){try{this.items[t.getKey()]=t,await H0.setItem(t.getKey(),JSON.stringify(t.getData())),await H0.setItem("keys",Object.keys(this.items))}catch(r){console.log(r)}},async changeItem(t){t&&!Se.api().isLoading&&(Se.changes().countChanges==0||await Se.api().saveChangesToBackend(!0)?await Se.api().loadItemFromBackend(t):Se.layout().showSendFailure=!0)},async setCurrentGradingStatus(t){this.currentItem.grading_status=t,this.currentItem.title=Jr.buildTitle(this.currentItem),await H0.setItem(this.currentItem.getKey(),JSON.stringify(this.currentItem.getData()))},updateCurrentKeys(){var t,r;if(this.countItems){const i=this.sortedItems,u=0,g=i.length-1;this.firstKey=(t=i[u])==null?void 0:t.getKey(),this.lastKey=(r=i[g])==null?void 0:r.getKey(),this.previousKey=null,this.nextKey=null;for(let h=u;h<=g;h++){let x=i[h];if((x==null?void 0:x.getKey())==this.currentKey){this.previousKey=h>u?i[h-1].getKey():null,this.nextKey=h<g?i[h+1].getKey():null;break}}}}}}),iU=ju("layout"),A0e=nu("layout",{state:()=>({expandedColumn:"none",leftContent:"essay",rightContent:"marking",showMarkingComments:!0,showMarkingGeneralPoints:!0,showMarkingCommentPoints:!0,showMarkingText:!1,showLeftSummaryCriteria:!1,showRightSummaryCriteria:!1,showLeftSummaryText:!0,showRightSummaryText:!0,showLeftSummaryRevision:!1,showRightSummaryRevision:!1,leftCorrectionKey:"",rightCorrectionKey:"",showIncludesPopup:!1,initFailure:"",initialized:!1,showItemLoadFailure:!1,showSendFailure:!1,showDataReplaceConfirmation:!1,showItemReplaceConfirmation:!1,focusTarget:"",focusChange:0}),getters:{hasInitFailure:t=>t.initFailure!=="",isLeftExpanded:t=>t.expandedColumn=="left",isRightExpanded:t=>t.expandedColumn=="right",isInstructionsSelected:t=>t.leftContent=="instructions",isInstructionsPdfSelected:t=>t.leftContent=="instructionsPdf",isSolutionSelected:t=>t.leftContent=="solution",isSolutionPdfSelected:t=>t.leftContent=="solutionPdf",isResourcesSelected:t=>t.leftContent=="resources",isEssaySelected:t=>t.leftContent=="essay",isSummarySelected:t=>t.rightContent=="summary",isMarkingSelected:t=>t.rightContent=="marking",isLeftCorrectionSelected:t=>t.leftContent=="correction",isRightCorrectionSelected:t=>t.rightContent=="correction",isInstructionsVisible:t=>t.isInstructionsSelected&&t.isLeftVisible,isInstructionsPdfVisible:t=>t.isInstructionsPdfSelected&&t.isLeftVisible,isSolutionVisible:t=>t.isSolutionSelected&&t.isLeftVisible,isSolutionPdfVisible:t=>t.isSolutionPdfSelected&&t.isLeftVisible,isResourcesVisible:t=>t.isResourcesSelected&&t.isLeftVisible,isEssayVisible:t=>t.isEssaySelected&&t.isLeftVisible,isSummaryVisible:t=>t.isSummarySelected&&t.isRightVisible,isMarkingVisible:t=>t.isMarkingSelected&&t.isRightVisible,isLeftCorrectionVisible:t=>t.isLeftCorrectionSelected&&t.isLeftVisible,isRightCorrectionVisible:t=>t.isRightCorrectionSelected&&t.isRightVisible,isLeftVisible(t){return!Se.api().isLoading&&t.expandedColumn!="right"},isRightVisible(t){return!Se.api().isLoading&&t.expandedColumn!="left"},leftCorrectionTitle(t){const i=Se.corrections().getCorrection(t.leftCorrectionKey);return i?"Korrektur von "+i.title+" "+Jr.buildPositionText(i.position):""},rightCorrectionTitle(t){const i=Se.corrections().getCorrection(t.rightCorrectionKey);return i?"Korrektur von "+i.title+" "+Jr.buildPositionText(i.position):""},getCorrectionIsVisible(t){return function(i){return t.leftCorrectionKey==i&&t.isLeftCorrectionVisible||t.rightCorrectionKey==i&&t.isRightCorrectionVisible}}},actions:{async clearStorage(){try{await iU.clear()}catch(t){console.log(t)}this.$reset()},async loadFromStorage(){try{this.$reset();const t=await iU.getItem("layout");t&&(this.expandedColumn=t.expandedColumn,this.rightContent=t.rightContent,this.showMarkingComments=!!t.showMarkingComments,this.showMarkingGeneralPoints=!!t.showMarkingGeneralPoints,this.showMarkingCommentPoints=!!t.showMarkingCommentPoints,this.showMarkingText=!!t.showMarkingText,this.showLeftSummaryCriteria=!!t.showLeftSummaryCriteria,this.showRightSummaryCriteria=!!t.showRightSummaryCriteria,this.showLeftSummaryText=!!t.showLeftSummaryText,this.showRightSummaryText=!!t.showRightSummaryText),!this.showMarkingComments&&!this.showMarkingGeneralPoints&&!this.showMarkingCommentPoints&&(this.showMarkingComments=!0),!this.showLeftSummaryCriteria&&!this.showLeftSummaryText&&(this.showLeftSummaryCriteria=!0),!this.showRightSummaryCriteria&&!this.showRightSummaryText&&(this.showRightSummaryCriteria=!0)}catch(t){console.log(t)}},async saveToStorage(){try{await iU.setItem("layout",{expandedColumn:this.expandedColumn,leftContent:this.leftContent,rightContent:this.rightContent,showMarkingComments:this.showMarkingComments,showMarkingGeneralPoints:this.showMarkingGeneralPoints,showMarkingCommentPoints:this.showMarkingCommentPoints,showMarkingText:this.showMarkingText,showLeftSummaryCriteria:this.showLeftSummaryCriteria,showRightSummaryCriteria:this.showRightSummaryCriteria,showLeftSummaryText:this.showLeftSummaryText,showRightSummaryText:this.showRightSummaryText})}catch(t){console.log(t)}},initForItem(){var t,r;Se.items().isInRevision||Se.items().isInStitch?(this.showRightSummaryCriteria=!1,this.showRightSummaryRevision=!0,this.leftContent="correction",this.rightContent="summary",this.leftCorrectionKey=((t=Se.corrections().firstOtherCorrection)==null?void 0:t.key)??"",(r=Se.summaries().getForCorrection(this.leftCorrectionKey))!=null&&r.isRevised&&(this.showLeftSummaryCriteria=!1,this.showLeftSummaryRevision=!0),Se.settings().hasSummaryOverview||(this.showLeftSummaryCriteria=!1,this.showRightSummaryCriteria=!1)):(this.leftContent="essay",this.rightContent="marking",Se.settings().Task.enable_comments||(this.showMarkingText=!0)),this.expandedColumn="none",this.saveToStorage()},showInstructions(){this.leftContent="instructions",this.setLeftVisible(),this.saveToStorage()},showInstructionsPdf(){this.leftContent="instructionsPdf",this.setLeftVisible(),this.saveToStorage()},showSolution(){this.leftContent="solution",this.setLeftVisible(),this.saveToStorage()},showSolutionPdf(){this.leftContent="solutionPdf",this.setLeftVisible(),this.saveToStorage()},showResources(){this.leftContent="resources",this.setLeftVisible(),this.saveToStorage()},showLeftCorrection(){this.leftContent="correction",this.setLeftVisible(),this.saveToStorage()},showRightCorrection(){this.rightContent="correction",this.setRightVisible(),this.saveToStorage()},showEssay(){this.leftContent="essay",this.setLeftVisible(),Se.settings().Task.enable_comments&&(this.rightContent="marking",this.setRightVisible()),this.saveToStorage()},showMarking(){this.rightContent="marking",this.setRightVisible(),this.saveToStorage()},showSummary(){this.rightContent="summary",this.setRightVisible(),this.saveToStorage()},setLeftVisible(t=null){if(this.isLeftVisible||(this.expandedColumn="left",this.saveToStorage()),t===null)switch(this.leftContent){case"instructions":case"solution":case"essay":t=this.leftContent;break}this.setFocusChange(t??"appHeadLeft")},setRightVisible(t=null){this.isRightVisible||(this.expandedColumn="right",this.saveToStorage()),this.setFocusChange(t??"appHeadRight")},setLeftExpanded(t){this.expandedColumn=t?"left":"none",this.saveToStorage()},setRightExpanded(t){this.expandedColumn=t?"right":"none",this.saveToStorage()},focusMarkingCommentPointsSum(){this.showMarkingComments||(this.showMarkingComments=!0,this.saveToStorage()),this.setFocusChange("MarkingCommentPointsSum")},focusMarkingGeneralPoints(){this.showMarkingGeneralPoints||(this.showMarkingGeneralPoints=!0,this.saveToStorage()),this.setFocusChange("MarkingGeneralPoints")},focusMarkingCommentPoints(){this.showMarkingCommentPoints||(this.showMarkingCommentPoints=!0,this.saveToStorage()),this.setFocusChange("MarkingCommentPoints")},toggleMarkingComments(){this.showMarkingComments=!this.showMarkingComments,this.saveToStorage()},toggleMarkingGeneralPoints(){this.showMarkingGeneralPoints=!this.showMarkingGeneralPoints,this.saveToStorage()},toggleMarkingCommentPoints(){this.showMarkingCommentPoints=!this.showMarkingCommentPoints,this.saveToStorage()},toggleMarkingText(){this.showMarkingText=!this.showMarkingText,this.saveToStorage()},toggleLeftSummaryCriteria(){this.showLeftSummaryCriteria=!this.showLeftSummaryCriteria,this.saveToStorage()},toggleRightSummaryCriteria(){this.showRightSummaryCriteria=!this.showRightSummaryCriteria,this.saveToStorage()},toggleLeftSummaryText(){this.showLeftSummaryText=!this.showLeftSummaryText,this.saveToStorage()},toggleRightSummaryText(){this.showRightSummaryText=!this.showRightSummaryText,this.saveToStorage()},toggleLeftSummaryRevision(){this.showLeftSummaryRevision=!this.showLeftSummaryRevision,this.saveToStorage()},toggleRightSummaryRevision(){this.showRightSummaryRevision=!this.showRightSummaryRevision,this.saveToStorage()},selectCorrection(t){Se.api();const r=Se.corrections();this.leftCorrectionKey==t?this.showLeftCorrection():this.rightCorrectionKey==t?this.showRightCorrection():Se.corrections().ownKey?(this.leftCorrectionKey=t,this.showLeftCorrection()):r.countCorrections==1?(this.rightCorrectionKey=t,this.showRightCorrection()):this.leftCorrectionKey==""?(this.leftCorrectionKey=t,this.showLeftCorrection()):this.rightCorrectionKey==""?(this.rightCorrectionKey=t,this.showRightCorrection()):(this.leftCorrectionKey=t,this.showLeftCorrection())},setFocusChange(t){this.focusTarget=t,this.focusChange=Date.now()},handleKeyDown(t){if(t.altKey)switch(t.key){case"0":this.setFocusChange("header");break;case"1":this.setLeftVisible();break;case"2":this.setRightVisible();break;case"#":this.setFocusChange("navigation");break}}}});class DR{constructor(r={}){_t(this,"id",null);_t(this,"key",null);_t(this,"min_points",0);_t(this,"title",null);_t(this,"statement",null);r.id!==void 0&&r.id!==null&&(this.id=parseInt(r.id)),r.min_points!==void 0&&r.min_points!==null&&(this.min_points=parseFloat(r.min_points)),r.title!==void 0&&r.title!==null&&(this.title=r.title.toString()),r.statement!==void 0&&r.statement!==null&&(this.statement=r.statement.toString()),this.key===null&&(this.key=DR.buildKey(this.id))}static order(r,i){return r.min_points<i.min_points?-1:r.min_points>i.min_points?1:0}static buildKey(r){return"L"+r}getKey(){return this.key}getData(){return Object.assign({},this)}}const nE=ju("levels"),T0e=nu("levels",{state:()=>({levels:{}}),getters:{hasLevels:t=>Object.keys(t.levels).length>0,sortedLevels:t=>Object.values(t.levels).toSorted(DR.order),getLevel(t){return function(i){return t.levels[i]}},getLevelForPoints(t){return function(i){if(Number.isNaN(i))return null;let u=null;for(const g of t.sortedLevels){if(g.min_points>i)break;u=g}return u}}},actions:{async clearStorage(){try{this.$reset(),await nE.clear()}catch(t){console.log(t)}},async loadFromStorage(){try{this.$reset();const t=await nE.getItem("keys")??[];for(const r of t)this.levels[r]=new DR(await nE.getItem(r))}catch(t){console.log(t)}},async loadFromBackend(t=[]){try{await nE.clear(),this.$reset();for(const r of t){const i=new DR(r);this.levels[i.getKey()]=i,await nE.setItem(i.getKey(),i.getData())}await nE.setItem("keys",Object.keys(this.levels))}catch(r){console.log(r)}}}});class CF{constructor(r={}){_t(this,"key","");_t(this,"item_key","");_t(this,"id",null);_t(this,"task_id",null);_t(this,"writer_id",null);_t(this,"page_no",0);_t(this,"width",0);_t(this,"height",0);_t(this,"url",null);_t(this,"thumb_width",null);_t(this,"thumb_height",null);_t(this,"thumb_url",null);_t(this,"objectUrl",null);_t(this,"thumbObjectUrl",null);r.id!==void 0&&r.id!==null&&(this.id=parseInt(r.id)),r.task_id!==void 0&&r.task_id!==null&&(this.task_id=parseInt(r.task_id)),r.writer_id!==void 0&&r.writer_id!==null&&(this.writer_id=parseInt(r.writer_id)),r.page_no!==void 0&&r.page_no!==null&&(this.page_no=parseInt(r.page_no)),r.width!==void 0&&r.width!==null&&(this.width=parseInt(r.width)),r.height!==void 0&&r.height!==null&&(this.height=parseInt(r.height)),r.url!==void 0&&r.url!==null&&(this.url=r.url.toString()),r.thumb_width!==void 0&&r.thumb_width!==null&&(this.thumb_width=parseInt(r.thumb_width)),r.thumb_height!==void 0&&r.thumb_height!==null&&(this.thumb_height=parseInt(r.thumb_height)),r.thumb_url!==void 0&&r.thumb_url!==null&&(this.thumb_url=r.thumb_url.toString()),this.key=CF.buildKey(this.id),this.item_key=Jr.buildKey(this.task_id,this.writer_id)}static buildKey(r){return"P"+r}static order(r,i){return r.position<i.position?-1:r.position>i.position?1:0}getKey(){return this.key}getData(){return Object.assign({},this)}}const oE=ju("pages"),O0e=nu("pages",{state:()=>({pages:{},selectedKey:"",minPage:0,maxPage:0,loadedThumbs:0,loadedImages:0}),getters:{hasPages(t){return Object.keys(t.pages).length>0},selectedPage(t){return t.pages[t.selectedKey]??null},selectedPageNo(t){var r;return((r=t.selectedPage)==null?void 0:r.page_no)??null},currentPages(t){return Object.values(t.pages)},getPage(t){return function(i){return t.pages[i]??null}},getPageByPageNo(t){return function(i){return t.currentPages.find(u=>u.page_no==i)??null}}},actions:{selectPage(t){this.selectedKey!=t&&(this.selectedKey=t)},selectByPageNo(t){for(const r of this.currentPages)if(r.page_no==t)return this.selectedKey=r.key,!0;return!1},calculateMinMaxPage(){let t=null,r=null;for(const i of this.currentPages)(t===null||i.page_no<t)&&(t=i.page_no),(r===null||i.page_no>r)&&(r=i.page_no);t!==null&&(this.minPage=t),r!==null&&(this.maxPage=r)},async clearStorage(){try{await oE.clear()}catch(t){console.log(t)}this.purgeFiles(),this.$reset()},async loadFromStorage(){const t=Se.api();try{this.purgeFiles(),this.$reset();const r=await oE.getItem("keys");for(const i of r){const u=new CF(await oE.getItem(i));u.item_key==t.itemKey&&(this.pages[i]=u)}this.calculateMinMaxPage(),this.selectByPageNo(this.minPage),this.loadFiles()}catch(r){console.log(r)}},async loadFromBackend(t){const r=Se.api();try{await oE.clear(),this.purgeFiles(),this.$reset();for(const i of t){const u=new CF(i);u.url=r.getImageUrl(u),u.thumb_url=r.getThumbUrl(u),u.item_key==r.itemKey&&(await oE.setItem(u.getKey(),u.getData()),this.pages[u.key]=u)}await oE.setItem("keys",Object.keys(this.pages)),this.calculateMinMaxPage(),this.selectByPageNo(this.minPage),this.loadFiles()}catch(i){console.log(i)}},async loadFiles(){try{for(const t in this.pages){const r=this.pages[t];let i;r&&(i=await Ki(r.url,{responseType:"blob",timeout:6e4}),this.loadedImages++,i=await Ki(r.thumb_url,{responseType:"blob",timeout:6e4}),this.loadedThumbs++)}}catch(t){console.error(t)}},purgeFiles(){for(const t in this.pages){const r=this.pages[t];r&&(r.thumbObjectUrl!==null&&(r.thumbObjectUrl=null),r.objectUrl!==null&&(r.objectUrl=null))}this.loadedThumbs=0,this.loadedImages=0}}});class yE{constructor(r={}){_t(this,"key","");_t(this,"item_key","");_t(this,"correction_key","");_t(this,"comment_key","");_t(this,"criterion_key","");_t(this,"task_id",null);_t(this,"writer_id",null);_t(this,"corrector_id",null);_t(this,"criterion_id",null);_t(this,"points",0);r.key!==void 0&&r.key!==null&&(this.key=r.key.toString()),r.comment_key!==void 0&&r.comment_key!==null&&(this.comment_key=r.comment_key.toString()),r.task_id!==void 0&&r.task_id!==null&&(this.task_id=parseInt(r.task_id)),r.writer_id!==void 0&&r.writer_id!==null&&(this.writer_id=parseInt(r.writer_id)),r.corrector_id!==void 0&&r.corrector_id!==null&&(this.corrector_id=parseInt(r.corrector_id)),r.criterion_id!==void 0&&r.criterion_id!==null&&(this.criterion_id=parseInt(r.criterion_id)),r.points!==void 0&&r.points!==null&&(this.points=parseFloat(r.points)),!this.key&&this.corrector_id&&(this.key=yE.newKey(this.corrector_id)),!this.item_key&&this.task_id&&this.writer_id&&(this.item_key=Jr.buildKey(this.task_id,this.writer_id)),!this.correction_key&&this.task_id&&this.writer_id&&this.corrector_id&&(this.correction_key=Wi.buildKey(this.task_id,this.writer_id,this.corrector_id)),!this.criterion_key&&this.criterion_id&&(this.criterion_key=TE.buildKey(this.criterion_id))}static newKey(r){return"P"+r+"_"+Math.random().toString()}setKeys(r,i,u){this.correction_key=r,this.comment_key=i,this.criterion_key=u,this.task_id=Wi.extractTaskId(this.correction_key),this.writer_id=Wi.extractWriterId(this.correction_key),this.corrector_id=Wi.extractCorrectorId(this.correction_key),u&&(this.criterion_id=TE.extractCriterionId(this.criterion_key)),this.item_key=Jr.buildKey(this.task_id,this.writer_id),this.key=yE.newKey(this.corrector_id)}setPoints(r){this.points=parseFloat(r)}getData(){return Object.assign({},this)}}const Ug=ju("points"),R0e=nu("points",{state:()=>({keys:[],points:[],unsentChanges:{}}),getters:{getCommentHasPoints(t){return function(i){return t.points.find(u=>u.comment_key==i&&u.points!=0)!==void 0}},getCommentHasPointsForCriterion(t){return function(i,u){return t.points.find(g=>g.comment_key==i&&g.criterion_key==u&&g.points!=0)!==void 0}},getSumOfPointsForCorrection(t){return function(i,u=null,g=null){let h=0;return t.points.filter(x=>x.correction_key==i&&(u===null||u==(x.comment_key!=""))&&(g===null||g==(x.criterion_key!=""))).forEach(x=>h+=x.points),h}},getSumOfPointsForComment(t){return function(i){let u=0;return t.points.filter(g=>g.comment_key==i).forEach(g=>u+=g.points),u}},getSumOfPointsForCriterion(t){return function(i,u){let g=0;return t.points.filter(h=>h.criterion_key==i.key&&h.correction_key==u).forEach(h=>g+=h.points),g}},getPointsOfCriterionExceeded(t){return function(i,u){let g=0;const h=(i==null?void 0:i.key)??"";return t.points.filter(x=>x.criterion_key==h&&x.correction_key==u).forEach(x=>g+=x.points),g>(i?i.points:Se.settings().Assessment.max_points)}},getObjectsForCorrection(t){return function(i){return t.points.filter(u=>u.correction_key==i)}},getObjectByData(t){return function(i,u,g){return t.points.find(h=>h.correction_key==i&&h.comment_key==u&&h.criterion_key==g)}}},actions:{async setValueByCommentOrCriterion(t,r,i){Se.api();let u=this.getObjectByData(Se.corrections().ownKey,t,r);u?i?(u.setPoints(i),this.updatePoints(u)):this.deletePoints(u.key):(t||r)&&i&&this.createPoints(t,r,i)},async createPoints(t,r,i){const u=Se.corrections(),g=new yE({points:i});g.setKeys(u.ownKey,t,r),this.keys.push(g.key),this.points.push(g),await Ug.setItem(g.key,JSON.stringify(g.getData())),await Ug.setItem("keys",JSON.stringify(this.keys)),await Se.changes().setChange(new bs({type:bs.TYPE_POINTS,action:bs.ACTION_SAVE,key:g.key,item_key:g.item_key}))},async updatePoints(t){this.keys.includes(t.key)&&(await Ug.setItem(t.key,JSON.stringify(t.getData())),await Se.changes().setChange(new bs({type:bs.TYPE_POINTS,action:bs.ACTION_SAVE,key:t.key,item_key:t.item_key})))},async deletePoints(t){const r=this.points.find(g=>g.key==t);this.points=this.points.filter(g=>g.key!=t),this.keys.includes(t)&&(this.keys=this.keys.filter(g=>g!=t),await Ug.setItem("keys",JSON.stringify(this.keys)),await Ug.removeItem(t));const i=Se.changes(),u=new bs({type:bs.TYPE_POINTS,action:bs.ACTION_DELETE,key:r.key,item_key:r.item_key,payload:r.getData()});await i.setChange(u)},async deletePointsOfComment(t){this.points.filter(r=>r.comment_key==t).forEach(r=>this.deletePoints(r.key))},async clearStorage(){try{await Ug.clear()}catch(t){console.log(t)}this.$reset()},async loadFromStorage(){const t=Se.api();try{this.$reset();const r=await Ug.getItem("keys");r&&(this.keys=JSON.parse(r)),this.points=[];for(const i of this.keys){let u=JSON.parse(await Ug.getItem(i)),g=new yE(u);g.item_key==t.itemKey&&this.points.push(g)}}catch(r){console.log(r)}},async loadFromBackend(t){const r=Se.api();try{await Ug.clear(),this.$reset();for(const i of t){const u=new yE(i);this.keys.push(u.key),await Ug.setItem(u.key,JSON.stringify(u.getData())),u.item_key==r.itemKey&&this.points.push(u)}await Ug.setItem("keys",JSON.stringify(this.keys))}catch(i){console.log(i)}},async getChangedData(t=0){const r=Se.changes(),i=[];for(const u of r.getChangesFor(bs.TYPE_POINTS,t)){const g=await Ug.getItem(u.key);g?i.push(r.getChangeDataToSend(u,JSON.parse(g))):i.push(r.getChangeDataToSend(u))}return i}}}),aU=ju("preferences"),I0e=nu("preferences",{state:()=>({essay_page_zoom:.25,essay_text_zoom:1,summary_text_zoom:1}),getters:{},actions:{async clearStorage(){try{await aU.clear()}catch(t){console.log(t)}this.$reset()},async loadFromStorage(){try{const t=await aU.getItem("preferences");t&&this.$patch(t)}catch(t){console.log(t)}},async saveToStorage(){try{await aU.setItem("preferences",Object.assign({},this.$state))}catch(t){console.log(t)}},async loadFromBackend(t){try{t.essay_text_zoom&&(this.essay_text_zoom=t.essay_text_zoom),t.essay_page_zoom&&(this.essay_page_zoom=t.essay_page_zoom),t.summary_text_zoom&&(this.summary_text_zoom=t.summary_text_zoom),await this.saveToStorage()}catch(r){console.log(r)}},async update(){const t=Se.changes(),r=Se.api();await this.saveToStorage(),Se.corrections().ownKey&&await t.setChange(new bs({type:bs.TYPE_PREFERENCES,action:bs.ACTION_SAVE,key:"preferences",item_key:r.itemKey}))},async getChangedData(t=0){const r=Se.changes(),i=[];for(const u of r.getChangesFor(bs.TYPE_PREFERENCES,t)){i.push(r.getChangeDataToSend(u,Object.assign({},this.$state)));break}return i},zoomEssayPageIn(){this.essay_page_zoom=this.essay_page_zoom*1.1,this.update()},zoomEssayPageOut(){this.essay_page_zoom=this.essay_page_zoom*.9,this.update()},zoomEssayTextIn(){this.essay_text_zoom=this.essay_text_zoom*1.1,this.update()},zoomEssayTextOut(){this.essay_text_zoom=this.essay_text_zoom*.9,this.update()},zoomSummaryTextIn(){this.summary_text_zoom=this.summary_text_zoom*1.1,this.update()},zoomSummaryTextOut(){this.summary_text_zoom=this.summary_text_zoom*.9,this.update()}}}),sa=class sa{constructor(r={}){_t(this,"id","");_t(this,"task_id",null);_t(this,"title","");_t(this,"type",null);_t(this,"embedded",!0);_t(this,"source","");_t(this,"url","");_t(this,"mimetype","");_t(this,"size",null);_t(this,"key",null);r.id!==void 0&&r.id!==null&&(this.id=parseInt(r.id)),r.task_id!==void 0&&r.task_id!==null&&(this.task_id=parseInt(r.task_id)),r.title!==void 0&&r.title!==null&&(this.title=r.title.toString()),r.type!==void 0&&sa.ALLOWED_TYPES.includes(r.type)&&(this.type=r.type.toString()),r.embedded!==void 0&&r.embedded!==null&&(this.embedded=!!r.embedded),r.source!==void 0&&r.source!==null&&(this.source=r.source.toString()),r.url!==void 0&&r.url!==null&&(this.url=r.url.toString()),r.mimetype!==void 0&&r.mimetype!==null&&(this.mimetype=r.mimetype),r.size!==void 0&&r.size!==null&&(this.size=parseInt(r.size)),this.key=sa.buildKey(this.id)}static buildKey(r){return"R"+r.toString()}static order(r,i){return r.title<i.title?-1:r.title>i.title?1:0}getKey(){return this.key}getData(){return Object.assign({},this)}isPdf(){return[sa.TYPE_FILE,sa.TYPE_SOLUTION,sa.TYPE_INSTRUCTION].includes(this.type)}isExternalUrl(){return this.type==sa.TYPE_URL&&!this.embedded}isEmbeddedUrl(){return this.type==sa.TYPE_URL&&this.embedded}isEmbeddedSelectable(){return this.type==sa.TYPE_FILE||this.type==sa.TYPE_URL&&this.embedded}canBeAnnoteted(){return[sa.TYPE_FILE,sa.TYPE_SOLUTION,sa.TYPE_INSTRUCTION].includes(this.type)}hasFileToLoad(){return[sa.TYPE_FILE,sa.TYPE_SOLUTION,sa.TYPE_INSTRUCTION].includes(this.type)}};_t(sa,"TYPE_FILE","file"),_t(sa,"TYPE_URL","url"),_t(sa,"TYPE_INSTRUCTION","instruct"),_t(sa,"TYPE_SOLUTION","solution"),_t(sa,"ALLOWED_TYPES",[sa.TYPE_FILE,sa.TYPE_URL,sa.TYPE_INSTRUCTION,sa.TYPE_SOLUTION]);let rp=sa;const rx=ju("resources"),D0e=nu("resources",{state:()=>({resources:{},activeKey:""}),getters:{currentResources(t){const r=Se.tasks();return Object.values(t.resources).filter(i=>{var u;return i.task_id===((u=r.currentTask)==null?void 0:u.task_id)||i.task_id===null}).sort(rp.order)},hasResources(t){return t.currentResources.length>0},hasInstruction(t){return!!t.currentResources.find(r=>r.type===rp.TYPE_INSTRUCTION)},hasSolution(t){return!!t.currentResources.find(r=>r.type===rp.TYPE_SOLUTION)},instruction(t){return t.currentResources.find(r=>r.type===rp.TYPE_INSTRUCTION)},solution(t){return t.currentResources.find(r=>r.type===rp.TYPE_SOLUTION)},fileOrUrlResources(t){return t.currentResources.filter(r=>r.type==rp.TYPE_FILE||r.type===rp.TYPE_URL)},activeResource(t){return t.currentResources.find(r=>r.key===t.activeKey)},getResourceIsActive(t){return r=>r.key===t.activeKey},getResourceIsAvailable(t){return r=>!!t.currentResources.find(i=>i.key===r.key)}},actions:{async clearStorage(){try{this.$reset(),await rx.clear()}catch(t){console.log(t)}},async loadFromStorage(){try{this.$reset();const t=await rx.getItem("keys")??[];for(const r of t)this.resources[r]=new rp(await rx.getItem(r));this.activeKey=await rx.getItem("activeKey")??"",await this.loadFiles()}catch(t){console.log(t)}},async loadFromBackend(t=[]){const r=Se.api();try{await rx.clear(),this.$reset();for(const i of t){const u=new rp(i);u.hasFileToLoad()&&(u.url=r.getResourceUrl(u)),this.resources[u.getKey()]=u,await rx.setItem(u.getKey(),u.getData())}await rx.setItem("keys",Object.keys(this.resources)),this.loadFiles(),this.selectFirstEmbeddedResource()}catch(i){console.log(i)}},async selectResource(t){this.getResourceIsAvailable(t)&&(this.activeKey=t.key,await rx.setItem("activeKey",this.activeKey))},async selectFirstEmbeddedResource(){if(!this.activeResource)for(const t of this.currentResources)t.isEmbeddedSelectable&&await this.selectResource(t)},async loadFiles(){for(const t of Object.values(this.resources)){let r=null;if(t.hasFileToLoad())try{console.log("preload "+t.title+"..."),r=await Ki(t.url,{responseType:"blob",timeout:6e4}),console.log("finished. ")}catch(i){console.error(i)}}}}});class up{}_t(up,"APPROXIMATION","approximation"),_t(up,"CONSULTING","consulting"),_t(up,"NONE","none");const{t:U0}=$d.global,lU=ju("settings"),P0e=nu("settings",{state:()=>({Assessment:{multiple_correctors:!1,mutual_visibility:!1,procedure_when_distance:!1,procedure:up.NONE,max_auto_distance:0,revision_between:!1,stitch_after_procedure:!1,max_points:0,no_manual_decimals:!1},Task:{positive_rating:U0("settingsRatingPositive"),negative_rating:U0("settingsRatingNegative"),enable_comments:!1,enable_comment_ratings:!1,enable_partial_points:!1,enable_summary_pdf:!1,summary_pdf_advice:null},EssayTask:{headline_scheme:null}}),getters:{headlineClass(t){return t.EssayTask.headline_scheme==="three"?"headlines-three":""},inclusionText(t){let r="";return t.Task.enable_comments&&(r=(r?r+", ":"")+U0("summariesIncludeComments")),t.Task.enable_comment_ratings&&(r=(r?r+", ":"")+U0("summariesIncludeCommentRatings")),t.Task.enable_partial_points&&(r=(r?r+", ":"")+U0("summariesIncludePartialPoints")),r==""&&(r=U0("summariesIncludeNoDetails")),r},procedureText(t){switch(t.Assessment.procedure){case up.APPROXIMATION:return U0("settingsProcedureApproximation");case up.CONSULTING:return U0("settingsProcedureConsulting");default:return U0("settingsProcedureNone")}},hasSummaryOverview(t){return t.Task.enable_comment_ratings||t.Task.enable_partial_points}},actions:{async clearStorage(){this.$reset();try{await lU.clear()}catch(t){console.log(t)}},async loadFromStorage(){this.$reset();try{for(const t in this.$state){const r=await lU.getItem(t);this.$patch(r)}}catch(t){console.log(t)}},async loadFromBackend(t,r){this.$state[t]=Object.assign(this.$state[t],r);try{await lU.setItem(t,Object.assign({},this.$state[t]))}catch(i){console.log(i)}}}}),NR=class NR{constructor(r={}){_t(this,"key","");_t(this,"purpose","");_t(this,"title","");_t(this,"text","");_t(this,"deleted",!1);r.key!==void 0&&r.key!==null?this.key=r.key.toString():this.key=NR.newKey(),r.purpose!==void 0&&r.purpose!==null&&(this.purpose=r.purpose.toString()),r.title!==void 0&&r.title!==null&&(this.title=r.title.toString()),r.text!==void 0&&r.text!==null&&(this.text=r.text.toString())}static newKey(){return"SNIP_"+Math.random().toString()}static order(r,i){return r.text<i.text?-1:r.text>i.text?1:0}getData(){return Object.assign({},this)}};_t(NR,"FOR_COMMENT","for_comment"),_t(NR,"FOR_SUMMARY","for_summary");let kc=NR;const Wg=ju("snippets"),N0e=nu("snippets",{state:()=>({snippets:{},selection_open:!1,open_for_purpose:null,open_for_key:null,open_text:"",insert_text:"",select:null,edit:new kc}),getters:{sortedSnippets(t){return Object.values(t.snippets).sort(kc.order)},forComment(t){return Object.values(t.snippets).filter(r=>r.purpose==kc.FOR_COMMENT)},forSummary(t){return Object.values(t.snippets).filter(r=>r.purpose==kc.FOR_SUMMARY)},has(t){return function(i){return Object.keys(t.snippets).includes(i)}},get(t){return function(i){return t.snippets[i]}}},actions:{openSelection(t,r,i=""){this.open_for_purpose=t,this.open_for_key=r,this.open_text=i,this.insert_text="",this.selection_open=!0},async clearStorage(){try{await Wg.clear()}catch(t){console.log(t)}this.$reset()},async loadFromStorage(){try{this.$reset();const t=await Wg.getItem("keys");for(const r of t??[])this.snippets[r]=new kc(await Wg.getItem(r))}catch(t){console.log(t)}},async loadFromBackend(t){try{await Wg.clear(),this.$reset();for(const r of t){const i=new kc(r);await Wg.setItem(i.key,i.getData()),this.snippets[i.key]=i}await Wg.setItem("keys",Object.keys(this.snippets))}catch(r){console.log(r)}},async createSnippet(t){this.snippets[t.key]=t,await Wg.setItem(t.key,t.getData()),await Wg.setItem("keys",Object.keys(this.snippets)),await Se.changes().setChange(new bs({type:bs.TYPE_SNIPPETS,action:bs.ACTION_SAVE,key:t.key}))},async updateSnippet(t){this.has(t.key)&&(await Wg.setItem(t.key,t.getData()),await Se.changes().setChange(new bs({type:bs.TYPE_SNIPPETS,action:bs.ACTION_SAVE,key:t.key})))},async deleteSnippet(t){this.has(t)&&(delete this.snippets[t],await Wg.removeItem(t),await Wg.setItem("keys",Object.keys(this.snippets)),await Se.changes().setChange(new bs({type:bs.TYPE_SNIPPETS,action:bs.ACTION_DELETE,key:t})))},async getChangedData(t=0){const r=Se.changes(),i=[];for(const u of r.getChangesFor(bs.TYPE_SNIPPETS,t)){const g=await Wg.getItem(u.key);g?i.push(r.getChangeDataToSend(u,g)):i.push(r.getChangeDataToSend(u))}return i}}}),{t:SC}=$d.global,ix=ju("summaries"),cU=1e3;let yR=0;const L0e=nu("summaries",{state:()=>({summaries:{},editSummary:new Sc,lastCheck:0}),getters:{allSummaries(t){return Object.values(t.summaries)},isOwnDisabled(t){return t.editSummary.correction_key==""||t.editSummary.isPregraded()||t.editSummary.isAuthorized()||!Se.items().canCorrect},isOwnPregraded(t){return t.editSummary.isPregraded()},isOwnAuthorized(t){return t.editSummary.isAuthorized()},isOwnRevised(t){return t.editSummary.isRevised()},isOneAuthorized(t){for(const r of t.allSummaries)if(r.isAuthorized())return!0;return!1},areOthersAuthorized(t){for(const r of t.allSummaries)if(r.getKey()!=t.editSummary.getKey()&&!r.isAuthorized())return!1;return!0},currentGradeTitle(t){if(t.editSummary.grade_key){let i=Se.levels().getLevel(t.editSummary.grade_key);if(i)return i.title}return SC("summariesNoGrade")},currentGradeStatement(t){if(t.editSummary.grade_key){let i=Se.levels().getLevel(t.editSummary.grade_key);if(i)return i.statement}return""},getAuthorizationForCorrection(t){return function(i){for(const u of t.allSummaries)if(u.correction_key==i)return u.isAuthorized();return!1}},getForCorrection(t){return function(i){for(const u of t.allSummaries)if(u.correction_key==i)return u;return null}},procedureNeededText(t){const r=Se.settings(),i=Se.items(),u=t.pointsDifferText;if(u&&!i.isInStitch){switch(r.Assessment.procedure){case up.APPROXIMATION:return SC("summariesProcedureApproximationNeeded",[u]);case up.CONSULTING:return SC("summariesProcedureConsultingNeeded",[u])}if(r.Assessment.stitch_after_procedure&&!i.isInStitch)return SC("summariesProcedureStitchNeeded",[u])}return""},stitchNeededAfterRevisionText(t){const r=t.pointsDifferText;return r?SC("summariesProcedureStitchNeeded",[r]):""},pointsDifferText(t){var h,x;const r=t.editSummary,i=t.getForCorrection(((h=Se.corrections().firstOtherCorrection)==null?void 0:h.key)??"")??null;let u=null,g=null;return Se.items().canRevise||((x=Se.corrections().ownCorrection)==null?void 0:x.position)==Wi.POSITION_STITCH?(u=(r==null?void 0:r.revision_points)??(r==null?void 0:r.points),g=(i==null?void 0:i.revision_points)??(i==null?void 0:i.points)):(u=r==null?void 0:r.points,g=i==null?void 0:i.points),u===null||g===null?"":Math.abs(u-g)>Se.settings().Assessment.max_auto_distance?SC("summariesPointsDifferText",Se.settings().Assessment.max_auto_distance):""},pointsOutsideCorridorText(t){const r=t.pointsCorridor,i=Se.items().canRevise?t.editSummary.revision_points:t.editSummary.points;return i<r.min||i>r.max?SC("summariesPointsOutsideMinMax",[r.min,r.max]):""},pointsCorridor(t){var h,x,w;const r=t.getForCorrection(((h=Se.corrections().firstCorrection)==null?void 0:h.key)??"")??null,i=t.getForCorrection(((x=Se.corrections().secondCorrection)==null?void 0:x.key)??"")??null;let u=null,g=null;return((w=Se.corrections().ownCorrection)==null?void 0:w.position)==Wi.POSITION_STITCH?(u=(r==null?void 0:r.revision_points)??(r==null?void 0:r.points),g=(i==null?void 0:i.revision_points)??(i==null?void 0:i.points)):Se.items().canRevise&&Se.settings().Assessment.revision_between?(u=r==null?void 0:r.points,g=i==null?void 0:i.points):(u=0,g=Se.settings().Assessment.max_points),{min:Math.min(u,g),max:Math.max(u,g)}}},actions:{async clearStorage(){try{this.$reset(),await ix.clear()}catch(t){console.log(t)}},async loadFromStorage(){var u;const t=Se.api(),r=Se.levels(),i=Se.corrections();try{this.$reset();const g=await ix.getItem("keys");for(const h of g){const x=new Sc(await ix.getItem(h));x.grade_key=(u=r.getLevelForPoints(x.points))==null?void 0:u.key,x.item_key==t.itemKey&&(this.summaries[h]=x),x.correction_key==i.ownKey&&(this.editSummary=x.getClone())}}catch(g){console.log(g)}yR=0,t.setInterval("summariesStore.updateContent",this.updateContent,cU)},async loadFromBackend(t){var g;const r=Se.api(),i=Se.levels(),u=Se.corrections();try{await ix.clear(),this.$reset();for(const h of t){const x=new Sc(h);x.grade_key=(g=i.getLevelForPoints(x.points))==null?void 0:g.key,await ix.setItem(x.getKey(),x.getData()),x.item_key==r.itemKey&&(this.summaries[x.getKey()]=x),x.correction_key==u.ownKey&&(this.editSummary=x.getClone())}await ix.setItem("keys",Object.keys(this.summaries))}catch(h){console.log(h)}yR=0,r.setInterval("summariesStore.updateContent",this.updateContent,cU)},async updateContent(t=!1,r=!1){Se.levels();const i=Se.api(),u=Se.changes(),g=Date.now();if(g-this.lastCheck<cU&&!r||yR++&&!r)return;const h=this.summaries[this.editSummary.getKey()]??new Sc,x=this.getCloneToStore(h,this.editSummary);if(x.isEqual(h)){this.lastCheck=g,yR=0;return}x.last_change=i.getServerTime(g);try{this.editSummary.setData(x.getData()),this.summaries[x.getKey()]=x,await ix.setItem(x.getKey(),x.getData()),await u.setChange(new bs({type:bs.TYPE_SUMMARY,action:bs.ACTION_SAVE,key:x.getKey(),item_key:x.item_key})),console.log("Save Change ","| Editor: ",t,"| Duration:",Date.now()-g,"ms")}catch(w){console.error(w)}this.lastCheck=g,yR=0},getCloneToStore(t,r){var h,x;const i=Se.items(),u=Se.levels();let g=t.getClone();switch(i.canCorrect&&(g.text=r.text,g.pdf=r.pdf,g.points=this.adjustPoints(r.points),g.grade_key=((h=u.getLevelForPoints(r.points))==null?void 0:h.key)??""),i.canRevise&&(g.revision_text=r.revision_text,g.revision_points=this.adjustPoints(r.revision_points),g.revision_grade_key=((x=u.getLevelForPoints(r.revision_grade_key))==null?void 0:x.key)??"",g.require_other_revision=r.require_other_revision),r.status){case Sc.STATUS_PRE_GRADED:case Sc.STATUS_OPEN:g.status=i.canCorrect?r.status:g.status;break;case Sc.STATUS_AUTHORIZED:g.status=i.canAuthorize?r.status:g.status;break;case Sc.STATUS_REVISED:g.status=i.canRevise?r.status:g.status}return g},adjustPoints(t){const r=Se.settings();return Number.isNaN(t)?null:!Number.isInteger(t)&&r.Assessment.no_manual_decimals?Math.floor(parseFloat(t)):t<0?0:t>r.Assessment.max_points?r.Assessment.max_points:parseFloat(t)},async getChangedData(t=0){const r=Se.changes(),i=[];for(const u of r.getChangesFor(bs.TYPE_SUMMARY,t)){const g=await ix.getItem(u.key);i.push(r.getChangeDataToSend(u,g))}return i},async setOwnOpen(){this.editSummary.status=Sc.STATUS_OPEN,await this.updateContent(!1,!0)},async setOwnPregraded(){this.editSummary.status=Sc.STATUS_PRE_GRADED,await this.updateContent(!1,!0)},async setOwnAuthorized(){this.editSummary.status=Sc.STATUS_AUTHORIZED,await this.updateContent(!1,!0)},async setOwnRevised(){this.editSummary.status=Sc.STATUS_REVISED,await this.updateContent(!1,!0)}}}),sE=ju("tasks"),M0e=nu("tasks",{state:()=>({tasks:{},firstKey:null,lastKey:null,previousKey:null,nextKey:null}),getters:{countTasks(t){return Object.keys(t.tasks).length},currentKey(t){return IC.buildKey(Jr.extractTaskId(Se.api().itemKey))},currentTask(t){return t.tasks[t.currentKey]},currentTitle(t){var r;return(r=t.currentTask)==null?void 0:r.title},hasInstructions(t){var r;return!!((r=t.currentTask)!=null&&r.instructions)},hasSolution(t){var r;return!!((r=t.currentTask)!=null&&r.solution)},hasTexts(t){return t.hasInstructions||t.hasSolution},sortedTasks(t){return Object.values(t.tasks).toSorted(IC.order)},taskIds(t){let r=[];for(const i of t.sortedTasks)r.push(i.task_id);return r}},actions:{async clearStorage(){try{this.$reset(),await sE.clear()}catch(t){console.log(t)}},async loadFromStorage(){try{this.$reset();const t=await sE.getItem("keys")??[];for(const r of t)this.tasks[r]=new IC(await sE.getItem(r))}catch(t){console.log(t)}},async loadFromBackend(t=[]){try{await sE.clear(),this.$reset();for(const r of t){const i=new IC(r);this.tasks[i.getKey()]=i,await sE.setItem(i.getKey(),i.getData())}await sE.setItem("keys",Object.keys(this.tasks))}catch(r){console.log(r)}},updateCurrentKeys(){if(this.countTasks){const t=this.sortedTasks,r=0,i=t.length-1;this.firstKey=t[r].getKey(),this.lastKey=t[i].getKey(),this.previousKey=null,this.nextKey=null;for(let u=r;u<=i;u++)if(t[u].getKey()==this.currentKey){this.previousKey=u>r?t[u-1].getKey():null,this.nextKey=u<i?t[u+1].getKey():null;break}}}}}),Se={api:()=>h0e(),changes:()=>w0e(),comments:()=>C0e(),corrections:()=>_0e(),criteria:()=>S0e(),essay:()=>k0e(),items:()=>E0e(),layout:()=>A0e(),levels:()=>T0e(),pages:()=>O0e(),points:()=>R0e(),preferences:()=>I0e(),resources:()=>D0e(),settings:()=>P0e(),snippets:()=>N0e(),summaries:()=>L0e(),tasks:()=>M0e()};async function B0e(){for(const t of Object.values(Se))await t().clearStorage()}const aa=(t,r)=>{const i=t.__vccOpts||t;for(const[u,g]of r)i[u]=g;return i},r1=Bn({border:[Boolean,Number,String]},"border");function i1(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:jb();return{borderClasses:Rt(()=>{const u=t.border;return u===!0||u===""?`${r}--border`:typeof u=="string"||u===0?String(u).split(" ").map(g=>`border-${g}`):[]})}}const F0e=[null,"default","comfortable","compact"],eh=Bn({density:{type:String,default:"default",validator:t=>F0e.includes(t)}},"density");function pp(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:jb();return{densityClasses:pn(()=>`${r}--density-${t.density}`)}}const a1=Bn({elevation:{type:[Number,String],validator(t){const r=parseInt(t);return!isNaN(r)&&r>=0&&r<=24}}},"elevation");function l1(t){return{elevationClasses:pn(()=>{const i=ia(t)?t.value:t.elevation;return i==null?[]:[`elevation-${i}`]})}}const Om=Bn({rounded:{type:[Boolean,Number,String],default:void 0},tile:Boolean},"rounded");function Rm(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:jb();return{roundedClasses:Rt(()=>{const u=ia(t)?t.value:t.rounded,g=ia(t)?t.value:t.tile,h=[];if(u===!0||u==="")h.push(`${r}--rounded`);else if(typeof u=="string"||u===0)for(const x of String(u).split(" "))h.push(`rounded-${x}`);else(g||u===!1)&&h.push("rounded-0");return h})}}const la=Bn({tag:{type:[String,Object,Function],default:"div"}},"tag");function oK(t){return zW(()=>{const r=Hb(t),i=[],u={};if(r.background)if(KU(r.background)){if(u.backgroundColor=r.background,!r.text&&hge(r.background)){const g=Fb(r.background);if(g.a==null||g.a===1){const h=fQ(g);u.color=h,u.caretColor=h}}}else i.push(`bg-${r.background}`);return r.text&&(KU(r.text)?(u.color=r.text,u.caretColor=r.text):i.push(`text-${r.text}`)),{colorClasses:i,colorStyles:u}})}function gp(t){const{colorClasses:r,colorStyles:i}=oK(()=>({text:Hb(t)}));return{textColorClasses:r,textColorStyles:i}}function dp(t){const{colorClasses:r,colorStyles:i}=oK(()=>({background:Hb(t)}));return{backgroundColorClasses:r,backgroundColorStyles:i}}const $0e=["elevated","flat","tonal","outlined","text","plain"];function zE(t,r){return se(Yo,null,[t&&se("span",{key:"overlay",class:lo(`${r}__overlay`)},null),se("span",{key:"underlay",class:lo(`${r}__underlay`)},null)])}const c1=Bn({color:String,variant:{type:String,default:"elevated",validator:t=>$0e.includes(t)}},"variant");function HE(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:jb();const i=pn(()=>{const{variant:h}=Hb(t);return`${r}--variant-${h}`}),{colorClasses:u,colorStyles:g}=oK(()=>{const{variant:h,color:x}=Hb(t);return{[["elevated","flat"].includes(h)?"background":"text"]:x}});return{colorClasses:u,colorStyles:g,variantClasses:i}}const See=Bn({baseColor:String,divided:Boolean,direction:{type:String,default:"horizontal"},...r1(),...Hs(),...eh(),...a1(),...Om(),...la(),...yl(),...c1()},"VBtnGroup"),G0=Vo()({name:"VBtnGroup",props:See(),setup(t,r){let{slots:i}=r;const{themeClasses:u}=ac(t),{densityClasses:g}=pp(t),{borderClasses:h}=i1(t),{elevationClasses:x}=l1(t),{roundedClasses:w}=Rm(t);Sx({VBtn:{height:pn(()=>t.direction==="horizontal"?"auto":null),baseColor:pn(()=>t.baseColor),color:pn(()=>t.color),density:pn(()=>t.density),flat:!0,variant:pn(()=>t.variant)}}),Cs(()=>ae(t.tag,{class:lo(["v-btn-group",`v-btn-group--${t.direction}`,{"v-btn-group--divided":t.divided},u.value,h.value,g.value,x.value,w.value,t.class]),style:Ms(t.style)},i))}}),sK=Bn({modelValue:{type:null,default:void 0},multiple:Boolean,mandatory:[Boolean,String],max:Number,selectedClass:String,disabled:Boolean},"group"),kee=Bn({value:null,disabled:Boolean,selectedClass:String},"group-item");function Eee(t,r){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;const u=Bl("useGroupItem");if(!u)throw new Error("[Vuetify] useGroupItem composable must be used inside a component setup function");const g=o1();Fd(Symbol.for(`${r.description}:id`),g);const h=ji(r,null);if(!h){if(!i)return h;throw new Error(`[Vuetify] Could not find useGroup injection with symbol ${r.description}`)}const x=pn(()=>t.value),w=Rt(()=>!!(h.disabled.value||t.disabled));h.register({id:g,value:x,disabled:w},u),Ac(()=>{h.unregister(g)});const I=Rt(()=>h.isSelected(g)),D=Rt(()=>h.items.value[0].id===g),O=Rt(()=>h.items.value[h.items.value.length-1].id===g),N=Rt(()=>I.value&&[h.selectedClass.value,t.selectedClass]);return Rn(I,V=>{u.emit("group:selected",{value:V})},{flush:"sync"}),{id:g,isSelected:I,isFirst:D,isLast:O,toggle:()=>h.select(g,!I.value),select:V=>h.select(g,V),selectedClass:N,value:x,disabled:w,group:h}}function rK(t,r){let i=!1;const u=jl([]),g=Ri(t,"modelValue",[],V=>V==null?[]:Aee(u,Uu(V)),V=>{const U=z0e(u,V);return t.multiple?U:U[0]}),h=Bl("useGroup");function x(V,U){const Z=V,ee=Symbol.for(`${r.description}:id`),H=uE(ee,h==null?void 0:h.vnode).indexOf(U);Q(Z.value)==null&&(Z.value=H,Z.useIndexAsValue=!0),H>-1?u.splice(H,0,Z):u.push(Z)}function w(V){if(i)return;I();const U=u.findIndex(Z=>Z.id===V);u.splice(U,1)}function I(){const V=u.find(U=>!U.disabled);V&&t.mandatory==="force"&&!g.value.length&&(g.value=[V.id])}Ku(()=>{I()}),Ac(()=>{i=!0}),PW(()=>{for(let V=0;V<u.length;V++)u[V].useIndexAsValue&&(u[V].value=V)});function D(V,U){const Z=u.find(ee=>ee.id===V);if(!(U&&(Z!=null&&Z.disabled)))if(t.multiple){const ee=g.value.slice(),re=ee.findIndex(de=>de===V),H=~re;if(U=U??!H,H&&t.mandatory&&ee.length<=1||!H&&t.max!=null&&ee.length+1>t.max)return;re<0&&U?ee.push(V):re>=0&&!U&&ee.splice(re,1),g.value=ee}else{const ee=g.value.includes(V);if(t.mandatory&&ee||!ee&&!U)return;g.value=U??!ee?[V]:[]}}function O(V){if(t.multiple,g.value.length){const U=g.value[0],Z=u.findIndex(H=>H.id===U);let ee=(Z+V)%u.length,re=u[ee];for(;re.disabled&&ee!==Z;)ee=(ee+V)%u.length,re=u[ee];if(re.disabled)return;g.value=[u[ee].id]}else{const U=u.find(Z=>!Z.disabled);U&&(g.value=[U.id])}}const N={register:x,unregister:w,selected:g,select:D,disabled:pn(()=>t.disabled),prev:()=>O(u.length-1),next:()=>O(1),isSelected:V=>g.value.includes(V),selectedClass:pn(()=>t.selectedClass),items:pn(()=>u),getItemIndex:V=>V0e(u,V)};return Fd(r,N),N}function V0e(t,r){const i=Aee(t,[r]);return i.length?t.findIndex(u=>u.id===i[0]):-1}function Aee(t,r){const i=[];return r.forEach(u=>{const g=t.find(x=>Jg(u,x.value)),h=t[u];(g==null?void 0:g.value)!=null?i.push(g.id):h!=null&&i.push(h.id)}),i}function z0e(t,r){const i=[];return r.forEach(u=>{const g=t.findIndex(h=>h.id===u);if(~g){const h=t[g];i.push(h.value!=null?h.value:g)}}),i}const Tee=Symbol.for("vuetify:v-btn-toggle"),H0e=Bn({...See(),...sK()},"VBtnToggle"),U0e=Vo()({name:"VBtnToggle",props:H0e(),emits:{"update:modelValue":t=>!0},setup(t,r){let{slots:i}=r;const{isSelected:u,next:g,prev:h,select:x,selected:w}=rK(t,Tee);return Cs(()=>{const I=G0.filterProps(t);return ae(G0,Bo({class:["v-btn-toggle",t.class]},I,{style:t.style}),{default:()=>{var D;return[(D=i.default)==null?void 0:D.call(i,{isSelected:u,next:g,prev:h,select:x,selected:w})]}})}),{next:g,prev:h,select:x}}}),W0e=Bn({defaults:Object,disabled:Boolean,reset:[Number,String],root:[Boolean,String],scoped:Boolean},"VDefaultsProvider"),Aa=Vo(!1)({name:"VDefaultsProvider",props:W0e(),setup(t,r){let{slots:i}=r;const{defaults:u,disabled:g,reset:h,root:x,scoped:w}=MF(t);return Sx(u,{reset:h,root:x,scoped:w,disabled:g}),()=>{var I;return(I=i.default)==null?void 0:I.call(i)}}}),K0e=["x-small","small","default","large","x-large"],vI=Bn({size:{type:[String,Number],default:"default"}},"size");function yI(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:jb();return zW(()=>{const i=t.size;let u,g;return lF(K0e,i)?u=`${r}--size-${i}`:i&&(g={width:ws(i),height:ws(i)}),{sizeClasses:u,sizeStyles:g}})}const j0e=Bn({color:String,disabled:Boolean,start:Boolean,end:Boolean,icon:Vr,opacity:[String,Number],...Hs(),...vI(),...la({tag:"i"}),...yl()},"VIcon"),zn=Vo()({name:"VIcon",props:j0e(),setup(t,r){let{attrs:i,slots:u}=r;const g=bo(),{themeClasses:h}=$he(),{iconData:x}=Rhe(()=>g.value||t.icon),{sizeClasses:w}=yI(t),{textColorClasses:I,textColorStyles:D}=gp(()=>t.color);return Cs(()=>{var V,U;const O=(V=u.default)==null?void 0:V.call(u);O&&(g.value=(U=tQ(O).filter(Z=>Z.type===fI&&Z.children&&typeof Z.children=="string")[0])==null?void 0:U.children);const N=!!(i.onClick||i.onClickOnce);return ae(x.value.component,{tag:t.tag,icon:x.value.icon,class:lo(["v-icon","notranslate",h.value,w.value,I.value,{"v-icon--clickable":N,"v-icon--disabled":t.disabled,"v-icon--start":t.start,"v-icon--end":t.end},t.class]),style:Ms([{"--v-icon-opacity":t.opacity},w.value?void 0:{fontSize:ws(t.size),height:ws(t.size),width:ws(t.size)},D.value,t.style]),role:N?"button":void 0,"aria-hidden":!N,tabindex:N?t.disabled?-1:0:void 0},{default:()=>[O]})}),{}}});function Oee(t,r){const i=Tn(),u=bo(!1);if(VW){const g=new IntersectionObserver(h=>{u.value=!!h.find(x=>x.isIntersecting)},r);ic(()=>{g.disconnect()}),Rn(i,(h,x)=>{x&&(g.unobserve(x),u.value=!1),h&&g.observe(h)},{flush:"post"})}return{intersectionRef:i,isIntersecting:u}}const Z0e=Bn({bgColor:String,color:String,indeterminate:[Boolean,String],modelValue:{type:[Number,String],default:0},rotate:{type:[Number,String],default:0},width:{type:[Number,String],default:4},...Hs(),...vI(),...la({tag:"div"}),...yl()},"VProgressCircular"),G0e=Vo()({name:"VProgressCircular",props:Z0e(),setup(t,r){let{slots:i}=r;const u=20,g=2*Math.PI*u,h=Tn(),{themeClasses:x}=ac(t),{sizeClasses:w,sizeStyles:I}=yI(t),{textColorClasses:D,textColorStyles:O}=gp(()=>t.color),{textColorClasses:N,textColorStyles:V}=gp(()=>t.bgColor),{intersectionRef:U,isIntersecting:Z}=Oee(),{resizeRef:ee,contentRect:re}=EE(),H=pn(()=>wf(parseFloat(t.modelValue),0,100)),de=pn(()=>Number(t.width)),le=pn(()=>I.value?Number(t.size):re.value?re.value.width:Math.max(de.value,32)),j=pn(()=>u/(1-de.value/le.value)*2),fe=pn(()=>de.value/le.value*j.value),ne=pn(()=>ws((100-H.value)/100*g));return Bd(()=>{U.value=h.value,ee.value=h.value}),Cs(()=>ae(t.tag,{ref:h,class:lo(["v-progress-circular",{"v-progress-circular--indeterminate":!!t.indeterminate,"v-progress-circular--visible":Z.value,"v-progress-circular--disable-shrink":t.indeterminate==="disable-shrink"},x.value,w.value,D.value,t.class]),style:Ms([I.value,O.value,t.style]),role:"progressbar","aria-valuemin":"0","aria-valuemax":"100","aria-valuenow":t.indeterminate?void 0:H.value},{default:()=>[se("svg",{style:{transform:`rotate(calc(-90deg + ${Number(t.rotate)}deg))`},xmlns:"http://www.w3.org/2000/svg",viewBox:`0 0 ${j.value} ${j.value}`},[se("circle",{class:lo(["v-progress-circular__underlay",N.value]),style:Ms(V.value),fill:"transparent",cx:"50%",cy:"50%",r:u,"stroke-width":fe.value,"stroke-dasharray":g,"stroke-dashoffset":0},null),se("circle",{class:"v-progress-circular__overlay",fill:"transparent",cx:"50%",cy:"50%",r:u,"stroke-width":fe.value,"stroke-dasharray":g,"stroke-dashoffset":ne.value},null)]),i.default&&se("div",{class:"v-progress-circular__content"},[i.default({value:H.value})])]})),{}}}),bp=Bn({height:[Number,String],maxHeight:[Number,String],maxWidth:[Number,String],minHeight:[Number,String],minWidth:[Number,String],width:[Number,String]},"dimension");function vp(t){return{dimensionStyles:Rt(()=>{const i={},u=ws(t.height),g=ws(t.maxHeight),h=ws(t.maxWidth),x=ws(t.minHeight),w=ws(t.minWidth),I=ws(t.width);return u!=null&&(i.height=u),g!=null&&(i.maxHeight=g),h!=null&&(i.maxWidth=h),x!=null&&(i.minHeight=x),w!=null&&(i.minWidth=w),I!=null&&(i.width=I),i})}}const zY={center:"center",top:"bottom",bottom:"top",left:"right",right:"left"},s8=Bn({location:String},"location");function r8(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,i=arguments.length>2?arguments[2]:void 0;const{isRtl:u}=Qg();return{locationStyles:Rt(()=>{if(!t.location)return{};const{side:h,align:x}=UU(t.location.split(" ").length>1?t.location:`${t.location} center`,u.value);function w(D){return i?i(D):0}const I={};return h!=="center"&&(r?I[zY[h]]=`calc(100% - ${w(h)}px)`:I[h]=0),x!=="center"?r?I[zY[x]]=`calc(100% - ${w(x)}px)`:I[x]=0:(h==="center"?I.top=I.left="50%":I[{top:"left",bottom:"left",left:"top",right:"top"}[h]]="50%",I.transform={top:"translateX(-50%)",bottom:"translateX(-50%)",left:"translateY(-50%)",right:"translateY(-50%)",center:"translate(-50%, -50%)"}[h]),I})}}const q0e=Bn({absolute:Boolean,active:{type:Boolean,default:!0},bgColor:String,bgOpacity:[Number,String],bufferValue:{type:[Number,String],default:0},bufferColor:String,bufferOpacity:[Number,String],clickable:Boolean,color:String,height:{type:[Number,String],default:4},indeterminate:Boolean,max:{type:[Number,String],default:100},modelValue:{type:[Number,String],default:0},opacity:[Number,String],reverse:Boolean,stream:Boolean,striped:Boolean,roundedBar:Boolean,...Hs(),...s8({location:"top"}),...Om(),...la(),...yl()},"VProgressLinear"),Ree=Vo()({name:"VProgressLinear",props:q0e(),emits:{"update:modelValue":t=>!0},setup(t,r){var xe;let{slots:i}=r;const u=Ri(t,"modelValue"),{isRtl:g,rtlClasses:h}=Qg(),{themeClasses:x}=ac(t),{locationStyles:w}=r8(t),{textColorClasses:I,textColorStyles:D}=gp(()=>t.color),{backgroundColorClasses:O,backgroundColorStyles:N}=dp(()=>t.bgColor||t.color),{backgroundColorClasses:V,backgroundColorStyles:U}=dp(()=>t.bufferColor||t.bgColor||t.color),{backgroundColorClasses:Z,backgroundColorStyles:ee}=dp(()=>t.color),{roundedClasses:re}=Rm(t),{intersectionRef:H,isIntersecting:de}=Oee(),le=Rt(()=>parseFloat(t.max)),j=Rt(()=>parseFloat(t.height)),fe=Rt(()=>wf(parseFloat(t.bufferValue)/le.value*100,0,100)),ne=Rt(()=>wf(parseFloat(u.value)/le.value*100,0,100)),Ve=Rt(()=>g.value!==t.reverse),Fe=Rt(()=>t.indeterminate?"fade-transition":"slide-x-transition"),Xe=Qr&&((xe=window.matchMedia)==null?void 0:xe.call(window,"(forced-colors: active)").matches);function rt(_e){if(!H.value)return;const{left:R,right:it,width:lt}=H.value.getBoundingClientRect(),Lt=Ve.value?lt-_e.clientX+(it-lt):_e.clientX-R;u.value=Math.round(Lt/lt*le.value)}return Cs(()=>ae(t.tag,{ref:H,class:lo(["v-progress-linear",{"v-progress-linear--absolute":t.absolute,"v-progress-linear--active":t.active&&de.value,"v-progress-linear--reverse":Ve.value,"v-progress-linear--rounded":t.rounded,"v-progress-linear--rounded-bar":t.roundedBar,"v-progress-linear--striped":t.striped},re.value,x.value,h.value,t.class]),style:Ms([{bottom:t.location==="bottom"?0:void 0,top:t.location==="top"?0:void 0,height:t.active?ws(j.value):0,"--v-progress-linear-height":ws(j.value),...t.absolute?w.value:{}},t.style]),role:"progressbar","aria-hidden":t.active?"false":"true","aria-valuemin":"0","aria-valuemax":t.max,"aria-valuenow":t.indeterminate?void 0:Math.min(parseFloat(u.value),le.value),onClick:t.clickable&&rt},{default:()=>[t.stream&&se("div",{key:"stream",class:lo(["v-progress-linear__stream",I.value]),style:{...D.value,[Ve.value?"left":"right"]:ws(-j.value),borderTop:`${ws(j.value/2)} dotted`,opacity:parseFloat(t.bufferOpacity),top:`calc(50% - ${ws(j.value/4)})`,width:ws(100-fe.value,"%"),"--v-progress-linear-stream-to":ws(j.value*(Ve.value?1:-1))}},null),se("div",{class:lo(["v-progress-linear__background",Xe?void 0:O.value]),style:Ms([N.value,{opacity:parseFloat(t.bgOpacity),width:t.stream?0:void 0}])},null),se("div",{class:lo(["v-progress-linear__buffer",Xe?void 0:V.value]),style:Ms([U.value,{opacity:parseFloat(t.bufferOpacity),width:ws(fe.value,"%")}])},null),ae(xx,{name:Fe.value},{default:()=>[t.indeterminate?se("div",{class:"v-progress-linear__indeterminate"},[["long","short"].map(_e=>se("div",{key:_e,class:lo(["v-progress-linear__indeterminate",_e,Xe?void 0:Z.value]),style:Ms(ee.value)},null))]):se("div",{class:lo(["v-progress-linear__determinate",Xe?void 0:Z.value]),style:Ms([ee.value,{width:ws(ne.value,"%")}])},null)]}),i.default&&se("div",{class:"v-progress-linear__content"},[i.default({value:ne.value,buffer:fe.value})])]})),{}}}),iK=Bn({loading:[Boolean,String]},"loader");function aK(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:jb();return{loaderClasses:pn(()=>({[`${r}--loading`]:t.loading}))}}function Iee(t,r){var u;let{slots:i}=r;return se("div",{class:lo(`${t.name}__loader`)},[((u=i.default)==null?void 0:u.call(i,{color:t.color,isActive:t.active}))||ae(Ree,{absolute:t.absolute,active:t.active,color:t.color,height:"2",indeterminate:!0},null)])}const Y0e=["static","relative","fixed","absolute","sticky"],lK=Bn({position:{type:String,validator:t=>Y0e.includes(t)}},"position");function cK(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:jb();return{positionClasses:pn(()=>t.position?`${r}--${t.position}`:void 0)}}function X0e(){const t=Bl("useRoute");return Rt(()=>{var r;return(r=t==null?void 0:t.proxy)==null?void 0:r.$route})}function Dee(){var t,r;return(r=(t=Bl("useRouter"))==null?void 0:t.proxy)==null?void 0:r.$router}function i8(t,r){var O,N;const i=vfe("RouterLink"),u=pn(()=>!!(t.href||t.to)),g=Rt(()=>(u==null?void 0:u.value)||Aq(r,"click")||Aq(t,"click"));if(typeof i=="string"||!("useLink"in i)){const V=pn(()=>t.href);return{isLink:u,isClickable:g,href:V,linkProps:jl({href:V})}}const h=i.useLink({to:pn(()=>t.to||""),replace:pn(()=>t.replace)}),x=Rt(()=>t.to?h:void 0),w=X0e(),I=Rt(()=>{var V,U,Z;return x.value?t.exact?w.value?((Z=x.value.isExactActive)==null?void 0:Z.value)&&Jg(x.value.route.value.query,w.value.query):((U=x.value.isExactActive)==null?void 0:U.value)??!1:((V=x.value.isActive)==null?void 0:V.value)??!1:!1}),D=Rt(()=>{var V;return t.to?(V=x.value)==null?void 0:V.route.value.href:t.href});return{isLink:u,isClickable:g,isActive:I,route:(O=x.value)==null?void 0:O.route,navigate:(N=x.value)==null?void 0:N.navigate,href:D,linkProps:jl({href:D,"aria-current":pn(()=>I.value?"page":void 0)})}}const a8=Bn({href:String,replace:Boolean,to:[String,Object],exact:Boolean},"router");let uU=!1;function J0e(t,r){let i=!1,u,g;Qr&&(t!=null&&t.beforeEach)&&(Qo(()=>{window.addEventListener("popstate",h),u=t.beforeEach((x,w,I)=>{uU?i?r(I):I():setTimeout(()=>i?r(I):I()),uU=!0}),g=t==null?void 0:t.afterEach(()=>{uU=!1})}),ic(()=>{window.removeEventListener("popstate",h),u==null||u(),g==null||g()}));function h(x){var w;(w=x.state)!=null&&w.replaced||(i=!0,setTimeout(()=>i=!1))}}function Q0e(t,r){Rn(()=>{var i;return(i=t.isActive)==null?void 0:i.value},i=>{t.isLink.value&&i!=null&&r&&Qo(()=>{r(i)})},{immediate:!0})}const uW=Symbol("rippleStop"),e1e=80;function HY(t,r){t.style.transform=r,t.style.webkitTransform=r}function dW(t){return t.constructor.name==="TouchEvent"}function Pee(t){return t.constructor.name==="KeyboardEvent"}const t1e=function(t,r){var N;let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},u=0,g=0;if(!Pee(t)){const V=r.getBoundingClientRect(),U=dW(t)?t.touches[t.touches.length-1]:t;u=U.clientX-V.left,g=U.clientY-V.top}let h=0,x=.3;(N=r._ripple)!=null&&N.circle?(x=.15,h=r.clientWidth/2,h=i.center?h:h+Math.sqrt((u-h)**2+(g-h)**2)/4):h=Math.sqrt(r.clientWidth**2+r.clientHeight**2)/2;const w=`${(r.clientWidth-h*2)/2}px`,I=`${(r.clientHeight-h*2)/2}px`,D=i.center?w:`${u-h}px`,O=i.center?I:`${g-h}px`;return{radius:h,scale:x,x:D,y:O,centerX:w,centerY:I}},_F={show(t,r){var U;let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!((U=r==null?void 0:r._ripple)!=null&&U.enabled))return;const u=document.createElement("span"),g=document.createElement("span");u.appendChild(g),u.className="v-ripple__container",i.class&&(u.className+=` ${i.class}`);const{radius:h,scale:x,x:w,y:I,centerX:D,centerY:O}=t1e(t,r,i),N=`${h*2}px`;g.className="v-ripple__animation",g.style.width=N,g.style.height=N,r.appendChild(u);const V=window.getComputedStyle(r);V&&V.position==="static"&&(r.style.position="relative",r.dataset.previousPosition="static"),g.classList.add("v-ripple__animation--enter"),g.classList.add("v-ripple__animation--visible"),HY(g,`translate(${w}, ${I}) scale3d(${x},${x},${x})`),g.dataset.activated=String(performance.now()),requestAnimationFrame(()=>{requestAnimationFrame(()=>{g.classList.remove("v-ripple__animation--enter"),g.classList.add("v-ripple__animation--in"),HY(g,`translate(${D}, ${O}) scale3d(1,1,1)`)})})},hide(t){var h;if(!((h=t==null?void 0:t._ripple)!=null&&h.enabled))return;const r=t.getElementsByClassName("v-ripple__animation");if(r.length===0)return;const i=r[r.length-1];if(i.dataset.isHiding)return;i.dataset.isHiding="true";const u=performance.now()-Number(i.dataset.activated),g=Math.max(250-u,0);setTimeout(()=>{i.classList.remove("v-ripple__animation--in"),i.classList.add("v-ripple__animation--out"),setTimeout(()=>{var w;t.getElementsByClassName("v-ripple__animation").length===1&&t.dataset.previousPosition&&(t.style.position=t.dataset.previousPosition,delete t.dataset.previousPosition),((w=i.parentNode)==null?void 0:w.parentNode)===t&&t.removeChild(i.parentNode)},300)},g)}};function Nee(t){return typeof t>"u"||!!t}function qR(t){const r={},i=t.currentTarget;if(!(!(i!=null&&i._ripple)||i._ripple.touched||t[uW])){if(t[uW]=!0,dW(t))i._ripple.touched=!0,i._ripple.isTouch=!0;else if(i._ripple.isTouch)return;if(r.center=i._ripple.centered||Pee(t),i._ripple.class&&(r.class=i._ripple.class),dW(t)){if(i._ripple.showTimerCommit)return;i._ripple.showTimerCommit=()=>{_F.show(t,i,r)},i._ripple.showTimer=window.setTimeout(()=>{var u;(u=i==null?void 0:i._ripple)!=null&&u.showTimerCommit&&(i._ripple.showTimerCommit(),i._ripple.showTimerCommit=null)},e1e)}else _F.show(t,i,r)}}function UY(t){t[uW]=!0}function _m(t){const r=t.currentTarget;if(r!=null&&r._ripple){if(window.clearTimeout(r._ripple.showTimer),t.type==="touchend"&&r._ripple.showTimerCommit){r._ripple.showTimerCommit(),r._ripple.showTimerCommit=null,r._ripple.showTimer=window.setTimeout(()=>{_m(t)});return}window.setTimeout(()=>{r._ripple&&(r._ripple.touched=!1)}),_F.hide(r)}}function Lee(t){const r=t.currentTarget;r!=null&&r._ripple&&(r._ripple.showTimerCommit&&(r._ripple.showTimerCommit=null),window.clearTimeout(r._ripple.showTimer))}let YR=!1;function WY(t,r){!YR&&r.includes(t.keyCode)&&(YR=!0,qR(t))}function Mee(t){YR=!1,_m(t)}function Bee(t){YR&&(YR=!1,_m(t))}function Fee(t,r,i){const{value:u,modifiers:g}=r,h=Nee(u);h||_F.hide(t),t._ripple=t._ripple??{},t._ripple.enabled=h,t._ripple.centered=g.center,t._ripple.circle=g.circle;const x=$U(u)?u:{};x.class&&(t._ripple.class=x.class);const w=x.keys??[VU.enter,VU.space];if(t._ripple.keyDownHandler=I=>WY(I,w),h&&!i){if(g.stop){t.addEventListener("touchstart",UY,{passive:!0}),t.addEventListener("mousedown",UY);return}t.addEventListener("touchstart",qR,{passive:!0}),t.addEventListener("touchend",_m,{passive:!0}),t.addEventListener("touchmove",Lee,{passive:!0}),t.addEventListener("touchcancel",_m),t.addEventListener("mousedown",qR),t.addEventListener("mouseup",_m),t.addEventListener("mouseleave",_m),t.addEventListener("keydown",I=>WY(I,w)),t.addEventListener("keyup",Mee),t.addEventListener("blur",Bee),t.addEventListener("dragstart",_m,{passive:!0})}else!h&&i&&$ee(t)}function $ee(t){var r;t.removeEventListener("mousedown",qR),t.removeEventListener("touchstart",qR),t.removeEventListener("touchend",_m),t.removeEventListener("touchmove",Lee),t.removeEventListener("touchcancel",_m),t.removeEventListener("mouseup",_m),t.removeEventListener("mouseleave",_m),(r=t._ripple)!=null&&r.keyDownHandler&&t.removeEventListener("keydown",t._ripple.keyDownHandler),t.removeEventListener("keyup",Mee),t.removeEventListener("dragstart",_m),t.removeEventListener("blur",Bee)}function n1e(t,r){Fee(t,r,!1)}function o1e(t){$ee(t),delete t._ripple}function s1e(t,r){if(r.value===r.oldValue)return;const i=Nee(r.oldValue);Fee(t,r,i)}const e1={mounted:n1e,unmounted:o1e,updated:s1e},r1e=Bn({active:{type:Boolean,default:void 0},activeColor:String,baseColor:String,symbol:{type:null,default:Tee},flat:Boolean,icon:[Boolean,String,Function,Object],prependIcon:Vr,appendIcon:Vr,block:Boolean,readonly:Boolean,slim:Boolean,stacked:Boolean,ripple:{type:[Boolean,Object],default:!0},text:{type:[String,Number,Boolean],default:void 0},...r1(),...Hs(),...eh(),...bp(),...a1(),...kee(),...iK(),...s8(),...lK(),...Om(),...a8(),...vI(),...la({tag:"button"}),...yl(),...c1({variant:"elevated"})},"VBtn"),Eo=Vo()({name:"VBtn",props:r1e(),emits:{"group:selected":t=>!0},setup(t,r){let{attrs:i,slots:u}=r;const{themeClasses:g}=ac(t),{borderClasses:h}=i1(t),{densityClasses:x}=pp(t),{dimensionStyles:w}=vp(t),{elevationClasses:I}=l1(t),{loaderClasses:D}=aK(t),{locationStyles:O}=r8(t),{positionClasses:N}=cK(t),{roundedClasses:V}=Rm(t),{sizeClasses:U,sizeStyles:Z}=yI(t),ee=Eee(t,t.symbol,!1),re=i8(t,i),H=Rt(()=>{var xe;return t.active!==void 0?t.active:re.isLink.value?(xe=re.isActive)==null?void 0:xe.value:ee==null?void 0:ee.isSelected.value}),de=pn(()=>H.value?t.activeColor??t.color:t.color),le=Rt(()=>{var _e,R;return{color:(ee==null?void 0:ee.isSelected.value)&&(!re.isLink.value||((_e=re.isActive)==null?void 0:_e.value))||!ee||((R=re.isActive)==null?void 0:R.value)?de.value??t.baseColor:t.baseColor,variant:t.variant}}),{colorClasses:j,colorStyles:fe,variantClasses:ne}=HE(le),Ve=Rt(()=>(ee==null?void 0:ee.disabled.value)||t.disabled),Fe=pn(()=>t.variant==="elevated"&&!(t.disabled||t.flat||t.border)),Xe=Rt(()=>{if(!(t.value===void 0||typeof t.value=="symbol"))return Object(t.value)===t.value?JSON.stringify(t.value,null,0):t.value});function rt(xe){var _e;Ve.value||re.isLink.value&&(xe.metaKey||xe.ctrlKey||xe.shiftKey||xe.button!==0||i.target==="_blank")||((_e=re.navigate)==null||_e.call(re,xe),ee==null||ee.toggle())}return Q0e(re,ee==null?void 0:ee.select),Cs(()=>{const xe=re.isLink.value?"a":t.tag,_e=!!(t.prependIcon||u.prepend),R=!!(t.appendIcon||u.append),it=!!(t.icon&&t.icon!==!0);return Mn(ae(xe,Bo({type:xe==="a"?void 0:"button",class:["v-btn",ee==null?void 0:ee.selectedClass.value,{"v-btn--active":H.value,"v-btn--block":t.block,"v-btn--disabled":Ve.value,"v-btn--elevated":Fe.value,"v-btn--flat":t.flat,"v-btn--icon":!!t.icon,"v-btn--loading":t.loading,"v-btn--readonly":t.readonly,"v-btn--slim":t.slim,"v-btn--stacked":t.stacked},g.value,h.value,j.value,x.value,I.value,D.value,N.value,V.value,U.value,ne.value,t.class],style:[fe.value,w.value,O.value,Z.value,t.style],"aria-busy":t.loading?!0:void 0,disabled:Ve.value||void 0,tabindex:t.loading||t.readonly?-1:void 0,onClick:rt,value:Xe.value},re.linkProps),{default:()=>{var lt;return[zE(!0,"v-btn"),!t.icon&&_e&&se("span",{key:"prepend",class:"v-btn__prepend"},[u.prepend?ae(Aa,{key:"prepend-defaults",disabled:!t.prependIcon,defaults:{VIcon:{icon:t.prependIcon}}},u.prepend):ae(zn,{key:"prepend-icon",icon:t.prependIcon},null)]),se("span",{class:"v-btn__content","data-no-activator":""},[!u.default&&it?ae(zn,{key:"content-icon",icon:t.icon},null):ae(Aa,{key:"content-defaults",disabled:!it,defaults:{VIcon:{icon:t.icon}}},{default:()=>{var Lt;return[((Lt=u.default)==null?void 0:Lt.call(u))??Be(t.text)]}})]),!t.icon&&R&&se("span",{key:"append",class:"v-btn__append"},[u.append?ae(Aa,{key:"append-defaults",disabled:!t.appendIcon,defaults:{VIcon:{icon:t.appendIcon}}},u.append):ae(zn,{key:"append-icon",icon:t.appendIcon},null)]),!!t.loading&&se("span",{key:"loader",class:"v-btn__loader"},[((lt=u.loader)==null?void 0:lt.call(u))??ae(G0e,{color:typeof t.loading=="boolean"?void 0:t.loading,indeterminate:!0,width:"2"},null)])]}}),[[e1,!Ve.value&&t.ripple,"",{center:!!t.icon}]])}),{group:ee}}}),km=Vo()({name:"VCardActions",props:Hs(),setup(t,r){let{slots:i}=r;return Sx({VBtn:{slim:!0,variant:"text"}}),Cs(()=>{var u;return se("div",{class:lo(["v-card-actions",t.class]),style:Ms(t.style)},[(u=i.default)==null?void 0:u.call(i)])}),{}}}),i1e=Bn({opacity:[Number,String],...Hs(),...la()},"VCardSubtitle"),a1e=Vo()({name:"VCardSubtitle",props:i1e(),setup(t,r){let{slots:i}=r;return Cs(()=>ae(t.tag,{class:lo(["v-card-subtitle",t.class]),style:Ms([{"--v-card-subtitle-opacity":t.opacity},t.style])},i)),{}}}),bx=KF("v-card-title");function l1e(t){return{aspectStyles:Rt(()=>{const r=Number(t.aspectRatio);return r?{paddingBottom:String(1/r*100)+"%"}:void 0})}}const Vee=Bn({aspectRatio:[String,Number],contentClass:null,inline:Boolean,...Hs(),...bp()},"VResponsive"),KY=Vo()({name:"VResponsive",props:Vee(),setup(t,r){let{slots:i}=r;const{aspectStyles:u}=l1e(t),{dimensionStyles:g}=vp(t);return Cs(()=>{var h;return se("div",{class:lo(["v-responsive",{"v-responsive--inline":t.inline},t.class]),style:Ms([g.value,t.style])},[se("div",{class:"v-responsive__sizer",style:Ms(u.value)},null),(h=i.additional)==null?void 0:h.call(i),i.default&&se("div",{class:lo(["v-responsive__content",t.contentClass])},[i.default()])])}),{}}}),UE=Bn({transition:{type:null,default:"fade-transition",validator:t=>t!==!0}},"transition"),fx=(t,r)=>{let{slots:i}=r;const{transition:u,disabled:g,group:h,...x}=t,{component:w=h?$W:xx,...I}=$U(u)?u:{};let D;return $U(u)?D=Bo(I,Xme({disabled:g,group:h}),x):D=Bo({name:g||!u?"":u},x),Ub(w,D,i)};function c1e(t,r){if(!VW)return;const i=r.modifiers||{},u=r.value,{handler:g,options:h}=typeof u=="object"?u:{handler:u,options:{}},x=new IntersectionObserver(function(){var N;let w=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],I=arguments.length>1?arguments[1]:void 0;const D=(N=t._observe)==null?void 0:N[r.instance.$.uid];if(!D)return;const O=w.some(V=>V.isIntersecting);g&&(!i.quiet||D.init)&&(!i.once||O||D.init)&&g(O,w,I),O&&i.once?zee(t,r):D.init=!0},h);t._observe=Object(t._observe),t._observe[r.instance.$.uid]={init:!1,observer:x},x.observe(t)}function zee(t,r){var u;const i=(u=t._observe)==null?void 0:u[r.instance.$.uid];i&&(i.observer.unobserve(t),delete t._observe[r.instance.$.uid])}const OE={mounted:c1e,unmounted:zee},u1e=Bn({absolute:Boolean,alt:String,cover:Boolean,color:String,draggable:{type:[Boolean,String],default:void 0},eager:Boolean,gradient:String,lazySrc:String,options:{type:Object,default:()=>({root:void 0,rootMargin:void 0,threshold:void 0})},sizes:String,src:{type:[String,Object],default:""},crossorigin:String,referrerpolicy:String,srcset:String,position:String,...Vee(),...Hs(),...Om(),...UE()},"VImg"),xI=Vo()({name:"VImg",directives:{vIntersect:OE},props:u1e(),emits:{loadstart:t=>!0,load:t=>!0,error:t=>!0},setup(t,r){let{emit:i,slots:u}=r;const{backgroundColorClasses:g,backgroundColorStyles:h}=dp(()=>t.color),{roundedClasses:x}=Rm(t),w=Bl("VImg"),I=bo(""),D=Tn(),O=bo(t.eager?"loading":"idle"),N=bo(),V=bo(),U=Rt(()=>t.src&&typeof t.src=="object"?{src:t.src.src,srcset:t.srcset||t.src.srcset,lazySrc:t.lazySrc||t.src.lazySrc,aspect:Number(t.aspectRatio||t.src.aspect||0)}:{src:t.src,srcset:t.srcset,lazySrc:t.lazySrc,aspect:Number(t.aspectRatio||0)}),Z=Rt(()=>U.value.aspect||N.value/V.value||0);Rn(()=>t.src,()=>{ee(O.value!=="idle")}),Rn(Z,(_e,R)=>{!_e&&R&&D.value&&j(D.value)}),dI(()=>ee());function ee(_e){if(!(t.eager&&_e)&&!(VW&&!_e&&!t.eager)){if(O.value="loading",U.value.lazySrc){const R=new Image;R.src=U.value.lazySrc,j(R,null)}U.value.src&&Qo(()=>{var R;i("loadstart",((R=D.value)==null?void 0:R.currentSrc)||U.value.src),setTimeout(()=>{var it;if(!w.isUnmounted)if((it=D.value)!=null&&it.complete){if(D.value.naturalWidth||H(),O.value==="error")return;Z.value||j(D.value,null),O.value==="loading"&&re()}else Z.value||j(D.value),de()})})}}function re(){var _e;w.isUnmounted||(de(),j(D.value),O.value="loaded",i("load",((_e=D.value)==null?void 0:_e.currentSrc)||U.value.src))}function H(){var _e;w.isUnmounted||(O.value="error",i("error",((_e=D.value)==null?void 0:_e.currentSrc)||U.value.src))}function de(){const _e=D.value;_e&&(I.value=_e.currentSrc||_e.src)}let le=-1;Ac(()=>{clearTimeout(le)});function j(_e){let R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:100;const it=()=>{if(clearTimeout(le),w.isUnmounted)return;const{naturalHeight:lt,naturalWidth:Lt}=_e;lt||Lt?(N.value=Lt,V.value=lt):!_e.complete&&O.value==="loading"&&R!=null?le=window.setTimeout(it,R):(_e.currentSrc.endsWith(".svg")||_e.currentSrc.startsWith("data:image/svg+xml"))&&(N.value=1,V.value=1)};it()}const fe=pn(()=>({"v-img__img--cover":t.cover,"v-img__img--contain":!t.cover})),ne=()=>{var it;if(!U.value.src||O.value==="idle")return null;const _e=se("img",{class:lo(["v-img__img",fe.value]),style:{objectPosition:t.position},crossorigin:t.crossorigin,src:U.value.src,srcset:U.value.srcset,alt:t.alt,referrerpolicy:t.referrerpolicy,draggable:t.draggable,sizes:t.sizes,ref:D,onLoad:re,onError:H},null),R=(it=u.sources)==null?void 0:it.call(u);return ae(fx,{transition:t.transition,appear:!0},{default:()=>[Mn(R?se("picture",{class:"v-img__picture"},[R,_e]):_e,[[uo,O.value==="loaded"]])]})},Ve=()=>ae(fx,{transition:t.transition},{default:()=>[U.value.lazySrc&&O.value!=="loaded"&&se("img",{class:lo(["v-img__img","v-img__img--preload",fe.value]),style:{objectPosition:t.position},crossorigin:t.crossorigin,src:U.value.lazySrc,alt:t.alt,referrerpolicy:t.referrerpolicy,draggable:t.draggable},null)]}),Fe=()=>u.placeholder?ae(fx,{transition:t.transition,appear:!0},{default:()=>[(O.value==="loading"||O.value==="error"&&!u.error)&&se("div",{class:"v-img__placeholder"},[u.placeholder()])]}):null,Xe=()=>u.error?ae(fx,{transition:t.transition,appear:!0},{default:()=>[O.value==="error"&&se("div",{class:"v-img__error"},[u.error()])]}):null,rt=()=>t.gradient?se("div",{class:"v-img__gradient",style:{backgroundImage:`linear-gradient(${t.gradient})`}},null):null,xe=bo(!1);{const _e=Rn(Z,R=>{R&&(requestAnimationFrame(()=>{requestAnimationFrame(()=>{xe.value=!0})}),_e())})}return Cs(()=>{const _e=KY.filterProps(t);return Mn(ae(KY,Bo({class:["v-img",{"v-img--absolute":t.absolute,"v-img--booting":!xe.value},g.value,x.value,t.class],style:[{width:ws(t.width==="auto"?N.value:t.width)},h.value,t.style]},_e,{aspectRatio:Z.value,"aria-label":t.alt,role:t.alt?"img":void 0}),{additional:()=>se(Yo,null,[ae(ne,null,null),ae(Ve,null,null),ae(rt,null,null),ae(Fe,null,null),ae(Xe,null,null)]),default:u.default}),[[OE,{handler:ee,options:t.options},null,{once:!0}]])}),{currentSrc:I,image:D,state:O,naturalWidth:N,naturalHeight:V}}}),d1e=Bn({start:Boolean,end:Boolean,icon:Vr,image:String,text:String,...r1(),...Hs(),...eh(),...Om(),...vI(),...la(),...yl(),...c1({variant:"flat"})},"VAvatar"),wx=Vo()({name:"VAvatar",props:d1e(),setup(t,r){let{slots:i}=r;const{themeClasses:u}=ac(t),{borderClasses:g}=i1(t),{colorClasses:h,colorStyles:x,variantClasses:w}=HE(t),{densityClasses:I}=pp(t),{roundedClasses:D}=Rm(t),{sizeClasses:O,sizeStyles:N}=yI(t);return Cs(()=>ae(t.tag,{class:lo(["v-avatar",{"v-avatar--start":t.start,"v-avatar--end":t.end},u.value,g.value,h.value,I.value,D.value,O.value,w.value,t.class]),style:Ms([x.value,N.value,t.style])},{default:()=>[i.default?ae(Aa,{key:"content-defaults",defaults:{VImg:{cover:!0,src:t.image},VIcon:{icon:t.icon}}},{default:()=>[i.default()]}):t.image?ae(xI,{key:"image",src:t.image,alt:"",cover:!0},null):t.icon?ae(zn,{key:"icon",icon:t.icon},null):t.text,zE(!1,"v-avatar")]})),{}}}),f1e=Bn({appendAvatar:String,appendIcon:Vr,prependAvatar:String,prependIcon:Vr,subtitle:{type:[String,Number,Boolean],default:void 0},title:{type:[String,Number,Boolean],default:void 0},...Hs(),...eh()},"VCardItem"),m1e=Vo()({name:"VCardItem",props:f1e(),setup(t,r){let{slots:i}=r;return Cs(()=>{var D;const u=!!(t.prependAvatar||t.prependIcon),g=!!(u||i.prepend),h=!!(t.appendAvatar||t.appendIcon),x=!!(h||i.append),w=!!(t.title!=null||i.title),I=!!(t.subtitle!=null||i.subtitle);return se("div",{class:lo(["v-card-item",t.class]),style:Ms(t.style)},[g&&se("div",{key:"prepend",class:"v-card-item__prepend"},[i.prepend?ae(Aa,{key:"prepend-defaults",disabled:!u,defaults:{VAvatar:{density:t.density,image:t.prependAvatar},VIcon:{density:t.density,icon:t.prependIcon}}},i.prepend):se(Yo,null,[t.prependAvatar&&ae(wx,{key:"prepend-avatar",density:t.density,image:t.prependAvatar},null),t.prependIcon&&ae(zn,{key:"prepend-icon",density:t.density,icon:t.prependIcon},null)])]),se("div",{class:"v-card-item__content"},[w&&ae(bx,{key:"title"},{default:()=>{var O;return[((O=i.title)==null?void 0:O.call(i))??Be(t.title)]}}),I&&ae(a1e,{key:"subtitle"},{default:()=>{var O;return[((O=i.subtitle)==null?void 0:O.call(i))??Be(t.subtitle)]}}),(D=i.default)==null?void 0:D.call(i)]),x&&se("div",{key:"append",class:"v-card-item__append"},[i.append?ae(Aa,{key:"append-defaults",disabled:!h,defaults:{VAvatar:{density:t.density,image:t.appendAvatar},VIcon:{density:t.density,icon:t.appendIcon}}},i.append):se(Yo,null,[t.appendIcon&&ae(zn,{key:"append-icon",density:t.density,icon:t.appendIcon},null),t.appendAvatar&&ae(wx,{key:"append-avatar",density:t.density,image:t.appendAvatar},null)])])])}),{}}}),g1e=Bn({opacity:[Number,String],...Hs(),...la()},"VCardText"),Em=Vo()({name:"VCardText",props:g1e(),setup(t,r){let{slots:i}=r;return Cs(()=>ae(t.tag,{class:lo(["v-card-text",t.class]),style:Ms([{"--v-card-text-opacity":t.opacity},t.style])},i)),{}}}),h1e=Bn({appendAvatar:String,appendIcon:Vr,disabled:Boolean,flat:Boolean,hover:Boolean,image:String,link:{type:Boolean,default:void 0},prependAvatar:String,prependIcon:Vr,ripple:{type:[Boolean,Object],default:!0},subtitle:{type:[String,Number,Boolean],default:void 0},text:{type:[String,Number,Boolean],default:void 0},title:{type:[String,Number,Boolean],default:void 0},...r1(),...Hs(),...eh(),...bp(),...a1(),...iK(),...s8(),...lK(),...Om(),...a8(),...la(),...yl(),...c1({variant:"elevated"})},"VCard"),Gg=Vo()({name:"VCard",directives:{vRipple:e1},props:h1e(),setup(t,r){let{attrs:i,slots:u}=r;const{themeClasses:g}=ac(t),{borderClasses:h}=i1(t),{colorClasses:x,colorStyles:w,variantClasses:I}=HE(t),{densityClasses:D}=pp(t),{dimensionStyles:O}=vp(t),{elevationClasses:N}=l1(t),{loaderClasses:V}=aK(t),{locationStyles:U}=r8(t),{positionClasses:Z}=cK(t),{roundedClasses:ee}=Rm(t),re=i8(t,i);return Cs(()=>{const H=t.link!==!1&&re.isLink.value,de=!t.disabled&&t.link!==!1&&(t.link||re.isClickable.value),le=H?"a":t.tag,j=!!(u.title||t.title!=null),fe=!!(u.subtitle||t.subtitle!=null),ne=j||fe,Ve=!!(u.append||t.appendAvatar||t.appendIcon),Fe=!!(u.prepend||t.prependAvatar||t.prependIcon),Xe=!!(u.image||t.image),rt=ne||Fe||Ve,xe=!!(u.text||t.text!=null);return Mn(ae(le,Bo({class:["v-card",{"v-card--disabled":t.disabled,"v-card--flat":t.flat,"v-card--hover":t.hover&&!(t.disabled||t.flat),"v-card--link":de},g.value,h.value,x.value,D.value,N.value,V.value,Z.value,ee.value,I.value,t.class],style:[w.value,O.value,U.value,t.style],onClick:de&&re.navigate,tabindex:t.disabled?-1:void 0},re.linkProps),{default:()=>{var _e;return[Xe&&se("div",{key:"image",class:"v-card__image"},[u.image?ae(Aa,{key:"image-defaults",disabled:!t.image,defaults:{VImg:{cover:!0,src:t.image}}},u.image):ae(xI,{key:"image-img",cover:!0,src:t.image},null)]),ae(Iee,{name:"v-card",active:!!t.loading,color:typeof t.loading=="boolean"?void 0:t.loading},{default:u.loader}),rt&&ae(m1e,{key:"item",prependAvatar:t.prependAvatar,prependIcon:t.prependIcon,title:t.title,subtitle:t.subtitle,appendAvatar:t.appendAvatar,appendIcon:t.appendIcon},{default:u.item,prepend:u.prepend,title:u.title,subtitle:u.subtitle,append:u.append}),xe&&ae(Em,{key:"text"},{default:()=>{var R;return[((R=u.text)==null?void 0:R.call(u))??t.text]}}),(_e=u.default)==null?void 0:_e.call(u),u.actions&&ae(km,null,{default:u.actions}),zE(de,"v-card")]}}),[[e1,de&&t.ripple]])}),{}}}),p1e=Bn({disabled:Boolean,group:Boolean,hideOnLeave:Boolean,leaveAbsolute:Boolean,mode:String,origin:String},"transition");function Im(t,r,i){return Vo()({name:t,props:p1e({mode:i,origin:r}),setup(u,g){let{slots:h}=g;const x={onBeforeEnter(w){u.origin&&(w.style.transformOrigin=u.origin)},onLeave(w){if(u.leaveAbsolute){const{offsetTop:I,offsetLeft:D,offsetWidth:O,offsetHeight:N}=w;w._transitionInitialStyles={position:w.style.position,top:w.style.top,left:w.style.left,width:w.style.width,height:w.style.height},w.style.position="absolute",w.style.top=`${I}px`,w.style.left=`${D}px`,w.style.width=`${O}px`,w.style.height=`${N}px`}u.hideOnLeave&&w.style.setProperty("display","none","important")},onAfterLeave(w){if(u.leaveAbsolute&&(w!=null&&w._transitionInitialStyles)){const{position:I,top:D,left:O,width:N,height:V}=w._transitionInitialStyles;delete w._transitionInitialStyles,w.style.position=I||"",w.style.top=D||"",w.style.left=O||"",w.style.width=N||"",w.style.height=V||""}}};return()=>{const w=u.group?$W:xx;return Ub(w,{name:u.disabled?"":t,css:!u.disabled,...u.group?void 0:{mode:u.mode},...u.disabled?{}:x},h.default)}}})}function Hee(t,r){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"in-out";return Vo()({name:t,props:{mode:{type:String,default:i},disabled:Boolean,group:Boolean},setup(u,g){let{slots:h}=g;const x=u.group?$W:xx;return()=>Ub(x,{name:u.disabled?"":t,css:!u.disabled,...u.disabled?{}:r},h.default)}})}function Uee(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";const i=(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1)?"width":"height",u=Md(`offset-${i}`);return{onBeforeEnter(x){x._parent=x.parentNode,x._initialStyle={transition:x.style.transition,overflow:x.style.overflow,[i]:x.style[i]}},onEnter(x){const w=x._initialStyle;if(!w)return;x.style.setProperty("transition","none","important"),x.style.overflow="hidden";const I=`${x[u]}px`;x.style[i]="0",x.offsetHeight,x.style.transition=w.transition,t&&x._parent&&x._parent.classList.add(t),requestAnimationFrame(()=>{x.style[i]=I})},onAfterEnter:h,onEnterCancelled:h,onLeave(x){x._initialStyle={transition:"",overflow:x.style.overflow,[i]:x.style[i]},x.style.overflow="hidden",x.style[i]=`${x[u]}px`,x.offsetHeight,requestAnimationFrame(()=>x.style[i]="0")},onAfterLeave:g,onLeaveCancelled:g};function g(x){t&&x._parent&&x._parent.classList.remove(t),h(x)}function h(x){if(!x._initialStyle)return;const w=x._initialStyle[i];x.style.overflow=x._initialStyle.overflow,w!=null&&(x.style[i]=w),delete x._initialStyle}}const b1e=Bn({target:[Object,Array]},"v-dialog-transition"),dU=new WeakMap,uK=Vo()({name:"VDialogTransition",props:b1e(),setup(t,r){let{slots:i}=r;const u={onBeforeEnter(g){g.style.pointerEvents="none",g.style.visibility="hidden"},async onEnter(g,h){var U;await new Promise(Z=>requestAnimationFrame(Z)),await new Promise(Z=>requestAnimationFrame(Z)),g.style.visibility="";const x=ZY(t.target,g),{x:w,y:I,sx:D,sy:O,speed:N}=x;dU.set(g,x);const V=dE(g,[{transform:`translate(${w}px, ${I}px) scale(${D}, ${O})`,opacity:0},{}],{duration:225*N,easing:Age});(U=jY(g))==null||U.forEach(Z=>{dE(Z,[{opacity:0},{opacity:0,offset:.33},{}],{duration:225*2*N,easing:dF})}),V.finished.then(()=>h())},onAfterEnter(g){g.style.removeProperty("pointer-events")},onBeforeLeave(g){g.style.pointerEvents="none"},async onLeave(g,h){var U;await new Promise(Z=>requestAnimationFrame(Z));let x;!dU.has(g)||Array.isArray(t.target)||t.target.offsetParent||t.target.getClientRects().length?x=ZY(t.target,g):x=dU.get(g);const{x:w,y:I,sx:D,sy:O,speed:N}=x;dE(g,[{},{transform:`translate(${w}px, ${I}px) scale(${D}, ${O})`,opacity:0}],{duration:125*N,easing:Tge}).finished.then(()=>h()),(U=jY(g))==null||U.forEach(Z=>{dE(Z,[{},{opacity:0,offset:.2},{opacity:0}],{duration:125*2*N,easing:dF})})},onAfterLeave(g){g.style.removeProperty("pointer-events")}};return()=>t.target?ae(xx,Bo({name:"dialog-transition"},u,{css:!1}),i):ae(xx,{name:"dialog-transition"},i)}});function jY(t){var i;const r=(i=t.querySelector(":scope > .v-card, :scope > .v-sheet, :scope > .v-list"))==null?void 0:i.children;return r&&[...r]}function ZY(t,r){const i=iQ(t),u=UW(r),[g,h]=getComputedStyle(r).transformOrigin.split(" ").map(H=>parseFloat(H)),[x,w]=getComputedStyle(r).getPropertyValue("--v-overlay-anchor-origin").split(" ");let I=i.left+i.width/2;x==="left"||w==="left"?I-=i.width/2:(x==="right"||w==="right")&&(I+=i.width/2);let D=i.top+i.height/2;x==="top"||w==="top"?D-=i.height/2:(x==="bottom"||w==="bottom")&&(D+=i.height/2);const O=i.width/u.width,N=i.height/u.height,V=Math.max(1,O,N),U=O/V||0,Z=N/V||0,ee=u.width*u.height/(window.innerWidth*window.innerHeight),re=ee>.12?Math.min(1.5,(ee-.12)*10+1):1;return{x:I-(g+u.left),y:D-(h+u.top),sx:U,sy:Z,speed:re}}Im("fab-transition","center center","out-in");Im("dialog-bottom-transition");Im("dialog-top-transition");const GY=Im("fade-transition");Im("scale-transition");Im("scroll-x-transition");Im("scroll-x-reverse-transition");Im("scroll-y-transition");Im("scroll-y-reverse-transition");Im("slide-x-transition");Im("slide-x-reverse-transition");const Wee=Im("slide-y-transition");Im("slide-y-reverse-transition");const Kee=Hee("expand-transition",Uee()),jee=Hee("expand-x-transition",Uee("",!0));function fU(t,r){return{x:t.x+r.x,y:t.y+r.y}}function v1e(t,r){return{x:t.x-r.x,y:t.y-r.y}}function qY(t,r){if(t.side==="top"||t.side==="bottom"){const{side:i,align:u}=t,g=u==="left"?0:u==="center"?r.width/2:u==="right"?r.width:u,h=i==="top"?0:i==="bottom"?r.height:i;return fU({x:g,y:h},r)}else if(t.side==="left"||t.side==="right"){const{side:i,align:u}=t,g=i==="left"?0:i==="right"?r.width:i,h=u==="top"?0:u==="center"?r.height/2:u==="bottom"?r.height:u;return fU({x:g,y:h},r)}return fU({x:r.width/2,y:r.height/2},r)}const Zee={static:w1e,connected:_1e},y1e=Bn({locationStrategy:{type:[String,Function],default:"static",validator:t=>typeof t=="function"||t in Zee},location:{type:String,default:"bottom"},origin:{type:String,default:"auto"},offset:[Number,String,Array]},"VOverlay-location-strategies");function x1e(t,r){const i=Tn({}),u=Tn();Qr&&Xg(()=>!!(r.isActive.value&&t.locationStrategy),w=>{var I,D;Rn(()=>t.locationStrategy,w),ic(()=>{window.removeEventListener("resize",g),visualViewport==null||visualViewport.removeEventListener("resize",h),visualViewport==null||visualViewport.removeEventListener("scroll",x),u.value=void 0}),window.addEventListener("resize",g,{passive:!0}),visualViewport==null||visualViewport.addEventListener("resize",h,{passive:!0}),visualViewport==null||visualViewport.addEventListener("scroll",x,{passive:!0}),typeof t.locationStrategy=="function"?u.value=(I=t.locationStrategy(r,t,i))==null?void 0:I.updateLocation:u.value=(D=Zee[t.locationStrategy](r,t,i))==null?void 0:D.updateLocation});function g(w){var I;(I=u.value)==null||I.call(u,w)}function h(w){var I;(I=u.value)==null||I.call(u,w)}function x(w){var I;(I=u.value)==null||I.call(u,w)}return{contentStyles:i,updateLocation:u}}function w1e(){}function C1e(t,r){const i=UW(t);return r?i.x+=parseFloat(t.style.right||0):i.x-=parseFloat(t.style.left||0),i.y-=parseFloat(t.style.top||0),i}function _1e(t,r,i){(Array.isArray(t.target.value)||Rge(t.target.value))&&Object.assign(i.value,{position:"fixed",top:0,[t.isRtl.value?"right":"left"]:0});const{preferredAnchor:g,preferredOrigin:h}=zW(()=>{const H=UU(r.location,t.isRtl.value),de=r.origin==="overlap"?H:r.origin==="auto"?H9(H):UU(r.origin,t.isRtl.value);return H.side===de.side&&H.align===U9(de).align?{preferredAnchor:Tq(H),preferredOrigin:Tq(de)}:{preferredAnchor:H,preferredOrigin:de}}),[x,w,I,D]=["minWidth","minHeight","maxWidth","maxHeight"].map(H=>Rt(()=>{const de=parseFloat(r[H]);return isNaN(de)?1/0:de})),O=Rt(()=>{if(Array.isArray(r.offset))return r.offset;if(typeof r.offset=="string"){const H=r.offset.split(" ").map(parseFloat);return H.length<2&&H.push(0),H}return typeof r.offset=="number"?[r.offset,0]:[0,0]});let N=!1,V=-1;const U=new nQ(4),Z=new ResizeObserver(()=>{if(!N)return;if(requestAnimationFrame(de=>{de!==V&&U.clear(),requestAnimationFrame(le=>{V=le})}),U.isFull){const de=U.values();if(Jg(de.at(-1),de.at(-3))&&!Jg(de.at(-1),de.at(-2)))return}const H=re();H&&U.push(H.flipped)});Rn([t.target,t.contentEl],(H,de)=>{let[le,j]=H,[fe,ne]=de;fe&&!Array.isArray(fe)&&Z.unobserve(fe),le&&!Array.isArray(le)&&Z.observe(le),ne&&Z.unobserve(ne),j&&Z.observe(j)},{immediate:!0}),ic(()=>{Z.disconnect()});let ee=new Vb({x:0,y:0,width:0,height:0});function re(){if(N=!1,requestAnimationFrame(()=>N=!0),!t.target.value||!t.contentEl.value)return;(Array.isArray(t.target.value)||t.target.value.offsetParent||t.target.value.getClientRects().length)&&(ee=iQ(t.target.value));const H=C1e(t.contentEl.value,t.isRtl.value),de=fF(t.contentEl.value),le=12;de.length||(de.push(document.documentElement),t.contentEl.value.style.top&&t.contentEl.value.style.left||(H.x-=parseFloat(document.documentElement.style.getPropertyValue("--v-body-scroll-x")||0),H.y-=parseFloat(document.documentElement.style.getPropertyValue("--v-body-scroll-y")||0)));const j=de.reduce((R,it)=>{const lt=Qme(it);return R?new Vb({x:Math.max(R.left,lt.left),y:Math.max(R.top,lt.top),width:Math.min(R.right,lt.right)-Math.max(R.left,lt.left),height:Math.min(R.bottom,lt.bottom)-Math.max(R.top,lt.top)}):lt},void 0);j.x+=le,j.y+=le,j.width-=le*2,j.height-=le*2;let fe={anchor:g.value,origin:h.value};function ne(R){const it=new Vb(H),lt=qY(R.anchor,ee),Lt=qY(R.origin,it);let{x:Qt,y:dt}=v1e(lt,Lt);switch(R.anchor.side){case"top":dt-=O.value[0];break;case"bottom":dt+=O.value[0];break;case"left":Qt-=O.value[0];break;case"right":Qt+=O.value[0];break}switch(R.anchor.align){case"top":dt-=O.value[1];break;case"bottom":dt+=O.value[1];break;case"left":Qt-=O.value[1];break;case"right":Qt+=O.value[1];break}return it.x+=Qt,it.y+=dt,it.width=Math.min(it.width,I.value),it.height=Math.min(it.height,D.value),{overflows:Rq(it,j),x:Qt,y:dt}}let Ve=0,Fe=0;const Xe={x:0,y:0},rt={x:!1,y:!1};let xe=-1;for(;!(xe++>10);){const{x:R,y:it,overflows:lt}=ne(fe);Ve+=R,Fe+=it,H.x+=R,H.y+=it;{const Lt=Oq(fe.anchor),Qt=lt.x.before||lt.x.after,dt=lt.y.before||lt.y.after;let Sn=!1;if(["x","y"].forEach(Et=>{if(Et==="x"&&Qt&&!rt.x||Et==="y"&&dt&&!rt.y){const et={anchor:{...fe.anchor},origin:{...fe.origin}},Me=Et==="x"?Lt==="y"?U9:H9:Lt==="y"?H9:U9;et.anchor=Me(et.anchor),et.origin=Me(et.origin);const{overflows:ft}=ne(et);(ft[Et].before<=lt[Et].before&&ft[Et].after<=lt[Et].after||ft[Et].before+ft[Et].after<(lt[Et].before+lt[Et].after)/2)&&(fe=et,Sn=rt[Et]=!0)}}),Sn)continue}lt.x.before&&(Ve+=lt.x.before,H.x+=lt.x.before),lt.x.after&&(Ve-=lt.x.after,H.x-=lt.x.after),lt.y.before&&(Fe+=lt.y.before,H.y+=lt.y.before),lt.y.after&&(Fe-=lt.y.after,H.y-=lt.y.after);{const Lt=Rq(H,j);Xe.x=j.width-Lt.x.before-Lt.x.after,Xe.y=j.height-Lt.y.before-Lt.y.after,Ve+=Lt.x.before,H.x+=Lt.x.before,Fe+=Lt.y.before,H.y+=Lt.y.before}break}const _e=Oq(fe.anchor);return Object.assign(i.value,{"--v-overlay-anchor-origin":`${fe.anchor.side} ${fe.anchor.align}`,transformOrigin:`${fe.origin.side} ${fe.origin.align}`,top:ws(mU(Fe)),left:t.isRtl.value?void 0:ws(mU(Ve)),right:t.isRtl.value?ws(mU(-Ve)):void 0,minWidth:ws(_e==="y"?Math.min(x.value,ee.width):x.value),maxWidth:ws(YY(wf(Xe.x,x.value===1/0?0:x.value,I.value))),maxHeight:ws(YY(wf(Xe.y,w.value===1/0?0:w.value,D.value)))}),{available:Xe,contentBox:H,flipped:rt}}return Rn(()=>[g.value,h.value,r.offset,r.minWidth,r.minHeight,r.maxWidth,r.maxHeight],()=>re()),Qo(()=>{const H=re();if(!H)return;const{available:de,contentBox:le}=H;le.height>de.y&&requestAnimationFrame(()=>{re(),requestAnimationFrame(()=>{re()})})}),{updateLocation:re}}function mU(t){return Math.round(t*devicePixelRatio)/devicePixelRatio}function YY(t){return Math.ceil(t*devicePixelRatio)/devicePixelRatio}let fW=!0;const SF=[];function S1e(t){!fW||SF.length?(SF.push(t),mW()):(fW=!1,t(),mW())}let XY=-1;function mW(){cancelAnimationFrame(XY),XY=requestAnimationFrame(()=>{const t=SF.shift();t&&t(),SF.length?mW():fW=!0})}const q6={none:null,close:A1e,block:T1e,reposition:O1e},k1e=Bn({scrollStrategy:{type:[String,Function],default:"block",validator:t=>typeof t=="function"||t in q6}},"VOverlay-scroll-strategies");function E1e(t,r){if(!Qr)return;let i;Bd(async()=>{i==null||i.stop(),r.isActive.value&&t.scrollStrategy&&(i=vx(),await new Promise(u=>setTimeout(u)),i.active&&i.run(()=>{var u;typeof t.scrollStrategy=="function"?t.scrollStrategy(r,t,i):(u=q6[t.scrollStrategy])==null||u.call(q6,r,t,i)}))}),ic(()=>{i==null||i.stop()})}function A1e(t){function r(i){t.isActive.value=!1}Gee(t.targetEl.value??t.contentEl.value,r)}function T1e(t,r){var x;const i=(x=t.root.value)==null?void 0:x.offsetParent,u=[...new Set([...fF(t.targetEl.value,r.contained?i:void 0),...fF(t.contentEl.value,r.contained?i:void 0)])].filter(w=>!w.classList.contains("v-overlay-scroll-blocked")),g=window.innerWidth-document.documentElement.offsetWidth,h=(w=>jW(w)&&w)(i||document.documentElement);h&&t.root.value.classList.add("v-overlay--scroll-blocked"),u.forEach((w,I)=>{w.style.setProperty("--v-body-scroll-x",ws(-w.scrollLeft)),w.style.setProperty("--v-body-scroll-y",ws(-w.scrollTop)),w!==document.documentElement&&w.style.setProperty("--v-scrollbar-offset",ws(g)),w.classList.add("v-overlay-scroll-blocked")}),ic(()=>{u.forEach((w,I)=>{const D=parseFloat(w.style.getPropertyValue("--v-body-scroll-x")),O=parseFloat(w.style.getPropertyValue("--v-body-scroll-y")),N=w.style.scrollBehavior;w.style.scrollBehavior="auto",w.style.removeProperty("--v-body-scroll-x"),w.style.removeProperty("--v-body-scroll-y"),w.style.removeProperty("--v-scrollbar-offset"),w.classList.remove("v-overlay-scroll-blocked"),w.scrollLeft=-D,w.scrollTop=-O,w.style.scrollBehavior=N}),h&&t.root.value.classList.remove("v-overlay--scroll-blocked")})}function O1e(t,r,i){let u=!1,g=-1,h=-1;function x(w){S1e(()=>{var O,N;const I=performance.now();(N=(O=t.updateLocation).value)==null||N.call(O,w),u=(performance.now()-I)/(1e3/60)>2})}h=(typeof requestIdleCallback>"u"?w=>w():requestIdleCallback)(()=>{i.run(()=>{Gee(t.targetEl.value??t.contentEl.value,w=>{u?(cancelAnimationFrame(g),g=requestAnimationFrame(()=>{g=requestAnimationFrame(()=>{x(w)})})):x(w)})})}),ic(()=>{typeof cancelIdleCallback<"u"&&cancelIdleCallback(h),cancelAnimationFrame(g)})}function Gee(t,r){const i=[document,...fF(t)];i.forEach(u=>{u.addEventListener("scroll",r,{passive:!0})}),ic(()=>{i.forEach(u=>{u.removeEventListener("scroll",r)})})}const gW=Symbol.for("vuetify:v-menu"),qee=Bn({closeDelay:[Number,String],openDelay:[Number,String]},"delay");function Yee(t,r){let i=()=>{};function u(x){i==null||i();const w=Number(x?t.openDelay:t.closeDelay);return new Promise(I=>{i=Gme(w,()=>{r==null||r(x),I(x)})})}function g(){return u(!0)}function h(){return u(!1)}return{clearDelay:i,runOpenDelay:g,runCloseDelay:h}}const R1e=Bn({target:[String,Object],activator:[String,Object],activatorProps:{type:Object,default:()=>({})},openOnClick:{type:Boolean,default:void 0},openOnHover:Boolean,openOnFocus:{type:Boolean,default:void 0},closeOnContentClick:Boolean,...qee()},"VOverlay-activator");function I1e(t,r){let{isActive:i,isTop:u,contentEl:g}=r;const h=Bl("useActivator"),x=Tn();let w=!1,I=!1,D=!0;const O=Rt(()=>t.openOnFocus||t.openOnFocus==null&&t.openOnHover),N=Rt(()=>t.openOnClick||t.openOnClick==null&&!t.openOnHover&&!O.value),{runOpenDelay:V,runCloseDelay:U}=Yee(t,Fe=>{Fe===(t.openOnHover&&w||O.value&&I)&&!(t.openOnHover&&i.value&&!u.value)&&(i.value!==Fe&&(D=!0),i.value=Fe)}),Z=Tn(),ee={onClick:Fe=>{Fe.stopPropagation(),x.value=Fe.currentTarget||Fe.target,i.value||(Z.value=[Fe.clientX,Fe.clientY]),i.value=!i.value},onMouseenter:Fe=>{var Xe;(Xe=Fe.sourceCapabilities)!=null&&Xe.firesTouchEvents||(w=!0,x.value=Fe.currentTarget||Fe.target,V())},onMouseleave:Fe=>{w=!1,U()},onFocus:Fe=>{SE(Fe.target,":focus-visible")!==!1&&(I=!0,Fe.stopPropagation(),x.value=Fe.currentTarget||Fe.target,V())},onBlur:Fe=>{I=!1,Fe.stopPropagation(),U()}},re=Rt(()=>{const Fe={};return N.value&&(Fe.onClick=ee.onClick),t.openOnHover&&(Fe.onMouseenter=ee.onMouseenter,Fe.onMouseleave=ee.onMouseleave),O.value&&(Fe.onFocus=ee.onFocus,Fe.onBlur=ee.onBlur),Fe}),H=Rt(()=>{const Fe={};if(t.openOnHover&&(Fe.onMouseenter=()=>{w=!0,V()},Fe.onMouseleave=()=>{w=!1,U()}),O.value&&(Fe.onFocusin=()=>{I=!0,V()},Fe.onFocusout=()=>{I=!1,U()}),t.closeOnContentClick){const Xe=ji(gW,null);Fe.onClick=()=>{i.value=!1,Xe==null||Xe.closeParents()}}return Fe}),de=Rt(()=>{const Fe={};return t.openOnHover&&(Fe.onMouseenter=()=>{D&&(w=!0,D=!1,V())},Fe.onMouseleave=()=>{w=!1,U()}),Fe});Rn(u,Fe=>{var Xe;Fe&&(t.openOnHover&&!w&&(!O.value||!I)||O.value&&!I&&(!t.openOnHover||!w))&&!((Xe=g.value)!=null&&Xe.contains(document.activeElement))&&(i.value=!1)}),Rn(i,Fe=>{Fe||setTimeout(()=>{Z.value=void 0})},{flush:"post"});const le=zU();Bd(()=>{le.value&&Qo(()=>{x.value=le.el})});const j=zU(),fe=Rt(()=>t.target==="cursor"&&Z.value?Z.value:j.value?j.el:Xee(t.target,h)||x.value),ne=Rt(()=>Array.isArray(fe.value)?void 0:fe.value);let Ve;return Rn(()=>!!t.activator,Fe=>{Fe&&Qr?(Ve=vx(),Ve.run(()=>{D1e(t,h,{activatorEl:x,activatorEvents:re})})):Ve&&Ve.stop()},{flush:"post",immediate:!0}),ic(()=>{Ve==null||Ve.stop()}),{activatorEl:x,activatorRef:le,target:fe,targetEl:ne,targetRef:j,activatorEvents:re,contentEvents:H,scrimEvents:de}}function D1e(t,r,i){let{activatorEl:u,activatorEvents:g}=i;Rn(()=>t.activator,(I,D)=>{if(D&&I!==D){const O=w(D);O&&x(O)}I&&Qo(()=>h())},{immediate:!0}),Rn(()=>t.activatorProps,()=>{h()}),ic(()=>{x()});function h(){let I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:w(),D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:t.activatorProps;I&&ege(I,Bo(g.value,D))}function x(){let I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:w(),D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:t.activatorProps;I&&tge(I,Bo(g.value,D))}function w(){let I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:t.activator;const D=Xee(I,r);return u.value=(D==null?void 0:D.nodeType)===Node.ELEMENT_NODE?D:void 0,u.value}}function Xee(t,r){var u,g;if(!t)return;let i;if(t==="parent"){let h=(g=(u=r==null?void 0:r.proxy)==null?void 0:u.$el)==null?void 0:g.parentNode;for(;h!=null&&h.hasAttribute("data-no-activator");)h=h.parentNode;i=h}else typeof t=="string"?i=document.querySelector(t):"$el"in t?i=t.$el:i=t;return i}function P1e(){if(!Qr)return bo(!1);const{ssr:t}=ZF();if(t){const r=bo(!1);return Ku(()=>{r.value=!0}),r}else return bo(!0)}const N1e=Bn({eager:Boolean},"lazy");function L1e(t,r){const i=bo(!1),u=pn(()=>i.value||t.eager||r.value);Rn(r,()=>i.value=!0);function g(){t.eager||(i.value=!1)}return{isBooted:i,hasContent:u,onAfterLeave:g}}function l8(){const r=Bl("useScopeId").vnode.scopeId;return{scopeId:r?{[r]:""}:void 0}}const JY=Symbol.for("vuetify:stack"),xR=jl([]);function M1e(t,r,i){const u=Bl("useStack"),g=!i,h=ji(JY,void 0),x=jl({activeChildren:new Set});Fd(JY,x);const w=bo(Number(Hb(r)));Xg(t,()=>{var N;const O=(N=xR.at(-1))==null?void 0:N[1];w.value=O?O+10:Number(Hb(r)),g&&xR.push([u.uid,w.value]),h==null||h.activeChildren.add(u.uid),ic(()=>{if(g){const V=ps(xR).findIndex(U=>U[0]===u.uid);xR.splice(V,1)}h==null||h.activeChildren.delete(u.uid)})});const I=bo(!0);g&&Bd(()=>{var N;const O=((N=xR.at(-1))==null?void 0:N[0])===u.uid;setTimeout(()=>I.value=O)});const D=pn(()=>!x.activeChildren.size);return{globalTop:NE(I),localTop:D,stackStyles:pn(()=>({zIndex:w.value}))}}function B1e(t){return{teleportTarget:Rt(()=>{const i=t();if(i===!0||!Qr)return;const u=i===!1?document.body:typeof i=="string"?document.querySelector(i):i;if(u==null)return;let g=[...u.children].find(h=>h.matches(".v-overlay-container"));return g||(g=document.createElement("div"),g.className="v-overlay-container",u.appendChild(g)),g})}}function F1e(){return!0}function Jee(t,r,i){if(!t||Qee(t,i)===!1)return!1;const u=mQ(r);if(typeof ShadowRoot<"u"&&u instanceof ShadowRoot&&u.host===t.target)return!1;const g=(typeof i.value=="object"&&i.value.include||(()=>[]))();return g.push(r),!g.some(h=>h==null?void 0:h.contains(t.target))}function Qee(t,r){return(typeof r.value=="object"&&r.value.closeConditional||F1e)(t)}function $1e(t,r,i){const u=typeof i.value=="function"?i.value:i.value.handler;t.shadowTarget=t.target,r._clickOutside.lastMousedownWasOutside&&Jee(t,r,i)&&setTimeout(()=>{Qee(t,i)&&u&&u(t)},0)}function QY(t,r){const i=mQ(t);r(document),typeof ShadowRoot<"u"&&i instanceof ShadowRoot&&r(i)}const eX={mounted(t,r){const i=g=>$1e(g,t,r),u=g=>{t._clickOutside.lastMousedownWasOutside=Jee(g,t,r)};QY(t,g=>{g.addEventListener("click",i,!0),g.addEventListener("mousedown",u,!0)}),t._clickOutside||(t._clickOutside={lastMousedownWasOutside:!1}),t._clickOutside[r.instance.$.uid]={onClick:i,onMousedown:u}},beforeUnmount(t,r){t._clickOutside&&(QY(t,i=>{var h;if(!i||!((h=t._clickOutside)!=null&&h[r.instance.$.uid]))return;const{onClick:u,onMousedown:g}=t._clickOutside[r.instance.$.uid];i.removeEventListener("click",u,!0),i.removeEventListener("mousedown",g,!0)}),delete t._clickOutside[r.instance.$.uid])}};function V1e(t){const{modelValue:r,color:i,...u}=t;return ae(xx,{name:"fade-transition",appear:!0},{default:()=>[t.modelValue&&se("div",Bo({class:["v-overlay__scrim",t.color.backgroundColorClasses.value],style:t.color.backgroundColorStyles.value},u),null)]})}const dK=Bn({absolute:Boolean,attach:[Boolean,String,Object],closeOnBack:{type:Boolean,default:!0},contained:Boolean,contentClass:null,contentProps:null,disabled:Boolean,opacity:[Number,String],noClickAnimation:Boolean,modelValue:Boolean,persistent:Boolean,scrim:{type:[Boolean,String],default:!0},zIndex:{type:[Number,String],default:2e3},...R1e(),...Hs(),...bp(),...N1e(),...y1e(),...k1e(),...yl(),...UE()},"VOverlay"),kF=Vo()({name:"VOverlay",directives:{vClickOutside:eX},inheritAttrs:!1,props:{_disableGlobalStack:Boolean,...dK()},emits:{"click:outside":t=>!0,"update:modelValue":t=>!0,keydown:t=>!0,afterEnter:()=>!0,afterLeave:()=>!0},setup(t,r){let{slots:i,attrs:u,emit:g}=r;const h=Bl("VOverlay"),x=Tn(),w=Tn(),I=Tn(),D=Ri(t,"modelValue"),O=Rt({get:()=>D.value,set:sn=>{sn&&t.disabled||(D.value=sn)}}),{themeClasses:N}=ac(t),{rtlClasses:V,isRtl:U}=Qg(),{hasContent:Z,onAfterLeave:ee}=L1e(t,O),re=dp(()=>typeof t.scrim=="string"?t.scrim:null),{globalTop:H,localTop:de,stackStyles:le}=M1e(O,()=>t.zIndex,t._disableGlobalStack),{activatorEl:j,activatorRef:fe,target:ne,targetEl:Ve,targetRef:Fe,activatorEvents:Xe,contentEvents:rt,scrimEvents:xe}=I1e(t,{isActive:O,isTop:de,contentEl:I}),{teleportTarget:_e}=B1e(()=>{var fo,Zt,bn;const sn=t.attach||t.contained;if(sn)return sn;const J=((fo=j==null?void 0:j.value)==null?void 0:fo.getRootNode())||((bn=(Zt=h.proxy)==null?void 0:Zt.$el)==null?void 0:bn.getRootNode());return J instanceof ShadowRoot?J:!1}),{dimensionStyles:R}=vp(t),it=P1e(),{scopeId:lt}=l8();Rn(()=>t.disabled,sn=>{sn&&(O.value=!1)});const{contentStyles:Lt,updateLocation:Qt}=x1e(t,{isRtl:U,contentEl:I,target:ne,isActive:O});E1e(t,{root:x,contentEl:I,targetEl:Ve,isActive:O,updateLocation:Qt});function dt(sn){g("click:outside",sn),t.persistent?so():O.value=!1}function Sn(sn){return O.value&&H.value&&(!t.scrim||sn.target===w.value||sn instanceof MouseEvent&&sn.shadowTarget===w.value)}Qr&&Rn(O,sn=>{sn?window.addEventListener("keydown",Et):window.removeEventListener("keydown",Et)},{immediate:!0}),Ac(()=>{Qr&&window.removeEventListener("keydown",Et)});function Et(sn){var J,fo,Zt;sn.key==="Escape"&&H.value&&((J=I.value)!=null&&J.contains(document.activeElement)||g("keydown",sn),t.persistent?so():(O.value=!1,(fo=I.value)!=null&&fo.contains(document.activeElement)&&((Zt=j.value)==null||Zt.focus())))}function et(sn){sn.key==="Escape"&&!H.value||g("keydown",sn)}const Me=Dee();Xg(()=>t.closeOnBack,()=>{J0e(Me,sn=>{H.value&&O.value?(sn(!1),t.persistent?so():O.value=!1):sn()})});const ft=Tn();Rn(()=>O.value&&(t.absolute||t.contained)&&_e.value==null,sn=>{if(sn){const J=gQ(x.value);J&&J!==document.scrollingElement&&(ft.value=J.scrollTop)}});function so(){t.noClickAnimation||I.value&&dE(I.value,[{transformOrigin:"center"},{transform:"scale(1.03)"},{transformOrigin:"center"}],{duration:150,easing:dF})}function Wt(){g("afterEnter")}function In(){ee(),g("afterLeave")}return Cs(()=>{var sn;return se(Yo,null,[(sn=i.activator)==null?void 0:sn.call(i,{isActive:O.value,targetRef:Fe,props:Bo({ref:fe},Xe.value,t.activatorProps)}),it.value&&Z.value&&ae(afe,{disabled:!_e.value,to:_e.value},{default:()=>[se("div",Bo({class:["v-overlay",{"v-overlay--absolute":t.absolute||t.contained,"v-overlay--active":O.value,"v-overlay--contained":t.contained},N.value,V.value,t.class],style:[le.value,{"--v-overlay-opacity":t.opacity,top:ws(ft.value)},t.style],ref:x,onKeydown:et},lt,u),[ae(V1e,Bo({color:re,modelValue:O.value&&!!t.scrim,ref:w},xe.value),null),ae(fx,{appear:!0,persisted:!0,transition:t.transition,target:ne.value,onAfterEnter:Wt,onAfterLeave:In},{default:()=>{var J;return[Mn(se("div",Bo({ref:I,class:["v-overlay__content",t.contentClass],style:[R.value,Lt.value]},rt.value,t.contentProps),[(J=i.default)==null?void 0:J.call(i,{isActive:O})]),[[uo,O.value],[eX,{handler:dt,closeConditional:Sn,include:()=>[j.value]}]])]}})])]})])}),{activatorEl:j,scrimEl:w,target:ne,animateClick:so,contentEl:I,globalTop:H,localTop:de,updateLocation:Qt}}}),gU=Symbol("Forwarded refs");function hU(t,r){let i=t;for(;i;){const u=Reflect.getOwnPropertyDescriptor(i,r);if(u)return u;i=Object.getPrototypeOf(i)}}function Ex(t){for(var r=arguments.length,i=new Array(r>1?r-1:0),u=1;u<r;u++)i[u-1]=arguments[u];return t[gU]=i,new Proxy(t,{get(g,h){if(Reflect.has(g,h))return Reflect.get(g,h);if(!(typeof h=="symbol"||h.startsWith("$")||h.startsWith("__"))){for(const x of i)if(x.value&&Reflect.has(x.value,h)){const w=Reflect.get(x.value,h);return typeof w=="function"?w.bind(x.value):w}}},has(g,h){if(Reflect.has(g,h))return!0;if(typeof h=="symbol"||h.startsWith("$")||h.startsWith("__"))return!1;for(const x of i)if(x.value&&Reflect.has(x.value,h))return!0;return!1},set(g,h,x){if(Reflect.has(g,h))return Reflect.set(g,h,x);if(typeof h=="symbol"||h.startsWith("$")||h.startsWith("__"))return!1;for(const w of i)if(w.value&&Reflect.has(w.value,h))return Reflect.set(w.value,h,x);return!1},getOwnPropertyDescriptor(g,h){var w;const x=Reflect.getOwnPropertyDescriptor(g,h);if(x)return x;if(!(typeof h=="symbol"||h.startsWith("$")||h.startsWith("__"))){for(const I of i){if(!I.value)continue;const D=hU(I.value,h)??("_"in I.value?hU((w=I.value._)==null?void 0:w.setupState,h):void 0);if(D)return D}for(const I of i){const D=I.value&&I.value[gU];if(!D)continue;const O=D.slice();for(;O.length;){const N=O.shift(),V=hU(N.value,h);if(V)return V;const U=N.value&&N.value[gU];U&&O.push(...U)}}}}})}const z1e=Bn({fullscreen:Boolean,retainFocus:{type:Boolean,default:!0},scrollable:Boolean,...dK({origin:"center center",scrollStrategy:"block",transition:{component:uK},zIndex:2400})},"VDialog"),qg=Vo()({name:"VDialog",props:z1e(),emits:{"update:modelValue":t=>!0,afterEnter:()=>!0,afterLeave:()=>!0},setup(t,r){let{emit:i,slots:u}=r;const g=Ri(t,"modelValue"),{scopeId:h}=l8(),x=Tn();function w(O){var U,Z;const N=O.relatedTarget,V=O.target;if(N!==V&&((U=x.value)!=null&&U.contentEl)&&((Z=x.value)!=null&&Z.globalTop)&&![document,x.value.contentEl].includes(V)&&!x.value.contentEl.contains(V)){const ee=HR(x.value.contentEl);if(!ee.length)return;const re=ee[0],H=ee[ee.length-1];N===re?H.focus():re.focus()}}Ac(()=>{document.removeEventListener("focusin",w)}),Qr&&Rn(()=>g.value&&t.retainFocus,O=>{O?document.addEventListener("focusin",w):document.removeEventListener("focusin",w)},{immediate:!0});function I(){var O;i("afterEnter"),(t.scrim||t.retainFocus)&&((O=x.value)!=null&&O.contentEl)&&!x.value.contentEl.contains(document.activeElement)&&x.value.contentEl.focus({preventScroll:!0})}function D(){i("afterLeave")}return Rn(g,async O=>{var N;O||(await Qo(),(N=x.value.activatorEl)==null||N.focus({preventScroll:!0}))}),Cs(()=>{const O=kF.filterProps(t),N=Bo({"aria-haspopup":"dialog"},t.activatorProps),V=Bo({tabindex:-1},t.contentProps);return ae(kF,Bo({ref:x,class:["v-dialog",{"v-dialog--fullscreen":t.fullscreen,"v-dialog--scrollable":t.scrollable},t.class],style:t.style},O,{modelValue:g.value,"onUpdate:modelValue":U=>g.value=U,"aria-modal":"true",activatorProps:N,contentProps:V,height:t.fullscreen?void 0:t.height,width:t.fullscreen?void 0:t.width,maxHeight:t.fullscreen?void 0:t.maxHeight,maxWidth:t.fullscreen?void 0:t.maxWidth,role:"dialog",onAfterEnter:I,onAfterLeave:D},h),{activator:u.activator,default:function(){for(var U=arguments.length,Z=new Array(U),ee=0;ee<U;ee++)Z[ee]=arguments[ee];return ae(Aa,{root:"VDialog"},{default:()=>{var re;return[(re=u.default)==null?void 0:re.call(u,...Z)]}})}})}),Ex({},x)}}),H1e=Bn({fixedHeader:Boolean,fixedFooter:Boolean,height:[Number,String],hover:Boolean,striped:{type:String,default:null,validator:t=>["even","odd"].includes(t)},...Hs(),...eh(),...la(),...yl()},"VTable"),ap=Vo()({name:"VTable",props:H1e(),setup(t,r){let{slots:i,emit:u}=r;const{themeClasses:g}=ac(t),{densityClasses:h}=pp(t);return Cs(()=>ae(t.tag,{class:lo(["v-table",{"v-table--fixed-height":!!t.height,"v-table--fixed-header":t.fixedHeader,"v-table--fixed-footer":t.fixedFooter,"v-table--has-top":!!i.top,"v-table--has-bottom":!!i.bottom,"v-table--hover":t.hover,"v-table--striped-even":t.striped==="even","v-table--striped-odd":t.striped==="odd"},g.value,h.value,t.class]),style:Ms(t.style)},{default:()=>{var x,w,I;return[(x=i.top)==null?void 0:x.call(i),i.default?se("div",{class:"v-table__wrapper",style:{height:ws(t.height)}},[se("table",null,[i.default()])]):(w=i.wrapper)==null?void 0:w.call(i),(I=i.bottom)==null?void 0:I.call(i)]}})),{}}}),U1e={width:"50%"},W1e={width:"50%"},K1e={width:"50%"},j1e={width:"50%"},Z1e={width:"50%"},G1e={width:"50%"},q1e={width:"50%"},Y1e={width:"50%"},X1e={__name:"Help",setup(t){const r=Se.layout();return(i,u)=>(Kt(),no(Yo,null,[ae(Eo,{class:"app-header-item",onClick:u[0]||(u[0]=g=>Q(r).showHelp=!0)},{default:vt(()=>[ae(zn,{left:"",icon:"mdi-keyboard-outline"}),vs(" "+Be(i.$t("helpButton")),1)]),_:1}),ae(qg,{modelValue:Q(r).showHelp,"onUpdate:modelValue":u[2]||(u[2]=g=>Q(r).showHelp=g),"max-width":"1000"},{default:vt(()=>[ae(Gg,null,{default:vt(()=>[ae(Em,null,{default:vt(()=>[se("h1",null,Be(i.$t("helpGeneralNavigation")),1),ae(ap,null,{default:vt(()=>[se("thead",null,[se("tr",null,[se("th",U1e,Be(i.$t("helpAction")),1),se("th",W1e,Be(i.$t("helpShortcut")),1)])]),se("tbody",null,[se("tr",null,[se("td",null,Be(i.$t("helpNextElement")),1),se("td",null,Be(i.$t("helpKeyTab")),1)]),se("tr",null,[se("td",null,Be(i.$t("helpPreviousElement")),1),se("td",null,Be(i.$t("helpKeyShiftTab")),1)]),se("tr",null,[se("td",null,Be(i.$t("helpHeaderButtons")),1),se("td",null,Be(i.$t("helpKeyAlt0")),1)]),se("tr",null,[se("td",null,Be(i.$t("helpNavigationButtons")),1),se("td",null,Be(i.$t("helpKeyAltNum")),1)]),se("tr",null,[se("td",null,Be(i.$t("helpContentLeftColumn")),1),se("td",null,Be(i.$t("helpKeyAlt1")),1)]),se("tr",null,[se("td",null,Be(i.$t("helpContentRightColumn")),1),se("td",null,Be(i.$t("helpKeyAlt2")),1)])])]),_:1}),se("h1",null,Be(i.$t("helpEssay")),1),ae(ap,null,{default:vt(()=>[se("thead",null,[se("tr",null,[se("th",K1e,Be(i.$t("helpAction")),1),se("th",j1e,Be(i.$t("helpShortcut")),1)])]),se("tbody",null,[se("tr",null,[se("td",null,Be(i.$t("helpEssayMoveCursor")),1),se("td",null,Be(i.$t("helpKeysArrows")),1)]),se("tr",null,[se("td",null,Be(i.$t("helpEssaySelectText")),1),se("td",null,Be(i.$t("helpKeysShiftArrows")),1)]),se("tr",null,[se("td",null,Be(i.$t("helpEssayUnselectText")),1),se("td",null,Be(i.$t("helpKeyEsc")),1)]),se("tr",null,[se("td",null,Be(i.$t("helpEssayCreateComment")),1),se("td",null,Be(i.$t("helpKeyReturnWhenSelected")),1)]),se("tr",null,[se("td",null,Be(i.$t("helpEssayJumpToComment")),1),se("td",null,Be(i.$t("helpKeyReturnWhenNotSelected")),1)])])]),_:1}),se("h1",null,Be(i.$t("helpComments")),1),ae(ap,null,{default:vt(()=>[se("thead",null,[se("tr",null,[se("th",Z1e,Be(i.$t("helpAction")),1),se("th",G1e,Be(i.$t("helpShortcut")),1)])]),se("tbody",null,[se("tr",null,[se("td",null,Be(i.$t("helpCommentsSelect")),1),se("td",null,Be(i.$t("helpKeyReturnOnFocusedLabel")),1)]),se("tr",null,[se("td",null,Be(i.$t("helpCommentsJumpToMark")),1),se("td",null,Be(i.$t("helpKeyAltReturn")),1)]),se("tr",null,[se("td",null,Be(i.$t("helpCommentsJumpToCriteria")),1),se("td",null,Be(i.$t("helpKeyReturnOnFocusedPoints")),1)]),se("tr",null,[se("td",null,Be(i.$t("helpCommentsReturnFromCriteria")),1),se("td",null,Be(i.$t("helpKeyEsc")),1)]),se("tr",null,[se("td",null,Be(i.$t("helpCommentsDelete")),1),se("td",null,Be(i.$t("helpKeyAltDel")),1)]),se("tr",null,[se("td",null,Be(i.$t("helpSnippetsOpen")),1),se("td",null,Be(i.$t("helpKeyF1")),1)]),se("tr",null,[se("td",null,Be(i.$t("helpSnippetsApply")),1),se("td",null,Be(i.$t("helpKeyF1InSnippets")),1)])])]),_:1}),se("h1",null,Be(i.$t("helpEditorNavigation")),1),ae(ap,null,{default:vt(()=>[se("thead",null,[se("tr",null,[se("th",q1e,Be(i.$t("helpAction")),1),se("th",Y1e,Be(i.$t("helpShortcut")),1)])]),se("tbody",null,[se("tr",null,[se("td",null,Be(i.$t("helpToolbarFocusIn")),1),se("td",null,Be(i.$t("helpKeyAltF10")),1)]),se("tr",null,[se("td",null,Be(i.$t("helpToolbarFocusOut")),1),se("td",null,Be(i.$t("helpKeyEsc")),1)]),se("tr",null,[se("td",null,Be(i.$t("helpToolbarNavigate")),1),se("td",null,Be(i.$t("helpKeysLeftRight")),1)]),se("tr",null,[se("td",null,Be(i.$t("helpPopupBlockFormatsShow")),1),se("td",null,Be(i.$t("helpKeyReturn")),1)]),se("tr",null,[se("td",null,Be(i.$t("helpPopupBlockFormatsNavigate")),1),se("td",null,Be(i.$t("helpKeysUpDown")),1)]),se("tr",null,[se("td",null,Be(i.$t("helpPopupBlockFormatsSelect")),1),se("td",null,Be(i.$t("helpKeyReturn")),1)]),se("tr",null,[se("td",null,Be(i.$t("helpPopupBlockFormatsClose")),1),se("td",null,Be(i.$t("helpKeyEsc")),1)])])]),_:1}),u[4]||(u[4]=se("h1",null,"Tastenbefehle im Gutachten",-1)),ae(ap,null,{default:vt(()=>[u[3]||(u[3]=se("thead",null,[se("tr",null,[se("th",{width:"50%"},"Aktion"),se("th",{width:"50%"},"Tastenkombination")])],-1)),se("tbody",null,[se("tr",null,[se("td",null,Be(i.$t("helpCommandBold")),1),se("td",null,Be(i.$t("Ctrl + B")),1)]),se("tr",null,[se("td",null,Be(i.$t("helpCommandItalic")),1),se("td",null,Be(i.$t("helpKeyCtrlI")),1)]),se("tr",null,[se("td",null,Be(i.$t("helpCommundUnderline")),1),se("td",null,Be(i.$t("Ctrl + U")),1)]),se("tr",null,[se("td",null,Be(i.$t("helpCommandSelectAll")),1),se("td",null,Be(i.$t("Ctrl + A")),1)]),se("tr",null,[se("td",null,Be(i.$t("helpCommandRedo")),1),se("td",null,Be(i.$t("helpKeyCtrlYOrCtrlShiftZ")),1)]),se("tr",null,[se("td",null,Be(i.$t("Rckgngig machen")),1),se("td",null,Be(i.$t("Ctrl + Z")),1)]),se("tr",null,[se("td",null,Be(i.$t("helpCommandH1")),1),se("td",null,Be(i.$t("helpKeyShiftAlt1")),1)]),se("tr",null,[se("td",null,Be(i.$t("helpCommandH2")),1),se("td",null,Be(i.$t("helpKeyShiftAlt2")),1)]),se("tr",null,[se("td",null,Be(i.$t("helpCommandH3")),1),se("td",null,Be(i.$t("helpKeyShiftAlt3")),1)]),se("tr",null,[se("td",null,Be(i.$t("helpCommandH4")),1),se("td",null,Be(i.$t("helpKeyShiftAlt4")),1)]),se("tr",null,[se("td",null,Be(i.$t("helpCommandH5")),1),se("td",null,Be(i.$t("helpKeyShiftAlt5")),1)]),se("tr",null,[se("td",null,Be(i.$t("helpCommandH6")),1),se("td",null,Be(i.$t("helpKeyShiftAlt6")),1)]),se("tr",null,[se("td",null,Be(i.$t("helpCommandParagraph")),1),se("td",null,Be(i.$t("helpKeyShiftAlt7")),1)]),se("tr",null,[se("td",null,Be(i.$t("helpSnippetsOpen")),1),se("td",null,Be(i.$t("helpKeyF1")),1)]),se("tr",null,[se("td",null,Be(i.$t("helpSnippetsApply")),1),se("td",null,Be(i.$t("helpKeyF1InSnippets")),1)])])]),_:1,__:[3]})]),_:1,__:[4]}),ae(km,null,{default:vt(()=>[ae(Eo,{onClick:u[1]||(u[1]=g=>Q(r).showHelp=!1)},{default:vt(()=>[se("span",null,Be(i.$t("helpCloseHelp")),1)]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}},J1e=aa(X1e,[["__scopeId","data-v-7153d5db"]]),Q1e=Bn({text:String,onClick:Cf(),...Hs(),...yl()},"VLabel"),ete=Vo()({name:"VLabel",props:Q1e(),setup(t,r){let{slots:i}=r;return Cs(()=>{var u;return se("label",{class:lo(["v-label",{"v-label--clickable":!!t.onClick},t.class]),style:Ms(t.style),onClick:t.onClick},[t.text,(u=i.default)==null?void 0:u.call(i)])}),{}}}),tte=Symbol.for("vuetify:selection-control-group"),nte=Bn({color:String,disabled:{type:Boolean,default:null},defaultsTarget:String,error:Boolean,id:String,inline:Boolean,falseIcon:Vr,trueIcon:Vr,ripple:{type:[Boolean,Object],default:!0},multiple:{type:Boolean,default:null},name:String,readonly:{type:Boolean,default:null},modelValue:null,type:String,valueComparator:{type:Function,default:Jg},...Hs(),...eh(),...yl()},"SelectionControlGroup"),eye=Bn({...nte({defaultsTarget:"VSelectionControl"})},"VSelectionControlGroup");Vo()({name:"VSelectionControlGroup",props:eye(),emits:{"update:modelValue":t=>!0},setup(t,r){let{slots:i}=r;const u=Ri(t,"modelValue"),g=o1(),h=pn(()=>t.id||`v-selection-control-group-${g}`),x=pn(()=>t.name||h.value),w=new Set;return Fd(tte,{modelValue:u,forceUpdate:()=>{w.forEach(I=>I())},onForceUpdate:I=>{w.add(I),ic(()=>{w.delete(I)})}}),Sx({[t.defaultsTarget]:{color:pn(()=>t.color),disabled:pn(()=>t.disabled),density:pn(()=>t.density),error:pn(()=>t.error),inline:pn(()=>t.inline),modelValue:u,multiple:pn(()=>!!t.multiple||t.multiple==null&&Array.isArray(u.value)),name:x,falseIcon:pn(()=>t.falseIcon),trueIcon:pn(()=>t.trueIcon),readonly:pn(()=>t.readonly),ripple:pn(()=>t.ripple),type:pn(()=>t.type),valueComparator:pn(()=>t.valueComparator)}}),Cs(()=>{var I;return se("div",{class:lo(["v-selection-control-group",{"v-selection-control-group--inline":t.inline},t.class]),style:Ms(t.style),role:t.type==="radio"?"radiogroup":void 0},[(I=i.default)==null?void 0:I.call(i)])}),{}}});const ote=Bn({label:String,baseColor:String,trueValue:null,falseValue:null,value:null,...Hs(),...nte()},"VSelectionControl");function tye(t){const r=ji(tte,void 0),{densityClasses:i}=pp(t),u=Ri(t,"modelValue"),g=Rt(()=>t.trueValue!==void 0?t.trueValue:t.value!==void 0?t.value:!0),h=Rt(()=>t.falseValue!==void 0?t.falseValue:!1),x=Rt(()=>!!t.multiple||t.multiple==null&&Array.isArray(u.value)),w=Rt({get(){const U=r?r.modelValue.value:u.value;return x.value?Uu(U).some(Z=>t.valueComparator(Z,g.value)):t.valueComparator(U,g.value)},set(U){if(t.readonly)return;const Z=U?g.value:h.value;let ee=Z;x.value&&(ee=U?[...Uu(u.value),Z]:Uu(u.value).filter(re=>!t.valueComparator(re,g.value))),r?r.modelValue.value=ee:u.value=ee}}),{textColorClasses:I,textColorStyles:D}=gp(()=>{if(!(t.error||t.disabled))return w.value?t.color:t.baseColor}),{backgroundColorClasses:O,backgroundColorStyles:N}=dp(()=>w.value&&!t.error&&!t.disabled?t.color:t.baseColor),V=Rt(()=>w.value?t.trueIcon:t.falseIcon);return{group:r,densityClasses:i,trueValue:g,falseValue:h,model:w,textColorClasses:I,textColorStyles:D,backgroundColorClasses:O,backgroundColorStyles:N,icon:V}}const tX=Vo()({name:"VSelectionControl",directives:{vRipple:e1},inheritAttrs:!1,props:ote(),emits:{"update:modelValue":t=>!0},setup(t,r){let{attrs:i,slots:u}=r;const{group:g,densityClasses:h,icon:x,model:w,textColorClasses:I,textColorStyles:D,backgroundColorClasses:O,backgroundColorStyles:N,trueValue:V}=tye(t),U=o1(),Z=bo(!1),ee=bo(!1),re=Tn(),H=pn(()=>t.id||`input-${U}`),de=pn(()=>!t.disabled&&!t.readonly);g==null||g.onForceUpdate(()=>{re.value&&(re.value.checked=w.value)});function le(Ve){de.value&&(Z.value=!0,SE(Ve.target,":focus-visible")!==!1&&(ee.value=!0))}function j(){Z.value=!1,ee.value=!1}function fe(Ve){Ve.stopPropagation()}function ne(Ve){if(!de.value){re.value&&(re.value.checked=w.value);return}t.readonly&&g&&Qo(()=>g.forceUpdate()),w.value=Ve.target.checked}return Cs(()=>{var xe,_e;const Ve=u.label?u.label({label:t.label,props:{for:H.value}}):t.label,[Fe,Xe]=gI(i),rt=se("input",Bo({ref:re,checked:w.value,disabled:!!t.disabled,id:H.value,onBlur:j,onFocus:le,onInput:ne,"aria-disabled":!!t.disabled,"aria-label":t.label,type:t.type,value:V.value,name:t.name,"aria-checked":t.type==="checkbox"?w.value:void 0},Xe),null);return se("div",Bo({class:["v-selection-control",{"v-selection-control--dirty":w.value,"v-selection-control--disabled":t.disabled,"v-selection-control--error":t.error,"v-selection-control--focused":Z.value,"v-selection-control--focus-visible":ee.value,"v-selection-control--inline":t.inline},h.value,t.class]},Fe,{style:t.style}),[se("div",{class:lo(["v-selection-control__wrapper",I.value]),style:Ms(D.value)},[(xe=u.default)==null?void 0:xe.call(u,{backgroundColorClasses:O,backgroundColorStyles:N}),Mn(se("div",{class:lo(["v-selection-control__input"])},[((_e=u.input)==null?void 0:_e.call(u,{model:w,textColorClasses:I,textColorStyles:D,backgroundColorClasses:O,backgroundColorStyles:N,inputNode:rt,icon:x.value,props:{onFocus:le,onBlur:j,id:H.value}}))??se(Yo,null,[x.value&&ae(zn,{key:"icon",icon:x.value},null),rt])]),[[e1,t.ripple&&[!t.disabled&&!t.readonly,null,["center","circle"]]]])]),Ve&&ae(ete,{for:H.value,onClick:fe},{default:()=>[Ve]})])}),{isFocused:Z,input:re}}}),ste=Bn({indeterminate:Boolean,indeterminateIcon:{type:Vr,default:"$checkboxIndeterminate"},...ote({falseIcon:"$checkboxOff",trueIcon:"$checkboxOn"})},"VCheckboxBtn"),EF=Vo()({name:"VCheckboxBtn",props:ste(),emits:{"update:modelValue":t=>!0,"update:indeterminate":t=>!0},setup(t,r){let{slots:i}=r;const u=Ri(t,"indeterminate"),g=Ri(t,"modelValue");function h(I){u.value&&(u.value=!1)}const x=pn(()=>u.value?t.indeterminateIcon:t.falseIcon),w=pn(()=>u.value?t.indeterminateIcon:t.trueIcon);return Cs(()=>{const I=_x(tX.filterProps(t),["modelValue"]);return ae(tX,Bo(I,{modelValue:g.value,"onUpdate:modelValue":[D=>g.value=D,h],class:["v-checkbox-btn",t.class],style:t.style,type:"checkbox",falseIcon:x.value,trueIcon:w.value,"aria-checked":u.value?"mixed":void 0}),i)}),{}}});function rte(t){const{t:r}=BE();function i(u){let{name:g,color:h,...x}=u;const w={prepend:"prependAction",prependInner:"prependAction",append:"appendAction",appendInner:"appendAction",clear:"clear"}[g],I=t[`onClick:${g}`];function D(N){N.key!=="Enter"&&N.key!==" "||(N.preventDefault(),N.stopPropagation(),WF(I,new PointerEvent("click",N)))}const O=I&&w?r(`$vuetify.input.${w}`,t.label??""):void 0;return ae(zn,Bo({icon:t[`${g}Icon`],"aria-label":O,onClick:I,onKeydown:D,color:h},x),null)}return{InputIcon:i}}const nye=Bn({active:Boolean,color:String,messages:{type:[Array,String],default:()=>[]},...Hs(),...UE({transition:{component:Wee,leaveAbsolute:!0,group:!0}})},"VMessages"),oye=Vo()({name:"VMessages",props:nye(),setup(t,r){let{slots:i}=r;const u=Rt(()=>Uu(t.messages)),{textColorClasses:g,textColorStyles:h}=gp(()=>t.color);return Cs(()=>ae(fx,{transition:t.transition,tag:"div",class:lo(["v-messages",g.value,t.class]),style:Ms([h.value,t.style])},{default:()=>[t.active&&u.value.map((x,w)=>se("div",{class:"v-messages__message",key:`${w}-${u.value}`},[i.message?i.message({message:x}):x]))]})),{}}}),ite=Bn({focused:Boolean,"onUpdate:focused":Cf()},"focus");function wI(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:jb();const i=Ri(t,"focused"),u=pn(()=>({[`${r}--focused`]:i.value}));function g(){i.value=!0}function h(){i.value=!1}return{focusClasses:u,isFocused:i,focus:g,blur:h}}const sye=Symbol.for("vuetify:form");function fK(t){const r=ji(sye,null);return{...r,isReadonly:Rt(()=>!!((t==null?void 0:t.readonly)??(r==null?void 0:r.isReadonly.value))),isDisabled:Rt(()=>!!((t==null?void 0:t.disabled)??(r==null?void 0:r.isDisabled.value)))}}const rye=Symbol.for("vuetify:rules");function iye(t){const r=ji(rye,null);return r?r(t):pn(t)}const aye=Bn({disabled:{type:Boolean,default:null},error:Boolean,errorMessages:{type:[Array,String],default:()=>[]},maxErrors:{type:[Number,String],default:1},name:String,label:String,readonly:{type:Boolean,default:null},rules:{type:Array,default:()=>[]},modelValue:null,validateOn:String,validationValue:null,...ite()},"validation");function lye(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:jb(),i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:o1();const u=Ri(t,"modelValue"),g=Rt(()=>t.validationValue===void 0?u.value:t.validationValue),h=fK(t),x=iye(()=>t.rules),w=Tn([]),I=bo(!0),D=Rt(()=>!!(Uu(u.value===""?null:u.value).length||Uu(g.value===""?null:g.value).length)),O=Rt(()=>{var j;return(j=t.errorMessages)!=null&&j.length?Uu(t.errorMessages).concat(w.value).slice(0,Math.max(0,Number(t.maxErrors))):w.value}),N=Rt(()=>{var ne;let j=(t.validateOn??((ne=h.validateOn)==null?void 0:ne.value))||"input";j==="lazy"&&(j="input lazy"),j==="eager"&&(j="input eager");const fe=new Set((j==null?void 0:j.split(" "))??[]);return{input:fe.has("input"),blur:fe.has("blur")||fe.has("input")||fe.has("invalid-input"),invalidInput:fe.has("invalid-input"),lazy:fe.has("lazy"),eager:fe.has("eager")}}),V=Rt(()=>{var j;return t.error||(j=t.errorMessages)!=null&&j.length?!1:t.rules.length?I.value?w.value.length||N.value.lazy?null:!0:!w.value.length:!0}),U=bo(!1),Z=Rt(()=>({[`${r}--error`]:V.value===!1,[`${r}--dirty`]:D.value,[`${r}--disabled`]:h.isDisabled.value,[`${r}--readonly`]:h.isReadonly.value})),ee=Bl("validation"),re=Rt(()=>t.name??Q(i));dI(()=>{var j;(j=h.register)==null||j.call(h,{id:re.value,vm:ee,validate:le,reset:H,resetValidation:de})}),Ac(()=>{var j;(j=h.unregister)==null||j.call(h,re.value)}),Ku(async()=>{var j;N.value.lazy||await le(!N.value.eager),(j=h.update)==null||j.call(h,re.value,V.value,O.value)}),Xg(()=>N.value.input||N.value.invalidInput&&V.value===!1,()=>{Rn(g,()=>{if(g.value!=null)le();else if(t.focused){const j=Rn(()=>t.focused,fe=>{fe||le(),j()})}})}),Xg(()=>N.value.blur,()=>{Rn(()=>t.focused,j=>{j||le()})}),Rn([V,O],()=>{var j;(j=h.update)==null||j.call(h,re.value,V.value,O.value)});async function H(){u.value=null,await Qo(),await de()}async function de(){I.value=!0,N.value.lazy?w.value=[]:await le(!N.value.eager)}async function le(){let j=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;const fe=[];U.value=!0;for(const ne of x.value){if(fe.length>=Number(t.maxErrors??1))break;const Fe=await(typeof ne=="function"?ne:()=>ne)(g.value);if(Fe!==!0){if(Fe!==!1&&typeof Fe!="string"){console.warn(`${Fe} is not a valid value. Rule functions must return boolean true or a string.`);continue}fe.push(Fe||"")}}return w.value=fe,U.value=!1,I.value=j,w.value}return{errorMessages:O,isDirty:D,isDisabled:h.isDisabled,isReadonly:h.isReadonly,isPristine:I,isValid:V,isValidating:U,reset:H,resetValidation:de,validate:le,validationClasses:Z}}const CI=Bn({id:String,appendIcon:Vr,baseColor:String,centerAffix:{type:Boolean,default:!0},color:String,glow:Boolean,iconColor:[Boolean,String],prependIcon:Vr,hideDetails:[Boolean,String],hideSpinButtons:Boolean,hint:String,persistentHint:Boolean,messages:{type:[Array,String],default:()=>[]},direction:{type:String,default:"horizontal",validator:t=>["horizontal","vertical"].includes(t)},"onClick:prepend":Cf(),"onClick:append":Cf(),...Hs(),...eh(),...UF(bp(),["maxWidth","minWidth","width"]),...yl(),...aye()},"VInput"),Cx=Vo()({name:"VInput",props:{...CI()},emits:{"update:modelValue":t=>!0},setup(t,r){let{attrs:i,slots:u,emit:g}=r;const{densityClasses:h}=pp(t),{dimensionStyles:x}=vp(t),{themeClasses:w}=ac(t),{rtlClasses:I}=Qg(),{InputIcon:D}=rte(t),O=o1(),N=Rt(()=>t.id||`input-${O}`),V=Rt(()=>`${N.value}-messages`),{errorMessages:U,isDirty:Z,isDisabled:ee,isReadonly:re,isPristine:H,isValid:de,isValidating:le,reset:j,resetValidation:fe,validate:ne,validationClasses:Ve}=lye(t,"v-input",N),Fe=Rt(()=>({id:N,messagesId:V,isDirty:Z,isDisabled:ee,isReadonly:re,isPristine:H,isValid:de,isValidating:le,reset:j,resetValidation:fe,validate:ne})),Xe=pn(()=>t.error||t.disabled?void 0:t.focused?t.color:t.baseColor),rt=pn(()=>{if(t.iconColor)return t.iconColor===!0?Xe.value:t.iconColor}),xe=Rt(()=>{var _e;return(_e=t.errorMessages)!=null&&_e.length||!H.value&&U.value.length?U.value:t.hint&&(t.persistentHint||t.focused)?t.hint:t.messages});return Cs(()=>{var Lt,Qt,dt,Sn;const _e=!!(u.prepend||t.prependIcon),R=!!(u.append||t.appendIcon),it=xe.value.length>0,lt=!t.hideDetails||t.hideDetails==="auto"&&(it||!!u.details);return se("div",{class:lo(["v-input",`v-input--${t.direction}`,{"v-input--center-affix":t.centerAffix,"v-input--focused":t.focused,"v-input--glow":t.glow,"v-input--hide-spin-buttons":t.hideSpinButtons},h.value,w.value,I.value,Ve.value,t.class]),style:Ms([x.value,t.style])},[_e&&se("div",{key:"prepend",class:"v-input__prepend"},[(Lt=u.prepend)==null?void 0:Lt.call(u,Fe.value),t.prependIcon&&ae(D,{key:"prepend-icon",name:"prepend",color:rt.value},null)]),u.default&&se("div",{class:"v-input__control"},[(Qt=u.default)==null?void 0:Qt.call(u,Fe.value)]),R&&se("div",{key:"append",class:"v-input__append"},[t.appendIcon&&ae(D,{key:"append-icon",name:"append",color:rt.value},null),(dt=u.append)==null?void 0:dt.call(u,Fe.value)]),lt&&se("div",{id:V.value,class:"v-input__details",role:"alert","aria-live":"polite"},[ae(oye,{active:it,messages:xe.value},{message:u.message}),(Sn=u.details)==null?void 0:Sn.call(u,Fe.value)])])}),{reset:j,resetValidation:fe,validate:ne,isValid:de,errorMessages:U}}}),cye=Bn({...CI(),..._x(ste(),["inline"])},"VCheckbox"),uye=Vo()({name:"VCheckbox",inheritAttrs:!1,props:cye(),emits:{"update:modelValue":t=>!0,"update:focused":t=>!0},setup(t,r){let{attrs:i,slots:u}=r;const g=Ri(t,"modelValue"),{isFocused:h,focus:x,blur:w}=wI(t),I=Tn(),D=o1();return Cs(()=>{const[O,N]=gI(i),V=Cx.filterProps(t),U=EF.filterProps(t);return ae(Cx,Bo({ref:I,class:["v-checkbox",t.class]},O,V,{modelValue:g.value,"onUpdate:modelValue":Z=>g.value=Z,id:t.id||`checkbox-${D}`,focused:h.value,style:t.style}),{...u,default:Z=>{let{id:ee,messagesId:re,isDisabled:H,isReadonly:de,isValid:le}=Z;return ae(EF,Bo(U,{id:ee.value,"aria-describedby":re.value,disabled:H.value,readonly:de.value},N,{error:le.value===!1,modelValue:g.value,"onUpdate:modelValue":j=>g.value=j,onFocus:x,onBlur:w}),u)}})}),Ex({},I)}});function dye(t){let{selectedElement:r,containerElement:i,isRtl:u,isHorizontal:g}=t;const h=XR(g,i),x=ate(g,u,i),w=XR(g,r),I=lte(g,r),D=w*.4;return x>I?I-D:x+h<I+w?I-h+w+D:x}function fye(t){let{selectedElement:r,containerElement:i,isHorizontal:u}=t;const g=XR(u,i),h=lte(u,r),x=XR(u,r);return h-g/2+x/2}function nX(t,r){const i=t?"scrollWidth":"scrollHeight";return(r==null?void 0:r[i])||0}function mye(t,r){const i=t?"clientWidth":"clientHeight";return(r==null?void 0:r[i])||0}function ate(t,r,i){if(!i)return 0;const{scrollLeft:u,offsetWidth:g,scrollWidth:h}=i;return t?r?h-g+u:u:i.scrollTop}function XR(t,r){const i=t?"offsetWidth":"offsetHeight";return(r==null?void 0:r[i])||0}function lte(t,r){const i=t?"offsetLeft":"offsetTop";return(r==null?void 0:r[i])||0}const gye=Symbol.for("vuetify:v-slide-group"),cte=Bn({centerActive:Boolean,contentClass:null,direction:{type:String,default:"horizontal"},symbol:{type:null,default:gye},nextIcon:{type:Vr,default:"$next"},prevIcon:{type:Vr,default:"$prev"},showArrows:{type:[Boolean,String],validator:t=>typeof t=="boolean"||["always","desktop","mobile"].includes(t)},...Hs(),...CQ({mobile:null}),...la(),...sK({selectedClass:"v-slide-group-item--active"})},"VSlideGroup"),oX=Vo()({name:"VSlideGroup",props:cte(),emits:{"update:modelValue":t=>!0},setup(t,r){let{slots:i}=r;const{isRtl:u}=Qg(),{displayClasses:g,mobile:h}=ZF(t),x=rK(t,t.symbol),w=bo(!1),I=bo(0),D=bo(0),O=bo(0),N=Rt(()=>t.direction==="horizontal"),{resizeRef:V,contentRect:U}=EE(),{resizeRef:Z,contentRect:ee}=EE(),re=She(),H=Rt(()=>({container:V.el,duration:200,easing:"easeOutQuart"})),de=Rt(()=>x.selected.value.length?x.items.value.findIndex(et=>et.id===x.selected.value[0]):-1),le=Rt(()=>x.selected.value.length?x.items.value.findIndex(et=>et.id===x.selected.value[x.selected.value.length-1]):-1);if(Qr){let et=-1;Rn(()=>[x.selected.value,U.value,ee.value,N.value],()=>{cancelAnimationFrame(et),et=requestAnimationFrame(()=>{if(U.value&&ee.value){const Me=N.value?"width":"height";D.value=U.value[Me],O.value=ee.value[Me],w.value=D.value+1<O.value}if(de.value>=0&&Z.el){const Me=Z.el.children[le.value];fe(Me,t.centerActive)}})})}const j=bo(!1);function fe(et,Me){let ft=0;Me?ft=fye({containerElement:V.el,isHorizontal:N.value,selectedElement:et}):ft=dye({containerElement:V.el,isHorizontal:N.value,isRtl:u.value,selectedElement:et}),ne(ft)}function ne(et){if(!Qr||!V.el)return;const Me=XR(N.value,V.el),ft=ate(N.value,u.value,V.el);if(!(nX(N.value,V.el)<=Me||Math.abs(et-ft)<16)){if(N.value&&u.value&&V.el){const{scrollWidth:Wt,offsetWidth:In}=V.el;et=Wt-In-et}N.value?re.horizontal(et,H.value):re(et,H.value)}}function Ve(et){const{scrollTop:Me,scrollLeft:ft}=et.target;I.value=N.value?ft:Me}function Fe(et){if(j.value=!0,!(!w.value||!Z.el)){for(const Me of et.composedPath())for(const ft of Z.el.children)if(ft===Me){fe(ft);return}}}function Xe(et){j.value=!1}let rt=!1;function xe(et){var Me;!rt&&!j.value&&!(et.relatedTarget&&((Me=Z.el)!=null&&Me.contains(et.relatedTarget)))&&lt(),rt=!1}function _e(){rt=!0}function R(et){if(!Z.el)return;function Me(ft){et.preventDefault(),lt(ft)}N.value?et.key==="ArrowRight"?Me(u.value?"prev":"next"):et.key==="ArrowLeft"&&Me(u.value?"next":"prev"):et.key==="ArrowDown"?Me("next"):et.key==="ArrowUp"&&Me("prev"),et.key==="Home"?Me("first"):et.key==="End"&&Me("last")}function it(et,Me){if(!et)return;let ft=et;do ft=ft==null?void 0:ft[Me==="next"?"nextElementSibling":"previousElementSibling"];while(ft!=null&&ft.hasAttribute("disabled"));return ft}function lt(et){if(!Z.el)return;let Me;if(!et)Me=HR(Z.el)[0];else if(et==="next"){if(Me=it(Z.el.querySelector(":focus"),et),!Me)return lt("first")}else if(et==="prev"){if(Me=it(Z.el.querySelector(":focus"),et),!Me)return lt("last")}else et==="first"?(Me=Z.el.firstElementChild,Me!=null&&Me.hasAttribute("disabled")&&(Me=it(Me,"next"))):et==="last"&&(Me=Z.el.lastElementChild,Me!=null&&Me.hasAttribute("disabled")&&(Me=it(Me,"prev")));Me&&Me.focus({preventScroll:!0})}function Lt(et){const Me=N.value&&u.value?-1:1,ft=(et==="prev"?-Me:Me)*D.value;let so=I.value+ft;if(N.value&&u.value&&V.el){const{scrollWidth:Wt,offsetWidth:In}=V.el;so+=Wt-In}ne(so)}const Qt=Rt(()=>({next:x.next,prev:x.prev,select:x.select,isSelected:x.isSelected})),dt=Rt(()=>{switch(t.showArrows){case"always":return!0;case"desktop":return!h.value;case!0:return w.value||Math.abs(I.value)>0;case"mobile":return h.value||w.value||Math.abs(I.value)>0;default:return!h.value&&(w.value||Math.abs(I.value)>0)}}),Sn=Rt(()=>Math.abs(I.value)>1),Et=Rt(()=>{if(!V.value)return!1;const et=nX(N.value,V.el),Me=mye(N.value,V.el);return et-Me-Math.abs(I.value)>1});return Cs(()=>ae(t.tag,{class:lo(["v-slide-group",{"v-slide-group--vertical":!N.value,"v-slide-group--has-affixes":dt.value,"v-slide-group--is-overflowing":w.value},g.value,t.class]),style:Ms(t.style),tabindex:j.value||x.selected.value.length?-1:0,onFocus:xe},{default:()=>{var et,Me,ft;return[dt.value&&se("div",{key:"prev",class:lo(["v-slide-group__prev",{"v-slide-group__prev--disabled":!Sn.value}]),onMousedown:_e,onClick:()=>Sn.value&&Lt("prev")},[((et=i.prev)==null?void 0:et.call(i,Qt.value))??ae(GY,null,{default:()=>[ae(zn,{icon:u.value?t.nextIcon:t.prevIcon},null)]})]),se("div",{key:"container",ref:V,class:lo(["v-slide-group__container",t.contentClass]),onScroll:Ve},[se("div",{ref:Z,class:"v-slide-group__content",onFocusin:Fe,onFocusout:Xe,onKeydown:R},[(Me=i.default)==null?void 0:Me.call(i,Qt.value)])]),dt.value&&se("div",{key:"next",class:lo(["v-slide-group__next",{"v-slide-group__next--disabled":!Et.value}]),onMousedown:_e,onClick:()=>Et.value&&Lt("next")},[((ft=i.next)==null?void 0:ft.call(i,Qt.value))??ae(GY,null,{default:()=>[ae(zn,{icon:u.value?t.prevIcon:t.nextIcon},null)]})])]}})),{selected:x.selected,scrollTo:Lt,scrollOffset:I,focus:lt,hasPrev:Sn,hasNext:Et}}}),ute=Symbol.for("vuetify:v-chip-group"),hye=Bn({baseColor:String,column:Boolean,filter:Boolean,valueComparator:{type:Function,default:Jg},...cte(),...Hs(),...sK({selectedClass:"v-chip--selected"}),...la(),...yl(),...c1({variant:"tonal"})},"VChipGroup");Vo()({name:"VChipGroup",props:hye(),emits:{"update:modelValue":t=>!0},setup(t,r){let{slots:i}=r;const{themeClasses:u}=ac(t),{isSelected:g,select:h,next:x,prev:w,selected:I}=rK(t,ute);return Sx({VChip:{baseColor:pn(()=>t.baseColor),color:pn(()=>t.color),disabled:pn(()=>t.disabled),filter:pn(()=>t.filter),variant:pn(()=>t.variant)}}),Cs(()=>{const D=oX.filterProps(t);return ae(oX,Bo(D,{class:["v-chip-group",{"v-chip-group--column":t.column},u.value,t.class],style:t.style}),{default:()=>{var O;return[(O=i.default)==null?void 0:O.call(i,{isSelected:g,select:h,next:x,prev:w,selected:I.value})]}})}),{}}});const pye=Bn({activeClass:String,appendAvatar:String,appendIcon:Vr,baseColor:String,closable:Boolean,closeIcon:{type:Vr,default:"$delete"},closeLabel:{type:String,default:"$vuetify.close"},draggable:Boolean,filter:Boolean,filterIcon:{type:Vr,default:"$complete"},label:Boolean,link:{type:Boolean,default:void 0},pill:Boolean,prependAvatar:String,prependIcon:Vr,ripple:{type:[Boolean,Object],default:!0},text:{type:[String,Number,Boolean],default:void 0},modelValue:{type:Boolean,default:!0},onClick:Cf(),onClickOnce:Cf(),...r1(),...Hs(),...eh(),...a1(),...kee(),...Om(),...a8(),...vI(),...la({tag:"span"}),...yl(),...c1({variant:"tonal"})},"VChip"),mK=Vo()({name:"VChip",directives:{vRipple:e1},props:pye(),emits:{"click:close":t=>!0,"update:modelValue":t=>!0,"group:selected":t=>!0,click:t=>!0},setup(t,r){let{attrs:i,emit:u,slots:g}=r;const{t:h}=BE(),{borderClasses:x}=i1(t),{densityClasses:w}=pp(t),{elevationClasses:I}=l1(t),{roundedClasses:D}=Rm(t),{sizeClasses:O}=yI(t),{themeClasses:N}=ac(t),V=Ri(t,"modelValue"),U=Eee(t,ute,!1),Z=i8(t,i),ee=pn(()=>t.link!==!1&&Z.isLink.value),re=Rt(()=>!t.disabled&&t.link!==!1&&(!!U||t.link||Z.isClickable.value)),H=pn(()=>({"aria-label":h(t.closeLabel),disabled:t.disabled,onClick(Ve){Ve.preventDefault(),Ve.stopPropagation(),V.value=!1,u("click:close",Ve)}})),{colorClasses:de,colorStyles:le,variantClasses:j}=HE(()=>({color:!U||U.isSelected.value?t.color??t.baseColor:t.baseColor,variant:t.variant}));function fe(Ve){var Fe;u("click",Ve),re.value&&((Fe=Z.navigate)==null||Fe.call(Z,Ve),U==null||U.toggle())}function ne(Ve){(Ve.key==="Enter"||Ve.key===" ")&&(Ve.preventDefault(),fe(Ve))}return()=>{var it;const Ve=Z.isLink.value?"a":t.tag,Fe=!!(t.appendIcon||t.appendAvatar),Xe=!!(Fe||g.append),rt=!!(g.close||t.closable),xe=!!(g.filter||t.filter)&&U,_e=!!(t.prependIcon||t.prependAvatar),R=!!(_e||g.prepend);return V.value&&Mn(ae(Ve,Bo({class:["v-chip",{"v-chip--disabled":t.disabled,"v-chip--label":t.label,"v-chip--link":re.value,"v-chip--filter":xe,"v-chip--pill":t.pill,[`${t.activeClass}`]:t.activeClass&&((it=Z.isActive)==null?void 0:it.value)},N.value,x.value,de.value,w.value,I.value,D.value,O.value,j.value,U==null?void 0:U.selectedClass.value,t.class],style:[le.value,t.style],disabled:t.disabled||void 0,draggable:t.draggable,tabindex:re.value?0:void 0,onClick:fe,onKeydown:re.value&&!ee.value&&ne},Z.linkProps),{default:()=>{var lt;return[zE(re.value,"v-chip"),xe&&ae(jee,{key:"filter"},{default:()=>[Mn(se("div",{class:"v-chip__filter"},[g.filter?ae(Aa,{key:"filter-defaults",disabled:!t.filterIcon,defaults:{VIcon:{icon:t.filterIcon}}},g.filter):ae(zn,{key:"filter-icon",icon:t.filterIcon},null)]),[[uo,U.isSelected.value]])]}),R&&se("div",{key:"prepend",class:"v-chip__prepend"},[g.prepend?ae(Aa,{key:"prepend-defaults",disabled:!_e,defaults:{VAvatar:{image:t.prependAvatar,start:!0},VIcon:{icon:t.prependIcon,start:!0}}},g.prepend):se(Yo,null,[t.prependIcon&&ae(zn,{key:"prepend-icon",icon:t.prependIcon,start:!0},null),t.prependAvatar&&ae(wx,{key:"prepend-avatar",image:t.prependAvatar,start:!0},null)])]),se("div",{class:"v-chip__content","data-no-activator":""},[((lt=g.default)==null?void 0:lt.call(g,{isSelected:U==null?void 0:U.isSelected.value,selectedClass:U==null?void 0:U.selectedClass.value,select:U==null?void 0:U.select,toggle:U==null?void 0:U.toggle,value:U==null?void 0:U.value.value,disabled:t.disabled}))??Be(t.text)]),Xe&&se("div",{key:"append",class:"v-chip__append"},[g.append?ae(Aa,{key:"append-defaults",disabled:!Fe,defaults:{VAvatar:{end:!0,image:t.appendAvatar},VIcon:{end:!0,icon:t.appendIcon}}},g.append):se(Yo,null,[t.appendIcon&&ae(zn,{key:"append-icon",end:!0,icon:t.appendIcon},null),t.appendAvatar&&ae(wx,{key:"append-avatar",end:!0,image:t.appendAvatar},null)])]),rt&&se("button",Bo({key:"close",class:"v-chip__close",type:"button","data-testid":"close-chip"},H.value),[g.close?ae(Aa,{key:"close-defaults",defaults:{VIcon:{icon:t.closeIcon,size:"x-small"}}},g.close):ae(zn,{key:"close-icon",icon:t.closeIcon,size:"x-small"},null)])]}}),[[e1,re.value&&t.ripple,null]])}}}),bye=Bn({color:String,inset:Boolean,length:[Number,String],opacity:[Number,String],thickness:[Number,String],vertical:Boolean,...Hs(),...yl()},"VDivider"),xE=Vo()({name:"VDivider",props:bye(),setup(t,r){let{attrs:i,slots:u}=r;const{themeClasses:g}=ac(t),{textColorClasses:h,textColorStyles:x}=gp(()=>t.color),w=Rt(()=>{const I={};return t.length&&(I[t.vertical?"height":"width"]=ws(t.length)),t.thickness&&(I[t.vertical?"borderRightWidth":"borderTopWidth"]=ws(t.thickness)),I});return Cs(()=>{const I=se("hr",{class:lo([{"v-divider":!0,"v-divider--inset":t.inset,"v-divider--vertical":t.vertical},g.value,h.value,t.class]),style:Ms([w.value,x.value,{"--v-border-opacity":t.opacity},t.style]),"aria-orientation":!i.role||i.role==="separator"?t.vertical?"vertical":"horizontal":void 0,role:`${i.role||"separator"}`},null);return u.default?se("div",{class:lo(["v-divider__wrapper",{"v-divider__wrapper--vertical":t.vertical,"v-divider__wrapper--inset":t.inset}])},[I,se("div",{class:"v-divider__content"},[u.default()]),I]):I}),{}}}),hW=Symbol.for("vuetify:list");function dte(){let{filterable:t}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{filterable:!1};const r=ji(hW,{filterable:!1,hasPrepend:bo(!1),updateHasPrepend:()=>null}),i={filterable:r.filterable||t,hasPrepend:bo(!1),updateHasPrepend:u=>{u&&(i.hasPrepend.value=u)}};return Fd(hW,i),r}function fte(){return ji(hW,null)}const gK=t=>{const r={activate:i=>{let{id:u,value:g,activated:h}=i;return u=ps(u),t&&!g&&h.size===1&&h.has(u)||(g?h.add(u):h.delete(u)),h},in:(i,u,g)=>{let h=new Set;if(i!=null)for(const x of Uu(i))h=r.activate({id:x,value:!0,activated:new Set(h),children:u,parents:g});return h},out:i=>Array.from(i)};return r},mte=t=>{const r=gK(t);return{activate:u=>{let{activated:g,id:h,...x}=u;h=ps(h);const w=g.has(h)?new Set([h]):new Set;return r.activate({...x,id:h,activated:w})},in:(u,g,h)=>{let x=new Set;if(u!=null){const w=Uu(u);w.length&&(x=r.in(w.slice(0,1),g,h))}return x},out:(u,g,h)=>r.out(u,g,h)}},vye=t=>{const r=gK(t);return{activate:u=>{let{id:g,activated:h,children:x,...w}=u;return g=ps(g),x.has(g)?h:r.activate({id:g,activated:h,children:x,...w})},in:r.in,out:r.out}},yye=t=>{const r=mte(t);return{activate:u=>{let{id:g,activated:h,children:x,...w}=u;return g=ps(g),x.has(g)?h:r.activate({id:g,activated:h,children:x,...w})},in:r.in,out:r.out}},xye={open:t=>{let{id:r,value:i,opened:u,parents:g}=t;if(i){const h=new Set;h.add(r);let x=g.get(r);for(;x!=null;)h.add(x),x=g.get(x);return h}else return u.delete(r),u},select:()=>null},gte={open:t=>{let{id:r,value:i,opened:u,parents:g}=t;if(i){let h=g.get(r);for(u.add(r);h!=null&&h!==r;)u.add(h),h=g.get(h);return u}else u.delete(r);return u},select:()=>null},wye={open:gte.open,select:t=>{let{id:r,value:i,opened:u,parents:g}=t;if(!i)return u;const h=[];let x=g.get(r);for(;x!=null;)h.push(x),x=g.get(x);return new Set(h)}},hK=t=>{const r={select:i=>{let{id:u,value:g,selected:h}=i;if(u=ps(u),t&&!g){const x=Array.from(h.entries()).reduce((w,I)=>{let[D,O]=I;return O==="on"&&w.push(D),w},[]);if(x.length===1&&x[0]===u)return h}return h.set(u,g?"on":"off"),h},in:(i,u,g,h)=>{const x=new Map;for(const w of i||[])r.select({id:w,value:!0,selected:x,children:u,parents:g,disabled:h});return x},out:i=>{const u=[];for(const[g,h]of i.entries())h==="on"&&u.push(g);return u}};return r},hte=t=>{const r=hK(t);return{select:u=>{let{selected:g,id:h,...x}=u;h=ps(h);const w=g.has(h)?new Map([[h,g.get(h)]]):new Map;return r.select({...x,id:h,selected:w})},in:(u,g,h,x)=>u!=null&&u.length?r.in(u.slice(0,1),g,h,x):new Map,out:(u,g,h)=>r.out(u,g,h)}},Cye=t=>{const r=hK(t);return{select:u=>{let{id:g,selected:h,children:x,...w}=u;return g=ps(g),x.has(g)?h:r.select({id:g,selected:h,children:x,...w})},in:r.in,out:r.out}},_ye=t=>{const r=hte(t);return{select:u=>{let{id:g,selected:h,children:x,...w}=u;return g=ps(g),x.has(g)?h:r.select({id:g,selected:h,children:x,...w})},in:r.in,out:r.out}},pte=t=>{const r={select:i=>{let{id:u,value:g,selected:h,children:x,parents:w,disabled:I}=i;u=ps(u);const D=new Map(h),O=[u];for(;O.length;){const V=O.shift();I.has(V)||h.set(ps(V),g?"on":"off"),x.has(V)&&O.push(...x.get(V))}let N=ps(w.get(u));for(;N;){let V=!0,U=!0;for(const Z of x.get(N)){const ee=ps(Z);if(!I.has(ee)&&(h.get(ee)!=="on"&&(V=!1),h.has(ee)&&h.get(ee)!=="off"&&(U=!1),!V&&!U))break}h.set(N,V?"on":U?"off":"indeterminate"),N=ps(w.get(N))}return t&&!g&&Array.from(h.entries()).reduce((U,Z)=>{let[ee,re]=Z;return re==="on"&&U.push(ee),U},[]).length===0?D:h},in:(i,u,g,h)=>{let x=new Map;for(const w of i||[])x=r.select({id:w,value:!0,selected:x,children:u,parents:g,disabled:h});return x},out:(i,u)=>{const g=[];for(const[h,x]of i.entries())x==="on"&&!u.has(h)&&g.push(h);return g}};return r},Sye=t=>{const r=pte(t);return{select:r.select,in:r.in,out:(u,g,h)=>{const x=[];for(const[w,I]of u.entries())if(I==="on"){if(h.has(w)){const D=h.get(w);if(u.get(D)==="on")continue}x.push(w)}return x}}},JR=Symbol.for("vuetify:nested"),bte={id:bo(),root:{register:()=>null,unregister:()=>null,children:Tn(new Map),parents:Tn(new Map),disabled:Tn(new Set),open:()=>null,openOnSelect:()=>null,activate:()=>null,select:()=>null,activatable:Tn(!1),selectable:Tn(!1),opened:Tn(new Set),activated:Tn(new Set),selected:Tn(new Map),selectedValues:Tn([]),getPath:()=>[]}},kye=Bn({activatable:Boolean,selectable:Boolean,activeStrategy:[String,Function,Object],selectStrategy:[String,Function,Object],openStrategy:[String,Object],opened:null,activated:null,selected:null,mandatory:Boolean},"nested"),Eye=t=>{let r=!1;const i=bo(new Map),u=bo(new Map),g=bo(new Set),h=Ri(t,"opened",t.opened,ee=>new Set(Array.isArray(ee)?ee.map(re=>ps(re)):ee),ee=>[...ee.values()]),x=Rt(()=>{if(typeof t.activeStrategy=="object")return t.activeStrategy;if(typeof t.activeStrategy=="function")return t.activeStrategy(t.mandatory);switch(t.activeStrategy){case"leaf":return vye(t.mandatory);case"single-leaf":return yye(t.mandatory);case"independent":return gK(t.mandatory);case"single-independent":default:return mte(t.mandatory)}}),w=Rt(()=>{if(typeof t.selectStrategy=="object")return t.selectStrategy;if(typeof t.selectStrategy=="function")return t.selectStrategy(t.mandatory);switch(t.selectStrategy){case"single-leaf":return _ye(t.mandatory);case"leaf":return Cye(t.mandatory);case"independent":return hK(t.mandatory);case"single-independent":return hte(t.mandatory);case"trunk":return Sye(t.mandatory);case"classic":default:return pte(t.mandatory)}}),I=Rt(()=>{if(typeof t.openStrategy=="object")return t.openStrategy;switch(t.openStrategy){case"list":return wye;case"single":return xye;case"multiple":default:return gte}}),D=Ri(t,"activated",t.activated,ee=>x.value.in(ee,i.value,u.value),ee=>x.value.out(ee,i.value,u.value)),O=Ri(t,"selected",t.selected,ee=>w.value.in(ee,i.value,u.value,g.value),ee=>w.value.out(ee,i.value,u.value));Ac(()=>{r=!0});function N(ee){const re=[];let H=ps(ee);for(;H!=null;)re.unshift(H),H=u.value.get(H);return re}const V=Bl("nested"),U=new Set,Z={id:bo(),root:{opened:h,activatable:pn(()=>t.activatable),selectable:pn(()=>t.selectable),activated:D,selected:O,selectedValues:Rt(()=>{const ee=[];for(const[re,H]of O.value.entries())H==="on"&&ee.push(re);return ee}),register:(ee,re,H,de)=>{if(U.has(ee)){N(ee).map(String).join(" -> "),N(re).concat(ee).map(String).join(" -> ");return}else U.add(ee);re&&ee!==re&&u.value.set(ee,re),H&&g.value.add(ee),de&&i.value.set(ee,[]),re!=null&&i.value.set(re,[...i.value.get(re)||[],ee])},unregister:ee=>{if(r)return;U.delete(ee),i.value.delete(ee),g.value.delete(ee);const re=u.value.get(ee);if(re){const H=i.value.get(re)??[];i.value.set(re,H.filter(de=>de!==ee))}u.value.delete(ee)},open:(ee,re,H)=>{V.emit("click:open",{id:ee,value:re,path:N(ee),event:H});const de=I.value.open({id:ee,value:re,opened:new Set(h.value),children:i.value,parents:u.value,event:H});de&&(h.value=de)},openOnSelect:(ee,re,H)=>{const de=I.value.select({id:ee,value:re,selected:new Map(O.value),opened:new Set(h.value),children:i.value,parents:u.value,event:H});de&&(h.value=de)},select:(ee,re,H)=>{V.emit("click:select",{id:ee,value:re,path:N(ee),event:H});const de=w.value.select({id:ee,value:re,selected:new Map(O.value),children:i.value,parents:u.value,disabled:g.value,event:H});de&&(O.value=de),Z.root.openOnSelect(ee,re,H)},activate:(ee,re,H)=>{if(!t.activatable)return Z.root.select(ee,!0,H);V.emit("click:activate",{id:ee,value:re,path:N(ee),event:H});const de=x.value.activate({id:ee,value:re,activated:new Set(D.value),children:i.value,parents:u.value,event:H});if(de.size!==D.value.size)D.value=de;else{for(const le of de)if(!D.value.has(le)){D.value=de;return}for(const le of D.value)if(!de.has(le)){D.value=de;return}}},children:i,parents:u,disabled:g,getPath:N}};return Fd(JR,Z),Z.root},vte=(t,r,i)=>{const u=ji(JR,bte),g=Symbol("nested item"),h=Rt(()=>ps(Hb(t))??g),x={...u,id:h,open:(w,I)=>u.root.open(h.value,w,I),openOnSelect:(w,I)=>u.root.openOnSelect(h.value,w,I),isOpen:Rt(()=>u.root.opened.value.has(h.value)),parent:Rt(()=>u.root.parents.value.get(h.value)),activate:(w,I)=>u.root.activate(h.value,w,I),isActivated:Rt(()=>u.root.activated.value.has(h.value)),select:(w,I)=>u.root.select(h.value,w,I),isSelected:Rt(()=>u.root.selected.value.get(h.value)==="on"),isIndeterminate:Rt(()=>u.root.selected.value.get(h.value)==="indeterminate"),isLeaf:Rt(()=>!u.root.children.value.get(h.value)),isGroupActivator:u.isGroupActivator};return dI(()=>{u.isGroupActivator||u.root.register(h.value,u.id.value,Hb(r),i)}),Ac(()=>{u.isGroupActivator||u.root.unregister(h.value)}),i&&Fd(JR,x),x},Aye=()=>{const t=ji(JR,bte);Fd(JR,{...t,isGroupActivator:!0})};function c8(){const t=bo(!1);return Ku(()=>{window.requestAnimationFrame(()=>{t.value=!0})}),{ssrBootStyles:pn(()=>t.value?void 0:{transition:"none !important"}),isBooted:NE(t)}}const Tye=ME({name:"VListGroupActivator",setup(t,r){let{slots:i}=r;return Aye(),()=>{var u;return(u=i.default)==null?void 0:u.call(i)}}}),Oye=Bn({activeColor:String,baseColor:String,color:String,collapseIcon:{type:Vr,default:"$collapse"},disabled:Boolean,expandIcon:{type:Vr,default:"$expand"},rawId:[String,Number],prependIcon:Vr,appendIcon:Vr,fluid:Boolean,subgroup:Boolean,title:String,value:null,...Hs(),...la()},"VListGroup"),sX=Vo()({name:"VListGroup",props:Oye(),setup(t,r){let{slots:i}=r;const{isOpen:u,open:g,id:h}=vte(()=>t.value,()=>t.disabled,!0),x=Rt(()=>`v-list-group--id-${String(t.rawId??h.value)}`),w=fte(),{isBooted:I}=c8();function D(U){var Z;["INPUT","TEXTAREA"].includes((Z=U.target)==null?void 0:Z.tagName)||g(!u.value,U)}const O=Rt(()=>({onClick:D,class:"v-list-group__header",id:x.value})),N=Rt(()=>u.value?t.collapseIcon:t.expandIcon),V=Rt(()=>({VListItem:{active:u.value,activeColor:t.activeColor,baseColor:t.baseColor,color:t.color,prependIcon:t.prependIcon||t.subgroup&&N.value,appendIcon:t.appendIcon||!t.subgroup&&N.value,title:t.title,value:t.value}}));return Cs(()=>ae(t.tag,{class:lo(["v-list-group",{"v-list-group--prepend":w==null?void 0:w.hasPrepend.value,"v-list-group--fluid":t.fluid,"v-list-group--subgroup":t.subgroup,"v-list-group--open":u.value},t.class]),style:Ms(t.style)},{default:()=>[i.activator&&ae(Aa,{defaults:V.value},{default:()=>[ae(Tye,null,{default:()=>[i.activator({props:O.value,isOpen:u.value})]})]}),ae(fx,{transition:{component:Kee},disabled:!I.value},{default:()=>{var U;return[Mn(se("div",{class:"v-list-group__items",role:"group","aria-labelledby":x.value},[(U=i.default)==null?void 0:U.call(i)]),[[uo,u.value]])]}})]})),{isOpen:u}}}),Rye=Bn({opacity:[Number,String],...Hs(),...la()},"VListItemSubtitle"),Iye=Vo()({name:"VListItemSubtitle",props:Rye(),setup(t,r){let{slots:i}=r;return Cs(()=>ae(t.tag,{class:lo(["v-list-item-subtitle",t.class]),style:Ms([{"--v-list-item-subtitle-opacity":t.opacity},t.style])},i)),{}}}),Dye=KF("v-list-item-title"),Pye=Bn({active:{type:Boolean,default:void 0},activeClass:String,activeColor:String,appendAvatar:String,appendIcon:Vr,baseColor:String,disabled:Boolean,lines:[Boolean,String],link:{type:Boolean,default:void 0},nav:Boolean,prependAvatar:String,prependIcon:Vr,ripple:{type:[Boolean,Object],default:!0},slim:Boolean,subtitle:{type:[String,Number,Boolean],default:void 0},title:{type:[String,Number,Boolean],default:void 0},value:null,onClick:Cf(),onClickOnce:Cf(),...r1(),...Hs(),...eh(),...bp(),...a1(),...Om(),...a8(),...la(),...yl(),...c1({variant:"text"})},"VListItem"),eu=Vo()({name:"VListItem",directives:{vRipple:e1},props:Pye(),emits:{click:t=>!0},setup(t,r){let{attrs:i,slots:u,emit:g}=r;const h=i8(t,i),x=Rt(()=>t.value===void 0?h.href.value:t.value),{activate:w,isActivated:I,select:D,isOpen:O,isSelected:N,isIndeterminate:V,isGroupActivator:U,root:Z,parent:ee,openOnSelect:re,id:H}=vte(x,()=>t.disabled,!1),de=fte(),le=Rt(()=>{var Wt;return t.active!==!1&&(t.active||((Wt=h.isActive)==null?void 0:Wt.value)||(Z.activatable.value?I.value:N.value))}),j=pn(()=>t.link!==!1&&h.isLink.value),fe=Rt(()=>!!de&&(Z.selectable.value||Z.activatable.value||t.value!=null)),ne=Rt(()=>!t.disabled&&t.link!==!1&&(t.link||h.isClickable.value||fe.value)),Ve=pn(()=>t.rounded||t.nav),Fe=pn(()=>t.color??t.activeColor),Xe=pn(()=>({color:le.value?Fe.value??t.baseColor:t.baseColor,variant:t.variant}));Rn(()=>{var Wt;return(Wt=h.isActive)==null?void 0:Wt.value},Wt=>{Wt&&rt()}),dI(()=>{var Wt;(Wt=h.isActive)!=null&&Wt.value&&rt()});function rt(){ee.value!=null&&Z.open(ee.value,!0),re(!0)}const{themeClasses:xe}=ac(t),{borderClasses:_e}=i1(t),{colorClasses:R,colorStyles:it,variantClasses:lt}=HE(Xe),{densityClasses:Lt}=pp(t),{dimensionStyles:Qt}=vp(t),{elevationClasses:dt}=l1(t),{roundedClasses:Sn}=Rm(Ve),Et=pn(()=>t.lines?`v-list-item--${t.lines}-line`:void 0),et=pn(()=>t.ripple!==void 0&&t.ripple&&(de!=null&&de.filterable)?{keys:[VU.enter]}:t.ripple),Me=Rt(()=>({isActive:le.value,select:D,isOpen:O.value,isSelected:N.value,isIndeterminate:V.value}));function ft(Wt){var In,sn;g("click",Wt),!["INPUT","TEXTAREA"].includes((In=Wt.target)==null?void 0:In.tagName)&&ne.value&&((sn=h.navigate)==null||sn.call(h,Wt),!U&&(Z.activatable.value?w(!I.value,Wt):(Z.selectable.value||t.value!=null)&&D(!N.value,Wt)))}function so(Wt){const In=Wt.target;["INPUT","TEXTAREA"].includes(In.tagName)||(Wt.key==="Enter"||Wt.key===" "&&!(de!=null&&de.filterable))&&(Wt.preventDefault(),Wt.stopPropagation(),Wt.target.dispatchEvent(new MouseEvent("click",Wt)))}return Cs(()=>{const Wt=j.value?"a":t.tag,In=u.title||t.title!=null,sn=u.subtitle||t.subtitle!=null,J=!!(t.appendAvatar||t.appendIcon),fo=!!(J||u.append),Zt=!!(t.prependAvatar||t.prependIcon),bn=!!(Zt||u.prepend);return de==null||de.updateHasPrepend(bn),t.activeColor&&aQ("active-color",["color","base-color"]),Mn(ae(Wt,Bo({class:["v-list-item",{"v-list-item--active":le.value,"v-list-item--disabled":t.disabled,"v-list-item--link":ne.value,"v-list-item--nav":t.nav,"v-list-item--prepend":!bn&&(de==null?void 0:de.hasPrepend.value),"v-list-item--slim":t.slim,[`${t.activeClass}`]:t.activeClass&&le.value},xe.value,_e.value,R.value,Lt.value,dt.value,Et.value,Sn.value,lt.value,t.class],style:[it.value,Qt.value,t.style],tabindex:ne.value?de?-2:0:void 0,"aria-selected":fe.value?Z.activatable.value?I.value:Z.selectable.value?N.value:le.value:void 0,onClick:ft,onKeydown:ne.value&&!j.value&&so},h.linkProps),{default:()=>{var Ke;return[zE(ne.value||le.value,"v-list-item"),bn&&se("div",{key:"prepend",class:"v-list-item__prepend"},[u.prepend?ae(Aa,{key:"prepend-defaults",disabled:!Zt,defaults:{VAvatar:{density:t.density,image:t.prependAvatar},VIcon:{density:t.density,icon:t.prependIcon},VListItemAction:{start:!0}}},{default:()=>{var tt;return[(tt=u.prepend)==null?void 0:tt.call(u,Me.value)]}}):se(Yo,null,[t.prependAvatar&&ae(wx,{key:"prepend-avatar",density:t.density,image:t.prependAvatar},null),t.prependIcon&&ae(zn,{key:"prepend-icon",density:t.density,icon:t.prependIcon},null)]),se("div",{class:"v-list-item__spacer"},null)]),se("div",{class:"v-list-item__content","data-no-activator":""},[In&&ae(Dye,{key:"title"},{default:()=>{var tt;return[((tt=u.title)==null?void 0:tt.call(u,{title:t.title}))??Be(t.title)]}}),sn&&ae(Iye,{key:"subtitle"},{default:()=>{var tt;return[((tt=u.subtitle)==null?void 0:tt.call(u,{subtitle:t.subtitle}))??Be(t.subtitle)]}}),(Ke=u.default)==null?void 0:Ke.call(u,Me.value)]),fo&&se("div",{key:"append",class:"v-list-item__append"},[u.append?ae(Aa,{key:"append-defaults",disabled:!J,defaults:{VAvatar:{density:t.density,image:t.appendAvatar},VIcon:{density:t.density,icon:t.appendIcon},VListItemAction:{end:!0}}},{default:()=>{var tt;return[(tt=u.append)==null?void 0:tt.call(u,Me.value)]}}):se(Yo,null,[t.appendIcon&&ae(zn,{key:"append-icon",density:t.density,icon:t.appendIcon},null),t.appendAvatar&&ae(wx,{key:"append-avatar",density:t.density,image:t.appendAvatar},null)]),se("div",{class:"v-list-item__spacer"},null)])]}}),[[e1,ne.value&&et.value]])}),{activate:w,isActivated:I,isGroupActivator:U,isSelected:N,list:de,select:D,root:Z,id:H,link:h}}}),Nye=Bn({color:String,inset:Boolean,sticky:Boolean,title:String,...Hs(),...la()},"VListSubheader"),pK=Vo()({name:"VListSubheader",props:Nye(),setup(t,r){let{slots:i}=r;const{textColorClasses:u,textColorStyles:g}=gp(()=>t.color);return Cs(()=>{const h=!!(i.default||t.title);return ae(t.tag,{class:lo(["v-list-subheader",{"v-list-subheader--inset":t.inset,"v-list-subheader--sticky":t.sticky},u.value,t.class]),style:Ms([{textColorStyles:g},t.style])},{default:()=>{var x;return[h&&se("div",{class:"v-list-subheader__text"},[((x=i.default)==null?void 0:x.call(i))??t.title])]}})}),{}}}),Lye=Bn({items:Array,returnObject:Boolean},"VListChildren"),yte=Vo()({name:"VListChildren",props:Lye(),setup(t,r){let{slots:i}=r;return dte(),()=>{var u,g;return((u=i.default)==null?void 0:u.call(i))??((g=t.items)==null?void 0:g.map(h=>{var V,U;let{children:x,props:w,type:I,raw:D}=h;if(I==="divider")return((V=i.divider)==null?void 0:V.call(i,{props:w}))??ae(xE,w,null);if(I==="subheader")return((U=i.subheader)==null?void 0:U.call(i,{props:w}))??ae(pK,w,null);const O={subtitle:i.subtitle?Z=>{var ee;return(ee=i.subtitle)==null?void 0:ee.call(i,{...Z,item:D})}:void 0,prepend:i.prepend?Z=>{var ee;return(ee=i.prepend)==null?void 0:ee.call(i,{...Z,item:D})}:void 0,append:i.append?Z=>{var ee;return(ee=i.append)==null?void 0:ee.call(i,{...Z,item:D})}:void 0,title:i.title?Z=>{var ee;return(ee=i.title)==null?void 0:ee.call(i,{...Z,item:D})}:void 0},N=sX.filterProps(w);return x?ae(sX,Bo(N,{value:t.returnObject?D:w==null?void 0:w.value,rawId:w==null?void 0:w.value}),{activator:Z=>{let{props:ee}=Z;const re={...w,...ee,value:t.returnObject?D:w.value};return i.header?i.header({props:re}):ae(eu,re,O)},default:()=>ae(yte,{items:x,returnObject:t.returnObject},i)}):i.item?i.item({props:w}):ae(eu,Bo(w,{value:t.returnObject?D:w.value}),O)}))}}}),xte=Bn({items:{type:Array,default:()=>[]},itemTitle:{type:[String,Array,Function],default:"title"},itemValue:{type:[String,Array,Function],default:"value"},itemChildren:{type:[Boolean,String,Array,Function],default:"children"},itemProps:{type:[Boolean,String,Array,Function],default:"props"},itemType:{type:[Boolean,String,Array,Function],default:"type"},returnObject:Boolean,valueComparator:Function},"list-items");function pW(t,r){const i=jg(r,t.itemTitle,r),u=jg(r,t.itemValue,i),g=jg(r,t.itemChildren),h=jg(r,t.itemType,"item"),x=t.itemProps===!0?typeof r=="object"&&r!=null&&!Array.isArray(r)?"children"in r?_x(r,["children"]):r:void 0:jg(r,t.itemProps),w={title:i,value:u,...x};return{type:h,title:String(w.title??""),value:w.value,props:w,children:h==="item"&&Array.isArray(g)?wte(t,g):void 0,raw:r}}function wte(t,r){const i=UF(t,["itemTitle","itemValue","itemChildren","itemProps","itemType","returnObject","valueComparator"]),u=[];for(const g of r)u.push(pW(i,g));return u}function Cte(t){const r=Rt(()=>wte(t,t.items)),i=Rt(()=>r.value.some(w=>w.value===null)),u=bo(new Map),g=bo([]);Bd(()=>{const w=r.value,I=new Map,D=[];for(let O=0;O<w.length;O++){const N=w[O];if(HU(N.value)||N.value===null){let V=I.get(N.value);V||(V=[],I.set(N.value,V)),V.push(N)}else D.push(N)}u.value=I,g.value=D});function h(w){const I=u.value,D=r.value,O=g.value,N=i.value,V=t.returnObject,U=!!t.valueComparator,Z=t.valueComparator||Jg,ee=UF(t,["itemTitle","itemValue","itemChildren","itemProps","itemType","returnObject","valueComparator"]),re=[];e:for(const H of w){if(!N&&H===null)continue;if(V&&typeof H=="string"){re.push(pW(ee,H));continue}const de=I.get(H);if(U||!de){for(const le of U?D:O)if(Z(H,le.value)){re.push(le);continue e}re.push(pW(ee,H));continue}re.push(...de)}return re}function x(w){return t.returnObject?w.map(I=>{let{raw:D}=I;return D}):w.map(I=>{let{value:D}=I;return D})}return{items:r,transformIn:h,transformOut:x}}function Mye(t,r){const i=jg(r,t.itemType,"item"),u=HU(r)?r:jg(r,t.itemTitle),g=HU(r)?r:jg(r,t.itemValue,void 0),h=jg(r,t.itemChildren),x=t.itemProps===!0?_x(r,["children"]):jg(r,t.itemProps),w={title:u,value:g,...x};return{type:i,title:w.title,value:w.value,props:w,children:i==="item"&&h?_te(t,h):void 0,raw:r}}function _te(t,r){const i=[];for(const u of r)i.push(Mye(t,u));return i}function Bye(t){return{items:Rt(()=>_te(t,t.items))}}const Fye=Bn({baseColor:String,activeColor:String,activeClass:String,bgColor:String,disabled:Boolean,filterable:Boolean,expandIcon:Vr,collapseIcon:Vr,lines:{type:[Boolean,String],default:"one"},slim:Boolean,nav:Boolean,"onClick:open":Cf(),"onClick:select":Cf(),"onUpdate:opened":Cf(),...kye({selectStrategy:"single-leaf",openStrategy:"list"}),...r1(),...Hs(),...eh(),...bp(),...a1(),...xte(),...Om(),...la(),...yl(),...c1({variant:"text"})},"VList"),_I=Vo()({name:"VList",props:Fye(),emits:{"update:selected":t=>!0,"update:activated":t=>!0,"update:opened":t=>!0,"click:open":t=>!0,"click:activate":t=>!0,"click:select":t=>!0},setup(t,r){let{slots:i}=r;const{items:u}=Bye(t),{themeClasses:g}=ac(t),{backgroundColorClasses:h,backgroundColorStyles:x}=dp(()=>t.bgColor),{borderClasses:w}=i1(t),{densityClasses:I}=pp(t),{dimensionStyles:D}=vp(t),{elevationClasses:O}=l1(t),{roundedClasses:N}=Rm(t),{children:V,open:U,parents:Z,select:ee,getPath:re}=Eye(t),H=pn(()=>t.lines?`v-list--${t.lines}-line`:void 0),de=pn(()=>t.activeColor),le=pn(()=>t.baseColor),j=pn(()=>t.color);dte({filterable:t.filterable}),Sx({VListGroup:{activeColor:de,baseColor:le,color:j,expandIcon:pn(()=>t.expandIcon),collapseIcon:pn(()=>t.collapseIcon)},VListItem:{activeClass:pn(()=>t.activeClass),activeColor:de,baseColor:le,color:j,density:pn(()=>t.density),disabled:pn(()=>t.disabled),lines:pn(()=>t.lines),nav:pn(()=>t.nav),slim:pn(()=>t.slim),variant:pn(()=>t.variant)}});const fe=bo(!1),ne=Tn();function Ve(R){fe.value=!0}function Fe(R){fe.value=!1}function Xe(R){var it;!fe.value&&!(R.relatedTarget&&((it=ne.value)!=null&&it.contains(R.relatedTarget)))&&_e()}function rt(R){const it=R.target;if(!(!ne.value||["INPUT","TEXTAREA"].includes(it.tagName))){if(R.key==="ArrowDown")_e("next");else if(R.key==="ArrowUp")_e("prev");else if(R.key==="Home")_e("first");else if(R.key==="End")_e("last");else return;R.preventDefault()}}function xe(R){fe.value=!0}function _e(R){if(ne.value)return RR(ne.value,R)}return Cs(()=>ae(t.tag,{ref:ne,class:lo(["v-list",{"v-list--disabled":t.disabled,"v-list--nav":t.nav,"v-list--slim":t.slim},g.value,h.value,w.value,I.value,O.value,H.value,N.value,t.class]),style:Ms([x.value,D.value,t.style]),tabindex:t.disabled?-1:0,role:"listbox","aria-activedescendant":void 0,onFocusin:Ve,onFocusout:Fe,onFocus:Xe,onKeydown:rt,onMousedown:xe},{default:()=>[ae(yte,{items:u.value,returnObject:t.returnObject},i)]})),{open:U,select:ee,focus:_e,children:V,parents:Z,getPath:re}}}),$ye=Bn({id:String,submenu:Boolean,disableInitialFocus:Boolean,..._x(dK({closeDelay:250,closeOnContentClick:!0,locationStrategy:"connected",location:void 0,openDelay:300,scrim:!1,scrollStrategy:"reposition",transition:{component:uK}}),["absolute"])},"VMenu"),SI=Vo()({name:"VMenu",props:$ye(),emits:{"update:modelValue":t=>!0},setup(t,r){let{slots:i}=r;const u=Ri(t,"modelValue"),{scopeId:g}=l8(),{isRtl:h}=Qg(),x=o1(),w=pn(()=>t.id||`v-menu-${x}`),I=Tn(),D=ji(gW,null),O=bo(new Set);Fd(gW,{register(){O.value.add(x)},unregister(){O.value.delete(x)},closeParents(re){setTimeout(()=>{var H;!O.value.size&&!t.persistent&&(re==null||(H=I.value)!=null&&H.contentEl&&!qme(re,I.value.contentEl))&&(u.value=!1,D==null||D.closeParents())},40)}}),Ac(()=>{D==null||D.unregister(),document.removeEventListener("focusin",N)}),$F(()=>u.value=!1);async function N(re){var le,j,fe;const H=re.relatedTarget,de=re.target;await Qo(),u.value&&H!==de&&((le=I.value)!=null&&le.contentEl)&&((j=I.value)!=null&&j.globalTop)&&![document,I.value.contentEl].includes(de)&&!I.value.contentEl.contains(de)&&((fe=HR(I.value.contentEl)[0])==null||fe.focus())}Rn(u,re=>{re?(D==null||D.register(),Qr&&!t.disableInitialFocus&&document.addEventListener("focusin",N,{once:!0})):(D==null||D.unregister(),Qr&&document.removeEventListener("focusin",N))},{immediate:!0});function V(re){D==null||D.closeParents(re)}function U(re){var H,de,le,j,fe;if(!t.disabled)if(re.key==="Tab"||re.key==="Enter"&&!t.closeOnContentClick){if(re.key==="Enter"&&(re.target instanceof HTMLTextAreaElement||re.target instanceof HTMLInputElement&&re.target.closest("form")))return;re.key==="Enter"&&re.preventDefault(),sQ(HR((H=I.value)==null?void 0:H.contentEl,!1),re.shiftKey?"prev":"next",Ve=>Ve.tabIndex>=0)||(u.value=!1,(le=(de=I.value)==null?void 0:de.activatorEl)==null||le.focus())}else t.submenu&&re.key===(h.value?"ArrowRight":"ArrowLeft")&&(u.value=!1,(fe=(j=I.value)==null?void 0:j.activatorEl)==null||fe.focus())}function Z(re){var de;if(t.disabled)return;const H=(de=I.value)==null?void 0:de.contentEl;H&&u.value?re.key==="ArrowDown"?(re.preventDefault(),re.stopImmediatePropagation(),RR(H,"next")):re.key==="ArrowUp"?(re.preventDefault(),re.stopImmediatePropagation(),RR(H,"prev")):t.submenu&&(re.key===(h.value?"ArrowRight":"ArrowLeft")?u.value=!1:re.key===(h.value?"ArrowLeft":"ArrowRight")&&(re.preventDefault(),RR(H,"first"))):(t.submenu?re.key===(h.value?"ArrowLeft":"ArrowRight"):["ArrowDown","ArrowUp"].includes(re.key))&&(u.value=!0,re.preventDefault(),setTimeout(()=>setTimeout(()=>Z(re))))}const ee=Rt(()=>Bo({"aria-haspopup":"menu","aria-expanded":String(u.value),"aria-controls":w.value,onKeydown:Z},t.activatorProps));return Cs(()=>{const re=kF.filterProps(t);return ae(kF,Bo({ref:I,id:w.value,class:["v-menu",t.class],style:t.style},re,{modelValue:u.value,"onUpdate:modelValue":H=>u.value=H,absolute:!0,activatorProps:ee.value,location:t.location??(t.submenu?"end":"bottom"),"onClick:outside":V,onKeydown:U},g),{activator:i.activator,default:function(){for(var H=arguments.length,de=new Array(H),le=0;le<H;le++)de[le]=arguments[le];return ae(Aa,{root:"VMenu"},{default:()=>{var j;return[(j=i.default)==null?void 0:j.call(i,...de)]}})}})}),Ex({id:w,openChildren:O},I)}}),Vye=Bn({active:Boolean,disabled:Boolean,max:[Number,String],value:{type:[Number,String],default:0},...Hs(),...UE({transition:{component:Wee}})},"VCounter"),bK=Vo()({name:"VCounter",functional:!0,props:Vye(),setup(t,r){let{slots:i}=r;const u=pn(()=>t.max?`${t.value} / ${t.max}`:String(t.value));return Cs(()=>ae(fx,{transition:t.transition},{default:()=>[Mn(se("div",{class:lo(["v-counter",{"text-error":t.max&&!t.disabled&&parseFloat(t.value)>parseFloat(t.max)},t.class]),style:Ms(t.style)},[i.default?i.default({counter:u.value,max:t.max,value:t.value}):u.value]),[[uo,t.active]])]})),{}}}),zye=Bn({floating:Boolean,...Hs()},"VFieldLabel"),M6=Vo()({name:"VFieldLabel",props:zye(),setup(t,r){let{slots:i}=r;return Cs(()=>ae(ete,{class:lo(["v-field-label",{"v-field-label--floating":t.floating},t.class]),style:Ms(t.style),"aria-hidden":t.floating||void 0},i)),{}}}),Hye=["underlined","outlined","filled","solo","solo-inverted","solo-filled","plain"],u8=Bn({appendInnerIcon:Vr,bgColor:String,clearable:Boolean,clearIcon:{type:Vr,default:"$clear"},active:Boolean,centerAffix:{type:Boolean,default:void 0},color:String,baseColor:String,dirty:Boolean,disabled:{type:Boolean,default:null},glow:Boolean,error:Boolean,flat:Boolean,iconColor:[Boolean,String],label:String,persistentClear:Boolean,prependInnerIcon:Vr,reverse:Boolean,singleLine:Boolean,variant:{type:String,default:"filled",validator:t=>Hye.includes(t)},"onClick:clear":Cf(),"onClick:appendInner":Cf(),"onClick:prependInner":Cf(),...Hs(),...iK(),...Om(),...yl()},"VField"),RE=Vo()({name:"VField",inheritAttrs:!1,props:{id:String,...ite(),...u8()},emits:{"update:focused":t=>!0,"update:modelValue":t=>!0},setup(t,r){let{attrs:i,emit:u,slots:g}=r;const{themeClasses:h}=ac(t),{loaderClasses:x}=aK(t),{focusClasses:w,isFocused:I,focus:D,blur:O}=wI(t),{InputIcon:N}=rte(t),{roundedClasses:V}=Rm(t),{rtlClasses:U}=Qg(),Z=pn(()=>t.dirty||t.active),ee=pn(()=>!!(t.label||g.label)),re=pn(()=>!t.singleLine&&ee.value),H=o1(),de=Rt(()=>t.id||`input-${H}`),le=pn(()=>`${de.value}-messages`),j=Tn(),fe=Tn(),ne=Tn(),Ve=Rt(()=>["plain","underlined"].includes(t.variant)),Fe=Rt(()=>t.error||t.disabled?void 0:Z.value&&I.value?t.color:t.baseColor),Xe=Rt(()=>{if(!(!t.iconColor||t.glow&&!I.value))return t.iconColor===!0?Fe.value:t.iconColor}),{backgroundColorClasses:rt,backgroundColorStyles:xe}=dp(()=>t.bgColor),{textColorClasses:_e,textColorStyles:R}=gp(Fe);Rn(Z,Lt=>{if(re.value){const Qt=j.value.$el,dt=fe.value.$el;requestAnimationFrame(()=>{const Sn=UW(Qt),Et=dt.getBoundingClientRect(),et=Et.x-Sn.x,Me=Et.y-Sn.y-(Sn.height/2-Et.height/2),ft=Et.width/.75,so=Math.abs(ft-Sn.width)>1?{maxWidth:ws(ft)}:void 0,Wt=getComputedStyle(Qt),In=getComputedStyle(dt),sn=parseFloat(Wt.transitionDuration)*1e3||150,J=parseFloat(In.getPropertyValue("--v-field-label-scale")),fo=In.getPropertyValue("color");Qt.style.visibility="visible",dt.style.visibility="hidden",dE(Qt,{transform:`translate(${et}px, ${Me}px) scale(${J})`,color:fo,...so},{duration:sn,easing:dF,direction:Lt?"normal":"reverse"}).finished.then(()=>{Qt.style.removeProperty("visibility"),dt.style.removeProperty("visibility")})})}},{flush:"post"});const it=Rt(()=>({isActive:Z,isFocused:I,controlRef:ne,blur:O,focus:D}));function lt(Lt){Lt.target!==document.activeElement&&Lt.preventDefault()}return Cs(()=>{var et,Me,ft;const Lt=t.variant==="outlined",Qt=!!(g["prepend-inner"]||t.prependInnerIcon),dt=!!(t.clearable||g.clear)&&!t.disabled,Sn=!!(g["append-inner"]||t.appendInnerIcon||dt),Et=()=>g.label?g.label({...it.value,label:t.label,props:{for:de.value}}):t.label;return se("div",Bo({class:["v-field",{"v-field--active":Z.value,"v-field--appended":Sn,"v-field--center-affix":t.centerAffix??!Ve.value,"v-field--disabled":t.disabled,"v-field--dirty":t.dirty,"v-field--error":t.error,"v-field--glow":t.glow,"v-field--flat":t.flat,"v-field--has-background":!!t.bgColor,"v-field--persistent-clear":t.persistentClear,"v-field--prepended":Qt,"v-field--reverse":t.reverse,"v-field--single-line":t.singleLine,"v-field--no-label":!Et(),[`v-field--variant-${t.variant}`]:!0},h.value,rt.value,w.value,x.value,V.value,U.value,t.class],style:[xe.value,t.style],onClick:lt},i),[se("div",{class:"v-field__overlay"},null),ae(Iee,{name:"v-field",active:!!t.loading,color:t.error?"error":typeof t.loading=="string"?t.loading:t.color},{default:g.loader}),Qt&&se("div",{key:"prepend",class:"v-field__prepend-inner"},[t.prependInnerIcon&&ae(N,{key:"prepend-icon",name:"prependInner",color:Xe.value},null),(et=g["prepend-inner"])==null?void 0:et.call(g,it.value)]),se("div",{class:"v-field__field","data-no-activator":""},[["filled","solo","solo-inverted","solo-filled"].includes(t.variant)&&re.value&&ae(M6,{key:"floating-label",ref:fe,class:lo([_e.value]),floating:!0,for:de.value,style:Ms(R.value)},{default:()=>[Et()]}),ee.value&&ae(M6,{key:"label",ref:j,for:de.value},{default:()=>[Et()]}),((Me=g.default)==null?void 0:Me.call(g,{...it.value,props:{id:de.value,class:"v-field__input","aria-describedby":le.value},focus:D,blur:O}))??se("div",{id:de.value,class:"v-field__input","aria-describedby":le.value},null)]),dt&&ae(jee,{key:"clear"},{default:()=>[Mn(se("div",{class:"v-field__clearable",onMousedown:so=>{so.preventDefault(),so.stopPropagation()}},[ae(Aa,{defaults:{VIcon:{icon:t.clearIcon}}},{default:()=>[g.clear?g.clear({...it.value,props:{onFocus:D,onBlur:O,onClick:t["onClick:clear"],tabindex:-1}}):ae(N,{name:"clear",onFocus:D,onBlur:O,tabindex:-1},null)]})]),[[uo,t.dirty]])]}),Sn&&se("div",{key:"append",class:"v-field__append-inner"},[(ft=g["append-inner"])==null?void 0:ft.call(g,it.value),t.appendInnerIcon&&ae(N,{key:"append-icon",name:"appendInner",color:Xe.value},null)]),se("div",{class:lo(["v-field__outline",_e.value]),style:Ms(R.value)},[Lt&&se(Yo,null,[se("div",{class:"v-field__outline__start"},null),re.value&&se("div",{class:"v-field__outline__notch"},[ae(M6,{ref:fe,floating:!0,for:de.value},{default:()=>[Et()]})]),se("div",{class:"v-field__outline__end"},null)]),Ve.value&&re.value&&ae(M6,{ref:fe,floating:!0,for:de.value},{default:()=>[Et()]})])])}),{controlRef:ne,fieldIconColor:Xe}}});function Ste(t){function r(i,u){var g,h;!t.autofocus||!i||(h=(g=u[0].target)==null?void 0:g.focus)==null||h.call(g)}return{onIntersect:r}}const Uye=["color","file","time","date","datetime-local","week","month"],vK=Bn({autofocus:Boolean,counter:[Boolean,Number,String],counterValue:[Number,Function],prefix:String,placeholder:String,persistentPlaceholder:Boolean,persistentCounter:Boolean,suffix:String,role:String,type:{type:String,default:"text"},modelModifiers:Object,...CI(),...u8()},"VTextField"),QR=Vo()({name:"VTextField",directives:{vIntersect:OE},inheritAttrs:!1,props:vK(),emits:{"click:control":t=>!0,"mousedown:control":t=>!0,"update:focused":t=>!0,"update:modelValue":t=>!0},setup(t,r){let{attrs:i,emit:u,slots:g}=r;const h=Ri(t,"modelValue"),{isFocused:x,focus:w,blur:I}=wI(t),{onIntersect:D}=Ste(t),O=Rt(()=>typeof t.counterValue=="function"?t.counterValue(h.value):typeof t.counterValue=="number"?t.counterValue:(h.value??"").toString().length),N=Rt(()=>{if(i.maxlength)return i.maxlength;if(!(!t.counter||typeof t.counter!="number"&&typeof t.counter!="string"))return t.counter}),V=Rt(()=>["plain","underlined"].includes(t.variant)),U=Tn(),Z=Tn(),ee=Tn(),re=Rt(()=>Uye.includes(t.type)||t.persistentPlaceholder||x.value||t.active);function H(){x.value||w(),Qo(()=>{ee.value!==document.activeElement&&Qo(()=>{var ne;return(ne=ee.value)==null?void 0:ne.focus()})})}function de(ne){u("mousedown:control",ne),ne.target!==ee.value&&(H(),ne.preventDefault())}function le(ne){u("click:control",ne)}function j(ne,Ve){ne.stopPropagation(),H(),Qo(()=>{h.value=null,Ve(),WF(t["onClick:clear"],ne)})}function fe(ne){var Fe;const Ve=ne.target;if(h.value=Ve.value,(Fe=t.modelModifiers)!=null&&Fe.trim&&["text","search","password","tel","url"].includes(t.type)){const Xe=[Ve.selectionStart,Ve.selectionEnd];Qo(()=>{Ve.selectionStart=Xe[0],Ve.selectionEnd=Xe[1]})}}return Cs(()=>{const ne=!!(g.counter||t.counter!==!1&&t.counter!=null),Ve=!!(ne||g.details),[Fe,Xe]=gI(i),{modelValue:rt,...xe}=Cx.filterProps(t),_e=RE.filterProps(t);return ae(Cx,Bo({ref:U,modelValue:h.value,"onUpdate:modelValue":R=>h.value=R,class:["v-text-field",{"v-text-field--prefixed":t.prefix,"v-text-field--suffixed":t.suffix,"v-input--plain-underlined":V.value},t.class],style:t.style},Fe,xe,{centerAffix:!V.value,focused:x.value}),{...g,default:R=>{let{id:it,isDisabled:lt,isDirty:Lt,isReadonly:Qt,isValid:dt,reset:Sn}=R;return ae(RE,Bo({ref:Z,onMousedown:de,onClick:le,"onClick:clear":Et=>j(Et,Sn),"onClick:prependInner":t["onClick:prependInner"],"onClick:appendInner":t["onClick:appendInner"],role:t.role},_e,{id:it.value,active:re.value||Lt.value,dirty:Lt.value||t.dirty,disabled:lt.value,focused:x.value,error:dt.value===!1}),{...g,default:Et=>{let{props:{class:et,...Me}}=Et;const ft=Mn(se("input",Bo({ref:ee,value:h.value,onInput:fe,autofocus:t.autofocus,readonly:Qt.value,disabled:lt.value,name:t.name,placeholder:t.placeholder,size:1,type:t.type,onFocus:H,onBlur:I},Me,Xe),null),[[OE,{handler:D},null,{once:!0}]]);return se(Yo,null,[t.prefix&&se("span",{class:"v-text-field__prefix"},[se("span",{class:"v-text-field__prefix__text"},[t.prefix])]),g.default?se("div",{class:lo(et),"data-no-activator":""},[g.default(),ft]):Q0(ft,{class:et}),t.suffix&&se("span",{class:"v-text-field__suffix"},[se("span",{class:"v-text-field__suffix__text"},[t.suffix])])])}})},details:Ve?R=>{var it;return se(Yo,null,[(it=g.details)==null?void 0:it.call(g,R),ne&&se(Yo,null,[se("span",null,null),ae(bK,{active:t.persistentCounter||x.value,value:O.value,max:N.value,disabled:t.disabled},g.counter)])])}:void 0})}),Ex({},U,Z,ee)}}),Wye=Bn({renderless:Boolean,...Hs()},"VVirtualScrollItem"),Kye=Vo()({name:"VVirtualScrollItem",inheritAttrs:!1,props:Wye(),emits:{"update:height":t=>!0},setup(t,r){let{attrs:i,emit:u,slots:g}=r;const{resizeRef:h,contentRect:x}=EE(void 0,"border");Rn(()=>{var w;return(w=x.value)==null?void 0:w.height},w=>{w!=null&&u("update:height",w)}),Cs(()=>{var w,I;return t.renderless?se(Yo,null,[(w=g.default)==null?void 0:w.call(g,{itemRef:h})]):se("div",Bo({ref:h,class:["v-virtual-scroll__item",t.class],style:t.style},i),[(I=g.default)==null?void 0:I.call(g)])})}}),jye=-1,Zye=1,pU=100,Gye=Bn({itemHeight:{type:[Number,String],default:null},itemKey:{type:[String,Array,Function],default:null},height:[Number,String]},"virtual");function qye(t,r){const i=ZF(),u=bo(0);Bd(()=>{u.value=parseFloat(t.itemHeight||0)});const g=bo(0),h=bo(Math.ceil((parseInt(t.height)||i.height.value)/(u.value||16))||1),x=bo(0),w=bo(0),I=Tn(),D=Tn();let O=0;const{resizeRef:N,contentRect:V}=EE();Bd(()=>{N.value=I.value});const U=Rt(()=>{var Et;return I.value===document.documentElement?i.height.value:((Et=V.value)==null?void 0:Et.height)||parseInt(t.height)||0}),Z=Rt(()=>!!(I.value&&D.value&&U.value&&u.value));let ee=Array.from({length:r.value.length}),re=Array.from({length:r.value.length});const H=bo(0);let de=-1;function le(Et){return ee[Et]||u.value}const j=Kme(()=>{const Et=performance.now();re[0]=0;const et=r.value.length;for(let Me=1;Me<=et-1;Me++)re[Me]=(re[Me-1]||0)+le(Me-1);H.value=Math.max(H.value,performance.now()-Et)},H),fe=Rn(Z,Et=>{Et&&(fe(),O=D.value.offsetTop,j.immediate(),Lt(),~de&&Qo(()=>{Qr&&window.requestAnimationFrame(()=>{dt(de),de=-1})}))});ic(()=>{j.clear()});function ne(Et,et){const Me=ee[Et],ft=u.value;u.value=ft?Math.min(u.value,et):et,(Me!==et||ft!==u.value)&&(ee[Et]=et,j())}function Ve(Et){Et=wf(Et,0,r.value.length-1);const et=Math.floor(Et),Me=Et%1,ft=et+1,so=re[et]||0,Wt=re[ft]||so;return so+(Wt-so)*Me}function Fe(Et){return Yye(re,Et)}let Xe=0,rt=0,xe=0;Rn(U,(Et,et)=>{et&&(Lt(),Et<et&&requestAnimationFrame(()=>{rt=0,Lt()}))});let _e=-1;function R(){if(!I.value||!D.value)return;const Et=I.value.scrollTop,et=performance.now();et-xe>500?(rt=Math.sign(Et-Xe),O=D.value.offsetTop):rt=Et-Xe,Xe=Et,xe=et,window.clearTimeout(_e),_e=window.setTimeout(it,500),Lt()}function it(){!I.value||!D.value||(rt=0,xe=0,window.clearTimeout(_e),Lt())}let lt=-1;function Lt(){cancelAnimationFrame(lt),lt=requestAnimationFrame(Qt)}function Qt(){if(!I.value||!U.value||!u.value)return;const Et=Xe-O,et=Math.sign(rt),Me=Math.max(0,Et-pU),ft=wf(Fe(Me),0,r.value.length),so=Et+U.value+pU,Wt=wf(Fe(so)+1,ft+1,r.value.length);if((et!==jye||ft<g.value)&&(et!==Zye||Wt>h.value)){const In=Ve(g.value)-Ve(ft),sn=Ve(Wt)-Ve(h.value);Math.max(In,sn)>pU?(g.value=ft,h.value=Wt):(ft<=0&&(g.value=ft),Wt>=r.value.length&&(h.value=Wt))}x.value=Ve(g.value),w.value=Ve(r.value.length)-Ve(h.value)}function dt(Et){const et=Ve(Et);!I.value||Et&&!et?de=Et:I.value.scrollTop=et}const Sn=Rt(()=>r.value.slice(g.value,h.value).map((Et,et)=>{const Me=et+g.value;return{raw:Et,index:Me,key:jg(Et,t.itemKey,Me)}}));return Rn(r,()=>{ee=Array.from({length:r.value.length}),re=Array.from({length:r.value.length}),j.immediate(),Lt()},{deep:1}),{calculateVisibleItems:Lt,containerRef:I,markerRef:D,computedItems:Sn,paddingTop:x,paddingBottom:w,scrollToIndex:dt,handleScroll:R,handleScrollend:it,handleItemResize:ne}}function Yye(t,r){let i=t.length-1,u=0,g=0,h=null,x=-1;if(t[i]<r)return i;for(;u<=i;)if(g=u+i>>1,h=t[g],h>r)i=g-1;else if(h<r)x=g,u=g+1;else return h===r?g:u;return x}const Xye=Bn({items:{type:Array,default:()=>[]},renderless:Boolean,...Gye(),...Hs(),...bp()},"VVirtualScroll"),kte=Vo()({name:"VVirtualScroll",props:Xye(),setup(t,r){let{slots:i}=r;const u=Bl("VVirtualScroll"),{dimensionStyles:g}=vp(t),{calculateVisibleItems:h,containerRef:x,markerRef:w,handleScroll:I,handleScrollend:D,handleItemResize:O,scrollToIndex:N,paddingTop:V,paddingBottom:U,computedItems:Z}=qye(t,pn(()=>t.items));return Xg(()=>t.renderless,()=>{function ee(){var de,le;const H=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1)?"addEventListener":"removeEventListener";x.value===document.documentElement?(document[H]("scroll",I,{passive:!0}),document[H]("scrollend",D)):((de=x.value)==null||de[H]("scroll",I,{passive:!0}),(le=x.value)==null||le[H]("scrollend",D))}Ku(()=>{x.value=gQ(u.vnode.el,!0),ee(!0)}),ic(ee)}),Cs(()=>{const ee=Z.value.map(re=>ae(Kye,{key:re.key,renderless:t.renderless,"onUpdate:height":H=>O(re.index,H)},{default:H=>{var de;return(de=i.default)==null?void 0:de.call(i,{item:re.raw,index:re.index,...H})}}));return t.renderless?se(Yo,null,[se("div",{ref:w,class:"v-virtual-scroll__spacer",style:{paddingTop:ws(V.value)}},null),ee,se("div",{class:"v-virtual-scroll__spacer",style:{paddingBottom:ws(U.value)}},null)]):se("div",{ref:x,class:lo(["v-virtual-scroll",t.class]),onScrollPassive:I,onScrollend:D,style:Ms([g.value,t.style])},[se("div",{ref:w,class:"v-virtual-scroll__container",style:{paddingTop:ws(V.value),paddingBottom:ws(U.value)}},[ee])])}),{calculateVisibleItems:h,scrollToIndex:N}}});function Ete(t,r){const i=bo(!1);let u;function g(w){cancelAnimationFrame(u),i.value=!0,u=requestAnimationFrame(()=>{u=requestAnimationFrame(()=>{i.value=!1})})}async function h(){await new Promise(w=>requestAnimationFrame(w)),await new Promise(w=>requestAnimationFrame(w)),await new Promise(w=>requestAnimationFrame(w)),await new Promise(w=>{if(i.value){const I=Rn(i,()=>{I(),w()})}else w()})}async function x(w){var O,N;if(w.key==="Tab"&&((O=r.value)==null||O.focus()),!["PageDown","PageUp","Home","End"].includes(w.key))return;const I=(N=t.value)==null?void 0:N.$el;if(!I)return;(w.key==="Home"||w.key==="End")&&I.scrollTo({top:w.key==="Home"?0:I.scrollHeight,behavior:"smooth"}),await h();const D=I.querySelectorAll(":scope > :not(.v-virtual-scroll__spacer)");if(w.key==="PageDown"||w.key==="Home"){const V=I.getBoundingClientRect().top;for(const U of D)if(U.getBoundingClientRect().top>=V){U.focus();break}}else{const V=I.getBoundingClientRect().bottom;for(const U of[...D].reverse())if(U.getBoundingClientRect().bottom<=V){U.focus();break}}}return{onScrollPassive:g,onKeydown:x}}const Ate=Bn({chips:Boolean,closableChips:Boolean,closeText:{type:String,default:"$vuetify.close"},openText:{type:String,default:"$vuetify.open"},eager:Boolean,hideNoData:Boolean,hideSelected:Boolean,listProps:{type:Object},menu:Boolean,menuIcon:{type:Vr,default:"$dropdown"},menuProps:{type:Object},multiple:Boolean,noDataText:{type:String,default:"$vuetify.noDataText"},openOnClear:Boolean,itemColor:String,noAutoScroll:Boolean,...xte({itemChildren:!1})},"Select"),Jye=Bn({...Ate(),..._x(vK({modelValue:null,role:"combobox"}),["validationValue","dirty","appendInnerIcon"]),...UE({transition:{component:uK}})},"VSelect");Vo()({name:"VSelect",props:Jye(),emits:{"update:focused":t=>!0,"update:modelValue":t=>!0,"update:menu":t=>!0},setup(t,r){let{slots:i}=r;const{t:u}=BE(),g=Tn(),h=Tn(),x=Tn(),{items:w,transformIn:I,transformOut:D}=Cte(t),O=Ri(t,"modelValue",[],Et=>I(Et===null?[null]:Uu(Et)),Et=>{const et=D(Et);return t.multiple?et:et[0]??null}),N=Rt(()=>typeof t.counterValue=="function"?t.counterValue(O.value):typeof t.counterValue=="number"?t.counterValue:O.value.length),V=fK(t),U=Rt(()=>O.value.map(Et=>Et.value)),Z=bo(!1);let ee="",re=-1,H;const de=Rt(()=>t.hideSelected?w.value.filter(Et=>!O.value.some(et=>(t.valueComparator||Jg)(et,Et))):w.value),le=Rt(()=>t.hideNoData&&!de.value.length||V.isReadonly.value||V.isDisabled.value),j=Ri(t,"menu"),fe=Rt({get:()=>j.value,set:Et=>{var et;j.value&&!Et&&((et=h.value)!=null&&et.openChildren.size)||Et&&le.value||(j.value=Et)}}),ne=pn(()=>fe.value?t.closeText:t.openText),Ve=Rt(()=>{var Et;return{...t.menuProps,activatorProps:{...((Et=t.menuProps)==null?void 0:Et.activatorProps)||{},"aria-haspopup":"listbox"}}}),Fe=Tn(),Xe=Ete(Fe,g);function rt(Et){t.openOnClear&&(fe.value=!0)}function xe(){le.value||(fe.value=!fe.value)}function _e(Et){cF(Et)&&R(Et)}function R(Et){var fo,Zt,bn;if(!Et.key||V.isReadonly.value)return;["Enter"," ","ArrowDown","ArrowUp","Home","End"].includes(Et.key)&&Et.preventDefault(),["Enter","ArrowDown"," "].includes(Et.key)&&(fe.value=!0),["Escape","Tab"].includes(Et.key)&&(fe.value=!1),Et.key==="Home"?(fo=Fe.value)==null||fo.focus("first"):Et.key==="End"&&((Zt=Fe.value)==null||Zt.focus("last"));const et=1e3;if(!cF(Et))return;const Me=performance.now();Me-H>et&&(ee="",re=-1),ee+=Et.key.toLowerCase(),H=Me;const ft=de.value;function so(){let Ke=Wt();return Ke||ee.at(-1)===ee.at(-2)&&(ee=ee.slice(0,-1),Ke=Wt(),Ke)||(re=-1,Ke=Wt(),Ke)?Ke:(ee=Et.key.toLowerCase(),Wt())}function Wt(){for(let Ke=re+1;Ke<ft.length;Ke++){const tt=ft[Ke];if(tt.title.toLowerCase().startsWith(ee))return[tt,Ke]}}const In=so();if(!In)return;const[sn,J]=In;re=J,(bn=Fe.value)==null||bn.focus(J),t.multiple||(O.value=[sn])}function it(Et){let et=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(!Et.props.disabled)if(t.multiple){const Me=O.value.findIndex(so=>(t.valueComparator||Jg)(so.value,Et.value)),ft=et??!~Me;if(~Me){const so=ft?[...O.value,Et]:[...O.value];so.splice(Me,1),O.value=so}else ft&&(O.value=[...O.value,Et])}else{const Me=et!==!1;O.value=Me?[Et]:[],Qo(()=>{fe.value=!1})}}function lt(Et){var et;(et=Fe.value)!=null&&et.$el.contains(Et.relatedTarget)||(fe.value=!1)}function Lt(){var Et;t.eager&&((Et=x.value)==null||Et.calculateVisibleItems())}function Qt(){var Et;Z.value&&((Et=g.value)==null||Et.focus())}function dt(Et){Z.value=!0}function Sn(Et){if(Et==null)O.value=[];else if(SE(g.value,":autofill")||SE(g.value,":-webkit-autofill")){const et=w.value.find(Me=>Me.title===Et);et&&it(et)}else g.value&&(g.value.value="")}return Rn(fe,()=>{if(!t.hideSelected&&fe.value&&O.value.length){const Et=de.value.findIndex(et=>O.value.some(Me=>(t.valueComparator||Jg)(Me.value,et.value)));Qr&&!t.noAutoScroll&&window.requestAnimationFrame(()=>{var et;Et>=0&&((et=x.value)==null||et.scrollToIndex(Et))})}}),Rn(()=>t.items,(Et,et)=>{fe.value||Z.value&&!et.length&&Et.length&&(fe.value=!0)}),Cs(()=>{const Et=!!(t.chips||i.chip),et=!!(!t.hideNoData||de.value.length||i["prepend-item"]||i["append-item"]||i["no-data"]),Me=O.value.length>0,ft=QR.filterProps(t),so=Me||!Z.value&&t.label&&!t.persistentPlaceholder?void 0:t.placeholder;return ae(QR,Bo({ref:g},ft,{modelValue:O.value.map(Wt=>Wt.props.value).join(", "),"onUpdate:modelValue":Sn,focused:Z.value,"onUpdate:focused":Wt=>Z.value=Wt,validationValue:O.externalValue,counterValue:N.value,dirty:Me,class:["v-select",{"v-select--active-menu":fe.value,"v-select--chips":!!t.chips,[`v-select--${t.multiple?"multiple":"single"}`]:!0,"v-select--selected":O.value.length,"v-select--selection-slot":!!i.selection},t.class],style:t.style,inputmode:"none",placeholder:so,"onClick:clear":rt,"onMousedown:control":xe,onBlur:lt,onKeydown:R,"aria-label":u(ne.value),title:u(ne.value)}),{...i,default:()=>se(Yo,null,[ae(SI,Bo({ref:h,modelValue:fe.value,"onUpdate:modelValue":Wt=>fe.value=Wt,activator:"parent",contentClass:"v-select__content",disabled:le.value,eager:t.eager,maxHeight:310,openOnClick:!1,closeOnContentClick:!1,transition:t.transition,onAfterEnter:Lt,onAfterLeave:Qt},Ve.value),{default:()=>[et&&ae(_I,Bo({ref:Fe,selected:U.value,selectStrategy:t.multiple?"independent":"single-independent",onMousedown:Wt=>Wt.preventDefault(),onKeydown:_e,onFocusin:dt,tabindex:"-1","aria-live":"polite","aria-label":`${t.label}-list`,color:t.itemColor??t.color},Xe,t.listProps),{default:()=>{var Wt,In,sn;return[(Wt=i["prepend-item"])==null?void 0:Wt.call(i),!de.value.length&&!t.hideNoData&&(((In=i["no-data"])==null?void 0:In.call(i))??ae(eu,{key:"no-data",title:u(t.noDataText)},null)),ae(kte,{ref:x,renderless:!0,items:de.value,itemKey:"value"},{default:J=>{var we,Re,He;let{item:fo,index:Zt,itemRef:bn}=J;const Ke=Yme(fo.props),tt=Bo(fo.props,{ref:bn,key:fo.value,onClick:()=>it(fo,null)});return fo.type==="divider"?((we=i.divider)==null?void 0:we.call(i,{props:fo.raw,index:Zt}))??ae(xE,Bo(fo.props,{key:`divider-${Zt}`}),null):fo.type==="subheader"?((Re=i.subheader)==null?void 0:Re.call(i,{props:fo.raw,index:Zt}))??ae(pK,Bo(fo.props,{key:`subheader-${Zt}`}),null):((He=i.item)==null?void 0:He.call(i,{item:fo,index:Zt,props:tt}))??ae(eu,Bo(tt,{role:"option"}),{prepend:be=>{let{isSelected:ke}=be;return se(Yo,null,[t.multiple&&!t.hideSelected?ae(EF,{key:fo.value,modelValue:ke,ripple:!1,tabindex:"-1"},null):void 0,Ke.prependAvatar&&ae(wx,{image:Ke.prependAvatar},null),Ke.prependIcon&&ae(zn,{icon:Ke.prependIcon},null)])}})}}),(sn=i["append-item"])==null?void 0:sn.call(i)]}})]}),O.value.map((Wt,In)=>{function sn(bn){bn.stopPropagation(),bn.preventDefault(),it(Wt,!1)}const J={"onClick:close":sn,onKeydown(bn){bn.key!=="Enter"&&bn.key!==" "||(bn.preventDefault(),bn.stopPropagation(),sn(bn))},onMousedown(bn){bn.preventDefault(),bn.stopPropagation()},modelValue:!0,"onUpdate:modelValue":void 0},fo=Et?!!i.chip:!!i.selection,Zt=fo?HW(Et?i.chip({item:Wt,index:In,props:J}):i.selection({item:Wt,index:In})):void 0;if(!(fo&&!Zt))return se("div",{key:Wt.value,class:"v-select__selection"},[Et?i.chip?ae(Aa,{key:"chip-defaults",defaults:{VChip:{closable:t.closableChips,size:"small",text:Wt.title}}},{default:()=>[Zt]}):ae(mK,Bo({key:"chip",closable:t.closableChips,size:"small",text:Wt.title,disabled:Wt.props.disabled},J),null):Zt??se("span",{class:"v-select__selection-text"},[Wt.title,t.multiple&&In<O.value.length-1&&se("span",{class:"v-select__selection-comma"},[vs(",")])])])})]),"append-inner":function(){var J,fo;for(var Wt=arguments.length,In=new Array(Wt),sn=0;sn<Wt;sn++)In[sn]=arguments[sn];return se(Yo,null,[(J=i["append-inner"])==null?void 0:J.call(i,...In),t.menuIcon?ae(zn,{class:"v-select__menu-icon",color:(fo=g.value)==null?void 0:fo.fieldIconColor,icon:t.menuIcon},null):void 0])}})}),Ex({isFocused:Z,menu:fe,select:it},g)}});const Qye=(t,r,i)=>{if(t==null||r==null)return-1;if(!r.length)return 0;t=t.toString().toLocaleLowerCase(),r=r.toString().toLocaleLowerCase();const u=[];let g=t.indexOf(r);for(;~g;)u.push([g,g+r.length]),g=t.indexOf(r,g+r.length);return u.length?u:-1};function bU(t,r){if(!(t==null||typeof t=="boolean"||t===-1))return typeof t=="number"?[[t,t+r.length]]:Array.isArray(t[0])?t:[t]}const exe=Bn({customFilter:Function,customKeyFilter:Object,filterKeys:[Array,String],filterMode:{type:String,default:"intersection"},noFilter:Boolean},"filter");function txe(t,r,i){var w;const u=[],g=(i==null?void 0:i.default)??Qye,h=i!=null&&i.filterKeys?Uu(i.filterKeys):!1,x=Object.keys((i==null?void 0:i.customKeyFilter)??{}).length;if(!(t!=null&&t.length))return u;e:for(let I=0;I<t.length;I++){const[D,O=D]=Uu(t[I]),N={},V={};let U=-1;if((r||x>0)&&!(i!=null&&i.noFilter)){if(typeof D=="object"){if(D.type==="divider"||D.type==="subheader")continue;const re=h||Object.keys(O);for(const H of re){const de=jg(O,H),le=(w=i==null?void 0:i.customKeyFilter)==null?void 0:w[H];if(U=le?le(de,r,D):g(de,r,D),U!==-1&&U!==!1)le?N[H]=bU(U,r):V[H]=bU(U,r);else if((i==null?void 0:i.filterMode)==="every")continue e}}else U=g(D,r,D),U!==-1&&U!==!1&&(V.title=bU(U,r));const Z=Object.keys(V).length,ee=Object.keys(N).length;if(!Z&&!ee||(i==null?void 0:i.filterMode)==="union"&&ee!==x&&!Z||(i==null?void 0:i.filterMode)==="intersection"&&(ee!==x||!Z))continue}u.push({index:I,matches:{...V,...N}})}return u}function nxe(t,r,i,u){const g=bo([]),h=bo(new Map),x=Rt(()=>Q(r));Bd(()=>{const I=typeof i=="function"?i():Q(i),D=typeof I!="string"&&typeof I!="number"?"":String(I),O=txe(x.value,D,{customKeyFilter:{...t.customKeyFilter,...Q(u==null?void 0:u.customKeyFilter)},default:t.customFilter,filterKeys:t.filterKeys,filterMode:t.filterMode,noFilter:t.noFilter}),N=Q(r),V=[],U=new Map;O.forEach(Z=>{let{index:ee,matches:re}=Z;const H=N[ee];V.push(H),U.set(H.value,re)}),g.value=V,h.value=U});function w(I){return h.value.get(I.value)}return{filteredItems:g,filteredMatches:h,getMatches:w}}function oxe(t,r,i){return i==null||!i.length?r:i.map((u,g)=>{const h=g===0?0:i[g-1][1],x=[se("span",{class:lo(`${t}__unmask`)},[r.slice(h,u[0])]),se("span",{class:lo(`${t}__mask`)},[r.slice(u[0],u[1])])];return g===i.length-1&&x.push(se("span",{class:lo(`${t}__unmask`)},[r.slice(u[1])])),se(Yo,null,[x])})}const sxe=Bn({autoSelectFirst:{type:[Boolean,String]},clearOnSelect:Boolean,search:String,...exe({filterKeys:["title"]}),...Ate(),..._x(vK({modelValue:null,role:"combobox"}),["validationValue","dirty","appendInnerIcon"]),...UE({transition:!1})},"VAutocomplete"),yK=Vo()({name:"VAutocomplete",props:sxe(),emits:{"update:focused":t=>!0,"update:search":t=>!0,"update:modelValue":t=>!0,"update:menu":t=>!0},setup(t,r){let{slots:i}=r;const{t:u}=BE(),g=Tn(),h=bo(!1),x=bo(!0),w=bo(!1),I=Tn(),D=Tn(),O=bo(-1),{items:N,transformIn:V,transformOut:U}=Cte(t),{textColorClasses:Z,textColorStyles:ee}=gp(()=>{var Zt;return(Zt=g.value)==null?void 0:Zt.color}),re=Ri(t,"search",""),H=Ri(t,"modelValue",[],Zt=>V(Zt===null?[null]:Uu(Zt)),Zt=>{const bn=U(Zt);return t.multiple?bn:bn[0]??null}),de=Rt(()=>typeof t.counterValue=="function"?t.counterValue(H.value):typeof t.counterValue=="number"?t.counterValue:H.value.length),le=fK(t),{filteredItems:j,getMatches:fe}=nxe(t,N,()=>x.value?"":re.value),ne=Rt(()=>t.hideSelected?j.value.filter(Zt=>!H.value.some(bn=>bn.value===Zt.value)):j.value),Ve=Rt(()=>!!(t.chips||i.chip)),Fe=Rt(()=>Ve.value||!!i.selection),Xe=Rt(()=>H.value.map(Zt=>Zt.props.value)),rt=Rt(()=>{var bn;return(t.autoSelectFirst===!0||t.autoSelectFirst==="exact"&&re.value===((bn=ne.value[0])==null?void 0:bn.title))&&ne.value.length>0&&!x.value&&!w.value}),xe=Rt(()=>t.hideNoData&&!ne.value.length||le.isReadonly.value||le.isDisabled.value),_e=Ri(t,"menu"),R=Rt({get:()=>_e.value,set:Zt=>{var bn;_e.value&&!Zt&&((bn=I.value)!=null&&bn.openChildren.size)||Zt&&xe.value||(_e.value=Zt)}}),it=Rt(()=>R.value?t.closeText:t.openText),lt=Tn(),Lt=Ete(lt,g);function Qt(Zt){t.openOnClear&&(R.value=!0),re.value=""}function dt(){xe.value||(R.value=!0)}function Sn(Zt){xe.value||(h.value&&(Zt.preventDefault(),Zt.stopPropagation()),R.value=!R.value)}function Et(Zt){var bn;(cF(Zt)||Zt.key==="Backspace")&&((bn=g.value)==null||bn.focus())}function et(Zt){var tt,we,Re,He,be;if(le.isReadonly.value)return;const bn=(tt=g.value)==null?void 0:tt.selectionStart,Ke=H.value.length;if(["Enter","ArrowDown","ArrowUp"].includes(Zt.key)&&Zt.preventDefault(),["Enter","ArrowDown"].includes(Zt.key)&&(R.value=!0),["Escape"].includes(Zt.key)&&(R.value=!1),rt.value&&["Enter","Tab"].includes(Zt.key)&&!H.value.some(ke=>{let{value:Ne}=ke;return Ne===ne.value[0].value})&&fo(ne.value[0]),Zt.key==="ArrowDown"&&rt.value&&((we=lt.value)==null||we.focus("next")),["Backspace","Delete"].includes(Zt.key)){if(!t.multiple&&Fe.value&&H.value.length>0&&!re.value)return fo(H.value[0],!1);if(~O.value){Zt.preventDefault();const ke=O.value;fo(H.value[O.value],!1),O.value=ke>=Ke-1?Ke-2:ke}else Zt.key==="Backspace"&&!re.value&&(O.value=Ke-1);return}if(t.multiple)if(Zt.key==="ArrowLeft"){if(O.value<0&&bn&&bn>0)return;const ke=O.value>-1?O.value-1:Ke-1;if(H.value[ke])O.value=ke;else{const Ne=((Re=re.value)==null?void 0:Re.length)??null;O.value=-1,(He=g.value)==null||He.setSelectionRange(Ne,Ne)}}else if(Zt.key==="ArrowRight"){if(O.value<0)return;const ke=O.value+1;H.value[ke]?O.value=ke:(O.value=-1,(be=g.value)==null||be.setSelectionRange(0,0))}else~O.value&&cF(Zt)&&(O.value=-1)}function Me(Zt){if(SE(g.value,":autofill")||SE(g.value,":-webkit-autofill")){const bn=N.value.find(Ke=>Ke.title===Zt.target.value);bn&&fo(bn)}}function ft(){var Zt;t.eager&&((Zt=D.value)==null||Zt.calculateVisibleItems())}function so(){var Zt;h.value&&(x.value=!0,(Zt=g.value)==null||Zt.focus())}function Wt(Zt){h.value=!0,setTimeout(()=>{w.value=!0})}function In(Zt){w.value=!1}function sn(Zt){(Zt==null||Zt===""&&!t.multiple&&!Fe.value)&&(H.value=[])}const J=bo(!1);function fo(Zt){let bn=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(!(!Zt||Zt.props.disabled))if(t.multiple){const Ke=H.value.findIndex(we=>(t.valueComparator||Jg)(we.value,Zt.value)),tt=bn??!~Ke;if(~Ke){const we=tt?[...H.value,Zt]:[...H.value];we.splice(Ke,1),H.value=we}else tt&&(H.value=[...H.value,Zt]);t.clearOnSelect&&(re.value="")}else{const Ke=bn!==!1;H.value=Ke?[Zt]:[],re.value=Ke&&!Fe.value?Zt.title:"",Qo(()=>{R.value=!1,x.value=!0})}}return Rn(h,(Zt,bn)=>{var Ke;Zt!==bn&&(Zt?(J.value=!0,re.value=t.multiple||Fe.value?"":String(((Ke=H.value.at(-1))==null?void 0:Ke.props.title)??""),x.value=!0,Qo(()=>J.value=!1)):(!t.multiple&&re.value==null&&(H.value=[]),R.value=!1,(t.multiple||Fe.value)&&(re.value=""),O.value=-1))}),Rn(re,Zt=>{!h.value||J.value||(Zt&&(R.value=!0),x.value=!Zt)}),Rn(R,()=>{if(!t.hideSelected&&R.value&&H.value.length){const Zt=ne.value.findIndex(bn=>H.value.some(Ke=>bn.value===Ke.value));Qr&&window.requestAnimationFrame(()=>{var bn;Zt>=0&&((bn=D.value)==null||bn.scrollToIndex(Zt))})}}),Rn(()=>t.items,(Zt,bn)=>{R.value||h.value&&!bn.length&&Zt.length&&(R.value=!0)}),Cs(()=>{const Zt=!!(!t.hideNoData||ne.value.length||i["prepend-item"]||i["append-item"]||i["no-data"]),bn=H.value.length>0,Ke=QR.filterProps(t);return ae(QR,Bo({ref:g},Ke,{modelValue:re.value,"onUpdate:modelValue":[tt=>re.value=tt,sn],focused:h.value,"onUpdate:focused":tt=>h.value=tt,validationValue:H.externalValue,counterValue:de.value,dirty:bn,onChange:Me,class:["v-autocomplete",`v-autocomplete--${t.multiple?"multiple":"single"}`,{"v-autocomplete--active-menu":R.value,"v-autocomplete--chips":!!t.chips,"v-autocomplete--selection-slot":!!Fe.value,"v-autocomplete--selecting-index":O.value>-1},t.class],style:t.style,readonly:le.isReadonly.value,placeholder:bn?void 0:t.placeholder,"onClick:clear":Qt,"onMousedown:control":dt,onKeydown:et}),{...i,default:()=>se(Yo,null,[ae(SI,Bo({ref:I,modelValue:R.value,"onUpdate:modelValue":tt=>R.value=tt,activator:"parent",contentClass:"v-autocomplete__content",disabled:xe.value,eager:t.eager,maxHeight:310,openOnClick:!1,closeOnContentClick:!1,transition:t.transition,onAfterEnter:ft,onAfterLeave:so},t.menuProps),{default:()=>[Zt&&ae(_I,Bo({ref:lt,filterable:!0,selected:Xe.value,selectStrategy:t.multiple?"independent":"single-independent",onMousedown:tt=>tt.preventDefault(),onKeydown:Et,onFocusin:Wt,onFocusout:In,tabindex:"-1","aria-live":"polite",color:t.itemColor??t.color},Lt,t.listProps),{default:()=>{var tt,we,Re;return[(tt=i["prepend-item"])==null?void 0:tt.call(i),!ne.value.length&&!t.hideNoData&&(((we=i["no-data"])==null?void 0:we.call(i))??ae(eu,{key:"no-data",title:u(t.noDataText)},null)),ae(kte,{ref:D,renderless:!0,items:ne.value,itemKey:"value"},{default:He=>{var pt,cn,jt;let{item:be,index:ke,itemRef:Ne}=He;const Ge=Bo(be.props,{ref:Ne,key:be.value,active:rt.value&&ke===0?!0:void 0,onClick:()=>fo(be,null)});return be.type==="divider"?((pt=i.divider)==null?void 0:pt.call(i,{props:be.raw,index:ke}))??ae(xE,Bo(be.props,{key:`divider-${ke}`}),null):be.type==="subheader"?((cn=i.subheader)==null?void 0:cn.call(i,{props:be.raw,index:ke}))??ae(pK,Bo(be.props,{key:`subheader-${ke}`}),null):((jt=i.item)==null?void 0:jt.call(i,{item:be,index:ke,props:Ge}))??ae(eu,Bo(Ge,{role:"option"}),{prepend:xn=>{let{isSelected:Xn}=xn;return se(Yo,null,[t.multiple&&!t.hideSelected?ae(EF,{key:be.value,modelValue:Xn,ripple:!1,tabindex:"-1"},null):void 0,be.props.prependAvatar&&ae(wx,{image:be.props.prependAvatar},null),be.props.prependIcon&&ae(zn,{icon:be.props.prependIcon},null)])},title:()=>{var xn;return x.value?be.title:oxe("v-autocomplete",be.title,(xn=fe(be))==null?void 0:xn.title)}})}}),(Re=i["append-item"])==null?void 0:Re.call(i)]}})]}),H.value.map((tt,we)=>{function Re(Ne){Ne.stopPropagation(),Ne.preventDefault(),fo(tt,!1)}const He={"onClick:close":Re,onKeydown(Ne){Ne.key!=="Enter"&&Ne.key!==" "||(Ne.preventDefault(),Ne.stopPropagation(),Re(Ne))},onMousedown(Ne){Ne.preventDefault(),Ne.stopPropagation()},modelValue:!0,"onUpdate:modelValue":void 0},be=Ve.value?!!i.chip:!!i.selection,ke=be?HW(Ve.value?i.chip({item:tt,index:we,props:He}):i.selection({item:tt,index:we})):void 0;if(!(be&&!ke))return se("div",{key:tt.value,class:lo(["v-autocomplete__selection",we===O.value&&["v-autocomplete__selection--selected",Z.value]]),style:Ms(we===O.value?ee.value:{})},[Ve.value?i.chip?ae(Aa,{key:"chip-defaults",defaults:{VChip:{closable:t.closableChips,size:"small",text:tt.title}}},{default:()=>[ke]}):ae(mK,Bo({key:"chip",closable:t.closableChips,size:"small",text:tt.title,disabled:tt.props.disabled},He),null):ke??se("span",{class:"v-autocomplete__selection-text"},[tt.title,t.multiple&&we<H.value.length-1&&se("span",{class:"v-autocomplete__selection-comma"},[vs(",")])])])})]),"append-inner":function(){var He,be;for(var tt=arguments.length,we=new Array(tt),Re=0;Re<tt;Re++)we[Re]=arguments[Re];return se(Yo,null,[(He=i["append-inner"])==null?void 0:He.call(i,...we),t.menuIcon?ae(zn,{class:"v-autocomplete__menu-icon",color:(be=g.value)==null?void 0:be.fieldIconColor,icon:t.menuIcon,onMousedown:Sn,onClick:Zme,"aria-label":u(it.value),title:u(it.value),tabindex:"-1"},null):void 0])}})}),Ex({isFocused:h,isPristine:x,menu:R,search:re,filteredItems:j,select:fo},g)}}),rxe={class:"sr-only"},ixe={class:"sr-only"},axe={__name:"Items",setup(t){const r=Se.api(),i=Se.items(),u=Tn(!1),g=Tn(!1),h=Tn("");Tn(!1);const{t:x}=$d.global;async function w(){await Qo(),u.value&&(g.value=!0,h.value="")}async function I(){u.value=!1,i.changeItem(h.value)}return(D,O)=>(Kt(),no(Yo,null,[ae(Eo,{disabled:Q(r).isLoading||!Q(i).previousKey,onClick:O[0]||(O[0]=N=>Q(i).changeItem(Q(i).previousKey))},{default:vt(()=>[ae(zn,{left:"",icon:"mdi-arrow-left-bold"}),se("span",rxe,Be(D.$t("itemsPreviousWriter")),1)]),_:1},8,["disabled"]),ae(Eo,{disabled:Q(r).isLoading,id:"app-items-menu-activator"},{default:vt(()=>[Mn(se("span",null,Be(D.$t("allLoadData")),513),[[uo,Q(r).isLoading]]),Mn(se("span",null,Be(Q(i).currentItem.title),513),[[uo,!Q(r).isLoading&&Q(i).currentItem!==void 0]])]),_:1},8,["disabled"]),ae(Eo,{disabled:Q(r).isLoading||!Q(i).nextKey,onClick:O[1]||(O[1]=N=>Q(i).changeItem(Q(i).nextKey))},{default:vt(()=>[ae(zn,{left:"",icon:"mdi-arrow-right-bold"}),se("span",ixe,Be(D.$t("itemsNextWriter")),1)]),_:1},8,["disabled"]),ae(SI,{disabled:Q(r).isLoading,modelValue:u.value,"onUpdate:modelValue":[O[4]||(O[4]=N=>u.value=N),O[5]||(O[5]=N=>w())],activator:"#app-items-menu-activator","close-on-content-click":!1},{default:vt(()=>[g.value?(Kt(),$o(yK,{key:0,id:"app-items-autocomplete",modelValue:h.value,"onUpdate:modelValue":[O[2]||(O[2]=N=>h.value=N),O[3]||(O[3]=N=>I())],items:Q(i).sortedItems,menu:!0,"item-title":"title","item-value":"key",autofocus:"","auto-select-first":"",class:"flex-full-width",density:"comfortable","item-props":"","menu-icon":"",placeholder:D.$t("itemsWriter"),"prepend-inner-icon":"mdi-magnify",theme:"light",variant:"solo"},null,8,["modelValue","items","placeholder"])):Wn("",!0)]),_:1},8,["disabled","modelValue"])],64))}},lxe={class:"sr-only"},cxe={class:"sr-only"},uxe={__name:"Tasks",setup(t){const r=Se.api(),i=Se.items(),u=Se.tasks(),g=Tn(!1),h=Tn(!1),x=Tn("");Tn(!1);const{t:w}=$d.global;async function I(){await Qo(),g.value&&(h.value=!0,x.value="")}async function D(){var O;g.value=!1,i.changeItem((O=i.getByTask(x.value))==null?void 0:O.key)}return(O,N)=>(Kt(),no(Yo,null,[ae(Eo,{disabled:Q(r).isLoading||!Q(u).previousKey,onClick:N[0]||(N[0]=V=>{var U;return Q(i).changeItem((U=Q(i).getByTask(Q(u).previousKey))==null?void 0:U.key)})},{default:vt(()=>[ae(zn,{left:"",icon:"mdi-arrow-left-bold"}),se("span",lxe,Be(O.$t("tasksPreviousTask")),1)]),_:1},8,["disabled"]),ae(Eo,{disabled:Q(r).isLoading,id:"app-tasks-menu-activator"},{default:vt(()=>{var V;return[Mn(se("span",null,Be(O.$t("allLoadData")),513),[[uo,Q(r).isLoading]]),Mn(se("span",null,Be((V=Q(u).currentTask)==null?void 0:V.title),513),[[uo,!Q(r).isLoading&&Q(i).currentItem!==void 0]])]}),_:1},8,["disabled"]),ae(Eo,{disabled:Q(r).isLoading||!Q(u).nextKey,onClick:N[1]||(N[1]=V=>{var U;return Q(i).changeItem((U=Q(i).getByTask(Q(u).nextKey))==null?void 0:U.key)})},{default:vt(()=>[ae(zn,{left:"",icon:"mdi-arrow-right-bold"}),se("span",cxe,Be(O.$t("tasksNextTask")),1)]),_:1},8,["disabled"]),ae(SI,{disabled:Q(r).isLoading,modelValue:g.value,"onUpdate:modelValue":[N[4]||(N[4]=V=>g.value=V),N[5]||(N[5]=V=>I())],activator:"#app-tasks-menu-activator","close-on-content-click":!1},{default:vt(()=>[h.value?(Kt(),$o(yK,{key:0,id:"app-taks-autocomplete",modelValue:x.value,"onUpdate:modelValue":[N[2]||(N[2]=V=>x.value=V),N[3]||(N[3]=V=>D())],items:Q(u).sortedTasks,menu:!0,"item-title":"title","item-value":"key",autofocus:"","auto-select-first":"",class:"flex-full-width",density:"comfortable","item-props":"","menu-icon":"",placeholder:O.$t("tasksTasks"),"prepend-inner-icon":"mdi-magnify",theme:"light",variant:"solo"},null,8,["modelValue","items","placeholder"])):Wn("",!0)]),_:1},8,["disabled","modelValue"])],64))}},dxe=Bn({text:String,...Hs(),...la()},"VToolbarTitle"),fxe=Vo()({name:"VToolbarTitle",props:dxe(),setup(t,r){let{slots:i}=r;return Cs(()=>{const u=!!(i.default||i.text||t.text);return ae(t.tag,{class:lo(["v-toolbar-title",t.class]),style:Ms(t.style)},{default:()=>{var g;return[u&&se("div",{class:"v-toolbar-title__placeholder"},[i.text?i.text():t.text,(g=i.default)==null?void 0:g.call(i)])]}})}),{}}}),mxe=[null,"prominent","default","comfortable","compact"],Tte=Bn({absolute:Boolean,collapse:Boolean,color:String,density:{type:String,default:"default",validator:t=>mxe.includes(t)},extended:{type:Boolean,default:null},extensionHeight:{type:[Number,String],default:48},flat:Boolean,floating:Boolean,height:{type:[Number,String],default:64},image:String,title:String,...r1(),...Hs(),...a1(),...Om(),...la({tag:"header"}),...yl()},"VToolbar"),rX=Vo()({name:"VToolbar",props:Tte(),setup(t,r){var U;let{slots:i}=r;const{backgroundColorClasses:u,backgroundColorStyles:g}=dp(()=>t.color),{borderClasses:h}=i1(t),{elevationClasses:x}=l1(t),{roundedClasses:w}=Rm(t),{themeClasses:I}=ac(t),{rtlClasses:D}=Qg(),O=bo(t.extended===null?!!((U=i.extension)!=null&&U.call(i)):t.extended),N=Rt(()=>parseInt(Number(t.height)+(t.density==="prominent"?Number(t.height):0)-(t.density==="comfortable"?8:0)-(t.density==="compact"?16:0),10)),V=Rt(()=>O.value?parseInt(Number(t.extensionHeight)+(t.density==="prominent"?Number(t.extensionHeight):0)-(t.density==="comfortable"?4:0)-(t.density==="compact"?8:0),10):0);return Sx({VBtn:{variant:"text"}}),Cs(()=>{var H;const Z=!!(t.title||i.title),ee=!!(i.image||t.image),re=(H=i.extension)==null?void 0:H.call(i);return O.value=t.extended===null?!!re:t.extended,ae(t.tag,{class:lo(["v-toolbar",{"v-toolbar--absolute":t.absolute,"v-toolbar--collapse":t.collapse,"v-toolbar--flat":t.flat,"v-toolbar--floating":t.floating,[`v-toolbar--density-${t.density}`]:!0},u.value,h.value,x.value,w.value,I.value,D.value,t.class]),style:Ms([g.value,t.style])},{default:()=>[ee&&se("div",{key:"image",class:"v-toolbar__image"},[i.image?ae(Aa,{key:"image-defaults",disabled:!t.image,defaults:{VImg:{cover:!0,src:t.image}}},i.image):ae(xI,{key:"image-img",cover:!0,src:t.image},null)]),ae(Aa,{defaults:{VTabs:{height:ws(N.value)}}},{default:()=>{var de,le,j;return[se("div",{class:"v-toolbar__content",style:{height:ws(N.value)}},[i.prepend&&se("div",{class:"v-toolbar__prepend"},[(de=i.prepend)==null?void 0:de.call(i)]),Z&&ae(fxe,{key:"title",text:t.title},{text:i.title}),(le=i.default)==null?void 0:le.call(i),i.append&&se("div",{class:"v-toolbar__append"},[(j=i.append)==null?void 0:j.call(i)])])]}}),ae(Aa,{defaults:{VTabs:{height:ws(V.value)}}},{default:()=>[ae(Kee,null,{default:()=>[O.value&&se("div",{class:"v-toolbar__extension",style:{height:ws(V.value)}},[re])]})]})]})}),{contentHeight:N,extensionHeight:V}}}),gxe=Bn({scrollTarget:{type:String},scrollThreshold:{type:[String,Number],default:300}},"scroll");function hxe(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{canScroll:i}=r;let u=0,g=0;const h=Tn(null),x=bo(0),w=bo(0),I=bo(0),D=bo(!1),O=bo(!1),N=Rt(()=>Number(t.scrollThreshold)),V=Rt(()=>wf((N.value-x.value)/N.value||0)),U=()=>{const Z=h.value;if(!Z||i&&!i.value)return;u=x.value,x.value="window"in Z?Z.pageYOffset:Z.scrollTop;const ee=Z instanceof Window?document.documentElement.scrollHeight:Z.scrollHeight;if(g!==ee){g=ee;return}O.value=x.value<u,I.value=Math.abs(x.value-N.value)};return Rn(O,()=>{w.value=w.value||x.value}),Rn(D,()=>{w.value=0}),Ku(()=>{Rn(()=>t.scrollTarget,Z=>{var re;const ee=Z?document.querySelector(Z):window;ee&&ee!==h.value&&((re=h.value)==null||re.removeEventListener("scroll",U),h.value=ee,h.value.addEventListener("scroll",U,{passive:!0}))},{immediate:!0})}),Ac(()=>{var Z;(Z=h.value)==null||Z.removeEventListener("scroll",U)}),i&&Rn(i,U,{immediate:!0}),{scrollThreshold:N,currentScroll:x,currentThreshold:I,isScrollActive:D,scrollRatio:V,isScrollingUp:O,savedScroll:w}}const pxe=Bn({scrollBehavior:String,modelValue:{type:Boolean,default:!0},location:{type:String,default:"top",validator:t=>["top","bottom"].includes(t)},...Tte(),...TQ(),...gxe(),height:{type:[Number,String],default:64}},"VAppBar"),Ote=Vo()({name:"VAppBar",props:pxe(),emits:{"update:modelValue":t=>!0},setup(t,r){let{slots:i}=r;const u=Tn(),g=Ri(t,"modelValue"),h=Rt(()=>{var le;const de=new Set(((le=t.scrollBehavior)==null?void 0:le.split(" "))??[]);return{hide:de.has("hide"),fullyHide:de.has("fully-hide"),inverted:de.has("inverted"),collapse:de.has("collapse"),elevate:de.has("elevate"),fadeImage:de.has("fade-image")}}),x=Rt(()=>{const de=h.value;return de.hide||de.fullyHide||de.inverted||de.collapse||de.elevate||de.fadeImage||!g.value}),{currentScroll:w,scrollThreshold:I,isScrollingUp:D,scrollRatio:O}=hxe(t,{canScroll:x}),N=pn(()=>h.value.hide||h.value.fullyHide),V=Rt(()=>t.collapse||h.value.collapse&&(h.value.inverted?O.value>0:O.value===0)),U=Rt(()=>t.flat||h.value.fullyHide&&!g.value||h.value.elevate&&(h.value.inverted?w.value>0:w.value===0)),Z=Rt(()=>h.value.fadeImage?h.value.inverted?1-O.value:O.value:void 0),ee=Rt(()=>{var j,fe;if(h.value.hide&&h.value.inverted)return 0;const de=((j=u.value)==null?void 0:j.contentHeight)??0,le=((fe=u.value)==null?void 0:fe.extensionHeight)??0;return N.value?w.value<I.value||h.value.fullyHide?de+le:de:de+le});Xg(()=>!!t.scrollBehavior,()=>{Bd(()=>{N.value?h.value.inverted?g.value=w.value>I.value:g.value=D.value||w.value<I.value:g.value=!0})});const{ssrBootStyles:re}=c8(),{layoutItemStyles:H}=OQ({id:t.name,order:Rt(()=>parseInt(t.order,10)),position:pn(()=>t.location),layoutSize:ee,elementSize:bo(void 0),active:g,absolute:pn(()=>t.absolute)});return Cs(()=>{const de=rX.filterProps(t);return ae(rX,Bo({ref:u,class:["v-app-bar",{"v-app-bar--bottom":t.location==="bottom"},t.class],style:[{...H.value,"--v-toolbar-image-opacity":Z.value,height:void 0,...re.value},t.style]},de,{collapse:V.value,flat:U.value}),i)}),{}}}),bxe=Bn({fluid:{type:Boolean,default:!1},...Hs(),...bp(),...la()},"VContainer"),IE=Vo()({name:"VContainer",props:bxe(),setup(t,r){let{slots:i}=r;const{rtlClasses:u}=Qg(),{dimensionStyles:g}=vp(t);return Cs(()=>ae(t.tag,{class:lo(["v-container",{"v-container--fluid":t.fluid},u.value,t.class]),style:Ms([g.value,t.style])},i)),{}}}),Rte=jF.reduce((t,r)=>(t[r]={type:[Boolean,String,Number],default:!1},t),{}),Ite=jF.reduce((t,r)=>{const i="offset"+n1(r);return t[i]={type:[String,Number],default:null},t},{}),Dte=jF.reduce((t,r)=>{const i="order"+n1(r);return t[i]={type:[String,Number],default:null},t},{}),iX={col:Object.keys(Rte),offset:Object.keys(Ite),order:Object.keys(Dte)};function vxe(t,r,i){let u=t;if(!(i==null||i===!1)){if(r){const g=r.replace(t,"");u+=`-${g}`}return t==="col"&&(u="v-"+u),t==="col"&&(i===""||i===!0)||(u+=`-${i}`),u.toLowerCase()}}const yxe=["auto","start","end","center","baseline","stretch"],xxe=Bn({cols:{type:[Boolean,String,Number],default:!1},...Rte,offset:{type:[String,Number],default:null},...Ite,order:{type:[String,Number],default:null},...Dte,alignSelf:{type:String,default:null,validator:t=>yxe.includes(t)},...Hs(),...la()},"VCol"),Ml=Vo()({name:"VCol",props:xxe(),setup(t,r){let{slots:i}=r;const u=Rt(()=>{const g=[];let h;for(h in iX)iX[h].forEach(w=>{const I=t[w],D=vxe(h,w,I);D&&g.push(D)});const x=g.some(w=>w.startsWith("v-col-"));return g.push({"v-col":!x||!t.cols,[`v-col-${t.cols}`]:t.cols,[`offset-${t.offset}`]:t.offset,[`order-${t.order}`]:t.order,[`align-self-${t.alignSelf}`]:t.alignSelf}),g});return()=>{var g;return Ub(t.tag,{class:[u.value,t.class],style:t.style},(g=i.default)==null?void 0:g.call(i))}}}),xK=["start","end","center"],Pte=["space-between","space-around","space-evenly"];function wK(t,r){return jF.reduce((i,u)=>{const g=t+n1(u);return i[g]=r(),i},{})}const wxe=[...xK,"baseline","stretch"],Nte=t=>wxe.includes(t),Lte=wK("align",()=>({type:String,default:null,validator:Nte})),Cxe=[...xK,...Pte],Mte=t=>Cxe.includes(t),Bte=wK("justify",()=>({type:String,default:null,validator:Mte})),_xe=[...xK,...Pte,"stretch"],Fte=t=>_xe.includes(t),$te=wK("alignContent",()=>({type:String,default:null,validator:Fte})),aX={align:Object.keys(Lte),justify:Object.keys(Bte),alignContent:Object.keys($te)},Sxe={align:"align",justify:"justify",alignContent:"align-content"};function kxe(t,r,i){let u=Sxe[t];if(i!=null){if(r){const g=r.replace(t,"");u+=`-${g}`}return u+=`-${i}`,u.toLowerCase()}}const Exe=Bn({dense:Boolean,noGutters:Boolean,align:{type:String,default:null,validator:Nte},...Lte,justify:{type:String,default:null,validator:Mte},...Bte,alignContent:{type:String,default:null,validator:Fte},...$te,...Hs(),...la()},"VRow"),Z0=Vo()({name:"VRow",props:Exe(),setup(t,r){let{slots:i}=r;const u=Rt(()=>{const g=[];let h;for(h in aX)aX[h].forEach(x=>{const w=t[x],I=kxe(h,x,w);I&&g.push(I)});return g.push({"v-row--no-gutters":t.noGutters,"v-row--dense":t.dense,[`align-${t.align}`]:t.align,[`justify-${t.justify}`]:t.justify,[`align-content-${t.alignContent}`]:t.alignContent}),g});return()=>{var g;return Ub(t.tag,{class:["v-row",u.value,t.class],style:t.style},(g=i.default)==null?void 0:g.call(i))}}}),CK=KF("v-spacer","div","VSpacer"),Axe={__name:"AppBar",setup(t){const r=Se.api();Se.tasks(),Se.changes();const i=Se.layout();async function u(){if(i.focusTarget=="header"){await Qo();for(const h of document.getElementsByClassName("app-header-item"))if(!h.disabled){h.focus();break}}}Rn(()=>i.focusChange,u);async function g(){Se.changes().countChanges==0||await r.saveChangesToBackend(!0)?window.location=r.returnUrl:Se.layout().showSendFailure=!0}return(h,x)=>(Kt(),$o(Ote,{elevation:"1",color:"white",density:"compact"},{default:vt(()=>[Q(Se).tasks().countTasks>1?(Kt(),$o(uxe,{key:0})):Wn("",!0),ae(axe),ae(CK),ae(J1e),ae(Eo,{class:"app-header-item",onClick:x[0]||(x[0]=w=>g())},{default:vt(()=>[ae(zn,{left:"",icon:"mdi-logout-variant"}),se("span",null,Be(h.$t("appBarReturn")),1)]),_:1})]),_:1}))}},Txe={__name:"SendingStatus",setup(t){const r=Se.api(),i=Se.changes();function u(){return i.countChanges==0}function g(){return r.lastSendingTry>0}return(h,x)=>(Kt(),$o(_I,{tabindex:"-1"},{default:vt(()=>[ae(eu,{"aria-role":"button",class:"app-navigation-item",tabindex:"0",onClick:x[0]||(x[0]=w=>Q(r).saveChangesToBackend()),disabled:u(),"aria-label":g()?h.$t("SendingStatusSending"):u()?h.$t("SendingStatusSent"):h.$t("SendingStatusSend"),title:g()?h.$t("SendingStatusSending"):u()?h.$t("SendingStatusSent"):h.$t("SendingStatusSend"),ripple:!1},{prepend:vt(()=>[ae(zn,{"aria-role":"hidden",icon:g()?"mdi-cloud-upload":u()?"mdi-cloud-check-outline":"mdi-cloud-outline"},null,8,["icon"])]),_:1},8,["disabled","aria-label","title"])]),_:1}))}};function Oxe(t){let{rootEl:r,isSticky:i,layoutItemStyles:u}=t;const g=bo(!1),h=bo(0),x=Rt(()=>{const D=typeof g.value=="boolean"?"top":g.value;return[i.value?{top:"auto",bottom:"auto",height:void 0}:void 0,g.value?{[D]:ws(h.value)}:{top:u.value.top}]});Ku(()=>{Rn(i,D=>{D?window.addEventListener("scroll",I,{passive:!0}):window.removeEventListener("scroll",I)},{immediate:!0})}),Ac(()=>{window.removeEventListener("scroll",I)});let w=0;function I(){const D=w>window.scrollY?"up":"down",O=r.value.getBoundingClientRect(),N=parseFloat(u.value.top??0),V=window.scrollY-Math.max(0,h.value-N),U=O.height+Math.max(h.value,N)-window.scrollY-window.innerHeight,Z=parseFloat(getComputedStyle(r.value).getPropertyValue("--v-body-scroll-y"))||0;O.height<window.innerHeight-N?(g.value="top",h.value=N):D==="up"&&g.value==="bottom"||D==="down"&&g.value==="top"?(h.value=window.scrollY+O.top-Z,g.value=!0):D==="down"&&U<=0?(h.value=0,g.value="bottom"):D==="up"&&V<=0&&(Z?g.value!=="top"&&(h.value=-V+Z+N,g.value="top"):(h.value=O.top+V,g.value="top")),w=window.scrollY}return{isStuck:g,stickyStyles:x}}const Rxe=100,Ixe=20;function lX(t){return(t<0?-1:1)*Math.sqrt(Math.abs(t))*1.41421356237}function cX(t){if(t.length<2)return 0;if(t.length===2)return t[1].t===t[0].t?0:(t[1].d-t[0].d)/(t[1].t-t[0].t);let r=0;for(let i=t.length-1;i>0;i--){if(t[i].t===t[i-1].t)continue;const u=lX(r),g=(t[i].d-t[i-1].d)/(t[i].t-t[i-1].t);r+=(g-u)*Math.abs(g),i===t.length-1&&(r*=.5)}return lX(r)*1e3}function Dxe(){const t={};function r(g){Array.from(g.changedTouches).forEach(h=>{(t[h.identifier]??(t[h.identifier]=new nQ(Ixe))).push([g.timeStamp,h])})}function i(g){Array.from(g.changedTouches).forEach(h=>{delete t[h.identifier]})}function u(g){var D;const h=(D=t[g])==null?void 0:D.values().reverse();if(!h)throw new Error(`No samples for touch id ${g}`);const x=h[0],w=[],I=[];for(const O of h){if(x[0]-O[0]>Rxe)break;w.push({t:O[0],d:O[1].clientX}),I.push({t:O[0],d:O[1].clientY})}return{x:cX(w),y:cX(I),get direction(){const{x:O,y:N}=this,[V,U]=[Math.abs(O),Math.abs(N)];return V>U&&O>=0?"right":V>U&&O<=0?"left":U>V&&N>=0?"down":U>V&&N<=0?"up":Pxe()}}}return{addMovement:r,endTouch:i,getVelocity:u}}function Pxe(){throw new Error}function Nxe(t){let{el:r,isActive:i,isTemporary:u,width:g,touchless:h,position:x}=t;Ku(()=>{window.addEventListener("touchstart",de,{passive:!0}),window.addEventListener("touchmove",le,{passive:!1}),window.addEventListener("touchend",j,{passive:!0})}),Ac(()=>{window.removeEventListener("touchstart",de),window.removeEventListener("touchmove",le),window.removeEventListener("touchend",j)});const w=Rt(()=>["left","right"].includes(x.value)),{addMovement:I,endTouch:D,getVelocity:O}=Dxe();let N=!1;const V=bo(!1),U=bo(0),Z=bo(0);let ee;function re(ne,Ve){return(x.value==="left"?ne:x.value==="right"?document.documentElement.clientWidth-ne:x.value==="top"?ne:x.value==="bottom"?document.documentElement.clientHeight-ne:rE())-(Ve?g.value:0)}function H(ne){let Ve=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const Fe=x.value==="left"?(ne-Z.value)/g.value:x.value==="right"?(document.documentElement.clientWidth-ne-Z.value)/g.value:x.value==="top"?(ne-Z.value)/g.value:x.value==="bottom"?(document.documentElement.clientHeight-ne-Z.value)/g.value:rE();return Ve?wf(Fe):Fe}function de(ne){if(h.value)return;const Ve=ne.changedTouches[0].clientX,Fe=ne.changedTouches[0].clientY,Xe=25,rt=x.value==="left"?Ve<Xe:x.value==="right"?Ve>document.documentElement.clientWidth-Xe:x.value==="top"?Fe<Xe:x.value==="bottom"?Fe>document.documentElement.clientHeight-Xe:rE(),xe=i.value&&(x.value==="left"?Ve<g.value:x.value==="right"?Ve>document.documentElement.clientWidth-g.value:x.value==="top"?Fe<g.value:x.value==="bottom"?Fe>document.documentElement.clientHeight-g.value:rE());(rt||xe||i.value&&u.value)&&(ee=[Ve,Fe],Z.value=re(w.value?Ve:Fe,i.value),U.value=H(w.value?Ve:Fe),N=Z.value>-20&&Z.value<80,D(ne),I(ne))}function le(ne){const Ve=ne.changedTouches[0].clientX,Fe=ne.changedTouches[0].clientY;if(N){if(!ne.cancelable){N=!1;return}const rt=Math.abs(Ve-ee[0]),xe=Math.abs(Fe-ee[1]);(w.value?rt>xe&&rt>3:xe>rt&&xe>3)?(V.value=!0,N=!1):(w.value?xe:rt)>3&&(N=!1)}if(!V.value)return;ne.preventDefault(),I(ne);const Xe=H(w.value?Ve:Fe,!1);U.value=Math.max(0,Math.min(1,Xe)),Xe>1?Z.value=re(w.value?Ve:Fe,!0):Xe<0&&(Z.value=re(w.value?Ve:Fe,!1))}function j(ne){if(N=!1,!V.value)return;I(ne),V.value=!1;const Ve=O(ne.changedTouches[0].identifier),Fe=Math.abs(Ve.x),Xe=Math.abs(Ve.y);(w.value?Fe>Xe&&Fe>400:Xe>Fe&&Xe>3)?i.value=Ve.direction===({left:"right",right:"left",top:"down",bottom:"up"}[x.value]||rE()):i.value=U.value>.5}const fe=Rt(()=>V.value?{transform:x.value==="left"?`translateX(calc(-100% + ${U.value*g.value}px))`:x.value==="right"?`translateX(calc(100% - ${U.value*g.value}px))`:x.value==="top"?`translateY(calc(-100% + ${U.value*g.value}px))`:x.value==="bottom"?`translateY(calc(100% - ${U.value*g.value}px))`:rE(),transition:"none"}:void 0);return Xg(V,()=>{var Fe,Xe;const ne=((Fe=r.value)==null?void 0:Fe.style.transform)??null,Ve=((Xe=r.value)==null?void 0:Xe.style.transition)??null;Bd(()=>{var rt,xe,_e,R;(xe=r.value)==null||xe.style.setProperty("transform",((rt=fe.value)==null?void 0:rt.transform)||"none"),(R=r.value)==null||R.style.setProperty("transition",((_e=fe.value)==null?void 0:_e.transition)||null)}),ic(()=>{var rt,xe;(rt=r.value)==null||rt.style.setProperty("transform",ne),(xe=r.value)==null||xe.style.setProperty("transition",Ve)})}),{isDragging:V,dragProgress:U,dragStyles:fe}}function rE(){throw new Error}const Lxe=["start","end","left","right","top","bottom"],Mxe=Bn({color:String,disableResizeWatcher:Boolean,disableRouteWatcher:Boolean,expandOnHover:Boolean,floating:Boolean,modelValue:{type:Boolean,default:null},permanent:Boolean,rail:{type:Boolean,default:null},railWidth:{type:[Number,String],default:56},scrim:{type:[Boolean,String],default:!0},image:String,temporary:Boolean,persistent:Boolean,touchless:Boolean,width:{type:[Number,String],default:256},location:{type:String,default:"start",validator:t=>Lxe.includes(t)},sticky:Boolean,...r1(),...Hs(),...qee(),...CQ({mobile:null}),...a1(),...TQ(),...Om(),...la({tag:"nav"}),...yl()},"VNavigationDrawer"),Bxe=Vo()({name:"VNavigationDrawer",props:Mxe(),emits:{"update:modelValue":t=>!0,"update:rail":t=>!0},setup(t,r){let{attrs:i,emit:u,slots:g}=r;const{isRtl:h}=Qg(),{themeClasses:x}=ac(t),{borderClasses:w}=i1(t),{backgroundColorClasses:I,backgroundColorStyles:D}=dp(()=>t.color),{elevationClasses:O}=l1(t),{displayClasses:N,mobile:V}=ZF(t),{roundedClasses:U}=Rm(t),Z=Dee(),ee=Ri(t,"modelValue",null,Et=>!!Et),{ssrBootStyles:re}=c8(),{scopeId:H}=l8(),de=Tn(),le=bo(!1),{runOpenDelay:j,runCloseDelay:fe}=Yee(t,Et=>{le.value=Et}),ne=Rt(()=>t.rail&&t.expandOnHover&&le.value?Number(t.width):Number(t.rail?t.railWidth:t.width)),Ve=Rt(()=>WU(t.location,h.value)),Fe=pn(()=>t.persistent),Xe=Rt(()=>!t.permanent&&(V.value||t.temporary)),rt=Rt(()=>t.sticky&&!Xe.value&&Ve.value!=="bottom");Xg(()=>t.expandOnHover&&t.rail!=null,()=>{Rn(le,Et=>u("update:rail",!Et))}),Xg(()=>!t.disableResizeWatcher,()=>{Rn(Xe,Et=>!t.permanent&&Qo(()=>ee.value=!Et))}),Xg(()=>!t.disableRouteWatcher&&!!Z,()=>{Rn(Z.currentRoute,()=>Xe.value&&(ee.value=!1))}),Rn(()=>t.permanent,Et=>{Et&&(ee.value=!0)}),t.modelValue==null&&!Xe.value&&(ee.value=t.permanent||!V.value);const{isDragging:xe,dragProgress:_e}=Nxe({el:de,isActive:ee,isTemporary:Xe,width:ne,touchless:pn(()=>t.touchless),position:Ve}),R=Rt(()=>{const Et=Xe.value?0:t.rail&&t.expandOnHover?Number(t.railWidth):ne.value;return xe.value?Et*_e.value:Et}),{layoutItemStyles:it,layoutItemScrimStyles:lt}=OQ({id:t.name,order:Rt(()=>parseInt(t.order,10)),position:Ve,layoutSize:R,elementSize:ne,active:NE(ee),disableTransitions:pn(()=>xe.value),absolute:Rt(()=>t.absolute||rt.value&&typeof Lt.value!="string")}),{isStuck:Lt,stickyStyles:Qt}=Oxe({rootEl:de,isSticky:rt,layoutItemStyles:it}),dt=dp(()=>typeof t.scrim=="string"?t.scrim:null),Sn=Rt(()=>({...xe.value?{opacity:_e.value*.2,transition:"none"}:void 0,...lt.value}));return Sx({VList:{bgColor:"transparent"}}),Cs(()=>{const Et=g.image||t.image;return se(Yo,null,[ae(t.tag,Bo({ref:de,onMouseenter:j,onMouseleave:fe,class:["v-navigation-drawer",`v-navigation-drawer--${Ve.value}`,{"v-navigation-drawer--expand-on-hover":t.expandOnHover,"v-navigation-drawer--floating":t.floating,"v-navigation-drawer--is-hovering":le.value,"v-navigation-drawer--rail":t.rail,"v-navigation-drawer--temporary":Xe.value,"v-navigation-drawer--persistent":Fe.value,"v-navigation-drawer--active":ee.value,"v-navigation-drawer--sticky":rt.value},x.value,I.value,w.value,N.value,O.value,U.value,t.class],style:[D.value,it.value,re.value,Qt.value,t.style]},H,i),{default:()=>{var et,Me,ft;return[Et&&se("div",{key:"image",class:"v-navigation-drawer__img"},[g.image?ae(Aa,{key:"image-defaults",disabled:!t.image,defaults:{VImg:{alt:"",cover:!0,height:"inherit",src:t.image}}},g.image):ae(xI,{key:"image-img",alt:"",cover:!0,height:"inherit",src:t.image},null)]),g.prepend&&se("div",{class:"v-navigation-drawer__prepend"},[(et=g.prepend)==null?void 0:et.call(g)]),se("div",{class:"v-navigation-drawer__content"},[(Me=g.default)==null?void 0:Me.call(g)]),g.append&&se("div",{class:"v-navigation-drawer__append"},[(ft=g.append)==null?void 0:ft.call(g)])]}}),ae(xx,{name:"fade-transition"},{default:()=>[Xe.value&&(xe.value||ee.value)&&!!t.scrim&&se("div",Bo({class:["v-navigation-drawer__scrim",dt.backgroundColorClasses.value],style:[Sn.value,dt.backgroundColorStyles.value],onClick:()=>{Fe.value||(ee.value=!1)}},H),null)]})])}),{isStuck:Lt}}}),Fxe={__name:"NavBar",setup(t){Se.api();const r=Se.layout();Se.items();const i=Se.resources(),u=Se.corrections(),g=Se.tasks();async function h(){if(r.focusTarget=="navigation"){await Qo();for(const V of document.getElementsByClassName("app-navigation-item")){V.focus();break}}}Rn(()=>r.focusChange,h);function x(){document.getElementById("app-navigation-drawer").dispatchEvent(new Event("mouseenter"))}function w(){document.getElementById("app-navigation-drawer").dispatchEvent(new Event("mouseleave"))}function I(V){V.keyCode==27?w():r.handleKeyDown(V)}function D(V){V.type=="url"&&!V.embedded?window.open(V.source,"long-essay-writer-resource-"+V.key):(i.selectResource(V),r.showResources())}function O(V){switch(V.type){case"url":return i.getResourceIsActive(V)&&r.isResourcesVisible?"mdi-file-link":"mdi-file-link-outline";default:return i.getResourceIsActive(V)&&r.isResourcesVisible?"mdi-file":"mdi-file-outline"}}function N(V){return V.title+" - "+V.initials+" "+Jr.buildPositionText(V.position)}return(V,U)=>(Kt(),$o(Bxe,{id:"app-navigation-drawer",elevation:"2",width:"500",permanent:"",rail:"","expand-on-hover":"",onFocusin:x,onFocusout:w,onKeydown:I},{append:vt(()=>[ae(Txe)]),default:vt(()=>[ae(_I,{tabindex:"-1"},{default:vt(()=>[Mn(ae(eu,{"aria-role":"button",class:"app-navigation-item",tabindex:"0",onClick:U[0]||(U[0]=Z=>{Q(r).showInstructions()}),"aria-label":V.$t("allInstructions")+Q(r).isInstructionsVisible?V.$t("navBarSelectedAria"):"",title:V.$t("allInstructions")+(Q(r).isInstructionsVisible?V.$t("navBarSelected"):""),ripple:!1},{prepend:vt(()=>[ae(zn,{"aria-role":"hidden",icon:Q(r).isInstructionsVisible?"mdi-text-box":"mdi-text-box-outline"},null,8,["icon"])]),_:1},8,["aria-label","title"]),[[uo,Q(g).hasInstructions]]),Mn(ae(eu,{"aria-role":"button",class:"app-navigation-item",tabindex:"0",onClick:U[1]||(U[1]=Z=>{Q(r).showInstructionsPdf()}),"aria-label":V.$t("allInstructionsPdf")+(Q(r).isInstructionsPdfVisible?V.$t("navBarSelectedAria"):""),title:V.$t("allInstructionsPdf")+(Q(r).isInstructionsPdfVisible?V.$t("navBarSelected"):""),ripple:!1},{prepend:vt(()=>[ae(zn,{"aria-role":"hidden",icon:Q(r).isInstructionsPdfVisible?"mdi-text-box":"mdi-text-box-outline"},null,8,["icon"])]),_:1},8,["aria-label","title"]),[[uo,Q(i).hasInstruction]]),Mn(ae(eu,{"aria-role":"button",class:"app-navigation-item",tabindex:"0",onClick:U[2]||(U[2]=Z=>{Q(r).showSolution()}),"aria-label":V.$t("allSolution")+(Q(r).isSolutionVisible?V.$t("navBarSelectedAria"):""),title:V.$t("allSolution")+(Q(r).isSolutionVisible?V.$t("navBarSelected"):""),ripple:!1},{prepend:vt(()=>[ae(zn,{"aria-role":"hidden",icon:Q(r).isSolutionVisible?"mdi-text-box-check":"mdi-text-box-check-outline"},null,8,["icon"])]),_:1},8,["aria-label","title"]),[[uo,Q(g).hasSolution]]),Mn(ae(eu,{"aria-role":"button",class:"app-navigation-item",tabindex:"0",onClick:U[3]||(U[3]=Z=>{Q(r).showSolutionPdf()}),"aria-label":V.$t("allSolutionPdf")+(Q(r).isSolutionPdfVisible?V.$t("navBarSelectedAria"):""),title:V.$t("allSolutionPdf")+(Q(r).isSolutionPdfVisible?V.$t("navBarSelected"):""),ripple:!1},{prepend:vt(()=>[ae(zn,{"aria-role":"hidden",icon:Q(r).isSolutionPdfVisible?"mdi-text-box-check":"mdi-text-box-check-outline"},null,8,["icon"])]),_:1},8,["aria-label","title"]),[[uo,Q(i).hasSolution]]),(Kt(!0),no(Yo,null,J0(Q(i).fileOrUrlResources,Z=>(Kt(),$o(eu,{"aria-role":"button",class:"app-navigation-item",tabindex:"0",onClick:ee=>{D(Z)},"aria-label":Z.title+(Q(i).getResourceIsActive(Z)&&Q(r).isResourcesVisible?", ist ausgewhlt":""),title:Z.title+(Q(i).getResourceIsActive(Z)&&Q(r).isResourcesVisible?V.$t("navBarSelected"):""),key:Z.key,ripple:!1},{prepend:vt(()=>[ae(zn,{"aria-role":"hidden",icon:O(Z)},null,8,["icon"])]),_:2},1032,["onClick","aria-label","title"]))),128)),Mn(ae(xE,{class:"border-opacity-75"},null,512),[[uo,Q(g).hasTexts||Q(i).hasResources]]),ae(eu,{"aria-role":"button",class:"app-navigation-item",tabindex:"0",onClick:U[4]||(U[4]=Z=>{Q(r).showEssay()}),"aria-label":V.$t("allEssayAndCorrection")+(Q(r).isEssayVisible?V.$t("navBarSelectedAria"):""),title:V.$t("allEssayAndCorrection")+(Q(r).isEssayVisible?V.$t("navBarSelected"):""),ripple:!1},{prepend:vt(()=>[ae(zn,{"aria-role":"hidden",icon:Q(r).isEssayVisible&&Q(r).isMarkingVisible?"mdi-comment-edit":"mdi-comment-edit-outline"},null,8,["icon"])]),_:1},8,["aria-label","title"]),ae(xE,{class:"border-opacity-75"}),(Kt(!0),no(Yo,null,J0(Q(u).otherCorrections,Z=>(Kt(),$o(eu,{"aria-role":"button",class:"app-navigation-item",tabindex:"0",onClick:ee=>{Q(r).selectCorrection(Z.key)},"aria-label":N(Z)+(Q(r).getCorrectionIsVisible(Z.key)?V.$t("navBarSelectedAria"):""),title:N(Z)+(Q(r).getCorrectionIsVisible(Z.key)?V.$t("navBarSelected"):""),key:Z.correction_key,ripple:!1},{prepend:vt(()=>[ae(zn,{"aria-role":"hidden",icon:Q(r).getCorrectionIsVisible(Z.key)?"mdi-account-school":"mdi-account-school-outline"},null,8,["icon"])]),_:2},1032,["onClick","aria-label","title"]))),128)),ae(eu,{"aria-role":"button",class:"app-navigation-item",tabindex:"0",onClick:U[5]||(U[5]=Z=>{Q(r).showSummary()}),"aria-label":V.$t("allOwnSummaryAndRating")+(Q(r).isSummaryVisible?V.$t("navBarSelectedAria"):""),title:V.$t("allOwnSummaryAndRating")+(Q(r).isSummaryVisible?V.$t("navBarSelected"):""),ripple:!1},{prepend:vt(()=>[ae(zn,{"aria-role":"hidden",icon:Q(r).isSummaryVisible?"mdi-file-edit":"mdi-file-edit-outline"},null,8,["icon"])]),_:1},8,["aria-label","title"]),ae(xE,{class:"border-opacity-75"})]),_:1})]),_:1}))}},$xe=aa(Fxe,[["__scopeId","data-v-bd2e2ba6"]]),Vxe=["innerHTML"],zxe={__name:"Instructions",setup(t){const r=Se.tasks(),i=Se.layout();function u(h){return h.preventDefault(),!1}async function g(){i.focusTarget=="instructions"&&(await Qo(),document.getElementById("app-instructions").focus())}return g(),Rn(()=>i.focusChange,g),(h,x)=>{var w;return Kt(),no("div",{id:"app-instructions",class:"long-essay-content",contenteditable:"true",onBeforeinput:u,innerHTML:(w=Q(r).currentTask)==null?void 0:w.instructions},null,40,Vxe)}}},Hxe=aa(zxe,[["__scopeId","data-v-f0cb7ed4"]]),Uxe=["data"],Wxe={__name:"InstructionsPdf",setup(t){const i=Se.resources().instruction;return(u,g)=>(Kt(),no("div",null,[Q(i).mimetype=="application/pdf"?(Kt(),no("object",{key:0,type:"application/pdf",data:Q(i).url,width:"100%",height:"100%"},null,8,Uxe)):Wn("",!0)]))}},Kxe=aa(Wxe,[["__scopeId","data-v-3032ccee"]]),jxe=["innerHTML"],Zxe={__name:"Solution",setup(t){const r=Se.tasks(),i=Se.layout();function u(h){return h.preventDefault(),!1}async function g(){i.focusTarget=="solution"&&(await Qo(),document.getElementById("app-solution").focus())}return g(),Rn(()=>i.focusChange,g),(h,x)=>(Kt(),no("div",{id:"app-solution",class:"long-essay-content",contenteditable:"true",onBeforeinput:u,innerHTML:Q(r).solution},null,40,jxe))}},Gxe=aa(Zxe,[["__scopeId","data-v-fbbc007c"]]),qxe=["data"],Yxe={__name:"SolutionPdf",setup(t){const i=Se.resources().solution;return(u,g)=>(Kt(),no("div",null,[Q(i).mimetype=="application/pdf"?(Kt(),no("object",{key:0,type:"application/pdf",data:Q(i).url,width:"100%",height:"100%"},null,8,qxe)):Wn("",!0)]))}},Xxe=aa(Yxe,[["__scopeId","data-v-a5bf3b1f"]]),Jxe={class:"resources"},Qxe={key:0},e2e=["data"],t2e={key:1},n2e=["src"],o2e={__name:"Resources",setup(t){const r=Se.resources();return(i,u)=>(Kt(),no("div",Jxe,[(Kt(!0),no(Yo,null,J0(Q(r).fileOrUrlResources,g=>(Kt(),no(Yo,{key:g.key},[g.type=="file"?Mn((Kt(),no("div",Qxe,[g.mimetype=="application/pdf"?(Kt(),no("object",{key:0,type:"application/pdf",data:g.url,width:"100%",height:"100%"},null,8,e2e)):Wn("",!0)],512)),[[uo,Q(r).getResourceIsActive(g)]]):Wn("",!0),g.type=="url"&&g.embedded==!0?Mn((Kt(),no("div",t2e,[se("iframe",{src:g.source,width:"100%",height:"100%",frameborder:"0",referrerpolicy:"strict-origin-when-cross-origin",allowfullscreen:""},null,8,n2e)],512)),[[uo,Q(r).getResourceIsActive(g)]]):Wn("",!0)],64))),128))]))}},s2e=aa(o2e,[["__scopeId","data-v-9f00696d"]]);class r2e{constructor(r,i,u){_t(this,"observer",null);_t(this,"marks",[]);if(!r)throw new Error("Missing anchor element");this.el=r,i instanceof Function&&(this.onSelection=i,this.el.addEventListener("mouseup",this.selectionHandler.bind(this)),this.el.addEventListener("touchend",this.selectionHandler.bind(this)),this.el.addEventListener("keydown",this.keydownHandler.bind(this))),u instanceof Function&&(this.onIntersection=u,this.observer=new IntersectionObserver(this.intersectionHandler.bind(this),{root:this.el,threshold:[1]}))}onSelection(r){}onIntersection(r){}keydownHandler(r){switch(r.key){case"Enter":r.preventDefault(),this.selectionHandler(r);break;case"Escape":r.preventDefault(),this.removeSelection();break}}selectionHandler(r){let i=this.getSelectionData();i.mouseX=r.clientX,i.mouseY=r.clientY,i.firstWord>0&&i.lastWord>0&&this.onSelection(i)}intersectionHandler(r){let i=0;this.marks.forEach(u=>{(i==0||u.firstWord<i)&&this.isMarkVisible(u.firstWord,u.lastWord)&&(i=u.firstWord)}),this.onIntersection(i)}removeSelection(){window.getSelection().collapseToEnd()}getSelectionData(){const r=window.getSelection(),i=r.getRangeAt(0);if(!r||!i)return{};let u=i.commonAncestorContainer;u.nodeType==3&&(u=u.parentNode.parentNode);let g=0,h=0,x=0;return u.querySelectorAll("w-p").forEach(w=>{if(r.containsNode(w,!0)){let I=parseInt(w.getAttribute("w")),D=parseInt(w.getAttribute("p"));(g==0||I<g)&&(g=I,x=D),I>h&&(h=I)}}),{firstWord:g,lastWord:h,parentNumber:x,isCollapsed:r.isCollapsed}}addLabel(r,i,u){let g=this.el.querySelector('w-p[w="'+u+'"]');g&&(g.setAttribute("label",i),g.classList.add(r))}showMark(r,i,u){this.marks.push({cssClass:r,firstWord:i,lastWord:u}),this.el.querySelectorAll("w-p").forEach(g=>{let h=parseInt(g.getAttribute("w"));h>=i&&h<=u&&g.classList.add(r),this.observer&&(h==i||h==u)&&this.observer.observe(g)})}hideMark(r,i,u){this.marks=this.marks.filter(g=>g.cssClass!=r||g.firstWord!=i||g.lastWord!=u),this.el.querySelectorAll("w-p."+r).forEach(g=>{let h=parseInt(g.getAttribute("w"));h>=i&&h<=u&&g.classList.remove(r),this.observer&&(h==i||h==u)&&this.observer.unobserve(g)})}hideAllMarksOfClass(r){this.marks=this.marks.filter(i=>i.cssClass!=r),this.el.querySelectorAll("w-p."+r).forEach(i=>{i.classList.remove(r)})}hideAllMarksAndLabels(){this.marks=[],this.el.querySelectorAll("w-p[class]").forEach(r=>{r.classList.value=""}),this.observer&&this.observer.disconnect()}hideSelection(){}scrollToMark(r,i){if(!this.isMarkVisible(r,i,!0)){const u=this.el.querySelector('w-p[w="'+r+'"]');u&&u.scrollIntoView()}}setCaretToMark(r){const i=this.el.querySelector('w-p[w="'+r+'"]').childNodes[0];if(i){let u=document.createRange(),g=window.getSelection();u.setStart(i,0),u.collapse(!0),g.removeAllRanges(),g.addRange(u)}}isMarkVisible(r,i,u){const g=this.el.querySelector('w-p[w="'+r+'"]'),h=this.el.querySelector('w-p[w="'+i+'"]');if(!g||!h)return!1;const x=this.el.getBoundingClientRect(),w=g.getBoundingClientRect(),I=h.getBoundingClientRect(),D=w.top>=x.top&&w.bottom<=x.bottom,O=I.top>=x.top&&I.bottom<=x.bottom;return u?D&&O:D||O}}const i2e={id:"app-essay-wrapper"},a2e={class:"appTextButtons"},l2e=["innerHTML"],c2e={__name:"Essay",setup(t){const r=Se.essay(),i=Se.comments(),u=Se.summaries(),g=Se.preferences(),h=Se.settings(),x=Se.layout();let w;Ku(()=>{de(),w=new r2e(document.getElementById("app-essay"),Z,ee),i.activeComments.forEach(le=>U(le))});function I(le){return le.preventDefault(),!1}async function D(){x.focusTarget=="essay"&&(await Qo(),document.getElementById("app-essay").focus())}D(),Rn(()=>x.focusChange,D);function O(){w.hideAllMarksAndLabels(),i.activeComments.forEach(le=>U(le))}Rn(()=>i.markerChange,O),Rn(()=>i.filterChange,O);function N(){w.hideAllMarksOfClass("selected");let le=i.getComment(i.selectedKey);le&&(w.showMark("selected",le.start_position,le.end_position),w.addLabel("labelled",le.label,le.start_position),w.scrollToMark(le.start_position,le.end_position))}Rn(()=>i.selectionChange,N);function V(){let le=i.getComment(i.selectedKey);w.setCaretToMark(le.start_position)}Rn(()=>i.caretRequest,V);function U(le){le.prefix&&(w.hideMark(le.prefix+"-excellent",le.start_position,le.end_position),w.hideMark(le.prefix+"-cardinal",le.start_position,le.end_position),w.hideMark(le.prefix,le.start_position,le.end_position),le.rating_excellent?w.showMark(le.prefix+"-excellent",le.start_position,le.end_position):le.rating_cardinal?w.showMark(le.prefix+"-cardinal",le.start_position,le.end_position):w.showMark(le.prefix,le.start_position,le.end_position)),w.addLabel("labelled",le.label,le.start_position)}async function Z(le){if(!Se.settings().Task.enable_comments)return;let j=i.getActiveCommentsInRange(le.firstWord,le.lastWord);if(j.length){let fe=j.shift();le.isCollapsed?(w.removeSelection(),i.selectComment(fe.key)):(w.removeSelection(),u.isOwnDisabled||i.createComment(le.firstWord,le.lastWord,le.parentNumber))}else le.isCollapsed||(w.removeSelection(),u.isOwnDisabled||i.createComment(le.firstWord,le.lastWord,le.parentNumber))}function ee(le){let j=i.getActiveCommentsByStartPosition(le);if(j.length){let fe=j.shift();i.setFirstVisibleComment(fe.key)}}function re(){g.zoomEssayTextIn(),de()}function H(){g.zoomEssayTextOut(),de()}function de(){document.getElementById("app-essay").style.fontSize=g.essay_text_zoom+"rem"}return(le,j)=>(Kt(),no("div",i2e,[se("div",a2e,[ae(G0,{density:"comfortable",variant:"outlined",divided:""},{default:vt(()=>[ae(Eo,{title:le.$t("essayZoomOut"),size:"small",icon:"mdi-magnify-minus-outline",onClick:j[0]||(j[0]=fe=>H())},null,8,["title"]),ae(Eo,{title:le.$t("essayZoomIn"),size:"small",icon:"mdi-magnify-plus-outline",onClick:j[1]||(j[1]=fe=>re())},null,8,["title"])]),_:1})]),se("div",{contenteditable:"true",id:"app-essay",onBeforeinput:I,class:lo("long-essay-content "+Q(h).headlineClass),innerHTML:Q(r).text},null,42,l2e)]))}},wE=()=>{},uX=(t,r)=>Math.abs(t-r),u2e=(t,r)=>({x:Math.min(t.x,r.x),y:Math.min(t.y,r.y),width:uX(t.x,r.x),height:uX(t.y,r.y)}),Vte=t=>t,eI=t=>typeof t=="object",fE=t=>typeof t=="string",DE=t=>typeof t=="number",kI=t=>typeof t>"u",d2e=t=>[!0,!1].includes(t),zte=(t,r)=>Object.fromEntries(Object.entries(r).map(([i,u])=>[i,t(u,i)])),f2e=(t,r)=>Object.fromEntries(Object.entries(r).filter(([i,u])=>t(u,i))),PR=(t,r)=>f2e((i,u)=>t.includes(u),r),m2e=(t,r)=>eI(r)&&Object.values(zte((i,u)=>i(r[u]),t)).filter(i=>!i).length===0,g2e=(...t)=>r=>t.reduce((i,u)=>u(i),r),tI=(...t)=>g2e(...t.reverse()),nI=Symbol("none"),h2e=t=>r=>r===nI?nI:t(r),p2e=t=>r=>r===nI?t():r,b2e=(t,r)=>tI(...Object.entries(t).map(([i,u])=>p2e(()=>u(r[i])?nI:{key:i,type:u.name,offendingValue:r[i]})))(eI(r)?nI:{type:eI.name,offendingValue:r}),dX=(t,r)=>{const i=u=>u?`Key "${u}" of `:"";h2e(({type:u,key:g=!1})=>WE(`Value does not match required form: ${i(g)}${JSON.stringify(r)} does not satisfy ${u}.`))(b2e(t,r))},AF=(t,r)=>(...i)=>{if(t(...i))return r(...i)},fp=(t,r)=>({x:t,y:r}),Y6=t=>m2e({x:DE,y:DE},t),d8=(t,r)=>({x:t.x+r.x,y:t.y+r.y}),oI=(t,r)=>({x:r.x*t,y:r.y*t}),zC=(t,r)=>d8(t,oI(-1,r)),v2e=t=>({width:t.x,height:t.y}),y2e=t=>fp(t.width,t.height),x2e=(t,r)=>({width:t,height:r}),w2e=(t,r)=>fp(t.x*Math.cos(r)-t.y*Math.sin(r),t.x*Math.sin(r)+t.y*Math.cos(r)),C2e=({x:t,y:r})=>`${t},${r}`,_2e=(t,r)=>t.map(i=>d8(i,r)),S2e=t=>t.map(C2e).join(" "),Hte=(t,r)=>S2e(_2e(t,r)),k2e=(t,r)=>{const[i,u]=t.width/t.height<r.width/r.height?["height","width"]:["width","height"];return{[i]:r[i],[u]:r[i]*(t[u]/t[i])}},WE=t=>{throw new Error(t)},sI=(t,r)=>t||WE(r),fX=t=>()=>t,Ute=(t,r)=>!kI(r.find(t)),E2e=(t,r)=>!Ute(i=>!t(i),r),Wte=t=>t instanceof Array,Kte=t=>{const r=Kte.name+"("+t.name+")";return{[r]:u=>Wte(u)&&E2e(t,u)}[r]},A2e=(t,r)=>Object.entries(t).reduce((i,[u,g])=>g===r[u]?i:[...i,{left:g,right:r[u],name:u}],[]),jte=Reflect.set,T2e=Reflect.deleteProperty,_K=(t,...r)=>t.bind(null,...r),O2e=t=>t.apply.bind(t,null),SK=t=>t.map(r=>r()),R2e=(t,r)=>Object.entries(r).forEach(O2e(t)),I2e=(t,r,i)=>R2e(t[r].bind(t),i),D2e=t=>r=>(t(r),r),iE=(t,r=wE)=>(i=void 0)=>{if(kI(i))return t;r(i),t=i},vU=JSON.stringify,Zb=t=>{let r=(...g)=>WE(`No matching function found for arguments: ${vU(g)}.`);const i={},u=(...g)=>(i[vU(t(...g))]||r)(...g);return u.define=(g,h=void 0)=>{kI(h)?r=g:i[vU(g)]=h},u},wr=(t,...r)=>t.define(...r),Zte=(t,r,i)=>(t.addEventListener(r,i),()=>t.removeEventListener(r,i)),rI=Zb((t,r)=>r);wr(rI,Zte);const kK=(t,r)=>wr(rI,t,(i,u,g)=>{const h=[t,r].map(x=>Zte(i,x,g));return()=>{SK(h)}});kK("mousedown","touchstart");kK("mousemove","touchmove");kK("mouseup","touchend");const $C=Zb(t=>t.constructor.name);wr($C,"MouseEvent",t=>fp(t.clientX,t.clientY));wr($C,"TouchEvent",t=>fp(t.touches[0].clientX,t.touches[0].clientY));const P2e=t=>t.reduce((r,i)=>eI(i.right)&&!Wte(i.right)?[...r,...Gte(i.left,i.right).map(({path:u,...g})=>({path:[i.name,...u],...g}))]:[...r,{path:[i.name],value:i.right}],[]),Gte=(t,r)=>P2e(A2e(t,r)),N2e=(t,r)=>!kI(r.find(i=>qte(i.path,t))),qte=(t,r)=>JSON.stringify(t)===JSON.stringify(r),Yte=(t,r)=>t.length>=r.length&&qte(t.slice(0,r.length),r),EK=(t,r)=>t.length===0?r:eI(r)?EK(t.slice(1),r[t[0]]):WE("Path not found."),Fu=(t,r)=>({requires:i=>Yte(i,t),then:tI(r,_K(EK,t))}),mx=(t,r)=>({requires:fX(!1),then:tI(r,fX(t))}),AK=(t,r)=>({requires:i=>Ute(_K(Yte,i),Object.values(t)),then:i=>r(zte(u=>EK(u,i),t))}),sc=t=>r=>i=>i.setAttribute(t,(DE(r),r)),Xte=()=>t=>r=>jte(r,"textContent",t),iI=t=>r=>i=>i.style.setProperty(t,r),L2e=t=>t.reduce((r,i)=>r.includes(i)?r:[...r,i],[]),TK=(t,r,i)=>r.forEach(({then:u})=>u(t)(i)),mX=(t,r,i,u)=>{const g=({path:x})=>r.filter(w=>w.requires(x)),h=L2e(i.reduce((x,w)=>x.concat(g(w)),[]));TK(t,h,u)},Tm=(t,r)=>t.append(r),PE=(t,r)=>I2e(t,"setAttribute",r),M2e=({start:t,move:r,stop:i=wE})=>{let u=null;return{start:g=>{g.preventDefault(),u=t($C(g))},move:g=>{g.preventDefault(),u=r($C(g),u)},stop:g=>{i(u)}}},B2e=(t,r)=>Array.from(t.children).forEach(_K(Tm,r)),Jte=t=>(r,i={},...u)=>{const g=t(r);return u.forEach(h=>Tm(g,h)),PE(g,i),g},F2e=t=>document.createElementNS("http://www.w3.org/2000/svg",t),$a=Jte(F2e),$2e=Jte(t=>document.createElement(t)),V2e=()=>{let t=null;return r=>{if(t!==null)return new Promise(wE);const i=()=>t===i?(t=null,!0):!1;return t=i,new Promise(u=>r(()=>{i(),u()}))}},z2e=t=>{const r=V2e();return{current:()=>t,acquire:(i,u)=>r(g=>{const h=t;t=i,u(()=>{g()&&(t=h)})})}},H2e=t=>new Promise((r,i)=>{const u=document.createElement("img");u.onload=()=>r(x2e(u.width,u.height)),u.onerror=i,u.src=t}),Qte=t=>t.type==="touchend"&&t.touches.length===0,aI=Zb((t,r=void 0)=>kI(r)?t.constructor.name:r);wr(aI,"TouchEvent",t=>t.touches.length===1||Qte(t));wr(aI,"MouseEvent",t=>t.button===0);wr(aI,"PointerEvent",t=>aI(t,"MouseEvent"));const lI=Zb(t=>t.constructor.name);wr(lI,"TouchEvent",t=>t.touches.length===2||Qte(t));wr(lI,"MouseEvent",t=>t.button===1);wr(lI,"PointerEvent",t=>lI(t,"MouseEvent"));const Am=Zb((t,r)=>r);wr(Am,rI);["click","mousedown","mouseup"].forEach(t=>{wr(Am,t,(r,i,u)=>rI(r,i,AF(aI,u))),wr(Am,[t,"primary"],(r,[i,u],g)=>Am(r,i,g)),wr(Am,[t,"secondary"],(r,[i,u],g)=>rI(r,i,AF(lI,g)))});const U2e=(t,{start:r=wE,move:i=wE,stop:u=wE},g,h)=>{const x=D=>i(D),I=[Am(window,["mouseup",g],D=>{SK(I),u(D)}),Am(t,"mousemove",x)];r(h)},Ys={CIRCLE:"circle",RECTANGLE:"rectangle",POLYGON:"polygon",LINE:"line",WAVE:"wave"},W2e=t=>Object.values(Ys).includes(t),K2e={[Ys.CIRCLE]:{symbol:fE,symbolColor:fE},[Ys.RECTANGLE]:{width:DE,height:DE},[Ys.POLYGON]:{polygon:Kte(Y6)},[Ys.LINE]:{end:Y6},[Ys.WAVE]:{end:Y6}},ene={key:fE,label:fE,color:fE,selectedColor:fE,shape:W2e,pos:Y6,locked:d2e},j2e=t=>({...PR(Object.keys(ene),t),pos:PR(["x","y"],t.pos)}),Z2e={[Ys.CIRCLE]:t=>PR(["symbol","symbolColor"],t),[Ys.RECTANGLE]:t=>PR(["width","height"],t),[Ys.POLYGON]:({polygon:t})=>({polygon:t.map(r=>PR(["x","y"],r))}),[Ys.LINE]:({end:{x:t,y:r}})=>({end:{x:t,y:r}}),[Ys.WAVE]:({end:{x:t,y:r}})=>({end:{x:t,y:r}})},OK=Zb(t=>t.shape);wr(OK,Vte);wr(OK,Ys.CIRCLE,({symbol:t="",symbolColor:r="black",...i})=>({...i,symbol:t,symbolColor:r}));const mE=t=>(t={...t,key:t.key||"mark-"+Math.random().toString(),locked:t.locked||!1},dX(ene,t),t=OK(t),dX(K2e[t.shape],t),{...j2e(t),...Z2e[t.shape](t)}),X6={lambda:60,amplitude:20,lineWidth:10},yU={startDot:{radius:20,borderWidth:10},lineWidth:10},G2e={width:15},q0=Symbol("silent"),q2e=({polygon:t,pos:r})=>Hte(t,r),Y2e=t=>r=>r.setAttribute("points",q2e(t)),f8=t=>[Fu(["color"],iI("--default-color")),Fu(["selectedColor"],iI("--selected-color")),Fu(["locked"],r=>sc("class")(["shape"].concat(r?["locked"]:[],t).join(" ")))],tne=(t,r)=>{const i=g=>Math.sqrt(Math.pow(g.x,2)+Math.pow(g.y,2)),u=({start:g,end:h})=>{const x=Math.atan(h.y/h.x),w=h.x<0?x-Math.PI:x,I=w2e(zC(g,fp(0,t/2)),-w),D=`rotateZ(${w}rad)`,O=`translate(${I.x}px, ${I.y}px)`;return`${D} ${O}`};return[...f8(r),AK({start:["pos"],end:["end"]},tI(iI("transform"),u)),Fu(["end"],tI(sc("width"),i)),mx(`0 ${t/2}px`,iI("transform-origin")),mx(t,sc("height")),mx(0,sc("x")),mx(0,sc("y"))]},Kb=Zb(t=>t.shape||t);wr(Kb,Ys.RECTANGLE,()=>[...f8([]),Fu(["pos","x"],sc("x")),Fu(["pos","y"],sc("y")),Fu(["width"],sc("width")),Fu(["height"],sc("height"))]);wr(Kb,Ys.CIRCLE,()=>[...f8([]),Fu(["pos","x"],Kg(0,sc("cx"))),Fu(["pos","y"],Kg(0,sc("cy"))),Fu(["pos","x"],Kg(1,sc("x"))),Fu(["pos","y"],Kg(1,sc("y"))),Fu(["symbol"],Kg(1,Xte())),Fu(["symbolColor"],Kg(1,iI("fill"))),mx("symbol",Kg(1,sc("class"))),mx(70,Kg(0,sc("r")))]);wr(Kb,Ys.POLYGON,()=>[...f8([]),AK({pos:["pos"],polygon:["polygon"]},Y2e)]);wr(Kb,Ys.LINE,()=>tne(G2e.width,[]));wr(Kb,Ys.WAVE,()=>tne(X6.amplitude*2,["wave"]));const Kg=(t,r)=>i=>u=>r(i)(u.children[t]);wr(Kb,"label",()=>[Fu(["pos","x"],Kg(0,sc("x"))),Fu(["pos","x"],Kg(1,sc("x"))),mx("label",Kg(0,sc("class"))),mx("label",Kg(1,sc("class"))),AK({shape:["shape"],label:["label"],y:["pos","y"]},({shape:t,label:r,y:i})=>u=>{t==Ys.CIRCLE&&(i=i-70),PE(u.children[1],{y:i}),Xte()(r)(u.children[1]),requestAnimationFrame(()=>{const{width:g,height:h}=u.children[1].getBBox();PE(u.children[0],{y:i-h+h*.15,width:g,height:h})})})]);const HC=Zb(Vte);wr(HC,Ys.RECTANGLE,()=>$a("rect"));wr(HC,Ys.CIRCLE,()=>$a("g",{},$a("circle"),$a("text")));wr(HC,Ys.POLYGON,()=>$a("polygon"));wr(HC,Ys.LINE,()=>$a("rect"));wr(HC,Ys.WAVE,()=>$a("rect"));wr(HC,t=>WE(`Invalid shape name: ${t}.`));const nne=t=>{const r=HC(t.shape);return TK(t,Kb(t),r),r},X2e=t=>{const r=$a("g",{},$a("rect"),$a("text"));return TK(t,Kb("label"),r),r},J2e=(t,r,i)=>{mX(t,Kb(t),r,i.nodes.shape),mX(t,Kb("label"),r,i.nodes.label)},Q2e=t=>({mark:t,nodes:{root:$a("g"),label:X2e(t),shape:nne(t)}}),ewe={[Ys.RECTANGLE]:{width:10,height:20},[Ys.CIRCLE]:{},[Ys.POLYGON]:{polygon:[fp(0,0)]},[Ys.LINE]:{end:fp(0,0)},[Ys.WAVE]:{end:fp(0,0)}},twe=(t,r,i,u)=>mE({...ewe[r],shape:r,pos:t,color:i,selectedColor:u,label:""}),m8=(t,r,i,u="primary")=>U2e(t.nodes.svg,M2e(i),u,r),nwe=(t,r)=>H2e(r).then(i=>{PE(t.nodes.backgroundImage,{href:r,x:0,y:0,...i}),t.canvas.size(i),fne(t)}),owe=()=>D2e(t=>jte(t,"innerHTML",[" {position: relative; width: 100%; height: 100%; overflow: auto;}",".moving {overflow: hidden;}"," svg .polygon-start:hover {stroke: blue;}"," svg {position: absolute;}"," svg * {user-select: none;}"," svg .shape {fill: var(--default-color);}"," svg .shape.wave {mask: url(#wave-mask);}"," svg rect.label {fill: lightblue;}"," svg .foreground .shape {fill: var(--selected-color);}"," svg .shape text.symbol {text-anchor: middle; dominant-baseline: central; fill: black;}"].map(r=>".long-essay-image-marker"+r).join(" ")))(document.createElement("style")),swe=()=>({background:$a("g",{class:"background"}),normal:$a("g"),foreground:$a("g",{class:"foreground"})}),rwe=t=>sI(Object.values(Ys).includes(t),`Invalid shape name: ${t}.`),iwe=t=>{sI(DE(t),`Scale must be a number, given: ${JSON.stringify(t)}.`),sI(t>0,`Scale must be > 0 given: ${t}.`)},awe=(t,r,i)=>{const u=swe(),g=$a("svg",{width:"100%",height:"100%"},...Object.values(u)),h=$2e("div",{class:"long-essay-image-marker"},g),x=$a("image");return Tm(t,h),Tm(t,owe()),Tm(g,$a("defs",{},fwe(),mwe())),{nodes:{app:h,svg:g,layers:u,backgroundImage:x},creation:{color:iE("#0000AAAA"),selectedColor:iE("#FF0000AA"),shape:iE(Ys.CIRCLE,rwe)},status:z2e({name:"idle"}),canvas:{scale:iE(1,iwe),size:iE(null)},mode:iE("draw-shape",w=>sI(["draw-shape","scroll"].includes(w),`Invalid marker mode: ${w}`)),groups:{},emit:{createMark:r,selectMark:i}}},EI=(t,r,i)=>t.status.acquire(r,i),RK=(t,r,i,u)=>EI(t,{name:r,group:i},u),one=(t,r,i)=>{Am(i,"mousedown",u=>(r.mark.locked?Promise.resolve():ine(t,r,u)).then(()=>une(t,[r])))},lwe=(t,r)=>{sne(t,r),cwe(t,r),Tm(t.nodes.layers.normal,r.nodes.root)},cwe=(t,r)=>{Tm(r.nodes.root,r.nodes.label),one(t,r,r.nodes.label)},sne=(t,r)=>{Tm(r.nodes.root,r.nodes.shape),one(t,r,r.nodes.shape)},g8=t=>(r,i)=>EI(r,{name:"drawNew"},u=>{const g=twe(t1(r,$C(i)),bwe(r),ane(r),lne(r));r.emit.selectMark(null,i),u(),DK(r,g,q0),t(r,r.groups[g.key],i).then(()=>{r.emit.createMark(r.groups[g.key].mark,i),TF(r,[g.key],i)})}),IK=Zb(t=>t.mode()),UC=Zb(IK),rne=(t,r,i)=>RK(t,"editGroup",r,u=>m8(t,i,{start:g=>(h8(t,[r],q0),g=t1(t,g),{mark:r.mark,start:{mouse:g,pos:r.mark.pos}}),move:(g,{mark:h,start:x})=>{const w=zC(t1(t,g),x.mouse),I={...h,end:w};return p8(t,I),{start:x,mark:I}},stop:u}));wr(UC,["draw-shape",Ys.LINE],g8(rne));wr(UC,["draw-shape",Ys.WAVE],g8(rne));const uwe=(t,r,i)=>RK(t,"editGroup",r,u=>m8(t,i,{start:g=>(h8(t,[r],q0),g=t1(t,g),{mark:r.mark,start:{mouse:g,pos:r.mark.pos}}),move:(g,{mark:h,start:x})=>{const w=zC(t1(t,g),x.mouse),{width:I,height:D,...O}=u2e(x.pos,d8(x.pos,w)),N={...h,pos:O,width:I,height:D};return p8(t,N),{start:x,mark:N}},stop:u}));wr(UC,["draw-shape",Ys.RECTANGLE],g8(uwe));const ine=(t,r,i)=>RK(t,"moveGroup",r,u=>m8(t,i,{start:g=>(g=t1(t,g),h8(t,[r],q0),{mark:r.mark,start:{pos:r.mark.pos,mouse:g}}),move:(g,{mark:h,start:x})=>{const w=zC(t1(t,g),x.mouse),I={...h,pos:d8(x.pos,w)};return p8(t,I),{start:x,mark:I}},stop:u}));wr(UC,["draw-shape",Ys.CIRCLE],g8(ine));const dwe=(t,r,i)=>{const u=$a("circle",{cx:r.x,cy:r.y,r:yU.startDot.radius+"px","stroke-width":yU.startDot.borderWidth+"px",fill:"lightblue",class:"polygon-start"}),g=$a("polyline",{points:"",stroke:"blue",class:"polygon-next-point","stroke-width":yU.lineWidth+"px",fill:"none"}),h=$a("g",{class:"new-polygon"});return Tm(h,g),Tm(h,u),Tm(t,h),Am(u,"click",x=>{x.stopPropagation(),h.remove(),i()}),x=>PE(g,{points:Hte(x,r)})},fwe=()=>{const t=fp(X6.lambda,X6.amplitude*2),r=oI(.5,t),i=oI(.5,r);return $a("pattern",{x:"0",y:"0",id:"wave-pattern",width:`${t.x}px`,height:`${t.y}px`,patternUnits:"userSpaceOnUse"},$a("path",{d:`M -${r.x} ${r.y} Q -${i.x} -${i.y}, 0 ${r.y} t ${r.x} 0 t ${r.x} 0`,fill:"none",stroke:"white","stroke-width":X6.lineWidth+"px"}))},mwe=()=>$a("mask",{id:"wave-mask",x:0,y:0,width:"100%",height:"100%"},$a("rect",{x:0,y:0,width:"100%",height:"100%",fill:"url(#wave-pattern)"})),gwe=(t,r,i)=>mE({label:"",polygon:r,pos:i,color:ane(t),selectedColor:lne(t),shape:Ys.POLYGON}),hwe=(t,r,i)=>u=>{u.preventDefault(),i(zC(t1(t,$C(u)),r))};wr(UC,["draw-shape",Ys.POLYGON],(t,r)=>EI(t,{name:"newPolygon"},i=>{r.preventDefault(),t.emit.selectMark(null,r);const u=t1(t,$C(r)),g=dwe(t.nodes.layers.foreground,u,()=>D()),h=[fp(0,0)],x=O=>hwe(t,u,O);let w=fp(0,0);const I=[i,Am(t.nodes.svg,"mousemove",x(O=>{g([...h,O]),w=O})),Am(window,"mouseup",O=>h.push(w))],D=()=>{SK(I);const O=gwe(t,h,u);DK(t,O,r),TF(t,[O.key],r)}}));const pwe=t=>{const r=i=>[t.nodes.svg,t.nodes.backgroundImage].includes(i.target);Am(t.nodes.svg,"mousedown",AF(r,i=>UC(t,i))),Am(t.nodes.svg,["mousedown","secondary"],AF(r,i=>cne(t,i,"secondary")))},ane=t=>t.creation.color(),lne=t=>t.creation.selectedColor(),bwe=t=>t.creation.shape();wr(IK,"draw-shape",t=>[t.mode(),t.creation.shape()]);wr(IK,t=>t.mode());const cne=(t,r,i="primary")=>EI(t,{name:"moving-view"},u=>{t.nodes.app.classList.add("moving"),m8(t,r,{start:g=>g,move:(g,h)=>{const x=zC(h,g);return t.nodes.app.scrollBy(x.x,x.y),g},stop:()=>{t.nodes.app.classList.remove("moving"),u()}},i)});wr(UC,"scroll",cne);const h8=(t,r,i)=>{[].slice.call(t.nodes.layers.foreground.children).forEach(u=>u.classList.remove("active")),B2e(t.nodes.layers.foreground,t.nodes.layers.normal),r.forEach(u=>{const g=u.nodes.root;g.classList.add("active"),Tm(t.nodes.layers.foreground,g)}),i!==q0&&r.forEach(u=>t.emit.selectMark(u.mark,i))},une=(t,r,i)=>EI(t,{name:"selecting-multiple"},u=>{h8(t,r,i),u()}),dne=(t,r)=>t.groups[r]||WE(`Mark with key ${r} does not exist.`),TF=(t,r,i)=>une(t,r.map(u=>dne(t,u)),i),DK=(t,r,i)=>{sI(!t.groups[r.key],`Duplicated key: ${r.key}`);const u=Q2e(r);lwe(t,u),t.groups[r.key]=u,i!==q0&&t.emit.createMark(r,i)},p8=(t,r)=>{const i=dne(t,r.key),u=Gte(i.mark,r);i.mark=r,N2e(["shape"],u)?(i.nodes.shape.remove(),i.nodes.shape=nne(i.mark),sne(t,i)):J2e(i.mark,u,i)},fne=t=>PE(t.nodes.svg,{...v2e(oI(t.canvas.scale(),y2e(t.canvas.size()))),viewBox:[0,0,t.canvas.size().width,t.canvas.size().height].join(" ")}),t1=(t,r)=>oI(1/t.canvas.scale(),zC(r,t.nodes.svg.getBoundingClientRect())),vwe=(t,r,i)=>{const u=awe(t,(w,I)=>r(mE(w),I),(w,I)=>i(w?mE(w):null,I));pwe(u);const g=w=>DK(u,mE(w),q0),h=w=>{u.groups[w].nodes.root.remove(),T2e(u.groups,w)},x=w=>{u.canvas.scale(w),fne(u)};return{showPage:(w,I)=>{nwe(u,w),Tm(u.nodes.layers.background,u.nodes.backgroundImage),u.canvas.scale(1),Object.values(u.groups).forEach(D=>h(D.mark.key)),I.forEach(g)},addMark:g,removeMark:h,selectMark:w=>TF(u,[w],q0),selectMarks:w=>TF(u,w,q0),updateMark:w=>p8(u,mE(w)),setDefaultColor:w=>u.creation.color(w),setDefaultSelectedColor:w=>u.creation.selectedColor(w),setDefaultShape:w=>u.creation.shape(w),setZoomLevel:x,fitToPage:()=>{if(u.canvas.size()){const w=k2e(u.canvas.size(),u.nodes.app.getBoundingClientRect());x(w.width/u.canvas.size().width)}},drawMode:()=>u.mode("draw-shape"),scrollMode:()=>u.mode("scroll")}},ywe={id:"app-essay-image-wrapper"},xwe={class:"appImageButtons"},wwe={class:"appImageBottomNav"},Cwe={__name:"EssayImage",setup(t){Se.api();const r=Se.comments(),i=Se.summaries(),u=Se.pages();Se.layout();const g=Se.preferences(),h=Tn(),x=Tn("scroll"),w=Tn(!1),I=Tn(0),D=Tn(!0);let O,N="",V=[];Ku(()=>{O=vwe(h.value,U,Z),O.setDefaultColor("#3365ffaa"),O.setDefaultSelectedColor("#3365ffaa"),rt(),ee(u.minPage)});async function U(_e){if(Se.settings().Task.enable_comments&&_e&&!i.isOwnDisabled){const R=new Cm(_e);switch(x.value){case"check":R.symbol=Cm.SYMBOL_CHECK;break;case"cross":R.symbol=Cm.SYMBOL_CROSS;break;case"question":R.symbol=Cm.SYMBOL_QUESTION;break}if(V.push(_e.key),!r.getCommentByMarkKey(_e.key)){const it=r.selectedComment;if(it&&it.parent_number==u.selectedPageNo)it.addMarkData(R),await r.updateComment(it,!0);else{const lt=new DC({parent_number:u.selectedPageNo,marks:[R]});await r.addComment(lt)}}}}function Z(_e,R){if(Se.settings().Task.enable_comments)if(_e){let it=r.getCommentByMarkKey(_e.key);if(it){r.selectComment(it.key);const lt=it.getData();if(it.correction_key==Se.corrections().ownKey&&!i.isOwnDisabled){_e.symbol=_e.symbol==""?null:_e.symbol,it.updateMarkData(_e);const Lt=it.getData();JSON.stringify(lt)!=JSON.stringify(Lt)&&r.updateComment(it,!0)}else{const Lt=it.getMarkByKey(_e.key);if(Lt){const Qt={...Lt.getData(),label:D.value?it.label:"",color:it.getMarkColor(Lt),selectedColor:it.getMarkSelectedColor(Lt),locked:it.correction_key!=Se.corrections().ownKey||i.isOwnDisabled};O.updateMark(Qt)}}}}else{const it=r.selectedComment;R&&R.shiftKey&&it&&it.parent_number==u.selectedPageNo||r.selectComment("")}}function ee(_e){if(u.selectByPageNo(_e)){const R=u.getPageByPageNo(_e);if(R){R.url?(O.showPage(R.url,[]),N=R.url):(O.showPage("",[]),N="");try{O.setZoomLevel(g.essay_page_zoom)}catch{}document.querySelector(".long-essay-image-marker").scrollTop=0,V=[],de(),I.value=_e}}}function re(){const _e=u.selectedPage;_e&&_e.url!=N&&ee(_e.page_no)}Rn(()=>u.loadedImages,re);function H(){const _e=r.getComment(r.selectedKey);_e&&_e.parent_number!=u.selectedPageNo&&ee(_e.parent_number),de()}Rn(()=>r.selectionChange,H);function de(){let _e=[];for(const R of r.activeComments)if(R.parent_number==u.selectedPageNo){let it=[];for(const lt of R.marks){const Lt={...lt.getData(),label:D.value?R.label:"",color:R.getMarkColor(lt),selectedColor:R.getMarkSelectedColor(lt),locked:R.correction_key!=Se.corrections().ownKey||i.isOwnDisabled};V.includes(lt.key)?O.updateMark(Lt):O.addMark(Lt),_e.push(lt.key),it.push(lt.key)}R.key==r.selectedKey&&O.selectMarks(it)}for(const R of V)_e.includes(R)||O.removeMark(R);V=_e}Rn(()=>r.markerChange,de),Rn(()=>r.filterChange,de);function le(){let _e=r.getActiveCommentsByParentNumber(u.selectedPageNo);if(_e.length){let R=_e.shift();r.setFirstVisibleComment(R.key)}}Rn(()=>u.selectedKey,le);function j(){u.selectedPageNo>u.minPage&&ee(u.selectedPageNo-1)}function fe(){u.selectedPageNo<u.maxPage&&ee(u.selectedPageNo+1)}function ne(_e){w.value=!1,ee(_e)}async function Ve(){w.value&&(await Qo(),await new Promise(R=>setTimeout(R,250)),document.getElementById("app-pages-menu-input").select())}function Fe(){g.zoomEssayPageIn(),O.setZoomLevel(g.essay_page_zoom)}function Xe(){g.zoomEssayPageOut(),O.setZoomLevel(g.essay_page_zoom)}function rt(){switch(i.isOwnDisabled&&(x.value="scroll"),x.value){case"scroll":O.scrollMode();break;case"rectangle":O.drawMode(),O.setDefaultShape(Ys.RECTANGLE);break;case"line":O.drawMode(),O.setDefaultShape(Ys.LINE);break;case"wave":O.drawMode(),O.setDefaultShape(Ys.WAVE);break;case"polygon":O.drawMode(),O.setDefaultShape(Ys.POLYGON);break;case"circle":case"check":case"cross":case"question":O.drawMode(),O.setDefaultShape(Ys.CIRCLE);break}}function xe(){D.value==1?D.value=0:D.value=1,de()}return(_e,R)=>(Kt(),no("div",ywe,[se("div",xwe,[ae(G0,{density:"comfortable",variant:"outlined",divided:""},{default:vt(()=>[ae(Eo,{size:"small",title:_e.$t("essayImageZoomOut"),icon:"mdi-magnify-minus-outline",onClick:R[0]||(R[0]=it=>Xe())},null,8,["title"]),ae(Eo,{size:"small",title:_e.$t("essayImageZoomIn"),icon:"mdi-magnify-plus-outline",onClick:R[1]||(R[1]=it=>Fe())},null,8,["title"])]),_:1}),R[13]||(R[13]=vs("  ")),Q(Se).settings().Task.enable_comments?(Kt(),$o(U0e,{key:0,density:"comfortable",variant:"outlined",divided:"",modelValue:x.value,"onUpdate:modelValue":R[2]||(R[2]=it=>x.value=it),onClick:R[3]||(R[3]=it=>rt())},{default:vt(()=>[ae(Eo,{size:"small",icon:"mdi-cursor-move",value:"scroll"}),ae(Eo,{disabled:Q(i).isOwnDisabled,size:"small",icon:"mdi-minus",value:"line"},null,8,["disabled"]),ae(Eo,{disabled:Q(i).isOwnDisabled,size:"small",icon:"mdi-wave",value:"wave"},null,8,["disabled"]),ae(Eo,{disabled:Q(i).isOwnDisabled,size:"small",icon:"mdi-check",value:"check"},null,8,["disabled"]),ae(Eo,{disabled:Q(i).isOwnDisabled,size:"small",icon:"mdi-help",value:"question"},null,8,["disabled"])]),_:1},8,["modelValue"])):Wn("",!0),R[14]||(R[14]=vs("  ")),Q(Se).settings().Task.enable_comments?(Kt(),$o(G0,{key:1,density:"comfortable",variant:"outlined",divided:""},{default:vt(()=>[ae(Eo,{size:"small",active:D.value,icon:"mdi-label-outline",onClick:R[4]||(R[4]=it=>xe())},null,8,["active"])]),_:1})):Wn("",!0),R[15]||(R[15]=vs("  ")),ae(G0,{density:"comfortable",variant:"outlined",divided:""},{default:vt(()=>[ae(Eo,{size:"small",icon:"mdi-menu-left",onClick:R[5]||(R[5]=it=>j())}),ae(Eo,{size:"small",id:"app-pages-menu-activator"},{default:vt(()=>[vs(Be(Q(u).selectedPageNo),1)]),_:1}),ae(Eo,{size:"small",icon:"mdi-menu-right",onClick:R[6]||(R[6]=it=>fe())})]),_:1}),ae(SI,{activator:"#app-pages-menu-activator",modelValue:w.value,"onUpdate:modelValue":[R[9]||(R[9]=it=>w.value=it),R[10]||(R[10]=it=>Ve())],"close-on-content-click":!1},{default:vt(()=>[ae(_I,null,{default:vt(()=>[ae(eu,null,{default:vt(()=>[ae(QR,{id:"app-pages-menu-input",modelValue:I.value,"onUpdate:modelValue":R[7]||(R[7]=it=>I.value=it),density:"compact",variant:"solo",label:"Number","single-line":"","hide-details":"","prepend-inner-icon":"mdi-magnify",onChange:R[8]||(R[8]=it=>ne(I.value))},null,8,["modelValue"])]),_:1}),(Kt(!0),no(Yo,null,J0(Q(u).currentPages,it=>(Kt(),$o(eu,{onClick:lt=>ne(it.page_no),title:it.page_no,key:it.key},{default:vt(()=>[Mn(ae(xI,{src:it.thumb_url,width:"100"},null,8,["src"]),[[uo,it.thumb_url!==null]])]),_:2},1032,["onClick","title"]))),128))]),_:1})]),_:1},8,["modelValue"])]),se("div",{class:"appImageMarker",ref_key:"markerNode",ref:h},null,512),se("div",wwe,[ae(G0,{variant:"outlined",divided:""},{default:vt(()=>[ae(Eo,{disabled:Q(u).selectedPageNo<=Q(u).minPage,size:"small",icon:"mdi-menu-left",onClick:R[11]||(R[11]=it=>j())},null,8,["disabled"]),ae(Eo,{disabled:Q(u).selectedPageNo>=Q(u).maxPage,size:"small",icon:"mdi-menu-right",onClick:R[12]||(R[12]=it=>fe())},null,8,["disabled"])]),_:1})])]))}},_we=aa(Cwe,[["__scopeId","data-v-56113188"]]),Swe={class:"text-right"},kwe={class:"sr-only"},Ewe={"aria-hidden":"true"},Awe={class:"text-right"},Twe={class:"sr-only"},Owe={"aria-hidden":"true"},Rwe={class:"text-right"},Iwe={class:"text-right"},Dwe={class:"sr-only"},Pwe={"aria-hidden":"true"},Nwe={class:"text-right"},Lwe={class:"text-right"},Mwe={class:"sr-only"},Bwe={"aria-hidden":"true"},Fwe={class:"text-right"},$we={class:"text-right"},Vwe={class:"generalCriterion"},zwe={class:"text-right"},Hwe={__name:"SummaryCriteria",props:["correction_key"],setup(t){const r=Se.api(),i=Se.criteria(),u=Se.comments(),g=Se.points(),h=Se.layout(),x=Se.settings(),w=t;Rn(()=>w,O),Rn(()=>r.itemKey,O);const I=jl({}),D=jl({});async function O(){await Qo(),i.getCorrectionCommentCriteria(w.correction_key).forEach(Z=>{D[Z.key]={key:Z.key,title:Z.title,max_points:Z.points,sum_points:0}}),i.getCorrectionGeneralCriteria(w.correction_key).forEach(Z=>{I[Z.key]={key:Z.key,title:Z.title,max_points:Z.points,sum_points:0}}),g.getObjectsForCorrection(w.correction_key).forEach(Z=>{D[Z.criterion_key]!==void 0&&(D[Z.criterion_key].sum_points+=Z.points),I[Z.criterion_key]!==void 0&&(I[Z.criterion_key].sum_points+=Z.points)})}i.getCorrectionHasCriteria(w.correction_key)&&O();async function N(Z,ee){u.setFilterByRating(w.correction_key,Z,ee),!w.correction_key==Se.corrections().ownKey&&u.setShowOtherCorrections(!0),await Qo(),h.showEssay(),h.showMarking()}async function V(){u.setFilterByPoints(w.correction_key),!w.correction_key==Se.corrections().ownKey&&u.setShowOtherCorrections(!0),await Qo(),h.showEssay(),h.showMarking()}async function U(Z){u.setFilterByCriterion(w.correction_key,Z),!w.correction_key==Se.corrections().ownKey&&u.setShowOtherCorrections(!0),await Qo(),h.showEssay(),h.showMarking()}return(Z,ee)=>(Kt(),no("div",null,[Q(x).Task.enable_comment_ratings?(Kt(),$o(ap,{key:0,class:"table",density:"compact"},{default:vt(()=>[se("thead",null,[se("tr",null,[se("th",null,Be(Z.$t("summaryCriteriaMarkings")),1),se("th",Swe,Be(Z.$t("summaryCriteriaNumber")),1)])]),se("tbody",null,[se("tr",null,[se("td",null,[ae(Eo,{density:"compact",size:"small",variant:"text","prepend-icon":"mdi-filter-outline",disabled:Q(u).getCountOfExcellent(w.correction_key)==0,onClick:ee[0]||(ee[0]=re=>N(!0,!1))},{default:vt(()=>[se("span",kwe,Be(Q(x).Task.positive_rating),1)]),_:1},8,["disabled"]),se("span",Ewe,Be(Q(x).Task.positive_rating),1)]),se("td",Awe,Be(Q(u).getCountOfExcellent(w.correction_key)),1)]),se("tr",null,[se("td",null,[ae(Eo,{density:"compact",size:"small",variant:"text","prepend-icon":"mdi-filter-outline",disabled:Q(u).getCountOfCardinal(w.correction_key)==0,onClick:ee[1]||(ee[1]=re=>N(!1,!0))},{default:vt(()=>[se("span",Twe,Be(Q(x).Task.negative_rating),1)]),_:1},8,["disabled"]),se("span",Owe,Be(Q(x).Task.negative_rating),1)]),se("td",Rwe,Be(Q(u).getCountOfCardinal(w.correction_key)),1)])])]),_:1})):Wn("",!0),Q(x).Task.enable_partial_points&&!Q(i).getCorrectionHasCommentCriteria(w.correction_key)?(Kt(),$o(ap,{key:1,class:"table",density:"compact"},{default:vt(()=>[se("thead",null,[se("tr",null,[se("th",null,[se("strong",null,Be(Z.$t("summaryCriteriaRating")),1)]),se("th",Iwe,Be(Z.$t("allPoints")),1)])]),se("tbody",null,[se("tr",null,[se("td",null,[ae(Eo,{density:"compact",size:"small",variant:"text","prepend-icon":"mdi-filter-outline",disabled:Q(g).getSumOfPointsForCorrection(w.correction_key,!0,!1)==0,onClick:ee[2]||(ee[2]=re=>V())},{default:vt(()=>[se("span",Dwe,Be(Z.$t("summaryCriteriaPointsInComments")),1)]),_:1},8,["disabled"]),se("span",Pwe,Be(Z.$t("summaryCriteriaPointsInComments")),1)]),se("td",Nwe,Be(Q(g).getSumOfPointsForCorrection(w.correction_key,!0,!1)),1)])])]),_:1})):Wn("",!0),Q(x).Task.enable_partial_points&&Q(i).getCorrectionHasCommentCriteria(w.correction_key)?(Kt(),$o(ap,{key:2,class:"table",density:"compact"},{default:vt(()=>[se("thead",null,[se("tr",null,[se("th",null,Be(Z.$t("summaryCriteriaInComments")),1),se("th",Lwe,Be(Z.$t("summaryCriteriaPointsOfMax")),1)])]),se("tbody",null,[(Kt(!0),no(Yo,null,J0(D,re=>(Kt(),no("tr",{key:re.key},[se("td",null,[ae(Eo,{density:"compact",size:"small",variant:"text","prepend-icon":"mdi-filter-outline",disabled:re.sum_points==0,onClick:H=>U(re.key)},{default:vt(()=>[se("span",Mwe,Be(re.title),1)]),_:2},1032,["disabled","onClick"]),se("span",Bwe,Be(re.title),1)]),se("td",Fwe,Be(re.sum_points)+" / "+Be(re.max_points),1)]))),128))])]),_:1})):Wn("",!0),Q(x).Task.enable_partial_points&&Q(i).getCorrectionHasGeneralCriteria(w.correction_key)?(Kt(),$o(ap,{key:3,class:"table",density:"compact"},{default:vt(()=>[se("thead",null,[se("tr",null,[se("th",null,Be(Z.$t("summaryCriteriaGeneralCriteria")),1),se("th",$we,Be(Z.$t("summaryCriteriaPointsOfMax")),1)])]),se("tbody",null,[(Kt(!0),no(Yo,null,J0(I,re=>(Kt(),no("tr",{key:re.key},[se("td",null,[se("span",Vwe,Be(re.title),1)]),se("td",zwe,Be(re.sum_points)+" / "+Be(re.max_points),1)]))),128))])]),_:1})):Wn("",!0)]))}},Uwe=aa(Hwe,[["__scopeId","data-v-331fdfef"]]),Wwe=["innerHTML"],Kwe={__name:"SummaryText",props:["correction_key"],setup(t){const r=Se.summaries(),i=t;function u(){let g=r.getForCorrection(i.correction_key);if(g)return g.text}return(g,h)=>(Kt(),no("div",{class:"app-summary-text-wrapper long-essay-content headlines-three",innerHTML:u()},null,8,Wwe))}},mne=aa(Kwe,[["__scopeId","data-v-cb04f004"]]),jwe={class:"app-summary-file-wrapper"},Zwe=["src"],Gwe={__name:"SummaryFile",props:["correction_key"],setup(t){const r=t;function i(){let u=Se.summaries().getForCorrection(r.correction_key);if(u&&u.pdf)return Se.api().getSummaryPdfUrl(u)}return(u,g)=>(Kt(),no("div",jwe,[i()?(Kt(),no("iframe",{key:0,scrolling:"no",class:"summary-pdf",type:"application/pdf",src:i()},null,8,Zwe)):Wn("",!0)]))}},OF=aa(Gwe,[["__scopeId","data-v-10f24ac7"]]),qwe={id:"app-summary-points-wrapper"},Ywe={__name:"SummaryPoints",props:["correction_key"],setup(t){Se.settings();const r=Se.levels(),i=Se.summaries(),u=t,g=Tn(0),h=Tn(""),x=Tn("");function w(){const I=i.getForCorrection(u.correction_key);if(I){g.value=I.points;const D=r.getLevel(I.grade_key);D&&(h.value=D.title,x.value=D.statement)}}return Rn(()=>u.correction_key,w),w(),(I,D)=>(Kt(),no("div",qwe,[se("strong",null,Be(I.$t("summaryPointsRating")),1),vs(" "+Be(g.value)+" "+Be(I.$t("allPoints",g.value))+" ",1),se("strong",null,Be(I.$t("allGrade")),1),vs(" "+Be(h.value)+" ",1),se("p",null,Be(x.value),1)]))}},Xwe=aa(Ywe,[["__scopeId","data-v-d3927868"]]),Jwe={id:"app-summary-revision-wrapper"},Qwe=["innerHTML"],eCe={class:"app-summary-points"},tCe={__name:"SummaryRevision",props:["correction_key"],setup(t){Se.settings();const r=Se.levels(),i=Se.summaries(),u=t,g=Tn(""),h=Tn(0),x=Tn(""),w=Tn("");function I(){const D=i.getForCorrection(u.correction_key);if(D){g.value=D.revision_text,h.value=D.revision_points;const O=r.getLevel(D.grade_key);O&&(x.value=O.title,w.value=O.statement)}}return Rn(()=>u.correction_key,I),I(),(D,O)=>(Kt(),no("div",Jwe,[se("div",{class:"app-summary-text-display long-essay-content headlines-three",innerHTML:g.value},null,8,Qwe),se("div",eCe,[se("p",null,[se("strong",null,Be(D.$t("summaryRevisionRating")),1),vs(" "+Be(h.value)+" "+Be(D.$t("allPoints",h.value))+" ",1),se("strong",null,Be(D.$t("allGrade")),1),vs(" "+Be(x.value),1)]),se("p",null,Be(w.value),1)])]))}},nCe=aa(tCe,[["__scopeId","data-v-072c5c14"]]),oCe={__name:"SumOfPoints",props:["correction_key"],setup(t){const r=Se.settings(),i=Se.points(),u=Se.criteria(),g=t,{t:h}=$d.global,x=u.getCorrectionHasGeneralCriteria(g.correction_key),w=u.getCorrectionHasCommentCriteria(g.correction_key);function I(){const D=i.getSumOfPointsForCorrection(g.correction_key,!0),O=i.getSumOfPointsForCorrection(g.correction_key,!1);return O+D==0?"":x?w?h("sumOfPointsNCommentCriteriaMGeneralCriteria",[D,O]):h("sumOfPointsNCommentsMGeneralCriteria",[D,O]):h(w?"sumOfPointsToCriteriaInComments":"sumOfPointsToComments")}return(D,O)=>(Kt(),no("span",null,[se("strong",null,Be(D.$t("sumOfPointsLabel")),1),se("span",{class:lo(Q(i).getSumOfPointsForCorrection(g.correction_key)>Q(r).Assessment.max_points?"red":"")},Be(Q(i).getSumOfPointsForCorrection(g.correction_key))+" von max. "+Be(Q(r).Assessment.max_points),3),vs(" "+Be(I()),1)]))}},gne=aa(oCe,[["__scopeId","data-v-b58bf4c4"]]),sCe=KF("v-alert-title"),rCe=Bn({iconSize:[Number,String],iconSizes:{type:Array,default:()=>[["x-small",10],["small",16],["default",24],["large",28],["x-large",32]]}},"iconSize");function iCe(t,r){return{iconSize:Rt(()=>{const u=new Map(t.iconSizes),g=t.iconSize??r()??"default";return u.has(g)?u.get(g):g})}}const aCe=["success","info","warning","error"],lCe=Bn({border:{type:[Boolean,String],validator:t=>typeof t=="boolean"||["top","end","bottom","start"].includes(t)},borderColor:String,closable:Boolean,closeIcon:{type:Vr,default:"$close"},closeLabel:{type:String,default:"$vuetify.close"},icon:{type:[Boolean,String,Function,Object],default:null},modelValue:{type:Boolean,default:!0},prominent:Boolean,title:String,text:String,type:{type:String,validator:t=>aCe.includes(t)},...Hs(),...eh(),...bp(),...a1(),...rCe(),...s8(),...lK(),...Om(),...la(),...yl(),...c1({variant:"flat"})},"VAlert"),Zg=Vo()({name:"VAlert",props:lCe(),emits:{"click:close":t=>!0,"update:modelValue":t=>!0},setup(t,r){let{emit:i,slots:u}=r;const g=Ri(t,"modelValue"),h=pn(()=>{if(t.icon!==!1)return t.type?t.icon??`$${t.type}`:t.icon}),{iconSize:x}=iCe(t,()=>t.prominent?44:28),{themeClasses:w}=ac(t),{colorClasses:I,colorStyles:D,variantClasses:O}=HE(()=>({color:t.color??t.type,variant:t.variant})),{densityClasses:N}=pp(t),{dimensionStyles:V}=vp(t),{elevationClasses:U}=l1(t),{locationStyles:Z}=r8(t),{positionClasses:ee}=cK(t),{roundedClasses:re}=Rm(t),{textColorClasses:H,textColorStyles:de}=gp(()=>t.borderColor),{t:le}=BE(),j=pn(()=>({"aria-label":le(t.closeLabel),onClick(fe){g.value=!1,i("click:close",fe)}}));return()=>{const fe=!!(u.prepend||h.value),ne=!!(u.title||t.title),Ve=!!(u.close||t.closable),Fe={density:t.density,icon:h.value,size:x.value};return g.value&&ae(t.tag,{class:lo(["v-alert",t.border&&{"v-alert--border":!!t.border,[`v-alert--border-${t.border===!0?"start":t.border}`]:!0},{"v-alert--prominent":t.prominent},w.value,I.value,N.value,U.value,ee.value,re.value,O.value,t.class]),style:Ms([D.value,V.value,Z.value,t.style]),role:"alert"},{default:()=>{var Xe,rt;return[zE(!1,"v-alert"),t.border&&se("div",{key:"border",class:lo(["v-alert__border",H.value]),style:Ms(de.value)},null),fe&&se("div",{key:"prepend",class:"v-alert__prepend"},[u.prepend?ae(Aa,{key:"prepend-defaults",disabled:!h.value,defaults:{VIcon:{...Fe}}},u.prepend):ae(zn,Bo({key:"prepend-icon"},Fe),null)]),se("div",{class:"v-alert__content"},[ne&&ae(sCe,{key:"title"},{default:()=>{var xe;return[((xe=u.title)==null?void 0:xe.call(u))??t.title]}}),((Xe=u.text)==null?void 0:Xe.call(u))??t.text,(rt=u.default)==null?void 0:rt.call(u)]),u.append&&se("div",{key:"append",class:"v-alert__append"},[u.append()]),Ve&&se("div",{key:"close",class:"v-alert__close"},[u.close?ae(Aa,{key:"close-defaults",defaults:{VBtn:{icon:t.closeIcon,size:"x-small",variant:"text"}}},{default:()=>{var xe;return[(xe=u.close)==null?void 0:xe.call(u,{props:j.value})]}}):ae(Eo,Bo({key:"close-btn",icon:t.closeIcon,size:"x-small",variant:"text"},j.value),null)])]}})}}}),cCe={id:"app-authorization-wrapper"},uCe={key:0,class:"appRow"},dCe=["innerHTML"],fCe=["data"],mCe={key:1,class:"appRow"},gCe={key:2,class:"appRow"},hCe={class:"appRow"},pCe={key:3,class:"appRow"},bCe={__name:"Authorization",setup(t){const r=Se.api(),i=Se.items(),u=Se.settings(),g=Se.summaries(),h=Se.levels();Se.layout();const x=Se.points();Se.comments(),Se.criteria();const{t:w}=$d.global,I=Tn(!1);function D(){let N=0;return!u.Task.enable_partial_points||(N=x.getSumOfPointsForCorrection(Se.corrections().ownKey),N==0||N==g.editSummary.points)?"":w("authorizationPointsMismatch",[N])}async function O(){await g.setOwnAuthorized(),await r.saveChangesToBackend(!0)?(I.value=!1,r.loadItemFromBackend(i.currentKey)):(I.value=!1,Se.layout().showSendFailure=!0)}return(N,V)=>(Kt(),no("div",cCe,[ae(Eo,{class:"app-header-item",disabled:Q(r).isLoading||!Q(i).canAuthorize,onClick:V[0]||(V[0]=U=>I.value=!0)},{default:vt(()=>[ae(zn,{left:"",icon:"mdi-file-certificate-outline"}),se("span",null,Be(N.$t("authorizationAuthorize"))+"...",1)]),_:1},8,["disabled"]),ae(qg,{"max-width":"60em",persistent:"",modelValue:I.value,"onUpdate:modelValue":V[3]||(V[3]=U=>I.value=U)},{default:vt(()=>[ae(Gg,null,{default:vt(()=>[ae(bx,null,{default:vt(()=>[vs(Be(N.$t("authorizationTitle",[Q(i).currentItem.title])),1)]),_:1}),ae(Em,null,{default:vt(()=>[Q(g).editSummary.hasTextOrPdf()?(Kt(),no("div",uCe,[se("strong",null,Be(N.$t("authorizationSummaryLabel")),1),Q(g).editSummary.text?(Kt(),no("div",{key:0,class:"appText long-essay-content headlines-three",innerHTML:Q(g).editSummary.text},null,8,dCe)):Wn("",!0),Q(g).editSummary.pdf?(Kt(),no("object",{key:1,class:"appPdf",type:"application/pdf",data:Q(r).getSummaryPdfUrl(Q(g).editSummary)},null,8,fCe)):Wn("",!0)])):Wn("",!0),Q(u).Task.enable_partial_points?(Kt(),no("div",mCe,[ae(gne,{class:"sumOfPoints",correction_key:Q(Se).corrections().ownKey},null,8,["correction_key"])])):Wn("",!0),Q(g).editSummary.hasPoints()?(Kt(),no("div",gCe,[se("strong",null,Be(N.$t("ownSummaryPointsRating")),1),vs(" "+Be(Q(g).editSummary.points)+" "+Be(N.$t("authorizationPointsSuffix"))+"  ",1),se("strong",null,Be(N.$t("authorizationGradeTitle")),1),vs(" "+Be(Q(g).currentGradeTitle)+" ",1),se("p",null,Be(Q(g).currentGradeStatement),1)])):Wn("",!0),se("div",hCe,[Mn(ae(Zg,{color:"#0000A0",type:"info",variant:"text",density:"compact"},{default:vt(()=>[vs(Be(N.$t("authorizationPleaseEnterSummary")),1)]),_:1},512),[[uo,!Q(g).editSummary.text&&!Q(g).editSummary.pdf]]),Mn(ae(Zg,{color:"#0000A0",type:"info",variant:"text",density:"compact"},{default:vt(()=>[vs(Be(N.$t("authorizationPleaseEnterPoints")),1)]),_:1},512),[[uo,Q(h).hasLevels&&!Q(g).editSummary.hasPoints()]]),Mn(ae(Zg,{color:"#0000A0",type:"info",variant:"text",density:"compact"},{default:vt(()=>[vs(Be(D()),1)]),_:1},512),[[uo,D()!=""]]),Mn(ae(Zg,{color:"#0000A0",type:"info",variant:"text",density:"compact"},{default:vt(()=>[vs(Be(Q(g).procedureNeededText),1)]),_:1},512),[[uo,Q(g).areOthersAuthorized&&Q(g).procedureNeededText!=""]]),Mn(ae(Zg,{color:"#0000A0",type:"info",variant:"text",density:"compact"},{default:vt(()=>[vs(Be(Q(g).pointsOutsideCorridorText),1)]),_:1},512),[[uo,Q(i).isInStitch&&Q(g).pointsOutsideCorridorText!==""]])]),Q(g).editSummary.hasTextOrPdf()&&Q(g).editSummary.hasPoints()?(Kt(),no("div",pCe,Be(N.$t("authorizationWarnFinalize")),1)):Wn("",!0)]),_:1}),ae(km,null,{default:vt(()=>[Q(g).editSummary.hasTextOrPdf()&&Q(g).editSummary.hasPoints()?(Kt(),$o(Eo,{key:0,onClick:V[1]||(V[1]=U=>O())},{default:vt(()=>[ae(zn,{left:"",icon:"mdi-check"}),se("span",null,Be(N.$t("authorizationAuthorize")),1)]),_:1})):Wn("",!0),ae(Eo,{onClick:V[2]||(V[2]=U=>I.value=!1)},{default:vt(()=>[ae(zn,{left:"",icon:"mdi-close"}),se("span",null,Be(N.$t("allCancel")),1)]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]))}},vCe=aa(bCe,[["__scopeId","data-v-4b69d690"]]),yCe={id:"app-own-summary-points-wrapper"},xCe={key:0},wCe={for:"appOwnSummaryPoints"},CCe=["disabled","min","max"],_Ce=["disabled"],SCe={for:"appOwnSummaryPregraded"},kCe={__name:"OwnSummaryPoints",setup(t){Se.api();const r=Se.items(),i=Se.summaries(),u=Se.settings();Se.layout();const g=Tn(!1);g.value=i.isOwnPregraded;async function h(x){x.preventDefault(),i.isOwnPregraded?await i.setOwnOpen():i.isOwnAuthorized||await i.setOwnPregraded(),await r.setCurrentGradingStatus(i.editSummary.status),g.value=i.isOwnPregraded}return(x,w)=>(Kt(),no("div",yCe,[ae(IE,null,{default:vt(()=>[ae(Z0,{dense:""},{default:vt(()=>[ae(Ml,{cols:"10"},{default:vt(()=>[Q(u).Task.enable_partial_points?(Kt(),no("p",xCe,[ae(gne,{class:"sumOfPoints",correction_key:Q(Se).corrections().ownKey},null,8,["correction_key"])])):Wn("",!0),se("label",wCe,[se("strong",null,Be(x.$t("ownSummaryPointsRating")),1)]),w[2]||(w[2]=vs("  ")),Mn(se("input",{id:"appOwnSummaryPoints",type:"number",disabled:Q(i).isOwnDisabled,class:"appPoints",min:Q(i).pointsCorridor.min,max:Q(i).pointsCorridor.max,"onUpdate:modelValue":w[0]||(w[0]=I=>Q(i).editSummary.points=I)},null,8,CCe),[[_E,Q(i).editSummary.points]]),vs(" "+Be(x.$t("allPoints",Q(i).editSummary.points))+"  ",1),se("strong",null,Be(x.$t("allGrade")),1),vs(" "+Be(Q(i).currentGradeTitle)+" ",1),se("p",null,Be(Q(i).currentGradeStatement),1)]),_:1,__:[2]}),ae(Ml,{cols:"2"},{default:vt(()=>[Q(i).isOwnAuthorized?Wn("",!0):Mn((Kt(),no("input",{key:0,id:"appOwnSummaryPregraded",type:"checkbox",class:"appCheckbox","onUpdate:modelValue":w[1]||(w[1]=I=>g.value=I),disabled:Q(i).isOwnAuthorized||!Q(i).editSummary.hasPoints(),onChange:h},null,40,_Ce)),[[BU,g.value]]),se("label",SCe,Be(x.$t("allPregraded")),1),Mn(ae(vCe,null,null,512),[[uo,!Q(i).isOwnAuthorized]])]),_:1})]),_:1})]),_:1})]))}},ECe=aa(kCe,[["__scopeId","data-v-00cda19f"]]);var xU={exports:{}},gX;function ACe(){return gX||(gX=1,function(t){(function(){var r=function(e){if(e===null)return"null";if(e===void 0)return"undefined";var n=typeof e;return n==="object"&&(Array.prototype.isPrototypeOf(e)||e.constructor&&e.constructor.name==="Array")?"array":n==="object"&&(String.prototype.isPrototypeOf(e)||e.constructor&&e.constructor.name==="String")?"string":n},i=function(e){return["undefined","boolean","number","string","function","xml","null"].indexOf(e)!==-1},u=function(e,n){var o=Array.prototype.slice.call(e);return o.sort(n)},g=function(e,n){return h(function(o,a){return e.eq(n(o),n(a))})},h=function(e){return{eq:e}},x=h(function(e,n){return e===n}),w=x,I=function(e){return h(function(n,o){if(n.length!==o.length)return!1;for(var a=n.length,c=0;c<a;c++)if(!e.eq(n[c],o[c]))return!1;return!0})},D=function(e,n){return g(I(e),function(o){return u(o,n)})},O=function(e){return h(function(n,o){var a=Object.keys(n),c=Object.keys(o);if(!D(w).eq(a,c))return!1;for(var m=a.length,p=0;p<m;p++){var _=a[p];if(!e.eq(n[_],o[_]))return!1}return!0})},N=h(function(e,n){if(e===n)return!0;var o=r(e),a=r(n);return o!==a?!1:i(o)?e===n:o==="array"?I(N).eq(e,n):o==="object"?O(N).eq(e,n):!1});const V=Object.getPrototypeOf,U=(e,n,o)=>{var a;return o(e,n.prototype)?!0:((a=e.constructor)===null||a===void 0?void 0:a.name)===n.name},Z=e=>{const n=typeof e;return e===null?"null":n==="object"&&Array.isArray(e)?"array":n==="object"&&U(e,String,(o,a)=>a.isPrototypeOf(o))?"string":n},ee=e=>n=>Z(n)===e,re=e=>n=>typeof n===e,H=e=>n=>e===n,de=(e,n)=>j(e)&&U(e,n,(o,a)=>V(o)===a),le=ee("string"),j=ee("object"),fe=e=>de(e,Object),ne=ee("array"),Ve=H(null),Fe=re("boolean"),Xe=H(void 0),rt=e=>e==null,xe=e=>!rt(e),_e=re("function"),R=re("number"),it=(e,n)=>{if(ne(e)){for(let o=0,a=e.length;o<a;++o)if(!n(e[o]))return!1;return!0}return!1},lt=()=>{},Lt=(e,n)=>(...o)=>e(n.apply(null,o)),Qt=(e,n)=>o=>e(n(o)),dt=e=>()=>e,Sn=e=>e,Et=(e,n)=>e===n;function et(e,...n){return(...o)=>{const a=n.concat(o);return e.apply(null,a)}}const Me=e=>n=>!e(n),ft=e=>()=>{throw new Error(e)},so=e=>e(),Wt=e=>{e()},In=dt(!1),sn=dt(!0);class J{constructor(n,o){this.tag=n,this.value=o}static some(n){return new J(!0,n)}static none(){return J.singletonNone}fold(n,o){return this.tag?o(this.value):n()}isSome(){return this.tag}isNone(){return!this.tag}map(n){return this.tag?J.some(n(this.value)):J.none()}bind(n){return this.tag?n(this.value):J.none()}exists(n){return this.tag&&n(this.value)}forall(n){return!this.tag||n(this.value)}filter(n){return!this.tag||n(this.value)?this:J.none()}getOr(n){return this.tag?this.value:n}or(n){return this.tag?this:n}getOrThunk(n){return this.tag?this.value:n()}orThunk(n){return this.tag?this:n()}getOrDie(n){if(this.tag)return this.value;throw new Error(n??"Called getOrDie on None")}static from(n){return xe(n)?J.some(n):J.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(n){this.tag&&n(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}J.singletonNone=new J(!1);const fo=Array.prototype.slice,Zt=Array.prototype.indexOf,bn=Array.prototype.push,Ke=(e,n)=>Zt.call(e,n),tt=(e,n)=>{const o=Ke(e,n);return o===-1?J.none():J.some(o)},we=(e,n)=>Ke(e,n)>-1,Re=(e,n)=>{for(let o=0,a=e.length;o<a;o++){const c=e[o];if(n(c,o))return!0}return!1},He=(e,n)=>{const o=e.length,a=new Array(o);for(let c=0;c<o;c++){const m=e[c];a[c]=n(m,c)}return a},be=(e,n)=>{for(let o=0,a=e.length;o<a;o++){const c=e[o];n(c,o)}},ke=(e,n)=>{for(let o=e.length-1;o>=0;o--){const a=e[o];n(a,o)}},Ne=(e,n)=>{const o=[],a=[];for(let c=0,m=e.length;c<m;c++){const p=e[c];(n(p,c)?o:a).push(p)}return{pass:o,fail:a}},Ge=(e,n)=>{const o=[];for(let a=0,c=e.length;a<c;a++){const m=e[a];n(m,a)&&o.push(m)}return o},pt=(e,n,o)=>(ke(e,(a,c)=>{o=n(o,a,c)}),o),cn=(e,n,o)=>(be(e,(a,c)=>{o=n(o,a,c)}),o),jt=(e,n,o)=>{for(let a=0,c=e.length;a<c;a++){const m=e[a];if(n(m,a))return J.some(m);if(o(m,a))break}return J.none()},xn=(e,n)=>jt(e,n,In),Xn=(e,n)=>{for(let o=0,a=e.length;o<a;o++){const c=e[o];if(n(c,o))return J.some(o)}return J.none()},oo=e=>{const n=[];for(let o=0,a=e.length;o<a;++o){if(!ne(e[o]))throw new Error("Arr.flatten item "+o+" was not an array, input: "+e);bn.apply(n,e[o])}return n},zo=(e,n)=>oo(He(e,n)),No=(e,n)=>{for(let o=0,a=e.length;o<a;++o){const c=e[o];if(n(c,o)!==!0)return!1}return!0},Gs=e=>{const n=fo.call(e,0);return n.reverse(),n},ds=(e,n)=>Ge(e,o=>!we(n,o)),ei=(e,n)=>{const o={};for(let a=0,c=e.length;a<c;a++){const m=e[a];o[String(m)]=n(m,a)}return o},_s=(e,n)=>{const o=fo.call(e,0);return o.sort(n),o},Zi=(e,n)=>n>=0&&n<e.length?J.some(e[n]):J.none(),On=e=>Zi(e,0),vo=e=>Zi(e,e.length-1),Do=_e(Array.from)?Array.from:e=>fo.call(e),li=(e,n)=>{for(let o=0;o<e.length;o++){const a=n(e[o],o);if(a.isSome())return a}return J.none()},nl=(e,n)=>{const o=[],a=_e(n)?c=>Re(o,m=>n(m,c)):c=>we(o,c);for(let c=0,m=e.length;c<m;c++){const p=e[c];a(p)||o.push(p)}return o},en=Object.keys,pi=Object.hasOwnProperty,fs=(e,n)=>{const o=en(e);for(let a=0,c=o.length;a<c;a++){const m=o[a],p=e[m];n(p,m)}},Zl=(e,n)=>Ks(e,(o,a)=>({k:a,v:n(o,a)})),Ks=(e,n)=>{const o={};return fs(e,(a,c)=>{const m=n(a,c);o[m.k]=m.v}),o},ti=e=>(n,o)=>{e[o]=n},Dm=(e,n,o,a)=>{fs(e,(c,m)=>{(n(c,m)?o:a)(c,m)})},Zu=(e,n)=>{const o={},a={};return Dm(e,n,ti(o),ti(a)),{t:o,f:a}},Tc=(e,n)=>{const o={};return Dm(e,n,ti(o),lt),o},xl=(e,n)=>{const o=[];return fs(e,(a,c)=>{o.push(n(a,c))}),o},Gu=e=>xl(e,Sn),Ps=(e,n)=>yo(e,n)?J.from(e[n]):J.none(),yo=(e,n)=>pi.call(e,n),Gl=(e,n)=>yo(e,n)&&e[n]!==void 0&&e[n]!==null,Di=(e,n,o=N)=>O(o).eq(e,n),qu=e=>{const n={};return be(e,o=>{n[o]={}}),en(n)},mn=e=>e.length!==void 0,Yu=Array.isArray,Pm=e=>{if(Yu(e))return e;{const n=[];for(let o=0,a=e.length;o<a;o++)n[o]=e[o];return n}},hr=(e,n,o)=>{if(!e)return!1;if(o=o||e,mn(e)){for(let a=0,c=e.length;a<c;a++)if(n.call(o,e[a],a,e)===!1)return!1}else for(const a in e)if(yo(e,a)&&n.call(o,e[a],a,e)===!1)return!1;return!0},Nm=(e,n)=>{const o=[];return hr(e,(a,c)=>{o.push(n(a,c,e))}),o},ol=(e,n)=>{const o=[];return hr(e,(a,c)=>{(!n||n(a,c,e))&&o.push(a)}),o},Fl=(e,n)=>{if(e){for(let o=0,a=e.length;o<a;o++)if(e[o]===n)return o}return-1},wl=(e,n,o,a)=>{let c=Xe(o)?e[0]:o;for(let m=0;m<e.length;m++)c=n.call(a,c,e[m],m);return c},lr=(e,n,o)=>{for(let a=0,c=e.length;a<c;a++)if(n.call(o,e[a],a,e))return a;return-1},Ta=e=>e[e.length-1],$l=e=>{let n=!1,o;return(...a)=>(n||(n=!0,o=e.apply(null,a)),o)},Lm=(e,n,o,a)=>{const c=e.isiOS()&&/ipad/i.test(o)===!0,m=e.isiOS()&&!c,p=e.isiOS()||e.isAndroid(),_=p||a("(pointer:coarse)"),A=c||!m&&p&&a("(min-device-width:768px)"),$=m||p&&!A,q=n.isSafari()&&e.isiOS()&&/safari/i.test(o)===!1,X=!$&&!A&&!q;return{isiPad:dt(c),isiPhone:dt(m),isTablet:dt(A),isPhone:dt($),isTouch:dt(_),isAndroid:e.isAndroid,isiOS:e.isiOS,isWebView:dt(q),isDesktop:dt(X)}},ou=(e,n)=>{for(let o=0;o<e.length;o++){const a=e[o];if(a.test(n))return a}},su=(e,n)=>{const o=ou(e,n);if(!o)return{major:0,minor:0};const a=c=>Number(n.replace(o,"$"+c));return ms(a(1),a(2))},kf=(e,n)=>{const o=String(n).toLowerCase();return e.length===0?Vd():su(e,o)},Vd=()=>ms(0,0),ms=(e,n)=>({major:e,minor:n}),Lr={nu:ms,detect:kf,unknown:Vd},ci=(e,n)=>li(n.brands,o=>{const a=o.brand.toLowerCase();return xn(e,c=>{var m;return a===((m=c.brand)===null||m===void 0?void 0:m.toLowerCase())}).map(c=>({current:c.name,version:Lr.nu(parseInt(o.version,10),0)}))}),Mm=(e,n)=>{const o=String(n).toLowerCase();return xn(e,a=>a.search(o))},sl=(e,n)=>Mm(e,n).map(o=>{const a=Lr.detect(o.versionRegexes,n);return{current:o.name,version:a}}),ru=(e,n)=>Mm(e,n).map(o=>{const a=Lr.detect(o.versionRegexes,n);return{current:o.name,version:a}}),Oa=(e,n)=>e.substring(n),Ra=(e,n,o)=>n===""||e.length>=n.length&&e.substr(o,o+n.length)===n,iu=(e,n)=>cr(e,n)?Oa(e,n.length):e,Bs=(e,n,o=0,a)=>{const c=e.indexOf(n,o);return c!==-1?Xe(a)?!0:c+n.length<=a:!1},cr=(e,n)=>Ra(e,n,0),De=(e,n)=>Ra(e,n,e.length-n.length),at=e=>n=>n.replace(e,""),Ue=at(/^\s+|\s+$/g),wt=at(/^\s+/g),bt=at(/\s+$/g),ot=e=>e.length>0,Xt=e=>!ot(e),un=(e,n)=>n<=0?"":new Array(n+1).join(e),vn=(e,n=10)=>{const o=parseInt(e,n);return isNaN(o)?J.none():J.some(o)},kn=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,gn=e=>n=>Bs(n,e),Ao=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:e=>Bs(e,"edge/")&&Bs(e,"chrome")&&Bs(e,"safari")&&Bs(e,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,kn],search:e=>Bs(e,"chrome")&&!Bs(e,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:e=>Bs(e,"msie")||Bs(e,"trident")},{name:"Opera",versionRegexes:[kn,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:gn("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:gn("firefox")},{name:"Safari",versionRegexes:[kn,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:e=>(Bs(e,"safari")||Bs(e,"mobile/"))&&Bs(e,"applewebkit")}],fn=[{name:"Windows",search:gn("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:e=>Bs(e,"iphone")||Bs(e,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:gn("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:gn("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:gn("linux"),versionRegexes:[]},{name:"Solaris",search:gn("sunos"),versionRegexes:[]},{name:"FreeBSD",search:gn("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:gn("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],Os={browsers:dt(Ao),oses:dt(fn)},Go="Edge",ns="Chromium",Mr="IE",Lo="Opera",ql="Firefox",Ia="Safari",wo=()=>rl({current:void 0,version:Lr.unknown()}),rl=e=>{const n=e.current,o=e.version,a=c=>()=>n===c;return{current:n,version:o,isEdge:a(Go),isChromium:a(ns),isIE:a(Mr),isOpera:a(Lo),isFirefox:a(ql),isSafari:a(Ia)}},Cl={unknown:wo,nu:rl},Ar="Windows",Ef="iOS",ni="Android",Bm="Linux",Yl="macOS",As="Solaris",zd="FreeBSD",th="ChromeOS",yp=()=>Tr({current:void 0,version:Lr.unknown()}),Tr=e=>{const n=e.current,o=e.version,a=c=>()=>n===c;return{current:n,version:o,isWindows:a(Ar),isiOS:a(Ef),isAndroid:a(ni),isMacOS:a(Yl),isLinux:a(Bm),isSolaris:a(As),isFreeBSD:a(zd),isChromeOS:a(th)}},Oc={unknown:yp,nu:Tr},tr={detect:(e,n,o)=>{const a=Os.browsers(),c=Os.oses(),m=n.bind(A=>ci(a,A)).orThunk(()=>sl(a,e)).fold(Cl.unknown,Cl.nu),p=ru(c,e).fold(Oc.unknown,Oc.nu),_=Lm(p,m,e,o);return{browser:m,os:p,deviceType:_}}},Fm=e=>window.matchMedia(e).matches;let Vl=$l(()=>tr.detect(window.navigator.userAgent,J.from(window.navigator.userAgentData),Fm));const ca=()=>Vl(),nh=window.navigator.userAgent,Pi=ca(),il=Pi.browser,ua=Pi.os,zl=Pi.deviceType,xp=nh.indexOf("Windows Phone")!==-1,Wo={transparentSrc:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",documentMode:il.isIE()?document.documentMode||7:10,cacheSuffix:null,container:null,canHaveCSP:!il.isIE(),windowsPhone:xp,browser:{current:il.current,version:il.version,isChromium:il.isChromium,isEdge:il.isEdge,isFirefox:il.isFirefox,isIE:il.isIE,isOpera:il.isOpera,isSafari:il.isSafari},os:{current:ua.current,version:ua.version,isAndroid:ua.isAndroid,isChromeOS:ua.isChromeOS,isFreeBSD:ua.isFreeBSD,isiOS:ua.isiOS,isLinux:ua.isLinux,isMacOS:ua.isMacOS,isSolaris:ua.isSolaris,isWindows:ua.isWindows},deviceType:{isDesktop:zl.isDesktop,isiPad:zl.isiPad,isiPhone:zl.isiPhone,isPhone:zl.isPhone,isTablet:zl.isTablet,isTouch:zl.isTouch,isWebView:zl.isWebView}},au=/^\s*|\s*$/g,Hd=e=>rt(e)?"":(""+e).replace(au,""),Xu=(e,n)=>n?n==="array"&&Yu(e)?!0:typeof e===n:e!==void 0,Gb=(e,n,o={})=>{const a=le(e)?e.split(n||","):e||[];let c=a.length;for(;c--;)o[a[c]]={};return o},Ax=yo,u1=(e,...n)=>{for(let o=0;o<n.length;o++){const a=n[o];for(const c in a)if(yo(a,c)){const m=a[c];m!==void 0&&(e[c]=m)}}return e},d1=function(e,n,o,a){a=a||this,e&&(o&&(e=e[o]),hr(e,(c,m)=>n.call(a,c,m,o)===!1?!1:(d1(c,n,o,a),!0)))},rn={trim:Hd,isArray:Yu,is:Xu,toArray:Pm,makeMap:Gb,each:hr,map:Nm,grep:ol,inArray:Fl,hasOwn:Ax,extend:u1,walk:d1,resolve:(e,n=window)=>{const o=e.split(".");for(let a=0,c=o.length;a<c&&(n=n[o[a]],!!n);a++);return n},explode:(e,n)=>ne(e)?e:e===""?[]:Nm(e.split(n||","),Hd),_addCacheSuffix:e=>{const n=Wo.cacheSuffix;return n&&(e+=(e.indexOf("?")===-1?"?":"&")+n),e}},Af=(e,n,o=Et)=>e.exists(a=>o(a,n)),Tf=(e,n,o=Et)=>da(e,n,o).getOr(e.isNone()&&n.isNone()),m1=e=>{const n=[],o=a=>{n.push(a)};for(let a=0;a<e.length;a++)e[a].each(o);return n},da=(e,n,o)=>e.isSome()&&n.isSome()?J.some(o(e.getOrDie(),n.getOrDie())):J.none(),Of=(e,n,o,a)=>e.isSome()&&n.isSome()&&o.isSome()?J.some(a(e.getOrDie(),n.getOrDie(),o.getOrDie())):J.none(),oh=(e,n)=>e?J.some(n):J.none(),Tx=typeof window<"u"?window:Function("return this;")(),Ox=(e,n)=>{let o=n??Tx;for(let a=0;a<e.length&&o!==void 0&&o!==null;++a)o=o[e[a]];return o},qb=(e,n)=>{const o=e.split(".");return Ox(o,n)},Rx=(e,n)=>qb(e,n),g1=(e,n)=>{const o=Rx(e,n);if(o==null)throw new Error(e+" not available on this browser");return o},Ix=Object.getPrototypeOf,sh=e=>g1("HTMLElement",e),h1=e=>{const n=qb("ownerDocument.defaultView",e);return j(e)&&(sh(n).prototype.isPrototypeOf(e)||/^HTML\w*Element$/.test(Ix(e).constructor.name))},Rf=8,If=9,fa=11,Sl=1,rh=3,os=e=>e.dom.nodeName.toLowerCase(),Ud=e=>e.dom.nodeType,ih=e=>n=>Ud(n)===e,ah=e=>Ud(e)===Rf||os(e)==="#comment",Va=e=>zr(e)&&h1(e.dom),zr=ih(Sl),ur=ih(rh),Gi=ih(If),nr=ih(fa),Df=e=>n=>zr(n)&&os(n)===e,$m=(e,n,o)=>{if(le(o)||Fe(o)||R(o))e.setAttribute(n,o+"");else throw console.error("Invalid call to Attribute.set. Key ",n,":: Value ",o,":: Element ",e),new Error("Attribute value was not simple")},_i=(e,n,o)=>{$m(e.dom,n,o)},za=(e,n)=>{const o=e.dom;fs(n,(a,c)=>{$m(o,c,a)})},Da=(e,n)=>{const o=e.dom.getAttribute(n);return o===null?void 0:o},lu=(e,n)=>J.from(Da(e,n)),Wd=(e,n)=>{const o=e.dom;return o&&o.hasAttribute?o.hasAttribute(n):!1},Fo=(e,n)=>{e.dom.removeAttribute(n)},ui=e=>{const n=e.dom.attributes;return n==null||n.length===0},kl=e=>cn(e.dom.attributes,(n,o)=>(n[o.name]=o.value,n),{}),Kd=(e,n)=>{const o=Da(e,n);return o===void 0||o===""?[]:o.split(" ")},qi=(e,n,o)=>{const c=Kd(e,n).concat([o]);return _i(e,n,c.join(" ")),!0},Kn=(e,n,o)=>{const a=Ge(Kd(e,n),c=>c!==o);return a.length>0?_i(e,n,a.join(" ")):Fo(e,n),!1},Rc=e=>e.dom.classList!==void 0,Ic=e=>Kd(e,"class"),Rs=(e,n)=>qi(e,"class",n),Cp=(e,n)=>Kn(e,"class",n),Yb=(e,n)=>we(Ic(e),n)?Cp(e,n):Rs(e,n),jd=(e,n)=>{Rc(e)?e.dom.classList.add(n):Rs(e,n)},Ko=e=>{(Rc(e)?e.dom.classList:Ic(e)).length===0&&Fo(e,"class")},Ha=(e,n)=>{Rc(e)?e.dom.classList.remove(n):Cp(e,n),Ko(e)},_p=(e,n)=>{const o=Rc(e)?e.dom.classList.toggle(n):Yb(e,n);return Ko(e),o},Zd=(e,n)=>Rc(e)&&e.dom.classList.contains(n),Xb=(e,n)=>{const a=(n||document).createElement("div");if(a.innerHTML=e,!a.hasChildNodes()||a.childNodes.length>1){const c="HTML does not have a single root node";throw console.error(c,e),new Error(c)}return uu(a.childNodes[0])},cu=(e,n)=>{const a=(n||document).createElement(e);return uu(a)},al=(e,n)=>{const a=(n||document).createTextNode(e);return uu(a)},uu=e=>{if(e==null)throw new Error("Node cannot be null or undefined");return{dom:e}},je={fromHtml:Xb,fromTag:cu,fromText:al,fromDom:uu,fromPoint:(e,n,o)=>J.from(e.dom.elementFromPoint(n,o)).map(uu)},Vm=(e,n)=>{const o=[],a=m=>(o.push(m),n(m));let c=n(e);do c=c.bind(a);while(c.isSome());return o},Fs=(e,n)=>{const o=e.dom;if(o.nodeType!==Sl)return!1;{const a=o;if(a.matches!==void 0)return a.matches(n);if(a.msMatchesSelector!==void 0)return a.msMatchesSelector(n);if(a.webkitMatchesSelector!==void 0)return a.webkitMatchesSelector(n);if(a.mozMatchesSelector!==void 0)return a.mozMatchesSelector(n);throw new Error("Browser lacks native selectors")}},Jb=e=>e.nodeType!==Sl&&e.nodeType!==If&&e.nodeType!==fa||e.childElementCount===0,lh=(e,n)=>{const o=n===void 0?document:n.dom;return Jb(o)?[]:He(o.querySelectorAll(e),je.fromDom)},du=(e,n)=>{const o=n===void 0?document:n.dom;return Jb(o)?J.none():J.from(o.querySelector(e)).map(je.fromDom)},ss=(e,n)=>e.dom===n.dom,ma=(e,n)=>{const o=e.dom,a=n.dom;return o===a?!1:o.contains(a)},Ju=e=>je.fromDom(e.dom.ownerDocument),lc=e=>Gi(e)?e:Ju(e),Qu=e=>je.fromDom(lc(e).dom.documentElement),ed=e=>je.fromDom(lc(e).dom.defaultView),ga=e=>J.from(e.dom.parentNode).map(je.fromDom),Nf=e=>J.from(e.dom.parentElement).map(je.fromDom),zm=(e,n)=>{const o=_e(n)?n:In;let a=e.dom;const c=[];for(;a.parentNode!==null&&a.parentNode!==void 0;){const m=a.parentNode,p=je.fromDom(m);if(c.push(p),o(p)===!0)break;a=m}return c},Qb=e=>{const n=o=>Ge(o,a=>!ss(e,a));return ga(e).map(ha).map(n).getOr([])},Si=e=>J.from(e.dom.previousSibling).map(je.fromDom),Yn=e=>J.from(e.dom.nextSibling).map(je.fromDom),td=e=>Gs(Vm(e,Si)),Hm=e=>Vm(e,Yn),ha=e=>He(e.dom.childNodes,je.fromDom),nd=(e,n)=>{const o=e.dom.childNodes;return J.from(o[n]).map(je.fromDom)},Hl=e=>nd(e,0),od=e=>nd(e,e.dom.childNodes.length-1),Gd=e=>e.dom.childNodes.length,ki=e=>{const n=e.dom.head;if(n==null)throw new Error("Head is not available yet");return je.fromDom(n)},cc=e=>nr(e)&&xe(e.dom.host),fu=e=>je.fromDom(e.dom.getRootNode()),Um=e=>cc(e)?e:ki(lc(e)),p1=e=>cc(e)?e:je.fromDom(lc(e).dom.body),sd=e=>{const n=fu(e);return cc(n)?J.some(n):J.none()},Lf=e=>je.fromDom(e.dom.host),ev=e=>{if(xe(e.target)){const n=je.fromDom(e.target);if(zr(n)&&Cr(n)&&e.composed&&e.composedPath){const o=e.composedPath();if(o)return On(o)}}return J.from(e.target)},Cr=e=>xe(e.dom.shadowRoot),Ua=e=>{const n=ur(e)?e.dom.parentNode:e.dom;if(n==null||n.ownerDocument===null)return!1;const o=n.ownerDocument;return sd(je.fromDom(n)).fold(()=>o.body.contains(n),Qt(Ua,Lf))};var Pa=(e,n,o,a,c)=>e(o,a)?J.some(o):_e(c)&&c(o)?J.none():n(o,a,c);const ll=(e,n,o)=>{let a=e.dom;const c=_e(o)?o:In;for(;a.parentNode;){a=a.parentNode;const m=je.fromDom(a);if(n(m))return J.some(m);if(c(m))break}return J.none()},bi=(e,n,o)=>Pa((c,m)=>m(c),ll,e,n,o),Sp=(e,n)=>{const o=e.dom;return o.parentNode?di(je.fromDom(o.parentNode),a=>!ss(e,a)&&n(a)):J.none()},di=(e,n)=>{const o=c=>n(je.fromDom(c));return xn(e.dom.childNodes,o).map(je.fromDom)},Yi=(e,n)=>{const o=a=>{for(let c=0;c<a.childNodes.length;c++){const m=je.fromDom(a.childNodes[c]);if(n(m))return J.some(m);const p=o(a.childNodes[c]);if(p.isSome())return p}return J.none()};return o(e.dom)},mu=(e,n,o)=>ll(e,a=>Fs(a,n),o),Ft=(e,n)=>du(n,e),Xi=(e,n,o)=>Pa((c,m)=>Fs(c,m),mu,e,n,o),kp=e=>Xi(e,"[contenteditable]"),_r=(e,n=!1)=>Ua(e)?e.dom.isContentEditable:kp(e).fold(dt(n),o=>rd(o)==="true"),rd=e=>e.dom.contentEditable,Wa=e=>e.style!==void 0&&_e(e.style.getPropertyValue),Dc=(e,n,o)=>{if(!le(o))throw console.error("Invalid call to CSS.set. Property ",n,":: Value ",o,":: Element ",e),new Error("CSS value must be a string: "+o);Wa(e)&&e.style.setProperty(n,o)},Wm=(e,n)=>{Wa(e)&&e.style.removeProperty(n)},cl=(e,n,o)=>{const a=e.dom;Dc(a,n,o)},es=(e,n)=>{const o=e.dom;fs(n,(a,c)=>{Dc(o,c,a)})},Hr=(e,n)=>{const o=e.dom,c=window.getComputedStyle(o).getPropertyValue(n);return c===""&&!Ua(e)?Mf(o,n):c},Mf=(e,n)=>Wa(e)?e.style.getPropertyValue(n):"",Br=(e,n)=>{const o=e.dom,a=Mf(o,n);return J.from(a).filter(c=>c.length>0)},ch=e=>{const n={},o=e.dom;if(Wa(o))for(let a=0;a<o.style.length;a++){const c=o.style.item(a);n[c]=o.style[c]}return n},gu=(e,n)=>{const o=e.dom;Wm(o,n),Af(lu(e,"style").map(Ue),"")&&Fo(e,"style")},b1=e=>e.dom.offsetWidth,Or=(e,n)=>{ga(e).each(a=>{a.dom.insertBefore(n.dom,e.dom)})},mt=(e,n)=>{Yn(e).fold(()=>{ga(e).each(c=>{Ur(c,n)})},a=>{Or(a,n)})},Ka=(e,n)=>{Hl(e).fold(()=>{Ur(e,n)},a=>{e.dom.insertBefore(n.dom,a.dom)})},Ur=(e,n)=>{e.dom.appendChild(n.dom)},Xl=(e,n)=>{Or(e,n),Ur(n,e)},Pc=(e,n)=>{be(n,(o,a)=>{const c=a===0?e:n[a-1];mt(c,o)})},oi=(e,n)=>{be(n,o=>{Ur(e,o)})},or=e=>{e.dom.textContent="",be(ha(e),n=>{Ns(n)})},Ns=e=>{const n=e.dom;n.parentNode!==null&&n.parentNode.removeChild(n)},ja=e=>{const n=ha(e);n.length>0&&Pc(e,n),Ns(e)},Jl=(e,n)=>{const a=(n||document).createElement("div");return a.innerHTML=e,ha(je.fromDom(a))},hu=e=>He(e,je.fromDom),qd=e=>e.dom.innerHTML,Km=(e,n)=>{const a=Ju(e).dom,c=je.fromDom(a.createDocumentFragment()),m=Jl(n,a);oi(c,m),or(e),Ur(e,c)},uh=e=>{const n=je.fromTag("div"),o=je.fromDom(e.dom.cloneNode(!0));return Ur(n,o),qd(n)},dh=(e,n,o,a,c,m,p)=>({target:e,x:n,y:o,stop:a,prevent:c,kill:m,raw:p}),tv=e=>{const n=je.fromDom(ev(e).getOr(e.target)),o=()=>e.stopPropagation(),a=()=>e.preventDefault(),c=Lt(a,o);return dh(n,e.clientX,e.clientY,o,a,c,e)},nv=(e,n)=>o=>{e(o)&&n(tv(o))},id=(e,n,o,a,c)=>{const m=nv(o,a);return e.dom.addEventListener(n,m,c),{unbind:et(G,e,n,m,c)}},L=(e,n,o,a)=>id(e,n,o,a,!1),G=(e,n,o,a)=>{e.dom.removeEventListener(n,o,a)},ce=(e,n)=>({left:e,top:n,translate:(a,c)=>ce(e+a,n+c)}),$e=ce,Je=e=>{const n=e.getBoundingClientRect();return $e(n.left,n.top)},$t=(e,n)=>e!==void 0?e:n!==void 0?n:0,Jn=e=>{const n=e.dom.ownerDocument,o=n.body,a=n.defaultView,c=n.documentElement;if(o===e.dom)return $e(o.offsetLeft,o.offsetTop);const m=$t(a==null?void 0:a.pageYOffset,c.scrollTop),p=$t(a==null?void 0:a.pageXOffset,c.scrollLeft),_=$t(c.clientTop,o.clientTop),A=$t(c.clientLeft,o.clientLeft);return To(e).translate(p-A,m-_)},To=e=>{const n=e.dom,a=n.ownerDocument.body;return a===n?$e(a.offsetLeft,a.offsetTop):Ua(e)?Je(n):$e(0,0)},xo=e=>{const n=e!==void 0?e.dom:document,o=n.body.scrollLeft||n.documentElement.scrollLeft,a=n.body.scrollTop||n.documentElement.scrollTop;return $e(o,a)},Fn=(e,n,o)=>{const c=(o!==void 0?o.dom:document).defaultView;c&&c.scrollTo(e,n)},Ss=(e,n)=>{ca().browser.isSafari()&&_e(e.dom.scrollIntoViewIfNeeded)?e.dom.scrollIntoViewIfNeeded(!1):e.dom.scrollIntoView(n)},Wr=e=>{const n=e===void 0?window:e;return ca().browser.isFirefox()?J.none():J.from(n.visualViewport)},Sr=(e,n,o,a)=>({x:e,y:n,width:o,height:a,right:e+o,bottom:n+a}),Nc=e=>{const n=e===void 0?window:e,o=n.document,a=xo(je.fromDom(o));return Wr(n).fold(()=>{const c=n.document.documentElement,m=c.clientWidth,p=c.clientHeight;return Sr(a.left,a.top,m,p)},c=>Sr(Math.max(c.pageLeft,a.left),Math.max(c.pageTop,a.top),c.width,c.height))},jm=(e,n)=>Ge(ha(e),n),Zm=(e,n)=>{let o=[];return be(ha(e),a=>{n(a)&&(o=o.concat([a])),o=o.concat(Zm(a,n))}),o},vi=(e,n)=>lh(n,e),KC=(e,n,o)=>ll(e,n,o).isSome(),ov=(e,n)=>Sp(e,n).isSome(),v1=(e,n)=>Yi(e,n).isSome();class pa{constructor(n,o){this.node=n,this.rootNode=o,this.current=this.current.bind(this),this.next=this.next.bind(this),this.prev=this.prev.bind(this),this.prev2=this.prev2.bind(this)}current(){return this.node}next(n){return this.node=this.findSibling(this.node,"firstChild","nextSibling",n),this.node}prev(n){return this.node=this.findSibling(this.node,"lastChild","previousSibling",n),this.node}prev2(n){return this.node=this.findPreviousNode(this.node,n),this.node}findSibling(n,o,a,c){if(n){if(!c&&n[o])return n[o];if(n!==this.rootNode){let m=n[a];if(m)return m;for(let p=n.parentNode;p&&p!==this.rootNode;p=p.parentNode)if(m=p[a],m)return m}}}findPreviousNode(n,o){if(n){const a=n.previousSibling;if(this.rootNode&&a===this.rootNode)return;if(a){if(!o){for(let m=a.lastChild;m;m=m.lastChild)if(!m.lastChild)return m}return a}const c=n.parentNode;if(c&&c!==this.rootNode)return c}}}const Rr="\uFEFF",Ni="",ad=e=>e===Rr,Ep=e=>e.replace(/\uFEFF/g,""),Dx=/^[ \t\r\n]*$/,uc=e=>Dx.test(e),El=e=>{for(const n of e)if(!ad(n))return!1;return!0},sv=e=>" \f	\v".indexOf(e)!==-1,Bf=e=>e===`
`||e==="\r",KE=(e,n)=>n<e.length&&n>=0?Bf(e[n]):!1,rv=(e,n=4,o=!0,a=!0)=>{const c=un(" ",n),m=e.replace(/\t/g,c);return cn(m,(_,A)=>sv(A)||A===Ni?_.pcIsSpace||_.str===""&&o||_.str.length===m.length-1&&a||KE(m,_.str.length+1)?{pcIsSpace:!1,str:_.str+Ni}:{pcIsSpace:!0,str:_.str+" "}:{pcIsSpace:Bf(A),str:_.str+A},{pcIsSpace:!1,str:""}).str},Yd=e=>n=>!!n&&n.nodeType===e,Ff=e=>!!e&&!Object.getPrototypeOf(e),Ln=Yd(1),pu=e=>Ln(e)&&Va(je.fromDom(e)),iv=e=>Ln(e)&&e.namespaceURI==="http://www.w3.org/2000/svg",$f=e=>{const n=e.toLowerCase();return o=>xe(o)&&o.nodeName.toLowerCase()===n},ba=e=>{const n=e.map(o=>o.toLowerCase());return o=>{if(o&&o.nodeName){const a=o.nodeName.toLowerCase();return we(n,a)}return!1}},Lc=(e,n)=>{const o=n.toLowerCase().split(" ");return a=>{if(Ln(a)){const c=a.ownerDocument.defaultView;if(c)for(let m=0;m<o.length;m++){const p=c.getComputedStyle(a,null);if((p?p.getPropertyValue(e):null)===o[m])return!0}}return!1}},fh=e=>n=>Ln(n)&&n.hasAttribute(e),Vf=e=>Ln(e)&&e.hasAttribute("data-mce-bogus"),y1=e=>Ln(e)&&e.getAttribute("data-mce-bogus")==="all",bu=e=>Ln(e)&&e.tagName==="TABLE",Ap=e=>n=>!!(pu(n)&&(n.contentEditable===e||n.getAttribute("data-mce-contenteditable")===e)),Tp=ba(["textarea","input"]),qt=Yd(3),Px=Yd(4),zf=Yd(7),Mo=Yd(8),$n=Yd(9),Hf=Yd(11),pr=$f("br"),Mc=$f("img"),Bc=Ap("true"),_o=Ap("false"),Op=ba(["td","th"]),jC=ba(["td","th","caption"]),Dt=ba(["video","audio","object","embed"]),Nx=$f("li"),Rp=$f("details"),Ip=$f("summary"),mh={skipBogus:!0,includeZwsp:!1,checkRootAsContent:!1},Gm=(e,n,o)=>{const a=je.fromDom(n),c=je.fromDom(e),m=o.getWhitespaceElements();return KC(c,_=>yo(m,os(_)),et(ss,a))},ZC=e=>Ln(e)&&e.nodeName==="A"&&!e.hasAttribute("href")&&(e.hasAttribute("name")||e.hasAttribute("id")),Uf=(e,n)=>Ln(e)&&yo(n.getNonEmptyElements(),e.nodeName),ar=fh("data-mce-bookmark"),ld=e=>Nf(je.fromDom(e)).exists(n=>!_r(n)),x1=(e,n,o)=>uc(e.data)&&!Gm(e,n,o),vu=(e,n,o,a)=>qt(e)&&!x1(e,n,o)&&(!a.includeZwsp||!El(e.data)),qm=(e,n,o,a)=>_e(a.isContent)&&a.isContent(n)||Uf(n,e)||ar(n)||ZC(n)||vu(n,o,e,a)||_o(n)||Bc(n)&&ld(n),dc=(e,n,o)=>{const a={...mh,...o};if(a.checkRootAsContent&&qm(e,n,n,a))return!1;let c=n.firstChild,m=0;if(!c)return!0;const p=new pa(c,n);do{if(a.skipBogus&&Ln(c)){const _=c.getAttribute("data-mce-bogus");if(_){c=p.next(_==="all");continue}}if(Mo(c)){c=p.next(!0);continue}if(pr(c)){m++,c=p.next();continue}if(qm(e,c,n,a))return!1;c=p.next()}while(c);return m<=1},Kr=(e,n,o)=>dc(e,n.dom,{checkRootAsContent:!0,...o}),av=(e,n,o)=>qm(e,n,n,{includeZwsp:mh.includeZwsp,...o}),Li=e=>{let n=e;return{get:()=>n,set:c=>{n=c}}},w1=e=>{const n=Li(J.none()),o=()=>n.get().each(e);return{clear:()=>{o(),n.set(J.none())},isSet:()=>n.get().isSome(),get:()=>n.get(),set:_=>{o(),n.set(J.some(_))}}},Fc=e=>{const n=Li(J.none()),o=()=>n.get().each(_=>clearInterval(_));return{clear:()=>{o(),n.set(J.none())},isSet:()=>n.get().isSome(),get:()=>n.get(),set:_=>{o(),n.set(J.some(setInterval(_,e)))}}},Mi=()=>{const e=w1(lt);return{...e,on:o=>e.get().each(o)}},Jt=e=>{const n=e.toLowerCase();return n==="svg"?"svg":n==="math"?"math":"html"},Ym=e=>Jt(e)!=="html",Bi=e=>Ym(e.nodeName),GC=e=>Jt(e.nodeName),qC=["svg","math"],jE=()=>{const e=Mi(),n=()=>e.get().map(GC).getOr("html");return{track:c=>(Bi(c)?e.set(c):e.get().exists(m=>!m.contains(c))&&e.clear(),n()),current:n,reset:()=>{e.clear()}}},Xd="data-mce-block",gh=e=>Ge(en(e),n=>!/[A-Z]/.test(n)),lv=e=>He(gh(e),n=>{const o=CSS.escape(n);return`${o}:`+He(qC,a=>`not(${a} ${o})`).join(":")}).join(","),C1=(e,n)=>xe(n.querySelector(e))?(n.setAttribute(Xd,"true"),n.getAttribute("data-mce-selected")==="inline-boundary"&&n.removeAttribute("data-mce-selected"),!0):(n.removeAttribute(Xd),!1),Lx=(e,n)=>{const o=lv(e.getTransparentElements()),a=lv(e.getBlockElements());return Ge(n.querySelectorAll(o),c=>C1(a,c))},kr=(e,n,o)=>{var a;const c=o?"lastChild":"firstChild";for(let m=n[c];m;m=m[c])if(dc(e,m,{checkRootAsContent:!0})){(a=m.parentNode)===null||a===void 0||a.removeChild(m);return}},cv=(e,n,o)=>{const a=document.createRange(),c=n.parentNode;if(c){a.setStartBefore(n),a.setEndBefore(o);const m=a.extractContents();kr(e,m,!0),a.setStartAfter(o),a.setEndAfter(n);const p=a.extractContents();kr(e,p,!1),dc(e,m,{checkRootAsContent:!0})||c.insertBefore(m,n),dc(e,o,{checkRootAsContent:!0})||c.insertBefore(o,n),dc(e,p,{checkRootAsContent:!0})||c.insertBefore(p,n),c.removeChild(n)}},Ir=(e,n,o)=>{const a=e.getBlockElements(),c=je.fromDom(n),m=_=>os(_)in a,p=_=>ss(_,c);be(hu(o),_=>{ll(_,m,p).each(A=>{const $=jm(_,q=>m(q)&&!e.isValidChild(os(A),os(q)));if($.length>0){const q=Nf(A);be($,X=>{ll(X,m,p).each(oe=>{cv(e,oe.dom,X.dom)})}),q.each(X=>Lx(e,X.dom))}})})},ul=(e,n,o)=>{be([...o,...Wf(e,n)?[n]:[]],a=>be(vi(je.fromDom(a),a.nodeName.toLowerCase()),c=>{YC(e,c.dom)&&ja(c)}))},jr=(e,n)=>{const o=Lx(e,n);Ir(e,n,o),ul(e,n,o)},fc=(e,n)=>{if(Dp(e,n)){const o=lv(e.getBlockElements());C1(o,n)}},Jd=(e,n,o)=>{const a=m=>ss(m,je.fromDom(n)),c=zm(je.fromDom(o),a);Zi(c,c.length-2).filter(zr).fold(()=>jr(e,n),m=>jr(e,m.dom))},Ji=e=>e.hasAttribute(Xd),uv=(e,n)=>yo(e.getTransparentElements(),n),Dp=(e,n)=>Ln(n)&&uv(e,n.nodeName),Wf=(e,n)=>Dp(e,n)&&Ji(n),YC=(e,n)=>Dp(e,n)&&!Ji(n),Pp=(e,n)=>n.type===1&&uv(e,n.name)&&le(n.attr(Xd)),Mx=ca().browser,_1=e=>xn(e,zr),dv=e=>Mx.isFirefox()&&os(e)==="table"?_1(ha(e)).filter(n=>os(n)==="caption").bind(n=>_1(Hm(n)).map(o=>{const a=o.dom.offsetTop,c=n.dom.offsetTop,m=n.dom.offsetHeight;return a<=c?-m:0})).getOr(0):0,S1=(e,n)=>e.children&&we(e.children,n),Bx=(e,n,o)=>{let a=0,c=0;const m=e.ownerDocument;if(o=o||e,n){if(o===e&&n.getBoundingClientRect&&Hr(je.fromDom(e),"position")==="static"){const _=n.getBoundingClientRect();return a=_.left+(m.documentElement.scrollLeft||e.scrollLeft)-m.documentElement.clientLeft,c=_.top+(m.documentElement.scrollTop||e.scrollTop)-m.documentElement.clientTop,{x:a,y:c}}let p=n;for(;p&&p!==o&&p.nodeType&&!S1(p,o);){const _=p;a+=_.offsetLeft||0,c+=_.offsetTop||0,p=_.offsetParent}for(p=n.parentNode;p&&p!==o&&p.nodeType&&!S1(p,o);)a-=p.scrollLeft||0,c-=p.scrollTop||0,p=p.parentNode;c+=dv(je.fromDom(n))}return{x:a,y:c}},Xm=(e,n={})=>{let o=0;const a={},c=je.fromDom(e),m=lc(c),p=Ye=>{n.referrerPolicy=Ye},_=Ye=>{n.contentCssCors=Ye},A=Ye=>{Ur(Um(c),Ye)},$=Ye=>{const st=Um(c);Ft(st,"#"+Ye).each(Ns)},q=Ye=>Ps(a,Ye).getOrThunk(()=>({id:"mce-u"+o++,passed:[],failed:[],count:0})),X=Ye=>new Promise((st,nt)=>{let yt;const Ut=rn._addCacheSuffix(Ye),on=q(Ut);a[Ut]=on,on.count++;const _n=(Pn,jn)=>{be(Pn,Wt),on.status=jn,on.passed=[],on.failed=[],yt&&(yt.onload=null,yt.onerror=null,yt=null)},Pt=()=>_n(on.passed,2),St=()=>_n(on.failed,3);if(st&&on.passed.push(st),nt&&on.failed.push(nt),on.status===1)return;if(on.status===2){Pt();return}if(on.status===3){St();return}on.status=1;const zt=je.fromTag("link",m.dom);za(zt,{rel:"stylesheet",type:"text/css",id:on.id}),n.contentCssCors&&_i(zt,"crossOrigin","anonymous"),n.referrerPolicy&&_i(zt,"referrerpolicy",n.referrerPolicy),yt=zt.dom,yt.onload=Pt,yt.onerror=St,A(zt),_i(zt,"href",Ut)}),oe=(Ye,st)=>{const nt=q(Ye);a[Ye]=nt,nt.count++;const yt=je.fromTag("style",m.dom);za(yt,{rel:"stylesheet",type:"text/css",id:nt.id}),yt.dom.innerHTML=st,A(yt)},ve=Ye=>Promise.allSettled(He(Ye,nt=>X(nt).then(dt(nt)))).then(nt=>{const yt=Ne(nt,Ut=>Ut.status==="fulfilled");return yt.fail.length>0?Promise.reject(He(yt.fail,Ut=>Ut.reason)):He(yt.pass,Ut=>Ut.value)}),Oe=Ye=>{const st=rn._addCacheSuffix(Ye);Ps(a,st).each(nt=>{--nt.count===0&&(delete a[st],$(nt.id))})};return{load:X,loadRawCss:oe,loadAll:ve,unload:Oe,unloadRawCss:Ye=>{Ps(a,Ye).each(st=>{--st.count===0&&(delete a[Ye],$(st.id))})},unloadAll:Ye=>{be(Ye,st=>{Oe(st)})},_setReferrerPolicy:p,_setContentCssCors:_}},k1=(()=>{const e=new WeakMap;return{forElement:(o,a)=>{const m=fu(o).dom;return J.from(e.get(m)).getOrThunk(()=>{const p=Xm(m,a);return e.set(m,p),p})}}})(),E1=e=>e.nodeName.toLowerCase()==="span",Fx=(e,n)=>xe(e)&&(av(n,e)||n.isInline(e.nodeName.toLowerCase())),$x=(e,n,o)=>{const a=new pa(e,n).prev(!1),c=new pa(e,n).next(!1),m=Xe(a)||Fx(a,o),p=Xe(c)||Fx(c,o);return m&&p},fv=e=>E1(e)&&e.getAttribute("data-mce-type")==="bookmark",Vx=(e,n,o)=>qt(e)&&e.data.length>0&&$x(e,n,o),zx=e=>Ln(e)?e.childNodes.length>0:!1,mv=e=>Hf(e)||$n(e),Np=(e,n,o,a)=>{var c;const m=a||n;if(Ln(n)&&fv(n))return n;const p=n.childNodes;for(let _=p.length-1;_>=0;_--)Np(e,p[_],o,m);if(Ln(n)){const _=n.childNodes;_.length===1&&fv(_[0])&&((c=n.parentNode)===null||c===void 0||c.insertBefore(_[0],n))}return!mv(n)&&!av(o,n)&&!zx(n)&&!Vx(n,m,o)&&e.remove(n),n},Hx=rn.makeMap,gv=/[&<>\"\u0060\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,hv=/[<>&\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Jm=/[<>&\"\']/g,Lp=/&#([a-z0-9]+);?|&([a-z0-9]+);/gi,Ux={128:"",130:"",131:"",132:"",133:"",134:"",135:"",136:"",137:"",138:"",139:"",140:"",142:"",145:"",146:"",147:"",148:"",149:"",150:"",151:"",152:"",153:"",154:"",155:"",156:"",158:"",159:""},Qd={'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;","&":"&amp;","`":"&#96;"},hh={"&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"',"&apos;":"'"},ph=e=>{const n=je.fromTag("div").dom;return n.innerHTML=e,n.textContent||n.innerText||e},ef=(e,n)=>{const o={};if(e){const a=e.split(",");n=n||10;for(let c=0;c<a.length;c+=2){const m=String.fromCharCode(parseInt(a[c],n));if(!Qd[m]){const p="&"+a[c+1]+";";o[m]=p,o[p]=m}}return o}else return},Kf=ef("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32),pv=(e,n)=>e.replace(n?gv:hv,o=>Qd[o]||o),GE=e=>(""+e).replace(Jm,n=>Qd[n]||n),bv=(e,n)=>e.replace(n?gv:hv,o=>o.length>1?"&#"+((o.charCodeAt(0)-55296)*1024+(o.charCodeAt(1)-56320)+65536)+";":Qd[o]||"&#"+o.charCodeAt(0)+";"),$c=(e,n,o)=>{const a=o||Kf;return e.replace(n?gv:hv,c=>Qd[c]||a[c]||c)},bh={encodeRaw:pv,encodeAllRaw:GE,encodeNumeric:bv,encodeNamed:$c,getEncodeFunc:(e,n)=>{const o=ef(n)||Kf,a=(p,_)=>p.replace(_?gv:hv,A=>Qd[A]!==void 0?Qd[A]:o[A]!==void 0?o[A]:A.length>1?"&#"+((A.charCodeAt(0)-55296)*1024+(A.charCodeAt(1)-56320)+65536)+";":"&#"+A.charCodeAt(0)+";"),c=(p,_)=>$c(p,_,o),m=Hx(e.replace(/\+/g,","));return m.named&&m.numeric?a:m.named?n?c:$c:m.numeric?bv:pv},decode:e=>e.replace(Lp,(n,o)=>o?(o.charAt(0).toLowerCase()==="x"?o=parseInt(o.substr(1),16):o=parseInt(o,10),o>65535?(o-=65536,String.fromCharCode(55296+(o>>10),56320+(o&1023))):Ux[o]||String.fromCharCode(o)):hh[n]||Kf[n]||ph(n))},va=(e,n)=>(e=rn.trim(e),e?e.split(n||" "):[]),vh=e=>new RegExp("^"+e.replace(/([?+*])/g,".$1")+"$"),yh=e=>j(e)&&e.source&&Object.prototype.toString.call(e)==="[object RegExp]",A1=e=>{const n=o=>ne(o)?He(o,n):yh(o)?new RegExp(o.source,o.flags):j(o)?Zl(o,n):o;return n(e)},rs=e=>{const n=/^(~)?(.+)$/;return zo(va(e,","),o=>{const a=n.exec(o);if(a){const m=a[1]==="~"?"span":"div",p=a[2];return[{cloneName:m,name:p}]}else return[]})},Al=e=>Object.freeze(["id","accesskey","class","dir","lang","style","tabindex","title","role",...e!=="html4"?["contenteditable","contextmenu","draggable","dropzone","hidden","spellcheck","translate","itemprop","itemscope","itemtype"]:[],...e!=="html5-strict"?["xml:lang"]:[]]),cd=e=>{let n,o;n="address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul",o="a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd label map noscript object q s samp script select small span strong sub sup textarea u var #text #comment",e!=="html4"&&(n+=" article aside details dialog figure main header footer hgroup section nav "+"a ins del canvas map",o+=" audio canvas command data datalist mark meter output picture progress time wbr video ruby bdi keygen svg"),e!=="html5-strict"&&(o=[o,"acronym applet basefont big font strike tt"].join(" "),n=[n,"center dir isindex noframes"].join(" "));const a=[n,o].join(" ");return{blockContent:n,phrasingContent:o,flowContent:a}},Na=e=>{const{blockContent:n,phrasingContent:o,flowContent:a}=cd(e),c=m=>Object.freeze(m.split(" "));return Object.freeze({blockContent:c(n),phrasingContent:c(o),flowContent:c(a)})},Xs={html4:$l(()=>Na("html4")),html5:$l(()=>Na("html5")),"html5-strict":$l(()=>Na("html5-strict"))},vv=(e,n)=>{const{blockContent:o,phrasingContent:a,flowContent:c}=Xs[e]();return n==="blocks"?J.some(o):n==="phrasing"?J.some(a):n==="flow"?J.some(c):J.none()},JC=e=>{const n=Al(e),{phrasingContent:o,flowContent:a}=cd(e),c={},m=(A,$,q)=>{c[A]={attributes:ei($,dt({})),attributesOrder:$,children:ei(q,dt({}))}},p=(A,$="",q="")=>{const X=va(q),oe=va(A);let ve=oe.length;const Oe=[...n,...va($)];for(;ve--;)m(oe[ve],Oe.slice(),X)},_=(A,$)=>{const q=va(A),X=va($);let oe=q.length;for(;oe--;){const ve=c[q[oe]];for(let Oe=0,ye=X.length;Oe<ye;Oe++)ve.attributes[X[Oe]]={},ve.attributesOrder.push(X[Oe])}};return e!=="html5-strict"&&(be(va("acronym applet basefont big font strike tt"),q=>{p(q,"",o)}),be(va("center dir isindex noframes"),q=>{p(q,"",a)})),p("html","manifest","head body"),p("head","","base command link meta noscript script style title"),p("title hr noscript br"),p("base","href target"),p("link","href rel media hreflang type sizes hreflang"),p("meta","name http-equiv content charset"),p("style","media type scoped"),p("script","src async defer type charset"),p("body","onafterprint onbeforeprint onbeforeunload onblur onerror onfocus onhashchange onload onmessage onoffline ononline onpagehide onpageshow onpopstate onresize onscroll onstorage onunload",a),p("dd div","",a),p("address dt caption","",e==="html4"?o:a),p("h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn","",o),p("blockquote","cite",a),p("ol","reversed start type","li"),p("ul","","li"),p("li","value",a),p("dl","","dt dd"),p("a","href target rel media hreflang type",e==="html4"?o:a),p("q","cite",o),p("ins del","cite datetime",a),p("img","src sizes srcset alt usemap ismap width height"),p("iframe","src name width height",a),p("embed","src type width height"),p("object","data type typemustmatch name usemap form width height",[a,"param"].join(" ")),p("param","name value"),p("map","name",[a,"area"].join(" ")),p("area","alt coords shape href target rel media hreflang type"),p("table","border","caption colgroup thead tfoot tbody tr"+(e==="html4"?" col":"")),p("colgroup","span","col"),p("col","span"),p("tbody thead tfoot","","tr"),p("tr","","td th"),p("td","colspan rowspan headers",a),p("th","colspan rowspan headers scope abbr",a),p("form","accept-charset action autocomplete enctype method name novalidate target",a),p("fieldset","disabled form name",[a,"legend"].join(" ")),p("label","form for",o),p("input","accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate formtarget height list max maxlength min multiple name pattern readonly required size src step type value width"),p("button","disabled form formaction formenctype formmethod formnovalidate formtarget name type value",e==="html4"?a:o),p("select","disabled form multiple name required size","option optgroup"),p("optgroup","disabled label","option"),p("option","disabled label selected value"),p("textarea","cols dirname disabled form maxlength name readonly required rows wrap"),p("menu","type label",[a,"li"].join(" ")),p("noscript","",a),e!=="html4"&&(p("wbr"),p("ruby","",[o,"rt rp"].join(" ")),p("figcaption","",a),p("mark rt rp bdi","",o),p("summary","",[o,"h1 h2 h3 h4 h5 h6"].join(" ")),p("canvas","width height",a),p("data","value",o),p("video","src crossorigin poster preload autoplay mediagroup loop muted controls width height buffered",[a,"track source"].join(" ")),p("audio","src crossorigin preload autoplay mediagroup loop muted controls buffered volume",[a,"track source"].join(" ")),p("picture","","img source"),p("source","src srcset type media sizes"),p("track","kind src srclang label default"),p("datalist","",[o,"option"].join(" ")),p("article section nav aside main header footer","",a),p("hgroup","","h1 h2 h3 h4 h5 h6"),p("figure","",[a,"figcaption"].join(" ")),p("time","datetime",o),p("dialog","open",a),p("command","type label icon disabled checked radiogroup command"),p("output","for form name",o),p("progress","value max",o),p("meter","value min max low high optimum",o),p("details","open",[a,"summary"].join(" ")),p("keygen","autofocus challenge disabled form keytype name"),m("svg","id tabindex lang xml:space class style x y width height viewBox preserveAspectRatio zoomAndPan transform".split(" "),[])),e!=="html5-strict"&&(_("script","language xml:space"),_("style","xml:space"),_("object","declare classid code codebase codetype archive standby align border hspace vspace"),_("embed","align name hspace vspace"),_("param","valuetype type"),_("a","charset name rev shape coords"),_("br","clear"),_("applet","codebase archive code object alt name width height align hspace vspace"),_("img","name longdesc align border hspace vspace"),_("iframe","longdesc frameborder marginwidth marginheight scrolling align"),_("font basefont","size color face"),_("input","usemap align"),_("select"),_("textarea"),_("h1 h2 h3 h4 h5 h6 div p legend caption","align"),_("ul","type compact"),_("li","type"),_("ol dl menu dir","compact"),_("pre","width xml:space"),_("hr","align noshade size width"),_("isindex","prompt"),_("table","summary width frame rules cellspacing cellpadding align bgcolor"),_("col","width align char charoff valign"),_("colgroup","width align char charoff valign"),_("thead","align char charoff valign"),_("tr","align char charoff valign bgcolor"),_("th","axis align char charoff valign nowrap bgcolor width height"),_("form","accept"),_("td","abbr axis scope align char charoff valign nowrap bgcolor width height"),_("tfoot","align char charoff valign"),_("tbody","align char charoff valign"),_("area","nohref"),_("body","background bgcolor text link vlink alink")),e!=="html4"&&(_("input button select textarea","autofocus"),_("input textarea","placeholder"),_("a","download"),_("link script img","crossorigin"),_("img","loading"),_("iframe","sandbox seamless allow allowfullscreen loading referrerpolicy")),e!=="html4"&&be([c.video,c.audio],A=>{delete A.children.audio,delete A.children.video}),be(va("a form meter progress dfn"),A=>{c[A]&&delete c[A].children[A]}),delete c.caption.children.table,delete c.script,c},qE=e=>e==="-"?"remove":"add",dr=e=>{const n=/^(@?)([A-Za-z0-9_\-.\u00b7\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u037d\u037f-\u1fff\u200c-\u200d\u203f-\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]+)$/;return J.from(n.exec(e)).map(o=>({preset:o[1]==="@",name:o[2]}))},T1=e=>{const n=/^([+\-]?)([A-Za-z0-9_\-.\u00b7\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u037d\u037f-\u1fff\u200c-\u200d\u203f-\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]+)\[([^\]]+)]$/;return zo(va(e,","),o=>{const a=n.exec(o);if(a){const c=a[1],m=c?qE(c):"replace",p=a[2],_=zo(va(a[3],"|"),A=>dr(A).toArray());return[{operation:m,name:p,validChildren:_}]}else return[]})},Kx=(e,n)=>{const o=/^([!\-])?(\w+[\\:]:\w+|[^=~<]+)?(?:([=~<])(.*))?$/,a=/[*?+]/,{attributes:c,attributesOrder:m}=n;return be(va(e,"|"),p=>{const _=o.exec(p);if(_){const A={},$=_[1],q=_[2].replace(/[\\:]:/g,":"),X=_[3],oe=_[4];if($==="!"&&(n.attributesRequired=n.attributesRequired||[],n.attributesRequired.push(q),A.required=!0),$==="-"){delete c[q],m.splice(rn.inArray(m,q),1);return}if(X&&(X==="="?(n.attributesDefault=n.attributesDefault||[],n.attributesDefault.push({name:q,value:oe}),A.defaultValue=oe):X==="~"?(n.attributesForced=n.attributesForced||[],n.attributesForced.push({name:q,value:oe}),A.forcedValue=oe):X==="<"&&(A.validValues=rn.makeMap(oe,"?"))),a.test(q)){const ve=A;n.attributePatterns=n.attributePatterns||[],ve.pattern=vh(q),n.attributePatterns.push(ve)}else c[q]||m.push(q),c[q]=A}})},Qm=(e,n)=>{fs(e.attributes,(o,a)=>{n.attributes[a]=o}),n.attributesOrder.push(...e.attributesOrder)},Vc=(e,n)=>{const o=/^([#+\-])?([^\[!\/]+)(?:\/([^\[!]+))?(?:(!?)\[([^\]]+)])?$/;return zo(va(n,","),a=>{const c=o.exec(a);if(c){const m=c[1],p=c[2],_=c[3],A=c[4],$=c[5],q={attributes:{},attributesOrder:[]};if(e.each(X=>Qm(X,q)),m==="#"?q.paddEmpty=!0:m==="-"&&(q.removeEmpty=!0),A==="!"&&(q.removeEmptyAttrs=!0),$&&Kx($,q),_&&(q.outputName=p),p==="@")if(e.isNone())e=J.some(q);else return[];return[_?{name:p,element:q,aliasName:_}:{name:p,element:q}]}else return[]})},Mp={},En=rn.makeMap,yu=rn.each,jx=rn.extend,O1=rn.explode,Bp=(e,n={})=>{const o=En(e," ",En(e.toUpperCase()," "));return jx(o,n)},R1=e=>Bp("td th li dt dd figcaption caption details summary",e.getTextBlockElements()),xh=(e,n)=>{if(e){const o={};return le(e)&&(e={"*":e}),yu(e,(a,c)=>{o[c]=o[c.toUpperCase()]=n==="map"?En(a,/[, ]/):O1(a,/[, ]/)}),o}else return},zc=(e={})=>{var n;const o={},a={};let c=[];const m={},p={},_=(qn,hs,Yr)=>{const wi=e[qn];if(wi)return En(wi,/[, ]/,En(wi.toUpperCase(),/[, ]/));{let oa=Mp[qn];return oa||(oa=Bp(hs,Yr),Mp[qn]=oa),oa}},A=(n=e.schema)!==null&&n!==void 0?n:"html5",$=JC(A);e.verify_html===!1&&(e.valid_elements="*[*]");const q=xh(e.valid_styles),X=xh(e.invalid_styles,"map"),oe=xh(e.valid_classes,"map"),ve=_("whitespace_elements","pre script noscript style textarea video audio iframe object code"),Oe=_("self_closing_elements","colgroup dd dt li option p td tfoot th thead tr"),ye=_("void_elements","area base basefont br col frame hr img input isindex link meta param embed source wbr track"),Pe=_("boolean_attributes","checked compact declare defer disabled ismap multiple nohref noresize noshade nowrap readonly selected autoplay loop controls allowfullscreen"),Ye="td th iframe video audio object script code",st=_("non_empty_elements",Ye+" pre svg textarea summary",ye),nt=_("move_caret_before_on_enter_elements",Ye+" table",ye),yt="h1 h2 h3 h4 h5 h6",Ut=_("text_block_elements",yt+" p div address pre form blockquote center dir fieldset header footer article section hgroup aside main nav figure"),on=_("block_elements","hr table tbody thead tfoot th tr td li ol ul caption dl dt dd noscript menu isindex option datalist select optgroup figcaption details summary html body multicol listing",Ut),_n=_("text_inline_elements","span strong b em i font s strike u var cite dfn code mark q sup sub samp"),Pt=_("transparent_elements","a ins del canvas map"),St=_("wrap_block_elements","pre "+yt);yu("script noscript iframe noframes noembed title style textarea xmp plaintext".split(" "),qn=>{p[qn]=new RegExp("</"+qn+"[^>]*>","gi")});const zt=qn=>{const hs=J.from(o["@"]),Yr=/[*?+]/;be(Vc(hs,qn??""),({name:wi,element:oa,aliasName:bl})=>{if(bl&&(o[bl]=oa),Yr.test(wi)){const zi=oa;zi.pattern=vh(wi),c.push(zi)}else o[wi]=oa})},Pn=qn=>{c=[],be(en(o),hs=>{delete o[hs]}),zt(qn)},jn=(qn,hs)=>{var Yr,wi;delete Mp.text_block_elements,delete Mp.block_elements;const oa=hs.extends?!Ad(hs.extends):!1,bl=hs.extends;if(a[qn]=bl?a[bl]:{},m[qn]=bl??qn,st[qn.toUpperCase()]={},st[qn]={},oa||(on[qn.toUpperCase()]={},on[qn]={}),bl&&!o[qn]&&o[bl]){const zi=A1(o[bl]);delete zi.removeEmptyAttrs,delete zi.removeEmpty,o[qn]=zi}else o[qn]={attributesOrder:[],attributes:{}};if(ne(hs.attributes)){const zi=Cc=>{Hi.attributesOrder.push(Cc),Hi.attributes[Cc]={}},Hi=(Yr=o[qn])!==null&&Yr!==void 0?Yr:{};delete Hi.attributesDefault,delete Hi.attributesForced,delete Hi.attributePatterns,delete Hi.attributesRequired,Hi.attributesOrder=[],Hi.attributes={},be(hs.attributes,Cc=>{const Mg=Al(A);dr(Cc).each(({preset:Bg,name:Fg})=>{Bg?Fg==="global"&&be(Mg,zi):zi(Fg)})}),o[qn]=Hi}if(Fe(hs.padEmpty)){const zi=(wi=o[qn])!==null&&wi!==void 0?wi:{};zi.paddEmpty=hs.padEmpty,o[qn]=zi}if(ne(hs.children)){const zi={},Hi=Mg=>{zi[Mg]={}},Cc=Mg=>{vv(A,Mg).each(Bg=>{be(Bg,Hi)})};be(hs.children,Mg=>{dr(Mg).each(({preset:Bg,name:Fg})=>{Bg?Cc(Fg):Hi(Fg)})}),a[qn]=zi}bl&&fs(a,(zi,Hi)=>{zi[bl]&&(a[Hi]=zi=jx({},a[Hi]),zi[qn]=zi[bl])})},Ho=qn=>{be(rs(qn??""),({name:hs,cloneName:Yr})=>{jn(hs,{extends:Yr})})},qo=qn=>{j(qn)?fs(qn,(hs,Yr)=>jn(Yr,hs)):le(qn)&&Ho(qn)},Ls=qn=>{be(T1(qn??""),({operation:hs,name:Yr,validChildren:wi})=>{const oa=hs==="replace"?{"#comment":{}}:a[Yr],bl=Hi=>{hs==="remove"?delete oa[Hi]:oa[Hi]={}},zi=Hi=>{vv(A,Hi).each(Cc=>{be(Cc,bl)})};be(wi,({preset:Hi,name:Cc})=>{Hi?zi(Cc):bl(Cc)}),a[Yr]=oa})},js=qn=>{const hs=o[qn];if(hs)return hs;let Yr=c.length;for(;Yr--;){const wi=c[Yr];if(wi.pattern.test(qn))return wi}},mi=()=>{e.valid_elements?(Pn(e.valid_elements),yu($,(qn,hs)=>{a[hs]=qn.children})):(yu($,(qn,hs)=>{o[hs]={attributes:qn.attributes,attributesOrder:qn.attributesOrder},a[hs]=qn.children}),yu(va("strong/b em/i"),qn=>{const hs=va(qn,"/");o[hs[1]].outputName=hs[0]}),yu(_n,(qn,hs)=>{o[hs]&&(e.padd_empty_block_inline_children&&(o[hs].paddInEmptyBlock=!0),o[hs].removeEmpty=!0)}),yu(va("ol ul blockquote a table tbody"),qn=>{o[qn]&&(o[qn].removeEmpty=!0)}),yu(va("p h1 h2 h3 h4 h5 h6 th td pre div address caption li summary"),qn=>{o[qn]&&(o[qn].paddEmpty=!0)}),yu(va("span"),qn=>{o[qn].removeEmptyAttrs=!0})),delete o.svg,qo(e.custom_elements),Ls(e.valid_children),zt(e.extended_valid_elements),Ls("+ol[ul|ol],+ul[ul|ol]"),yu({dd:"dl",dt:"dl",li:"ul ol",td:"tr",th:"tr",tr:"tbody thead tfoot",tbody:"table",thead:"table",tfoot:"table",legend:"fieldset",area:"map",param:"video audio object"},(qn,hs)=>{o[hs]&&(o[hs].parentsRequired=va(qn))}),e.invalid_elements&&yu(O1(e.invalid_elements),qn=>{o[qn]&&delete o[qn]}),js("span")||zt("span[!data-mce-type|*]")},Ll=dt(q),er=dt(X),dn=dt(oe),Un=dt(Pe),ks=dt(on),hn=dt(Ut),to=dt(_n),Zo=dt(Object.seal(ye)),Cn=dt(Oe),Uo=dt(st),Xo=dt(nt),Fa=dt(ve),Ws=dt(Pt),ka=dt(St),bm=dt(Object.seal(p)),sp=(qn,hs)=>{const Yr=a[qn.toLowerCase()];return!!(Yr&&Yr[hs.toLowerCase()])},wc=(qn,hs)=>{const Yr=js(qn);if(Yr)if(hs){if(Yr.attributes[hs])return!0;const wi=Yr.attributePatterns;if(wi){let oa=wi.length;for(;oa--;)if(wi[oa].pattern.test(hs))return!0}}else return!0;return!1},Ad=qn=>yo(ks(),qn),vm=qn=>!cr(qn,"#")&&wc(qn)&&!Ad(qn),Td=qn=>yo(ka(),qn)||vm(qn),ym=dt(m);return mi(),{type:A,children:a,elements:o,getValidStyles:Ll,getValidClasses:dn,getBlockElements:ks,getInvalidStyles:er,getVoidElements:Zo,getTextBlockElements:hn,getTextInlineElements:to,getBoolAttrs:Un,getElementRule:js,getSelfClosingElements:Cn,getNonEmptyElements:Uo,getMoveCaretBeforeOnEnterElements:Xo,getWhitespaceElements:Fa,getTransparentElements:Ws,getSpecialElements:bm,isValidChild:sp,isValid:wc,isBlock:Ad,isInline:vm,isWrapper:Td,getCustomElements:ym,addValidElements:zt,setValidElements:Pn,addCustomElements:qo,addValidChildren:Ls}},YE=e=>({value:I1(e)}),I1=e=>iu(e,"#").toUpperCase(),Zx=e=>{const n=e.toString(16);return(n.length===1?"0"+n:n).toUpperCase()},D1=e=>{const n=Zx(e.red)+Zx(e.green)+Zx(e.blue);return YE(n)},Gx=/^\s*rgb\s*\(\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*(\d+)\s*\)\s*$/i,qx=/^\s*rgba\s*\(\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*((?:\d?\.\d+|\d+)%?)\s*\)\s*$/i,P1=(e,n,o,a)=>({red:e,green:n,blue:o,alpha:a}),Yx=(e,n,o,a)=>{const c=parseInt(e,10),m=parseInt(n,10),p=parseInt(o,10),_=parseFloat(a);return P1(c,m,p,_)},Xx=e=>Gx.test(e)?"rgb":qx.test(e)?"rgba":"other",QC=e=>{const n=Gx.exec(e);if(n!==null)return J.some(Yx(n[1],n[2],n[3],"1"));const o=qx.exec(e);return o!==null?J.some(Yx(o[1],o[2],o[3],o[4])):J.none()},XE=e=>`rgba(${e.red},${e.green},${e.blue},${e.alpha})`,yv=e=>QC(e).map(D1).map(n=>"#"+n.value).getOr(e),Jx=(e={},n)=>{const o=/(?:url(?:(?:\(\s*\"([^\"]+)\"\s*\))|(?:\(\s*\'([^\']+)\'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:\'([^\']+)\')|(?:\"([^\"]+)\")/gi,a=/\s*([^:]+):\s*([^;]+);?/g,c=/\s+$/,m={};let p,_;const A=Rr;n&&(p=n.getValidStyles(),_=n.getInvalidStyles());const $=(`\\" \\' \\; \\: ; : `+A).split(" ");for(let X=0;X<$.length;X++)m[$[X]]=A+X,m[A+X]=$[X];const q={parse:X=>{const oe={};let ve=!1;const Oe=e.url_converter,ye=e.url_converter_scope||q,Pe=(Pt,St,zt)=>{const Pn=oe[Pt+"-top"+St];if(!Pn)return;const jn=oe[Pt+"-right"+St];if(!jn)return;const Ho=oe[Pt+"-bottom"+St];if(!Ho)return;const qo=oe[Pt+"-left"+St];if(!qo)return;const Ls=[Pn,jn,Ho,qo];let js=Ls.length-1;for(;js--&&Ls[js]===Ls[js+1];);js>-1&&zt||(oe[Pt+St]=js===-1?Ls[0]:Ls.join(" "),delete oe[Pt+"-top"+St],delete oe[Pt+"-right"+St],delete oe[Pt+"-bottom"+St],delete oe[Pt+"-left"+St])},Ye=Pt=>{const St=oe[Pt];if(!St)return;const zt=St.indexOf(",")>-1?[St]:St.split(" ");let Pn=zt.length;for(;Pn--;)if(zt[Pn]!==zt[0])return!1;return oe[Pt]=zt[0],!0},st=(Pt,St,zt,Pn)=>{Ye(St)&&Ye(zt)&&Ye(Pn)&&(oe[Pt]=oe[St]+" "+oe[zt]+" "+oe[Pn],delete oe[St],delete oe[zt],delete oe[Pn])},nt=Pt=>(ve=!0,m[Pt]),yt=(Pt,St)=>(ve&&(Pt=Pt.replace(/\uFEFF[0-9]/g,zt=>m[zt])),St||(Pt=Pt.replace(/\\([\'\";:])/g,"$1")),Pt),Ut=Pt=>String.fromCharCode(parseInt(Pt.slice(1),16)),on=Pt=>Pt.replace(/\\[0-9a-f]+/gi,Ut),_n=(Pt,St,zt,Pn,jn,Ho)=>{if(jn=jn||Ho,jn)return jn=yt(jn),"'"+jn.replace(/\'/g,"\\'")+"'";if(St=yt(St||zt||Pn||""),!e.allow_script_urls){const qo=St.replace(/[\s\r\n]+/g,"");if(/(java|vb)script:/i.test(qo)||!e.allow_svg_data_urls&&/^data:image\/svg/i.test(qo))return""}return Oe&&(St=Oe.call(ye,St,"style")),"url('"+St.replace(/\'/g,"\\'")+"')"};if(X){X=X.replace(/[\u0000-\u001F]/g,""),X=X.replace(/\\[\"\';:\uFEFF]/g,nt).replace(/\"[^\"]+\"|\'[^\']+\'/g,St=>St.replace(/[;:]/g,nt));let Pt;for(;Pt=a.exec(X);){a.lastIndex=Pt.index+Pt[0].length;let St=Pt[1].replace(c,"").toLowerCase(),zt=Pt[2].replace(c,"");if(St&&zt){if(St=on(St),zt=on(zt),St.indexOf(A)!==-1||St.indexOf('"')!==-1||!e.allow_script_urls&&(St==="behavior"||/expression\s*\(|\/\*|\*\//.test(zt)))continue;St==="font-weight"&&zt==="700"?zt="bold":(St==="color"||St==="background-color")&&(zt=zt.toLowerCase()),Xx(zt)==="rgb"&&QC(zt).each(Pn=>{zt=yv(XE(Pn)).toLowerCase()}),zt=zt.replace(o,_n),oe[St]=ve?yt(zt,!0):zt}}Pe("border","",!0),Pe("border","-width"),Pe("border","-color"),Pe("border","-style"),Pe("padding",""),Pe("margin",""),st("border","border-width","border-style","border-color"),oe.border==="medium none"&&delete oe.border,oe["border-image"]==="none"&&delete oe["border-image"]}return oe},serialize:(X,oe)=>{let ve="";const Oe=(Pe,Ye)=>{const st=Ye[Pe];if(st)for(let nt=0,yt=st.length;nt<yt;nt++){const Ut=st[nt],on=X[Ut];on&&(ve+=(ve.length>0?" ":"")+Ut+": "+on+";")}},ye=(Pe,Ye)=>{if(!_||!Ye)return!0;let st=_["*"];return st&&st[Pe]?!1:(st=_[Ye],!(st&&st[Pe]))};return oe&&p?(Oe("*",p),Oe(oe,p)):fs(X,(Pe,Ye)=>{Pe&&ye(Ye,oe)&&(ve+=(ve.length>0?" ":"")+Ye+": "+Pe+";")}),ve}};return q},wh={keyLocation:!0,layerX:!0,layerY:!0,returnValue:!0,webkitMovementX:!0,webkitMovementY:!0,keyIdentifier:!0,mozPressure:!0},JE=e=>e instanceof Event||_e(e.initEvent),QE=e=>e.isDefaultPrevented===sn||e.isDefaultPrevented===In,jf=e=>rt(e.preventDefault)||JE(e),eg=(e,n)=>{const o=n??{};for(const a in e)yo(wh,a)||(o[a]=e[a]);return xe(e.composedPath)&&(o.composedPath=()=>e.composedPath()),xe(e.getModifierState)&&(o.getModifierState=a=>e.getModifierState(a)),xe(e.getTargetRanges)&&(o.getTargetRanges=()=>e.getTargetRanges()),o},N1=(e,n,o,a)=>{var c;const m=eg(n,a);return m.type=e,rt(m.target)&&(m.target=(c=m.srcElement)!==null&&c!==void 0?c:o),jf(n)&&(m.preventDefault=()=>{m.defaultPrevented=!0,m.isDefaultPrevented=sn,_e(n.preventDefault)&&n.preventDefault()},m.stopPropagation=()=>{m.cancelBubble=!0,m.isPropagationStopped=sn,_e(n.stopPropagation)&&n.stopPropagation()},m.stopImmediatePropagation=()=>{m.isImmediatePropagationStopped=sn,m.stopPropagation()},QE(m)||(m.isDefaultPrevented=m.defaultPrevented===!0?sn:In,m.isPropagationStopped=m.cancelBubble===!0?sn:In,m.isImmediatePropagationStopped=In)),m},e_="mce-data-",Qx=/^(?:mouse|contextmenu)|click/,xv=(e,n,o,a)=>{e.addEventListener(n,o,a||!1)},tf=(e,n,o,a)=>{e.removeEventListener(n,o,a||!1)},L1=e=>xe(e)&&Qx.test(e.type),yi=(e,n)=>{const o=N1(e.type,e,document,n);if(L1(e)&&Xe(e.pageX)&&!Xe(e.clientX)){const a=o.target.ownerDocument||document,c=a.documentElement,m=a.body,p=o;p.pageX=e.clientX+(c&&c.scrollLeft||m&&m.scrollLeft||0)-(c&&c.clientLeft||m&&m.clientLeft||0),p.pageY=e.clientY+(c&&c.scrollTop||m&&m.scrollTop||0)-(c&&c.clientTop||m&&m.clientTop||0)}return o},Fr=(e,n,o)=>{const a=e.document,c={type:"ready"};if(o.domLoaded){n(c);return}const m=()=>a.readyState==="complete"||a.readyState==="interactive"&&a.body,p=()=>{tf(e,"DOMContentLoaded",p),tf(e,"load",p),o.domLoaded||(o.domLoaded=!0,n(c)),e=null};m()?p():xv(e,"DOMContentLoaded",p),o.domLoaded||xv(e,"load",p)};class Zf{constructor(){this.domLoaded=!1,this.events={},this.count=1,this.expando=e_+(+new Date).toString(32),this.hasFocusIn="onfocusin"in document.documentElement,this.count=1}bind(n,o,a,c){const m=this;let p;const _=window,A=oe=>{m.executeHandlers(yi(oe||_.event),$)};if(!n||qt(n)||Mo(n))return a;let $;n[m.expando]?$=n[m.expando]:($=m.count++,n[m.expando]=$,m.events[$]={}),c=c||n;const q=o.split(" ");let X=q.length;for(;X--;){let oe=q[X],ve=A,Oe=!1,ye=!1;if(oe==="DOMContentLoaded"&&(oe="ready"),m.domLoaded&&oe==="ready"&&n.readyState==="complete"){a.call(c,yi({type:oe}));continue}!m.hasFocusIn&&(oe==="focusin"||oe==="focusout")&&(Oe=!0,ye=oe==="focusin"?"focus":"blur",ve=Pe=>{const Ye=yi(Pe||_.event);Ye.type=Ye.type==="focus"?"focusin":"focusout",m.executeHandlers(Ye,$)}),p=m.events[$][oe],p?oe==="ready"&&m.domLoaded?a(yi({type:oe})):p.push({func:a,scope:c}):(m.events[$][oe]=p=[{func:a,scope:c}],p.fakeName=ye,p.capture=Oe,p.nativeHandler=ve,oe==="ready"?Fr(n,ve,m):xv(n,ye||oe,ve,Oe))}return n=p=null,a}unbind(n,o,a){if(!n||qt(n)||Mo(n))return this;const c=n[this.expando];if(c){let m=this.events[c];if(o){const p=o.split(" ");let _=p.length;for(;_--;){const A=p[_],$=m[A];if($){if(a){let q=$.length;for(;q--;)if($[q].func===a){const X=$.nativeHandler,oe=$.fakeName,ve=$.capture,Oe=$.slice(0,q).concat($.slice(q+1));Oe.nativeHandler=X,Oe.fakeName=oe,Oe.capture=ve,m[A]=Oe}}(!a||$.length===0)&&(delete m[A],tf(n,$.fakeName||A,$.nativeHandler,$.capture))}}}else fs(m,(p,_)=>{tf(n,p.fakeName||_,p.nativeHandler,p.capture)}),m={};for(const p in m)if(yo(m,p))return this;delete this.events[c];try{delete n[this.expando]}catch{n[this.expando]=null}}return this}fire(n,o,a){return this.dispatch(n,o,a)}dispatch(n,o,a){if(!n||qt(n)||Mo(n))return this;const c=yi({type:o,target:n},a);do{const m=n[this.expando];m&&this.executeHandlers(c,m),n=n.parentNode||n.ownerDocument||n.defaultView||n.parentWindow}while(n&&!c.isPropagationStopped());return this}clean(n){if(!n||qt(n)||Mo(n))return this;if(n[this.expando]&&this.unbind(n),n.getElementsByTagName||(n=n.document),n&&n.getElementsByTagName){this.unbind(n);const o=n.getElementsByTagName("*");let a=o.length;for(;a--;)n=o[a],n[this.expando]&&this.unbind(n)}return this}destroy(){this.events={}}cancel(n){return n&&(n.preventDefault(),n.stopImmediatePropagation()),!1}executeHandlers(n,o){const a=this.events[o],c=a&&a[n.type];if(c)for(let m=0,p=c.length;m<p;m++){const _=c[m];if(_&&_.func.call(_.scope,n)===!1&&n.preventDefault(),n.isImmediatePropagationStopped())return}}}Zf.Event=new Zf;const e2=rn.each,M1=rn.grep,Qi="data-mce-style",dl=rn.makeMap("fill-opacity font-weight line-height opacity orphans widows z-index zoom"," "),Ch=(e,n,o)=>{rt(o)||o===""?Fo(e,n):_i(e,n,o)},Gf=e=>e.replace(/[A-Z]/g,n=>"-"+n.toLowerCase()),tg=(e,n)=>{let o=0;if(e)for(let a=e.nodeType,c=e.previousSibling;c;c=c.previousSibling){const m=c.nodeType;n&&qt(c)&&(m===a||!c.data.length)||(o++,a=m)}return o},B1=(e,n)=>{const o=Da(n,"style"),a=e.serialize(e.parse(o),os(n));Ch(n,Qi,a)},t_=(e,n)=>R(e)?yo(dl,n)?e+"":e+"px":e,t2=(e,n,o)=>{const a=Gf(n);rt(o)||o===""?gu(e,a):cl(e,a,t_(o,a))},ng=(e,n,o)=>{const a=n.keep_values,c={set:(p,_,A)=>{const $=je.fromDom(p);_e(n.url_converter)&&xe(_)&&(_=n.url_converter.call(n.url_converter_scope||o(),String(_),A,p));const q="data-mce-"+A;Ch($,q,_),Ch($,A,_)},get:(p,_)=>{const A=je.fromDom(p);return Da(A,"data-mce-"+_)||Da(A,_)}},m={style:{set:(p,_)=>{const A=je.fromDom(p);a&&Ch(A,Qi,_),Fo(A,"style"),le(_)&&es(A,e.parse(_))},get:p=>{const _=je.fromDom(p),A=Da(_,Qi)||Da(_,"style");return e.serialize(e.parse(A),os(_))}}};return a&&(m.href=m.src=c),m},Js=(e,n={})=>{const o={},a=window,c={};let m=0;const p=!0,_=!0,A=k1.forElement(je.fromDom(e),{contentCssCors:n.contentCssCors,referrerPolicy:n.referrerPolicy}),$=[],q=n.schema?n.schema:zc({}),X=Jx({url_converter:n.url_converter,url_converter_scope:n.url_converter_scope},n.schema),oe=n.ownEvents?new Zf:Zf.Event,ve=q.getBlockElements(),Oe=Ct=>le(Ct)?yo(ve,Ct):Ln(Ct)&&(yo(ve,Ct.nodeName)||Wf(q,Ct)),ye=Ct=>Ct&&e&&le(Ct)?e.getElementById(Ct):Ct,Pe=Ct=>{const kt=ye(Ct);return xe(kt)?je.fromDom(kt):null},Ye=(Ct,kt,ln="")=>{let nn;const co=Pe(Ct);if(xe(co)&&zr(co)){const as=fR[kt];as&&as.get?nn=as.get(co.dom,kt):nn=Da(co,kt)}return xe(nn)?nn:ln},st=Ct=>{const kt=ye(Ct);return rt(kt)?[]:kt.attributes},nt=(Ct,kt,ln)=>{Un(Ct,nn=>{if(Ln(nn)){const co=je.fromDom(nn),as=ln===""?null:ln,Xr=Da(co,kt),$g=fR[kt];$g&&$g.set?$g.set(co.dom,as,kt):Ch(co,kt,as),Xr!==as&&n.onSetAttrib&&n.onSetAttrib({attrElm:co.dom,attrName:kt,attrValue:as})}})},yt=(Ct,kt)=>Ct.cloneNode(kt),Ut=()=>n.root_element||e.body,on=Ct=>{const kt=Nc(Ct);return{x:kt.x,y:kt.y,w:kt.width,h:kt.height}},_n=(Ct,kt)=>Bx(e.body,ye(Ct),kt),Pt=(Ct,kt,ln)=>{Un(Ct,nn=>{const co=je.fromDom(nn);t2(co,kt,ln),n.update_styles&&B1(X,co)})},St=(Ct,kt)=>{Un(Ct,ln=>{const nn=je.fromDom(ln);fs(kt,(co,as)=>{t2(nn,as,co)}),n.update_styles&&B1(X,nn)})},zt=(Ct,kt,ln)=>{const nn=ye(Ct);if(!(rt(nn)||!pu(nn)&&!iv(nn)))return ln?Hr(je.fromDom(nn),Gf(kt)):(kt=kt.replace(/-(\D)/g,(co,as)=>as.toUpperCase()),kt==="float"&&(kt="cssFloat"),nn.style?nn.style[kt]:void 0)},Pn=Ct=>{const kt=ye(Ct);if(!kt)return{w:0,h:0};let ln=zt(kt,"width"),nn=zt(kt,"height");return(!ln||ln.indexOf("px")===-1)&&(ln="0"),(!nn||nn.indexOf("px")===-1)&&(nn="0"),{w:parseInt(ln,10)||kt.offsetWidth||kt.clientWidth,h:parseInt(nn,10)||kt.offsetHeight||kt.clientHeight}},jn=Ct=>{const kt=ye(Ct),ln=_n(kt),nn=Pn(kt);return{x:ln.x,y:ln.y,w:nn.w,h:nn.h}},Ho=(Ct,kt)=>{if(!Ct)return!1;const ln=ne(Ct)?Ct:[Ct];return Re(ln,nn=>Fs(je.fromDom(nn),kt))},qo=(Ct,kt,ln,nn)=>{const co=[];let as=ye(Ct);nn=nn===void 0;const Xr=ln||(Ut().nodeName!=="BODY"?Ut().parentNode:null);if(le(kt))if(kt==="*")kt=Ln;else{const $g=kt;kt=x6=>Ho(x6,$g)}for(;as&&!(as===Xr||rt(as.nodeType)||$n(as)||Hf(as));){if(!kt||kt(as))if(nn)co.push(as);else return[as];as=as.parentNode}return nn?co:null},Ls=(Ct,kt,ln)=>{const nn=qo(Ct,kt,ln,!1);return nn&&nn.length>0?nn[0]:null},js=(Ct,kt,ln)=>{let nn=kt;if(Ct){le(kt)&&(nn=co=>Ho(co,kt));for(let co=Ct[ln];co;co=co[ln])if(_e(nn)&&nn(co))return co}return null},mi=(Ct,kt)=>js(Ct,kt,"nextSibling"),Ll=(Ct,kt)=>js(Ct,kt,"previousSibling"),er=Ct=>_e(Ct.querySelectorAll),dn=(Ct,kt)=>{var ln,nn;const co=(nn=(ln=ye(kt))!==null&&ln!==void 0?ln:n.root_element)!==null&&nn!==void 0?nn:e;return er(co)?Do(co.querySelectorAll(Ct)):[]},Un=function(Ct,kt,ln){const nn=ln??this;if(ne(Ct)){const co=[];return e2(Ct,(as,Xr)=>{const $g=ye(as);$g&&co.push(kt.call(nn,$g,Xr))}),co}else{const co=ye(Ct);return co?kt.call(nn,co):!1}},ks=(Ct,kt)=>{Un(Ct,ln=>{fs(kt,(nn,co)=>{nt(ln,co,nn)})})},hn=(Ct,kt)=>{Un(Ct,ln=>{const nn=je.fromDom(ln);Km(nn,kt)})},to=(Ct,kt,ln,nn,co)=>Un(Ct,as=>{const Xr=le(kt)?e.createElement(kt):kt;return xe(ln)&&ks(Xr,ln),nn&&(!le(nn)&&nn.nodeType?Xr.appendChild(nn):le(nn)&&hn(Xr,nn)),co?Xr:as.appendChild(Xr)}),Zo=(Ct,kt,ln)=>to(e.createElement(Ct),Ct,kt,ln,!0),Cn=bh.decode,Uo=bh.encodeAllRaw,Xo=(Ct,kt,ln="")=>{let nn="<"+Ct;for(const co in kt)Gl(kt,co)&&(nn+=" "+co+'="'+Uo(kt[co])+'"');return Xt(ln)&&yo(q.getVoidElements(),Ct)?nn+" />":nn+">"+ln+"</"+Ct+">"},Fa=Ct=>{const kt=e.createElement("div"),ln=e.createDocumentFragment();ln.appendChild(kt),Ct&&(kt.innerHTML=Ct);let nn;for(;nn=kt.firstChild;)ln.appendChild(nn);return ln.removeChild(kt),ln},Ws=(Ct,kt)=>Un(Ct,ln=>{const nn=je.fromDom(ln);return kt&&be(ha(nn),co=>{ur(co)&&co.dom.length===0?Ns(co):Or(nn,co)}),Ns(nn),nn.dom}),ka=Ct=>Un(Ct,kt=>{const ln=kt.attributes;for(let nn=ln.length-1;nn>=0;nn--)kt.removeAttributeNode(ln.item(nn))}),bm=Ct=>X.parse(Ct),sp=(Ct,kt)=>X.serialize(Ct,kt),wc=Ct=>{if(Tb!==Js.DOM&&e===document){if(o[Ct])return;o[Ct]=!0}let kt=e.getElementById("mceDefaultStyles");if(!kt){kt=e.createElement("style"),kt.id="mceDefaultStyles",kt.type="text/css";const ln=e.head;ln.firstChild?ln.insertBefore(kt,ln.firstChild):ln.appendChild(kt)}kt.styleSheet?kt.styleSheet.cssText+=Ct:kt.appendChild(e.createTextNode(Ct))},Ad=Ct=>{Ct||(Ct=""),be(Ct.split(","),kt=>{c[kt]=!0,A.load(kt).catch(lt)})},vm=(Ct,kt,ln)=>{Un(Ct,nn=>{if(Ln(nn)){const co=je.fromDom(nn),as=kt.split(" ");be(as,Xr=>{xe(ln)?(ln?jd:Ha)(co,Xr):_p(co,Xr)})}})},Td=(Ct,kt)=>{vm(Ct,kt,!0)},ym=(Ct,kt)=>{vm(Ct,kt,!1)},qn=(Ct,kt)=>{const ln=Pe(Ct),nn=kt.split(" ");return xe(ln)&&No(nn,co=>Zd(ln,co))},hs=Ct=>{Un(Ct,kt=>gu(je.fromDom(kt),"display"))},Yr=Ct=>{Un(Ct,kt=>cl(je.fromDom(kt),"display","none"))},wi=Ct=>{const kt=Pe(Ct);return xe(kt)&&Af(Br(kt,"display"),"none")},oa=Ct=>(Ct||"mce_")+m++,bl=Ct=>{const kt=Pe(Ct);return xe(kt)?Ln(kt.dom)?kt.dom.outerHTML:uh(kt):""},zi=(Ct,kt)=>{Un(Ct,ln=>{Ln(ln)&&(ln.outerHTML=kt)})},Hi=(Ct,kt)=>{const ln=ye(kt);return Un(Ct,nn=>{const co=ln==null?void 0:ln.parentNode,as=ln==null?void 0:ln.nextSibling;return co&&(as?co.insertBefore(nn,as):co.appendChild(nn)),nn})},Cc=(Ct,kt,ln)=>Un(kt,nn=>{var co;const as=ne(kt)?Ct.cloneNode(!0):Ct;return ln&&e2(M1(nn.childNodes),Xr=>{as.appendChild(Xr)}),(co=nn.parentNode)===null||co===void 0||co.replaceChild(as,nn),nn}),Mg=(Ct,kt)=>{if(Ct.nodeName!==kt.toUpperCase()){const ln=Zo(kt);return e2(st(Ct),nn=>{nt(ln,nn.nodeName,Ye(Ct,nn.nodeName))}),Cc(ln,Ct,!0),ln}else return Ct},Bg=(Ct,kt)=>{let ln=Ct;for(;ln;){let nn=kt;for(;nn&&ln!==nn;)nn=nn.parentNode;if(ln===nn)break;ln=ln.parentNode}return!ln&&Ct.ownerDocument?Ct.ownerDocument.documentElement:ln},Fg=(Ct,kt,ln)=>fe(kt)?dc(q,Ct,{...ln,isContent:co=>{const as=co.nodeName.toLowerCase();return!!kt[as]}}):dc(q,Ct,ln),xm=()=>e.createRange(),nx=(Ct,kt,ln)=>{let nn=xm(),co,as;if(Ct&&kt&&Ct.parentNode&&kt.parentNode){const Xr=Ct.parentNode;return nn.setStart(Xr,tg(Ct)),nn.setEnd(kt.parentNode,tg(kt)),co=nn.extractContents(),nn=xm(),nn.setStart(kt.parentNode,tg(kt)+1),nn.setEnd(Xr,tg(Ct)+1),as=nn.extractContents(),Xr.insertBefore(Np(Tb,co,q),Ct),ln?Xr.insertBefore(ln,Ct):Xr.insertBefore(kt,Ct),Xr.insertBefore(Np(Tb,as,q),Ct),Ws(Ct),ln||kt}else return},Zk=(Ct,kt,ln,nn)=>{if(ne(Ct)){let co=Ct.length;const as=[];for(;co--;)as[co]=Zk(Ct[co],kt,ln,nn);return as}else return n.collect&&(Ct===e||Ct===a)&&$.push([Ct,kt,ln,nn]),oe.bind(Ct,kt,ln,nn||Tb)},Gk=(Ct,kt,ln)=>{if(ne(Ct)){let nn=Ct.length;const co=[];for(;nn--;)co[nn]=Gk(Ct[nn],kt,ln);return co}else{if($.length>0&&(Ct===e||Ct===a)){let nn=$.length;for(;nn--;){const[co,as,Xr]=$[nn];Ct===co&&(!kt||kt===as)&&(!ln||ln===Xr)&&oe.unbind(co,as,Xr)}}return oe.unbind(Ct,kt,ln)}},E9=(Ct,kt,ln)=>oe.dispatch(Ct,kt,ln),B0=(Ct,kt,ln)=>oe.dispatch(Ct,kt,ln),y6=Ct=>{if(Ct&&pu(Ct)){const kt=Ct.getAttribute("data-mce-contenteditable");return kt&&kt!=="inherit"?kt:Ct.contentEditable!=="inherit"?Ct.contentEditable:null}else return null},Tb={doc:e,settings:n,win:a,files:c,stdMode:p,boxModel:_,styleSheetLoader:A,boundEvents:$,styles:X,schema:q,events:oe,isBlock:Oe,root:null,clone:yt,getRoot:Ut,getViewPort:on,getRect:jn,getSize:Pn,getParent:Ls,getParents:qo,get:ye,getNext:mi,getPrev:Ll,select:dn,is:Ho,add:to,create:Zo,createHTML:Xo,createFragment:Fa,remove:Ws,setStyle:Pt,getStyle:zt,setStyles:St,removeAllAttribs:ka,setAttrib:nt,setAttribs:ks,getAttrib:Ye,getPos:_n,parseStyle:bm,serializeStyle:sp,addStyle:wc,loadCSS:Ad,addClass:Td,removeClass:ym,hasClass:qn,toggleClass:vm,show:hs,hide:Yr,isHidden:wi,uniqueId:oa,setHTML:hn,getOuterHTML:bl,setOuterHTML:zi,decode:Cn,encode:Uo,insertAfter:Hi,replace:Cc,rename:Mg,findCommonAncestor:Bg,run:Un,getAttribs:st,isEmpty:Fg,createRng:xm,nodeIndex:tg,split:nx,bind:Zk,unbind:Gk,fire:B0,dispatch:E9,getContentEditable:y6,getContentEditableParent:Ct=>{const kt=Ut();let ln=null;for(let nn=Ct;nn&&nn!==kt&&(ln=y6(nn),ln===null);nn=nn.parentNode);return ln},isEditable:Ct=>{if(xe(Ct)){const kt=Ln(Ct)?Ct:Ct.parentElement;return xe(kt)&&pu(kt)&&_r(je.fromDom(kt))}else return!1},destroy:()=>{if($.length>0){let Ct=$.length;for(;Ct--;){const[kt,ln,nn]=$[Ct];oe.unbind(kt,ln,nn)}}fs(c,(Ct,kt)=>{A.unload(kt),delete c[kt]})},isChildOf:(Ct,kt)=>Ct===kt||kt.contains(Ct),dumpRng:Ct=>"startContainer: "+Ct.startContainer.nodeName+", startOffset: "+Ct.startOffset+", endContainer: "+Ct.endContainer.nodeName+", endOffset: "+Ct.endOffset},fR=ng(X,n,dt(Tb));return Tb};Js.DOM=Js(document),Js.nodeIndex=tg;const F1=Js.DOM,fr=0,ud=1,xu=2,_h=3;class Tl{constructor(n={}){this.states={},this.queue=[],this.scriptLoadedCallbacks={},this.queueLoadedCallbacks=[],this.loading=!1,this.settings=n}_setReferrerPolicy(n){this.settings.referrerPolicy=n}loadScript(n){return new Promise((o,a)=>{const c=F1;let m;const p=()=>{c.remove($),m&&(m.onerror=m.onload=m=null)},_=()=>{p(),o()},A=()=>{p(),a("Failed to load script: "+n)},$=c.uniqueId();m=document.createElement("script"),m.id=$,m.type="text/javascript",m.src=rn._addCacheSuffix(n),this.settings.referrerPolicy&&c.setAttrib(m,"referrerpolicy",this.settings.referrerPolicy),m.onload=_,m.onerror=A,(document.getElementsByTagName("head")[0]||document.body).appendChild(m)})}isDone(n){return this.states[n]===xu}markDone(n){this.states[n]=xu}add(n){const o=this;return o.queue.push(n),o.states[n]===void 0&&(o.states[n]=fr),new Promise((c,m)=>{o.scriptLoadedCallbacks[n]||(o.scriptLoadedCallbacks[n]=[]),o.scriptLoadedCallbacks[n].push({resolve:c,reject:m})})}load(n){return this.add(n)}remove(n){delete this.states[n],delete this.scriptLoadedCallbacks[n]}loadQueue(){const n=this.queue;return this.queue=[],this.loadScripts(n)}loadScripts(n){const o=this,a=(A,$)=>{Ps(o.scriptLoadedCallbacks,$).each(q=>{be(q,X=>X[A]($))}),delete o.scriptLoadedCallbacks[$]},c=A=>{const $=Ge(A,q=>q.status==="rejected");return $.length>0?Promise.reject(zo($,({reason:q})=>ne(q)?q:[q])):Promise.resolve()},m=A=>Promise.allSettled(He(A,$=>o.states[$]===xu?(a("resolve",$),Promise.resolve()):o.states[$]===_h?(a("reject",$),Promise.reject($)):(o.states[$]=ud,o.loadScript($).then(()=>{o.states[$]=xu,a("resolve",$);const q=o.queue;return q.length>0?(o.queue=[],m(q).then(c)):Promise.resolve()},()=>(o.states[$]=_h,a("reject",$),Promise.reject($)))))),p=A=>(o.loading=!0,m(A).then($=>{o.loading=!1;const q=o.queueLoadedCallbacks.shift();return J.from(q).each(Wt),c($)})),_=qu(n);return o.loading?new Promise((A,$)=>{o.queueLoadedCallbacks.push(()=>{p(_).then(A,$)})}):p(_)}}Tl.ScriptLoader=new Tl;const ya=(e,n)=>{const o=e.indexOf(n);return o!==-1&&e.indexOf(n,o+1)>o},og=e=>j(e)&&yo(e,"raw"),wv=e=>ne(e)&&e.length>1,Sh={},Cv=Li("en"),kh=()=>Ps(Sh,Cv.get()),Hc={getData:()=>Zl(Sh,e=>({...e})),setCode:e=>{e&&Cv.set(e)},getCode:()=>Cv.get(),add:(e,n)=>{let o=Sh[e];o||(Sh[e]=o={});const a=He(en(n),c=>c.toLowerCase());fs(n,(c,m)=>{const p=m.toLowerCase();p!==m&&ya(a,p)?(yo(n,p)||(o[p]=c),o[m]=c):o[p]=c})},translate:e=>{const n=kh().getOr({}),o=p=>_e(p)?Object.prototype.toString.call(p):a(p)?"":""+p,a=p=>p===""||p===null||p===void 0,c=p=>{const _=o(p);return yo(n,_)?o(n[_]):Ps(n,_.toLowerCase()).map(o).getOr(_)},m=p=>p.replace(/{context:\w+}$/,"");if(a(e))return"";if(og(e))return o(e.raw);if(wv(e)){const p=e.slice(1),_=c(e[0]).replace(/\{([0-9]+)\}/g,(A,$)=>yo(p,$)?o(p[$]):A);return m(_)}return m(c(e))},isRtl:()=>kh().bind(e=>Ps(e,"_dir")).exists(e=>e==="rtl"),hasCode:e=>yo(Sh,e)},fl=()=>{const e=[],n={},o={},a=[],c=(ye,Pe)=>{const Ye=Ge(a,st=>st.name===ye&&st.state===Pe);be(Ye,st=>st.resolve())},m=ye=>yo(n,ye),p=ye=>yo(o,ye),_=ye=>{if(o[ye])return o[ye].instance},A=(ye,Pe)=>{const Ye=Hc.getCode(),st=","+(Pe||"")+",";!Ye||Pe&&st.indexOf(","+Ye+",")===-1||Tl.ScriptLoader.add(n[ye]+"/langs/"+Ye+".js")},$=(ye,Pe)=>{fl.languageLoad!==!1&&(m(ye)?A(ye,Pe):Oe(ye,"loaded").then(()=>A(ye,Pe)))},q=(ye,Pe)=>(e.push(Pe),o[ye]={instance:Pe},c(ye,"added"),Pe),X=ye=>{delete n[ye],delete o[ye]},oe=(ye,Pe)=>le(Pe)?le(ye)?{prefix:"",resource:Pe,suffix:""}:{prefix:ye.prefix,resource:Pe,suffix:ye.suffix}:Pe,ve=(ye,Pe)=>{if(n[ye])return Promise.resolve();let Ye=le(Pe)?Pe:Pe.prefix+Pe.resource+Pe.suffix;Ye.indexOf("/")!==0&&Ye.indexOf("://")===-1&&(Ye=fl.baseURL+"/"+Ye),n[ye]=Ye.substring(0,Ye.lastIndexOf("/"));const st=()=>(c(ye,"loaded"),Promise.resolve());return o[ye]?st():Tl.ScriptLoader.add(Ye).then(st)},Oe=(ye,Pe="added")=>Pe==="added"&&p(ye)||Pe==="loaded"&&m(ye)?Promise.resolve():new Promise(Ye=>{a.push({name:ye,state:Pe,resolve:Ye})});return{items:e,urls:n,lookup:o,get:_,requireLangPack:$,add:q,remove:X,createUrl:oe,load:ve,waitFor:Oe}};fl.languageLoad=!0,fl.baseURL="",fl.PluginManager=fl(),fl.ThemeManager=fl(),fl.ModelManager=fl();const Eh=(e,n)=>{let o=null;return{cancel:()=>{Ve(o)||(clearTimeout(o),o=null)},throttle:(...m)=>{Ve(o)&&(o=setTimeout(()=>{o=null,e.apply(null,m)},n))}}},Fp=(e,n)=>{let o=null;const a=()=>{Ve(o)||(clearTimeout(o),o=null)};return{cancel:a,throttle:(...m)=>{a(),o=setTimeout(()=>{o=null,e.apply(null,m)},n)}}},r_=(e,n,o)=>mu(e,n,o).isSome(),Dr=dt("mce-annotation"),Pr=dt("data-mce-annotation"),si=dt("data-mce-annotation-uid"),$s=dt("data-mce-annotation-active"),Er=dt("data-mce-annotation-classes"),Zr=dt("data-mce-annotation-attrs"),$1=e=>n=>ss(n,e),V1=(e,n)=>{const o=e.selection.getRng(),a=je.fromDom(o.startContainer),c=je.fromDom(e.getBody()),m=n.fold(()=>"."+Dr(),A=>`[${Pr()}="${A}"]`),p=nd(a,o.startOffset).getOr(a);return Xi(p,m,$1(c)).bind(A=>lu(A,`${si()}`).bind($=>lu(A,`${Pr()}`).map(q=>{const X=r2(e,$);return{uid:$,name:q,elements:X}})))},s2=e=>zr(e)&&Zd(e,Dr()),_v=(e,n)=>Wd(e,"data-mce-bogus")||r_(e,'[data-mce-bogus="all"]',$1(n)),r2=(e,n)=>{const o=je.fromDom(e.getBody()),a=vi(o,`[${si()}="${n}"]`);return Ge(a,c=>!_v(c,o))},Ah=(e,n)=>{const o=je.fromDom(e.getBody()),a=vi(o,`[${Pr()}="${n}"]`),c={};return be(a,m=>{if(!_v(m,o)){const p=Da(m,si()),_=Ps(c,p).getOr([]);c[p]=_.concat([m])}}),c},z1=(e,n)=>{const o=Li({}),a=()=>({listeners:[],previous:Mi()}),c=(X,oe)=>{m(X,ve=>(oe(ve),ve))},m=(X,oe)=>{const ve=o.get(),Oe=Ps(ve,X).getOrThunk(a),ye=oe(Oe);ve[X]=ye,o.set(ve)},p=(X,oe,ve)=>{c(X,Oe=>{be(Oe.listeners,ye=>ye(!0,X,{uid:oe,nodes:He(ve,Pe=>Pe.dom)}))})},_=X=>{c(X,oe=>{be(oe.listeners,ve=>ve(!1,X))})},A=(X,oe)=>{be(r2(e,X),ve=>{oe?_i(ve,$s(),"true"):Fo(ve,$s())})},$=Fp(()=>{const X=_s(n.getNames());be(X,oe=>{m(oe,ve=>{const Oe=ve.previous.get();return V1(e,J.some(oe)).fold(()=>{Oe.each(ye=>{_(oe),ve.previous.clear(),A(ye,!1)})},({uid:ye,name:Pe,elements:Ye})=>{Af(Oe,ye)||(Oe.each(st=>A(st,!1)),p(Pe,ye,Ye),ve.previous.set(ye),A(ye,!0))}),{previous:ve.previous,listeners:ve.listeners}})})},30);return e.on("remove",()=>{$.cancel()}),e.on("NodeChange",()=>{$.throttle()}),{addListener:(X,oe)=>{m(X,ve=>({previous:ve.previous,listeners:ve.listeners.concat([oe])}))}}},H1=(e,n)=>{const o=Pr(),a=m=>J.from(m.attr(o)).bind(n.lookup),c=m=>{var p,_;m.attr(si(),null),m.attr(Pr(),null),m.attr($s(),null);const A=J.from(m.attr(Zr())).map(oe=>oe.split(",")).getOr([]),$=J.from(m.attr(Er())).map(oe=>oe.split(",")).getOr([]);be(A,oe=>m.attr(oe,null));const q=(_=(p=m.attr("class"))===null||p===void 0?void 0:p.split(" "))!==null&&_!==void 0?_:[],X=ds(q,[Dr()].concat($));m.attr("class",X.length>0?X.join(" "):null),m.attr(Er(),null),m.attr(Zr(),null)};e.serializer.addTempAttr($s()),e.serializer.addAttributeFilter(o,m=>{for(const p of m)a(p).each(_=>{_.persistent===!1&&(p.name==="span"?p.unwrap():c(p))})})},i2=()=>{const e={};return{register:(c,m)=>{e[c]={name:c,settings:m}},lookup:c=>Ps(e,c).map(m=>m.settings),getNames:()=>en(e)}},Sv=(e,n,o)=>Math.min(Math.max(e,n),o),Ol=()=>window.crypto.getRandomValues(new Uint32Array(1))[0]/4294967295;let a2=0;const Za=e=>{const o=new Date().getTime(),a=Math.floor(Ol()*1e9);return a2++,e+"_"+a+a2+String(o)},kv=(e,n)=>{be(n,o=>{jd(e,o)})},Th=(e,n)=>{be(n,o=>{Ha(e,o)})},wu=(e,n)=>je.fromDom(e.dom.cloneNode(n)),Gr=e=>wu(e,!1),rg=e=>wu(e,!0),l2=(e,n)=>{const o=je.fromTag(n),a=kl(e);return za(o,a),o},c2=(e,n)=>{const o=l2(e,n);mt(e,o);const a=ha(e);return oi(o,a),Ns(e),o},Ev=(e,n,o=In)=>{const a=new pa(e,n),c=m=>{let p;do p=a[m]();while(p&&!qt(p)&&!o(p));return J.from(p).filter(qt)};return{current:()=>J.from(a.current()).filter(qt),next:()=>c("next"),prev:()=>c("prev"),prev2:()=>c("prev2")}},nf=(e,n)=>{const o=n||(p=>e.isBlock(p)||pr(p)||_o(p)),a=(p,_,A,$)=>{if(qt(p)){const q=$(p,_,p.data);if(q!==-1)return J.some({container:p,offset:q})}return A().bind(q=>a(q.container,q.offset,A,$))};return{backwards:(p,_,A,$)=>{const q=Ev(p,$??e.getRoot(),o);return a(p,_,()=>q.prev().map(X=>({container:X,offset:X.length})),A).getOrNull()},forwards:(p,_,A,$)=>{const q=Ev(p,$??e.getRoot(),o);return a(p,_,()=>q.next().map(X=>({container:X,offset:0})),A).getOrNull()}}},Av=((e,n)=>{const o=m=>{if(!e(m))throw new Error("Can only get "+n+" value of a "+n+" node");return a(m).getOr("")},a=m=>e(m)?J.from(m.dom.nodeValue):J.none();return{get:o,getOption:a,set:(m,p)=>{if(!e(m))throw new Error("Can only set raw "+n+" value of a "+n+" node");m.dom.nodeValue=p}}})(ur,"text"),ig=e=>Av.get(e),i_=e=>Av.getOption(e),Tv=(e,n)=>Av.set(e,n),Ov=["td","th"],U1=["thead","tbody","tfoot"],$p=["h1","h2","h3","h4","h5","h6","p","div","address","pre","form","blockquote","center","dir","fieldset","header","footer","article","section","hgroup","aside","nav","figure"],W1=["li","dd","dt"],Ga=["ul","ol","dl"],u2=["pre","script","textarea","style"],of=e=>{let n;return o=>(n=n||ei(e,sn),yo(n,os(o)))},Rv=e=>os(e)==="table",dd=e=>zr(e)&&os(e)==="br",Iv=of($p),Dv=of(Ga),ag=of(W1),Oh=of(U1),Uc=of(Ov),Pv=of(u2),tA=e=>{const n=[];let o=e.dom;for(;o;)n.push(je.fromDom(o)),o=o.lastChild;return n},mc=e=>{const n=vi(e,"br"),o=Ge(tA(e).slice(-1),dd);n.length===o.length&&be(o,Ns)},sf=()=>{const e=je.fromTag("br");return _i(e,"data-mce-bogus","1"),e},Wc=e=>{or(e),Ur(e,sf())},d2=(e,n)=>{od(e).each(o=>{Si(o).each(a=>{n.isBlock(os(e))&&dd(o)&&n.isBlock(os(a))&&Ns(o)})})},Ei=Rr,Kc=ad,Rl=Ep,nA=e=>e.insertContent(Ei,{preserve_zwsp:!0}),qf=Ln,rf=qt,Vp=e=>(rf(e)&&(e=e.parentNode),qf(e)&&e.hasAttribute("data-mce-caret")),lg=e=>rf(e)&&Kc(e.data),Ql=e=>Vp(e)||lg(e),K1=e=>e.firstChild!==e.lastChild||!pr(e.firstChild),j1=(e,n)=>{var o;const c=((o=e.ownerDocument)!==null&&o!==void 0?o:document).createTextNode(Ei),m=e.parentNode;if(n){const p=e.previousSibling;if(rf(p)){if(Ql(p))return p;if(af(p))return p.splitText(p.data.length-1)}m==null||m.insertBefore(c,e)}else{const p=e.nextSibling;if(rf(p)){if(Ql(p))return p;if(Lv(p))return p.splitText(1),p}e.nextSibling?m==null||m.insertBefore(c,e.nextSibling):m==null||m.appendChild(c)}return c},Nv=e=>{const n=e.container();return qt(n)?n.data.charAt(e.offset())===Ei||e.isAtStart()&&lg(n.previousSibling):!1},Z1=e=>{const n=e.container();return qt(n)?n.data.charAt(e.offset()-1)===Ei||e.isAtEnd()&&lg(n.nextSibling):!1},a_=(e,n,o)=>{var a;const m=((a=n.ownerDocument)!==null&&a!==void 0?a:document).createElement(e);m.setAttribute("data-mce-caret",o?"before":"after"),m.setAttribute("data-mce-bogus","all"),m.appendChild(sf().dom);const p=n.parentNode;return o?p==null||p.insertBefore(m,n):n.nextSibling?p==null||p.insertBefore(m,n.nextSibling):p==null||p.appendChild(m),m},Lv=e=>rf(e)&&e.data[0]===Ei,af=e=>rf(e)&&e.data[e.data.length-1]===Ei,Mv=e=>{var n;const o=e.getElementsByTagName("br"),a=o[o.length-1];Vf(a)&&((n=a.parentNode)===null||n===void 0||n.removeChild(a))},Rh=e=>e&&e.hasAttribute("data-mce-caret")?(Mv(e),e.removeAttribute("data-mce-caret"),e.removeAttribute("data-mce-bogus"),e.removeAttribute("style"),e.removeAttribute("data-mce-style"),e.removeAttribute("_moz_abspos"),e):null,Ih=e=>Vp(e.startContainer),Yf=Math.round,Xf=e=>e?{left:Yf(e.left),top:Yf(e.top),bottom:Yf(e.bottom),right:Yf(e.right),width:Yf(e.width),height:Yf(e.height)}:{left:0,top:0,bottom:0,right:0,width:0,height:0},Bv=(e,n)=>(e=Xf(e),n||(e.left=e.left+e.width),e.right=e.left,e.width=0,e),Jf=(e,n)=>e.left===n.left&&e.top===n.top&&e.bottom===n.bottom&&e.right===n.right,Qf=(e,n,o)=>e>=0&&e<=Math.min(n.height,o.height)/2,em=(e,n)=>{const o=Math.min(n.height/2,e.height/2);return e.bottom-o<n.top?!0:e.top>n.bottom?!1:Qf(n.top-e.bottom,e,n)},Dh=(e,n)=>e.top>n.bottom?!0:e.bottom<n.top?!1:Qf(n.bottom-e.top,e,n),G1=(e,n,o)=>n>=e.left&&n<=e.right&&o>=e.top&&o<=e.bottom,zp=e=>cn(e,(n,o)=>n.fold(()=>J.some(o),a=>{const c=Math.min(o.left,a.left),m=Math.min(o.top,a.top),p=Math.max(o.right,a.right),_=Math.max(o.bottom,a.bottom);return J.some({top:m,right:p,bottom:_,left:c,width:p-c,height:_-m})}),J.none()),q1=(e,n,o)=>{const a=Math.max(Math.min(n,e.left+e.width),e.left),c=Math.max(Math.min(o,e.top+e.height),e.top);return Math.sqrt((n-a)*(n-a)+(o-c)*(o-c))},f2=(e,n)=>Math.max(0,Math.min(e.bottom,n.bottom)-Math.max(e.top,n.top)),Hp=e=>{const n=e.startContainer,o=e.startOffset;return n===e.endContainer&&n.hasChildNodes()&&e.endOffset===o+1?n.childNodes[o]:null},Ai=(e,n)=>{if(Ln(e)&&e.hasChildNodes()){const o=e.childNodes,a=Sv(n,0,o.length-1);return o[a]}else return e},m2=(e,n)=>{if(!(n<0&&Ln(e)&&e.hasChildNodes()))return Ai(e,n)},l_=new RegExp("[-----------------------------------------------------------------------------------------------------------------------------------]"),g2=e=>le(e)&&e.charCodeAt(0)>=768&&l_.test(e),h2=(...e)=>n=>{for(let o=0;o<e.length;o++)if(e[o](n))return!0;return!1},tm=(...e)=>n=>{for(let o=0;o<e.length;o++)if(!e[o](n))return!1;return!0},Y1=Bc,Fv=_o,p2=pr,oA=qt,nm=ba(["script","style","textarea"]),$v=ba(["img","input","textarea","hr","iframe","video","audio","object","embed"]),c_=ba(["table"]),u_=Ql,Cu=e=>u_(e)?!1:oA(e)?!nm(e.parentNode):$v(e)||p2(e)||c_(e)||X1(e),b2=e=>Ln(e)&&e.getAttribute("unselectable")==="true",X1=e=>!b2(e)&&Fv(e),d_=(e,n)=>{for(let o=e.parentNode;o&&o!==n;o=o.parentNode){if(X1(o))return!1;if(Y1(o))return!0}return!0},Ph=e=>X1(e)?!cn(Do(e.getElementsByTagName("*")),(n,o)=>n||Y1(o),!1):!1,Up=e=>$v(e)||Ph(e),Vv=(e,n)=>Cu(e)&&d_(e,n),f_=Ln,_u=Cu,cg=Lc("display","block table"),zv=Lc("float","left right"),Hv=tm(f_,_u,Me(zv)),J1=Me(Lc("white-space","pre pre-line pre-wrap")),Uv=qt,wa=pr,Q1=Js.nodeIndex,ug=m2,dg=e=>e?e.createRange():Js.DOM.createRng(),Wv=e=>le(e)&&/[\r\n\t ]/.test(e),ey=e=>!!e.setStart&&!!e.setEnd,Nh=e=>{const n=e.startContainer,o=e.startOffset;if(Wv(e.toString())&&J1(n.parentNode)&&qt(n)){const a=n.data;if(Wv(a[o-1])||Wv(a[o+1]))return!0}return!1},om=e=>{const n=e.ownerDocument,o=dg(n),a=n.createTextNode(Ni),c=e.parentNode;c.insertBefore(a,e),o.setStart(a,0),o.setEnd(a,1);const m=Xf(o.getBoundingClientRect());return c.removeChild(a),m},v2=e=>{const n=e.startContainer,o=e.endContainer,a=e.startOffset,c=e.endOffset;if(n===o&&qt(o)&&a===0&&c===1){const m=e.cloneRange();return m.setEndAfter(o),ml(m)}else return null},ty=e=>e.left===0&&e.right===0&&e.top===0&&e.bottom===0,ml=e=>{var n;let o;const a=e.getClientRects();return a.length>0?o=Xf(a[0]):o=Xf(e.getBoundingClientRect()),!ey(e)&&wa(e)&&ty(o)?om(e):ty(o)&&ey(e)&&(n=v2(e))!==null&&n!==void 0?n:o},sm=(e,n)=>{const o=Bv(e,n);return o.width=1,o.right=o.left+1,o},y2=e=>{const n=[],o=p=>{p.height!==0&&(n.length>0&&Jf(p,n[n.length-1])||n.push(p))},a=(p,_)=>{const A=dg(p.ownerDocument);if(_<p.data.length){if(g2(p.data[_]))return;if(g2(p.data[_-1])&&(A.setStart(p,_),A.setEnd(p,_+1),!Nh(A))){o(sm(ml(A),!1));return}}_>0&&(A.setStart(p,_-1),A.setEnd(p,_),Nh(A)||o(sm(ml(A),!1))),_<p.data.length&&(A.setStart(p,_),A.setEnd(p,_+1),Nh(A)||o(sm(ml(A),!0)))},c=e.container(),m=e.offset();if(Uv(c))return a(c,m),n;if(f_(c))if(e.isAtEnd()){const p=ug(c,m);Uv(p)&&a(p,p.data.length),Hv(p)&&!wa(p)&&o(sm(ml(p),!1))}else{const p=ug(c,m);if(Uv(p)&&a(p,0),Hv(p)&&e.isAtEnd())return o(sm(ml(p),!1)),n;const _=ug(e.container(),e.offset()-1);Hv(_)&&!wa(_)&&(cg(_)||cg(p)||!Hv(p))&&o(sm(ml(_),!1)),Hv(p)&&o(sm(ml(p),!0))}return n},At=(e,n,o)=>{const a=()=>(Uv(e),n===0),c=()=>Uv(e)?n>=e.data.length:n>=e.childNodes.length,m=()=>{const q=dg(e.ownerDocument);return q.setStart(e,n),q.setEnd(e,n),q},p=()=>(o||(o=y2(At(e,n))),o),_=()=>p().length>0,A=q=>q&&e===q.container()&&n===q.offset(),$=q=>ug(e,q?n-1:n);return{container:dt(e),offset:dt(n),toRange:m,getClientRects:p,isVisible:_,isAtStart:a,isAtEnd:c,isEqual:A,getNode:$}};At.fromRangeStart=e=>At(e.startContainer,e.startOffset),At.fromRangeEnd=e=>At(e.endContainer,e.endOffset),At.after=e=>At(e.parentNode,Q1(e)+1),At.before=e=>At(e.parentNode,Q1(e)),At.isAbove=(e,n)=>da(On(n.getClientRects()),vo(e.getClientRects()),em).getOr(!1),At.isBelow=(e,n)=>da(vo(n.getClientRects()),On(e.getClientRects()),Dh).getOr(!1),At.isAtStart=e=>e?e.isAtStart():!1,At.isAtEnd=e=>e?e.isAtEnd():!1,At.isTextPosition=e=>e?qt(e.container()):!1,At.isElementPosition=e=>!At.isTextPosition(e);const Wp=(e,n)=>{qt(n)&&n.data.length===0&&e.remove(n)},sA=(e,n,o)=>{n.insertNode(o),Wp(e,o.previousSibling),Wp(e,o.nextSibling)},m_=(e,n,o)=>{const a=J.from(o.firstChild),c=J.from(o.lastChild);n.insertNode(o),a.each(m=>Wp(e,m.previousSibling)),c.each(m=>Wp(e,m.nextSibling))},ny=(e,n,o)=>{Hf(o)?m_(e,n,o):sA(e,n,o)},Su=qt,oy=Vf,Kv=Js.nodeIndex,x2=e=>{const n=e.parentNode;return oy(n)?x2(n):n},w2=e=>e?wl(e.childNodes,(n,o)=>(oy(o)&&o.nodeName!=="BR"?n=n.concat(w2(o)):n.push(o),n),[]):[],rA=(e,n)=>{let o=e;for(;(o=o.previousSibling)&&Su(o);)n+=o.data.length;return n},y=e=>n=>e===n,S=e=>{let n,o;n=w2(x2(e)),o=lr(n,y(e),e),n=n.slice(0,o+1);const a=wl(n,(c,m,p)=>(Su(m)&&Su(n[p-1])&&c++,c),0);return n=ol(n,ba([e.nodeName])),o=lr(n,y(e),e),o-a},T=e=>(Su(e)?"text()":e.nodeName.toLowerCase())+"["+S(e)+"]",B=(e,n,o)=>{const a=[];for(let c=n.parentNode;c&&c!==e;c=c.parentNode)a.push(c);return a},W=(e,n)=>{let o=[],a=n.container(),c=n.offset(),m;if(Su(a))m=rA(a,c);else{const _=a.childNodes;c>=_.length?(m="after",c=_.length-1):m="before",a=_[c]}o.push(T(a));let p=B(e,a);return p=ol(p,Me(Vf)),o=o.concat(Nm(p,_=>T(_))),o.reverse().join("/")+","+m},K=(e,n,o)=>{let a=w2(e);return a=ol(a,(c,m)=>!Su(c)||!Su(a[m-1])),a=ol(a,ba([n])),a[o]},ie=(e,n)=>{let o=e,a=0;for(;Su(o);){const c=o.data.length;if(n>=a&&n<=a+c){e=o,n=n-a;break}if(!Su(o.nextSibling)){e=o,n=c;break}a+=c,o=o.nextSibling}return Su(e)&&n>e.data.length&&(n=e.data.length),At(e,n)},ue=(e,n)=>{if(!n)return null;const o=n.split(","),a=o[0].split("/"),c=o.length>1?o[1]:"before",m=wl(a,(p,_)=>{const A=/([\w\-\(\)]+)\[([0-9]+)\]/.exec(_);return A?(A[1]==="text()"&&(A[1]="#text"),K(p,A[1],parseInt(A[2],10))):null},e);if(!m)return null;if(!Su(m)&&m.parentNode){let p;return c==="after"?p=Kv(m)+1:p=Kv(m),At(m.parentNode,p)}return ie(m,parseInt(c,10))},Ee=_o,ze=(e,n,o)=>{let a=e(n.data.slice(0,o)).length;for(let c=n.previousSibling;c&&qt(c);c=c.previousSibling)a+=e(c.data).length;return a},Qe=(e,n,o,a,c)=>{const m=c?a.startContainer:a.endContainer;let p=c?a.startOffset:a.endOffset;const _=[],A=e.getRoot();if(qt(m))_.push(o?ze(n,m,p):p);else{let $=0;const q=m.childNodes;p>=q.length&&q.length&&($=1,p=Math.max(0,q.length-1)),_.push(e.nodeIndex(q[p],o)+$)}for(let $=m;$&&$!==A;$=$.parentNode)_.push(e.nodeIndex($,o));return _},Le=(e,n,o,a)=>{const c=n.dom,m=Qe(c,e,o,a,!0),p=n.isForward(),_=Ih(a)?{isFakeCaret:!0}:{};if(n.isCollapsed())return{start:m,forward:p,..._};{const A=Qe(c,e,o,a,!1);return{start:m,end:A,forward:p,..._}}},We=(e,n,o)=>{let a=0;return rn.each(e.select(n),c=>{if(c.getAttribute("data-mce-bogus")!=="all"){if(c===o)return!1;a++;return}}),a},Ze=(e,n)=>{let o=n?e.startContainer:e.endContainer,a=n?e.startOffset:e.endOffset;if(Ln(o)&&o.nodeName==="TR"){const c=o.childNodes;o=c[Math.min(n?a:a-1,c.length-1)],o&&(a=n?0:o.childNodes.length,n?e.setStart(o,a):e.setEnd(o,a))}},ut=e=>(Ze(e,!0),Ze(e,!1),e),gt=(e,n)=>{if(Ln(e)&&(e=Ai(e,n),Ee(e)))return e;if(Ql(e)){qt(e)&&Vp(e)&&(e=e.parentNode);let o=e.previousSibling;if(Ee(o)||(o=e.nextSibling,Ee(o)))return o}},Bt=e=>gt(e.startContainer,e.startOffset)||gt(e.endContainer,e.endOffset),Vt=(e,n,o)=>{const a=o.getNode(),c=o.getRng();if(a.nodeName==="IMG"||Ee(a)){const p=a.nodeName;return{name:p,index:We(o.dom,p,a)}}const m=Bt(c);if(m){const p=m.tagName;return{name:p,index:We(o.dom,p,m)}}return Le(e,o,n,c)},Mt=e=>{const n=e.getRng();return{start:W(e.dom.getRoot(),At.fromRangeStart(n)),end:W(e.dom.getRoot(),At.fromRangeEnd(n)),forward:e.isForward()}},Ht=e=>({rng:e.getRng(),forward:e.isForward()}),tn=(e,n,o)=>{const a={"data-mce-type":"bookmark",id:n,style:"overflow:hidden;line-height:0px"};return o?e.create("span",a,"&#xFEFF;"):e.create("span",a)},an=(e,n)=>{const o=e.dom;let a=e.getRng();const c=o.uniqueId(),m=e.isCollapsed(),p=e.getNode(),_=p.nodeName,A=e.isForward();if(_==="IMG")return{name:_,index:We(o,_,p)};const $=ut(a.cloneRange());if(!m){$.collapse(!1);const X=tn(o,c+"_end",n);ny(o,$,X)}a=ut(a),a.collapse(!0);const q=tn(o,c+"_start",n);return ny(o,a,q),e.moveToBookmark({id:c,keep:!0,forward:A}),{id:c,forward:A}},ht=(e,n,o=!1)=>n===2?Vt(Rl,o,e):n===3?Mt(e):n?Ht(e):an(e,!1),An=et(Vt,Sn,!0),ro=e=>{const n=m=>m(e),o=dt(e),a=()=>c,c={tag:!0,inner:e,fold:(m,p)=>p(e),isValue:sn,isError:In,map:m=>io.value(m(e)),mapError:a,bind:n,exists:n,forall:n,getOr:o,or:a,getOrThunk:o,orThunk:a,getOrDie:o,each:m=>{m(e)},toOptional:()=>J.some(e)};return c},Ro=e=>{const n=()=>o,o={tag:!1,inner:e,fold:(a,c)=>a(e),isValue:In,isError:sn,map:n,mapError:a=>io.error(a(e)),bind:n,exists:In,forall:sn,getOr:Sn,or:Sn,getOrThunk:so,orThunk:so,getOrDie:ft(String(e)),each:lt,toOptional:J.none};return o},io={value:ro,error:Ro,fromOption:(e,n)=>e.fold(()=>Ro(n),ro)},ts={generate:e=>{if(!ne(e))throw new Error("cases must be an array");if(e.length===0)throw new Error("there must be at least one case");const n=[],o={};return be(e,(a,c)=>{const m=en(a);if(m.length!==1)throw new Error("one and only one name per case");const p=m[0],_=a[p];if(o[p]!==void 0)throw new Error("duplicate key detected:"+p);if(p==="cata")throw new Error("cannot have a case named cata (sorry)");if(!ne(_))throw new Error("case arguments must be an array");n.push(p),o[p]=(...A)=>{const $=A.length;if($!==_.length)throw new Error("Wrong number of arguments to case "+p+". Expected "+_.length+" ("+_+"), got "+$);return{fold:(...X)=>{if(X.length!==e.length)throw new Error("Wrong number of arguments to fold. Expected "+e.length+", got "+X.length);return X[c].apply(null,A)},match:X=>{const oe=en(X);if(n.length!==oe.length)throw new Error("Wrong number of arguments to match. Expected: "+n.join(",")+`
Actual: `+oe.join(","));if(!No(n,Oe=>we(oe,Oe)))throw new Error("Not all branches were specified when using match. Specified: "+oe.join(", ")+`
Required: `+n.join(", "));return X[p].apply(null,A)},log:X=>{console.log(X,{constructors:n,constructor:p,params:A})}}}}),o}};ts.generate([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]);const ri=e=>{const n=[],o=[];return be(e,a=>{a.fold(c=>{n.push(c)},c=>{o.push(c)})}),{errors:n,values:o}},La=e=>e.type==="inline-command"||e.type==="inline-format",ea=e=>e.type==="block-command"||e.type==="block-format",gc=(e,n)=>(e.type==="block-command"||e.type==="block-format")&&e.trigger===n,fg=e=>{var n;const o=c=>io.error({message:c,pattern:e}),a=(c,m,p)=>{if(e.format!==void 0){let _;if(ne(e.format)){if(!No(e.format,le))return o(c+" pattern has non-string items in the `format` array");_=e.format}else if(le(e.format))_=[e.format];else return o(c+" pattern has non-string `format` parameter");return io.value(m(_))}else return e.cmd!==void 0?le(e.cmd)?io.value(p(e.cmd,e.value)):o(c+" pattern has non-string `cmd` parameter"):o(c+" pattern is missing both `format` and `cmd` parameters")};if(!j(e))return o("Raw pattern is not an object");if(!le(e.start))return o("Raw pattern is missing `start` parameter");if(e.end!==void 0){if(!le(e.end))return o("Inline pattern has non-string `end` parameter");if(e.start.length===0&&e.end.length===0)return o("Inline pattern has empty `start` and `end` parameters");let c=e.start,m=e.end;return m.length===0&&(m=c,c=""),a("Inline",p=>({type:"inline-format",start:c,end:m,format:p}),(p,_)=>({type:"inline-command",start:c,end:m,cmd:p,value:_}))}else{if(e.replacement!==void 0)return le(e.replacement)?e.start.length===0?o("Replacement pattern has empty `start` parameter"):io.value({type:"inline-command",start:"",end:e.start,cmd:"mceInsertContent",value:e.replacement}):o("Replacement pattern has non-string `replacement` parameter");{const c=(n=e.trigger)!==null&&n!==void 0?n:"space";return e.start.length===0?o("Block pattern has empty `start` parameter"):a("Block",m=>({type:"block-format",start:e.start,format:m[0],trigger:c}),(m,p)=>({type:"block-command",start:e.start,cmd:m,value:p,trigger:c}))}}},Ma=e=>Ge(e,ea),fd=e=>Ge(e,La),Kp=(e,n)=>({inlinePatterns:fd(e),blockPatterns:Ma(e),dynamicPatternsLookup:n}),rm=(e,n)=>({...e,blockPatterns:Ge(e.blockPatterns,o=>gc(o,n))}),jp=e=>{const n=ri(He(e,fg));return be(n.errors,o=>console.error(o.message,o.pattern)),n.values},sy=e=>n=>{const o=e(n);return jp(o)},im=ca().deviceType,g_=im.isTouch(),b8=Js.DOM,v8=e=>{const n=e.indexOf("=")>0?e.split(/[;,](?![^=;,]*(?:[;,]|$))/):e.split(",");return cn(n,(o,a)=>{const c=a.split("="),m=c[0],p=c.length>1?c[1]:m;return o[Ue(m)]=Ue(p),o},{})},AI=e=>de(e,RegExp),Dn=e=>n=>n.options.get(e),C2=e=>le(e)||j(e),iA=(e,n="")=>o=>{const a=le(o);if(a)if(o.indexOf("=")!==-1){const c=v8(o);return{value:Ps(c,e.id).getOr(n),valid:a}}else return{value:o,valid:a};else return{valid:!1,message:"Must be a string."}},h_=e=>{const n=e.options.register;n("id",{processor:"string",default:e.id}),n("selector",{processor:"string"}),n("target",{processor:"object"}),n("suffix",{processor:"string"}),n("cache_suffix",{processor:"string"}),n("base_url",{processor:"string"}),n("referrer_policy",{processor:"string",default:""}),n("language_load",{processor:"boolean",default:!0}),n("inline",{processor:"boolean",default:!1}),n("iframe_attrs",{processor:"object",default:{}}),n("doctype",{processor:"string",default:"<!DOCTYPE html>"}),n("document_base_url",{processor:"string",default:e.documentBaseUrl}),n("body_id",{processor:iA(e,"tinymce"),default:"tinymce"}),n("body_class",{processor:iA(e),default:""}),n("content_security_policy",{processor:"string",default:""}),n("br_in_pre",{processor:"boolean",default:!0}),n("forced_root_block",{processor:o=>{const a=le(o)&&ot(o);return a?{value:o,valid:a}:{valid:!1,message:"Must be a non-empty string."}},default:"p"}),n("forced_root_block_attrs",{processor:"object",default:{}}),n("newline_behavior",{processor:o=>{const a=we(["block","linebreak","invert","default"],o);return a?{value:o,valid:a}:{valid:!1,message:"Must be one of: block, linebreak, invert or default."}},default:"default"}),n("br_newline_selector",{processor:"string",default:".mce-toc h2,figcaption,caption"}),n("no_newline_selector",{processor:"string",default:""}),n("keep_styles",{processor:"boolean",default:!0}),n("end_container_on_empty_block",{processor:o=>Fe(o)?{valid:!0,value:o}:le(o)?{valid:!0,value:o}:{valid:!1,message:"Must be boolean or a string"},default:"blockquote"}),n("font_size_style_values",{processor:"string",default:"xx-small,x-small,small,medium,large,x-large,xx-large"}),n("font_size_legacy_values",{processor:"string",default:"xx-small,small,medium,large,x-large,xx-large,300%"}),n("font_size_classes",{processor:"string",default:""}),n("automatic_uploads",{processor:"boolean",default:!0}),n("images_reuse_filename",{processor:"boolean",default:!1}),n("images_replace_blob_uris",{processor:"boolean",default:!0}),n("icons",{processor:"string",default:""}),n("icons_url",{processor:"string",default:""}),n("images_upload_url",{processor:"string",default:""}),n("images_upload_base_path",{processor:"string",default:""}),n("images_upload_credentials",{processor:"boolean",default:!1}),n("images_upload_handler",{processor:"function"}),n("language",{processor:"string",default:"en"}),n("language_url",{processor:"string",default:""}),n("entity_encoding",{processor:"string",default:"named"}),n("indent",{processor:"boolean",default:!0}),n("indent_before",{processor:"string",default:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,details,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist"}),n("indent_after",{processor:"string",default:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,details,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist"}),n("indent_use_margin",{processor:"boolean",default:!1}),n("indentation",{processor:"string",default:"40px"}),n("content_css",{processor:o=>{const a=o===!1||le(o)||it(o,le);return a?le(o)?{value:He(o.split(","),Ue),valid:a}:ne(o)?{value:o,valid:a}:o===!1?{value:[],valid:a}:{value:o,valid:a}:{valid:!1,message:"Must be false, a string or an array of strings."}},default:jv(e)?[]:["default"]}),n("content_style",{processor:"string"}),n("content_css_cors",{processor:"boolean",default:!1}),n("font_css",{processor:o=>{const a=le(o)||it(o,le);return a?{value:ne(o)?o:He(o.split(","),Ue),valid:a}:{valid:!1,message:"Must be a string or an array of strings."}},default:[]}),n("inline_boundaries",{processor:"boolean",default:!0}),n("inline_boundaries_selector",{processor:"string",default:"a[href],code,span.mce-annotation"}),n("object_resizing",{processor:o=>{const a=Fe(o)||le(o);return a?o===!1||im.isiPhone()||im.isiPad()?{value:"",valid:a}:{value:o===!0?"table,img,figure.image,div,video,iframe":o,valid:a}:{valid:!1,message:"Must be boolean or a string"}},default:!g_}),n("resize_img_proportional",{processor:"boolean",default:!0}),n("event_root",{processor:"string"}),n("service_message",{processor:"string"}),n("theme",{processor:o=>o===!1||le(o)||_e(o),default:"silver"}),n("theme_url",{processor:"string"}),n("formats",{processor:"object"}),n("format_empty_lines",{processor:"boolean",default:!1}),n("format_noneditable_selector",{processor:"string",default:""}),n("preview_styles",{processor:o=>{const a=o===!1||le(o);return a?{value:o===!1?"":o,valid:a}:{valid:!1,message:"Must be false or a string"}},default:"font-family font-size font-weight font-style text-decoration text-transform color background-color border border-radius outline text-shadow"}),n("custom_ui_selector",{processor:"string",default:""}),n("hidden_input",{processor:"boolean",default:!0}),n("submit_patch",{processor:"boolean",default:!0}),n("encoding",{processor:"string"}),n("add_form_submit_trigger",{processor:"boolean",default:!0}),n("add_unload_trigger",{processor:"boolean",default:!0}),n("custom_undo_redo_levels",{processor:"number",default:0}),n("disable_nodechange",{processor:"boolean",default:!1}),n("readonly",{processor:"boolean",default:!1}),n("editable_root",{processor:"boolean",default:!0}),n("plugins",{processor:"string[]",default:[]}),n("external_plugins",{processor:"object"}),n("forced_plugins",{processor:"string[]"}),n("model",{processor:"string",default:e.hasPlugin("rtc")?"plugin":"dom"}),n("model_url",{processor:"string"}),n("block_unsupported_drop",{processor:"boolean",default:!0}),n("visual",{processor:"boolean",default:!0}),n("visual_table_class",{processor:"string",default:"mce-item-table"}),n("visual_anchor_class",{processor:"string",default:"mce-item-anchor"}),n("iframe_aria_text",{processor:"string",default:"Rich Text Area. Press ALT-0 for help."}),n("setup",{processor:"function"}),n("init_instance_callback",{processor:"function"}),n("url_converter",{processor:"function",default:e.convertURL}),n("url_converter_scope",{processor:"object",default:e}),n("urlconverter_callback",{processor:"function"}),n("allow_conditional_comments",{processor:"boolean",default:!1}),n("allow_html_data_urls",{processor:"boolean",default:!1}),n("allow_svg_data_urls",{processor:"boolean"}),n("allow_html_in_named_anchor",{processor:"boolean",default:!1}),n("allow_script_urls",{processor:"boolean",default:!1}),n("allow_unsafe_link_target",{processor:"boolean",default:!1}),n("convert_fonts_to_spans",{processor:"boolean",default:!0,deprecated:!0}),n("fix_list_elements",{processor:"boolean",default:!1}),n("preserve_cdata",{processor:"boolean",default:!1}),n("remove_trailing_brs",{processor:"boolean",default:!0}),n("pad_empty_with_br",{processor:"boolean",default:!1}),n("inline_styles",{processor:"boolean",default:!0,deprecated:!0}),n("element_format",{processor:"string",default:"html"}),n("entities",{processor:"string"}),n("schema",{processor:"string",default:"html5"}),n("convert_urls",{processor:"boolean",default:!0}),n("relative_urls",{processor:"boolean",default:!0}),n("remove_script_host",{processor:"boolean",default:!0}),n("custom_elements",{processor:C2}),n("extended_valid_elements",{processor:"string"}),n("invalid_elements",{processor:"string"}),n("invalid_styles",{processor:C2}),n("valid_children",{processor:"string"}),n("valid_classes",{processor:C2}),n("valid_elements",{processor:"string"}),n("valid_styles",{processor:C2}),n("verify_html",{processor:"boolean",default:!0}),n("auto_focus",{processor:o=>le(o)||o===!0}),n("browser_spellcheck",{processor:"boolean",default:!1}),n("protect",{processor:"array"}),n("images_file_types",{processor:"string",default:"jpeg,jpg,jpe,jfi,jif,jfif,png,gif,bmp,webp"}),n("deprecation_warnings",{processor:"boolean",default:!0}),n("a11y_advanced_options",{processor:"boolean",default:!1}),n("api_key",{processor:"string"}),n("license_key",{processor:"string"}),n("paste_block_drop",{processor:"boolean",default:!1}),n("paste_data_images",{processor:"boolean",default:!0}),n("paste_preprocess",{processor:"function"}),n("paste_postprocess",{processor:"function"}),n("paste_webkit_styles",{processor:"string",default:"none"}),n("paste_remove_styles_if_webkit",{processor:"boolean",default:!0}),n("paste_merge_formats",{processor:"boolean",default:!0}),n("smart_paste",{processor:"boolean",default:!0}),n("paste_as_text",{processor:"boolean",default:!1}),n("paste_tab_spaces",{processor:"number",default:4}),n("text_patterns",{processor:o=>it(o,j)||o===!1?{value:jp(o===!1?[]:o),valid:!0}:{valid:!1,message:"Must be an array of objects or false."},default:[{start:"*",end:"*",format:"italic"},{start:"**",end:"**",format:"bold"},{start:"#",format:"h1",trigger:"space"},{start:"##",format:"h2",trigger:"space"},{start:"###",format:"h3",trigger:"space"},{start:"####",format:"h4",trigger:"space"},{start:"#####",format:"h5",trigger:"space"},{start:"######",format:"h6",trigger:"space"},{start:"1.",cmd:"InsertOrderedList",trigger:"space"},{start:"*",cmd:"InsertUnorderedList",trigger:"space"},{start:"-",cmd:"InsertUnorderedList",trigger:"space"},{start:">",cmd:"mceBlockQuote",trigger:"space"},{start:"---",cmd:"InsertHorizontalRule",trigger:"space"}]}),n("text_patterns_lookup",{processor:o=>_e(o)?{value:sy(o),valid:!0}:{valid:!1,message:"Must be a single function"},default:o=>[]}),n("noneditable_class",{processor:"string",default:"mceNonEditable"}),n("editable_class",{processor:"string",default:"mceEditable"}),n("noneditable_regexp",{processor:o=>it(o,AI)?{value:o,valid:!0}:AI(o)?{value:[o],valid:!0}:{valid:!1,message:"Must be a RegExp or an array of RegExp."},default:[]}),n("table_tab_navigation",{processor:"boolean",default:!0}),n("highlight_on_focus",{processor:"boolean",default:!0}),n("xss_sanitization",{processor:"boolean",default:!0}),n("details_initial_state",{processor:o=>{const a=we(["inherited","collapsed","expanded"],o);return a?{value:o,valid:a}:{valid:!1,message:"Must be one of: inherited, collapsed, or expanded."}},default:"inherited"}),n("details_serialized_state",{processor:o=>{const a=we(["inherited","collapsed","expanded"],o);return a?{value:o,valid:a}:{valid:!1,message:"Must be one of: inherited, collapsed, or expanded."}},default:"inherited"}),n("init_content_sync",{processor:"boolean",default:!1}),n("newdocument_content",{processor:"string",default:""}),n("sandbox_iframes",{processor:"boolean",default:!0}),n("sandbox_iframes_exclusions",{processor:"string[]",default:["youtube.com","youtu.be","vimeo.com","player.vimeo.com","dailymotion.com","embed.music.apple.com","open.spotify.com","giphy.com","dai.ly","codepen.io"]}),n("convert_unsafe_embeds",{processor:"boolean",default:!0}),e.on("ScriptsLoaded",()=>{n("directionality",{processor:"string",default:Hc.isRtl()?"rtl":void 0}),n("placeholder",{processor:"string",default:b8.getAttrib(e.getElement(),"placeholder")})})},Il=Dn("iframe_attrs"),lf=Dn("doctype"),ku=Dn("document_base_url"),p_=Dn("body_id"),aA=Dn("body_class"),TI=Dn("content_security_policy"),lA=Dn("br_in_pre"),gl=Dn("forced_root_block"),_2=Dn("forced_root_block_attrs"),cA=Dn("newline_behavior"),OI=Dn("br_newline_selector"),RI=Dn("no_newline_selector"),uA=Dn("keep_styles"),dA=Dn("end_container_on_empty_block"),Qs=Dn("automatic_uploads"),Lh=Dn("images_reuse_filename"),II=Dn("images_replace_blob_uris"),fA=Dn("icons"),DI=Dn("icons_url"),mA=Dn("images_upload_url"),PI=Dn("images_upload_base_path"),gA=Dn("images_upload_credentials"),y8=Dn("images_upload_handler"),NI=Dn("content_css_cors"),S2=Dn("referrer_policy"),hA=Dn("language"),x8=Dn("language_url"),LI=Dn("indent_use_margin"),Eu=Dn("indentation"),Ul=Dn("content_css"),ry=Dn("content_style"),MI=Dn("font_css"),w8=Dn("directionality"),cs=Dn("inline_boundaries_selector"),BI=Dn("object_resizing"),FI=Dn("resize_img_proportional"),pA=Dn("placeholder"),$I=Dn("event_root"),C8=Dn("service_message"),iy=Dn("theme"),_8=Dn("theme_url"),k2=Dn("model"),bA=Dn("model_url"),ay=Dn("inline_boundaries"),S8=Dn("formats"),k8=Dn("preview_styles"),E8=Dn("format_empty_lines"),ho=Dn("format_noneditable_selector"),VI=Dn("custom_ui_selector"),jv=Dn("inline"),vA=Dn("hidden_input"),zI=Dn("submit_patch"),HI=Dn("add_form_submit_trigger"),UI=Dn("add_unload_trigger"),WI=Dn("custom_undo_redo_levels"),A8=Dn("disable_nodechange"),KI=Dn("readonly"),Ts=Dn("editable_root"),jI=Dn("content_css_cors"),cf=Dn("plugins"),mg=Dn("external_plugins"),b_=Dn("block_unsupported_drop"),jc=Dn("visual"),v_=Dn("visual_table_class"),ly=Dn("visual_anchor_class"),E2=Dn("iframe_aria_text"),cy=Dn("setup"),T8=Dn("init_instance_callback"),O8=Dn("urlconverter_callback"),R8=Dn("auto_focus"),I8=Dn("browser_spellcheck"),gs=Dn("protect"),am=Dn("paste_block_drop"),gg=Dn("paste_data_images"),D8=Dn("paste_preprocess"),A2=Dn("paste_postprocess"),ys=Dn("newdocument_content"),ZI=Dn("paste_webkit_styles"),yA=Dn("paste_remove_styles_if_webkit"),P8=Dn("paste_merge_formats"),Zv=Dn("smart_paste"),Gv=Dn("paste_as_text"),GI=Dn("paste_tab_spaces"),N8=Dn("allow_html_data_urls"),L8=Dn("text_patterns"),T2=Dn("text_patterns_lookup"),qv=Dn("noneditable_class"),M8=Dn("editable_class"),qI=Dn("noneditable_regexp"),B8=Dn("preserve_cdata"),YI=Dn("highlight_on_focus"),XI=Dn("xss_sanitization"),JI=Dn("init_content_sync"),xA=e=>e.options.isSet("text_patterns_lookup"),wA=e=>rn.explode(e.options.get("font_size_style_values")),CA=e=>rn.explode(e.options.get("font_size_classes")),QI=e=>e.options.get("encoding")==="xml",_A=e=>rn.explode(e.options.get("images_file_types")),eD=Dn("table_tab_navigation"),y_=Dn("details_initial_state"),tD=Dn("details_serialized_state"),SA=Dn("sandbox_iframes"),x_=e=>e.options.get("sandbox_iframes_exclusions"),nD=Dn("convert_unsafe_embeds"),oD=Dn("license_key"),sD=Dn("api_key"),F8=Ln,rD=qt,O2=e=>{const n=e.parentNode;n&&n.removeChild(e)},kA=e=>{const n=Rl(e);return{count:e.length-n.length,text:n}},EA=e=>{let n;for(;(n=e.data.lastIndexOf(Ei))!==-1;)e.deleteData(n,1)},AA=(e,n)=>(Zp(e),n),$8=(e,n)=>{const o=kA(e.data.substr(0,n.offset())),a=kA(e.data.substr(n.offset()));return(o.text+a.text).length>0?(EA(e),At(e,n.offset()-o.count)):n},V8=(e,n)=>{const o=n.container(),a=tt(Do(o.childNodes),e).map(c=>c<n.offset()?At(o,n.offset()-1):n).getOr(n);return Zp(e),a},z8=(e,n)=>rD(e)&&n.container()===e?$8(e,n):AA(e,n),H8=(e,n)=>n.container()===e.parentNode?V8(e,n):AA(e,n),U8=(e,n)=>At.isTextPosition(n)?z8(e,n):H8(e,n),Zp=e=>{F8(e)&&Ql(e)&&(K1(e)?e.removeAttribute("data-mce-caret"):O2(e)),rD(e)&&(EA(e),e.data.length===0&&O2(e))},iD=_o,w_=Dt,W8=Op,TA="*[contentEditable=false],video,audio,embed,object",aD=(e,n,o)=>{const a=Bv(n.getBoundingClientRect(),o);let c,m;if(e.tagName==="BODY"){const _=e.ownerDocument.documentElement;c=e.scrollLeft||_.scrollLeft,m=e.scrollTop||_.scrollTop}else{const _=e.getBoundingClientRect();c=e.scrollLeft-_.left,m=e.scrollTop-_.top}a.left+=c,a.right+=c,a.top+=m,a.bottom+=m,a.width=1;let p=n.offsetWidth-n.clientWidth;return p>0&&(o&&(p*=-1),a.left+=p,a.right+=p),a},lD=e=>{var n,o;const a=vi(je.fromDom(e),TA);for(let c=0;c<a.length;c++){const m=a[c].dom;let p=m.previousSibling;if(af(p)){const _=p.data;_.length===1?(n=p.parentNode)===null||n===void 0||n.removeChild(p):p.deleteData(_.length-1,1)}p=m.nextSibling,Lv(p)&&(p.data.length===1?(o=p.parentNode)===null||o===void 0||o.removeChild(p):p.deleteData(0,1))}},cD=(e,n,o,a)=>{const c=Mi();let m,p;const _=gl(e),A=e.dom,$=(ye,Pe)=>{let Ye;if(q(),W8(Pe))return null;if(o(Pe)){const st=a_(_,Pe,ye),nt=aD(n,Pe,ye);A.setStyle(st,"top",nt.top),A.setStyle(st,"caret-color","transparent"),p=st;const yt=A.create("div",{class:"mce-visual-caret","data-mce-bogus":"all"});A.setStyles(yt,{...nt}),A.add(n,yt),c.set({caret:yt,element:Pe,before:ye}),ye&&A.addClass(yt,"mce-visual-caret-before"),X(),Ye=Pe.ownerDocument.createRange(),Ye.setStart(st,0),Ye.setEnd(st,0)}else return p=j1(Pe,ye),Ye=Pe.ownerDocument.createRange(),R2(p.nextSibling)?(Ye.setStart(p,0),Ye.setEnd(p,0)):(Ye.setStart(p,1),Ye.setEnd(p,1)),Ye;return Ye},q=()=>{lD(n),p&&(Zp(p),p=null),c.on(ye=>{A.remove(ye.caret),c.clear()}),m&&(clearInterval(m),m=void 0)},X=()=>{m=setInterval(()=>{c.on(ye=>{a()?A.toggleClass(ye.caret,"mce-visual-caret-hidden"):A.addClass(ye.caret,"mce-visual-caret-hidden")})},500)};return{show:$,hide:q,getCss:()=>".mce-visual-caret {position: absolute;background-color: black;background-color: currentcolor;}.mce-visual-caret-hidden {display: none;}*[data-mce-caret] {position: absolute;left: -1000px;right: auto;top: 0;margin: 0;padding: 0;}",reposition:()=>{c.on(ye=>{const Pe=aD(n,ye.element,ye.before);A.setStyles(ye.caret,{...Pe})})},destroy:()=>clearInterval(m)}},OA=()=>Wo.browser.isFirefox(),R2=e=>iD(e)||w_(e),I2=e=>(R2(e)||bu(e)&&OA())&&Nf(je.fromDom(e)).exists(_r),C_=Bc,__=_o,uD=Dt,RA=Lc("display","block table table-cell table-caption list-item"),IA=Ql,dD=Vp,K8=Ln,S_=qt,fD=Cu,Yv=e=>e>0,Xv=e=>e<0,k_=(e,n)=>{let o;for(;o=e(n);)if(!dD(o))return o;return null},D2=(e,n,o,a,c)=>{const m=new pa(e,a),p=__(e)||dD(e);let _;if(Xv(n)){if(p&&(_=k_(m.prev.bind(m),!0),o(_)))return _;for(;_=k_(m.prev.bind(m),c);)if(o(_))return _}if(Yv(n)){if(p&&(_=k_(m.next.bind(m),!0),o(_)))return _;for(;_=k_(m.next.bind(m),c);)if(o(_))return _}return null},j8=(e,n)=>{const o=c=>C_(c.dom),a=c=>c.dom===n;return ll(je.fromDom(e),o,a).map(c=>c.dom).getOr(n)},Gp=(e,n)=>{for(;e&&e!==n;){if(RA(e))return e;e=e.parentNode}return null},hg=(e,n,o)=>Gp(e.container(),o)===Gp(n.container(),o),E_=(e,n)=>{if(!n)return J.none();const o=n.container(),a=n.offset();return K8(o)?J.from(o.childNodes[a+e]):J.none()},mD=(e,n)=>{var o;const c=((o=n.ownerDocument)!==null&&o!==void 0?o:document).createRange();return e?(c.setStartBefore(n),c.setEndBefore(n)):(c.setStartAfter(n),c.setEndAfter(n)),c},gD=(e,n,o)=>Gp(n,e)===Gp(o,e),DA=(e,n,o)=>{const a=e?"previousSibling":"nextSibling";let c=o;for(;c&&c!==n;){let m=c[a];if(m&&IA(m)&&(m=m[a]),__(m)||uD(m)){if(gD(n,m,c))return m;break}if(fD(m))break;c=c.parentNode}return null},P2=et(mD,!0),N2=et(mD,!1),PA=(e,n,o)=>{let a;const c=et(DA,!0,n),m=et(DA,!1,n),p=o.startContainer,_=o.startOffset;if(Vp(p)){const A=S_(p)?p.parentNode:p,$=A.getAttribute("data-mce-caret");if($==="before"&&(a=A.nextSibling,I2(a)))return P2(a);if($==="after"&&(a=A.previousSibling,I2(a)))return N2(a)}if(!o.collapsed)return o;if(qt(p)){if(IA(p)){if(e===1){if(a=m(p),a)return P2(a);if(a=c(p),a)return N2(a)}if(e===-1){if(a=c(p),a)return N2(a);if(a=m(p),a)return P2(a)}return o}if(af(p)&&_>=p.data.length-1)return e===1&&(a=m(p),a)?P2(a):o;if(Lv(p)&&_<=1)return e===-1&&(a=c(p),a)?N2(a):o;if(_===p.data.length)return a=m(p),a?P2(a):o;if(_===0)return a=c(p),a?N2(a):o}return o},hD=(e,n)=>E_(e?0:-1,n).filter(__),L2=(e,n,o)=>{const a=PA(e,n,o);return e===-1?At.fromRangeStart(a):At.fromRangeEnd(a)},A_=e=>J.from(e.getNode()).map(je.fromDom),Z8=e=>J.from(e.getNode(!0)).map(je.fromDom),NA=(e,n)=>{let o=n;for(;o=e(o);)if(o.isVisible())return o;return o},T_=(e,n)=>{const o=hg(e,n);return!o&&pr(e.getNode())?!0:o};var qa;(function(e){e[e.Backwards=-1]="Backwards",e[e.Forwards=1]="Forwards"})(qa||(qa={}));const G8=_o,pg=qt,pD=Ln,Hn=pr,Jv=Cu,LA=Up,O_=Vv,MA=(e,n)=>{const o=[];let a=e;for(;a&&a!==n;)o.push(a),a=a.parentNode;return o},bD=(e,n)=>e.hasChildNodes()&&n<e.childNodes.length?e.childNodes[n]:null,M2=(e,n)=>{if(Yv(e)){if(Jv(n.previousSibling)&&!pg(n.previousSibling))return At.before(n);if(pg(n))return At(n,0)}if(Xv(e)){if(Jv(n.nextSibling)&&!pg(n.nextSibling))return At.after(n);if(pg(n))return At(n,n.data.length)}return Xv(e)?Hn(n)?At.before(n):At.after(n):At.before(n)},vD=(e,n)=>{const o=n.nextSibling;return o&&Jv(o)?pg(o)?At(o,0):At.before(o):BA(qa.Forwards,At.after(n),e)},BA=(e,n,o)=>{let a,c,m,p;if(!pD(o)||!n)return null;if(n.isEqual(At.after(o))&&o.lastChild){if(p=At.after(o.lastChild),Xv(e)&&Jv(o.lastChild)&&pD(o.lastChild))return Hn(o.lastChild)?At.before(o.lastChild):p}else p=n;const _=p.container();let A=p.offset();if(pg(_)){if(Xv(e)&&A>0)return At(_,--A);if(Yv(e)&&A<_.length)return At(_,++A);a=_}else{if(Xv(e)&&A>0&&(c=bD(_,A-1),Jv(c)))return!LA(c)&&(m=D2(c,e,O_,c),m)?pg(m)?At(m,m.data.length):At.after(m):pg(c)?At(c,c.data.length):At.before(c);if(Yv(e)&&A<_.childNodes.length&&(c=bD(_,A),Jv(c)))return Hn(c)?vD(o,c):!LA(c)&&(m=D2(c,e,O_,c),m)?pg(m)?At(m,0):At.before(m):pg(c)?At(c,0):At.after(c);a=c||p.getNode()}if(a&&(Yv(e)&&p.isAtEnd()||Xv(e)&&p.isAtStart())&&(a=D2(a,e,sn,o,!0),O_(a,o)))return M2(e,a);c=a&&D2(a,e,O_,o);const $=Ta(Ge(MA(_,o),G8));return $&&(!c||!$.contains(c))?(Yv(e)?p=At.after($):p=At.before($),p):c?M2(e,c):null},eo=e=>({next:n=>BA(qa.Forwards,n,e),prev:n=>BA(qa.Backwards,n,e)}),Io=(e,n,o)=>{const a=e?At.before(o):At.after(o);return Au(e,n,a)},yD=e=>pr(e)?At.before(e):At.after(e),xD=e=>At.isTextPosition(e)?e.offset()===0:Cu(e.getNode()),wD=e=>{if(At.isTextPosition(e)){const n=e.container();return e.offset()===n.data.length}else return Cu(e.getNode(!0))},CD=(e,n)=>!At.isTextPosition(e)&&!At.isTextPosition(n)&&e.getNode()===n.getNode(!0),mo=e=>!At.isTextPosition(e)&&pr(e.getNode()),B2=(e,n,o)=>e?!CD(n,o)&&!mo(n)&&wD(n)&&xD(o):!CD(o,n)&&xD(n)&&wD(o),Au=(e,n,o)=>{const a=eo(n);return J.from(e?a.next(o):a.prev(o))},Qv=(e,n,o)=>Au(e,n,o).bind(a=>hg(o,a,n)&&B2(e,o,a)?Au(e,n,a):J.some(a)),_D=(e,n,o,a)=>Qv(e,n,o).bind(c=>a(c)?_D(e,n,c,a):J.some(c)),uy=(e,n)=>{const o=e?n.firstChild:n.lastChild;return qt(o)?J.some(At(o,e?0:o.data.length)):o?Cu(o)?J.some(e?At.before(o):yD(o)):Io(e,n,o):J.none()},ec=et(Au,!0),Zc=et(Au,!1),ao=et(uy,!0),md=et(uy,!1),dy="_mce_caret",Tu=e=>Ln(e)&&e.id===dy,qp=(e,n)=>{let o=n;for(;o&&o!==e;){if(Tu(o))return o;o=o.parentNode}return null},SD=e=>le(e.start),kD=e=>yo(e,"rng"),ED=e=>yo(e,"id"),FA=e=>yo(e,"name"),AD=e=>rn.isArray(e.start),R_=e=>!FA(e)&&Fe(e.forward)?e.forward:!0,TD=(e,n)=>(Ln(n)&&e.isBlock(n)&&!n.innerHTML&&(n.innerHTML='<br data-mce-bogus="1" />'),n),q8=(e,n)=>{const o=J.from(ue(e.getRoot(),n.start)),a=J.from(ue(e.getRoot(),n.end));return da(o,a,(c,m)=>{const p=e.createRng();return p.setStart(c.container(),c.offset()),p.setEnd(m.container(),m.offset()),{range:p,forward:R_(n)}})},Y8=(e,n)=>{var o;const c=((o=e.ownerDocument)!==null&&o!==void 0?o:document).createTextNode(Ei);e.appendChild(c),n.setStart(c,0),n.setEnd(c,0)},$A=e=>!e.hasChildNodes(),VA=(e,n)=>md(e).fold(In,o=>(n.setStart(o.container(),o.offset()),n.setEnd(o.container(),o.offset()),!0)),OD=(e,n,o)=>$A(n)&&qp(e,n)?(Y8(n,o),!0):!1,RD=(e,n,o,a)=>{const c=o[n?"start":"end"],m=e.getRoot();if(c){let p=m,_=c[0];for(let A=c.length-1;p&&A>=1;A--){const $=p.childNodes;if(OD(m,p,a))return!0;if(c[A]>$.length-1)return OD(m,p,a)?!0:VA(p,a);p=$[c[A]]}qt(p)&&(_=Math.min(c[0],p.data.length)),Ln(p)&&(_=Math.min(c[0],p.childNodes.length)),n?a.setStart(p,_):a.setEnd(p,_)}return!0},zA=e=>qt(e)&&e.data.length>0,ID=(e,n,o)=>{const a=e.get(o.id+"_"+n),c=a==null?void 0:a.parentNode,m=o.keep;if(a&&c){let p,_;if(n==="start"?m?a.hasChildNodes()?(p=a.firstChild,_=1):zA(a.nextSibling)?(p=a.nextSibling,_=0):zA(a.previousSibling)?(p=a.previousSibling,_=a.previousSibling.data.length):(p=c,_=e.nodeIndex(a)+1):(p=c,_=e.nodeIndex(a)):m?a.hasChildNodes()?(p=a.firstChild,_=1):zA(a.previousSibling)?(p=a.previousSibling,_=a.previousSibling.data.length):(p=c,_=e.nodeIndex(a)):(p=c,_=e.nodeIndex(a)),!m){const A=a.previousSibling,$=a.nextSibling;rn.each(rn.grep(a.childNodes),X=>{qt(X)&&(X.data=X.data.replace(/\uFEFF/g,""))});let q;for(;q=e.get(o.id+"_"+n);)e.remove(q,!0);if(qt($)&&qt(A)&&!Wo.browser.isOpera()){const X=A.data.length;A.appendData($.data),e.remove($),p=A,_=X}}return J.some(At(p,_))}else return J.none()},DD=(e,n)=>{const o=e.createRng();return RD(e,!0,n,o)&&RD(e,!1,n,o)?J.some({range:o,forward:R_(n)}):J.none()},e0=(e,n)=>{const o=ID(e,"start",n),a=ID(e,"end",n);return da(o,a.or(o),(c,m)=>{const p=e.createRng();return p.setStart(TD(e,c.container()),c.offset()),p.setEnd(TD(e,m.container()),m.offset()),{range:p,forward:R_(n)}})},PD=(e,n)=>J.from(e.select(n.name)[n.index]).map(o=>{const a=e.createRng();return a.selectNode(o),{range:a,forward:!0}}),ND=(e,n)=>{const o=e.dom;if(n){if(AD(n))return DD(o,n);if(SD(n))return q8(o,n);if(ED(n))return e0(o,n);if(FA(n))return PD(o,n);if(kD(n))return J.some({range:n.rng,forward:R_(n)})}return J.none()},X8=(e,n,o)=>ht(e,n,o),J8=(e,n)=>{ND(e,n).each(({range:o,forward:a})=>{e.setRng(o,a)})},Ou=e=>Ln(e)&&e.tagName==="SPAN"&&e.getAttribute("data-mce-type")==="bookmark",hl=(e=>n=>e===n)(Ni),t0=e=>e!==""&&` \f
\r	\v`.indexOf(e)!==-1,Mh=e=>!t0(e)&&!hl(e)&&!ad(e),br=e=>{const n=[];if(e)for(let o=0;o<e.rangeCount;o++)n.push(e.getRangeAt(o));return n},gd=e=>zo(e,n=>{const o=Hp(n);return o?[je.fromDom(o)]:[]}),F2=e=>br(e).length>1,I_=e=>Ge(gd(e),Uc),fy=e=>vi(e,"td[data-mce-selected],th[data-mce-selected]"),LD=(e,n)=>{const o=fy(n);return o.length>0?o:I_(e)},lm=e=>LD(br(e.selection.getSel()),je.fromDom(e.getBody())),Vs=(e,n)=>mu(e,"table",n),$2=e=>{const n=e.startContainer,o=e.startOffset;return qt(n)?o===0?J.some(je.fromDom(n)):J.none():J.from(n.childNodes[o]).map(je.fromDom)},MD=e=>{const n=e.endContainer,o=e.endOffset;return qt(n)?o===n.data.length?J.some(je.fromDom(n)):J.none():J.from(n.childNodes[o-1]).map(je.fromDom)},HA=e=>Hl(e).fold(dt([e]),n=>[e].concat(HA(n))),V2=e=>od(e).fold(dt([e]),n=>os(n)==="br"?Si(n).map(o=>[e].concat(V2(o))).getOr([]):[e].concat(V2(n))),z2=(e,n)=>da($2(n),MD(n),(o,a)=>{const c=xn(HA(e),et(ss,o)),m=xn(V2(e),et(ss,a));return c.isSome()&&m.isSome()}).getOr(!1),H2=(e,n,o,a)=>{const c=o,m=new pa(o,c),p=Tc(e.schema.getMoveCaretBeforeOnEnterElements(),(A,$)=>!we(["td","th","table"],$.toLowerCase()));let _=o;do{if(qt(_)&&rn.trim(_.data).length!==0){a?n.setStart(_,0):n.setEnd(_,_.data.length);return}if(p[_.nodeName]){a?n.setStartBefore(_):_.nodeName==="BR"?n.setEndBefore(_):n.setEndAfter(_);return}}while(_=a?m.next():m.prev());c.nodeName==="BODY"&&(a?n.setStart(c,0):n.setEnd(c,c.childNodes.length))},my=e=>{const n=e.selection.getSel();return xe(n)&&n.rangeCount>0},gy=(e,n)=>{const o=lm(e);o.length>0?be(o,a=>{const c=a.dom,m=e.dom.createRng();m.setStartBefore(c),m.setEndAfter(c),n(m,!0)}):n(e.selection.getRng(),!1)},D_=(e,n,o)=>{const a=an(e,n);o(a),e.moveToBookmark(a)},hy=e=>R(e==null?void 0:e.nodeType),P_=e=>Ln(e)&&!Ou(e)&&!Tu(e)&&!Vf(e),BD=(e,n)=>{if(P_(n)&&!/^(TD|TH)$/.test(n.nodeName)){const o=e.getAttrib(n,"data-mce-selected"),a=parseInt(o,10);return!isNaN(a)&&a>0}else return!1},UA=(e,n,o)=>{const{selection:a,dom:c}=e,m=a.getNode(),p=_o(m);D_(a,!0,()=>{n()}),p&&_o(m)&&c.isChildOf(m,e.getBody())?e.selection.select(m):o(a.getStart())&&FD(c,a)},FD=(e,n)=>{var o,a;const c=n.getRng(),{startContainer:m,startOffset:p}=c,_=n.getNode();if(!BD(e,_)&&Ln(m)){const A=m.childNodes,$=e.getRoot();let q;if(p<A.length){const X=A[p];q=new pa(X,(o=e.getParent(X,e.isBlock))!==null&&o!==void 0?o:$)}else{const X=A[A.length-1];q=new pa(X,(a=e.getParent(X,e.isBlock))!==null&&a!==void 0?a:$),q.next(!0)}for(let X=q.current();X;X=q.next()){if(e.getContentEditable(X)==="false")return;if(qt(X)&&!WA(X)){c.setStart(X,0),n.setRng(c);return}}}},n0=(e,n,o)=>{if(e){const a=n?"nextSibling":"previousSibling";for(e=e[a];e;e=e[a])if(Ln(e)||!WA(e))return e}},N_=(e,n)=>!!e.getTextBlockElements()[n.nodeName.toLowerCase()]||Wf(e,n),Yp=(e,n,o)=>e.schema.isValidChild(n,o),WA=(e,n=!1)=>{if(xe(e)&&qt(e)){const o=n?e.data.replace(/ /g,""):e.data;return uc(o)}else return!1},e7=e=>xe(e)&&qt(e)&&e.length===0,$D=(e,n)=>{const o="[data-mce-cef-wrappable]",a=ho(e),c=Xt(a)?o:`${o},${a}`;return Fs(je.fromDom(n),c)},KA=(e,n)=>{const o=e.dom;return P_(n)&&o.getContentEditable(n)==="false"&&$D(e,n)&&o.select('[contenteditable="true"]',n).length===0},Bh=(e,n)=>_e(e)?e(n):(xe(n)&&(e=e.replace(/%(\w+)/g,(o,a)=>n[a]||o)),e),py=(e,n)=>(e=e||"",n=n||"",e=""+(e.nodeName||e),n=""+(n.nodeName||n),e.toLowerCase()===n.toLowerCase()),L_=(e,n)=>{if(rt(e))return null;{let o=String(e);return(n==="color"||n==="backgroundColor")&&(o=yv(o)),n==="fontWeight"&&e===700&&(o="bold"),n==="fontFamily"&&(o=o.replace(/[\'\"]/g,"").replace(/,\s+/g,",")),o}},U2=(e,n,o)=>{const a=e.getStyle(n,o);return L_(a,o)},jA=(e,n)=>{let o;return e.getParent(n,a=>Ln(a)?(o=e.getStyle(a,"text-decoration"),!!o&&o!=="none"):!1),o},W2=(e,n,o)=>e.getParents(n,o,e.getRoot()),M_=(e,n,o)=>{const a=e.formatter.get(n);return xe(a)&&Re(a,o)},VD=(e,n)=>M_(e,n,a=>{const c=m=>_e(m)||m.length>1&&m.charAt(0)==="%";return Re(["styles","attributes"],m=>Ps(a,m).exists(p=>{const _=ne(p)?p:Gu(p);return Re(_,c)}))}),zD=(e,n,o)=>{const a=["inline","block","selector","attributes","styles","classes"],c=m=>Tc(m,(p,_)=>Re(a,A=>A===_));return M_(e,n,m=>{const p=c(m);return M_(e,o,_=>{const A=c(_);return Di(p,A)})})},cm=e=>Gl(e,"block"),HD=e=>cm(e)&&e.wrapper===!0,UD=e=>cm(e)&&e.wrapper!==!0,Gc=e=>Gl(e,"selector"),Ca=e=>Gl(e,"inline"),WD=e=>Gc(e)&&Ca(e)&&Af(Ps(e,"mixed"),!0),B_=e=>Gc(e)&&e.expand!==!1&&!Ca(e),KD=e=>{const n=[];let o=e;for(;o;){if(qt(o)&&o.data!==Ei||o.childNodes.length>1)return[];Ln(o)&&n.push(o),o=o.firstChild}return n},ZA=e=>KD(e).length>0,F_=e=>Tu(e.dom)&&ZA(e.dom),Xp=Ou,K2=W2,$_=WA,V_=N_,jD=e=>pr(e)&&e.getAttribute("data-mce-bogus")&&!e.nextSibling,j2=(e,n)=>{let o=n;for(;o;){if(Ln(o)&&e.getContentEditable(o))return e.getContentEditable(o)==="false"?o:n;o=o.parentNode}return n},z_=(e,n,o,a)=>{const c=n.data;if(e){for(let m=o;m>0;m--)if(a(c.charAt(m-1)))return m}else for(let m=o;m<c.length;m++)if(a(c.charAt(m)))return m;return-1},Z2=(e,n,o)=>z_(e,n,o,a=>hl(a)||t0(a)),GA=(e,n,o)=>z_(e,n,o,Mh),qA=(e,n,o,a,c,m)=>{let p;const _=e.getParent(o,e.isBlock)||n,A=(q,X,oe)=>{const ve=nf(e),Oe=c?ve.backwards:ve.forwards;return J.from(Oe(q,X,(ye,Pe)=>Xp(ye.parentNode)?-1:(p=ye,oe(c,ye,Pe)),_))};return A(o,a,Z2).bind(q=>m?A(q.container,q.offset+(c?-1:0),GA):J.some(q)).orThunk(()=>p?J.some({container:p,offset:c?0:p.length}):J.none())},o0=(e,n,o,a,c)=>{const m=a[c];qt(a)&&Xt(a.data)&&m&&(a=m);const p=K2(e,a);for(let _=0;_<p.length;_++)for(let A=0;A<n.length;A++){const $=n[A];if(!(xe($.collapsed)&&$.collapsed!==o.collapsed)&&Gc($)&&e.is(p[_],$.selector))return p[_]}return a},H_=(e,n,o,a)=>{var c;let m=o;const p=e.getRoot(),_=n[0];if(cm(_)&&(m=_.wrapper?null:e.getParent(o,_.block,p)),!m){const A=(c=e.getParent(o,"LI,TD,TH,SUMMARY"))!==null&&c!==void 0?c:p;m=e.getParent(qt(o)?o.parentNode:o,$=>$!==p&&V_(e.schema,$),A)}if(m&&cm(_)&&_.wrapper&&(m=K2(e,m,"ul,ol").reverse()[0]||m),!m)for(m=o;m&&m[a]&&!e.isBlock(m[a])&&(m=m[a],!py(m,"br")););return m||o},U_=(e,n,o,a)=>{const c=o.parentNode;return xe(o[a])?!1:c===n||rt(c)||e.isBlock(c)?!0:U_(e,n,c,a)},Fh=(e,n,o,a,c)=>{let m=o;const p=c?"previousSibling":"nextSibling",_=e.getRoot();if(qt(o)&&!$_(o)&&(c?a>0:a<o.data.length))return o;for(;m;){if(!n[0].block_expand&&e.isBlock(m))return m;for(let A=m[p];A;A=A[p]){const $=qt(A)&&!U_(e,_,A,p);if(!Xp(A)&&!jD(A)&&!$_(A,$))return m}if(m===_||m.parentNode===_){o=m;break}m=m.parentNode}return o},$h=e=>Xp(e.parentNode)||Xp(e),Jp=(e,n,o,a=!1)=>{let{startContainer:c,startOffset:m,endContainer:p,endOffset:_}=n;const A=o[0];return Ln(c)&&c.hasChildNodes()&&(c=Ai(c,m),qt(c)&&(m=0)),Ln(p)&&p.hasChildNodes()&&(p=Ai(p,n.collapsed?_:_-1),qt(p)&&(_=p.data.length)),c=j2(e,c),p=j2(e,p),$h(c)&&(c=Xp(c)?c:c.parentNode,n.collapsed?c=c.previousSibling||c:c=c.nextSibling||c,qt(c)&&(m=n.collapsed?c.length:0)),$h(p)&&(p=Xp(p)?p:p.parentNode,n.collapsed?p=p.nextSibling||p:p=p.previousSibling||p,qt(p)&&(_=n.collapsed?0:p.length)),n.collapsed&&(qA(e,e.getRoot(),c,m,!0,a).each(({container:X,offset:oe})=>{c=X,m=oe}),qA(e,e.getRoot(),p,_,!1,a).each(({container:X,offset:oe})=>{p=X,_=oe})),(Ca(A)||A.block_expand)&&((!Ca(A)||!qt(c)||m===0)&&(c=Fh(e,o,c,m,!0)),(!Ca(A)||!qt(p)||_===p.data.length)&&(p=Fh(e,o,p,_,!1))),B_(A)&&(c=o0(e,o,n,c,"previousSibling"),p=o0(e,o,n,p,"nextSibling")),(cm(A)||Gc(A))&&(c=H_(e,o,c,"previousSibling"),p=H_(e,o,p,"nextSibling"),cm(A)&&(e.isBlock(c)||(c=Fh(e,o,c,m,!0),qt(c)&&(m=0)),e.isBlock(p)||(p=Fh(e,o,p,_,!1),qt(p)&&(_=p.data.length)))),Ln(c)&&c.parentNode&&(m=e.nodeIndex(c),c=c.parentNode),Ln(p)&&p.parentNode&&(_=e.nodeIndex(p)+1,p=p.parentNode),{startContainer:c,startOffset:m,endContainer:p,endOffset:_}},G2=(e,n,o)=>{var a;const c=n.startOffset,m=Ai(n.startContainer,c),p=n.endOffset,_=Ai(n.endContainer,p-1),A=Pe=>{const Ye=Pe[0];qt(Ye)&&Ye===m&&c>=Ye.data.length&&Pe.splice(0,1);const st=Pe[Pe.length-1];return p===0&&Pe.length>0&&st===_&&qt(st)&&Pe.splice(Pe.length-1,1),Pe},$=(Pe,Ye,st)=>{const nt=[];for(;Pe&&Pe!==st;Pe=Pe[Ye])nt.push(Pe);return nt},q=(Pe,Ye)=>e.getParent(Pe,st=>st.parentNode===Ye,Ye),X=(Pe,Ye,st)=>{const nt=st?"nextSibling":"previousSibling";for(let yt=Pe,Ut=yt.parentNode;yt&&yt!==Ye;yt=Ut){Ut=yt.parentNode;const on=$(yt===Pe?yt:yt[nt],nt);on.length&&(st||on.reverse(),o(A(on)))}};if(m===_)return o(A([m]));const oe=(a=e.findCommonAncestor(m,_))!==null&&a!==void 0?a:e.getRoot();if(e.isChildOf(m,_))return X(m,oe,!0);if(e.isChildOf(_,m))return X(_,oe);const ve=q(m,oe)||m,Oe=q(_,oe)||_;X(m,ve,!0);const ye=$(ve===m?ve:ve.nextSibling,"nextSibling",Oe===_?Oe.nextSibling:Oe);ye.length&&o(A(ye)),X(_,Oe)},t7=['pre[class*=language-][contenteditable="false"]',"figure.image","div[data-ephox-embed-iri]","div.tiny-pageembed","div.mce-toc","div[data-mce-toc]"],ZD=e=>ur(e)&&ig(e)===Ei,GD=(e,n,o,a)=>ga(n).fold(()=>"skipping",c=>a==="br"||ZD(n)?"valid":s2(n)?"existing":Tu(n.dom)?"caret":Re(t7,m=>Fs(n,m))?"valid-block":!Yp(e,o,a)||!Yp(e,os(c),o)?"invalid-child":"valid"),Qp=(e,n)=>{const o=Jp(e.dom,n,[{inline:"span"}]);n.setStart(o.startContainer,o.startOffset),n.setEnd(o.endContainer,o.endOffset),e.selection.setRng(n)},eb=(e,n,o,a,c,m)=>{const{uid:p=n,..._}=o;jd(e,Dr()),_i(e,`${si()}`,p),_i(e,`${Pr()}`,a);const{attributes:A={},classes:$=[]}=c(p,_);if(za(e,A),kv(e,$),m){$.length>0&&_i(e,`${Er()}`,$.join(","));const q=en(A);q.length>0&&_i(e,`${Zr()}`,q.join(","))}},Ya=e=>{Ha(e,Dr()),Fo(e,`${si()}`),Fo(e,`${Pr()}`),Fo(e,`${$s()}`);const n=lu(e,`${Zr()}`).map(a=>a.split(",")).getOr([]),o=lu(e,`${Er()}`).map(a=>a.split(",")).getOr([]);be(n,a=>Fo(e,a)),Th(e,o),Fo(e,`${Er()}`),Fo(e,`${Zr()}`)},bg=(e,n,o,a,c)=>{const m=je.fromTag("span",e);return eb(m,n,o,a,c,!1),m},Es=(e,n,o,a,c,m)=>{const p=[],_=bg(e.getDoc(),o,m,a,c),A=Mi(),$=()=>{A.clear()},q=()=>A.get().getOrThunk(()=>{const Oe=Gr(_);return p.push(Oe),A.set(Oe),Oe}),X=Oe=>{be(Oe,oe)},oe=Oe=>{switch(GD(e,Oe,"span",os(Oe))){case"invalid-child":{$();const Pe=ha(Oe);X(Pe),$();break}case"valid-block":{$(),eb(Oe,o,m,a,c,!0);break}case"valid":{const Pe=q();Xl(Oe,Pe);break}}},ve=Oe=>{const ye=He(Oe,je.fromDom);X(ye)};return G2(e.dom,n,Oe=>{$(),ve(Oe)}),p},n7=(e,n,o,a)=>{e.undoManager.transact(()=>{const c=e.selection,m=c.getRng(),p=lm(e).length>0,_=Za("mce-annotation");if(m.collapsed&&!p&&Qp(e,m),c.getRng().collapsed&&!p){const A=bg(e.getDoc(),_,a,n,o.decorate);Km(A,Ni),c.getRng().insertNode(A.dom),c.select(A.dom)}else D_(c,!1,()=>{gy(e,A=>{Es(e,A,_,n,o.decorate,a)})})})},qD=e=>{const n=i2();H1(e,n);const o=z1(e,n),a=Df("span"),c=m=>{be(m,p=>{a(p)?ja(p):Ya(p)})};return{register:(m,p)=>{n.register(m,p)},annotate:(m,p)=>{n.lookup(m).each(_=>{n7(e,m,_,p)})},annotationChanged:(m,p)=>{o.addListener(m,p)},remove:m=>{V1(e,J.some(m)).each(({elements:p})=>{const _=e.selection.getBookmark();c(p),e.selection.moveToBookmark(_)})},removeAll:m=>{const p=e.selection.getBookmark();fs(Ah(e,m),(_,A)=>{c(_)}),e.selection.moveToBookmark(p)},getAll:m=>{const p=Ah(e,m);return Zl(p,_=>He(_,A=>A.dom))}}},qs=e=>({getBookmark:et(X8,e),moveToBookmark:et(J8,e)});qs.isBookmarkNode=Ou;const YA=(e,n,o)=>o.collapsed?!1:Re(o.getClientRects(),a=>G1(a,e,n)),q2=(e,n)=>e.dispatch("PreProcess",n),Y2=(e,n)=>e.dispatch("PostProcess",n),X2=e=>{e.dispatch("remove")},J2=e=>{e.dispatch("detach")},YD=(e,n)=>{e.dispatch("SwitchMode",{mode:n})},o7=(e,n,o,a,c)=>{e.dispatch("ObjectResizeStart",{target:n,width:o,height:a,origin:c})},s7=(e,n,o,a,c)=>{e.dispatch("ObjectResized",{target:n,width:o,height:a,origin:c})},r7=e=>{e.dispatch("PreInit")},i7=e=>{e.dispatch("PostRender")},ii=e=>{e.dispatch("Init")},XD=(e,n)=>{e.dispatch("PlaceholderToggle",{state:n})},XA=(e,n,o)=>{e.dispatch(n,o)},JD=(e,n,o,a)=>{e.dispatch("FormatApply",{format:n,node:o,vars:a})},QD=(e,n,o,a)=>{e.dispatch("FormatRemove",{format:n,node:o,vars:a})},a7=(e,n)=>e.dispatch("BeforeSetContent",n),hc=(e,n)=>e.dispatch("SetContent",n),um=(e,n)=>e.dispatch("BeforeGetContent",n),eP=(e,n)=>e.dispatch("GetContent",n),JA=(e,n)=>{e.dispatch("AutocompleterStart",n)},QA=(e,n)=>{e.dispatch("AutocompleterUpdate",n)},eT=(e,n)=>{e.dispatch("AutocompleterUpdateActiveRange",n)},l7=e=>{e.dispatch("AutocompleterEnd")},Q2=(e,n,o)=>e.dispatch("PastePreProcess",{content:n,internal:o}),W_=(e,n,o)=>e.dispatch("PastePostProcess",{node:n,internal:o}),K_=(e,n)=>e.dispatch("PastePlainTextToggle",{state:n}),c7=(e,n)=>e.dispatch("EditableRootStateChange",{state:n}),yn={BACKSPACE:8,DELETE:46,DOWN:40,ENTER:13,ESC:27,LEFT:37,RIGHT:39,SPACEBAR:32,TAB:9,UP:38,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,modifierPressed:e=>e.shiftKey||e.ctrlKey||e.altKey||yn.metaKeyPressed(e),metaKeyPressed:e=>Wo.os.isMacOS()||Wo.os.isiOS()?e.metaKey:e.ctrlKey&&!e.altKey},s0="data-mce-selected",u7="table,img,figure.image,hr,video,span.mce-preview-object,details",Ru=Math.abs,tb=Math.round,j_={nw:[0,0,-1,-1],ne:[1,0,1,-1],se:[1,1,1,1],sw:[0,1,-1,1]},uf=e=>e.type==="longpress"||e.type.indexOf("touch")===0,Us=(e,n)=>{const o=n.dom,a=n.getDoc(),c=document,m=n.getBody();let p,_,A,$,q,X,oe,ve,Oe,ye,Pe,Ye,st,nt,yt,Ut,on;const _n=Cn=>xe(Cn)&&(Mc(Cn)||o.is(Cn,"figure.image")),Pt=Cn=>Dt(Cn)||o.hasClass(Cn,"mce-preview-object"),St=(Cn,Uo)=>{if(uf(Cn)){const Xo=Cn.touches[0];return _n(Cn.target)&&!YA(Xo.clientX,Xo.clientY,Uo)}else return _n(Cn.target)&&!YA(Cn.clientX,Cn.clientY,Uo)},zt=Cn=>{const Uo=Cn.target;St(Cn,n.selection.getRng())&&!Cn.isDefaultPrevented()&&n.selection.select(Uo)},Pn=Cn=>o.hasClass(Cn,"mce-preview-object")&&xe(Cn.firstElementChild)?[Cn,Cn.firstElementChild]:o.is(Cn,"figure.image")?[Cn.querySelector("img")]:[Cn],jn=Cn=>{const Uo=BI(n);return!Uo||Cn.getAttribute("data-mce-resize")==="false"||Cn===n.getBody()?!1:o.hasClass(Cn,"mce-preview-object")&&xe(Cn.firstElementChild)?Fs(je.fromDom(Cn.firstElementChild),Uo):Fs(je.fromDom(Cn),Uo)},Ho=(Cn,Uo)=>{if(Pt(Uo))return Cn.create("img",{src:Wo.transparentSrc});if(bu(Uo)){const Fa=cr($.name,"n")?On:vo,Ws=Uo.cloneNode(!0);return Fa(Cn.select("tr",Ws)).each(ka=>{const bm=Cn.select("td,th",ka);Cn.setStyle(ka,"height",null),be(bm,sp=>Cn.setStyle(sp,"height",null))}),Ws}else return Uo.cloneNode(!0)},qo=(Cn,Uo,Xo)=>{if(xe(Xo)){const Fa=Pn(Cn);be(Fa,Ws=>{Ws.style[Uo]||!n.schema.isValid(Ws.nodeName.toLowerCase(),Uo)?o.setStyle(Ws,Uo,Xo):o.setAttrib(Ws,Uo,""+Xo)})}},Ls=(Cn,Uo,Xo)=>{qo(Cn,"width",Uo),qo(Cn,"height",Xo)},js=Cn=>{let Uo,Xo,Fa,Ws,ka;Uo=Cn.screenX-X,Xo=Cn.screenY-oe,nt=Uo*$[2]+ye,yt=Xo*$[3]+Pe,nt=nt<5?5:nt,yt=yt<5?5:yt,(_n(p)||Pt(p))&&FI(n)!==!1?Fa=!yn.modifierPressed(Cn):Fa=yn.modifierPressed(Cn),Fa&&(Ru(Uo)>Ru(Xo)?(yt=tb(nt*Ye),nt=tb(yt/Ye)):(nt=tb(yt/Ye),yt=tb(nt*Ye))),Ls(_,nt,yt),Ws=$.startPos.x+Uo,ka=$.startPos.y+Xo,Ws=Ws>0?Ws:0,ka=ka>0?ka:0,o.setStyles(A,{left:Ws,top:ka,display:"block"}),A.innerHTML=nt+" &times; "+yt,$[2]<0&&_.clientWidth<=nt&&o.setStyle(_,"left",ve+(ye-nt)),$[3]<0&&_.clientHeight<=yt&&o.setStyle(_,"top",Oe+(Pe-yt)),Uo=m.scrollWidth-Ut,Xo=m.scrollHeight-on,Uo+Xo!==0&&o.setStyles(A,{left:Ws-Uo,top:ka-Xo}),st||(o7(n,p,ye,Pe,"corner-"+$.name),st=!0)},mi=()=>{const Cn=st;st=!1,Cn&&(qo(p,"width",nt),qo(p,"height",yt)),o.unbind(a,"mousemove",js),o.unbind(a,"mouseup",mi),c!==a&&(o.unbind(c,"mousemove",js),o.unbind(c,"mouseup",mi)),o.remove(_),o.remove(A),o.remove(q),Ll(p),Cn&&(s7(n,p,nt,yt,"corner-"+$.name),o.setAttrib(p,"style",o.getAttrib(p,"style"))),n.nodeChanged()},Ll=Cn=>{hn();const Uo=o.getPos(Cn,m),Xo=Uo.x,Fa=Uo.y,Ws=Cn.getBoundingClientRect(),ka=Ws.width||Ws.right-Ws.left,bm=Ws.height||Ws.bottom-Ws.top;p!==Cn&&(dn(),p=Cn,nt=yt=0);const sp=n.dispatch("ObjectSelected",{target:Cn});jn(Cn)&&!sp.isDefaultPrevented()?fs(j_,(wc,Ad)=>{const vm=ym=>{const qn=Pn(p)[0];X=ym.screenX,oe=ym.screenY,ye=qn.clientWidth,Pe=qn.clientHeight,Ye=Pe/ye,$=wc,$.name=Ad,$.startPos={x:ka*wc[0]+Xo,y:bm*wc[1]+Fa},Ut=m.scrollWidth,on=m.scrollHeight,q=o.add(m,"div",{class:"mce-resize-backdrop","data-mce-bogus":"all"}),o.setStyles(q,{position:"fixed",left:"0",top:"0",width:"100%",height:"100%"}),_=Ho(o,p),o.addClass(_,"mce-clonedresizable"),o.setAttrib(_,"data-mce-bogus","all"),_.contentEditable="false",o.setStyles(_,{left:Xo,top:Fa,margin:0}),Ls(_,ka,bm),_.removeAttribute(s0),m.appendChild(_),o.bind(a,"mousemove",js),o.bind(a,"mouseup",mi),c!==a&&(o.bind(c,"mousemove",js),o.bind(c,"mouseup",mi)),A=o.add(m,"div",{class:"mce-resize-helper","data-mce-bogus":"all"},ye+" &times; "+Pe)};let Td=o.get("mceResizeHandle"+Ad);Td&&o.remove(Td),Td=o.add(m,"div",{id:"mceResizeHandle"+Ad,"data-mce-bogus":"all",class:"mce-resizehandle",unselectable:!0,style:"cursor:"+Ad+"-resize; margin:0; padding:0"}),o.bind(Td,"mousedown",ym=>{ym.stopImmediatePropagation(),ym.preventDefault(),vm(ym)}),wc.elm=Td,o.setStyles(Td,{left:ka*wc[0]+Xo-Td.offsetWidth/2,top:bm*wc[1]+Fa-Td.offsetHeight/2})}):dn(!1)},er=Eh(Ll,0),dn=(Cn=!0)=>{er.cancel(),hn(),p&&Cn&&p.removeAttribute(s0),fs(j_,(Uo,Xo)=>{const Fa=o.get("mceResizeHandle"+Xo);Fa&&(o.unbind(Fa),o.remove(Fa))})},Un=(Cn,Uo)=>o.isChildOf(Cn,Uo),ks=Cn=>{if(st||n.removed||n.composing)return;const Uo=Cn.type==="mousedown"?Cn.target:e.getNode(),Xo=Xi(je.fromDom(Uo),u7).map(Ws=>Ws.dom).filter(Ws=>o.isEditable(Ws.parentElement)||Ws.nodeName==="IMG"&&o.isEditable(Ws)).getOrUndefined(),Fa=xe(Xo)?o.getAttrib(Xo,s0,"1"):"1";if(be(o.select(`img[${s0}],hr[${s0}]`),Ws=>{Ws.removeAttribute(s0)}),xe(Xo)&&Un(Xo,m)&&n.hasFocus()){to();const Ws=e.getStart(!0);if(Un(Ws,Xo)&&Un(e.getEnd(!0),Xo)){o.setAttrib(Xo,s0,Fa),er.throttle(Xo);return}}dn()},hn=()=>{fs(j_,Cn=>{Cn.elm&&(o.unbind(Cn.elm),delete Cn.elm)})},to=()=>{try{n.getDoc().execCommand("enableObjectResizing",!1,"false")}catch{}};return n.on("init",()=>{to(),n.on("NodeChange ResizeEditor ResizeWindow ResizeContent drop",ks),n.on("keyup compositionend",Cn=>{p&&p.nodeName==="TABLE"&&ks(Cn)}),n.on("hide blur",dn),n.on("contextmenu longpress",zt,!0)}),n.on("remove",hn),{isResizable:jn,showResizeRect:Ll,hideResizeRect:dn,updateResizeRect:ks,destroy:()=>{er.cancel(),p=_=q=null}}},by=(e,n)=>{n.fold(o=>{e.setStartBefore(o.dom)},(o,a)=>{e.setStart(o.dom,a)},o=>{e.setStartAfter(o.dom)})},Z_=(e,n)=>{n.fold(o=>{e.setEndBefore(o.dom)},(o,a)=>{e.setEnd(o.dom,a)},o=>{e.setEndAfter(o.dom)})},tT=(e,n,o)=>{const a=e.document.createRange();return by(a,n),Z_(a,o),a},ew=(e,n,o,a,c)=>{const m=e.document.createRange();return m.setStart(n.dom,o),m.setEnd(a.dom,c),m},r0=ts.generate([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),tP=(e,n,o)=>n(je.fromDom(o.startContainer),o.startOffset,je.fromDom(o.endContainer),o.endOffset),nT=(e,n)=>n.match({domRange:o=>({ltr:dt(o),rtl:J.none}),relative:(o,a)=>({ltr:$l(()=>tT(e,o,a)),rtl:$l(()=>J.some(tT(e,a,o)))}),exact:(o,a,c,m)=>({ltr:$l(()=>ew(e,o,a,c,m)),rtl:$l(()=>J.some(ew(e,c,m,o,a)))})}),d7=(e,n)=>{const o=n.ltr();return o.collapsed?n.rtl().filter(c=>c.collapsed===!1).map(c=>r0.rtl(je.fromDom(c.endContainer),c.endOffset,je.fromDom(c.startContainer),c.startOffset)).getOrThunk(()=>tP(e,r0.ltr,o)):tP(e,r0.ltr,o)},nP=(e,n)=>{const o=nT(e,n);return d7(e,o)};r0.ltr,r0.rtl;const G_={create:(e,n,o,a)=>({start:e,soffset:n,finish:o,foffset:a})},oP=(e,n,o)=>{var a;return J.from((a=e.caretPositionFromPoint)===null||a===void 0?void 0:a.call(e,n,o)).bind(c=>{if(c.offsetNode===null)return J.none();const m=e.createRange();return m.setStart(c.offsetNode,c.offset),m.collapse(),J.some(m)})},q_=(e,n,o)=>{var a;return J.from((a=e.caretRangeFromPoint)===null||a===void 0?void 0:a.call(e,n,o))},m7=(e,n,o)=>e.caretPositionFromPoint?oP(e,n,o):e.caretRangeFromPoint?q_(e,n,o):J.none(),g7=(e,n,o)=>{const a=e.document;return m7(a,n,o).map(c=>G_.create(je.fromDom(c.startContainer),c.startOffset,je.fromDom(c.endContainer),c.endOffset))},oT=ts.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),h7=(e,n,o,a)=>e.fold(n,o,a),p7=e=>e.fold(Sn,Sn,Sn),sP=oT.before,b7=oT.on,v7=oT.after,vg={before:sP,on:b7,after:v7,cata:h7,getStart:p7},tw=ts.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),y7=e=>tw.exact(e.start,e.soffset,e.finish,e.foffset),x7=e=>e.match({domRange:n=>je.fromDom(n.startContainer),relative:(n,o)=>vg.getStart(n),exact:(n,o,a,c)=>n}),rP=tw.domRange,hd=tw.relative,w7=tw.exact,iP=e=>{const n=x7(e);return ed(n)},sT=G_.create,nb={domRange:rP,relative:hd,exact:w7,exactFromRange:y7,getWin:iP,range:sT},nw=(e,n)=>{const o=os(e);return o==="input"?vg.after(e):we(["br","img"],o)?n===0?vg.before(e):vg.after(e):vg.on(e,n)},aP=(e,n)=>{const o=e.fold(vg.before,nw,vg.after),a=n.fold(vg.before,nw,vg.after);return nb.relative(o,a)},Y_=(e,n,o,a)=>{const c=nw(e,n),m=nw(o,a);return nb.relative(c,m)},lP=e=>e.match({domRange:n=>{const o=je.fromDom(n.startContainer),a=je.fromDom(n.endContainer);return Y_(o,n.startOffset,a,n.endOffset)},relative:aP,exact:Y_}),qc=(e,n)=>{const a=document.createDocumentFragment();return be(e,c=>{a.appendChild(c.dom)}),je.fromDom(a)},C7=e=>{const n=nb.getWin(e).dom,o=(c,m,p,_)=>ew(n,c,m,p,_),a=lP(e);return nP(n,a).match({ltr:o,rtl:o})},rT=(e,n,o)=>g7(e,n,o),cP=(e,n,o)=>{const a=ed(je.fromDom(o));return rT(a.dom,e,n).map(c=>{const m=o.createRange();return m.setStart(c.start.dom,c.soffset),m.setEnd(c.finish.dom,c.foffset),m}).getOrUndefined()},ow=(e,n)=>xe(e)&&xe(n)&&e.startContainer===n.startContainer&&e.startOffset===n.startOffset&&e.endContainer===n.endContainer&&e.endOffset===n.endOffset,dm=(e,n,o)=>{let a=e;for(;a&&a!==n;){if(o(a))return a;a=a.parentNode}return null},X_=(e,n,o)=>dm(e,n,o)!==null,J_=(e,n,o)=>X_(e,n,a=>a.nodeName===o),uP=(e,n)=>Ql(e)&&!X_(e,n,Tu),dP=(e,n,o)=>{const a=n.parentNode;if(a){const c=new pa(n,e.getParent(a,e.isBlock)||e.getRoot());let m;for(;m=c[o?"prev":"next"]();)if(pr(m))return!0}return!1},fP=(e,n)=>{var o;return((o=e.previousSibling)===null||o===void 0?void 0:o.nodeName)===n},mP=(e,n)=>{let o=n;for(;o&&o!==e;){if(_o(o))return!0;o=o.parentNode}return!1},sw=(e,n,o,a,c)=>{const m=e.getRoot(),p=e.schema.getNonEmptyElements(),_=c.parentNode;let A,$;if(!_)return J.none();const q=e.getParent(_,e.isBlock)||m;if(a&&pr(c)&&n&&e.isEmpty(q))return J.some(At(_,e.nodeIndex(c)));const X=new pa(c,q);for(;$=X[a?"prev":"next"]();){if(e.getContentEditableParent($)==="false"||uP($,m))return J.none();if(qt($)&&$.data.length>0)return J_($,m,"A")?J.none():J.some(At($,a?$.data.length:0));if(e.isBlock($)||p[$.nodeName.toLowerCase()])return J.none();A=$}return Mo(A)?J.none():o&&A?J.some(At(A,0)):J.none()},iT=(e,n,o,a)=>{const c=e.getRoot();let m,p=!1,_=o?a.startContainer:a.endContainer,A=o?a.startOffset:a.endOffset;const $=Ln(_)&&A===_.childNodes.length,q=e.schema.getNonEmptyElements();let X=o;if(Ql(_))return J.none();if(Ln(_)&&A>_.childNodes.length-1&&(X=!1),$n(_)&&(_=c,A=0),_===c){if(X&&(m=_.childNodes[A>0?A-1:0],m&&(Ql(m)||q[m.nodeName]||bu(m))))return J.none();if(_.hasChildNodes()){if(A=Math.min(!X&&A>0?A-1:A,_.childNodes.length-1),_=_.childNodes[A],A=qt(_)&&$?_.data.length:0,!n&&_===c.lastChild&&bu(_)||mP(c,_)||Ql(_)||Rp(_))return J.none();if(_.hasChildNodes()&&!bu(_)){m=_;const oe=new pa(_,c);do{if(_o(m)||Ql(m)){p=!1;break}if(qt(m)&&m.data.length>0){A=X?0:m.data.length,_=m,p=!0;break}if(q[m.nodeName.toLowerCase()]&&!jC(m)){A=e.nodeIndex(m),_=m.parentNode,X||A++,p=!0;break}}while(m=X?oe.next():oe.prev())}}}return n&&(qt(_)&&A===0&&sw(e,$,n,!0,_).each(oe=>{_=oe.container(),A=oe.offset(),p=!0}),Ln(_)&&(m=_.childNodes[A],m||(m=_.childNodes[A-1]),m&&pr(m)&&!fP(m,"A")&&!dP(e,m,!1)&&!dP(e,m,!0)&&sw(e,$,n,!0,m).each(oe=>{_=oe.container(),A=oe.offset(),p=!0}))),X&&!n&&qt(_)&&A===_.data.length&&sw(e,$,n,!1,_).each(oe=>{_=oe.container(),A=oe.offset(),p=!0}),p&&_?J.some(At(_,A)):J.none()},yg=(e,n)=>{const o=n.collapsed,a=n.cloneRange(),c=At.fromRangeStart(n);return iT(e,o,!0,a).each(m=>{(!o||!At.isAbove(c,m))&&a.setStart(m.container(),m.offset())}),o||iT(e,o,!1,a).each(m=>{a.setEnd(m.container(),m.offset())}),o&&a.collapse(!0),ow(n,a)?J.none():J.some(a)},rw=(e,n)=>e.splitText(n),iw=e=>{let n=e.startContainer,o=e.startOffset,a=e.endContainer,c=e.endOffset;if(n===a&&qt(n)){if(o>0&&o<n.data.length)if(a=rw(n,o),n=a.previousSibling,c>o){c=c-o;const m=rw(a,c).previousSibling;n=a=m,c=m.data.length,o=0}else c=0}else if(qt(n)&&o>0&&o<n.data.length&&(n=rw(n,o),o=0),qt(a)&&c>0&&c<a.data.length){const m=rw(a,c).previousSibling;a=m,c=m.data.length}return{startContainer:n,startOffset:o,endContainer:a,endOffset:c}},ob=e=>({walk:(m,p)=>G2(e,m,p),split:iw,expand:(m,p={type:"word"})=>{if(p.type==="word"){const _=Jp(e,m,[{inline:"span"}]),A=e.createRng();return A.setStart(_.startContainer,_.startOffset),A.setEnd(_.endContainer,_.endOffset),A}return m},normalize:m=>yg(e,m).fold(In,p=>(m.setStart(p.startContainer,p.startOffset),m.setEnd(p.endContainer,p.endOffset),!0))});ob.compareRanges=ow,ob.getCaretRangeFromPoint=cP,ob.getSelectedNode=Hp,ob.getNode=Ai;const aT=((e,n)=>{const o=(_,A)=>{if(!R(A)&&!A.match(/^[0-9]+$/))throw new Error(e+".set accepts only positive integer values. Value was "+A);const $=_.dom;Wa($)&&($.style[e]=A+"px")},a=_=>{const A=n(_);if(A<=0||A===null){const $=Hr(_,e);return parseFloat($)||0}return A},c=a,m=(_,A)=>cn(A,($,q)=>{const X=Hr(_,q),oe=X===void 0?0:parseInt(X,10);return isNaN(oe)?$:$+oe},0);return{set:o,get:a,getOuter:c,aggregate:m,max:(_,A,$)=>{const q=m(_,$);return A>q?A-q:0}}})("height",e=>{const n=e.dom;return Ua(e)?n.getBoundingClientRect().height:n.offsetHeight}),i0=e=>aT.get(e),gP=()=>je.fromDom(document),hP=(e,n)=>e.view(n).fold(dt([]),a=>{const c=e.owner(a),m=hP(e,c);return[a].concat(m)}),Q_=(e,n)=>{const o=n.owner(e);return hP(n,o)};var k7=Object.freeze({__proto__:null,view:e=>{var n;return(e.dom===document?J.none():J.from((n=e.dom.defaultView)===null||n===void 0?void 0:n.frameElement)).map(je.fromDom)},owner:e=>lc(e)});const pP=e=>{const n=gP(),o=xo(n),a=Q_(e,k7),c=To(e),m=pt(a,(p,_)=>{const A=To(_);return{left:p.left+A.left,top:p.top+A.top}},{left:0,top:0});return $e(m.left+c.left+o.left,m.top+c.top+o.top)},Vh=e=>os(e)==="textarea",bP=(e,n)=>e.dispatch("ScrollIntoView",n).isDefaultPrevented(),vP=(e,n)=>{e.dispatch("AfterScrollIntoView",n)},yP=(e,n)=>{const o=ha(e);if(o.length===0||Vh(e))return{element:e,offset:n};if(n<o.length&&!Vh(o[n]))return{element:o[n],offset:0};{const a=o[o.length-1];return Vh(a)?{element:e,offset:n}:os(a)==="img"?{element:a,offset:1}:ur(a)?{element:a,offset:ig(a).length}:{element:a,offset:ha(a).length}}},aw=(e,n)=>{const o=Jn(e),a=i0(e);return{element:e,bottom:o.top+a,height:a,pos:o,cleanup:n}},xP=(e,n)=>{const o=yP(e,n),a=je.fromHtml('<span data-mce-bogus="all" style="display: inline-block;">'+Ei+"</span>");return Or(o.element,a),aw(a,()=>Ns(a))},wP=e=>aw(je.fromDom(e),lt),CP=(e,n,o,a)=>{SP(e,(c,m)=>_P(e,n,o,a),o)},lw=(e,n,o,a,c)=>{const m={elm:a.element.dom,alignToTop:c};if(bP(e,m))return;const p=xo(n).top;o(e,n,p,a,c),vP(e,m)},_P=(e,n,o,a)=>{const c=je.fromDom(e.getBody()),m=je.fromDom(e.getDoc());b1(c);const p=xP(je.fromDom(o.startContainer),o.startOffset);lw(e,m,n,p,a),p.cleanup()},eS=(e,n,o,a)=>{const c=je.fromDom(e.getDoc());lw(e,c,o,wP(n),a)},SP=(e,n,o)=>{const a=o.startContainer,c=o.startOffset,m=o.endContainer,p=o.endOffset;n(je.fromDom(a),je.fromDom(m));const _=e.dom.createRng();_.setStart(a,c),_.setEnd(m,p),e.selection.setRng(o)},cw=(e,n,o,a,c)=>{const m=n.pos;if(a)Fn(m.left,m.top,c);else{const p=m.top-o+n.height;Fn(-e.getBody().getBoundingClientRect().left,p,c)}},lT=(e,n,o,a,c,m)=>{const p=a+o,_=c.pos.top,A=c.bottom,$=A-_>=a;_<o?cw(e,c,a,m!==!1,n):_>p?cw(e,c,a,$?m!==!1:m===!0,n):A>p&&!$&&cw(e,c,a,m===!0,n)},uw=(e,n,o,a,c)=>{const m=ed(n).dom.innerHeight;lT(e,n,o,m,a,c)},xg=(e,n,o,a,c)=>{const m=ed(n).dom.innerHeight;lT(e,n,o,m,a,c);const p=pP(a.element),_=Nc(window);p.top<_.y?Ss(a.element,c!==!1):p.top>_.bottom&&Ss(a.element,c===!0)},E7=(e,n,o)=>CP(e,uw,n,o),cT=(e,n,o)=>eS(e,n,uw,o),xi=(e,n,o)=>CP(e,xg,n,o),uT=(e,n,o)=>eS(e,n,xg,o),dT=(e,n,o)=>{(e.inline?cT:uT)(e,n,o)},pd=(e,n,o)=>{(e.inline?E7:xi)(e,n,o)},fT=(e,n=!1)=>e.dom.focus({preventScroll:n}),mT=e=>{const n=fu(e).dom;return e.dom===n.activeElement},a0=(e=gP())=>J.from(e.dom.activeElement).map(je.fromDom),A7=e=>a0(fu(e)).filter(n=>e.dom.contains(n.dom)),kP=(e,n)=>{const o=ur(n)?ig(n).length:ha(n).length+1;return e>o?o:e<0?0:e},vy=e=>nb.range(e.start,kP(e.soffset,e.start),e.finish,kP(e.foffset,e.finish)),EP=(e,n)=>!Ff(n.dom)&&(ma(e,n)||ss(e,n)),sb=e=>n=>EP(e,n.start)&&EP(e,n.finish),T7=e=>e.inline||Wo.browser.isFirefox(),rb=e=>nb.range(je.fromDom(e.startContainer),e.startOffset,je.fromDom(e.endContainer),e.endOffset),O7=e=>{const n=e.getSelection();return(!n||n.rangeCount===0?J.none():J.from(n.getRangeAt(0))).map(rb)},bd=e=>{const n=ed(e);return O7(n.dom).filter(sb(e))},dw=(e,n)=>J.from(n).filter(sb(e)).map(vy),gT=e=>{const n=document.createRange();try{return n.setStart(e.start.dom,e.soffset),n.setEnd(e.finish.dom,e.foffset),J.some(n)}catch{return J.none()}},yy=e=>{const n=T7(e)?bd(je.fromDom(e.getBody())):J.none();e.bookmark=n.isSome()?n:e.bookmark},hT=e=>(e.bookmark?e.bookmark:J.none()).bind(o=>dw(je.fromDom(e.getBody()),o)).bind(gT),tS=e=>{hT(e).each(n=>e.selection.setRng(n))},vd={isEditorUIElement:e=>{const n=e.className.toString();return n.indexOf("tox-")!==-1||n.indexOf("mce-")!==-1}},nS=(e,n)=>(R(n)||(n=0),setTimeout(e,n)),AP=(e,n)=>(R(n)||(n=0),setInterval(e,n)),Yc={setEditorTimeout:(e,n,o)=>nS(()=>{e.removed||n()},o),setEditorInterval:(e,n,o)=>{const a=AP(()=>{e.removed?clearInterval(a):n()},o);return a}},pT=e=>e.type==="nodechange"&&e.selectionChange,l0=(e,n)=>{const o=()=>{n.throttle()};Js.DOM.bind(document,"mouseup",o),e.on("remove",()=>{Js.DOM.unbind(document,"mouseup",o)})},bT=(e,n)=>{e.on("mouseup touchend",o=>{n.throttle()})},TP=(e,n)=>{bT(e,n),e.on("keyup NodeChange AfterSetSelectionRange",o=>{pT(o)||yy(e)})},R7=e=>{const n=Eh(()=>{yy(e)},0);e.on("init",()=>{e.inline&&l0(e,n),TP(e,n)}),e.on("remove",()=>{n.cancel()})};let wg;const vT=Js.DOM,OP=e=>Ln(e)&&vd.isEditorUIElement(e),fw=e=>{const n=e.classList;return n!==void 0?n.contains("tox-edit-area")||n.contains("tox-edit-area__iframe")||n.contains("mce-content-body"):!1},oS=(e,n)=>{const o=VI(e);return vT.getParent(n,c=>OP(c)||(o?e.dom.is(c,o):!1))!==null},sS=e=>{try{const n=fu(je.fromDom(e.getElement()));return a0(n).fold(()=>document.body,o=>o.dom)}catch{return document.body}},RP=(e,n)=>{const o=n.editor;R7(o);const a=(c,m)=>{if(YI(c)&&c.inline!==!0){const p=je.fromDom(c.getContainer());m(p,"tox-edit-focus")}};o.on("focusin",()=>{const c=e.focusedEditor;fw(sS(o))&&a(o,jd),c!==o&&(c&&c.dispatch("blur",{focusedEditor:o}),e.setActive(o),e.focusedEditor=o,o.dispatch("focus",{blurredEditor:c}),o.focus(!0))}),o.on("focusout",()=>{Yc.setEditorTimeout(o,()=>{const c=e.focusedEditor;(!fw(sS(o))||c!==o)&&a(o,Ha),!oS(o,sS(o))&&c===o&&(o.dispatch("blur",{focusedEditor:null}),e.focusedEditor=null)})}),wg||(wg=c=>{const m=e.activeEditor;m&&ev(c).each(p=>{const _=p;_.ownerDocument===document&&_!==document.body&&!oS(m,_)&&e.focusedEditor===m&&(m.dispatch("blur",{focusedEditor:null}),e.focusedEditor=null)})},vT.bind(document,"focusin",wg))},I7=(e,n)=>{e.focusedEditor===n.editor&&(e.focusedEditor=null),!e.activeEditor&&wg&&(vT.unbind(document,"focusin",wg),wg=null)},D7=e=>{e.on("AddEditor",et(RP,e)),e.on("RemoveEditor",et(I7,e))},P7=(e,n)=>e.dom.getParent(n,o=>e.dom.getContentEditable(o)==="true"),N7=(e,n)=>e.dom.getParent(n,o=>e.dom.getContentEditable(o)==="false")!==null,L7=e=>e.collapsed?J.from(Ai(e.startContainer,e.startOffset)).map(je.fromDom):J.none(),M7=(e,n)=>L7(n).bind(o=>Oh(o)?J.some(o):ma(e,o)?J.none():J.some(e)),IP=(e,n)=>{M7(je.fromDom(e.getBody()),n).bind(o=>ao(o.dom)).fold(()=>{e.selection.normalize()},o=>e.selection.setRng(o.toRange()))},rS=e=>{if(e.setActive)try{e.setActive()}catch{e.focus()}else e.focus()},B7=e=>mT(e)||A7(e).isSome(),F7=e=>xe(e.iframeElement)&&mT(je.fromDom(e.iframeElement)),$7=e=>{const n=e.getBody();return n&&B7(je.fromDom(n))},DP=e=>{const n=fu(je.fromDom(e.getElement()));return a0(n).filter(o=>!fw(o.dom)&&oS(e,o.dom)).isSome()},xy=e=>e.inline?$7(e):F7(e),c0=e=>xy(e)||DP(e),V7=e=>{const n=e.selection,o=e.getBody();let a=n.getRng();e.quirks.refreshContentEditable();const c=p=>{hT(p).each(_=>{p.selection.setRng(_),a=_})};!xy(e)&&e.hasEditableRoot()&&c(e);const m=P7(e,n.getNode());if(m&&e.dom.isChildOf(m,o)){N7(e,m)||rS(o),rS(m),e.hasEditableRoot()||c(e),IP(e,a),yT(e);return}e.inline||(Wo.browser.isOpera()||rS(o),e.getWin().focus()),(Wo.browser.isFirefox()||e.inline)&&(rS(o),IP(e,a)),yT(e)},yT=e=>e.editorManager.setActive(e),PP=(e,n)=>{e.removed||(n?yT(e):V7(e))},NP=(e,n)=>n.collapsed?e.isEditable(n.startContainer):e.isEditable(n.startContainer)&&e.isEditable(n.endContainer),LP=(e,n,o,a,c)=>{const m=o?n.startContainer:n.endContainer,p=o?n.startOffset:n.endOffset;return J.from(m).map(je.fromDom).map(_=>!a||!n.collapsed?nd(_,c(_,p)).getOr(_):_).bind(_=>zr(_)?J.some(_):ga(_).filter(zr)).map(_=>_.dom).getOr(e)},MP=(e,n,o=!1)=>LP(e,n,!0,o,(a,c)=>Math.min(Gd(a),c)),BP=(e,n,o=!1)=>LP(e,n,!1,o,(a,c)=>c>0?c-1:c),FP=(e,n)=>{const o=e;for(;e&&qt(e)&&e.length===0;)e=n?e.nextSibling:e.previousSibling;return e||o},z7=(e,n)=>{if(!n)return e;let o=n.startContainer,a=n.endContainer;const c=n.startOffset,m=n.endOffset;let p=n.commonAncestorContainer;n.collapsed||(o===a&&m-c<2&&o.hasChildNodes()&&(p=o.childNodes[c]),qt(o)&&qt(a)&&(o.length===c?o=FP(o.nextSibling,!0):o=o.parentNode,m===0?a=FP(a.previousSibling,!1):a=a.parentNode,o&&o===a&&(p=o)));const _=qt(p)?p.parentNode:p;return pu(_)?_:e},xT=(e,n,o,a)=>{const c=[],m=e.getRoot(),p=e.getParent(o||MP(m,n,n.collapsed),e.isBlock),_=e.getParent(a||BP(m,n,n.collapsed),e.isBlock);if(p&&p!==m&&c.push(p),p&&_&&p!==_){let A;const $=new pa(p,m);for(;(A=$.next())&&A!==_;)e.isBlock(A)&&c.push(A)}return _&&p!==_&&_!==m&&c.push(_),c},mw=(e,n,o)=>J.from(n).bind(a=>J.from(a.parentNode).map(c=>{const m=e.nodeIndex(a),p=e.createRng();return p.setStart(c,m),p.setEnd(c,m+1),o&&(H2(e,p,a,!0),H2(e,p,a,!1)),p})),iS=(e,n)=>He(n,o=>{const a=e.dispatch("GetSelectionRange",{range:o});return a.range!==o?a.range:o}),H7={"#text":3,"#comment":8,"#cdata":4,"#pi":7,"#doctype":10,"#document-fragment":11},u0=(e,n,o)=>{const a=o?"lastChild":"firstChild",c=o?"prev":"next";if(e[a])return e[a];if(e!==n){let m=e[c];if(m)return m;for(let p=e.parent;p&&p!==n;p=p.parent)if(m=p[c],m)return m}},$P=e=>{var n;const o=(n=e.value)!==null&&n!==void 0?n:"";if(!uc(o))return!1;const a=e.parent;return!(a&&(a.name!=="span"||a.attr("style"))&&/^[ ]+$/.test(o))},Fi=e=>{const n=e.name==="a"&&!e.attr("href")&&e.attr("id");return e.attr("name")||e.attr("id")&&!e.firstChild||e.attr("data-mce-bookmark")||n};class Ba{static create(n,o){const a=new Ba(n,H7[n]||1);return o&&fs(o,(c,m)=>{a.attr(m,c)}),a}constructor(n,o){this.name=n,this.type=o,o===1&&(this.attributes=[],this.attributes.map={})}replace(n){const o=this;return n.parent&&n.remove(),o.insert(n,o),o.remove(),o}attr(n,o){const a=this;if(!le(n))return xe(n)&&fs(n,(m,p)=>{a.attr(p,m)}),a;const c=a.attributes;if(c){if(o!==void 0){if(o===null){if(n in c.map){delete c.map[n];let m=c.length;for(;m--;)if(c[m].name===n)return c.splice(m,1),a}return a}if(n in c.map){let m=c.length;for(;m--;)if(c[m].name===n){c[m].value=o;break}}else c.push({name:n,value:o});return c.map[n]=o,a}return c.map[n]}}clone(){const n=this,o=new Ba(n.name,n.type),a=n.attributes;if(a){const c=[];c.map={};for(let m=0,p=a.length;m<p;m++){const _=a[m];_.name!=="id"&&(c[c.length]={name:_.name,value:_.value},c.map[_.name]=_.value)}o.attributes=c}return o.value=n.value,o}wrap(n){const o=this;return o.parent&&(o.parent.insert(n,o),n.append(o)),o}unwrap(){const n=this;for(let o=n.firstChild;o;){const a=o.next;n.insert(o,n,!0),o=a}n.remove()}remove(){const n=this,o=n.parent,a=n.next,c=n.prev;return o&&(o.firstChild===n?(o.firstChild=a,a&&(a.prev=null)):c&&(c.next=a),o.lastChild===n?(o.lastChild=c,c&&(c.next=null)):a&&(a.prev=c),n.parent=n.next=n.prev=null),n}append(n){const o=this;n.parent&&n.remove();const a=o.lastChild;return a?(a.next=n,n.prev=a,o.lastChild=n):o.lastChild=o.firstChild=n,n.parent=o,n}insert(n,o,a){n.parent&&n.remove();const c=o.parent||this;return a?(o===c.firstChild?c.firstChild=n:o.prev&&(o.prev.next=n),n.prev=o.prev,n.next=o,o.prev=n):(o===c.lastChild?c.lastChild=n:o.next&&(o.next.prev=n),n.next=o.next,n.prev=o,o.next=n),n.parent=c,n}getAll(n){const o=this,a=[];for(let c=o.firstChild;c;c=u0(c,o))c.name===n&&a.push(c);return a}children(){const n=this,o=[];for(let a=n.firstChild;a;a=a.next)o.push(a);return o}empty(){const n=this;if(n.firstChild){const o=[];for(let c=n.firstChild;c;c=u0(c,n))o.push(c);let a=o.length;for(;a--;){const c=o[a];c.parent=c.firstChild=c.lastChild=c.next=c.prev=null}}return n.firstChild=n.lastChild=null,n}isEmpty(n,o={},a){var c;const m=this;let p=m.firstChild;if(Fi(m))return!1;if(p)do{if(p.type===1){if(p.attr("data-mce-bogus"))continue;if(n[p.name]||Fi(p))return!1}if(p.type===8||p.type===3&&!$P(p)||p.type===3&&p.parent&&o[p.parent.name]&&uc((c=p.value)!==null&&c!==void 0?c:"")||a&&a(p))return!1}while(p=u0(p,m));return!0}walk(n){return u0(this,null,n)}}const VP=rn.makeMap("NOSCRIPT STYLE SCRIPT XMP IFRAME NOEMBED NOFRAMES PLAINTEXT"," "),aS=e=>le(e.nodeValue)&&e.nodeValue.includes(Ei),gw=e=>`${e.length===0?"":`${He(e,n=>`[${n}]`).join(",")},`}[data-mce-bogus="all"]`,ib=(e,n)=>n.querySelectorAll(gw(e)),zh=e=>document.createTreeWalker(e,NodeFilter.SHOW_COMMENT,n=>aS(n)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP),zP=e=>document.createTreeWalker(e,NodeFilter.SHOW_TEXT,n=>{if(aS(n)){const o=n.parentNode;return o&&yo(VP,o.nodeName)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}else return NodeFilter.FILTER_SKIP}),U7=e=>zh(e).nextNode()!==null,wy=e=>zP(e).nextNode()!==null,Cy=(e,n)=>n.querySelector(gw(e))!==null,_y=(e,n)=>{be(ib(e,n),o=>{const a=je.fromDom(o);Da(a,"data-mce-bogus")==="all"?Ns(a):be(e,c=>{Wd(a,c)&&Fo(a,c)})})},lS=e=>{let n=e.nextNode();for(;n!==null;)n.nodeValue=null,n=e.nextNode()},wT=Lt(lS,zh),HP=Lt(lS,zP),CT=(e,n)=>{const o=[{condition:et(Cy,n),action:et(_y,n)},{condition:U7,action:wT},{condition:wy,action:HP}];let a=e,c=!1;return be(o,({condition:m,action:p})=>{m(a)&&(c||(a=e.cloneNode(!0),c=!0),p(a))}),a},UP=e=>{const n=vi(e,"[data-mce-bogus]");be(n,o=>{Da(o,"data-mce-bogus")==="all"?Ns(o):dd(o)?(Or(o,je.fromText(Rr)),Ns(o)):ja(o)})},WP=e=>{const n=vi(e,"input");be(n,o=>{Fo(o,"name")})},KP=(e,n)=>{const o=gl(e),a=new RegExp(`^(<${o}[^>]*>(&nbsp;|&#160;|\\s||<br \\/>|)<\\/${o}>[\r
]*|<br \\/>[\r
]*)$`);return n.replace(a,"")},jP=(e,n)=>{const o=e.getDoc(),a=fu(je.fromDom(e.getBody())),c=je.fromTag("div",o);_i(c,"data-mce-bogus","all"),es(c,{position:"fixed",left:"-9999999px",top:"0"}),Km(c,n.innerHTML),UP(c),WP(c);const m=p1(a);Ur(m,c);const p=Rl(c.dom.innerText);return Ns(c),p},hw=(e,n,o)=>{let a;return n.format==="raw"?a=rn.trim(Rl(CT(o,e.serializer.getTempAttrs()).innerHTML)):n.format==="text"?a=jP(e,o):n.format==="tree"?a=e.serializer.serialize(o,n):a=KP(e,e.serializer.serialize(o,n)),n.format!=="text"&&!Pv(je.fromDom(o))&&le(a)?rn.trim(a):a},ZP=(e,n)=>J.from(e.getBody()).fold(dt(n.format==="tree"?new Ba("body",11):""),o=>hw(e,n,o)),_T=rn.makeMap,ST=e=>{const n=[];e=e||{};const o=e.indent,a=_T(e.indent_before||""),c=_T(e.indent_after||""),m=bh.getEncodeFunc(e.entity_encoding||"raw",e.entities),p=e.element_format!=="xhtml";return{start:(_,A,$)=>{if(o&&a[_]&&n.length>0){const q=n[n.length-1];q.length>0&&q!==`
`&&n.push(`
`)}if(n.push("<",_),A)for(let q=0,X=A.length;q<X;q++){const oe=A[q];n.push(" ",oe.name,'="',m(oe.value,!0),'"')}if(!$||p?n[n.length]=">":n[n.length]=" />",$&&o&&c[_]&&n.length>0){const q=n[n.length-1];q.length>0&&q!==`
`&&n.push(`
`)}},end:_=>{let A;n.push("</",_,">"),o&&c[_]&&n.length>0&&(A=n[n.length-1],A.length>0&&A!==`
`&&n.push(`
`))},text:(_,A)=>{_.length>0&&(n[n.length]=A?_:m(_))},cdata:_=>{n.push("<![CDATA[",_,"]]>")},comment:_=>{n.push("<!--",_,"-->")},pi:(_,A)=>{A?n.push("<?",_," ",m(A),"?>"):n.push("<?",_,"?>"),o&&n.push(`
`)},doctype:_=>{n.push("<!DOCTYPE",_,">",o?`
`:"")},reset:()=>{n.length=0},getContent:()=>n.join("").replace(/\n$/,"")}},Hh=(e={},n=zc())=>{const o=ST(e);return e.validate="validate"in e?e.validate:!0,{serialize:c=>{const m=e.validate,p={3:A=>{var $;o.text(($=A.value)!==null&&$!==void 0?$:"",A.raw)},8:A=>{var $;o.comment(($=A.value)!==null&&$!==void 0?$:"")},7:A=>{o.pi(A.name,A.value)},10:A=>{var $;o.doctype(($=A.value)!==null&&$!==void 0?$:"")},4:A=>{var $;o.cdata(($=A.value)!==null&&$!==void 0?$:"")},11:A=>{let $=A;if($=$.firstChild)do _($);while($=$.next)}};o.reset();const _=A=>{var $;const q=p[A.type];if(q)q(A);else{const X=A.name,oe=X in n.getVoidElements();let ve=A.attributes;if(m&&ve&&ve.length>1){const Oe=[];Oe.map={};const ye=n.getElementRule(A.name);if(ye){for(let Pe=0,Ye=ye.attributesOrder.length;Pe<Ye;Pe++){const st=ye.attributesOrder[Pe];if(st in ve.map){const nt=ve.map[st];Oe.map[st]=nt,Oe.push({name:st,value:nt})}}for(let Pe=0,Ye=ve.length;Pe<Ye;Pe++){const st=ve[Pe].name;if(!(st in Oe.map)){const nt=ve.map[st];Oe.map[st]=nt,Oe.push({name:st,value:nt})}}ve=Oe}}if(o.start(X,ve,oe),Ym(X))le(A.value)&&o.text(A.value,!0),o.end(X);else if(!oe){let Oe=A.firstChild;if(Oe){(X==="pre"||X==="textarea")&&Oe.type===3&&(($=Oe.value)===null||$===void 0?void 0:$[0])===`
`&&o.text(`
`,!0);do _(Oe);while(Oe=Oe.next)}o.end(X)}}};return c.type===1&&!e.inner?_(c):c.type===3?p[3](c):p[11](c),o.getContent()}}},kT=new Set;be(["margin","margin-left","margin-right","margin-top","margin-bottom","padding","padding-left","padding-right","padding-top","padding-bottom","border","border-width","border-style","border-color","background","background-attachment","background-clip","background-image","background-origin","background-position","background-repeat","background-size","float","position","left","right","top","bottom","z-index","display","transform","width","max-width","min-width","height","max-height","min-height","overflow","overflow-x","overflow-y","text-overflow","vertical-align","transition","transition-delay","transition-duration","transition-property","transition-timing-function"],n=>{kT.add(n)});const ET=new Set;be(["background-color"],n=>{ET.add(n)});const AT=["font","text-decoration","text-emphasis"],GP=(e,n)=>e.parseStyle(e.getAttrib(n,"style")),d0=(e,n)=>en(GP(e,n)),TT=e=>kT.has(e),pw=e=>ET.has(e),OT=(e,n)=>Re(d0(e,n),o=>TT(o)),qP=(e,n)=>OT(e,n)&&Re(d0(e,n),o=>pw(o)),cS=e=>Ge(e,n=>Re(AT,o=>cr(n,o))),W7=(e,n,o)=>{const a=d0(e,n),c=d0(e,o),m=p=>{var _,A;const $=(_=e.getStyle(n,p))!==null&&_!==void 0?_:"",q=(A=e.getStyle(o,p))!==null&&A!==void 0?A:"";return ot($)&&ot(q)&&$!==q};return Re(a,p=>{const _=A=>Re(A,$=>$===p);if(!_(c)&&_(AT)){const A=cS(c);return Re(A,m)}else return m(p)})},YP=(e,n,o)=>J.from(o.container()).filter(qt).exists(a=>{const c=e?0:-1;return n(a.data.charAt(o.offset()+c))}),Uh=et(YP,!0,t0),bw=et(YP,!1,t0),XP=e=>{const n=e.container();return qt(n)&&(n.data.length===0||Kc(n.data)&&qs.isBookmarkNode(n.parentNode))},df=(e,n)=>o=>E_(e?0:-1,o).filter(n).isSome(),RT=e=>Mc(e)&&Hr(je.fromDom(e),"display")==="block",uS=e=>_o(e)&&!y1(e),JP=df(!0,RT),QP=df(!1,RT),f0=df(!0,Dt),Sy=df(!1,Dt),eN=df(!0,bu),ky=df(!1,bu),$i=df(!0,uS),fm=df(!1,uS),m0=e=>e.slice(0,-1),tN=(e,n,o)=>ma(n,e)?m0(zm(e,a=>o(a)||ss(a,n))):[],pc=(e,n)=>tN(e,n,In),Xc=(e,n)=>[e].concat(pc(e,n)),dS=(e,n,o)=>_D(e,n,o,XP),nN=e=>n=>e.isBlock(os(n)),IT=(e,n,o)=>xn(Xc(je.fromDom(n.container()),e),nN(o)),Ey=(e,n,o,a)=>dS(e,n.dom,o).forall(c=>IT(n,o,a).fold(()=>!hg(c,o,n.dom),m=>!hg(c,o,n.dom)&&ma(m,je.fromDom(c.container())))),fS=(e,n,o,a)=>IT(n,o,a).fold(()=>dS(e,n.dom,o).forall(c=>!hg(c,o,n.dom)),c=>dS(e,c.dom,o).isNone()),mS=et(fS,!1),oN=et(fS,!0),DT=et(Ey,!1),PT=et(Ey,!0),K7=e=>A_(e).exists(dd),yd=(e,n,o,a)=>{const c=Ge(Xc(je.fromDom(o.container()),n),p=>a.isBlock(os(p))),m=On(c).getOr(n);return Au(e,m.dom,o).filter(K7)},vw=(e,n,o)=>A_(n).exists(dd)||yd(!0,e,n,o).isSome(),g0=(e,n,o)=>Z8(n).exists(dd)||yd(!1,e,n,o).isSome(),gS=et(yd,!1),sN=et(yd,!0),NT=e=>At.isTextPosition(e)&&!e.isAtStart()&&!e.isAtEnd(),LT=(e,n,o)=>{const a=Ge(Xc(je.fromDom(n.container()),e),c=>o.isBlock(os(c)));return On(a).getOr(e)},rN=(e,n,o)=>NT(n)?bw(n):bw(n)||Zc(LT(e,n,o).dom,n).exists(bw),iN=(e,n,o)=>NT(n)?Uh(n):Uh(n)||ec(LT(e,n,o).dom,n).exists(Uh),aN=e=>we(["pre","pre-wrap"],e),hS=e=>A_(e).bind(n=>bi(n,zr)).exists(n=>aN(Hr(n,"white-space"))),MT=(e,n)=>Zc(e.dom,n).isNone(),BT=(e,n)=>ec(e.dom,n).isNone(),lN=(e,n,o)=>MT(e,n)||BT(e,n)||mS(e,n,o)||oN(e,n,o)||g0(e,n,o)||vw(e,n,o),FT=e=>xe(e)&&_o(e)&&RA(e),$T=(e,n)=>o=>FT(new pa(o,e)[n]()),cN=(e,n)=>{const o=ec(e.dom,n).getOr(n),a=$T(e.dom,"next");return n.isAtEnd()&&(a(n.container())||a(o.container()))},VT=(e,n)=>{const o=Zc(e.dom,n).getOr(n),a=$T(e.dom,"prev");return n.isAtStart()&&(a(n.container())||a(o.container()))},zT=(e,n,o)=>hS(n)?!1:lN(e,n,o)||rN(e,n,o)||iN(e,n,o),Ay=(e,n,o)=>hS(n)?!1:mS(e,n,o)||DT(e,n,o)||g0(e,n,o)||rN(e,n,o)||VT(e,n),uN=e=>{const n=e.container(),o=e.offset();return qt(n)&&o<n.data.length?At(n,o+1):e},h0=(e,n,o)=>hS(n)?!1:oN(e,n,o)||PT(e,n,o)||vw(e,n,o)||iN(e,n,o)||cN(e,n),HT=(e,n,o)=>Ay(e,n,o)||h0(e,uN(n),o),yw=(e,n)=>hl(e.charAt(n)),UT=(e,n)=>t0(e.charAt(n)),dN=e=>{const n=e.container();return qt(n)&&Bs(n.data,Ni)},j7=e=>{const n=e.split("");return He(n,(o,a)=>hl(o)&&a>0&&a<n.length-1&&Mh(n[a-1])&&Mh(n[a+1])?" ":o).join("")},fN=(e,n,o,a)=>{const c=n.data,m=At(n,0);return!o&&yw(c,0)&&!HT(e,m,a)?(n.data=" "+c.slice(1),!0):o&&UT(c,0)&&Ay(e,m,a)?(n.data=Ni+c.slice(1),!0):!1},mN=e=>{const n=e.data,o=j7(n);return o!==n?(e.data=o,!0):!1},gN=(e,n,o,a)=>{const c=n.data,m=At(n,c.length-1);return!o&&yw(c,c.length-1)&&!HT(e,m,a)?(n.data=c.slice(0,-1)+" ",!0):o&&UT(c,c.length-1)&&h0(e,m,a)?(n.data=c.slice(0,-1)+Ni,!0):!1},hN=(e,n,o)=>{const a=n.container();if(!qt(a))return J.none();if(dN(n)){const c=fN(e,a,!1,o)||mN(a)||gN(e,a,!1,o);return oh(c,n)}else if(HT(e,n,o)){const c=fN(e,a,!0,o)||gN(e,a,!0,o);return oh(c,n)}else return J.none()},Z7=e=>{const n=je.fromDom(e.getBody());e.selection.isCollapsed()&&hN(n,At.fromRangeStart(e.selection.getRng()),e.schema).each(o=>{e.selection.setRng(o.toRange())})},pN=(e,n,o,a)=>{if(o===0)return;const c=je.fromDom(e),m=ll(c,$=>a.isBlock(os($))).getOr(c),p=e.data.slice(n,n+o),_=n+o>=e.data.length&&h0(m,At(e,e.data.length),a),A=n===0&&Ay(m,At(e,0),a);e.replaceData(n,o,rv(p,4,A,_))},pS=(e,n,o)=>{const a=e.data.slice(n),c=a.length-wt(a).length;pN(e,n,c,o)},$r=(e,n,o)=>{const a=e.data.slice(0,n),c=a.length-bt(a).length;pN(e,n-c,c,o)},xw=(e,n,o,a,c=!0)=>{const m=bt(e.data).length,p=c?e:n,_=c?n:e;return c?p.appendData(_.data):p.insertData(0,_.data),Ns(je.fromDom(_)),a&&pS(p,m,o),p},G7=(e,n)=>{const o=e.container(),a=e.offset();return!At.isTextPosition(e)&&o===n.parentNode&&a>At.before(n).offset()},q7=(e,n)=>G7(n,e)?At(n.container(),n.offset()-1):n,Ty=e=>qt(e)?At(e,0):At.before(e),ab=e=>qt(e)?At(e,e.data.length):At.after(e),Cg=e=>Cu(e.previousSibling)?J.some(ab(e.previousSibling)):e.previousSibling?md(e.previousSibling):J.none(),WT=e=>Cu(e.nextSibling)?J.some(Ty(e.nextSibling)):e.nextSibling?ao(e.nextSibling):J.none(),bN=(e,n)=>J.from(n.previousSibling?n.previousSibling:n.parentNode).bind(o=>Zc(e,At.before(o))).orThunk(()=>ec(e,At.after(n))),vN=(e,n)=>ec(e,At.after(n)).orThunk(()=>Zc(e,At.before(n))),bS=(e,n)=>Cg(n).orThunk(()=>WT(n)).orThunk(()=>bN(e,n)),Y7=(e,n)=>WT(n).orThunk(()=>Cg(n)).orThunk(()=>vN(e,n)),KT=(e,n,o)=>e?Y7(n,o):bS(n,o),yN=(e,n,o)=>KT(e,n,o).map(et(q7,o)),jT=(e,n,o)=>{o.fold(()=>{e.focus()},a=>{e.selection.setRng(a.toRange(),n)})},ZT=e=>n=>n.dom===e,xN=(e,n)=>n&&yo(e.schema.getBlockElements(),os(n)),GT=(e,n,o)=>{if(Kr(e,n)){const a=je.fromHtml('<br data-mce-bogus="1">');return o?be(ha(n),c=>{F_(c)||Ns(c)}):or(n),Ur(n,a),J.some(At.before(a.dom))}else return J.none()},X7=(e,n,o,a)=>{const c=Si(e).filter(ur),m=Yn(e).filter(ur);return Ns(e),Of(c,m,n,(p,_,A)=>{const $=p.dom,q=_.dom,X=$.data.length;return xw($,q,o,a),A.container()===q?At($,X):A}).orThunk(()=>(a&&(c.each(p=>$r(p.dom,p.dom.length,o)),m.each(p=>pS(p.dom,0,o))),n))},J7=(e,n)=>yo(e.schema.getTextInlineElements(),os(n)),Dl=(e,n,o,a=!0,c=!1)=>{const m=yN(n,e.getBody(),o.dom),p=ll(o,et(xN,e),ZT(e.getBody())),_=X7(o,m,e.schema,J7(e,o));e.dom.isEmpty(e.getBody())?(e.setContent(""),e.selection.setCursorLocation()):p.bind(A=>GT(e.schema,A,c)).fold(()=>{a&&jT(e,n,_)},A=>{a&&jT(e,n,J.some(A))})},wN=/[\u0591-\u07FF\uFB1D-\uFDFF\uFE70-\uFEFC]/,Q7=e=>wN.test(e),p0=(e,n)=>Fs(je.fromDom(n),cs(e))&&!Wf(e.schema,n)&&e.dom.isEditable(n),ww=e=>{var n;return Js.DOM.getStyle(e,"direction",!0)==="rtl"||Q7((n=e.textContent)!==null&&n!==void 0?n:"")},e$=(e,n,o)=>Ge(Js.DOM.getParents(o.container(),"*",n),e),lb=(e,n,o)=>{const a=e$(e,n,o);return J.from(a[a.length-1])},CN=(e,n,o)=>{const a=Gp(n,e),c=Gp(o,e);return xe(a)&&a===c},qT=e=>Nv(e)||Z1(e),xd=(e,n)=>{const o=n.container(),a=n.offset();return e?lg(o)?qt(o.nextSibling)?At(o.nextSibling,0):At.after(o):Nv(n)?At(o,a+1):n:lg(o)?qt(o.previousSibling)?At(o.previousSibling,o.previousSibling.data.length):At.before(o):Z1(n)?At(o,a-1):n},_N=et(xd,!0),Oy=et(xd,!1),YT=(e,n)=>{const o=a=>a.stopImmediatePropagation();e.on("beforeinput input",o,!0),e.getDoc().execCommand(n),e.off("beforeinput input",o)},SN=e=>{e.execCommand("delete")},vS=e=>YT(e,"Delete"),XT=e=>YT(e,"ForwardDelete"),Cw=e=>n=>Af(ga(n),e,ss),kN=e=>Iv(e)||ag(e),_w=(e,n)=>ma(e,n)?bi(n,kN,Cw(e)):J.none(),yS=(e,n=!0)=>{e.dom.isEmpty(e.getBody())&&e.setContent("",{no_selection:!n})},EN=(e,n,o)=>da(ao(o),md(o),(a,c)=>{const m=xd(!0,a),p=xd(!1,c),_=xd(!1,n);return e?ec(o,_).exists(A=>A.isEqual(p)&&n.isEqual(m)):Zc(o,_).exists(A=>A.isEqual(m)&&n.isEqual(p))}).getOr(!0),ff=e=>(ah(e)?Si(e):od(e)).bind(ff).orThunk(()=>J.some(e)),xS=(e,n,o,a=!0)=>{var c;n.deleteContents();const m=ff(o).getOr(o),p=je.fromDom((c=e.dom.getParent(m.dom,e.dom.isBlock))!==null&&c!==void 0?c:o.dom);if(p.dom===e.getBody()?yS(e,a):Kr(e.schema,p,{checkRootAsContent:!1})&&(Wc(p),a&&e.selection.setCursorLocation(p.dom,0)),!ss(o,p)){const _=Af(ga(p),o)?[]:Qb(p);be(_.concat(ha(o)),A=>{!ss(A,p)&&!ma(A,p)&&Kr(e.schema,A)&&Ns(A)})}},t$=e=>n=>ss(e,n),JT=e=>vi(e,"td,th"),Is=(e,n)=>Vs(je.fromDom(e),n),n$=e=>da(e.startTable,e.endTable,(n,o)=>{const a=v1(n,m=>ss(m,o)),c=v1(o,m=>ss(m,n));return!a&&!c?e:{...e,startTable:a?J.none():e.startTable,endTable:c?J.none():e.endTable,isSameTable:!1,isMultiTable:!1}}).getOr(e),Sw=e=>n$(e),o$=(e,n)=>{const o=Is(e.startContainer,n),a=Is(e.endContainer,n),c=o.isSome(),m=a.isSome(),p=da(o,a,ss).getOr(!1);return Sw({startTable:o,endTable:a,isStartInTable:c,isEndInTable:m,isSameTable:p,isMultiTable:!p&&c&&m})},wS=(e,n)=>({start:e,end:n}),cb=(e,n,o)=>({rng:e,table:n,cells:o}),pl=ts.generate([{singleCellTable:["rng","cell"]},{fullTable:["table"]},{partialTable:["cells","outsideDetails"]},{multiTable:["startTableCells","endTableCells","betweenRng"]}]),ub=(e,n)=>Xi(je.fromDom(e),"td,th",n),Wh=e=>!ss(e.start,e.end),mm=(e,n)=>Vs(e.start,n).bind(o=>Vs(e.end,n).bind(a=>oh(ss(o,a),o))),kw=(e,n)=>!Wh(e)&&mm(e,n).exists(o=>{const a=o.dom.rows;return a.length===1&&a[0].cells.length===1}),QT=(e,n)=>{const o=ub(e.startContainer,n),a=ub(e.endContainer,n);return da(o,a,wS)},e3=e=>n=>Vs(n,e).bind(o=>vo(JT(o)).map(a=>wS(n,a))),AN=e=>n=>Vs(n,e).bind(o=>On(JT(o)).map(a=>wS(a,n))),CS=e=>n=>mm(n,e).map(o=>cb(n,o,JT(o))),TN=(e,n,o,a)=>{if(o.collapsed||!e.forall(Wh))return J.none();if(n.isSameTable){const c=e.bind(CS(a));return J.some({start:c,end:c})}else{const c=ub(o.startContainer,a),m=ub(o.endContainer,a),p=c.bind(e3(a)).bind(CS(a)),_=m.bind(AN(a)).bind(CS(a));return J.some({start:p,end:_})}},ON=(e,n)=>Xn(e,o=>ss(o,n)),_S=e=>da(ON(e.cells,e.rng.start),ON(e.cells,e.rng.end),(n,o)=>e.cells.slice(n,o+1)),RN=(e,n,o)=>e.exists(a=>kw(a,o)&&z2(a.start,n)),t3=(e,n)=>{const{startTable:o,endTable:a}=n,c=e.cloneRange();return o.each(m=>c.setStartAfter(m.dom)),a.each(m=>c.setEndBefore(m.dom)),c},IN=(e,n,o,a)=>TN(e,n,o,a).bind(({start:c,end:m})=>c.or(m)).bind(c=>{const{isSameTable:m}=n,p=_S(c).getOr([]);if(m&&c.cells.length===p.length)return J.some(pl.fullTable(c.table));if(p.length>0){if(m)return J.some(pl.partialTable(p,J.none()));{const _=t3(o,n);return J.some(pl.partialTable(p,J.some({...n,rng:_})))}}else return J.none()}),n3=(e,n,o,a)=>TN(e,n,o,a).bind(({start:c,end:m})=>{const p=c.bind(_S).getOr([]),_=m.bind(_S).getOr([]);if(p.length>0&&_.length>0){const A=t3(o,n);return J.some(pl.multiTable(p,_,A))}else return J.none()}),s$=(e,n)=>{const o=t$(e),a=QT(n,o),c=o$(n,o);return RN(a,n,o)?a.map(m=>pl.singleCellTable(n,m.start)):c.isMultiTable?n3(a,c,n,o):IN(a,c,n,o)},DN=e=>be(e,n=>{Fo(n,"contenteditable"),Wc(n)}),r$=(e,n)=>J.from(e.dom.getParent(n,e.dom.isBlock)).map(je.fromDom),_g=(e,n,o)=>{o.each(a=>{n?Ns(a):(Wc(a),e.selection.setCursorLocation(a.dom,0))})},b0=(e,n,o,a)=>{const c=o.cloneRange();a?(c.setStart(o.startContainer,o.startOffset),c.setEndAfter(n.dom.lastChild)):(c.setStartBefore(n.dom.firstChild),c.setEnd(o.endContainer,o.endOffset)),r3(e,c,n,!1).each(m=>m())},o3=e=>{const n=lm(e),o=je.fromDom(e.selection.getNode());Op(o.dom)&&Kr(e.schema,o)?e.selection.setCursorLocation(o.dom,0):e.selection.collapse(!0),n.length>1&&Re(n,a=>ss(a,o))&&_i(o,"data-mce-selected","1")},s3=(e,n,o)=>J.some(()=>{const a=e.selection.getRng(),c=o.bind(({rng:m,isStartInTable:p})=>{const _=r$(e,p?m.endContainer:m.startContainer);m.deleteContents(),_g(e,p,_.filter(et(Kr,e.schema)));const A=p?n[0]:n[n.length-1];return b0(e,A,a,p),Kr(e.schema,A)?J.none():J.some(p?n.slice(1):n.slice(0,-1))}).getOr(n);DN(c),o3(e)}),PN=(e,n,o,a)=>J.some(()=>{const c=e.selection.getRng(),m=n[0],p=o[o.length-1];b0(e,m,c,!0),b0(e,p,c,!1);const _=Kr(e.schema,m)?n:n.slice(1),A=Kr(e.schema,p)?o:o.slice(0,-1);DN(_.concat(A)),a.deleteContents(),o3(e)}),r3=(e,n,o,a=!0)=>J.some(()=>{xS(e,n,o,a)}),db=(e,n)=>J.some(()=>Dl(e,!1,n)),i$=(e,n,o)=>s$(n,o).bind(a=>a.fold(et(r3,e),et(db,e),et(s3,e),et(PN,e))),a$=(e,n)=>SS(e,n),l$=(e,n,o,a)=>i3(n,a).fold(()=>i$(e,n,o),c=>a$(e,c)),c$=(e,n,o)=>{const a=je.fromDom(e.getBody()),c=e.selection.getRng();return o.length!==0?s3(e,o,J.none()):l$(e,a,c,n)},NN=(e,n)=>xn(Xc(n,e),Uc),i3=(e,n)=>xn(Xc(n,e),Df("caption")),u$=(e,n,o,a,c)=>Qv(o,e.getBody(),c).bind(m=>NN(n,je.fromDom(m.getNode())).bind(p=>ss(p,a)?J.none():J.some(lt))),SS=(e,n)=>J.some(()=>{Wc(n),e.selection.setCursorLocation(n.dom,0)}),d$=(e,n,o,a)=>ao(e.dom).bind(c=>md(e.dom).map(m=>n?o.isEqual(c)&&a.isEqual(m):o.isEqual(m)&&a.isEqual(c))).getOr(!0),kS=(e,n)=>SS(e,n),f$=(e,n,o)=>i3(e,je.fromDom(o.getNode())).fold(()=>J.some(lt),a=>oh(!ss(a,n),lt)),Ew=(e,n,o,a,c)=>Qv(o,e.getBody(),c).fold(()=>J.some(lt),m=>d$(a,o,c,m)?kS(e,a):f$(n,a,m)),a3=(e,n,o,a)=>{const c=At.fromRangeStart(e.selection.getRng());return NN(o,a).bind(m=>Kr(e.schema,m,{checkRootAsContent:!1})?SS(e,m):u$(e,o,n,m,c))},v0=(e,n,o,a)=>{const c=At.fromRangeStart(e.selection.getRng());return Kr(e.schema,a)?SS(e,a):Ew(e,o,n,a,c)},fb=(e,n)=>e?eN(n):ky(n),ES=(e,n)=>{const o=At.fromRangeStart(e.selection.getRng());return fb(n,o)||Au(n,e.getBody(),o).exists(a=>fb(n,a))},AS=(e,n,o)=>{const a=je.fromDom(e.getBody());return i3(a,o).fold(()=>a3(e,n,a,o).orThunk(()=>oh(ES(e,n),lt)),c=>v0(e,n,a,c))},Kh=(e,n)=>{const o=je.fromDom(e.selection.getStart(!0)),a=lm(e);return e.selection.isCollapsed()&&a.length===0?AS(e,n,o):c$(e,o,a)},wd=(e,n)=>{let o=n;for(;o&&o!==e;){if(Bc(o)||_o(o))return o;o=o.parentNode}return null},TS=["data-ephox-","data-mce-","data-alloy-","data-snooker-","_"],OS=rn.each,RS=e=>{const n=e.dom,o=new Set(e.serializer.getTempAttrs()),a=(m,p)=>{if(m.nodeName!==p.nodeName||m.nodeType!==p.nodeType)return!1;const _=$=>{const q={};return OS(n.getAttribs($),X=>{const oe=X.nodeName.toLowerCase();oe!=="style"&&!c(oe)&&(q[oe]=n.getAttrib($,oe))}),q},A=($,q)=>{for(const X in $)if(yo($,X)){const oe=q[X];if(Xe(oe)||$[X]!==oe)return!1;delete q[X]}for(const X in q)if(yo(q,X))return!1;return!0};return Ln(m)&&Ln(p)&&(!A(_(m),_(p))||!A(n.parseStyle(n.getAttrib(m,"style")),n.parseStyle(n.getAttrib(p,"style"))))?!1:!Ou(m)&&!Ou(p)},c=m=>Re(TS,p=>cr(m,p))||o.has(m);return{compare:a,isAttributeInternal:c}},IS=e=>["h1","h2","h3","h4","h5","h6"].includes(e.name),l3=e=>e.name==="summary",LN=(e,n)=>{let o=e;for(;o=o.walk();)n(o)},c3=(e,n,o,a)=>{const c=o.name;for(let m=0,p=e.length;m<p;m++){const _=e[m];if(_.name===c){const A=a.nodes[c];A?A.nodes.push(o):a.nodes[c]={filter:_,nodes:[o]}}}if(o.attributes)for(let m=0,p=n.length;m<p;m++){const _=n[m],A=_.name;if(A in o.attributes.map){const $=a.attributes[A];$?$.nodes.push(o):a.attributes[A]={filter:_,nodes:[o]}}}},Ry=(e,n,o)=>{const a={nodes:{},attributes:{}};return o.firstChild&&LN(o,c=>{c3(e,n,c,a)}),a},u3=(e,n)=>{const o=(a,c)=>{fs(a,m=>{const p=Do(m.nodes);be(m.filter.callbacks,_=>{for(let A=p.length-1;A>=0;A--){const $=p[A];(!(c?$.attr(m.filter.name)!==void 0:$.name===m.filter.name)||rt($.parent))&&p.splice(A,1)}p.length>0&&_(p,m.filter.name,n)})})};o(e.nodes,!1),o(e.attributes,!0)},d3=(e,n,o,a={})=>{const c=Ry(e,n,o);u3(c,a)},DS=(e,n,o,a)=>{if((e.pad_empty_with_br||n.insert)&&o(a)){const m=new Ba("br",1);n.insert&&m.attr("data-mce-bogus","1"),a.empty().append(m)}else a.empty().append(new Ba("#text",3)).value=Ni},PS=e=>{var n;return f3(e,"#text")&&((n=e==null?void 0:e.firstChild)===null||n===void 0?void 0:n.value)===Ni},f3=(e,n)=>{const o=e==null?void 0:e.firstChild;return xe(o)&&o===e.lastChild&&o.name===n},MN=(e,n)=>{const o=e.getElementRule(n.name);return(o==null?void 0:o.paddEmpty)===!0},Iy=(e,n,o,a)=>a.isEmpty(n,o,c=>MN(e,c)),BN=(e,n)=>xe(e)&&(n(e)||e.name==="br"),jh=e=>{let n;for(let o=e;o;o=o.parent){const a=o.attr("contenteditable");if(a==="false")break;a==="true"&&(n=o)}return J.from(n)},Sg=(e,n,o=e.parent)=>{if(n.getSpecialElements()[e.name])e.empty().remove();else{const a=e.children();for(const c of a)o&&!n.isValidChild(o.name,c.name)&&Sg(c,n,o);e.unwrap()}},Iu=(e,n,o,a=lt)=>{const c=n.getTextBlockElements(),m=n.getNonEmptyElements(),p=n.getWhitespaceElements(),_=rn.makeMap("tr,td,th,tbody,thead,tfoot,table,summary"),A=new Set,$=q=>q!==o&&!_[q.name];for(let q=0;q<e.length;q++){const X=e[q];let oe,ve,Oe;if(!X.parent||A.has(X))continue;if(c[X.name]&&X.parent.name==="li"){let Pe=X.next;for(;Pe&&c[Pe.name];){Pe.name="li",A.add(Pe),X.parent.insert(Pe,X.parent);Pe=Pe.next}X.unwrap();continue}const ye=[X];for(oe=X.parent;oe&&!n.isValidChild(oe.name,X.name)&&$(oe);oe=oe.parent)ye.push(oe);if(oe&&ye.length>1)if(Aw(n,X,oe))Sg(X,n);else{ye.reverse(),ve=ye[0].clone(),a(ve);let Pe=ve;for(let Ye=0;Ye<ye.length-1;Ye++){n.isValidChild(Pe.name,ye[Ye].name)&&Ye>0?(Oe=ye[Ye].clone(),a(Oe),Pe.append(Oe)):Oe=Pe;for(let st=ye[Ye].firstChild;st&&st!==ye[Ye+1];){const nt=st.next;Oe.append(st),st=nt}Pe=Oe}Iy(n,m,p,ve)?oe.insert(X,ye[0],!0):(oe.insert(ve,ye[0],!0),oe.insert(X,ve)),oe=ye[0],(Iy(n,m,p,oe)||f3(oe,"br"))&&oe.empty().remove()}else if(X.parent){if(X.name==="li"){let Pe=X.prev;if(Pe&&(Pe.name==="ul"||Pe.name==="ol")){Pe.append(X);continue}if(Pe=X.next,Pe&&(Pe.name==="ul"||Pe.name==="ol")&&Pe.firstChild){Pe.insert(X,Pe.firstChild,!0);continue}const Ye=new Ba("ul",1);a(Ye),X.wrap(Ye);continue}if(n.isValidChild(X.parent.name,"div")&&n.isValidChild("div",X.name)){const Pe=new Ba("div",1);a(Pe),X.wrap(Pe)}else Sg(X,n)}}},m3=(e,n)=>{let o=e;for(;o;){if(o.name===n)return!0;o=o.parent}return!1},Aw=(e,n,o=n.parent)=>o?e.children[n.name]&&!e.isValidChild(o.name,n.name)||n.name==="a"&&m3(o,"a")?!0:l3(o)&&IS(n)?!((o==null?void 0:o.firstChild)===n&&(o==null?void 0:o.lastChild)===n):!1:!1,FN=(e,n,o,a)=>{const c=document.createRange();return c.setStart(e,n),c.setEnd(o,a),c},$N=e=>{const n=At.fromRangeStart(e),o=At.fromRangeEnd(e),a=e.commonAncestorContainer;return Au(!1,a,o).map(c=>!hg(n,o,a)&&hg(n,c,a)?FN(n.container(),n.offset(),c.container(),c.offset()):e).getOr(e)},NS=e=>e.collapsed?e:$N(e),g3=e=>xe(e.firstChild)&&e.firstChild===e.lastChild,VN=e=>e.name==="br"||e.value===Ni,zN=(e,n)=>e.getBlockElements()[n.name]&&g3(n)&&VN(n.firstChild),h3=(e,n)=>{const o=e.getNonEmptyElements();return xe(n)&&(n.isEmpty(o)||zN(e,n))},kg=(e,n)=>{let o=n.firstChild,a=n.lastChild;return o&&o.name==="meta"&&(o=o.next),a&&a.attr("id")==="mce_marker"&&(a=a.prev),h3(e,a)&&(a=a==null?void 0:a.prev),!o||o!==a?!1:o.name==="ul"||o.name==="ol"},mf=e=>{var n,o;const a=e.firstChild,c=e.lastChild;return a&&a.nodeName==="META"&&((n=a.parentNode)===null||n===void 0||n.removeChild(a)),c&&c.id==="mce_marker"&&((o=c.parentNode)===null||o===void 0||o.removeChild(c)),e},LS=(e,n,o)=>{const a=n.serialize(o),c=e.createFragment(a);return mf(c)},HN=e=>{var n;return Ge((n=e==null?void 0:e.childNodes)!==null&&n!==void 0?n:[],o=>o.nodeName==="LI")},MS=e=>e.data===Ni||pr(e),UN=e=>xe(e==null?void 0:e.firstChild)&&e.firstChild===e.lastChild&&MS(e.firstChild),WN=e=>!e.firstChild||UN(e),KN=e=>e.length>0&&WN(e[e.length-1])?e.slice(0,-1):e,BS=(e,n)=>{const o=e.getParent(n,e.isBlock);return o&&o.nodeName==="LI"?o:null},jN=(e,n)=>!!BS(e,n),ZN=(e,n)=>{const o=n.cloneRange(),a=n.cloneRange();return o.setStartBefore(e),a.setEndAfter(e),[o.cloneContents(),a.cloneContents()]},FS=(e,n)=>{const o=At.before(e),c=eo(n).next(o);return c?c.toRange():null},$S=(e,n)=>{const o=At.after(e),c=eo(n).prev(o);return c?c.toRange():null},GN=(e,n,o,a)=>{const c=ZN(e,a),m=e.parentNode;return m&&(m.insertBefore(c[0],e),rn.each(n,p=>{m.insertBefore(p,e)}),m.insertBefore(c[1],e),m.removeChild(e)),$S(n[n.length-1],o)},p3=(e,n,o)=>{const a=e.parentNode;return a&&rn.each(n,c=>{a.insertBefore(c,e)}),FS(e,o)},m$=(e,n,o,a)=>(a.insertAfter(n.reverse(),e),$S(n[0],o)),g$=(e,n,o,a)=>{const c=LS(n,e,a),m=BS(n,o.startContainer),p=KN(HN(c.firstChild)),_=1,A=2,$=n.getRoot(),q=X=>{const oe=At.fromRangeStart(o),ve=eo(n.getRoot()),Oe=X===_?ve.prev(oe):ve.next(oe),ye=Oe==null?void 0:Oe.getNode();return ye?BS(n,ye)!==m:!0};return m?q(_)?p3(m,p,$):q(A)?m$(m,p,$,n):GN(m,p,$,o):null},h$=["pre"],p$=(e,n,o,a)=>{var c;const m=n.firstChild,p=n.lastChild,_=p.attr("data-mce-type")==="bookmark"?p.prev:p,A=m===_,$=we(h$,m.name);if(A&&$){const q=m.attr("contenteditable")!=="false",X=((c=e.getParent(o,e.isBlock))===null||c===void 0?void 0:c.nodeName.toLowerCase())===m.name,oe=J.from(wd(a,o)).forall(Bc);return q&&X&&oe}else return!1},b3=Op,b$=(e,n,o)=>{if(xe(o)){const a=e.getParent(n.endContainer,b3);return o===a&&z2(je.fromDom(o),n)}else return!1},VS=(e,n,o)=>{var a;if(o.getAttribute("data-mce-bogus")==="all")(a=o.parentNode)===null||a===void 0||a.insertBefore(e.dom.createFragment(n),o);else{const c=o.firstChild,m=o.lastChild;!c||c===m&&c.nodeName==="BR"?e.dom.setHTML(o,n):e.selection.setContent(n,{no_events:!0})}},v3=(e,n,o)=>{J.from(e.getParent(n,"td,th")).map(je.fromDom).each(a=>d2(a,o))},qN=(e,n)=>{const o=e.schema.getTextInlineElements(),a=e.dom;if(n){const c=e.getBody(),m=RS(e),p="*[data-mce-fragment]",_=a.select(p);rn.each(_,A=>{const $=oe=>xe(o[oe.nodeName.toLowerCase()]),q=oe=>oe.childNodes.length===1;if((oe=>!(OT(a,oe)||qP(a,oe)))(A)&&$(A)&&q(A)){const oe=d0(a,A),ve=(Ye,st)=>No(Ye,nt=>we(st,nt)),Oe=Ye=>q(A)&&a.is(Ye,p)&&$(Ye)&&(Ye.nodeName===A.nodeName&&ve(oe,d0(a,Ye))||Oe(Ye.children[0])),ye=Ye=>xe(Ye)&&Ye!==c&&(m.compare(A,Ye)||ye(Ye.parentElement)),Pe=Ye=>xe(Ye)&&Ye!==c&&a.is(Ye,p)&&(W7(a,A,Ye)||Pe(Ye.parentElement));(Oe(A.children[0])||ye(A.parentElement)&&!Pe(A.parentElement))&&a.remove(A,!0)}})}},y3=e=>{let n=e;for(;n=n.walk();)n.type===1&&n.attr("data-mce-fragment","1")},v$=e=>{rn.each(e.getElementsByTagName("*"),n=>{n.removeAttribute("data-mce-fragment")})},y$=e=>!!e.getAttribute("data-mce-fragment"),x$=(e,n)=>xe(n)&&!e.schema.getVoidElements()[n.nodeName],w$=(e,n)=>{var o,a,c;let m;const p=e.dom,_=e.selection;if(!n)return;_.scrollIntoView(n);const A=wd(e.getBody(),n);if(A&&p.getContentEditable(A)==="false"){p.remove(n),_.select(A);return}let $=p.createRng();const q=n.previousSibling;if(qt(q)){$.setStart(q,(a=(o=q.nodeValue)===null||o===void 0?void 0:o.length)!==null&&a!==void 0?a:0);const ve=n.nextSibling;qt(ve)&&(q.appendData(ve.data),(c=ve.parentNode)===null||c===void 0||c.removeChild(ve))}else $.setStartBefore(n),$.setEndBefore(n);const X=ve=>{let Oe=At.fromRangeStart(ve);return Oe=eo(e.getBody()).next(Oe),Oe==null?void 0:Oe.toRange()},oe=p.getParent(n,p.isBlock);if(p.remove(n),oe&&p.isEmpty(oe)){const ve=b3(oe);or(je.fromDom(oe)),$.setStart(oe,0),$.setEnd(oe,0),!ve&&!y$(oe)&&(m=X($))?($=m,p.remove(oe)):p.add(oe,p.create("br",ve?{}:{"data-mce-bogus":"1"}))}_.setRng($)},C$=e=>{const n=e.dom,o=NS(e.selection.getRng());e.selection.setRng(o);const a=n.getParent(o.startContainer,b3);b$(n,o,a)?r3(e,o,je.fromDom(a)):o.startContainer===o.endContainer&&o.endOffset-o.startOffset===1&&qt(o.startContainer.childNodes[o.startOffset])?o.deleteContents():e.getDoc().execCommand("Delete",!1)},_$=e=>{for(let n=e;n;n=n.walk())if(n.attr("id")==="mce_marker")return J.some(n);return J.none()},zS=(e,n,o)=>{var a;return Re(o.children(),IS)&&((a=e.getParent(n,e.isBlock))===null||a===void 0?void 0:a.nodeName)==="SUMMARY"},HS=(e,n,o)=>{var a,c;const m=e.selection,p=e.dom,_=e.parser,A=o.merge,$=Hh({validate:!0},e.schema),q='<span id="mce_marker" data-mce-type="bookmark">&#xFEFF;</span>';o.preserve_zwsp||(n=Rl(n)),n.indexOf("{$caret}")===-1&&(n+="{$caret}"),n=n.replace(/\{\$caret\}/,q);let X=m.getRng();const oe=X.startContainer,ve=e.getBody();oe===ve&&m.isCollapsed()&&p.isBlock(ve.firstChild)&&x$(e,ve.firstChild)&&p.isEmpty(ve.firstChild)&&(X=p.createRng(),X.setStart(ve.firstChild,0),X.setEnd(ve.firstChild,0),m.setRng(X)),m.isCollapsed()||C$(e);const Oe=m.getNode(),ye={context:Oe.nodeName.toLowerCase(),data:o.data,insert:!0},Pe=_.parse(n,ye);if(o.paste===!0&&kg(e.schema,Pe)&&jN(p,Oe))return X=g$($,p,m.getRng(),Pe),X&&m.setRng(X),n;o.paste===!0&&p$(p,Pe,Oe,e.getBody())&&((a=Pe.firstChild)===null||a===void 0||a.unwrap()),y3(Pe);let Ye=Pe.lastChild;if(Ye&&Ye.attr("id")==="mce_marker"){const st=Ye;for(Ye=Ye.prev;Ye;Ye=Ye.walk(!0))if(Ye.type===3||!p.isBlock(Ye.name)){Ye.parent&&e.schema.isValidChild(Ye.parent.name,"span")&&Ye.parent.insert(st,Ye,Ye.name==="br");break}}if(e._selectionOverrides.showBlockCaretContainer(Oe),!ye.invalid&&!zS(p,Oe,Pe))n=$.serialize(Pe),VS(e,n,Oe);else{e.selection.setContent(q);let st=m.getNode(),nt;const yt=e.getBody();for($n(st)?st=nt=yt:nt=st;nt&&nt!==yt;)st=nt,nt=nt.parentNode;n=st===yt?yt.innerHTML:p.getOuterHTML(st);const Ut=_.parse(n),on=_$(Ut),_n=on.bind(jh).getOr(Ut);on.each(Pn=>Pn.replace(Pe));const Pt=Pe.children(),St=(c=Pe.parent)!==null&&c!==void 0?c:Ut;Pe.unwrap();const zt=Ge(Pt,Pn=>Aw(e.schema,Pn,St));Iu(zt,e.schema,_n),d3(_.getNodeFilters(),_.getAttributeFilters(),Ut),n=$.serialize(Ut),st===yt?p.setHTML(yt,n):p.setOuterHTML(st,n)}return qN(e,A),w$(e,p.get("mce_marker")),v$(e.getBody()),v3(p,m.getStart(),e.schema),Jd(e.schema,e.getBody(),m.getStart()),n},y0=e=>e instanceof Ba,S$=e=>{xy(e)&&ao(e.getBody()).each(n=>{const o=n.getNode(),a=bu(o)?ao(o).getOr(n):n;e.selection.setRng(a.toRange())})},x3=(e,n,o)=>{e.dom.setHTML(e.getBody(),n),o!==!0&&S$(e)},k$=(e,n,o,a)=>{if(o=Rl(o),o.length===0||/^\s+$/.test(o)){const c='<br data-mce-bogus="1">';n.nodeName==="TABLE"?o="<tr><td>"+c+"</td></tr>":/^(UL|OL)$/.test(n.nodeName)&&(o="<li>"+c+"</li>");const m=gl(e);return e.schema.isValidChild(n.nodeName.toLowerCase(),m.toLowerCase())?(o=c,o=e.dom.createHTML(m,_2(e),o)):o||(o=c),x3(e,o,a.no_selection),{content:o,html:o}}else{a.format!=="raw"&&(o=Hh({validate:!1},e.schema).serialize(e.parser.parse(o,{isRootContent:!0,insert:!0})));const c=Pv(je.fromDom(n))?o:rn.trim(o);return x3(e,c,a.no_selection),{content:c,html:c}}},E$=(e,n,o,a)=>{d3(e.parser.getNodeFilters(),e.parser.getAttributeFilters(),o);const c=Hh({validate:!1},e.schema).serialize(o),m=Rl(Pv(je.fromDom(n))?c:rn.trim(c));return x3(e,m,a.no_selection),{content:o,html:m}},A$=(e,n,o)=>J.from(e.getBody()).map(a=>y0(n)?E$(e,a,n,o):k$(e,a,n,o)).getOr({content:n,html:y0(o.content)?"":o.content}),YN=e=>_e(e)?e:In,gf=(e,n,o)=>{let a=e.dom;const c=YN(o);for(;a.parentNode;){a=a.parentNode;const m=je.fromDom(a),p=n(m);if(p.isSome())return p;if(c(m))break}return J.none()},Tw=(e,n,o)=>{const a=n(e),c=YN(o);return a.orThunk(()=>c(e)?J.none():gf(e,n,c))},US=py,w3=(e,n,o)=>{const a=e.formatter.get(o);if(a)for(let c=0;c<a.length;c++){const m=a[c];if(Gc(m)&&m.inherit===!1&&e.dom.is(n,m.selector))return!0}return!1},WS=(e,n,o,a,c)=>{const m=e.dom.getRoot();if(n===m)return!1;const p=e.dom.getParent(n,_=>w3(e,_,o)?!0:_.parentNode===m||!!Eg(e,_,o,a,!0));return!!Eg(e,p,o,a,c)},KS=(e,n,o)=>Ca(o)&&US(n,o.inline)||cm(o)&&US(n,o.block)?!0:Gc(o)?Ln(n)&&e.is(n,o.selector):!1,C3=(e,n,o,a,c,m)=>{const p=o[a],_=a==="attributes";if(_e(o.onmatch))return o.onmatch(n,o,a);if(p){if(mn(p)){for(let A=0;A<p.length;A++)if(_?e.getAttrib(n,p[A]):U2(e,n,p[A]))return!0}else for(const A in p)if(yo(p,A)){const $=_?e.getAttrib(n,A):U2(e,n,A),q=Bh(p[A],m),X=rt($)||Xt($);if(X&&rt(q))continue;if(c&&X&&!o.exact||(!c||o.exact)&&!US($,L_(q,A)))return!1}}return!0},Eg=(e,n,o,a,c)=>{const m=e.formatter.get(o),p=e.dom;if(m&&Ln(n))for(let _=0;_<m.length;_++){const A=m[_];if(KS(e.dom,n,A)&&C3(p,n,A,"attributes",c,a)&&C3(p,n,A,"styles",c,a)){const $=A.classes;if($){for(let q=0;q<$.length;q++)if(!e.dom.hasClass(n,Bh($[q],a)))return}return A}}},mb=(e,n,o,a,c)=>{if(a)return WS(e,a,n,o,c);if(a=e.selection.getNode(),WS(e,a,n,o,c))return!0;const m=e.selection.getStart();return!!(m!==a&&WS(e,m,n,o,c))},XN=(e,n,o)=>{const a=[],c={},m=e.selection.getStart();return e.dom.getParent(m,p=>{for(let _=0;_<n.length;_++){const A=n[_];!c[A]&&Eg(e,p,A,o)&&(c[A]=!0,a.push(A))}},e.dom.getRoot()),a},JN=(e,n)=>{const o=c=>ss(c,je.fromDom(e.getBody())),a=(c,m)=>Eg(e,c.dom,m)?J.some(m):J.none();return J.from(e.selection.getStart(!0)).bind(c=>Tw(je.fromDom(c),m=>li(n,p=>a(m,p)),o)).getOrNull()},QN=(e,n)=>{const o=e.formatter.get(n),a=e.dom;if(o&&e.selection.isEditable()){const c=e.selection.getStart(),m=W2(a,c);for(let p=o.length-1;p>=0;p--){const _=o[p];if(!Gc(_))return!0;for(let A=m.length-1;A>=0;A--)if(a.is(m[A],_.selector))return!0}}return!1},_3=(e,n,o)=>cn(o,(a,c)=>{const m=VD(e,c);return e.formatter.matchNode(n,c,{},m)?a.concat([c]):a},[]),Ow=Ei,T$=(e,n)=>e.importNode(n,!0),e5=e=>{if(e){const n=new pa(e,e);for(let o=n.current();o;o=n.next())if(qt(o))return o}return null},Ag=e=>{const n=je.fromTag("span");return za(n,{id:dy,"data-mce-bogus":"1","data-mce-type":"format-caret"}),e&&Ur(n,je.fromText(Ow)),n},S3=e=>{const n=e5(e);return n&&n.data.charAt(0)===Ow&&n.deleteData(0,1),n},k3=(e,n,o)=>{const a=e.dom,c=e.selection;if(ZA(n))Dl(e,!1,je.fromDom(n),o,!0);else{const m=c.getRng(),p=a.getParent(n,a.isBlock),_=m.startContainer,A=m.startOffset,$=m.endContainer,q=m.endOffset,X=S3(n);a.remove(n,!0),_===X&&A>0&&m.setStart(X,A-1),$===X&&q>0&&m.setEnd(X,q-1),p&&a.isEmpty(p)&&Wc(je.fromDom(p)),c.setRng(m)}},E3=(e,n,o)=>{const a=e.dom,c=e.selection;if(n)k3(e,n,o);else if(n=qp(e.getBody(),c.getStart()),!n)for(;n=a.get(dy);)k3(e,n,o)},x0=(e,n,o)=>{var a,c;const m=e.dom,p=m.getParent(o,et(N_,e.schema));p&&m.isEmpty(p)?(a=o.parentNode)===null||a===void 0||a.replaceChild(n,o):(mc(je.fromDom(o)),m.isEmpty(o)?(c=o.parentNode)===null||c===void 0||c.replaceChild(n,o):m.insertAfter(n,o))},A3=(e,n)=>(e.appendChild(n),n),Rw=(e,n)=>{var o;const a=pt(e,(m,p)=>A3(m,p.cloneNode(!1)),n),c=(o=a.ownerDocument)!==null&&o!==void 0?o:document;return A3(a,c.createTextNode(Ow))},O$=(e,n,o,a,c,m)=>{const p=e.formatter,_=e.dom,A=Ge(en(p.get()),X=>X!==a&&!Bs(X,"removeformat")),$=_3(e,o,A);if(Ge($,X=>!zD(e,X,a)).length>0){const X=o.cloneNode(!1);return _.add(n,X),p.remove(a,c,X,m),_.remove(X),J.some(X)}else return J.none()},t5=e=>Tv(e,ig(e).replace(new RegExp(`${Ni}$`)," ")),T3=(e,n)=>{const o=()=>{n!==null&&!e.dom.isEmpty(n)&&Si(je.fromDom(n)).each(a=>{ur(a)?t5(a):Yi(a,c=>ur(c)).each(c=>{ur(c)&&t5(c)})})};e.once("input",a=>{a.data&&!t0(a.data)&&(a.isComposing?e.once("compositionend",()=>{o()}):o())})},Zh=(e,n,o)=>{let a;const c=e.selection,m=e.formatter.get(n);if(!m)return;const p=c.getRng();let _=p.startOffset;const $=p.startContainer.nodeValue;a=qp(e.getBody(),c.getStart());const q=/[^\s\u00a0\u00ad\u200b\ufeff]/;if($&&_>0&&_<$.length&&q.test($.charAt(_))&&q.test($.charAt(_-1))){const X=c.getBookmark();p.collapse(!0);let oe=Jp(e.dom,p,m);oe=iw(oe),e.formatter.apply(n,o,oe),c.moveToBookmark(X)}else{let X=a?e5(a):null;(!a||(X==null?void 0:X.data)!==Ow)&&(a=T$(e.getDoc(),Ag(!0).dom),X=a.firstChild,p.insertNode(a),_=1,T3(e,a)),e.formatter.apply(n,o,a),c.setCursorLocation(X,_)}},O3=(e,n,o,a)=>{const c=e.dom,m=e.selection;let p=!1;const _=e.formatter.get(n);if(!_)return;const A=m.getRng(),$=A.startContainer,q=A.startOffset;let X=$;qt($)&&(q!==$.data.length&&(p=!0),X=X.parentNode);const oe=[];let ve;for(;X;){if(Eg(e,X,n,o,a)){ve=X;break}X.nextSibling&&(p=!0),oe.push(X),X=X.parentNode}if(ve)if(p){const Oe=m.getBookmark();A.collapse(!0);let ye=Jp(c,A,_,!0);ye=iw(ye),e.formatter.remove(n,o,ye,a),m.moveToBookmark(Oe)}else{const Oe=qp(e.getBody(),ve),ye=xe(Oe)?c.getParents(ve.parentNode,sn,Oe):[],Pe=Ag(!1).dom;x0(e,Pe,Oe??ve);const Ye=O$(e,Pe,ve,n,o,a),st=Rw([...oe,...Ye.toArray(),...ye],Pe);Oe&&k3(e,Oe,xe(Oe)),m.setCursorLocation(st,1),T3(e,Pe),c.isEmpty(ve)&&c.remove(ve)}},R3=(e,n,o)=>{const a=e.selection,c=e.getBody();E3(e,null,o),(n===8||n===46)&&a.isCollapsed()&&a.getStart().innerHTML===Ow&&E3(e,qp(c,a.getStart()),!0),(n===37||n===39)&&E3(e,qp(c,a.getStart()),!0)},I3=e=>qt(e)&&De(e.data,Ni),n5=e=>{e.on("mouseup keydown",n=>{R3(e,n.keyCode,I3(e.selection.getRng().endContainer))})},D3=e=>{const n=Ag(!1),o=Rw(e,n.dom);return{caretContainer:n,caretPosition:At(o,0)}},P3=(e,n)=>{const{caretContainer:o,caretPosition:a}=D3(n);return Or(je.fromDom(e),o),Ns(je.fromDom(e)),a},R$=(e,n)=>{const{caretContainer:o,caretPosition:a}=D3(n);return e.insertNode(o.dom),a},Dy=(e,n)=>{if(Tu(n.dom))return!1;const o=e.schema.getTextInlineElements();return yo(o,os(n))&&!Tu(n.dom)&&!Vf(n.dom)},gb={},N3=ba(["pre"]),o5=(e,n)=>{gb[e]||(gb[e]=[]),gb[e].push(n)},s5=(e,n)=>{yo(gb,e)&&be(gb[e],o=>{o(n)})};o5("pre",e=>{const n=e.selection.getRng(),o=c=>m=>{const p=m.previousSibling;return N3(p)&&we(c,p)},a=(c,m)=>{const p=je.fromDom(m),_=lc(p).dom;Ns(p),oi(je.fromDom(c),[je.fromTag("br",_),je.fromTag("br",_),...ha(p)])};if(!n.collapsed){const c=e.selection.getSelectedBlocks(),m=Ge(Ge(c,N3),o(c));be(m,p=>{a(p.previousSibling,p)})}});const L3=["fontWeight","fontStyle","color","fontSize","fontFamily"],jS=e=>j(e.styles)&&Re(en(e.styles),n=>we(L3,n)),M3=e=>xn(e,n=>Ca(n)&&n.inline==="span"&&jS(n)),Py=(e,n)=>{const o=e.get(n);return ne(o)?M3(o):J.none()},r5=(e,n)=>Zc(n,At.fromRangeStart(e)).isNone(),B3=(e,n)=>ec(n,At.fromRangeEnd(e)).exists(o=>!pr(o.getNode())||ec(n,o).isSome())===!1,i5=e=>n=>Nx(n)&&e.isEditable(n),I$=e=>{const n=e.getSelectedBlocks(),o=e.getRng();if(e.isCollapsed())return[];if(n.length===1)return r5(o,n[0])&&B3(o,n[0])?n:[];{const a=On(n).filter(p=>r5(o,p)).toArray(),c=vo(n).filter(p=>B3(o,p)).toArray(),m=n.slice(1,-1);return a.concat(m).concat(c)}},a5=e=>Ge(I$(e),i5(e.dom)),F3=e=>Ge(e.getSelectedBlocks(),i5(e.dom)),$3=rn.each,ZS=e=>Ln(e)&&!Ou(e)&&!Tu(e)&&!Vf(e),hb=(e,n)=>{for(let o=e;o;o=o[n]){if(qt(o)&&ot(o.data))return e;if(Ln(o)&&!Ou(o))return o}return e},V3=(e,n,o)=>{const a=RS(e),c=pu(n)&&e.dom.isEditable(n),m=pu(o)&&e.dom.isEditable(o);if(c&&m){const p=hb(n,"previousSibling"),_=hb(o,"nextSibling");if(a.compare(p,_)){for(let A=p.nextSibling;A&&A!==_;){const $=A;A=A.nextSibling,p.appendChild($)}return e.dom.remove(_),rn.each(rn.grep(_.childNodes),A=>{p.appendChild(A)}),p}}return o},GS=(e,n,o,a)=>{var c;if(a&&n.merge_siblings!==!1){const m=(c=V3(e,n0(a),a))!==null&&c!==void 0?c:a;V3(e,m,n0(m,!0))}},l5=(e,n,o)=>{if(n.clear_child_styles){const a=n.links?"*:not(a)":"*";$3(e.select(a,o),c=>{ZS(c)&&e.isEditable(c)&&$3(n.styles,(m,p)=>{e.setStyle(c,p,"")})})}},Iw=(e,n,o)=>{$3(e.childNodes,a=>{ZS(a)&&(n(a)&&o(a),a.hasChildNodes()&&Iw(a,n,o))})},pb=(e,n)=>{n.nodeName==="SPAN"&&e.getAttribs(n).length===0&&e.remove(n,!0)},z3=(e,n)=>o=>!!(o&&U2(e,o,n)),Du=(e,n,o)=>a=>{e.setStyle(a,n,o),a.getAttribute("style")===""&&a.removeAttribute("style"),pb(e,a)},Cd=ts.generate([{keep:[]},{rename:["name"]},{removed:[]}]),H3=/^(src|href|style)$/,qS=rn.each,YS=py,c5=e=>/^(TR|TH|TD)$/.test(e.nodeName),w0=(e,n,o)=>e.isChildOf(n,o)&&n!==o&&!e.isBlock(o),Dw=(e,n,o)=>{let a=n[o?"startContainer":"endContainer"],c=n[o?"startOffset":"endOffset"];if(Ln(a)){const m=a.childNodes.length-1;!o&&c&&c--,a=a.childNodes[c>m?m:c]}return qt(a)&&o&&c>=a.data.length&&(a=new pa(a,e.getBody()).next()||a),qt(a)&&!o&&c===0&&(a=new pa(a,e.getBody()).prev()||a),a},U3=(e,n)=>{const o=n?"firstChild":"lastChild",a=e[o];return c5(e)&&a?e.nodeName==="TR"&&a[o]||a:e},XS=(e,n,o,a)=>{var c;const m=e.create(o,a);return(c=n.parentNode)===null||c===void 0||c.insertBefore(m,n),m.appendChild(n),m},JS=(e,n,o,a,c)=>{const m=je.fromDom(n),p=je.fromDom(e.create(a,c)),_=o?Hm(m):td(m);return oi(p,_),o?(Or(m,p),Ka(p,m)):(mt(m,p),Ur(p,m)),p.dom},D$=(e,n)=>n.links&&e.nodeName==="A",u5=(e,n,o)=>{const a=n.parentNode;let c;const m=e.dom,p=gl(e);cm(o)&&a===m.getRoot()&&(!o.list_block||!YS(n,o.list_block))&&be(Do(n.childNodes),_=>{Yp(e,p,_.nodeName.toLowerCase())?c?c.appendChild(_):(c=XS(m,_,p),m.setAttribs(c,_2(e))):c=null}),!(WD(o)&&!YS(o.inline,n))&&m.remove(n,!0)},W3=(e,n,o)=>R(e)?{name:n,value:null}:{name:e,value:Bh(n,o)},d5=(e,n)=>{e.getAttrib(n,"style")===""&&(n.removeAttribute("style"),n.removeAttribute("data-mce-style"))},Jc=(e,n,o,a,c)=>{let m=!1;qS(o.styles,(p,_)=>{const{name:A,value:$}=W3(_,p,a),q=L_($,A);(o.remove_similar||Ve($)||!Ln(c)||YS(U2(e,c,A),q))&&e.setStyle(n,A,""),m=!0}),m&&d5(e,n)},K3=(e,n,o)=>{n==="removeformat"?be(F3(e.selection),a=>{be(L3,c=>e.dom.setStyle(a,c,"")),d5(e.dom,a)}):Py(e.formatter,n).each(a=>{be(F3(e.selection),c=>Jc(e.dom,c,a,o,null))})},j3=(e,n,o,a,c)=>{const m=e.dom,p=RS(e),_=e.schema;if(Ca(n)&&uv(_,n.inline)&&Wf(_,a)&&a.parentElement===e.getBody())return u5(e,a,n),Cd.removed();if(!n.ceFalseOverride&&a&&m.getContentEditableParent(a)==="false"||a&&!KS(m,a,n)&&!D$(a,n))return Cd.keep();const A=a,$=n.preserve_attributes;if(Ca(n)&&n.remove==="all"&&ne($)){const q=Ge(m.getAttribs(A),X=>we($,X.name.toLowerCase()));if(m.removeAllAttribs(A),be(q,X=>m.setAttrib(A,X.name,X.value)),q.length>0)return Cd.rename("span")}if(n.remove!=="all"){Jc(m,A,n,o,c),qS(n.attributes,(X,oe)=>{const{name:ve,value:Oe}=W3(oe,X,o);if(n.remove_similar||Ve(Oe)||!Ln(c)||YS(m.getAttrib(c,ve),Oe)){if(ve==="class"){const ye=m.getAttrib(A,ve);if(ye){let Pe="";if(be(ye.split(/\s+/),Ye=>{/mce\-\w+/.test(Ye)&&(Pe+=(Pe?" ":"")+Ye)}),Pe){m.setAttrib(A,ve,Pe);return}}}if(H3.test(ve)&&A.removeAttribute("data-mce-"+ve),ve==="style"&&ba(["li"])(A)&&m.getStyle(A,"list-style-type")==="none"){A.removeAttribute(ve),m.setStyle(A,"list-style-type","none");return}ve==="class"&&A.removeAttribute("className"),A.removeAttribute(ve)}}),qS(n.classes,X=>{X=Bh(X,o),(!Ln(c)||m.hasClass(c,X))&&m.removeClass(A,X)});const q=m.getAttribs(A);for(let X=0;X<q.length;X++){const oe=q[X].nodeName;if(!p.isAttributeInternal(oe))return Cd.keep()}}return n.remove!=="none"?(u5(e,A,n),Cd.removed()):Cd.keep()},Z3=(e,n,o,a,c)=>{let m;return n.parentNode&&be(W2(e.dom,n.parentNode).reverse(),p=>{if(!m&&Ln(p)&&p.id!=="_start"&&p.id!=="_end"){const _=Eg(e,p,o,a,c);_&&_.split!==!1&&(m=p)}}),m},f5=(e,n,o,a)=>j3(e,n,o,a,a).fold(dt(a),c=>(e.dom.createFragment().appendChild(a),e.dom.rename(a,c)),dt(null)),Pw=(e,n,o,a,c,m,p,_)=>{var A,$;let q,X;const oe=e.dom;if(o){const ve=o.parentNode;for(let Oe=a.parentNode;Oe&&Oe!==ve;Oe=Oe.parentNode){let ye=oe.clone(Oe,!1);for(let Pe=0;Pe<n.length&&(ye=f5(e,n[Pe],_,ye),ye!==null);Pe++);ye&&(q&&ye.appendChild(q),X||(X=ye),q=ye)}(!p.mixed||!oe.isBlock(o))&&(a=(A=oe.split(o,a))!==null&&A!==void 0?A:a),q&&X&&(($=c.parentNode)===null||$===void 0||$.insertBefore(q,c),X.appendChild(c),Ca(p)&&GS(e,p,_,q))}return a},Gh=(e,n,o,a,c)=>{const m=e.formatter.get(n),p=m[0],_=e.dom,A=e.selection,$=ye=>{const Pe=Z3(e,ye,n,o,c);return Pw(e,m,Pe,ye,ye,!0,p,o)},q=ye=>Ou(ye)&&Ln(ye)&&(ye.id==="_start"||ye.id==="_end"),X=ye=>Re(m,Pe=>vb(e,Pe,o,ye,ye)),oe=ye=>{const Pe=Do(ye.childNodes),st=X(ye)||Re(m,Ut=>KS(_,ye,Ut)),nt=ye.parentNode;if(!st&&xe(nt)&&B_(p)&&X(nt),p.deep&&Pe.length)for(let Ut=0;Ut<Pe.length;Ut++)oe(Pe[Ut]);be(["underline","line-through","overline"],Ut=>{Ln(ye)&&e.dom.getStyle(ye,"text-decoration")===Ut&&ye.parentNode&&jA(_,ye.parentNode)===Ut&&vb(e,{deep:!1,exact:!0,inline:"span",styles:{textDecoration:Ut}},void 0,ye)})},ve=ye=>{const Pe=_.get(ye?"_start":"_end");if(Pe){let Ye=Pe[ye?"firstChild":"lastChild"];return q(Ye)&&(Ye=Ye[ye?"firstChild":"lastChild"]),qt(Ye)&&Ye.data.length===0&&(Ye=ye?Pe.previousSibling||Pe.nextSibling:Pe.nextSibling||Pe.previousSibling),_.remove(Pe,!0),Ye}else return null},Oe=ye=>{let Pe,Ye,st=Jp(_,ye,m,ye.collapsed);if(p.split){if(st=iw(st),Pe=Dw(e,st,!0),Ye=Dw(e,st),Pe!==Ye){if(Pe=U3(Pe,!0),Ye=U3(Ye,!1),w0(_,Pe,Ye)){const yt=J.from(Pe.firstChild).getOr(Pe);$(JS(_,yt,!0,"span",{id:"_start","data-mce-type":"bookmark"})),ve(!0);return}if(w0(_,Ye,Pe)){const yt=J.from(Ye.lastChild).getOr(Ye);$(JS(_,yt,!1,"span",{id:"_end","data-mce-type":"bookmark"})),ve(!1);return}Pe=XS(_,Pe,"span",{id:"_start","data-mce-type":"bookmark"}),Ye=XS(_,Ye,"span",{id:"_end","data-mce-type":"bookmark"});const nt=_.createRng();nt.setStartAfter(Pe),nt.setEndBefore(Ye),G2(_,nt,yt=>{be(yt,Ut=>{!Ou(Ut)&&!Ou(Ut.parentNode)&&$(Ut)})}),$(Pe),$(Ye),Pe=ve(!0),Ye=ve()}else Pe=Ye=$(Pe);st.startContainer=Pe.parentNode?Pe.parentNode:Pe,st.startOffset=_.nodeIndex(Pe),st.endContainer=Ye.parentNode?Ye.parentNode:Ye,st.endOffset=_.nodeIndex(Ye)+1}G2(_,st,nt=>{be(nt,oe)})};if(a){if(hy(a)){const ye=_.createRng();ye.setStartBefore(a),ye.setEndAfter(a),Oe(ye)}else Oe(a);QD(e,n,a,o);return}!A.isCollapsed()||!Ca(p)||lm(e).length?(UA(e,()=>gy(e,Oe),ye=>Ca(p)&&mb(e,n,o,ye)),e.nodeChanged()):O3(e,n,o,c),K3(e,n,o),QD(e,n,a,o)},bb=(e,n,o,a,c)=>{(a||e.selection.isEditable())&&Gh(e,n,o,a,c)},vb=(e,n,o,a,c)=>j3(e,n,o,a,c).fold(In,m=>(e.dom.rename(a,m),!0),sn),QS=rn.each,G3=(e,n,o,a)=>{const c=m=>{if(pu(m)&&Ln(m.parentNode)&&e.isEditable(m)){const p=jA(e,m.parentNode);e.getStyle(m,"color")&&p?e.setStyle(m,"text-decoration",p):e.getStyle(m,"text-decoration")===p&&e.setStyle(m,"text-decoration",null)}};n.styles&&(n.styles.color||n.styles.textDecoration)&&(rn.walk(a,c,"childNodes"),c(a))},m5=(e,n,o,a)=>{if(n.styles&&n.styles.backgroundColor){const c=z3(e,"fontSize");Iw(a,m=>c(m)&&e.isEditable(m),Du(e,"backgroundColor",Bh(n.styles.backgroundColor,o)))}},P$=(e,n,o,a)=>{if(Ca(n)&&(n.inline==="sub"||n.inline==="sup")){const c=z3(e,"fontSize");Iw(a,p=>c(p)&&e.isEditable(p),Du(e,"fontSize",""));const m=Ge(e.select(n.inline==="sup"?"sub":"sup",a),e.isEditable);e.remove(m,!0)}},g5=(e,n,o,a)=>{QS(n,c=>{Ca(c)&&QS(e.dom.select(c.inline,a),m=>{ZS(m)&&vb(e,c,o,m,c.exact?m:null)}),l5(e.dom,c,a)})},h5=(e,n,o,a,c)=>{const m=c.parentNode;Eg(e,m,o,a)&&vb(e,n,a,c)||n.merge_with_parents&&m&&e.dom.getParent(m,p=>Eg(e,p,o,a)?(vb(e,n,a,c),!0):!1)},Nw=rn.each,p5=(e,n,o,a)=>{if(E8(e)&&Ca(n)&&o.parentNode){const c=R1(e.schema),m=ov(je.fromDom(o),p=>Tu(p.dom));return Gl(c,a)&&dc(e.schema,o.parentNode,{skipBogus:!1,includeZwsp:!0})&&!m}else return!1},b5=(e,n,o,a)=>{if(Nw(o.styles,(c,m)=>{e.setStyle(n,m,Bh(c,a))}),o.styles){const c=e.getAttrib(n,"style");c&&e.setAttrib(n,"data-mce-style",c)}},N$=(e,n,o,a)=>{const c=e.formatter.get(n),m=c[0],p=!a&&e.selection.isCollapsed(),_=e.dom,A=e.selection,$=(Oe,ye=m)=>{_e(ye.onformat)&&ye.onformat(Oe,ye,o,a),b5(_,Oe,ye,o),Nw(ye.attributes,(Pe,Ye)=>{_.setAttrib(Oe,Ye,Bh(Pe,o))}),Nw(ye.classes,Pe=>{const Ye=Bh(Pe,o);_.hasClass(Oe,Ye)||_.addClass(Oe,Ye)})},q=(Oe,ye)=>{let Pe=!1;return Nw(Oe,Ye=>Gc(Ye)?_.getContentEditable(ye)==="false"&&!Ye.ceFalseOverride||xe(Ye.collapsed)&&Ye.collapsed!==p?!0:_.is(ye,Ye.selector)&&!Tu(ye)?($(ye,Ye),Pe=!0,!1):!0:!1),Pe},X=Oe=>{if(le(Oe)){const ye=_.create(Oe);return $(ye),ye}else return null},oe=(Oe,ye,Pe)=>{const Ye=[];let st=!0;const nt=m.inline||m.block,yt=X(nt),Ut=Pt=>HD(m)&&Eg(e,Pt,n,o),on=(Pt,St,zt)=>{const Pn=UD(m)&&N_(e.schema,Pt)&&Yp(e,St,nt);return zt&&Pn},_n=(Pt,St,zt,Pn)=>{const jn=Pt.nodeName.toLowerCase(),Ho=Yp(e,nt,jn)&&Yp(e,St,nt),qo=!Pe&&qt(Pt)&&Kc(Pt.data),Ls=Tu(Pt),js=!Ca(m)||!Oe.isBlock(Pt);return(zt||Pn)&&Ho&&!qo&&!Ls&&js};G2(Oe,ye,Pt=>{let St;const zt=Pn=>{let jn=!1,Ho=st,qo=!1;const Ls=Pn.parentNode,js=Ls.nodeName.toLowerCase(),mi=Oe.getContentEditable(Pn);xe(mi)&&(Ho=st,st=mi==="true",jn=!0,qo=KA(e,Pn));const Ll=st&&!jn;if(pr(Pn)&&!p5(e,m,Pn,js)){St=null,cm(m)&&Oe.remove(Pn);return}if(Ut(Pn)){St=null;return}if(on(Pn,js,Ll)){const er=Oe.rename(Pn,nt);$(er),Ye.push(er),St=null;return}if(Gc(m)){let er=q(c,Pn);if(!er&&xe(Ls)&&B_(m)&&(er=q(c,Ls)),!Ca(m)||er){St=null;return}}xe(yt)&&_n(Pn,js,Ll,qo)?(St||(St=Oe.clone(yt,!1),Ls.insertBefore(St,Pn),Ye.push(St)),qo&&jn&&(st=Ho),St.appendChild(Pn)):(St=null,be(Do(Pn.childNodes),zt),jn&&(st=Ho),St=null)};be(Pt,zt)}),m.links===!0&&be(Ye,Pt=>{const St=zt=>{zt.nodeName==="A"&&$(zt,m),be(Do(zt.childNodes),St)};St(Pt)}),be(Ye,Pt=>{const St=jn=>{let Ho=0;return be(jn.childNodes,qo=>{!e7(qo)&&!Ou(qo)&&Ho++}),Ho},zt=jn=>xn(jn.childNodes,P_).filter(qo=>Oe.getContentEditable(qo)!=="false"&&KS(Oe,qo,m)).map(qo=>{const Ls=Oe.clone(qo,!1);return $(Ls),Oe.replace(Ls,jn,!0),Oe.remove(qo,!0),Ls}).getOr(jn),Pn=St(Pt);if((Ye.length>1||!Oe.isBlock(Pt))&&Pn===0){Oe.remove(Pt,!0);return}(Ca(m)||cm(m)&&m.wrapper)&&(!m.exact&&Pn===1&&(Pt=zt(Pt)),g5(e,c,o,Pt),h5(e,m,n,o,Pt),m5(Oe,m,o,Pt),G3(Oe,m,o,Pt),P$(Oe,m,o,Pt),GS(e,m,o,Pt))})},ve=hy(a)?a:A.getNode();if(_.getContentEditable(ve)==="false"&&!KA(e,ve)){a=ve,q(c,a),JD(e,n,a,o);return}if(m){if(a)if(hy(a)){if(!q(c,a)){const Oe=_.createRng();Oe.setStartBefore(a),Oe.setEndAfter(a),oe(_,Jp(_,Oe,c),!0)}}else oe(_,a,!0);else!p||!Ca(m)||lm(e).length?(A.setRng(NS(A.getRng())),UA(e,()=>{gy(e,(Oe,ye)=>{const Pe=ye?Oe:Jp(_,Oe,c);oe(_,Pe,!1)})},sn),e.nodeChanged()):Zh(e,n,o),Py(e.formatter,n).each(Oe=>{be(a5(e.selection),ye=>b5(_,ye,Oe,o))});s5(n,e)}JD(e,n,a,o)},v5=(e,n,o,a)=>{(a||e.selection.isEditable())&&N$(e,n,o,a)},tc=e=>yo(e,"vars"),y5=(e,n)=>{e.set({}),n.on("NodeChange",o=>{Y3(n,o.element,e.get())}),n.on("FormatApply FormatRemove",o=>{const a=J.from(o.node).map(c=>hy(c)?c:c.startContainer).bind(c=>Ln(c)?J.some(c):J.from(c.parentElement)).getOrThunk(()=>Ny(n));Y3(n,a,e.get())})},Ny=e=>e.selection.getStart(),x5=(e,n,o,a,c)=>jt(n,_=>{const A=e.formatter.matchNode(_,o,c??{},a);return!Xe(A)},_=>w3(e,_,o)?!0:a?!1:xe(e.formatter.matchNode(_,o,c,!0))),q3=(e,n)=>{const o=n??Ny(e);return Ge(W2(e.dom,o),a=>Ln(a)&&!Vf(a))},Y3=(e,n,o)=>{const a=q3(e,n);fs(o,(c,m)=>{const p=_=>{const A=x5(e,a,m,_.similar,tc(_)?_.vars:void 0),$=A.isSome();if(_.state.get()!==$){_.state.set($);const q=A.getOr(n);tc(_)?_.callback($,{node:q,format:m,parents:a}):be(_.callbacks,X=>X($,{node:q,format:m,parents:a}))}};be([c.withSimilar,c.withoutSimilar],p),be(c.withVars,p)})},X3=(e,n,o,a,c,m)=>{const p=n.get();be(o.split(","),_=>{const A=Ps(p,_).getOrThunk(()=>{const q={withSimilar:{state:Li(!1),similar:!0,callbacks:[]},withoutSimilar:{state:Li(!1),similar:!1,callbacks:[]},withVars:[]};return p[_]=q,q}),$=()=>{const q=q3(e);return x5(e,q,_,c,m).isSome()};if(Xe(m)){const q=c?A.withSimilar:A.withoutSimilar;q.callbacks.push(a),q.callbacks.length===1&&q.state.set($())}else A.withVars.push({state:Li($()),similar:c,vars:m,callback:a})}),n.set(p)},w5=(e,n,o)=>{const a=e.get();be(n.split(","),c=>Ps(a,c).each(m=>{a[c]={withSimilar:{...m.withSimilar,callbacks:Ge(m.withSimilar.callbacks,p=>p!==o)},withoutSimilar:{...m.withoutSimilar,callbacks:Ge(m.withoutSimilar.callbacks,p=>p!==o)},withVars:Ge(m.withVars,p=>p.callback!==o)}})),e.set(a)},L$=(e,n,o,a,c,m)=>(X3(e,n,o,a,c,m),{unbind:()=>w5(n,o,a)}),M$=(e,n,o,a)=>{const c=e.formatter.get(n);c&&(mb(e,n,o,a)&&(!("toggle"in c[0])||c[0].toggle)?bb(e,n,o,a):v5(e,n,o,a))},C5=rn.explode,ek=()=>{const e={};return{addFilter:(c,m)=>{be(C5(c),p=>{yo(e,p)||(e[p]={name:p,callbacks:[]}),e[p].callbacks.push(m)})},getFilters:()=>Gu(e),removeFilter:(c,m)=>{be(C5(c),p=>{if(yo(e,p))if(xe(m)){const _=e[p],A=Ge(_.callbacks,$=>$!==m);A.length>0?_.callbacks=A:delete e[p]}else delete e[p]})}}},B$=(e,n)=>{be(n,o=>{e.attr(o,null)})},F$=(e,n,o)=>{e.addNodeFilter("font",a=>{be(a,c=>{const m=n.parse(c.attr("style")),p=c.attr("color"),_=c.attr("face"),A=c.attr("size");p&&(m.color=p),_&&(m["font-family"]=_),A&&vn(A).each($=>{m["font-size"]=o[$-1]}),c.name="span",c.attr("style",n.serialize(m)),B$(c,["color","face","size"])})})},_5=(e,n,o)=>{e.addNodeFilter("strike",a=>{const c=n.type!=="html4";be(a,m=>{if(c)m.name="s";else{const p=o.parse(m.attr("style"));p["text-decoration"]="line-through",m.name="span",m.attr("style",o.serialize(p))}})})},$$=(e,n,o)=>{var a;const c=Jx();n.convert_fonts_to_spans&&F$(e,c,rn.explode((a=n.font_size_legacy_values)!==null&&a!==void 0?a:"")),_5(e,o,c)},V$=(e,n,o)=>{n.inline_styles&&$$(e,n,o)},J3=e=>fetch(e).then(n=>n.ok?n.blob():Promise.reject()).catch(()=>Promise.reject({message:`Cannot convert ${e} to Blob. Resource might not exist or is inaccessible.`,uriType:"blob"})),tk=e=>{const n=/([a-z0-9+\/=\s]+)/i.exec(e);return n?n[1]:""},nk=e=>{const[n,...o]=e.split(","),a=o.join(","),c=/data:([^/]+\/[^;]+)(;.+)?/.exec(n);if(c){const m=c[2]===";base64",p=m?tk(a):decodeURIComponent(a);return J.some({type:c[1],data:p,base64Encoded:m})}else return J.none()},Q3=(e,n,o=!0)=>{let a=n;if(o)try{a=atob(n)}catch{return J.none()}const c=new Uint8Array(a.length);for(let m=0;m<c.length;m++)c[m]=a.charCodeAt(m);return J.some(new Blob([c],{type:e}))},e4=e=>new Promise((n,o)=>{nk(e).bind(({type:a,data:c,base64Encoded:m})=>Q3(a,c,m)).fold(()=>o("Invalid data URI"),n)}),z$=e=>cr(e,"blob:")?J3(e):cr(e,"data:")?e4(e):Promise.reject("Unknown URI format"),S5=e=>new Promise((n,o)=>{const a=new FileReader;a.onloadend=()=>{n(a.result)},a.onerror=()=>{var c;o((c=a.error)===null||c===void 0?void 0:c.message)},a.readAsDataURL(e)});let H$=0;const C0=e=>"blobid"+H$++,k5=(e,n,o)=>nk(e).bind(({data:a,type:c,base64Encoded:m})=>{if(n&&!m)return J.none();{const p=m?a:btoa(a);return o(p,c)}}),Lw=(e,n,o)=>{const a=e.create(C0(),n,o);return e.add(a),a},E5=(e,n,o=!1)=>k5(n,o,(a,c)=>J.from(e.getByData(a,c)).orThunk(()=>Q3(c,a).map(m=>Lw(e,m,a)))),t4=(e,n)=>{const o=()=>Promise.reject("Invalid data URI");if(cr(n,"blob:")){const a=e.getByUri(n);return xe(a)?Promise.resolve(a):z$(n).then(c=>S5(c).then(m=>k5(m,!1,p=>J.some(Lw(e,c,p))).getOrThunk(o)))}else return cr(n,"data:")?E5(e,n).fold(o,a=>Promise.resolve(a)):Promise.reject("Unknown image data format")},A5=/^(?:(?:(?:[A-Za-z][A-Za-z\d.+-]{0,14}:\/\/(?:[-.~*+=!&;:'%@?^${}(),\w]+@)?|www\.|[-;:&=+$,.\w]+@)([A-Za-z\d-]+(?:\.[A-Za-z\d-]+)*))(?::\d+)?(?:\/(?:[-.~*+=!;:'%@$(),\/\w]*[-~*+=%@$()\/\w])?)?(?:\?(?:[-.~*+=!&;:'%@?^${}(),\/\w]+)?)?(?:#(?:[-.~*+=!&;:'%@?^${}(),\/\w]+)?)?)$/,T5=e=>J.from(e.match(A5)).bind(n=>Zi(n,1)).map(n=>cr(n,"www.")?n.substring(4):n),n4=(e,n)=>{J.from(e.attr("src")).bind(T5).forall(o=>!we(n,o))&&e.attr("sandbox","")},Ly=(e,n)=>cr(e,`${n}/`),U$=e=>Xe(e)?"iframe":Ly(e,"image")?"img":Ly(e,"video")?"video":Ly(e,"audio")?"audio":"iframe",W$=({type:e,src:n,width:o,height:a}={},c,m)=>{const p=U$(e),_=new Ba(p,1);return _.attr(p==="audio"?{src:n}:{src:n,width:o,height:a}),(p==="audio"||p==="video")&&_.attr("controls",""),p==="iframe"&&c&&n4(_,m),_},o4=e=>xe(e.attr("data-mce-bogus")),O5=e=>e.attr("src")===Wo.transparentSrc||xe(e.attr("data-mce-placeholder")),K$=(e,n)=>{const{blob_cache:o}=n;if(o){const a=c=>{const m=c.attr("src");O5(c)||o4(c)||rt(m)||E5(o,m,!0).each(p=>{c.attr("src",p.blobUri())})};e.addAttributeFilter("src",c=>be(c,a))}},j$=(e,n)=>{var o,a;const c=e.schema;e.addAttributeFilter("href",A=>{let $=A.length;const q=oe=>oe.split(" ").filter(Oe=>Oe.length>0).concat(["noopener"]).sort().join(" "),X=oe=>{const ve=oe?rn.trim(oe):"";return/\b(noopener)\b/g.test(ve)?ve:q(ve)};if(!n.allow_unsafe_link_target)for(;$--;){const oe=A[$];oe.name==="a"&&oe.attr("target")==="_blank"&&oe.attr("rel",X(oe.attr("rel")))}}),n.allow_html_in_named_anchor||e.addAttributeFilter("id,name",A=>{let $=A.length,q,X,oe,ve;for(;$--;)if(ve=A[$],ve.name==="a"&&ve.firstChild&&!ve.attr("href"))for(oe=ve.parent,q=ve.lastChild;q&&oe;)X=q.prev,oe.insert(q,ve),q=X}),n.fix_list_elements&&e.addNodeFilter("ul,ol",A=>{let $=A.length,q,X;for(;$--;)if(q=A[$],X=q.parent,X&&(X.name==="ul"||X.name==="ol"))if(q.prev&&q.prev.name==="li")q.prev.append(q);else{const oe=new Ba("li",1);oe.attr("style","list-style-type: none"),q.wrap(oe)}});const m=c.getValidClasses();n.validate&&m&&e.addAttributeFilter("class",A=>{var $;let q=A.length;for(;q--;){const X=A[q],oe=($=X.attr("class"))!==null&&$!==void 0?$:"",ve=rn.explode(oe," ");let Oe="";for(let ye=0;ye<ve.length;ye++){const Pe=ve[ye];let Ye=!1,st=m["*"];st&&st[Pe]&&(Ye=!0),st=m[X.name],!Ye&&st&&st[Pe]&&(Ye=!0),Ye&&(Oe&&(Oe+=" "),Oe+=Pe)}Oe.length||(Oe=null),X.attr("class",Oe)}}),K$(e,n);const p=(o=n.sandbox_iframes)!==null&&o!==void 0?o:!1,_=nl((a=n.sandbox_iframes_exclusions)!==null&&a!==void 0?a:[]);n.convert_unsafe_embeds&&e.addNodeFilter("object,embed",A=>be(A,$=>{$.replace(W$({type:$.attr("type"),src:$.name==="object"?$.attr("data"):$.attr("src"),width:$.attr("width"),height:$.attr("height")},p,_))})),p&&e.addNodeFilter("iframe",A=>be(A,$=>n4($,_)))},{entries:R5,setPrototypeOf:I5,isFrozen:s4,getPrototypeOf:D5,getOwnPropertyDescriptor:Z$}=Object;let{freeze:Qc,seal:vr,create:G$}=Object,{apply:r4,construct:ok}=typeof Reflect<"u"&&Reflect;r4||(r4=function(n,o,a){return n.apply(o,a)}),Qc||(Qc=function(n){return n}),vr||(vr=function(n){return n}),ok||(ok=function(n,o){return new n(...o)});const i4=vc(Array.prototype.forEach),P5=vc(Array.prototype.pop),hf=vc(Array.prototype.push),My=vc(String.prototype.toLowerCase),sk=vc(String.prototype.toString),a4=vc(String.prototype.match),_d=vc(String.prototype.replace),l4=vc(String.prototype.indexOf),N5=vc(String.prototype.trim),bc=vc(RegExp.prototype.test),yb=Mw(TypeError);function vc(e){return function(n){for(var o=arguments.length,a=new Array(o>1?o-1:0),c=1;c<o;c++)a[c-1]=arguments[c];return r4(e,n,a)}}function Mw(e){return function(){for(var n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return ok(e,o)}}function us(e,n,o){var a;o=(a=o)!==null&&a!==void 0?a:My,I5&&I5(e,null);let c=n.length;for(;c--;){let m=n[c];if(typeof m=="string"){const p=o(m);p!==m&&(s4(n)||(n[c]=p),m=p)}e[m]=!0}return e}function Tg(e){const n=G$(null);for(const[o,a]of R5(e))n[o]=a;return n}function Bw(e,n){for(;e!==null;){const a=Z$(e,n);if(a){if(a.get)return vc(a.get);if(typeof a.value=="function")return vc(a.value)}e=D5(e)}function o(a){return console.warn("fallback value for",a),null}return o}const c4=Qc(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),u4=Qc(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),rk=Qc(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),q$=Qc(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),d4=Qc(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),Fw=Qc(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),L5=Qc(["#text"]),M5=Qc(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),f4=Qc(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),B5=Qc(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),ik=Qc(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),Y$=vr(/\{\{[\w\W]*|[\w\W]*\}\}/gm),X$=vr(/<%[\w\W]*|[\w\W]*%>/gm),J$=vr(/\${[\w\W]*}/gm),Q$=vr(/^data-[\-\w.\u00B7-\uFFFF]/),eV=vr(/^aria-[\-\w]+$/),F5=vr(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),$5=vr(/^(?:\w+script|data):/i),V5=vr(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),m4=vr(/^html$/i);var g4=Object.freeze({__proto__:null,MUSTACHE_EXPR:Y$,ERB_EXPR:X$,TMPLIT_EXPR:J$,DATA_ATTR:Q$,ARIA_ATTR:eV,IS_ALLOWED_URI:F5,IS_SCRIPT_OR_DATA:$5,ATTR_WHITESPACE:V5,DOCTYPE_NAME:m4});const z5=()=>typeof window>"u"?null:window,H5=function(n,o){if(typeof n!="object"||typeof n.createPolicy!="function")return null;let a=null;const c="data-tt-policy-suffix";o&&o.hasAttribute(c)&&(a=o.getAttribute(c));const m="dompurify"+(a?"#"+a:"");try{return n.createPolicy(m,{createHTML(p){return p},createScriptURL(p){return p}})}catch{return console.warn("TrustedTypes policy "+m+" could not be created."),null}};function h4(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:z5();const n=Jo=>h4(Jo);if(n.version="3.0.5",n.removed=[],!e||!e.document||e.document.nodeType!==9)return n.isSupported=!1,n;const o=e.document,a=o.currentScript;let{document:c}=e;const{DocumentFragment:m,HTMLTemplateElement:p,Node:_,Element:A,NodeFilter:$,NamedNodeMap:q=e.NamedNodeMap||e.MozNamedAttrMap,HTMLFormElement:X,DOMParser:oe,trustedTypes:ve}=e,Oe=A.prototype,ye=Bw(Oe,"cloneNode"),Pe=Bw(Oe,"nextSibling"),Ye=Bw(Oe,"childNodes"),st=Bw(Oe,"parentNode");if(typeof p=="function"){const Jo=c.createElement("template");Jo.content&&Jo.content.ownerDocument&&(c=Jo.content.ownerDocument)}let nt,yt="";const{implementation:Ut,createNodeIterator:on,createDocumentFragment:_n,getElementsByTagName:Pt}=c,{importNode:St}=o;let zt={};n.isSupported=typeof R5=="function"&&typeof st=="function"&&Ut&&Ut.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:Pn,ERB_EXPR:jn,TMPLIT_EXPR:Ho,DATA_ATTR:qo,ARIA_ATTR:Ls,IS_SCRIPT_OR_DATA:js,ATTR_WHITESPACE:mi}=g4;let{IS_ALLOWED_URI:Ll}=g4,er=null;const dn=us({},[...c4,...u4,...rk,...d4,...L5]);let Un=null;const ks=us({},[...M5,...f4,...B5,...ik]);let hn=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),to=null,Zo=null,Cn=!0,Uo=!0,Xo=!1,Fa=!0,Ws=!1,ka=!1,bm=!1,sp=!1,wc=!1,Ad=!1,vm=!1,Td=!0,ym=!1;const qn="user-content-";let hs=!0,Yr=!1,wi={},oa=null;const bl=us({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let zi=null;const Hi=us({},["audio","video","img","source","image","track"]);let Cc=null;const Mg=us({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Bg="http://www.w3.org/1998/Math/MathML",Fg="http://www.w3.org/2000/svg",xm="http://www.w3.org/1999/xhtml";let nx=xm,Zk=!1,Gk=null;const E9=us({},[Bg,Fg,xm],sk);let B0;const y6=["application/xhtml+xml","text/html"],AG="text/html";let oc,vC=null;const TG=c.createElement("form"),A9=function(Ot){return Ot instanceof RegExp||Ot instanceof Function},Tb=function(Ot){if(!(vC&&vC===Ot)){if((!Ot||typeof Ot!="object")&&(Ot={}),Ot=Tg(Ot),B0=y6.indexOf(Ot.PARSER_MEDIA_TYPE)===-1?B0=AG:B0=Ot.PARSER_MEDIA_TYPE,oc=B0==="application/xhtml+xml"?sk:My,er="ALLOWED_TAGS"in Ot?us({},Ot.ALLOWED_TAGS,oc):dn,Un="ALLOWED_ATTR"in Ot?us({},Ot.ALLOWED_ATTR,oc):ks,Gk="ALLOWED_NAMESPACES"in Ot?us({},Ot.ALLOWED_NAMESPACES,sk):E9,Cc="ADD_URI_SAFE_ATTR"in Ot?us(Tg(Mg),Ot.ADD_URI_SAFE_ATTR,oc):Mg,zi="ADD_DATA_URI_TAGS"in Ot?us(Tg(Hi),Ot.ADD_DATA_URI_TAGS,oc):Hi,oa="FORBID_CONTENTS"in Ot?us({},Ot.FORBID_CONTENTS,oc):bl,to="FORBID_TAGS"in Ot?us({},Ot.FORBID_TAGS,oc):{},Zo="FORBID_ATTR"in Ot?us({},Ot.FORBID_ATTR,oc):{},wi="USE_PROFILES"in Ot?Ot.USE_PROFILES:!1,Cn=Ot.ALLOW_ARIA_ATTR!==!1,Uo=Ot.ALLOW_DATA_ATTR!==!1,Xo=Ot.ALLOW_UNKNOWN_PROTOCOLS||!1,Fa=Ot.ALLOW_SELF_CLOSE_IN_ATTR!==!1,Ws=Ot.SAFE_FOR_TEMPLATES||!1,ka=Ot.WHOLE_DOCUMENT||!1,wc=Ot.RETURN_DOM||!1,Ad=Ot.RETURN_DOM_FRAGMENT||!1,vm=Ot.RETURN_TRUSTED_TYPE||!1,sp=Ot.FORCE_BODY||!1,Td=Ot.SANITIZE_DOM!==!1,ym=Ot.SANITIZE_NAMED_PROPS||!1,hs=Ot.KEEP_CONTENT!==!1,Yr=Ot.IN_PLACE||!1,Ll=Ot.ALLOWED_URI_REGEXP||F5,nx=Ot.NAMESPACE||xm,hn=Ot.CUSTOM_ELEMENT_HANDLING||{},Ot.CUSTOM_ELEMENT_HANDLING&&A9(Ot.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(hn.tagNameCheck=Ot.CUSTOM_ELEMENT_HANDLING.tagNameCheck),Ot.CUSTOM_ELEMENT_HANDLING&&A9(Ot.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(hn.attributeNameCheck=Ot.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),Ot.CUSTOM_ELEMENT_HANDLING&&typeof Ot.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(hn.allowCustomizedBuiltInElements=Ot.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Ws&&(Uo=!1),Ad&&(wc=!0),wi&&(er=us({},[...L5]),Un=[],wi.html===!0&&(us(er,c4),us(Un,M5)),wi.svg===!0&&(us(er,u4),us(Un,f4),us(Un,ik)),wi.svgFilters===!0&&(us(er,rk),us(Un,f4),us(Un,ik)),wi.mathMl===!0&&(us(er,d4),us(Un,B5),us(Un,ik))),Ot.ADD_TAGS&&(er===dn&&(er=Tg(er)),us(er,Ot.ADD_TAGS,oc)),Ot.ADD_ATTR&&(Un===ks&&(Un=Tg(Un)),us(Un,Ot.ADD_ATTR,oc)),Ot.ADD_URI_SAFE_ATTR&&us(Cc,Ot.ADD_URI_SAFE_ATTR,oc),Ot.FORBID_CONTENTS&&(oa===bl&&(oa=Tg(oa)),us(oa,Ot.FORBID_CONTENTS,oc)),hs&&(er["#text"]=!0),ka&&us(er,["html","head","body"]),er.table&&(us(er,["tbody"]),delete to.tbody),Ot.TRUSTED_TYPES_POLICY){if(typeof Ot.TRUSTED_TYPES_POLICY.createHTML!="function")throw yb('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof Ot.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw yb('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');nt=Ot.TRUSTED_TYPES_POLICY,yt=nt.createHTML("")}else nt===void 0&&(nt=H5(ve,a)),nt!==null&&typeof yt=="string"&&(yt=nt.createHTML(""));Qc&&Qc(Ot),vC=Ot}},fR=us({},["mi","mo","mn","ms","mtext"]),Ct=us({},["foreignobject","desc","title","annotation-xml"]),kt=us({},["title","style","font","a","script"]),ln=us({},u4);us(ln,rk),us(ln,q$);const nn=us({},d4);us(nn,Fw);const co=function(Ot){let Vn=st(Ot);(!Vn||!Vn.tagName)&&(Vn={namespaceURI:nx,tagName:"template"});const ko=My(Ot.tagName),Oi=My(Vn.tagName);return Gk[Ot.namespaceURI]?Ot.namespaceURI===Fg?Vn.namespaceURI===xm?ko==="svg":Vn.namespaceURI===Bg?ko==="svg"&&(Oi==="annotation-xml"||fR[Oi]):!!ln[ko]:Ot.namespaceURI===Bg?Vn.namespaceURI===xm?ko==="math":Vn.namespaceURI===Fg?ko==="math"&&Ct[Oi]:!!nn[ko]:Ot.namespaceURI===xm?Vn.namespaceURI===Fg&&!Ct[Oi]||Vn.namespaceURI===Bg&&!fR[Oi]?!1:!nn[ko]&&(kt[ko]||!ln[ko]):!!(B0==="application/xhtml+xml"&&Gk[Ot.namespaceURI]):!1},as=function(Ot){hf(n.removed,{element:Ot});try{Ot.parentNode.removeChild(Ot)}catch{Ot.remove()}},Xr=function(Ot,Vn){try{hf(n.removed,{attribute:Vn.getAttributeNode(Ot),from:Vn})}catch{hf(n.removed,{attribute:null,from:Vn})}if(Vn.removeAttribute(Ot),Ot==="is"&&!Un[Ot])if(wc||Ad)try{as(Vn)}catch{}else try{Vn.setAttribute(Ot,"")}catch{}},$g=function(Ot){let Vn,ko;if(sp)Ot="<remove></remove>"+Ot;else{const Vg=a4(Ot,/^[\r\n\t ]+/);ko=Vg&&Vg[0]}B0==="application/xhtml+xml"&&nx===xm&&(Ot='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+Ot+"</body></html>");const Oi=nt?nt.createHTML(Ot):Ot;if(nx===xm)try{Vn=new oe().parseFromString(Oi,B0)}catch{}if(!Vn||!Vn.documentElement){Vn=Ut.createDocument(nx,"template",null);try{Vn.documentElement.innerHTML=Zk?yt:Oi}catch{}}const _c=Vn.body||Vn.documentElement;return Ot&&ko&&_c.insertBefore(c.createTextNode(ko),_c.childNodes[0]||null),nx===xm?Pt.call(Vn,ka?"html":"body")[0]:ka?Vn.documentElement:_c},x6=function(Ot){return on.call(Ot.ownerDocument||Ot,Ot,$.SHOW_ELEMENT|$.SHOW_COMMENT|$.SHOW_TEXT,null,!1)},dde=function(Ot){return Ot instanceof X&&(typeof Ot.nodeName!="string"||typeof Ot.textContent!="string"||typeof Ot.removeChild!="function"||!(Ot.attributes instanceof q)||typeof Ot.removeAttribute!="function"||typeof Ot.setAttribute!="function"||typeof Ot.namespaceURI!="string"||typeof Ot.insertBefore!="function"||typeof Ot.hasChildNodes!="function")},w6=function(Ot){return typeof _=="object"?Ot instanceof _:Ot&&typeof Ot=="object"&&typeof Ot.nodeType=="number"&&typeof Ot.nodeName=="string"},F0=function(Ot,Vn,ko){zt[Ot]&&i4(zt[Ot],Oi=>{Oi.call(n,Vn,ko,vC)})},OG=function(Ot){let Vn;if(F0("beforeSanitizeElements",Ot,null),dde(Ot))return as(Ot),!0;const ko=oc(Ot.nodeName);if(F0("uponSanitizeElement",Ot,{tagName:ko,allowedTags:er}),Ot.hasChildNodes()&&!w6(Ot.firstElementChild)&&(!w6(Ot.content)||!w6(Ot.content.firstElementChild))&&bc(/<[/\w]/g,Ot.innerHTML)&&bc(/<[/\w]/g,Ot.textContent))return as(Ot),!0;if(!er[ko]||to[ko]){if(!to[ko]&&IG(ko)&&(hn.tagNameCheck instanceof RegExp&&bc(hn.tagNameCheck,ko)||hn.tagNameCheck instanceof Function&&hn.tagNameCheck(ko)))return!1;if(hs&&!oa[ko]){const Oi=st(Ot)||Ot.parentNode,_c=Ye(Ot)||Ot.childNodes;if(_c&&Oi){const Vg=_c.length;for(let Qa=Vg-1;Qa>=0;--Qa)Oi.insertBefore(ye(_c[Qa],!0),Pe(Ot))}}return as(Ot),!0}return Ot instanceof A&&!co(Ot)||(ko==="noscript"||ko==="noembed"||ko==="noframes")&&bc(/<\/no(script|embed|frames)/i,Ot.innerHTML)?(as(Ot),!0):(Ws&&Ot.nodeType===3&&(Vn=Ot.textContent,Vn=_d(Vn,Pn," "),Vn=_d(Vn,jn," "),Vn=_d(Vn,Ho," "),Ot.textContent!==Vn&&(hf(n.removed,{element:Ot.cloneNode()}),Ot.textContent=Vn)),F0("afterSanitizeElements",Ot,null),!1)},RG=function(Ot,Vn,ko){if(Td&&(Vn==="id"||Vn==="name")&&(ko in c||ko in TG))return!1;if(!(Uo&&!Zo[Vn]&&bc(qo,Vn))){if(!(Cn&&bc(Ls,Vn))){if(!Un[Vn]||Zo[Vn]){if(!(IG(Ot)&&(hn.tagNameCheck instanceof RegExp&&bc(hn.tagNameCheck,Ot)||hn.tagNameCheck instanceof Function&&hn.tagNameCheck(Ot))&&(hn.attributeNameCheck instanceof RegExp&&bc(hn.attributeNameCheck,Vn)||hn.attributeNameCheck instanceof Function&&hn.attributeNameCheck(Vn))||Vn==="is"&&hn.allowCustomizedBuiltInElements&&(hn.tagNameCheck instanceof RegExp&&bc(hn.tagNameCheck,ko)||hn.tagNameCheck instanceof Function&&hn.tagNameCheck(ko))))return!1}else if(!Cc[Vn]){if(!bc(Ll,_d(ko,mi,""))){if(!((Vn==="src"||Vn==="xlink:href"||Vn==="href")&&Ot!=="script"&&l4(ko,"data:")===0&&zi[Ot])){if(!(Xo&&!bc(js,_d(ko,mi,"")))){if(ko)return!1}}}}}}return!0},IG=function(Ot){return Ot.indexOf("-")>0},DG=function(Ot){let Vn,ko,Oi,_c;F0("beforeSanitizeAttributes",Ot,null);const{attributes:Vg}=Ot;if(!Vg)return;const Qa={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:Un};for(_c=Vg.length;_c--;){Vn=Vg[_c];const{name:zg,namespaceURI:T9}=Vn;ko=zg==="value"?Vn.value:N5(Vn.value);const mde=ko;if(Oi=oc(zg),Qa.attrName=Oi,Qa.attrValue=ko,Qa.keepAttr=!0,Qa.forceKeepAttr=void 0,F0("uponSanitizeAttribute",Ot,Qa),ko=Qa.attrValue,Qa.forceKeepAttr)continue;if(!Qa.keepAttr){Xr(zg,Ot);continue}if(!Fa&&bc(/\/>/i,ko)){Xr(zg,Ot);continue}Ws&&(ko=_d(ko,Pn," "),ko=_d(ko,jn," "),ko=_d(ko,Ho," "));const PG=oc(Ot.nodeName);if(!RG(PG,Oi,ko)){Xr(zg,Ot);continue}if(ym&&(Oi==="id"||Oi==="name")&&(Xr(zg,Ot),ko=qn+ko),nt&&typeof ve=="object"&&typeof ve.getAttributeType=="function"&&!T9)switch(ve.getAttributeType(PG,Oi)){case"TrustedHTML":{ko=nt.createHTML(ko);break}case"TrustedScriptURL":{ko=nt.createScriptURL(ko);break}}if(ko!==mde)try{T9?Ot.setAttributeNS(T9,zg,ko):Ot.setAttribute(zg,ko)}catch{Xr(zg,Ot)}}F0("afterSanitizeAttributes",Ot,null)},fde=function Jo(Ot){let Vn;const ko=x6(Ot);for(F0("beforeSanitizeShadowDOM",Ot,null);Vn=ko.nextNode();)F0("uponSanitizeShadowNode",Vn,null),!OG(Vn)&&(Vn.content instanceof m&&Jo(Vn.content),DG(Vn));F0("afterSanitizeShadowDOM",Ot,null)};return n.sanitize=function(Jo){let Ot=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Vn,ko,Oi,_c;if(Zk=!Jo,Zk&&(Jo="<!-->"),typeof Jo!="string"&&!w6(Jo))if(typeof Jo.toString=="function"){if(Jo=Jo.toString(),typeof Jo!="string")throw yb("dirty is not a string, aborting")}else throw yb("toString is not a function");if(!n.isSupported)return Jo;if(bm||Tb(Ot),n.removed=[],typeof Jo=="string"&&(Yr=!1),Yr){if(Jo.nodeName){const zg=oc(Jo.nodeName);if(!er[zg]||to[zg])throw yb("root node is forbidden and cannot be sanitized in-place")}}else if(Jo instanceof _)Vn=$g("<!---->"),ko=Vn.ownerDocument.importNode(Jo,!0),ko.nodeType===1&&ko.nodeName==="BODY"||ko.nodeName==="HTML"?Vn=ko:Vn.appendChild(ko);else{if(!wc&&!Ws&&!ka&&Jo.indexOf("<")===-1)return nt&&vm?nt.createHTML(Jo):Jo;if(Vn=$g(Jo),!Vn)return wc?null:vm?yt:""}Vn&&sp&&as(Vn.firstChild);const Vg=x6(Yr?Jo:Vn);for(;Oi=Vg.nextNode();)OG(Oi)||(Oi.content instanceof m&&fde(Oi.content),DG(Oi));if(Yr)return Jo;if(wc){if(Ad)for(_c=_n.call(Vn.ownerDocument);Vn.firstChild;)_c.appendChild(Vn.firstChild);else _c=Vn;return(Un.shadowroot||Un.shadowrootmode)&&(_c=St.call(o,_c,!0)),_c}let Qa=ka?Vn.outerHTML:Vn.innerHTML;return ka&&er["!doctype"]&&Vn.ownerDocument&&Vn.ownerDocument.doctype&&Vn.ownerDocument.doctype.name&&bc(m4,Vn.ownerDocument.doctype.name)&&(Qa="<!DOCTYPE "+Vn.ownerDocument.doctype.name+`>
`+Qa),Ws&&(Qa=_d(Qa,Pn," "),Qa=_d(Qa,jn," "),Qa=_d(Qa,Ho," ")),nt&&vm?nt.createHTML(Qa):Qa},n.setConfig=function(Jo){Tb(Jo),bm=!0},n.clearConfig=function(){vC=null,bm=!1},n.isValidAttribute=function(Jo,Ot,Vn){vC||Tb({});const ko=oc(Jo),Oi=oc(Ot);return RG(ko,Oi,Vn)},n.addHook=function(Jo,Ot){typeof Ot=="function"&&(zt[Jo]=zt[Jo]||[],hf(zt[Jo],Ot))},n.removeHook=function(Jo){if(zt[Jo])return P5(zt[Jo])},n.removeHooks=function(Jo){zt[Jo]&&(zt[Jo]=[])},n.removeAllHooks=function(){zt={}},n}var p4=h4();const U5=rn.each,W5=rn.trim,tV=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],nV={ftp:21,http:80,https:443,mailto:25},K5=["img","video"],j5=(e,n)=>xe(e)?!e:xe(n)?!we(K5,n):!0,oV=e=>{try{return decodeURIComponent(e)}catch{return unescape(e)}},b4=(e,n,o)=>{const a=oV(n).replace(/\s/g,"");return e.allow_script_urls?!1:/((java|vb)script|mhtml):/i.test(a)?!0:e.allow_html_data_urls?!1:/^data:image\//i.test(a)?j5(e.allow_svg_data_urls,o)&&/^data:image\/svg\+xml/i.test(a):/^data:/i.test(a)};class Sd{static parseDataUri(n){let o;const a=decodeURIComponent(n).split(","),c=/data:([^;]+)/.exec(a[0]);return c&&(o=c[1]),{type:o,data:a[1]}}static isDomSafe(n,o,a={}){if(a.allow_script_urls)return!0;{const c=bh.decode(n).replace(/[\s\u0000-\u001F]+/g,"");return!b4(a,c,o)}}static getDocumentBaseUrl(n){var o;let a;return n.protocol.indexOf("http")!==0&&n.protocol!=="file:"?a=(o=n.href)!==null&&o!==void 0?o:"":a=n.protocol+"//"+n.host+n.pathname,/^[^:]+:\/\/\/?[^\/]+\//.test(a)&&(a=a.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(a)||(a+="/")),a}constructor(n,o={}){this.path="",this.directory="",n=W5(n),this.settings=o;const a=o.base_uri,c=this;if(/^([\w\-]+):([^\/]{2})/i.test(n)||/^\s*#/.test(n)){c.source=n;return}const m=n.indexOf("//")===0;if(n.indexOf("/")===0&&!m&&(n=(a&&a.protocol||"http")+"://mce_host"+n),!/^[\w\-]*:?\/\//.test(n)){const _=a?a.path:new Sd(document.location.href).directory;if((a==null?void 0:a.protocol)==="")n="//mce_host"+c.toAbsPath(_,n);else{const A=/([^#?]*)([#?]?.*)/.exec(n);A&&(n=(a&&a.protocol||"http")+"://mce_host"+c.toAbsPath(_,A[1])+A[2])}}n=n.replace(/@@/g,"(mce_at)");const p=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*):?([^:@\/]*))?@)?(\[[a-zA-Z0-9:.%]+\]|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(n);p&&U5(tV,(_,A)=>{let $=p[A];$&&($=$.replace(/\(mce_at\)/g,"@@")),c[_]=$}),a&&(c.protocol||(c.protocol=a.protocol),c.userInfo||(c.userInfo=a.userInfo),!c.port&&c.host==="mce_host"&&(c.port=a.port),(!c.host||c.host==="mce_host")&&(c.host=a.host),c.source=""),m&&(c.protocol="")}setPath(n){const o=/^(.*?)\/?(\w+)?$/.exec(n);o&&(this.path=o[0],this.directory=o[1],this.file=o[2]),this.source="",this.getURI()}toRelative(n){if(n==="./")return n;const o=new Sd(n,{base_uri:this});if(o.host!=="mce_host"&&this.host!==o.host&&o.host||this.port!==o.port||this.protocol!==o.protocol&&o.protocol!=="")return o.getURI();const a=this.getURI(),c=o.getURI();if(a===c||a.charAt(a.length-1)==="/"&&a.substr(0,a.length-1)===c)return a;let m=this.toRelPath(this.path,o.path);return o.query&&(m+="?"+o.query),o.anchor&&(m+="#"+o.anchor),m}toAbsolute(n,o){const a=new Sd(n,{base_uri:this});return a.getURI(o&&this.isSameOrigin(a))}isSameOrigin(n){if(this.host==n.host&&this.protocol==n.protocol){if(this.port==n.port)return!0;const o=this.protocol?nV[this.protocol]:null;if(o&&(this.port||o)==(n.port||o))return!0}return!1}toRelPath(n,o){let a=0,c="",m,p;const _=n.substring(0,n.lastIndexOf("/")).split("/"),A=o.split("/");if(_.length>=A.length){for(m=0,p=_.length;m<p;m++)if(m>=A.length||_[m]!==A[m]){a=m+1;break}}if(_.length<A.length){for(m=0,p=A.length;m<p;m++)if(m>=_.length||_[m]!==A[m]){a=m+1;break}}if(a===1)return o;for(m=0,p=_.length-(a-1);m<p;m++)c+="../";for(m=a-1,p=A.length;m<p;m++)m!==a-1?c+="/"+A[m]:c+=A[m];return c}toAbsPath(n,o){let a=0;const c=/\/$/.test(o)?"/":"",m=n.split("/"),p=o.split("/"),_=[];U5(m,X=>{X&&_.push(X)});const A=[];for(let X=p.length-1;X>=0;X--)if(!(p[X].length===0||p[X]===".")){if(p[X]===".."){a++;continue}if(a>0){a--;continue}A.push(p[X])}const $=_.length-a;let q;return $<=0?q=Gs(A).join("/"):q=_.slice(0,$).join("/")+"/"+Gs(A).join("/"),q.indexOf("/")!==0&&(q="/"+q),c&&q.lastIndexOf("/")!==q.length-1&&(q+=c),q}getURI(n=!1){let o;return(!this.source||n)&&(o="",n||(this.protocol?o+=this.protocol+"://":o+="//",this.userInfo&&(o+=this.userInfo+"@"),this.host&&(o+=this.host),this.port&&(o+=":"+this.port)),this.path&&(o+=this.path),this.query&&(o+="?"+this.query),this.anchor&&(o+="#"+this.anchor),this.source=o),this.source}}const sV=rn.makeMap("src,href,data,background,action,formaction,poster,xlink:href"),v4="data-mce-type";let Z5=0;const G5=(e,n,o,a,c)=>{var m,p,_,A;const $=n.validate,q=o.getSpecialElements();e.nodeType===Rf&&!n.allow_conditional_comments&&/^\[if/i.test((m=e.nodeValue)!==null&&m!==void 0?m:"")&&(e.nodeValue=" "+e.nodeValue);const X=(p=c==null?void 0:c.tagName)!==null&&p!==void 0?p:e.nodeName.toLowerCase();if(a!=="html"&&o.isValid(a)){xe(c)&&(c.allowedTags[X]=!0);return}if(e.nodeType!==Sl||X==="body")return;const oe=je.fromDom(e),ve=Wd(oe,v4),Oe=Da(oe,"data-mce-bogus");if(!ve&&le(Oe)){Oe==="all"?Ns(oe):ja(oe);return}const ye=o.getElementRule(X);if($&&!ye){yo(q,X)?Ns(oe):ja(oe);return}else xe(c)&&(c.allowedTags[X]=!0);if($&&ye&&!ve){if(be((_=ye.attributesForced)!==null&&_!==void 0?_:[],Pe=>{_i(oe,Pe.name,Pe.value==="{$uid}"?`mce_${Z5++}`:Pe.value)}),be((A=ye.attributesDefault)!==null&&A!==void 0?A:[],Pe=>{Wd(oe,Pe.name)||_i(oe,Pe.name,Pe.value==="{$uid}"?`mce_${Z5++}`:Pe.value)}),ye.attributesRequired&&!Re(ye.attributesRequired,Pe=>Wd(oe,Pe))){ja(oe);return}if(ye.removeEmptyAttrs&&ui(oe)){ja(oe);return}ye.outputName&&ye.outputName!==X&&c2(oe,ye.outputName)}},rV=(e,n,o,a,c)=>{const m=e.tagName.toLowerCase(),{attrName:p,attrValue:_}=c;c.keepAttr=$w(n,o,a,m,p,_),c.keepAttr?(c.allowedAttributes[p]=!0,x4(p,o)&&(c.attrValue=p),n.allow_svg_data_urls&&cr(_,"data:image/svg+xml")&&(c.forceKeepAttr=!0)):y4(e,p)&&(c.forceKeepAttr=!0)},$w=(e,n,o,a,c,m)=>o!=="html"&&!Ym(a)?!0:!(c in sV&&b4(e,m,a))&&(!e.validate||n.isValid(a,c)||cr(c,"data-")||cr(c,"aria-")),y4=(e,n)=>e.hasAttribute(v4)&&(n==="id"||n==="class"||n==="style"),x4=(e,n)=>e in n.getBoolAttrs(),q5=(e,n,o,a)=>{const{attributes:c}=e;for(let m=c.length-1;m>=0;m--){const p=c[m],_=p.name,A=p.value;!$w(n,o,a,e.tagName.toLowerCase(),_,A)&&!y4(e,_)?e.removeAttribute(_):x4(_,o)&&e.setAttribute(_,_)}},iV=(e,n,o)=>{const a=p4();return a.addHook("uponSanitizeElement",(c,m)=>{G5(c,e,n,o.track(c),m)}),a.addHook("uponSanitizeAttribute",(c,m)=>{rV(c,e,n,o.current(),m)}),a},aV=(e,n)=>{const a={...{IN_PLACE:!0,ALLOW_UNKNOWN_PROTOCOLS:!0,ALLOWED_TAGS:["#comment","#cdata-section","body"],ALLOWED_ATTR:[]}};return a.PARSER_MEDIA_TYPE=n,e.allow_script_urls?a.ALLOWED_URI_REGEXP=/.*/:e.allow_html_data_urls&&(a.ALLOWED_URI_REGEXP=/^(?!(\w+script|mhtml):)/i),a},Y5=e=>{const n=GC(e);if(n==="svg"){const o=["type","href","role","arcrole","title","show","actuate","label","from","to"].map(c=>`xlink:${c}`),a={IN_PLACE:!0,USE_PROFILES:{html:!0,svg:!0,svgFilters:!0},ALLOWED_ATTR:o};p4().sanitize(e,a)}else if(n==="math"){const o={IN_PLACE:!0,USE_PROFILES:{mathMl:!0}};p4().sanitize(e,o)}else throw new Error("Not a namespace element")},lV=(e,n)=>{const o=jE();if(e.sanitize){const a=iV(e,n,o);return{sanitizeHtmlElement:(m,p)=>{a.sanitize(m,aV(e,p)),a.removed=[],o.reset()},sanitizeNamespaceElement:Y5}}else return{sanitizeHtmlElement:(m,p)=>{const _=document.createNodeIterator(m,NodeFilter.SHOW_ELEMENT|NodeFilter.SHOW_COMMENT|NodeFilter.SHOW_TEXT);let A;for(;A=_.nextNode();){const $=o.track(A);G5(A,e,n,$),Ln(A)&&q5(A,e,n,$)}o.reset()},sanitizeNamespaceElement:lt}},ak=rn.makeMap,w4=rn.extend,X5=(e,n,o,a)=>{const c=e.name,m=c in o&&c!=="title"&&c!=="textarea"&&c!=="noscript",p=n.childNodes;for(let _=0,A=p.length;_<A;_++){const $=p[_],q=new Ba($.nodeName.toLowerCase(),$.nodeType);if(Ln($)){const X=$.attributes;for(let oe=0,ve=X.length;oe<ve;oe++){const Oe=X[oe];q.attr(Oe.name,Oe.value)}Ym(q.name)&&(a($),q.value=$.innerHTML)}else qt($)?(q.value=$.data,m&&(q.raw=!0)):(Mo($)||Px($)||zf($))&&(q.value=$.data);Ym(q.name)||X5(q,$,o,a),e.append(q)}},_a=(e,n,o)=>{const a=[];for(let c=e,m=c;c;m=c,c=c.walk()){const p=c;be(n,_=>_(p)),rt(p.parent)&&p!==e?c=m:a.push(p)}for(let c=a.length-1;c>=0;c--){const m=a[c];be(o,p=>p(m))}},Og=(e,n,o,a)=>{const c=o.validate,m=n.getNonEmptyElements(),p=n.getWhitespaceElements(),_=w4(ak("script,style,head,html,body,title,meta,param"),n.getBlockElements()),A=R1(n),$=/[ \t\r\n]+/g,q=/^[ \t\r\n]+/,X=/[ \t\r\n]+$/,oe=st=>{let nt=st.parent;for(;xe(nt);){if(nt.name in p)return!0;nt=nt.parent}return!1},ve=st=>{let nt=st;for(;xe(nt);){if(nt.name in A)return Iy(n,m,p,nt);nt=nt.parent}return!1},Oe=st=>st.name in _||Pp(n,st)||Ym(st.name)&&st.parent===e,ye=(st,nt)=>{const yt=nt?st.prev:st.next;return xe(yt)||rt(st.parent)?!1:Oe(st.parent)&&(st.parent!==e||a.isRootContent===!0)};return[st=>{var nt;if(st.type===3&&!oe(st)){let yt=(nt=st.value)!==null&&nt!==void 0?nt:"";yt=yt.replace($," "),(BN(st.prev,Oe)||ye(st,!0))&&(yt=yt.replace(q,"")),yt.length===0||yt===" "&&st.prev&&st.prev.type===Rf&&st.next&&st.next.type===Rf?st.remove():st.value=yt}},st=>{var nt;if(st.type===1){const yt=n.getElementRule(st.name);if(c&&yt){const Ut=Iy(n,m,p,st);yt.paddInEmptyBlock&&Ut&&ve(st)?DS(o,a,Oe,st):yt.removeEmpty&&Ut?Oe(st)?st.remove():st.unwrap():yt.paddEmpty&&(Ut||PS(st))&&DS(o,a,Oe,st)}}else if(st.type===3&&!oe(st)){let yt=(nt=st.value)!==null&&nt!==void 0?nt:"";(st.next&&Oe(st.next)||ye(st,!1))&&(yt=yt.replace(X,"")),yt.length===0?st.remove():st.value=yt}}]},cV=(e,n)=>{var o;const a=(o=n.forced_root_block)!==null&&o!==void 0?o:e.forced_root_block;return a===!1?"":a===!0?"p":a},By=(e={},n=zc())=>{const o=ek(),a=ek(),c={validate:!0,root_name:"body",sanitize:!0,...e},m=new DOMParser,p=lV(c,n),_=(nt,yt,Ut="html")=>{const on=Ut==="xhtml"?"application/xhtml+xml":"text/html",_n=yo(n.getSpecialElements(),yt.toLowerCase()),Pt=_n?`<${yt}>${nt}</${yt}>`:nt,St=()=>Ut==="xhtml"?`<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>${Pt}</body></html>`:/^[\s]*<head/i.test(nt)||/^[\s]*<html/i.test(nt)||/^[\s]*<!DOCTYPE/i.test(nt)?`<html>${Pt}</html>`:`<body>${Pt}</body>`,zt=m.parseFromString(St(),on).body;return p.sanitizeHtmlElement(zt,on),_n?zt.firstChild:zt},A=o.addFilter,$=o.getFilters,q=o.removeFilter,X=a.addFilter,oe=a.getFilters,ve=a.removeFilter,Oe=(nt,yt)=>{Aw(n,nt)&&yt.push(nt)},ye=(nt,yt)=>{const Ut=le(yt.attr(v4)),on=yt.type===1&&!yo(nt,yt.name)&&!Pp(n,yt)&&!Ym(yt.name);return yt.type===3||on&&!Ut},Pe=(nt,yt)=>{const Ut=w4(ak("script,style,head,html,body,title,meta,param"),n.getBlockElements()),on=/^[ \t\r\n]+/,_n=/[ \t\r\n]+$/;let Pt=nt.firstChild,St=null;const zt=Pn=>{var jn,Ho;Pn&&(Pt=Pn.firstChild,Pt&&Pt.type===3&&(Pt.value=(jn=Pt.value)===null||jn===void 0?void 0:jn.replace(on,"")),Pt=Pn.lastChild,Pt&&Pt.type===3&&(Pt.value=(Ho=Pt.value)===null||Ho===void 0?void 0:Ho.replace(_n,"")))};if(n.isValidChild(nt.name,yt.toLowerCase())){for(;Pt;){const Pn=Pt.next;ye(Ut,Pt)?(St||(St=new Ba(yt,1),St.attr(c.forced_root_block_attrs),nt.insert(St,Pt)),St.append(Pt)):(zt(St),St=null),Pt=Pn}zt(St)}},st={schema:n,addAttributeFilter:X,getAttributeFilters:oe,removeAttributeFilter:ve,addNodeFilter:A,getNodeFilters:$,removeNodeFilter:q,parse:(nt,yt={})=>{var Ut;const on=c.validate,_n=(Ut=yt.context)!==null&&Ut!==void 0?Ut:c.root_name,Pt=_(nt,_n,yt.format);jr(n,Pt);const St=new Ba(_n,11);X5(St,Pt,n.getSpecialElements(),p.sanitizeNamespaceElement),Pt.innerHTML="";const[zt,Pn]=Og(St,n,c,yt),jn=[],Ho=on?mi=>Oe(mi,jn):lt,qo={nodes:{},attributes:{}},Ls=mi=>c3($(),oe(),mi,qo);if(_a(St,[zt,Ls],[Pn,Ho]),jn.reverse(),on&&jn.length>0)if(yt.context){const{pass:mi,fail:Ll}=Ne(jn,er=>er.parent===St);Iu(Ll,n,St,Ls),yt.invalid=mi.length>0}else Iu(jn,n,St,Ls);const js=cV(c,yt);return js&&(St.name==="body"||yt.isRootContent)&&Pe(St,js),yt.invalid||u3(qo,yt),St}};return j$(st,c),V$(st,c,n),st},uV=e=>y0(e)?Hh({validate:!1}).serialize(e):e,C4=(e,n,o)=>{const a=uV(e),c=n(a);if(c.isDefaultPrevented())return c;if(y0(e))if(c.content!==a){const m=By({validate:!1,forced_root_block:!1,...o}).parse(c.content,{context:e.name});return{...c,content:m}}else return{...c,content:e};else return c},_0=e=>({sanitize:XI(e),sandbox_iframes:SA(e),sandbox_iframes_exclusions:x_(e)}),J5=(e,n)=>{if(n.no_events)return io.value(n);{const o=um(e,n);return o.isDefaultPrevented()?io.error(eP(e,{content:"",...o}).content):io.value(o)}},pf=(e,n,o)=>o.no_events?n:C4(n,c=>eP(e,{...o,content:c}),_0(e)).content,_4=(e,n)=>{if(n.no_events)return io.value(n);{const o=C4(n.content,a=>a7(e,{...n,content:a}),_0(e));return o.isDefaultPrevented()?(hc(e,o),io.error(void 0)):io.value(o)}},S4=(e,n,o)=>{o.no_events||hc(e,{...o,content:n})},lk=(e,n,o)=>({element:e,width:n,rows:o}),k4=(e,n)=>({element:e,cells:n}),dV=(e,n)=>({x:e,y:n}),ck=(e,n)=>lu(e,n).bind(vn).getOr(1),Rg=(e,n,o,a,c)=>{const m=ck(c,"rowspan"),p=ck(c,"colspan"),_=e.rows;for(let A=o;A<o+m;A++){_[A]||(_[A]=k4(rg(a),[]));for(let $=n;$<n+p;$++){const q=_[A].cells;q[$]=A===o&&$===n?c:Gr(c)}}},Q5=(e,n,o)=>{const a=e.rows;return!!(a[o]?a[o].cells:[])[n]},eL=(e,n,o)=>{for(;Q5(e,n,o);)n++;return n},Vw=e=>cn(e,(n,o)=>o.cells.length>n?o.cells.length:n,0),uk=(e,n)=>{const o=e.rows;for(let a=0;a<o.length;a++){const c=o[a].cells;for(let m=0;m<c.length;m++)if(ss(c[m],n))return J.some(dV(m,a))}return J.none()},E4=(e,n,o,a,c)=>{const m=[],p=e.rows;for(let _=o;_<=c;_++){const A=p[_].cells,$=n<a?A.slice(n,a+1):A.slice(a,n+1);m.push(k4(p[_].element,$))}return m},tL=(e,n,o)=>{const a=n.x,c=n.y,m=o.x,p=o.y,_=c<p?E4(e,a,c,m,p):E4(e,a,p,m,c);return lk(e.element,Vw(_),_)},nL=(e,n)=>{const o=Gr(e.element),a=je.fromTag("tbody");return oi(a,n),Ur(o,a),o},fV=e=>He(e.rows,n=>{const o=He(n.cells,c=>{const m=rg(c);return Fo(m,"colspan"),Fo(m,"rowspan"),m}),a=Gr(n.element);return oi(a,o),a}),mV=e=>{const n=lk(Gr(e),0,[]);return be(vi(e,"tr"),(o,a)=>{be(vi(o,"td,th"),(c,m)=>{Rg(n,eL(n,m,a),a,o,c)})}),lk(n.element,Vw(n.rows),n.rows)},gV=e=>nL(e,fV(e)),oL=(e,n,o)=>uk(e,n).bind(a=>uk(e,o).map(c=>tL(e,a,c))),sL=e=>xn(e,n=>os(n)==="ul"||os(n)==="ol"),hV=(e,n)=>xn(e,o=>os(o)==="li"&&z2(o,n)).fold(dt([]),o=>sL(e).map(a=>{const c=je.fromTag(os(a)),m=Tc(ch(a),(p,_)=>cr(_,"list-style"));return es(c,m),[je.fromTag("li"),c]}).getOr([])),A4=(e,n)=>{const o=cn(n,(a,c)=>(Ur(c,a),c),e);return n.length>0?qc([o]):o},rL=e=>ag(e)?ga(e).filter(Dv).fold(dt([]),n=>[e,n]):Dv(e)?[e]:[],pV=(e,n,o)=>{const a=je.fromDom(n.commonAncestorContainer),c=Xc(a,e),m=Ge(c,A=>o.isWrapper(os(A))),p=hV(c,n),_=m.concat(p.length?p:rL(a));return He(_,Gr)},T4=()=>qc([]),bV=(e,n,o)=>A4(je.fromDom(n.cloneContents()),pV(e,n,o)),vV=(e,n)=>mu(n,"table",et(ss,e)),Pl=(e,n)=>vV(e,n[0]).bind(o=>{const a=n[0],c=n[n.length-1],m=mV(o);return oL(m,a,c).map(p=>qc([gV(p)]))}).getOrThunk(T4),yV=(e,n,o)=>n.length>0&&n[0].collapsed?T4():bV(e,n[0],o),xV=(e,n,o)=>{const a=LD(n,e);return a.length>0?Pl(e,a):yV(e,n,o)},dk=(e,n)=>n>=0&&n<e.length&&t0(e.charAt(n)),iL=e=>Rl(e.innerText),fk=e=>e.map(n=>n.nodeName).getOr("div").toLowerCase(),wV=e=>J.from(e.selection.getRng()).map(n=>{var o;const a=J.from(e.dom.getParent(n.commonAncestorContainer,e.dom.isBlock)),c=e.getBody(),m=fk(a),p=je.fromDom(n.cloneContents());UP(p),WP(p);const _=e.dom.add(c,m,{"data-mce-bogus":"all",style:"overflow: hidden; opacity: 0;"},p.dom),A=iL(_),$=Rl((o=_.textContent)!==null&&o!==void 0?o:"");if(e.dom.remove(_),dk($,0)||dk($,$.length-1)){const q=a.getOr(c),X=iL(q),oe=X.indexOf(A);if(oe===-1)return A;{const ve=dk(X,oe-1),Oe=dk(X,oe+A.length);return(ve?" ":"")+A+(Oe?" ":"")}}else return A}).getOr(""),O4=(e,n)=>{const o=e.selection.getRng(),a=e.dom.create("body"),c=e.selection.getSel(),m=iS(e,br(c)),p=n.contextual?xV(je.fromDom(e.getBody()),m,e.schema).dom:o.cloneContents();return p&&a.appendChild(p),e.selection.serializer.serialize(a,n)},R4=(e,n)=>{if(n.format==="text")return wV(e);{const o=O4(e,n);return n.format==="tree"?o:e.selection.isCollapsed()?"":o}},CV=(e,n)=>({...e,format:n,get:!0,selection:!0,getInner:!0}),_V=(e,n,o={})=>{const a=CV(o,n);return J5(e,a).fold(Sn,c=>{const m=R4(e,c);return pf(e,m,c)})},kd=0,I4=1,aL=2,D4=(e,n)=>{const o=e.length+n.length+2,a=new Array(o),c=new Array(o),m=(q,X,oe)=>({start:q,end:X,diag:oe}),p=(q,X,oe,ve,Oe)=>{const ye=A(q,X,oe,ve);if(ye===null||ye.start===X&&ye.diag===X-ve||ye.end===q&&ye.diag===q-oe){let Pe=q,Ye=oe;for(;Pe<X||Ye<ve;)Pe<X&&Ye<ve&&e[Pe]===n[Ye]?(Oe.push([kd,e[Pe]]),++Pe,++Ye):X-q>ve-oe?(Oe.push([aL,e[Pe]]),++Pe):(Oe.push([I4,n[Ye]]),++Ye)}else{p(q,ye.start,oe,ye.start-ye.diag,Oe);for(let Pe=ye.start;Pe<ye.end;++Pe)Oe.push([kd,e[Pe]]);p(ye.end,X,ye.end-ye.diag,ve,Oe)}},_=(q,X,oe,ve)=>{let Oe=q;for(;Oe-X<ve&&Oe<oe&&e[Oe]===n[Oe-X];)++Oe;return m(q,Oe,X)},A=(q,X,oe,ve)=>{const Oe=X-q,ye=ve-oe;if(Oe===0||ye===0)return null;const Pe=Oe-ye,Ye=ye+Oe,st=(Ye%2===0?Ye:Ye+1)/2;a[1+st]=q,c[1+st]=X+1;let nt,yt,Ut,on,_n;for(nt=0;nt<=st;++nt){for(yt=-nt;yt<=nt;yt+=2){for(Ut=yt+st,yt===-nt||yt!==nt&&a[Ut-1]<a[Ut+1]?a[Ut]=a[Ut+1]:a[Ut]=a[Ut-1]+1,on=a[Ut],_n=on-q+oe-yt;on<X&&_n<ve&&e[on]===n[_n];)a[Ut]=++on,++_n;if(Pe%2!==0&&Pe-nt<=yt&&yt<=Pe+nt&&c[Ut-Pe]<=a[Ut])return _(c[Ut-Pe],yt+q-oe,X,ve)}for(yt=Pe-nt;yt<=Pe+nt;yt+=2){for(Ut=yt+st-Pe,yt===Pe-nt||yt!==Pe+nt&&c[Ut+1]<=c[Ut-1]?c[Ut]=c[Ut+1]-1:c[Ut]=c[Ut-1],on=c[Ut]-1,_n=on-q+oe-yt;on>=q&&_n>=oe&&e[on]===n[_n];)c[Ut]=on--,_n--;if(Pe%2===0&&-nt<=yt&&yt<=nt&&c[Ut]<=a[Ut+Pe])return _(c[Ut],yt+q-oe,X,ve)}}return null},$=[];return p(0,e.length,0,n.length,$),$},P4=e=>Ln(e)?e.outerHTML:qt(e)?bh.encodeRaw(e.data,!1):Mo(e)?"<!--"+e.data+"-->":"",mk=e=>{let n;const o=document.createElement("div"),a=document.createDocumentFragment();for(e&&(o.innerHTML=e);n=o.firstChild;)a.appendChild(n);return a},lL=(e,n,o)=>{const a=mk(n);if(e.hasChildNodes()&&o<e.childNodes.length){const c=e.childNodes[o];e.insertBefore(a,c)}else e.appendChild(a)},cL=(e,n)=>{if(e.hasChildNodes()&&n<e.childNodes.length){const o=e.childNodes[n];e.removeChild(o)}},uL=(e,n)=>{let o=0;be(e,a=>{a[0]===kd?o++:a[0]===I4?(lL(n,a[1],o),o++):a[0]===aL&&cL(n,o)})},SV=(e,n)=>Ge(He(Do(e.childNodes),Lt(Rl,P4)),o=>o.length>0),kV=(e,n)=>{const o=He(Do(n.childNodes),P4);return uL(D4(o,e),n),n},N4=$l(()=>document.implementation.createHTMLDocument("undo")),EV=e=>e.querySelector("iframe")!==null,AV=e=>({type:"fragmented",fragments:e,content:"",bookmark:null,beforeBookmark:null}),gk=e=>({type:"complete",fragments:null,content:e,bookmark:null,beforeBookmark:null}),Fy=e=>{const n=e.serializer.getTempAttrs(),o=CT(e.getBody(),n);return EV(o)?AV(SV(o)):gk(Rl(o.innerHTML))},zw=(e,n,o)=>{const a=o?n.beforeBookmark:n.bookmark;n.type==="fragmented"?kV(n.fragments,e.getBody()):e.setContent(n.content,{format:"raw",no_selection:xe(a)&&AD(a)?!a.isFakeCaret:!0}),a&&(e.selection.moveToBookmark(a),e.selection.scrollIntoView())},hk=e=>e.type==="fragmented"?e.fragments.join(""):e.content,qh=e=>{const n=je.fromTag("body",N4());return Km(n,hk(e)),be(vi(n,"*[data-mce-bogus]"),ja),qd(n)},TV=(e,n)=>hk(e)===hk(n),OV=(e,n)=>qh(e)===qh(n),$y=(e,n)=>!e||!n?!1:TV(e,n)?!0:OV(e,n),pk=e=>e.get()===0,Hw=(e,n,o)=>{pk(o)&&(e.typing=n)},L4=(e,n)=>{e.typing&&(Hw(e,!1,n),e.add())},RV=e=>{e.typing&&(e.typing=!1,e.add())},IV=(e,n,o)=>{pk(n)&&o.set(An(e.selection))},M4=(e,n,o,a,c,m,p)=>{const _=Fy(e),A=rn.extend(m||{},_);if(!pk(a)||e.removed)return null;const $=n.data[o.get()];if(e.dispatch("BeforeAddUndo",{level:A,lastLevel:$,originalEvent:p}).isDefaultPrevented()||$&&$y($,A))return null;n.data[o.get()]&&c.get().each(oe=>{n.data[o.get()].beforeBookmark=oe});const q=WI(e);if(q&&n.data.length>q){for(let oe=0;oe<n.data.length-1;oe++)n.data[oe]=n.data[oe+1];n.data.length--,o.set(n.data.length)}A.bookmark=An(e.selection),o.get()<n.data.length-1&&(n.data.length=o.get()+1),n.data.push(A),o.set(n.data.length-1);const X={level:A,lastLevel:$,originalEvent:p};return o.get()>0?(e.setDirty(!0),e.dispatch("AddUndo",X),e.dispatch("change",X)):e.dispatch("AddUndo",X),A},B4=(e,n,o)=>{n.data=[],o.set(0),n.typing=!1,e.dispatch("ClearUndos")},F4=(e,n,o,a,c)=>{if(n.transact(a)){const m=n.data[o.get()].bookmark,p=n.data[o.get()-1];zw(e,p,!0),n.transact(c)&&(n.data[o.get()-1].beforeBookmark=m)}},dL=(e,n,o)=>{let a;return n.get()<o.length-1&&(n.set(n.get()+1),a=o[n.get()],zw(e,a,!1),e.setDirty(!0),e.dispatch("Redo",{level:a})),a},bk=(e,n,o,a)=>{let c;return n.typing&&(n.add(),n.typing=!1,Hw(n,!1,o)),a.get()>0&&(a.set(a.get()-1),c=n.data[a.get()],zw(e,c,!0),e.setDirty(!0),e.dispatch("Undo",{level:c})),c},fL=e=>{e.clear(),e.add()},mL=(e,n,o)=>o.get()>0||n.typing&&n.data[0]&&!$y(Fy(e),n.data[0]),DV=(e,n)=>n.get()<e.data.length-1&&!e.typing,PV=(e,n,o)=>(L4(e,n),e.beforeChange(),e.ignore(o),e.add()),$4=(e,n)=>{try{e.set(e.get()+1),n()}finally{e.set(e.get()-1)}},gL=(e,n)=>{const o=e.dom,a=xe(n)?n:e.getBody();be(o.select("table,a",a),c=>{switch(c.nodeName){case"TABLE":const m=v_(e),p=o.getAttrib(c,"border");(!p||p==="0")&&e.hasVisual?o.addClass(c,m):o.removeClass(c,m);break;case"A":if(!o.getAttrib(c,"href")){const _=o.getAttrib(c,"name")||c.id,A=ly(e);_&&e.hasVisual?o.addClass(c,A):o.removeClass(c,A)}break}}),e.dispatch("VisualAid",{element:n,hasVisual:e.hasVisual})},V4=e=>({init:{bindEvents:lt},undoManager:{beforeChange:(n,o)=>IV(e,n,o),add:(n,o,a,c,m,p)=>M4(e,n,o,a,c,m,p),undo:(n,o,a)=>bk(e,n,o,a),redo:(n,o)=>dL(e,n,o),clear:(n,o)=>B4(e,n,o),reset:n=>fL(n),hasUndo:(n,o)=>mL(e,n,o),hasRedo:(n,o)=>DV(n,o),transact:(n,o,a)=>PV(n,o,a),ignore:(n,o)=>$4(n,o),extra:(n,o,a,c)=>F4(e,n,o,a,c)},formatter:{match:(n,o,a,c)=>mb(e,n,o,a,c),matchAll:(n,o)=>XN(e,n,o),matchNode:(n,o,a,c)=>Eg(e,n,o,a,c),canApply:n=>QN(e,n),closest:n=>JN(e,n),apply:(n,o,a)=>v5(e,n,o,a),remove:(n,o,a,c)=>bb(e,n,o,a,c),toggle:(n,o,a)=>M$(e,n,o,a),formatChanged:(n,o,a,c,m)=>L$(e,n,o,a,c,m)},editor:{getContent:n=>ZP(e,n),setContent:(n,o)=>A$(e,n,o),insertContent:(n,o)=>HS(e,n,o),addVisual:n=>gL(e,n)},selection:{getContent:(n,o)=>_V(e,n,o)},autocompleter:{addDecoration:lt,removeDecoration:lt},raw:{getModel:()=>J.none()}}),NV=e=>{const n=$=>j($)?$:{},{init:o,undoManager:a,formatter:c,editor:m,selection:p,autocompleter:_,raw:A}=e;return{init:{bindEvents:o.bindEvents},undoManager:{beforeChange:a.beforeChange,add:a.add,undo:a.undo,redo:a.redo,clear:a.clear,reset:a.reset,hasUndo:a.hasUndo,hasRedo:a.hasRedo,transact:($,q,X)=>a.transact(X),ignore:($,q)=>a.ignore(q),extra:($,q,X,oe)=>a.extra(X,oe)},formatter:{match:($,q,X,oe)=>c.match($,n(q),oe),matchAll:c.matchAll,matchNode:c.matchNode,canApply:$=>c.canApply($),closest:$=>c.closest($),apply:($,q,X)=>c.apply($,n(q)),remove:($,q,X,oe)=>c.remove($,n(q)),toggle:($,q,X)=>c.toggle($,n(q)),formatChanged:($,q,X,oe,ve)=>c.formatChanged(q,X,oe,ve)},editor:{getContent:$=>m.getContent($),setContent:($,q)=>({content:m.setContent($,q),html:""}),insertContent:($,q)=>(m.insertContent($),""),addVisual:m.addVisual},selection:{getContent:($,q)=>p.getContent(q)},autocompleter:{addDecoration:_.addDecoration,removeDecoration:_.removeDecoration},raw:{getModel:()=>J.some(A.getRawModel())}}},LV=()=>{const e=dt(null),n=dt("");return{init:{bindEvents:lt},undoManager:{beforeChange:lt,add:e,undo:e,redo:e,clear:lt,reset:lt,hasUndo:In,hasRedo:In,transact:e,ignore:lt,extra:lt},formatter:{match:In,matchAll:dt([]),matchNode:dt(void 0),canApply:In,closest:n,apply:lt,remove:lt,toggle:lt,formatChanged:dt({unbind:lt})},editor:{getContent:n,setContent:dt({content:"",html:""}),insertContent:dt(""),addVisual:lt},selection:{getContent:n},autocompleter:{addDecoration:lt,removeDecoration:lt},raw:{getModel:dt(J.none())}}},Ig=e=>yo(e.plugins,"rtc"),hL=e=>Ps(e.plugins,"rtc").bind(n=>J.from(n.setup)),pL=e=>{const n=e;return hL(e).fold(()=>(n.rtcInstance=V4(e),J.none()),o=>(n.rtcInstance=LV(),J.some(()=>o().then(a=>(n.rtcInstance=NV(a),a.rtc.isRemote)))))},z4=e=>e.rtcInstance?e.rtcInstance:V4(e),Sa=e=>{const n=e.rtcInstance;if(n)return n;throw new Error("Failed to get RTC instance not yet initialized.")},Vy=(e,n,o)=>{Sa(e).undoManager.beforeChange(n,o)},MV=(e,n,o,a,c,m,p)=>Sa(e).undoManager.add(n,o,a,c,m,p),BV=(e,n,o,a)=>Sa(e).undoManager.undo(n,o,a),bL=(e,n,o)=>Sa(e).undoManager.redo(n,o),vL=(e,n,o)=>{Sa(e).undoManager.clear(n,o)},vk=(e,n)=>{Sa(e).undoManager.reset(n)},FV=(e,n,o)=>Sa(e).undoManager.hasUndo(n,o),$V=(e,n,o)=>Sa(e).undoManager.hasRedo(n,o),VV=(e,n,o,a)=>Sa(e).undoManager.transact(n,o,a),zV=(e,n,o)=>{Sa(e).undoManager.ignore(n,o)},HV=(e,n,o,a,c)=>{Sa(e).undoManager.extra(n,o,a,c)},UV=(e,n,o,a,c)=>Sa(e).formatter.match(n,o,a,c),WV=(e,n,o)=>Sa(e).formatter.matchAll(n,o),KV=(e,n,o,a,c)=>Sa(e).formatter.matchNode(n,o,a,c),jV=(e,n)=>Sa(e).formatter.canApply(n),ZV=(e,n)=>Sa(e).formatter.closest(n),sr=(e,n,o,a)=>{Sa(e).formatter.apply(n,o,a)},yL=(e,n,o,a,c)=>{Sa(e).formatter.remove(n,o,a,c)},H4=(e,n,o,a)=>{Sa(e).formatter.toggle(n,o,a)},xL=(e,n,o,a,c,m)=>Sa(e).formatter.formatChanged(n,o,a,c,m),wL=(e,n)=>z4(e).editor.getContent(n),U4=(e,n,o)=>z4(e).editor.setContent(n,o),GV=(e,n,o)=>z4(e).editor.insertContent(n,o),qV=(e,n,o)=>Sa(e).selection.getContent(n,o),CL=(e,n)=>Sa(e).editor.addVisual(n),_L=e=>Sa(e).init.bindEvents(),YV=(e,n={})=>{const o=n.format?n.format:"html";return qV(e,o,n)},S0=e=>e.dom.length===0?(Ns(e),J.none()):J.some(e),XV=(e,n)=>e.filter(o=>qs.isBookmarkNode(o.dom)).bind(n?Yn:Si),zy=(e,n,o,a,c)=>{const m=e.dom,p=n.dom,_=a?m.length:p.length;a?(xw(m,p,c,!1,!a),o.setStart(p,_)):(xw(p,m,c,!1,!a),o.setEnd(p,_))},Uw=(e,n,o)=>{ga(e).each(a=>{const c=e.dom;n&&Ay(a,At(c,0),o)?pS(c,0,o):!n&&h0(a,At(c,c.length),o)&&$r(c,c.length,o)})},k0=(e,n,o,a,c)=>{e.bind(m=>((a?$r:pS)(m.dom,a?m.dom.length:0,c),n.filter(ur).map(_=>zy(m,_,o,a,c)))).orThunk(()=>XV(n,a).or(n).filter(ur).map(p=>Uw(p,a,c)))},W4=(e,n,o)=>{const a=J.from(n.firstChild).map(je.fromDom),c=J.from(n.lastChild).map(je.fromDom);e.deleteContents(),e.insertNode(n);const m=a.bind(Si).filter(ur).bind(S0),p=c.bind(Yn).filter(ur).bind(S0);k0(m,a,e,!0,o),k0(p,c,e,!1,o),e.collapse(!1)},SL=(e,n)=>({format:"html",...e,set:!0,selection:!0,content:n}),kL=(e,n)=>{if(n.format!=="raw"){const o=e.selection.getRng(),a=e.dom.getParent(o.commonAncestorContainer,e.dom.isBlock),c=a?{context:a.nodeName.toLowerCase()}:{},m=e.parser.parse(n.content,{forced_root_block:!1,...c,...n});return Hh({validate:!1},e.schema).serialize(m)}else return n.content},K4=(e,n,o={})=>{const a=SL(o,n);_4(e,a).each(c=>{const m=kL(e,c),p=e.selection.getRng();W4(p,p.createContextualFragment(m),e.schema),e.selection.setRng(p),pd(e,p),S4(e,m,c)})},j4=(e,n,o)=>{if(yo(e,n)){const a=Ge(e[n],c=>c!==o);a.length===0?delete e[n]:e[n]=a}};var EL=(e,n)=>{let o,a;const c=(_,A)=>xn(A,$=>e.is($,_)),m=_=>e.getParents(_,void 0,e.getRoot()),p=()=>{o={},a={},n.on("NodeChange",_=>{const A=_.element,$=m(A),q={};fs(o,(X,oe)=>{c(oe,$).each(ve=>{a[oe]||(be(X,Oe=>{Oe(!0,{node:ve,selector:oe,parents:$})}),a[oe]=X),q[oe]=X})}),fs(a,(X,oe)=>{q[oe]||(delete a[oe],be(X,ve=>{ve(!1,{node:A,selector:oe,parents:$})}))})})};return{selectorChangedWithUnbind:(_,A)=>(o||p(),o[_]||(o[_]=[]),o[_].push(A),c(_,m(n.selection.getStart())).each(()=>{a[_]=o[_]}),{unbind:()=>{j4(o,_,A),j4(a,_,A)}})}};const Z4=e=>!!(e&&e.ownerDocument)&&ma(je.fromDom(e.ownerDocument),je.fromDom(e)),G4=e=>e?Z4(e.startContainer)&&Z4(e.endContainer):!1,q4=(e,n,o,a)=>{let c,m;const{selectorChangedWithUnbind:p}=EL(e,a),_=(dn,Un)=>{const ks=e.createRng();xe(dn)&&xe(Un)?(ks.setStart(dn,Un),ks.setEnd(dn,Un),yt(ks),Ye(!1)):(H2(e,ks,a.getBody(),!0),yt(ks))},A=dn=>YV(a,dn),$=(dn,Un)=>K4(a,dn,Un),q=dn=>MP(a.getBody(),nt(),dn),X=dn=>BP(a.getBody(),nt(),dn),oe=(dn,Un)=>Ll.getBookmark(dn,Un),ve=dn=>Ll.moveToBookmark(dn),Oe=(dn,Un)=>(mw(e,dn,Un).each(yt),dn),ye=()=>{const dn=nt(),Un=st();return!dn||dn.item?!1:dn.compareEndPoints?dn.compareEndPoints("StartToEnd",dn)===0:!Un||dn.collapsed},Pe=()=>{const dn=nt(),Un=a.getBody().querySelectorAll('[data-mce-selected="1"]');return Un.length>0?No(Un,ks=>e.isEditable(ks.parentElement)):NP(e,dn)},Ye=dn=>{const Un=nt();Un.collapse(!!dn),yt(Un)},st=()=>n.getSelection?n.getSelection():n.document.selection,nt=()=>{let dn;const Un=(hn,to,Zo)=>{try{return to.compareBoundaryPoints(hn,Zo)}catch{return-1}},ks=n.document;if(xe(a.bookmark)&&!xy(a)){const hn=hT(a);if(hn.isSome())return hn.map(to=>iS(a,[to])[0]).getOr(ks.createRange())}try{const hn=st();hn&&!Ff(hn.anchorNode)&&(hn.rangeCount>0?dn=hn.getRangeAt(0):dn=ks.createRange(),dn=iS(a,[dn])[0])}catch{}if(dn||(dn=ks.createRange()),$n(dn.startContainer)&&dn.collapsed){const hn=e.getRoot();dn.setStart(hn,0),dn.setEnd(hn,0)}return c&&m&&(Un(dn.START_TO_START,dn,c)===0&&Un(dn.END_TO_END,dn,c)===0?dn=m:(c=null,m=null)),dn},yt=(dn,Un)=>{if(!G4(dn))return;const ks=st();if(dn=a.dispatch("SetSelectionRange",{range:dn,forward:Un}).range,ks){m=dn;try{ks.removeAllRanges(),ks.addRange(dn)}catch{}Un===!1&&ks.extend&&(ks.collapse(dn.endContainer,dn.endOffset),ks.extend(dn.startContainer,dn.startOffset)),c=ks.rangeCount>0?ks.getRangeAt(0):null}if(!dn.collapsed&&dn.startContainer===dn.endContainer&&(ks!=null&&ks.setBaseAndExtent)&&dn.endOffset-dn.startOffset<2&&dn.startContainer.hasChildNodes()){const to=dn.startContainer.childNodes[dn.startOffset];to&&to.nodeName==="IMG"&&(ks.setBaseAndExtent(dn.startContainer,dn.startOffset,dn.endContainer,dn.endOffset),(ks.anchorNode!==dn.startContainer||ks.focusNode!==dn.endContainer)&&ks.setBaseAndExtent(to,0,to,1))}a.dispatch("AfterSetSelectionRange",{range:dn,forward:Un})},Ut=dn=>($(e.getOuterHTML(dn)),dn),on=()=>z7(a.getBody(),nt()),_n=(dn,Un)=>xT(e,nt(),dn,Un),Pt=()=>{const dn=st(),Un=dn==null?void 0:dn.anchorNode,ks=dn==null?void 0:dn.focusNode;if(!dn||!Un||!ks||Ff(Un)||Ff(ks))return!0;const hn=e.createRng(),to=e.createRng();try{hn.setStart(Un,dn.anchorOffset),hn.collapse(!0),to.setStart(ks,dn.focusOffset),to.collapse(!0)}catch{return!0}return hn.compareBoundaryPoints(hn.START_TO_START,to)<=0},mi={dom:e,win:n,serializer:o,editor:a,expand:(dn={type:"word"})=>yt(ob(e).expand(nt(),dn)),collapse:Ye,setCursorLocation:_,getContent:A,setContent:$,getBookmark:oe,moveToBookmark:ve,select:Oe,isCollapsed:ye,isEditable:Pe,isForward:Pt,setNode:Ut,getNode:on,getSel:st,setRng:yt,getRng:nt,getStart:q,getEnd:X,getSelectedBlocks:_n,normalize:()=>{const dn=nt(),Un=st();if(!F2(Un)&&my(a)){const ks=yg(e,dn);return ks.each(hn=>{yt(hn,Pt())}),ks.getOr(dn)}return dn},selectorChanged:(dn,Un)=>(p(dn,Un),mi),selectorChangedWithUnbind:p,getScrollContainer:()=>{let dn,Un=e.getRoot();for(;Un&&Un.nodeName!=="BODY";){if(Un.scrollHeight>Un.clientHeight){dn=Un;break}Un=Un.parentNode}return dn},scrollIntoView:(dn,Un)=>{xe(dn)?dT(a,dn,Un):pd(a,nt(),Un)},placeCaretAt:(dn,Un)=>yt(cP(dn,Un,a.getDoc())),getBoundingClientRect:()=>{const dn=nt();return dn.collapsed?At.fromRangeStart(dn).getClientRects()[0]:dn.getBoundingClientRect()},destroy:()=>{n=c=m=null,er.destroy()}},Ll=qs(mi),er=Us(mi,a);return mi.bookmarkManager=Ll,mi.controlSelection=er,mi},AL=(e,n,o)=>{n.addNodeFilter("br",(a,c,m)=>{const p=rn.extend({},o.getBlockElements()),_=o.getNonEmptyElements(),A=o.getWhitespaceElements();p.body=1;const $=q=>q.name in p||Pp(o,q);for(let q=0,X=a.length;q<X;q++){let oe=a[q],ve=oe.parent;if(ve&&$(ve)&&oe===ve.lastChild){let Oe=oe.prev;for(;Oe;){const ye=Oe.name;if(ye!=="span"||Oe.attr("data-mce-type")!=="bookmark"){ye==="br"&&(oe=null);break}Oe=Oe.prev}if(oe&&(oe.remove(),Iy(o,_,A,ve))){const ye=o.getElementRule(ve.name);ye&&(ye.removeEmpty?ve.remove():ye.paddEmpty&&DS(e,m,$,ve))}}else{let Oe=oe;for(;ve&&ve.firstChild===Oe&&ve.lastChild===Oe&&(Oe=ve,!p[ve.name]);)ve=ve.parent;if(Oe===ve){const ye=new Ba("#text",3);ye.value=Ni,oe.replace(ye)}}}})},Y4=(e,n,o)=>{e.addAttributeFilter("data-mce-tabindex",(a,c)=>{let m=a.length;for(;m--;){const p=a[m];p.attr("tabindex",p.attr("data-mce-tabindex")),p.attr(c,null)}}),e.addAttributeFilter("src,href,style",(a,c)=>{const m="data-mce-"+c,p=n.url_converter,_=n.url_converter_scope;let A=a.length;for(;A--;){const $=a[A];let q=$.attr(m);q!==void 0?($.attr(c,q.length>0?q:null),$.attr(m,null)):(q=$.attr(c),c==="style"?q=o.serializeStyle(o.parseStyle(q),$.name):p&&(q=p.call(_,q,c,$.name)),$.attr(c,q.length>0?q:null))}}),e.addAttributeFilter("class",a=>{let c=a.length;for(;c--;){const m=a[c];let p=m.attr("class");p&&(p=p.replace(/(?:^|\s)mce-item-\w+(?!\S)/g,""),m.attr("class",p.length>0?p:null))}}),e.addAttributeFilter("data-mce-type",(a,c,m)=>{let p=a.length;for(;p--;){const _=a[p];_.attr("data-mce-type")==="bookmark"&&!m.cleanup&&(J.from(_.firstChild).exists($=>{var q;return!Kc((q=$.value)!==null&&q!==void 0?q:"")})?_.unwrap():_.remove())}}),e.addNodeFilter("script,style",(a,c)=>{var m;const p=A=>A.replace(/(<!--\[CDATA\[|\]\]-->)/g,`
`).replace(/^[\r\n]*|[\r\n]*$/g,"").replace(/^\s*((<!--)?(\s*\/\/)?\s*<!\[CDATA\[|(<!--\s*)?\/\*\s*<!\[CDATA\[\s*\*\/|(\/\/)?\s*<!--|\/\*\s*<!--\s*\*\/)\s*[\r\n]*/gi,"").replace(/\s*(\/\*\s*\]\]>\s*\*\/(-->)?|\s*\/\/\s*\]\]>(-->)?|\/\/\s*(-->)?|\]\]>|\/\*\s*-->\s*\*\/|\s*-->\s*)\s*$/g,"");let _=a.length;for(;_--;){const A=a[_],$=A.firstChild,q=(m=$==null?void 0:$.value)!==null&&m!==void 0?m:"";if(c==="script"){const X=A.attr("type");X&&A.attr("type",X==="mce-no/type"?null:X.replace(/^mce\-/,"")),n.element_format==="xhtml"&&$&&q.length>0&&($.value=`// <![CDATA[
`+p(q)+`
// ]]>`)}else n.element_format==="xhtml"&&$&&q.length>0&&($.value=`<!--
`+p(q)+`
-->`)}}),e.addNodeFilter("#comment",a=>{let c=a.length;for(;c--;){const m=a[c],p=m.value;n.preserve_cdata&&(p==null?void 0:p.indexOf("[CDATA["))===0?(m.name="#cdata",m.type=4,m.value=o.decode(p.replace(/^\[CDATA\[|\]\]$/g,""))):(p==null?void 0:p.indexOf("mce:protected "))===0&&(m.name="#text",m.type=3,m.raw=!0,m.value=unescape(p).substr(14))}}),e.addNodeFilter("xml:namespace,input",(a,c)=>{let m=a.length;for(;m--;){const p=a[m];p.type===7?p.remove():p.type===1&&c==="input"&&!p.attr("type")&&p.attr("type","text")}}),e.addAttributeFilter("data-mce-type",a=>{be(a,c=>{c.attr("data-mce-type")==="format-caret"&&(c.isEmpty(e.schema.getNonEmptyElements())?c.remove():c.unwrap())})}),e.addAttributeFilter("data-mce-src,data-mce-href,data-mce-style,data-mce-selected,data-mce-expando,data-mce-block,data-mce-type,data-mce-resize,data-mce-placeholder",(a,c)=>{let m=a.length;for(;m--;)a[m].attr(c,null)}),n.remove_trailing_brs&&AL(n,e,e.schema)},JV=e=>{const n=a=>(a==null?void 0:a.name)==="br",o=e.lastChild;if(n(o)){const a=o.prev;n(a)&&(o.remove(),a.remove())}},TL=(e,n,o)=>{let a;const c=e.dom;let m=n.cloneNode(!0);const p=document.implementation;if(p.createHTMLDocument){const _=p.createHTMLDocument("");rn.each(m.nodeName==="BODY"?m.childNodes:[m],A=>{_.body.appendChild(_.importNode(A,!0))}),m.nodeName!=="BODY"?m=_.body.firstChild:m=_.body,a=c.doc,c.doc=_}return q2(e,{...o,node:m}),a&&(c.doc=a),m},OL=(e,n)=>xe(e)&&e.hasEventListeners("PreProcess")&&!n.no_events,RL=(e,n,o)=>OL(e,o)?TL(e,n,o):n,QV=(e,n,o)=>{rn.inArray(n,o)===-1&&(e.addAttributeFilter(o,(a,c)=>{let m=a.length;for(;m--;)a[m].attr(c,null)}),n.push(o))},ez=(e,n,o)=>!n.no_events&&e?Y2(e,{...n,content:o}).content:o,yk=(e,n,o)=>{const a=Rl(o.getInner?n.innerHTML:e.getOuterHTML(n));return o.selection||Pv(je.fromDom(n))?a:rn.trim(a)},IL=(e,n,o)=>{const a=o.selection?{forced_root_block:!1,...o}:o,c=e.parse(n,a);return JV(c),c},DL=(e,n,o)=>Hh(e,n).serialize(o),PL=(e,n,o,a,c)=>{const m=DL(n,o,a);return ez(e,c,m)},tz=(e,n)=>{const o=["data-mce-selected"],a={entity_encoding:"named",remove_trailing_brs:!0,pad_empty_with_br:!1,...e},c=n&&n.dom?n.dom:Js.DOM,m=n&&n.schema?n.schema:zc(a),p=By(a,m);Y4(p,a,c);const _=(A,$={})=>{const q={format:"html",...$},X=RL(n,A,q),oe=yk(c,X,q),ve=IL(p,oe,q);return q.format==="tree"?ve:PL(n,a,m,ve,q)};return{schema:m,addNodeFilter:p.addNodeFilter,addAttributeFilter:p.addAttributeFilter,serialize:_,addRules:m.addValidElements,setRules:m.setValidElements,addTempAttr:et(QV,p,o),getTempAttrs:dt(o),getNodeFilters:p.getNodeFilters,getAttributeFilters:p.getAttributeFilters,removeNodeFilter:p.removeNodeFilter,removeAttributeFilter:p.removeAttributeFilter}},NL=(e,n)=>{const o=tz(e,n);return{schema:o.schema,addNodeFilter:o.addNodeFilter,addAttributeFilter:o.addAttributeFilter,serialize:o.serialize,addRules:o.addRules,setRules:o.setRules,addTempAttr:o.addTempAttr,getTempAttrs:o.getTempAttrs,getNodeFilters:o.getNodeFilters,getAttributeFilters:o.getAttributeFilters,removeNodeFilter:o.removeNodeFilter,removeAttributeFilter:o.removeAttributeFilter}},nz="html",oz=(e,n)=>({...e,format:n,get:!0,getInner:!0}),LL=(e,n={})=>{const o=n.format?n.format:nz,a=oz(n,o);return J5(e,a).fold(Sn,c=>{const m=wL(e,c);return pf(e,m,c)})},ML="html",BL=(e,n)=>({format:ML,...e,set:!0,content:n}),X4=(e,n,o={})=>{const a=BL(o,n);return _4(e,a).map(c=>{const m=U4(e,c.content,c);return S4(e,m.html,c),m.content}).getOr(n)},sz="autoresize_on_init,content_editable_state,padd_empty_with_br,block_elements,boolean_attributes,editor_deselector,editor_selector,elements,file_browser_callback_types,filepicker_validator_handler,force_hex_style_colors,force_p_newlines,gecko_spellcheck,images_dataimg_filter,media_scripts,mode,move_caret_before_on_enter_elements,non_empty_elements,self_closing_elements,short_ended_elements,special,spellchecker_select_languages,spellchecker_whitelist,tab_focus,tabfocus_elements,table_responsive_width,text_block_elements,text_inline_elements,toolbar_drawer,types,validate,whitespace_elements,paste_enable_default_filters,paste_filter_drop,paste_word_valid_elements,paste_retain_style_properties,paste_convert_word_fake_lists,template_cdate_classes,template_mdate_classes,template_selected_content_classes,template_preview_replace_values,template_replace_values,templates,template_cdate_format,template_mdate_format".split(","),rz=[],iz="bbcode,colorpicker,contextmenu,fullpage,legacyoutput,spellchecker,template,textcolor,rtc".split(","),Ww=[],J4=(e,n)=>{const o=Ge(n,a=>yo(e,a));return _s(o)},az=e=>{const n=J4(e,sz),o=e.forced_root_block;return(o===!1||o==="")&&n.push("forced_root_block (false only)"),_s(n)},FL=e=>J4(e,rz),Q4=(e,n)=>{const o=rn.makeMap(e.plugins," "),c=Ge(n,m=>yo(o,m));return _s(c)},eO=e=>Q4(e,iz),$L=e=>Q4(e,Ww.map(n=>n.name)),VL=(e,n)=>{const o=az(e),a=eO(n),c=a.length>0,m=o.length>0,p=n.theme==="mobile";if(c||m||p){const _=`
- `,A=p?`

Themes:${_}mobile`:"",$=c?`

Plugins:${_}${a.join(_)}`:"",q=m?`

Options:${_}${o.join(_)}`:"";console.warn("The following deprecated features are currently enabled and have been removed in TinyMCE 7.0. These features will no longer work and should be removed from the TinyMCE configuration. See https://www.tiny.cloud/docs/tinymce/7/migration-from-6x/ for more information."+A+$+q)}},zL=e=>xn(Ww,n=>n.name===e).fold(()=>e,n=>n.replacedWith?`${e}, replaced by ${n.replacedWith}`:e),lz=(e,n)=>{const o=FL(e),a=$L(n),c=a.length>0,m=o.length>0;if(c||m){const p=`
- `,_=c?`

Plugins:${p}${a.map(zL).join(p)}`:"",A=m?`

Options:${p}${o.join(p)}`:"";console.warn("The following deprecated features are currently enabled but will be removed soon."+_+A)}},cz=(e,n)=>{VL(e,n),lz(e,n)},xb=Js.DOM,uz=e=>{xb.setStyle(e.id,"display",e.orgDisplay)},Kw=e=>J.from(e).each(n=>n.destroy()),xk=e=>{const n=e;n.contentAreaContainer=n.formElement=n.container=n.editorContainer=null,n.bodyElement=n.contentDocument=n.contentWindow=null,n.iframeElement=n.targetElm=null;const o=e.selection;if(o){const a=o.dom;n.selection=o.win=o.dom=a.doc=null}},HL=e=>{const n=e.formElement;n&&(n._mceOldSubmit&&(n.submit=n._mceOldSubmit,delete n._mceOldSubmit),xb.unbind(n,"submit reset",e.formEventDelegate))},UL=e=>{if(!e.removed){const{_selectionOverrides:n,editorUpload:o}=e,a=e.getBody(),c=e.getElement();a&&e.save({is_removing:!0}),e.removed=!0,e.unbindAllNativeEvents(),e.hasHiddenInput&&xe(c==null?void 0:c.nextSibling)&&xb.remove(c.nextSibling),X2(e),e.editorManager.remove(e),!e.inline&&a&&uz(e),J2(e),xb.remove(e.getContainer()),Kw(n),Kw(o),e.destroy()}},dz=(e,n)=>{const{selection:o,dom:a}=e;if(!e.destroyed){if(!n&&!e.removed){e.remove();return}n||(e.editorManager.off("beforeunload",e._beforeUnload),e.theme&&e.theme.destroy&&e.theme.destroy(),Kw(o),Kw(a)),HL(e),xk(e),e.destroyed=!0}},jw=(()=>{const e={};return{add:(c,m)=>{e[c]=m},get:c=>e[c]?e[c]:{icons:{}},has:c=>yo(e,c)}})(),wb=fl.ModelManager,Zw=(e,n)=>n.dom[e],tO=(e,n)=>parseInt(Hr(n,e),10),nO=et(Zw,"clientWidth"),WL=et(Zw,"clientHeight"),fz=et(tO,"margin-top"),KL=et(tO,"margin-left"),mz=e=>e.dom.getBoundingClientRect(),jL=(e,n,o)=>{const a=nO(e),c=WL(e);return n>=0&&o>=0&&n<=a&&o<=c},ZL=(e,n,o,a)=>{const c=mz(n),m=e?c.left+n.dom.clientLeft+KL(n):0,p=e?c.top+n.dom.clientTop+fz(n):0,_=o-m,A=a-p;return{x:_,y:A}},gz=(e,n,o)=>{const a=je.fromDom(e.getBody()),c=e.inline?a:Qu(a),m=ZL(e.inline,c,n,o);return jL(c,m.x,m.y)},GL=e=>J.from(e).map(je.fromDom),oO=e=>{const n=e.inline?e.getBody():e.getContentAreaContainer();return GL(n).map(Ua).getOr(!1)};var qL=()=>{const e=()=>{throw new Error("Theme did not provide a NotificationManager implementation.")};return{open:e,close:e,getArgs:e}};const sO=e=>{const n=[],o=()=>{const oe=e.theme;return oe&&oe.getNotificationManagerImpl?oe.getNotificationManagerImpl():qL()},a=()=>J.from(n[0]),c=(oe,ve)=>oe.type===ve.type&&oe.text===ve.text&&!oe.progressBar&&!oe.timeout&&!ve.progressBar&&!ve.timeout,m=()=>{a().each(oe=>{oe.reposition()})},p=oe=>{n.push(oe)},_=oe=>{Xn(n,ve=>ve===oe).each(ve=>{n.splice(ve,1)})},A=(oe,ve=!0)=>e.removed||!oO(e)?{}:(ve&&e.dispatch("BeforeOpenNotification",{notification:oe}),xn(n,Oe=>c(o().getArgs(Oe),oe)).getOrThunk(()=>{e.editorManager.setActive(e);const Oe=o().open(oe,()=>{_(Oe)},()=>c0(e));return p(Oe),m(),e.dispatch("OpenNotification",{notification:{...Oe}}),Oe})),$=()=>{a().each(oe=>{o().close(oe),_(oe),m()})},q=dt(n);return(oe=>{oe.on("SkinLoaded",()=>{const ve=C8(oe);ve&&A({text:ve,type:"warning",timeout:0},!1),m()}),oe.on("show ResizeEditor ResizeWindow NodeChange ToggleView FullscreenStateChanged",()=>{requestAnimationFrame(m)}),oe.on("remove",()=>{be(n.slice(),ve=>{o().close(ve)})}),oe.addShortcut("alt+F12","Focus to notification",()=>a().map(ve=>je.fromDom(ve.getEl())).each(ve=>fT(ve)))})(e),{open:A,close:$,getNotifications:q}},E0=fl.PluginManager,Cb=fl.ThemeManager;var hz=()=>{const e=()=>{throw new Error("Theme did not provide a WindowManager implementation.")};return{open:e,openUrl:e,alert:e,confirm:e,close:e}};const YL=e=>{let n=[];const o=()=>{const ye=e.theme;return ye&&ye.getWindowManagerImpl?ye.getWindowManagerImpl():hz()},a=(ye,Pe)=>(...Ye)=>Pe?Pe.apply(ye,Ye):void 0,c=ye=>{e.dispatch("OpenWindow",{dialog:ye})},m=ye=>{e.dispatch("CloseWindow",{dialog:ye})},p=ye=>{n.push(ye),c(ye)},_=ye=>{m(ye),n=Ge(n,Pe=>Pe!==ye),n.length===0&&e.focus()},A=()=>J.from(n[n.length-1]),$=ye=>{e.editorManager.setActive(e),yy(e),e.ui.show();const Pe=ye();return p(Pe),Pe},q=(ye,Pe)=>$(()=>o().open(ye,Pe,_)),X=ye=>$(()=>o().openUrl(ye,_)),oe=(ye,Pe,Ye)=>{const st=o();st.alert(ye,a(Ye||st,Pe))},ve=(ye,Pe,Ye)=>{const st=o();st.confirm(ye,a(Ye||st,Pe))},Oe=()=>{A().each(ye=>{o().close(ye),_(ye)})};return e.on("remove",()=>{be(n,ye=>{o().close(ye)})}),{open:q,openUrl:X,alert:oe,confirm:ve,close:Oe}},wk=(e,n)=>{e.notificationManager.open({type:"error",text:n})},Ck=(e,n)=>{e._skinLoaded?wk(e,n):e.on("SkinLoaded",()=>{wk(e,n)})},XL=(e,n)=>{Ck(e,Hc.translate(["Failed to upload image: {0}",n]))},Hy=(e,n,o)=>{XA(e,n,{message:o}),console.error(o)},A0=(e,n,o)=>o?`Failed to load ${e}: ${o} from url ${n}`:`Failed to load ${e} url: ${n}`,rO=(e,n,o)=>{Hy(e,"PluginLoadError",A0("plugin",n,o))},iO=(e,n,o)=>{Hy(e,"IconsLoadError",A0("icons",n,o))},pz=(e,n,o)=>{Hy(e,"LanguageLoadError",A0("language",n,o))},JL=(e,n,o)=>{Hy(e,"ThemeLoadError",A0("theme",n,o))},bz=(e,n,o)=>{Hy(e,"ModelLoadError",A0("model",n,o))},vz=(e,n,o)=>{const a=Hc.translate(["Failed to initialize plugin: {0}",n]);XA(e,"PluginLoadError",{message:a}),Gw(a,o),Ck(e,a)},Gw=(e,...n)=>{const o=window.console;o&&(o.error?o.error(e,...n):o.log(e,...n))},aO=e=>/^[a-z0-9\-]+$/i.test(e),lO=e=>"content/"+e+"/content.css",_k=e=>tinymce.Resource.has(lO(e)),yz=e=>QL(e,Ul(e)),xz=e=>QL(e,MI(e)),QL=(e,n)=>{const o=e.editorManager.baseURL+"/skins/content",c=`content${e.editorManager.suffix}.css`;return He(n,m=>_k(m)?m:aO(m)&&!e.inline?`${o}/${m}/${c}`:e.documentBaseURI.toAbsolute(m))},eM=e=>{e.contentCSS=e.contentCSS.concat(yz(e),xz(e))},tM=e=>e?Do(e.getElementsByTagName("img")):[],wz=(e,n)=>{const o={};return{findAll:(c,m=sn)=>{const p=Ge(tM(c),A=>{const $=A.src;return A.hasAttribute("data-mce-bogus")||A.hasAttribute("data-mce-placeholder")||!$||$===Wo.transparentSrc?!1:cr($,"blob:")?!e.isUploaded($)&&m(A):cr($,"data:")?m(A):!1}),_=He(p,A=>{const $=A.src;if(yo(o,$))return o[$].then(q=>le(q)?q:{image:A,blobInfo:q.blobInfo});{const q=t4(n,$).then(X=>(delete o[$],{image:A,blobInfo:X})).catch(X=>(delete o[$],X));return o[$]=q,q}});return Promise.all(_)}}},cO=()=>{let o={};const a=(oe,ve)=>({status:oe,resultUri:ve}),c=oe=>oe in o;return{hasBlobUri:c,getResultUri:oe=>{const ve=o[oe];return ve?ve.resultUri:null},isPending:oe=>c(oe)?o[oe].status===1:!1,isUploaded:oe=>c(oe)?o[oe].status===2:!1,markPending:oe=>{o[oe]=a(1,null)},markUploaded:(oe,ve)=>{o[oe]=a(2,ve)},removeFailed:oe=>{delete o[oe]},destroy:()=>{o={}}}};let qw=0;const nM=()=>{const e=()=>Math.round(Ol()*4294967295).toString(36);return"s"+new Date().getTime().toString(36)+e()+e()+e()},Cz=e=>e+qw+++nM(),oM=()=>{let e=[];const n=X=>({"image/jpeg":"jpg","image/jpg":"jpg","image/gif":"gif","image/png":"png","image/apng":"apng","image/avif":"avif","image/svg+xml":"svg","image/webp":"webp","image/bmp":"bmp","image/tiff":"tiff"})[X.toLowerCase()]||"dat",o=(X,oe,ve,Oe,ye)=>{if(le(X))return a({id:X,name:Oe,filename:ye,blob:oe,base64:ve});if(j(X))return a(X);throw new Error("Unknown input type")},a=X=>{if(!X.blob||!X.base64)throw new Error("blob and base64 representations of the image are required for BlobInfo to be created");const oe=X.id||Cz("blobid"),ve=X.name||oe,Oe=X.blob;return{id:dt(oe),name:dt(ve),filename:dt(X.filename||ve+"."+n(Oe.type)),blob:dt(Oe),base64:dt(X.base64),blobUri:dt(X.blobUri||URL.createObjectURL(Oe)),uri:dt(X.uri)}},c=X=>{p(X.id())||e.push(X)},m=X=>xn(e,X).getOrUndefined(),p=X=>m(oe=>oe.id()===X);return{create:o,add:c,get:p,getByUri:X=>m(oe=>oe.blobUri()===X),getByData:(X,oe)=>m(ve=>ve.base64()===X&&ve.blob().type===oe),findFirst:m,removeByUri:X=>{e=Ge(e,oe=>oe.blobUri()===X?(URL.revokeObjectURL(oe.blobUri()),!1):!0)},destroy:()=>{be(e,X=>{URL.revokeObjectURL(X.blobUri())}),e=[]}}},sM=(e,n)=>{const o={},a=(ye,Pe)=>ye?ye.replace(/\/$/,"")+"/"+Pe.replace(/^\//,""):Pe,c=(ye,Pe)=>new Promise((Ye,st)=>{const nt=new XMLHttpRequest;nt.open("POST",n.url),nt.withCredentials=n.credentials,nt.upload.onprogress=Ut=>{Pe(Ut.loaded/Ut.total*100)},nt.onerror=()=>{st("Image upload failed due to a XHR Transport error. Code: "+nt.status)},nt.onload=()=>{if(nt.status<200||nt.status>=300){st("HTTP Error: "+nt.status);return}const Ut=JSON.parse(nt.responseText);if(!Ut||!le(Ut.location)){st("Invalid JSON: "+nt.responseText);return}Ye(a(n.basePath,Ut.location))};const yt=new FormData;yt.append("file",ye.blob(),ye.filename()),nt.send(yt)}),m=_e(n.handler)?n.handler:c,p=()=>new Promise(ye=>{ye([])}),_=(ye,Pe)=>({url:Pe,blobInfo:ye,status:!0}),A=(ye,Pe)=>({url:"",blobInfo:ye,status:!1,error:Pe}),$=(ye,Pe)=>{rn.each(o[ye],Ye=>{Ye(Pe)}),delete o[ye]},q=(ye,Pe,Ye)=>(e.markPending(ye.blobUri()),new Promise(st=>{let nt,yt;try{const Ut=()=>{nt&&(nt.close(),yt=lt)},on=Pt=>{Ut(),e.markUploaded(ye.blobUri(),Pt),$(ye.blobUri(),_(ye,Pt)),st(_(ye,Pt))},_n=Pt=>{Ut(),e.removeFailed(ye.blobUri()),$(ye.blobUri(),A(ye,Pt)),st(A(ye,Pt))};yt=Pt=>{Pt<0||Pt>100||J.from(nt).orThunk(()=>J.from(Ye).map(so)).each(St=>{nt=St,St.progressBar.value(Pt)})},Pe(ye,yt).then(on,Pt=>{_n(le(Pt)?{message:Pt}:Pt)})}catch(Ut){st(A(ye,Ut))}})),X=ye=>ye===c,oe=ye=>{const Pe=ye.blobUri();return new Promise(Ye=>{o[Pe]=o[Pe]||[],o[Pe].push(Ye)})},ve=(ye,Pe)=>(ye=rn.grep(ye,Ye=>!e.isUploaded(Ye.blobUri())),Promise.all(rn.map(ye,Ye=>e.isPending(Ye.blobUri())?oe(Ye):q(Ye,m,Pe))));return{upload:(ye,Pe)=>!n.url&&X(m)?p():ve(ye,Pe)}},rM=e=>()=>e.notificationManager.open({text:e.translate("Image uploading..."),type:"info",timeout:-1,progressBar:!0}),iM=(e,n)=>sM(n,{url:mA(e),basePath:PI(e),credentials:gA(e),handler:y8(e)}),_z=e=>{const n=cO(),o=iM(e,n);return{upload:(a,c=!0)=>o.upload(a,c?rM(e):void 0)}},Sz=(e,n)=>e.dom.isEmpty(n.dom)&&xe(e.schema.getTextBlockElements()[os(n)]),aM=e=>n=>{Sz(e,n)&&Ur(n,je.fromHtml('<br data-mce-bogus="1" />'))},uO=e=>{const n=oM();let o,a;const c=cO(),m=[],p=nt=>yt=>e.selection?nt(yt):[],_=nt=>nt+(nt.indexOf("?")===-1?"?":"&")+new Date().getTime(),A=(nt,yt,Ut)=>{let on=0;do on=nt.indexOf(yt,on),on!==-1&&(nt=nt.substring(0,on)+Ut+nt.substr(on+yt.length),on+=Ut.length-yt.length+1);while(on!==-1);return nt},$=(nt,yt,Ut)=>{const on=`src="${Ut}"${Ut===Wo.transparentSrc?' data-mce-placeholder="1"':""}`;return nt=A(nt,`src="${yt}"`,on),nt=A(nt,'data-mce-src="'+yt+'"','data-mce-src="'+Ut+'"'),nt},q=(nt,yt)=>{be(e.undoManager.data,Ut=>{Ut.type==="fragmented"?Ut.fragments=He(Ut.fragments,on=>$(on,nt,yt)):Ut.content=$(Ut.content,nt,yt)})},X=(nt,yt)=>{const Ut=e.convertURL(yt,"src");q(nt.src,yt),za(je.fromDom(nt),{src:Lh(e)?_(yt):yt,"data-mce-src":Ut})},oe=()=>(o||(o=iM(e,c)),Pe().then(p(nt=>{const yt=He(nt,Ut=>Ut.blobInfo);return o.upload(yt,rM(e)).then(p(Ut=>{const on=[];let _n=!1;const Pt=He(Ut,(St,zt)=>{const{blobInfo:Pn,image:jn}=nt[zt];let Ho=!1;return St.status&&II(e)?(St.url&&!Bs(jn.src,St.url)&&(_n=!0),n.removeByUri(jn.src),Ig(e)||X(jn,St.url)):St.error&&(St.error.remove&&(q(jn.src,Wo.transparentSrc),on.push(jn),Ho=!0),XL(e,St.error.message)),{element:jn,status:St.status,uploadUri:St.url,blobInfo:Pn,removed:Ho}});return on.length>0&&!Ig(e)?e.undoManager.transact(()=>{be(hu(on),St=>{const zt=ga(St);Ns(St),zt.each(aM(e)),n.removeByUri(St.dom.src)})}):_n&&e.undoManager.dispatchChange(),Pt}))}))),ve=()=>Qs(e)?oe():Promise.resolve([]),Oe=nt=>No(m,yt=>yt(nt)),ye=nt=>{m.push(nt)},Pe=()=>(a||(a=wz(c,n)),a.findAll(e.getBody(),Oe).then(p(nt=>{const yt=Ge(nt,Ut=>le(Ut)?(Ck(e,Ut),!1):Ut.uriType!=="blob");return Ig(e)||be(yt,Ut=>{q(Ut.image.src,Ut.blobInfo.blobUri()),Ut.image.src=Ut.blobInfo.blobUri(),Ut.image.removeAttribute("data-mce-src")}),yt}))),Ye=()=>{n.destroy(),c.destroy(),a=o=null},st=nt=>nt.replace(/src="(blob:[^"]+)"/g,(yt,Ut)=>{const on=c.getResultUri(Ut);if(on)return'src="'+on+'"';let _n=n.getByUri(Ut);return _n||(_n=cn(e.editorManager.get(),(Pt,St)=>Pt||St.editorUpload&&St.editorUpload.blobCache.getByUri(Ut),void 0)),_n?'src="data:'+_n.blob().type+";base64,"+_n.base64()+'"':yt});return e.on("SetContent",()=>{Qs(e)?ve():Pe()}),e.on("RawSaveContent",nt=>{nt.content=st(nt.content)}),e.on("GetContent",nt=>{nt.source_view||nt.format==="raw"||nt.format==="tree"||(nt.content=st(nt.content))}),e.on("PostRender",()=>{e.parser.addNodeFilter("img",nt=>{be(nt,yt=>{const Ut=yt.attr("src");if(!Ut||n.getByUri(Ut))return;const on=c.getResultUri(Ut);on&&yt.attr("src",on)})})}),{blobCache:n,addFilter:ye,uploadImages:oe,uploadImagesAuto:ve,scanForImages:Pe,destroy:Ye}},lM=e=>{const n=e.dom,o=e.schema.type,a={valigntop:[{selector:"td,th",styles:{verticalAlign:"top"}}],valignmiddle:[{selector:"td,th",styles:{verticalAlign:"middle"}}],valignbottom:[{selector:"td,th",styles:{verticalAlign:"bottom"}}],alignleft:[{selector:"figure.image",collapsed:!1,classes:"align-left",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"left"},inherit:!1,preview:!1},{selector:"img,audio,video",collapsed:!1,styles:{float:"left"},preview:"font-family font-size"},{selector:"table",collapsed:!1,styles:{marginLeft:"0px",marginRight:"auto"},onformat:c=>{n.setStyle(c,"float",null)},preview:"font-family font-size"},{selector:".mce-preview-object,[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{float:"left"}}],aligncenter:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"center"},inherit:!1,preview:"font-family font-size"},{selector:"figure.image",collapsed:!1,classes:"align-center",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"img,audio,video",collapsed:!1,styles:{display:"block",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"table",collapsed:!1,styles:{marginLeft:"auto",marginRight:"auto"},preview:"font-family font-size"},{selector:".mce-preview-object",ceFalseOverride:!0,styles:{display:"table",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{marginLeft:"auto",marginRight:"auto"},preview:!1}],alignright:[{selector:"figure.image",collapsed:!1,classes:"align-right",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"right"},inherit:!1,preview:"font-family font-size"},{selector:"img,audio,video",collapsed:!1,styles:{float:"right"},preview:"font-family font-size"},{selector:"table",collapsed:!1,styles:{marginRight:"0px",marginLeft:"auto"},onformat:c=>{n.setStyle(c,"float",null)},preview:"font-family font-size"},{selector:".mce-preview-object,[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{float:"right"},preview:!1}],alignjustify:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"justify"},inherit:!1,preview:"font-family font-size"}],bold:[{inline:"strong",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontWeight:"bold"}},{inline:"b",remove:"all",preserve_attributes:["class","style"]}],italic:[{inline:"em",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontStyle:"italic"}},{inline:"i",remove:"all",preserve_attributes:["class","style"]}],underline:[{inline:"span",styles:{textDecoration:"underline"},exact:!0},{inline:"u",remove:"all",preserve_attributes:["class","style"]}],strikethrough:(()=>{const c={inline:"span",styles:{textDecoration:"line-through"},exact:!0},m={inline:"strike",remove:"all",preserve_attributes:["class","style"]},p={inline:"s",remove:"all",preserve_attributes:["class","style"]};return o!=="html4"?[p,c,m]:[c,p,m]})(),forecolor:{inline:"span",styles:{color:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},hilitecolor:{inline:"span",styles:{backgroundColor:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},fontname:{inline:"span",toggle:!1,styles:{fontFamily:"%value"},clear_child_styles:!0},fontsize:{inline:"span",toggle:!1,styles:{fontSize:"%value"},clear_child_styles:!0},lineheight:{selector:"h1,h2,h3,h4,h5,h6,p,li,td,th,div",styles:{lineHeight:"%value"}},fontsize_class:{inline:"span",attributes:{class:"%value"}},blockquote:{block:"blockquote",wrapper:!0,remove:"all"},subscript:{inline:"sub"},superscript:{inline:"sup"},code:{inline:"code"},link:{inline:"a",selector:"a",remove:"all",split:!0,deep:!0,onmatch:(c,m,p)=>Ln(c)&&c.hasAttribute("href"),onformat:(c,m,p)=>{rn.each(p,(_,A)=>{n.setAttrib(c,A,_)})}},lang:{inline:"span",clear_child_styles:!0,remove_similar:!0,attributes:{lang:"%value","data-mce-lang":c=>{var m;return(m=c==null?void 0:c.customValue)!==null&&m!==void 0?m:null}}},removeformat:[{selector:"b,strong,em,i,font,u,strike,s,sub,sup,dfn,code,samp,kbd,var,cite,mark,q,del,ins,small",remove:"all",split:!0,expand:!1,block_expand:!0,deep:!0},{selector:"span",attributes:["style","class"],remove:"empty",split:!0,expand:!1,deep:!0},{selector:"*",attributes:["style","class"],split:!1,expand:!1,deep:!0}]};return rn.each("p h1 h2 h3 h4 h5 h6 div address pre dt dd samp".split(/\s/),c=>{a[c]={block:c,remove:"all"}}),a},dO={remove_similar:!0,inherit:!1},T0={selector:"td,th",...dO},cM={tablecellbackgroundcolor:{styles:{backgroundColor:"%value"},...T0},tablecellverticalalign:{styles:{"vertical-align":"%value"},...T0},tablecellbordercolor:{styles:{borderColor:"%value"},...T0},tablecellclass:{classes:["%value"],...T0},tableclass:{selector:"table",classes:["%value"],...dO},tablecellborderstyle:{styles:{borderStyle:"%value"},...T0},tablecellborderwidth:{styles:{borderWidth:"%value"},...T0}},kz=dt(cM),fO=e=>{const n={},o=p=>xe(p)?n[p]:n,a=p=>yo(n,p),c=(p,_)=>{p&&(le(p)?(ne(_)||(_=[_]),be(_,A=>{Xe(A.deep)&&(A.deep=!Gc(A)),Xe(A.split)&&(A.split=!Gc(A)||Ca(A)),Xe(A.remove)&&Gc(A)&&!Ca(A)&&(A.remove="none"),Gc(A)&&Ca(A)&&(A.mixed=!0,A.block_expand=!0),le(A.classes)&&(A.classes=A.classes.split(/\s+/))}),n[p]=_):fs(p,(A,$)=>{c($,A)}))},m=p=>(p&&n[p]&&delete n[p],n);return c(lM(e)),c(kz()),c(S8(e)),{get:o,has:a,register:c,unregister:m}},O0=rn.each,yc=Js.DOM,gm=e=>xe(e)&&j(e),Yw=(e,n)=>{const o=n&&n.schema||zc({}),a=(A,$)=>{$.classes.length>0&&yc.addClass(A,$.classes.join(" ")),yc.setAttribs(A,$.attrs)},c=A=>{const $=le(A)?{name:A,classes:[],attrs:{}}:A,q=yc.create($.name);return a(q,$),q},m=(A,$)=>{const q=o.getElementRule(A.nodeName.toLowerCase()),X=q==null?void 0:q.parentsRequired;return X&&X.length?$&&we(X,$)?$:X[0]:!1},p=(A,$,q)=>{let X;const oe=$[0],ve=gm(oe)?oe.name:void 0,Oe=m(A,ve);if(Oe)ve===Oe?(X=oe,$=$.slice(1)):X=Oe;else if(oe)X=oe,$=$.slice(1);else if(!q)return A;const ye=X?c(X):yc.create("div");ye.appendChild(A),q&&rn.each(q,Ye=>{const st=c(Ye);ye.insertBefore(st,A)});const Pe=gm(X)?X.siblings:void 0;return p(ye,$,Pe)},_=yc.create("div");if(e.length>0){const A=e[0],$=c(A),q=gm(A)?A.siblings:void 0;_.appendChild(p($,e.slice(1),q))}return _},Uy=e=>{e=rn.trim(e);let n="div";const o={name:n,classes:[],attrs:{},selector:e};return e!=="*"&&(n=e.replace(/(?:([#\.]|::?)([\w\-]+)|(\[)([^\]]+)\]?)/g,(a,c,m,p,_)=>{switch(c){case"#":o.attrs.id=m;break;case".":o.classes.push(m);break;case":":rn.inArray("checked disabled enabled read-only required".split(" "),m)!==-1&&(o.attrs[m]=m);break}if(p==="["){const A=_.match(/([\w\-]+)(?:\=\"([^\"]+))?/);A&&(o.attrs[A[1]]=A[2])}return""})),o.name=n||"div",o},uM=e=>le(e)?(e=e.split(/\s*,\s*/)[0],e=e.replace(/\s*(~\+|~|\+|>)\s*/g,"$1"),rn.map(e.split(/(?:>|\s+(?![^\[\]]+\]))/),n=>{const o=rn.map(n.split(/(?:~\+|~|\+)/),Uy),a=o.pop();return o.length&&(a.siblings=o),a}).reverse()):[],dM=(e,n)=>{let o="",a=k8(e);if(a==="")return"";const c=oe=>le(oe)?oe.replace(/%(\w+)/g,""):"",m=(oe,ve)=>yc.getStyle(ve??e.getBody(),oe,!0);if(le(n)){const oe=e.formatter.get(n);if(!oe)return"";n=oe[0]}if("preview"in n){const oe=n.preview;if(oe===!1)return"";a=oe||a}let p=n.block||n.inline||"span",_;const A=uM(n.selector);A.length>0?(A[0].name||(A[0].name=p),p=n.selector,_=Yw(A,e)):_=Yw([p],e);const $=yc.select(p,_)[0]||_.firstChild;O0(n.styles,(oe,ve)=>{const Oe=c(oe);Oe&&yc.setStyle($,ve,Oe)}),O0(n.attributes,(oe,ve)=>{const Oe=c(oe);Oe&&yc.setAttrib($,ve,Oe)}),O0(n.classes,oe=>{const ve=c(oe);yc.hasClass($,ve)||yc.addClass($,ve)}),e.dispatch("PreviewFormats"),yc.setStyles(_,{position:"absolute",left:-65535}),e.getBody().appendChild(_);const q=m("fontSize"),X=/px$/.test(q)?parseInt(q,10):0;return O0(a.split(" "),oe=>{let ve=m(oe,$);if(!(oe==="background-color"&&/transparent|rgba\s*\([^)]+,\s*0\)/.test(ve)&&(ve=m(oe),yv(ve).toLowerCase()==="#ffffff"))&&!(oe==="color"&&yv(ve).toLowerCase()==="#000000")){if(oe==="font-size"&&/em|%$/.test(ve)){if(X===0)return;ve=parseFloat(ve)/(/%$/.test(ve)?100:1)*X+"px"}oe==="border"&&ve&&(o+="padding:0 2px;"),o+=oe+":"+ve+";"}}),e.dispatch("AfterPreviewFormats"),yc.remove(_),o},mO=e=>{e.addShortcut("meta+b","","Bold"),e.addShortcut("meta+i","","Italic"),e.addShortcut("meta+u","","Underline");for(let n=1;n<=6;n++)e.addShortcut("access+"+n,"",["FormatBlock",!1,"h"+n]);e.addShortcut("access+7","",["FormatBlock",!1,"p"]),e.addShortcut("access+8","",["FormatBlock",!1,"div"]),e.addShortcut("access+9","",["FormatBlock",!1,"address"])},Xw=e=>{const n=fO(e),o=Li({});return mO(e),n5(e),Ig(e)||y5(o,e),{get:n.get,has:n.has,register:n.register,unregister:n.unregister,apply:(a,c,m)=>{sr(e,a,c,m)},remove:(a,c,m,p)=>{yL(e,a,c,m,p)},toggle:(a,c,m)=>{H4(e,a,c,m)},match:(a,c,m,p)=>UV(e,a,c,m,p),closest:a=>ZV(e,a),matchAll:(a,c)=>WV(e,a,c),matchNode:(a,c,m,p)=>KV(e,a,c,m,p),canApply:a=>jV(e,a),formatChanged:(a,c,m,p)=>xL(e,o,a,c,m,p),getCssText:et(dM,e)}},Yh=e=>{switch(e.toLowerCase()){case"undo":case"redo":case"mcefocus":return!0;default:return!1}},R0=(e,n,o)=>{const a=Li(!1),c=A=>{Hw(n,!1,o),n.add({},A)};e.on("init",()=>{n.add()}),e.on("BeforeExecCommand",A=>{const $=A.command;Yh($)||(L4(n,o),n.beforeChange())}),e.on("ExecCommand",A=>{const $=A.command;Yh($)||c(A)}),e.on("ObjectResizeStart cut",()=>{n.beforeChange()}),e.on("SaveContent ObjectResized blur",c),e.on("dragend",c),e.on("keyup",A=>{const $=A.keyCode;if(A.isDefaultPrevented())return;const q=Wo.os.isMacOS()&&A.key==="Meta";($>=33&&$<=36||$>=37&&$<=40||$===45||A.ctrlKey||q)&&(c(),e.nodeChanged()),($===46||$===8)&&e.nodeChanged(),a.get()&&n.typing&&!$y(Fy(e),n.data[0])&&(e.isDirty()||e.setDirty(!0),e.dispatch("TypingUndo"),a.set(!1),e.nodeChanged())}),e.on("keydown",A=>{const $=A.keyCode;if(A.isDefaultPrevented())return;if($>=33&&$<=36||$>=37&&$<=40||$===45){n.typing&&c(A);return}const q=A.ctrlKey&&!A.altKey||A.metaKey;if(($<16||$>20)&&$!==224&&$!==91&&!n.typing&&!q){n.beforeChange(),Hw(n,!0,o),n.add({},A),a.set(!0);return}(Wo.os.isMacOS()?A.metaKey:A.ctrlKey&&!A.altKey)&&n.beforeChange()}),e.on("mousedown",A=>{n.typing&&c(A)});const m=A=>A.inputType==="insertReplacementText",p=A=>A.inputType==="insertText"&&A.data===null,_=A=>A.inputType==="insertFromPaste"||A.inputType==="insertFromDrop";e.on("input",A=>{A.inputType&&(m(A)||p(A)||_(A))&&c(A)}),e.on("AddUndo Undo Redo ClearUndos",A=>{A.isDefaultPrevented()||e.nodeChanged()})},fM=e=>{e.addShortcut("meta+z","","Undo"),e.addShortcut("meta+y,meta+shift+z","","Redo")},mM=e=>{const n=Mi(),o=Li(0),a=Li(0),c={data:[],typing:!1,beforeChange:()=>{Vy(e,o,n)},add:(m,p)=>MV(e,c,a,o,n,m,p),dispatchChange:()=>{e.setDirty(!0);const m=Fy(e);m.bookmark=An(e.selection),e.dispatch("change",{level:m,lastLevel:Zi(c.data,a.get()).getOrUndefined()})},undo:()=>BV(e,c,o,a),redo:()=>bL(e,a,c.data),clear:()=>{vL(e,c,a)},reset:()=>{vk(e,c)},hasUndo:()=>FV(e,c,a),hasRedo:()=>$V(e,c,a),transact:m=>VV(e,c,o,m),ignore:m=>{zV(e,o,m)},extra:(m,p)=>{HV(e,c,a,m,p)}};return Ig(e)||R0(e,c,o),fM(e),c},gM=[9,27,yn.HOME,yn.END,19,20,44,144,145,33,34,45,16,17,18,91,92,93,yn.DOWN,yn.UP,yn.LEFT,yn.RIGHT].concat(Wo.browser.isFirefox()?[224]:[]),hM="data-mce-placeholder",pM=e=>e.type==="keydown"||e.type==="keyup",bM=e=>{const n=e.keyCode;return n===yn.BACKSPACE||n===yn.DELETE},gO=e=>{if(pM(e)){const n=e.keyCode;return!bM(e)&&(yn.metaKeyPressed(e)||e.altKey||n>=112&&n<=123||we(gM,n))}else return!1},vM=e=>pM(e)&&!(bM(e)||e.type==="keyup"&&e.keyCode===229),Ez=(e,n,o)=>{if(e.isEmpty(n,void 0,{skipBogus:!1,includeZwsp:!0})){const a=n.firstElementChild;return a?e.getStyle(n.firstElementChild,"padding-left")||e.getStyle(n.firstElementChild,"padding-right")?!1:o===a.nodeName.toLowerCase():!0}else return!1},yM=e=>{var n;const o=e.dom,a=gl(e),c=(n=pA(e))!==null&&n!==void 0?n:"",m=(p,_)=>{if(gO(p))return;const A=e.getBody(),$=vM(p)?!1:Ez(o,A,a);(o.getAttrib(A,hM)!==""!==$||_)&&(o.setAttrib(A,hM,$?c:null),XD(e,$),e.on($?"keydown":"keyup",m),e.off($?"keyup":"keydown",m))};ot(c)&&e.on("init",p=>{m(p,!0),e.on("change SetContent ExecCommand",m),e.on("paste",_=>Yc.setEditorTimeout(e,()=>m(_)))})},Az=(e,n)=>({block:e,position:n}),hO=(e,n)=>({from:e,to:n}),pO=(e,n)=>{const o=je.fromDom(e),a=je.fromDom(n.container());return _w(o,a).map(c=>Az(c,n))},xM=e=>!(ma(e.to.block,e.from.block)||ma(e.from.block,e.to.block)),bO=e=>!ss(e.from.block,e.to.block),vO=(e,n)=>bi(n,c=>Uc(c)||Bc(c.dom),c=>ss(c,e)).filter(zr).getOr(e),yO=(e,n)=>{const o=je.fromDom(e);return ss(vO(o,n.from.block),vO(o,n.to.block))},Tz=e=>_o(e.from.block.dom)===!1&&_o(e.to.block.dom)===!1,wM=e=>{const n=o=>Iv(o)||Ji(o.dom)||ag(o);return n(e.from.block)&&n(e.to.block)},Oz=(e,n,o,a)=>pr(a.position.getNode())&&!Kr(e,a.block)?uy(!1,a.block.dom).bind(c=>c.isEqual(a.position)?Au(o,n,c).bind(m=>pO(n,m)):J.some(a)).getOr(a):a,CM=(e,n,o,a)=>{const c=pO(n,At.fromRangeStart(a)),m=c.bind(p=>Au(o,n,p.position).bind(_=>pO(n,_).map(A=>Oz(e,n,o,A))));return da(c,m,hO).filter(p=>bO(p)&&yO(n,p)&&Tz(p)&&wM(p)&&xM(p))},_M=(e,n,o,a)=>a.collapsed?CM(e,n,o,a):J.none(),Rz=(e,n)=>{const o=ha(e);return Xn(o,a=>n.isBlock(os(a))).fold(dt(o),a=>o.slice(0,a))},SM=(e,n)=>{const o=Rz(e,n);return be(o,Ns),o},kM=(e,n,o)=>{const a=Xc(o,n);return xn(a.reverse(),c=>Kr(e,c)).each(Ns)},Iz=(e,n)=>Ge(td(n),o=>!Kr(e,o)).length===0,Dz=(e,n,o,a,c)=>{if(Kr(a,o))return Wc(o),ao(o.dom);Iz(a,c)&&Kr(a,n)&&Or(c,je.fromTag("br"));const m=Zc(o.dom,At.before(c.dom));return be(SM(n,a),p=>{Or(c,p)}),kM(a,e,n),m},I0=(e,n)=>e.isInline(os(n)),EM=(e,n,o,a)=>{if(Kr(a,o)){if(Kr(a,n)){const p=pt((_=>{const A=($,q)=>Hl($).fold(()=>q,X=>I0(a,X)?A(X,q.concat(Gr(X))):q);return A(_,[])})(o),(_,A)=>(Xl(_,A),A),sf());or(n),Ur(n,p)}return Ns(o),ao(n.dom)}const c=md(o.dom);return be(SM(n,a),m=>{Ur(o,m)}),kM(a,e,n),c},AM=(e,n)=>{const o=Xc(n,e);return J.from(o[o.length-1])},TM=(e,n)=>ma(n,e)?AM(n,e):J.none(),OM=(e,n)=>{uy(e,n.dom).bind(o=>J.from(o.getNode())).map(je.fromDom).filter(dd).each(Ns)},RM=(e,n,o,a)=>(OM(!0,n),OM(!1,o),TM(n,o).fold(et(EM,e,n,o,a),et(Dz,e,n,o,a))),Xh=(e,n,o,a,c)=>n?RM(e,a,o,c):RM(e,o,a,c),Sk=(e,n)=>{const o=je.fromDom(e.getBody());return _M(e.schema,o.dom,n,e.selection.getRng()).map(c=>()=>{Xh(o,n,c.from.block,c.to.block,e.schema).each(m=>{e.selection.setRng(m.toRange())})})},kk=(e,n,o)=>{const a=n.getRng();return da(_w(e,je.fromDom(a.startContainer)),_w(e,je.fromDom(a.endContainer)),(c,m)=>ss(c,m)?J.none():J.some(()=>{a.deleteContents(),Xh(e,!0,c,m,o).each(p=>{n.setRng(p.toRange())})})).getOr(J.none())},IM=(e,n)=>{const o=je.fromDom(n),a=et(ss,e);return ll(o,Uc,a).isSome()},DM=(e,n)=>IM(e,n.startContainer)||IM(e,n.endContainer),Pz=(e,n)=>{const o=Zc(e.dom,At.fromRangeStart(n)).isNone(),a=ec(e.dom,At.fromRangeEnd(n)).isNone();return!DM(e,n)&&o&&a},Nz=e=>J.some(()=>{e.setContent(""),e.selection.setCursorLocation()}),xO=e=>{const n=je.fromDom(e.getBody()),o=e.selection.getRng();return Pz(n,o)?Nz(e):kk(n,e.selection,e.schema)},wO=(e,n)=>e.selection.isCollapsed()?J.none():xO(e),Nr=(e,n,o,a,c)=>J.from(n._selectionOverrides.showCaret(e,o,a,c)),Lz=e=>{const n=e.ownerDocument.createRange();return n.selectNode(e),n},Jw=(e,n)=>e.dispatch("BeforeObjectSelected",{target:n}).isDefaultPrevented()?J.none():J.some(Lz(n)),CO=(e,n,o)=>{const a=PA(1,e.getBody(),n),c=At.fromRangeStart(a),m=c.getNode();if(R2(m))return Nr(1,e,m,!c.isAtEnd(),!1);const p=c.getNode(!0);if(R2(p))return Nr(1,e,p,!1,!1);const _=wd(e.dom.getRoot(),c.getNode());return R2(_)?Nr(1,e,_,!1,o):J.none()},Ek=(e,n,o)=>n.collapsed?CO(e,n,o).getOr(n):n,_O=e=>$i(e)||f0(e),Mz=e=>fm(e)||Sy(e),Bz=(e,n)=>{qt(n)&&n.data.length===0&&e.remove(n)},PM=(e,n,o,a,c,m)=>{Nr(a,e,m.getNode(!c),c,!0).each(p=>{if(n.collapsed){const _=n.cloneRange();c?_.setEnd(p.startContainer,p.startOffset):_.setStart(p.endContainer,p.endOffset),_.deleteContents()}else n.deleteContents();e.selection.setRng(p)}),Bz(e.dom,o)},Fz=(e,n)=>{const o=e.selection.getRng();if(!qt(o.commonAncestorContainer))return J.none();const a=n?qa.Forwards:qa.Backwards,c=eo(e.getBody()),m=et(NA,n?c.next:c.prev),p=n?_O:Mz,_=L2(a,e.getBody(),o),A=m(_),$=A&&xd(n,A);if(!$||!T_(_,$))return J.none();if(p($))return J.some(()=>PM(e,o,_.getNode(),a,n,$));const q=m($);return q&&p(q)&&T_($,q)?J.some(()=>PM(e,o,_.getNode(),a,n,q)):J.none()},SO=(e,n)=>Fz(e,n),kO=(e,n)=>{const o=e.getBody();return n?ao(o).filter($i):md(o).filter(fm)},EO=e=>{const n=e.selection.getRng();return!n.collapsed&&(kO(e,!0).exists(o=>o.isEqual(At.fromRangeStart(n)))||kO(e,!1).exists(o=>o.isEqual(At.fromRangeEnd(n))))},Wy=e=>xe(e)&&(Uc(je.fromDom(e))||ag(je.fromDom(e))),ta=ts.generate([{remove:["element"]},{moveToElement:["element"]},{moveToPosition:["position"]}]),$z=(e,n)=>{const o=n.getNode(!e),a=e?"after":"before";return Ln(o)&&o.getAttribute("data-mce-caret")===a},Vz=(e,n,o,a,c)=>{const m=p=>c.isInline(p.nodeName.toLowerCase())&&!hg(o,a,e);return hD(!n,o).fold(()=>hD(n,a).fold(In,m),m)},NM=(e,n,o,a,c)=>{const m=c.getNode(!o);return _w(je.fromDom(n),je.fromDom(a.getNode())).map(p=>Kr(e,p)?ta.remove(p.dom):ta.moveToElement(m)).orThunk(()=>J.some(ta.moveToElement(m)))},LM=(e,n,o,a)=>Au(n,e,o).bind(c=>Wy(c.getNode())||Vz(e,n,o,c,a)?J.none():n&&_o(c.getNode())||!n&&_o(c.getNode(!0))?NM(a,e,n,o,c):n&&fm(o)||!n&&$i(o)?J.some(ta.moveToPosition(c)):J.none()),zz=(e,n)=>rt(n)?J.none():e&&_o(n.nextSibling)?J.some(ta.moveToElement(n.nextSibling)):!e&&_o(n.previousSibling)?J.some(ta.moveToElement(n.previousSibling)):J.none(),Hz=(e,n,o)=>o.fold(a=>J.some(ta.remove(a)),a=>J.some(ta.moveToElement(a)),a=>hg(n,a,e)?J.none():J.some(ta.moveToPosition(a))),Uz=(e,n,o,a)=>$z(n,o)?zz(n,o.getNode(!n)).orThunk(()=>LM(e,n,o,a)):LM(e,n,o,a).bind(c=>Hz(e,o,c)),Wz=(e,n,o,a)=>{const c=PA(n?1:-1,e,o),m=At.fromRangeStart(c),p=je.fromDom(e);return!n&&fm(m)?J.some(ta.remove(m.getNode(!0))):n&&$i(m)?J.some(ta.remove(m.getNode())):!n&&$i(m)&&g0(p,m,a)?gS(p,m,a).map(_=>ta.remove(_.getNode())):n&&fm(m)&&vw(p,m,a)?sN(p,m,a).map(_=>ta.remove(_.getNode())):Uz(e,n,m,a)},Kz=(e,n)=>o=>(e._selectionOverrides.hideFakeCaret(),Dl(e,n,je.fromDom(o)),!0),jz=(e,n)=>o=>{const a=n?At.before(o):At.after(o);return e.selection.setRng(a.toRange()),!0},Zz=e=>n=>(e.selection.setRng(n.toRange()),!0),MM=(e,n)=>J.from(wd(e.getBody(),n)),Gz=(e,n)=>{const o=e.selection.getNode();return MM(e,o).filter(_o).fold(()=>Wz(e.getBody(),n,e.selection.getRng(),e.schema).map(a=>()=>a.fold(Kz(e,n),jz(e,n),Zz(e))),()=>J.some(lt))},qz=e=>{be(vi(e,".mce-offscreen-selection"),Ns)},Yz=(e,n)=>{const o=e.selection.getNode();return _o(o)&&!Op(o)?MM(e,o.parentNode).filter(_o).fold(()=>J.some(()=>{qz(je.fromDom(e.getBody())),Dl(e,n,je.fromDom(e.selection.getNode())),yS(e)}),()=>J.some(lt)):EO(e)?J.some(()=>{xS(e,e.selection.getRng(),je.fromDom(e.getBody()))}):J.none()},BM=e=>{const n=e.dom,o=e.selection,a=wd(e.getBody(),o.getNode());if(Bc(a)&&n.isBlock(a)&&n.isEmpty(a)){const c=n.create("br",{"data-mce-bogus":"1"});n.setHTML(a,""),a.appendChild(c),o.setRng(At.before(c).toRange())}return!0},AO=(e,n)=>e.selection.isCollapsed()?Gz(e,n):Yz(e,n),FM=e=>e.hasOwnProperty("text"),$M=e=>e.hasOwnProperty("marker"),VM=(e,n)=>{const o=(m,p)=>{if(qt(m))return{text:m,offset:p};{const _=n(),A=m.childNodes;return p<A.length?(m.insertBefore(_,A[p]),{marker:_,before:!0}):(m.appendChild(_),{marker:_,before:!1})}},a=o(e.endContainer,e.endOffset);return{start:o(e.startContainer,e.startOffset),end:a}},zM=e=>{var n,o;const{start:a,end:c}=e,m=new window.Range;return FM(a)?m.setStart(a.text,a.offset):$M(a)&&(a.before?m.setStartBefore(a.marker):m.setStartAfter(a.marker),(n=a.marker.parentNode)===null||n===void 0||n.removeChild(a.marker)),FM(c)?m.setEnd(c.text,c.offset):$M(c)&&(c.before?m.setEndBefore(c.marker):m.setEndAfter(c.marker),(o=c.marker.parentNode)===null||o===void 0||o.removeChild(c.marker)),m},TO=(e,n)=>{var o;const a=e.dom,c=a.getParent(e.selection.getStart(),a.isBlock),m=a.getParent(e.selection.getEnd(),a.isBlock),p=e.getBody();if(((o=c==null?void 0:c.nodeName)===null||o===void 0?void 0:o.toLowerCase())==="div"&&c&&m&&c===p.firstChild&&m===p.lastChild&&!a.isEmpty(p)){const A=c.cloneNode(!1),$=()=>{if(n?XT(e):vS(e),p.firstChild!==c){const q=VM(e.selection.getRng(),()=>document.createElement("span"));Array.from(p.childNodes).forEach(X=>A.appendChild(X)),p.appendChild(A),e.selection.setRng(zM(q))}};return J.some($)}return J.none()},Xz=(e,n)=>{const o=At.fromRangeStart(e.selection.getRng());return Au(n,e.getBody(),o).filter(a=>n?JP(a):QP(a)).bind(a=>E_(n?0:-1,a)).map(a=>()=>e.selection.select(a))},OO=(e,n)=>e.selection.isCollapsed()?Xz(e,n):J.none(),Ky=qt,HM=e=>Ky(e)&&e.data[0]===Ei,UM=e=>Ky(e)&&e.data[e.data.length-1]===Ei,WM=e=>{var n;return((n=e.ownerDocument)!==null&&n!==void 0?n:document).createTextNode(Ei)},Jz=e=>{var n;if(Ky(e.previousSibling))return UM(e.previousSibling)||e.previousSibling.appendData(Ei),e.previousSibling;if(Ky(e))return HM(e)||e.insertData(0,Ei),e;{const o=WM(e);return(n=e.parentNode)===null||n===void 0||n.insertBefore(o,e),o}},Qz=e=>{var n,o;if(Ky(e.nextSibling))return HM(e.nextSibling)||e.nextSibling.insertData(0,Ei),e.nextSibling;if(Ky(e))return UM(e)||e.appendData(Ei),e;{const a=WM(e);return e.nextSibling?(n=e.parentNode)===null||n===void 0||n.insertBefore(a,e.nextSibling):(o=e.parentNode)===null||o===void 0||o.appendChild(a),a}},Ak=(e,n)=>e?Jz(n):Qz(n),KM=et(Ak,!0),eH=et(Ak,!1),jM=(e,n)=>qt(e.container())?Ak(n,e.container()):Ak(n,e.getNode()),ZM=(e,n)=>{const o=n.get();return o&&e.container()===o&&lg(o)},RO=(e,n)=>n.fold(o=>{Zp(e.get());const a=KM(o);return e.set(a),J.some(At(a,a.length-1))},o=>ao(o).map(a=>{if(ZM(a,e)){const c=e.get();return At(c,1)}else{Zp(e.get());const c=jM(a,!0);return e.set(c),At(c,1)}}),o=>md(o).map(a=>{if(ZM(a,e)){const c=e.get();return At(c,c.length-1)}else{Zp(e.get());const c=jM(a,!1);return e.set(c),At(c,c.length-1)}}),o=>{Zp(e.get());const a=eH(o);return e.set(a),J.some(At(a,1))}),GM=(e,n)=>{for(let o=0;o<e.length;o++){const a=e[o].apply(null,n);if(a.isSome())return a}return J.none()},nc=ts.generate([{before:["element"]},{start:["element"]},{end:["element"]},{after:["element"]}]),qM=(e,n)=>{const o=Gp(n,e);return o||e},tH=(e,n,o)=>{const a=_N(o),c=qM(n,a.container());return lb(e,c,a).fold(()=>ec(c,a).bind(et(lb,e,c)).map(m=>nc.before(m)),J.none)},YM=(e,n)=>qp(e,n)===null,XM=(e,n,o)=>lb(e,n,o).filter(et(YM,n)),nH=(e,n,o)=>{const a=Oy(o);return XM(e,n,a).bind(c=>Zc(c,a).isNone()?J.some(nc.start(c)):J.none())},oH=(e,n,o)=>{const a=_N(o);return XM(e,n,a).bind(c=>ec(c,a).isNone()?J.some(nc.end(c)):J.none())},sH=(e,n,o)=>{const a=Oy(o),c=qM(n,a.container());return lb(e,c,a).fold(()=>Zc(c,a).bind(et(lb,e,c)).map(m=>nc.after(m)),J.none)},JM=e=>!ww(IO(e)),Dg=(e,n,o)=>GM([tH,nH,oH,sH],[e,n,o]).filter(JM),IO=e=>e.fold(Sn,Sn,Sn,Sn),QM=e=>e.fold(dt("before"),dt("start"),dt("end"),dt("after")),Qw=e=>e.fold(nc.before,nc.before,nc.after,nc.after),Tk=e=>e.fold(nc.start,nc.start,nc.end,nc.end),rH=(e,n)=>QM(e)===QM(n)&&IO(e)===IO(n),eB=(e,n,o,a,c,m)=>da(lb(n,o,a),lb(n,o,c),(p,_)=>p!==_&&CN(o,p,_)?nc.after(e?p:_):m).getOr(m),iH=(e,n)=>e.fold(sn,o=>!rH(o,n)),aH=(e,n,o,a,c)=>{const m=xd(e,c);return Au(e,o,m).map(et(xd,e)).fold(()=>a.map(Qw),A=>Dg(n,o,A).map(et(eB,e,n,o,m,A)).filter(et(iH,a))).filter(JM)},lH=(e,n)=>e?n.fold(Lt(J.some,nc.start),J.none,Lt(J.some,nc.after),J.none):n.fold(J.none,Lt(J.some,nc.before),J.none,Lt(J.some,nc.end)),cH=(e,n,o,a)=>{const c=xd(e,a),m=Dg(n,o,c);return Dg(n,o,c).bind(et(lH,e)).orThunk(()=>aH(e,n,o,m,a))},uH=e=>_e(e.selection.getSel().modify),tB=(e,n,o)=>{const a=e?1:-1;return n.setRng(At(o.container(),o.offset()+a).toRange()),n.getSel().modify("move",e?"forward":"backward","word"),!0},DO=(e,n)=>{const o=n.selection.getRng(),a=e?At.fromRangeEnd(o):At.fromRangeStart(o);return uH(n)?e&&Nv(a)?tB(!0,n.selection,a):!e&&Z1(a)?tB(!1,n.selection,a):!1:!1};var bf;(function(e){e[e.Br=0]="Br",e[e.Block=1]="Block",e[e.Wrap=2]="Wrap",e[e.Eol=3]="Eol"})(bf||(bf={}));const Ok=(e,n)=>e===qa.Backwards?Gs(n):n,nB=(e,n,o)=>e===qa.Forwards?n.next(o):n.prev(o),dH=(e,n,o,a)=>pr(a.getNode(n===qa.Forwards))?bf.Br:hg(o,a)===!1?bf.Block:bf.Wrap,oB=(e,n,o,a)=>{const c=eo(o);let m=a;const p=[];for(;m;){const _=nB(n,c,m);if(!_)break;if(pr(_.getNode(!1)))return n===qa.Forwards?{positions:Ok(n,p).concat([_]),breakType:bf.Br,breakAt:J.some(_)}:{positions:Ok(n,p),breakType:bf.Br,breakAt:J.some(_)};if(!_.isVisible()){m=_;continue}if(e(m,_)){const A=dH(o,n,m,_);return{positions:Ok(n,p),breakType:A,breakAt:J.some(_)}}p.push(_),m=_}return{positions:Ok(n,p),breakType:bf.Eol,breakAt:J.none()}},sB=(e,n,o,a)=>n(o,a).breakAt.map(c=>{const m=n(o,c).positions;return e===qa.Backwards?m.concat(c):[c].concat(m)}).getOr([]),PO=(e,n)=>cn(e,(o,a)=>o.fold(()=>J.some(a),c=>da(On(c.getClientRects()),On(a.getClientRects()),(m,p)=>{const _=Math.abs(n-m.left);return Math.abs(n-p.left)<=_?a:c}).or(o)),J.none()),Rk=(e,n)=>On(n.getClientRects()).bind(o=>PO(e,o.left)),eC=et(oB,At.isAbove,-1),tC=et(oB,At.isBelow,1),rB=et(sB,-1,eC),Ik=et(sB,1,tC),iB=(e,n)=>eC(e,n).breakAt.isNone(),aB=(e,n)=>tC(e,n).breakAt.isNone(),fH=e=>ao(e).map(n=>[n].concat(tC(e,n).positions)).getOr([]),lB=e=>md(e).map(n=>eC(e,n).positions.concat(n)).getOr([]),D0=(e,n)=>Rk(rB(e,n),n),mH=(e,n)=>Rk(Ik(e,n),n),gH=_o,cB=(e,n)=>Math.abs(e.left-n),xc=(e,n)=>Math.abs(e.right-n),uB=e=>Gl(e,"node"),dB=(e,n)=>wl(e,(o,a)=>{const c=Math.min(cB(o,n),xc(o,n)),m=Math.min(cB(a,n),xc(a,n));return m===c&&uB(a)&&gH(a.node)||m<c?a:o}),hH=e=>{const n=o=>He(o,a=>{const c=Xf(a);return c.node=e,c});if(Ln(e))return n(e.getClientRects());if(qt(e)){const o=e.ownerDocument.createRange();return o.setStart(e,0),o.setEnd(e,e.data.length),n(o.getClientRects())}else return[]},fB=e=>zo(e,hH);var nC;(function(e){e[e.Up=-1]="Up",e[e.Down=1]="Down"})(nC||(nC={}));const pH=(e,n,o,a)=>{let c=a;for(;c=D2(c,e,Vv,n);)if(o(c))return},NO=(e,n,o,a,c,m)=>{let p=0;const _=[],A=X=>{let oe=fB([X]);e===-1&&(oe=oe.reverse());for(let ve=0;ve<oe.length;ve++){const Oe=oe[ve];if(!o(Oe,$)){if(_.length>0&&n(Oe,Ta(_))&&p++,Oe.line=p,c(Oe))return!0;_.push(Oe)}}return!1},$=Ta(m.getClientRects());if(!$)return _;const q=m.getNode();return q&&(A(q),pH(e,a,A,q)),_},bH=(e,n)=>n.line>e,vH=(e,n)=>n.line===e,yH=et(NO,nC.Up,em,Dh),xH=et(NO,nC.Down,Dh,em),mB=e=>Ta(e.getClientRects()),jy=(e,n,o,a)=>{const c=eo(n);let m,p,_,A;const $=[];let q=0;e===1?(m=c.next,p=Dh,_=em,A=At.after(a)):(m=c.prev,p=em,_=Dh,A=At.before(a));const X=mB(A);do{if(!A.isVisible())continue;const oe=mB(A);if(_(oe,X))continue;$.length>0&&p(oe,Ta($))&&q++;const ve=Xf(oe);if(ve.position=A,ve.line=q,o(ve))return $;$.push(ve)}while(A=m(A));return $},LO=e=>n=>bH(e,n),Zy=e=>n=>vH(e,n),hm=(e,n)=>{e.selection.setRng(n),pd(e,e.selection.getRng())},Dk=(e,n,o)=>J.some(Ek(e,n,o)),MO=(e,n,o,a,c,m)=>{const p=n===qa.Forwards,_=eo(e.getBody()),A=et(NA,p?_.next:_.prev),$=p?a:c;if(!o.collapsed){const Oe=Hp(o);if(m(Oe))return Nr(n,e,Oe,n===qa.Backwards,!1);if(EO(e)){const ye=o.cloneRange();return ye.collapse(n===qa.Backwards),J.from(ye)}}const q=L2(n,e.getBody(),o);if($(q))return Jw(e,q.getNode(!p));let X=A(q);const oe=Ih(o);if(X)X=xd(p,X);else return oe?J.some(o):J.none();if($(X))return Nr(n,e,X.getNode(!p),p,!1);const ve=A(X);return ve&&$(ve)&&T_(X,ve)?Nr(n,e,ve.getNode(!p),p,!1):oe?Dk(e,X.toRange(),!1):J.none()},gB=(e,n,o,a,c,m)=>{const p=L2(n,e.getBody(),o),_=Ta(p.getClientRects()),A=n===nC.Down,$=e.getBody();if(!_)return J.none();if(EO(e)){const Pe=A?At.fromRangeEnd(o):At.fromRangeStart(o);return(A?mH:D0)($,Pe).orThunk(()=>J.from(Pe)).map(st=>st.toRange())}const X=(A?xH:yH)($,LO(1),p),oe=Ge(X,Zy(1)),ve=_.left,Oe=dB(oe,ve);if(Oe&&m(Oe.node)){const Pe=Math.abs(ve-Oe.left),Ye=Math.abs(ve-Oe.right);return Nr(n,e,Oe.node,Pe<Ye,!1)}let ye;if(a(p)?ye=p.getNode():c(p)?ye=p.getNode(!0):ye=Hp(o),ye){const Pe=jy(n,$,LO(1),ye);let Ye=dB(Ge(Pe,Zy(1)),ve);if(Ye||(Ye=Ta(Ge(Pe,Zy(0))),Ye))return Dk(e,Ye.position.toRange(),!1)}return oe.length===0?Pk(e,A).filter(A?c:a).map(Pe=>Ek(e,Pe.toRange(),!1)):J.none()},Pk=(e,n)=>{const o=e.selection.getRng(),a=n?At.fromRangeEnd(o):At.fromRangeStart(o),c=j8(a.container(),e.getBody());if(n){const m=tC(c,a);return vo(m.positions)}else{const m=eC(c,a);return On(m.positions)}},hB=(e,n,o)=>Pk(e,n).filter(o).exists(a=>(e.selection.setRng(a.toRange()),!0)),oC=(e,n)=>{const o=e.dom.createRng();o.setStart(n.container(),n.offset()),o.setEnd(n.container(),n.offset()),e.selection.setRng(o)},BO=(e,n)=>{e?n.setAttribute("data-mce-selected","inline-boundary"):n.removeAttribute("data-mce-selected")},FO=(e,n,o)=>RO(n,o).map(a=>(oC(e,a),o)),pB=(e,n,o)=>{const a=At.fromRangeStart(e);if(e.collapsed)return a;{const c=At.fromRangeEnd(e);return o?Zc(n,c).getOr(c):ec(n,a).getOr(a)}},bB=(e,n,o)=>{const a=e.getBody(),c=pB(e.selection.getRng(),a,o),m=et(p0,e);return cH(o,m,a,c).bind(_=>FO(e,n,_))},vB=(e,n,o)=>{const a=He(vi(je.fromDom(n.getRoot()),'*[data-mce-selected="inline-boundary"]'),p=>p.dom),c=Ge(a,e),m=Ge(o,e);be(ds(c,m),et(BO,!1)),be(ds(m,c),et(BO,!0))},$O=(e,n)=>{const o=n.get();if(e.selection.isCollapsed()&&!e.composing&&o){const a=At.fromRangeStart(e.selection.getRng());At.isTextPosition(a)&&!qT(a)&&(oC(e,U8(o,a)),n.set(null))}},yB=(e,n,o,a)=>{if(n.selection.isCollapsed()){const c=Ge(a,e);be(c,m=>{const p=At.fromRangeStart(n.selection.getRng());Dg(e,n.getBody(),p).bind(_=>FO(n,o,_))})}},VO=(e,n,o)=>ay(e)?bB(e,n,o).isSome():!1,zO=(e,n,o)=>ay(n)?DO(e,n):!1,xB=e=>{const n=Li(null),o=et(p0,e);return e.on("NodeChange",a=>{ay(e)&&(vB(o,e.dom,a.parents),$O(e,n),yB(o,e,n,a.parents))}),n},wB=et(zO,!0),CB=et(zO,!1),sC=(e,n,o)=>{if(ay(e)){const a=Pk(e,n).getOrThunk(()=>{const c=e.selection.getRng();return n?At.fromRangeEnd(c):At.fromRangeStart(c)});return Dg(et(p0,e),e.getBody(),a).exists(c=>{const m=Qw(c);return RO(o,m).exists(p=>(oC(e,p),!0))})}else return!1},HO=(e,n)=>{const o=document.createRange();return o.setStart(e.container(),e.offset()),o.setEnd(n.container(),n.offset()),o},UO=e=>da(ao(e),md(e),(n,o)=>{const a=xd(!0,n),c=xd(!1,o);return ec(e,a).forall(m=>m.isEqual(c))}).getOr(!0),rC=(e,n)=>o=>RO(n,o).map(a=>()=>oC(e,a)),WO=(e,n,o,a)=>{const c=e.getBody(),m=et(p0,e);e.undoManager.ignore(()=>{e.selection.setRng(HO(o,a)),vS(e),Dg(m,c,At.fromRangeStart(e.selection.getRng())).map(Tk).bind(rC(e,n)).each(Wt)}),e.nodeChanged()},_B=(e,n)=>{const o=Gp(n,e);return o||e},SB=(e,n,o,a)=>{const c=_B(e.getBody(),a.container()),m=et(p0,e),p=Dg(m,c,a);return p.bind(A=>o?A.fold(dt(J.some(Tk(A))),J.none,dt(J.some(Qw(A))),J.none):A.fold(J.none,dt(J.some(Qw(A))),J.none,dt(J.some(Tk(A))))).map(rC(e,n)).getOrThunk(()=>{const A=Qv(o,c,a),$=A.bind(q=>Dg(m,c,q));return da(p,$,()=>lb(m,c,a).bind(q=>UO(q)?J.some(()=>{Dl(e,o,je.fromDom(q))}):J.none())).getOrThunk(()=>$.bind(()=>A.map(q=>()=>{o?WO(e,n,a,q):WO(e,n,q,a)})))})},iC=(e,n,o)=>{if(e.selection.isCollapsed()&&ay(e)){const a=At.fromRangeStart(e.selection.getRng());return SB(e,n,o,a)}return J.none()},kB=e=>Gd(e)>1,KO=(e,n)=>{const o=je.fromDom(e.getBody()),a=je.fromDom(e.selection.getStart()),c=Xc(a,o);return Xn(c,n).fold(dt(c),m=>c.slice(0,m))},EB=e=>Gd(e)===1,wH=e=>KO(e,n=>e.schema.isBlock(os(n))||kB(n)),AB=e=>KO(e,n=>e.schema.isBlock(os(n))),jO=(e,n)=>{const o=et(Dy,e);return zo(n,a=>o(a)?[a.dom]:[])},aC=e=>{const n=AB(e);return jO(e,n)},TB=(e,n,o,a)=>{const c=jO(n,a);if(c.length===0)Dl(n,e,o);else{const m=P3(o.dom,c);n.selection.setRng(m.toRange())}},OB=(e,n)=>{const o=Ge(wH(e),EB);return vo(o).bind(a=>{const c=At.fromRangeStart(e.selection.getRng());return EN(n,c,a.dom)&&!F_(a)?J.some(()=>TB(n,e,a,o)):J.none()})},ZO=(e,n)=>{const o=n.parentElement;return pr(n)&&!Ve(o)&&e.dom.isEmpty(o)},CH=e=>F_(je.fromDom(e)),GO=(e,n)=>{const o=e.selection.getStart(),a=ZO(e,o)||CH(o)?P3(o,n):R$(e.selection.getRng(),n);e.selection.setRng(a.toRange())},_H=(e,n)=>{const o=ds(n,aC(e));o.length>0&&GO(e,o)},qO=e=>qt(e.startContainer),RB=e=>e.startOffset===0&&qO(e),SH=(e,n)=>{const o=n.startContainer.parentElement;return!Ve(o)&&Dy(e,je.fromDom(o))},kH=e=>{const n=e.startContainer.parentNode,o=e.endContainer.parentNode;return!Ve(n)&&!Ve(o)&&n.isEqualNode(o)},s=e=>{const n=e.endContainer;return e.endOffset===(qt(n)?n.length:n.childNodes.length)},l=e=>kH(e)&&s(e),d=e=>!e.endContainer.isEqualNode(e.commonAncestorContainer),f=e=>l(e)||d(e),b=e=>{const n=e.selection.getRng();return RB(n)&&SH(e,n)&&f(n)},v=e=>{if(b(e)){const n=aC(e);return J.some(()=>{vS(e),_H(e,n)})}else return J.none()},C=(e,n)=>e.selection.isCollapsed()?OB(e,n):v(e),k=(e,n)=>KC(e,o=>Tu(o.dom),o=>n.isBlock(os(o))),E=e=>k(je.fromDom(e.selection.getStart()),e.schema),P=e=>{const n=e.selection.getRng();return n.collapsed&&(qO(n)||e.dom.isEmpty(n.startContainer))&&!E(e)},F=e=>(P(e)&&GO(e,[]),!0),M=(e,n,o)=>xe(o)?J.some(()=>{e._selectionOverrides.hideFakeCaret(),Dl(e,n,je.fromDom(o))}):J.none(),z=(e,n)=>{const o=n?f0:Sy,a=n?qa.Forwards:qa.Backwards,c=L2(a,e.getBody(),e.selection.getRng());return o(c)?M(e,n,c.getNode(!n)):J.from(xd(n,c)).filter(m=>o(m)&&T_(c,m)).bind(m=>M(e,n,m.getNode(!n)))},Y=(e,n)=>{const o=e.selection.getNode();return Dt(o)?M(e,n,o):J.none()},te=(e,n)=>e.selection.isCollapsed()?z(e,n):Y(e,n),me=e=>bi(e,n=>Bc(n.dom)||_o(n.dom)).exists(n=>Bc(n.dom)),pe=e=>vn(e??"").getOr(0),Ae=(e,n)=>{const o=e||Rv(n)?"margin":"padding",a=Hr(n,"direction")==="rtl"?"-right":"-left";return o+a},he=(e,n,o,a,c,m)=>{const p=Ae(o,je.fromDom(m)),_=pe(e.getStyle(m,p));if(n==="outdent"){const A=Math.max(0,_-a);e.setStyle(m,p,A?A+c:"")}else{const A=_+a+c;e.setStyle(m,p,A)}},ge=(e,n)=>No(n,o=>{const a=Ae(LI(e),o),c=Br(o,a).map(pe).getOr(0);return e.dom.getContentEditable(o.dom)!=="false"&&c>0}),Ce=e=>{const n=qe(e);return!e.mode.isReadOnly()&&(n.length>1||ge(e,n))},Te=e=>Dv(e)||ag(e),Ie=e=>ga(e).exists(Te),qe=e=>Ge(hu(e.selection.getSelectedBlocks()),n=>!Te(n)&&!Ie(n)&&me(n)),ct=(e,n)=>{var o,a;const{dom:c}=e,m=Eu(e),p=(a=(o=/[a-z%]+$/i.exec(m))===null||o===void 0?void 0:o[0])!==null&&a!==void 0?a:"px",_=pe(m),A=LI(e);be(qe(e),$=>{he(c,n,A,_,p,$.dom)})},Nt=e=>ct(e,"indent"),It=e=>ct(e,"outdent"),Tt=e=>{if(e.selection.isCollapsed()&&Ce(e)){const n=e.dom,o=e.selection.getRng(),a=At.fromRangeStart(o),c=n.getParent(o.startContainer,n.isBlock);if(c!==null&&mS(je.fromDom(c),a,e.schema))return J.some(()=>It(e))}return J.none()},Gt=(e,n,o)=>li([Tt,AO,SO,(a,c)=>iC(a,n,c),Sk,Kh,OO,te,wO,C,TO],a=>a(e,o)).filter(a=>e.selection.isEditable()),wn=(e,n)=>{Gt(e,n,!1).fold(()=>{e.selection.isEditable()&&(vS(e),yS(e))},Wt)},Nn=(e,n)=>{Gt(e,n,!0).fold(()=>{e.selection.isEditable()&&XT(e)},Wt)},Zn=(e,n)=>{e.addCommand("delete",()=>{wn(e,n)}),e.addCommand("forwardDelete",()=>{Nn(e,n)})},po=5,jo=400,rr=e=>e.touches===void 0||e.touches.length!==1?J.none():J.some(e.touches[0]),mr=(e,n)=>{const o=Math.abs(e.clientX-n.x),a=Math.abs(e.clientY-n.y);return o>po||a>po},Po=e=>{const n=Mi(),o=Li(!1),a=Fp(c=>{e.dispatch("longpress",{...c,type:"longpress"}),o.set(!0)},jo);e.on("touchstart",c=>{rr(c).each(m=>{a.cancel();const p={x:m.clientX,y:m.clientY,target:c.target};a.throttle(c),o.set(!1),n.set(p)})},!0),e.on("touchmove",c=>{a.cancel(),rr(c).each(m=>{n.on(p=>{mr(m,p)&&(n.clear(),o.set(!1),e.dispatch("longpresscancel"))})})},!0),e.on("touchend touchcancel",c=>{a.cancel(),c.type!=="touchcancel"&&n.get().filter(m=>m.target.isEqualNode(c.target)).each(()=>{o.get()?c.preventDefault():e.dispatch("tap",{...c,type:"tap"})})},!0)},is=(e,n)=>yo(e,n.nodeName),Qn=(e,n)=>qt(n)?!0:Ln(n)?!is(e.getBlockElements(),n)&&!Ou(n)&&!Wf(e,n)&&!Bi(n):!1,gr=(e,n,o)=>Re(pc(je.fromDom(o),je.fromDom(n)),a=>is(e,a.dom)),zs=(e,n)=>{if(qt(n)){if(n.data.length===0)return!0;if(/^\s+$/.test(n.data))return!n.nextSibling||is(e,n.nextSibling)||Bi(n.nextSibling)}return!1},Xa=e=>e.dom.create(gl(e),_2(e)),Ja=e=>{const n=e.dom,o=e.selection,a=e.schema,c=a.getBlockElements(),m=o.getStart(),p=e.getBody();let _,A,$=null;const q=gl(e);if(!m||!Ln(m))return;const X=p.nodeName.toLowerCase();if(!a.isValidChild(X,q.toLowerCase())||gr(c,p,m))return;if(p.firstChild===p.lastChild&&pr(p.firstChild)){_=Xa(e),_.appendChild(sf().dom),p.replaceChild(_,p.firstChild),e.selection.setCursorLocation(_,0),e.nodeChanged();return}let oe=p.firstChild;for(;oe;)if(Ln(oe)&&fc(a,oe),Qn(a,oe)){if(zs(c,oe)){A=oe,oe=oe.nextSibling,n.remove(A);continue}if(!_){if(!$&&e.hasFocus()&&($=VM(e.selection.getRng(),()=>document.createElement("span"))),!oe.parentNode){oe=null;break}_=Xa(e),p.insertBefore(_,oe)}A=oe,oe=oe.nextSibling,_.appendChild(A)}else _=null,oe=oe.nextSibling;$&&(e.selection.setRng(zM($)),e.nodeChanged())},na=(e,n,o)=>{const a=je.fromDom(Xa(e)),c=sf();Ur(a,c),o(n,a);const m=document.createRange();return m.setStartBefore(c.dom),m.setEndBefore(c.dom),m},Vi=e=>{e.on("NodeChange",()=>Ja(e))},Jh=e=>n=>(" "+n.attr("class")+" ").indexOf(e)!==-1,Gy=(e,n,o)=>function(a){const c=arguments,m=c[c.length-2],p=m>0?n.charAt(m-1):"";if(p==='"')return a;if(p===">"){const _=n.lastIndexOf("<",m);if(_!==-1&&n.substring(_,m).indexOf('contenteditable="false"')!==-1)return a}return'<span class="'+o+'" data-mce-content="'+e.dom.encode(c[0])+'">'+e.dom.encode(typeof c[1]=="string"?c[1]:c[0])+"</span>"},_b=(e,n,o)=>{let a=n.length,c=o.content;if(o.format!=="raw"){for(;a--;)c=c.replace(n[a],Gy(e,c,qv(e)));o.content=c}},Qh=(e,n)=>No(e,o=>{const a=n.match(o);return a!==null&&a[0].length===n.length}),lC=e=>{const n="contenteditable",o=" "+rn.trim(M8(e))+" ",a=" "+rn.trim(qv(e))+" ",c=Jh(o),m=Jh(a),p=qI(e);p.length>0&&e.on("BeforeSetContent",_=>{_b(e,p,_)}),e.parser.addAttributeFilter("class",_=>{let A=_.length;for(;A--;){const $=_[A];c($)?$.attr(n,"true"):m($)&&$.attr(n,"false")}}),e.serializer.addAttributeFilter(n,_=>{let A=_.length;for(;A--;){const $=_[A];if(!c($)&&!m($))continue;const q=$.attr("data-mce-content");p.length>0&&q?Qh(p,q)?($.name="#text",$.type=3,$.raw=!0,$.value=q):$.remove():$.attr(n,null)}})},Sb=e=>Ft(je.fromDom(e.getBody()),"*[data-mce-caret]").map(n=>n.dom).getOrNull(),Pg=(e,n)=>{n.hasAttribute("data-mce-caret")&&(Rh(n),e.selection.setRng(e.selection.getRng()),e.selection.scrollIntoView(n))},P0=(e,n)=>{const o=Sb(e);if(o){if(n.type==="compositionstart"){n.preventDefault(),n.stopPropagation(),Pg(e,o);return}K1(o)&&(Pg(e,o),e.undoManager.add())}},N0=e=>{e.on("keyup compositionstart",et(P0,e))},qy=_o,Nk=(e,n,o)=>MO(n,e,o,$i,fm,qy),cC=(e,n,o)=>gB(n,e,o,m=>$i(m)||eN(m),m=>fm(m)||ky(m),qy),kb=e=>{const n=e.dom.create(gl(e));return n.innerHTML='<br data-mce-bogus="1">',n},Ng=(e,n,o)=>{const a=eo(e.getBody()),c=et(NA,n===1?a.next:a.prev);if(o.collapsed){const m=e.dom.getParent(o.startContainer,"PRE");if(!m)return;if(!c(At.fromRangeStart(o))){const _=je.fromDom(kb(e));n===1?mt(je.fromDom(m),_):Or(je.fromDom(m),_),e.selection.select(_.dom,!0),e.selection.collapse()}}},ep=(e,n)=>{const o=n?qa.Forwards:qa.Backwards,a=e.selection.getRng();return Nk(o,e,a).orThunk(()=>(Ng(e,o,a),J.none()))},uC=(e,n)=>{const o=n?1:-1,a=e.selection.getRng();return cC(o,e,a).orThunk(()=>(Ng(e,o,a),J.none()))},dC=(e,n)=>{const o=n?e.getEnd(!0):e.getStart(!0);return ww(o)?!n:n},xs=(e,n)=>ep(e,dC(e.selection,n)).exists(o=>(hm(e,o),!0)),Lg=(e,n)=>uC(e,n).exists(o=>(hm(e,o),!0)),vf=(e,n)=>hB(e,n,n?fm:$i),L0=(e,n)=>kO(e,!n).map(o=>{const a=o.toRange(),c=e.selection.getRng();return n?a.setStart(c.startContainer,c.startOffset):a.setEnd(c.endContainer,c.endOffset),a}).exists(o=>(hm(e,o),!0)),Lk=e=>we(["figcaption"],os(e)),tp=(e,n,o)=>{const a=et(ss,n);return bi(je.fromDom(e.container()),c=>o.isBlock(os(c)),a).filter(Lk)},Yy=(e,n,o)=>n?aB(e.dom,o):iB(e.dom,o),YO=(e,n)=>{const o=je.fromDom(e.getBody()),a=At.fromRangeStart(e.selection.getRng());return tp(a,o,e.schema).exists(()=>{if(Yy(o,n,a)){const m=na(e,o,n?Ur:Ka);return e.selection.setRng(m),!0}else return!1})},Mk=(e,n)=>e.selection.isCollapsed()?YO(e,n):!1,EH=(e,n,o)=>{const a=e.selection.getRng(),c=At.fromRangeStart(a);return e.getBody().firstChild===n&&iB(o,c)?(e.execCommand("InsertNewBlockBefore"),!0):!1},Xy=(e,n)=>{const o=e.selection.getRng(),a=At.fromRangeStart(o);return e.getBody().lastChild===n&&aB(n,a)?(e.execCommand("InsertNewBlockAfter"),!0):!1},AH=(e,n)=>n?J.from(e.dom.getParent(e.selection.getNode(),"details")).map(o=>Xy(e,o)).getOr(!1):J.from(e.dom.getParent(e.selection.getNode(),"summary")).bind(o=>J.from(e.dom.getParent(o,"details")).map(a=>EH(e,a,o))).getOr(!1),Nl=(e,n)=>AH(e,n),M0={shiftKey:!1,altKey:!1,ctrlKey:!1,metaKey:!1,keyCode:0},TH=e=>He(e,n=>({...M0,...n})),IB=e=>He(e,n=>({...M0,...n})),Bk=(e,n)=>n.keyCode===e.keyCode&&n.shiftKey===e.shiftKey&&n.altKey===e.altKey&&n.ctrlKey===e.ctrlKey&&n.metaKey===e.metaKey,DB=(e,n)=>zo(TH(e),o=>Bk(o,n)?[o]:[]),PB=(e,n)=>zo(IB(e),o=>Bk(o,n)?[o]:[]),Co=(e,...n)=>()=>e.apply(null,n),Eb=(e,n)=>xn(DB(e,n),o=>o.action()),Fk=(e,n)=>li(PB(e,n),o=>o.action()),Ab=(e,n)=>{const o=n?qa.Forwards:qa.Backwards,a=e.selection.getRng();return MO(e,o,a,f0,Sy,Dt).exists(c=>(hm(e,c),!0))},Jy=(e,n)=>{const o=n?1:-1,a=e.selection.getRng();return gB(e,o,a,f0,Sy,Dt).exists(c=>(hm(e,c),!0))},XO=(e,n)=>hB(e,n,n?Sy:f0),JO=ts.generate([{none:["current"]},{first:["current"]},{middle:["current","target"]},{last:["current"]}]),Ed={...JO,none:e=>JO.none(e)},NB=(e,n)=>eR(e,n,sn),eR=(e,n,o)=>zo(ha(e),a=>Fs(a,n)?o(a)?[a]:[]:eR(a,n,o)),LB=(e,n,o=In)=>{if(o(n))return J.none();if(we(e,os(n)))return J.some(n);const a=c=>Fs(c,"table")||o(c);return mu(n,e.join(","),a)},MB=(e,n)=>LB(["td","th"],e,n),OH=e=>NB(e,"th,td"),xt=(e,n)=>Xi(e,"table",n),Gn=(e,n,o,a,c=sn)=>{const m=a===1;if(!m&&o<=0)return Ed.first(e[0]);if(m&&o>=e.length-1)return Ed.last(e[e.length-1]);{const p=o+a,_=e[p];return c(_)?Ed.middle(n,_):Gn(e,n,p,a,c)}},So=(e,n)=>xt(e,n).bind(o=>{const a=OH(o);return Xn(a,m=>ss(e,m)).map(m=>({index:m,all:a}))}),ir=(e,n,o)=>So(e,o).fold(()=>Ed.none(e),c=>Gn(c.all,e,c.index,1,n)),qr=(e,n,o)=>So(e,o).fold(()=>Ed.none(),c=>Gn(c.all,e,c.index,-1,n)),fi=e=>i_(e).filter(n=>n.trim().length!==0||n.indexOf(Ni)>-1).isSome(),ai=e=>Va(e)&&Da(e,"contenteditable")==="false",Ti=["img","br"],Qy=e=>fi(e)||we(Ti,os(e))||ai(e),RH=e=>Yi(e,Qy),BB=(e,n)=>({left:e.left-n,top:e.top-n,right:e.right+n*2,bottom:e.bottom+n*2,width:e.width+n,height:e.height+n}),MK=(e,n)=>zo(n,o=>{const a=BB(Xf(o.getBoundingClientRect()),-1);return[{x:a.left,y:e(a),cell:o},{x:a.right,y:e(a),cell:o}]}),kne=(e,n,o)=>cn(e,(a,c)=>a.fold(()=>J.some(c),m=>{const p=Math.sqrt(Math.abs(m.x-n)+Math.abs(m.y-o)),_=Math.sqrt(Math.abs(c.x-n)+Math.abs(c.y-o));return J.some(_<p?c:m)}),J.none()),BK=(e,n,o,a,c)=>{const m=vi(je.fromDom(o),"td,th,caption").map(_=>_.dom),p=Ge(MK(e,m),_=>n(_,c));return kne(p,a,c).map(_=>_.cell)},Ene=e=>e.bottom,Ane=e=>e.top,Tne=(e,n)=>e.y<n,One=(e,n)=>e.y>n,Rne=et(BK,Ene,Tne),Ine=et(BK,Ane,One),Dne=(e,n)=>On(n.getClientRects()).bind(o=>Rne(e,o.left,o.top)).bind(o=>Rk(lB(o),n)),Pne=(e,n)=>vo(n.getClientRects()).bind(o=>Ine(e,o.left,o.top)).bind(o=>Rk(fH(o),n)),Nne=(e,n,o)=>o.breakAt.exists(a=>e(n,a).breakAt.isSome()),Lne=e=>e.breakType===bf.Wrap&&e.positions.length===0,Mne=e=>e.breakType===bf.Br&&e.positions.length===1,FK=(e,n,o)=>{const a=e(n,o);return Lne(a)||!pr(o.getNode())&&Mne(a)?!Nne(e,n,a):a.breakAt.isNone()},Bne=et(FK,eC),Fne=et(FK,tC),$ne=(e,n,o)=>{const a=At.fromRangeStart(n);return uy(!e,o).exists(c=>c.isEqual(a))},Vne=(e,n,o,a)=>{const c=e.selection.getRng(),m=n?1:-1;return OA()&&$ne(n,c,o)?(Nr(m,e,o,!n,!1).each(p=>{hm(e,p)}),!0):!1},zne=(e,n,o)=>Dne(n,o).orThunk(()=>On(o.getClientRects()).bind(a=>PO(rB(e,At.before(n)),a.left))).getOr(At.before(n)),Hne=(e,n,o)=>Pne(n,o).orThunk(()=>On(o.getClientRects()).bind(a=>PO(Ik(e,At.after(n)),a.left))).getOr(At.after(n)),$K=(e,n)=>{const o=n.getNode(e);return bu(o)?J.some(o):J.none()},Une=(e,n,o)=>{n.undoManager.transact(()=>{const a=e?mt:Or,c=na(n,je.fromDom(o),a);hm(n,c)})},VK=(e,n,o)=>{const a=$K(!!n,o),c=n===!1;a.fold(()=>hm(e,o.toRange()),m=>uy(c,e.getBody()).filter(p=>p.isEqual(o)).fold(()=>hm(e,o.toRange()),p=>Une(n,e,m)))},Wne=(e,n,o,a)=>{const c=e.selection.getRng(),m=At.fromRangeStart(c),p=e.getBody();if(!n&&Bne(a,m)){const _=zne(p,o,m);return VK(e,n,_),!0}else if(n&&Fne(a,m)){const _=Hne(p,o,m);return VK(e,n,_),!0}else return!1},zK=(e,n,o)=>J.from(e.dom.getParent(e.selection.getNode(),"td,th")).bind(a=>J.from(e.dom.getParent(a,"table")).map(c=>o(e,n,c,a))).getOr(!1),HK=(e,n)=>zK(e,n,Vne),IH=(e,n)=>zK(e,n,Wne),Kne=e=>{const n=nb.exact(e,0,e,0);return C7(n)},UK=(e,n,o)=>o.fold(J.none,J.none,(a,c)=>RH(c).map(m=>Kne(m)),a=>(e.execCommand("mceTableInsertRowAfter"),WK(e,n,a))),WK=(e,n,o)=>UK(e,n,ir(o,_r)),jne=(e,n,o)=>UK(e,n,qr(o,_r)),KK=(e,n)=>{const o=["table","li","dl"],a=je.fromDom(e.getBody()),c=_=>{const A=os(_);return ss(_,a)||we(o,A)},m=e.selection.getRng(),p=je.fromDom(n?m.endContainer:m.startContainer);return MB(p,c).map(_=>(xt(_,c).each(q=>{e.model.table.clearSelectedCells(q.dom)}),e.selection.collapse(!n),(n?WK:jne)(e,c,_).each(q=>{e.selection.setRng(q)}),!0)).getOr(!1)},Zne=(e,n,o)=>{const a=Wo.os.isMacOS()||Wo.os.isiOS();Eb([{keyCode:yn.RIGHT,action:Co(xs,e,!0)},{keyCode:yn.LEFT,action:Co(xs,e,!1)},{keyCode:yn.UP,action:Co(Lg,e,!1)},{keyCode:yn.DOWN,action:Co(Lg,e,!0)},...a?[{keyCode:yn.UP,action:Co(L0,e,!1),metaKey:!0,shiftKey:!0},{keyCode:yn.DOWN,action:Co(L0,e,!0),metaKey:!0,shiftKey:!0}]:[],{keyCode:yn.RIGHT,action:Co(HK,e,!0)},{keyCode:yn.LEFT,action:Co(HK,e,!1)},{keyCode:yn.UP,action:Co(IH,e,!1)},{keyCode:yn.DOWN,action:Co(IH,e,!0)},{keyCode:yn.UP,action:Co(IH,e,!1)},{keyCode:yn.UP,action:Co(Nl,e,!1)},{keyCode:yn.DOWN,action:Co(Nl,e,!0)},{keyCode:yn.RIGHT,action:Co(Ab,e,!0)},{keyCode:yn.LEFT,action:Co(Ab,e,!1)},{keyCode:yn.UP,action:Co(Jy,e,!1)},{keyCode:yn.DOWN,action:Co(Jy,e,!0)},{keyCode:yn.RIGHT,action:Co(VO,e,n,!0)},{keyCode:yn.LEFT,action:Co(VO,e,n,!1)},{keyCode:yn.RIGHT,ctrlKey:!a,altKey:a,action:Co(wB,e,n)},{keyCode:yn.LEFT,ctrlKey:!a,altKey:a,action:Co(CB,e,n)},{keyCode:yn.UP,action:Co(Mk,e,!1)},{keyCode:yn.DOWN,action:Co(Mk,e,!0)}],o).each(c=>{o.preventDefault()})},Gne=(e,n)=>{e.on("keydown",o=>{o.isDefaultPrevented()||Zne(e,n,o)})},np=(e,n)=>({container:e,offset:n}),FB=Js.DOM,$B=e=>n=>e===n?-1:0,qne=e=>n=>e.isBlock(n)||we(["BR","IMG","HR","INPUT"],n.nodeName)||e.getContentEditable(n)==="false",DH=(e,n,o)=>{if(qt(e)&&n>=0)return J.some(np(e,n));{const a=nf(FB);return J.from(a.backwards(e,n,$B(e),o)).map(c=>np(c.container,c.container.data.length))}},Yne=(e,n,o)=>{if(qt(e)&&n>=e.length)return J.some(np(e,n));{const a=nf(FB);return J.from(a.forwards(e,n,$B(e),o)).map(c=>np(c.container,0))}},PH=(e,n,o)=>{if(!qt(e))return J.none();const a=e.data;if(n>=0&&n<=a.length)return J.some(np(e,n));{const c=nf(FB);return J.from(c.backwards(e,n,$B(e),o)).bind(m=>{const p=m.container.data;return PH(m.container,n+p.length,o)})}},jK=(e,n,o)=>{if(!qt(e))return J.none();const a=e.data;if(n<=a.length)return J.some(np(e,n));{const c=nf(FB);return J.from(c.forwards(e,n,$B(e),o)).bind(m=>jK(m.container,n-a.length,o))}},NH=(e,n,o,a,c)=>{const m=nf(e,qne(e));return J.from(m.backwards(n,o,a,c))},Xne=e=>e.collapsed&&qt(e.startContainer),Jne=e=>Rl(e.toString().replace(/\u00A0/g," ")),ZK=e=>e!==""&&` \f
\r	\v`.indexOf(e)!==-1,Qne=(e,n)=>e.substring(n.length),eoe=(e,n,o,a=!1)=>{let c;const m=o.charAt(0);for(c=n-1;c>=0;c--){const p=e.charAt(c);if(!a&&ZK(p))return J.none();if(m===p&&Bs(e,o,c,n))break}return J.some(c)},LH=(e,n,o,a=!1)=>{if(!Xne(n))return J.none();const c={text:"",offset:0},m=(_,A,$)=>(c.text=$+c.text,c.offset+=A,eoe(c.text,c.offset,o,a).getOr(A)),p=e.getParent(n.startContainer,e.isBlock)||e.getRoot();return NH(e,n.startContainer,n.startOffset,m,p).bind(_=>{const A=n.cloneRange();if(A.setStart(_.container,_.offset),A.setEnd(n.endContainer,n.endOffset),A.collapsed)return J.none();const $=Jne(A);return $.lastIndexOf(o)!==0?J.none():J.some({text:Qne($,o),range:A,trigger:o})})},toe=e=>e.nodeType===rh,noe=e=>e.nodeType===Sl,GK=e=>{if(toe(e))return np(e,e.data.length);{const n=e.childNodes;return n.length>0?GK(n[n.length-1]):np(e,n.length)}},qK=(e,n)=>{const o=e.childNodes;return o.length>0&&n<o.length?qK(o[n],0):o.length>0&&noe(e)&&o.length===n?GK(o[o.length-1]):np(e,n)},ooe=(e,n)=>{var o;const a=(o=e.getParent(n.container,e.isBlock))!==null&&o!==void 0?o:e.getRoot();return NH(e,n.container,n.offset,(c,m)=>m===0?-1:m,a).filter(c=>{const m=c.container.data.charAt(c.offset-1);return!ZK(m)}).isSome()},soe=e=>n=>{const o=qK(n.startContainer,n.startOffset);return!ooe(e,o)},roe=(e,n,o)=>li(o.triggers,a=>LH(e,n,a)),ioe=(e,n)=>{const o=n(),a=e.selection.getRng();return roe(e.dom,a,o).bind(c=>YK(e,n,c))},YK=(e,n,o,a={})=>{var c;const m=n(),_=(c=e.selection.getRng().startContainer.nodeValue)!==null&&c!==void 0?c:"",A=Ge(m.lookupByTrigger(o.trigger),q=>o.text.length>=q.minChars&&q.matches.getOrThunk(()=>soe(e.dom))(o.range,_,o.text));if(A.length===0)return J.none();const $=Promise.all(He(A,q=>q.fetch(o.text,q.maxResults,a).then(oe=>({matchText:o.text,items:oe,columns:q.columns,onAction:q.onAction,highlightOn:q.highlightOn}))));return J.some({lookupData:$,context:o})};var op;(function(e){e[e.Error=0]="Error",e[e.Value=1]="Value"})(op||(op={}));const MH=(e,n,o)=>e.stype===op.Error?n(e.serror):o(e.svalue),aoe=e=>{const n=[],o=[];return be(e,a=>{MH(a,c=>o.push(c),c=>n.push(c))}),{values:n,errors:o}},loe=(e,n)=>e.stype===op.Error?{stype:op.Error,serror:n(e.serror)}:e,coe=(e,n)=>e.stype===op.Value?{stype:op.Value,svalue:n(e.svalue)}:e,uoe=(e,n)=>e.stype===op.Value?n(e.svalue):e,doe=(e,n)=>e.stype===op.Error?n(e.serror):e,XK=e=>({stype:op.Value,svalue:e}),JK=e=>({stype:op.Error,serror:e}),Wl={fromResult:e=>e.fold(JK,XK),toResult:e=>MH(e,io.error,io.value),svalue:XK,partition:aoe,serror:JK,bind:uoe,bindError:doe,map:coe,mapError:loe,fold:MH},BH=e=>j(e)&&en(e).length>100?" removed due to size":JSON.stringify(e,null,2),foe=e=>{const n=e.length>10?e.slice(0,10).concat([{path:[],getErrorInfo:dt("... (only showing first ten failures)")}]):e;return He(n,o=>"Failed path: ("+o.path.join(" > ")+`)
`+o.getErrorInfo())},VB=(e,n)=>Wl.serror([{path:e,getErrorInfo:n}]),moe=(e,n,o)=>VB(e,()=>'Could not find valid *required* value for "'+n+'" in '+BH(o)),goe=(e,n)=>VB(e,()=>'Choice schema did not contain choice key: "'+n+'"'),hoe=(e,n,o)=>VB(e,()=>'The chosen schema: "'+o+'" did not exist in branches: '+BH(n)),poe=(e,n)=>VB(e,dt(n)),boe=(e,n,o,a)=>Ps(o,a).fold(()=>hoe(e,o,a),m=>m.extract(e.concat(["branch: "+a]),n)),voe=(e,n)=>({extract:(c,m)=>Ps(m,e).fold(()=>goe(c,e),_=>boe(c,m,n,_)),toString:()=>"chooseOn("+e+"). Possible values: "+en(n)}),yoe=(e,n)=>n,xoe=(e,n)=>fe(e)&&fe(n)?zB(e,n):n,QK=e=>(...n)=>{if(n.length===0)throw new Error("Can't merge zero objects");const o={};for(let a=0;a<n.length;a++){const c=n[a];for(const m in c)yo(c,m)&&(o[m]=e(o[m],c[m]))}return o},zB=QK(xoe),ej=QK(yoe),tj=()=>({tag:"required",process:{}}),woe=e=>({tag:"defaultedThunk",process:e}),nj=e=>woe(dt(e)),Coe=()=>({tag:"option",process:{}}),_oe=(e,n)=>e.length>0?Wl.svalue(zB(n,ej.apply(void 0,e))):Wl.svalue(n),oj=e=>Lt(Wl.serror,oo)(e),Soe={consolidateObj:(e,n)=>{const o=Wl.partition(e);return o.errors.length>0?oj(o.errors):_oe(o.values,n)},consolidateArr:e=>{const n=Wl.partition(e);return n.errors.length>0?oj(n.errors):Wl.svalue(n.values)}},koe=(e,n,o,a)=>({tag:"field",key:e,newKey:n,presence:o,prop:a}),Eoe=(e,n)=>({tag:"custom",newKey:e,instantiator:n}),sj=(e,n,o)=>{switch(e.tag){case"field":return n(e.key,e.newKey,e.presence,e.prop);case"custom":return o(e.newKey,e.instantiator)}},FH=e=>{const n=(a,c)=>Wl.bindError(e(c),m=>poe(a,m)),o=dt("val");return{extract:n,toString:o}},Aoe=FH(Wl.svalue),Toe=(e,n,o,a)=>Ps(n,o).fold(()=>moe(e,o,n),a),rj=(e,n,o,a)=>{const c=Ps(e,n).getOrThunk(()=>o(e));return a(c)},Ooe=(e,n,o)=>o(Ps(e,n)),Roe=(e,n,o,a)=>{const c=Ps(e,n).map(m=>m===!0?o(e):m);return a(c)},Ioe=(e,n,o,a,c)=>{const m=_=>c.extract(n.concat([a]),_),p=_=>_.fold(()=>Wl.svalue(J.none()),A=>{const $=c.extract(n.concat([a]),A);return Wl.map($,J.some)});switch(e.tag){case"required":return Toe(n,o,a,m);case"defaultedThunk":return rj(o,a,e.process,m);case"option":return Ooe(o,a,p);case"defaultedOptionThunk":return Roe(o,a,e.process,p);case"mergeWithThunk":return rj(o,a,dt({}),_=>{const A=zB(e.process(o),_);return m(A)})}},Doe=(e,n,o)=>{const a={},c=[];for(const m of o)sj(m,(p,_,A,$)=>{const q=Ioe(A,e,n,p,$);Wl.fold(q,X=>{c.push(...X)},X=>{a[_]=X})},(p,_)=>{a[p]=_(n)});return c.length>0?Wl.serror(c):Wl.svalue(a)},$H=e=>({extract:(a,c)=>Doe(a,c,e),toString:()=>`obj{
`+He(e,c=>sj(c,(m,p,_,A)=>m+" -> "+A.toString(),(m,p)=>"state("+m+")")).join(`
`)+"}"}),ij=e=>({extract:(a,c)=>{const m=He(c,(p,_)=>e.extract(a.concat(["["+_+"]"]),p));return Soe.consolidateArr(m)},toString:()=>"array("+e.toString()+")"}),Poe=e=>FH(n=>e(n).fold(Wl.serror,Wl.svalue)),Noe=(e,n,o)=>{const a=n.extract([e],o);return Wl.mapError(a,c=>({input:o,errors:c}))},Loe=(e,n,o)=>Wl.toResult(Noe(e,n,o)),Moe=e=>`Errors: 
`+foe(e.errors).join(`
`)+`

Input object: `+BH(e.input),aj=(e,n)=>voe(e,Zl(n,$H)),Boe=dt(Aoe),HB=(e,n)=>FH(o=>{const a=typeof o;return e(o)?Wl.svalue(o):Wl.serror(`Expected type: ${n} but got: ${a}`)}),Foe=HB(R,"number"),UB=HB(le,"string"),$oe=HB(Fe,"boolean"),VH=HB(_e,"function"),tR=koe,lj=Eoe,Voe=e=>Poe(n=>we(e,n)?io.value(n):io.error(`Unsupported value: "${n}", choose one of "${e.join(", ")}".`)),cj=(e,n)=>tR(e,e,tj(),n),uj=e=>cj(e,UB),dj=e=>cj(e,VH),zoe=(e,n)=>tR(e,e,tj(),ij(n)),zH=(e,n)=>tR(e,e,Coe(),n),WB=e=>zH(e,UB),Hoe=e=>zH(e,VH),Uoe=(e,n)=>tR(e,e,nj(n),Boe()),$k=(e,n,o)=>tR(e,e,nj(n),o),fj=(e,n)=>$k(e,n,Foe),Woe=(e,n)=>$k(e,n,UB),mj=(e,n,o)=>$k(e,n,Voe(o)),HH=(e,n)=>$k(e,n,$oe),UH=(e,n)=>$k(e,n,VH),Koe=(e,n,o)=>$k(e,n,ij(o)),joe=uj("type"),Zoe=dj("fetch"),WH=dj("onAction"),Goe=UH("onSetup",()=>lt),qoe=WB("text"),Yoe=WB("icon"),Xoe=WB("tooltip"),Joe=WB("label"),Qoe=HH("active",!1),ese=HH("enabled",!0),gj=HH("primary",!1),tse=e=>Uoe("columns",e),nR=e=>Woe("type",e),nse=$H([joe,uj("trigger"),fj("minChars",1),tse(1),fj("maxResults",10),Hoe("matches"),Zoe,WH,Koe("highlightOn",[],UB)]),ose=e=>Loe("Autocompleter",nse,e),KH=[ese,Xoe,Yoe,qoe,Goe],hj=[Qoe].concat(KH),sse=[UH("predicate",In),mj("scope","node",["node","editor"]),mj("position","selection",["node","selection","line"])],rse=KH.concat([nR("contextformbutton"),gj,WH,lj("original",Sn)]),ise=hj.concat([nR("contextformbutton"),gj,WH,lj("original",Sn)]),ase=KH.concat([nR("contextformbutton")]),lse=hj.concat([nR("contextformtogglebutton")]),cse=aj("type",{contextformbutton:rse,contextformtogglebutton:ise});$H([nR("contextform"),UH("initValue",dt("")),Joe,zoe("commands",cse),zH("launch",aj("type",{contextformbutton:ase,contextformtogglebutton:lse}))].concat(sse));const use=e=>{const n=e.ui.registry.getAll().popups,o=Zl(n,p=>ose(p).fold(_=>{throw new Error(Moe(_))},Sn)),a=qu(xl(o,p=>p.trigger)),c=Gu(o);return{dataset:o,triggers:a,lookupByTrigger:p=>Ge(c,_=>_.trigger===p)}},dse=(e,n)=>{const o=Fp(n.load,50);e.on("input",a=>{a.inputType==="insertCompositionText"&&!e.composing||o.throttle()}),e.on("keydown",a=>{const c=a.which;c===8?o.throttle():c===27?(o.cancel(),n.cancelIfNecessary()):(c===38||c===40)&&o.cancel()},!0),e.on("remove",o.cancel)},fse=e=>{const n=Mi(),o=Li(!1),a=n.isSet,c=()=>{a()&&(l7(e),o.set(!1),n.clear())},m=X=>{a()||n.set({trigger:X.trigger,matchLength:X.text.length})},p=$l(()=>use(e)),_=X=>n.get().map(oe=>LH(e.dom,e.selection.getRng(),oe.trigger,!0).bind(ve=>YK(e,p,ve,X))).getOrThunk(()=>ioe(e,p)),A=X=>{_(X).fold(c,oe=>{m(oe.context),oe.lookupData.then(ve=>{n.get().map(Oe=>{const ye=oe.context;Oe.trigger===ye.trigger&&(n.set({...Oe,matchLength:ye.text.length}),o.get()?(eT(e,{range:ye.range}),QA(e,{lookupData:ve})):(o.set(!0),eT(e,{range:ye.range}),JA(e,{lookupData:ve})))})})})},$=(X,oe)=>{const ve=X.compareBoundaryPoints(window.Range.START_TO_START,oe),Oe=X.compareBoundaryPoints(window.Range.END_TO_END,oe);return ve>=0&&Oe<=0},q=()=>n.get().bind(({trigger:X})=>{const oe=e.selection.getRng();return LH(e.dom,oe,X,o.get()).filter(({range:ve})=>$(oe,ve)).map(({range:ve})=>ve)});e.addCommand("mceAutocompleterReload",(X,oe)=>{const ve=j(oe)?oe.fetchOptions:{};A(ve)}),e.addCommand("mceAutocompleterClose",c),e.addCommand("mceAutocompleterRefreshActiveRange",()=>{q().each(X=>{eT(e,{range:X})})}),e.editorCommands.addQueryStateHandler("mceAutoCompleterInRange",()=>q().isSome()),dse(e,{cancelIfNecessary:c,load:A})},mse=ca().browser.isSafari(),pj=e=>Wc(je.fromDom(e)),bj=(e,n)=>{var o;return e.startOffset===0&&e.endOffset===((o=n.textContent)===null||o===void 0?void 0:o.length)},KB=(e,n)=>J.from(e.getParent(n.container(),"details")),vj=(e,n)=>KB(e,n).isSome(),gse=(e,n)=>{const o=J.from(e.getParent(n.startContainer,"details")),a=J.from(e.getParent(n.endContainer,"details"));if(o.isSome()||a.isSome()){const c=o.bind(m=>J.from(e.select("summary",m)[0]));return J.some({startSummary:c,startDetails:o,endDetails:a})}else return J.none()},hse=(e,n)=>ao(n).exists(o=>o.isEqual(e)),pse=(e,n)=>md(n).exists(o=>pr(o.getNode())&&Zc(n,o).exists(a=>a.isEqual(e))||o.isEqual(e)),bse=(e,n)=>n.startSummary.exists(o=>hse(e,o)),vse=(e,n)=>n.startSummary.exists(o=>pse(e,o)),yse=(e,n)=>n.startDetails.exists(o=>Zc(o,e).forall(a=>n.startSummary.exists(c=>!c.contains(e.container())&&c.contains(a.container())))),xse=(e,n,o)=>o.startDetails.exists(a=>ec(e,n).forall(c=>!a.contains(c.container()))),yj=(e,n)=>{const o=n.getNode();Xe(o)||e.selection.setCursorLocation(o,n.offset())},xj=(e,n,o)=>{const a=e.dom.getParent(n.container(),"details");if(a&&!a.open){const c=e.dom.select("summary",a)[0];c&&(o?ao(c):md(c)).each(p=>yj(e,p))}else yj(e,n)},wse=(e,n)=>{const o=A=>A.contains(e.startContainer),a=A=>A.contains(e.endContainer),c=n.startSummary.exists(o),m=n.startSummary.exists(a),p=n.startDetails.forall(A=>n.endDetails.forall($=>A!==$));return(c||m)&&!(c&&m)||p},wj=(e,n,o)=>{const{dom:a,selection:c}=e,m=e.getBody();if(o==="character"){const p=At.fromRangeStart(c.getRng()),_=a.getParent(p.container(),a.isBlock),A=KB(a,p),$=_&&a.isEmpty(_),q=Ve(_==null?void 0:_.previousSibling),X=Ve(_==null?void 0:_.nextSibling);return $&&(n?X:q)&&Qv(!n,m,p).exists(Oe=>vj(a,Oe)&&!Tf(A,KB(a,Oe)))?!0:Qv(n,m,p).fold(In,oe=>{const ve=KB(a,oe);if(vj(a,oe)&&!Tf(A,ve)){if(n||xj(e,oe,!1),_&&$){if(n&&q)return!0;if(!n&&X)return!0;xj(e,oe,n),e.dom.remove(_)}return!0}else return!1})}else return!1},Cse=(e,n,o,a)=>{const m=e.selection.getRng(),p=At.fromRangeStart(m),_=e.getBody();return a==="selection"?wse(m,n):o?vse(p,n)||xse(_,p,n):bse(p,n)||yse(p,n)},_se=(e,n,o)=>gse(e.dom,e.selection.getRng()).fold(()=>wj(e,n,o),a=>Cse(e,a,n,o)||wj(e,n,o)),Sse=(e,n,o)=>{const a=e.selection,c=a.getNode(),m=a.getRng(),p=At.fromRangeStart(m);return Ip(c)?(o==="selection"&&bj(m,c)||EN(n,p,c)?pj(c):e.undoManager.transact(()=>{const _=a.getSel();let{anchorNode:A,anchorOffset:$,focusNode:q,focusOffset:X}=_??{};const oe=()=>{xe(A)&&xe($)&&xe(q)&&xe(X)&&(_==null||_.setBaseAndExtent(A,$,q,X))},ve=()=>{A=_==null?void 0:_.anchorNode,$=_==null?void 0:_.anchorOffset,q=_==null?void 0:_.focusNode,X=_==null?void 0:_.focusOffset},Oe=(Pe,Ye)=>{be(Pe.childNodes,st=>{hy(st)&&Ye.appendChild(st)})},ye=e.dom.create("span",{"data-mce-bogus":"1"});Oe(c,ye),c.appendChild(ye),oe(),(o==="word"||o==="line")&&(_==null||_.modify("extend",n?"right":"left",o)),!a.isCollapsed()&&bj(a.getRng(),ye)?pj(c):(e.execCommand(n?"ForwardDelete":"Delete"),ve(),Oe(ye,c),oe()),e.dom.remove(ye)}),!0):!1},fC=(e,n,o)=>_se(e,n,o)||mse&&Sse(e,n,o)?J.some(lt):J.none(),Cj=e=>(n,o,a={})=>{const c=n.getBody(),m={bubbles:!0,composed:!0,data:null,isComposing:!1,detail:0,view:null,target:c,currentTarget:c,eventPhase:Event.AT_TARGET,originalTarget:c,explicitOriginalTarget:c,isTrusted:!1,srcElement:c,cancelable:!1,preventDefault:lt,inputType:o},p=eg(new InputEvent(e));return n.dispatch(e,{...p,...m,...a})},oR=Cj("input"),jB=Cj("beforeinput"),_j=ca(),Sj=_j.os,kj=Sj.isMacOS()||Sj.isiOS(),kse=_j.browser.isFirefox(),Ese=(e,n,o)=>{const a=o.keyCode===yn.BACKSPACE?"deleteContentBackward":"deleteContentForward",c=e.selection.isCollapsed(),m=c?"character":"selection",p=_=>c?_?"word":"line":"selection";Fk([{keyCode:yn.BACKSPACE,action:Co(Tt,e)},{keyCode:yn.BACKSPACE,action:Co(AO,e,!1)},{keyCode:yn.DELETE,action:Co(AO,e,!0)},{keyCode:yn.BACKSPACE,action:Co(SO,e,!1)},{keyCode:yn.DELETE,action:Co(SO,e,!0)},{keyCode:yn.BACKSPACE,action:Co(iC,e,n,!1)},{keyCode:yn.DELETE,action:Co(iC,e,n,!0)},{keyCode:yn.BACKSPACE,action:Co(Kh,e,!1)},{keyCode:yn.DELETE,action:Co(Kh,e,!0)},{keyCode:yn.BACKSPACE,action:Co(fC,e,!1,m)},{keyCode:yn.DELETE,action:Co(fC,e,!0,m)},...kj?[{keyCode:yn.BACKSPACE,altKey:!0,action:Co(fC,e,!1,p(!0))},{keyCode:yn.DELETE,altKey:!0,action:Co(fC,e,!0,p(!0))},{keyCode:yn.BACKSPACE,metaKey:!0,action:Co(fC,e,!1,p(!1))}]:[{keyCode:yn.BACKSPACE,ctrlKey:!0,action:Co(fC,e,!1,p(!0))},{keyCode:yn.DELETE,ctrlKey:!0,action:Co(fC,e,!0,p(!0))}],{keyCode:yn.BACKSPACE,action:Co(OO,e,!1)},{keyCode:yn.DELETE,action:Co(OO,e,!0)},{keyCode:yn.BACKSPACE,action:Co(te,e,!1)},{keyCode:yn.DELETE,action:Co(te,e,!0)},{keyCode:yn.BACKSPACE,action:Co(wO,e,!1)},{keyCode:yn.DELETE,action:Co(wO,e,!0)},{keyCode:yn.BACKSPACE,action:Co(Sk,e,!1)},{keyCode:yn.DELETE,action:Co(Sk,e,!0)},{keyCode:yn.BACKSPACE,action:Co(C,e,!1)},{keyCode:yn.DELETE,action:Co(C,e,!0)},{keyCode:yn.BACKSPACE,action:Co(TO,e,!1)},{keyCode:yn.DELETE,action:Co(TO,e,!0)}],o).filter(_=>e.selection.isEditable()).each(_=>{o.preventDefault(),jB(e,a).isDefaultPrevented()||(_(),oR(e,a))})},Ase=(e,n,o)=>Eb([{keyCode:yn.BACKSPACE,action:Co(BM,e)},{keyCode:yn.DELETE,action:Co(BM,e)},...kj?[{keyCode:yn.BACKSPACE,altKey:!0,action:Co(F,e)},{keyCode:yn.DELETE,altKey:!0,action:Co(F,e)},...o?[{keyCode:kse?224:91,action:Co(F,e)}]:[]]:[{keyCode:yn.BACKSPACE,ctrlKey:!0,action:Co(F,e)},{keyCode:yn.DELETE,ctrlKey:!0,action:Co(F,e)}]],n),Tse=(e,n)=>{let o=!1;e.on("keydown",a=>{o=a.keyCode===yn.BACKSPACE,a.isDefaultPrevented()||Ese(e,n,a)}),e.on("keyup",a=>{a.isDefaultPrevented()||Ase(e,a,o),o=!1})},Ose=e=>{for(;e;){if(Ln(e)||qt(e)&&e.data&&/[\r\n\s]/.test(e.data))return e;e=e.nextSibling}return null},Vk=(e,n)=>{const o=e.dom,a=e.schema.getMoveCaretBeforeOnEnterElements();if(!n)return;if(/^(LI|DT|DD)$/.test(n.nodeName)){const m=Ose(n.firstChild);m&&/^(UL|OL|DL)$/.test(m.nodeName)&&n.insertBefore(o.doc.createTextNode(Ni),n.firstChild)}const c=o.createRng();if(n.normalize(),n.hasChildNodes()){const m=new pa(n,n);let p=n,_;for(;_=m.current();){if(qt(_)){c.setStart(_,0),c.setEnd(_,0);break}if(a[_.nodeName.toLowerCase()]){c.setStartBefore(_),c.setEndBefore(_);break}p=_,_=m.next()}_||(c.setStart(p,0),c.setEnd(p,0))}else pr(n)?n.nextSibling&&o.isBlock(n.nextSibling)?(c.setStartBefore(n),c.setEndBefore(n)):(c.setStartAfter(n),c.setEndAfter(n)):(c.setStart(n,0),c.setEnd(n,0));e.selection.setRng(c),pd(e,c)},sR=(e,n)=>{const o=e.getRoot();let a,c=n;for(;c!==o&&c&&e.getContentEditable(c)!=="false";){if(e.getContentEditable(c)==="true"){a=c;break}c=c.parentNode}return c!==o?a:o},jH=e=>J.from(e.dom.getParent(e.selection.getStart(!0),e.dom.isBlock)),Rse=e=>jH(e).fold(dt(""),n=>n.nodeName.toUpperCase()),Ise=e=>jH(e).filter(n=>ag(je.fromDom(n))).isSome(),ZH=e=>{e.innerHTML='<br data-mce-bogus="1">'},Dse=(e,n,o)=>{const a=e.dom;J.from(o.style).map(a.parseStyle).each(A=>{const q={...ch(je.fromDom(n)),...A};a.setStyles(n,q)});const c=J.from(o.class).map(A=>A.split(/\s+/)),m=J.from(n.className).map(A=>Ge(A.split(/\s+/),$=>$!==""));da(c,m,(A,$)=>{const q=Ge($,oe=>!we(A,oe)),X=[...A,...q];a.setAttrib(n,"class",X.join(" "))});const p=["style","class"],_=Tc(o,(A,$)=>!we(p,$));a.setAttribs(n,_)},rR=(e,n)=>{if(gl(e).toLowerCase()===n.tagName.toLowerCase()){const a=_2(e);Dse(e,n,a)}},Ej=(e,n,o,a,c=!0,m,p)=>{const _=e.dom,A=e.schema,$=gl(e),q=o?o.nodeName.toUpperCase():"";let X=n;const oe=A.getTextInlineElements();let ve;m||q==="TABLE"||q==="HR"?ve=_.create(m||$,p||{}):ve=o.cloneNode(!1);let Oe=ve;if(!c)_.setAttrib(ve,"style",null),_.setAttrib(ve,"class",null);else do if(oe[X.nodeName]){if(Tu(X)||Ou(X))continue;const ye=X.cloneNode(!1);_.setAttrib(ye,"id",""),ve.hasChildNodes()?(ye.appendChild(ve.firstChild),ve.appendChild(ye)):(Oe=ye,ve.appendChild(ye))}while((X=X.parentNode)&&X!==a);return rR(e,ve),ZH(Oe),ve},Pse=(e,n)=>e.dom.getParent(n,Rp),Nse=(e,n,o)=>{let a=n;for(;a&&a!==e&&Ve(a.nextSibling);){const c=a.parentElement;if(!c||!o(c))return Rp(c);a=c}return!1},Lse=(e,n,o)=>!n&&o.nodeName.toLowerCase()===gl(e)&&e.dom.isEmpty(o)&&Nse(e.getBody(),o,a=>yo(e.schema.getTextBlockElements(),a.nodeName.toLowerCase())),Mse=(e,n,o)=>{var a,c,m;const p=n(gl(e)),_=Pse(e,o);_&&(e.dom.insertAfter(p,_),Vk(e,p),((m=(c=(a=o.parentElement)===null||a===void 0?void 0:a.childNodes)===null||c===void 0?void 0:c.length)!==null&&m!==void 0?m:0)>1&&e.dom.remove(o))},Bse=(e,n)=>e.firstChild&&e.firstChild.nodeName===n,Fse=e=>{var n;return((n=e.parentNode)===null||n===void 0?void 0:n.firstChild)===e},Aj=(e,n)=>{const o=e==null?void 0:e.parentNode;return xe(o)&&o.nodeName===n},Tj=e=>xe(e)&&/^(OL|UL|LI)$/.test(e.nodeName),GH=e=>xe(e)&&/^(LI|DT|DD)$/.test(e.nodeName),$se=e=>Tj(e)&&Tj(e.parentNode),ZB=e=>{const n=e.parentNode;return GH(n)?n:e},GB=(e,n,o)=>{let a=e[o?"firstChild":"lastChild"];for(;a&&!Ln(a);)a=a[o?"nextSibling":"previousSibling"];return a===n},Oj=e=>cn(xl(ch(je.fromDom(e)),(n,o)=>`${o}: ${n};`),(n,o)=>n+o,""),Vse=(e,n,o,a,c)=>{const m=e.dom,p=e.selection.getRng(),_=o.parentNode;if(o===e.getBody()||!_)return;$se(o)&&(c="LI");const A=GH(a)?Oj(a):void 0;let $=GH(a)&&A?n(c,{style:Oj(a)}):n(c);if(GB(o,a,!0)&&GB(o,a,!1))if(Aj(o,"LI")){const q=ZB(o);m.insertAfter($,q),Fse(o)?m.remove(q):m.remove(o)}else m.replace($,o);else if(GB(o,a,!0))Aj(o,"LI")?(m.insertAfter($,ZB(o)),$.appendChild(m.doc.createTextNode(" ")),$.appendChild(o)):_.insertBefore($,o),m.remove(a);else if(GB(o,a,!1))m.insertAfter($,ZB(o)),m.remove(a);else{o=ZB(o);const q=p.cloneRange();q.setStartAfter(a),q.setEndAfter(o);const X=q.extractContents();if(c==="LI"&&Bse(X,"LI")){const oe=Ge(He($.children,je.fromDom),Me(Df("br")));$=X.firstChild,m.insertAfter(X,o),be(oe,ve=>Ka(je.fromDom($),ve)),A&&$.setAttribute("style",A)}else m.insertAfter(X,o),m.insertAfter($,o);m.remove(a)}Vk(e,$)},zse=e=>{be(Zm(je.fromDom(e),ur),n=>{const o=n.dom;o.nodeValue=Rl(o.data)})},Hse=(e,n)=>{const o=e.dom.getParent(n,"ol,ul,dl");return o!==null&&e.dom.getContentEditableParent(o)==="false"},Use=(e,n)=>n&&n.nodeName==="A"&&e.isEmpty(n),qH=(e,n)=>e.nodeName===n||e.previousSibling&&e.previousSibling.nodeName===n,YH=(e,n)=>xe(n)&&e.isBlock(n)&&!/^(TD|TH|CAPTION|FORM)$/.test(n.nodeName)&&!/^(fixed|absolute)/i.test(n.style.position)&&e.isEditable(n.parentNode)&&e.getContentEditable(n)!=="false",Wse=(e,n,o)=>{var a;const c=[];if(!o)return;let m=o;for(;m=m.firstChild;){if(e.isBlock(m))return;Ln(m)&&!n[m.nodeName.toLowerCase()]&&c.push(m)}let p=c.length;for(;p--;)m=c[p],(!m.hasChildNodes()||m.firstChild===m.lastChild&&((a=m.firstChild)===null||a===void 0?void 0:a.nodeValue)===""||Use(e,m))&&e.remove(m)},XH=(e,n,o)=>qt(n)?e?o===1&&n.data.charAt(o-1)===Ei?0:o:o===n.data.length-1&&n.data.charAt(o)===Ei?n.data.length:o:o,Kse=e=>{const n=e.cloneRange();return n.setStart(e.startContainer,XH(!0,e.startContainer,e.startOffset)),n.setEnd(e.endContainer,XH(!1,e.endContainer,e.endOffset)),n},jse=e=>{let n=e;do qt(n)&&(n.data=n.data.replace(/^[\r\n]+/,"")),n=n.firstChild;while(n)},Zse=(e,n,o,a,c)=>{var m,p;const _=e.dom,A=(m=sR(_,a))!==null&&m!==void 0?m:_.getRoot();let $=_.getParent(a,_.isBlock);if(!$||!YH(_,$)){if($=$||A,!$.hasChildNodes()){const ve=_.create(n);return rR(e,ve),$.appendChild(ve),o.setStart(ve,0),o.setEnd(ve,0),ve}let q=a;for(;q&&q.parentNode!==$;)q=q.parentNode;let X;for(;q&&!_.isBlock(q);)X=q,q=q.previousSibling;const oe=(p=X==null?void 0:X.parentElement)===null||p===void 0?void 0:p.nodeName;if(X&&oe&&e.schema.isValidChild(oe,n.toLowerCase())){const ve=X.parentNode,Oe=_.create(n);for(rR(e,Oe),ve.insertBefore(Oe,X),q=X;q&&!_.isBlock(q);){const ye=q.nextSibling;Oe.appendChild(q),q=ye}o.setStart(a,c),o.setEnd(a,c)}}return a},Gse=(e,n)=>{n.normalize();const o=n.lastChild;(!o||Ln(o)&&/^(left|right)$/gi.test(e.getStyle(o,"float",!0)))&&e.add(n,"br")},qse=(e,n)=>{const o=dA(e);return rt(n)?!1:le(o)?we(rn.explode(o),n.nodeName.toLowerCase()):o},Rj={insert:(e,n)=>{let o,a,c,m,p=!1;const _=e.dom,A=e.schema,$=A.getNonEmptyElements(),q=e.selection.getRng(),X=gl(e),oe=je.fromDom(q.startContainer),ve=nd(oe,q.startOffset),Oe=ve.exists(zt=>Va(zt)&&!_r(zt)),ye=q.collapsed&&Oe,Pe=(zt,Pn)=>Ej(e,o,on,Ut,uA(e),zt,Pn),Ye=zt=>{const Pn=XH(zt,o,a);if(qt(o)&&(zt?Pn>0:Pn<o.data.length))return!1;if((o.parentNode===on||o===on)&&p&&!zt||zt&&Ln(o)&&o===on.firstChild)return!0;if(qH(o,"TABLE")||qH(o,"HR"))return p&&!zt||!p&&zt;const jn=new pa(o,on);qt(o)&&(zt&&Pn===0?jn.prev():!zt&&Pn===o.data.length&&jn.next());let Ho;for(;Ho=jn.current();){if(Ln(Ho)){if(!Ho.getAttribute("data-mce-bogus")){const qo=Ho.nodeName.toLowerCase();if($[qo]&&qo!=="br")return!1}}else if(qt(Ho)&&!uc(Ho.data))return!1;zt?jn.prev():jn.next()}return!0},st=()=>{let zt;return/^(H[1-6]|PRE|FIGURE)$/.test(c)&&_n!=="HGROUP"?zt=Pe(X):zt=Pe(),qse(e,m)&&YH(_,m)&&_.isEmpty(on,void 0,{includeZwsp:!0})?zt=_.split(m,on):_.insertAfter(zt,on),Vk(e,zt),zt};yg(_,q).each(zt=>{q.setStart(zt.startContainer,zt.startOffset),q.setEnd(zt.endContainer,zt.endOffset)}),o=q.startContainer,a=q.startOffset;const nt=!!(n&&n.shiftKey),yt=!!(n&&n.ctrlKey);Ln(o)&&o.hasChildNodes()&&!ye&&(p=a>o.childNodes.length-1,o=o.childNodes[Math.min(a,o.childNodes.length-1)]||o,p&&qt(o)?a=o.data.length:a=0);const Ut=sR(_,o);if(!Ut||Hse(e,o))return;nt||(o=Zse(e,X,q,o,a));let on=_.getParent(o,_.isBlock)||_.getRoot();m=xe(on==null?void 0:on.parentNode)?_.getParent(on.parentNode,_.isBlock):null,c=on?on.nodeName.toUpperCase():"";const _n=m?m.nodeName.toUpperCase():"";if(_n==="LI"&&!yt){const zt=m;on=zt,m=zt.parentNode,c=_n}if(Ln(m)&&Lse(e,nt,on))return Mse(e,Pe,on);if(/^(LI|DT|DD)$/.test(c)&&Ln(m)&&_.isEmpty(on)){Vse(e,Pe,m,on,X);return}if(!ye&&(on===e.getBody()||!YH(_,on)))return;const Pt=on.parentNode;let St;if(ye)St=Pe(X),ve.fold(()=>{Ur(oe,je.fromDom(St))},zt=>{Or(zt,je.fromDom(St))}),e.selection.setCursorLocation(St,0);else if(Vp(on))St=Rh(on),_.isEmpty(on)&&ZH(on),rR(e,St),Vk(e,St);else if(Ye(!1))St=st();else if(Ye(!0)&&Pt){const zt=At.fromRangeStart(q),Pn=ky(zt),jn=je.fromDom(on),qo=g0(jn,zt,e.schema)?gS(jn,zt,e.schema).bind(js=>J.from(js.getNode())):J.none();St=Pt.insertBefore(Pe(),on);const Ls=qH(on,"HR")||Pn?St:qo.getOr(on);Vk(e,Ls)}else{const zt=Kse(q).cloneRange();zt.setEndAfter(on);const Pn=zt.extractContents();zse(Pn),jse(Pn),St=Pn.firstChild,_.insertAfter(Pn,on),Wse(_,$,St),Gse(_,on),_.isEmpty(on)&&ZH(on),St.normalize(),_.isEmpty(St)?(_.remove(St),st()):(rR(e,St),Vk(e,St))}_.setAttrib(St,"id",""),e.dispatch("NewBlock",{newBlock:St})},fakeEventName:"insertParagraph"},Yse=(e,n,o)=>{const a=new pa(n,o);let c;const m=e.getNonEmptyElements();for(;c=a.next();)if(m[c.nodeName.toLowerCase()]||qt(c)&&c.length>0)return!0;return!1},Ij=(e,n,o)=>{const a=e.dom.createRng();o?(a.setStartBefore(n),a.setEndBefore(n)):(a.setStartAfter(n),a.setEndAfter(n)),e.selection.setRng(a),pd(e,a)},Xse=(e,n)=>{const o=e.selection,a=e.dom,c=o.getRng();let m,p=!1;yg(a,c).each(ve=>{c.setStart(ve.startContainer,ve.startOffset),c.setEnd(ve.endContainer,ve.endOffset)});let _=c.startOffset,A=c.startContainer;if(Ln(A)&&A.hasChildNodes()){const ve=_>A.childNodes.length-1;A=A.childNodes[Math.min(_,A.childNodes.length-1)]||A,ve&&qt(A)?_=A.data.length:_=0}let $=a.getParent(A,a.isBlock);const q=$&&$.parentNode?a.getParent($.parentNode,a.isBlock):null,X=q?q.nodeName.toUpperCase():"",oe=!!(n&&n.ctrlKey);X==="LI"&&!oe&&($=q),qt(A)&&_>=A.data.length&&(Yse(e.schema,A,$||a.getRoot())||(m=a.create("br"),c.insertNode(m),c.setStartAfter(m),c.setEndAfter(m),p=!0)),m=a.create("br"),ny(a,c,m),Ij(e,m,p),e.undoManager.add()},Jse=(e,n)=>{const o=je.fromTag("br");Or(je.fromDom(n),o),e.undoManager.add()},Qse=(e,n)=>{tre(e.getBody(),n)||mt(je.fromDom(n),je.fromTag("br"));const o=je.fromTag("br");mt(je.fromDom(n),o),Ij(e,o.dom,!1),e.undoManager.add()},ere=e=>pr(e.getNode()),tre=(e,n)=>ere(At.after(n))?!0:ec(e,At.after(n)).map(o=>pr(o.getNode())).getOr(!1),Dj=e=>e&&e.nodeName==="A"&&"href"in e,nre=e=>e.fold(In,Dj,Dj,In),ore=e=>{const n=et(p0,e),o=At.fromRangeStart(e.selection.getRng());return Dg(n,e.getBody(),o).filter(nre)},sre=(e,n)=>{n.fold(lt,et(Jse,e),et(Qse,e),lt)},Pj={insert:(e,n)=>{const o=ore(e);o.isSome()?o.each(et(sre,e)):Xse(e,n)},fakeEventName:"insertLineBreak"},Nj=(e,n)=>jH(e).filter(o=>n.length>0&&Fs(je.fromDom(o),n)).isSome(),rre=e=>Nj(e,OI(e)),ire=e=>Nj(e,RI(e)),yf=ts.generate([{br:[]},{block:[]},{none:[]}]),are=(e,n)=>ire(e),Lj=e=>(n,o)=>Ise(n)===e,Mj=(e,n)=>(o,a)=>Rse(o)===e.toUpperCase()===n,lre=e=>{const n=sR(e.dom,e.selection.getStart());return rt(n)},iR=e=>Mj("pre",e),cre=()=>Mj("summary",!0),qB=e=>(n,o)=>lA(n)===e,ure=(e,n)=>rre(e),YB=(e,n)=>n,dre=e=>{const n=gl(e),o=sR(e.dom,e.selection.getStart());return xe(o)&&e.schema.isValidChild(o.nodeName,n)},fre=e=>{const n=e.selection.getRng(),o=je.fromDom(n.startContainer),c=nd(o,n.startOffset).map(m=>Va(m)&&!_r(m));return n.collapsed&&c.getOr(!0)},pm=(e,n)=>(o,a)=>cn(e,(m,p)=>m&&p(o,a),!0)?J.some(n):J.none(),mre=(e,n)=>GM([pm([are],yf.none()),pm([iR(!0),lre],yf.none()),pm([cre()],yf.br()),pm([iR(!0),qB(!1),YB],yf.br()),pm([iR(!0),qB(!1)],yf.block()),pm([iR(!0),qB(!0),YB],yf.block()),pm([iR(!0),qB(!0)],yf.br()),pm([Lj(!0),YB],yf.br()),pm([Lj(!0)],yf.block()),pm([ure],yf.br()),pm([YB],yf.br()),pm([dre],yf.block()),pm([fre],yf.block())],[e,!!(n&&n.shiftKey)]).getOr(yf.none()),XB=(e,n,o)=>{n.selection.isCollapsed()||SN(n),!(xe(o)&&jB(n,e.fakeEventName).isDefaultPrevented())&&(e.insert(n,o),xe(o)&&oR(n,e.fakeEventName))},Bj=(e,n)=>{const o=()=>XB(Pj,e,n),a=()=>XB(Rj,e,n),c=mre(e,n);switch(cA(e)){case"linebreak":c.fold(o,o,lt);break;case"block":c.fold(a,a,lt);break;case"invert":c.fold(a,o,lt);break;default:c.fold(o,a,lt);break}},Fj=ca(),gre=Fj.os.isiOS()&&Fj.browser.isSafari(),$j=(e,n)=>{n.isDefaultPrevented()||(n.preventDefault(),RV(e.undoManager),e.undoManager.transact(()=>{Bj(e,n)}))},hre=e=>{if(!e.collapsed)return!1;const n=e.startContainer;if(qt(n)){const o=/^[\uAC00-\uD7AF\u1100-\u11FF\u3130-\u318F\uA960-\uA97F\uD7B0-\uD7FF]$/,a=n.data.charAt(e.startOffset-1);return o.test(a)}else return!1},pre=e=>{let n=J.none();const o=c=>{n=J.some(c.selection.getBookmark()),c.undoManager.add()},a=(c,m)=>{c.undoManager.undo(),n.fold(lt,p=>c.selection.moveToBookmark(p)),$j(c,m),n=J.none()};e.on("keydown",c=>{c.keyCode===yn.ENTER&&(gre&&hre(e.selection.getRng())?o(e):$j(e,c))}),e.on("keyup",c=>{c.keyCode===yn.ENTER&&n.each(()=>a(e,c))})},bre=(e,n,o)=>{const a=Wo.os.isMacOS()||Wo.os.isiOS();Eb([{keyCode:yn.END,action:Co(vf,e,!0)},{keyCode:yn.HOME,action:Co(vf,e,!1)},...a?[]:[{keyCode:yn.HOME,action:Co(L0,e,!1),ctrlKey:!0,shiftKey:!0},{keyCode:yn.END,action:Co(L0,e,!0),ctrlKey:!0,shiftKey:!0}],{keyCode:yn.END,action:Co(XO,e,!0)},{keyCode:yn.HOME,action:Co(XO,e,!1)},{keyCode:yn.END,action:Co(sC,e,!0,n)},{keyCode:yn.HOME,action:Co(sC,e,!1,n)}],o).each(c=>{o.preventDefault()})},vre=(e,n)=>{e.on("keydown",o=>{o.isDefaultPrevented()||bre(e,n,o)})},yre=e=>{e.on("input",n=>{n.isComposing||Z7(e)})},xre=ca(),wre=(e,n,o)=>{Eb([{keyCode:yn.PAGE_UP,action:Co(sC,e,!1,n)},{keyCode:yn.PAGE_DOWN,action:Co(sC,e,!0,n)}],o)},Vj=e=>e.stopImmediatePropagation(),zj=e=>e.keyCode===yn.PAGE_UP||e.keyCode===yn.PAGE_DOWN,Hj=(e,n,o)=>{o&&!e.get()?n.on("NodeChange",Vj,!0):!o&&e.get()&&n.off("NodeChange",Vj),e.set(o)},Cre=(e,n)=>{if(xre.os.isMacOS())return;const o=Li(!1);e.on("keydown",a=>{zj(a)&&Hj(o,e,!0)}),e.on("keyup",a=>{a.isDefaultPrevented()||wre(e,n,a),zj(a)&&o.get()&&(Hj(o,e,!1),e.nodeChanged())})},_re=e=>{e.on("beforeinput",n=>{(!e.selection.isEditable()||Re(n.getTargetRanges(),o=>!NP(e.dom,o)))&&n.preventDefault()})},Uj=(e,n)=>{const o=n.container(),a=n.offset();return qt(o)?(o.insertData(a,e),J.some(At(o,a+e.length))):A_(n).map(c=>{const m=je.fromText(e);return n.isAtEnd()?mt(c,m):Or(c,m),At(m.dom,e.length)})},Wj=et(Uj,Ni),Kj=et(Uj," "),Sre=(e,n,o)=>zT(e,n,o)?Wj(n):Kj(n),kre=e=>n=>n.fold(o=>Zc(e.dom,At.before(o)),o=>ao(o),o=>md(o),o=>ec(e.dom,At.after(o))),Ere=(e,n,o)=>a=>zT(e,a,o)?Wj(n):Kj(n),jj=e=>n=>{e.selection.setRng(n.toRange()),e.nodeChanged()},Are=(e,n)=>e.isEditable(e.getParent(n,"summary")),Tre=e=>{const n=At.fromRangeStart(e.selection.getRng()),o=je.fromDom(e.getBody());if(e.selection.isCollapsed()){const a=et(p0,e),c=At.fromRangeStart(e.selection.getRng());return Dg(a,e.getBody(),c).bind(kre(o)).map(m=>()=>Ere(o,n,e.schema)(m).each(jj(e)))}else return J.none()},Ore=e=>{const n=()=>{const o=je.fromDom(e.getBody());e.selection.isCollapsed()||e.getDoc().execCommand("Delete");const a=At.fromRangeStart(e.selection.getRng());Sre(o,a,e.schema).each(jj(e))};return oh(Wo.browser.isFirefox()&&e.selection.isEditable()&&Are(e.dom,e.selection.getRng().startContainer),n)},Rre=(e,n)=>{Fk([{keyCode:yn.SPACEBAR,action:Co(Tre,e)},{keyCode:yn.SPACEBAR,action:Co(Ore,e)}],n).each(o=>{n.preventDefault(),jB(e,"insertText",{data:" "}).isDefaultPrevented()||(o(),oR(e,"insertText",{data:" "}))})},Ire=e=>{e.on("keydown",n=>{n.isDefaultPrevented()||Rre(e,n)})},Dre=e=>eD(e)?[{keyCode:yn.TAB,action:Co(KK,e,!0)},{keyCode:yn.TAB,shiftKey:!0,action:Co(KK,e,!1)}]:[],Pre=(e,n)=>{Eb([...Dre(e)],n).each(o=>{n.preventDefault()})},Nre=e=>{e.on("keydown",n=>{n.isDefaultPrevented()||Pre(e,n)})},Lre=e=>{if(e.addShortcut("Meta+P","","mcePrint"),fse(e),Ig(e))return Li(null);{const n=xB(e);return _re(e),N0(e),Gne(e,n),Tse(e,n),pre(e),Ire(e),yre(e),Nre(e),vre(e,n),Cre(e,n),n}};class Mre{constructor(n){this.lastPath=[],this.editor=n;let o;const a=this;"onselectionchange"in n.getDoc()||n.on("NodeChange click mouseup keyup focus",c=>{const m=n.selection.getRng(),p={startContainer:m.startContainer,startOffset:m.startOffset,endContainer:m.endContainer,endOffset:m.endOffset};(c.type==="nodechange"||!ow(p,o))&&n.dispatch("SelectionChange"),o=p}),n.on("contextmenu",()=>{yy(n),n.dispatch("SelectionChange")}),n.on("SelectionChange",()=>{const c=n.selection.getStart(!0);c&&my(n)&&!a.isSameElementPath(c)&&n.dom.isChildOf(c,n.getBody())&&n.nodeChanged({selectionChange:!0})}),n.on("mouseup",c=>{!c.isDefaultPrevented()&&my(n)&&(n.selection.getNode().nodeName==="IMG"?Yc.setEditorTimeout(n,()=>{n.nodeChanged()}):n.nodeChanged())})}nodeChanged(n={}){const o=this.editor.selection;let a;if(this.editor.initialized&&o&&!A8(this.editor)&&!this.editor.mode.isReadOnly()){const c=this.editor.getBody();a=o.getStart(!0)||c,(a.ownerDocument!==this.editor.getDoc()||!this.editor.dom.isChildOf(a,c))&&(a=c);const m=[];this.editor.dom.getParent(a,p=>p===c?!0:(m.push(p),!1)),this.editor.dispatch("NodeChange",{...n,element:a,parents:m})}}isSameElementPath(n){let o;const a=this.editor,c=Gs(a.dom.getParents(n,sn,a.getBody()));if(c.length===this.lastPath.length){for(o=c.length;o>=0&&c[o]===this.lastPath[o];o--);if(o===-1)return this.lastPath=c,!0}return this.lastPath=c,!1}}const Zj=Za("image"),Bre=e=>{const n=e;return J.from(n[Zj])},Fre=(e,n)=>{const o=e;o[Zj]=n},JH=Za("event"),$re=e=>{const n=e;return J.from(n[JH])},JB=e=>n=>{const o=n;o[JH]=e},Vre=(e,n)=>JB(n)(e),Gj=JB(0),zre=JB(2),Hre=JB(1),Ure=(e=>n=>{const o=n;return J.from(o[JH]).exists(a=>a===e)})(0),Wre=()=>Object.freeze({length:0,item:e=>null}),QH=Za("mode"),Kre=e=>{const n=e;return J.from(n[QH])},QB=e=>n=>{const o=n;o[QH]=e},qj=(e,n)=>QB(n)(e),Yj=QB(0),e9=QB(2),jre=QB(1),Xj=e=>n=>{const o=n;return J.from(o[QH]).exists(a=>a===e)},zk=Xj(0),Jj=Xj(1),Zre=(e,n)=>({...n,get length(){return n.length},add:(o,a)=>{if(zk(e))if(le(o)){if(!Xe(a))return n.add(o,a)}else return n.add(o);return null},remove:o=>{zk(e)&&n.remove(o)},clear:()=>{zk(e)&&n.clear()}}),Gre=["none","copy","link","move"],qre=["none","copy","copyLink","copyMove","link","linkMove","move","all","uninitialized"],t9=()=>{const e=new window.DataTransfer;let n="move",o="all";const a={get dropEffect(){return n},set dropEffect(c){we(Gre,c)&&(n=c)},get effectAllowed(){return o},set effectAllowed(c){Ure(a)&&we(qre,c)&&(o=c)},get items(){return Zre(a,e.items)},get files(){return Jj(a)?Wre():e.files},get types(){return e.types},setDragImage:(c,m,p)=>{zk(a)&&(Fre(a,{image:c,x:m,y:p}),e.setDragImage(c,m,p))},getData:c=>Jj(a)?"":e.getData(c),setData:(c,m)=>{zk(a)&&e.setData(c,m)},clearData:c=>{zk(a)&&e.clearData(c)}};return Yj(a),a},Yre=e=>{const n=t9(),o=Kre(e);return e9(e),Gj(n),n.dropEffect=e.dropEffect,n.effectAllowed=e.effectAllowed,Bre(e).each(a=>n.setDragImage(a.image,a.x,a.y)),be(e.types,a=>{a!=="Files"&&n.setData(a,e.getData(a))}),be(e.files,a=>n.items.add(a)),$re(e).each(a=>{Vre(n,a)}),o.each(a=>{qj(e,a),qj(n,a)}),n},Xre=e=>{const n=e.getData("text/html");return n===""?J.none():J.some(n)},Qj=(e,n)=>e.setData("text/html",n),eZ="x-tinymce/html",e6=dt(eZ),n9="<!-- "+eZ+" -->",Jre=e=>n9+e,Qre=e=>e.replace(n9,""),tZ=e=>e.indexOf(n9)!==-1,eie=e=>!/<(?:\/?(?!(?:div|p|br|span)>)\w+|(?:(?!(?:span style="white-space:\s?pre;?">)|br\s?\/>))\w+\s[^>]+)>/i.test(e),tie=(e,n)=>{let o="<"+e;const a=xl(n,(c,m)=>m+'="'+bh.encodeAllRaw(c)+'"');return a.length&&(o+=" "+a.join(" ")),o+">"},nie=(e,n,o)=>{const a=e.split(/\n\n/),c=tie(n,o),m="</"+n+">",p=He(a,A=>A.split(/\n/).join("<br />")),_=A=>c+A+m;return p.length===1?p[0]:He(p,_).join("")},nZ="%MCEPASTEBIN%",oie=(e,n)=>{const{dom:o,selection:a}=e,c=e.getBody();n.set(a.getRng());const m=o.add(e.getBody(),"div",{id:"mcepastebin",class:"mce-pastebin",contentEditable:!0,"data-mce-bogus":"all",style:"position: fixed; top: 50%; width: 10px; height: 10px; overflow: hidden; opacity: 0"},nZ);Wo.browser.isFirefox()&&o.setStyle(m,"left",o.getStyle(c,"direction",!0)==="rtl"?65535:-65535),o.bind(m,"beforedeactivate focusin focusout",p=>{p.stopPropagation()}),m.focus(),a.select(m,!0)},sie=(e,n)=>{const o=e.dom;if(o9(e)){let a;const c=n.get();for(;a=o9(e);)o.remove(a),o.unbind(a);c&&e.selection.setRng(c)}n.set(null)},o9=e=>e.dom.get("mcepastebin"),rie=e=>xe(e)&&e.id==="mcepastebin",iie=e=>{const n=e.dom,o=(p,_)=>{p.appendChild(_),n.remove(_,!0)},[a,...c]=Ge(e.getBody().childNodes,rie);be(c,p=>{o(a,p)});const m=n.select("div[id=mcepastebin]",a);for(let p=m.length-1;p>=0;p--){const _=n.create("div");a.insertBefore(_,m[p]),o(_,m[p])}return a?a.innerHTML:""},oZ=e=>e===nZ,aie=e=>{const n=Li(null);return{create:()=>oie(e,n),remove:()=>sie(e,n),getEl:()=>o9(e),getHtml:()=>iie(e),getLastRng:n.get}},sZ=(e,n)=>(rn.each(n,o=>{de(o,RegExp)?e=e.replace(o,""):e=e.replace(o[0],o[1])}),e),lie=e=>{const n=zc(),o=By({},n);let a="";const c=n.getVoidElements(),m=rn.makeMap("script noscript style textarea video audio iframe object"," "),p=n.getBlockElements(),_=A=>{const $=A.name,q=A;if($==="br"){a+=`
`;return}if($!=="wbr"){if(c[$]&&(a+=" "),m[$]){a+=" ";return}if(A.type===3&&(a+=A.value),!(A.name in n.getVoidElements())){let X=A.firstChild;if(X)do _(X);while(X=X.next)}p[$]&&q.next&&(a+=`
`,$==="p"&&(a+=`
`))}};return e=sZ(e,[/<!\[[^\]]+\]>/g]),_(o.parse(e)),a},rZ=e=>(e=sZ(e,[/^[\s\S]*<body[^>]*>\s*|\s*<\/body[^>]*>[\s\S]*$/ig,/<!--StartFragment-->|<!--EndFragment-->/g,[/( ?)<span class="Apple-converted-space">\u00a0<\/span>( ?)/g,(o,a,c)=>!a&&!c?" ":Ni],/<br class="Apple-interchange-newline">/g,/<br>$/i]),e),cie=e=>{let n=0;return()=>e+n++},uie=e=>{const n=e.toLowerCase(),o={jpg:"jpeg",jpe:"jpeg",jfi:"jpeg",jif:"jpeg",jfif:"jpeg",pjpeg:"jpeg",pjp:"jpeg",svg:"svg+xml"};return rn.hasOwn(o,n)?"image/"+o[n]:"image/"+n},die=(e,n)=>{const o=By({sanitize:XI(e),sandbox_iframes:SA(e),sandbox_iframes_exclusions:x_(e),convert_unsafe_embeds:nD(e)},e.schema);o.addNodeFilter("meta",c=>{rn.each(c,m=>{m.remove()})});const a=o.parse(n,{forced_root_block:!1,isRootContent:!0});return Hh({validate:!0},e.schema).serialize(a)},iZ=(e,n)=>({content:e,cancelled:n}),fie=(e,n,o)=>{const a=e.dom.create("div",{style:"display:none"},n),c=W_(e,a,o);return iZ(c.node.innerHTML,c.isDefaultPrevented())},mie=(e,n,o)=>{const a=Q2(e,n,o),c=die(e,a.content);return e.hasEventListeners("PastePostProcess")&&!a.isDefaultPrevented()?fie(e,c,o):iZ(c,a.isDefaultPrevented())},gie=(e,n,o)=>mie(e,n,o),s9=(e,n)=>(e.insertContent(n,{merge:P8(e),paste:!0}),!0),r9=e=>/^https?:\/\/[\w\-\/+=.,!;:&%@^~(){}?#]+$/i.test(e),hie=(e,n)=>r9(n)&&Re(_A(e),o=>De(n.toLowerCase(),`.${o.toLowerCase()}`)),pie=(e,n,o)=>(e.undoManager.extra(()=>{o(e,n)},()=>{e.insertContent('<img src="'+n+'">')}),!0),bie=(e,n,o)=>(e.undoManager.extra(()=>{o(e,n)},()=>{e.execCommand("mceInsertLink",!1,n)}),!0),vie=(e,n,o)=>!e.selection.isCollapsed()&&r9(n)?bie(e,n,o):!1,yie=(e,n,o)=>hie(e,n)?pie(e,n,o):!1,xie=(e,n)=>{rn.each([vie,yie,s9],o=>!o(e,n,s9))},wie=(e,n,o)=>{o||!Zv(e)?s9(e,n):xie(e,n)},Cie=cie("mceclip"),_ie=e=>{const n=t9();return Qj(n,e),e9(n),n},aZ=(e,n,o,a,c)=>{const m=gie(e,n,o);if(!m.cancelled){const p=m.content,_=()=>wie(e,p,a);c?jB(e,"insertFromPaste",{dataTransfer:_ie(p)}).isDefaultPrevented()||(_(),oR(e,"insertFromPaste")):_()}},t6=(e,n,o,a)=>{const c=o||tZ(n);aZ(e,Qre(n),c,!1,a)},i9=(e,n,o)=>{const a=e.dom.encode(n).replace(/\r\n/g,`
`),c=rv(a,GI(e)),m=nie(c,gl(e),_2(e));aZ(e,m,!1,!0,o)},lZ=e=>{const n={};if(e&&e.types)for(let o=0;o<e.types.length;o++){const a=e.types[o];try{n[a]=e.getData(a)}catch{n[a]=""}}return n},ex=(e,n)=>n in e&&e[n].length>0,cZ=e=>ex(e,"text/html")||ex(e,"text/plain"),Sie=(e,n)=>{const o=n.match(/([\s\S]+?)(?:\.[a-z0-9.]+)$/i);return xe(o)?e.dom.encode(o[1]):void 0},kie=(e,n,o,a)=>{const c=Cie(),m=Lh(e)&&xe(o.name),p=m?Sie(e,o.name):c,_=m?o.name:void 0,A=n.create(c,o,a,p,_);return n.add(A),A},Eie=(e,n)=>{nk(n.uri).each(({data:o,type:a,base64Encoded:c})=>{const m=c?o:btoa(o),p=n.file,_=e.editorUpload.blobCache,A=_.getByData(m,a),$=A??kie(e,_,p,m);t6(e,`<img src="${$.blobUri()}">`,!1,!0)})},Aie=e=>e.type==="paste",Tie=e=>Promise.all(He(e,n=>S5(n).then(o=>({file:n,uri:o})))),Oie=e=>{const n=_A(e);return o=>cr(o.type,"image/")&&Re(n,a=>uie(a)===o.type)},Rie=(e,n)=>{const o=n.items?zo(Do(n.items),c=>c.kind==="file"?[c.getAsFile()]:[]):[],a=n.files?Do(n.files):[];return Ge(o.length>0?o:a,Oie(e))},uZ=(e,n,o)=>{const a=Aie(n)?n.clipboardData:n.dataTransfer;if(gg(e)&&a){const c=Rie(e,a);if(c.length>0)return n.preventDefault(),Tie(c).then(m=>{o&&e.selection.setRng(o),be(m,p=>{Eie(e,p)})}),!0}return!1},Iie=e=>{var n,o;return Wo.os.isAndroid()&&((o=(n=e.clipboardData)===null||n===void 0?void 0:n.items)===null||o===void 0?void 0:o.length)===0},Die=e=>yn.metaKeyPressed(e)&&e.keyCode===86||e.shiftKey&&e.keyCode===45,a9=(e,n,o,a,c)=>{let m=rZ(o);const p=ex(n,e6())||tZ(o),_=!p&&eie(m),A=r9(m);(oZ(m)||!m.length||_&&!A)&&(a=!0),(a||A)&&(ex(n,"text/plain")&&_?m=n["text/plain"]:m=lie(m)),!oZ(m)&&(a?i9(e,m,c):t6(e,m,p,c))},Pie=(e,n,o)=>{let a;const c=()=>n.getLastRng()||e.selection.getRng();e.on("keydown",m=>{Die(m)&&!m.isDefaultPrevented()&&(a=m.shiftKey&&m.keyCode===86)}),e.on("paste",m=>{if(m.isDefaultPrevented()||Iie(m))return;const p=o.get()==="text"||a;a=!1;const _=lZ(m.clipboardData);!cZ(_)&&uZ(e,m,c())||(ex(_,"text/html")?(m.preventDefault(),a9(e,_,_["text/html"],p,!0)):ex(_,"text/plain")&&ex(_,"text/uri-list")?(m.preventDefault(),a9(e,_,_["text/plain"],p,!0)):(n.create(),Yc.setEditorTimeout(e,()=>{const A=n.getHtml();n.remove(),a9(e,_,A,p,!1)},0)))})},Nie=e=>{const n=c=>cr(c,"webkit-fake-url"),o=c=>cr(c,"data:"),a=c=>{var m;return((m=c.data)===null||m===void 0?void 0:m.paste)===!0};e.parser.addNodeFilter("img",(c,m,p)=>{if(!gg(e)&&a(p))for(const _ of c){const A=_.attr("src");le(A)&&!_.attr("data-mce-object")&&A!==Wo.transparentSrc&&(n(A)||!N8(e)&&o(A))&&_.remove()}})},Lie=(e,n,o)=>{Pie(e,n,o),Nie(e)},Mie=(e,n)=>{n.get()==="text"?(n.set("html"),K_(e,!1)):(n.set("text"),K_(e,!0)),e.focus()},Bie=(e,n)=>{e.addCommand("mceTogglePlainTextPaste",()=>{Mie(e,n)}),e.addCommand("mceInsertClipboardContent",(o,a)=>{a.html&&t6(e,a.html,a.internal,!1),a.text&&i9(e,a.text,!1)})},Fie=(e,n,o)=>{if(e)try{return e.clearData(),e.setData("text/html",n),e.setData("text/plain",o),e.setData(e6(),n),!0}catch{return!1}else return!1},dZ=(e,n,o,a)=>{Fie(e.clipboardData,n.html,n.text)?(e.preventDefault(),a()):o(n.html,a)},fZ=e=>(n,o)=>{const{dom:a,selection:c}=e,m=a.create("div",{contenteditable:"false","data-mce-bogus":"all"}),p=a.create("div",{contenteditable:"true"},n);a.setStyles(m,{position:"fixed",top:"0",left:"-3000px",width:"1000px",overflow:"hidden"}),m.appendChild(p),a.add(e.getBody(),m);const _=c.getRng();p.focus();const A=a.createRng();A.selectNodeContents(p),c.setRng(A),Yc.setEditorTimeout(e,()=>{c.setRng(_),a.remove(m),o()},0)},mZ=e=>({html:Jre(e.selection.getContent({contextual:!0})),text:e.selection.getContent({format:"text"})}),$ie=e=>!!e.dom.getParent(e.selection.getStart(),"td[data-mce-selected],th[data-mce-selected]",e.getBody()),gZ=e=>!e.selection.isCollapsed()||$ie(e),Vie=e=>n=>{!n.isDefaultPrevented()&&gZ(e)&&e.selection.isEditable()&&dZ(n,mZ(e),fZ(e),()=>{if(Wo.browser.isChromium()||Wo.browser.isFirefox()){const o=e.selection.getRng();Yc.setEditorTimeout(e,()=>{e.selection.setRng(o),e.execCommand("Delete")},0)}else e.execCommand("Delete")})},zie=e=>n=>{!n.isDefaultPrevented()&&gZ(e)&&dZ(n,mZ(e),fZ(e),lt)},Hie=e=>{e.on("cut",Vie(e)),e.on("copy",zie(e))},hZ=(e,n)=>{var o,a;return ob.getCaretRangeFromPoint((o=n.clientX)!==null&&o!==void 0?o:0,(a=n.clientY)!==null&&a!==void 0?a:0,e.getDoc())},Uie=e=>{const n=e["text/plain"];return n?n.indexOf("file://")===0:!1},pZ=(e,n)=>{e.focus(),n&&e.selection.setRng(n)},Wie=e=>Re(e.files,n=>/^image\//.test(n.type)),Kie=(e,n,o,a)=>{const c=e.getParent(o,p=>Wf(n,p));if(!Ve(e.getParent(o,"summary")))return!0;if(c&&yo(a,"text/html")){const p=new DOMParser().parseFromString(a["text/html"],"text/html").body;return!Ve(p.querySelector(c.nodeName.toLowerCase()))}else return!1},jie=e=>{e.on("input",n=>{const o=a=>Ve(a.querySelector("summary"));if(n.inputType==="deleteByDrag"){const a=Ge(e.dom.select("details"),o);be(a,c=>{pr(c.firstChild)&&c.firstChild.remove();const m=e.dom.create("summary");m.appendChild(sf().dom),c.prepend(m)})}})},Zie=(e,n)=>{am(e)&&e.on("dragend dragover draggesture dragdrop drop drag",o=>{o.preventDefault(),o.stopPropagation()}),gg(e)||e.on("drop",o=>{const a=o.dataTransfer;a&&Wie(a)&&o.preventDefault()}),e.on("drop",o=>{if(o.isDefaultPrevented())return;const a=hZ(e,o);if(rt(a))return;const c=lZ(o.dataTransfer),m=ex(c,e6());if((!cZ(c)||Uie(c))&&uZ(e,o,a))return;const p=c[e6()],_=p||c["text/html"]||c["text/plain"],A=Kie(e.dom,e.schema,a.startContainer,c),$=n.get();$&&!A||_&&(o.preventDefault(),Yc.setEditorTimeout(e,()=>{e.undoManager.transact(()=>{(p||$&&A)&&e.execCommand("Delete"),pZ(e,a);const q=rZ(_);c["text/html"]?t6(e,q,m,!0):i9(e,q,!0)})}))}),e.on("dragstart",o=>{n.set(!0)}),e.on("dragover dragend",o=>{gg(e)&&!n.get()&&(o.preventDefault(),pZ(e,hZ(e,o))),o.type==="dragend"&&n.set(!1)}),jie(e)},Gie=e=>{const n=c=>m=>{c(e,m)},o=D8(e);_e(o)&&e.on("PastePreProcess",n(o));const a=A2(e);_e(a)&&e.on("PastePostProcess",n(a))},qie=(e,n)=>{e.on("PastePreProcess",o=>{o.content=n(e,o.content,o.internal)})},Yie=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi,bZ=e=>rn.trim(e).replace(Yie,yv).toLowerCase(),Xie=(e,n,o)=>{const a=ZI(e);if(o||a==="all"||!yA(e))return n;const c=a?a.split(/[, ]/):[];if(c&&a!=="none"){const m=e.dom,p=e.selection.getNode();n=n.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,(_,A,$,q)=>{const X=m.parseStyle(m.decode($)),oe={};for(let Oe=0;Oe<c.length;Oe++){const ye=X[c[Oe]];let Pe=ye,Ye=m.getStyle(p,c[Oe],!0);/color/.test(c[Oe])&&(Pe=bZ(Pe),Ye=bZ(Ye)),Ye!==Pe&&(oe[c[Oe]]=ye)}const ve=m.serializeStyle(oe,"span");return ve?A+' style="'+ve+'"'+q:A+q})}else n=n.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,"$1$3");return n=n.replace(/(<[^>]+) data-mce-style="([^"]+)"([^>]*>)/gi,(m,p,_,A)=>p+' style="'+_+'"'+A),n},Jie=e=>{(Wo.browser.isChromium()||Wo.browser.isSafari())&&qie(e,Xie)},Qie=e=>{const n=Li(!1),o=Li(Gv(e)?"text":"html"),a=aie(e);Jie(e),Bie(e,o),Gie(e),e.addQueryStateHandler("mceTogglePlainTextPaste",()=>o.get()==="text"),e.on("PreInit",()=>{Hie(e),Zie(e,n),Lie(e,a,o)})},eae=e=>{e.on("click",n=>{e.dom.getParent(n.target,"details")&&n.preventDefault()})},tae=e=>{e.parser.addNodeFilter("details",n=>{const o=y_(e);be(n,a=>{o==="expanded"?a.attr("open","open"):o==="collapsed"&&a.attr("open",null)})}),e.serializer.addNodeFilter("details",n=>{const o=tD(e);be(n,a=>{o==="expanded"?a.attr("open","open"):o==="collapsed"&&a.attr("open",null)})})},nae=e=>{eae(e),tae(e)},oae=pr,vZ=qt,sae=e=>_o(e.dom),rae=e=>Bc(e.dom),yZ=e=>n=>ss(je.fromDom(e),n),iae=(e,n,o)=>bi(je.fromDom(e),a=>rae(a)||o.isBlock(os(a)),yZ(n)).getOr(je.fromDom(n)).dom,xZ=(e,n)=>bi(je.fromDom(e),sae,yZ(n)),wZ=(e,n,o)=>{const a=new pa(e,n),c=o?a.next.bind(a):a.prev.bind(a);let m=e;for(let p=o?e:c();p&&!oae(p);p=c())Cu(p)&&(m=p);return m},aae=(e,n,o)=>{const c=At.fromRangeStart(e).getNode(),m=iae(c,n,o),p=wZ(c,m,!1),_=wZ(c,m,!0),A=document.createRange();return xZ(p,m).fold(()=>{vZ(p)?A.setStart(p,0):A.setStartBefore(p)},$=>A.setStartBefore($.dom)),xZ(_,m).fold(()=>{vZ(_)?A.setEnd(_,_.data.length):A.setEndAfter(_)},$=>A.setEndAfter($.dom)),A},lae=e=>{const n=aae(e.selection.getRng(),e.getBody(),e.schema);e.selection.setRng(NS(n))},cae=e=>{e.on("mousedown",n=>{n.detail>=3&&(n.preventDefault(),lae(e))})};var Hk;(function(e){e.Before="before",e.After="after"})(Hk||(Hk={}));const uae=(e,n)=>Math.abs(e.left-n),dae=(e,n)=>Math.abs(e.right-n),fae=(e,n)=>e>=n.top&&e<=n.bottom,mae=(e,n)=>e.top<n.bottom&&e.bottom>n.top,gae=(e,n)=>{const o=f2(e,n)/Math.min(e.height,n.height);return mae(e,n)&&o>.5},hae=(e,n)=>{const o=Ge(e,a=>fae(n,a));return zp(o).fold(()=>[[],e],a=>{const{pass:c,fail:m}=Ne(e,p=>gae(p,a));return[c,m]})},pae=(e,n)=>({node:e.node,position:uae(e,n)<dae(e,n)?Hk.Before:Hk.After}),bae=(e,n,o)=>n>e.left&&n<e.right?0:Math.min(Math.abs(e.left-n),Math.abs(e.right-n)),l9=(e,n,o,a)=>{const c=X=>Cu(X.node)?J.some(X):Ln(X.node)?l9(Do(X.node.childNodes),n,o,!1):J.none(),m=(X,oe,ve)=>c(oe).filter(Oe=>Math.abs(ve(X,n,o)-ve(Oe,n,o))<2&&qt(Oe.node)),p=(X,oe)=>{const ve=_s(X,(Oe,ye)=>oe(Oe,n,o)-oe(ye,n,o));return li(ve,c).map(Oe=>a&&!qt(Oe.node)&&ve.length>1?m(Oe,ve[1],oe).getOr(Oe):Oe)},[_,A]=hae(fB(e),o),{pass:$,fail:q}=Ne(A,X=>X.top<o);return p(_,bae).orThunk(()=>p(q,q1)).orThunk(()=>p($,q1))},vae=(e,n,o,a)=>{const c=(m,p)=>{const _=$=>Ln($)&&$.classList.contains("mce-drag-container"),A=Ge(m.dom.childNodes,Me(_));return p.fold(()=>l9(A,o,a,!0),$=>{const q=Ge(A,X=>X!==$.dom);return l9(q,o,a,!0)}).orThunk(()=>(ss(m,e)?J.none():Nf(m)).bind(q=>c(q,J.some(m))))};return c(n,J.none())},yae=(e,n,o)=>{const a=je.fromDom(e),c=lc(a),p=je.fromPoint(c,n,o).filter(_=>ma(a,_)).getOr(a);return vae(a,p,n,o)},CZ=(e,n,o)=>yae(e,n,o).filter(a=>I2(a.node)).map(a=>pae(a,n)),_Z=e=>{var n,o;const a=e.getBoundingClientRect(),c=e.ownerDocument,m=c.documentElement,p=c.defaultView;return{top:a.top+((n=p==null?void 0:p.scrollY)!==null&&n!==void 0?n:0)-m.clientTop,left:a.left+((o=p==null?void 0:p.scrollX)!==null&&o!==void 0?o:0)-m.clientLeft}},xae=e=>e.inline?_Z(e.getBody()):{left:0,top:0},wae=e=>{const n=e.getBody();return e.inline?{left:n.scrollLeft,top:n.scrollTop}:{left:0,top:0}},Cae=e=>{const n=e.getBody(),o=e.getDoc().documentElement,a={left:n.scrollLeft,top:n.scrollTop},c={left:n.scrollLeft||o.scrollLeft,top:n.scrollTop||o.scrollTop};return e.inline?a:c},_ae=(e,n)=>{if(n.target.ownerDocument!==e.getDoc()){const o=_Z(e.getContentAreaContainer()),a=Cae(e);return{left:n.pageX-o.left+a.left,top:n.pageY-o.top+a.top}}return{left:n.pageX,top:n.pageY}},Sae=(e,n,o)=>({pageX:o.left-e.left+n.left,pageY:o.top-e.top+n.top}),kae=(e,n)=>Sae(xae(e),wae(e),_ae(e,n)),SZ=e=>({target:e,srcElement:e}),Eae=(e,n,o,a)=>({...n,dataTransfer:a,type:e,...SZ(o)}),Aae=(e,n,o)=>{const a=ft("Function not supported on simulated event.");return{bubbles:!0,cancelBubble:!1,cancelable:!0,composed:!1,currentTarget:null,defaultPrevented:!1,eventPhase:0,isTrusted:!0,returnValue:!1,timeStamp:0,type:e,composedPath:a,initEvent:a,preventDefault:lt,stopImmediatePropagation:lt,stopPropagation:lt,AT_TARGET:window.Event.AT_TARGET,BUBBLING_PHASE:window.Event.BUBBLING_PHASE,CAPTURING_PHASE:window.Event.CAPTURING_PHASE,NONE:window.Event.NONE,altKey:!1,button:0,buttons:0,clientX:0,clientY:0,ctrlKey:!1,metaKey:!1,movementX:0,movementY:0,offsetX:0,offsetY:0,pageX:0,pageY:0,relatedTarget:null,screenX:0,screenY:0,shiftKey:!1,x:0,y:0,detail:0,view:null,which:0,initUIEvent:a,initMouseEvent:a,getModifierState:a,dataTransfer:o,...SZ(n)}},Tae=(e,n)=>{const o=Yre(e);return n==="dragstart"?(Gj(o),Yj(o)):n==="drop"?(zre(o),e9(o)):(Hre(o),jre(o)),o},Oae=(e,n,o,a)=>{const c=Tae(o,e);return Xe(a)?Aae(e,n,c):Eae(e,a,n,c)},n6=32,Rae=100,o6=8,s6=16,kZ=_o,Iae=h2(kZ,Bc),Dae=(e,n,o)=>kZ(o)&&o!==n&&e.isEditable(o.parentElement),Pae=(e,n,o)=>rt(n)||n===o||e.dom.isChildOf(n,o)?!1:e.dom.isEditable(n),Nae=(e,n,o,a)=>{const c=e.dom,m=n.cloneNode(!0);c.setStyles(m,{width:o,height:a}),c.setAttrib(m,"data-mce-selected",null);const p=c.create("div",{class:"mce-drag-container","data-mce-bogus":"all",unselectable:"on",contenteditable:"false"});return c.setStyles(p,{position:"absolute",opacity:.5,overflow:"hidden",border:0,padding:0,margin:0,width:o,height:a}),c.setStyles(m,{margin:0,boxSizing:"border-box"}),p.appendChild(m),p},Lae=(e,n)=>{e.parentNode!==n&&n.appendChild(e)},r6=(e,n)=>o=>()=>{const a=e==="left"?o.scrollX:o.scrollY;o.scroll({[e]:a+n,behavior:"smooth"})},EZ=r6("left",-n6),AZ=r6("left",n6),TZ=r6("top",-n6),OZ=r6("top",n6),Mae=(e,n,o,a,c,m,p,_,A,$,q,X)=>{let oe=0,ve=0;e.style.left=n.pageX+"px",e.style.top=n.pageY+"px",n.pageX+o>c&&(oe=n.pageX+o-c),n.pageY+a>m&&(ve=n.pageY+a-m),e.style.width=o-oe+"px",e.style.height=a-ve+"px";const Oe=A.clientHeight,ye=A.clientWidth,Pe=p+A.getBoundingClientRect().top,Ye=_+A.getBoundingClientRect().left;q.on(st=>{st.intervalId.clear(),st.dragging&&X&&(p+o6>=Oe?st.intervalId.set(OZ($)):p-o6<=0?st.intervalId.set(TZ($)):_+o6>=ye?st.intervalId.set(AZ($)):_-o6<=0?st.intervalId.set(EZ($)):Pe+s6>=window.innerHeight?st.intervalId.set(OZ(window)):Pe-s6<=0?st.intervalId.set(TZ(window)):Ye+s6>=window.innerWidth?st.intervalId.set(AZ(window)):Ye-s6<=0&&st.intervalId.set(EZ(window)))})},RZ=e=>{e&&e.parentNode&&e.parentNode.removeChild(e)},Bae=(e,n)=>{const o=e.getParent(n.parentNode,e.isBlock);RZ(n),o&&o!==e.getRoot()&&e.isEmpty(o)&&Wc(je.fromDom(o))},Fae=e=>e.button===0,$ae=(e,n)=>({pageX:n.pageX-e.relX,pageY:n.pageY+5}),Vae=(e,n)=>o=>{if(Fae(o)){const a=xn(n.dom.getParents(o.target),Iae).getOr(null);if(xe(a)&&Dae(n.dom,n.getBody(),a)){const c=n.dom.getPos(a),m=n.getBody(),p=n.getDoc().documentElement;e.set({element:a,dataTransfer:t9(),dragging:!1,screenX:o.screenX,screenY:o.screenY,maxX:(n.inline?m.scrollWidth:p.offsetWidth)-2,maxY:(n.inline?m.scrollHeight:p.offsetHeight)-2,relX:o.pageX-c.x,relY:o.pageY-c.y,width:a.offsetWidth,height:a.offsetHeight,ghost:Nae(n,a,a.offsetWidth,a.offsetHeight),intervalId:Fc(Rae)})}}},zae=(e,n,o)=>{e._selectionOverrides.hideFakeCaret(),CZ(e.getBody(),n,o).fold(()=>e.selection.placeCaretAt(n,o),a=>{const c=e._selectionOverrides.showCaret(1,a.node,a.position===Hk.Before,!1);c?e.selection.setRng(c):e.selection.placeCaretAt(n,o)})},aR=(e,n,o,a,c)=>{n==="dragstart"&&Qj(a,e.dom.getOuterHTML(o));const m=Oae(n,o,a,c);return e.dispatch(n,m)},Hae=(e,n)=>{const o=Eh((c,m)=>zae(n,c,m),0);n.on("remove",o.cancel);const a=e;return c=>e.on(m=>{const p=Math.max(Math.abs(c.screenX-m.screenX),Math.abs(c.screenY-m.screenY));if(!m.dragging&&p>10){const _=aR(n,"dragstart",m.element,m.dataTransfer,c);if(xe(_.dataTransfer)&&(m.dataTransfer=_.dataTransfer),_.isDefaultPrevented())return;m.dragging=!0,n.focus()}if(m.dragging){const _=c.currentTarget===n.getDoc().documentElement,A=$ae(m,kae(n,c));Lae(m.ghost,n.getBody()),Mae(m.ghost,A,m.width,m.height,m.maxX,m.maxY,c.clientY,c.clientX,n.getContentAreaContainer(),n.getWin(),a,_),o.throttle(c.clientX,c.clientY)}})},Uae=e=>{const n=e.getSel();if(xe(n)){const a=n.getRangeAt(0).startContainer;return qt(a)?a.parentNode:a}else return null},Wae=(e,n)=>o=>{e.on(a=>{var c;if(a.intervalId.clear(),a.dragging){if(Pae(n,Uae(n.selection),a.element)){const m=(c=n.getDoc().elementFromPoint(o.clientX,o.clientY))!==null&&c!==void 0?c:n.getBody();aR(n,"drop",m,a.dataTransfer,o).isDefaultPrevented()||n.undoManager.transact(()=>{Bae(n.dom,a.element),Xre(a.dataTransfer).each(_=>n.insertContent(_)),n._selectionOverrides.hideFakeCaret()})}aR(n,"dragend",n.getBody(),a.dataTransfer,o)}}),DZ(e)},IZ=(e,n,o)=>{e.on(a=>{a.intervalId.clear(),a.dragging&&o.fold(()=>aR(n,"dragend",a.element,a.dataTransfer),c=>aR(n,"dragend",a.element,a.dataTransfer,c))}),DZ(e)},Kae=(e,n)=>o=>IZ(e,n,J.some(o)),DZ=e=>{e.on(n=>{n.intervalId.clear(),RZ(n.ghost)}),e.clear()},jae=e=>{const n=Mi(),o=Js.DOM,a=document,c=Vae(n,e),m=Hae(n,e),p=Wae(n,e),_=Kae(n,e);e.on("mousedown",c),e.on("mousemove",m),e.on("mouseup",p),o.bind(a,"mousemove",m),o.bind(a,"mouseup",_),e.on("remove",()=>{o.unbind(a,"mousemove",m),o.unbind(a,"mouseup",_)}),e.on("keydown",A=>{A.keyCode===yn.ESC&&IZ(n,e,J.none())})},Zae=e=>{const n=c=>{if(!c.isDefaultPrevented()){const m=c.dataTransfer;m&&(we(m.types,"Files")||m.files.length>0)&&(c.preventDefault(),c.type==="drop"&&Ck(e,"Dropped file type is not supported"))}},o=c=>{oS(e,c.target)&&n(c)},a=()=>{const c=Js.DOM,m=e.dom,p=document,_=e.inline?e.getBody():e.getDoc(),A=["drop","dragover"];be(A,$=>{c.bind(p,$,o),m.bind(_,$,n)}),e.on("remove",()=>{be(A,$=>{c.unbind(p,$,o),m.unbind(_,$,n)})})};e.on("init",()=>{Yc.setEditorTimeout(e,a,0)})},Gae=e=>{jae(e),b_(e)&&Zae(e)},qae=e=>{const n=Eh(()=>{if(!e.removed&&e.getBody().contains(document.activeElement)){const o=e.selection.getRng();if(o.collapsed){const a=Ek(e,o,!1);e.selection.setRng(a)}}},0);e.on("focus",()=>{n.throttle()}),e.on("blur",()=>{n.cancel()})},Yae=e=>{e.on("init",()=>{e.on("focusin",n=>{const o=n.target;if(Dt(o)){const a=wd(e.getBody(),o),c=_o(a)?a:o;e.selection.getNode()!==c&&Jw(e,c).each(m=>e.selection.setRng(m))}})})},lR=_o,PZ=(e,n)=>wd(e.getBody(),n),Xae=e=>{const n=e.selection,o=e.dom,a=e.getBody(),c=cD(e,a,o.isBlock,()=>xy(e)),m="sel-"+o.uniqueId(),p="data-mce-selected";let _;const A=_n=>xe(_n)&&o.hasClass(_n,"mce-offscreen-selection"),$=_n=>_n!==a&&(lR(_n)||Dt(_n))&&o.isChildOf(_n,a)&&o.isEditable(_n.parentNode),q=_n=>{_n&&n.setRng(_n)},X=(_n,Pt,St,zt=!0)=>e.dispatch("ShowCaret",{target:Pt,direction:_n,before:St}).isDefaultPrevented()?null:(zt&&n.scrollIntoView(Pt,_n===-1),c.show(St,Pt)),oe=_n=>{_n.hasAttribute("data-mce-caret")&&(Rh(_n),n.scrollIntoView(_n))},ve=()=>{e.on("click",Pt=>{o.isEditable(Pt.target)||(Pt.preventDefault(),e.focus())}),e.on("blur NewBlock",yt),e.on("ResizeWindow FullscreenStateChanged",c.reposition),e.on("tap",Pt=>{const St=Pt.target,zt=PZ(e,St);lR(zt)?(Pt.preventDefault(),Jw(e,zt).each(nt)):$(St)&&Jw(e,St).each(nt)},!0),e.on("mousedown",Pt=>{const St=Pt.target;if(St!==a&&St.nodeName!=="HTML"&&!o.isChildOf(St,a)||!gz(e,Pt.clientX,Pt.clientY))return;yt(),on();const zt=PZ(e,St);lR(zt)?(Pt.preventDefault(),Jw(e,zt).each(nt)):CZ(a,Pt.clientX,Pt.clientY).each(Pn=>{Pt.preventDefault();const jn=X(1,Pn.node,Pn.position===Hk.Before,!1);q(jn),pu(zt)?zt.focus():e.getBody().focus()})}),e.on("keypress",Pt=>{yn.modifierPressed(Pt)||lR(n.getNode())&&Pt.preventDefault()}),e.on("GetSelectionRange",Pt=>{let St=Pt.range;if(_){if(!_.parentNode){_=null;return}St=St.cloneRange(),St.selectNode(_),Pt.range=St}}),e.on("SetSelectionRange",Pt=>{Pt.range=Pe(Pt.range);const St=nt(Pt.range,Pt.forward);St&&(Pt.range=St)});const _n=Pt=>Ln(Pt)&&Pt.id==="mcepastebin";e.on("AfterSetSelectionRange",Pt=>{const St=Pt.range,zt=St.startContainer.parentElement;!ye(St)&&!_n(zt)&&on(),A(zt)||yt()}),Gae(e),qae(e),Yae(e)},Oe=_n=>Ql(_n)||Lv(_n)||af(_n),ye=_n=>Oe(_n.startContainer)||Oe(_n.endContainer),Pe=_n=>{const Pt=e.schema.getVoidElements(),St=o.createRng(),zt=_n.startContainer,Pn=_n.startOffset,jn=_n.endContainer,Ho=_n.endOffset;return yo(Pt,zt.nodeName.toLowerCase())?Pn===0?St.setStartBefore(zt):St.setStartAfter(zt):St.setStart(zt,Pn),yo(Pt,jn.nodeName.toLowerCase())?Ho===0?St.setEndBefore(jn):St.setEndAfter(jn):St.setEnd(jn,Ho),St},Ye=(_n,Pt)=>{const St=je.fromDom(e.getBody()),zt=e.getDoc(),Pn=Ft(St,"#"+m).getOrThunk(()=>{const qo=je.fromHtml('<div data-mce-bogus="all" class="mce-offscreen-selection"></div>',zt);return _i(qo,"id",m),Ur(St,qo),qo}),jn=o.createRng();or(Pn),oi(Pn,[je.fromText(Ni,zt),je.fromDom(Pt),je.fromText(Ni,zt)]),jn.setStart(Pn.dom.firstChild,1),jn.setEnd(Pn.dom.lastChild,0),es(Pn,{top:o.getPos(_n,e.getBody()).y+"px"}),fT(Pn);const Ho=n.getSel();return Ho&&(Ho.removeAllRanges(),Ho.addRange(jn)),jn},st=_n=>{const Pt=_n.cloneNode(!0),St=e.dispatch("ObjectSelected",{target:_n,targetClone:Pt});if(St.isDefaultPrevented())return null;const zt=Ye(_n,St.targetClone),Pn=je.fromDom(_n);return be(vi(je.fromDom(e.getBody()),`*[${p}]`),jn=>{ss(Pn,jn)||Fo(jn,p)}),o.getAttrib(_n,p)||_n.setAttribute(p,"1"),_=_n,on(),zt},nt=(_n,Pt)=>{if(!_n)return null;if(_n.collapsed){if(!ye(_n)){const jn=Pt?1:-1,Ho=L2(jn,a,_n),qo=Ho.getNode(!Pt);if(xe(qo)){if(I2(qo))return X(jn,qo,Pt?!Ho.isAtEnd():!1,!1);if(lg(qo)&&_o(qo.nextSibling)){const js=o.createRng();return js.setStart(qo,0),js.setEnd(qo,0),js}}const Ls=Ho.getNode(Pt);if(xe(Ls)){if(I2(Ls))return X(jn,Ls,Pt?!1:!Ho.isAtEnd(),!1);if(lg(Ls)&&_o(Ls.previousSibling)){const js=o.createRng();return js.setStart(Ls,1),js.setEnd(Ls,1),js}}}return null}let St=_n.startContainer,zt=_n.startOffset;const Pn=_n.endOffset;if(qt(St)&&zt===0&&lR(St.parentNode)&&(St=St.parentNode,zt=o.nodeIndex(St),St=St.parentNode),!Ln(St))return null;if(Pn===zt+1&&St===_n.endContainer){const jn=St.childNodes[zt];if($(jn))return st(jn)}return null},yt=()=>{_&&_.removeAttribute(p),Ft(je.fromDom(e.getBody()),"#"+m).each(Ns),_=null},Ut=()=>{c.destroy(),_=null},on=()=>{c.hide()};return Ig(e)||ve(),{showCaret:X,showBlockCaretContainer:oe,hideFakeCaret:on,destroy:Ut}},Jae=(e,n)=>{let o=n;for(let a=e.previousSibling;qt(a);a=a.previousSibling)o+=a.data.length;return o},NZ=(e,n,o,a,c)=>{if(qt(o)&&(a<0||a>o.data.length))return[];const m=c&&qt(o)?[Jae(o,a)]:[a];let p=o;for(;p!==n&&p.parentNode;)m.push(e.nodeIndex(p,c)),p=p.parentNode;return p===n?m.reverse():[]},c9=(e,n,o,a,c,m,p=!1)=>{const _=NZ(e,n,o,a,p),A=NZ(e,n,c,m,p);return{start:_,end:A}},LZ=(e,n)=>{const o=n.slice(),a=o.pop();return R(a)?cn(o,(m,p)=>m.bind(_=>J.from(_.childNodes[p])),J.some(e)).bind(m=>qt(m)&&(a<0||a>m.data.length)?J.none():J.some({node:m,offset:a})):J.none()},MZ=(e,n)=>LZ(e,n.start).bind(({node:o,offset:a})=>LZ(e,n.end).map(({node:c,offset:m})=>{const p=document.createRange();return p.setStart(o,a),p.setEnd(c,m),p})),Qae=(e,n,o,a=!1)=>c9(e,n,o.startContainer,o.startOffset,o.endContainer,o.endOffset,a),Uk=(e,n,o)=>{if(n&&e.isEmpty(n)&&!o(n)){const a=n.parentNode;e.remove(n,qt(n.firstChild)&&uc(n.firstChild.data)),Uk(e,a,o)}},i6=(e,n,o,a=!0)=>{const c=n.startContainer.parentNode,m=n.endContainer.parentNode;n.deleteContents(),a&&!o(n.startContainer)&&(qt(n.startContainer)&&n.startContainer.data.length===0&&e.remove(n.startContainer),qt(n.endContainer)&&n.endContainer.data.length===0&&e.remove(n.endContainer),Uk(e,c,o),c!==m&&Uk(e,m,o))},a6=(e,n)=>J.from(e.dom.getParent(n.startContainer,e.dom.isBlock)),u9=(e,n,o)=>{const a=e.dynamicPatternsLookup({text:o,block:n});return{...e,blockPatterns:Ma(a).concat(e.blockPatterns),inlinePatterns:fd(a).concat(e.inlinePatterns)}},d9=(e,n,o,a)=>{const c=e.createRng();return c.setStart(n,0),c.setEnd(o,a),c.toString()},BZ=(e,n)=>e.create("span",{"data-mce-type":"bookmark",id:n}),l6=(e,n)=>{const o=e.createRng();return o.setStartAfter(n.start),o.setEndBefore(n.end),o},FZ=(e,n,o)=>{const a=MZ(e.getRoot(),o).getOrDie("Unable to resolve path range"),c=a.startContainer,m=a.endContainer,p=a.endOffset===0?m:m.splitText(a.endOffset),_=a.startOffset===0?c:c.splitText(a.startOffset),A=_.parentNode,$=p.parentNode;return{prefix:n,end:$.insertBefore(BZ(e,n+"-end"),p),start:A.insertBefore(BZ(e,n+"-start"),_)}},$Z=(e,n,o)=>{Uk(e,e.get(n.prefix+"-end"),o),Uk(e,e.get(n.prefix+"-start"),o)},f9=e=>e.start.length===0,ele=e=>(n,o)=>{const c=n.data.substring(0,o),m=c.lastIndexOf(e.charAt(e.length-1)),p=c.lastIndexOf(e);return p!==-1?p+e.length:m!==-1?m+1:-1},VZ=(e,n,o,a)=>{const c=n.start;return NH(e,a.container,a.offset,ele(c),o).bind(p=>{var _,A;const $=(A=(_=o.textContent)===null||_===void 0?void 0:_.indexOf(c))!==null&&A!==void 0?A:-1;if($!==-1&&p.offset>=$+c.length){const X=e.createRng();return X.setStart(p.container,p.offset-c.length),X.setEnd(p.container,p.offset),J.some(X)}else{const X=p.offset-c.length;return PH(p.container,X,o).map(oe=>{const ve=e.createRng();return ve.setStart(oe.container,oe.offset),ve.setEnd(p.container,p.offset),ve}).filter(oe=>oe.toString()===c).orThunk(()=>VZ(e,n,o,np(p.container,0)))}})},tle=(e,n,o,a,c,m=!1)=>{if(n.start.length===0&&!m){const p=e.createRng();return p.setStart(o,a),p.setEnd(o,a),J.some(p)}return DH(o,a,c).bind(p=>VZ(e,n,c,p).bind(A=>{var $;if(m){if(A.endContainer===p.container&&A.endOffset===p.offset)return J.none();if(p.offset===0&&(($=A.endContainer.textContent)===null||$===void 0?void 0:$.length)===A.endOffset)return J.none()}return J.some(A)}))},nle=(e,n,o,a)=>{const c=e.dom,m=c.getRoot(),p=o.pattern,_=o.position.container,A=o.position.offset;return PH(_,A-o.pattern.end.length,n).bind($=>{const q=c9(c,m,$.container,$.offset,_,A,a);if(f9(p))return J.some({matches:[{pattern:p,startRng:q,endRng:q}],position:$});{const X=c6(e,o.remainingPatterns,$.container,$.offset,n,a),oe=X.getOr({matches:[],position:$}),ve=oe.position;return tle(c,p,ve.container,ve.offset,n,X.isNone()).map(ye=>{const Pe=Qae(c,m,ye,a);return{matches:oe.matches.concat([{pattern:p,startRng:Pe,endRng:q}]),position:np(ye.startContainer,ye.startOffset)}})}})},c6=(e,n,o,a,c,m)=>{const p=e.dom;return DH(o,a,p.getRoot()).bind(_=>{const A=d9(p,c,o,a);for(let $=0;$<n.length;$++){const q=n[$];if(!De(A,q.end))continue;const X=n.slice();X.splice($,1);const oe=nle(e,c,{pattern:q,remainingPatterns:X,position:_},m);if(oe.isNone()&&a>0)return c6(e,n,o,a-1,c,m);if(oe.isSome())return oe}return J.none()})},zZ=(e,n,o)=>{e.selection.setRng(o),n.type==="inline-format"?be(n.format,a=>{e.formatter.apply(a)}):e.execCommand(n.cmd,!1,n.value)},ole=(e,n,o,a)=>{const c=l6(e.dom,o);i6(e.dom,c,a),zZ(e,n,c)},sle=(e,n,o,a,c)=>{const m=e.dom,p=l6(m,a),_=l6(m,o);i6(m,_,c),i6(m,p,c);const A={prefix:o.prefix,start:o.end,end:a.start},$=l6(m,A);zZ(e,n,$)},rle=(e,n)=>{const o=Za("mce_textpattern"),a=pt(n,(c,m)=>{const p=FZ(e,o+`_end${c.length}`,m.endRng);return c.concat([{...m,endMarker:p}])},[]);return pt(a,(c,m)=>{const p=a.length-c.length-1,_=f9(m.pattern)?m.endMarker:FZ(e,o+`_start${p}`,m.startRng);return c.concat([{...m,startMarker:_}])},[])},ile=e=>_s(e,(n,o)=>o.end.length-n.end.length),ale=(e,n)=>{const o=No(e,a=>Re(n,c=>a.pattern.start===c.pattern.start&&a.pattern.end===c.pattern.end));return e.length===n.length?o?e:n:e.length>n.length?e:n},HZ=(e,n,o,a,c,m)=>{const p=c6(e,c.inlinePatterns,o,a,n,m).fold(()=>[],A=>A.matches),_=c6(e,ile(c.inlinePatterns),o,a,n,m).fold(()=>[],A=>A.matches);return ale(p,_)},UZ=(e,n)=>{if(n.length===0)return;const o=e.dom,a=e.selection.getBookmark(),c=rle(o,n);be(c,m=>{const p=o.getParent(m.startMarker.start,o.isBlock),_=A=>A===p;f9(m.pattern)?ole(e,m.pattern,m.endMarker,_):sle(e,m.pattern,m.startMarker,m.endMarker,_),$Z(o,m.endMarker,_),$Z(o,m.startMarker,_)}),e.selection.moveToBookmark(a)},WZ=(e,n,o)=>Yne(n,0,n).map(a=>{const c=a.container;return jK(c,o.start.length,n).each(m=>{const p=e.createRng();p.setStart(c,0),p.setEnd(m.container,m.offset),i6(e,p,_=>_===n)}),c}),KZ=e=>(n,o)=>{const a=n.dom,c=o.pattern,m=MZ(a.getRoot(),o.range).getOrDie("Unable to resolve path range"),p=(_,A)=>{const $=A.get(_);return ne($)&&On($).exists(q=>yo(q,"block"))};return a6(n,m).each(_=>{c.type==="block-format"?p(c.format,n.formatter)&&n.undoManager.transact(()=>{e(n.dom,_,c),n.formatter.apply(c.format)}):c.type==="block-command"&&n.undoManager.transact(()=>{e(n.dom,_,c),n.execCommand(c.cmd,!1,c.value)})}),!0},lle=e=>_s(e,(n,o)=>o.start.length-n.start.length),jZ=e=>(n,o)=>{const a=lle(n),c=o.replace(Ni," ");return xn(a,m=>e(m,o,c))},ZZ=(e,n)=>(o,a,c,m,p)=>{var _;p===void 0&&(p=(_=a.textContent)!==null&&_!==void 0?_:"");const A=o.dom,$=gl(o);return A.is(a,$)?e(c.blockPatterns,p).map(q=>n&&rn.trim(p).length===q.start.length?[]:[{pattern:q,range:c9(A,A.getRoot(),a,0,a,0,m)}]).getOr([]):[]},cle=e=>/^\s[^\s]/.test(e),ule=KZ((e,n,o)=>{WZ(e,n,o).each(a=>{const c=je.fromDom(a),m=ig(c);cle(m)&&Tv(c,m.slice(1))})}),dle=jZ((e,n,o)=>n.indexOf(e.start)===0||o.indexOf(e.start)===0),fle=ZZ(dle,!0),mle=(e,n)=>{const o=e.selection.getRng();return a6(e,o).map(a=>{var c;const m=Math.max(0,o.startOffset),p=u9(n,a,(c=a.textContent)!==null&&c!==void 0?c:""),_=HZ(e,a,o.startContainer,m,p,!0),A=fle(e,a,p,!0);return{inlineMatches:_,blockMatches:A}}).filter(({inlineMatches:a,blockMatches:c})=>c.length>0||a.length>0)},gle=(e,n)=>{if(n.length===0)return;const o=e.selection.getBookmark();be(n,a=>ule(e,a)),e.selection.moveToBookmark(o)},hle=KZ(WZ),ple=jZ((e,n,o)=>n===e.start||o===e.start),ble=ZZ(ple,!1),vle=(e,n)=>{const o=e.selection.getRng();return a6(e,o).map(a=>{const c=Math.max(0,o.startOffset),m=d9(e.dom,a,o.startContainer,c),p=u9(n,a,m);return ble(e,a,p,!1,m)}).filter(a=>a.length>0)},yle=(e,n)=>{be(n,o=>hle(e,o))},xle=(e,n)=>mle(e,n).fold(In,({inlineMatches:o,blockMatches:a})=>(e.undoManager.add(),e.undoManager.extra(()=>{e.execCommand("mceInsertNewLine")},()=>{nA(e),UZ(e,o),gle(e,a);const c=e.selection.getRng(),m=DH(c.startContainer,c.startOffset,e.dom.getRoot());e.execCommand("mceInsertNewLine"),m.each(p=>{const _=p.container;_.data.charAt(p.offset-1)===Rr&&(_.deleteData(p.offset-1,1),Uk(e.dom,_.parentNode,A=>A===e.dom.getRoot()))})}),!0)),wle=(e,n)=>{const o=e.selection.getRng();a6(e,o).map(a=>{const c=Math.max(0,o.startOffset-1),m=d9(e.dom,a,o.startContainer,c),p=u9(n,a,m),_=HZ(e,a,o.startContainer,c,p,!1);_.length>0&&e.undoManager.transact(()=>{UZ(e,_)})})},Cle=(e,n)=>vle(e,n).fold(In,o=>(e.undoManager.transact(()=>{yle(e,o)}),!0)),GZ=(e,n,o)=>{for(let a=0;a<e.length;a++)if(o(e[a],n))return!0;return!1},_le=(e,n)=>GZ(e,n,(o,a)=>o===a.keyCode&&!yn.modifierPressed(a)),Sle=(e,n)=>GZ(e,n,(o,a)=>o.charCodeAt(0)===a.charCode),kle=e=>{const n=[",",".",";",":","!","?"],o=[32],a=()=>Kp(L8(e).filter(p=>p.type==="inline-command"||p.type==="block-command"?e.queryCommandSupported(p.cmd):!0),T2(e)),c=()=>xA(e);e.on("keydown",p=>{if(p.keyCode===13&&!yn.modifierPressed(p)&&e.selection.isCollapsed()){const _=rm(a(),"enter");(_.inlinePatterns.length>0||_.blockPatterns.length>0||c())&&xle(e,_)&&p.preventDefault()}},!0),e.on("keydown",p=>{if(p.keyCode===32&&e.selection.isCollapsed()){const _=rm(a(),"space");(_.blockPatterns.length>0||c())&&Cle(e,_)&&p.preventDefault()}},!0);const m=()=>{if(e.selection.isCollapsed()){const p=rm(a(),"space");(p.inlinePatterns.length>0||c())&&wle(e,p)}};e.on("keyup",p=>{_le(o,p)&&m()}),e.on("keypress",p=>{Sle(n,p)&&Yc.setEditorTimeout(e,m)})},Ele=e=>{kle(e)},Ale=e=>{const n=rn.each,o=yn.BACKSPACE,a=yn.DELETE,c=e.dom,m=e.selection,p=e.parser,_=Wo.browser,A=_.isFirefox(),$=_.isChromium()||_.isSafari(),q=Wo.deviceType.isiPhone()||Wo.deviceType.isiPad(),X=Wo.os.isMacOS()||Wo.os.isiOS(),oe=(hn,to)=>{try{e.getDoc().execCommand(hn,!1,String(to))}catch{}},ve=hn=>hn.isDefaultPrevented(),Oe=()=>{const hn=Zo=>{const Cn=c.create("body"),Uo=Zo.cloneContents();return Cn.appendChild(Uo),m.serializer.serialize(Cn,{format:"html"})},to=Zo=>{const Cn=hn(Zo),Uo=c.createRng();Uo.selectNode(e.getBody());const Xo=hn(Uo);return Cn===Xo};e.on("keydown",Zo=>{const Cn=Zo.keyCode;if(!ve(Zo)&&(Cn===a||Cn===o)&&e.selection.isEditable()){const Uo=e.selection.isCollapsed(),Xo=e.getBody();if(Uo&&!dc(e.schema,Xo)||!Uo&&!to(e.selection.getRng()))return;Zo.preventDefault(),e.setContent(""),Xo.firstChild&&c.isBlock(Xo.firstChild)?e.selection.setCursorLocation(Xo.firstChild,0):e.selection.setCursorLocation(Xo,0),e.nodeChanged()}})},ye=()=>{e.shortcuts.add("meta+a",null,"SelectAll")},Pe=()=>{e.inline||c.bind(e.getDoc(),"mousedown mouseup",hn=>{let to;if(hn.target===e.getDoc().documentElement)if(to=m.getRng(),e.getBody().focus(),hn.type==="mousedown"){if(Ql(to.startContainer))return;m.placeCaretAt(hn.clientX,hn.clientY)}else m.setRng(to)})},Ye=()=>{e.on("keydown",hn=>{if(!ve(hn)&&hn.keyCode===o){if(!e.getBody().getElementsByTagName("hr").length)return;if(m.isCollapsed()&&m.getRng().startOffset===0){const to=m.getNode(),Zo=to.previousSibling;if(to.nodeName==="HR"){c.remove(to),hn.preventDefault();return}Zo&&Zo.nodeName&&Zo.nodeName.toLowerCase()==="hr"&&(c.remove(Zo),hn.preventDefault())}}})},st=()=>{Range.prototype.getClientRects||e.on("mousedown",hn=>{if(!ve(hn)&&hn.target.nodeName==="HTML"){const to=e.getBody();to.blur(),Yc.setEditorTimeout(e,()=>{to.focus()})}})},nt=()=>{const hn=ly(e);e.on("click",to=>{const Zo=to.target;/^(IMG|HR)$/.test(Zo.nodeName)&&c.isEditable(Zo)&&(to.preventDefault(),e.selection.select(Zo),e.nodeChanged()),Zo.nodeName==="A"&&c.hasClass(Zo,hn)&&Zo.childNodes.length===0&&c.isEditable(Zo.parentNode)&&(to.preventDefault(),m.select(Zo))})},yt=()=>{const hn=()=>{const Zo=c.getAttribs(m.getStart().cloneNode(!1));return()=>{const Cn=m.getStart();Cn!==e.getBody()&&(c.setAttrib(Cn,"style",null),n(Zo,Uo=>{Cn.setAttributeNode(Uo.cloneNode(!0))}))}},to=()=>!m.isCollapsed()&&c.getParent(m.getStart(),c.isBlock)!==c.getParent(m.getEnd(),c.isBlock);e.on("keypress",Zo=>{let Cn;return!ve(Zo)&&(Zo.keyCode===8||Zo.keyCode===46)&&to()?(Cn=hn(),e.getDoc().execCommand("delete",!1),Cn(),Zo.preventDefault(),!1):!0}),c.bind(e.getDoc(),"cut",Zo=>{if(!ve(Zo)&&to()){const Cn=hn();Yc.setEditorTimeout(e,()=>{Cn()})}})},Ut=()=>{e.on("keydown",hn=>{if(!ve(hn)&&hn.keyCode===o&&m.isCollapsed()&&m.getRng().startOffset===0){const to=m.getNode().previousSibling;if(to&&to.nodeName&&to.nodeName.toLowerCase()==="table")return hn.preventDefault(),!1}return!0})},on=()=>{e.on("keydown",hn=>{if(ve(hn)||hn.keyCode!==yn.BACKSPACE)return;let to=m.getRng();const Zo=to.startContainer,Cn=to.startOffset,Uo=c.getRoot();let Xo=Zo;if(!(!to.collapsed||Cn!==0)){for(;Xo.parentNode&&Xo.parentNode.firstChild===Xo&&Xo.parentNode!==Uo;)Xo=Xo.parentNode;Xo.nodeName==="BLOCKQUOTE"&&(e.formatter.toggle("blockquote",void 0,Xo),to=c.createRng(),to.setStart(Zo,0),to.setEnd(Zo,0),m.setRng(to))}})},_n=()=>{const hn=()=>{oe("StyleWithCSS",!1),oe("enableInlineTableEditing",!1),BI(e)||oe("enableObjectResizing",!1)};KI(e)||e.on("BeforeExecCommand mousedown",hn)},Pt=()=>{const hn=()=>{n(c.select("a:not([data-mce-block])"),to=>{var Zo;let Cn=to.parentNode;const Uo=c.getRoot();if((Cn==null?void 0:Cn.lastChild)===to){for(;Cn&&!c.isBlock(Cn);){if(((Zo=Cn.parentNode)===null||Zo===void 0?void 0:Zo.lastChild)!==Cn||Cn===Uo)return;Cn=Cn.parentNode}c.add(Cn,"br",{"data-mce-bogus":1})}})};e.on("SetContent ExecCommand",to=>{(to.type==="setcontent"||to.command==="mceInsertLink")&&hn()})},St=()=>{e.on("init",()=>{oe("DefaultParagraphSeparator",gl(e))})},zt=hn=>{const to=hn.getBody(),Zo=hn.selection.getRng();return Zo.startContainer===Zo.endContainer&&Zo.startContainer===to&&Zo.startOffset===0&&Zo.endOffset===to.childNodes.length},Pn=()=>{e.on("keyup focusin mouseup",hn=>{!yn.modifierPressed(hn)&&!zt(e)&&m.normalize()},!0)},jn=()=>{e.contentStyles.push("img:-moz-broken {-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}")},Ho=()=>{e.inline||e.on("keydown",()=>{document.activeElement===document.body&&e.getWin().focus()})},qo=()=>{e.inline||(e.contentStyles.push("body {min-height: 150px}"),e.on("click",hn=>{let to;hn.target.nodeName==="HTML"&&(to=e.selection.getRng(),e.getBody().focus(),e.selection.setRng(to),e.selection.normalize(),e.nodeChanged())}))},Ls=()=>{X&&e.on("keydown",hn=>{yn.metaKeyPressed(hn)&&!hn.shiftKey&&(hn.keyCode===37||hn.keyCode===39)&&(hn.preventDefault(),e.selection.getSel().modify("move",hn.keyCode===37?"backward":"forward","lineboundary"))})},js=()=>{e.on("click",hn=>{let to=hn.target;do if(to.tagName==="A"){hn.preventDefault();return}while(to=to.parentNode)}),e.contentStyles.push(".mce-content-body {-webkit-touch-callout: none}")},mi=()=>{e.on("init",()=>{e.dom.bind(e.getBody(),"submit",hn=>{hn.preventDefault()})})},Ll=()=>{p.addNodeFilter("br",hn=>{let to=hn.length;for(;to--;)hn[to].attr("class")==="Apple-interchange-newline"&&hn[to].remove()})},er=lt,dn=()=>{if(!A||e.removed)return!1;const hn=e.selection.getSel();return!hn||!hn.rangeCount||hn.rangeCount===0},Un=()=>{$&&(Pe(),nt(),mi(),ye(),q&&(Ho(),qo(),js())),A&&(st(),_n(),jn(),Ls())},ks=()=>{on(),Oe(),Wo.windowsPhone||Pn(),$&&(Pe(),nt(),St(),mi(),Ut(),Ll(),q?(Ho(),qo(),js()):ye()),A&&(Ye(),st(),yt(),_n(),Pt(),jn(),Ls(),Ut())};return Ig(e)?Un():ks(),{refreshContentEditable:er,isHidden:dn}},Tle=e=>e.toLowerCase()==="gpl",Ole=e=>e.length>=64&&e.length<=255,Rle=e=>Tle(e)||Ole(e)?"VALID":"INVALID",Ile=e=>{const n=oD(e);!le(sD(e))&&(Xe(n)||Rle(n)==="INVALID")&&console.warn("TinyMCE is running in evaluation mode. Provide a valid license key or add license_key: 'gpl' to the init config to agree to the open source license terms. Read more at https://www.tiny.cloud/license-key/")},m9=Js.DOM,Dle=(e,n)=>{const o=je.fromDom(e.getBody()),a=Um(fu(o)),c=je.fromTag("style");_i(c,"type","text/css"),Ur(c,je.fromText(n)),Ur(a,c),e.on("remove",()=>{Ns(c)})},Ple=e=>e.inline?e.getElement().nodeName.toLowerCase():void 0,g9=e=>Tc(e,n=>Xe(n)===!1),qZ=e=>{const n=e.options.get,o=e.editorUpload.blobCache;return g9({allow_conditional_comments:n("allow_conditional_comments"),allow_html_data_urls:n("allow_html_data_urls"),allow_svg_data_urls:n("allow_svg_data_urls"),allow_html_in_named_anchor:n("allow_html_in_named_anchor"),allow_script_urls:n("allow_script_urls"),allow_unsafe_link_target:n("allow_unsafe_link_target"),convert_unsafe_embeds:n("convert_unsafe_embeds"),convert_fonts_to_spans:n("convert_fonts_to_spans"),fix_list_elements:n("fix_list_elements"),font_size_legacy_values:n("font_size_legacy_values"),forced_root_block:n("forced_root_block"),forced_root_block_attrs:n("forced_root_block_attrs"),preserve_cdata:n("preserve_cdata"),inline_styles:n("inline_styles"),root_name:Ple(e),sandbox_iframes:n("sandbox_iframes"),sandbox_iframes_exclusions:x_(e),sanitize:n("xss_sanitization"),validate:!0,blob_cache:o,document:e.getDoc()})},YZ=e=>{const n=e.options.get;return g9({custom_elements:n("custom_elements"),extended_valid_elements:n("extended_valid_elements"),invalid_elements:n("invalid_elements"),invalid_styles:n("invalid_styles"),schema:n("schema"),valid_children:n("valid_children"),valid_classes:n("valid_classes"),valid_elements:n("valid_elements"),valid_styles:n("valid_styles"),verify_html:n("verify_html"),padd_empty_block_inline_children:n("format_empty_lines")})},Nle=e=>{const n=e.options.get;return{...qZ(e),...YZ(e),...g9({remove_trailing_brs:n("remove_trailing_brs"),pad_empty_with_br:n("pad_empty_with_br"),url_converter:n("url_converter"),url_converter_scope:n("url_converter_scope"),element_format:n("element_format"),entities:n("entities"),entity_encoding:n("entity_encoding"),indent:n("indent"),indent_after:n("indent_after"),indent_before:n("indent_before")})}},Lle=e=>{const n=By(qZ(e),e.schema);return n.addAttributeFilter("src,href,style,tabindex",(o,a)=>{const c=e.dom,m="data-mce-"+a;let p=o.length;for(;p--;){const _=o[p];let A=_.attr(a);if(A&&!_.attr(m)){if(A.indexOf("data:")===0||A.indexOf("blob:")===0)continue;a==="style"?(A=c.serializeStyle(c.parseStyle(A),_.name),A.length||(A=null),_.attr(m,A),_.attr(a,A)):a==="tabindex"?(_.attr(m,A),_.attr(a,null)):_.attr(m,e.convertURL(A,a,_.name))}}}),n.addNodeFilter("script",o=>{let a=o.length;for(;a--;){const c=o[a],m=c.attr("type")||"no/type";m.indexOf("mce-")!==0&&c.attr("type","mce-"+m)}}),B8(e)&&n.addNodeFilter("#cdata",o=>{var a;let c=o.length;for(;c--;){const m=o[c];m.type=8,m.name="#comment",m.value="[CDATA["+e.dom.encode((a=m.value)!==null&&a!==void 0?a:"")+"]]"}}),n.addNodeFilter("p,h1,h2,h3,h4,h5,h6,div",o=>{let a=o.length;const c=e.schema.getNonEmptyElements();for(;a--;){const m=o[a];m.isEmpty(c)&&m.getAll("br").length===0&&m.append(new Ba("br",1))}}),n},Mle=e=>{const n=R8(e);n&&Yc.setEditorTimeout(e,()=>{let o;n===!0?o=e:o=e.editorManager.get(n),o&&!o.destroyed&&(o.focus(),o.selection.scrollIntoView())},100)},Ble=e=>{const n=e.dom.getRoot();!e.inline&&(!my(e)||e.selection.getStart(!0)===n)&&ao(n).each(o=>{const a=o.getNode(),c=bu(a)?ao(a).getOr(o):o;e.selection.setRng(c.toRange())})},Fle=e=>{e.bindPendingEventDelegates(),e.initialized=!0,ii(e),e.focus(!0),Ble(e),e.nodeChanged({initial:!0});const n=T8(e);_e(n)&&n.call(e,e),Mle(e)},h9=e=>e.inline?e.ui.styleSheetLoader:e.dom.styleSheetLoader,$le=(e,n,o)=>{const{pass:a,fail:c}=Ne(n,_=>tinymce.Resource.has(lO(_))),p=[...a.map(_=>{const A=tinymce.Resource.get(lO(_));return le(A)?Promise.resolve(h9(e).loadRawCss(_,A)):Promise.resolve()}),h9(e).loadAll(c)];return e.inline?p:p.concat([e.ui.styleSheetLoader.loadAll(o)])},XZ=e=>{const n=h9(e),o=MI(e),a=e.contentCSS,c=()=>{n.unloadAll(a),e.inline||e.ui.styleSheetLoader.unloadAll(o)},m=()=>{e.removed?c():e.on("remove",c)};if(e.contentStyles.length>0){let A="";rn.each(e.contentStyles,$=>{A+=$+`\r
`}),e.dom.addStyle(A)}const p=Promise.all($le(e,a,o)).then(m).catch(m),_=ry(e);return _&&Dle(e,_),p},Vle=e=>{const n=e.getDoc(),o=e.getBody();r7(e),I8(e)||(n.body.spellcheck=!1,m9.setAttrib(o,"spellcheck","false")),e.quirks=Ale(e),i7(e);const a=w8(e);a!==void 0&&(o.dir=a);const c=gs(e);c&&e.on("BeforeSetContent",m=>{rn.each(c,p=>{m.content=m.content.replace(p,_=>"<!--mce:protected "+escape(_)+"-->")})}),e.on("SetContent",()=>{e.addVisual(e.getBody())}),e.on("compositionstart compositionend",m=>{e.composing=m.type==="compositionstart"})},zle=e=>{Ig(e)||e.load({initial:!0,format:"html"}),e.startContent=e.getContent({format:"raw"})},p9=e=>{e.removed!==!0&&(zle(e),Fle(e))},Hle=e=>{let n=!1;const o=setTimeout(()=>{n||e.setProgressState(!0)},500);return()=>{clearTimeout(o),n=!0,e.setProgressState(!1)}},JZ=e=>{const n=e.getElement();let o=e.getDoc();e.inline&&(m9.addClass(n,"mce-content-body"),e.contentDocument=o=document,e.contentWindow=window,e.bodyElement=n,e.contentAreaContainer=n);const a=e.getBody();a.disabled=!0,e.readonly=KI(e),e._editableRoot=Ts(e),!e.readonly&&e.hasEditableRoot()&&(e.inline&&m9.getStyle(a,"position",!0)==="static"&&(a.style.position="relative"),a.contentEditable="true"),a.disabled=!1,e.editorUpload=uO(e),e.schema=zc(YZ(e)),e.dom=Js(o,{keep_values:!0,url_converter:e.convertURL,url_converter_scope:e,update_styles:!0,root_element:e.inline?e.getBody():null,collect:e.inline,schema:e.schema,contentCssCors:NI(e),referrerPolicy:S2(e),onSetAttrib:p=>{e.dispatch("SetAttrib",p)}}),e.parser=Lle(e),e.serializer=NL(Nle(e),e),e.selection=q4(e.dom,e.getWin(),e.serializer,e),e.annotator=qD(e),e.formatter=Xw(e),e.undoManager=mM(e),e._nodeChangeDispatcher=new Mre(e),e._selectionOverrides=Xae(e),Po(e),nae(e),lC(e),Ig(e)||(cae(e),Ele(e));const c=Lre(e);Zn(e,c),Vi(e),yM(e),Qie(e);const m=pL(e);Vle(e),Ile(e),m.fold(()=>{const p=Hle(e);XZ(e).then(()=>{p9(e),p()})},p=>{e.setProgressState(!0),XZ(e).then(()=>{p().then(_=>{e.setProgressState(!1),p9(e),_L(e)},_=>{e.notificationManager.open({type:"error",text:String(_)}),p9(e),_L(e)})})})},Ule=sn,Wle=(e,n,o)=>L(e,n,Ule,o),b9=Js.DOM,Kle=(e,n,o,a)=>{const c=je.fromTag("iframe");return a.each(m=>_i(c,"tabindex",m)),za(c,o),za(c,{id:e+"_ifr",frameBorder:"0",allowTransparency:"true",title:n}),jd(c,"tox-edit-area__iframe"),c},jle=e=>{let n=lf(e)+"<html><head>";ku(e)!==e.documentBaseUrl&&(n+='<base href="'+e.documentBaseURI.getURI()+'" />'),n+='<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />';const o=p_(e),a=aA(e),c=e.translate(E2(e));return TI(e)&&(n+='<meta http-equiv="Content-Security-Policy" content="'+TI(e)+'" />'),n+=`</head><body id="${o}" class="mce-content-body ${a}" data-id="${e.id}" aria-label="${c}"><br></body></html>`,n},Zle=(e,n)=>{const o=Wo.browser.isFirefox()?E2(e):"Rich Text Area",a=e.translate(o),c=lu(je.fromDom(e.getElement()),"tabindex").bind(vn),m=Kle(e.id,a,Il(e),c).dom;m.onload=()=>{m.onload=null,e.dispatch("load")},e.contentAreaContainer=n.iframeContainer,e.iframeElement=m,e.iframeHTML=jle(e),b9.add(n.iframeContainer,m)},Gle=e=>{const n=e.iframeElement,o=()=>{e.contentDocument=n.contentDocument,JZ(e)};if(JI(e)||Wo.browser.isFirefox()){const a=e.getDoc();a.open(),a.write(e.iframeHTML),a.close(),o()}else{const a=Wle(je.fromDom(n),"load",()=>{a.unbind(),o()});n.srcdoc=e.iframeHTML}},qle=(e,n)=>{Zle(e,n),n.editorContainer&&(n.editorContainer.style.display=e.orgDisplay,e.hidden=b9.isHidden(n.editorContainer)),e.getElement().style.display="none",b9.setAttrib(e.id,"aria-hidden","true"),e.getElement().style.visibility=e.orgVisibility,Gle(e)},QZ=Js.DOM,Yle=(e,n,o)=>{const a=E0.get(o),c=E0.urls[o]||e.documentBaseUrl.replace(/\/$/,"");if(o=rn.trim(o),a&&rn.inArray(n,o)===-1){if(e.plugins[o])return;try{const m=a(e,c)||{};e.plugins[o]=m,_e(m.init)&&(m.init(e,c),n.push(o))}catch(m){vz(e,o,m)}}},Xle=e=>e.replace(/^\-/,""),Jle=e=>{const n=[];be(cf(e),o=>{Yle(e,n,Xle(o))})},Qle=e=>{const n=rn.trim(fA(e)),o=e.ui.registry.getAll().icons,a={...jw.get("default").icons,...jw.get(n).icons};fs(a,(c,m)=>{yo(o,m)||e.ui.registry.addIcon(m,c)})},ece=e=>{const n=iy(e);if(le(n)){const o=Cb.get(n);e.theme=o(e,Cb.urls[n])||{},_e(e.theme.init)&&e.theme.init(e,Cb.urls[n]||e.documentBaseUrl.replace(/\/$/,""))}else e.theme={}},tce=e=>{const n=k2(e),o=wb.get(n);e.model=o(e,wb.urls[n])},nce=e=>{const n=e.theme.renderUI;return n?n():tG(e)},oce=e=>{const n=e.getElement(),a=iy(e)(e,n);return a.editorContainer.nodeType&&(a.editorContainer.id=a.editorContainer.id||e.id+"_parent"),a.iframeContainer&&a.iframeContainer.nodeType&&(a.iframeContainer.id=a.iframeContainer.id||e.id+"_iframecontainer"),a.height=a.iframeHeight?a.iframeHeight:n.offsetHeight,a},eG=(e,n)=>({editorContainer:e,iframeContainer:n,api:{}}),sce=e=>{const n=QZ.create("div");return QZ.insertAfter(n,e),eG(n,n)},tG=e=>{const n=e.getElement();return e.inline?eG(null):sce(n)},rce=e=>{const n=e.getElement();return e.orgDisplay=n.style.display,le(iy(e))?nce(e):_e(iy(e))?oce(e):tG(e)},ice=(e,n)=>{const o={show:J.from(n.show).getOr(lt),hide:J.from(n.hide).getOr(lt),isEnabled:J.from(n.isEnabled).getOr(sn),setEnabled:a=>{e.mode.isReadOnly()||J.from(n.setEnabled).each(c=>c(a))}};e.ui={...e.ui,...o}},ace=async e=>{e.dispatch("ScriptsLoaded"),Qle(e),ece(e),tce(e),Jle(e);const n=await rce(e);ice(e,J.from(n.api).getOr({})),e.editorContainer=n.editorContainer,eM(e),e.inline?JZ(e):qle(e,{editorContainer:n.editorContainer,iframeContainer:n.iframeContainer})},mC=Js.DOM,nG=e=>e.charAt(0)==="-",lce=(e,n)=>{const o=hA(n),a=x8(n);if(!Hc.hasCode(o)&&o!=="en"){const c=ot(a)?a:`${n.editorManager.baseURL}/langs/${o}.js`;e.add(c).catch(()=>{pz(n,c,o)})}},cce=(e,n)=>{const o=iy(e);if(le(o)&&!nG(o)&&!yo(Cb.urls,o)){const a=_8(e),c=a?e.documentBaseURI.toAbsolute(a):`themes/${o}/theme${n}.js`;Cb.load(o,c).catch(()=>{JL(e,c,o)})}},uce=(e,n)=>{const o=k2(e);if(o!=="plugin"&&!yo(wb.urls,o)){const a=bA(e),c=le(a)?e.documentBaseURI.toAbsolute(a):`models/${o}/model${n}.js`;wb.load(o,c).catch(()=>{bz(e,c,o)})}},dce=e=>J.from(DI(e)).filter(ot).map(n=>({url:n,name:J.none()})),oG=(e,n,o)=>J.from(n).filter(a=>ot(a)&&!jw.has(a)).map(a=>({url:`${e.editorManager.baseURL}/icons/${a}/icons${o}.js`,name:J.some(a)})),fce=(e,n,o)=>{const a=oG(n,"default",o),c=dce(n).orThunk(()=>oG(n,fA(n),""));be(m1([a,c]),m=>{e.add(m.url).catch(()=>{iO(n,m.url,m.name.getOrUndefined())})})},mce=(e,n)=>{const o=(a,c)=>{E0.load(a,c).catch(()=>{rO(e,c,a)})};fs(mg(e),(a,c)=>{o(c,a),e.options.set("plugins",cf(e).concat(c))}),be(cf(e),a=>{a=rn.trim(a),a&&!E0.urls[a]&&!nG(a)&&o(a,`plugins/${a}/plugin${n}.js`)})},gce=e=>{const n=iy(e);return!le(n)||xe(Cb.get(n))},hce=e=>{const n=k2(e);return xe(wb.get(n))},pce=(e,n)=>{const o=Tl.ScriptLoader,a=()=>{!e.removed&&gce(e)&&hce(e)&&ace(e)};cce(e,n),uce(e,n),lce(o,e),fce(o,e,n),mce(e,n),o.loadQueue().then(a,a)},bce=(e,n)=>k1.forElement(e,{contentCssCors:jI(n),referrerPolicy:S2(n)}),vce=e=>{const n=e.id;Hc.setCode(hA(e));const o=()=>{mC.unbind(window,"ready",o),e.render()};if(!Zf.Event.domLoaded){mC.bind(window,"ready",o);return}if(!e.getElement())return;const a=je.fromDom(e.getElement()),c=kl(a);e.on("remove",()=>{ke(a.dom.attributes,p=>Fo(a,p.name)),za(a,c)}),e.ui.styleSheetLoader=bce(a,e),jv(e)?e.inline=!0:(e.orgVisibility=e.getElement().style.visibility,e.getElement().style.visibility="hidden");const m=e.getElement().form||mC.getParent(n,"form");m&&(e.formElement=m,vA(e)&&!Tp(e.getElement())&&(mC.insertAfter(mC.create("input",{type:"hidden",name:n}),n),e.hasHiddenInput=!0),e.formEventDelegate=p=>{e.dispatch(p.type,p)},mC.bind(m,"submit reset",e.formEventDelegate),e.on("reset",()=>{e.resetContent()}),zI(e)&&!m.submit.nodeType&&!m.submit.length&&!m._mceOldSubmit&&(m._mceOldSubmit=m.submit,m.submit=()=>(e.editorManager.triggerSave(),e.setDirty(!1),m._mceOldSubmit(m)))),e.windowManager=YL(e),e.notificationManager=sO(e),QI(e)&&e.on("GetContent",p=>{p.save&&(p.content=mC.encode(p.content))}),HI(e)&&e.on("submit",()=>{e.initialized&&e.save()}),UI(e)&&(e._beforeUnload=()=>{e.initialized&&!e.destroyed&&!e.isHidden()&&e.save({format:"raw",no_events:!0,set_dirty:!1})},e.editorManager.on("BeforeUnload",e._beforeUnload)),e.editorManager.add(e),pce(e,e.suffix)},yce=(e,n)=>{e._editableRoot!==n&&(e._editableRoot=n,e.readonly||(e.getBody().contentEditable=String(e.hasEditableRoot()),e.nodeChanged()),c7(e,n))},xce=e=>e._editableRoot,wce=(e,n)=>({sections:dt(e),options:dt(n)}),sG=ca().deviceType,rG=sG.isPhone(),Cce=sG.isTablet(),cR=e=>{if(rt(e))return[];{const n=ne(e)?e:e.split(/[ ,]/),o=He(n,Ue);return Ge(o,ot)}},_ce=(e,n)=>{const o=Zu(n,(a,c)=>we(e,c));return wce(o.t,o.f)},Sce=(e,n,o={})=>{const a=e.sections(),c=Ps(a,n).getOr({});return rn.extend({},o,c)},v9=(e,n)=>yo(e.sections(),n),kce=(e,n)=>v9(e,n)?e.sections()[n]:{},Ece=(e,n)=>({...{table_grid:!1,object_resizing:!1,resize:!1,toolbar_mode:Ps(e,"toolbar_mode").getOr("scrolling"),toolbar_sticky:!1},...n?{menubar:!1}:{}}),Ace=(e,n)=>{var o;const a=(o=n.external_plugins)!==null&&o!==void 0?o:{};return e&&e.external_plugins?rn.extend({},e.external_plugins,a):a},Tce=(e,n)=>[...cR(e),...cR(n)],Oce=(e,n,o,a)=>e&&v9(n,"mobile")?a:o,Rce=(e,n,o,a)=>{const c=cR(o.forced_plugins),m=cR(a.plugins),p=kce(n,"mobile"),_=p.plugins?cR(p.plugins):m,A=Oce(e,n,m,_),$=Tce(c,A);return rn.extend(a,{forced_plugins:c,plugins:$})},Ice=(e,n)=>e&&v9(n,"mobile"),Dce=(e,n,o,a,c)=>{var m;const p=e?{mobile:Ece((m=c.mobile)!==null&&m!==void 0?m:{},n)}:{},_=_ce(["mobile"],zB(p,c)),A=rn.extend(o,a,_.options(),Ice(e,_)?Sce(_,"mobile"):{},{external_plugins:Ace(a,_.options())});return Rce(e,_,a,A)},Pce=(e,n)=>{const o=ej(n);return Dce(rG||Cce,rG,o,e,o)},Nce=(e,n)=>CL(e,n),Lce=e=>{const n=(a,c)=>{e.formatter.toggle(a,c),e.nodeChanged()},o=a=>()=>{be("left,center,right,justify".split(","),c=>{a!==c&&e.formatter.remove("align"+c)}),a!=="none"&&n("align"+a)};e.editorCommands.addCommands({JustifyLeft:o("left"),JustifyCenter:o("center"),JustifyRight:o("right"),JustifyFull:o("justify"),JustifyNone:o("none")})},Mce=e=>{const n=o=>()=>{const a=e.selection,c=a.isCollapsed()?[e.dom.getParent(a.getNode(),e.dom.isBlock)]:a.getSelectedBlocks();return Re(c,m=>xe(e.formatter.matchNode(m,o)))};e.editorCommands.addCommands({JustifyLeft:n("alignleft"),JustifyCenter:n("aligncenter"),JustifyRight:n("alignright"),JustifyFull:n("alignjustify")},"state")},Bce=e=>{Lce(e),Mce(e)},Fce=e=>{e.editorCommands.addCommands({"Cut,Copy,Paste":n=>{const o=e.getDoc();let a;try{o.execCommand(n)}catch{a=!0}if(n==="paste"&&!o.queryCommandEnabled(n)&&(a=!0),a||!o.queryCommandSupported(n)){let c=e.translate("Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.");(Wo.os.isMacOS()||Wo.os.isiOS())&&(c=c.replace(/Ctrl\+/g,"+")),e.notificationManager.open({text:c,type:"error"})}}})},$ce=(e,n,o,a)=>{const c=je.fromDom(e.getRoot());return Ay(c,At.fromRangeStart(n),a)?o=o.replace(/^ /,"&nbsp;"):o=o.replace(/^&nbsp;/," "),h0(c,At.fromRangeEnd(n),a)?o=o.replace(/(&nbsp;| )(<br( \/)>)?$/,"&nbsp;"):o=o.replace(/&nbsp;(<br( \/)?>)?$/," "),o},Vce=e=>{if(typeof e!="string"){const n=rn.extend({paste:e.paste,data:{paste:e.paste}},e);return{content:e.content,details:n}}return{content:e,details:{}}},zce=(e,n)=>{const o=e.selection,a=e.dom;return/^ | $/.test(n)?$ce(a,o.getRng(),n,e.schema):n},u6=(e,n)=>{if(e.selection.isEditable()){const{content:o,details:a}=Vce(n);_4(e,{...a,content:zce(e,o),format:"html",set:!1,selection:!0}).each(c=>{const m=GV(e,c.content,a);S4(e,m,c),e.addVisual()})}},Hce=e=>{e.editorCommands.addCommands({mceCleanup:()=>{const n=e.selection.getBookmark();e.setContent(e.getContent()),e.selection.moveToBookmark(n)},insertImage:(n,o,a)=>{u6(e,e.dom.createHTML("img",{src:a}))},insertHorizontalRule:()=>{e.execCommand("mceInsertContent",!1,"<hr>")},insertText:(n,o,a)=>{u6(e,e.dom.encode(a))},insertHTML:(n,o,a)=>{u6(e,a)},mceInsertContent:(n,o,a)=>{u6(e,a)},mceSetContent:(n,o,a)=>{e.setContent(a)},mceReplaceContent:(n,o,a)=>{e.execCommand("mceInsertContent",!1,a.replace(/\{\$selection\}/g,e.selection.getContent({format:"text"})))},mceNewDocument:()=>{e.setContent(ys(e))}})},Uce={"font-size":"size","font-family":"face"},Wce=Df("font"),Kce=(e,n,o)=>{const a=m=>Br(m,e).orThunk(()=>Wce(m)?Ps(Uce,e).bind(p=>lu(m,p)):J.none()),c=m=>ss(je.fromDom(n),m);return Tw(je.fromDom(o),m=>a(m),c)},jce=e=>e.replace(/[\'\"\\]/g,"").replace(/,\s+/g,","),Zce=(e,n)=>J.from(Js.DOM.getStyle(n,e,!0)),iG=e=>(n,o)=>J.from(o).map(je.fromDom).filter(zr).bind(a=>Kce(e,n,a.dom).or(Zce(e,a.dom))).getOr(""),Gce=iG("font-size"),qce=Lt(jce,iG("font-family")),Yce=e=>ao(e.getBody()).bind(n=>{const o=n.container();return J.from(qt(o)?o.parentNode:o)}),Xce=e=>J.from(e.selection.getRng()).bind(n=>{const o=e.getBody();return n.startContainer===o&&n.startOffset===0?J.none():J.from(e.selection.getStart(!0))}),Jce=(e,n)=>Xce(e).orThunk(et(Yce,e)).map(je.fromDom).filter(zr).bind(n),y9=(e,n)=>Jce(e,Qt(J.some,n)),aG=(e,n)=>{if(/^[0-9.]+$/.test(n)){const o=parseInt(n,10);if(o>=1&&o<=7){const a=wA(e),c=CA(e);return c.length>0?c[o-1]||n:a[o-1]||n}else return n}else return n},Qce=e=>{const n=e.split(/\s*,\s*/);return He(n,o=>o.indexOf(" ")!==-1&&!(cr(o,'"')||cr(o,"'"))?`'${o}'`:o).join(",")},eue=(e,n)=>{const o=aG(e,n);e.formatter.toggle("fontname",{value:Qce(o)}),e.nodeChanged()},tue=e=>y9(e,n=>qce(e.getBody(),n.dom)).getOr(""),nue=(e,n)=>{e.formatter.toggle("fontsize",{value:aG(e,n)}),e.nodeChanged()},oue=e=>y9(e,n=>Gce(e.getBody(),n.dom)).getOr(""),sue=e=>y9(e,n=>{const o=je.fromDom(e.getBody()),a=Tw(n,m=>Br(m,"line-height"),et(ss,o)),c=()=>{const m=parseFloat(Hr(n,"line-height")),p=parseFloat(Hr(n,"font-size"));return String(m/p)};return a.getOrThunk(c)}).getOr(""),rue=(e,n)=>{e.formatter.toggle("lineheight",{value:String(n)}),e.nodeChanged()},iue=e=>{const n=(o,a)=>{e.formatter.toggle(o,a),e.nodeChanged()};e.editorCommands.addCommands({"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":o=>{n(o)},"ForeColor,HiliteColor":(o,a,c)=>{n(o,{value:c})},BackColor:(o,a,c)=>{n("hilitecolor",{value:c})},FontName:(o,a,c)=>{eue(e,c)},FontSize:(o,a,c)=>{nue(e,c)},LineHeight:(o,a,c)=>{rue(e,c)},Lang:(o,a,c)=>{var m;n(o,{value:c.code,customValue:(m=c.customCode)!==null&&m!==void 0?m:null})},RemoveFormat:o=>{e.formatter.remove(o)},mceBlockQuote:()=>{n("blockquote")},FormatBlock:(o,a,c)=>{n(le(c)?c:"p")},mceToggleFormat:(o,a,c)=>{n(c)}})},aue=e=>{const n=o=>e.formatter.match(o);e.editorCommands.addCommands({"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":o=>n(o),mceBlockQuote:()=>n("blockquote")},"state"),e.editorCommands.addQueryValueHandler("FontName",()=>tue(e)),e.editorCommands.addQueryValueHandler("FontSize",()=>oue(e)),e.editorCommands.addQueryValueHandler("LineHeight",()=>sue(e))},lue=e=>{iue(e),aue(e)},cue=e=>{e.editorCommands.addCommands({mceAddUndoLevel:()=>{e.undoManager.add()},mceEndUndoLevel:()=>{e.undoManager.add()},Undo:()=>{e.undoManager.undo()},Redo:()=>{e.undoManager.redo()}})},uue=e=>{e.editorCommands.addCommands({Indent:()=>{Nt(e)},Outdent:()=>{It(e)}}),e.editorCommands.addCommands({Outdent:()=>Ce(e)},"state")},due=e=>{const n=(o,a,c)=>{const m=le(c)?{href:c}:c,p=e.dom.getParent(e.selection.getNode(),"a");j(m)&&le(m.href)&&(m.href=m.href.replace(/ /g,"%20"),(!p||!m.href)&&e.formatter.remove("link"),m.href&&e.formatter.apply("link",m,p))};e.editorCommands.addCommands({unlink:()=>{if(e.selection.isEditable()){if(e.selection.isCollapsed()){const o=e.dom.getParent(e.selection.getStart(),"a");o&&e.dom.remove(o,!0);return}e.formatter.remove("link")}},mceInsertLink:n,createLink:n})},fue=(e,n,o,a)=>{const c=e.dom,m=_=>c.isBlock(_)&&_.parentElement===o,p=m(n)?n:c.getParent(a,m,o);return J.from(p).map(je.fromDom)},lG=(e,n)=>{const o=e.dom,a=e.selection.getRng(),c=n?e.selection.getStart():e.selection.getEnd(),m=n?a.startContainer:a.endContainer,p=sR(o,m);if(!p||!p.isContentEditable)return;const _=n?Or:mt,A=gl(e);fue(e,c,p,m).each($=>{const q=Ej(e,m,$.dom,p,!1,A);_($,je.fromDom(q)),e.selection.setCursorLocation(q,0),e.dispatch("NewBlock",{newBlock:q}),oR(e,"insertParagraph")})},mue=e=>lG(e,!0),gue=e=>lG(e,!1),hue=e=>{e.editorCommands.addCommands({InsertNewBlockBefore:()=>{mue(e)},InsertNewBlockAfter:()=>{gue(e)}})},pue=e=>{e.editorCommands.addCommands({insertParagraph:()=>{XB(Rj,e)},mceInsertNewLine:(n,o,a)=>{Bj(e,a)},InsertLineBreak:(n,o,a)=>{XB(Pj,e)}})},bue=e=>{e.editorCommands.addCommands({mceSelectNodeDepth:(n,o,a)=>{let c=0;e.dom.getParent(e.selection.getNode(),m=>Ln(m)&&c++===a?(e.selection.select(m),!1):!0,e.getBody())},mceSelectNode:(n,o,a)=>{e.selection.select(a)},selectAll:()=>{const n=e.dom.getParent(e.selection.getStart(),Bc);if(n){const o=e.dom.createRng();o.selectNodeContents(n),e.selection.setRng(o)}}})},vue=e=>{e.editorCommands.addCommands({mceRemoveNode:(n,o,a)=>{const c=a??e.selection.getNode();if(c!==e.getBody()){const m=e.selection.getBookmark();e.dom.remove(c,!0),e.selection.moveToBookmark(m)}},mcePrint:()=>{e.getWin().print()},mceFocus:(n,o,a)=>{PP(e,a===!0)},mceToggleVisualAid:()=>{e.hasVisual=!e.hasVisual,e.addVisual()}})},yue=e=>{Bce(e),Fce(e),cue(e),bue(e),Hce(e),due(e),uue(e),hue(e),pue(e),lue(e),vue(e)},xue=["toggleview"],cG=e=>we(xue,e.toLowerCase());class uG{constructor(n){this.commands={state:{},exec:{},value:{}},this.editor=n}execCommand(n,o=!1,a,c){const m=this.editor,p=n.toLowerCase(),_=c==null?void 0:c.skip_focus;if(m.removed||(p!=="mcefocus"&&(!/^(mceAddUndoLevel|mceEndUndoLevel)$/i.test(p)&&!_?m.focus():tS(m)),m.dispatch("BeforeExecCommand",{command:n,ui:o,value:a}).isDefaultPrevented()))return!1;const $=this.commands.exec[p];return _e($)?($(p,o,a),m.dispatch("ExecCommand",{command:n,ui:o,value:a}),!0):!1}queryCommandState(n){if(!cG(n)&&this.editor.quirks.isHidden()||this.editor.removed)return!1;const o=n.toLowerCase(),a=this.commands.state[o];return _e(a)?a(o):!1}queryCommandValue(n){if(!cG(n)&&this.editor.quirks.isHidden()||this.editor.removed)return"";const o=n.toLowerCase(),a=this.commands.value[o];return _e(a)?a(o):""}addCommands(n,o="exec"){const a=this.commands;fs(n,(c,m)=>{be(m.toLowerCase().split(","),p=>{a[o][p]=c})})}addCommand(n,o,a){const c=n.toLowerCase();this.commands.exec[c]=(m,p,_)=>o.call(a??this.editor,p,_)}queryCommandSupported(n){const o=n.toLowerCase();return!!this.commands.exec[o]}addQueryStateHandler(n,o,a){this.commands.state[n.toLowerCase()]=()=>o.call(a??this.editor)}addQueryValueHandler(n,o,a){this.commands.value[n.toLowerCase()]=()=>o.call(a??this.editor)}}const gC="data-mce-contenteditable",wue=(e,n,o)=>{Zd(e,n)&&!o?Ha(e,n):o&&jd(e,n)},x9=(e,n,o)=>{try{e.getDoc().execCommand(n,!1,String(o))}catch{}},d6=(e,n)=>{e.dom.contentEditable=n?"true":"false"},Cue=e=>{be(vi(e,'*[contenteditable="true"]'),n=>{_i(n,gC,"true"),d6(n,!1)})},_ue=e=>{be(vi(e,`*[${gC}="true"]`),n=>{Fo(n,gC),d6(n,!0)})},Sue=e=>{J.from(e.selection.getNode()).each(n=>{n.removeAttribute("data-mce-selected")})},kue=e=>{e.selection.setRng(e.selection.getRng())},Eue=(e,n)=>{const o=je.fromDom(e.getBody());wue(o,"mce-content-readonly",n),n?(e.selection.controlSelection.hideResizeRect(),e._selectionOverrides.hideFakeCaret(),Sue(e),e.readonly=!0,d6(o,!1),Cue(o)):(e.readonly=!1,e.hasEditableRoot()&&d6(o,!0),_ue(o),x9(e,"StyleWithCSS",!1),x9(e,"enableInlineTableEditing",!1),x9(e,"enableObjectResizing",!1),c0(e)&&e.focus(),kue(e),e.nodeChanged())},hC=e=>e.readonly,dG=e=>{e.parser.addAttributeFilter("contenteditable",n=>{hC(e)&&be(n,o=>{o.attr(gC,o.attr("contenteditable")),o.attr("contenteditable","false")})}),e.serializer.addAttributeFilter(gC,n=>{hC(e)&&be(n,o=>{o.attr("contenteditable",o.attr(gC))})}),e.serializer.addTempAttr(gC)},Aue=e=>{e.serializer?dG(e):e.on("PreInit",()=>{dG(e)})},Tue=e=>e.type==="click",Oue=["copy"],Rue=e=>we(Oue,e.type),Iue=(e,n)=>Xi(n,"a",a=>ss(a,je.fromDom(e.getBody()))).bind(a=>lu(a,"href")),Due=(e,n)=>{if(Tue(n)&&!yn.metaKeyPressed(n)){const o=je.fromDom(n.target);Iue(e,o).each(a=>{if(n.preventDefault(),/^#/.test(a)){const c=e.dom.select(`${a},[name="${iu(a,"#")}"]`);c.length&&e.selection.scrollIntoView(c[0],!0)}else window.open(a,"_blank","rel=noopener noreferrer,menubar=yes,toolbar=yes,location=yes,status=yes,resizable=yes,scrollbars=yes")})}else Rue(n)&&e.dispatch(n.type,n)},Pue=e=>{e.on("ShowCaret",n=>{hC(e)&&n.preventDefault()}),e.on("ObjectSelected",n=>{hC(e)&&n.preventDefault()})},Nue=rn.makeMap("focus blur focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange mouseout mouseenter mouseleave wheel keydown keypress keyup input beforeinput contextmenu dragstart dragend dragover draggesture dragdrop drop drag submit compositionstart compositionend compositionupdate touchstart touchmove touchend touchcancel"," ");class w9{static isNative(n){return!!Nue[n.toLowerCase()]}constructor(n){this.bindings={},this.settings=n||{},this.scope=this.settings.scope||this,this.toggleEvent=this.settings.toggleEvent||In}fire(n,o){return this.dispatch(n,o)}dispatch(n,o){const a=n.toLowerCase(),c=N1(a,o??{},this.scope);this.settings.beforeFire&&this.settings.beforeFire(c);const m=this.bindings[a];if(m)for(let p=0,_=m.length;p<_;p++){const A=m[p];if(!A.removed){if(A.once&&this.off(a,A.func),c.isImmediatePropagationStopped())return c;if(A.func.call(this.scope,c)===!1)return c.preventDefault(),c}}return c}on(n,o,a,c){if(o===!1&&(o=In),o){const m={func:o,removed:!1};c&&rn.extend(m,c);const p=n.toLowerCase().split(" ");let _=p.length;for(;_--;){const A=p[_];let $=this.bindings[A];$||($=[],this.toggleEvent(A,!0)),a?$=[m,...$]:$=[...$,m],this.bindings[A]=$}}return this}off(n,o){if(n){const a=n.toLowerCase().split(" ");let c=a.length;for(;c--;){const m=a[c];let p=this.bindings[m];if(!m)return fs(this.bindings,(_,A)=>{this.toggleEvent(A,!1),delete this.bindings[A]}),this;if(p){if(!o)p.length=0;else{const _=Ne(p,A=>A.func===o);p=_.fail,this.bindings[m]=p,be(_.pass,A=>{A.removed=!0})}p.length||(this.toggleEvent(n,!1),delete this.bindings[m])}}}else fs(this.bindings,(a,c)=>{this.toggleEvent(c,!1)}),this.bindings={};return this}once(n,o,a){return this.on(n,o,a,{once:!0})}has(n){n=n.toLowerCase();const o=this.bindings[n];return!(!o||o.length===0)}}const uR=e=>(e._eventDispatcher||(e._eventDispatcher=new w9({scope:e,toggleEvent:(n,o)=>{w9.isNative(n)&&e.toggleNativeEvent&&e.toggleNativeEvent(n,o)}})),e._eventDispatcher),C9={fire(e,n,o){return this.dispatch(e,n,o)},dispatch(e,n,o){const a=this;if(a.removed&&e!=="remove"&&e!=="detach")return N1(e.toLowerCase(),n??{},a);const c=uR(a).dispatch(e,n);if(o!==!1&&a.parent){let m=a.parent();for(;m&&!c.isPropagationStopped();)m.dispatch(e,c,!1),m=m.parent?m.parent():void 0}return c},on(e,n,o){return uR(this).on(e,n,o)},off(e,n){return uR(this).off(e,n)},once(e,n){return uR(this).once(e,n)},hasEventListeners(e){return uR(this).has(e)}},f6=Js.DOM;let pC;const m6=(e,n)=>{if(n==="selectionchange")return e.getDoc();if(!e.inline&&/^(?:mouse|touch|click|contextmenu|drop|dragover|dragend)/.test(n))return e.getDoc().documentElement;const o=$I(e);return o?(e.eventRoot||(e.eventRoot=f6.select(o)[0]),e.eventRoot):e.getBody()},Lue=e=>!e.hidden&&!hC(e),fG=(e,n,o)=>{Lue(e)?e.dispatch(n,o):hC(e)&&Due(e,o)},mG=(e,n)=>{if(e.delegates||(e.delegates={}),e.delegates[n]||e.removed)return;const o=m6(e,n);if($I(e)){if(pC||(pC={},e.editorManager.on("removeEditor",()=>{e.editorManager.activeEditor||pC&&(fs(pC,(c,m)=>{e.dom.unbind(m6(e,m))}),pC=null)})),pC[n])return;const a=c=>{const m=c.target,p=e.editorManager.get();let _=p.length;for(;_--;){const A=p[_].getBody();(A===m||f6.isChildOf(m,A))&&fG(p[_],n,c)}};pC[n]=a,f6.bind(o,n,a)}else{const a=c=>{fG(e,n,c)};f6.bind(o,n,a),e.delegates[n]=a}},gG={...C9,bindPendingEventDelegates(){const e=this;rn.each(e._pendingNativeEvents,n=>{mG(e,n)})},toggleNativeEvent(e,n){const o=this;e==="focus"||e==="blur"||o.removed||(n?o.initialized?mG(o,e):o._pendingNativeEvents?o._pendingNativeEvents.push(e):o._pendingNativeEvents=[e]:o.initialized&&o.delegates&&(o.dom.unbind(m6(o,e),e,o.delegates[e]),delete o.delegates[e]))},unbindAllNativeEvents(){const e=this,n=e.getBody(),o=e.dom;e.delegates&&(fs(e.delegates,(a,c)=>{e.dom.unbind(m6(e,c),c,a)}),delete e.delegates),!e.inline&&n&&o&&(n.onload=null,o.unbind(e.getWin()),o.unbind(e.getDoc())),o&&(o.unbind(n),o.unbind(e.getContainer()))}},Mue=e=>le(e)?{value:e.split(/[ ,]/),valid:!0}:it(e,le)?{value:e,valid:!0}:{valid:!1,message:"The value must be a string[] or a comma/space separated string."},Bue=e=>{const n=(()=>{switch(e){case"array":return ne;case"boolean":return Fe;case"function":return _e;case"number":return R;case"object":return j;case"string":return le;case"string[]":return Mue;case"object[]":return o=>it(o,j);case"regexp":return o=>de(o,RegExp);default:return sn}})();return o=>_9(o,n,`The value must be a ${e}.`)},Fue=e=>le(e.processor),hG=(e,n)=>{const o=Xt(n.message)?"":`. ${n.message}`;return e+o},pG=e=>e.valid,_9=(e,n,o="")=>{const a=n(e);return Fe(a)?a?{value:e,valid:!0}:{valid:!1,message:o}:a},$ue=(e,n,o)=>{if(!Xe(n)){const a=_9(n,o);if(pG(a))return a.value;console.error(hG(`Invalid default value passed for the "${e}" option`,a))}},Vue=(e,n,o=n)=>{const a={},c={},m=(ve,Oe,ye)=>{const Pe=_9(Oe,ye);return pG(Pe)?(c[ve]=Pe.value,!0):(console.warn(hG(`Invalid value passed for the ${ve} option`,Pe)),!1)},p=(ve,Oe)=>{const ye=Fue(Oe)?Bue(Oe.processor):Oe.processor,Pe=$ue(ve,Oe.default,ye);a[ve]={...Oe,default:Pe,processor:ye},Ps(c,ve).orThunk(()=>Ps(n,ve)).each(st=>m(ve,st,ye))},_=ve=>yo(a,ve);return{register:p,isRegistered:_,get:ve=>Ps(c,ve).orThunk(()=>Ps(a,ve).map(Oe=>Oe.default)).getOrUndefined(),set:(ve,Oe)=>{if(_(ve)){const ye=a[ve];return ye.immutable?(console.error(`"${ve}" is an immutable option and cannot be updated`),!1):m(ve,Oe,ye.processor)}else return console.warn(`"${ve}" is not a registered option. Ensure the option has been registered before setting a value.`),!1},unset:ve=>{const Oe=_(ve);return Oe&&delete c[ve],Oe},isSet:ve=>yo(c,ve),debug:()=>{try{console.log(JSON.parse(JSON.stringify(o,(ve,Oe)=>Fe(Oe)||R(Oe)||le(Oe)||Ve(Oe)||ne(Oe)||fe(Oe)?Oe:Object.prototype.toString.call(Oe))))}catch(ve){console.error(ve)}}}},zue=["design","readonly"],bG=(e,n,o,a)=>{const c=o[n.get()],m=o[a];try{m.activate()}catch(p){console.error(`problem while activating editor mode ${a}:`,p);return}c.deactivate(),c.editorReadOnly!==m.editorReadOnly&&Eue(e,m.editorReadOnly),n.set(a),YD(e,a)},Hue=(e,n,o,a)=>{if(a!==o.get()){if(!yo(n,a))throw new Error(`Editor mode '${a}' is invalid`);e.initialized?bG(e,o,n,a):e.on("init",()=>bG(e,o,n,a))}},Uue=(e,n,o)=>{if(we(zue,n))throw new Error(`Cannot override default mode ${n}`);return{...e,[n]:{...o,deactivate:()=>{try{o.deactivate()}catch(a){console.error(`problem while deactivating editor mode ${n}:`,a)}}}}},Wue=e=>{const n=Li("design"),o=Li({design:{activate:lt,deactivate:lt,editorReadOnly:!1},readonly:{activate:lt,deactivate:lt,editorReadOnly:!0}});return Aue(e),Pue(e),{isReadOnly:()=>hC(e),set:a=>Hue(e,o.get(),n,a),get:()=>n.get(),register:(a,c)=>{o.set(Uue(o.get(),a,c))}}},S9=rn.each,k9=rn.explode,Kue={f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123},vG=rn.makeMap("alt,ctrl,shift,meta,access"),jue=e=>e in vG,Zue=e=>{const n={},o=Wo.os.isMacOS()||Wo.os.isiOS();S9(k9(e.toLowerCase(),"+"),m=>{jue(m)?n[m]=!0:/^[0-9]{2,}$/.test(m)?n.keyCode=parseInt(m,10):(n.charCode=m.charCodeAt(0),n.keyCode=Kue[m]||m.toUpperCase().charCodeAt(0))});const a=[n.keyCode];let c;for(c in vG)n[c]?a.push(c):n[c]=!1;return n.id=a.join(","),n.access&&(n.alt=!0,o?n.ctrl=!0:n.shift=!0),n.meta&&(o?n.meta=!0:(n.ctrl=!0,n.meta=!1)),n};class yG{constructor(n){this.shortcuts={},this.pendingPatterns=[],this.editor=n;const o=this;n.on("keyup keypress keydown",a=>{(o.hasModifier(a)||o.isFunctionKey(a))&&!a.isDefaultPrevented()&&(S9(o.shortcuts,c=>{o.matchShortcut(a,c)&&(o.pendingPatterns=c.subpatterns.slice(0),a.type==="keydown"&&o.executeShortcutAction(c))}),o.matchShortcut(a,o.pendingPatterns[0])&&(o.pendingPatterns.length===1&&a.type==="keydown"&&o.executeShortcutAction(o.pendingPatterns[0]),o.pendingPatterns.shift()))})}add(n,o,a,c){const m=this,p=m.normalizeCommandFunc(a);return S9(k9(rn.trim(n)),_=>{const A=m.createShortcut(_,o,p,c);m.shortcuts[A.id]=A}),!0}remove(n){const o=this.createShortcut(n);return this.shortcuts[o.id]?(delete this.shortcuts[o.id],!0):!1}normalizeCommandFunc(n){const o=this,a=n;return typeof a=="string"?()=>{o.editor.execCommand(a,!1,null)}:rn.isArray(a)?()=>{o.editor.execCommand(a[0],a[1],a[2])}:a}createShortcut(n,o,a,c){const m=rn.map(k9(n,">"),Zue);return m[m.length-1]=rn.extend(m[m.length-1],{func:a,scope:c||this.editor}),rn.extend(m[0],{desc:this.editor.translate(o),subpatterns:m.slice(1)})}hasModifier(n){return n.altKey||n.ctrlKey||n.metaKey}isFunctionKey(n){return n.type==="keydown"&&n.keyCode>=112&&n.keyCode<=123}matchShortcut(n,o){return!o||o.ctrl!==n.ctrlKey||o.meta!==n.metaKey||o.alt!==n.altKey||o.shift!==n.shiftKey?!1:n.keyCode===o.keyCode||n.charCode&&n.charCode===o.charCode?(n.preventDefault(),!0):!1}executeShortcutAction(n){return n.func?n.func.call(n.scope):null}}const Gue=()=>{const e={},n={},o={},a={},c={},m={},p={},_={},A=(q,X)=>(oe,ve)=>{q[oe.toLowerCase()]={...ve,type:X}},$=(q,X)=>a[q.toLowerCase()]=X;return{addButton:A(e,"button"),addGroupToolbarButton:A(e,"grouptoolbarbutton"),addToggleButton:A(e,"togglebutton"),addMenuButton:A(e,"menubutton"),addSplitButton:A(e,"splitbutton"),addMenuItem:A(n,"menuitem"),addNestedMenuItem:A(n,"nestedmenuitem"),addToggleMenuItem:A(n,"togglemenuitem"),addAutocompleter:A(o,"autocompleter"),addContextMenu:A(c,"contextmenu"),addContextToolbar:A(m,"contexttoolbar"),addContextForm:A(m,"contextform"),addSidebar:A(p,"sidebar"),addView:A(_,"views"),addIcon:$,getAll:()=>({buttons:e,menuItems:n,icons:a,popups:o,contextMenus:c,contextToolbars:m,sidebars:p,views:_})}},que=()=>{const e=Gue();return{addAutocompleter:e.addAutocompleter,addButton:e.addButton,addContextForm:e.addContextForm,addContextMenu:e.addContextMenu,addContextToolbar:e.addContextToolbar,addIcon:e.addIcon,addMenuButton:e.addMenuButton,addMenuItem:e.addMenuItem,addNestedMenuItem:e.addNestedMenuItem,addSidebar:e.addSidebar,addSplitButton:e.addSplitButton,addToggleButton:e.addToggleButton,addGroupToolbarButton:e.addGroupToolbarButton,addToggleMenuItem:e.addToggleMenuItem,addView:e.addView,getAll:e.getAll}},bC=Js.DOM,xG=rn.extend,Yue=rn.each;class g6{constructor(n,o,a){this.plugins={},this.contentCSS=[],this.contentStyles=[],this.loadedCSS={},this.isNotDirty=!1,this.composing=!1,this.destroyed=!1,this.hasHiddenInput=!1,this.iframeElement=null,this.initialized=!1,this.readonly=!1,this.removed=!1,this.startContent="",this._pendingNativeEvents=[],this._skinLoaded=!1,this._editableRoot=!0,this.editorManager=a,this.documentBaseUrl=a.documentBaseURL,xG(this,gG);const c=this;this.id=n,this.hidden=!1;const m=Pce(a.defaultOptions,o);this.options=Vue(c,m,o),h_(c);const p=this.options.get;p("deprecation_warnings")&&cz(o,m);const _=p("suffix");_&&(a.suffix=_),this.suffix=a.suffix;const A=p("base_url");A&&a._setBaseUrl(A),this.baseUri=a.baseURI;const $=S2(c);$&&(Tl.ScriptLoader._setReferrerPolicy($),Js.DOM.styleSheetLoader._setReferrerPolicy($));const q=jI(c);xe(q)&&Js.DOM.styleSheetLoader._setContentCssCors(q),fl.languageLoad=p("language_load"),fl.baseURL=a.baseURL,this.setDirty(!1),this.documentBaseURI=new Sd(ku(c),{base_uri:this.baseUri}),this.baseURI=this.baseUri,this.inline=jv(c),this.hasVisual=jc(c),this.shortcuts=new yG(this),this.editorCommands=new uG(this),yue(this);const X=p("cache_suffix");X&&(Wo.cacheSuffix=X.replace(/^[\?\&]+/,"")),this.ui={registry:que(),styleSheetLoader:void 0,show:lt,hide:lt,setEnabled:lt,isEnabled:sn},this.mode=Wue(c),a.dispatch("SetupEditor",{editor:this});const oe=cy(c);_e(oe)&&oe.call(c,c)}render(){vce(this)}focus(n){this.execCommand("mceFocus",!1,n)}hasFocus(){return xy(this)}translate(n){return Hc.translate(n)}getParam(n,o,a){const c=this.options;return c.isRegistered(n)||(xe(a)?c.register(n,{processor:a,default:o}):c.register(n,{processor:sn,default:o})),!c.isSet(n)&&!Xe(o)?o:c.get(n)}hasPlugin(n,o){return we(cf(this),n)?o?E0.get(n)!==void 0:!0:!1}nodeChanged(n){this._nodeChangeDispatcher.nodeChanged(n)}addCommand(n,o,a){this.editorCommands.addCommand(n,o,a)}addQueryStateHandler(n,o,a){this.editorCommands.addQueryStateHandler(n,o,a)}addQueryValueHandler(n,o,a){this.editorCommands.addQueryValueHandler(n,o,a)}addShortcut(n,o,a,c){this.shortcuts.add(n,o,a,c)}execCommand(n,o,a,c){return this.editorCommands.execCommand(n,o,a,c)}queryCommandState(n){return this.editorCommands.queryCommandState(n)}queryCommandValue(n){return this.editorCommands.queryCommandValue(n)}queryCommandSupported(n){return this.editorCommands.queryCommandSupported(n)}show(){const n=this;n.hidden&&(n.hidden=!1,n.inline?n.getBody().contentEditable="true":(bC.show(n.getContainer()),bC.hide(n.id)),n.load(),n.dispatch("show"))}hide(){const n=this;n.hidden||(n.save(),n.inline?(n.getBody().contentEditable="false",n===n.editorManager.focusedEditor&&(n.editorManager.focusedEditor=null)):(bC.hide(n.getContainer()),bC.setStyle(n.id,"display",n.orgDisplay)),n.hidden=!0,n.dispatch("hide"))}isHidden(){return this.hidden}setProgressState(n,o){this.dispatch("ProgressState",{state:n,time:o})}load(n={}){const o=this,a=o.getElement();if(o.removed)return"";if(a){const c={...n,load:!0},m=Tp(a)?a.value:a.innerHTML,p=o.setContent(m,c);return c.no_events||o.dispatch("LoadContent",{...c,element:a}),p}else return""}save(n={}){const o=this;let a=o.getElement();if(!a||!o.initialized||o.removed)return"";const c={...n,save:!0,element:a};let m=o.getContent(c);const p={...c,content:m};if(p.no_events||o.dispatch("SaveContent",p),p.format==="raw"&&o.dispatch("RawSaveContent",p),m=p.content,Tp(a))a.value=m;else{(n.is_removing||!o.inline)&&(a.innerHTML=m);const _=bC.getParent(o.id,"form");_&&Yue(_.elements,A=>A.name===o.id?(A.value=m,!1):!0)}return p.element=c.element=a=null,p.set_dirty!==!1&&o.setDirty(!1),m}setContent(n,o){return X4(this,n,o)}getContent(n){return LL(this,n)}insertContent(n,o){o&&(n=xG({content:n},o)),this.execCommand("mceInsertContent",!1,n)}resetContent(n){n===void 0?X4(this,this.startContent,{format:"raw"}):X4(this,n),this.undoManager.reset(),this.setDirty(!1),this.nodeChanged()}isDirty(){return!this.isNotDirty}setDirty(n){const o=!this.isNotDirty;this.isNotDirty=!n,n&&n!==o&&this.dispatch("dirty")}getContainer(){const n=this;return n.container||(n.container=n.editorContainer||bC.get(n.id+"_parent")),n.container}getContentAreaContainer(){return this.contentAreaContainer}getElement(){return this.targetElm||(this.targetElm=bC.get(this.id)),this.targetElm}getWin(){const n=this;if(!n.contentWindow){const o=n.iframeElement;o&&(n.contentWindow=o.contentWindow)}return n.contentWindow}getDoc(){const n=this;if(!n.contentDocument){const o=n.getWin();o&&(n.contentDocument=o.document)}return n.contentDocument}getBody(){var n,o;const a=this.getDoc();return(o=(n=this.bodyElement)!==null&&n!==void 0?n:a==null?void 0:a.body)!==null&&o!==void 0?o:null}convertURL(n,o,a){const c=this,m=c.options.get,p=O8(c);if(_e(p))return p.call(c,n,a,!0,o);if(!m("convert_urls")||a==="link"||j(a)&&a.nodeName==="LINK"||n.indexOf("file:")===0||n.length===0)return n;const _=new Sd(n);return _.protocol!=="http"&&_.protocol!=="https"&&_.protocol!==""?n:m("relative_urls")?c.documentBaseURI.toRelative(n):(n=c.documentBaseURI.toAbsolute(n,m("remove_script_host")),n)}addVisual(n){Nce(this,n)}setEditableRoot(n){yce(this,n)}hasEditableRoot(){return xce(this)}remove(){UL(this)}destroy(n){dz(this,n)}uploadImages(){return this.editorUpload.uploadImages()}_scanForImages(){return this.editorUpload.scanForImages()}}const Wk=Js.DOM,h6=rn.each;let wG=!1,p6,Pu=[];const b6=e=>{const n=e.type;h6(tx.get(),o=>{switch(n){case"scroll":o.dispatch("ScrollWindow",e);break;case"resize":o.dispatch("ResizeWindow",e);break}})},CG=e=>{if(e!==wG){const n=Js.DOM;e?(n.bind(window,"resize",b6),n.bind(window,"scroll",b6)):(n.unbind(window,"resize",b6),n.unbind(window,"scroll",b6)),wG=e}},_G=e=>{const n=Pu;return Pu=Ge(Pu,o=>e!==o),tx.activeEditor===e&&(tx.activeEditor=Pu.length>0?Pu[0]:null),tx.focusedEditor===e&&(tx.focusedEditor=null),n.length!==Pu.length},Xue=e=>{e&&e.initialized&&!(e.getContainer()||e.getBody()).parentNode&&(_G(e),e.unbindAllNativeEvents(),e.destroy(!0),e.removed=!0)},Jue=document.compatMode!=="CSS1Compat",tx={...C9,baseURI:null,baseURL:null,defaultOptions:{},documentBaseURL:null,suffix:null,majorVersion:"7",minorVersion:"3.0",releaseDate:"2024-08-07",i18n:Hc,activeEditor:null,focusedEditor:null,setup(){const e=this;let n="",o="",a=Sd.getDocumentBaseUrl(document.location);/^[^:]+:\/\/\/?[^\/]+\//.test(a)&&(a=a.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(a)||(a+="/"));const c=window.tinymce||window.tinyMCEPreInit;if(c)n=c.base||c.baseURL,o=c.suffix;else{const m=document.getElementsByTagName("script");for(let p=0;p<m.length;p++){const _=m[p].src||"";if(_==="")continue;const A=_.substring(_.lastIndexOf("/"));if(/tinymce(\.full|\.jquery|)(\.min|\.dev|)\.js/.test(_)){A.indexOf(".min")!==-1&&(o=".min"),n=_.substring(0,_.lastIndexOf("/"));break}}if(!n&&document.currentScript){const p=document.currentScript.src;p.indexOf(".min")!==-1&&(o=".min"),n=p.substring(0,p.lastIndexOf("/"))}}e.baseURL=new Sd(a).toAbsolute(n),e.documentBaseURL=a,e.baseURI=new Sd(e.baseURL),e.suffix=o,D7(e)},overrideDefaults(e){const n=e.base_url;n&&this._setBaseUrl(n);const o=e.suffix;o&&(this.suffix=o),this.defaultOptions=e;const a=e.plugin_base_urls;a!==void 0&&fs(a,(c,m)=>{fl.PluginManager.urls[m]=c})},init(e){const n=this;let o;const a=rn.makeMap("area base basefont br col frame hr img input isindex link meta param embed source wbr track colgroup option table tbody tfoot thead tr th td script noscript style textarea video audio iframe object menu"," "),c=(q,X)=>q.inline&&X.tagName.toLowerCase()in a,m=q=>{let X=q.id;return X||(X=Ps(q,"name").filter(oe=>!Wk.get(oe)).getOrThunk(Wk.uniqueId),q.setAttribute("id",X)),X},p=q=>{const X=e[q];if(X)return X.apply(n,[])},_=q=>Wo.browser.isIE()||Wo.browser.isEdge()?(Gw("TinyMCE does not support the browser you are using. For a list of supported browsers please see: https://www.tiny.cloud/docs/tinymce/7/support/#supportedwebbrowsers"),[]):Jue?(Gw("Failed to initialize the editor as the document is not in standards mode. TinyMCE requires standards mode."),[]):le(q.selector)?Wk.select(q.selector):xe(q.target)?[q.target]:[];let A=q=>{o=q};const $=()=>{let q=0;const X=[];let oe;const ve=(Oe,ye,Pe)=>{const Ye=new g6(Oe,ye,n);X.push(Ye),Ye.on("init",()=>{++q===oe.length&&A(X)}),Ye.targetElm=Ye.targetElm||Pe,Ye.render()};Wk.unbind(window,"ready",$),p("onpageload"),oe=nl(_(e)),rn.each(oe,Oe=>{Xue(n.get(Oe.id))}),oe=rn.grep(oe,Oe=>!n.get(Oe.id)),oe.length===0?A([]):h6(oe,Oe=>{c(e,Oe)?Gw("Could not initialize inline editor on invalid inline target element",Oe):ve(m(Oe),e,Oe)})};return Wk.bind(window,"ready",$),new Promise(q=>{o?q(o):A=X=>{q(X)}})},get(e){return arguments.length===0?Pu.slice(0):le(e)?xn(Pu,n=>n.id===e).getOr(null):R(e)&&Pu[e]?Pu[e]:null},add(e){const n=this,o=n.get(e.id);return o===e||(o===null&&Pu.push(e),CG(!0),n.activeEditor=e,n.dispatch("AddEditor",{editor:e}),p6||(p6=a=>{const c=n.dispatch("BeforeUnload");if(c.returnValue)return a.preventDefault(),a.returnValue=c.returnValue,c.returnValue},window.addEventListener("beforeunload",p6))),e},createEditor(e,n){return this.add(new g6(e,n,this))},remove(e){const n=this;let o;if(!e){for(let a=Pu.length-1;a>=0;a--)n.remove(Pu[a]);return}if(le(e)){h6(Wk.select(e),a=>{o=n.get(a.id),o&&n.remove(o)});return}return o=e,Ve(n.get(o.id))?null:(_G(o)&&n.dispatch("RemoveEditor",{editor:o}),Pu.length===0&&window.removeEventListener("beforeunload",p6),o.remove(),CG(Pu.length>0),o)},execCommand(e,n,o){var a;const c=this,m=j(o)?(a=o.id)!==null&&a!==void 0?a:o.index:o;switch(e){case"mceAddEditor":{if(!c.get(m)){const p=o.options;new g6(m,p,c).render()}return!0}case"mceRemoveEditor":{const p=c.get(m);return p&&p.remove(),!0}case"mceToggleEditor":{const p=c.get(m);return p?(p.isHidden()?p.show():p.hide(),!0):(c.execCommand("mceAddEditor",!1,o),!0)}}return c.activeEditor?c.activeEditor.execCommand(e,n,o):!1},triggerSave:()=>{h6(Pu,e=>{e.save()})},addI18n:(e,n)=>{Hc.add(e,n)},translate:e=>Hc.translate(e),setActive(e){const n=this.activeEditor;this.activeEditor!==e&&(n&&n.dispatch("deactivate",{relatedTarget:e}),e.dispatch("activate",{relatedTarget:n})),this.activeEditor=e},_setBaseUrl(e){this.baseURL=new Sd(this.documentBaseURL).toAbsolute(e.replace(/\/+$/,"")),this.baseURI=new Sd(this.baseURL)}};tx.setup();const Que=(()=>{const e=Mi(),n=m=>({items:m,types:en(m),getType:p=>Ps(m,p).getOrUndefined()}),o=m=>{e.set(m)},a=()=>e.get().getOrUndefined(),c=e.clear;return{FakeClipboardItem:n,write:o,read:a,clear:c}})(),SG=Math.min,Kk=Math.max,v6=Math.round,kG=(e,n,o)=>{let a=n.x,c=n.y;const m=e.w,p=e.h,_=n.w,A=n.h,$=(o||"").split("");return $[0]==="b"&&(c+=A),$[1]==="r"&&(a+=_),$[0]==="c"&&(c+=v6(A/2)),$[1]==="c"&&(a+=v6(_/2)),$[3]==="b"&&(c-=p),$[4]==="r"&&(a-=m),$[3]==="c"&&(c-=v6(p/2)),$[4]==="c"&&(a-=v6(m/2)),jk(a,c,m,p)},ede=(e,n,o,a)=>{for(let c=0;c<a.length;c++){const m=kG(e,n,a[c]);if(m.x>=o.x&&m.x+m.w<=o.w+o.x&&m.y>=o.y&&m.y+m.h<=o.h+o.y)return a[c]}return null},tde=(e,n,o)=>jk(e.x-n,e.y-o,e.w+n*2,e.h+o*2),nde=(e,n)=>{const o=Kk(e.x,n.x),a=Kk(e.y,n.y),c=SG(e.x+e.w,n.x+n.w),m=SG(e.y+e.h,n.y+n.h);return c-o<0||m-a<0?null:jk(o,a,c-o,m-a)},ode=(e,n,o)=>{let a=e.x,c=e.y,m=e.x+e.w,p=e.y+e.h;const _=n.x+n.w,A=n.y+n.h,$=Kk(0,n.x-a),q=Kk(0,n.y-c),X=Kk(0,m-_),oe=Kk(0,p-A);return a+=$,c+=q,o&&(m+=$,p+=q,a-=X,c-=oe),m-=X,p-=oe,jk(a,c,m-a,p-c)},jk=(e,n,o,a)=>({x:e,y:n,w:o,h:a}),sde={inflate:tde,relativePosition:kG,findBestRelativePosition:ede,intersect:nde,clamp:ode,create:jk,fromClientRect:e=>jk(e.left,e.top,e.width,e.height)},rde=(e,n,o=1e3)=>{let a=!1,c=null;const m=$=>(...q)=>{a||(a=!0,c!==null&&(clearTimeout(c),c=null),$.apply(null,q))},p=m(e),_=m(n);return{start:(...$)=>{!a&&c===null&&(c=setTimeout(()=>_.apply(null,$),o))},resolve:p,reject:_}},ide=(()=>{const e={},n={},o={};return{load:(A,$)=>{const q=`Script at URL "${$}" failed to load`,X=`Script at URL "${$}" did not call \`tinymce.Resource.add('${A}', data)\` within 1 second`;if(e[A]!==void 0)return e[A];{const oe=new Promise((ve,Oe)=>{const ye=rde(ve,Oe);n[A]=ye.resolve,Tl.ScriptLoader.loadScript($).then(()=>ye.start(X),()=>ye.reject(q))});return e[A]=oe,oe}},add:(A,$)=>{n[A]!==void 0&&(n[A]($),delete n[A]),e[A]=Promise.resolve($),o[A]=$},has:A=>A in o,get:A=>o[A],unload:A=>{delete e[A],delete o[A]}}})(),ade=()=>(()=>{let e={},n=[];const o={getItem:a=>{const c=e[a];return c||null},setItem:(a,c)=>{n.push(a),e[a]=String(c)},key:a=>n[a],removeItem:a=>{n=n.filter(c=>c===a),delete e[a]},clear:()=>{n=[],e={}},length:0};return Object.defineProperty(o,"length",{get:()=>n.length,configurable:!1,enumerable:!1}),o})();let dR;try{const e="__storage_test__";dR=window.localStorage,dR.setItem(e,e),dR.removeItem(e)}catch{dR=ade()}var lde=dR;const cde={geom:{Rect:sde},util:{Delay:Yc,Tools:rn,VK:yn,URI:Sd,EventDispatcher:w9,Observable:C9,I18n:Hc,LocalStorage:lde,ImageUploader:_z},dom:{EventUtils:Zf,TreeWalker:pa,TextSeeker:nf,DOMUtils:Js,ScriptLoader:Tl,RangeUtils:ob,Serializer:NL,StyleSheetLoader:Xm,ControlSelection:Us,BookmarkManager:qs,Selection:q4,Event:Zf.Event},html:{Styles:Jx,Entities:bh,Node:Ba,Schema:zc,DomParser:By,Writer:ST,Serializer:Hh},Env:Wo,AddOnManager:fl,Annotator:qD,Formatter:Xw,UndoManager:mM,EditorCommands:uG,WindowManager:YL,NotificationManager:sO,EditorObservable:gG,Shortcuts:yG,Editor:g6,FocusManager:vd,EditorManager:tx,DOM:Js.DOM,ScriptLoader:Tl.ScriptLoader,PluginManager:E0,ThemeManager:Cb,ModelManager:wb,IconManager:jw,Resource:ide,FakeClipboard:Que,trim:rn.trim,isArray:rn.isArray,is:rn.is,toArray:rn.toArray,makeMap:rn.makeMap,each:rn.each,map:rn.map,grep:rn.grep,inArray:rn.inArray,extend:rn.extend,walk:rn.walk,resolve:rn.resolve,explode:rn.explode,_addCacheSuffix:rn._addCacheSuffix},EG=rn.extend(tx,cde),ude=e=>{try{t.exports=e}catch{}};(e=>{window.tinymce=e,window.tinyMCE=e})(EG),ude(EG)})()}(xU)),xU.exports}var TCe=ACe();const OCe=nK(TCe);tinymce.IconManager.add("default",{icons:{"accessibility-check":'<svg width="24" height="24"><path d="M12 2a2 2 0 0 1 2 2 2 2 0 0 1-2 2 2 2 0 0 1-2-2c0-1.1.9-2 2-2Zm8 7h-5v12c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-5c0-.6-.4-1-1-1a1 1 0 0 0-1 1v5c0 .6-.4 1-1 1a1 1 0 0 1-1-1V9H4a1 1 0 1 1 0-2h16c.6 0 1 .4 1 1s-.4 1-1 1Z" fill-rule="nonzero"/></svg>',"accordion-toggle":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M12 15c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1h-6a1 1 0 0 1-1-1Z"/><path opacity=".2" fill-rule="evenodd" clip-rule="evenodd" d="M4 15c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1-1-1Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M12 19c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1h-6a1 1 0 0 1-1-1Z"/><path opacity=".2" fill-rule="evenodd" clip-rule="evenodd" d="M4 19c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1-1-1Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M12.3 7.3a1 1 0 0 1 1.4 0L16 9.6l2.3-2.3a1 1 0 1 1 1.4 1.4L16 12.4l-3.7-3.7a1 1 0 0 1 0-1.4ZM4.3 11.7a1 1 0 0 1 0-1.4L6.6 8 4.3 5.7a1 1 0 0 1 1.4-1.4L9.4 8l-3.7 3.7a1 1 0 0 1-1.4 0Z"/></svg>',accordion:'<svg width="24" height="24"><rect x="12" y="7" width="10" height="2" rx="1"/><rect x="12" y="11" width="10" height="2" rx="1"/><rect x="12" y="15" width="6" height="2" rx="1"/><path fill-rule="evenodd" clip-rule="evenodd" d="M2.3 7.3a1 1 0 0 1 1.4 0L6 9.6l2.3-2.3a1 1 0 0 1 1.4 1.4L6 12.4 2.3 8.7a1 1 0 0 1 0-1.4Z"/></svg>',"action-next":'<svg width="24" height="24"><path fill-rule="nonzero" d="M5.7 7.3a1 1 0 0 0-1.4 1.4l7.7 7.7 7.7-7.7a1 1 0 1 0-1.4-1.4L12 13.6 5.7 7.3Z"/></svg>',"action-prev":'<svg width="24" height="24"><path fill-rule="nonzero" d="M18.3 15.7a1 1 0 0 0 1.4-1.4L12 6.6l-7.7 7.7a1 1 0 0 0 1.4 1.4L12 9.4l6.3 6.3Z"/></svg>',addtag:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M15 5a2 2 0 0 1 1.6.8L21 12l-4.4 6.2a2 2 0 0 1-1.6.8h-3v-2h3l3.5-5L15 7H5v3H3V7c0-1.1.9-2 2-2h10Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M6 12a1 1 0 0 0-1 1v2H3a1 1 0 1 0 0 2h2v2a1 1 0 1 0 2 0v-2h2a1 1 0 1 0 0-2H7v-2c0-.6-.4-1-1-1Z"/></svg>',"ai-prompt":'<svg width="24" height="24"><g clip-path="url(#a)"><path fill-rule="evenodd" clip-rule="evenodd" d="M15 6.7a1 1 0 0 0-1.4 0l-9.9 10a1 1 0 0 0 0 1.3l2.1 2.1c.4.4 1 .4 1.4 0l10-9.9c.3-.3.3-1 0-1.4l-2.2-2Zm1.4 2.8-2-2-3 2.7 2.2 2.2 2.8-2.9Z"/><path d="m18.5 7.3-.7-1.5-1.5-.8 1.5-.7.7-1.5.7 1.5 1.5.7-1.5.8-.7 1.5ZM18.5 16.5l-.7-1.6-1.5-.7 1.5-.7.7-1.6.7 1.6 1.5.7-1.5.7-.7 1.6ZM9.7 7.3 9 5.8 7.5 5 9 4.3l.7-1.5.7 1.5L12 5l-1.5.8-.7 1.5Z"/></g><defs><clipPath id="a"><path d="M0 0h24v24H0z"/></clipPath></defs></svg>',ai:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M5 3a3 3 0 0 0-3 3v12a3 3 0 0 0 3 3h14a3 3 0 0 0 3-3V6a3 3 0 0 0-3-3H5Zm6.8 11.5.5 1.2a68.3 68.3 0 0 0 .7 1.1l.4.1c.3 0 .5 0 .7-.3.2-.1.3-.3.3-.6l-.3-1-2.6-6.2a20.4 20.4 0 0 0-.5-1.3l-.5-.4-.7-.2c-.2 0-.5 0-.6.2-.2 0-.4.2-.5.4l-.3.6-.3.7L5.7 15l-.2.6-.1.4c0 .3 0 .5.3.7l.6.2c.3 0 .5 0 .7-.2l.4-1 .5-1.2h3.9ZM9.8 9l1.5 4h-3l1.5-4Zm5.6-.9v7.6c0 .4 0 .7.2 1l.7.2c.3 0 .6 0 .8-.3l.2-.9V8.1c0-.4 0-.7-.2-.9a1 1 0 0 0-.8-.3c-.2 0-.5.1-.7.3l-.2 1Z"/></svg>',"align-center":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm3 4h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 1 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm-3-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"align-justify":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"align-left":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Zm0-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"align-none":'<svg width="24" height="24"><path d="M14.2 5 13 7H5a1 1 0 1 1 0-2h9.2Zm4 0h.8a1 1 0 0 1 0 2h-2l1.2-2Zm-6.4 4-1.2 2H5a1 1 0 0 1 0-2h6.8Zm4 0H19a1 1 0 0 1 0 2h-4.4l1.2-2Zm-6.4 4-1.2 2H5a1 1 0 0 1 0-2h4.4Zm4 0H19a1 1 0 0 1 0 2h-6.8l1.2-2ZM7 17l-1.2 2H5a1 1 0 0 1 0-2h2Zm4 0h8a1 1 0 0 1 0 2H9.8l1.2-2Zm5.2-13.5 1.3.7-9.7 16.3-1.3-.7 9.7-16.3Z" fill-rule="evenodd"/></svg>',"align-right":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm6 4h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm-6-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"arrow-left":'<svg width="24" height="24"><path d="m5.6 13 12 6a1 1 0 0 0 1.4-1V6a1 1 0 0 0-1.4-.9l-12 6a1 1 0 0 0 0 1.8Z" fill-rule="evenodd"/></svg>',"arrow-right":'<svg width="24" height="24"><path d="m18.5 13-12 6A1 1 0 0 1 5 18V6a1 1 0 0 1 1.4-.9l12 6a1 1 0 0 1 0 1.8Z" fill-rule="evenodd"/></svg>',bold:'<svg width="24" height="24"><path d="M7.8 19c-.3 0-.5 0-.6-.2l-.2-.5V5.7c0-.2 0-.4.2-.5l.6-.2h5c1.5 0 2.7.3 3.5 1 .7.6 1.1 1.4 1.1 2.5a3 3 0 0 1-.6 1.9c-.4.6-1 1-1.6 1.2.4.1.9.3 1.3.6s.8.7 1 1.2c.4.4.5 1 .5 1.6 0 1.3-.4 2.3-1.3 3-.8.7-2.1 1-3.8 1H7.8Zm5-8.3c.6 0 1.2-.1 1.6-.5.4-.3.6-.7.6-1.3 0-1.1-.8-1.7-2.3-1.7H9.3v3.5h3.4Zm.5 6c.7 0 1.3-.1 1.7-.4.4-.4.6-.9.6-1.5s-.2-1-.7-1.4c-.4-.3-1-.4-2-.4H9.4v3.8h4Z" fill-rule="evenodd"/></svg>',bookmark:'<svg width="24" height="24"><path d="M6 4v17l6-4 6 4V4c0-.6-.4-1-1-1H7a1 1 0 0 0-1 1Z" fill-rule="nonzero"/></svg>',"border-style":'<svg width="24" height="24"><g fill-rule="evenodd"><rect width="18" height="2" x="3" y="6" rx="1"/><rect width="2.8" height="2" x="3" y="16" rx="1"/><rect width="2.8" height="2" x="6.8" y="16" rx="1"/><rect width="2.8" height="2" x="10.6" y="16" rx="1"/><rect width="2.8" height="2" x="14.4" y="16" rx="1"/><rect width="2.8" height="2" x="18.2" y="16" rx="1"/><rect width="8" height="2" x="3" y="11" rx="1"/><rect width="8" height="2" x="13" y="11" rx="1"/></g></svg>',"border-width":'<svg width="24" height="24"><g fill-rule="evenodd"><rect width="18" height="5" x="3" y="5" rx="1"/><rect width="18" height="3.5" x="3" y="11.5" rx="1"/><rect width="18" height="2" x="3" y="17" rx="1"/></g></svg>',brightness:'<svg width="24" height="24"><path d="M12 17c.3 0 .5.1.7.3.2.2.3.4.3.7v1c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7v-1c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3Zm0-10a1 1 0 0 1-.7-.3A1 1 0 0 1 11 6V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7v1c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3Zm7 4c.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-1a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h1ZM7 12c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3H5a1 1 0 0 1-.7-.3A1 1 0 0 1 4 12c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h1c.3 0 .5.1.7.3.2.2.3.4.3.7Zm10 3.5.7.8c.2.1.3.4.3.6 0 .3-.1.6-.3.8a1 1 0 0 1-.8.3 1 1 0 0 1-.6-.3l-.8-.7a1 1 0 0 1-.3-.8c0-.2.1-.5.3-.7a1 1 0 0 1 1.4 0Zm-10-7-.7-.8a1 1 0 0 1-.3-.6c0-.3.1-.6.3-.8.2-.2.5-.3.8-.3.2 0 .5.1.7.3l.7.7c.2.2.3.5.3.8 0 .2-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.8-.3Zm10 0a1 1 0 0 1-.8.3 1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.3.1-.6.3-.8l.8-.7c.1-.2.4-.3.6-.3.3 0 .6.1.8.3.2.2.3.5.3.8 0 .2-.1.5-.3.7l-.7.7Zm-10 7c.2-.2.5-.3.8-.3.2 0 .5.1.7.3a1 1 0 0 1 0 1.4l-.8.8a1 1 0 0 1-.6.3 1 1 0 0 1-.8-.3 1 1 0 0 1-.3-.8c0-.2.1-.5.3-.6l.7-.8ZM12 8a4 4 0 0 1 3.7 2.4 4 4 0 0 1 0 3.2A4 4 0 0 1 12 16a4 4 0 0 1-3.7-2.4 4 4 0 0 1 0-3.2A4 4 0 0 1 12 8Zm0 6.5c.7 0 1.3-.2 1.8-.7.5-.5.7-1.1.7-1.8s-.2-1.3-.7-1.8c-.5-.5-1.1-.7-1.8-.7s-1.3.2-1.8.7c-.5.5-.7 1.1-.7 1.8s.2 1.3.7 1.8c.5.5 1.1.7 1.8.7Z" fill-rule="evenodd"/></svg>',browse:'<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2h-4v-2h4V8H5v10h4v2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9.4-2.3 2.3a1 1 0 1 1-1.4-1.4l4-4a1 1 0 0 1 1.4 0l4 4a1 1 0 0 1-1.4 1.4L13 13.4V20a1 1 0 0 1-2 0v-6.6Z" fill-rule="nonzero"/></svg>',cancel:'<svg width="24" height="24"><path d="M12 4.6a7.4 7.4 0 1 1 0 14.8 7.4 7.4 0 0 1 0-14.8ZM12 3a9 9 0 1 0 0 18 9 9 0 0 0 0-18Zm0 8L14.8 8l1 1.1-2.7 2.8 2.7 2.7-1.1 1.1-2.7-2.7-2.7 2.7-1-1.1 2.6-2.7-2.7-2.7 1-1.1 2.8 2.7Z" fill-rule="nonzero"/></svg>',"cell-background-color":'<svg width="24" height="24"><path d="m15.7 2 1.6 1.6-2.7 2.6 5.9 5.8c.7.7.7 1.7 0 2.4l-6.3 6.1a1.7 1.7 0 0 1-2.4 0l-6.3-6.1c-.7-.7-.7-1.7 0-2.4L15.7 2ZM18 12l-4.5-4L9 12h9ZM4 16s2 2.4 2 3.8C6 21 5.1 22 4 22s-2-1-2-2.2C2 18.4 4 16 4 16Z"/></svg>',"cell-border-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M5 13v5h2v2H5a2 2 0 0 1-2-2v-5h2zm8-7V4h6a2 2 0 0 1 2 2h-8z" opacity=".2"/><path fill-rule="nonzero" d="M13 4v2H5v7H3V6c0-1.1.9-2 2-2h8zm-2.6 14.1.1-.1.1.1.2.3.2.2.2.2c.4.6.8 1.2.8 1.7 0 .8-.7 1.5-1.5 1.5S9 21.3 9 20.5c0-.5.4-1.1.8-1.7l.2-.2.2-.2.2-.3z"/><path d="m13 11-2 2H5v-2h6V6h2z"/><path fill-rule="nonzero" d="m18.4 8 1 1-1.8 1.9 4 4c.5.4.5 1.1 0 1.6l-4.3 4.2a1.2 1.2 0 0 1-1.6 0l-4.4-4.2c-.4-.5-.4-1.2 0-1.7l7-6.8Zm1.6 7-3-3-3 3h6Z"/></g></svg>',"change-case":'<svg width="24" height="24"><path d="M18.4 18.2v-.6c-.5.8-1.3 1.2-2.4 1.2-2.2 0-3.3-1.6-3.3-4.8 0-3.1 1-4.7 3.3-4.7 1.1 0 1.8.3 2.4 1.1v-.6c0-.5.4-.8.8-.8s.8.3.8.8v8.4c0 .5-.4.8-.8.8a.8.8 0 0 1-.8-.8zm-2-7.4c-1.3 0-1.8.9-1.8 3.2 0 2.4.5 3.3 1.7 3.3 1.3 0 1.8-.9 1.8-3.2 0-2.4-.5-3.3-1.7-3.3zM10 15.7H5.5l-.8 2.6a1 1 0 0 1-1 .7h-.2a.7.7 0 0 1-.7-1l4-12a1 1 0 0 1 2 0l4 12a.7.7 0 0 1-.8 1h-.2a1 1 0 0 1-1-.7l-.8-2.6zm-.3-1.5-2-6.5-1.9 6.5h3.9z" fill-rule="evenodd"/></svg>',"character-count":'<svg width="24" height="24"><path d="M4 11.5h16v1H4v-1Zm4.8-6.8V10H7.7V5.8h-1v-1h2ZM11 8.3V9h2v1h-3V7.7l2-1v-.9h-2v-1h3v2.4l-2 1Zm6.3-3.4V10h-3.1V9h2.1V8h-2.1V6.8h2.1v-1h-2.1v-1h3.1ZM5.8 16.4c0-.5.2-.8.5-1 .2-.2.6-.3 1.2-.3l.8.1c.2 0 .4.2.5.3l.4.4v2.8l.2.3H8.2V18.7l-.6.3H7c-.4 0-.7 0-1-.2a1 1 0 0 1-.3-.9c0-.3 0-.6.3-.8.3-.2.7-.4 1.2-.4l.6-.2h.3v-.2l-.1-.2a.8.8 0 0 0-.5-.1 1 1 0 0 0-.4 0l-.3.4h-1Zm2.3.8h-.2l-.2.1-.4.1a1 1 0 0 0-.4.2l-.2.2.1.3.5.1h.4l.4-.4v-.6Zm2-3.4h1.2v1.7l.5-.3h.5c.5 0 .9.1 1.2.5.3.4.5.8.5 1.4 0 .6-.2 1.1-.5 1.5-.3.4-.7.6-1.3.6l-.6-.1-.4-.4v.4h-1.1v-5.4Zm1.1 3.3c0 .3 0 .6.2.8a.7.7 0 0 0 1.2 0l.2-.8c0-.4 0-.6-.2-.8a.7.7 0 0 0-.6-.3l-.6.3-.2.8Zm6.1-.5c0-.2 0-.3-.2-.4a.8.8 0 0 0-.5-.2c-.3 0-.5.1-.6.3l-.2.9c0 .3 0 .6.2.8.1.2.3.3.6.3.2 0 .4 0 .5-.2l.2-.4h1.1c0 .5-.3.8-.6 1.1a2 2 0 0 1-1.3.4c-.5 0-1-.2-1.3-.6a2 2 0 0 1-.5-1.4c0-.6.1-1.1.5-1.5.3-.4.8-.5 1.4-.5.5 0 1 0 1.2.3.4.3.5.7.5 1.2h-1v-.1Z" fill-rule="evenodd"/></svg>',"checklist-rtl":'<svg width="24" height="24"><path d="M5 17h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2zm14.2 11c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 8c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8z" fill-rule="evenodd"/></svg>',checklist:'<svg width="24" height="24"><path d="M11 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2h-8a1 1 0 0 1 0-2ZM7.2 16c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 8c-.2.3-.7.4-1 0L3.8 6.9a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Z" fill-rule="evenodd"/></svg>',checkmark:'<svg width="24" height="24"><path d="M18.2 5.4a1 1 0 0 1 1.6 1.2l-8 12a1 1 0 0 1-1.5.1l-5-5a1 1 0 1 1 1.4-1.4l4.1 4.1 7.4-11Z" fill-rule="nonzero"/></svg>',"chevron-down":'<svg width="10" height="10"><path d="M8.7 2.2c.3-.3.8-.3 1 0 .4.4.4.9 0 1.2L5.7 7.8c-.3.3-.9.3-1.2 0L.2 3.4a.8.8 0 0 1 0-1.2c.3-.3.8-.3 1.1 0L5 6l3.7-3.8Z" fill-rule="nonzero"/></svg>',"chevron-left":'<svg width="10" height="10"><path d="M7.8 1.3 4 5l3.8 3.7c.3.3.3.8 0 1-.4.4-.9.4-1.2 0L2.2 5.7a.8.8 0 0 1 0-1.2L6.6.2C7 0 7.4 0 7.8.2c.3.3.3.8 0 1.1Z" fill-rule="nonzero"/></svg>',"chevron-right":'<svg width="10" height="10"><path d="M2.2 1.3a.8.8 0 0 1 0-1c.4-.4.9-.4 1.2 0l4.4 4.1c.3.4.3.9 0 1.2L3.4 9.8c-.3.3-.8.3-1.2 0a.8.8 0 0 1 0-1.1L6 5 2.2 1.3Z" fill-rule="nonzero"/></svg>',"chevron-up":'<svg width="10" height="10"><path d="M8.7 7.8 5 4 1.3 7.8c-.3.3-.8.3-1 0a.8.8 0 0 1 0-1.2l4.1-4.4c.3-.3.9-.3 1.2 0l4.2 4.4c.3.3.3.9 0 1.2-.3.3-.8.3-1.1 0Z" fill-rule="nonzero"/></svg>',close:'<svg width="24" height="24"><path d="M17.3 8.2 13.4 12l3.9 3.8a1 1 0 0 1-1.5 1.5L12 13.4l-3.8 3.9a1 1 0 0 1-1.5-1.5l3.9-3.8-3.9-3.8a1 1 0 0 1 1.5-1.5l3.8 3.9 3.8-3.9a1 1 0 0 1 1.5 1.5Z" fill-rule="evenodd"/></svg>',"code-sample":'<svg width="24" height="26"><path d="M7.1 11a2.8 2.8 0 0 1-.8 2 2.8 2.8 0 0 1 .8 2v1.7c0 .3.1.6.4.8.2.3.5.4.8.4.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.7 0-1.4-.3-2-.8-.5-.6-.8-1.3-.8-2V15c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 0 1-.4-.4v-.8c0-.2.2-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V9.3c0-.7.3-1.4.8-2 .6-.5 1.3-.8 2-.8.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8V11Zm9.8 0V9.3c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 0 1-.4-.4V7c0-.2.1-.4.4-.4.7 0 1.4.3 2 .8.5.6.8 1.3.8 2V11c0 .3.1.6.4.8.2.3.5.4.8.4.2 0 .4.2.4.4v.8c0 .2-.2.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8v1.7c0 .7-.3 1.4-.8 2-.6.5-1.3.8-2 .8a.4.4 0 0 1-.4-.4v-.8c0-.2.1-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V15a2.8 2.8 0 0 1 .8-2 2.8 2.8 0 0 1-.8-2Zm-3.3-.4c0 .4-.1.8-.5 1.1-.3.3-.7.5-1.1.5-.4 0-.8-.2-1.1-.5-.4-.3-.5-.7-.5-1.1 0-.5.1-.9.5-1.2.3-.3.7-.4 1.1-.4.4 0 .8.1 1.1.4.4.3.5.7.5 1.2ZM12 13c.4 0 .8.1 1.1.5.4.3.5.7.5 1.1 0 1-.1 1.6-.5 2a3 3 0 0 1-1.1 1c-.4.3-.8.4-1.1.4a.5.5 0 0 1-.5-.5V17a3 3 0 0 0 1-.2l.6-.6c-.6 0-1-.2-1.3-.5-.2-.3-.3-.7-.3-1 0-.5.1-1 .5-1.2.3-.4.7-.5 1.1-.5Z" fill-rule="evenodd"/></svg>',"color-levels":'<svg width="24" height="24"><path d="M17.5 11.4A9 9 0 0 1 18 14c0 .5 0 1-.2 1.4 0 .4-.3.9-.5 1.3a6.2 6.2 0 0 1-3.7 3 5.7 5.7 0 0 1-3.2 0A5.9 5.9 0 0 1 7.6 18a6.2 6.2 0 0 1-1.4-2.6 6.7 6.7 0 0 1 0-2.8c0-.4.1-.9.3-1.3a13.6 13.6 0 0 1 2.3-4A20 20 0 0 1 12 4a26.4 26.4 0 0 1 3.2 3.4 18.2 18.2 0 0 1 2.3 4Zm-2 4.5c.4-.7.5-1.4.5-2a7.3 7.3 0 0 0-1-3.2c.2.6.2 1.2.2 1.9a4.5 4.5 0 0 1-1.3 3 5.3 5.3 0 0 1-2.3 1.5 4.9 4.9 0 0 1-2 .1 4.3 4.3 0 0 0 2.4.8 4 4 0 0 0 2-.6 4 4 0 0 0 1.5-1.5Z" fill-rule="evenodd"/></svg>',"color-picker":'<svg width="24" height="24"><path d="M12 3a9 9 0 0 0 0 18 1.5 1.5 0 0 0 1.1-2.5c-.2-.3-.4-.6-.4-1 0-.8.7-1.5 1.5-1.5H16a5 5 0 0 0 5-5c0-4.4-4-8-9-8Zm-5.5 9a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm3-4a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm5 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm3 4a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Z" fill-rule="nonzero"/></svg>',"color-swatch-remove-color":'<svg width="24" height="24"><path stroke="#000" stroke-width="2" d="M21 3 3 21" fill-rule="evenodd"/></svg>',"color-swatch":'<svg width="24" height="24"><rect x="3" y="3" width="18" height="18" rx="1" fill-rule="evenodd"/></svg>',"comment-add":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="m9 19 3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 0 0-1 1v10c0 .6.4 1 1 1h4v2Zm-2 4v-4H5a3 3 0 0 1-3-3V6a3 3 0 0 1 3-3h14a3 3 0 0 1 3 3v10a3 3 0 0 1-3 3h-6.4L7 23Z"/><path d="M13 10h2a1 1 0 0 1 0 2h-2v2a1 1 0 0 1-2 0v-2H9a1 1 0 0 1 0-2h2V8a1 1 0 0 1 2 0v2Z"/></g></svg>',comment:'<svg width="24" height="24"><path fill-rule="nonzero" d="m9 19 3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 0 0-1 1v10c0 .6.4 1 1 1h4v2Zm-2 4v-4H5a3 3 0 0 1-3-3V6a3 3 0 0 1 3-3h14a3 3 0 0 1 3 3v10a3 3 0 0 1-3 3h-6.4L7 23Z"/></svg>',contrast:'<svg width="24" height="24"><path d="M12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4Zm-6 8a6 6 0 0 0 6 6V6a6 6 0 0 0-6 6Z" fill-rule="evenodd"/></svg>',copy:'<svg width="24" height="24"><path d="M16 3H6a2 2 0 0 0-2 2v11h2V5h10V3Zm1 4a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-7a2 2 0 0 1-2-2V9c0-1.2.9-2 2-2h7Zm0 12V9h-7v10h7Z" fill-rule="nonzero"/></svg>',crop:'<svg width="24" height="24"><path d="M17 8v7h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v2c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-2H7V9H5a1 1 0 1 1 0-2h2V5c0-.6.4-1 1-1s1 .4 1 1v2h7l3-3 1 1-3 3ZM9 9v5l5-5H9Zm1 6h5v-5l-5 5Z" fill-rule="evenodd"/></svg>',"cut-column":'<svg width="24" height="24"><path fill-rule="evenodd" d="M7.2 4.5c.9 0 1.6.4 2.2 1A3.7 3.7 0 0 1 10.5 8v.5l1 1 4-4 1-.5a3.3 3.3 0 0 1 2 0c.4 0 .7.3 1 .5L17 8h4v13h-6V10l-1.5 1.5.5.5v4l-2.5-2.5-1 1v.5c0 .4 0 .8-.3 1.2-.2.5-.4.9-.8 1.2-.6.7-1.3 1-2.2 1-.8.2-1.5 0-2-.6l-.5-.8-.2-1c0-.4 0-.8.3-1.2A3.9 3.9 0 0 1 7 12.7c.5-.2 1-.3 1.5-.2l1-1-1-1c-.5 0-1 0-1.5-.2-.5-.1-1-.4-1.4-.9-.4-.3-.6-.7-.8-1.2L4.5 7c0-.4 0-.7.2-1 0-.3.3-.6.5-.8.5-.5 1.2-.8 2-.7Zm12.3 5h-3v10h3v-10ZM8 13.8h-.3l-.4.2a2.8 2.8 0 0 0-.7.4v.1a2.8 2.8 0 0 0-.6.8l-.1.4v.7l.2.5.5.2h.7a2.6 2.6 0 0 0 .8-.3 2.4 2.4 0 0 0 .7-.7 2.5 2.5 0 0 0 .3-.8 1.5 1.5 0 0 0 0-.8 1 1 0 0 0-.2-.4 1 1 0 0 0-.5-.2H8Zm3.5-3.7c-.4 0-.7.1-1 .4-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4ZM7 5.8h-.4a1 1 0 0 0-.5.3 1 1 0 0 0-.2.5v.7a2.5 2.5 0 0 0 .3.8l.2.3h.1l.4.4.4.2.4.1h.7L9 9l.2-.4a1.6 1.6 0 0 0 0-.8 2.6 2.6 0 0 0-.3-.8A2.5 2.5 0 0 0 7.7 6l-.4-.1H7Z"/></svg>',"cut-row":'<svg width="24" height="24"><path fill-rule="evenodd" d="M22 3v5H9l3 3 2-2h4l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8.7.6 1 1.3 1 2.2.2.8 0 1.5-.6 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 0 1-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 0 1 8.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 0 1 0-2c0-.4.3-.7.5-1l2 2V3h14ZM8.5 15.3h-.3a2.6 2.6 0 0 0-.8.4 2.5 2.5 0 0 0-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 0 0 .8-.3L9 18V18l.4-.4.2-.4.1-.4v-.7a1 1 0 0 0-.2-.5 1 1 0 0 0-.4-.2h-.5Zm7 0H15a1 1 0 0 0-.4.3 1 1 0 0 0-.2.5 1.5 1.5 0 0 0 0 .7v.4a2.8 2.8 0 0 0 .5.7h.1a2.8 2.8 0 0 0 .8.6l.4.1h.7l.5-.2.2-.5v-.7a2.6 2.6 0 0 0-.3-.8 2.4 2.4 0 0 0-.7-.7 2.5 2.5 0 0 0-.8-.3h-.3ZM12 11.6c-.4 0-.7.1-1 .4-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4Zm8.5-7.1h-11v2h11v-2Z"/></svg>',cut:'<svg width="24" height="24"><path d="M18 15c.6.7 1 1.4 1 2.3 0 .8-.2 1.5-.7 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 0 1-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 0 1 8.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 0 1 0-2c0-.4.3-.7.5-1l6 6 6-6 .5 1a3.3 3.3 0 0 1 0 2c0 .4-.3.7-.5 1l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8Zm-8.5 2.2.1-.4v-.7a1 1 0 0 0-.2-.5 1 1 0 0 0-.4-.2 1.6 1.6 0 0 0-.8 0 2.6 2.6 0 0 0-.8.3 2.5 2.5 0 0 0-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 0 0 .8-.3 2.8 2.8 0 0 0 1-1Zm2.5-2.8c.4 0 .7-.1 1-.4.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4s-.7.1-1 .4c-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4Zm5.4 4 .2-.5v-.7a2.6 2.6 0 0 0-.3-.8 2.4 2.4 0 0 0-.7-.7 2.5 2.5 0 0 0-.8-.3 1.5 1.5 0 0 0-.8 0 1 1 0 0 0-.4.2 1 1 0 0 0-.2.5 1.5 1.5 0 0 0 0 .7v.4l.3.4.3.4a2.8 2.8 0 0 0 .8.5l.4.1h.7l.5-.2Z" fill-rule="evenodd"/></svg>',"document-properties":'<svg width="24" height="24"><path d="M14.4 3H7a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h10a2 2 0 0 0 2-2V7.6L14.4 3ZM17 19H7V5h6v4h4v10Z" fill-rule="nonzero"/></svg>',drag:'<svg width="24" height="24"><path d="M13 5h2v2h-2V5Zm0 4h2v2h-2V9ZM9 9h2v2H9V9Zm4 4h2v2h-2v-2Zm-4 0h2v2H9v-2Zm0 4h2v2H9v-2Zm4 0h2v2h-2v-2ZM9 5h2v2H9V5Z" fill-rule="evenodd"/></svg>',"duplicate-column":'<svg width="24" height="24"><path d="M17 6v16h-7V6h7Zm-2 2h-3v12h3V8Zm-2-6v2H8v15H6V2h7Z"/></svg>',"duplicate-row":'<svg width="24" height="24"><path d="M22 11v7H6v-7h16Zm-2 2H8v3h12v-3Zm-1-6v2H4v5H2V7h17Z"/></svg>',duplicate:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M16 3v2H6v11H4V5c0-1.1.9-2 2-2h10Zm3 8h-2V9h-7v10h9a2 2 0 0 1-2 2h-7a2 2 0 0 1-2-2V9c0-1.2.9-2 2-2h7a2 2 0 0 1 2 2v2Z"/><path d="M17 14h1a1 1 0 0 1 0 2h-1v1a1 1 0 0 1-2 0v-1h-1a1 1 0 0 1 0-2h1v-1a1 1 0 0 1 2 0v1Z"/></g></svg>',"edit-block":'<svg width="24" height="24"><path fill-rule="nonzero" d="m19.8 8.8-9.4 9.4c-.2.2-.5.4-.9.4l-5.4 1.2 1.2-5.4.5-.8 9.4-9.4c.7-.7 1.8-.7 2.5 0l2.1 2.1c.7.7.7 1.8 0 2.5Zm-2-.2 1-.9v-.3l-2.2-2.2a.3.3 0 0 0-.3 0l-1 1L18 8.5Zm-1 1-2.5-2.4-6 6 2.5 2.5 6-6Zm-7 7.1-2.6-2.4-.3.3-.1.2-.7 3 3.1-.6h.1l.4-.5Z"/></svg>',"edit-image":'<svg width="24" height="24"><path d="M18 16h2V7a2 2 0 0 0-2-2H7v2h11v9ZM6 17h15a1 1 0 0 1 0 2h-1v1a1 1 0 0 1-2 0v-1H6a2 2 0 0 1-2-2V7H3a1 1 0 1 1 0-2h1V4a1 1 0 1 1 2 0v13Zm3-5.3 1.3 2 3-4.7 3.7 6H7l2-3.3Z" fill-rule="nonzero"/></svg>',"embed-page":'<svg width="24" height="24"><path d="M19 6V5H5v14h2A13 13 0 0 1 19 6Zm0 1.4c-.8.8-1.6 2.4-2.2 4.6H19V7.4Zm0 5.6h-2.4c-.4 1.8-.6 3.8-.6 6h3v-6Zm-4 6c0-2.2.2-4.2.6-6H13c-.7 1.8-1.1 3.8-1.1 6h3Zm-4 0c0-2.2.4-4.2 1-6H9.6A12 12 0 0 0 8 19h3ZM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm11.8 9c.4-1.9 1-3.4 1.8-4.5a9.2 9.2 0 0 0-4 4.5h2.2Zm-3.4 0a12 12 0 0 1 2.8-4 12 12 0 0 0-5 4h2.2Z" fill-rule="nonzero"/></svg>',embed:'<svg width="24" height="24"><path d="M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm1 2v14h14V5H5Zm4.8 2.6 5.6 4a.5.5 0 0 1 0 .8l-5.6 4A.5.5 0 0 1 9 16V8a.5.5 0 0 1 .8-.4Z" fill-rule="nonzero"/></svg>',emoji:'<svg width="24" height="24"><path d="M9 11c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 0 0-1 1c0 .6.4 1 1 1Zm6 0c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 0 0-1 1c0 .6.4 1 1 1Zm-3 5.5c2.1 0 4-1.5 4.4-3.5H7.6c.5 2 2.3 3.5 4.4 3.5ZM12 4a8 8 0 1 0 0 16 8 8 0 0 0 0-16Zm0 14.5a6.5 6.5 0 1 1 0-13 6.5 6.5 0 0 1 0 13Z" fill-rule="nonzero"/></svg>',export:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M14.4 3 18 7v1h-5V5H7v14h9a1 1 0 0 1 2 0c0 1-.8 2-1.9 2H7c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2h7.5Z"/><path d="M18.1 12c.5 0 .9.4.9 1 0 .5-.3 1-.8 1h-7.3c-.5 0-.9-.4-.9-1 0-.5.3-1 .8-1h7.3Z"/><path d="M16.4 9.2a1 1 0 0 1 1.4.2l2.4 3.6-2.4 3.6a1 1 0 0 1-1.7-1v-.2l1.7-2.4-1.6-2.4a1 1 0 0 1 .2-1.4Z"/></g></svg>',fill:'<svg width="24" height="26"><path d="m16.6 12-9-9-1.4 1.4 2.4 2.4-5.2 5.1c-.5.6-.5 1.6 0 2.2L9 19.6a1.5 1.5 0 0 0 2.2 0l5.5-5.5c.5-.6.5-1.6 0-2.2ZM5.2 13 10 8.2l4.8 4.8H5.2ZM19 14.5s-2 2.2-2 3.5c0 1.1.9 2 2 2a2 2 0 0 0 2-2c0-1.3-2-3.5-2-3.5Z" fill-rule="nonzero"/></svg>',"flip-horizontally":'<svg width="24" height="24"><path d="M14 19h2v-2h-2v2Zm4-8h2V9h-2v2ZM4 7v10c0 1.1.9 2 2 2h3v-2H6V7h3V5H6a2 2 0 0 0-2 2Zm14-2v2h2a2 2 0 0 0-2-2Zm-7 16h2V3h-2v18Zm7-6h2v-2h-2v2Zm-4-8h2V5h-2v2Zm4 12a2 2 0 0 0 2-2h-2v2Z" fill-rule="nonzero"/></svg>',"flip-vertically":'<svg width="24" height="24"><path d="M5 14v2h2v-2H5Zm8 4v2h2v-2h-2Zm4-14H7a2 2 0 0 0-2 2v3h2V6h10v3h2V6a2 2 0 0 0-2-2Zm2 14h-2v2a2 2 0 0 0 2-2ZM3 11v2h18v-2H3Zm6 7v2h2v-2H9Zm8-4v2h2v-2h-2ZM5 18c0 1.1.9 2 2 2v-2H5Z" fill-rule="nonzero"/></svg>',footnote:'<svg width="24" height="24"><path d="M19 13c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2h14Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M19 4v6h-1V5h-1.5V4h2.6Z"/><path d="M12 18c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2h7ZM14 8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2h9Z"/></svg>',"format-code":'<svg width="24" height="24"><path d="m10 22 2-7H6l9-13h2l-2 8h7L12 22h-2ZM6 2h7l-1.4 2H6V2Zm4.2 4H4v2h4.8l1.4-2Zm-2.7 4H2v2h4l1.5-2Z"/></svg>',"format-painter":'<svg width="24" height="24"><path d="M18 5V4c0-.5-.4-1-1-1H5a1 1 0 0 0-1 1v4c0 .6.5 1 1 1h12c.6 0 1-.4 1-1V7h1v4H9v9c0 .6.4 1 1 1h2c.6 0 1-.4 1-1v-7h8V5h-3Z" fill-rule="nonzero"/></svg>',format:'<svg width="24" height="24"><path fill-rule="evenodd" d="M17 5a1 1 0 0 1 0 2h-4v11a1 1 0 0 1-2 0V7H7a1 1 0 1 1 0-2h10Z"/></svg>',fullscreen:'<svg width="24" height="24"><path d="m15.3 10-1.2-1.3 2.9-3h-2.3a.9.9 0 1 1 0-1.7H19c.5 0 .9.4.9.9v4.4a.9.9 0 1 1-1.8 0V7l-2.9 3Zm0 4 3 3v-2.3a.9.9 0 1 1 1.7 0V19c0 .5-.4.9-.9.9h-4.4a.9.9 0 1 1 0-1.8H17l-3-2.9 1.3-1.2ZM10 15.4l-2.9 3h2.3a.9.9 0 1 1 0 1.7H5a.9.9 0 0 1-.9-.9v-4.4a.9.9 0 1 1 1.8 0V17l2.9-3 1.2 1.3ZM8.7 10 5.7 7v2.3a.9.9 0 0 1-1.7 0V5c0-.5.4-.9.9-.9h4.4a.9.9 0 0 1 0 1.8H7l3 2.9-1.3 1.2Z" fill-rule="nonzero"/></svg>',gallery:'<svg width="24" height="24"><path fill-rule="nonzero" d="m5 15.7 2.3-2.2c.3-.3.7-.3 1 0L11 16l5.1-5c.3-.4.8-.4 1 0l2 1.9V8H5v7.7ZM5 18V19h3l1.8-1.9-2-2L5 17.9Zm14-3-2.5-2.4-6.4 6.5H19v-4ZM4 6h16c.6 0 1 .4 1 1v13c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V7c0-.6.4-1 1-1Zm6 7a2 2 0 1 1 0-4 2 2 0 0 1 0 4ZM4.5 4h15a.5.5 0 1 1 0 1h-15a.5.5 0 0 1 0-1Zm2-2h11a.5.5 0 1 1 0 1h-11a.5.5 0 0 1 0-1Z"/></svg>',gamma:'<svg width="24" height="24"><path d="M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm1 2v14h14V5H5Zm6.5 11.8V14L9.2 8.7a5.1 5.1 0 0 0-.4-.8l-.1-.2H8v-1l.3-.1.3-.1h.7a1 1 0 0 1 .6.5l.1.3a8.5 8.5 0 0 1 .3.6l1.9 4.6 2-5.2a1 1 0 0 1 1-.6.5.5 0 0 1 .5.6L13 14v2.8a.7.7 0 0 1-1.4 0Z" fill-rule="nonzero"/></svg>',help:'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M12 5.5a6.5 6.5 0 0 0-6 9 6.3 6.3 0 0 0 1.4 2l1 1a6.3 6.3 0 0 0 3.6 1 6.5 6.5 0 0 0 6-9 6.3 6.3 0 0 0-1.4-2l-1-1a6.3 6.3 0 0 0-3.6-1ZM12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4Z"/><path d="M9.6 9.7a.7.7 0 0 1-.7-.8c0-1.1 1.5-1.8 3.2-1.8 1.8 0 3.2.8 3.2 2.4 0 1.4-.4 2.1-1.5 2.8-.2 0-.3.1-.3.2a2 2 0 0 0-.8.8.8.8 0 0 1-1.4-.6c.3-.7.8-1 1.3-1.5l.4-.2c.7-.4.8-.6.8-1.5 0-.5-.6-.9-1.7-.9-.5 0-1 .1-1.4.3-.2 0-.3.1-.3.2v-.2c0 .4-.4.8-.8.8Z" fill-rule="nonzero"/><circle cx="12" cy="16" r="1"/></g></svg>',"highlight-bg-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path class="tox-icon-highlight-bg-color__color" d="M3 18h18v3H3z"/><path fill-rule="nonzero" d="M7.7 16.7H3l3.3-3.3-.7-.8L10.2 8l4 4.1-4 4.2c-.2.2-.6.2-.8 0l-.6-.7-1.1 1.1zm5-7.5L11 7.4l3-2.9a2 2 0 0 1 2.6 0L18 6c.7.7.7 2 0 2.7l-2.9 2.9-1.8-1.8-.5-.6"/></g></svg>',home:'<svg width="24" height="24"><path fill-rule="nonzero" d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/></svg>',"horizontal-rule":'<svg width="24" height="24"><path d="M4 11h16v2H4z" fill-rule="evenodd"/></svg>',"image-options":'<svg width="24" height="24"><path d="M6 10a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm12 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm-6 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Z" fill-rule="nonzero"/></svg>',image:'<svg width="24" height="24"><path d="m5 15.7 3.3-3.2c.3-.3.7-.3 1 0L12 15l4.1-4c.3-.4.8-.4 1 0l2 1.9V5H5v10.7ZM5 18V19h3l2.8-2.9-2-2L5 17.9Zm14-3-2.5-2.4-6.4 6.5H19v-4ZM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm6 8a2 2 0 1 0 0-4 2 2 0 0 0 0 4Z" fill-rule="nonzero"/></svg>',indent:'<svg width="24" height="24"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 1 1 0-2Zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm-5 4h12a1 1 0 0 1 0 2H7a1 1 0 0 1 0-2Zm-2.6-3.8L6.2 12l-1.8-1.2a1 1 0 0 1 1.2-1.6l3 2a1 1 0 0 1 0 1.6l-3 2a1 1 0 1 1-1.2-1.6Z" fill-rule="evenodd"/></svg>',info:'<svg width="24" height="24"><path d="M12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4Zm-1 3v2h2V7h-2Zm3 10v-1h-1v-5h-3v1h1v4h-1v1h4Z" fill-rule="evenodd"/></svg>',"insert-character":'<svg width="24" height="24"><path d="M15 18h4l1-2v4h-6v-3.3l1.4-1a6 6 0 0 0 1.8-2.9 6.3 6.3 0 0 0-.1-4.1 5.8 5.8 0 0 0-3-3.2c-.6-.3-1.3-.5-2.1-.5a5.1 5.1 0 0 0-3.9 1.8 6.3 6.3 0 0 0-1.3 6 6.2 6.2 0 0 0 1.8 3l1.4.9V20H4v-4l1 2h4v-.5l-2-1L5.4 15A6.5 6.5 0 0 1 4 11c0-1 .2-1.9.6-2.7A7 7 0 0 1 6.3 6C7.1 5.4 8 5 9 4.5c1-.3 2-.5 3.1-.5a8.8 8.8 0 0 1 5.7 2 7 7 0 0 1 1.7 2.3 6 6 0 0 1 .2 4.8c-.2.7-.6 1.3-1 1.9a7.6 7.6 0 0 1-3.6 2.5v.5Z" fill-rule="evenodd"/></svg>',"insert-time":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M12 19a7 7 0 1 0 0-14 7 7 0 0 0 0 14Zm0 2a9 9 0 1 1 0-18 9 9 0 0 1 0 18Z"/><path d="M16 12h-3V7c0-.6-.4-1-1-1a1 1 0 0 0-1 1v7h5c.6 0 1-.4 1-1s-.4-1-1-1Z"/></g></svg>',invert:'<svg width="24" height="24"><path d="M18 19.3 16.5 18a5.8 5.8 0 0 1-3.1 1.9 6.1 6.1 0 0 1-5.5-1.6A5.8 5.8 0 0 1 6 14v-.3l.1-1.2A13.9 13.9 0 0 1 7.7 9l-3-3 .7-.8 2.8 2.9 9 8.9 1.5 1.6-.7.6Zm0-5.5v.3l-.1 1.1-.4 1-1.2-1.2a4.3 4.3 0 0 0 .2-1v-.2c0-.4 0-.8-.2-1.3l-.5-1.4a14.8 14.8 0 0 0-3-4.2L12 6a26.1 26.1 0 0 0-2.2 2.5l-1-1a20.9 20.9 0 0 1 2.9-3.3L12 4l1 .8a22.2 22.2 0 0 1 4 5.4c.6 1.2 1 2.4 1 3.6Z" fill-rule="evenodd"/></svg>',italic:'<svg width="24" height="24"><path d="m16.7 4.7-.1.9h-.3c-.6 0-1 0-1.4.3-.3.3-.4.6-.5 1.1l-2.1 9.8v.6c0 .5.4.8 1.4.8h.2l-.2.8H8l.2-.8h.2c1.1 0 1.8-.5 2-1.5l2-9.8.1-.5c0-.6-.4-.8-1.4-.8h-.3l.2-.9h5.8Z" fill-rule="evenodd"/></svg>',language:'<svg width="24" height="24"><path d="M12 3a9 9 0 1 1 0 18 9 9 0 0 1 0-18Zm4.3 13.3c-.5 1-1.2 2-2 2.9a7.5 7.5 0 0 0 3.2-2.1l-.2-.2a6 6 0 0 0-1-.6Zm-8.6 0c-.5.2-.9.5-1.2.8.9 1 2 1.7 3.2 2a10 10 0 0 1-2-2.8Zm3.6-.8c-.8 0-1.6.1-2.2.3.5 1 1.2 1.9 2.1 2.7Zm1.5 0v3c.9-.8 1.6-1.7 2.1-2.7-.6-.2-1.4-.3-2.1-.3Zm-6-2.7H4.5c.2 1 .5 2.1 1 3h.3l1.3-1a10 10 0 0 1-.3-2Zm12.7 0h-2.3c0 .7-.1 1.4-.3 2l1.6 1.1c.5-1 .9-2 1-3.1Zm-3.8 0h-3V14c1 0 2 .1 2.7.4.2-.5.3-1 .3-1.6Zm-4.4 0h-3l.3 1.6c.8-.3 1.7-.4 2.7-.4v-1.3Zm-5.5-5c-.7 1-1.1 2.2-1.3 3.5h2.3c0-1 .2-1.8.5-2.6l-1.5-1Zm2.9 1.4v.1c-.2.6-.4 1.3-.4 2h3V9.4c-1 0-1.8-.1-2.6-.3Zm6.6 0h-.1l-2.4.3v1.8h3l-.5-2.1Zm3-1.4-.3.1-1.3.8c.3.8.5 1.6.5 2.6h2.3a7.5 7.5 0 0 0-1.3-3.5Zm-9 0 2 .2V5.5a9 9 0 0 0-2 2.2Zm3.5-2.3V8c.6 0 1.3 0 1.9-.2a9 9 0 0 0-2-2.3Zm-3-.7h-.1c-1.1.4-2.1 1-3 1.8l1.2.7a10 10 0 0 1 1.9-2.5Zm4.4 0 .1.1a10 10 0 0 1 1.8 2.4l1.1-.7a7.5 7.5 0 0 0-3-1.8Z"/></svg>',"line-height":'<svg width="24" height="24"><path d="M21 5a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zM7 3.6l3.7 3.7a1 1 0 0 1-1.3 1.5h-.1L8 7.3v9.2l1.3-1.3a1 1 0 0 1 1.3 0h.1c.4.4.4 1 0 1.3v.1L7 20.4l-3.7-3.7a1 1 0 0 1 1.3-1.5h.1L6 16.7V7.4L4.7 8.7a1 1 0 0 1-1.3 0h-.1a1 1 0 0 1 0-1.3v-.1L7 3.6z"/></svg>',line:'<svg width="24" height="24"><path d="m15 9-8 8H4v-3l8-8 3 3Zm1-1-3-3 1-1h1c-.2 0 0 0 0 0l2 2s0 .2 0 0v1l-1 1ZM4 18h16v2H4v-2Z" fill-rule="evenodd"/></svg>',link:'<svg width="24" height="24"><path d="M6.2 12.3a1 1 0 0 1 1.4 1.4l-2 2a2 2 0 1 0 2.6 2.8l4.8-4.8a1 1 0 0 0 0-1.4 1 1 0 1 1 1.4-1.3 2.9 2.9 0 0 1 0 4L9.6 20a3.9 3.9 0 0 1-5.5-5.5l2-2Zm11.6-.6a1 1 0 0 1-1.4-1.4l2-2a2 2 0 1 0-2.6-2.8L11 10.3a1 1 0 0 0 0 1.4A1 1 0 1 1 9.6 13a2.9 2.9 0 0 1 0-4L14.4 4a3.9 3.9 0 0 1 5.5 5.5l-2 2Z" fill-rule="nonzero"/></svg>',"list-bull-circle":'<svg width="48" height="48"><g fill-rule="evenodd"><path d="M11 16a2 2 0 1 0 0-4 2 2 0 0 0 0 4Zm0 1a3 3 0 1 1 0-6 3 3 0 0 1 0 6ZM11 26a2 2 0 1 0 0-4 2 2 0 0 0 0 4Zm0 1a3 3 0 1 1 0-6 3 3 0 0 1 0 6ZM11 36a2 2 0 1 0 0-4 2 2 0 0 0 0 4Zm0 1a3 3 0 1 1 0-6 3 3 0 0 1 0 6Z" fill-rule="nonzero"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-bull-default":'<svg width="48" height="48"><g fill-rule="evenodd"><circle cx="11" cy="14" r="3"/><circle cx="11" cy="24" r="3"/><circle cx="11" cy="34" r="3"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-bull-square":'<svg width="48" height="48"><g fill-rule="evenodd"><path d="M8 11h6v6H8zM8 21h6v6H8zM8 31h6v6H8z"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-num-default-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M37.4 17v-4.8h-.1l-1.5 1v-1.1l1.6-1.1h1.2v6zM33.3 17.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm1.7 5.7c0-1.2 1-2 2.2-2 1.3 0 2.1.8 2.1 1.8 0 .7-.3 1.2-1.3 2.2l-1.2 1v.2h2.6v1h-4.3v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H35zm-1.7 4.3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm3.2 7.3v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H35c0-1.1 1-1.8 2.2-1.8 1.2 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.7.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .6 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7zm-3.3 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7z"/></g></svg>',"list-num-default":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10 17v-4.8l-1.5 1v-1.1l1.6-1h1.2V17h-1.2Zm3.6.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm-5 5.7c0-1.2.8-2 2.1-2s2.1.8 2.1 1.8c0 .7-.3 1.2-1.4 2.2l-1.1 1v.2h2.6v1H8.6v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H8.5Zm6.3 4.3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM10 34.4v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H8.6c0-1.1 1-1.8 2.2-1.8 1.3 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.8.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .7 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7Zm4.7 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7Z"/></g></svg>',"list-num-lower-alpha-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M36.5 16c-.9 0-1.5-.5-1.5-1.3s.6-1.3 1.8-1.4h1v-.4c0-.4-.2-.6-.7-.6-.4 0-.7.1-.8.4h-1.1c0-.8.8-1.4 2-1.4S39 12 39 13V16h-1.2v-.6c-.3.4-.8.7-1.4.7Zm.4-.8c.6 0 1-.4 1-.9V14h-1c-.5.1-.7.3-.7.6 0 .4.3.6.7.6ZM33.1 16.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7ZM37.7 26c-.7 0-1.2-.2-1.5-.7v.7H35v-6.3h1.2v2.5c.3-.5.8-.9 1.5-.9 1.1 0 1.8 1 1.8 2.4 0 1.5-.7 2.4-1.8 2.4Zm-.5-3.6c-.6 0-1 .5-1 1.3s.4 1.4 1 1.4c.7 0 1-.6 1-1.4 0-.8-.3-1.3-1-1.3ZM33.2 26.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7zm6 7h-1c-.1-.5-.4-.8-1-.8s-1 .5-1 1.4c0 1 .4 1.4 1 1.4.5 0 .9-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7zm-6.1 3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-lower-alpha":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10.3 15.2c.5 0 1-.4 1-.9V14h-1c-.5.1-.8.3-.8.6 0 .4.3.6.8.6Zm-.4.9c-1 0-1.5-.6-1.5-1.4 0-.8.6-1.3 1.7-1.4h1.1v-.4c0-.4-.2-.6-.7-.6-.5 0-.8.1-.9.4h-1c0-.8.8-1.4 2-1.4 1.1 0 1.8.6 1.8 1.6V16h-1.1v-.6h-.1c-.2.4-.7.7-1.3.7Zm4.6 0c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-3.2 10c-.6 0-1.2-.3-1.4-.8v.7H8.5v-6.3H10v2.5c.3-.5.8-.9 1.4-.9 1.2 0 1.9 1 1.9 2.4 0 1.5-.7 2.4-1.9 2.4Zm-.4-3.7c-.7 0-1 .5-1 1.3s.3 1.4 1 1.4c.6 0 1-.6 1-1.4 0-.8-.4-1.3-1-1.3Zm4 3.7c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-2.2 7h-1.2c0-.5-.4-.8-.9-.8-.6 0-1 .5-1 1.4 0 1 .4 1.4 1 1.4.5 0 .8-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7Zm1.8 3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-lower-greek-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M37.4 16c-1.2 0-2-.8-2-2.3 0-1.5.8-2.4 2-2.4.6 0 1 .4 1.3 1v-.9H40v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1-.7h-.2c-.2.4-.7.8-1.3.8Zm.3-1c.6 0 1-.5 1-1.3s-.4-1.3-1-1.3-1 .5-1 1.3.4 1.4 1 1.4ZM33.3 16.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM36 21.9c0-1.5.8-2.3 2.1-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.9 1.3.9.3 1.3.8 1.3 1.7 0 1.2-.7 1.9-1.8 1.9-.6 0-1.1-.3-1.4-.8v2.2H36V22Zm1.8 1.2v-1h.3c.5 0 .9-.2.9-.7 0-.5-.3-.8-.9-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1 1.3s1-.4 1-1-.4-1-1.2-1h-.3ZM33.3 26.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM37.1 34.6 34.8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.2.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2Zm.7 1a2 2 0 0 0-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1ZM33.3 36.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-lower-greek":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10.5 15c.7 0 1-.5 1-1.3s-.3-1.3-1-1.3c-.5 0-.9.5-.9 1.3s.4 1.4 1 1.4Zm-.3 1c-1.1 0-1.8-.8-1.8-2.3 0-1.5.7-2.4 1.8-2.4.7 0 1.1.4 1.3 1h.1v-.9h1.2v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1.1-.7h-.1c-.2.4-.7.8-1.4.8Zm5 .1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7Zm-4.9 7v-1h.3c.6 0 1-.2 1-.7 0-.5-.4-.8-1-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1.1 1.3.6 0 1-.4 1-1s-.5-1-1.3-1h-.3ZM8.6 22c0-1.5.7-2.3 2-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.8 1.3.8.3 1.3.8 1.3 1.7 0 1.2-.8 1.9-1.9 1.9-.6 0-1.1-.3-1.3-.8v2.2H8.5V22Zm6.2 4.2c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm-4.5 8.5L8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.1.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2Zm.7 1a2 2 0 0 0-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1Zm4.5.5c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-lower-roman-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M32.9 16v-1.2h-1.3V16H33Zm0 10v-1.2h-1.3V26H33Zm0 10v-1.2h-1.3V36H33Z"/><path fill-rule="nonzero" d="M36 21h-1.5v5H36zM36 31h-1.5v5H36zM39 21h-1.5v5H39zM39 31h-1.5v5H39zM42 31h-1.5v5H42zM36 11h-1.5v5H36zM36 19h-1.5v1H36zM36 29h-1.5v1H36zM39 19h-1.5v1H39zM39 29h-1.5v1H39zM42 29h-1.5v1H42zM36 9h-1.5v1H36z"/></g></svg>',"list-num-lower-roman":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M15.1 16v-1.2h1.3V16H15Zm0 10v-1.2h1.3V26H15Zm0 10v-1.2h1.3V36H15Z"/><path fill-rule="nonzero" d="M12 21h1.5v5H12zM12 31h1.5v5H12zM9 21h1.5v5H9zM9 31h1.5v5H9zM6 31h1.5v5H6zM12 11h1.5v5H12zM12 19h1.5v1H12zM12 29h1.5v1H12zM9 19h1.5v1H9zM9 29h1.5v1H9zM6 29h1.5v1H6zM12 9h1.5v1H12z"/></g></svg>',"list-num-upper-alpha-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="m39.3 17-.5-1.4h-2l-.5 1.4H35l2-6h1.6l2 6h-1.3Zm-1.6-4.7-.7 2.3h1.6l-.8-2.3ZM33.4 17c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm4.7 9.9h-2.7v-6H38c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7Zm-1.4-5v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1Zm0 4h1.1c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9h-1.1V26ZM33 27.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm4.9 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2Zm-4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-upper-alpha":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="m12.6 17-.5-1.4h-2L9.5 17H8.3l2-6H12l2 6h-1.3ZM11 12.3l-.7 2.3h1.6l-.8-2.3Zm4.7 4.8c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7ZM11.4 27H8.7v-6h2.6c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7ZM10 22v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1Zm0 4H11c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9H10V26Zm5.4 1.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-4.1 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2Zm4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-upper-roman-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M31.6 17v-1.2H33V17h-1.3Zm0 10v-1.2H33V27h-1.3Zm0 10v-1.2H33V37h-1.3Z"/><path fill-rule="nonzero" d="M34.5 20H36v7h-1.5zM34.5 30H36v7h-1.5zM37.5 20H39v7h-1.5zM37.5 30H39v7h-1.5zM40.5 30H42v7h-1.5zM34.5 10H36v7h-1.5z"/></g></svg>',"list-num-upper-roman":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M15.1 17v-1.2h1.3V17H15Zm0 10v-1.2h1.3V27H15Zm0 10v-1.2h1.3V37H15Z"/><path fill-rule="nonzero" d="M12 20h1.5v7H12zM12 30h1.5v7H12zM9 20h1.5v7H9zM9 30h1.5v7H9zM6 30h1.5v7H6zM12 10h1.5v7H12z"/></g></svg>',lock:'<svg width="24" height="24"><path d="M16.3 11c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H8V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h.3ZM10 8v3h4V8a1 1 0 0 0-.3-.7A1 1 0 0 0 13 7h-2a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7Z" fill-rule="evenodd"/></svg>',ltr:'<svg width="24" height="24"><path d="M11 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 7.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L11 5ZM4.4 16.2 6.2 15l-1.8-1.2a1 1 0 0 1 1.2-1.6l3 2a1 1 0 0 1 0 1.6l-3 2a1 1 0 1 1-1.2-1.6Z" fill-rule="evenodd"/></svg>',"math-equation":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M9 4.8c.1-.5.5-.8 1-.8h10a1 1 0 1 1 0 2h-9.2L8.3 19.2a1 1 0 0 1-1.7.4l-3.4-4.2a1 1 0 0 1 1.6-1.2l2 2.5L9 4.8Zm9.7 5.5c.4.4.4 1 0 1.4L17 13.5l1.8 1.8a1 1 0 1 1-1.4 1.4L15.5 15l-1.8 1.8a1 1 0 0 1-1.4-1.4l1.8-1.8-1.8-1.8a1 1 0 0 1 1.4-1.4l1.8 1.8 1.8-1.8a1 1 0 0 1 1.4 0Z"/></svg>',minus:'<svg width="24" height="24"><path d="M19 11a1 1 0 0 1 .1 2H5a1 1 0 0 1-.1-2H19Z"/></svg>',"more-drawer":'<svg width="24" height="24"><path d="M6 10a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm12 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm-6 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Z" fill-rule="nonzero"/></svg>',"new-document":'<svg width="24" height="24"><path d="M14.4 3H7a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h10a2 2 0 0 0 2-2V7.6L14.4 3ZM17 19H7V5h6v4h4v10Z" fill-rule="nonzero"/></svg>',"new-tab":'<svg width="24" height="24"><path d="m15 13 2-2v8H5V7h8l-2 2H7v8h8v-4Zm4-8v5.5l-2-2-5.6 5.5H10v-1.4L15.5 7l-2-2H19Z" fill-rule="evenodd"/></svg>',"non-breaking":'<svg width="24" height="24"><path d="M11 11H8a1 1 0 1 1 0-2h3V6c0-.6.4-1 1-1s1 .4 1 1v3h3c.6 0 1 .4 1 1s-.4 1-1 1h-3v3c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-3Zm10 4v5H3v-5c0-.6.4-1 1-1s1 .4 1 1v3h14v-3c0-.6.4-1 1-1s1 .4 1 1Z" fill-rule="evenodd"/></svg>',notice:'<svg width="24" height="24"><path d="M15.5 4 20 8.5v7L15.5 20h-7L4 15.5v-7L8.5 4h7ZM13 17v-2h-2v2h2Zm0-4V7h-2v6h2Z" fill-rule="evenodd" clip-rule="evenodd"/></svg>',"ordered-list-rtl":'<svg width="24" height="24"><path d="M6 17h8a1 1 0 0 1 0 2H6a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2H6a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2H6a1 1 0 1 1 0-2Zm13-1v3.5a.5.5 0 1 1-1 0V5h-.5a.5.5 0 1 1 0-1H19Zm-1 8.8.2.2h1.3a.5.5 0 1 1 0 1h-1.6a1 1 0 0 1-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 0 0-.2-.2h-1.3a.5.5 0 0 1-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3Zm2 4.2v2c0 .6-.4 1-1 1h-1.5a.5.5 0 0 1 0-1h1.2a.3.3 0 1 0 0-.6h-1.3a.4.4 0 1 1 0-.8h1.3a.3.3 0 0 0 0-.6h-1.2a.5.5 0 1 1 0-1H19c.6 0 1 .4 1 1Z" fill-rule="evenodd"/></svg>',"ordered-list":'<svg width="24" height="24"><path d="M10 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 1 1 0-2ZM6 4v3.5c0 .3-.2.5-.5.5a.5.5 0 0 1-.5-.5V5h-.5a.5.5 0 0 1 0-1H6Zm-1 8.8.2.2h1.3c.3 0 .5.2.5.5s-.2.5-.5.5H4.9a1 1 0 0 1-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 0 0-.2-.2H4.5a.5.5 0 0 1-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3ZM7 17v2c0 .6-.4 1-1 1H4.5a.5.5 0 0 1 0-1h1.2c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.4a.4.4 0 1 1 0-.8h1.3c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.5a.5.5 0 1 1 0-1H6c.6 0 1 .4 1 1Z" fill-rule="evenodd"/></svg>',orientation:'<svg width="24" height="24"><path d="M7.3 6.4 1 13l6.4 6.5 6.5-6.5-6.5-6.5ZM3.7 13l3.6-3.7L11 13l-3.7 3.7-3.6-3.7ZM12 6l2.8 2.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0L9.2 5.7a.8.8 0 0 1 0-1.2L13.6.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L12 4h1a9 9 0 1 1-4.3 16.9l1.5-1.5A7 7 0 1 0 13 6h-1Z" fill-rule="nonzero"/></svg>',outdent:'<svg width="24" height="24"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 1 1 0-2Zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm-5 4h12a1 1 0 0 1 0 2H7a1 1 0 0 1 0-2Zm1.6-3.8a1 1 0 0 1-1.2 1.6l-3-2a1 1 0 0 1 0-1.6l3-2a1 1 0 0 1 1.2 1.6L6.8 12l1.8 1.2Z" fill-rule="evenodd"/></svg>',"export-pdf":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M7 3h7.4L19 7.6V17h-2V9h-4V5H7v3H5V5c0-1.1.9-2 2-2Z"/><path d="M2.6 15.2v-1.9h1c.6 0 1-.2 1.4-.5.3-.3.5-.7.5-1.2s-.2-.9-.5-1.2a2 2 0 0 0-1.3-.4H1v5.2h1.6Zm.4-3h-.4v-1.1h.5l.6.1.2.5c0 .1 0 .3-.2.4l-.7.1Zm5.7 3 1-.1c.3 0 .5-.2.7-.4l.5-.8c.2-.3.2-.7.2-1.3v-1l-.5-.8c-.2-.3-.4-.5-.7-.6L8.7 10H6.3v5.2h2.4Zm-.4-1.1H8v-3h.4c.5 0 .8.2 1 .4l.2 1.1-.1 1-.3.3-.8.2Zm5.3 1.2V13h2v-1h-2v-1H16V10h-4v5.2h1.6Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M15 17a1 1 0 1 0-2 0v3.1l-1.4-1a1 1 0 1 0-1.2 1.7l3.6 2.4 3.6-2.4a1 1 0 0 0-1.2-1.6l-1.4 1V17Z"/></svg>',"export-word":'<svg width="24" height="24"><path d="M9.5 7A1.5 1.5 0 0 1 11 8.4v7.1A1.5 1.5 0 0 1 9.6 17H2.5A1.5 1.5 0 0 1 1 15.6V8.5A1.5 1.5 0 0 1 2.4 7h7.1Zm-1 2.8-1 2.6-1-2.5v-.1a.6.6 0 0 0-1 0l-.1.1-.9 2.5-1-2.5v-.1a.6.6 0 0 0-1 .4v.1l1.5 4v.1a.6.6 0 0 0 1 0v-.1l1-2.5.9 2.5v.1a.6.6 0 0 0 1 0H8l1.6-4v-.2a.6.6 0 0 0-1.1-.4Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M7 3h7.4L19 7.6V17h-2V9h-4V5H5c0-1.1.9-2 2-2ZM15 17a1 1 0 1 0-2 0v3.1l-1.4-1a1 1 0 1 0-1.2 1.7l3.6 2.4 3.6-2.4a1 1 0 0 0-1.2-1.6l-1.4 1V17Z"/></svg>',"import-word":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M7 3h7.4L19 7.6V15h-2V9h-4V5H5c0-1.1.9-2 2-2Z"/><path d="M9.5 7A1.5 1.5 0 0 1 11 8.4v7.1A1.5 1.5 0 0 1 9.6 17H2.5A1.5 1.5 0 0 1 1 15.6V8.5A1.5 1.5 0 0 1 2.4 7h7.1Zm-1 2.8-1 2.6-1-2.5v-.1a.6.6 0 0 0-1 0l-.1.1-.9 2.5-1-2.5v-.1a.6.6 0 0 0-1 .4v.1l1.5 4v.1a.6.6 0 0 0 1 0v-.1l1-2.5.9 2.5v.1a.6.6 0 0 0 1 0H8l1.6-4v-.2a.6.6 0 0 0-1.1-.4Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M11.4 18.2a1 1 0 0 0 1.2 1.6l1.4-1V22a1 1 0 1 0 2 0v-3.1l1.4 1a1 1 0 0 0 1.2-1.7L15 15.8l-3.6 2.4Z"/></svg>',"page-break":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M5 11c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1h-1a1 1 0 0 1 0-2Zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2ZM7 3v5h10V3c0-.6.4-1 1-1s1 .4 1 1v7H5V3c0-.6.4-1 1-1s1 .4 1 1ZM6 22a1 1 0 0 1-1-1v-7h14v7c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-5H7v5c0 .6-.4 1-1 1Z"/></g></svg>',paragraph:'<svg width="24" height="24"><path fill-rule="evenodd" d="M10 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 6.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L10 5Z"/></svg>',"paste-column-after":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V7h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h7v2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm8 7v12h-6V8h6Zm-1.5 1.5h-3v9h3v-9ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-column-before":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V18c0 1-.8 2-1.9 2H11v-2h7V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v2H4V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm-2 7v12H4V8h6ZM8.5 9.5h-3v9h3v-9ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-row-after":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V11h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h14c0 1-.8 2-1.9 2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm10 11v5H8v-5h14Zm-1.5 1.5h-11v2h11v-2ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-row-before":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V7h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h12v-4h2v4c0 1-.8 2-1.9 2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm10 7v5H8V8h14Zm-1.5 1.5h-11v2h11v-2ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-text":'<svg width="24" height="24"><path d="M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h3V9h9ZM9 20H6a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0 1 12 1a3 3 0 0 1 2.8 2H18a2 2 0 0 1 2 2v4h1v12H9v-1Zm1.5-9.5v9h9v-9h-9ZM12 3a1 1 0 0 0-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1Zm0 9h6v2h-.5l-.5-1h-1v4h.8v1h-3.6v-1h.8v-4h-1l-.5 1H12v-2Z" fill-rule="nonzero"/></svg>',paste:'<svg width="24" height="24"><path d="M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h3V9h9ZM9 20H6a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0 1 12 1a3 3 0 0 1 2.8 2H18a2 2 0 0 1 2 2v4h1v12H9v-1Zm1.5-9.5v9h9v-9h-9ZM12 3a1 1 0 0 0-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1Z" fill-rule="nonzero"/></svg>',"permanent-pen":'<svg width="24" height="24"><path d="M10.5 17.5 8 20H3v-3l3.5-3.5a2 2 0 0 1 0-3L14 3l1 1-7.3 7.3a1 1 0 0 0 0 1.4l3.6 3.6c.4.4 1 .4 1.4 0L20 9l1 1-7.6 7.6a2 2 0 0 1-2.8 0l-.1-.1Z" fill-rule="nonzero"/></svg>',plus:'<svg width="24" height="24"><path d="M12 4c.5 0 1 .4 1 .9V11h6a1 1 0 0 1 .1 2H13v6a1 1 0 0 1-2 .1V13H5a1 1 0 0 1-.1-2H11V5c0-.6.4-1 1-1Z"/></svg>',preferences:'<svg width="24" height="24"><path d="m20.1 13.5-1.9.2a5.8 5.8 0 0 1-.6 1.5l1.2 1.5c.4.4.3 1 0 1.4l-.7.7a1 1 0 0 1-1.4 0l-1.5-1.2a6.2 6.2 0 0 1-1.5.6l-.2 1.9c0 .5-.5.9-1 .9h-1a1 1 0 0 1-1-.9l-.2-1.9a5.8 5.8 0 0 1-1.5-.6l-1.5 1.2a1 1 0 0 1-1.4 0l-.7-.7a1 1 0 0 1 0-1.4l1.2-1.5a6.2 6.2 0 0 1-.6-1.5l-1.9-.2a1 1 0 0 1-.9-1v-1c0-.5.4-1 .9-1l1.9-.2a5.8 5.8 0 0 1 .6-1.5L5.2 7.3a1 1 0 0 1 0-1.4l.7-.7a1 1 0 0 1 1.4 0l1.5 1.2a6.2 6.2 0 0 1 1.5-.6l.2-1.9c0-.5.5-.9 1-.9h1c.5 0 1 .4 1 .9l.2 1.9a5.8 5.8 0 0 1 1.5.6l1.5-1.2a1 1 0 0 1 1.4 0l.7.7c.3.4.4 1 0 1.4l-1.2 1.5a6.2 6.2 0 0 1 .6 1.5l1.9.2c.5 0 .9.5.9 1v1c0 .5-.4 1-.9 1ZM12 15a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z" fill-rule="evenodd"/></svg>',preview:'<svg width="24" height="24"><path d="M3.5 12.5c.5.8 1.1 1.6 1.8 2.3 2 2 4.2 3.2 6.7 3.2s4.7-1.2 6.7-3.2a16.2 16.2 0 0 0 2.1-2.8 15.7 15.7 0 0 0-2.1-2.8c-2-2-4.2-3.2-6.7-3.2a9.3 9.3 0 0 0-6.7 3.2A16.2 16.2 0 0 0 3.2 12c0 .2.2.3.3.5Zm-2.4-1 .7-1.2L4 7.8C6.2 5.4 8.9 4 12 4c3 0 5.8 1.4 8.1 3.8a18.2 18.2 0 0 1 2.8 3.7v1l-.7 1.2-2.1 2.5c-2.3 2.4-5 3.8-8.1 3.8-3 0-5.8-1.4-8.1-3.8a18.2 18.2 0 0 1-2.8-3.7 1 1 0 0 1 0-1Zm12-3.3a2 2 0 1 0 2.7 2.6 4 4 0 1 1-2.6-2.6Z" fill-rule="nonzero"/></svg>',print:'<svg width="24" height="24"><path d="M18 8H6a3 3 0 0 0-3 3v6h2v3h14v-3h2v-6a3 3 0 0 0-3-3Zm-1 10H7v-4h10v4Zm.5-5c-.8 0-1.5-.7-1.5-1.5s.7-1.5 1.5-1.5 1.5.7 1.5 1.5-.7 1.5-1.5 1.5Zm.5-8H6v2h12V5Z" fill-rule="nonzero"/></svg>',quote:'<svg width="24" height="24"><path d="M7.5 17h.9c.4 0 .7-.2.9-.6L11 13V8c0-.6-.4-1-1-1H6a1 1 0 0 0-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 0 0 .8 1.3Zm8 0h.9c.4 0 .7-.2.9-.6L19 13V8c0-.6-.4-1-1-1h-4a1 1 0 0 0-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 0 0 .8 1.3Z" fill-rule="nonzero"/></svg>',redo:'<svg width="24" height="24"><path d="M17.6 10H12c-2.8 0-4.4 1.4-4.9 3.5-.4 2 .3 4 1.4 4.6a1 1 0 1 1-1 1.8c-2-1.2-2.9-4.1-2.3-6.8.6-3 3-5.1 6.8-5.1h5.6l-3.3-3.3a1 1 0 1 1 1.4-1.4l5 5a1 1 0 0 1 0 1.4l-5 5a1 1 0 0 1-1.4-1.4l3.3-3.3Z" fill-rule="nonzero"/></svg>',reload:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="m5 22.1-1.2-4.7v-.2a1 1 0 0 1 1-1l5 .4a1 1 0 1 1-.2 2l-2.2-.2a7.8 7.8 0 0 0 8.4.2 7.5 7.5 0 0 0 3.5-6.4 1 1 0 1 1 2 0 9.5 9.5 0 0 1-4.5 8 9.9 9.9 0 0 1-10.2 0l.4 1.4a1 1 0 1 1-2 .5ZM13.6 7.4c0-.5.5-1 1-.9l2.8.2a8 8 0 0 0-9.5-1 7.5 7.5 0 0 0-3.6 7 1 1 0 0 1-2 0 9.5 9.5 0 0 1 4.5-8.6 10 10 0 0 1 10.9.3l-.3-1a1 1 0 0 1 2-.5l1.1 4.8a1 1 0 0 1-1 1.2l-5-.4a1 1 0 0 1-.9-1Z"/></g></svg>',"remove-formatting":'<svg width="24" height="24"><path d="M13.2 6a1 1 0 0 1 0 .2l-2.6 10a1 1 0 0 1-1 .8h-.2a.8.8 0 0 1-.8-1l2.6-10H8a1 1 0 1 1 0-2h9a1 1 0 0 1 0 2h-3.8ZM5 18h7a1 1 0 0 1 0 2H5a1 1 0 0 1 0-2Zm13 1.5L16.5 18 15 19.5a.7.7 0 0 1-1-1l1.5-1.5-1.5-1.5a.7.7 0 0 1 1-1l1.5 1.5 1.5-1.5a.7.7 0 0 1 1 1L17.5 17l1.5 1.5a.7.7 0 0 1-1 1Z" fill-rule="evenodd"/></svg>',remove:'<svg width="24" height="24"><path d="M16 7h3a1 1 0 0 1 0 2h-1v9a3 3 0 0 1-3 3H9a3 3 0 0 1-3-3V9H5a1 1 0 1 1 0-2h3V6a3 3 0 0 1 3-3h2a3 3 0 0 1 3 3v1Zm-2 0V6c0-.6-.4-1-1-1h-2a1 1 0 0 0-1 1v1h4Zm2 2H8v9c0 .6.4 1 1 1h6c.6 0 1-.4 1-1V9Zm-7 3a1 1 0 0 1 2 0v4a1 1 0 0 1-2 0v-4Zm4 0a1 1 0 0 1 2 0v4a1 1 0 0 1-2 0v-4Z" fill-rule="nonzero"/></svg>',"resize-handle":'<svg width="10" height="10"><g fill-rule="nonzero"><path d="M8.1 1.1A.5.5 0 1 1 9 2l-7 7A.5.5 0 1 1 1 8l7-7ZM8.1 5.1A.5.5 0 1 1 9 6l-3 3A.5.5 0 1 1 5 8l3-3Z"/></g></svg>',resize:'<svg width="24" height="24"><path d="M4 5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h6c.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7a1 1 0 0 1-.7.3H7.4L18 16.6V13c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7v6c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-6a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3.6L6 7.4V11c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.7-.3A1 1 0 0 1 4 11V5Z" fill-rule="evenodd"/></svg>',"restore-draft":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M17 13c0 .6-.4 1-1 1h-4V8c0-.6.4-1 1-1s1 .4 1 1v4h2c.6 0 1 .4 1 1Z"/><path d="M4.7 10H9a1 1 0 0 1 0 2H3a1 1 0 0 1-1-1V5a1 1 0 1 1 2 0v3l2.5-2.4a9.2 9.2 0 0 1 10.8-1.5A9 9 0 0 1 13.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 1 1 1.3-1.5 7.2 7.2 0 0 0 11.6-3.7 7 7 0 0 0-3.5-7.7A7.2 7.2 0 0 0 8 7L4.7 10Z" fill-rule="nonzero"/></g></svg>',"revision-history":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M17 13c0 .6-.4 1-1 1h-4V8c0-.6.4-1 1-1s1 .4 1 1v4h2c.6 0 1 .4 1 1Z"/><path d="M4.7 10H9a1 1 0 0 1 0 2H3a1 1 0 0 1-1-1V5a1 1 0 1 1 2 0v3l2.5-2.4a9.2 9.2 0 0 1 10.8-1.5A9 9 0 0 1 13.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 1 1 1.3-1.5 7.2 7.2 0 0 0 11.6-3.7 7 7 0 0 0-3.5-7.7A7.2 7.2 0 0 0 8 7L4.7 10Z" fill-rule="nonzero"/></g></svg>',"rotate-left":'<svg width="24" height="24"><path d="M4.7 10H9a1 1 0 0 1 0 2H3a1 1 0 0 1-1-1V5a1 1 0 1 1 2 0v3l2.5-2.4a9.2 9.2 0 0 1 10.8-1.5A9 9 0 0 1 13.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 1 1 1.3-1.5 7.2 7.2 0 0 0 11.6-3.7 7 7 0 0 0-3.5-7.7A7.2 7.2 0 0 0 8 7L4.7 10Z" fill-rule="nonzero"/></svg>',"rotate-right":'<svg width="24" height="24"><path d="M20 8V5a1 1 0 0 1 2 0v6c0 .6-.4 1-1 1h-6a1 1 0 0 1 0-2h4.3L16 7A7.2 7.2 0 0 0 7.7 6a7 7 0 0 0 3 13.1c1.9.1 3.7-.5 5-1.7a1 1 0 0 1 1.4 1.5A9.2 9.2 0 0 1 2.2 14c-.9-3.9 1-8 4.5-9.9 3.5-1.9 8-1.3 10.8 1.5L20 8Z" fill-rule="nonzero"/></svg>',rtl:'<svg width="24" height="24"><path d="M8 5h8v2h-2v12h-2V7h-2v12H8v-7c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 4.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L8 5Zm12 11.2a1 1 0 1 1-1 1.6l-3-2a1 1 0 0 1 0-1.6l3-2a1 1 0 1 1 1 1.6L18.4 15l1.8 1.2Z" fill-rule="evenodd"/></svg>',save:'<svg width="24" height="24"><path d="M5 16h14a2 2 0 0 1 2 2v2a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-2c0-1.1.9-2 2-2Zm0 2v2h14v-2H5Zm10 0h2v2h-2v-2Zm-4-6.4L8.7 9.3a1 1 0 1 0-1.4 1.4l4 4c.4.4 1 .4 1.4 0l4-4a1 1 0 1 0-1.4-1.4L13 11.6V4a1 1 0 0 0-2 0v7.6Z" fill-rule="nonzero"/></svg>',search:'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Z" fill-rule="nonzero"/></svg>',"select-all":'<svg width="24" height="24"><path d="M3 5h2V3a2 2 0 0 0-2 2Zm0 8h2v-2H3v2Zm4 8h2v-2H7v2ZM3 9h2V7H3v2Zm10-6h-2v2h2V3Zm6 0v2h2a2 2 0 0 0-2-2ZM5 21v-2H3c0 1.1.9 2 2 2Zm-2-4h2v-2H3v2ZM9 3H7v2h2V3Zm2 18h2v-2h-2v2Zm8-8h2v-2h-2v2Zm0 8a2 2 0 0 0 2-2h-2v2Zm0-12h2V7h-2v2Zm0 8h2v-2h-2v2Zm-4 4h2v-2h-2v2Zm0-16h2V3h-2v2ZM7 17h10V7H7v10Zm2-8h6v6H9V9Z" fill-rule="nonzero"/></svg>',selected:'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2Zm3.6 10.9L7 12.3a.7.7 0 0 0-1 1L9.6 17 18 8.6a.7.7 0 0 0 0-1 .7.7 0 0 0-1 0l-7.4 7.3Z"/></svg>',send:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="m13.3 22 7-18.3-18.3 7L9 15l4.3 7ZM18 6.8l-.7-.7L9.4 14l.7.7L18 6.8Z"/></svg>',settings:'<svg width="24" height="24"><path d="M11 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V8H5a1 1 0 1 1 0-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.5V6ZM8 8h2V6H8v2Zm9 2.8v.2h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v.3c0 .2 0 .3-.2.5l-.6.2h-2.4c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V13H5a1 1 0 0 1 0-2h8v-.3c0-.2 0-.3.2-.5l.6-.2h2.4c.3 0 .4 0 .6.2l.2.6ZM14 13h2v-2h-2v2Zm-3 2.8v.2h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V18H5a1 1 0 0 1 0-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.6ZM8 18h2v-2H8v2Z" fill-rule="evenodd"/></svg>',sharpen:'<svg width="24" height="24"><path d="m16 6 4 4-8 9-8-9 4-4h8Zm-4 10.2 5.5-6.2-.1-.1H12v-.3h5.1l-.2-.2H12V9h4.6l-.2-.2H12v-.3h4.1l-.2-.2H12V8h3.6l-.2-.2H8.7L6.5 10l.1.1H12v.3H6.9l.2.2H12v.3H7.3l.2.2H12v.3H7.7l.3.2h4v.3H8.2l.2.2H12v.3H8.6l.3.2H12v.3H9l.3.2H12v.3H9.5l.2.2H12v.3h-2l.2.2H12v.3h-1.6l.2.2H12v.3h-1.1l.2.2h.9v.3h-.7l.2.2h.5v.3h-.3l.3.2Z" fill-rule="evenodd"/></svg>',sourcecode:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M9.8 15.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0l-4.4-4.1a.8.8 0 0 1 0-1.2l4.4-4.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L6 12l3.8 3.7ZM14.2 15.7c-.3.3-.3.8 0 1 .4.4.9.4 1.2 0l4.4-4.1c.3-.3.3-.9 0-1.2l-4.4-4.2a.8.8 0 0 0-1.2 0c-.3.3-.3.8 0 1.1L18 12l-3.8 3.7Z"/></g></svg>',"spell-check":'<svg width="24" height="24"><path d="M6 8v3H5V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h2c.3 0 .5.1.7.3.2.2.3.4.3.7v6H8V8H6Zm0-3v2h2V5H6Zm13 0h-3v5h3v1h-3a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3v1Zm-5 1.5-.1.7c-.1.2-.3.3-.6.3.3 0 .5.1.6.3l.1.7V10c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-3V4h3c.3 0 .5.1.7.3.2.2.3.4.3.7v1.5ZM13 10V8h-2v2h2Zm0-3V5h-2v2h2Zm3 5 1 1-6.5 7L7 15.5l1.3-1 2.2 2.2L16 12Z" fill-rule="evenodd"/></svg>',"strike-through":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M15.6 8.5c-.5-.7-1-1.1-1.3-1.3-.6-.4-1.3-.6-2-.6-2.7 0-2.8 1.7-2.8 2.1 0 1.6 1.8 2 3.2 2.3 4.4.9 4.6 2.8 4.6 3.9 0 1.4-.7 4.1-5 4.1A6.2 6.2 0 0 1 7 16.4l1.5-1.1c.4.6 1.6 2 3.7 2 1.6 0 2.5-.4 3-1.2.4-.8.3-2-.8-2.6-.7-.4-1.6-.7-2.9-1-1-.2-3.9-.8-3.9-3.6C7.6 6 10.3 5 12.4 5c2.9 0 4.2 1.6 4.7 2.4l-1.5 1.1Z"/><path d="M5 11h14a1 1 0 0 1 0 2H5a1 1 0 0 1 0-2Z" fill-rule="nonzero"/></g></svg>',subscript:'<svg width="24" height="24"><path d="m10.4 10 4.6 4.6-1.4 1.4L9 11.4 4.4 16 3 14.6 7.6 10 3 5.4 4.4 4 9 8.6 13.6 4 15 5.4 10.4 10ZM21 19h-5v-1l1-.8 1.7-1.6c.3-.4.5-.8.5-1.2 0-.3 0-.6-.2-.7-.2-.2-.5-.3-.9-.3a2 2 0 0 0-.8.2l-.7.3-.4-1.1 1-.6 1.2-.2c.8 0 1.4.3 1.8.7.4.4.6.9.6 1.5s-.2 1.1-.5 1.6a8 8 0 0 1-1.3 1.3l-.6.6h2.6V19Z" fill-rule="nonzero"/></svg>',superscript:'<svg width="24" height="24"><path d="M15 9.4 10.4 14l4.6 4.6-1.4 1.4L9 15.4 4.4 20 3 18.6 7.6 14 3 9.4 4.4 8 9 12.6 13.6 8 15 9.4Zm5.9 1.6h-5v-1l1-.8 1.7-1.6c.3-.5.5-.9.5-1.3 0-.3 0-.5-.2-.7-.2-.2-.5-.3-.9-.3l-.8.2-.7.4-.4-1.2c.2-.2.5-.4 1-.5.3-.2.8-.2 1.2-.2.8 0 1.4.2 1.8.6.4.4.6 1 .6 1.6 0 .5-.2 1-.5 1.5l-1.3 1.4-.6.5h2.6V11Z" fill-rule="nonzero"/></svg>',"table-caption":'<svg width="24" height="24"><g fill-rule="nonzero"><rect width="12" height="2" x="3" y="4" rx="1"/><path d="M19 8a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-8c0-1.1.9-2 2-2h14ZM5 15v3h6v-3H5Zm14 0h-6v3h6v-3Zm0-5h-6v3h6v-3ZM5 13h6v-3H5v3Z"/></g></svg>',"table-cell-classes":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M13 4v9H3V6c0-1.1.9-2 2-2h8Zm-2 2H5v5h6V6Z"/><path fill-rule="nonzero" d="M13 4h6a2 2 0 0 1 2 2v7h-8v-2h6V6h-6V4Z" opacity=".2"/><path d="m18 20-2.6 1.6.7-3-2.4-2 3.1-.2 1.2-2.9 1.2 2.9 3.1.2-2.4 2 .7 3z"/><path fill-rule="nonzero" d="M3 13v5c0 1.1.9 2 2 2h8v-7h-2v5H5v-5H3Z" opacity=".2"/></g></svg>',"table-cell-properties":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9H5v5h6v-5Zm8 0h-6v5h6v-5Zm-8-7H5v5h6V6Z"/></svg>',"table-cell-select-all":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v12h14V6Z"/><path d="M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2Z" opacity=".2"/></g></svg>',"table-cell-select-inner":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v12h14V6Z" opacity=".2"/><path d="M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2Z"/></g></svg>',"table-classes":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v7h-8v7H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9H5v5h6v-5Zm8-7h-6v5h6V6Zm-8 0H5v5h6V6Z"/><path d="m18 20-2.6 1.6.7-3-2.4-2 3.1-.2 1.2-2.9 1.2 2.9 3.1.2-2.4 2 .7 3z"/></g></svg>',"table-delete-column":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-4 4h-2V6h-2v2H9V6H5v12h4v-2h2v2h2v-2h2v2h4V6h-4v2Zm.3.5 1 1.2-3 2.3 3 2.3-1 1.2L12 13l-3.3 2.6-1-1.2 3-2.3-3-2.3 1-1.2L12 11l3.3-2.5Z"/></svg>',"table-delete-row":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v3h2.5v2H5v2h2.5v2H5v3h14v-3h-2.5v-2H19v-2h-2.5V9H19V6Zm-4.7 1.8 1.2 1L13 12l2.6 3.3-1.2 1-2.3-3-2.3 3-1.2-1L11 12 8.5 8.7l1.2-1 2.3 3 2.3-3Z"/></svg>',"table-delete-table":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 6v12h14V6H5Z"/><path d="m14.4 8.6 1.1 1-2.4 2.4 2.4 2.4-1.1 1.1-2.4-2.4-2.4 2.4-1-1.1 2.3-2.4-2.3-2.4 1-1 2.4 2.3z"/></g></svg>',"table-insert-column-after":'<svg width="24" height="24"><path fill-rule="nonzero" d="M20 4c.6 0 1 .4 1 1v2a1 1 0 0 1-2 0V6h-8v12h8v-1a1 1 0 0 1 2 0v2c0 .5-.4 1-.9 1H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h15ZM9 13H5v5h4v-5Zm7-5c.5 0 1 .4 1 .9V11h2a1 1 0 0 1 .1 2H17v2a1 1 0 0 1-2 .1V13h-2a1 1 0 0 1-.1-2H15V9c0-.6.4-1 1-1ZM9 6H5v5h4V6Z"/></svg>',"table-insert-column-before":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H4a1 1 0 0 1-1-1v-2a1 1 0 0 1 2 0v1h8V6H5v1a1 1 0 1 1-2 0V5c0-.6.4-1 1-1h15Zm0 9h-4v5h4v-5ZM8 8c.5 0 1 .4 1 .9V11h2a1 1 0 0 1 .1 2H9v2a1 1 0 0 1-2 .1V13H5a1 1 0 0 1-.1-2H7V9c0-.6.4-1 1-1Zm11-2h-4v5h4V6Z"/></svg>',"table-insert-row-above":'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4a1 1 0 1 1 0 2H5v6h14V6h-1a1 1 0 0 1 0-2h2c.6 0 1 .4 1 1v13a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5c0-.6.4-1 1-1h2Zm5 10H5v4h6v-4Zm8 0h-6v4h6v-4ZM12 3c.5 0 1 .4 1 .9V6h2a1 1 0 0 1 0 2h-2v2a1 1 0 0 1-2 .1V8H9a1 1 0 0 1 0-2h2V4c0-.6.4-1 1-1Z"/></svg>',"table-insert-row-after":'<svg width="24" height="24"><path fill-rule="nonzero" d="M12 13c.5 0 1 .4 1 .9V16h2a1 1 0 0 1 .1 2H13v2a1 1 0 0 1-2 .1V18H9a1 1 0 0 1-.1-2H11v-2c0-.6.4-1 1-1Zm6 7a1 1 0 0 1 0-2h1v-6H5v6h1a1 1 0 0 1 0 2H4a1 1 0 0 1-1-1V6c0-1.1.9-2 2-2h14a2 2 0 0 1 2 2v13c0 .5-.4 1-.9 1H18ZM11 6H5v4h6V6Zm8 0h-6v4h6V6Z"/></svg>',"table-left-header":'<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 9h-4v5h4v-5Zm-6 0H9v5h4v-5Zm0-7H9v5h4V6Zm6 0h-4v5h4V6Z"/></svg>',"table-merge-cells":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 15.5V18h3v-2.5H5Zm14-5h-9V18h9v-7.5ZM19 6h-4v2.5h4V6ZM8 6H5v2.5h3V6Zm5 0h-3v2.5h3V6Zm-8 7.5h3v-3H5v3Z"/></svg>',"table-row-numbering-rtl":'<svg width="24" height="24"><path d="M6 4a2 2 0 0 0-2 2v13c0 1.1.9 2 2 2h12a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2H6Zm0 12h8v3H6v-3Zm11 0c.6 0 1 .4 1 1v1a1 1 0 0 1-2 0v-1c0-.6.4-1 1-1ZM6 11h8v3H6v-3Zm11 0c.6 0 1 .4 1 1v1a1 1 0 0 1-2 0v-1c0-.6.4-1 1-1ZM6 6h8v3H6V6Zm11 0c.6 0 1 .4 1 1v1a1 1 0 1 1-2 0V7c0-.6.4-1 1-1Z"/></svg>',"table-row-numbering":'<svg width="24" height="24"><path d="M18 4a2 2 0 0 1 2 2v13a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h12Zm0 12h-8v3h8v-3ZM7 16a1 1 0 0 0-1 1v1a1 1 0 0 0 2 0v-1c0-.6-.4-1-1-1Zm11-5h-8v3h8v-3ZM7 11a1 1 0 0 0-1 1v1a1 1 0 0 0 2 0v-1c0-.6-.4-1-1-1Zm11-5h-8v3h8V6ZM7 6a1 1 0 0 0-1 1v1a1 1 0 1 0 2 0V7c0-.6-.4-1-1-1Z"/></svg>',"table-row-properties":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 15v3h6v-3H5Zm14 0h-6v3h6v-3Zm0-9h-6v3h6V6ZM5 9h6V6H5v3Z"/></svg>',"table-split-cells":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM8 15.5H5V18h3v-2.5Zm11-5h-9V18h9v-7.5Zm-2.5 1 1 1-2 2 2 2-1 1-2-2-2 2-1-1 2-2-2-2 1-1 2 2 2-2Zm-8.5-1H5v3h3v-3ZM19 6h-4v2.5h4V6ZM8 6H5v2.5h3V6Zm5 0h-3v2.5h3V6Z"/></svg>',"table-top-header":'<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 11H5v3h6v-3Zm8 0h-6v3h6v-3Zm0-5h-6v3h6v-3ZM5 13h6v-3H5v3Z"/></svg>',table:'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 14v4h6v-4H5Zm14 0h-6v4h6v-4Zm0-6h-6v4h6V8ZM5 12h6V8H5v4Z"/></svg>',"template-add":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M9 12v4H5a2 2 0 0 0-2 2v3h9.3a6 6 0 0 1-.3-2H5v-1h7a6 6 0 0 1 .8-2H11v-5l-.8-.6a3 3 0 1 1 3.6 0l-.8.6v4.7a6 6 0 0 1 2-1.9V12a5 5 0 1 0-6 0Z"/><path d="M18 15c.5 0 1 .4 1 .9V18h2a1 1 0 0 1 .1 2H19v2a1 1 0 0 1-2 .1V20h-2a1 1 0 0 1-.1-2H17v-2c0-.6.4-1 1-1Z"/></svg>',template:'<svg width="24" height="24"><path d="M19 19v-1H5v1h14ZM9 16v-4a5 5 0 1 1 6 0v4h4a2 2 0 0 1 2 2v3H3v-3c0-1.1.9-2 2-2h4Zm4 0v-5l.8-.6a3 3 0 1 0-3.6 0l.8.6v5h2Z" fill-rule="nonzero"/></svg>',"temporary-placeholder":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M9 7.6V6h2.5V4.5a.5.5 0 1 1 1 0V6H15v1.6a8 8 0 1 1-6 0Zm-2.6 5.3a.5.5 0 0 0 .3.6c.3 0 .6 0 .6-.3l.1-.2a5 5 0 0 1 3.3-2.8c.3-.1.4-.4.4-.6-.1-.3-.4-.5-.6-.4a6 6 0 0 0-4.1 3.7Z"/><circle cx="14" cy="4" r="1"/><circle cx="12" cy="2" r="1"/><circle cx="10" cy="4" r="1"/></g></svg>',"text-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path class="tox-icon-text-color__color" d="M3 18h18v3H3z"/><path d="M8.7 16h-.8a.5.5 0 0 1-.5-.6l2.7-9c.1-.3.3-.4.5-.4h2.8c.2 0 .4.1.5.4l2.7 9a.5.5 0 0 1-.5.6h-.8a.5.5 0 0 1-.4-.4l-.7-2.2c0-.3-.3-.4-.5-.4h-3.4c-.2 0-.4.1-.5.4l-.7 2.2c0 .3-.2.4-.4.4Zm2.6-7.6-.6 2a.5.5 0 0 0 .5.6h1.6a.5.5 0 0 0 .5-.6l-.6-2c0-.3-.3-.4-.5-.4h-.4c-.2 0-.4.1-.5.4Z"/></g></svg>',"text-size-decrease":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M14 5a1 1 0 1 1 0 2h-4v11a1 1 0 1 1-2 0V7H4a1 1 0 0 1 0-2h10ZM14 12a1 1 0 1 0 0 2h6a1 1 0 1 0 0-2h-6Z"/></svg>',"text-size-increase":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M14 5a1 1 0 1 1 0 2h-4v11a1 1 0 1 1-2 0V7H4a1 1 0 0 1 0-2h10ZM17 9a1 1 0 0 0-1 1v2h-2a1 1 0 1 0 0 2h2v2a1 1 0 1 0 2 0v-2h2a1 1 0 1 0 0-2h-2v-2c0-.6-.4-1-1-1Z"/></svg>',toc:'<svg width="24" height="24"><path d="M5 5c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 1 1 0-2Zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 1 1 0-2Zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm0-4c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 1 1 0-2Zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',translate:'<svg width="24" height="24"><path d="m12.7 14.3-.3.7-.4.7-2.2-2.2-3.1 3c-.3.4-.8.4-1 0a.7.7 0 0 1 0-1l3.1-3A12.4 12.4 0 0 1 6.7 9H8a10.1 10.1 0 0 0 1.7 2.4c.5-.5 1-1.1 1.4-1.8l.9-2H4.7a.7.7 0 1 1 0-1.5h4.4v-.7c0-.4.3-.8.7-.8.4 0 .7.4.7.8v.7H15c.4 0 .8.3.8.7 0 .4-.4.8-.8.8h-1.4a12.3 12.3 0 0 1-1 2.4 13.5 13.5 0 0 1-1.7 2.3l1.9 1.8Zm4.3-3 2.7 7.3a.5.5 0 0 1-.4.7 1 1 0 0 1-1-.7l-.6-1.5h-3.4l-.6 1.5a1 1 0 0 1-1 .7.5.5 0 0 1-.4-.7l2.7-7.4a1 1 0 0 1 2 0Zm-2.2 4.4h2.4L16 12.5l-1.2 3.2Z" fill-rule="evenodd"/></svg>',typography:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M17 5a1 1 0 1 1 0 2h-4v11a1 1 0 1 1-2 0V7H7a1 1 0 0 1 0-2h10Z"/><path d="m17.5 14 .8-1.7 1.7-.8-1.7-.8-.8-1.7-.8 1.7-1.7.8 1.7.8.8 1.7ZM7 14l1 2 2 1-2 1-1 2-1-2-2-1 2-1 1-2Z"/></svg>',underline:'<svg width="24" height="24"><path d="M16 5c.6 0 1 .4 1 1v5.5a4 4 0 0 1-.4 1.8l-1 1.4a5.3 5.3 0 0 1-5.5 1 5 5 0 0 1-1.6-1c-.5-.4-.8-.9-1.1-1.4a4 4 0 0 1-.4-1.8V6c0-.6.4-1 1-1s1 .4 1 1v5.5c0 .3 0 .6.2 1l.6.7a3.3 3.3 0 0 0 2.2.8 3.4 3.4 0 0 0 2.2-.8c.3-.2.4-.5.6-.8l.2-.9V6c0-.6.4-1 1-1ZM8 17h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',undo:'<svg width="24" height="24"><path d="M6.4 8H12c3.7 0 6.2 2 6.8 5.1.6 2.7-.4 5.6-2.3 6.8a1 1 0 0 1-1-1.8c1.1-.6 1.8-2.7 1.4-4.6-.5-2.1-2.1-3.5-4.9-3.5H6.4l3.3 3.3a1 1 0 1 1-1.4 1.4l-5-5a1 1 0 0 1 0-1.4l5-5a1 1 0 0 1 1.4 1.4L6.4 8Z" fill-rule="nonzero"/></svg>',unlink:'<svg width="24" height="24"><path d="M6.2 12.3a1 1 0 0 1 1.4 1.4l-2 2a2 2 0 1 0 2.6 2.8l4.8-4.8a1 1 0 0 0 0-1.4 1 1 0 1 1 1.4-1.3 2.9 2.9 0 0 1 0 4L9.6 20a3.9 3.9 0 0 1-5.5-5.5l2-2Zm11.6-.6a1 1 0 0 1-1.4-1.4l2.1-2a2 2 0 1 0-2.7-2.8L11 10.3a1 1 0 0 0 0 1.4A1 1 0 1 1 9.6 13a2.9 2.9 0 0 1 0-4L14.4 4a3.9 3.9 0 0 1 5.5 5.5l-2 2ZM7.6 6.3a.8.8 0 0 1-1 1.1L3.3 4.2a.7.7 0 1 1 1-1l3.2 3.1ZM5.1 8.6a.8.8 0 0 1 0 1.5H3a.8.8 0 0 1 0-1.5H5Zm5-3.5a.8.8 0 0 1-1.5 0V3a.8.8 0 0 1 1.5 0V5Zm6 11.8a.8.8 0 0 1 1-1l3.2 3.2a.8.8 0 0 1-1 1L16 17Zm-2.2 2a.8.8 0 0 1 1.5 0V21a.8.8 0 0 1-1.5 0V19Zm5-3.5a.7.7 0 1 1 0-1.5H21a.8.8 0 0 1 0 1.5H19Z" fill-rule="nonzero"/></svg>',unlock:'<svg width="24" height="24"><path d="M16 5c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h-2V8a1 1 0 0 0-.3-.7A1 1 0 0 0 16 7h-2a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7v3h.3c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H4.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H11V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2Z" fill-rule="evenodd"/></svg>',"unordered-list":'<svg width="24" height="24"><path d="M11 5h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2ZM4.5 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Z" fill-rule="evenodd"/></svg>',unselected:'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2Zm0 1a1 1 0 0 0-1 1v12c0 .6.4 1 1 1h12c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H6Z"/></svg>',upload:'<svg width="24" height="24"><path d="M18 19v-2a1 1 0 0 1 2 0v3c0 .6-.4 1-1 1H5a1 1 0 0 1-1-1v-3a1 1 0 0 1 2 0v2h12ZM11 6.4 8.7 8.7a1 1 0 0 1-1.4-1.4l4-4a1 1 0 0 1 1.4 0l4 4a1 1 0 1 1-1.4 1.4L13 6.4V16a1 1 0 0 1-2 0V6.4Z" fill-rule="nonzero"/></svg>',user:'<svg width="24" height="24"><path d="M12 24a12 12 0 1 1 0-24 12 12 0 0 1 0 24Zm-8.7-5.3a11 11 0 0 0 17.4 0C19.4 16.3 14.6 15 12 15c-2.6 0-7.4 1.3-8.7 3.7ZM12 13c2.2 0 4-2 4-4.5S14.2 4 12 4 8 6 8 8.5 9.8 13 12 13Z" fill-rule="nonzero"/></svg>',"vertical-align":'<svg width="24" height="24"><g fill-rule="nonzero"><rect width="18" height="2" x="3" y="11" rx="1"/><path d="M12 2c.6 0 1 .4 1 1v4l2-1.3a1 1 0 0 1 1.2 1.5l-.1.1-4.1 3-4-3a1 1 0 0 1 1-1.7l2 1.5V3c0-.6.4-1 1-1zm0 11.8 4 2.9a1 1 0 0 1-1 1.7l-2-1.5V21c0 .5-.4 1-.9 1H12a1 1 0 0 1-1-1v-4l-2 1.3a1 1 0 0 1-1.2-.1l-.1-.1a1 1 0 0 1 .1-1.3l.1-.1 4.1-3z"/></g></svg>',visualblocks:'<svg width="24" height="24"><path d="M9 19v2H7v-2h2Zm-4 0v2a2 2 0 0 1-2-2h2Zm8 0v2h-2v-2h2Zm8 0a2 2 0 0 1-2 2v-2h2Zm-4 0v2h-2v-2h2ZM15 7a1 1 0 0 1 0 2v7a1 1 0 0 1-2 0V9h-1v7a1 1 0 0 1-2 0v-4a2.5 2.5 0 0 1-.2-5H15ZM5 15v2H3v-2h2Zm16 0v2h-2v-2h2ZM5 11v2H3v-2h2Zm16 0v2h-2v-2h2ZM5 7v2H3V7h2Zm16 0v2h-2V7h2ZM5 3v2H3c0-1.1.9-2 2-2Zm8 0v2h-2V3h2Zm6 0a2 2 0 0 1 2 2h-2V3ZM9 3v2H7V3h2Zm8 0v2h-2V3h2Z" fill-rule="evenodd"/></svg>',visualchars:'<svg width="24" height="24"><path d="M10 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 6.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L10 5Z" fill-rule="evenodd"/></svg>',warning:'<svg width="24" height="24"><path d="M19.8 18.3c.2.5.3.9 0 1.2-.1.3-.5.5-1 .5H5.2c-.5 0-.9-.2-1-.5-.3-.3-.2-.7 0-1.2L11 4.7l.5-.5.5-.2c.2 0 .3 0 .5.2.2 0 .3.3.5.5l6.8 13.6ZM12 18c.3 0 .5-.1.7-.3.2-.2.3-.4.3-.7a1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3 1 1 0 0 0-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3Zm.7-3 .3-4a1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3 1 1 0 0 0-.3.7l.3 4h1.4Z" fill-rule="evenodd"/></svg>',"zoom-in":'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Zm-1-9a1 1 0 0 1 2 0v6a1 1 0 0 1-2 0V8Zm-2 4a1 1 0 0 1 0-2h6a1 1 0 0 1 0 2H8Z" fill-rule="nonzero"/></svg>',"zoom-out":'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Zm-3-5a1 1 0 0 1 0-2h6a1 1 0 0 1 0 2H8Z" fill-rule="nonzero"/></svg>'}});(function(){const t=Object.getPrototypeOf,r=(s,l,d)=>{var f;return!!d(s,l.prototype)||((f=s.constructor)===null||f===void 0?void 0:f.name)===l.name},i=s=>l=>(d=>{const f=typeof d;return d===null?"null":f==="object"&&Array.isArray(d)?"array":f==="object"&&r(d,String,(b,v)=>v.isPrototypeOf(b))?"string":f})(l)===s,u=s=>l=>typeof l===s,g=s=>l=>s===l,h=i("string"),x=i("object"),w=s=>((l,d)=>x(l)&&r(l,d,(f,b)=>t(f)===b))(s,Object),I=i("array"),D=g(null),O=u("boolean"),N=g(void 0),V=s=>s==null,U=s=>!V(s),Z=u("function"),ee=u("number"),re=(s,l)=>{if(I(s)){for(let d=0,f=s.length;d<f;++d)if(!l(s[d]))return!1;return!0}return!1},H=()=>{},de=s=>()=>s(),le=(s,l)=>(...d)=>s(l.apply(null,d)),j=s=>()=>s,fe=s=>s,ne=(s,l)=>s===l;function Ve(s,...l){return(...d)=>{const f=l.concat(d);return s.apply(null,f)}}const Fe=s=>l=>!s(l),Xe=s=>()=>{throw new Error(s)},rt=s=>s(),xe=j(!1),_e=j(!0);class R{constructor(l,d){this.tag=l,this.value=d}static some(l){return new R(!0,l)}static none(){return R.singletonNone}fold(l,d){return this.tag?d(this.value):l()}isSome(){return this.tag}isNone(){return!this.tag}map(l){return this.tag?R.some(l(this.value)):R.none()}bind(l){return this.tag?l(this.value):R.none()}exists(l){return this.tag&&l(this.value)}forall(l){return!this.tag||l(this.value)}filter(l){return!this.tag||l(this.value)?this:R.none()}getOr(l){return this.tag?this.value:l}or(l){return this.tag?this:l}getOrThunk(l){return this.tag?this.value:l()}orThunk(l){return this.tag?this:l()}getOrDie(l){if(this.tag)return this.value;throw new Error(l??"Called getOrDie on None")}static from(l){return U(l)?R.some(l):R.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(l){this.tag&&l(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}R.singletonNone=new R(!1);const it=Array.prototype.slice,lt=Array.prototype.indexOf,Lt=Array.prototype.push,Qt=(s,l)=>lt.call(s,l),dt=(s,l)=>Qt(s,l)>-1,Sn=(s,l)=>{for(let d=0,f=s.length;d<f;d++)if(l(s[d],d))return!0;return!1},Et=(s,l)=>{const d=[];for(let f=0;f<s;f++)d.push(l(f));return d},et=(s,l)=>{const d=[];for(let f=0;f<s.length;f+=l){const b=it.call(s,f,f+l);d.push(b)}return d},Me=(s,l)=>{const d=s.length,f=new Array(d);for(let b=0;b<d;b++){const v=s[b];f[b]=l(v,b)}return f},ft=(s,l)=>{for(let d=0,f=s.length;d<f;d++)l(s[d],d)},so=(s,l)=>{const d=[],f=[];for(let b=0,v=s.length;b<v;b++){const C=s[b];(l(C,b)?d:f).push(C)}return{pass:d,fail:f}},Wt=(s,l)=>{const d=[];for(let f=0,b=s.length;f<b;f++){const v=s[f];l(v,f)&&d.push(v)}return d},In=(s,l,d)=>(((f,b)=>{for(let v=f.length-1;v>=0;v--)b(f[v],v)})(s,(f,b)=>{d=l(d,f,b)}),d),sn=(s,l,d)=>(ft(s,(f,b)=>{d=l(d,f,b)}),d),J=(s,l)=>((d,f,b)=>{for(let v=0,C=d.length;v<C;v++){const k=d[v];if(f(k,v))return R.some(k);if(b(k,v))break}return R.none()})(s,l,xe),fo=(s,l)=>{for(let d=0,f=s.length;d<f;d++)if(l(s[d],d))return R.some(d);return R.none()},Zt=s=>{const l=[];for(let d=0,f=s.length;d<f;++d){if(!I(s[d]))throw new Error("Arr.flatten item "+d+" was not an array, input: "+s);Lt.apply(l,s[d])}return l},bn=(s,l)=>Zt(Me(s,l)),Ke=(s,l)=>{for(let d=0,f=s.length;d<f;++d)if(l(s[d],d)!==!0)return!1;return!0},tt=s=>{const l=it.call(s,0);return l.reverse(),l},we=(s,l)=>Wt(s,d=>!dt(l,d)),Re=(s,l)=>{const d={};for(let f=0,b=s.length;f<b;f++){const v=s[f];d[String(v)]=l(v,f)}return d},He=s=>[s],be=(s,l)=>{const d=it.call(s,0);return d.sort(l),d},ke=(s,l)=>l>=0&&l<s.length?R.some(s[l]):R.none(),Ne=s=>ke(s,0),Ge=s=>ke(s,s.length-1),pt=Z(Array.from)?Array.from:s=>it.call(s),cn=(s,l)=>{for(let d=0;d<s.length;d++){const f=l(s[d],d);if(f.isSome())return f}return R.none()},jt=Object.keys,xn=Object.hasOwnProperty,Xn=(s,l)=>{const d=jt(s);for(let f=0,b=d.length;f<b;f++){const v=d[f];l(s[v],v)}},oo=(s,l)=>zo(s,(d,f)=>({k:f,v:l(d,f)})),zo=(s,l)=>{const d={};return Xn(s,(f,b)=>{const v=l(f,b);d[v.k]=v.v}),d},No=s=>(l,d)=>{s[d]=l},Gs=(s,l,d,f)=>{Xn(s,(b,v)=>{(l(b,v)?d:f)(b,v)})},ds=(s,l)=>{const d={};return Gs(s,l,No(d),H),d},ei=(s,l)=>{const d=[];return Xn(s,(f,b)=>{d.push(l(f,b))}),d},_s=(s,l)=>{const d=jt(s);for(let f=0,b=d.length;f<b;f++){const v=d[f],C=s[v];if(l(C,v,s))return R.some(C)}return R.none()},Zi=s=>ei(s,fe),On=(s,l)=>vo(s,l)?R.from(s[l]):R.none(),vo=(s,l)=>xn.call(s,l),Do=(s,l)=>vo(s,l)&&s[l]!==void 0&&s[l]!==null,li=(s,l,d=ne)=>s.exists(f=>d(f,l)),nl=s=>{const l=[],d=f=>{l.push(f)};for(let f=0;f<s.length;f++)s[f].each(d);return l},en=(s,l,d)=>s.isSome()&&l.isSome()?R.some(d(s.getOrDie(),l.getOrDie())):R.none(),pi=(s,l)=>s!=null?R.some(l(s)):R.none(),fs=(s,l)=>s?R.some(l):R.none(),Zl=(s,l,d)=>l===""||s.length>=l.length&&s.substr(d,d+l.length)===l,Ks=(s,l)=>Dm(s,l)?((d,f)=>d.substring(f))(s,l.length):s,ti=(s,l,d=0,f)=>{const b=s.indexOf(l,d);return b!==-1&&(!!N(f)||b+l.length<=f)},Dm=(s,l)=>Zl(s,l,0),Zu=(s,l)=>Zl(s,l,s.length-l.length),Tc=(Rf=/^\s+|\s+$/g,s=>s.replace(Rf,"")),xl=s=>s.length>0,Gu=s=>!xl(s),Ps=s=>s.style!==void 0&&Z(s.style.getPropertyValue),yo=s=>{if(s==null)throw new Error("Node cannot be null or undefined");return{dom:s}},Gl=(s,l)=>{const d=document.createElement("div");if(d.innerHTML=s,!d.hasChildNodes()||d.childNodes.length>1){const f="HTML does not have a single root node";throw console.error(f,s),new Error(f)}return yo(d.childNodes[0])},Di=(s,l)=>{const d=document.createElement(s);return yo(d)},qu=(s,l)=>{const d=document.createTextNode(s);return yo(d)},mn=yo,Yu=typeof window<"u"?window:Function("return this;")(),Pm=(s,l)=>((d,f)=>{let b=f??Yu;for(let v=0;v<d.length&&b!=null;++v)b=b[d[v]];return b})(s.split("."),l),hr=Object.getPrototypeOf,Nm=s=>{const l=Pm("ownerDocument.defaultView",s);return x(s)&&((d=>((f,b)=>{const v=((C,k)=>Pm(C,k))(f,b);if(v==null)throw new Error(f+" not available on this browser");return v})("HTMLElement",d))(l).prototype.isPrototypeOf(s)||/^HTML\w*Element$/.test(hr(s).constructor.name))},ol=s=>s.dom.nodeName.toLowerCase(),Fl=s=>l=>(d=>d.dom.nodeType)(l)===s,wl=s=>lr(s)&&Nm(s.dom),lr=Fl(1),Ta=Fl(3),$l=Fl(9),Lm=Fl(11),ou=s=>l=>lr(l)&&ol(l)===s,su=(s,l)=>{const d=s.dom;if(d.nodeType!==1)return!1;{const f=d;if(f.matches!==void 0)return f.matches(l);if(f.msMatchesSelector!==void 0)return f.msMatchesSelector(l);if(f.webkitMatchesSelector!==void 0)return f.webkitMatchesSelector(l);if(f.mozMatchesSelector!==void 0)return f.mozMatchesSelector(l);throw new Error("Browser lacks native selectors")}},kf=s=>s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11||s.childElementCount===0,Vd=(s,l)=>{const d=l===void 0?document:l.dom;return kf(d)?R.none():R.from(d.querySelector(s)).map(mn)},ms=(s,l)=>s.dom===l.dom,Lr=(s,l)=>{const d=s.dom,f=l.dom;return d!==f&&d.contains(f)},ci=s=>mn(s.dom.ownerDocument),Mm=s=>$l(s)?s:ci(s),sl=s=>mn(Mm(s).dom.documentElement),ru=s=>mn(Mm(s).dom.defaultView),Oa=s=>R.from(s.dom.parentNode).map(mn),Ra=s=>R.from(s.dom.parentElement).map(mn),iu=s=>R.from(s.dom.offsetParent).map(mn),Bs=s=>Me(s.dom.childNodes,mn),cr=(s,l)=>{const d=s.dom.childNodes;return R.from(d[l]).map(mn)},De=s=>cr(s,0),at=(s,l)=>({element:s,offset:l}),Ue=(s,l)=>{const d=Bs(s);return d.length>0&&l<d.length?at(d[l],0):at(s,l)},wt=s=>Lm(s)&&U(s.dom.host),bt=s=>mn(s.dom.getRootNode()),ot=s=>wt(s)?s:mn(Mm(s).dom.body),Xt=s=>{const l=bt(s);return wt(l)?R.some(l):R.none()},un=s=>mn(s.dom.host),vn=s=>{const l=Ta(s)?s.dom.parentNode:s.dom;if(l==null||l.ownerDocument===null)return!1;const d=l.ownerDocument;return Xt(mn(l)).fold(()=>d.body.contains(l),(f=vn,b=un,v=>f(b(v))));var f,b},kn=()=>gn(mn(document)),gn=s=>{const l=s.dom.body;if(l==null)throw new Error("Body is not available yet");return mn(l)},Ao=(s,l,d)=>{if(!(h(d)||O(d)||ee(d)))throw console.error("Invalid call to Attribute.set. Key ",l,":: Value ",d,":: Element ",s),new Error("Attribute value was not simple");s.setAttribute(l,d+"")},fn=(s,l,d)=>{Ao(s.dom,l,d)},Os=(s,l)=>{const d=s.dom;Xn(l,(f,b)=>{Ao(d,b,f)})},Go=(s,l)=>{const d=s.dom.getAttribute(l);return d===null?void 0:d},ns=(s,l)=>R.from(Go(s,l)),Mr=(s,l)=>{const d=s.dom;return!(!d||!d.hasAttribute)&&d.hasAttribute(l)},Lo=(s,l)=>{s.dom.removeAttribute(l)},ql=(s,l,d)=>{if(!h(d))throw console.error("Invalid call to CSS.set. Property ",l,":: Value ",d,":: Element ",s),new Error("CSS value must be a string: "+d);Ps(s)&&s.style.setProperty(l,d)},Ia=(s,l)=>{Ps(s)&&s.style.removeProperty(l)},wo=(s,l,d)=>{const f=s.dom;ql(f,l,d)},rl=(s,l)=>{const d=s.dom;Xn(l,(f,b)=>{ql(d,b,f)})},Cl=(s,l)=>{const d=s.dom;Xn(l,(f,b)=>{f.fold(()=>{Ia(d,b)},v=>{ql(d,b,v)})})},Ar=(s,l)=>{const d=s.dom,f=window.getComputedStyle(d).getPropertyValue(l);return f!==""||vn(s)?f:Ef(d,l)},Ef=(s,l)=>Ps(s)?s.style.getPropertyValue(l):"",ni=(s,l)=>{const d=s.dom,f=Ef(d,l);return R.from(f).filter(b=>b.length>0)},Bm=s=>{const l={},d=s.dom;if(Ps(d))for(let f=0;f<d.style.length;f++){const b=d.style.item(f);l[b]=d.style[b]}return l},Yl=(s,l,d)=>{const f=Di(s);return wo(f,l,d),ni(f,l).isSome()},As=(s,l)=>{const d=s.dom;Ia(d,l),li(ns(s,"style").map(Tc),"")&&Lo(s,"style")},zd=s=>s.dom.offsetWidth,th=(s,l)=>{const d=b=>{const v=l(b);if(v<=0||v===null){const C=Ar(b,s);return parseFloat(C)||0}return v},f=(b,v)=>sn(v,(C,k)=>{const E=Ar(b,k),P=E===void 0?0:parseInt(E,10);return isNaN(P)?C:C+P},0);return{set:(b,v)=>{if(!ee(v)&&!v.match(/^[0-9]+$/))throw new Error(s+".set accepts only positive integer values. Value was "+v);const C=b.dom;Ps(C)&&(C.style[s]=v+"px")},get:d,getOuter:d,aggregate:f,max:(b,v,C)=>{const k=f(b,C);return v>k?v-k:0}}},yp=th("height",s=>{const l=s.dom;return vn(s)?l.getBoundingClientRect().height:l.offsetHeight}),Tr=s=>yp.get(s),Oc=s=>yp.getOuter(s),_l=(s,l)=>({left:s,top:l,translate:(d,f)=>_l(s+d,l+f)}),tr=_l,Fm=(s,l)=>s!==void 0?s:l!==void 0?l:0,Vl=s=>{const l=s.dom.ownerDocument,d=l.body,f=l.defaultView,b=l.documentElement;if(d===s.dom)return tr(d.offsetLeft,d.offsetTop);const v=Fm(f==null?void 0:f.pageYOffset,b.scrollTop),C=Fm(f==null?void 0:f.pageXOffset,b.scrollLeft),k=Fm(b.clientTop,d.clientTop),E=Fm(b.clientLeft,d.clientLeft);return ca(s).translate(C-E,v-k)},ca=s=>{const l=s.dom,d=l.ownerDocument.body;return d===l?tr(d.offsetLeft,d.offsetTop):vn(s)?(f=>{const b=f.getBoundingClientRect();return tr(b.left,b.top)})(l):tr(0,0)},nh=th("width",s=>s.dom.offsetWidth),Pi=s=>nh.get(s),il=s=>nh.getOuter(s),ua=s=>{let l,d=!1;return(...f)=>(d||(d=!0,l=s.apply(null,f)),l)},zl=()=>xp(0,0),xp=(s,l)=>({major:s,minor:l}),Wo={nu:xp,detect:(s,l)=>{const d=String(l).toLowerCase();return s.length===0?zl():((f,b)=>{const v=((k,E)=>{for(let P=0;P<k.length;P++){const F=k[P];if(F.test(E))return F}})(f,b);if(!v)return{major:0,minor:0};const C=k=>Number(b.replace(v,"$"+k));return xp(C(1),C(2))})(s,d)},unknown:zl},au=(s,l)=>{const d=String(l).toLowerCase();return J(s,f=>f.search(d))},Hd=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,Xu=s=>l=>ti(l,s),Gb=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:s=>ti(s,"edge/")&&ti(s,"chrome")&&ti(s,"safari")&&ti(s,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,Hd],search:s=>ti(s,"chrome")&&!ti(s,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:s=>ti(s,"msie")||ti(s,"trident")},{name:"Opera",versionRegexes:[Hd,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:Xu("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:Xu("firefox")},{name:"Safari",versionRegexes:[Hd,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:s=>(ti(s,"safari")||ti(s,"mobile/"))&&ti(s,"applewebkit")}],Ax=[{name:"Windows",search:Xu("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:s=>ti(s,"iphone")||ti(s,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:Xu("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:Xu("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:Xu("linux"),versionRegexes:[]},{name:"Solaris",search:Xu("sunos"),versionRegexes:[]},{name:"FreeBSD",search:Xu("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:Xu("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],u1={browsers:j(Gb),oses:j(Ax)},d1="Edge",WC="Chromium",wp="Opera",f1="Firefox",rn="Safari",Af=s=>{const l=s.current,d=s.version,f=b=>()=>l===b;return{current:l,version:d,isEdge:f(d1),isChromium:f(WC),isIE:f("IE"),isOpera:f(wp),isFirefox:f(f1),isSafari:f(rn)}},Tf=()=>Af({current:void 0,version:Wo.unknown()}),m1=Af,da="Windows",Of="Android",oh="Linux",Tx="macOS",Ox="Solaris",qb="FreeBSD",Rx="ChromeOS",g1=s=>{const l=s.current,d=s.version,f=b=>()=>l===b;return{current:l,version:d,isWindows:f(da),isiOS:f("iOS"),isAndroid:f(Of),isMacOS:f(Tx),isLinux:f(oh),isSolaris:f(Ox),isFreeBSD:f(qb),isChromeOS:f(Rx)}},Ix=()=>g1({current:void 0,version:Wo.unknown()}),sh=g1,h1=s=>window.matchMedia(s).matches;var Rf;let If=ua(()=>((s,l,d)=>{const f=u1.browsers(),b=u1.oses(),v=l.bind(E=>((P,F)=>cn(F.brands,M=>{const z=M.brand.toLowerCase();return J(P,Y=>{var te;return z===((te=Y.brand)===null||te===void 0?void 0:te.toLowerCase())}).map(Y=>({current:Y.name,version:Wo.nu(parseInt(M.version,10),0)}))}))(f,E)).orThunk(()=>((E,P)=>au(E,P).map(F=>{const M=Wo.detect(F.versionRegexes,P);return{current:F.name,version:M}}))(f,s)).fold(Tf,m1),C=((E,P)=>au(E,P).map(F=>{const M=Wo.detect(F.versionRegexes,P);return{current:F.name,version:M}}))(b,s).fold(Ix,sh),k=((E,P,F,M)=>{const z=E.isiOS()&&/ipad/i.test(F)===!0,Y=E.isiOS()&&!z,te=E.isiOS()||E.isAndroid(),me=te||M("(pointer:coarse)"),pe=z||!Y&&te&&M("(min-device-width:768px)"),Ae=Y||te&&!pe,he=P.isSafari()&&E.isiOS()&&/safari/i.test(F)===!1,ge=!Ae&&!pe&&!he;return{isiPad:j(z),isiPhone:j(Y),isTablet:j(pe),isPhone:j(Ae),isTouch:j(me),isAndroid:E.isAndroid,isiOS:E.isiOS,isWebView:j(he),isDesktop:j(ge)}})(C,v,s,d);return{browser:v,os:C,deviceType:k}})(window.navigator.userAgent,R.from(window.navigator.userAgentData),h1));const fa=()=>If(),Sl=s=>{const l=mn((v=>{if(U(v.target)){const C=mn(v.target);if(lr(C)&&(k=>U(k.dom.shadowRoot))(C)&&v.composed&&v.composedPath){const k=v.composedPath();if(k)return Ne(k)}}return R.from(v.target)})(s).getOr(s.target)),d=()=>s.stopPropagation(),f=()=>s.preventDefault(),b=le(f,d);return((v,C,k,E,P,F,M)=>({target:v,x:C,y:k,stop:E,prevent:P,kill:F,raw:M}))(l,s.clientX,s.clientY,d,f,b,s)},rh=(s,l,d,f,b)=>{const v=((C,k)=>E=>{C(E)&&k(Sl(E))})(d,f);return s.dom.addEventListener(l,v,b),{unbind:Ve(os,s,l,v,b)}},os=(s,l,d,f)=>{s.dom.removeEventListener(l,d,f)},Ud=(s,l)=>{Oa(s).each(d=>{d.dom.insertBefore(l.dom,s.dom)})},ih=(s,l)=>{(f=>R.from(f.dom.nextSibling).map(mn))(s).fold(()=>{Oa(s).each(f=>{Va(f,l)})},f=>{Ud(f,l)})},ah=(s,l)=>{De(s).fold(()=>{Va(s,l)},d=>{s.dom.insertBefore(l.dom,d.dom)})},Va=(s,l)=>{s.dom.appendChild(l.dom)},zr=(s,l)=>{ft(l,d=>{Va(s,d)})},ur=s=>{s.dom.textContent="",ft(Bs(s),l=>{Gi(l)})},Gi=s=>{const l=s.dom;l.parentNode!==null&&l.parentNode.removeChild(l)},nr=s=>{const l=s!==void 0?s.dom:document,d=l.body.scrollLeft||l.documentElement.scrollLeft,f=l.body.scrollTop||l.documentElement.scrollTop;return tr(d,f)},Df=(s,l,d)=>{const f=(d!==void 0?d.dom:document).defaultView;f&&f.scrollTo(s,l)},$m=(s,l,d,f)=>({x:s,y:l,width:d,height:f,right:s+d,bottom:l+f}),_i=s=>{const l=s===void 0?window:s,d=l.document,f=nr(mn(d));return(b=>{const v=b===void 0?window:b;return fa().browser.isFirefox()?R.none():R.from(v.visualViewport)})(l).fold(()=>{const b=l.document.documentElement,v=b.clientWidth,C=b.clientHeight;return $m(f.left,f.top,v,C)},b=>$m(Math.max(b.pageLeft,f.left),Math.max(b.pageTop,f.top),b.width,b.height))},za=()=>mn(document),Da=(s,l)=>s.view(l).fold(j([]),d=>{const f=s.owner(d),b=Da(s,f);return[d].concat(b)});var lu=Object.freeze({__proto__:null,view:s=>{var l;return(s.dom===document?R.none():R.from((l=s.dom.defaultView)===null||l===void 0?void 0:l.frameElement)).map(mn)},owner:s=>ci(s)});const Wd=s=>{const l=za(),d=nr(l);return((b,v)=>{const C=v.owner(b),k=Da(v,C);return R.some(k)})(s,lu).fold(Ve(Vl,s),b=>{const v=ca(s),C=In(b,(k,E)=>{const P=ca(E);return{left:k.left+P.left,top:k.top+P.top}},{left:0,top:0});return tr(C.left+v.left+d.left,C.top+v.top+d.top)})},Fo=(s,l,d,f)=>({x:s,y:l,width:d,height:f,right:s+d,bottom:l+f}),ui=s=>{const l=Vl(s),d=il(s),f=Oc(s);return Fo(l.left,l.top,d,f)},kl=s=>{const l=Wd(s),d=il(s),f=Oc(s);return Fo(l.left,l.top,d,f)},Kd=(s,l)=>{const d=Math.max(s.x,l.x),f=Math.max(s.y,l.y),b=Math.min(s.right,l.right),v=Math.min(s.bottom,l.bottom);return Fo(d,f,b-d,v-f)},qi=()=>_i(window),Kn=s=>{let l=s;return{get:()=>l,set:d=>{l=d}}},Rc=s=>{const l=Kn(R.none()),d=()=>l.get().each(s);return{clear:()=>{d(),l.set(R.none())},isSet:()=>l.get().isSome(),get:()=>l.get(),set:f=>{d(),l.set(R.some(f))}}},Ic=()=>Rc(s=>s.unbind()),Rs=()=>{const s=Rc(H);return{...s,on:l=>s.get().each(l)}};var Cp=tinymce.util.Tools.resolve("tinymce.ThemeManager");const Yb=s=>{const l=v=>v(s),d=j(s),f=()=>b,b={tag:!0,inner:s,fold:(v,C)=>C(s),isValue:_e,isError:xe,map:v=>Ko.value(v(s)),mapError:f,bind:l,exists:l,forall:l,getOr:d,or:f,getOrThunk:d,orThunk:f,getOrDie:d,each:v=>{v(s)},toOptional:()=>R.some(s)};return b},jd=s=>{const l=()=>d,d={tag:!1,inner:s,fold:(f,b)=>f(s),isValue:xe,isError:_e,map:l,mapError:f=>Ko.error(f(s)),bind:l,exists:xe,forall:_e,getOr:fe,or:fe,getOrThunk:rt,orThunk:rt,getOrDie:Xe(String(s)),each:H,toOptional:R.none};return d},Ko={value:Yb,error:jd,fromOption:(s,l)=>s.fold(()=>jd(l),Yb)};var Ha;(function(s){s[s.Error=0]="Error",s[s.Value=1]="Value"})(Ha||(Ha={}));const _p=(s,l,d)=>s.stype===Ha.Error?l(s.serror):d(s.svalue),Zd=s=>({stype:Ha.Value,svalue:s}),Xb=s=>({stype:Ha.Error,serror:s}),cu=Zd,al=Xb,uu=_p,Pf=(s,l,d,f)=>({tag:"field",key:s,newKey:l,presence:d,prop:f}),je=(s,l,d)=>{switch(s.tag){case"field":return l(s.key,s.newKey,s.presence,s.prop);case"custom":return d(s.newKey,s.instantiator)}},Vm=s=>(...l)=>{if(l.length===0)throw new Error("Can't merge zero objects");const d={};for(let f=0;f<l.length;f++){const b=l[f];for(const v in b)vo(b,v)&&(d[v]=s(d[v],b[v]))}return d},Fs=Vm((s,l)=>w(s)&&w(l)?Fs(s,l):l),Jb=Vm((s,l)=>l),lh=s=>({tag:"defaultedThunk",process:s}),du=s=>lh(j(s)),ss=s=>({tag:"mergeWithThunk",process:s}),ma=s=>{const l=(f=>{const b=[],v=[];return ft(f,C=>{_p(C,k=>v.push(k),k=>b.push(k))}),{values:b,errors:v}})(s);return l.errors.length>0?(d=l.errors,le(al,Zt)(d)):cu(l.values);var d},Ju=s=>x(s)&&jt(s).length>100?" removed due to size":JSON.stringify(s,null,2),lc=(s,l)=>al([{path:s,getErrorInfo:l}]),Qu=s=>({extract:(l,d)=>((f,b)=>f.stype===Ha.Error?b(f.serror):f)(s(d),f=>((b,v)=>lc(b,j(v)))(l,f)),toString:j("val")}),ed=Qu(cu),ga=(s,l,d,f)=>f(On(s,l).getOrThunk(()=>d(s))),Nf=(s,l,d,f,b)=>{const v=k=>b.extract(l.concat([f]),k),C=k=>k.fold(()=>cu(R.none()),E=>((P,F)=>P.stype===Ha.Value?{stype:Ha.Value,svalue:F(P.svalue)}:P)(b.extract(l.concat([f]),E),R.some));switch(s.tag){case"required":return((k,E,P,F)=>On(E,P).fold(()=>((M,z,Y)=>lc(M,()=>'Could not find valid *required* value for "'+z+'" in '+Ju(Y)))(k,P,E),F))(l,d,f,v);case"defaultedThunk":return ga(d,f,s.process,v);case"option":return((k,E,P)=>P(On(k,E)))(d,f,C);case"defaultedOptionThunk":return((k,E,P,F)=>F(On(k,E).map(M=>M===!0?P(k):M)))(d,f,s.process,C);case"mergeWithThunk":return ga(d,f,j({}),k=>{const E=Fs(s.process(d),k);return v(E)})}},zm=s=>({extract:(l,d)=>s().extract(l,d),toString:()=>s().toString()}),Qb=s=>jt(ds(s,U)),Si=s=>{const l=Yn(s),d=In(s,(f,b)=>je(b,v=>Fs(f,{[v]:!0}),j(f)),{});return{extract:(f,b)=>{const v=O(b)?[]:Qb(b),C=Wt(v,k=>!Do(d,k));return C.length===0?l.extract(f,b):((k,E)=>lc(k,()=>"There are unsupported fields: ["+E.join(", ")+"] specified"))(f,C)},toString:l.toString}},Yn=s=>({extract:(l,d)=>((f,b,v)=>{const C={},k=[];for(const E of v)je(E,(P,F,M,z)=>{const Y=Nf(M,f,b,P,z);uu(Y,te=>{k.push(...te)},te=>{C[F]=te})},(P,F)=>{C[P]=F(b)});return k.length>0?al(k):cu(C)})(l,d,s),toString:()=>`obj{
`+Me(s,d=>je(d,(f,b,v,C)=>f+" -> "+C.toString(),(f,b)=>"state("+f+")")).join(`
`)+"}"}),td=s=>({extract:(l,d)=>{const f=Me(d,(b,v)=>s.extract(l.concat(["["+v+"]"]),b));return ma(f)},toString:()=>"array("+s.toString()+")"}),Hm=(s,l)=>{const d=l!==void 0?l:fe;return{extract:(f,b)=>{const v=[];for(const C of s){const k=C.extract(f,b);if(k.stype===Ha.Value)return{stype:Ha.Value,svalue:d(k.svalue)};v.push(k)}return ma(v)},toString:()=>"oneOf("+Me(s,f=>f.toString()).join(", ")+")"}},ha=(s,l)=>({extract:(d,f)=>{const b=jt(f),v=((C,k)=>td(Qu(s)).extract(C,k))(d,b);return((C,k)=>C.stype===Ha.Value?k(C.svalue):C)(v,C=>{const k=Me(C,E=>Pf(E,E,{tag:"required",process:{}},l));return Yn(k).extract(d,f)})},toString:()=>"setOf("+l.toString()+")"}),nd=le(td,Yn),Hl=j(ed),od=(s,l)=>Qu(d=>{const f=typeof d;return s(d)?cu(d):al(`Expected type: ${l} but got: ${f}`)}),Gd=od(ee,"number"),ki=od(h,"string"),cc=od(O,"boolean"),fu=od(Z,"function"),Um=s=>{if(Object(s)!==s)return!0;switch({}.toString.call(s).slice(8,-1)){case"Boolean":case"Number":case"String":case"Date":case"RegExp":case"Blob":case"FileList":case"ImageData":case"ImageBitmap":case"ArrayBuffer":return!0;case"Array":case"Object":return Object.keys(s).every(l=>Um(s[l]));default:return!1}},p1=Qu(s=>Um(s)?cu(s):al("Expected value to be acceptable for sending via postMessage")),sd=(s,l)=>({extract:(d,f)=>On(f,s).fold(()=>((b,v)=>lc(b,()=>'Choice schema did not contain choice key: "'+v+'"'))(d,s),b=>((v,C,k,E)=>On(k,E).fold(()=>((P,F,M)=>lc(P,()=>'The chosen schema: "'+M+'" did not exist in branches: '+Ju(F)))(v,k,E),P=>P.extract(v.concat(["branch: "+E]),C)))(d,f,l,b)),toString:()=>"chooseOn("+s+"). Possible values: "+jt(l)}),Lf=s=>Qu(l=>s(l).fold(al,cu)),ev=(s,l)=>ha(d=>s(d).fold(Xb,Zd),l),Cr=(s,l,d)=>{return f=((b,v,C)=>((k,E)=>k.stype===Ha.Error?{stype:Ha.Error,serror:E(k.serror)}:k)(v.extract([b],C),k=>({input:C,errors:k})))(s,l,d),_p(f,Ko.error,Ko.value);var f},Ua=s=>s.fold(l=>{throw new Error(ll(l))},fe),Pa=(s,l,d)=>Ua(Cr(s,l,d)),ll=s=>`Errors: 
`+(l=>{const d=l.length>10?l.slice(0,10).concat([{path:[],getErrorInfo:j("... (only showing first ten failures)")}]):l;return Me(d,f=>"Failed path: ("+f.path.join(" > ")+`)
`+f.getErrorInfo())})(s.errors).join(`
`)+`

Input object: `+Ju(s.input),bi=(s,l)=>sd(s,oo(l,Yn)),Sp=(s,l)=>((d,f)=>{const b=ua(f);return{extract:(v,C)=>b().extract(v,C),toString:()=>b().toString()}})(0,l),di=Pf,Yi=(s,l)=>({tag:"custom",newKey:s,instantiator:l}),mu=s=>Lf(l=>dt(s,l)?Ko.value(l):Ko.error(`Unsupported value: "${l}", choose one of "${s.join(", ")}".`)),Ft=s=>di(s,s,{tag:"required",process:{}},Hl()),Xi=(s,l)=>di(s,s,{tag:"required",process:{}},l),kp=s=>Xi(s,Gd),_r=s=>Xi(s,ki),rd=(s,l)=>di(s,s,{tag:"required",process:{}},mu(l)),Wa=s=>Xi(s,fu),Dc=(s,l)=>di(s,s,{tag:"required",process:{}},Yn(l)),Wm=(s,l)=>di(s,s,{tag:"required",process:{}},nd(l)),cl=(s,l)=>di(s,s,{tag:"required",process:{}},td(l)),es=s=>di(s,s,{tag:"option",process:{}},Hl()),Hr=(s,l)=>di(s,s,{tag:"option",process:{}},l),Mf=s=>Hr(s,Gd),Br=s=>Hr(s,ki),ch=(s,l)=>Hr(s,mu(l)),gu=s=>Hr(s,fu),b1=(s,l)=>Hr(s,td(l)),Or=(s,l)=>Hr(s,Yn(l)),mt=(s,l)=>di(s,s,du(l),Hl()),Ka=(s,l,d)=>di(s,s,du(l),d),Ur=(s,l)=>Ka(s,l,Gd),Xl=(s,l)=>Ka(s,l,ki),Pc=(s,l,d)=>Ka(s,l,mu(d)),oi=(s,l)=>Ka(s,l,cc),or=(s,l)=>Ka(s,l,fu),Ns=(s,l,d)=>Ka(s,l,td(d)),ja=(s,l,d)=>Ka(s,l,Yn(d)),Jl=s=>{if(!I(s))throw new Error("cases must be an array");if(s.length===0)throw new Error("there must be at least one case");const l=[],d={};return ft(s,(f,b)=>{const v=jt(f);if(v.length!==1)throw new Error("one and only one name per case");const C=v[0],k=f[C];if(d[C]!==void 0)throw new Error("duplicate key detected:"+C);if(C==="cata")throw new Error("cannot have a case named cata (sorry)");if(!I(k))throw new Error("case arguments must be an array");l.push(C),d[C]=(...E)=>{const P=E.length;if(P!==k.length)throw new Error("Wrong number of arguments to case "+C+". Expected "+k.length+" ("+k+"), got "+P);return{fold:(...F)=>{if(F.length!==s.length)throw new Error("Wrong number of arguments to fold. Expected "+s.length+", got "+F.length);return F[b].apply(null,E)},match:F=>{const M=jt(F);if(l.length!==M.length)throw new Error("Wrong number of arguments to match. Expected: "+l.join(",")+`
Actual: `+M.join(","));if(!Ke(l,z=>dt(M,z)))throw new Error("Not all branches were specified when using match. Specified: "+M.join(", ")+`
Required: `+l.join(", "));return F[C].apply(null,E)},log:F=>{console.log(F,{constructors:l,constructor:C,params:E})}}}}),d};Jl([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]);const hu=(s,l)=>((d,f)=>({[d]:f}))(s,l),qd=s=>(l=>{const d={};return ft(l,f=>{d[f.key]=f.value}),d})(s),Km=s=>Z(s)?s:xe,uh=(s,l,d)=>{let f=s.dom;const b=Km(d);for(;f.parentNode;){f=f.parentNode;const v=mn(f),C=l(v);if(C.isSome())return C;if(b(v))break}return R.none()},dh=(s,l,d)=>{const f=l(s),b=Km(d);return f.orThunk(()=>b(s)?R.none():uh(s,l,b))},tv=(s,l)=>ms(s.element,l.event.target),nv={can:_e,abort:xe,run:H},id=s=>{if(!Do(s,"can")&&!Do(s,"abort")&&!Do(s,"run"))throw new Error("EventHandler defined by: "+JSON.stringify(s,null,2)+" does not have can, abort, or run!");return{...nv,...s}},L=j,G=L("touchstart"),ce=L("touchmove"),$e=L("touchend"),Je=L("touchcancel"),$t=L("mousedown"),Jn=L("mousemove"),To=L("mouseout"),xo=L("mouseup"),Fn=L("mouseover"),Ss=L("focusin"),Wr=L("focusout"),Sr=L("keydown"),Nc=L("keyup"),jm=L("input"),Zm=L("change"),vi=L("click"),KC=L("transitioncancel"),ov=L("transitionend"),v1=L("transitionstart"),pa=L("selectstart"),Rr=s=>j("alloy."+s),Ni={tap:Rr("tap")},ad=Rr("focus"),Ep=Rr("blur.post"),Dx=Rr("paste.post"),uc=Rr("receive"),El=Rr("execute"),sv=Rr("focus.item"),Bf=Ni.tap,KE=Rr("longpress"),rv=Rr("sandbox.close"),Yd=Rr("typeahead.cancel"),Ff=Rr("system.init"),Ln=Rr("system.touchmove"),pu=Rr("system.touchend"),iv=Rr("system.scroll"),$f=Rr("system.resize"),ba=Rr("system.attached"),Lc=Rr("system.detached"),fh=Rr("system.dismissRequested"),Vf=Rr("system.repositionRequested"),y1=Rr("focusmanager.shifted"),bu=Rr("slotcontainer.visibility"),Ap=Rr("system.external.element.scroll"),Tp=Rr("change.tab"),qt=Rr("dismiss.tab"),Px=Rr("highlight"),zf=Rr("dehighlight"),Mo=(s,l)=>{Mc(s,s.element,l,{})},$n=(s,l,d)=>{Mc(s,s.element,l,d)},Hf=s=>{Mo(s,El())},pr=(s,l,d)=>{Mc(s,l,d,{})},Mc=(s,l,d,f)=>{const b={target:l,...f};s.getSystem().triggerEvent(d,l,b)},Bc=(s,l,d,f)=>{s.getSystem().triggerEvent(d,l,f.event)},_o=s=>qd(s),Op=(s,l)=>({key:s,value:id({abort:l})}),jC=s=>({key:s,value:id({run:(l,d)=>{d.event.prevent()}})}),Dt=(s,l)=>({key:s,value:id({run:l})}),Nx=(s,l,d)=>({key:s,value:id({run:(f,b)=>{l.apply(void 0,[f,b].concat(d))}})}),Rp=s=>l=>({key:s,value:id({run:(d,f)=>{tv(d,f)&&l(d,f)}})}),Ip=(s,l,d)=>((f,b)=>Dt(f,(v,C)=>{v.getSystem().getByUid(b).each(k=>{Bc(k,k.element,f,C)})}))(s,l.partUids[d]),mh=(s,l)=>Dt(s,(d,f)=>{const b=f.event,v=d.getSystem().getByDom(b.target).getOrThunk(()=>dh(b.target,C=>d.getSystem().getByDom(C).toOptional(),xe).getOr(d));l(d,v,f)}),Gm=s=>Dt(s,(l,d)=>{d.cut()}),ZC=s=>Dt(s,(l,d)=>{d.stop()}),Uf=(s,l)=>Rp(s)(l),ar=Rp(ba()),ld=Rp(Lc()),x1=Rp(Ff()),vu=(Jm=El(),s=>Dt(Jm,s)),qm=s=>Me(s,l=>Zu(l,"/*")?l.substring(0,l.length-2):l),dc=(s,l)=>{const d=s.toString(),f=d.indexOf(")")+1,b=d.indexOf("("),v=d.substring(b+1,f-1).split(/,\s*/);return s.toFunctionAnnotation=()=>({name:l,parameters:qm(v)}),s},Kr=s=>({classes:N(s.classes)?[]:s.classes,attributes:N(s.attributes)?{}:s.attributes,styles:N(s.styles)?{}:s.styles}),av=(s,l,d)=>x1((f,b)=>{d(f,s,l)}),Li=s=>({key:s,value:void 0}),w1=(s,l,d,f,b,v,C)=>{const k=F=>Do(F,d)?F[d]():R.none(),E=oo(b,(F,M)=>((z,Y,te)=>((me,pe,Ae)=>{const he=Ae.toString(),ge=he.indexOf(")")+1,Ce=he.indexOf("("),Te=he.substring(Ce+1,ge-1).split(/,\s*/);return me.toFunctionAnnotation=()=>({name:pe,parameters:qm(Te.slice(0,1).concat(Te.slice(3)))}),me})((me,...pe)=>{const Ae=[me].concat(pe);return me.config({name:j(z)}).fold(()=>{throw new Error("We could not find any behaviour configuration for: "+z+". Using API: "+te)},he=>{const ge=Array.prototype.slice.call(Ae,1);return Y.apply(void 0,[me,he.config,he.state].concat(ge))})},te,Y))(d,F,M)),P={...oo(v,(F,M)=>dc(F,M)),...E,revoke:Ve(Li,d),config:F=>{const M=Pa(d+"-config",s,F);return{key:d,value:{config:M,me:P,configAsRaw:ua(()=>Pa(d+"-config",s,F)),initialConfig:F,state:C}}},schema:j(l),exhibit:(F,M)=>en(k(F),On(f,"exhibit"),(z,Y)=>Y(M,z.config,z.state)).getOrThunk(()=>Kr({})),name:j(d),handlers:F=>k(F).map(M=>On(f,"events").getOr(()=>({}))(M.config,M.state)).getOr({})};return P},Fc={init:()=>Mi({readState:j("No State required")})},Mi=s=>s,Jt=s=>qd(s),Ym=Si([Ft("fields"),Ft("name"),mt("active",{}),mt("apis",{}),mt("state",Fc),mt("extra",{})]),Bi=s=>{const l=Pa("Creating behaviour: "+s.name,Ym,s);return((d,f,b,v,C,k)=>{const E=Si(d),P=Or(f,[(F=d,Hr("config",Si(F)))]);var F;return w1(E,P,f,b,v,C,k)})(l.fields,l.name,l.active,l.apis,l.extra,l.state)},GC=Si([Ft("branchKey"),Ft("branches"),Ft("name"),mt("active",{}),mt("apis",{}),mt("state",Fc),mt("extra",{})]),qC=s=>{const l=Pa("Creating behaviour: "+s.name,GC,s);return((d,f,b,v,C,k)=>{const E=d,P=Or(f,[Hr("config",d)]);return w1(E,P,f,b,v,C,k)})(bi(l.branchKey,l.branches),l.name,l.active,l.apis,l.extra,l.state)},jE=j(void 0),Xd=(s,l)=>{const d=Go(s,l);return d===void 0||d===""?[]:d.split(" ")},gh=s=>s.dom.classList!==void 0,lv=s=>Xd(s,"class"),C1=(s,l)=>((d,f,b)=>{const v=Xd(d,f).concat([b]);return fn(d,f,v.join(" ")),!0})(s,"class",l),Lx=(s,l)=>((d,f,b)=>{const v=Wt(Xd(d,f),C=>C!==b);return v.length>0?fn(d,f,v.join(" ")):Lo(d,f),!1})(s,"class",l),kr=(s,l)=>{gh(s)?s.dom.classList.add(l):C1(s,l)},cv=s=>{(gh(s)?s.dom.classList:lv(s)).length===0&&Lo(s,"class")},Ir=(s,l)=>{gh(s)?s.dom.classList.remove(l):Lx(s,l),cv(s)},ul=(s,l)=>gh(s)&&s.dom.classList.contains(l),jr=(s,l)=>{ft(l,d=>{kr(s,d)})},fc=(s,l)=>{ft(l,d=>{Ir(s,d)})},Jd=s=>gh(s)?(l=>{const d=l.dom.classList,f=new Array(d.length);for(let b=0;b<d.length;b++){const v=d.item(b);v!==null&&(f[b]=v)}return f})(s):lv(s),Ji=(s,l,d,f,b)=>{const v=C=>C+"px";return{position:s,left:l.map(v),top:d.map(v),right:f.map(v),bottom:b.map(v)}},uv=(s,l)=>{Cl(s,(d=>({...d,position:R.some(d.position)}))(l))},Dp=s=>(li(ni(s,"position"),"fixed")?R.none():iu(s)).orThunk(()=>{const l=Di("span");return Oa(s).bind(d=>{Va(d,l);const f=iu(l);return Gi(l),f})}),Wf=s=>Dp(s).map(Vl).getOrThunk(()=>tr(0,0)),YC=(s,l)=>{const d=s.element;kr(d,l.transitionClass),Ir(d,l.fadeOutClass),kr(d,l.fadeInClass),l.onShow(s)},Pp=(s,l)=>{const d=s.element;kr(d,l.transitionClass),Ir(d,l.fadeInClass),kr(d,l.fadeOutClass),l.onHide(s)},Mx=(s,l)=>s.y>=l.y,_1=(s,l)=>s.bottom<=l.bottom,dv=(s,l,d)=>({location:"top",leftX:l,topY:d.bounds.y-s.y}),S1=(s,l,d)=>({location:"bottom",leftX:l,bottomY:s.bottom-d.bounds.bottom}),Bx=s=>s.box.x-s.win.x,Xm=(s,l,d)=>d.getInitialPos().map(f=>{const b=((v,C)=>{const k=C.optScrollEnv.fold(j(v.bounds.y),E=>E.scrollElmTop+(v.bounds.y-E.currentScrollTop));return tr(v.bounds.x,k)})(f,l);return{box:Fo(b.left,b.top,Pi(s),Tr(s)),location:f.location}}),ZE=(s,l,d,f,b)=>{const v=((k,E)=>{const P=E.optScrollEnv.fold(j(k.y),F=>k.y+F.currentScrollTop-F.scrollElmTop);return tr(k.x,P)})(l,d),C=Fo(v.left,v.top,l.width,l.height);f.setInitialPos({style:Bm(s),position:Ar(s,"position")||"static",bounds:C,location:b.location})},k1=(s,l,d)=>d.getInitialPos().bind(f=>{var b;switch(d.clearInitialPos(),f.position){case"static":return R.some({morph:"static"});case"absolute":const v=Dp(s).getOr(kn()),C=ui(v),k=(b=v.dom.scrollTop)!==null&&b!==void 0?b:0;return R.some({morph:"absolute",positionCss:Ji("absolute",On(f.style,"left").map(E=>l.x-C.x),On(f.style,"top").map(E=>l.y-C.y+k),On(f.style,"right").map(E=>C.right-l.right),On(f.style,"bottom").map(E=>C.bottom-l.bottom))});default:return R.none()}}),E1=s=>{switch(s.location){case"top":return R.some({morph:"fixed",positionCss:Ji("fixed",R.some(s.leftX),R.some(s.topY),R.none(),R.none())});case"bottom":return R.some({morph:"fixed",positionCss:Ji("fixed",R.some(s.leftX),R.none(),R.none(),R.some(s.bottomY))});default:return R.none()}},Fx=(s,l,d)=>{const f=s.element;return li(ni(f,"position"),"fixed")?((b,v,C)=>((k,E,P)=>Xm(k,E,P).filter(({box:F})=>((M,z,Y)=>Ke(M,te=>{switch(te){case"bottom":return _1(z,Y.bounds);case"top":return Mx(z,Y.bounds)}}))(P.getModes(),F,E)).bind(({box:F})=>k1(k,F,P)))(b,v,C).orThunk(()=>v.optScrollEnv.bind(k=>Xm(b,v,C)).bind(({box:k,location:E})=>{const P=qi(),F=Bx({win:P,box:k}),M=E==="top"?dv(P,F,v):S1(P,F,v);return E1(M)})))(f,l,d):((b,v,C)=>{const k=ui(b),E=qi(),P=((F,M,z)=>{const Y=M.win,te=M.box,me=Bx(M);return cn(F,pe=>{switch(pe){case"bottom":return _1(te,z.bounds)?R.none():R.some(S1(Y,me,z));case"top":return Mx(te,z.bounds)?R.none():R.some(dv(Y,me,z));default:return R.none()}}).getOr({location:"no-dock"})})(C.getModes(),{win:E,box:k},v);return P.location==="top"||P.location==="bottom"?(ZE(b,k,v,C,P),E1(P)):R.none()})(f,l,d)},$x=(s,l,d)=>{d.setDocked(!1),ft(["left","right","top","bottom","position"],f=>As(s.element,f)),l.onUndocked(s)},fv=(s,l,d,f)=>{const b=f.position==="fixed";d.setDocked(b),uv(s.element,f),(b?l.onDocked:l.onUndocked)(s)},Vx=(s,l,d,f,b=!1)=>{l.contextual.each(v=>{v.lazyContext(s).each(C=>{const k=((E,P)=>E.y<P.bottom&&E.bottom>P.y)(C,f.bounds);k!==d.isVisible()&&(d.setVisible(k),b&&!k?(jr(s.element,[v.fadeOutClass]),v.onHide(s)):(k?YC:Pp)(s,v))})})},zx=(s,l,d,f,b)=>{Vx(s,l,d,f,!0),fv(s,l,d,b.positionCss)},mv=(s,l,d)=>{s.getSystem().isConnected()&&((f,b,v)=>{const C=b.lazyViewport(f);Vx(f,b,v,C),Fx(f,C,v).each(k=>{((E,P,F,M,z)=>{switch(z.morph){case"static":return $x(E,P,F);case"absolute":return fv(E,P,F,z.positionCss);case"fixed":zx(E,P,F,M,z)}})(f,b,v,C,k)})})(s,l,d)},Np=(s,l,d)=>{d.isDocked()&&((f,b,v)=>{const C=f.element;v.setDocked(!1);const k=b.lazyViewport(f);((E,P,F)=>{const M=E.element;return Xm(M,P,F).bind(({box:z})=>k1(M,z,F))})(f,k,v).each(E=>{switch(E.morph){case"static":$x(f,b,v);break;case"absolute":fv(f,b,v,E.positionCss)}}),v.setVisible(!0),b.contextual.each(E=>{fc(C,[E.fadeInClass,E.fadeOutClass,E.transitionClass]),E.onShow(f)}),mv(f,b,v)})(s,l,d)},Hx=s=>(l,d,f)=>{const b=d.lazyViewport(l);((v,C,k,E)=>{const P=ui(v),F=qi(),M=E(F,Bx({win:F,box:P}),C);return M.location==="bottom"||M.location==="top"?(((z,Y,te,me,pe)=>{me.getInitialPos().fold(()=>ZE(z,Y,te,me,pe),()=>H)})(v,P,C,k,M),E1(M)):R.none()})(l.element,b,f,s).each(v=>{zx(l,d,f,b,v)})},gv=Hx(dv),hv=Hx(S1);var Jm,Lp=Object.freeze({__proto__:null,refresh:mv,reset:Np,isDocked:(s,l,d)=>d.isDocked(),getModes:(s,l,d)=>d.getModes(),setModes:(s,l,d,f)=>d.setModes(f),forceDockToTop:gv,forceDockToBottom:hv}),Ux=Object.freeze({__proto__:null,events:(s,l)=>_o([Uf(ov(),(d,f)=>{s.contextual.each(b=>{ul(d.element,b.transitionClass)&&(fc(d.element,[b.transitionClass,b.fadeInClass]),(l.isVisible()?b.onShown:b.onHidden)(d)),f.stop()})}),Dt(iv(),(d,f)=>{mv(d,s,l)}),Dt(Ap(),(d,f)=>{mv(d,s,l)}),Dt($f(),(d,f)=>{Np(d,s,l)})])});const Qd=s=>s.dom.innerHTML,hh=(s,l)=>{const d=ci(s).dom,f=mn(d.createDocumentFragment()),b=((v,C)=>{const k=(C||document).createElement("div");return k.innerHTML=v,Bs(mn(k))})(l,d);zr(f,b),ur(s),Va(s,f)},ph=(s,l)=>mn(s.dom.cloneNode(l)),ef=s=>(l=>{if(wt(l))return"#shadow-root";{const d=(f=>ph(f,!1))(l);return(f=>{const b=Di("div"),v=mn(f.dom.cloneNode(!0));return Va(b,v),Qd(b)})(d)}})(s);var Kf;(function(s){s[s.STOP=0]="STOP",s[s.NORMAL=1]="NORMAL",s[s.LOGGING=2]="LOGGING"})(Kf||(Kf={}));const pv=Kn({}),GE=["alloy/data/Fields","alloy/debugging/Debugging"],bv=(s,l,d)=>((f,b,v)=>{switch(On(pv.get(),f).orThunk(()=>{const C=jt(pv.get());return cn(C,k=>f.indexOf(k)>-1?R.some(pv.get()[k]):R.none())}).getOr(Kf.NORMAL)){case Kf.NORMAL:return v($c());case Kf.LOGGING:{const C=((E,P)=>{const F=[],M=new Date().getTime();return{logEventCut:(z,Y,te)=>{F.push({outcome:"cut",target:Y,purpose:te})},logEventStopped:(z,Y,te)=>{F.push({outcome:"stopped",target:Y,purpose:te})},logNoParent:(z,Y,te)=>{F.push({outcome:"no-parent",target:Y,purpose:te})},logEventNoHandlers:(z,Y)=>{F.push({outcome:"no-handlers-left",target:Y})},logEventResponse:(z,Y,te)=>{F.push({outcome:"response",purpose:te,target:Y})},write:()=>{const z=new Date().getTime();dt(["mousemove","mouseover","mouseout",Ff()],E)||console.log(E,{event:E,time:z-M,target:P.dom,sequence:Me(F,Y=>dt(["cut","stopped","response"],Y.outcome)?"{"+Y.purpose+"} "+Y.outcome+" at ("+ef(Y.target)+")":Y.outcome)})}}})(f,b),k=v(C);return C.write(),k}case Kf.STOP:return!0}})(s,l,d),$c=j({logEventCut:H,logEventStopped:H,logNoParent:H,logEventNoHandlers:H,logEventResponse:H,write:H}),XC=j([Ft("menu"),Ft("selectedMenu")]),Wx=j([Ft("item"),Ft("selectedItem")]);j(Yn(Wx().concat(XC())));const bh=j(Yn(Wx())),va=Dc("initSize",[Ft("numColumns"),Ft("numRows")]),vh=()=>Dc("markers",[Ft("backgroundMenu")].concat(XC()).concat(Wx())),yh=s=>Dc("markers",Me(s,Ft)),A1=(s,l,d)=>((()=>{const f=new Error;if(f.stack!==void 0){const b=f.stack.split(`
`);J(b,v=>v.indexOf("alloy")>0&&!Sn(GE,C=>v.indexOf(C)>-1)).getOr("unknown")}})(),di(l,l,d,Lf(f=>Ko.value((...b)=>f.apply(void 0,b))))),rs=s=>A1(0,s,du(H)),Al=s=>A1(0,s,du(R.none)),cd=s=>A1(0,s,{tag:"required",process:{}}),Na=s=>A1(0,s,{tag:"required",process:{}}),Xs=(s,l)=>Yi(s,j(l)),vv=s=>Yi(s,fe),JC=j(va);var qE=[Or("contextual",[_r("fadeInClass"),_r("fadeOutClass"),_r("transitionClass"),Wa("lazyContext"),rs("onShow"),rs("onShown"),rs("onHide"),rs("onHidden")]),or("lazyViewport",()=>({bounds:qi(),optScrollEnv:R.none()})),Ns("modes",["top","bottom"],ki),rs("onDocked"),rs("onUndocked")];const dr=Bi({fields:qE,name:"docking",active:Ux,apis:Lp,state:Object.freeze({__proto__:null,init:s=>{const l=Kn(!1),d=Kn(!0),f=Rs(),b=Kn(s.modes);return Mi({isDocked:l.get,setDocked:l.set,getInitialPos:f.get,setInitialPos:f.set,clearInitialPos:f.clear,isVisible:d.get,setVisible:d.set,getModes:b.get,setModes:b.set,readState:()=>`docked:  ${l.get()}, visible: ${d.get()}, modes: ${b.get().join(",")}`})}})}),T1=_o([((s,l)=>({key:s,value:id({can:(d,f)=>{const b=f.event,v=b.originator,C=b.target;return!((k,E,P)=>ms(E,k.element)&&!ms(E,P))(d,v,C)||(console.warn(ad()+` did not get interpreted by the desired target. 
Originator: `+ef(v)+`
Target: `+ef(C)+`
Check the `+ad()+" event handlers"),!1)}})}))(ad())]);var Kx=Object.freeze({__proto__:null,events:T1});const Qm=(s,l,d,f)=>{const b=s+l;return b>f?d:b<d?f:b},Vc=(s,l,d)=>Math.min(Math.max(s,l),d);let Mp=0;const En=s=>{const l=new Date().getTime(),d=Math.floor(window.crypto.getRandomValues(new Uint32Array(1))[0]/4294967295*1e9);return Mp++,s+"_"+d+Mp+String(l)},yu=j("alloy-id-"),jx=j("data-alloy-id"),O1=yu(),Bp=jx(),R1=(s,l)=>{Object.defineProperty(s.dom,Bp,{value:l,writable:!0})},xh=s=>{const l=lr(s)?s.dom[Bp]:null;return R.from(l)},zc=s=>En(s),YE=fe,I1=s=>{const l=b=>`The component must be in a context to execute: ${b}`+(s?`
`+ef(s().element)+" is not in context.":""),d=b=>()=>{throw new Error(l(b))},f=b=>()=>{console.warn(l(b))};return{debugInfo:j("fake"),triggerEvent:f("triggerEvent"),triggerFocus:f("triggerFocus"),triggerEscape:f("triggerEscape"),broadcast:f("broadcast"),broadcastOn:f("broadcastOn"),broadcastEvent:f("broadcastEvent"),build:d("build"),buildOrPatch:d("buildOrPatch"),addToWorld:d("addToWorld"),removeFromWorld:d("removeFromWorld"),addToGui:d("addToGui"),removeFromGui:d("removeFromGui"),getByUid:d("getByUid"),getByDom:d("getByDom"),isConnected:xe}},Zx=I1(),D1=En("alloy-premade"),Gx=s=>(Object.defineProperty(s.element.dom,D1,{value:s.uid,writable:!0}),hu(D1,s)),qx=s=>On(s,D1),P1=s=>((l,d)=>{const f=d.toString(),b=f.indexOf(")")+1,v=f.indexOf("("),C=f.substring(v+1,b-1).split(/,\s*/);return l.toFunctionAnnotation=()=>({name:"OVERRIDE",parameters:qm(C.slice(1))}),l})((l,...d)=>s(l.getApis(),l,...d),s),Yx=(s,l)=>{const d={};return Xn(s,(f,b)=>{Xn(f,(v,C)=>{const k=On(d,C).getOr([]);d[C]=k.concat([l(b,v)])})}),d},Xx=s=>s.cHandler,QC=(s,l)=>({name:s,handler:l}),XE=(s,l)=>{const d={};return ft(s,f=>{d[f.name()]=f.handlers(l)}),d},yv=(s,l,d)=>{const f=l[d];return f?((b,v,C,k)=>{try{const E=be(C,(P,F)=>{const M=P[v],z=F[v],Y=k.indexOf(M),te=k.indexOf(z);if(Y===-1)throw new Error("The ordering for "+b+" does not have an entry for "+M+`.
Order specified: `+JSON.stringify(k,null,2));if(te===-1)throw new Error("The ordering for "+b+" does not have an entry for "+z+`.
Order specified: `+JSON.stringify(k,null,2));return Y<te?-1:te<Y?1:0});return Ko.value(E)}catch(E){return Ko.error([E])}})("Event: "+d,"name",s,f).map(b=>(v=>({can:((E,P)=>(...F)=>sn(E,(M,z)=>M&&(Y=>Y.can)(z).apply(void 0,F),!0))(v),abort:((E,P)=>(...F)=>sn(E,(M,z)=>M||(Y=>Y.abort)(z).apply(void 0,F),!1))(v),run:(...E)=>{ft(v,P=>{P.run.apply(void 0,E)})}}))(Me(b,v=>v.handler))):((b,v)=>Ko.error(["The event ("+b+`) has more than one behaviour that listens to it.
When this occurs, you must specify an event ordering for the behaviours in your spec (e.g. [ "listing", "toggling" ]).
The behaviours that can trigger it are: `+JSON.stringify(Me(v,C=>C.name),null,2)]))(d,s)},Jx=(s,l)=>((d,f)=>{const b=(C=>{const k=[],E=[];return ft(C,P=>{P.fold(F=>{k.push(F)},F=>{E.push(F)})}),{errors:k,values:E}})(d);return b.errors.length>0?(v=b.errors,Ko.error(Zt(v))):((C,k)=>C.length===0?Ko.value(k):Ko.value(Fs(k,Jb.apply(void 0,C))))(b.values,f);var v})(ei(s,(d,f)=>(d.length===1?Ko.value(d[0].handler):yv(d,l,f)).map(b=>{const v=(k=>{const E=(P=>Z(P)?{can:_e,abort:xe,run:P}:P)(k);return(P,F,...M)=>{const z=[P,F].concat(M);E.abort.apply(void 0,z)?F.stop():E.can.apply(void 0,z)&&E.run.apply(void 0,z)}})(b),C=d.length>1?Wt(l[f],k=>Sn(d,E=>E.name===k)).join(" > "):d[0].name;return hu(f,((k,E)=>({handler:k,purpose:E}))(v,C))})),{}),wh="alloy.base.behaviour",JE=Yn([di("dom","dom",{tag:"required",process:{}},Yn([Ft("tag"),mt("styles",{}),mt("classes",[]),mt("attributes",{}),es("value"),es("innerHtml")])),Ft("components"),Ft("uid"),mt("events",{}),mt("apis",{}),di("eventOrder","eventOrder",(Ch={[El()]:["disabling",wh,"toggling","typeaheadevents"],[ad()]:[wh,"focusing","keying"],[Ff()]:[wh,"disabling","toggling","representing","tooltipping"],[jm()]:[wh,"representing","streaming","invalidating"],[Lc()]:[wh,"representing","item-events","toolbar-button-events","tooltipping"],[$t()]:["focusing",wh,"item-type-events"],[G()]:["focusing",wh,"item-type-events"],[Fn()]:["item-type-events","tooltipping"],[uc()]:["receiving","reflecting","tooltipping"]},ss(j(Ch))),Hl()),es("domModification")]),QE=s=>s.events,jf=s=>s.dom.value,eg=(s,l)=>{if(l===void 0)throw new Error("Value.set was undefined");s.dom.value=l},N1=(s,l,d)=>{d.fold(()=>Va(s,l),f=>{ms(f,l)||(Ud(f,l),Gi(f))})},e_=(s,l,d)=>{const f=Me(l,d),b=Bs(s);return ft(b.slice(f.length),Gi),f},Qx=(s,l,d,f)=>{const b=cr(s,l),v=f(d,b),C=((k,E,P)=>cr(k,E).map(F=>{if(P.exists(M=>!ms(M,F))){const M=P.map(ol).getOr("span"),z=Di(M);return Ud(F,z),z}return F}))(s,l,b);return N1(s,v.element,C),v},xv=(s,l)=>{const d=jt(s),f=jt(l),b=we(f,d),v=((C,k)=>{const E={},P={};return Gs(C,(F,M)=>!vo(l,M)||F!==l[M],No(E),No(P)),{t:E,f:P}})(s).t;return{toRemove:b,toSet:v}},tf=(s,l)=>{const d=l.filter(f=>ol(f)===s.tag&&!(b=>b.innerHtml.isSome()&&b.domChildren.length>0)(s)&&!(b=>vo(b.dom,D1))(f)).bind(f=>((b,v)=>{try{const C=((k,E)=>{const{class:P,style:F,...M}=(Ce=>sn(Ce.dom.attributes,(Te,Ie)=>(Te[Ie.name]=Ie.value,Te),{}))(E),{toSet:z,toRemove:Y}=xv(k.attributes,M),te=Bm(E),{toSet:me,toRemove:pe}=xv(k.styles,te),Ae=Jd(E),he=we(Ae,k.classes),ge=we(k.classes,Ae);return ft(Y,Ce=>Lo(E,Ce)),Os(E,z),jr(E,ge),fc(E,he),ft(pe,Ce=>As(E,Ce)),rl(E,me),k.innerHtml.fold(()=>{const Ce=k.domChildren;((Te,Ie)=>{e_(Te,Ie,(qe,ct)=>{const Nt=cr(Te,ct);return N1(Te,qe,Nt),qe})})(E,Ce)},Ce=>{hh(E,Ce)}),(()=>{const Ce=E,Te=k.value.getOrUndefined();Te!==jf(Ce)&&eg(Ce,Te??"")})(),E})(b,v);return R.some(C)}catch{return R.none()}})(s,f)).getOrThunk(()=>(f=>{const b=Di(f.tag);Os(b,f.attributes),jr(b,f.classes),rl(b,f.styles),f.innerHtml.each(C=>hh(b,C));const v=f.domChildren;return zr(b,v),f.value.each(C=>{eg(b,C)}),b})(s));return R1(d,s.uid),d},L1=s=>{const l=(d=>{const f=On(d,"behaviours").getOr({});return bn(jt(f),b=>{const v=f[b];return U(v)?[v.me]:[]})})(s);return((d,f)=>((b,v)=>{const C=Me(v,E=>Or(E.name(),[Ft("config"),mt("state",Fc)])),k=Cr("component.behaviours",Yn(C),b.behaviours).fold(E=>{throw new Error(ll(E)+`
Complete spec:
`+JSON.stringify(b,null,2))},fe);return{list:v,data:oo(k,E=>{const P=E.map(F=>({config:F.config,state:F.state.init(F.config)}));return j(P)})}})(d,f))(s,l)},yi=(s,l)=>{const d=()=>z,f=Kn(Zx),b=Ua((Y=>Cr("custom.definition",JE,Y))(s)),v=L1(s),C=(Y=>Y.list)(v),k=(Y=>Y.data)(v),E=((Y,te,me)=>{const pe={...(Ae=Y).dom,uid:Ae.uid,domChildren:Me(Ae.components,qe=>qe.element)};var Ae;const he=(qe=>qe.domModification.fold(()=>Kr({}),Kr))(Y),ge={"alloy.base.modification":he},Ce=te.length>0?((qe,ct,Nt,It)=>{const Tt={...ct};ft(Nt,jo=>{Tt[jo.name()]=jo.exhibit(qe,It)});const Gt=Yx(Tt,(jo,rr)=>({name:jo,modification:rr})),wn=jo=>In(jo,(rr,mr)=>({...mr.modification,...rr}),{}),Nn=In(Gt.classes,(jo,rr)=>rr.modification.concat(jo),[]),Zn=wn(Gt.attributes),po=wn(Gt.styles);return Kr({classes:Nn,attributes:Zn,styles:po})})(me,ge,te,pe):he;return Te=pe,Ie=Ce,{...Te,attributes:{...Te.attributes,...Ie.attributes},styles:{...Te.styles,...Ie.styles},classes:Te.classes.concat(Ie.classes)};var Te,Ie})(b,C,k),P=tf(E,l),F=((Y,te,me)=>{const pe={"alloy.base.behaviour":QE(Y)};return((Ae,he,ge,Ce)=>{const Te=((Ie,qe,ct)=>{const Nt={...ct,...XE(qe,Ie)};return Yx(Nt,QC)})(Ae,ge,Ce);return Jx(Te,he)})(me,Y.eventOrder,te,pe).getOrDie()})(b,C,k),M=Kn(b.components),z={uid:s.uid,getSystem:f.get,config:Y=>{const te=k;return(Z(te[Y.name()])?te[Y.name()]:()=>{throw new Error("Could not find "+Y.name()+" in "+JSON.stringify(s,null,2))})()},hasConfigured:Y=>Z(k[Y.name()]),spec:s,readState:Y=>k[Y]().map(te=>te.state.readState()).getOr("not enabled"),getApis:()=>b.apis,connect:Y=>{f.set(Y)},disconnect:()=>{f.set(I1(d))},element:P,syncComponents:()=>{const Y=Bs(P),te=bn(Y,me=>f.get().getByDom(me).fold(()=>[],He));M.set(te)},components:M.get,events:F};return z},Fr=s=>{const l=qu(s);return Zf({element:l})},Zf=s=>{const l=Pa("external.component",Si([Ft("element"),es("uid")]),s),d=Kn(I1()),f=l.uid.getOrThunk(()=>zc("external"));R1(l.element,f);const b={uid:f,getSystem:d.get,config:R.none,hasConfigured:xe,connect:v=>{d.set(v)},disconnect:()=>{d.set(I1(()=>b))},getApis:()=>({}),element:l.element,spec:s,readState:j("No state"),syncComponents:H,components:j([]),events:{}};return Gx(b)},e2=zc,M1=(s,l)=>qx(s).getOrThunk(()=>((d,f)=>{const{events:b,...v}=YE(d),C=((E,P)=>{const F=On(E,"components").getOr([]);return P.fold(()=>Me(F,Qi),M=>Me(F,(z,Y)=>M1(z,cr(M,Y))))})(v,f),k={...v,events:{...Kx,...b},components:C};return Ko.value(yi(k,f))})((d=>vo(d,"uid"))(s)?s:{uid:e2(""),...s},l).getOrDie()),Qi=s=>M1(s,R.none()),dl=Gx;var Ch,Gf=(s,l,d,f,b)=>s(d,f)?R.some(d):Z(b)&&b(d)?R.none():l(d,f,b);const tg=(s,l,d)=>{let f=s.dom;const b=Z(d)?d:xe;for(;f.parentNode;){f=f.parentNode;const v=mn(f);if(l(v))return R.some(v);if(b(v))break}return R.none()},B1=(s,l,d)=>Gf((f,b)=>b(f),tg,s,l,d),t_=(s,l)=>J(s.dom.childNodes,d=>l(mn(d))).map(mn),t2=(s,l,d)=>B1(s,l,d).isSome(),ng=(s,l,d)=>tg(s,f=>su(f,l),d),Js=(s,l)=>((d,f)=>{const b=d.dom;return b.parentNode?t_(mn(b.parentNode),v=>!ms(d,v)&&su(v,l)):R.none()})(s),F1=(s,l)=>t_(s,d=>su(d,l)),fr=(s,l)=>Vd(l,s),ud=(s,l,d)=>Gf((f,b)=>su(f,b),ng,s,l,d),xu="aria-controls",_h=()=>{const s=En(xu);return{id:s,link:l=>{fn(l,xu,s)},unlink:l=>{Lo(l,xu)}}},Tl=(s,l)=>t2(l,d=>ms(d,s.element),xe)||((d,f)=>(b=>B1(b,v=>{if(!lr(v))return!1;const C=Go(v,"id");return C!==void 0&&C.indexOf(xu)>-1}).bind(v=>{const C=Go(v,"id"),k=bt(v);return fr(k,`[${xu}="${C}"]`)}))(f).exists(b=>Tl(d,b)))(s,l),ya=(s,l,d,f,b,v,C,k=!1)=>({x:s,y:l,bubble:d,direction:f,placement:b,restriction:v,label:`${C}-${b}`,alwaysFit:k}),og=Jl([{southeast:[]},{southwest:[]},{northeast:[]},{northwest:[]},{south:[]},{north:[]},{east:[]},{west:[]}]),wv=og.southeast,Sh=og.southwest,Cv=og.northeast,kh=og.northwest,n_=og.south,n2=og.north,o2=og.east,o_=og.west,xa=(s,l)=>Re(["left","right","top","bottom"],d=>On(l,d).map(f=>((b,v)=>{switch(v){case 1:return b.x;case 0:return b.x+b.width;case 2:return b.y;case 3:return b.y+b.height}})(s,f))),sg="layout",s_=s=>s.x,Hc=(s,l)=>s.x+s.width/2-l.width/2,fl=(s,l)=>s.x+s.width-l.width,Eh=(s,l)=>s.y-l.height,Fp=s=>s.y+s.height,r_=(s,l)=>s.y+s.height/2-l.height/2,Dr=(s,l,d)=>ya(s_(s),Fp(s),d.southeast(),wv(),"southeast",xa(s,{left:1,top:3}),sg),Pr=(s,l,d)=>ya(fl(s,l),Fp(s),d.southwest(),Sh(),"southwest",xa(s,{right:0,top:3}),sg),si=(s,l,d)=>ya(s_(s),Eh(s,l),d.northeast(),Cv(),"northeast",xa(s,{left:1,bottom:2}),sg),$s=(s,l,d)=>ya(fl(s,l),Eh(s,l),d.northwest(),kh(),"northwest",xa(s,{right:0,bottom:2}),sg),Er=(s,l,d)=>ya(Hc(s,l),Eh(s,l),d.north(),n2(),"north",xa(s,{bottom:2}),sg),Zr=(s,l,d)=>ya(Hc(s,l),Fp(s),d.south(),n_(),"south",xa(s,{top:3}),sg),$1=(s,l,d)=>ya((f=>f.x+f.width)(s),r_(s,l),d.east(),o2(),"east",xa(s,{left:0}),sg),V1=(s,l,d)=>ya(((f,b)=>f.x-b.width)(s,l),r_(s,l),d.west(),o_(),"west",xa(s,{right:1}),sg),s2=()=>[Dr,Pr,si,$s,Zr,Er,$1,V1],_v=()=>[Pr,Dr,$s,si,Zr,Er,$1,V1],r2=()=>[si,$s,Dr,Pr,Er,Zr],Ah=()=>[$s,si,Pr,Dr,Er,Zr],z1=()=>[Dr,Pr,si,$s,Zr,Er],H1=()=>[Pr,Dr,$s,si,Zr,Er];var i2=Object.freeze({__proto__:null,events:s=>_o([Dt(uc(),(l,d)=>{const f=s.channels,b=jt(f),v=d,C=((k,E)=>E.universal?k:Wt(k,P=>dt(E.channels,P)))(b,v);ft(C,k=>{const E=f[k],P=E.schema,F=Pa("channel["+k+`] data
Receiver: `+ef(l.element),P,v.data);E.onReceive(l,F)})})])}),Sv=[Xi("channels",ev(Ko.value,Si([cd("onReceive"),mt("schema",Hl())])))];const Ol=Bi({fields:Sv,name:"receiving",active:i2});var a2=Object.freeze({__proto__:null,exhibit:(s,l)=>Kr({classes:[],styles:l.useFixed()?{}:{position:"relative"}})});const Za=(s,l=!1)=>s.dom.focus({preventScroll:l}),kv=s=>s.dom.blur(),Th=s=>{const l=bt(s).dom;return s.dom===l.activeElement},wu=(s=za())=>R.from(s.dom.activeElement).map(mn),Gr=s=>wu(bt(s)).filter(l=>s.dom.contains(l.dom)),rg=(s,l)=>{const d=bt(l),f=wu(d).bind(v=>{const C=k=>ms(v,k);return C(l)?R.some(l):((k,E)=>{const P=F=>{for(let M=0;M<F.childNodes.length;M++){const z=mn(F.childNodes[M]);if(E(z))return R.some(z);const Y=P(F.childNodes[M]);if(Y.isSome())return Y}return R.none()};return P(k.dom)})(l,C)}),b=s(l);return f.each(v=>{wu(d).filter(C=>ms(C,v)).fold(()=>{Za(v)},H)}),b},l2=Jl([{none:[]},{relative:["x","y","width","height"]},{fixed:["x","y","width","height"]}]),c2=(s,l,d,f,b,v)=>{const C=l.rect,k=C.x-d,E=C.y-f,P=b-(k+C.width),F=v-(E+C.height),M=R.some(k),z=R.some(E),Y=R.some(P),te=R.some(F),me=R.none();return l.direction.fold(()=>Ji(s,M,z,me,me),()=>Ji(s,me,z,Y,me),()=>Ji(s,M,me,me,te),()=>Ji(s,me,me,Y,te),()=>Ji(s,M,z,me,me),()=>Ji(s,M,me,me,te),()=>Ji(s,M,z,me,me),()=>Ji(s,me,z,Y,me))},Ev=(s,l)=>s.fold(()=>{const d=l.rect;return Ji("absolute",R.some(d.x),R.some(d.y),R.none(),R.none())},(d,f,b,v)=>c2("absolute",l,d,f,b,v),(d,f,b,v)=>c2("fixed",l,d,f,b,v)),nf=(s,l)=>{const d=Ve(Wd,l),f=s.fold(d,d,()=>{const C=nr();return Wd(l).translate(-C.left,-C.top)}),b=il(l),v=Oc(l);return Fo(f.left,f.top,b,v)},eA=(s,l)=>l.fold(()=>s.fold(qi,qi,Fo),d=>s.fold(j(d),j(d),()=>{const f=Av(s,d.x,d.y);return Fo(f.left,f.top,d.width,d.height)})),Av=(s,l,d)=>{const f=tr(l,d);return s.fold(j(f),j(f),()=>{const b=nr();return f.translate(-b.left,-b.top)})};l2.none;const ig=l2.relative,i_=l2.fixed,Tv="data-alloy-placement",Ov=s=>ns(s,Tv),U1=Jl([{fit:["reposition"]},{nofit:["reposition","visibleW","visibleH","isVisible"]}]),$p=(s,l,d,f)=>{const b=s.bubble,v=b.offset,C=((Ce,Te,Ie)=>{const qe=(Gt,wn)=>Te[Gt].map(Nn=>{const Zn=Gt==="top"||Gt==="bottom",po=Zn?Ie.top:Ie.left,jo=(Gt==="left"||Gt==="top"?Math.max:Math.min)(Nn,wn)+po;return Zn?Vc(jo,Ce.y,Ce.bottom):Vc(jo,Ce.x,Ce.right)}).getOr(wn),ct=qe("left",Ce.x),Nt=qe("top",Ce.y),It=qe("right",Ce.right),Tt=qe("bottom",Ce.bottom);return Fo(ct,Nt,It-ct,Tt-Nt)})(f,s.restriction,v),k=s.x+v.left,E=s.y+v.top,P=Fo(k,E,l,d),{originInBounds:F,sizeInBounds:M,visibleW:z,visibleH:Y}=((Ce,Te)=>{const{x:Ie,y:qe,right:ct,bottom:Nt}=Te,{x:It,y:Tt,right:Gt,bottom:wn,width:Nn,height:Zn}=Ce;return{originInBounds:It>=Ie&&It<=ct&&Tt>=qe&&Tt<=Nt,sizeInBounds:Gt<=ct&&Gt>=Ie&&wn<=Nt&&wn>=qe,visibleW:Math.min(Nn,It>=Ie?ct-It:Gt-Ie),visibleH:Math.min(Zn,Tt>=qe?Nt-Tt:wn-qe)}})(P,C),te=F&&M,me=te?P:((Ce,Te)=>{const{x:Ie,y:qe,right:ct,bottom:Nt}=Te,{x:It,y:Tt,width:Gt,height:wn}=Ce,Nn=Math.max(Ie,ct-Gt),Zn=Math.max(qe,Nt-wn),po=Vc(It,Ie,Nn),jo=Vc(Tt,qe,Zn),rr=Math.min(po+Gt,ct)-po,mr=Math.min(jo+wn,Nt)-jo;return Fo(po,jo,rr,mr)})(P,C),pe=me.width>0&&me.height>0,{maxWidth:Ae,maxHeight:he}=((Ce,Te,Ie)=>{const qe=j(Te.bottom-Ie.y),ct=j(Ie.bottom-Te.y),Nt=((wn,Nn,Zn,po)=>wn.fold(Nn,Nn,po,po,Nn,po,Zn,Zn))(Ce,ct,ct,qe),It=j(Te.right-Ie.x),Tt=j(Ie.right-Te.x);return{maxWidth:((wn,Nn,Zn,po)=>wn.fold(Nn,po,Nn,po,Zn,Zn,Nn,po))(Ce,Tt,Tt,It),maxHeight:Nt}})(s.direction,me,f),ge={rect:me,maxHeight:he,maxWidth:Ae,direction:s.direction,placement:s.placement,classes:{on:b.classesOn,off:b.classesOff},layout:s.label,testY:E};return te||s.alwaysFit?U1.fit(ge):U1.nofit(ge,z,Y,pe)},W1=_e,Ga=(s,l,d)=>((f,b,v,C)=>rh(f,b,v,C,!1))(s,l,W1,d),u2=(s,l,d)=>((f,b,v,C)=>rh(f,b,v,C,!0))(s,l,W1,d),of=Sl,Rv=["top","bottom","right","left"],dd="data-alloy-transition-timer",Iv=(s,l,d,f,b,v)=>{const C=((k,E,P)=>P.exists(F=>{const M=k.mode;return M==="all"||F[M]!==E[M]}))(f,b,v);if(C||((k,E)=>((P,F)=>Ke(F,M=>ul(P,M)))(k,E.classes))(s,f)){wo(s,"position",d.position);const k=nf(l,s),E=Ev(l,{...b,rect:k}),P=Re(Rv,F=>E[F]);((F,M)=>{const z=Y=>parseFloat(Y).toFixed(3);return _s(M,(Y,te)=>!((me,pe,Ae=ne)=>en(me,pe,Ae).getOr(me.isNone()&&pe.isNone()))(F[te].map(z),Y.map(z))).isSome()})(d,P)&&(Cl(s,P),C&&((F,M)=>{jr(F,M.classes),ns(F,dd).each(z=>{clearTimeout(parseInt(z,10)),Lo(F,dd)}),((z,Y)=>{const te=Ic(),me=Ic();let pe;const Ae=Te=>{var Ie;const qe=(Ie=Te.raw.pseudoElement)!==null&&Ie!==void 0?Ie:"";return ms(Te.target,z)&&Gu(qe)&&dt(Rv,Te.raw.propertyName)},he=Te=>{if(V(Te)||Ae(Te)){te.clear(),me.clear();const Ie=Te==null?void 0:Te.raw.type;(V(Ie)||Ie===ov())&&(clearTimeout(pe),Lo(z,dd),fc(z,Y.classes))}},ge=Ga(z,v1(),Te=>{Ae(Te)&&(ge.unbind(),te.set(Ga(z,ov(),he)),me.set(Ga(z,KC(),he)))}),Ce=(Te=>{const Ie=It=>{const Tt=Ar(Te,It).split(/\s*,\s*/);return Wt(Tt,xl)},qe=It=>{if(h(It)&&/^[\d.]+/.test(It)){const Tt=parseFloat(It);return Zu(It,"ms")?Tt:1e3*Tt}return 0},ct=Ie("transition-delay"),Nt=Ie("transition-duration");return sn(Nt,(It,Tt,Gt)=>{const wn=qe(ct[Gt])+qe(Tt);return Math.max(It,wn)},0)})(z);requestAnimationFrame(()=>{pe=setTimeout(he,Ce+17),fn(z,dd,pe)})})(F,M)})(s,f),zd(s))}else fc(s,f.classes)},Dv=(s,l)=>{((d,f)=>{const b=yp.max(d,f,["margin-top","border-top-width","padding-top","padding-bottom","border-bottom-width","margin-bottom"]);wo(d,"max-height",b+"px")})(s,Math.floor(l))},ag=j((s,l)=>{Dv(s,l),rl(s,{"overflow-x":"hidden","overflow-y":"auto"})}),Oh=j((s,l)=>{Dv(s,l)}),Uc=(s,l,d)=>s[l]===void 0?d:s[l],Pv=(s,l,d,f)=>{const b=((v,C,k,E)=>{As(C,"max-height"),As(C,"max-width");const P={width:il(F=C),height:Oc(F)};var F;return((M,z,Y,te,me,pe)=>{const Ae=te.width,he=te.height,ge=(Ce,Te,Ie,qe,ct)=>{const Nt=Ce(Y,te,me,M,pe),It=$p(Nt,Ae,he,pe);return It.fold(j(It),(Tt,Gt,wn,Nn)=>(ct===Nn?wn>qe||Gt>Ie:!ct&&Nn)?It:U1.nofit(Te,Ie,qe,ct))};return sn(z,(Ce,Te)=>{const Ie=Ve(ge,Te);return Ce.fold(j(Ce),Ie)},U1.nofit({rect:Y,maxHeight:te.height,maxWidth:te.width,direction:wv(),placement:"southeast",classes:{on:[],off:[]},layout:"none",testY:Y.y},-1,-1,!1)).fold(fe,fe)})(C,E.preference,v,P,k,E.bounds)})(s,l,d,f);return((v,C,k)=>{const E=Ev(k.origin,C);k.transition.each(P=>{Iv(v,k.origin,E,P,C,k.lastPlacement)}),uv(v,E)})(l,b,f),((v,C)=>{((k,E)=>{fn(k,Tv,E)})(v,C.placement)})(l,b),((v,C)=>{const k=C.classes;fc(v,k.off),jr(v,k.on)})(l,b),((v,C,k)=>{(0,k.maxHeightFunction)(v,C.maxHeight)})(l,b,f),((v,C,k)=>{(0,k.maxWidthFunction)(v,C.maxWidth)})(l,b,f),{layout:b.layout,placement:b.placement}},tA=["valignCentre","alignLeft","alignRight","alignCentre","top","bottom","left","right","inset"],mc=(s,l,d,f=1)=>{const b=s*f,v=l*f,C=E=>On(d,E).getOr([]),k=(E,P,F)=>{const M=we(tA,F);return{offset:tr(E,P),classesOn:bn(F,C),classesOff:bn(M,C)}};return{southeast:()=>k(-s,l,["top","alignLeft"]),southwest:()=>k(s,l,["top","alignRight"]),south:()=>k(-s/2,l,["top","alignCentre"]),northeast:()=>k(-s,-l,["bottom","alignLeft"]),northwest:()=>k(s,-l,["bottom","alignRight"]),north:()=>k(-s/2,-l,["bottom","alignCentre"]),east:()=>k(s,-l/2,["valignCentre","left"]),west:()=>k(-s,-l/2,["valignCentre","right"]),insetNortheast:()=>k(b,v,["top","alignLeft","inset"]),insetNorthwest:()=>k(-b,v,["top","alignRight","inset"]),insetNorth:()=>k(-b/2,v,["top","alignCentre","inset"]),insetSoutheast:()=>k(b,-v,["bottom","alignLeft","inset"]),insetSouthwest:()=>k(-b,-v,["bottom","alignRight","inset"]),insetSouth:()=>k(-b/2,-v,["bottom","alignCentre","inset"]),insetEast:()=>k(-b,-v/2,["valignCentre","right","inset"]),insetWest:()=>k(b,-v/2,["valignCentre","left","inset"])}},sf=()=>mc(0,0,{}),Wc=fe,d2=(s,l)=>d=>Ei(d)==="rtl"?l:s,Ei=s=>Ar(s,"direction")==="rtl"?"rtl":"ltr";var Kc;(function(s){s.TopToBottom="toptobottom",s.BottomToTop="bottomtotop"})(Kc||(Kc={}));const Rl="data-alloy-vertical-dir",nA=s=>t2(s,l=>lr(l)&&Go(l,"data-alloy-vertical-dir")===Kc.BottomToTop),qf=()=>Or("layouts",[Ft("onLtr"),Ft("onRtl"),es("onBottomLtr"),es("onBottomRtl")]),rf=(s,l,d,f,b,v,C)=>{const k=C.map(nA).getOr(!1),E=l.layouts.map(z=>z.onLtr(s)),P=l.layouts.map(z=>z.onRtl(s)),F=k?l.layouts.bind(z=>z.onBottomLtr.map(Y=>Y(s))).or(E).getOr(b):E.getOr(d),M=k?l.layouts.bind(z=>z.onBottomRtl.map(Y=>Y(s))).or(P).getOr(v):P.getOr(f);return d2(F,M)(s)};var Vp=[Ft("hotspot"),es("bubble"),mt("overrides",{}),qf(),Xs("placement",(s,l,d)=>{const f=l.hotspot,b=nf(d,f.element),v=rf(s.element,l,z1(),H1(),r2(),Ah(),R.some(l.hotspot.element));return R.some(Wc({anchorBox:b,bubble:l.bubble.getOr(sf()),overrides:l.overrides,layouts:v}))})],lg=[Ft("x"),Ft("y"),mt("height",0),mt("width",0),mt("bubble",sf()),mt("overrides",{}),qf(),Xs("placement",(s,l,d)=>{const f=Av(d,l.x,l.y),b=Fo(f.left,f.top,l.width,l.height),v=rf(s.element,l,s2(),_v(),s2(),_v(),R.none());return R.some(Wc({anchorBox:b,bubble:l.bubble,overrides:l.overrides,layouts:v}))})];const Ql=Jl([{screen:["point"]},{absolute:["point","scrollLeft","scrollTop"]}]),K1=s=>s.fold(fe,(l,d,f)=>l.translate(-d,-f)),j1=s=>s.fold(fe,fe),Nv=s=>sn(s,(l,d)=>l.translate(d.left,d.top),tr(0,0)),Z1=s=>{const l=Me(s,j1);return Nv(l)},a_=Ql.screen,Lv=Ql.absolute,af=(s,l,d)=>{const f=ci(s.element),b=nr(f),v=((C,k,E)=>{const P=ru(E.root).dom;return R.from(P.frameElement).map(mn).filter(F=>{const M=ci(F),z=ci(C.element);return ms(M,z)}).map(Vl)})(s,0,d).getOr(b);return Lv(v,b.left,b.top)},Mv=(s,l,d,f)=>{const b=a_(tr(s,l));return R.some(((v,C,k)=>({point:v,width:C,height:k}))(b,d,f))},Rh=(s,l,d,f,b)=>s.map(v=>{const C=[l,v.point],k=(E=()=>Z1(C),P=()=>Z1(C),F=()=>(ge=>{const Ce=Me(ge,K1);return Nv(Ce)})(C),f.fold(E,P,F));var E,P,F;const M=(me=k.left,pe=k.top,Ae=v.width,he=v.height,{x:me,y:pe,width:Ae,height:he}),z=d.showAbove?r2():z1(),Y=d.showAbove?Ah():H1(),te=rf(b,d,z,Y,z,Y,R.none());var me,pe,Ae,he;return Wc({anchorBox:M,bubble:d.bubble.getOr(sf()),overrides:d.overrides,layouts:te})});var Ih=[Ft("node"),Ft("root"),es("bubble"),qf(),mt("overrides",{}),mt("showAbove",!1),Xs("placement",(s,l,d)=>{const f=af(s,0,l);return l.node.filter(vn).bind(b=>{const v=b.dom.getBoundingClientRect(),C=Mv(v.left,v.top,v.width,v.height),k=l.node.getOr(s.element);return Rh(C,f,l,d,k)})})];const Yf=(s,l,d,f)=>({start:s,soffset:l,finish:d,foffset:f}),Xf=Jl([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),Bv=(Xf.before,Xf.on,Xf.after,s=>s.fold(fe,fe,fe)),Jf=Jl([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),Qf={domRange:Jf.domRange,relative:Jf.relative,exact:Jf.exact,exactFromRange:s=>Jf.exact(s.start,s.soffset,s.finish,s.foffset),getWin:s=>{const l=(d=>d.match({domRange:f=>mn(f.startContainer),relative:(f,b)=>Bv(f),exact:(f,b,v,C)=>f}))(s);return ru(l)},range:Yf},em=(s,l,d)=>{const f=s.document.createRange();var b;return b=f,l.fold(v=>{b.setStartBefore(v.dom)},(v,C)=>{b.setStart(v.dom,C)},v=>{b.setStartAfter(v.dom)}),((v,C)=>{C.fold(k=>{v.setEndBefore(k.dom)},(k,E)=>{v.setEnd(k.dom,E)},k=>{v.setEndAfter(k.dom)})})(f,d),f},Dh=(s,l,d,f,b)=>{const v=s.document.createRange();return v.setStart(l.dom,d),v.setEnd(f.dom,b),v},G1=s=>({left:s.left,top:s.top,right:s.right,bottom:s.bottom,width:s.width,height:s.height}),zp=Jl([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),q1=(s,l,d)=>l(mn(d.startContainer),d.startOffset,mn(d.endContainer),d.endOffset),f2=(s,l)=>((d,f)=>{const b=((v,C)=>C.match({domRange:k=>({ltr:j(k),rtl:R.none}),relative:(k,E)=>({ltr:ua(()=>em(v,k,E)),rtl:ua(()=>R.some(em(v,E,k)))}),exact:(k,E,P,F)=>({ltr:ua(()=>Dh(v,k,E,P,F)),rtl:ua(()=>R.some(Dh(v,P,F,k,E)))})}))(d,f);return((v,C)=>{const k=C.ltr();return k.collapsed?C.rtl().filter(E=>E.collapsed===!1).map(E=>zp.rtl(mn(E.endContainer),E.endOffset,mn(E.startContainer),E.startOffset)).getOrThunk(()=>q1(0,zp.ltr,k)):q1(0,zp.ltr,k)})(0,b)})(s,l).match({ltr:(d,f,b,v)=>{const C=s.document.createRange();return C.setStart(d.dom,f),C.setEnd(b.dom,v),C},rtl:(d,f,b,v)=>{const C=s.document.createRange();return C.setStart(b.dom,v),C.setEnd(d.dom,f),C}});zp.ltr,zp.rtl;const Hp=(s,l,d)=>Wt(((f,b)=>{const v=Z(b)?b:xe;let C=f.dom;const k=[];for(;C.parentNode!==null&&C.parentNode!==void 0;){const E=C.parentNode,P=mn(E);if(k.push(P),v(P)===!0)break;C=E}return k})(s,d),l),Ai=(s,l)=>((d,f)=>{const b=f===void 0?document:f.dom;return kf(b)?[]:Me(b.querySelectorAll(d),mn)})(l,s),m2=s=>{if(s.rangeCount>0){const l=s.getRangeAt(0),d=s.getRangeAt(s.rangeCount-1);return R.some(Yf(mn(l.startContainer),l.startOffset,mn(d.endContainer),d.endOffset))}return R.none()},l_=s=>{if(s.anchorNode===null||s.focusNode===null)return m2(s);{const l=mn(s.anchorNode),d=mn(s.focusNode);return((f,b,v,C)=>{const k=((P,F,M,z)=>{const Y=ci(P).dom.createRange();return Y.setStart(P.dom,F),Y.setEnd(M.dom,z),Y})(f,b,v,C),E=ms(f,v)&&b===C;return k.collapsed&&!E})(l,s.anchorOffset,d,s.focusOffset)?R.some(Yf(l,s.anchorOffset,d,s.focusOffset)):m2(s)}},g2=(s,l)=>(d=>{const f=d.getClientRects(),b=f.length>0?f[0]:d.getBoundingClientRect();return b.width>0||b.height>0?R.some(b).map(G1):R.none()})(f2(s,l)),h2=((s,l)=>{const d=f=>s(f)?R.from(f.dom.nodeValue):R.none();return{get:f=>{if(!s(f))throw new Error("Can only get text value of a text node");return d(f).getOr("")},getOption:d,set:(f,b)=>{if(!s(f))throw new Error("Can only set raw text value of a text node");f.dom.nodeValue=b}}})(Ta),tm=(s,l)=>({element:s,offset:l}),Y1=(s,l)=>Ta(s)?tm(s,l):((d,f)=>{const b=Bs(d);if(b.length===0)return tm(d,f);if(f<b.length)return tm(b[f],0);{const v=b[b.length-1],C=Ta(v)?(k=>h2.get(k))(v).length:Bs(v).length;return tm(v,C)}})(s,l),Fv=s=>s.foffset!==void 0,p2=(s,l)=>l.getSelection.getOrThunk(()=>()=>(d=>(f=>R.from(f.getSelection()))(d).filter(f=>f.rangeCount>0).bind(l_))(s))().map(d=>{if(Fv(d)){const f=Y1(d.start,d.soffset),b=Y1(d.finish,d.foffset);return Qf.range(f.element,f.offset,b.element,b.offset)}return d});var oA=[es("getSelection"),Ft("root"),es("bubble"),qf(),mt("overrides",{}),mt("showAbove",!1),Xs("placement",(s,l,d)=>{const f=ru(l.root).dom,b=af(s,0,l),v=p2(f,l).bind(k=>{if(Fv(k))return((P,F)=>(M=>{const z=M.getBoundingClientRect();return z.width>0||z.height>0?R.some(z).map(G1):R.none()})(f2(P,F)))(f,Qf.exactFromRange(k)).orThunk(()=>{const P=qu("\uFEFF");Ud(k.start,P);const F=g2(f,Qf.exact(P,0,P,1));return Gi(P),F}).bind(P=>Mv(P.left,P.top,P.width,P.height));{const E=oo(k,F=>F.dom.getBoundingClientRect()),P={left:Math.min(E.firstCell.left,E.lastCell.left),right:Math.max(E.firstCell.right,E.lastCell.right),top:Math.min(E.firstCell.top,E.lastCell.top),bottom:Math.max(E.firstCell.bottom,E.lastCell.bottom)};return Mv(P.left,P.top,P.right-P.left,P.bottom-P.top)}}),C=p2(f,l).bind(k=>Fv(k)?lr(k.start)?R.some(k.start):Ra(k.start):R.some(k.firstCell)).getOr(s.element);return Rh(v,b,l,d,C)})];const nm="link-layout",$v=s=>s.x+s.width,c_=(s,l)=>s.x-l.width,u_=(s,l)=>s.y-l.height+s.height,Cu=s=>s.y,b2=(s,l,d)=>ya($v(s),Cu(s),d.southeast(),wv(),"southeast",xa(s,{left:0,top:2}),nm),X1=(s,l,d)=>ya(c_(s,l),Cu(s),d.southwest(),Sh(),"southwest",xa(s,{right:1,top:2}),nm),d_=(s,l,d)=>ya($v(s),u_(s,l),d.northeast(),Cv(),"northeast",xa(s,{left:0,bottom:3}),nm),Ph=(s,l,d)=>ya(c_(s,l),u_(s,l),d.northwest(),kh(),"northwest",xa(s,{right:1,bottom:3}),nm),Up=()=>[b2,X1,d_,Ph],Vv=()=>[X1,b2,Ph,d_];var f_=[Ft("item"),qf(),mt("overrides",{}),Xs("placement",(s,l,d)=>{const f=nf(d,l.item.element),b=rf(s.element,l,Up(),Vv(),Up(),Vv(),R.none());return R.some(Wc({anchorBox:f,bubble:sf(),overrides:l.overrides,layouts:b}))})],_u=bi("type",{selection:oA,node:Ih,hotspot:Vp,submenu:f_,makeshift:lg});const cg=[cl("classes",ki),Pc("mode","all",["all","layout","placement"])],zv=[mt("useFixed",xe),es("getBounds")],Hv=[Xi("anchor",_u),Or("transition",cg)],J1=(s,l,d,f,b,v)=>{const C=Pa("placement.info",Yn(Hv),b),k=C.anchor,E=f.element,P=d.get(f.uid);rg(()=>{wo(E,"position","fixed");const F=ni(E,"visibility");wo(E,"visibility","hidden");const M=l.useFixed()?(()=>{const z=document.documentElement;return i_(0,0,z.clientWidth,z.clientHeight)})():(z=>{const Y=Vl(z.element),te=z.element.dom.getBoundingClientRect();return ig(Y.left,Y.top,te.width,te.height)})(s);k.placement(s,k,M).each(z=>{const Y=v.orThunk(()=>l.getBounds.map(rt)),te=((me,pe,Ae,he,ge,Ce)=>((Te,Ie,qe,ct,Nt,It,Tt,Gt)=>{const wn=Uc(Tt,"maxHeightFunction",ag()),Nn=Uc(Tt,"maxWidthFunction",H),Zn=Te.anchorBox,po=Te.origin,jo={bounds:eA(po,It),origin:po,preference:ct,maxHeightFunction:wn,maxWidthFunction:Nn,lastPlacement:Nt,transition:Gt};return Pv(Zn,Ie,qe,jo)})(((Te,Ie)=>((qe,ct)=>({anchorBox:qe,origin:ct}))(Te,Ie))(pe.anchorBox,me),he.element,pe.bubble,pe.layouts,ge,Ae,pe.overrides,Ce))(M,z,Y,f,P,C.transition);d.set(f.uid,te)}),F.fold(()=>{As(E,"visibility")},z=>{wo(E,"visibility",z)}),ni(E,"left").isNone()&&ni(E,"top").isNone()&&ni(E,"right").isNone()&&ni(E,"bottom").isNone()&&li(ni(E,"position"),"fixed")&&As(E,"position")},E)};var Uv=Object.freeze({__proto__:null,position:(s,l,d,f,b)=>{const v=R.none();J1(s,l,d,f,b,v)},positionWithinBounds:J1,getMode:(s,l,d)=>l.useFixed()?"fixed":"absolute",reset:(s,l,d,f)=>{const b=f.element;ft(["position","left","right","top","bottom"],v=>As(b,v)),(v=>{Lo(v,Tv)})(b),d.clear(f.uid)}});const wa=Bi({fields:zv,name:"positioning",active:a2,apis:Uv,state:Object.freeze({__proto__:null,init:()=>{let s={};return Mi({readState:()=>s,clear:l=>{U(l)?delete s[l]:s={}},set:(l,d)=>{s[l]=d},get:l=>On(s,l)})}})}),Q1=s=>s.getSystem().isConnected(),ug=s=>{Mo(s,Lc());const l=s.components();ft(l,ug)},dg=s=>{const l=s.components();ft(l,dg),Mo(s,ba())},Wv=(s,l)=>{s.getSystem().addToWorld(l),vn(s.element)&&dg(l)},ey=s=>{ug(s),s.getSystem().removeFromWorld(s)},Nh=(s,l)=>{Va(s.element,l.element)},om=(s,l)=>{v2(s,l,Va)},v2=(s,l,d)=>{s.getSystem().addToWorld(l),d(s.element,l.element),vn(s.element)&&dg(l),s.syncComponents()},ty=s=>{ug(s),Gi(s.element),s.getSystem().removeFromWorld(s)},ml=s=>{const l=Oa(s.element).bind(d=>s.getSystem().getByDom(d).toOptional());ty(s),l.each(d=>{d.syncComponents()})},sm=s=>{const l=s.components();ft(l,ty),ur(s.element),s.syncComponents()},y2=(s,l)=>{Wp(s,l,Va)},At=(s,l)=>{Wp(s,l,ih)},Wp=(s,l,d)=>{d(s,l.element);const f=Bs(l.element);ft(f,b=>{l.getByDom(b).each(dg)})},sA=s=>{const l=Bs(s.element);ft(l,d=>{s.getByDom(d).each(ug)}),Gi(s.element)},m_=(s,l,d,f)=>{d.get().each(C=>{sm(s)});const b=l.getAttachPoint(s);om(b,s);const v=s.getSystem().build(f);return om(s,v),d.set(v),v},ny=(s,l,d,f)=>{const b=m_(s,l,d,f);return l.onOpen(s,b),b},Su=(s,l,d)=>{d.get().each(f=>{sm(s),ml(s),l.onClose(s,f),d.clear()})},oy=(s,l,d)=>d.isOpen(),Kv=(s,l,d)=>{const f=l.getAttachPoint(s);wo(s.element,"position",wa.getMode(f)),((b,v,C,k)=>{ni(b.element,v).fold(()=>{Lo(b.element,C)},E=>{fn(b.element,C,E)}),wo(b.element,v,"hidden")})(s,"visibility",l.cloakVisibilityAttr)},x2=(s,l,d)=>{(f=>Sn(["top","left","right","bottom"],b=>ni(f,b).isSome()))(s.element)||As(s.element,"position"),((f,b,v)=>{ns(f.element,v).fold(()=>As(f.element,b),C=>wo(f.element,b,C))})(s,"visibility",l.cloakVisibilityAttr)};var w2=Object.freeze({__proto__:null,cloak:Kv,decloak:x2,open:ny,openWhileCloaked:(s,l,d,f,b)=>{Kv(s,l),ny(s,l,d,f),b(),x2(s,l)},close:Su,isOpen:oy,isPartOf:(s,l,d,f)=>oy(0,0,d)&&d.get().exists(b=>l.isPartOf(s,b,f)),getState:(s,l,d)=>d.get(),setContent:(s,l,d,f)=>d.get().map(()=>m_(s,l,d,f))}),rA=Object.freeze({__proto__:null,events:(s,l)=>_o([Dt(rv(),(d,f)=>{Su(d,s,l)})])}),y=[rs("onOpen"),rs("onClose"),Ft("isPartOf"),Ft("getAttachPoint"),mt("cloakVisibilityAttr","data-precloak-visibility")],S=Object.freeze({__proto__:null,init:()=>{const s=Rs(),l=j("not-implemented");return Mi({readState:l,isOpen:s.isSet,clear:s.clear,set:s.set,get:s.get})}});const T=Bi({fields:y,name:"sandboxing",active:rA,apis:w2,state:S}),B=j("dismiss.popups"),W=j("reposition.popups"),K=j("mouse.released"),ie=Si([mt("isExtraPart",xe),Or("fireEventInstead",[mt("event",fh())])]),ue=s=>{const l=Pa("Dismissal",ie,s);return{[B()]:{schema:Si([Ft("target")]),onReceive:(d,f)=>{T.isOpen(d)&&(T.isPartOf(d,f.target)||l.isExtraPart(d,f.target)||l.fireEventInstead.fold(()=>T.close(d),b=>Mo(d,b.event)))}}}},Ee=Si([Or("fireEventInstead",[mt("event",Vf())]),Wa("doReposition")]),ze=s=>{const l=Pa("Reposition",Ee,s);return{[W()]:{onReceive:d=>{T.isOpen(d)&&l.fireEventInstead.fold(()=>l.doReposition(d),f=>Mo(d,f.event))}}}},Qe=(s,l,d)=>{l.store.manager.onLoad(s,l,d)},Le=(s,l,d)=>{l.store.manager.onUnload(s,l,d)};var We=Object.freeze({__proto__:null,onLoad:Qe,onUnload:Le,setValue:(s,l,d,f)=>{l.store.manager.setValue(s,l,d,f)},getValue:(s,l,d)=>l.store.manager.getValue(s,l,d),getState:(s,l,d)=>d}),Ze=Object.freeze({__proto__:null,events:(s,l)=>{const d=s.resetOnDom?[ar((f,b)=>{Qe(f,s,l)}),ld((f,b)=>{Le(f,s,l)})]:[av(s,l,Qe)];return _o(d)}});const ut=()=>{const s=Kn(null);return Mi({set:s.set,get:s.get,isNotSet:()=>s.get()===null,clear:()=>{s.set(null)},readState:()=>({mode:"memory",value:s.get()})})},gt=()=>{const s=Kn({}),l=Kn({});return Mi({readState:()=>({mode:"dataset",dataByValue:s.get(),dataByText:l.get()}),lookup:d=>On(s.get(),d).orThunk(()=>On(l.get(),d)),update:d=>{const f=s.get(),b=l.get(),v={},C={};ft(d,k=>{v[k.value]=k,On(k,"meta").each(E=>{On(E,"text").each(P=>{C[P]=k})})}),s.set({...f,...v}),l.set({...b,...C})},clear:()=>{s.set({}),l.set({})}})};var Bt=Object.freeze({__proto__:null,memory:ut,dataset:gt,manual:()=>Mi({readState:H}),init:s=>s.store.manager.state(s)});const Vt=(s,l,d,f)=>{const b=l.store;d.update([f]),b.setValue(s,f),l.onSetValue(s,f)};var Mt=[es("initialValue"),Ft("getFallbackEntry"),Ft("getDataKey"),Ft("setValue"),Xs("manager",{setValue:Vt,getValue:(s,l,d)=>{const f=l.store,b=f.getDataKey(s);return d.lookup(b).getOrThunk(()=>f.getFallbackEntry(b))},onLoad:(s,l,d)=>{l.store.initialValue.each(f=>{Vt(s,l,d,f)})},onUnload:(s,l,d)=>{d.clear()},state:gt})],Ht=[Ft("getValue"),mt("setValue",H),es("initialValue"),Xs("manager",{setValue:(s,l,d,f)=>{l.store.setValue(s,f),l.onSetValue(s,f)},getValue:(s,l,d)=>l.store.getValue(s),onLoad:(s,l,d)=>{l.store.initialValue.each(f=>{l.store.setValue(s,f)})},onUnload:H,state:Fc.init})],tn=[es("initialValue"),Xs("manager",{setValue:(s,l,d,f)=>{d.set(f),l.onSetValue(s,f)},getValue:(s,l,d)=>d.get(),onLoad:(s,l,d)=>{l.store.initialValue.each(f=>{d.isNotSet()&&d.set(f)})},onUnload:(s,l,d)=>{d.clear()},state:ut})],an=[Ka("store",{mode:"memory"},bi("mode",{memory:tn,manual:Ht,dataset:Mt})),rs("onSetValue"),mt("resetOnDom",!1)];const ht=Bi({fields:an,name:"representing",active:Ze,apis:We,extra:{setValueFrom:(s,l)=>{const d=ht.getValue(l);ht.setValue(s,d)}},state:Bt}),An=(s,l)=>ja(s,{},Me(l,d=>{return f=d.name(),b="Cannot configure "+d.name()+" for "+s,di(f,f,{tag:"option",process:{}},Qu(v=>al("The field: "+f+" is forbidden. "+b)));var f,b}).concat([Yi("dump",fe)])),ro=s=>s.dump,Ro=(s,l)=>({...Jt(l),...s.dump}),go=An,io=Ro,Oo="placeholder",ts=Jl([{single:["required","valueThunk"]},{multiple:["required","valueThunks"]}]),ri=s=>vo(s,"uiType"),La=(s,l,d,f)=>((b,v,C,k)=>ri(C)&&C.uiType===Oo?((E,P,F,M)=>E.exists(z=>z!==F.owner)?ts.single(!0,j(F)):On(M,F.name).fold(()=>{throw new Error("Unknown placeholder component: "+F.name+`
Known: [`+jt(M)+`]
Namespace: `+E.getOr("none")+`
Spec: `+JSON.stringify(F,null,2))},z=>z.replace()))(b,0,C,k):ts.single(!1,j(C)))(s,0,d,f).fold((b,v)=>{const C=ri(d)?v(l,d.config,d.validated):v(l),k=On(C,"components").getOr([]),E=bn(k,P=>La(s,l,P,f));return[{...C,components:E}]},(b,v)=>{if(ri(d)){const C=v(l,d.config,d.validated);return d.validated.preprocess.getOr(fe)(C)}return v(l)}),ea=ts.single,gc=ts.multiple,fg=j(Oo),Ma=Jl([{required:["data"]},{external:["data"]},{optional:["data"]},{group:["data"]}]),fd=mt("factory",{sketch:fe}),Kp=mt("schema",[]),rm=Ft("name"),jp=di("pname","pname",lh(s=>"<alloy."+En(s.name)+">"),Hl()),sy=Yi("schema",()=>[es("preprocess")]),im=mt("defaults",j({})),g_=mt("overrides",j({})),b8=Yn([fd,Kp,rm,jp,im,g_]),v8=Yn([fd,Kp,rm,im,g_]),AI=Yn([fd,Kp,rm,jp,im,g_]),Dn=Yn([fd,sy,rm,Ft("unit"),jp,im,g_]),C2=s=>s.fold(R.some,R.none,R.some,R.some),iA=s=>{const l=d=>d.name;return s.fold(l,l,l,l)},h_=(s,l)=>d=>{const f=Pa("Converting part type",l,d);return s(f)},Il=h_(Ma.required,b8),lf=h_(Ma.external,v8),ku=h_(Ma.optional,AI),p_=h_(Ma.group,Dn),aA=j("entirety");var TI=Object.freeze({__proto__:null,required:Il,external:lf,optional:ku,group:p_,asNamedPart:C2,name:iA,asCommon:s=>s.fold(fe,fe,fe,fe),original:aA});const lA=(s,l,d,f)=>Fs(l.defaults(s,d,f),d,{uid:s.partUids[l.name]},l.overrides(s,d,f)),gl=(s,l)=>{const d={};return ft(l,f=>{C2(f).each(b=>{const v=_2(s,b.pname);d[b.name]=C=>{const k=Pa("Part: "+b.name+" in "+s,Yn(b.schema),C);return{...v,config:C,validated:k}}})}),d},_2=(s,l)=>({uiType:fg(),owner:s,name:l}),cA=(s,l,d)=>({uiType:fg(),owner:s,name:l,config:d,validated:{}}),OI=s=>bn(s,l=>l.fold(R.none,R.some,R.none,R.none).map(d=>Dc(d.name,d.schema.concat([vv(aA())]))).toArray()),RI=s=>Me(s,iA),uA=(s,l,d)=>((f,b,v)=>{const C={},k={};return ft(v,E=>{E.fold(P=>{C[P.pname]=ea(!0,(F,M,z)=>P.factory.sketch(lA(F,P,M,z)))},P=>{const F=b.parts[P.name];k[P.name]=j(P.factory.sketch(lA(b,P,F[aA()]),F))},P=>{C[P.pname]=ea(!1,(F,M,z)=>P.factory.sketch(lA(F,P,M,z)))},P=>{C[P.pname]=gc(!0,(F,M,z)=>{const Y=F[P.name];return Me(Y,te=>P.factory.sketch(Fs(P.defaults(F,te,z),te,P.overrides(F,te))))})})}),{internals:j(C),externals:j(k)}})(0,l,d),dA=(s,l,d)=>((f,b,v,C)=>{const k=oo(C,(P,F)=>((M,z)=>{let Y=!1;return{name:j(M),required:()=>z.fold((te,me)=>te,(te,me)=>te),used:()=>Y,replace:()=>{if(Y)throw new Error("Trying to use the same placeholder more than once: "+M);return Y=!0,z}}})(F,P)),E=((P,F,M,z)=>bn(M,Y=>La(P,F,Y,z)))(f,b,v,k);return Xn(k,P=>{if(P.used()===!1&&P.required())throw new Error("Placeholder: "+P.name()+` was not found in components list
Namespace: `+f.getOr("none")+`
Components: `+JSON.stringify(b.components,null,2))}),E})(R.some(s),l,l.components,d),Qs=(s,l,d)=>{const f=l.partUids[d];return s.getSystem().getByUid(f).toOptional()},Lh=(s,l,d)=>Qs(s,l,d).getOrDie("Could not find part: "+d),II=(s,l,d)=>{const f={},b=l.partUids,v=s.getSystem();return ft(d,C=>{f[C]=j(v.getByUid(b[C]))}),f},fA=(s,l)=>{const d=s.getSystem();return oo(l.partUids,(f,b)=>j(d.getByUid(f)))},DI=s=>jt(s.partUids),mA=(s,l,d)=>{const f={},b=l.partUids,v=s.getSystem();return ft(d,C=>{f[C]=j(v.getByUid(b[C]).getOrDie())}),f},PI=(s,l)=>{const d=RI(l);return qd(Me(d,f=>({key:f,value:s+"-"+f})))},gA=s=>di("partUids","partUids",ss(l=>PI(l.uid,s)),Hl());var y8=Object.freeze({__proto__:null,generate:gl,generateOne:cA,schemas:OI,names:RI,substitutes:uA,components:dA,defaultUids:PI,defaultUidsSchema:gA,getAllParts:fA,getAllPartNames:DI,getPart:Qs,getPartOrDie:Lh,getParts:II,getPartsOrDie:mA});const NI=(s,l,d,f,b)=>{const v=((C,k)=>(C.length>0?[Dc("parts",C)]:[]).concat([Ft("uid"),mt("dom",{}),mt("components",[]),vv("originalSpec"),mt("debug.sketcher",{})]).concat(k))(f,b);return Pa(s+" [SpecSchema]",Si(v.concat(l)),d)},S2=(s,l,d,f,b)=>{const v=hA(b),C=OI(d),k=gA(d),E=NI(s,l,v,C,[k]),P=uA(0,E,d);return f(E,dA(s,E,P.internals()),v,P.externals())},hA=s=>(l=>vo(l,"uid"))(s)?s:{...s,uid:zc("uid")},x8=Si([Ft("name"),Ft("factory"),Ft("configFields"),mt("apis",{}),mt("extraApis",{})]),LI=Si([Ft("name"),Ft("factory"),Ft("configFields"),Ft("partFields"),mt("apis",{}),mt("extraApis",{})]),Eu=s=>{const l=Pa("Sketcher for "+s.name,x8,s),d=oo(l.apis,P1),f=oo(l.extraApis,(b,v)=>dc(b,v));return{name:l.name,configFields:l.configFields,sketch:b=>((v,C,k,E)=>{const P=hA(E);return k(NI(v,C,P,[],[]),P)})(l.name,l.configFields,l.factory,b),...d,...f}},Ul=s=>{const l=Pa("Sketcher for "+s.name,LI,s),d=gl(l.name,l.partFields),f=oo(l.apis,P1),b=oo(l.extraApis,(v,C)=>dc(v,C));return{name:l.name,partFields:l.partFields,configFields:l.configFields,sketch:v=>S2(l.name,l.configFields,l.partFields,l.factory,v),parts:d,...f,...b}},ry=s=>ou("input")(s)&&Go(s,"type")!=="radio"||ou("textarea")(s);var MI=Object.freeze({__proto__:null,getCurrent:(s,l,d)=>l.find(s)});const w8=[Ft("find")],cs=Bi({fields:w8,name:"composing",apis:MI}),BI=["input","button","textarea","select"],FI=(s,l,d)=>{(l.disabled()?k2:bA)(s,l)},pA=(s,l)=>l.useNative===!0&&dt(BI,ol(s.element)),$I=s=>{fn(s.element,"disabled","disabled")},C8=s=>{Lo(s.element,"disabled")},iy=s=>{fn(s.element,"aria-disabled","true")},_8=s=>{fn(s.element,"aria-disabled","false")},k2=(s,l,d)=>{l.disableClass.each(f=>{kr(s.element,f)}),(pA(s,l)?$I:iy)(s),l.onDisabled(s)},bA=(s,l,d)=>{l.disableClass.each(f=>{Ir(s.element,f)}),(pA(s,l)?C8:_8)(s),l.onEnabled(s)},ay=(s,l)=>pA(s,l)?(d=>Mr(d.element,"disabled"))(s):(d=>Go(d.element,"aria-disabled")==="true")(s);var S8=Object.freeze({__proto__:null,enable:bA,disable:k2,isDisabled:ay,onLoad:FI,set:(s,l,d,f)=>{(f?k2:bA)(s,l)}}),k8=Object.freeze({__proto__:null,exhibit:(s,l)=>Kr({classes:l.disabled()?l.disableClass.toArray():[]}),events:(s,l)=>_o([Op(El(),(d,f)=>ay(d,s)),av(s,l,FI)])}),E8=[or("disabled",xe),mt("useNative",!0),es("disableClass"),rs("onDisabled"),rs("onEnabled")];const ho=Bi({fields:E8,name:"disabling",active:k8,apis:S8}),VI=(s,l,d,f)=>{const b=Ai(s.element,"."+l.highlightClass);ft(b,v=>{Sn(f,C=>ms(C.element,v))||(Ir(v,l.highlightClass),s.getSystem().getByDom(v).each(C=>{l.onDehighlight(s,C),Mo(C,zf())}))})},jv=(s,l,d,f)=>{VI(s,l,0,[f]),vA(s,l,d,f)||(kr(f.element,l.highlightClass),l.onHighlight(s,f),Mo(f,Px()))},vA=(s,l,d,f)=>ul(f.element,l.highlightClass),zI=(s,l,d)=>fr(s.element,"."+l.itemClass).bind(f=>s.getSystem().getByDom(f).toOptional()),HI=(s,l,d)=>{const f=Ai(s.element,"."+l.itemClass);return(f.length>0?R.some(f[f.length-1]):R.none()).bind(b=>s.getSystem().getByDom(b).toOptional())},UI=(s,l,d,f)=>{const b=Ai(s.element,"."+l.itemClass);return fo(b,v=>ul(v,l.highlightClass)).bind(v=>{const C=Qm(v,f,0,b.length-1);return s.getSystem().getByDom(b[C]).toOptional()})},WI=(s,l,d)=>{const f=Ai(s.element,"."+l.itemClass);return nl(Me(f,b=>s.getSystem().getByDom(b).toOptional()))};var A8=Object.freeze({__proto__:null,dehighlightAll:(s,l,d)=>VI(s,l,0,[]),dehighlight:(s,l,d,f)=>{vA(s,l,d,f)&&(Ir(f.element,l.highlightClass),l.onDehighlight(s,f),Mo(f,zf()))},highlight:jv,highlightFirst:(s,l,d)=>{zI(s,l).each(f=>{jv(s,l,d,f)})},highlightLast:(s,l,d)=>{HI(s,l).each(f=>{jv(s,l,d,f)})},highlightAt:(s,l,d,f)=>{((b,v,C,k)=>{const E=Ai(b.element,"."+v.itemClass);return R.from(E[k]).fold(()=>Ko.error(new Error("No element found with index "+k)),b.getSystem().getByDom)})(s,l,0,f).fold(b=>{throw b},b=>{jv(s,l,d,b)})},highlightBy:(s,l,d,f)=>{const b=WI(s,l);J(b,f).each(v=>{jv(s,l,d,v)})},isHighlighted:vA,getHighlighted:(s,l,d)=>fr(s.element,"."+l.highlightClass).bind(f=>s.getSystem().getByDom(f).toOptional()),getFirst:zI,getLast:HI,getPrevious:(s,l,d)=>UI(s,l,0,-1),getNext:(s,l,d)=>UI(s,l,0,1),getCandidates:WI}),KI=[Ft("highlightClass"),Ft("itemClass"),rs("onHighlight"),rs("onDehighlight")];const Ts=Bi({fields:KI,name:"highlighting",apis:A8}),jI=[8],cf=[9],mg=[13],b_=[27],jc=[32],v_=[37],ly=[38],E2=[39],cy=[40],T8=(s,l,d)=>{const f=tt(s.slice(0,l)),b=tt(s.slice(l+1));return J(f.concat(b),d)},O8=(s,l,d)=>{const f=tt(s.slice(0,l));return J(f,d)},R8=(s,l,d)=>{const f=s.slice(0,l),b=s.slice(l+1);return J(b.concat(f),d)},I8=(s,l,d)=>{const f=s.slice(l+1);return J(f,d)},gs=s=>l=>{const d=l.raw;return dt(s,d.which)},am=s=>l=>Ke(s,d=>d(l)),gg=s=>s.raw.shiftKey===!0,D8=s=>s.raw.ctrlKey===!0,A2=Fe(gg),ys=(s,l)=>({matches:s,classification:l}),ZI=(s,l,d)=>{l.exists(f=>d.exists(b=>ms(b,f)))||$n(s,y1(),{prevFocus:l,newFocus:d})},yA=()=>{const s=l=>Gr(l.element);return{get:s,set:(l,d)=>{const f=s(l);l.getSystem().triggerFocus(d,l.element);const b=s(l);ZI(l,f,b)}}},P8=()=>{const s=l=>Ts.getHighlighted(l).map(d=>d.element);return{get:s,set:(l,d)=>{const f=s(l);l.getSystem().getByDom(d).fold(H,v=>{Ts.highlight(l,v)});const b=s(l);ZI(l,f,b)}}};var Zv;(function(s){s.OnFocusMode="onFocus",s.OnEnterOrSpaceMode="onEnterOrSpace",s.OnApiMode="onApi"})(Zv||(Zv={}));const Gv=(s,l,d,f,b)=>{const v=(k,E,P,F,M)=>{return(z=P(k,E,F,M),Y=E.event,J(z,te=>te.matches(Y)).map(te=>te.classification)).bind(te=>te(k,E,F,M));var z,Y},C={schema:()=>s.concat([mt("focusManager",yA()),Ka("focusInside","onFocus",Lf(k=>dt(["onFocus","onEnterOrSpace","onApi"],k)?Ko.value(k):Ko.error("Invalid value for focusInside"))),Xs("handler",C),Xs("state",l),Xs("sendFocusIn",b)]),processKey:v,toEvents:(k,E)=>{const P=k.focusInside!==Zv.OnFocusMode?R.none():b(k).map(M=>Dt(ad(),(z,Y)=>{M(z,k,E),Y.stop()})),F=[Dt(Sr(),(M,z)=>{v(M,z,d,k,E).fold(()=>{((Y,te)=>{const me=gs(jc.concat(mg))(te.event);k.focusInside===Zv.OnEnterOrSpaceMode&&me&&tv(Y,te)&&b(k).each(pe=>{pe(Y,k,E),te.stop()})})(M,z)},Y=>{z.stop()})}),Dt(Nc(),(M,z)=>{v(M,z,f,k,E).each(Y=>{z.stop()})})];return _o(P.toArray().concat(F))}};return C},GI=s=>{const l=[es("onEscape"),es("onEnter"),mt("selector",'[data-alloy-tabstop="true"]:not(:disabled)'),mt("firstTabstop",0),mt("useTabstopAt",_e),es("visibilitySelector")].concat([s]),d=(F,M)=>{const z=F.visibilitySelector.bind(Y=>ud(M,Y)).getOr(M);return Tr(z)>0},f=(F,M)=>M.focusManager.get(F).bind(z=>ud(z,M.selector)),b=(F,M,z)=>{((Y,te)=>{const me=Ai(Y.element,te.selector),pe=Wt(me,Ae=>d(te,Ae));return R.from(pe[te.firstTabstop])})(F,M).each(Y=>{M.focusManager.set(F,Y)})},v=(F,M,z,Y)=>{const te=Ai(F.element,z.selector);return f(F,z).bind(me=>fo(te,Ve(ms,me)).bind(pe=>((Ae,he,ge,Ce,Te)=>Te(he,ge,Ie=>((qe,ct)=>d(qe,ct)&&qe.useTabstopAt(ct))(Ce,Ie)).fold(()=>Ce.cyclic?R.some(!0):R.none(),Ie=>(Ce.focusManager.set(Ae,Ie),R.some(!0))))(F,te,pe,z,Y)))},C=(F,M,z)=>{const Y=z.cyclic?T8:O8;return v(F,0,z,Y)},k=(F,M,z)=>{const Y=z.cyclic?R8:I8;return v(F,0,z,Y)},E=j([ys(am([gg,gs(cf)]),C),ys(gs(cf),k),ys(am([A2,gs(mg)]),(F,M,z)=>z.onEnter.bind(Y=>Y(F,M)))]),P=j([ys(gs(b_),(F,M,z)=>z.onEscape.bind(Y=>Y(F,M))),ys(gs(cf),(F,M,z)=>f(F,z).filter(Y=>!z.useTabstopAt(Y)).bind(Y=>((te=>(me=>Oa(me))(te).bind(De).exists(me=>ms(me,te)))(Y)?C:k)(F,M,z)))]);return Gv(l,Fc.init,E,P,()=>R.some(b))};var N8=GI(Yi("cyclic",xe)),L8=GI(Yi("cyclic",_e));const T2=(s,l,d)=>ry(d)&&gs(jc)(l.event)?R.none():((f,b,v)=>(pr(f,v,El()),R.some(!0)))(s,0,d),qv=(s,l)=>R.some(!0),M8=[mt("execute",T2),mt("useSpace",!1),mt("useEnter",!0),mt("useControlEnter",!1),mt("useDown",!1)],qI=(s,l,d)=>d.execute(s,l,s.element);var B8=Gv(M8,Fc.init,(s,l,d,f)=>{const b=d.useSpace&&!ry(s.element)?jc:[],v=d.useEnter?mg:[],C=d.useDown?cy:[],k=b.concat(v).concat(C);return[ys(gs(k),qI)].concat(d.useControlEnter?[ys(am([D8,gs(mg)]),qI)]:[])},(s,l,d,f)=>d.useSpace&&!ry(s.element)?[ys(gs(jc),qv)]:[],()=>R.none());const YI=()=>{const s=Rs();return Mi({readState:()=>s.get().map(l=>({numRows:String(l.numRows),numColumns:String(l.numColumns)})).getOr({numRows:"?",numColumns:"?"}),setGridSize:(l,d)=>{s.set({numRows:l,numColumns:d})},getNumRows:()=>s.get().map(l=>l.numRows),getNumColumns:()=>s.get().map(l=>l.numColumns)})};var XI=Object.freeze({__proto__:null,flatgrid:YI,init:s=>s.state(s)});const JI=s=>(l,d,f,b)=>{const v=s(l.element);return QI(v,l,d,f,b)},xA=(s,l)=>{const d=d2(s,l);return JI(d)},wA=(s,l)=>{const d=d2(l,s);return JI(d)},CA=s=>(l,d,f,b)=>QI(s,l,d,f,b),QI=(s,l,d,f,b)=>f.focusManager.get(l).bind(v=>s(l.element,v,f,b)).map(v=>(f.focusManager.set(l,v),!0)),_A=CA,eD=CA,y_=CA,tD=s=>!(l=>l.offsetWidth<=0&&l.offsetHeight<=0)(s.dom),SA=(s,l,d)=>{const f=Ai(s,d);return((b,v)=>fo(b,C=>ms(C,l)).map(C=>({index:C,candidates:b})))(Wt(f,tD))},x_=(s,l)=>fo(s,d=>ms(l,d)),nD=(s,l,d,f)=>f(Math.floor(l/d),l%d).bind(b=>{const v=b.row*d+b.column;return v>=0&&v<s.length?R.some(s[v]):R.none()}),oD=(s,l,d,f,b)=>nD(s,l,f,(v,C)=>{const k=v===d-1?s.length-v*f:f,E=Qm(C,b,0,k-1);return R.some({row:v,column:E})}),sD=(s,l,d,f,b)=>nD(s,l,f,(v,C)=>{const k=Qm(v,b,0,d-1),E=k===d-1?s.length-k*f:f,P=Vc(C,0,E-1);return R.some({row:k,column:P})}),F8=[Ft("selector"),mt("execute",T2),Al("onEscape"),mt("captureTab",!1),JC()],rD=(s,l,d)=>{fr(s.element,l.selector).each(f=>{l.focusManager.set(s,f)})},O2=s=>(l,d,f,b)=>SA(l,d,f.selector).bind(v=>s(v.candidates,v.index,b.getNumRows().getOr(f.initSize.numRows),b.getNumColumns().getOr(f.initSize.numColumns))),kA=(s,l,d)=>d.captureTab?R.some(!0):R.none(),EA=O2((s,l,d,f)=>oD(s,l,d,f,-1)),AA=O2((s,l,d,f)=>oD(s,l,d,f,1)),$8=O2((s,l,d,f)=>sD(s,l,d,f,-1)),V8=O2((s,l,d,f)=>sD(s,l,d,f,1)),z8=j([ys(gs(v_),xA(EA,AA)),ys(gs(E2),wA(EA,AA)),ys(gs(ly),_A($8)),ys(gs(cy),eD(V8)),ys(am([gg,gs(cf)]),kA),ys(am([A2,gs(cf)]),kA),ys(gs(jc.concat(mg)),(s,l,d,f)=>((b,v)=>v.focusManager.get(b).bind(C=>ud(C,v.selector)))(s,d).bind(b=>d.execute(s,l,b)))]),H8=j([ys(gs(b_),(s,l,d)=>d.onEscape(s,l)),ys(gs(jc),qv)]);var U8=Gv(F8,YI,z8,H8,()=>R.some(rD));const Zp=(s,l,d,f,b)=>{const v=(C,k,E)=>b(C,k,f,0,E.length-1,E[k],P=>{return F=E[P],ol(F)==="button"&&Go(F,"disabled")==="disabled"?v(C,P,E):R.from(E[P]);var F});return SA(s,d,l).bind(C=>{const k=C.index,E=C.candidates;return v(k,k,E)})},iD=(s,l,d,f)=>Zp(s,l,d,f,(b,v,C,k,E,P,F)=>{const M=Vc(v+C,k,E);return M===b?R.from(P):F(M)}),w_=(s,l,d,f)=>Zp(s,l,d,f,(b,v,C,k,E,P,F)=>{const M=Qm(v,C,k,E);return M===b?R.none():F(M)}),W8=[Ft("selector"),mt("getInitial",R.none),mt("execute",T2),Al("onEscape"),mt("executeOnMove",!1),mt("allowVertical",!0),mt("allowHorizontal",!0),mt("cycles",!0)],TA=(s,l,d)=>((f,b)=>b.focusManager.get(f).bind(v=>ud(v,b.selector)))(s,d).bind(f=>d.execute(s,l,f)),aD=(s,l,d)=>{l.getInitial(s).orThunk(()=>fr(s.element,l.selector)).each(f=>{l.focusManager.set(s,f)})},lD=(s,l,d)=>(d.cycles?w_:iD)(s,d.selector,l,-1),cD=(s,l,d)=>(d.cycles?w_:iD)(s,d.selector,l,1),OA=s=>(l,d,f,b)=>s(l,d,f,b).bind(()=>f.executeOnMove?TA(l,d,f):R.some(!0)),R2=j([ys(gs(jc),qv),ys(gs(b_),(s,l,d)=>d.onEscape(s,l))]);var I2=Gv(W8,Fc.init,(s,l,d,f)=>{const b=[...d.allowHorizontal?v_:[]].concat(d.allowVertical?ly:[]),v=[...d.allowHorizontal?E2:[]].concat(d.allowVertical?cy:[]);return[ys(gs(b),OA(xA(lD,cD))),ys(gs(v),OA(wA(lD,cD))),ys(gs(mg),TA),ys(gs(jc),TA)]},R2,()=>R.some(aD));const C_=(s,l,d)=>R.from(s[l]).bind(f=>R.from(f[d]).map(b=>({rowIndex:l,columnIndex:d,cell:b}))),__=(s,l,d,f)=>{const b=s[l].length,v=Qm(d,f,0,b-1);return C_(s,l,v)},uD=(s,l,d,f)=>{const b=Qm(d,f,0,s.length-1),v=s[b].length,C=Vc(l,0,v-1);return C_(s,b,C)},RA=(s,l,d,f)=>{const b=s[l].length,v=Vc(d+f,0,b-1);return C_(s,l,v)},IA=(s,l,d,f)=>{const b=Vc(d+f,0,s.length-1),v=s[b].length,C=Vc(l,0,v-1);return C_(s,b,C)},dD=[Dc("selectors",[Ft("row"),Ft("cell")]),mt("cycles",!0),mt("previousSelector",R.none),mt("execute",T2)],K8=(s,l,d)=>{l.previousSelector(s).orThunk(()=>{const f=l.selectors;return fr(s.element,f.cell)}).each(f=>{l.focusManager.set(s,f)})},S_=(s,l)=>(d,f,b)=>{const v=b.cycles?s:l;return ud(f,b.selectors.row).bind(C=>{const k=Ai(C,b.selectors.cell);return x_(k,f).bind(E=>{const P=Ai(d,b.selectors.row);return x_(P,C).bind(F=>{const M=((z,Y)=>Me(z,te=>Ai(te,Y.selectors.cell)))(P,b);return v(M,F,E).map(z=>z.cell)})})})},fD=S_((s,l,d)=>__(s,l,d,-1),(s,l,d)=>RA(s,l,d,-1)),Yv=S_((s,l,d)=>__(s,l,d,1),(s,l,d)=>RA(s,l,d,1)),Xv=S_((s,l,d)=>uD(s,d,l,-1),(s,l,d)=>IA(s,d,l,-1)),k_=S_((s,l,d)=>uD(s,d,l,1),(s,l,d)=>IA(s,d,l,1)),D2=j([ys(gs(v_),xA(fD,Yv)),ys(gs(E2),wA(fD,Yv)),ys(gs(ly),_A(Xv)),ys(gs(cy),eD(k_)),ys(gs(jc.concat(mg)),(s,l,d)=>Gr(s.element).bind(f=>d.execute(s,l,f)))]),j8=j([ys(gs(jc),qv)]);var Gp=Gv(dD,Fc.init,D2,j8,()=>R.some(K8));const hg=[Ft("selector"),mt("execute",T2),mt("moveOnTab",!1)],E_=(s,l,d)=>d.focusManager.get(s).bind(f=>d.execute(s,l,f)),mD=(s,l,d)=>{fr(s.element,l.selector).each(f=>{l.focusManager.set(s,f)})},gD=(s,l,d)=>w_(s,d.selector,l,-1),DA=(s,l,d)=>w_(s,d.selector,l,1),P2=j([ys(gs(ly),y_(gD)),ys(gs(cy),y_(DA)),ys(am([gg,gs(cf)]),(s,l,d,f)=>d.moveOnTab?y_(gD)(s,l,d,f):R.none()),ys(am([A2,gs(cf)]),(s,l,d,f)=>d.moveOnTab?y_(DA)(s,l,d,f):R.none()),ys(gs(mg),E_),ys(gs(jc),E_)]),N2=j([ys(gs(jc),qv)]);var PA=Gv(hg,Fc.init,P2,N2,()=>R.some(mD));const hD=[Al("onSpace"),Al("onEnter"),Al("onShiftEnter"),Al("onLeft"),Al("onRight"),Al("onTab"),Al("onShiftTab"),Al("onUp"),Al("onDown"),Al("onEscape"),mt("stopSpaceKeyup",!1),es("focusIn")];var L2=Gv(hD,Fc.init,(s,l,d)=>[ys(gs(jc),d.onSpace),ys(am([A2,gs(mg)]),d.onEnter),ys(am([gg,gs(mg)]),d.onShiftEnter),ys(am([gg,gs(cf)]),d.onShiftTab),ys(am([A2,gs(cf)]),d.onTab),ys(gs(ly),d.onUp),ys(gs(cy),d.onDown),ys(gs(v_),d.onLeft),ys(gs(E2),d.onRight),ys(gs(jc),d.onSpace)],(s,l,d)=>[...d.stopSpaceKeyup?[ys(gs(jc),qv)]:[],ys(gs(b_),d.onEscape)],s=>s.focusIn);const A_=N8.schema(),Z8=L8.schema(),NA=I2.schema(),T_=U8.schema(),qa=Gp.schema(),G8=B8.schema(),pg=PA.schema(),pD=L2.schema(),Hn=qC({branchKey:"mode",branches:Object.freeze({__proto__:null,acyclic:A_,cyclic:Z8,flow:NA,flatgrid:T_,matrix:qa,execution:G8,menu:pg,special:pD}),name:"keying",active:{events:(s,l)=>s.handler.toEvents(s,l)},apis:{focusIn:(s,l,d)=>{l.sendFocusIn(l).fold(()=>{s.getSystem().triggerFocus(s.element,s.element)},f=>{f(s,l,d)})},setGridSize:(s,l,d,f,b)=>{(v=>Do(v,"setGridSize"))(d)?d.setGridSize(f,b):console.error("Layout does not support setGridSize")}},state:XI}),Jv=(s,l)=>{rg(()=>{((d,f,b)=>{const v=d.components();(E=>{ft(E.components(),P=>Gi(P.element)),ur(E.element),E.syncComponents()})(d);const C=b(f),k=we(v,C);ft(k,E=>{ug(E),d.getSystem().removeFromWorld(E)}),ft(C,E=>{Q1(E)?Nh(d,E):(d.getSystem().addToWorld(E),Nh(d,E),vn(d.element)&&dg(E))}),d.syncComponents()})(s,l,()=>Me(l,s.getSystem().build))},s.element)},LA=(s,l)=>{rg(()=>{((d,f,b)=>{const v=d.components(),C=bn(f,P=>qx(P).toArray());ft(v,P=>{dt(C,P)||ey(P)});const k=((P,F,M)=>e_(P,F,(z,Y)=>Qx(P,Y,z,M)))(s.element,l,s.getSystem().buildOrPatch),E=we(v,k);ft(E,P=>{Q1(P)&&ey(P)}),ft(k,P=>{Q1(P)||Wv(d,P)}),d.syncComponents()})(s,l)},s.element)},O_=(s,l,d,f)=>{ey(l);const b=Qx(s.element,d,f,s.getSystem().buildOrPatch);Wv(s,b),s.syncComponents()},MA=(s,l,d)=>{const f=s.getSystem().build(d);v2(s,f,l)},bD=(s,l,d,f)=>{ml(l),MA(s,(b,v)=>((C,k,E)=>{cr(C,E).fold(()=>{Va(C,k)},P=>{Ud(P,k)})})(b,v,d),f)},M2=(s,l)=>s.components(),vD=(s,l,d,f,b)=>{const v=M2(s);return R.from(v[f]).map(C=>(b.fold(()=>ml(C),k=>{(l.reuseDom?O_:bD)(s,C,f,k)}),C))};var BA=Object.freeze({__proto__:null,append:(s,l,d,f)=>{MA(s,Va,f)},prepend:(s,l,d,f)=>{MA(s,ah,f)},remove:(s,l,d,f)=>{const b=M2(s);J(b,C=>ms(f.element,C.element)).each(ml)},replaceAt:vD,replaceBy:(s,l,d,f,b)=>{const v=M2(s);return fo(v,f).bind(C=>vD(s,l,0,C,b))},set:(s,l,d,f)=>(l.reuseDom?LA:Jv)(s,f),contents:M2});const eo=Bi({fields:[oi("reuseDom",!0)],name:"replacing",apis:BA}),Io=(s,l)=>{const d=((f,b)=>{const v=_o(b);return Bi({fields:[Ft("enabled")],name:f,active:{events:j(v)}})})(s,l);return{key:s,value:{config:{},me:d,configAsRaw:j({}),initialConfig:{},state:Fc}}},yD=(s,l)=>{l.ignore||(Za(s.element),l.onFocus(s))};var xD=Object.freeze({__proto__:null,focus:yD,blur:(s,l)=>{l.ignore||kv(s.element)},isFocused:s=>Th(s.element)}),wD=Object.freeze({__proto__:null,exhibit:(s,l)=>{const d=l.ignore?{}:{attributes:{tabindex:"-1"}};return Kr(d)},events:s=>_o([Dt(ad(),(l,d)=>{yD(l,s),d.stop()})].concat(s.stopMousedown?[Dt($t(),(l,d)=>{d.event.prevent()})]:[]))}),CD=[rs("onFocus"),mt("stopMousedown",!1),mt("ignore",!1)];const mo=Bi({fields:CD,name:"focusing",active:wD,apis:xD}),B2=(s,l,d,f)=>{const b=d.get();d.set(f),((v,C,k)=>{C.toggleClass.each(E=>{k.get()?kr(v.element,E):Ir(v.element,E)})})(s,l,d),((v,C,k)=>{const E=C.aria;E.update(v,E,k.get())})(s,l,d),b!==f&&l.onToggled(s,f)},Au=(s,l,d)=>{B2(s,l,d,!d.get())},Qv=(s,l,d)=>{B2(s,l,d,l.selected)};var _D=Object.freeze({__proto__:null,onLoad:Qv,toggle:Au,isOn:(s,l,d)=>d.get(),on:(s,l,d)=>{B2(s,l,d,!0)},off:(s,l,d)=>{B2(s,l,d,!1)},set:B2}),uy=Object.freeze({__proto__:null,exhibit:()=>Kr({}),events:(s,l)=>{const d=(f=s,b=l,v=Au,vu(k=>{v(k,f,b)}));var f,b,v;const C=av(s,l,Qv);return _o(Zt([s.toggleOnExecute?[d]:[],[C]]))}});const ec=(s,l,d)=>{fn(s.element,"aria-expanded",d)};var Zc=[mt("selected",!1),es("toggleClass"),mt("toggleOnExecute",!0),rs("onToggled"),Ka("aria",{mode:"none"},bi("mode",{pressed:[mt("syncWithExpanded",!1),Xs("update",(s,l,d)=>{fn(s.element,"aria-pressed",d),l.syncWithExpanded&&ec(s,0,d)})],checked:[Xs("update",(s,l,d)=>{fn(s.element,"aria-checked",d)})],expanded:[Xs("update",ec)],selected:[Xs("update",(s,l,d)=>{fn(s.element,"aria-selected",d)})],none:[Xs("update",H)]}))];const ao=Bi({fields:Zc,name:"toggling",active:uy,apis:_D,state:{init:()=>{const s=Kn(!1);return{get:()=>s.get(),set:l=>s.set(l),clear:()=>s.set(!1),readState:()=>s.get()}}}}),md=()=>{const s=(l,d)=>{d.stop(),Hf(l)};return[Dt(vi(),s),Dt(Bf(),s),Gm(G()),Gm($t())]},dy=s=>_o(Zt([s.map(l=>vu((d,f)=>{l(d),f.stop()})).toArray(),md()])),Tu="alloy.item-hover",qp="alloy.item-focus",SD="alloy.item-toggled",kD=s=>{(Gr(s.element).isNone()||mo.isFocused(s))&&(mo.isFocused(s)||mo.focus(s),$n(s,Tu,{item:s}))},ED=s=>{$n(s,qp,{item:s})},FA=j(Tu),AD=j(qp),R_=j(SD),TD=s=>s.role.fold(()=>s.toggling.map(l=>l.exclusive?"menuitemradio":"menuitemcheckbox").getOr("menuitem"),fe),q8=[Ft("data"),Ft("components"),Ft("dom"),mt("hasSubmenu",!1),es("toggling"),es("role"),go("itemBehaviours",[ao,mo,Hn,ht]),mt("ignoreFocus",!1),mt("domModification",{}),Xs("builder",s=>({dom:s.dom,domModification:{...s.domModification,attributes:{role:TD(s),...s.domModification.attributes,"aria-haspopup":s.hasSubmenu,...s.hasSubmenu?{"aria-expanded":!1}:{}}},behaviours:io(s.itemBehaviours,[s.toggling.fold(ao.revoke,l=>ao.config(((d,f)=>({aria:{mode:f?"selected":"checked"},...ds(d,(b,v)=>v!=="exclusive"),onToggled:(b,v)=>{Z(d.onToggled)&&d.onToggled(b,v),((C,k)=>{$n(C,SD,{item:C,state:k})})(b,v)}}))(l,s.role.exists(d=>d==="option")))),mo.config({ignore:s.ignoreFocus,stopMousedown:s.ignoreFocus,onFocus:l=>{ED(l)}}),Hn.config({mode:"execution"}),ht.config({store:{mode:"memory",initialValue:s.data}}),Io("item-type-events",[...md(),Dt(Fn(),kD),Dt(sv(),mo.focus)])]),components:s.components,eventOrder:s.eventOrder})),mt("eventOrder",{})],Y8=[Ft("dom"),Ft("components"),Xs("builder",s=>({dom:s.dom,components:s.components,events:_o([ZC(sv())])}))],$A=j("item-widget"),VA=j([Il({name:"widget",overrides:s=>({behaviours:Jt([ht.config({store:{mode:"manual",getValue:l=>s.data,setValue:H}})])})})]),OD=[Ft("uid"),Ft("data"),Ft("components"),Ft("dom"),mt("autofocus",!1),mt("ignoreFocus",!1),go("widgetBehaviours",[ht,mo,Hn]),mt("domModification",{}),gA(VA()),Xs("builder",s=>{const l=uA($A(),s,VA()),d=dA($A(),s,l.internals()),f=v=>Qs(v,s,"widget").map(C=>(Hn.focusIn(C),C)),b=(v,C)=>(ry(C.event.target)||s.autofocus&&C.setSource(v.element),R.none());return{dom:s.dom,components:d,domModification:s.domModification,events:_o([vu((v,C)=>{f(v).each(k=>{C.stop()})}),Dt(Fn(),kD),Dt(sv(),(v,C)=>{s.autofocus?f(v):mo.focus(v)})]),behaviours:io(s.widgetBehaviours,[ht.config({store:{mode:"memory",initialValue:s.data}}),mo.config({ignore:s.ignoreFocus,onFocus:v=>{ED(v)}}),Hn.config({mode:"special",focusIn:s.autofocus?v=>{f(v)}:jE(),onLeft:b,onRight:b,onEscape:(v,C)=>mo.isFocused(v)||s.autofocus?(s.autofocus&&C.setSource(v.element),R.none()):(mo.focus(v),R.some(!0))})])}})],RD=bi("type",{widget:OD,item:q8,separator:Y8}),zA=j([p_({factory:{sketch:s=>{const l=Pa("menu.spec item",RD,s);return l.builder(l)}},name:"items",unit:"item",defaults:(s,l)=>vo(l,"uid")?l:{...l,uid:zc("item")},overrides:(s,l)=>({type:l.type,ignoreFocus:s.fakeFocus,domModification:{classes:[s.markers.item]}})})]),ID=j([Br("role"),Ft("value"),Ft("items"),Ft("dom"),Ft("components"),mt("eventOrder",{}),An("menuBehaviours",[Ts,ht,cs,Hn]),Ka("movement",{mode:"menu",moveOnTab:!0},bi("mode",{grid:[JC(),Xs("config",(s,l)=>({mode:"flatgrid",selector:"."+s.markers.item,initSize:{numColumns:l.initSize.numColumns,numRows:l.initSize.numRows},focusManager:s.focusManager}))],matrix:[Xs("config",(s,l)=>({mode:"matrix",selectors:{row:l.rowSelector,cell:"."+s.markers.item},previousSelector:l.previousSelector,focusManager:s.focusManager})),Ft("rowSelector"),mt("previousSelector",R.none)],menu:[mt("moveOnTab",!0),Xs("config",(s,l)=>({mode:"menu",selector:"."+s.markers.item,moveOnTab:l.moveOnTab,focusManager:s.focusManager}))]})),Xi("markers",bh()),mt("fakeFocus",!1),mt("focusManager",yA()),rs("onHighlight"),rs("onDehighlight"),mt("showMenuRole",!0)]),DD=j("alloy.menu-focus"),e0=Ul({name:"Menu",configFields:ID(),partFields:zA(),factory:(s,l,d,f)=>({uid:s.uid,dom:s.dom,markers:s.markers,behaviours:Ro(s.menuBehaviours,[Ts.config({highlightClass:s.markers.selectedItem,itemClass:s.markers.item,onHighlight:s.onHighlight,onDehighlight:s.onDehighlight}),ht.config({store:{mode:"memory",initialValue:s.value}}),cs.config({find:R.some}),Hn.config(s.movement.config(s,s.movement))]),events:_o([Dt(AD(),(b,v)=>{const C=v.event;b.getSystem().getByDom(C.target).each(k=>{Ts.highlight(b,k),v.stop(),$n(b,DD(),{menu:b,item:k})})}),Dt(FA(),(b,v)=>{const C=v.event.item;Ts.highlight(b,C)}),Dt(R_(),(b,v)=>{const{item:C,state:k}=v.event;k&&Go(C.element,"role")==="menuitemradio"&&((E,P)=>{const F=Ai(E.element,'[role="menuitemradio"][aria-checked="true"]');ft(F,M=>{ms(M,P.element)||E.getSystem().getByDom(M).each(z=>{ao.off(z)})})})(b,C)})]),components:l,eventOrder:s.eventOrder,...s.showMenuRole?{domModification:{attributes:{role:s.role.getOr("menu")}}}:{}})}),PD=(s,l,d,f)=>On(d,f).bind(b=>On(s,b).bind(v=>{const C=PD(s,l,d,v);return R.some([v].concat(C))})).getOr([]),ND=s=>s.type==="prepared"?R.some(s.menu):R.none(),X8=()=>{const s=Kn({}),l=Kn({}),d=Kn({}),f=Rs(),b=Kn({}),v=E=>C(E).bind(ND),C=E=>On(l.get(),E),k=E=>On(s.get(),E);return{setMenuBuilt:(E,P)=>{l.set({...l.get(),[E]:{type:"prepared",menu:P}})},setContents:(E,P,F,M)=>{f.set(E),s.set(F),l.set(P),b.set(M);const z=((Y,te)=>{const me={};Xn(Y,(ge,Ce)=>{ft(ge,Te=>{me[Te]=Ce})});const pe=te,Ae=zo(te,(ge,Ce)=>({k:ge,v:Ce})),he=oo(Ae,(ge,Ce)=>[Ce].concat(PD(me,pe,Ae,Ce)));return oo(me,ge=>On(he,ge).getOr([ge]))})(M,F);d.set(z)},expand:E=>On(s.get(),E).map(P=>{const F=On(d.get(),E).getOr([]);return[P].concat(F)}),refresh:E=>On(d.get(),E),collapse:E=>On(d.get(),E).bind(P=>P.length>1?R.some(P.slice(1)):R.none()),lookupMenu:C,lookupItem:k,otherMenus:E=>{const P=b.get();return we(jt(P),E)},getPrimary:()=>f.get().bind(v),getMenus:()=>l.get(),clear:()=>{s.set({}),l.set({}),d.set({}),f.clear()},isClear:()=>f.get().isNone(),getTriggeringPath:(E,P)=>{const F=Wt(k(E).toArray(),M=>v(M).isSome());return On(d.get(),E).bind(M=>{const z=tt(F.concat(M));return(Y=>{const te=[];for(let me=0;me<Y.length;me++){const pe=Y[me];if(!pe.isSome())return R.none();te.push(pe.getOrDie())}return R.some(te)})(bn(z,(Y,te)=>((me,pe,Ae)=>v(me).bind(he=>(ge=>_s(s.get(),(Ce,Te)=>Ce===ge))(me).bind(ge=>pe(ge).map(Ce=>({triggeredMenu:he,triggeringItem:Ce,triggeringPath:Ae})))))(Y,P,z.slice(0,te+1)).fold(()=>li(f.get(),Y)?[]:[R.none()],me=>[R.some(me)])))})}}},J8=ND,Ou=En("tiered-menu-item-highlight"),Q8=En("tiered-menu-item-dehighlight");var hl;(function(s){s[s.HighlightMenuAndItem=0]="HighlightMenuAndItem",s[s.HighlightJustMenu=1]="HighlightJustMenu",s[s.HighlightNone=2]="HighlightNone"})(hl||(hl={}));const t0=j("collapse-item"),Mh=Eu({name:"TieredMenu",configFields:[Na("onExecute"),Na("onEscape"),cd("onOpenMenu"),cd("onOpenSubmenu"),rs("onRepositionMenu"),rs("onCollapseMenu"),mt("highlightOnOpen",hl.HighlightMenuAndItem),Dc("data",[Ft("primary"),Ft("menus"),Ft("expansions")]),mt("fakeFocus",!1),rs("onHighlightItem"),rs("onDehighlightItem"),rs("onHover"),vh(),Ft("dom"),mt("navigateOnHover",!0),mt("stayInDom",!1),An("tmenuBehaviours",[Hn,Ts,cs,eo]),mt("eventOrder",{})],apis:{collapseMenu:(s,l)=>{s.collapseMenu(l)},highlightPrimary:(s,l)=>{s.highlightPrimary(l)},repositionMenus:(s,l)=>{s.repositionMenus(l)}},factory:(s,l)=>{const d=Rs(),f=X8(),b=ge=>ht.getValue(ge).value,v=ge=>oo(s.data.menus,(Ce,Te)=>bn(Ce.items,Ie=>Ie.type==="separator"?[]:[Ie.data.value])),C=Ts.highlight,k=(ge,Ce)=>{C(ge,Ce),Ts.getHighlighted(Ce).orThunk(()=>Ts.getFirst(Ce)).each(Te=>{s.fakeFocus?Ts.highlight(Ce,Te):pr(ge,Te.element,sv())})},E=(ge,Ce)=>nl(Me(Ce,Te=>ge.lookupMenu(Te).bind(Ie=>Ie.type==="prepared"?R.some(Ie.menu):R.none()))),P=(ge,Ce,Te)=>{const Ie=E(Ce,Ce.otherMenus(Te));ft(Ie,qe=>{fc(qe.element,[s.markers.backgroundMenu]),s.stayInDom||eo.remove(ge,qe)})},F=(ge,Ce)=>{const Te=(Ie=>d.get().getOrThunk(()=>{const qe={},ct=Ai(Ie.element,`.${s.markers.item}`),Nt=Wt(ct,It=>Go(It,"aria-haspopup")==="true");return ft(Nt,It=>{Ie.getSystem().getByDom(It).each(Tt=>{const Gt=b(Tt);qe[Gt]=Tt})}),d.set(qe),qe}))(ge);Xn(Te,(Ie,qe)=>{const ct=dt(Ce,qe);fn(Ie.element,"aria-expanded",ct)})},M=(ge,Ce,Te)=>R.from(Te[0]).bind(Ie=>Ce.lookupMenu(Ie).bind(qe=>{if(qe.type==="notbuilt")return R.none();{const ct=qe.menu,Nt=E(Ce,Te.slice(1));return ft(Nt,It=>{kr(It.element,s.markers.backgroundMenu)}),vn(ct.element)||eo.append(ge,dl(ct)),fc(ct.element,[s.markers.backgroundMenu]),k(ge,ct),P(ge,Ce,Te),R.some(ct)}}));let z;(function(ge){ge[ge.HighlightSubmenu=0]="HighlightSubmenu",ge[ge.HighlightParent=1]="HighlightParent"})(z||(z={}));const Y=(ge,Ce,Te=z.HighlightSubmenu)=>{if(Ce.hasConfigured(ho)&&ho.isDisabled(Ce))return R.some(Ce);{const Ie=b(Ce);return f.expand(Ie).bind(qe=>(F(ge,qe),R.from(qe[0]).bind(ct=>f.lookupMenu(ct).bind(Nt=>{const It=((Tt,Gt,wn)=>{if(wn.type==="notbuilt"){const Nn=Tt.getSystem().build(wn.nbMenu());return f.setMenuBuilt(Gt,Nn),Nn}return wn.menu})(ge,ct,Nt);return vn(It.element)||eo.append(ge,dl(It)),s.onOpenSubmenu(ge,Ce,It,tt(qe)),Te===z.HighlightSubmenu?(Ts.highlightFirst(It),M(ge,f,qe)):(Ts.dehighlightAll(It),R.some(Ce))}))))}},te=(ge,Ce)=>{const Te=b(Ce);return f.collapse(Te).bind(Ie=>(F(ge,Ie),M(ge,f,Ie).map(qe=>(s.onCollapseMenu(ge,Ce,qe),qe))))},me=ge=>(Ce,Te)=>ud(Te.getSource(),`.${s.markers.item}`).bind(Ie=>Ce.getSystem().getByDom(Ie).toOptional().bind(qe=>ge(Ce,qe).map(_e))),pe=_o([Dt(DD(),(ge,Ce)=>{const Te=Ce.event.item;f.lookupItem(b(Te)).each(()=>{const Ie=Ce.event.menu;Ts.highlight(ge,Ie);const qe=b(Ce.event.item);f.refresh(qe).each(ct=>P(ge,f,ct))})}),vu((ge,Ce)=>{const Te=Ce.event.target;ge.getSystem().getByDom(Te).each(Ie=>{b(Ie).indexOf("collapse-item")===0&&te(ge,Ie),Y(ge,Ie,z.HighlightSubmenu).fold(()=>{s.onExecute(ge,Ie)},H)})}),ar((ge,Ce)=>{(Te=>{const Ie=((ct,Nt,It)=>oo(It,(Tt,Gt)=>{const wn=()=>e0.sketch({...Tt,value:Gt,markers:s.markers,fakeFocus:s.fakeFocus,onHighlight:(Nn,Zn)=>{$n(Nn,Ou,{menuComp:Nn,itemComp:Zn})},onDehighlight:(Nn,Zn)=>{$n(Nn,Q8,{menuComp:Nn,itemComp:Zn})},focusManager:s.fakeFocus?P8():yA()});return Gt===Nt?{type:"prepared",menu:ct.getSystem().build(wn())}:{type:"notbuilt",nbMenu:wn}}))(Te,s.data.primary,s.data.menus),qe=v();return f.setContents(s.data.primary,Ie,s.data.expansions,qe),f.getPrimary()})(ge).each(Te=>{eo.append(ge,dl(Te)),s.onOpenMenu(ge,Te),s.highlightOnOpen===hl.HighlightMenuAndItem?k(ge,Te):s.highlightOnOpen===hl.HighlightJustMenu&&C(ge,Te)})}),Dt(Ou,(ge,Ce)=>{s.onHighlightItem(ge,Ce.event.menuComp,Ce.event.itemComp)}),Dt(Q8,(ge,Ce)=>{s.onDehighlightItem(ge,Ce.event.menuComp,Ce.event.itemComp)}),...s.navigateOnHover?[Dt(FA(),(ge,Ce)=>{const Te=Ce.event.item;((Ie,qe)=>{const ct=b(qe);f.refresh(ct).bind(Nt=>(F(Ie,Nt),M(Ie,f,Nt)))})(ge,Te),Y(ge,Te,z.HighlightParent),s.onHover(ge,Te)})]:[]]),Ae=ge=>Ts.getHighlighted(ge).bind(Ts.getHighlighted),he={collapseMenu:ge=>{Ae(ge).each(Ce=>{te(ge,Ce)})},highlightPrimary:ge=>{f.getPrimary().each(Ce=>{k(ge,Ce)})},repositionMenus:ge=>{f.getPrimary().bind(Te=>Ae(ge).bind(Ie=>{const qe=b(Ie),ct=Zi(f.getMenus()),Nt=nl(Me(ct,J8));return f.getTriggeringPath(qe,It=>((Tt,Gt,wn)=>cn(Gt,Nn=>{if(!Nn.getSystem().isConnected())return R.none();const Zn=Ts.getCandidates(Nn);return J(Zn,po=>b(po)===wn)}))(0,Nt,It))}).map(Ie=>({primary:Te,triggeringPath:Ie}))).fold(()=>{(Te=>R.from(Te.components()[0]).filter(Ie=>Go(Ie.element,"role")==="menu"))(ge).each(Te=>{s.onRepositionMenu(ge,Te,[])})},({primary:Te,triggeringPath:Ie})=>{s.onRepositionMenu(ge,Te,Ie)})}};return{uid:s.uid,dom:s.dom,markers:s.markers,behaviours:Ro(s.tmenuBehaviours,[Hn.config({mode:"special",onRight:me((ge,Ce)=>ry(Ce.element)?R.none():Y(ge,Ce,z.HighlightSubmenu)),onLeft:me((ge,Ce)=>ry(Ce.element)?R.none():te(ge,Ce)),onEscape:me((ge,Ce)=>te(ge,Ce).orThunk(()=>s.onEscape(ge,Ce).map(()=>ge))),focusIn:(ge,Ce)=>{f.getPrimary().each(Te=>{pr(ge,Te.element,sv())})}}),Ts.config({highlightClass:s.markers.selectedMenu,itemClass:s.markers.menu}),cs.config({find:ge=>Ts.getHighlighted(ge)}),eo.config({})]),eventOrder:s.eventOrder,apis:he,events:pe}},extraApis:{tieredData:(s,l,d)=>({primary:s,menus:l,expansions:d}),singleData:(s,l)=>({primary:s,menus:hu(s,l),expansions:{}}),collapseItem:s=>({value:En(t0()),meta:{text:s}})}}),br=Eu({name:"InlineView",configFields:[Ft("lazySink"),rs("onShow"),rs("onHide"),gu("onEscape"),An("inlineBehaviours",[T,ht,Ol]),Or("fireDismissalEventInstead",[mt("event",fh())]),Or("fireRepositionEventInstead",[mt("event",Vf())]),mt("getRelated",R.none),mt("isExtraPart",xe),mt("eventOrder",R.none)],factory:(s,l)=>{const d=(C,k,E,P)=>{const F=s.lazySink(C).getOrDie();T.openWhileCloaked(C,k,()=>wa.positionWithinBounds(F,C,E,P())),ht.setValue(C,R.some({mode:"position",config:E,getBounds:P}))},f=(C,k,E,P)=>{const F=((M,z,Y,te,me)=>{const pe=()=>M.lazySink(z),Ae=te.type==="horizontal"?{layouts:{onLtr:()=>z1(),onRtl:()=>H1()}}:{},he=ge=>(Ce=>Ce.length===2)(ge)?Ae:{};return Mh.sketch({dom:{tag:"div"},data:te.data,markers:te.menu.markers,highlightOnOpen:te.menu.highlightOnOpen,fakeFocus:te.menu.fakeFocus,onEscape:()=>(T.close(z),M.onEscape.map(ge=>ge(z)),R.some(!0)),onExecute:()=>R.some(!0),onOpenMenu:(ge,Ce)=>{wa.positionWithinBounds(pe().getOrDie(),Ce,Y,me())},onOpenSubmenu:(ge,Ce,Te,Ie)=>{const qe=pe().getOrDie();wa.position(qe,Te,{anchor:{type:"submenu",item:Ce,...he(Ie)}})},onRepositionMenu:(ge,Ce,Te)=>{const Ie=pe().getOrDie();wa.positionWithinBounds(Ie,Ce,Y,me()),ft(Te,qe=>{const ct=he(qe.triggeringPath);wa.position(Ie,qe.triggeredMenu,{anchor:{type:"submenu",item:qe.triggeringItem,...ct}})})}})})(s,C,k,E,P);T.open(C,F),ht.setValue(C,R.some({mode:"menu",menu:F}))},b=C=>{T.isOpen(C)&&ht.getValue(C).each(k=>{switch(k.mode){case"menu":T.getState(C).each(Mh.repositionMenus);break;case"position":const E=s.lazySink(C).getOrDie();wa.positionWithinBounds(E,C,k.config,k.getBounds())}})},v={setContent:(C,k)=>{T.setContent(C,k)},showAt:(C,k,E)=>{const P=R.none;d(C,k,E,P)},showWithinBounds:d,showMenuAt:(C,k,E)=>{f(C,k,E,R.none)},showMenuWithinBounds:f,hide:C=>{T.isOpen(C)&&(ht.setValue(C,R.none()),T.close(C))},getContent:C=>T.getState(C),reposition:b,isOpen:T.isOpen};return{uid:s.uid,dom:s.dom,behaviours:Ro(s.inlineBehaviours,[T.config({isPartOf:(C,k,E)=>Tl(k,E)||((P,F)=>s.getRelated(P).exists(M=>Tl(M,F)))(C,E),getAttachPoint:C=>s.lazySink(C).getOrDie(),onOpen:C=>{s.onShow(C)},onClose:C=>{s.onHide(C)}}),ht.config({store:{mode:"memory",initialValue:R.none()}}),Ol.config({channels:{...ue({isExtraPart:l.isExtraPart,...s.fireDismissalEventInstead.map(C=>({fireEventInstead:{event:C.event}})).getOr({})}),...ze({...s.fireRepositionEventInstead.map(C=>({fireEventInstead:{event:C.event}})).getOr({}),doReposition:b})}})]),eventOrder:s.eventOrder,apis:v}},apis:{showAt:(s,l,d,f)=>{s.showAt(l,d,f)},showWithinBounds:(s,l,d,f,b)=>{s.showWithinBounds(l,d,f,b)},showMenuAt:(s,l,d,f)=>{s.showMenuAt(l,d,f)},showMenuWithinBounds:(s,l,d,f,b)=>{s.showMenuWithinBounds(l,d,f,b)},hide:(s,l)=>{s.hide(l)},isOpen:(s,l)=>s.isOpen(l),getContent:(s,l)=>s.getContent(l),setContent:(s,l,d)=>{s.setContent(l,d)},reposition:(s,l)=>{s.reposition(l)}}});var gd,F2,I_=tinymce.util.Tools.resolve("tinymce.util.Delay"),fy=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),LD=tinymce.util.Tools.resolve("tinymce.EditorManager"),lm=tinymce.util.Tools.resolve("tinymce.Env");(function(s){s.default="wrap",s.floating="floating",s.sliding="sliding",s.scrolling="scrolling"})(gd||(gd={})),function(s){s.auto="auto",s.top="top",s.bottom="bottom"}(F2||(F2={}));const Vs=s=>l=>l.options.get(s),$2=s=>l=>R.from(s(l)),MD=s=>{const l=lm.deviceType.isPhone(),d=lm.deviceType.isTablet()||l,f=s.options.register,b=C=>h(C)||C===!1,v=C=>h(C)||ee(C);f("skin",{processor:C=>h(C)||C===!1,default:"oxide"}),f("skin_url",{processor:"string"}),f("height",{processor:v,default:Math.max(s.getElement().offsetHeight,400)}),f("width",{processor:v,default:fy.DOM.getStyle(s.getElement(),"width")}),f("min_height",{processor:"number",default:100}),f("min_width",{processor:"number"}),f("max_height",{processor:"number"}),f("max_width",{processor:"number"}),f("style_formats",{processor:"object[]"}),f("style_formats_merge",{processor:"boolean",default:!1}),f("style_formats_autohide",{processor:"boolean",default:!1}),f("line_height_formats",{processor:"string",default:"1 1.1 1.2 1.3 1.4 1.5 2"}),f("font_family_formats",{processor:"string",default:"Andale Mono=andale mono,monospace;Arial=arial,helvetica,sans-serif;Arial Black=arial black,sans-serif;Book Antiqua=book antiqua,palatino,serif;Comic Sans MS=comic sans ms,sans-serif;Courier New=courier new,courier,monospace;Georgia=georgia,palatino,serif;Helvetica=helvetica,arial,sans-serif;Impact=impact,sans-serif;Symbol=symbol;Tahoma=tahoma,arial,helvetica,sans-serif;Terminal=terminal,monaco,monospace;Times New Roman=times new roman,times,serif;Trebuchet MS=trebuchet ms,geneva,sans-serif;Verdana=verdana,geneva,sans-serif;Webdings=webdings;Wingdings=wingdings,zapf dingbats"}),f("font_size_formats",{processor:"string",default:"8pt 10pt 12pt 14pt 18pt 24pt 36pt"}),f("font_size_input_default_unit",{processor:"string",default:"pt"}),f("block_formats",{processor:"string",default:"Paragraph=p;Heading 1=h1;Heading 2=h2;Heading 3=h3;Heading 4=h4;Heading 5=h5;Heading 6=h6;Preformatted=pre"}),f("content_langs",{processor:"object[]"}),f("removed_menuitems",{processor:"string",default:""}),f("menubar",{processor:C=>h(C)||O(C),default:!l}),f("menu",{processor:"object",default:{}}),f("toolbar",{processor:C=>O(C)||h(C)||I(C)?{value:C,valid:!0}:{valid:!1,message:"Must be a boolean, string or array."},default:!0}),Et(9,C=>{f("toolbar"+(C+1),{processor:"string"})}),f("toolbar_mode",{processor:"string",default:d?"scrolling":"floating"}),f("toolbar_groups",{processor:"object",default:{}}),f("toolbar_location",{processor:"string",default:F2.auto}),f("toolbar_persist",{processor:"boolean",default:!1}),f("toolbar_sticky",{processor:"boolean",default:s.inline}),f("toolbar_sticky_offset",{processor:"number",default:0}),f("fixed_toolbar_container",{processor:"string",default:""}),f("fixed_toolbar_container_target",{processor:"object"}),f("ui_mode",{processor:"string",default:"combined"}),f("file_picker_callback",{processor:"function"}),f("file_picker_validator_handler",{processor:"function"}),f("file_picker_types",{processor:"string"}),f("typeahead_urls",{processor:"boolean",default:!0}),f("anchor_top",{processor:b,default:"#top"}),f("anchor_bottom",{processor:b,default:"#bottom"}),f("draggable_modal",{processor:"boolean",default:!1}),f("statusbar",{processor:"boolean",default:!0}),f("elementpath",{processor:"boolean",default:!0}),f("branding",{processor:"boolean",default:!0}),f("promotion",{processor:"boolean",default:!0}),f("resize",{processor:C=>C==="both"||O(C),default:!lm.deviceType.isTouch()}),f("sidebar_show",{processor:"string"}),f("help_accessibility",{processor:"boolean",default:s.hasPlugin("help")}),f("default_font_stack",{processor:"string[]",default:[]})},HA=Vs("readonly"),V2=Vs("height"),z2=Vs("width"),H2=$2(Vs("min_width")),my=$2(Vs("min_height")),gy=$2(Vs("max_width")),D_=$2(Vs("max_height")),hy=$2(Vs("style_formats")),P_=Vs("style_formats_merge"),BD=Vs("style_formats_autohide"),UA=Vs("content_langs"),FD=Vs("removed_menuitems"),n0=Vs("toolbar_mode"),N_=Vs("toolbar_groups"),Yp=Vs("toolbar_location"),WA=Vs("fixed_toolbar_container"),e7=Vs("fixed_toolbar_container_target"),$D=Vs("toolbar_persist"),KA=Vs("toolbar_sticky_offset"),Bh=Vs("menubar"),py=Vs("toolbar"),L_=Vs("file_picker_callback"),U2=Vs("file_picker_validator_handler"),jA=Vs("font_size_input_default_unit"),W2=Vs("file_picker_types"),M_=Vs("typeahead_urls"),VD=Vs("anchor_top"),zD=Vs("anchor_bottom"),cm=Vs("draggable_modal"),HD=Vs("statusbar"),UD=Vs("elementpath"),Gc=Vs("branding"),Ca=Vs("resize"),WD=Vs("paste_as_text"),B_=Vs("sidebar_show"),KD=Vs("promotion"),ZA=Vs("help_accessibility"),F_=Vs("default_font_stack"),Xp=s=>s.options.get("skin")===!1,K2=s=>s.options.get("menubar")!==!1,$_=s=>{const l=s.options.get("skin_url");if(Xp(s))return l;if(l)return s.documentBaseURI.toAbsolute(l);{const d=s.options.get("skin");return LD.baseURL+"/skins/ui/"+d}},V_=s=>R.from(s.options.get("skin_url")),jD=s=>s.options.get("line_height_formats").split(" "),j2=s=>{const l=py(s),d=h(l),f=I(l)&&l.length>0;return!Z2(s)&&(f||d||l===!0)},z_=s=>{const l=Et(9,f=>s.options.get("toolbar"+(f+1))),d=Wt(l,h);return fs(d.length>0,d)},Z2=s=>z_(s).fold(()=>{const l=py(s);return re(l,h)&&l.length>0},_e),GA=s=>Yp(s)===F2.bottom,qA=s=>{var l;if(!s.inline)return R.none();const d=(l=WA(s))!==null&&l!==void 0?l:"";if(d.length>0)return fr(kn(),d);const f=e7(s);return U(f)?R.some(mn(f)):R.none()},o0=s=>s.inline&&qA(s).isSome(),H_=s=>qA(s).getOrThunk(()=>ot(bt(mn(s.getElement())))),U_=s=>s.inline&&!K2(s)&&!j2(s)&&!Z2(s),Fh=s=>(s.options.get("toolbar_sticky")||s.inline)&&!o0(s)&&!U_(s),$h=s=>!o0(s)&&s.options.get("ui_mode")==="split",Jp=s=>{const l=s.options.get("menu");return oo(l,d=>({...d,items:d.items}))};var G2=Object.freeze({__proto__:null,get ToolbarMode(){return gd},get ToolbarLocation(){return F2},register:MD,getSkinUrl:$_,getSkinUrlOption:V_,isReadOnly:HA,isSkinDisabled:Xp,getHeightOption:V2,getWidthOption:z2,getMinWidthOption:H2,getMinHeightOption:my,getMaxWidthOption:gy,getMaxHeightOption:D_,getUserStyleFormats:hy,shouldMergeStyleFormats:P_,shouldAutoHideStyleFormats:BD,getLineHeightFormats:jD,getContentLanguages:UA,getRemovedMenuItems:FD,isMenubarEnabled:K2,isMultipleToolbars:Z2,isToolbarEnabled:j2,isToolbarPersist:$D,getMultipleToolbarsOption:z_,getUiContainer:H_,useFixedContainer:o0,isSplitUiMode:$h,getToolbarMode:n0,isDraggableModal:cm,isDistractionFree:U_,isStickyToolbar:Fh,getStickyToolbarOffset:KA,getToolbarLocation:Yp,isToolbarLocationBottom:GA,getToolbarGroups:N_,getMenus:Jp,getMenubar:Bh,getToolbar:py,getFilePickerCallback:L_,getFilePickerTypes:W2,useTypeaheadUrls:M_,getAnchorTop:VD,getAnchorBottom:zD,getFilePickerValidatorHandler:U2,getFontSizeInputDefaultUnit:jA,useStatusBar:HD,useElementPath:UD,promotionEnabled:KD,useBranding:Gc,getResize:Ca,getPasteAsText:WD,getSidebarShow:B_,useHelpAccessibility:ZA,getDefaultFontStack:F_});const t7=["visible","hidden","clip"],ZD=s=>Tc(s).length>0&&!dt(t7,s),GD=s=>{if(wl(s)){const l=Ar(s,"overflow-x"),d=Ar(s,"overflow-y");return ZD(l)||ZD(d)}return!1},Qp=(s,l)=>$h(s)?((d,f)=>{const b=Hp(f,GD),v=b.length===0?Xt(f).map(un).map(C=>Hp(C,GD)).getOr([]):b;return Ne(v).map(C=>({element:C,others:v.slice(1),isFullscreen:()=>(k=>k.plugins.fullscreen&&k.plugins.fullscreen.isFullscreen())(d)}))})(s,l):R.none(),eb=s=>{const l=[...Me(s.others,ui),qi()];return s.isFullscreen()?qi():((d,f)=>sn(f,(b,v)=>Kd(b,v),d))(ui(s.element),l)},Ya=Eu({name:"Button",factory:s=>{const l=dy(s.action),d=s.dom.tag,f=b=>On(s.dom,"attributes").bind(v=>On(v,b));return{uid:s.uid,dom:s.dom,components:s.components,events:l,behaviours:io(s.buttonBehaviours,[mo.config({}),Hn.config({mode:"execution",useSpace:!0,useEnter:!0})]),domModification:{attributes:d==="button"?{type:f("type").getOr("button"),...f("role").map(b=>({role:b})).getOr({})}:{role:s.role.getOr(f("role").getOr("button"))}},eventOrder:s.eventOrder}},configFields:[mt("uid",void 0),Ft("dom"),mt("components",[]),go("buttonBehaviours",[mo,Hn]),es("action"),es("role"),mt("eventOrder",{})]}),bg=s=>{const l=Gl(s),d=Bs(l),f=(C=>{const k=C.dom.attributes!==void 0?C.dom.attributes:[];return sn(k,(E,P)=>P.name==="class"?E:{...E,[P.name]:P.value},{})})(l),b=(C=>Array.prototype.slice.call(C.dom.classList,0))(l),v=d.length===0?{}:{innerHtml:Qd(l)};return{tag:ol(l),classes:b,attributes:f,...v}},Es=s=>{const l=(d=>d.uid!==void 0)(s)&&Do(s,"uid")?s.uid:zc("memento");return{get:d=>d.getSystem().getByUid(l).getOrDie(),getOpt:d=>d.getSystem().getByUid(l).toOptional(),asSpec:()=>({...s,uid:l})}};var n7=Object.freeze({__proto__:null,exhibit:(s,l)=>Kr({attributes:qd([{key:l.tabAttr,value:"true"}])})}),qD=[mt("tabAttr","data-alloy-tabstop")];const qs=Bi({fields:qD,name:"tabstopping",active:n7}),YA=En("tooltip.exclusive"),q2=En("tooltip.show"),Y2=En("tooltip.hide"),X2=En("tooltip.immediateHide"),J2=En("tooltip.immediateShow"),YD=(s,l,d)=>{s.getSystem().broadcastOn([YA],{})};var o7=Object.freeze({__proto__:null,hideAllExclusive:YD,immediateOpenClose:(s,l,d,f)=>Mo(s,f?J2:X2),isEnabled:(s,l,d)=>d.isEnabled(),setComponents:(s,l,d,f)=>{d.getTooltip().each(b=>{b.getSystem().isConnected()&&eo.set(b,f)})},setEnabled:(s,l,d,f)=>d.setEnabled(f)}),s7=Object.freeze({__proto__:null,events:(s,l)=>{const d=v=>{l.getTooltip().each(C=>{C.getSystem().isConnected()&&(ml(C),s.onHide(v,C),l.clearTooltip())}),l.clearTimer()},f=v=>{if(!l.isShowing()&&l.isEnabled()){YD(v);const C=s.lazySink(v).getOrDie(),k=v.getSystem().build({dom:s.tooltipDom,components:s.tooltipComponents,events:_o(s.mode==="normal"?[Dt(Fn(),E=>{Mo(v,q2)}),Dt(To(),E=>{Mo(v,Y2)})]:[]),behaviours:Jt([eo.config({})])});l.setTooltip(k),om(C,k),s.onShow(v,k),wa.position(C,k,{anchor:s.anchor(v)})}},b=v=>{l.getTooltip().each(C=>{const k=s.lazySink(v).getOrDie();wa.position(k,C,{anchor:s.anchor(v)})})};return _o(Zt([[x1(v=>{s.onSetup(v)}),Dt(q2,v=>{l.resetTimer(()=>{f(v)},s.delayForShow())}),Dt(Y2,v=>{l.resetTimer(()=>{d(v)},s.delayForHide())}),Dt(J2,v=>{l.resetTimer(()=>{f(v)},0)}),Dt(X2,v=>{l.resetTimer(()=>{d(v)},0)}),Dt(uc(),(v,C)=>{const k=C;k.universal||dt(k.channels,YA)&&d(v)}),ld(v=>{d(v)})],(()=>{switch(s.mode){case"normal":return[Dt(Ss(),v=>{Mo(v,J2)}),Dt(Ep(),v=>{Mo(v,X2)}),Dt(Fn(),v=>{Mo(v,q2)}),Dt(To(),v=>{Mo(v,Y2)})];case"follow-highlight":return[Dt(Px(),(v,C)=>{Mo(v,q2)}),Dt(zf(),v=>{Mo(v,Y2)})];case"children-normal":return[Dt(Ss(),(v,C)=>{Gr(v.element).each(k=>{su(C.event.target,"[data-mce-tooltip]")&&l.getTooltip().fold(()=>{Mo(v,J2)},E=>{l.isShowing()&&(s.onShow(v,E),b(v))})})}),Dt(Ep(),v=>{Gr(v.element).fold(()=>{Mo(v,X2)},H)}),Dt(Fn(),v=>{fr(v.element,"[data-mce-tooltip]:hover").each(C=>{l.getTooltip().fold(()=>{Mo(v,q2)},k=>{l.isShowing()&&(s.onShow(v,k),b(v))})})}),Dt(To(),v=>{fr(v.element,"[data-mce-tooltip]:hover").fold(()=>{Mo(v,Y2)},H)})];default:return[Dt(Ss(),(v,C)=>{Gr(v.element).each(k=>{su(C.event.target,"[data-mce-tooltip]")&&l.getTooltip().fold(()=>{Mo(v,J2)},E=>{l.isShowing()&&(s.onShow(v,E),b(v))})})}),Dt(Ep(),v=>{Gr(v.element).fold(()=>{Mo(v,X2)},H)})]}})()]))}}),r7=[Ft("lazySink"),Ft("tooltipDom"),mt("exclusive",!0),mt("tooltipComponents",[]),or("delayForShow",j(300)),or("delayForHide",j(300)),or("onSetup",H),Pc("mode","normal",["normal","follow-highlight","children-keyboard-focus","children-normal"]),mt("anchor",s=>({type:"hotspot",hotspot:s,layouts:{onLtr:j([Zr,Er,Dr,si,Pr,$s]),onRtl:j([Zr,Er,Dr,si,Pr,$s])},bubble:mc(0,-2,{})})),rs("onHide"),rs("onShow")],i7=Object.freeze({__proto__:null,init:()=>{const s=Kn(!0),l=Rs(),d=Rs(),f=()=>{l.on(clearTimeout)},b=j("not-implemented");return Mi({getTooltip:d.get,isShowing:d.isSet,setTooltip:d.set,clearTooltip:d.clear,clearTimer:f,resetTimer:(v,C)=>{f(),l.set(setTimeout(v,C))},readState:b,isEnabled:()=>s.get(),setEnabled:v=>s.set(v)})}});const ii=Bi({fields:r7,name:"tooltipping",active:s7,state:i7,apis:o7}),{entries:XD,setPrototypeOf:XA,isFrozen:JD,getPrototypeOf:QD,getOwnPropertyDescriptor:a7}=Object;let{freeze:hc,seal:um,create:eP}=Object,{apply:JA,construct:QA}=typeof Reflect<"u"&&Reflect;JA||(JA=function(s,l,d){return s.apply(l,d)}),hc||(hc=function(s){return s}),um||(um=function(s){return s}),QA||(QA=function(s,l){return new s(...l)});const eT=uf(Array.prototype.forEach),l7=uf(Array.prototype.pop),Q2=uf(Array.prototype.push),W_=uf(String.prototype.toLowerCase),K_=uf(String.prototype.toString),c7=uf(String.prototype.match),yn=uf(String.prototype.replace),s0=uf(String.prototype.indexOf),u7=uf(String.prototype.trim),Ru=uf(RegExp.prototype.test),tb=(j_=TypeError,function(){for(var s=arguments.length,l=new Array(s),d=0;d<s;d++)l[d]=arguments[d];return QA(j_,l)});var j_;function uf(s){return function(l){for(var d=arguments.length,f=new Array(d>1?d-1:0),b=1;b<d;b++)f[b-1]=arguments[b];return JA(s,l,f)}}function Us(s,l,d){var f;d=(f=d)!==null&&f!==void 0?f:W_,XA&&XA(s,null);let b=l.length;for(;b--;){let v=l[b];if(typeof v=="string"){const C=d(v);C!==v&&(JD(l)||(l[b]=C),v=C)}s[v]=!0}return s}function by(s){const l=eP(null);for(const[d,f]of XD(s))l[d]=f;return l}function Z_(s,l){for(;s!==null;){const d=a7(s,l);if(d){if(d.get)return uf(d.get);if(typeof d.value=="function")return uf(d.value)}s=QD(s)}return function(d){return console.warn("fallback value for",d),null}}const tT=hc(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),ew=hc(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),r0=hc(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),tP=hc(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),nT=hc(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),d7=hc(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),nP=hc(["#text"]),f7=hc(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),G_=hc(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),oP=hc(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),q_=hc(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),m7=um(/\{\{[\w\W]*|[\w\W]*\}\}/gm),g7=um(/<%[\w\W]*|[\w\W]*%>/gm),oT=um(/\${[\w\W]*}/gm),h7=um(/^data-[\-\w.\u00B7-\uFFFF]/),p7=um(/^aria-[\-\w]+$/),sP=um(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),b7=um(/^(?:\w+script|data):/i),v7=um(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),vg=um(/^html$/i);var tw=Object.freeze({__proto__:null,MUSTACHE_EXPR:m7,ERB_EXPR:g7,TMPLIT_EXPR:oT,DATA_ATTR:h7,ARIA_ATTR:p7,IS_ALLOWED_URI:sP,IS_SCRIPT_OR_DATA:b7,ATTR_WHITESPACE:v7,DOCTYPE_NAME:vg});const y7=()=>typeof window>"u"?null:window;var x7=function s(){let l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:y7();const d=xt=>s(xt);if(d.version="3.0.5",d.removed=[],!l||!l.document||l.document.nodeType!==9)return d.isSupported=!1,d;const f=l.document,b=f.currentScript;let{document:v}=l;const{DocumentFragment:C,HTMLTemplateElement:k,Node:E,Element:P,NodeFilter:F,NamedNodeMap:M=l.NamedNodeMap||l.MozNamedAttrMap,HTMLFormElement:z,DOMParser:Y,trustedTypes:te}=l,me=P.prototype,pe=Z_(me,"cloneNode"),Ae=Z_(me,"nextSibling"),he=Z_(me,"childNodes"),ge=Z_(me,"parentNode");if(typeof k=="function"){const xt=v.createElement("template");xt.content&&xt.content.ownerDocument&&(v=xt.content.ownerDocument)}let Ce,Te="";const{implementation:Ie,createNodeIterator:qe,createDocumentFragment:ct,getElementsByTagName:Nt}=v,{importNode:It}=f;let Tt={};d.isSupported=typeof XD=="function"&&typeof ge=="function"&&Ie&&Ie.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:Gt,ERB_EXPR:wn,TMPLIT_EXPR:Nn,DATA_ATTR:Zn,ARIA_ATTR:po,IS_SCRIPT_OR_DATA:jo,ATTR_WHITESPACE:rr}=tw;let{IS_ALLOWED_URI:mr}=tw,Po=null;const is=Us({},[...tT,...ew,...r0,...nT,...nP]);let Qn=null;const gr=Us({},[...f7,...G_,...oP,...q_]);let zs=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Xa=null,Ja=null,na=!0,Vi=!0,Jh=!1,Gy=!0,_b=!1,Qh=!1,lC=!1,Sb=!1,Pg=!1,P0=!1,N0=!1,qy=!0,Nk=!1,cC=!0,kb=!1,Ng={},ep=null;const uC=Us({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let dC=null;const xs=Us({},["audio","video","img","source","image","track"]);let Lg=null;const vf=Us({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),L0="http://www.w3.org/1998/Math/MathML",Lk="http://www.w3.org/2000/svg",tp="http://www.w3.org/1999/xhtml";let Yy=tp,YO=!1,Mk=null;const EH=Us({},[L0,Lk,tp],K_);let Xy;const AH=["application/xhtml+xml","text/html"];let Nl,M0=null;const TH=v.createElement("form"),IB=function(xt){return xt instanceof RegExp||xt instanceof Function},Bk=function(xt){if(!M0||M0!==xt){if(xt&&typeof xt=="object"||(xt={}),xt=by(xt),Xy=Xy=AH.indexOf(xt.PARSER_MEDIA_TYPE)===-1?"text/html":xt.PARSER_MEDIA_TYPE,Nl=Xy==="application/xhtml+xml"?K_:W_,Po="ALLOWED_TAGS"in xt?Us({},xt.ALLOWED_TAGS,Nl):is,Qn="ALLOWED_ATTR"in xt?Us({},xt.ALLOWED_ATTR,Nl):gr,Mk="ALLOWED_NAMESPACES"in xt?Us({},xt.ALLOWED_NAMESPACES,K_):EH,Lg="ADD_URI_SAFE_ATTR"in xt?Us(by(vf),xt.ADD_URI_SAFE_ATTR,Nl):vf,dC="ADD_DATA_URI_TAGS"in xt?Us(by(xs),xt.ADD_DATA_URI_TAGS,Nl):xs,ep="FORBID_CONTENTS"in xt?Us({},xt.FORBID_CONTENTS,Nl):uC,Xa="FORBID_TAGS"in xt?Us({},xt.FORBID_TAGS,Nl):{},Ja="FORBID_ATTR"in xt?Us({},xt.FORBID_ATTR,Nl):{},Ng="USE_PROFILES"in xt&&xt.USE_PROFILES,na=xt.ALLOW_ARIA_ATTR!==!1,Vi=xt.ALLOW_DATA_ATTR!==!1,Jh=xt.ALLOW_UNKNOWN_PROTOCOLS||!1,Gy=xt.ALLOW_SELF_CLOSE_IN_ATTR!==!1,_b=xt.SAFE_FOR_TEMPLATES||!1,Qh=xt.WHOLE_DOCUMENT||!1,Pg=xt.RETURN_DOM||!1,P0=xt.RETURN_DOM_FRAGMENT||!1,N0=xt.RETURN_TRUSTED_TYPE||!1,Sb=xt.FORCE_BODY||!1,qy=xt.SANITIZE_DOM!==!1,Nk=xt.SANITIZE_NAMED_PROPS||!1,cC=xt.KEEP_CONTENT!==!1,kb=xt.IN_PLACE||!1,mr=xt.ALLOWED_URI_REGEXP||sP,Yy=xt.NAMESPACE||tp,zs=xt.CUSTOM_ELEMENT_HANDLING||{},xt.CUSTOM_ELEMENT_HANDLING&&IB(xt.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(zs.tagNameCheck=xt.CUSTOM_ELEMENT_HANDLING.tagNameCheck),xt.CUSTOM_ELEMENT_HANDLING&&IB(xt.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(zs.attributeNameCheck=xt.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),xt.CUSTOM_ELEMENT_HANDLING&&typeof xt.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(zs.allowCustomizedBuiltInElements=xt.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),_b&&(Vi=!1),P0&&(Pg=!0),Ng&&(Po=Us({},[...nP]),Qn=[],Ng.html===!0&&(Us(Po,tT),Us(Qn,f7)),Ng.svg===!0&&(Us(Po,ew),Us(Qn,G_),Us(Qn,q_)),Ng.svgFilters===!0&&(Us(Po,r0),Us(Qn,G_),Us(Qn,q_)),Ng.mathMl===!0&&(Us(Po,nT),Us(Qn,oP),Us(Qn,q_))),xt.ADD_TAGS&&(Po===is&&(Po=by(Po)),Us(Po,xt.ADD_TAGS,Nl)),xt.ADD_ATTR&&(Qn===gr&&(Qn=by(Qn)),Us(Qn,xt.ADD_ATTR,Nl)),xt.ADD_URI_SAFE_ATTR&&Us(Lg,xt.ADD_URI_SAFE_ATTR,Nl),xt.FORBID_CONTENTS&&(ep===uC&&(ep=by(ep)),Us(ep,xt.FORBID_CONTENTS,Nl)),cC&&(Po["#text"]=!0),Qh&&Us(Po,["html","head","body"]),Po.table&&(Us(Po,["tbody"]),delete Xa.tbody),xt.TRUSTED_TYPES_POLICY){if(typeof xt.TRUSTED_TYPES_POLICY.createHTML!="function")throw tb('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof xt.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw tb('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');Ce=xt.TRUSTED_TYPES_POLICY,Te=Ce.createHTML("")}else Ce===void 0&&(Ce=function(Gn,So){if(typeof Gn!="object"||typeof Gn.createPolicy!="function")return null;let ir=null;const qr="data-tt-policy-suffix";So&&So.hasAttribute(qr)&&(ir=So.getAttribute(qr));const fi="dompurify"+(ir?"#"+ir:"");try{return Gn.createPolicy(fi,{createHTML:ai=>ai,createScriptURL:ai=>ai})}catch{return console.warn("TrustedTypes policy "+fi+" could not be created."),null}}(te,b)),Ce!==null&&typeof Te=="string"&&(Te=Ce.createHTML(""));hc&&hc(xt),M0=xt}},DB=Us({},["mi","mo","mn","ms","mtext"]),PB=Us({},["foreignobject","desc","title","annotation-xml"]),Co=Us({},["title","style","font","a","script"]),Eb=Us({},ew);Us(Eb,r0),Us(Eb,tP);const Fk=Us({},nT);Us(Fk,d7);const Ab=function(xt){Q2(d.removed,{element:xt});try{xt.parentNode.removeChild(xt)}catch{xt.remove()}},Jy=function(xt,Gn){try{Q2(d.removed,{attribute:Gn.getAttributeNode(xt),from:Gn})}catch{Q2(d.removed,{attribute:null,from:Gn})}if(Gn.removeAttribute(xt),xt==="is"&&!Qn[xt])if(Pg||P0)try{Ab(Gn)}catch{}else try{Gn.setAttribute(xt,"")}catch{}},XO=function(xt){let Gn,So;if(Sb)xt="<remove></remove>"+xt;else{const fi=c7(xt,/^[\r\n\t ]+/);So=fi&&fi[0]}Xy==="application/xhtml+xml"&&Yy===tp&&(xt='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+xt+"</body></html>");const ir=Ce?Ce.createHTML(xt):xt;if(Yy===tp)try{Gn=new Y().parseFromString(ir,Xy)}catch{}if(!Gn||!Gn.documentElement){Gn=Ie.createDocument(Yy,"template",null);try{Gn.documentElement.innerHTML=YO?Te:ir}catch{}}const qr=Gn.body||Gn.documentElement;return xt&&So&&qr.insertBefore(v.createTextNode(So),qr.childNodes[0]||null),Yy===tp?Nt.call(Gn,Qh?"html":"body")[0]:Qh?Gn.documentElement:qr},JO=function(xt){return qe.call(xt.ownerDocument||xt,xt,F.SHOW_ELEMENT|F.SHOW_COMMENT|F.SHOW_TEXT,null,!1)},QO=function(xt){return typeof E=="object"?xt instanceof E:xt&&typeof xt=="object"&&typeof xt.nodeType=="number"&&typeof xt.nodeName=="string"},Ed=function(xt,Gn,So){Tt[xt]&&eT(Tt[xt],ir=>{ir.call(d,Gn,So,M0)})},NB=function(xt){let Gn;if(Ed("beforeSanitizeElements",xt,null),(So=xt)instanceof z&&(typeof So.nodeName!="string"||typeof So.textContent!="string"||typeof So.removeChild!="function"||!(So.attributes instanceof M)||typeof So.removeAttribute!="function"||typeof So.setAttribute!="function"||typeof So.namespaceURI!="string"||typeof So.insertBefore!="function"||typeof So.hasChildNodes!="function"))return Ab(xt),!0;var So;const ir=Nl(xt.nodeName);if(Ed("uponSanitizeElement",xt,{tagName:ir,allowedTags:Po}),xt.hasChildNodes()&&!QO(xt.firstElementChild)&&(!QO(xt.content)||!QO(xt.content.firstElementChild))&&Ru(/<[/\w]/g,xt.innerHTML)&&Ru(/<[/\w]/g,xt.textContent))return Ab(xt),!0;if(!Po[ir]||Xa[ir]){if(!Xa[ir]&&LB(ir)&&(zs.tagNameCheck instanceof RegExp&&Ru(zs.tagNameCheck,ir)||zs.tagNameCheck instanceof Function&&zs.tagNameCheck(ir)))return!1;if(cC&&!ep[ir]){const qr=ge(xt)||xt.parentNode,fi=he(xt)||xt.childNodes;if(fi&&qr)for(let ai=fi.length-1;ai>=0;--ai)qr.insertBefore(pe(fi[ai],!0),Ae(xt))}return Ab(xt),!0}return xt instanceof P&&!function(qr){let fi=ge(qr);fi&&fi.tagName||(fi={namespaceURI:Yy,tagName:"template"});const ai=W_(qr.tagName),Ti=W_(fi.tagName);return!!Mk[qr.namespaceURI]&&(qr.namespaceURI===Lk?fi.namespaceURI===tp?ai==="svg":fi.namespaceURI===L0?ai==="svg"&&(Ti==="annotation-xml"||DB[Ti]):!!Eb[ai]:qr.namespaceURI===L0?fi.namespaceURI===tp?ai==="math":fi.namespaceURI===Lk?ai==="math"&&PB[Ti]:!!Fk[ai]:qr.namespaceURI===tp?!(fi.namespaceURI===Lk&&!PB[Ti])&&!(fi.namespaceURI===L0&&!DB[Ti])&&!Fk[ai]&&(Co[ai]||!Eb[ai]):!(Xy!=="application/xhtml+xml"||!Mk[qr.namespaceURI]))}(xt)?(Ab(xt),!0):ir!=="noscript"&&ir!=="noembed"&&ir!=="noframes"||!Ru(/<\/no(script|embed|frames)/i,xt.innerHTML)?(_b&&xt.nodeType===3&&(Gn=xt.textContent,Gn=yn(Gn,Gt," "),Gn=yn(Gn,wn," "),Gn=yn(Gn,Nn," "),xt.textContent!==Gn&&(Q2(d.removed,{element:xt.cloneNode()}),xt.textContent=Gn)),Ed("afterSanitizeElements",xt,null),!1):(Ab(xt),!0)},eR=function(xt,Gn,So){if(qy&&(Gn==="id"||Gn==="name")&&(So in v||So in TH))return!1;if(!(Vi&&!Ja[Gn]&&Ru(Zn,Gn))){if(!(na&&Ru(po,Gn))){if(!Qn[Gn]||Ja[Gn]){if(!(LB(xt)&&(zs.tagNameCheck instanceof RegExp&&Ru(zs.tagNameCheck,xt)||zs.tagNameCheck instanceof Function&&zs.tagNameCheck(xt))&&(zs.attributeNameCheck instanceof RegExp&&Ru(zs.attributeNameCheck,Gn)||zs.attributeNameCheck instanceof Function&&zs.attributeNameCheck(Gn))||Gn==="is"&&zs.allowCustomizedBuiltInElements&&(zs.tagNameCheck instanceof RegExp&&Ru(zs.tagNameCheck,So)||zs.tagNameCheck instanceof Function&&zs.tagNameCheck(So))))return!1}else if(!Lg[Gn]){if(!Ru(mr,yn(So,rr,""))){if((Gn!=="src"&&Gn!=="xlink:href"&&Gn!=="href"||xt==="script"||s0(So,"data:")!==0||!dC[xt])&&!(Jh&&!Ru(jo,yn(So,rr,"")))){if(So)return!1}}}}}return!0},LB=function(xt){return xt.indexOf("-")>0},MB=function(xt){let Gn,So,ir,qr;Ed("beforeSanitizeAttributes",xt,null);const{attributes:fi}=xt;if(!fi)return;const ai={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:Qn};for(qr=fi.length;qr--;){Gn=fi[qr];const{name:Ti,namespaceURI:Qy}=Gn;So=Ti==="value"?Gn.value:u7(Gn.value);const RH=So;if(ir=Nl(Ti),ai.attrName=ir,ai.attrValue=So,ai.keepAttr=!0,ai.forceKeepAttr=void 0,Ed("uponSanitizeAttribute",xt,ai),So=ai.attrValue,ai.forceKeepAttr)continue;if(!ai.keepAttr){Jy(Ti,xt);continue}if(!Gy&&Ru(/\/>/i,So)){Jy(Ti,xt);continue}_b&&(So=yn(So,Gt," "),So=yn(So,wn," "),So=yn(So,Nn," "));const BB=Nl(xt.nodeName);if(eR(BB,ir,So)){if(!Nk||ir!=="id"&&ir!=="name"||(Jy(Ti,xt),So="user-content-"+So),Ce&&typeof te=="object"&&typeof te.getAttributeType=="function"&&!Qy)switch(te.getAttributeType(BB,ir)){case"TrustedHTML":So=Ce.createHTML(So);break;case"TrustedScriptURL":So=Ce.createScriptURL(So)}if(So!==RH)try{Qy?xt.setAttributeNS(Qy,Ti,So):xt.setAttribute(Ti,So)}catch{Jy(Ti,xt)}}else Jy(Ti,xt)}Ed("afterSanitizeAttributes",xt,null)},OH=function xt(Gn){let So;const ir=JO(Gn);for(Ed("beforeSanitizeShadowDOM",Gn,null);So=ir.nextNode();)Ed("uponSanitizeShadowNode",So,null),NB(So)||(So.content instanceof C&&xt(So.content),MB(So));Ed("afterSanitizeShadowDOM",Gn,null)};return d.sanitize=function(xt){let Gn,So,ir,qr,fi=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(YO=!xt,YO&&(xt="<!-->"),typeof xt!="string"&&!QO(xt)){if(typeof xt.toString!="function")throw tb("toString is not a function");if(typeof(xt=xt.toString())!="string")throw tb("dirty is not a string, aborting")}if(!d.isSupported)return xt;if(lC||Bk(fi),d.removed=[],typeof xt=="string"&&(kb=!1),kb){if(xt.nodeName){const Qy=Nl(xt.nodeName);if(!Po[Qy]||Xa[Qy])throw tb("root node is forbidden and cannot be sanitized in-place")}}else if(xt instanceof E)Gn=XO("<!---->"),So=Gn.ownerDocument.importNode(xt,!0),So.nodeType===1&&So.nodeName==="BODY"||So.nodeName==="HTML"?Gn=So:Gn.appendChild(So);else{if(!Pg&&!_b&&!Qh&&xt.indexOf("<")===-1)return Ce&&N0?Ce.createHTML(xt):xt;if(Gn=XO(xt),!Gn)return Pg?null:N0?Te:""}Gn&&Sb&&Ab(Gn.firstChild);const ai=JO(kb?xt:Gn);for(;ir=ai.nextNode();)NB(ir)||(ir.content instanceof C&&OH(ir.content),MB(ir));if(kb)return xt;if(Pg){if(P0)for(qr=ct.call(Gn.ownerDocument);Gn.firstChild;)qr.appendChild(Gn.firstChild);else qr=Gn;return(Qn.shadowroot||Qn.shadowrootmode)&&(qr=It.call(f,qr,!0)),qr}let Ti=Qh?Gn.outerHTML:Gn.innerHTML;return Qh&&Po["!doctype"]&&Gn.ownerDocument&&Gn.ownerDocument.doctype&&Gn.ownerDocument.doctype.name&&Ru(vg,Gn.ownerDocument.doctype.name)&&(Ti="<!DOCTYPE "+Gn.ownerDocument.doctype.name+`>
`+Ti),_b&&(Ti=yn(Ti,Gt," "),Ti=yn(Ti,wn," "),Ti=yn(Ti,Nn," ")),Ce&&N0?Ce.createHTML(Ti):Ti},d.setConfig=function(xt){Bk(xt),lC=!0},d.clearConfig=function(){M0=null,lC=!1},d.isValidAttribute=function(xt,Gn,So){M0||Bk({});const ir=Nl(xt),qr=Nl(Gn);return eR(ir,qr,So)},d.addHook=function(xt,Gn){typeof Gn=="function"&&(Tt[xt]=Tt[xt]||[],Q2(Tt[xt],Gn))},d.removeHook=function(xt){if(Tt[xt])return l7(Tt[xt])},d.removeHooks=function(xt){Tt[xt]&&(Tt[xt]=[])},d.removeAllHooks=function(){Tt={}},d}();const rP=s=>x7().sanitize(s);var hd=tinymce.util.Tools.resolve("tinymce.util.I18n");const w7={indent:!0,outdent:!0,"table-insert-column-after":!0,"table-insert-column-before":!0,"paste-column-after":!0,"paste-column-before":!0,"unordered-list":!0,"list-bull-circle":!0,"list-bull-default":!0,"list-bull-square":!0},iP="temporary-placeholder",sT=s=>()=>On(s,iP).getOr("!not found!"),nb=(s,l)=>{const d=s.toLowerCase();if(hd.isRtl()){const f=((b,v)=>Zu(b,v)?b:((C,k)=>C+k)(b,v))(d,"-rtl");return vo(l,f)?f:d}return d},nw=(s,l)=>On(l,nb(s,l)),aP=(s,l)=>{const d=l();return nw(s,d).getOrThunk(sT(d))},Y_=()=>Io("add-focusable",[ar(s=>{F1(s.element,"svg").each(l=>fn(l,"focusable","false"))})]),lP=(s,l,d,f)=>{var b,v;const C=(E=>!!hd.isRtl()&&vo(w7,E))(l)?["tox-icon--flip"]:[],k=On(d,nb(l,d)).or(f).getOrThunk(sT(d));return{dom:{tag:s.tag,attributes:(b=s.attributes)!==null&&b!==void 0?b:{},classes:s.classes.concat(C),innerHtml:k},behaviours:Jt([...(v=s.behaviours)!==null&&v!==void 0?v:[],Y_()])}},qc=(s,l,d,f=R.none())=>lP(l,s,d(),f),C7={success:"checkmark",error:"warning",err:"error",warning:"warning",warn:"warning",info:"info"},rT=Eu({name:"Notification",factory:s=>{const l=En("notification-text"),d=Es({dom:bg(`<p id=${l}>${rP(s.backstageProvider.translate(s.text))}</p>`),behaviours:Jt([eo.config({})])}),f=M=>({dom:{tag:"div",classes:["tox-bar"],styles:{width:`${M}%`}}}),b=M=>({dom:{tag:"div",classes:["tox-text"],innerHtml:`${M}%`}}),v=Es({dom:{tag:"div",classes:s.progress?["tox-progress-bar","tox-progress-indicator"]:["tox-progress-bar"]},components:[{dom:{tag:"div",classes:["tox-bar-container"]},components:[f(0)]},b(0)],behaviours:Jt([eo.config({})])}),C={updateProgress:(M,z)=>{M.getSystem().isConnected()&&v.getOpt(M).each(Y=>{eo.set(Y,[{dom:{tag:"div",classes:["tox-bar-container"]},components:[f(z)]},b(z)])})},updateText:(M,z)=>{if(M.getSystem().isConnected()){const Y=d.get(M);eo.set(Y,[Fr(z)])}}},k=Zt([s.icon.toArray(),s.level.toArray(),s.level.bind(M=>R.from(C7[M])).toArray()]),E=Es(Ya.sketch({dom:{tag:"button",classes:["tox-notification__dismiss","tox-button","tox-button--naked","tox-button--icon"],attributes:{"aria-label":s.backstageProvider.translate("Close")}},components:[qc("close",{tag:"span",classes:["tox-icon"]},s.iconProvider)],buttonBehaviours:Jt([qs.config({}),ii.config({...s.backstageProvider.tooltips.getConfig({tooltipText:s.backstageProvider.translate("Close")})})]),action:M=>{s.onAction(M)}})),P=((M,z,Y)=>{const te=Y(),me=J(M,pe=>vo(te,nb(pe,te)));return lP({tag:"div",classes:["tox-notification__icon"]},me.getOr(iP),te,R.none())})(k,0,s.iconProvider),F=[P,{dom:{tag:"div",classes:["tox-notification__body"]},components:[d.asSpec()],behaviours:Jt([eo.config({})])}];return{uid:s.uid,dom:{tag:"div",attributes:{role:"alert","aria-labelledby":l},classes:s.level.map(M=>["tox-notification","tox-notification--in",`tox-notification--${M}`]).getOr(["tox-notification","tox-notification--in"])},behaviours:Jt([qs.config({}),mo.config({}),Hn.config({mode:"special",onEscape:M=>(s.onAction(M),R.some(!0))})]),components:F.concat(s.progress?[v.asSpec()]:[]).concat([E.asSpec()]),apis:C}},configFields:[es("level"),Ft("progress"),es("icon"),Ft("onAction"),Ft("text"),Ft("iconProvider"),Ft("backstageProvider")],apis:{updateProgress:(s,l,d)=>{s.updateProgress(l,d)},updateText:(s,l,d)=>{s.updateText(l,d)}}});var cP=(s,l,d,f)=>{const b=l.backstage.shared,v=()=>mn(s.queryCommandValue("ToggleView")===""?s.getContentAreaContainer():s.getContainer()),C=()=>{const E=ui(v());return R.some(E)},k=E=>{C().each(P=>{ft(E,F=>{As(F.element,"width"),Pi(F.element)>P.width&&wo(F.element,"width",P.width+"px")})})};return{open:(E,P,F)=>{const M=()=>{f.on(te=>{P();const me=F();(pe=>{eo.remove(pe,z),Y()})(te),((pe,Ae)=>{Bs(pe.element).length===0?((he,ge)=>{br.hide(he),f.clear(),ge&&s.focus()})(pe,Ae):((he,ge)=>{ge&&Hn.focusIn(he)})(pe,Ae)})(te,me)})},z=Qi(rT.sketch({text:E.text,level:dt(["success","error","warning","warn","info"],E.type)?E.type:void 0,progress:E.progressBar===!0,icon:E.icon,onAction:M,iconProvider:b.providers.icons,backstageProvider:b.providers}));if(f.isSet()){const te=dl(z);f.on(me=>{eo.append(me,te),br.reposition(me),dr.refresh(me),k(me.components())})}else{const te=Qi(br.sketch({dom:{tag:"div",classes:["tox-notifications-container"],attributes:{"aria-label":"Notifications",role:"region"}},lazySink:b.getSink,fireDismissalEventInstead:{},...b.header.isPositionedAtTop()?{}:{fireRepositionEventInstead:{}},inlineBehaviours:Jt([Hn.config({mode:"cyclic",selector:".tox-notification, .tox-notification a, .tox-notification button"}),eo.config({}),...Fh(s)&&!b.header.isPositionedAtTop()?[]:[dr.config({contextual:{lazyContext:()=>R.some(ui(v())),fadeInClass:"tox-notification-container-dock-fadein",fadeOutClass:"tox-notification-container-dock-fadeout",transitionClass:"tox-notification-container-dock-transition"},modes:["top"],lazyViewport:he=>Qp(s,he.element).map(ge=>({bounds:eb(ge),optScrollEnv:R.some({currentScrollTop:ge.element.dom.scrollTop,scrollElmTop:Vl(ge.element).top})})).getOrThunk(()=>({bounds:qi(),optScrollEnv:R.none()}))})]])})),me=dl(z),pe={maxHeightFunction:Oh()},Ae={...b.anchors.banner(),overrides:pe};f.set(te),d.add(te),br.showWithinBounds(te,me,{anchor:Ae},C)}ee(E.timeout)&&E.timeout>0&&I_.setEditorTimeout(s,()=>{M()},E.timeout);const Y=()=>{f.on(te=>{br.reposition(te),dr.refresh(te),k(te.components())})};return{close:M,reposition:Y,text:te=>{rT.updateText(z,te)},settings:E,getEl:()=>z.element.dom,progressBar:{value:te=>{rT.updateProgress(z,te)}}}},close:E=>{E.close()},getArgs:E=>E.settings}},ow;(function(s){s[s.CLOSE_ON_EXECUTE=0]="CLOSE_ON_EXECUTE",s[s.BUBBLE_TO_SANDBOX=1]="BUBBLE_TO_SANDBOX"})(ow||(ow={}));var dm=ow;const X_="tox-menu-nav__js",J_="tox-collection__item",uP="tox-swatch",dP={normal:X_,color:uP},fP="tox-collection__item--enabled",mP="tox-collection__item-icon",sw="tox-collection__item-label",iT="tox-collection__item-caret",yg="tox-collection__item--active",rw="tox-collection__item-container",iw="tox-collection__item-container--row",ob=s=>On(dP,s).getOr(X_),PK=s=>s==="color"?"tox-swatches":"tox-menu",aT=s=>({backgroundMenu:"tox-background-menu",selectedMenu:"tox-selected-menu",selectedItem:"tox-collection__item--active",hasIcons:"tox-menu--has-icons",menu:PK(s),tieredMenu:"tox-tiered-menu"}),i0=s=>{const l=aT(s);return{backgroundMenu:l.backgroundMenu,selectedMenu:l.selectedMenu,menu:l.menu,selectedItem:l.selectedItem,item:ob(s)}},gP=(s,l,d)=>{const f=aT(d);return{tag:"div",classes:Zt([[f.menu,`tox-menu-${l}-column`],s?[f.hasIcons]:[]])}},hP=[e0.parts.items({})],Q_=(s,l,d)=>{const f=aT(d);return{dom:{tag:"div",classes:Zt([[f.tieredMenu]])},markers:i0(d)}},_7=j([es("data"),mt("inputAttributes",{}),mt("inputStyles",{}),mt("tag","input"),mt("inputClasses",[]),rs("onSetValue"),mt("styles",{}),mt("eventOrder",{}),An("inputBehaviours",[ht,mo]),mt("selectOnFocus",!0)]),S7=s=>Jt([mo.config({onFocus:s.selectOnFocus?l=>{const d=l.element,f=jf(d);d.dom.setSelectionRange(0,f.length)}:H})]),k7=s=>({...S7(s),...Ro(s.inputBehaviours,[ht.config({store:{mode:"manual",...s.data.map(l=>({initialValue:l})).getOr({}),getValue:l=>jf(l.element),setValue:(l,d)=>{jf(l.element)!==d&&eg(l.element,d)}},onSetValue:s.onSetValue})])}),pP=s=>({tag:s.tag,attributes:{type:"text",...s.inputAttributes},styles:s.inputStyles,classes:s.inputClasses}),Vh=Eu({name:"Input",configFields:_7(),factory:(s,l)=>({uid:s.uid,dom:pP(s),components:[],behaviours:k7(s),eventOrder:s.eventOrder})}),bP=En("refetch-trigger-event"),vP=En("redirect-menu-item-interaction"),yP="tox-menu__searcher",aw=s=>fr(s.element,`.${yP}`).bind(l=>s.getSystem().getByDom(l).toOptional()),xP=aw,wP=s=>({fetchPattern:ht.getValue(s),selectionStart:s.element.dom.selectionStart,selectionEnd:s.element.dom.selectionEnd}),CP=s=>{const l=(b,v)=>(v.cut(),R.none()),d=(b,v)=>{const C={interactionEvent:v.event,eventType:v.event.raw.type};return $n(b,vP,C),R.some(!0)},f="searcher-events";return{dom:{tag:"div",classes:[J_]},components:[Vh.sketch({inputClasses:[yP,"tox-textfield"],inputAttributes:{...s.placeholder.map(b=>({placeholder:s.i18n(b)})).getOr({}),type:"search","aria-autocomplete":"list"},inputBehaviours:Jt([Io(f,[Dt(jm(),b=>{Mo(b,bP)}),Dt(Sr(),(b,v)=>{v.event.raw.key==="Escape"&&v.stop()})]),Hn.config({mode:"special",onLeft:l,onRight:l,onSpace:l,onEnter:d,onEscape:d,onUp:d,onDown:d})]),eventOrder:{keydown:[f,Hn.name()]}})]}},lw="tox-collection--results__js",_P=s=>{var l;return s.dom?{...s,dom:{...s.dom,attributes:{...(l=s.dom.attributes)!==null&&l!==void 0?l:{},id:En("aria-item-search-result-id"),"aria-selected":"false"}}}:s},eS=(s,l)=>d=>{const f=et(d,l);return Me(f,b=>({dom:s,components:b}))},SP=(s,l)=>{const d=[];let f=[];return ft(s,(b,v)=>{l(b,v)?(f.length>0&&d.push(f),f=[],(vo(b.dom,"innerHtml")||b.components&&b.components.length>0)&&f.push(b)):f.push(b)}),f.length>0&&d.push(f),Me(d,b=>({dom:{tag:"div",classes:["tox-collection__group"]},components:b}))},cw=(s,l,d)=>e0.parts.items({preprocess:f=>{const b=Me(f,d);return s!=="auto"&&s>1?eS({tag:"div",classes:["tox-collection__group"]},s)(b):SP(b,(v,C)=>l[C].type==="separator")}}),lT=(s,l,d=!0)=>({dom:{tag:"div",classes:["tox-menu","tox-collection"].concat(s===1?["tox-collection--list"]:["tox-collection--grid"])},components:[cw(s,l,fe)]}),uw=s=>Sn(s,l=>"icon"in l&&l.icon!==void 0),xg=s=>(console.error(ll(s)),console.log(s),R.none()),E7=(s,l,d,f,b)=>{const v=(C=d,{dom:{tag:"div",classes:["tox-collection","tox-collection--horizontal"]},components:[e0.parts.items({preprocess:k=>SP(k,(E,P)=>C[P].type==="separator")})]});var C;return{value:s,dom:v.dom,components:v.components,items:d}},cT=(s,l,d,f,b)=>{if(b.menuType==="color"){const v=(C=>({dom:{tag:"div",classes:["tox-menu","tox-swatches-menu"]},components:[{dom:{tag:"div",classes:["tox-swatches"]},components:[e0.parts.items({preprocess:C!=="auto"?eS({tag:"div",classes:["tox-swatches__row"]},C):fe})]}]}))(f);return{value:s,dom:v.dom,components:v.components,items:d}}if(b.menuType==="normal"&&f==="auto"){const v=lT(f,d);return{value:s,dom:v.dom,components:v.components,items:d}}if(b.menuType==="normal"||b.menuType==="searchable"){const v=b.menuType!=="searchable"?lT(f,d):b.searchMode.searchMode==="search-with-field"?((C,k,E)=>{const P=En("aria-controls-search-results");return{dom:{tag:"div",classes:["tox-menu","tox-collection"].concat(C===1?["tox-collection--list"]:["tox-collection--grid"])},components:[CP({i18n:hd.translate,placeholder:E.placeholder}),{dom:{tag:"div",classes:[...C===1?["tox-collection--list"]:["tox-collection--grid"],lw],attributes:{id:P}},components:[cw(C,k,_P)]}]}})(f,d,b.searchMode):((C,k,E=!0)=>{const P=En("aria-controls-search-results");return{dom:{tag:"div",classes:["tox-menu","tox-collection",lw].concat(C===1?["tox-collection--list"]:["tox-collection--grid"]),attributes:{id:P}},components:[cw(C,k,_P)]}})(f,d);return{value:s,dom:v.dom,components:v.components,items:d}}if(b.menuType==="listpreview"&&f!=="auto"){const v=(C=>({dom:{tag:"div",classes:["tox-menu","tox-collection","tox-collection--toolbar","tox-collection--toolbar-lg"]},components:[e0.parts.items({preprocess:eS({tag:"div",classes:["tox-collection__group"]},C)})]}))(f);return{value:s,dom:v.dom,components:v.components,items:d}}return{value:s,dom:gP(l,f,b.menuType),components:hP,items:d}},xi=_r("type"),uT=_r("name"),dT=_r("label"),pd=_r("text"),fT=_r("title"),mT=_r("icon"),a0=_r("value"),A7=Wa("fetch"),kP=Wa("getSubmenuItems"),vy=Wa("onAction"),EP=Wa("onItemAction"),sb=or("onSetup",()=>H),T7=Br("name"),rb=Br("text"),O7=Br("role"),bd=Br("icon"),dw=Br("tooltip"),gT=Br("label"),yy=Br("shortcut"),hT=gu("select"),tS=oi("active",!1),NK=oi("borderless",!1),vd=oi("enabled",!0),nS=oi("primary",!1),AP=s=>mt("columns",s),Yc=mt("meta",{}),pT=or("onAction",H),l0=s=>Xl("type",s),bT=s=>di("name","name",lh(()=>En(`${s}-name`)),ki),TP=Yn([xi,rb]),R7=Yn([l0("autocompleteitem"),tS,vd,Yc,a0,rb,bd]),wg=[vd,dw,bd,rb,sb],vT=Yn([xi,vy,yy].concat(wg)),OP=s=>Cr("toolbarbutton",vT,s),fw=[tS].concat(wg),oS=Yn(fw.concat([xi,vy,yy])),sS=s=>Cr("ToggleButton",oS,s),RP=[or("predicate",xe),Pc("scope","node",["node","editor"]),Pc("position","selection",["node","selection","line"])],I7=wg.concat([l0("contextformbutton"),nS,vy,Yi("original",fe)]),D7=fw.concat([l0("contextformbutton"),nS,vy,Yi("original",fe)]),P7=wg.concat([l0("contextformbutton")]),N7=fw.concat([l0("contextformtogglebutton")]),L7=bi("type",{contextformbutton:I7,contextformtogglebutton:D7}),M7=Yn([l0("contextform"),or("initValue",j("")),gT,cl("commands",L7),Hr("launch",bi("type",{contextformbutton:P7,contextformtogglebutton:N7}))].concat(RP)),IP=Yn([l0("contexttoolbar"),_r("items")].concat(RP)),rS=[xi,_r("src"),Br("alt"),Ns("classes",[],ki)],B7=Yn(rS),F7=[xi,pd,T7,Ns("classes",["tox-collection__item-label"],ki)],$7=Yn(F7),DP=zm(()=>sd("type",{cardimage:B7,cardtext:$7,cardcontainer:xy})),xy=Yn([xi,Xl("direction","horizontal"),Xl("align","left"),Xl("valign","middle"),cl("items",DP)]),c0=[vd,rb,O7,yy,di("value","value",lh(()=>En("menuitem-value")),Hl()),Yc],V7=Yn([xi,gT,cl("items",DP),sb,pT].concat(c0)),yT=Yn([xi,tS,bd].concat(c0)),PP=[xi,_r("fancytype"),pT],NP=[mt("initData",{})].concat(PP),LP=[gu("select"),ja("initData",{},[oi("allowCustomColors",!0),Xl("storageKey","default"),b1("colors",Hl())])].concat(PP),MP=bi("fancytype",{inserttable:NP,colorswatch:LP}),BP=Yn([xi,sb,pT,bd].concat(c0)),FP=Yn([xi,kP,sb,bd].concat(c0)),z7=Yn([xi,bd,tS,sb,vy].concat(c0)),xT=(s,l,d)=>{const f=Ai(s.element,"."+d);if(f.length>0){const b=fo(f,v=>{const C=v.dom.getBoundingClientRect().top,k=f[0].dom.getBoundingClientRect().top;return Math.abs(C-k)>l}).getOr(f.length);return R.some({numColumns:b,numRows:Math.ceil(f.length/b)})}return R.none()},mw=s=>((l,d)=>Jt([Io(l,d)]))(En("unnamed-events"),s),iS="silver.readonly",H7=Yn([Xi("readonly",cc)]),u0=(s,l)=>{const d=s.mainUi.outerContainer.element,f=[s.mainUi.mothership,...s.uiMotherships];l&&ft(f,b=>{b.broadcastOn([B()],{target:d})}),ft(f,b=>{b.broadcastOn([iS],{readonly:l})})},$P=(s,l)=>{s.on("init",()=>{s.mode.isReadOnly()&&u0(l,!0)}),s.on("SwitchMode",()=>u0(l,s.mode.isReadOnly())),HA(s)&&s.mode.set("readonly")},Fi=()=>Ol.config({channels:{[iS]:{schema:H7,onReceive:(s,l)=>{ho.set(s,l.readonly)}}}}),Ba=s=>ho.config({disabled:s}),VP=s=>ho.config({disabled:s,disableClass:"tox-tbtn--disabled"}),aS=s=>ho.config({disabled:s,disableClass:"tox-tbtn--disabled",useNative:!1}),gw=(s,l)=>{const d=s.getApi(l);return f=>{f(d)}},ib=(s,l)=>ar(d=>{gw(s,d)(f=>{const b=s.onSetup(f);Z(b)&&l.set(b)})}),zh=(s,l)=>ld(d=>gw(s,d)(l.get())),zP=(s,l)=>vu((d,f)=>{gw(s,d)(s.onAction),s.triggersSubmenu||l!==dm.CLOSE_ON_EXECUTE||(d.getSystem().isConnected()&&Mo(d,rv()),f.stop())}),U7={[El()]:["disabling","alloy.base.behaviour","toggling","item-events"]},wy=nl,Cy=(s,l,d,f)=>{const b=Kn(H);return{type:"item",dom:l.dom,components:wy(l.optComponents),data:s.data,eventOrder:U7,hasSubmenu:s.triggersSubmenu,itemBehaviours:Jt([Io("item-events",[zP(s,d),ib(s,b),zh(s,b)]),(v=()=>!s.enabled||f.isDisabled(),ho.config({disabled:v,disableClass:"tox-collection__item--state-disabled"})),Fi(),eo.config({})].concat(s.itemBehaviours))};var v},_y=s=>({value:s.value,meta:{text:s.text.getOr(""),...s.meta}}),lS=s=>{const l=lm.os.isMacOS()||lm.os.isiOS(),d=l?{alt:"",ctrl:"",shift:"",meta:"",access:""}:{meta:"Ctrl",access:"Shift+Alt"},f=s.split("+"),b=Me(f,v=>{const C=v.toLowerCase().trim();return vo(d,C)?d[C]:v});return l?b.join(""):b.join("+")},wT=(s,l,d=[mP])=>qc(s,{tag:"div",classes:d},l),HP=s=>({dom:{tag:"div",classes:[sw]},components:[Fr(hd.translate(s))]}),CT=(s,l)=>({dom:{tag:"div",classes:l,innerHtml:s}}),UP=(s,l)=>({dom:{tag:"div",classes:[sw]},components:[{dom:{tag:s.tag,styles:s.styles},components:[Fr(hd.translate(l))]}]}),WP=s=>({dom:{tag:"div",classes:["tox-collection__item-accessory"]},components:[Fr(lS(s))]}),KP=s=>wT("checkmark",s,["tox-collection__item-checkmark"]),jP=s=>{const l=s.map(d=>({attributes:{id:En("menu-item"),"aria-label":hd.translate(d)}})).getOr({});return{tag:"div",classes:[X_,J_],...l}},hw=(s,l,d,f=R.none())=>s.presets==="color"?((b,v,C)=>{const k=b.value,E=b.iconContent.map(F=>((M,z,Y)=>{const te=z();return nw(M,te).or(Y).getOrThunk(sT(te))})(F,v.icons,C)),P=b.ariaLabel.map(F=>({"aria-label":v.translate(F),"data-mce-name":F})).getOr({});return{dom:(()=>{const F=uP,M=E.getOr(""),z={tag:"div",attributes:P,classes:[F]};return k==="custom"?{...z,tag:"button",classes:[...z.classes,"tox-swatches__picker-btn"],innerHtml:M}:k==="remove"?{...z,classes:[...z.classes,"tox-swatch--remove"],innerHtml:M}:U(k)?{...z,attributes:{...z.attributes,"data-mce-color":k},styles:{"background-color":k},innerHtml:M}:z})(),optComponents:[]}})(s,l,f):((b,v,C,k)=>{const E={tag:"div",classes:[mP]},P=C?b.iconContent.map(Y=>qc(Y,E,v.icons,k)).orThunk(()=>R.some({dom:E})):R.none(),F=b.checkMark,M=R.from(b.meta).fold(()=>HP,Y=>vo(Y,"style")?Ve(UP,Y.style):HP),z=b.htmlContent.fold(()=>b.textContent.map(M),Y=>R.some(CT(Y,[sw])));return{dom:jP(b.ariaLabel),optComponents:[P,z,b.shortcutContent.map(WP),F,b.caret]}})(s,l,d,f),ZP=(s,l,d)=>On(s,"tooltipWorker").map(f=>[ii.config({lazySink:l.getSink,tooltipDom:{tag:"div",classes:["tox-tooltip-worker-container"]},tooltipComponents:[],anchor:b=>({type:"submenu",item:b,overrides:{maxHeightFunction:Oh}}),mode:"follow-highlight",onShow:(b,v)=>{f(C=>{ii.setComponents(b,[Zf({element:mn(C)})])})}})]).getOrThunk(()=>d.map(f=>[ii.config({...l.providers.tooltips.getConfig({tooltipText:f}),mode:"follow-highlight"})]).getOr([])),_T=(s,l)=>{const d=(f=>fy.DOM.encode(f))(hd.translate(s));if(l.length>0){const f=new RegExp((b=>b.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"))(l),"gi");return d.replace(f,b=>`<span class="tox-autocompleter-highlight">${b}</span>`)}return d},ST=(s,l)=>Me(s,d=>{switch(d.type){case"cardcontainer":return((v,C)=>{const k=v.direction==="vertical"?"tox-collection__item-container--column":iw,E=v.align==="left"?"tox-collection__item-container--align-left":"tox-collection__item-container--align-right";return{dom:{tag:"div",classes:[rw,k,E,(()=>{switch(v.valign){case"top":return"tox-collection__item-container--valign-top";case"middle":return"tox-collection__item-container--valign-middle";case"bottom":return"tox-collection__item-container--valign-bottom"}})()]},components:C}})(d,ST(d.items,l));case"cardimage":return((v,C,k)=>({dom:{tag:"img",classes:C,attributes:{src:v,alt:k.getOr("")}}}))(d.src,d.classes,d.alt);case"cardtext":const f=d.name.exists(v=>dt(l.cardText.highlightOn,v)),b=f?R.from(l.cardText.matchText).getOr(""):"";return CT(_T(d.text,b),d.classes)}}),Hh=gl($A(),VA()),kT=s=>({value:d0(s)}),ET=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,AT=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,GP=s=>ET.test(s)||AT.test(s),d0=s=>Ks(s,"#").toUpperCase(),TT=s=>{const l=s.toString(16);return(l.length===1?"0"+l:l).toUpperCase()},pw=s=>{const l=TT(s.red)+TT(s.green)+TT(s.blue);return kT(l)},OT=Math.min,qP=Math.max,cS=Math.round,W7=/^\s*rgb\s*\(\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*(\d+)\s*\)\s*$/i,YP=/^\s*rgba\s*\(\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*((?:\d?\.\d+|\d+)%?)\s*\)\s*$/i,Uh=(s,l,d,f)=>({red:s,green:l,blue:d,alpha:f}),bw=s=>{const l=parseInt(s,10);return l.toString()===s&&l>=0&&l<=255},XP=s=>{let l,d,f;const b=(s.hue||0)%360;let v=s.saturation/100,C=s.value/100;if(v=qP(0,OT(v,1)),C=qP(0,OT(C,1)),v===0)return l=d=f=cS(255*C),Uh(l,d,f,1);const k=b/60,E=C*v,P=E*(1-Math.abs(k%2-1)),F=C-E;switch(Math.floor(k)){case 0:l=E,d=P,f=0;break;case 1:l=P,d=E,f=0;break;case 2:l=0,d=E,f=P;break;case 3:l=0,d=P,f=E;break;case 4:l=P,d=0,f=E;break;case 5:l=E,d=0,f=P;break;default:l=d=f=0}return l=cS(255*(l+F)),d=cS(255*(d+F)),f=cS(255*(f+F)),Uh(l,d,f,1)},df=s=>{const l=(v=>{const C=(E=>({value:E.value.replace(ET,(F,M,z,Y)=>M+M+z+z+Y+Y)}))(v),k=AT.exec(C.value);return k===null?["FFFFFF","FF","FF","FF"]:k})(s),d=parseInt(l[1],16),f=parseInt(l[2],16),b=parseInt(l[3],16);return Uh(d,f,b,1)},RT=(s,l,d,f)=>{const b=parseInt(s,10),v=parseInt(l,10),C=parseInt(d,10),k=parseFloat(f);return Uh(b,v,C,k)},uS=s=>{const l=W7.exec(s);if(l!==null)return R.some(RT(l[1],l[2],l[3],"1"));const d=YP.exec(s);return d!==null?R.some(RT(d[1],d[2],d[3],d[4])):R.none()},JP=s=>`rgba(${s.red},${s.green},${s.blue},${s.alpha})`,QP=Uh(255,0,0,1),f0=(s,l)=>{s.dispatch("ResizeContent",l)},Sy=(s,l)=>{s.dispatch("TextColorChange",l)},eN=(s,l)=>s.dispatch("ResolveName",{name:l.nodeName.toLowerCase(),target:l}),ky=(s,l)=>()=>{s(),l()},$i=s=>m0(s,"NodeChange",l=>{l.setEnabled(s.selection.isEditable())}),fm=(s,l)=>d=>{const f=$i(s)(d),b=((v,C)=>k=>{const E=Ic(),P=()=>{k.setActive(v.formatter.match(C));const F=v.formatter.formatChanged(C,k.setActive);E.set(F)};return v.initialized?P():v.once("init",P),()=>{v.off("init",P),E.clear()}})(s,l)(d);return()=>{f(),b()}},m0=(s,l,d)=>f=>{const b=()=>d(f),v=()=>{d(f),s.on(l,b)};return s.initialized?v():s.once("init",v),()=>{s.off("init",v),s.off(l,b)}},tN=s=>l=>()=>{s.undoManager.transact(()=>{s.focus(),s.execCommand("mceToggleFormat",!1,l.format)})},pc=(s,l)=>()=>s.execCommand(l);var Xc=tinymce.util.Tools.resolve("tinymce.util.LocalStorage");const dS={},nN=s=>On(dS,s).getOrThunk(()=>{const l=`tinymce-custom-colors-${s}`,d=Xc.getItem(l);if(V(d)){const b=Xc.getItem("tinymce-custom-colors");Xc.setItem(l,U(b)?b:"[]")}const f=((b,v=10)=>{const C=Xc.getItem(b),k=h(C)?JSON.parse(C):[],E=v-(P=k).length<0?P.slice(0,v):P;var P;const F=M=>{E.splice(M,1)};return{add:M=>{((z,Y)=>{const te=Qt(z,Y);return te===-1?R.none():R.some(te)})(E,M).each(F),E.unshift(M),E.length>v&&E.pop(),Xc.setItem(b,JSON.stringify(E))},state:()=>E.slice(0)}})(l,10);return dS[s]=f,f}),IT=(s,l)=>{nN(s).add(l)},Ey=(s,l,d)=>({hue:s,saturation:l,value:d}),fS=s=>{let l=0,d=0,f=0;const b=s.red/255,v=s.green/255,C=s.blue/255,k=Math.min(b,Math.min(v,C)),E=Math.max(b,Math.max(v,C));return k===E?(f=k,Ey(0,0,100*f)):(l=b===k?3:C===k?1:5,l=60*(l-(b===k?v-C:C===k?b-v:C-b)/(E-k)),d=(E-k)/E,f=E,Ey(Math.round(l),Math.round(100*d),Math.round(100*f)))},mS=s=>pw(XP(s)),oN=s=>{return(l=s,GP(l)?R.some({value:d0(l)}):R.none()).orThunk(()=>uS(s).map(pw)).getOrThunk(()=>{const d=document.createElement("canvas");d.height=1,d.width=1;const f=d.getContext("2d");f.clearRect(0,0,d.width,d.height),f.fillStyle="#FFFFFF",f.fillStyle=s,f.fillRect(0,0,1,1);const b=f.getImageData(0,0,1,1).data,v=b[0],C=b[1],k=b[2],E=b[3];return pw(Uh(v,C,k,E))});var l},DT="forecolor",PT="hilitecolor",K7=s=>{const l=[];for(let d=0;d<s.length;d+=2)l.push({text:s[d+1],value:"#"+oN(s[d]).value,icon:"checkmark",type:"choiceitem"});return l},yd=s=>l=>l.options.get(s),vw="#000000",g0=(s,l)=>l===DT&&s.options.isSet("color_map_foreground")?yd("color_map_foreground")(s):l===PT&&s.options.isSet("color_map_background")?yd("color_map_background")(s):yd("color_map")(s),gS=(s,l="default")=>Math.max(5,Math.ceil(Math.sqrt(g0(s,l).length))),sN=(s,l)=>{const d=yd("color_cols")(s),f=gS(s,l);return d===gS(s)?f:d},NT=(s,l="default")=>Math.round(l===DT?yd("color_cols_foreground")(s):l===PT?yd("color_cols_background")(s):yd("color_cols")(s)),LT=yd("custom_colors"),rN=yd("color_default_foreground"),iN=yd("color_default_background"),aN=(s,l)=>{const d=mn(s.selection.getStart()),f=l==="hilitecolor"?dh(d,b=>{if(lr(b)){const v=Ar(b,"background-color");return fs(uS(v).exists(C=>C.alpha!==0),v)}return R.none()}).getOr("rgba(0, 0, 0, 0)"):Ar(d,"color");return uS(f).map(b=>"#"+pw(b).value)},hS=s=>{const l="choiceitem",d={type:l,text:"Remove color",icon:"color-swatch-remove-color",value:"remove"};return s?[d,{type:l,text:"Custom color",icon:"color-picker",value:"custom"}]:[d]},MT=(s,l,d,f)=>{d==="custom"?uN(s)(b=>{b.each(v=>{IT(l,v),s.execCommand("mceApplyTextcolor",l,v),f(v)})},aN(s,l).getOr(vw)):d==="remove"?(f(""),s.execCommand("mceRemoveTextcolor",l)):(f(d),s.execCommand("mceApplyTextcolor",l,d))},BT=(s,l,d)=>s.concat((f=>Me(nN(f).state(),b=>({type:"choiceitem",text:b,icon:"checkmark",value:b})))(l).concat(hS(d))),lN=(s,l,d)=>f=>{f(BT(s,l,d))},FT=(s,l,d)=>{const f=l==="forecolor"?"tox-icon-text-color__color":"tox-icon-highlight-bg-color__color";s.setIconFill(f,d)},$T=(s,l)=>{s.setTooltip(l)},cN=(s,l)=>d=>{const f=aN(s,l);return li(f,d.toUpperCase())},VT=(s,l,d)=>{if(Gu(d))return l==="forecolor"?"Text color":"Background color";const f=l==="forecolor"?"Text color {0}":"Background color {0}",b=BT(g0(s,l),l,!1),v=J(b,C=>C.value===d).getOr({text:""}).text;return s.translate([f,s.translate(v)])},zT=(s,l,d,f)=>{s.ui.registry.addSplitButton(l,{tooltip:VT(s,d,f.get()),presets:"color",icon:l==="forecolor"?"text-color":"highlight-bg-color",select:cN(s,d),columns:NT(s,d),fetch:lN(g0(s,d),d,LT(s)),onAction:b=>{MT(s,d,f.get(),H)},onItemAction:(b,v)=>{MT(s,d,v,C=>{f.set(C),Sy(s,{name:l,color:C})})},onSetup:b=>{FT(b,l,f.get());const v=C=>{C.name===l&&(FT(b,C.name,C.color),$T(b,VT(s,d,C.color)))};return s.on("TextColorChange",v),ky($i(s)(b),()=>{s.off("TextColorChange",v)})}})},Ay=(s,l,d,f,b)=>{s.ui.registry.addNestedMenuItem(l,{text:f,icon:l==="forecolor"?"text-color":"highlight-bg-color",onSetup:v=>($T(v,VT(s,d,b.get())),FT(v,l,b.get()),$i(s)(v)),getSubmenuItems:()=>[{type:"fancymenuitem",fancytype:"colorswatch",select:cN(s,d),initData:{storageKey:d},onAction:v=>{MT(s,d,v.value,C=>{b.set(C),Sy(s,{name:l,color:C})})}}]})},uN=s=>(l,d)=>{let f=!1;const b={colorpicker:d};s.windowManager.open({title:"Color Picker",size:"normal",body:{type:"panel",items:[{type:"colorpicker",name:"colorpicker",label:"Color"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:b,onAction:(v,C)=>{C.name==="hex-valid"&&(f=C.value)},onSubmit:v=>{const C=v.getData().colorpicker;f?(l(R.from(C)),v.close()):s.windowManager.alert(s.translate(["Invalid hex color code: {0}",C]))},onClose:H,onCancel:()=>{l(R.none())}})},h0=(s,l,d,f,b,v,C,k)=>{const E=uw(l),P=HT(l,d,f,b!=="color"?"normal":"color",v,C,k);return cT(s,E,P,f,{menuType:b})},HT=(s,l,d,f,b,v,C)=>nl(Me(s,k=>{return k.type==="choiceitem"?(E=k,Cr("choicemenuitem",yT,E)).fold(xg,P=>R.some(((F,M,z,Y,te,me,pe,Ae=!0)=>{const he=hw({presets:z,textContent:M?F.text:R.none(),htmlContent:R.none(),ariaLabel:F.text,iconContent:F.icon,shortcutContent:M?F.shortcut:R.none(),checkMark:M?R.some(KP(pe.icons)):R.none(),caret:R.none(),value:F.value},pe,Ae),ge=F.text.filter(j(!M)).map(Ce=>ii.config(pe.tooltips.getConfig({tooltipText:pe.translate(Ce)})));return Fs(Cy({data:_y(F),enabled:F.enabled,getApi:Ce=>({setActive:Te=>{ao.set(Ce,Te)},isActive:()=>ao.isOn(Ce),isEnabled:()=>!ho.isDisabled(Ce),setEnabled:Te=>ho.set(Ce,!Te)}),onAction:Ce=>Y(F.value),onSetup:Ce=>(Ce.setActive(te),H),triggersSubmenu:!1,itemBehaviours:[...ge.toArray()]},he,me,pe),{toggling:{toggleClass:fP,toggleOnExecute:!1,selected:F.active,exclusive:!0}})})(P,d===1,f,l,v(P.value),b,C,uw(s)))):R.none();var E})),yw=(s,l)=>{const d=i0(l);return s===1?{mode:"menu",moveOnTab:!0}:s==="auto"?{mode:"grid",selector:"."+d.item,initSize:{numColumns:1,numRows:1}}:{mode:"matrix",rowSelector:"."+(l==="color"?"tox-swatches__row":"tox-collection__group"),previousSelector:f=>l==="color"?fr(f.element,"[aria-checked=true]"):R.none()}},UT=En("cell-over"),dN=En("cell-execute"),j7=(s,l,d)=>{const f=v=>$n(v,dN,{row:s,col:l}),b=(v,C)=>{C.stop(),f(v)};return Qi({dom:{tag:"div",attributes:{role:"button","aria-label":d}},behaviours:Jt([Io("insert-table-picker-cell",[Dt(Fn(),mo.focus),Dt(El(),f),Dt(vi(),b),Dt(Bf(),b)]),ao.config({toggleClass:"tox-insert-table-picker__selected",toggleOnExecute:!1}),mo.config({onFocus:v=>$n(v,UT,{row:s,col:l})})])})},fN=s=>bn(s,l=>Me(l,dl)),mN=(s,l)=>Fr(`${l}x${s}`),gN={inserttable:(s,l)=>{const d=(C=>(k,E)=>C.shared.providers.translate(["{0} columns, {1} rows",E,k]))(l),f=((C,k,E)=>{const P=[];for(let F=0;F<10;F++){const M=[];for(let z=0;z<10;z++){const Y=C(F+1,z+1);M.push(j7(F,z,Y))}P.push(M)}return P})(d),b=mN(0,0),v=Es({dom:{tag:"span",classes:["tox-insert-table-picker__label"]},components:[b],behaviours:Jt([eo.config({})])});return{type:"widget",data:{value:En("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:!0,components:[Hh.widget({dom:{tag:"div",classes:["tox-insert-table-picker"]},components:fN(f).concat(v.asSpec()),behaviours:Jt([Io("insert-table-picker",[ar(C=>{eo.set(v.get(C),[b])}),mh(UT,(C,k,E)=>{const{row:P,col:F}=E.event;((M,z,Y,te,me)=>{for(let pe=0;pe<10;pe++)for(let Ae=0;Ae<10;Ae++)ao.set(M[pe][Ae],pe<=z&&Ae<=Y)})(f,P,F),eo.set(v.get(C),[mN(P+1,F+1)])}),mh(dN,(C,k,E)=>{const{row:P,col:F}=E.event;Mo(C,rv()),s.onAction({numRows:P+1,numColumns:F+1})})]),Hn.config({initSize:{numRows:10,numColumns:10},mode:"flatgrid",selector:'[role="button"]'})])})]}},colorswatch:(s,l)=>{const d=((C,k)=>{const E=C.initData.allowCustomColors&&k.colorinput.hasCustomColors();return C.initData.colors.fold(()=>BT(k.colorinput.getColors(C.initData.storageKey),C.initData.storageKey,E),P=>P.concat(hS(E)))})(s,l),f=l.colorinput.getColorCols(s.initData.storageKey),b="color",v={...h0(En("menu-value"),d,C=>{s.onAction({value:C})},f,b,dm.CLOSE_ON_EXECUTE,s.select.getOr(xe),l.shared.providers),markers:i0(b),movement:yw(f,b),showMenuRole:!1};return{type:"widget",data:{value:En("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:!0,components:[Hh.widget(e0.sketch(v))]}}},hN=s=>({type:"separator",dom:{tag:"div",classes:[J_,"tox-collection__group-heading"]},components:s.text.map(Fr).toArray()});var Z7=Object.freeze({__proto__:null,getCoupled:(s,l,d,f)=>d.getOrCreate(s,l,f),getExistingCoupled:(s,l,d,f)=>d.getExisting(s,l,f)}),pN=[Xi("others",ev(Ko.value,Hl()))],pS=Object.freeze({__proto__:null,init:()=>{const s={},l=(f,b)=>{if(jt(f.others).length===0)throw new Error("Cannot find any known coupled components");return On(s,b)},d=j({});return Mi({readState:d,getExisting:(f,b,v)=>l(b,v).orThunk(()=>(On(b.others,v).getOrDie("No information found for coupled component: "+v),R.none())),getOrCreate:(f,b,v)=>l(b,v).getOrThunk(()=>{const C=On(b.others,v).getOrDie("No information found for coupled component: "+v)(f),k=f.getSystem().build(C);return s[v]=k,k})})}});const $r=Bi({fields:pN,name:"coupling",apis:Z7,state:pS}),xw=s=>{let l=R.none(),d=[];const f=C=>{b()?v(C):d.push(C)},b=()=>l.isSome(),v=C=>{l.each(k=>{setTimeout(()=>{C(k)},0)})};return s(C=>{b()||(l=R.some(C),ft(d,v),d=[])}),{get:f,map:C=>xw(k=>{f(E=>{k(C(E))})}),isReady:b}},G7={nu:xw,pure:s=>xw(l=>{l(s)})},q7=s=>{setTimeout(()=>{throw s},0)},Ty=s=>{const l=d=>{s().then(d,q7)};return{map:d=>Ty(()=>s().then(d)),bind:d=>Ty(()=>s().then(f=>d(f).toPromise())),anonBind:d=>Ty(()=>s().then(()=>d.toPromise())),toLazy:()=>G7.nu(l),toCached:()=>{let d=null;return Ty(()=>(d===null&&(d=s()),d))},toPromise:s,get:l}},ab=s=>Ty(()=>new Promise(s)),Cg=s=>Ty(()=>Promise.resolve(s)),WT=j("sink"),bN=j(ku({name:WT(),overrides:j({dom:{tag:"div"},behaviours:Jt([wa.config({useFixed:_e})]),events:_o([Gm(Sr()),Gm($t()),Gm(vi())])})})),vN=(s,l)=>{const d=s.getHotspot(l).getOr(l),f="hotspot",b=s.getAnchorOverrides();return s.layouts.fold(()=>({type:f,hotspot:d,overrides:b}),v=>({type:f,hotspot:d,overrides:b,layouts:v}))},bS=(s,l,d,f,b,v,C)=>((E,P,F,M,z,Y,te)=>{const me=((Ae,he,ge)=>(0,Ae.fetch)(ge).map(he))(E,P,M),pe=yN(M,E);return me.map(Ae=>Ae.bind(he=>{const ge=he.menus[he.primary];return R.from(ge).each(Ce=>{E.listRole.each(Te=>{Ce.role=Te})}),R.from(Mh.sketch({...Y.menu(),uid:zc(""),data:he,highlightOnOpen:te,onOpenMenu:(Ce,Te)=>{const Ie=pe().getOrDie();wa.position(Ie,Te,{anchor:F}),T.decloak(z)},onOpenSubmenu:(Ce,Te,Ie)=>{const qe=pe().getOrDie();wa.position(qe,Ie,{anchor:{type:"submenu",item:Te}}),T.decloak(z)},onRepositionMenu:(Ce,Te,Ie)=>{const qe=pe().getOrDie();wa.position(qe,Te,{anchor:F}),ft(Ie,ct=>{wa.position(qe,ct.triggeredMenu,{anchor:{type:"submenu",item:ct.triggeringItem}})})},onEscape:()=>(mo.focus(M),T.close(z),R.some(!0))}))}))})(s,l,vN(s,d),d,f,b,C).map(E=>(E.fold(()=>{T.isOpen(f)&&T.close(f)},P=>{T.cloak(f),T.open(f,P),v(f)}),f)),Y7=(s,l,d,f,b,v,C)=>(T.close(f),Cg(f)),KT=(s,l,d,f,b,v)=>{const C=$r.getCoupled(d,"sandbox");return(T.isOpen(C)?Y7:bS)(s,l,d,C,f,b,v)},yN=(s,l)=>s.getSystem().getByUid(l.uid+"-"+WT()).map(d=>()=>Ko.value(d)).getOrThunk(()=>l.lazySink.fold(()=>()=>Ko.error(new Error("No internal sink is specified, nor could an external sink be found")),d=>()=>d(s))),jT=s=>{T.getState(s).each(l=>{Mh.repositionMenus(l)})},ZT=(s,l,d)=>{const f=_h(),b=yN(l,s);return{dom:{tag:"div",classes:s.sandboxClasses,attributes:{id:f.id}},behaviours:io(s.sandboxBehaviours,[ht.config({store:{mode:"memory",initialValue:l}}),T.config({onOpen:(v,C)=>{const k=vN(s,l);f.link(l.element),s.matchWidth&&((E,P,F)=>{const M=cs.getCurrent(P).getOr(P),z=Pi(E.element);F?wo(M.element,"min-width",z+"px"):((Y,te)=>{nh.set(Y,te)})(M.element,z)})(k.hotspot,C,s.useMinWidth),s.onOpen(k,v,C),d!==void 0&&d.onOpen!==void 0&&d.onOpen(v,C)},onClose:(v,C)=>{f.unlink(l.element),b().getOr(C).element.dom.dispatchEvent(new window.FocusEvent("focusout")),d!==void 0&&d.onClose!==void 0&&d.onClose(v,C)},isPartOf:(v,C,k)=>Tl(C,k)||Tl(l,k),getAttachPoint:()=>b().getOrDie()}),cs.config({find:v=>T.getState(v).bind(C=>cs.getCurrent(C))}),Ol.config({channels:{...ue({isExtraPart:xe}),...ze({doReposition:jT})}})])}},xN=s=>{const l=$r.getCoupled(s,"sandbox");jT(l)},GT=()=>[mt("sandboxClasses",[]),go("sandboxBehaviours",[cs,Ol,T,ht])],X7=j([Ft("dom"),Ft("fetch"),rs("onOpen"),Al("onExecute"),mt("getHotspot",R.some),mt("getAnchorOverrides",j({})),qf(),An("dropdownBehaviours",[ao,$r,Hn,mo]),Ft("toggleClass"),mt("eventOrder",{}),es("lazySink"),mt("matchWidth",!1),mt("useMinWidth",!1),es("role"),es("listRole")].concat(GT())),J7=j([lf({schema:[vh(),mt("fakeFocus",!1)],name:"menu",defaults:s=>({onExecute:s.onExecute})}),bN()]),Dl=Ul({name:"Dropdown",configFields:X7(),partFields:J7(),factory:(s,l,d,f)=>{const b=E=>{T.getState(E).each(P=>{Mh.highlightPrimary(P)})},v=(E,P,F)=>KT(s,fe,E,f,P,F),C={expand:E=>{ao.isOn(E)||v(E,H,hl.HighlightNone).get(H)},open:E=>{ao.isOn(E)||v(E,H,hl.HighlightMenuAndItem).get(H)},refetch:E=>$r.getExistingCoupled(E,"sandbox").fold(()=>v(E,H,hl.HighlightMenuAndItem).map(H),P=>bS(s,fe,E,P,f,H,hl.HighlightMenuAndItem).map(H)),isOpen:ao.isOn,close:E=>{ao.isOn(E)&&v(E,H,hl.HighlightMenuAndItem).get(H)},repositionMenus:E=>{ao.isOn(E)&&xN(E)}},k=(E,P)=>(Hf(E),R.some(!0));return{uid:s.uid,dom:s.dom,components:l,behaviours:Ro(s.dropdownBehaviours,[ao.config({toggleClass:s.toggleClass,aria:{mode:"expanded"}}),$r.config({others:{sandbox:E=>ZT(s,E,{onOpen:()=>ao.on(E),onClose:()=>ao.off(E)})}}),Hn.config({mode:"special",onSpace:k,onEnter:k,onDown:(E,P)=>{if(Dl.isOpen(E)){const F=$r.getCoupled(E,"sandbox");b(F)}else Dl.open(E);return R.some(!0)},onEscape:(E,P)=>Dl.isOpen(E)?(Dl.close(E),R.some(!0)):R.none()}),mo.config({})]),events:dy(R.some(E=>{v(E,b,hl.HighlightMenuAndItem).get(H)})),eventOrder:{...s.eventOrder,[El()]:["disabling","toggling","alloy.base.behaviour"]},apis:C,domModification:{attributes:{"aria-haspopup":s.listRole.getOr("true"),...s.role.fold(()=>({}),E=>({role:E})),...s.dom.tag==="button"?{type:On(s.dom,"attributes").bind(E=>On(E,"type")).getOr("button")}:{}}}}},apis:{open:(s,l)=>s.open(l),refetch:(s,l)=>s.refetch(l),expand:(s,l)=>s.expand(l),close:(s,l)=>s.close(l),isOpen:(s,l)=>s.isOpen(l),repositionMenus:(s,l)=>s.repositionMenus(l)}}),wN=(s,l,d)=>{xP(s).each(f=>{var b;((v,C)=>{ns(C.element,"id").each(k=>fn(v.element,"aria-activedescendant",k))})(f,d),(ul((b=l).element,lw)?R.some(b.element):fr(b.element,"."+lw)).each(v=>{ns(v,"id").each(C=>fn(f.element,"aria-controls",C))})}),fn(d.element,"aria-selected","true")},Q7=(s,l,d)=>{fn(d.element,"aria-selected","false")},p0=s=>$r.getExistingCoupled(s,"sandbox").bind(aw).map(wP).map(l=>l.fetchPattern).getOr("");var ww;(function(s){s[s.ContentFocus=0]="ContentFocus",s[s.UiFocus=1]="UiFocus"})(ww||(ww={}));const e$=(s,l,d,f,b)=>{const v=d.shared.providers,C=E=>b?{...E,shortcut:R.none(),icon:E.text.isSome()?R.none():E.icon}:E;switch(s.type){case"menuitem":return(k=s,Cr("menuitem",BP,k)).fold(xg,E=>R.some(((P,F,M,z=!0)=>{const Y=hw({presets:"normal",iconContent:P.icon,textContent:P.text,htmlContent:R.none(),ariaLabel:P.text,caret:R.none(),checkMark:R.none(),shortcutContent:P.shortcut},M,z);return Cy({data:_y(P),getApi:te=>({isEnabled:()=>!ho.isDisabled(te),setEnabled:me=>ho.set(te,!me)}),enabled:P.enabled,onAction:P.onAction,onSetup:P.onSetup,triggersSubmenu:!1,itemBehaviours:[]},Y,F,M)})(C(E),l,v,f)));case"nestedmenuitem":return(E=>Cr("nestedmenuitem",FP,E))(s).fold(xg,E=>R.some(((P,F,M,z=!0,Y=!1)=>{const te=Y?(me=M.icons,wT("chevron-down",me,[iT])):(Ae=>wT("chevron-right",Ae,[iT]))(M.icons);var me;const pe=hw({presets:"normal",iconContent:P.icon,textContent:P.text,htmlContent:R.none(),ariaLabel:P.text,caret:R.some(te),checkMark:R.none(),shortcutContent:P.shortcut},M,z);return Cy({data:_y(P),getApi:Ae=>({isEnabled:()=>!ho.isDisabled(Ae),setEnabled:he=>ho.set(Ae,!he),setIconFill:(he,ge)=>{fr(Ae.element,`svg path[class="${he}"], rect[class="${he}"]`).each(Ce=>{fn(Ce,"fill",ge)})},setTooltip:he=>{const ge=M.translate(he);fn(Ae.element,"aria-label",ge)}}),enabled:P.enabled,onAction:H,onSetup:P.onSetup,triggersSubmenu:!0,itemBehaviours:[]},pe,F,M)})(C(E),l,v,f,b)));case"togglemenuitem":return(E=>Cr("togglemenuitem",z7,E))(s).fold(xg,E=>R.some(((P,F,M,z=!0)=>{const Y=hw({iconContent:P.icon,textContent:P.text,htmlContent:R.none(),ariaLabel:P.text,checkMark:R.some(KP(M.icons)),caret:R.none(),shortcutContent:P.shortcut,presets:"normal",meta:P.meta},M,z);return Fs(Cy({data:_y(P),enabled:P.enabled,getApi:te=>({setActive:me=>{ao.set(te,me)},isActive:()=>ao.isOn(te),isEnabled:()=>!ho.isDisabled(te),setEnabled:me=>ho.set(te,!me)}),onAction:P.onAction,onSetup:P.onSetup,triggersSubmenu:!1,itemBehaviours:[]},Y,F,M),{toggling:{toggleClass:fP,toggleOnExecute:!1,selected:P.active},role:P.role.getOrUndefined()})})(C(E),l,v,f)));case"separator":return(E=>Cr("separatormenuitem",TP,E))(s).fold(xg,E=>R.some(hN(E)));case"fancymenuitem":return(E=>Cr("fancymenuitem",MP,E))(s).fold(xg,E=>((P,F)=>On(gN,P.fancytype).map(M=>M(P,F)))(E,d));default:return console.error("Unknown item in general menu",s),R.none()}var k},lb=(s,l,d,f,b,v,C)=>{const k=f===1,E=!k||uw(s);return nl(Me(s,P=>{switch(P.type){case"separator":return(F=P,Cr("Autocompleter.Separator",TP,F)).fold(xg,M=>R.some(hN(M)));case"cardmenuitem":return(M=>Cr("cardmenuitem",V7,M))(P).fold(xg,M=>R.some(((z,Y,te,me)=>{const pe={dom:jP(z.label),optComponents:[R.some({dom:{tag:"div",classes:[rw,iw]},components:ST(z.items,me)})]};return Cy({data:_y({text:R.none(),...z}),enabled:z.enabled,getApi:Ae=>({isEnabled:()=>!ho.isDisabled(Ae),setEnabled:he=>{ho.set(Ae,!he),ft(Ai(Ae.element,"*"),ge=>{Ae.getSystem().getByDom(ge).each(Ce=>{Ce.hasConfigured(ho)&&ho.set(Ce,!he)})})}}),onAction:z.onAction,onSetup:z.onSetup,triggersSubmenu:!1,itemBehaviours:R.from(me.itemBehaviours).getOr([])},pe,Y,te.providers)})({...M,onAction:z=>{M.onAction(z),d(M.value,M.meta)}},b,v,{itemBehaviours:ZP(M.meta,v,R.none()),cardText:{matchText:l,highlightOn:C}})));default:return(M=>Cr("Autocompleter.Item",R7,M))(P).fold(xg,M=>R.some(((z,Y,te,me,pe,Ae,he,ge=!0)=>{const Ce=hw({presets:me,textContent:R.none(),htmlContent:te?z.text.map(Ie=>_T(Ie,Y)):R.none(),ariaLabel:z.text,iconContent:z.icon,shortcutContent:R.none(),checkMark:R.none(),caret:R.none(),value:z.value},he.providers,ge,z.icon),Te=z.text.filter(Ie=>!te&&Ie!=="");return Cy({data:_y(z),enabled:z.enabled,getApi:j({}),onAction:Ie=>pe(z.value,z.meta),onSetup:j(H),triggersSubmenu:!1,itemBehaviours:ZP(z,he,Te)},Ce,Ae,he.providers)})(M,l,k,"normal",d,b,v,E)))}var F}))},CN=(s,l,d,f,b,v)=>{const C=uw(l),k=nl(Me(l,P=>{const F=M=>e$(M,d,f,(z=>b?!vo(z,"text"):C)(M),b);return P.type==="nestedmenuitem"&&P.getSubmenuItems().length<=0?F({...P,enabled:!1}):F(P)})),E=(P=>P.searchMode==="no-search"?{menuType:"normal"}:{menuType:"searchable",searchMode:P})(v);return(b?E7:cT)(s,C,k,1,E)},qT=s=>Mh.singleData(s.value,s),xd=s=>Yf(mn(s.startContainer),s.startOffset,mn(s.endContainer),s.endOffset),_N=(s,l)=>{const d=En("autocompleter"),f=Kn(!1),b=Kn(!1),v=Rs(),C=Qi(br.sketch({dom:{tag:"div",classes:["tox-autocompleter"],attributes:{id:d}},components:[],fireDismissalEventInstead:{},inlineBehaviours:Jt([Io("dismissAutocompleter",[Dt(fh(),()=>M()),Dt(Px(),(te,me)=>{ns(me.event.target,"id").each(pe=>fn(mn(s.getBody()),"aria-activedescendant",pe))})])]),lazySink:l.getSink})),k=()=>br.isOpen(C),E=b.get,P=()=>{if(k()){br.hide(C),s.dom.remove(d,!1);const te=mn(s.getBody());ns(te,"aria-owns").filter(me=>me===d).each(()=>{Lo(te,"aria-owns"),Lo(te,"aria-activedescendant")})}},F=()=>br.getContent(C).bind(te=>ke(te.components(),0)),M=()=>s.execCommand("mceAutocompleterClose"),z=te=>{const me=(pe=>{const Ae=cn(pe,he=>R.from(he.columns)).getOr(1);return bn(pe,he=>{const ge=he.items;return lb(ge,he.matchText,(Ce,Te)=>{const Ie={hide:()=>M(),reload:qe=>{P(),s.execCommand("mceAutocompleterReload",!1,{fetchOptions:qe})}};s.execCommand("mceAutocompleterRefreshActiveRange"),v.get().each(qe=>{f.set(!0),he.onAction(Ie,qe,Ce,Te),f.set(!1)})},Ae,dm.BUBBLE_TO_SANDBOX,l,he.highlightOn)})})(te);me.length>0?(((pe,Ae)=>{const he=cn(pe,ge=>R.from(ge.columns)).getOr(1);br.showMenuAt(C,{anchor:{type:"selection",getSelection:()=>v.get().map(xd),root:mn(s.getBody())}},((ge,Ce,Te,Ie)=>{const qe=yw(Ce,Ie),ct=i0(Ie);return{data:qT({...ge,movement:qe,menuBehaviours:mw(Ce!=="auto"?[]:[ar((Nt,It)=>{xT(Nt,4,ct.item).each(({numColumns:Tt,numRows:Gt})=>{Hn.setGridSize(Nt,Gt,Tt)})})])}),menu:{markers:i0(Ie),fakeFocus:Te===ww.ContentFocus}}})(cT("autocompleter-value",!0,Ae,he,{menuType:"normal"}),he,ww.ContentFocus,"normal")),F().each(Ts.highlightFirst)})(te,me),fn(mn(s.getBody()),"aria-owns",d),s.inline||Y()):P()},Y=()=>{s.dom.get(d)&&s.dom.remove(d,!1);const te=s.getDoc().documentElement,me=s.selection.getNode(),pe=(Ae=>ph(Ae,!0))(C.element);rl(pe,{border:"0",clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:"0",position:"absolute",width:"1px",top:`${me.offsetTop}px`,left:`${me.offsetLeft}px`}),s.dom.add(te,pe.dom),fr(pe,'[role="menu"]').each(Ae=>{As(Ae,"position"),As(Ae,"max-height")})};s.on("AutocompleterStart",({lookupData:te})=>{b.set(!0),f.set(!1),z(te)}),s.on("AutocompleterUpdate",({lookupData:te})=>z(te)),s.on("AutocompleterUpdateActiveRange",({range:te})=>v.set(te)),s.on("AutocompleterEnd",()=>{P(),b.set(!1),f.set(!1),v.clear()}),((te,me)=>{const pe=(he,ge)=>{$n(he,Sr(),{raw:ge})},Ae=()=>te.getMenu().bind(Ts.getHighlighted);me.on("keydown",he=>{const ge=he.which;te.isActive()&&(te.isMenuOpen()?ge===13?(Ae().each(Hf),he.preventDefault()):ge===40?(Ae().fold(()=>{te.getMenu().each(Ts.highlightFirst)},Ce=>{pe(Ce,he)}),he.preventDefault(),he.stopImmediatePropagation()):ge!==37&&ge!==38&&ge!==39||Ae().each(Ce=>{pe(Ce,he),he.preventDefault(),he.stopImmediatePropagation()}):ge!==13&&ge!==38&&ge!==40||te.cancelIfNecessary())}),me.on("NodeChange",()=>{!te.isActive()||te.isProcessingAction()||me.queryCommandState("mceAutoCompleterInRange")||te.cancelIfNecessary()})})({cancelIfNecessary:M,isMenuOpen:k,isActive:E,isProcessingAction:f.get,getMenu:F},s)},Oy=(s,l,d)=>ud(s,l,d).isSome(),YT=(s,l)=>{let d=null;return{cancel:()=>{d!==null&&(clearTimeout(d),d=null)},schedule:(...f)=>{d=setTimeout(()=>{s.apply(null,f),d=null},l)}}},SN=s=>{const l=s.raw;return l.touches===void 0||l.touches.length!==1?R.none():R.some(l.touches[0])},vS=(s,l)=>{const d={stopBackspace:!0,...l},f=(M=>{const z=Rs(),Y=Kn(!1),te=YT(pe=>{M.triggerEvent(KE(),pe),Y.set(!0)},400),me=qd([{key:G(),value:pe=>(SN(pe).each(Ae=>{te.cancel();const he={x:Ae.clientX,y:Ae.clientY,target:pe.target};te.schedule(pe),Y.set(!1),z.set(he)}),R.none())},{key:ce(),value:pe=>(te.cancel(),SN(pe).each(Ae=>{z.on(he=>{((ge,Ce)=>{const Te=Math.abs(ge.clientX-Ce.x),Ie=Math.abs(ge.clientY-Ce.y);return Te>5||Ie>5})(Ae,he)&&z.clear()})}),R.none())},{key:$e(),value:pe=>(te.cancel(),z.get().filter(Ae=>ms(Ae.target,pe.target)).map(Ae=>Y.get()?(pe.prevent(),!1):M.triggerEvent(Bf(),pe)))}]);return{fireIfReady:(pe,Ae)=>On(me,Ae).bind(he=>he(pe))}})(d),b=Me(["touchstart","touchmove","touchend","touchcancel","gesturestart","mousedown","mouseup","mouseover","mousemove","mouseout","click"].concat(["selectstart","input","contextmenu","change","transitionend","transitioncancel","drag","dragstart","dragend","dragenter","dragleave","dragover","drop","keyup"]),M=>Ga(s,M,z=>{f.fireIfReady(z,M).each(Y=>{Y&&z.kill()}),d.triggerEvent(M,z)&&z.kill()})),v=Rs(),C=Ga(s,"paste",M=>{f.fireIfReady(M,"paste").each(z=>{z&&M.kill()}),d.triggerEvent("paste",M)&&M.kill(),v.set(setTimeout(()=>{d.triggerEvent(Dx(),M)},0))}),k=Ga(s,"keydown",M=>{d.triggerEvent("keydown",M)?M.kill():d.stopBackspace&&(z=>z.raw.which===jI[0]&&!dt(["input","textarea"],ol(z.target))&&!Oy(z.target,'[contenteditable="true"]'))(M)&&M.prevent()}),E=Ga(s,"focusin",M=>{d.triggerEvent("focusin",M)&&M.kill()}),P=Rs(),F=Ga(s,"focusout",M=>{d.triggerEvent("focusout",M)&&M.kill(),P.set(setTimeout(()=>{d.triggerEvent(Ep(),M)},0))});return{unbind:()=>{ft(b,M=>{M.unbind()}),k.unbind(),E.unbind(),F.unbind(),C.unbind(),v.on(clearTimeout),P.on(clearTimeout)}}},XT=(s,l)=>{const d=On(s,"target").getOr(l);return Kn(d)},Cw=Jl([{stopped:[]},{resume:["element"]},{complete:[]}]),kN=(s,l,d,f,b,v)=>{const C=s(l,f),k=((E,P)=>{const F=Kn(!1),M=Kn(!1);return{stop:()=>{F.set(!0)},cut:()=>{M.set(!0)},isStopped:F.get,isCut:M.get,event:E,setSource:P.set,getSource:P.get}})(d,b);return C.fold(()=>(v.logEventNoHandlers(l,f),Cw.complete()),E=>{const P=E.descHandler;return Xx(P)(k),k.isStopped()?(v.logEventStopped(l,E.element,P.purpose),Cw.stopped()):k.isCut()?(v.logEventCut(l,E.element,P.purpose),Cw.complete()):Oa(E.element).fold(()=>(v.logNoParent(l,E.element,P.purpose),Cw.complete()),F=>(v.logEventResponse(l,E.element,P.purpose),Cw.resume(F)))})},_w=(s,l,d,f,b,v)=>kN(s,l,d,f,b,v).fold(_e,C=>_w(s,l,d,C,b,v),xe),yS=(s,l,d,f,b)=>{const v=XT(d,f);return _w(s,l,d,f,v,b)},EN=()=>{const s=(()=>{const f={};return{registerId:(b,v,C)=>{Xn(C,(k,E)=>{const P=f[E]!==void 0?f[E]:{};P[v]=((F,M)=>({cHandler:Ve.apply(void 0,[F.handler].concat(M)),purpose:F.purpose}))(k,b),f[E]=P})},unregisterId:b=>{Xn(f,(v,C)=>{vo(v,b)&&delete v[b]})},filterByType:b=>On(f,b).map(v=>ei(v,(C,k)=>((E,P)=>({id:E,descHandler:P}))(k,C))).getOr([]),find:(b,v,C)=>On(f,v).bind(k=>dh(C,E=>((P,F)=>xh(F).bind(M=>On(P,M)).map(M=>((z,Y)=>({element:z,descHandler:Y}))(F,M)))(k,E),b))}})(),l={},d=f=>{xh(f.element).each(b=>{delete l[b],s.unregisterId(b)})};return{find:(f,b,v)=>s.find(f,b,v),filter:f=>s.filterByType(f),register:f=>{const b=(C=>{const k=C.element;return xh(k).getOrThunk(()=>((E,P)=>{const F=En(O1+"uid-");return R1(P,F),F})(0,C.element))})(f);Do(l,b)&&((C,k)=>{const E=l[k];if(E!==C)throw new Error('The tagId "'+k+'" is already used by: '+ef(E.element)+`
Cannot use it for: `+ef(C.element)+`
The conflicting element is`+(vn(E.element)?" ":" not ")+"already in the DOM");d(C)})(f,b);const v=[f];s.registerId(v,b,f.events),l[b]=f},unregister:d,getById:f=>On(l,f)}},ff=Eu({name:"Container",factory:s=>{const{attributes:l,...d}=s.dom;return{uid:s.uid,dom:{tag:"div",attributes:{role:"presentation",...l},...d},components:s.components,behaviours:ro(s.containerBehaviours),events:s.events,domModification:s.domModification,eventOrder:s.eventOrder}},configFields:[mt("components",[]),An("containerBehaviours",[]),mt("events",{}),mt("domModification",{}),mt("eventOrder",{})]}),xS=s=>{const l=pe=>Oa(s.element).fold(_e,Ae=>ms(pe,Ae)),d=EN(),f=(pe,Ae)=>d.find(l,pe,Ae),b=vS(s.element,{triggerEvent:(pe,Ae)=>bv(pe,Ae.target,he=>((ge,Ce,Te,Ie)=>yS(ge,Ce,Te,Te.target,Ie))(f,pe,Ae,he))}),v={debugInfo:j("real"),triggerEvent:(pe,Ae,he)=>{bv(pe,Ae,ge=>yS(f,pe,he,Ae,ge))},triggerFocus:(pe,Ae)=>{xh(pe).fold(()=>{Za(pe)},he=>{bv(ad(),pe,ge=>(((Ce,Te,Ie,qe,ct)=>{const Nt=XT(Ie,qe);kN(Ce,Te,Ie,qe,Nt,ct)})(f,ad(),{originator:Ae,kill:H,prevent:H,target:pe},pe,ge),!1))})},triggerEscape:(pe,Ae)=>{v.triggerEvent("keydown",pe.element,Ae.event)},getByUid:pe=>te(pe),getByDom:pe=>me(pe),build:Qi,buildOrPatch:M1,addToGui:pe=>{E(pe)},removeFromGui:pe=>{P(pe)},addToWorld:pe=>{C(pe)},removeFromWorld:pe=>{k(pe)},broadcast:pe=>{M(pe)},broadcastOn:(pe,Ae)=>{z(pe,Ae)},broadcastEvent:(pe,Ae)=>{Y(pe,Ae)},isConnected:_e},C=pe=>{pe.connect(v),Ta(pe.element)||(d.register(pe),ft(pe.components(),C),v.triggerEvent(Ff(),pe.element,{target:pe.element}))},k=pe=>{Ta(pe.element)||(ft(pe.components(),k),d.unregister(pe)),pe.disconnect()},E=pe=>{om(s,pe)},P=pe=>{ml(pe)},F=pe=>{const Ae=d.filter(uc());ft(Ae,he=>{const ge=he.descHandler;Xx(ge)(pe)})},M=pe=>{F({universal:!0,data:pe})},z=(pe,Ae)=>{F({universal:!1,channels:pe,data:Ae})},Y=(pe,Ae)=>((he,ge,Ce)=>{const Te=(Ie=>{const qe=Kn(!1);return{stop:()=>{qe.set(!0)},cut:H,isStopped:qe.get,isCut:xe,event:Ie,setSource:Xe("Cannot set source of a broadcasted event"),getSource:Xe("Cannot get source of a broadcasted event")}})(ge);return ft(he,Ie=>{const qe=Ie.descHandler;Xx(qe)(Te)}),Te.isStopped()})(d.filter(pe),Ae),te=pe=>d.getById(pe).fold(()=>Ko.error(new Error('Could not find component with uid: "'+pe+'" in system.')),Ko.value),me=pe=>{const Ae=xh(pe).getOr("not found");return te(Ae)};return C(s),{root:s,element:s.element,destroy:()=>{b.unbind(),Gi(s.element)},add:E,remove:P,getByUid:te,getByDom:me,addToWorld:C,removeFromWorld:k,broadcast:M,broadcastOn:z,broadcastEvent:Y}},t$=j([mt("prefix","form-field"),An("fieldBehaviours",[cs,ht])]),JT=j([ku({schema:[Ft("dom")],name:"label"}),ku({factory:{sketch:s=>({uid:s.uid,dom:{tag:"span",styles:{display:"none"},attributes:{"aria-hidden":"true"},innerHtml:s.text}})},schema:[Ft("text")],name:"aria-descriptor"}),Il({factory:{sketch:s=>{const l=((d,f)=>{const b={};return Xn(d,(v,C)=>{dt(f,C)||(b[C]=v)}),b})(s,["factory"]);return s.factory.sketch(l)}},schema:[Ft("factory")],name:"field"})]),Is=Ul({name:"FormField",configFields:t$(),partFields:JT(),factory:(s,l,d,f)=>{const b=Ro(s.fieldBehaviours,[cs.config({find:k=>Qs(k,s,"field")}),ht.config({store:{mode:"manual",getValue:k=>cs.getCurrent(k).bind(ht.getValue),setValue:(k,E)=>{cs.getCurrent(k).each(P=>{ht.setValue(P,E)})}}})]),v=_o([ar((k,E)=>{const P=II(k,s,["label","field","aria-descriptor"]);P.field().each(F=>{const M=En(s.prefix);P.label().each(z=>{fn(z.element,"for",M),fn(F.element,"id",M)}),P["aria-descriptor"]().each(z=>{const Y=En(s.prefix);fn(z.element,"id",Y),fn(F.element,"aria-describedby",Y)})})})]),C={getField:k=>Qs(k,s,"field"),getLabel:k=>Qs(k,s,"label")};return{uid:s.uid,dom:s.dom,components:l,behaviours:b,events:v,apis:C}},apis:{getField:(s,l)=>s.getField(l),getLabel:(s,l)=>s.getLabel(l)}});var n$=tinymce.util.Tools.resolve("tinymce.html.Entities");const Sw=(s,l,d,f)=>{const b=o$(s,l,d,f);return Is.sketch(b)},o$=(s,l,d,f)=>({dom:wS(d),components:s.toArray().concat([l]),fieldBehaviours:Jt(f)}),wS=s=>({tag:"div",classes:["tox-form__group"].concat(s)}),cb=(s,l)=>Is.parts.label({dom:{tag:"label",classes:["tox-label"]},components:[Fr(l.translate(s))]}),pl=En("form-component-change"),ub=En("form-close"),Wh=En("form-cancel"),mm=En("form-action"),kw=En("form-submit"),QT=En("form-block"),e3=En("form-unblock"),AN=En("form-tabchange"),CS=En("form-resize"),TN=(s,l,d)=>{const f=s.label.map(M=>cb(M,l)),b=l.icons(),v=M=>(z,Y)=>{ud(Y.event.target,"[data-collection-item-value]").each(te=>{M(z,Y,te,Go(te,"data-collection-item-value"))})},C=v((M,z,Y,te)=>{z.stop(),l.isDisabled()||$n(M,mm,{name:s.name,value:te})}),k=[Dt(Fn(),v((M,z,Y)=>{Za(Y)})),Dt(vi(),C),Dt(Bf(),C),Dt(Ss(),v((M,z,Y)=>{fr(M.element,"."+yg).each(te=>{Ir(te,yg)}),kr(Y,yg)})),Dt(Wr(),v(M=>{fr(M.element,"."+yg).each(z=>{Ir(z,yg),kv(z)})})),vu(v((M,z,Y,te)=>{$n(M,mm,{name:s.name,value:te})}))],E=(M,z)=>Me(Ai(M.element,".tox-collection__item"),z),P=Is.parts.field({dom:{tag:"div",classes:["tox-collection"].concat(s.columns!==1?["tox-collection--grid"]:["tox-collection--list"])},components:[],factory:{sketch:fe},behaviours:Jt([ho.config({disabled:l.isDisabled,onDisabled:M=>{E(M,z=>{kr(z,"tox-collection__item--state-disabled"),fn(z,"aria-disabled",!0)})},onEnabled:M=>{E(M,z=>{Ir(z,"tox-collection__item--state-disabled"),Lo(z,"aria-disabled")})}}),Fi(),eo.config({}),ii.config({...l.tooltips.getConfig({tooltipText:"",onShow:M=>{fr(M.element,"."+yg+"[data-mce-tooltip]").each(z=>{ns(z,"data-mce-tooltip").each(Y=>{ii.setComponents(M,l.tooltips.getComponents({tooltipText:Y}))})})}}),mode:"children-keyboard-focus",anchor:M=>({type:"node",node:fr(M.element,"."+yg).orThunk(()=>Vd(".tox-collection__item")),root:M.element,layouts:{onLtr:j([Zr,Er,Dr,si,Pr,$s]),onRtl:j([Zr,Er,Dr,si,Pr,$s])},bubble:mc(0,-2,{})})}),ht.config({store:{mode:"memory",initialValue:d.getOr([])},onSetValue:(M,z)=>{((Y,te)=>{const me=Me(te,he=>{const ge=hd.translate(he.text),Ce=s.columns===1?`<div class="tox-collection__item-label">${ge}</div>`:"",Te=`<div class="tox-collection__item-icon">${(ct=>{var Nt;return(Nt=b[ct])!==null&&Nt!==void 0?Nt:ct})(he.icon)}</div>`,Ie={_:" "," - ":" ","-":" "},qe=ge.replace(/\_| \- |\-/g,ct=>Ie[ct]);return`<div data-mce-tooltip="${qe}" class="tox-collection__item${l.isDisabled()?" tox-collection__item--state-disabled":""}" tabindex="-1" data-collection-item-value="${n$.encodeAllRaw(he.value)}" aria-label="${qe}">${Te}${Ce}</div>`}),pe=s.columns!=="auto"&&s.columns>1?et(me,s.columns):[me],Ae=Me(pe,he=>`<div class="tox-collection__group">${he.join("")}</div>`);hh(Y.element,Ae.join(""))})(M,z),s.columns==="auto"&&xT(M,5,"tox-collection__item").each(({numRows:Y,numColumns:te})=>{Hn.setGridSize(M,Y,te)}),Mo(M,CS)}}),qs.config({}),Hn.config((F=s.columns,F===1?{mode:"menu",moveOnTab:!1,selector:".tox-collection__item"}:F==="auto"?{mode:"flatgrid",selector:".tox-collection__item",initSize:{numColumns:1,numRows:1}}:{mode:"matrix",selectors:{row:".tox-collection__group",cell:`.${J_}`}})),Io("collection-events",k)]),eventOrder:{[El()]:["disabling","alloy.base.behaviour","collection-events"],[Ss()]:["collection-events","tooltipping"]}});var F;return Sw(f,P,["tox-form__group--collection"],[])},ON=["input","textarea"],_S=s=>{const l=ol(s);return dt(ON,l)},RN=(s,l)=>{const d=l.getRoot(s).getOr(s.element);Ir(d,l.invalidClass),l.notify.each(f=>{_S(s.element)&&fn(s.element,"aria-invalid",!1),f.getContainer(s).each(b=>{hh(b,f.validHtml)}),f.onValid(s)})},t3=(s,l,d,f)=>{const b=l.getRoot(s).getOr(s.element);kr(b,l.invalidClass),l.notify.each(v=>{_S(s.element)&&fn(s.element,"aria-invalid",!0),v.getContainer(s).each(C=>{hh(C,f)}),v.onInvalid(s,f)})},IN=(s,l,d)=>l.validator.fold(()=>Cg(Ko.value(!0)),f=>f.validate(s)),n3=(s,l,d)=>(l.notify.each(f=>{f.onValidate(s)}),IN(s,l).map(f=>s.getSystem().isConnected()?f.fold(b=>(t3(s,l,0,b),Ko.error(b)),b=>(RN(s,l),Ko.value(b))):Ko.error("No longer in system")));var s$=Object.freeze({__proto__:null,markValid:RN,markInvalid:t3,query:IN,run:n3,isInvalid:(s,l)=>{const d=l.getRoot(s).getOr(s.element);return ul(d,l.invalidClass)}}),DN=Object.freeze({__proto__:null,events:(s,l)=>s.validator.map(d=>_o([Dt(d.onEvent,f=>{n3(f,s).get(fe)})].concat(d.validateOnLoad?[ar(f=>{n3(f,s).get(H)})]:[]))).getOr({})}),r$=[Ft("invalidClass"),mt("getRoot",R.none),Or("notify",[mt("aria","alert"),mt("getContainer",R.none),mt("validHtml",""),rs("onValid"),rs("onInvalid"),rs("onValidate")]),Or("validator",[Ft("validate"),mt("onEvent","input"),mt("validateOnLoad",!0)])];const _g=Bi({fields:r$,name:"invalidating",active:DN,apis:s$,extra:{validation:s=>l=>{const d=ht.getValue(l);return Cg(s(d))}}}),b0=Bi({fields:[],name:"unselecting",active:Object.freeze({__proto__:null,events:()=>_o([Op(pa(),_e)]),exhibit:()=>Kr({styles:{"-webkit-user-select":"none","user-select":"none","-ms-user-select":"none","-moz-user-select":"-moz-none"},attributes:{unselectable:"on"}})})}),o3=En("color-input-change"),s3=En("color-swatch-change"),PN=En("color-picker-cancel"),r3=ku({schema:[Ft("dom")],name:"label"}),db=s=>ku({name:s+"-edge",overrides:l=>l.model.manager.edgeActions[s].fold(()=>({}),d=>({events:_o([Nx(G(),(f,b,v)=>d(f,v),[l]),Nx($t(),(f,b,v)=>d(f,v),[l]),Nx(Jn(),(f,b,v)=>{v.mouseIsDown.get()&&d(f,v)},[l])])}))}),i$=db("top-left"),a$=db("top"),l$=db("top-right"),c$=db("right"),NN=db("bottom-right"),i3=db("bottom"),u$=db("bottom-left"),SS=db("left"),d$=Il({name:"thumb",defaults:j({dom:{styles:{position:"absolute"}}}),overrides:s=>({events:_o([Ip(G(),s,"spectrum"),Ip(ce(),s,"spectrum"),Ip($e(),s,"spectrum"),Ip($t(),s,"spectrum"),Ip(Jn(),s,"spectrum"),Ip(xo(),s,"spectrum")])})}),kS=s=>gg(s.event);var f$=[r3,SS,c$,a$,i3,i$,l$,u$,NN,d$,Il({schema:[Yi("mouseIsDown",()=>Kn(!1))],name:"spectrum",overrides:s=>{const l=s.model.manager,d=(f,b)=>l.getValueFromEvent(b).map(v=>l.setValueFrom(f,s,v));return{behaviours:Jt([Hn.config({mode:"special",onLeft:(f,b)=>l.onLeft(f,s,kS(b)),onRight:(f,b)=>l.onRight(f,s,kS(b)),onUp:(f,b)=>l.onUp(f,s,kS(b)),onDown:(f,b)=>l.onDown(f,s,kS(b))}),qs.config({}),mo.config({})]),events:_o([Dt(G(),d),Dt(ce(),d),Dt($t(),d),Dt(Jn(),(f,b)=>{s.mouseIsDown.get()&&d(f,b)})])}}})];const Ew=j("slider.change.value"),a3=s=>{const l=s.event.raw;if((d=>d.type.indexOf("touch")!==-1)(l)){const d=l;return d.touches!==void 0&&d.touches.length===1?R.some(d.touches[0]).map(f=>tr(f.clientX,f.clientY)):R.none()}{const d=l;return d.clientX!==void 0?R.some(d).map(f=>tr(f.clientX,f.clientY)):R.none()}},v0=s=>s.model.minX,fb=s=>s.model.minY,ES=s=>s.model.minX-1,AS=s=>s.model.minY-1,Kh=s=>s.model.maxX,wd=s=>s.model.maxY,TS=s=>s.model.maxX+1,OS=s=>s.model.maxY+1,RS=(s,l,d)=>l(s)-d(s),IS=s=>RS(s,Kh,v0),l3=s=>RS(s,wd,fb),LN=s=>IS(s)/2,c3=s=>l3(s)/2,Ry=(s,l)=>l?s.stepSize*s.speedMultiplier:s.stepSize,u3=s=>s.snapToGrid,d3=s=>s.snapStart,DS=s=>s.rounded,PS=(s,l)=>s[l+"-edge"]!==void 0,f3=s=>PS(s,"left"),MN=s=>PS(s,"right"),Iy=s=>PS(s,"top"),BN=s=>PS(s,"bottom"),jh=s=>s.model.value.get(),Sg=(s,l)=>({x:s,y:l}),Iu=(s,l)=>{$n(s,Ew(),{value:l})},m3=(s,l,d,f)=>s<l?s:s>d?d:s===l?l-1:Math.max(l,s-f),Aw=(s,l,d,f)=>s>d?s:s<l?l:s===d?d+1:Math.min(d,s+f),FN=(s,l,d)=>Math.max(l,Math.min(d,s)),$N=s=>{const{min:l,max:d,range:f,value:b,step:v,snap:C,snapStart:k,rounded:E,hasMinEdge:P,hasMaxEdge:F,minBound:M,maxBound:z,screenRange:Y}=s,te=P?l-1:l,me=F?d+1:d;if(b<M)return te;if(b>z)return me;{const pe=((he,ge,Ce)=>Math.min(Ce,Math.max(he,ge))-ge)(b,M,z),Ae=FN(pe/Y*f+l,te,me);return C&&Ae>=l&&Ae<=d?((he,ge,Ce,Te,Ie)=>Ie.fold(()=>{const qe=he-ge,ct=Math.round(qe/Te)*Te;return FN(ge+ct,ge-1,Ce+1)},qe=>{const ct=(he-qe)%Te,Nt=Math.round(ct/Te),It=Math.floor((he-qe)/Te),Tt=Math.floor((Ce-qe)/Te),Gt=qe+Math.min(Tt,It+Nt)*Te;return Math.max(qe,Gt)}))(Ae,l,d,v,k):E?Math.round(Ae):Ae}},NS=s=>{const{min:l,max:d,range:f,value:b,hasMinEdge:v,hasMaxEdge:C,maxBound:k,maxOffset:E,centerMinEdge:P,centerMaxEdge:F}=s;return b<l?v?0:P:b>d?C?k:F:(b-l)/f*E},g3="top",VN="right",zN="bottom",h3="left",kg=s=>s.element.dom.getBoundingClientRect(),mf=(s,l)=>s[l],LS=s=>{const l=kg(s);return mf(l,h3)},HN=s=>{const l=kg(s);return mf(l,VN)},MS=s=>{const l=kg(s);return mf(l,g3)},UN=s=>{const l=kg(s);return mf(l,zN)},WN=s=>{const l=kg(s);return mf(l,"width")},KN=s=>{const l=kg(s);return mf(l,"height")},BS=(s,l,d)=>(s+l)/2-d,jN=(s,l)=>{const d=kg(s),f=kg(l),b=mf(d,h3),v=mf(d,VN),C=mf(f,h3);return BS(b,v,C)},ZN=(s,l)=>{const d=kg(s),f=kg(l),b=mf(d,g3),v=mf(d,zN),C=mf(f,g3);return BS(b,v,C)},FS=(s,l)=>{$n(s,Ew(),{value:l})},$S=(s,l,d)=>{const f={min:v0(l),max:Kh(l),range:IS(l),value:d,step:Ry(l),snap:u3(l),snapStart:d3(l),rounded:DS(l),hasMinEdge:f3(l),hasMaxEdge:MN(l),minBound:LS(s),maxBound:HN(s),screenRange:WN(s)};return $N(f)},GN=s=>(l,d,f)=>((b,v,C,k)=>{const E=(b>0?Aw:m3)(jh(C),v0(C),Kh(C),Ry(C,k));return FS(v,E),R.some(E)})(s,l,d,f).map(_e),p3=(s,l,d,f,b,v)=>{const C=((k,E,P,F,M)=>{const z=WN(k),Y=F.bind(pe=>R.some(jN(pe,k))).getOr(0),te=M.bind(pe=>R.some(jN(pe,k))).getOr(z),me={min:v0(E),max:Kh(E),range:IS(E),value:P,hasMinEdge:f3(E),hasMaxEdge:MN(E),minBound:LS(k),maxBound:HN(k),maxOffset:z,centerMinEdge:Y,centerMaxEdge:te};return NS(me)})(l,v,d,f,b);return LS(l)-LS(s)+C},m$=GN(-1),g$=GN(1),h$=R.none,p$=R.none,b3={"top-left":R.none(),top:R.none(),"top-right":R.none(),right:R.some((s,l)=>{Iu(s,TS(l))}),"bottom-right":R.none(),bottom:R.none(),"bottom-left":R.none(),left:R.some((s,l)=>{Iu(s,ES(l))})};var b$=Object.freeze({__proto__:null,setValueFrom:(s,l,d)=>{const f=$S(s,l,d);return FS(s,f),f},setToMin:(s,l)=>{const d=v0(l);FS(s,d)},setToMax:(s,l)=>{const d=Kh(l);FS(s,d)},findValueOfOffset:$S,getValueFromEvent:s=>a3(s).map(l=>l.left),findPositionOfValue:p3,setPositionFromValue:(s,l,d,f)=>{const b=jh(d),v=p3(s,f.getSpectrum(s),b,f.getLeftEdge(s),f.getRightEdge(s),d),C=Pi(l.element)/2;wo(l.element,"left",v-C+"px")},onLeft:m$,onRight:g$,onUp:h$,onDown:p$,edgeActions:b3});const VS=(s,l)=>{$n(s,Ew(),{value:l})},v3=(s,l,d)=>{const f={min:fb(l),max:wd(l),range:l3(l),value:d,step:Ry(l),snap:u3(l),snapStart:d3(l),rounded:DS(l),hasMinEdge:Iy(l),hasMaxEdge:BN(l),minBound:MS(s),maxBound:UN(s),screenRange:KN(s)};return $N(f)},qN=s=>(l,d,f)=>((b,v,C,k)=>{const E=(b>0?Aw:m3)(jh(C),fb(C),wd(C),Ry(C,k));return VS(v,E),R.some(E)})(s,l,d,f).map(_e),y3=(s,l,d,f,b,v)=>{const C=((k,E,P,F,M)=>{const z=KN(k),Y=F.bind(pe=>R.some(ZN(pe,k))).getOr(0),te=M.bind(pe=>R.some(ZN(pe,k))).getOr(z),me={min:fb(E),max:wd(E),range:l3(E),value:P,hasMinEdge:Iy(E),hasMaxEdge:BN(E),minBound:MS(k),maxBound:UN(k),maxOffset:z,centerMinEdge:Y,centerMaxEdge:te};return NS(me)})(l,v,d,f,b);return MS(l)-MS(s)+C},v$=R.none,y$=R.none,x$=qN(-1),w$=qN(1),C$={"top-left":R.none(),top:R.some((s,l)=>{Iu(s,AS(l))}),"top-right":R.none(),right:R.none(),"bottom-right":R.none(),bottom:R.some((s,l)=>{Iu(s,OS(l))}),"bottom-left":R.none(),left:R.none()};var _$=Object.freeze({__proto__:null,setValueFrom:(s,l,d)=>{const f=v3(s,l,d);return VS(s,f),f},setToMin:(s,l)=>{const d=fb(l);VS(s,d)},setToMax:(s,l)=>{const d=wd(l);VS(s,d)},findValueOfOffset:v3,getValueFromEvent:s=>a3(s).map(l=>l.top),findPositionOfValue:y3,setPositionFromValue:(s,l,d,f)=>{const b=jh(d),v=y3(s,f.getSpectrum(s),b,f.getTopEdge(s),f.getBottomEdge(s),d),C=Tr(l.element)/2;wo(l.element,"top",v-C+"px")},onLeft:v$,onRight:y$,onUp:x$,onDown:w$,edgeActions:C$});const zS=(s,l)=>{$n(s,Ew(),{value:l})},HS=(s,l)=>({x:s,y:l}),y0=(s,l)=>(d,f,b)=>((v,C,k,E,P)=>{const F=v>0?Aw:m3,M=C?jh(E).x:F(jh(E).x,v0(E),Kh(E),Ry(E,P)),z=C?F(jh(E).y,fb(E),wd(E),Ry(E,P)):jh(E).y;return zS(k,HS(M,z)),R.some(M)})(s,l,d,f,b).map(_e),S$=y0(-1,!1),x3=y0(1,!1),k$=y0(-1,!0),E$=y0(1,!0),A$={"top-left":R.some((s,l)=>{Iu(s,Sg(ES(l),AS(l)))}),top:R.some((s,l)=>{Iu(s,Sg(LN(l),AS(l)))}),"top-right":R.some((s,l)=>{Iu(s,Sg(TS(l),AS(l)))}),right:R.some((s,l)=>{Iu(s,Sg(TS(l),c3(l)))}),"bottom-right":R.some((s,l)=>{Iu(s,Sg(TS(l),OS(l)))}),bottom:R.some((s,l)=>{Iu(s,Sg(LN(l),OS(l)))}),"bottom-left":R.some((s,l)=>{Iu(s,Sg(ES(l),OS(l)))}),left:R.some((s,l)=>{Iu(s,Sg(ES(l),c3(l)))})};var YN=Object.freeze({__proto__:null,setValueFrom:(s,l,d)=>{const f=$S(s,l,d.left),b=v3(s,l,d.top),v=HS(f,b);return zS(s,v),v},setToMin:(s,l)=>{const d=v0(l),f=fb(l);zS(s,HS(d,f))},setToMax:(s,l)=>{const d=Kh(l),f=wd(l);zS(s,HS(d,f))},getValueFromEvent:s=>a3(s),setPositionFromValue:(s,l,d,f)=>{const b=jh(d),v=p3(s,f.getSpectrum(s),b.x,f.getLeftEdge(s),f.getRightEdge(s),d),C=y3(s,f.getSpectrum(s),b.y,f.getTopEdge(s),f.getBottomEdge(s),d),k=Pi(l.element)/2,E=Tr(l.element)/2;wo(l.element,"left",v-k+"px"),wo(l.element,"top",C-E+"px")},onLeft:S$,onRight:x3,onUp:k$,onDown:E$,edgeActions:A$});const gf=Ul({name:"Slider",configFields:[mt("stepSize",1),mt("speedMultiplier",10),mt("onChange",H),mt("onChoose",H),mt("onInit",H),mt("onDragStart",H),mt("onDragEnd",H),mt("snapToGrid",!1),mt("rounded",!0),es("snapStart"),Xi("model",bi("mode",{x:[mt("minX",0),mt("maxX",100),Yi("value",s=>Kn(s.mode.minX)),Ft("getInitialValue"),Xs("manager",b$)],y:[mt("minY",0),mt("maxY",100),Yi("value",s=>Kn(s.mode.minY)),Ft("getInitialValue"),Xs("manager",_$)],xy:[mt("minX",0),mt("maxX",100),mt("minY",0),mt("maxY",100),Yi("value",s=>Kn({x:s.mode.minX,y:s.mode.minY})),Ft("getInitialValue"),Xs("manager",YN)]})),An("sliderBehaviours",[Hn,ht]),Yi("mouseIsDown",()=>Kn(!1))],partFields:f$,factory:(s,l,d,f)=>{const b=he=>Lh(he,s,"thumb"),v=he=>Lh(he,s,"spectrum"),C=he=>Qs(he,s,"left-edge"),k=he=>Qs(he,s,"right-edge"),E=he=>Qs(he,s,"top-edge"),P=he=>Qs(he,s,"bottom-edge"),F=s.model,M=F.manager,z=(he,ge)=>{M.setPositionFromValue(he,ge,s,{getLeftEdge:C,getRightEdge:k,getTopEdge:E,getBottomEdge:P,getSpectrum:v})},Y=(he,ge)=>{F.value.set(ge);const Ce=b(he);z(he,Ce)},te=he=>{const ge=s.mouseIsDown.get();s.mouseIsDown.set(!1),ge&&Qs(he,s,"thumb").each(Ce=>{const Te=F.value.get();s.onChoose(he,Ce,Te)})},me=(he,ge)=>{ge.stop(),s.mouseIsDown.set(!0),s.onDragStart(he,b(he))},pe=(he,ge)=>{ge.stop(),s.onDragEnd(he,b(he)),te(he)},Ae=he=>{Qs(he,s,"spectrum").map(Hn.focusIn)};return{uid:s.uid,dom:s.dom,components:l,behaviours:Ro(s.sliderBehaviours,[Hn.config({mode:"special",focusIn:Ae}),ht.config({store:{mode:"manual",getValue:he=>F.value.get(),setValue:Y}}),Ol.config({channels:{[K()]:{onReceive:te}}})]),events:_o([Dt(Ew(),(he,ge)=>{((Ce,Te)=>{Y(Ce,Te);const Ie=b(Ce);s.onChange(Ce,Ie,Te)})(he,ge.event.value)}),ar((he,ge)=>{const Ce=F.getInitialValue();F.value.set(Ce);const Te=b(he);z(he,Te);const Ie=v(he);s.onInit(he,Te,Ie,F.value.get())}),Dt(G(),me),Dt($e(),pe),Dt($t(),(he,ge)=>{Ae(he),me(he,ge)}),Dt(xo(),pe)]),apis:{resetToMin:he=>{M.setToMin(he,s)},resetToMax:he=>{M.setToMax(he,s)},setValue:Y,refresh:z},domModification:{styles:{position:"relative"}}}},apis:{setValue:(s,l,d)=>{s.setValue(l,d)},resetToMin:(s,l)=>{s.resetToMin(l)},resetToMax:(s,l)=>{s.resetToMax(l)},refresh:(s,l)=>{s.refresh(l)}}}),Tw=En("rgb-hex-update"),US=En("slider-update"),w3=En("palette-update"),WS="form",KS=[An("formBehaviours",[ht])],C3=s=>"<alloy.field."+s+">",Eg=(s,l)=>({uid:s.uid,dom:s.dom,components:l,behaviours:Ro(s.formBehaviours,[ht.config({store:{mode:"manual",getValue:d=>{const f=fA(d,s);return oo(f,(b,v)=>b().bind(C=>{return k=cs.getCurrent(C),E=new Error(`Cannot find a current component to extract the value from for form part '${v}': `+ef(C.element)),k.fold(()=>Ko.error(E),Ko.value);var k,E}).map(ht.getValue))},setValue:(d,f)=>{Xn(f,(b,v)=>{Qs(d,s,v).each(C=>{cs.getCurrent(C).each(k=>{ht.setValue(k,b)})})})}}})]),apis:{getField:(d,f)=>Qs(d,s,f).bind(cs.getCurrent)}}),mb={getField:P1((s,l,d)=>s.getField(l,d)),sketch:s=>{const l=(()=>{const v=[];return{field:(C,k)=>(v.push(C),cA(WS,C3(C),k)),record:j(v)}})(),d=s(l),f=l.record(),b=Me(f,v=>Il({name:v,pname:C3(v)}));return S2(WS,KS,b,Eg,d)}},XN=En("valid-input"),JN=En("invalid-input"),QN=En("validating-input"),_3="colorcustom.rgb.",Ow={isEnabled:_e,setEnabled:H,immediatelyShow:H,immediatelyHide:H},T$=(s,l,d,f,b,v)=>{const C=(Y,te)=>{const me=te.get();Y!==me.isEnabled()&&(me.setEnabled(Y),Y?me.immediatelyShow():me.immediatelyHide())},k=(Y,te,me)=>_g.config({invalidClass:l("invalid"),notify:{onValidate:pe=>{$n(pe,QN,{type:Y})},onValid:pe=>{C(!1,me),$n(pe,XN,{type:Y,value:ht.getValue(pe)})},onInvalid:pe=>{C(!0,me),$n(pe,JN,{type:Y,value:ht.getValue(pe)})}},validator:{validate:pe=>{const Ae=ht.getValue(pe),he=te(Ae)?Ko.value(!0):Ko.error(s("aria.input.invalid"));return Cg(he)},validateOnLoad:!1}}),E=(Y,te,me,pe,Ae)=>{const he=Kn(Ow),ge=s(_3+"range"),Ce=Is.parts.label({dom:{tag:"label",attributes:{"aria-label":pe}},components:[Fr(me)]}),Te=Is.parts.field({data:Ae,factory:Vh,inputAttributes:{type:"text",...te==="hex"?{"aria-live":"polite"}:{}},inputClasses:[l("textfield")],inputBehaviours:Jt([k(te,Y,he),qs.config({}),ii.config({...b({tooltipText:"",onSetup:Tt=>{he.set({isEnabled:()=>ii.isEnabled(Tt),setEnabled:Gt=>ii.setEnabled(Tt,Gt),immediatelyShow:()=>ii.immediateOpenClose(Tt,!0),immediatelyHide:()=>ii.immediateOpenClose(Tt,!1)}),ii.setEnabled(Tt,!1)},onShow:(Tt,Gt)=>{ii.setComponents(Tt,[{dom:{tag:"p",classes:[l("rgb-warning-note")]},components:[Fr(s(te==="hex"?"colorcustom.rgb.invalidHex":"colorcustom.rgb.invalid"))]}])}})})]),onSetValue:Tt=>{_g.isInvalid(Tt)&&_g.run(Tt).get(H)}}),Ie=En("aria-invalid"),qe=Es(v("invalid",R.some(Ie),"warning")),ct=[Ce,Te,Es({dom:{tag:"div",classes:[l("invalid-icon")]},components:[qe.asSpec()]}).asSpec()],Nt=te!=="hex"?[Is.parts["aria-descriptor"]({text:ge})]:[],It=ct.concat(Nt);return{dom:{tag:"div",attributes:{role:"presentation"},classes:[l("rgb-container")]},components:It}},P=(Y,te)=>{const me=te.red,pe=te.green,Ae=te.blue;ht.setValue(Y,{red:me,green:pe,blue:Ae})},F=Es({dom:{tag:"div",classes:[l("rgba-preview")],styles:{"background-color":"white"},attributes:{role:"presentation"}}}),M=(Y,te)=>{F.getOpt(Y).each(me=>{wo(me.element,"background-color","#"+te.value)})};return Eu({factory:()=>{const Y={red:Kn(R.some(255)),green:Kn(R.some(255)),blue:Kn(R.some(255)),hex:Kn(R.some("ffffff"))},te=ct=>Y[ct].get(),me=(ct,Nt)=>{Y[ct].set(Nt)},pe=ct=>{const Nt=ct.red,It=ct.green,Tt=ct.blue;me("red",R.some(Nt)),me("green",R.some(It)),me("blue",R.some(Tt))},Ae=(ct,Nt)=>{const It=Nt.event;It.type!=="hex"?me(It.type,R.none()):f(ct)},he=(ct,Nt)=>{const It=Nt.event;(Tt=>Tt.type==="hex")(It)?((Tt,Gt)=>{d(Tt);const wn=kT(Gt);me("hex",R.some(wn.value));const Nn=df(wn);P(Tt,Nn),pe(Nn),$n(Tt,Tw,{hex:wn}),M(Tt,wn)})(ct,It.value):((Tt,Gt,wn)=>{const Nn=parseInt(wn,10);me(Gt,R.some(Nn)),te("red").bind(Zn=>te("green").bind(po=>te("blue").map(jo=>Uh(Zn,po,jo,1)))).each(Zn=>{const po=((jo,rr)=>{const mr=pw(rr);return mb.getField(jo,"hex").each(Po=>{mo.isFocused(Po)||ht.setValue(jo,{hex:mr.value})}),mr})(Tt,Zn);$n(Tt,Tw,{hex:po}),M(Tt,po)})})(ct,It.type,It.value)},ge=ct=>({label:s(_3+ct+".label"),description:s(_3+ct+".description")}),Ce=ge("red"),Te=ge("green"),Ie=ge("blue"),qe=ge("hex");return Fs(mb.sketch(ct=>({dom:{tag:"form",classes:[l("rgb-form")],attributes:{"aria-label":s("aria.color.picker")}},components:[ct.field("red",Is.sketch(E(bw,"red",Ce.label,Ce.description,255))),ct.field("green",Is.sketch(E(bw,"green",Te.label,Te.description,255))),ct.field("blue",Is.sketch(E(bw,"blue",Ie.label,Ie.description,255))),ct.field("hex",Is.sketch(E(GP,"hex",qe.label,qe.description,"ffffff"))),F.asSpec()],formBehaviours:Jt([_g.config({invalidClass:l("form-invalid")}),Io("rgb-form-events",[Dt(XN,he),Dt(JN,Ae),Dt(QN,Ae)])])})),{apis:{updateHex:(ct,Nt)=>{ht.setValue(ct,{hex:Nt.value}),((It,Tt)=>{const Gt=df(Tt);P(It,Gt),pe(Gt)})(ct,Nt),M(ct,Nt)}}})},name:"RgbForm",configFields:[],apis:{updateHex:(Y,te,me)=>{Y.updateHex(te,me)}},extraApis:{}})},e5=(s,l,d,f)=>Eu({name:"ColourPicker",configFields:[Ft("dom"),mt("onValidHex",H),mt("onInvalidHex",H)],factory:v=>{const C=T$(s,l,v.onValidHex,v.onInvalidHex,d,f),k=((Ae,he)=>{const ge=gf.parts.spectrum({dom:{tag:"canvas",attributes:{role:"presentation"},classes:[he("sv-palette-spectrum")]}}),Ce=gf.parts.thumb({dom:{tag:"div",attributes:{role:"presentation"},classes:[he("sv-palette-thumb")],innerHtml:`<div class=${he("sv-palette-inner-thumb")} role="presentation"></div>`}}),Te=(Ie,qe)=>{const{width:ct,height:Nt}=Ie,It=Ie.getContext("2d");if(It===null)return;It.fillStyle=qe,It.fillRect(0,0,ct,Nt);const Tt=It.createLinearGradient(0,0,ct,0);Tt.addColorStop(0,"rgba(255,255,255,1)"),Tt.addColorStop(1,"rgba(255,255,255,0)"),It.fillStyle=Tt,It.fillRect(0,0,ct,Nt);const Gt=It.createLinearGradient(0,0,0,Nt);Gt.addColorStop(0,"rgba(0,0,0,0)"),Gt.addColorStop(1,"rgba(0,0,0,1)"),It.fillStyle=Gt,It.fillRect(0,0,ct,Nt)};return Eu({factory:Ie=>{const qe=j({x:0,y:0}),ct=Jt([cs.config({find:R.some}),mo.config({})]);return gf.sketch({dom:{tag:"div",attributes:{role:"slider","aria-valuetext":Ae(["Saturation {0}%, Brightness {1}%",0,0])},classes:[he("sv-palette")]},model:{mode:"xy",getInitialValue:qe},rounded:!1,components:[ge,Ce],onChange:(Nt,It,Tt)=>{ee(Tt)||fn(Nt.element,"aria-valuetext",Ae(["Saturation {0}%, Brightness {1}%",Math.floor(Tt.x),Math.floor(100-Tt.y)])),$n(Nt,w3,{value:Tt})},onInit:(Nt,It,Tt,Gt)=>{Te(Tt.element.dom,JP(QP))},sliderBehaviours:ct})},name:"SaturationBrightnessPalette",configFields:[],apis:{setHue:(Ie,qe,ct)=>{((Nt,It)=>{const Tt=Nt.components()[0].element.dom,Gt=Ey(It,100,100),wn=XP(Gt);Te(Tt,JP(wn))})(qe,ct)},setThumb:(Ie,qe,ct)=>{((Nt,It)=>{const Tt=fS(df(It));gf.setValue(Nt,{x:Tt.saturation,y:100-Tt.value}),fn(Nt.element,"aria-valuetext",Ae(["Saturation {0}%, Brightness {1}%",Tt.saturation,Tt.value]))})(qe,ct)}},extraApis:{}})})(s,l),E={paletteRgba:Kn(QP),paletteHue:Kn(0)},P=Es(((Ae,he)=>{const ge=gf.parts.spectrum({dom:{tag:"div",classes:[he("hue-slider-spectrum")],attributes:{role:"presentation"}}}),Ce=gf.parts.thumb({dom:{tag:"div",classes:[he("hue-slider-thumb")],attributes:{role:"presentation"}}});return gf.sketch({dom:{tag:"div",classes:[he("hue-slider")],attributes:{role:"slider","aria-valuemin":0,"aria-valuemax":360,"aria-valuenow":120}},rounded:!1,model:{mode:"y",getInitialValue:j(0)},components:[ge,Ce],sliderBehaviours:Jt([mo.config({})]),onChange:(Te,Ie,qe)=>{fn(Te.element,"aria-valuenow",Math.floor(360-3.6*qe)),$n(Te,US,{value:qe})}})})(0,l)),F=Es(k.sketch({})),M=Es(C.sketch({})),z=(Ae,he,ge)=>{F.getOpt(Ae).each(Ce=>{k.setHue(Ce,ge)})},Y=(Ae,he)=>{M.getOpt(Ae).each(ge=>{C.updateHex(ge,he)})},te=(Ae,he,ge)=>{P.getOpt(Ae).each(Ce=>{gf.setValue(Ce,(Te=>100-Te/360*100)(ge))})},me=(Ae,he)=>{F.getOpt(Ae).each(ge=>{k.setThumb(ge,he)})},pe=(Ae,he,ge,Ce)=>{((Te,Ie)=>{const qe=df(Te);E.paletteRgba.set(qe),E.paletteHue.set(Ie)})(he,ge),ft(Ce,Te=>{Te(Ae,he,ge)})};return{uid:v.uid,dom:v.dom,components:[F.asSpec(),P.asSpec(),M.asSpec()],behaviours:Jt([Io("colour-picker-events",[Dt(Tw,(()=>{const Ae=[z,te,me];return(he,ge)=>{const Ce=ge.event.hex,Te=(Ie=>fS(df(Ie)))(Ce);pe(he,Ce,Te.hue,Ae)}})()),Dt(w3,(()=>{const Ae=[Y];return(he,ge)=>{const Ce=ge.event.value,Te=E.paletteHue.get(),Ie=Ey(Te,Ce.x,100-Ce.y),qe=mS(Ie);pe(he,qe,Te,Ae)}})()),Dt(US,(()=>{const Ae=[z,Y];return(he,ge)=>{const Ce=(Nt=>(100-Nt)/100*360)(ge.event.value),Te=E.paletteRgba.get(),Ie=fS(Te),qe=Ey(Ce,Ie.saturation,Ie.value),ct=mS(qe);pe(he,ct,Ce,Ae)}})())]),cs.config({find:Ae=>M.getOpt(Ae)}),Hn.config({mode:"acyclic"})])}}}),Ag=()=>cs.config({find:R.some}),S3=s=>cs.config({find:l=>cr(l.element,s).bind(d=>l.getSystem().getByDom(d).toOptional())}),k3=Yn([mt("preprocess",fe),mt("postprocess",fe)]),E3=(s,l)=>{const d=Pa("RepresentingConfigs.memento processors",k3,l);return ht.config({store:{mode:"manual",getValue:f=>{const b=s.get(f),v=ht.getValue(b);return d.postprocess(v)},setValue:(f,b)=>{const v=d.preprocess(b),C=s.get(f);ht.setValue(C,v)}}})},x0=(s,l,d)=>ht.config({store:{mode:"manual",...s.map(f=>({initialValue:f})).getOr({}),getValue:l,setValue:d}}),A3=(s,l,d)=>x0(s,f=>l(f.element),(f,b)=>d(f.element,b)),Rw=s=>ht.config({store:{mode:"memory",initialValue:s}}),O$={"colorcustom.rgb.red.label":"R","colorcustom.rgb.red.description":"Red component","colorcustom.rgb.green.label":"G","colorcustom.rgb.green.description":"Green component","colorcustom.rgb.blue.label":"B","colorcustom.rgb.blue.description":"Blue component","colorcustom.rgb.hex.label":"#","colorcustom.rgb.hex.description":"Hex color code","colorcustom.rgb.range":"Range 0 to 255","colorcustom.rgb.invalid":"Numbers only, 0 to 255","colorcustom.rgb.invalidHex":"Hexadecimal only, 000000 to FFFFFF","aria.color.picker":"Color Picker","aria.input.invalid":"Invalid input"};var t5=tinymce.util.Tools.resolve("tinymce.Resource");const T3=s=>vo(s,"init");var Zh=tinymce.util.Tools.resolve("tinymce.util.Tools");const O3=(s,l)=>{let d=null;const f=()=>{D(d)||(clearTimeout(d),d=null)};return{cancel:f,throttle:(...b)=>{f(),d=setTimeout(()=>{d=null,s.apply(null,b)},l)}}},R3=En("alloy-fake-before-tabstop"),I3=En("alloy-fake-after-tabstop"),n5=s=>({dom:{tag:"div",styles:{width:"1px",height:"1px",outline:"none"},attributes:{tabindex:"0"},classes:s},behaviours:Jt([mo.config({ignore:!0}),qs.config({})])}),D3=(s,l)=>({dom:{tag:"div",classes:["tox-navobj",...s.getOr([])]},components:[n5([R3]),l,n5([I3])],behaviours:Jt([S3(1)])}),P3=(s,l)=>{$n(s,Sr(),{raw:{which:9,shiftKey:l}})},R$=(s,l)=>{const d=l.element;ul(d,R3)?P3(s,!0):ul(d,I3)&&P3(s,!1)},Dy=s=>Oy(s,["."+R3,"."+I3].join(","),xe),gb=En("update-dialog"),N3=En("update-title"),o5=En("update-body"),s5=En("update-footer"),L3=En("body-send-message"),jS=En("dialog-focus-shifted"),M3=fa().browser,Py=M3.isSafari(),r5=M3.isFirefox(),B3=Py||r5,i5=M3.isChromium(),I$=({scrollTop:s,scrollHeight:l,clientHeight:d})=>Math.ceil(s)+d>=l,a5=(s,l)=>s.scrollTo(0,l==="bottom"?99999999:l),F3=(s,l,d)=>{const f=s.dom;R.from(f.contentDocument).fold(d,b=>{let v=0;const C=((E,P)=>{const F=E.body;return R.from(!/^<!DOCTYPE (html|HTML)/.test(P)&&(!i5&&!Py||U(F)&&(F.scrollTop!==0||Math.abs(F.scrollHeight-F.clientHeight)>1))?F:E.documentElement)})(b,l).map(E=>(v=E.scrollTop,E)).forall(I$),k=()=>{const E=f.contentWindow;U(E)&&(C?a5(E,"bottom"):!C&&B3&&v!==0&&a5(E,v))};Py&&f.addEventListener("load",k,{once:!0}),b.open(),b.write(l),b.close(),Py||k()})},$3=fs(B3,Py?500:200).map(s=>((l,d)=>{let f=null,b=null;return{cancel:()=>{D(f)||(clearTimeout(f),f=null,b=null)},throttle:(...v)=>{b=v,D(f)&&(f=setTimeout(()=>{const C=b;f=null,b=null,l.apply(null,C)},d))}}})(F3,s)),ZS=En("toolbar.button.execute"),hb=En("common-button-display-events"),V3={[El()]:["disabling","alloy.base.behaviour","toggling","toolbar-button-events","tooltipping"],[ba()]:["toolbar-button-events",hb],[Lc()]:["toolbar-button-events","dropdown-events","tooltipping"],[$t()]:["focusing","alloy.base.behaviour",hb]},GS=s=>wo(s.element,"width",Ar(s.element,"width")),l5=(s,l,d)=>qc(s,{tag:"span",classes:["tox-icon","tox-tbtn__icon-wrap"],behaviours:d},l),Iw=(s,l)=>l5(s,l,[]),pb=(s,l)=>l5(s,l,[eo.config({})]),z3=(s,l,d)=>({dom:{tag:"span",classes:[`${l}__select-label`]},components:[Fr(d.translate(s))],behaviours:Jt([eo.config({})])}),Du=En("update-menu-text"),Cd=En("update-menu-icon"),H3=(s,l,d,f)=>{const b=Kn(H),v=s.text.map(me=>Es(z3(me,l,d.providers))),C=s.icon.map(me=>Es(pb(me,d.providers.icons))),k=(me,pe)=>{const Ae=ht.getValue(me);return mo.focus(Ae),$n(Ae,"keydown",{raw:pe.event.raw}),Dl.close(Ae),R.some(!0)},E=s.role.fold(()=>({}),me=>({role:me})),P=R.from(s.listRole).map(me=>({listRole:me})).getOr({}),F=s.ariaLabel.fold(()=>({}),me=>({"aria-label":d.providers.translate(me)})),M=qc("chevron-down",{tag:"div",classes:[`${l}__select-chevron`]},d.providers.icons),z=En("common-button-display-events"),Y="dropdown-events";return Es(Dl.sketch({...s.uid?{uid:s.uid}:{},...E,...P,dom:{tag:"button",classes:[l,`${l}--select`].concat(Me(s.classes,me=>`${l}--${me}`)),attributes:{...F,...U(f)?{"data-mce-name":f}:{}}},components:wy([C.map(me=>me.asSpec()),v.map(me=>me.asSpec()),R.some(M)]),matchWidth:!0,useMinWidth:!0,onOpen:(me,pe,Ae)=>{s.searchable&&(he=>{xP(he).each(ge=>mo.focus(ge))})(Ae)},dropdownBehaviours:Jt([...s.dropdownBehaviours,Ba(()=>s.disabled||d.providers.isDisabled()),Fi(),b0.config({}),eo.config({}),...s.tooltip.map(me=>ii.config(d.providers.tooltips.getConfig({tooltipText:d.providers.translate(me)}))).toArray(),Io(Y,[ib(s,b),zh(s,b)]),Io(z,[ar((me,pe)=>s.listRole==="listbox"?H:GS(me))]),Io("menubutton-update-display-text",[Dt(Du,(me,pe)=>{v.bind(Ae=>Ae.getOpt(me)).each(Ae=>{eo.set(Ae,[Fr(d.providers.translate(pe.event.text))])})}),Dt(Cd,(me,pe)=>{C.bind(Ae=>Ae.getOpt(me)).each(Ae=>{eo.set(Ae,[pb(pe.event.icon,d.providers.icons)])})})])]),eventOrder:Fs(V3,{[$t()]:["focusing","alloy.base.behaviour","item-type-events","normal-dropdown-events"],[ba()]:["toolbar-button-events",ii.name(),Y,z]}),sandboxBehaviours:Jt([Hn.config({mode:"special",onLeft:k,onRight:k}),Io("dropdown-sandbox-events",[Dt(bP,(me,pe)=>{(Ae=>{const he=ht.getValue(Ae),ge=aw(Ae).map(wP);Dl.refetch(he).get(()=>{const Ce=$r.getCoupled(he,"sandbox");ge.each(Te=>aw(Ce).each(Ie=>((qe,ct)=>{ht.setValue(qe,ct.fetchPattern),qe.element.dom.selectionStart=ct.selectionStart,qe.element.dom.selectionEnd=ct.selectionEnd})(Ie,Te)))})})(me),pe.stop()}),Dt(vP,(me,pe)=>{((Ae,he)=>{(ge=>T.getState(ge).bind(Ts.getHighlighted).bind(Ts.getHighlighted))(Ae).each(ge=>{((Ce,Te,Ie,qe)=>{const ct={...qe,target:Te};Ce.getSystem().triggerEvent(Ie,Te,ct)})(Ae,ge.element,he.event.eventType,he.event.interactionEvent)})})(me,pe),pe.stop()})])]),lazySink:d.getSink,toggleClass:`${l}--active`,parts:{menu:{...Q_(0,s.columns,s.presets),fakeFocus:s.searchable,...s.listRole==="listbox"?{}:{onHighlightItem:wN,onCollapseMenu:(me,pe,Ae)=>{Ts.getHighlighted(Ae).each(he=>{wN(me,Ae,he)})},onDehighlightItem:Q7}}},getAnchorOverrides:()=>({maxHeightFunction:(me,pe)=>{ag()(me,pe-10)}}),fetch:me=>ab(Ve(s.fetch,me))})).asSpec()},qS=s=>s.type==="separator",YS={type:"separator"},c5=(s,l)=>{const d=((f,b)=>{const v=sn(f,(C,k)=>(E=>h(E))(k)?k===""?C:k==="|"?C.length>0&&!qS(C[C.length-1])?C.concat([YS]):C:vo(b,k.toLowerCase())?C.concat([b[k.toLowerCase()]]):C:C.concat([k]),[]);return v.length>0&&qS(v[v.length-1])&&v.pop(),v})(h(s)?s.split(" "):s,l);return In(d,(f,b)=>{if((v=>vo(v,"getSubmenuItems"))(b)){const v=(k=>{const E=On(k,"value").getOrThunk(()=>En("generated-menu-item"));return Fs({value:E},k)})(b),C=((k,E)=>{const P=k.getSubmenuItems(),F=c5(P,E);return{item:k,menus:Fs(F.menus,{[k.value]:F.items}),expansions:Fs(F.expansions,{[k.value]:k.value})}})(v,l);return{menus:Fs(f.menus,C.menus),items:[C.item,...f.items],expansions:Fs(f.expansions,C.expansions)}}return{...f,items:[b,...f.items]}},{menus:{},expansions:{},items:[]})},w0=(s,l,d,f)=>{const b=En("primary-menu"),v=c5(s,d.shared.providers.menuItems());if(v.items.length===0)return R.none();const C=(M=>M.search.fold(()=>({searchMode:"no-search"}),z=>({searchMode:"search-with-field",placeholder:z.placeholder})))(f),k=CN(b,v.items,l,d,f.isHorizontalMenu,C),E=(M=>M.search.fold(()=>({searchMode:"no-search"}),z=>({searchMode:"search-with-results"})))(f),P=oo(v.menus,(M,z)=>CN(z,M,l,d,!1,E)),F=Fs(P,hu(b,k));return R.from(Mh.tieredData(b,F,v.expansions))},Dw=s=>!vo(s,"items"),U3="data-value",XS=(s,l,d,f,b)=>Me(d,v=>Dw(v)?{type:"togglemenuitem",...b?{}:{role:"option"},text:v.text,value:v.value,active:v.value===f,onAction:()=>{ht.setValue(s,v.value),$n(s,pl,{name:l}),mo.focus(s)}}:{type:"nestedmenuitem",text:v.text,getSubmenuItems:()=>XS(s,l,v.items,f,b)}),JS=(s,l)=>cn(s,d=>Dw(d)?fs(d.value===l,d):JS(d.items,l)),D$=Eu({name:"HtmlSelect",configFields:[Ft("options"),An("selectBehaviours",[mo,ht]),mt("selectClasses",[]),mt("selectAttributes",{}),es("data")],factory:(s,l)=>{const d=Me(s.options,b=>({dom:{tag:"option",value:b.value,innerHtml:b.text}})),f=s.data.map(b=>hu("initialValue",b)).getOr({});return{uid:s.uid,dom:{tag:"select",classes:s.selectClasses,attributes:s.selectAttributes},components:d,behaviours:Ro(s.selectBehaviours,[mo.config({}),ht.config({store:{mode:"manual",getValue:b=>jf(b.element),setValue:(b,v)=>{const C=Ne(s.options);J(s.options,k=>k.value===v).isSome()?eg(b.element,v):b.element.dom.selectedIndex===-1&&v===""&&C.each(k=>eg(b.element,k.value))},...f}})])}}}),u5=j([mt("field1Name","field1"),mt("field2Name","field2"),cd("onLockedChange"),yh(["lockClass"]),mt("locked",!1),go("coupledFieldBehaviours",[cs,ht])]),W3=(s,l)=>Il({factory:Is,name:s,overrides:d=>({fieldBehaviours:Jt([Io("coupled-input-behaviour",[Dt(jm(),f=>{((b,v,C)=>Qs(b,v,C).bind(cs.getCurrent))(f,d,l).each(b=>{Qs(f,d,"lock").each(v=>{ao.isOn(v)&&d.onLockedChange(f,b,v)})})})])])})}),d5=j([W3("field1","field2"),W3("field2","field1"),Il({factory:Ya,schema:[Ft("dom")],name:"lock",overrides:s=>({buttonBehaviours:Jt([ao.config({selected:s.locked,toggleClass:s.markers.lockClass,aria:{mode:"pressed"}})])})})]),Jc=Ul({name:"FormCoupledInputs",configFields:u5(),partFields:d5(),factory:(s,l,d,f)=>({uid:s.uid,dom:s.dom,components:l,behaviours:io(s.coupledFieldBehaviours,[cs.config({find:R.some}),ht.config({store:{mode:"manual",getValue:b=>{const v=mA(b,s,["field1","field2"]);return{[s.field1Name]:ht.getValue(v.field1()),[s.field2Name]:ht.getValue(v.field2())}},setValue:(b,v)=>{const C=mA(b,s,["field1","field2"]);Do(v,s.field1Name)&&ht.setValue(C.field1(),v[s.field1Name]),Do(v,s.field2Name)&&ht.setValue(C.field2(),v[s.field2Name])}}})]),apis:{getField1:b=>Qs(b,s,"field1"),getField2:b=>Qs(b,s,"field2"),getLock:b=>Qs(b,s,"lock")}}),apis:{getField1:(s,l)=>s.getField1(l),getField2:(s,l)=>s.getField2(l),getLock:(s,l)=>s.getLock(l)}}),K3=s=>{const l=/^\s*(\d+(?:\.\d+)?)\s*(|cm|mm|in|px|pt|pc|em|ex|ch|rem|vw|vh|vmin|vmax|%)\s*$/.exec(s);if(l!==null){const d=parseFloat(l[1]),f=l[2];return Ko.value({value:d,unit:f})}return Ko.error(s)},j3=(s,l)=>{const d={"":96,px:96,pt:72,cm:2.54,pc:12,mm:25.4,in:1},f=b=>vo(d,b);return s.unit===l?R.some(s.value):f(s.unit)&&f(l)?d[s.unit]===d[l]?R.some(s.value):R.some(s.value/d[s.unit]*d[l]):R.none()},Z3=s=>R.none(),f5=(s,l)=>{const d=s.label.map(F=>cb(F,l)),f=[ho.config({disabled:()=>s.disabled||l.isDisabled()}),Fi(),Hn.config({mode:"execution",useEnter:s.multiline!==!0,useControlEnter:s.multiline===!0,execute:F=>(Mo(F,kw),R.some(!0))}),Io("textfield-change",[Dt(jm(),(F,M)=>{$n(F,pl,{name:s.name})}),Dt(Dx(),(F,M)=>{$n(F,pl,{name:s.name})})]),qs.config({})],b=s.validation.map(F=>_g.config({getRoot:M=>Ra(M.element),invalidClass:"tox-invalid",validator:{validate:M=>{const z=ht.getValue(M),Y=F.validator(z);return Cg(Y===!0?Ko.value(z):Ko.error(Y))},validateOnLoad:F.validateOnLoad}})).toArray(),v={...s.placeholder.fold(j({}),F=>({placeholder:l.translate(F)})),...s.inputMode.fold(j({}),F=>({inputmode:F})),"data-mce-name":s.name},C=Is.parts.field({tag:s.multiline===!0?"textarea":"input",...s.data.map(F=>({data:F})).getOr({}),inputAttributes:v,inputClasses:[s.classname],inputBehaviours:Jt(Zt([f,b])),selectOnFocus:!1,factory:Vh}),k=s.multiline?{dom:{tag:"div",classes:["tox-textarea-wrap"]},components:[C]}:C,E=(s.flex?["tox-form__group--stretched"]:[]).concat(s.maximized?["tox-form-group--maximize"]:[]),P=[ho.config({disabled:()=>s.disabled||l.isDisabled(),onDisabled:F=>{Is.getField(F).each(ho.disable)},onEnabled:F=>{Is.getField(F).each(ho.enable)}}),Fi()];return Sw(d,k,E,P)},Pw=(s,l)=>l.getAnimationRoot.fold(()=>s.element,d=>d(s)),Gh=s=>s.dimension.property,bb=(s,l)=>s.dimension.getDimension(l),vb=(s,l)=>{const d=Pw(s,l);fc(d,[l.shrinkingClass,l.growingClass])},QS=(s,l)=>{Ir(s.element,l.openClass),kr(s.element,l.closedClass),wo(s.element,Gh(l),"0px"),zd(s.element)},G3=(s,l)=>{Ir(s.element,l.closedClass),kr(s.element,l.openClass),As(s.element,Gh(l))},m5=(s,l,d,f)=>{d.setCollapsed(),wo(s.element,Gh(l),bb(l,s.element)),vb(s,l),QS(s,l),l.onStartShrink(s),l.onShrunk(s)},P$=(s,l,d,f)=>{const b=f.getOrThunk(()=>bb(l,s.element));d.setCollapsed(),wo(s.element,Gh(l),b),zd(s.element);const v=Pw(s,l);Ir(v,l.growingClass),kr(v,l.shrinkingClass),QS(s,l),l.onStartShrink(s)},g5=(s,l,d)=>{const f=bb(l,s.element);(f==="0px"?m5:P$)(s,l,d,R.some(f))},h5=(s,l,d)=>{const f=Pw(s,l),b=ul(f,l.shrinkingClass),v=bb(l,s.element);G3(s,l);const C=bb(l,s.element);(b?()=>{wo(s.element,Gh(l),v),zd(s.element)}:()=>{QS(s,l)})(),Ir(f,l.shrinkingClass),kr(f,l.growingClass),G3(s,l),wo(s.element,Gh(l),C),d.setExpanded(),l.onStartGrow(s)},Nw=(s,l,d)=>{const f=Pw(s,l);return ul(f,l.growingClass)===!0},p5=(s,l,d)=>{const f=Pw(s,l);return ul(f,l.shrinkingClass)===!0};var b5=Object.freeze({__proto__:null,refresh:(s,l,d)=>{if(d.isExpanded()){As(s.element,Gh(l));const f=bb(l,s.element);wo(s.element,Gh(l),f)}},grow:(s,l,d)=>{d.isExpanded()||h5(s,l,d)},shrink:(s,l,d)=>{d.isExpanded()&&g5(s,l,d)},immediateShrink:(s,l,d)=>{d.isExpanded()&&m5(s,l,d)},hasGrown:(s,l,d)=>d.isExpanded(),hasShrunk:(s,l,d)=>d.isCollapsed(),isGrowing:Nw,isShrinking:p5,isTransitioning:(s,l,d)=>Nw(s,l)||p5(s,l),toggleGrow:(s,l,d)=>{(d.isExpanded()?g5:h5)(s,l,d)},disableTransitions:vb,immediateGrow:(s,l,d)=>{d.isExpanded()||(G3(s,l),wo(s.element,Gh(l),bb(l,s.element)),vb(s,l),d.setExpanded(),l.onStartGrow(s),l.onGrown(s))}}),N$=Object.freeze({__proto__:null,exhibit:(s,l,d)=>{const f=l.expanded;return Kr(f?{classes:[l.openClass],styles:{}}:{classes:[l.closedClass],styles:hu(l.dimension.property,"0px")})},events:(s,l)=>_o([Uf(ov(),(d,f)=>{f.event.raw.propertyName===s.dimension.property&&(vb(d,s),l.isExpanded()&&As(d.element,s.dimension.property),(l.isExpanded()?s.onGrown:s.onShrunk)(d))})])}),v5=[Ft("closedClass"),Ft("openClass"),Ft("shrinkingClass"),Ft("growingClass"),es("getAnimationRoot"),rs("onShrunk"),rs("onStartShrink"),rs("onGrown"),rs("onStartGrow"),mt("expanded",!1),Xi("dimension",bi("property",{width:[Xs("property","width"),Xs("getDimension",s=>Pi(s)+"px")],height:[Xs("property","height"),Xs("getDimension",s=>Tr(s)+"px")]}))];const tc=Bi({fields:v5,name:"sliding",active:N$,apis:b5,state:Object.freeze({__proto__:null,init:s=>{const l=Kn(s.expanded);return Mi({isExpanded:()=>l.get()===!0,isCollapsed:()=>l.get()===!1,setCollapsed:Ve(l.set,!1),setExpanded:Ve(l.set,!0),readState:()=>"expanded: "+l.get()})}})}),y5=s=>({isEnabled:()=>!ho.isDisabled(s),setEnabled:l=>ho.set(s,!l),setActive:l=>{const d=s.element;l?(kr(d,"tox-tbtn--enabled"),fn(d,"aria-pressed",!0)):(Ir(d,"tox-tbtn--enabled"),Lo(d,"aria-pressed"))},isActive:()=>ul(s.element,"tox-tbtn--enabled"),setText:l=>{$n(s,Du,{text:l})},setIcon:l=>$n(s,Cd,{icon:l})}),Ny=(s,l,d,f,b=!0,v)=>H3({text:s.text,icon:s.icon,tooltip:s.tooltip,ariaLabel:s.tooltip,searchable:s.search.isSome(),role:f,fetch:(C,k)=>{const E={pattern:s.search.isSome()?p0(C):""};s.fetch(P=>{k(w0(P,dm.CLOSE_ON_EXECUTE,d,{isHorizontalMenu:!1,search:s.search}))},E,y5(C))},onSetup:s.onSetup,getApi:y5,columns:1,presets:"normal",classes:[],dropdownBehaviours:[...b?[qs.config({})]:[]]},l,d.shared,v),x5=(s,l,d)=>{const f=v=>C=>{const k=!C.isActive();C.setActive(k),v.storage.set(k),d.shared.getSink().each(E=>{l().getOpt(E).each(P=>{Za(P.element),$n(P,mm,{name:v.name,value:v.storage.get()})})})},b=v=>C=>{C.setActive(v.storage.get())};return v=>{v(Me(s,C=>{const k=C.text.fold(()=>({}),E=>({text:E}));return{type:C.type,active:!1,...k,onAction:f(C),onSetup:b(C)}}))}},q3=s=>({dom:{tag:"span",classes:["tox-tree__label"],attributes:{"aria-label":s}},components:[Fr(s)]}),Y3=En("leaf-label-event-id"),X3=({leaf:s,onLeafAction:l,visible:d,treeId:f,selectedId:b,backstage:v})=>{const C=s.menu.map(E=>Ny(E,"tox-mbtn",v,R.none(),d)),k=[q3(s.title)];return C.each(E=>k.push(E)),Ya.sketch({dom:{tag:"div",classes:["tox-tree--leaf__label","tox-trbtn"].concat(d?["tox-tree--leaf__label--visible"]:[])},components:k,role:"treeitem",action:E=>{l(s.id),E.getSystem().broadcastOn([`update-active-item-${f}`],{value:s.id})},eventOrder:{[Sr()]:[Y3,"keying"]},buttonBehaviours:Jt([...d?[qs.config({})]:[],ao.config({toggleClass:"tox-trbtn--enabled",toggleOnExecute:!1,aria:{mode:"selected"}}),Ol.config({channels:{[`update-active-item-${f}`]:{onReceive:(E,P)=>{(P.value===s.id?ao.on:ao.off)(E)}}}}),Io(Y3,[ar((E,P)=>{b.each(F=>{(F===s.id?ao.on:ao.off)(E)})}),Dt(Sr(),(E,P)=>{const F=P.event.raw.code==="ArrowLeft",M=P.event.raw.code==="ArrowRight";F?(ng(E.element,".tox-tree--directory").each(z=>{E.getSystem().getByDom(z).each(Y=>{F1(z,".tox-tree--directory__label").each(te=>{Y.getSystem().getByDom(te).each(mo.focus)})})}),P.stop()):M&&P.stop()})])])})},w5=En("directory-label-event-id"),L$=({directory:s,visible:l,noChildren:d,backstage:f})=>{const b=s.menu.map(P=>Ny(P,"tox-mbtn",f,R.none())),v=[{dom:{tag:"div",classes:["tox-chevron"]},components:[(C="chevron-right",k=f.shared.providers.icons,((P,F,M)=>qc(P,{tag:"span",classes:["tox-tree__icon-wrap","tox-icon"],behaviours:[]},F))(C,k))]},q3(s.title)];var C,k;b.each(P=>{v.push(P)});const E=P=>{ng(P.element,".tox-tree--directory").each(F=>{P.getSystem().getByDom(F).each(M=>{const z=!ao.isOn(M);ao.toggle(M),$n(P,"expand-tree-node",{expanded:z,node:s.id})})})};return Ya.sketch({dom:{tag:"div",classes:["tox-tree--directory__label","tox-trbtn"].concat(l?["tox-tree--directory__label--visible"]:[])},components:v,action:E,eventOrder:{[Sr()]:[w5,"keying"]},buttonBehaviours:Jt([...l?[qs.config({})]:[],Io(w5,[Dt(Sr(),(P,F)=>{const M=F.event.raw.code==="ArrowRight",z=F.event.raw.code==="ArrowLeft";M&&d&&F.stop(),(M||z)&&ng(P.element,".tox-tree--directory").each(Y=>{P.getSystem().getByDom(Y).each(te=>{!ao.isOn(te)&&M||ao.isOn(te)&&z?(E(P),F.stop()):z&&!ao.isOn(te)&&(ng(te.element,".tox-tree--directory").each(me=>{F1(me,".tox-tree--directory__label").each(pe=>{te.getSystem().getByDom(pe).each(mo.focus)})}),F.stop())})})})])])})},M$=({children:s,onLeafAction:l,visible:d,treeId:f,expandedIds:b,selectedId:v,backstage:C})=>({dom:{tag:"div",classes:["tox-tree--directory__children"]},components:s.map(k=>k.type==="leaf"?X3({leaf:k,selectedId:v,onLeafAction:l,visible:d,treeId:f,backstage:C}):ek({directory:k,expandedIds:b,selectedId:v,onLeafAction:l,labelTabstopping:d,treeId:f,backstage:C})),behaviours:Jt([tc.config({dimension:{property:"height"},closedClass:"tox-tree--directory__children--closed",openClass:"tox-tree--directory__children--open",growingClass:"tox-tree--directory__children--growing",shrinkingClass:"tox-tree--directory__children--shrinking",expanded:d}),eo.config({})])}),C5=En("directory-event-id"),ek=({directory:s,onLeafAction:l,labelTabstopping:d,treeId:f,backstage:b,expandedIds:v,selectedId:C})=>{const{children:k}=s,E=Kn(v),P=v.includes(s.id);return{dom:{tag:"div",classes:["tox-tree--directory"],attributes:{role:"treeitem"}},components:[L$({directory:s,visible:d,noChildren:s.children.length===0,backstage:b}),M$({children:k,expandedIds:v,selectedId:C,onLeafAction:l,visible:P,treeId:f,backstage:b})],behaviours:Jt([Io(C5,[ar((F,M)=>{ao.set(F,P)}),Dt("expand-tree-node",(F,M)=>{const{expanded:z,node:Y}=M.event;E.set(z?[...E.get(),Y]:E.get().filter(te=>te!==Y))})]),ao.config({...s.children.length>0?{aria:{mode:"expanded"}}:{},toggleClass:"tox-tree--directory--expanded",onToggled:(F,M)=>{const z=F.components()[1],Y=(te=M,k.map(me=>me.type==="leaf"?X3({leaf:me,selectedId:C,onLeafAction:l,visible:te,treeId:f,backstage:b}):ek({directory:me,expandedIds:E.get(),selectedId:C,onLeafAction:l,labelTabstopping:te,treeId:f,backstage:b})));var te;M?tc.grow(z):tc.shrink(z),eo.set(z,Y)}})])}},B$=En("tree-event-id");var F$=Object.freeze({__proto__:null,events:(s,l)=>{const d=s.stream.streams.setup(s,l);return _o([Dt(s.event,d),ld(()=>l.cancel())].concat(s.cancelEvent.map(f=>[Dt(f,()=>l.cancel())]).getOr([])))}});const _5=s=>{const l=Kn(null);return Mi({readState:()=>({timer:l.get()!==null?"set":"unset"}),setTimer:d=>{l.set(d)},cancel:()=>{const d=l.get();d!==null&&d.cancel()}})};var $$=Object.freeze({__proto__:null,throttle:_5,init:s=>s.stream.streams.state(s)}),V$=[Xi("stream",bi("mode",{throttle:[Ft("delay"),mt("stopEvent",!0),Xs("streams",{setup:(s,l)=>{const d=s.stream,f=O3(s.onStream,d.delay);return l.setTimer(f),(b,v)=>{f.throttle(b,v),d.stopEvent&&v.stop()}},state:_5})]})),mt("event","input"),es("cancelEvent"),cd("onStream")];const J3=Bi({fields:V$,name:"streaming",active:F$,state:$$}),tk=(s,l,d)=>{const f=ht.getValue(d);ht.setValue(l,f),Q3(l)},nk=(s,l)=>{const d=s.element,f=jf(d),b=d.dom;Go(d,"type")!=="number"&&l(b,f)},Q3=s=>{nk(s,(l,d)=>l.setSelectionRange(d.length,d.length))},e4=j("alloy.typeahead.itemexecute"),z$=j([es("lazySink"),Ft("fetch"),mt("minChars",5),mt("responseTime",1e3),rs("onOpen"),mt("getHotspot",R.some),mt("getAnchorOverrides",j({})),mt("layouts",R.none()),mt("eventOrder",{}),ja("model",{},[mt("getDisplayText",s=>s.meta!==void 0&&s.meta.text!==void 0?s.meta.text:s.value),mt("selectsOver",!0),mt("populateFromBrowse",!0)]),rs("onSetValue"),Al("onExecute"),rs("onItemExecute"),mt("inputClasses",[]),mt("inputAttributes",{}),mt("inputStyles",{}),mt("matchWidth",!0),mt("useMinWidth",!1),mt("dismissOnBlur",!0),yh(["openClass"]),es("initialData"),es("listRole"),An("typeaheadBehaviours",[mo,ht,J3,Hn,ao,$r]),Yi("lazyTypeaheadComp",()=>Kn(R.none)),Yi("previewing",()=>Kn(!0))].concat(_7()).concat(GT())),S5=j([lf({schema:[vh()],name:"menu",overrides:s=>({fakeFocus:!0,onHighlightItem:(l,d,f)=>{s.previewing.get()?s.lazyTypeaheadComp.get().each(b=>{((v,C,k)=>{if(v.selectsOver){const E=ht.getValue(C),P=v.getDisplayText(E),F=ht.getValue(k);return v.getDisplayText(F).indexOf(P)===0?R.some(()=>{tk(0,C,k),((M,z)=>{nk(M,(Y,te)=>Y.setSelectionRange(z,te.length))})(C,P.length)}):R.none()}return R.none()})(s.model,b,f).fold(()=>{s.model.selectsOver?(Ts.dehighlight(d,f),s.previewing.set(!0)):s.previewing.set(!1)},v=>{v(),s.previewing.set(!1)})}):s.lazyTypeaheadComp.get().each(b=>{s.model.populateFromBrowse&&tk(s.model,b,f),ns(f.element,"id").each(v=>fn(b.element,"aria-activedescendant",v))})},onExecute:(l,d)=>s.lazyTypeaheadComp.get().map(f=>($n(f,e4(),{item:d}),!0)),onHover:(l,d)=>{s.previewing.set(!1),s.lazyTypeaheadComp.get().each(f=>{s.model.populateFromBrowse&&tk(s.model,f,d)})}})})]),H$=Ul({name:"Typeahead",configFields:z$(),partFields:S5(),factory:(s,l,d,f)=>{const b=(M,z,Y)=>{s.previewing.set(!1);const te=$r.getCoupled(M,"sandbox");if(T.isOpen(te))cs.getCurrent(te).each(me=>{Ts.getHighlighted(me).fold(()=>{Y(me)},()=>{Bc(te,me.element,"keydown",z)})});else{const me=pe=>{cs.getCurrent(pe).each(Y)};bS(s,C(M),M,te,f,me,hl.HighlightMenuAndItem).get(H)}},v=S7(s),C=M=>z=>z.map(Y=>{const te=Zi(Y.menus),me=bn(te,pe=>Wt(pe.items,Ae=>Ae.type==="item"));return ht.getState(M).update(Me(me,pe=>pe.data)),Y}),k=M=>cs.getCurrent(M),E="typeaheadevents",P=[mo.config({}),ht.config({onSetValue:s.onSetValue,store:{mode:"dataset",getDataKey:M=>jf(M.element),getFallbackEntry:M=>({value:M,meta:{}}),setValue:(M,z)=>{eg(M.element,s.model.getDisplayText(z))},...s.initialData.map(M=>hu("initialValue",M)).getOr({})}}),J3.config({stream:{mode:"throttle",delay:s.responseTime,stopEvent:!1},onStream:(M,z)=>{const Y=$r.getCoupled(M,"sandbox");if(mo.isFocused(M)&&jf(M.element).length>=s.minChars){const te=k(Y).bind(pe=>Ts.getHighlighted(pe).map(ht.getValue));s.previewing.set(!0);const me=pe=>{k(Y).each(Ae=>{te.fold(()=>{s.model.selectsOver&&Ts.highlightFirst(Ae)},he=>{Ts.highlightBy(Ae,ge=>ht.getValue(ge).value===he.value),Ts.getHighlighted(Ae).orThunk(()=>(Ts.highlightFirst(Ae),R.none()))})})};bS(s,C(M),M,Y,f,me,hl.HighlightJustMenu).get(H)}},cancelEvent:Yd()}),Hn.config({mode:"special",onDown:(M,z)=>(b(M,z,Ts.highlightFirst),R.some(!0)),onEscape:M=>{const z=$r.getCoupled(M,"sandbox");return T.isOpen(z)?(T.close(z),R.some(!0)):R.none()},onUp:(M,z)=>(b(M,z,Ts.highlightLast),R.some(!0)),onEnter:M=>{const z=$r.getCoupled(M,"sandbox"),Y=T.isOpen(z);if(Y&&!s.previewing.get())return k(z).bind(te=>Ts.getHighlighted(te)).map(te=>($n(M,e4(),{item:te}),!0));{const te=ht.getValue(M);return Mo(M,Yd()),s.onExecute(z,M,te),Y&&T.close(z),R.some(!0)}}}),ao.config({toggleClass:s.markers.openClass,aria:{mode:"expanded"}}),$r.config({others:{sandbox:M=>ZT(s,M,{onOpen:()=>ao.on(M),onClose:()=>{s.lazyTypeaheadComp.get().each(z=>Lo(z.element,"aria-activedescendant")),ao.off(M)}})}}),Io(E,[ar(M=>{s.lazyTypeaheadComp.set(R.some(M))}),ld(M=>{s.lazyTypeaheadComp.set(R.none())}),vu(M=>{const z=H;KT(s,C(M),M,f,z,hl.HighlightMenuAndItem).get(H)}),Dt(e4(),(M,z)=>{const Y=$r.getCoupled(M,"sandbox");tk(s.model,M,z.event.item),Mo(M,Yd()),s.onItemExecute(M,Y,z.event.item,ht.getValue(M)),T.close(Y),Q3(M)})].concat(s.dismissOnBlur?[Dt(Ep(),M=>{const z=$r.getCoupled(M,"sandbox");Gr(z.element).isNone()&&T.close(z)})]:[]))],F={[Lc()]:[ht.name(),J3.name(),E],...s.eventOrder};return{uid:s.uid,dom:pP(Fs(s,{inputAttributes:{role:"combobox","aria-autocomplete":"list","aria-haspopup":"true"}})),behaviours:{...v,...Ro(s.typeaheadBehaviours,P)},eventOrder:F}}}),C0=s=>({...s,toCached:()=>C0(s.toCached()),bindFuture:l=>C0(s.bind(d=>d.fold(f=>Cg(Ko.error(f)),f=>l(f)))),bindResult:l=>C0(s.map(d=>d.bind(l))),mapResult:l=>C0(s.map(d=>d.map(l))),mapError:l=>C0(s.map(d=>d.mapError(l))),foldResult:(l,d)=>s.map(f=>f.fold(l,d)),withTimeout:(l,d)=>C0(ab(f=>{let b=!1;const v=setTimeout(()=>{b=!0,f(Ko.error(d()))},l);s.get(C=>{b||(clearTimeout(v),f(C))})}))}),k5=s=>C0(ab(s)),Lw=(s,l,d=[],f,b,v,C)=>{const k=l.fold(()=>({}),F=>({action:F})),E={buttonBehaviours:Jt([Ba(()=>!s.enabled||C.isDisabled()),Fi(),qs.config({}),...v.map(F=>ii.config(C.tooltips.getConfig({tooltipText:C.translate(F)}))).toArray(),Io("button press",[jC("click")])].concat(d)),eventOrder:{click:["button press","alloy.base.behaviour"],mousedown:["button press","alloy.base.behaviour"]},...k},P=Fs(E,{dom:f});return Fs(P,{components:b})},E5=(s,l,d,f=[],b)=>{const v={tag:"button",classes:["tox-tbtn"],attributes:{...s.tooltip.map(E=>({"aria-label":d.translate(E)})).getOr({}),"data-mce-name":b}},C=s.icon.map(E=>Iw(E,d.icons)),k=wy([C]);return Lw(s,l,f,v,k,s.tooltip,d)},t4=s=>{switch(s){case"primary":return["tox-button"];case"toolbar":return["tox-tbtn"];default:return["tox-button","tox-button--secondary"]}},A5=(s,l,d,f=[],b=[])=>{const v=d.translate(s.text),C=s.icon.map(M=>Iw(M,d.icons)),k=[C.getOrThunk(()=>Fr(v))],E=s.buttonType.getOr(s.primary||s.borderless?"primary":"secondary"),P={tag:"button",classes:[...t4(E),...C.isSome()?["tox-button--icon"]:[],...s.borderless?["tox-button--naked"]:[],...b],attributes:{"aria-label":v,"data-mce-name":s.text}},F=s.icon.map(j(v));return Lw(s,l,f,P,k,F,d)},T5=(s,l,d,f=[],b=[])=>{const v=A5(s,R.some(l),d,f,b);return Ya.sketch(v)},n4=(s,l)=>d=>{l==="custom"?$n(d,mm,{name:s,value:{}}):l==="submit"?Mo(d,kw):l==="cancel"?Mo(d,Wh):console.error("Unknown button type: ",l)},Ly=(s,l,d)=>{if(((f,b)=>b==="menu")(0,l)){const f=()=>C,b=s,v={...s,type:"menubutton",search:R.none(),onSetup:k=>(k.setEnabled(s.enabled),H),fetch:x5(b.items,f,d)},C=Es(Ny(v,"tox-tbtn",d,R.none(),!0,s.text.or(s.tooltip).getOrUndefined()));return C.asSpec()}if(((f,b)=>b==="custom"||b==="cancel"||b==="submit")(0,l)){const f=n4(s.name,l),b={...s,borderless:!1};return T5(b,f,d.shared.providers,[])}if(((f,b)=>b==="togglebutton")(0,l))return((f,b,v)=>{var C,k;const E=f.icon.map(ge=>pb(ge,b.icons)).map(Es),P=f.buttonType.getOr(f.primary?"primary":"secondary"),F={...f,name:(C=f.name)!==null&&C!==void 0?C:"",tooltip:f.tooltip,enabled:(k=f.enabled)!==null&&k!==void 0&&k},M=F.tooltip.or(f.text).map(ge=>({"aria-label":b.translate(ge)})).getOr({}),z=t4(P??"secondary"),Y=f.icon.isSome()&&f.text.isSome(),te={tag:"button",classes:[...z.concat(f.icon.isSome()?["tox-button--icon"]:[]),...f.active?["tox-button--enabled"]:[],...Y?["tox-button--icon-and-text"]:[]],attributes:{...M,...U(v)?{"data-mce-name":v}:{}}},me=b.translate(f.text.getOr("")),pe=Fr(me),Ae=[...wy([E.map(ge=>ge.asSpec())]),...f.text.isSome()?[pe]:[]],he=Lw(F,R.some(ge=>{$n(ge,mm,{name:f.name,value:{setIcon:Ce=>{E.map(Te=>Te.getOpt(ge).each(Ie=>{eo.set(Ie,[pb(Ce,b.icons)])}))}}})}),[],te,Ae,f.tooltip,b);return Ya.sketch(he)})(s,d.shared.providers,s.text.or(s.tooltip).getOrUndefined());throw console.error("Unknown footer button type: ",l),new Error("Unknown footer button type")},U$={type:"separator"},W$=s=>({type:"menuitem",value:s.url,text:s.title,meta:{attach:s.attach},onAction:H}),o4=(s,l)=>({type:"menuitem",value:l,text:s,meta:{attach:void 0},onAction:H}),O5=(s,l)=>(d=>Me(d,W$))(((d,f)=>Wt(f,b=>b.type===d))(s,l)),K$=s=>O5("header",s.targets),j$=s=>O5("anchor",s.targets),R5=s=>R.from(s.anchorTop).map(l=>o4("<top>",l)).toArray(),I5=s=>R.from(s.anchorBottom).map(l=>o4("<bottom>",l)).toArray(),s4=(s,l)=>{const d=s.toLowerCase();return Wt(l,f=>{var b;const v=f.meta!==void 0&&f.meta.text!==void 0?f.meta.text:f.text,C=(b=f.value)!==null&&b!==void 0?b:"";return ti(v.toLowerCase(),d)||ti(C.toLowerCase(),d)})},D5=En("aria-invalid"),Z$=(s,l)=>{s.dom.checked=l},Qc=s=>s.dom.checked,vr=s=>(l,d,f,b,v)=>On(d,"name").fold(()=>s(d,b,R.none(),v),C=>l.field(C,s(d,b,On(f,C),v))),G$={bar:vr((s,l)=>((d,f)=>({dom:{tag:"div",classes:["tox-bar","tox-form__controls-h-stack"]},components:Me(d.items,f.interpreter)}))(s,l.shared)),collection:vr((s,l,d)=>TN(s,l.shared.providers,d)),alertbanner:vr((s,l)=>((d,f)=>{const b=aP(d.icon,f.icons);return ff.sketch({dom:{tag:"div",attributes:{role:"alert"},classes:["tox-notification","tox-notification--in",`tox-notification--${d.level}`]},components:[{dom:{tag:"div",classes:["tox-notification__icon"],innerHtml:d.url?void 0:b},components:d.url?[Ya.sketch({dom:{tag:"button",classes:["tox-button","tox-button--naked","tox-button--icon"],innerHtml:b,attributes:{title:f.translate(d.iconTooltip)}},action:v=>$n(v,mm,{name:"alert-banner",value:d.url}),buttonBehaviours:Jt([Y_()])})]:void 0},{dom:{tag:"div",classes:["tox-notification__body"],innerHtml:f.translate(d.text)}}]})})(s,l.shared.providers)),input:vr((s,l,d)=>((f,b,v)=>f5({name:f.name,multiline:!1,label:f.label,inputMode:f.inputMode,placeholder:f.placeholder,flex:!1,disabled:!f.enabled,classname:"tox-textfield",validation:R.none(),maximized:f.maximized,data:v},b))(s,l.shared.providers,d)),textarea:vr((s,l,d)=>((f,b,v)=>f5({name:f.name,multiline:!0,label:f.label,inputMode:R.none(),placeholder:f.placeholder,flex:!0,disabled:!f.enabled,classname:"tox-textarea",validation:R.none(),maximized:f.maximized,data:v},b))(s,l.shared.providers,d)),label:vr((s,l,d,f)=>((b,v,C)=>{const k="tox-label",E=b.align==="center"?[`${k}--center`]:[],P=b.align==="end"?[`${k}--end`]:[],F=Es({dom:{tag:"label",classes:[k,...E,...P]},components:[Fr(v.providers.translate(b.label))]}),M=Me(b.items,v.interpreter);return{dom:{tag:"div",classes:["tox-form__group"]},components:[F.asSpec(),...M],behaviours:Jt([Ag(),eo.config({}),(z=R.none(),A3(z,Qd,hh)),Hn.config({mode:"acyclic"}),Io("label",[ar(Y=>{b.for.each(te=>{C(te).each(me=>{F.getOpt(Y).each(pe=>{var Ae;const he=(Ae=Go(me.element,"id"))!==null&&Ae!==void 0?Ae:En("form-field");fn(me.element,"id",he),fn(pe.element,"for",he)})})})})])])};var z})(s,l.shared,f)),iframe:(k4=(s,l,d)=>((f,b,v)=>{const C="tox-dialog__iframe",k=f.transparent?[]:[`${C}--opaque`],E=f.border?["tox-navobj-bordered"]:[],P={...f.label.map(Y=>({title:Y})).getOr({}),...v.map(Y=>({srcdoc:Y})).getOr({}),...f.sandboxed?{sandbox:"allow-scripts allow-same-origin"}:{}},F=((Y,te)=>{const me=Kn(Y.getOr(""));return{getValue:pe=>me.get(),setValue:(pe,Ae)=>{if(me.get()!==Ae){const he=pe.element,ge=()=>fn(he,"srcdoc",Ae);te?$3.fold(j(F3),Ce=>Ce.throttle)(he,Ae,ge):ge()}me.set(Ae)}}})(v,f.streamContent),M=f.label.map(Y=>cb(Y,b)),z=Is.parts.field({factory:{sketch:Y=>D3(R.from(E),{uid:Y.uid,dom:{tag:"iframe",attributes:P,classes:[C,...k]},behaviours:Jt([qs.config({}),mo.config({}),x0(v,F.getValue,F.setValue),Ol.config({channels:{[jS]:{onReceive:(te,me)=>{me.newFocus.each(pe=>{Ra(te.element).each(Ae=>{(ms(te.element,pe)?kr:Ir)(Ae,"tox-navobj-bordered-focus")})})}}}})])})}});return Sw(M,z,["tox-form__group--stretched"],[])})(s,l.shared.providers,d),(s,l,d,f,b)=>{const v=Fs(l,{source:"dynamic"});return vr(k4)(s,v,d,f,b)}),button:vr((s,l)=>((d,f)=>{const b=n4(d.name,"custom");return v=R.none(),C=Is.parts.field({factory:Ya,...A5(d,R.some(b),f,[Rw(""),Ag()])}),Sw(v,C,[],[]);var v,C})(s,l.shared.providers)),checkbox:vr((s,l,d)=>((f,b,v)=>{const C=M=>(M.element.dom.click(),R.some(!0)),k=Is.parts.field({factory:{sketch:fe},dom:{tag:"input",classes:["tox-checkbox__input"],attributes:{type:"checkbox"}},behaviours:Jt([Ag(),ho.config({disabled:()=>!f.enabled||b.isDisabled(),onDisabled:M=>{Ra(M.element).each(z=>kr(z,"tox-checkbox--disabled"))},onEnabled:M=>{Ra(M.element).each(z=>Ir(z,"tox-checkbox--disabled"))}}),qs.config({}),mo.config({}),A3(v,Qc,Z$),Hn.config({mode:"special",onEnter:C,onSpace:C,stopSpaceKeyup:!0}),Io("checkbox-events",[Dt(Zm(),(M,z)=>{$n(M,pl,{name:f.name})})])])}),E=Is.parts.label({dom:{tag:"span",classes:["tox-checkbox__label"]},components:[Fr(b.translate(f.label))],behaviours:Jt([b0.config({})])}),P=M=>qc(M==="checked"?"selected":"unselected",{tag:"span",classes:["tox-icon","tox-checkbox-icon__"+M]},b.icons),F=Es({dom:{tag:"div",classes:["tox-checkbox__icons"]},components:[P("checked"),P("unchecked")]});return Is.sketch({dom:{tag:"label",classes:["tox-checkbox"]},components:[k,F.asSpec(),E],fieldBehaviours:Jt([ho.config({disabled:()=>!f.enabled||b.isDisabled()}),Fi()])})})(s,l.shared.providers,d)),colorinput:vr((s,l,d)=>((f,b,v,C)=>{const k=Is.parts.field({factory:Vh,inputClasses:["tox-textfield"],data:C,onSetValue:M=>_g.run(M).get(H),inputBehaviours:Jt([ho.config({disabled:b.providers.isDisabled}),Fi(),qs.config({}),_g.config({invalidClass:"tox-textbox-field-invalid",getRoot:M=>Ra(M.element),notify:{onValid:M=>{const z=ht.getValue(M);$n(M,o3,{color:z})}},validator:{validateOnLoad:!1,validate:M=>{const z=ht.getValue(M);if(z.length===0)return Cg(Ko.value(!0));{const Y=Di("span");wo(Y,"background-color",z);const te=ni(Y,"background-color").fold(()=>Ko.error("blah"),me=>Ko.value(z));return Cg(te)}}}})]),selectOnFocus:!1}),E=f.label.map(M=>cb(M,b.providers)),P=(M,z)=>{$n(M,s3,{value:z})},F=Es(((M,z)=>Dl.sketch({dom:M.dom,components:M.components,toggleClass:"mce-active",dropdownBehaviours:Jt([Ba(z.providers.isDisabled),Fi(),b0.config({}),qs.config({})]),layouts:M.layouts,sandboxClasses:["tox-dialog__popups"],lazySink:z.getSink,fetch:Y=>ab(te=>M.fetch(te)).map(te=>R.from(qT(Fs(h0(En("menu-value"),te,me=>{M.onItemAction(Y,me)},M.columns,M.presets,dm.CLOSE_ON_EXECUTE,xe,z.providers),{movement:yw(M.columns,M.presets)})))),parts:{menu:Q_(0,0,M.presets)}}))({dom:{tag:"span",attributes:{"aria-label":b.providers.translate("Color swatch")}},layouts:{onRtl:()=>[Pr,Dr,Zr],onLtr:()=>[Dr,Pr,Zr]},components:[],fetch:lN(v.getColors(f.storageKey),f.storageKey,v.hasCustomColors()),columns:v.getColorCols(f.storageKey),presets:"color",onItemAction:(M,z)=>{F.getOpt(M).each(Y=>{z==="custom"?v.colorPicker(te=>{te.fold(()=>Mo(Y,PN),me=>{P(Y,me),IT(f.storageKey,me)})},"#ffffff"):P(Y,z==="remove"?"":z)})}},b));return Is.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:E.toArray().concat([{dom:{tag:"div",classes:["tox-color-input"]},components:[k,F.asSpec()]}]),fieldBehaviours:Jt([Io("form-field-events",[Dt(o3,(M,z)=>{F.getOpt(M).each(Y=>{wo(Y.element,"background-color",z.event.color)}),$n(M,pl,{name:f.name})}),Dt(s3,(M,z)=>{Is.getField(M).each(Y=>{ht.setValue(Y,z.event.value),cs.getCurrent(M).each(mo.focus)})}),Dt(PN,(M,z)=>{Is.getField(M).each(Y=>{cs.getCurrent(M).each(mo.focus)})})])])})})(s,l.shared,l.colorinput,d)),colorpicker:vr((s,l,d)=>((f,b,v)=>{const C=P=>"tox-"+P,k=e5((P=>F=>h(F)?P.translate(O$[F]):P.translate(F))(b),C,b.tooltips.getConfig,(P,F,M=P,z=P)=>qc(M,{tag:"div",classes:["tox-icon","tox-control-wrap__status-icon-"+P],attributes:{title:b.translate(z),"aria-live":"polite",...F.fold(()=>({}),Y=>({id:Y}))}},b.icons)),E=Es(k.sketch({dom:{tag:"div",classes:[C("color-picker-container")],attributes:{role:"presentation"}},onValidHex:P=>{$n(P,mm,{name:"hex-valid",value:!0})},onInvalidHex:P=>{$n(P,mm,{name:"hex-valid",value:!1})}}));return{dom:{tag:"div"},components:[E.asSpec()],behaviours:Jt([x0(v,P=>{const F=E.get(P);return cs.getCurrent(F).bind(M=>ht.getValue(M).hex).map(M=>"#"+Ks(M,"#")).getOr("")},(P,F)=>{const M=R.from(/^#([a-fA-F0-9]{3}(?:[a-fA-F0-9]{3})?)/.exec(F)).bind(Y=>ke(Y,1)),z=E.get(P);cs.getCurrent(z).fold(()=>{console.log("Can not find form")},Y=>{ht.setValue(Y,{hex:M.getOr("")}),mb.getField(Y,"hex").each(te=>{Mo(te,jm())})})}),Ag()])}})(0,l.shared.providers,d)),dropzone:vr((s,l,d)=>((f,b,v)=>{const C=(te,me)=>{me.stop()},k=te=>(me,pe)=>{ft(te,Ae=>{Ae(me,pe)})},E=(te,me)=>{var pe;if(!ho.isDisabled(te)){const Ae=me.event.raw;F(te,(pe=Ae.dataTransfer)===null||pe===void 0?void 0:pe.files)}},P=(te,me)=>{const pe=me.event.raw.target;F(te,pe.files)},F=(te,me)=>{me&&(ht.setValue(te,((pe,Ae)=>{const he=Zh.explode(Ae.getOption("images_file_types"));return Wt(pt(pe),ge=>Sn(he,Ce=>Zu(ge.name.toLowerCase(),`.${Ce.toLowerCase()}`)))})(me,b)),$n(te,pl,{name:f.name}))},M=Es({dom:{tag:"input",attributes:{type:"file",accept:"image/*"},styles:{display:"none"}},behaviours:Jt([Io("input-file-events",[Gm(vi()),Gm(Bf())])])}),z=f.label.map(te=>cb(te,b)),Y=Is.parts.field({factory:{sketch:te=>({uid:te.uid,dom:{tag:"div",classes:["tox-dropzone-container"]},behaviours:Jt([Rw(v.getOr([])),Ag(),ho.config({}),ao.config({toggleClass:"dragenter",toggleOnExecute:!1}),Io("dropzone-events",[Dt("dragenter",k([C,ao.toggle])),Dt("dragleave",k([C,ao.toggle])),Dt("dragover",C),Dt("drop",k([C,E])),Dt(Zm(),P)])]),components:[{dom:{tag:"div",classes:["tox-dropzone"],styles:{}},components:[{dom:{tag:"p"},components:[Fr(b.translate("Drop an image here"))]},Ya.sketch({dom:{tag:"button",styles:{position:"relative"},classes:["tox-button","tox-button--secondary"]},components:[Fr(b.translate("Browse for an image")),M.asSpec()],action:me=>{M.get(me).element.dom.click()},buttonBehaviours:Jt([qs.config({}),Ba(b.isDisabled),Fi()])})]}]})}});return Sw(z,Y,["tox-form__group--stretched"],[])})(s,l.shared.providers,d)),grid:vr((s,l)=>((d,f)=>({dom:{tag:"div",classes:["tox-form__grid",`tox-form__grid--${d.columns}col`]},components:Me(d.items,f.interpreter)}))(s,l.shared)),listbox:vr((s,l,d)=>((f,b,v)=>{const C=Sn(f.items,z=>!Dw(z)),k=b.shared.providers,E=v.bind(z=>JS(f.items,z)).orThunk(()=>Ne(f.items).filter(Dw)),P=f.label.map(z=>cb(z,k)),F=Is.parts.field({dom:{},factory:{sketch:z=>H3({uid:z.uid,text:E.map(Y=>Y.text),icon:R.none(),tooltip:R.none(),role:fs(!C,"combobox"),...C?{}:{listRole:"listbox"},ariaLabel:f.label,fetch:(Y,te)=>{const me=XS(Y,f.name,f.items,ht.getValue(Y),C);te(w0(me,dm.CLOSE_ON_EXECUTE,b,{isHorizontalMenu:!1,search:R.none()}))},onSetup:j(H),getApi:j({}),columns:1,presets:"normal",classes:[],dropdownBehaviours:[qs.config({}),x0(E.map(Y=>Y.value),Y=>Go(Y.element,U3),(Y,te)=>{JS(f.items,te).each(me=>{fn(Y.element,U3,me.value),$n(Y,Du,{text:me.text})})})]},"tox-listbox",b.shared)}}),M={dom:{tag:"div",classes:["tox-listboxfield"]},components:[F]};return Is.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:Zt([P.toArray(),[M]]),fieldBehaviours:Jt([ho.config({disabled:j(!f.enabled),onDisabled:z=>{Is.getField(z).each(ho.disable)},onEnabled:z=>{Is.getField(z).each(ho.enable)}})])})})(s,l,d)),selectbox:vr((s,l,d)=>((f,b,v)=>{const C=Me(f.items,M=>({text:b.translate(M.text),value:M.value})),k=f.label.map(M=>cb(M,b)),E=Is.parts.field({dom:{},...v.map(M=>({data:M})).getOr({}),selectAttributes:{size:f.size},options:C,factory:D$,selectBehaviours:Jt([ho.config({disabled:()=>!f.enabled||b.isDisabled()}),qs.config({}),Io("selectbox-change",[Dt(Zm(),(M,z)=>{$n(M,pl,{name:f.name})})])])}),P=f.size>1?R.none():R.some(qc("chevron-down",{tag:"div",classes:["tox-selectfield__icon-js"]},b.icons)),F={dom:{tag:"div",classes:["tox-selectfield"]},components:Zt([[E],P.toArray()])};return Is.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:Zt([k.toArray(),[F]]),fieldBehaviours:Jt([ho.config({disabled:()=>!f.enabled||b.isDisabled(),onDisabled:M=>{Is.getField(M).each(ho.disable)},onEnabled:M=>{Is.getField(M).each(ho.enable)}}),Fi()])})})(s,l.shared.providers,d)),sizeinput:vr((s,l)=>((d,f)=>{let b=Z3;const v=En("ratio-event"),C=me=>qc(me,{tag:"span",classes:["tox-icon","tox-lock-icon__"+me]},f.icons),k=d.label.getOr("Constrain proportions"),E=f.translate(k),P=Jc.parts.lock({dom:{tag:"button",classes:["tox-lock","tox-button","tox-button--naked","tox-button--icon"],attributes:{"aria-label":E,"data-mce-name":k}},components:[C("lock"),C("unlock")],buttonBehaviours:Jt([ho.config({disabled:()=>!d.enabled||f.isDisabled()}),Fi(),qs.config({}),ii.config(f.tooltips.getConfig({tooltipText:E}))])}),F=me=>({dom:{tag:"div",classes:["tox-form__group"]},components:me}),M=me=>Is.parts.field({factory:Vh,inputClasses:["tox-textfield"],inputBehaviours:Jt([ho.config({disabled:()=>!d.enabled||f.isDisabled()}),Fi(),qs.config({}),Io("size-input-events",[Dt(Ss(),(pe,Ae)=>{$n(pe,v,{isField1:me})}),Dt(Zm(),(pe,Ae)=>{$n(pe,pl,{name:d.name})})])]),selectOnFocus:!1}),z=me=>({dom:{tag:"label",classes:["tox-label"]},components:[Fr(f.translate(me))]}),Y=Jc.parts.field1(F([Is.parts.label(z("Width")),M(!0)])),te=Jc.parts.field2(F([Is.parts.label(z("Height")),M(!1)]));return Jc.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:[{dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:[Y,te,F([z(""),P])]}],field1Name:"width",field2Name:"height",locked:!0,markers:{lockClass:"tox-locked"},onLockedChange:(me,pe,Ae)=>{K3(ht.getValue(me)).each(he=>{b(he).each(ge=>{ht.setValue(pe,(Ce=>{const Te={"":0,px:0,pt:1,mm:1,pc:2,ex:2,em:2,ch:2,rem:2,cm:3,in:4,"%":4};let Ie=Ce.value.toFixed((qe=Ce.unit)in Te?Te[qe]:1);var qe;return Ie.indexOf(".")!==-1&&(Ie=Ie.replace(/\.?0*$/,"")),Ie+Ce.unit})(ge))})})},coupledFieldBehaviours:Jt([ho.config({disabled:()=>!d.enabled||f.isDisabled(),onDisabled:me=>{Jc.getField1(me).bind(Is.getField).each(ho.disable),Jc.getField2(me).bind(Is.getField).each(ho.disable),Jc.getLock(me).each(ho.disable)},onEnabled:me=>{Jc.getField1(me).bind(Is.getField).each(ho.enable),Jc.getField2(me).bind(Is.getField).each(ho.enable),Jc.getLock(me).each(ho.enable)}}),Fi(),Io("size-input-events2",[Dt(v,(me,pe)=>{const Ae=pe.event.isField1,he=Ae?Jc.getField1(me):Jc.getField2(me),ge=Ae?Jc.getField2(me):Jc.getField1(me),Ce=he.map(ht.getValue).getOr(""),Te=ge.map(ht.getValue).getOr("");b=((Ie,qe)=>{const ct=K3(Ie).toOptional(),Nt=K3(qe).toOptional();return en(ct,Nt,(It,Tt)=>j3(It,Tt.unit).map(Gt=>Tt.value/Gt).map(Gt=>{return wn=Gt,Nn=Tt.unit,Zn=>j3(Zn,Nn).map(po=>({value:po*wn,unit:Nn}));var wn,Nn}).getOr(Z3)).getOr(Z3)})(Ce,Te)})])])})})(s,l.shared.providers)),slider:vr((s,l,d)=>((f,b,v)=>{const C=gf.parts.label({dom:{tag:"label",classes:["tox-label"]},components:[Fr(b.translate(f.label))]}),k=gf.parts.spectrum({dom:{tag:"div",classes:["tox-slider__rail"],attributes:{role:"presentation"}}}),E=gf.parts.thumb({dom:{tag:"div",classes:["tox-slider__handle"],attributes:{role:"presentation"}}});return gf.sketch({dom:{tag:"div",classes:["tox-slider"],attributes:{role:"presentation"}},model:{mode:"x",minX:f.min,maxX:f.max,getInitialValue:j(v.getOrThunk(()=>(Math.abs(f.max)-Math.abs(f.min))/2))},components:[C,k,E],sliderBehaviours:Jt([Ag(),mo.config({})]),onChoose:(P,F,M)=>{$n(P,pl,{name:f.name,value:M})},onChange:(P,F,M)=>{$n(P,pl,{name:f.name,value:M})}})})(s,l.shared.providers,d)),urlinput:vr((s,l,d)=>((f,b,v,C)=>{const k=b.shared.providers,E=he=>{const ge=ht.getValue(he);v.addToHistory(ge.value,f.filetype)},P={...C.map(he=>({initialData:he})).getOr({}),dismissOnBlur:!0,inputClasses:["tox-textfield"],sandboxClasses:["tox-dialog__popups"],inputAttributes:{"aria-errormessage":D5,type:"url"},minChars:0,responseTime:0,fetch:he=>{const ge=((Te,Ie,qe)=>{var ct,Nt;const It=ht.getValue(Ie),Tt=(Nt=(ct=It==null?void 0:It.meta)===null||ct===void 0?void 0:ct.text)!==null&&Nt!==void 0?Nt:It.value;return qe.getLinkInformation().fold(()=>[],Gt=>{const wn=s4(Tt,(Zn=>Me(Zn,po=>o4(po,po)))(qe.getHistory(Te)));return Te==="file"?(Nn=[wn,s4(Tt,K$(Gt)),s4(Tt,Zt([R5(Gt),j$(Gt),I5(Gt)]))],sn(Nn,(Zn,po)=>Zn.length===0||po.length===0?Zn.concat(po):Zn.concat(U$,po),[])):wn;var Nn})})(f.filetype,he,v),Ce=w0(ge,dm.BUBBLE_TO_SANDBOX,b,{isHorizontalMenu:!1,search:R.none()});return Cg(Ce)},getHotspot:he=>pe.getOpt(he),onSetValue:(he,ge)=>{he.hasConfigured(_g)&&_g.run(he).get(H)},typeaheadBehaviours:Jt([...v.getValidationHandler().map(he=>_g.config({getRoot:ge=>Ra(ge.element),invalidClass:"tox-control-wrap--status-invalid",notify:{onInvalid:(ge,Ce)=>{z.getOpt(ge).each(Te=>{fn(Te.element,"title",k.translate(Ce))})}},validator:{validate:ge=>{const Ce=ht.getValue(ge);return k5(Te=>{he({type:f.filetype,url:Ce.value},Ie=>{if(Ie.status==="invalid"){const qe=Ko.error(Ie.message);Te(qe)}else{const qe=Ko.value(Ie.message);Te(qe)}})})},validateOnLoad:!1}})).toArray(),ho.config({disabled:()=>!f.enabled||k.isDisabled()}),qs.config({}),Io("urlinput-events",[Dt(jm(),he=>{const ge=jf(he.element),Ce=ge.trim();Ce!==ge&&eg(he.element,Ce),f.filetype==="file"&&$n(he,pl,{name:f.name})}),Dt(Zm(),he=>{$n(he,pl,{name:f.name}),E(he)}),Dt(Dx(),he=>{$n(he,pl,{name:f.name}),E(he)})])]),eventOrder:{[jm()]:["streaming","urlinput-events","invalidating"]},model:{getDisplayText:he=>he.value,selectsOver:!1,populateFromBrowse:!1},markers:{openClass:"tox-textfield--popup-open"},lazySink:b.shared.getSink,parts:{menu:Q_(0,0,"normal")},onExecute:(he,ge,Ce)=>{$n(ge,kw,{})},onItemExecute:(he,ge,Ce,Te)=>{E(he),$n(he,pl,{name:f.name})}},F=Is.parts.field({...P,factory:H$}),M=f.label.map(he=>cb(he,k)),z=Es(((he,ge,Ce=he,Te=he)=>qc(Ce,{tag:"div",classes:["tox-icon","tox-control-wrap__status-icon-"+he],attributes:{title:k.translate(Te),"aria-live":"polite",...ge.fold(()=>({}),Ie=>({id:Ie}))}},k.icons))("invalid",R.some(D5),"warning")),Y=Es({dom:{tag:"div",classes:["tox-control-wrap__status-icon-wrap"]},components:[z.asSpec()]}),te=v.getUrlPicker(f.filetype),me=En("browser.url.event"),pe=Es({dom:{tag:"div",classes:["tox-control-wrap"]},components:[F,Y.asSpec()],behaviours:Jt([ho.config({disabled:()=>!f.enabled||k.isDisabled()})])}),Ae=Es(T5({name:f.name,icon:R.some("browse"),text:f.picker_text.or(f.label).getOr(""),enabled:f.enabled,primary:!1,buttonType:R.none(),borderless:!0},he=>Mo(he,me),k,[],["tox-browse-url"]));return Is.sketch({dom:wS([]),components:M.toArray().concat([{dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:Zt([[pe.asSpec()],te.map(()=>Ae.asSpec()).toArray()])}]),fieldBehaviours:Jt([ho.config({disabled:()=>!f.enabled||k.isDisabled(),onDisabled:he=>{Is.getField(he).each(ho.disable),Ae.getOpt(he).each(ho.disable)},onEnabled:he=>{Is.getField(he).each(ho.enable),Ae.getOpt(he).each(ho.enable)}}),Fi(),Io("url-input-events",[Dt(me,he=>{cs.getCurrent(he).each(ge=>{const Ce=ht.getValue(ge),Te={fieldname:f.name,...Ce};te.each(Ie=>{Ie(Te).get(qe=>{ht.setValue(ge,qe),$n(he,pl,{name:f.name})})})})})])])})})(s,l,l.urlinput,d)),customeditor:vr(s=>{const l=Rs(),d=Es({dom:{tag:s.tag}}),f=Rs(),b=!T3(s)&&s.onFocus.isSome()?[mo.config({onFocus:v=>{s.onFocus.each(C=>{C(v.element.dom)})}}),qs.config({})]:[];return{dom:{tag:"div",classes:["tox-custom-editor"]},behaviours:Jt([Io("custom-editor-events",[ar(v=>{d.getOpt(v).each(C=>{(T3(s)?s.init(C.element.dom):t5.load(s.scriptId,s.scriptUrl).then(k=>k(C.element.dom,s.settings))).then(k=>{f.on(E=>{k.setValue(E)}),f.clear(),l.set(k)})})})]),x0(R.none(),()=>l.get().fold(()=>f.get().getOr(""),v=>v.getValue()),(v,C)=>{l.get().fold(()=>f.set(C),k=>k.setValue(C))}),Ag()].concat(b)),components:[d.asSpec()]}}),htmlpanel:vr((s,l)=>((d,f)=>{const b=["tox-form__group",...d.stretched?["tox-form__group--stretched"]:[]],v=Io("htmlpanel",[ar(C=>{d.onInit(C.element.dom)})]);return d.presets==="presentation"?ff.sketch({dom:{tag:"div",classes:b,innerHtml:d.html},containerBehaviours:Jt([ii.config({...f.tooltips.getConfig({tooltipText:"",onShow:C=>{fr(C.element,"[data-mce-tooltip]:hover").orThunk(()=>Gr(C.element)).each(k=>{ns(k,"data-mce-tooltip").each(E=>{ii.setComponents(C,f.tooltips.getComponents({tooltipText:E}))})})}}),mode:"children-normal",anchor:C=>({type:"node",node:fr(C.element,"[data-mce-tooltip]:hover").orThunk(()=>Gr(C.element).filter(k=>ns(k,"data-mce-tooltip").isSome())),root:C.element,layouts:{onLtr:j([Zr,Er,Dr,si,Pr,$s]),onRtl:j([Zr,Er,Dr,si,Pr,$s])},bubble:mc(0,-2,{})})}),v])}):ff.sketch({dom:{tag:"div",classes:b,innerHtml:d.html,attributes:{role:"document"}},containerBehaviours:Jt([qs.config({}),mo.config({}),v])})})(s,l.shared.providers)),imagepreview:vr((s,l,d)=>((f,b)=>{const v=Kn(b.getOr({url:""})),C=Es({dom:{tag:"img",classes:["tox-imagepreview__image"],attributes:b.map(F=>({src:F.url})).getOr({})}}),k=Es({dom:{tag:"div",classes:["tox-imagepreview__container"],attributes:{role:"presentation"}},components:[C.asSpec()]}),E={};f.height.each(F=>E.height=F);const P=b.map(F=>({url:F.url,zoom:R.from(F.zoom),cachedWidth:R.from(F.cachedWidth),cachedHeight:R.from(F.cachedHeight)}));return{dom:{tag:"div",classes:["tox-imagepreview"],styles:E,attributes:{role:"presentation"}},components:[k.asSpec()],behaviours:Jt([Ag(),x0(P,()=>v.get(),(F,M)=>{const z={url:M.url};M.zoom.each(te=>z.zoom=te),M.cachedWidth.each(te=>z.cachedWidth=te),M.cachedHeight.each(te=>z.cachedHeight=te),v.set(z);const Y=()=>{const{cachedWidth:te,cachedHeight:me,zoom:pe}=z;if(!N(te)&&!N(me)){if(N(pe)){const he=((ge,Ce,Te)=>{const Ie=Pi(ge),qe=Tr(ge);return Math.min(Ie/Ce,qe/Te,1)})(F.element,te,me);z.zoom=he}const Ae=((he,ge,Ce,Te,Ie)=>{const qe=Ce*Ie,ct=Te*Ie,Nt=Math.max(0,he/2-qe/2),It=Math.max(0,ge/2-ct/2);return{left:Nt.toString()+"px",top:It.toString()+"px",width:qe.toString()+"px",height:ct.toString()+"px"}})(Pi(F.element),Tr(F.element),te,me,z.zoom);k.getOpt(F).each(he=>{rl(he.element,Ae)})}};C.getOpt(F).each(te=>{const me=te.element;var pe;M.url!==Go(me,"src")&&(fn(me,"src",M.url),Ir(F.element,"tox-imagepreview__loaded")),Y(),(pe=me,new Promise((Ae,he)=>{const ge=()=>{Te(),Ae(pe)},Ce=[Ga(pe,"load",ge),Ga(pe,"error",()=>{Te(),he("Unable to load data from image: "+pe.dom.src)})],Te=()=>ft(Ce,Ie=>Ie.unbind());pe.dom.complete&&ge()})).then(Ae=>{F.getSystem().isConnected()&&(kr(F.element,"tox-imagepreview__loaded"),z.cachedWidth=Ae.dom.naturalWidth,z.cachedHeight=Ae.dom.naturalHeight,Y())})})})])}})(s,d)),table:vr((s,l)=>((d,f)=>{const b=k=>({dom:{tag:"td",innerHtml:f.translate(k)}});return{dom:{tag:"table",classes:["tox-dialog__table"]},components:[(C=d.header,{dom:{tag:"thead"},components:[{dom:{tag:"tr"},components:Me(C,k=>({dom:{tag:"th",innerHtml:f.translate(k)}}))}]}),(v=d.cells,{dom:{tag:"tbody"},components:Me(v,k=>({dom:{tag:"tr"},components:Me(k,b)}))})],behaviours:Jt([qs.config({}),mo.config({})])};var v,C})(s,l.shared.providers)),tree:vr((s,l)=>((d,f)=>{const b=d.onLeafAction.getOr(H),v=d.onToggleExpand.getOr(H),C=d.defaultExpandedIds,k=Kn(C),E=Kn(d.defaultSelectedId),P=En("tree-id"),F=(M,z)=>d.items.map(Y=>Y.type==="leaf"?X3({leaf:Y,selectedId:M,onLeafAction:b,visible:!0,treeId:P,backstage:f}):ek({directory:Y,selectedId:M,onLeafAction:b,expandedIds:z,labelTabstopping:!0,treeId:P,backstage:f}));return{dom:{tag:"div",classes:["tox-tree"],attributes:{role:"tree"}},components:F(E.get(),k.get()),behaviours:Jt([Hn.config({mode:"flow",selector:".tox-tree--leaf__label--visible, .tox-tree--directory__label--visible",cycles:!1}),Io(B$,[Dt("expand-tree-node",(M,z)=>{const{expanded:Y,node:te}=z.event;k.set(Y?[...k.get(),te]:k.get().filter(me=>me!==te)),v(k.get(),{expanded:Y,node:te})})]),Ol.config({channels:{[`update-active-item-${P}`]:{onReceive:(M,z)=>{E.set(R.some(z.value)),eo.set(M,F(R.some(z.value),k.get()))}}}}),eo.config({})])}})(s,l)),panel:vr((s,l)=>((d,f)=>({dom:{tag:"div",classes:d.classes},components:Me(d.items,f.shared.interpreter)}))(s,l))},r4={field:(s,l)=>l,record:j([])},ok=(s,l,d,f,b)=>{const v=Fs(f,{shared:{interpreter:C=>i4(s,C,d,v,b)}});return i4(s,l,d,v,b)},i4=(s,l,d,f,b)=>On(G$,l.type).fold(()=>(console.error(`Unknown factory type "${l.type}", defaulting to container: `,l),l),v=>v(s,l,d,f,b)),P5=(s,l,d,f)=>i4(r4,s,l,d,f),hf="layout-inset",My=s=>s.x,sk=(s,l)=>s.x+s.width/2-l.width/2,a4=(s,l)=>s.x+s.width-l.width,_d=s=>s.y,l4=(s,l)=>s.y+s.height-l.height,N5=(s,l)=>s.y+s.height/2-l.height/2,bc=(s,l,d)=>ya(a4(s,l),l4(s,l),d.insetSouthwest(),kh(),"southwest",xa(s,{right:0,bottom:3}),hf),yb=(s,l,d)=>ya(My(s),l4(s,l),d.insetSoutheast(),Cv(),"southeast",xa(s,{left:1,bottom:3}),hf),vc=(s,l,d)=>ya(a4(s,l),_d(s),d.insetNorthwest(),Sh(),"northwest",xa(s,{right:0,top:2}),hf),Mw=(s,l,d)=>ya(My(s),_d(s),d.insetNortheast(),wv(),"northeast",xa(s,{left:1,top:2}),hf),us=(s,l,d)=>ya(sk(s,l),_d(s),d.insetNorth(),n_(),"north",xa(s,{top:2}),hf),Tg=(s,l,d)=>ya(sk(s,l),l4(s,l),d.insetSouth(),n2(),"south",xa(s,{bottom:3}),hf),Bw=(s,l,d)=>ya(a4(s,l),N5(s,l),d.insetEast(),o_(),"east",xa(s,{right:0}),hf),c4=(s,l,d)=>ya(My(s),N5(s,l),d.insetWest(),o2(),"west",xa(s,{left:1}),hf),u4=s=>{switch(s){case"north":return us;case"northeast":return Mw;case"northwest":return vc;case"south":return Tg;case"southeast":return yb;case"southwest":return bc;case"east":return Bw;case"west":return c4}},rk=(s,l,d,f,b)=>Ov(f).map(u4).getOr(us)(s,l,d,f,b),q$=s=>{switch(s){case"north":return Tg;case"northeast":return yb;case"northwest":return bc;case"south":return us;case"southeast":return Mw;case"southwest":return vc;case"east":return c4;case"west":return Bw}},d4=(s,l,d,f,b)=>Ov(f).map(q$).getOr(us)(s,l,d,f,b),Fw={valignCentre:[],alignCentre:[],alignLeft:[],alignRight:[],right:[],left:[],bottom:[],top:[]},L5=(s,l,d)=>{const f={maxHeightFunction:Oh()};return()=>d()?{type:"node",root:ot(bt(s())),node:R.from(s()),bubble:mc(12,12,Fw),layouts:{onRtl:()=>[Mw],onLtr:()=>[vc]},overrides:f}:{type:"hotspot",hotspot:l(),bubble:mc(-12,12,Fw),layouts:{onRtl:()=>[Dr,Pr,Zr],onLtr:()=>[Pr,Dr,Zr]},overrides:f}},M5=(s,l,d,f)=>{const b={maxHeightFunction:Oh()};return()=>f()?{type:"node",root:ot(bt(l())),node:R.from(l()),bubble:mc(12,12,Fw),layouts:{onRtl:()=>[us],onLtr:()=>[us]},overrides:b}:s?{type:"node",root:ot(bt(l())),node:R.from(l()),bubble:mc(0,-Oc(l()),Fw),layouts:{onRtl:()=>[Er],onLtr:()=>[Er]},overrides:b}:{type:"hotspot",hotspot:d(),bubble:mc(0,0,Fw),layouts:{onRtl:()=>[Er],onLtr:()=>[Er]},overrides:b}},f4=(s,l,d)=>()=>d()?{type:"node",root:ot(bt(s())),node:R.from(s()),layouts:{onRtl:()=>[us],onLtr:()=>[us]}}:{type:"hotspot",hotspot:l(),layouts:{onRtl:()=>[Zr],onLtr:()=>[Zr]}},B5=(s,l)=>()=>({type:"selection",root:l(),getSelection:()=>{const d=s.selection.getRng(),f=s.model.table.getSelectedCells();if(f.length>1){const b=f[0],v=f[f.length-1],C={firstCell:mn(b),lastCell:mn(v)};return R.some(C)}return R.some(Qf.range(mn(d.startContainer),d.startOffset,mn(d.endContainer),d.endOffset))}}),ik=s=>l=>({type:"node",root:s(),node:l}),Y$=(s,l,d,f)=>{const b=o0(s),v=()=>mn(s.getBody()),C=()=>mn(s.getContentAreaContainer()),k=()=>b||!f();return{inlineDialog:L5(C,l,k),inlineBottomDialog:M5(s.inline,C,d,k),banner:f4(C,l,k),cursor:B5(s,v),node:ik(v)}},X$=s=>(l,d)=>{uN(s)(l,d)},J$=s=>()=>LT(s),Q$=s=>l=>g0(s,l),eV=s=>l=>NT(s,l),F5=s=>()=>cm(s),$5=s=>Do(s,"items"),V5=s=>Do(s,"format"),m4=[{title:"Headings",items:[{title:"Heading 1",format:"h1"},{title:"Heading 2",format:"h2"},{title:"Heading 3",format:"h3"},{title:"Heading 4",format:"h4"},{title:"Heading 5",format:"h5"},{title:"Heading 6",format:"h6"}]},{title:"Inline",items:[{title:"Bold",format:"bold"},{title:"Italic",format:"italic"},{title:"Underline",format:"underline"},{title:"Strikethrough",format:"strikethrough"},{title:"Superscript",format:"superscript"},{title:"Subscript",format:"subscript"},{title:"Code",format:"code"}]},{title:"Blocks",items:[{title:"Paragraph",format:"p"},{title:"Blockquote",format:"blockquote"},{title:"Div",format:"div"},{title:"Pre",format:"pre"}]},{title:"Align",items:[{title:"Left",format:"alignleft"},{title:"Center",format:"aligncenter"},{title:"Right",format:"alignright"},{title:"Justify",format:"alignjustify"}]}],g4=s=>sn(s,(l,d)=>{if(vo(d,"items")){const f=g4(d.items);return{customFormats:l.customFormats.concat(f.customFormats),formats:l.formats.concat([{title:d.title,items:f.formats}])}}if(vo(d,"inline")||(f=>vo(f,"block"))(d)||(f=>vo(f,"selector"))(d)){const f=`custom-${h(d.name)?d.name:d.title.toLowerCase()}`;return{customFormats:l.customFormats.concat([{name:f,format:d}]),formats:l.formats.concat([{title:d.title,format:f,icon:d.icon}])}}return{...l,formats:l.formats.concat(d)}},{customFormats:[],formats:[]}),z5=s=>hy(s).map(l=>{const d=((f,b)=>{const v=g4(b),C=k=>{ft(k,E=>{f.formatter.has(E.name)||f.formatter.register(E.name,E.format)})};return f.formatter?C(v.customFormats):f.on("init",()=>{C(v.customFormats)}),v.formats})(s,l);return P_(s)?m4.concat(d):d}).getOr(m4),H5=(s,l,d)=>({...s,type:"formatter",isSelected:l(s.format),getStylePreview:d(s.format)}),h4=(s,l,d,f)=>{const b=v=>Me(v,C=>$5(C)?(k=>{const E=b(k.items);return{...k,type:"submenu",getStyleItems:j(E)}})(C):V5(C)?(k=>H5(k,d,f))(C):(k=>{const E=jt(k);return E.length===1&&dt(E,"title")})(C)?{...C,type:"separator"}:(k=>{const E=h(k.name)?k.name:En(k.title),P=`custom-${E}`,F={...k,type:"formatter",format:P,isSelected:d(P),getStylePreview:f(P)};return s.formatter.register(E,F),F})(C));return b(l)},p4=s=>{let l=0;const d=f=>[{dom:{tag:"div",classes:["tox-tooltip__body"]},components:[Fr(f.tooltipText)]}];return{getConfig:f=>({delayForShow:()=>l>0?60:300,delayForHide:j(300),exclusive:!0,lazySink:s,tooltipDom:{tag:"div",classes:["tox-tooltip","tox-tooltip--up"]},tooltipComponents:d(f),onShow:(b,v)=>{l++,f.onShow&&f.onShow(b,v)},onHide:(b,v)=>{l--,f.onHide&&f.onHide(b,v)},onSetup:f.onSetup}),getComponents:d}},U5=Zh.trim,W5=s=>l=>!!((d=>U(d)&&d.nodeType===1)(l)&&(l.contentEditable===s||l.getAttribute("data-mce-contenteditable")===s)),tV=W5("true"),nV=W5("false"),K5=(s,l,d,f,b)=>({type:s,title:l,url:d,level:f,attach:b}),j5=s=>s.innerText||s.textContent,oV=s=>(l=>l&&l.nodeName==="A"&&(l.id||l.name)!==void 0)(s)&&Sd(s),b4=s=>s&&/^(H[1-6])$/.test(s.nodeName),Sd=s=>(l=>{let d=l;for(;d=d.parentNode;){const f=d.contentEditable;if(f&&f!=="inherit")return tV(d)}return!1})(s)&&!nV(s),sV=s=>b4(s)&&Sd(s),v4=s=>{var l;const d=(f=>f.id?f.id:En("h"))(s);return K5("header",(l=j5(s))!==null&&l!==void 0?l:"","#"+d,(f=>b4(f)?parseInt(f.nodeName.substr(1),10):0)(s),()=>{s.id=d})},Z5=s=>{const l=s.id||s.name,d=j5(s);return K5("anchor",d||"#"+l,"#"+l,0,H)},G5=s=>U5(s.title).length>0,rV=s=>{const l=(d=>Me(Ai(mn(d),"h1,h2,h3,h4,h5,h6,a:not([href])"),b=>b.dom))(s);return Wt((d=>Me(Wt(d,sV),v4))(l).concat((d=>Me(Wt(d,oV),Z5))(l)),G5)},$w="tinymce-url-history",y4=s=>h(s)&&/^https?/.test(s),x4=s=>x(s)&&_s(s,l=>{return!(I(d=l)&&d.length<=5&&Ke(d,y4));var d}).isNone(),q5=()=>{const s=Xc.getItem($w);if(s===null)return{};let l;try{l=JSON.parse(s)}catch(d){if(d instanceof SyntaxError)return console.log("Local storage "+$w+" was not valid JSON",d),{};throw d}return x4(l)?l:(console.log("Local storage "+$w+" was not valid format",l),{})},iV=s=>{const l=q5();return On(l,s).getOr([])},aV=(s,l)=>{if(!y4(s))return;const d=q5(),f=On(d,l).getOr([]),b=Wt(f,v=>v!==s);d[l]=[s].concat(b).slice(0,5),(v=>{if(!x4(v))throw new Error(`Bad format for history:
`+JSON.stringify(v));Xc.setItem($w,JSON.stringify(v))})(d)},Y5=s=>!!s,lV=s=>oo(Zh.makeMap(s,/[, ]/),Y5),ak=s=>R.from(L_(s)),w4=s=>R.from(s).filter(h).getOrUndefined(),X5=s=>({getHistory:iV,addToHistory:aV,getLinkInformation:()=>(l=>M_(l)?R.some({targets:rV(l.getBody()),anchorTop:w4(VD(l)),anchorBottom:w4(zD(l))}):R.none())(s),getValidationHandler:()=>(l=>R.from(U2(l)))(s),getUrlPicker:l=>((d,f)=>((b,v)=>{const C=(k=>{const E=R.from(W2(k)).filter(Y5).map(lV);return ak(k).fold(xe,P=>E.fold(_e,F=>jt(F).length>0&&F))})(b);return O(C)?C?ak(b):R.none():C[v]?ak(b):R.none()})(d,f).map(b=>v=>ab(C=>{const k={filetype:f,fieldname:v.fieldname,...R.from(v.meta).getOr({})};b.call(d,(E,P)=>{if(!h(E))throw new Error("Expected value to be string");if(P!==void 0&&!x(P))throw new Error("Expected meta to be a object");C({value:E,meta:P})},v.value,k)})))(s,l)}),_a=y8,Og=TI,cV=j([mt("shell",!1),Ft("makeItem"),mt("setupItem",H),go("listBehaviours",[eo])]),By=ku({name:"items",overrides:()=>({behaviours:Jt([eo.config({})])})}),uV=j([By]),C4=Ul({name:j("CustomList")(),configFields:cV(),partFields:uV(),factory:(s,l,d,f)=>{const b=s.shell?{behaviours:[eo.config({})],components:[]}:{behaviours:[],components:l};return{uid:s.uid,dom:s.dom,components:b.components,behaviours:Ro(s.listBehaviours,b.behaviours),apis:{setItems:(v,C)=>{var k;(k=v,s.shell?R.some(k):Qs(k,s,"items")).fold(()=>{throw console.error("Custom List was defined to not be a shell, but no item container was specified in components"),new Error("Custom List was defined to not be a shell, but no item container was specified in components")},E=>{const P=eo.contents(E),F=C.length,M=F-P.length,z=M>0?Et(M,()=>s.makeItem()):[],Y=P.slice(F);ft(Y,me=>eo.remove(E,me)),ft(z,me=>eo.append(E,me));const te=eo.contents(E);ft(te,(me,pe)=>{s.setupItem(v,me,C[pe],pe)})})}}}},apis:{setItems:(s,l,d)=>{s.setItems(l,d)}}}),_0=j([Ft("dom"),mt("shell",!0),An("toolbarBehaviours",[eo])]),J5=j([ku({name:"groups",overrides:()=>({behaviours:Jt([eo.config({})])})})]),pf=Ul({name:"Toolbar",configFields:_0(),partFields:J5(),factory:(s,l,d,f)=>{const b=s.shell?{behaviours:[eo.config({})],components:[]}:{behaviours:[],components:l};return{uid:s.uid,dom:s.dom,components:b.components,behaviours:Ro(s.toolbarBehaviours,b.behaviours),apis:{setGroups:(v,C)=>{var k;(k=v,s.shell?R.some(k):Qs(k,s,"groups")).fold(()=>{throw console.error("Toolbar was defined to not be a shell, but no groups container was specified in components"),new Error("Toolbar was defined to not be a shell, but no groups container was specified in components")},E=>{eo.set(E,C)})},refresh:H},domModification:{attributes:{role:"group"}}}},apis:{setGroups:(s,l,d)=>{s.setGroups(l,d)}}}),_4=H,S4=xe,lk=j([]);var k4,dV=Object.freeze({__proto__:null,setup:_4,isDocked:S4,getBehaviours:lk});const ck=j(En("toolbar-height-change")),Rg={fadeInClass:"tox-editor-dock-fadein",fadeOutClass:"tox-editor-dock-fadeout",transitionClass:"tox-editor-dock-transition"},Q5="tox-tinymce--toolbar-sticky-on",eL="tox-tinymce--toolbar-sticky-off",Vw=(s,l)=>dt(dr.getModes(s),l),uk=s=>{const l=s.element;Ra(l).each(d=>{const f="padding-"+dr.getModes(s)[0];if(dr.isDocked(s)){const b=Pi(d);wo(l,"width",b+"px"),wo(d,f,(v=>Oc(v)+(parseInt(Ar(v,"margin-top"),10)||0)+(parseInt(Ar(v,"margin-bottom"),10)||0))(l)+"px")}else As(l,"width"),As(d,f)})},E4=(s,l)=>{l?(Ir(s,Rg.fadeOutClass),jr(s,[Rg.transitionClass,Rg.fadeInClass])):(Ir(s,Rg.fadeInClass),jr(s,[Rg.fadeOutClass,Rg.transitionClass]))},tL=(s,l)=>{const d=mn(s.getContainer());l?(kr(d,Q5),Ir(d,eL)):(kr(d,eL),Ir(d,Q5))},nL=(s,l)=>{const d=Rs(),f=l.getSink,b=k=>{f().each(E=>k(E.element))},v=k=>{s.inline||uk(k),tL(s,dr.isDocked(k)),k.getSystem().broadcastOn([W()],{}),f().each(E=>E.getSystem().broadcastOn([W()],{}))},C=s.inline?[]:[Ol.config({channels:{[ck()]:{onReceive:uk}}})];return[mo.config({}),dr.config({contextual:{lazyContext:k=>{const E=Oc(k.element),P=s.inline?s.getContentAreaContainer():s.getContainer();return R.from(P).map(F=>{const M=ui(mn(F));return Qp(s,k.element).fold(()=>{const z=M.height-E,Y=M.y+(Vw(k,"top")?0:E);return Fo(M.x,Y,M.width,z)},z=>{const Y=Kd(M,eb(z)),te=Vw(k,"top")?Y.y:Y.y+E;return Fo(Y.x,te,Y.width,Y.height-E)})})},onShow:()=>{b(k=>E4(k,!0))},onShown:k=>{b(E=>fc(E,[Rg.transitionClass,Rg.fadeInClass])),d.get().each(E=>{((P,F)=>{const M=ci(F);wu(M).filter(z=>!ms(F,z)).filter(z=>ms(z,mn(M.dom.body))||Lr(P,z)).each(()=>Za(F))})(k.element,E),d.clear()})},onHide:k=>{((E,P)=>Gr(E).orThunk(()=>P().toOptional().bind(F=>Gr(F.element))))(k.element,f).fold(d.clear,d.set),b(E=>E4(E,!1))},onHidden:()=>{b(k=>fc(k,[Rg.transitionClass]))},...Rg},lazyViewport:k=>Qp(s,k.element).fold(()=>{const E=qi(),P=KA(s),F=E.y+(Vw(k,"top")?P:0),M=E.height-(Vw(k,"bottom")?P:0);return{bounds:Fo(E.x,F,E.width,M),optScrollEnv:R.none()}},E=>({bounds:eb(E),optScrollEnv:R.some({currentScrollTop:E.element.dom.scrollTop,scrollElmTop:Vl(E.element).top})})),modes:[l.header.getDockingMode()],onDocked:v,onUndocked:v}),...C]};var fV=Object.freeze({__proto__:null,setup:(s,l,d)=>{s.inline||(l.header.isPositionedAtTop()||s.on("ResizeEditor",()=>{d().each(dr.reset)}),s.on("ResizeWindow ResizeEditor",()=>{d().each(uk)}),s.on("SkinLoaded",()=>{d().each(f=>{dr.isDocked(f)?dr.reset(f):dr.refresh(f)})}),s.on("FullscreenStateChanged",()=>{d().each(dr.reset)})),s.on("AfterScrollIntoView",f=>{d().each(b=>{dr.refresh(b);const v=b.element;tD(v)&&((C,k)=>{const E=ci(k),P=ru(k).dom.innerHeight,F=nr(E),M=mn(C.elm),z=kl(M),Y=Tr(M),te=z.y,me=te+Y,pe=Vl(k),Ae=Tr(k),he=pe.top,ge=he+Ae,Ce=Math.abs(he-F.top)<2,Te=Math.abs(ge-(F.top+P))<2;if(Ce&&te<ge)Df(F.left,te-Ae,E);else if(Te&&me>he){const Ie=te-P+Y+Ae;Df(F.left,Ie,E)}})(f,v)})}),s.on("PostRender",()=>{tL(s,!1)})},isDocked:s=>s().map(dr.isDocked).getOr(!1),getBehaviours:nL});const mV=Yn([xi,Xi("items",Hm([nd([uT,cl("items",ki)]),ki]))].concat(wg)),gV=[Br("text"),Br("tooltip"),Br("icon"),Ka("search",!1,Hm([cc,Yn([Br("placeholder")])],s=>O(s)?s?R.some({placeholder:R.none()}):R.none():R.some(s))),Wa("fetch"),or("onSetup",()=>H)],oL=Yn([xi,...gV]),sL=s=>Cr("menubutton",oL,s),hV=Yn([xi,dw,bd,rb,hT,A7,sb,Pc("presets","normal",["normal","color","listpreview"]),AP(1),vy,EP]);var A4=Eu({factory:(s,l)=>{const d={focus:Hn.focusIn,setMenus:(f,b)=>{const v=Me(b,C=>{const k={type:"menubutton",text:C.text,fetch:P=>{P(C.getItems())}},E=sL(k).mapError(P=>ll(P)).getOrDie();return Ny(E,"tox-mbtn",l.backstage,R.some("menuitem"))});eo.set(f,v)}};return{uid:s.uid,dom:s.dom,components:[],behaviours:Jt([eo.config({}),Io("menubar-events",[ar(f=>{s.onSetup(f)}),Dt(Fn(),(f,b)=>{fr(f.element,".tox-mbtn--active").each(v=>{ud(b.event.target,".tox-mbtn").each(C=>{ms(v,C)||f.getSystem().getByDom(v).each(k=>{f.getSystem().getByDom(C).each(E=>{Dl.expand(E),Dl.close(k),mo.focus(E)})})})})}),Dt(y1(),(f,b)=>{b.event.prevFocus.bind(v=>f.getSystem().getByDom(v).toOptional()).each(v=>{b.event.newFocus.bind(C=>f.getSystem().getByDom(C).toOptional()).each(C=>{Dl.isOpen(v)&&(Dl.expand(C),Dl.close(v))})})})]),Hn.config({mode:"flow",selector:".tox-mbtn",onEscape:f=>(s.onEscape(f),R.some(!0))}),qs.config({})]),apis:d,domModification:{attributes:{role:"menubar"}}}},name:"silver.Menubar",configFields:[Ft("dom"),Ft("uid"),Ft("onEscape"),Ft("backstage"),mt("onSetup",H)],apis:{focus:(s,l)=>{s.focus(l)},setMenus:(s,l,d)=>{s.setMenus(l,d)}}});const rL="container",pV=[An("slotBehaviours",[])],T4=s=>"<alloy.field."+s+">",bV=(s,l)=>{const d=F=>DI(s),f=(F,M)=>(z,Y)=>Qs(z,s,Y).map(te=>F(te,Y)).getOr(M),b=(F,M)=>Go(F.element,"aria-hidden")!=="true",v=f(b,!1),C=f((F,M)=>{if(b(F)){const z=F.element;wo(z,"display","none"),fn(z,"aria-hidden","true"),$n(F,bu(),{name:M,visible:!1})}}),k=(F=>(M,z)=>{ft(z,Y=>F(M,Y))})(C),E=f((F,M)=>{if(!b(F)){const z=F.element;As(z,"display"),Lo(z,"aria-hidden"),$n(F,bu(),{name:M,visible:!0})}}),P={getSlotNames:d,getSlot:(F,M)=>Qs(F,s,M),isShowing:v,hideSlot:C,hideAllSlots:F=>k(F,d()),showSlot:E};return{uid:s.uid,dom:s.dom,components:l,behaviours:ro(s.slotBehaviours),apis:P}},vV=oo({getSlotNames:(s,l)=>s.getSlotNames(l),getSlot:(s,l,d)=>s.getSlot(l,d),isShowing:(s,l,d)=>s.isShowing(l,d),hideSlot:(s,l,d)=>s.hideSlot(l,d),hideAllSlots:(s,l)=>s.hideAllSlots(l),showSlot:(s,l,d)=>s.showSlot(l,d)},s=>P1(s)),Pl={...vV,sketch:s=>{const l=(()=>{const v=[];return{slot:(C,k)=>(v.push(C),cA(rL,T4(C),k)),record:j(v)}})(),d=s(l),f=l.record(),b=Me(f,v=>Il({name:v,pname:T4(v)}));return S2(rL,pV,b,bV,d)}},yV=Yn([bd,dw,or("onShow",H),or("onHide",H),sb]),xV=s=>({element:()=>s.element.dom}),dk=(s,l)=>{const d=Me(jt(l),f=>{const b=l[f],v=Ua((C=>Cr("sidebar",yV,C))(b));return{name:f,getApi:xV,onSetup:v.onSetup,onShow:v.onShow,onHide:v.onHide}});return Me(d,f=>{const b=Kn(H);return s.slot(f.name,{dom:{tag:"div",classes:["tox-sidebar__pane"]},behaviours:mw([ib(f,b),zh(f,b),Dt(bu(),(v,C)=>{const k=C.event;J(d,P=>P.name===k.name).each(P=>{(k.visible?P.onShow:P.onHide)(P.getApi(v))})})])})})},iL=s=>Pl.sketch(l=>({dom:{tag:"div",classes:["tox-sidebar__pane-container"]},components:dk(l,s),slotBehaviours:mw([ar(d=>Pl.hideAllSlots(d))])})),fk=(s,l)=>{fn(s,"role",l)},wV=s=>cs.getCurrent(s).bind(l=>tc.isGrowing(l)||tc.hasGrown(l)?cs.getCurrent(l).bind(d=>J(Pl.getSlotNames(d),f=>Pl.isShowing(d,f))):R.none()),O4=En("FixSizeEvent"),R4=En("AutoSizeEvent");var CV=Object.freeze({__proto__:null,block:(s,l,d,f)=>{fn(s.element,"aria-busy",!0);const b=l.getRoot(s).getOr(s),v=Jt([Hn.config({mode:"special",onTab:()=>R.some(!0),onShiftTab:()=>R.some(!0)}),mo.config({})]),C=f(b,v),k=b.getSystem().build(C);eo.append(b,dl(k)),k.hasConfigured(Hn)&&l.focus&&Hn.focusIn(k),d.isBlocked()||l.onBlock(s),d.blockWith(()=>eo.remove(b,k))},unblock:(s,l,d)=>{Lo(s.element,"aria-busy"),d.isBlocked()&&l.onUnblock(s),d.clear()},isBlocked:(s,l,d)=>d.isBlocked()}),_V=[or("getRoot",R.none),oi("focus",!0),rs("onBlock"),rs("onUnblock")];const kd=Bi({fields:_V,name:"blocking",apis:CV,state:Object.freeze({__proto__:null,init:()=>{const s=Rc(l=>l.destroy());return Mi({readState:s.isSet,blockWith:l=>{s.set({destroy:l})},clear:s.clear,isBlocked:s.isSet})}})}),I4=s=>cs.getCurrent(s).each(l=>Za(l.element,!0)),aL=(s,l,d)=>{const f=Kn(!1),b=Rs(),v=k=>{var E;f.get()&&(!(P=>P.type==="focusin")(E=k)||!(E.composed?Ne(E.composedPath()):R.from(E.target)).map(mn).filter(lr).exists(P=>ul(P,"mce-pastebin")))&&(k.preventDefault(),I4(l()),s.editorManager.setActive(s))};s.inline||s.on("PreInit",()=>{s.dom.bind(s.getWin(),"focusin",v),s.on("BeforeExecCommand",k=>{k.command.toLowerCase()==="mcefocus"&&k.value!==!0&&v(k)})});const C=k=>{k!==f.get()&&(f.set(k),((E,P,F,M)=>{const z=P.element;if(((Y,te)=>{const me="tabindex",pe=`data-mce-${me}`;R.from(Y.iframeElement).map(mn).each(Ae=>{te?(ns(Ae,me).each(he=>fn(Ae,pe,he)),fn(Ae,me,-1)):(Lo(Ae,me),ns(Ae,pe).each(he=>{fn(Ae,me,he),Lo(Ae,pe)}))})})(E,F),F)kd.block(P,(Y=>(te,me)=>({dom:{tag:"div",attributes:{"aria-label":Y.translate("Loading..."),tabindex:"0"},classes:["tox-throbber__busy-spinner"]},components:[{dom:bg('<div class="tox-spinner"><div></div><div></div><div></div></div>')}]}))(M)),As(z,"display"),Lo(z,"aria-hidden"),E.hasFocus()&&I4(P);else{const Y=cs.getCurrent(P).exists(te=>Th(te.element));kd.unblock(P),wo(z,"display","none"),fn(z,"aria-hidden","true"),Y&&E.focus()}})(s,l(),k,d.providers),((E,P)=>{E.dispatch("AfterProgressState",{state:P})})(s,k))};s.on("ProgressState",k=>{if(b.on(clearTimeout),ee(k.time)){const E=I_.setEditorTimeout(s,()=>C(k.state),k.time);b.set(E)}else C(k.state),b.clear()})},D4=(s,l,d)=>({within:s,extra:l,withinWidth:d}),P4=(s,l,d)=>{const f=sn(s,(C,k)=>((E,P)=>{const F=d(E);return R.some({element:E,start:P,finish:P+F,width:F})})(k,C.len).fold(j(C),E=>({len:E.finish,list:C.list.concat([E])})),{len:0,list:[]}).list,b=Wt(f,C=>C.finish<=l),v=In(b,(C,k)=>C+k.width,0);return{within:b,extra:f.slice(b.length),withinWidth:v}},mk=s=>Me(s,l=>l.element),lL=(s,l)=>{const d=Me(l,f=>dl(f));pf.setGroups(s,d)},cL=(s,l,d)=>{const f=l.builtGroups.get();if(f.length===0)return;const b=Lh(s,l,"primary"),v=$r.getCoupled(s,"overflowGroup");wo(b.element,"visibility","hidden");const C=f.concat([v]),k=cn(C,P=>Gr(P.element).bind(F=>P.getSystem().getByDom(F).toOptional()));d([]),lL(b,C);const E=((P,F,M,z)=>{const Y=((Ae,he,ge)=>{const Ce=P4(he,Ae,ge);return Ce.extra.length===0?R.some(Ce):R.none()})(P,F,M).getOrThunk(()=>P4(F,P-M(z),M)),te=Y.within,me=Y.extra,pe=Y.withinWidth;return me.length===1&&me[0].width<=M(z)?((Ae,he,ge)=>{const Ce=mk(Ae.concat(he));return D4(Ce,[],ge)})(te,me,pe):me.length>=1?((Ae,he,ge,Ce)=>{const Te=mk(Ae).concat([ge]);return D4(Te,mk(he),Ce)})(te,me,z,pe):((Ae,he,ge)=>D4(mk(Ae),[],ge))(te,0,pe)})(Pi(b.element),l.builtGroups.get(),P=>Math.ceil(P.element.dom.getBoundingClientRect().width),v);E.extra.length===0?(eo.remove(b,v),d([])):(lL(b,E.within),d(E.extra)),As(b.element,"visibility"),zd(b.element),k.each(mo.focus)},uL=j([An("splitToolbarBehaviours",[$r]),Yi("builtGroups",()=>Kn([]))]),SV=j([yh(["overflowToggledClass"]),gu("getOverflowBounds"),Ft("lazySink"),Yi("overflowGroups",()=>Kn([])),rs("onOpened"),rs("onClosed")].concat(uL())),kV=j([Il({factory:pf,schema:_0(),name:"primary"}),lf({schema:_0(),name:"overflow"}),lf({name:"overflow-button"}),lf({name:"overflow-group"})]),N4=j((s,l)=>{((d,f)=>{const b=nh.max(d,f,["margin-left","border-left-width","padding-left","padding-right","border-right-width","margin-right"]);wo(d,"max-width",b+"px")})(s,Math.floor(l))}),EV=j([yh(["toggledClass"]),Ft("lazySink"),Wa("fetch"),gu("getBounds"),Or("fireDismissalEventInstead",[mt("event",fh())]),qf(),rs("onToggled")]),AV=j([lf({name:"button",overrides:s=>({dom:{attributes:{"aria-haspopup":"true"}},buttonBehaviours:Jt([ao.config({toggleClass:s.markers.toggledClass,aria:{mode:"expanded"},toggleOnExecute:!1,onToggled:s.onToggled})])})}),lf({factory:pf,schema:_0(),name:"toolbar",overrides:s=>({toolbarBehaviours:Jt([Hn.config({mode:"cyclic",onEscape:l=>(Qs(l,s,"button").each(mo.focus),R.none())})])})})]),gk=Rs(),Fy=(s,l)=>{const d=$r.getCoupled(s,"toolbarSandbox");T.isOpen(d)?T.close(d):T.open(d,l.toolbar())},zw=(s,l,d,f)=>{const b=d.getBounds.map(C=>C()),v=d.lazySink(s).getOrDie();wa.positionWithinBounds(v,l,{anchor:{type:"hotspot",hotspot:s,layouts:f,overrides:{maxWidthFunction:N4()}}},b)},hk=(s,l,d,f,b)=>{pf.setGroups(l,b),zw(s,l,d,f),ao.on(s)},qh=Ul({name:"FloatingToolbarButton",factory:(s,l,d,f)=>({...Ya.sketch({...f.button(),action:b=>{Fy(b,f)},buttonBehaviours:io({dump:f.button().buttonBehaviours},[$r.config({others:{toolbarSandbox:b=>((v,C,k)=>{const E=_h();return{dom:{tag:"div",attributes:{id:E.id}},behaviours:Jt([Hn.config({mode:"special",onEscape:P=>(T.close(P),R.some(!0))}),T.config({onOpen:(P,F)=>{const M=gk.get().getOr(!1);k.fetch().get(z=>{hk(v,F,k,C.layouts,z),E.link(v.element),M||Hn.focusIn(F)})},onClose:()=>{ao.off(v),gk.get().getOr(!1)||mo.focus(v),E.unlink(v.element)},isPartOf:(P,F,M)=>Tl(F,M)||Tl(v,M),getAttachPoint:()=>k.lazySink(v).getOrDie()}),Ol.config({channels:{...ue({isExtraPart:xe,...k.fireDismissalEventInstead.map(P=>({fireEventInstead:{event:P.event}})).getOr({})}),...ze({doReposition:()=>{T.getState($r.getCoupled(v,"toolbarSandbox")).each(P=>{zw(v,P,k,C.layouts)})}})}})])}})(b,d,s)}})])}),apis:{setGroups:(b,v)=>{T.getState($r.getCoupled(b,"toolbarSandbox")).each(C=>{hk(b,C,s,d.layouts,v)})},reposition:b=>{T.getState($r.getCoupled(b,"toolbarSandbox")).each(v=>{zw(b,v,s,d.layouts)})},toggle:b=>{Fy(b,f)},toggleWithoutFocusing:b=>{((v,C)=>{gk.set(!0),Fy(v,C),gk.clear()})(b,f)},getToolbar:b=>T.getState($r.getCoupled(b,"toolbarSandbox")),isOpen:b=>T.isOpen($r.getCoupled(b,"toolbarSandbox"))}}),configFields:EV(),partFields:AV(),apis:{setGroups:(s,l,d)=>{s.setGroups(l,d)},reposition:(s,l)=>{s.reposition(l)},toggle:(s,l)=>{s.toggle(l)},toggleWithoutFocusing:(s,l)=>{s.toggleWithoutFocusing(l)},getToolbar:(s,l)=>s.getToolbar(l),isOpen:(s,l)=>s.isOpen(l)}}),TV=j([Ft("items"),yh(["itemSelector"]),An("tgroupBehaviours",[Hn])]),OV=j([p_({name:"items",unit:"item"})]),$y=Ul({name:"ToolbarGroup",configFields:TV(),partFields:OV(),factory:(s,l,d,f)=>({uid:s.uid,dom:s.dom,components:l,behaviours:Ro(s.tgroupBehaviours,[Hn.config({mode:"flow",selector:s.markers.itemSelector})]),domModification:{attributes:{role:"toolbar"}}})}),pk=s=>Me(s,l=>dl(l)),Hw=(s,l,d)=>{cL(s,d,f=>{d.overflowGroups.set(f),l.getOpt(s).each(b=>{qh.setGroups(b,pk(f))})})},L4=Ul({name:"SplitFloatingToolbar",configFields:SV(),partFields:kV(),factory:(s,l,d,f)=>{const b=Es(qh.sketch({fetch:()=>ab(v=>{v(pk(s.overflowGroups.get()))}),layouts:{onLtr:()=>[Pr,Dr],onRtl:()=>[Dr,Pr],onBottomLtr:()=>[$s,si],onBottomRtl:()=>[si,$s]},getBounds:d.getOverflowBounds,lazySink:s.lazySink,fireDismissalEventInstead:{},markers:{toggledClass:s.markers.overflowToggledClass},parts:{button:f["overflow-button"](),toolbar:f.overflow()},onToggled:(v,C)=>s[C?"onOpened":"onClosed"](v)}));return{uid:s.uid,dom:s.dom,components:l,behaviours:Ro(s.splitToolbarBehaviours,[$r.config({others:{overflowGroup:()=>$y.sketch({...f["overflow-group"](),items:[b.asSpec()]})}})]),apis:{setGroups:(v,C)=>{s.builtGroups.set(Me(C,v.getSystem().build)),Hw(v,b,s)},refresh:v=>Hw(v,b,s),toggle:v=>{b.getOpt(v).each(C=>{qh.toggle(C)})},toggleWithoutFocusing:v=>{b.getOpt(v).each(qh.toggleWithoutFocusing)},isOpen:v=>b.getOpt(v).map(qh.isOpen).getOr(!1),reposition:v=>{b.getOpt(v).each(C=>{qh.reposition(C)})},getOverflow:v=>b.getOpt(v).bind(qh.getToolbar)},domModification:{attributes:{role:"group"}}}},apis:{setGroups:(s,l,d)=>{s.setGroups(l,d)},refresh:(s,l)=>{s.refresh(l)},reposition:(s,l)=>{s.reposition(l)},toggle:(s,l)=>{s.toggle(l)},toggleWithoutFocusing:(s,l)=>{s.toggle(l)},isOpen:(s,l)=>s.isOpen(l),getOverflow:(s,l)=>s.getOverflow(l)}}),RV=j([yh(["closedClass","openClass","shrinkingClass","growingClass","overflowToggledClass"]),rs("onOpened"),rs("onClosed")].concat(uL())),IV=j([Il({factory:pf,schema:_0(),name:"primary"}),Il({factory:pf,schema:_0(),name:"overflow",overrides:s=>({toolbarBehaviours:Jt([tc.config({dimension:{property:"height"},closedClass:s.markers.closedClass,openClass:s.markers.openClass,shrinkingClass:s.markers.shrinkingClass,growingClass:s.markers.growingClass,onShrunk:l=>{Qs(l,s,"overflow-button").each(d=>{ao.off(d)}),s.onClosed(l)},onGrown:l=>{s.onOpened(l)},onStartGrow:l=>{Qs(l,s,"overflow-button").each(ao.on)}}),Hn.config({mode:"acyclic",onEscape:l=>(Qs(l,s,"overflow-button").each(mo.focus),R.some(!0))})])})}),lf({name:"overflow-button",overrides:s=>({buttonBehaviours:Jt([ao.config({toggleClass:s.markers.overflowToggledClass,aria:{mode:"expanded"},toggleOnExecute:!1})])})}),lf({name:"overflow-group"})]),M4=(s,l,d)=>{Qs(s,l,"overflow-button").each(f=>{Qs(s,l,"overflow").each(b=>{if(B4(s,l),tc.hasShrunk(b)){const v=l.onOpened;l.onOpened=C=>{d||Hn.focusIn(b),v(C),l.onOpened=v}}else{const v=l.onClosed;l.onClosed=C=>{d||mo.focus(f),v(C),l.onClosed=v}}tc.toggleGrow(b)})})},B4=(s,l)=>{Qs(s,l,"overflow").each(d=>{cL(s,l,f=>{const b=Me(f,v=>dl(v));pf.setGroups(d,b)}),Qs(s,l,"overflow-button").each(f=>{tc.hasGrown(d)&&ao.on(f)}),tc.refresh(d)})},F4=Ul({name:"SplitSlidingToolbar",configFields:RV(),partFields:IV(),factory:(s,l,d,f)=>{const b="alloy.toolbar.toggle";return{uid:s.uid,dom:s.dom,components:l,behaviours:Ro(s.splitToolbarBehaviours,[$r.config({others:{overflowGroup:v=>$y.sketch({...f["overflow-group"](),items:[Ya.sketch({...f["overflow-button"](),action:C=>{Mo(v,b)}})]})}}),Io("toolbar-toggle-events",[Dt(b,v=>{M4(v,s,!1)})])]),apis:{setGroups:(v,C)=>{((k,E)=>{const P=Me(E,k.getSystem().build);s.builtGroups.set(P)})(v,C),B4(v,s)},refresh:v=>B4(v,s),toggle:v=>{M4(v,s,!1)},toggleWithoutFocusing:v=>{M4(v,s,!0)},isOpen:v=>((C,k)=>Qs(C,k,"overflow").map(tc.hasGrown).getOr(!1))(v,s)},domModification:{attributes:{role:"group"}}}},apis:{setGroups:(s,l,d)=>{s.setGroups(l,d)},refresh:(s,l)=>{s.refresh(l)},toggle:(s,l)=>{s.toggle(l)},isOpen:(s,l)=>s.isOpen(l)}}),dL=s=>{const l=s.title.fold(()=>({}),d=>({attributes:{title:d}}));return{dom:{tag:"div",classes:["tox-toolbar__group"],...l},components:[$y.parts.items({})],items:s.items,markers:{itemSelector:"*:not(.tox-split-button) > .tox-tbtn:not([disabled]), .tox-split-button:not([disabled]), .tox-toolbar-nav-js:not([disabled]), .tox-number-input:not([disabled])"},tgroupBehaviours:Jt([qs.config({}),mo.config({})])}},bk=s=>$y.sketch(dL(s)),fL=(s,l)=>{const d=ar(f=>{const b=Me(s.initGroups,bk);pf.setGroups(f,b)});return Jt([aS(s.providers.isDisabled),Fi(),Hn.config({mode:l,onEscape:s.onEscape,selector:".tox-toolbar__group"}),Io("toolbar-events",[d])])},mL=s=>{const l=s.cyclicKeying?"cyclic":"acyclic";return{uid:s.uid,dom:{tag:"div",classes:["tox-toolbar-overlord"]},parts:{"overflow-group":dL({title:R.none(),items:[]}),"overflow-button":E5({icon:R.some("more-drawer"),enabled:!0,tooltip:R.some("Reveal or hide additional toolbar items")},R.none(),s.providers,[],"overflow-button")},splitToolbarBehaviours:fL(s,l)}},DV=s=>{const l=mL(s),d=L4.parts.primary({dom:{tag:"div",classes:["tox-toolbar__primary"]}});return L4.sketch({...l,lazySink:s.getSink,getOverflowBounds:()=>{const f=s.moreDrawerData.lazyHeader().element,b=kl(f),v=sl(f),C=kl(v),k=Math.max(v.dom.scrollHeight,C.height);return Fo(b.x+4,C.y,b.width-8,k)},parts:{...l.parts,overflow:{dom:{tag:"div",classes:["tox-toolbar__overflow"],attributes:s.attributes}}},components:[d],markers:{overflowToggledClass:"tox-tbtn--enabled"},onOpened:f=>s.onToggled(f,!0),onClosed:f=>s.onToggled(f,!1)})},PV=s=>{const l=F4.parts.primary({dom:{tag:"div",classes:["tox-toolbar__primary"]}}),d=F4.parts.overflow({dom:{tag:"div",classes:["tox-toolbar__overflow"]}}),f=mL(s);return F4.sketch({...f,components:[l,d],markers:{openClass:"tox-toolbar__overflow--open",closedClass:"tox-toolbar__overflow--closed",growingClass:"tox-toolbar__overflow--growing",shrinkingClass:"tox-toolbar__overflow--shrinking",overflowToggledClass:"tox-tbtn--enabled"},onOpened:b=>{b.getSystem().broadcastOn([ck()],{type:"opened"}),s.onToggled(b,!0)},onClosed:b=>{b.getSystem().broadcastOn([ck()],{type:"closed"}),s.onToggled(b,!1)}})},$4=s=>{const l=s.cyclicKeying?"cyclic":"acyclic";return pf.sketch({uid:s.uid,dom:{tag:"div",classes:["tox-toolbar"].concat(s.type===gd.scrolling?["tox-toolbar--scrolling"]:[])},components:[pf.parts.groups({})],toolbarBehaviours:fL(s,l)})},gL=[rb,bd,Br("tooltip"),Pc("buttonType","secondary",["primary","secondary"]),oi("borderless",!1),Wa("onAction")],V4={button:[...gL,pd,rd("type",["button"])],togglebutton:[...gL,oi("active",!1),rd("type",["togglebutton"])]},NV=[rd("type",["group"]),Ns("buttons",[],bi("type",V4))],LV=bi("type",{...V4,group:NV}),Ig=Yn([Ns("buttons",[],LV),Wa("onShow"),Wa("onHide")]),hL=(s,l)=>((d,f)=>{var b,v;const C=d.type==="togglebutton",k=d.icon.map(he=>pb(he,f.icons)).map(Es),E={...d,name:C?d.text.getOr(d.icon.getOr("")):(b=d.text)!==null&&b!==void 0?b:d.icon.getOr(""),primary:d.buttonType==="primary",buttonType:R.from(d.buttonType),tooltip:d.tooltip,icon:d.icon,enabled:!0,borderless:d.borderless},P=t4((v=d.buttonType)!==null&&v!==void 0?v:"secondary"),F=C?d.text.map(f.translate):R.some(f.translate(d.text)),M=F.map(Fr),z=E.tooltip.or(F).map(he=>({"aria-label":f.translate(he)})).getOr({}),Y=k.map(he=>he.asSpec()),te=wy([Y,M]),me=d.icon.isSome()&&M.isSome(),pe={tag:"button",classes:P.concat(...d.icon.isSome()&&!me?["tox-button--icon"]:[]).concat(...me?["tox-button--icon-and-text"]:[]).concat(...d.borderless?["tox-button--naked"]:[]).concat(...d.type==="togglebutton"&&d.active?["tox-button--enabled"]:[]),attributes:z},Ae=Lw(E,R.some(he=>{const ge=Ce=>{k.map(Te=>Te.getOpt(he).each(Ie=>{eo.set(Ie,[pb(Ce,f.icons)])}))};return C?d.onAction({setIcon:ge,setActive:Ce=>{const Te=he.element;Ce?(kr(Te,"tox-button--enabled"),fn(Te,"aria-pressed",!0)):(Ir(Te,"tox-button--enabled"),Lo(Te,"aria-pressed"))},isActive:()=>ul(he.element,"tox-button--enabled")}):d.type==="button"?d.onAction({setIcon:ge}):void 0}),[],pe,te,d.tooltip,f);return Ya.sketch(Ae)})(s,l),pL=fa().deviceType,z4=pL.isPhone(),Sa=pL.isTablet();var Vy=Ul({name:"silver.View",configFields:[Ft("viewConfig")],partFields:[ku({factory:{sketch:s=>{let l=!1;const d=Me(s.buttons,f=>f.type==="group"?(l=!0,((b,v)=>({dom:{tag:"div",classes:["tox-view__toolbar__group"]},components:Me(b.buttons,C=>hL(C,v))}))(f,s.providers)):hL(f,s.providers));return{uid:s.uid,dom:{tag:"div",classes:[l?"tox-view__toolbar":"tox-view__header",...z4||Sa?["tox-view--mobile","tox-view--scrolling"]:[]]},behaviours:Jt([mo.config({}),Hn.config({mode:"flow",selector:"button, .tox-button",focusInside:Zv.OnEnterOrSpaceMode})]),components:l?d:[ff.sketch({dom:{tag:"div",classes:["tox-view__header-start"]},components:[]}),ff.sketch({dom:{tag:"div",classes:["tox-view__header-end"]},components:d})]}}},schema:[Ft("buttons"),Ft("providers")],name:"header"}),ku({factory:{sketch:s=>({uid:s.uid,behaviours:Jt([mo.config({}),qs.config({})]),dom:{tag:"div",classes:["tox-view__pane"]}})},schema:[],name:"pane"})],factory:(s,l,d,f)=>{const b={getPane:v=>_a.getPart(v,s,"pane"),getOnShow:v=>s.viewConfig.onShow,getOnHide:v=>s.viewConfig.onHide};return{uid:s.uid,dom:s.dom,components:l,behaviours:Jt([mo.config({}),Hn.config({mode:"cyclic",focusInside:Zv.OnEnterOrSpaceMode})]),apis:b}},apis:{getPane:(s,l)=>s.getPane(l),getOnShow:(s,l)=>s.getOnShow(l),getOnHide:(s,l)=>s.getOnHide(l)}});const MV=(s,l,d)=>ei(l,(f,b)=>{const v=Ua(Cr("view",Ig,f));return s.slot(b,Vy.sketch({dom:{tag:"div",classes:["tox-view"]},viewConfig:v,components:[...v.buttons.length>0?[Vy.parts.header({buttons:v.buttons,providers:d})]:[],Vy.parts.pane({})]}))}),BV=(s,l)=>Pl.sketch(d=>({dom:{tag:"div",classes:["tox-view-wrap__slot-container"]},components:MV(d,s,l),slotBehaviours:mw([ar(f=>Pl.hideAllSlots(f))])})),bL=s=>J(Pl.getSlotNames(s),l=>Pl.isShowing(s,l)),vL=(s,l,d)=>{Pl.getSlot(s,l).each(f=>{Vy.getPane(f).each(b=>{var v;d(f)((v=b.element.dom,{getContainer:j(v)}))})})};var vk=Eu({factory:(s,l)=>{const d={setViews:(f,b)=>{eo.set(f,[BV(b,l.backstage.shared.providers)])},whichView:f=>cs.getCurrent(f).bind(bL),toggleView:(f,b,v,C)=>cs.getCurrent(f).exists(k=>{const E=bL(k),P=E.exists(M=>C===M),F=Pl.getSlot(k,C).isSome();return F&&(Pl.hideAllSlots(k),P?((M=>{const z=M.element;wo(z,"display","none"),fn(z,"aria-hidden","true")})(f),b()):(v(),(M=>{const z=M.element;As(z,"display"),Lo(z,"aria-hidden")})(f),Pl.showSlot(k,C),((M,z)=>{vL(M,z,Vy.getOnShow)})(k,C)),E.each(M=>((z,Y)=>vL(z,Y,Vy.getOnHide))(k,M))),F})};return{uid:s.uid,dom:{tag:"div",classes:["tox-view-wrap"],attributes:{"aria-hidden":"true"},styles:{display:"none"}},components:[],behaviours:Jt([eo.config({}),cs.config({find:f=>{const b=eo.contents(f);return Ne(b)}})]),apis:d}},name:"silver.ViewWrapper",configFields:[Ft("backstage")],apis:{setViews:(s,l,d)=>s.setViews(l,d),toggleView:(s,l,d,f,b)=>s.toggleView(l,d,f,b),whichView:(s,l)=>s.whichView(l)}});const FV=Og.optional({factory:A4,name:"menubar",schema:[Ft("backstage")]}),$V=Og.optional({factory:{sketch:s=>C4.sketch({uid:s.uid,dom:s.dom,listBehaviours:Jt([Hn.config({mode:"acyclic",selector:".tox-toolbar"})]),makeItem:()=>$4({type:s.type,uid:En("multiple-toolbar-item"),cyclicKeying:!1,initGroups:[],providers:s.providers,onEscape:()=>(s.onEscape(),R.some(!0))}),setupItem:(l,d,f,b)=>{pf.setGroups(d,f)},shell:!0})},name:"multiple-toolbar",schema:[Ft("dom"),Ft("onEscape")]}),VV=Og.optional({factory:{sketch:s=>(d=>d.type===gd.sliding?PV:d.type===gd.floating?DV:$4)(s)({type:s.type,uid:s.uid,onEscape:()=>(s.onEscape(),R.some(!0)),onToggled:(d,f)=>s.onToolbarToggled(f),cyclicKeying:!1,initGroups:[],getSink:s.getSink,providers:s.providers,moreDrawerData:{lazyToolbar:s.lazyToolbar,lazyMoreButton:s.lazyMoreButton,lazyHeader:s.lazyHeader},attributes:s.attributes})},name:"toolbar",schema:[Ft("dom"),Ft("onEscape"),Ft("getSink")]}),zV=Og.optional({factory:{sketch:s=>{const l=s.editor,d=s.sticky?nL:lk;return{uid:s.uid,dom:s.dom,components:s.components,behaviours:Jt(d(l,s.sharedBackstage))}}},name:"header",schema:[Ft("dom")]}),HV=Og.optional({factory:{sketch:s=>({uid:s.uid,dom:s.dom,components:[{dom:{tag:"a",attributes:{href:"https://www.tiny.cloud/tinymce-self-hosted-premium-features/?utm_campaign=self_hosted_upgrade_promo&utm_source=tiny&utm_medium=referral",rel:"noopener",target:"_blank","aria-hidden":"true"},classes:["tox-promotion-link"],innerHtml:"Upgrade"}}]})},name:"promotion",schema:[Ft("dom")]}),UV=Og.optional({name:"socket",schema:[Ft("dom")]}),WV=Og.optional({factory:{sketch:s=>({uid:s.uid,dom:{tag:"div",classes:["tox-sidebar"],attributes:{role:"presentation"}},components:[{dom:{tag:"div",classes:["tox-sidebar__slider"]},components:[],behaviours:Jt([qs.config({}),mo.config({}),tc.config({dimension:{property:"width"},closedClass:"tox-sidebar--sliding-closed",openClass:"tox-sidebar--sliding-open",shrinkingClass:"tox-sidebar--sliding-shrinking",growingClass:"tox-sidebar--sliding-growing",onShrunk:l=>{cs.getCurrent(l).each(Pl.hideAllSlots),Mo(l,R4)},onGrown:l=>{Mo(l,R4)},onStartGrow:l=>{$n(l,O4,{width:ni(l.element,"width").getOr("")})},onStartShrink:l=>{$n(l,O4,{width:Pi(l.element)+"px"})}}),eo.config({}),cs.config({find:l=>{const d=eo.contents(l);return Ne(d)}})])}],behaviours:Jt([S3(0),Io("sidebar-sliding-events",[Dt(O4,(l,d)=>{wo(l.element,"width",d.event.width)}),Dt(R4,(l,d)=>{As(l.element,"width")})])])})},name:"sidebar",schema:[Ft("dom")]}),KV=Og.optional({factory:{sketch:s=>({uid:s.uid,dom:{tag:"div",attributes:{"aria-hidden":"true"},classes:["tox-throbber"],styles:{display:"none"}},behaviours:Jt([eo.config({}),kd.config({focus:!1}),cs.config({find:l=>Ne(l.components())})]),components:[]})},name:"throbber",schema:[Ft("dom")]}),jV=Og.optional({factory:vk,name:"viewWrapper",schema:[Ft("backstage")]}),ZV=Og.optional({factory:{sketch:s=>({uid:s.uid,dom:{tag:"div",classes:["tox-editor-container"]},components:s.components})},name:"editorContainer",schema:[]});var sr=Ul({name:"OuterContainer",factory:(s,l,d)=>{let f=!1;const b=C=>{Js(C,".tox-statusbar").each(k=>{Ar(k,"display")==="none"&&Go(k,"aria-hidden")==="true"?(As(k,"display"),Lo(k,"aria-hidden")):(wo(k,"display","none"),fn(k,"aria-hidden","true"))})},v={getSocket:C=>_a.getPart(C,s,"socket"),setSidebar:(C,k,E)=>{_a.getPart(C,s,"sidebar").each(P=>((F,M,z)=>{cs.getCurrent(F).each(Y=>{eo.set(Y,[iL(M)]);const te=z==null?void 0:z.toLowerCase();h(te)&&vo(M,te)&&cs.getCurrent(Y).each(me=>{Pl.showSlot(me,te),tc.immediateGrow(Y),As(Y.element,"width"),fk(F.element,"region")})})})(P,k,E))},toggleSidebar:(C,k)=>{_a.getPart(C,s,"sidebar").each(E=>((P,F)=>{cs.getCurrent(P).each(M=>{cs.getCurrent(M).each(z=>{tc.hasGrown(M)?Pl.isShowing(z,F)?(tc.shrink(M),fk(P.element,"presentation")):(Pl.hideAllSlots(z),Pl.showSlot(z,F),fk(P.element,"region")):(Pl.hideAllSlots(z),Pl.showSlot(z,F),tc.grow(M),fk(P.element,"region"))})})})(E,k))},whichSidebar:C=>_a.getPart(C,s,"sidebar").bind(wV).getOrNull(),getHeader:C=>_a.getPart(C,s,"header"),getToolbar:C=>_a.getPart(C,s,"toolbar"),setToolbar:(C,k)=>{_a.getPart(C,s,"toolbar").each(E=>{const P=Me(k,bk);E.getApis().setGroups(E,P)})},setToolbars:(C,k)=>{_a.getPart(C,s,"multiple-toolbar").each(E=>{const P=Me(k,F=>Me(F,bk));C4.setItems(E,P)})},refreshToolbar:C=>{_a.getPart(C,s,"toolbar").each(k=>k.getApis().refresh(k))},toggleToolbarDrawer:C=>{_a.getPart(C,s,"toolbar").each(k=>{pi(k.getApis().toggle,E=>E(k))})},toggleToolbarDrawerWithoutFocusing:C=>{_a.getPart(C,s,"toolbar").each(k=>{pi(k.getApis().toggleWithoutFocusing,E=>E(k))})},isToolbarDrawerToggled:C=>_a.getPart(C,s,"toolbar").bind(k=>R.from(k.getApis().isOpen).map(E=>E(k))).getOr(!1),getThrobber:C=>_a.getPart(C,s,"throbber"),focusToolbar:C=>{_a.getPart(C,s,"toolbar").orThunk(()=>_a.getPart(C,s,"multiple-toolbar")).each(k=>{Hn.focusIn(k)})},setMenubar:(C,k)=>{_a.getPart(C,s,"menubar").each(E=>{A4.setMenus(E,k)})},focusMenubar:C=>{_a.getPart(C,s,"menubar").each(k=>{A4.focus(k)})},setViews:(C,k)=>{_a.getPart(C,s,"viewWrapper").each(E=>{vk.setViews(E,k)})},toggleView:(C,k)=>_a.getPart(C,s,"viewWrapper").exists(E=>vk.toggleView(E,()=>v.showMainView(C),()=>v.hideMainView(C),k)),whichView:C=>_a.getPart(C,s,"viewWrapper").bind(vk.whichView).getOrNull(),hideMainView:C=>{f=v.isToolbarDrawerToggled(C),f&&v.toggleToolbarDrawer(C),_a.getPart(C,s,"editorContainer").each(k=>{const E=k.element;b(E),wo(E,"display","none"),fn(E,"aria-hidden","true")})},showMainView:C=>{f&&v.toggleToolbarDrawer(C),_a.getPart(C,s,"editorContainer").each(k=>{const E=k.element;b(E),As(E,"display"),Lo(E,"aria-hidden")})}};return{uid:s.uid,dom:s.dom,components:l,apis:v,behaviours:s.behaviours}},configFields:[Ft("dom"),Ft("behaviours")],partFields:[zV,FV,VV,$V,UV,WV,HV,KV,jV,ZV],apis:{getSocket:(s,l)=>s.getSocket(l),setSidebar:(s,l,d,f)=>{s.setSidebar(l,d,f)},toggleSidebar:(s,l,d)=>{s.toggleSidebar(l,d)},whichSidebar:(s,l)=>s.whichSidebar(l),getHeader:(s,l)=>s.getHeader(l),getToolbar:(s,l)=>s.getToolbar(l),setToolbar:(s,l,d)=>{s.setToolbar(l,d)},setToolbars:(s,l,d)=>{s.setToolbars(l,d)},refreshToolbar:(s,l)=>s.refreshToolbar(l),toggleToolbarDrawer:(s,l)=>{s.toggleToolbarDrawer(l)},toggleToolbarDrawerWithoutFocusing:(s,l)=>{s.toggleToolbarDrawerWithoutFocusing(l)},isToolbarDrawerToggled:(s,l)=>s.isToolbarDrawerToggled(l),getThrobber:(s,l)=>s.getThrobber(l),setMenubar:(s,l,d)=>{s.setMenubar(l,d)},focusMenubar:(s,l)=>{s.focusMenubar(l)},focusToolbar:(s,l)=>{s.focusToolbar(l)},setViews:(s,l,d)=>{s.setViews(l,d)},toggleView:(s,l,d)=>s.toggleView(l,d),whichView:(s,l)=>s.whichView(l)}});const yL={file:{title:"File",items:"newdocument restoredraft | preview | importword exportpdf exportword | export print | deleteallconversations"},edit:{title:"Edit",items:"undo redo | cut copy paste pastetext | selectall | searchreplace"},view:{title:"View",items:"code revisionhistory | visualaid visualchars visualblocks | spellchecker | preview fullscreen | showcomments"},insert:{title:"Insert",items:"image link media addcomment pageembed inserttemplate codesample inserttable accordion math | charmap emoticons hr | pagebreak nonbreaking anchor tableofcontents footnotes | mergetags | insertdatetime"},format:{title:"Format",items:"bold italic underline strikethrough superscript subscript codeformat | styles blocks fontfamily fontsize align lineheight | forecolor backcolor | language | removeformat"},tools:{title:"Tools",items:"aidialog aishortcuts | spellchecker spellcheckerlanguage | autocorrect capitalization | a11ycheck code typography wordcount addtemplate"},table:{title:"Table",items:"inserttable | cell row column | advtablesort | tableprops deletetable"},help:{title:"Help",items:"help"}},H4=s=>s.split(" "),xL=(s,l)=>{const d={...yL,...l.menus},f=jt(l.menus).length>0,b=l.menubar===void 0||l.menubar===!0?H4("file edit view insert format tools table help"):H4(l.menubar===!1?"":l.menubar),v=Wt(b,k=>{const E=vo(yL,k);return f?E||On(l.menus,k).exists(P=>vo(P,"items")):E}),C=Me(v,k=>{const E=d[k];return((P,F,M)=>{const z=FD(M).split(/[ ,]/);return{text:P.title,getItems:()=>bn(P.items,Y=>{const te=Y.toLowerCase();return te.trim().length===0||Sn(z,me=>me===te)?[]:te==="separator"||te==="|"?[{type:"separator"}]:F.menuItems[te]?[F.menuItems[te]]:[]})}})({title:E.title,items:H4(E.items)},l,s)});return Wt(C,k=>k.getItems().length>0&&Sn(k.getItems(),E=>h(E)||E.type!=="separator"))},wL=(s,l,d)=>(s.on("remove",()=>d.unload(l)),d.load(l)),U4=(s,l,d,f)=>(s.on("remove",()=>f.unloadRawCss(l)),f.loadRawCss(l,d)),GV=async(s,l)=>{const d="ui/"+V_(s).getOr("default")+"/skin.css",f=tinymce.Resource.get(d);if(!h(f)){const b=s.editorManager.suffix;return wL(s,l+`/skin${b}.css`,s.ui.styleSheetLoader)}U4(s,d,f,s.ui.styleSheetLoader)},qV=async(s,l)=>{var d;if(d=mn(s.getElement()),Xt(d).isSome()){const f="ui/"+V_(s).getOr("default")+"/skin.shadowdom.css",b=tinymce.Resource.get(f);if(!h(b)){const v=s.editorManager.suffix;return wL(s,l+`/skin.shadowdom${v}.css`,fy.DOM.styleSheetLoader)}U4(s,f,b,fy.DOM.styleSheetLoader)}},CL=(s,l)=>(async(d,f)=>{const b=()=>{const C=$_(f),k=f.editorManager.suffix;C&&f.contentCSS.push(C+(d?"/content.inline":"/content")+`${k}.css`)};V_(f).fold(b,C=>{const k="ui/"+C+(d?"/content.inline":"/content")+".css",E=tinymce.Resource.get(k);h(E)?U4(f,k,E,f.ui.styleSheetLoader):b()});const v=$_(f);if(!Xp(f)&&h(v))return Promise.all([GV(f,v),qV(f,v)]).then()})(s,l).then((d=>{const f=()=>{d._skinLoaded=!0,(b=>{b.dispatch("SkinLoaded")})(d)};return()=>{d.initialized?f():d.on("init",f)}})(l),((d,f)=>()=>((b,v)=>{b.dispatch("SkinLoadError",v)})(d,{message:"Skin could not be loaded"}))(l)),_L=Ve(CL,!1),YV=Ve(CL,!0),S0=(s,l,d)=>Gu(d)?s.translate(l):s.translate([l,s.translate(d)]),XV=(s,l)=>{const d=(v,C,k,E)=>{const P=s.shared.providers.translate(v.title);if(v.type==="separator")return R.some({type:"separator",text:P});if(v.type==="submenu"){const F=bn(v.getStyleItems(),M=>f(M,C,E));return C===0&&F.length<=0?R.none():R.some({type:"nestedmenuitem",text:P,enabled:F.length>0,getSubmenuItems:()=>bn(v.getStyleItems(),M=>f(M,C,E))})}return R.some({type:"togglemenuitem",text:P,icon:v.icon,active:v.isSelected(E),enabled:!k,onAction:l.onAction(v),...v.getStylePreview().fold(()=>({}),F=>({meta:{style:F}}))})},f=(v,C,k)=>{const E=v.type==="formatter"&&l.isInvalid(v);return C===0?E?[]:d(v,C,!1,k).toArray():d(v,C,E,k).toArray()},b=v=>{const C=l.getCurrentValue(),k=l.shouldHide?0:1;return bn(v,E=>f(E,k,C))};return{validateItems:b,getFetch:(v,C)=>(k,E)=>{const P=C(),F=b(P);E(w0(F,dm.CLOSE_ON_EXECUTE,v,{isHorizontalMenu:!1,search:R.none()}))}}},zy=(s,l)=>{const d=l.dataset,f=d.type==="basic"?()=>Me(d.data,b=>H5(b,l.isSelectedFor,l.getPreviewFor)):d.getData;return{items:XV(s,l),getStyleItems:f}},Uw=(s,l,d,f,b,v)=>{const{items:C,getStyleItems:k}=zy(l,d),E=Kn(d.tooltip);return H3({text:d.icon.isSome()?R.none():d.text,icon:d.icon,ariaLabel:R.some(d.tooltip),tooltip:R.none(),role:R.none(),fetch:C.getFetch(l,k),onSetup:P=>{const F=M=>P.setTooltip(S0(s,f(M.value),M.value));return s.on(b,F),ky(m0(s,"NodeChange",M=>{const z=M.getComponent();d.updateText(z),ho.set(M.getComponent(),!s.selection.isEditable())})(P),()=>s.off(b,F))},getApi:P=>({getComponent:j(P),setTooltip:F=>{const M=l.shared.providers.translate(F);fn(P.element,"aria-label",M),E.set(F)}}),columns:1,presets:"normal",classes:d.icon.isSome()?[]:["bespoke"],dropdownBehaviours:[ii.config({...l.shared.providers.tooltips.getConfig({tooltipText:l.shared.providers.translate(d.tooltip),onShow:P=>{if(d.tooltip!==E.get()){const F=l.shared.providers.translate(E.get());ii.setComponents(P,l.shared.providers.tooltips.getComponents({tooltipText:F}))}}})})]},"tox-tbtn",l.shared,v)};var k0;(function(s){s[s.SemiColon=0]="SemiColon",s[s.Space=1]="Space"})(k0||(k0={}));const W4=(s,l,d)=>{const f=(b=((v,C)=>C===k0.SemiColon?v.replace(/;$/,"").split(";"):v.split(" "))(s.options.get(l),d),Me(b,v=>{let C=v,k=v;const E=v.split("=");return E.length>1&&(C=E[0],k=E[1]),{title:C,format:k}}));var b;return{type:"basic",data:f}},SL=j("Alignment {0}"),kL="left",K4=[{title:"Left",icon:"align-left",format:"alignleft",command:"JustifyLeft"},{title:"Center",icon:"align-center",format:"aligncenter",command:"JustifyCenter"},{title:"Right",icon:"align-right",format:"alignright",command:"JustifyRight"},{title:"Justify",icon:"align-justify",format:"alignjustify",command:"JustifyFull"}],j4=s=>{const l={type:"basic",data:K4};return{tooltip:S0(s,SL(),kL),text:R.none(),icon:R.some("align-left"),isSelectedFor:d=>()=>s.formatter.match(d),getCurrentValue:R.none,getPreviewFor:d=>R.none,onAction:d=>()=>J(K4,f=>f.format===d.format).each(f=>s.execCommand(f.command)),updateText:d=>{const f=J(K4,b=>s.formatter.match(b.format)).fold(j(kL),b=>b.title.toLowerCase());$n(d,Cd,{icon:`align-${f}`}),((b,v)=>{b.dispatch("AlignTextUpdate",v)})(s,{value:f})},dataset:l,shouldHide:!1,isInvalid:d=>!s.formatter.canApply(d.format)}},EL=(s,l)=>{const d=l(),f=Me(d,b=>b.format);return R.from(s.formatter.closest(f)).bind(b=>J(d,v=>v.format===b))},Z4=j("Block {0}"),G4="Paragraph",q4=s=>{const l=W4(s,"block_formats",k0.SemiColon);return{tooltip:S0(s,Z4(),G4),text:R.some(G4),icon:R.none(),isSelectedFor:d=>()=>s.formatter.match(d),getCurrentValue:R.none,getPreviewFor:d=>()=>{const f=s.formatter.get(d);return f?R.some({tag:f.length>0&&(f[0].inline||f[0].block)||"div",styles:s.dom.parseStyle(s.formatter.getCssText(d))}):R.none()},onAction:tN(s),updateText:d=>{const f=EL(s,()=>l.data).fold(j(G4),b=>b.title);$n(d,Du,{text:f}),((b,v)=>{b.dispatch("BlocksTextUpdate",v)})(s,{value:f})},dataset:l,shouldHide:!1,isInvalid:d=>!s.formatter.canApply(d.format)}},AL=j("Font {0}"),Y4="System Font",JV=["-apple-system","Segoe UI","Roboto","Helvetica Neue","sans-serif"],TL=s=>{const l=s.split(/\s*,\s*/);return Me(l,d=>d.replace(/^['"]+|['"]+$/g,""))},OL=(s,l)=>l.length>0&&Ke(l,d=>s.indexOf(d.toLowerCase())>-1),RL=s=>{const l=()=>{const f=P=>P?TL(P)[0]:"",b=s.queryCommandValue("FontName"),v=d.data,C=b?b.toLowerCase():"",k=F_(s);return{matchOpt:J(v,P=>{const F=P.format;return F.toLowerCase()===C||f(F).toLowerCase()===f(C).toLowerCase()}).orThunk(()=>fs(((P,F)=>{if(P.indexOf("-apple-system")===0||F.length>0){const M=TL(P.toLowerCase());return OL(M,JV)||OL(M,F)}return!1})(C,k),{title:Y4,format:C})),font:b}},d=W4(s,"font_family_formats",k0.SemiColon);return{tooltip:S0(s,AL(),Y4),text:R.some(Y4),icon:R.none(),isSelectedFor:f=>b=>b.exists(v=>v.format===f),getCurrentValue:()=>{const{matchOpt:f}=l();return f},getPreviewFor:f=>()=>R.some({tag:"div",styles:f.indexOf("dings")===-1?{"font-family":f}:{}}),onAction:f=>()=>{s.undoManager.transact(()=>{s.focus(),s.execCommand("FontName",!1,f.format)})},updateText:f=>{const{matchOpt:b,font:v}=l(),C=b.fold(j(v),k=>k.title);$n(f,Du,{text:C}),((k,E)=>{k.dispatch("FontFamilyTextUpdate",E)})(s,{value:C})},dataset:d,shouldHide:!1,isInvalid:xe}},QV={unsupportedLength:["em","ex","cap","ch","ic","rem","lh","rlh","vw","vh","vi","vb","vmin","vmax","cm","mm","Q","in","pc","pt","px"],fixed:["px","pt"],relative:["%"],empty:[""]},ez=(()=>{const s="[0-9]+",l="[eE][+-]?"+s,d=b=>`(?:${b})?`,f=["Infinity",s+"\\."+d(s)+d(l),"\\."+s+d(l),s+d(l)].join("|");return new RegExp(`^([+-]?(?:${f}))(.*)$`)})(),yk=(s,l)=>R.from(ez.exec(s)).bind(d=>{const f=Number(d[1]),b=d[2];return((v,C)=>Sn(C,k=>Sn(QV[k],E=>v===E)))(b,l)?R.some({value:f,unit:b}):R.none()}),IL={tab:j(9),escape:j(27),enter:j(13),backspace:j(8),delete:j(46),left:j(37),up:j(38),right:j(39),down:j(40),space:j(32),home:j(36),end:j(35),pageUp:j(33),pageDown:j(34)},DL=j("Font size {0}"),PL="12pt",tz={"8pt":"1","10pt":"2","12pt":"3","14pt":"4","18pt":"5","24pt":"6","36pt":"7"},NL={"xx-small":"7pt","x-small":"8pt",small:"10pt",medium:"12pt",large:"14pt","x-large":"18pt","xx-large":"24pt"},nz=(s,l)=>/[0-9.]+px$/.test(s)?((d,f)=>{const b=Math.pow(10,f);return Math.round(d*b)/b})(72*parseInt(s,10)/96,l||0)+"pt":On(NL,s).getOr(s),oz=s=>On(tz,s).getOr(""),LL=s=>{const l=()=>{let b=R.none();const v=f.data,C=s.queryCommandValue("FontSize");if(C)for(let k=3;b.isNone()&&k>=0;k--){const E=nz(C,k),P=oz(E);b=J(v,F=>F.format===C||F.format===E||F.format===P)}return{matchOpt:b,size:C}},d=j(R.none),f=W4(s,"font_size_formats",k0.Space);return{tooltip:S0(s,DL(),PL),text:R.some(PL),icon:R.none(),isSelectedFor:b=>v=>v.exists(C=>C.format===b),getPreviewFor:d,getCurrentValue:()=>{const{matchOpt:b}=l();return b},onAction:b=>()=>{s.undoManager.transact(()=>{s.focus(),s.execCommand("FontSize",!1,b.format)})},updateText:b=>{const{matchOpt:v,size:C}=l(),k=v.fold(j(C),E=>E.title);$n(b,Du,{text:k}),((E,P)=>{E.dispatch("FontSizeTextUpdate",P)})(s,{value:k})},dataset:f,shouldHide:!1,isInvalid:xe}},ML=s=>Gu(s)?"Formats":"Format {0}",BL=(s,l)=>{const d="Formats";return{tooltip:S0(s,ML(""),""),text:R.some(d),icon:R.none(),isSelectedFor:f=>()=>s.formatter.match(f),getCurrentValue:R.none,getPreviewFor:f=>()=>{const b=s.formatter.get(f);return b!==void 0?R.some({tag:b.length>0&&(b[0].inline||b[0].block)||"div",styles:s.dom.parseStyle(s.formatter.getCssText(f))}):R.none()},onAction:tN(s),updateText:f=>{const b=k=>$5(k)?bn(k.items,b):V5(k)?[{title:k.title,format:k.format}]:[],v=bn(z5(s),b),C=EL(s,j(v)).fold(j({title:d,tooltipLabel:""}),k=>({title:k.title,tooltipLabel:k.title}));$n(f,Du,{text:C.title}),((k,E)=>{k.dispatch("StylesTextUpdate",E)})(s,{value:C.tooltipLabel})},shouldHide:BD(s),isInvalid:f=>!s.formatter.canApply(f.format),dataset:l}},X4=j([Ft("toggleClass"),Ft("fetch"),cd("onExecute"),mt("getHotspot",R.some),mt("getAnchorOverrides",j({})),qf(),cd("onItemExecute"),es("lazySink"),Ft("dom"),rs("onOpen"),An("splitDropdownBehaviours",[$r,Hn,mo]),mt("matchWidth",!1),mt("useMinWidth",!1),mt("eventOrder",{}),es("role"),es("listRole")].concat(GT())),sz=Il({factory:Ya,schema:[Ft("dom")],name:"arrow",defaults:()=>({buttonBehaviours:Jt([mo.revoke()])}),overrides:s=>({dom:{tag:"span",attributes:{role:"presentation"}},action:l=>{l.getSystem().getByUid(s.uid).each(Hf)},buttonBehaviours:Jt([ao.config({toggleOnExecute:!1,toggleClass:s.toggleClass})])})}),rz=Il({factory:Ya,schema:[Ft("dom")],name:"button",defaults:()=>({buttonBehaviours:Jt([mo.revoke()])}),overrides:s=>({dom:{tag:"span",attributes:{role:"presentation"}},action:l=>{l.getSystem().getByUid(s.uid).each(d=>{s.onExecute(d,l)})}})}),iz=j([sz,rz,ku({factory:{sketch:s=>({uid:s.uid,dom:{tag:"span",styles:{display:"none"},attributes:{"aria-hidden":"true"},innerHtml:s.text}})},schema:[Ft("text")],name:"aria-descriptor"}),lf({schema:[vh()],name:"menu",defaults:s=>({onExecute:(l,d)=>{l.getSystem().getByUid(s.uid).each(f=>{s.onItemExecute(f,l,d)})}})}),bN()]),Ww=Ul({name:"SplitDropdown",configFields:X4(),partFields:iz(),factory:(s,l,d,f)=>{const b=P=>{cs.getCurrent(P).each(F=>{Ts.highlightFirst(F),Hn.focusIn(F)})},v=P=>{KT(s,fe,P,f,b,hl.HighlightMenuAndItem).get(H)},C=P=>{const F=Lh(P,s,"button");return Hf(F),R.some(!0)},k={..._o([ar((P,F)=>{Qs(P,s,"aria-descriptor").each(M=>{const z=En("aria");fn(M.element,"id",z),fn(P.element,"aria-describedby",z)})})]),...dy(R.some(v))},E={repositionMenus:P=>{ao.isOn(P)&&xN(P)}};return{uid:s.uid,dom:s.dom,components:l,apis:E,eventOrder:{...s.eventOrder,[El()]:["disabling","toggling","alloy.base.behaviour"]},events:k,behaviours:Ro(s.splitDropdownBehaviours,[$r.config({others:{sandbox:P=>{const F=Lh(P,s,"arrow");return ZT(s,P,{onOpen:()=>{ao.on(F),ao.on(P)},onClose:()=>{ao.off(F),ao.off(P)}})}}}),Hn.config({mode:"special",onSpace:C,onEnter:C,onDown:P=>(v(P),R.some(!0))}),mo.config({}),ao.config({toggleOnExecute:!1,aria:{mode:"expanded"}})]),domModification:{attributes:{role:s.role.getOr("button"),"aria-haspopup":!0}}}},apis:{repositionMenus:(s,l)=>s.repositionMenus(l)}}),J4=s=>({isEnabled:()=>!ho.isDisabled(s),setEnabled:l=>ho.set(s,!l),setText:l=>$n(s,Du,{text:l}),setIcon:l=>$n(s,Cd,{icon:l})}),az=s=>({setActive:l=>{ao.set(s,l)},isActive:()=>ao.isOn(s),isEnabled:()=>!ho.isDisabled(s),setEnabled:l=>ho.set(s,!l),setText:l=>$n(s,Du,{text:l}),setIcon:l=>$n(s,Cd,{icon:l})}),FL=(s,l)=>s.map(d=>({"aria-label":l.translate(d)})).getOr({}),Q4=En("focus-button"),eO=(s,l,d,f,b,v)=>{const C=l.map(E=>Es(z3(E,"tox-tbtn",b))),k=s.map(E=>Es(pb(E,b.icons)));return{dom:{tag:"button",classes:["tox-tbtn"].concat(l.isSome()?["tox-tbtn--select"]:[]),attributes:{...FL(d,b),...U(v)?{"data-mce-name":v}:{}}},components:wy([k.map(E=>E.asSpec()),C.map(E=>E.asSpec())]),eventOrder:{[$t()]:["focusing","alloy.base.behaviour",hb],[ba()]:[hb,"toolbar-group-button-events"]},buttonBehaviours:Jt([aS(b.isDisabled),Fi(),Io(hb,[ar((E,P)=>GS(E)),Dt(Du,(E,P)=>{C.bind(F=>F.getOpt(E)).each(F=>{eo.set(F,[Fr(b.translate(P.event.text))])})}),Dt(Cd,(E,P)=>{k.bind(F=>F.getOpt(E)).each(F=>{eo.set(F,[pb(P.event.icon,b.icons)])})}),Dt($t(),(E,P)=>{P.event.prevent(),Mo(E,Q4)})])].concat(f.getOr([])))}},$L=(s,l,d,f)=>{var b;const v=Kn(H),C=eO(s.icon,s.text,s.tooltip,R.none(),d,f);return Ya.sketch({dom:C.dom,components:C.components,eventOrder:V3,buttonBehaviours:{...Jt([Io("toolbar-button-events",[(k={onAction:s.onAction,getApi:l.getApi},vu((E,P)=>{gw(k,E)(F=>{$n(E,ZS,{buttonApi:F}),k.onAction(F)})})),ib(l,v),zh(l,v)]),...s.tooltip.map(E=>ii.config(d.tooltips.getConfig({tooltipText:d.translate(E)+s.shortcut.map(P=>` (${lS(P)})`).getOr("")}))).toArray(),aS(()=>!s.enabled||d.isDisabled()),Fi()].concat(l.toolbarButtonBehaviours)),[hb]:(b=C.buttonBehaviours)===null||b===void 0?void 0:b[hb]}});var k},VL=(s,l,d,f)=>$L(s,{toolbarButtonBehaviours:d.length>0?[Io("toolbarButtonWith",d)]:[],getApi:J4,onSetup:s.onSetup},l,f),zL=(s,l,d,f)=>$L(s,{toolbarButtonBehaviours:[eo.config({}),ao.config({toggleClass:"tox-tbtn--enabled",aria:{mode:"pressed"},toggleOnExecute:!1})].concat(d.length>0?[Io("toolbarToggleButtonWith",d)]:[]),getApi:az,onSetup:s.onSetup},l,f),lz=(s,l,d)=>f=>ab(b=>l.fetch(b)).map(b=>R.from(qT(Fs(h0(En("menu-value"),b,v=>{l.onItemAction(s(f),v)},l.columns,l.presets,dm.CLOSE_ON_EXECUTE,l.select.getOr(xe),d),{movement:yw(l.columns,l.presets),menuBehaviours:mw(l.columns!=="auto"?[]:[ar((v,C)=>{xT(v,4,ob(l.presets)).each(({numRows:k,numColumns:E})=>{Hn.setGridSize(v,k,E)})})])})))),cz=[{name:"history",items:["undo","redo"]},{name:"ai",items:["aidialog","aishortcuts"]},{name:"styles",items:["styles"]},{name:"formatting",items:["bold","italic"]},{name:"alignment",items:["alignleft","aligncenter","alignright","alignjustify"]},{name:"indentation",items:["outdent","indent"]},{name:"permanent pen",items:["permanentpen"]},{name:"comments",items:["addcomment"]}],xb=(s,l)=>(d,f,b,v)=>{const C=s(d).mapError(k=>ll(k)).getOrDie();return l(C,f,b,v)},uz={button:xb(OP,(s,l,d,f)=>((b,v,C)=>VL(b,v,[],C))(s,l.shared.providers,f)),togglebutton:xb(sS,(s,l,d,f)=>((b,v,C)=>zL(b,v,[],C))(s,l.shared.providers,f)),menubutton:xb(sL,(s,l,d,f)=>Ny(s,"tox-tbtn",l,R.none(),!1,f)),splitbutton:xb(s=>Cr("SplitButton",hV,s),(s,l,d,f)=>((b,v,C)=>{const k=Kn(b.tooltip.getOr("")),E=M=>({isEnabled:()=>!ho.isDisabled(M),setEnabled:z=>ho.set(M,!z),setIconFill:(z,Y)=>{fr(M.element,`svg path[class="${z}"], rect[class="${z}"]`).each(te=>{fn(te,"fill",Y)})},setActive:z=>{fn(M.element,"aria-pressed",z),fr(M.element,"span").each(Y=>{M.getSystem().getByDom(Y).each(te=>ao.set(te,z))})},isActive:()=>fr(M.element,"span").exists(z=>M.getSystem().getByDom(z).exists(ao.isOn)),setText:z=>fr(M.element,"span").each(Y=>M.getSystem().getByDom(Y).each(te=>$n(te,Du,{text:z}))),setIcon:z=>fr(M.element,"span").each(Y=>M.getSystem().getByDom(Y).each(te=>$n(te,Cd,{icon:z}))),setTooltip:z=>{const Y=v.providers.translate(z);fn(M.element,"aria-label",Y),k.set(z)}}),P=Kn(H),F={getApi:E,onSetup:b.onSetup};return Ww.sketch({dom:{tag:"div",classes:["tox-split-button"],attributes:{"aria-pressed":!1,...FL(b.tooltip,v.providers),...U(C)?{"data-mce-name":C}:{}}},onExecute:M=>{const z=E(M);z.isEnabled()&&b.onAction(z)},onItemExecute:(M,z,Y)=>{},splitDropdownBehaviours:Jt([VP(v.providers.isDisabled),Fi(),Io("split-dropdown-events",[ar((M,z)=>GS(M)),Dt(Q4,mo.focus),ib(F,P),zh(F,P)]),b0.config({}),...b.tooltip.map(M=>ii.config({...v.providers.tooltips.getConfig({tooltipText:v.providers.translate(M),onShow:z=>{if(k.get()!==M){const Y=v.providers.translate(k.get());ii.setComponents(z,v.providers.tooltips.getComponents({tooltipText:Y}))}}})})).toArray()]),eventOrder:{[ba()]:["alloy.base.behaviour","split-dropdown-events","tooltipping"],[Lc()]:["split-dropdown-events","tooltipping"]},toggleClass:"tox-tbtn--enabled",lazySink:v.getSink,fetch:lz(E,b,v.providers),parts:{menu:Q_(0,b.columns,b.presets)},components:[Ww.parts.button(eO(b.icon,b.text,R.none(),R.some([ao.config({toggleClass:"tox-tbtn--enabled",toggleOnExecute:!1})]),v.providers)),Ww.parts.arrow({dom:{tag:"button",classes:["tox-tbtn","tox-split-button__chevron"],innerHtml:aP("chevron-down",v.providers.icons)},buttonBehaviours:Jt([VP(v.providers.isDisabled),Fi(),Y_()])}),Ww.parts["aria-descriptor"]({text:v.providers.translate("To open the popup, press Shift+Enter")})]})})(s,l.shared,f)),grouptoolbarbutton:xb(s=>Cr("GroupToolbarButton",mV,s),(s,l,d,f)=>{const b=d.ui.registry.getAll().buttons,v={[Rl]:l.shared.header.isPositionedAtTop()?Kc.TopToBottom:Kc.BottomToTop};if(n0(d)===gd.floating)return((C,k,E,P,F)=>{const M=k.shared,z=Kn(H),Y={toolbarButtonBehaviours:[],getApi:J4,onSetup:C.onSetup},te=[Io("toolbar-group-button-events",[ib(Y,z),zh(Y,z)])];return qh.sketch({lazySink:M.getSink,fetch:()=>ab(me=>{me(Me(E(C.items),bk))}),markers:{toggledClass:"tox-tbtn--enabled"},parts:{button:eO(C.icon,C.text,C.tooltip,R.some(te),M.providers,F),toolbar:{dom:{tag:"div",classes:["tox-toolbar__overflow"],attributes:P}}}})})(s,l,C=>xk(d,{buttons:b,toolbar:C,allowToolbarGroups:!1},l,R.none()),v,f);throw new Error("Toolbar groups are only supported when using floating toolbar mode")})},Kw={styles:(s,l)=>{const d={type:"advanced",...l.styles};return Uw(s,l,BL(s,d),ML,"StylesTextUpdate","styles")},fontsize:(s,l)=>Uw(s,l,LL(s),DL,"FontSizeTextUpdate","fontsize"),fontsizeinput:(s,l)=>((d,f,b,v)=>{let C=R.none();const k=m0(d,"NodeChange SwitchMode",Ce=>{const Te=Ce.getComponent();C=R.some(Te),b.updateInputValue(Te),ho.set(Te,!d.selection.isEditable())}),E=Ce=>({getComponent:j(Ce)}),P=Kn(H),F=En("custom-number-input-events"),M=(Ce,Te,Ie)=>{const qe=C.map(Gt=>ht.getValue(Gt)).getOr(""),ct=b.getNewValue(qe,Ce),Nt=qe.length-`${ct}`.length,It=C.map(Gt=>Gt.element.dom.selectionStart-Nt),Tt=C.map(Gt=>Gt.element.dom.selectionEnd-Nt);b.onAction(ct,Ie),C.each(Gt=>{ht.setValue(Gt,ct),Te&&(It.each(wn=>Gt.element.dom.selectionStart=wn),Tt.each(wn=>Gt.element.dom.selectionEnd=wn))})},z=(Ce,Te)=>M((Ie,qe)=>Ie-qe,Ce,Te),Y=(Ce,Te)=>M((Ie,qe)=>Ie+qe,Ce,Te),te=Ce=>Ra(Ce.element).fold(R.none,Te=>(Za(Te),R.some(!0))),me=Ce=>Th(Ce.element)?(De(Ce.element).each(Te=>Za(Te)),R.some(!0)):R.none(),pe=(Ce,Te,Ie,qe)=>{const ct=Kn(H),Nt=f.shared.providers.translate(Ie),It=En("altExecuting"),Tt=m0(d,"NodeChange SwitchMode",wn=>{ho.set(wn.getComponent(),!d.selection.isEditable())}),Gt=wn=>{ho.isDisabled(wn)||Ce(!0)};return Ya.sketch({dom:{tag:"button",attributes:{"aria-label":Nt,"data-mce-name":Te},classes:qe.concat(Te)},components:[Iw(Te,f.shared.providers.icons)],buttonBehaviours:Jt([ho.config({}),ii.config(f.shared.providers.tooltips.getConfig({tooltipText:Nt})),Io(It,[ib({onSetup:Tt,getApi:E},ct),zh({getApi:E},ct),Dt(Sr(),(wn,Nn)=>{Nn.event.raw.keyCode!==IL.space()&&Nn.event.raw.keyCode!==IL.enter()||ho.isDisabled(wn)||Ce(!1)}),Dt(vi(),Gt),Dt($e(),Gt)])]),eventOrder:{[Sr()]:[It,"keying"],[vi()]:[It,"alloy.base.behaviour"],[$e()]:[It,"alloy.base.behaviour"],[ba()]:["alloy.base.behaviour",It,"tooltipping"],[Lc()]:[It,"tooltipping"]}})},Ae=Es(pe(Ce=>z(!1,Ce),"minus","Decrease font size",[])),he=Es(pe(Ce=>Y(!1,Ce),"plus","Increase font size",[])),ge=Es({dom:{tag:"div",classes:["tox-input-wrapper"]},components:[Vh.sketch({inputBehaviours:Jt([ho.config({}),Io(F,[ib({onSetup:k,getApi:E},P),zh({getApi:E},P)]),Io("input-update-display-text",[Dt(Du,(Ce,Te)=>{ht.setValue(Ce,Te.event.text)}),Dt(Wr(),Ce=>{b.onAction(ht.getValue(Ce))}),Dt(Zm(),Ce=>{b.onAction(ht.getValue(Ce))})]),Hn.config({mode:"special",onEnter:Ce=>(M(fe,!0,!0),R.some(!0)),onEscape:te,onUp:Ce=>(Y(!0,!1),R.some(!0)),onDown:Ce=>(z(!0,!1),R.some(!0)),onLeft:(Ce,Te)=>(Te.cut(),R.none()),onRight:(Ce,Te)=>(Te.cut(),R.none())})])})],behaviours:Jt([mo.config({}),Hn.config({mode:"special",onEnter:me,onSpace:me,onEscape:te}),Io("input-wrapper-events",[Dt(Fn(),Ce=>{ft([Ae,he],Te=>{const Ie=mn(Te.get(Ce).element.dom);Th(Ie)&&kv(Ie)})})])])});return{dom:{tag:"div",classes:["tox-number-input"],attributes:{...U(v)?{"data-mce-name":v}:{}}},components:[Ae.asSpec(),ge.asSpec(),he.asSpec()],behaviours:Jt([mo.config({}),Hn.config({mode:"flow",focusInside:Zv.OnEnterOrSpaceMode,cycles:!1,selector:"button, .tox-input-wrapper",onEscape:Ce=>Th(Ce.element)?R.none():(Za(Ce.element),R.some(!0))})])}})(s,l,(d=>{const f=()=>d.queryCommandValue("FontSize");return{updateInputValue:b=>$n(b,Du,{text:f()}),onAction:(b,v)=>d.execCommand("FontSize",!1,b,{skip_focus:!v}),getNewValue:(b,v)=>{yk(b,["unsupportedLength","empty"]);const C=f(),k=yk(b,["unsupportedLength","empty"]).or(yk(C,["unsupportedLength","empty"])),E=k.map(Y=>Y.value).getOr(16),P=jA(d),F=k.map(Y=>Y.unit).filter(Y=>Y!=="").getOr(P),M=v(E,(Y=>{var te;return(te={em:{step:.1},cm:{step:.1},in:{step:.1},pc:{step:.1},ch:{step:.1},rem:{step:.1}}[Y])!==null&&te!==void 0?te:{step:1}})(F).step),z=`${(Y=>Y>=0)(M)?M:E}${F}`;return z!==C&&((Y,te)=>{Y.dispatch("FontSizeInputTextUpdate",te)})(d,{value:z}),z}}})(s),"fontsizeinput"),fontfamily:(s,l)=>Uw(s,l,RL(s),AL,"FontFamilyTextUpdate","fontfamily"),blocks:(s,l)=>Uw(s,l,q4(s),Z4,"BlocksTextUpdate","blocks"),align:(s,l)=>Uw(s,l,j4(s),SL,"AlignTextUpdate","align")},xk=(s,l,d,f)=>{const b=(C=>{const k=C.toolbar,E=C.buttons;return k===!1?[]:k===void 0||k===!0?(P=>{const F=Me(cz,M=>{const z=Wt(M.items,Y=>vo(P,Y)||vo(Kw,Y));return{name:M.name,items:z}});return Wt(F,M=>M.items.length>0)})(E):h(k)?(P=>{const F=P.split("|");return Me(F,M=>({items:M.trim().split(" ")}))})(k):(P=>re(P,F=>vo(F,"name")&&vo(F,"items")))(k)?k:(console.error("Toolbar type should be string, string[], boolean or ToolbarGroup[]"),[])})(l),v=Me(b,C=>{const k=bn(C.items,E=>E.trim().length===0?[]:((P,F,M,z,Y,te)=>On(F,M.toLowerCase()).orThunk(()=>te.bind(me=>cn(me,pe=>On(F,pe+M.toLowerCase())))).fold(()=>On(Kw,M.toLowerCase()).map(me=>me(P,Y)),me=>me.type!=="grouptoolbarbutton"||z?((pe,Ae,he,ge)=>On(uz,pe.type).fold(()=>(console.error("skipping button defined by",pe),R.none()),Ce=>R.some(Ce(pe,Ae,he,ge))))(me,Y,P,M.toLowerCase()):(console.warn(`Ignoring the '${M}' toolbar button. Group toolbar buttons are only supported when using floating toolbar mode and cannot be nested.`),R.none())))(s,l.buttons,E,l.allowToolbarGroups,d,f).toArray());return{title:R.from(s.translate(C.name)),items:k}});return Wt(v,C=>C.items.length>0)},HL=(s,l,d,f)=>{const b=l.mainUi.outerContainer,v=d.toolbar,C=d.buttons;if(re(v,h)){const k=v.map(E=>{const P={toolbar:E,buttons:C,allowToolbarGroups:d.allowToolbarGroups};return xk(s,P,f,R.none())});sr.setToolbars(b,k)}else sr.setToolbar(b,xk(s,d,f,R.none()))},UL=fa(),dz=UL.os.isiOS()&&UL.os.version.major<=12;var LK=Object.freeze({__proto__:null,render:(s,l,d,f,b)=>{const{mainUi:v,uiMotherships:C}=l,k=Kn(0),E=v.outerContainer;_L(s);const P=mn(b.targetNode),F=ot(bt(P));At(P,v.mothership),((te,me,pe)=>{$h(te)&&At(pe.mainUi.mothership.element,pe.popupUi.mothership),y2(me,pe.dialogUi.mothership)})(s,F,l),s.on("SkinLoaded",()=>{sr.setSidebar(E,d.sidebar,B_(s)),HL(s,l,d,f),k.set(s.getWin().innerWidth),sr.setMenubar(E,xL(s,d)),sr.setViews(E,d.views),((te,me)=>{const{uiMotherships:pe}=me,Ae=te.dom;let he=te.getWin();const ge=te.getDoc().documentElement,Ce=Kn(tr(he.innerWidth,he.innerHeight)),Te=Kn(tr(ge.offsetWidth,ge.offsetHeight)),Ie=()=>{const It=Ce.get();It.left===he.innerWidth&&It.top===he.innerHeight||(Ce.set(tr(he.innerWidth,he.innerHeight)),f0(te))},qe=()=>{const It=te.getDoc().documentElement,Tt=Te.get();Tt.left===It.offsetWidth&&Tt.top===It.offsetHeight||(Te.set(tr(It.offsetWidth,It.offsetHeight)),f0(te))},ct=It=>{((Tt,Gt)=>{Tt.dispatch("ScrollContent",Gt)})(te,It)};Ae.bind(he,"resize",Ie),Ae.bind(he,"scroll",ct);const Nt=u2(mn(te.getBody()),"load",qe);te.on("hide",()=>{ft(pe,It=>{wo(It.element,"display","none")})}),te.on("show",()=>{ft(pe,It=>{As(It.element,"display")})}),te.on("NodeChange",qe),te.on("remove",()=>{Nt.unbind(),Ae.unbind(he,"resize",Ie),Ae.unbind(he,"scroll",ct),he=null})})(s,l)});const M=sr.getSocket(E).getOrDie("Could not find expected socket element");if(dz){rl(M.element,{overflow:"scroll","-webkit-overflow-scrolling":"touch"});const te=((pe,Ae)=>{let he=null;return{cancel:()=>{D(he)||(clearTimeout(he),he=null)},throttle:(...ge)=>{D(he)&&(he=setTimeout(()=>{he=null,pe.apply(null,ge)},20))}}})(()=>{s.dispatch("ScrollContent")}),me=Ga(M.element,"scroll",te.throttle);s.on("remove",me.unbind)}$P(s,l),s.addCommand("ToggleSidebar",(te,me)=>{sr.toggleSidebar(E,me),(pe=>{pe.dispatch("ToggleSidebar")})(s)}),s.addQueryValueHandler("ToggleSidebar",()=>{var te;return(te=sr.whichSidebar(E))!==null&&te!==void 0?te:""}),s.addCommand("ToggleView",(te,me)=>{if(sr.toggleView(E,me)){const pe=E.element;v.mothership.broadcastOn([B()],{target:pe}),ft(C,Ae=>{Ae.broadcastOn([B()],{target:pe})}),D(sr.whichView(E))&&(s.focus(),s.nodeChanged(),sr.refreshToolbar(E)),(Ae=>{Ae.dispatch("ToggleView")})(s)}}),s.addQueryValueHandler("ToggleView",()=>{var te;return(te=sr.whichView(E))!==null&&te!==void 0?te:""});const z=n0(s);z!==gd.sliding&&z!==gd.floating||s.on("ResizeWindow ResizeEditor ResizeContent",()=>{const te=s.getWin().innerWidth;te!==k.get()&&(sr.refreshToolbar(l.mainUi.outerContainer),k.set(te))});const Y={setEnabled:te=>{u0(l,!te)},isEnabled:()=>!ho.isDisabled(E)};return{iframeContainer:M.element.dom,editorContainer:E.element.dom,api:Y}}});const jw=s=>/^[0-9\.]+(|px)$/i.test(""+s)?R.some(parseInt(""+s,10)):R.none(),wb=s=>ee(s)?s+"px":s,Zw=(s,l,d)=>{const f=l.filter(v=>s<v),b=d.filter(v=>s>v);return f.or(b).getOr(s)},tO=s=>{const l=z2(s),d=H2(s),f=gy(s);return jw(l).map(b=>Zw(b,d,f))},{ToolbarLocation:nO,ToolbarMode:WL}=G2,fz=(s,l,d,f,b)=>{const{mainUi:v,uiMotherships:C}=d,k=fy.DOM,E=o0(s),P=Fh(s),F=gy(s).or(tO(s)),M=f.shared.header,z=M.isPositionedAtTop,Y=n0(s),te=Y===WL.sliding||Y===WL.floating,me=Kn(!1),pe=()=>me.get()&&!s.removed,Ae=Te=>te?Te.fold(j(0),Ie=>Ie.components().length>1?Tr(Ie.components()[1].element):0):0,he=()=>{ft(C,Te=>{Te.broadcastOn([W()],{})})},ge=Te=>{if(!pe())return;E||b.on(ct=>{const Nt=F.getOrThunk(()=>_i().width-ca(l).left-10);wo(ct.element,"max-width",Nt+"px")});const Ie=nr(),qe=!(E||E||!(Vl(v.outerContainer.element).left+il(v.outerContainer.element)>=window.innerWidth-40||ni(v.outerContainer.element,"width").isSome())||(wo(v.outerContainer.element,"position","absolute"),wo(v.outerContainer.element,"left","0px"),As(v.outerContainer.element,"width"),0));if(te&&sr.refreshToolbar(v.outerContainer),!E){const ct=nr(),Nt=fs(Ie.left!==ct.left,Ie);((It,Tt)=>{b.on(Gt=>{const wn=sr.getToolbar(v.outerContainer),Nn=Ae(wn),Zn=ui(l),po=((Po,is)=>$h(Po)?Dp(is):R.none())(s,v.outerContainer.element),jo=po.fold(()=>Zn.x,Po=>{const is=ui(Po);return ms(Po,kn())?Zn.x:Zn.x-is.x}),rr=fs(It,Math.ceil(v.outerContainer.element.dom.getBoundingClientRect().width)).filter(Po=>Po>150).map(Po=>{const is=Tt.getOr(nr()),Qn=window.innerWidth-(jo-is.left),gr=Math.max(Math.min(Po,Qn),150);return Qn<Po&&wo(v.outerContainer.element,"width",gr+"px"),{width:gr+"px"}}).getOr({width:"max-content"}),mr={position:"absolute",left:Math.round(jo)+"px",top:po.fold(()=>z()?Math.max(Zn.y-Tr(Gt.element)+Nn,0):Zn.bottom,Po=>{var is;const Qn=ui(Po),gr=(is=Po.dom.scrollTop)!==null&&is!==void 0?is:0,zs=ms(Po,kn())?Math.max(Zn.y-Tr(Gt.element)+Nn,0):Zn.y-Qn.y+gr-Tr(Gt.element)+Nn;return z()?zs:Zn.bottom})+"px"};rl(v.outerContainer.element,{...mr,...rr})})})(qe,Nt),Nt.each(It=>{Df(It.left,ct.top)})}P&&b.on(Te),he()},Ce=()=>!(E||!P||!pe())&&b.get().exists(Te=>{const Ie=M.getDockingMode(),qe=(Nt=>{switch(Yp(s)){case nO.auto:const It=sr.getToolbar(v.outerContainer),Tt=Ae(It),Gt=Tr(Nt.element)-Tt,wn=ui(l);if(wn.y>Gt)return"top";{const Nn=sl(l),Zn=Math.max(Nn.dom.scrollHeight,Tr(Nn));return wn.bottom<Zn-Gt||qi().bottom<wn.bottom-Gt?"bottom":"top"}case nO.bottom:return"bottom";case nO.top:default:return"top"}})(Te);return qe!==Ie&&(ct=qe,b.on(Nt=>{dr.setModes(Nt,[ct]),M.setDockingMode(ct);const It=z()?Kc.TopToBottom:Kc.BottomToTop;fn(Nt.element,Rl,It)}),!0);var ct});return{isVisible:pe,isPositionedAtTop:z,show:()=>{me.set(!0),wo(v.outerContainer.element,"display","flex"),k.addClass(s.getBody(),"mce-edit-focus"),ft(C,Te=>{As(Te.element,"display")}),Ce(),$h(s)?ge(Te=>dr.isDocked(Te)?dr.reset(Te):dr.refresh(Te)):ge(dr.refresh)},hide:()=>{me.set(!1),wo(v.outerContainer.element,"display","none"),k.removeClass(s.getBody(),"mce-edit-focus"),ft(C,Te=>{wo(Te.element,"display","none")})},update:ge,updateMode:()=>{Ce()&&ge(dr.reset)},repositionPopups:he}},KL=(s,l)=>{const d=ui(s);return{pos:l?d.y:d.bottom,bounds:d}};var mz=Object.freeze({__proto__:null,render:(s,l,d,f,b)=>{const{mainUi:v}=l,C=Rs(),k=mn(b.targetNode),E=fz(s,k,l,f,C),P=$D(s);YV(s);const F=()=>{if(C.isSet())return void E.show();C.set(sr.getHeader(v.outerContainer).getOrDie());const z=H_(s);$h(s)?(At(k,v.mothership),At(k,l.popupUi.mothership)):y2(z,v.mothership),y2(z,l.dialogUi.mothership);const Y=()=>{HL(s,l,d,f),sr.setMenubar(v.outerContainer,xL(s,d)),E.show(),((te,me,pe,Ae)=>{const he=Kn(KL(me,pe.isPositionedAtTop())),ge=qe=>{const{pos:ct,bounds:Nt}=KL(me,pe.isPositionedAtTop()),{pos:It,bounds:Tt}=he.get(),Gt=Nt.height!==Tt.height||Nt.width!==Tt.width;he.set({pos:ct,bounds:Nt}),Gt&&f0(te,qe),pe.isVisible()&&(It!==ct?pe.update(dr.reset):Gt&&(pe.updateMode(),pe.repositionPopups()))};Ae||(te.on("activate",pe.show),te.on("deactivate",pe.hide)),te.on("SkinLoaded ResizeWindow",()=>pe.update(dr.reset)),te.on("NodeChange keydown",qe=>{requestAnimationFrame(()=>ge(qe))});let Ce=0;const Te=O3(()=>pe.update(dr.refresh),33);te.on("ScrollWindow",()=>{const qe=nr().left;qe!==Ce&&(Ce=qe,Te.throttle()),pe.updateMode()}),$h(te)&&te.on("ElementScroll",qe=>{pe.update(dr.refresh)});const Ie=Ic();Ie.set(u2(mn(te.getBody()),"load",qe=>ge(qe.raw))),te.on("remove",()=>{Ie.clear()})})(s,k,E,P),s.nodeChanged()};P?s.once("SkinLoaded",Y):Y()};s.on("show",F),s.on("hide",E.hide),P||(s.on("focus",F),s.on("blur",E.hide)),s.on("init",()=>{(s.hasFocus()||P)&&F()}),$P(s,l);const M={show:F,hide:E.hide,setEnabled:z=>{u0(l,!z)},isEnabled:()=>!ho.isDisabled(v.outerContainer)};return{editorContainer:v.outerContainer.element.dom,api:M}}});const jL="contexttoolbar-hide",ZL=(s,l)=>Dt(ZS,(d,f)=>{const b=(v=>({hide:()=>Mo(v,rv()),getValue:()=>ht.getValue(v)}))(s.get(d));l.onAction(b,f.event.buttonApi)}),gz=(s,l)=>{const d=s.label.fold(()=>({}),v=>({"aria-label":v})),f=Es(Vh.sketch({inputClasses:["tox-toolbar-textfield","tox-toolbar-nav-js"],data:s.initValue(),inputAttributes:d,selectOnFocus:!0,inputBehaviours:Jt([Hn.config({mode:"special",onEnter:v=>b.findPrimary(v).map(C=>(Hf(C),!0)),onLeft:(v,C)=>(C.cut(),R.none()),onRight:(v,C)=>(C.cut(),R.none())})])})),b=((v,C,k)=>{const E=Me(C,P=>Es(((F,M,z)=>(Y=>Y.type==="contextformtogglebutton")(M)?((Y,te,me)=>{const{primary:pe,...Ae}=te.original,he=Ua(sS({...Ae,type:"togglebutton",onAction:H}));return zL(he,me,[ZL(Y,te)])})(F,M,z):((Y,te,me)=>{const{primary:pe,...Ae}=te.original,he=Ua(OP({...Ae,type:"button",onAction:H}));return VL(he,me,[ZL(Y,te)])})(F,M,z))(v,P,k)));return{asSpecs:()=>Me(E,P=>P.asSpec()),findPrimary:P=>cn(C,(F,M)=>F.primary?R.from(E[M]).bind(z=>z.getOpt(P)).filter(Fe(ho.isDisabled)):R.none())}})(f,s.commands,l);return[{title:R.none(),items:[f.asSpec()]},{title:R.none(),items:b.asSpecs()}]},GL=(s,l,d)=>l.bottom-s.y>=d&&s.bottom-l.y>=d,oO=s=>{const l=(d=>{const f=d.getBoundingClientRect();if(f.height<=0&&f.width<=0){const b=Ue(mn(d.startContainer),d.startOffset).element;return(Ta(b)?Oa(b):R.some(b)).filter(lr).map(v=>v.dom.getBoundingClientRect()).getOr(f)}return f})(s.selection.getRng());if(s.inline){const d=nr();return Fo(d.left+l.left,d.top+l.top,l.width,l.height)}{const d=kl(mn(s.getBody()));return Fo(d.x+l.left,d.y+l.top,l.width,l.height)}},qL=(s,l,d,f=0)=>{const b=_i(window),v=ui(mn(s.getContentAreaContainer())),C=K2(s)||j2(s)||Z2(s),{x:k,width:E}=((P,F,M)=>{const z=Math.max(P.x+M,F.x);return{x:z,width:Math.min(P.right-M,F.right)-z}})(v,b,f);if(s.inline&&!C)return Fo(k,b.y,E,b.height);{const P=l.header.isPositionedAtTop(),{y:F,bottom:M}=((z,Y,te,me,pe,Ae)=>{const he=mn(z.getContainer()),ge=fr(he,".tox-editor-header").getOr(he),Ce=ui(ge),Te=Ce.y>=Y.bottom,Ie=me&&!Te;if(z.inline&&Ie)return{y:Math.max(Ce.bottom+Ae,te.y),bottom:te.bottom};if(z.inline&&!Ie)return{y:te.y,bottom:Math.min(Ce.y-Ae,te.bottom)};const qe=pe==="line"?ui(he):Y;return Ie?{y:Math.max(Ce.bottom+Ae,te.y),bottom:Math.min(qe.bottom-Ae,te.bottom)}:{y:Math.max(qe.y+Ae,te.y),bottom:Math.min(Ce.y-Ae,te.bottom)}})(s,v,b,P,d,f);return Fo(k,F,E,M-F)}},sO={valignCentre:[],alignCentre:[],alignLeft:["tox-pop--align-left"],alignRight:["tox-pop--align-right"],right:["tox-pop--right"],left:["tox-pop--left"],bottom:["tox-pop--bottom"],top:["tox-pop--top"],inset:["tox-pop--inset"]},E0={maxHeightFunction:Oh(),maxWidthFunction:N4()},Cb=s=>s==="node",hz=(s,l,d,f,b)=>{const v=oO(s),C=f.lastElement().exists(k=>ms(d,k));return((k,E)=>{const P=k.selection.getRng(),F=Ue(mn(P.startContainer),P.startOffset);return P.startContainer===P.endContainer&&P.startOffset===P.endOffset-1&&ms(F.element,E)})(s,d)?C?rk:us:C?((k,E,P)=>{const F=ni(k,"position");wo(k,"position",E);const M=GL(v,ui(l),-20)&&!f.isReposition()?d4:rk;return F.each(z=>wo(k,"position",z)),M})(l,f.getMode()):(f.getMode()==="fixed"?b.y+nr().top:b.y)+(Tr(l)+12)<=v.y?us:Tg},YL=(s,l,d,f)=>{const b=C=>(k,E,P,F,M)=>({...hz(s,F,C,d,M)({...k,y:M.y,height:M.height},E,P,F,M),alwaysFit:!0}),v=C=>Cb(f)?[b(C)]:[];return l?{onLtr:C=>[Zr,Dr,Pr,si,$s,Er].concat(v(C)),onRtl:C=>[Zr,Pr,Dr,$s,si,Er].concat(v(C))}:{onLtr:C=>[Er,Zr,si,Dr,$s,Pr].concat(v(C)),onRtl:C=>[Er,Zr,$s,Pr,si,Dr].concat(v(C))}},wk=(s,l)=>{const d=Wt(l,v=>v.predicate(s.dom)),{pass:f,fail:b}=so(d,v=>v.type==="contexttoolbar");return{contextToolbars:f,contextForms:b}},Ck=(s,l)=>{const d={},f=[],b=[],v={},C={},k=jt(s);return ft(k,E=>{const P=s[E];P.type==="contextform"?((F,M)=>{const z=Ua(Cr("ContextForm",M7,M));d[F]=z,z.launch.map(Y=>{v["form:"+F]={...M.launch,type:Y.type==="contextformtogglebutton"?"togglebutton":"button",onAction:()=>{l(z)}}}),z.scope==="editor"?b.push(z):f.push(z),C[F]=z})(E,P):P.type==="contexttoolbar"&&((F,M)=>{var z;(z=M,Cr("ContextToolbar",IP,z)).each(Y=>{M.scope==="editor"?b.push(Y):f.push(Y),C[F]=Y})})(E,P)}),{forms:d,inNodeScope:f,inEditorScope:b,lookupTable:C,formNavigators:v}},XL=En("forward-slide"),Hy=En("backward-slide"),A0=En("change-slide-event"),rO="tox-pop--resizing",iO="tox-pop--transition",pz=(s,l,d,f)=>{const b=f.backstage,v=b.shared,C=fa().deviceType.isTouch,k=Rs(),E=Rs(),P=Rs(),F=Qi((Ie=>{const qe=Kn([]);return br.sketch({dom:{tag:"div",classes:["tox-pop"]},fireDismissalEventInstead:{event:"doNotDismissYet"},onShow:ct=>{qe.set([]),br.getContent(ct).each(Nt=>{As(Nt.element,"visibility")}),Ir(ct.element,rO),As(ct.element,"width")},inlineBehaviours:Jt([Io("context-toolbar-events",[Uf(ov(),(ct,Nt)=>{Nt.event.raw.propertyName==="width"&&(Ir(ct.element,rO),As(ct.element,"width"))}),Dt(A0,(ct,Nt)=>{const It=ct.element;As(It,"width");const Tt=Pi(It);br.setContent(ct,Nt.event.contents),kr(It,rO);const Gt=Pi(It);wo(It,"width",Tt+"px"),br.getContent(ct).each(wn=>{Nt.event.focus.bind(Nn=>(Za(Nn),Gr(It))).orThunk(()=>(Hn.focusIn(wn),wu(bt(It))))}),setTimeout(()=>{wo(ct.element,"width",Gt+"px")},0)}),Dt(XL,(ct,Nt)=>{br.getContent(ct).each(It=>{qe.set(qe.get().concat([{bar:It,focus:wu(bt(ct.element))}]))}),$n(ct,A0,{contents:Nt.event.forwardContents,focus:R.none()})}),Dt(Hy,(ct,Nt)=>{Ge(qe.get()).each(It=>{qe.set(qe.get().slice(0,qe.get().length-1)),$n(ct,A0,{contents:dl(It.bar),focus:It.focus})})})]),Hn.config({mode:"special",onEscape:ct=>Ge(qe.get()).fold(()=>Ie.onEscape(),Nt=>(Mo(ct,Hy),R.some(!0)))})]),lazySink:()=>Ko.value(Ie.sink)})})({sink:d,onEscape:()=>(s.focus(),R.some(!0))})),M=()=>{const Ie=P.get().getOr("node"),qe=Cb(Ie)?1:0;return qL(s,v,Ie,qe)},z=()=>!(s.removed||C()&&b.isContextMenuOpen()),Y=()=>{if(z()){const Ie=M(),qe=li(P.get(),"node")?((ct,Nt)=>Nt.filter(It=>vn(It)&&wl(It)).map(kl).getOrThunk(()=>oO(ct)))(s,k.get()):oO(s);return Ie.height<=0||!GL(qe,Ie,.01)}return!0},te=()=>{k.clear(),E.clear(),P.clear(),br.hide(F)},me=()=>{if(br.isOpen(F)){const Ie=F.element;As(Ie,"display"),Y()?wo(Ie,"display","none"):(E.set(0),br.reposition(F))}},pe=Ie=>({dom:{tag:"div",classes:["tox-pop__dialog"]},components:[Ie],behaviours:Jt([Hn.config({mode:"acyclic"}),Io("pop-dialog-wrap-events",[ar(qe=>{s.shortcuts.add("ctrl+F9","focus statusbar",()=>Hn.focusIn(qe))}),ld(qe=>{s.shortcuts.remove("ctrl+F9")})])])}),Ae=ua(()=>Ck(l,Ie=>{const qe=he([Ie]);$n(F,XL,{forwardContents:pe(qe)})})),he=Ie=>{const{buttons:qe}=s.ui.registry.getAll(),ct={...qe,...Ae().formNavigators},Nt=n0(s)===gd.scrolling?gd.scrolling:gd.default,It=Zt(Me(Ie,Tt=>Tt.type==="contexttoolbar"?((Gt,wn)=>xk(s,{buttons:Gt,toolbar:wn.items,allowToolbarGroups:!1},f.backstage,R.some(["form:"])))(ct,Tt):((Gt,wn)=>gz(Gt,wn))(Tt,v.providers)));return $4({type:Nt,uid:En("context-toolbar"),initGroups:It,onEscape:R.none,cyclicKeying:!0,providers:v.providers})},ge=(Ie,qe)=>{if(Te.cancel(),!z())return;const ct=he(Ie),Nt=Ie[0].position,It=((Gt,wn)=>{const Nn=Gt==="node"?v.anchors.node(wn):v.anchors.cursor(),Zn=((po,jo,rr,mr)=>jo==="line"?{bubble:mc(12,0,sO),layouts:{onLtr:()=>[$1],onRtl:()=>[V1]},overrides:E0}:{bubble:mc(0,12,sO,1/12),layouts:YL(po,rr,mr,jo),overrides:E0})(s,Gt,C(),{lastElement:k.get,isReposition:()=>li(E.get(),0),getMode:()=>wa.getMode(d)});return Fs(Nn,Zn)})(Nt,qe);P.set(Nt),E.set(1);const Tt=F.element;As(Tt,"display"),(Gt=>li(en(Gt,k.get(),ms),!0))(qe)||(Ir(Tt,iO),wa.reset(d,F)),br.showWithinBounds(F,pe(ct),{anchor:It,transition:{classes:[iO],mode:"placement"}},()=>R.some(M())),qe.fold(k.clear,k.set),Y()&&wo(Tt,"display","none")};let Ce=!1;const Te=O3(()=>{!s.hasFocus()||s.removed||Ce||(ul(F.element,iO)?Te.throttle():((Ie,qe)=>{const ct=mn(qe.getBody()),Nt=Tt=>ms(Tt,ct),It=mn(qe.selection.getNode());return(Tt=>!Nt(Tt)&&!Lr(ct,Tt))(It)?R.none():((Tt,Gt,wn)=>{const Nn=wk(Tt,Gt);if(Nn.contextForms.length>0)return R.some({elem:Tt,toolbars:[Nn.contextForms[0]]});{const Zn=wk(Tt,wn);if(Zn.contextForms.length>0)return R.some({elem:Tt,toolbars:[Zn.contextForms[0]]});if(Nn.contextToolbars.length>0||Zn.contextToolbars.length>0){const po=(jo=>{if(jo.length<=1)return jo;{const rr=Qn=>Sn(jo,gr=>gr.position===Qn),mr=Qn=>Wt(jo,gr=>gr.position===Qn),Po=rr("selection"),is=rr("node");if(Po||is){if(is&&Po){const Qn=mr("node"),gr=Me(mr("selection"),zs=>({...zs,position:"node"}));return Qn.concat(gr)}return mr(Po?"selection":"node")}return mr("line")}})(Nn.contextToolbars.concat(Zn.contextToolbars));return R.some({elem:Tt,toolbars:po})}return R.none()}})(It,Ie.inNodeScope,Ie.inEditorScope).orThunk(()=>((Tt,Gt,wn)=>Tt(Gt)?R.none():uh(Gt,Nn=>{if(lr(Nn)){const{contextToolbars:Zn,contextForms:po}=wk(Nn,wn.inNodeScope),jo=po.length>0?po:(rr=>{if(rr.length<=1)return rr;{const mr=Po=>J(rr,is=>is.position===Po);return mr("selection").orThunk(()=>mr("node")).orThunk(()=>mr("line")).map(Po=>Po.position).fold(()=>[],Po=>Wt(rr,is=>is.position===Po))}})(Zn);return jo.length>0?R.some({elem:Nn,toolbars:jo}):R.none()}return R.none()},Tt))(Nt,It,Ie))})(Ae(),s).fold(te,Ie=>{ge(Ie.toolbars,R.some(Ie.elem))}))},17);s.on("init",()=>{s.on("remove",te),s.on("ScrollContent ScrollWindow ObjectResized ResizeEditor longpress",me),s.on("click keyup focus SetContent",Te.throttle),s.on(jL,te),s.on("contexttoolbar-show",Ie=>{const qe=Ae();On(qe.lookupTable,Ie.toolbarKey).each(ct=>{ge([ct],fs(Ie.target!==s,Ie.target)),br.getContent(F).each(Hn.focusIn)})}),s.on("focusout",Ie=>{I_.setEditorTimeout(s,()=>{Gr(d.element).isNone()&&Gr(F.element).isNone()&&te()},0)}),s.on("SwitchMode",()=>{s.mode.isReadOnly()&&te()}),s.on("ExecCommand",({command:Ie})=>{Ie.toLowerCase()==="toggleview"&&te()}),s.on("AfterProgressState",Ie=>{Ie.state?te():s.hasFocus()&&Te.throttle()}),s.on("dragstart",()=>{Ce=!0}),s.on("dragend drop",()=>{Ce=!1}),s.on("NodeChange",Ie=>{Gr(F.element).fold(Te.throttle,H)})})},JL=(s,l)=>{const d=()=>{const f=l.getOptions(s),b=l.getCurrent(s).map(l.hash),v=Rs();return Me(f,C=>({type:"togglemenuitem",text:l.display(C),onSetup:k=>{const E=F=>{F&&(v.on(M=>M.setActive(!1)),v.set(k)),k.setActive(F)};E(li(b,l.hash(C)));const P=l.watcher(s,C,E);return()=>{v.clear(),P()}},onAction:()=>l.setCurrent(s,C)}))};s.ui.registry.addMenuButton(l.name,{tooltip:l.text,icon:l.icon,fetch:f=>f(d()),onSetup:l.onToolbarSetup}),s.ui.registry.addNestedMenuItem(l.name,{type:"nestedmenuitem",text:l.text,getSubmenuItems:d,onSetup:l.onMenuSetup})},bz=s=>{JL(s,(l=>({name:"lineheight",text:"Line height",icon:"line-height",getOptions:jD,hash:d=>((f,b)=>yk(f,["fixed","relative","empty"]).map(({value:v,unit:C})=>v+C))(d).getOr(d),display:fe,watcher:(d,f,b)=>d.formatter.formatChanged("lineheight",b,!1,{value:f}).unbind,getCurrent:d=>R.from(d.queryCommandValue("LineHeight")),setCurrent:(d,f)=>d.execCommand("LineHeight",!1,f),onToolbarSetup:$i(l),onMenuSetup:$i(l)}))(s)),(l=>R.from(UA(l)).map(d=>({name:"language",text:"Language",icon:"language",getOptions:j(d),hash:f=>N(f.customCode)?f.code:`${f.code}/${f.customCode}`,display:f=>f.title,watcher:(f,b,v)=>{var C;return f.formatter.formatChanged("lang",v,!1,{value:b.code,customValue:(C=b.customCode)!==null&&C!==void 0?C:null}).unbind},getCurrent:f=>{const b=mn(f.selection.getNode());return dh(b,v=>R.some(v).filter(lr).bind(C=>ns(C,"lang").map(k=>({code:k,customCode:ns(C,"data-mce-lang").getOrUndefined(),title:""}))))},setCurrent:(f,b)=>f.execCommand("Lang",!1,b),onToolbarSetup:f=>{const b=Ic();return f.setActive(l.formatter.match("lang",{},void 0,!0)),b.set(l.formatter.formatChanged("lang",f.setActive,!0)),ky(b.clear,$i(l)(f))},onMenuSetup:$i(l)})))(s).each(l=>JL(s,l))},vz=s=>m0(s,"NodeChange",l=>{l.setEnabled(s.queryCommandState("outdent")&&s.selection.isEditable())}),Gw=(s,l)=>d=>{d.setActive(l.get());const f=b=>{l.set(b.state),d.setActive(b.state)};return s.on("PastePlainTextToggle",f),ky(()=>s.off("PastePlainTextToggle",f),$i(s)(d))},aO=(s,l)=>()=>{s.execCommand("mceToggleFormat",!1,l)},lO=s=>{(l=>{(d=>{Zh.each([{name:"bold",text:"Bold",icon:"bold",shortcut:"Meta+B"},{name:"italic",text:"Italic",icon:"italic",shortcut:"Meta+I"},{name:"underline",text:"Underline",icon:"underline",shortcut:"Meta+U"},{name:"strikethrough",text:"Strikethrough",icon:"strike-through"},{name:"subscript",text:"Subscript",icon:"subscript"},{name:"superscript",text:"Superscript",icon:"superscript"}],(f,b)=>{d.ui.registry.addToggleButton(f.name,{tooltip:f.text,icon:f.icon,onSetup:fm(d,f.name),onAction:aO(d,f.name),shortcut:f.shortcut})});for(let f=1;f<=6;f++){const b="h"+f,v=`Access+${f}`;d.ui.registry.addToggleButton(b,{text:b.toUpperCase(),tooltip:"Heading "+f,onSetup:fm(d,b),onAction:aO(d,b),shortcut:v})}})(l),(d=>{Zh.each([{name:"copy",text:"Copy",action:"Copy",icon:"copy"},{name:"help",text:"Help",action:"mceHelp",icon:"help",shortcut:"Alt+0"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all",shortcut:"Meta+A"},{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document"},{name:"print",text:"Print",action:"mcePrint",icon:"print",shortcut:"Meta+P"}],f=>{d.ui.registry.addButton(f.name,{tooltip:f.text,icon:f.icon,onAction:pc(d,f.action),shortcut:f.shortcut})}),Zh.each([{name:"cut",text:"Cut",action:"Cut",icon:"cut"},{name:"paste",text:"Paste",action:"Paste",icon:"paste"},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting"},{name:"remove",text:"Remove",action:"Delete",icon:"remove"},{name:"hr",text:"Horizontal line",action:"InsertHorizontalRule",icon:"horizontal-rule"}],f=>{d.ui.registry.addButton(f.name,{tooltip:f.text,icon:f.icon,onSetup:$i(d),onAction:pc(d,f.action)})})})(l),(d=>{Zh.each([{name:"blockquote",text:"Blockquote",action:"mceBlockQuote",icon:"quote"}],f=>{d.ui.registry.addToggleButton(f.name,{tooltip:f.text,icon:f.icon,onAction:pc(d,f.action),onSetup:fm(d,f.name)})})})(l)})(s),(l=>{Zh.each([{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document"},{name:"copy",text:"Copy",action:"Copy",icon:"copy",shortcut:"Meta+C"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all",shortcut:"Meta+A"},{name:"print",text:"Print...",action:"mcePrint",icon:"print",shortcut:"Meta+P"}],d=>{l.ui.registry.addMenuItem(d.name,{text:d.text,icon:d.icon,shortcut:d.shortcut,onAction:pc(l,d.action)})}),Zh.each([{name:"bold",text:"Bold",action:"Bold",icon:"bold",shortcut:"Meta+B"},{name:"italic",text:"Italic",action:"Italic",icon:"italic",shortcut:"Meta+I"},{name:"underline",text:"Underline",action:"Underline",icon:"underline",shortcut:"Meta+U"},{name:"strikethrough",text:"Strikethrough",action:"Strikethrough",icon:"strike-through"},{name:"subscript",text:"Subscript",action:"Subscript",icon:"subscript"},{name:"superscript",text:"Superscript",action:"Superscript",icon:"superscript"},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting"},{name:"cut",text:"Cut",action:"Cut",icon:"cut",shortcut:"Meta+X"},{name:"paste",text:"Paste",action:"Paste",icon:"paste",shortcut:"Meta+V"},{name:"hr",text:"Horizontal line",action:"InsertHorizontalRule",icon:"horizontal-rule"}],d=>{l.ui.registry.addMenuItem(d.name,{text:d.text,icon:d.icon,shortcut:d.shortcut,onSetup:$i(l),onAction:pc(l,d.action)})}),l.ui.registry.addMenuItem("codeformat",{text:"Code",icon:"sourcecode",onSetup:$i(l),onAction:aO(l,"code")})})(s)},_k=(s,l)=>m0(s,"Undo Redo AddUndo TypingUndo ClearUndos SwitchMode",d=>{d.setEnabled(!s.mode.isReadOnly()&&s.undoManager[l]())}),yz=s=>m0(s,"VisualAid",l=>{l.setActive(s.hasVisual)}),xz=(s,l)=>{(d=>{ft([{name:"alignleft",text:"Align left",cmd:"JustifyLeft",icon:"align-left"},{name:"aligncenter",text:"Align center",cmd:"JustifyCenter",icon:"align-center"},{name:"alignright",text:"Align right",cmd:"JustifyRight",icon:"align-right"},{name:"alignjustify",text:"Justify",cmd:"JustifyFull",icon:"align-justify"}],f=>{d.ui.registry.addToggleButton(f.name,{tooltip:f.text,icon:f.icon,onAction:pc(d,f.cmd),onSetup:fm(d,f.name)})}),d.ui.registry.addButton("alignnone",{tooltip:"No alignment",icon:"align-none",onSetup:$i(d),onAction:pc(d,"JustifyNone")})})(s),lO(s),((d,f)=>{((b,v)=>{const C=zy(v,j4(b));b.ui.registry.addNestedMenuItem("align",{text:v.shared.providers.translate("Align"),onSetup:$i(b),getSubmenuItems:()=>C.items.validateItems(C.getStyleItems())})})(d,f),((b,v)=>{const C=zy(v,RL(b));b.ui.registry.addNestedMenuItem("fontfamily",{text:v.shared.providers.translate("Fonts"),onSetup:$i(b),getSubmenuItems:()=>C.items.validateItems(C.getStyleItems())})})(d,f),((b,v)=>{const C={type:"advanced",...v.styles},k=zy(v,BL(b,C));b.ui.registry.addNestedMenuItem("styles",{text:"Formats",onSetup:$i(b),getSubmenuItems:()=>k.items.validateItems(k.getStyleItems())})})(d,f),((b,v)=>{const C=zy(v,q4(b));b.ui.registry.addNestedMenuItem("blocks",{text:"Blocks",onSetup:$i(b),getSubmenuItems:()=>C.items.validateItems(C.getStyleItems())})})(d,f),((b,v)=>{const C=zy(v,LL(b));b.ui.registry.addNestedMenuItem("fontsize",{text:"Font sizes",onSetup:$i(b),getSubmenuItems:()=>C.items.validateItems(C.getStyleItems())})})(d,f)})(s,l),(d=>{(f=>{f.ui.registry.addMenuItem("undo",{text:"Undo",icon:"undo",shortcut:"Meta+Z",onSetup:_k(f,"hasUndo"),onAction:pc(f,"undo")}),f.ui.registry.addMenuItem("redo",{text:"Redo",icon:"redo",shortcut:"Meta+Y",onSetup:_k(f,"hasRedo"),onAction:pc(f,"redo")})})(d),(f=>{f.ui.registry.addButton("undo",{tooltip:"Undo",icon:"undo",enabled:!1,onSetup:_k(f,"hasUndo"),onAction:pc(f,"undo"),shortcut:"Meta+Z"}),f.ui.registry.addButton("redo",{tooltip:"Redo",icon:"redo",enabled:!1,onSetup:_k(f,"hasRedo"),onAction:pc(f,"redo"),shortcut:"Meta+Y"})})(d)})(s),(d=>{(k=>{k.addCommand("mceApplyTextcolor",(E,P)=>{((F,M,z)=>{F.undoManager.transact(()=>{F.focus(),F.formatter.apply(M,{value:z}),F.nodeChanged()})})(k,E,P)}),k.addCommand("mceRemoveTextcolor",E=>{((P,F)=>{P.undoManager.transact(()=>{P.focus(),P.formatter.remove(F,{value:null},void 0,!0),P.nodeChanged()})})(k,E)})})(d);const f=rN(d),b=iN(d),v=Kn(f),C=Kn(b);zT(d,"forecolor","forecolor",v),zT(d,"backcolor","hilitecolor",C),Ay(d,"forecolor","forecolor","Text color",v),Ay(d,"backcolor","hilitecolor","Background color",C)})(s),(d=>{(f=>{f.ui.registry.addButton("visualaid",{tooltip:"Visual aids",text:"Visual aids",onAction:pc(f,"mceToggleVisualAid")})})(d),(f=>{f.ui.registry.addToggleMenuItem("visualaid",{text:"Visual aids",onSetup:yz(f),onAction:pc(f,"mceToggleVisualAid")})})(d)})(s),(d=>{(f=>{f.ui.registry.addButton("outdent",{tooltip:"Decrease indent",icon:"outdent",onSetup:vz(f),onAction:pc(f,"outdent")}),f.ui.registry.addButton("indent",{tooltip:"Increase indent",icon:"indent",onSetup:$i(f),onAction:pc(f,"indent")})})(d)})(s),bz(s),(d=>{const f=Kn(WD(d)),b=()=>d.execCommand("mceTogglePlainTextPaste");d.ui.registry.addToggleButton("pastetext",{active:!1,icon:"paste-text",tooltip:"Paste as text",onAction:b,onSetup:Gw(d,f)}),d.ui.registry.addToggleMenuItem("pastetext",{text:"Paste as text",icon:"paste-text",onAction:b,onSetup:Gw(d,f)})})(s)},QL=s=>h(s)?s.split(/[ ,]/):s,eM=s=>l=>l.options.get(s),tM=eM("contextmenu_never_use_native"),wz=eM("contextmenu_avoid_overlap"),cO=s=>{const l=s.ui.registry.getAll().contextMenus,d=s.options.get("contextmenu");return s.options.isSet("contextmenu")?d:Wt(d,f=>vo(l,f))},qw=(s,l)=>({type:"makeshift",x:s,y:l}),nM=s=>s.type==="longpress"||s.type.indexOf("touch")===0,Cz=(s,l)=>l.type==="contextmenu"||l.type==="longpress"?s.inline?(d=>{if(nM(d)){const f=d.touches[0];return qw(f.pageX,f.pageY)}return qw(d.pageX,d.pageY)})(l):((d,f)=>{const b=fy.DOM.getPos(d);return((v,C,k)=>qw(v.x+C,v.y+k))(f,b.x,b.y)})(s.getContentAreaContainer(),(d=>{if(nM(d)){const f=d.touches[0];return qw(f.clientX,f.clientY)}return qw(d.clientX,d.clientY)})(l)):oM(s),oM=s=>({type:"selection",root:mn(s.selection.getNode())}),sM=(s,l,d)=>{switch(d){case"node":return(f=>({type:"node",node:R.some(mn(f.selection.getNode())),root:mn(f.getBody())}))(s);case"point":return Cz(s,l);case"selection":return oM(s)}},rM=(s,l,d,f,b,v)=>{const C=d(),k=sM(s,l,v);w0(C,dm.CLOSE_ON_EXECUTE,f,{isHorizontalMenu:!1,search:R.none()}).map(E=>{l.preventDefault(),br.showMenuAt(b,{anchor:k},{menu:{markers:i0("normal")},data:E})})},iM={onLtr:()=>[Zr,Dr,Pr,si,$s,Er,us,Tg,Mw,yb,vc,bc],onRtl:()=>[Zr,Pr,Dr,$s,si,Er,us,Tg,vc,bc,Mw,yb]},_z={valignCentre:[],alignCentre:[],alignLeft:["tox-pop--align-left"],alignRight:["tox-pop--align-right"],right:["tox-pop--right"],left:["tox-pop--left"],bottom:["tox-pop--bottom"],top:["tox-pop--top"]},Sz=(s,l,d,f,b,v)=>{const C=fa(),k=C.os.isiOS(),E=C.os.isMacOS(),P=C.os.isAndroid(),F=C.deviceType.isTouch(),M=()=>{const z=d();((Y,te,me,pe,Ae,he,ge)=>{const Ce=((Te,Ie,qe)=>{const ct=sM(Te,Ie,qe);return{bubble:mc(0,qe==="point"?12:0,_z),layouts:iM,overrides:{maxWidthFunction:N4(),maxHeightFunction:Oh()},...ct}})(Y,te,he);w0(me,dm.CLOSE_ON_EXECUTE,pe,{isHorizontalMenu:!0,search:R.none()}).map(Te=>{te.preventDefault();const Ie=ge?hl.HighlightMenuAndItem:hl.HighlightNone;br.showMenuWithinBounds(Ae,{anchor:Ce},{menu:{markers:i0("normal"),highlightOnOpen:Ie},data:Te,type:"horizontal"},()=>R.some(qL(Y,pe.shared,he==="node"?"node":"selection"))),Y.dispatch(jL)})})(s,l,z,f,b,v,!(P||k||E&&F))};if((E||k)&&v!=="node"){const z=()=>{(Y=>{const te=Y.selection.getRng(),me=()=>{I_.setEditorTimeout(Y,()=>{Y.selection.setRng(te)},10),he()};Y.once("touchend",me);const pe=ge=>{ge.preventDefault(),ge.stopImmediatePropagation()};Y.on("mousedown",pe,!0);const Ae=()=>he();Y.once("longpresscancel",Ae);const he=()=>{Y.off("touchend",me),Y.off("longpresscancel",Ae),Y.off("mousedown",pe)}})(s),M()};((Y,te)=>{const me=Y.selection;if(me.isCollapsed()||te.touches.length<1)return!1;{const pe=te.touches[0],Ae=me.getRng();return g2(Y.getWin(),Qf.domRange(Ae)).exists(he=>he.left<=pe.clientX&&he.right>=pe.clientX&&he.top<=pe.clientY&&he.bottom>=pe.clientY)}})(s,l)?z():(s.once("selectionchange",z),s.once("touchend",()=>s.off("selectionchange",z)))}else M()},aM=s=>h(s)?s==="|":s.type==="separator",uO={type:"separator"},lM=s=>{const l=d=>({text:d.text,icon:d.icon,enabled:d.enabled,shortcut:d.shortcut});if(h(s))return s;switch(s.type){case"separator":return uO;case"submenu":return{type:"nestedmenuitem",...l(s),getSubmenuItems:()=>{const f=s.getSubmenuItems();return h(f)?f:Me(f,lM)}};default:const d=s;return{type:"menuitem",...l(d),onAction:de(d.onAction)}}},dO=(s,l)=>{if(l.length===0)return s;const d=Ge(s).filter(f=>!aM(f)).fold(()=>[],f=>[uO]);return s.concat(d).concat(l).concat([uO])},T0=(s,l)=>!(d=>d.type==="longpress"||vo(d,"touches"))(l)&&(l.button!==2||l.target===s.getBody()&&l.pointerType===""),cM=(s,l)=>T0(s,l)?s.selection.getStart(!0):l.target,kz=(s,l,d)=>{const f=fa().deviceType.isTouch,b=Qi(br.sketch({dom:{tag:"div"},lazySink:l,onEscape:()=>s.focus(),onShow:()=>d.setContextMenuState(!0),onHide:()=>d.setContextMenuState(!1),fireDismissalEventInstead:{},inlineBehaviours:Jt([Io("dismissContextMenu",[Dt(fh(),(k,E)=>{T.close(k),s.focus()})])])})),v=()=>br.hide(b),C=k=>{if(tM(s)&&k.preventDefault(),((P,F)=>F.ctrlKey&&!tM(P))(s,k)||(P=>cO(P).length===0)(s))return;const E=((P,F)=>{const M=wz(P),z=T0(P,F)?"selection":"point";if(xl(M)){const Y=cM(P,F);return Oy(mn(Y),M)?"node":z}return z})(s,k);(f()?Sz:rM)(s,k,()=>{const P=cM(s,k),F=s.ui.registry.getAll(),M=cO(s);return((z,Y,te)=>{const me=sn(Y,(pe,Ae)=>On(z,Ae.toLowerCase()).map(he=>{const ge=he.update(te);if(h(ge)&&xl(Tc(ge)))return dO(pe,ge.split(" "));if(I(ge)&&ge.length>0){const Ce=Me(ge,lM);return dO(pe,Ce)}return pe}).getOrThunk(()=>pe.concat([Ae])),[]);return me.length>0&&aM(me[me.length-1])&&me.pop(),me})(F.contextMenus,M,P)},d,b,E)};s.on("init",()=>{const k="ResizeEditor ScrollContent ScrollWindow longpresscancel"+(f()?"":" ResizeWindow");s.on(k,v),s.on("longpress contextmenu",C)})},fO=Jl([{offset:["x","y"]},{absolute:["x","y"]},{fixed:["x","y"]}]),O0=s=>l=>l.translate(-s.left,-s.top),yc=s=>l=>l.translate(s.left,s.top),gm=s=>(l,d)=>sn(s,(f,b)=>b(f),tr(l,d)),Yw=(s,l,d)=>s.fold(gm([yc(d),O0(l)]),gm([O0(l)]),gm([])),Uy=(s,l,d)=>s.fold(gm([yc(d)]),gm([]),gm([yc(l)])),uM=(s,l,d)=>s.fold(gm([]),gm([O0(d)]),gm([yc(l),O0(d)])),dM=(s,l,d)=>{const f=s.fold((b,v)=>({position:R.some("absolute"),left:R.some(b+"px"),top:R.some(v+"px")}),(b,v)=>({position:R.some("absolute"),left:R.some(b-d.left+"px"),top:R.some(v-d.top+"px")}),(b,v)=>({position:R.some("fixed"),left:R.some(b+"px"),top:R.some(v+"px")}));return{right:R.none(),bottom:R.none(),...f}},mO=(s,l,d,f)=>{const b=(v,C)=>(k,E)=>{const P=v(l,d,f);return C(k.getOr(P.left),E.getOr(P.top))};return s.fold(b(uM,Xw),b(Uy,Yh),b(Yw,R0))},Xw=fO.offset,Yh=fO.absolute,R0=fO.fixed,fM=(s,l)=>{const d=Go(s,l);return N(d)?NaN:parseInt(d,10)},mM=(s,l,d,f,b,v)=>{const C=((P,F,M,z)=>((Y,te)=>{const me=Y.element,pe=fM(me,te.leftAttr),Ae=fM(me,te.topAttr);return isNaN(pe)||isNaN(Ae)?R.none():R.some(tr(pe,Ae))})(P,F).fold(()=>M,Y=>R0(Y.left+z.left,Y.top+z.top)))(s,l,d,f),k=l.mustSnap?hM(s,l,C,b,v):pM(s,l,C,b,v),E=Yw(C,b,v);return((P,F,M)=>{const z=P.element;fn(z,F.leftAttr,M.left+"px"),fn(z,F.topAttr,M.top+"px")})(s,l,E),k.fold(()=>({coord:R0(E.left,E.top),extra:R.none()}),P=>({coord:P.output,extra:P.extra}))},gM=(s,l,d,f)=>cn(s,b=>{const v=b.sensor;return((k,E,P,F,M,z)=>{const Y=Uy(k,M,z),te=Uy(E,M,z);return Math.abs(Y.left-te.left)<=P&&Math.abs(Y.top-te.top)<=F})(l,v,b.range.left,b.range.top,d,f)?R.some({output:mO(b.output,l,d,f),extra:b.extra}):R.none()}),hM=(s,l,d,f,b)=>{const v=l.getSnapPoints(s);return gM(v,d,f,b).orThunk(()=>sn(v,(k,E)=>{const P=E.sensor,F=((M,z,Y,te,me,pe)=>{const Ae=Uy(M,me,pe),he=Uy(z,me,pe),ge=Math.abs(Ae.left-he.left),Ce=Math.abs(Ae.top-he.top);return tr(ge,Ce)})(d,P,E.range.left,E.range.top,f,b);return k.deltas.fold(()=>({deltas:R.some(F),snap:R.some(E)}),M=>(F.left+F.top)/2<=(M.left+M.top)/2?{deltas:R.some(F),snap:R.some(E)}:k)},{deltas:R.none(),snap:R.none()}).snap.map(k=>({output:mO(k.output,d,f,b),extra:k.extra})))},pM=(s,l,d,f,b)=>{const v=l.getSnapPoints(s);return gM(v,d,f,b)};var bM=Object.freeze({__proto__:null,snapTo:(s,l,d,f)=>{const b=l.getTarget(s.element);if(l.repositionTarget){const v=ci(s.element),C=nr(v),k=Wf(b),E=((F,M,z)=>({coord:mO(F.output,F.output,M,z),extra:F.extra}))(f,C,k),P=dM(E.coord,0,k);Cl(b,P)}}});const gO="data-initial-z-index",vM=(s,l)=>{s.getSystem().addToGui(l),(d=>{Oa(d.element).filter(lr).each(f=>{ni(f,"z-index").each(b=>{fn(f,gO,b)}),wo(f,"z-index",Ar(d.element,"z-index"))})})(l)},Ez=s=>{(l=>{Oa(l.element).filter(lr).each(d=>{ns(d,gO).fold(()=>As(d,"z-index"),f=>wo(d,"z-index",f)),Lo(d,gO)})})(s),s.getSystem().removeFromGui(s)},yM=(s,l,d)=>s.getSystem().build(ff.sketch({dom:{styles:{left:"0px",top:"0px",width:"100%",height:"100%",position:"fixed","z-index":"1000000000000000"},classes:[l]},events:d}));var Az=Or("snaps",[Ft("getSnapPoints"),rs("onSensor"),Ft("leftAttr"),Ft("topAttr"),mt("lazyViewport",qi),mt("mustSnap",!1)]);const hO=[mt("useFixed",xe),Ft("blockerClass"),mt("getTarget",fe),mt("onDrag",H),mt("repositionTarget",!0),mt("onDrop",H),or("getBounds",qi),Az],pO=s=>{return(l=ni(s,"left"),d=ni(s,"top"),f=ni(s,"position"),l.isSome()&&d.isSome()&&f.isSome()?R.some(((b,v,C)=>(C==="fixed"?R0:Xw)(parseInt(b,10),parseInt(v,10)))(l.getOrDie(),d.getOrDie(),f.getOrDie())):R.none()).getOrThunk(()=>{const b=Vl(s);return Yh(b.left,b.top)});var l,d,f},xM=(s,l)=>({bounds:s.getBounds(),height:Oc(l.element),width:il(l.element)}),bO=(s,l,d,f,b)=>{const v=d.update(f,b),C=d.getStartData().getOrThunk(()=>xM(l,s));v.each(k=>{((E,P,F,M)=>{const z=P.getTarget(E.element);if(P.repositionTarget){const Y=ci(E.element),te=nr(Y),me=Wf(z),pe=pO(z),Ae=((ge,Ce,Te,Ie,qe,ct,Nt)=>((It,Tt,Gt,wn,Nn)=>{const Zn=Nn.bounds,po=Uy(Tt,Gt,wn),jo=Vc(po.left,Zn.x,Zn.x+Zn.width-Nn.width),rr=Vc(po.top,Zn.y,Zn.y+Zn.height-Nn.height),mr=Yh(jo,rr);return Tt.fold(()=>{const Po=uM(mr,Gt,wn);return Xw(Po.left,Po.top)},j(mr),()=>{const Po=Yw(mr,Gt,wn);return R0(Po.left,Po.top)})})(0,Ce.fold(()=>{const It=(Tt=Te,Gt=ct.left,wn=ct.top,Tt.fold((Zn,po)=>Xw(Zn+Gt,po+wn),(Zn,po)=>Yh(Zn+Gt,po+wn),(Zn,po)=>R0(Zn+Gt,po+wn)));var Tt,Gt,wn;const Nn=Yw(It,Ie,qe);return R0(Nn.left,Nn.top)},It=>{const Tt=mM(ge,It,Te,ct,Ie,qe);return Tt.extra.each(Gt=>{It.onSensor(ge,Gt)}),Tt.coord}),Ie,qe,Nt))(E,P.snaps,pe,te,me,M,F),he=dM(Ae,0,me);Cl(z,he)}P.onDrag(E,z,M)})(s,l,C,k)})},vO=(s,l,d,f)=>{l.each(Ez),d.snaps.each(v=>{((C,k)=>{((E,P)=>{const F=E.element;Lo(F,P.leftAttr),Lo(F,P.topAttr)})(C,k)})(s,v)});const b=d.getTarget(s.element);f.reset(),d.onDrop(s,b)},yO=s=>(l,d)=>{const f=b=>{d.setStartData(xM(l,b))};return _o([Dt(iv(),b=>{d.getStartData().each(()=>f(b))}),...s(l,d,f)])};var Tz=Object.freeze({__proto__:null,getData:s=>R.from(tr(s.x,s.y)),getDelta:(s,l)=>tr(l.left-s.left,l.top-s.top)});const wM=(s,l,d)=>[Dt($t(),(f,b)=>{if(b.event.raw.button!==0)return;b.stop();const v=()=>vO(f,R.some(E),s,l),C=YT(v,200),k={drop:v,delayDrop:C.schedule,forceDrop:v,move:P=>{C.cancel(),bO(f,s,l,Tz,P)}},E=yM(f,s.blockerClass,(P=>_o([Dt($t(),P.forceDrop),Dt(xo(),P.drop),Dt(Jn(),(F,M)=>{P.move(M.event)}),Dt(To(),P.delayDrop)]))(k));d(f),vM(f,E)})],Oz=[...hO,Xs("dragger",{handlers:yO(wM)})];var CM=Object.freeze({__proto__:null,getData:s=>{const l=s.raw.touches;return l.length===1?(d=>{const f=d[0];return R.some(tr(f.clientX,f.clientY))})(l):R.none()},getDelta:(s,l)=>tr(l.left-s.left,l.top-s.top)});const _M=(s,l,d)=>{const f=Rs(),b=v=>{vO(v,f.get(),s,l),f.clear()};return[Dt(G(),(v,C)=>{C.stop();const k=()=>b(v),E={drop:k,delayDrop:H,forceDrop:k,move:F=>{bO(v,s,l,CM,F)}},P=yM(v,s.blockerClass,(F=>_o([Dt(G(),F.forceDrop),Dt($e(),F.drop),Dt(Je(),F.drop),Dt(ce(),(M,z)=>{F.move(z.event)})]))(E));f.set(P),d(v),vM(v,P)}),Dt(ce(),(v,C)=>{C.stop(),bO(v,s,l,CM,C.event)}),Dt($e(),(v,C)=>{C.stop(),b(v)}),Dt(Je(),b)]},Rz=Oz,SM=[...hO,Xs("dragger",{handlers:yO(_M)})],kM=[...hO,Xs("dragger",{handlers:yO((s,l,d)=>[...wM(s,l,d),..._M(s,l,d)])})];var Iz=Object.freeze({__proto__:null,mouse:Rz,touch:SM,mouseOrTouch:kM}),Dz=Object.freeze({__proto__:null,init:()=>{let s=R.none(),l=R.none();const d=j({});return Mi({readState:d,reset:()=>{s=R.none(),l=R.none()},update:(f,b)=>f.getData(b).bind(v=>((C,k)=>{const E=s.map(P=>C.getDelta(P,k));return s=R.some(k),E})(f,v)),getStartData:()=>l,setStartData:f=>{l=R.some(f)}})}});const I0=qC({branchKey:"mode",branches:Iz,name:"dragging",active:{events:(s,l)=>s.dragger.handlers(s,l)},extra:{snap:s=>({sensor:s.sensor,range:s.range,output:s.output,extra:R.from(s.extra)})},state:Dz,apis:bM}),EM=(s,l,d,f,b,v)=>s.fold(()=>I0.snap({sensor:Yh(d-20,f-20),range:tr(b,v),output:Yh(R.some(d),R.some(f)),extra:{td:l}}),C=>{const k=d-20,E=f-20,P=C.element.dom.getBoundingClientRect();return I0.snap({sensor:Yh(k,E),range:tr(40,40),output:Yh(R.some(d-P.width/2),R.some(f-P.height/2)),extra:{td:l}})}),AM=(s,l,d)=>({getSnapPoints:s,leftAttr:"data-drag-left",topAttr:"data-drag-top",onSensor:(f,b)=>{const v=b.td;((C,k)=>C.exists(E=>ms(E,k)))(l.get(),v)||(l.set(v),d(v))},mustSnap:!0}),TM=s=>Es(Ya.sketch({dom:{tag:"div",classes:["tox-selector"]},buttonBehaviours:Jt([I0.config({mode:"mouseOrTouch",blockerClass:"blocker",snaps:s}),b0.config({})]),eventOrder:{mousedown:["dragging","alloy.base.behaviour"],touchstart:["dragging","alloy.base.behaviour"]}})),OM=(s,l)=>{const d=Kn([]),f=Kn([]),b=Kn(!1),v=Rs(),C=Rs(),k=he=>{const ge=kl(he);return EM(M.getOpt(l),he,ge.x,ge.y,ge.width,ge.height)},E=he=>{const ge=kl(he);return EM(z.getOpt(l),he,ge.right,ge.bottom,ge.width,ge.height)},P=AM(()=>Me(d.get(),he=>k(he)),v,he=>{C.get().each(ge=>{s.dispatch("TableSelectorChange",{start:he,finish:ge})})}),F=AM(()=>Me(f.get(),he=>E(he)),C,he=>{v.get().each(ge=>{s.dispatch("TableSelectorChange",{start:ge,finish:he})})}),M=TM(P),z=TM(F),Y=Qi(M.asSpec()),te=Qi(z.asSpec()),me=(he,ge,Ce,Te)=>{const Ie=Ce(ge);I0.snapTo(he,Ie),((qe,ct,Nt,It)=>{const Tt=ct.dom.getBoundingClientRect();As(qe.element,"display");const Gt=ru(mn(s.getBody())).dom.innerHeight,wn=Tt[Te]<0,Nn=((Zn,po)=>Zn[Te]>po)(Tt,Gt);(wn||Nn)&&wo(qe.element,"display","none")})(he,ge)},pe=he=>me(Y,he,k,"top"),Ae=he=>me(te,he,E,"bottom");if(fa().deviceType.isTouch()){const he=ge=>Me(ge,mn);s.on("TableSelectionChange",ge=>{b.get()||(om(l,Y),om(l,te),b.set(!0));const Ce=mn(ge.start),Te=mn(ge.finish);v.set(Ce),C.set(Te),R.from(ge.otherCells).each(Ie=>{d.set(he(Ie.upOrLeftCells)),f.set(he(Ie.downOrRightCells)),pe(Ce),Ae(Te)})}),s.on("ResizeEditor ResizeWindow ScrollContent",()=>{v.get().each(pe),C.get().each(Ae)}),s.on("TableSelectionClear",()=>{b.get()&&(ml(Y),ml(te),b.set(!1)),v.clear(),C.clear()})}},RM=(s,l,d)=>{var f;const b=(f=l.delimiter)!==null&&f!==void 0?f:"";return{dom:{tag:"div",classes:["tox-statusbar__path"],attributes:{role:"navigation"}},behaviours:Jt([Hn.config({mode:"flow",selector:"div[role=button]"}),ho.config({disabled:d.isDisabled}),Fi(),qs.config({}),eo.config({}),Io("elementPathEvents",[ar((v,C)=>{s.shortcuts.add("alt+F11","focus statusbar elementpath",()=>Hn.focusIn(v)),s.on("NodeChange",k=>{const E=(F=>{const M=[];let z=F.length;for(;z-- >0;){const te=F[z];if(te.nodeType===1&&(Y=te).nodeName!=="BR"&&!Y.getAttribute("data-mce-bogus")&&Y.getAttribute("data-mce-type")!=="bookmark"){const me=eN(s,te);if(me.isDefaultPrevented()||M.push({name:me.name,element:te}),me.isPropagationStopped())break}}var Y;return M})(k.parents),P=E.length>0?sn(E,(F,M,z)=>{const Y=((te,me,pe)=>Ya.sketch({dom:{tag:"div",classes:["tox-statusbar__path-item"],attributes:{"data-index":pe}},components:[Fr(te)],action:Ae=>{s.focus(),s.selection.select(me),s.nodeChanged()},buttonBehaviours:Jt([ii.config({...d.tooltips.getConfig({tooltipText:d.translate(["Select the {0} element",me.nodeName.toLowerCase()]),onShow:(Ae,he)=>{((ge,Ce)=>{const Te=R.from(Go(ge,"id")).getOrThunk(()=>{const Ie=En("aria");return fn(Ce,"id",Ie),Ie});fn(ge,"aria-describedby",Te)})(Ae.element,he.element)},onHide:Ae=>{var he;he=Ae.element,Lo(he,"aria-describedby")}})}),Ba(d.isDisabled),Fi()])}))(M.name,M.element,z);return z===0?F.concat([Y]):F.concat([{dom:{tag:"div",classes:["tox-statusbar__path-divider"],attributes:{"aria-hidden":!0}},components:[Fr(` ${b} `)]},Y])},[]):[];eo.set(v,P)})})])]),components:[]}};var Xh;(function(s){s[s.None=0]="None",s[s.Both=1]="Both",s[s.Vertical=2]="Vertical"})(Xh||(Xh={}));const Sk=(s,l,d)=>{const f=mn(s.getContainer()),b=((v,C,k,E,P)=>{const F={height:Zw(E+C.top,my(v),D_(v))};return k===Xh.Both&&(F.width=Zw(P+C.left,H2(v),gy(v))),F})(s,l,d,Tr(f),Pi(f));Xn(b,(v,C)=>{ee(v)&&wo(f,C,wb(v))}),(v=>{v.dispatch("ResizeEditor")})(s)},kk=(s,l,d,f)=>{const b=tr(20*d,20*f);return Sk(s,b,l),R.some(!0)},IM=(s,l)=>{const d=()=>{const f=[],b=ZA(s),v=UD(s),C=Gc(s)||s.hasPlugin("wordcount");return v&&f.push(RM(s,{},l)),b&&f.push((()=>{const k=lS("Alt+0");return{dom:{tag:"div",classes:["tox-statusbar__help-text"]},components:[Fr(hd.translate(["Press {0} for help",k]))]}})()),C&&f.push((()=>{const k=[];return s.hasPlugin("wordcount")&&k.push(((E,P)=>{const F=(M,z,Y)=>eo.set(M,[Fr(P.translate(["{0} "+Y,z[Y]]))]);return Ya.sketch({dom:{tag:"button",classes:["tox-statusbar__wordcount"]},components:[],buttonBehaviours:Jt([Ba(P.isDisabled),Fi(),qs.config({}),eo.config({}),ht.config({store:{mode:"memory",initialValue:{mode:"words",count:{words:0,characters:0}}}}),Io("wordcount-events",[vu(M=>{const z=ht.getValue(M),Y=z.mode==="words"?"characters":"words";ht.setValue(M,{mode:Y,count:z.count}),F(M,z.count,Y)}),ar(M=>{E.on("wordCountUpdate",z=>{const{mode:Y}=ht.getValue(M);ht.setValue(M,{mode:Y,count:z.wordCount}),F(M,z.wordCount,Y)})})])]),eventOrder:{[El()]:["disabling","alloy.base.behaviour","wordcount-events"]}})})(s,l)),Gc(s)&&k.push({dom:{tag:"span",classes:["tox-statusbar__branding"]},components:[{dom:{tag:"a",attributes:{href:"https://www.tiny.cloud/powered-by-tiny?utm_campaign=poweredby&utm_source=tiny&utm_medium=referral&utm_content=v7",rel:"noopener",target:"_blank","aria-label":s.translate(["Build with {0}","TinyMCE"])},innerHtml:s.translate(["Build with {0}",`<svg height="16" viewBox="0 0 80 16" width="80" xmlns="http://www.w3.org/2000/svg"><g opacity=".8"><path d="m80 3.537v-2.202h-7.976v11.585h7.976v-2.25h-5.474v-2.621h4.812v-2.069h-4.812v-2.443zm-10.647 6.929c-.493.217-1.13.337-1.864.337s-1.276-.156-1.805-.47a3.732 3.732 0 0 1 -1.3-1.298c-.324-.554-.48-1.191-.48-1.877s.156-1.335.48-1.877a3.635 3.635 0 0 1 1.3-1.299 3.466 3.466 0 0 1 1.805-.481c.65 0 .914.06 1.263.18.36.12.698.277.986.47.289.192.578.384.842.6l.12.085v-2.586l-.023-.024c-.385-.35-.855-.614-1.384-.818-.53-.205-1.155-.313-1.877-.313-.721 0-1.6.144-2.333.445a5.773 5.773 0 0 0 -1.937 1.251 5.929 5.929 0 0 0 -1.324 1.9c-.324.735-.48 1.565-.48 2.455s.156 1.72.48 2.454c.325.734.758 1.383 1.324 1.913.553.53 1.215.938 1.937 1.25a6.286 6.286 0 0 0 2.333.434c.819 0 1.384-.108 1.961-.313.59-.216 1.083-.505 1.468-.866l.024-.024v-2.49l-.12.096c-.41.337-.878.626-1.396.866zm-14.869-4.15-4.8-5.04-.024-.025h-.902v11.67h2.502v-6.847l2.827 3.08.385.409.397-.41 2.791-3.067v6.845h2.502v-11.679h-.902l-4.788 5.052z"/><path clip-rule="evenodd" d="m15.543 5.137c0-3.032-2.466-5.113-4.957-5.137-.36 0-.745.024-1.094.096-.157.024-3.85.758-3.85.758-3.032.602-4.62 2.466-4.704 4.788-.024.89-.024 4.27-.024 4.27.036 3.165 2.406 5.138 5.017 5.126.337 0 1.119-.109 1.287-.145.144-.024.385-.084.746-.144.661-.12 1.684-.325 3.067-.602 2.37-.409 4.103-2.009 4.44-4.33.156-1.023.084-4.692.084-4.692zm-3.213 3.308-2.346.457v2.31l-5.859 1.143v-5.75l2.346-.458v3.441l3.513-.686v-3.44l-3.513.685v-2.297l5.859-1.143v5.75zm20.09-3.296-.083-1.023h-2.13v8.794h2.346v-4.884c0-1.107.95-1.985 2.057-1.997 1.095 0 1.901.89 1.901 1.997v4.884h2.346v-5.245c-.012-2.105-1.588-3.777-3.67-3.765a3.764 3.764 0 0 0 -2.778 1.25l.012-.011zm-6.014-4.102 2.346-.458v2.298l-2.346.457z" fill-rule="evenodd"/><path d="m28.752 4.126h-2.346v8.794h2.346z"/><path clip-rule="evenodd" d="m43.777 15.483 4.043-11.357h-2.418l-1.54 4.355-.445 1.324-.36-1.324-1.54-4.355h-2.418l3.151 8.794-1.083 3.08zm-21.028-5.51c0 .722.541 1.034.878 1.034s.638-.048.95-.144l.518 1.708c-.217.145-.879.518-2.13.518a2.565 2.565 0 0 1 -2.562-2.587c-.024-1.082-.024-2.49 0-4.21h-1.54v-2.142h1.54v-1.912l2.346-.458v2.37h2.201v2.142h-2.2v3.693-.012z" fill-rule="evenodd"/></g></svg>
`.trim()])},behaviours:Jt([mo.config({})])}]}),{dom:{tag:"div",classes:["tox-statusbar__right-container"]},components:k}})()),f.length>0?[{dom:{tag:"div",classes:["tox-statusbar__text-container",...(()=>{const k="tox-statusbar__text-container--flex-start",E="tox-statusbar__text-container--flex-end";if(b){const P="tox-statusbar__text-container-3-cols";return C||v?C&&!v?[P,E]:[P,k]:[P,"tox-statusbar__text-container--space-around"]}return[C&&!v?E:k]})()]},components:f}]:[]};return{dom:{tag:"div",classes:["tox-statusbar"]},components:(()=>{const f=d(),b=((v,C)=>{const k=(P=>{const F=Ca(P);return F===!1?Xh.None:F==="both"?Xh.Both:Xh.Vertical})(v);if(k===Xh.None)return R.none();const E=k===Xh.Both?"Press the arrow keys to resize the editor.":"Press the Up and Down arrow keys to resize the editor.";return R.some(qc("resize-handle",{tag:"div",classes:["tox-statusbar__resize-handle"],attributes:{"aria-label":C.translate(E),"data-mce-name":"resize-handle"},behaviours:[I0.config({mode:"mouse",repositionTarget:!1,onDrag:(P,F,M)=>Sk(v,M,k),blockerClass:"tox-blocker"}),Hn.config({mode:"special",onLeft:()=>kk(v,k,-1,0),onRight:()=>kk(v,k,1,0),onUp:()=>kk(v,k,0,-1),onDown:()=>kk(v,k,0,1)}),qs.config({}),mo.config({}),ii.config(C.tooltips.getConfig({tooltipText:C.translate("Resize")}))]},C.icons))})(s,l);return f.concat(b.toArray())})()}},DM=(s,l)=>l.get().getOrDie(`UI for ${s} has not been rendered`),Pz=(s,l)=>{const d=s.inline,f=d?mz:LK,b=Fh(s)?fV:dV,v=(()=>{const Ie=Rs(),qe=Rs(),ct=Rs();return{dialogUi:Ie,popupUi:qe,mainUi:ct,getUiMotherships:()=>{const Nt=Ie.get().map(Tt=>Tt.mothership),It=qe.get().map(Tt=>Tt.mothership);return Nt.fold(()=>It.toArray(),Tt=>It.fold(()=>[Tt],Gt=>ms(Tt.element,Gt.element)?[Tt]:[Tt,Gt]))},lazyGetInOuterOrDie:(Nt,It)=>()=>ct.get().bind(Tt=>It(Tt.outerContainer)).getOrDie(`Could not find ${Nt} element in OuterContainer`)}})(),C=Rs(),k=Rs(),E=Rs(),P=fa().deviceType.isTouch()?["tox-platform-touch"]:[],F=GA(s),M=n0(s),z=Es({dom:{tag:"div",classes:["tox-anchorbar"]}}),Y=Es({dom:{tag:"div",classes:["tox-bottom-anchorbar"]}}),te=()=>v.mainUi.get().map(Ie=>Ie.outerContainer).bind(sr.getHeader),me=v.lazyGetInOuterOrDie("anchor bar",z.getOpt),pe=v.lazyGetInOuterOrDie("bottom anchor bar",Y.getOpt),Ae=v.lazyGetInOuterOrDie("toolbar",sr.getToolbar),he=v.lazyGetInOuterOrDie("throbber",sr.getThrobber),ge=((Ie,qe,ct,Nt)=>{const It=Kn(!1),Tt=(is=>{const Qn=Kn(GA(is)?"bottom":"top");return{isPositionedAtTop:()=>Qn.get()==="top",getDockingMode:Qn.get,setDockingMode:Qn.set}})(qe),Gt={icons:()=>qe.ui.registry.getAll().icons,menuItems:()=>qe.ui.registry.getAll().menuItems,translate:hd.translate,isDisabled:()=>qe.mode.isReadOnly()||!qe.ui.isEnabled(),getOption:qe.options.get,tooltips:p4(Ie.dialog)},wn=X5(qe),Nn=(is=>{const Qn=na=>()=>is.formatter.match(na),gr=na=>()=>{const Vi=is.formatter.get(na);return Vi!==void 0?R.some({tag:Vi.length>0&&(Vi[0].inline||Vi[0].block)||"div",styles:is.dom.parseStyle(is.formatter.getCssText(na))}):R.none()},zs=Kn([]),Xa=Kn([]),Ja=Kn(!1);return is.on("PreInit",na=>{const Vi=z5(is),Jh=h4(is,Vi,Qn,gr);zs.set(Jh)}),is.on("addStyleModifications",na=>{const Vi=h4(is,na.items,Qn,gr);Xa.set(Vi),Ja.set(na.replace)}),{getData:()=>{const na=Ja.get()?[]:zs.get(),Vi=Xa.get();return na.concat(Vi)}}})(qe),Zn=(is=>({colorPicker:X$(is),hasCustomColors:J$(is),getColors:Q$(is),getColorCols:eV(is)}))(qe),po=(is=>({isDraggableModal:F5(is)}))(qe),jo={shared:{providers:Gt,anchors:Y$(qe,ct,Nt,Tt.isPositionedAtTop),header:Tt},urlinput:wn,styles:Nn,colorinput:Zn,dialog:po,isContextMenuOpen:()=>It.get(),setContextMenuState:is=>It.set(is)},rr=is=>R.none(),mr={...jo,shared:{...jo.shared,interpreter:is=>P5(is,{},mr,rr),getSink:Ie.popup}},Po={...jo,shared:{...jo.shared,interpreter:is=>P5(is,{},Po,rr),getSink:Ie.dialog}};return{popup:mr,dialog:Po}})({popup:()=>Ko.fromOption(v.popupUi.get().map(Ie=>Ie.sink),"(popup) UI has not been rendered"),dialog:()=>Ko.fromOption(v.dialogUi.get().map(Ie=>Ie.sink),"UI has not been rendered")},s,me,pe),Ce=()=>{const Ie=(()=>{const jo={attributes:{[Rl]:F?Kc.BottomToTop:Kc.TopToBottom}},rr=sr.parts.menubar({dom:{tag:"div",classes:["tox-menubar"]},backstage:ge.popup,onEscape:()=>{s.focus()}}),mr=sr.parts.toolbar({dom:{tag:"div",classes:["tox-toolbar"]},getSink:ge.popup.shared.getSink,providers:ge.popup.shared.providers,onEscape:()=>{s.focus()},onToolbarToggled:Vi=>{((Jh,Gy)=>{Jh.dispatch("ToggleToolbarDrawer",{state:Gy})})(s,Vi)},type:M,lazyToolbar:Ae,lazyHeader:()=>te().getOrDie("Could not find header element"),...jo}),Po=sr.parts["multiple-toolbar"]({dom:{tag:"div",classes:["tox-toolbar-overlord"]},providers:ge.popup.shared.providers,onEscape:()=>{s.focus()},type:M}),is=Z2(s),Qn=j2(s),gr=K2(s),zs=KD(s),Xa=sr.parts.promotion({dom:{tag:"div",classes:["tox-promotion"]}}),Ja=is||Qn||gr,na=zs?[Xa,rr]:[rr];return sr.parts.header({dom:{tag:"div",classes:["tox-editor-header"].concat(Ja?[]:["tox-editor-header--empty"]),...jo},components:Zt([gr?na:[],is?[Po]:Qn?[mr]:[],o0(s)?[]:[z.asSpec()]]),sticky:Fh(s),editor:s,sharedBackstage:ge.popup.shared})})(),qe={dom:{tag:"div",classes:["tox-sidebar-wrap"]},components:[sr.parts.socket({dom:{tag:"div",classes:["tox-edit-area"]}}),sr.parts.sidebar({dom:{tag:"div",classes:["tox-sidebar"]}})]},ct=sr.parts.throbber({dom:{tag:"div",classes:["tox-throbber"]},backstage:ge.popup}),Nt=sr.parts.viewWrapper({backstage:ge.popup}),It=HD(s)&&!d?R.some(IM(s,ge.popup.shared.providers)):R.none(),Tt=Zt([F?[]:[Ie],d?[]:[qe],F?[Ie]:[]]),Gt=sr.parts.editorContainer({components:Zt([Tt,d?[]:[Y.asSpec()]])}),wn=U_(s),Nn={role:"application",...hd.isRtl()?{dir:"rtl"}:{},...wn?{"aria-hidden":"true"}:{}},Zn=Qi(sr.sketch({dom:{tag:"div",classes:["tox","tox-tinymce"].concat(d?["tox-tinymce-inline"]:[]).concat(F?["tox-tinymce--toolbar-bottom"]:[]).concat(P),styles:{visibility:"hidden",...wn?{opacity:"0",border:"0"}:{}},attributes:Nn},components:[Gt,...d?[]:[Nt,...It.toArray()],ct],behaviours:Jt([Fi(),ho.config({disableClass:"tox-tinymce--disabled"}),Hn.config({mode:"cyclic",selector:".tox-menubar, .tox-toolbar, .tox-toolbar__primary, .tox-toolbar__overflow--open, .tox-sidebar__overflow--open, .tox-statusbar__path, .tox-statusbar__wordcount, .tox-statusbar__branding a, .tox-statusbar__resize-handle"})])})),po=xS(Zn);return C.set(po),{mothership:po,outerContainer:Zn}},Te=Ie=>{const qe=wb((Nt=>(Tt=>{const Gt=V2(Tt),wn=my(Tt),Nn=D_(Tt);return jw(Gt).map(Zn=>Zw(Zn,wn,Nn))})(Nt).getOr(V2(Nt)))(s)),ct=wb((Nt=>tO(Nt).getOr(z2(Nt)))(s));return s.inline||(Yl("div","width",ct)&&wo(Ie.element,"width",ct),Yl("div","height",qe)?wo(Ie.element,"height",qe):wo(Ie.element,"height","400px")),qe};return{popups:{backstage:ge.popup,getMothership:()=>DM("popups",E)},dialogs:{backstage:ge.dialog,getMothership:()=>DM("dialogs",k)},renderUI:()=>{const Ie=Ce(),qe=(()=>{const Nt=H_(s),It=ms(kn(),Nt)&&Ar(Nt,"display")==="grid",Tt={dom:{tag:"div",classes:["tox","tox-silver-sink","tox-tinymce-aux"].concat(P),attributes:{...hd.isRtl()?{dir:"rtl"}:{}}},behaviours:Jt([wa.config({useFixed:()=>b.isDocked(te)})])},Gt={dom:{styles:{width:document.body.clientWidth+"px"}},events:_o([Dt($f(),Zn=>{wo(Zn.element,"width",document.body.clientWidth+"px")})])},wn=Qi(Fs(Tt,It?Gt:{})),Nn=xS(wn);return k.set(Nn),{sink:wn,mothership:Nn}})(),ct=$h(s)?(()=>{const Nt={dom:{tag:"div",classes:["tox","tox-silver-sink","tox-silver-popup-sink","tox-tinymce-aux"].concat(P),attributes:{...hd.isRtl()?{dir:"rtl"}:{}}},behaviours:Jt([wa.config({useFixed:()=>b.isDocked(te),getBounds:()=>l.getPopupSinkBounds()})])},It=Qi(Nt),Tt=xS(It);return E.set(Tt),{sink:It,mothership:Tt}})():(Nt=>(E.set(Nt.mothership),Nt))(qe);return v.dialogUi.set(qe),v.popupUi.set(ct),v.mainUi.set(Ie),(Nt=>{const{mainUi:It,popupUi:Tt,uiMotherships:Gt}=Nt;oo(N_(s),(Qn,gr)=>{s.ui.registry.addGroupToolbarButton(gr,Qn)});const{buttons:wn,menuItems:Nn,contextToolbars:Zn,sidebars:po,views:jo}=s.ui.registry.getAll(),rr=z_(s),mr={menuItems:Nn,menus:Jp(s),menubar:Bh(s),toolbar:rr.getOrThunk(()=>py(s)),allowToolbarGroups:M===gd.floating,buttons:wn,sidebar:po,views:jo};var Po;Po=It.outerContainer,s.addShortcut("alt+F9","focus menubar",()=>{sr.focusMenubar(Po)}),s.addShortcut("alt+F10","focus toolbar",()=>{sr.focusToolbar(Po)}),s.addCommand("ToggleToolbarDrawer",(Qn,gr)=>{gr!=null&&gr.skipFocus?sr.toggleToolbarDrawerWithoutFocusing(Po):sr.toggleToolbarDrawer(Po)}),s.addQueryStateHandler("ToggleToolbarDrawer",()=>sr.isToolbarDrawerToggled(Po)),((Qn,gr,zs)=>{const Xa=(xs,Lg)=>{ft([gr,...zs],vf=>{vf.broadcastEvent(xs,Lg)})},Ja=(xs,Lg)=>{ft([gr,...zs],vf=>{vf.broadcastOn([xs],Lg)})},na=xs=>Ja(B(),{target:xs.target}),Vi=za(),Jh=Ga(Vi,"touchstart",na),Gy=Ga(Vi,"touchmove",xs=>Xa(Ln(),xs)),_b=Ga(Vi,"touchend",xs=>Xa(pu(),xs)),Qh=Ga(Vi,"mousedown",na),lC=Ga(Vi,"mouseup",xs=>{xs.raw.button===0&&Ja(K(),{target:xs.target})}),Sb=xs=>Ja(B(),{target:mn(xs.target)}),Pg=xs=>{xs.button===0&&Ja(K(),{target:mn(xs.target)})},P0=()=>{ft(Qn.editorManager.get(),xs=>{Qn!==xs&&xs.dispatch("DismissPopups",{relatedTarget:Qn})})},N0=xs=>Xa(iv(),of(xs)),qy=xs=>{Ja(W(),{}),Xa($f(),of(xs))},Nk=bt(mn(Qn.getElement())),cC=u2(Nk,"scroll",xs=>{requestAnimationFrame(()=>{if(Qn.getContainer()!=null){const Lg=Qp(Qn,gr.element).map(vf=>[vf.element,...vf.others]).getOr([]);Sn(Lg,vf=>ms(vf,xs.target))&&(Qn.dispatch("ElementScroll",{target:xs.target.dom}),Xa(Ap(),xs))}})}),kb=()=>Ja(W(),{}),Ng=xs=>{xs.state&&Ja(B(),{target:mn(Qn.getContainer())})},ep=xs=>{Ja(B(),{target:mn(xs.relatedTarget.getContainer())})},uC=xs=>Qn.dispatch("focusin",xs),dC=xs=>Qn.dispatch("focusout",xs);Qn.on("PostRender",()=>{Qn.on("click",Sb),Qn.on("tap",Sb),Qn.on("mouseup",Pg),Qn.on("mousedown",P0),Qn.on("ScrollWindow",N0),Qn.on("ResizeWindow",qy),Qn.on("ResizeEditor",kb),Qn.on("AfterProgressState",Ng),Qn.on("DismissPopups",ep),ft([gr,...zs],xs=>{xs.element.dom.addEventListener("focusin",uC),xs.element.dom.addEventListener("focusout",dC)})}),Qn.on("remove",()=>{Qn.off("click",Sb),Qn.off("tap",Sb),Qn.off("mouseup",Pg),Qn.off("mousedown",P0),Qn.off("ScrollWindow",N0),Qn.off("ResizeWindow",qy),Qn.off("ResizeEditor",kb),Qn.off("AfterProgressState",Ng),Qn.off("DismissPopups",ep),ft([gr,...zs],xs=>{xs.element.dom.removeEventListener("focusin",uC),xs.element.dom.removeEventListener("focusout",dC)}),Qh.unbind(),Jh.unbind(),Gy.unbind(),_b.unbind(),lC.unbind(),cC.unbind()}),Qn.on("detach",()=>{ft([gr,...zs],sA),ft([gr,...zs],xs=>xs.destroy())})})(s,It.mothership,Gt),b.setup(s,ge.popup.shared,te),xz(s,ge.popup),kz(s,ge.popup.shared.getSink,ge.popup),(Qn=>{const{sidebars:gr}=Qn.ui.registry.getAll();ft(jt(gr),zs=>{const Xa=gr[zs],Ja=()=>li(R.from(Qn.queryCommandValue("ToggleSidebar")),zs);Qn.ui.registry.addToggleButton(zs,{icon:Xa.icon,tooltip:Xa.tooltip,onAction:na=>{Qn.execCommand("ToggleSidebar",!1,zs),na.setActive(Ja())},onSetup:na=>{na.setActive(Ja());const Vi=()=>na.setActive(Ja());return Qn.on("ToggleSidebar",Vi),()=>{Qn.off("ToggleSidebar",Vi)}}})})})(s),aL(s,he,ge.popup.shared),pz(s,Zn,Tt.sink,{backstage:ge.popup}),OM(s,Tt.sink);const is={targetNode:s.getElement(),height:Te(It.outerContainer)};return f.render(s,Nt,mr,ge.popup,is)})({popupUi:ct,dialogUi:qe,mainUi:Ie,uiMotherships:v.getUiMotherships()})}}},Nz=j([Ft("lazySink"),es("dragBlockClass"),or("getBounds",qi),mt("useTabstopAt",_e),mt("firstTabstop",0),mt("eventOrder",{}),An("modalBehaviours",[Hn]),Al("onExecute"),Na("onEscape")]),xO={sketch:fe},wO=j([ku({name:"draghandle",overrides:(s,l)=>({behaviours:Jt([I0.config({mode:"mouse",getTarget:d=>ng(d,'[role="dialog"]').getOr(d),blockerClass:s.dragBlockClass.getOrDie(new Error(`The drag blocker class was not specified for a dialog with a drag handle: 
`+JSON.stringify(l,null,2)).message),getBounds:s.getDragBounds})])})}),Il({schema:[Ft("dom")],name:"title"}),Il({factory:xO,schema:[Ft("dom")],name:"close"}),Il({factory:xO,schema:[Ft("dom")],name:"body"}),ku({factory:xO,schema:[Ft("dom")],name:"footer"}),lf({factory:{sketch:(s,l)=>({...s,dom:l.dom,components:l.components})},schema:[mt("dom",{tag:"div",styles:{position:"fixed",left:"0px",top:"0px",right:"0px",bottom:"0px"}}),mt("components",[])],name:"blocker"})]),Nr=Ul({name:"ModalDialog",configFields:Nz(),partFields:wO(),factory:(s,l,d,f)=>{const b=Rs(),v=En("modal-events"),C={...s.eventOrder,[ba()]:[v].concat(s.eventOrder["alloy.system.attached"]||[])},k=fa();return{uid:s.uid,dom:s.dom,components:l,apis:{show:E=>{b.set(E);const P=s.lazySink(E).getOrDie(),F=f.blocker(),M=P.getSystem().build({...F,components:F.components.concat([dl(E)]),behaviours:Jt([mo.config({}),Io("dialog-blocker-events",[Uf(Ss(),()=>{kd.isBlocked(E)||Hn.focusIn(E)})])])});om(P,M),Hn.focusIn(E)},hide:E=>{b.clear(),Oa(E.element).each(P=>{E.getSystem().getByDom(P).each(F=>{ml(F)})})},getBody:E=>Lh(E,s,"body"),getFooter:E=>Qs(E,s,"footer"),setIdle:E=>{kd.unblock(E)},setBusy:(E,P)=>{kd.block(E,P)}},eventOrder:C,domModification:{attributes:{role:"dialog","aria-modal":"true"}},behaviours:Ro(s.modalBehaviours,[eo.config({}),Hn.config({mode:"cyclic",onEnter:s.onExecute,onEscape:s.onEscape,useTabstopAt:s.useTabstopAt,firstTabstop:s.firstTabstop}),kd.config({getRoot:b.get}),Io(v,[ar(E=>{const P=Lh(E,s,"title").element,F=(M=>M.dom.textContent)(P);k.os.isMacOS()&&U(F)?fn(E.element,"aria-label",F):((M,z)=>{const Y=ns(M,"id").fold(()=>{const te=En("dialog-label");return fn(z,"id",te),te},fe);fn(M,"aria-labelledby",Y)})(E.element,P)})])])}},apis:{show:(s,l)=>{s.show(l)},hide:(s,l)=>{s.hide(l)},getBody:(s,l)=>s.getBody(l),getFooter:(s,l)=>s.getFooter(l),setBusy:(s,l,d)=>{s.setBusy(l,d)},setIdle:(s,l)=>{s.setIdle(l)}}}),Lz=Yn([xi,uT].concat(c0)),Jw=cc,CO=[bT("button"),bd,Pc("align","end",["start","end"]),nS,vd,ch("buttonType",["primary","secondary"])],Ek=[...CO,pd],_O=[rd("type",["submit","cancel","custom"]),...Ek],Mz=[rd("type",["menu"]),rb,dw,bd,cl("items",Lz),...CO],Bz=[...CO,rd("type",["togglebutton"]),dw,bd,rb,oi("active",!1)],PM=bi("type",{submit:_O,cancel:_O,custom:_O,menu:Mz,togglebutton:Bz}),Fz=[xi,pd,rd("level",["info","warn","error","success"]),mT,mt("url","")],SO=Yn(Fz),kO=[xi,pd,vd,bT("button"),bd,NK,ch("buttonType",["primary","secondary","toolbar"]),nS],EO=Yn(kO),Wy=[xi,uT],ta=Wy.concat([gT]),$z=Wy.concat([dT,vd]),Vz=Yn($z),NM=cc,LM=ta.concat([AP("auto")]),zz=Yn(LM),Hz=nd([a0,pd,mT]),Uz=ta.concat([Xl("storageKey","default")]),Wz=Yn(Uz),Kz=ki,jz=Yn(ta),Zz=ki,MM=Wy.concat([Xl("tag","textarea"),_r("scriptId"),_r("scriptUrl"),gu("onFocus"),Ka("settings",void 0,p1)]),Gz=Wy.concat([Xl("tag","textarea"),Wa("init")]),qz=Lf(s=>Cr("customeditor.old",Si(Gz),s).orThunk(()=>Cr("customeditor.new",Si(MM),s))),Yz=ki,BM=Yn(ta),AO=td(ed),FM=s=>[xi,kp("columns"),s],$M=[xi,_r("html"),Pc("presets","presentation",["presentation","document"]),or("onInit",H),oi("stretched",!1)],VM=Yn($M),zM=ta.concat([oi("border",!1),oi("sandboxed",!0),oi("streamContent",!1),oi("transparent",!0)]),TO=Yn(zM),Xz=ki,OO=Yn(Wy.concat([Br("height")])),Ky=Yn([_r("url"),Mf("zoom"),Mf("cachedWidth"),Mf("cachedHeight")]),HM=ta.concat([Br("inputMode"),Br("placeholder"),oi("maximized",!1),vd]),UM=Yn(HM),WM=ki,Jz=s=>[xi,dT,s,Pc("align","start",["start","center","end"]),Br("for")],Qz=[pd,a0],Ak=[pd,cl("items",Sp(0,()=>KM))],KM=Hm([Yn(Qz),Yn(Ak)]),eH=ta.concat([cl("items",KM),vd]),jM=Yn(eH),ZM=ki,RO=ta.concat([Wm("items",[pd,a0]),Ur("size",1),vd]),GM=Yn(RO),nc=ki,qM=ta.concat([oi("constrain",!0),vd]),tH=Yn(qM),YM=Yn([_r("width"),_r("height")]),XM=Wy.concat([dT,Ur("min",0),Ur("max",0)]),nH=Yn(XM),oH=Gd,sH=[xi,cl("header",ki),cl("cells",td(ki))],JM=Yn(sH),Dg=ta.concat([Br("placeholder"),oi("maximized",!1),vd]),IO=Yn(Dg),QM=ki,Qw=[rd("type",["directory","leaf"]),fT,_r("id"),Hr("menu",oL)],Tk=Yn(Qw),rH=Qw.concat([cl("children",Sp(0,()=>sd("type",{directory:eB,leaf:Tk})))]),eB=Yn(rH),iH=sd("type",{directory:eB,leaf:Tk}),aH=[xi,cl("items",iH),gu("onLeafAction"),gu("onToggleExpand"),Ns("defaultExpandedIds",[],ki),Br("defaultSelectedId")],lH=Yn(aH),cH=ta.concat([Pc("filetype","file",["image","media","file"]),vd,Br("picker_text")]),uH=Yn(cH),tB=Yn([a0,Yc]),DO=s=>di("items","items",{tag:"required",process:{}},td(Lf(l=>Cr(`Checking item of ${s}`,bf,l).fold(d=>Ko.error(ll(d)),d=>Ko.value(d))))),bf=zm(()=>{return sd("type",{alertbanner:SO,bar:Yn((s=DO("bar"),[xi,s])),button:EO,checkbox:Vz,colorinput:Wz,colorpicker:jz,dropzone:BM,grid:Yn(FM(DO("grid"))),iframe:TO,input:UM,listbox:jM,selectbox:GM,sizeinput:tH,slider:nH,textarea:IO,urlinput:uH,customeditor:qz,htmlpanel:VM,imagepreview:OO,collection:zz,label:Yn(Jz(DO("label"))),table:JM,tree:lH,panel:nB});var s}),Ok=[xi,mt("classes",[]),cl("items",bf)],nB=Yn(Ok),dH=[bT("tab"),fT,cl("items",bf)],oB=[xi,Wm("tabs",dH)],sB=Yn(oB),PO=Ek,Rk=PM,eC=Yn([_r("title"),Xi("body",sd("type",{panel:nB,tabpanel:sB})),Xl("size","normal"),Ns("buttons",[],Rk),mt("initialData",{}),or("onAction",H),or("onChange",H),or("onSubmit",H),or("onClose",H),or("onCancel",H),or("onTabChange",H)]),tC=Yn([rd("type",["cancel","custom"]),...PO]),rB=Yn([_r("title"),_r("url"),Mf("height"),Mf("width"),b1("buttons",tC),or("onAction",H),or("onCancel",H),or("onClose",H),or("onMessage",H)]),Ik=s=>x(s)?[s].concat(bn(Zi(s),Ik)):I(s)?bn(s,Ik):[],iB=s=>h(s.type)&&h(s.name),aB={checkbox:NM,colorinput:Kz,colorpicker:Zz,dropzone:AO,input:WM,iframe:Xz,imagepreview:Ky,selectbox:nc,sizeinput:YM,slider:oH,listbox:ZM,size:YM,textarea:QM,urlinput:tB,customeditor:Yz,collection:Hz,togglemenuitem:Jw},fH=s=>{const l=(f=>Wt(Ik(f),iB))(s),d=bn(l,f=>(b=>R.from(aB[b.type]))(f).fold(()=>[],b=>[Xi(f.name,b)]));return Yn(d)},lB=s=>{var l;return{internalDialog:Ua(Cr("dialog",eC,s)),dataValidator:fH(s),initialData:(l=s.initialData)!==null&&l!==void 0?l:{}}},D0={open:(s,l)=>{const d=lB(l);return s(d.internalDialog,d.initialData,d.dataValidator)},openUrl:(s,l)=>s(Ua(Cr("dialog",rB,l))),redial:s=>lB(s)};var mH=Object.freeze({__proto__:null,events:(s,l)=>{const d=(f,b)=>{s.updateState.each(v=>{const C=v(f,b);l.set(C)}),s.renderComponents.each(v=>{const C=v(b,l.get());(s.reuseDom?LA:Jv)(f,C)})};return _o([Dt(uc(),(f,b)=>{const v=b;if(!v.universal){const C=s.channel;dt(v.channels,C)&&d(f,v.data)}}),ar((f,b)=>{s.initialData.each(v=>{d(f,v)})})])}}),gH=Object.freeze({__proto__:null,getState:(s,l,d)=>d}),cB=[Ft("channel"),es("renderComponents"),es("updateState"),es("initialData"),oi("reuseDom",!0)];const xc=Bi({fields:cB,name:"reflecting",active:mH,apis:gH,state:Object.freeze({__proto__:null,init:()=>{const s=Kn(R.none());return{readState:()=>s.get().getOr("none"),get:s.get,set:s.set,clear:()=>s.set(R.none())}}})}),uB=s=>{const l=[],d={};return Xn(s,(f,b)=>{f.fold(()=>{l.push(b)},v=>{d[b]=v})}),l.length>0?Ko.error(l):Ko.value(d)},dB=(s,l,d,f)=>{const b=Es(mb.sketch(C=>({dom:{tag:"div",classes:["tox-form"].concat(s.classes)},components:Me(s.items,k=>ok(C,k,l,d,f))})));return{dom:{tag:"div",classes:["tox-dialog__body"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:[b.asSpec()]}],behaviours:Jt([Hn.config({mode:"acyclic",useTabstopAt:Fe(Dy)}),(v=b,cs.config({find:v.getOpt})),E3(b,{postprocess:C=>uB(C).fold(k=>(console.error(k),{}),fe)}),Io("dialog-body-panel",[Dt(Ss(),(C,k)=>{C.getSystem().broadcastOn([jS],{newFocus:R.some(k.event.target)})})])])};var v},hH=Eu({name:"TabButton",configFields:[mt("uid",void 0),Ft("value"),di("dom","dom",ss(()=>({attributes:{role:"tab",id:En("aria"),"aria-selected":"false"}})),Hl()),es("action"),mt("domModification",{}),An("tabButtonBehaviours",[mo,Hn,ht]),Ft("view")],factory:(s,l)=>({uid:s.uid,dom:s.dom,components:s.components,events:dy(s.action),behaviours:Ro(s.tabButtonBehaviours,[mo.config({}),Hn.config({mode:"execution",useSpace:!0,useEnter:!0}),ht.config({store:{mode:"memory",initialValue:s.value}})]),domModification:s.domModification})}),fB=j([Ft("tabs"),Ft("dom"),mt("clickToDismiss",!1),An("tabbarBehaviours",[Ts,Hn]),yh(["tabClass","selectedClass"])]),nC=p_({factory:hH,name:"tabs",unit:"tab",overrides:s=>{const l=(f,b)=>{Ts.dehighlight(f,b),$n(f,qt(),{tabbar:f,button:b})},d=(f,b)=>{Ts.highlight(f,b),$n(f,Tp(),{tabbar:f,button:b})};return{action:f=>{const b=f.getSystem().getByUid(s.uid).getOrDie(),v=Ts.isHighlighted(b,f);(v&&s.clickToDismiss?l:v?H:d)(b,f)},domModification:{classes:[s.markers.tabClass]}}}}),pH=j([nC]),NO=Ul({name:"Tabbar",configFields:fB(),partFields:pH(),factory:(s,l,d,f)=>({uid:s.uid,dom:s.dom,components:l,"debug.sketcher":"Tabbar",domModification:{attributes:{role:"tablist"}},behaviours:Ro(s.tabbarBehaviours,[Ts.config({highlightClass:s.markers.selectedClass,itemClass:s.markers.tabClass,onHighlight:(b,v)=>{fn(v.element,"aria-selected","true")},onDehighlight:(b,v)=>{fn(v.element,"aria-selected","false")}}),Hn.config({mode:"flow",getInitial:b=>Ts.getHighlighted(b).map(v=>v.element),selector:"."+s.markers.tabClass,executeOnMove:!0})])})}),bH=Eu({name:"Tabview",configFields:[An("tabviewBehaviours",[eo])],factory:(s,l)=>({uid:s.uid,dom:s.dom,behaviours:Ro(s.tabviewBehaviours,[eo.config({})]),domModification:{attributes:{role:"tabpanel"}}})}),vH=j([mt("selectFirst",!0),rs("onChangeTab"),rs("onDismissTab"),mt("tabs",[]),An("tabSectionBehaviours",[])]),yH=Il({factory:NO,schema:[Ft("dom"),Dc("markers",[Ft("tabClass"),Ft("selectedClass")])],name:"tabbar",defaults:s=>({tabs:s.tabs})}),xH=Il({factory:bH,name:"tabview"}),mB=j([yH,xH]),jy=Ul({name:"TabSection",configFields:vH(),partFields:mB(),factory:(s,l,d,f)=>{const b=(v,C)=>{Qs(v,s,"tabbar").each(k=>{C(k).each(Hf)})};return{uid:s.uid,dom:s.dom,components:l,behaviours:ro(s.tabSectionBehaviours),events:_o(Zt([s.selectFirst?[ar((v,C)=>{b(v,Ts.getFirst)})]:[],[Dt(Tp(),(v,C)=>{(k=>{const E=ht.getValue(k);Qs(k,s,"tabview").each(P=>{J(s.tabs,F=>F.value===E).each(F=>{const M=F.view();ns(k.element,"id").each(z=>{fn(P.element,"aria-labelledby",z)}),eo.set(P,M),s.onChangeTab(P,k,M)})})})(C.event.button)}),Dt(qt(),(v,C)=>{const k=C.event.button;s.onDismissTab(v,k)})]])),apis:{getViewItems:v=>Qs(v,s,"tabview").map(C=>eo.contents(C)).getOr([]),showTab:(v,C)=>{b(v,k=>{const E=Ts.getCandidates(k);return J(E,P=>ht.getValue(P)===C).filter(P=>!Ts.isHighlighted(k,P))})}}}},apis:{getViewItems:(s,l)=>s.getViewItems(l),showTab:(s,l,d)=>{s.showTab(l,d)}}}),LO=(s,l)=>{wo(s,"height",l+"px"),wo(s,"flex-basis",l+"px")},Zy=(s,l,d)=>{ng(s,'[role="dialog"]').each(f=>{fr(f,'[role="tablist"]').each(b=>{d.get().map(v=>(wo(l,"height","0"),wo(l,"flex-basis","0"),Math.min(v,((C,k,E)=>{const P=sl(C).dom,F=ng(C,".tox-dialog-wrap").getOr(C);let M;M=Ar(F,"position")==="fixed"?Math.max(P.clientHeight,window.innerHeight):Math.max(P.offsetHeight,P.scrollHeight);const z=Tr(k),Y=k.dom.offsetLeft>=E.dom.offsetLeft+Pi(E)?Math.max(Tr(E),z):z,te=parseInt(Ar(C,"margin-top"),10)||0,me=parseInt(Ar(C,"margin-bottom"),10)||0;return M-(Tr(C)+te+me-Y)})(f,l,b)))).each(v=>{LO(l,v)})})})},hm=s=>fr(s,'[role="tabpanel"]'),Dk="send-data-to-section",MO="send-data-to-view",gB=(s,l,d,f)=>{const b=Kn({}),v=F=>{const M=ht.getValue(F),z=uB(M).getOr({}),Y=b.get(),te=Fs(Y,z);b.set(te)},C=F=>{const M=b.get();ht.setValue(F,M)},k=Kn(null),E=Me(s.tabs,F=>({value:F.name,dom:{tag:"div",classes:["tox-dialog__body-nav-item"]},components:[Fr(d.shared.providers.translate(F.title))],view:()=>[mb.sketch(M=>({dom:{tag:"div",classes:["tox-form"]},components:Me(F.items,z=>ok(M,z,l,d,f)),formBehaviours:Jt([Hn.config({mode:"acyclic",useTabstopAt:Fe(Dy)}),Io("TabView.form.events",[ar(C),ld(v)]),Ol.config({channels:qd([{key:Dk,value:{onReceive:v}},{key:MO,value:{onReceive:C}}])})])}))]})),P=(F=>{const M=Rs();return{extraEvents:[ar(Y=>{const te=Y.element;hm(te).each(me=>{wo(me,"visibility","hidden"),Y.getSystem().getByDom(me).toOptional().each(pe=>{const Ae=((ge,Ce,Te)=>Me(ge,(Ie,qe)=>{eo.set(Te,ge[qe].view());const ct=Ce.dom.getBoundingClientRect();return eo.set(Te,[]),ct.height}))(F,me,pe);(ge=>Ne(be(ge,(Ce,Te)=>Ce>Te?-1:Ce<Te?1:0)))(Ae).fold(M.clear,M.set)}),Zy(te,me,M),As(me,"visibility"),((pe,Ae)=>{Ne(pe).each(he=>jy.showTab(Ae,he.value))})(F,Y),requestAnimationFrame(()=>{Zy(te,me,M)})})}),Dt($f(),Y=>{const te=Y.element;hm(te).each(me=>{Zy(te,me,M)})}),Dt(CS,(Y,te)=>{const me=Y.element;hm(me).each(pe=>{const Ae=wu(bt(pe));wo(pe,"visibility","hidden");const he=ni(pe,"height").map(Ce=>parseInt(Ce,10));As(pe,"height"),As(pe,"flex-basis");const ge=pe.dom.getBoundingClientRect().height;he.forall(Ce=>ge>Ce)?(M.set(ge),Zy(me,pe,M)):he.each(Ce=>{LO(pe,Ce)}),As(pe,"visibility"),Ae.each(Za)})})],selectFirst:!1}})(E);return jy.sketch({dom:{tag:"div",classes:["tox-dialog__body"]},onChangeTab:(F,M,z)=>{const Y=ht.getValue(M);$n(F,AN,{name:Y,oldName:k.get()}),k.set(Y)},tabs:E,components:[jy.parts.tabbar({dom:{tag:"div",classes:["tox-dialog__body-nav"]},components:[NO.parts.tabs({})],markers:{tabClass:"tox-tab",selectedClass:"tox-dialog__body-nav-item--active"},tabbarBehaviours:Jt([qs.config({})])}),jy.parts.tabview({dom:{tag:"div",classes:["tox-dialog__body-content"]}})],selectFirst:P.selectFirst,tabSectionBehaviours:Jt([Io("tabpanel",P.extraEvents),Hn.config({mode:"acyclic"}),cs.config({find:F=>Ne(jy.getViewItems(F))}),x0(R.none(),F=>(F.getSystem().broadcastOn([Dk],{}),b.get()),(F,M)=>{b.set(M),F.getSystem().broadcastOn([MO],{})})])})},Pk=(s,l,d,f,b,v)=>({dom:{tag:"div",classes:["tox-dialog__content-js"],attributes:{...d.map(C=>({id:C})).getOr({}),...b?{"aria-live":"polite"}:{}}},components:[],behaviours:Jt([S3(0),xc.config({channel:`${o5}-${l}`,updateState:(C,k)=>R.some({isTabPanel:()=>k.body.type==="tabpanel"}),renderComponents:C=>{const k=C.body;return k.type==="tabpanel"?[gB(k,C.initialData,f,v)]:[dB(k,C.initialData,f,v)]},initialData:s})])}),hB=lm.deviceType.isTouch(),oC=(s,l)=>({dom:{tag:"div",styles:{display:"none"},classes:["tox-dialog__header"]},components:[s,l]}),BO=(s,l)=>Nr.parts.close(Ya.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":l.translate("Close")}},action:s,buttonBehaviours:Jt([qs.config({})])})),FO=()=>Nr.parts.title({dom:{tag:"div",classes:["tox-dialog__title"],innerHtml:"",styles:{display:"none"}}}),pB=(s,l)=>Nr.parts.body({dom:{tag:"div",classes:["tox-dialog__body"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:[{dom:bg(`<p>${rP(l.translate(s))}</p>`)}]}]}),bB=s=>Nr.parts.footer({dom:{tag:"div",classes:["tox-dialog__footer"]},components:s}),vB=(s,l)=>[ff.sketch({dom:{tag:"div",classes:["tox-dialog__footer-start"]},components:s}),ff.sketch({dom:{tag:"div",classes:["tox-dialog__footer-end"]},components:l})],$O=s=>{const l="tox-dialog",d=l+"-wrap",f=d+"__backdrop",b=l+"__disable-scroll";return Nr.sketch({lazySink:s.lazySink,onEscape:v=>(s.onEscape(v),R.some(!0)),useTabstopAt:v=>!Dy(v),firstTabstop:s.firstTabstop,dom:{tag:"div",classes:[l].concat(s.extraClasses),styles:{position:"relative",...s.extraStyles}},components:[s.header,s.body,...s.footer.toArray()],parts:{blocker:{dom:bg(`<div class="${d}"></div>`),components:[{dom:{tag:"div",classes:hB?[f,f+"--opaque"]:[f]}}]}},dragBlockClass:d,modalBehaviours:Jt([mo.config({}),Io("dialog-events",s.dialogEvents.concat([Uf(Ss(),(v,C)=>{kd.isBlocked(v)||Hn.focusIn(v)}),Dt(y1(),(v,C)=>{v.getSystem().broadcastOn([jS],{newFocus:C.event.newFocus})})])),Io("scroll-lock",[ar(()=>{kr(kn(),b)}),ld(()=>{Ir(kn(),b)})]),...s.extraBehaviours]),eventOrder:{[El()]:["dialog-events"],[ba()]:["scroll-lock","dialog-events","alloy.base.behaviour"],[Lc()]:["alloy.base.behaviour","dialog-events","scroll-lock"],...s.eventOrder}})},yB=s=>Ya.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":s.translate("Close"),"data-mce-name":"close"}},buttonBehaviours:Jt([qs.config({}),ii.config(s.tooltips.getConfig({tooltipText:s.translate("Close")}))]),components:[qc("close",{tag:"span",classes:["tox-icon"]},s.icons)],action:l=>{Mo(l,Wh)}}),VO=(s,l,d,f)=>({dom:{tag:"h1",classes:["tox-dialog__title"],attributes:{...d.map(b=>({id:b})).getOr({})}},components:[],behaviours:Jt([xc.config({channel:`${N3}-${l}`,initialData:s,renderComponents:b=>[Fr(f.translate(b.title))]})])}),zO=()=>({dom:bg('<div class="tox-dialog__draghandle"></div>')}),xB=(s,l,d)=>((f,b,v)=>{const C=Nr.parts.title(VO(f,b,R.none(),v)),k=Nr.parts.draghandle(zO()),E=Nr.parts.close(yB(v)),P=[C].concat(f.draggable?[k]:[]).concat([E]);return ff.sketch({dom:bg('<div class="tox-dialog__header"></div>'),components:P})})({title:d.shared.providers.translate(s),draggable:d.dialog.isDraggableModal()},l,d.shared.providers),wB=(s,l,d,f)=>({dom:{tag:"div",classes:["tox-dialog__busy-spinner"],attributes:{"aria-label":d.translate(s)},styles:{left:"0px",right:"0px",bottom:"0px",top:`${f.getOr(0)}px`,position:"absolute"}},behaviours:l,components:[{dom:bg('<div class="tox-spinner"><div></div><div></div><div></div></div>')}]}),CB=(s,l,d)=>({onClose:()=>d.closeWindow(),onBlock:f=>{const b=fr(s().element,".tox-dialog__header").map(v=>Tr(v));Nr.setBusy(s(),(v,C)=>wB(f.message,C,l,b))},onUnblock:()=>{Nr.setIdle(s())}}),sC="tox-dialog--fullscreen",HO="tox-dialog--width-lg",UO="tox-dialog--width-md",rC=s=>{switch(s){case"large":return R.some(HO);case"medium":return R.some(UO);default:return R.none()}},WO=(s,l)=>{const d=mn(l.element.dom);ul(d,sC)||(fc(d,[HO,UO]),rC(s).each(f=>kr(d,f)))},_B=(s,l)=>{const d=mn(s.element.dom),f=Jd(d),b=J(f,v=>v===HO||v===UO).or(rC(l));((v,C)=>{ft(C,k=>{((E,P)=>{gh(E)?E.dom.classList.toggle(P):((F,M)=>dt(lv(F),M)?Lx(F,M):C1(F,M))(E,P),cv(E)})(v,k)})})(d,[sC,...b.toArray()])},SB=(s,l,d)=>Qi($O({...s,firstTabstop:1,lazySink:d.shared.getSink,extraBehaviours:[Rw({}),...s.extraBehaviours],onEscape:f=>{Mo(f,Wh)},dialogEvents:l,eventOrder:{[uc()]:[xc.name(),Ol.name()],[ba()]:["scroll-lock",xc.name(),"messages","dialog-events","alloy.base.behaviour"],[Lc()]:["alloy.base.behaviour","dialog-events","messages",xc.name(),"scroll-lock"]}})),iC=(s,l={})=>Me(s,d=>d.type==="menu"?(f=>{const b=Me(f.items,v=>{const C=On(l,v.name).getOr(Kn(!1));return{...v,storage:C}});return{...f,items:b}})(d):d),kB=s=>sn(s,(l,d)=>d.type==="menu"?sn(d.items,(f,b)=>(f[b.name]=b.storage,f),l):l,{}),KO=(s,l)=>[mh(Ss(),R$),s(ub,(d,f,b,v)=>{wu(bt(v.element)).fold(H,kv),l.onClose(),f.onClose()}),s(Wh,(d,f,b,v)=>{f.onCancel(d),Mo(v,ub)}),Dt(e3,(d,f)=>l.onUnblock()),Dt(QT,(d,f)=>l.onBlock(f.event))],EB=(s,l,d)=>{const f=(v,C)=>Dt(v,(k,E)=>{b(k,(P,F)=>{C(s(),P,E.event,k)})}),b=(v,C)=>{xc.getState(v).get().each(k=>{C(k.internalDialog,v)})};return[...KO(f,l),f(kw,(v,C)=>C.onSubmit(v)),f(pl,(v,C,k)=>{C.onChange(v,{name:k.name})}),f(mm,(v,C,k,E)=>{const P=()=>E.getSystem().isConnected()?Hn.focusIn(E):void 0,F=Y=>Mr(Y,"disabled")||ns(Y,"aria-disabled").exists(te=>te==="true"),M=bt(E.element),z=wu(M);C.onAction(v,{name:k.name,value:k.value}),wu(M).fold(P,Y=>{F(Y)||z.exists(te=>Lr(Y,te)&&F(te))?P():d().toOptional().filter(te=>!Lr(te.element,Y)).each(P)})}),f(AN,(v,C,k)=>{C.onTabChange(v,{newTabName:k.name,oldTabName:k.oldName})}),ld(v=>{const C=s();ht.setValue(v,C.getData())})]},wH=(s,l)=>{const d=l.map(v=>v.footerButtons).getOr([]),f=so(d,v=>v.align==="start"),b=(v,C)=>ff.sketch({dom:{tag:"div",classes:[`tox-dialog__footer-${v}`]},components:Me(C,k=>k.memento.asSpec())});return[b("start",f.pass),b("end",f.fail)]},AB=(s,l,d)=>({dom:bg('<div class="tox-dialog__footer"></div>'),components:[],behaviours:Jt([xc.config({channel:`${s5}-${l}`,initialData:s,updateState:(f,b)=>{const v=Me(b.buttons,C=>{const k=Es(((E,P)=>Ly(E,E.type,P))(C,d));return{name:C.name,align:C.align,memento:k}});return R.some({lookupByName:C=>((k,E,P)=>J(E,F=>F.name===P).bind(F=>F.memento.getOpt(k)))(f,v,C),footerButtons:v})},renderComponents:wH})])}),jO=(s,l,d)=>Nr.parts.footer(AB(s,l,d)),aC=(s,l)=>{if(s.getRoot().getSystem().isConnected()){const d=cs.getCurrent(s.getFormWrapper()).getOr(s.getFormWrapper());return mb.getField(d,l).orThunk(()=>s.getFooter().bind(b=>xc.getState(b).get()).bind(b=>b.lookupByName(l)))}return R.none()},TB=(s,l,d)=>{const f=v=>{const C=s.getRoot();C.getSystem().isConnected()&&v(C)},b={getData:()=>{const v=s.getRoot(),C=v.getSystem().isConnected()?s.getFormWrapper():v;return{...ht.getValue(C),...oo(d,k=>k.get())}},setData:v=>{f(C=>{const k=b.getData(),E=Fs(k,v),P=((M,z)=>{const Y=M.getRoot();return xc.getState(Y).get().map(te=>Ua(Cr("data",te.dataValidator,z))).getOr(z)})(s,E),F=s.getFormWrapper();ht.setValue(F,P),Xn(d,(M,z)=>{vo(E,z)&&M.set(E[z])})})},setEnabled:(v,C)=>{aC(s,v).each(C?ho.enable:ho.disable)},focus:v=>{aC(s,v).each(mo.focus)},block:v=>{if(!h(v))throw new Error("The dialogInstanceAPI.block function should be passed a blocking message of type string as an argument");f(C=>{$n(C,QT,{message:v})})},unblock:()=>{f(v=>{Mo(v,e3)})},showTab:v=>{f(C=>{const k=s.getBody();xc.getState(k).get().exists(E=>E.isTabPanel())&&cs.getCurrent(k).each(E=>{jy.showTab(E,v)})})},redial:v=>{f(C=>{const k=s.getId(),E=l(v),P=iC(E.internalDialog.buttons,d);C.getSystem().broadcastOn([`${gb}-${k}`],E),C.getSystem().broadcastOn([`${N3}-${k}`],E.internalDialog),C.getSystem().broadcastOn([`${o5}-${k}`],E.internalDialog),C.getSystem().broadcastOn([`${s5}-${k}`],{...E.internalDialog,buttons:P}),b.setData(E.initialData)})},close:()=>{f(v=>{Mo(v,ub)})},toggleFullscreen:s.toggleFullscreen};return b},OB=(s,l,d,f=!1,b)=>{const v=En("dialog"),C=En("dialog-label"),k=En("dialog-content"),E=s.internalDialog,P=Kn(E.size),F=rC(P.get()).toArray(),M=Es(((Te,Ie,qe,ct)=>ff.sketch({dom:bg('<div class="tox-dialog__header"></div>'),components:[VO(Te,Ie,R.some(qe),ct),zO(),yB(ct)],containerBehaviours:Jt([I0.config({mode:"mouse",blockerClass:"blocker",getTarget:Nt=>ud(Nt,'[role="dialog"]').getOrDie(),snaps:{getSnapPoints:()=>[],leftAttr:"data-drag-left",topAttr:"data-drag-top"}})])}))({title:E.title,draggable:!0},v,C,d.shared.providers)),z=Es(((Te,Ie,qe,ct,Nt,It)=>Pk(Te,Ie,R.some(qe),ct,Nt,It))({body:E.body,initialData:E.initialData},v,k,d,f,Te=>aC(ge,Te))),Y=iC(E.buttons),te=kB(Y),me=fs(Y.length!==0,Es(((Te,Ie,qe)=>AB(Te,Ie,qe))({buttons:Y},v,d))),pe=EB(()=>Ce,{onBlock:Te=>{kd.block(he,(Ie,qe)=>{const ct=M.getOpt(he).map(Nt=>Tr(Nt.element));return wB(Te.message,qe,d.shared.providers,ct)})},onUnblock:()=>{kd.unblock(he)},onClose:()=>l.closeWindow()},d.shared.getSink),Ae=fa().os,he=Qi({dom:{tag:"div",classes:["tox-dialog","tox-dialog-inline",...F],attributes:{role:"dialog",...Ae.isMacOS()?{"aria-label":E.title}:{"aria-labelledby":C}}},eventOrder:{[uc()]:[xc.name(),Ol.name()],[El()]:["execute-on-form"],[ba()]:["reflecting","execute-on-form"]},behaviours:Jt([Hn.config({mode:"cyclic",onEscape:Te=>(Mo(Te,ub),R.some(!0)),useTabstopAt:Te=>!Dy(Te)&&(ol(Te)!=="button"||Go(Te,"disabled")!=="disabled"),firstTabstop:1}),xc.config({channel:`${gb}-${v}`,updateState:(Te,Ie)=>(P.set(Ie.internalDialog.size),WO(Ie.internalDialog.size,Te),b(),R.some(Ie)),initialData:s}),mo.config({}),Io("execute-on-form",pe.concat([Uf(Ss(),(Te,Ie)=>{Hn.focusIn(Te)}),Dt(y1(),(Te,Ie)=>{Te.getSystem().broadcastOn([jS],{newFocus:Ie.event.newFocus})})])),kd.config({getRoot:()=>R.some(he)}),eo.config({}),Rw({})]),components:[M.asSpec(),z.asSpec(),...me.map(Te=>Te.asSpec()).toArray()]}),ge={getId:j(v),getRoot:j(he),getFooter:()=>me.map(Te=>Te.get(he)),getBody:()=>z.get(he),getFormWrapper:()=>{const Te=z.get(he);return cs.getCurrent(Te).getOr(Te)},toggleFullscreen:()=>{_B(he,P.get())}},Ce=TB(ge,l.redial,te);return{dialog:he,instanceApi:Ce}};var ZO=tinymce.util.Tools.resolve("tinymce.util.URI");const CH=["insertContent","setContent","execCommand","close","block","unblock"],GO=s=>x(s)&&CH.indexOf(s.mceAction)!==-1,_H=(s,l,d,f)=>{const b=En("dialog"),v=xB(s.title,b,f),C=(Ae=>{const he={dom:{tag:"div",classes:["tox-dialog__content-js"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-iframe"]},components:[D3(R.none(),{dom:{tag:"iframe",attributes:{src:Ae.url}},behaviours:Jt([qs.config({}),mo.config({})])})]}],behaviours:Jt([Hn.config({mode:"acyclic",useTabstopAt:Fe(Dy)})])};return Nr.parts.body(he)})(s),k=s.buttons.bind(Ae=>Ae.length===0?R.none():R.some(jO({buttons:Ae},b,f))),E=((Ae,he)=>{const ge=(Te,Ie)=>Dt(Te,(qe,ct)=>{Ce(qe,(Nt,It)=>{Ie(pe,Nt,ct.event,qe)})}),Ce=(Te,Ie)=>{xc.getState(Te).get().each(qe=>{Ie(qe,Te)})};return[...KO(ge,he),ge(mm,(Te,Ie,qe)=>{Ie.onAction(Te,{name:qe.name})})]})(0,CB(()=>me,f.shared.providers,l)),P={...s.height.fold(()=>({}),Ae=>({height:Ae+"px","max-height":Ae+"px"})),...s.width.fold(()=>({}),Ae=>({width:Ae+"px","max-width":Ae+"px"}))},F=s.width.isNone()&&s.height.isNone()?["tox-dialog--width-lg"]:[],M=new ZO(s.url,{base_uri:new ZO(window.location.href)}),z=`${M.protocol}://${M.host}${M.port?":"+M.port:""}`,Y=Ic(),te=[xc.config({channel:`${gb}-${b}`,updateState:(Ae,he)=>R.some(he),initialData:s}),Io("messages",[ar(()=>{const Ae=Ga(mn(window),"message",he=>{if(M.isSameOrigin(new ZO(he.raw.origin))){const ge=he.raw.data;GO(ge)?((Ce,Te,Ie)=>{switch(Ie.mceAction){case"insertContent":Ce.insertContent(Ie.content);break;case"setContent":Ce.setContent(Ie.content);break;case"execCommand":const qe=!!O(Ie.ui)&&Ie.ui;Ce.execCommand(Ie.cmd,qe,Ie.value);break;case"close":Te.close();break;case"block":Te.block(Ie.message);break;case"unblock":Te.unblock()}})(d,pe,ge):(Ce=>!GO(Ce)&&x(Ce)&&vo(Ce,"mceAction"))(ge)&&s.onMessage(pe,ge)}});Y.set(Ae)}),ld(Y.clear)]),Ol.config({channels:{[L3]:{onReceive:(Ae,he)=>{fr(Ae.element,"iframe").each(ge=>{const Ce=ge.dom.contentWindow;U(Ce)&&Ce.postMessage(he,z)})}}}})],me=SB({id:b,header:v,body:C,footer:k,extraClasses:F,extraBehaviours:te,extraStyles:P},E,f),pe=(Ae=>{const he=ge=>{Ae.getSystem().isConnected()&&ge(Ae)};return{block:ge=>{if(!h(ge))throw new Error("The urlDialogInstanceAPI.block function should be passed a blocking message of type string as an argument");he(Ce=>{$n(Ce,QT,{message:ge})})},unblock:()=>{he(ge=>{Mo(ge,e3)})},close:()=>{he(ge=>{Mo(ge,ub)})},sendMessage:ge=>{he(Ce=>{Ce.getSystem().broadcastOn([L3],ge)})}}})(me);return{dialog:me,instanceApi:pe}},qO=(s,l)=>Ua(Cr("data",l,s)),RB=s=>Oy(s,".tox-alert-dialog")||Oy(s,".tox-confirm-dialog"),SH=(s,l,d)=>l&&d?[]:[dr.config({contextual:{lazyContext:()=>R.some(ui(mn(s.getContentAreaContainer()))),fadeInClass:"tox-dialog-dock-fadein",fadeOutClass:"tox-dialog-dock-fadeout",transitionClass:"tox-dialog-dock-transition"},modes:["top"],lazyViewport:f=>Qp(s,f.element).map(b=>({bounds:eb(b),optScrollEnv:R.some({currentScrollTop:b.element.dom.scrollTop,scrollElmTop:Vl(b.element).top})})).getOrThunk(()=>({bounds:qi(),optScrollEnv:R.none()}))})],kH=s=>{const l=s.editor,d=Fh(l),f=(E=>{const P=E.shared;return{open:(F,M)=>{const z=()=>{Nr.hide(pe),M()},Y=Es(Ly({name:"close-alert",text:"OK",primary:!0,buttonType:R.some("primary"),align:"end",enabled:!0,icon:R.none()},"cancel",E)),te=FO(),me=BO(z,P.providers),pe=Qi($O({lazySink:()=>P.getSink(),header:oC(te,me),body:pB(F,P.providers),footer:R.some(bB(vB([],[Y.asSpec()]))),onEscape:z,extraClasses:["tox-alert-dialog"],extraBehaviours:[],extraStyles:{},dialogEvents:[Dt(Wh,z)],eventOrder:{}}));Nr.show(pe);const Ae=Y.get(pe);mo.focus(Ae)}}})(s.backstages.dialog),b=(E=>{const P=E.shared;return{open:(F,M)=>{const z=ge=>{Nr.hide(Ae),M(ge)},Y=Es(Ly({name:"yes",text:"Yes",primary:!0,buttonType:R.some("primary"),align:"end",enabled:!0,icon:R.none()},"submit",E)),te=Ly({name:"no",text:"No",primary:!1,buttonType:R.some("secondary"),align:"end",enabled:!0,icon:R.none()},"cancel",E),me=FO(),pe=BO(()=>z(!1),P.providers),Ae=Qi($O({lazySink:()=>P.getSink(),header:oC(me,pe),body:pB(F,P.providers),footer:R.some(bB(vB([],[te,Y.asSpec()]))),onEscape:()=>z(!1),extraClasses:["tox-confirm-dialog"],extraBehaviours:[],extraStyles:{},dialogEvents:[Dt(Wh,()=>z(!1)),Dt(kw,()=>z(!0))],eventOrder:{}}));Nr.show(Ae);const he=Y.get(Ae);mo.focus(he)}}})(s.backstages.dialog),v=(E,P)=>D0.open((F,M,z)=>{const Y=M,te=((me,pe,Ae)=>{const he=En("dialog"),ge=me.internalDialog,Ce=xB(ge.title,he,Ae),Te=Kn(ge.size),Ie=rC(Te.get()).toArray(),qe=((po,jo,rr,mr)=>{const Po=Pk(po,jo,R.none(),rr,!1,mr);return Nr.parts.body(Po)})({body:ge.body,initialData:ge.initialData},he,Ae,po=>aC(Nn,po)),ct=iC(ge.buttons),Nt=kB(ct),It=fs(ct.length!==0,jO({buttons:ct},he,Ae)),Tt=EB(()=>Zn,CB(()=>wn,Ae.shared.providers,pe),Ae.shared.getSink),Gt={id:he,header:Ce,body:qe,footer:It,extraClasses:Ie,extraBehaviours:[xc.config({channel:`${gb}-${he}`,updateState:(po,jo)=>(Te.set(jo.internalDialog.size),WO(jo.internalDialog.size,po),R.some(jo)),initialData:me})],extraStyles:{}},wn=SB(Gt,Tt,Ae),Nn={getId:j(he),getRoot:j(wn),getBody:()=>Nr.getBody(wn),getFooter:()=>Nr.getFooter(wn),getFormWrapper:()=>{const po=Nr.getBody(wn);return cs.getCurrent(po).getOr(po)},toggleFullscreen:()=>{_B(wn,Te.get())}},Zn=TB(Nn,pe.redial,Nt);return{dialog:wn,instanceApi:Zn}})({dataValidator:z,initialData:Y,internalDialog:F},{redial:D0.redial,closeWindow:()=>{Nr.hide(te.dialog),P(te.instanceApi)}},s.backstages.dialog);return Nr.show(te.dialog),te.instanceApi.setData(Y),te.instanceApi},E),C=(E,P,F,M)=>D0.open((z,Y,te)=>{const me=qO(Y,te),pe=Rs(),Ae=s.backstages.popup.shared.header.isPositionedAtTop(),he=()=>pe.on(Te=>{br.reposition(Te),d&&Ae||dr.refresh(Te)}),ge=OB({dataValidator:te,initialData:me,internalDialog:z},{redial:D0.redial,closeWindow:()=>{pe.on(br.hide),l.off("ResizeEditor",he),pe.clear(),F(ge.instanceApi)}},s.backstages.popup,M.ariaAttrs,he),Ce=Qi(br.sketch({lazySink:s.backstages.popup.shared.getSink,dom:{tag:"div",classes:[]},fireDismissalEventInstead:M.persistent?{event:"doNotDismissYet"}:{},...Ae?{}:{fireRepositionEventInstead:{}},inlineBehaviours:Jt([Io("window-manager-inline-events",[Dt(fh(),(Te,Ie)=>{Mo(ge.dialog,Wh)})]),...SH(l,d,Ae)]),isExtraPart:(Te,Ie)=>RB(Ie)}));return pe.set(Ce),br.showWithinBounds(Ce,dl(ge.dialog),{anchor:P},()=>{const Te=l.inline?kn():mn(l.getContainer()),Ie=ui(Te);return R.some(Ie)}),d&&Ae||(dr.refresh(Ce),l.on("ResizeEditor",he)),ge.instanceApi.setData(me),Hn.focusIn(ge.dialog),ge.instanceApi},E),k=(E,P,F,M)=>D0.open((z,Y,te)=>{const me=qO(Y,te),pe=Rs(),Ae=s.backstages.popup.shared.header.isPositionedAtTop(),he=()=>pe.on(Te=>{br.reposition(Te),dr.refresh(Te)}),ge=OB({dataValidator:te,initialData:me,internalDialog:z},{redial:D0.redial,closeWindow:()=>{pe.on(br.hide),l.off("ResizeEditor ScrollWindow ElementScroll",he),pe.clear(),F(ge.instanceApi)}},s.backstages.popup,M.ariaAttrs,he),Ce=Qi(br.sketch({lazySink:s.backstages.popup.shared.getSink,dom:{tag:"div",classes:[]},fireDismissalEventInstead:M.persistent?{event:"doNotDismissYet"}:{},...Ae?{}:{fireRepositionEventInstead:{}},inlineBehaviours:Jt([Io("window-manager-inline-events",[Dt(fh(),(Te,Ie)=>{Mo(ge.dialog,Wh)})]),dr.config({contextual:{lazyContext:()=>R.some(ui(mn(l.getContentAreaContainer()))),fadeInClass:"tox-dialog-dock-fadein",fadeOutClass:"tox-dialog-dock-fadeout",transitionClass:"tox-dialog-dock-transition"},modes:["top","bottom"],lazyViewport:Te=>Qp(l,Te.element).map(Ie=>({bounds:eb(Ie),optScrollEnv:R.some({currentScrollTop:Ie.element.dom.scrollTop,scrollElmTop:Vl(Ie.element).top})})).getOrThunk(()=>({bounds:qi(),optScrollEnv:R.none()}))})]),isExtraPart:(Te,Ie)=>RB(Ie)}));return pe.set(Ce),br.showWithinBounds(Ce,dl(ge.dialog),{anchor:P},()=>s.backstages.popup.shared.getSink().toOptional().bind(Te=>{const Ie=Qp(l,Te.element).map(Nt=>eb(Nt)).getOr(qi()),qe=ui(mn(l.getContentAreaContainer())),ct=Kd(qe,Ie);return R.some(Fo(ct.x,ct.y,ct.width,ct.height-15))})),dr.refresh(Ce),l.on("ResizeEditor ScrollWindow ElementScroll ResizeWindow",he),ge.instanceApi.setData(me),Hn.focusIn(ge.dialog),ge.instanceApi},E);return{open:(E,P,F)=>{if(!N(P)){if(P.inline==="toolbar")return C(E,s.backstages.popup.shared.anchors.inlineDialog(),F,P);if(P.inline==="bottom")return k(E,s.backstages.popup.shared.anchors.inlineBottomDialog(),F,P);if(P.inline==="cursor")return C(E,s.backstages.popup.shared.anchors.cursor(),F,P)}return v(E,F)},openUrl:(E,P)=>((F,M)=>D0.openUrl(z=>{const Y=_H(z,{closeWindow:()=>{Nr.hide(Y.dialog),M(Y.instanceApi)}},l,s.backstages.dialog);return Nr.show(Y.dialog),Y.instanceApi},F))(E,P),alert:(E,P)=>{f.open(E,P)},close:E=>{E.close()},confirm:(E,P)=>{b.open(E,P)}}};Cp.add("silver",s=>{(k=>{MD(k),(E=>{const P=E.options.register,F=z=>re(z,h)?{value:K7(z),valid:!0}:{valid:!1,message:"Must be an array of strings."},M=z=>ee(z)&&z>0?{value:z,valid:!0}:{valid:!1,message:"Must be a positive number."};P("color_map",{processor:F,default:["#BFEDD2","Light Green","#FBEEB8","Light Yellow","#F8CAC6","Light Red","#ECCAFA","Light Purple","#C2E0F4","Light Blue","#2DC26B","Green","#F1C40F","Yellow","#E03E2D","Red","#B96AD9","Purple","#3598DB","Blue","#169179","Dark Turquoise","#E67E23","Orange","#BA372A","Dark Red","#843FA1","Dark Purple","#236FA1","Dark Blue","#ECF0F1","Light Gray","#CED4D9","Medium Gray","#95A5A6","Gray","#7E8C8D","Dark Gray","#34495E","Navy Blue","#000000","Black","#ffffff","White"]}),P("color_map_background",{processor:F}),P("color_map_foreground",{processor:F}),P("color_cols",{processor:M,default:gS(E)}),P("color_cols_foreground",{processor:M,default:sN(E,DT)}),P("color_cols_background",{processor:M,default:sN(E,PT)}),P("custom_colors",{processor:"boolean",default:!0}),P("color_default_foreground",{processor:"string",default:vw}),P("color_default_background",{processor:"string",default:vw})})(k),(E=>{const P=E.options.register;P("contextmenu_avoid_overlap",{processor:"string",default:""}),P("contextmenu_never_use_native",{processor:"boolean",default:!1}),P("contextmenu",{processor:F=>F===!1?{value:[],valid:!0}:h(F)||re(F,h)?{value:QL(F),valid:!0}:{valid:!1,message:"Must be false or a string."},default:"link linkchecker image editimage table spellchecker configurepermanentpen"})})(k)})(s);let l=()=>qi();const{dialogs:d,popups:f,renderUI:b}=Pz(s,{getPopupSinkBounds:()=>l()});_N(s,f.backstage.shared);const v=kH({editor:s,backstages:{popup:f.backstage,dialog:d.backstage}}),C=Rs();return{renderUI:()=>{const k=b();return Qp(s,f.getMothership().element).each(E=>{l=()=>eb(E)}),k},getWindowManagerImpl:j(v),getNotificationManagerImpl:()=>cP(s,{backstage:f.backstage},f.getMothership(),C)}})})();(function(){var t=tinymce.util.Tools.resolve("tinymce.ModelManager");const r=y=>S=>(T=>{const B=typeof T;return T===null?"null":B==="object"&&Array.isArray(T)?"array":B==="object"&&(W=K=T,(ie=String).prototype.isPrototypeOf(W)||((ue=K.constructor)===null||ue===void 0?void 0:ue.name)===ie.name)?"string":B;var W,K,ie,ue})(S)===y,i=y=>S=>typeof S===y,u=y=>S=>y===S,g=r("string"),h=r("object"),x=r("array"),w=u(null),I=i("boolean"),D=u(void 0),O=y=>!(S=>S==null)(y),N=i("function"),V=i("number"),U=()=>{},Z=y=>()=>y,ee=y=>y,re=(y,S)=>y===S;function H(y,...S){return(...T)=>{const B=S.concat(T);return y.apply(null,B)}}const de=y=>S=>!y(S),le=y=>y(),j=Z(!1),fe=Z(!0);class ne{constructor(S,T){this.tag=S,this.value=T}static some(S){return new ne(!0,S)}static none(){return ne.singletonNone}fold(S,T){return this.tag?T(this.value):S()}isSome(){return this.tag}isNone(){return!this.tag}map(S){return this.tag?ne.some(S(this.value)):ne.none()}bind(S){return this.tag?S(this.value):ne.none()}exists(S){return this.tag&&S(this.value)}forall(S){return!this.tag||S(this.value)}filter(S){return!this.tag||S(this.value)?this:ne.none()}getOr(S){return this.tag?this.value:S}or(S){return this.tag?this:S}getOrThunk(S){return this.tag?this.value:S()}orThunk(S){return this.tag?this:S()}getOrDie(S){if(this.tag)return this.value;throw new Error(S??"Called getOrDie on None")}static from(S){return O(S)?ne.some(S):ne.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(S){this.tag&&S(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}ne.singletonNone=new ne(!1);const Ve=Array.prototype.slice,Fe=Array.prototype.indexOf,Xe=Array.prototype.push,rt=(y,S)=>{return T=y,B=S,Fe.call(T,B)>-1;var T,B},xe=(y,S)=>{for(let T=0,B=y.length;T<B;T++)if(S(y[T],T))return!0;return!1},_e=(y,S)=>{const T=[];for(let B=0;B<y;B++)T.push(S(B));return T},R=(y,S)=>{const T=y.length,B=new Array(T);for(let W=0;W<T;W++){const K=y[W];B[W]=S(K,W)}return B},it=(y,S)=>{for(let T=0,B=y.length;T<B;T++)S(y[T],T)},lt=(y,S)=>{const T=[],B=[];for(let W=0,K=y.length;W<K;W++){const ie=y[W];(S(ie,W)?T:B).push(ie)}return{pass:T,fail:B}},Lt=(y,S)=>{const T=[];for(let B=0,W=y.length;B<W;B++){const K=y[B];S(K,B)&&T.push(K)}return T},Qt=(y,S,T)=>(((B,W)=>{for(let K=B.length-1;K>=0;K--)W(B[K],K)})(y,(B,W)=>{T=S(T,B,W)}),T),dt=(y,S,T)=>(it(y,(B,W)=>{T=S(T,B,W)}),T),Sn=(y,S)=>((T,B,W)=>{for(let K=0,ie=T.length;K<ie;K++){const ue=T[K];if(B(ue,K))return ne.some(ue);if(W(ue,K))break}return ne.none()})(y,S,j),Et=(y,S)=>{for(let T=0,B=y.length;T<B;T++)if(S(y[T],T))return ne.some(T);return ne.none()},et=y=>{const S=[];for(let T=0,B=y.length;T<B;++T){if(!x(y[T]))throw new Error("Arr.flatten item "+T+" was not an array, input: "+y);Xe.apply(S,y[T])}return S},Me=(y,S)=>et(R(y,S)),ft=(y,S)=>{for(let T=0,B=y.length;T<B;++T)if(S(y[T],T)!==!0)return!1;return!0},so=(y,S)=>{const T={};for(let B=0,W=y.length;B<W;B++){const K=y[B];T[String(K)]=S(K,B)}return T},Wt=(y,S)=>S>=0&&S<y.length?ne.some(y[S]):ne.none(),In=y=>Wt(y,0),sn=y=>Wt(y,y.length-1),J=(y,S)=>{for(let T=0;T<y.length;T++){const B=S(y[T],T);if(B.isSome())return B}return ne.none()},fo=Object.keys,Zt=Object.hasOwnProperty,bn=(y,S)=>{const T=fo(y);for(let B=0,W=T.length;B<W;B++){const K=T[B];S(y[K],K)}},Ke=(y,S)=>tt(y,(T,B)=>({k:B,v:S(T,B)})),tt=(y,S)=>{const T={};return bn(y,(B,W)=>{const K=S(B,W);T[K.k]=K.v}),T},we=(y,S)=>{const T=[];return bn(y,(B,W)=>{T.push(S(B,W))}),T},Re=y=>we(y,ee),He=(y,S)=>Zt.call(y,S),be=typeof window<"u"?window:Function("return this;")(),ke=(y,S)=>((T,B)=>{let W=B??be;for(let K=0;K<T.length&&W!=null;++K)W=W[T[K]];return W})(y.split("."),S),Ne=Object.getPrototypeOf,Ge=y=>{const S=ke("ownerDocument.defaultView",y);return h(y)&&((T=>((B,W)=>{const K=((ie,ue)=>ke(ie,ue))(B,W);if(K==null)throw new Error(B+" not available on this browser");return K})("HTMLElement",T))(S).prototype.isPrototypeOf(y)||/^HTML\w*Element$/.test(Ne(y).constructor.name))},pt=y=>y.dom.nodeName.toLowerCase(),cn=y=>y.dom.nodeType,jt=y=>S=>cn(S)===y,xn=y=>cn(y)===8||pt(y)==="#comment",Xn=y=>oo(y)&&Ge(y.dom),oo=jt(1),zo=jt(3),No=jt(9),Gs=jt(11),ds=y=>S=>oo(S)&&pt(S)===y,ei=(y,S,T)=>{if(!(g(T)||I(T)||V(T)))throw console.error("Invalid call to Attribute.set. Key ",S,":: Value ",T,":: Element ",y),new Error("Attribute value was not simple");y.setAttribute(S,T+"")},_s=(y,S,T)=>{ei(y.dom,S,T)},Zi=(y,S)=>{const T=y.dom;bn(S,(B,W)=>{ei(T,W,B)})},On=(y,S)=>{const T=y.dom.getAttribute(S);return T===null?void 0:T},vo=(y,S)=>ne.from(On(y,S)),Do=(y,S)=>{y.dom.removeAttribute(S)},li=y=>dt(y.dom.attributes,(S,T)=>(S[T.name]=T.value,S),{}),nl=y=>{if(y==null)throw new Error("Node cannot be null or undefined");return{dom:y}},en={fromHtml:(y,S)=>{const T=(S||document).createElement("div");if(T.innerHTML=y,!T.hasChildNodes()||T.childNodes.length>1){const B="HTML does not have a single root node";throw console.error(B,y),new Error(B)}return nl(T.childNodes[0])},fromTag:(y,S)=>{const T=(S||document).createElement(y);return nl(T)},fromText:(y,S)=>{const T=(S||document).createTextNode(y);return nl(T)},fromDom:nl,fromPoint:(y,S,T)=>ne.from(y.dom.elementFromPoint(S,T)).map(nl)},pi=(y,S)=>{const T=y.dom;if(T.nodeType!==1)return!1;{const B=T;if(B.matches!==void 0)return B.matches(S);if(B.msMatchesSelector!==void 0)return B.msMatchesSelector(S);if(B.webkitMatchesSelector!==void 0)return B.webkitMatchesSelector(S);if(B.mozMatchesSelector!==void 0)return B.mozMatchesSelector(S);throw new Error("Browser lacks native selectors")}},fs=y=>y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11||y.childElementCount===0,Zl=(y,S)=>{const T=S===void 0?document:S.dom;return fs(T)?ne.none():ne.from(T.querySelector(y)).map(en.fromDom)},Ks=(y,S)=>y.dom===S.dom,ti=(y,S)=>{const T=y.dom,B=S.dom;return T!==B&&T.contains(B)},Dm=pi,Zu=y=>en.fromDom(y.dom.ownerDocument),Tc=y=>No(y)?y:Zu(y),xl=y=>ne.from(y.dom.parentNode).map(en.fromDom),Gu=y=>ne.from(y.dom.parentElement).map(en.fromDom),Ps=(y,S)=>{const T=N(S)?S:j;let B=y.dom;const W=[];for(;B.parentNode!==null&&B.parentNode!==void 0;){const K=B.parentNode,ie=en.fromDom(K);if(W.push(ie),T(ie)===!0)break;B=K}return W},yo=y=>ne.from(y.dom.previousSibling).map(en.fromDom),Gl=y=>ne.from(y.dom.nextSibling).map(en.fromDom),Di=y=>R(y.dom.childNodes,en.fromDom),qu=(y,S)=>{const T=y.dom.childNodes;return ne.from(T[S]).map(en.fromDom)},mn=(y,S)=>{xl(y).each(T=>{T.dom.insertBefore(S.dom,y.dom)})},Yu=(y,S)=>{Gl(y).fold(()=>{xl(y).each(T=>{hr(T,S)})},T=>{mn(T,S)})},Pm=(y,S)=>{(B=>qu(B,0))(y).fold(()=>{hr(y,S)},B=>{y.dom.insertBefore(S.dom,B.dom)})},hr=(y,S)=>{y.dom.appendChild(S.dom)},Nm=(y,S)=>{mn(y,S),hr(S,y)},ol=(y,S)=>{it(S,(T,B)=>{const W=B===0?y:S[B-1];Yu(W,T)})},Fl=(y,S)=>{it(S,T=>{hr(y,T)})},wl=y=>{y.dom.textContent="",it(Di(y),S=>{lr(S)})},lr=y=>{const S=y.dom;S.parentNode!==null&&S.parentNode.removeChild(S)},Ta=y=>{const S=Di(y);S.length>0&&ol(y,S),lr(y)},$l=(y,S)=>en.fromDom(y.dom.cloneNode(S)),Lm=y=>$l(y,!1),ou=y=>$l(y,!0),su=(y,S)=>{const T=en.fromTag(S),B=li(y);return Zi(T,B),T},kf=["tfoot","thead","tbody","colgroup"],Vd=(y,S,T)=>({element:y,rowspan:S,colspan:T}),ms=(y,S,T)=>({element:y,cells:S,section:T}),Lr=(y,S,T)=>({element:y,isNew:S,isLocked:T}),ci=(y,S,T,B)=>({element:y,cells:S,section:T,isNew:B}),Mm=y=>en.fromDom(y.dom.host),sl=y=>{const S=zo(y)?y.dom.parentNode:y.dom;if(S==null||S.ownerDocument===null)return!1;const T=S.ownerDocument;return(K=>{const ie=(Ee=>en.fromDom(Ee.dom.getRootNode()))(K);return Gs(ue=ie)&&O(ue.dom.host)?ne.some(ie):ne.none();var ue})(en.fromDom(S)).fold(()=>T.body.contains(S),(B=sl,W=Mm,K=>B(W(K))));var B,W},ru=y=>{const S=y.dom.body;if(S==null)throw new Error("Body is not available yet");return en.fromDom(S)},Oa=(y,S)=>{let T=[];return it(Di(y),B=>{S(B)&&(T=T.concat([B])),T=T.concat(Oa(B,S))}),T},Ra=(y,S,T)=>((B,W,K)=>Lt(Ps(B,K),ie=>pi(ie,S)))(y,0,T),iu=(y,S)=>((T,B)=>Lt(Di(T),W=>pi(W,S)))(y),Bs=(y,S)=>((T,B)=>{const W=B===void 0?document:B.dom;return fs(W)?[]:R(W.querySelectorAll(T),en.fromDom)})(S,y);var cr=(y,S,T,B,W)=>y(T,B)?ne.some(T):N(W)&&W(T)?ne.none():S(T,B,W);const De=(y,S,T)=>{let B=y.dom;const W=N(T)?T:j;for(;B.parentNode;){B=B.parentNode;const K=en.fromDom(B);if(S(K))return ne.some(K);if(W(K))break}return ne.none()},at=(y,S,T)=>cr((B,W)=>W(B),De,y,S,T),Ue=(y,S,T)=>De(y,B=>pi(B,S),T),wt=(y,S)=>((T,B)=>Sn(T.dom.childNodes,W=>{return K=en.fromDom(W),pi(K,S);var K}).map(en.fromDom))(y),bt=(y,S)=>Zl(S,y),ot=(y,S,T)=>cr((B,W)=>pi(B,W),Ue,y,S,T),Xt=(y,S,T=re)=>y.exists(B=>T(B,S)),un=y=>{const S=[],T=B=>{S.push(B)};for(let B=0;B<y.length;B++)y[B].each(T);return S},vn=(y,S)=>y?ne.some(S):ne.none(),kn=(y,S,T)=>S===""||y.length>=S.length&&y.substr(T,T+S.length)===S,gn=(y,S,T=0,B)=>{const W=y.indexOf(S,T);return W!==-1&&(!!D(B)||W+S.length<=B)},Ao=(y,S)=>kn(y,S,0),fn=(y,S)=>kn(y,S,y.length-S.length),Os=(y=>S=>S.replace(y,""))(/^\s+|\s+$/g),Go=y=>y.length>0,ns=y=>y.style!==void 0&&N(y.style.getPropertyValue),Mr=(y,S,T)=>{if(!g(T))throw console.error("Invalid call to CSS.set. Property ",S,":: Value ",T,":: Element ",y),new Error("CSS value must be a string: "+T);ns(y)&&y.style.setProperty(S,T)},Lo=(y,S,T)=>{const B=y.dom;Mr(B,S,T)},ql=(y,S)=>{const T=y.dom;bn(S,(B,W)=>{Mr(T,W,B)})},Ia=(y,S)=>{const T=y.dom,B=window.getComputedStyle(T).getPropertyValue(S);return B!==""||sl(y)?B:wo(T,S)},wo=(y,S)=>ns(y)?y.style.getPropertyValue(S):"",rl=(y,S)=>{const T=y.dom,B=wo(T,S);return ne.from(B).filter(W=>W.length>0)},Cl=(y,S)=>{((T,B)=>{ns(T)&&T.style.removeProperty(B)})(y.dom,S),Xt(vo(y,"style").map(Os),"")&&Do(y,"style")},Ar=(y,S,T=0)=>vo(y,S).map(B=>parseInt(B,10)).getOr(T),Ef=(y,S)=>Ar(y,S,1),ni=y=>ds("col")(y)?Ar(y,"span",1)>1:Ef(y,"colspan")>1,Bm=(y,S)=>parseInt(Ia(y,S),10),Yl=Z(10),As=Z(10),zd=(y,S)=>th(y,S,fe),th=(y,S,T)=>Me(Di(y),B=>pi(B,S)?T(B)?[B]:[]:th(B,S,T)),yp=(y,S)=>((T,B,W=j)=>W(B)?ne.none():rt(T,pt(B))?ne.some(B):Ue(B,T.join(","),K=>pi(K,"table")||W(K)))(["td","th"],y,S),Tr=y=>zd(y,"th,td"),Oc=y=>pi(y,"colgroup")?iu(y,"col"):Me(Fm(y),S=>iu(S,"col")),_l=(y,S)=>ot(y,"table",S),tr=y=>zd(y,"tr"),Fm=y=>_l(y).fold(Z([]),S=>iu(S,"colgroup")),Vl=(y,S)=>R(y,T=>{if(pt(T)==="colgroup"){const B=R(Oc(T),W=>{const K=Ar(W,"span",1);return Vd(W,1,K)});return ms(T,B,"colgroup")}{const B=R(Tr(T),W=>{const K=Ar(W,"rowspan",1),ie=Ar(W,"colspan",1);return Vd(W,K,ie)});return ms(T,B,S(T))}}),ca=y=>xl(y).map(S=>{const T=pt(S);return(B=>rt(kf,B))(T)?T:"tbody"}).getOr("tbody"),nh=y=>{const S=tr(y),T=[...Fm(y),...S];return Vl(T,ca)},Pi=y=>{let S,T=!1;return(...B)=>(T||(T=!0,S=y.apply(null,B)),S)},il=()=>ua(0,0),ua=(y,S)=>({major:y,minor:S}),zl={nu:ua,detect:(y,S)=>{const T=String(S).toLowerCase();return y.length===0?il():((B,W)=>{const K=((ue,Ee)=>{for(let ze=0;ze<ue.length;ze++){const Qe=ue[ze];if(Qe.test(Ee))return Qe}})(B,W);if(!K)return{major:0,minor:0};const ie=ue=>Number(W.replace(K,"$"+ue));return ua(ie(1),ie(2))})(y,T)},unknown:il},xp=(y,S)=>{const T=String(S).toLowerCase();return Sn(y,B=>B.search(T))},Wo=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,au=y=>S=>gn(S,y),Hd=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:y=>gn(y,"edge/")&&gn(y,"chrome")&&gn(y,"safari")&&gn(y,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,Wo],search:y=>gn(y,"chrome")&&!gn(y,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:y=>gn(y,"msie")||gn(y,"trident")},{name:"Opera",versionRegexes:[Wo,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:au("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:au("firefox")},{name:"Safari",versionRegexes:[Wo,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:y=>(gn(y,"safari")||gn(y,"mobile/"))&&gn(y,"applewebkit")}],Xu=[{name:"Windows",search:au("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:y=>gn(y,"iphone")||gn(y,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:au("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:au("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:au("linux"),versionRegexes:[]},{name:"Solaris",search:au("sunos"),versionRegexes:[]},{name:"FreeBSD",search:au("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:au("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],Gb={browsers:Z(Hd),oses:Z(Xu)},Ax="Edge",u1="Chromium",d1="Opera",WC="Firefox",wp="Safari",f1=y=>{const S=y.current,T=y.version,B=W=>()=>S===W;return{current:S,version:T,isEdge:B(Ax),isChromium:B(u1),isIE:B("IE"),isOpera:B(d1),isFirefox:B(WC),isSafari:B(wp)}},rn=()=>f1({current:void 0,version:zl.unknown()}),Af=f1,Tf="Windows",m1="Android",da="Linux",Of="macOS",oh="Solaris",Tx="FreeBSD",Ox="ChromeOS",qb=y=>{const S=y.current,T=y.version,B=W=>()=>S===W;return{current:S,version:T,isWindows:B(Tf),isiOS:B("iOS"),isAndroid:B(m1),isMacOS:B(Of),isLinux:B(da),isSolaris:B(oh),isFreeBSD:B(Tx),isChromeOS:B(Ox)}},Rx=()=>qb({current:void 0,version:zl.unknown()}),g1=qb,Ix=y=>window.matchMedia(y).matches;let sh=Pi(()=>((y,S,T)=>{const B=Gb.browsers(),W=Gb.oses(),K=S.bind(Ee=>((ze,Qe)=>J(Qe.brands,Le=>{const We=Le.brand.toLowerCase();return Sn(ze,Ze=>{var ut;return We===((ut=Ze.brand)===null||ut===void 0?void 0:ut.toLowerCase())}).map(Ze=>({current:Ze.name,version:zl.nu(parseInt(Le.version,10),0)}))}))(B,Ee)).orThunk(()=>((Ee,ze)=>xp(Ee,ze).map(Qe=>{const Le=zl.detect(Qe.versionRegexes,ze);return{current:Qe.name,version:Le}}))(B,y)).fold(rn,Af),ie=((Ee,ze)=>xp(Ee,ze).map(Qe=>{const Le=zl.detect(Qe.versionRegexes,ze);return{current:Qe.name,version:Le}}))(W,y).fold(Rx,g1),ue=((Ee,ze,Qe,Le)=>{const We=Ee.isiOS()&&/ipad/i.test(Qe)===!0,Ze=Ee.isiOS()&&!We,ut=Ee.isiOS()||Ee.isAndroid(),gt=ut||Le("(pointer:coarse)"),Bt=We||!Ze&&ut&&Le("(min-device-width:768px)"),Vt=Ze||ut&&!Bt,Mt=ze.isSafari()&&Ee.isiOS()&&/safari/i.test(Qe)===!1,Ht=!Vt&&!Bt&&!Mt;return{isiPad:Z(We),isiPhone:Z(Ze),isTablet:Z(Bt),isPhone:Z(Vt),isTouch:Z(gt),isAndroid:Ee.isAndroid,isiOS:Ee.isiOS,isWebView:Z(Mt),isDesktop:Z(Ht)}})(ie,K,y,T);return{browser:K,os:ie,deviceType:ue}})(window.navigator.userAgent,ne.from(window.navigator.userAgentData),Ix));const h1=()=>sh(),Rf=(y,S)=>{const T=W=>{const K=S(W);if(K<=0||K===null){const ie=Ia(W,y);return parseFloat(ie)||0}return K},B=(W,K)=>dt(K,(ie,ue)=>{const Ee=Ia(W,ue),ze=Ee===void 0?0:parseInt(Ee,10);return isNaN(ze)?ie:ie+ze},0);return{set:(W,K)=>{if(!V(K)&&!K.match(/^[0-9]+$/))throw new Error(y+".set accepts only positive integer values. Value was "+K);const ie=W.dom;ns(ie)&&(ie.style[y]=K+"px")},get:T,getOuter:T,aggregate:B,max:(W,K,ie)=>{const ue=B(W,ie);return K>ue?K-ue:0}}},If=(y,S,T)=>((B,W)=>(K=>{const ie=parseFloat(K);return isNaN(ie)?ne.none():ne.some(ie)})(B).getOr(W))(Ia(y,S),T),fa=Rf("width",y=>y.dom.offsetWidth),Sl=y=>fa.get(y),rh=y=>fa.getOuter(y),os=y=>((S,T)=>{const B=S.dom,W=B.getBoundingClientRect().width||B.offsetWidth;return((K,ie,ue,Ee)=>ie-If(K,`padding-${ue}`,0)-If(K,`padding-${Ee}`,0)-If(K,`border-${ue}-width`,0)-If(K,`border-${Ee}-width`,0))(S,W,"left","right")})(y),Ud=(y,S,T)=>{const B=y.cells,W=B.slice(0,S),K=B.slice(S),ie=W.concat(T).concat(K);return Va(y,ie)},ih=(y,S,T)=>Ud(y,S,[T]),ah=(y,S,T)=>{y.cells[S]=T},Va=(y,S)=>ci(y.element,S,y.section,y.isNew),zr=(y,S)=>y.cells[S],ur=(y,S)=>zr(y,S).element,Gi=y=>y.cells.length,nr=y=>{const S=lt(y,T=>T.section==="colgroup");return{rows:S.fail,cols:S.pass}},Df=(y,S,T)=>{const B=R(y.cells,T);return ci(S(y.element),B,y.section,!0)},$m="data-snooker-locked-cols",_i=y=>vo(y,$m).bind(S=>ne.from(S.match(/\d+/g))).map(S=>so(S,fe)),za=y=>{const S=dt(nr(y).rows,(B,W)=>(it(W.cells,(K,ie)=>{K.isLocked&&(B[ie]=!0)}),B),{}),T=we(S,(B,W)=>parseInt(W,10));return((B,W)=>{const K=Ve.call(B,0);return K.sort(void 0),K})(T)},Da=(y,S)=>y+","+S,lu=(y,S)=>{const T=Me(y.all,B=>B.cells);return Lt(T,S)},Wd=y=>{const S={},T=[],B=In(y).map(We=>We.element).bind(_l).bind(_i).getOr({});let W=0,K=0,ie=0;const{pass:ue,fail:Ee}=lt(y,We=>We.section==="colgroup");it(Ee,We=>{const Ze=[];it(We.cells,ut=>{let gt=0;for(;S[Da(ie,gt)]!==void 0;)gt++;const Bt=((Mt,Ht)=>He(Mt,Ht)&&Mt[Ht]!==void 0&&Mt[Ht]!==null)(B,gt.toString()),Vt=((Mt,Ht,tn,an,ht,An)=>({element:Mt,rowspan:Ht,colspan:tn,row:an,column:ht,isLocked:An}))(ut.element,ut.rowspan,ut.colspan,ie,gt,Bt);for(let Mt=0;Mt<ut.colspan;Mt++)for(let Ht=0;Ht<ut.rowspan;Ht++){const tn=gt+Mt,an=Da(ie+Ht,tn);S[an]=Vt,K=Math.max(K,tn+1)}Ze.push(Vt)}),W++,T.push(ms(We.element,Ze,We.section)),ie++});const{columns:ze,colgroups:Qe}=sn(ue).map(We=>{const Ze=(gt=>{const Bt={};let Vt=0;return it(gt.cells,Mt=>{const Ht=Mt.colspan;_e(Ht,tn=>{const an=Vt+tn;Bt[an]=((ht,An,ro)=>({element:ht,colspan:An,column:ro}))(Mt.element,Ht,an)}),Vt+=Ht}),Bt})(We);return{colgroups:[((gt,Bt)=>({element:gt,columns:Bt}))(We.element,Re(Ze))],columns:Ze}}).getOrThunk(()=>({colgroups:[],columns:{}}));return{grid:((We,Ze)=>({rows:We,columns:Ze}))(W,K),access:S,all:T,columns:ze,colgroups:Qe}},Fo=y=>{const S=nh(y);return Wd(S)},ui=Wd,kl=(y,S,T)=>ne.from(y.access[Da(S,T)]),Kd=(y,S,T)=>{const B=lu(y,W=>T(S,W.element));return B.length>0?ne.some(B[0]):ne.none()},qi=lu,Kn=y=>Me(y.all,S=>S.cells),Rc=y=>Re(y.columns),Ic=y=>fo(y.columns).length>0,Rs=(y,S)=>ne.from(y.columns[S]),Cp=(y,S=fe)=>{const T=y.grid,B=_e(T.columns,ee),W=_e(T.rows,ee);return R(B,K=>Yb(()=>Me(W,ie=>kl(y,ie,K).filter(ue=>ue.column===K).toArray()),ie=>ie.colspan===1&&S(ie.element),()=>kl(y,0,K)))},Yb=(y,S,T)=>{const B=y();return Sn(B,S).orThunk(()=>ne.from(B[0]).orThunk(T)).map(W=>W.element)},jd=y=>{const S=y.grid,T=_e(S.rows,ee),B=_e(S.columns,ee);return R(T,W=>Yb(()=>Me(B,K=>kl(y,W,K).filter(ie=>ie.row===W).fold(Z([]),ie=>[ie])),K=>K.rowspan===1,()=>kl(y,W,0)))},Ko=(y,S)=>T=>Ha(T)==="rtl"?S:y,Ha=y=>Ia(y,"direction")==="rtl"?"rtl":"ltr",_p=Rf("height",y=>{const S=y.dom;return sl(y)?S.getBoundingClientRect().height:S.offsetHeight}),Zd=y=>_p.get(y),Xb=y=>_p.getOuter(y),cu=(y,S)=>({left:y,top:S,translate:(T,B)=>cu(y+T,S+B)}),al=cu,uu=(y,S)=>y!==void 0?y:S!==void 0?S:0,Pf=y=>{const S=y.dom.ownerDocument,T=S.body,B=S.defaultView,W=S.documentElement;if(T===y.dom)return al(T.offsetLeft,T.offsetTop);const K=uu(B==null?void 0:B.pageYOffset,W.scrollTop),ie=uu(B==null?void 0:B.pageXOffset,W.scrollLeft),ue=uu(W.clientTop,T.clientTop),Ee=uu(W.clientLeft,T.clientLeft);return je(y).translate(ie-Ee,K-ue)},je=y=>{const S=y.dom,T=S.ownerDocument.body;return T===S?al(T.offsetLeft,T.offsetTop):sl(y)?(B=>{const W=B.getBoundingClientRect();return al(W.left,W.top)})(S):al(0,0)},Vm=(y,S)=>({row:y,y:S}),Fs=(y,S)=>({col:y,x:S}),Jb=y=>Pf(y).left+rh(y),lh=y=>Pf(y).left,du=(y,S)=>Fs(y,lh(S)),ss=(y,S)=>Fs(y,Jb(S)),ma=y=>Pf(y).top,Ju=(y,S)=>Vm(y,ma(S)),lc=(y,S)=>Vm(y,ma(S)+Xb(S)),Qu=(y,S,T)=>{if(T.length===0)return[];const B=R(T.slice(1),(K,ie)=>K.map(ue=>y(ie,ue))),W=T[T.length-1].map(K=>S(T.length-1,K));return B.concat([W])},ed={delta:ee,positions:y=>Qu(Ju,lc,y),edge:ma},ga=Ko({delta:ee,edge:lh,positions:y=>Qu(du,ss,y)},{delta:y=>-y,edge:Jb,positions:y=>Qu(ss,du,y)}),Nf={delta:(y,S)=>ga(S).delta(y,S),positions:(y,S)=>ga(S).positions(y,S),edge:y=>ga(y).edge(y)},zm={unsupportedLength:["em","ex","cap","ch","ic","rem","lh","rlh","vw","vh","vi","vb","vmin","vmax","cm","mm","Q","in","pc","pt","px"],fixed:["px","pt"],relative:["%"],empty:[""]},Qb=(()=>{const y="[0-9]+",S="[eE][+-]?"+y,T=W=>`(?:${W})?`,B=["Infinity",y+"\\."+T(y)+T(S),"\\."+y+T(S),y+T(S)].join("|");return new RegExp(`^([+-]?(?:${B}))(.*)$`)})(),Si=/(\d+(\.\d+)?)%/,Yn=/(\d+(\.\d+)?)px|em/,td=ds("col"),Hm=ds("tr"),ha=(y,S,T)=>{const B=Gu(y).getOrThunk(()=>ru(Zu(y)));return S(y)/T(B)*100},nd=(y,S)=>{Lo(y,"width",S+"px")},Hl=(y,S)=>{Lo(y,"width",S+"%")},od=(y,S)=>{Lo(y,"height",S+"px")},Gd=y=>{const S=(T=>{return If(B=T,"height",B.dom.offsetHeight)+"px";var B})(y);return S?((T,B,W,K)=>{const ie=parseFloat(T);return fn(T,"%")&&pt(B)!=="table"?((ue,Ee,ze,Qe)=>{const Le=_l(ue).map(We=>{const Ze=ze(We);return Math.floor(Ee/100*Ze)}).getOr(Ee);return Qe(ue,Le),Le})(B,ie,W,K):ie})(S,y,Zd,od):Zd(y)},ki=(y,S)=>rl(y,S).orThunk(()=>vo(y,S).map(T=>T+"px")),cc=y=>ki(y,"width"),fu=y=>ha(y,Sl,os),Um=y=>{return td(y)?Sl(y):If(S=y,"width",S.dom.offsetWidth);var S},p1=y=>Hm(y)?Zd(y):((S,T,B)=>B(S)/Ef(S,"rowspan"))(y,0,Gd),sd=(y,S,T)=>{Lo(y,"width",S+T)},Lf=y=>ha(y,Sl,os)+"%",ev=Z(Si),Cr=ds("col"),Ua=y=>cc(y).getOrThunk(()=>Um(y)+"px"),Pa=y=>{return(S=y,ki(S,"height")).getOrThunk(()=>p1(y)+"px");var S},ll=(y,S,T,B,W,K)=>y.filter(B).fold(()=>K(((ie,ue)=>{if(ue<0||ue>=ie.length-1)return ne.none();const Ee=ie[ue].fold(()=>{const Qe=(Le=>{const We=Ve.call(Le,0);return We.reverse(),We})(ie.slice(0,ue));return J(Qe,(Le,We)=>Le.map(Ze=>({value:Ze,delta:We+1})))},Qe=>ne.some({value:Qe,delta:0})),ze=ie[ue+1].fold(()=>{const Qe=ie.slice(ue+1);return J(Qe,(Le,We)=>Le.map(Ze=>({value:Ze,delta:We+1})))},Qe=>ne.some({value:Qe,delta:1}));return Ee.bind(Qe=>ze.map(Le=>{const We=Le.delta+Qe.delta;return Math.abs(Le.value-Qe.value)/We}))})(T,S)),ie=>W(ie)),bi=(y,S,T,B)=>{const W=Cp(y),K=Ic(y)?(Ee=>R(Rc(Ee),ze=>ne.from(ze.element)))(y):W,ie=[ne.some(Nf.edge(S))].concat(R(Nf.positions(W,S),Ee=>Ee.map(ze=>ze.x))),ue=de(ni);return R(K,(Ee,ze)=>ll(Ee,ze,ie,ue,Qe=>{if((We=>{const Ze=h1().browser,ut=Ze.isChromium()||Ze.isFirefox();return!Cr(We)||ut})(Qe))return T(Qe);{const We=(Le=W[ze])!=null?ee(Le):ne.none();return ll(We,ze,ie,ue,Ze=>B(ne.some(Sl(Ze))),B)}var Le},B))},Sp=y=>y.map(S=>S+"px").getOr(""),di=(y,S,T)=>bi(y,S,Um,B=>B.getOrThunk(T.minCellWidth)),Yi=(y,S,T,B)=>{const W=jd(y),K=R(y.all,ue=>ne.some(ue.element)),ie=[ne.some(ed.edge(S))].concat(R(ed.positions(W,S),ue=>ue.map(Ee=>Ee.y)));return R(K,(ue,Ee)=>ll(ue,Ee,ie,fe,T,B))},mu=(y,S)=>()=>sl(y)?S(y):parseFloat(rl(y,"width").getOr("0")),Ft=y=>{const S=mu(y,B=>parseFloat(Lf(B))),T=mu(y,Sl);return{width:S,pixelWidth:T,getWidths:(B,W)=>((K,ie,ue)=>bi(K,ie,fu,Ee=>Ee.fold(()=>ue.minCellWidth(),ze=>ze/ue.pixelWidth()*100)))(B,y,W),getCellDelta:B=>B/T()*100,singleColumnWidth:(B,W)=>[100-B],minCellWidth:()=>Yl()/T()*100,setElementWidth:Hl,adjustTableWidth:B=>{const W=S();Hl(y,W+B/100*W)},isRelative:!0,label:"percent"}},Xi=y=>{const S=mu(y,Sl);return{width:S,pixelWidth:S,getWidths:(T,B)=>di(T,y,B),getCellDelta:ee,singleColumnWidth:(T,B)=>[Math.max(Yl(),T+B)-T],minCellWidth:Yl,setElementWidth:nd,adjustTableWidth:T=>{const B=S()+T;nd(y,B)},isRelative:!1,label:"pixel"}},kp=y=>cc(y).fold(()=>(S=>{const T=mu(S,Sl),B=Z(0);return{width:T,pixelWidth:T,getWidths:(W,K)=>di(W,S,K),getCellDelta:B,singleColumnWidth:Z([0]),minCellWidth:B,setElementWidth:U,adjustTableWidth:U,isRelative:!0,label:"none"}})(y),S=>((T,B)=>ev().exec(B)!==null?Ft(T):Xi(T))(y,S)),_r=Xi,rd=Ft,Wa=(y,S,T)=>{const B=y[T].element,W=en.fromTag("td");hr(W,en.fromTag("br")),(S?hr:Pm)(B,W)},Dc=((y,S)=>{const T=B=>y(B)?ne.from(B.dom.nodeValue):ne.none();return{get:B=>{if(!y(B))throw new Error("Can only get text value of a text node");return T(B).getOr("")},getOption:T,set:(B,W)=>{if(!y(B))throw new Error("Can only set raw text value of a text node");B.dom.nodeValue=W}}})(zo),Wm=y=>Dc.get(y),cl=y=>Dc.getOption(y),es=(y,S)=>Dc.set(y,S),Hr=y=>pt(y)==="img"?1:cl(y).fold(()=>Di(y).length,S=>S.length),Mf=["img","br"],Br=y=>cl(y).filter(S=>S.trim().length!==0||S.indexOf("")>-1).isSome()||rt(Mf,pt(y))||(S=>Xn(S)&&On(S,"contenteditable")==="false")(y),ch=y=>((S,T)=>{const B=W=>{for(let K=0;K<W.childNodes.length;K++){const ie=en.fromDom(W.childNodes[K]);if(T(ie))return ne.some(ie);const ue=B(W.childNodes[K]);if(ue.isSome())return ue}return ne.none()};return B(S.dom)})(y,Br),gu=y=>b1(y,Br),b1=(y,S)=>{const T=B=>{const W=Di(B);for(let K=W.length-1;K>=0;K--){const ie=W[K];if(S(ie))return ne.some(ie);const ue=T(ie);if(ue.isSome())return ue}return ne.none()};return T(y)},Or={scope:["row","col"]},mt=y=>()=>{const S=en.fromTag("td",y.dom);return hr(S,en.fromTag("br",y.dom)),S},Ka=y=>()=>en.fromTag("col",y.dom),Ur=y=>()=>en.fromTag("colgroup",y.dom),Xl=y=>()=>en.fromTag("tr",y.dom),Pc=(y,S,T)=>{const B=((W,K)=>{const ie=su(W,K),ue=Di(ou(W));return Fl(ie,ue),ie})(y,S);return bn(T,(W,K)=>{W===null?Do(B,K):_s(B,K,W)}),B},oi=y=>y,or=(y,S,T)=>{const B=(W,K)=>{((ie,ue)=>{const Ee=ie.dom,ze=ue.dom;ns(Ee)&&ns(ze)&&(ze.style.cssText=Ee.style.cssText)})(W.element,K),Cl(K,"height"),W.colspan!==1&&Cl(K,"width")};return{col:W=>{const K=en.fromTag(pt(W.element),S.dom);return B(W,K),y(W.element,K),K},colgroup:Ur(S),row:Xl(S),cell:W=>{const K=en.fromTag(pt(W.element),S.dom),ie=T.getOr(["strong","em","b","i","span","font","h1","h2","h3","h4","h5","h6","p","div"]),ue=ie.length>0?((Ee,ze,Qe)=>ch(Ee).map(Le=>{const We=Qe.join(","),Ze=Ra(Le,We,ut=>Ks(ut,Ee));return Qt(Ze,(ut,gt)=>{const Bt=Lm(gt);return hr(ut,Bt),Bt},ze)}).getOr(ze))(W.element,K,ie):K;return hr(ue,en.fromTag("br")),B(W,K),((Ee,ze)=>{bn(Or,(Qe,Le)=>vo(Ee,Le).filter(We=>rt(Qe,We)).each(We=>_s(ze,Le,We)))})(W.element,K),y(W.element,K),K},replace:Pc,colGap:Ka(S),gap:mt(S)}},Ns=y=>({col:Ka(y),colgroup:Ur(y),row:Xl(y),cell:mt(y),replace:oi,colGap:Ka(y),gap:mt(y)}),ja=y=>S=>S.options.get(y),Jl="100%",hu=y=>{var S;const T=y.dom,B=(S=T.getParent(y.selection.getStart(),T.isBlock))!==null&&S!==void 0?S:y.getBody();return os(en.fromDom(B))+"px"},qd=y=>ne.from(y.options.get("table_clone_elements")),Km=ja("table_header_type"),uh=ja("table_column_resizing"),dh=y=>uh(y)==="preservetable",tv=y=>uh(y)==="resizetable",nv=ja("table_sizing_mode"),id=y=>nv(y)==="relative",L=y=>nv(y)==="fixed",G=y=>nv(y)==="responsive",ce=ja("table_resize_bars"),$e=ja("table_style_by_css"),Je=ja("table_merge_content_on_paste"),$t=y=>{const S=y.options,T=S.get("table_default_attributes");return S.isSet("table_default_attributes")?T:((B,W)=>G(B)||$e(B)?W:L(B)?{...W,width:hu(B)}:{...W,width:Jl})(y,T)},Jn=ja("table_use_colgroups"),To=y=>ot(y,"[contenteditable]"),xo=(y,S=!1)=>sl(y)?y.dom.isContentEditable:To(y).fold(Z(S),T=>Fn(T)==="true"),Fn=y=>y.dom.contentEditable,Ss=y=>en.fromDom(y.getBody()),Wr=y=>S=>Ks(S,Ss(y)),Sr=y=>{Do(y,"data-mce-style");const S=T=>Do(T,"data-mce-style");it(Tr(y),S),it(Oc(y),S),it(tr(y),S)},Nc=y=>en.fromDom(y.selection.getStart()),jm=y=>y.getBoundingClientRect().width,Zm=y=>y.getBoundingClientRect().height,vi=y=>(S,T)=>{const B=S.dom.getStyle(T,y)||S.dom.getAttrib(T,y);return ne.from(B).filter(Go)},KC=vi("width"),ov=vi("height"),v1=y=>at(y,ds("table")).exists(xo),pa=(y,S)=>{const T=S.column,B=S.column+S.colspan-1,W=S.row,K=S.row+S.rowspan-1;return T<=y.finishCol&&B>=y.startCol&&W<=y.finishRow&&K>=y.startRow},Rr=(y,S)=>S.column>=y.startCol&&S.column+S.colspan-1<=y.finishCol&&S.row>=y.startRow&&S.row+S.rowspan-1<=y.finishRow,Ni=(y,S,T)=>{const B=Kd(y,S,Ks),W=Kd(y,T,Ks);return B.bind(K=>W.map(ie=>{return ue=K,Ee=ie,{startRow:Math.min(ue.row,Ee.row),startCol:Math.min(ue.column,Ee.column),finishRow:Math.max(ue.row+ue.rowspan-1,Ee.row+Ee.rowspan-1),finishCol:Math.max(ue.column+ue.colspan-1,Ee.column+Ee.colspan-1)};var ue,Ee}))},ad=(y,S,T)=>Ni(y,S,T).map(B=>{const W=qi(y,H(pa,B));return R(W,K=>K.element)}),Ep=(y,S)=>Kd(y,S,(T,B)=>ti(B,T)).map(T=>T.element),Dx=(y,S,T)=>{const B=El(y);return ad(B,S,T)},uc=(y,S,T,B,W)=>{const K=El(y),ie=Ks(y,T)?ne.some(S):Ep(K,S),ue=Ks(y,W)?ne.some(B):Ep(K,B);return ie.bind(Ee=>ue.bind(ze=>ad(K,Ee,ze)))},El=Fo;var sv=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","li","table","thead","tbody","tfoot","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],Bf=()=>({up:Z({selector:Ue,closest:ot,predicate:De,all:Ps}),down:Z({selector:Bs,predicate:Oa}),styles:Z({get:Ia,getRaw:rl,set:Lo,remove:Cl}),attrs:Z({get:On,set:_s,remove:Do,copyTo:(y,S)=>{const T=li(y);Zi(S,T)}}),insert:Z({before:mn,after:Yu,afterAll:ol,append:hr,appendAll:Fl,prepend:Pm,wrap:Nm}),remove:Z({unwrap:Ta,remove:lr}),create:Z({nu:en.fromTag,clone:y=>en.fromDom(y.dom.cloneNode(!1)),text:en.fromText}),query:Z({comparePosition:(y,S)=>y.dom.compareDocumentPosition(S.dom),prevSibling:yo,nextSibling:Gl}),property:Z({children:Di,name:pt,parent:xl,document:y=>Tc(y).dom,isText:zo,isComment:xn,isElement:oo,isSpecial:y=>{const S=pt(y);return rt(["script","noscript","iframe","noframes","noembed","title","style","textarea","xmp"],S)},getLanguage:y=>oo(y)?vo(y,"lang"):ne.none(),getText:Wm,setText:es,isBoundary:y=>!!oo(y)&&(pt(y)==="body"||rt(sv,pt(y))),isEmptyTag:y=>!!oo(y)&&rt(["br","img","hr","input"],pt(y)),isNonEditable:y=>oo(y)&&On(y,"contenteditable")==="false"}),eq:Ks,is:Dm});const KE=(y,S,T,B)=>{const W=S(y,T);return Qt(B,(K,ie)=>{const ue=S(y,ie);return rv(y,K,ue)},W)},rv=(y,S,T)=>S.bind(B=>T.filter(H(y.eq,B))),Yd=Bf(),Ff=(y,S)=>((T,B,W)=>W.length>0?((K,ie,ue,Ee)=>Ee(K,ie,ue[0],ue.slice(1)))(T,B,W,KE):ne.none())(Yd,(T,B)=>y(B),S),Ln=y=>Ue(y,"table"),pu=(y,S,T)=>{const B=W=>K=>T!==void 0&&T(K)||Ks(K,W);return Ks(y,S)?ne.some({boxes:ne.some([y]),start:y,finish:S}):Ln(y).bind(W=>Ln(S).bind(K=>{if(Ks(W,K))return ne.some({boxes:Dx(W,y,S),start:y,finish:S});if(ti(W,K)){const ie=Ra(S,"td,th",B(W)),ue=ie.length>0?ie[ie.length-1]:S;return ne.some({boxes:uc(W,y,W,S,K),start:y,finish:ue})}if(ti(K,W)){const ie=Ra(y,"td,th",B(K)),ue=ie.length>0?ie[ie.length-1]:y;return ne.some({boxes:uc(K,y,W,S,K),start:y,finish:ue})}return((ie,ue,Ee)=>((ze,Qe,Le,We=j)=>{const Ze=[Qe].concat(ze.up().all(Qe)),ut=[Le].concat(ze.up().all(Le)),gt=Ht=>Et(Ht,We).fold(()=>Ht,tn=>Ht.slice(0,tn+1)),Bt=gt(Ze),Vt=gt(ut),Mt=Sn(Bt,Ht=>xe(Vt,((tn,an)=>H(tn.eq,an))(ze,Ht)));return{firstpath:Bt,secondpath:Vt,shared:Mt}})(Yd,ie,ue,void 0))(y,S).shared.bind(ie=>ot(ie,"table",T).bind(ue=>{const Ee=Ra(S,"td,th",B(ue)),ze=Ee.length>0?Ee[Ee.length-1]:S,Qe=Ra(y,"td,th",B(ue)),Le=Qe.length>0?Qe[Qe.length-1]:y;return ne.some({boxes:uc(ue,y,W,S,K),start:Le,finish:ze})}))}))},iv=(y,S)=>{const T=Bs(y,S);return T.length>0?ne.some(T):ne.none()},$f=(y,S,T)=>bt(y,S).bind(B=>bt(y,T).bind(W=>Ff(Ln,[B,W]).map(K=>({first:B,last:W,table:K})))),ba=(y,S,T,B,W)=>((K,ie)=>Sn(K,ue=>pi(ue,ie)))(y,W).bind(K=>((ie,ue,Ee)=>_l(ie).bind(ze=>((Qe,Le,We,Ze)=>Kd(Qe,Le,Ks).bind(ut=>{const gt=We>0?ut.row+ut.rowspan-1:ut.row,Bt=Ze>0?ut.column+ut.colspan-1:ut.column;return kl(Qe,gt+We,Bt+Ze).map(Vt=>Vt.element)}))(El(ze),ie,ue,Ee)))(K,S,T).bind(ie=>((ue,Ee)=>Ue(ue,"table").bind(ze=>bt(ze,Ee).bind(Qe=>pu(Qe,ue).bind(Le=>Le.boxes.map(We=>({boxes:We,start:Le.start,finish:Le.finish}))))))(ie,B))),Lc=(y,S)=>iv(y,S),fh=(y,S,T)=>$f(y,S,T).bind(B=>{const W=Ee=>Ks(y,Ee),K="thead,tfoot,tbody,table",ie=Ue(B.first,K,W),ue=Ue(B.last,K,W);return ie.bind(Ee=>ue.bind(ze=>Ks(Ee,ze)?((Qe,Le,We)=>((Ze,ut,gt)=>Ni(Ze,ut,gt).bind(Bt=>((Vt,Mt)=>{let Ht=!0;const tn=H(Rr,Mt);for(let an=Mt.startRow;an<=Mt.finishRow;an++)for(let ht=Mt.startCol;ht<=Mt.finishCol;ht++)Ht=Ht&&kl(Vt,an,ht).exists(tn);return Ht?ne.some(Mt):ne.none()})(Ze,Bt)))(El(Qe),Le,We))(B.table,B.first,B.last):ne.none()))}),Vf=ee,y1=y=>{const S=(T,B)=>vo(T,B).exists(W=>parseInt(W,10)>1);return y.length>0&&ft(y,T=>S(T,"rowspan")||S(T,"colspan"))?ne.some(y):ne.none()},bu=(y,S,T)=>S.length<=1?ne.none():fh(y,T.firstSelectedSelector,T.lastSelectedSelector).map(B=>({bounds:B,cells:S})),Ap="data-mce-selected",Tp="data-mce-first-selected",qt="data-mce-last-selected",Px="["+Ap+"]",zf={selected:Ap,selectedSelector:"td["+Ap+"],th["+Ap+"]",firstSelected:Tp,firstSelectedSelector:"td["+Tp+"],th["+Tp+"]",lastSelected:qt,lastSelectedSelector:"td["+qt+"],th["+qt+"]"},Mo=(y,S,T)=>({element:T,mergable:bu(S,y,zf),unmergable:y1(y),selection:Vf(y)}),$n=y=>(S,T)=>{const B=pt(S),W=B==="col"||B==="colgroup"?_l(K=S).bind(ie=>Lc(ie,zf.firstSelectedSelector)).fold(Z(K),ie=>ie[0]):S;var K;return ot(W,y,T)},Hf=$n("th,td,caption"),pr=$n("th,td"),Mc=y=>{return S=y.model.table.getSelectedCells(),R(S,en.fromDom);var S},Bc=(y,S)=>{y.on("BeforeGetContent",T=>{const B=W=>{T.preventDefault(),(K=>_l(K[0]).map(ie=>{const ue=((Ee,ze)=>{const Qe=Ht=>pi(Ht.element,ze),Le=ou(Ee),We=nh(Le),Ze=kp(Ee),ut=ui(We),gt=((Ht,tn)=>{const an=Ht.grid.columns;let ht=Ht.grid.rows,An=an,ro=0,Ro=0;const go=[],io=[];return bn(Ht.access,Oo=>{if(go.push(Oo),tn(Oo)){io.push(Oo);const ts=Oo.row,ri=ts+Oo.rowspan-1,La=Oo.column,ea=La+Oo.colspan-1;ts<ht?ht=ts:ri>ro&&(ro=ri),La<An?An=La:ea>Ro&&(Ro=ea)}}),((Oo,ts,ri,La,ea,gc)=>({minRow:Oo,minCol:ts,maxRow:ri,maxCol:La,allCells:ea,selectedCells:gc}))(ht,An,ro,Ro,go,io)})(ut,Qe),Bt="th:not("+ze+"),td:not("+ze+")",Vt=th(Le,"th,td",Ht=>pi(Ht,Bt));it(Vt,lr),((Ht,tn,an,ht)=>{const An=Lt(Ht,go=>go.section!=="colgroup"),ro=tn.grid.columns,Ro=tn.grid.rows;for(let go=0;go<Ro;go++){let io=!1;for(let Oo=0;Oo<ro;Oo++)go<an.minRow||go>an.maxRow||Oo<an.minCol||Oo>an.maxCol||(kl(tn,go,Oo).filter(ht).isNone()?Wa(An,io,go):io=!0)}})(We,ut,gt,Qe);const Mt=((Ht,tn,an,ht)=>{if(ht.minCol===0&&tn.grid.columns===ht.maxCol+1)return 0;const An=di(tn,Ht,an),ro=dt(An,(io,Oo)=>io+Oo,0),Ro=dt(An.slice(ht.minCol,ht.maxCol+1),(io,Oo)=>io+Oo,0),go=Ro/ro*an.pixelWidth()-an.pixelWidth();return an.getCellDelta(go)})(Ee,Fo(Ee),Ze,gt);return((Ht,tn,an,ht)=>{bn(an.columns,ro=>{(ro.column<tn.minCol||ro.column>tn.maxCol)&&lr(ro.element)});const An=Lt(zd(Ht,"tr"),ro=>ro.dom.childElementCount===0);it(An,lr),tn.minCol!==tn.maxCol&&tn.minRow!==tn.maxRow||it(zd(Ht,"th,td"),ro=>{Do(ro,"rowspan"),Do(ro,"colspan")}),Do(Ht,$m),Do(Ht,"data-snooker-col-series"),kp(Ht).adjustTableWidth(ht)})(Le,gt,ut,Mt),Le})(ie,Px);return Sr(ue),[ue]}))(W).each(K=>{T.content=T.format==="text"?(ie=>R(ie,ue=>ue.dom.innerText).join(""))(K):((ie,ue)=>R(ue,Ee=>ie.selection.serializer.serialize(Ee.dom,{})).join(""))(y,K)})};if(T.selection===!0){const W=(K=>Lt(Mc(K),ie=>pi(ie,zf.selectedSelector)))(y);W.length>=1&&B(W)}}),y.on("BeforeSetContent",T=>{if(T.selection===!0&&T.paste===!0){const B=Mc(y);In(B).each(W=>{_l(W).each(K=>{const ie=Lt(((Ee,ze)=>{const Qe=document.createElement("div");return Qe.innerHTML=Ee,Di(en.fromDom(Qe))})(T.content),Ee=>pt(Ee)!=="meta"),ue=ds("table");if(Je(y)&&ie.length===1&&ue(ie[0])){T.preventDefault();const Ee=en.fromDom(y.getDoc()),ze=Ns(Ee),Qe=((Le,We,Ze)=>({element:Le,clipboard:We,generators:Ze}))(W,ie[0],ze);S.pasteCells(K,Qe).each(()=>{y.focus()})}})})}})},_o=(y,S)=>({element:y,offset:S}),Op=(y,S,T)=>y.property().isText(S)&&y.property().getText(S).trim().length===0||y.property().isComment(S)?T(S).bind(B=>Op(y,B,T).orThunk(()=>ne.some(B))):ne.none(),jC=(y,S)=>y.property().isText(S)?y.property().getText(S).length:y.property().children(S).length,Dt=(y,S)=>{const T=Op(y,S,y.query().prevSibling).getOr(S);if(y.property().isText(T))return _o(T,jC(y,T));const B=y.property().children(T);return B.length>0?Dt(y,B[B.length-1]):_o(T,jC(y,T))},Nx=Dt,Rp=Bf(),Ip=(y,S)=>{ni(y)||(B=>cc(B).bind(W=>{return K=W,ie=["fixed","relative","empty"],ne.from(Qb.exec(K)).bind(ue=>{const Ee=Number(ue[1]),ze=ue[2];return((Qe,Le)=>xe(Le,We=>xe(zm[We],Ze=>Qe===Ze)))(ze,ie)?ne.some({value:Ee,unit:ze}):ne.none()});var K,ie}))(y).each(B=>{const W=B.value/2;sd(y,W,B.unit),sd(S,W,B.unit)})},mh=y=>R(y,Z(0)),Gm=(y,S,T,B,W)=>W(y.slice(0,S)).concat(B).concat(W(y.slice(T))),ZC=y=>(S,T,B,W)=>{if(y(B)){const K=Math.max(W,S[T]-Math.abs(B)),ie=Math.abs(K-S[T]);return B>=0?ie:-ie}return B},Uf=ZC(y=>y<0),ar=ZC(fe),ld=()=>{const y=(T,B,W,K)=>{const ie=(100+W)/100,ue=Math.max(K,(T[B]+W)/ie);return R(T,(Ee,ze)=>(ze===B?ue:Ee/ie)-Ee)},S=(T,B,W,K,ie,ue)=>ue?y(T,B,K,ie):((Ee,ze,Qe,Le,We)=>{const Ze=Uf(Ee,ze,Le,We);return Gm(Ee,ze,Qe+1,[Ze,0],mh)})(T,B,W,K,ie);return{resizeTable:(T,B)=>T(B),clampTableDelta:Uf,calcLeftEdgeDeltas:S,calcMiddleDeltas:(T,B,W,K,ie,ue,Ee)=>S(T,W,K,ie,ue,Ee),calcRightEdgeDeltas:(T,B,W,K,ie,ue)=>{if(ue)return y(T,W,K,ie);{const Ee=Uf(T,W,K,ie);return mh(T.slice(0,W)).concat([Ee])}},calcRedestributedWidths:(T,B,W,K)=>{if(K){const ie=(B+W)/B,ue=R(T,Ee=>Ee/ie);return{delta:100*ie-100,newSizes:ue}}return{delta:W,newSizes:T}}}},x1=()=>{const y=(S,T,B,W,K)=>{const ie=ar(S,W>=0?B:T,W,K);return Gm(S,T,B+1,[ie,-ie],mh)};return{resizeTable:(S,T,B)=>{B&&S(T)},clampTableDelta:(S,T,B,W,K)=>{if(K){if(B>=0)return B;{const ie=dt(S,(ue,Ee)=>ue+Ee-W,0);return Math.max(-ie,B)}}return Uf(S,T,B,W)},calcLeftEdgeDeltas:y,calcMiddleDeltas:(S,T,B,W,K,ie)=>y(S,B,W,K,ie),calcRightEdgeDeltas:(S,T,B,W,K,ie)=>{if(ie)return mh(S);{const ue=W/S.length;return R(S,Z(ue))}},calcRedestributedWidths:(S,T,B,W)=>({delta:0,newSizes:S})}},vu=y=>Fo(y).grid,qm=ds("th"),dc=y=>ft(y,S=>qm(S.element)),Kr=(y,S)=>y&&S?"sectionCells":y?"section":"cells",av=y=>{const S=y.section==="thead",T=Xt(Li(y.cells),"th");return y.section==="tfoot"?{type:"footer"}:S||T?{type:"header",subType:Kr(S,T)}:{type:"body"}},Li=y=>{const S=Lt(y,T=>qm(T.element));return S.length===0?ne.some("td"):S.length===y.length?ne.some("th"):ne.none()},w1=(y,S,T)=>Lr(T(y.element,S),!0,y.isLocked),Fc=(y,S)=>y.section!==S?ci(y.element,y.cells,S,y.isNew):y,Mi=()=>({transformRow:Fc,transformCell:(y,S,T)=>{const B=T(y.element,S),W=pt(B)!=="td"?((K,ie)=>{const ue=su(K,"td");Yu(K,ue);const Ee=Di(K);return Fl(ue,Ee),lr(K),ue})(B):B;return Lr(W,y.isNew,y.isLocked)}}),Jt=()=>({transformRow:Fc,transformCell:w1}),Ym=()=>({transformRow:(y,S)=>Fc(y,S==="thead"?"tbody":S),transformCell:w1}),Bi=Mi,GC=Jt,qC=Ym,jE=()=>({transformRow:ee,transformCell:w1}),Xd=(y,S,T,B)=>{T===B?Do(y,S):_s(y,S,T)},gh=(y,S,T)=>{sn(iu(y,S)).fold(()=>Pm(y,T),B=>Yu(B,T))},lv=(y,S)=>{const T=[],B=[],W=We=>R(We,Ze=>{Ze.isNew&&T.push(Ze.element);const ut=Ze.element;return wl(ut),it(Ze.cells,gt=>{gt.isNew&&B.push(gt.element),Xd(gt.element,"colspan",gt.colspan,1),Xd(gt.element,"rowspan",gt.rowspan,1),hr(ut,gt.element)}),ut}),K=We=>Me(We,Ze=>R(Ze.cells,ut=>(Xd(ut.element,"span",ut.colspan,1),ut.element))),ie=(We,Ze)=>{const ut=((Bt,Vt)=>{const Mt=wt(Bt,Vt).getOrThunk(()=>{const Ht=en.fromTag(Vt,Zu(Bt).dom);return Vt==="thead"?gh(Bt,"caption,colgroup",Ht):Vt==="colgroup"?gh(Bt,"caption",Ht):hr(Bt,Ht),Ht});return wl(Mt),Mt})(y,Ze),gt=(Ze==="colgroup"?K:W)(We);Fl(ut,gt)},ue=(We,Ze)=>{We.length>0?ie(We,Ze):(ut=>{wt(y,ut).each(lr)})(Ze)},Ee=[],ze=[],Qe=[],Le=[];return it(S,We=>{switch(We.section){case"thead":Ee.push(We);break;case"tbody":ze.push(We);break;case"tfoot":Qe.push(We);break;case"colgroup":Le.push(We)}}),ue(Le,"colgroup"),ue(Ee,"thead"),ue(ze,"tbody"),ue(Qe,"tfoot"),{newRows:T,newCells:B}},C1=(y,S)=>{if(y.length===0)return 0;const T=y[0];return Et(y,B=>!S(T.element,B.element)).getOr(y.length)},Lx=(y,S)=>{const T=R(y,B=>R(B.cells,j));return R(y,(B,W)=>{const K=Me(B.cells,(ie,ue)=>{if(T[W][ue]===!1){const We=((Ze,ut,gt,Bt)=>{const Vt=((an,ht)=>an[ht])(Ze,ut),Mt=Vt.section==="colgroup",Ht=C1(Vt.cells.slice(gt),Bt),tn=Mt?1:C1(((an,ht)=>R(an,An=>zr(An,ht)))(Ze.slice(ut),gt),Bt);return{colspan:Ht,rowspan:tn}})(y,W,ue,S);return((Ze,ut,gt,Bt)=>{for(let Vt=Ze;Vt<Ze+gt;Vt++)for(let Mt=ut;Mt<ut+Bt;Mt++)T[Vt][Mt]=!0})(W,ue,We.rowspan,We.colspan),[(Ee=ie.element,ze=We.rowspan,Qe=We.colspan,Le=ie.isNew,{element:Ee,rowspan:ze,colspan:Qe,isNew:Le})]}return[];var Ee,ze,Qe,Le});return((ie,ue,Ee,ze)=>({element:ie,cells:ue,section:Ee,isNew:ze}))(B.element,K,B.section,B.isNew)})},kr=(y,S,T)=>{const B=[];it(y.colgroups,W=>{const K=[];for(let ie=0;ie<y.grid.columns;ie++){const ue=Rs(y,ie).map(Ee=>Lr(Ee.element,T,!1)).getOrThunk(()=>Lr(S.colGap(),!0,!1));K.push(ue)}B.push(ci(W.element,K,"colgroup",T))});for(let W=0;W<y.grid.rows;W++){const K=[];for(let Ee=0;Ee<y.grid.columns;Ee++){const ze=kl(y,W,Ee).map(Qe=>Lr(Qe.element,T,Qe.isLocked)).getOrThunk(()=>Lr(S.gap(),!0,!1));K.push(ze)}const ie=y.all[W],ue=ci(ie.element,K,ie.section,T);B.push(ue)}return B},cv=y=>Lx(y,Ks),Ir=(y,S)=>J(y.all,T=>Sn(T.cells,B=>Ks(S,B.element))),ul=(y,S,T)=>{const B=R(S.selection,K=>yp(K).bind(ie=>Ir(y,ie)).filter(T)),W=un(B);return vn(W.length>0,W)},jr=(y,S,T,B,W)=>(K,ie,ue,Ee)=>{const ze=Fo(K),Qe=ne.from(Ee==null?void 0:Ee.section).getOrThunk(jE);return S(ze,ie).map(Le=>{const We=((gt,Bt)=>kr(gt,Bt,!1))(ze,ue),Ze=y(We,Le,Ks,W(ue),Qe),ut=za(Ze.grid);return{info:Le,grid:cv(Ze.grid),cursor:Ze.cursor,lockedColumns:ut}}).bind(Le=>{const We=lv(K,Le.grid),Ze=ne.from(Ee==null?void 0:Ee.sizing).getOrThunk(()=>kp(K)),ut=ne.from(Ee==null?void 0:Ee.resize).getOrThunk(x1);return T(K,Le.grid,Le.info,{sizing:Ze,resize:ut,section:Qe}),B(K),Do(K,$m),Le.lockedColumns.length>0&&_s(K,$m,Le.lockedColumns.join(",")),ne.some({cursor:Le.cursor,newRows:We.newRows,newCells:We.newCells})})},fc=(y,S)=>ul(y,S,fe).map(T=>({cells:T,generators:S.generators,clipboard:S.clipboard})),Jd=(y,S)=>ul(y,S,fe),Ji=(y,S)=>ul(y,S,T=>!T.isLocked),uv=(y,S)=>ft(S,T=>((B,W)=>Ir(B,W).exists(K=>!K.isLocked))(y,T)),Dp=(y,S,T,B)=>{const W=nr(y).rows;let K=!0;for(let ie=0;ie<W.length;ie++)for(let ue=0;ue<Gi(W[0]);ue++){const Ee=W[ie],ze=zr(Ee,ue),Qe=T(ze.element,S);Qe&&!K?ah(Ee,ue,Lr(B(),!0,ze.isLocked)):Qe&&(K=!1)}return y},Wf=y=>{const S=K=>K(y),T=Z(y),B=()=>W,W={tag:!0,inner:y,fold:(K,ie)=>ie(y),isValue:fe,isError:j,map:K=>Pp.value(K(y)),mapError:B,bind:S,exists:S,forall:S,getOr:T,or:B,getOrThunk:T,orThunk:B,getOrDie:T,each:K=>{K(y)},toOptional:()=>ne.some(y)};return W},YC=y=>{const S=()=>T,T={tag:!1,inner:y,fold:(W,K)=>W(y),isValue:j,isError:fe,map:S,mapError:W=>Pp.error(W(y)),bind:S,exists:j,forall:fe,getOr:ee,or:ee,getOrThunk:le,orThunk:le,getOrDie:(B=String(y),()=>{throw new Error(B)}),each:U,toOptional:ne.none};var B;return T},Pp={value:Wf,error:YC,fromOption:(y,S)=>y.fold(()=>YC(S),Wf)},Mx=(y,S)=>({rowDelta:0,colDelta:Gi(y[0])-Gi(S[0])}),_1=(y,S)=>({rowDelta:y.length-S.length,colDelta:0}),dv=(y,S,T,B)=>{const W=S.section==="colgroup"?T.col:T.cell;return _e(y,K=>Lr(W(),!0,B(K)))},S1=(y,S,T,B)=>{const W=y[y.length-1];return y.concat(_e(S,()=>{const K=W.section==="colgroup"?T.colgroup:T.row,ie=Df(W,K,ee),ue=dv(ie.cells.length,ie,T,Ee=>He(B,Ee.toString()));return Va(ie,ue)}))},Bx=(y,S,T,B)=>R(y,W=>{const K=dv(S,W,T,j);return Ud(W,B,K)}),Xm=(y,S,T)=>{const B=S.colDelta<0?Bx:ee,W=S.rowDelta<0?S1:ee,K=za(y),ie=Gi(y[0]),ue=xe(K,Qe=>Qe===ie-1),Ee=B(y,Math.abs(S.colDelta),T,ue?ie-1:ie),ze=za(Ee);return W(Ee,Math.abs(S.rowDelta),T,so(ze,fe))},ZE=(y,S,T,B)=>{const W=H(B,zr(y[S],T).element),K=y[S];return y.length>1&&Gi(K)>1&&(T>0&&W(ur(K,T-1))||T<K.cells.length-1&&W(ur(K,T+1))||S>0&&W(ur(y[S-1],T))||S<y.length-1&&W(ur(y[S+1],T)))},k1=(y,S,T)=>Lt(T,B=>B>=y.column&&B<=Gi(S[0])+y.column),E1=(y,S,T,B,W)=>{((ze,Qe,Le,We)=>{Qe>0&&Qe<ze[0].cells.length&&it(ze,Ze=>{const ut=Ze.cells[Qe-1];let gt=0;const Bt=We();for(;Ze.cells.length>Qe+gt&&Le(ut.element,Ze.cells[Qe+gt].element);)ah(Ze,Qe+gt,Lr(Bt,!0,Ze.cells[Qe+gt].isLocked)),gt++})})(S,y,W,B.cell);const K=_1(T,S),ie=Xm(T,K,B),ue=_1(S,ie),Ee=Xm(S,ue,B);return R(Ee,(ze,Qe)=>Ud(ze,y,ie[Qe].cells))},Fx=(y,S,T,B,W)=>{((Mt,Ht,tn,an)=>{const ht=nr(Mt).rows;if(Ht>0&&Ht<ht.length){const An=((ro,Ro)=>dt(ro,(go,io)=>xe(go,Oo=>Ro(Oo.element,io.element))?go:go.concat([io]),[]))(ht[Ht-1].cells,tn);it(An,ro=>{let Ro=ne.none();for(let go=Ht;go<ht.length;go++)for(let io=0;io<Gi(ht[0]);io++){const Oo=ht[go],ts=zr(Oo,io);tn(ts.element,ro.element)&&(Ro.isNone()&&(Ro=ne.some(an())),Ro.each(ri=>{ah(Oo,io,Lr(ri,!0,ts.isLocked))}))}})}})(S,y,W,B.cell);const K=za(S),ie=Mx(S,T),ue={...ie,colDelta:ie.colDelta-K.length},Ee=Xm(S,ue,B),{cols:ze,rows:Qe}=nr(Ee),Le=za(Ee),We=Mx(T,S),Ze={...We,colDelta:We.colDelta+Le.length},ut=(Bt=B,Vt=Le,R(T,Mt=>dt(Vt,(Ht,tn)=>{const an=dv(1,Mt,Bt,fe)[0];return ih(Ht,tn,an)},Mt))),gt=Xm(ut,Ze,B);var Bt,Vt;return[...ze,...Qe.slice(0,y),...gt,...Qe.slice(y,Qe.length)]},$x=(y,S,T,B,W)=>{const{rows:K,cols:ie}=nr(y),ue=K.slice(0,S),Ee=K.slice(S);return[...ie,...ue,((ze,Qe,Le,We)=>Df(ze,Ze=>We(Ze,Le),Qe))(K[T],(ze,Qe)=>S>0&&S<K.length&&B(ur(K[S-1],Qe),ur(K[S],Qe))?zr(K[S],Qe):Lr(W(ze.element,B),!0,ze.isLocked),B,W),...Ee]},fv=(y,S,T,B,W)=>R(y,K=>{const ie=S>0&&S<Gi(K)&&B(ur(K,S-1),ur(K,S)),ue=((Ee,ze,Qe,Le,We,Ze,ut)=>{if(Qe!=="colgroup"&&Le)return zr(Ee,ze);{const gt=zr(Ee,We);return Lr(ut(gt.element,Ze),!0,!1)}})(K,S,K.section,ie,T,B,W);return ih(K,S,ue)}),Vx=(y,S,T,B)=>((W,K,ie,ue)=>ur(W[K],ie)!==void 0&&K>0&&ue(ur(W[K-1],ie),ur(W[K],ie)))(y,S,T,B)||((W,K,ie)=>K>0&&ie(ur(W,K-1),ur(W,K)))(y[S],T,B),zx=(y,S,T,B)=>{const W=K=>(ie=>ie==="row"?(ue=>Ef(ue,"rowspan")>1)(S):ni(S))(K)?`${K}group`:K;return y?qm(S)?W(T):null:B&&qm(S)?W(T==="row"?"col":"row"):null},mv=(y,S,T)=>Lr(T(y.element,S),!0,y.isLocked),Np=(y,S,T,B,W,K,ie)=>R(y,(ue,Ee)=>((ze,Qe)=>{const Le=ze.cells,We=R(Le,(Ze,ut)=>{if((gt=>xe(S,Bt=>T(gt.element,Bt.element)))(Ze)){const gt=ie(Ze,Ee,ut)?W(Ze,T,B):Ze;return K(gt,Ee,ut).each(Bt=>{var Vt,Mt;Vt=gt.element,Mt={scope:ne.from(Bt)},bn(Mt,(Ht,tn)=>{Ht.fold(()=>{Do(Vt,tn)},an=>{ei(Vt.dom,tn,an)})})}),gt}return Ze});return ci(ze.element,We,ze.section,ze.isNew)})(ue)),Hx=(y,S,T)=>Me(y,(B,W)=>Vx(y,W,S,T)?[]:[zr(B,S)]),gv=(y,S,T,B,W)=>{const K=nr(y).rows,ie=Me(S,Qe=>Hx(K,Qe,B)),ue=R(K,Qe=>dc(Qe.cells)),Ee=((Qe,Le)=>ft(Le,ee)&&dc(Qe)?fe:(We,Ze,ut)=>!(pt(We.element)==="th"&&Le[Ze]))(ie,ue);return Np(y,ie,B,W,mv,((Qe,Le)=>(We,Ze)=>ne.some(zx(Qe,We.element,"row",Le[Ze])))(T,ue),Ee)},hv=(y,S,T,B)=>{const W=nr(y).rows,K=R(S,ie=>zr(W[ie.row],ie.column));return Np(y,K,T,B,mv,ne.none,fe)},Jm=y=>{if(!x(y))throw new Error("cases must be an array");if(y.length===0)throw new Error("there must be at least one case");const S=[],T={};return it(y,(B,W)=>{const K=fo(B);if(K.length!==1)throw new Error("one and only one name per case");const ie=K[0],ue=B[ie];if(T[ie]!==void 0)throw new Error("duplicate key detected:"+ie);if(ie==="cata")throw new Error("cannot have a case named cata (sorry)");if(!x(ue))throw new Error("case arguments must be an array");S.push(ie),T[ie]=(...Ee)=>{const ze=Ee.length;if(ze!==ue.length)throw new Error("Wrong number of arguments to case "+ie+". Expected "+ue.length+" ("+ue+"), got "+ze);return{fold:(...Qe)=>{if(Qe.length!==y.length)throw new Error("Wrong number of arguments to fold. Expected "+y.length+", got "+Qe.length);return Qe[W].apply(null,Ee)},match:Qe=>{const Le=fo(Qe);if(S.length!==Le.length)throw new Error("Wrong number of arguments to match. Expected: "+S.join(",")+`
Actual: `+Le.join(","));if(!ft(S,We=>rt(Le,We)))throw new Error("Not all branches were specified when using match. Specified: "+Le.join(", ")+`
Required: `+S.join(", "));return Qe[ie].apply(null,Ee)},log:Qe=>{console.log(Qe,{constructors:S,constructor:ie,params:Ee})}}}}),T},Lp={...Jm([{none:[]},{only:["index"]},{left:["index","next"]},{middle:["prev","index","next"]},{right:["prev","index"]}])},Ux=(y,S,T)=>{const B=((W,K)=>Ic(W)?((ie,ue)=>{const Ee=Rc(ie);return R(Ee,(ze,Qe)=>({element:ze.element,width:ue[Qe],colspan:ze.colspan}))})(W,K):((ie,ue)=>{const Ee=Kn(ie);return R(Ee,ze=>{const Qe=((Le,We,Ze)=>{let ut=0;for(let gt=Le;gt<We;gt++)ut+=Ze[gt]!==void 0?Ze[gt]:0;return ut})(ze.column,ze.column+ze.colspan,ue);return{element:ze.element,width:Qe,colspan:ze.colspan}})})(W,K))(y,S);it(B,W=>{T.setElementWidth(W.element,W.width)})},Qd=(y,S,T,B,W)=>{const K=Fo(y),ie=W.getCellDelta(S),ue=W.getWidths(K,W),Ee=T===K.grid.columns-1,ze=B.clampTableDelta(ue,T,ie,W.minCellWidth(),Ee),Qe=((We,Ze,ut,gt,Bt)=>{const Vt=We.slice(0),Mt=((tn,an)=>tn.length===0?Lp.none():tn.length===1?Lp.only(0):an===0?Lp.left(0,1):an===tn.length-1?Lp.right(an-1,an):an>0&&an<tn.length-1?Lp.middle(an-1,an,an+1):Lp.none())(We,Ze),Ht=Z(R(Vt,Z(0)));return Mt.fold(Ht,tn=>gt.singleColumnWidth(Vt[tn],ut),(tn,an)=>Bt.calcLeftEdgeDeltas(Vt,tn,an,ut,gt.minCellWidth(),gt.isRelative),(tn,an,ht)=>Bt.calcMiddleDeltas(Vt,tn,an,ht,ut,gt.minCellWidth(),gt.isRelative),(tn,an)=>Bt.calcRightEdgeDeltas(Vt,tn,an,ut,gt.minCellWidth(),gt.isRelative))})(ue,T,ze,W,B),Le=R(Qe,(We,Ze)=>We+ue[Ze]);Ux(K,Le,W),B.resizeTable(W.adjustTableWidth,ze,Ee)},hh=(y,S,T)=>{const B=Fo(y),W=((Ee,ze)=>Yi(Ee,ze,p1,Qe=>Qe.getOrThunk(As)))(B,y),K=R(W,(Ee,ze)=>T===ze?Math.max(S+Ee,As()):Ee),ie=((Ee,ze)=>R(Ee.all,(Qe,Le)=>({element:Qe.element,height:ze[Le]})))(B,K);it(ie,Ee=>{od(Ee.element,Ee.height)}),it(Kn(B),Ee=>{(ze=>{Cl(ze,"height")})(Ee.element)});const ue=Qt(K,(Ee,ze)=>Ee+ze,0);od(y,ue)},ph=y=>dt(y,(S,T)=>xe(S,B=>B.column===T.column)?S:S.concat([T]),[]).sort((S,T)=>S.column-T.column),ef=ds("col"),Kf=ds("colgroup"),pv=y=>pt(y)==="tr"||Kf(y),GE=y=>({element:y,colspan:Ar(y,"colspan",1),rowspan:Ar(y,"rowspan",1)}),bv=y=>vo(y,"scope").map(S=>S.substr(0,3)),$c=(y,S=GE)=>{const T=W=>{if(pv(W))return Kf((K={element:W}).element)?y.colgroup(K):y.row(K);{const ie=W,ue=(Ee=>ef(Ee.element)?y.col(Ee):y.cell(Ee))(S(ie));return B=ne.some({item:ie,replacement:ue}),ue}var K};let B=ne.none();return{getOrInit:(W,K)=>B.fold(()=>T(W),ie=>K(W,ie.item)?ie.replacement:T(W))}},XC=y=>S=>{const T=[],B=W=>{const K=y==="td"?{scope:null}:{},ie=S.replace(W,y,K);return T.push({item:W,sub:ie}),ie};return{replaceOrInit:(W,K)=>{if(pv(W)||ef(W))return W;{const ie=W;return((ue,Ee)=>Sn(T,ze=>Ee(ze.item,ue)))(ie,K).fold(()=>B(ie),ue=>K(W,ue.item)?ue.sub:B(ie))}}}},Wx=y=>({unmerge:S=>{const T=bv(S);return T.each(B=>_s(S,"scope",B)),()=>{const B=y.cell({element:S,colspan:1,rowspan:1});return Cl(B,"width"),Cl(S,"width"),T.each(W=>_s(B,"scope",W)),B}},merge:S=>(Cl(S[0],"width"),(()=>{const T=un(R(S,bv));if(T.length===0)return ne.none();{const B=T[0],W=["row","col"];return xe(T,K=>K!==B&&rt(W,K))?ne.none():ne.from(B)}})().fold(()=>Do(S[0],"scope"),T=>_s(S[0],"scope",T+"group")),Z(S[0]))}),bh=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","table","thead","tfoot","tbody","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],va=Bf(),vh=y=>((S,T)=>{const B=S.property().name(T);return rt(bh,B)})(va,y),yh=y=>((S,T)=>{const B=S.property().name(T);return rt(["ol","ul"],B)})(va,y),A1=y=>{const S=ds("br"),T=W=>gu(W).bind(K=>{const ie=Gl(K).map(ue=>!!vh(ue)||!!((Ee,ze)=>rt(["br","img","hr","input"],Ee.property().name(ze)))(va,ue)&&pt(ue)!=="img").getOr(!1);return xl(K).map(ue=>{return ie===!0||pt(Ee=ue)==="li"||De(Ee,yh).isSome()||S(K)||vh(ue)&&!Ks(W,ue)?[]:[en.fromTag("br")];var Ee})}).getOr([]),B=(()=>{const W=Me(y,K=>{const ie=Di(K);return(ue=>ft(ue,Ee=>S(Ee)||zo(Ee)&&Wm(Ee).trim().length===0))(ie)?[]:ie.concat(T(K))});return W.length===0?[en.fromTag("br")]:W})();wl(y[0]),Fl(y[0],B)},rs=y=>xo(y,!0),Al=y=>{Tr(y).length===0&&lr(y)},cd=(y,S)=>({grid:y,cursor:S}),Na=(y,S,T)=>{const B=((W,K,ie)=>{var ue,Ee;const ze=nr(W).rows;return ne.from((Ee=(ue=ze[K])===null||ue===void 0?void 0:ue.cells[ie])===null||Ee===void 0?void 0:Ee.element).filter(rs).orThunk(()=>(Qe=>J(Qe,Le=>J(Le.cells,We=>{const Ze=We.element;return vn(rs(Ze),Ze)})))(ze))})(y,S,T);return cd(y,B)},Xs=y=>dt(y,(S,T)=>xe(S,B=>B.row===T.row)?S:S.concat([T]),[]).sort((S,T)=>S.row-T.row),vv=(y,S)=>(T,B,W,K,ie)=>{const ue=Xs(B),Ee=R(ue,Qe=>Qe.row),ze=((Qe,Le,We,Ze,ut,gt,Bt)=>{const{cols:Vt,rows:Mt}=nr(Qe),Ht=Mt[Le[0]],tn=Me(Le,go=>((io,Oo,ts)=>{const ri=io[Oo];return Me(ri.cells,(La,ea)=>Vx(io,Oo,ea,ts)?[]:[La])})(Mt,go,ut)),an=R(Ht.cells,(go,io)=>dc(Hx(Mt,io,ut))),ht=[...Mt];it(Le,go=>{ht[go]=Bt.transformRow(Mt[go],We)});const An=[...Vt,...ht],ro=((go,io)=>ft(io,ee)&&dc(go.cells)?fe:(Oo,ts,ri)=>!(pt(Oo.element)==="th"&&io[ri]))(Ht,an),Ro=((go,io)=>(Oo,ts,ri)=>ne.some(zx(go,Oo.element,"col",io[ri])))(Ze,an);return Np(An,tn,ut,gt,Bt.transformCell,Ro,ro)})(T,Ee,y,S,W,K.replaceOrInit,ie);return Na(ze,B[0].row,B[0].column)},JC=vv("thead",!0),qE=vv("tbody",!1),dr=vv("tfoot",!1),T1=(y,S,T)=>{const B=((K,ie)=>Vl(K,()=>ie))(y,T.section),W=ui(B);return kr(W,S,!0)},Kx=(y,S,T,B)=>((W,K,ie,ue)=>{const Ee=ui(K),ze=ue.getWidths(Ee,ue);Ux(Ee,ze,ue)})(0,S,0,B.sizing),Qm=(y,S,T,B)=>((W,K,ie,ue,Ee)=>{const ze=ui(K),Qe=ue.getWidths(ze,ue),Le=ue.pixelWidth(),{newSizes:We,delta:Ze}=Ee.calcRedestributedWidths(Qe,Le,ie.pixelDelta,ue.isRelative);Ux(ze,We,ue),ue.adjustTableWidth(Ze)})(0,S,T,B.sizing,B.resize),Vc=(y,S)=>xe(S,T=>T.column===0&&T.isLocked),Mp=(y,S)=>xe(S,T=>T.column+T.colspan>=y.grid.columns&&T.isLocked),En=(y,S)=>{const T=Cp(y),B=ph(S);return dt(B,(W,K)=>W+T[K.column].map(rh).getOr(0),0)},yu=y=>(S,T)=>Jd(S,T).filter(B=>!(y?Vc:Mp)(S,B)).map(B=>({details:B,pixelDelta:En(S,B)})),jx=y=>(S,T)=>fc(S,T).filter(B=>!(y?Vc:Mp)(S,B.cells)),O1=XC("th"),Bp=XC("td"),R1=jr((y,S,T,B)=>{const W=S[0].row,K=Xs(S),ie=Qt(K,(ue,Ee)=>({grid:$x(ue.grid,W,Ee.row+ue.delta,T,B.getOrInit),delta:ue.delta+1}),{grid:y,delta:0}).grid;return Na(ie,W,S[0].column)},Jd,U,U,$c),xh=jr((y,S,T,B)=>{const W=Xs(S),K=W[W.length-1],ie=K.row+K.rowspan,ue=Qt(W,(Ee,ze)=>$x(Ee,ie,ze.row,T,B.getOrInit),y);return Na(ue,ie,S[0].column)},Jd,U,U,$c),zc=jr((y,S,T,B)=>{const W=S.details,K=ph(W),ie=K[0].column,ue=Qt(K,(Ee,ze)=>({grid:fv(Ee.grid,ie,ze.column+Ee.delta,T,B.getOrInit),delta:Ee.delta+1}),{grid:y,delta:0}).grid;return Na(ue,W[0].row,ie)},yu(!0),Qm,U,$c),YE=jr((y,S,T,B)=>{const W=S.details,K=W[W.length-1],ie=K.column+K.colspan,ue=ph(W),Ee=Qt(ue,(ze,Qe)=>fv(ze,ie,Qe.column,T,B.getOrInit),y);return Na(Ee,W[0].row,ie)},yu(!1),Qm,U,$c),I1=jr((y,S,T,B)=>{const W=ph(S.details),K=((ue,Ee)=>Me(ue,ze=>{const Qe=ze.cells,Le=Qt(Ee,(We,Ze)=>Ze>=0&&Ze<We.length?We.slice(0,Ze).concat(We.slice(Ze+1)):We,Qe);return Le.length>0?[ci(ze.element,Le,ze.section,ze.isNew)]:[]}))(y,R(W,ue=>ue.column)),ie=K.length>0?K[0].cells.length-1:0;return Na(K,W[0].row,Math.min(W[0].column,ie))},(y,S)=>Ji(y,S).map(T=>({details:T,pixelDelta:-En(y,T)})),Qm,Al,$c),Zx=jr((y,S,T,B)=>{const W=Xs(S),K=((ue,Ee,ze)=>{const{rows:Qe,cols:Le}=nr(ue);return[...Le,...Qe.slice(0,Ee),...Qe.slice(ze+1)]})(y,W[0].row,W[W.length-1].row),ie=Math.max(nr(K).rows.length-1,0);return Na(K,Math.min(S[0].row,ie),S[0].column)},Jd,U,Al,$c),D1=jr((y,S,T,B)=>{const W=ph(S),K=R(W,ue=>ue.column),ie=gv(y,K,!0,T,B.replaceOrInit);return Na(ie,S[0].row,S[0].column)},Ji,U,U,O1),Gx=jr((y,S,T,B)=>{const W=ph(S),K=R(W,ue=>ue.column),ie=gv(y,K,!1,T,B.replaceOrInit);return Na(ie,S[0].row,S[0].column)},Ji,U,U,Bp),qx=jr(JC,Ji,U,U,O1),P1=jr(qE,Ji,U,U,Bp),Yx=jr(dr,Ji,U,U,Bp),Xx=jr((y,S,T,B)=>{const W=hv(y,S,T,B.replaceOrInit);return Na(W,S[0].row,S[0].column)},Ji,U,U,O1),QC=jr((y,S,T,B)=>{const W=hv(y,S,T,B.replaceOrInit);return Na(W,S[0].row,S[0].column)},Ji,U,U,Bp),XE=jr((y,S,T,B)=>{const W=S.cells;A1(W);const K=((ie,ue,Ee,ze)=>{const Qe=nr(ie).rows;if(Qe.length===0)return ie;for(let Le=ue.startRow;Le<=ue.finishRow;Le++)for(let We=ue.startCol;We<=ue.finishCol;We++){const Ze=Qe[Le],ut=zr(Ze,We).isLocked;ah(Ze,We,Lr(ze(),!1,ut))}return ie})(y,S.bounds,0,B.merge(W));return cd(K,ne.from(W[0]))},(y,S)=>((T,B)=>B.mergable)(0,S).filter(T=>uv(y,T.cells)),Kx,U,Wx),yv=jr((y,S,T,B)=>{const W=Qt(S,(K,ie)=>Dp(K,ie,T,B.unmerge(ie)),y);return cd(W,ne.from(S[0]))},(y,S)=>((T,B)=>B.unmergable)(0,S).filter(T=>uv(y,T)),Kx,U,Wx),Jx=jr((y,S,T,B)=>{const W=((ue,Ee)=>{const ze=Fo(ue);return kr(ze,Ee,!0)})(S.clipboard,S.generators);var K,ie;return((ue,Ee,ze,Qe,Le)=>{const We=za(Ee),Ze=((Vt,Mt,Ht)=>{const tn=Gi(Mt[0]),an=nr(Mt).cols.length+Vt.row,ht=_e(tn-Vt.column,An=>An+Vt.column);return{row:an,column:Sn(ht,An=>ft(Ht,ro=>ro!==An)).getOr(tn-1)}})(ue,Ee,We),ut=nr(ze).rows,gt=k1(Ze,ut,We);return((Vt,Mt,Ht)=>{if(Vt.row>=Mt.length||Vt.column>Gi(Mt[0]))return Pp.error("invalid start address out of table bounds, row: "+Vt.row+", column: "+Vt.column);const tn=Mt.slice(Vt.row),an=tn[0].cells.slice(Vt.column),ht=Gi(Ht[0]),An=Ht.length;return Pp.value({rowDelta:tn.length-An,colDelta:an.length-ht})})(Ze,Ee,ut).map(Vt=>{const Mt={...Vt,colDelta:Vt.colDelta-gt.length},Ht=Xm(Ee,Mt,Qe),tn=za(Ht),an=k1(Ze,ut,tn);return((ht,An,ro,Ro,go,io)=>{const Oo=ht.row,ts=ht.column,ri=Oo+ro.length,La=ts+Gi(ro[0])+io.length,ea=so(io,fe);for(let gc=Oo;gc<ri;gc++){let fg=0;for(let Ma=ts;Ma<La;Ma++){if(ea[Ma]){fg++;continue}ZE(An,gc,Ma,go)&&Dp(An,ur(An[gc],Ma),go,Ro.cell);const fd=Ma-ts-fg,Kp=zr(ro[gc-Oo],fd),rm=Kp.element,jp=Ro.replace(rm);ah(An[gc],Ma,Lr(jp,!0,Kp.isLocked))}}return An})(Ze,Ht,ut,Qe,Le,an)})})((K=S.row,ie=S.column,{row:K,column:ie}),y,W,S.generators,T).fold(()=>cd(y,ne.some(S.element)),ue=>Na(ue,S.row,S.column))},(y,S)=>yp(S.element).bind(T=>Ir(y,T).map(B=>({...B,generators:S.generators,clipboard:S.clipboard}))),Kx,U,$c),wh=jr((y,S,T,B)=>{const W=nr(y).rows,K=S.cells[0].column,ie=W[S.cells[0].row],ue=T1(S.clipboard,S.generators,ie),Ee=E1(K,y,ue,S.generators,T);return Na(Ee,S.cells[0].row,S.cells[0].column)},jx(!0),U,U,$c),JE=jr((y,S,T,B)=>{const W=nr(y).rows,K=S.cells[S.cells.length-1].column+S.cells[S.cells.length-1].colspan,ie=W[S.cells[0].row],ue=T1(S.clipboard,S.generators,ie),Ee=E1(K,y,ue,S.generators,T);return Na(Ee,S.cells[0].row,K)},jx(!1),U,U,$c),QE=jr((y,S,T,B)=>{const W=nr(y).rows,K=S.cells[0].row,ie=W[K],ue=T1(S.clipboard,S.generators,ie),Ee=Fx(K,y,ue,S.generators,T);return Na(Ee,S.cells[0].row,S.cells[0].column)},fc,U,U,$c),jf=jr((y,S,T,B)=>{const W=nr(y).rows,K=S.cells[S.cells.length-1].row+S.cells[S.cells.length-1].rowspan,ie=W[S.cells[0].row],ue=T1(S.clipboard,S.generators,ie),Ee=Fx(K,y,ue,S.generators,T);return Na(Ee,K,S.cells[0].column)},fc,U,U,$c),eg=(y,S)=>{const T=Fo(y);return Jd(T,S).bind(B=>{const W=B[B.length-1],K=B[0].column,ie=W.column+W.colspan,ue=et(R(T.all,Ee=>Lt(Ee.cells,ze=>ze.column>=K&&ze.column<ie)));return Li(ue)}).getOr("")},N1=(y,S)=>{const T=Fo(y);return Jd(T,S).bind(Li).getOr("")},e_=(y,S)=>{const T=Fo(y);return Jd(T,S).bind(B=>{const W=B[B.length-1],K=B[0].row,ie=W.row+W.rowspan;return(ue=>{const Ee=R(ue,Le=>av(Le).type),ze=rt(Ee,"header"),Qe=rt(Ee,"footer");if(ze||Qe){const Le=rt(Ee,"body");return!ze||Le||Qe?ze||Le||!Qe?ne.none():ne.some("footer"):ne.some("header")}return ne.some("body")})(T.all.slice(K,ie))}).getOr("")},Qx=(y,S)=>y.dispatch("NewRow",{node:S}),xv=(y,S)=>y.dispatch("NewCell",{node:S}),tf=(y,S,T)=>{y.dispatch("TableModified",{...T,table:S})},L1={structure:!1,style:!0},yi={structure:!0,style:!1},Fr={structure:!0,style:!0},Zf=(y,S)=>id(y)?rd(S):L(y)?_r(S):kp(S),e2=(y,S,T)=>{const B=Qe=>pt(Ss(Qe))==="table",W=qd(y),K=tv(y)?U:Ip,ie=Qe=>{switch(Km(y)){case"section":return Bi();case"sectionCells":return GC();case"cells":return qC();default:return((Le,We)=>{var Ze;switch((Ze=Fo(Le),J(Ze.all,ut=>{const gt=av(ut);return gt.type==="header"?ne.from(gt.subType):ne.none()})).getOr(We)){case"section":return Mi();case"sectionCells":return Jt();case"cells":return Ym()}})(Qe,"section")}},ue=(Qe,Le,We,Ze)=>(ut,gt,Bt=!1)=>{Sr(ut);const Vt=en.fromDom(y.getDoc()),Mt=or(We,Vt,W),Ht={sizing:Zf(y,ut),resize:tv(y)?ld():x1(),section:ie(ut)};return Le(ut)?Qe(ut,gt,Mt,Ht).bind(tn=>{S.refresh(ut.dom),it(tn.newRows,ht=>{Qx(y,ht.dom)}),it(tn.newCells,ht=>{xv(y,ht.dom)});const an=((ht,An)=>An.cursor.fold(()=>{const ro=Tr(ht);return In(ro).filter(sl).map(Ro=>{T.clearSelectedCells(ht.dom);const go=y.dom.createRng();return go.selectNode(Ro.dom),y.selection.setRng(go),_s(Ro,"data-mce-selected","1"),go})},ro=>{const Ro=Nx(Rp,ro),go=y.dom.createRng();return go.setStart(Ro.element.dom,Ro.offset),go.setEnd(Ro.element.dom,Ro.offset),y.selection.setRng(go),T.clearSelectedCells(ht.dom),ne.some(go)}))(ut,tn);return sl(ut)&&(Sr(ut),Bt||tf(y,ut.dom,Ze)),an.map(ht=>({rng:ht,effect:Ze}))}):ne.none()},Ee=ue(Zx,Qe=>!B(y)||vu(Qe).rows>1,U,yi),ze=ue(I1,Qe=>!B(y)||vu(Qe).columns>1,U,yi);return{deleteRow:Ee,deleteColumn:ze,insertRowsBefore:ue(R1,fe,U,yi),insertRowsAfter:ue(xh,fe,U,yi),insertColumnsBefore:ue(zc,fe,K,yi),insertColumnsAfter:ue(YE,fe,K,yi),mergeCells:ue(XE,fe,U,yi),unmergeCells:ue(yv,fe,U,yi),pasteColsBefore:ue(wh,fe,U,yi),pasteColsAfter:ue(JE,fe,U,yi),pasteRowsBefore:ue(QE,fe,U,yi),pasteRowsAfter:ue(jf,fe,U,yi),pasteCells:ue(Jx,fe,U,Fr),makeCellsHeader:ue(Xx,fe,U,yi),unmakeCellsHeader:ue(QC,fe,U,yi),makeColumnsHeader:ue(D1,fe,U,yi),unmakeColumnsHeader:ue(Gx,fe,U,yi),makeRowsHeader:ue(qx,fe,U,yi),makeRowsBody:ue(P1,fe,U,yi),makeRowsFooter:ue(Yx,fe,U,yi),getTableRowType:e_,getTableCellType:N1,getTableColType:eg}},M1=(y,S,T)=>{const B=Ar(y,S,1);T===1||B<=1?Do(y,S):_s(y,S,Math.min(T,B))},Qi=(y,S)=>T=>{const B=T.column+T.colspan-1,W=T.column;return B>=y&&W<S},dl=Jm([{invalid:["raw"]},{pixels:["value"]},{percent:["value"]}]),Ch=(y,S,T)=>{const B=T.substring(0,T.length-y.length),W=parseFloat(B);return B===W.toString()?S(W):dl.invalid(T)},Gf={...dl,from:y=>fn(y,"%")?Ch("%",dl.percent,y):fn(y,"px")?Ch("px",dl.pixels,y):dl.invalid(y)},tg=(y,S,T)=>{const B=Gf.from(T),W=ft(y,K=>K==="0px")?((K,ie)=>{const ue=K.fold(()=>Z(""),Ee=>Z(Ee/ie+"px"),()=>Z(100/ie+"%"));return _e(ie,ue)})(B,y.length):((K,ie,ue)=>K.fold(()=>ie,Ee=>((ze,Qe,Le)=>{const We=Le/Qe;return R(ze,Ze=>Gf.from(Ze).fold(()=>Ze,ut=>ut*We+"px",ut=>ut/100*Le+"px"))})(ie,ue,Ee),Ee=>((ze,Qe)=>R(ze,Le=>Gf.from(Le).fold(()=>Le,We=>We/Qe*100+"%",We=>We+"%")))(ie,ue)))(B,y,S);return t2(W)},B1=(y,S)=>y.length===0?S:Qt(y,(T,B)=>Gf.from(B).fold(Z(0),ee,ee)+T,0),t_=(y,S)=>Gf.from(y).fold(Z(y),T=>T+S+"px",T=>T+S+"%"),t2=y=>{if(y.length===0)return y;const S=Qt(y,(B,W)=>{const K=Gf.from(W).fold(()=>({value:W,remainder:0}),ie=>((ue,Ee)=>{const ze=Math.floor(ue);return{value:ze+"px",remainder:ue-ze}})(ie),ie=>({value:ie+"%",remainder:0}));return{output:[K.value].concat(B.output),remainder:B.remainder+K.remainder}},{output:[],remainder:0}),T=S.output;return T.slice(0,T.length-1).concat([t_(T[T.length-1],Math.round(S.remainder))])},ng=Gf.from,Js=(y,S,T)=>{const B=Fo(y),W=B.all,K=Kn(B),ie=Rc(B);S.each(ue=>{const Ee=ng(ue).fold(Z("px"),Z("px"),Z("%")),ze=Sl(y),Qe=((We,Ze)=>bi(We,Ze,Ua,Sp))(B,y),Le=tg(Qe,ze,ue);Ic(B)?((We,Ze,ut)=>{it(Ze,(gt,Bt)=>{const Vt=B1([We[Bt]],Yl());Lo(gt.element,"width",Vt+ut)})})(Le,ie,Ee):((We,Ze,ut)=>{it(Ze,gt=>{const Bt=We.slice(gt.column,gt.colspan+gt.column),Vt=B1(Bt,Yl());Lo(gt.element,"width",Vt+ut)})})(Le,K,Ee),Lo(y,"width",ue)}),T.each(ue=>{const Ee=Zd(y),ze=((Qe,Le)=>Yi(Qe,Le,Pa,Sp))(B,y);((Qe,Le,We)=>{it(We,Ze=>{Cl(Ze.element,"height")}),it(Le,(Ze,ut)=>{Lo(Ze.element,"height",Qe[ut])})})(tg(ze,Ee,ue),W,K),Lo(y,"height",ue)})},F1=y=>cc(y).exists(S=>Si.test(S)),fr=y=>cc(y).exists(S=>Yn.test(S)),ud=y=>cc(y).isNone(),xu=y=>{Do(y,"width"),Do(y,"height")},_h=y=>{const S=Lf(y);Js(y,ne.some(S),ne.none()),xu(y)},Tl=y=>{const S=(T=>Sl(T)+"px")(y);Js(y,ne.some(S),ne.none()),xu(y)},ya=y=>{Cl(y,"width");const S=Oc(y),T=S.length>0?S:Tr(y);it(T,B=>{Cl(B,"width"),xu(B)}),xu(y)},og={styles:{"border-collapse":"collapse",width:"100%"},attributes:{border:"1"},colGroups:!1},wv=(y,S,T,B)=>_e(y,W=>((K,ie,ue,Ee)=>{const ze=en.fromTag("tr");for(let Qe=0;Qe<K;Qe++){const Le=en.fromTag(Ee<ie||Qe<ue?"th":"td");Qe<ue&&_s(Le,"scope","row"),Ee<ie&&_s(Le,"scope","col"),hr(Le,en.fromTag("br")),hr(ze,Le)}return ze})(S,T,B,W)),Sh=(y,S)=>{y.selection.select(S.dom,!0),y.selection.collapse(!0)},Cv=(y,S,T,B,W)=>{const K=(ue=>{const Ee=ue.options,ze=Ee.get("table_default_styles");return Ee.isSet("table_default_styles")?ze:((Qe,Le)=>G(Qe)||!$e(Qe)?Le:L(Qe)?{...Le,width:hu(Qe)}:{...Le,width:Jl})(ue,ze)})(y),ie={styles:K,attributes:$t(y),colGroups:Jn(y)};return y.undoManager.ignore(()=>{const ue=((ze,Qe,Le,We,Ze,ut=og)=>{const gt=en.fromTag("table"),Bt=Ze!=="cells";ql(gt,ut.styles),Zi(gt,ut.attributes),ut.colGroups&&hr(gt,(tn=>{const an=en.fromTag("colgroup");return _e(tn,()=>hr(an,en.fromTag("col"))),an})(Qe));const Vt=Math.min(ze,Le);if(Bt&&Le>0){const tn=en.fromTag("thead");hr(gt,tn);const an=wv(Le,Qe,Ze==="sectionCells"?Vt:0,We);Fl(tn,an)}const Mt=en.fromTag("tbody");hr(gt,Mt);const Ht=wv(Bt?ze-Vt:ze,Qe,Bt?0:Le,We);return Fl(Mt,Ht),gt})(T,S,W,B,Km(y),ie);_s(ue,"data-mce-id","__mce");const Ee=(ze=>{const Qe=en.fromTag("div"),Le=en.fromDom(ze.dom.cloneNode(!0));return hr(Qe,Le),(We=>We.dom.innerHTML)(Qe)})(ue);y.insertContent(Ee),y.addVisual()}),bt(Ss(y),'table[data-mce-id="__mce"]').map(ue=>(L(y)?Tl(ue):G(y)?ya(ue):(id(y)||(Ee=>g(Ee)&&Ee.indexOf("%")!==-1)(K.width))&&_h(ue),Sr(ue),Do(ue,"data-mce-id"),((Ee,ze)=>{it(Bs(ze,"tr"),Qe=>{Qx(Ee,Qe.dom),it(Bs(Qe,"th,td"),Le=>{xv(Ee,Le.dom)})})})(y,ue),((Ee,ze)=>{bt(ze,"td,th").each(H(Sh,Ee))})(y,ue),ue.dom)).getOrNull()};var kh=tinymce.util.Tools.resolve("tinymce.FakeClipboard");const n_="x-tinymce/dom-table-",n2=n_+"rows",o2=n_+"columns",o_=y=>{const S=kh.FakeClipboardItem(y);kh.write([S])},xa=y=>{var S;const T=(S=kh.read())!==null&&S!==void 0?S:[];return J(T,B=>ne.from(B.getType(y)))},sg=y=>{xa(y).isSome()&&kh.clear()},s_=y=>{y.fold(fl,S=>o_({[n2]:S}))},Hc=()=>xa(n2),fl=()=>sg(n2),Eh=y=>{y.fold(r_,S=>o_({[o2]:S}))},Fp=()=>xa(o2),r_=()=>sg(o2),Dr=y=>Hf(Nc(y),Wr(y)).filter(v1),Pr=(y,S)=>{const T=Wr(y),B=Le=>_l(Le,T),W=Le=>(We=>pr(Nc(We),Wr(We)).filter(v1))(y).bind(We=>B(We).map(Ze=>Le(Ze,We))),K=Le=>{y.focus()},ie=(Le,We=!1)=>W((Ze,ut)=>{const gt=Mo(Mc(y),Ze,ut);Le(Ze,gt,We).each(K)}),ue=()=>W((Le,We)=>((Ze,ut,gt)=>{const Bt=Fo(Ze);return Jd(Bt,ut).bind(Vt=>{const Mt=kr(Bt,gt,!1),Ht=nr(Mt).rows.slice(Vt[0].row,Vt[Vt.length-1].row+Vt[Vt.length-1].rowspan),tn=Me(Ht,ht=>{const An=Lt(ht.cells,ro=>!ro.isLocked);return An.length>0?[{...ht,cells:An}]:[]}),an=cv(tn);return vn(an.length>0,an)}).map(Vt=>R(Vt,Mt=>{const Ht=Lm(Mt.element);return it(Mt.cells,tn=>{const an=ou(tn.element);Xd(an,"colspan",tn.colspan,1),Xd(an,"rowspan",tn.rowspan,1),hr(Ht,an)}),Ht}))})(Le,Mo(Mc(y),Le,We),or(U,en.fromDom(y.getDoc()),ne.none()))),Ee=()=>W((Le,We)=>((Ze,ut)=>{const gt=Fo(Ze);return Ji(gt,ut).map(Bt=>{const Vt=Bt[Bt.length-1],Mt=Bt[0].column,Ht=Vt.column+Vt.colspan,tn=((ht,An,ro)=>{if(Ic(ht)){const Ro=Lt(Rc(ht),Qi(An,ro)),go=R(Ro,Oo=>{const ts=ou(Oo.element);return M1(ts,"span",ro-An),ts}),io=en.fromTag("colgroup");return Fl(io,go),[io]}return[]})(gt,Mt,Ht),an=((ht,An,ro)=>R(ht.all,Ro=>{const go=Lt(Ro.cells,Qi(An,ro)),io=R(go,ts=>{const ri=ou(ts.element);return M1(ri,"colspan",ro-An),ri}),Oo=en.fromTag("tr");return Fl(Oo,io),Oo}))(gt,Mt,Ht);return[...tn,...an]})})(Le,Mo(Mc(y),Le,We))),ze=(Le,We)=>We().each(Ze=>{const ut=R(Ze,gt=>ou(gt));W((gt,Bt)=>{const Vt=Ns(en.fromDom(y.getDoc())),Mt=((Ht,tn,an,ht)=>({selection:Vf(Ht),clipboard:an,generators:ht}))(Mc(y),0,ut,Vt);Le(gt,Mt).each(K)})}),Qe=Le=>(We,Ze)=>((ut,gt)=>He(ut,gt)?ne.from(ut[gt]):ne.none())(Ze,"type").each(ut=>{ie(Le(ut),Ze.no_events)});bn({mceTableSplitCells:()=>ie(S.unmergeCells),mceTableMergeCells:()=>ie(S.mergeCells),mceTableInsertRowBefore:()=>ie(S.insertRowsBefore),mceTableInsertRowAfter:()=>ie(S.insertRowsAfter),mceTableInsertColBefore:()=>ie(S.insertColumnsBefore),mceTableInsertColAfter:()=>ie(S.insertColumnsAfter),mceTableDeleteCol:()=>ie(S.deleteColumn),mceTableDeleteRow:()=>ie(S.deleteRow),mceTableCutCol:()=>Ee().each(Le=>{Eh(Le),ie(S.deleteColumn)}),mceTableCutRow:()=>ue().each(Le=>{s_(Le),ie(S.deleteRow)}),mceTableCopyCol:()=>Ee().each(Le=>Eh(Le)),mceTableCopyRow:()=>ue().each(Le=>s_(Le)),mceTablePasteColBefore:()=>ze(S.pasteColsBefore,Fp),mceTablePasteColAfter:()=>ze(S.pasteColsAfter,Fp),mceTablePasteRowBefore:()=>ze(S.pasteRowsBefore,Hc),mceTablePasteRowAfter:()=>ze(S.pasteRowsAfter,Hc),mceTableDelete:()=>Dr(y).each(Le=>{_l(Le,T).filter(de(T)).each(We=>{const Ze=en.fromText("");if(Yu(We,Ze),lr(We),y.dom.isEmpty(y.getBody()))y.setContent(""),y.selection.setCursorLocation();else{const ut=y.dom.createRng();ut.setStart(Ze.dom,0),ut.setEnd(Ze.dom,0),y.selection.setRng(ut),y.nodeChanged()}})}),mceTableCellToggleClass:(Le,We)=>{W(Ze=>{const ut=Mc(y),gt=ft(ut,Vt=>y.formatter.match("tablecellclass",{value:We},Vt.dom)),Bt=gt?y.formatter.remove:y.formatter.apply;it(ut,Vt=>Bt("tablecellclass",{value:We},Vt.dom)),tf(y,Ze.dom,L1)})},mceTableToggleClass:(Le,We)=>{W(Ze=>{y.formatter.toggle("tableclass",{value:We},Ze.dom),tf(y,Ze.dom,L1)})},mceTableToggleCaption:()=>{Dr(y).each(Le=>{_l(Le,T).each(We=>{wt(We,"caption").fold(()=>{const Ze=en.fromTag("caption");hr(Ze,en.fromText("Caption")),((ut,gt,Bt)=>{qu(ut,0).fold(()=>{hr(ut,gt)},Vt=>{mn(Vt,gt)})})(We,Ze),y.selection.setCursorLocation(Ze.dom,0)},Ze=>{ds("caption")(Le)&&Zl("td",We).each(ut=>y.selection.setCursorLocation(ut.dom,0)),lr(Ze)}),tf(y,We.dom,yi)})})},mceTableSizingMode:(Le,We)=>(Ze=>Dr(y).each(ut=>{G(y)||L(y)||id(y)||_l(ut,T).each(gt=>{Ze!=="relative"||F1(gt)?Ze!=="fixed"||fr(gt)?Ze!=="responsive"||ud(gt)||ya(gt):Tl(gt):_h(gt),Sr(gt),tf(y,gt.dom,yi)})}))(We),mceTableCellType:Qe(Le=>Le==="th"?S.makeCellsHeader:S.unmakeCellsHeader),mceTableColType:Qe(Le=>Le==="th"?S.makeColumnsHeader:S.unmakeColumnsHeader),mceTableRowType:Qe(Le=>{switch(Le){case"header":return S.makeRowsHeader;case"footer":return S.makeRowsFooter;default:return S.makeRowsBody}})},(Le,We)=>y.addCommand(We,Le)),y.addCommand("mceInsertTable",(Le,We)=>{((Ze,ut,gt,Bt={})=>{const Vt=Mt=>V(Mt)&&Mt>0;if(Vt(ut)&&Vt(gt)){const Mt=Bt.headerRows||0,Ht=Bt.headerColumns||0;return Cv(Ze,gt,ut,Ht,Mt)}console.error("Invalid values for mceInsertTable - rows and columns values are required to insert a table.")})(y,We.rows,We.columns,We.options)}),y.addCommand("mceTableApplyCellStyle",(Le,We)=>{const Ze=Bt=>"tablecell"+Bt.toLowerCase().replace("-","");if(!h(We))return;const ut=Lt(Mc(y),v1);if(ut.length===0)return;const gt=((Bt,Vt)=>{const Mt={};return((Ht,tn,an,ht)=>{bn(Ht,(An,ro)=>{(tn(An,ro)?an:ht)(An,ro)})})(Bt,Vt,(Ht=>(tn,an)=>{Ht[an]=tn})(Mt),U),Mt})(We,(Bt,Vt)=>y.formatter.has(Ze(Vt))&&g(Bt));(Bt=>{for(const Vt in Bt)if(Zt.call(Bt,Vt))return!1;return!0})(gt)||(bn(gt,(Bt,Vt)=>{const Mt=Ze(Vt);it(ut,Ht=>{Bt===""?y.formatter.remove(Mt,{value:null},Ht.dom,!0):y.formatter.apply(Mt,{value:Bt},Ht.dom)})}),B(ut[0]).each(Bt=>tf(y,Bt.dom,L1)))})},si=Jm([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),$s={before:si.before,on:si.on,after:si.after,cata:(y,S,T,B)=>y.fold(S,T,B),getStart:y=>y.fold(ee,ee,ee)},Er=(y,S)=>({selection:y,kill:S}),Zr=(y,S)=>{const T=y.document.createRange();return T.selectNode(S.dom),T},$1=(y,S)=>{const T=y.document.createRange();return V1(T,S),T},V1=(y,S)=>y.selectNodeContents(S.dom),s2=(y,S,T)=>{const B=y.document.createRange();var W;return W=B,S.fold(K=>{W.setStartBefore(K.dom)},(K,ie)=>{W.setStart(K.dom,ie)},K=>{W.setStartAfter(K.dom)}),((K,ie)=>{ie.fold(ue=>{K.setEndBefore(ue.dom)},(ue,Ee)=>{K.setEnd(ue.dom,Ee)},ue=>{K.setEndAfter(ue.dom)})})(B,T),B},_v=(y,S,T,B,W)=>{const K=y.document.createRange();return K.setStart(S.dom,T),K.setEnd(B.dom,W),K},r2=y=>({left:y.left,top:y.top,right:y.right,bottom:y.bottom,width:y.width,height:y.height}),Ah=Jm([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),z1=(y,S,T)=>S(en.fromDom(T.startContainer),T.startOffset,en.fromDom(T.endContainer),T.endOffset),H1=(y,S)=>{const T=((B,W)=>W.match({domRange:K=>({ltr:Z(K),rtl:ne.none}),relative:(K,ie)=>({ltr:Pi(()=>s2(B,K,ie)),rtl:Pi(()=>ne.some(s2(B,ie,K)))}),exact:(K,ie,ue,Ee)=>({ltr:Pi(()=>_v(B,K,ie,ue,Ee)),rtl:Pi(()=>ne.some(_v(B,ue,Ee,K,ie)))})}))(y,S);return((B,W)=>{const K=W.ltr();return K.collapsed?W.rtl().filter(ie=>ie.collapsed===!1).map(ie=>Ah.rtl(en.fromDom(ie.endContainer),ie.endOffset,en.fromDom(ie.startContainer),ie.startOffset)).getOrThunk(()=>z1(0,Ah.ltr,K)):z1(0,Ah.ltr,K)})(0,T)},i2=(y,S)=>H1(y,S).match({ltr:(T,B,W,K)=>{const ie=y.document.createRange();return ie.setStart(T.dom,B),ie.setEnd(W.dom,K),ie},rtl:(T,B,W,K)=>{const ie=y.document.createRange();return ie.setStart(W.dom,K),ie.setEnd(T.dom,B),ie}});Ah.ltr,Ah.rtl;const Sv=(y,S,T,B)=>({start:y,soffset:S,finish:T,foffset:B}),Ol=(y,S,T,B)=>({start:$s.on(y,S),finish:$s.on(T,B)}),a2=(y,S)=>{const T=i2(y,S);return Sv(en.fromDom(T.startContainer),T.startOffset,en.fromDom(T.endContainer),T.endOffset)},Za=Ol,kv=(y,S,T,B,W)=>Ks(T,B)?ne.none():pu(T,B,S).bind(K=>{const ie=K.boxes.getOr([]);return ie.length>1?(W(y,ie,K.start,K.finish),ne.some(Er(ne.some(Za(T,0,T,Hr(T))),!0))):ne.none()}),Th=(y,S)=>({item:y,mode:S}),wu=(y,S,T,B=Gr)=>y.property().parent(S).map(W=>Th(W,B)),Gr=(y,S,T,B=rg)=>T.sibling(y,S).map(W=>Th(W,B)),rg=(y,S,T,B=rg)=>{const W=y.property().children(S);return T.first(W).map(K=>Th(K,B))},l2=[{current:wu,next:Gr,fallback:ne.none()},{current:Gr,next:rg,fallback:ne.some(wu)},{current:rg,next:rg,fallback:ne.some(Gr)}],c2=(y,S,T,B,W=l2)=>Sn(W,K=>K.current===T).bind(K=>K.current(y,S,B,K.next).orThunk(()=>K.fallback.bind(ie=>c2(y,S,ie,B)))),Ev=(y,S,T,B,W,K)=>c2(y,S,B,W).bind(ie=>K(ie.item)?ne.none():T(ie.item)?ne.some(ie.item):Ev(y,ie.item,T,ie.mode,W,K)),nf=y=>S=>y.property().children(S).length===0,eA=(y,S,T,B)=>Ev(y,S,T,Gr,{sibling:(W,K)=>W.query().prevSibling(K),first:W=>W.length>0?ne.some(W[W.length-1]):ne.none()},B),Av=(y,S,T,B)=>Ev(y,S,T,Gr,{sibling:(W,K)=>W.query().nextSibling(K),first:W=>W.length>0?ne.some(W[0]):ne.none()},B),ig=Bf(),i_=(y,S)=>((T,B,W)=>eA(T,B,nf(T),W))(ig,y,S),Tv=(y,S)=>((T,B,W)=>Av(T,B,nf(T),W))(ig,y,S),Ov=Jm([{none:["message"]},{success:[]},{failedUp:["cell"]},{failedDown:["cell"]}]),U1=y=>ot(y,"tr"),$p={...Ov,verify:(y,S,T,B,W,K,ie)=>ot(B,"td,th",ie).bind(ue=>ot(S,"td,th",ie).map(Ee=>Ks(ue,Ee)?Ks(B,ue)&&Hr(ue)===W?K(Ee):Ov.none("in same cell"):Ff(U1,[ue,Ee]).fold(()=>((ze,Qe,Le)=>{const We=ze.getRect(Qe),Ze=ze.getRect(Le);return Ze.right>We.left&&Ze.left<We.right})(y,Ee,ue)?Ov.success():K(Ee),ze=>K(Ee)))).getOr(Ov.none("default")),cata:(y,S,T,B,W)=>y.fold(S,T,B,W)},W1=ds("br"),Ga=(y,S,T)=>S(y,T).bind(B=>zo(B)&&Wm(B).trim().length===0?Ga(B,S,T):ne.some(B)),u2=(y,S,T,B)=>((W,K)=>qu(W,K).filter(W1).orThunk(()=>qu(W,K-1).filter(W1)))(S,T).bind(W=>B.traverse(W).fold(()=>Ga(W,B.gather,y).map(B.relative),K=>(ie=>xl(ie).bind(ue=>{const Ee=Di(ue);return((ze,Qe)=>Et(ze,H(Ks,Qe)))(Ee,ie).map(ze=>((Qe,Le,We,Ze)=>({parent:Qe,children:Le,element:We,index:Ze}))(ue,Ee,ie,ze))}))(K).map(ie=>$s.on(ie.parent,ie.index)))),of=(y,S)=>({left:y.left,top:y.top+S,right:y.right,bottom:y.bottom+S}),Rv=(y,S)=>({left:y.left,top:y.top-S,right:y.right,bottom:y.bottom-S}),dd=(y,S,T)=>({left:y.left+S,top:y.top+T,right:y.right+S,bottom:y.bottom+T}),Iv=y=>({left:y.left,top:y.top,right:y.right,bottom:y.bottom}),Dv=(y,S)=>ne.some(y.getRect(S)),ag=(y,S,T)=>oo(S)?Dv(y,S).map(Iv):zo(S)?((B,W,K)=>K>=0&&K<Hr(W)?B.getRangedRect(W,K,W,K+1):K>0?B.getRangedRect(W,K-1,W,K):ne.none())(y,S,T).map(Iv):ne.none(),Oh=(y,S)=>oo(S)?Dv(y,S).map(Iv):zo(S)?y.getRangedRect(S,0,S,Hr(S)).map(Iv):ne.none(),Uc=Jm([{none:[]},{retry:["caret"]}]),Pv=(y,S,T)=>at(S,vh).fold(j,B=>Oh(y,B).exists(W=>((K,ie)=>K.left<ie.left||Math.abs(ie.right-K.left)<1||K.left>ie.right)(T,W))),tA={point:y=>y.bottom,adjuster:(y,S,T,B,W)=>{const K=of(W,5);return Math.abs(T.bottom-B.bottom)<1||T.top>W.bottom?Uc.retry(K):T.top===W.bottom?Uc.retry(of(W,1)):Pv(y,S,W)?Uc.retry(dd(K,5,0)):Uc.none()},move:of,gather:Tv},mc=(y,S,T,B,W)=>W===0?ne.some(B):((K,ie,ue)=>K.elementFromPoint(ie,ue).filter(Ee=>pt(Ee)==="table").isSome())(y,B.left,S.point(B))?((K,ie,ue,Ee,ze)=>mc(K,ie,ue,ie.move(Ee,5),ze))(y,S,T,B,W-1):y.situsFromPoint(B.left,S.point(B)).bind(K=>K.start.fold(ne.none,ie=>Oh(y,ie).bind(ue=>S.adjuster(y,ie,ue,T,B).fold(ne.none,Ee=>mc(y,S,T,Ee,W-1))).orThunk(()=>ne.some(B)),ne.none)),sf=(y,S,T)=>{const B=y.move(T,5),W=mc(S,y,T,B,100).getOr(B);return((K,ie,ue)=>K.point(ie)>ue.getInnerHeight()?ne.some(K.point(ie)-ue.getInnerHeight()):K.point(ie)<0?ne.some(-K.point(ie)):ne.none())(y,W,S).fold(()=>S.situsFromPoint(W.left,y.point(W)),K=>(S.scrollBy(0,K),S.situsFromPoint(W.left,y.point(W)-K)))},Wc={tryUp:H(sf,{point:y=>y.top,adjuster:(y,S,T,B,W)=>{const K=Rv(W,5);return Math.abs(T.top-B.top)<1||T.bottom<W.top?Uc.retry(K):T.bottom===W.top?Uc.retry(Rv(W,1)):Pv(y,S,W)?Uc.retry(dd(K,5,0)):Uc.none()},move:Rv,gather:i_}),tryDown:H(sf,tA),getJumpSize:Z(5)},d2=(y,S,T)=>y.getSelection().bind(B=>((W,K,ie,ue)=>(W1(K)?((ze,Qe,Le)=>Le.traverse(Qe).orThunk(()=>Ga(Qe,Le.gather,ze)).map(Le.relative))(W,K,ue):u2(W,K,ie,ue)).map(ze=>({start:ze,finish:ze})))(S,B.finish,B.foffset,T).fold(()=>ne.some(_o(B.finish,B.foffset)),W=>{const K=y.fromSitus(W);return ie=$p.verify(y,B.finish,B.foffset,K.finish,K.foffset,T.failure,S),$p.cata(ie,ue=>ne.none(),()=>ne.none(),ue=>ne.some(_o(ue,0)),ue=>ne.some(_o(ue,Hr(ue))));var ie})),Ei=(y,S,T,B,W,K)=>K===0?ne.none():nA(y,S,T,B,W).bind(ie=>{const ue=y.fromSitus(ie),Ee=$p.verify(y,T,B,ue.finish,ue.foffset,W.failure,S);return $p.cata(Ee,()=>ne.none(),()=>ne.some(ie),ze=>Ks(T,ze)&&B===0?Kc(y,T,B,Rv,W):Ei(y,S,ze,0,W,K-1),ze=>Ks(T,ze)&&B===Hr(ze)?Kc(y,T,B,of,W):Ei(y,S,ze,Hr(ze),W,K-1))}),Kc=(y,S,T,B,W)=>ag(y,S,T).bind(K=>Rl(y,W,B(K,Wc.getJumpSize()))),Rl=(y,S,T)=>{const B=h1().browser;return B.isChromium()||B.isSafari()||B.isFirefox()?S.retry(y,T):ne.none()},nA=(y,S,T,B,W)=>ag(y,T,B).bind(K=>Rl(y,W,K)),qf=(y,S,T,B,W)=>ot(B,"td,th",S).bind(K=>ot(K,"table",S).bind(ie=>((ue,Ee)=>De(ue,ze=>xl(ze).exists(Qe=>Ks(Qe,Ee)),void 0).isSome())(W,ie)?((ue,Ee,ze)=>d2(ue,Ee,ze).bind(Qe=>Ei(ue,Ee,Qe.element,Qe.offset,ze,20).map(ue.fromSitus)))(y,S,T).bind(ue=>ot(ue.finish,"td,th",S).map(Ee=>({start:K,finish:Ee,range:ue}))):ne.none())),rf=(y,S,T,B,W,K)=>K(B,S).orThunk(()=>qf(y,S,T,B,W).map(ie=>{const ue=ie.range;return Er(ne.some(Za(ue.start,ue.soffset,ue.finish,ue.foffset)),!0)})),Vp=(y,S)=>ot(y,"tr",S).bind(T=>ot(T,"table",S).bind(B=>{const W=Bs(B,"tr");return Ks(T,W[0])?((K,ie,ue)=>eA(ig,K,Ee=>gu(Ee).isSome(),ue))(B,0,S).map(K=>{const ie=Hr(K);return Er(ne.some(Za(K,ie,K,ie)),!0)}):ne.none()})),lg=(y,S)=>ot(y,"tr",S).bind(T=>ot(T,"table",S).bind(B=>{const W=Bs(B,"tr");return Ks(T,W[W.length-1])?((K,ie,ue)=>Av(ig,K,Ee=>ch(Ee).isSome(),ue))(B,0,S).map(K=>Er(ne.some(Za(K,0,K,0)),!0)):ne.none()})),Ql=(y,S,T,B,W,K,ie)=>qf(y,T,B,W,K).bind(ue=>kv(S,T,ue.start,ue.finish,ie)),K1=y=>{let S=y;return{get:()=>S,set:T=>{S=T}}},j1=()=>{const y=(S=>{const T=K1(ne.none()),B=()=>T.get().each(S);return{clear:()=>{B(),T.set(ne.none())},isSet:()=>T.get().isSome(),get:()=>T.get(),set:W=>{B(),T.set(ne.some(W))}}})(U);return{...y,on:S=>y.get().each(S)}},Nv=(y,S)=>ot(y,"td,th",S),Z1=y=>Gu(y).exists(xo),a_={traverse:Gl,gather:Tv,relative:$s.before,retry:Wc.tryDown,failure:$p.failedDown},Lv={traverse:yo,gather:i_,relative:$s.before,retry:Wc.tryUp,failure:$p.failedUp},af=y=>S=>S===y,Mv=af(38),Rh=af(40),Ih=y=>y>=37&&y<=40,Yf={isBackward:af(37),isForward:af(39)},Xf={isBackward:af(39),isForward:af(37)},Bv=Jm([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),Jf={domRange:Bv.domRange,relative:Bv.relative,exact:Bv.exact,exactFromRange:y=>Bv.exact(y.start,y.soffset,y.finish,y.foffset),getWin:y=>{const S=(T=>T.match({domRange:B=>en.fromDom(B.startContainer),relative:(B,W)=>$s.getStart(B),exact:(B,W,K,ie)=>B}))(y);return en.fromDom(Tc(S).dom.defaultView)},range:Sv},Qf=(y,S)=>{const T=pt(y);return T==="input"?$s.after(y):rt(["br","img"],T)?S===0?$s.before(y):$s.after(y):$s.on(y,S)},em=y=>ne.from(y.getSelection()),Dh=(y,S)=>{em(y).each(T=>{T.removeAllRanges(),T.addRange(S)})},G1=(y,S,T,B,W)=>{const K=_v(y,S,T,B,W);Dh(y,K)},zp=(y,S)=>H1(y,S).match({ltr:(T,B,W,K)=>{G1(y,T,B,W,K)},rtl:(T,B,W,K)=>{em(y).each(ie=>{if(ie.setBaseAndExtent)ie.setBaseAndExtent(T.dom,B,W.dom,K);else if(ie.extend)try{((ue,Ee,ze,Qe,Le,We)=>{Ee.collapse(ze.dom,Qe),Ee.extend(Le.dom,We)})(0,ie,T,B,W,K)}catch{G1(y,W,K,T,B)}else G1(y,W,K,T,B)})}}),q1=(y,S,T,B,W)=>{const K=((ie,ue,Ee,ze)=>{const Qe=Qf(ie,ue),Le=Qf(Ee,ze);return Jf.relative(Qe,Le)})(S,T,B,W);zp(y,K)},f2=(y,S,T)=>{const B=((W,K)=>{const ie=W.fold($s.before,Qf,$s.after),ue=K.fold($s.before,Qf,$s.after);return Jf.relative(ie,ue)})(S,T);zp(y,B)},Hp=y=>{if(y.rangeCount>0){const S=y.getRangeAt(0),T=y.getRangeAt(y.rangeCount-1);return ne.some(Sv(en.fromDom(S.startContainer),S.startOffset,en.fromDom(T.endContainer),T.endOffset))}return ne.none()},Ai=y=>{if(y.anchorNode===null||y.focusNode===null)return Hp(y);{const S=en.fromDom(y.anchorNode),T=en.fromDom(y.focusNode);return((B,W,K,ie)=>{const ue=((ze,Qe,Le,We)=>{const Ze=Zu(ze).dom.createRange();return Ze.setStart(ze.dom,Qe),Ze.setEnd(Le.dom,We),Ze})(B,W,K,ie),Ee=Ks(B,K)&&W===ie;return ue.collapsed&&!Ee})(S,y.anchorOffset,T,y.focusOffset)?ne.some(Sv(S,y.anchorOffset,T,y.focusOffset)):Hp(y)}},m2=(y,S,T=!0)=>{const B=(T?$1:Zr)(y,S);Dh(y,B)},l_=y=>(S=>em(S).filter(T=>T.rangeCount>0).bind(Ai))(y).map(S=>Jf.exact(S.start,S.soffset,S.finish,S.foffset)),g2=(y,S,T)=>((B,W,K)=>((ie,ue,Ee)=>ie.caretPositionFromPoint?((ze,Qe,Le)=>{var We;return ne.from((We=ze.caretPositionFromPoint)===null||We===void 0?void 0:We.call(ze,Qe,Le)).bind(Ze=>{if(Ze.offsetNode===null)return ne.none();const ut=ze.createRange();return ut.setStart(Ze.offsetNode,Ze.offset),ut.collapse(),ne.some(ut)})})(ie,ue,Ee):ie.caretRangeFromPoint?((ze,Qe,Le)=>{var We;return ne.from((We=ze.caretRangeFromPoint)===null||We===void 0?void 0:We.call(ze,Qe,Le))})(ie,ue,Ee):ne.none())(B.document,W,K).map(ie=>Sv(en.fromDom(ie.startContainer),ie.startOffset,en.fromDom(ie.endContainer),ie.endOffset)))(y,S,T),h2=y=>({elementFromPoint:(S,T)=>en.fromPoint(en.fromDom(y.document),S,T),getRect:S=>S.dom.getBoundingClientRect(),getRangedRect:(S,T,B,W)=>{const K=Jf.exact(S,T,B,W);return((ie,ue)=>(Ee=>{const ze=Ee.getClientRects(),Qe=ze.length>0?ze[0]:Ee.getBoundingClientRect();return Qe.width>0||Qe.height>0?ne.some(Qe).map(r2):ne.none()})(i2(ie,ue)))(y,K)},getSelection:()=>l_(y).map(S=>a2(y,S)),fromSitus:S=>{const T=Jf.relative(S.start,S.finish);return a2(y,T)},situsFromPoint:(S,T)=>g2(y,S,T).map(B=>Ol(B.start,B.soffset,B.finish,B.foffset)),clearSelection:()=>{(S=>{em(S).each(T=>T.removeAllRanges())})(y)},collapseSelection:(S=!1)=>{l_(y).each(T=>T.fold(B=>B.collapse(S),(B,W)=>{const K=S?B:W;f2(y,K,K)},(B,W,K,ie)=>{const ue=S?B:K,Ee=S?W:ie;q1(y,ue,Ee,ue,Ee)}))},setSelection:S=>{q1(y,S.start,S.soffset,S.finish,S.foffset)},setRelativeSelection:(S,T)=>{f2(y,S,T)},selectNode:S=>{m2(y,S,!1)},selectContents:S=>{m2(y,S)},getInnerHeight:()=>y.innerHeight,getScrollY:()=>(S=>{const T=S!==void 0?S.dom:document,B=T.body.scrollLeft||T.documentElement.scrollLeft,W=T.body.scrollTop||T.documentElement.scrollTop;return al(B,W)})(en.fromDom(y.document)).top,scrollBy:(S,T)=>{((B,W,K)=>{const ie=(K!==void 0?K.dom:document).defaultView;ie&&ie.scrollBy(B,W)})(S,T,en.fromDom(y.document))}}),tm=(y,S)=>({rows:y,cols:S}),Y1=y=>at(y,Xn).exists(xo),Fv=(y,S)=>Y1(y)||Y1(S),p2=y=>y.dom.classList!==void 0,oA=(y,S)=>((T,B,W)=>{const K=((ie,ue)=>{const Ee=On(ie,ue);return Ee===void 0||Ee===""?[]:Ee.split(" ")})(T,B).concat([W]);return _s(T,B,K.join(" ")),!0})(y,"class",S),nm=(y,S)=>{p2(y)?y.dom.classList.add(S):oA(y,S)},$v=(y,S)=>p2(y)&&y.dom.classList.contains(S),c_=()=>({tag:"none"}),u_=y=>({tag:"multiple",elements:y}),Cu=y=>({tag:"single",element:y}),b2=y=>{const S=en.fromDom((ue=>{if(O(ue.target)){const Ee=en.fromDom(ue.target);if(oo(Ee)&&O(Ee.dom.shadowRoot)&&ue.composed&&ue.composedPath){const ze=ue.composedPath();if(ze)return In(ze)}}return ne.from(ue.target)})(y).getOr(y.target)),T=()=>y.stopPropagation(),B=()=>y.preventDefault(),W=(K=B,ie=T,(...ue)=>K(ie.apply(null,ue)));var K,ie;return((ue,Ee,ze,Qe,Le,We,Ze)=>({target:ue,x:Ee,y:ze,stop:Qe,prevent:Le,kill:We,raw:Ze}))(S,y.clientX,y.clientY,T,B,W,y)},X1=(y,S,T,B)=>{y.dom.removeEventListener(S,T,B)},d_=fe,Ph=(y,S,T)=>((B,W,K,ie)=>((ue,Ee,ze,Qe,Le)=>{const We=((Ze,ut)=>gt=>{Ze(gt)&&ut(b2(gt))})(ze,Qe);return ue.dom.addEventListener(Ee,We,Le),{unbind:H(X1,ue,Ee,We,Le)}})(B,W,K,ie,!1))(y,S,d_,T),Up=b2,Vv=y=>!$v(en.fromDom(y.target),"ephox-snooker-resizer-bar"),f_=(y,S)=>{const T=(W=zf.selectedSelector,{get:()=>Lc(en.fromDom(y.getBody()),W).fold(()=>pr(Nc(y),Wr(y)).fold(c_,Cu),u_)}),B=((K,ie,ue)=>{const Ee=We=>{Do(We,K.selected),Do(We,K.firstSelected),Do(We,K.lastSelected)},ze=We=>{_s(We,K.selected,"1")},Qe=We=>{Le(We),ue()},Le=We=>{const Ze=Bs(We,`${K.selectedSelector},${K.firstSelectedSelector},${K.lastSelectedSelector}`);it(Ze,Ee)};return{clearBeforeUpdate:Le,clear:Qe,selectRange:(We,Ze,ut,gt)=>{Qe(We),it(Ze,ze),_s(ut,K.firstSelected,"1"),_s(gt,K.lastSelected,"1"),ie(Ze,ut,gt)},selectedSelector:K.selectedSelector,firstSelectedSelector:K.firstSelectedSelector,lastSelectedSelector:K.lastSelectedSelector}})(zf,(K,ie,ue)=>{_l(ie).each(Ee=>{const ze=R(K,Ze=>Ze.dom),Qe=qd(y),Le=or(U,en.fromDom(y.getDoc()),Qe),We=((Ze,ut,gt)=>{const Bt=Fo(Ze);return Jd(Bt,ut).map(Vt=>{const Mt=kr(Bt,gt,!1),{rows:Ht}=nr(Mt),tn=((ht,An)=>{const ro=ht.slice(0,An[An.length-1].row+1),Ro=cv(ro);return Me(Ro,go=>{const io=go.cells.slice(0,An[An.length-1].column+1);return R(io,Oo=>Oo.element)})})(Ht,Vt),an=((ht,An)=>{const ro=ht.slice(An[0].row+An[0].rowspan-1,ht.length),Ro=cv(ro);return Me(Ro,go=>{const io=go.cells.slice(An[0].column+An[0].colspan-1,go.cells.length);return R(io,Oo=>Oo.element)})})(Ht,Vt);return{upOrLeftCells:tn,downOrRightCells:an}})})(Ee,{selection:Mc(y)},Le).map(Ze=>Ke(Ze,ut=>R(ut,gt=>gt.dom))).getOrUndefined();((Ze,ut,gt,Bt,Vt)=>{Ze.dispatch("TableSelectionChange",{cells:ut,start:gt,finish:Bt,otherCells:Vt})})(y,ze,ie.dom,ue.dom,We)})},()=>(K=>{K.dispatch("TableSelectionClear")})(y));var W;return y.on("init",K=>{const ie=y.getWin(),ue=Ss(y),Ee=Wr(y),ze=((gt,Bt,Vt,Mt)=>{const Ht=((tn,an,ht,An)=>{const ro=j1(),Ro=ro.clear,go=io=>{ro.on(Oo=>{An.clearBeforeUpdate(an),Nv(io.target,ht).each(ts=>{pu(Oo,ts,ht).each(ri=>{const La=ri.boxes.getOr([]);if(La.length===1){const ea=La[0],gc=Fn(ea)==="false",fg=Xt(To(io.target),ea,Ks);gc&&fg&&An.selectRange(an,La,ea,ea)}else La.length>1&&(An.selectRange(an,La,ri.start,ri.finish),tn.selectContents(ts))})})})};return{clearstate:Ro,mousedown:io=>{An.clear(an),Nv(io.target,ht).filter(Z1).each(ro.set)},mouseover:io=>{go(io)},mouseup:io=>{go(io),Ro()}}})(h2(gt),Bt,Vt,Mt);return{clearstate:Ht.clearstate,mousedown:Ht.mousedown,mouseover:Ht.mouseover,mouseup:Ht.mouseup}})(ie,ue,Ee,B),Qe=((gt,Bt,Vt,Mt)=>{const Ht=h2(gt),tn=()=>(Mt.clear(Bt),ne.none());return{keydown:(an,ht,An,ro,Ro,go)=>{const io=an.raw,Oo=io.which,ts=io.shiftKey===!0;return iv(Bt,Mt.selectedSelector).fold(()=>(Ih(Oo)&&!ts&&Mt.clearBeforeUpdate(Bt),Ih(Oo)&&ts&&!Fv(ht,ro)?ne.none:Rh(Oo)&&ts?H(Ql,Ht,Bt,Vt,a_,ro,ht,Mt.selectRange):Mv(Oo)&&ts?H(Ql,Ht,Bt,Vt,Lv,ro,ht,Mt.selectRange):Rh(Oo)?H(rf,Ht,Vt,a_,ro,ht,lg):Mv(Oo)?H(rf,Ht,Vt,Lv,ro,ht,Vp):ne.none),La=>{const ea=gc=>()=>J(gc,Ma=>((fd,Kp,rm,jp,sy)=>ba(jp,fd,Kp,sy.firstSelectedSelector,sy.lastSelectedSelector).map(im=>(sy.clearBeforeUpdate(rm),sy.selectRange(rm,im.boxes,im.start,im.finish),im.boxes)))(Ma.rows,Ma.cols,Bt,La,Mt)).fold(()=>$f(Bt,Mt.firstSelectedSelector,Mt.lastSelectedSelector).map(Ma=>{const fd=Rh(Oo)||go.isForward(Oo)?$s.after:$s.before;return Ht.setRelativeSelection($s.on(Ma.first,0),fd(Ma.table)),Mt.clear(Bt),Er(ne.none(),!0)}),Ma=>ne.some(Er(ne.none(),!0)));return Ih(Oo)&&ts&&!Fv(ht,ro)?ne.none:Rh(Oo)&&ts?ea([tm(1,0)]):Mv(Oo)&&ts?ea([tm(-1,0)]):go.isBackward(Oo)&&ts?ea([tm(0,-1),tm(-1,0)]):go.isForward(Oo)&&ts?ea([tm(0,1),tm(1,0)]):Ih(Oo)&&!ts?tn:ne.none})()},keyup:(an,ht,An,ro,Ro)=>iv(Bt,Mt.selectedSelector).fold(()=>{const go=an.raw,io=go.which;return go.shiftKey===!0&&Ih(io)&&Fv(ht,ro)?((Oo,ts,ri,La,ea,gc,fg)=>Ks(ri,ea)&&La===gc?ne.none():ot(ri,"td,th",ts).bind(Ma=>ot(ea,"td,th",ts).bind(fd=>kv(Oo,ts,Ma,fd,fg))))(Bt,Vt,ht,An,ro,Ro,Mt.selectRange):ne.none()},ne.none)}})(ie,ue,Ee,B),Le=((gt,Bt,Vt,Mt)=>{const Ht=h2(gt);return(tn,an)=>{Mt.clearBeforeUpdate(Bt),pu(tn,an,Vt).each(ht=>{const An=ht.boxes.getOr([]);Mt.selectRange(Bt,An,ht.start,ht.finish),Ht.selectContents(an),Ht.collapseSelection()})}})(ie,ue,Ee,B);y.on("TableSelectorChange",gt=>Le(gt.start,gt.finish));const We=(gt,Bt)=>{(Vt=>Vt.raw.shiftKey===!0)(gt)&&(Bt.kill&&gt.kill(),Bt.selection.each(Vt=>{const Mt=Jf.relative(Vt.start,Vt.finish),Ht=i2(ie,Mt);y.selection.setRng(Ht)}))},Ze=gt=>gt.button===0,ut=(()=>{const gt=K1(en.fromDom(ue)),Bt=K1(0);return{touchEnd:Vt=>{const Mt=en.fromDom(Vt.target);if(ds("td")(Mt)||ds("th")(Mt)){const Ht=gt.get(),tn=Bt.get();Ks(Ht,Mt)&&Vt.timeStamp-tn<300&&(Vt.preventDefault(),Le(Mt,Mt))}gt.set(Mt),Bt.set(Vt.timeStamp)}}})();y.on("dragstart",gt=>{ze.clearstate()}),y.on("mousedown",gt=>{Ze(gt)&&Vv(gt)&&ze.mousedown(Up(gt))}),y.on("mouseover",gt=>{var Bt;(Bt=gt).buttons!==void 0&&(1&Bt.buttons)==0||!Vv(gt)||ze.mouseover(Up(gt))}),y.on("mouseup",gt=>{Ze(gt)&&Vv(gt)&&ze.mouseup(Up(gt))}),y.on("touchend",ut.touchEnd),y.on("keyup",gt=>{const Bt=Up(gt);if(Bt.raw.shiftKey&&Ih(Bt.raw.which)){const Vt=y.selection.getRng(),Mt=en.fromDom(Vt.startContainer),Ht=en.fromDom(Vt.endContainer);Qe.keyup(Bt,Mt,Vt.startOffset,Ht,Vt.endOffset).each(tn=>{We(Bt,tn)})}}),y.on("keydown",gt=>{const Bt=Up(gt);S.hide();const Vt=y.selection.getRng(),Mt=en.fromDom(Vt.startContainer),Ht=en.fromDom(Vt.endContainer),tn=Ko(Yf,Xf)(en.fromDom(y.selection.getStart()));Qe.keydown(Bt,Mt,Vt.startOffset,Ht,Vt.endOffset,tn).each(an=>{We(Bt,an)}),S.show()}),y.on("NodeChange",()=>{const gt=y.selection,Bt=en.fromDom(gt.getStart()),Vt=en.fromDom(gt.getEnd());Ff(_l,[Bt,Vt]).fold(()=>B.clear(ue),U)})}),y.on("PreInit",()=>{y.serializer.addTempAttr(zf.firstSelected),y.serializer.addTempAttr(zf.lastSelected)}),{getSelectedCells:()=>((K,ie,ue,Ee)=>{switch(K.tag){case"none":return ie();case"single":return(ze=>[ze.dom])(K.element);case"multiple":return(ze=>R(ze,Qe=>Qe.dom))(K.elements)}})(T.get(),Z([])),clearSelectedCells:K=>B.clear(en.fromDom(K))}},_u=y=>{let S=[];return{bind:T=>{if(T===void 0)throw new Error("Event bind error: undefined handler");S.push(T)},unbind:T=>{S=Lt(S,B=>B!==T)},trigger:(...T)=>{const B={};it(y,(W,K)=>{B[W]=T[K]}),it(S,W=>{W(B)})}}},cg=y=>({registry:Ke(y,S=>({bind:S.bind,unbind:S.unbind})),trigger:Ke(y,S=>S.trigger)}),zv=y=>y.slice(0).sort(),Hv=(y,S)=>{const T=Lt(S,B=>!rt(y,B));T.length>0&&(B=>{throw new Error("Unsupported keys for object: "+zv(B).join(", "))})(T)},J1=y=>((S,T)=>((B,W,K)=>{if(W.length===0)throw new Error("You must specify at least one required field.");return((ie,ue)=>{if(!x(ue))throw new Error("The "+ie+" fields must be an array. Was: "+ue+".");it(ue,Ee=>{if(!g(Ee))throw new Error("The value "+Ee+" in the "+ie+" fields was not a string.")})})("required",W),(ie=>{const ue=zv(ie);Sn(ue,(Ee,ze)=>ze<ue.length-1&&Ee===ue[ze+1]).each(Ee=>{throw new Error("The field: "+Ee+" occurs more than once in the combined fields: ["+ue.join(", ")+"].")})})(W),ie=>{const ue=fo(ie);ft(W,ze=>rt(ue,ze))||((ze,Qe)=>{throw new Error("All required keys ("+zv(ze).join(", ")+") were not specified. Specified keys were: "+zv(Qe).join(", ")+".")})(W,ue),B(W,ue);const Ee=Lt(W,ze=>!K.validate(ie[ze],ze));return Ee.length>0&&((ze,Qe)=>{throw new Error("All values need to be of type: "+Qe+". Keys ("+zv(ze).join(", ")+") were not.")})(Ee,K.label),ie}})(S,T,{validate:N,label:"function"}))(Hv,y),Uv=J1(["compare","extract","mutate","sink"]),wa=J1(["element","start","stop","destroy"]),Q1=J1(["forceDrop","drop","move","delayDrop"]),ug=()=>{const y=(()=>{const B=cg({move:_u(["info"])});return{onEvent:U,reset:U,events:B.registry}})(),S=(()=>{let B=ne.none();const W=cg({move:_u(["info"])});return{onEvent:(K,ie)=>{ie.extract(K).each(ue=>{((ze,Qe)=>{const Le=B.map(We=>ze.compare(We,Qe));return B=ne.some(Qe),Le})(ie,ue).each(ze=>{W.trigger.move(ze)})})},reset:()=>{B=ne.none()},events:W.registry}})();let T=y;return{on:()=>{T.reset(),T=S},off:()=>{T.reset(),T=y},isOn:()=>T===S,onEvent:(B,W)=>{T.onEvent(B,W)},events:S.events}},dg=y=>{const S=y.replace(/\./g,"-");return{resolve:T=>S+"-"+T}},Wv=dg("ephox-dragster").resolve;var ey=Uv({compare:(y,S)=>al(S.left-y.left,S.top-y.top),extract:y=>ne.some(al(y.x,y.y)),sink:(y,S)=>{const T=(ue=>{const Ee={layerClass:Wv("blocker"),...ue},ze=en.fromTag("div");return _s(ze,"role","presentation"),ql(ze,{position:"fixed",left:"0px",top:"0px",width:"100%",height:"100%"}),nm(ze,Wv("blocker")),nm(ze,Ee.layerClass),{element:Z(ze),destroy:()=>{lr(ze)}}})(S),B=Ph(T.element(),"mousedown",y.forceDrop),W=Ph(T.element(),"mouseup",y.drop),K=Ph(T.element(),"mousemove",y.move),ie=Ph(T.element(),"mouseout",y.delayDrop);return wa({element:T.element,start:ue=>{hr(ue,T.element())},stop:()=>{lr(T.element())},destroy:()=>{T.destroy(),W.unbind(),K.unbind(),ie.unbind(),B.unbind()}})},mutate:(y,S)=>{y.mutate(S.left,S.top)}});const Nh=dg("ephox-snooker").resolve,om=Nh("resizer-bar"),v2=Nh("resizer-rows"),ty=Nh("resizer-cols"),ml=y=>{const S=Bs(y.parent(),"."+om);it(S,lr)},sm=(y,S,T)=>{const B=y.origin();it(S,W=>{W.each(K=>{const ie=T(B,K);nm(ie,om),hr(y.parent(),ie)})})},y2=(y,S,T,B,W)=>{const K=Pf(T),ie=S.isResizable,ue=B.length>0?ed.positions(B,T):[],Ee=ue.length>0?((Le,We)=>Me(Le.all,(Ze,ut)=>We(Ze.element)?[ut]:[]))(y,ie):[];((Le,We,Ze,ut)=>{sm(Le,We,(gt,Bt)=>{const Vt=((Mt,Ht,tn,an,ht)=>{const An=en.fromTag("div");return ql(An,{position:"absolute",left:Ht+"px",top:tn-3.5+"px",height:"7px",width:an+"px"}),Zi(An,{"data-row":Mt,role:"presentation"}),An})(Bt.row,Ze.left-gt.left,Bt.y-gt.top,ut);return nm(Vt,v2),Vt})})(S,Lt(ue,(Le,We)=>xe(Ee,Ze=>We===Ze)),K,rh(T));const ze=W.length>0?Nf.positions(W,T):[],Qe=ze.length>0?((Le,We)=>{const Ze=[];return _e(Le.grid.columns,ut=>{Rs(Le,ut).map(gt=>gt.element).forall(We)&&Ze.push(ut)}),Lt(Ze,ut=>{const gt=qi(Le,Bt=>Bt.column===ut);return ft(gt,Bt=>We(Bt.element))})})(y,ie):[];((Le,We,Ze,ut)=>{sm(Le,We,(gt,Bt)=>{const Vt=((Mt,Ht,tn,an,ht)=>{const An=en.fromTag("div");return ql(An,{position:"absolute",left:Ht-3.5+"px",top:tn+"px",height:ht+"px",width:"7px"}),Zi(An,{"data-column":Mt,role:"presentation"}),An})(Bt.col,Bt.x-gt.left,Ze.top-gt.top,0,ut);return nm(Vt,ty),Vt})})(S,Lt(ze,(Le,We)=>xe(Qe,Ze=>We===Ze)),K,Xb(T))},At=(y,S)=>{if(ml(y),y.isResizable(S)){const T=Fo(S),B=jd(T),W=Cp(T);y2(T,y,S,B,W)}},Wp=(y,S)=>{const T=Bs(y.parent(),"."+om);it(T,S)},sA=y=>{Wp(y,S=>{Lo(S,"display","none")})},m_=y=>{Wp(y,S=>{Lo(S,"display","block")})},ny=Nh("resizer-bar-dragging"),Su=y=>{const S=(()=>{const Le=cg({drag:_u(["xDelta","yDelta","target"])});let We=ne.none();const Ze=(()=>{const ut=cg({drag:_u(["xDelta","yDelta"])});return{mutate:(gt,Bt)=>{ut.trigger.drag(gt,Bt)},events:ut.registry}})();return Ze.events.drag.bind(ut=>{We.each(gt=>{Le.trigger.drag(ut.xDelta,ut.yDelta,gt)})}),{assign:ut=>{We=ne.some(ut)},get:()=>We,mutate:Ze.mutate,events:Le.registry}})(),T=((Le,We={})=>{var Ze;return((ut,gt,Bt)=>{let Vt=!1;const Mt=cg({start:_u([]),stop:_u([])}),Ht=ug(),tn=()=>{An.stop(),Ht.isOn()&&(Ht.off(),Mt.trigger.stop())},an=((ro,Ro)=>{let go=null;const io=()=>{w(go)||(clearTimeout(go),go=null)};return{cancel:io,throttle:(...Oo)=>{io(),go=setTimeout(()=>{go=null,ro.apply(null,Oo)},200)}}})(tn);Ht.events.move.bind(ro=>{gt.mutate(ut,ro.info)});const ht=ro=>(...Ro)=>{Vt&&ro.apply(null,Ro)},An=gt.sink(Q1({forceDrop:tn,drop:ht(tn),move:ht(ro=>{an.cancel(),Ht.onEvent(ro,gt)}),delayDrop:ht(an.throttle)}),Bt);return{element:An.element,go:ro=>{An.start(ro),Ht.on(),Mt.trigger.start()},on:()=>{Vt=!0},off:()=>{Vt=!1},isActive:()=>Vt,destroy:()=>{An.destroy()},events:Mt.registry}})(Le,(Ze=We.mode)!==null&&Ze!==void 0?Ze:ey,We)})(S,{});let B=ne.none();const W=(Le,We)=>ne.from(On(Le,We));S.events.drag.bind(Le=>{W(Le.target,"data-row").each(We=>{const Ze=Bm(Le.target,"top");Lo(Le.target,"top",Ze+Le.yDelta+"px")}),W(Le.target,"data-column").each(We=>{const Ze=Bm(Le.target,"left");Lo(Le.target,"left",Ze+Le.xDelta+"px")})});const K=(Le,We)=>Bm(Le,We)-Ar(Le,"data-initial-"+We,0);T.events.stop.bind(()=>{S.get().each(Le=>{B.each(We=>{W(Le,"data-row").each(Ze=>{const ut=K(Le,"top");Do(Le,"data-initial-top"),Qe.trigger.adjustHeight(We,ut,parseInt(Ze,10))}),W(Le,"data-column").each(Ze=>{const ut=K(Le,"left");Do(Le,"data-initial-left"),Qe.trigger.adjustWidth(We,ut,parseInt(Ze,10))}),At(y,We)})})});const ie=(Le,We)=>{Qe.trigger.startAdjust(),S.assign(Le),_s(Le,"data-initial-"+We,Bm(Le,We)),nm(Le,ny),Lo(Le,"opacity","0.2"),T.go(y.parent())},ue=Ph(y.parent(),"mousedown",Le=>{var We;We=Le.target,$v(We,v2)&&ie(Le.target,"top"),(Ze=>$v(Ze,ty))(Le.target)&&ie(Le.target,"left")}),Ee=Le=>Ks(Le,y.view()),ze=Ph(y.view(),"mouseover",Le=>{var We;(We=Le.target,ot(We,"table",Ee).filter(xo)).fold(()=>{sl(Le.target)&&ml(y)},Ze=>{T.isActive()&&(B=ne.some(Ze),At(y,Ze))})}),Qe=cg({adjustHeight:_u(["table","delta","row"]),adjustWidth:_u(["table","delta","column"]),startAdjust:_u([])});return{destroy:()=>{ue.unbind(),ze.unbind(),T.destroy(),ml(y)},refresh:Le=>{At(y,Le)},on:T.on,off:T.off,hideBars:H(sA,y),showBars:H(m_,y),events:Qe.registry}},oy=y=>O(y)&&y.nodeName==="TABLE",Kv="bar-",x2=y=>On(y,"data-mce-resize")!=="false",w2=y=>{const S=j1(),T=j1(),B=j1();let W,K,ie,ue;const Ee=Le=>Zf(y,Le),ze=()=>dh(y)?x1():ld(),Qe=(Le,We,Ze,ut)=>{const gt=(Mt=>{return Ao(Ht=Mt,"corner-")?((tn,an)=>tn.substring(7))(Ht):Ht;var Ht})(We),Bt=fn(gt,"e"),Vt=Ao(gt,"n");if(K===""&&_h(Le),ue===""&&(Mt=>{const Ht=(tn=>Zd(tn)+"px")(Mt);Js(Mt,ne.none(),ne.some(Ht)),xu(Mt)})(Le),Ze!==W&&K!==""){Lo(Le,"width",K);const Mt=ze(),Ht=Ee(Le),tn=dh(y)||Bt?(an=>vu(an).columns)(Le)-1:0;Qd(Le,Ze-W,tn,Mt,Ht)}else if((Mt=>/^(\d+(\.\d+)?)%$/.test(Mt))(K)){const Mt=parseFloat(K.replace("%",""));Lo(Le,"width",Ze*Mt/W+"%")}if((Mt=>/^(\d+(\.\d+)?)px$/.test(Mt))(K)&&(Mt=>{const Ht=Fo(Mt);Ic(Ht)||it(Tr(Mt),tn=>{const an=Ia(tn,"width");Lo(tn,"width",an),Do(tn,"width")})})(Le),ut!==ie&&ue!==""){Lo(Le,"height",ue);const Mt=Vt?0:(Ht=>vu(Ht).rows)(Le)-1;hh(Le,ut-ie,Mt)}};return y.on("init",()=>{const Le=((We,Ze)=>We.inline?((ut,gt,Bt)=>({parent:Z(gt),view:Z(ut),origin:Z(al(0,0)),isResizable:Bt}))(en.fromDom(We.getBody()),(()=>{const ut=en.fromTag("div");return ql(ut,{position:"static",height:"0",width:"0",padding:"0",margin:"0",border:"0"}),hr(ru(en.fromDom(document)),ut),ut})(),Ze):((ut,gt)=>{const Bt=No(ut)?(Vt=>en.fromDom(Tc(Vt).dom.documentElement))(ut):ut;return{parent:Z(Bt),view:Z(ut),origin:Z(al(0,0)),isResizable:gt}})(en.fromDom(We.getDoc()),Ze))(y,x2);if(B.set(Le),(We=>{const Ze=We.options.get("object_resizing");return rt(Ze.split(","),"table")})(y)&&ce(y)){const We=((Ze,ut,gt)=>{const Bt=ed,Vt=Nf,Mt=Su(Ze),Ht=cg({beforeResize:_u(["table","type"]),afterResize:_u(["table","type"]),startDrag:_u([])});return Mt.events.adjustHeight.bind(tn=>{const an=tn.table;Ht.trigger.beforeResize(an,"row");const ht=Bt.delta(tn.delta,an);hh(an,ht,tn.row),Ht.trigger.afterResize(an,"row")}),Mt.events.startAdjust.bind(tn=>{Ht.trigger.startDrag()}),Mt.events.adjustWidth.bind(tn=>{const an=tn.table;Ht.trigger.beforeResize(an,"col");const ht=Vt.delta(tn.delta,an),An=gt(an);Qd(an,ht,tn.column,ut,An),Ht.trigger.afterResize(an,"col")}),{on:Mt.on,off:Mt.off,refreshBars:Mt.refresh,hideBars:Mt.hideBars,showBars:Mt.showBars,destroy:Mt.destroy,events:Ht.registry}})(Le,ze(),Ee);We.on(),We.events.startDrag.bind(Ze=>{S.set(y.selection.getRng())}),We.events.beforeResize.bind(Ze=>{const ut=Ze.table.dom;((gt,Bt,Vt,Mt,Ht)=>{gt.dispatch("ObjectResizeStart",{target:Bt,width:Vt,height:Mt,origin:Ht})})(y,ut,jm(ut),Zm(ut),Kv+Ze.type)}),We.events.afterResize.bind(Ze=>{const ut=Ze.table,gt=ut.dom;Sr(ut),S.on(Bt=>{y.selection.setRng(Bt),y.focus()}),((Bt,Vt,Mt,Ht,tn)=>{Bt.dispatch("ObjectResized",{target:Vt,width:Mt,height:Ht,origin:tn})})(y,gt,jm(gt),Zm(gt),Kv+Ze.type),y.undoManager.add()}),T.set(We)}}),y.on("ObjectResizeStart",Le=>{const We=Le.target;if(oy(We)){const Ze=en.fromDom(We);it(y.dom.select(".mce-clonedresizable"),ut=>{y.dom.addClass(ut,"mce-"+uh(y)+"-columns")}),!fr(Ze)&&L(y)?Tl(Ze):!F1(Ze)&&id(y)&&_h(Ze),ud(Ze)&&Ao(Le.origin,Kv)&&_h(Ze),W=Le.width,K=G(y)?"":KC(y,We).getOr(""),ie=Le.height,ue=ov(y,We).getOr("")}}),y.on("ObjectResized",Le=>{const We=Le.target;if(oy(We)){const Ze=en.fromDom(We),ut=Le.origin;(gt=>Ao(gt,"corner-"))(ut)&&Qe(Ze,ut,Le.width,Le.height),Sr(Ze),tf(y,Ze.dom,L1)}}),y.on("SwitchMode",()=>{T.on(Le=>{y.mode.isReadOnly()?Le.hideBars():Le.showBars()})}),y.on("dragstart dragend",Le=>{T.on(We=>{Le.type==="dragstart"?(We.hideBars(),We.off()):(We.on(),We.showBars())})}),y.on("remove",()=>{T.on(Le=>{Le.destroy()}),B.on(Le=>{((We,Ze)=>{We.inline&&lr(Ze.parent())})(y,Le)})}),{refresh:Le=>{T.on(We=>We.refreshBars(en.fromDom(Le)))},hide:()=>{T.on(Le=>Le.hideBars())},show:()=>{T.on(Le=>Le.showBars())}}},rA=y=>{(W=>{const K=W.options.register;K("table_clone_elements",{processor:"string[]"}),K("table_use_colgroups",{processor:"boolean",default:!0}),K("table_header_type",{processor:ie=>{const ue=rt(["section","cells","sectionCells","auto"],ie);return ue?{value:ie,valid:ue}:{valid:!1,message:"Must be one of: section, cells, sectionCells or auto."}},default:"section"}),K("table_sizing_mode",{processor:"string",default:"auto"}),K("table_default_attributes",{processor:"object",default:{border:"1"}}),K("table_default_styles",{processor:"object",default:{"border-collapse":"collapse"}}),K("table_column_resizing",{processor:ie=>{const ue=rt(["preservetable","resizetable"],ie);return ue?{value:ie,valid:ue}:{valid:!1,message:"Must be preservetable, or resizetable."}},default:"preservetable"}),K("table_resize_bars",{processor:"boolean",default:!0}),K("table_style_by_css",{processor:"boolean",default:!0}),K("table_merge_content_on_paste",{processor:"boolean",default:!0})})(y);const S=w2(y),T=f_(y,S),B=e2(y,S,T);return Pr(y,B),((W,K)=>{const ie=Wr(W),ue=Ee=>pr(Nc(W)).bind(ze=>_l(ze,ie).map(Qe=>{const Le=Mo(Mc(W),Qe,ze);return Ee(Qe,Le)})).getOr("");bn({mceTableRowType:()=>ue(K.getTableRowType),mceTableCellType:()=>ue(K.getTableCellType),mceTableColType:()=>ue(K.getTableColType)},(Ee,ze)=>W.addQueryValueHandler(ze,Ee))})(y,B),Bc(y,B),{getSelectedCells:T.getSelectedCells,clearSelectedCells:T.clearSelectedCells}};t.add("dom",y=>({table:rA(y)}))})();tinymce.Resource.add("ui/default/skin.css",`.tox{box-shadow:none;box-sizing:content-box;color:#222f3e;cursor:auto;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:16px;font-style:normal;font-weight:400;line-height:normal;-webkit-tap-highlight-color:transparent;-webkit-text-decoration:none;text-decoration:none;text-shadow:none;text-transform:none;vertical-align:initial;white-space:normal}.tox :not(svg):not(rect){box-sizing:inherit;color:inherit;cursor:inherit;direction:inherit;font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;line-height:inherit;-webkit-tap-highlight-color:inherit;text-align:inherit;text-decoration:inherit;text-shadow:inherit;text-transform:inherit;vertical-align:inherit;white-space:inherit}.tox :not(svg):not(rect){background:0 0;border:0;box-shadow:none;float:none;height:auto;margin:0;max-width:none;outline:0;padding:0;position:static;width:auto}.tox:not([dir=rtl]){direction:ltr;text-align:left}.tox[dir=rtl]{direction:rtl;text-align:right}.tox-tinymce{border:2px solid #eee;border-radius:10px;box-shadow:none;box-sizing:border-box;display:flex;flex-direction:column;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;overflow:hidden;position:relative;visibility:inherit!important}.tox.tox-tinymce-inline{border:none;box-shadow:none;overflow:initial}.tox.tox-tinymce-inline .tox-editor-container{overflow:initial}.tox.tox-tinymce-inline .tox-editor-header{background-color:#fff;border:2px solid #eee;border-radius:10px;box-shadow:none;overflow:hidden}.tox-tinymce-aux{font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;z-index:1300}.tox-tinymce :focus,.tox-tinymce-aux :focus{outline:0}button::-moz-focus-inner{border:0}.tox[dir=rtl] .tox-icon--flip svg{transform:rotateY(180deg)}.tox .accessibility-issue__header{align-items:center;display:flex;margin-bottom:4px}.tox .accessibility-issue__description{align-items:stretch;border-radius:6px;display:flex;justify-content:space-between}.tox .accessibility-issue__description>div{padding-bottom:4px}.tox .accessibility-issue__description>div>div{align-items:center;display:flex;margin-bottom:4px}.tox .accessibility-issue__description>div>div .tox-icon svg{display:block}.tox .accessibility-issue__repair{margin-top:16px}.tox .tox-dialog__body-content .accessibility-issue--info .accessibility-issue__description{background-color:rgba(0,101,216,.1);color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--info .tox-form__group h2{color:#006ce7}.tox .tox-dialog__body-content .accessibility-issue--info .tox-icon svg{fill:#006ce7}.tox .tox-dialog__body-content .accessibility-issue--info a.tox-button--naked.tox-button--icon{background-color:#006ce7;color:#fff}.tox .tox-dialog__body-content .accessibility-issue--info a.tox-button--naked.tox-button--icon:focus,.tox .tox-dialog__body-content .accessibility-issue--info a.tox-button--naked.tox-button--icon:hover{background-color:#0060ce}.tox .tox-dialog__body-content .accessibility-issue--info a.tox-button--naked.tox-button--icon:active{background-color:#0054b4}.tox .tox-dialog__body-content .accessibility-issue--warn .accessibility-issue__description{background-color:rgba(255,165,0,.08);color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--warn .tox-form__group h2{color:#8f5d00}.tox .tox-dialog__body-content .accessibility-issue--warn .tox-icon svg{fill:#8f5d00}.tox .tox-dialog__body-content .accessibility-issue--warn a.tox-button--naked.tox-button--icon{background-color:#ffe89d;color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--warn a.tox-button--naked.tox-button--icon:focus,.tox .tox-dialog__body-content .accessibility-issue--warn a.tox-button--naked.tox-button--icon:hover{background-color:#f2d574;color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--warn a.tox-button--naked.tox-button--icon:active{background-color:#e8c657;color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--error .accessibility-issue__description{background-color:rgba(204,0,0,.1);color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--error .tox-form__group h2{color:#c00}.tox .tox-dialog__body-content .accessibility-issue--error .tox-icon svg{fill:#c00}.tox .tox-dialog__body-content .accessibility-issue--error a.tox-button--naked.tox-button--icon{background-color:#f2bfbf;color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--error a.tox-button--naked.tox-button--icon:focus,.tox .tox-dialog__body-content .accessibility-issue--error a.tox-button--naked.tox-button--icon:hover{background-color:#e9a4a4;color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--error a.tox-button--naked.tox-button--icon:active{background-color:#ee9494;color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--success .accessibility-issue__description{background-color:rgba(120,171,70,.1);color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--success .accessibility-issue__description>:last-child{display:none}.tox .tox-dialog__body-content .accessibility-issue--success .tox-form__group h2{color:#527530}.tox .tox-dialog__body-content .accessibility-issue--success .tox-icon svg{fill:#527530}.tox .tox-dialog__body-content .accessibility-issue__header .tox-form__group h1,.tox .tox-dialog__body-content .tox-form__group .accessibility-issue__description h2{font-size:14px;margin-top:0}.tox:not([dir=rtl]) .tox-dialog__body-content .accessibility-issue__header .tox-button{margin-left:4px}.tox:not([dir=rtl]) .tox-dialog__body-content .accessibility-issue__header>:nth-last-child(2){margin-left:auto}.tox:not([dir=rtl]) .tox-dialog__body-content .accessibility-issue__description{padding:4px 4px 4px 8px}.tox[dir=rtl] .tox-dialog__body-content .accessibility-issue__header .tox-button{margin-right:4px}.tox[dir=rtl] .tox-dialog__body-content .accessibility-issue__header>:nth-last-child(2){margin-right:auto}.tox[dir=rtl] .tox-dialog__body-content .accessibility-issue__description{padding:4px 8px 4px 4px}.tox .mce-codemirror{background:#fff;bottom:0;font-size:13px;left:0;position:absolute;right:0;top:0;z-index:1}.tox .mce-codemirror.tox-inline-codemirror{margin:8px;position:absolute}.tox .tox-advtemplate .tox-form__grid{flex:1}.tox .tox-advtemplate .tox-form__grid>div:first-child{display:flex;flex-direction:column;width:30%}.tox .tox-advtemplate .tox-form__grid>div:first-child>div:nth-child(2){flex-basis:0;flex-grow:1;overflow:auto}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox .tox-advtemplate .tox-form__grid>div:first-child{width:100%}}.tox .tox-advtemplate iframe{border-color:#eee;border-radius:10px;border-style:solid;border-width:1px;margin:0 10px}.tox .tox-anchorbar{display:flex;flex:0 0 auto}.tox .tox-bottom-anchorbar{display:flex;flex:0 0 auto}.tox .tox-bar{display:flex;flex:0 0 auto}.tox .tox-button{background-color:#006ce7;background-image:none;background-position:0 0;background-repeat:repeat;border-color:#006ce7;border-radius:6px;border-style:solid;border-width:1px;box-shadow:none;box-sizing:border-box;color:#fff;cursor:pointer;display:inline-block;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:14px;font-style:normal;font-weight:700;letter-spacing:normal;line-height:24px;margin:0;outline:0;padding:4px 16px;position:relative;text-align:center;-webkit-text-decoration:none;text-decoration:none;text-transform:none;white-space:nowrap}.tox .tox-button::before{border-radius:6px;bottom:-1px;box-shadow:inset 0 0 0 1px #fff,0 0 0 2px #006ce7;content:'';left:-1px;opacity:0;pointer-events:none;position:absolute;right:-1px;top:-1px}.tox .tox-button[disabled]{background-color:#006ce7;background-image:none;border-color:#006ce7;box-shadow:none;color:rgba(255,255,255,.5);cursor:not-allowed}.tox .tox-button:focus:not(:disabled){background-color:#0060ce;background-image:none;border-color:#0060ce;box-shadow:none;color:#fff}.tox .tox-button:focus:not(:disabled)::before{opacity:1}.tox .tox-button:hover:not(:disabled){background-color:#0060ce;background-image:none;border-color:#0060ce;box-shadow:none;color:#fff}.tox .tox-button:active:not(:disabled){background-color:#0054b4;background-image:none;border-color:#0054b4;box-shadow:none;color:#fff}.tox .tox-button.tox-button--enabled{background-color:#0054b4;background-image:none;border-color:#0054b4;box-shadow:none;color:#fff}.tox .tox-button.tox-button--enabled[disabled]{background-color:#0054b4;background-image:none;border-color:#0054b4;box-shadow:none;color:rgba(255,255,255,.5);cursor:not-allowed}.tox .tox-button.tox-button--enabled:focus:not(:disabled){background-color:#00489b;background-image:none;border-color:#00489b;box-shadow:none;color:#fff}.tox .tox-button.tox-button--enabled:hover:not(:disabled){background-color:#00489b;background-image:none;border-color:#00489b;box-shadow:none;color:#fff}.tox .tox-button.tox-button--enabled:active:not(:disabled){background-color:#003c81;background-image:none;border-color:#003c81;box-shadow:none;color:#fff}.tox .tox-button--icon-and-text,.tox .tox-button.tox-button--icon-and-text,.tox .tox-button.tox-button--secondary.tox-button--icon-and-text{display:flex;padding:5px 4px}.tox .tox-button--icon-and-text .tox-icon svg,.tox .tox-button.tox-button--icon-and-text .tox-icon svg,.tox .tox-button.tox-button--secondary.tox-button--icon-and-text .tox-icon svg{display:block;fill:currentColor}.tox .tox-button--secondary{background-color:#f0f0f0;background-image:none;background-position:0 0;background-repeat:repeat;border-color:#f0f0f0;border-radius:6px;border-style:solid;border-width:1px;box-shadow:none;color:#222f3e;font-size:14px;font-style:normal;font-weight:700;letter-spacing:normal;outline:0;padding:4px 16px;-webkit-text-decoration:none;text-decoration:none;text-transform:none}.tox .tox-button--secondary[disabled]{background-color:#f0f0f0;background-image:none;border-color:#f0f0f0;box-shadow:none;color:rgba(34,47,62,.5)}.tox .tox-button--secondary:focus:not(:disabled){background-color:#e3e3e3;background-image:none;border-color:#e3e3e3;box-shadow:none;color:#222f3e}.tox .tox-button--secondary:hover:not(:disabled){background-color:#e3e3e3;background-image:none;border-color:#e3e3e3;box-shadow:none;color:#222f3e}.tox .tox-button--secondary:active:not(:disabled){background-color:#d6d6d6;background-image:none;border-color:#d6d6d6;box-shadow:none;color:#222f3e}.tox .tox-button--secondary.tox-button--enabled{background-color:#a8c8ed;background-image:none;border-color:#a8c8ed;box-shadow:none;color:#222f3e}.tox .tox-button--secondary.tox-button--enabled[disabled]{background-color:#a8c8ed;background-image:none;border-color:#a8c8ed;box-shadow:none;color:rgba(34,47,62,.5)}.tox .tox-button--secondary.tox-button--enabled:focus:not(:disabled){background-color:#93bbe9;background-image:none;border-color:#93bbe9;box-shadow:none;color:#222f3e}.tox .tox-button--secondary.tox-button--enabled:hover:not(:disabled){background-color:#93bbe9;background-image:none;border-color:#93bbe9;box-shadow:none;color:#222f3e}.tox .tox-button--secondary.tox-button--enabled:active:not(:disabled){background-color:#7daee4;background-image:none;border-color:#7daee4;box-shadow:none;color:#222f3e}.tox .tox-button--icon,.tox .tox-button.tox-button--icon,.tox .tox-button.tox-button--secondary.tox-button--icon{padding:4px}.tox .tox-button--icon .tox-icon svg,.tox .tox-button.tox-button--icon .tox-icon svg,.tox .tox-button.tox-button--secondary.tox-button--icon .tox-icon svg{display:block;fill:currentColor}.tox .tox-button-link{background:0;border:none;box-sizing:border-box;cursor:pointer;display:inline-block;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:16px;font-weight:400;line-height:1.3;margin:0;padding:0;white-space:nowrap}.tox .tox-button-link--sm{font-size:14px}.tox .tox-button--naked{background-color:transparent;border-color:transparent;box-shadow:unset;color:#222f3e}.tox .tox-button--naked[disabled]{background-color:rgba(34,47,62,.12);border-color:transparent;box-shadow:unset;color:rgba(34,47,62,.5)}.tox .tox-button--naked:hover:not(:disabled){background-color:rgba(34,47,62,.12);border-color:transparent;box-shadow:unset;color:#222f3e}.tox .tox-button--naked:focus:not(:disabled){background-color:rgba(34,47,62,.12);border-color:transparent;box-shadow:unset;color:#222f3e}.tox .tox-button--naked:active:not(:disabled){background-color:rgba(34,47,62,.18);border-color:transparent;box-shadow:unset;color:#222f3e}.tox .tox-button--naked .tox-icon svg{fill:currentColor}.tox .tox-button--naked.tox-button--icon:hover:not(:disabled){color:#222f3e}.tox .tox-checkbox{align-items:center;border-radius:6px;cursor:pointer;display:flex;height:36px;min-width:36px}.tox .tox-checkbox__input{height:1px;overflow:hidden;position:absolute;top:auto;width:1px}.tox .tox-checkbox__icons{align-items:center;border-radius:6px;box-shadow:0 0 0 2px transparent;box-sizing:content-box;display:flex;height:24px;justify-content:center;padding:calc(4px - 1px);width:24px}.tox .tox-checkbox__icons .tox-checkbox-icon__unchecked svg{display:block;fill:rgba(34,47,62,0.3)}@media (forced-colors:active){.tox .tox-checkbox__icons .tox-checkbox-icon__unchecked svg{fill:currentColor!important}}.tox .tox-checkbox__icons .tox-checkbox-icon__indeterminate svg{display:none;fill:#006ce7}.tox .tox-checkbox__icons .tox-checkbox-icon__checked svg{display:none;fill:#006ce7}.tox .tox-checkbox--disabled{color:rgba(34,47,62,.5);cursor:not-allowed}.tox .tox-checkbox--disabled .tox-checkbox__icons .tox-checkbox-icon__checked svg{fill:rgba(34,47,62,0.5)}.tox .tox-checkbox--disabled .tox-checkbox__icons .tox-checkbox-icon__unchecked svg{fill:rgba(34,47,62,0.5)}.tox .tox-checkbox--disabled .tox-checkbox__icons .tox-checkbox-icon__indeterminate svg{fill:rgba(34,47,62,0.5)}.tox input.tox-checkbox__input:checked+.tox-checkbox__icons .tox-checkbox-icon__unchecked svg{display:none}.tox input.tox-checkbox__input:checked+.tox-checkbox__icons .tox-checkbox-icon__checked svg{display:block}.tox input.tox-checkbox__input:indeterminate+.tox-checkbox__icons .tox-checkbox-icon__unchecked svg{display:none}.tox input.tox-checkbox__input:indeterminate+.tox-checkbox__icons .tox-checkbox-icon__indeterminate svg{display:block}.tox input.tox-checkbox__input:focus+.tox-checkbox__icons{border-radius:6px;box-shadow:inset 0 0 0 1px #006ce7;padding:calc(4px - 1px)}.tox:not([dir=rtl]) .tox-checkbox__label{margin-left:4px}.tox:not([dir=rtl]) .tox-checkbox__input{left:-10000px}.tox:not([dir=rtl]) .tox-bar .tox-checkbox{margin-left:4px}.tox[dir=rtl] .tox-checkbox__label{margin-right:4px}.tox[dir=rtl] .tox-checkbox__input{right:-10000px}.tox[dir=rtl] .tox-bar .tox-checkbox{margin-right:4px}.tox .tox-collection--toolbar .tox-collection__group{display:flex;padding:0}.tox .tox-collection--grid .tox-collection__group{display:flex;flex-wrap:wrap;max-height:208px;overflow-x:hidden;overflow-y:auto;padding:0}.tox .tox-collection--list .tox-collection__group{border-bottom-width:0;border-color:#e3e3e3;border-left-width:0;border-right-width:0;border-style:solid;border-top-width:1px;padding:4px 0}.tox .tox-collection--list .tox-collection__group:first-child{border-top-width:0}.tox .tox-collection__group-heading{background-color:#fcfcfc;color:rgba(34,47,62,.7);cursor:default;font-size:12px;font-style:normal;font-weight:400;margin-bottom:4px;margin-top:-4px;padding:4px 8px;text-transform:none;-webkit-touch-callout:none;-webkit-user-select:none;user-select:none}.tox .tox-collection__item{align-items:center;border-radius:3px;color:#222f3e;display:flex;-webkit-touch-callout:none;-webkit-user-select:none;user-select:none}.tox .tox-collection--list .tox-collection__item{padding:4px 8px}.tox .tox-collection--toolbar .tox-collection__item{border-radius:3px;padding:4px}.tox .tox-collection--grid .tox-collection__item{border-radius:3px;padding:4px}.tox .tox-collection--list .tox-collection__item--enabled{background-color:#fff;color:#222f3e}.tox .tox-collection--list .tox-collection__item--active{background-color:#006ce7}.tox .tox-collection--toolbar .tox-collection__item--enabled,.tox .tox-collection--toolbar .tox-collection__item--enabled.tox-collection__item--active,.tox .tox-collection--toolbar .tox-collection__item--enabled.tox-collection__item--active:hover{background-color:#a6ccf7;color:#222f3e}@media (forced-colors:active){.tox .tox-collection--toolbar .tox-collection__item--enabled,.tox .tox-collection--toolbar .tox-collection__item--enabled.tox-collection__item--active,.tox .tox-collection--toolbar .tox-collection__item--enabled.tox-collection__item--active:hover{border-radius:3px;outline:solid 1px}}.tox .tox-collection--toolbar .tox-collection__item--active{background-color:#fff;position:relative}.tox .tox-collection--toolbar .tox-collection__item--active:hover{background-color:#f0f0f0;color:#222f3e}.tox .tox-collection--toolbar .tox-collection__item--active:focus{background-color:#f0f0f0;color:#222f3e}.tox .tox-collection--toolbar .tox-collection__item--active:focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-collection--toolbar .tox-collection__item--active:focus::after{border:2px solid highlight}}.tox .tox-collection--grid .tox-collection__item--enabled{background-color:#a6ccf7;color:#222f3e}.tox .tox-collection--grid .tox-collection__item--active:not(.tox-collection__item--state-disabled){background-color:#f0f0f0;color:#222f3e;position:relative;z-index:1}.tox .tox-collection--grid .tox-collection__item--active:not(.tox-collection__item--state-disabled):focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7 inset;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-collection--grid .tox-collection__item--active:not(.tox-collection__item--state-disabled):focus::after{border:2px solid highlight}}.tox .tox-collection--list .tox-collection__item--active:not(.tox-collection__item--state-disabled){color:#fff}@media (forced-colors:active){.tox .tox-collection--list .tox-collection__item--active:not(.tox-collection__item--state-disabled){border:solid 1px}}.tox .tox-collection--toolbar .tox-collection__item--active:not(.tox-collection__item--state-disabled){color:#222f3e}@media (forced-colors:active){.tox .tox-collection--toolbar .tox-collection__item--active:not(.tox-collection__item--state-disabled):hover{border-radius:3px;outline:solid 1px}}.tox .tox-collection__item-checkmark,.tox .tox-collection__item-icon{align-items:center;display:flex;height:24px;justify-content:center;width:24px}.tox .tox-collection__item-checkmark svg,.tox .tox-collection__item-icon svg{fill:currentColor}.tox .tox-collection--toolbar-lg .tox-collection__item-icon{height:48px;width:48px}.tox .tox-collection__item-label{color:currentColor;display:inline-block;flex:1;font-size:14px;font-style:normal;font-weight:400;line-height:24px;max-width:100%;text-transform:none;word-break:break-all}.tox .tox-collection__item-accessory{color:currentColor;display:inline-block;font-size:14px;height:24px;line-height:24px;text-transform:none}.tox .tox-collection__item-caret{align-items:center;display:flex;min-height:24px}.tox .tox-collection__item-caret::after{content:'';font-size:0;min-height:inherit}.tox .tox-collection__item-caret svg{fill:currentColor}.tox .tox-collection__item--state-disabled{background-color:transparent;color:rgba(34,47,62,.5);cursor:not-allowed}.tox .tox-collection__item--state-disabled .tox-collection__item-caret svg{fill:rgba(34,47,62,0.5)}.tox .tox-collection--list .tox-collection__item:not(.tox-collection__item--enabled) .tox-collection__item-checkmark svg{display:none}.tox .tox-collection--list .tox-collection__item:not(.tox-collection__item--enabled) .tox-collection__item-accessory+.tox-collection__item-checkmark{display:none}.tox .tox-collection--horizontal{background-color:#fff;border:1px solid #e3e3e3;border-radius:6px;box-shadow:0 0 2px 0 rgba(34,47,62,.2),0 4px 8px 0 rgba(34,47,62,.15);display:flex;flex:0 0 auto;flex-shrink:0;flex-wrap:nowrap;margin-bottom:0;overflow-x:auto;padding:0}.tox .tox-collection--horizontal .tox-collection__group{align-items:center;display:flex;flex-wrap:nowrap;margin:0;padding:0 4px}.tox .tox-collection--horizontal .tox-collection__item{height:28px;margin:6px 1px 5px 0;padding:0 4px}.tox .tox-collection--horizontal .tox-collection__item-label{white-space:nowrap}.tox .tox-collection--horizontal .tox-collection__item-caret{margin-left:4px}.tox .tox-collection__item-container{display:flex}.tox .tox-collection__item-container--row{align-items:center;flex:1 1 auto;flex-direction:row}.tox .tox-collection__item-container--row.tox-collection__item-container--align-left{margin-right:auto}.tox .tox-collection__item-container--row.tox-collection__item-container--align-right{justify-content:flex-end;margin-left:auto}.tox .tox-collection__item-container--row.tox-collection__item-container--valign-top{align-items:flex-start;margin-bottom:auto}.tox .tox-collection__item-container--row.tox-collection__item-container--valign-middle{align-items:center}.tox .tox-collection__item-container--row.tox-collection__item-container--valign-bottom{align-items:flex-end;margin-top:auto}.tox .tox-collection__item-container--column{align-self:center;flex:1 1 auto;flex-direction:column}.tox .tox-collection__item-container--column.tox-collection__item-container--align-left{align-items:flex-start}.tox .tox-collection__item-container--column.tox-collection__item-container--align-right{align-items:flex-end}.tox .tox-collection__item-container--column.tox-collection__item-container--valign-top{align-self:flex-start}.tox .tox-collection__item-container--column.tox-collection__item-container--valign-middle{align-self:center}.tox .tox-collection__item-container--column.tox-collection__item-container--valign-bottom{align-self:flex-end}.tox:not([dir=rtl]) .tox-collection--horizontal .tox-collection__group:not(:last-of-type){border-right:1px solid transparent}.tox:not([dir=rtl]) .tox-collection--list .tox-collection__item>:not(:first-child){margin-left:8px}.tox:not([dir=rtl]) .tox-collection--list .tox-collection__item>.tox-collection__item-label:first-child{margin-left:4px}.tox:not([dir=rtl]) .tox-collection__item-accessory{margin-left:16px;text-align:right}.tox:not([dir=rtl]) .tox-collection .tox-collection__item-caret{margin-left:16px}.tox[dir=rtl] .tox-collection--horizontal .tox-collection__group:not(:last-of-type){border-left:1px solid transparent}.tox[dir=rtl] .tox-collection--list .tox-collection__item>:not(:first-child){margin-right:8px}.tox[dir=rtl] .tox-collection--list .tox-collection__item>.tox-collection__item-label:first-child{margin-right:4px}.tox[dir=rtl] .tox-collection__item-accessory{margin-right:16px;text-align:left}.tox[dir=rtl] .tox-collection .tox-collection__item-caret{margin-right:16px;transform:rotateY(180deg)}.tox[dir=rtl] .tox-collection--horizontal .tox-collection__item-caret{margin-right:4px}@media (forced-colors:active){.tox .tox-hue-slider,.tox .tox-rgb-form .tox-rgba-preview{background-color:currentColor!important;border:1px solid highlight!important;forced-color-adjust:none}}.tox .tox-color-picker-container{display:flex;flex-direction:row;height:225px;margin:0}.tox .tox-sv-palette{box-sizing:border-box;display:flex;height:100%}.tox .tox-sv-palette-spectrum{height:100%}.tox .tox-sv-palette,.tox .tox-sv-palette-spectrum{width:225px}.tox .tox-sv-palette-thumb{background:0 0;border:1px solid #000;border-radius:50%;box-sizing:content-box;height:12px;position:absolute;width:12px}.tox .tox-sv-palette-inner-thumb{border:1px solid #fff;border-radius:50%;height:10px;position:absolute;width:10px}.tox .tox-hue-slider{box-sizing:border-box;height:100%;width:25px}.tox .tox-hue-slider-spectrum{background:linear-gradient(to bottom,red,#ff0080,#f0f,#8000ff,#00f,#0080ff,#0ff,#00ff80,#0f0,#80ff00,#ff0,#ff8000,red);height:100%;width:100%}.tox .tox-hue-slider,.tox .tox-hue-slider-spectrum{width:20px}.tox .tox-hue-slider-spectrum:focus,.tox .tox-sv-palette-spectrum:focus{outline:#08f solid}.tox .tox-hue-slider-thumb{background:#fff;border:1px solid #000;box-sizing:content-box;height:4px;width:100%}.tox .tox-rgb-form{display:flex;flex-direction:column;justify-content:space-between}.tox .tox-rgb-form div{align-items:center;display:flex;justify-content:space-between;margin-bottom:5px;width:inherit}.tox .tox-rgb-form input{min-width:6em}.tox .tox-rgb-form input.tox-invalid{border:1px solid red!important;box-shadow:0 0 0 1px red}.tox .tox-rgb-container{position:relative}.tox .tox-rgb-form .tox-invalid-icon{align-content:center;align-items:center;display:none;height:100%;position:absolute;right:0;top:0}.tox .tox-rgb-form .tox-invalid-icon .tox-control-wrap__status-icon-invalid{margin:0}.tox .tox-rgb-warning-note{background-color:#f5cccc;border:1px solid #f0b3b3;border-radius:3px;color:#77181f;padding:3px}.tox input.tox-invalid+.tox-invalid-icon{display:flex}.tox .tox-rgb-form .tox-rgba-preview{border:1px solid #000;flex-grow:2;margin-bottom:0}.tox:not([dir=rtl]) .tox-sv-palette{margin-right:15px}.tox:not([dir=rtl]) .tox-hue-slider{margin-right:15px}.tox:not([dir=rtl]) .tox-hue-slider-thumb{margin-left:-1px}.tox:not([dir=rtl]) .tox-rgb-form label{margin-right:.5em}.tox[dir=rtl] .tox-sv-palette{margin-left:15px}.tox[dir=rtl] .tox-hue-slider{margin-left:15px}.tox[dir=rtl] .tox-hue-slider-thumb{margin-right:-1px}.tox[dir=rtl] .tox-rgb-form label{margin-left:.5em}.tox .tox-toolbar .tox-swatches,.tox .tox-toolbar__overflow .tox-swatches,.tox .tox-toolbar__primary .tox-swatches{margin:5px 0 6px 11px}.tox .tox-collection--list .tox-collection__group .tox-swatches-menu{border:0;margin:-4px -4px}.tox .tox-swatches__row{display:flex}@media (forced-colors:active){.tox .tox-swatches__row{forced-color-adjust:none}}.tox .tox-swatch{height:30px;transition:transform .15s,box-shadow .15s;width:30px}.tox .tox-swatch:focus,.tox .tox-swatch:hover{box-shadow:0 0 0 1px rgba(127,127,127,.3) inset;transform:scale(.8)}.tox .tox-swatch--remove{align-items:center;display:flex;justify-content:center}.tox .tox-swatch--remove svg path{stroke:#e74c3c}.tox .tox-swatches__picker-btn{align-items:center;background-color:transparent;border:0;cursor:pointer;display:flex;height:30px;justify-content:center;outline:0;padding:0;width:30px}.tox .tox-swatches__picker-btn svg{fill:#222f3e;height:24px;width:24px}.tox .tox-swatches__picker-btn:hover{background:#f0f0f0}.tox div.tox-swatch:not(.tox-swatch--remove) svg{display:none;fill:#222f3e;height:24px;margin:calc((30px - 24px)/ 2) calc((30px - 24px)/ 2);width:24px}.tox div.tox-swatch:not(.tox-swatch--remove) svg path{fill:#fff;paint-order:stroke;stroke:#222f3e;stroke-width:2px}.tox div.tox-swatch:not(.tox-swatch--remove).tox-collection__item--enabled svg{display:block}.tox:not([dir=rtl]) .tox-swatches__picker-btn{margin-left:auto}.tox[dir=rtl] .tox-swatches__picker-btn{margin-right:auto}.tox .tox-comment-thread{background:#fff;position:relative}.tox .tox-comment-thread>:not(:first-child){margin-top:8px}.tox .tox-comment{background:#fff;border:1px solid #eee;border-radius:6px;box-shadow:0 4px 8px 0 rgba(34,47,62,.1);padding:8px 8px 16px 8px;position:relative}.tox .tox-comment__header{align-items:center;color:#222f3e;display:flex;justify-content:space-between}.tox .tox-comment__date{color:#222f3e;font-size:12px;line-height:18px}.tox .tox-comment__body{color:#222f3e;font-size:14px;font-style:normal;font-weight:400;line-height:1.3;margin-top:8px;position:relative;text-transform:initial}.tox .tox-comment__body textarea{resize:none;white-space:normal;width:100%}.tox .tox-comment__expander{padding-top:8px}.tox .tox-comment__expander p{color:rgba(34,47,62,.7);font-size:14px;font-style:normal}.tox .tox-comment__body p{margin:0}.tox .tox-comment__buttonspacing{padding-top:16px;text-align:center}.tox .tox-comment-thread__overlay::after{background:#fff;bottom:0;content:"";display:flex;left:0;opacity:.9;position:absolute;right:0;top:0;z-index:5}.tox .tox-comment__reply{display:flex;flex-shrink:0;flex-wrap:wrap;justify-content:flex-end;margin-top:8px}.tox .tox-comment__reply>:first-child{margin-bottom:8px;width:100%}.tox .tox-comment__edit{display:flex;flex-wrap:wrap;justify-content:flex-end;margin-top:16px}.tox .tox-comment__gradient::after{background:linear-gradient(rgba(255,255,255,0),#fff);bottom:0;content:"";display:block;height:5em;margin-top:-40px;position:absolute;width:100%}.tox .tox-comment__overlay{background:#fff;bottom:0;display:flex;flex-direction:column;flex-grow:1;left:0;opacity:.9;position:absolute;right:0;text-align:center;top:0;z-index:5}.tox .tox-comment__loading-text{align-items:center;color:#222f3e;display:flex;flex-direction:column;position:relative}.tox .tox-comment__loading-text>div{padding-bottom:16px}.tox .tox-comment__overlaytext{bottom:0;flex-direction:column;font-size:14px;left:0;padding:1em;position:absolute;right:0;top:0;z-index:10}.tox .tox-comment__overlaytext p{background-color:#fff;box-shadow:0 0 8px 8px #fff;color:#222f3e;text-align:center}.tox .tox-comment__overlaytext div:nth-of-type(2){font-size:.8em}.tox .tox-comment__busy-spinner{align-items:center;background-color:#fff;bottom:0;display:flex;justify-content:center;left:0;position:absolute;right:0;top:0;z-index:20}.tox .tox-comment__scroll{display:flex;flex-direction:column;flex-shrink:1;overflow:auto}.tox .tox-conversations{margin:8px}.tox:not([dir=rtl]) .tox-comment__edit{margin-left:8px}.tox:not([dir=rtl]) .tox-comment__buttonspacing>:last-child,.tox:not([dir=rtl]) .tox-comment__edit>:last-child,.tox:not([dir=rtl]) .tox-comment__reply>:last-child{margin-left:8px}.tox[dir=rtl] .tox-comment__edit{margin-right:8px}.tox[dir=rtl] .tox-comment__buttonspacing>:last-child,.tox[dir=rtl] .tox-comment__edit>:last-child,.tox[dir=rtl] .tox-comment__reply>:last-child{margin-right:8px}.tox .tox-user{align-items:center;display:flex}.tox .tox-user__avatar svg{fill:rgba(34,47,62,0.7)}.tox .tox-user__avatar img{border-radius:50%;height:36px;object-fit:cover;vertical-align:middle;width:36px}.tox .tox-user__name{color:#222f3e;font-size:14px;font-style:normal;font-weight:700;line-height:18px;text-transform:none}.tox:not([dir=rtl]) .tox-user__avatar img,.tox:not([dir=rtl]) .tox-user__avatar svg{margin-right:8px}.tox:not([dir=rtl]) .tox-user__avatar+.tox-user__name{margin-left:8px}.tox[dir=rtl] .tox-user__avatar img,.tox[dir=rtl] .tox-user__avatar svg{margin-left:8px}.tox[dir=rtl] .tox-user__avatar+.tox-user__name{margin-right:8px}.tox .tox-dialog-wrap{align-items:center;bottom:0;display:flex;justify-content:center;left:0;position:fixed;right:0;top:0;z-index:1100}.tox .tox-dialog-wrap__backdrop{background-color:rgba(255,255,255,.75);bottom:0;left:0;position:absolute;right:0;top:0;z-index:1}.tox .tox-dialog-wrap__backdrop--opaque{background-color:#fff}.tox .tox-dialog{background-color:#fff;border-color:#eee;border-radius:10px;border-style:solid;border-width:0;box-shadow:0 16px 16px -10px rgba(34,47,62,.15),0 0 40px 1px rgba(34,47,62,.15);display:flex;flex-direction:column;max-height:100%;max-width:480px;overflow:hidden;position:relative;width:95vw;z-index:2}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox .tox-dialog{align-self:flex-start;margin:8px auto;max-height:calc(100vh - 8px * 2);width:calc(100vw - 16px)}}.tox .tox-dialog-inline{z-index:1100}.tox .tox-dialog__header{align-items:center;background-color:#fff;border-bottom:none;color:#222f3e;display:flex;font-size:16px;justify-content:space-between;padding:8px 16px 0 16px;position:relative}.tox .tox-dialog__header .tox-button{z-index:1}.tox .tox-dialog__draghandle{cursor:grab;height:100%;left:0;position:absolute;top:0;width:100%}.tox .tox-dialog__draghandle:active{cursor:grabbing}.tox .tox-dialog__dismiss{margin-left:auto}.tox .tox-dialog__title{font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:20px;font-style:normal;font-weight:400;line-height:1.3;margin:0;text-transform:none}.tox .tox-dialog__body{color:#222f3e;display:flex;flex:1;font-size:16px;font-style:normal;font-weight:400;line-height:1.3;min-width:0;text-align:left;text-transform:none}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox .tox-dialog__body{flex-direction:column}}.tox .tox-dialog__body-nav{align-items:flex-start;display:flex;flex-direction:column;flex-shrink:0;padding:16px 16px}@media only screen and (min-width:768px){.tox .tox-dialog__body-nav{max-width:11em}}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox .tox-dialog__body-nav{flex-direction:row;-webkit-overflow-scrolling:touch;overflow-x:auto;padding-bottom:0}}.tox .tox-dialog__body-nav-item{border-bottom:2px solid transparent;color:rgba(34,47,62,.7);display:inline-block;flex-shrink:0;font-size:14px;line-height:1.3;margin-bottom:8px;max-width:13em;-webkit-text-decoration:none;text-decoration:none}.tox .tox-dialog__body-nav-item:focus{background-color:rgba(0,108,231,.1)}.tox .tox-dialog__body-nav-item--active{border-bottom:2px solid #006ce7;color:#006ce7}@media (forced-colors:active){.tox .tox-dialog__body-nav-item--active{border-bottom:2px solid highlight;color:highlight}}.tox .tox-dialog__body-content{box-sizing:border-box;display:flex;flex:1;flex-direction:column;max-height:min(650px,calc(100vh - 110px));overflow:auto;-webkit-overflow-scrolling:touch;padding:16px 16px}.tox .tox-dialog__body-content>*{margin-bottom:0;margin-top:16px}.tox .tox-dialog__body-content>:first-child{margin-top:0}.tox .tox-dialog__body-content>:last-child{margin-bottom:0}.tox .tox-dialog__body-content>:only-child{margin-bottom:0;margin-top:0}.tox .tox-dialog__body-content a{color:#006ce7;cursor:pointer;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-dialog__body-content a:focus,.tox .tox-dialog__body-content a:hover{color:#003c81;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-dialog__body-content a:focus-visible{border-radius:1px;outline:2px solid #006ce7;outline-offset:2px}.tox .tox-dialog__body-content a:active{color:#00244e;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-dialog__body-content svg{fill:#222f3e}.tox .tox-dialog__body-content strong{font-weight:700}.tox .tox-dialog__body-content ul{list-style-type:disc}.tox .tox-dialog__body-content dd,.tox .tox-dialog__body-content ol,.tox .tox-dialog__body-content ul{padding-inline-start:2.5rem}.tox .tox-dialog__body-content dl,.tox .tox-dialog__body-content ol,.tox .tox-dialog__body-content ul{margin-bottom:16px}.tox .tox-dialog__body-content dd,.tox .tox-dialog__body-content dl,.tox .tox-dialog__body-content dt,.tox .tox-dialog__body-content ol,.tox .tox-dialog__body-content ul{display:block;margin-inline-end:0;margin-inline-start:0}.tox .tox-dialog__body-content .tox-form__group h1{color:#222f3e;font-size:20px;font-style:normal;font-weight:700;letter-spacing:normal;margin-bottom:16px;margin-top:2rem;text-transform:none}.tox .tox-dialog__body-content .tox-form__group h2{color:#222f3e;font-size:16px;font-style:normal;font-weight:700;letter-spacing:normal;margin-bottom:16px;margin-top:2rem;text-transform:none}.tox .tox-dialog__body-content .tox-form__group p{margin-bottom:16px}.tox .tox-dialog__body-content .tox-form__group h1:first-child,.tox .tox-dialog__body-content .tox-form__group h2:first-child,.tox .tox-dialog__body-content .tox-form__group p:first-child{margin-top:0}.tox .tox-dialog__body-content .tox-form__group h1:last-child,.tox .tox-dialog__body-content .tox-form__group h2:last-child,.tox .tox-dialog__body-content .tox-form__group p:last-child{margin-bottom:0}.tox .tox-dialog__body-content .tox-form__group h1:only-child,.tox .tox-dialog__body-content .tox-form__group h2:only-child,.tox .tox-dialog__body-content .tox-form__group p:only-child{margin-bottom:0;margin-top:0}.tox .tox-dialog__body-content .tox-form__group .tox-label.tox-label--center{text-align:center}.tox .tox-dialog__body-content .tox-form__group .tox-label.tox-label--end{text-align:end}.tox .tox-dialog--width-lg{height:650px;max-width:1200px}.tox .tox-dialog--fullscreen{height:100%;max-width:100%}.tox .tox-dialog--fullscreen .tox-dialog__body-content{max-height:100%}.tox .tox-dialog--width-md{max-width:800px}.tox .tox-dialog--width-md .tox-dialog__body-content{overflow:auto}.tox .tox-dialog__body-content--centered{text-align:center}.tox .tox-dialog__footer{align-items:center;background-color:#fff;border-top:none;display:flex;justify-content:space-between;padding:8px 16px}.tox .tox-dialog__footer-end,.tox .tox-dialog__footer-start{display:flex}.tox .tox-dialog__busy-spinner{align-items:center;background-color:rgba(255,255,255,.75);bottom:0;display:flex;justify-content:center;left:0;position:absolute;right:0;top:0;z-index:3}.tox .tox-dialog__table{border-collapse:collapse;width:100%}.tox .tox-dialog__table thead th{font-weight:700;padding-bottom:8px}.tox .tox-dialog__table thead th:first-child{padding-right:8px}.tox .tox-dialog__table tbody tr{border-bottom:1px solid #626262}.tox .tox-dialog__table tbody tr:last-child{border-bottom:none}.tox .tox-dialog__table td{padding-bottom:8px;padding-top:8px}.tox .tox-dialog__table td:first-child{padding-right:8px}.tox .tox-dialog__iframe{min-height:200px}.tox .tox-dialog__iframe.tox-dialog__iframe--opaque{background:#fff}.tox .tox-navobj-bordered{position:relative}.tox .tox-navobj-bordered::before{border:1px solid #eee;border-radius:6px;content:'';inset:0;opacity:1;pointer-events:none;position:absolute;z-index:1}.tox .tox-navobj-bordered iframe{border-radius:6px}.tox .tox-navobj-bordered-focus.tox-navobj-bordered::before{border-color:#006ce7;box-shadow:0 0 0 1px #006ce7;outline:0}.tox .tox-dialog__popups{position:absolute;width:100%;z-index:1100}.tox .tox-dialog__body-iframe{display:flex;flex:1;flex-direction:column}.tox .tox-dialog__body-iframe .tox-navobj{display:flex;flex:1}.tox .tox-dialog__body-iframe .tox-navobj :nth-child(2){flex:1;height:100%}.tox .tox-dialog-dock-fadeout{opacity:0;visibility:hidden}.tox .tox-dialog-dock-fadein{opacity:1;visibility:visible}.tox .tox-dialog-dock-transition{transition:visibility 0s linear .3s,opacity .3s ease}.tox .tox-dialog-dock-transition.tox-dialog-dock-fadein{transition-delay:0s}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox:not([dir=rtl]) .tox-dialog__body-nav{margin-right:0}}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox:not([dir=rtl]) .tox-dialog__body-nav-item:not(:first-child){margin-left:8px}}.tox:not([dir=rtl]) .tox-dialog__footer .tox-dialog__footer-end>*,.tox:not([dir=rtl]) .tox-dialog__footer .tox-dialog__footer-start>*{margin-left:8px}.tox[dir=rtl] .tox-dialog__body{text-align:right}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox[dir=rtl] .tox-dialog__body-nav{margin-left:0}}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox[dir=rtl] .tox-dialog__body-nav-item:not(:first-child){margin-right:8px}}.tox[dir=rtl] .tox-dialog__footer .tox-dialog__footer-end>*,.tox[dir=rtl] .tox-dialog__footer .tox-dialog__footer-start>*{margin-right:8px}body.tox-dialog__disable-scroll{overflow:hidden}.tox .tox-dropzone-container{display:flex;flex:1}.tox .tox-dropzone{align-items:center;background:#fff;border:2px dashed #eee;box-sizing:border-box;display:flex;flex-direction:column;flex-grow:1;justify-content:center;min-height:100px;padding:10px}.tox .tox-dropzone p{color:rgba(34,47,62,.7);margin:0 0 16px 0}.tox .tox-edit-area{display:flex;flex:1;overflow:hidden;position:relative}.tox .tox-edit-area::before{border:2px solid #006ce7;border-radius:4px;content:'';inset:0;opacity:0;pointer-events:none;position:absolute;transition:opacity .15s;z-index:1}@media (forced-colors:active){.tox .tox-edit-area::before{border:2px solid highlight}}.tox .tox-edit-area__iframe{background-color:#fff;border:0;box-sizing:border-box;flex:1;height:100%;position:absolute;width:100%}.tox.tox-edit-focus .tox-edit-area::before{opacity:1}.tox.tox-inline-edit-area{border:1px dotted #eee}.tox .tox-editor-container{display:flex;flex:1 1 auto;flex-direction:column;overflow:hidden}.tox .tox-editor-header{display:grid;grid-template-columns:1fr min-content;z-index:2}.tox:not(.tox-tinymce-inline) .tox-editor-header{background-color:#fff;border-bottom:none;box-shadow:0 2px 2px -2px rgba(34,47,62,.1),0 8px 8px -4px rgba(34,47,62,.07);padding:4px 0}.tox:not(.tox-tinymce-inline) .tox-editor-header:not(.tox-editor-dock-transition){transition:box-shadow .5s}.tox:not(.tox-tinymce-inline).tox-tinymce--toolbar-bottom .tox-editor-header{border-top:1px solid #e3e3e3;box-shadow:none}.tox:not(.tox-tinymce-inline).tox-tinymce--toolbar-sticky-on .tox-editor-header{background-color:#fff;box-shadow:0 2px 2px -2px rgba(34,47,62,.2),0 8px 8px -4px rgba(34,47,62,.15);padding:4px 0}.tox:not(.tox-tinymce-inline).tox-tinymce--toolbar-sticky-on.tox-tinymce--toolbar-bottom .tox-editor-header{box-shadow:0 2px 2px -2px rgba(34,47,62,.2),0 8px 8px -4px rgba(34,47,62,.15)}.tox.tox:not(.tox-tinymce-inline) .tox-editor-header.tox-editor-header--empty{background:0 0;border:none;box-shadow:none;padding:0}.tox-editor-dock-fadeout{opacity:0;visibility:hidden}.tox-editor-dock-fadein{opacity:1;visibility:visible}.tox-editor-dock-transition{transition:visibility 0s linear .25s,opacity .25s ease}.tox-editor-dock-transition.tox-editor-dock-fadein{transition-delay:0s}.tox .tox-control-wrap{flex:1;position:relative}.tox .tox-control-wrap:not(.tox-control-wrap--status-invalid) .tox-control-wrap__status-icon-invalid,.tox .tox-control-wrap:not(.tox-control-wrap--status-unknown) .tox-control-wrap__status-icon-unknown,.tox .tox-control-wrap:not(.tox-control-wrap--status-valid) .tox-control-wrap__status-icon-valid{display:none}.tox .tox-control-wrap svg{display:block}.tox .tox-control-wrap__status-icon-wrap{position:absolute;top:50%;transform:translateY(-50%)}.tox .tox-control-wrap__status-icon-invalid svg{fill:#c00}.tox .tox-control-wrap__status-icon-unknown svg{fill:orange}.tox .tox-control-wrap__status-icon-valid svg{fill:green}.tox:not([dir=rtl]) .tox-control-wrap--status-invalid .tox-textfield,.tox:not([dir=rtl]) .tox-control-wrap--status-unknown .tox-textfield,.tox:not([dir=rtl]) .tox-control-wrap--status-valid .tox-textfield{padding-right:32px}.tox:not([dir=rtl]) .tox-control-wrap__status-icon-wrap{right:4px}.tox[dir=rtl] .tox-control-wrap--status-invalid .tox-textfield,.tox[dir=rtl] .tox-control-wrap--status-unknown .tox-textfield,.tox[dir=rtl] .tox-control-wrap--status-valid .tox-textfield{padding-left:32px}.tox[dir=rtl] .tox-control-wrap__status-icon-wrap{left:4px}.tox .tox-custom-preview{border-color:#eee;border-radius:6px;border-style:solid;border-width:1px;flex:1;padding:8px}.tox .tox-autocompleter{max-width:25em}.tox .tox-autocompleter .tox-menu{box-sizing:border-box;max-width:25em}.tox .tox-autocompleter .tox-autocompleter-highlight{font-weight:700}.tox .tox-color-input{display:flex;position:relative;z-index:1}.tox .tox-color-input .tox-textfield{z-index:-1}.tox .tox-color-input span{border-color:rgba(34 47 3.1%);border-radius:6px;border-style:solid;border-width:1px;box-shadow:none;box-sizing:border-box;height:24px;position:absolute;top:6px;width:24px}@media (forced-colors:active){.tox .tox-color-input span{border-color:currentColor;border-width:2px!important;forced-color-adjust:none}}.tox .tox-color-input span:focus:not([aria-disabled=true]),.tox .tox-color-input span:hover:not([aria-disabled=true]){border-color:#006ce7;cursor:pointer}.tox .tox-color-input span::before{background-image:linear-gradient(45deg,rgba(0,0,0,.25) 25%,transparent 25%),linear-gradient(-45deg,rgba(0,0,0,.25) 25%,transparent 25%),linear-gradient(45deg,transparent 75%,rgba(0,0,0,.25) 75%),linear-gradient(-45deg,transparent 75%,rgba(0,0,0,.25) 75%);background-position:0 0,0 6px,6px -6px,-6px 0;background-size:12px 12px;border:1px solid #fff;border-radius:6px;box-sizing:border-box;content:'';height:24px;left:-1px;position:absolute;top:-1px;width:24px;z-index:-1}@media (forced-colors:active){.tox .tox-color-input span::before{border:none}}.tox .tox-color-input span[aria-disabled=true]{cursor:not-allowed}.tox:not([dir=rtl]) .tox-color-input .tox-textfield{padding-left:36px}.tox:not([dir=rtl]) .tox-color-input span{left:6px}.tox[dir=rtl] .tox-color-input .tox-textfield{padding-right:36px}.tox[dir=rtl] .tox-color-input span{right:6px}.tox .tox-label,.tox .tox-toolbar-label{color:rgba(34,47,62,.7);display:block;font-size:14px;font-style:normal;font-weight:400;line-height:1.3;padding:0 8px 0 0;text-transform:none;white-space:nowrap}.tox .tox-toolbar-label{padding:0 8px}.tox[dir=rtl] .tox-label{padding:0 0 0 8px}.tox .tox-form{display:flex;flex:1;flex-direction:column}.tox .tox-form__group{box-sizing:border-box;margin-bottom:4px}.tox .tox-form-group--maximize{flex:1}.tox .tox-form__group--error{color:#c00}.tox .tox-form__group--collection{display:flex}.tox .tox-form__grid{display:flex;flex-direction:row;flex-wrap:wrap;justify-content:space-between}.tox .tox-form__grid--2col>.tox-form__group{width:calc(50% - (8px / 2))}.tox .tox-form__grid--3col>.tox-form__group{width:calc(100% / 3 - (8px / 2))}.tox .tox-form__grid--4col>.tox-form__group{width:calc(25% - (8px / 2))}.tox .tox-form__controls-h-stack{align-items:center;display:flex}.tox .tox-form__group--inline{align-items:center;display:flex}.tox .tox-form__group--stretched{display:flex;flex:1;flex-direction:column}.tox .tox-form__group--stretched .tox-textarea{flex:1}.tox .tox-form__group--stretched .tox-navobj{display:flex;flex:1}.tox .tox-form__group--stretched .tox-navobj :nth-child(2){flex:1;height:100%}.tox:not([dir=rtl]) .tox-form__controls-h-stack>:not(:first-child){margin-left:4px}.tox[dir=rtl] .tox-form__controls-h-stack>:not(:first-child){margin-right:4px}.tox .tox-lock.tox-locked .tox-lock-icon__unlock,.tox .tox-lock:not(.tox-locked) .tox-lock-icon__lock{display:none}.tox .tox-listboxfield .tox-listbox--select,.tox .tox-textarea,.tox .tox-textarea-wrap .tox-textarea:focus,.tox .tox-textfield,.tox .tox-toolbar-textfield{appearance:none;background-color:#fff;border-color:#eee;border-radius:6px;border-style:solid;border-width:1px;box-shadow:none;box-sizing:border-box;color:#222f3e;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:16px;line-height:24px;margin:0;min-height:34px;outline:0;padding:5px 5.5px;resize:none;width:100%}.tox .tox-textarea[disabled],.tox .tox-textfield[disabled]{background-color:#f2f2f2;color:rgba(34,47,62,.85);cursor:not-allowed}.tox .tox-custom-editor:focus-within,.tox .tox-listboxfield .tox-listbox--select:focus,.tox .tox-textarea-wrap:focus-within,.tox .tox-textarea:focus,.tox .tox-textfield:focus{background-color:#fff;border-color:#006ce7;box-shadow:0 0 0 1px #006ce7;outline:0}.tox .tox-toolbar-textfield{border-width:0;margin-bottom:3px;margin-top:2px;max-width:250px}.tox .tox-naked-btn{background-color:transparent;border:0;border-color:transparent;box-shadow:unset;color:#006ce7;cursor:pointer;display:block;margin:0;padding:0}.tox .tox-naked-btn svg{display:block;fill:#222f3e}.tox:not([dir=rtl]) .tox-toolbar-textfield+*{margin-left:4px}.tox[dir=rtl] .tox-toolbar-textfield+*{margin-right:4px}.tox .tox-listboxfield{cursor:pointer;position:relative}.tox .tox-listboxfield .tox-listbox--select[disabled]{background-color:#f2f2f2;color:rgba(34,47,62,.85);cursor:not-allowed}.tox .tox-listbox__select-label{cursor:default;flex:1;margin:0 4px}.tox .tox-listbox__select-chevron{align-items:center;display:flex;justify-content:center;width:16px}.tox .tox-listbox__select-chevron svg{fill:#222f3e}@media (forced-colors:active){.tox .tox-listbox__select-chevron svg{fill:currentColor!important}}.tox .tox-listboxfield .tox-listbox--select{align-items:center;display:flex}.tox:not([dir=rtl]) .tox-listboxfield svg{right:8px}.tox[dir=rtl] .tox-listboxfield svg{left:8px}.tox .tox-selectfield{cursor:pointer;position:relative}.tox .tox-selectfield select{appearance:none;background-color:#fff;border-color:#eee;border-radius:6px;border-style:solid;border-width:1px;box-shadow:none;box-sizing:border-box;color:#222f3e;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:16px;line-height:24px;margin:0;min-height:34px;outline:0;padding:5px 5.5px;resize:none;width:100%}.tox .tox-selectfield select[disabled]{background-color:#f2f2f2;color:rgba(34,47,62,.85);cursor:not-allowed}.tox .tox-selectfield select::-ms-expand{display:none}.tox .tox-selectfield select:focus{background-color:#fff;border-color:#006ce7;box-shadow:0 0 0 1px #006ce7;outline:0}.tox .tox-selectfield svg{pointer-events:none;position:absolute;top:50%;transform:translateY(-50%)}.tox:not([dir=rtl]) .tox-selectfield select[size="0"],.tox:not([dir=rtl]) .tox-selectfield select[size="1"]{padding-right:24px}.tox:not([dir=rtl]) .tox-selectfield svg{right:8px}.tox[dir=rtl] .tox-selectfield select[size="0"],.tox[dir=rtl] .tox-selectfield select[size="1"]{padding-left:24px}.tox[dir=rtl] .tox-selectfield svg{left:8px}.tox .tox-textarea-wrap{border-color:#eee;border-radius:6px;border-style:solid;border-width:1px;display:flex;flex:1;overflow:hidden}.tox .tox-textarea{appearance:textarea;white-space:pre-wrap}.tox .tox-textarea-wrap .tox-textarea{border:none}.tox .tox-textarea-wrap .tox-textarea:focus{border:none}.tox-fullscreen{border:0;height:100%;margin:0;overflow:hidden;overscroll-behavior:none;padding:0;touch-action:pinch-zoom;width:100%}.tox.tox-tinymce.tox-fullscreen .tox-statusbar__resize-handle{display:none}.tox-shadowhost.tox-fullscreen,.tox.tox-tinymce.tox-fullscreen{left:0;position:fixed;top:0;z-index:1200}.tox.tox-tinymce.tox-fullscreen{background-color:transparent}.tox-fullscreen .tox.tox-tinymce-aux,.tox-fullscreen~.tox.tox-tinymce-aux{z-index:1201}.tox .tox-help__more-link{list-style:none;margin-top:1em}.tox .tox-imagepreview{background-color:#666;height:380px;overflow:hidden;position:relative;width:100%}.tox .tox-imagepreview.tox-imagepreview__loaded{overflow:auto}.tox .tox-imagepreview__container{display:flex;left:100vw;position:absolute;top:100vw}.tox .tox-imagepreview__image{background:url(data:image/gif;base64,R0lGODdhDAAMAIABAMzMzP///ywAAAAADAAMAAACFoQfqYeabNyDMkBQb81Uat85nxguUAEAOw==)}.tox .tox-image-tools .tox-spacer{flex:1}.tox .tox-image-tools .tox-bar{align-items:center;display:flex;height:60px;justify-content:center}.tox .tox-image-tools .tox-imagepreview,.tox .tox-image-tools .tox-imagepreview+.tox-bar{margin-top:8px}.tox .tox-image-tools .tox-croprect-block{background:#000;opacity:.5;position:absolute;zoom:1}.tox .tox-image-tools .tox-croprect-handle{border:2px solid #fff;height:20px;left:0;position:absolute;top:0;width:20px}.tox .tox-image-tools .tox-croprect-handle-move{border:0;cursor:move;position:absolute}.tox .tox-image-tools .tox-croprect-handle-nw{border-width:2px 0 0 2px;cursor:nw-resize;left:100px;margin:-2px 0 0 -2px;top:100px}.tox .tox-image-tools .tox-croprect-handle-ne{border-width:2px 2px 0 0;cursor:ne-resize;left:200px;margin:-2px 0 0 -20px;top:100px}.tox .tox-image-tools .tox-croprect-handle-sw{border-width:0 0 2px 2px;cursor:sw-resize;left:100px;margin:-20px 2px 0 -2px;top:200px}.tox .tox-image-tools .tox-croprect-handle-se{border-width:0 2px 2px 0;cursor:se-resize;left:200px;margin:-20px 0 0 -20px;top:200px}.tox .tox-insert-table-picker{background-color:#fff;display:flex;flex-wrap:wrap;width:170px}.tox .tox-insert-table-picker>div{border-color:#eee;border-style:solid;border-width:0 1px 1px 0;box-sizing:border-box;height:17px;width:17px}.tox .tox-collection--list .tox-collection__group .tox-insert-table-picker{margin:-4px -4px}.tox .tox-insert-table-picker .tox-insert-table-picker__selected{background-color:#006ce7;border-color:#eee}@media (forced-colors:active){.tox .tox-insert-table-picker .tox-insert-table-picker__selected{border-color:Highlight;filter:contrast(50%)}}.tox .tox-insert-table-picker__label{color:rgba(34,47,62,.7);display:block;font-size:14px;padding:4px;text-align:center;width:100%}.tox:not([dir=rtl]) .tox-insert-table-picker>div:nth-child(10n){border-right:0}.tox[dir=rtl] .tox-insert-table-picker>div:nth-child(10n+1){border-right:0}.tox .tox-menu{background-color:#fff;border:1px solid transparent;border-radius:6px;box-shadow:0 0 2px 0 rgba(34,47,62,.2),0 4px 8px 0 rgba(34,47,62,.15);display:inline-block;overflow:hidden;vertical-align:top;z-index:1150}.tox .tox-menu.tox-collection.tox-collection--list{padding:0 4px}.tox .tox-menu.tox-collection.tox-collection--toolbar{padding:8px}.tox .tox-menu.tox-collection.tox-collection--grid{padding:8px}@media only screen and (min-width:768px){.tox .tox-menu .tox-collection__item-label{overflow-wrap:break-word;word-break:normal}.tox .tox-dialog__popups .tox-menu .tox-collection__item-label{word-break:break-all}}.tox .tox-menu__label blockquote,.tox .tox-menu__label code,.tox .tox-menu__label h1,.tox .tox-menu__label h2,.tox .tox-menu__label h3,.tox .tox-menu__label h4,.tox .tox-menu__label h5,.tox .tox-menu__label h6,.tox .tox-menu__label p{margin:0}.tox .tox-menubar{background:repeating-linear-gradient(transparent 0 1px,transparent 1px 39px) center top 39px/100% calc(100% - 39px) no-repeat;background-color:#fff;display:flex;flex:0 0 auto;flex-shrink:0;flex-wrap:wrap;grid-column:1/-1;grid-row:1;padding:0 11px 0 12px}.tox .tox-promotion+.tox-menubar{grid-column:1}.tox .tox-promotion{background:repeating-linear-gradient(transparent 0 1px,transparent 1px 39px) center top 39px/100% calc(100% - 39px) no-repeat;background-color:#fff;grid-column:2;grid-row:1;padding-inline-end:8px;padding-inline-start:4px;padding-top:5px}.tox .tox-promotion-link{align-items:unsafe center;background-color:#e8f1f8;border-radius:5px;color:#086be6;cursor:pointer;display:flex;font-size:14px;height:26.6px;padding:4px 8px;white-space:nowrap}.tox .tox-promotion-link:hover{background-color:#b4d7ff}.tox .tox-promotion-link:focus{background-color:#d9edf7}.tox .tox-mbtn{align-items:center;background:#fff;border:0;border-radius:3px;box-shadow:none;color:#222f3e;display:flex;flex:0 0 auto;font-size:14px;font-style:normal;font-weight:400;height:28px;justify-content:center;margin:5px 1px 6px 0;outline:0;padding:0 4px;text-transform:none;width:auto}.tox .tox-mbtn[disabled]{background-color:#fff;border:0;box-shadow:none;color:rgba(34,47,62,.5);cursor:not-allowed}.tox .tox-mbtn:focus:not(:disabled){background:#fff;border:0;box-shadow:none;color:#222f3e;position:relative;z-index:1}.tox .tox-mbtn:focus:not(:disabled)::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-mbtn:focus:not(:disabled)::after{border:2px solid highlight}}.tox .tox-mbtn--active,.tox .tox-mbtn:not(:disabled).tox-mbtn--active:focus{background:#a6ccf7;border:0;box-shadow:none;color:#222f3e}.tox .tox-mbtn:hover:not(:disabled):not(.tox-mbtn--active){background:#f0f0f0;border:0;box-shadow:none;color:#222f3e}.tox .tox-mbtn__select-label{cursor:default;font-weight:400;margin:0 4px}.tox .tox-mbtn[disabled] .tox-mbtn__select-label{cursor:not-allowed}.tox .tox-mbtn__select-chevron{align-items:center;display:flex;justify-content:center;width:16px;display:none}.tox .tox-notification{border-radius:6px;border-style:solid;border-width:1px;box-shadow:none;box-sizing:border-box;display:grid;font-size:14px;font-weight:400;grid-template-columns:minmax(40px,1fr) auto minmax(40px,1fr);margin-left:auto;margin-right:auto;margin-top:4px;opacity:0;padding:4px;transition:transform .1s ease-in,opacity 150ms ease-in;width:max-content}.tox .tox-notification a{cursor:pointer;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification p{font-size:14px;font-weight:400}.tox .tox-notification:focus{border-color:#006ce7;box-shadow:0 0 0 1px #006ce7}.tox .tox-notification--in{opacity:1}.tox .tox-notification--success{background-color:#e4eeda;border-color:#d7e6c8;color:#222f3e}.tox .tox-notification--success p{color:#222f3e}.tox .tox-notification--success a{color:#517342}.tox .tox-notification--success a:focus,.tox .tox-notification--success a:hover{color:#24321d;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification--success a:focus-visible{border-radius:1px;outline:2px solid #517342;outline-offset:2px}.tox .tox-notification--success a:active{color:#0d120a;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification--success svg{fill:#222f3e}.tox .tox-notification--error{background-color:#f5cccc;border-color:#f0b3b3;color:#222f3e}.tox .tox-notification--error p{color:#222f3e}.tox .tox-notification--error a{color:#77181f}.tox .tox-notification--error a:focus,.tox .tox-notification--error a:hover{color:#220709;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification--error a:focus-visible{border-radius:1px;outline:2px solid #77181f;outline-offset:2px}.tox .tox-notification--error a:active{color:#000;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification--error svg{fill:#222f3e}.tox .tox-notification--warn,.tox .tox-notification--warning{background-color:#fff5cc;border-color:#fff0b3;color:#222f3e}.tox .tox-notification--warn p,.tox .tox-notification--warning p{color:#222f3e}.tox .tox-notification--warn a,.tox .tox-notification--warning a{color:#7a6e25}.tox .tox-notification--warn a:focus,.tox .tox-notification--warn a:hover,.tox .tox-notification--warning a:focus,.tox .tox-notification--warning a:hover{color:#2c280d;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification--warn a:focus-visible,.tox .tox-notification--warning a:focus-visible{border-radius:1px;outline:2px solid #7a6e25;outline-offset:2px}.tox .tox-notification--warn a:active,.tox .tox-notification--warning a:active{color:#050502;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification--warn svg,.tox .tox-notification--warning svg{fill:#222f3e}.tox .tox-notification--info{background-color:#d6e7fb;border-color:#c1dbf9;color:#222f3e}.tox .tox-notification--info p{color:#222f3e}.tox .tox-notification--info a{color:#2a64a6}.tox .tox-notification--info a:focus,.tox .tox-notification--info a:hover{color:#163355;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification--info a:focus-visible{border-radius:1px;outline:2px solid #2a64a6;outline-offset:2px}.tox .tox-notification--info a:active{color:#0b1a2c;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification--info svg{fill:#222f3e}.tox .tox-notification__body{align-self:center;color:#222f3e;font-size:14px;grid-column-end:3;grid-column-start:2;grid-row-end:2;grid-row-start:1;text-align:center;white-space:normal;word-break:break-all;word-break:break-word}.tox .tox-notification__body>*{margin:0}.tox .tox-notification__body>*+*{margin-top:1rem}.tox .tox-notification__icon{align-self:center;grid-column-end:2;grid-column-start:1;grid-row-end:2;grid-row-start:1;justify-self:end}.tox .tox-notification__icon svg{display:block}.tox .tox-notification__dismiss{align-self:start;grid-column-end:4;grid-column-start:3;grid-row-end:2;grid-row-start:1;justify-self:end}.tox .tox-notification .tox-progress-bar{grid-column-end:4;grid-column-start:1;grid-row-end:3;grid-row-start:2;justify-self:center}.tox .tox-notification-container-dock-fadeout{opacity:0;visibility:hidden}.tox .tox-notification-container-dock-fadein{opacity:1;visibility:visible}.tox .tox-notification-container-dock-transition{transition:visibility 0s linear .3s,opacity .3s ease}.tox .tox-notification-container-dock-transition.tox-notification-container-dock-fadein{transition-delay:0s}.tox .tox-pop{display:inline-block;position:relative}.tox .tox-pop--resizing{transition:width .1s ease}.tox .tox-pop--resizing .tox-toolbar,.tox .tox-pop--resizing .tox-toolbar__group{flex-wrap:nowrap}.tox .tox-pop--transition{transition:.15s ease;transition-property:left,right,top,bottom}.tox .tox-pop--transition::after,.tox .tox-pop--transition::before{transition:all .15s,visibility 0s,opacity 75ms ease 75ms}.tox .tox-pop__dialog{background-color:#fff;border:1px solid #eee;border-radius:6px;box-shadow:0 0 2px 0 rgba(34,47,62,.2),0 4px 8px 0 rgba(34,47,62,.15);min-width:0;overflow:hidden}.tox .tox-pop__dialog>:not(.tox-toolbar){margin:4px 4px 4px 8px}.tox .tox-pop__dialog .tox-toolbar{background-color:transparent;margin-bottom:-1px}.tox .tox-pop::after,.tox .tox-pop::before{border-style:solid;content:'';display:block;height:0;opacity:1;position:absolute;width:0}@media (forced-colors:active){.tox .tox-pop::after,.tox .tox-pop::before{content:none}}.tox .tox-pop.tox-pop--inset::after,.tox .tox-pop.tox-pop--inset::before{opacity:0;transition:all 0s .15s,visibility 0s,opacity 75ms ease}.tox .tox-pop.tox-pop--bottom::after,.tox .tox-pop.tox-pop--bottom::before{left:50%;top:100%}.tox .tox-pop.tox-pop--bottom::after{border-color:#fff transparent transparent transparent;border-width:8px;margin-left:-8px;margin-top:-1px}.tox .tox-pop.tox-pop--bottom::before{border-color:#eee transparent transparent transparent;border-width:9px;margin-left:-9px}.tox .tox-pop.tox-pop--top::after,.tox .tox-pop.tox-pop--top::before{left:50%;top:0;transform:translateY(-100%)}.tox .tox-pop.tox-pop--top::after{border-color:transparent transparent #fff transparent;border-width:8px;margin-left:-8px;margin-top:1px}.tox .tox-pop.tox-pop--top::before{border-color:transparent transparent #eee transparent;border-width:9px;margin-left:-9px}.tox .tox-pop.tox-pop--left::after,.tox .tox-pop.tox-pop--left::before{left:0;top:calc(50% - 1px);transform:translateY(-50%)}.tox .tox-pop.tox-pop--left::after{border-color:transparent #fff transparent transparent;border-width:8px;margin-left:-15px}.tox .tox-pop.tox-pop--left::before{border-color:transparent #eee transparent transparent;border-width:10px;margin-left:-19px}.tox .tox-pop.tox-pop--right::after,.tox .tox-pop.tox-pop--right::before{left:100%;top:calc(50% + 1px);transform:translateY(-50%)}.tox .tox-pop.tox-pop--right::after{border-color:transparent transparent transparent #fff;border-width:8px;margin-left:-1px}.tox .tox-pop.tox-pop--right::before{border-color:transparent transparent transparent #eee;border-width:10px;margin-left:-1px}.tox .tox-pop.tox-pop--align-left::after,.tox .tox-pop.tox-pop--align-left::before{left:20px}.tox .tox-pop.tox-pop--align-right::after,.tox .tox-pop.tox-pop--align-right::before{left:calc(100% - 20px)}.tox .tox-sidebar-wrap{display:flex;flex-direction:row;flex-grow:1;min-height:0}.tox .tox-sidebar{background-color:#fff;display:flex;flex-direction:row;justify-content:flex-end}.tox .tox-sidebar__slider{display:flex;overflow:hidden}.tox .tox-sidebar__pane-container{display:flex}.tox .tox-sidebar__pane{display:flex}.tox .tox-sidebar--sliding-closed{opacity:0}.tox .tox-sidebar--sliding-open{opacity:1}.tox .tox-sidebar--sliding-growing,.tox .tox-sidebar--sliding-shrinking{transition:width .5s ease,opacity .5s ease}.tox .tox-selector{background-color:#4099ff;border-color:#4099ff;border-style:solid;border-width:1px;box-sizing:border-box;display:inline-block;height:10px;position:absolute;width:10px}.tox.tox-platform-touch .tox-selector{height:12px;width:12px}.tox .tox-slider{align-items:center;display:flex;flex:1;height:24px;justify-content:center;position:relative}.tox .tox-slider__rail{background-color:transparent;border:1px solid #eee;border-radius:6px;height:10px;min-width:120px;width:100%}.tox .tox-slider__handle{background-color:#006ce7;border:2px solid #0054b4;border-radius:6px;box-shadow:none;height:24px;left:50%;position:absolute;top:50%;transform:translateX(-50%) translateY(-50%);width:14px}.tox .tox-form__controls-h-stack>.tox-slider:not(:first-of-type){margin-inline-start:8px}.tox .tox-form__controls-h-stack>.tox-form__group+.tox-slider{margin-inline-start:32px}.tox .tox-form__controls-h-stack>.tox-slider+.tox-form__group{margin-inline-start:32px}.tox .tox-source-code{overflow:auto}.tox .tox-spinner{display:flex}.tox .tox-spinner>div{animation:tam-bouncing-dots 1.5s ease-in-out 0s infinite both;background-color:rgba(34,47,62,.7);border-radius:100%;height:8px;width:8px}.tox .tox-spinner>div:first-child{animation-delay:-.32s}.tox .tox-spinner>div:nth-child(2){animation-delay:-.16s}@keyframes tam-bouncing-dots{0%,100%,80%{transform:scale(0)}40%{transform:scale(1)}}.tox:not([dir=rtl]) .tox-spinner>div:not(:first-child){margin-left:4px}.tox[dir=rtl] .tox-spinner>div:not(:first-child){margin-right:4px}.tox .tox-statusbar{align-items:center;background-color:#fff;border-top:1px solid #e3e3e3;color:rgba(34,47,62,.7);display:flex;flex:0 0 auto;font-size:14px;font-weight:400;height:25px;overflow:hidden;padding:0 8px;position:relative;text-transform:none}.tox .tox-statusbar__path{display:flex;flex:1 1 auto;text-overflow:ellipsis;white-space:nowrap}.tox .tox-statusbar__right-container{display:flex;justify-content:flex-end;white-space:nowrap}.tox .tox-statusbar__help-text{text-align:center}.tox .tox-statusbar__text-container{align-items:flex-start;display:flex;flex:1 1 auto;height:16px;justify-content:space-between;overflow:hidden}@media only screen and (min-width:768px){.tox .tox-statusbar__text-container.tox-statusbar__text-container-3-cols>.tox-statusbar__help-text,.tox .tox-statusbar__text-container.tox-statusbar__text-container-3-cols>.tox-statusbar__path,.tox .tox-statusbar__text-container.tox-statusbar__text-container-3-cols>.tox-statusbar__right-container{flex:0 0 calc(100% / 3)}}.tox .tox-statusbar__text-container.tox-statusbar__text-container--flex-end{justify-content:flex-end}.tox .tox-statusbar__text-container.tox-statusbar__text-container--flex-start{justify-content:flex-start}.tox .tox-statusbar__text-container.tox-statusbar__text-container--space-around{justify-content:space-around}.tox .tox-statusbar__path>*{display:inline;white-space:nowrap}.tox .tox-statusbar__wordcount{flex:0 0 auto;margin-left:1ch}@media only screen and (max-width:767px){.tox .tox-statusbar__text-container .tox-statusbar__help-text{display:none}.tox .tox-statusbar__text-container .tox-statusbar__help-text:only-child{display:block}}.tox .tox-statusbar a,.tox .tox-statusbar__path-item,.tox .tox-statusbar__wordcount{color:rgba(34,47,62,.7);position:relative;-webkit-text-decoration:none;text-decoration:none}.tox .tox-statusbar a:focus:not(:disabled):not([aria-disabled=true]),.tox .tox-statusbar a:hover:not(:disabled):not([aria-disabled=true]),.tox .tox-statusbar__path-item:focus:not(:disabled):not([aria-disabled=true]),.tox .tox-statusbar__path-item:hover:not(:disabled):not([aria-disabled=true]),.tox .tox-statusbar__wordcount:focus:not(:disabled):not([aria-disabled=true]),.tox .tox-statusbar__wordcount:hover:not(:disabled):not([aria-disabled=true]){color:#222f3e;cursor:pointer}.tox .tox-statusbar a:focus-visible::after,.tox .tox-statusbar__path-item:focus-visible::after,.tox .tox-statusbar__wordcount:focus-visible::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-statusbar a:focus-visible::after,.tox .tox-statusbar__path-item:focus-visible::after,.tox .tox-statusbar__wordcount:focus-visible::after{border:2px solid highlight}}.tox .tox-statusbar__branding svg{fill:rgba(34,47,62,0.8);height:1em;margin-left:.3em;width:auto}@media (forced-colors:active){.tox .tox-statusbar__branding svg{fill:currentColor}}.tox .tox-statusbar__branding a{align-items:center;display:inline-flex}.tox .tox-statusbar__branding a:focus:not(:disabled):not([aria-disabled=true]) svg,.tox .tox-statusbar__branding a:hover:not(:disabled):not([aria-disabled=true]) svg{fill:#222f3e}.tox .tox-statusbar__resize-handle{align-items:flex-end;align-self:stretch;cursor:nwse-resize;display:flex;flex:0 0 auto;justify-content:flex-end;margin-bottom:3px;margin-left:4px;margin-right:calc(3px - 8px);margin-top:3px;padding-bottom:0;padding-left:0;padding-right:0;position:relative}.tox .tox-statusbar__resize-handle svg{display:block;fill:rgba(34,47,62,0.5)}.tox .tox-statusbar__resize-handle:focus svg,.tox .tox-statusbar__resize-handle:hover svg{fill:#222f3e}.tox .tox-statusbar__resize-handle:focus-visible{background-color:transparent;border-radius:1px 1px 5px 1px;box-shadow:0 0 0 2px transparent}.tox .tox-statusbar__resize-handle:focus-visible::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-statusbar__resize-handle:focus-visible::after{border:2px solid highlight}}.tox:not([dir=rtl]) .tox-statusbar__path>*{margin-right:4px}.tox:not([dir=rtl]) .tox-statusbar__branding{margin-left:2ch}.tox[dir=rtl] .tox-statusbar{flex-direction:row-reverse}.tox[dir=rtl] .tox-statusbar__path>*{margin-left:4px}.tox[dir=rtl] .tox-statusbar__branding svg{margin-left:0;margin-right:.3em}.tox .tox-throbber{z-index:1299}.tox .tox-throbber__busy-spinner{align-items:center;background-color:rgba(255,255,255,.6);bottom:0;display:flex;justify-content:center;left:0;position:absolute;right:0;top:0}.tox .tox-tbtn{align-items:center;background:#fff;border:0;border-radius:3px;box-shadow:none;color:#222f3e;display:flex;flex:0 0 auto;font-size:14px;font-style:normal;font-weight:400;height:28px;justify-content:center;margin:6px 1px 5px 0;outline:0;padding:0;text-transform:none;width:34px}@media (forced-colors:active){.tox .tox-tbtn.tox-tbtn:hover,.tox .tox-tbtn:hover{outline:1px dashed currentColor}.tox .tox-tbtn.tox-tbtn--active,.tox .tox-tbtn.tox-tbtn--enabled,.tox .tox-tbtn.tox-tbtn--enabled:focus,.tox .tox-tbtn.tox-tbtn--enabled:hover,.tox .tox-tbtn:focus:not(.tox-tbtn--disabled){outline:1px solid currentColor;position:relative}}.tox .tox-tbtn svg{display:block;fill:#222f3e}@media (forced-colors:active){.tox .tox-tbtn svg{fill:currentColor!important}.tox .tox-tbtn svg.tox-tbtn--enabled,.tox .tox-tbtn svg:focus:not(.tox-tbtn--disabled){fill:currentColor!important}.tox .tox-tbtn svg .tox-tbtn:disabled,.tox .tox-tbtn svg .tox-tbtn:disabled:hover,.tox .tox-tbtn svg.tox-tbtn--disabled,.tox .tox-tbtn svg.tox-tbtn--disabled:hover{filter:contrast(0%)}}.tox .tox-tbtn.tox-tbtn-more{padding-left:5px;padding-right:5px;width:inherit}.tox .tox-tbtn:focus{background:#fff;border:0;box-shadow:none;position:relative;z-index:1}.tox .tox-tbtn:focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-tbtn:focus::after{border:2px solid highlight}}.tox .tox-tbtn:hover{background:#f0f0f0;border:0;box-shadow:none;color:#222f3e}.tox .tox-tbtn:hover svg{fill:#222f3e}.tox .tox-tbtn:active{background:#a6ccf7;border:0;box-shadow:none;color:#222f3e}.tox .tox-tbtn:active svg{fill:#222f3e}.tox .tox-tbtn--disabled .tox-tbtn--enabled svg{fill:rgba(34,47,62,0.5)}.tox .tox-tbtn--disabled,.tox .tox-tbtn--disabled:hover,.tox .tox-tbtn:disabled,.tox .tox-tbtn:disabled:hover{background:#fff;border:0;box-shadow:none;color:rgba(34,47,62,.5);cursor:not-allowed}.tox .tox-tbtn--disabled svg,.tox .tox-tbtn--disabled:hover svg,.tox .tox-tbtn:disabled svg,.tox .tox-tbtn:disabled:hover svg{fill:rgba(34,47,62,0.5)}.tox .tox-tbtn--active,.tox .tox-tbtn--enabled,.tox .tox-tbtn--enabled:focus,.tox .tox-tbtn--enabled:hover{background:#a6ccf7;border:0;box-shadow:none;color:#222f3e;position:relative}.tox .tox-tbtn--active>*,.tox .tox-tbtn--enabled:focus>*,.tox .tox-tbtn--enabled:hover>*,.tox .tox-tbtn--enabled>*{transform:none}.tox .tox-tbtn--active svg,.tox .tox-tbtn--enabled svg,.tox .tox-tbtn--enabled:focus svg,.tox .tox-tbtn--enabled:hover svg{fill:#222f3e}.tox .tox-tbtn--active.tox-tbtn--disabled svg,.tox .tox-tbtn--enabled.tox-tbtn--disabled svg,.tox .tox-tbtn--enabled:focus.tox-tbtn--disabled svg,.tox .tox-tbtn--enabled:hover.tox-tbtn--disabled svg{fill:rgba(34,47,62,0.5)}.tox .tox-tbtn--enabled:focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-tbtn--enabled:focus::after{border:2px solid highlight}}.tox .tox-tbtn:focus:not(.tox-tbtn--disabled){color:#222f3e}.tox .tox-tbtn:focus:not(.tox-tbtn--disabled) svg{fill:#222f3e}.tox .tox-tbtn:active>*{transform:none}.tox .tox-tbtn--md{height:42px;width:51px}.tox .tox-tbtn--lg{flex-direction:column;height:56px;width:68px}.tox .tox-tbtn--return{align-self:stretch;height:unset;width:16px}.tox .tox-tbtn--labeled{padding:0 4px;width:unset}.tox .tox-tbtn__vlabel{display:block;font-size:10px;font-weight:400;letter-spacing:-.025em;margin-bottom:4px;white-space:nowrap}.tox .tox-number-input{background:#f7f7f7;border-radius:3px;display:flex;margin:6px 1px 5px 0;position:relative;width:auto}.tox .tox-number-input:focus{background:#f7f7f7}.tox .tox-number-input:focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-number-input:focus::after{border:2px solid highlight}}.tox .tox-number-input .tox-input-wrapper{display:flex;pointer-events:none;position:relative;text-align:center}.tox .tox-number-input .tox-input-wrapper:focus{background-color:#f7f7f7;z-index:1}.tox .tox-number-input .tox-input-wrapper:focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-number-input .tox-input-wrapper:focus::after{border:2px solid highlight}}.tox .tox-number-input .tox-input-wrapper:has(input:focus)::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-number-input .tox-input-wrapper:has(input:focus)::after{border:2px solid highlight}}.tox .tox-number-input input{border-radius:3px;color:#222f3e;font-size:14px;margin:2px 0;pointer-events:all;position:relative;width:60px}.tox .tox-number-input input:hover{background:#f0f0f0;color:#222f3e}.tox .tox-number-input input:focus{background-color:#f7f7f7}.tox .tox-number-input input:disabled{background:#fff;border:0;box-shadow:none;color:rgba(34,47,62,.5);cursor:not-allowed}.tox .tox-number-input button{color:#222f3e;height:28px;position:relative;text-align:center;width:24px}@media (forced-colors:active){.tox .tox-number-input button:active,.tox .tox-number-input button:focus,.tox .tox-number-input button:hover{outline:1px solid currentColor!important}}.tox .tox-number-input button svg{display:block;fill:#222f3e;margin:0 auto;transform:scale(.67)}@media (forced-colors:active){.tox .tox-number-input button svg,.tox .tox-number-input button svg:active,.tox .tox-number-input button svg:hover{fill:currentColor!important}.tox .tox-number-input button svg:disabled{filter:contrast(0)}}.tox .tox-number-input button:focus{background:#f7f7f7;z-index:1}.tox .tox-number-input button:focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-number-input button:focus::after{border:2px solid highlight}}.tox .tox-number-input button:hover{background:#f0f0f0;border:0;box-shadow:none;color:#222f3e}.tox .tox-number-input button:hover svg{fill:#222f3e}.tox .tox-number-input button:active{background:#a6ccf7;border:0;box-shadow:none;color:#222f3e}.tox .tox-number-input button:active svg{fill:#222f3e}.tox .tox-number-input button:disabled{background:#fff;border:0;box-shadow:none;color:rgba(34,47,62,.5);cursor:not-allowed}.tox .tox-number-input button:disabled svg{fill:rgba(34,47,62,0.5)}.tox .tox-number-input button.minus{border-radius:3px 0 0 3px}.tox .tox-number-input button.plus{border-radius:0 3px 3px 0}.tox .tox-number-input:focus:not(:active)>.tox-input-wrapper,.tox .tox-number-input:focus:not(:active)>button{background:#f7f7f7}.tox .tox-tbtn--select{margin:6px 1px 5px 0;padding:0 4px;width:auto}.tox .tox-tbtn__select-label{cursor:default;font-weight:400;height:initial;margin:0 4px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.tox .tox-tbtn__select-chevron{align-items:center;display:flex;justify-content:center;width:16px}.tox .tox-tbtn__select-chevron svg{fill:rgba(34,47,62,0.5)}@media (forced-colors:active){.tox .tox-tbtn__select-chevron svg{fill:currentColor}}.tox .tox-tbtn--bespoke{background:#f7f7f7}.tox .tox-tbtn--bespoke:focus{background:#f7f7f7}.tox .tox-tbtn--bespoke+.tox-tbtn--bespoke{margin-inline-start:4px}.tox .tox-tbtn--bespoke .tox-tbtn__select-label{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;width:7em}.tox .tox-tbtn--disabled .tox-tbtn__select-label,.tox .tox-tbtn--select:disabled .tox-tbtn__select-label{cursor:not-allowed}.tox .tox-split-button{border:0;border-radius:3px;box-sizing:border-box;display:flex;margin:6px 1px 5px 0}.tox .tox-split-button:hover{box-shadow:0 0 0 1px #f0f0f0 inset}.tox .tox-split-button:focus{background:#fff;box-shadow:none;color:#222f3e;position:relative;z-index:1}.tox .tox-split-button:focus::after{pointer-events:none;border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-split-button:focus::after{border:2px solid highlight}}.tox .tox-split-button>*{border-radius:0}.tox .tox-split-button>:first-child{border-bottom-left-radius:3px;border-top-left-radius:3px}.tox .tox-split-button>:nth-child(2){border-bottom-right-radius:3px;border-top-right-radius:3px}.tox .tox-split-button__chevron{width:16px}.tox .tox-split-button__chevron svg{fill:rgba(34,47,62,0.5)}@media (forced-colors:active){.tox .tox-split-button__chevron svg{fill:currentColor}}.tox .tox-split-button .tox-tbtn{margin:0}.tox .tox-split-button:focus .tox-tbtn{background-color:transparent}.tox .tox-split-button.tox-tbtn--disabled .tox-tbtn:focus,.tox .tox-split-button.tox-tbtn--disabled .tox-tbtn:hover,.tox .tox-split-button.tox-tbtn--disabled:focus,.tox .tox-split-button.tox-tbtn--disabled:hover{background:#fff;box-shadow:none;color:rgba(34,47,62,.5)}.tox.tox-platform-touch .tox-split-button .tox-tbtn--select{padding:0 0}.tox.tox-platform-touch .tox-split-button .tox-tbtn:not(.tox-tbtn--select):first-child{width:30px}.tox.tox-platform-touch .tox-split-button__chevron{width:20px}.tox .tox-split-button.tox-tbtn--disabled svg #tox-icon-highlight-bg-color__color,.tox .tox-split-button.tox-tbtn--disabled svg #tox-icon-text-color__color{opacity:.6}.tox .tox-toolbar-overlord{background-color:#fff}.tox .tox-toolbar,.tox .tox-toolbar__overflow,.tox .tox-toolbar__primary{background-attachment:local;background-color:#fff;background-image:repeating-linear-gradient(#e3e3e3 0 1px,transparent 1px 39px);background-position:center top 40px;background-repeat:no-repeat;background-size:calc(100% - 11px * 2) calc(100% - 41px);display:flex;flex:0 0 auto;flex-shrink:0;flex-wrap:wrap;padding:0 0;transform:perspective(1px)}.tox .tox-toolbar-overlord>.tox-toolbar,.tox .tox-toolbar-overlord>.tox-toolbar__overflow,.tox .tox-toolbar-overlord>.tox-toolbar__primary{background-position:center top 0;background-size:calc(100% - 11px * 2) calc(100% - 0)}.tox .tox-toolbar__overflow.tox-toolbar__overflow--closed{height:0;opacity:0;padding-bottom:0;padding-top:0;visibility:hidden}.tox .tox-toolbar__overflow--growing{transition:height .3s ease,opacity .2s linear .1s}.tox .tox-toolbar__overflow--shrinking{transition:opacity .3s ease,height .2s linear .1s,visibility 0s linear .3s}.tox .tox-anchorbar,.tox .tox-toolbar-overlord{grid-column:1/-1}.tox .tox-menubar+.tox-toolbar,.tox .tox-menubar+.tox-toolbar-overlord{border-top:1px solid transparent;margin-top:-1px;padding-bottom:1px;padding-top:1px}@media (forced-colors:active){.tox .tox-menubar+.tox-toolbar,.tox .tox-menubar+.tox-toolbar-overlord{outline:1px solid currentColor}}.tox .tox-toolbar--scrolling{flex-wrap:nowrap;overflow-x:auto}.tox .tox-pop .tox-toolbar{border-width:0}.tox .tox-toolbar--no-divider{background-image:none}.tox .tox-toolbar-overlord .tox-toolbar:not(.tox-toolbar--scrolling):first-child,.tox .tox-toolbar-overlord .tox-toolbar__primary{background-position:center top 39px}.tox .tox-editor-header>.tox-toolbar--scrolling,.tox .tox-toolbar-overlord .tox-toolbar--scrolling:first-child{background-image:none}.tox.tox-tinymce-aux .tox-toolbar__overflow{background-color:#fff;background-position:center top 43px;background-size:calc(100% - 8px * 2) calc(100% - 51px);border:none;border-radius:6px;box-shadow:0 0 2px 0 rgba(34,47,62,.2),0 4px 8px 0 rgba(34,47,62,.15);overscroll-behavior:none;padding:4px 0}@media (forced-colors:active){.tox.tox-tinymce-aux .tox-toolbar__overflow{border:solid}}.tox-pop .tox-pop__dialog .tox-toolbar{background-position:center top 43px;background-size:calc(100% - 11px * 2) calc(100% - 51px);padding:4px 0}.tox .tox-toolbar__group{align-items:center;display:flex;flex-wrap:wrap;margin:0 0;padding:0 11px 0 12px}.tox .tox-toolbar__group--pull-right{margin-left:auto}.tox .tox-toolbar--scrolling .tox-toolbar__group{flex-shrink:0;flex-wrap:nowrap}.tox:not([dir=rtl]) .tox-toolbar__group:not(:last-of-type){border-right:1px solid transparent}.tox[dir=rtl] .tox-toolbar__group:not(:last-of-type){border-left:1px solid transparent}.tox .tox-tooltip{display:inline-block;max-width:15em;padding:8px;pointer-events:none;position:relative;width:max-content;z-index:1150}.tox .tox-tooltip__body{background-color:#222f3e;border-radius:6px;box-shadow:none;color:#fff;font-size:12px;font-style:normal;font-weight:600;overflow-wrap:break-word;padding:4px 6px;text-transform:none}@media (forced-colors:active){.tox .tox-tooltip__body{outline:outset 1px}}.tox .tox-tooltip__arrow{position:absolute}.tox .tox-tooltip--down .tox-tooltip__arrow{border-left:8px solid transparent;border-right:8px solid transparent;border-top:8px solid #222f3e;bottom:0;left:50%;position:absolute;transform:translateX(-50%)}.tox .tox-tooltip--up .tox-tooltip__arrow{border-bottom:8px solid #222f3e;border-left:8px solid transparent;border-right:8px solid transparent;left:50%;position:absolute;top:0;transform:translateX(-50%)}.tox .tox-tooltip--right .tox-tooltip__arrow{border-bottom:8px solid transparent;border-left:8px solid #222f3e;border-top:8px solid transparent;position:absolute;right:0;top:50%;transform:translateY(-50%)}.tox .tox-tooltip--left .tox-tooltip__arrow{border-bottom:8px solid transparent;border-right:8px solid #222f3e;border-top:8px solid transparent;left:0;position:absolute;top:50%;transform:translateY(-50%)}.tox .tox-tree{display:flex;flex-direction:column}.tox .tox-tree .tox-trbtn{align-items:center;background:0 0;border:0;border-radius:4px;box-shadow:none;color:#222f3e;display:flex;flex:0 0 auto;font-size:14px;font-style:normal;font-weight:400;height:28px;margin-bottom:4px;margin-top:4px;outline:0;overflow:hidden;padding:0;padding-left:8px;text-transform:none}.tox .tox-tree .tox-trbtn .tox-tree__label{cursor:default;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.tox .tox-tree .tox-trbtn svg{display:block;fill:#222f3e}.tox .tox-tree .tox-trbtn:focus{background:#f0f0f0;border:0;box-shadow:none}.tox .tox-tree .tox-trbtn:hover{background:#f0f0f0;border:0;box-shadow:none;color:#222f3e}.tox .tox-tree .tox-trbtn:hover svg{fill:#222f3e}.tox .tox-tree .tox-trbtn:active{background:#a6ccf7;border:0;box-shadow:none;color:#222f3e}.tox .tox-tree .tox-trbtn:active svg{fill:#222f3e}.tox .tox-tree .tox-trbtn--disabled,.tox .tox-tree .tox-trbtn--disabled:hover,.tox .tox-tree .tox-trbtn:disabled,.tox .tox-tree .tox-trbtn:disabled:hover{background:0 0;border:0;box-shadow:none;color:rgba(34,47,62,.5);cursor:not-allowed}.tox .tox-tree .tox-trbtn--disabled svg,.tox .tox-tree .tox-trbtn--disabled:hover svg,.tox .tox-tree .tox-trbtn:disabled svg,.tox .tox-tree .tox-trbtn:disabled:hover svg{fill:rgba(34,47,62,0.5)}.tox .tox-tree .tox-trbtn--enabled,.tox .tox-tree .tox-trbtn--enabled:hover{background:#a6ccf7;border:0;box-shadow:none;color:#222f3e}.tox .tox-tree .tox-trbtn--enabled:hover>*,.tox .tox-tree .tox-trbtn--enabled>*{transform:none}.tox .tox-tree .tox-trbtn--enabled svg,.tox .tox-tree .tox-trbtn--enabled:hover svg{fill:#222f3e}.tox .tox-tree .tox-trbtn:focus:not(.tox-trbtn--disabled){color:#222f3e}.tox .tox-tree .tox-trbtn:focus:not(.tox-trbtn--disabled) svg{fill:#222f3e}.tox .tox-tree .tox-trbtn:active>*{transform:none}.tox .tox-tree .tox-trbtn--return{align-self:stretch;height:unset;width:16px}.tox .tox-tree .tox-trbtn--labeled{padding:0 4px;width:unset}.tox .tox-tree .tox-trbtn__vlabel{display:block;font-size:10px;font-weight:400;letter-spacing:-.025em;margin-bottom:4px;white-space:nowrap}.tox .tox-tree .tox-tree--directory{display:flex;flex-direction:column}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label{font-weight:700}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label .tox-mbtn{margin-left:auto}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label .tox-mbtn svg{fill:transparent}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label .tox-mbtn.tox-mbtn--active svg,.tox .tox-tree .tox-tree--directory .tox-tree--directory__label .tox-mbtn:focus svg{fill:#222f3e}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:focus .tox-mbtn svg,.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:hover .tox-mbtn svg{fill:#222f3e}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:hover:has(.tox-mbtn:hover){background-color:transparent;color:#222f3e}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:hover:has(.tox-mbtn:hover) .tox-chevron svg{fill:#222f3e}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label .tox-chevron{margin-right:6px}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:has(+ .tox-tree--directory__children--growing) .tox-chevron,.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:has(+ .tox-tree--directory__children--shrinking) .tox-chevron{transition:transform .5s ease-in-out}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:has(+ .tox-tree--directory__children--growing) .tox-chevron,.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:has(+ .tox-tree--directory__children--open) .tox-chevron{transform:rotate(90deg)}.tox .tox-tree .tox-tree--leaf__label{font-weight:400}.tox .tox-tree .tox-tree--leaf__label .tox-mbtn{margin-left:auto}.tox .tox-tree .tox-tree--leaf__label .tox-mbtn svg{fill:transparent}.tox .tox-tree .tox-tree--leaf__label .tox-mbtn.tox-mbtn--active svg,.tox .tox-tree .tox-tree--leaf__label .tox-mbtn:focus svg{fill:#222f3e}.tox .tox-tree .tox-tree--leaf__label:hover .tox-mbtn svg{fill:#222f3e}.tox .tox-tree .tox-tree--leaf__label:hover:has(.tox-mbtn:hover){background-color:transparent;color:#222f3e}.tox .tox-tree .tox-tree--leaf__label:hover:has(.tox-mbtn:hover) .tox-chevron svg{fill:#222f3e}.tox .tox-tree .tox-tree--directory__children{overflow:hidden;padding-left:16px}.tox .tox-tree .tox-tree--directory__children.tox-tree--directory__children--growing,.tox .tox-tree .tox-tree--directory__children.tox-tree--directory__children--shrinking{transition:height .5s ease-in-out}.tox .tox-tree .tox-trbtn.tox-tree--leaf__label{display:flex;justify-content:space-between}.tox .tox-revisionhistory__pane{padding:0!important}.tox .tox-revisionhistory__container{display:flex;flex-direction:column;height:100%}.tox .tox-revisionhistory{background-color:#fff;border-top:1px solid #f0f0f0;display:flex;flex:1;height:100%;margin-top:8px;overflow-x:auto;overflow-y:hidden;position:relative;width:100%}.tox .tox-revisionhistory--align-right{margin-left:auto}.tox .tox-revisionhistory__iframe{flex:1}.tox .tox-revisionhistory__sidebar{display:flex;flex-direction:column;height:100%;min-width:248px;width:316px}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__sidebar-title{background-color:#fff;box-shadow:0 4px 8px 0 rgba(34,47,62,.1);color:#222f3e;font-size:20px;font-weight:400;line-height:28px;padding:12px;z-index:1}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions{background-color:#f0f0f0;display:flex;flex:1;flex-direction:column;gap:12px;overflow-y:auto;padding:10px 12px}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions:focus{height:100%;position:relative;z-index:1}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions:focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0;border-radius:6px;bottom:1px;left:1px;right:1px;top:1px}@media (forced-colors:active){.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions:focus::after{border:2px solid highlight}}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card{background-color:#fff;border:1px solid #f0f0f0;border-radius:6px;color:#222f3e;cursor:pointer;display:flex;flex-direction:column;font-size:14px;gap:12px;padding:12px;width:100%}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card:hover{box-shadow:0 4px 8px 0 rgba(34,47,62,.1)}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card:focus{position:relative;z-index:1}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card:focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7 #006ce7;content:'';left:0;position:absolute;right:0;top:0;border-radius:6px;box-shadow:0 0 0 2px #006ce7;box-shadow:0 0 0 2px #006ce7!important}@media (forced-colors:active){.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card:focus::after{border:2px solid highlight}}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card.tox-revisionhistory__card--selected{background-color:#fff5cc;box-shadow:0 4px 8px 0 rgba(34,47,62,.1);position:relative}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card.tox-revisionhistory__card--selected::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7 #e3b82a;content:'';left:0;position:absolute;right:0;top:0;border-radius:6px;box-shadow:0 0 0 2px #e3b82a}@media (forced-colors:active){.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card.tox-revisionhistory__card--selected::after{border:2px solid highlight}}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card-date{display:flex;gap:12px;justify-content:space-between}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card-date-label{font-size:16px;line-height:24px}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card-label{font-size:12px;font-weight:600;line-height:24px;padding:0}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card-author{align-items:center;display:flex;flex:1 0 0;gap:8px;height:36px}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card-author-name{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;font-size:14px;font-weight:700;line-height:18px}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__avatar{border-radius:50%;height:36px;object-fit:cover;vertical-align:middle;width:36px}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__norevision{color:rgba(34,47,62,.7);font-size:16px;line-height:24px;padding:5px 5.5px}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card-check-icon{color:#222f3e;height:24px}.tox .tox-view-wrap,.tox .tox-view-wrap__slot-container{background-color:#fff;display:flex;flex:1;flex-direction:column;height:100%}.tox .tox-view{display:flex;flex:1 1 auto;flex-direction:column;overflow:hidden}.tox .tox-view__header{align-items:center;display:flex;font-size:16px;justify-content:space-between;padding:10px 10px 2px 10px;position:relative}.tox .tox-view__label{color:#222f3e;font-weight:700;line-height:24px;padding:4px 16px;text-align:center;white-space:nowrap}.tox .tox-view__label--normal{font-size:16px}.tox .tox-view__label--large{font-size:20px}.tox .tox-view--mobile.tox-view__header,.tox .tox-view--mobile.tox-view__toolbar{padding:8px}.tox .tox-view--scrolling{flex-wrap:nowrap;overflow-x:auto}.tox .tox-view__toolbar{display:flex;flex-direction:row;gap:8px;justify-content:space-between;overflow-x:auto;padding:10px 10px 2px 10px}.tox .tox-view__toolbar__group{display:flex;flex-direction:row;gap:12px}.tox .tox-view__header-end,.tox .tox-view__header-start{display:flex}.tox .tox-view__pane{height:100%;padding:8px;position:relative;width:100%}.tox .tox-view__pane_panel{border:1px solid #eee;border-radius:6px}.tox:not([dir=rtl]) .tox-view__header .tox-view__header-end>*,.tox:not([dir=rtl]) .tox-view__header .tox-view__header-start>*{margin-left:8px}.tox[dir=rtl] .tox-view__header .tox-view__header-end>*,.tox[dir=rtl] .tox-view__header .tox-view__header-start>*{margin-right:8px}.tox .tox-well{border:1px solid #eee;border-radius:6px;padding:8px;width:100%}.tox .tox-well>:first-child{margin-top:0}.tox .tox-well>:last-child{margin-bottom:0}.tox .tox-well>:only-child{margin:0}.tox .tox-custom-editor{border:1px solid #eee;border-radius:6px;display:flex;flex:1;overflow:hidden;position:relative}.tox .tox-dialog-loading::before{background-color:rgba(0,0,0,.5);content:"";height:100%;position:absolute;width:100%;z-index:1000}.tox .tox-tab{cursor:pointer}.tox .tox-dialog__content-js{display:flex;flex:1}.tox .tox-dialog__body-content .tox-collection{display:flex;flex:1}`);tinymce.addI18n("de",{"#":"#",Accessibility:"Barrierefreiheit",Accordion:"","Accordion body...":"","Accordion summary...":"",Action:"Aktion",Activity:"Aktivitt",Address:"Adresse",Advanced:"Erweitert",Align:"Ausrichtung","Align center":"Zentrieren","Align left":"Linksbndig ausrichten","Align right":"Rechtsbndig ausrichten",Alignment:"Ausrichtung","Alignment {0}":"",All:"Alle","Alternative description":"Alternative Beschreibung","Alternative source":"Alternative Quelle","Alternative source URL":"URL der alternativen Quelle",Anchor:"Anker","Anchor...":"Textmarke",Anchors:"Anker","Animals and Nature":"Tiere und Natur",Arrows:"Pfeile",B:"B","Background color":"Hintergrundfarbe","Background color {0}":"",Black:"Schwarz",Block:"Blocksatz","Block {0}":"",Blockquote:"Blockzitat",Blocks:"Blcke",Blue:"Blau","Blue component":"Blauanteil",Body:"Inhalt",Bold:"Fett",Border:"Rahmen","Border color":"Rahmenfarbe","Border style":"Rahmenstil","Border width":"Rahmenbreite",Bottom:"Unten","Browse files":"","Browse for an image":"Bild...","Browse links":"","Bullet list":"Aufzhlung",Cancel:"Abbrechen",Caption:"Beschriftung",Cell:"Zelle","Cell padding":"Zelleninnenabstand","Cell properties":"Zelleigenschaften","Cell spacing":"Zellenabstand","Cell styles":"Zellstil","Cell type":"Zelltyp",Center:"Zentriert",Characters:"Zeichen","Characters (no spaces)":"Zeichen (ohne Leerzeichen)",Circle:"Kreis",Class:"Klasse","Clear formatting":"Formatierung entfernen",Close:"Schlieen",Code:"Code","Code sample...":"Codebeispiel...","Code view":"Code Ansicht","Color Picker":"Farbwahl","Color swatch":"Farbpalette",Cols:"Spalten",Column:"Spalte","Column clipboard actions":"Spalten-Zwischenablage-Aktionen","Column group":"Spaltengruppe","Column header":"Spaltenkopf","Constrain proportions":"Seitenverhltnis beibehalten",Copy:"Kopieren","Copy column":"Spalte kopieren","Copy row":"Zeile kopieren","Could not find the specified string.":"Die angegebene Zeichenfolge wurde nicht gefunden.","Could not load emojis":"Emojis konnten nicht geladen werden",Count:"Anzahl",Currency:"Whrung","Current window":"Aktuelles Fenster","Custom color":"Benutzerdefinierte Farbe","Custom...":"Benutzerdefiniert...",Cut:"Ausschneiden","Cut column":"Spalte ausschneiden","Cut row":"Zeile ausschneiden","Dark Blue":"Dunkelblau","Dark Gray":"Dunkelgrau","Dark Green":"Dunkelgrn","Dark Orange":"Dunkelorange","Dark Purple":"Dunkellila","Dark Red":"Dunkelrot","Dark Turquoise":"Dunkeltrkis","Dark Yellow":"Dunkelgelb",Dashed:"Gestrichelt","Date/time":"Datum/Uhrzeit","Decrease indent":"Einzug verkleinern",Default:"Standard","Delete accordion":"","Delete column":"Spalte lschen","Delete row":"Zeile lschen","Delete table":"Tabelle lschen",Dimensions:"Abmessungen",Disc:"Scheibe",Div:"Div",Document:"Dokument",Dotted:"Gepunktet",Double:"Doppelt","Drop an image here":"Bild hier ablegen","Dropped file type is not supported":"Hereingezogener Dateityp wird nicht untersttzt",Edit:"Bearbeiten",Embed:"Einbettung",Emojis:"Emojis","Emojis...":"Emojis...",Error:"Fehler","Error: Form submit field collision.":"Fehler: Kollision der Formularbesttigungsfelder.","Error: No form element found.":"Fehler: Kein Formularelement gefunden.","Extended Latin":"Erweitertes Latein","Failed to initialize plugin: {0}":"Plugin konnte nicht initialisiert werden: {0}","Failed to load plugin url: {0}":"Plugin-URL konnte nicht geladen werden: {0}","Failed to load plugin: {0} from url {1}":"Plugin konnte nicht geladen werden: {0} von URL {1}","Failed to upload image: {0}":"Bild konnte nicht hochgeladen werden: {0}",File:"Datei",Find:"Suchen","Find (if searchreplace plugin activated)":"Suchen (wenn Suchen/Ersetzen-Plugin aktiviert ist)","Find and Replace":"Suchen und Ersetzen","Find and replace...":"Suchen und ersetzen...","Find in selection":"In Auswahl suchen","Find whole words only":"Nur ganze Wrter suchen",Flags:"Flaggen","Focus to contextual toolbar":"Fokus auf kontextbezogene Symbolleiste","Focus to element path":"Fokus auf Elementpfad","Focus to menubar":"Fokus auf Menleiste","Focus to toolbar":"Fokus auf Symbolleiste",Font:"Schriftart","Font size {0}":"","Font sizes":"Schriftgren","Font {0}":"",Fonts:"Schriftarten","Food and Drink":"Essen und Trinken",Footer:"Fuzeile",Format:"Format","Format {0}":"",Formats:"Formate",Fullscreen:"Vollbild",G:"G",General:"Allgemein",Gray:"Grau",Green:"Grn","Green component":"Grnanteil",Groove:"Gekantet","Handy Shortcuts":"Praktische Tastenkombinationen",Header:"Kopfzeile","Header cell":"Kopfzelle","Heading 1":"berschrift 1","Heading 2":"berschrift 2","Heading 3":"berschrift 3","Heading 4":"berschrift 4","Heading 5":"berschrift 5","Heading 6":"berschrift 6",Headings:"berschriften",Height:"Hhe",Help:"Hilfe","Hex color code":"Hexadezimal-Farbwert",Hidden:"Unsichtbar","Horizontal align":"Horizontal ausrichten","Horizontal line":"Horizontale Linie","Horizontal space":"Horizontaler Raum",ID:"ID","ID should start with a letter, followed only by letters, numbers, dashes, dots, colons or underscores.":"Die ID muss mit einem Buchstaben beginnen gefolgt von Buchstaben, Zahlen, Bindestrichen, Punkten, Doppelpunkten oder Unterstrichen.","Image is decorative":"Bild ist dekorativ","Image list":"Bildliste","Image title":"Bildtitel","Image...":"Bild...","ImageProxy HTTP error: Could not find Image Proxy":"Image Proxy HTTP Fehler: Kann Image Proxy nicht finden","ImageProxy HTTP error: Incorrect Image Proxy URL":"Image Proxy HTTP Fehler: Falsche Image Proxy URL","ImageProxy HTTP error: Rejected request":"Image Proxy HTTP Fehler: Abgewiesene Anfrage","ImageProxy HTTP error: Unknown ImageProxy error":"Image Proxy HTTP Fehler: Unbekannter Image Proxy Fehler","Increase indent":"Einzug vergrern",Inline:"Zeichenformate",Insert:"Einfgen","Insert Template":"Vorlage einfgen","Insert accordion":"","Insert column after":"Neue Spalte danach einfgen","Insert column before":"Neue Spalte davor einfgen","Insert date/time":"Datum/Uhrzeit einfgen","Insert image":"Bild einfgen","Insert link (if link plugin activated)":"Link einfgen (wenn Link-Plugin aktiviert ist)","Insert row after":"Neue Zeile danach einfgen","Insert row before":"Neue Zeile davor einfgen","Insert table":"Tabelle einfgen","Insert template...":"Vorlage einfgen...","Insert video":"Video einfgen","Insert/Edit code sample":"Codebeispiel einfgen/bearbeiten","Insert/edit image":"Bild einfgen/bearbeiten","Insert/edit link":"Link einfgen/bearbeiten","Insert/edit media":"Medien einfgen/bearbeiten","Insert/edit video":"Video einfgen/bearbeiten",Inset:"Eingelassen","Invalid hex color code: {0}":"Ungltiger Hexadezimal-Farbwert: {0}","Invalid input":"Ungltige Eingabe",Italic:"Kursiv",Justify:"Blocksatz","Keyboard Navigation":"Tastaturnavigation",Language:"Sprache","Learn more...":"Erfahren Sie mehr dazu...",Left:"Links","Left to right":"Von links nach rechts","Light Blue":"Hellblau","Light Gray":"Hellgrau","Light Green":"Hellgrn","Light Purple":"Helllila","Light Red":"Hellrot","Light Yellow":"Hellgelb","Line height":"Liniendicke","Link list":"Linkliste","Link...":"Link...","List Properties":"Liste Eigenschaften","List properties...":"Liste Eigenschaften","Loading emojis...":"Lade Emojis...","Loading...":"Wird geladen...","Lower Alpha":"Lateinisches Alphabet in Kleinbuchstaben","Lower Greek":"Griechische Kleinbuchstaben","Lower Roman":"Kleiner rmischer Buchstabe","Match case":"Gro-/Kleinschreibung beachten",Mathematical:"Mathematisch","Media poster (Image URL)":"Medienposter (Bild-URL)","Media...":"Medien...","Medium Blue":"Mittleres Blau","Medium Gray":"Mittelgrau","Medium Purple":"Mittelviolett","Merge cells":"Zellen verbinden",Middle:"Mitte","Midnight Blue":"Mitternachtsblau","More...":"Mehr...",Name:"Name","Navy Blue":"Marineblau","New document":"Neues Dokument","New window":"Neues Fenster",Next:"Nchste",No:"Nein","No alignment":"Keine Ausrichtung","No color":"Keine Farbe","Nonbreaking space":"Geschtztes Leerzeichen",None:"Keine","Numbered list":"Nummerierte Liste",OR:"ODER",Objects:"Objekte",Ok:"Ok","Open help dialog":"Hilfe-Dialog ffnen","Open link":"Link ffnen","Open link in...":"Link ffnen in...","Open popup menu for split buttons":"ffne Popup Menge um Buttons zu trennen",Orange:"Orange",Outset:"Hervorstehend","Page break":"Seitenumbruch",Paragraph:"Absatz",Paste:"Einfgen","Paste as text":"Als Text einfgen","Paste column after":"Spalte danach einfgen","Paste column before":"Spalte davor einfgen","Paste is now in plain text mode. Contents will now be pasted as plain text until you toggle this option off.":"Einfgen ist nun im unformatierten Textmodus. Inhalte werden ab jetzt als unformatierter Text eingefgt, bis Sie diese Einstellung wieder deaktivieren.","Paste or type a link":"Link einfgen oder eingeben","Paste row after":"Zeile danach einfgen","Paste row before":"Zeile davor einfgen","Paste your embed code below:":"Fgen Sie Ihren Einbettungscode unten ein:",People:"Menschen",Plugins:"Plugins","Plugins installed ({0}):":"Installierte Plugins ({0}):","Powered by {0}":"Betrieben von {0}",Pre:"Pre",Preferences:"Einstellungen",Preformatted:"Vorformatiert","Premium plugins:":"Premium-Plugins:","Press the Up and Down arrow keys to resize the editor.":"","Press the arrow keys to resize the editor.":"","Press {0} for help":"",Preview:"Vorschau",Previous:"Vorherige",Print:"Drucken","Print...":"Drucken...",Purple:"Violett",Quotations:"Anfhrungszeichen",R:"R","Range 0 to 255":"Spanne 0 bis 255",Red:"Rot","Red component":"Rotanteil",Redo:"Wiederholen",Remove:"Entfernen","Remove color":"Farbauswahl aufheben","Remove link":"Link entfernen",Replace:"Ersetzen","Replace all":"Alle ersetzen","Replace with":"Ersetzen durch",Resize:"Skalieren","Restore last draft":"Letzten Entwurf wiederherstellen","Reveal or hide additional toolbar items":"","Rich Text Area":"Rich-Text-Area","Rich Text Area. Press ALT-0 for help.":"Rich-Text-Bereich. Drcken Sie Alt+0 fr Hilfe.","Rich Text Area. Press ALT-F9 for menu. Press ALT-F10 for toolbar. Press ALT-0 for help":"Rich-Text-Bereich. Drcken Sie Alt+F9 fr das Men. Drcken Sie Alt+F10 fr die Symbolleiste. Drcken Sie Alt+0 fr Hilfe.",Ridge:"Eingeritzt",Right:"Rechts","Right to left":"Von rechts nach links",Row:"Zeile","Row clipboard actions":"Zeilen-Zwischenablage-Aktionen","Row group":"Zeilengruppe","Row header":"Zeilenkopf","Row properties":"Zeileneigenschaften","Row type":"Zeilentyp",Rows:"Zeilen",Save:"Speichern","Save (if save plugin activated)":"Speichern (wenn Save-Plugin aktiviert ist)",Scope:"Bereich",Search:"Suchen","Select all":"Alles auswhlen","Select...":"Auswahl...",Selection:"Auswahl",Shortcut:"Tastenkombination","Show blocks":"Blcke anzeigen","Show caption":"Beschriftung anzeigen","Show invisible characters":"Unsichtbare Zeichen anzeigen",Size:"Schriftgre",Solid:"Durchgezogen",Source:"Quelle","Source code":"Quellcode","Special Character":"Sonderzeichen","Special character...":"Sonderzeichen...","Split cell":"Zelle aufteilen",Square:"Rechteck","Start list at number":"Beginne Liste mit Nummer",Strikethrough:"Durchgestrichen",Style:"Formatvorlage",Subscript:"Tiefgestellt",Superscript:"Hochgestellt","Switch to or from fullscreen mode":"Vollbildmodus umschalten",Symbols:"Symbole","System Font":"Betriebssystemschriftart",Table:"Tabelle","Table caption":"Tabellenbeschriftung","Table properties":"Tabelleneigenschaften","Table styles":"Tabellenstil",Template:"Vorlage",Templates:"Vorlagen",Text:"Text","Text color":"Textfarbe","Text color {0}":"","Text to display":"Anzuzeigender Text","The URL you entered seems to be an email address. Do you want to add the required mailto: prefix?":"Diese URL scheint eine E-Mail-Adresse zu sein. Mchten Sie das dazu bentigte mailto: voranstellen?","The URL you entered seems to be an external link. Do you want to add the required http:// prefix?":"Diese URL scheint ein externer Link zu sein. Mchten Sie das dazu bentigte http:// voranstellen?","The URL you entered seems to be an external link. Do you want to add the required https:// prefix?":"Die eingegebene URL scheint ein externer Link zu sein. Soll das fehlende https:// davor ergnzt werden?",Title:"Titel","To open the popup, press Shift+Enter":"Drcken Sie Umschalt+Eingabe, um das Popup-Fenster zu ffnen.","Toggle accordion":"",Tools:"Werkzeuge",Top:"Oben","Travel and Places":"Reisen und Orte",Turquoise:"Trkis",Underline:"Unterstrichen",Undo:"Rckgngig machen",Upload:"Hochladen","Uploading image":"Bild wird hochgeladen","Upper Alpha":"Lateinisches Alphabet in Grobuchstaben","Upper Roman":"Groer rmischer Buchstabe",Url:"URL","User Defined":"Benutzerdefiniert",Valid:"Gltig",Version:"Version","Vertical align":"Vertikal ausrichten","Vertical space":"Vertikaler Raum",View:"Ansicht","Visual aids":"Visuelle Hilfen",Warn:"Warnung",White:"Wei",Width:"Breite","Word count":"Anzahl der Wrter",Words:"Wrter","Words: {0}":"Wortzahl: {0}",Yellow:"Gelb",Yes:"Ja","You are using {0}":"Sie verwenden {0}","You have unsaved changes are you sure you want to navigate away?":"Die nderungen wurden noch nicht gespeichert. Sind Sie sicher, dass Sie diese Seite verlassen wollen?","Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.":"Ihr Browser untersttzt leider keinen direkten Zugriff auf die Zwischenablage. Bitte benutzen Sie die Tastenkombinationen Strg+X/C/V.",alignment:"Ausrichtung","austral sign":"Australzeichen","cedi sign":"Cedizeichen","colon sign":"Doppelpunkt","cruzeiro sign":"Cruzeirozeichen","currency sign":"Whrungssymbol","dollar sign":"Dollarzeichen","dong sign":"Dongzeichen","drachma sign":"Drachmezeichen","euro-currency sign":"Eurozeichen",example:"Beispiel",formatting:"Formatierung","french franc sign":"Franczeichen","german penny symbol":"Pfennigzeichen","guarani sign":"Guaranizeichen",history:"Historie","hryvnia sign":"Hrywnjazeichen",indentation:"Einrckungen","indian rupee sign":"Indisches Rupiezeichen","kip sign":"Kipzeichen","lira sign":"Lirezeichen","livre tournois sign":"Livrezeichen","manat sign":"Manatzeichen","mill sign":"Millzeichen","naira sign":"Nairazeichen","new sheqel sign":"Schekelzeichen","nordic mark sign":"Zeichen nordische Mark","peseta sign":"Pesetazeichen","peso sign":"Pesozeichen","ruble sign":"Rubelzeichen","rupee sign":"Rupiezeichen","spesmilo sign":"Spesmilozeichen",styles:"Stile","tenge sign":"Tengezeichen","tugrik sign":"Tugrikzeichen","turkish lira sign":"Trkisches Lirazeichen","won sign":"Wonzeichen","yen character":"Yenzeichen","yen/yuan character variant one":"Yen-/Yuanzeichen Variante 1","yuan character":"Yuanzeichen","yuan character, in hong kong and taiwan":"Yuanzeichen in Hongkong und Taiwan","{0} characters":"{0}Zeichen","{0} columns, {1} rows":"","{0} words":"{0} Wrter"});var hX={},pX={},bX;function RCe(){return bX||(bX=1,function(){var t=tinymce.util.Tools.resolve("tinymce.PluginManager");const r=(L,G,ce)=>{var $e;return ce(L,G.prototype)?!0:(($e=L.constructor)===null||$e===void 0?void 0:$e.name)===G.name},i=L=>{const G=typeof L;return L===null?"null":G==="object"&&Array.isArray(L)?"array":G==="object"&&r(L,String,(ce,$e)=>$e.isPrototypeOf(ce))?"string":G},u=L=>G=>i(G)===L,g=L=>G=>typeof G===L,h=u("string"),x=u("object"),w=u("array"),I=g("boolean"),D=L=>L==null,O=L=>!D(L),N=g("function"),V=g("number"),U=()=>{},Z=(L,G)=>ce=>L(G(ce)),ee=L=>()=>L,re=(L,G)=>L===G;function H(L,...G){return(...ce)=>{const $e=G.concat(ce);return L.apply(null,$e)}}const de=L=>G=>!L(G),le=ee(!1);class j{constructor(G,ce){this.tag=G,this.value=ce}static some(G){return new j(!0,G)}static none(){return j.singletonNone}fold(G,ce){return this.tag?ce(this.value):G()}isSome(){return this.tag}isNone(){return!this.tag}map(G){return this.tag?j.some(G(this.value)):j.none()}bind(G){return this.tag?G(this.value):j.none()}exists(G){return this.tag&&G(this.value)}forall(G){return!this.tag||G(this.value)}filter(G){return!this.tag||G(this.value)?this:j.none()}getOr(G){return this.tag?this.value:G}or(G){return this.tag?this:G}getOrThunk(G){return this.tag?this.value:G()}orThunk(G){return this.tag?this:G()}getOrDie(G){if(this.tag)return this.value;throw new Error(G??"Called getOrDie on None")}static from(G){return O(G)?j.some(G):j.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(G){this.tag&&G(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}j.singletonNone=new j(!1);const fe=Array.prototype.slice,ne=Array.prototype.indexOf,Ve=Array.prototype.push,Fe=(L,G)=>ne.call(L,G),Xe=(L,G)=>Fe(L,G)>-1,rt=(L,G)=>{for(let ce=0,$e=L.length;ce<$e;ce++){const Je=L[ce];if(G(Je,ce))return!0}return!1},xe=(L,G)=>{const ce=L.length,$e=new Array(ce);for(let Je=0;Je<ce;Je++){const $t=L[Je];$e[Je]=G($t,Je)}return $e},_e=(L,G)=>{for(let ce=0,$e=L.length;ce<$e;ce++){const Je=L[ce];G(Je,ce)}},R=(L,G)=>{const ce=[];for(let $e=0,Je=L.length;$e<Je;$e++){const $t=L[$e];G($t,$e)&&ce.push($t)}return ce},it=(L,G)=>{if(L.length===0)return[];{let ce=G(L[0]);const $e=[];let Je=[];for(let $t=0,Jn=L.length;$t<Jn;$t++){const To=L[$t],xo=G(To);xo!==ce&&($e.push(Je),Je=[]),ce=xo,Je.push(To)}return Je.length!==0&&$e.push(Je),$e}},lt=(L,G,ce)=>(_e(L,($e,Je)=>{ce=G(ce,$e,Je)}),ce),Lt=(L,G,ce)=>{for(let $e=0,Je=L.length;$e<Je;$e++){const $t=L[$e];if(G($t,$e))return j.some($t);if(ce($t,$e))break}return j.none()},Qt=(L,G)=>Lt(L,G,le),dt=L=>{const G=[];for(let ce=0,$e=L.length;ce<$e;++ce){if(!w(L[ce]))throw new Error("Arr.flatten item "+ce+" was not an array, input: "+L);Ve.apply(G,L[ce])}return G},Sn=(L,G)=>dt(xe(L,G)),Et=L=>{const G=fe.call(L,0);return G.reverse(),G},et=(L,G)=>G>=0&&G<L.length?j.some(L[G]):j.none(),Me=L=>et(L,0),ft=L=>et(L,L.length-1),so=(L,G)=>{const ce=[],$e=N(G)?Je=>rt(ce,$t=>G($t,Je)):Je=>Xe(ce,Je);for(let Je=0,$t=L.length;Je<$t;Je++){const Jn=L[Je];$e(Jn)||ce.push(Jn)}return ce},Wt=(L,G,ce=re)=>L.exists($e=>ce($e,G)),In=(L,G,ce=re)=>sn(L,G,ce).getOr(L.isNone()&&G.isNone()),sn=(L,G,ce)=>L.isSome()&&G.isSome()?j.some(ce(L.getOrDie(),G.getOrDie())):j.none(),J=8,fo=11,Zt=1,bn=3,Ke=(L,G)=>{const $e=(G||document).createElement("div");if($e.innerHTML=L,!$e.hasChildNodes()||$e.childNodes.length>1){const Je="HTML does not have a single root node";throw console.error(Je,L),new Error(Je)}return Re($e.childNodes[0])},tt=(L,G)=>{const $e=(G||document).createElement(L);return Re($e)},we=(L,G)=>{const $e=(G||document).createTextNode(L);return Re($e)},Re=L=>{if(L==null)throw new Error("Node cannot be null or undefined");return{dom:L}},be={fromHtml:Ke,fromTag:tt,fromText:we,fromDom:Re,fromPoint:(L,G,ce)=>j.from(L.dom.elementFromPoint(G,ce)).map(Re)},ke=(L,G)=>{const ce=L.dom;if(ce.nodeType!==Zt)return!1;{const $e=ce;if($e.matches!==void 0)return $e.matches(G);if($e.msMatchesSelector!==void 0)return $e.msMatchesSelector(G);if($e.webkitMatchesSelector!==void 0)return $e.webkitMatchesSelector(G);if($e.mozMatchesSelector!==void 0)return $e.mozMatchesSelector(G);throw new Error("Browser lacks native selectors")}},Ne=(L,G)=>L.dom===G.dom,Ge=(L,G)=>{const ce=L.dom,$e=G.dom;return ce===$e?!1:ce.contains($e)},pt=ke,cn=typeof window<"u"?window:Function("return this;")(),jt=(L,G)=>{let ce=G??cn;for(let $e=0;$e<L.length&&ce!==void 0&&ce!==null;++$e)ce=ce[L[$e]];return ce},xn=(L,G)=>{const ce=L.split(".");return jt(ce,G)},Xn=(L,G)=>xn(L,G),oo=(L,G)=>{const ce=Xn(L,G);if(ce==null)throw new Error(L+" not available on this browser");return ce},zo=Object.getPrototypeOf,No=L=>oo("HTMLElement",L),Gs=L=>{const G=xn("ownerDocument.defaultView",L);return x(L)&&(No(G).prototype.isPrototypeOf(L)||/^HTML\w*Element$/.test(zo(L).constructor.name))},ds=L=>L.dom.nodeName.toLowerCase(),ei=L=>L.dom.nodeType,_s=L=>G=>ei(G)===L,Zi=L=>ei(L)===J||ds(L)==="#comment",On=L=>vo(L)&&Gs(L.dom),vo=_s(Zt),Do=_s(bn),li=_s(fo),nl=L=>G=>vo(G)&&ds(G)===L,en=L=>j.from(L.dom.parentNode).map(be.fromDom),pi=L=>j.from(L.dom.parentElement).map(be.fromDom),fs=L=>j.from(L.dom.nextSibling).map(be.fromDom),Zl=L=>xe(L.dom.childNodes,be.fromDom),Ks=(L,G)=>{const ce=L.dom.childNodes;return j.from(ce[G]).map(be.fromDom)},ti=L=>Ks(L,0),Dm=L=>Ks(L,L.dom.childNodes.length-1),Zu=L=>li(L)&&O(L.dom.host),Tc=L=>be.fromDom(L.dom.getRootNode()),xl=L=>{const G=Tc(L);return Zu(G)?j.some(G):j.none()},Gu=L=>be.fromDom(L.dom.host),Ps=L=>{const G=Do(L)?L.dom.parentNode:L.dom;if(G==null||G.ownerDocument===null)return!1;const ce=G.ownerDocument;return xl(be.fromDom(G)).fold(()=>ce.body.contains(G),Z(Ps,Gu))};var yo=(L,G,ce,$e,Je)=>L(ce,$e)?j.some(ce):N(Je)&&Je(ce)?j.none():G(ce,$e,Je);const Gl=(L,G,ce)=>{let $e=L.dom;const Je=N(ce)?ce:le;for(;$e.parentNode;){$e=$e.parentNode;const $t=be.fromDom($e);if(G($t))return j.some($t);if(Je($t))break}return j.none()},Di=(L,G,ce)=>yo((Je,$t)=>$t(Je),Gl,L,G,ce),qu=(L,G,ce)=>Gl(L,$e=>ke($e,G),ce),mn=(L,G,ce)=>yo((Je,$t)=>ke(Je,$t),qu,L,G,ce),Yu=L=>mn(L,"[contenteditable]"),Pm=(L,G=!1)=>Ps(L)?L.dom.isContentEditable:Yu(L).fold(ee(G),ce=>hr(ce)==="true"),hr=L=>L.dom.contentEditable,Nm=(L,G)=>{en(L).each($e=>{$e.dom.insertBefore(G.dom,L.dom)})},ol=(L,G)=>{fs(L).fold(()=>{en(L).each(Je=>{wl(Je,G)})},$e=>{Nm($e,G)})},Fl=(L,G)=>{ti(L).fold(()=>{wl(L,G)},$e=>{L.dom.insertBefore(G.dom,$e.dom)})},wl=(L,G)=>{L.dom.appendChild(G.dom)},lr=(L,G)=>{_e(G,ce=>{Nm(L,ce)})},Ta=(L,G)=>{_e(G,ce=>{wl(L,ce)})},$l=L=>{L.dom.textContent="",_e(Zl(L),G=>{Lm(G)})},Lm=L=>{const G=L.dom;G.parentNode!==null&&G.parentNode.removeChild(G)};var ou=tinymce.util.Tools.resolve("tinymce.dom.RangeUtils"),su=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker"),kf=tinymce.util.Tools.resolve("tinymce.util.VK");const Vd=L=>xe(L,be.fromDom),ms=Object.keys,Lr=(L,G)=>{const ce=ms(L);for(let $e=0,Je=ce.length;$e<Je;$e++){const $t=ce[$e],Jn=L[$t];G(Jn,$t)}},ci=L=>(G,ce)=>{L[ce]=G},Mm=(L,G,ce,$e)=>{Lr(L,(Je,$t)=>{(G(Je,$t)?ce:$e)(Je,$t)})},sl=(L,G)=>{const ce={};return Mm(L,G,ci(ce),U),ce},ru=(L,G,ce)=>{if(h(ce)||I(ce)||V(ce))L.setAttribute(G,ce+"");else throw console.error("Invalid call to Attribute.set. Key ",G,":: Value ",ce,":: Element ",L),new Error("Attribute value was not simple")},Oa=(L,G)=>{const ce=L.dom;Lr(G,($e,Je)=>{ru(ce,Je,$e)})},Ra=L=>lt(L.dom.attributes,(G,ce)=>(G[ce.name]=ce.value,G),{}),iu=(L,G)=>be.fromDom(L.dom.cloneNode(G)),Bs=L=>iu(L,!0),cr=(L,G)=>{const ce=be.fromTag(G),$e=Ra(L);return Oa(ce,$e),ce},De=(L,G)=>{const ce=cr(L,G);ol(L,ce);const $e=Zl(L);return Ta(ce,$e),Lm(L),ce};var at=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),Ue=tinymce.util.Tools.resolve("tinymce.util.Tools");const wt=L=>G=>O(G)&&G.nodeName.toLowerCase()===L,bt=L=>G=>O(G)&&L.test(G.nodeName),ot=L=>O(L)&&L.nodeType===3,Xt=L=>O(L)&&L.nodeType===1,un=bt(/^(OL|UL|DL)$/),vn=bt(/^(OL|UL)$/),kn=wt("ol"),gn=bt(/^(LI|DT|DD)$/),Ao=bt(/^(DT|DD)$/),fn=bt(/^(TH|TD)$/),Os=wt("br"),Go=L=>{var G;return((G=L.parentNode)===null||G===void 0?void 0:G.firstChild)===L},ns=(L,G)=>O(G)&&G.nodeName in L.schema.getTextBlockElements(),Mr=(L,G)=>O(L)&&L.nodeName in G,Lo=(L,G)=>O(G)&&G.nodeName in L.schema.getVoidElements(),ql=(L,G)=>Os(G)?L.isBlock(G.nextSibling)&&!Os(G.previousSibling):!1,Ia=(L,G,ce)=>{const $e=L.isEmpty(G);return ce&&L.select("span[data-mce-type=bookmark]",G).length>0?!1:$e},wo=(L,G)=>L.isChildOf(G,L.getRoot()),rl=L=>G=>G.options.get(L),Cl=L=>{const G=L.options.register;G("lists_indent_on_tab",{processor:"boolean",default:!0})},Ar=rl("lists_indent_on_tab"),Ef=rl("forced_root_block"),ni=rl("forced_root_block_attrs"),Bm=(L,G,ce={})=>{const $e=L.dom,Je=L.schema.getBlockElements(),$t=$e.createFragment(),Jn=Ef(L),To=ni(L);let xo,Fn,Ss=!1;for(Fn=$e.create(Jn,{...To,...ce.style?{style:ce.style}:{}}),Mr(G.firstChild,Je)||$t.appendChild(Fn);xo=G.firstChild;){const Wr=xo.nodeName;!Ss&&(Wr!=="SPAN"||xo.getAttribute("data-mce-type")!=="bookmark")&&(Ss=!0),Mr(xo,Je)?($t.appendChild(xo),Fn=null):(Fn||(Fn=$e.create(Jn,To),$t.appendChild(Fn)),Fn.appendChild(xo))}return!Ss&&Fn&&Fn.appendChild($e.create("br",{"data-mce-bogus":"1"})),$t},Yl=at.DOM,As=(L,G,ce)=>{const $e=Fn=>{const Ss=Fn.parentNode;Ss&&Ue.each(Je,Wr=>{Ss.insertBefore(Wr,ce.parentNode)}),Yl.remove(Fn)},Je=Yl.select('span[data-mce-type="bookmark"]',G),$t=Bm(L,ce),Jn=Yl.createRng();Jn.setStartAfter(ce),Jn.setEndAfter(G);const To=Jn.extractContents();for(let Fn=To.firstChild;Fn;Fn=Fn.firstChild)if(Fn.nodeName==="LI"&&L.dom.isEmpty(Fn)){Yl.remove(Fn);break}L.dom.isEmpty(To)||Yl.insertAfter(To,G),Yl.insertAfter($t,G);const xo=ce.parentElement;xo&&Ia(L.dom,xo)&&$e(xo),Yl.remove(ce),Ia(L.dom,G)&&Yl.remove(G)},zd=nl("dd"),th=nl("dt"),yp=(L,G)=>{zd(G)?De(G,"dt"):th(G)&&pi(G).each(ce=>As(L,ce.dom,G.dom))},Tr=L=>{th(L)&&De(L,"dd")},Oc=(L,G,ce)=>{G==="Indent"?_e(ce,Tr):_e(ce,$e=>yp(L,$e))},_l=(L,G)=>{if(ot(L))return{container:L,offset:G};const ce=ou.getNode(L,G);return ot(ce)?{container:ce,offset:G>=L.childNodes.length?ce.data.length:0}:ce.previousSibling&&ot(ce.previousSibling)?{container:ce.previousSibling,offset:ce.previousSibling.data.length}:ce.nextSibling&&ot(ce.nextSibling)?{container:ce.nextSibling,offset:0}:{container:L,offset:G}},tr=L=>{const G=L.cloneRange(),ce=_l(L.startContainer,L.startOffset);G.setStart(ce.container,ce.offset);const $e=_l(L.endContainer,L.endOffset);return G.setEnd($e.container,$e.offset),G},Fm=["OL","UL","DL"],Vl=Fm.join(","),ca=(L,G)=>{const ce=G||L.selection.getStart(!0);return L.dom.getParent(ce,Vl,Hd(L,ce))},nh=(L,G)=>O(L)&&G.length===1&&G[0]===L,Pi=L=>R(L.querySelectorAll(Vl),un),il=L=>{const G=ca(L),ce=L.selection.getSelectedBlocks();return nh(G,ce)?Pi(G):R(ce,$e=>un($e)&&G!==$e)},ua=(L,G)=>{const ce=Ue.map(G,$e=>{const Je=L.dom.getParent($e,"li,dd,dt",Hd(L,$e));return Je||$e});return so(ce)},zl=L=>{const G=L.selection.getSelectedBlocks();return R(ua(L,G),gn)},xp=L=>R(zl(L),Ao),Wo=(L,G)=>{const ce=L.dom.getParents(G,"TD,TH");return ce.length>0?ce[0]:L.getBody()},au=(L,G)=>!un(G)&&!gn(G)&&rt(Fm,ce=>L.isValidChild(G.nodeName,ce)),Hd=(L,G)=>{const ce=L.dom.getParents(G,L.dom.isBlock),$e=$t=>$t.nodeName.toLowerCase()!==Ef(L);return Qt(ce,$t=>$e($t)&&au(L.schema,$t)).getOr(L.getBody())},Xu=L=>en(L).exists(G=>gn(G.dom)&&ti(G).exists(ce=>!un(ce.dom))&&Dm(G).exists(ce=>!un(ce.dom))),Gb=(L,G)=>{const ce=L.dom.getParents(G,"ol,ul",Hd(L,G));return ft(ce)},Ax=L=>{const G=Gb(L,L.selection.getStart()),ce=R(L.selection.getSelectedBlocks(),vn);return G.toArray().concat(ce)},u1=L=>{const G=L.selection.getStart();return L.dom.getParents(G,"ol,ul",Hd(L,G))},d1=L=>{const G=Ax(L),ce=u1(L);return Qt(ce,$e=>Xu(be.fromDom($e))).fold(()=>WC(L,G),$e=>[$e])},WC=(L,G)=>{const ce=xe(G,$e=>Gb(L,$e).getOr($e));return so(ce)},wp=L=>/\btox\-/.test(L.className),f1=(L,G)=>Lt(L,un,fn).exists(ce=>ce.nodeName===G&&!wp(ce)),rn=(L,G)=>G!==null&&!L.dom.isEditable(G),Af=L=>{const G=ca(L);return rn(L,G)},Tf=(L,G)=>{const ce=L.dom.getParent(G,"ol,ul,dl");return rn(L,ce)},m1=(L,G)=>{const ce=L.selection.getNode();return G({parents:L.dom.getParents(ce),element:ce}),L.on("NodeChange",G),()=>L.off("NodeChange",G)},da=(L,G)=>{const $e=document.createDocumentFragment();return _e(L,Je=>{$e.appendChild(Je.dom)}),be.fromDom($e)},Of=(L,G,ce)=>L.dispatch("ListMutation",{action:G,element:ce}),Tx=(L=>G=>G.replace(L,""))(/^\s+|\s+$/g),Ox=L=>L.length>0,qb=L=>!Ox(L),Rx=L=>L.style!==void 0&&N(L.style.getPropertyValue),g1=(L,G,ce)=>{if(!h(ce))throw console.error("Invalid call to CSS.set. Property ",G,":: Value ",ce,":: Element ",L),new Error("CSS value must be a string: "+ce);Rx(L)&&L.style.setProperty(G,ce)},Ix=(L,G,ce)=>{const $e=L.dom;g1($e,G,ce)},sh=L=>pt(L,"OL,UL"),h1=L=>pt(L,"LI"),Rf=L=>ti(L).exists(sh),If=L=>Dm(L).exists(sh),fa=L=>"listAttributes"in L,Sl=L=>"isComment"in L,rh=L=>"isFragment"in L,os=L=>L.depth>0,Ud=L=>L.isSelected,ih=L=>{const G=Zl(L),ce=If(L)?G.slice(0,-1):G;return xe(ce,Bs)},ah=(L,G,ce)=>en(L).filter(vo).map($e=>({depth:G,dirty:!1,isSelected:ce,content:ih(L),itemAttributes:Ra(L),listAttributes:Ra($e),listType:ds($e),isInPreviousLi:!1})),Va=(L,G)=>{wl(L.item,G.list)},zr=L=>{for(let G=1;G<L.length;G++)Va(L[G-1],L[G])},ur=(L,G)=>{sn(ft(L),Me(G),Va)},Gi=(L,G)=>{const ce={list:be.fromTag(G,L),item:be.fromTag("li",L)};return wl(ce.list,ce.item),ce},nr=(L,G,ce)=>{const $e=[];for(let Je=0;Je<ce;Je++)$e.push(Gi(L,fa(G)?G.listType:G.parentListType));return $e},Df=(L,G)=>{for(let ce=0;ce<L.length-1;ce++)Ix(L[ce].item,"list-style-type","none");ft(L).each(ce=>{fa(G)&&(Oa(ce.list,G.listAttributes),Oa(ce.item,G.itemAttributes)),Ta(ce.item,G.content)})},$m=(L,G)=>{ds(L.list)!==G.listType&&(L.list=De(L.list,G.listType)),Oa(L.list,G.listAttributes)},_i=(L,G,ce)=>{const $e=be.fromTag("li",L);return Oa($e,G),Ta($e,ce),$e},za=(L,G)=>{wl(L.list,G),L.item=G},Da=(L,G,ce)=>{const $e=G.slice(0,ce.depth);return ft($e).each(Je=>{if(fa(ce)){const $t=_i(L,ce.itemAttributes,ce.content);za(Je,$t),$m(Je,ce)}else if(rh(ce))Ta(Je.item,ce.content);else{const $t=be.fromHtml(`<!--${ce.content}-->`);wl(Je.list,$t)}}),$e},lu=(L,G,ce)=>{const $e=nr(L,ce,ce.depth-G.length);return zr($e),Df($e,ce),ur(G,$e),G.concat($e)},Wd=(L,G)=>{let ce=j.none();const $e=lt(G,(Je,$t,Jn)=>Sl($t)?Jn===0?(ce=j.some($t),Je):Da(L,Je,$t):$t.depth>Je.length?lu(L,Je,$t):Da(L,Je,$t),[]);return ce.each(Je=>{const $t=be.fromHtml(`<!--${Je.content}-->`);Me($e).each(Jn=>{Fl(Jn.list,$t)})}),Me($e).map(Je=>Je.list)},Fo=(L,G)=>{switch(L){case"Indent":G.depth++;break;case"Outdent":G.depth--;break;case"Flatten":G.depth=0}G.dirty=!0},ui=(L,G)=>{fa(L)&&fa(G)&&(L.listType=G.listType,L.listAttributes={...G.listAttributes})},kl=L=>{L.listAttributes=sl(L.listAttributes,(G,ce)=>ce!=="start")},Kd=(L,G)=>{const ce=L[G].depth,$e=$t=>$t.depth===ce&&!$t.dirty,Je=$t=>$t.depth<ce;return Lt(Et(L.slice(0,G)),$e,Je).orThunk(()=>Lt(L.slice(G+1),$e,Je))},qi=L=>(_e(L,(G,ce)=>{Kd(L,ce).fold(()=>{G.dirty&&fa(G)&&kl(G)},$e=>ui(G,$e))}),L),Kn=L=>{let G=L;return{get:()=>G,set:Je=>{G=Je}}},Rc=(L,G,ce,$e)=>{var Je;if(Zi($e))return[{depth:L+1,content:(Je=$e.dom.nodeValue)!==null&&Je!==void 0?Je:"",dirty:!1,isSelected:!1,isComment:!0}];G.each(To=>{Ne(To.start,$e)&&ce.set(!0)});const $t=ah($e,L,ce.get());G.each(To=>{Ne(To.end,$e)&&ce.set(!1)});const Jn=Dm($e).filter(sh).map(To=>Rs(L,G,ce,To)).getOr([]);return $t.toArray().concat(Jn)},Ic=(L,G,ce,$e)=>ti($e).filter(sh).fold(()=>Rc(L,G,ce,$e),Je=>{const $t=lt(Zl($e),(Jn,To,xo)=>{if(xo===0)return Jn;if(h1(To))return Jn.concat(Rc(L,G,ce,To));{const Fn={isFragment:!0,depth:L,content:[To],isSelected:!1,dirty:!1,parentListType:ds(Je)};return Jn.concat(Fn)}},[]);return Rs(L,G,ce,Je).concat($t)}),Rs=(L,G,ce,$e)=>Sn(Zl($e),Je=>{const $t=sh(Je)?Rs:Ic,Jn=L+1;return $t(Jn,G,ce,Je)}),Cp=(L,G)=>{const ce=Kn(!1),$e=0;return xe(L,Je=>({sourceList:Je,entries:Rs($e,G,ce,Je)}))},Yb=(L,G)=>{const ce=qi(G);return xe(ce,$e=>{const Je=Sl($e)?da([be.fromHtml(`<!--${$e.content}-->`)]):da($e.content),$t=fa($e)?$e.itemAttributes:{};return be.fromDom(Bm(L,Je.dom,$t))})},jd=(L,G)=>{const ce=qi(G);return Wd(L.contentDocument,ce).toArray()},Ko=(L,G)=>Sn(it(G,os),ce=>Me(ce).exists(os)?jd(L,ce):Yb(L,ce)),Ha=(L,G)=>{_e(R(L,Ud),ce=>Fo(G,ce))},_p=L=>{const G=xe(zl(L),be.fromDom);return sn(Qt(G,de(Rf)),Qt(Et(G),de(Rf)),(ce,$e)=>({start:ce,end:$e}))},Zd=(L,G,ce)=>{const $e=Cp(G,_p(L));_e($e,Je=>{Ha(Je.entries,ce);const $t=Ko(L,Je.entries);_e($t,Jn=>{Of(L,ce==="Indent"?"IndentList":"OutdentList",Jn.dom)}),lr(Je.sourceList,$t),Lm(Je.sourceList)})},Xb=(L,G)=>{const ce=Vd(d1(L)),$e=Vd(xp(L));let Je=!1;if(ce.length||$e.length){const $t=L.selection.getBookmark();Zd(L,ce,G),Oc(L,G,$e),L.selection.moveToBookmark($t),L.selection.setRng(tr(L.selection.getRng())),L.nodeChanged(),Je=!0}return Je},cu=(L,G)=>!Af(L)&&Xb(L,G),al=L=>cu(L,"Indent"),uu=L=>cu(L,"Outdent"),Pf=L=>cu(L,"Flatten"),je="\uFEFF",Vm=L=>L===je,Fs=(L,G,ce)=>Gl(L,G,ce).isSome(),Jb=(L,G)=>Fs(L,H(Ne,G));var lh=tinymce.util.Tools.resolve("tinymce.dom.BookmarkManager");const du=at.DOM,ss=L=>{const G={},ce=$e=>{let Je=L[$e?"startContainer":"endContainer"],$t=L[$e?"startOffset":"endOffset"];if(Xt(Je)){const Jn=du.create("span",{"data-mce-type":"bookmark"});Je.hasChildNodes()?($t=Math.min($t,Je.childNodes.length-1),$e?Je.insertBefore(Jn,Je.childNodes[$t]):du.insertAfter(Jn,Je.childNodes[$t])):Je.appendChild(Jn),Je=Jn,$t=0}G[$e?"startContainer":"endContainer"]=Je,G[$e?"startOffset":"endOffset"]=$t};return ce(!0),L.collapsed||ce(),G},ma=L=>{const G=$e=>{const Je=To=>{var xo;let Fn=(xo=To.parentNode)===null||xo===void 0?void 0:xo.firstChild,Ss=0;for(;Fn;){if(Fn===To)return Ss;(!Xt(Fn)||Fn.getAttribute("data-mce-type")!=="bookmark")&&Ss++,Fn=Fn.nextSibling}return-1};let $t=L[$e?"startContainer":"endContainer"],Jn=L[$e?"startOffset":"endOffset"];if($t){if(Xt($t)&&$t.parentNode){const To=$t;Jn=Je($t),$t=$t.parentNode,du.remove(To),!$t.hasChildNodes()&&du.isBlock($t)&&$t.appendChild(du.create("br"))}L[$e?"startContainer":"endContainer"]=$t,L[$e?"startOffset":"endOffset"]=Jn}};G(!0),G();const ce=du.createRng();return ce.setStart(L.startContainer,L.startOffset),L.endContainer&&ce.setEnd(L.endContainer,L.endOffset),tr(ce)},Ju=L=>{switch(L){case"UL":return"ToggleUlList";case"OL":return"ToggleOlList";case"DL":return"ToggleDLList"}},lc=(L,G,ce)=>{const $e=ce["list-style-type"]?ce["list-style-type"]:null;L.setStyle(G,"list-style-type",$e)},Qu=(L,G)=>{Ue.each(G,(ce,$e)=>{L.setAttribute($e,ce)})},ed=(L,G,ce)=>{Qu(G,ce["list-attributes"]),Ue.each(L.select("li",G),$e=>{Qu($e,ce["list-item-attributes"])})},ga=(L,G,ce)=>{lc(L,G,ce),ed(L,G,ce)},Nf=(L,G,ce)=>{Ue.each(ce,$e=>L.setStyle(G,$e,""))},zm=(L,G)=>O(G)&&!Mr(G,L.schema.getBlockElements()),Qb=(L,G,ce,$e)=>{let Je=G[ce?"startContainer":"endContainer"];const $t=G[ce?"startOffset":"endOffset"];Xt(Je)&&(Je=Je.childNodes[Math.min($t,Je.childNodes.length-1)]||Je),!ce&&Os(Je.nextSibling)&&(Je=Je.nextSibling);const Jn=xo=>{for(;!L.dom.isBlock(xo)&&xo.parentNode&&$e!==xo;)xo=xo.parentNode;return xo},To=(xo,Fn)=>{var Ss;const Wr=new su(xo,Jn(xo)),Sr=Fn?"next":"prev";let Nc;for(;Nc=Wr[Sr]();)if(!(Lo(L,Nc)||Vm(Nc.textContent)||((Ss=Nc.textContent)===null||Ss===void 0?void 0:Ss.length)===0))return j.some(Nc);return j.none()};if(ce&&ot(Je))if(Vm(Je.textContent))Je=To(Je,!1).getOr(Je);else for(Je.parentNode!==null&&zm(L,Je.parentNode)&&(Je=Je.parentNode);Je.previousSibling!==null&&(zm(L,Je.previousSibling)||ot(Je.previousSibling));)Je=Je.previousSibling;if(!ce&&ot(Je))if(Vm(Je.textContent))Je=To(Je,!0).getOr(Je);else for(Je.parentNode!==null&&zm(L,Je.parentNode)&&(Je=Je.parentNode);Je.nextSibling!==null&&(zm(L,Je.nextSibling)||ot(Je.nextSibling));)Je=Je.nextSibling;for(;Je.parentNode!==$e;){const xo=Je.parentNode;if(ns(L,Je)||/^(TD|TH)$/.test(xo.nodeName))return Je;Je=xo}return Je},Si=(L,G,ce)=>{const $e=[],Je=L.dom,$t=Qb(L,G,!0,ce),Jn=Qb(L,G,!1,ce);let To;const xo=[];for(let Fn=$t;Fn&&(xo.push(Fn),Fn!==Jn);Fn=Fn.nextSibling);return Ue.each(xo,Fn=>{var Ss;if(ns(L,Fn)){$e.push(Fn),To=null;return}if(Je.isBlock(Fn)||Os(Fn)){Os(Fn)&&Je.remove(Fn),To=null;return}const Wr=Fn.nextSibling;if(lh.isBookmarkNode(Fn)&&(un(Wr)||ns(L,Wr)||!Wr&&Fn.parentNode===ce)){To=null;return}To||(To=Je.create("p"),(Ss=Fn.parentNode)===null||Ss===void 0||Ss.insertBefore(To,Fn),$e.push(To)),To.appendChild(Fn)}),$e},Yn=(L,G,ce)=>{const $e=L.getStyle(G,"list-style-type");let Je=ce?ce["list-style-type"]:"";return Je=Je===null?"":Je,$e===Je},td=(L,G)=>{const ce=L.selection.getStart(!0),$e=Qb(L,G,!0,L.getBody());return Jb(be.fromDom($e),be.fromDom(G.commonAncestorContainer))?G.commonAncestorContainer:ce},Hm=(L,G,ce)=>{const $e=L.selection.getRng();let Je="LI";const $t=Hd(L,td(L,$e)),Jn=L.dom;if(Jn.getContentEditable(L.selection.getNode())==="false")return;G=G.toUpperCase(),G==="DL"&&(Je="DT");const To=ss($e),xo=R(Si(L,$e,$t),L.dom.isEditable);Ue.each(xo,Fn=>{let Ss;const Wr=Fn.previousSibling,Sr=Fn.parentNode;gn(Sr)||(Wr&&un(Wr)&&Wr.nodeName===G&&Yn(Jn,Wr,ce)?(Ss=Wr,Fn=Jn.rename(Fn,Je),Wr.appendChild(Fn)):(Ss=Jn.create(G),Sr.insertBefore(Ss,Fn),Ss.appendChild(Fn),Fn=Jn.rename(Fn,Je)),Nf(Jn,Fn,["margin","margin-right","margin-bottom","margin-left","margin-top","padding","padding-right","padding-bottom","padding-left","padding-top"]),ga(Jn,Ss,ce),Gd(L.dom,Ss))}),L.selection.setRng(ma(To))},ha=(L,G)=>un(L)&&L.nodeName===(G==null?void 0:G.nodeName),nd=(L,G,ce)=>{const $e=L.getStyle(G,"list-style-type",!0),Je=L.getStyle(ce,"list-style-type",!0);return $e===Je},Hl=(L,G)=>L.className===G.className,od=(L,G,ce)=>ha(G,ce)&&nd(L,G,ce)&&Hl(G,ce),Gd=(L,G)=>{let ce,$e=G.nextSibling;if(od(L,G,$e)){const Je=$e;for(;ce=Je.firstChild;)G.appendChild(ce);L.remove(Je)}if($e=G.previousSibling,od(L,G,$e)){const Je=$e;for(;ce=Je.lastChild;)G.insertBefore(ce,G.firstChild);L.remove(Je)}},ki=(L,G,ce,$e)=>{if(G.nodeName!==ce){const Je=L.dom.rename(G,ce);ga(L.dom,Je,$e),Of(L,Ju(ce),Je)}else ga(L.dom,G,$e),Of(L,Ju(ce),G)},cc=(L,G,ce,$e)=>{if(G.classList.forEach((Je,$t,Jn)=>{Je.startsWith("tox-")&&(Jn.remove(Je),Jn.length===0&&G.removeAttribute("class"))}),G.nodeName!==ce){const Je=L.dom.rename(G,ce);ga(L.dom,Je,$e),Of(L,Ju(ce),Je)}else ga(L.dom,G,$e),Of(L,Ju(ce),G)},fu=(L,G,ce,$e,Je)=>{const $t=un(G);if($t&&G.nodeName===$e&&!Um(Je)&&!wp(G))Pf(L);else{Hm(L,$e,Je);const Jn=ss(L.selection.getRng()),To=$t?[G,...ce]:ce,xo=$t&&wp(G)?cc:ki;Ue.each(To,Fn=>{xo(L,Fn,$e,Je)}),L.selection.setRng(ma(Jn))}},Um=L=>"list-style-type"in L,p1=(L,G,ce,$e)=>{if(G!==L.getBody())if(G)if(G.nodeName===ce&&!Um($e)&&!wp(G))Pf(L);else{const Je=ss(L.selection.getRng());wp(G)&&G.classList.forEach((Jn,To,xo)=>{Jn.startsWith("tox-")&&(xo.remove(Jn),xo.length===0&&G.removeAttribute("class"))}),ga(L.dom,G,$e);const $t=L.dom.rename(G,ce);Gd(L.dom,$t),L.selection.setRng(ma(Je)),Hm(L,ce,$e),Of(L,Ju(ce),$t)}else Hm(L,ce,$e),Of(L,Ju(ce),G)},sd=(L,G,ce)=>{const $e=ca(L);if(Tf(L,$e))return;const Je=il(L),$t=x(ce)?ce:{};Je.length>0?fu(L,$e,Je,G,$t):p1(L,$e,G,$t)},Lf=at.DOM,ev=(L,G)=>{const ce=G.parentElement;if(ce&&ce.nodeName==="LI"&&ce.firstChild===G){const $e=ce.previousSibling;$e&&$e.nodeName==="LI"?($e.appendChild(G),Ia(L,ce)&&Lf.remove(ce)):Lf.setStyle(ce,"listStyleType","none")}if(un(ce)){const $e=ce.previousSibling;$e&&$e.nodeName==="LI"&&$e.appendChild(G)}},Cr=(L,G)=>{const ce=Ue.grep(L.select("ol,ul",G));Ue.each(ce,$e=>{ev(L,$e)})},Ua=(L,G,ce,$e)=>{let Je=G.startContainer;const $t=G.startOffset;if(ot(Je)&&(ce?$t<Je.data.length:$t>0))return Je;const Jn=L.schema.getNonEmptyElements();Xt(Je)&&(Je=ou.getNode(Je,$t));const To=new su(Je,$e);ce&&ql(L.dom,Je)&&To.next();const xo=ce?To.next.bind(To):To.prev2.bind(To);for(;Je=xo();)if(Je.nodeName==="LI"&&!Je.hasChildNodes()||Jn[Je.nodeName]||ot(Je)&&Je.data.length>0)return Je;return null},Pa=(L,G)=>{const ce=G.childNodes;return ce.length===1&&!un(ce[0])&&L.isBlock(ce[0])},ll=L=>j.from(L).map(be.fromDom).filter(On).exists(G=>Pm(G)&&!Xe(["details"],ds(G))),bi=(L,G)=>{Pa(L,G)&&ll(G.firstChild)&&L.remove(G.firstChild,!0)},Sp=(L,G,ce)=>{let $e;const Je=Pa(L,ce)?ce.firstChild:ce;if(bi(L,G),!Ia(L,G,!0))for(;$e=G.firstChild;)Je.appendChild($e)},di=(L,G,ce)=>{let $e;const Je=G.parentNode;if(!wo(L,G)||!wo(L,ce))return;un(ce.lastChild)&&($e=ce.lastChild),Je===ce.lastChild&&Os(Je.previousSibling)&&L.remove(Je.previousSibling);const $t=ce.lastChild;$t&&Os($t)&&G.hasChildNodes()&&L.remove($t),Ia(L,ce,!0)&&$l(be.fromDom(ce)),Sp(L,G,ce),$e&&ce.appendChild($e);const To=Ge(be.fromDom(ce),be.fromDom(G))?L.getParents(G,un,ce):[];L.remove(G),_e(To,xo=>{Ia(L,xo)&&xo!==L.getRoot()&&L.remove(xo)})},Yi=(L,G,ce)=>{$l(be.fromDom(ce)),di(L.dom,G,ce),L.selection.setCursorLocation(ce,0)},mu=(L,G,ce,$e)=>{const Je=L.dom;if(Je.isEmpty($e))Yi(L,ce,$e);else{const $t=ss(G);di(Je,ce,$e),L.selection.setRng(ma($t))}},Ft=(L,G,ce,$e)=>{const Je=ss(G);di(L.dom,ce,$e);const $t=ma(Je);L.selection.setRng($t)},Xi=(L,G)=>{const ce=L.dom,$e=L.selection,Je=$e.getStart(),$t=Wo(L,Je),Jn=ce.getParent($e.getStart(),"LI",$t);if(Jn){const To=Jn.parentElement;if(To===L.getBody()&&Ia(ce,To))return!0;const xo=tr($e.getRng()),Fn=ce.getParent(Ua(L,xo,G,$t),"LI",$t),Ss=Fn&&(G?ce.isChildOf(Jn,Fn):ce.isChildOf(Fn,Jn));if(Fn&&Fn!==Jn&&!Ss)return L.undoManager.transact(()=>{G?mu(L,xo,Fn,Jn):Go(Jn)?uu(L):Ft(L,xo,Jn,Fn)}),!0;if(Ss&&!G&&Fn!==Jn)return L.undoManager.transact(()=>{if(xo.commonAncestorContainer.parentElement){const Wr=ss(xo),Sr=xo.commonAncestorContainer.parentElement;Sp(ce,xo.commonAncestorContainer.parentElement,Fn),Sr.remove();const Nc=ma(Wr);L.selection.setRng(Nc)}}),!0;if(!Fn&&!G&&xo.startOffset===0&&xo.endOffset===0)return L.undoManager.transact(()=>{Pf(L)}),!0}return!1},kp=(L,G,ce)=>{const $e=L.getParent(G.parentNode,L.isBlock,ce);L.remove(G),$e&&L.isEmpty($e)&&L.remove($e)},_r=(L,G)=>{const ce=L.dom,$e=L.selection.getStart(),Je=Wo(L,$e),$t=ce.getParent($e,ce.isBlock,Je);if($t&&ce.isEmpty($t,void 0,{checkRootAsContent:!0})){const Jn=tr(L.selection.getRng()),To=ce.getParent(Ua(L,Jn,G,Je),"LI",Je);if(To){const xo=Sr=>Xe(["td","th","caption"],ds(Sr)),Fn=Sr=>Sr.dom===Je,Ss=Di(be.fromDom(To),xo,Fn),Wr=Di(be.fromDom(Jn.startContainer),xo,Fn);return In(Ss,Wr,Ne)?(L.undoManager.transact(()=>{const Sr=To.parentNode;kp(ce,$t,Je),Gd(ce,Sr),L.selection.select(To,!0),L.selection.collapse(G)}),!0):!1}}return!1},rd=(L,G)=>Xi(L,G)||_r(L,G),Wa=L=>{const G=L.selection.getStart(),ce=Wo(L,G);return L.dom.getParent(G,"LI,DT,DD",ce)||zl(L).length>0},Dc=L=>Wa(L)?(L.undoManager.transact(()=>{L.execCommand("Delete"),Cr(L.dom,L.getBody())}),!0):!1,Wm=(L,G)=>{const ce=L.selection;return!Tf(L,ce.getNode())&&(ce.isCollapsed()?rd(L,G):Dc(L))},cl=L=>{L.on("ExecCommand",G=>{const ce=G.command.toLowerCase();(ce==="delete"||ce==="forwarddelete")&&Wa(L)&&Cr(L.dom,L.getBody())}),L.on("keydown",G=>{G.keyCode===kf.BACKSPACE?Wm(L,!1)&&G.preventDefault():G.keyCode===kf.DELETE&&Wm(L,!0)&&G.preventDefault()})},es=L=>({backspaceDelete:G=>{Wm(L,G)}}),Hr=(L,G)=>{const ce=ca(L);ce===null||Tf(L,ce)||L.undoManager.transact(()=>{x(G.styles)&&L.dom.setStyles(ce,G.styles),x(G.attrs)&&Lr(G.attrs,($e,Je)=>L.dom.setAttrib(ce,Je,$e))})},Mf=L=>{const G=Et(Tx(L).split("")),ce=xe(G,($e,Je)=>{const $t=$e.toUpperCase().charCodeAt(0)-65+1;return Math.pow(26,Je)*$t});return lt(ce,($e,Je)=>$e+Je,0)},Br=L=>{if(L--,L<0)return"";{const G=L%26,ce=Math.floor(L/26),$e=Br(ce),Je=String.fromCharCode(65+G);return $e+Je}},ch=L=>/^[A-Z]+$/.test(L),gu=L=>/^[a-z]+$/.test(L),b1=L=>/^[0-9]+$/.test(L),Or=L=>b1(L)?2:ch(L)?0:gu(L)?1:qb(L)?3:4,mt=L=>{switch(Or(L)){case 2:return j.some({listStyleType:j.none(),start:L});case 0:return j.some({listStyleType:j.some("upper-alpha"),start:Mf(L).toString()});case 1:return j.some({listStyleType:j.some("lower-alpha"),start:Mf(L).toString()});case 3:return j.some({listStyleType:j.none(),start:""});case 4:return j.none()}},Ka=L=>{const G=parseInt(L.start,10);return Wt(L.listStyleType,"upper-alpha")?Br(G):Wt(L.listStyleType,"lower-alpha")?Br(G).toLowerCase():L.start},Ur=L=>{const G=ca(L);!kn(G)||Tf(L,G)||L.windowManager.open({title:"List Properties",body:{type:"panel",items:[{type:"input",name:"start",label:"Start list at number",inputMode:"numeric"}]},initialData:{start:Ka({start:L.dom.getAttrib(G,"start","1"),listStyleType:j.from(L.dom.getStyle(G,"list-style-type"))})},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],onSubmit:ce=>{const $e=ce.getData();mt($e.start).each(Je=>{L.execCommand("mceListUpdate",!1,{attrs:{start:Je.start==="1"?"":Je.start},styles:{"list-style-type":Je.listStyleType.getOr("")}})}),ce.close()}})},Xl=(L,G)=>()=>{const ce=ca(L);return O(ce)&&ce.nodeName===G},Pc=L=>{L.addCommand("mceListProps",()=>{Ur(L)})},oi=L=>{L.on("BeforeExecCommand",G=>{const ce=G.command.toLowerCase();ce==="indent"?al(L):ce==="outdent"&&uu(L)}),L.addCommand("InsertUnorderedList",(G,ce)=>{sd(L,"UL",ce)}),L.addCommand("InsertOrderedList",(G,ce)=>{sd(L,"OL",ce)}),L.addCommand("InsertDefinitionList",(G,ce)=>{sd(L,"DL",ce)}),L.addCommand("RemoveList",()=>{Pf(L)}),Pc(L),L.addCommand("mceListUpdate",(G,ce)=>{x(ce)&&Hr(L,ce)}),L.addQueryStateHandler("InsertUnorderedList",Xl(L,"UL")),L.addQueryStateHandler("InsertOrderedList",Xl(L,"OL")),L.addQueryStateHandler("InsertDefinitionList",Xl(L,"DL"))};var or=tinymce.util.Tools.resolve("tinymce.html.Node");const Ns=L=>L.type===3,ja=L=>L.length===0,Jl=L=>{const G=(Je,$t)=>{const Jn=or.create("li");_e(Je,To=>Jn.append(To)),$t?L.insert(Jn,$t,!0):L.append(Jn)},ce=(Je,$t)=>Ns($t)?[...Je,$t]:!ja(Je)&&!Ns($t)?(G(Je,$t),[]):Je,$e=lt(L.children(),ce,[]);ja($e)||G($e)},hu=L=>{L.on("PreInit",()=>{const{parser:G}=L;G.addNodeFilter("ul,ol",ce=>_e(ce,Jl))})},qd=L=>{L.on("keydown",G=>{G.keyCode!==kf.TAB||kf.metaKeyPressed(G)||L.undoManager.transact(()=>{(G.shiftKey?uu(L):al(L))&&G.preventDefault()})})},Km=L=>{Ar(L)&&qd(L),cl(L)},uh=(L,G)=>ce=>{const $e=Je=>{ce.setActive(f1(Je.parents,G)),ce.setEnabled(!Tf(L,Je.element)&&L.selection.isEditable())};return ce.setEnabled(L.selection.isEditable()),m1(L,$e)},dh=L=>{const G=ce=>()=>L.execCommand(ce);L.hasPlugin("advlist")||(L.ui.registry.addToggleButton("numlist",{icon:"ordered-list",active:!1,tooltip:"Numbered list",onAction:G("InsertOrderedList"),onSetup:uh(L,"OL")}),L.ui.registry.addToggleButton("bullist",{icon:"unordered-list",active:!1,tooltip:"Bullet list",onAction:G("InsertUnorderedList"),onSetup:uh(L,"UL")}))},tv=(L,G)=>ce=>m1(L,Je=>ce.setEnabled(f1(Je.parents,G)&&!Tf(L,Je.element))),nv=L=>{const G={text:"List properties...",icon:"ordered-list",onAction:()=>L.execCommand("mceListProps"),onSetup:tv(L,"OL")};L.ui.registry.addMenuItem("listprops",G),L.ui.registry.addContextMenu("lists",{update:ce=>{const $e=ca(L,ce);return kn($e)?["listprops"]:[]}})};var id=()=>{t.add("lists",L=>(Cl(L),hu(L),L.hasPlugin("rtc",!0)?Pc(L):(Km(L),oi(L)),dh(L),nv(L),es(L)))};id()}()),pX}var vX;function ICe(){return vX||(vX=1,RCe()),hX}ICe();var yX={},xX={},wX;function DCe(){return wX||(wX=1,function(){var t=tinymce.util.Tools.resolve("tinymce.PluginManager");const r=(we,Re)=>we.dispatch("insertCustomChar",{chr:Re}),i=(we,Re)=>{const He=r(we,Re).chr;we.execCommand("mceInsertContent",!1,He)},u=(we,Re,He)=>{var be;return He(we,Re.prototype)?!0:((be=we.constructor)===null||be===void 0?void 0:be.name)===Re.name},g=we=>{const Re=typeof we;return we===null?"null":Re==="object"&&Array.isArray(we)?"array":Re==="object"&&u(we,String,(He,be)=>be.isPrototypeOf(He))?"string":Re},h=we=>Re=>g(Re)===we,x=we=>Re=>typeof Re===we,w=we=>Re=>we===Re,I=h("array"),D=w(null),O=w(void 0),N=we=>we==null,V=we=>!N(we),U=x("function"),ee=(we=>()=>we)(!1);class re{constructor(Re,He){this.tag=Re,this.value=He}static some(Re){return new re(!0,Re)}static none(){return re.singletonNone}fold(Re,He){return this.tag?He(this.value):Re()}isSome(){return this.tag}isNone(){return!this.tag}map(Re){return this.tag?re.some(Re(this.value)):re.none()}bind(Re){return this.tag?Re(this.value):re.none()}exists(Re){return this.tag&&Re(this.value)}forall(Re){return!this.tag||Re(this.value)}filter(Re){return!this.tag||Re(this.value)?this:re.none()}getOr(Re){return this.tag?this.value:Re}or(Re){return this.tag?this:Re}getOrThunk(Re){return this.tag?this.value:Re()}orThunk(Re){return this.tag?this:Re()}getOrDie(Re){if(this.tag)return this.value;throw new Error(Re??"Called getOrDie on None")}static from(Re){return V(Re)?re.some(Re):re.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(Re){this.tag&&Re(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}re.singletonNone=new re(!1);const H=Array.prototype.push,de=(we,Re)=>{const He=we.length,be=new Array(He);for(let ke=0;ke<He;ke++){const Ne=we[ke];be[ke]=Re(Ne,ke)}return be},le=(we,Re)=>{for(let He=0,be=we.length;He<be;He++){const ke=we[He];Re(ke,He)}},j=(we,Re,He)=>{for(let be=0,ke=we.length;be<ke;be++){const Ne=we[be];if(Re(Ne,be))return re.some(Ne);if(He(Ne,be))break}return re.none()},fe=(we,Re)=>j(we,Re,ee),ne=we=>{const Re=[];for(let He=0,be=we.length;He<be;++He){if(!I(we[He]))throw new Error("Arr.flatten item "+He+" was not an array, input: "+we);H.apply(Re,we[He])}return Re},Ve=(we,Re)=>ne(de(we,Re));var Fe=tinymce.util.Tools.resolve("tinymce.util.Tools");const Xe=we=>Re=>Re.options.get(we),rt=we=>{const Re=we.options.register,He=be=>U(be)||I(be);Re("charmap",{processor:He}),Re("charmap_append",{processor:He})},xe=Xe("charmap"),_e=Xe("charmap_append"),R=Fe.isArray,it="User Defined",lt=()=>[{name:"Currency",characters:[[36,"dollar sign"],[162,"cent sign"],[8364,"euro sign"],[163,"pound sign"],[165,"yen sign"],[164,"currency sign"],[8352,"euro-currency sign"],[8353,"colon sign"],[8354,"cruzeiro sign"],[8355,"french franc sign"],[8356,"lira sign"],[8357,"mill sign"],[8358,"naira sign"],[8359,"peseta sign"],[8360,"rupee sign"],[8361,"won sign"],[8362,"new sheqel sign"],[8363,"dong sign"],[8365,"kip sign"],[8366,"tugrik sign"],[8367,"drachma sign"],[8368,"german penny symbol"],[8369,"peso sign"],[8370,"guarani sign"],[8371,"austral sign"],[8372,"hryvnia sign"],[8373,"cedi sign"],[8374,"livre tournois sign"],[8375,"spesmilo sign"],[8376,"tenge sign"],[8377,"indian rupee sign"],[8378,"turkish lira sign"],[8379,"nordic mark sign"],[8380,"manat sign"],[8381,"ruble sign"],[20870,"yen character"],[20803,"yuan character"],[22291,"yuan character, in hong kong and taiwan"],[22278,"yen/yuan character variant one"]]},{name:"Text",characters:[[169,"copyright sign"],[174,"registered sign"],[8482,"trade mark sign"],[8240,"per mille sign"],[181,"micro sign"],[183,"middle dot"],[8226,"bullet"],[8230,"three dot leader"],[8242,"minutes / feet"],[8243,"seconds / inches"],[167,"section sign"],[182,"paragraph sign"],[223,"sharp s / ess-zed"]]},{name:"Quotations",characters:[[8249,"single left-pointing angle quotation mark"],[8250,"single right-pointing angle quotation mark"],[171,"left pointing guillemet"],[187,"right pointing guillemet"],[8216,"left single quotation mark"],[8217,"right single quotation mark"],[8220,"left double quotation mark"],[8221,"right double quotation mark"],[8218,"single low-9 quotation mark"],[8222,"double low-9 quotation mark"],[60,"less-than sign"],[62,"greater-than sign"],[8804,"less-than or equal to"],[8805,"greater-than or equal to"],[8211,"en dash"],[8212,"em dash"],[175,"macron"],[8254,"overline"],[164,"currency sign"],[166,"broken bar"],[168,"diaeresis"],[161,"inverted exclamation mark"],[191,"turned question mark"],[710,"circumflex accent"],[732,"small tilde"],[176,"degree sign"],[8722,"minus sign"],[177,"plus-minus sign"],[247,"division sign"],[8260,"fraction slash"],[215,"multiplication sign"],[185,"superscript one"],[178,"superscript two"],[179,"superscript three"],[188,"fraction one quarter"],[189,"fraction one half"],[190,"fraction three quarters"]]},{name:"Mathematical",characters:[[402,"function / florin"],[8747,"integral"],[8721,"n-ary sumation"],[8734,"infinity"],[8730,"square root"],[8764,"similar to"],[8773,"approximately equal to"],[8776,"almost equal to"],[8800,"not equal to"],[8801,"identical to"],[8712,"element of"],[8713,"not an element of"],[8715,"contains as member"],[8719,"n-ary product"],[8743,"logical and"],[8744,"logical or"],[172,"not sign"],[8745,"intersection"],[8746,"union"],[8706,"partial differential"],[8704,"for all"],[8707,"there exists"],[8709,"diameter"],[8711,"backward difference"],[8727,"asterisk operator"],[8733,"proportional to"],[8736,"angle"]]},{name:"Extended Latin",characters:[[192,"A - grave"],[193,"A - acute"],[194,"A - circumflex"],[195,"A - tilde"],[196,"A - diaeresis"],[197,"A - ring above"],[256,"A - macron"],[198,"ligature AE"],[199,"C - cedilla"],[200,"E - grave"],[201,"E - acute"],[202,"E - circumflex"],[203,"E - diaeresis"],[274,"E - macron"],[204,"I - grave"],[205,"I - acute"],[206,"I - circumflex"],[207,"I - diaeresis"],[298,"I - macron"],[208,"ETH"],[209,"N - tilde"],[210,"O - grave"],[211,"O - acute"],[212,"O - circumflex"],[213,"O - tilde"],[214,"O - diaeresis"],[216,"O - slash"],[332,"O - macron"],[338,"ligature OE"],[352,"S - caron"],[217,"U - grave"],[218,"U - acute"],[219,"U - circumflex"],[220,"U - diaeresis"],[362,"U - macron"],[221,"Y - acute"],[376,"Y - diaeresis"],[562,"Y - macron"],[222,"THORN"],[224,"a - grave"],[225,"a - acute"],[226,"a - circumflex"],[227,"a - tilde"],[228,"a - diaeresis"],[229,"a - ring above"],[257,"a - macron"],[230,"ligature ae"],[231,"c - cedilla"],[232,"e - grave"],[233,"e - acute"],[234,"e - circumflex"],[235,"e - diaeresis"],[275,"e - macron"],[236,"i - grave"],[237,"i - acute"],[238,"i - circumflex"],[239,"i - diaeresis"],[299,"i - macron"],[240,"eth"],[241,"n - tilde"],[242,"o - grave"],[243,"o - acute"],[244,"o - circumflex"],[245,"o - tilde"],[246,"o - diaeresis"],[248,"o slash"],[333,"o macron"],[339,"ligature oe"],[353,"s - caron"],[249,"u - grave"],[250,"u - acute"],[251,"u - circumflex"],[252,"u - diaeresis"],[363,"u - macron"],[253,"y - acute"],[254,"thorn"],[255,"y - diaeresis"],[563,"y - macron"],[913,"Alpha"],[914,"Beta"],[915,"Gamma"],[916,"Delta"],[917,"Epsilon"],[918,"Zeta"],[919,"Eta"],[920,"Theta"],[921,"Iota"],[922,"Kappa"],[923,"Lambda"],[924,"Mu"],[925,"Nu"],[926,"Xi"],[927,"Omicron"],[928,"Pi"],[929,"Rho"],[931,"Sigma"],[932,"Tau"],[933,"Upsilon"],[934,"Phi"],[935,"Chi"],[936,"Psi"],[937,"Omega"],[945,"alpha"],[946,"beta"],[947,"gamma"],[948,"delta"],[949,"epsilon"],[950,"zeta"],[951,"eta"],[952,"theta"],[953,"iota"],[954,"kappa"],[955,"lambda"],[956,"mu"],[957,"nu"],[958,"xi"],[959,"omicron"],[960,"pi"],[961,"rho"],[962,"final sigma"],[963,"sigma"],[964,"tau"],[965,"upsilon"],[966,"phi"],[967,"chi"],[968,"psi"],[969,"omega"]]},{name:"Symbols",characters:[[8501,"alef symbol"],[982,"pi symbol"],[8476,"real part symbol"],[978,"upsilon - hook symbol"],[8472,"Weierstrass p"],[8465,"imaginary part"]]},{name:"Arrows",characters:[[8592,"leftwards arrow"],[8593,"upwards arrow"],[8594,"rightwards arrow"],[8595,"downwards arrow"],[8596,"left right arrow"],[8629,"carriage return"],[8656,"leftwards double arrow"],[8657,"upwards double arrow"],[8658,"rightwards double arrow"],[8659,"downwards double arrow"],[8660,"left right double arrow"],[8756,"therefore"],[8834,"subset of"],[8835,"superset of"],[8836,"not a subset of"],[8838,"subset of or equal to"],[8839,"superset of or equal to"],[8853,"circled plus"],[8855,"circled times"],[8869,"perpendicular"],[8901,"dot operator"],[8968,"left ceiling"],[8969,"right ceiling"],[8970,"left floor"],[8971,"right floor"],[9001,"left-pointing angle bracket"],[9002,"right-pointing angle bracket"],[9674,"lozenge"],[9824,"black spade suit"],[9827,"black club suit"],[9829,"black heart suit"],[9830,"black diamond suit"],[8194,"en space"],[8195,"em space"],[8201,"thin space"],[8204,"zero width non-joiner"],[8205,"zero width joiner"],[8206,"left-to-right mark"],[8207,"right-to-left mark"]]}],Lt=we=>Fe.grep(we,Re=>R(Re)&&Re.length===2),Qt=we=>R(we)?Lt(we):typeof we=="function"?we():[],dt=(we,Re)=>{const He=xe(we);He&&(Re=[{name:it,characters:Qt(He)}]);const be=_e(we);if(be){const ke=Fe.grep(Re,Ne=>Ne.name===it);return ke.length?(ke[0].characters=[...ke[0].characters,...Qt(be)],Re):Re.concat({name:it,characters:Qt(be)})}return Re},Sn=we=>{const Re=dt(we,lt());return Re.length>1?[{name:"All",characters:Ve(Re,He=>He.characters)}].concat(Re):Re},Et=we=>({getCharMap:()=>Sn(we),insertChar:be=>{i(we,be)}}),et=we=>{let Re=we;return{get:()=>Re,set:ke=>{Re=ke}}},Me=(we,Re)=>{let He=null;const be=()=>{D(He)||(clearTimeout(He),He=null)};return{cancel:be,throttle:(...Ne)=>{be(),He=setTimeout(()=>{He=null,we.apply(null,Ne)},Re)}}},ft=(we,Re,He=0,be)=>{const ke=we.indexOf(Re,He);return ke!==-1?O(be)?!0:ke+Re.length<=be:!1},so=String.fromCodePoint,Wt=(we,Re,He)=>ft(so(we).toLowerCase(),He)?!0:ft(Re.toLowerCase(),He)||ft(Re.toLowerCase().replace(/\s+/g,""),He),In=(we,Re)=>{const He=[],be=Re.toLowerCase();return le(we.characters,ke=>{Wt(ke[0],ke[1],be)&&He.push(ke)}),de(He,ke=>({text:ke[1],value:so(ke[0]),icon:so(ke[0])}))},sn="pattern",J=(we,Re)=>{const He=()=>[{label:"Search",type:"input",name:sn},{type:"collection",name:"results"}],be=()=>de(Re,No=>({title:No.name,name:No.name,items:He()})),ke=()=>({type:"panel",items:He()}),Ne=()=>({type:"tabpanel",tabs:be()}),Ge=Re.length===1?et(it):et("All"),pt=(No,Gs)=>{fe(Re,ds=>ds.name===Ge.get()).each(ds=>{const ei=In(ds,Gs);No.setData({results:ei})})},jt=Me(No=>{const Gs=No.getData().pattern;pt(No,Gs)},40),xn=Re.length===1?ke():Ne(),Xn={pattern:"",results:In(Re[0],"")},oo={title:"Special Character",size:"normal",body:xn,buttons:[{type:"cancel",name:"close",text:"Close",primary:!0}],initialData:Xn,onAction:(No,Gs)=>{Gs.name==="results"&&(i(we,Gs.value),No.close())},onTabChange:(No,Gs)=>{Ge.set(Gs.newTabName),jt.throttle(No)},onChange:(No,Gs)=>{Gs.name===sn&&jt.throttle(No)}};we.windowManager.open(oo).focus(sn)},fo=(we,Re)=>{we.addCommand("mceShowCharmap",()=>{J(we,Re)})},Zt=(we,Re)=>{we.ui.registry.addAutocompleter("charmap",{trigger:":",columns:"auto",minChars:2,fetch:(He,be)=>new Promise((ke,Ne)=>{ke(In(Re,He))}),onAction:(He,be,ke)=>{we.selection.setRng(be),we.insertContent(ke),He.hide()}})},bn=we=>Re=>{const He=()=>{Re.setEnabled(we.selection.isEditable())};return we.on("NodeChange",He),He(),()=>{we.off("NodeChange",He)}},Ke=we=>{const Re=()=>we.execCommand("mceShowCharmap");we.ui.registry.addButton("charmap",{icon:"insert-character",tooltip:"Special character",onAction:Re,onSetup:bn(we)}),we.ui.registry.addMenuItem("charmap",{icon:"insert-character",text:"Special character...",onAction:Re,onSetup:bn(we)})};var tt=()=>{t.add("charmap",we=>{rt(we);const Re=Sn(we);return fo(we,Re),Ke(we),Zt(we,Re[0]),Et(we)})};tt()}()),xX}var CX;function PCe(){return CX||(CX=1,DCe()),yX}PCe();var _X={},SX={},kX;function NCe(){return kX||(kX=1,function(){var t=tinymce.util.Tools.resolve("tinymce.PluginManager");const i=(we=>Re=>we===Re)(null),u=we=>we,g=(we,Re)=>{const He=we.length,be=new Array(He);for(let ke=0;ke<He;ke++){const Ne=we[ke];be[ke]=Re(Ne,ke)}return be},x={aletter:"[A-Za-z---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------]",midnumlet:"[-'\\.]",midletter:"[:]",midnum:"[+*/,;;]",numeric:"[0-9---------------------------------]",cr:"\\r",lf:"\\n",newline:"[\v\f\u2028\u2029]",extend:"[------------------------------------------------------------------------------------------------------]",format:"[----\uFEFF-]",katakana:"[-------]",extendnumlet:"[=_--<>]",punctuation:"[~|!-*+-\\/:;?@\\[-`{};----------------------------------------------]"},w={ALETTER:0,MIDNUMLET:1,MIDLETTER:2,MIDNUM:3,NUMERIC:4,CR:5,LF:6,NEWLINE:7,EXTEND:8,FORMAT:9,KATAKANA:10,EXTENDNUMLET:11,AT:12,OTHER:13},I=[new RegExp(x.aletter),new RegExp(x.midnumlet),new RegExp(x.midletter),new RegExp(x.midnum),new RegExp(x.numeric),new RegExp(x.cr),new RegExp(x.lf),new RegExp(x.newline),new RegExp(x.extend),new RegExp(x.format),new RegExp(x.katakana),new RegExp(x.extendnumlet),new RegExp("@")],D="",O=new RegExp("^"+x.punctuation+"$"),N=/^\s+$/,V=I,U=w.OTHER,Z=we=>{let Re=U;const He=V.length;for(let be=0;be<He;++be){const ke=V[be];if(ke&&ke.test(we)){Re=be;break}}return Re},ee=we=>{const Re={};return He=>{if(Re[He])return Re[He];{const be=we(He);return Re[He]=be,be}}},re=we=>{const Re=ee(Z);return g(we,Re)},H=(we,Re)=>{const He=we[Re],be=we[Re+1];if(Re<0||Re>we.length-1&&Re!==0||He===w.ALETTER&&be===w.ALETTER)return!1;const ke=we[Re+2];if(He===w.ALETTER&&(be===w.MIDLETTER||be===w.MIDNUMLET||be===w.AT)&&ke===w.ALETTER)return!1;const Ne=we[Re-1];return(He===w.MIDLETTER||He===w.MIDNUMLET||be===w.AT)&&be===w.ALETTER&&Ne===w.ALETTER||(He===w.NUMERIC||He===w.ALETTER)&&(be===w.NUMERIC||be===w.ALETTER)||(He===w.MIDNUM||He===w.MIDNUMLET)&&be===w.NUMERIC&&Ne===w.NUMERIC||He===w.NUMERIC&&(be===w.MIDNUM||be===w.MIDNUMLET)&&ke===w.NUMERIC||(He===w.EXTEND||He===w.FORMAT)&&(be===w.ALETTER||be===w.NUMERIC||be===w.KATAKANA||be===w.EXTEND||be===w.FORMAT)||(be===w.EXTEND||be===w.FORMAT&&(ke===w.ALETTER||ke===w.NUMERIC||ke===w.KATAKANA||ke===w.EXTEND||ke===w.FORMAT))&&(He===w.ALETTER||He===w.NUMERIC||He===w.KATAKANA||He===w.EXTEND||He===w.FORMAT)||He===w.CR&&be===w.LF?!1:He===w.NEWLINE||He===w.CR||He===w.LF||be===w.NEWLINE||be===w.CR||be===w.LF?!0:!(He===w.KATAKANA&&be===w.KATAKANA||be===w.EXTENDNUMLET&&(He===w.ALETTER||He===w.NUMERIC||He===w.KATAKANA||He===w.EXTENDNUMLET)||He===w.EXTENDNUMLET&&(be===w.ALETTER||be===w.NUMERIC||be===w.KATAKANA)||He===w.AT)},de=D,le=N,j=O,fe=we=>we==="http"||we==="https",ne=(we,Re)=>{let He;for(He=Re;He<we.length&&!le.test(we[He]);He++);return He},Ve=(we,Re)=>{const He=ne(we,Re+1);return we.slice(Re+1,He).join(de).substr(0,3)==="://"?He:Re},Fe=(we,Re,He,be)=>{const ke=[],Ne=[];let Ge=[];for(let pt=0;pt<He.length;++pt)if(Ge.push(we[pt]),H(He,pt)){const cn=Re[pt];if((be.includeWhitespace||!le.test(cn))&&(be.includePunctuation||!j.test(cn))){const jt=pt-Ge.length+1,xn=pt+1,Xn=Re.slice(jt,xn).join(de);if(fe(Xn)){const oo=Ve(Re,pt),zo=we.slice(xn,oo);Array.prototype.push.apply(Ge,zo),pt=oo}Re[pt+1]==="."&&/^([a-zA-Z]\.)+$/.test(Xn+".")?(Ge.push(we[pt+1]),Ne.push({start:jt,end:xn+1})):Ne.push({start:jt,end:xn}),ke.push(Ge)}Ge=[]}return{words:ke,indices:Ne}},Xe=()=>({includeWhitespace:!1,includePunctuation:!1}),rt=(we,Re,He)=>{He={...Xe(),...He};const be=g(we,Re),ke=re(be);return Fe(we,be,ke,He)},_e=(we,Re,He)=>rt(we,Re,He).words,R=we=>we.replace(/\uFEFF/g,"");var it=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker");const lt=(we,Re)=>{const He=Re.getBlockElements(),be=Re.getVoidElements(),ke=jt=>He[jt.nodeName]||be[jt.nodeName],Ne=[];let Ge="";const pt=new it(we,we);let cn;for(;cn=pt.next();)cn.nodeType===3?Ge+=R(cn.data):ke(cn)&&Ge.length&&(Ne.push(Ge),Ge="");return Ge.length&&Ne.push(Ge),Ne},Lt=we=>we.replace(/\u200B/g,""),Qt=we=>we.replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"_").length,dt=(we,Re)=>{const He=Lt(lt(we,Re).join(`
`));return _e(He.split(""),u).length},Sn=(we,Re)=>{const He=lt(we,Re).join("");return Qt(He)},Et=(we,Re)=>{const He=lt(we,Re).join("").replace(/\s/g,"");return Qt(He)},et=(we,Re)=>()=>Re(we.getBody(),we.schema),Me=(we,Re)=>()=>Re(we.selection.getRng().cloneContents(),we.schema),ft=we=>et(we,dt),so=we=>({body:{getWordCount:ft(we),getCharacterCount:et(we,Sn),getCharacterCountWithoutSpaces:et(we,Et)},selection:{getWordCount:Me(we,dt),getCharacterCount:Me(we,Sn),getCharacterCountWithoutSpaces:Me(we,Et)},getCount:ft(we)}),Wt=(we,Re)=>{we.windowManager.open({title:"Word Count",body:{type:"panel",items:[{type:"table",header:["Count","Document","Selection"],cells:[["Words",String(Re.body.getWordCount()),String(Re.selection.getWordCount())],["Characters (no spaces)",String(Re.body.getCharacterCountWithoutSpaces()),String(Re.selection.getCharacterCountWithoutSpaces())],["Characters",String(Re.body.getCharacterCount()),String(Re.selection.getCharacterCount())]]}]},buttons:[{type:"cancel",name:"close",text:"Close",primary:!0}]})},In=(we,Re)=>{we.addCommand("mceWordCount",()=>Wt(we,Re))},sn=(we,Re)=>{let He=null;return{cancel:()=>{i(He)||(clearTimeout(He),He=null)},throttle:(...Ne)=>{i(He)&&(He=setTimeout(()=>{He=null,we.apply(null,Ne)},Re))}}};var J=tinymce.util.Tools.resolve("tinymce.util.Delay");const fo=(we,Re)=>{we.dispatch("wordCountUpdate",{wordCount:{words:Re.body.getWordCount(),characters:Re.body.getCharacterCount(),charactersWithoutSpaces:Re.body.getCharacterCountWithoutSpaces()}})},Zt=(we,Re)=>{fo(we,Re)},bn=(we,Re,He)=>{const be=sn(()=>Zt(we,Re),He);we.on("init",()=>{Zt(we,Re),J.setEditorTimeout(we,()=>{we.on("SetContent BeforeAddUndo Undo Redo ViewUpdate keyup",be.throttle)},0),we.on("remove",be.cancel)})},Ke=we=>{const Re=()=>we.execCommand("mceWordCount");we.ui.registry.addButton("wordcount",{tooltip:"Word count",icon:"character-count",onAction:Re}),we.ui.registry.addMenuItem("wordcount",{text:"Word count",icon:"character-count",onAction:Re})};var tt=(we=300)=>{t.add("wordcount",Re=>{const He=so(Re);return In(Re,He),Ke(Re),bn(Re,He,we),He})};tt()}()),SX}var EX;function LCe(){return EX||(EX=1,NCe()),_X}LCe();tinymce.Resource.add("ui/default/content.css",`.mce-content-body .mce-item-anchor{background:transparent url("data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D'8'%20height%3D'12'%20xmlns%3D'http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg'%3E%3Cpath%20d%3D'M0%200L8%200%208%2012%204.09117821%209%200%2012z'%2F%3E%3C%2Fsvg%3E%0A") no-repeat center}.mce-content-body .mce-item-anchor:empty{cursor:default;display:inline-block;height:12px!important;padding:0 2px;-webkit-user-modify:read-only;-moz-user-modify:read-only;-webkit-user-select:all;user-select:all;width:8px!important}.mce-content-body .mce-item-anchor:not(:empty){background-position-x:2px;display:inline-block;padding-left:12px}.mce-content-body .mce-item-anchor[data-mce-selected]{outline-offset:1px}.tox-comments-visible .tox-comment[contenteditable=false]:not([data-mce-selected]),.tox-comments-visible span.tox-comment img:not([data-mce-selected]),.tox-comments-visible span.tox-comment span.mce-preview-object:not([data-mce-selected]),.tox-comments-visible span.tox-comment>audio:not([data-mce-selected]),.tox-comments-visible span.tox-comment>video:not([data-mce-selected]){outline:3px solid #ffe89d}.tox-comments-visible .tox-comment[contenteditable=false][data-mce-annotation-active=true]:not([data-mce-selected]){outline:3px solid #fed635}.tox-comments-visible span.tox-comment[data-mce-annotation-active=true] img:not([data-mce-selected]),.tox-comments-visible span.tox-comment[data-mce-annotation-active=true] span.mce-preview-object:not([data-mce-selected]),.tox-comments-visible span.tox-comment[data-mce-annotation-active=true]>audio:not([data-mce-selected]),.tox-comments-visible span.tox-comment[data-mce-annotation-active=true]>video:not([data-mce-selected]){outline:3px solid #fed635}.tox-comments-visible span.tox-comment:not([data-mce-selected]){background-color:#ffe89d;outline:0}.tox-comments-visible span.tox-comment[data-mce-annotation-active=true]:not([data-mce-selected=inline-boundary]){background-color:#fed635}.tox-checklist>li:not(.tox-checklist--hidden){list-style:none;margin:.25em 0}.tox-checklist>li:not(.tox-checklist--hidden)::before{content:url("data:image/svg+xml;charset=UTF-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2216%22%20height%3D%2216%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cg%20id%3D%22checklist-unchecked%22%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%3E%3Crect%20id%3D%22Rectangle%22%20width%3D%2215%22%20height%3D%2215%22%20x%3D%22.5%22%20y%3D%22.5%22%20fill-rule%3D%22nonzero%22%20stroke%3D%22%234C4C4C%22%20rx%3D%222%22%2F%3E%3C%2Fg%3E%3C%2Fsvg%3E%0A");cursor:pointer;height:1em;margin-left:-1.5em;margin-top:.125em;position:absolute;width:1em}.tox-checklist li:not(.tox-checklist--hidden).tox-checklist--checked::before{content:url("data:image/svg+xml;charset=UTF-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2216%22%20height%3D%2216%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cg%20id%3D%22checklist-checked%22%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%3E%3Crect%20id%3D%22Rectangle%22%20width%3D%2216%22%20height%3D%2216%22%20fill%3D%22%234099FF%22%20fill-rule%3D%22nonzero%22%20rx%3D%222%22%2F%3E%3Cpath%20id%3D%22Path%22%20fill%3D%22%23FFF%22%20fill-rule%3D%22nonzero%22%20d%3D%22M11.5703186%2C3.14417309%20C11.8516238%2C2.73724603%2012.4164781%2C2.62829933%2012.83558%2C2.89774797%20C13.260121%2C3.17069355%2013.3759736%2C3.72932262%2013.0909105%2C4.14168582%20L7.7580587%2C11.8560195%20C7.43776896%2C12.3193404%206.76483983%2C12.3852142%206.35607322%2C11.9948725%20L3.02491697%2C8.8138662%20C2.66090143%2C8.46625845%202.65798871%2C7.89594698%203.01850234%2C7.54483354%20C3.373942%2C7.19866177%203.94940006%2C7.19592841%204.30829608%2C7.5386474%20L6.85276923%2C9.9684299%20L11.5703186%2C3.14417309%20Z%22%2F%3E%3C%2Fg%3E%3C%2Fsvg%3E%0A")}[dir=rtl] .tox-checklist>li:not(.tox-checklist--hidden)::before{margin-left:0;margin-right:-1.5em}code[class*=language-],pre[class*=language-]{color:#000;background:0 0;text-shadow:0 1px #fff;font-family:Consolas,Monaco,'Andale Mono','Ubuntu Mono',monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;tab-size:4;-webkit-hyphens:none;hyphens:none}code[class*=language-] ::selection,code[class*=language-]::selection,pre[class*=language-] ::selection,pre[class*=language-]::selection{text-shadow:none;background:#b3d4fc}@media print{code[class*=language-],pre[class*=language-]{text-shadow:none}}pre[class*=language-]{padding:1em;margin:.5em 0;overflow:auto}:not(pre)>code[class*=language-],pre[class*=language-]{background:#f5f2f0}:not(pre)>code[class*=language-]{padding:.1em;border-radius:.3em;white-space:normal}.token.cdata,.token.comment,.token.doctype,.token.prolog{color:#708090}.token.punctuation{color:#999}.token.namespace{opacity:.7}.token.boolean,.token.constant,.token.deleted,.token.number,.token.property,.token.symbol,.token.tag{color:#905}.token.attr-name,.token.builtin,.token.char,.token.inserted,.token.selector,.token.string{color:#690}.language-css .token.string,.style .token.string,.token.entity,.token.operator,.token.url{color:#9a6e3a;background:hsla(0,0%,100%,.5)}.token.atrule,.token.attr-value,.token.keyword{color:#07a}.token.class-name,.token.function{color:#dd4a68}.token.important,.token.regex,.token.variable{color:#e90}.token.bold,.token.important{font-weight:700}.token.italic{font-style:italic}.token.entity{cursor:help}.mce-content-body{overflow-wrap:break-word;word-wrap:break-word}.mce-content-body .mce-visual-caret{background-color:#000;background-color:currentColor;position:absolute}.mce-content-body .mce-visual-caret-hidden{display:none}.mce-content-body [data-mce-caret]{left:-1000px;margin:0;padding:0;position:absolute;right:auto;top:0}.mce-content-body .mce-offscreen-selection{left:-2000000px;max-width:1000000px;position:absolute}.mce-content-body [contentEditable=false]{cursor:default}.mce-content-body [contentEditable=true]{cursor:text}.tox-cursor-format-painter{cursor:url("data:image/svg+xml;charset=UTF-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2224%22%20height%3D%2224%22%20viewBox%3D%220%200%2024%2024%22%3E%0A%20%20%3Cg%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%3E%0A%20%20%20%20%3Cpath%20fill%3D%22%23000%22%20fill-rule%3D%22nonzero%22%20d%3D%22M15%2C6%20C15%2C5.45%2014.55%2C5%2014%2C5%20L6%2C5%20C5.45%2C5%205%2C5.45%205%2C6%20L5%2C10%20C5%2C10.55%205.45%2C11%206%2C11%20L14%2C11%20C14.55%2C11%2015%2C10.55%2015%2C10%20L15%2C9%20L16%2C9%20L16%2C12%20L9%2C12%20L9%2C19%20C9%2C19.55%209.45%2C20%2010%2C20%20L11%2C20%20C11.55%2C20%2012%2C19.55%2012%2C19%20L12%2C14%20L18%2C14%20L18%2C7%20L15%2C7%20L15%2C6%20Z%22%2F%3E%0A%20%20%20%20%3Cpath%20fill%3D%22%23000%22%20fill-rule%3D%22nonzero%22%20d%3D%22M1%2C1%20L8.25%2C1%20C8.66421356%2C1%209%2C1.33578644%209%2C1.75%20L9%2C1.75%20C9%2C2.16421356%208.66421356%2C2.5%208.25%2C2.5%20L2.5%2C2.5%20L2.5%2C8.25%20C2.5%2C8.66421356%202.16421356%2C9%201.75%2C9%20L1.75%2C9%20C1.33578644%2C9%201%2C8.66421356%201%2C8.25%20L1%2C1%20Z%22%2F%3E%0A%20%20%3C%2Fg%3E%0A%3C%2Fsvg%3E%0A"),default}div.mce-footnotes hr{margin-inline:0 auto;width:25%}div.mce-footnotes li>a.mce-footnotes-backlink{-webkit-text-decoration:none;text-decoration:none}@media print{sup.mce-footnote a{color:#000;-webkit-text-decoration:none;text-decoration:none}div.mce-footnotes{page-break-inside:avoid;break-inside:avoid;width:100%}div.mce-footnotes li>a.mce-footnotes-backlink{display:none}}tiny-math-block{display:flex;justify-content:center;margin:16px 0 16px 0}tiny-math-inline{display:inline-block}.mce-content-body figure.align-left{float:left}.mce-content-body figure.align-right{float:right}.mce-content-body figure.image.align-center{display:table;margin-left:auto;margin-right:auto}.mce-preview-object{border:1px solid gray;display:inline-block;line-height:0;margin:0 2px;position:relative}.mce-preview-object .mce-shim{background:url("data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7");height:100%;left:0;position:absolute;top:0;width:100%}.mce-preview-object[data-mce-selected="2"] .mce-shim{display:none}.mce-content-body .mce-mergetag{cursor:default!important;-webkit-user-select:none;user-select:none}.mce-content-body .mce-mergetag:hover{background-color:rgba(0,108,231,.1)}.mce-content-body .mce-mergetag-affix{background-color:rgba(0,108,231,.1);color:#006ce7}.mce-object{background:transparent url("data:image/svg+xml;charset=UTF-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2224%22%20height%3D%2224%22%3E%3Cpath%20d%3D%22M4%203h16a1%201%200%200%201%201%201v16a1%201%200%200%201-1%201H4a1%201%200%200%201-1-1V4a1%201%200%200%201%201-1zm1%202v14h14V5H5zm4.79%202.565l5.64%204.028a.5.5%200%200%201%200%20.814l-5.64%204.028a.5.5%200%200%201-.79-.407V7.972a.5.5%200%200%201%20.79-.407z%22%2F%3E%3C%2Fsvg%3E%0A") no-repeat center;border:1px dashed #aaa}.mce-pagebreak{border:1px dashed #aaa;cursor:default;display:block;height:5px;margin-top:15px;page-break-before:always;width:100%}@media print{.mce-pagebreak{border:0}}.tiny-pageembed .mce-shim{background:url(data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7);height:100%;left:0;position:absolute;top:0;width:100%}.tiny-pageembed[data-mce-selected="2"] .mce-shim{display:none}.tiny-pageembed{display:inline-block;position:relative}.tiny-pageembed--16by9,.tiny-pageembed--1by1,.tiny-pageembed--21by9,.tiny-pageembed--4by3{display:block;overflow:hidden;padding:0;position:relative;width:100%}.tiny-pageembed--21by9{padding-top:42.857143%}.tiny-pageembed--16by9{padding-top:56.25%}.tiny-pageembed--4by3{padding-top:75%}.tiny-pageembed--1by1{padding-top:100%}.tiny-pageembed--16by9 iframe,.tiny-pageembed--1by1 iframe,.tiny-pageembed--21by9 iframe,.tiny-pageembed--4by3 iframe{border:0;height:100%;left:0;position:absolute;top:0;width:100%}.mce-content-body[data-mce-placeholder]{position:relative}.mce-content-body[data-mce-placeholder]:not(.mce-visualblocks)::before{color:rgba(34,47,62,.7);content:attr(data-mce-placeholder);position:absolute}@media (forced-colors:active){.mce-content-body[data-mce-placeholder]:not(.mce-visualblocks)::before{color:highlight;filter:brightness(30%);z-index:-1}}.mce-content-body:not([dir=rtl])[data-mce-placeholder]:not(.mce-visualblocks)::before{left:1px}.mce-content-body[dir=rtl][data-mce-placeholder]:not(.mce-visualblocks)::before{right:1px}.mce-content-body div.mce-resizehandle{background-color:#4099ff;border-color:#4099ff;border-style:solid;border-width:1px;box-sizing:border-box;height:10px;position:absolute;width:10px;z-index:1298}.mce-content-body div.mce-resizehandle:hover{background-color:#4099ff}.mce-content-body div.mce-resizehandle:first-of-type{cursor:nwse-resize}.mce-content-body div.mce-resizehandle:nth-of-type(2){cursor:nesw-resize}.mce-content-body div.mce-resizehandle:nth-of-type(3){cursor:nwse-resize}.mce-content-body div.mce-resizehandle:nth-of-type(4){cursor:nesw-resize}.mce-content-body .mce-resize-backdrop{z-index:10000}.mce-content-body .mce-clonedresizable{cursor:default;opacity:.5;outline:1px dashed black;position:absolute;z-index:10001}.mce-content-body .mce-clonedresizable.mce-resizetable-columns td,.mce-content-body .mce-clonedresizable.mce-resizetable-columns th{border:0}.mce-content-body .mce-resize-helper{background:#555;background:rgba(0 0 0%);border:1px;border-radius:3px;color:#fff;display:none;font-family:sans-serif;font-size:12px;line-height:14px;margin:5px 10px;padding:5px;position:absolute;white-space:nowrap;z-index:10002}.tox-rtc-user-selection{position:relative}.tox-rtc-user-cursor{bottom:0;cursor:default;position:absolute;top:0;width:2px}.tox-rtc-user-cursor::before{background-color:inherit;border-radius:50%;content:'';display:block;height:8px;position:absolute;right:-3px;top:-3px;width:8px}.tox-rtc-user-cursor:hover::after{background-color:inherit;border-radius:100px;box-sizing:border-box;color:#fff;content:attr(data-user);display:block;font-size:12px;font-weight:700;left:-5px;min-height:8px;min-width:8px;padding:0 12px;position:absolute;top:-11px;white-space:nowrap;z-index:1000}.tox-rtc-user-selection--1 .tox-rtc-user-cursor{background-color:#2dc26b}.tox-rtc-user-selection--2 .tox-rtc-user-cursor{background-color:#e03e2d}.tox-rtc-user-selection--3 .tox-rtc-user-cursor{background-color:#f1c40f}.tox-rtc-user-selection--4 .tox-rtc-user-cursor{background-color:#3598db}.tox-rtc-user-selection--5 .tox-rtc-user-cursor{background-color:#b96ad9}.tox-rtc-user-selection--6 .tox-rtc-user-cursor{background-color:#e67e23}.tox-rtc-user-selection--7 .tox-rtc-user-cursor{background-color:#aaa69d}.tox-rtc-user-selection--8 .tox-rtc-user-cursor{background-color:#f368e0}.tox-rtc-remote-image{background:#eaeaea url("data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D%2236%22%20height%3D%2212%22%20viewBox%3D%220%200%2036%2012%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%0A%20%20%3Ccircle%20cx%3D%226%22%20cy%3D%226%22%20r%3D%223%22%20fill%3D%22rgba(0%2C%200%2C%200%2C%20.2)%22%3E%0A%20%20%20%20%3Canimate%20attributeName%3D%22r%22%20values%3D%223%3B5%3B3%22%20calcMode%3D%22linear%22%20dur%3D%221s%22%20repeatCount%3D%22indefinite%22%20%2F%3E%0A%20%20%3C%2Fcircle%3E%0A%20%20%3Ccircle%20cx%3D%2218%22%20cy%3D%226%22%20r%3D%223%22%20fill%3D%22rgba(0%2C%200%2C%200%2C%20.2)%22%3E%0A%20%20%20%20%3Canimate%20attributeName%3D%22r%22%20values%3D%223%3B5%3B3%22%20calcMode%3D%22linear%22%20begin%3D%22.33s%22%20dur%3D%221s%22%20repeatCount%3D%22indefinite%22%20%2F%3E%0A%20%20%3C%2Fcircle%3E%0A%20%20%3Ccircle%20cx%3D%2230%22%20cy%3D%226%22%20r%3D%223%22%20fill%3D%22rgba(0%2C%200%2C%200%2C%20.2)%22%3E%0A%20%20%20%20%3Canimate%20attributeName%3D%22r%22%20values%3D%223%3B5%3B3%22%20calcMode%3D%22linear%22%20begin%3D%22.66s%22%20dur%3D%221s%22%20repeatCount%3D%22indefinite%22%20%2F%3E%0A%20%20%3C%2Fcircle%3E%0A%3C%2Fsvg%3E%0A") no-repeat center center;border:1px solid #ccc;min-height:240px;min-width:320px}.mce-match-marker{background:#aaa;color:#fff}.mce-match-marker-selected{background:#39f;color:#fff}.mce-match-marker-selected::selection{background:#39f;color:#fff}.mce-content-body audio[data-mce-selected],.mce-content-body details[data-mce-selected],.mce-content-body embed[data-mce-selected],.mce-content-body img[data-mce-selected],.mce-content-body object[data-mce-selected],.mce-content-body table[data-mce-selected],.mce-content-body video[data-mce-selected]{outline:3px solid #b4d7ff}.mce-content-body hr[data-mce-selected]{outline:3px solid #b4d7ff;outline-offset:1px}.mce-content-body [contentEditable=false] [contentEditable=true]:focus{outline:3px solid #b4d7ff}.mce-content-body [contentEditable=false] [contentEditable=true]:hover{outline:3px solid #b4d7ff}.mce-content-body [contentEditable=false][data-mce-selected]{cursor:not-allowed;outline:3px solid #b4d7ff}.mce-content-body.mce-content-readonly [contentEditable=true]:focus,.mce-content-body.mce-content-readonly [contentEditable=true]:hover{outline:0}.mce-content-body [data-mce-selected=inline-boundary]{background-color:#b4d7ff}.mce-content-body .mce-edit-focus{outline:3px solid #b4d7ff}.mce-content-body td[data-mce-selected],.mce-content-body th[data-mce-selected]{position:relative}.mce-content-body td[data-mce-selected]::selection,.mce-content-body th[data-mce-selected]::selection{background:0 0}.mce-content-body td[data-mce-selected] *,.mce-content-body th[data-mce-selected] *{outline:0;-webkit-touch-callout:none;-webkit-user-select:none;user-select:none}.mce-content-body td[data-mce-selected]::after,.mce-content-body th[data-mce-selected]::after{background-color:rgba(180,215,255,.7);border:1px solid rgba(180,215,255,.7);bottom:-1px;content:'';left:-1px;mix-blend-mode:multiply;position:absolute;right:-1px;top:-1px}@media screen and (-ms-high-contrast:active),(-ms-high-contrast:none){.mce-content-body td[data-mce-selected]::after,.mce-content-body th[data-mce-selected]::after{border-color:rgba(0,84,180,.7)}}.mce-content-body img[data-mce-selected]::selection{background:0 0}.ephox-snooker-resizer-bar{background-color:#b4d7ff;opacity:0;-webkit-user-select:none;user-select:none}.ephox-snooker-resizer-cols{cursor:col-resize}.ephox-snooker-resizer-rows{cursor:row-resize}.ephox-snooker-resizer-bar.ephox-snooker-resizer-bar-dragging{opacity:1}.mce-spellchecker-word{background-image:url("data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D'4'%20height%3D'4'%20xmlns%3D'http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg'%3E%3Cpath%20stroke%3D'%23ff0000'%20fill%3D'none'%20stroke-linecap%3D'round'%20stroke-opacity%3D'.75'%20d%3D'M0%203L2%201%204%203'%2F%3E%3C%2Fsvg%3E%0A");background-position:0 calc(100% + 1px);background-repeat:repeat-x;background-size:auto 6px;cursor:default;height:2rem}.mce-spellchecker-grammar{background-image:url("data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D'4'%20height%3D'4'%20xmlns%3D'http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg'%3E%3Cpath%20stroke%3D'%2300A835'%20fill%3D'none'%20stroke-linecap%3D'round'%20d%3D'M0%203L2%201%204%203'%2F%3E%3C%2Fsvg%3E%0A");background-position:0 calc(100% + 1px);background-repeat:repeat-x;background-size:auto 6px;cursor:default}.mce-toc{border:1px solid gray}.mce-toc h2{margin:4px}.mce-toc ul>li{list-style-type:none}[data-mce-block]{display:block}.mce-item-table:not([border]),.mce-item-table:not([border]) caption,.mce-item-table:not([border]) td,.mce-item-table:not([border]) th,.mce-item-table[border="0"],.mce-item-table[border="0"] caption,.mce-item-table[border="0"] td,.mce-item-table[border="0"] th,table[style*="border-width: 0px"],table[style*="border-width: 0px"] caption,table[style*="border-width: 0px"] td,table[style*="border-width: 0px"] th{border:1px dashed #bbb}.mce-visualblocks address,.mce-visualblocks article,.mce-visualblocks aside,.mce-visualblocks blockquote,.mce-visualblocks div:not([data-mce-bogus]),.mce-visualblocks dl,.mce-visualblocks figcaption,.mce-visualblocks figure,.mce-visualblocks h1,.mce-visualblocks h2,.mce-visualblocks h3,.mce-visualblocks h4,.mce-visualblocks h5,.mce-visualblocks h6,.mce-visualblocks hgroup,.mce-visualblocks ol,.mce-visualblocks p,.mce-visualblocks pre,.mce-visualblocks section,.mce-visualblocks ul{background-repeat:no-repeat;border:1px dashed #bbb;margin-left:3px;padding-top:10px}.mce-visualblocks p{background-image:url(data:image/gif;base64,R0lGODlhCQAJAJEAAAAAAP///7u7u////yH5BAEAAAMALAAAAAAJAAkAAAIQnG+CqCN/mlyvsRUpThG6AgA7)}.mce-visualblocks h1{background-image:url(data:image/gif;base64,R0lGODlhDQAKAIABALu7u////yH5BAEAAAEALAAAAAANAAoAAAIXjI8GybGu1JuxHoAfRNRW3TWXyF2YiRUAOw==)}.mce-visualblocks h2{background-image:url(data:image/gif;base64,R0lGODlhDgAKAIABALu7u////yH5BAEAAAEALAAAAAAOAAoAAAIajI8Hybbx4oOuqgTynJd6bGlWg3DkJzoaUAAAOw==)}.mce-visualblocks h3{background-image:url(data:image/gif;base64,R0lGODlhDgAKAIABALu7u////yH5BAEAAAEALAAAAAAOAAoAAAIZjI8Hybbx4oOuqgTynJf2Ln2NOHpQpmhAAQA7)}.mce-visualblocks h4{background-image:url(data:image/gif;base64,R0lGODlhDgAKAIABALu7u////yH5BAEAAAEALAAAAAAOAAoAAAIajI8HybbxInR0zqeAdhtJlXwV1oCll2HaWgAAOw==)}.mce-visualblocks h5{background-image:url(data:image/gif;base64,R0lGODlhDgAKAIABALu7u////yH5BAEAAAEALAAAAAAOAAoAAAIajI8HybbxIoiuwjane4iq5GlW05GgIkIZUAAAOw==)}.mce-visualblocks h6{background-image:url(data:image/gif;base64,R0lGODlhDgAKAIABALu7u////yH5BAEAAAEALAAAAAAOAAoAAAIajI8HybbxIoiuwjan04jep1iZ1XRlAo5bVgAAOw==)}.mce-visualblocks div:not([data-mce-bogus]){background-image:url(data:image/gif;base64,R0lGODlhEgAKAIABALu7u////yH5BAEAAAEALAAAAAASAAoAAAIfjI9poI0cgDywrhuxfbrzDEbQM2Ei5aRjmoySW4pAAQA7)}.mce-visualblocks section{background-image:url(data:image/gif;base64,R0lGODlhKAAKAIABALu7u////yH5BAEAAAEALAAAAAAoAAoAAAI5jI+pywcNY3sBWHdNrplytD2ellDeSVbp+GmWqaDqDMepc8t17Y4vBsK5hDyJMcI6KkuYU+jpjLoKADs=)}.mce-visualblocks article{background-image:url(data:image/gif;base64,R0lGODlhKgAKAIABALu7u////yH5BAEAAAEALAAAAAAqAAoAAAI6jI+pywkNY3wG0GBvrsd2tXGYSGnfiF7ikpXemTpOiJScasYoDJJrjsG9gkCJ0ag6KhmaIe3pjDYBBQA7)}.mce-visualblocks blockquote{background-image:url(data:image/gif;base64,R0lGODlhPgAKAIABALu7u////yH5BAEAAAEALAAAAAA+AAoAAAJPjI+py+0Knpz0xQDyuUhvfoGgIX5iSKZYgq5uNL5q69asZ8s5rrf0yZmpNkJZzFesBTu8TOlDVAabUyatguVhWduud3EyiUk45xhTTgMBBQA7)}.mce-visualblocks address{background-image:url(data:image/gif;base64,R0lGODlhLQAKAIABALu7u////yH5BAEAAAEALAAAAAAtAAoAAAI/jI+pywwNozSP1gDyyZcjb3UaRpXkWaXmZW4OqKLhBmLs+K263DkJK7OJeifh7FicKD9A1/IpGdKkyFpNmCkAADs=)}.mce-visualblocks pre{background-image:url(data:image/gif;base64,R0lGODlhFQAKAIABALu7uwAAACH5BAEAAAEALAAAAAAVAAoAAAIjjI+ZoN0cgDwSmnpz1NCueYERhnibZVKLNnbOq8IvKpJtVQAAOw==)}.mce-visualblocks figure{background-image:url(data:image/gif;base64,R0lGODlhJAAKAIAAALu7u////yH5BAEAAAEALAAAAAAkAAoAAAI0jI+py+2fwAHUSFvD3RlvG4HIp4nX5JFSpnZUJ6LlrM52OE7uSWosBHScgkSZj7dDKnWAAgA7)}.mce-visualblocks figcaption{border:1px dashed #bbb}.mce-visualblocks hgroup{background-image:url(data:image/gif;base64,R0lGODlhJwAKAIABALu7uwAAACH5BAEAAAEALAAAAAAnAAoAAAI3jI+pywYNI3uB0gpsRtt5fFnfNZaVSYJil4Wo03Hv6Z62uOCgiXH1kZIIJ8NiIxRrAZNMZAtQAAA7)}.mce-visualblocks aside{background-image:url(data:image/gif;base64,R0lGODlhHgAKAIABAKqqqv///yH5BAEAAAEALAAAAAAeAAoAAAItjI+pG8APjZOTzgtqy7I3f1yehmQcFY4WKZbqByutmW4aHUd6vfcVbgudgpYCADs=)}.mce-visualblocks ul{background-image:url(data:image/gif;base64,R0lGODlhDQAKAIAAALu7u////yH5BAEAAAEALAAAAAANAAoAAAIXjI8GybGuYnqUVSjvw26DzzXiqIDlVwAAOw==)}.mce-visualblocks ol{background-image:url(data:image/gif;base64,R0lGODlhDQAKAIABALu7u////yH5BAEAAAEALAAAAAANAAoAAAIXjI8GybH6HHt0qourxC6CvzXieHyeWQAAOw==)}.mce-visualblocks dl{background-image:url(data:image/gif;base64,R0lGODlhDQAKAIABALu7u////yH5BAEAAAEALAAAAAANAAoAAAIXjI8GybEOnmOvUoWznTqeuEjNSCqeGRUAOw==)}.mce-visualblocks:not([dir=rtl]) address,.mce-visualblocks:not([dir=rtl]) article,.mce-visualblocks:not([dir=rtl]) aside,.mce-visualblocks:not([dir=rtl]) blockquote,.mce-visualblocks:not([dir=rtl]) div:not([data-mce-bogus]),.mce-visualblocks:not([dir=rtl]) dl,.mce-visualblocks:not([dir=rtl]) figcaption,.mce-visualblocks:not([dir=rtl]) figure,.mce-visualblocks:not([dir=rtl]) h1,.mce-visualblocks:not([dir=rtl]) h2,.mce-visualblocks:not([dir=rtl]) h3,.mce-visualblocks:not([dir=rtl]) h4,.mce-visualblocks:not([dir=rtl]) h5,.mce-visualblocks:not([dir=rtl]) h6,.mce-visualblocks:not([dir=rtl]) hgroup,.mce-visualblocks:not([dir=rtl]) ol,.mce-visualblocks:not([dir=rtl]) p,.mce-visualblocks:not([dir=rtl]) pre,.mce-visualblocks:not([dir=rtl]) section,.mce-visualblocks:not([dir=rtl]) ul{margin-left:3px}.mce-visualblocks[dir=rtl] address,.mce-visualblocks[dir=rtl] article,.mce-visualblocks[dir=rtl] aside,.mce-visualblocks[dir=rtl] blockquote,.mce-visualblocks[dir=rtl] div:not([data-mce-bogus]),.mce-visualblocks[dir=rtl] dl,.mce-visualblocks[dir=rtl] figcaption,.mce-visualblocks[dir=rtl] figure,.mce-visualblocks[dir=rtl] h1,.mce-visualblocks[dir=rtl] h2,.mce-visualblocks[dir=rtl] h3,.mce-visualblocks[dir=rtl] h4,.mce-visualblocks[dir=rtl] h5,.mce-visualblocks[dir=rtl] h6,.mce-visualblocks[dir=rtl] hgroup,.mce-visualblocks[dir=rtl] ol,.mce-visualblocks[dir=rtl] p,.mce-visualblocks[dir=rtl] pre,.mce-visualblocks[dir=rtl] section,.mce-visualblocks[dir=rtl] ul{background-position-x:right;margin-right:3px}.mce-nbsp,.mce-shy{background:#aaa}.mce-shy::after{content:'-'}body{font-family:sans-serif}table{border-collapse:collapse}`);tinymce.Resource.add("content/default/content.css",`body{font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,Oxygen,Ubuntu,Cantarell,'Open Sans','Helvetica Neue',sans-serif;line-height:1.4;margin:1rem}table{border-collapse:collapse}table:not([cellpadding]) td,table:not([cellpadding]) th{padding:.4rem}table[border]:not([border="0"]):not([style*=border-width]) td,table[border]:not([border="0"]):not([style*=border-width]) th{border-width:1px}table[border]:not([border="0"]):not([style*=border-style]) td,table[border]:not([border="0"]):not([style*=border-style]) th{border-style:solid}table[border]:not([border="0"]):not([style*=border-color]) td,table[border]:not([border="0"]):not([style*=border-color]) th{border-color:#ccc}figure{display:table;margin:1rem auto}figure figcaption{color:#999;display:block;margin-top:.25rem;text-align:center}hr{border-color:#ccc;border-style:solid;border-width:1px 0 0 0}code{background-color:#e8e8e8;border-radius:3px;padding:.1rem .2rem}.mce-content-body:not([dir=rtl]) blockquote{border-left:2px solid #ccc;margin-left:1.5rem;padding-left:1rem}.mce-content-body[dir=rtl] blockquote{border-right:2px solid #ccc;margin-right:1.5rem;padding-right:1rem}`);var MCe=["onActivate","onAddUndo","onBeforeAddUndo","onBeforeExecCommand","onBeforeGetContent","onBeforeRenderUI","onBeforeSetContent","onBeforePaste","onBlur","onChange","onClearUndos","onClick","onContextMenu","onCommentChange","onCompositionEnd","onCompositionStart","onCompositionUpdate","onCopy","onCut","onDblclick","onDeactivate","onDirty","onDrag","onDragDrop","onDragEnd","onDragGesture","onDragOver","onDrop","onExecCommand","onFocus","onFocusIn","onFocusOut","onGetContent","onHide","onInit","onInput","onKeyDown","onKeyPress","onKeyUp","onLoadContent","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp","onNodeChange","onObjectResizeStart","onObjectResized","onObjectSelected","onPaste","onPostProcess","onPostRender","onPreProcess","onProgressState","onRedo","onRemove","onReset","onSaveContent","onSelectionChange","onSetAttrib","onSetContent","onShow","onSubmit","onUndo","onVisualAid"],BCe=function(t){return MCe.map(function(r){return r.toLowerCase()}).indexOf(t.toLowerCase())!==-1},FCe=function(t,r,i){Object.keys(r).filter(BCe).forEach(function(u){var g=r[u];typeof g=="function"&&(u==="onInit"?g(t,i):i.on(u.substring(2),function(h){return g(h,i)}))})},$Ce=function(t,r,i,u){var g=t.modelEvents?t.modelEvents:null,h=Array.isArray(g)?g.join(" "):g;Rn(u,function(x,w){i&&typeof x=="string"&&x!==w&&x!==i.getContent({format:t.outputFormat})&&i.setContent(x)}),i.on(h||"change input undo redo",function(){r.emit("update:modelValue",i.getContent({format:t.outputFormat}))})},VCe=function(t,r,i,u,g,h){u.setContent(h()),i.attrs["onUpdate:modelValue"]&&$Ce(r,i,u,g),FCe(t,i.attrs,u)},AX=0,hne=function(t){var r=Date.now(),i=Math.floor(Math.random()*1e9);return AX++,t+"_"+i+AX+String(r)},zCe=function(t){return t!==null&&t.tagName.toLowerCase()==="textarea"},TX=function(t){return typeof t>"u"||t===""?[]:Array.isArray(t)?t:t.split(" ")},HCe=function(t,r){return TX(t).concat(TX(r))},UCe=function(t){return t==null},OX=function(t){var r;return typeof((r=t.options)===null||r===void 0?void 0:r.set)=="function"&&t.options.isRegistered("disabled")},RX=function(){return{listeners:[],scriptId:hne("tiny-script"),scriptLoaded:!1}},WCe=function(){var t=RX(),r=function(g,h,x,w){var I=h.createElement("script");I.referrerPolicy="origin",I.type="application/javascript",I.id=g,I.src=x;var D=function(){I.removeEventListener("load",D),w()};I.addEventListener("load",D),h.head&&h.head.appendChild(I)},i=function(g,h,x){t.scriptLoaded?x():(t.listeners.push(x),g.getElementById(t.scriptId)||r(t.scriptId,g,h,function(){t.listeners.forEach(function(w){return w()}),t.scriptLoaded=!0}))},u=function(){t=RX()};return{load:i,reinitialize:u}},KCe=WCe(),jCe=function(){return typeof window<"u"?window:global},kC=function(){var t=jCe();return t&&t.tinymce?t.tinymce:null},ZCe={apiKey:String,licenseKey:String,cloudChannel:String,id:String,init:Object,initialValue:String,inline:Boolean,modelEvents:[String,Array],plugins:[String,Array],tagName:String,toolbar:[String,Array],modelValue:String,disabled:Boolean,readonly:Boolean,tinymceScriptSrc:String,outputFormat:{type:String,validator:function(t){return t==="html"||t==="text"}}},Mb=function(){return Mb=Object.assign||function(t){for(var r,i=1,u=arguments.length;i<u;i++){r=arguments[i];for(var g in r)Object.prototype.hasOwnProperty.call(r,g)&&(t[g]=r[g])}return t},Mb.apply(this,arguments)},GCe=function(t,r,i,u){return t(u||"div",{id:r,ref:i})},qCe=function(t,r,i){return t("textarea",{id:r,visibility:"hidden",ref:i})},wU={selector:void 0,target:void 0},CU=function(t,r){var i;typeof((i=t.mode)===null||i===void 0?void 0:i.set)=="function"?t.mode.set(r):t.setMode(r)},pne=bJ({props:ZCe,setup:function(t,r){var i=t.init?Mb(Mb({},t.init),wU):Mb({},wU),u=MF(t),g=u.disabled,h=u.readonly,x=u.modelValue,w=u.tagName,I=Tn(null),D=null,O=t.id||hne("tiny-vue"),N=t.init&&t.init.inline||t.inline,V=!!r.attrs["onUpdate:modelValue"],U=!0,Z=t.initialValue?t.initialValue:"",ee="",re=function(le){return V?function(){return x!=null&&x.value?x.value:""}:function(){return le?Z:ee}},H=function(){var le=re(U),j=Mb(Mb({},i),{disabled:t.disabled,readonly:t.readonly,target:I.value,plugins:HCe(i.plugins,t.plugins),toolbar:t.toolbar||i.toolbar,inline:N,license_key:t.licenseKey,setup:function(fe){D=fe,!OX(D)&&t.disabled===!0&&CU(D,"readonly"),fe.on("init",function(ne){return VCe(ne,t,r,fe,x,le)}),typeof i.setup=="function"&&i.setup(fe)}});zCe(I.value)&&(I.value.style.visibility=""),kC().init(j),U=!1};Rn(h,function(le){D!==null&&CU(D,le?"readonly":"design")}),Rn(g,function(le){D!==null&&(OX(D)?D.options.set("disabled",le):CU(D,le?"readonly":"design"))}),Rn(w,function(le){var j;D&&(V||(ee=D.getContent()),(j=kC())===null||j===void 0||j.remove(D),Qo(function(){return H()}))}),Ku(function(){if(kC()!==null)H();else if(I.value&&I.value.ownerDocument){var le=t.cloudChannel?t.cloudChannel:"7",j=t.apiKey?t.apiKey:"no-api-key",fe=UCe(t.tinymceScriptSrc)?"https://cdn.tiny.cloud/1/".concat(j,"/tinymce/").concat(le,"/tinymce.min.js"):t.tinymceScriptSrc;KCe.load(I.value.ownerDocument,fe,H)}}),Ac(function(){kC()!==null&&kC().remove(D)}),N||(DW(function(){U||H()}),$F(function(){var le;D&&(V||(ee=D.getContent()),(le=kC())===null||le===void 0||le.remove(D))}));var de=function(le){var j;D&&(ee=D.getContent(),(j=kC())===null||j===void 0||j.remove(D),i=Mb(Mb(Mb({},i),le),wU),Qo(function(){return H()}))};return r.expose({rerender:de,getEditor:function(){return D}}),function(){return N?GCe(Ub,O,I,t.tagName):qCe(Ub,O,I)}}});const YCe=".mce-content-body,.long-essay-content{font-family:serif;font-size:1em;max-width:60em;line-height:150%}.mce-content-body h1,.long-essay-content h1,.mce-content-body h2,.long-essay-content h2,.mce-content-body h3,.long-essay-content h3,.mce-content-body h4,.long-essay-content h4,.mce-content-body h5,.long-essay-content h5,.mce-content-body h6,.long-essay-content h6{font-size:1em;font-weight:700;padding:0;margin-top:0;margin-bottom:10px;min-height:1.5em}.mce-content-body ol,.long-essay-content ol,.mce-content-body ul,.long-essay-content ul{margin-left:10px;margin-bottom:20px}.mce-content-body li,.long-essay-content li{margin-left:20px;margin-bottom:5px;min-height:1.5em}.mce-content-body p,.long-essay-content p,.mce-content-body pre,.long-essay-content pre{margin-top:0;margin-bottom:10px;min-height:1.5em}.mce-content-body,.long-essay-content,.tox-menu{counter-reset:h1 h2 h3 h4 h5 h6}.mce-content-body h1,.long-essay-content h1,.tox-menu h1{counter-increment:h1;counter-reset:h2 h3 h4 h5 h6}.mce-content-body h2,.long-essay-content h2,.tox-menu h2{counter-increment:h2;counter-reset:h3 h4 h5 h6}.mce-content-body h3,.long-essay-content h3,.tox-menu h3{counter-increment:h3;counter-reset:h4 h5 h6}.mce-content-body h4,.long-essay-content h4,.tox-menu h4{counter-increment:h4;counter-reset:h5 h6}.mce-content-body h5,.long-essay-content h5,.tox-menu h5{counter-increment:h5;counter-reset:h6}.mce-content-body h6,.long-essay-content h6,.tox-menu h6{counter-increment:h6}.tox-menu p,.tox-menu h1,.tox-menu h2,.tox-menu h3,.tox-menu h4,.tox-menu h5,.tox-menu h6,.tox-menu pre,.tox-menu li{font-size:1rem!important}.long-essay-content-row{display:flex;flex-direction:row;width:100%}.long-essay-counter-column{display:block;min-width:40px!important;flex-shrink:0}.long-essay-content-column{display:block}",XCe=".headlines-three h1{font-size:1.3em!important}.headlines-three h2{font-size:1.15em!important}.headlines-three h3{font-size:1em!important}";let Pb,IX;const{t:aE}=$d.global;class bne{constructor(r){_t(this,"editor_id",null);_t(this,"editor",null);_t(this,"scroll_top",0);_t(this,"scroll_left",0);_t(this,"wordCount",Tn(0));_t(this,"characterCount",Tn(0));this.editor_id=r,Se.settings(),Pb=Se.preferences(),IX=Se.snippets()}getInit(){return{license_key:"gpl",language:"de",height:"100%",menubar:!1,statusbar:!1,elementpath:!1,plugins:"lists charmap wordcount",toolbar:this.toolbar(),valid_elements:this.validElements(),formats:this.formats(),style_formats:this.styleFormats(),custom_undo_redo_levels:10,text_patterns:!1,content_css:"default",content_style:YCe.toString()+`
`+XCe.toString(),browser_spellcheck:!0,highlight_on_focus:!0,iframe_aria_text:aE("tinyHelperIframeAriaText"),paste_as_text:!1,paste_block_drop:!0,paste_merge_formats:!0,paste_tab_spaces:4,smart_paste:!1,paste_data_images:!1,paste_remove_styles_if_webkit:!0,paste_webkit_styles:"none",setup:(function(r){r.ui.registry.addButton("zoomOut",{tooltip:"Verkleinern",icon:"zoom-out",onAction:this.zoomOut.bind(this)}),r.ui.registry.addButton("zoomIn",{tooltip:"Vergrern",icon:"zoom-in",onAction:this.zoomIn.bind(this)}),r.ui.registry.addButton("openSnippets",{tooltip:"Textbausteine",icon:"plus",onAction:this.openSnippets.bind(this)})}).bind(this)}}toolbar(){return"zoomOut zoomIn undo redo styles bold italic underline bullist numlist removeformat charmap openSnippets"}validElements(){return"p/div,br,strong/b,em/i,u,ol,ul,li,h1,h2,h3,h4,h5,h6,pre"}formats(){return{underline:{inline:"u",remove:"all"}}}styleFormats(){return[{title:aE("settingsParagraph"),format:"p"},{title:aE("settingsHeading1"),format:"h1"},{title:aE("settingsHeading2"),format:"h2"},{title:aE("settingsHeading3"),format:"h3"},{title:aE("settingsTypewriter"),format:"pre"}]}init(){this.editor=OCe.get(this.editor_id),this.editor.getWin().addEventListener("scroll",this.saveScrolling.bind(this)),this.applyZoom(),this.applyFormat()}zoomIn(){Pb.zoomSummaryTextIn(),this.applyZoom()}zoomOut(){Pb.zoomSummaryTextOut(),this.applyZoom()}openSnippets(){IX.openSelection(kc.FOR_SUMMARY,null,this.editor.selection.getContent())}async applyFocus(){try{await Qo(),this.editor.focus()}catch{}}applyFormat(){for(const r of document.getElementsByClassName("tox-tinymce-aux"))r.classList.add("headlines-three")}applyZoom(){try{const r=this.editor;r&&(r.dom.setStyle(r.dom.doc.body,"font-size",Pb.summary_text_zoom+"rem"),r.dom.setStyle(r.dom.select("h1"),"font-size",Pb.summary_text_zoom*1.3+"rem"),r.dom.setStyle(r.dom.select("h2"),"font-size",Pb.summary_text_zoom*1.15+"rem"),r.dom.setStyle(r.dom.select("h3"),"font-size",Pb.summary_text_zoom+"rem"),r.dom.setStyle(r.dom.select("h4"),"font-size",Pb.summary_text_zoom+"rem"),r.dom.setStyle(r.dom.select("h5"),"font-size",Pb.summary_text_zoom+"rem"),r.dom.setStyle(r.dom.select("h6"),"font-size",Pb.summary_text_zoom+"rem"))}catch{}}saveScrolling(){const r=this.editor.getWin();(r.scrollX>0||r.scrollY>0)&&(this.scroll_left=r.scrollX,this.scroll_top=r.scrollY)}restoreScrolling(){try{this.editor.getWin().scroll({left:this.scroll_left,top:this.scroll_top})}catch(r){console.log(r)}}applyScrolling(){try{const r=this.editor.selection.getNode(),i=r.getBoundingClientRect(),u=this.editor.getContentAreaContainer().getBoundingClientRect();(i.top<u.top||i.bottom>u.bottom||i.right>u.right||i.left<u.left)&&r.scrollIntoView({behavior:"smooth",block:"nearest"})}catch(r){console.log(r)}}insertContent(r){try{this.editor.insertContent(r)}catch(i){console.log(i)}}}const JCe={class:"app-own-summary-text-wrapper"},QCe=["for"],e_e={__name:"OwnSummaryText",props:["editorId"],setup(t){const r=Se.summaries();Se.preferences();const i=Se.layout(),u=Se.snippets(),g=t,h=new bne(g.editorId);Rn(()=>i.focusChange,w);function x(){h.init()}async function w(){i.focusTarget=="ownSummary"&&(h.applyFocus(),await Qo(),h.restoreScrolling())}function I(){r.updateContent(!0),h.applyZoom()}function D(){r.updateContent(!0)}function O(){switch(event.key){case"F1":event.preventDefault(),h.openSnippets();break;default:i.handleKeyDown(event)}}async function N(){if(!u.selection_open&&u.open_for_purpose==kc.FOR_SUMMARY&&(await w(),u.insert_text)){const V=u.insert_text;u.insert_text="",h.insertContent(V)}}return Rn(()=>u.selection_open,N),(V,U)=>(Kt(),no("div",JCe,[se("label",{for:g.editorId,class:"hidden"},Be(V.$t("ownSummaryTextHiddenField")),9,QCe),Q(r).isOwnDisabled?Wn("",!0):(Kt(),$o(Q(pne),{key:0,id:g.editorId,modelValue:Q(r).editSummary.text,"onUpdate:modelValue":U[0]||(U[0]=Z=>Q(r).editSummary.text=Z),onInit:x,onChange:I,onKeyup:D,onKeydown:O,onScroll:Q(h).saveScrolling,licenseKey:"gpl",init:Q(h).getInit()},null,8,["id","modelValue","onScroll","init"]))]))}},vne=aa(e_e,[["__scopeId","data-v-765d1af1"]]);function t_e(){function t(i){var g,h;return[...((g=i.dataTransfer)==null?void 0:g.items)??[]].filter(x=>x.kind==="file").map(x=>x.webkitGetAsEntry()).filter(Boolean).length>0||[...((h=i.dataTransfer)==null?void 0:h.files)??[]].length>0}async function r(i){var h,x;const u=[],g=[...((h=i.dataTransfer)==null?void 0:h.items)??[]].filter(w=>w.kind==="file").map(w=>w.webkitGetAsEntry()).filter(Boolean);if(g.length)for(const w of g){const I=await yne(w,xne(".",w));u.push(...I.map(D=>D.file))}else u.push(...((x=i.dataTransfer)==null?void 0:x.files)??[]);return u}return{handleDrop:r,hasFilesOrFolders:t}}function yne(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return new Promise((i,u)=>{t.isFile?t.file(h=>i([{file:h,path:r}]),u):t.isDirectory&&t.createReader().readEntries(async h=>{const x=[];for(const w of h)x.push(...await yne(w,xne(r,w)));i(x)})})}function xne(t,r){return r.isDirectory?`${t}/${r.name}`:t}const n_e=Bn({chips:Boolean,counter:Boolean,counterSizeString:{type:String,default:"$vuetify.fileInput.counterSize"},counterString:{type:String,default:"$vuetify.fileInput.counter"},hideInput:Boolean,multiple:Boolean,showSize:{type:[Boolean,Number,String],default:!1,validator:t=>typeof t=="boolean"||[1e3,1024].includes(Number(t))},...CI({prependIcon:"$file"}),modelValue:{type:[Array,Object],default:t=>t.multiple?[]:null,validator:t=>Uu(t).every(r=>r!=null&&typeof r=="object")},...u8({clearable:!0})},"VFileInput"),o_e=Vo()({name:"VFileInput",inheritAttrs:!1,props:n_e(),emits:{"click:control":t=>!0,"mousedown:control":t=>!0,"update:focused":t=>!0,"update:modelValue":t=>!0},setup(t,r){let{attrs:i,emit:u,slots:g}=r;const{t:h}=BE(),x=Ri(t,"modelValue",t.modelValue,lt=>Uu(lt),lt=>!t.multiple&&Array.isArray(lt)?lt[0]:lt),{isFocused:w,focus:I,blur:D}=wI(t),O=Rt(()=>typeof t.showSize!="boolean"?t.showSize:void 0),N=Rt(()=>(x.value??[]).reduce((lt,Lt)=>{let{size:Qt=0}=Lt;return lt+Qt},0)),V=Rt(()=>Eq(N.value,O.value)),U=Rt(()=>(x.value??[]).map(lt=>{const{name:Lt="",size:Qt=0}=lt;return t.showSize?`${Lt} (${Eq(Qt,O.value)})`:Lt})),Z=Rt(()=>{var Lt;const lt=((Lt=x.value)==null?void 0:Lt.length)??0;return t.showSize?h(t.counterSizeString,lt,V.value):h(t.counterString,lt)}),ee=Tn(),re=Tn(),H=Tn(),de=pn(()=>w.value||t.active),le=Rt(()=>["plain","underlined"].includes(t.variant)),j=bo(!1),{handleDrop:fe,hasFilesOrFolders:ne}=t_e();function Ve(){var lt;H.value!==document.activeElement&&((lt=H.value)==null||lt.focus()),w.value||I()}function Fe(lt){var Lt;(Lt=H.value)==null||Lt.click()}function Xe(lt){u("mousedown:control",lt)}function rt(lt){var Lt;(Lt=H.value)==null||Lt.click(),u("click:control",lt)}function xe(lt){lt.stopPropagation(),Ve(),Qo(()=>{x.value=[],WF(t["onClick:clear"],lt)})}function _e(lt){lt.preventDefault(),lt.stopImmediatePropagation(),j.value=!0}function R(lt){lt.preventDefault(),j.value=!1}async function it(lt){if(lt.preventDefault(),lt.stopImmediatePropagation(),j.value=!1,!H.value||!ne(lt))return;const Lt=new DataTransfer;for(const Qt of await fe(lt))Lt.items.add(Qt);H.value.files=Lt.files,H.value.dispatchEvent(new Event("change",{bubbles:!0}))}return Rn(x,lt=>{(!Array.isArray(lt)||!lt.length)&&H.value&&(H.value.value="")}),Cs(()=>{const lt=!!(g.counter||t.counter),Lt=!!(lt||g.details),[Qt,dt]=gI(i),{modelValue:Sn,...Et}=Cx.filterProps(t),et=RE.filterProps(t);return ae(Cx,Bo({ref:ee,modelValue:t.multiple?x.value:x.value[0],class:["v-file-input",{"v-file-input--chips":!!t.chips,"v-file-input--dragging":j.value,"v-file-input--hide":t.hideInput,"v-input--plain-underlined":le.value},t.class],style:t.style,"onClick:prepend":Fe},Qt,Et,{centerAffix:!le.value,focused:w.value}),{...g,default:Me=>{let{id:ft,isDisabled:so,isDirty:Wt,isReadonly:In,isValid:sn}=Me;return ae(RE,Bo({ref:re,"prepend-icon":t.prependIcon,onMousedown:Xe,onClick:rt,"onClick:clear":xe,"onClick:prependInner":t["onClick:prependInner"],"onClick:appendInner":t["onClick:appendInner"]},et,{id:ft.value,active:de.value||Wt.value,dirty:Wt.value||t.dirty,disabled:so.value,focused:w.value,error:sn.value===!1,onDragover:_e,onDrop:it}),{...g,default:J=>{var bn;let{props:{class:fo,...Zt}}=J;return se(Yo,null,[se("input",Bo({ref:H,type:"file",readonly:In.value,disabled:so.value,multiple:t.multiple,name:t.name,onClick:Ke=>{Ke.stopPropagation(),In.value&&Ke.preventDefault(),Ve()},onChange:Ke=>{if(!Ke.target)return;const tt=Ke.target;x.value=[...tt.files??[]]},onDragleave:R,onFocus:Ve,onBlur:D},Zt,dt),null),se("div",{class:lo(fo)},[!!((bn=x.value)!=null&&bn.length)&&!t.hideInput&&(g.selection?g.selection({fileNames:U.value,totalBytes:N.value,totalBytesReadable:V.value}):t.chips?U.value.map(Ke=>ae(mK,{key:Ke,size:"small",text:Ke},null)):U.value.join(", "))])])}})},details:Lt?Me=>{var ft,so;return se(Yo,null,[(ft=g.details)==null?void 0:ft.call(g,Me),lt&&se(Yo,null,[se("span",null,null),ae(bK,{active:!!((so=x.value)!=null&&so.length),value:Z.value,disabled:t.disabled},g.counter)])])}:void 0})}),Ex({},ee,re,H)}}),s_e={id:"app-own-summary-upload-wrapper"},r_e={key:0,class:"mt-4"},i_e={__name:"OwnSummaryUpload",setup(t){const{t:r}=$d.global,i=Se.api(),u=Se.summaries(),g=Se.settings();Se.layout();const h=Tn(null),x=Tn(0),w=Tn(""),I=Tn(!1),D=Tn(!1),O=Tn(!1),N=Tn(!1);function V(H){x.value=Math.round(100*H.loaded/H.total)}async function U(){if(!h.value){w.value="Bitte whlen Sie eine Datei",I.value=!1;return}const H=await i.sendSummaryPdf(u.editSummary,h.value,V);if(H){u.editSummary.pdf=H,u.editSummary.text="",ee();return}w.value="Fehler beim Hochladen!",I.value=!1,x.value=0}function Z(){u.editSummary.text?D.value=!0:O.value=!0}function ee(){w.value="",I.value=!1,h.value=null,x.value=0,O.value=!1}function re(){u.editSummary.pdf=null,N.value=!1}return(H,de)=>(Kt(),no("div",s_e,[Q(u).editSummary.pdf?Wn("",!0):(Kt(),$o(Eo,{key:0,class:"headline-button",flat:"",onClick:Z},{default:vt(()=>[ae(zn,{left:"",icon:"mdi-upload"}),se("span",null,Be(H.$t("allUpload")+"..."),1)]),_:1})),Q(u).editSummary.pdf?(Kt(),$o(Eo,{key:1,class:"headline-button",flat:"",onClick:de[0]||(de[0]=le=>N.value=!0)},{default:vt(()=>[ae(zn,{left:"",icon:"mdi-delete-outline"}),se("span",null,Be(H.$t("allDelete")+"..."),1)]),_:1})):Wn("",!0),ae(qg,{"max-width":"60em",persistent:"",modelValue:D.value,"onUpdate:modelValue":de[2]||(de[2]=le=>D.value=le)},{default:vt(()=>[ae(Gg,{class:"pa-4"},{default:vt(()=>[ae(bx,null,{default:vt(()=>[vs(Be(H.$t("ownSummaryUploadTitle")),1)]),_:1}),ae(Em,null,{default:vt(()=>[vs(Be(H.$t("ownSummaryUploadTextWarning")),1)]),_:1}),ae(km,null,{default:vt(()=>[ae(Eo,{onClick:de[1]||(de[1]=le=>D.value=!1)},{default:vt(()=>[ae(zn,{left:"",icon:"mdi-close"}),se("span",null,Be(H.$t("allClose")),1)]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),ae(qg,{"max-width":"60em",persistent:"",modelValue:O.value,"onUpdate:modelValue":de[6]||(de[6]=le=>O.value=le)},{default:vt(()=>[ae(Gg,{class:"pa-4"},{default:vt(()=>[ae(bx,null,{default:vt(()=>[vs(Be(H.$t("ownSummaryUploadTitle")),1)]),_:1}),ae(Em,null,{default:vt(()=>[Mn(ae(Zg,{color:"#0000A0",type:"info",variant:"text",density:"compact"},{default:vt(()=>[vs(Be(Q(g).Task.summary_pdf_advice),1)]),_:1},512),[[uo,Q(g).Task.summary_pdf_advice!=""]]),de[10]||(de[10]=se("p",null,"",-1)),ae(o_e,{variant:"outlined",label:"Dateiauswahl",modelValue:h.value,"onUpdate:modelValue":de[3]||(de[3]=le=>h.value=le),"prepend-icon":"mdi-file-check-outline","show-size":"",accept:"application/pdf"},null,8,["modelValue"]),x.value>0?(Kt(),no("div",r_e,[ae(Ree,{modelValue:x.value,"onUpdate:modelValue":de[4]||(de[4]=le=>x.value=le),color:"#0000A0",height:"25"},{default:vt(()=>[se("strong",null,Be(Math.ceil(x.value))+"%",1)]),_:1},8,["modelValue"])])):Wn("",!0),w.value?(Kt(),$o(Zg,{key:1,type:I.value?"success":"error",class:"mt-4"},{default:vt(()=>[vs(Be(w.value),1)]),_:1},8,["type"])):Wn("",!0)]),_:1,__:[10]}),ae(km,null,{default:vt(()=>[ae(Eo,{disabled:!h.value,onClick:U},{default:vt(()=>[ae(zn,{left:"",icon:"mdi-upload"}),vs(" "+Be(H.$t("allUpload")),1)]),_:1},8,["disabled"]),ae(Eo,{onClick:de[5]||(de[5]=le=>ee())},{default:vt(()=>[ae(zn,{left:"",icon:"mdi-close"}),se("span",null,Be(H.$t("allCancel")),1)]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),ae(qg,{"max-width":"60em",persistent:"",modelValue:N.value,"onUpdate:modelValue":de[9]||(de[9]=le=>N.value=le)},{default:vt(()=>[ae(Gg,{class:"pa-4"},{default:vt(()=>[ae(bx,null,{default:vt(()=>[vs(Be(H.$t("ownSummaryUploadDeleteTitle")),1)]),_:1}),ae(Em,null,{default:vt(()=>[vs(Be(H.$t("ownSummaryUploadDeleteInfo")),1)]),_:1}),ae(km,null,{default:vt(()=>[ae(Eo,{onClick:de[7]||(de[7]=le=>re())},{default:vt(()=>[ae(zn,{left:"",icon:"mdi-delete-outline"}),vs(" "+Be(H.$t("allDelete")),1)]),_:1}),ae(Eo,{onClick:de[8]||(de[8]=le=>N.value=!1)},{default:vt(()=>[ae(zn,{left:"",icon:"mdi-close"}),se("span",null,Be(H.$t("allCancel")),1)]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]))}},wne=aa(i_e,[["__scopeId","data-v-6f499eed"]]),a_e={id:"app-authorization-wrapper"},l_e={key:0,class:"appRow"},c_e=["innerHTML"],u_e={class:"appRow"},d_e={key:0},f_e={class:"appRow"},m_e={key:0,class:"appRow"},g_e={key:1,class:"appRow"},h_e={__name:"ConfirmRevision",setup(t){const r=Se.api(),i=Se.items(),u=Se.settings(),g=Se.summaries(),h=Se.levels(),x=Se.corrections(),w=Se.layout(),{t:I}=$d.global,D=Tn(!1);function O(){switch(u.Assessment.procedure){case up.APPROXIMATION:return I("revisionFixApproximationTitle");case up.CONSULTING:return I("revisionFixConsultingTitle");default:return""}}function N(){return g.editSummary.revision_text!=""&&g.pointsOutsideCorridorText==""&&!Number.isNaN(g.editSummary.revision_points)}function V(){var Z;return u.Assessment.procedure===up.APPROXIMATION&&((Z=x.ownCorrection)==null?void 0:Z.position)===Wi.POSITION_FIRST}async function U(){await g.setOwnRevised(),await r.saveChangesToBackend(!0)?(D.value=!1,r.loadItemFromBackend(i.currentKey)):(D.value=!1,w.showSendFailure=!0)}return(Z,ee)=>(Kt(),no("div",a_e,[Q(i).canRevise?(Kt(),$o(Eo,{key:0,class:"app-header-item",disabled:Q(r).isLoading,onClick:ee[0]||(ee[0]=re=>D.value=!0)},{default:vt(()=>[ae(zn,{left:"",icon:"mdi-file-certificate-outline"}),se("span",null,Be(Z.$t("revisionButton")),1)]),_:1},8,["disabled"])):Wn("",!0),ae(qg,{"max-width":"60em",persistent:"",modelValue:D.value,"onUpdate:modelValue":ee[4]||(ee[4]=re=>D.value=re)},{default:vt(()=>[ae(Gg,null,{default:vt(()=>[ae(bx,null,{default:vt(()=>[vs(Be(O()),1)]),_:1}),ae(Em,null,{default:vt(()=>{var re,H;return[Q(g).editSummary.hasRevisionText()?(Kt(),no("div",l_e,[se("strong",null,Be(Z.$t("revisionTextLabel")),1),se("div",{class:"appText long-essay-content headlines-three",innerHTML:Q(g).editSummary.revision_text},null,8,c_e)])):Wn("",!0),se("div",u_e,[Q(g).editSummary.hasRevisionPoints()?(Kt(),no("span",d_e,[se("strong",null,Be(Z.$t("revisionPointsLabel")),1),vs(" "+Be(Q(g).editSummary.revision_points)+" "+Be(Z.$t("allPoints",Q(g).editSummary.revision_points))+" ",1),se("strong",null,Be(Z.$t("allGrade")),1),vs(" "+Be((re=Q(h).getLevelForPoints(Q(g).editSummary.revision_points))==null?void 0:re.title),1)])):Wn("",!0),se("p",null,Be((H=Q(h).getLevelForPoints(Q(g).editSummary.revision_points))==null?void 0:H.statement),1)]),se("div",f_e,[Mn(ae(Zg,{color:"#0000A0",type:"info",variant:"text",density:"compact"},{default:vt(()=>[vs(Be(Z.$t("revisionPleaseEnterPoints")),1)]),_:1},512),[[uo,!Q(g).editSummary.hasRevisionPoints()]]),Mn(ae(Zg,{color:"#0000A0",type:"info",variant:"text",density:"compact"},{default:vt(()=>[vs(Be(Z.$t("revisionPleaseEnterText")),1)]),_:1},512),[[uo,!Q(g).editSummary.hasRevisionText()]]),Mn(ae(Zg,{color:"#0000A0",type:"info",variant:"text",density:"compact"},{default:vt(()=>[vs(Be(Q(g).pointsOutsideCorridorText),1)]),_:1},512),[[uo,Q(g).pointsOutsideCorridorText!==""]]),Mn(ae(Zg,{color:"#0000A0",type:"info",variant:"text",density:"compact"},{default:vt(()=>[vs(Be(Q(g).stitchNeededAfterRevisionText),1)]),_:1},512),[[uo,Q(g).stitchNeededAfterRevisionText!==""]]),Q(g).editSummary.hasRevisionText()&&Q(g).editSummary.hasRevisionPoints()?(Kt(),no("div",m_e,[V()?(Kt(),$o(uye,{key:0,modelValue:Q(g).editSummary.require_other_revision,"onUpdate:modelValue":ee[1]||(ee[1]=de=>Q(g).editSummary.require_other_revision=de),label:Q(I)("revisionRequireOtherRevision")},null,8,["modelValue","label"])):Wn("",!0)])):Wn("",!0),N()?(Kt(),no("div",g_e,Be(Z.$t("revisionWarnFinalize")),1)):Wn("",!0)])]}),_:1}),ae(km,null,{default:vt(()=>[ae(Eo,{disabled:!N(),onClick:ee[2]||(ee[2]=re=>U())},{default:vt(()=>[ae(zn,{left:"",icon:"mdi-check"}),se("span",null,Be(Z.$t("revisionFix")),1)]),_:1},8,["disabled"]),ae(Eo,{onClick:ee[3]||(ee[3]=re=>D.value=!1)},{default:vt(()=>[ae(zn,{left:"",icon:"mdi-close"}),se("span",null,Be(Z.$t("allCancel")),1)]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]))}},p_e=aa(h_e,[["__scopeId","data-v-b9a4e232"]]),b_e={class:"app-own-summary-text-wrapper"},v_e={class:"app-summary-editor"},y_e=["for"],x_e=["innerHTML"],w_e={for:"appOwnSummaryPoints"},C_e=["disabled","min","max"],__e={key:0},S_e={__name:"OwnSummaryRevision",props:["editorId"],setup(t){const r=Se.summaries();Se.preferences();const i=Se.layout(),u=Se.snippets(),g=Se.items();Se.settings();const h=Se.levels(),x=t,w=new bne(x.editorId);function I(){w.init()}function D(){r.updateContent(!0),w.applyZoom()}function O(){r.updateContent(!0)}function N(){switch(event.key){case"F1":event.preventDefault(),w.openSnippets();break;default:i.handleKeyDown(event)}}async function V(){if(!u.selection_open&&u.open_for_purpose==kc.FOR_SUMMARY&&(await handleFocusChange(),u.insert_text)){const U=u.insert_text;u.insert_text="",w.insertContent(U)}}return Rn(()=>u.selection_open,V),(U,Z)=>(Kt(),no("div",b_e,[se("div",v_e,[se("label",{for:x.editorId,class:"hidden"},Be(U.$t("ownSummaryRevisionTextHiddenField")),9,y_e),Q(g).canRevise?(Kt(),$o(Q(pne),{key:0,id:x.editorId,modelValue:Q(r).editSummary.revision_text,"onUpdate:modelValue":Z[0]||(Z[0]=ee=>Q(r).editSummary.revision_text=ee),onInit:I,onChange:D,onKeyup:O,onKeydown:N,onScroll:Q(w).saveScrolling,licenseKey:"gpl",init:Q(w).getInit()},null,8,["id","modelValue","onScroll","init"])):Wn("",!0)]),Q(g).canRevise?Wn("",!0):(Kt(),no("div",{key:0,class:"app-summary-text-display long-essay-content correction-summary",innerHTML:Q(r).editSummary.revision_text},null,8,x_e)),ae(IE,{class:"app-summary-points"},{default:vt(()=>[ae(Z0,{dense:""},{default:vt(()=>[ae(Ml,{cols:"10"},{default:vt(()=>{var ee,re;return[se("label",w_e,[se("strong",null,Be(U.$t("summaryRevisionRating")),1)]),Z[2]||(Z[2]=vs("  ")),Mn(se("input",{disabled:!Q(g).canRevise,id:"appOwnSummaryPoints",class:"appPoints",type:"number",min:Q(r).pointsCorridor.min,max:Q(r).pointsCorridor.max,"onUpdate:modelValue":Z[1]||(Z[1]=H=>Q(r).editSummary.revision_points=H)},null,8,C_e),[[_E,Q(r).editSummary.revision_points]]),vs(" "+Be(U.$t("allPoints",Number.isNaN(Q(r).editSummary.revision_points)?0:Q(r).editSummary.revision_points))+"  ",1),Number.isNaN(Q(r).editSummary.revision_points)?Wn("",!0):(Kt(),no("span",__e,[se("strong",null,Be(U.$t("allGrade")),1),vs(" "+Be((ee=Q(h).getLevelForPoints(Q(r).editSummary.revision_points))==null?void 0:ee.title),1)])),se("p",null,Be((re=Q(h).getLevelForPoints(Q(r).editSummary.revision_points))==null?void 0:re.statement),1)]}),_:1,__:[2]}),ae(Ml,{cols:"2"},{default:vt(()=>[ae(p_e)]),_:1})]),_:1})]),_:1})]))}},k_e=aa(S_e,[["__scopeId","data-v-b6913fae"]]),E_e={id:"app-summary-wrapper"},A_e={class:"headline"},T_e={class:"headline"},O_e={class:"headline"},R_e={key:3,id:"app-own-summary-points"},I_e={class:"headline"},D_e={key:4,id:"app-summary-points"},P_e={class:"headline"},N_e={class:"headline"},L_e={class:"headline"},M_e={key:7},B_e={__name:"SummaryColumn",props:["correction_key","showCriteria","showText","showRevision"],setup(t){const r=t,i=Se.corrections().getCorrection(r.correction_key),u=Jr.buildPositionText(i.position);let g,h,x,w,I,D,O,N,V;function U(){g=r.correction_key==Se.corrections().ownKey,h=g&&Se.items().canCorrect,x=g&&Se.items().canRevise,w=g?Se.summaries().editSummary:Se.summaries().getForCorrection(r.correction_key),I=w.isAuthorized(),D=w.isRevised(),O=r.showCriteria&&(Se.settings().Task.enable_comment_ratings||Se.settings().Task.enable_partial_points),N=r.showText&&(g||I),V=r.showRevision&&(g&&x||D)}Rn(()=>r.correction_key,U),Rn(()=>r.showCriteria,U),Rn(()=>r.showText,U),Rn(()=>r.showRevision,U),U();function Z(){switch((O?1:0)+(N?1:0)+(V?1:0)){case 0:return"hidden";case 1:return"full";case 2:return"half";case 3:return"third"}}return(ee,re)=>(Kt(),no("div",E_e,[Q(O)?(Kt(),no("div",{key:0,class:lo(Z())},[se("h2",A_e,Be(ee.$t("allOverview"))+" "+Be(Q(u)),1),ae(Uwe,{class:"content",correction_key:r.correction_key},null,8,["correction_key"])],2)):Wn("",!0),Q(N)&&Q(g)&&!Q(Se).summaries().isOwnDisabled?(Kt(),no("div",{key:1,class:lo(Z())},[ae(IE,{class:"ma-0 pa-0"},{default:vt(()=>[ae(Z0,{class:"section-header ma-0"},{default:vt(()=>[ae(Ml,{cols:"8",class:"ma-0 pa-0"},{default:vt(()=>[se("h2",T_e,Be(ee.$t("allSummary"))+" "+Be(Q(u)),1)]),_:1}),ae(Ml,{cols:"4",class:"ma-0 pa-0 text-right"},{default:vt(()=>[ae(wne)]),_:1})]),_:1})]),_:1}),Mn(ae(vne,{class:"content",editorId:"summary"},null,512),[[uo,!Q(w).pdf]]),Q(w).pdf?(Kt(),$o(OF,{key:0,class:"content",correction_key:r.correction_key},null,8,["correction_key"])):Wn("",!0)],2)):Wn("",!0),Q(N)&&(!Q(g)||Q(Se).summaries().isOwnDisabled)?(Kt(),no("div",{key:2,class:lo(Z())},[se("h2",O_e,Be(ee.$t("allSummary"))+" "+Be(Q(u)),1),Q(w).pdf?Wn("",!0):(Kt(),$o(mne,{key:0,class:"content",correction_key:r.correction_key},null,8,["correction_key"])),Q(w).pdf?(Kt(),$o(OF,{key:1,class:"content",correction_key:r.correction_key},null,8,["correction_key"])):Wn("",!0)],2)):Wn("",!0),Q(h)?(Kt(),no("div",R_e,[se("h2",I_e,Be(ee.$t("allTotalRating"))+" "+Be(Q(u)),1),ae(ECe,{class:"content"})])):Wn("",!0),!Q(h)&&Q(I)?(Kt(),no("div",D_e,[se("h2",P_e,Be(ee.$t("allTotalRating"))+" "+Be(Q(u)),1),ae(Xwe,{class:"content",correction_key:r.correction_key},null,8,["correction_key"])])):Wn("",!0),Q(V)&&Q(x)?(Kt(),no("div",{key:5,class:lo(Z())},[se("h2",N_e,Be(Q(Se).settings().procedureText)+" "+Be(Q(u)),1),ae(k_e,{class:"content",editorId:"revision"})],2)):Wn("",!0),Q(V)&&!Q(x)&&Q(D)?(Kt(),no("div",{key:6,class:lo(Z())},[se("h2",L_e,Be(Q(Se).settings().procedureText)+" "+Be(Q(u)),1),ae(nCe,{class:"content",correction_key:r.correction_key},null,8,["correction_key"])],2)):Wn("",!0),!Q(h)&&!Q(I)?(Kt(),no("div",M_e,Be(ee.$t("otherSummaryNotAuthorized")),1)):Wn("",!0)]))}},_U=aa(B_e,[["__scopeId","data-v-806bd915"]]),F_e=Bn({autoGrow:Boolean,autofocus:Boolean,counter:[Boolean,Number,String],counterValue:Function,prefix:String,placeholder:String,persistentPlaceholder:Boolean,persistentCounter:Boolean,noResize:Boolean,rows:{type:[Number,String],default:5,validator:t=>!isNaN(parseFloat(t))},maxRows:{type:[Number,String],validator:t=>!isNaN(parseFloat(t))},suffix:String,modelModifiers:Object,...CI(),...u8()},"VTextarea"),Cne=Vo()({name:"VTextarea",directives:{vIntersect:OE},inheritAttrs:!1,props:F_e(),emits:{"click:control":t=>!0,"mousedown:control":t=>!0,"update:focused":t=>!0,"update:modelValue":t=>!0,"update:rows":t=>!0},setup(t,r){let{attrs:i,emit:u,slots:g}=r;const h=Ri(t,"modelValue"),{isFocused:x,focus:w,blur:I}=wI(t),{onIntersect:D}=Ste(t),O=Rt(()=>typeof t.counterValue=="function"?t.counterValue(h.value):(h.value||"").toString().length),N=Rt(()=>{if(i.maxlength)return i.maxlength;if(!(!t.counter||typeof t.counter!="number"&&typeof t.counter!="string"))return t.counter}),V=Tn(),U=Tn(),Z=bo(""),ee=Tn(),re=Rt(()=>t.persistentPlaceholder||x.value||t.active);function H(){var xe;ee.value!==document.activeElement&&((xe=ee.value)==null||xe.focus()),x.value||w()}function de(xe){H(),u("click:control",xe)}function le(xe){u("mousedown:control",xe)}function j(xe){xe.stopPropagation(),H(),Qo(()=>{h.value="",WF(t["onClick:clear"],xe)})}function fe(xe){var R;const _e=xe.target;if(h.value=_e.value,(R=t.modelModifiers)!=null&&R.trim){const it=[_e.selectionStart,_e.selectionEnd];Qo(()=>{_e.selectionStart=it[0],_e.selectionEnd=it[1]})}}const ne=Tn(),Ve=Tn(Number(t.rows)),Fe=Rt(()=>["plain","underlined"].includes(t.variant));Bd(()=>{t.autoGrow||(Ve.value=Number(t.rows))});function Xe(){t.autoGrow&&Qo(()=>{if(!ne.value||!U.value)return;const xe=getComputedStyle(ne.value),_e=getComputedStyle(U.value.$el),R=parseFloat(xe.getPropertyValue("--v-field-padding-top"))+parseFloat(xe.getPropertyValue("--v-input-padding-top"))+parseFloat(xe.getPropertyValue("--v-field-padding-bottom")),it=ne.value.scrollHeight,lt=parseFloat(xe.lineHeight),Lt=Math.max(parseFloat(t.rows)*lt+R,parseFloat(_e.getPropertyValue("--v-input-control-height"))),Qt=parseFloat(t.maxRows)*lt+R||1/0,dt=wf(it??0,Lt,Qt);Ve.value=Math.floor((dt-R)/lt),Z.value=ws(dt)})}Ku(Xe),Rn(h,Xe),Rn(()=>t.rows,Xe),Rn(()=>t.maxRows,Xe),Rn(()=>t.density,Xe),Rn(Ve,xe=>{u("update:rows",xe)});let rt;return Rn(ne,xe=>{xe?(rt=new ResizeObserver(Xe),rt.observe(ne.value)):rt==null||rt.disconnect()}),Ac(()=>{rt==null||rt.disconnect()}),Cs(()=>{const xe=!!(g.counter||t.counter||t.counterValue),_e=!!(xe||g.details),[R,it]=gI(i),{modelValue:lt,...Lt}=Cx.filterProps(t),Qt=RE.filterProps(t);return ae(Cx,Bo({ref:V,modelValue:h.value,"onUpdate:modelValue":dt=>h.value=dt,class:["v-textarea v-text-field",{"v-textarea--prefixed":t.prefix,"v-textarea--suffixed":t.suffix,"v-text-field--prefixed":t.prefix,"v-text-field--suffixed":t.suffix,"v-textarea--auto-grow":t.autoGrow,"v-textarea--no-resize":t.noResize||t.autoGrow,"v-input--plain-underlined":Fe.value},t.class],style:t.style},R,Lt,{centerAffix:Ve.value===1&&!Fe.value,focused:x.value}),{...g,default:dt=>{let{id:Sn,isDisabled:Et,isDirty:et,isReadonly:Me,isValid:ft}=dt;return ae(RE,Bo({ref:U,style:{"--v-textarea-control-height":Z.value},onClick:de,onMousedown:le,"onClick:clear":j,"onClick:prependInner":t["onClick:prependInner"],"onClick:appendInner":t["onClick:appendInner"]},Qt,{id:Sn.value,active:re.value||et.value,centerAffix:Ve.value===1&&!Fe.value,dirty:et.value||t.dirty,disabled:Et.value,focused:x.value,error:ft.value===!1}),{...g,default:so=>{let{props:{class:Wt,...In}}=so;return se(Yo,null,[t.prefix&&se("span",{class:"v-text-field__prefix"},[t.prefix]),Mn(se("textarea",Bo({ref:ee,class:Wt,value:h.value,onInput:fe,autofocus:t.autofocus,readonly:Me.value,disabled:Et.value,placeholder:t.placeholder,rows:t.rows,name:t.name,onFocus:H,onBlur:I},In,it),null),[[OE,{handler:D},null,{once:!0}]]),t.autoGrow&&Mn(se("textarea",{class:lo([Wt,"v-textarea__sizer"]),id:`${In.id}-sizer`,"onUpdate:modelValue":sn=>h.value=sn,ref:ne,readonly:!0,"aria-hidden":"true"},null),[[_E,h.value]]),t.suffix&&se("span",{class:"v-text-field__suffix"},[t.suffix])])}})},details:_e?dt=>{var Sn;return se(Yo,null,[(Sn=g.details)==null?void 0:Sn.call(g,dt),xe&&se(Yo,null,[se("span",null,null),ae(bK,{active:t.persistentCounter||x.value,value:O.value,max:N.value,disabled:t.disabled},g.counter)])])}:void 0})}),Ex({},V,U,ee)}}),$_e={class:"sr-only"},V_e=["id"],z_e={key:0},H_e=["id","disabled"],U_e=["for"],W_e={key:0},K_e=["id","disabled"],j_e=["for"],Z_e={class:"pointsSum"},G_e={class:"sr-only"},q_e={__name:"MarkingComment",props:["comment"],setup(t){Se.api();const r=Se.comments(),i=Se.summaries(),u=Se.settings();Se.criteria();const g=Se.points(),h=Se.layout(),x=Se.snippets(),{t:w}=$d.global,D=t.comment,O=Tn();let N=Tn(0);const V=g.getObjectByData(D.correction_key,D.key,"");N.value=V?V.points:0;function U(xe){return xe.key==r.selectedKey}function Z(xe){return xe.correction_key==Se.corrections().ownKey&&!i.isOwnDisabled}function ee(xe){return xe.rating_excellent||xe.rating_cardinal||g.getSumOfPointsForComment(xe.key)>0}Ku(()=>{const xe=document.getElementById("appCommentContainer"+D.key);for(const _e of xe.getElementsByTagName("label"))_e.getAttribute("for").includes("app-comment-")&&(_e.classList.add("sr-only"),_e.getAttribute("aria-hidden")=="true"?_e.getAttribute("for").includes("-sizer")||_e.setAttribute("for",_e.getAttribute("for")+"-sizer"):_e.setAttribute("id","app-comment-"+D.key+"-messages"));for(const _e of xe.getElementsByTagName("textarea"))_e.style.marginTop="-15px",_e.style.fontSize="0.9rem";for(const _e of xe.getElementsByClassName("v-input__details"))_e.style.display="none"});function re(xe){return xe.key==r.selectedKey?xe.rating_excellent?"#BBEBA5":xe.rating_cardinal?"#FCB494":"#94C3FC":xe.prefix=="own"?xe.rating_excellent?"#E3EFDD":xe.rating_cardinal?"#FBDED1":"#D8E5F4":xe.rating_excellent?"#F7F9F7":xe.rating_cardinal?"#FCF6F4":"#F5F7FB"}function H(xe){return g.getSumOfPointsForComment(xe.key)}function de(xe){return w("allPoints",H(xe))}async function le(xe){xe.rating_excellent&&(xe.rating_cardinal=!1),r.setMarkerChange(),r.updateComment(xe)}async function j(xe){xe.rating_cardinal&&(xe.rating_excellent=!1),r.setMarkerChange(),r.updateComment(xe)}async function fe(xe){r.selectedKey!==xe.key&&r.selectComment(xe.key)}async function ne(){if(event.altKey)switch(event.key){case"Enter":event.preventDefault(),h.showEssay(),await Qo(),r.setCaretRequest();break;case"Delete":event.preventDefault(),r.deleteComment(r.selectedKey);break}else switch(event.key){case"F1":event.preventDefault(),Xe();break}}async function Ve(){switch(ne(),event.key){case"Enter":event.preventDefault(),h.focusMarkingCommentPoints();break}}async function Fe(){h.focusTarget=="MarkingCommentPointsSum"&&(await Qo(),D.key==r.selectedKey&&document.getElementById("pointsInput"+D.key).focus())}Rn(()=>h.focusChange,Fe);function Xe(){const xe=O.value;x.openSelection(kc.FOR_COMMENT,r.selectedKey,xe.value.substring(xe.selectionStart,xe.selectionEnd))}async function rt(){if(!x.selection_open&&x.open_for_purpose==kc.FOR_COMMENT&&x.open_for_key==D.key){const xe=O.value;if(await Qo(),xe.focus(),x.insert_text){const _e=x.insert_text;x.insert_text="";const R=xe.selectionStart,it=xe.selectionEnd;D.comment=D.comment.slice(0,R)+_e+D.comment.slice(it),await Qo(),xe.setSelectionRange(R,R+_e.length)}}}return Rn(()=>x.selection_open,rt),(xe,_e)=>(Kt(),$o(IE,{id:"appCommentContainer"+Q(D).key,key:Q(D).key,class:"commentContainer"},{default:vt(()=>[ae(Z0,{dense:"",onClick:_e[14]||(_e[14]=R=>fe(Q(D)))},{default:vt(()=>[ae(Ml,{cols:"2"},{default:vt(()=>[ae(zn,{size:"small",icon:Q(D).getMarkIcon()},null,8,["icon"]),_e[15]||(_e[15]=vs("  ")),se("button",{tabindex:"0",class:lo("v-btn commentLabel "+(Q(D).key==Q(r).selectedKey?"selected":""))},Be(Q(D).label),3)]),_:1,__:[15]}),ae(Ml,{cols:"9"},{default:vt(()=>[ae(IE,null,{default:vt(()=>[Mn(ae(Z0,{dense:""},{default:vt(()=>[ae(Ml,{cols:"12"},{default:vt(()=>[ae(Cne,{class:"commentInput","bg-color":re(Q(D)),rounded:"0",density:"compact",variant:"solo",ref_key:"textRef",ref:O,id:"app-comment-"+Q(D).key,label:xe.$t("markingCommentsCommentForLabel",[Q(D).label]),rows:"1","auto-grow":"",readonly:Q(i).isOwnDisabled||Q(D).correction_key!=Q(Se).corrections().ownKey,onChange:_e[0]||(_e[0]=R=>Q(r).updateComment(Q(D))),onKeyup:_e[1]||(_e[1]=R=>Q(r).updateComment(Q(D))),onKeydown:_e[2]||(_e[2]=R=>ne()),modelValue:Q(D).comment,"onUpdate:modelValue":_e[3]||(_e[3]=R=>Q(D).comment=R)},null,8,["bg-color","id","label","readonly","modelValue"])]),_:1})]),_:1},512),[[uo,U(Q(D))]]),Mn(ae(Z0,{dense:""},{default:vt(()=>[ae(Ml,{cols:"3"},{default:vt(()=>[ae(Eo,{class:"snippetsButton",density:"compact",variant:"plain","prepend-icon":"mdi-plus",tabindex:U(Q(D))?0:-1,onKeydown:_e[4]||(_e[4]=R=>ne()),onClick:Xe},{default:vt(()=>[se("span",$_e,Be(xe.$t("markingOpenSnippets")),1)]),_:1},8,["tabindex"])]),_:1}),ae(Ml,{cols:"3"},{default:vt(()=>[Q(Se).settings().Task.enable_partial_points?(Kt(),no("span",{key:0,tabindex:"0",class:"pointsSum",id:"pointsInput"+Q(D).key,onKeydown:_e[5]||(_e[5]=R=>Ve())},Be(xe.$t("markingCommentSum"))+" "+Be(H(Q(D)))+" "+Be(de(Q(D))),41,V_e)):Wn("",!0)]),_:1}),ae(Ml,{cols:"3"},{default:vt(()=>[Q(Se).settings().Task.enable_comment_ratings?Mn((Kt(),no("span",z_e,[Mn(se("input",{type:"checkbox",class:"ratingInput","onUpdate:modelValue":_e[6]||(_e[6]=R=>Q(D).rating_excellent=R),id:"ratingExcellent"+Q(D).key,disabled:Q(i).isOwnDisabled||Q(D).correction_key!=Q(Se).corrections().ownKey,onChange:_e[7]||(_e[7]=R=>le(Q(D))),onKeydown:_e[8]||(_e[8]=R=>ne())},null,40,H_e),[[BU,Q(D).rating_excellent]]),se("label",{for:"ratingExcellent"+Q(D).key},""+Be(Q(u).Task.positive_rating),9,U_e)],512)),[[uo,Q(D).rating_excellent||Q(D).key==Q(r).selectedKey]]):Wn("",!0)]),_:1}),ae(Ml,{cols:"3"},{default:vt(()=>[Q(Se).settings().Task.enable_comment_ratings?Mn((Kt(),no("span",W_e,[Mn(se("input",{type:"checkbox",class:"ratingInput","onUpdate:modelValue":_e[9]||(_e[9]=R=>Q(D).rating_cardinal=R),id:"ratingCardinal"+Q(D).key,disabled:Q(i).isOwnDisabled||Q(D).correction_key!=Q(Se).corrections().ownKey,onChange:_e[10]||(_e[10]=R=>j(Q(D))),onKeydown:_e[11]||(_e[11]=R=>ne())},null,40,K_e),[[BU,Q(D).rating_cardinal]]),se("label",{for:"ratingCardinal"+Q(D).key},""+Be(Q(u).Task.negative_rating),9,j_e)],512)),[[uo,Q(D).rating_cardinal||Q(D).key==Q(r).selectedKey]]):Wn("",!0)]),_:1})]),_:1},512),[[uo,U(Q(D))]]),ae(Z0,{dense:""},{default:vt(()=>[Mn(ae(Ml,{cols:"12"},{default:vt(()=>[Mn(se("div",{class:"commentDisplay",style:Ms("background-color: "+re(Q(D))+";")},Be(Q(D).comment),5),[[uo,Q(D).comment]])]),_:1},512),[[uo,!U(Q(D))]])]),_:1}),Mn(ae(Z0,{dense:"",class:"detailsDisplay"},{default:vt(()=>[ae(Ml,{cols:"3"}),ae(Ml,{cols:"3"},{default:vt(()=>[Mn(se("span",null,[se("span",Z_e,Be(xe.$t("markingCommentSum"))+" "+Be(H(Q(D)))+" "+Be(de(Q(D))),1)],512),[[uo,H(Q(D))>0]])]),_:1}),ae(Ml,{cols:"3"},{default:vt(()=>[Mn(se("span",null,[ae(zn,{icon:"mdi-checkbox-outline"}),vs(" "+Be(Q(u).Task.positive_rating),1)],512),[[uo,Q(D).rating_excellent]])]),_:1}),ae(Ml,{cols:"3"},{default:vt(()=>[Mn(se("span",null,[ae(zn,{icon:"mdi-checkbox-outline"}),vs(" "+Be(Q(u).Task.negative_rating),1)],512),[[uo,Q(D).rating_cardinal]])]),_:1})]),_:1},512),[[uo,!U(Q(D))&&ee(Q(D))]])]),_:1})]),_:1}),ae(Ml,{cols:"1",class:"trashColumn"},{default:vt(()=>[Mn(ae(Eo,{class:"trashButton",density:"compact",size:"small",variant:"text","prepend-icon":"mdi-delete-outline",tabindex:U(Q(D))?0:-1,onKeydown:_e[12]||(_e[12]=R=>ne()),onClick:_e[13]||(_e[13]=R=>{Q(r).deleteComment(Q(D).key)})},{default:vt(()=>[se("span",G_e,Be(xe.$t("markingCommentsDelete")),1)]),_:1},8,["tabindex"]),[[uo,Z(Q(D))]])]),_:1})]),_:1})]),_:1},8,["id"]))}},Y_e=aa(q_e,[["__scopeId","data-v-1a9b214d"]]),X_e={id:"appMarkingComments"},J_e={__name:"MarkingComments",setup(t){const r=Se.comments();async function i(){await Qo();let g=document.getElementById("appCommentContainer"+r.selectedKey);if(g){let h=g.querySelector("textarea");h&&h.focus()}}Rn(()=>r.selectionChange,i);async function u(){await Qo();let g=document.getElementById("appCommentContainer"+r.firstVisibleKey);g&&g.scrollIntoView()}return Rn(()=>r.firstVisibleKey,u),(g,h)=>(Kt(),no("div",X_e,[(Kt(!0),no(Yo,null,J0(Q(r).activeComments,x=>(Kt(),$o(Y_e,{key:x.key,comment:x},null,8,["comment"]))),128))]))}},Q_e={key:0,class:"info"},eSe={class:"col-left"},tSe={class:"col-mid text-right"},nSe={class:"col-right text-right"},oSe={class:"col-left"},sSe={class:"col-mid text-right"},rSe=["disabled","max"],iSe={class:"col-left"},aSe=["for"],lSe={class:"col-mid text-right"},cSe=["onUpdate:modelValue","id","disabled","max","onChange"],uSe={__name:"MarkingCommentPoints",setup(t){const r=Se.criteria(),i=Se.comments(),u=Se.points();Se.api();const g=Se.settings(),h=Se.summaries(),x=Se.layout();let w=Tn(""),I=Tn(""),D=Tn({});async function O(){const Z=i.getComment(i.selectedKey);w.value=Z?Z.key:"",I.value=Z?Z.correction_key:Se.corrections().ownKey,D.value={};for(const re of r.getCorrectionCommentCriteria(I.value)){const H=u.getObjectByData(I.value,w.value,re.key);D.value[re.key]=(H==null?void 0:H.points)??0}const ee=u.getObjectByData(I.value,w.value,"");D.value[""]=(ee==null?void 0:ee.points)??0}O(),Rn(()=>i.selectionChange,O);function N(Z){u.setValueByCommentOrCriterion(i.selectedKey,Z,D.value[Z])}async function V(){x.focusTarget=="MarkingCommentPoints"&&(await Qo(),document.getElementById("appMarkingCommentPointsStart").focus())}Rn(()=>x.focusChange,V);async function U(Z){switch(Z.key){case"Escape":Z.preventDefault(),x.focusMarkingCommentPointsSum();break}}return(Z,ee)=>(Kt(),no("div",null,[Q(w)==""?(Kt(),no("p",Q_e,Be(Z.$t("markingCommentPointsPleaseSelect")),1)):Wn("",!0),Q(w)!=""?(Kt(),$o(ap,{key:1,density:"compact"},{default:vt(()=>[se("thead",null,[se("tr",null,[se("th",eSe,[se("span",{id:"appMarkingCommentPointsStart",tabindex:"0",onKeydown:U},Be(Z.$t("markingCommentPointsCriterion")),33)]),se("th",tSe,Be(Z.$t("allPoints",0)),1),se("th",nSe,Be(Z.$t("markingCommentPointsSumOfMax")),1)])]),se("tbody",null,[se("tr",null,[se("td",oSe,[se("label",{tabindex:"0",onKeydown:U,for:"app-points-input-without"},Be(Z.$t("markingCommentPointsWithoutCriterion")),33)]),se("td",sSe,[Mn(se("input",{class:"appPoints",type:"number","onUpdate:modelValue":ee[0]||(ee[0]=re=>Q(D)[""]=re),id:"pp-points-input-without",disabled:Q(h).isOwnDisabled||Q(w)==""||Q(I)!=Q(Se).corrections().ownKey,max:Q(g).Assessment.max_points,onChange:ee[1]||(ee[1]=re=>N("")),onKeydown:U},null,40,rSe),[[_E,Q(D)[""]]])]),se("td",{class:lo("col-right text-right "+(Q(u).getPointsOfCriterionExceeded(null,Q(I))?"red":""))},Be(Q(u).getSumOfPointsForCorrection(Q(I),!0,!1))+" / "+Be(Q(g).Assessment.max_points),3)]),(Kt(!0),no(Yo,null,J0(Q(r).getCorrectionCommentCriteria(Q(I)),re=>(Kt(),no("tr",{key:re.key},[se("td",iSe,[se("label",{tabindex:"0",onKeydown:U,for:"app-points-input-"+re.key},Be(re.title),41,aSe)]),se("td",lSe,[Mn(se("input",{class:"appPoints",type:"number","onUpdate:modelValue":H=>Q(D)[re.key]=H,id:"app-points-input-"+re.key,disabled:Q(h).isOwnDisabled||Q(w)==""||Q(I)!=Q(Se).corrections().ownKey,max:re.points,onChange:H=>N(re.key),onKeydown:U},null,40,cSe),[[_E,Q(D)[re.key]]])]),se("td",{class:lo("col-right text-right "+(Q(u).getPointsOfCriterionExceeded(re,Q(I))?"red":""))},Be(Q(u).getSumOfPointsForCriterion(re,Q(I)))+" / "+Be(re.points),3)]))),128))])]),_:1})):Wn("",!0)]))}},dSe=aa(uSe,[["__scopeId","data-v-d8ab7885"]]),fSe={class:"col-left"},mSe={class:"col-mid text-right"},gSe={class:"col-right text-right"},hSe={class:"col-left"},pSe=["for"],bSe={class:"col-mid text-right"},vSe=["onUpdate:modelValue","id","disabled","max","onChange"],ySe={class:"col-right text-right"},xSe={__name:"MarkingGeneralPoints",setup(t){const r=Se.criteria();Se.comments();const i=Se.points();Se.api(),Se.settings();const u=Se.summaries(),g=Se.layout();let h=Tn(""),x=Tn({});async function w(){h.value=Se.corrections().ownKey,x.value={};for(const N of r.getCorrectionGeneralCriteria(h.value)){const V=i.getObjectByData(h.value,"",N.key);x.value[N.key]=V?V.points:0}}w();function I(N){i.setValueByCommentOrCriterion("",N,x.value[N])}async function D(){g.focusTarget=="markingGeneralPoints"&&(await Qo(),document.getElementById("appMarkingGeneralPointsStart").focus())}Rn(()=>g.focusChange,D);async function O(N){switch(N.key){case"Escape":N.preventDefault(),g.focusMarkingCommentPointsSum();break}}return(N,V)=>(Kt(),no("div",null,[ae(ap,{density:"compact"},{default:vt(()=>[se("thead",null,[se("tr",null,[se("th",fSe,[se("span",{id:"appMarkingCommentPointsStart",tabindex:"0",onKeydown:O},Be(N.$t("markingGeneralPointsCriterion")),33)]),se("th",mSe,Be(N.$t("allPoints",0)),1),se("th",gSe,Be(N.$t("markingGeneralPointsMax")),1)])]),se("tbody",null,[(Kt(!0),no(Yo,null,J0(Q(r).getCorrectionGeneralCriteria(Q(h)),U=>(Kt(),no("tr",{key:U.key},[se("td",hSe,[se("label",{tabindex:"0",onKeydown:O,for:"app-points-input-"+U.key},Be(U.title),41,pSe)]),se("td",bSe,[Mn(se("input",{class:"appPoints",type:"number","onUpdate:modelValue":Z=>Q(x)[U.key]=Z,id:"app-points-input-"+U.key,disabled:Q(u).isOwnDisabled||Q(h)!=Q(Se).corrections().ownKey,max:U.points,onChange:Z=>I(U.key),onKeydown:O},null,40,vSe),[[_E,Q(x)[U.key]]])]),se("td",ySe,Be(U.points),1)]))),128))])]),_:1})]))}},wSe=aa(xSe,[["__scopeId","data-v-f5c5c1de"]]),CSe={id:"app-marking-wrapper"},_Se={class:"headline"},SSe={class:"headline"},kSe={class:"headline"},ESe={class:"headline"},ASe={class:"headline"},TSe={key:5},OSe={__name:"Marking",setup(t){Se.api();const r=Se.layout(),i=Se.items(),u=Se.comments(),g=Se.criteria(),h=Se.summaries(),x=Se.settings();function w(){return x.Task.enable_comments&&r.showMarkingComments&&(i.canAct||h.isOneAuthorized)}function I(){return x.Task.enable_partial_points&&r.showMarkingGeneralPoints&&g.hasOwnGeneralCriteria&&(i.canAct||h.isOneAuthorized)}function D(){return x.Task.enable_partial_points&&r.showMarkingCommentPoints&&(i.canAct||h.isOneAuthorized)}function O(){return r.showMarkingText&&(i.canAct||h.isOneAuthorized)}function N(){switch((w()?1:0)+(I()?1:0)+(D()?1:0)+(O()?1:0)){case 0:return"hidden";case 1:return"full";case 2:return"half";case 3:return"third";case 4:return"quart"}}return(V,U)=>(Kt(),no("div",CSe,[w()?(Kt(),no("div",{key:0,class:lo(N())},[se("h2",_Se,Be(V.$t("allComments")),1),ae(J_e,{class:"content"})],2)):Wn("",!0),D()?(Kt(),no("div",{key:1,class:lo(N())},[se("h2",SSe,[vs(Be(V.$t("allPartialPointsLong")),1),Mn(se("span",{class:"commentLabel"},Be(Q(u).selectedLabel),513),[[uo,Q(u).selectedKey!=""]])]),ae(dSe,{class:"content"})],2)):Wn("",!0),I()?(Kt(),no("div",{key:2,class:lo(N())},[se("h2",kSe,Be(V.$t("allGeneralPointsLong")),1),ae(wSe,{class:"content"})],2)):Wn("",!0),O()&&!Q(Se).summaries().isOwnDisabled?(Kt(),no("div",{key:3,class:lo(N())},[ae(IE,{class:"ma-0 pa-0"},{default:vt(()=>[ae(Z0,{class:"section-header ma-0"},{default:vt(()=>[ae(Ml,{cols:"8",class:"ma-0 pa-0"},{default:vt(()=>[se("h2",ESe,Be(V.$t("allOwnSummary")),1)]),_:1}),ae(Ml,{cols:"4",class:"ma-0 pa-0 text-right"},{default:vt(()=>[Q(h).isOwnDisabled?Wn("",!0):(Kt(),$o(wne,{key:0}))]),_:1})]),_:1})]),_:1}),Q(h).editSummary.pdf?Wn("",!0):(Kt(),$o(vne,{key:0,class:"content",editorId:"marking"})),Q(h).editSummary.pdf?(Kt(),$o(OF,{key:1,class:"content",correction_key:Q(h).editSummary.correction_key},null,8,["correction_key"])):Wn("",!0)],2)):Wn("",!0),O()&&Q(Se).summaries().isOwnDisabled?(Kt(),no("div",{key:4,class:lo(N())},[se("h2",ASe,Be(V.$t("allSummary")),1),Q(h).editSummary.pdf?Wn("",!0):(Kt(),$o(mne,{key:0,class:"content",correction_key:Q(h).editSummary.correction_key},null,8,["correction_key"])),Q(h).editSummary.pdf?(Kt(),$o(OF,{key:1,class:"content",correction_key:Q(h).editSummary.correction_key},null,8,["correction_key"])):Wn("",!0)],2)):Wn("",!0),!Q(i).canAct&&!Q(h).isOneAuthorized?(Kt(),no("div",TSe,Be(V.$t("allEssayNoCorrectionAuthorized")),1)):Wn("",!0)]))}},RSe=aa(OSe,[["__scopeId","data-v-f96328a1"]]),ISe={id:"app-snippets"},DSe={__name:"Snippets",setup(t){const{t:r}=$d.global,i=Se.snippets(),u=Tn(),g=Tn();let h=[];function x(){switch(h=[],i.open_for_purpose){case kc.FOR_COMMENT:for(const re of i.forComment)h.push(re);break;case kc.FOR_SUMMARY:for(const re of i.forSummary)h.push(re);break}h.push(new kc({key:"new",text:r("snippetsNewSnippet"),purpose:i.open_for_purpose}))}function w(){i.edit=new kc({text:"",purpose:i.open_for_purpose})}async function I(){i.selection_open&&(x(),w(),await Qo(),u.value.focus(),await Qo(),u.value.search=i.open_text)}Rn(()=>i.selection_open,I);async function D(){const re=u.value.search?u.value.search:"";if(i.select=="new")i.edit=new kc({text:re,purpose:i.open_for_purpose}),i.edit.text&&(await i.createSnippet(i.edit),x());else{const H=h.find(de=>de.key===i.select);H&&H.key!==i.edit.key&&(i.edit=H)}i.select=null,await Qo(),g.value.focus()}async function O(){i.has(i.edit.key)?i.updateSnippet(i.edit):i.edit.text&&(await i.createSnippet(i.edit),x())}function N(){i.selection_open=!1}function V(){i.selection_open=!1,i.insert_text=i.edit.text}async function U(){i.deleteSnippet(i.edit.key),i.select=null,x(),w(),await Qo(),u.value.focus()}async function Z(){switch(event.key){case"F1":event.preventDefault(),V();break}}function ee(re,H,de){const le=de.raw.text.toLowerCase(),j=H.toLowerCase();return de.raw.key==="new"||le.indexOf(j)>-1}return(re,H)=>(Kt(),no("div",ISe,[ae(qg,{"max-width":"60em",modelValue:Q(i).selection_open,"onUpdate:modelValue":H[10]||(H[10]=de=>Q(i).selection_open=de)},{default:vt(()=>[ae(Gg,null,{default:vt(()=>[ae(bx,null,{default:vt(()=>[vs(Be(re.$t("snippetsSnippet")),1)]),_:1}),ae(Em,null,{default:vt(()=>[vs(Be(re.$t("snippetsSelect"))+" ",1),ae(yK,{ref_key:"appSelect",ref:u,id:"appSnippetSelect",modelValue:Q(i).select,"onUpdate:modelValue":[H[0]||(H[0]=de=>Q(i).select=de),H[1]||(H[1]=de=>D())],"custom-filter":ee,items:Q(h),onKeydown:H[2]||(H[2]=de=>Z()),"base-color":"white","item-title":"text","item-value":"key"},null,8,["modelValue","items"]),vs(" "+Be(re.$t("snippetsEdit"))+" ",1),ae(Cne,{ref_key:"appEdit",ref:g,modelValue:Q(i).edit.text,"onUpdate:modelValue":H[3]||(H[3]=de=>Q(i).edit.text=de),onChange:H[4]||(H[4]=de=>O()),onKeyup:H[5]||(H[5]=de=>O()),onKeydown:H[6]||(H[6]=de=>Z())},null,8,["modelValue"])]),_:1}),ae(km,null,{default:vt(()=>[ae(Eo,{disabled:Q(i).edit.text=="",onClick:H[7]||(H[7]=de=>V())},{default:vt(()=>[ae(zn,{left:"",icon:"mdi-ok"}),se("span",null,Be(re.$t("allApply")),1)]),_:1},8,["disabled"]),ae(Eo,{disabled:!Q(i).has(Q(i).edit.key),onClick:H[8]||(H[8]=de=>U())},{default:vt(()=>[ae(zn,{left:"",icon:"mdi-ok"}),se("span",null,Be(re.$t("allDelete")),1)]),_:1},8,["disabled"]),ae(CK),ae(Eo,{onClick:H[9]||(H[9]=de=>N())},{default:vt(()=>[ae(zn,{left:"",icon:"mdi-close"}),se("span",null,Be(re.$t("allClose")),1)]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]))}},PSe=Bn({scrollable:Boolean,...Hs(),...bp(),...la({tag:"main"})},"VMain"),_ne=Vo()({name:"VMain",props:PSe(),setup(t,r){let{slots:i}=r;const{dimensionStyles:u}=vp(t),{mainStyles:g}=zhe(),{ssrBootStyles:h}=c8();return Cs(()=>ae(t.tag,{class:lo(["v-main",{"v-main--scrollable":t.scrollable},t.class]),style:Ms([g.value,h.value,u.value,t.style])},{default:()=>{var x,w;return[t.scrollable?se("div",{class:"v-main__scroller"},[(x=i.default)==null?void 0:x.call(i)]):(w=i.default)==null?void 0:w.call(i)]}})),{}}}),NSe={id:"app-main-container"},LSe={class:"col-header"},MSe={id:"appHeadLeft",tabindex:"0",class:"headline"},BSe={class:"sr-only"},FSe={"aria-hidden":"true"},$Se={id:"app-expand-left-column",class:"sr-only"},VSe={class:"col-content"},zSe={class:"col-header"},HSe={id:"appHeadRight",tabindex:"0",class:"headline"},USe={class:"sr-only"},WSe={class:"sr-only"},KSe={class:"sr-only"},jSe={class:"sr-only"},ZSe={class:"sr-only"},GSe={class:"sr-only"},qSe={class:"sr-only"},YSe={class:"sr-only"},XSe={class:"sr-only"},JSe={"aria-hidden":"true"},QSe={id:"app-expand-right-column",class:"sr-only"},eke={class:"col-content"},tke={__name:"MainContent",setup(t){const r=Se.api(),i=Se.layout(),u=Se.items(),g=Se.resources(),h=Se.comments(),x=Se.criteria(),w=Se.pages(),I=Se.settings();async function D(){i.focusTarget=="appHeadLeft"&&(await Qo(),document.getElementById("appHeadLeft").focus()),i.focusTarget=="appHeadRight"&&(await Qo(),document.getElementById("appHeadRight").focus())}return Rn(()=>i.focusChange,D),document.addEventListener("keydown",i.handleKeyDown),(O,N)=>(Kt(),no(Yo,null,[ae(_ne,{"fill-height":""},{default:vt(()=>{var V;return[se("div",NSe,[Mn(se("section",{class:lo(["column",{colExpanded:Q(i).isLeftExpanded,colNormal:!Q(i).isLeftExpanded}])},[se("div",LSe,[se("h1",MSe,Be(Q(i).isInstructionsVisible?O.$t("allInstructions"):Q(i).isInstructionsPdfVisible?O.$t("allInstructionsPdf"):Q(i).isSolutionVisible?O.$t("allSolution"):Q(i).isSolutionPdfVisible?O.$t("allSolutionPdf"):Q(i).isEssayVisible?O.$t("allEssay"):Q(i).isResourcesVisible?(V=Q(g).activeResource)==null?void 0:V.title:Q(i).isLeftCorrectionVisible?Q(i).leftCorrectionTitle:O.$t("mainContentLeftColumn")),1),ae(G0,{density:"comfortable"},{default:vt(()=>{var U;return[Q(I).hasSummaryOverview?Mn((Kt(),$o(Eo,{key:0,size:"small",onClick:N[0]||(N[0]=Z=>Q(i).toggleLeftSummaryCriteria())},{default:vt(()=>[Mn(ae(zn,{icon:"mdi-checkbox-outline"},null,512),[[uo,Q(i).showLeftSummaryCriteria]]),Mn(ae(zn,{icon:"mdi-checkbox-blank-outline"},null,512),[[uo,!Q(i).showLeftSummaryCriteria]]),se("span",null,Be(O.$t("allOverview")),1)]),_:1},512)),[[uo,Q(i).isLeftCorrectionVisible]]):Wn("",!0),Mn(ae(Eo,{size:"small",onClick:N[1]||(N[1]=Z=>Q(i).toggleLeftSummaryText())},{default:vt(()=>[Mn(ae(zn,{icon:"mdi-checkbox-outline"},null,512),[[uo,Q(i).showLeftSummaryText]]),Mn(ae(zn,{icon:"mdi-checkbox-blank-outline"},null,512),[[uo,!Q(i).showLeftSummaryText]]),se("span",null,Be(O.$t("allSummary")),1)]),_:1},512),[[uo,Q(i).isLeftCorrectionVisible]]),(U=Q(Se).summaries().getForCorrection(Q(i).leftCorrectionKey))!=null&&U.isRevised()?Mn((Kt(),$o(Eo,{key:1,size:"small",onClick:N[2]||(N[2]=Z=>Q(i).toggleLeftSummaryRevision())},{default:vt(()=>[Mn(ae(zn,{icon:"mdi-checkbox-outline"},null,512),[[uo,Q(i).showLeftSummaryRevision]]),Mn(ae(zn,{icon:"mdi-checkbox-blank-outline"},null,512),[[uo,!Q(i).showLeftSummaryRevision]]),se("span",null,Be(Q(I).procedureText),1),se("span",BSe,Be(O.$t("allShow")+(Q(i).showLeftSummaryRevision?O.$t("allIsSelected"):"")),1)]),_:1},512)),[[uo,Q(i).isLeftCorrectionVisible]]):Wn("",!0),Mn(ae(Eo,{size:"small",onClick:N[3]||(N[3]=Z=>Q(i).setLeftExpanded(!1))},{default:vt(()=>[ae(zn,{icon:"mdi-chevron-left"}),se("span",null,Be(Q(i).isMarkingSelected?O.$t("allCorrection"):Q(i).isSummarySelected?O.$t("allSummary"):Q(i).isRightCorrectionSelected?Q(i).rightCorrectionTitle:O.$t("mainContentExpandRightColumn")),1)]),_:1},512),[[uo,Q(i).isLeftExpanded]]),Mn(ae(Eo,{size:"small",onClick:N[4]||(N[4]=Z=>Q(i).setLeftExpanded(!0))},{default:vt(()=>[se("span",FSe,Be(O.$t("mainContentExpand")),1),se("span",$Se,Be(O.$t("mainContentExpandLeftColumn")),1),ae(zn,{icon:"mdi-chevron-right"})]),_:1},512),[[uo,!Q(i).isLeftExpanded]])]}),_:1})]),se("div",VSe,[Q(i).isInstructionsVisible?(Kt(),$o(Hxe,{key:0})):Wn("",!0),Q(i).isInstructionsPdfVisible?(Kt(),$o(Kxe,{key:1})):Wn("",!0),Q(i).isSolutionVisible?(Kt(),$o(Gxe,{key:2})):Wn("",!0),Q(i).isSolutionPdfVisible?(Kt(),$o(Xxe,{key:3})):Wn("",!0),Q(i).isEssayVisible&&!Q(w).hasPages?(Kt(),$o(c2e,{key:4})):Wn("",!0),Q(i).isEssayVisible&&Q(w).hasPages?(Kt(),$o(_we,{key:5})):Wn("",!0),Q(i).isResourcesVisible?(Kt(),$o(s2e,{key:6})):Wn("",!0),Q(i).isLeftCorrectionVisible?(Kt(),$o(_U,{key:7,correction_key:Q(i).leftCorrectionKey,showCriteria:Q(i).showLeftSummaryCriteria,showText:Q(i).showLeftSummaryText,showRevision:Q(i).showLeftSummaryRevision},null,8,["correction_key","showCriteria","showText","showRevision"])):Wn("",!0)])],2),[[uo,Q(i).isLeftVisible]]),Mn(se("section",{class:lo(["column",{colExpanded:Q(i).isRightExpanded,colNormal:!Q(i).isRightExpanded}])},[se("div",zSe,[se("h1",HSe,Be(Q(i).isMarkingVisible?O.$t("allCorrection"):Q(i).isSummaryVisible?O.$t("allOwnSummaryAndRating"):Q(i).isRightCorrectionVisible?Q(i).rightCorrectionTitle:O.$t("mainContentRightColumn")),1),ae(G0,{density:"comfortable"},{default:vt(()=>[Q(I).Task.enable_comments&&Q(i).isMarkingVisible?(Kt(),$o(Eo,{key:0,size:"small",variant:"plain",onClick:N[5]||(N[5]=U=>Q(h).setShowOtherCorrections(!Q(h).isOtherCorrectionsShown))},{default:vt(()=>[ae(zn,{icon:Q(h).isOtherCorrectionsShown?"mdi-account-school":"mdi-account-school-outline"},null,8,["icon"]),se("span",USe,Be(O.$t("mainContentShowOtherCorrections")+(Q(h).isOtherCorrectionsShown?O.$t("allIsSelected"):"")),1)]),_:1})):Wn("",!0),Q(I).hasSummaryOverview&&Q(i).isMarkingVisible?(Kt(),$o(Eo,{key:1,size:"small",variant:"plain",disabled:!Q(h).isFilterActive,onClick:N[6]||(N[6]=U=>Q(h).resetFilter())},{default:vt(()=>[ae(zn,{icon:Q(h).isFilterActive?"mdi-filter":"mdi-filter-outline"},null,8,["icon"]),se("span",WSe,Be("Filter aktiv"+(Q(h).isFilterActive?O.$t("allIsSelected"):"")),1)]),_:1},8,["disabled"])):Wn("",!0),Q(I).Task.enable_comments&&Q(u).canAct?Mn((Kt(),$o(Eo,{key:2,size:"small",onClick:N[7]||(N[7]=U=>Q(i).toggleMarkingComments())},{default:vt(()=>[Mn(ae(zn,{icon:"mdi-checkbox-outline"},null,512),[[uo,Q(i).showMarkingComments]]),Mn(ae(zn,{icon:"mdi-checkbox-blank-outline"},null,512),[[uo,!Q(i).showMarkingComments]]),se("span",null,Be(O.$t("allComments")),1),se("span",KSe,Be(O.$t("allShow")+(Q(i).showMarkingComments?O.$t("allIsSelected"):"")),1)]),_:1},512)),[[uo,Q(i).isMarkingVisible]]):Wn("",!0),Q(I).Task.enable_partial_points&&Q(u).canAct&&Q(I).Task.enable_partial_points?Mn((Kt(),$o(Eo,{key:3,size:"small",onClick:N[8]||(N[8]=U=>Q(i).toggleMarkingCommentPoints())},{default:vt(()=>[Mn(ae(zn,{icon:"mdi-checkbox-outline"},null,512),[[uo,Q(i).showMarkingCommentPoints]]),Mn(ae(zn,{icon:"mdi-checkbox-blank-outline"},null,512),[[uo,!Q(i).showMarkingCommentPoints]]),se("span",null,Be(O.$t("allPartialPoints")),1),se("span",jSe,Be(O.$t("allShow")+(Q(i).showMarkingCommentPoints?O.$t("allIsSelected"):"")),1)]),_:1},512)),[[uo,Q(i).isMarkingVisible]]):Wn("",!0),Q(I).Task.enable_partial_points&&Q(x).hasOwnGeneralCriteria?Mn((Kt(),$o(Eo,{key:4,size:"small",onClick:N[9]||(N[9]=U=>Q(i).toggleMarkingGeneralPoints())},{default:vt(()=>[Mn(ae(zn,{icon:"mdi-checkbox-outline"},null,512),[[uo,Q(i).showMarkingGeneralPoints]]),Mn(ae(zn,{icon:"mdi-checkbox-blank-outline"},null,512),[[uo,!Q(i).showMarkingGeneralPoints]]),se("span",null,Be(O.$t("allGeneralPoints")),1),se("span",ZSe,Be(O.$t("allShow")+(Q(i).showMarkingGeneralPoints?O.$t("allIsSelected"):"")),1)]),_:1},512)),[[uo,Q(i).isMarkingVisible]]):Wn("",!0),Q(u).canAct?Mn((Kt(),$o(Eo,{key:5,size:"small",onClick:N[10]||(N[10]=U=>Q(i).toggleMarkingText())},{default:vt(()=>[Mn(ae(zn,{icon:"mdi-checkbox-outline"},null,512),[[uo,Q(i).showMarkingText]]),Mn(ae(zn,{icon:"mdi-checkbox-blank-outline"},null,512),[[uo,!Q(i).showMarkingText]]),se("span",null,Be(O.$t("allSummary")),1),se("span",GSe,Be(O.$t("allShow")+(Q(i).showMarkingText?O.$t("allIsSelected"):"")),1)]),_:1},512)),[[uo,Q(i).isMarkingVisible]]):Wn("",!0),Q(I).hasSummaryOverview?Mn((Kt(),$o(Eo,{key:6,size:"small",onClick:N[11]||(N[11]=U=>Q(i).toggleRightSummaryCriteria())},{default:vt(()=>[Mn(ae(zn,{icon:"mdi-checkbox-outline"},null,512),[[uo,Q(i).showRightSummaryCriteria]]),Mn(ae(zn,{icon:"mdi-checkbox-blank-outline"},null,512),[[uo,!Q(i).showRightSummaryCriteria]]),se("span",null,Be(O.$t("allOverview")),1),se("span",qSe,Be(O.$t("allShow")+(Q(i).showRightSummaryCriteria?O.$t("allIsSelected"):"")),1)]),_:1},512)),[[uo,Q(i).isSummaryVisible||Q(i).isRightCorrectionVisible]]):Wn("",!0),Mn(ae(Eo,{size:"small",onClick:N[12]||(N[12]=U=>Q(i).toggleRightSummaryText())},{default:vt(()=>[Mn(ae(zn,{icon:"mdi-checkbox-outline"},null,512),[[uo,Q(i).showRightSummaryText]]),Mn(ae(zn,{icon:"mdi-checkbox-blank-outline"},null,512),[[uo,!Q(i).showRightSummaryText]]),se("span",null,Be(O.$t("allSummary")),1),se("span",YSe,Be(O.$t("allShow")+(Q(i).showRightSummaryText?O.$t("allIsSelected"):"")),1)]),_:1},512),[[uo,Q(i).isSummaryVisible||Q(i).isRightCorrectionVisible]]),Q(Se).summaries().isOwnRevised||Q(Se).items().canRevise?Mn((Kt(),$o(Eo,{key:7,size:"small",onClick:N[13]||(N[13]=U=>Q(i).toggleRightSummaryRevision())},{default:vt(()=>[Mn(ae(zn,{icon:"mdi-checkbox-outline"},null,512),[[uo,Q(i).showRightSummaryRevision]]),Mn(ae(zn,{icon:"mdi-checkbox-blank-outline"},null,512),[[uo,!Q(i).showRightSummaryRevision]]),se("span",null,Be(Q(I).procedureText),1),se("span",XSe,Be(O.$t("allShow")+(Q(i).showRightSummaryRevision?O.$t("allIsSelected"):"")),1)]),_:1},512)),[[uo,Q(i).isSummaryVisible||Q(i).isRightCorrectionVisible]]):Wn("",!0),Mn(ae(Eo,{size:"small",onClick:N[14]||(N[14]=U=>Q(i).setRightExpanded(!1))},{default:vt(()=>{var U;return[se("span",null,Be(Q(i).isInstructionsSelected?O.$t("allInstructions"):Q(i).isEssaySelected?O.$t("allEssay"):Q(i).isResourcesSelected?(U=Q(g).activeResource)==null?void 0:U.title:Q(i).isLeftCorrectionSelected?Q(i).leftCorrectionTitle:O.$t("mainContentExpandLeftColumn")),1),ae(zn,{icon:"mdi-chevron-right"})]}),_:1},512),[[uo,Q(i).isRightExpanded]]),Mn(ae(Eo,{size:"small",onClick:N[15]||(N[15]=U=>Q(i).setRightExpanded(!0))},{default:vt(()=>[ae(zn,{icon:"mdi-chevron-left"}),se("span",JSe,Be(O.$t("mainContentExpand")),1),se("span",QSe,Be(O.$t("mainContentExpandRightColumn")),1)]),_:1},512),[[uo,!Q(i).isRightExpanded]])]),_:1})]),se("div",eke,[Q(i).isSummaryVisible?(Kt(),$o(_U,{key:0,correction_key:Q(Se).corrections().ownKey,showCriteria:Q(i).showRightSummaryCriteria,showText:Q(i).showRightSummaryText,showRevision:Q(i).showRightSummaryRevision},null,8,["correction_key","showCriteria","showText","showRevision"])):Wn("",!0),Q(i).isRightCorrectionVisible?(Kt(),$o(_U,{key:1,correction_key:Q(i).rightCorrectionKey,showCriteria:Q(i).showRightSummaryCriteria,showText:Q(i).showRightSummaryText,showRevision:Q(i).showRightSummaryRevision},null,8,["correction_key","showCriteria","showText","showRevision"])):Wn("",!0),Q(i).isMarkingVisible?(Kt(),$o(RSe,{key:2})):Wn("",!0)])],2),[[uo,Q(i).isRightVisible]])])]}),_:1}),ae(qg,{persistent:"",modelValue:Q(Se).layout().showSendFailure,"onUpdate:modelValue":N[17]||(N[17]=V=>Q(Se).layout().showSendFailure=V)},{default:vt(()=>[ae(Gg,null,{default:vt(()=>[ae(Em,null,{default:vt(()=>[se("p",null,Be(O.$t("mainContentSendFailureLine1")),1),se("p",null,Be(O.$t("mainContentSendFailureLine2")),1),se("p",null,Be(O.$t("mainContentSendFailureLine3")),1)]),_:1}),ae(km,null,{default:vt(()=>[ae(Eo,{onClick:N[16]||(N[16]=V=>{Q(Se).layout().showSendFailure=!1})},{default:vt(()=>[ae(zn,{left:"",icon:"mdi-close"}),se("span",null,Be(O.$t("allCloseMessage")),1)]),_:1}),ae(Eo,{href:Q(r).returnUrl},{default:vt(()=>[ae(zn,{left:"",icon:"mdi-logout-variant"}),se("span",null,Be(O.$t("mainContentStopCorrection")),1)]),_:1},8,["href"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),ae(DSe)],64))}},nke=aa(tke,[["__scopeId","data-v-30be39f2"]]),oke={__name:"StartupContent",setup(t){return(r,i)=>(Kt(),$o(_ne,{"fill-height":""},{default:vt(()=>[ae(Ote,{elevation:"1",color:"white",density:"compact"},{default:vt(()=>[se("p",null,Be(r.$t("startupContentLoadData")),1),ae(CK),ae(Eo,{href:Q(Se).api().returnUrl},{default:vt(()=>[ae(zn,{left:"",icon:"mdi-logout-variant"}),se("span",null,Be(r.$t("startupContentMyCorrections")),1)]),_:1},8,["href"])]),_:1}),ae(qg,{persistent:"","max-width":"60em",modelValue:Q(Se).layout().hasInitFailure,"onUpdate:modelValue":i[0]||(i[0]=u=>Q(Se).layout().hasInitFailure=u)},{default:vt(()=>[ae(Gg,null,{default:vt(()=>[ae(bx,null,{default:vt(()=>[vs(Be(r.$t("startupContentLoadError")),1)]),_:1}),ae(Em,null,{default:vt(()=>[ae(Zg,{type:"warning",variant:"text",color:"#0000A0"},{default:vt(()=>[vs(Be(Q(Se).layout().initFailure),1)]),_:1})]),_:1}),ae(km,null,{default:vt(()=>[ae(Eo,{href:Q(Se).api().returnUrl},{default:vt(()=>[ae(zn,{left:"",icon:"mdi-logout-variant"}),se("span",null,Be(r.$t("allEnd")),1)]),_:1},8,["href"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),ae(qg,{persistent:"","max-width":"60em",modelValue:Q(Se).layout().showItemLoadFailure,"onUpdate:modelValue":i[1]||(i[1]=u=>Q(Se).layout().showItemLoadFailure=u)},{default:vt(()=>[ae(Gg,null,{default:vt(()=>[ae(Em,null,{default:vt(()=>[se("p",null,Be(r.$t("startupContentLoadItemError")),1)]),_:1}),ae(km,null,{default:vt(()=>[ae(Eo,{href:Q(Se).api().returnUrl},{default:vt(()=>[ae(zn,{left:"",icon:"mdi-logout-variant"}),se("span",null,Be(r.$t("allEnd")),1)]),_:1},8,["href"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),ae(qg,{persistent:"","max-width":"60em",modelValue:Q(Se).layout().showDataReplaceConfirmation,"onUpdate:modelValue":i[2]||(i[2]=u=>Q(Se).layout().showDataReplaceConfirmation=u)},{default:vt(()=>[ae(Gg,null,{default:vt(()=>[ae(Em,null,{default:vt(()=>[se("p",null,Be(r.$t("startupContentDataReplaceInfo1")),1),se("p",null,[se("strong",null,Be(Q(Se).tasks().currentTitle)+": "+Be(Q(Se).items().getItem(Q(Se).api().storedItemKey,{key:0,title:"Unbekannt"}).title),1)]),se("p",null,Be(r.$t("startupContentDataReplaceInfo2")),1)]),_:1}),ae(km,null,{default:vt(()=>[ae(Eo,{onClick:Q(Se).api().initAfterReplaceDataConfirmed},{default:vt(()=>[ae(zn,{left:"",icon:"mdi-reload"}),se("span",null,Be(r.$t("startupContentDeleteAndLoad")),1)]),_:1},8,["onClick"]),ae(Eo,{href:Q(Se).api().returnUrl},{default:vt(()=>[ae(zn,{left:"",icon:"mdi-logout-variant"}),se("span",null,Be(r.$t("allCancel")),1)]),_:1},8,["href"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),ae(qg,{persistent:"","max-width":"60em",modelValue:Q(Se).layout().showItemReplaceConfirmation,"onUpdate:modelValue":i[3]||(i[3]=u=>Q(Se).layout().showItemReplaceConfirmation=u)},{default:vt(()=>[ae(Gg,null,{default:vt(()=>[ae(Em,null,{default:vt(()=>[se("p",null,Be(r.$t("startupContentItemReplaceInfo1")),1),se("p",null,[se("strong",null,Be(Q(Se).tasks().currentTitle)+": "+Be(Q(Se).items().getItem(Q(Se).api().storedItemKey,{key:0,title:"Unbekannt"}).title),1)]),se("p",null,Be(r.$t("startupContentItemReplaceInfo2")),1)]),_:1}),ae(km,null,{default:vt(()=>[ae(Eo,{onClick:Q(Se).api().initAfterKeepDataConfirmed},{default:vt(()=>[ae(zn,{left:"",icon:"mdi-pencil-outline"}),se("span",null,Be(r.$t("startupContentKeepLocalData")),1)]),_:1},8,["onClick"]),ae(Eo,{onClick:Q(Se).api().initAfterReplaceDataConfirmed},{default:vt(()=>[ae(zn,{left:"",icon:"mdi-trash-can-outline"}),se("span",null,Be(r.$t("startupContentDeleteLocalData")),1)]),_:1},8,["onClick"]),ae(Eo,{href:Q(Se).api().returnUrl},{default:vt(()=>[ae(zn,{left:"",icon:"mdi-logout-variant"}),se("span",null,Be(r.$t("allCancel")),1)]),_:1},8,["href"])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1}))}},ske=Bn({...Hs(),...Vhe({fullHeight:!0}),...yl()},"VApp"),rke=Vo()({name:"VApp",props:ske(),setup(t,r){let{slots:i}=r;const u=ac(t),{layoutClasses:g,getLayoutItem:h,items:x,layoutRef:w}=Uhe(t),{rtlClasses:I}=Qg();return Cs(()=>{var D;return se("div",{ref:w,class:lo(["v-application",u.themeClasses.value,g.value,I.value,t.class]),style:Ms([t.style])},[se("div",{class:"v-application__wrap"},[(D=i.default)==null?void 0:D.call(i)])])}),{getLayoutItem:h,items:x,theme:u}}}),ike={__name:"App",setup(t){return Se.api().init(),(r,i)=>(Kt(),$o(rke,{"fill-height":""},{default:vt(()=>[Q(Se).layout().initialized?Wn("",!0):(Kt(),$o(oke,{key:0})),Q(Se).layout().initialized?(Kt(),$o(Axe,{key:1})):Wn("",!0),Q(Se).layout().initialized?(Kt(),$o($xe,{key:2})):Wn("",!0),Q(Se).layout().initialized?(Kt(),$o(nke,{key:3})):Wn("",!0)]),_:1}))}},Sne=Fme(ike);Dbe(Sne);Sne.mount("#app");
