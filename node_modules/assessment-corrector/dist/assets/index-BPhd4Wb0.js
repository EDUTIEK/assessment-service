var Rde=Object.defineProperty;var Ide=(t,r,i)=>r in t?Rde(t,r,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[r]=i;var Tt=(t,r,i)=>Ide(t,typeof r!="symbol"?r+"":r,i);(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const m of document.querySelectorAll('link[rel="modulepreload"]'))u(m);new MutationObserver(m=>{for(const h of m)if(h.type==="childList")for(const x of h.addedNodes)x.tagName==="LINK"&&x.rel==="modulepreload"&&u(x)}).observe(document,{childList:!0,subtree:!0});function i(m){const h={};return m.integrity&&(h.integrity=m.integrity),m.referrerPolicy&&(h.referrerPolicy=m.referrerPolicy),m.crossOrigin==="use-credentials"?h.credentials="include":m.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function u(m){if(m.ep)return;m.ep=!0;const h=i(m);fetch(m.href,h)}})();/**
* @vue/shared v3.5.17
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function wW(t){const r=Object.create(null);for(const i of t.split(","))r[i]=1;return i=>i in r}const Sa={},xE=[],Rv=()=>{},Dde=()=>!1,PF=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),CW=t=>t.startsWith("onUpdate:"),eu=Object.assign,SW=(t,r)=>{const i=t.indexOf(r);i>-1&&t.splice(i,1)},Pde=Object.prototype.hasOwnProperty,Hi=(t,r)=>Pde.call(t,r),As=Array.isArray,wE=t=>uI(t)==="[object Map]",NF=t=>uI(t)==="[object Set]",FG=t=>uI(t)==="[object Date]",Xs=t=>typeof t=="function",Wl=t=>typeof t=="string",Dv=t=>typeof t=="symbol",aa=t=>t!==null&&typeof t=="object",KX=t=>(aa(t)||Xs(t))&&Xs(t.then)&&Xs(t.catch),jX=Object.prototype.toString,uI=t=>jX.call(t),Nde=t=>uI(t).slice(8,-1),ZX=t=>uI(t)==="[object Object]",_W=t=>Wl(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,SR=wW(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),MF=t=>{const r=Object.create(null);return i=>r[i]||(r[i]=t(i))},Mde=/-(\w)/g,Uf=MF(t=>t.replace(Mde,(r,i)=>i?i.toUpperCase():"")),Lde=/\B([A-Z])/g,JC=MF(t=>t.replace(Lde,"-$1").toLowerCase()),V1=MF(t=>t.charAt(0).toUpperCase()+t.slice(1)),D9=MF(t=>t?`on${V1(t)}`:""),zx=(t,r)=>!Object.is(t,r),V6=(t,...r)=>{for(let i=0;i<t.length;i++)t[i](...r)},AU=(t,r,i,u=!1)=>{Object.defineProperty(t,r,{configurable:!0,enumerable:!1,writable:u,value:i})},OU=t=>{const r=parseFloat(t);return isNaN(r)?t:r},Bde=t=>{const r=Wl(t)?Number(t):NaN;return isNaN(r)?t:r};let $G;const LF=()=>$G||($G=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Qs(t){if(As(t)){const r={};for(let i=0;i<t.length;i++){const u=t[i],m=Wl(u)?zde(u):Qs(u);if(m)for(const h in m)r[h]=m[h]}return r}else if(Wl(t)||aa(t))return t}const Fde=/;(?![^(]*\))/g,$de=/:([^]+)/,Vde=/\/\*[^]*?\*\//g;function zde(t){const r={};return t.replace(Vde,"").split(Fde).forEach(i=>{if(i){const u=i.split($de);u.length>1&&(r[u[0].trim()]=u[1].trim())}}),r}function xo(t){let r="";if(Wl(t))r=t;else if(As(t))for(let i=0;i<t.length;i++){const u=xo(t[i]);u&&(r+=u+" ")}else if(aa(t))for(const i in t)t[i]&&(r+=i+" ");return r.trim()}const Hde="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Ude=wW(Hde);function GX(t){return!!t||t===""}function Wde(t,r){if(t.length!==r.length)return!1;let i=!0;for(let u=0;i&&u<t.length;u++)i=BF(t[u],r[u]);return i}function BF(t,r){if(t===r)return!0;let i=FG(t),u=FG(r);if(i||u)return i&&u?t.getTime()===r.getTime():!1;if(i=Dv(t),u=Dv(r),i||u)return t===r;if(i=As(t),u=As(r),i||u)return i&&u?Wde(t,r):!1;if(i=aa(t),u=aa(r),i||u){if(!i||!u)return!1;const m=Object.keys(t).length,h=Object.keys(r).length;if(m!==h)return!1;for(const x in t){const w=t.hasOwnProperty(x),R=r.hasOwnProperty(x);if(w&&!R||!w&&R||!BF(t[x],r[x]))return!1}}return String(t)===String(r)}function qX(t,r){return t.findIndex(i=>BF(i,r))}const YX=t=>!!(t&&t.__v_isRef===!0),He=t=>Wl(t)?t:t==null?"":As(t)||aa(t)&&(t.toString===jX||!Xs(t.toString))?YX(t)?He(t.value):JSON.stringify(t,XX,2):String(t),XX=(t,r)=>YX(r)?XX(t,r.value):wE(r)?{[`Map(${r.size})`]:[...r.entries()].reduce((i,[u,m],h)=>(i[P9(u,h)+" =>"]=m,i),{})}:NF(r)?{[`Set(${r.size})`]:[...r.values()].map(i=>P9(i))}:Dv(r)?P9(r):aa(r)&&!As(r)&&!ZX(r)?String(r):r,P9=(t,r="")=>{var i;return Dv(t)?`Symbol(${(i=t.description)!=null?i:r})`:t};/**
* @vue/reactivity v3.5.17
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Fd;class JX{constructor(r=!1){this.detached=r,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Fd,!r&&Fd&&(this.index=(Fd.scopes||(Fd.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let r,i;if(this.scopes)for(r=0,i=this.scopes.length;r<i;r++)this.scopes[r].pause();for(r=0,i=this.effects.length;r<i;r++)this.effects[r].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let r,i;if(this.scopes)for(r=0,i=this.scopes.length;r<i;r++)this.scopes[r].resume();for(r=0,i=this.effects.length;r<i;r++)this.effects[r].resume()}}run(r){if(this._active){const i=Fd;try{return Fd=this,r()}finally{Fd=i}}}on(){++this._on===1&&(this.prevScope=Fd,Fd=this)}off(){this._on>0&&--this._on===0&&(Fd=this.prevScope,this.prevScope=void 0)}stop(r){if(this._active){this._active=!1;let i,u;for(i=0,u=this.effects.length;i<u;i++)this.effects[i].stop();for(this.effects.length=0,i=0,u=this.cleanups.length;i<u;i++)this.cleanups[i]();if(this.cleanups.length=0,this.scopes){for(i=0,u=this.scopes.length;i<u;i++)this.scopes[i].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!r){const m=this.parent.scopes.pop();m&&m!==this&&(this.parent.scopes[this.index]=m,m.index=this.index)}this.parent=void 0}}}function Wx(t){return new JX(t)}function kW(){return Fd}function tu(t,r=!1){Fd&&Fd.cleanups.push(t)}let Ha;const N9=new WeakSet;class QX{constructor(r){this.fn=r,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Fd&&Fd.active&&Fd.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,N9.has(this)&&(N9.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||tJ(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,VG(this),nJ(this);const r=Ha,i=cb;Ha=this,cb=!0;try{return this.fn()}finally{oJ(this),Ha=r,cb=i,this.flags&=-3}}stop(){if(this.flags&1){for(let r=this.deps;r;r=r.nextDep)AW(r);this.deps=this.depsTail=void 0,VG(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?N9.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){RU(this)&&this.run()}get dirty(){return RU(this)}}let eJ=0,_R,kR;function tJ(t,r=!1){if(t.flags|=8,r){t.next=kR,kR=t;return}t.next=_R,_R=t}function EW(){eJ++}function TW(){if(--eJ>0)return;if(kR){let r=kR;for(kR=void 0;r;){const i=r.next;r.next=void 0,r.flags&=-9,r=i}}let t;for(;_R;){let r=_R;for(_R=void 0;r;){const i=r.next;if(r.next=void 0,r.flags&=-9,r.flags&1)try{r.trigger()}catch(u){t||(t=u)}r=i}}if(t)throw t}function nJ(t){for(let r=t.deps;r;r=r.nextDep)r.version=-1,r.prevActiveLink=r.dep.activeLink,r.dep.activeLink=r}function oJ(t){let r,i=t.depsTail,u=i;for(;u;){const m=u.prevDep;u.version===-1?(u===i&&(i=m),AW(u),Kde(u)):r=u,u.dep.activeLink=u.prevActiveLink,u.prevActiveLink=void 0,u=m}t.deps=r,t.depsTail=i}function RU(t){for(let r=t.deps;r;r=r.nextDep)if(r.dep.version!==r.version||r.dep.computed&&(sJ(r.dep.computed)||r.dep.version!==r.version))return!0;return!!t._dirty}function sJ(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===LR)||(t.globalVersion=LR,!t.isSSR&&t.flags&128&&(!t.deps&&!t._dirty||!RU(t))))return;t.flags|=2;const r=t.dep,i=Ha,u=cb;Ha=t,cb=!0;try{nJ(t);const m=t.fn(t._value);(r.version===0||zx(m,t._value))&&(t.flags|=128,t._value=m,r.version++)}catch(m){throw r.version++,m}finally{Ha=i,cb=u,oJ(t),t.flags&=-3}}function AW(t,r=!1){const{dep:i,prevSub:u,nextSub:m}=t;if(u&&(u.nextSub=m,t.prevSub=void 0),m&&(m.prevSub=u,t.nextSub=void 0),i.subs===t&&(i.subs=u,!u&&i.computed)){i.computed.flags&=-5;for(let h=i.computed.deps;h;h=h.nextDep)AW(h,!0)}!r&&!--i.sc&&i.map&&i.map.delete(i.key)}function Kde(t){const{prevDep:r,nextDep:i}=t;r&&(r.nextDep=i,t.prevDep=void 0),i&&(i.prevDep=r,t.nextDep=void 0)}let cb=!0;const rJ=[];function N1(){rJ.push(cb),cb=!1}function M1(){const t=rJ.pop();cb=t===void 0?!0:t}function VG(t){const{cleanup:r}=t;if(t.cleanup=void 0,r){const i=Ha;Ha=void 0;try{r()}finally{Ha=i}}}let LR=0;class jde{constructor(r,i){this.sub=r,this.dep=i,this.version=i.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class OW{constructor(r){this.computed=r,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(r){if(!Ha||!cb||Ha===this.computed)return;let i=this.activeLink;if(i===void 0||i.sub!==Ha)i=this.activeLink=new jde(Ha,this),Ha.deps?(i.prevDep=Ha.depsTail,Ha.depsTail.nextDep=i,Ha.depsTail=i):Ha.deps=Ha.depsTail=i,iJ(i);else if(i.version===-1&&(i.version=this.version,i.nextDep)){const u=i.nextDep;u.prevDep=i.prevDep,i.prevDep&&(i.prevDep.nextDep=u),i.prevDep=Ha.depsTail,i.nextDep=void 0,Ha.depsTail.nextDep=i,Ha.depsTail=i,Ha.deps===i&&(Ha.deps=u)}return i}trigger(r){this.version++,LR++,this.notify(r)}notify(r){EW();try{for(let i=this.subs;i;i=i.prevSub)i.sub.notify()&&i.sub.dep.notify()}finally{TW()}}}function iJ(t){if(t.dep.sc++,t.sub.flags&4){const r=t.dep.computed;if(r&&!t.dep.subs){r.flags|=20;for(let u=r.deps;u;u=u.nextDep)iJ(u)}const i=t.dep.subs;i!==t&&(t.prevSub=i,i&&(i.nextSub=t)),t.dep.subs=t}}const tF=new WeakMap,KC=Symbol(""),IU=Symbol(""),BR=Symbol("");function $d(t,r,i){if(cb&&Ha){let u=tF.get(t);u||tF.set(t,u=new Map);let m=u.get(i);m||(u.set(i,m=new OW),m.map=u,m.key=i),m.track()}}function T1(t,r,i,u,m,h){const x=tF.get(t);if(!x){LR++;return}const w=R=>{R&&R.trigger()};if(EW(),r==="clear")x.forEach(w);else{const R=As(t),P=R&&_W(i);if(R&&i==="length"){const A=Number(u);x.forEach((M,H)=>{(H==="length"||H===BR||!Dv(H)&&H>=A)&&w(M)})}else switch((i!==void 0||x.has(void 0))&&w(x.get(i)),P&&w(x.get(BR)),r){case"add":R?P&&w(x.get("length")):(w(x.get(KC)),wE(t)&&w(x.get(IU)));break;case"delete":R||(w(x.get(KC)),wE(t)&&w(x.get(IU)));break;case"set":wE(t)&&w(x.get(KC));break}}TW()}function Zde(t,r){const i=tF.get(t);return i&&i.get(r)}function eE(t){const r=Ns(t);return r===t?r:($d(r,"iterate",BR),Xh(t)?r:r.map(fd))}function FF(t){return $d(t=Ns(t),"iterate",BR),t}const Gde={__proto__:null,[Symbol.iterator](){return M9(this,Symbol.iterator,fd)},concat(...t){return eE(this).concat(...t.map(r=>As(r)?eE(r):r))},entries(){return M9(this,"entries",t=>(t[1]=fd(t[1]),t))},every(t,r){return w1(this,"every",t,r,void 0,arguments)},filter(t,r){return w1(this,"filter",t,r,i=>i.map(fd),arguments)},find(t,r){return w1(this,"find",t,r,fd,arguments)},findIndex(t,r){return w1(this,"findIndex",t,r,void 0,arguments)},findLast(t,r){return w1(this,"findLast",t,r,fd,arguments)},findLastIndex(t,r){return w1(this,"findLastIndex",t,r,void 0,arguments)},forEach(t,r){return w1(this,"forEach",t,r,void 0,arguments)},includes(...t){return L9(this,"includes",t)},indexOf(...t){return L9(this,"indexOf",t)},join(t){return eE(this).join(t)},lastIndexOf(...t){return L9(this,"lastIndexOf",t)},map(t,r){return w1(this,"map",t,r,void 0,arguments)},pop(){return gR(this,"pop")},push(...t){return gR(this,"push",t)},reduce(t,...r){return zG(this,"reduce",t,r)},reduceRight(t,...r){return zG(this,"reduceRight",t,r)},shift(){return gR(this,"shift")},some(t,r){return w1(this,"some",t,r,void 0,arguments)},splice(...t){return gR(this,"splice",t)},toReversed(){return eE(this).toReversed()},toSorted(t){return eE(this).toSorted(t)},toSpliced(...t){return eE(this).toSpliced(...t)},unshift(...t){return gR(this,"unshift",t)},values(){return M9(this,"values",fd)}};function M9(t,r,i){const u=FF(t),m=u[r]();return u!==t&&!Xh(t)&&(m._next=m.next,m.next=()=>{const h=m._next();return h.value&&(h.value=i(h.value)),h}),m}const qde=Array.prototype;function w1(t,r,i,u,m,h){const x=FF(t),w=x!==t&&!Xh(t),R=x[r];if(R!==qde[r]){const M=R.apply(t,h);return w?fd(M):M}let P=i;x!==t&&(w?P=function(M,H){return i.call(this,fd(M),H,t)}:i.length>2&&(P=function(M,H){return i.call(this,M,H,t)}));const A=R.call(x,P,u);return w&&m?m(A):A}function zG(t,r,i,u){const m=FF(t);let h=i;return m!==t&&(Xh(t)?i.length>3&&(h=function(x,w,R){return i.call(this,x,w,R,t)}):h=function(x,w,R){return i.call(this,x,fd(w),R,t)}),m[r](h,...u)}function L9(t,r,i){const u=Ns(t);$d(u,"iterate",BR);const m=u[r](...i);return(m===-1||m===!1)&&DW(i[0])?(i[0]=Ns(i[0]),u[r](...i)):m}function gR(t,r,i=[]){N1(),EW();const u=Ns(t)[r].apply(t,i);return TW(),M1(),u}const Yde=wW("__proto__,__v_isRef,__isVue"),aJ=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(Dv));function Xde(t){Dv(t)||(t=String(t));const r=Ns(this);return $d(r,"has",t),r.hasOwnProperty(t)}class lJ{constructor(r=!1,i=!1){this._isReadonly=r,this._isShallow=i}get(r,i,u){if(i==="__v_skip")return r.__v_skip;const m=this._isReadonly,h=this._isShallow;if(i==="__v_isReactive")return!m;if(i==="__v_isReadonly")return m;if(i==="__v_isShallow")return h;if(i==="__v_raw")return u===(m?h?afe:fJ:h?dJ:uJ).get(r)||Object.getPrototypeOf(r)===Object.getPrototypeOf(u)?r:void 0;const x=As(r);if(!m){let R;if(x&&(R=Gde[i]))return R;if(i==="hasOwnProperty")return Xde}const w=Reflect.get(r,i,Ua(r)?r:u);return(Dv(i)?aJ.has(i):Yde(i))||(m||$d(r,"get",i),h)?w:Ua(w)?x&&_W(i)?w:w.value:aa(w)?m?FE(w):Oc(w):w}}class cJ extends lJ{constructor(r=!1){super(!1,r)}set(r,i,u,m){let h=r[i];if(!this._isShallow){const R=Kx(h);if(!Xh(u)&&!Kx(u)&&(h=Ns(h),u=Ns(u)),!As(r)&&Ua(h)&&!Ua(u))return R?!1:(h.value=u,!0)}const x=As(r)&&_W(i)?Number(i)<r.length:Hi(r,i),w=Reflect.set(r,i,u,Ua(r)?r:m);return r===Ns(m)&&(x?zx(u,h)&&T1(r,"set",i,u):T1(r,"add",i,u)),w}deleteProperty(r,i){const u=Hi(r,i);r[i];const m=Reflect.deleteProperty(r,i);return m&&u&&T1(r,"delete",i,void 0),m}has(r,i){const u=Reflect.has(r,i);return(!Dv(i)||!aJ.has(i))&&$d(r,"has",i),u}ownKeys(r){return $d(r,"iterate",As(r)?"length":KC),Reflect.ownKeys(r)}}class Jde extends lJ{constructor(r=!1){super(!0,r)}set(r,i){return!0}deleteProperty(r,i){return!0}}const Qde=new cJ,efe=new Jde,tfe=new cJ(!0);const DU=t=>t,S6=t=>Reflect.getPrototypeOf(t);function nfe(t,r,i){return function(...u){const m=this.__v_raw,h=Ns(m),x=wE(h),w=t==="entries"||t===Symbol.iterator&&x,R=t==="keys"&&x,P=m[t](...u),A=i?DU:r?nF:fd;return!r&&$d(h,"iterate",R?IU:KC),{next(){const{value:M,done:H}=P.next();return H?{value:M,done:H}:{value:w?[A(M[0]),A(M[1])]:A(M),done:H}},[Symbol.iterator](){return this}}}}function _6(t){return function(...r){return t==="delete"?!1:t==="clear"?void 0:this}}function ofe(t,r){const i={get(m){const h=this.__v_raw,x=Ns(h),w=Ns(m);t||(zx(m,w)&&$d(x,"get",m),$d(x,"get",w));const{has:R}=S6(x),P=r?DU:t?nF:fd;if(R.call(x,m))return P(h.get(m));if(R.call(x,w))return P(h.get(w));h!==x&&h.get(m)},get size(){const m=this.__v_raw;return!t&&$d(Ns(m),"iterate",KC),Reflect.get(m,"size",m)},has(m){const h=this.__v_raw,x=Ns(h),w=Ns(m);return t||(zx(m,w)&&$d(x,"has",m),$d(x,"has",w)),m===w?h.has(m):h.has(m)||h.has(w)},forEach(m,h){const x=this,w=x.__v_raw,R=Ns(w),P=r?DU:t?nF:fd;return!t&&$d(R,"iterate",KC),w.forEach((A,M)=>m.call(h,P(A),P(M),x))}};return eu(i,t?{add:_6("add"),set:_6("set"),delete:_6("delete"),clear:_6("clear")}:{add(m){!r&&!Xh(m)&&!Kx(m)&&(m=Ns(m));const h=Ns(this);return S6(h).has.call(h,m)||(h.add(m),T1(h,"add",m,m)),this},set(m,h){!r&&!Xh(h)&&!Kx(h)&&(h=Ns(h));const x=Ns(this),{has:w,get:R}=S6(x);let P=w.call(x,m);P||(m=Ns(m),P=w.call(x,m));const A=R.call(x,m);return x.set(m,h),P?zx(h,A)&&T1(x,"set",m,h):T1(x,"add",m,h),this},delete(m){const h=Ns(this),{has:x,get:w}=S6(h);let R=x.call(h,m);R||(m=Ns(m),R=x.call(h,m)),w&&w.call(h,m);const P=h.delete(m);return R&&T1(h,"delete",m,void 0),P},clear(){const m=Ns(this),h=m.size!==0,x=m.clear();return h&&T1(m,"clear",void 0,void 0),x}}),["keys","values","entries",Symbol.iterator].forEach(m=>{i[m]=nfe(m,t,r)}),i}function RW(t,r){const i=ofe(t,r);return(u,m,h)=>m==="__v_isReactive"?!t:m==="__v_isReadonly"?t:m==="__v_raw"?u:Reflect.get(Hi(i,m)&&m in u?i:u,m,h)}const sfe={get:RW(!1,!1)},rfe={get:RW(!1,!0)},ife={get:RW(!0,!1)};const uJ=new WeakMap,dJ=new WeakMap,fJ=new WeakMap,afe=new WeakMap;function lfe(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function cfe(t){return t.__v_skip||!Object.isExtensible(t)?0:lfe(Nde(t))}function Oc(t){return Kx(t)?t:IW(t,!1,Qde,sfe,uJ)}function ufe(t){return IW(t,!1,tfe,rfe,dJ)}function FE(t){return IW(t,!0,efe,ife,fJ)}function IW(t,r,i,u,m){if(!aa(t)||t.__v_raw&&!(r&&t.__v_isReactive))return t;const h=cfe(t);if(h===0)return t;const x=m.get(t);if(x)return x;const w=new Proxy(t,h===2?u:i);return m.set(t,w),w}function Hx(t){return Kx(t)?Hx(t.__v_raw):!!(t&&t.__v_isReactive)}function Kx(t){return!!(t&&t.__v_isReadonly)}function Xh(t){return!!(t&&t.__v_isShallow)}function DW(t){return t?!!t.__v_raw:!1}function Ns(t){const r=t&&t.__v_raw;return r?Ns(r):t}function PW(t){return!Hi(t,"__v_skip")&&Object.isExtensible(t)&&AU(t,"__v_skip",!0),t}const fd=t=>aa(t)?Oc(t):t,nF=t=>aa(t)?FE(t):t;function Ua(t){return t?t.__v_isRef===!0:!1}function Ln(t){return mJ(t,!1)}function Do(t){return mJ(t,!0)}function mJ(t,r){return Ua(t)?t:new dfe(t,r)}class dfe{constructor(r,i){this.dep=new OW,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=i?r:Ns(r),this._value=i?r:fd(r),this.__v_isShallow=i}get value(){return this.dep.track(),this._value}set value(r){const i=this._rawValue,u=this.__v_isShallow||Xh(r)||Kx(r);r=u?r:Ns(r),zx(r,i)&&(this._rawValue=r,this._value=u?r:fd(r),this.dep.trigger())}}function ne(t){return Ua(t)?t.value:t}function Pv(t){return Xs(t)?t():ne(t)}const ffe={get:(t,r,i)=>r==="__v_raw"?t:ne(Reflect.get(t,r,i)),set:(t,r,i,u)=>{const m=t[r];return Ua(m)&&!Ua(i)?(m.value=i,!0):Reflect.set(t,r,i,u)}};function gJ(t){return Hx(t)?t:new Proxy(t,ffe)}function $F(t){const r=As(t)?new Array(t.length):{};for(const i in t)r[i]=hJ(t,i);return r}class mfe{constructor(r,i,u){this._object=r,this._key=i,this._defaultValue=u,this.__v_isRef=!0,this._value=void 0}get value(){const r=this._object[this._key];return this._value=r===void 0?this._defaultValue:r}set value(r){this._object[this._key]=r}get dep(){return Zde(Ns(this._object),this._key)}}class gfe{constructor(r){this._getter=r,this.__v_isRef=!0,this.__v_isReadonly=!0,this._value=void 0}get value(){return this._value=this._getter()}}function En(t,r,i){return Ua(t)?t:Xs(t)?new gfe(t):aa(t)&&arguments.length>1?hJ(t,r,i):Ln(t)}function hJ(t,r,i){const u=t[r];return Ua(u)?u:new mfe(t,r,i)}class hfe{constructor(r,i,u){this.fn=r,this.setter=i,this._value=void 0,this.dep=new OW(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=LR-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!i,this.isSSR=u}notify(){if(this.flags|=16,!(this.flags&8)&&Ha!==this)return tJ(this,!0),!0}get value(){const r=this.dep.track();return sJ(this),r&&(r.version=this.dep.version),this._value}set value(r){this.setter&&this.setter(r)}}function pfe(t,r,i=!1){let u,m;return Xs(t)?u=t:(u=t.get,m=t.set),new hfe(u,m,i)}const k6={},oF=new WeakMap;let $C;function bfe(t,r=!1,i=$C){if(i){let u=oF.get(i);u||oF.set(i,u=[]),u.push(t)}}function vfe(t,r,i=Sa){const{immediate:u,deep:m,once:h,scheduler:x,augmentJob:w,call:R}=i,P=j=>m?j:Xh(j)||m===!1||m===0?A1(j,1):A1(j);let A,M,H,K,G=!1,te=!1;if(Ua(t)?(M=()=>t.value,G=Xh(t)):Hx(t)?(M=()=>P(t),G=!0):As(t)?(te=!0,G=t.some(j=>Hx(j)||Xh(j)),M=()=>t.map(j=>{if(Ua(j))return j.value;if(Hx(j))return P(j);if(Xs(j))return R?R(j,2):j()})):Xs(t)?r?M=R?()=>R(t,2):t:M=()=>{if(H){N1();try{H()}finally{M1()}}const j=$C;$C=A;try{return R?R(t,3,[K]):t(K)}finally{$C=j}}:M=Rv,r&&m){const j=M,me=m===!0?1/0:m;M=()=>A1(j(),me)}const re=kW(),W=()=>{A.stop(),re&&re.active&&SW(re.effects,A)};if(h&&r){const j=r;r=(...me)=>{j(...me),W()}}let ge=te?new Array(t.length).fill(k6):k6;const he=j=>{if(!(!(A.flags&1)||!A.dirty&&!j))if(r){const me=A.run();if(m||G||(te?me.some((oe,Ce)=>zx(oe,ge[Ce])):zx(me,ge))){H&&H();const oe=$C;$C=A;try{const Ce=[me,ge===k6?void 0:te&&ge[0]===k6?[]:ge,K];ge=me,R?R(r,3,Ce):r(...Ce)}finally{$C=oe}}}else A.run()};return w&&w(he),A=new QX(M),A.scheduler=x?()=>x(he,!1):he,K=j=>bfe(j,!1,A),H=A.onStop=()=>{const j=oF.get(A);if(j){if(R)R(j,4);else for(const me of j)me();oF.delete(A)}},r?u?he(!0):ge=A.run():x?x(he.bind(null,!0),!0):A.run(),W.pause=A.pause.bind(A),W.resume=A.resume.bind(A),W.stop=W,W}function A1(t,r=1/0,i){if(r<=0||!aa(t)||t.__v_skip||(i=i||new Set,i.has(t)))return t;if(i.add(t),r--,Ua(t))A1(t.value,r,i);else if(As(t))for(let u=0;u<t.length;u++)A1(t[u],r,i);else if(NF(t)||wE(t))t.forEach(u=>{A1(u,r,i)});else if(ZX(t)){for(const u in t)A1(t[u],r,i);for(const u of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,u)&&A1(t[u],r,i)}return t}/**
* @vue/runtime-core v3.5.17
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function dI(t,r,i,u){try{return u?t(...u):t()}catch(m){VF(m,r,i)}}function mb(t,r,i,u){if(Xs(t)){const m=dI(t,r,i,u);return m&&KX(m)&&m.catch(h=>{VF(h,r,i)}),m}if(As(t)){const m=[];for(let h=0;h<t.length;h++)m.push(mb(t[h],r,i,u));return m}}function VF(t,r,i,u=!0){const m=r?r.vnode:null,{errorHandler:h,throwUnhandledErrorInProduction:x}=r&&r.appContext.config||Sa;if(r){let w=r.parent;const R=r.proxy,P=`https://vuejs.org/error-reference/#runtime-${i}`;for(;w;){const A=w.ec;if(A){for(let M=0;M<A.length;M++)if(A[M](t,R,P)===!1)return}w=w.parent}if(h){N1(),dI(h,null,10,[t,R,P]),M1();return}}yfe(t,i,m,u,x)}function yfe(t,r,i,u=!0,m=!1){if(m)throw t;console.error(t)}const Vf=[];let Ev=-1;const CE=[];let Mx=null,mE=0;const pJ=Promise.resolve();let sF=null;function ys(t){const r=sF||pJ;return t?r.then(this?t.bind(this):t):r}function xfe(t){let r=Ev+1,i=Vf.length;for(;r<i;){const u=r+i>>>1,m=Vf[u],h=FR(m);h<t||h===t&&m.flags&2?r=u+1:i=u}return r}function NW(t){if(!(t.flags&1)){const r=FR(t),i=Vf[Vf.length-1];!i||!(t.flags&2)&&r>=FR(i)?Vf.push(t):Vf.splice(xfe(r),0,t),t.flags|=1,bJ()}}function bJ(){sF||(sF=pJ.then(yJ))}function wfe(t){As(t)?CE.push(...t):Mx&&t.id===-1?Mx.splice(mE+1,0,t):t.flags&1||(CE.push(t),t.flags|=1),bJ()}function HG(t,r,i=Ev+1){for(;i<Vf.length;i++){const u=Vf[i];if(u&&u.flags&2){if(t&&u.id!==t.uid)continue;Vf.splice(i,1),i--,u.flags&4&&(u.flags&=-2),u(),u.flags&4||(u.flags&=-2)}}}function vJ(t){if(CE.length){const r=[...new Set(CE)].sort((i,u)=>FR(i)-FR(u));if(CE.length=0,Mx){Mx.push(...r);return}for(Mx=r,mE=0;mE<Mx.length;mE++){const i=Mx[mE];i.flags&4&&(i.flags&=-2),i.flags&8||i(),i.flags&=-2}Mx=null,mE=0}}const FR=t=>t.id==null?t.flags&2?-1:1/0:t.id;function yJ(t){try{for(Ev=0;Ev<Vf.length;Ev++){const r=Vf[Ev];r&&!(r.flags&8)&&(r.flags&4&&(r.flags&=-2),dI(r,r.i,r.i?15:14),r.flags&4||(r.flags&=-2))}}finally{for(;Ev<Vf.length;Ev++){const r=Vf[Ev];r&&(r.flags&=-2)}Ev=-1,Vf.length=0,vJ(),sF=null,(Vf.length||CE.length)&&yJ()}}let Hf=null,xJ=null;function rF(t){const r=Hf;return Hf=t,xJ=t&&t.type.__scopeId||null,r}function xt(t,r=Hf,i){if(!r||t._n)return t;const u=(...m)=>{u._d&&nq(-1);const h=rF(r);let x;try{x=t(...m)}finally{rF(h),u._d&&nq(1)}return x};return u._n=!0,u._c=!0,u._d=!0,u}function Zn(t,r){if(Hf===null)return t;const i=KF(Hf),u=t.dirs||(t.dirs=[]);for(let m=0;m<r.length;m++){let[h,x,w,R=Sa]=r[m];h&&(Xs(h)&&(h={mounted:h,updated:h}),h.deep&&A1(x),u.push({dir:h,instance:i,value:x,oldValue:void 0,arg:w,modifiers:R}))}return t}function DC(t,r,i,u){const m=t.dirs,h=r&&r.dirs;for(let x=0;x<m.length;x++){const w=m[x];h&&(w.oldValue=h[x].value);let R=w.dir[u];R&&(N1(),mb(R,i,8,[t.el,w,t,r]),M1())}}const wJ=Symbol("_vte"),CJ=t=>t.__isTeleport,ER=t=>t&&(t.disabled||t.disabled===""),UG=t=>t&&(t.defer||t.defer===""),WG=t=>typeof SVGElement<"u"&&t instanceof SVGElement,KG=t=>typeof MathMLElement=="function"&&t instanceof MathMLElement,PU=(t,r)=>{const i=t&&t.to;return Wl(i)?r?r(i):null:i},SJ={name:"Teleport",__isTeleport:!0,process(t,r,i,u,m,h,x,w,R,P){const{mc:A,pc:M,pbc:H,o:{insert:K,querySelector:G,createText:te,createComment:re}}=P,W=ER(r.props);let{shapeFlag:ge,children:he,dynamicChildren:j}=r;if(t==null){const me=r.el=te(""),oe=r.anchor=te("");K(me,i,u),K(oe,i,u);const Ce=(et,dt)=>{ge&16&&(m&&m.isCE&&(m.ce._teleportTarget=et),A(he,et,dt,m,h,x,w,R))},Ue=()=>{const et=r.target=PU(r.props,G),dt=_J(et,r,te,K);et&&(x!=="svg"&&WG(et)?x="svg":x!=="mathml"&&KG(et)&&(x="mathml"),W||(Ce(et,dt),z6(r,!1)))};W&&(Ce(i,oe),z6(r,!0)),UG(r.props)?(r.el.__isMounted=!1,$f(()=>{Ue(),delete r.el.__isMounted},h)):Ue()}else{if(UG(r.props)&&t.el.__isMounted===!1){$f(()=>{SJ.process(t,r,i,u,m,h,x,w,R,P)},h);return}r.el=t.el,r.targetStart=t.targetStart;const me=r.anchor=t.anchor,oe=r.target=t.target,Ce=r.targetAnchor=t.targetAnchor,Ue=ER(t.props),et=Ue?i:oe,dt=Ue?me:Ce;if(x==="svg"||WG(oe)?x="svg":(x==="mathml"||KG(oe))&&(x="mathml"),j?(H(t.dynamicChildren,j,et,m,h,x,w),VW(t,r,!0)):R||M(t,r,et,dt,m,h,x,w,!1),W)Ue?r.props&&t.props&&r.props.to!==t.props.to&&(r.props.to=t.props.to):E6(r,i,me,P,1);else if((r.props&&r.props.to)!==(t.props&&t.props.to)){const Me=r.target=PU(r.props,G);Me&&E6(r,Me,null,P,0)}else Ue&&E6(r,oe,Ce,P,1);z6(r,W)}},remove(t,r,i,{um:u,o:{remove:m}},h){const{shapeFlag:x,children:w,anchor:R,targetStart:P,targetAnchor:A,target:M,props:H}=t;if(M&&(m(P),m(A)),h&&m(R),x&16){const K=h||!ER(H);for(let G=0;G<w.length;G++){const te=w[G];u(te,r,i,K,!!te.dynamicChildren)}}},move:E6,hydrate:Cfe};function E6(t,r,i,{o:{insert:u},m},h=2){h===0&&u(t.targetAnchor,r,i);const{el:x,anchor:w,shapeFlag:R,children:P,props:A}=t,M=h===2;if(M&&u(x,r,i),(!M||ER(A))&&R&16)for(let H=0;H<P.length;H++)m(P[H],r,i,2);M&&u(w,r,i)}function Cfe(t,r,i,u,m,h,{o:{nextSibling:x,parentNode:w,querySelector:R,insert:P,createText:A}},M){const H=r.target=PU(r.props,R);if(H){const K=ER(r.props),G=H._lpa||H.firstChild;if(r.shapeFlag&16)if(K)r.anchor=M(x(t),r,w(t),i,u,m,h),r.targetStart=G,r.targetAnchor=G&&x(G);else{r.anchor=x(t);let te=G;for(;te;){if(te&&te.nodeType===8){if(te.data==="teleport start anchor")r.targetStart=te;else if(te.data==="teleport anchor"){r.targetAnchor=te,H._lpa=r.targetAnchor&&x(r.targetAnchor);break}}te=x(te)}r.targetAnchor||_J(H,r,A,P),M(G&&x(G),r,H,i,u,m,h)}z6(r,K)}return r.anchor&&x(r.anchor)}const Sfe=SJ;function z6(t,r){const i=t.ctx;if(i&&i.ut){let u,m;for(r?(u=t.el,m=t.anchor):(u=t.targetStart,m=t.targetAnchor);u&&u!==m;)u.nodeType===1&&u.setAttribute("data-v-owner",i.uid),u=u.nextSibling;i.ut()}}function _J(t,r,i,u){const m=r.targetStart=i(""),h=r.targetAnchor=i("");return m[wJ]=h,t&&(u(m,t),u(h,t)),h}const Lx=Symbol("_leaveCb"),T6=Symbol("_enterCb");function kJ(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Zd(()=>{t.isMounted=!0}),Du(()=>{t.isUnmounting=!0}),t}const Kh=[Function,Array],EJ={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Kh,onEnter:Kh,onAfterEnter:Kh,onEnterCancelled:Kh,onBeforeLeave:Kh,onLeave:Kh,onAfterLeave:Kh,onLeaveCancelled:Kh,onBeforeAppear:Kh,onAppear:Kh,onAfterAppear:Kh,onAppearCancelled:Kh},TJ=t=>{const r=t.subTree;return r.component?TJ(r.component):r},_fe={name:"BaseTransition",props:EJ,setup(t,{slots:r}){const i=$E(),u=kJ();return()=>{const m=r.default&&MW(r.default(),!0);if(!m||!m.length)return;const h=AJ(m),x=Ns(t),{mode:w}=x;if(u.isLeaving)return B9(h);const R=jG(h);if(!R)return B9(h);let P=$R(R,x,u,i,M=>P=M);R.type!==zd&&qC(R,P);let A=i.subTree&&jG(i.subTree);if(A&&A.type!==zd&&!VC(R,A)&&TJ(i).type!==zd){let M=$R(A,x,u,i);if(qC(A,M),w==="out-in"&&R.type!==zd)return u.isLeaving=!0,M.afterLeave=()=>{u.isLeaving=!1,i.job.flags&8||i.update(),delete M.afterLeave,A=void 0},B9(h);w==="in-out"&&R.type!==zd?M.delayLeave=(H,K,G)=>{const te=OJ(u,A);te[String(A.key)]=A,H[Lx]=()=>{K(),H[Lx]=void 0,delete P.delayedLeave,A=void 0},P.delayedLeave=()=>{G(),delete P.delayedLeave,A=void 0}}:A=void 0}else A&&(A=void 0);return h}}};function AJ(t){let r=t[0];if(t.length>1){for(const i of t)if(i.type!==zd){r=i;break}}return r}const kfe=_fe;function OJ(t,r){const{leavingVNodes:i}=t;let u=i.get(r.type);return u||(u=Object.create(null),i.set(r.type,u)),u}function $R(t,r,i,u,m){const{appear:h,mode:x,persisted:w=!1,onBeforeEnter:R,onEnter:P,onAfterEnter:A,onEnterCancelled:M,onBeforeLeave:H,onLeave:K,onAfterLeave:G,onLeaveCancelled:te,onBeforeAppear:re,onAppear:W,onAfterAppear:ge,onAppearCancelled:he}=r,j=String(t.key),me=OJ(i,t),oe=(et,dt)=>{et&&mb(et,u,9,dt)},Ce=(et,dt)=>{const Me=dt[1];oe(et,dt),As(et)?et.every(Ne=>Ne.length<=1)&&Me():et.length<=1&&Me()},Ue={mode:x,persisted:w,beforeEnter(et){let dt=R;if(!i.isMounted)if(h)dt=re||R;else return;et[Lx]&&et[Lx](!0);const Me=me[j];Me&&VC(t,Me)&&Me.el[Lx]&&Me.el[Lx](),oe(dt,[et])},enter(et){let dt=P,Me=A,Ne=M;if(!i.isMounted)if(h)dt=W||P,Me=ge||A,Ne=he||M;else return;let I=!1;const st=et[T6]=it=>{I||(I=!0,it?oe(Ne,[et]):oe(Me,[et]),Ue.delayedLeave&&Ue.delayedLeave(),et[T6]=void 0)};dt?Ce(dt,[et,st]):st()},leave(et,dt){const Me=String(t.key);if(et[T6]&&et[T6](!0),i.isUnmounting)return dt();oe(H,[et]);let Ne=!1;const I=et[Lx]=st=>{Ne||(Ne=!0,dt(),st?oe(te,[et]):oe(G,[et]),et[Lx]=void 0,me[Me]===t&&delete me[Me])};me[Me]=t,K?Ce(K,[et,I]):I()},clone(et){const dt=$R(et,r,i,u,m);return m&&m(dt),dt}};return Ue}function B9(t){if(zF(t))return t=B1(t),t.children=null,t}function jG(t){if(!zF(t))return CJ(t.type)&&t.children?AJ(t.children):t;if(t.component)return t.component.subTree;const{shapeFlag:r,children:i}=t;if(i){if(r&16)return i[0];if(r&32&&Xs(i.default))return i.default()}}function qC(t,r){t.shapeFlag&6&&t.component?(t.transition=r,qC(t.component.subTree,r)):t.shapeFlag&128?(t.ssContent.transition=r.clone(t.ssContent),t.ssFallback.transition=r.clone(t.ssFallback)):t.transition=r}function MW(t,r=!1,i){let u=[],m=0;for(let h=0;h<t.length;h++){let x=t[h];const w=i==null?x.key:String(i)+String(x.key!=null?x.key:h);x.type===ms?(x.patchFlag&128&&m++,u=u.concat(MW(x.children,r,w))):(r||x.type!==zd)&&u.push(w!=null?B1(x,{key:w}):x)}if(m>1)for(let h=0;h<u.length;h++)u[h].patchFlag=-2;return u}/*! #__NO_SIDE_EFFECTS__ */function RJ(t,r){return Xs(t)?eu({name:t.name},r,{setup:t}):t}function z1(){const t=$E();return t?(t.appContext.config.idPrefix||"v")+"-"+t.ids[0]+t.ids[1]++:""}function IJ(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}function TR(t,r,i,u,m=!1){if(As(t)){t.forEach((G,te)=>TR(G,r&&(As(r)?r[te]:r),i,u,m));return}if(AR(u)&&!m){u.shapeFlag&512&&u.type.__asyncResolved&&u.component.subTree.component&&TR(t,r,i,u.component.subTree);return}const h=u.shapeFlag&4?KF(u.component):u.el,x=m?null:h,{i:w,r:R}=t,P=r&&r.r,A=w.refs===Sa?w.refs={}:w.refs,M=w.setupState,H=Ns(M),K=M===Sa?()=>!1:G=>Hi(H,G);if(P!=null&&P!==R&&(Wl(P)?(A[P]=null,K(P)&&(M[P]=null)):Ua(P)&&(P.value=null)),Xs(R))dI(R,w,12,[x,A]);else{const G=Wl(R),te=Ua(R);if(G||te){const re=()=>{if(t.f){const W=G?K(R)?M[R]:A[R]:R.value;m?As(W)&&SW(W,h):As(W)?W.includes(h)||W.push(h):G?(A[R]=[h],K(R)&&(M[R]=A[R])):(R.value=[h],t.k&&(A[t.k]=R.value))}else G?(A[R]=x,K(R)&&(M[R]=x)):te&&(R.value=x,t.k&&(A[t.k]=x))};x?(re.id=-1,$f(re,i)):re()}}}LF().requestIdleCallback;LF().cancelIdleCallback;const AR=t=>!!t.type.__asyncLoader,zF=t=>t.type.__isKeepAlive;function LW(t,r){DJ(t,"a",r)}function HF(t,r){DJ(t,"da",r)}function DJ(t,r,i=Iu){const u=t.__wdc||(t.__wdc=()=>{let m=i;for(;m;){if(m.isDeactivated)return;m=m.parent}return t()});if(UF(r,u,i),i){let m=i.parent;for(;m&&m.parent;)zF(m.parent.vnode)&&Efe(u,r,i,m),m=m.parent}}function Efe(t,r,i,u){const m=UF(r,t,u,!0);PJ(()=>{SW(u[r],m)},i)}function UF(t,r,i=Iu,u=!1){if(i){const m=i[t]||(i[t]=[]),h=r.__weh||(r.__weh=(...x)=>{N1();const w=gI(i),R=mb(r,i,t,x);return w(),M1(),R});return u?m.unshift(h):m.push(h),h}}const H1=t=>(r,i=Iu)=>{(!HR||t==="sp")&&UF(t,(...u)=>r(...u),i)},fI=H1("bm"),Zd=H1("m"),Tfe=H1("bu"),BW=H1("u"),Du=H1("bum"),PJ=H1("um"),Afe=H1("sp"),Ofe=H1("rtg"),Rfe=H1("rtc");function Ife(t,r=Iu){UF("ec",t,r)}const Dfe="components",NJ=Symbol.for("v-ndc");function MJ(t){return Wl(t)?Pfe(Dfe,t,!1)||t:t||NJ}function Pfe(t,r,i=!0,u=!1){const m=Hf||Iu;if(m){const h=m.type;{const w=yme(h,!1);if(w&&(w===r||w===Uf(r)||w===V1(Uf(r))))return h}const x=ZG(m[t]||h[t],r)||ZG(m.appContext[t],r);return!x&&u?h:x}}function ZG(t,r){return t&&(t[r]||t[Uf(r)]||t[V1(Uf(r))])}function L1(t,r,i,u){let m;const h=i,x=As(t);if(x||Wl(t)){const w=x&&Hx(t);let R=!1,P=!1;w&&(R=!Xh(t),P=Kx(t),t=FF(t)),m=new Array(t.length);for(let A=0,M=t.length;A<M;A++)m[A]=r(R?P?nF(fd(t[A])):fd(t[A]):t[A],A,void 0,h)}else if(typeof t=="number"){m=new Array(t);for(let w=0;w<t;w++)m[w]=r(w+1,w,void 0,h)}else if(aa(t))if(t[Symbol.iterator])m=Array.from(t,(w,R)=>r(w,R,void 0,h));else{const w=Object.keys(t);m=new Array(w.length);for(let R=0,P=w.length;R<P;R++){const A=w[R];m[R]=r(t[A],A,R,h)}}else m=[];return m}const NU=t=>t?QJ(t)?KF(t):NU(t.parent):null,OR=eu(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>NU(t.parent),$root:t=>NU(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>BJ(t),$forceUpdate:t=>t.f||(t.f=()=>{NW(t.update)}),$nextTick:t=>t.n||(t.n=ys.bind(t.proxy)),$watch:t=>tme.bind(t)}),F9=(t,r)=>t!==Sa&&!t.__isScriptSetup&&Hi(t,r),Nfe={get({_:t},r){if(r==="__v_skip")return!0;const{ctx:i,setupState:u,data:m,props:h,accessCache:x,type:w,appContext:R}=t;let P;if(r[0]!=="$"){const K=x[r];if(K!==void 0)switch(K){case 1:return u[r];case 2:return m[r];case 4:return i[r];case 3:return h[r]}else{if(F9(u,r))return x[r]=1,u[r];if(m!==Sa&&Hi(m,r))return x[r]=2,m[r];if((P=t.propsOptions[0])&&Hi(P,r))return x[r]=3,h[r];if(i!==Sa&&Hi(i,r))return x[r]=4,i[r];MU&&(x[r]=0)}}const A=OR[r];let M,H;if(A)return r==="$attrs"&&$d(t.attrs,"get",""),A(t);if((M=w.__cssModules)&&(M=M[r]))return M;if(i!==Sa&&Hi(i,r))return x[r]=4,i[r];if(H=R.config.globalProperties,Hi(H,r))return H[r]},set({_:t},r,i){const{data:u,setupState:m,ctx:h}=t;return F9(m,r)?(m[r]=i,!0):u!==Sa&&Hi(u,r)?(u[r]=i,!0):Hi(t.props,r)||r[0]==="$"&&r.slice(1)in t?!1:(h[r]=i,!0)},has({_:{data:t,setupState:r,accessCache:i,ctx:u,appContext:m,propsOptions:h}},x){let w;return!!i[x]||t!==Sa&&Hi(t,x)||F9(r,x)||(w=h[0])&&Hi(w,x)||Hi(u,x)||Hi(OR,x)||Hi(m.config.globalProperties,x)},defineProperty(t,r,i){return i.get!=null?t._.accessCache[r]=0:Hi(i,"value")&&this.set(t,r,i.value,null),Reflect.defineProperty(t,r,i)}};function GG(t){return As(t)?t.reduce((r,i)=>(r[i]=null,r),{}):t}let MU=!0;function Mfe(t){const r=BJ(t),i=t.proxy,u=t.ctx;MU=!1,r.beforeCreate&&qG(r.beforeCreate,t,"bc");const{data:m,computed:h,methods:x,watch:w,provide:R,inject:P,created:A,beforeMount:M,mounted:H,beforeUpdate:K,updated:G,activated:te,deactivated:re,beforeDestroy:W,beforeUnmount:ge,destroyed:he,unmounted:j,render:me,renderTracked:oe,renderTriggered:Ce,errorCaptured:Ue,serverPrefetch:et,expose:dt,inheritAttrs:Me,components:Ne,directives:I,filters:st}=r;if(P&&Lfe(P,u,null),x)for(const Yt in x){const mt=x[Yt];Xs(mt)&&(u[Yt]=mt.bind(i))}if(m){const Yt=m.call(i,i);aa(Yt)&&(t.data=Oc(Yt))}if(MU=!0,h)for(const Yt in h){const mt=h[Yt],Rn=Xs(mt)?mt.bind(i,i):Xs(mt.get)?mt.get.bind(i,i):Rv,Ot=!Xs(mt)&&Xs(mt.set)?mt.set.bind(i):Rv,at=Mt({get:Rn,set:Ot});Object.defineProperty(u,Yt,{enumerable:!0,configurable:!0,get:()=>at.value,set:Ve=>at.value=Ve})}if(w)for(const Yt in w)LJ(w[Yt],u,i,Yt);if(R){const Yt=Xs(R)?R.call(i):R;Reflect.ownKeys(Yt).forEach(mt=>{Kf(mt,Yt[mt])})}A&&qG(A,t,"c");function Ft(Yt,mt){As(mt)?mt.forEach(Rn=>Yt(Rn.bind(i))):mt&&Yt(mt.bind(i))}if(Ft(fI,M),Ft(Zd,H),Ft(Tfe,K),Ft(BW,G),Ft(LW,te),Ft(HF,re),Ft(Ife,Ue),Ft(Rfe,oe),Ft(Ofe,Ce),Ft(Du,ge),Ft(PJ,j),Ft(Afe,et),As(dt))if(dt.length){const Yt=t.exposed||(t.exposed={});dt.forEach(mt=>{Object.defineProperty(Yt,mt,{get:()=>i[mt],set:Rn=>i[mt]=Rn})})}else t.exposed||(t.exposed={});me&&t.render===Rv&&(t.render=me),Me!=null&&(t.inheritAttrs=Me),Ne&&(t.components=Ne),I&&(t.directives=I),et&&IJ(t)}function Lfe(t,r,i=Rv){As(t)&&(t=LU(t));for(const u in t){const m=t[u];let h;aa(m)?"default"in m?h=Ea(m.from||u,m.default,!0):h=Ea(m.from||u):h=Ea(m),Ua(h)?Object.defineProperty(r,u,{enumerable:!0,configurable:!0,get:()=>h.value,set:x=>h.value=x}):r[u]=h}}function qG(t,r,i){mb(As(t)?t.map(u=>u.bind(r.proxy)):t.bind(r.proxy),r,i)}function LJ(t,r,i,u){let m=u.includes(".")?GJ(i,u):()=>i[u];if(Wl(t)){const h=r[t];Xs(h)&&Fn(m,h)}else if(Xs(t))Fn(m,t.bind(i));else if(aa(t))if(As(t))t.forEach(h=>LJ(h,r,i,u));else{const h=Xs(t.handler)?t.handler.bind(i):r[t.handler];Xs(h)&&Fn(m,h,t)}}function BJ(t){const r=t.type,{mixins:i,extends:u}=r,{mixins:m,optionsCache:h,config:{optionMergeStrategies:x}}=t.appContext,w=h.get(r);let R;return w?R=w:!m.length&&!i&&!u?R=r:(R={},m.length&&m.forEach(P=>iF(R,P,x,!0)),iF(R,r,x)),aa(r)&&h.set(r,R),R}function iF(t,r,i,u=!1){const{mixins:m,extends:h}=r;h&&iF(t,h,i,!0),m&&m.forEach(x=>iF(t,x,i,!0));for(const x in r)if(!(u&&x==="expose")){const w=Bfe[x]||i&&i[x];t[x]=w?w(t[x],r[x]):r[x]}return t}const Bfe={data:YG,props:XG,emits:XG,methods:CR,computed:CR,beforeCreate:Bf,created:Bf,beforeMount:Bf,mounted:Bf,beforeUpdate:Bf,updated:Bf,beforeDestroy:Bf,beforeUnmount:Bf,destroyed:Bf,unmounted:Bf,activated:Bf,deactivated:Bf,errorCaptured:Bf,serverPrefetch:Bf,components:CR,directives:CR,watch:$fe,provide:YG,inject:Ffe};function YG(t,r){return r?t?function(){return eu(Xs(t)?t.call(this,this):t,Xs(r)?r.call(this,this):r)}:r:t}function Ffe(t,r){return CR(LU(t),LU(r))}function LU(t){if(As(t)){const r={};for(let i=0;i<t.length;i++)r[t[i]]=t[i];return r}return t}function Bf(t,r){return t?[...new Set([].concat(t,r))]:r}function CR(t,r){return t?eu(Object.create(null),t,r):r}function XG(t,r){return t?As(t)&&As(r)?[...new Set([...t,...r])]:eu(Object.create(null),GG(t),GG(r??{})):r}function $fe(t,r){if(!t)return r;if(!r)return t;const i=eu(Object.create(null),t);for(const u in r)i[u]=Bf(t[u],r[u]);return i}function FJ(){return{app:null,config:{isNativeTag:Dde,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Vfe=0;function zfe(t,r){return function(u,m=null){Xs(u)||(u=eu({},u)),m!=null&&!aa(m)&&(m=null);const h=FJ(),x=new WeakSet,w=[];let R=!1;const P=h.app={_uid:Vfe++,_component:u,_props:m,_container:null,_context:h,_instance:null,version:wme,get config(){return h.config},set config(A){},use(A,...M){return x.has(A)||(A&&Xs(A.install)?(x.add(A),A.install(P,...M)):Xs(A)&&(x.add(A),A(P,...M))),P},mixin(A){return h.mixins.includes(A)||h.mixins.push(A),P},component(A,M){return M?(h.components[A]=M,P):h.components[A]},directive(A,M){return M?(h.directives[A]=M,P):h.directives[A]},mount(A,M,H){if(!R){const K=P._ceVNode||ce(u,m);return K.appContext=h,H===!0?H="svg":H===!1&&(H=void 0),t(K,A,H),R=!0,P._container=A,A.__vue_app__=P,KF(K.component)}},onUnmount(A){w.push(A)},unmount(){R&&(mb(w,P._instance,16),t(null,P._container),delete P._container.__vue_app__)},provide(A,M){return h.provides[A]=M,P},runWithContext(A){const M=jC;jC=P;try{return A()}finally{jC=M}}};return P}}let jC=null;function Kf(t,r){if(Iu){let i=Iu.provides;const u=Iu.parent&&Iu.parent.provides;u===i&&(i=Iu.provides=Object.create(u)),i[t]=r}}function Ea(t,r,i=!1){const u=Iu||Hf;if(u||jC){let m=jC?jC._context.provides:u?u.parent==null||u.ce?u.vnode.appContext&&u.vnode.appContext.provides:u.parent.provides:void 0;if(m&&t in m)return m[t];if(arguments.length>1)return i&&Xs(r)?r.call(u&&u.proxy):r}}function Hfe(){return!!(Iu||Hf||jC)}const $J={},VJ=()=>Object.create($J),zJ=t=>Object.getPrototypeOf(t)===$J;function Ufe(t,r,i,u=!1){const m={},h=VJ();t.propsDefaults=Object.create(null),HJ(t,r,m,h);for(const x in t.propsOptions[0])x in m||(m[x]=void 0);i?t.props=u?m:ufe(m):t.type.props?t.props=m:t.props=h,t.attrs=h}function Wfe(t,r,i,u){const{props:m,attrs:h,vnode:{patchFlag:x}}=t,w=Ns(m),[R]=t.propsOptions;let P=!1;if((u||x>0)&&!(x&16)){if(x&8){const A=t.vnode.dynamicProps;for(let M=0;M<A.length;M++){let H=A[M];if(WF(t.emitsOptions,H))continue;const K=r[H];if(R)if(Hi(h,H))K!==h[H]&&(h[H]=K,P=!0);else{const G=Uf(H);m[G]=BU(R,w,G,K,t,!1)}else K!==h[H]&&(h[H]=K,P=!0)}}}else{HJ(t,r,m,h)&&(P=!0);let A;for(const M in w)(!r||!Hi(r,M)&&((A=JC(M))===M||!Hi(r,A)))&&(R?i&&(i[M]!==void 0||i[A]!==void 0)&&(m[M]=BU(R,w,M,void 0,t,!0)):delete m[M]);if(h!==w)for(const M in h)(!r||!Hi(r,M))&&(delete h[M],P=!0)}P&&T1(t.attrs,"set","")}function HJ(t,r,i,u){const[m,h]=t.propsOptions;let x=!1,w;if(r)for(let R in r){if(SR(R))continue;const P=r[R];let A;m&&Hi(m,A=Uf(R))?!h||!h.includes(A)?i[A]=P:(w||(w={}))[A]=P:WF(t.emitsOptions,R)||(!(R in u)||P!==u[R])&&(u[R]=P,x=!0)}if(h){const R=Ns(i),P=w||Sa;for(let A=0;A<h.length;A++){const M=h[A];i[M]=BU(m,R,M,P[M],t,!Hi(P,M))}}return x}function BU(t,r,i,u,m,h){const x=t[i];if(x!=null){const w=Hi(x,"default");if(w&&u===void 0){const R=x.default;if(x.type!==Function&&!x.skipFactory&&Xs(R)){const{propsDefaults:P}=m;if(i in P)u=P[i];else{const A=gI(m);u=P[i]=R.call(null,r),A()}}else u=R;m.ce&&m.ce._setProp(i,u)}x[0]&&(h&&!w?u=!1:x[1]&&(u===""||u===JC(i))&&(u=!0))}return u}const Kfe=new WeakMap;function UJ(t,r,i=!1){const u=i?Kfe:r.propsCache,m=u.get(t);if(m)return m;const h=t.props,x={},w=[];let R=!1;if(!Xs(t)){const A=M=>{R=!0;const[H,K]=UJ(M,r,!0);eu(x,H),K&&w.push(...K)};!i&&r.mixins.length&&r.mixins.forEach(A),t.extends&&A(t.extends),t.mixins&&t.mixins.forEach(A)}if(!h&&!R)return aa(t)&&u.set(t,xE),xE;if(As(h))for(let A=0;A<h.length;A++){const M=Uf(h[A]);JG(M)&&(x[M]=Sa)}else if(h)for(const A in h){const M=Uf(A);if(JG(M)){const H=h[A],K=x[M]=As(H)||Xs(H)?{type:H}:eu({},H),G=K.type;let te=!1,re=!0;if(As(G))for(let W=0;W<G.length;++W){const ge=G[W],he=Xs(ge)&&ge.name;if(he==="Boolean"){te=!0;break}else he==="String"&&(re=!1)}else te=Xs(G)&&G.name==="Boolean";K[0]=te,K[1]=re,(te||Hi(K,"default"))&&w.push(M)}}const P=[x,w];return aa(t)&&u.set(t,P),P}function JG(t){return t[0]!=="$"&&!SR(t)}const FW=t=>t[0]==="_"||t==="$stable",$W=t=>As(t)?t.map(Av):[Av(t)],jfe=(t,r,i)=>{if(r._n)return r;const u=xt((...m)=>$W(r(...m)),i);return u._c=!1,u},WJ=(t,r,i)=>{const u=t._ctx;for(const m in t){if(FW(m))continue;const h=t[m];if(Xs(h))r[m]=jfe(m,h,u);else if(h!=null){const x=$W(h);r[m]=()=>x}}},KJ=(t,r)=>{const i=$W(r);t.slots.default=()=>i},jJ=(t,r,i)=>{for(const u in r)(i||!FW(u))&&(t[u]=r[u])},Zfe=(t,r,i)=>{const u=t.slots=VJ();if(t.vnode.shapeFlag&32){const m=r.__;m&&AU(u,"__",m,!0);const h=r._;h?(jJ(u,r,i),i&&AU(u,"_",h,!0)):WJ(r,u)}else r&&KJ(t,r)},Gfe=(t,r,i)=>{const{vnode:u,slots:m}=t;let h=!0,x=Sa;if(u.shapeFlag&32){const w=r._;w?i&&w===1?h=!1:jJ(m,r,i):(h=!r.$stable,WJ(r,m)),x=r}else r&&(KJ(t,r),x={default:1});if(h)for(const w in m)!FW(w)&&x[w]==null&&delete m[w]},$f=lme;function qfe(t){return Yfe(t)}function Yfe(t,r){const i=LF();i.__VUE__=!0;const{insert:u,remove:m,patchProp:h,createElement:x,createText:w,createComment:R,setText:P,setElementText:A,parentNode:M,nextSibling:H,setScopeId:K=Rv,insertStaticContent:G}=t,te=(qe,lt,Se,Pe=null,Ke=null,xe=null,Ae=void 0,Fe=null,Je=!!lt.dynamicChildren)=>{if(qe===lt)return;qe&&!VC(qe,lt)&&(Pe=Qt(qe),Ve(qe,Ke,xe,!0),qe=null),lt.patchFlag===-2&&(Je=!1,lt.dynamicChildren=null);const{type:wt,ref:pn,shapeFlag:en}=lt;switch(wt){case mI:re(qe,lt,Se,Pe);break;case zd:W(qe,lt,Se,Pe);break;case V9:qe==null&&ge(lt,Se,Pe,Ae);break;case ms:Ne(qe,lt,Se,Pe,Ke,xe,Ae,Fe,Je);break;default:en&1?me(qe,lt,Se,Pe,Ke,xe,Ae,Fe,Je):en&6?I(qe,lt,Se,Pe,Ke,xe,Ae,Fe,Je):(en&64||en&128)&&wt.process(qe,lt,Se,Pe,Ke,xe,Ae,Fe,Je,nn)}pn!=null&&Ke?TR(pn,qe&&qe.ref,xe,lt||qe,!lt):pn==null&&qe&&qe.ref!=null&&TR(qe.ref,null,xe,qe,!0)},re=(qe,lt,Se,Pe)=>{if(qe==null)u(lt.el=w(lt.children),Se,Pe);else{const Ke=lt.el=qe.el;lt.children!==qe.children&&P(Ke,lt.children)}},W=(qe,lt,Se,Pe)=>{qe==null?u(lt.el=R(lt.children||""),Se,Pe):lt.el=qe.el},ge=(qe,lt,Se,Pe)=>{[qe.el,qe.anchor]=G(qe.children,lt,Se,Pe,qe.el,qe.anchor)},he=({el:qe,anchor:lt},Se,Pe)=>{let Ke;for(;qe&&qe!==lt;)Ke=H(qe),u(qe,Se,Pe),qe=Ke;u(lt,Se,Pe)},j=({el:qe,anchor:lt})=>{let Se;for(;qe&&qe!==lt;)Se=H(qe),m(qe),qe=Se;m(lt)},me=(qe,lt,Se,Pe,Ke,xe,Ae,Fe,Je)=>{lt.type==="svg"?Ae="svg":lt.type==="math"&&(Ae="mathml"),qe==null?oe(lt,Se,Pe,Ke,xe,Ae,Fe,Je):et(qe,lt,Ke,xe,Ae,Fe,Je)},oe=(qe,lt,Se,Pe,Ke,xe,Ae,Fe)=>{let Je,wt;const{props:pn,shapeFlag:en,transition:An,dirs:no}=qe;if(Je=qe.el=x(qe.type,xe,pn&&pn.is,pn),en&8?A(Je,qe.children):en&16&&Ue(qe.children,Je,null,Pe,Ke,$9(qe,xe),Ae,Fe),no&&DC(qe,null,Pe,"created"),Ce(Je,qe,qe.scopeId,Ae,Pe),pn){for(const Jo in pn)Jo!=="value"&&!SR(Jo)&&h(Je,Jo,null,pn[Jo],xe,Pe);"value"in pn&&h(Je,"value",null,pn.value,xe),(wt=pn.onVnodeBeforeMount)&&wv(wt,Pe,qe)}no&&DC(qe,null,Pe,"beforeMount");const co=Xfe(Ke,An);co&&An.beforeEnter(Je),u(Je,lt,Se),((wt=pn&&pn.onVnodeMounted)||co||no)&&$f(()=>{wt&&wv(wt,Pe,qe),co&&An.enter(Je),no&&DC(qe,null,Pe,"mounted")},Ke)},Ce=(qe,lt,Se,Pe,Ke)=>{if(Se&&K(qe,Se),Pe)for(let xe=0;xe<Pe.length;xe++)K(qe,Pe[xe]);if(Ke){let xe=Ke.subTree;if(lt===xe||YJ(xe.type)&&(xe.ssContent===lt||xe.ssFallback===lt)){const Ae=Ke.vnode;Ce(qe,Ae,Ae.scopeId,Ae.slotScopeIds,Ke.parent)}}},Ue=(qe,lt,Se,Pe,Ke,xe,Ae,Fe,Je=0)=>{for(let wt=Je;wt<qe.length;wt++){const pn=qe[wt]=Fe?Bx(qe[wt]):Av(qe[wt]);te(null,pn,lt,Se,Pe,Ke,xe,Ae,Fe)}},et=(qe,lt,Se,Pe,Ke,xe,Ae)=>{const Fe=lt.el=qe.el;let{patchFlag:Je,dynamicChildren:wt,dirs:pn}=lt;Je|=qe.patchFlag&16;const en=qe.props||Sa,An=lt.props||Sa;let no;if(Se&&PC(Se,!1),(no=An.onVnodeBeforeUpdate)&&wv(no,Se,lt,qe),pn&&DC(lt,qe,Se,"beforeUpdate"),Se&&PC(Se,!0),(en.innerHTML&&An.innerHTML==null||en.textContent&&An.textContent==null)&&A(Fe,""),wt?dt(qe.dynamicChildren,wt,Fe,Se,Pe,$9(lt,Ke),xe):Ae||mt(qe,lt,Fe,null,Se,Pe,$9(lt,Ke),xe,!1),Je>0){if(Je&16)Me(Fe,en,An,Se,Ke);else if(Je&2&&en.class!==An.class&&h(Fe,"class",null,An.class,Ke),Je&4&&h(Fe,"style",en.style,An.style,Ke),Je&8){const co=lt.dynamicProps;for(let Jo=0;Jo<co.length;Jo++){const Ho=co[Jo],sr=en[Ho],Ss=An[Ho];(Ss!==sr||Ho==="value")&&h(Fe,Ho,sr,Ss,Ke,Se)}}Je&1&&qe.children!==lt.children&&A(Fe,lt.children)}else!Ae&&wt==null&&Me(Fe,en,An,Se,Ke);((no=An.onVnodeUpdated)||pn)&&$f(()=>{no&&wv(no,Se,lt,qe),pn&&DC(lt,qe,Se,"updated")},Pe)},dt=(qe,lt,Se,Pe,Ke,xe,Ae)=>{for(let Fe=0;Fe<lt.length;Fe++){const Je=qe[Fe],wt=lt[Fe],pn=Je.el&&(Je.type===ms||!VC(Je,wt)||Je.shapeFlag&198)?M(Je.el):Se;te(Je,wt,pn,null,Pe,Ke,xe,Ae,!0)}},Me=(qe,lt,Se,Pe,Ke)=>{if(lt!==Se){if(lt!==Sa)for(const xe in lt)!SR(xe)&&!(xe in Se)&&h(qe,xe,lt[xe],null,Ke,Pe);for(const xe in Se){if(SR(xe))continue;const Ae=Se[xe],Fe=lt[xe];Ae!==Fe&&xe!=="value"&&h(qe,xe,Fe,Ae,Ke,Pe)}"value"in Se&&h(qe,"value",lt.value,Se.value,Ke)}},Ne=(qe,lt,Se,Pe,Ke,xe,Ae,Fe,Je)=>{const wt=lt.el=qe?qe.el:w(""),pn=lt.anchor=qe?qe.anchor:w("");let{patchFlag:en,dynamicChildren:An,slotScopeIds:no}=lt;no&&(Fe=Fe?Fe.concat(no):no),qe==null?(u(wt,Se,Pe),u(pn,Se,Pe),Ue(lt.children||[],Se,pn,Ke,xe,Ae,Fe,Je)):en>0&&en&64&&An&&qe.dynamicChildren?(dt(qe.dynamicChildren,An,Se,Ke,xe,Ae,Fe),(lt.key!=null||Ke&&lt===Ke.subTree)&&VW(qe,lt,!0)):mt(qe,lt,Se,pn,Ke,xe,Ae,Fe,Je)},I=(qe,lt,Se,Pe,Ke,xe,Ae,Fe,Je)=>{lt.slotScopeIds=Fe,qe==null?lt.shapeFlag&512?Ke.ctx.activate(lt,Se,Pe,Ae,Je):st(lt,Se,Pe,Ke,xe,Ae,Je):it(qe,lt,Je)},st=(qe,lt,Se,Pe,Ke,xe,Ae)=>{const Fe=qe.component=gme(qe,Pe,Ke);if(zF(qe)&&(Fe.ctx.renderer=nn),hme(Fe,!1,Ae),Fe.asyncDep){if(Ke&&Ke.registerDep(Fe,Ft,Ae),!qe.el){const Je=Fe.subTree=ce(zd);W(null,Je,lt,Se)}}else Ft(Fe,qe,lt,Se,Ke,xe,Ae)},it=(qe,lt,Se)=>{const Pe=lt.component=qe.component;if(ime(qe,lt,Se))if(Pe.asyncDep&&!Pe.asyncResolved){Yt(Pe,lt,Se);return}else Pe.next=lt,Pe.update();else lt.el=qe.el,Pe.vnode=lt},Ft=(qe,lt,Se,Pe,Ke,xe,Ae)=>{const Fe=()=>{if(qe.isMounted){let{next:en,bu:An,u:no,parent:co,vnode:Jo}=qe;{const xs=ZJ(qe);if(xs){en&&(en.el=Jo.el,Yt(qe,en,Ae)),xs.asyncDep.then(()=>{qe.isUnmounted||Fe()});return}}let Ho=en,sr;PC(qe,!1),en?(en.el=Jo.el,Yt(qe,en,Ae)):en=Jo,An&&V6(An),(sr=en.props&&en.props.onVnodeBeforeUpdate)&&wv(sr,co,en,Jo),PC(qe,!0);const Ss=eq(qe),ri=qe.subTree;qe.subTree=Ss,te(ri,Ss,M(ri.el),Qt(ri),qe,Ke,xe),en.el=Ss.el,Ho===null&&ame(qe,Ss.el),no&&$f(no,Ke),(sr=en.props&&en.props.onVnodeUpdated)&&$f(()=>wv(sr,co,en,Jo),Ke)}else{let en;const{el:An,props:no}=lt,{bm:co,m:Jo,parent:Ho,root:sr,type:Ss}=qe,ri=AR(lt);PC(qe,!1),co&&V6(co),!ri&&(en=no&&no.onVnodeBeforeMount)&&wv(en,Ho,lt),PC(qe,!0);{sr.ce&&sr.ce._def.shadowRoot!==!1&&sr.ce._injectChildStyle(Ss);const xs=qe.subTree=eq(qe);te(null,xs,Se,Pe,qe,Ke,xe),lt.el=xs.el}if(Jo&&$f(Jo,Ke),!ri&&(en=no&&no.onVnodeMounted)){const xs=lt;$f(()=>wv(en,Ho,xs),Ke)}(lt.shapeFlag&256||Ho&&AR(Ho.vnode)&&Ho.vnode.shapeFlag&256)&&qe.a&&$f(qe.a,Ke),qe.isMounted=!0,lt=Se=Pe=null}};qe.scope.on();const Je=qe.effect=new QX(Fe);qe.scope.off();const wt=qe.update=Je.run.bind(Je),pn=qe.job=Je.runIfDirty.bind(Je);pn.i=qe,pn.id=qe.uid,Je.scheduler=()=>NW(pn),PC(qe,!0),wt()},Yt=(qe,lt,Se)=>{lt.component=qe;const Pe=qe.vnode.props;qe.vnode=lt,qe.next=null,Wfe(qe,lt.props,Pe,Se),Gfe(qe,lt.children,Se),N1(),HG(qe),M1()},mt=(qe,lt,Se,Pe,Ke,xe,Ae,Fe,Je=!1)=>{const wt=qe&&qe.children,pn=qe?qe.shapeFlag:0,en=lt.children,{patchFlag:An,shapeFlag:no}=lt;if(An>0){if(An&128){Ot(wt,en,Se,Pe,Ke,xe,Ae,Fe,Je);return}else if(An&256){Rn(wt,en,Se,Pe,Ke,xe,Ae,Fe,Je);return}}no&8?(pn&16&&Bn(wt,Ke,xe),en!==wt&&A(Se,en)):pn&16?no&16?Ot(wt,en,Se,Pe,Ke,xe,Ae,Fe,Je):Bn(wt,Ke,xe,!0):(pn&8&&A(Se,""),no&16&&Ue(en,Se,Pe,Ke,xe,Ae,Fe,Je))},Rn=(qe,lt,Se,Pe,Ke,xe,Ae,Fe,Je)=>{qe=qe||xE,lt=lt||xE;const wt=qe.length,pn=lt.length,en=Math.min(wt,pn);let An;for(An=0;An<en;An++){const no=lt[An]=Je?Bx(lt[An]):Av(lt[An]);te(qe[An],no,Se,null,Ke,xe,Ae,Fe,Je)}wt>pn?Bn(qe,Ke,xe,!0,!1,en):Ue(lt,Se,Pe,Ke,xe,Ae,Fe,Je,en)},Ot=(qe,lt,Se,Pe,Ke,xe,Ae,Fe,Je)=>{let wt=0;const pn=lt.length;let en=qe.length-1,An=pn-1;for(;wt<=en&&wt<=An;){const no=qe[wt],co=lt[wt]=Je?Bx(lt[wt]):Av(lt[wt]);if(VC(no,co))te(no,co,Se,null,Ke,xe,Ae,Fe,Je);else break;wt++}for(;wt<=en&&wt<=An;){const no=qe[en],co=lt[An]=Je?Bx(lt[An]):Av(lt[An]);if(VC(no,co))te(no,co,Se,null,Ke,xe,Ae,Fe,Je);else break;en--,An--}if(wt>en){if(wt<=An){const no=An+1,co=no<pn?lt[no].el:Pe;for(;wt<=An;)te(null,lt[wt]=Je?Bx(lt[wt]):Av(lt[wt]),Se,co,Ke,xe,Ae,Fe,Je),wt++}}else if(wt>An)for(;wt<=en;)Ve(qe[wt],Ke,xe,!0),wt++;else{const no=wt,co=wt,Jo=new Map;for(wt=co;wt<=An;wt++){const uo=lt[wt]=Je?Bx(lt[wt]):Av(lt[wt]);uo.key!=null&&Jo.set(uo.key,wt)}let Ho,sr=0;const Ss=An-co+1;let ri=!1,xs=0;const la=new Array(Ss);for(wt=0;wt<Ss;wt++)la[wt]=0;for(wt=no;wt<=en;wt++){const uo=qe[wt];if(sr>=Ss){Ve(uo,Ke,xe,!0);continue}let $o;if(uo.key!=null)$o=Jo.get(uo.key);else for(Ho=co;Ho<=An;Ho++)if(la[Ho-co]===0&&VC(uo,lt[Ho])){$o=Ho;break}$o===void 0?Ve(uo,Ke,xe,!0):(la[$o-co]=wt+1,$o>=xs?xs=$o:ri=!0,te(uo,lt[$o],Se,null,Ke,xe,Ae,Fe,Je),sr++)}const cn=ri?Jfe(la):xE;for(Ho=cn.length-1,wt=Ss-1;wt>=0;wt--){const uo=co+wt,$o=lt[uo],mi=uo+1<pn?lt[uo+1].el:Pe;la[wt]===0?te(null,$o,Se,mi,Ke,xe,Ae,Fe,Je):ri&&(Ho<0||wt!==cn[Ho]?at($o,Se,mi,2):Ho--)}}},at=(qe,lt,Se,Pe,Ke=null)=>{const{el:xe,type:Ae,transition:Fe,children:Je,shapeFlag:wt}=qe;if(wt&6){at(qe.component.subTree,lt,Se,Pe);return}if(wt&128){qe.suspense.move(lt,Se,Pe);return}if(wt&64){Ae.move(qe,lt,Se,nn);return}if(Ae===ms){u(xe,lt,Se);for(let en=0;en<Je.length;en++)at(Je[en],lt,Se,Pe);u(qe.anchor,lt,Se);return}if(Ae===V9){he(qe,lt,Se);return}if(Pe!==2&&wt&1&&Fe)if(Pe===0)Fe.beforeEnter(xe),u(xe,lt,Se),$f(()=>Fe.enter(xe),Ke);else{const{leave:en,delayLeave:An,afterLeave:no}=Fe,co=()=>{qe.ctx.isUnmounted?m(xe):u(xe,lt,Se)},Jo=()=>{en(xe,()=>{co(),no&&no()})};An?An(xe,co,Jo):Jo()}else u(xe,lt,Se)},Ve=(qe,lt,Se,Pe=!1,Ke=!1)=>{const{type:xe,props:Ae,ref:Fe,children:Je,dynamicChildren:wt,shapeFlag:pn,patchFlag:en,dirs:An,cacheIndex:no}=qe;if(en===-2&&(Ke=!1),Fe!=null&&(N1(),TR(Fe,null,Se,qe,!0),M1()),no!=null&&(lt.renderCache[no]=void 0),pn&256){lt.ctx.deactivate(qe);return}const co=pn&1&&An,Jo=!AR(qe);let Ho;if(Jo&&(Ho=Ae&&Ae.onVnodeBeforeUnmount)&&wv(Ho,lt,qe),pn&6)Xt(qe.component,Se,Pe);else{if(pn&128){qe.suspense.unmount(Se,Pe);return}co&&DC(qe,null,lt,"beforeUnmount"),pn&64?qe.type.remove(qe,lt,Se,nn,Pe):wt&&!wt.hasOnce&&(xe!==ms||en>0&&en&64)?Bn(wt,lt,Se,!1,!0):(xe===ms&&en&384||!Ke&&pn&16)&&Bn(Je,lt,Se),Pe&&bt(qe)}(Jo&&(Ho=Ae&&Ae.onVnodeUnmounted)||co)&&$f(()=>{Ho&&wv(Ho,lt,qe),co&&DC(qe,null,lt,"unmounted")},Se)},bt=qe=>{const{type:lt,el:Se,anchor:Pe,transition:Ke}=qe;if(lt===ms){Yn(Se,Pe);return}if(lt===V9){j(qe);return}const xe=()=>{m(Se),Ke&&!Ke.persisted&&Ke.afterLeave&&Ke.afterLeave()};if(qe.shapeFlag&1&&Ke&&!Ke.persisted){const{leave:Ae,delayLeave:Fe}=Ke,Je=()=>Ae(Se,xe);Fe?Fe(qe.el,xe,Je):Je()}else xe()},Yn=(qe,lt)=>{let Se;for(;qe!==lt;)Se=H(qe),m(qe),qe=Se;m(lt)},Xt=(qe,lt,Se)=>{const{bum:Pe,scope:Ke,job:xe,subTree:Ae,um:Fe,m:Je,a:wt,parent:pn,slots:{__:en}}=qe;QG(Je),QG(wt),Pe&&V6(Pe),pn&&As(en)&&en.forEach(An=>{pn.renderCache[An]=void 0}),Ke.stop(),xe&&(xe.flags|=8,Ve(Ae,qe,lt,Se)),Fe&&$f(Fe,lt),$f(()=>{qe.isUnmounted=!0},lt),lt&&lt.pendingBranch&&!lt.isUnmounted&&qe.asyncDep&&!qe.asyncResolved&&qe.suspenseId===lt.pendingId&&(lt.deps--,lt.deps===0&&lt.resolve())},Bn=(qe,lt,Se,Pe=!1,Ke=!1,xe=0)=>{for(let Ae=xe;Ae<qe.length;Ae++)Ve(qe[Ae],lt,Se,Pe,Ke)},Qt=qe=>{if(qe.shapeFlag&6)return Qt(qe.component.subTree);if(qe.shapeFlag&128)return qe.suspense.next();const lt=H(qe.anchor||qe.el),Se=lt&&lt[wJ];return Se?H(Se):lt};let ee=!1;const vo=(qe,lt,Se)=>{qe==null?lt._vnode&&Ve(lt._vnode,null,null,!0):te(lt._vnode||null,qe,lt,null,null,null,Se),lt._vnode=qe,ee||(ee=!0,HG(),vJ(),ee=!1)},nn={p:te,um:Ve,m:at,r:bt,mt:st,mc:Ue,pc:mt,pbc:dt,n:Qt,o:t};return{render:vo,hydrate:void 0,createApp:zfe(vo)}}function $9({type:t,props:r},i){return i==="svg"&&t==="foreignObject"||i==="mathml"&&t==="annotation-xml"&&r&&r.encoding&&r.encoding.includes("html")?void 0:i}function PC({effect:t,job:r},i){i?(t.flags|=32,r.flags|=4):(t.flags&=-33,r.flags&=-5)}function Xfe(t,r){return(!t||t&&!t.pendingBranch)&&r&&!r.persisted}function VW(t,r,i=!1){const u=t.children,m=r.children;if(As(u)&&As(m))for(let h=0;h<u.length;h++){const x=u[h];let w=m[h];w.shapeFlag&1&&!w.dynamicChildren&&((w.patchFlag<=0||w.patchFlag===32)&&(w=m[h]=Bx(m[h]),w.el=x.el),!i&&w.patchFlag!==-2&&VW(x,w)),w.type===mI&&(w.el=x.el),w.type===zd&&!w.el&&(w.el=x.el)}}function Jfe(t){const r=t.slice(),i=[0];let u,m,h,x,w;const R=t.length;for(u=0;u<R;u++){const P=t[u];if(P!==0){if(m=i[i.length-1],t[m]<P){r[u]=m,i.push(u);continue}for(h=0,x=i.length-1;h<x;)w=h+x>>1,t[i[w]]<P?h=w+1:x=w;P<t[i[h]]&&(h>0&&(r[u]=i[h-1]),i[h]=u)}}for(h=i.length,x=i[h-1];h-- >0;)i[h]=x,x=r[x];return i}function ZJ(t){const r=t.subTree.component;if(r)return r.asyncDep&&!r.asyncResolved?r:ZJ(r)}function QG(t){if(t)for(let r=0;r<t.length;r++)t[r].flags|=8}const Qfe=Symbol.for("v-scx"),eme=()=>Ea(Qfe);function Wf(t,r){return zW(t,null,r)}function Fn(t,r,i){return zW(t,r,i)}function zW(t,r,i=Sa){const{immediate:u,deep:m,flush:h,once:x}=i,w=eu({},i),R=r&&u||!r&&h!=="post";let P;if(HR){if(h==="sync"){const K=eme();P=K.__watcherHandles||(K.__watcherHandles=[])}else if(!R){const K=()=>{};return K.stop=Rv,K.resume=Rv,K.pause=Rv,K}}const A=Iu;w.call=(K,G,te)=>mb(K,A,G,te);let M=!1;h==="post"?w.scheduler=K=>{$f(K,A&&A.suspense)}:h!=="sync"&&(M=!0,w.scheduler=(K,G)=>{G?K():NW(K)}),w.augmentJob=K=>{r&&(K.flags|=4),M&&(K.flags|=2,A&&(K.id=A.uid,K.i=A))};const H=vfe(t,r,w);return HR&&(P?P.push(H):R&&H()),H}function tme(t,r,i){const u=this.proxy,m=Wl(t)?t.includes(".")?GJ(u,t):()=>u[t]:t.bind(u,u);let h;Xs(r)?h=r:(h=r.handler,i=r);const x=gI(this),w=zW(m,h.bind(u),i);return x(),w}function GJ(t,r){const i=r.split(".");return()=>{let u=t;for(let m=0;m<i.length&&u;m++)u=u[i[m]];return u}}const nme=(t,r)=>r==="modelValue"||r==="model-value"?t.modelModifiers:t[`${r}Modifiers`]||t[`${Uf(r)}Modifiers`]||t[`${JC(r)}Modifiers`];function ome(t,r,...i){if(t.isUnmounted)return;const u=t.vnode.props||Sa;let m=i;const h=r.startsWith("update:"),x=h&&nme(u,r.slice(7));x&&(x.trim&&(m=i.map(A=>Wl(A)?A.trim():A)),x.number&&(m=i.map(OU)));let w,R=u[w=D9(r)]||u[w=D9(Uf(r))];!R&&h&&(R=u[w=D9(JC(r))]),R&&mb(R,t,6,m);const P=u[w+"Once"];if(P){if(!t.emitted)t.emitted={};else if(t.emitted[w])return;t.emitted[w]=!0,mb(P,t,6,m)}}function qJ(t,r,i=!1){const u=r.emitsCache,m=u.get(t);if(m!==void 0)return m;const h=t.emits;let x={},w=!1;if(!Xs(t)){const R=P=>{const A=qJ(P,r,!0);A&&(w=!0,eu(x,A))};!i&&r.mixins.length&&r.mixins.forEach(R),t.extends&&R(t.extends),t.mixins&&t.mixins.forEach(R)}return!h&&!w?(aa(t)&&u.set(t,null),null):(As(h)?h.forEach(R=>x[R]=null):eu(x,h),aa(t)&&u.set(t,x),x)}function WF(t,r){return!t||!PF(r)?!1:(r=r.slice(2).replace(/Once$/,""),Hi(t,r[0].toLowerCase()+r.slice(1))||Hi(t,JC(r))||Hi(t,r))}function eq(t){const{type:r,vnode:i,proxy:u,withProxy:m,propsOptions:[h],slots:x,attrs:w,emit:R,render:P,renderCache:A,props:M,data:H,setupState:K,ctx:G,inheritAttrs:te}=t,re=rF(t);let W,ge;try{if(i.shapeFlag&4){const j=m||u,me=j;W=Av(P.call(me,j,A,M,K,H,G)),ge=w}else{const j=r;W=Av(j.length>1?j(M,{attrs:w,slots:x,emit:R}):j(M,null)),ge=r.props?w:sme(w)}}catch(j){RR.length=0,VF(j,t,1),W=ce(zd)}let he=W;if(ge&&te!==!1){const j=Object.keys(ge),{shapeFlag:me}=he;j.length&&me&7&&(h&&j.some(CW)&&(ge=rme(ge,h)),he=B1(he,ge,!1,!0))}return i.dirs&&(he=B1(he,null,!1,!0),he.dirs=he.dirs?he.dirs.concat(i.dirs):i.dirs),i.transition&&qC(he,i.transition),W=he,rF(re),W}const sme=t=>{let r;for(const i in t)(i==="class"||i==="style"||PF(i))&&((r||(r={}))[i]=t[i]);return r},rme=(t,r)=>{const i={};for(const u in t)(!CW(u)||!(u.slice(9)in r))&&(i[u]=t[u]);return i};function ime(t,r,i){const{props:u,children:m,component:h}=t,{props:x,children:w,patchFlag:R}=r,P=h.emitsOptions;if(r.dirs||r.transition)return!0;if(i&&R>=0){if(R&1024)return!0;if(R&16)return u?tq(u,x,P):!!x;if(R&8){const A=r.dynamicProps;for(let M=0;M<A.length;M++){const H=A[M];if(x[H]!==u[H]&&!WF(P,H))return!0}}}else return(m||w)&&(!w||!w.$stable)?!0:u===x?!1:u?x?tq(u,x,P):!0:!!x;return!1}function tq(t,r,i){const u=Object.keys(r);if(u.length!==Object.keys(t).length)return!0;for(let m=0;m<u.length;m++){const h=u[m];if(r[h]!==t[h]&&!WF(i,h))return!0}return!1}function ame({vnode:t,parent:r},i){for(;r;){const u=r.subTree;if(u.suspense&&u.suspense.activeBranch===t&&(u.el=t.el),u===t)(t=r.vnode).el=i,r=r.parent;else break}}const YJ=t=>t.__isSuspense;function lme(t,r){r&&r.pendingBranch?As(t)?r.effects.push(...t):r.effects.push(t):wfe(t)}const ms=Symbol.for("v-fgt"),mI=Symbol.for("v-txt"),zd=Symbol.for("v-cmt"),V9=Symbol.for("v-stc"),RR=[];let Dg=null;function Jt(t=!1){RR.push(Dg=t?null:[])}function cme(){RR.pop(),Dg=RR[RR.length-1]||null}let VR=1;function nq(t,r=!1){VR+=t,t<0&&Dg&&r&&(Dg.hasOnce=!0)}function XJ(t){return t.dynamicChildren=VR>0?Dg||xE:null,cme(),VR>0&&Dg&&Dg.push(t),t}function mo(t,r,i,u,m,h){return XJ(ie(t,r,i,u,m,h,!0))}function Go(t,r,i,u,m){return XJ(ce(t,r,i,u,m,!0))}function zR(t){return t?t.__v_isVNode===!0:!1}function VC(t,r){return t.type===r.type&&t.key===r.key}const JJ=({key:t})=>t??null,H6=({ref:t,ref_key:r,ref_for:i})=>(typeof t=="number"&&(t=""+t),t!=null?Wl(t)||Ua(t)||Xs(t)?{i:Hf,r:t,k:r,f:!!i}:t:null);function ie(t,r=null,i=null,u=0,m=null,h=t===ms?0:1,x=!1,w=!1){const R={__v_isVNode:!0,__v_skip:!0,type:t,props:r,key:r&&JJ(r),ref:r&&H6(r),scopeId:xJ,slotScopeIds:null,children:i,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:h,patchFlag:u,dynamicProps:m,dynamicChildren:null,appContext:null,ctx:Hf};return w?(HW(R,i),h&128&&t.normalize(R)):i&&(R.shapeFlag|=Wl(i)?8:16),VR>0&&!x&&Dg&&(R.patchFlag>0||h&6)&&R.patchFlag!==32&&Dg.push(R),R}const ce=ume;function ume(t,r=null,i=null,u=0,m=null,h=!1){if((!t||t===NJ)&&(t=zd),zR(t)){const w=B1(t,r,!0);return i&&HW(w,i),VR>0&&!h&&Dg&&(w.shapeFlag&6?Dg[Dg.indexOf(t)]=w:Dg.push(w)),w.patchFlag=-2,w}if(xme(t)&&(t=t.__vccOpts),r){r=dme(r);let{class:w,style:R}=r;w&&!Wl(w)&&(r.class=xo(w)),aa(R)&&(DW(R)&&!As(R)&&(R=eu({},R)),r.style=Qs(R))}const x=Wl(t)?1:YJ(t)?128:CJ(t)?64:aa(t)?4:Xs(t)?2:0;return ie(t,r,i,u,m,x,h,!0)}function dme(t){return t?DW(t)||zJ(t)?eu({},t):t:null}function B1(t,r,i=!1,u=!1){const{props:m,ref:h,patchFlag:x,children:w,transition:R}=t,P=r?Xo(m||{},r):m,A={__v_isVNode:!0,__v_skip:!0,type:t.type,props:P,key:P&&JJ(P),ref:r&&r.ref?i&&h?As(h)?h.concat(H6(r)):[h,H6(r)]:H6(r):h,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:w,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:r&&t.type!==ms?x===-1?16:x|16:x,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:R,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&B1(t.ssContent),ssFallback:t.ssFallback&&B1(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return R&&u&&qC(A,R.clone(A)),A}function Cs(t=" ",r=0){return ce(mI,null,t,r)}function Jn(t="",r=!1){return r?(Jt(),Go(zd,null,t)):ce(zd,null,t)}function Av(t){return t==null||typeof t=="boolean"?ce(zd):As(t)?ce(ms,null,t.slice()):zR(t)?Bx(t):ce(mI,null,String(t))}function Bx(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:B1(t)}function HW(t,r){let i=0;const{shapeFlag:u}=t;if(r==null)r=null;else if(As(r))i=16;else if(typeof r=="object")if(u&65){const m=r.default;m&&(m._c&&(m._d=!1),HW(t,m()),m._c&&(m._d=!0));return}else{i=32;const m=r._;!m&&!zJ(r)?r._ctx=Hf:m===3&&Hf&&(Hf.slots._===1?r._=1:(r._=2,t.patchFlag|=1024))}else Xs(r)?(r={default:r,_ctx:Hf},i=32):(r=String(r),u&64?(i=16,r=[Cs(r)]):i=8);t.children=r,t.shapeFlag|=i}function Xo(...t){const r={};for(let i=0;i<t.length;i++){const u=t[i];for(const m in u)if(m==="class")r.class!==u.class&&(r.class=xo([r.class,u.class]));else if(m==="style")r.style=Qs([r.style,u.style]);else if(PF(m)){const h=r[m],x=u[m];x&&h!==x&&!(As(h)&&h.includes(x))&&(r[m]=h?[].concat(h,x):x)}else m!==""&&(r[m]=u[m])}return r}function wv(t,r,i,u=null){mb(t,r,7,[i,u])}const fme=FJ();let mme=0;function gme(t,r,i){const u=t.type,m=(r?r.appContext:t.appContext)||fme,h={uid:mme++,vnode:t,type:u,parent:r,appContext:m,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new JX(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:r?r.provides:Object.create(m.provides),ids:r?r.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:UJ(u,m),emitsOptions:qJ(u,m),emit:null,emitted:null,propsDefaults:Sa,inheritAttrs:u.inheritAttrs,ctx:Sa,data:Sa,props:Sa,attrs:Sa,slots:Sa,refs:Sa,setupState:Sa,setupContext:null,suspense:i,suspenseId:i?i.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return h.ctx={_:h},h.root=r?r.root:h,h.emit=ome.bind(null,h),t.ce&&t.ce(h),h}let Iu=null;const $E=()=>Iu||Hf;let aF,FU;{const t=LF(),r=(i,u)=>{let m;return(m=t[i])||(m=t[i]=[]),m.push(u),h=>{m.length>1?m.forEach(x=>x(h)):m[0](h)}};aF=r("__VUE_INSTANCE_SETTERS__",i=>Iu=i),FU=r("__VUE_SSR_SETTERS__",i=>HR=i)}const gI=t=>{const r=Iu;return aF(t),t.scope.on(),()=>{t.scope.off(),aF(r)}},oq=()=>{Iu&&Iu.scope.off(),aF(null)};function QJ(t){return t.vnode.shapeFlag&4}let HR=!1;function hme(t,r=!1,i=!1){r&&FU(r);const{props:u,children:m}=t.vnode,h=QJ(t);Ufe(t,u,h,r),Zfe(t,m,i||r);const x=h?pme(t,r):void 0;return r&&FU(!1),x}function pme(t,r){const i=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,Nfe);const{setup:u}=i;if(u){N1();const m=t.setupContext=u.length>1?vme(t):null,h=gI(t),x=dI(u,t,0,[t.props,m]),w=KX(x);if(M1(),h(),(w||t.sp)&&!AR(t)&&IJ(t),w){if(x.then(oq,oq),r)return x.then(R=>{sq(t,R)}).catch(R=>{VF(R,t,0)});t.asyncDep=x}else sq(t,x)}else eQ(t)}function sq(t,r,i){Xs(r)?t.type.__ssrInlineRender?t.ssrRender=r:t.render=r:aa(r)&&(t.setupState=gJ(r)),eQ(t)}function eQ(t,r,i){const u=t.type;t.render||(t.render=u.render||Rv);{const m=gI(t);N1();try{Mfe(t)}finally{M1(),m()}}}const bme={get(t,r){return $d(t,"get",""),t[r]}};function vme(t){const r=i=>{t.exposed=i||{}};return{attrs:new Proxy(t.attrs,bme),slots:t.slots,emit:t.emit,expose:r}}function KF(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(gJ(PW(t.exposed)),{get(r,i){if(i in r)return r[i];if(i in OR)return OR[i](t)},has(r,i){return i in r||i in OR}})):t.proxy}function yme(t,r=!0){return Xs(t)?t.displayName||t.name:t.name||r&&t.__name}function xme(t){return Xs(t)&&"__vccOpts"in t}const Mt=(t,r)=>pfe(t,r,HR);function Nv(t,r,i){const u=arguments.length;return u===2?aa(r)&&!As(r)?zR(r)?ce(t,null,[r]):ce(t,r):ce(t,null,r):(u>3?i=Array.prototype.slice.call(arguments,2):u===3&&zR(i)&&(i=[i]),ce(t,r,i))}const wme="3.5.17";/**
* @vue/runtime-dom v3.5.17
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let $U;const rq=typeof window<"u"&&window.trustedTypes;if(rq)try{$U=rq.createPolicy("vue",{createHTML:t=>t})}catch{}const tQ=$U?t=>$U.createHTML(t):t=>t,Cme="http://www.w3.org/2000/svg",Sme="http://www.w3.org/1998/Math/MathML",E1=typeof document<"u"?document:null,iq=E1&&E1.createElement("template"),_me={insert:(t,r,i)=>{r.insertBefore(t,i||null)},remove:t=>{const r=t.parentNode;r&&r.removeChild(t)},createElement:(t,r,i,u)=>{const m=r==="svg"?E1.createElementNS(Cme,t):r==="mathml"?E1.createElementNS(Sme,t):i?E1.createElement(t,{is:i}):E1.createElement(t);return t==="select"&&u&&u.multiple!=null&&m.setAttribute("multiple",u.multiple),m},createText:t=>E1.createTextNode(t),createComment:t=>E1.createComment(t),setText:(t,r)=>{t.nodeValue=r},setElementText:(t,r)=>{t.textContent=r},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>E1.querySelector(t),setScopeId(t,r){t.setAttribute(r,"")},insertStaticContent(t,r,i,u,m,h){const x=i?i.previousSibling:r.lastChild;if(m&&(m===h||m.nextSibling))for(;r.insertBefore(m.cloneNode(!0),i),!(m===h||!(m=m.nextSibling)););else{iq.innerHTML=tQ(u==="svg"?`<svg>${t}</svg>`:u==="mathml"?`<math>${t}</math>`:t);const w=iq.content;if(u==="svg"||u==="mathml"){const R=w.firstChild;for(;R.firstChild;)w.appendChild(R.firstChild);w.removeChild(R)}r.insertBefore(w,i)}return[x?x.nextSibling:r.firstChild,i?i.previousSibling:r.lastChild]}},Ox="transition",hR="animation",TE=Symbol("_vtc"),nQ={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},oQ=eu({},EJ,nQ),kme=t=>(t.displayName="Transition",t.props=oQ,t),jx=kme((t,{slots:r})=>Nv(kfe,sQ(t),r)),NC=(t,r=[])=>{As(t)?t.forEach(i=>i(...r)):t&&t(...r)},aq=t=>t?As(t)?t.some(r=>r.length>1):t.length>1:!1;function sQ(t){const r={};for(const Ne in t)Ne in nQ||(r[Ne]=t[Ne]);if(t.css===!1)return r;const{name:i="v",type:u,duration:m,enterFromClass:h=`${i}-enter-from`,enterActiveClass:x=`${i}-enter-active`,enterToClass:w=`${i}-enter-to`,appearFromClass:R=h,appearActiveClass:P=x,appearToClass:A=w,leaveFromClass:M=`${i}-leave-from`,leaveActiveClass:H=`${i}-leave-active`,leaveToClass:K=`${i}-leave-to`}=t,G=Eme(m),te=G&&G[0],re=G&&G[1],{onBeforeEnter:W,onEnter:ge,onEnterCancelled:he,onLeave:j,onLeaveCancelled:me,onBeforeAppear:oe=W,onAppear:Ce=ge,onAppearCancelled:Ue=he}=r,et=(Ne,I,st,it)=>{Ne._enterCancelled=it,Px(Ne,I?A:w),Px(Ne,I?P:x),st&&st()},dt=(Ne,I)=>{Ne._isLeaving=!1,Px(Ne,M),Px(Ne,K),Px(Ne,H),I&&I()},Me=Ne=>(I,st)=>{const it=Ne?Ce:ge,Ft=()=>et(I,Ne,st);NC(it,[I,Ft]),lq(()=>{Px(I,Ne?R:h),kv(I,Ne?A:w),aq(it)||cq(I,u,te,Ft)})};return eu(r,{onBeforeEnter(Ne){NC(W,[Ne]),kv(Ne,h),kv(Ne,x)},onBeforeAppear(Ne){NC(oe,[Ne]),kv(Ne,R),kv(Ne,P)},onEnter:Me(!1),onAppear:Me(!0),onLeave(Ne,I){Ne._isLeaving=!0;const st=()=>dt(Ne,I);kv(Ne,M),Ne._enterCancelled?(kv(Ne,H),VU()):(VU(),kv(Ne,H)),lq(()=>{Ne._isLeaving&&(Px(Ne,M),kv(Ne,K),aq(j)||cq(Ne,u,re,st))}),NC(j,[Ne,st])},onEnterCancelled(Ne){et(Ne,!1,void 0,!0),NC(he,[Ne])},onAppearCancelled(Ne){et(Ne,!0,void 0,!0),NC(Ue,[Ne])},onLeaveCancelled(Ne){dt(Ne),NC(me,[Ne])}})}function Eme(t){if(t==null)return null;if(aa(t))return[z9(t.enter),z9(t.leave)];{const r=z9(t);return[r,r]}}function z9(t){return Bde(t)}function kv(t,r){r.split(/\s+/).forEach(i=>i&&t.classList.add(i)),(t[TE]||(t[TE]=new Set)).add(r)}function Px(t,r){r.split(/\s+/).forEach(u=>u&&t.classList.remove(u));const i=t[TE];i&&(i.delete(r),i.size||(t[TE]=void 0))}function lq(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let Tme=0;function cq(t,r,i,u){const m=t._endId=++Tme,h=()=>{m===t._endId&&u()};if(i!=null)return setTimeout(h,i);const{type:x,timeout:w,propCount:R}=rQ(t,r);if(!x)return u();const P=x+"end";let A=0;const M=()=>{t.removeEventListener(P,H),h()},H=K=>{K.target===t&&++A>=R&&M()};setTimeout(()=>{A<R&&M()},w+1),t.addEventListener(P,H)}function rQ(t,r){const i=window.getComputedStyle(t),u=G=>(i[G]||"").split(", "),m=u(`${Ox}Delay`),h=u(`${Ox}Duration`),x=uq(m,h),w=u(`${hR}Delay`),R=u(`${hR}Duration`),P=uq(w,R);let A=null,M=0,H=0;r===Ox?x>0&&(A=Ox,M=x,H=h.length):r===hR?P>0&&(A=hR,M=P,H=R.length):(M=Math.max(x,P),A=M>0?x>P?Ox:hR:null,H=A?A===Ox?h.length:R.length:0);const K=A===Ox&&/\b(transform|all)(,|$)/.test(u(`${Ox}Property`).toString());return{type:A,timeout:M,propCount:H,hasTransform:K}}function uq(t,r){for(;t.length<r.length;)t=t.concat(t);return Math.max(...r.map((i,u)=>dq(i)+dq(t[u])))}function dq(t){return t==="auto"?0:Number(t.slice(0,-1).replace(",","."))*1e3}function VU(){return document.body.offsetHeight}function Ame(t,r,i){const u=t[TE];u&&(r=(r?[r,...u]:[...u]).join(" ")),r==null?t.removeAttribute("class"):i?t.setAttribute("class",r):t.className=r}const lF=Symbol("_vod"),iQ=Symbol("_vsh"),Co={beforeMount(t,{value:r},{transition:i}){t[lF]=t.style.display==="none"?"":t.style.display,i&&r?i.beforeEnter(t):pR(t,r)},mounted(t,{value:r},{transition:i}){i&&r&&i.enter(t)},updated(t,{value:r,oldValue:i},{transition:u}){!r!=!i&&(u?r?(u.beforeEnter(t),pR(t,!0),u.enter(t)):u.leave(t,()=>{pR(t,!1)}):pR(t,r))},beforeUnmount(t,{value:r}){pR(t,r)}};function pR(t,r){t.style.display=r?t[lF]:"none",t[iQ]=!r}const Ome=Symbol(""),Rme=/(^|;)\s*display\s*:/;function Ime(t,r,i){const u=t.style,m=Wl(i);let h=!1;if(i&&!m){if(r)if(Wl(r))for(const x of r.split(";")){const w=x.slice(0,x.indexOf(":")).trim();i[w]==null&&U6(u,w,"")}else for(const x in r)i[x]==null&&U6(u,x,"");for(const x in i)x==="display"&&(h=!0),U6(u,x,i[x])}else if(m){if(r!==i){const x=u[Ome];x&&(i+=";"+x),u.cssText=i,h=Rme.test(i)}}else r&&t.removeAttribute("style");lF in t&&(t[lF]=h?u.display:"",t[iQ]&&(u.display="none"))}const fq=/\s*!important$/;function U6(t,r,i){if(As(i))i.forEach(u=>U6(t,r,u));else if(i==null&&(i=""),r.startsWith("--"))t.setProperty(r,i);else{const u=Dme(t,r);fq.test(i)?t.setProperty(JC(u),i.replace(fq,""),"important"):t[u]=i}}const mq=["Webkit","Moz","ms"],H9={};function Dme(t,r){const i=H9[r];if(i)return i;let u=Uf(r);if(u!=="filter"&&u in t)return H9[r]=u;u=V1(u);for(let m=0;m<mq.length;m++){const h=mq[m]+u;if(h in t)return H9[r]=h}return r}const gq="http://www.w3.org/1999/xlink";function hq(t,r,i,u,m,h=Ude(r)){u&&r.startsWith("xlink:")?i==null?t.removeAttributeNS(gq,r.slice(6,r.length)):t.setAttributeNS(gq,r,i):i==null||h&&!GX(i)?t.removeAttribute(r):t.setAttribute(r,h?"":Dv(i)?String(i):i)}function pq(t,r,i,u,m){if(r==="innerHTML"||r==="textContent"){i!=null&&(t[r]=r==="innerHTML"?tQ(i):i);return}const h=t.tagName;if(r==="value"&&h!=="PROGRESS"&&!h.includes("-")){const w=h==="OPTION"?t.getAttribute("value")||"":t.value,R=i==null?t.type==="checkbox"?"on":"":String(i);(w!==R||!("_value"in t))&&(t.value=R),i==null&&t.removeAttribute(r),t._value=i;return}let x=!1;if(i===""||i==null){const w=typeof t[r];w==="boolean"?i=GX(i):i==null&&w==="string"?(i="",x=!0):w==="number"&&(i=0,x=!0)}try{t[r]=i}catch{}x&&t.removeAttribute(m||r)}function zC(t,r,i,u){t.addEventListener(r,i,u)}function Pme(t,r,i,u){t.removeEventListener(r,i,u)}const bq=Symbol("_vei");function Nme(t,r,i,u,m=null){const h=t[bq]||(t[bq]={}),x=h[r];if(u&&x)x.value=u;else{const[w,R]=Mme(r);if(u){const P=h[r]=Fme(u,m);zC(t,w,P,R)}else x&&(Pme(t,w,x,R),h[r]=void 0)}}const vq=/(?:Once|Passive|Capture)$/;function Mme(t){let r;if(vq.test(t)){r={};let u;for(;u=t.match(vq);)t=t.slice(0,t.length-u[0].length),r[u[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):JC(t.slice(2)),r]}let U9=0;const Lme=Promise.resolve(),Bme=()=>U9||(Lme.then(()=>U9=0),U9=Date.now());function Fme(t,r){const i=u=>{if(!u._vts)u._vts=Date.now();else if(u._vts<=i.attached)return;mb($me(u,i.value),r,5,[u])};return i.value=t,i.attached=Bme(),i}function $me(t,r){if(As(r)){const i=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{i.call(t),t._stopped=!0},r.map(u=>m=>!m._stopped&&u&&u(m))}else return r}const yq=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,Vme=(t,r,i,u,m,h)=>{const x=m==="svg";r==="class"?Ame(t,u,x):r==="style"?Ime(t,i,u):PF(r)?CW(r)||Nme(t,r,i,u,h):(r[0]==="."?(r=r.slice(1),!0):r[0]==="^"?(r=r.slice(1),!1):zme(t,r,u,x))?(pq(t,r,u),!t.tagName.includes("-")&&(r==="value"||r==="checked"||r==="selected")&&hq(t,r,u,x,h,r!=="value")):t._isVueCE&&(/[A-Z]/.test(r)||!Wl(u))?pq(t,Uf(r),u,h,r):(r==="true-value"?t._trueValue=u:r==="false-value"&&(t._falseValue=u),hq(t,r,u,x))};function zme(t,r,i,u){if(u)return!!(r==="innerHTML"||r==="textContent"||r in t&&yq(r)&&Xs(i));if(r==="spellcheck"||r==="draggable"||r==="translate"||r==="autocorrect"||r==="form"||r==="list"&&t.tagName==="INPUT"||r==="type"&&t.tagName==="TEXTAREA")return!1;if(r==="width"||r==="height"){const m=t.tagName;if(m==="IMG"||m==="VIDEO"||m==="CANVAS"||m==="SOURCE")return!1}return yq(r)&&Wl(i)?!1:r in t}const aQ=new WeakMap,lQ=new WeakMap,cF=Symbol("_moveCb"),xq=Symbol("_enterCb"),Hme=t=>(delete t.props.mode,t),Ume=Hme({name:"TransitionGroup",props:eu({},oQ,{tag:String,moveClass:String}),setup(t,{slots:r}){const i=$E(),u=kJ();let m,h;return BW(()=>{if(!m.length)return;const x=t.moveClass||`${t.name||"v"}-move`;if(!Zme(m[0].el,i.vnode.el,x)){m=[];return}m.forEach(Wme),m.forEach(Kme);const w=m.filter(jme);VU(),w.forEach(R=>{const P=R.el,A=P.style;kv(P,x),A.transform=A.webkitTransform=A.transitionDuration="";const M=P[cF]=H=>{H&&H.target!==P||(!H||/transform$/.test(H.propertyName))&&(P.removeEventListener("transitionend",M),P[cF]=null,Px(P,x))};P.addEventListener("transitionend",M)}),m=[]}),()=>{const x=Ns(t),w=sQ(x);let R=x.tag||ms;if(m=[],h)for(let P=0;P<h.length;P++){const A=h[P];A.el&&A.el instanceof Element&&(m.push(A),qC(A,$R(A,w,u,i)),aQ.set(A,A.el.getBoundingClientRect()))}h=r.default?MW(r.default()):[];for(let P=0;P<h.length;P++){const A=h[P];A.key!=null&&qC(A,$R(A,w,u,i))}return ce(R,null,h)}}}),UW=Ume;function Wme(t){const r=t.el;r[cF]&&r[cF](),r[xq]&&r[xq]()}function Kme(t){lQ.set(t,t.el.getBoundingClientRect())}function jme(t){const r=aQ.get(t),i=lQ.get(t),u=r.left-i.left,m=r.top-i.top;if(u||m){const h=t.el.style;return h.transform=h.webkitTransform=`translate(${u}px,${m}px)`,h.transitionDuration="0s",t}}function Zme(t,r,i){const u=t.cloneNode(),m=t[TE];m&&m.forEach(w=>{w.split(/\s+/).forEach(R=>R&&u.classList.remove(R))}),i.split(/\s+/).forEach(w=>w&&u.classList.add(w)),u.style.display="none";const h=r.nodeType===1?r:r.parentNode;h.appendChild(u);const{hasTransform:x}=rQ(u);return h.removeChild(u),x}const uF=t=>{const r=t.props["onUpdate:modelValue"]||!1;return As(r)?i=>V6(r,i):r};function Gme(t){t.target.composing=!0}function wq(t){const r=t.target;r.composing&&(r.composing=!1,r.dispatchEvent(new Event("input")))}const SE=Symbol("_assign"),AE={created(t,{modifiers:{lazy:r,trim:i,number:u}},m){t[SE]=uF(m);const h=u||m.props&&m.props.type==="number";zC(t,r?"change":"input",x=>{if(x.target.composing)return;let w=t.value;i&&(w=w.trim()),h&&(w=OU(w)),t[SE](w)}),i&&zC(t,"change",()=>{t.value=t.value.trim()}),r||(zC(t,"compositionstart",Gme),zC(t,"compositionend",wq),zC(t,"change",wq))},mounted(t,{value:r}){t.value=r??""},beforeUpdate(t,{value:r,oldValue:i,modifiers:{lazy:u,trim:m,number:h}},x){if(t[SE]=uF(x),t.composing)return;const w=(h||t.type==="number")&&!/^0\d/.test(t.value)?OU(t.value):t.value,R=r??"";w!==R&&(document.activeElement===t&&t.type!=="range"&&(u&&r===i||m&&t.value.trim()===R)||(t.value=R))}},zU={deep:!0,created(t,r,i){t[SE]=uF(i),zC(t,"change",()=>{const u=t._modelValue,m=qme(t),h=t.checked,x=t[SE];if(As(u)){const w=qX(u,m),R=w!==-1;if(h&&!R)x(u.concat(m));else if(!h&&R){const P=[...u];P.splice(w,1),x(P)}}else if(NF(u)){const w=new Set(u);h?w.add(m):w.delete(m),x(w)}else x(cQ(t,h))})},mounted:Cq,beforeUpdate(t,r,i){t[SE]=uF(i),Cq(t,r,i)}};function Cq(t,{value:r,oldValue:i},u){t._modelValue=r;let m;if(As(r))m=qX(r,u.props.value)>-1;else if(NF(r))m=r.has(u.props.value);else{if(r===i)return;m=BF(r,cQ(t,!0))}t.checked!==m&&(t.checked=m)}function qme(t){return"_value"in t?t._value:t.value}function cQ(t,r){const i=r?"_trueValue":"_falseValue";return i in t?t[i]:r}const Yme=eu({patchProp:Vme},_me);let Sq;function Xme(){return Sq||(Sq=qfe(Yme))}const Jme=(...t)=>{const r=Xme().createApp(...t),{mount:i}=r;return r.mount=u=>{const m=ege(u);if(!m)return;const h=r._component;!Xs(h)&&!h.render&&!h.template&&(h.template=m.innerHTML),m.nodeType===1&&(m.textContent="");const x=i(m,!1,Qme(m));return m instanceof Element&&(m.removeAttribute("v-cloak"),m.setAttribute("data-v-app","")),x},r};function Qme(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function ege(t){return Wl(t)?document.querySelector(t):t}function Jh(t,r){let i;function u(){i=Wx(),i.run(()=>r.length?r(()=>{i==null||i.stop(),u()}):r())}Fn(t,m=>{m&&!i?u():m||(i==null||i.stop(),i=void 0)},{immediate:!0}),tu(()=>{i==null||i.stop()})}const _i=typeof window<"u",WW=_i&&"IntersectionObserver"in window,tge=_i&&("ontouchstart"in window||window.navigator.maxTouchPoints>0),nge=_i&&"matchMedia"in window&&typeof window.matchMedia=="function";function _q(t,r,i){oge(t,r),r.set(t,i)}function oge(t,r){if(r.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function kq(t,r,i){return t.set(uQ(t,r),i),i}function C1(t,r){return t.get(uQ(t,r))}function uQ(t,r,i){if(typeof t=="function"?t===r:t.has(r))return arguments.length<3?r:i;throw new TypeError("Private element is not present on this object")}function dQ(t,r,i){const u=r.length-1;if(u<0)return t===void 0?i:t;for(let m=0;m<u;m++){if(t==null)return i;t=t[r[m]]}return t==null||t[r[u]]===void 0?i:t[r[u]]}function Qh(t,r){if(t===r)return!0;if(t instanceof Date&&r instanceof Date&&t.getTime()!==r.getTime()||t!==Object(t)||r!==Object(r))return!1;const i=Object.keys(t);return i.length!==Object.keys(r).length?!1:i.every(u=>Qh(t[u],r[u]))}function HU(t,r,i){return t==null||!r||typeof r!="string"?i:t[r]!==void 0?t[r]:(r=r.replace(/\[(\w+)\]/g,".$1"),r=r.replace(/^\./,""),dQ(t,r.split("."),i))}function Yh(t,r,i){if(r===!0)return t===void 0?i:t;if(r==null||typeof r=="boolean")return i;if(t!==Object(t)){if(typeof r!="function")return i;const m=r(t,i);return typeof m>"u"?i:m}if(typeof r=="string")return HU(t,r,i);if(Array.isArray(r))return dQ(t,r,i);if(typeof r!="function")return i;const u=r(t,i);return typeof u>"u"?i:u}function fQ(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return Array.from({length:t},(i,u)=>r+u)}function Fs(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"px";if(t==null||t==="")return;const i=Number(t);return isNaN(i)?String(t):isFinite(i)?`${i}${r}`:void 0}function UU(t){return t!==null&&typeof t=="object"&&!Array.isArray(t)}function Eq(t){let r;return t!==null&&typeof t=="object"&&((r=Object.getPrototypeOf(t))===Object.prototype||r===null)}function mQ(t){if(t&&"$el"in t){const r=t.$el;return(r==null?void 0:r.nodeType)===Node.TEXT_NODE?r.nextElementSibling:r}return t}const WU=Object.freeze({enter:13,tab:9,delete:46,esc:27,space:32,up:38,down:40,left:37,right:39,end:35,home:36,del:46,backspace:8,insert:45,pageup:33,pagedown:34,shift:16});function W9(t,r){return r.every(i=>t.hasOwnProperty(i))}function jF(t,r){const i={};for(const u of r)Object.prototype.hasOwnProperty.call(t,u)&&(i[u]=t[u]);return i}function Tq(t,r,i){const u=Object.create(null),m=Object.create(null);for(const h in t)r.some(x=>x instanceof RegExp?x.test(h):x===h)?u[h]=t[h]:m[h]=t[h];return[u,m]}function qx(t,r){const i={...t};return r.forEach(u=>delete i[u]),i}const gQ=/^on[^a-z]/,hQ=t=>gQ.test(t),sge=["onAfterscriptexecute","onAnimationcancel","onAnimationend","onAnimationiteration","onAnimationstart","onAuxclick","onBeforeinput","onBeforescriptexecute","onChange","onClick","onCompositionend","onCompositionstart","onCompositionupdate","onContextmenu","onCopy","onCut","onDblclick","onFocusin","onFocusout","onFullscreenchange","onFullscreenerror","onGesturechange","onGestureend","onGesturestart","onGotpointercapture","onInput","onKeydown","onKeypress","onKeyup","onLostpointercapture","onMousedown","onMousemove","onMouseout","onMouseover","onMouseup","onMousewheel","onPaste","onPointercancel","onPointerdown","onPointerenter","onPointerleave","onPointermove","onPointerout","onPointerover","onPointerup","onReset","onSelect","onSubmit","onTouchcancel","onTouchend","onTouchmove","onTouchstart","onTransitioncancel","onTransitionend","onTransitionrun","onTransitionstart","onWheel"];function hI(t){const[r,i]=Tq(t,[gQ]),u=qx(r,sge),[m,h]=Tq(i,["class","style","id",/^data-/]);return Object.assign(m,r),Object.assign(h,u),[m,h]}function Kd(t){return t==null?[]:Array.isArray(t)?t:[t]}function rge(t,r){let i=0;const u=function(){for(var m=arguments.length,h=new Array(m),x=0;x<m;x++)h[x]=arguments[x];clearTimeout(i),i=setTimeout(()=>t(...h),ne(r))};return u.clear=()=>{clearTimeout(i)},u.immediate=t,u}function Lm(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;return Math.max(r,Math.min(i,t))}function Aq(t,r){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"0";return t+i.repeat(Math.max(0,r-t.length))}function Oq(t,r){return(arguments.length>2&&arguments[2]!==void 0?arguments[2]:"0").repeat(Math.max(0,r-t.length))+t}function ige(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;const i=[];let u=0;for(;u<t.length;)i.push(t.substr(u,r)),u+=r;return i}function Rq(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1e3;if(t<r)return`${t} B`;const i=r===1024?["Ki","Mi","Gi"]:["k","M","G"];let u=-1;for(;Math.abs(t)>=r&&u<i.length-1;)t/=r,++u;return`${t.toFixed(1)} ${i[u]}B`}function Wd(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=arguments.length>2?arguments[2]:void 0;const u={};for(const m in t)u[m]=t[m];for(const m in r){const h=t[m],x=r[m];if(Eq(h)&&Eq(x)){u[m]=Wd(h,x,i);continue}if(i&&Array.isArray(h)&&Array.isArray(x)){u[m]=i(h,x);continue}u[m]=x}return u}function pQ(t){return t.map(r=>r.type===ms?pQ(r.children):r).flat()}function ZC(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";if(ZC.cache.has(t))return ZC.cache.get(t);const r=t.replace(/[^a-z]/gi,"-").replace(/\B([A-Z])/g,"-$1").toLowerCase();return ZC.cache.set(t,r),r}ZC.cache=new Map;function hE(t,r){if(!r||typeof r!="object")return[];if(Array.isArray(r))return r.map(i=>hE(t,i)).flat(1);if(r.suspense)return hE(t,r.ssContent);if(Array.isArray(r.children))return r.children.map(i=>hE(t,i)).flat(1);if(r.component){if(Object.getOwnPropertySymbols(r.component.provides).includes(t))return[r.component];if(r.component.subTree)return hE(t,r.component.subTree).flat(1)}return[]}var tE=new WeakMap,MC=new WeakMap;class bQ{constructor(r){_q(this,tE,[]),_q(this,MC,0),this.size=r}get isFull(){return C1(tE,this).length===this.size}push(r){C1(tE,this)[C1(MC,this)]=r,kq(MC,this,(C1(MC,this)+1)%this.size)}values(){return C1(tE,this).slice(C1(MC,this)).concat(C1(tE,this).slice(0,C1(MC,this)))}clear(){C1(tE,this).length=0,kq(MC,this,0)}}function KW(t){const r=Oc({});Wf(()=>{const u=t();for(const m in u)r[m]=u[m]},{flush:"sync"});const i={};for(const u in r)i[u]=En(()=>r[u]);return i}function dF(t,r){return t.includes(r)}function vQ(t){return t[2].toLowerCase()+t.slice(3)}const Bm=()=>[Function,Array];function Iq(t,r){return r="on"+V1(r),!!(t[r]||t[`${r}Once`]||t[`${r}Capture`]||t[`${r}OnceCapture`]||t[`${r}CaptureOnce`])}function ZF(t){for(var r=arguments.length,i=new Array(r>1?r-1:0),u=1;u<r;u++)i[u-1]=arguments[u];if(Array.isArray(t))for(const m of t)m(...i);else typeof t=="function"&&t(...i)}function UR(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const i=["button","[href]",'input:not([type="hidden"])',"select","textarea","[tabindex]"].map(u=>`${u}${r?':not([tabindex="-1"])':""}:not([disabled])`).join(", ");return[...t.querySelectorAll(i)]}function yQ(t,r,i){let u,m=t.indexOf(document.activeElement);const h=r==="next"?1:-1;do m+=h,u=t[m];while((!u||u.offsetParent==null||!((i==null?void 0:i(u))??!0))&&m<t.length&&m>=0);return u}function IR(t,r){var u,m,h,x;const i=UR(t);if(r==null)(t===document.activeElement||!t.contains(document.activeElement))&&((u=i[0])==null||u.focus());else if(r==="first")(m=i[0])==null||m.focus();else if(r==="last")(h=i.at(-1))==null||h.focus();else if(typeof r=="number")(x=i[r])==null||x.focus();else{const w=yQ(i,r);w?w.focus():IR(t,r==="next"?"first":"last")}}function age(){}function OE(t,r){if(!(_i&&typeof CSS<"u"&&typeof CSS.supports<"u"&&CSS.supports(`selector(${r})`)))return null;try{return!!t&&t.matches(r)}catch{return null}}function jW(t){return t.some(r=>zR(r)?r.type===zd?!1:r.type!==ms||jW(r.children):!0)?t:null}function lge(t,r){if(!_i||t===0)return r(),()=>{};const i=window.setTimeout(r,t);return()=>window.clearTimeout(i)}function cge(t,r){const i=t.clientX,u=t.clientY,m=r.getBoundingClientRect(),h=m.left,x=m.top,w=m.right,R=m.bottom;return i>=h&&i<=w&&u>=x&&u<=R}function KU(){const t=Do(),r=i=>{t.value=i};return Object.defineProperty(r,"value",{enumerable:!0,get:()=>t.value,set:i=>t.value=i}),Object.defineProperty(r,"el",{enumerable:!0,get:()=>mQ(t.value)}),r}function fF(t){const r=t.key.length===1,i=!t.ctrlKey&&!t.metaKey&&!t.altKey;return r&&i}function jU(t){return typeof t=="string"||typeof t=="number"||typeof t=="boolean"||typeof t=="bigint"}function uge(t){const r={};for(const i in t)r[Uf(i)]=t[i];return r}function dge(t){const r=["checked","disabled"];return Object.fromEntries(Object.entries(t).filter(i=>{let[u,m]=i;return r.includes(u)?!!m:m!==void 0}))}const xQ=["top","bottom"],fge=["start","end","left","right"];function ZU(t,r){let[i,u]=t.split(" ");return u||(u=dF(xQ,i)?"start":dF(fge,i)?"top":"center"),{side:GU(i,r),align:GU(u,r)}}function GU(t,r){return t==="start"?r?"right":"left":t==="end"?r?"left":"right":t}function K9(t){return{side:{center:"center",top:"bottom",bottom:"top",left:"right",right:"left"}[t.side],align:t.align}}function j9(t){return{side:t.side,align:{center:"center",top:"bottom",bottom:"top",left:"right",right:"left"}[t.align]}}function Dq(t){return{side:t.align,align:t.side}}function Pq(t){return dF(xQ,t.side)?"y":"x"}class Iv{constructor(r){let{x:i,y:u,width:m,height:h}=r;this.x=i,this.y=u,this.width=m,this.height=h}get top(){return this.y}get bottom(){return this.y+this.height}get left(){return this.x}get right(){return this.x+this.width}}function Nq(t,r){return{x:{before:Math.max(0,r.left-t.left),after:Math.max(0,t.right-r.right)},y:{before:Math.max(0,r.top-t.top),after:Math.max(0,t.bottom-r.bottom)}}}function wQ(t){return Array.isArray(t)?new Iv({x:t[0],y:t[1],width:0,height:0}):t.getBoundingClientRect()}function mge(t){if(t===document.documentElement)return visualViewport?new Iv({x:visualViewport.scale>1?0:visualViewport.offsetLeft,y:visualViewport.scale>1?0:visualViewport.offsetTop,width:visualViewport.width*visualViewport.scale,height:visualViewport.height*visualViewport.scale}):new Iv({x:0,y:0,width:document.documentElement.clientWidth,height:document.documentElement.clientHeight});{const r=t.getBoundingClientRect();return new Iv({x:r.x,y:r.y,width:t.clientWidth,height:t.clientHeight})}}function ZW(t){const r=t.getBoundingClientRect(),i=getComputedStyle(t),u=i.transform;if(u){let m,h,x,w,R;if(u.startsWith("matrix3d("))m=u.slice(9,-1).split(/, /),h=Number(m[0]),x=Number(m[5]),w=Number(m[12]),R=Number(m[13]);else if(u.startsWith("matrix("))m=u.slice(7,-1).split(/, /),h=Number(m[0]),x=Number(m[3]),w=Number(m[4]),R=Number(m[5]);else return new Iv(r);const P=i.transformOrigin,A=r.x-w-(1-h)*parseFloat(P),M=r.y-R-(1-x)*parseFloat(P.slice(P.indexOf(" ")+1)),H=h?r.width/h:t.offsetWidth+1,K=x?r.height/x:t.offsetHeight+1;return new Iv({x:A,y:M,width:H,height:K})}else return new Iv(r)}function pE(t,r,i){if(typeof t.animate>"u")return{finished:Promise.resolve()};let u;try{u=t.animate(r,i)}catch{return{finished:Promise.resolve()}}return typeof u.finished>"u"&&(u.finished=new Promise(m=>{u.onfinish=()=>{m(u)}})),u}const W6=new WeakMap;function gge(t,r){Object.keys(r).forEach(i=>{if(hQ(i)){const u=vQ(i),m=W6.get(t);if(r[i]==null)m==null||m.forEach(h=>{const[x,w]=h;x===u&&(t.removeEventListener(u,w),m.delete(h))});else if(!m||![...m].some(h=>h[0]===u&&h[1]===r[i])){t.addEventListener(u,r[i]);const h=m||new Set;h.add([u,r[i]]),W6.has(t)||W6.set(t,h)}}else r[i]==null?t.removeAttribute(i):t.setAttribute(i,r[i])})}function hge(t,r){Object.keys(r).forEach(i=>{if(hQ(i)){const u=vQ(i),m=W6.get(t);m==null||m.forEach(h=>{const[x,w]=h;x===u&&(t.removeEventListener(u,w),m.delete(h))})}else t.removeAttribute(i)})}const nE=2.4,Mq=.2126729,Lq=.7151522,Bq=.072175,pge=.55,bge=.58,vge=.57,yge=.62,A6=.03,Fq=1.45,xge=5e-4,wge=1.25,Cge=1.25,$q=.078,Vq=12.82051282051282,O6=.06,zq=.001;function Hq(t,r){const i=(t.r/255)**nE,u=(t.g/255)**nE,m=(t.b/255)**nE,h=(r.r/255)**nE,x=(r.g/255)**nE,w=(r.b/255)**nE;let R=i*Mq+u*Lq+m*Bq,P=h*Mq+x*Lq+w*Bq;if(R<=A6&&(R+=(A6-R)**Fq),P<=A6&&(P+=(A6-P)**Fq),Math.abs(P-R)<xge)return 0;let A;if(P>R){const M=(P**pge-R**bge)*wge;A=M<zq?0:M<$q?M-M*Vq*O6:M-O6}else{const M=(P**yge-R**vge)*Cge;A=M>-zq?0:M>-$q?M-M*Vq*O6:M+O6}return A*100}function CQ(t,r){r=Array.isArray(r)?r.slice(0,-1).map(i=>`'${i}'`).join(", ")+` or '${r.at(-1)}'`:`'${r}'`}const mF=.20689655172413793,Sge=t=>t>mF**3?Math.cbrt(t):t/(3*mF**2)+4/29,_ge=t=>t>mF?t**3:3*mF**2*(t-4/29);function SQ(t){const r=Sge,i=r(t[1]);return[116*i-16,500*(r(t[0]/.95047)-i),200*(i-r(t[2]/1.08883))]}function _Q(t){const r=_ge,i=(t[0]+16)/116;return[r(i+t[1]/500)*.95047,r(i),r(i-t[2]/200)*1.08883]}const kge=[[3.2406,-1.5372,-.4986],[-.9689,1.8758,.0415],[.0557,-.204,1.057]],Ege=t=>t<=.0031308?t*12.92:1.055*t**(1/2.4)-.055,Tge=[[.4124,.3576,.1805],[.2126,.7152,.0722],[.0193,.1192,.9505]],Age=t=>t<=.04045?t/12.92:((t+.055)/1.055)**2.4;function kQ(t){const r=Array(3),i=Ege,u=kge;for(let m=0;m<3;++m)r[m]=Math.round(Lm(i(u[m][0]*t[0]+u[m][1]*t[1]+u[m][2]*t[2]))*255);return{r:r[0],g:r[1],b:r[2]}}function GW(t){let{r,g:i,b:u}=t;const m=[0,0,0],h=Age,x=Tge;r=h(r/255),i=h(i/255),u=h(u/255);for(let w=0;w<3;++w)m[w]=x[w][0]*r+x[w][1]*i+x[w][2]*u;return m}function qU(t){return!!t&&/^(#|var\(--|(rgb|hsl)a?\()/.test(t)}function Oge(t){return qU(t)&&!/^((rgb|hsl)a?\()?var\(--/.test(t)}const Uq=/^(?<fn>(?:rgb|hsl)a?)\((?<values>.+)\)/,Rge={rgb:(t,r,i,u)=>({r:t,g:r,b:i,a:u}),rgba:(t,r,i,u)=>({r:t,g:r,b:i,a:u}),hsl:(t,r,i,u)=>Wq({h:t,s:r,l:i,a:u}),hsla:(t,r,i,u)=>Wq({h:t,s:r,l:i,a:u}),hsv:(t,r,i,u)=>WR({h:t,s:r,v:i,a:u}),hsva:(t,r,i,u)=>WR({h:t,s:r,v:i,a:u})};function Ov(t){if(typeof t=="number")return{r:(t&16711680)>>16,g:(t&65280)>>8,b:t&255};if(typeof t=="string"&&Uq.test(t)){const{groups:r}=t.match(Uq),{fn:i,values:u}=r,m=u.split(/,\s*|\s*\/\s*|\s+/).map((h,x)=>h.endsWith("%")||x>0&&x<3&&["hsl","hsla","hsv","hsva"].includes(i)?parseFloat(h)/100:parseFloat(h));return Rge[i](...m)}else if(typeof t=="string"){let r=t.startsWith("#")?t.slice(1):t;return[3,4].includes(r.length)?r=r.split("").map(i=>i+i).join(""):[6,8].includes(r.length),Dge(r)}else if(typeof t=="object"){if(W9(t,["r","g","b"]))return t;if(W9(t,["h","s","l"]))return WR(EQ(t));if(W9(t,["h","s","v"]))return WR(t)}throw new TypeError(`Invalid color: ${t==null?t:String(t)||t.constructor.name}
Expected #hex, #hexa, rgb(), rgba(), hsl(), hsla(), object or number`)}function WR(t){const{h:r,s:i,v:u,a:m}=t,h=w=>{const R=(w+r/60)%6;return u-u*i*Math.max(Math.min(R,4-R,1),0)},x=[h(5),h(3),h(1)].map(w=>Math.round(w*255));return{r:x[0],g:x[1],b:x[2],a:m}}function Wq(t){return WR(EQ(t))}function EQ(t){const{h:r,s:i,l:u,a:m}=t,h=u+i*Math.min(u,1-u),x=h===0?0:2-2*u/h;return{h:r,s:x,v:h,a:m}}function R6(t){const r=Math.round(t).toString(16);return("00".substr(0,2-r.length)+r).toUpperCase()}function Ige(t){let{r,g:i,b:u,a:m}=t;return`#${[R6(r),R6(i),R6(u),m!==void 0?R6(Math.round(m*255)):""].join("")}`}function Dge(t){t=Pge(t);let[r,i,u,m]=ige(t,2).map(h=>parseInt(h,16));return m=m===void 0?m:m/255,{r,g:i,b:u,a:m}}function Pge(t){return t.startsWith("#")&&(t=t.slice(1)),t=t.replace(/([^0-9a-f])/gi,"F"),(t.length===3||t.length===4)&&(t=t.split("").map(r=>r+r).join("")),t.length!==6&&(t=Aq(Aq(t,6),8,"F")),t}function Nge(t,r){const i=SQ(GW(t));return i[0]=i[0]+r*10,kQ(_Q(i))}function Mge(t,r){const i=SQ(GW(t));return i[0]=i[0]-r*10,kQ(_Q(i))}function Lge(t){const r=Ov(t);return GW(r)[1]}function TQ(t){const r=Math.abs(Hq(Ov(0),Ov(t)));return Math.abs(Hq(Ov(16777215),Ov(t)))>Math.min(r,50)?"#fff":"#000"}function qn(t,r){return i=>Object.keys(t).reduce((u,m)=>{const x=typeof t[m]=="object"&&t[m]!=null&&!Array.isArray(t[m])?t[m]:{type:t[m]};return i&&m in i?u[m]={...x,default:i[m]}:u[m]=x,r&&!u[m].source&&(u[m].source=r),u},{})}const or=qn({class:[String,Array,Object],style:{type:[String,Array,Object],default:null}},"component");function wc(t,r){const i=$E();if(!i)throw new Error(`[Vuetify] ${t} must be called from inside a setup function`);return i}function Bv(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"composables";const r=wc(t).type;return ZC((r==null?void 0:r.aliasName)||(r==null?void 0:r.name))}function Bge(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:wc("injectSelf");const{provides:i}=r;if(i&&t in i)return i[t]}const RE=Symbol.for("vuetify:defaults");function Fge(t){return Ln(t)}function qW(){const t=Ea(RE);if(!t)throw new Error("[Vuetify] Could not find defaults instance");return t}function Yx(t,r){const i=qW(),u=Ln(t),m=Mt(()=>{if(ne(r==null?void 0:r.disabled))return i.value;const x=ne(r==null?void 0:r.scoped),w=ne(r==null?void 0:r.reset),R=ne(r==null?void 0:r.root);if(u.value==null&&!(x||w||R))return i.value;let P=Wd(u.value,{prev:i.value});if(x)return P;if(w||R){const A=Number(w||1/0);for(let M=0;M<=A&&!(!P||!("prev"in P));M++)P=P.prev;return P&&typeof R=="string"&&R in P&&(P=Wd(Wd(P,{prev:P}),P[R])),P}return P.prev?Wd(P.prev,P):P});return Kf(RE,m),m}function $ge(t,r){return t.props&&(typeof t.props[r]<"u"||typeof t.props[ZC(r)]<"u")}function Vge(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:qW();const u=wc("useDefaults");if(r=r??u.type.name??u.type.__name,!r)throw new Error("[Vuetify] Could not determine component name");const m=Mt(()=>{var R;return(R=i.value)==null?void 0:R[t._as??r]}),h=new Proxy(t,{get(R,P){var K,G,te,re;const A=Reflect.get(R,P);if(P==="class"||P==="style")return[(K=m.value)==null?void 0:K[P],A].filter(W=>W!=null);if($ge(u.vnode,P))return A;const M=(G=m.value)==null?void 0:G[P];if(M!==void 0)return M;const H=(re=(te=i.value)==null?void 0:te.global)==null?void 0:re[P];return H!==void 0?H:A}}),x=Do();Wf(()=>{if(m.value){const R=Object.entries(m.value).filter(P=>{let[A]=P;return A.startsWith(A[0].toUpperCase())});x.value=R.length?Object.fromEntries(R):void 0}else x.value=void 0});function w(){const R=Bge(RE,u);Kf(RE,Mt(()=>x.value?Wd((R==null?void 0:R.value)??{},x.value):R==null?void 0:R.value))}return{props:h,provideSubDefaults:w}}function VE(t){if(t._setup=t._setup??t.setup,!t.name)return t;if(t._setup){t.props=qn(t.props??{},t.name)();const r=Object.keys(t.props).filter(i=>i!=="class"&&i!=="style");t.filterProps=function(u){return jF(u,r)},t.props._as=String,t.setup=function(u,m){const h=qW();if(!h.value)return t._setup(u,m);const{props:x,provideSubDefaults:w}=Vge(u,u._as??t.name,h),R=t._setup(x,m);return w(),R}}return t}function ts(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return r=>(t?VE:RJ)(r)}function GF(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"div",i=arguments.length>2?arguments[2]:void 0;return ts()({name:i??V1(Uf(t.replace(/__/g,"-"))),props:{tag:{type:String,default:r},...or()},setup(u,m){let{slots:h}=m;return()=>{var x;return Nv(u.tag,{class:[t,u.class],style:u.style},(x=h.default)==null?void 0:x.call(h))}}})}function AQ(t){if(typeof t.getRootNode!="function"){for(;t.parentNode;)t=t.parentNode;return t!==document?null:document}const r=t.getRootNode();return r!==document&&r.getRootNode({composed:!0})!==document?null:r}const gF="cubic-bezier(0.4, 0, 0.2, 1)",zge="cubic-bezier(0.0, 0, 0.2, 1)",Hge="cubic-bezier(0.4, 0, 1, 1)";function OQ(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;for(;t;){if(r?Uge(t):YW(t))return t;t=t.parentElement}return document.scrollingElement}function hF(t,r){const i=[];if(r&&t&&!r.contains(t))return i;for(;t&&(YW(t)&&i.push(t),t!==r);)t=t.parentElement;return i}function YW(t){if(!t||t.nodeType!==Node.ELEMENT_NODE)return!1;const r=window.getComputedStyle(t);return r.overflowY==="scroll"||r.overflowY==="auto"&&t.scrollHeight>t.clientHeight}function Uge(t){if(!t||t.nodeType!==Node.ELEMENT_NODE)return!1;const r=window.getComputedStyle(t);return["scroll","auto"].includes(r.overflowY)}function Wge(t){for(;t;){if(window.getComputedStyle(t).position==="fixed")return!0;t=t.offsetParent}return!1}function $s(t){const r=wc("useRender");r.render=t}function ia(t,r,i){let u=arguments.length>3&&arguments[3]!==void 0?arguments[3]:M=>M,m=arguments.length>4&&arguments[4]!==void 0?arguments[4]:M=>M;const h=wc("useProxiedModel"),x=Ln(t[r]!==void 0?t[r]:i),w=ZC(r),P=Mt(w!==r?()=>{var M,H,K,G;return t[r],!!(((M=h.vnode.props)!=null&&M.hasOwnProperty(r)||(H=h.vnode.props)!=null&&H.hasOwnProperty(w))&&((K=h.vnode.props)!=null&&K.hasOwnProperty(`onUpdate:${r}`)||(G=h.vnode.props)!=null&&G.hasOwnProperty(`onUpdate:${w}`)))}:()=>{var M,H;return t[r],!!((M=h.vnode.props)!=null&&M.hasOwnProperty(r)&&((H=h.vnode.props)!=null&&H.hasOwnProperty(`onUpdate:${r}`)))});Jh(()=>!P.value,()=>{Fn(()=>t[r],M=>{x.value=M})});const A=Mt({get(){const M=t[r];return u(P.value?M:x.value)},set(M){const H=m(M),K=Ns(P.value?t[r]:x.value);K===H||u(K)===M||(x.value=H,h==null||h.emit(`update:${r}`,H))}});return Object.defineProperty(A,"externalValue",{get:()=>P.value?t[r]:x.value}),A}const Kge={badge:"Badge",open:"Open",close:"Close",dismiss:"Dismiss",confirmEdit:{ok:"OK",cancel:"Cancel"},dataIterator:{noResultsText:"No matching records found",loadingText:"Loading items..."},dataTable:{itemsPerPageText:"Rows per page:",ariaLabel:{sortDescending:"Sorted descending.",sortAscending:"Sorted ascending.",sortNone:"Not sorted.",activateNone:"Activate to remove sorting.",activateDescending:"Activate to sort descending.",activateAscending:"Activate to sort ascending."},sortBy:"Sort by"},dataFooter:{itemsPerPageText:"Items per page:",itemsPerPageAll:"All",nextPage:"Next page",prevPage:"Previous page",firstPage:"First page",lastPage:"Last page",pageText:"{0}-{1} of {2}"},dateRangeInput:{divider:"to"},datePicker:{itemsSelected:"{0} selected",range:{title:"Select dates",header:"Enter dates"},title:"Select date",header:"Enter date",input:{placeholder:"Enter date"}},noDataText:"No data available",carousel:{prev:"Previous visual",next:"Next visual",ariaLabel:{delimiter:"Carousel slide {0} of {1}"}},calendar:{moreEvents:"{0} more",today:"Today"},input:{clear:"Clear {0}",prependAction:"{0} prepended action",appendAction:"{0} appended action",otp:"Please enter OTP character {0}"},fileInput:{counter:"{0} files",counterSize:"{0} files ({1} in total)"},fileUpload:{title:"Drag and drop files here",divider:"or",browse:"Browse Files"},timePicker:{am:"AM",pm:"PM",title:"Select Time"},pagination:{ariaLabel:{root:"Pagination Navigation",next:"Next page",previous:"Previous page",page:"Go to page {0}",currentPage:"Page {0}, Current page",first:"First page",last:"Last page"}},stepper:{next:"Next",prev:"Previous"},rating:{ariaLabel:{item:"Rating {0} of {1}"}},loading:"Loading...",infiniteScroll:{loadMore:"Load more",empty:"No more"},rules:{required:"This field is required",email:"Please enter a valid email",number:"This field can only contain numbers",integer:"This field can only contain integer values",capital:"This field can only contain uppercase letters",maxLength:"You must enter a maximum of {0} characters",minLength:"You must enter a minimum of {0} characters",strictLength:"The length of the entered field is invalid",exclude:"The {0} character is not allowed",notEmpty:"Please choose at least one value",pattern:"Invalid format"},hotkey:{then:"then",ctrl:"Ctrl",command:"Command",space:"Space",shift:"Shift",alt:"Alt",enter:"Enter",escape:"Escape",upArrow:"Up Arrow",downArrow:"Down Arrow",leftArrow:"Left Arrow",rightArrow:"Right Arrow",backspace:"Backspace",option:"Option",plus:"plus",shortcut:"Keyboard shortcut: {0}"}},Kq="$vuetify.",jq=(t,r)=>t.replace(/\{(\d+)\}/g,(i,u)=>String(r[Number(u)])),RQ=(t,r,i)=>function(u){for(var m=arguments.length,h=new Array(m>1?m-1:0),x=1;x<m;x++)h[x-1]=arguments[x];if(!u.startsWith(Kq))return jq(u,h);const w=u.replace(Kq,""),R=t.value&&i.value[t.value],P=r.value&&i.value[r.value];let A=HU(R,w,null);return A||(`${u}${t.value}`,A=HU(P,w,null)),A||(A=u),typeof A!="string"&&(A=u),jq(A,h)};function XW(t,r){return(i,u)=>new Intl.NumberFormat([t.value,r.value],u).format(i)}function IQ(t,r){return XW(t,r)(.1).includes(",")?",":"."}function Z9(t,r,i){const u=ia(t,r,t[r]??i.value);return u.value=t[r]??i.value,Fn(i,m=>{t[r]==null&&(u.value=i.value)}),u}function DQ(t){return r=>{const i=Z9(r,"locale",t.current),u=Z9(r,"fallback",t.fallback),m=Z9(r,"messages",t.messages);return{name:"vuetify",current:i,fallback:u,messages:m,decimalSeparator:En(()=>IQ(i,u)),t:RQ(i,u,m),n:XW(i,u),provide:DQ({current:i,fallback:u,messages:m})}}}function jge(t){const r=Do((t==null?void 0:t.locale)??"en"),i=Do((t==null?void 0:t.fallback)??"en"),u=Ln({en:Kge,...t==null?void 0:t.messages});return{name:"vuetify",current:r,fallback:i,messages:u,decimalSeparator:En(()=>(t==null?void 0:t.decimalSeparator)??IQ(r,i)),t:RQ(r,i,u),n:XW(r,i),provide:DQ({current:r,fallback:i,messages:u})}}const pF=Symbol.for("vuetify:locale");function Zge(t){return t.name!=null}function Gge(t){const r=t!=null&&t.adapter&&Zge(t==null?void 0:t.adapter)?t==null?void 0:t.adapter:jge(t),i=Yge(r,t);return{...r,...i}}function zE(){const t=Ea(pF);if(!t)throw new Error("[Vuetify] Could not find injected locale instance");return t}function qge(){return{af:!1,ar:!0,bg:!1,ca:!1,ckb:!1,cs:!1,de:!1,el:!1,en:!1,es:!1,et:!1,fa:!0,fi:!1,fr:!1,hr:!1,hu:!1,he:!0,id:!1,it:!1,ja:!1,km:!1,ko:!1,lv:!1,lt:!1,nl:!1,no:!1,pl:!1,pt:!1,ro:!1,ru:!1,sk:!1,sl:!1,srCyrl:!1,srLatn:!1,sv:!1,th:!1,tr:!1,az:!1,uk:!1,vi:!1,zhHans:!1,zhHant:!1}}function Yge(t,r){const i=Ln((r==null?void 0:r.rtl)??qge()),u=Mt(()=>i.value[t.current.value]??!1);return{isRtl:u,rtl:i,rtlClasses:En(()=>`v-locale--is-${u.value?"rtl":"ltr"}`)}}function ep(){const t=Ea(pF);if(!t)throw new Error("[Vuetify] Could not find injected rtl instance");return{isRtl:t.isRtl,rtlClasses:t.rtlClasses}}function pI(t){const r=t.slice(-2).toUpperCase();switch(!0){case t==="GB-alt-variant":return{firstDay:0,firstWeekSize:4};case t==="001":return{firstDay:1,firstWeekSize:1};case`AG AS BD BR BS BT BW BZ CA CO DM DO ET GT GU HK HN ID IL IN JM JP KE
    KH KR LA MH MM MO MT MX MZ NI NP PA PE PH PK PR PY SA SG SV TH TT TW UM US
    VE VI WS YE ZA ZW`.includes(r):return{firstDay:0,firstWeekSize:1};case`AI AL AM AR AU AZ BA BM BN BY CL CM CN CR CY EC GE HR KG KZ LB LK LV
    MD ME MK MN MY NZ RO RS SI TJ TM TR UA UY UZ VN XK`.includes(r):return{firstDay:1,firstWeekSize:1};case`AD AN AT AX BE BG CH CZ DE DK EE ES FI FJ FO FR GB GF GP GR HU IE IS
    IT LI LT LU MC MQ NL NO PL RE RU SE SK SM VA`.includes(r):return{firstDay:1,firstWeekSize:4};case"AE AF BH DJ DZ EG IQ IR JO KW LY OM QA SD SY".includes(r):return{firstDay:6,firstWeekSize:1};case r==="MV":return{firstDay:5,firstWeekSize:1};case r==="PT":return{firstDay:0,firstWeekSize:4};default:return null}}function Xge(t,r,i){var A;const u=[];let m=[];const h=PQ(t),x=NQ(t),w=i??((A=pI(r))==null?void 0:A.firstDay)??0,R=(h.getDay()-w+7)%7,P=(x.getDay()-w+7)%7;for(let M=0;M<R;M++){const H=new Date(h);H.setDate(H.getDate()-(R-M)),m.push(H)}for(let M=1;M<=x.getDate();M++){const H=new Date(t.getFullYear(),t.getMonth(),M);m.push(H),m.length===7&&(u.push(m),m=[])}for(let M=1;M<7-P;M++){const H=new Date(x);H.setDate(H.getDate()+M),m.push(H)}return m.length>0&&u.push(m),u}function YU(t,r,i){var h;const u=i??((h=pI(r))==null?void 0:h.firstDay)??0,m=new Date(t);for(;m.getDay()!==u;)m.setDate(m.getDate()-1);return m}function Jge(t,r){var m;const i=new Date(t),u=((((m=pI(r))==null?void 0:m.firstDay)??0)+6)%7;for(;i.getDay()!==u;)i.setDate(i.getDate()+1);return i}function PQ(t){return new Date(t.getFullYear(),t.getMonth(),1)}function NQ(t){return new Date(t.getFullYear(),t.getMonth()+1,0)}function Qge(t){const r=t.split("-").map(Number);return new Date(r[0],r[1]-1,r[2])}const ehe=/^([12]\d{3}-([1-9]|0[1-9]|1[0-2])-([1-9]|0[1-9]|[12]\d|3[01]))$/;function MQ(t){if(t==null)return new Date;if(t instanceof Date)return t;if(typeof t=="string"){let r;if(ehe.test(t))return Qge(t);if(r=Date.parse(t),!isNaN(r))return new Date(r)}return null}const Zq=new Date(2e3,0,2);function the(t,r,i){var m;const u=r??((m=pI(t))==null?void 0:m.firstDay)??0;return fQ(7).map(h=>{const x=new Date(Zq);return x.setDate(Zq.getDate()+u+h),new Intl.DateTimeFormat(t,{weekday:i??"narrow"}).format(x)})}function nhe(t,r,i,u){const m=MQ(t)??new Date,h=u==null?void 0:u[r];if(typeof h=="function")return h(m,r,i);let x={};switch(r){case"fullDate":x={year:"numeric",month:"short",day:"numeric"};break;case"fullDateWithWeekday":x={weekday:"long",year:"numeric",month:"long",day:"numeric"};break;case"normalDate":const w=m.getDate(),R=new Intl.DateTimeFormat(i,{month:"long"}).format(m);return`${w} ${R}`;case"normalDateWithWeekday":x={weekday:"short",day:"numeric",month:"short"};break;case"shortDate":x={month:"short",day:"numeric"};break;case"year":x={year:"numeric"};break;case"month":x={month:"long"};break;case"monthShort":x={month:"short"};break;case"monthAndYear":x={month:"long",year:"numeric"};break;case"monthAndDate":x={month:"long",day:"numeric"};break;case"weekday":x={weekday:"long"};break;case"weekdayShort":x={weekday:"short"};break;case"dayOfMonth":return new Intl.NumberFormat(i).format(m.getDate());case"hours12h":x={hour:"numeric",hour12:!0};break;case"hours24h":x={hour:"numeric",hour12:!1};break;case"minutes":x={minute:"numeric"};break;case"seconds":x={second:"numeric"};break;case"fullTime":x={hour:"numeric",minute:"numeric"};break;case"fullTime12h":x={hour:"numeric",minute:"numeric",hour12:!0};break;case"fullTime24h":x={hour:"numeric",minute:"numeric",hour12:!1};break;case"fullDateTime":x={year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"numeric"};break;case"fullDateTime12h":x={year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"numeric",hour12:!0};break;case"fullDateTime24h":x={year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"numeric",hour12:!1};break;case"keyboardDate":x={year:"numeric",month:"2-digit",day:"2-digit"};break;case"keyboardDateTime":return x={year:"numeric",month:"2-digit",day:"2-digit",hour:"numeric",minute:"numeric"},new Intl.DateTimeFormat(i,x).format(m).replace(/, /g," ");case"keyboardDateTime12h":return x={year:"numeric",month:"2-digit",day:"2-digit",hour:"numeric",minute:"numeric",hour12:!0},new Intl.DateTimeFormat(i,x).format(m).replace(/, /g," ");case"keyboardDateTime24h":return x={year:"numeric",month:"2-digit",day:"2-digit",hour:"numeric",minute:"numeric",hour12:!1},new Intl.DateTimeFormat(i,x).format(m).replace(/, /g," ");default:x=h??{timeZone:"UTC",timeZoneName:"short"}}return new Intl.DateTimeFormat(i,x).format(m)}function ohe(t,r){const i=t.toJsDate(r),u=i.getFullYear(),m=Oq(String(i.getMonth()+1),2,"0"),h=Oq(String(i.getDate()),2,"0");return`${u}-${m}-${h}`}function she(t){const[r,i,u]=t.split("-").map(Number);return new Date(r,i-1,u)}function rhe(t,r){const i=new Date(t);return i.setMinutes(i.getMinutes()+r),i}function ihe(t,r){const i=new Date(t);return i.setHours(i.getHours()+r),i}function K6(t,r){const i=new Date(t);return i.setDate(i.getDate()+r),i}function ahe(t,r){const i=new Date(t);return i.setDate(i.getDate()+r*7),i}function lhe(t,r){const i=new Date(t);return i.setDate(1),i.setMonth(i.getMonth()+r),i}function XU(t){return t.getFullYear()}function che(t){return t.getMonth()}function uhe(t,r,i,u){const m=pI(r),h=i??(m==null?void 0:m.firstDay)??0,x=u??(m==null?void 0:m.firstWeekSize)??1;function w(K){const G=new Date(K,0,1);return 7-JU(G,YU(G,r,h),"days")}let R=XU(t);const P=K6(YU(t,r,h),6);R<XU(P)&&w(R+1)>=x&&R++;const A=new Date(R,0,1),M=w(R),H=M>=x?K6(A,M-7):K6(A,M);return 1+JU(LQ(t),vF(H),"weeks")}function dhe(t){return t.getDate()}function fhe(t){return new Date(t.getFullYear(),t.getMonth()+1,1)}function mhe(t){return new Date(t.getFullYear(),t.getMonth()-1,1)}function ghe(t){return t.getHours()}function hhe(t){return t.getMinutes()}function phe(t){return new Date(t.getFullYear(),0,1)}function bhe(t){return new Date(t.getFullYear(),11,31)}function vhe(t,r){return bF(t,r[0])&&whe(t,r[1])}function yhe(t){const r=new Date(t);return r instanceof Date&&!isNaN(r.getTime())}function bF(t,r){return t.getTime()>r.getTime()}function xhe(t,r){return bF(vF(t),vF(r))}function whe(t,r){return t.getTime()<r.getTime()}function Gq(t,r){return t.getTime()===r.getTime()}function Che(t,r){return t.getDate()===r.getDate()&&t.getMonth()===r.getMonth()&&t.getFullYear()===r.getFullYear()}function She(t,r){return t.getMonth()===r.getMonth()&&t.getFullYear()===r.getFullYear()}function _he(t,r){return t.getFullYear()===r.getFullYear()}function JU(t,r,i){const u=new Date(t),m=new Date(r);switch(i){case"years":return u.getFullYear()-m.getFullYear();case"quarters":return Math.floor((u.getMonth()-m.getMonth()+(u.getFullYear()-m.getFullYear())*12)/4);case"months":return u.getMonth()-m.getMonth()+(u.getFullYear()-m.getFullYear())*12;case"weeks":return Math.floor((u.getTime()-m.getTime())/(1e3*60*60*24*7));case"days":return Math.floor((u.getTime()-m.getTime())/(1e3*60*60*24));case"hours":return Math.floor((u.getTime()-m.getTime())/(1e3*60*60));case"minutes":return Math.floor((u.getTime()-m.getTime())/(1e3*60));case"seconds":return Math.floor((u.getTime()-m.getTime())/1e3);default:return u.getTime()-m.getTime()}}function khe(t,r){const i=new Date(t);return i.setHours(r),i}function Ehe(t,r){const i=new Date(t);return i.setMinutes(r),i}function The(t,r){const i=new Date(t);return i.setMonth(r),i}function Ahe(t,r){const i=new Date(t);return i.setDate(r),i}function Ohe(t,r){const i=new Date(t);return i.setFullYear(r),i}function vF(t){return new Date(t.getFullYear(),t.getMonth(),t.getDate(),0,0,0,0)}function LQ(t){return new Date(t.getFullYear(),t.getMonth(),t.getDate(),23,59,59,999)}class Rhe{constructor(r){this.locale=r.locale,this.formats=r.formats}date(r){return MQ(r)}toJsDate(r){return r}toISO(r){return ohe(this,r)}parseISO(r){return she(r)}addMinutes(r,i){return rhe(r,i)}addHours(r,i){return ihe(r,i)}addDays(r,i){return K6(r,i)}addWeeks(r,i){return ahe(r,i)}addMonths(r,i){return lhe(r,i)}getWeekArray(r,i){const u=i!==void 0?Number(i):void 0;return Xge(r,this.locale,u)}startOfWeek(r,i){const u=i!==void 0?Number(i):void 0;return YU(r,this.locale,u)}endOfWeek(r){return Jge(r,this.locale)}startOfMonth(r){return PQ(r)}endOfMonth(r){return NQ(r)}format(r,i){return nhe(r,i,this.locale,this.formats)}isEqual(r,i){return Gq(r,i)}isValid(r){return yhe(r)}isWithinRange(r,i){return vhe(r,i)}isAfter(r,i){return bF(r,i)}isAfterDay(r,i){return xhe(r,i)}isBefore(r,i){return!bF(r,i)&&!Gq(r,i)}isSameDay(r,i){return Che(r,i)}isSameMonth(r,i){return She(r,i)}isSameYear(r,i){return _he(r,i)}setMinutes(r,i){return Ehe(r,i)}setHours(r,i){return khe(r,i)}setMonth(r,i){return The(r,i)}setDate(r,i){return Ahe(r,i)}setYear(r,i){return Ohe(r,i)}getDiff(r,i,u){return JU(r,i,u)}getWeekdays(r,i){const u=r!==void 0?Number(r):void 0;return the(this.locale,u,i)}getYear(r){return XU(r)}getMonth(r){return che(r)}getWeek(r,i,u){const m=i!==void 0?Number(i):void 0;return uhe(r,this.locale,m,u)}getDate(r){return dhe(r)}getNextMonth(r){return fhe(r)}getPreviousMonth(r){return mhe(r)}getHours(r){return ghe(r)}getMinutes(r){return hhe(r)}startOfDay(r){return vF(r)}endOfDay(r){return LQ(r)}startOfYear(r){return phe(r)}endOfYear(r){return bhe(r)}}const Ihe=Symbol.for("vuetify:date-options"),qq=Symbol.for("vuetify:date-adapter");function Dhe(t,r){const i=Wd({adapter:Rhe,locale:{af:"af-ZA",bg:"bg-BG",ca:"ca-ES",ckb:"",cs:"cs-CZ",de:"de-DE",el:"el-GR",en:"en-US",et:"et-EE",fa:"fa-IR",fi:"fi-FI",hr:"hr-HR",hu:"hu-HU",he:"he-IL",id:"id-ID",it:"it-IT",ja:"ja-JP",ko:"ko-KR",lv:"lv-LV",lt:"lt-LT",nl:"nl-NL",no:"no-NO",pl:"pl-PL",pt:"pt-PT",ro:"ro-RO",ru:"ru-RU",sk:"sk-SK",sl:"sl-SI",srCyrl:"sr-SP",srLatn:"sr-SP",sv:"sv-SE",th:"th-TH",tr:"tr-TR",az:"az-AZ",uk:"uk-UA",vi:"vi-VN",zhHans:"zh-CN",zhHant:"zh-TW"}},t);return{options:i,instance:Phe(i,r)}}function Phe(t,r){const i=Oc(typeof t.adapter=="function"?new t.adapter({locale:t.locale[r.current.value]??r.current.value,formats:t.formats}):t.adapter);return Fn(r.current,u=>{i.locale=t.locale[u]??u??i.locale}),i}const qF=["sm","md","lg","xl","xxl"],QU=Symbol.for("vuetify:display"),Yq={mobileBreakpoint:"lg",thresholds:{xs:0,sm:600,md:960,lg:1280,xl:1920,xxl:2560}},Nhe=function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Yq;return Wd(Yq,t)};function Xq(t){return _i&&!t?window.innerWidth:typeof t=="object"&&t.clientWidth||0}function Jq(t){return _i&&!t?window.innerHeight:typeof t=="object"&&t.clientHeight||0}function Qq(t){const r=_i&&!t?window.navigator.userAgent:"ssr";function i(G){return!!r.match(G)}const u=i(/android/i),m=i(/iphone|ipad|ipod/i),h=i(/cordova/i),x=i(/electron/i),w=i(/chrome/i),R=i(/edge/i),P=i(/firefox/i),A=i(/opera/i),M=i(/win/i),H=i(/mac/i),K=i(/linux/i);return{android:u,ios:m,cordova:h,electron:x,chrome:w,edge:R,firefox:P,opera:A,win:M,mac:H,linux:K,touch:tge,ssr:r==="ssr"}}function Mhe(t,r){const{thresholds:i,mobileBreakpoint:u}=Nhe(t),m=Do(Jq(r)),h=Do(Qq(r)),x=Oc({}),w=Do(Xq(r));function R(){m.value=Jq(),w.value=Xq()}function P(){R(),h.value=Qq()}return Wf(()=>{const A=w.value<i.sm,M=w.value<i.md&&!A,H=w.value<i.lg&&!(M||A),K=w.value<i.xl&&!(H||M||A),G=w.value<i.xxl&&!(K||H||M||A),te=w.value>=i.xxl,re=A?"xs":M?"sm":H?"md":K?"lg":G?"xl":"xxl",W=typeof u=="number"?u:i[u],ge=w.value<W;x.xs=A,x.sm=M,x.md=H,x.lg=K,x.xl=G,x.xxl=te,x.smAndUp=!A,x.mdAndUp=!(A||M),x.lgAndUp=!(A||M||H),x.xlAndUp=!(A||M||H||K),x.smAndDown=!(H||K||G||te),x.mdAndDown=!(K||G||te),x.lgAndDown=!(G||te),x.xlAndDown=!te,x.name=re,x.height=m.value,x.width=w.value,x.mobile=ge,x.mobileBreakpoint=u,x.platform=h.value,x.thresholds=i}),_i&&(window.addEventListener("resize",R,{passive:!0}),tu(()=>{window.removeEventListener("resize",R)},!0)),{...$F(x),update:P,ssr:!!r}}const BQ=qn({mobile:{type:Boolean,default:!1},mobileBreakpoint:[Number,String]},"display");function YF(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{mobile:null},r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Bv();const i=Ea(QU);if(!i)throw new Error("Could not find Vuetify display injection");const u=Mt(()=>t.mobile?!0:typeof t.mobileBreakpoint=="number"?i.width.value<t.mobileBreakpoint:t.mobileBreakpoint?i.width.value<i.thresholds.value[t.mobileBreakpoint]:t.mobile===null?i.mobile.value:!1),m=En(()=>r?{[`${r}--mobile`]:u.value}:{});return{...i,displayClasses:m,mobile:u}}const FQ=Symbol.for("vuetify:goto");function $Q(){return{container:void 0,duration:300,layout:!1,offset:0,easing:"easeInOutCubic",patterns:{linear:t=>t,easeInQuad:t=>t**2,easeOutQuad:t=>t*(2-t),easeInOutQuad:t=>t<.5?2*t**2:-1+(4-2*t)*t,easeInCubic:t=>t**3,easeOutCubic:t=>--t**3+1,easeInOutCubic:t=>t<.5?4*t**3:(t-1)*(2*t-2)*(2*t-2)+1,easeInQuart:t=>t**4,easeOutQuart:t=>1- --t**4,easeInOutQuart:t=>t<.5?8*t**4:1-8*--t**4,easeInQuint:t=>t**5,easeOutQuint:t=>1+--t**5,easeInOutQuint:t=>t<.5?16*t**5:1+16*--t**5}}}function Lhe(t){return JW(t)??(document.scrollingElement||document.body)}function JW(t){return typeof t=="string"?document.querySelector(t):mQ(t)}function G9(t,r,i){if(typeof t=="number")return r&&i?-t:t;let u=JW(t),m=0;for(;u;)m+=r?u.offsetLeft:u.offsetTop,u=u.offsetParent;return m}function Bhe(t,r){return{rtl:r.isRtl,options:Wd($Q(),t)}}async function eY(t,r,i,u){const m=i?"scrollLeft":"scrollTop",h=Wd((u==null?void 0:u.options)??$Q(),r),x=u==null?void 0:u.rtl.value,w=(typeof t=="number"?t:JW(t))??0,R=h.container==="parent"&&w instanceof HTMLElement?w.parentElement:Lhe(h.container),P=typeof h.easing=="function"?h.easing:h.patterns[h.easing];if(!P)throw new TypeError(`Easing function "${h.easing}" not found.`);let A;if(typeof w=="number")A=G9(w,i,x);else if(A=G9(w,i,x)-G9(R,i,x),h.layout){const G=window.getComputedStyle(w).getPropertyValue("--v-layout-top");G&&(A-=parseInt(G,10))}A+=h.offset,A=$he(R,A,!!x,!!i);const M=R[m]??0;if(A===M)return Promise.resolve(A);const H=performance.now();return new Promise(K=>requestAnimationFrame(function G(te){const W=(te-H)/h.duration,ge=Math.floor(M+(A-M)*P(Lm(W,0,1)));if(R[m]=ge,W>=1&&Math.abs(ge-R[m])<10)return K(A);if(W>2)return K(R[m]);requestAnimationFrame(G)}))}function Fhe(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const r=Ea(FQ),{isRtl:i}=ep();if(!r)throw new Error("[Vuetify] Could not find injected goto instance");const u={...r,rtl:En(()=>r.rtl.value||i.value)};async function m(h,x){return eY(h,Wd(t,x),!1,u)}return m.horizontal=async(h,x)=>eY(h,Wd(t,x),!0,u),m}function $he(t,r,i,u){const{scrollWidth:m,scrollHeight:h}=t,[x,w]=t===document.scrollingElement?[window.innerWidth,window.innerHeight]:[t.offsetWidth,t.offsetHeight];let R,P;return u?i?(R=-(m-x),P=0):(R=0,P=m-x):(R=0,P=h+-w),Lm(r,R,P)}const Vhe={collapse:"mdi-chevron-up",complete:"mdi-check",cancel:"mdi-close-circle",close:"mdi-close",delete:"mdi-close-circle",clear:"mdi-close-circle",success:"mdi-check-circle",info:"mdi-information",warning:"mdi-alert-circle",error:"mdi-close-circle",prev:"mdi-chevron-left",next:"mdi-chevron-right",checkboxOn:"mdi-checkbox-marked",checkboxOff:"mdi-checkbox-blank-outline",checkboxIndeterminate:"mdi-minus-box",delimiter:"mdi-circle",sortAsc:"mdi-arrow-up",sortDesc:"mdi-arrow-down",expand:"mdi-chevron-down",menu:"mdi-menu",subgroup:"mdi-menu-down",dropdown:"mdi-menu-down",radioOn:"mdi-radiobox-marked",radioOff:"mdi-radiobox-blank",edit:"mdi-pencil",ratingEmpty:"mdi-star-outline",ratingFull:"mdi-star",ratingHalf:"mdi-star-half-full",loading:"mdi-cached",first:"mdi-page-first",last:"mdi-page-last",unfold:"mdi-unfold-more-horizontal",file:"mdi-paperclip",plus:"mdi-plus",minus:"mdi-minus",calendar:"mdi-calendar",treeviewCollapse:"mdi-menu-down",treeviewExpand:"mdi-menu-right",eyeDropper:"mdi-eyedropper",upload:"mdi-cloud-upload",color:"mdi-palette",command:"mdi-apple-keyboard-command",ctrl:"mdi-apple-keyboard-control",space:"mdi-keyboard-space",shift:"mdi-apple-keyboard-shift",alt:"mdi-apple-keyboard-option",enter:"mdi-keyboard-return",arrowup:"mdi-arrow-up",arrowdown:"mdi-arrow-down",arrowleft:"mdi-arrow-left",arrowright:"mdi-arrow-right",backspace:"mdi-backspace"},zhe={component:t=>Nv(zQ,{...t,class:"mdi"})},fi=[String,Function,Object,Array],eW=Symbol.for("vuetify:icons"),XF=qn({icon:{type:fi},tag:{type:[String,Object,Function],required:!0}},"icon"),tY=ts()({name:"VComponentIcon",props:XF(),setup(t,r){let{slots:i}=r;return()=>{const u=t.icon;return ce(t.tag,null,{default:()=>{var m;return[t.icon?ce(u,null,null):(m=i.default)==null?void 0:m.call(i)]}})}}}),VQ=VE({name:"VSvgIcon",inheritAttrs:!1,props:XF(),setup(t,r){let{attrs:i}=r;return()=>ce(t.tag,Xo(i,{style:null}),{default:()=>[ie("svg",{class:"v-icon__svg",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",role:"img","aria-hidden":"true"},[Array.isArray(t.icon)?t.icon.map(u=>Array.isArray(u)?ie("path",{d:u[0],"fill-opacity":u[1]},null):ie("path",{d:u},null)):ie("path",{d:t.icon},null)])]})}});VE({name:"VLigatureIcon",props:XF(),setup(t){return()=>ce(t.tag,null,{default:()=>[t.icon]})}});const zQ=VE({name:"VClassIcon",props:XF(),setup(t){return()=>ce(t.tag,{class:xo(t.icon)},null)}});function Hhe(){return{svg:{component:VQ},class:{component:zQ}}}function Uhe(t){const r=Hhe(),i=(t==null?void 0:t.defaultSet)??"mdi";return i==="mdi"&&!r.mdi&&(r.mdi=zhe),Wd({defaultSet:i,sets:r,aliases:{...Vhe,vuetify:["M8.2241 14.2009L12 21L22 3H14.4459L8.2241 14.2009Z",["M7.26303 12.4733L7.00113 12L2 3H12.5261C12.5261 3 12.5261 3 12.5261 3L7.26303 12.4733Z",.6]],"vuetify-outline":"svg:M7.26 12.47 12.53 3H2L7.26 12.47ZM14.45 3 8.22 14.2 12 21 22 3H14.45ZM18.6 5 12 16.88 10.51 14.2 15.62 5ZM7.26 8.35 5.4 5H9.13L7.26 8.35Z","vuetify-play":["m6.376 13.184-4.11-7.192C1.505 4.66 2.467 3 4.003 3h8.532l-.953 1.576-.006.01-.396.677c-.429.732-.214 1.507.194 2.015.404.503 1.092.878 1.869.806a3.72 3.72 0 0 1 1.005.022c.276.053.434.143.523.237.138.146.38.635-.25 2.09-.893 1.63-1.553 1.722-1.847 1.677-.213-.033-.468-.158-.756-.406a4.95 4.95 0 0 1-.8-.927c-.39-.564-1.04-.84-1.66-.846-.625-.006-1.316.27-1.693.921l-.478.826-.911 1.506Z",["M9.093 11.552c.046-.079.144-.15.32-.148a.53.53 0 0 1 .43.207c.285.414.636.847 1.046 1.2.405.35.914.662 1.516.754 1.334.205 2.502-.698 3.48-2.495l.014-.028.013-.03c.687-1.574.774-2.852-.005-3.675-.37-.391-.861-.586-1.333-.676a5.243 5.243 0 0 0-1.447-.044c-.173.016-.393-.073-.54-.257-.145-.18-.127-.316-.082-.392l.393-.672L14.287 3h5.71c1.536 0 2.499 1.659 1.737 2.992l-7.997 13.996c-.768 1.344-2.706 1.344-3.473 0l-3.037-5.314 1.377-2.278.004-.006.004-.007.481-.831Z",.6]]}},t)}const Whe=t=>{const r=Ea(eW);if(!r)throw new Error("Missing Vuetify Icons provide!");return{iconData:Mt(()=>{var R;const u=Pv(t);if(!u)return{component:tY};let m=u;if(typeof m=="string"&&(m=m.trim(),m.startsWith("$")&&(m=(R=r.aliases)==null?void 0:R[m.slice(1)])),Array.isArray(m))return{component:VQ,icon:m};if(typeof m!="string")return{component:tY,icon:m};const h=Object.keys(r.sets).find(P=>typeof m=="string"&&m.startsWith(`${P}:`)),x=h?m.slice(h.length+1):m;return{component:r.sets[h??r.defaultSet].component,icon:x}})}},KR=Symbol.for("vuetify:theme"),sc=qn({theme:String},"theme");function nY(){return{defaultTheme:"light",prefix:"v-",variations:{colors:[],lighten:0,darken:0},themes:{light:{dark:!1,colors:{background:"#FFFFFF",surface:"#FFFFFF","surface-bright":"#FFFFFF","surface-light":"#EEEEEE","surface-variant":"#424242","on-surface-variant":"#EEEEEE",primary:"#1867C0","primary-darken-1":"#1F5592",secondary:"#48A9A6","secondary-darken-1":"#018786",error:"#B00020",info:"#2196F3",success:"#4CAF50",warning:"#FB8C00"},variables:{"border-color":"#000000","border-opacity":.12,"high-emphasis-opacity":.87,"medium-emphasis-opacity":.6,"disabled-opacity":.38,"idle-opacity":.04,"hover-opacity":.04,"focus-opacity":.12,"selected-opacity":.08,"activated-opacity":.12,"pressed-opacity":.12,"dragged-opacity":.08,"theme-kbd":"#EEEEEE","theme-on-kbd":"#000000","theme-code":"#F5F5F5","theme-on-code":"#000000"}},dark:{dark:!0,colors:{background:"#121212",surface:"#212121","surface-bright":"#ccbfd6","surface-light":"#424242","surface-variant":"#c8c8c8","on-surface-variant":"#000000",primary:"#2196F3","primary-darken-1":"#277CC1",secondary:"#54B6B2","secondary-darken-1":"#48A9A6",error:"#CF6679",info:"#2196F3",success:"#4CAF50",warning:"#FB8C00"},variables:{"border-color":"#FFFFFF","border-opacity":.12,"high-emphasis-opacity":1,"medium-emphasis-opacity":.7,"disabled-opacity":.5,"idle-opacity":.1,"hover-opacity":.04,"focus-opacity":.12,"selected-opacity":.08,"activated-opacity":.12,"pressed-opacity":.16,"dragged-opacity":.08,"theme-kbd":"#424242","theme-on-kbd":"#FFFFFF","theme-code":"#343434","theme-on-code":"#CCCCCC"}}},stylesheetId:"vuetify-theme-stylesheet",scoped:!1,unimportant:!1,utilities:!0}}function Khe(){var u,m;let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:nY();const r=nY();if(!t)return{...r,isDisabled:!0};const i={};for(const[h,x]of Object.entries(t.themes??{})){const w=x.dark||h==="dark"?(u=r.themes)==null?void 0:u.dark:(m=r.themes)==null?void 0:m.light;i[h]=Wd(w,x)}return Wd(r,{...t,themes:i})}function LC(t,r,i,u){t.push(`${qhe(r,u)} {
`,...i.map(m=>`  ${m};
`),`}
`)}function oY(t,r){const i=t.dark?2:1,u=t.dark?1:2,m=[];for(const[h,x]of Object.entries(t.colors)){const w=Ov(x);m.push(`--${r}theme-${h}: ${w.r},${w.g},${w.b}`),h.startsWith("on-")||m.push(`--${r}theme-${h}-overlay-multiplier: ${Lge(x)>.18?i:u}`)}for(const[h,x]of Object.entries(t.variables)){const w=typeof x=="string"&&x.startsWith("#")?Ov(x):void 0,R=w?`${w.r}, ${w.g}, ${w.b}`:void 0;m.push(`--${r}${h}: ${R??x}`)}return m}function jhe(t,r,i){const u={};if(i)for(const m of["lighten","darken"]){const h=m==="lighten"?Nge:Mge;for(const x of fQ(i[m],1))u[`${t}-${m}-${x}`]=Ige(h(Ov(r),x))}return u}function Zhe(t,r){if(!r)return{};let i={};for(const u of r.colors){const m=t[u];m&&(i={...i,...jhe(u,m,r)})}return i}function Ghe(t){const r={};for(const i of Object.keys(t)){if(i.startsWith("on-")||t[`on-${i}`])continue;const u=`on-${i}`,m=Ov(t[i]);r[u]=TQ(m)}return r}function qhe(t,r){if(!r)return t;const i=`:where(${r})`;return t===":root"?i:`${i} ${t}`}function Yhe(t,r,i){const u=Xhe(t,r);u&&(u.innerHTML=i)}function Xhe(t,r){if(!_i)return null;let i=document.getElementById(t);return i||(i=document.createElement("style"),i.id=t,i.type="text/css",r&&i.setAttribute("nonce",r),document.head.appendChild(i)),i}function Jhe(t){const r=Khe(t),i=Do(r.defaultTheme),u=Ln(r.themes),m=Do("light"),h=Mt({get(){return i.value==="system"?m.value:i.value},set(W){i.value=W}}),x=Mt(()=>{const W={};for(const[ge,he]of Object.entries(u.value)){const j={...he.colors,...Zhe(he.colors,r.variations)};W[ge]={...he,colors:{...j,...Ghe(j)}}}return W}),w=En(()=>x.value[h.value]),R=Mt(()=>{var j;const W=[],ge=r.unimportant?"":" !important",he=r.scoped?r.prefix:"";(j=w.value)!=null&&j.dark&&LC(W,":root",["color-scheme: dark"],r.scope),LC(W,":root",oY(w.value,r.prefix),r.scope);for(const[me,oe]of Object.entries(x.value))LC(W,`.${r.prefix}theme--${me}`,[`color-scheme: ${oe.dark?"dark":"normal"}`,...oY(oe,r.prefix)],r.scope);if(r.utilities){const me=[],oe=[],Ce=new Set(Object.values(x.value).flatMap(Ue=>Object.keys(Ue.colors)));for(const Ue of Ce)Ue.startsWith("on-")?LC(oe,`.${Ue}`,[`color: rgb(var(--${r.prefix}theme-${Ue}))${ge}`],r.scope):(LC(me,`.${he}bg-${Ue}`,[`--${r.prefix}theme-overlay-multiplier: var(--${r.prefix}theme-${Ue}-overlay-multiplier)`,`background-color: rgb(var(--${r.prefix}theme-${Ue}))${ge}`,`color: rgb(var(--${r.prefix}theme-on-${Ue}))${ge}`],r.scope),LC(oe,`.${he}text-${Ue}`,[`color: rgb(var(--${r.prefix}theme-${Ue}))${ge}`],r.scope),LC(oe,`.${he}border-${Ue}`,[`--${r.prefix}border-color: var(--${r.prefix}theme-${Ue})`],r.scope));W.push(...me,...oe)}return W.map((me,oe)=>oe===0?me:`    ${me}`).join("")}),P=En(()=>r.isDisabled?void 0:`${r.prefix}theme--${h.value}`),A=En(()=>Object.keys(x.value));if(nge){let ge=function(){m.value=W.matches?"dark":"light"};var re=ge;const W=window.matchMedia("(prefers-color-scheme: dark)");ge(),W.addEventListener("change",ge,{passive:!0}),kW()&&tu(()=>{W.removeEventListener("change",ge)})}function M(W){if(r.isDisabled)return;const ge=W._context.provides.usehead;if(ge){let me=function(){return{style:[{textContent:R.value,id:r.stylesheetId,nonce:r.cspNonce||!1}]}};var he=me;if(ge.push){const oe=ge.push(me);_i&&Fn(R,()=>{oe.patch(me)})}else _i?(ge.addHeadObjs(En(me)),Wf(()=>ge.updateDOM())):ge.addHeadObjs(me())}else{let me=function(){Yhe(r.stylesheetId,r.cspNonce,R.value)};var j=me;_i?Fn(R,me,{immediate:!0}):me()}}function H(W){A.value.includes(W)&&(h.value=W)}function K(){let W=arguments.length>0&&arguments[0]!==void 0?arguments[0]:A.value;const ge=W.indexOf(h.value),he=ge===-1?0:(ge+1)%W.length;H(W[he])}function G(){let W=arguments.length>0&&arguments[0]!==void 0?arguments[0]:["light","dark"];K(W)}const te=new Proxy(h,{get(W,ge){return Reflect.get(W,ge)},set(W,ge,he){return ge==="value"&&CQ(`theme.global.name.value = ${he}`,`theme.change('${he}')`),Reflect.set(W,ge,he)}});return{install:M,change:H,cycle:K,toggle:G,isDisabled:r.isDisabled,name:h,themes:u,current:w,computedThemes:x,prefix:r.prefix,themeClasses:P,styles:R,global:{name:te,current:w}}}function nu(t){wc("provideTheme");const r=Ea(KR,null);if(!r)throw new Error("Could not find Vuetify theme injection");const i=En(()=>t.theme??r.name.value),u=En(()=>r.themes.value[i.value]),m=En(()=>r.isDisabled?void 0:`${r.prefix}theme--${i.value}`),h={...r,name:i,current:u,themeClasses:m};return Kf(KR,h),h}function Qhe(){wc("useTheme");const t=Ea(KR,null);if(!t)throw new Error("Could not find Vuetify theme injection");return t}function IE(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"content";const i=KU(),u=Ln();if(_i){const m=new ResizeObserver(h=>{h.length&&(r==="content"?u.value=h[0].contentRect:u.value=h[0].target.getBoundingClientRect())});Du(()=>{m.disconnect()}),Fn(()=>i.el,(h,x)=>{x&&(m.unobserve(x),u.value=void 0),h&&m.observe(h)},{flush:"post"})}return{resizeRef:i,contentRect:FE(u)}}const yF=Symbol.for("vuetify:layout"),HQ=Symbol.for("vuetify:layout-item"),sY=1e3,epe=qn({overlaps:{type:Array,default:()=>[]},fullHeight:Boolean},"layout"),UQ=qn({name:{type:String},order:{type:[Number,String],default:0},absolute:Boolean},"layout-item");function tpe(){const t=Ea(yF);if(!t)throw new Error("[Vuetify] Could not find injected layout");return{getLayoutItem:t.getLayoutItem,mainRect:t.mainRect,mainStyles:t.mainStyles}}function WQ(t){const r=Ea(yF);if(!r)throw new Error("[Vuetify] Could not find injected layout");const i=t.id??`layout-item-${z1()}`,u=wc("useLayoutItem");Kf(HQ,{id:i});const m=Do(!1);HF(()=>m.value=!0),LW(()=>m.value=!1);const{layoutItemStyles:h,layoutItemScrimStyles:x}=r.register(u,{...t,active:Mt(()=>m.value?!1:t.active.value),id:i});return Du(()=>r.unregister(i)),{layoutItemStyles:h,layoutRect:r.layoutRect,layoutItemScrimStyles:x}}const npe=(t,r,i,u)=>{let m={top:0,left:0,right:0,bottom:0};const h=[{id:"",layer:{...m}}];for(const x of t){const w=r.get(x),R=i.get(x),P=u.get(x);if(!w||!R||!P)continue;const A={...m,[w.value]:parseInt(m[w.value],10)+(P.value?parseInt(R.value,10):0)};h.push({id:x,layer:A}),m=A}return h};function ope(t){const r=Ea(yF,null),i=Mt(()=>r?r.rootZIndex.value-100:sY),u=Ln([]),m=Oc(new Map),h=Oc(new Map),x=Oc(new Map),w=Oc(new Map),R=Oc(new Map),{resizeRef:P,contentRect:A}=IE(),M=Mt(()=>{const oe=new Map,Ce=t.overlaps??[];for(const Ue of Ce.filter(et=>et.includes(":"))){const[et,dt]=Ue.split(":");if(!u.value.includes(et)||!u.value.includes(dt))continue;const Me=m.get(et),Ne=m.get(dt),I=h.get(et),st=h.get(dt);!Me||!Ne||!I||!st||(oe.set(dt,{position:Me.value,amount:parseInt(I.value,10)}),oe.set(et,{position:Ne.value,amount:-parseInt(st.value,10)}))}return oe}),H=Mt(()=>{const oe=[...new Set([...x.values()].map(Ue=>Ue.value))].sort((Ue,et)=>Ue-et),Ce=[];for(const Ue of oe){const et=u.value.filter(dt=>{var Me;return((Me=x.get(dt))==null?void 0:Me.value)===Ue});Ce.push(...et)}return npe(Ce,m,h,w)}),K=Mt(()=>!Array.from(R.values()).some(oe=>oe.value)),G=Mt(()=>H.value[H.value.length-1].layer),te=En(()=>({"--v-layout-left":Fs(G.value.left),"--v-layout-right":Fs(G.value.right),"--v-layout-top":Fs(G.value.top),"--v-layout-bottom":Fs(G.value.bottom),...K.value?void 0:{transition:"none"}})),re=Mt(()=>H.value.slice(1).map((oe,Ce)=>{let{id:Ue}=oe;const{layer:et}=H.value[Ce],dt=h.get(Ue),Me=m.get(Ue);return{id:Ue,...et,size:Number(dt.value),position:Me.value}})),W=oe=>re.value.find(Ce=>Ce.id===oe),ge=wc("createLayout"),he=Do(!1);Zd(()=>{he.value=!0}),Kf(yF,{register:(oe,Ce)=>{let{id:Ue,order:et,position:dt,layoutSize:Me,elementSize:Ne,active:I,disableTransitions:st,absolute:it}=Ce;x.set(Ue,et),m.set(Ue,dt),h.set(Ue,Me),w.set(Ue,I),st&&R.set(Ue,st);const Yt=hE(HQ,ge==null?void 0:ge.vnode).indexOf(oe);Yt>-1?u.value.splice(Yt,0,Ue):u.value.push(Ue);const mt=Mt(()=>re.value.findIndex(Ve=>Ve.id===Ue)),Rn=Mt(()=>i.value+H.value.length*2-mt.value*2),Ot=Mt(()=>{const Ve=dt.value==="left"||dt.value==="right",bt=dt.value==="right",Yn=dt.value==="bottom",Xt=Ne.value??Me.value,Bn=Xt===0?"%":"px",Qt={[dt.value]:0,zIndex:Rn.value,transform:`translate${Ve?"X":"Y"}(${(I.value?0:-(Xt===0?100:Xt))*(bt||Yn?-1:1)}${Bn})`,position:it.value||i.value!==sY?"absolute":"fixed",...K.value?void 0:{transition:"none"}};if(!he.value)return Qt;const ee=re.value[mt.value];if(!ee)throw new Error(`[Vuetify] Could not find layout item "${Ue}"`);const vo=M.value.get(Ue);return vo&&(ee[vo.position]+=vo.amount),{...Qt,height:Ve?`calc(100% - ${ee.top}px - ${ee.bottom}px)`:Ne.value?`${Ne.value}px`:void 0,left:bt?void 0:`${ee.left}px`,right:bt?`${ee.right}px`:void 0,top:dt.value!=="bottom"?`${ee.top}px`:void 0,bottom:dt.value!=="top"?`${ee.bottom}px`:void 0,width:Ve?Ne.value?`${Ne.value}px`:void 0:`calc(100% - ${ee.left}px - ${ee.right}px)`}}),at=Mt(()=>({zIndex:Rn.value-1}));return{layoutItemStyles:Ot,layoutItemScrimStyles:at,zIndex:Rn}},unregister:oe=>{x.delete(oe),m.delete(oe),h.delete(oe),w.delete(oe),R.delete(oe),u.value=u.value.filter(Ce=>Ce!==oe)},mainRect:G,mainStyles:te,getLayoutItem:W,items:re,layoutRect:A,rootZIndex:i});const j=En(()=>["v-layout",{"v-layout--full-height":t.fullHeight}]),me=En(()=>({zIndex:r?i.value:void 0,position:r?"relative":void 0,overflow:r?"hidden":void 0}));return{layoutClasses:j,layoutStyles:me,getLayoutItem:W,items:re,layoutRect:A,layoutRef:P}}function KQ(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{blueprint:r,...i}=t,u=Wd(r,i),{aliases:m={},components:h={},directives:x={}}=u,w=Wx();return w.run(()=>{const R=Fge(u.defaults),P=Mhe(u.display,u.ssr),A=Jhe(u.theme),M=Uhe(u.icons),H=Gge(u.locale),K=Dhe(u.date,H),G=Bhe(u.goTo,H);function te(W){for(const he in x)W.directive(he,x[he]);for(const he in h)W.component(he,h[he]);for(const he in m)W.component(he,VE({...m[he],name:he,aliasName:m[he].name}));const ge=Wx();if(ge.run(()=>{A.install(W)}),W.onUnmount(()=>ge.stop()),W.provide(RE,R),W.provide(QU,P),W.provide(KR,A),W.provide(eW,M),W.provide(pF,H),W.provide(Ihe,K.options),W.provide(qq,K.instance),W.provide(FQ,G),_i&&u.ssr)if(W.$nuxt)W.$nuxt.hook("app:suspense:resolve",()=>{P.update()});else{const{mount:he}=W;W.mount=function(){const j=he(...arguments);return ys(()=>P.update()),W.mount=he,j}}W.mixin({computed:{$vuetify(){return Oc({defaults:oE.call(this,RE),display:oE.call(this,QU),theme:oE.call(this,KR),icons:oE.call(this,eW),locale:oE.call(this,pF),date:oE.call(this,qq)})}}})}function re(){w.stop()}return{install:te,unmount:re,defaults:R,display:P,theme:A,icons:M,locale:H,date:K,goTo:G}})}const spe="3.9.0";KQ.version=spe;function oE(t){var u,m;const r=this.$,i=((u=r.parent)==null?void 0:u.provides)??((m=r.vnode.appContext)==null?void 0:m.provides);if(i&&t in i)return i[t]}const rpe=KQ({theme:{themes:{light:{colors:{primary:"#1867C0",secondary:"#5CBBF6"}}}}});/*!
 * pinia v2.3.1
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */let jQ;const JF=t=>jQ=t,ZQ=Symbol();function tW(t){return t&&typeof t=="object"&&Object.prototype.toString.call(t)==="[object Object]"&&typeof t.toJSON!="function"}var DR;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(DR||(DR={}));function ipe(){const t=Wx(!0),r=t.run(()=>Ln({}));let i=[],u=[];const m=PW({install(h){JF(m),m._a=h,h.provide(ZQ,m),h.config.globalProperties.$pinia=m,u.forEach(x=>i.push(x)),u=[]},use(h){return this._a?i.push(h):u.push(h),this},_p:i,_a:null,_e:t,_s:new Map,state:r});return m}const GQ=()=>{};function rY(t,r,i,u=GQ){t.push(r);const m=()=>{const h=t.indexOf(r);h>-1&&(t.splice(h,1),u())};return!i&&kW()&&tu(m),m}function sE(t,...r){t.slice().forEach(i=>{i(...r)})}const ape=t=>t(),iY=Symbol(),q9=Symbol();function nW(t,r){t instanceof Map&&r instanceof Map?r.forEach((i,u)=>t.set(u,i)):t instanceof Set&&r instanceof Set&&r.forEach(t.add,t);for(const i in r){if(!r.hasOwnProperty(i))continue;const u=r[i],m=t[i];tW(m)&&tW(u)&&t.hasOwnProperty(i)&&!Ua(u)&&!Hx(u)?t[i]=nW(m,u):t[i]=u}return t}const lpe=Symbol();function cpe(t){return!tW(t)||!t.hasOwnProperty(lpe)}const{assign:Nx}=Object;function upe(t){return!!(Ua(t)&&t.effect)}function dpe(t,r,i,u){const{state:m,actions:h,getters:x}=r,w=i.state.value[t];let R;function P(){w||(i.state.value[t]=m?m():{});const A=$F(i.state.value[t]);return Nx(A,h,Object.keys(x||{}).reduce((M,H)=>(M[H]=PW(Mt(()=>{JF(i);const K=i._s.get(t);return x[H].call(K,K)})),M),{}))}return R=qQ(t,P,r,i,u,!0),R}function qQ(t,r,i={},u,m,h){let x;const w=Nx({actions:{}},i),R={deep:!0};let P,A,M=[],H=[],K;const G=u.state.value[t];!h&&!G&&(u.state.value[t]={}),Ln({});let te;function re(Ue){let et;P=A=!1,typeof Ue=="function"?(Ue(u.state.value[t]),et={type:DR.patchFunction,storeId:t,events:K}):(nW(u.state.value[t],Ue),et={type:DR.patchObject,payload:Ue,storeId:t,events:K});const dt=te=Symbol();ys().then(()=>{te===dt&&(P=!0)}),A=!0,sE(M,et,u.state.value[t])}const W=h?function(){const{state:et}=i,dt=et?et():{};this.$patch(Me=>{Nx(Me,dt)})}:GQ;function ge(){x.stop(),M=[],H=[],u._s.delete(t)}const he=(Ue,et="")=>{if(iY in Ue)return Ue[q9]=et,Ue;const dt=function(){JF(u);const Me=Array.from(arguments),Ne=[],I=[];function st(Yt){Ne.push(Yt)}function it(Yt){I.push(Yt)}sE(H,{args:Me,name:dt[q9],store:me,after:st,onError:it});let Ft;try{Ft=Ue.apply(this&&this.$id===t?this:me,Me)}catch(Yt){throw sE(I,Yt),Yt}return Ft instanceof Promise?Ft.then(Yt=>(sE(Ne,Yt),Yt)).catch(Yt=>(sE(I,Yt),Promise.reject(Yt))):(sE(Ne,Ft),Ft)};return dt[iY]=!0,dt[q9]=et,dt},j={_p:u,$id:t,$onAction:rY.bind(null,H),$patch:re,$reset:W,$subscribe(Ue,et={}){const dt=rY(M,Ue,et.detached,()=>Me()),Me=x.run(()=>Fn(()=>u.state.value[t],Ne=>{(et.flush==="sync"?A:P)&&Ue({storeId:t,type:DR.direct,events:K},Ne)},Nx({},R,et)));return dt},$dispose:ge},me=Oc(j);u._s.set(t,me);const Ce=(u._a&&u._a.runWithContext||ape)(()=>u._e.run(()=>(x=Wx()).run(()=>r({action:he}))));for(const Ue in Ce){const et=Ce[Ue];if(Ua(et)&&!upe(et)||Hx(et))h||(G&&cpe(et)&&(Ua(et)?et.value=G[Ue]:nW(et,G[Ue])),u.state.value[t][Ue]=et);else if(typeof et=="function"){const dt=he(et,Ue);Ce[Ue]=dt,w.actions[Ue]=et}}return Nx(me,Ce),Nx(Ns(me),Ce),Object.defineProperty(me,"$state",{get:()=>u.state.value[t],set:Ue=>{re(et=>{Nx(et,Ue)})}}),u._p.forEach(Ue=>{Nx(me,x.run(()=>Ue({store:me,app:u._a,pinia:u,options:w})))}),G&&h&&i.hydrate&&i.hydrate(me.$state,G),P=!0,A=!0,me}/*! #__NO_SIDE_EFFECTS__ */function ou(t,r,i){let u,m;const h=typeof r=="function";typeof t=="string"?(u=t,m=h?i:r):(m=t,u=t.id);function x(w,R){const P=Hfe();return w=w||(P?Ea(ZQ,null):null),w&&JF(w),w=jQ,w._s.has(u)||(h?qQ(u,r,m,w):dpe(u,m,w)),w._s.get(u)}return x.$id=u,x}const fpe=ipe();/*!
  * shared v11.1.9
  * (c) 2025 kazuya kawaguchi
  * Released under the MIT License.
  */const aY=typeof window<"u",YQ=(t,r=!1)=>r?Symbol.for(t):Symbol(t),mpe=(t,r,i)=>gpe({l:t,k:r,s:i}),gpe=t=>JSON.stringify(t).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029").replace(/\u0027/g,"\\u0027"),Pm=t=>typeof t=="number"&&isFinite(t),xF=t=>JQ(t)==="[object RegExp]",hpe=t=>Hd(t)&&Object.keys(t).length===0,HE=Object.assign,ppe=Object.create,jd=(t=null)=>ppe(t);let lY;const QW=()=>lY||(lY=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:jd());function cY(t){return t.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")}const bpe=Object.prototype.hasOwnProperty;function lb(t,r){return bpe.call(t,r)}const Mv=Array.isArray,oc=t=>typeof t=="function",Ur=t=>typeof t=="string",zf=t=>typeof t=="boolean",Ul=t=>t!==null&&typeof t=="object",vpe=t=>Ul(t)&&oc(t.then)&&oc(t.catch),XQ=Object.prototype.toString,JQ=t=>XQ.call(t),Hd=t=>JQ(t)==="[object Object]",ype=t=>t==null?"":Mv(t)||Hd(t)&&t.toString===XQ?JSON.stringify(t,null,2):String(t);function eK(t,r=""){return t.reduce((i,u,m)=>m===0?i+u:i+r+u,"")}function xpe(t,r){typeof console<"u"&&(console.warn("[intlify] "+t),r&&console.warn(r.stack))}const I6=t=>!Ul(t)||Mv(t);function j6(t,r){if(I6(t)||I6(r))throw new Error("Invalid value");const i=[{src:t,des:r}];for(;i.length;){const{src:u,des:m}=i.pop();Object.keys(u).forEach(h=>{h!=="__proto__"&&(Ul(u[h])&&!Ul(m[h])&&(m[h]=Array.isArray(u[h])?[]:jd()),I6(m[h])||I6(u[h])?m[h]=u[h]:i.push({src:u[h],des:m[h]}))})}}/*!
  * message-compiler v11.1.9
  * (c) 2025 kazuya kawaguchi
  * Released under the MIT License.
  */function wpe(t,r,i){return{line:t,column:r,offset:i}}function oW(t,r,i){return{start:t,end:r}}const Xi={EXPECTED_TOKEN:1,INVALID_TOKEN_IN_PLACEHOLDER:2,UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER:3,UNKNOWN_ESCAPE_SEQUENCE:4,INVALID_UNICODE_ESCAPE_SEQUENCE:5,UNBALANCED_CLOSING_BRACE:6,UNTERMINATED_CLOSING_BRACE:7,EMPTY_PLACEHOLDER:8,NOT_ALLOW_NEST_PLACEHOLDER:9,INVALID_LINKED_FORMAT:10,MUST_HAVE_MESSAGES_IN_PLURAL:11,UNEXPECTED_EMPTY_LINKED_MODIFIER:12,UNEXPECTED_EMPTY_LINKED_KEY:13,UNEXPECTED_LEXICAL_ANALYSIS:14},Cpe=17;function QF(t,r,i={}){const{domain:u,messages:m,args:h}=i,x=t,w=new SyntaxError(String(x));return w.code=t,r&&(w.location=r),w.domain=u,w}function Spe(t){throw t}const S1=" ",_pe="\r",Ff=`
`,kpe="\u2028",Epe="\u2029";function Tpe(t){const r=t;let i=0,u=1,m=1,h=0;const x=Ce=>r[Ce]===_pe&&r[Ce+1]===Ff,w=Ce=>r[Ce]===Ff,R=Ce=>r[Ce]===Epe,P=Ce=>r[Ce]===kpe,A=Ce=>x(Ce)||w(Ce)||R(Ce)||P(Ce),M=()=>i,H=()=>u,K=()=>m,G=()=>h,te=Ce=>x(Ce)||R(Ce)||P(Ce)?Ff:r[Ce],re=()=>te(i),W=()=>te(i+h);function ge(){return h=0,A(i)&&(u++,m=0),x(i)&&i++,i++,m++,r[i]}function he(){return x(i+h)&&h++,h++,r[i+h]}function j(){i=0,u=1,m=1,h=0}function me(Ce=0){h=Ce}function oe(){const Ce=i+h;for(;Ce!==i;)ge();h=0}return{index:M,line:H,column:K,peekOffset:G,charAt:te,currentChar:re,currentPeek:W,next:ge,peek:he,reset:j,resetPeek:me,skipToPeek:oe}}const Rx=void 0,Ape=".",uY="'",Ope="tokenizer";function Rpe(t,r={}){const i=r.location!==!1,u=Tpe(t),m=()=>u.index(),h=()=>wpe(u.line(),u.column(),u.index()),x=h(),w=m(),R={currentType:13,offset:w,startLoc:x,endLoc:x,lastType:13,lastOffset:w,lastStartLoc:x,lastEndLoc:x,braceNest:0,inLinked:!1,text:""},P=()=>R,{onError:A}=r;function M(Ae,Fe,Je,...wt){const pn=P();if(Fe.column+=Je,Fe.offset+=Je,A){const en=i?oW(pn.startLoc,Fe):null,An=QF(Ae,en,{domain:Ope,args:wt});A(An)}}function H(Ae,Fe,Je){Ae.endLoc=h(),Ae.currentType=Fe;const wt={type:Fe};return i&&(wt.loc=oW(Ae.startLoc,Ae.endLoc)),Je!=null&&(wt.value=Je),wt}const K=Ae=>H(Ae,13);function G(Ae,Fe){return Ae.currentChar()===Fe?(Ae.next(),Fe):(M(Xi.EXPECTED_TOKEN,h(),0,Fe),"")}function te(Ae){let Fe="";for(;Ae.currentPeek()===S1||Ae.currentPeek()===Ff;)Fe+=Ae.currentPeek(),Ae.peek();return Fe}function re(Ae){const Fe=te(Ae);return Ae.skipToPeek(),Fe}function W(Ae){if(Ae===Rx)return!1;const Fe=Ae.charCodeAt(0);return Fe>=97&&Fe<=122||Fe>=65&&Fe<=90||Fe===95}function ge(Ae){if(Ae===Rx)return!1;const Fe=Ae.charCodeAt(0);return Fe>=48&&Fe<=57}function he(Ae,Fe){const{currentType:Je}=Fe;if(Je!==2)return!1;te(Ae);const wt=W(Ae.currentPeek());return Ae.resetPeek(),wt}function j(Ae,Fe){const{currentType:Je}=Fe;if(Je!==2)return!1;te(Ae);const wt=Ae.currentPeek()==="-"?Ae.peek():Ae.currentPeek(),pn=ge(wt);return Ae.resetPeek(),pn}function me(Ae,Fe){const{currentType:Je}=Fe;if(Je!==2)return!1;te(Ae);const wt=Ae.currentPeek()===uY;return Ae.resetPeek(),wt}function oe(Ae,Fe){const{currentType:Je}=Fe;if(Je!==7)return!1;te(Ae);const wt=Ae.currentPeek()===".";return Ae.resetPeek(),wt}function Ce(Ae,Fe){const{currentType:Je}=Fe;if(Je!==8)return!1;te(Ae);const wt=W(Ae.currentPeek());return Ae.resetPeek(),wt}function Ue(Ae,Fe){const{currentType:Je}=Fe;if(!(Je===7||Je===11))return!1;te(Ae);const wt=Ae.currentPeek()===":";return Ae.resetPeek(),wt}function et(Ae,Fe){const{currentType:Je}=Fe;if(Je!==9)return!1;const wt=()=>{const en=Ae.currentPeek();return en==="{"?W(Ae.peek()):en==="@"||en==="|"||en===":"||en==="."||en===S1||!en?!1:en===Ff?(Ae.peek(),wt()):Me(Ae,!1)},pn=wt();return Ae.resetPeek(),pn}function dt(Ae){te(Ae);const Fe=Ae.currentPeek()==="|";return Ae.resetPeek(),Fe}function Me(Ae,Fe=!0){const Je=(pn=!1,en="")=>{const An=Ae.currentPeek();return An==="{"||An==="@"||!An?pn:An==="|"?!(en===S1||en===Ff):An===S1?(Ae.peek(),Je(!0,S1)):An===Ff?(Ae.peek(),Je(!0,Ff)):!0},wt=Je();return Fe&&Ae.resetPeek(),wt}function Ne(Ae,Fe){const Je=Ae.currentChar();return Je===Rx?Rx:Fe(Je)?(Ae.next(),Je):null}function I(Ae){const Fe=Ae.charCodeAt(0);return Fe>=97&&Fe<=122||Fe>=65&&Fe<=90||Fe>=48&&Fe<=57||Fe===95||Fe===36}function st(Ae){return Ne(Ae,I)}function it(Ae){const Fe=Ae.charCodeAt(0);return Fe>=97&&Fe<=122||Fe>=65&&Fe<=90||Fe>=48&&Fe<=57||Fe===95||Fe===36||Fe===45}function Ft(Ae){return Ne(Ae,it)}function Yt(Ae){const Fe=Ae.charCodeAt(0);return Fe>=48&&Fe<=57}function mt(Ae){return Ne(Ae,Yt)}function Rn(Ae){const Fe=Ae.charCodeAt(0);return Fe>=48&&Fe<=57||Fe>=65&&Fe<=70||Fe>=97&&Fe<=102}function Ot(Ae){return Ne(Ae,Rn)}function at(Ae){let Fe="",Je="";for(;Fe=mt(Ae);)Je+=Fe;return Je}function Ve(Ae){let Fe="";for(;;){const Je=Ae.currentChar();if(Je==="{"||Je==="}"||Je==="@"||Je==="|"||!Je)break;if(Je===S1||Je===Ff)if(Me(Ae))Fe+=Je,Ae.next();else{if(dt(Ae))break;Fe+=Je,Ae.next()}else Fe+=Je,Ae.next()}return Fe}function bt(Ae){re(Ae);let Fe="",Je="";for(;Fe=Ft(Ae);)Je+=Fe;return Ae.currentChar()===Rx&&M(Xi.UNTERMINATED_CLOSING_BRACE,h(),0),Je}function Yn(Ae){re(Ae);let Fe="";return Ae.currentChar()==="-"?(Ae.next(),Fe+=`-${at(Ae)}`):Fe+=at(Ae),Ae.currentChar()===Rx&&M(Xi.UNTERMINATED_CLOSING_BRACE,h(),0),Fe}function Xt(Ae){return Ae!==uY&&Ae!==Ff}function Bn(Ae){re(Ae),G(Ae,"'");let Fe="",Je="";for(;Fe=Ne(Ae,Xt);)Fe==="\\"?Je+=Qt(Ae):Je+=Fe;const wt=Ae.currentChar();return wt===Ff||wt===Rx?(M(Xi.UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER,h(),0),wt===Ff&&(Ae.next(),G(Ae,"'")),Je):(G(Ae,"'"),Je)}function Qt(Ae){const Fe=Ae.currentChar();switch(Fe){case"\\":case"'":return Ae.next(),`\\${Fe}`;case"u":return ee(Ae,Fe,4);case"U":return ee(Ae,Fe,6);default:return M(Xi.UNKNOWN_ESCAPE_SEQUENCE,h(),0,Fe),""}}function ee(Ae,Fe,Je){G(Ae,Fe);let wt="";for(let pn=0;pn<Je;pn++){const en=Ot(Ae);if(!en){M(Xi.INVALID_UNICODE_ESCAPE_SEQUENCE,h(),0,`\\${Fe}${wt}${Ae.currentChar()}`);break}wt+=en}return`\\${Fe}${wt}`}function vo(Ae){return Ae!=="{"&&Ae!=="}"&&Ae!==S1&&Ae!==Ff}function nn(Ae){re(Ae);let Fe="",Je="";for(;Fe=Ne(Ae,vo);)Je+=Fe;return Je}function yn(Ae){let Fe="",Je="";for(;Fe=st(Ae);)Je+=Fe;return Je}function qe(Ae){const Fe=Je=>{const wt=Ae.currentChar();return wt==="{"||wt==="@"||wt==="|"||wt==="("||wt===")"||!wt||wt===S1?Je:(Je+=wt,Ae.next(),Fe(Je))};return Fe("")}function lt(Ae){re(Ae);const Fe=G(Ae,"|");return re(Ae),Fe}function Se(Ae,Fe){let Je=null;switch(Ae.currentChar()){case"{":return Fe.braceNest>=1&&M(Xi.NOT_ALLOW_NEST_PLACEHOLDER,h(),0),Ae.next(),Je=H(Fe,2,"{"),re(Ae),Fe.braceNest++,Je;case"}":return Fe.braceNest>0&&Fe.currentType===2&&M(Xi.EMPTY_PLACEHOLDER,h(),0),Ae.next(),Je=H(Fe,3,"}"),Fe.braceNest--,Fe.braceNest>0&&re(Ae),Fe.inLinked&&Fe.braceNest===0&&(Fe.inLinked=!1),Je;case"@":return Fe.braceNest>0&&M(Xi.UNTERMINATED_CLOSING_BRACE,h(),0),Je=Pe(Ae,Fe)||K(Fe),Fe.braceNest=0,Je;default:{let pn=!0,en=!0,An=!0;if(dt(Ae))return Fe.braceNest>0&&M(Xi.UNTERMINATED_CLOSING_BRACE,h(),0),Je=H(Fe,1,lt(Ae)),Fe.braceNest=0,Fe.inLinked=!1,Je;if(Fe.braceNest>0&&(Fe.currentType===4||Fe.currentType===5||Fe.currentType===6))return M(Xi.UNTERMINATED_CLOSING_BRACE,h(),0),Fe.braceNest=0,Ke(Ae,Fe);if(pn=he(Ae,Fe))return Je=H(Fe,4,bt(Ae)),re(Ae),Je;if(en=j(Ae,Fe))return Je=H(Fe,5,Yn(Ae)),re(Ae),Je;if(An=me(Ae,Fe))return Je=H(Fe,6,Bn(Ae)),re(Ae),Je;if(!pn&&!en&&!An)return Je=H(Fe,12,nn(Ae)),M(Xi.INVALID_TOKEN_IN_PLACEHOLDER,h(),0,Je.value),re(Ae),Je;break}}return Je}function Pe(Ae,Fe){const{currentType:Je}=Fe;let wt=null;const pn=Ae.currentChar();switch((Je===7||Je===8||Je===11||Je===9)&&(pn===Ff||pn===S1)&&M(Xi.INVALID_LINKED_FORMAT,h(),0),pn){case"@":return Ae.next(),wt=H(Fe,7,"@"),Fe.inLinked=!0,wt;case".":return re(Ae),Ae.next(),H(Fe,8,".");case":":return re(Ae),Ae.next(),H(Fe,9,":");default:return dt(Ae)?(wt=H(Fe,1,lt(Ae)),Fe.braceNest=0,Fe.inLinked=!1,wt):oe(Ae,Fe)||Ue(Ae,Fe)?(re(Ae),Pe(Ae,Fe)):Ce(Ae,Fe)?(re(Ae),H(Fe,11,yn(Ae))):et(Ae,Fe)?(re(Ae),pn==="{"?Se(Ae,Fe)||wt:H(Fe,10,qe(Ae))):(Je===7&&M(Xi.INVALID_LINKED_FORMAT,h(),0),Fe.braceNest=0,Fe.inLinked=!1,Ke(Ae,Fe))}}function Ke(Ae,Fe){let Je={type:13};if(Fe.braceNest>0)return Se(Ae,Fe)||K(Fe);if(Fe.inLinked)return Pe(Ae,Fe)||K(Fe);switch(Ae.currentChar()){case"{":return Se(Ae,Fe)||K(Fe);case"}":return M(Xi.UNBALANCED_CLOSING_BRACE,h(),0),Ae.next(),H(Fe,3,"}");case"@":return Pe(Ae,Fe)||K(Fe);default:{if(dt(Ae))return Je=H(Fe,1,lt(Ae)),Fe.braceNest=0,Fe.inLinked=!1,Je;if(Me(Ae))return H(Fe,0,Ve(Ae));break}}return Je}function xe(){const{currentType:Ae,offset:Fe,startLoc:Je,endLoc:wt}=R;return R.lastType=Ae,R.lastOffset=Fe,R.lastStartLoc=Je,R.lastEndLoc=wt,R.offset=m(),R.startLoc=h(),u.currentChar()===Rx?H(R,13):Ke(u,R)}return{nextToken:xe,currentOffset:m,currentPosition:h,context:P}}const Ipe="parser",Dpe=/(?:\\\\|\\'|\\u([0-9a-fA-F]{4})|\\U([0-9a-fA-F]{6}))/g;function Ppe(t,r,i){switch(t){case"\\\\":return"\\";case"\\'":return"'";default:{const u=parseInt(r||i,16);return u<=55295||u>=57344?String.fromCodePoint(u):""}}}function Npe(t={}){const r=t.location!==!1,{onError:i}=t;function u(W,ge,he,j,...me){const oe=W.currentPosition();if(oe.offset+=j,oe.column+=j,i){const Ce=r?oW(he,oe):null,Ue=QF(ge,Ce,{domain:Ipe,args:me});i(Ue)}}function m(W,ge,he){const j={type:W};return r&&(j.start=ge,j.end=ge,j.loc={start:he,end:he}),j}function h(W,ge,he,j){r&&(W.end=ge,W.loc&&(W.loc.end=he))}function x(W,ge){const he=W.context(),j=m(3,he.offset,he.startLoc);return j.value=ge,h(j,W.currentOffset(),W.currentPosition()),j}function w(W,ge){const he=W.context(),{lastOffset:j,lastStartLoc:me}=he,oe=m(5,j,me);return oe.index=parseInt(ge,10),W.nextToken(),h(oe,W.currentOffset(),W.currentPosition()),oe}function R(W,ge){const he=W.context(),{lastOffset:j,lastStartLoc:me}=he,oe=m(4,j,me);return oe.key=ge,W.nextToken(),h(oe,W.currentOffset(),W.currentPosition()),oe}function P(W,ge){const he=W.context(),{lastOffset:j,lastStartLoc:me}=he,oe=m(9,j,me);return oe.value=ge.replace(Dpe,Ppe),W.nextToken(),h(oe,W.currentOffset(),W.currentPosition()),oe}function A(W){const ge=W.nextToken(),he=W.context(),{lastOffset:j,lastStartLoc:me}=he,oe=m(8,j,me);return ge.type!==11?(u(W,Xi.UNEXPECTED_EMPTY_LINKED_MODIFIER,he.lastStartLoc,0),oe.value="",h(oe,j,me),{nextConsumeToken:ge,node:oe}):(ge.value==null&&u(W,Xi.UNEXPECTED_LEXICAL_ANALYSIS,he.lastStartLoc,0,Cv(ge)),oe.value=ge.value||"",h(oe,W.currentOffset(),W.currentPosition()),{node:oe})}function M(W,ge){const he=W.context(),j=m(7,he.offset,he.startLoc);return j.value=ge,h(j,W.currentOffset(),W.currentPosition()),j}function H(W){const ge=W.context(),he=m(6,ge.offset,ge.startLoc);let j=W.nextToken();if(j.type===8){const me=A(W);he.modifier=me.node,j=me.nextConsumeToken||W.nextToken()}switch(j.type!==9&&u(W,Xi.UNEXPECTED_LEXICAL_ANALYSIS,ge.lastStartLoc,0,Cv(j)),j=W.nextToken(),j.type===2&&(j=W.nextToken()),j.type){case 10:j.value==null&&u(W,Xi.UNEXPECTED_LEXICAL_ANALYSIS,ge.lastStartLoc,0,Cv(j)),he.key=M(W,j.value||"");break;case 4:j.value==null&&u(W,Xi.UNEXPECTED_LEXICAL_ANALYSIS,ge.lastStartLoc,0,Cv(j)),he.key=R(W,j.value||"");break;case 5:j.value==null&&u(W,Xi.UNEXPECTED_LEXICAL_ANALYSIS,ge.lastStartLoc,0,Cv(j)),he.key=w(W,j.value||"");break;case 6:j.value==null&&u(W,Xi.UNEXPECTED_LEXICAL_ANALYSIS,ge.lastStartLoc,0,Cv(j)),he.key=P(W,j.value||"");break;default:{u(W,Xi.UNEXPECTED_EMPTY_LINKED_KEY,ge.lastStartLoc,0);const me=W.context(),oe=m(7,me.offset,me.startLoc);return oe.value="",h(oe,me.offset,me.startLoc),he.key=oe,h(he,me.offset,me.startLoc),{nextConsumeToken:j,node:he}}}return h(he,W.currentOffset(),W.currentPosition()),{node:he}}function K(W){const ge=W.context(),he=ge.currentType===1?W.currentOffset():ge.offset,j=ge.currentType===1?ge.endLoc:ge.startLoc,me=m(2,he,j);me.items=[];let oe=null;do{const et=oe||W.nextToken();switch(oe=null,et.type){case 0:et.value==null&&u(W,Xi.UNEXPECTED_LEXICAL_ANALYSIS,ge.lastStartLoc,0,Cv(et)),me.items.push(x(W,et.value||""));break;case 5:et.value==null&&u(W,Xi.UNEXPECTED_LEXICAL_ANALYSIS,ge.lastStartLoc,0,Cv(et)),me.items.push(w(W,et.value||""));break;case 4:et.value==null&&u(W,Xi.UNEXPECTED_LEXICAL_ANALYSIS,ge.lastStartLoc,0,Cv(et)),me.items.push(R(W,et.value||""));break;case 6:et.value==null&&u(W,Xi.UNEXPECTED_LEXICAL_ANALYSIS,ge.lastStartLoc,0,Cv(et)),me.items.push(P(W,et.value||""));break;case 7:{const dt=H(W);me.items.push(dt.node),oe=dt.nextConsumeToken||null;break}}}while(ge.currentType!==13&&ge.currentType!==1);const Ce=ge.currentType===1?ge.lastOffset:W.currentOffset(),Ue=ge.currentType===1?ge.lastEndLoc:W.currentPosition();return h(me,Ce,Ue),me}function G(W,ge,he,j){const me=W.context();let oe=j.items.length===0;const Ce=m(1,ge,he);Ce.cases=[],Ce.cases.push(j);do{const Ue=K(W);oe||(oe=Ue.items.length===0),Ce.cases.push(Ue)}while(me.currentType!==13);return oe&&u(W,Xi.MUST_HAVE_MESSAGES_IN_PLURAL,he,0),h(Ce,W.currentOffset(),W.currentPosition()),Ce}function te(W){const ge=W.context(),{offset:he,startLoc:j}=ge,me=K(W);return ge.currentType===13?me:G(W,he,j,me)}function re(W){const ge=Rpe(W,HE({},t)),he=ge.context(),j=m(0,he.offset,he.startLoc);return r&&j.loc&&(j.loc.source=W),j.body=te(ge),t.onCacheKey&&(j.cacheKey=t.onCacheKey(W)),he.currentType!==13&&u(ge,Xi.UNEXPECTED_LEXICAL_ANALYSIS,he.lastStartLoc,0,W[he.offset]||""),h(j,ge.currentOffset(),ge.currentPosition()),j}return{parse:re}}function Cv(t){if(t.type===13)return"EOF";const r=(t.value||"").replace(/\r?\n/gu,"\\n");return r.length>10?r.slice(0,9)+"":r}function Mpe(t,r={}){const i={ast:t,helpers:new Set};return{context:()=>i,helper:h=>(i.helpers.add(h),h)}}function dY(t,r){for(let i=0;i<t.length;i++)tK(t[i],r)}function tK(t,r){switch(t.type){case 1:dY(t.cases,r),r.helper("plural");break;case 2:dY(t.items,r);break;case 6:{tK(t.key,r),r.helper("linked"),r.helper("type");break}case 5:r.helper("interpolate"),r.helper("list");break;case 4:r.helper("interpolate"),r.helper("named");break}}function Lpe(t,r={}){const i=Mpe(t);i.helper("normalize"),t.body&&tK(t.body,i);const u=i.context();t.helpers=Array.from(u.helpers)}function Bpe(t){const r=t.body;return r.type===2?fY(r):r.cases.forEach(i=>fY(i)),t}function fY(t){if(t.items.length===1){const r=t.items[0];(r.type===3||r.type===9)&&(t.static=r.value,delete r.value)}else{const r=[];for(let i=0;i<t.items.length;i++){const u=t.items[i];if(!(u.type===3||u.type===9)||u.value==null)break;r.push(u.value)}if(r.length===t.items.length){t.static=eK(r);for(let i=0;i<t.items.length;i++){const u=t.items[i];(u.type===3||u.type===9)&&delete u.value}}}}function gE(t){switch(t.t=t.type,t.type){case 0:{const r=t;gE(r.body),r.b=r.body,delete r.body;break}case 1:{const r=t,i=r.cases;for(let u=0;u<i.length;u++)gE(i[u]);r.c=i,delete r.cases;break}case 2:{const r=t,i=r.items;for(let u=0;u<i.length;u++)gE(i[u]);r.i=i,delete r.items,r.static&&(r.s=r.static,delete r.static);break}case 3:case 9:case 8:case 7:{const r=t;r.value&&(r.v=r.value,delete r.value);break}case 6:{const r=t;gE(r.key),r.k=r.key,delete r.key,r.modifier&&(gE(r.modifier),r.m=r.modifier,delete r.modifier);break}case 5:{const r=t;r.i=r.index,delete r.index;break}case 4:{const r=t;r.k=r.key,delete r.key;break}}delete t.type}function Fpe(t,r){const{filename:i,breakLineCode:u,needIndent:m}=r,h=r.location!==!1,x={filename:i,code:"",column:1,line:1,offset:0,map:void 0,breakLineCode:u,needIndent:m,indentLevel:0};h&&t.loc&&(x.source=t.loc.source);const w=()=>x;function R(te,re){x.code+=te}function P(te,re=!0){const W=re?u:"";R(m?W+"  ".repeat(te):W)}function A(te=!0){const re=++x.indentLevel;te&&P(re)}function M(te=!0){const re=--x.indentLevel;te&&P(re)}function H(){P(x.indentLevel)}return{context:w,push:R,indent:A,deindent:M,newline:H,helper:te=>`_${te}`,needIndent:()=>x.needIndent}}function $pe(t,r){const{helper:i}=t;t.push(`${i("linked")}(`),DE(t,r.key),r.modifier?(t.push(", "),DE(t,r.modifier),t.push(", _type")):t.push(", undefined, _type"),t.push(")")}function Vpe(t,r){const{helper:i,needIndent:u}=t;t.push(`${i("normalize")}([`),t.indent(u());const m=r.items.length;for(let h=0;h<m&&(DE(t,r.items[h]),h!==m-1);h++)t.push(", ");t.deindent(u()),t.push("])")}function zpe(t,r){const{helper:i,needIndent:u}=t;if(r.cases.length>1){t.push(`${i("plural")}([`),t.indent(u());const m=r.cases.length;for(let h=0;h<m&&(DE(t,r.cases[h]),h!==m-1);h++)t.push(", ");t.deindent(u()),t.push("])")}}function Hpe(t,r){r.body?DE(t,r.body):t.push("null")}function DE(t,r){const{helper:i}=t;switch(r.type){case 0:Hpe(t,r);break;case 1:zpe(t,r);break;case 2:Vpe(t,r);break;case 6:$pe(t,r);break;case 8:t.push(JSON.stringify(r.value),r);break;case 7:t.push(JSON.stringify(r.value),r);break;case 5:t.push(`${i("interpolate")}(${i("list")}(${r.index}))`,r);break;case 4:t.push(`${i("interpolate")}(${i("named")}(${JSON.stringify(r.key)}))`,r);break;case 9:t.push(JSON.stringify(r.value),r);break;case 3:t.push(JSON.stringify(r.value),r);break}}const Upe=(t,r={})=>{const i=Ur(r.mode)?r.mode:"normal",u=Ur(r.filename)?r.filename:"message.intl";r.sourceMap;const m=r.breakLineCode!=null?r.breakLineCode:i==="arrow"?";":`
`,h=r.needIndent?r.needIndent:i!=="arrow",x=t.helpers||[],w=Fpe(t,{filename:u,breakLineCode:m,needIndent:h});w.push(i==="normal"?"function __msg__ (ctx) {":"(ctx) => {"),w.indent(h),x.length>0&&(w.push(`const { ${eK(x.map(A=>`${A}: _${A}`),", ")} } = ctx`),w.newline()),w.push("return "),DE(w,t),w.deindent(h),w.push("}"),delete t.helpers;const{code:R,map:P}=w.context();return{ast:t,code:R,map:P?P.toJSON():void 0}};function Wpe(t,r={}){const i=HE({},r),u=!!i.jit,m=!!i.minify,h=i.optimize==null?!0:i.optimize,w=Npe(i).parse(t);return u?(h&&Bpe(w),m&&gE(w),{ast:w,code:""}):(Lpe(w,i),Upe(w,i))}/*!
  * core-base v11.1.9
  * (c) 2025 kazuya kawaguchi
  * Released under the MIT License.
  */function Kpe(){typeof __INTLIFY_PROD_DEVTOOLS__!="boolean"&&(QW().__INTLIFY_PROD_DEVTOOLS__=!1)}function Ux(t){return Ul(t)&&nK(t)===0&&(lb(t,"b")||lb(t,"body"))}const QQ=["b","body"];function jpe(t){return Xx(t,QQ)}const eee=["c","cases"];function Zpe(t){return Xx(t,eee,[])}const tee=["s","static"];function Gpe(t){return Xx(t,tee)}const nee=["i","items"];function qpe(t){return Xx(t,nee,[])}const oee=["t","type"];function nK(t){return Xx(t,oee)}const see=["v","value"];function D6(t,r){const i=Xx(t,see);if(i!=null)return i;throw jR(r)}const ree=["m","modifier"];function Ype(t){return Xx(t,ree)}const iee=["k","key"];function Xpe(t){const r=Xx(t,iee);if(r)return r;throw jR(6)}function Xx(t,r,i){for(let u=0;u<r.length;u++){const m=r[u];if(lb(t,m)&&t[m]!=null)return t[m]}return i}const Jpe=[...QQ,...eee,...tee,...nee,...iee,...ree,...see,...oee];function jR(t){return new Error(`unhandled node type: ${t}`)}function Y9(t){return i=>Qpe(i,t)}function Qpe(t,r){const i=jpe(r);if(i==null)throw jR(0);if(nK(i)===1){const h=Zpe(i);return t.plural(h.reduce((x,w)=>[...x,mY(t,w)],[]))}else return mY(t,i)}function mY(t,r){const i=Gpe(r);if(i!=null)return t.type==="text"?i:t.normalize([i]);{const u=qpe(r).reduce((m,h)=>[...m,sW(t,h)],[]);return t.normalize(u)}}function sW(t,r){const i=nK(r);switch(i){case 3:return D6(r,i);case 9:return D6(r,i);case 4:{const u=r;if(lb(u,"k")&&u.k)return t.interpolate(t.named(u.k));if(lb(u,"key")&&u.key)return t.interpolate(t.named(u.key));throw jR(i)}case 5:{const u=r;if(lb(u,"i")&&Pm(u.i))return t.interpolate(t.list(u.i));if(lb(u,"index")&&Pm(u.index))return t.interpolate(t.list(u.index));throw jR(i)}case 6:{const u=r,m=Ype(u),h=Xpe(u);return t.linked(sW(t,h),m?sW(t,m):void 0,t.type)}case 7:return D6(r,i);case 8:return D6(r,i);default:throw new Error(`unhandled node on format message part: ${i}`)}}const ebe=t=>t;let P6=jd();function tbe(t,r={}){let i=!1;const u=r.onError||Spe;return r.onError=m=>{i=!0,u(m)},{...Wpe(t,r),detectError:i}}function nbe(t,r){if(Ur(t)){zf(r.warnHtmlMessage)&&r.warnHtmlMessage;const u=(r.onCacheKey||ebe)(t),m=P6[u];if(m)return m;const{ast:h,detectError:x}=tbe(t,{...r,location:!1,jit:!0}),w=Y9(h);return x?w:P6[u]=w}else{const i=t.cacheKey;if(i){const u=P6[i];return u||(P6[i]=Y9(t))}else return Y9(t)}}let ZR=null;function obe(t){ZR=t}function sbe(t,r,i){ZR&&ZR.emit("i18n:init",{timestamp:Date.now(),i18n:t,version:r,meta:i})}const rbe=ibe("function:translate");function ibe(t){return r=>ZR&&ZR.emit(t,r)}const Z6={INVALID_ARGUMENT:Cpe,NOT_SUPPORT_LOCALE_PROMISE_VALUE:21,NOT_SUPPORT_LOCALE_ASYNC_FUNCTION:22,NOT_SUPPORT_LOCALE_TYPE:23},abe=24;function G6(t){return QF(t,null,void 0)}function lbe(t,r){return r.locale!=null?gY(r.locale):gY(t.locale)}let X9;function gY(t){if(Ur(t))return t;if(oc(t)){if(t.resolvedOnce&&X9!=null)return X9;if(t.constructor.name==="Function"){const r=t();if(vpe(r))throw G6(Z6.NOT_SUPPORT_LOCALE_PROMISE_VALUE);return X9=r}else throw G6(Z6.NOT_SUPPORT_LOCALE_ASYNC_FUNCTION)}else throw G6(Z6.NOT_SUPPORT_LOCALE_TYPE)}function cbe(t,r,i){return[...new Set([i,...Mv(r)?r:Ul(r)?Object.keys(r):Ur(r)?[r]:[i]])]}function ube(t,r){return Ul(t)?t[r]:null}const dbe="11.1.9",aee=-1,rW="en-US",hY=t=>`${t.charAt(0).toLocaleUpperCase()}${t.substr(1)}`;function fbe(){return{upper:(t,r)=>r==="text"&&Ur(t)?t.toUpperCase():r==="vnode"&&Ul(t)&&"__v_isVNode"in t?t.children.toUpperCase():t,lower:(t,r)=>r==="text"&&Ur(t)?t.toLowerCase():r==="vnode"&&Ul(t)&&"__v_isVNode"in t?t.children.toLowerCase():t,capitalize:(t,r)=>r==="text"&&Ur(t)?hY(t):r==="vnode"&&Ul(t)&&"__v_isVNode"in t?hY(t.children):t}}let lee;function mbe(t){lee=t}let cee=null;const gbe=t=>{cee=t},hbe=()=>cee;let uee=null;const pY=t=>{uee=t},pbe=()=>uee;let bY=0;function bbe(t={}){const r=oc(t.onWarn)?t.onWarn:xpe,i=Ur(t.version)?t.version:dbe,u=Ur(t.locale)||oc(t.locale)?t.locale:rW,m=oc(u)?rW:u,h=Mv(t.fallbackLocale)||Hd(t.fallbackLocale)||Ur(t.fallbackLocale)||t.fallbackLocale===!1?t.fallbackLocale:m,x=Hd(t.messages)?t.messages:J9(m),w=Hd(t.datetimeFormats)?t.datetimeFormats:J9(m),R=Hd(t.numberFormats)?t.numberFormats:J9(m),P=HE(jd(),t.modifiers,fbe()),A=t.pluralRules||jd(),M=oc(t.missing)?t.missing:null,H=zf(t.missingWarn)||xF(t.missingWarn)?t.missingWarn:!0,K=zf(t.fallbackWarn)||xF(t.fallbackWarn)?t.fallbackWarn:!0,G=!!t.fallbackFormat,te=!!t.unresolving,re=oc(t.postTranslation)?t.postTranslation:null,W=Hd(t.processor)?t.processor:null,ge=zf(t.warnHtmlMessage)?t.warnHtmlMessage:!0,he=!!t.escapeParameter,j=oc(t.messageCompiler)?t.messageCompiler:lee,me=oc(t.messageResolver)?t.messageResolver:ube,oe=oc(t.localeFallbacker)?t.localeFallbacker:cbe,Ce=Ul(t.fallbackContext)?t.fallbackContext:void 0,Ue=t,et=Ul(Ue.__datetimeFormatters)?Ue.__datetimeFormatters:new Map,dt=Ul(Ue.__numberFormatters)?Ue.__numberFormatters:new Map,Me=Ul(Ue.__meta)?Ue.__meta:{};bY++;const Ne={version:i,cid:bY,locale:u,fallbackLocale:h,messages:x,modifiers:P,pluralRules:A,missing:M,missingWarn:H,fallbackWarn:K,fallbackFormat:G,unresolving:te,postTranslation:re,processor:W,warnHtmlMessage:ge,escapeParameter:he,messageCompiler:j,messageResolver:me,localeFallbacker:oe,fallbackContext:Ce,onWarn:r,__meta:Me};return Ne.datetimeFormats=w,Ne.numberFormats=R,Ne.__datetimeFormatters=et,Ne.__numberFormatters=dt,__INTLIFY_PROD_DEVTOOLS__&&sbe(Ne,i,Me),Ne}const J9=t=>({[t]:jd()});function vbe(t,r,i,u,m){const{missing:h,onWarn:x}=t;if(h!==null){const w=h(t,i,r,m);return Ur(w)?w:r}else return r}function bR(t,r,i){const u=t;u.__localeChainCache=new Map,t.localeFallbacker(t,i,r)}function ybe(t,r){return t===r?!1:t.split("-")[0]===r.split("-")[0]}function xbe(t,r){const i=r.indexOf(t);if(i===-1)return!1;for(let u=i+1;u<r.length;u++)if(ybe(t,r[u]))return!0;return!1}const wbe=t=>t,Cbe=t=>"",Sbe="text",_be=t=>t.length===0?"":eK(t),kbe=ype;function vY(t,r){return t=Math.abs(t),r===2?t?t>1?1:0:1:t?Math.min(t,2):0}function Ebe(t){const r=Pm(t.pluralIndex)?t.pluralIndex:-1;return t.named&&(Pm(t.named.count)||Pm(t.named.n))?Pm(t.named.count)?t.named.count:Pm(t.named.n)?t.named.n:r:r}function Tbe(t,r){r.count||(r.count=t),r.n||(r.n=t)}function Abe(t={}){const r=t.locale,i=Ebe(t),u=Ul(t.pluralRules)&&Ur(r)&&oc(t.pluralRules[r])?t.pluralRules[r]:vY,m=Ul(t.pluralRules)&&Ur(r)&&oc(t.pluralRules[r])?vY:void 0,h=W=>W[u(i,W.length,m)],x=t.list||[],w=W=>x[W],R=t.named||jd();Pm(t.pluralIndex)&&Tbe(i,R);const P=W=>R[W];function A(W,ge){const he=oc(t.messages)?t.messages(W,!!ge):Ul(t.messages)?t.messages[W]:!1;return he||(t.parent?t.parent.message(W):Cbe)}const M=W=>t.modifiers?t.modifiers[W]:wbe,H=Hd(t.processor)&&oc(t.processor.normalize)?t.processor.normalize:_be,K=Hd(t.processor)&&oc(t.processor.interpolate)?t.processor.interpolate:kbe,G=Hd(t.processor)&&Ur(t.processor.type)?t.processor.type:Sbe,re={list:w,named:P,plural:h,linked:(W,...ge)=>{const[he,j]=ge;let me="text",oe="";ge.length===1?Ul(he)?(oe=he.modifier||oe,me=he.type||me):Ur(he)&&(oe=he||oe):ge.length===2&&(Ur(he)&&(oe=he||oe),Ur(j)&&(me=j||me));const Ce=A(W,!0)(re),Ue=me==="vnode"&&Mv(Ce)&&oe?Ce[0]:Ce;return oe?M(oe)(Ue,me):Ue},message:A,type:G,interpolate:K,normalize:H,values:HE(jd(),x,R)};return re}const yY=()=>"",ib=t=>oc(t);function Obe(t,...r){const{fallbackFormat:i,postTranslation:u,unresolving:m,messageCompiler:h,fallbackLocale:x,messages:w}=t,[R,P]=mee(...r),A=zf(P.missingWarn)?P.missingWarn:t.missingWarn,M=zf(P.fallbackWarn)?P.fallbackWarn:t.fallbackWarn,H=zf(P.escapeParameter)?P.escapeParameter:t.escapeParameter,K=!!P.resolvedMessage,G=Ur(P.default)||zf(P.default)?zf(P.default)?h?R:()=>R:P.default:i?h?R:()=>R:null,te=i||G!=null&&(Ur(G)||oc(G)),re=lbe(t,P);H&&Rbe(P);let[W,ge,he]=K?[R,re,w[re]||jd()]:dee(t,R,re,x,M,A),j=W,me=R;if(!K&&!(Ur(j)||Ux(j)||ib(j))&&te&&(j=G,me=j),!K&&(!(Ur(j)||Ux(j)||ib(j))||!Ur(ge)))return m?aee:R;let oe=!1;const Ce=()=>{oe=!0},Ue=ib(j)?j:fee(t,R,ge,j,me,Ce);if(oe)return j;const et=Pbe(t,ge,he,P),dt=Abe(et),Me=Ibe(t,Ue,dt),Ne=u?u(Me,R):Me;if(__INTLIFY_PROD_DEVTOOLS__){const I={timestamp:Date.now(),key:Ur(R)?R:ib(j)?j.key:"",locale:ge||(ib(j)?j.locale:""),format:Ur(j)?j:ib(j)?j.source:"",message:Ne};I.meta=HE({},t.__meta,hbe()||{}),rbe(I)}return Ne}function Rbe(t){Mv(t.list)?t.list=t.list.map(r=>Ur(r)?cY(r):r):Ul(t.named)&&Object.keys(t.named).forEach(r=>{Ur(t.named[r])&&(t.named[r]=cY(t.named[r]))})}function dee(t,r,i,u,m,h){const{messages:x,onWarn:w,messageResolver:R,localeFallbacker:P}=t,A=P(t,u,i);let M=jd(),H,K=null;const G="translate";for(let te=0;te<A.length&&(H=A[te],M=x[H]||jd(),(K=R(M,r))===null&&(K=M[r]),!(Ur(K)||Ux(K)||ib(K)));te++)if(!xbe(H,A)){const re=vbe(t,r,H,h,G);re!==r&&(K=re)}return[K,H,M]}function fee(t,r,i,u,m,h){const{messageCompiler:x,warnHtmlMessage:w}=t;if(ib(u)){const P=u;return P.locale=P.locale||i,P.key=P.key||r,P}if(x==null){const P=()=>u;return P.locale=i,P.key=r,P}const R=x(u,Dbe(t,i,m,u,w,h));return R.locale=i,R.key=r,R.source=u,R}function Ibe(t,r,i){return r(i)}function mee(...t){const[r,i,u]=t,m=jd();if(!Ur(r)&&!Pm(r)&&!ib(r)&&!Ux(r))throw G6(Z6.INVALID_ARGUMENT);const h=Pm(r)?String(r):(ib(r),r);return Pm(i)?m.plural=i:Ur(i)?m.default=i:Hd(i)&&!hpe(i)?m.named=i:Mv(i)&&(m.list=i),Pm(u)?m.plural=u:Ur(u)?m.default=u:Hd(u)&&HE(m,u),[h,m]}function Dbe(t,r,i,u,m,h){return{locale:r,key:i,warnHtmlMessage:m,onError:x=>{throw h&&h(x),x},onCacheKey:x=>mpe(r,i,x)}}function Pbe(t,r,i,u){const{modifiers:m,pluralRules:h,messageResolver:x,fallbackLocale:w,fallbackWarn:R,missingWarn:P,fallbackContext:A}=t,H={locale:r,modifiers:m,pluralRules:h,messages:(K,G)=>{let te=x(i,K);if(te==null&&(A||G)){const[,,re]=dee(A||t,K,r,w,R,P);te=x(re,K)}if(Ur(te)||Ux(te)){let re=!1;const ge=fee(t,K,r,te,K,()=>{re=!0});return re?yY:ge}else return ib(te)?te:yY}};return t.processor&&(H.processor=t.processor),u.list&&(H.list=u.list),u.named&&(H.named=u.named),Pm(u.plural)&&(H.pluralIndex=u.plural),H}Kpe();/*!
  * petite-vue-i18n v11.1.9
  * (c) 2025 kazuya kawaguchi
  * Released under the MIT License.
  */const Nbe="11.1.9";function Mbe(){typeof __INTLIFY_PROD_DEVTOOLS__!="boolean"&&(QW().__INTLIFY_PROD_DEVTOOLS__=!1)}const wF={UNEXPECTED_RETURN_TYPE:abe,UNEXPECTED_ERROR:32};function CF(t,...r){return QF(t,null,void 0)}const Lbe=YQ("__setPluralRules");function GR(t){if(!Ul(t)||Ux(t))return t;for(const r in t)if(lb(t,r))if(!r.includes("."))Ul(t[r])&&GR(t[r]);else{const i=r.split("."),u=i.length-1;let m=t,h=!1;for(let x=0;x<u;x++){if(i[x]==="__proto__")throw new Error(`unsafe key: ${i[x]}`);if(i[x]in m||(m[i[x]]=jd()),!Ul(m[i[x]])){h=!0;break}m=m[i[x]]}if(h||(Ux(m)?Jpe.includes(i[u])||delete t[r]:(m[i[u]]=t[r],delete t[r])),!Ux(m)){const x=m[i[u]];Ul(x)&&GR(x)}}return t}function Bbe(t,r){const{messages:i,__i18n:u,messageResolver:m,flatJson:h}=r,x=Hd(i)?i:Mv(u)?jd():{[t]:jd()};if(Mv(u)&&u.forEach(w=>{if("locale"in w&&"resource"in w){const{locale:R,resource:P}=w;R?(x[R]=x[R]||jd(),j6(P,x[R])):j6(P,x)}else Ur(w)&&j6(JSON.parse(w),x)}),m==null&&h)for(const w in x)lb(x,w)&&GR(x[w]);return x}function Fbe(t){return t.type}const xY="__INTLIFY_META__";let wY=0;function CY(t){return(r,i,u,m)=>t(i,u,$E()||void 0,m)}const $be=()=>{const t=$E();let r=null;return t&&(r=Fbe(t)[xY])?{[xY]:r}:null};function Vbe(t={}){const{__root:r,__injectWithOption:i}=t,u=r===void 0,m=t.flatJson,h=aY?Ln:Do;let x=zf(t.inheritLocale)?t.inheritLocale:!0;const w=h(r&&x?r.locale.value:Ur(t.locale)?t.locale:rW),R=h(r&&x?r.fallbackLocale.value:Ur(t.fallbackLocale)||Mv(t.fallbackLocale)||Hd(t.fallbackLocale)||t.fallbackLocale===!1?t.fallbackLocale:w.value),P=h(Bbe(w.value,t));let A=r?r.missingWarn:zf(t.missingWarn)||xF(t.missingWarn)?t.missingWarn:!0,M=r?r.fallbackWarn:zf(t.fallbackWarn)||xF(t.fallbackWarn)?t.fallbackWarn:!0,H=r?r.fallbackRoot:zf(t.fallbackRoot)?t.fallbackRoot:!0,K=!!t.fallbackFormat,G=oc(t.missing)?t.missing:null,te=oc(t.missing)?CY(t.missing):null,re=oc(t.postTranslation)?t.postTranslation:null,W=r?r.warnHtmlMessage:zf(t.warnHtmlMessage)?t.warnHtmlMessage:!0,ge=!!t.escapeParameter;const he=r?r.modifiers:Hd(t.modifiers)?t.modifiers:{};let j=t.pluralRules||r&&r.pluralRules,me;me=(()=>{u&&pY(null);const Ve={version:Nbe,locale:w.value,fallbackLocale:R.value,messages:P.value,modifiers:he,pluralRules:j,missing:te===null?void 0:te,missingWarn:A,fallbackWarn:M,fallbackFormat:K,unresolving:!0,postTranslation:re===null?void 0:re,warnHtmlMessage:W,escapeParameter:ge,messageResolver:t.messageResolver,messageCompiler:t.messageCompiler,__meta:{framework:"vue"}},bt=bbe(Ve);return u&&pY(bt),bt})(),bR(me,w.value,R.value);function Ce(){return[w.value,R.value,P.value]}const Ue=Mt({get:()=>w.value,set:Ve=>{me.locale=Ve,w.value=Ve}}),et=Mt({get:()=>R.value,set:Ve=>{me.fallbackLocale=Ve,R.value=Ve,bR(me,w.value,Ve)}}),dt=Mt(()=>P.value);function Me(){return oc(re)?re:null}function Ne(Ve){re=Ve,me.postTranslation=Ve}function I(){return G}function st(Ve){Ve!==null&&(te=CY(Ve)),G=Ve,me.missing=te}const it=(Ve,bt,Yn,Xt,Bn,Qt)=>{Ce();let ee;try{__INTLIFY_PROD_DEVTOOLS__,u||(me.fallbackContext=r?pbe():void 0),ee=Ve(me)}finally{__INTLIFY_PROD_DEVTOOLS__,u||(me.fallbackContext=void 0)}if(Pm(ee)&&ee===aee||Yn==="translate exists"){const[vo,nn]=bt();return r&&H?Xt(r):Bn(vo)}else{if(Qt(ee))return ee;throw CF(wF.UNEXPECTED_RETURN_TYPE)}};function Ft(...Ve){return it(bt=>Reflect.apply(Obe,null,[bt,...Ve]),()=>mee(...Ve),"translate",bt=>Reflect.apply(bt.t,bt,[...Ve]),bt=>bt,bt=>Ur(bt))}function Yt(Ve){j=Ve,me.pluralRules=j}function mt(Ve){return P.value[Ve]||{}}function Rn(Ve,bt){if(m){const Yn={[Ve]:bt};for(const Xt in Yn)lb(Yn,Xt)&&GR(Yn[Xt]);bt=Yn[Ve]}P.value[Ve]=bt,me.messages=P.value}function Ot(Ve,bt){P.value[Ve]=P.value[Ve]||{};const Yn={[Ve]:bt};if(m)for(const Xt in Yn)lb(Yn,Xt)&&GR(Yn[Xt]);bt=Yn[Ve],j6(bt,P.value[Ve]),me.messages=P.value}return wY++,r&&aY&&(Fn(r.locale,Ve=>{x&&(w.value=Ve,me.locale=Ve,bR(me,w.value,R.value))}),Fn(r.fallbackLocale,Ve=>{x&&(R.value=Ve,me.fallbackLocale=Ve,bR(me,w.value,R.value))})),{id:wY,locale:Ue,fallbackLocale:et,get inheritLocale(){return x},set inheritLocale(Ve){x=Ve,Ve&&r&&(w.value=r.locale.value,R.value=r.fallbackLocale.value,bR(me,w.value,R.value))},get availableLocales(){return Object.keys(P.value).sort()},messages:dt,get modifiers(){return he},get pluralRules(){return j||{}},get isGlobal(){return u},get missingWarn(){return A},set missingWarn(Ve){A=Ve,me.missingWarn=A},get fallbackWarn(){return M},set fallbackWarn(Ve){M=Ve,me.fallbackWarn=M},get fallbackRoot(){return H},set fallbackRoot(Ve){H=Ve},get fallbackFormat(){return K},set fallbackFormat(Ve){K=Ve,me.fallbackFormat=K},get warnHtmlMessage(){return W},set warnHtmlMessage(Ve){W=Ve,me.warnHtmlMessage=Ve},get escapeParameter(){return ge},set escapeParameter(Ve){ge=Ve,me.escapeParameter=Ve},t:Ft,getLocaleMessage:mt,setLocaleMessage:Rn,mergeLocaleMessage:Ot,getPostTranslationHandler:Me,setPostTranslationHandler:Ne,getMissingHandler:I,setMissingHandler:st,[Lbe]:Yt}}function zbe(t={}){const r=zf(t.globalInjection)?t.globalInjection:!0,i=new Map,[u,m]=Hbe(t),h=YQ("");function x(A){return i.get(A)||null}function w(A,M){i.set(A,M)}function R(A){i.delete(A)}const P={get mode(){return"composition"},async install(A,...M){if(A.__VUE_I18N_SYMBOL__=h,A.provide(A.__VUE_I18N_SYMBOL__,P),Hd(M[0])){const G=M[0];P.__composerExtend=G.__composerExtend,P.__vueI18nExtend=G.__vueI18nExtend}let H=null;r&&(H=Wbe(A,P.global));const K=A.unmount;A.unmount=()=>{H&&H(),P.dispose(),K()}},get global(){return m},dispose(){u.stop()},__instances:i,__getInstance:x,__setInstance:w,__deleteInstance:R};return P}function Hbe(t,r){const i=Wx(),u=i.run(()=>Vbe(t));if(u==null)throw CF(wF.UNEXPECTED_ERROR);return[i,u]}const Ube=["locale","fallbackLocale","availableLocales"],SY=["t"];function Wbe(t,r){const i=Object.create(null);return Ube.forEach(m=>{const h=Object.getOwnPropertyDescriptor(r,m);if(!h)throw CF(wF.UNEXPECTED_ERROR);const x=Ua(h.value)?{get(){return h.value.value},set(w){h.value.value=w}}:{get(){return h.get&&h.get()}};Object.defineProperty(i,m,x)}),t.config.globalProperties.$i18n=i,SY.forEach(m=>{const h=Object.getOwnPropertyDescriptor(r,m);if(!h||!h.value)throw CF(wF.UNEXPECTED_ERROR);Object.defineProperty(t.config.globalProperties,`$${m}`,h)}),()=>{delete t.config.globalProperties.$i18n,SY.forEach(m=>{delete t.config.globalProperties[`$${m}`]})}}Mbe();mbe(nbe);if(__INTLIFY_PROD_DEVTOOLS__){const t=QW();t.__INTLIFY__=!0,obe(t.__INTLIFY_DEVTOOLS_GLOBAL_HOOK__)}const Q9=t=>t&&typeof t=="object"&&!Array.isArray(t),iW=(t,...r)=>{if(!r.length)return t;const i=r.shift();if(Q9(t)&&Q9(i))for(const u in i)Q9(i[u])?(t[u]||Object.assign(t,{[u]:{}}),iW(t[u],i[u])):Object.assign(t,{[u]:i[u]});return iW(t,...r)},Kbe=iW({},{de:{allAnnotations:{t:0,b:{t:2,i:[{t:3}],s:"Anmerkungen"}},allApply:{t:0,b:{t:2,i:[{t:3}],s:"bernehmen"}},allAuthorize:{t:0,b:{t:2,i:[{t:3}],s:"Freigeben..."}},allCancel:{t:0,b:{t:2,i:[{t:3}],s:"Abbrechen"}},allCancelCorrection:{t:0,b:{t:2,i:[{t:3}],s:"Korrektur abbrechen"}},allChange:{t:0,b:{t:2,i:[{t:3}],s:"ndern..."}},allClose:{t:0,b:{t:2,i:[{t:3}],s:"Schlieen"}},allCloseMessage:{t:0,b:{t:2,i:[{t:3}],s:"Meldung schlieen"}},allComments:{t:0,b:{t:2,i:[{t:3}],s:"Anmerkungen"}},allCorrection:{t:0,b:{t:2,i:[{t:3}],s:"Korrektur"}},allDelete:{t:0,b:{t:2,i:[{t:3}],s:"Lschen"}},allEnd:{t:0,b:{t:2,i:[{t:3}],s:"Beenden"}},allEssay:{t:0,b:{t:2,i:[{t:3}],s:"Abgabe-Text"}},allEssayAndCorrection:{t:0,b:{t:2,i:[{t:3}],s:"Abgabe und Korrektur"}},allEssayNoCorrectionAuthorized:{t:0,b:{t:2,i:[{t:3}],s:"Fr diesen Abgabe-Text ist noch keine Korrektur freigegeben."}},allGeneralPoints:{t:0,b:{t:2,i:[{t:3}],s:"Kopfnoten"}},allGeneralPointsLong:{t:0,b:{t:2,i:[{t:3}],s:"Allgemeine Punkte (Kopfnoten)"}},allGrade:{t:0,b:{t:2,i:[{t:3}],s:"Note:"}},allInstructions:{t:0,b:{t:2,i:[{t:3}],s:"Aufgabenstellung"}},allInstructionsPdf:{t:0,b:{t:2,i:[{t:3}],s:"Aufgabenstellung als PDF"}},allIsSelected:{t:0,b:{t:2,i:[{t:3}],s:", ist ausgewhlt"}},allLoad:{t:0,b:{t:2,i:[{t:3}],s:"Laden"}},allLoadData:{t:0,b:{t:2,i:[{t:3}],s:"Lade Daten ..."}},allMark:{t:0,b:{t:2,i:[{t:3}],s:"Markieren"}},allNotes:{t:0,b:{t:2,i:[{t:3}],s:"Notizen"}},allNotesWillPurged:{t:0,b:{t:2,i:[{t:3}],s:"Notizen, werden bei der Abgabe verworfen"}},allNumCharacters:{t:0,b:{t:2,i:[{t:4,k:"n"},{t:3,v:" Zeichen"}]}},allNumWords:{t:0,b:{t:1,c:[{t:2,i:[{t:4,k:"n"},{t:3,v:" Wort"}]},{t:2,i:[{t:4,k:"n"},{t:3,v:" Wrter"}]}]}},allOk:{t:0,b:{t:2,i:[{t:3}],s:"Ok"}},allOr:{t:0,b:{t:2,i:[{t:3}],s:"or"}},allOverview:{t:0,b:{t:2,i:[{t:3}],s:"bersicht"}},allOwnSummary:{t:0,b:{t:2,i:[{t:3}],s:"Eigenes Gutachten"}},allOwnSummaryAndRating:{t:0,b:{t:2,i:[{t:3}],s:"Eigene Bewertung"}},allPartialPoints:{t:0,b:{t:2,i:[{t:3}],s:"Teilpunkte"}},allPartialPointsLong:{t:0,b:{t:2,i:[{t:3}],s:"Teilpunkte zur Anmerkung"}},allPoints:{t:0,b:{t:1,c:[{t:2,i:[{t:3}],s:"Punkt"},{t:2,i:[{t:3}],s:"Punkte"}]}},allPregraded:{t:0,b:{t:2,i:[{t:3}],s:"vorbenotet"}},allTotalRating:{t:0,b:{t:2,i:[{t:3}],s:"Gesamtbewertung"}},allRevision:{t:0,b:{t:2,i:[{t:3}],s:"berarbeitung"}},allShow:{t:0,b:{t:2,i:[{t:3}],s:"anzeigen"}},allSelect:{t:0,b:{t:2,i:[{t:3}],s:"Auswhlen"}},allSolution:{t:0,b:{t:2,i:[{t:3}],s:"Lsungshinweise"}},allSolutionPdf:{t:0,b:{t:2,i:[{t:3}],s:"Lsungshinweise als PDF"}},allSummary:{t:0,b:{t:2,i:[{t:3}],s:"Gutachten"}},allUpload:{t:0,b:{t:2,i:[{t:3}],s:"Hochladen"}},apiMissingParams:{t:0,b:{t:2,i:[{t:3}],s:"Es fehlen Informationen zum Laden der Korrektur. Bitte rufen Sie die Korrekturoberflche aus der Korrektur-Startseite neu auf."}},apiLoadingDataFailed:{t:0,b:{t:2,i:[{t:3}],s:"Die Korrektur konnte nicht geladen werden. Bitte rufen Sie die Korrekturoberflche aus der Korrektur-Startseite neu auf."}},appBarReturn:{t:0,b:{t:2,i:[{t:3}],s:"Schlieen"}},authorizationAuthorize:{t:0,b:{t:2,i:[{t:3}],s:"Freigeben"}},authorizationEditIncludes:{t:0,b:{t:2,i:[{t:3}],s:"Einbezug bearbeiten"}},authorizationGradeTitle:{t:0,b:{t:2,i:[{t:3}],s:"Note:"}},authorizationPartialPoints:{t:0,b:{t:2,i:[{t:4,k:"n"},{t:3,v:" Teilpunkte"}]}},authorizationPleaseEnterPoints:{t:0,b:{t:2,i:[{t:3}],s:"Bitte geben Sie eine Bewertung ein, damit eine Note vergeben werden kann."}},authorizationPleaseEnterSummary:{t:0,b:{t:2,i:[{t:3}],s:"Bitte stellen Sie ein Gutachten bereit."}},authorizationPointsLabel:{t:0,b:{t:2,i:[{t:3}],s:"Eigene Bewertung:"}},authorizationPointsSuffix:{t:0,b:{t:2,i:[{t:3}],s:"Punkte"}},authorizationPointsMismatch:{t:0,b:{t:2,i:[{t:3,v:"Ihre Bewertung weicht von der automatischen berechneten Summe der vergebenen Punkte ("},{t:5,i:0},{t:3,v:") ab. Bitte beachten Sie, dass diese Punkte bei der Einsichtnahme erkennbar sind."}]}},authorizationSummaryLabel:{t:0,b:{t:2,i:[{t:3}],s:"Gutachten:"}},authorizationSummaryEdit:{t:0,b:{t:2,i:[{t:3}],s:"Gutachten bearbeiten"}},authorizationWarnFinalize:{t:0,b:{t:2,i:[{t:3}],s:"Durch die Freigabe wird Ihre Korrektur festgeschrieben. Sie knnen sie anschlieend nicht mehr ndern. Mchten Sie Ihre Korrektur freigeben?"}},authorizationWarnStitchDecision:{t:0,b:{t:2,i:[{t:3,v:"Ihre Bewertung wird einen Stichentscheid erfordern: "},{t:5,i:0}]}},authorizationTitle:{t:0,b:{t:2,i:[{t:3,v:"Korrektur von "},{t:5,i:0},{t:3,v:" freigeben"}]}},correctionsFirstCorrection:{t:0,b:{t:2,i:[{t:3}],s:"(Erstkorrektur)"}},correctorsNthCorrector:{t:0,b:{t:2,i:[{t:3,v:"("},{t:5,i:0},{t:3,v:". Korrektur)"}]}},correctionsSecondCorrection:{t:0,b:{t:2,i:[{t:3}],s:"(Zweitkorrektur)"}},correctionsStitchCorrection:{t:0,b:{t:2,i:[{t:3}],s:"(Stichentscheid)"}},essayImageZoomIn:{t:0,b:{t:2,i:[{t:3}],s:"Anzeige der Abgabe vergrern"}},essayImageZoomOut:{t:0,b:{t:2,i:[{t:3}],s:"Anzeige der Abgabe verkleinern"}},essayZoomIn:{t:0,b:{t:2,i:[{t:3}],s:"Anzeige der Abgabe vergrern"}},essayZoomOut:{t:0,b:{t:2,i:[{t:3}],s:"Anzeige der Abgabe verkleinern"}},helpAction:{t:0,b:{t:2,i:[{t:3}],s:"Aktion"}},helpButton:{t:0,b:{t:2,i:[{t:3}],s:"Tastenbefehle"}},helpCloseHelp:{t:0,b:{t:2,i:[{t:3}],s:"Hilfe schlieen"}},helpCommandBold:{t:0,b:{t:2,i:[{t:3}],s:"Fett"}},helpCommandH1:{t:0,b:{t:2,i:[{t:3}],s:"berschrift 1"}},helpCommandH2:{t:0,b:{t:2,i:[{t:3}],s:"berschrift 2"}},helpCommandH3:{t:0,b:{t:2,i:[{t:3}],s:"berschrift 3"}},helpCommandH4:{t:0,b:{t:2,i:[{t:3}],s:"berschrift 4"}},helpCommandH5:{t:0,b:{t:2,i:[{t:3}],s:"berschrift 5"}},helpCommandH6:{t:0,b:{t:2,i:[{t:3}],s:"berschrift 6"}},helpCommandItalic:{t:0,b:{t:2,i:[{t:3}],s:"Kursiv"}},helpCommandParagraph:{t:0,b:{t:2,i:[{t:3}],s:"Absatz"}},helpCommandRedo:{t:0,b:{t:2,i:[{t:3}],s:"Wiederholen"}},helpCommandSelectAll:{t:0,b:{t:2,i:[{t:3}],s:"Alles auswhlen"}},helpCommundUnderline:{t:0,b:{t:2,i:[{t:3}],s:"Unterstrichen"}},helpCommandUndo:{t:0,b:{t:2,i:[{t:3}],s:"Rckgngig machen"}},helpComments:{t:0,b:{t:2,i:[{t:3}],s:"Anmerkungen"}},helpCommentsDelete:{t:0,b:{t:2,i:[{t:3}],s:"Anmerkung lschen"}},helpCommentsJumpToCriteria:{t:0,b:{t:2,i:[{t:3}],s:"Zu Bewertungskriterien springen (falls vorhanden)"}},helpCommentsJumpToMark:{t:0,b:{t:2,i:[{t:3}],s:"Zur Markierung im Text springen"}},helpCommentsReturnFromCriteria:{t:0,b:{t:2,i:[{t:3}],s:"Von Bewertungskriterien zurckkehren"}},helpCommentsSelect:{t:0,b:{t:2,i:[{t:3}],s:"Bearbeitung ffnen"}},helpEssay:{t:0,b:{t:2,i:[{t:3}],s:"Abgabe-Text"}},helpEssayCreateComment:{t:0,b:{t:2,i:[{t:3}],s:"Anmerkung fr Auswahl erzeugen"}},helpEssayJumpToComment:{t:0,b:{t:2,i:[{t:3}],s:"Anmerkung bei Cursor anspringen"}},helpEssayMoveCursor:{t:0,b:{t:2,i:[{t:3}],s:"Cursor bewegen"}},helpEssaySelectText:{t:0,b:{t:2,i:[{t:3}],s:"Text auswhlen"}},helpEssayUnselectText:{t:0,b:{t:2,i:[{t:3}],s:"Textauswahl entfernen"}},helpContentLeftColumn:{t:0,b:{t:2,i:[{t:3}],s:"Inhalt linke Spalte"}},helpContentRightColumn:{t:0,b:{t:2,i:[{t:3}],s:"Inhalt rechte Spalte"}},helpEditorCommands:{t:0,b:{t:2,i:[{t:3}],s:"Tastenbefehle im Gutachten"}},helpEditorNavigation:{t:0,b:{t:2,i:[{t:3}],s:"Navigation im Gutachten"}},helpGeneralNavigation:{t:0,b:{t:2,i:[{t:3}],s:"Allgemeine Navigation"}},helpHeaderButtons:{t:0,b:{t:2,i:[{t:3}],s:"Schaltflchen der Kopfzeile"}},helpNavigationButtons:{t:0,b:{t:2,i:[{t:3}],s:"Schaltflchen der Navigazionsleiste"}},helpKeyEsc:{t:0,b:{t:2,i:[{t:3}],s:"Esc"}},helpKeyAlt0:{t:0,b:{t:2,i:[{t:3}],s:"Alt + 0"}},helpKeyAlt1:{t:0,b:{t:2,i:[{t:3}],s:"Alt + 1"}},helpKeyAlt2:{t:0,b:{t:2,i:[{t:3}],s:"Alt + 2"}},helpKeyAltDel:{t:0,b:{t:2,i:[{t:3}],s:"Alt + Entfernen"}},helpKeyAltF10:{t:0,b:{t:2,i:[{t:3}],s:"Alt + F10"}},helpKeyAltNum:{t:0,b:{t:2,i:[{t:3}],s:"Alt + #"}},helpKeyAltReturn:{t:0,b:{t:2,i:[{t:3}],s:"Alt + Eingabetaste"}},helpKeyCtrlA:{t:0,b:{t:2,i:[{t:3}],s:"Ctrl + A"}},helpKeyCtrlB:{t:0,b:{t:2,i:[{t:3}],s:"Ctrl + B"}},helpKeyCtrlI:{t:0,b:{t:2,i:[{t:3}],s:"Ctrl + I"}},helpKeyCtrlU:{t:0,b:{t:2,i:[{t:3}],s:"Ctrl + U"}},helpKeyCtrlYOrCtrlShiftZ:{t:0,b:{t:2,i:[{t:3}],s:"Ctrl + Y oder Ctrl + Shift + Z"}},helpKeyCtrlZ:{t:0,b:{t:2,i:[{t:3}],s:"Ctrl + Z"}},helpKeyF1:{t:0,b:{t:2,i:[{t:3}],s:"F1"}},helpKeyF1InSnippets:{t:0,b:{t:2,i:[{t:3}],s:"F1 in Textbaustein-Auswahl"}},helpKeyReturn:{t:0,b:{t:2,i:[{t:3}],s:"Eingabetaste"}},helpKeyReturnOnFocusedLabel:{t:0,b:{t:2,i:[{t:3}],s:"Eingabetaste auf Etikett im Focus"}},helpKeyReturnOnFocusedPoints:{t:0,b:{t:2,i:[{t:3}],s:"Eingabetaste auf Punkten im Focus"}},helpKeyReturnWhenNotSelected:{t:0,b:{t:2,i:[{t:3}],s:"Eingabetaste, wenn kein Text ausgewhlt"}},helpKeyReturnWhenSelected:{t:0,b:{t:2,i:[{t:3}],s:"Eingabetaste wenn Text ausgewht"}},helpKeyShiftAlt1:{t:0,b:{t:2,i:[{t:3}],s:"Shift + Alt + 1"}},helpKeyShiftAlt2:{t:0,b:{t:2,i:[{t:3}],s:"Shift + Alt + 2"}},helpKeyShiftAlt3:{t:0,b:{t:2,i:[{t:3}],s:"Shift + Alt + 3"}},helpKeyShiftAlt4:{t:0,b:{t:2,i:[{t:3}],s:"Shift + Alt + 4"}},helpKeyShiftAlt5:{t:0,b:{t:2,i:[{t:3}],s:"Shift + Alt + 5"}},helpKeyShiftAlt6:{t:0,b:{t:2,i:[{t:3}],s:"Shift + Alt + 6"}},helpKeyShiftAlt7:{t:0,b:{t:2,i:[{t:3}],s:"Shift + Alt + 7"}},helpKeyShiftTab:{t:0,b:{t:2,i:[{t:3}],s:"Shift + Tab"}},helpKeysArrows:{t:0,b:{t:2,i:[{t:3}],s:"Pfeiltasten"}},helpKeysLeftRight:{t:0,b:{t:2,i:[{t:3}],s:"Pfeil links und rechts"}},helpKeysShiftArrows:{t:0,b:{t:2,i:[{t:3}],s:"Shift + Pfeiltasten"}},helpKeyTab:{t:0,b:{t:2,i:[{t:3}],s:"Tab"}},helpKeysUpDown:{t:0,b:{t:2,i:[{t:3}],s:"Pfeil abwrts und aufwrts"}},helpNextElement:{t:0,b:{t:2,i:[{t:3}],s:"Nchstes Element"}},helpPopupBlockFormatsClose:{t:0,b:{t:2,i:[{t:3}],s:"Popup der Absatzformate schlieen"}},helpPopupBlockFormatsNavigate:{t:0,b:{t:2,i:[{t:3}],s:"Im Popup zwischen Absatzformaten wechseln"}},helpPopupBlockFormatsSelect:{t:0,b:{t:2,i:[{t:3}],s:"Im Popup ein Absatzformat whlen"}},helpPopupBlockFormatsShow:{t:0,b:{t:2,i:[{t:3}],s:"Popup der Absatzformate aufklappen"}},helpPreviousElement:{t:0,b:{t:2,i:[{t:3}],s:"Vorheriges Element"}},helpShortcut:{t:0,b:{t:2,i:[{t:3}],s:"Tastenbefehl"}},helpSnippetsApply:{t:0,b:{t:2,i:[{t:3}],s:"Textbaustein bernehmen"}},helpSnippetsOpen:{t:0,b:{t:2,i:[{t:3}],s:"Textbaustein auswhlen"}},helpToolbarFocusIn:{t:0,b:{t:2,i:[{t:3}],s:"In Symbolleiste wechseln"}},helpToolbarFocusOut:{t:0,b:{t:2,i:[{t:3}],s:"Symbolleiste verlassen"}},helpToolbarNavigate:{t:0,b:{t:2,i:[{t:3}],s:"In Symbolleiste zwischen Schaltflchen wechseln"}},instructionsZoomOut:{t:0,b:{t:2,i:[{t:3}],s:"Aufgabenstellung Text verkleinern"}},instructionsZoomIn:{t:0,b:{t:2,i:[{t:3}],s:"Aufgabenstellung Text vergrern"}},itemsPreviousWriter:{t:0,b:{t:2,i:[{t:3}],s:"Vorheriger Teilnehmer"}},itemsNextWriter:{t:0,b:{t:2,i:[{t:3}],s:"Nchster Teilnehmer"}},itemsSuffixApproximation:{t:0,b:{t:2,i:[{t:3}],s:"- in Annherung"}},itemsSuffixAuthorized:{t:0,b:{t:2,i:[{t:3}],s:"- freigegeben"}},itemsSuffixConsulting:{t:0,b:{t:2,i:[{t:3}],s:"- in Beratung"}},itemsSuffixFinalized:{t:0,b:{t:2,i:[{t:3}],s:"- abgeschlossen"}},itemsSuffixOpen:{t:0,b:{t:2,i:[{t:3}],s:"- offen"}},itemsSuffixPregraded:{t:0,b:{t:2,i:[{t:3}],s:"- vorbenotet"}},itemsSuffixStitch:{t:0,b:{t:2,i:[{t:3}],s:"- im Stichentscheid"}},itemsWriter:{t:0,b:{t:2,i:[{t:3}],s:"Teilnehmer/in"}},mainContentExpand:{t:0,b:{t:2,i:[{t:3}],s:"Erweitern"}},mainContentExpandLeftColumn:{t:0,b:{t:2,i:[{t:3}],s:"Linke Spalte erweitern"}},mainContentExpandRightColumn:{t:0,b:{t:2,i:[{t:3}],s:"Rechte Spalte erweitern"}},mainContentLeftColumn:{t:0,b:{t:2,i:[{t:3}],s:"Linke Spalte"}},mainContentRightColumn:{t:0,b:{t:2,i:[{t:3}],s:"Rechte Spalte"}},mainContentSendFailureLine1:{t:0,b:{t:2,i:[{t:3}],s:"Ihre letzten nderungen zu diesem Teilnehmer konnten nicht bertragen werden, sind aber lokal gespeichert."}},mainContentSendFailureLine2:{t:0,b:{t:2,i:[{t:3}],s:"Sie knnen diese Meldung schlieen und warten bis Ihre nderungen wieder automatisch gespeichert werden (Siehe Seitenfu)."}},mainContentSendFailureLine3:{t:0,b:{t:2,i:[{t:3}],s:"Alternativ knnen Sie die Korrektur jetzt abbrechen und spter wieder aufrufen, um die nderungen nachtrglich zu speichern."}},mainContentShowOtherCorrections:{t:0,b:{t:2,i:[{t:3}],s:"Andere Korrektoren zeigen"}},mainContentStopCorrection:{t:0,b:{t:2,i:[{t:3}],s:"Korrektur abbrechen"}},markingCommentSum:{t:0,b:{t:2,i:[{t:3}],s:"Summe:"}},markingCommentPointsCriterion:{t:0,b:{t:2,i:[{t:3}],s:"Bewertungskriterium"}},markingCommentPointsPleaseSelect:{t:0,b:{t:2,i:[{t:3}],s:"Bitte whlen Sie eine Anmerkung aus."}},markingCommentPointsWithoutCriterion:{t:0,b:{t:2,i:[{t:3}],s:"Allgemein"}},markingCommentPointsSumOfMax:{t:0,b:{t:2,i:[{t:3}],s:"Summe /max."}},markingCommentsCommentForLabel:{t:0,b:{t:2,i:[{t:3,v:"Anmerkung zur Markierung "},{t:5,i:0}]}},markingCommentsDelete:{t:0,b:{t:2,i:[{t:3}],s:"Anmerkung lschen"}},markingGeneralPointsMax:{t:0,b:{t:2,i:[{t:3}],s:"max."}},markingGeneralPointsCriterion:{t:0,b:{t:2,i:[{t:3}],s:"Bewertungskriterium"}},markingOpenSnippets:{t:0,b:{t:2,i:[{t:3}],s:"Textbausteine (F1)"}},navBarSelected:{t:0,b:{t:2,i:[{t:3}],s:" (ausgewhlt)"}},navBarSelectedAria:{t:0,b:{t:2,i:[{t:3}],s:", ist ausgewhlt"}},otherSummaryNotAuthorized:{t:0,b:{t:2,i:[{t:3}],s:"Diese Korrektur ist noch nicht freigegeben."}},ownSummaryIncludesCommentPoints:{t:0,b:{t:2,i:[{t:3}],s:"Punkte zu Anmerkungen"}},ownSummaryIncludesCommentPointsInfo:{t:0,b:{t:2,i:[{t:3}],s:"Bei jeder Anmerkung wird die vergebene Punktzahl angezeigt."}},ownSummaryIncludesCriteriaPoints:{t:0,b:{t:2,i:[{t:3}],s:"Punkte zu Kriterien"}},ownSummaryIncludesCriteriaPointsInfo:{t:0,b:{t:2,i:[{t:3}],s:"Es wird eine Tabelle mit den Bewertungskriterien und den dafr erreichten Punkten angezeigt."}},ownSummaryIncludesIncludeInfo:{t:0,b:{t:2,i:[{t:3}],s:"informativ"}},ownSummaryIncludesIncludeNot:{t:0,b:{t:2,i:[{t:3}],s:"nicht einbeziehen"}},ownSummaryIncludesIncludeRelevant:{t:0,b:{t:2,i:[{t:3}],s:"bewertungsrelevant"}},ownSummaryIncludesLabelInclude:{t:0,b:{t:2,i:[{t:3}],s:"Einbeziehen:"}},ownSummaryIncludesMarksAndComments:{t:0,b:{t:2,i:[{t:3}],s:"Markierungen und Anmerkungen"}},ownSummaryIncludesMarksAndCommentsInfo:{t:0,b:{t:2,i:[{t:3}],s:"Es wird der abgegebene Text mit markierten Stellen und Anmerkungen am Rand eingefgt."}},ownSummaryIncludesRatingsInfo:{t:0,b:{t:2,i:[{t:3}],s:"Bei jeder Anmerkung wird die vergebene Auszeichnung angezeigt."}},ownSummaryIncludesTitle:{t:0,b:{t:2,i:[{t:3}],s:"In die PDF-Dokumentation der Korrektur einbeziehen"}},ownSummaryIncludesUpdatePreferences:{t:0,b:{t:2,i:[{t:3}],s:"Als Vorgabe fr andere Korekturen bernehmen, bei denen noch keine Auswahl getroffen wurde. Bereits aktiv getroffene Auwahlen bleiben unverndert."}},ownSummaryPointsRating:{t:0,b:{t:2,i:[{t:3}],s:"Eigene Bewertung:"}},ownSummaryPregraded:{t:0,b:{t:2,i:[{t:3}],s:"vorbenotet"}},ownSummaryRevisionTextHiddenField:{t:0,b:{t:2,i:[{t:3}],s:"Verborgenes Feld zur berarbeitung"}},ownSummaryTextHiddenField:{t:0,b:{t:2,i:[{t:3}],s:"Verborgenes Feld zum Gutachten"}},ownSummaryTemplate:{t:0,b:{t:2,i:[{t:3}],s:"Vorlage"}},ownSummaryTemplateAdoptLong:{t:0,b:{t:2,i:[{t:3}],s:"Gutachten-Vorlage bernehmen"}},ownSummaryTemplateAdoptShort:{t:0,b:{t:2,i:[{t:3}],s:"bernehmen"}},ownSummaryTemplateMessage:{t:0,b:{t:2,i:[{t:3}],s:"Wenn Sie die Gutachten-Vorlage bernehmen, wird Ihr bisheriger Gutachten-Text ersetzt."}},ownSummaryTemplatePreview:{t:0,b:{t:2,i:[{t:3}],s:"Vorschau"}},ownSummaryUploadDeleteTitle:{t:0,b:{t:2,i:[{t:3}],s:"PDF-Datei des Gutachtens lschen"}},ownSummaryUploadDeleteInfo:{t:0,b:{t:2,i:[{t:3}],s:"Wenn Sie die PDF-Datei lschen, knnen Sie wieder einen Text eingeben oder eine andere Datei hochladen."}},ownSummaryUploadTitle:{t:0,b:{t:2,i:[{t:3}],s:"Gutachten als PDF-Datei hochladen"}},ownSummaryUploadTextWarning:{t:0,b:{t:2,i:[{t:3}],s:"Bitte lschen Sie den Gutachten-Text, bevor Sie ein Gutachten als PDF-Datei hochladen."}},SendingStatusSending:{t:0,b:{t:2,i:[{t:3}],s:"nderungen werden gesendet"}},SendingStatusSend:{t:0,b:{t:2,i:[{t:3}],s:"Letzte nderung senden"}},SendingStatusSent:{t:0,b:{t:2,i:[{t:3}],s:"Alles gesendet"}},settingsHeadings:{t:0,b:{t:2,i:[{t:3}],s:"berschriften"}},settingsHeading:{t:0,b:{t:2,i:[{t:3}],s:"berschrift"}},settingsHeading1:{t:0,b:{t:2,i:[{t:3}],s:"berschrift 1"}},settingsHeading2:{t:0,b:{t:2,i:[{t:3}],s:"berschrift 2"}},settingsHeading3:{t:0,b:{t:2,i:[{t:3}],s:"berschrift 3"}},settingsHeading4:{t:0,b:{t:2,i:[{t:3}],s:"berschrift 4"}},settingsHeading5:{t:0,b:{t:2,i:[{t:3}],s:"berschrift 5"}},settingsHeading6:{t:0,b:{t:2,i:[{t:3}],s:"berschrift 6"}},settingsInline:{t:0,b:{t:2,i:[{t:3}],s:"Zeichenformate"}},settingsBold:{t:0,b:{t:2,i:[{t:3}],s:"Fett"}},settingsItalic:{t:0,b:{t:2,i:[{t:3}],s:"Kursiv"}},settingsUnderline:{t:0,b:{t:2,i:[{t:3}],s:"Unterstrichen"}},settingsStrikethrough:{t:0,b:{t:2,i:[{t:3}],s:"Durchgestrichen"}},settingsSuperscript:{t:0,b:{t:2,i:[{t:3}],s:"Hochgestellt"}},settingsSubscript:{t:0,b:{t:2,i:[{t:3}],s:"Tiefgestellt"}},settingsCode:{t:0,b:{t:2,i:[{t:3}],s:"Code"}},settingsListElement:{t:0,b:{t:2,i:[{t:3}],s:"Listenelement"}},settingsBlocks:{t:0,b:{t:2,i:[{t:3}],s:"Absatzformate"}},settingsParagraph:{t:0,b:{t:2,i:[{t:3}],s:"Absatz"}},settingsBlockquote:{t:0,b:{t:2,i:[{t:3}],s:"Zitat"}},settingsPre:{t:0,b:{t:2,i:[{t:3}],s:"Maschinenschrift"}},settingsAlign:{t:0,b:{t:2,i:[{t:3}],s:"Ausrichtung"}},settingsAlignLeft:{t:0,b:{t:2,i:[{t:3}],s:"Linksbndig"}},settingsAlignCenter:{t:0,b:{t:2,i:[{t:3}],s:"Zentriert"}},settingsAlignRight:{t:0,b:{t:2,i:[{t:3}],s:"Rechtsbndig"}},settingsAlignJustify:{t:0,b:{t:2,i:[{t:3}],s:"Blocksatz"}},settingsProcedureApproximation:{t:0,b:{t:2,i:[{t:3}],s:"Annherung"}},settingsProcedureConsulting:{t:0,b:{t:2,i:[{t:3}],s:"Beratung"}},settingsProcedureNone:{t:0,b:{t:2,i:[{t:3}],s:"Kein Verfahren"}},settingsRatingPositive:{t:0,b:{t:2,i:[{t:3}],s:"Exzellent"}},settingsRatingNegative:{t:0,b:{t:2,i:[{t:3}],s:"Kardinal"}},snippetsNewSnippet:{t:0,b:{t:2,i:[{t:3}],s:"--- neuer Baustein ---"}},snippetsEdit:{t:0,b:{t:2,i:[{t:3}],s:"Bearbeiten:"}},snippetsSelect:{t:0,b:{t:2,i:[{t:3}],s:"Auswhlen:"}},snippetsSnippet:{t:0,b:{t:2,i:[{t:3}],s:"Textbaustein"}},startupContentLoadData:{t:0,b:{t:2,i:[{t:3}],s:"LadeDaten..."}},startupContentLoadError:{t:0,b:{t:2,i:[{t:3}],s:"Fehler beim Laden"}},startupContentLoadItemError:{t:0,b:{t:2,i:[{t:3}],s:"Beim Laden der zu korrigierenden Abgabe ist ein Fehler aufgetreten. Die Korrekturoberflche kann nicht gestartet werden."}},startupContentMyCorrections:{t:0,b:{t:2,i:[{t:3}],s:"Meine Korrekturen"}},startupContentDataReplaceInfo1:{t:0,b:{t:2,i:[{t:3}],s:"In Ihrem Browser sind Daten eines anderen Korrektors oder einer anderen Aufgabe vorhanden, die noch nicht bertragen wurden:"}},startupContentDataReplaceInfo2:{t:0,b:{t:2,i:[{t:3}],s:"Durch das Laden der neuen Korrektur werden diese Daten gelscht. Mchten Sie die neuen Daten laden?"}},startupContentDeleteAndLoad:{t:0,b:{t:2,i:[{t:3}],s:"Verwerfen und Laden"}},startupContentItemReplaceInfo1:{t:0,b:{t:2,i:[{t:3}],s:"In Ihrem Browser sind Daten Ihrer vorherigen Bearbeitung vorhanden, die noch nicht bertragen wurden:"}},startupContentItemReplaceInfo2:{t:0,b:{t:2,i:[{t:3}],s:"Sie knnen mit diesen Daten weiter arbeiten, um sie nachtrglich zu bertragen oder sie verwerfen."}},startupContentDeleteLocalData:{t:0,b:{t:2,i:[{t:3}],s:"Lokale Daten verwerfen"}},startupContentKeepLocalData:{t:0,b:{t:2,i:[{t:3}],s:"Mit lokalen Daten weiter arbeiten"}},stichDecision:{t:0,b:{t:2,i:[{t:3}],s:"Stichentscheid"}},revisionFix:{t:0,b:{t:2,i:[{t:3}],s:"Freigeben"}},revisionFixAndContinue:{t:0,b:{t:2,i:[{t:3}],s:"Freigeben und Weiter"}},revisionFixAndClose:{t:0,b:{t:2,i:[{t:3}],s:"Freigeben und Schlieen"}},revisionFixApproximationTitle:{t:0,b:{t:2,i:[{t:3}],s:"Annherung freigeben"}},revisionFixConsultingTitle:{t:0,b:{t:2,i:[{t:3}],s:"Beratungsergebnis freigeben"}},revisionButton:{t:0,b:{t:2,i:[{t:3}],s:"Freigeben..."}},revisionPleaseEnterPoints:{t:0,b:{t:2,i:[{t:3}],s:"Bitte geben Sie eine neue Bewertung ein."}},revisionPleaseEnterText:{t:0,b:{t:2,i:[{t:3}],s:"Bitte geben Sie eine Begrndung ein."}},revisionRequireOtherRevision:{t:0,b:{t:2,i:[{t:3}],s:"Hiermit rume ich der Zweitkorrektur die Mglichkeit ein, sich anzunhern."}},authorizationPleaseEnterText:{t:0,b:{t:2,i:[{t:3}],s:"Bitte geben Sie eine Begrndung ein."}},revisionPointsLabel:{t:0,b:{t:2,i:[{t:3}],s:"Neue Bewertung:"}},revisionTextLabel:{t:0,b:{t:2,i:[{t:3}],s:"Begrndung:"}},revisionTextEdit:{t:0,b:{t:2,i:[{t:3}],s:"Begrndung bearbeiten"}},revisionWarnStitchDecision:{t:0,b:{t:2,i:[{t:3,v:"Ihre Bewertung wird einen Stichentscheid erfordern: "},{t:5,i:0}]}},revisionWarnFinalize:{t:0,b:{t:2,i:[{t:3}],s:"Mchten Sie Ihre neue Bewertung freigeben? Sie knnen sie anschlieend nicht mehr ndern."}},sumOfPointsLabel:{t:0,b:{t:2,i:[{t:3}],s:"Summe der Teilpunkte: "}},sumOfPointsToCriteriaInComments:{t:0,b:{t:2,i:[{t:3}],s:"(zu Kriterien bei Anmerkungen)"}},sumOfPointsToComments:{t:0,b:{t:2,i:[{t:3}],s:"(zu Anmerkungen)"}},sumOfPointsNCommentCriteriaMGeneralCriteria:{t:0,b:{t:2,i:[{t:3,v:"("},{t:5,i:0},{t:3,v:" zu Kriterien bei Anmerkungen, "},{t:5,i:1},{t:3,v:" zu allgemeinen Kriterien)"}]}},sumOfPointsNCommentsMGeneralCriteria:{t:0,b:{t:2,i:[{t:3,v:"("},{t:5,i:0},{t:3,v:" zu Anmerkungen, "},{t:5,i:1},{t:3,v:" zu allgemeinen Kriterien)"}]}},summariesIncludeComments:{t:0,b:{t:2,i:[{t:3}],s:"Anmerkungen"}},summariesIncludeCommentRatings:{t:0,b:{t:2,i:[{t:3}],s:"Positiv/Negativbewerungen"}},summariesIncludeNoDetails:{t:0,b:{t:2,i:[{t:3}],s:"keine Detail-Informationen"}},summariesIncludePartialPoints:{t:0,b:{t:2,i:[{t:3}],s:"Teilpunkte"}},summariesPointsOutsideMinMax:{t:0,b:{t:2,i:[{t:3,v:"Ihre Bewertung muss zwischen "},{t:5,i:0},{t:3,v:" und "},{t:5,i:1},{t:3,v:" Punkten liegen!"}]}},summariesPointsDifferText:{t:0,b:{t:1,c:[{t:2,i:[{t:3,v:"Der Punkteunterschied bersteigt "},{t:4,k:"n"},{t:3,v:" Punkt."}]},{t:2,i:[{t:3,v:"Der Punkteunterschied bersteigt "},{t:4,k:"n"},{t:3,v:" Punkte."}]}]}},summariesProcedureApproximationNeeded:{t:0,b:{t:2,i:[{t:3,v:"Ihre Bewertung wird ein Annherungsverfahren erfordern: "},{t:5,i:0}]}},summariesProcedureConsultingNeeded:{t:0,b:{t:2,i:[{t:3,v:"Ihre Bewertung wird ein Beratungsverfahren erfordern: "},{t:5,i:0}]}},summariesProcedureStitchNeeded:{t:0,b:{t:2,i:[{t:3,v:"Ihre Bewertung wird einen Stichentscheid erfordern: "},{t:5,i:0}]}},summariesNoGrade:{t:0,b:{t:2,i:[{t:3}],s:"ohne Note"}},summaryCriteriaInComments:{t:0,b:{t:2,i:[{t:3}],s:"Bewertungskriterien bei Anmerkungen"}},summaryCriteriaGeneralCriteria:{t:0,b:{t:2,i:[{t:3}],s:"Allgemeine Bewertungskriterien (Kopfnoten)"}},summaryCriteriaMarkings:{t:0,b:{t:2,i:[{t:3}],s:"Auszeichnungen"}},summaryCriteriaNumber:{t:0,b:{t:2,i:[{t:3}],s:"Anzahl"}},summaryCriteriaPointsInComments:{t:0,b:{t:2,i:[{t:3}],s:"Punkte in Kommentaren"}},summaryCriteriaPointsOfMax:{t:0,b:{t:2,i:[{t:3}],s:"Punkte /max"}},summaryCriteriaRating:{t:0,b:{t:2,i:[{t:3}],s:"Bewertung"}},summaryPointsInclude:{t:0,b:{t:2,i:[{t:3}],s:"Einbeziehen:"}},summaryPointsRating:{t:0,b:{t:2,i:[{t:3}],s:"Bewertung:"}},summaryRevisionRating:{t:0,b:{t:2,i:[{t:3}],s:"Neue Bewertung:"}},tasksNextTask:{t:0,b:{t:2,i:[{t:3}],s:"Nchste Teilaufgabe"}},tasksPreviousTask:{t:0,b:{t:2,i:[{t:3}],s:"Vorherige Teilaufgabe"}},tasksTask:{t:0,b:{t:2,i:[{t:3}],s:"Teilaufgabe"}},tinyHelperIframeAriaText:{t:0,b:{t:2,i:[{t:3}],s:"Gutachten-Editor"}}}}),Pu=zbe({locale:"de",messages:Kbe});function jbe(t){t.use(rpe).use(fpe).use(Pu)}function gee(t,r){return function(){return t.apply(r,arguments)}}const{toString:Zbe}=Object.prototype,{getPrototypeOf:oK}=Object,{iterator:e8,toStringTag:hee}=Symbol,t8=(t=>r=>{const i=Zbe.call(r);return t[i]||(t[i]=i.slice(8,-1).toLowerCase())})(Object.create(null)),hb=t=>(t=t.toLowerCase(),r=>t8(r)===t),n8=t=>r=>typeof r===t,{isArray:UE}=Array,qR=n8("undefined");function Gbe(t){return t!==null&&!qR(t)&&t.constructor!==null&&!qR(t.constructor)&&Fm(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const pee=hb("ArrayBuffer");function qbe(t){let r;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?r=ArrayBuffer.isView(t):r=t&&t.buffer&&pee(t.buffer),r}const Ybe=n8("string"),Fm=n8("function"),bee=n8("number"),o8=t=>t!==null&&typeof t=="object",Xbe=t=>t===!0||t===!1,q6=t=>{if(t8(t)!=="object")return!1;const r=oK(t);return(r===null||r===Object.prototype||Object.getPrototypeOf(r)===null)&&!(hee in t)&&!(e8 in t)},Jbe=hb("Date"),Qbe=hb("File"),eve=hb("Blob"),tve=hb("FileList"),nve=t=>o8(t)&&Fm(t.pipe),ove=t=>{let r;return t&&(typeof FormData=="function"&&t instanceof FormData||Fm(t.append)&&((r=t8(t))==="formdata"||r==="object"&&Fm(t.toString)&&t.toString()==="[object FormData]"))},sve=hb("URLSearchParams"),[rve,ive,ave,lve]=["ReadableStream","Request","Response","Headers"].map(hb),cve=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function bI(t,r,{allOwnKeys:i=!1}={}){if(t===null||typeof t>"u")return;let u,m;if(typeof t!="object"&&(t=[t]),UE(t))for(u=0,m=t.length;u<m;u++)r.call(null,t[u],u,t);else{const h=i?Object.getOwnPropertyNames(t):Object.keys(t),x=h.length;let w;for(u=0;u<x;u++)w=h[u],r.call(null,t[w],w,t)}}function vee(t,r){r=r.toLowerCase();const i=Object.keys(t);let u=i.length,m;for(;u-- >0;)if(m=i[u],r===m.toLowerCase())return m;return null}const UC=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,yee=t=>!qR(t)&&t!==UC;function aW(){const{caseless:t}=yee(this)&&this||{},r={},i=(u,m)=>{const h=t&&vee(r,m)||m;q6(r[h])&&q6(u)?r[h]=aW(r[h],u):q6(u)?r[h]=aW({},u):UE(u)?r[h]=u.slice():r[h]=u};for(let u=0,m=arguments.length;u<m;u++)arguments[u]&&bI(arguments[u],i);return r}const uve=(t,r,i,{allOwnKeys:u}={})=>(bI(r,(m,h)=>{i&&Fm(m)?t[h]=gee(m,i):t[h]=m},{allOwnKeys:u}),t),dve=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),fve=(t,r,i,u)=>{t.prototype=Object.create(r.prototype,u),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:r.prototype}),i&&Object.assign(t.prototype,i)},mve=(t,r,i,u)=>{let m,h,x;const w={};if(r=r||{},t==null)return r;do{for(m=Object.getOwnPropertyNames(t),h=m.length;h-- >0;)x=m[h],(!u||u(x,t,r))&&!w[x]&&(r[x]=t[x],w[x]=!0);t=i!==!1&&oK(t)}while(t&&(!i||i(t,r))&&t!==Object.prototype);return r},gve=(t,r,i)=>{t=String(t),(i===void 0||i>t.length)&&(i=t.length),i-=r.length;const u=t.indexOf(r,i);return u!==-1&&u===i},hve=t=>{if(!t)return null;if(UE(t))return t;let r=t.length;if(!bee(r))return null;const i=new Array(r);for(;r-- >0;)i[r]=t[r];return i},pve=(t=>r=>t&&r instanceof t)(typeof Uint8Array<"u"&&oK(Uint8Array)),bve=(t,r)=>{const u=(t&&t[e8]).call(t);let m;for(;(m=u.next())&&!m.done;){const h=m.value;r.call(t,h[0],h[1])}},vve=(t,r)=>{let i;const u=[];for(;(i=t.exec(r))!==null;)u.push(i);return u},yve=hb("HTMLFormElement"),xve=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(i,u,m){return u.toUpperCase()+m}),_Y=(({hasOwnProperty:t})=>(r,i)=>t.call(r,i))(Object.prototype),wve=hb("RegExp"),xee=(t,r)=>{const i=Object.getOwnPropertyDescriptors(t),u={};bI(i,(m,h)=>{let x;(x=r(m,h,t))!==!1&&(u[h]=x||m)}),Object.defineProperties(t,u)},Cve=t=>{xee(t,(r,i)=>{if(Fm(t)&&["arguments","caller","callee"].indexOf(i)!==-1)return!1;const u=t[i];if(Fm(u)){if(r.enumerable=!1,"writable"in r){r.writable=!1;return}r.set||(r.set=()=>{throw Error("Can not rewrite read-only method '"+i+"'")})}})},Sve=(t,r)=>{const i={},u=m=>{m.forEach(h=>{i[h]=!0})};return UE(t)?u(t):u(String(t).split(r)),i},_ve=()=>{},kve=(t,r)=>t!=null&&Number.isFinite(t=+t)?t:r;function Eve(t){return!!(t&&Fm(t.append)&&t[hee]==="FormData"&&t[e8])}const Tve=t=>{const r=new Array(10),i=(u,m)=>{if(o8(u)){if(r.indexOf(u)>=0)return;if(!("toJSON"in u)){r[m]=u;const h=UE(u)?[]:{};return bI(u,(x,w)=>{const R=i(x,m+1);!qR(R)&&(h[w]=R)}),r[m]=void 0,h}}return u};return i(t,0)},Ave=hb("AsyncFunction"),Ove=t=>t&&(o8(t)||Fm(t))&&Fm(t.then)&&Fm(t.catch),wee=((t,r)=>t?setImmediate:r?((i,u)=>(UC.addEventListener("message",({source:m,data:h})=>{m===UC&&h===i&&u.length&&u.shift()()},!1),m=>{u.push(m),UC.postMessage(i,"*")}))(`axios@${Math.random()}`,[]):i=>setTimeout(i))(typeof setImmediate=="function",Fm(UC.postMessage)),Rve=typeof queueMicrotask<"u"?queueMicrotask.bind(UC):typeof process<"u"&&process.nextTick||wee,Ive=t=>t!=null&&Fm(t[e8]),ln={isArray:UE,isArrayBuffer:pee,isBuffer:Gbe,isFormData:ove,isArrayBufferView:qbe,isString:Ybe,isNumber:bee,isBoolean:Xbe,isObject:o8,isPlainObject:q6,isReadableStream:rve,isRequest:ive,isResponse:ave,isHeaders:lve,isUndefined:qR,isDate:Jbe,isFile:Qbe,isBlob:eve,isRegExp:wve,isFunction:Fm,isStream:nve,isURLSearchParams:sve,isTypedArray:pve,isFileList:tve,forEach:bI,merge:aW,extend:uve,trim:cve,stripBOM:dve,inherits:fve,toFlatObject:mve,kindOf:t8,kindOfTest:hb,endsWith:gve,toArray:hve,forEachEntry:bve,matchAll:vve,isHTMLForm:yve,hasOwnProperty:_Y,hasOwnProp:_Y,reduceDescriptors:xee,freezeMethods:Cve,toObjectSet:Sve,toCamelCase:xve,noop:_ve,toFiniteNumber:kve,findKey:vee,global:UC,isContextDefined:yee,isSpecCompliantForm:Eve,toJSONObject:Tve,isAsyncFn:Ave,isThenable:Ove,setImmediate:wee,asap:Rve,isIterable:Ive};function ur(t,r,i,u,m){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",r&&(this.code=r),i&&(this.config=i),u&&(this.request=u),m&&(this.response=m,this.status=m.status?m.status:null)}ln.inherits(ur,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:ln.toJSONObject(this.config),code:this.code,status:this.status}}});const Cee=ur.prototype,See={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{See[t]={value:t}});Object.defineProperties(ur,See);Object.defineProperty(Cee,"isAxiosError",{value:!0});ur.from=(t,r,i,u,m,h)=>{const x=Object.create(Cee);return ln.toFlatObject(t,x,function(R){return R!==Error.prototype},w=>w!=="isAxiosError"),ur.call(x,t.message,r,i,u,m),x.cause=t,x.name=t.name,h&&Object.assign(x,h),x};const Dve=null;function lW(t){return ln.isPlainObject(t)||ln.isArray(t)}function _ee(t){return ln.endsWith(t,"[]")?t.slice(0,-2):t}function kY(t,r,i){return t?t.concat(r).map(function(m,h){return m=_ee(m),!i&&h?"["+m+"]":m}).join(i?".":""):r}function Pve(t){return ln.isArray(t)&&!t.some(lW)}const Nve=ln.toFlatObject(ln,{},null,function(r){return/^is[A-Z]/.test(r)});function s8(t,r,i){if(!ln.isObject(t))throw new TypeError("target must be an object");r=r||new FormData,i=ln.toFlatObject(i,{metaTokens:!0,dots:!1,indexes:!1},!1,function(te,re){return!ln.isUndefined(re[te])});const u=i.metaTokens,m=i.visitor||A,h=i.dots,x=i.indexes,R=(i.Blob||typeof Blob<"u"&&Blob)&&ln.isSpecCompliantForm(r);if(!ln.isFunction(m))throw new TypeError("visitor must be a function");function P(G){if(G===null)return"";if(ln.isDate(G))return G.toISOString();if(ln.isBoolean(G))return G.toString();if(!R&&ln.isBlob(G))throw new ur("Blob is not supported. Use a Buffer instead.");return ln.isArrayBuffer(G)||ln.isTypedArray(G)?R&&typeof Blob=="function"?new Blob([G]):Buffer.from(G):G}function A(G,te,re){let W=G;if(G&&!re&&typeof G=="object"){if(ln.endsWith(te,"{}"))te=u?te:te.slice(0,-2),G=JSON.stringify(G);else if(ln.isArray(G)&&Pve(G)||(ln.isFileList(G)||ln.endsWith(te,"[]"))&&(W=ln.toArray(G)))return te=_ee(te),W.forEach(function(he,j){!(ln.isUndefined(he)||he===null)&&r.append(x===!0?kY([te],j,h):x===null?te:te+"[]",P(he))}),!1}return lW(G)?!0:(r.append(kY(re,te,h),P(G)),!1)}const M=[],H=Object.assign(Nve,{defaultVisitor:A,convertValue:P,isVisitable:lW});function K(G,te){if(!ln.isUndefined(G)){if(M.indexOf(G)!==-1)throw Error("Circular reference detected in "+te.join("."));M.push(G),ln.forEach(G,function(W,ge){(!(ln.isUndefined(W)||W===null)&&m.call(r,W,ln.isString(ge)?ge.trim():ge,te,H))===!0&&K(W,te?te.concat(ge):[ge])}),M.pop()}}if(!ln.isObject(t))throw new TypeError("data must be an object");return K(t),r}function EY(t){const r={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(u){return r[u]})}function sK(t,r){this._pairs=[],t&&s8(t,this,r)}const kee=sK.prototype;kee.append=function(r,i){this._pairs.push([r,i])};kee.toString=function(r){const i=r?function(u){return r.call(this,u,EY)}:EY;return this._pairs.map(function(m){return i(m[0])+"="+i(m[1])},"").join("&")};function Mve(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Eee(t,r,i){if(!r)return t;const u=i&&i.encode||Mve;ln.isFunction(i)&&(i={serialize:i});const m=i&&i.serialize;let h;if(m?h=m(r,i):h=ln.isURLSearchParams(r)?r.toString():new sK(r,i).toString(u),h){const x=t.indexOf("#");x!==-1&&(t=t.slice(0,x)),t+=(t.indexOf("?")===-1?"?":"&")+h}return t}class TY{constructor(){this.handlers=[]}use(r,i,u){return this.handlers.push({fulfilled:r,rejected:i,synchronous:u?u.synchronous:!1,runWhen:u?u.runWhen:null}),this.handlers.length-1}eject(r){this.handlers[r]&&(this.handlers[r]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(r){ln.forEach(this.handlers,function(u){u!==null&&r(u)})}}const Tee={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Lve=typeof URLSearchParams<"u"?URLSearchParams:sK,Bve=typeof FormData<"u"?FormData:null,Fve=typeof Blob<"u"?Blob:null,$ve={isBrowser:!0,classes:{URLSearchParams:Lve,FormData:Bve,Blob:Fve},protocols:["http","https","file","blob","url","data"]},rK=typeof window<"u"&&typeof document<"u",cW=typeof navigator=="object"&&navigator||void 0,Vve=rK&&(!cW||["ReactNative","NativeScript","NS"].indexOf(cW.product)<0),zve=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Hve=rK&&window.location.href||"http://localhost",Uve=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:rK,hasStandardBrowserEnv:Vve,hasStandardBrowserWebWorkerEnv:zve,navigator:cW,origin:Hve},Symbol.toStringTag,{value:"Module"})),Ud={...Uve,...$ve};function Wve(t,r){return s8(t,new Ud.classes.URLSearchParams,Object.assign({visitor:function(i,u,m,h){return Ud.isNode&&ln.isBuffer(i)?(this.append(u,i.toString("base64")),!1):h.defaultVisitor.apply(this,arguments)}},r))}function Kve(t){return ln.matchAll(/\w+|\[(\w*)]/g,t).map(r=>r[0]==="[]"?"":r[1]||r[0])}function jve(t){const r={},i=Object.keys(t);let u;const m=i.length;let h;for(u=0;u<m;u++)h=i[u],r[h]=t[h];return r}function Aee(t){function r(i,u,m,h){let x=i[h++];if(x==="__proto__")return!0;const w=Number.isFinite(+x),R=h>=i.length;return x=!x&&ln.isArray(m)?m.length:x,R?(ln.hasOwnProp(m,x)?m[x]=[m[x],u]:m[x]=u,!w):((!m[x]||!ln.isObject(m[x]))&&(m[x]=[]),r(i,u,m[x],h)&&ln.isArray(m[x])&&(m[x]=jve(m[x])),!w)}if(ln.isFormData(t)&&ln.isFunction(t.entries)){const i={};return ln.forEachEntry(t,(u,m)=>{r(Kve(u),m,i,0)}),i}return null}function Zve(t,r,i){if(ln.isString(t))try{return(r||JSON.parse)(t),ln.trim(t)}catch(u){if(u.name!=="SyntaxError")throw u}return(i||JSON.stringify)(t)}const vI={transitional:Tee,adapter:["xhr","http","fetch"],transformRequest:[function(r,i){const u=i.getContentType()||"",m=u.indexOf("application/json")>-1,h=ln.isObject(r);if(h&&ln.isHTMLForm(r)&&(r=new FormData(r)),ln.isFormData(r))return m?JSON.stringify(Aee(r)):r;if(ln.isArrayBuffer(r)||ln.isBuffer(r)||ln.isStream(r)||ln.isFile(r)||ln.isBlob(r)||ln.isReadableStream(r))return r;if(ln.isArrayBufferView(r))return r.buffer;if(ln.isURLSearchParams(r))return i.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),r.toString();let w;if(h){if(u.indexOf("application/x-www-form-urlencoded")>-1)return Wve(r,this.formSerializer).toString();if((w=ln.isFileList(r))||u.indexOf("multipart/form-data")>-1){const R=this.env&&this.env.FormData;return s8(w?{"files[]":r}:r,R&&new R,this.formSerializer)}}return h||m?(i.setContentType("application/json",!1),Zve(r)):r}],transformResponse:[function(r){const i=this.transitional||vI.transitional,u=i&&i.forcedJSONParsing,m=this.responseType==="json";if(ln.isResponse(r)||ln.isReadableStream(r))return r;if(r&&ln.isString(r)&&(u&&!this.responseType||m)){const x=!(i&&i.silentJSONParsing)&&m;try{return JSON.parse(r)}catch(w){if(x)throw w.name==="SyntaxError"?ur.from(w,ur.ERR_BAD_RESPONSE,this,null,this.response):w}}return r}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Ud.classes.FormData,Blob:Ud.classes.Blob},validateStatus:function(r){return r>=200&&r<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};ln.forEach(["delete","get","head","post","put","patch"],t=>{vI.headers[t]={}});const Gve=ln.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),qve=t=>{const r={};let i,u,m;return t&&t.split(`
`).forEach(function(x){m=x.indexOf(":"),i=x.substring(0,m).trim().toLowerCase(),u=x.substring(m+1).trim(),!(!i||r[i]&&Gve[i])&&(i==="set-cookie"?r[i]?r[i].push(u):r[i]=[u]:r[i]=r[i]?r[i]+", "+u:u)}),r},AY=Symbol("internals");function vR(t){return t&&String(t).trim().toLowerCase()}function Y6(t){return t===!1||t==null?t:ln.isArray(t)?t.map(Y6):String(t)}function Yve(t){const r=Object.create(null),i=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let u;for(;u=i.exec(t);)r[u[1]]=u[2];return r}const Xve=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function eU(t,r,i,u,m){if(ln.isFunction(u))return u.call(this,r,i);if(m&&(r=i),!!ln.isString(r)){if(ln.isString(u))return r.indexOf(u)!==-1;if(ln.isRegExp(u))return u.test(r)}}function Jve(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(r,i,u)=>i.toUpperCase()+u)}function Qve(t,r){const i=ln.toCamelCase(" "+r);["get","set","has"].forEach(u=>{Object.defineProperty(t,u+i,{value:function(m,h,x){return this[u].call(this,r,m,h,x)},configurable:!0})})}let $m=class{constructor(r){r&&this.set(r)}set(r,i,u){const m=this;function h(w,R,P){const A=vR(R);if(!A)throw new Error("header name must be a non-empty string");const M=ln.findKey(m,A);(!M||m[M]===void 0||P===!0||P===void 0&&m[M]!==!1)&&(m[M||R]=Y6(w))}const x=(w,R)=>ln.forEach(w,(P,A)=>h(P,A,R));if(ln.isPlainObject(r)||r instanceof this.constructor)x(r,i);else if(ln.isString(r)&&(r=r.trim())&&!Xve(r))x(qve(r),i);else if(ln.isObject(r)&&ln.isIterable(r)){let w={},R,P;for(const A of r){if(!ln.isArray(A))throw TypeError("Object iterator must return a key-value pair");w[P=A[0]]=(R=w[P])?ln.isArray(R)?[...R,A[1]]:[R,A[1]]:A[1]}x(w,i)}else r!=null&&h(i,r,u);return this}get(r,i){if(r=vR(r),r){const u=ln.findKey(this,r);if(u){const m=this[u];if(!i)return m;if(i===!0)return Yve(m);if(ln.isFunction(i))return i.call(this,m,u);if(ln.isRegExp(i))return i.exec(m);throw new TypeError("parser must be boolean|regexp|function")}}}has(r,i){if(r=vR(r),r){const u=ln.findKey(this,r);return!!(u&&this[u]!==void 0&&(!i||eU(this,this[u],u,i)))}return!1}delete(r,i){const u=this;let m=!1;function h(x){if(x=vR(x),x){const w=ln.findKey(u,x);w&&(!i||eU(u,u[w],w,i))&&(delete u[w],m=!0)}}return ln.isArray(r)?r.forEach(h):h(r),m}clear(r){const i=Object.keys(this);let u=i.length,m=!1;for(;u--;){const h=i[u];(!r||eU(this,this[h],h,r,!0))&&(delete this[h],m=!0)}return m}normalize(r){const i=this,u={};return ln.forEach(this,(m,h)=>{const x=ln.findKey(u,h);if(x){i[x]=Y6(m),delete i[h];return}const w=r?Jve(h):String(h).trim();w!==h&&delete i[h],i[w]=Y6(m),u[w]=!0}),this}concat(...r){return this.constructor.concat(this,...r)}toJSON(r){const i=Object.create(null);return ln.forEach(this,(u,m)=>{u!=null&&u!==!1&&(i[m]=r&&ln.isArray(u)?u.join(", "):u)}),i}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([r,i])=>r+": "+i).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(r){return r instanceof this?r:new this(r)}static concat(r,...i){const u=new this(r);return i.forEach(m=>u.set(m)),u}static accessor(r){const u=(this[AY]=this[AY]={accessors:{}}).accessors,m=this.prototype;function h(x){const w=vR(x);u[w]||(Qve(m,x),u[w]=!0)}return ln.isArray(r)?r.forEach(h):h(r),this}};$m.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);ln.reduceDescriptors($m.prototype,({value:t},r)=>{let i=r[0].toUpperCase()+r.slice(1);return{get:()=>t,set(u){this[i]=u}}});ln.freezeMethods($m);function tU(t,r){const i=this||vI,u=r||i,m=$m.from(u.headers);let h=u.data;return ln.forEach(t,function(w){h=w.call(i,h,m.normalize(),r?r.status:void 0)}),m.normalize(),h}function Oee(t){return!!(t&&t.__CANCEL__)}function WE(t,r,i){ur.call(this,t??"canceled",ur.ERR_CANCELED,r,i),this.name="CanceledError"}ln.inherits(WE,ur,{__CANCEL__:!0});function Ree(t,r,i){const u=i.config.validateStatus;!i.status||!u||u(i.status)?t(i):r(new ur("Request failed with status code "+i.status,[ur.ERR_BAD_REQUEST,ur.ERR_BAD_RESPONSE][Math.floor(i.status/100)-4],i.config,i.request,i))}function e0e(t){const r=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return r&&r[1]||""}function t0e(t,r){t=t||10;const i=new Array(t),u=new Array(t);let m=0,h=0,x;return r=r!==void 0?r:1e3,function(R){const P=Date.now(),A=u[h];x||(x=P),i[m]=R,u[m]=P;let M=h,H=0;for(;M!==m;)H+=i[M++],M=M%t;if(m=(m+1)%t,m===h&&(h=(h+1)%t),P-x<r)return;const K=A&&P-A;return K?Math.round(H*1e3/K):void 0}}function n0e(t,r){let i=0,u=1e3/r,m,h;const x=(P,A=Date.now())=>{i=A,m=null,h&&(clearTimeout(h),h=null),t.apply(null,P)};return[(...P)=>{const A=Date.now(),M=A-i;M>=u?x(P,A):(m=P,h||(h=setTimeout(()=>{h=null,x(m)},u-M)))},()=>m&&x(m)]}const SF=(t,r,i=3)=>{let u=0;const m=t0e(50,250);return n0e(h=>{const x=h.loaded,w=h.lengthComputable?h.total:void 0,R=x-u,P=m(R),A=x<=w;u=x;const M={loaded:x,total:w,progress:w?x/w:void 0,bytes:R,rate:P||void 0,estimated:P&&w&&A?(w-x)/P:void 0,event:h,lengthComputable:w!=null,[r?"download":"upload"]:!0};t(M)},i)},OY=(t,r)=>{const i=t!=null;return[u=>r[0]({lengthComputable:i,total:t,loaded:u}),r[1]]},RY=t=>(...r)=>ln.asap(()=>t(...r)),o0e=Ud.hasStandardBrowserEnv?((t,r)=>i=>(i=new URL(i,Ud.origin),t.protocol===i.protocol&&t.host===i.host&&(r||t.port===i.port)))(new URL(Ud.origin),Ud.navigator&&/(msie|trident)/i.test(Ud.navigator.userAgent)):()=>!0,s0e=Ud.hasStandardBrowserEnv?{write(t,r,i,u,m,h){const x=[t+"="+encodeURIComponent(r)];ln.isNumber(i)&&x.push("expires="+new Date(i).toGMTString()),ln.isString(u)&&x.push("path="+u),ln.isString(m)&&x.push("domain="+m),h===!0&&x.push("secure"),document.cookie=x.join("; ")},read(t){const r=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return r?decodeURIComponent(r[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function r0e(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function i0e(t,r){return r?t.replace(/\/?\/$/,"")+"/"+r.replace(/^\/+/,""):t}function Iee(t,r,i){let u=!r0e(r);return t&&(u||i==!1)?i0e(t,r):r}const IY=t=>t instanceof $m?{...t}:t;function YC(t,r){r=r||{};const i={};function u(P,A,M,H){return ln.isPlainObject(P)&&ln.isPlainObject(A)?ln.merge.call({caseless:H},P,A):ln.isPlainObject(A)?ln.merge({},A):ln.isArray(A)?A.slice():A}function m(P,A,M,H){if(ln.isUndefined(A)){if(!ln.isUndefined(P))return u(void 0,P,M,H)}else return u(P,A,M,H)}function h(P,A){if(!ln.isUndefined(A))return u(void 0,A)}function x(P,A){if(ln.isUndefined(A)){if(!ln.isUndefined(P))return u(void 0,P)}else return u(void 0,A)}function w(P,A,M){if(M in r)return u(P,A);if(M in t)return u(void 0,P)}const R={url:h,method:h,data:h,baseURL:x,transformRequest:x,transformResponse:x,paramsSerializer:x,timeout:x,timeoutMessage:x,withCredentials:x,withXSRFToken:x,adapter:x,responseType:x,xsrfCookieName:x,xsrfHeaderName:x,onUploadProgress:x,onDownloadProgress:x,decompress:x,maxContentLength:x,maxBodyLength:x,beforeRedirect:x,transport:x,httpAgent:x,httpsAgent:x,cancelToken:x,socketPath:x,responseEncoding:x,validateStatus:w,headers:(P,A,M)=>m(IY(P),IY(A),M,!0)};return ln.forEach(Object.keys(Object.assign({},t,r)),function(A){const M=R[A]||m,H=M(t[A],r[A],A);ln.isUndefined(H)&&M!==w||(i[A]=H)}),i}const Dee=t=>{const r=YC({},t);let{data:i,withXSRFToken:u,xsrfHeaderName:m,xsrfCookieName:h,headers:x,auth:w}=r;r.headers=x=$m.from(x),r.url=Eee(Iee(r.baseURL,r.url,r.allowAbsoluteUrls),t.params,t.paramsSerializer),w&&x.set("Authorization","Basic "+btoa((w.username||"")+":"+(w.password?unescape(encodeURIComponent(w.password)):"")));let R;if(ln.isFormData(i)){if(Ud.hasStandardBrowserEnv||Ud.hasStandardBrowserWebWorkerEnv)x.setContentType(void 0);else if((R=x.getContentType())!==!1){const[P,...A]=R?R.split(";").map(M=>M.trim()).filter(Boolean):[];x.setContentType([P||"multipart/form-data",...A].join("; "))}}if(Ud.hasStandardBrowserEnv&&(u&&ln.isFunction(u)&&(u=u(r)),u||u!==!1&&o0e(r.url))){const P=m&&h&&s0e.read(h);P&&x.set(m,P)}return r},a0e=typeof XMLHttpRequest<"u",l0e=a0e&&function(t){return new Promise(function(i,u){const m=Dee(t);let h=m.data;const x=$m.from(m.headers).normalize();let{responseType:w,onUploadProgress:R,onDownloadProgress:P}=m,A,M,H,K,G;function te(){K&&K(),G&&G(),m.cancelToken&&m.cancelToken.unsubscribe(A),m.signal&&m.signal.removeEventListener("abort",A)}let re=new XMLHttpRequest;re.open(m.method.toUpperCase(),m.url,!0),re.timeout=m.timeout;function W(){if(!re)return;const he=$m.from("getAllResponseHeaders"in re&&re.getAllResponseHeaders()),me={data:!w||w==="text"||w==="json"?re.responseText:re.response,status:re.status,statusText:re.statusText,headers:he,config:t,request:re};Ree(function(Ce){i(Ce),te()},function(Ce){u(Ce),te()},me),re=null}"onloadend"in re?re.onloadend=W:re.onreadystatechange=function(){!re||re.readyState!==4||re.status===0&&!(re.responseURL&&re.responseURL.indexOf("file:")===0)||setTimeout(W)},re.onabort=function(){re&&(u(new ur("Request aborted",ur.ECONNABORTED,t,re)),re=null)},re.onerror=function(){u(new ur("Network Error",ur.ERR_NETWORK,t,re)),re=null},re.ontimeout=function(){let j=m.timeout?"timeout of "+m.timeout+"ms exceeded":"timeout exceeded";const me=m.transitional||Tee;m.timeoutErrorMessage&&(j=m.timeoutErrorMessage),u(new ur(j,me.clarifyTimeoutError?ur.ETIMEDOUT:ur.ECONNABORTED,t,re)),re=null},h===void 0&&x.setContentType(null),"setRequestHeader"in re&&ln.forEach(x.toJSON(),function(j,me){re.setRequestHeader(me,j)}),ln.isUndefined(m.withCredentials)||(re.withCredentials=!!m.withCredentials),w&&w!=="json"&&(re.responseType=m.responseType),P&&([H,G]=SF(P,!0),re.addEventListener("progress",H)),R&&re.upload&&([M,K]=SF(R),re.upload.addEventListener("progress",M),re.upload.addEventListener("loadend",K)),(m.cancelToken||m.signal)&&(A=he=>{re&&(u(!he||he.type?new WE(null,t,re):he),re.abort(),re=null)},m.cancelToken&&m.cancelToken.subscribe(A),m.signal&&(m.signal.aborted?A():m.signal.addEventListener("abort",A)));const ge=e0e(m.url);if(ge&&Ud.protocols.indexOf(ge)===-1){u(new ur("Unsupported protocol "+ge+":",ur.ERR_BAD_REQUEST,t));return}re.send(h||null)})},c0e=(t,r)=>{const{length:i}=t=t?t.filter(Boolean):[];if(r||i){let u=new AbortController,m;const h=function(P){if(!m){m=!0,w();const A=P instanceof Error?P:this.reason;u.abort(A instanceof ur?A:new WE(A instanceof Error?A.message:A))}};let x=r&&setTimeout(()=>{x=null,h(new ur(`timeout ${r} of ms exceeded`,ur.ETIMEDOUT))},r);const w=()=>{t&&(x&&clearTimeout(x),x=null,t.forEach(P=>{P.unsubscribe?P.unsubscribe(h):P.removeEventListener("abort",h)}),t=null)};t.forEach(P=>P.addEventListener("abort",h));const{signal:R}=u;return R.unsubscribe=()=>ln.asap(w),R}},u0e=function*(t,r){let i=t.byteLength;if(i<r){yield t;return}let u=0,m;for(;u<i;)m=u+r,yield t.slice(u,m),u=m},d0e=async function*(t,r){for await(const i of f0e(t))yield*u0e(i,r)},f0e=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const r=t.getReader();try{for(;;){const{done:i,value:u}=await r.read();if(i)break;yield u}}finally{await r.cancel()}},DY=(t,r,i,u)=>{const m=d0e(t,r);let h=0,x,w=R=>{x||(x=!0,u&&u(R))};return new ReadableStream({async pull(R){try{const{done:P,value:A}=await m.next();if(P){w(),R.close();return}let M=A.byteLength;if(i){let H=h+=M;i(H)}R.enqueue(new Uint8Array(A))}catch(P){throw w(P),P}},cancel(R){return w(R),m.return()}},{highWaterMark:2})},r8=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",Pee=r8&&typeof ReadableStream=="function",m0e=r8&&(typeof TextEncoder=="function"?(t=>r=>t.encode(r))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),Nee=(t,...r)=>{try{return!!t(...r)}catch{return!1}},g0e=Pee&&Nee(()=>{let t=!1;const r=new Request(Ud.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!r}),PY=64*1024,uW=Pee&&Nee(()=>ln.isReadableStream(new Response("").body)),_F={stream:uW&&(t=>t.body)};r8&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(r=>{!_F[r]&&(_F[r]=ln.isFunction(t[r])?i=>i[r]():(i,u)=>{throw new ur(`Response type '${r}' is not supported`,ur.ERR_NOT_SUPPORT,u)})})})(new Response);const h0e=async t=>{if(t==null)return 0;if(ln.isBlob(t))return t.size;if(ln.isSpecCompliantForm(t))return(await new Request(Ud.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(ln.isArrayBufferView(t)||ln.isArrayBuffer(t))return t.byteLength;if(ln.isURLSearchParams(t)&&(t=t+""),ln.isString(t))return(await m0e(t)).byteLength},p0e=async(t,r)=>{const i=ln.toFiniteNumber(t.getContentLength());return i??h0e(r)},b0e=r8&&(async t=>{let{url:r,method:i,data:u,signal:m,cancelToken:h,timeout:x,onDownloadProgress:w,onUploadProgress:R,responseType:P,headers:A,withCredentials:M="same-origin",fetchOptions:H}=Dee(t);P=P?(P+"").toLowerCase():"text";let K=c0e([m,h&&h.toAbortSignal()],x),G;const te=K&&K.unsubscribe&&(()=>{K.unsubscribe()});let re;try{if(R&&g0e&&i!=="get"&&i!=="head"&&(re=await p0e(A,u))!==0){let me=new Request(r,{method:"POST",body:u,duplex:"half"}),oe;if(ln.isFormData(u)&&(oe=me.headers.get("content-type"))&&A.setContentType(oe),me.body){const[Ce,Ue]=OY(re,SF(RY(R)));u=DY(me.body,PY,Ce,Ue)}}ln.isString(M)||(M=M?"include":"omit");const W="credentials"in Request.prototype;G=new Request(r,{...H,signal:K,method:i.toUpperCase(),headers:A.normalize().toJSON(),body:u,duplex:"half",credentials:W?M:void 0});let ge=await fetch(G,H);const he=uW&&(P==="stream"||P==="response");if(uW&&(w||he&&te)){const me={};["status","statusText","headers"].forEach(et=>{me[et]=ge[et]});const oe=ln.toFiniteNumber(ge.headers.get("content-length")),[Ce,Ue]=w&&OY(oe,SF(RY(w),!0))||[];ge=new Response(DY(ge.body,PY,Ce,()=>{Ue&&Ue(),te&&te()}),me)}P=P||"text";let j=await _F[ln.findKey(_F,P)||"text"](ge,t);return!he&&te&&te(),await new Promise((me,oe)=>{Ree(me,oe,{data:j,headers:$m.from(ge.headers),status:ge.status,statusText:ge.statusText,config:t,request:G})})}catch(W){throw te&&te(),W&&W.name==="TypeError"&&/Load failed|fetch/i.test(W.message)?Object.assign(new ur("Network Error",ur.ERR_NETWORK,t,G),{cause:W.cause||W}):ur.from(W,W&&W.code,t,G)}}),dW={http:Dve,xhr:l0e,fetch:b0e};ln.forEach(dW,(t,r)=>{if(t){try{Object.defineProperty(t,"name",{value:r})}catch{}Object.defineProperty(t,"adapterName",{value:r})}});const NY=t=>`- ${t}`,v0e=t=>ln.isFunction(t)||t===null||t===!1,Mee={getAdapter:t=>{t=ln.isArray(t)?t:[t];const{length:r}=t;let i,u;const m={};for(let h=0;h<r;h++){i=t[h];let x;if(u=i,!v0e(i)&&(u=dW[(x=String(i)).toLowerCase()],u===void 0))throw new ur(`Unknown adapter '${x}'`);if(u)break;m[x||"#"+h]=u}if(!u){const h=Object.entries(m).map(([w,R])=>`adapter ${w} `+(R===!1?"is not supported by the environment":"is not available in the build"));let x=r?h.length>1?`since :
`+h.map(NY).join(`
`):" "+NY(h[0]):"as no adapter specified";throw new ur("There is no suitable adapter to dispatch the request "+x,"ERR_NOT_SUPPORT")}return u},adapters:dW};function nU(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new WE(null,t)}function MY(t){return nU(t),t.headers=$m.from(t.headers),t.data=tU.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),Mee.getAdapter(t.adapter||vI.adapter)(t).then(function(u){return nU(t),u.data=tU.call(t,t.transformResponse,u),u.headers=$m.from(u.headers),u},function(u){return Oee(u)||(nU(t),u&&u.response&&(u.response.data=tU.call(t,t.transformResponse,u.response),u.response.headers=$m.from(u.response.headers))),Promise.reject(u)})}const Lee="1.10.0",i8={};["object","boolean","number","function","string","symbol"].forEach((t,r)=>{i8[t]=function(u){return typeof u===t||"a"+(r<1?"n ":" ")+t}});const LY={};i8.transitional=function(r,i,u){function m(h,x){return"[Axios v"+Lee+"] Transitional option '"+h+"'"+x+(u?". "+u:"")}return(h,x,w)=>{if(r===!1)throw new ur(m(x," has been removed"+(i?" in "+i:"")),ur.ERR_DEPRECATED);return i&&!LY[x]&&(LY[x]=!0,console.warn(m(x," has been deprecated since v"+i+" and will be removed in the near future"))),r?r(h,x,w):!0}};i8.spelling=function(r){return(i,u)=>(console.warn(`${u} is likely a misspelling of ${r}`),!0)};function y0e(t,r,i){if(typeof t!="object")throw new ur("options must be an object",ur.ERR_BAD_OPTION_VALUE);const u=Object.keys(t);let m=u.length;for(;m-- >0;){const h=u[m],x=r[h];if(x){const w=t[h],R=w===void 0||x(w,h,t);if(R!==!0)throw new ur("option "+h+" must be "+R,ur.ERR_BAD_OPTION_VALUE);continue}if(i!==!0)throw new ur("Unknown option "+h,ur.ERR_BAD_OPTION)}}const X6={assertOptions:y0e,validators:i8},Sv=X6.validators;let GC=class{constructor(r){this.defaults=r||{},this.interceptors={request:new TY,response:new TY}}async request(r,i){try{return await this._request(r,i)}catch(u){if(u instanceof Error){let m={};Error.captureStackTrace?Error.captureStackTrace(m):m=new Error;const h=m.stack?m.stack.replace(/^.+\n/,""):"";try{u.stack?h&&!String(u.stack).endsWith(h.replace(/^.+\n.+\n/,""))&&(u.stack+=`
`+h):u.stack=h}catch{}}throw u}}_request(r,i){typeof r=="string"?(i=i||{},i.url=r):i=r||{},i=YC(this.defaults,i);const{transitional:u,paramsSerializer:m,headers:h}=i;u!==void 0&&X6.assertOptions(u,{silentJSONParsing:Sv.transitional(Sv.boolean),forcedJSONParsing:Sv.transitional(Sv.boolean),clarifyTimeoutError:Sv.transitional(Sv.boolean)},!1),m!=null&&(ln.isFunction(m)?i.paramsSerializer={serialize:m}:X6.assertOptions(m,{encode:Sv.function,serialize:Sv.function},!0)),i.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?i.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:i.allowAbsoluteUrls=!0),X6.assertOptions(i,{baseUrl:Sv.spelling("baseURL"),withXsrfToken:Sv.spelling("withXSRFToken")},!0),i.method=(i.method||this.defaults.method||"get").toLowerCase();let x=h&&ln.merge(h.common,h[i.method]);h&&ln.forEach(["delete","get","head","post","put","patch","common"],G=>{delete h[G]}),i.headers=$m.concat(x,h);const w=[];let R=!0;this.interceptors.request.forEach(function(te){typeof te.runWhen=="function"&&te.runWhen(i)===!1||(R=R&&te.synchronous,w.unshift(te.fulfilled,te.rejected))});const P=[];this.interceptors.response.forEach(function(te){P.push(te.fulfilled,te.rejected)});let A,M=0,H;if(!R){const G=[MY.bind(this),void 0];for(G.unshift.apply(G,w),G.push.apply(G,P),H=G.length,A=Promise.resolve(i);M<H;)A=A.then(G[M++],G[M++]);return A}H=w.length;let K=i;for(M=0;M<H;){const G=w[M++],te=w[M++];try{K=G(K)}catch(re){te.call(this,re);break}}try{A=MY.call(this,K)}catch(G){return Promise.reject(G)}for(M=0,H=P.length;M<H;)A=A.then(P[M++],P[M++]);return A}getUri(r){r=YC(this.defaults,r);const i=Iee(r.baseURL,r.url,r.allowAbsoluteUrls);return Eee(i,r.params,r.paramsSerializer)}};ln.forEach(["delete","get","head","options"],function(r){GC.prototype[r]=function(i,u){return this.request(YC(u||{},{method:r,url:i,data:(u||{}).data}))}});ln.forEach(["post","put","patch"],function(r){function i(u){return function(h,x,w){return this.request(YC(w||{},{method:r,headers:u?{"Content-Type":"multipart/form-data"}:{},url:h,data:x}))}}GC.prototype[r]=i(),GC.prototype[r+"Form"]=i(!0)});let x0e=class Bee{constructor(r){if(typeof r!="function")throw new TypeError("executor must be a function.");let i;this.promise=new Promise(function(h){i=h});const u=this;this.promise.then(m=>{if(!u._listeners)return;let h=u._listeners.length;for(;h-- >0;)u._listeners[h](m);u._listeners=null}),this.promise.then=m=>{let h;const x=new Promise(w=>{u.subscribe(w),h=w}).then(m);return x.cancel=function(){u.unsubscribe(h)},x},r(function(h,x,w){u.reason||(u.reason=new WE(h,x,w),i(u.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(r){if(this.reason){r(this.reason);return}this._listeners?this._listeners.push(r):this._listeners=[r]}unsubscribe(r){if(!this._listeners)return;const i=this._listeners.indexOf(r);i!==-1&&this._listeners.splice(i,1)}toAbortSignal(){const r=new AbortController,i=u=>{r.abort(u)};return this.subscribe(i),r.signal.unsubscribe=()=>this.unsubscribe(i),r.signal}static source(){let r;return{token:new Bee(function(m){r=m}),cancel:r}}};function w0e(t){return function(i){return t.apply(null,i)}}function C0e(t){return ln.isObject(t)&&t.isAxiosError===!0}const fW={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(fW).forEach(([t,r])=>{fW[r]=t});function Fee(t){const r=new GC(t),i=gee(GC.prototype.request,r);return ln.extend(i,GC.prototype,r,{allOwnKeys:!0}),ln.extend(i,r,null,{allOwnKeys:!0}),i.create=function(m){return Fee(YC(t,m))},i}const ka=Fee(vI);ka.Axios=GC;ka.CanceledError=WE;ka.CancelToken=x0e;ka.isCancel=Oee;ka.VERSION=Lee;ka.toFormData=s8;ka.AxiosError=ur;ka.Cancel=ka.CanceledError;ka.all=function(r){return Promise.all(r)};ka.spread=w0e;ka.isAxiosError=C0e;ka.mergeConfig=YC;ka.AxiosHeaders=$m;ka.formToJSON=t=>Aee(ln.isHTMLForm(t)?new FormData(t):t);ka.getAdapter=Mee.getAdapter;ka.HttpStatusCode=fW;ka.default=ka;const{Axios:Xke,AxiosError:Jke,CanceledError:Qke,isCancel:eEe,CancelToken:tEe,VERSION:nEe,all:oEe,Cancel:sEe,isAxiosError:rEe,spread:iEe,toFormData:aEe,AxiosHeaders:lEe,HttpStatusCode:cEe,formToJSON:uEe,getAdapter:dEe,mergeConfig:fEe}=ka;/*! js-cookie v3.0.5 | MIT */function N6(t){for(var r=1;r<arguments.length;r++){var i=arguments[r];for(var u in i)t[u]=i[u]}return t}var S0e={read:function(t){return t[0]==='"'&&(t=t.slice(1,-1)),t.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(t){return encodeURIComponent(t).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}};function mW(t,r){function i(m,h,x){if(!(typeof document>"u")){x=N6({},r,x),typeof x.expires=="number"&&(x.expires=new Date(Date.now()+x.expires*864e5)),x.expires&&(x.expires=x.expires.toUTCString()),m=encodeURIComponent(m).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var w="";for(var R in x)x[R]&&(w+="; "+R,x[R]!==!0&&(w+="="+x[R].split(";")[0]));return document.cookie=m+"="+t.write(h,m)+w}}function u(m){if(!(typeof document>"u"||arguments.length&&!m)){for(var h=document.cookie?document.cookie.split("; "):[],x={},w=0;w<h.length;w++){var R=h[w].split("="),P=R.slice(1).join("=");try{var A=decodeURIComponent(R[0]);if(x[A]=t.read(P,A),m===A)break}catch{}}return m?x[m]:x}}return Object.create({set:i,get:u,remove:function(m,h){i(m,"",N6({},h,{expires:-1}))},withAttributes:function(m){return mW(this.converter,N6({},this.attributes,m))},withConverter:function(m){return mW(N6({},this.converter,m),this.attributes)}},{attributes:{value:Object.freeze(r)},converter:{value:Object.freeze(t)}})}var xr=mW(S0e,{path:"/"}),M6=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function iK(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var oU={exports:{}},sU={exports:{}},BY;function _0e(){return BY||(BY=1,function(){var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",r={rotl:function(i,u){return i<<u|i>>>32-u},rotr:function(i,u){return i<<32-u|i>>>u},endian:function(i){if(i.constructor==Number)return r.rotl(i,8)&16711935|r.rotl(i,24)&4278255360;for(var u=0;u<i.length;u++)i[u]=r.endian(i[u]);return i},randomBytes:function(i){for(var u=[];i>0;i--)u.push(Math.floor(Math.random()*256));return u},bytesToWords:function(i){for(var u=[],m=0,h=0;m<i.length;m++,h+=8)u[h>>>5]|=i[m]<<24-h%32;return u},wordsToBytes:function(i){for(var u=[],m=0;m<i.length*32;m+=8)u.push(i[m>>>5]>>>24-m%32&255);return u},bytesToHex:function(i){for(var u=[],m=0;m<i.length;m++)u.push((i[m]>>>4).toString(16)),u.push((i[m]&15).toString(16));return u.join("")},hexToBytes:function(i){for(var u=[],m=0;m<i.length;m+=2)u.push(parseInt(i.substr(m,2),16));return u},bytesToBase64:function(i){for(var u=[],m=0;m<i.length;m+=3)for(var h=i[m]<<16|i[m+1]<<8|i[m+2],x=0;x<4;x++)m*8+x*6<=i.length*8?u.push(t.charAt(h>>>6*(3-x)&63)):u.push("=");return u.join("")},base64ToBytes:function(i){i=i.replace(/[^A-Z0-9+\/]/ig,"");for(var u=[],m=0,h=0;m<i.length;h=++m%4)h!=0&&u.push((t.indexOf(i.charAt(m-1))&Math.pow(2,-2*h+8)-1)<<h*2|t.indexOf(i.charAt(m))>>>6-h*2);return u}};sU.exports=r}()),sU.exports}var rU,FY;function $Y(){if(FY)return rU;FY=1;var t={utf8:{stringToBytes:function(r){return t.bin.stringToBytes(unescape(encodeURIComponent(r)))},bytesToString:function(r){return decodeURIComponent(escape(t.bin.bytesToString(r)))}},bin:{stringToBytes:function(r){for(var i=[],u=0;u<r.length;u++)i.push(r.charCodeAt(u)&255);return i},bytesToString:function(r){for(var i=[],u=0;u<r.length;u++)i.push(String.fromCharCode(r[u]));return i.join("")}}};return rU=t,rU}/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var iU,VY;function k0e(){if(VY)return iU;VY=1,iU=function(i){return i!=null&&(t(i)||r(i)||!!i._isBuffer)};function t(i){return!!i.constructor&&typeof i.constructor.isBuffer=="function"&&i.constructor.isBuffer(i)}function r(i){return typeof i.readFloatLE=="function"&&typeof i.slice=="function"&&t(i.slice(0,0))}return iU}var zY;function E0e(){return zY||(zY=1,function(){var t=_0e(),r=$Y().utf8,i=k0e(),u=$Y().bin,m=function(h,x){h.constructor==String?x&&x.encoding==="binary"?h=u.stringToBytes(h):h=r.stringToBytes(h):i(h)?h=Array.prototype.slice.call(h,0):!Array.isArray(h)&&h.constructor!==Uint8Array&&(h=h.toString());for(var w=t.bytesToWords(h),R=h.length*8,P=1732584193,A=-271733879,M=-1732584194,H=271733878,K=0;K<w.length;K++)w[K]=(w[K]<<8|w[K]>>>24)&16711935|(w[K]<<24|w[K]>>>8)&4278255360;w[R>>>5]|=128<<R%32,w[(R+64>>>9<<4)+14]=R;for(var G=m._ff,te=m._gg,re=m._hh,W=m._ii,K=0;K<w.length;K+=16){var ge=P,he=A,j=M,me=H;P=G(P,A,M,H,w[K+0],7,-680876936),H=G(H,P,A,M,w[K+1],12,-389564586),M=G(M,H,P,A,w[K+2],17,606105819),A=G(A,M,H,P,w[K+3],22,-1044525330),P=G(P,A,M,H,w[K+4],7,-176418897),H=G(H,P,A,M,w[K+5],12,1200080426),M=G(M,H,P,A,w[K+6],17,-1473231341),A=G(A,M,H,P,w[K+7],22,-45705983),P=G(P,A,M,H,w[K+8],7,1770035416),H=G(H,P,A,M,w[K+9],12,-1958414417),M=G(M,H,P,A,w[K+10],17,-42063),A=G(A,M,H,P,w[K+11],22,-1990404162),P=G(P,A,M,H,w[K+12],7,1804603682),H=G(H,P,A,M,w[K+13],12,-40341101),M=G(M,H,P,A,w[K+14],17,-1502002290),A=G(A,M,H,P,w[K+15],22,1236535329),P=te(P,A,M,H,w[K+1],5,-165796510),H=te(H,P,A,M,w[K+6],9,-1069501632),M=te(M,H,P,A,w[K+11],14,643717713),A=te(A,M,H,P,w[K+0],20,-373897302),P=te(P,A,M,H,w[K+5],5,-701558691),H=te(H,P,A,M,w[K+10],9,38016083),M=te(M,H,P,A,w[K+15],14,-660478335),A=te(A,M,H,P,w[K+4],20,-405537848),P=te(P,A,M,H,w[K+9],5,568446438),H=te(H,P,A,M,w[K+14],9,-1019803690),M=te(M,H,P,A,w[K+3],14,-187363961),A=te(A,M,H,P,w[K+8],20,1163531501),P=te(P,A,M,H,w[K+13],5,-1444681467),H=te(H,P,A,M,w[K+2],9,-51403784),M=te(M,H,P,A,w[K+7],14,1735328473),A=te(A,M,H,P,w[K+12],20,-1926607734),P=re(P,A,M,H,w[K+5],4,-378558),H=re(H,P,A,M,w[K+8],11,-2022574463),M=re(M,H,P,A,w[K+11],16,1839030562),A=re(A,M,H,P,w[K+14],23,-35309556),P=re(P,A,M,H,w[K+1],4,-1530992060),H=re(H,P,A,M,w[K+4],11,1272893353),M=re(M,H,P,A,w[K+7],16,-155497632),A=re(A,M,H,P,w[K+10],23,-1094730640),P=re(P,A,M,H,w[K+13],4,681279174),H=re(H,P,A,M,w[K+0],11,-358537222),M=re(M,H,P,A,w[K+3],16,-722521979),A=re(A,M,H,P,w[K+6],23,76029189),P=re(P,A,M,H,w[K+9],4,-640364487),H=re(H,P,A,M,w[K+12],11,-421815835),M=re(M,H,P,A,w[K+15],16,530742520),A=re(A,M,H,P,w[K+2],23,-995338651),P=W(P,A,M,H,w[K+0],6,-198630844),H=W(H,P,A,M,w[K+7],10,1126891415),M=W(M,H,P,A,w[K+14],15,-1416354905),A=W(A,M,H,P,w[K+5],21,-57434055),P=W(P,A,M,H,w[K+12],6,1700485571),H=W(H,P,A,M,w[K+3],10,-1894986606),M=W(M,H,P,A,w[K+10],15,-1051523),A=W(A,M,H,P,w[K+1],21,-2054922799),P=W(P,A,M,H,w[K+8],6,1873313359),H=W(H,P,A,M,w[K+15],10,-30611744),M=W(M,H,P,A,w[K+6],15,-1560198380),A=W(A,M,H,P,w[K+13],21,1309151649),P=W(P,A,M,H,w[K+4],6,-145523070),H=W(H,P,A,M,w[K+11],10,-1120210379),M=W(M,H,P,A,w[K+2],15,718787259),A=W(A,M,H,P,w[K+9],21,-343485551),P=P+ge>>>0,A=A+he>>>0,M=M+j>>>0,H=H+me>>>0}return t.endian([P,A,M,H])};m._ff=function(h,x,w,R,P,A,M){var H=h+(x&w|~x&R)+(P>>>0)+M;return(H<<A|H>>>32-A)+x},m._gg=function(h,x,w,R,P,A,M){var H=h+(x&R|w&~R)+(P>>>0)+M;return(H<<A|H>>>32-A)+x},m._hh=function(h,x,w,R,P,A,M){var H=h+(x^w^R)+(P>>>0)+M;return(H<<A|H>>>32-A)+x},m._ii=function(h,x,w,R,P,A,M){var H=h+(w^(x|~R))+(P>>>0)+M;return(H<<A|H>>>32-A)+x},m._blocksize=16,m._digestsize=16,oU.exports=function(h,x){if(h==null)throw new Error("Illegal argument "+h);var w=t.wordsToBytes(m(h,x));return x&&x.asBytes?w:x&&x.asString?u.bytesToString(w):t.bytesToHex(w)}}()),oU.exports}var T0e=E0e();const A0e=iK(T0e),zi=class zi{constructor(r={}){Tt(this,"action",null);Tt(this,"type",null);Tt(this,"key","");Tt(this,"item_key","");Tt(this,"last_change",0);Tt(this,"payload",null);r.action!==void 0&&zi.ALLOWED_ACTIONS.includes(r.action)&&(this.action=r.action.toString()),r.type!==void 0&&zi.ALLOWED_TYPES.includes(r.type)&&(this.type=r.type.toString()),r.key!==void 0&&r.key!==null&&(this.key=r.key.toString()),r.item_key!==void 0&&r.item_key!==null&&(this.item_key=r.item_key.toString()),r.last_change!==void 0&&r.last_change!==null&&(this.last_change=parseInt(r.last_change)),r.payload!==void 0&&r.payload!==null&&(this.payload=r.payload),this.last_change===null&&(this.last_change=Date.now())}static buildChangeKey(r,i){return r+"_"+i}getData(){return Object.assign({},this)}getChangeKey(){return zi.buildChangeKey(this.type,this.key)}isValid(){return zi.ALLOWED_TYPES.includes(this.type)&&zi.ALLOWED_ACTIONS.includes(this.action)&&this.key!=""&&(this.item_key!=""||this.type==zi.TYPE_SNIPPETS)}};Tt(zi,"ACTION_SAVE","save"),Tt(zi,"ACTION_DELETE","delete"),Tt(zi,"ALLOWED_ACTIONS",[zi.ACTION_SAVE,zi.ACTION_DELETE]),Tt(zi,"TYPE_COMMENT","comment"),Tt(zi,"TYPE_POINTS","points"),Tt(zi,"TYPE_SUMMARY","summary"),Tt(zi,"TYPE_PREFERENCES","preferences"),Tt(zi,"TYPE_SNIPPETS","snippets"),Tt(zi,"ALLOWED_TYPES",[zi.TYPE_COMMENT,zi.TYPE_POINTS,zi.TYPE_SUMMARY,zi.TYPE_PREFERENCES,zi.TYPE_SNIPPETS]),Tt(zi,"STORED_TYPES",[zi.TYPE_COMMENT,zi.TYPE_POINTS,zi.TYPE_SUMMARY,zi.TYPE_PREFERENCES,zi.TYPE_SNIPPETS]);let Ms=zi;const yE=class yE{constructor(r={}){Tt(this,"key","");Tt(this,"item_key","");Tt(this,"task_id",null);Tt(this,"writer_id",null);Tt(this,"corrector_id",null);Tt(this,"user_id",null);Tt(this,"title","");Tt(this,"initials","");Tt(this,"position",0);r.task_id!==void 0&&r.task_id!==null&&(this.task_id=parseInt(r.task_id)),r.writer_id!==void 0&&r.writer_id!==null&&(this.writer_id=parseInt(r.writer_id)),r.corrector_id!==void 0&&r.corrector_id!==null&&(this.corrector_id=parseInt(r.corrector_id)),r.user_id!==void 0&&r.user_id!==null&&(this.user_id=parseInt(r.user_id)),r.title!==void 0&&r.title!==null&&(this.title=r.title.toString()),r.initials!==void 0&&r.initials!==null&&(this.initials=r.initials.toString().toUpperCase()),r.position!==void 0&&r.position!==null&&(this.position=parseInt(r.position)),this.key=yE.buildKey(this.task_id,this.writer_id,this.corrector_id),this.item_key=Si.buildKey(this.task_id,this.writer_id)}static order(r,i){return r.position<i.position?-1:r.position>i.position?1:0}static buildKey(r,i,u){return"C"+r+"_"+i+"_"+u}static extractTaskId(r){const i=r?r.match(/C(\d+)_(\d+)_(\d+)/):null;return i&&i[1]?parseInt(i[1]):null}static extractWriterId(r){const i=r?r.match(/C(\d+)_(\d+)_(\d+)/):null;return i&&i[2]?parseInt(i[2]):null}static extractCorrectorId(r){const i=r?r.match(/C(\d+)_(\d+)_(\d+)/):null;return i&&i[3]?parseInt(i[3]):null}getKey(){return this.key}getData(){return Object.assign({},this)}};Tt(yE,"POSITION_FIRST",0),Tt(yE,"POSITION_SECOND",1),Tt(yE,"POSITION_STITCH",2);let _a=yE;const Ac=class Ac{constructor(r={}){Tt(this,"item_key","");Tt(this,"correction_key","");Tt(this,"id",null);Tt(this,"task_id",null);Tt(this,"writer_id",null);Tt(this,"corrector_id",null);Tt(this,"text","");Tt(this,"points",null);Tt(this,"grade_key","");Tt(this,"pdf","");Tt(this,"status","");Tt(this,"revision_text","");Tt(this,"revision_points",null);Tt(this,"revision_grade_key","");Tt(this,"require_other_revision",!1);Tt(this,"last_change",null);this.setData(r)}static buildKey(r,i,u){return"S"+r+"_"+i+"_"+u}setData(r){r.id!==void 0&&r.id!==null&&(this.id=parseInt(r.id)),r.task_id!==void 0&&r.task_id!==null&&(this.task_id=parseInt(r.task_id)),r.task_id!==void 0&&r.task_id!==null&&(this.task_id=parseInt(r.task_id)),r.writer_id!==void 0&&r.writer_id!==null&&(this.writer_id=parseInt(r.writer_id)),r.corrector_id!==void 0&&r.corrector_id!==null&&(this.corrector_id=parseInt(r.corrector_id)),r.text!==void 0&&r.text!==null&&(this.text=r.text.toString()),r.points!==void 0&&r.points!==null&&(this.points=parseFloat(r.points)),r.pdf!==void 0&&r.pdf!==null&&(this.pdf=r.pdf.toString()),r.status!==void 0&&Ac.ALLOWED_STATUS.includes(r.status)&&(this.status=r.status.toString()),r.grade_key!==void 0&&r.grade_key!==null&&(this.grade_key=r.grade_key.toString()),r.revision_text!==void 0&&r.revision_text!==null&&(this.revision_text=r.revision_text.toString()),r.revision_points!==void 0&&r.revision_points!==null&&(this.revision_points=parseFloat(r.revision_points)),r.require_other_revision!==void 0&&r.require_other_revision!==null&&(this.require_other_revision=!!r.require_other_revision),r.last_change!==void 0&&r.last_change!==null&&(this.last_change=parseInt(r.last_change)),this.item_key=Si.buildKey(this.task_id,this.writer_id),this.correction_key=_a.buildKey(this.task_id,this.writer_id,this.corrector_id)}getData(){return Object.assign({},this)}getKey(){return Ac.buildKey(this.task_id,this.writer_id,this.corrector_id)}getClone(){return new Ac(this.getData())}hasTextOrPdf(){return this.text||this.pdf}hasPoints(){return this.points!==null&&!Number.isNaN(this.points)}hasRevisionText(){return!!this.revision_text}hasRevisionPoints(){return this.revision_points!==null&&!Number.isNaN(this.revision_points)}isPregraded(){return this.status==Ac.STATUS_PRE_GRADED}isAuthorized(){return this.status==Ac.STATUS_AUTHORIZED||this.status==Ac.STATUS_REVISED}isRevised(){return this.status==Ac.STATUS_REVISED}isEqual(r){for(const i in this)if(this[i]!==r[i])return!1;return!0}};Tt(Ac,"STATUS_NOT_STARTED","not_started"),Tt(Ac,"STATUS_OPEN","open"),Tt(Ac,"STATUS_PRE_GRADED","pre_graded"),Tt(Ac,"STATUS_AUTHORIZED","authorized"),Tt(Ac,"STATUS_REVISED","revised"),Tt(Ac,"ALLOWED_STATUS",[Ac.STATUS_NOT_STARTED,Ac.STATUS_OPEN,Ac.STATUS_PRE_GRADED,Ac.STATUS_AUTHORIZED,Ac.STATUS_REVISED]);let Ou=Ac;const HC=class HC{constructor(r={}){Tt(this,"task_id",null);Tt(this,"position",0);Tt(this,"type",null);Tt(this,"title",null);Tt(this,"instructions",null);Tt(this,"solution",null);Tt(this,"key",null);r.task_id!==void 0&&r.task_id!==null&&(this.task_id=parseInt(r.task_id)),r.position!==void 0&&r.position!==null&&(this.position=parseInt(r.position)),r.type!==void 0&&HC.ALLOWED_TYPES.includes(r.type)&&(this.type=r.type.toString()),r.title!==void 0&&r.title!==null&&(this.title=r.title.toString()),r.instructions!==void 0&&r.instructions!==null&&(this.instructions=r.instructions.toString()),r.solution!==void 0&&r.solution!==null&&(this.solution=r.solution.toString()),this.key=HC.buildKey(this.task_id)}static order(r,i){return r.position<i.position?-1:r.position>i.position?1:0}static buildKey(r){return"T"+r}getKey(){return this.key}getData(){return Object.assign({},this)}};Tt(HC,"TYPE_ESSAY","essay"),Tt(HC,"ALLOWED_TYPES",[HC.TYPE_ESSAY]);let Fx=HC;const{t:sb}=Pu.global,Bd=class Bd{constructor(r={}){Tt(this,"key",null);Tt(this,"task_id",null);Tt(this,"writer_id",null);Tt(this,"position",null);Tt(this,"pseudonym","");Tt(this,"title",null);Tt(this,"correction_status","");Tt(this,"grading_status","");Tt(this,"can_correct",!1);Tt(this,"can_authorize",!1);Tt(this,"can_revise",!1);r.key!==void 0&&r.key!==null&&(this.key=r.key.toString()),r.task_id!==void 0&&r.task_id!==null&&(this.task_id=parseInt(r.task_id)),r.writer_id!==void 0&&r.writer_id!==null&&(this.writer_id=parseInt(r.writer_id)),r.position!==void 0&&r.position!==null&&(this.position=parseInt(r.position)),r.pseudonym!==void 0&&r.pseudonym!==null&&(this.pseudonym=r.pseudonym.toString()),r.correction_status!==void 0&&r.correction_status!==null&&(this.correction_status=r.correction_status.toString()),r.grading_status!==void 0&&r.grading_status!==null&&(this.grading_status=r.grading_status.toString()),r.can_correct!==void 0&&r.can_correct!==null&&(this.can_correct=!!r.can_correct),r.can_authorize!==void 0&&r.can_authorize!==null&&(this.can_authorize=!!r.can_authorize),r.can_revise!==void 0&&r.can_revise!==null&&(this.can_revise=!!r.can_revise),this.key===null&&(this.key=Bd.buildKey(this.task_id,this.writer_id)),this.title===null&&(this.title=Bd.buildTitle(this))}static order(r,i){return r.position<i.position?-1:r.position>i.position?1:r.title<i.title?-1:r.title>i.title?1:0}static buildKey(r,i){return r&&i?"I"+r.toString()+"_"+i.toString():""}static extractTaskId(r){const i=r.match(/I(\d+)_(\d+)/);return i&&i[1]?parseInt(i[1]):null}static extractWriterId(r){const i=r.match(/I(\d+)_(\d+)/);return i&&i[2]?parseInt(i[2]):null}static buildTitle(r){return r.pseudonym+" "+Bd.buildPositionText(r.position)+" "+Bd.buildStatusText(r)}static buildPositionText(r){if(Ee.settings().Assessment.multiple_correctors)switch(r){case _a.POSITION_FIRST:return sb("correctionsFirstCorrection");case _a.POSITION_SECOND:return sb("correctionsSecondCorrection");case _a.POSITION_STITCH:return sb("correctionsStitchCorrection");default:return""}return""}static buildStatusText(r){switch(r.correction_status){case Bd.STATUS_OPEN:switch(r.grading_status){case Ou.STATUS_NOT_STARTED:case Ou.STATUS_OPEN:return sb("itemsSuffixOpen");case Ou.STATUS_PRE_GRADED:return sb("itemsSuffixPregraded");case Ou.STATUS_AUTHORIZED:return sb("itemsSuffixAuthorized");default:return sb("itemsSuffixOpen")}case Bd.STATUS_APPROXIMATION:return sb("itemsSuffixApproximation");case Bd.STATUS_CONSULTING:return sb("itemsSuffixConsulting");case Bd.STATUS_STITCH:return sb("itemsSuffixStitch");case Bd.STATUS_FINALIZED:return sb("itemsSuffixFinalized");default:return""}}getKey(){return this.key}getTaskKey(){return Fx.buildKey(this.task_id)}getData(){return Object.assign({},this)}};Tt(Bd,"STATUS_OPEN","open"),Tt(Bd,"STATUS_APPROXIMATION","approximation"),Tt(Bd,"STATUS_CONSULTING","consulting"),Tt(Bd,"STATUS_STITCH","stitch"),Tt(Bd,"STATUS_FINALIZED","finalized");let Si=Bd;const{t:HY}=Pu.global,UY=5e3,O0e=ou("api",{state:()=>({backendUrl:"",returnUrl:"",userId:"",assId:"",contextId:"",asAdmin:"",itemKey:"",dataToken:"",fileToken:"",timeOffset:0,intervals:{},lastSendingTry:0,lastLoadingTry:0}),getters:{isLoading:t=>t.lastLoadingTry>0,storedItemKey:t=>localStorage.getItem("xlasCorrectorItemKey"),getRequestConfig(t){return function(i){let u=t.backendUrl,m=new URLSearchParams,h=u.search(/\?+/);return h!=-1&&(m=new URLSearchParams(u.substr(h)),u=u.substr(0,h)),m.append("user_id",t.userId),m.append("ass_id",t.assId),m.append("context_id",t.contextId),m.append("as_admin",t.asAdmin),m.append("signature",A0e(t.userId+t.assId+t.contextId+i)),{baseURL:u,params:m,timeout:3e4,responseType:"json",responseEncoding:"utf8"}}},getResourceUrl(t){return function(i){const u=this.getRequestConfig(this.fileToken);return u.baseURL+"/corrector/file/task/resource/"+i.id+"/resource?"+u.params.toString()}},getImageUrl(t){return function(i){const u=this.getRequestConfig(this.fileToken);return u.baseURL+"/corrector/file/essaytask/image/"+i.id+"/image?"+u.params.toString()}},getThumbUrl(t){return function(i){const u=this.getRequestConfig(this.fileToken);return u.baseURL+"/corrector/file/essaytask/thumb/"+i.id+"/thumb?"+u.params.toString()}},getSummaryPdfUrl(t){return function(i){const u=this.getRequestConfig(this.fileToken);return u.baseURL+"/corrector/file/task/summary/"+i.id+"/"+i.pdf+"?"+u.params.toString()}},getServerTime(t){return function(i){return i==0?0:Math.floor((i-t.timeOffset)/1e3)}}},actions:{async clearStorage(){},async init(){let t=!1,r=!1;this.backendUrl=localStorage.getItem("xlasCorrectorBackendUrl")??"",this.returnUrl=localStorage.getItem("xlasCorrectorReturnUrl")??"",this.userId=localStorage.getItem("xlasCorrectorUserId")??"",this.assId=localStorage.getItem("xlasCorrectorAssId")??"",this.contextId=localStorage.getItem("xlasCorrectorContextId")??"",this.asAdmin=localStorage.getItem("xlasCorrectorAsAdmin")??"",this.itemKey=localStorage.getItem("xlasCorrectorItemKey")??"",this.dataToken=localStorage.getItem("xlasCorrectorDataToken")??"",this.fileToken=localStorage.getItem("xlasCorrectorFileToken")??"",this.timeOffset=Math.floor(localStorage.getItem("xlasCorrectorTimeOffset")??0),xr.get("xlasUserId")!=null&&xr.get("xlasUserId")!=this.userId&&(this.userId=xr.get("xlasUserId"),t=!0),xr.get("xlasAssId")&&xr.get("xlasAssId")!=this.assId&&(this.assId=xr.get("xlasAssId"),t=!0),xr.get("xlasContextId")!=null&&xr.get("xlasContextId")!=this.contextId&&(this.contextId=xr.get("xlasContextId"),t=!0),xr.get("xlasAsAdmin")!=null&&xr.get("xlasAsAdmin")!=this.asAdmin&&(this.asAdmin=xr.get("xlasAsAdmin"),t=!0);let i=Si.extractTaskId(this.itemKey),u=Si.extractWriterId(this.itemKey);if(xr.get("xlasTaskId")!=null&&xr.get("xlasWriterId")!=null&&(xr.get("xlasTaskId")!=i||xr.get("xlasWriterId")!=u)&&(r=!0,i=xr.get("xlasTaskId"),u=xr.get("xlasWriterId"),this.itemKey=Si.buildKey(i,u)),this.itemKey||(r=!0),xr.get("xlasBackendUrl")!=null&&xr.get("xlasBackendUrl")!=this.backendUrl&&(this.backendUrl=xr.get("xlasBackendUrl")),xr.get("xlasReturnUrl")!=null&&xr.get("xlasReturnUrl")!=this.returnUrl&&(this.returnUrl=xr.get("xlasReturnUrl")),xr.get("xlasDataToken")!=null&&xr.get("xlasDataToken")!=this.dataToken&&(this.dataToken=xr.get("xlasDataToken")),xr.get("xlasFileToken")!=null&&xr.get("xlasFileToken")!=this.dataToken&&(this.fileToken=xr.get("xlasFileToken")),!this.backendUrl||!this.returnUrl||!this.userId||!this.assId||!this.contextId||!this.dataToken||!this.fileToken){Ee.layout().initFailure=HY("apiMissingParams");return}xr.remove("xlasBackendUrl"),xr.remove("xlasReturnUrl"),xr.remove("xlasUserId"),xr.remove("xlasAssId"),xr.remove("xlasContextId"),xr.remove("xlasAsAdmin"),xr.remove("xlasTaskId"),xr.remove("xlasWriterId"),xr.remove("xlasDataToken"),xr.remove("xlasFileToken"),localStorage.setItem("xlasCorrectorBackendUrl",this.backendUrl),localStorage.setItem("xlasCorrectorReturnUrl",this.returnUrl),localStorage.setItem("xlasCorrectorUserId",this.userId),localStorage.setItem("xlasCorrectorAssId",this.assId),localStorage.setItem("xlasCorrectorContextId",this.contextId),localStorage.setItem("xlasCorrectorAsAdmin",this.asAdmin),localStorage.setItem("xlasCorrectorItemKey",this.itemKey),localStorage.setItem("xlasCorrectorDataToken",this.dataToken),localStorage.setItem("xlasCorrectorFileToken",this.fileToken);const m=Ee.changes();await m.loadFromStorage(),m.countChanges>0?t?(console.log("init: open saving, new context"),await this.loadDataFromStorage(),Ee.layout().showDataReplaceConfirmation=!0):r?(console.log("init: open saving, same context, new item"),await this.loadDataFromStorage(),Ee.layout().showItemReplaceConfirmation=!0):(console.log("init: open saving, same context, same item"),await this.loadDataFromStorage(),this.initAfterKeepDataConfirmed()):(console.log("init: no open saving"),this.initAfterReplaceDataConfirmed())},async initAfterReplaceDataConfirmed(){console.log("initAfterReplaceDataConfirmed"),await e1e(),Ee.layout().showDataReplaceConfirmation=!1,Ee.layout().showItemReplaceConfirmation=!1,await this.loadDataFromBackend()&&(await this.loadItemFromBackend(this.itemKey),this.finishInitialisation())},async initAfterKeepDataConfirmed(){console.log("initAfterKeepDataConfirmed"),Ee.layout().showDataReplaceConfirmation=!1,Ee.layout().showItemReplaceConfirmation=!1,this.itemKey=localStorage.getItem("xlasCorrectorItemKey"),await this.loadItemFromStorage(this.itemKey);const t=Ee.items().getItem(this.itemKey);await this.loadDataFromBackend()&&(await Ee.items().saveItem(t),await this.loadItemFromStorage(this.itemKey),this.finishInitialisation())},finishInitialisation(){Ee.summaries().isOneAuthorized&&Ee.comments().setShowOtherCorrections(!0),Ee.layout().initialized=!0},async loadDataFromStorage(){return console.log("loadDataFromStorage..."),this.setLoading(!0),this.clearAllIntervals(),await Ee.config().loadFromStorage(),await Ee.criteria().loadFromStorage(),await Ee.items().loadFromStorage(),await Ee.layout().loadFromStorage(),await Ee.levels().loadFromStorage(),await Ee.preferences().loadFromStorage(),await Ee.resources().loadFromStorage(),await Ee.settings().loadFromStorage(),await Ee.snippets().loadFromStorage(),await Ee.tasks().loadFromStorage(),await Ee.templates().loadFromStorage(),this.setLoading(!1),!0},async loadItemFromStorage(t){console.log("loadItemFromStorage..."),this.setLoading(!0),this.clearAllIntervals();const r=Ee.items();return(t==""||r.getItem(t)==null)&&(t=r.firstKey),this.itemKey=t,localStorage.setItem("xlasCorrectorItemKey",this.itemKey),await Ee.changes().loadFromStorage(),await Ee.comments().loadFromStorage(),await Ee.corrections().loadFromStorage(),await Ee.essay().loadFromStorage(),await Ee.pages().loadFromStorage(),await Ee.points().loadFromStorage(),await Ee.summaries().loadFromStorage(),Ee.comments().setMarkerChange(),Ee.items().updateCurrentKeys(),Ee.tasks().updateCurrentKeys(),Ee.layout().initForItem(),this.setLoading(!1),this.setInterval("apiStore.saveChangesToBackend",this.saveChangesToBackend,UY),!0},async loadDataFromBackend(){console.log("loadDataFromBackend..."),this.setLoading(!0),this.clearAllIntervals();let t={};try{t=await ka.get("/corrector/data",this.getRequestConfig(this.dataToken)),this.setTimeOffset(t),this.refreshToken(t)}catch(r){return console.error(r),Ee.layout().initFailure=HY("apiLoadingDataFailed"),this.setLoading(!1),!1}return await Ee.layout().clearStorage(),await Ee.config().loadFromBackend(t.data.Assessment.Config),await Ee.levels().loadFromBackend(t.data.Assessment.GradeLevels),await Ee.resources().loadFromBackend(t.data.Assessment.Resources),await Ee.settings().loadFromBackend("Assessment",t.data.Assessment.Settings),await Ee.items().loadFromBackend(t.data.Task.Items),await Ee.preferences().loadFromBackend(t.data.Task.Preferences),await Ee.settings().loadFromBackend("Task",t.data.Task.Settings),await Ee.snippets().loadFromBackend(t.data.Task.Snippets),await Ee.tasks().loadFromBackend(t.data.Task.Tasks),await Ee.templates().loadFromBackend(t.data.Task.Templates),await Ee.settings().loadFromBackend("EssayTask",t.data.EssayTask.Settings),this.setLoading(!1),!0},async loadItemFromBackend(t){console.log("loadItemFromBackend..."),this.setLoading(!0),this.clearAllIntervals();const r=Ee.items();(t==""||!Ee.items().getItem(t))&&(t=r.firstKey??"");let i={};const u=Si.extractTaskId(t),m=Si.extractWriterId(t);try{i=await ka.get("/corrector/item/"+u+"/"+m,this.getRequestConfig(this.dataToken)),this.setTimeOffset(i),this.refreshToken(i)}catch(h){return console.error(h),Ee.layout().showItemLoadFailure=!0,this.setLoading(!1),!1}return this.itemKey=t,localStorage.setItem("xlasCorrectorItemKey",this.itemKey),await r.saveItem(new Si(i.data.Task.Item)),await Ee.changes().clearStorage(),await Ee.essay().loadFromBackend(i.data.EssayTask.Essay),await Ee.pages().loadFromBackend(i.data.EssayTask.Pages),await Ee.corrections().loadFromBackend(i.data.Task.Corrections),await Ee.criteria().loadFromBackend(i.data.Task.Criteria),await Ee.comments().loadFromBackend(i.data.Task.Comments),await Ee.points().loadFromBackend(i.data.Task.Points),await Ee.summaries().loadFromBackend(i.data.Task.Summaries),Ee.comments().setMarkerChange(),Ee.items().updateCurrentKeys(),Ee.tasks().updateCurrentKeys(),Ee.layout().initForItem(),this.setLoading(!1),this.setInterval("apiStore.saveChangesToBackend",this.saveChangesToBackend,UY),!0},async saveChangesToBackend(t=!1){const r=Ee.changes();if(r.countChanges>0&&!await this.isSending(!0)){this.setSending(!0);try{const i={Task:{}};i.Task[Ms.TYPE_SNIPPETS]=await Ee.snippets().getChangedData(this.lastSendingTry),i.Task[Ms.TYPE_PREFERENCES]=await Ee.preferences().getChangedData(this.lastSendingTry),i.Task[Ms.TYPE_COMMENT]=await Ee.comments().getChangedData(this.lastSendingTry),i.Task[Ms.TYPE_POINTS]=await Ee.points().getChangedData(this.lastSendingTry),i.Task[Ms.TYPE_SUMMARY]=await Ee.summaries().getChangedData(this.lastSendingTry);const u=await ka.put("/corrector/changes",i,this.getRequestConfig(this.dataToken));this.setTimeOffset(u),this.refreshToken(u);for(const m in u.data??[]){const h=u.data[m];for(const x in h??[])await r.setChangesSent(x,h[x],this.lastSendingTry)}}catch(i){return console.error(i),this.setSending(!1),!1}this.setSending(!1)}return r.countChanges==0},async sendSummaryPdf(t,r,i){try{const u=new FormData;return u.append("file",r),(await ka.post("/corrector/upload/"+t.task_id+"/"+t.writer_id,u,Object.assign(this.getRequestConfig(this.dataToken),{headers:{"Content-Type":"multipart/form-data"},onUploadProgress:i}))).data.id}catch(u){return console.log(u),!1}},setTimeOffset(t){if(t.headers.xlastime){const r=t.headers.xlastime*1e3,i=Date.now();this.timeOffset=i-r,localStorage.setItem("xlasCorrectorTimeOffset",this.timeOffset)}},refreshToken(t){t.headers.xlasdatatoken&&(this.dataToken=t.headers.xlasdatatoken,localStorage.setItem("xlasCorrectorDataToken",this.dataToken)),t.headers.xlasfiletoken&&(this.fileToken=t.headers.xlasfiletoken,localStorage.setItem("xlasCorrectorFileToken",this.fileToken))},async isSending(t=!1){if(t){let r=0;for(;r<5&&this.lastSendingTry>0;)r++,await new Promise(i=>setTimeout(i,1e3))}return this.lastSendingTry>0},setSending(t){t?this.lastSendingTry=Date.now():this.lastSendingTry=0},setLoading(t){t?this.lastLoadingTry=Date.now():this.lastLoadingTry=0},setInterval(t,r,i){t in this.intervals&&clearInterval(this.intervals[t]),this.intervals[t]=setInterval(r,i)},clearAllIntervals(){for(const t in this.intervals)clearInterval(this.intervals[t]),delete this.intervals[t]}}});class R0e{constructor(r={}){Tt(this,"action",null);Tt(this,"type",null);Tt(this,"key","");Tt(this,"done",!1);Tt(this,"result",null);r.action!==void 0&&Ms.ALLOWED_ACTIONS.includes(r.action)&&(this.action=r.action.toString()),r.type!==void 0&&Ms.ALLOWED_TYPES.includes(r.type)&&(this.type=r.type.toString()),r.key!==void 0&&r.key!==null&&(this.key=r.key.toString()),r.done!==void 0&&r.done!==null&&(this.done=!!r.done),r.result!==void 0&&r.result!==null&&(this.result=r.result),this.last_change==0&&(this.last_change=Date.now())}getData(){return Object.assign({},this)}}function L6(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var aU={exports:{}};/*!
    localForage -- Offline Storage, Improved
    Version 1.10.0
    https://localforage.github.io/localForage
    (c) 2013-2017 Mozilla, Apache License 2.0
*/var WY;function I0e(){return WY||(WY=1,function(t,r){(function(i){t.exports=i()})(function(){return function i(u,m,h){function x(P,A){if(!m[P]){if(!u[P]){var M=typeof L6=="function"&&L6;if(!A&&M)return M(P,!0);if(w)return w(P,!0);var H=new Error("Cannot find module '"+P+"'");throw H.code="MODULE_NOT_FOUND",H}var K=m[P]={exports:{}};u[P][0].call(K.exports,function(G){var te=u[P][1][G];return x(te||G)},K,K.exports,i,u,m,h)}return m[P].exports}for(var w=typeof L6=="function"&&L6,R=0;R<h.length;R++)x(h[R]);return x}({1:[function(i,u,m){(function(h){var x=h.MutationObserver||h.WebKitMutationObserver,w;if(x){var R=0,P=new x(G),A=h.document.createTextNode("");P.observe(A,{characterData:!0}),w=function(){A.data=R=++R%2}}else if(!h.setImmediate&&typeof h.MessageChannel<"u"){var M=new h.MessageChannel;M.port1.onmessage=G,w=function(){M.port2.postMessage(0)}}else"document"in h&&"onreadystatechange"in h.document.createElement("script")?w=function(){var re=h.document.createElement("script");re.onreadystatechange=function(){G(),re.onreadystatechange=null,re.parentNode.removeChild(re),re=null},h.document.documentElement.appendChild(re)}:w=function(){setTimeout(G,0)};var H,K=[];function G(){H=!0;for(var re,W,ge=K.length;ge;){for(W=K,K=[],re=-1;++re<ge;)W[re]();ge=K.length}H=!1}u.exports=te;function te(re){K.push(re)===1&&!H&&w()}}).call(this,typeof M6<"u"?M6:typeof self<"u"?self:typeof window<"u"?window:{})},{}],2:[function(i,u,m){var h=i(1);function x(){}var w={},R=["REJECTED"],P=["FULFILLED"],A=["PENDING"];u.exports=M;function M(me){if(typeof me!="function")throw new TypeError("resolver must be a function");this.state=A,this.queue=[],this.outcome=void 0,me!==x&&te(this,me)}M.prototype.catch=function(me){return this.then(null,me)},M.prototype.then=function(me,oe){if(typeof me!="function"&&this.state===P||typeof oe!="function"&&this.state===R)return this;var Ce=new this.constructor(x);if(this.state!==A){var Ue=this.state===P?me:oe;K(Ce,Ue,this.outcome)}else this.queue.push(new H(Ce,me,oe));return Ce};function H(me,oe,Ce){this.promise=me,typeof oe=="function"&&(this.onFulfilled=oe,this.callFulfilled=this.otherCallFulfilled),typeof Ce=="function"&&(this.onRejected=Ce,this.callRejected=this.otherCallRejected)}H.prototype.callFulfilled=function(me){w.resolve(this.promise,me)},H.prototype.otherCallFulfilled=function(me){K(this.promise,this.onFulfilled,me)},H.prototype.callRejected=function(me){w.reject(this.promise,me)},H.prototype.otherCallRejected=function(me){K(this.promise,this.onRejected,me)};function K(me,oe,Ce){h(function(){var Ue;try{Ue=oe(Ce)}catch(et){return w.reject(me,et)}Ue===me?w.reject(me,new TypeError("Cannot resolve promise with itself")):w.resolve(me,Ue)})}w.resolve=function(me,oe){var Ce=re(G,oe);if(Ce.status==="error")return w.reject(me,Ce.value);var Ue=Ce.value;if(Ue)te(me,Ue);else{me.state=P,me.outcome=oe;for(var et=-1,dt=me.queue.length;++et<dt;)me.queue[et].callFulfilled(oe)}return me},w.reject=function(me,oe){me.state=R,me.outcome=oe;for(var Ce=-1,Ue=me.queue.length;++Ce<Ue;)me.queue[Ce].callRejected(oe);return me};function G(me){var oe=me&&me.then;if(me&&(typeof me=="object"||typeof me=="function")&&typeof oe=="function")return function(){oe.apply(me,arguments)}}function te(me,oe){var Ce=!1;function Ue(Ne){Ce||(Ce=!0,w.reject(me,Ne))}function et(Ne){Ce||(Ce=!0,w.resolve(me,Ne))}function dt(){oe(et,Ue)}var Me=re(dt);Me.status==="error"&&Ue(Me.value)}function re(me,oe){var Ce={};try{Ce.value=me(oe),Ce.status="success"}catch(Ue){Ce.status="error",Ce.value=Ue}return Ce}M.resolve=W;function W(me){return me instanceof this?me:w.resolve(new this(x),me)}M.reject=ge;function ge(me){var oe=new this(x);return w.reject(oe,me)}M.all=he;function he(me){var oe=this;if(Object.prototype.toString.call(me)!=="[object Array]")return this.reject(new TypeError("must be an array"));var Ce=me.length,Ue=!1;if(!Ce)return this.resolve([]);for(var et=new Array(Ce),dt=0,Me=-1,Ne=new this(x);++Me<Ce;)I(me[Me],Me);return Ne;function I(st,it){oe.resolve(st).then(Ft,function(Yt){Ue||(Ue=!0,w.reject(Ne,Yt))});function Ft(Yt){et[it]=Yt,++dt===Ce&&!Ue&&(Ue=!0,w.resolve(Ne,et))}}}M.race=j;function j(me){var oe=this;if(Object.prototype.toString.call(me)!=="[object Array]")return this.reject(new TypeError("must be an array"));var Ce=me.length,Ue=!1;if(!Ce)return this.resolve([]);for(var et=-1,dt=new this(x);++et<Ce;)Me(me[et]);return dt;function Me(Ne){oe.resolve(Ne).then(function(I){Ue||(Ue=!0,w.resolve(dt,I))},function(I){Ue||(Ue=!0,w.reject(dt,I))})}}},{1:1}],3:[function(i,u,m){(function(h){typeof h.Promise!="function"&&(h.Promise=i(2))}).call(this,typeof M6<"u"?M6:typeof self<"u"?self:typeof window<"u"?window:{})},{2:2}],4:[function(i,u,m){var h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Be){return typeof Be}:function(Be){return Be&&typeof Symbol=="function"&&Be.constructor===Symbol&&Be!==Symbol.prototype?"symbol":typeof Be};function x(Be,gt){if(!(Be instanceof gt))throw new TypeError("Cannot call a class as a function")}function w(){try{if(typeof indexedDB<"u")return indexedDB;if(typeof webkitIndexedDB<"u")return webkitIndexedDB;if(typeof mozIndexedDB<"u")return mozIndexedDB;if(typeof OIndexedDB<"u")return OIndexedDB;if(typeof msIndexedDB<"u")return msIndexedDB}catch{return}}var R=w();function P(){try{if(!R||!R.open)return!1;var Be=typeof openDatabase<"u"&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),gt=typeof fetch=="function"&&fetch.toString().indexOf("[native code")!==-1;return(!Be||gt)&&typeof indexedDB<"u"&&typeof IDBKeyRange<"u"}catch{return!1}}function A(Be,gt){Be=Be||[],gt=gt||{};try{return new Blob(Be,gt)}catch(ut){if(ut.name!=="TypeError")throw ut;for(var Ze=typeof BlobBuilder<"u"?BlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:WebKitBlobBuilder,_t=new Ze,Ct=0;Ct<Be.length;Ct+=1)_t.append(Be[Ct]);return _t.getBlob(gt.type)}}typeof Promise>"u"&&i(3);var M=Promise;function H(Be,gt){gt&&Be.then(function(Ze){gt(null,Ze)},function(Ze){gt(Ze)})}function K(Be,gt,Ze){typeof gt=="function"&&Be.then(gt),typeof Ze=="function"&&Be.catch(Ze)}function G(Be){return typeof Be!="string"&&(console.warn(Be+" used as a key, but it is not a string."),Be=String(Be)),Be}function te(){if(arguments.length&&typeof arguments[arguments.length-1]=="function")return arguments[arguments.length-1]}var re="local-forage-detect-blob-support",W=void 0,ge={},he=Object.prototype.toString,j="readonly",me="readwrite";function oe(Be){for(var gt=Be.length,Ze=new ArrayBuffer(gt),_t=new Uint8Array(Ze),Ct=0;Ct<gt;Ct++)_t[Ct]=Be.charCodeAt(Ct);return Ze}function Ce(Be){return new M(function(gt){var Ze=Be.transaction(re,me),_t=A([""]);Ze.objectStore(re).put(_t,"key"),Ze.onabort=function(Ct){Ct.preventDefault(),Ct.stopPropagation(),gt(!1)},Ze.oncomplete=function(){var Ct=navigator.userAgent.match(/Chrome\/(\d+)/),ut=navigator.userAgent.match(/Edge\//);gt(ut||!Ct||parseInt(Ct[1],10)>=43)}}).catch(function(){return!1})}function Ue(Be){return typeof W=="boolean"?M.resolve(W):Ce(Be).then(function(gt){return W=gt,W})}function et(Be){var gt=ge[Be.name],Ze={};Ze.promise=new M(function(_t,Ct){Ze.resolve=_t,Ze.reject=Ct}),gt.deferredOperations.push(Ze),gt.dbReady?gt.dbReady=gt.dbReady.then(function(){return Ze.promise}):gt.dbReady=Ze.promise}function dt(Be){var gt=ge[Be.name],Ze=gt.deferredOperations.pop();if(Ze)return Ze.resolve(),Ze.promise}function Me(Be,gt){var Ze=ge[Be.name],_t=Ze.deferredOperations.pop();if(_t)return _t.reject(gt),_t.promise}function Ne(Be,gt){return new M(function(Ze,_t){if(ge[Be.name]=ge[Be.name]||Ve(),Be.db)if(gt)et(Be),Be.db.close();else return Ze(Be.db);var Ct=[Be.name];gt&&Ct.push(Be.version);var ut=R.open.apply(R,Ct);gt&&(ut.onupgradeneeded=function(rn){var bn=ut.result;try{bn.createObjectStore(Be.storeName),rn.oldVersion<=1&&bn.createObjectStore(re)}catch(Cn){if(Cn.name==="ConstraintError")console.warn('The database "'+Be.name+'" has been upgraded from version '+rn.oldVersion+" to version "+rn.newVersion+', but the storage "'+Be.storeName+'" already exists.');else throw Cn}}),ut.onerror=function(rn){rn.preventDefault(),_t(ut.error)},ut.onsuccess=function(){var rn=ut.result;rn.onversionchange=function(bn){bn.target.close()},Ze(rn),dt(Be)}})}function I(Be){return Ne(Be,!1)}function st(Be){return Ne(Be,!0)}function it(Be,gt){if(!Be.db)return!0;var Ze=!Be.db.objectStoreNames.contains(Be.storeName),_t=Be.version<Be.db.version,Ct=Be.version>Be.db.version;if(_t&&(Be.version!==gt&&console.warn('The database "'+Be.name+`" can't be downgraded from version `+Be.db.version+" to version "+Be.version+"."),Be.version=Be.db.version),Ct||Ze){if(Ze){var ut=Be.db.version+1;ut>Be.version&&(Be.version=ut)}return!0}return!1}function Ft(Be){return new M(function(gt,Ze){var _t=new FileReader;_t.onerror=Ze,_t.onloadend=function(Ct){var ut=btoa(Ct.target.result||"");gt({__local_forage_encoded_blob:!0,data:ut,type:Be.type})},_t.readAsBinaryString(Be)})}function Yt(Be){var gt=oe(atob(Be.data));return A([gt],{type:Be.type})}function mt(Be){return Be&&Be.__local_forage_encoded_blob}function Rn(Be){var gt=this,Ze=gt._initReady().then(function(){var _t=ge[gt._dbInfo.name];if(_t&&_t.dbReady)return _t.dbReady});return K(Ze,Be,Be),Ze}function Ot(Be){et(Be);for(var gt=ge[Be.name],Ze=gt.forages,_t=0;_t<Ze.length;_t++){var Ct=Ze[_t];Ct._dbInfo.db&&(Ct._dbInfo.db.close(),Ct._dbInfo.db=null)}return Be.db=null,I(Be).then(function(ut){return Be.db=ut,it(Be)?st(Be):ut}).then(function(ut){Be.db=gt.db=ut;for(var rn=0;rn<Ze.length;rn++)Ze[rn]._dbInfo.db=ut}).catch(function(ut){throw Me(Be,ut),ut})}function at(Be,gt,Ze,_t){_t===void 0&&(_t=1);try{var Ct=Be.db.transaction(Be.storeName,gt);Ze(null,Ct)}catch(ut){if(_t>0&&(!Be.db||ut.name==="InvalidStateError"||ut.name==="NotFoundError"))return M.resolve().then(function(){if(!Be.db||ut.name==="NotFoundError"&&!Be.db.objectStoreNames.contains(Be.storeName)&&Be.version<=Be.db.version)return Be.db&&(Be.version=Be.db.version+1),st(Be)}).then(function(){return Ot(Be).then(function(){at(Be,gt,Ze,_t-1)})}).catch(Ze);Ze(ut)}}function Ve(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function bt(Be){var gt=this,Ze={db:null};if(Be)for(var _t in Be)Ze[_t]=Be[_t];var Ct=ge[Ze.name];Ct||(Ct=Ve(),ge[Ze.name]=Ct),Ct.forages.push(gt),gt._initReady||(gt._initReady=gt.ready,gt.ready=Rn);var ut=[];function rn(){return M.resolve()}for(var bn=0;bn<Ct.forages.length;bn++){var Cn=Ct.forages[bn];Cn!==gt&&ut.push(Cn._initReady().catch(rn))}var Tn=Ct.forages.slice(0);return M.all(ut).then(function(){return Ze.db=Ct.db,I(Ze)}).then(function(_n){return Ze.db=_n,it(Ze,gt._defaultConfig.version)?st(Ze):_n}).then(function(_n){Ze.db=Ct.db=_n,gt._dbInfo=Ze;for(var Po=0;Po<Tn.length;Po++){var xn=Tn[Po];xn!==gt&&(xn._dbInfo.db=Ze.db,xn._dbInfo.version=Ze.version)}})}function Yn(Be,gt){var Ze=this;Be=G(Be);var _t=new M(function(Ct,ut){Ze.ready().then(function(){at(Ze._dbInfo,j,function(rn,bn){if(rn)return ut(rn);try{var Cn=bn.objectStore(Ze._dbInfo.storeName),Tn=Cn.get(Be);Tn.onsuccess=function(){var _n=Tn.result;_n===void 0&&(_n=null),mt(_n)&&(_n=Yt(_n)),Ct(_n)},Tn.onerror=function(){ut(Tn.error)}}catch(_n){ut(_n)}})}).catch(ut)});return H(_t,gt),_t}function Xt(Be,gt){var Ze=this,_t=new M(function(Ct,ut){Ze.ready().then(function(){at(Ze._dbInfo,j,function(rn,bn){if(rn)return ut(rn);try{var Cn=bn.objectStore(Ze._dbInfo.storeName),Tn=Cn.openCursor(),_n=1;Tn.onsuccess=function(){var Po=Tn.result;if(Po){var xn=Po.value;mt(xn)&&(xn=Yt(xn));var Ws=Be(xn,Po.key,_n++);Ws!==void 0?Ct(Ws):Po.continue()}else Ct()},Tn.onerror=function(){ut(Tn.error)}}catch(Po){ut(Po)}})}).catch(ut)});return H(_t,gt),_t}function Bn(Be,gt,Ze){var _t=this;Be=G(Be);var Ct=new M(function(ut,rn){var bn;_t.ready().then(function(){return bn=_t._dbInfo,he.call(gt)==="[object Blob]"?Ue(bn.db).then(function(Cn){return Cn?gt:Ft(gt)}):gt}).then(function(Cn){at(_t._dbInfo,me,function(Tn,_n){if(Tn)return rn(Tn);try{var Po=_n.objectStore(_t._dbInfo.storeName);Cn===null&&(Cn=void 0);var xn=Po.put(Cn,Be);_n.oncomplete=function(){Cn===void 0&&(Cn=null),ut(Cn)},_n.onabort=_n.onerror=function(){var Ws=xn.error?xn.error:xn.transaction.error;rn(Ws)}}catch(Ws){rn(Ws)}})}).catch(rn)});return H(Ct,Ze),Ct}function Qt(Be,gt){var Ze=this;Be=G(Be);var _t=new M(function(Ct,ut){Ze.ready().then(function(){at(Ze._dbInfo,me,function(rn,bn){if(rn)return ut(rn);try{var Cn=bn.objectStore(Ze._dbInfo.storeName),Tn=Cn.delete(Be);bn.oncomplete=function(){Ct()},bn.onerror=function(){ut(Tn.error)},bn.onabort=function(){var _n=Tn.error?Tn.error:Tn.transaction.error;ut(_n)}}catch(_n){ut(_n)}})}).catch(ut)});return H(_t,gt),_t}function ee(Be){var gt=this,Ze=new M(function(_t,Ct){gt.ready().then(function(){at(gt._dbInfo,me,function(ut,rn){if(ut)return Ct(ut);try{var bn=rn.objectStore(gt._dbInfo.storeName),Cn=bn.clear();rn.oncomplete=function(){_t()},rn.onabort=rn.onerror=function(){var Tn=Cn.error?Cn.error:Cn.transaction.error;Ct(Tn)}}catch(Tn){Ct(Tn)}})}).catch(Ct)});return H(Ze,Be),Ze}function vo(Be){var gt=this,Ze=new M(function(_t,Ct){gt.ready().then(function(){at(gt._dbInfo,j,function(ut,rn){if(ut)return Ct(ut);try{var bn=rn.objectStore(gt._dbInfo.storeName),Cn=bn.count();Cn.onsuccess=function(){_t(Cn.result)},Cn.onerror=function(){Ct(Cn.error)}}catch(Tn){Ct(Tn)}})}).catch(Ct)});return H(Ze,Be),Ze}function nn(Be,gt){var Ze=this,_t=new M(function(Ct,ut){if(Be<0){Ct(null);return}Ze.ready().then(function(){at(Ze._dbInfo,j,function(rn,bn){if(rn)return ut(rn);try{var Cn=bn.objectStore(Ze._dbInfo.storeName),Tn=!1,_n=Cn.openKeyCursor();_n.onsuccess=function(){var Po=_n.result;if(!Po){Ct(null);return}Be===0||Tn?Ct(Po.key):(Tn=!0,Po.advance(Be))},_n.onerror=function(){ut(_n.error)}}catch(Po){ut(Po)}})}).catch(ut)});return H(_t,gt),_t}function yn(Be){var gt=this,Ze=new M(function(_t,Ct){gt.ready().then(function(){at(gt._dbInfo,j,function(ut,rn){if(ut)return Ct(ut);try{var bn=rn.objectStore(gt._dbInfo.storeName),Cn=bn.openKeyCursor(),Tn=[];Cn.onsuccess=function(){var _n=Cn.result;if(!_n){_t(Tn);return}Tn.push(_n.key),_n.continue()},Cn.onerror=function(){Ct(Cn.error)}}catch(_n){Ct(_n)}})}).catch(Ct)});return H(Ze,Be),Ze}function qe(Be,gt){gt=te.apply(this,arguments);var Ze=this.config();Be=typeof Be!="function"&&Be||{},Be.name||(Be.name=Be.name||Ze.name,Be.storeName=Be.storeName||Ze.storeName);var _t=this,Ct;if(!Be.name)Ct=M.reject("Invalid arguments");else{var ut=Be.name===Ze.name&&_t._dbInfo.db,rn=ut?M.resolve(_t._dbInfo.db):I(Be).then(function(bn){var Cn=ge[Be.name],Tn=Cn.forages;Cn.db=bn;for(var _n=0;_n<Tn.length;_n++)Tn[_n]._dbInfo.db=bn;return bn});Be.storeName?Ct=rn.then(function(bn){if(bn.objectStoreNames.contains(Be.storeName)){var Cn=bn.version+1;et(Be);var Tn=ge[Be.name],_n=Tn.forages;bn.close();for(var Po=0;Po<_n.length;Po++){var xn=_n[Po];xn._dbInfo.db=null,xn._dbInfo.version=Cn}var Ws=new M(function(ns,gs){var jr=R.open(Be.name,Cn);jr.onerror=function(Uo){var ic=jr.result;ic.close(),gs(Uo)},jr.onupgradeneeded=function(){var Uo=jr.result;Uo.deleteObjectStore(Be.storeName)},jr.onsuccess=function(){var Uo=jr.result;Uo.close(),ns(Uo)}});return Ws.then(function(ns){Tn.db=ns;for(var gs=0;gs<_n.length;gs++){var jr=_n[gs];jr._dbInfo.db=ns,dt(jr._dbInfo)}}).catch(function(ns){throw(Me(Be,ns)||M.resolve()).catch(function(){}),ns})}}):Ct=rn.then(function(bn){et(Be);var Cn=ge[Be.name],Tn=Cn.forages;bn.close();for(var _n=0;_n<Tn.length;_n++){var Po=Tn[_n];Po._dbInfo.db=null}var xn=new M(function(Ws,ns){var gs=R.deleteDatabase(Be.name);gs.onerror=function(){var jr=gs.result;jr&&jr.close(),ns(gs.error)},gs.onblocked=function(){console.warn('dropInstance blocked for database "'+Be.name+'" until all open connections are closed')},gs.onsuccess=function(){var jr=gs.result;jr&&jr.close(),Ws(jr)}});return xn.then(function(Ws){Cn.db=Ws;for(var ns=0;ns<Tn.length;ns++){var gs=Tn[ns];dt(gs._dbInfo)}}).catch(function(Ws){throw(Me(Be,Ws)||M.resolve()).catch(function(){}),Ws})})}return H(Ct,gt),Ct}var lt={_driver:"asyncStorage",_initStorage:bt,_support:P(),iterate:Xt,getItem:Yn,setItem:Bn,removeItem:Qt,clear:ee,length:vo,key:nn,keys:yn,dropInstance:qe};function Se(){return typeof openDatabase=="function"}var Pe="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Ke="~~local_forage_type~",xe=/^~~local_forage_type~([^~]+)~/,Ae="__lfsc__:",Fe=Ae.length,Je="arbf",wt="blob",pn="si08",en="ui08",An="uic8",no="si16",co="si32",Jo="ur16",Ho="ui32",sr="fl32",Ss="fl64",ri=Fe+Je.length,xs=Object.prototype.toString;function la(Be){var gt=Be.length*.75,Ze=Be.length,_t,Ct=0,ut,rn,bn,Cn;Be[Be.length-1]==="="&&(gt--,Be[Be.length-2]==="="&&gt--);var Tn=new ArrayBuffer(gt),_n=new Uint8Array(Tn);for(_t=0;_t<Ze;_t+=4)ut=Pe.indexOf(Be[_t]),rn=Pe.indexOf(Be[_t+1]),bn=Pe.indexOf(Be[_t+2]),Cn=Pe.indexOf(Be[_t+3]),_n[Ct++]=ut<<2|rn>>4,_n[Ct++]=(rn&15)<<4|bn>>2,_n[Ct++]=(bn&3)<<6|Cn&63;return Tn}function cn(Be){var gt=new Uint8Array(Be),Ze="",_t;for(_t=0;_t<gt.length;_t+=3)Ze+=Pe[gt[_t]>>2],Ze+=Pe[(gt[_t]&3)<<4|gt[_t+1]>>4],Ze+=Pe[(gt[_t+1]&15)<<2|gt[_t+2]>>6],Ze+=Pe[gt[_t+2]&63];return gt.length%3===2?Ze=Ze.substring(0,Ze.length-1)+"=":gt.length%3===1&&(Ze=Ze.substring(0,Ze.length-2)+"=="),Ze}function uo(Be,gt){var Ze="";if(Be&&(Ze=xs.call(Be)),Be&&(Ze==="[object ArrayBuffer]"||Be.buffer&&xs.call(Be.buffer)==="[object ArrayBuffer]")){var _t,Ct=Ae;Be instanceof ArrayBuffer?(_t=Be,Ct+=Je):(_t=Be.buffer,Ze==="[object Int8Array]"?Ct+=pn:Ze==="[object Uint8Array]"?Ct+=en:Ze==="[object Uint8ClampedArray]"?Ct+=An:Ze==="[object Int16Array]"?Ct+=no:Ze==="[object Uint16Array]"?Ct+=Jo:Ze==="[object Int32Array]"?Ct+=co:Ze==="[object Uint32Array]"?Ct+=Ho:Ze==="[object Float32Array]"?Ct+=sr:Ze==="[object Float64Array]"?Ct+=Ss:gt(new Error("Failed to get type for BinaryArray"))),gt(Ct+cn(_t))}else if(Ze==="[object Blob]"){var ut=new FileReader;ut.onload=function(){var rn=Ke+Be.type+"~"+cn(this.result);gt(Ae+wt+rn)},ut.readAsArrayBuffer(Be)}else try{gt(JSON.stringify(Be))}catch(rn){console.error("Couldn't convert value into a JSON string: ",Be),gt(null,rn)}}function $o(Be){if(Be.substring(0,Fe)!==Ae)return JSON.parse(Be);var gt=Be.substring(ri),Ze=Be.substring(Fe,ri),_t;if(Ze===wt&&xe.test(gt)){var Ct=gt.match(xe);_t=Ct[1],gt=gt.substring(Ct[0].length)}var ut=la(gt);switch(Ze){case Je:return ut;case wt:return A([ut],{type:_t});case pn:return new Int8Array(ut);case en:return new Uint8Array(ut);case An:return new Uint8ClampedArray(ut);case no:return new Int16Array(ut);case Jo:return new Uint16Array(ut);case co:return new Int32Array(ut);case Ho:return new Uint32Array(ut);case sr:return new Float32Array(ut);case Ss:return new Float64Array(ut);default:throw new Error("Unkown type: "+Ze)}}var mi={serialize:uo,deserialize:$o,stringToBuffer:la,bufferToString:cn};function dl(Be,gt,Ze,_t){Be.executeSql("CREATE TABLE IF NOT EXISTS "+gt.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],Ze,_t)}function tn(Be){var gt=this,Ze={db:null};if(Be)for(var _t in Be)Ze[_t]=typeof Be[_t]!="string"?Be[_t].toString():Be[_t];var Ct=new M(function(ut,rn){try{Ze.db=openDatabase(Ze.name,String(Ze.version),Ze.description,Ze.size)}catch(bn){return rn(bn)}Ze.db.transaction(function(bn){dl(bn,Ze,function(){gt._dbInfo=Ze,ut()},function(Cn,Tn){rn(Tn)})},rn)});return Ze.serializer=mi,Ct}function ki(Be,gt,Ze,_t,Ct,ut){Be.executeSql(Ze,_t,Ct,function(rn,bn){bn.code===bn.SYNTAX_ERR?rn.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[gt.storeName],function(Cn,Tn){Tn.rows.length?ut(Cn,bn):dl(Cn,gt,function(){Cn.executeSql(Ze,_t,Ct,ut)},ut)},ut):ut(rn,bn)},ut)}function qo(Be,gt){var Ze=this;Be=G(Be);var _t=new M(function(Ct,ut){Ze.ready().then(function(){var rn=Ze._dbInfo;rn.db.transaction(function(bn){ki(bn,rn,"SELECT * FROM "+rn.storeName+" WHERE key = ? LIMIT 1",[Be],function(Cn,Tn){var _n=Tn.rows.length?Tn.rows.item(0).value:null;_n&&(_n=rn.serializer.deserialize(_n)),Ct(_n)},function(Cn,Tn){ut(Tn)})})}).catch(ut)});return H(_t,gt),_t}function Kl(Be,gt){var Ze=this,_t=new M(function(Ct,ut){Ze.ready().then(function(){var rn=Ze._dbInfo;rn.db.transaction(function(bn){ki(bn,rn,"SELECT * FROM "+rn.storeName,[],function(Cn,Tn){for(var _n=Tn.rows,Po=_n.length,xn=0;xn<Po;xn++){var Ws=_n.item(xn),ns=Ws.value;if(ns&&(ns=rn.serializer.deserialize(ns)),ns=Be(ns,Ws.key,xn+1),ns!==void 0){Ct(ns);return}}Ct()},function(Cn,Tn){ut(Tn)})})}).catch(ut)});return H(_t,gt),_t}function js(Be,gt,Ze,_t){var Ct=this;Be=G(Be);var ut=new M(function(rn,bn){Ct.ready().then(function(){gt===void 0&&(gt=null);var Cn=gt,Tn=Ct._dbInfo;Tn.serializer.serialize(gt,function(_n,Po){Po?bn(Po):Tn.db.transaction(function(xn){ki(xn,Tn,"INSERT OR REPLACE INTO "+Tn.storeName+" (key, value) VALUES (?, ?)",[Be,_n],function(){rn(Cn)},function(Ws,ns){bn(ns)})},function(xn){if(xn.code===xn.QUOTA_ERR){if(_t>0){rn(js.apply(Ct,[Be,Cn,Ze,_t-1]));return}bn(xn)}})})}).catch(bn)});return H(ut,Ze),ut}function ii(Be,gt,Ze){return js.apply(this,[Be,gt,Ze,1])}function Rc(Be,gt){var Ze=this;Be=G(Be);var _t=new M(function(Ct,ut){Ze.ready().then(function(){var rn=Ze._dbInfo;rn.db.transaction(function(bn){ki(bn,rn,"DELETE FROM "+rn.storeName+" WHERE key = ?",[Be],function(){Ct()},function(Cn,Tn){ut(Tn)})})}).catch(ut)});return H(_t,gt),_t}function Ic(Be){var gt=this,Ze=new M(function(_t,Ct){gt.ready().then(function(){var ut=gt._dbInfo;ut.db.transaction(function(rn){ki(rn,ut,"DELETE FROM "+ut.storeName,[],function(){_t()},function(bn,Cn){Ct(Cn)})})}).catch(Ct)});return H(Ze,Be),Ze}function Dc(Be){var gt=this,Ze=new M(function(_t,Ct){gt.ready().then(function(){var ut=gt._dbInfo;ut.db.transaction(function(rn){ki(rn,ut,"SELECT COUNT(key) as c FROM "+ut.storeName,[],function(bn,Cn){var Tn=Cn.rows.item(0).c;_t(Tn)},function(bn,Cn){Ct(Cn)})})}).catch(Ct)});return H(Ze,Be),Ze}function El(Be,gt){var Ze=this,_t=new M(function(Ct,ut){Ze.ready().then(function(){var rn=Ze._dbInfo;rn.db.transaction(function(bn){ki(bn,rn,"SELECT key FROM "+rn.storeName+" WHERE id = ? LIMIT 1",[Be+1],function(Cn,Tn){var _n=Tn.rows.length?Tn.rows.item(0).key:null;Ct(_n)},function(Cn,Tn){ut(Tn)})})}).catch(ut)});return H(_t,gt),_t}function Pc(Be){var gt=this,Ze=new M(function(_t,Ct){gt.ready().then(function(){var ut=gt._dbInfo;ut.db.transaction(function(rn){ki(rn,ut,"SELECT key FROM "+ut.storeName,[],function(bn,Cn){for(var Tn=[],_n=0;_n<Cn.rows.length;_n++)Tn.push(Cn.rows.item(_n).key);_t(Tn)},function(bn,Cn){Ct(Cn)})})}).catch(Ct)});return H(Ze,Be),Ze}function Zs(Be){return new M(function(gt,Ze){Be.transaction(function(_t){_t.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(Ct,ut){for(var rn=[],bn=0;bn<ut.rows.length;bn++)rn.push(ut.rows.item(bn).name);gt({db:Be,storeNames:rn})},function(Ct,ut){Ze(ut)})},function(_t){Ze(_t)})})}function So(Be,gt){gt=te.apply(this,arguments);var Ze=this.config();Be=typeof Be!="function"&&Be||{},Be.name||(Be.name=Be.name||Ze.name,Be.storeName=Be.storeName||Ze.storeName);var _t=this,Ct;return Be.name?Ct=new M(function(ut){var rn;Be.name===Ze.name?rn=_t._dbInfo.db:rn=openDatabase(Be.name,"","",0),Be.storeName?ut({db:rn,storeNames:[Be.storeName]}):ut(Zs(rn))}).then(function(ut){return new M(function(rn,bn){ut.db.transaction(function(Cn){function Tn(Ws){return new M(function(ns,gs){Cn.executeSql("DROP TABLE IF EXISTS "+Ws,[],function(){ns()},function(jr,Uo){gs(Uo)})})}for(var _n=[],Po=0,xn=ut.storeNames.length;Po<xn;Po++)_n.push(Tn(ut.storeNames[Po]));M.all(_n).then(function(){rn()}).catch(function(Ws){bn(Ws)})},function(Cn){bn(Cn)})})}):Ct=M.reject("Invalid arguments"),H(Ct,gt),Ct}var fl={_driver:"webSQLStorage",_initStorage:tn,_support:Se(),iterate:Kl,getItem:qo,setItem:ii,removeItem:Rc,clear:Ic,length:Dc,key:El,keys:Pc,dropInstance:So};function Ui(){try{return typeof localStorage<"u"&&"setItem"in localStorage&&!!localStorage.setItem}catch{return!1}}function Mu(Be,gt){var Ze=Be.name+"/";return Be.storeName!==gt.storeName&&(Ze+=Be.storeName+"/"),Ze}function Sn(){var Be="_localforage_support_test";try{return localStorage.setItem(Be,!0),localStorage.removeItem(Be),!1}catch{return!0}}function rc(){return!Sn()||localStorage.length>0}function jf(Be){var gt=this,Ze={};if(Be)for(var _t in Be)Ze[_t]=Be[_t];return Ze.keyPrefix=Mu(Be,gt._defaultConfig),rc()?(gt._dbInfo=Ze,Ze.serializer=mi,M.resolve()):M.reject()}function Tr(Be){var gt=this,Ze=gt.ready().then(function(){for(var _t=gt._dbInfo.keyPrefix,Ct=localStorage.length-1;Ct>=0;Ct--){var ut=localStorage.key(Ct);ut.indexOf(_t)===0&&localStorage.removeItem(ut)}});return H(Ze,Be),Ze}function Zf(Be,gt){var Ze=this;Be=G(Be);var _t=Ze.ready().then(function(){var Ct=Ze._dbInfo,ut=localStorage.getItem(Ct.keyPrefix+Be);return ut&&(ut=Ct.serializer.deserialize(ut)),ut});return H(_t,gt),_t}function ml(Be,gt){var Ze=this,_t=Ze.ready().then(function(){for(var Ct=Ze._dbInfo,ut=Ct.keyPrefix,rn=ut.length,bn=localStorage.length,Cn=1,Tn=0;Tn<bn;Tn++){var _n=localStorage.key(Tn);if(_n.indexOf(ut)===0){var Po=localStorage.getItem(_n);if(Po&&(Po=Ct.serializer.deserialize(Po)),Po=Be(Po,_n.substring(rn),Cn++),Po!==void 0)return Po}}});return H(_t,gt),_t}function jl(Be,gt){var Ze=this,_t=Ze.ready().then(function(){var Ct=Ze._dbInfo,ut;try{ut=localStorage.key(Be)}catch{ut=null}return ut&&(ut=ut.substring(Ct.keyPrefix.length)),ut});return H(_t,gt),_t}function Tl(Be){var gt=this,Ze=gt.ready().then(function(){for(var _t=gt._dbInfo,Ct=localStorage.length,ut=[],rn=0;rn<Ct;rn++){var bn=localStorage.key(rn);bn.indexOf(_t.keyPrefix)===0&&ut.push(bn.substring(_t.keyPrefix.length))}return ut});return H(Ze,Be),Ze}function dr(Be){var gt=this,Ze=gt.keys().then(function(_t){return _t.length});return H(Ze,Be),Ze}function ca(Be,gt){var Ze=this;Be=G(Be);var _t=Ze.ready().then(function(){var Ct=Ze._dbInfo;localStorage.removeItem(Ct.keyPrefix+Be)});return H(_t,gt),_t}function gl(Be,gt,Ze){var _t=this;Be=G(Be);var Ct=_t.ready().then(function(){gt===void 0&&(gt=null);var ut=gt;return new M(function(rn,bn){var Cn=_t._dbInfo;Cn.serializer.serialize(gt,function(Tn,_n){if(_n)bn(_n);else try{localStorage.setItem(Cn.keyPrefix+Be,Tn),rn(ut)}catch(Po){(Po.name==="QuotaExceededError"||Po.name==="NS_ERROR_DOM_QUOTA_REACHED")&&bn(Po),bn(Po)}})})});return H(Ct,Ze),Ct}function Gf(Be,gt){if(gt=te.apply(this,arguments),Be=typeof Be!="function"&&Be||{},!Be.name){var Ze=this.config();Be.name=Be.name||Ze.name,Be.storeName=Be.storeName||Ze.storeName}var _t=this,Ct;return Be.name?Ct=new M(function(ut){Be.storeName?ut(Mu(Be,_t._defaultConfig)):ut(Be.name+"/")}).then(function(ut){for(var rn=localStorage.length-1;rn>=0;rn--){var bn=localStorage.key(rn);bn.indexOf(ut)===0&&localStorage.removeItem(bn)}}):Ct=M.reject("Invalid arguments"),H(Ct,gt),Ct}var su={_driver:"localStorageWrapper",_initStorage:jf,_support:Ui(),iterate:ml,getItem:Zf,setItem:gl,removeItem:ca,clear:Tr,length:dr,key:jl,keys:Tl,dropInstance:Gf},Al=function(gt,Ze){return gt===Ze||typeof gt=="number"&&typeof Ze=="number"&&isNaN(gt)&&isNaN(Ze)},Gd=function(gt,Ze){for(var _t=gt.length,Ct=0;Ct<_t;){if(Al(gt[Ct],Ze))return!0;Ct++}return!1},Lu=Array.isArray||function(Be){return Object.prototype.toString.call(Be)==="[object Array]"},cs={},Kr={},gi={INDEXEDDB:lt,WEBSQL:fl,LOCALSTORAGE:su},qf=[gi.INDEXEDDB._driver,gi.WEBSQL._driver,gi.LOCALSTORAGE._driver],hl=["dropInstance"],ru=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(hl),Pi={description:"",driver:qf.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function Aa(Be,gt){Be[gt]=function(){var Ze=arguments;return Be.ready().then(function(){return Be[gt].apply(Be,Ze)})}}function Oa(){for(var Be=1;Be<arguments.length;Be++){var gt=arguments[Be];if(gt)for(var Ze in gt)gt.hasOwnProperty(Ze)&&(Lu(gt[Ze])?arguments[0][Ze]=gt[Ze].slice():arguments[0][Ze]=gt[Ze])}return arguments[0]}var Vs=function(){function Be(gt){x(this,Be);for(var Ze in gi)if(gi.hasOwnProperty(Ze)){var _t=gi[Ze],Ct=_t._driver;this[Ze]=Ct,cs[Ct]||this.defineDriver(_t)}this._defaultConfig=Oa({},Pi),this._config=Oa({},this._defaultConfig,gt),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return Be.prototype.config=function(Ze){if((typeof Ze>"u"?"undefined":h(Ze))==="object"){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var _t in Ze){if(_t==="storeName"&&(Ze[_t]=Ze[_t].replace(/\W/g,"_")),_t==="version"&&typeof Ze[_t]!="number")return new Error("Database version must be a number.");this._config[_t]=Ze[_t]}return"driver"in Ze&&Ze.driver?this.setDriver(this._config.driver):!0}else return typeof Ze=="string"?this._config[Ze]:this._config},Be.prototype.defineDriver=function(Ze,_t,Ct){var ut=new M(function(rn,bn){try{var Cn=Ze._driver,Tn=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!Ze._driver){bn(Tn);return}for(var _n=ru.concat("_initStorage"),Po=0,xn=_n.length;Po<xn;Po++){var Ws=_n[Po],ns=!Gd(hl,Ws);if((ns||Ze[Ws])&&typeof Ze[Ws]!="function"){bn(Tn);return}}var gs=function(){for(var ic=function(Or){return function(){var qd=new Error("Method "+Or+" is not implemented by the current driver"),Jr=M.reject(qd);return H(Jr,arguments[arguments.length-1]),Jr}},Ra=0,_o=hl.length;Ra<_o;Ra++){var Ol=hl[Ra];Ze[Ol]||(Ze[Ol]=ic(Ol))}};gs();var jr=function(ic){cs[Cn]&&console.info("Redefining LocalForage driver: "+Cn),cs[Cn]=Ze,Kr[Cn]=ic,rn()};"_support"in Ze?Ze._support&&typeof Ze._support=="function"?Ze._support().then(jr,bn):jr(!!Ze._support):jr(!0)}catch(Uo){bn(Uo)}});return K(ut,_t,Ct),ut},Be.prototype.driver=function(){return this._driver||null},Be.prototype.getDriver=function(Ze,_t,Ct){var ut=cs[Ze]?M.resolve(cs[Ze]):M.reject(new Error("Driver not found."));return K(ut,_t,Ct),ut},Be.prototype.getSerializer=function(Ze){var _t=M.resolve(mi);return K(_t,Ze),_t},Be.prototype.ready=function(Ze){var _t=this,Ct=_t._driverSet.then(function(){return _t._ready===null&&(_t._ready=_t._initDriver()),_t._ready});return K(Ct,Ze,Ze),Ct},Be.prototype.setDriver=function(Ze,_t,Ct){var ut=this;Lu(Ze)||(Ze=[Ze]);var rn=this._getSupportedDrivers(Ze);function bn(){ut._config.driver=ut.driver()}function Cn(Po){return ut._extend(Po),bn(),ut._ready=ut._initStorage(ut._config),ut._ready}function Tn(Po){return function(){var xn=0;function Ws(){for(;xn<Po.length;){var ns=Po[xn];return xn++,ut._dbInfo=null,ut._ready=null,ut.getDriver(ns).then(Cn).catch(Ws)}bn();var gs=new Error("No available storage method found.");return ut._driverSet=M.reject(gs),ut._driverSet}return Ws()}}var _n=this._driverSet!==null?this._driverSet.catch(function(){return M.resolve()}):M.resolve();return this._driverSet=_n.then(function(){var Po=rn[0];return ut._dbInfo=null,ut._ready=null,ut.getDriver(Po).then(function(xn){ut._driver=xn._driver,bn(),ut._wrapLibraryMethodsWithReady(),ut._initDriver=Tn(rn)})}).catch(function(){bn();var Po=new Error("No available storage method found.");return ut._driverSet=M.reject(Po),ut._driverSet}),K(this._driverSet,_t,Ct),this._driverSet},Be.prototype.supports=function(Ze){return!!Kr[Ze]},Be.prototype._extend=function(Ze){Oa(this,Ze)},Be.prototype._getSupportedDrivers=function(Ze){for(var _t=[],Ct=0,ut=Ze.length;Ct<ut;Ct++){var rn=Ze[Ct];this.supports(rn)&&_t.push(rn)}return _t},Be.prototype._wrapLibraryMethodsWithReady=function(){for(var Ze=0,_t=ru.length;Ze<_t;Ze++)Aa(this,ru[Ze])},Be.prototype.createInstance=function(Ze){return new Be(Ze)},Be}(),wr=new Vs;u.exports=wr},{3:3}]},{},[4])(4)})}(aU)),aU.exports}var D0e=I0e();const P0e=iK(D0e);function Nu(t){return P0e.createInstance({name:"xlas-assessment-corrector",storeName:t})}const Lf=Nu("changes");function N0e(){const t={changes:{},lastSave:0,lastSendingSuccess:0};for(const r of Ms.STORED_TYPES)t.changes[r]={};return t}const M0e=ou("changes",{state:()=>N0e(),getters:{countChanges(t){let r=0;for(const i of Ms.STORED_TYPES)r+=Object.keys(t.changes[i]).length;return r},getChangesCount(t){return function(i){return Object.keys(t.changes[i]??[]).length}},getChangesFor(t){return function(i,u=0){if(!Ms.STORED_TYPES.includes(i))return[];const m=[];for(const h in t.changes[i]){const x=t.changes[i][h];(u==0||x.last_change<=u)&&m.push(x)}return m}},getChangeDataToSend(t){return function(i,u=null){const m=i.getData();return u&&(m.payload=u),m.last_change=Ee.api().getServerTime(i.last_change),m}}},actions:{async clearStorage(){try{this.$reset(),await Lf.clear()}catch(t){console.log(t)}},async loadFromStorage(){this.$reset();try{for(const t in this.changes){const r=await Lf.getItem(t)??[];for(const i of r){const u=await Lf.getItem(Ms.buildChangeKey(t,i)),m=JSON.parse(u);typeof m=="object"&&m!==null&&(this.changes[t][i]=new Ms(m))}}this.lastSave=parseInt(await Lf.getItem("lastSave")),this.lastSendingSuccess=parseInt(await Lf.getItem("lastSendingSuccess"))}catch(t){console.log(t)}},async setChange(t){t.isValid()&&(this.changes[t.type][t.key]=t,await Lf.setItem(t.getChangeKey(),JSON.stringify(t.getData())),await Lf.setItem(t.type,Object.keys(this.changes[t.type])),this.lastSave=Date.now(),await Lf.setItem("lastSave",this.lastSave))},async unsetChange(t){t.isValid()&&(delete this.changes[t.type][t.key],await Lf.removeItem(t.getChangeKey()),await Lf.setItem(t.type,Object.keys(this.changes[t.type])),this.lastSave=Date.now(),await Lf.setItem("lastSave",this.lastSave))},async setChangesSent(t,r=[],i){let u=!1;if(this.changes[t])for(const m of r){const h=new R0e(m),x=this.changes[t][h.key];x&&h.done&&x.last_change<=i&&(delete this.changes[t][h.key],await Lf.removeItem(x.getChangeKey()),u=!0)}u&&(this.lastSave=Date.now(),await Lf.setItem(t,Object.keys(this.changes[t])),await Lf.setItem("lastSave",this.lastSave)),this.lastSendingSuccess=Date.now(),await Lf.setItem("lastSendingSuccess",this.lastSendingSuccess)}}});class yR{constructor(r={}){Tt(this,"x",0);Tt(this,"y",0);r.x!==void 0&&r.x!==null&&(this.x=parseInt(r.x)),r.y!==void 0&&r.y!==null&&(this.y=parseInt(r.y))}getData(){return{x:this.x,y:this.y}}}const cl=class cl{constructor(r={}){Tt(this,"key","");Tt(this,"shape","");Tt(this,"pos",new yR(0,0));Tt(this,"end",new yR(0,0));Tt(this,"width",0);Tt(this,"height",0);Tt(this,"polygon",[]);Tt(this,"symbol","");this.setData(r)}setData(r){if(r.key!==void 0&&r.key!==null&&(this.key=r.key),r.shape!==void 0&&cl.ALLOWED_SHAPES.includes(r.shape)&&(this.shape=r.shape.toString()),r.pos!==void 0&&r.pos!==null&&(this.pos=new yR(r.pos)),r.end!==void 0&&r.end!==null&&(this.end=new yR(r.end)),r.width!==void 0&&r.width!==null&&(this.width=parseInt(r.width)),r.height!==void 0&&r.height!==null&&(this.height=parseInt(r.height)),r.polygon!==void 0&&Array.isArray(r.polygon))for(const i of r.polygon)this.polygon.push(new yR(i));r.symbol!==void 0&&r.symbol!==null&&(this.symbol=r.symbol.toString())}getData(){let r=[];for(const i of this.polygon)r.push(i.getData());return{key:this.key,shape:this.shape,pos:this.pos.getData(),end:this.end.getData(),width:this.width,height:this.height,polygon:r,symbol:this.symbol}}getIcon(){switch(this.shape){case cl.SHAPE_LINE:return"mdi-minus";case cl.SHAPE_WAVE:return"mdi-wave";case cl.SHAPE_RECTANGLE:return"mdi-rectangle-outline";case cl.SHAPE_POLYGON:return"mdi-vector-triangle";case cl.SHAPE_CIRCLE:switch(this.symbol){case cl.SYMBOL_CHECK:return"mdi-check";case cl.SYMBOL_CROSS:return"mdi-close";case cl.SYMBOL_QUESTION:return"mdi-help"}}return""}};Tt(cl,"SHAPE_CIRCLE","circle"),Tt(cl,"SHAPE_RECTANGLE","rectangle"),Tt(cl,"SHAPE_POLYGON","polygon"),Tt(cl,"SHAPE_LINE","line"),Tt(cl,"SHAPE_WAVE","wave"),Tt(cl,"ALLOWED_SHAPES",[cl.SHAPE_CIRCLE,cl.SHAPE_RECTANGLE,cl.SHAPE_POLYGON,cl.SHAPE_LINE,cl.SHAPE_WAVE]),Tt(cl,"SYMBOL_CHECK",""),Tt(cl,"SYMBOL_CROSS",""),Tt(cl,"SYMBOL_QUESTION","?");let WC=cl;const ra=class ra{constructor(r={}){Tt(this,"key","");Tt(this,"item_key","");Tt(this,"correction_key","");Tt(this,"task_id",null);Tt(this,"writer_id",null);Tt(this,"corrector_id",null);Tt(this,"start_position",0);Tt(this,"end_position",0);Tt(this,"parent_number",0);Tt(this,"comment","");Tt(this,"rating_excellent",!1);Tt(this,"rating_cardinal",!1);Tt(this,"correction_position",null);Tt(this,"label","");Tt(this,"marks",[]);Tt(this,"deleted",!1);if(r.key!==void 0&&r.key!==null&&(this.key=r.key.toString()),r.task_id!==void 0&&r.task_id!==null&&(this.task_id=parseInt(r.task_id)),r.task_id!==void 0&&r.task_id!==null&&(this.task_id=parseInt(r.task_id)),r.writer_id!==void 0&&r.writer_id!==null&&(this.writer_id=parseInt(r.writer_id)),r.corrector_id!==void 0&&r.corrector_id!==null&&(this.corrector_id=parseInt(r.corrector_id)),r.start_position!==void 0&&r.start_position!==null&&(this.start_position=parseInt(r.start_position)),r.end_position!==void 0&&r.end_position!==null&&(this.end_position=parseInt(r.end_position)),r.parent_number!==void 0&&r.parent_number!==null&&(this.parent_number=parseInt(r.parent_number)),r.comment!==void 0&&r.comment!==null&&(this.comment=r.comment.toString()),r.rating==ra.RAITNG_EXCELLENT?this.rating_excellent=!0:r.rating==ra.RATING_CARDINAL&&(this.rating_cardinal=!0),r.marks!==void 0&&Array.isArray(r.marks))for(const i of r.marks)this.addMarkData(i);!this.key&&this.corrector_id&&(this.key=ra.newKey(this.corrector_id)),!this.item_key&&this.task_id&&this.writer_id&&(this.item_key=Si.buildKey(this.task_id,this.writer_id)),!this.correction_key&&this.task_id&&this.writer_id&&this.corrector_id&&(this.correction_key=_a.buildKey(this.task_id,this.writer_id,this.corrector_id))}static cssClassByCorrectionPosition(r){switch(r){case 0:return ra.CLASS_CORRECTOR1;case 1:return ra.CLASS_CORRECTOR2;case 2:return ra.CLASS_CORRECTOR3;default:return ra.CLASS_CORRECTORX}}static order(r,i){return r.parent_number<i.parent_number?-1:r.parent_number>i.parent_number?1:r.start_position<i.start_position?-1:r.start_position>i.start_position?1:0}static newKey(r){return"C"+r+"_"+Math.random().toString()}getCssClass(){return ra.cssClassByCorrectionPosition(this.correction_position)}setCorrectionKey(r){this.correction_key=r,this.task_id=_a.extractTaskId(this.correction_key),this.writer_id=_a.extractWriterId(this.correction_key),this.corrector_id=_a.extractCorrectorId(this.correction_key),this.item_key=Si.buildKey(this.task_id,this.writer_id),this.key=ra.newKey(this.corrector_id)}addMarkData(r){this.marks.push(new WC(r)),this.calculateStartPositon()}updateMarkData(r){for(const i of this.marks)i.key==r.key&&i.setData(r);this.calculateStartPositon()}getMarkIcon(){for(const r of this.marks)return r.getIcon();return null}getMarkByKey(r){for(const i of this.marks)if(i.key==r)return i;return null}calculateStartPositon(){let r=null;for(const i of this.marks)(r===null||i.pos.y>r)&&(r=i.pos.y);r!==null&&(this.start_position=r)}hasMarkKey(r){for(const i of this.marks)if(i.key==r)return!0;return!1}getData(){let r=[];for(const i of this.marks)r.push(i.getData());return{key:this.key,item_key:this.item_key,correction_key:this.correction_key,task_id:this.task_id,writer_id:this.writer_id,corrector_id:this.corrector_id,start_position:this.start_position,end_position:this.end_position,parent_number:this.parent_number,comment:this.comment,rating:this.rating_excellent?ra.RAITNG_EXCELLENT:this.rating_cardinal?ra.RATING_CARDINAL:"",marks:r}}};Tt(ra,"CLASS_SELECTED","xlas-comment-selected"),Tt(ra,"CLASS_CORRECTOR1","xlas-corrector1"),Tt(ra,"CLASS_CORRECTOR2","xlas-corrector2"),Tt(ra,"CLASS_CORRECTOR3","xlas-corrector3"),Tt(ra,"CLASS_CORRECTORX","xlas-correctorX"),Tt(ra,"CORRECTOR_CSS_CLASSES",[ra.CLASS_CORRECTOR1,ra.CLASS_CORRECTOR2,ra.CLASS_CORRECTOR3,ra.CLASS_CORRECTORX]),Tt(ra,"RATING_CARDINAL","cardinal"),Tt(ra,"RAITNG_EXCELLENT","excellent"),Tt(ra,"ALLOWED_RATING",[ra.RATING_CARDINAL,ra.RAITNG_EXCELLENT]);let R1=ra;const Ld=Nu("comments"),L0e=ou("comments",{state:()=>({keys:[],comments:[],showOtherCorrections:!0,markerChange:0,selectionChange:0,filterChange:0,caretRequest:0,selectedKey:"",firstVisibleKey:"",filterKeys:[]}),getters:{selectedComment(t){return t.getComment(t.selectedKey)},selectedLabel(t){let r=t.getComment(t.selectedKey);return r?r.label:""},activeComments(t){return Ee.api(),t.comments.filter(r=>(t.showOtherCorrections||r.correction_key==Ee.corrections().ownKey)&&(t.filterKeys.length==0||t.filterKeys.includes(r.key)))},isOtherCorrectionsShown(t){return t.showOtherCorrections},isFilterActive(t){return t.filterKeys.length>0},getComment(t){return function(i){return t.comments.find(u=>u.key==i)}},getCommentByMarkKey(t){return function(i){return t.comments.find(u=>u.hasMarkKey(i))}},getActiveCommentsInRange(t){return function(i,u){return t.activeComments.filter(m=>m.start_position<=u&&m.end_position>=i)}},getActiveCommentsByStartPosition(t){return function(i){return t.activeComments.filter(u=>u.start_position==i)}},getActiveCommentsByParentNumber(t){return function(i){return t.activeComments.filter(u=>u.parent_number==i)}},getCountOfExcellent(t){return function(i){return t.comments.filter(u=>u.correction_key==i&&u.rating_excellent).length}},getCountOfCardinal(t){return function(i){return t.comments.filter(u=>u.correction_key==i&&u.rating_cardinal).length}}},actions:{setFirstVisibleComment(t){this.firstVisibleKey=t},setMarkerChange(){this.markerChange=Date.now()},setFilterChange(){this.filterChange=Date.now()},setCaretRequest(){this.caretRequest=Date.now()},selectComment(t,r=!0){this.selectedKey=t,r&&(this.selectionChange=Date.now())},async createComment(t,r,i){let u=new R1({start_position:t,end_position:r,parent_number:i});return await this.addComment(u),u.key},async addComment(t){const r=Ee.corrections(),i=Ee.changes();return t.setCorrectionKey(r.ownKey),this.keys.push(t.key),this.filterKeys.length>0&&(this.filterKeys.push(t.key),this.setFilterChange()),this.comments.push(t),await this.sortAndLabelComments(),this.setMarkerChange(),this.selectComment(t.key,!0),await Ld.setItem(t.key,JSON.stringify(t.getData())),await Ld.setItem("keys",JSON.stringify(this.keys)),await i.setChange(new Ms({type:Ms.TYPE_COMMENT,action:Ms.ACTION_SAVE,key:t.key,item_key:t.item_key})),t.key},async updateComment(t,r=!1){Ee.api();const i=Ee.summaries(),u=Ee.changes();this.keys.includes(t.key)&&t.correction_key==Ee.corrections().ownKey&&!i.isOwnDisabled&&(await Ld.setItem(t.key,JSON.stringify(t.getData())),await u.setChange(new Ms({type:Ms.TYPE_COMMENT,action:Ms.ACTION_SAVE,key:t.key,item_key:t.item_key})),r&&(await this.sortAndLabelComments(),this.setMarkerChange()))},async deleteComment(t){await this.removeComment(t),await this.sortAndLabelComments(),this.setMarkerChange()},async removeComment(t){const r=Ee.changes();await Ee.points().deletePointsOfComment(t),this.selectedKey==t&&this.selectComment("",!0);const u=this.comments.find(h=>h.key==t);this.comments=this.comments.filter(h=>h.key!=t),this.keys.includes(t)&&(this.keys=this.keys.filter(h=>h!=t),await Ld.setItem("keys",JSON.stringify(this.keys)),await Ld.removeItem(t));const m=new Ms({type:Ms.TYPE_COMMENT,action:Ms.ACTION_DELETE,key:u.key,item_key:u.item_key,payload:u.getData()});await r.setChange(m)},async sortAndLabelComments(){Ee.api();const t=Ee.corrections();Ee.config(),this.comments=this.comments.sort(R1.order);let r=0,i={};for(const u of this.comments){const m=t.getCorrection(u.correction_key),h=m?m.initials:"??";if(u.parent_number>r){r=u.parent_number;for(const x of t.correctionKeys)i[x]=0;i[u.correction_key]=1}else i[u.correction_key]++;u.correction_position=m.position,u.label=h+" "+r.toString()+"."+i[u.correction_key].toString()}},setFilterByRating(t,r,i){this.filterKeys=[];for(const u of this.comments)u.correction_key==t&&u.rating_excellent==r&&u.rating_cardinal==i&&this.filterKeys.push(u.key);this.setFilterChange()},setFilterByPoints(t){const r=Ee.points();this.filterKeys=[];for(const i of this.comments)i.correction_key==t&&r.getCommentHasPoints(i.key)&&this.filterKeys.push(i.key);this.setFilterChange()},setFilterByCriterion(t,r){const i=Ee.points();this.filterKeys=[];for(const u of this.comments)u.correction_key==t&&i.getCommentHasPointsForCriterion(u.key,r)&&this.filterKeys.push(u.key);this.setFilterChange()},resetFilter(){this.filterKeys=[],this.setFilterChange()},async setShowOtherCorrections(t){this.showOtherCorrections=!!t,this.markerChange=Date.now(),await Ld.setItem("showOtherCorrections",JSON.stringify(this.showOtherCorrections))},async clearStorage(){try{await Ld.clear()}catch(t){console.log(t)}this.$reset()},async loadFromStorage(){const t=Ee.api();try{this.$reset();const r=await Ld.getItem("keys");r&&(this.keys=JSON.parse(r)),this.showOtherCorrections=!!JSON.parse(await Ld.getItem("showOtherCorrections"));for(const i of this.keys){const u=new R1(JSON.parse(await Ld.getItem(i)));u.item_key==t.itemKey&&this.comments.push(u)}await this.sortAndLabelComments()}catch(r){console.log(r)}},async loadFromBackend(t){const r=Ee.api();try{this.$reset(),this.showOtherCorrections=!!JSON.parse(await Ld.getItem("showOtherCorrections")),await Ld.clear();for(const i of t){const u=new R1(i);this.keys.push(u.key),await Ld.setItem(u.key,JSON.stringify(u.getData())),u.item_key==r.itemKey&&this.comments.push(u)}await this.sortAndLabelComments(),await Ld.setItem("keys",JSON.stringify(this.keys)),await Ld.setItem("showOtherCorrections",JSON.stringify(this.showOtherCorrections))}catch(i){console.log(i)}},async getChangedData(t=0){const r=Ee.changes(),i=[];for(const u of r.getChangesFor(Ms.TYPE_COMMENT,t)){const m=await Ld.getItem(u.key);m?i.push(r.getChangeDataToSend(u,JSON.parse(m))):i.push(r.getChangeDataToSend(u))}return i}}}),lU=Nu("config"),{t:mEe}=Pu.global,B0e={primary_color:null,primary_text_color:null,corrector1_color:null,corrector2_color:null,corrector3_color:null};function B6(t,r){t=t.replace(/^#/,"");const i=parseInt(t.substring(0,2),16),u=parseInt(t.substring(2,4),16),m=parseInt(t.substring(4,6),16);return`rgba(${i}, ${u}, ${m}, ${r})`}const F0e=ou("config",{state:()=>B0e,getters:{primaryColorCss(t){return t.primary_color?"#"+t.primary_color:""},primaryTextColorCss(t){return t.primary_text_color?"#"+t.primary_text_color:""},primaryTextColorFullCss(t){return t.primary_text_color?"color: #"+t.primary_text_color+";":""},getDefaultCommentColor(t){var m;const i=(m=Ee.corrections().ownCorrection)==null?void 0:m.position;return function(h=!1){return t.getCommentColor(i,h)}},getCommentColor(t){return function(i,u=!1){switch(i){case 0:return B6(t.corrector1_color,u?1:.4);case 1:return B6(t.corrector2_color,u?1:.4);case 2:return B6(t.corrector3_color,u?1:.4);default:return B6("CCCCCC",u?1:.4)}}},getCommentStyle(t){return function(i,u){return"background-color: "+t.getCommentColor(i,u)}}},actions:{async clearStorage(){try{this.$reset(),await lU.clear()}catch(t){console.log(t)}},async loadFromStorage(){try{this.$patch(await lU.getItem("config"))}catch(t){console.log(t)}},async loadFromBackend(t={}){try{this.$patch({primary_color:t.primary_color??null,primary_text_color:t.primary_text_color??null,corrector1_color:t.corrector1_color??null,corrector2_color:t.corrector2_color??null,corrector3_color:t.corrector3_color??null}),await lU.setItem("config",Object.assign({},this.$state))}catch(r){console.log(r)}}}}),rE=Nu("corrections"),{t:gEe}=Pu.global,$0e=ou("corrections",{state:()=>({corrections:{},ownKey:""}),getters:{allCorrections(t){return Object.values(t.corrections)},sortedCorrections(t){return t.allCorrections.sort(_a.order)},countCorrections(t){return t.allCorrections.length},correctionKeys(t){return Object.keys(t.corrections)},firstCorrection(t){return t.allCorrections.find(r=>r.position==_a.POSITION_FIRST)??null},secondCorrection(t){return t.allCorrections.find(r=>r.position==_a.POSITION_SECOND)??null},stitchCorrection(t){return t.allCorrections.find(r=>r.position==_a.POSITION_STITCH)??null},ownCorrection(t){return t.allCorrections.find(r=>r.key==t.ownKey)??null},firstOtherCorrection(t){return t.allCorrections.sort(_a.order).find(r=>r.key!=t.ownKey)??null},otherCorrections(t){return t.allCorrections.filter(r=>r.key!=t.ownKey).sort(_a.order)},getCorrection(t){return function(i){return t.corrections[i]}}},actions:{async clearStorage(){try{await rE.clear(),this.$reset()}catch(t){console.log(t)}},async loadFromStorage(){try{this.$reset();const t=await rE.getItem("keys")??[];for(const r of t){const i=new _a(await rE.getItem(r));this.corrections[r]=i}this.updateOwnKey()}catch(t){console.log(t)}},async loadFromBackend(t=[]){try{await rE.clear(),this.$reset();for(const r of t){const i=new _a(r);this.corrections[i.getKey()]=i,await rE.setItem(i.getKey(),i.getData())}await rE.setItem("keys",Object.keys(this.corrections)),this.updateOwnKey()}catch(r){console.log(r)}},updateOwnKey(){const t=Ee.api();for(const r of Object.values(this.corrections))if(r.item_key==t.itemKey&&r.user_id==parseInt(t.userId)){this.ownKey=r.key;break}}}});class PE{constructor(r={}){Tt(this,"key","");Tt(this,"id",null);Tt(this,"task_id",null);Tt(this,"corrector_id",null);Tt(this,"title","");Tt(this,"description","");Tt(this,"points",0);Tt(this,"is_general",!1);r.id!==void 0&&r.id!==null&&(this.id=parseInt(r.id)),r.task_id!==void 0&&r.task_id!==null&&(this.task_id=parseInt(r.task_id)),r.corrector_id!==void 0&&r.corrector_id!==null&&(this.corrector_id=parseInt(r.corrector_id)),r.title!==void 0&&r.title!==null&&(this.title=r.title.toString()),r.description!==void 0&&r.description!==null&&(this.description=r.description.toString()),r.points!==void 0&&r.points!==null&&(this.points=parseInt(r.points)),r.is_general!==void 0&&r.is_general!==null&&(this.is_general=!!r.is_general),this.key=PE.buildKey(this.id)}static order(r,i){return r.title<i.title?-1:r.title>i.title?1:0}static buildKey(r){return"C"+r}static extractCriterionId(r){return parseInt(r.substring(1))}getKey(){return this.key}getData(){return Object.assign({},this)}}const iE=Nu("criteria"),V0e=ou("criteria",{state:()=>({criteria:{}}),getters:{allCriteria(t){return Object.values(t.criteria)},ownCriteria(t){const r=Ee.corrections().ownCorrection;return r?t.allCriteria.filter(i=>i.task_id===r.task_id&&(i.corrector_id===null||i.corrector_id===r.corrector_id)):[]},hasCommentCriteria(t){return!!t.allCriteria.find(r=>!r.is_general)},hasOwnCriteria(t){return!!t.ownCriteria},hasOwnGeneralCriteria(t){return!!t.ownCriteria.find(r=>r.is_general)},hasOwnCommentCriteria(t){return!!t.ownCriteria.find(r=>!r.is_general)},getCorrectionCriteria(t){return function(i){const u=_a.extractTaskId(i),m=_a.extractCorrectorId(i);return t.allCriteria.filter(h=>h.task_id===u&&(h.corrector_id===null||h.corrector_id===m))}},getCorrectionGeneralCriteria(t){return function(i){return t.getCorrectionCriteria(i).filter(u=>u.is_general)}},getCorrectionCommentCriteria(t){return function(i){return t.getCorrectionCriteria(i).filter(u=>!u.is_general)}},getCorrectionHasCriteria(t){return function(i){return!!t.getCorrectionCriteria(i)}},getCorrectionHasGeneralCriteria(t){return function(i){return!!t.getCorrectionGeneralCriteria(i)}},getCorrectionHasCommentCriteria(t){return function(i){return!!t.getCorrectionCommentCriteria(i)}}},actions:{async clearStorage(){try{this.$reset(),await iE.clear()}catch(t){console.log(t)}},async loadFromStorage(){try{this.$reset();const t=await iE.getItem("keys")??[];for(const r of t)this.criteria[r]=new PE(await iE.getItem(r))}catch(t){console.log(t)}},async loadFromBackend(t=[]){try{await iE.clear(),this.$reset();for(const r of t){const i=new PE(r);this.criteria[i.getKey()]=i,await iE.setItem(i.getKey(),i.getData())}await iE.setItem("keys",Object.keys(this.criteria))}catch(r){console.log(r)}}}}),cU=Nu("essay"),z0e=ou("essay",{state:()=>({text:null}),getters:{},actions:{async clearStorage(){try{await cU.clear(),this.$reset()}catch(t){console.log(t)}},async loadFromStorage(){try{const t=await cU.getItem("essay");this.$patch(t)}catch(t){console.log(t)}},async loadFromBackend(t){try{await cU.setItem("essay",t),this.$patch(t)}catch(r){console.log(r)}}}}),_1=Nu("items"),H0e=ou("items",{state:()=>({items:{},firstKey:null,lastKey:null,previousKey:null,nextKey:null}),getters:{currentKey(t){return Ee.api().itemKey},currentItem(t){return t.items[Ee.api().itemKey]},countItems(t){return Object.keys(t.items).length},hasItems(t){return t.countItems>0},sortedItems(t){if(Ee.api().itemKey&&t.items[Ee.api().itemKey]){const r=Si.extractTaskId(Ee.api().itemKey);return Object.values(t.items).filter(i=>i.task_id==r).toSorted(Si.order)}else return Object.values(t.items).toSorted(Si.order)},canAct(t){return t.canCorrect||t.canAuthorize||t.canRevise},canCorrect(t){var r;return(r=t.currentItem)==null?void 0:r.can_correct},canAuthorize(t){var r;return(r=t.currentItem)==null?void 0:r.can_authorize},canRevise(t){var r;return(r=t.currentItem)==null?void 0:r.can_revise},isOpen(t){var r;return((r=t.currentItem)==null?void 0:r.correction_status)===Si.STATUS_OPEN},isInRevision(t){var r,i;return((r=t.currentItem)==null?void 0:r.correction_status)===Si.STATUS_APPROXIMATION||((i=t.currentItem)==null?void 0:i.correction_status)===Si.STATUS_CONSULTING},isInStitch(t){var r;return((r=t.currentItem)==null?void 0:r.correction_status)===Si.STATUS_STITCH},isFinal(t){var r;return((r=t.currentItem)==null?void 0:r.correction_status)===Si.STATUS_FINALIZED},getItem(t){return function(i,u=null){return t.items[i]??u}},getByTask(t){return function(i){const u=Object.values(t.items).find(m=>{var h;return m.getTaskKey()==i&&m.writer_id==((h=t.currentItem)==null?void 0:h.writer_id)});return u||Object.values(t.items).toSorted(Si.order).find(m=>m.getTaskKey()==i)}}},actions:{async clearStorage(){try{this.$reset(),await _1.clear()}catch(t){console.log(t)}},async loadFromStorage(){try{this.$reset();const t=await _1.getItem("keys")??[];for(const r of t)this.items[r]=new Si(await _1.getItem(r));this.updateCurrentKeys()}catch(t){console.log(t)}},async loadFromBackend(t=[]){try{await _1.clear(),this.$reset();for(const r of t){const i=new Si(r);this.items[i.getKey()]=i,await _1.setItem(i.getKey(),i.getData())}await _1.setItem("keys",Object.keys(this.items)),this.updateCurrentKeys()}catch(r){console.log(r)}},async saveItem(t){try{this.items[t.getKey()]=t,await _1.setItem(t.getKey(),JSON.stringify(t.getData())),await _1.setItem("keys",Object.keys(this.items))}catch(r){console.log(r)}},async changeItem(t){t&&!Ee.api().isLoading&&(Ee.changes().countChanges==0||await Ee.api().saveChangesToBackend(!0)?await Ee.api().loadItemFromBackend(t):Ee.layout().showSendFailure=!0)},async setCurrentGradingStatus(t){this.currentItem.grading_status=t,this.currentItem.title=Si.buildTitle(this.currentItem),await _1.setItem(this.currentItem.getKey(),JSON.stringify(this.currentItem.getData()))},updateCurrentKeys(){var t,r;if(this.countItems){const i=this.sortedItems,u=0,m=i.length-1;this.firstKey=(t=i[u])==null?void 0:t.getKey(),this.lastKey=(r=i[m])==null?void 0:r.getKey(),this.previousKey=null,this.nextKey=null;for(let h=u;h<=m;h++){let x=i[h];if((x==null?void 0:x.getKey())==this.currentKey){this.previousKey=h>u?i[h-1].getKey():null,this.nextKey=h<m?i[h+1].getKey():null;break}}}}}}),uU=Nu("layout"),U0e=ou("layout",{state:()=>({expandedColumn:"none",leftContent:"essay",rightContent:"marking",showMarkingComments:!0,showMarkingGeneralPoints:!0,showMarkingCommentPoints:!0,showMarkingText:!1,showLeftSummaryCriteria:!1,showRightSummaryCriteria:!1,showLeftSummaryText:!0,showRightSummaryText:!0,showLeftSummaryRevision:!1,showRightSummaryRevision:!1,leftCorrectionKey:"",rightCorrectionKey:"",showIncludesPopup:!1,initFailure:"",initialized:!1,showItemLoadFailure:!1,showSendFailure:!1,showDataReplaceConfirmation:!1,showItemReplaceConfirmation:!1,focusTarget:"",focusChange:0}),getters:{hasInitFailure:t=>t.initFailure!=="",isLeftExpanded:t=>t.expandedColumn=="left",isRightExpanded:t=>t.expandedColumn=="right",isInstructionsSelected:t=>t.leftContent=="instructions",isInstructionsPdfSelected:t=>t.leftContent=="instructionsPdf",isSolutionSelected:t=>t.leftContent=="solution",isSolutionPdfSelected:t=>t.leftContent=="solutionPdf",isResourcesSelected:t=>t.leftContent=="resources",isEssaySelected:t=>t.leftContent=="essay",isSummarySelected:t=>t.rightContent=="summary",isMarkingSelected:t=>t.rightContent=="marking",isLeftCorrectionSelected:t=>t.leftContent=="correction",isRightCorrectionSelected:t=>t.rightContent=="correction",isInstructionsVisible:t=>t.isInstructionsSelected&&t.isLeftVisible,isInstructionsPdfVisible:t=>t.isInstructionsPdfSelected&&t.isLeftVisible,isSolutionVisible:t=>t.isSolutionSelected&&t.isLeftVisible,isSolutionPdfVisible:t=>t.isSolutionPdfSelected&&t.isLeftVisible,isResourcesVisible:t=>t.isResourcesSelected&&t.isLeftVisible,isEssayVisible:t=>t.isEssaySelected&&t.isLeftVisible,isSummaryVisible:t=>t.isSummarySelected&&t.isRightVisible,isMarkingVisible:t=>t.isMarkingSelected&&t.isRightVisible,isLeftCorrectionVisible:t=>t.isLeftCorrectionSelected&&t.isLeftVisible,isRightCorrectionVisible:t=>t.isRightCorrectionSelected&&t.isRightVisible,isLeftVisible(t){return!Ee.api().isLoading&&t.expandedColumn!="right"},isRightVisible(t){return!Ee.api().isLoading&&t.expandedColumn!="left"},leftCorrectionTitle(t){const i=Ee.corrections().getCorrection(t.leftCorrectionKey);return i?"Korrektur von "+i.title+" "+Si.buildPositionText(i.position):""},rightCorrectionTitle(t){const i=Ee.corrections().getCorrection(t.rightCorrectionKey);return i?"Korrektur von "+i.title+" "+Si.buildPositionText(i.position):""},getCorrectionIsVisible(t){return function(i){return t.leftCorrectionKey==i&&t.isLeftCorrectionVisible||t.rightCorrectionKey==i&&t.isRightCorrectionVisible}}},actions:{async clearStorage(){try{await uU.clear()}catch(t){console.log(t)}this.$reset()},async loadFromStorage(){try{this.$reset();const t=await uU.getItem("layout");t&&(this.expandedColumn=t.expandedColumn,this.rightContent=t.rightContent,this.showMarkingComments=!!t.showMarkingComments,this.showMarkingGeneralPoints=!!t.showMarkingGeneralPoints,this.showMarkingCommentPoints=!!t.showMarkingCommentPoints,this.showMarkingText=!!t.showMarkingText,this.showLeftSummaryCriteria=!!t.showLeftSummaryCriteria,this.showRightSummaryCriteria=!!t.showRightSummaryCriteria,this.showLeftSummaryText=!!t.showLeftSummaryText,this.showRightSummaryText=!!t.showRightSummaryText),!this.showMarkingComments&&!this.showMarkingGeneralPoints&&!this.showMarkingCommentPoints&&(this.showMarkingComments=!0),!this.showLeftSummaryCriteria&&!this.showLeftSummaryText&&(this.showLeftSummaryCriteria=!0),!this.showRightSummaryCriteria&&!this.showRightSummaryText&&(this.showRightSummaryCriteria=!0)}catch(t){console.log(t)}},async saveToStorage(){try{await uU.setItem("layout",{expandedColumn:this.expandedColumn,leftContent:this.leftContent,rightContent:this.rightContent,showMarkingComments:this.showMarkingComments,showMarkingGeneralPoints:this.showMarkingGeneralPoints,showMarkingCommentPoints:this.showMarkingCommentPoints,showMarkingText:this.showMarkingText,showLeftSummaryCriteria:this.showLeftSummaryCriteria,showRightSummaryCriteria:this.showRightSummaryCriteria,showLeftSummaryText:this.showLeftSummaryText,showRightSummaryText:this.showRightSummaryText})}catch(t){console.log(t)}},initForItem(){var t,r;Ee.items().isInRevision||Ee.items().isInStitch?(this.showRightSummaryCriteria=!1,this.showRightSummaryRevision=!0,this.leftContent="correction",this.rightContent="summary",this.leftCorrectionKey=((t=Ee.corrections().firstOtherCorrection)==null?void 0:t.key)??"",(r=Ee.summaries().getForCorrection(this.leftCorrectionKey))!=null&&r.isRevised&&(this.showLeftSummaryCriteria=!1,this.showLeftSummaryRevision=!0),Ee.settings().hasSummaryOverview||(this.showLeftSummaryCriteria=!1,this.showRightSummaryCriteria=!1)):(this.leftContent="essay",this.rightContent="marking",Ee.settings().Task.enable_comments||(this.showMarkingText=!0)),this.expandedColumn="none",this.saveToStorage()},showInstructions(){this.leftContent="instructions",this.setLeftVisible(),this.saveToStorage()},showInstructionsPdf(){this.leftContent="instructionsPdf",this.setLeftVisible(),this.saveToStorage()},showSolution(){this.leftContent="solution",this.setLeftVisible(),this.saveToStorage()},showSolutionPdf(){this.leftContent="solutionPdf",this.setLeftVisible(),this.saveToStorage()},showResources(){this.leftContent="resources",this.setLeftVisible(),this.saveToStorage()},showLeftCorrection(){this.leftContent="correction",this.setLeftVisible(),this.saveToStorage()},showRightCorrection(){this.rightContent="correction",this.setRightVisible(),this.saveToStorage()},showEssay(){this.leftContent="essay",this.setLeftVisible(),Ee.settings().Task.enable_comments&&(this.rightContent="marking",this.setRightVisible()),this.saveToStorage()},showMarking(){this.rightContent="marking",this.setRightVisible(),this.saveToStorage()},showSummary(){this.rightContent="summary",this.setRightVisible(),this.saveToStorage()},setLeftVisible(t=null){if(this.isLeftVisible||(this.expandedColumn="left",this.saveToStorage()),t===null)switch(this.leftContent){case"instructions":case"solution":case"essay":t=this.leftContent;break}this.setFocusChange(t??"appHeadLeft")},setRightVisible(t=null){this.isRightVisible||(this.expandedColumn="right",this.saveToStorage()),this.setFocusChange(t??"appHeadRight")},setLeftExpanded(t){this.expandedColumn=t?"left":"none",this.saveToStorage()},setRightExpanded(t){this.expandedColumn=t?"right":"none",this.saveToStorage()},focusMarkingCommentPointsSum(){this.showMarkingComments||(this.showMarkingComments=!0,this.saveToStorage()),this.setFocusChange("MarkingCommentPointsSum")},focusMarkingGeneralPoints(){this.showMarkingGeneralPoints||(this.showMarkingGeneralPoints=!0,this.saveToStorage()),this.setFocusChange("MarkingGeneralPoints")},focusMarkingCommentPoints(){this.showMarkingCommentPoints||(this.showMarkingCommentPoints=!0,this.saveToStorage()),this.setFocusChange("MarkingCommentPoints")},toggleMarkingComments(){this.showMarkingComments=!this.showMarkingComments,this.saveToStorage()},toggleMarkingGeneralPoints(){this.showMarkingGeneralPoints=!this.showMarkingGeneralPoints,this.saveToStorage()},toggleMarkingCommentPoints(){this.showMarkingCommentPoints=!this.showMarkingCommentPoints,this.saveToStorage()},toggleMarkingText(){this.showMarkingText=!this.showMarkingText,this.saveToStorage()},toggleLeftSummaryCriteria(){this.showLeftSummaryCriteria=!this.showLeftSummaryCriteria,this.saveToStorage()},toggleRightSummaryCriteria(){this.showRightSummaryCriteria=!this.showRightSummaryCriteria,this.saveToStorage()},toggleLeftSummaryText(){this.showLeftSummaryText=!this.showLeftSummaryText,this.saveToStorage()},toggleRightSummaryText(){this.showRightSummaryText=!this.showRightSummaryText,this.saveToStorage()},toggleLeftSummaryRevision(){this.showLeftSummaryRevision=!this.showLeftSummaryRevision,this.saveToStorage()},toggleRightSummaryRevision(){this.showRightSummaryRevision=!this.showRightSummaryRevision,this.saveToStorage()},selectCorrection(t){Ee.api();const r=Ee.corrections();this.leftCorrectionKey==t?this.showLeftCorrection():this.rightCorrectionKey==t?this.showRightCorrection():Ee.corrections().ownKey?(this.leftCorrectionKey=t,this.showLeftCorrection()):r.countCorrections==1?(this.rightCorrectionKey=t,this.showRightCorrection()):this.leftCorrectionKey==""?(this.leftCorrectionKey=t,this.showLeftCorrection()):this.rightCorrectionKey==""?(this.rightCorrectionKey=t,this.showRightCorrection()):(this.leftCorrectionKey=t,this.showLeftCorrection())},setFocusChange(t){this.focusTarget=t,this.focusChange=Date.now()},handleKeyDown(t){if(t.altKey)switch(t.key){case"0":this.setFocusChange("header");break;case"1":this.setLeftVisible();break;case"2":this.setRightVisible();break;case"#":this.setFocusChange("navigation");break}}}});class PR{constructor(r={}){Tt(this,"id",null);Tt(this,"key",null);Tt(this,"min_points",0);Tt(this,"title",null);Tt(this,"statement",null);r.id!==void 0&&r.id!==null&&(this.id=parseInt(r.id)),r.min_points!==void 0&&r.min_points!==null&&(this.min_points=parseFloat(r.min_points)),r.title!==void 0&&r.title!==null&&(this.title=r.title.toString()),r.statement!==void 0&&r.statement!==null&&(this.statement=r.statement.toString()),this.key===null&&(this.key=PR.buildKey(this.id))}static order(r,i){return r.min_points<i.min_points?-1:r.min_points>i.min_points?1:0}static buildKey(r){return"L"+r}getKey(){return this.key}getData(){return Object.assign({},this)}}const aE=Nu("levels"),W0e=ou("levels",{state:()=>({levels:{}}),getters:{hasLevels:t=>Object.keys(t.levels).length>0,sortedLevels:t=>Object.values(t.levels).toSorted(PR.order),getLevel(t){return function(i){return t.levels[i]}},getLevelForPoints(t){return function(i){if(Number.isNaN(i))return null;let u=null;for(const m of t.sortedLevels){if(m.min_points>i)break;u=m}return u}}},actions:{async clearStorage(){try{this.$reset(),await aE.clear()}catch(t){console.log(t)}},async loadFromStorage(){try{this.$reset();const t=await aE.getItem("keys")??[];for(const r of t)this.levels[r]=new PR(await aE.getItem(r))}catch(t){console.log(t)}},async loadFromBackend(t=[]){try{await aE.clear(),this.$reset();for(const r of t){const i=new PR(r);this.levels[i.getKey()]=i,await aE.setItem(i.getKey(),i.getData())}await aE.setItem("keys",Object.keys(this.levels))}catch(r){console.log(r)}}}});class kF{constructor(r={}){Tt(this,"key","");Tt(this,"item_key","");Tt(this,"id",null);Tt(this,"task_id",null);Tt(this,"writer_id",null);Tt(this,"page_no",0);Tt(this,"width",0);Tt(this,"height",0);Tt(this,"url",null);Tt(this,"thumb_width",null);Tt(this,"thumb_height",null);Tt(this,"thumb_url",null);Tt(this,"objectUrl",null);Tt(this,"thumbObjectUrl",null);r.id!==void 0&&r.id!==null&&(this.id=parseInt(r.id)),r.task_id!==void 0&&r.task_id!==null&&(this.task_id=parseInt(r.task_id)),r.writer_id!==void 0&&r.writer_id!==null&&(this.writer_id=parseInt(r.writer_id)),r.page_no!==void 0&&r.page_no!==null&&(this.page_no=parseInt(r.page_no)),r.width!==void 0&&r.width!==null&&(this.width=parseInt(r.width)),r.height!==void 0&&r.height!==null&&(this.height=parseInt(r.height)),r.url!==void 0&&r.url!==null&&(this.url=r.url.toString()),r.thumb_width!==void 0&&r.thumb_width!==null&&(this.thumb_width=parseInt(r.thumb_width)),r.thumb_height!==void 0&&r.thumb_height!==null&&(this.thumb_height=parseInt(r.thumb_height)),r.thumb_url!==void 0&&r.thumb_url!==null&&(this.thumb_url=r.thumb_url.toString()),this.key=kF.buildKey(this.id),this.item_key=Si.buildKey(this.task_id,this.writer_id)}static buildKey(r){return"P"+r}static order(r,i){return r.position<i.position?-1:r.position>i.position?1:0}getKey(){return this.key}getData(){return Object.assign({},this)}}const lE=Nu("pages"),K0e=ou("pages",{state:()=>({pages:{},selectedKey:"",minPage:0,maxPage:0,loadedThumbs:0,loadedImages:0}),getters:{hasPages(t){return Object.keys(t.pages).length>0},selectedPage(t){return t.pages[t.selectedKey]??null},selectedPageNo(t){var r;return((r=t.selectedPage)==null?void 0:r.page_no)??null},currentPages(t){return Object.values(t.pages)},getPage(t){return function(i){return t.pages[i]??null}},getPageByPageNo(t){return function(i){return t.currentPages.find(u=>u.page_no==i)??null}}},actions:{selectPage(t){this.selectedKey!=t&&(this.selectedKey=t)},selectByPageNo(t){for(const r of this.currentPages)if(r.page_no==t)return this.selectedKey=r.key,!0;return!1},calculateMinMaxPage(){let t=null,r=null;for(const i of this.currentPages)(t===null||i.page_no<t)&&(t=i.page_no),(r===null||i.page_no>r)&&(r=i.page_no);t!==null&&(this.minPage=t),r!==null&&(this.maxPage=r)},async clearStorage(){try{await lE.clear()}catch(t){console.log(t)}this.purgeFiles(),this.$reset()},async loadFromStorage(){const t=Ee.api();try{this.purgeFiles(),this.$reset();const r=await lE.getItem("keys");for(const i of r){const u=new kF(await lE.getItem(i));u.item_key==t.itemKey&&(this.pages[i]=u)}this.calculateMinMaxPage(),this.selectByPageNo(this.minPage),this.loadFiles()}catch(r){console.log(r)}},async loadFromBackend(t){const r=Ee.api();try{await lE.clear(),this.purgeFiles(),this.$reset();for(const i of t){const u=new kF(i);u.url=r.getImageUrl(u),u.thumb_url=r.getThumbUrl(u),u.item_key==r.itemKey&&(await lE.setItem(u.getKey(),u.getData()),this.pages[u.key]=u)}await lE.setItem("keys",Object.keys(this.pages)),this.calculateMinMaxPage(),this.selectByPageNo(this.minPage),this.loadFiles()}catch(i){console.log(i)}},async loadFiles(){try{for(const t in this.pages){const r=this.pages[t];let i;r&&(i=await ka(r.url,{responseType:"blob",timeout:6e4}),this.loadedImages++,i=await ka(r.thumb_url,{responseType:"blob",timeout:6e4}),this.loadedThumbs++)}}catch(t){console.error(t)}},purgeFiles(){for(const t in this.pages){const r=this.pages[t];r&&(r.thumbObjectUrl!==null&&(r.thumbObjectUrl=null),r.objectUrl!==null&&(r.objectUrl=null))}this.loadedThumbs=0,this.loadedImages=0}}});class _E{constructor(r={}){Tt(this,"key","");Tt(this,"item_key","");Tt(this,"correction_key","");Tt(this,"comment_key","");Tt(this,"criterion_key","");Tt(this,"task_id",null);Tt(this,"writer_id",null);Tt(this,"corrector_id",null);Tt(this,"criterion_id",null);Tt(this,"points",0);r.key!==void 0&&r.key!==null&&(this.key=r.key.toString()),r.comment_key!==void 0&&r.comment_key!==null&&(this.comment_key=r.comment_key.toString()),r.task_id!==void 0&&r.task_id!==null&&(this.task_id=parseInt(r.task_id)),r.writer_id!==void 0&&r.writer_id!==null&&(this.writer_id=parseInt(r.writer_id)),r.corrector_id!==void 0&&r.corrector_id!==null&&(this.corrector_id=parseInt(r.corrector_id)),r.criterion_id!==void 0&&r.criterion_id!==null&&(this.criterion_id=parseInt(r.criterion_id)),r.points!==void 0&&r.points!==null&&(this.points=parseFloat(r.points)),!this.key&&this.corrector_id&&(this.key=_E.newKey(this.corrector_id)),!this.item_key&&this.task_id&&this.writer_id&&(this.item_key=Si.buildKey(this.task_id,this.writer_id)),!this.correction_key&&this.task_id&&this.writer_id&&this.corrector_id&&(this.correction_key=_a.buildKey(this.task_id,this.writer_id,this.corrector_id)),!this.criterion_key&&this.criterion_id&&(this.criterion_key=PE.buildKey(this.criterion_id))}static newKey(r){return"P"+r+"_"+Math.random().toString()}setKeys(r,i,u){this.correction_key=r,this.comment_key=i,this.criterion_key=u,this.task_id=_a.extractTaskId(this.correction_key),this.writer_id=_a.extractWriterId(this.correction_key),this.corrector_id=_a.extractCorrectorId(this.correction_key),u&&(this.criterion_id=PE.extractCriterionId(this.criterion_key)),this.item_key=Si.buildKey(this.task_id,this.writer_id),this.key=_E.newKey(this.corrector_id)}setPoints(r){this.points=parseFloat(r)}getData(){return Object.assign({},this)}}const jh=Nu("points"),j0e=ou("points",{state:()=>({keys:[],points:[],unsentChanges:{}}),getters:{getCommentHasPoints(t){return function(i){return t.points.find(u=>u.comment_key==i&&u.points!=0)!==void 0}},getCommentHasPointsForCriterion(t){return function(i,u){return t.points.find(m=>m.comment_key==i&&m.criterion_key==u&&m.points!=0)!==void 0}},getSumOfPointsForCorrection(t){return function(i,u=null,m=null){let h=0;return t.points.filter(x=>x.correction_key==i&&(u===null||u==(x.comment_key!=""))&&(m===null||m==(x.criterion_key!=""))).forEach(x=>h+=x.points),h}},getSumOfPointsForComment(t){return function(i){let u=0;return t.points.filter(m=>m.comment_key==i).forEach(m=>u+=m.points),u}},getSumOfPointsForCriterion(t){return function(i,u){let m=0;return t.points.filter(h=>h.criterion_key==i.key&&h.correction_key==u).forEach(h=>m+=h.points),m}},getPointsOfCriterionExceeded(t){return function(i,u){let m=0;const h=(i==null?void 0:i.key)??"";return t.points.filter(x=>x.criterion_key==h&&x.correction_key==u).forEach(x=>m+=x.points),m>(i?i.points:Ee.settings().Assessment.max_points)}},getObjectsForCorrection(t){return function(i){return t.points.filter(u=>u.correction_key==i)}},getObjectByData(t){return function(i,u,m){return t.points.find(h=>h.correction_key==i&&h.comment_key==u&&h.criterion_key==m)}}},actions:{async setValueByCommentOrCriterion(t,r,i){Ee.api();let u=this.getObjectByData(Ee.corrections().ownKey,t,r);u?i?(u.setPoints(i),this.updatePoints(u)):this.deletePoints(u.key):(t||r)&&i&&this.createPoints(t,r,i)},async createPoints(t,r,i){const u=Ee.corrections(),m=new _E({points:i});m.setKeys(u.ownKey,t,r),this.keys.push(m.key),this.points.push(m),await jh.setItem(m.key,JSON.stringify(m.getData())),await jh.setItem("keys",JSON.stringify(this.keys)),await Ee.changes().setChange(new Ms({type:Ms.TYPE_POINTS,action:Ms.ACTION_SAVE,key:m.key,item_key:m.item_key}))},async updatePoints(t){this.keys.includes(t.key)&&(await jh.setItem(t.key,JSON.stringify(t.getData())),await Ee.changes().setChange(new Ms({type:Ms.TYPE_POINTS,action:Ms.ACTION_SAVE,key:t.key,item_key:t.item_key})))},async deletePoints(t){const r=this.points.find(m=>m.key==t);this.points=this.points.filter(m=>m.key!=t),this.keys.includes(t)&&(this.keys=this.keys.filter(m=>m!=t),await jh.setItem("keys",JSON.stringify(this.keys)),await jh.removeItem(t));const i=Ee.changes(),u=new Ms({type:Ms.TYPE_POINTS,action:Ms.ACTION_DELETE,key:r.key,item_key:r.item_key,payload:r.getData()});await i.setChange(u)},async deletePointsOfComment(t){this.points.filter(r=>r.comment_key==t).forEach(r=>this.deletePoints(r.key))},async clearStorage(){try{await jh.clear()}catch(t){console.log(t)}this.$reset()},async loadFromStorage(){const t=Ee.api();try{this.$reset();const r=await jh.getItem("keys");r&&(this.keys=JSON.parse(r)),this.points=[];for(const i of this.keys){let u=JSON.parse(await jh.getItem(i)),m=new _E(u);m.item_key==t.itemKey&&this.points.push(m)}}catch(r){console.log(r)}},async loadFromBackend(t){const r=Ee.api();try{await jh.clear(),this.$reset();for(const i of t){const u=new _E(i);this.keys.push(u.key),await jh.setItem(u.key,JSON.stringify(u.getData())),u.item_key==r.itemKey&&this.points.push(u)}await jh.setItem("keys",JSON.stringify(this.keys))}catch(i){console.log(i)}},async getChangedData(t=0){const r=Ee.changes(),i=[];for(const u of r.getChangesFor(Ms.TYPE_POINTS,t)){const m=await jh.getItem(u.key);m?i.push(r.getChangeDataToSend(u,JSON.parse(m))):i.push(r.getChangeDataToSend(u))}return i}}}),dU=Nu("preferences"),Z0e=ou("preferences",{state:()=>({essay_page_zoom:.25,essay_text_zoom:1,summary_text_zoom:1}),getters:{},actions:{async clearStorage(){try{await dU.clear()}catch(t){console.log(t)}this.$reset()},async loadFromStorage(){try{const t=await dU.getItem("preferences");t&&this.$patch(t)}catch(t){console.log(t)}},async saveToStorage(){try{await dU.setItem("preferences",Object.assign({},this.$state))}catch(t){console.log(t)}},async loadFromBackend(t){try{t.essay_text_zoom&&(this.essay_text_zoom=t.essay_text_zoom),t.essay_page_zoom&&(this.essay_page_zoom=t.essay_page_zoom),t.summary_text_zoom&&(this.summary_text_zoom=t.summary_text_zoom),await this.saveToStorage()}catch(r){console.log(r)}},async update(){const t=Ee.changes(),r=Ee.api();await this.saveToStorage(),Ee.corrections().ownKey&&await t.setChange(new Ms({type:Ms.TYPE_PREFERENCES,action:Ms.ACTION_SAVE,key:"preferences",item_key:r.itemKey}))},async getChangedData(t=0){const r=Ee.changes(),i=[];for(const u of r.getChangesFor(Ms.TYPE_PREFERENCES,t)){i.push(r.getChangeDataToSend(u,Object.assign({},this.$state)));break}return i},zoomEssayPageIn(){this.essay_page_zoom=this.essay_page_zoom*1.1,this.update()},zoomEssayPageOut(){this.essay_page_zoom=this.essay_page_zoom*.9,this.update()},zoomEssayTextIn(){this.essay_text_zoom=this.essay_text_zoom*1.1,this.update()},zoomEssayTextOut(){this.essay_text_zoom=this.essay_text_zoom*.9,this.update()},zoomSummaryTextIn(){this.summary_text_zoom=this.summary_text_zoom*1.1,this.update()},zoomSummaryTextOut(){this.summary_text_zoom=this.summary_text_zoom*.9,this.update()}}}),za=class za{constructor(r={}){Tt(this,"id","");Tt(this,"task_id",null);Tt(this,"title","");Tt(this,"type",null);Tt(this,"embedded",!0);Tt(this,"source","");Tt(this,"url","");Tt(this,"mimetype","");Tt(this,"size",null);Tt(this,"key",null);r.id!==void 0&&r.id!==null&&(this.id=parseInt(r.id)),r.task_id!==void 0&&r.task_id!==null&&(this.task_id=parseInt(r.task_id)),r.title!==void 0&&r.title!==null&&(this.title=r.title.toString()),r.type!==void 0&&za.ALLOWED_TYPES.includes(r.type)&&(this.type=r.type.toString()),r.embedded!==void 0&&r.embedded!==null&&(this.embedded=!!r.embedded),r.source!==void 0&&r.source!==null&&(this.source=r.source.toString()),r.url!==void 0&&r.url!==null&&(this.url=r.url.toString()),r.mimetype!==void 0&&r.mimetype!==null&&(this.mimetype=r.mimetype),r.size!==void 0&&r.size!==null&&(this.size=parseInt(r.size)),this.key=za.buildKey(this.id)}static buildKey(r){return"R"+r.toString()}static order(r,i){return r.title<i.title?-1:r.title>i.title?1:0}getKey(){return this.key}getData(){return Object.assign({},this)}isPdf(){return[za.TYPE_FILE,za.TYPE_SOLUTION,za.TYPE_INSTRUCTION].includes(this.type)}isExternalUrl(){return this.type==za.TYPE_URL&&!this.embedded}isEmbeddedUrl(){return this.type==za.TYPE_URL&&this.embedded}isEmbeddedSelectable(){return this.type==za.TYPE_FILE||this.type==za.TYPE_URL&&this.embedded}canBeAnnoteted(){return[za.TYPE_FILE,za.TYPE_SOLUTION,za.TYPE_INSTRUCTION].includes(this.type)}hasFileToLoad(){return[za.TYPE_FILE,za.TYPE_SOLUTION,za.TYPE_INSTRUCTION].includes(this.type)}};Tt(za,"TYPE_FILE","file"),Tt(za,"TYPE_URL","url"),Tt(za,"TYPE_INSTRUCTION","instruct"),Tt(za,"TYPE_SOLUTION","solution"),Tt(za,"ALLOWED_TYPES",[za.TYPE_FILE,za.TYPE_URL,za.TYPE_INSTRUCTION,za.TYPE_SOLUTION]);let rb=za;const Ix=Nu("resources"),G0e=ou("resources",{state:()=>({resources:{},activeKey:""}),getters:{currentResources(t){const r=Ee.tasks();return Object.values(t.resources).filter(i=>{var u;return i.task_id===((u=r.currentTask)==null?void 0:u.task_id)||i.task_id===null}).sort(rb.order)},hasResources(t){return t.currentResources.length>0},hasInstruction(t){return!!t.currentResources.find(r=>r.type===rb.TYPE_INSTRUCTION)},hasSolution(t){return!!t.currentResources.find(r=>r.type===rb.TYPE_SOLUTION)},instruction(t){return t.currentResources.find(r=>r.type===rb.TYPE_INSTRUCTION)},solution(t){return t.currentResources.find(r=>r.type===rb.TYPE_SOLUTION)},fileOrUrlResources(t){return t.currentResources.filter(r=>r.type==rb.TYPE_FILE||r.type===rb.TYPE_URL)},activeResource(t){return t.currentResources.find(r=>r.key===t.activeKey)},getResourceIsActive(t){return r=>r.key===t.activeKey},getResourceIsAvailable(t){return r=>!!t.currentResources.find(i=>i.key===r.key)}},actions:{async clearStorage(){try{this.$reset(),await Ix.clear()}catch(t){console.log(t)}},async loadFromStorage(){try{this.$reset();const t=await Ix.getItem("keys")??[];for(const r of t)this.resources[r]=new rb(await Ix.getItem(r));this.activeKey=await Ix.getItem("activeKey")??"",await this.loadFiles()}catch(t){console.log(t)}},async loadFromBackend(t=[]){const r=Ee.api();try{await Ix.clear(),this.$reset();for(const i of t){const u=new rb(i);u.hasFileToLoad()&&(u.url=r.getResourceUrl(u)),this.resources[u.getKey()]=u,await Ix.setItem(u.getKey(),u.getData())}await Ix.setItem("keys",Object.keys(this.resources)),this.loadFiles(),this.selectFirstEmbeddedResource()}catch(i){console.log(i)}},async selectResource(t){this.getResourceIsAvailable(t)&&(this.activeKey=t.key,await Ix.setItem("activeKey",this.activeKey))},async selectFirstEmbeddedResource(){if(!this.activeResource)for(const t of this.currentResources)t.isEmbeddedSelectable&&await this.selectResource(t)},async loadFiles(){for(const t of Object.values(this.resources)){let r=null;if(t.hasFileToLoad())try{console.log("preload "+t.title+"..."),r=await ka(t.url,{responseType:"blob",timeout:6e4}),console.log("finished. ")}catch(i){console.error(i)}}}}});class ub{}Tt(ub,"APPROXIMATION","approximation"),Tt(ub,"CONSULTING","consulting"),Tt(ub,"NONE","none");const{t:k1}=Pu.global,fU=Nu("settings"),q0e=ou("settings",{state:()=>({Assessment:{multiple_correctors:!1,mutual_visibility:!1,procedure_when_distance:!1,procedure:ub.NONE,max_auto_distance:0,revision_between:!1,stitch_after_procedure:!1,max_points:0,no_manual_decimals:!1},Task:{positive_rating:k1("settingsRatingPositive"),negative_rating:k1("settingsRatingNegative"),enable_comments:!1,enable_comment_ratings:!1,enable_partial_points:!1,enable_summary_pdf:!1,summary_pdf_advice:null},EssayTask:{headline_scheme:null}}),getters:{contentClass(t){return t.EssayTask.headline_scheme==="three"?"headlines-three":""},inclusionText(t){let r="";return t.Task.enable_comments&&(r=(r?r+", ":"")+k1("summariesIncludeComments")),t.Task.enable_comment_ratings&&(r=(r?r+", ":"")+k1("summariesIncludeCommentRatings")),t.Task.enable_partial_points&&(r=(r?r+", ":"")+k1("summariesIncludePartialPoints")),r==""&&(r=k1("summariesIncludeNoDetails")),r},procedureText(t){switch(t.Assessment.procedure){case ub.APPROXIMATION:return k1("settingsProcedureApproximation");case ub.CONSULTING:return k1("settingsProcedureConsulting");default:return k1("settingsProcedureNone")}},hasSummaryOverview(t){return t.Task.enable_comment_ratings||t.Task.enable_partial_points}},actions:{async clearStorage(){this.$reset();try{await fU.clear()}catch(t){console.log(t)}},async loadFromStorage(){this.$reset();try{for(const t in this.$state){const r=await fU.getItem(t);this.$patch(r)}}catch(t){console.log(t)}},async loadFromBackend(t,r){this.$state[t]=Object.assign(this.$state[t],r);try{await fU.setItem(t,Object.assign({},this.$state[t]))}catch(i){console.log(i)}}}}),MR=class MR{constructor(r={}){Tt(this,"key","");Tt(this,"purpose","");Tt(this,"title","");Tt(this,"text","");Tt(this,"deleted",!1);r.key!==void 0&&r.key!==null?this.key=r.key.toString():this.key=MR.newKey(),r.purpose!==void 0&&r.purpose!==null&&(this.purpose=r.purpose.toString()),r.title!==void 0&&r.title!==null&&(this.title=r.title.toString()),r.text!==void 0&&r.text!==null&&(this.text=r.text.toString())}static newKey(){return"SNIP_"+Math.random().toString()}static order(r,i){return r.text<i.text?-1:r.text>i.text?1:0}getData(){return Object.assign({},this)}};Tt(MR,"FOR_COMMENT","for_comment"),Tt(MR,"FOR_SUMMARY","for_summary");let Ru=MR;const Zh=Nu("snippets"),Y0e=ou("snippets",{state:()=>({snippets:{},selection_open:!1,open_for_purpose:null,open_for_key:null,open_text:"",insert_text:"",select:null,edit:new Ru}),getters:{sortedSnippets(t){return Object.values(t.snippets).sort(Ru.order)},forComment(t){return Object.values(t.snippets).filter(r=>r.purpose==Ru.FOR_COMMENT)},forSummary(t){return Object.values(t.snippets).filter(r=>r.purpose==Ru.FOR_SUMMARY)},has(t){return function(i){return Object.keys(t.snippets).includes(i)}},get(t){return function(i){return t.snippets[i]}}},actions:{openSelection(t,r,i=""){this.open_for_purpose=t,this.open_for_key=r,this.open_text=i,this.insert_text="",this.selection_open=!0},async clearStorage(){try{await Zh.clear()}catch(t){console.log(t)}this.$reset()},async loadFromStorage(){try{this.$reset();const t=await Zh.getItem("keys");for(const r of t??[])this.snippets[r]=new Ru(await Zh.getItem(r))}catch(t){console.log(t)}},async loadFromBackend(t){try{await Zh.clear(),this.$reset();for(const r of t){const i=new Ru(r);await Zh.setItem(i.key,i.getData()),this.snippets[i.key]=i}await Zh.setItem("keys",Object.keys(this.snippets))}catch(r){console.log(r)}},async createSnippet(t){this.snippets[t.key]=t,await Zh.setItem(t.key,t.getData()),await Zh.setItem("keys",Object.keys(this.snippets)),await Ee.changes().setChange(new Ms({type:Ms.TYPE_SNIPPETS,action:Ms.ACTION_SAVE,key:t.key}))},async updateSnippet(t){this.has(t.key)&&(await Zh.setItem(t.key,t.getData()),await Ee.changes().setChange(new Ms({type:Ms.TYPE_SNIPPETS,action:Ms.ACTION_SAVE,key:t.key})))},async deleteSnippet(t){this.has(t)&&(delete this.snippets[t],await Zh.removeItem(t),await Zh.setItem("keys",Object.keys(this.snippets)),await Ee.changes().setChange(new Ms({type:Ms.TYPE_SNIPPETS,action:Ms.ACTION_DELETE,key:t})))},async getChangedData(t=0){const r=Ee.changes(),i=[];for(const u of r.getChangesFor(Ms.TYPE_SNIPPETS,t)){const m=await Zh.getItem(u.key);m?i.push(r.getChangeDataToSend(u,m)):i.push(r.getChangeDataToSend(u))}return i}}}),{t:BC}=Pu.global,Dx=Nu("summaries"),mU=1e3;let xR=0;const X0e=ou("summaries",{state:()=>({summaries:{},editSummary:new Ou,lastCheck:0}),getters:{allSummaries(t){return Object.values(t.summaries)},isOwnDisabled(t){return t.editSummary.correction_key==""||t.editSummary.isPregraded()||t.editSummary.isAuthorized()||!Ee.items().canCorrect},isOwnPregraded(t){return t.editSummary.isPregraded()},isOwnAuthorized(t){return t.editSummary.isAuthorized()},isOwnRevised(t){return t.editSummary.isRevised()},isOneAuthorized(t){for(const r of t.allSummaries)if(r.isAuthorized())return!0;return!1},areOthersAuthorized(t){for(const r of t.allSummaries)if(r.getKey()!=t.editSummary.getKey()&&!r.isAuthorized())return!1;return!0},currentGradeTitle(t){if(t.editSummary.grade_key){let i=Ee.levels().getLevel(t.editSummary.grade_key);if(i)return i.title}return BC("summariesNoGrade")},currentGradeStatement(t){if(t.editSummary.grade_key){let i=Ee.levels().getLevel(t.editSummary.grade_key);if(i)return i.statement}return""},getAuthorizationForCorrection(t){return function(i){for(const u of t.allSummaries)if(u.correction_key==i)return u.isAuthorized();return!1}},getForCorrection(t){return function(i){for(const u of t.allSummaries)if(u.correction_key==i)return u;return null}},procedureNeededText(t){const r=Ee.settings(),i=Ee.items(),u=t.pointsDifferText;if(u&&!i.isInStitch){switch(r.Assessment.procedure){case ub.APPROXIMATION:return BC("summariesProcedureApproximationNeeded",[u]);case ub.CONSULTING:return BC("summariesProcedureConsultingNeeded",[u])}if(r.Assessment.stitch_after_procedure&&!i.isInStitch)return BC("summariesProcedureStitchNeeded",[u])}return""},stitchNeededAfterRevisionText(t){const r=t.pointsDifferText;return r?BC("summariesProcedureStitchNeeded",[r]):""},pointsDifferText(t){var h,x;const r=t.editSummary,i=t.getForCorrection(((h=Ee.corrections().firstOtherCorrection)==null?void 0:h.key)??"")??null;let u=null,m=null;return Ee.items().canRevise||((x=Ee.corrections().ownCorrection)==null?void 0:x.position)==_a.POSITION_STITCH?(u=(r==null?void 0:r.revision_points)??(r==null?void 0:r.points),m=(i==null?void 0:i.revision_points)??(i==null?void 0:i.points)):(u=r==null?void 0:r.points,m=i==null?void 0:i.points),u===null||m===null?"":Math.abs(u-m)>Ee.settings().Assessment.max_auto_distance?BC("summariesPointsDifferText",Ee.settings().Assessment.max_auto_distance):""},pointsOutsideCorridorText(t){const r=t.pointsCorridor,i=Ee.items().canRevise?t.editSummary.revision_points:t.editSummary.points;return i<r.min||i>r.max?BC("summariesPointsOutsideMinMax",[r.min,r.max]):""},pointsCorridor(t){var h,x,w;const r=t.getForCorrection(((h=Ee.corrections().firstCorrection)==null?void 0:h.key)??"")??null,i=t.getForCorrection(((x=Ee.corrections().secondCorrection)==null?void 0:x.key)??"")??null;let u=null,m=null;return((w=Ee.corrections().ownCorrection)==null?void 0:w.position)==_a.POSITION_STITCH?(u=(r==null?void 0:r.revision_points)??(r==null?void 0:r.points),m=(i==null?void 0:i.revision_points)??(i==null?void 0:i.points)):Ee.items().canRevise&&Ee.settings().Assessment.revision_between?(u=r==null?void 0:r.points,m=i==null?void 0:i.points):(u=0,m=Ee.settings().Assessment.max_points),{min:Math.min(u,m),max:Math.max(u,m)}}},actions:{async clearStorage(){try{this.$reset(),await Dx.clear()}catch(t){console.log(t)}},async loadFromStorage(){var u;const t=Ee.api(),r=Ee.levels(),i=Ee.corrections();try{this.$reset();const m=await Dx.getItem("keys");for(const h of m){const x=new Ou(await Dx.getItem(h));x.grade_key=(u=r.getLevelForPoints(x.points))==null?void 0:u.key,x.item_key==t.itemKey&&(this.summaries[h]=x),x.correction_key==i.ownKey&&(this.editSummary=x.getClone())}}catch(m){console.log(m)}xR=0,t.setInterval("summariesStore.updateContent",this.updateContent,mU)},async loadFromBackend(t){var m;const r=Ee.api(),i=Ee.levels(),u=Ee.corrections();try{await Dx.clear(),this.$reset();for(const h of t){const x=new Ou(h);x.grade_key=(m=i.getLevelForPoints(x.points))==null?void 0:m.key,await Dx.setItem(x.getKey(),x.getData()),x.item_key==r.itemKey&&(this.summaries[x.getKey()]=x),x.correction_key==u.ownKey&&(this.editSummary=x.getClone())}await Dx.setItem("keys",Object.keys(this.summaries))}catch(h){console.log(h)}xR=0,r.setInterval("summariesStore.updateContent",this.updateContent,mU)},async updateContent(t=!1,r=!1){Ee.levels();const i=Ee.api(),u=Ee.changes(),m=Date.now();if(m-this.lastCheck<mU&&!r||xR++&&!r)return;const h=this.summaries[this.editSummary.getKey()]??new Ou,x=this.getCloneToStore(h,this.editSummary);if(x.isEqual(h)){this.lastCheck=m,xR=0;return}x.last_change=i.getServerTime(m);try{this.editSummary.setData(x.getData()),this.summaries[x.getKey()]=x,await Dx.setItem(x.getKey(),x.getData()),await u.setChange(new Ms({type:Ms.TYPE_SUMMARY,action:Ms.ACTION_SAVE,key:x.getKey(),item_key:x.item_key})),console.log("Save Change ","| Editor: ",t,"| Duration:",Date.now()-m,"ms")}catch(w){console.error(w)}this.lastCheck=m,xR=0},getCloneToStore(t,r){var h,x;const i=Ee.items(),u=Ee.levels();let m=t.getClone();switch(i.canCorrect&&(m.text=r.text,m.pdf=r.pdf,m.points=this.adjustPoints(r.points),m.grade_key=((h=u.getLevelForPoints(r.points))==null?void 0:h.key)??""),i.canRevise&&(m.revision_text=r.revision_text,m.revision_points=this.adjustPoints(r.revision_points),m.revision_grade_key=((x=u.getLevelForPoints(r.revision_grade_key))==null?void 0:x.key)??"",m.require_other_revision=r.require_other_revision),r.status){case Ou.STATUS_PRE_GRADED:case Ou.STATUS_OPEN:m.status=i.canCorrect?r.status:m.status;break;case Ou.STATUS_AUTHORIZED:m.status=i.canAuthorize?r.status:m.status;break;case Ou.STATUS_REVISED:m.status=i.canRevise?r.status:m.status}return m},adjustPoints(t){const r=Ee.settings();return Number.isNaN(t)?null:!Number.isInteger(t)&&r.Assessment.no_manual_decimals?Math.floor(parseFloat(t)):t<0?0:t>r.Assessment.max_points?r.Assessment.max_points:parseFloat(t)},async getChangedData(t=0){const r=Ee.changes(),i=[];for(const u of r.getChangesFor(Ms.TYPE_SUMMARY,t)){const m=await Dx.getItem(u.key);i.push(r.getChangeDataToSend(u,m))}return i},async setOwnOpen(){this.editSummary.status=Ou.STATUS_OPEN,await this.updateContent(!1,!0)},async setOwnPregraded(){this.editSummary.status=Ou.STATUS_PRE_GRADED,await this.updateContent(!1,!0)},async setOwnAuthorized(){this.editSummary.status=Ou.STATUS_AUTHORIZED,await this.updateContent(!1,!0)},async setOwnRevised(){this.editSummary.status=Ou.STATUS_REVISED,await this.updateContent(!1,!0)}}}),cE=Nu("tasks"),J0e=ou("tasks",{state:()=>({tasks:{},firstKey:null,lastKey:null,previousKey:null,nextKey:null}),getters:{countTasks(t){return Object.keys(t.tasks).length},currentKey(t){return Fx.buildKey(Si.extractTaskId(Ee.api().itemKey))},currentTask(t){return t.tasks[t.currentKey]},currentTitle(t){var r;return(r=t.currentTask)==null?void 0:r.title},hasInstructions(t){var r;return!!((r=t.currentTask)!=null&&r.instructions)},hasSolution(t){var r;return!!((r=t.currentTask)!=null&&r.solution)},hasTexts(t){return t.hasInstructions||t.hasSolution},sortedTasks(t){return Object.values(t.tasks).toSorted(Fx.order)},taskIds(t){let r=[];for(const i of t.sortedTasks)r.push(i.task_id);return r}},actions:{async clearStorage(){try{this.$reset(),await cE.clear()}catch(t){console.log(t)}},async loadFromStorage(){try{this.$reset();const t=await cE.getItem("keys")??[];for(const r of t)this.tasks[r]=new Fx(await cE.getItem(r))}catch(t){console.log(t)}},async loadFromBackend(t=[]){try{await cE.clear(),this.$reset();for(const r of t){const i=new Fx(r);this.tasks[i.getKey()]=i,await cE.setItem(i.getKey(),i.getData())}await cE.setItem("keys",Object.keys(this.tasks))}catch(r){console.log(r)}},updateCurrentKeys(){if(this.countTasks){const t=this.sortedTasks,r=0,i=t.length-1;this.firstKey=t[r].getKey(),this.lastKey=t[i].getKey(),this.previousKey=null,this.nextKey=null;for(let u=r;u<=i;u++)if(t[u].getKey()==this.currentKey){this.previousKey=u>r?t[u-1].getKey():null,this.nextKey=u<i?t[u+1].getKey():null;break}}}}});class KY{constructor(r={}){Tt(this,"task_id",null);Tt(this,"content","");r.task_id!==void 0&&r.task_id!==null&&(this.task_id=parseInt(r.task_id)),r.content!==void 0&&r.content!==null&&(this.content=r.content.toString())}getKey(){return Fx.buildKey(this.task_id)}getData(){return Object.assign({},this)}hasContent(){return this.content!=""}}const uE=Nu("templates"),{t:hEe}=Pu.global,Q0e=ou("templates",{state:()=>({templates:{}}),getters:{currentTemplate(t){return t.templates[Ee.tasks().currentKey]}},actions:{async clearStorage(){try{await uE.clear(),this.$reset()}catch(t){console.log(t)}},async loadFromStorage(){try{this.$reset();const t=await uE.getItem("keys")??[];for(const r of t)this.templates[r]=new KY(await uE.getItem(r))}catch(t){console.log(t)}},async loadFromBackend(t=[]){try{await uE.clear(),this.$reset();for(const r of t){const i=new KY(r);this.templates[i.getKey()]=i,await uE.setItem(i.getKey(),i.getData())}await uE.setItem("keys",Object.keys(this.templates))}catch(r){console.log(r)}}}}),Ee={api:()=>O0e(),changes:()=>M0e(),comments:()=>L0e(),config:()=>F0e(),corrections:()=>$0e(),criteria:()=>V0e(),essay:()=>z0e(),items:()=>H0e(),layout:()=>U0e(),levels:()=>W0e(),pages:()=>K0e(),points:()=>j0e(),preferences:()=>Z0e(),resources:()=>G0e(),settings:()=>q0e(),snippets:()=>Y0e(),summaries:()=>X0e(),tasks:()=>J0e(),templates:()=>Q0e()};async function e1e(){for(const t of Object.values(Ee))await t().clearStorage()}const Ta=(t,r)=>{const i=t.__vccOpts||t;for(const[u,m]of r)i[u]=m;return i},U1=qn({border:[Boolean,Number,String]},"border");function W1(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Bv();return{borderClasses:Mt(()=>{const u=t.border;return u===!0||u===""?`${r}--border`:typeof u=="string"||u===0?String(u).split(" ").map(m=>`border-${m}`):[]})}}const t1e=[null,"default","comfortable","compact"],tp=qn({density:{type:String,default:"default",validator:t=>t1e.includes(t)}},"density");function pb(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Bv();return{densityClasses:En(()=>`${r}--density-${t.density}`)}}const K1=qn({elevation:{type:[Number,String],validator(t){const r=parseInt(t);return!isNaN(r)&&r>=0&&r<=24}}},"elevation");function j1(t){return{elevationClasses:En(()=>{const i=Ua(t)?t.value:t.elevation;return i==null?[]:[`elevation-${i}`]})}}const Bg=qn({rounded:{type:[Boolean,Number,String],default:void 0},tile:Boolean},"rounded");function Fg(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Bv();return{roundedClasses:Mt(()=>{const u=Ua(t)?t.value:t.rounded,m=Ua(t)?t.value:t.tile,h=[];if(u===!0||u==="")h.push(`${r}--rounded`);else if(typeof u=="string"||u===0)for(const x of String(u).split(" "))h.push(`rounded-${x}`);else(m||u===!1)&&h.push("rounded-0");return h})}}const Wa=qn({tag:{type:[String,Object,Function],default:"div"}},"tag");function aK(t){return KW(()=>{const r=Pv(t),i=[],u={};if(r.background)if(qU(r.background)){if(u.backgroundColor=r.background,!r.text&&Oge(r.background)){const m=Ov(r.background);if(m.a==null||m.a===1){const h=TQ(m);u.color=h,u.caretColor=h}}}else i.push(`bg-${r.background}`);return r.text&&(qU(r.text)?(u.color=r.text,u.caretColor=r.text):i.push(`text-${r.text}`)),{colorClasses:i,colorStyles:u}})}function gb(t){const{colorClasses:r,colorStyles:i}=aK(()=>({text:Pv(t)}));return{textColorClasses:r,textColorStyles:i}}function db(t){const{colorClasses:r,colorStyles:i}=aK(()=>({background:Pv(t)}));return{backgroundColorClasses:r,backgroundColorStyles:i}}const n1e=["elevated","flat","tonal","outlined","text","plain"];function KE(t,r){return ie(ms,null,[t&&ie("span",{key:"overlay",class:xo(`${r}__overlay`)},null),ie("span",{key:"underlay",class:xo(`${r}__underlay`)},null)])}const Z1=qn({color:String,variant:{type:String,default:"elevated",validator:t=>n1e.includes(t)}},"variant");function jE(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Bv();const i=En(()=>{const{variant:h}=Pv(t);return`${r}--variant-${h}`}),{colorClasses:u,colorStyles:m}=aK(()=>{const{variant:h,color:x}=Pv(t);return{[["elevated","flat"].includes(h)?"background":"text"]:x}});return{colorClasses:u,colorStyles:m,variantClasses:i}}const $ee=qn({baseColor:String,divided:Boolean,direction:{type:String,default:"horizontal"},...U1(),...or(),...tp(),...K1(),...Bg(),...Wa(),...sc(),...Z1()},"VBtnGroup"),I1=ts()({name:"VBtnGroup",props:$ee(),setup(t,r){let{slots:i}=r;const{themeClasses:u}=nu(t),{densityClasses:m}=pb(t),{borderClasses:h}=W1(t),{elevationClasses:x}=j1(t),{roundedClasses:w}=Fg(t);Yx({VBtn:{height:En(()=>t.direction==="horizontal"?"auto":null),baseColor:En(()=>t.baseColor),color:En(()=>t.color),density:En(()=>t.density),flat:!0,variant:En(()=>t.variant)}}),$s(()=>ce(t.tag,{class:xo(["v-btn-group",`v-btn-group--${t.direction}`,{"v-btn-group--divided":t.divided},u.value,h.value,m.value,x.value,w.value,t.class]),style:Qs(t.style)},i))}}),lK=qn({modelValue:{type:null,default:void 0},multiple:Boolean,mandatory:[Boolean,String],max:Number,selectedClass:String,disabled:Boolean},"group"),Vee=qn({value:null,disabled:Boolean,selectedClass:String},"group-item");function zee(t,r){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;const u=wc("useGroupItem");if(!u)throw new Error("[Vuetify] useGroupItem composable must be used inside a component setup function");const m=z1();Kf(Symbol.for(`${r.description}:id`),m);const h=Ea(r,null);if(!h){if(!i)return h;throw new Error(`[Vuetify] Could not find useGroup injection with symbol ${r.description}`)}const x=En(()=>t.value),w=Mt(()=>!!(h.disabled.value||t.disabled));h.register({id:m,value:x,disabled:w},u),Du(()=>{h.unregister(m)});const R=Mt(()=>h.isSelected(m)),P=Mt(()=>h.items.value[0].id===m),A=Mt(()=>h.items.value[h.items.value.length-1].id===m),M=Mt(()=>R.value&&[h.selectedClass.value,t.selectedClass]);return Fn(R,H=>{u.emit("group:selected",{value:H})},{flush:"sync"}),{id:m,isSelected:R,isFirst:P,isLast:A,toggle:()=>h.select(m,!R.value),select:H=>h.select(m,H),selectedClass:M,value:x,disabled:w,group:h}}function cK(t,r){let i=!1;const u=Oc([]),m=ia(t,"modelValue",[],H=>H==null?[]:Hee(u,Kd(H)),H=>{const K=s1e(u,H);return t.multiple?K:K[0]}),h=wc("useGroup");function x(H,K){const G=H,te=Symbol.for(`${r.description}:id`),W=hE(te,h==null?void 0:h.vnode).indexOf(K);ne(G.value)==null&&(G.value=W,G.useIndexAsValue=!0),W>-1?u.splice(W,0,G):u.push(G)}function w(H){if(i)return;R();const K=u.findIndex(G=>G.id===H);u.splice(K,1)}function R(){const H=u.find(K=>!K.disabled);H&&t.mandatory==="force"&&!m.value.length&&(m.value=[H.id])}Zd(()=>{R()}),Du(()=>{i=!0}),BW(()=>{for(let H=0;H<u.length;H++)u[H].useIndexAsValue&&(u[H].value=H)});function P(H,K){const G=u.find(te=>te.id===H);if(!(K&&(G!=null&&G.disabled)))if(t.multiple){const te=m.value.slice(),re=te.findIndex(ge=>ge===H),W=~re;if(K=K??!W,W&&t.mandatory&&te.length<=1||!W&&t.max!=null&&te.length+1>t.max)return;re<0&&K?te.push(H):re>=0&&!K&&te.splice(re,1),m.value=te}else{const te=m.value.includes(H);if(t.mandatory&&te||!te&&!K)return;m.value=K??!te?[H]:[]}}function A(H){if(t.multiple,m.value.length){const K=m.value[0],G=u.findIndex(W=>W.id===K);let te=(G+H)%u.length,re=u[te];for(;re.disabled&&te!==G;)te=(te+H)%u.length,re=u[te];if(re.disabled)return;m.value=[u[te].id]}else{const K=u.find(G=>!G.disabled);K&&(m.value=[K.id])}}const M={register:x,unregister:w,selected:m,select:P,disabled:En(()=>t.disabled),prev:()=>A(u.length-1),next:()=>A(1),isSelected:H=>m.value.includes(H),selectedClass:En(()=>t.selectedClass),items:En(()=>u),getItemIndex:H=>o1e(u,H)};return Kf(r,M),M}function o1e(t,r){const i=Hee(t,[r]);return i.length?t.findIndex(u=>u.id===i[0]):-1}function Hee(t,r){const i=[];return r.forEach(u=>{const m=t.find(x=>Qh(u,x.value)),h=t[u];(m==null?void 0:m.value)!=null?i.push(m.id):h!=null&&i.push(h.id)}),i}function s1e(t,r){const i=[];return r.forEach(u=>{const m=t.findIndex(h=>h.id===u);if(~m){const h=t[m];i.push(h.value!=null?h.value:m)}}),i}const Uee=Symbol.for("vuetify:v-btn-toggle"),r1e=qn({...$ee(),...lK()},"VBtnToggle"),i1e=ts()({name:"VBtnToggle",props:r1e(),emits:{"update:modelValue":t=>!0},setup(t,r){let{slots:i}=r;const{isSelected:u,next:m,prev:h,select:x,selected:w}=cK(t,Uee);return $s(()=>{const R=I1.filterProps(t);return ce(I1,Xo({class:["v-btn-toggle",t.class]},R,{style:t.style}),{default:()=>{var P;return[(P=i.default)==null?void 0:P.call(i,{isSelected:u,next:m,prev:h,select:x,selected:w})]}})}),{next:m,prev:h,select:x}}}),a1e=qn({defaults:Object,disabled:Boolean,reset:[Number,String],root:[Boolean,String],scoped:Boolean},"VDefaultsProvider"),ul=ts(!1)({name:"VDefaultsProvider",props:a1e(),setup(t,r){let{slots:i}=r;const{defaults:u,disabled:m,reset:h,root:x,scoped:w}=$F(t);return Yx(u,{reset:h,root:x,scoped:w,disabled:m}),()=>{var R;return(R=i.default)==null?void 0:R.call(i)}}}),l1e=["x-small","small","default","large","x-large"],yI=qn({size:{type:[String,Number],default:"default"}},"size");function xI(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Bv();return KW(()=>{const i=t.size;let u,m;return dF(l1e,i)?u=`${r}--size-${i}`:i&&(m={width:Fs(i),height:Fs(i)}),{sizeClasses:u,sizeStyles:m}})}const c1e=qn({color:String,disabled:Boolean,start:Boolean,end:Boolean,icon:fi,opacity:[String,Number],...or(),...yI(),...Wa({tag:"i"}),...sc()},"VIcon"),Gn=ts()({name:"VIcon",props:c1e(),setup(t,r){let{attrs:i,slots:u}=r;const m=Do(),{themeClasses:h}=Qhe(),{iconData:x}=Whe(()=>m.value||t.icon),{sizeClasses:w}=xI(t),{textColorClasses:R,textColorStyles:P}=gb(()=>t.color);return $s(()=>{var H,K;const A=(H=u.default)==null?void 0:H.call(u);A&&(m.value=(K=pQ(A).filter(G=>G.type===mI&&G.children&&typeof G.children=="string")[0])==null?void 0:K.children);const M=!!(i.onClick||i.onClickOnce);return ce(x.value.component,{tag:t.tag,icon:x.value.icon,class:xo(["v-icon","notranslate",h.value,w.value,R.value,{"v-icon--clickable":M,"v-icon--disabled":t.disabled,"v-icon--start":t.start,"v-icon--end":t.end},t.class]),style:Qs([{"--v-icon-opacity":t.opacity},w.value?void 0:{fontSize:Fs(t.size),height:Fs(t.size),width:Fs(t.size)},P.value,t.style]),role:M?"button":void 0,"aria-hidden":!M,tabindex:M?t.disabled?-1:0:void 0},{default:()=>[A]})}),{}}});function Wee(t,r){const i=Ln(),u=Do(!1);if(WW){const m=new IntersectionObserver(h=>{u.value=!!h.find(x=>x.isIntersecting)},r);tu(()=>{m.disconnect()}),Fn(i,(h,x)=>{x&&(m.unobserve(x),u.value=!1),h&&m.observe(h)},{flush:"post"})}return{intersectionRef:i,isIntersecting:u}}const u1e=qn({bgColor:String,color:String,indeterminate:[Boolean,String],modelValue:{type:[Number,String],default:0},rotate:{type:[Number,String],default:0},width:{type:[Number,String],default:4},...or(),...yI(),...Wa({tag:"div"}),...sc()},"VProgressCircular"),d1e=ts()({name:"VProgressCircular",props:u1e(),setup(t,r){let{slots:i}=r;const u=20,m=2*Math.PI*u,h=Ln(),{themeClasses:x}=nu(t),{sizeClasses:w,sizeStyles:R}=xI(t),{textColorClasses:P,textColorStyles:A}=gb(()=>t.color),{textColorClasses:M,textColorStyles:H}=gb(()=>t.bgColor),{intersectionRef:K,isIntersecting:G}=Wee(),{resizeRef:te,contentRect:re}=IE(),W=En(()=>Lm(parseFloat(t.modelValue),0,100)),ge=En(()=>Number(t.width)),he=En(()=>R.value?Number(t.size):re.value?re.value.width:Math.max(ge.value,32)),j=En(()=>u/(1-ge.value/he.value)*2),me=En(()=>ge.value/he.value*j.value),oe=En(()=>Fs((100-W.value)/100*m));return Wf(()=>{K.value=h.value,te.value=h.value}),$s(()=>ce(t.tag,{ref:h,class:xo(["v-progress-circular",{"v-progress-circular--indeterminate":!!t.indeterminate,"v-progress-circular--visible":G.value,"v-progress-circular--disable-shrink":t.indeterminate==="disable-shrink"},x.value,w.value,P.value,t.class]),style:Qs([R.value,A.value,t.style]),role:"progressbar","aria-valuemin":"0","aria-valuemax":"100","aria-valuenow":t.indeterminate?void 0:W.value},{default:()=>[ie("svg",{style:{transform:`rotate(calc(-90deg + ${Number(t.rotate)}deg))`},xmlns:"http://www.w3.org/2000/svg",viewBox:`0 0 ${j.value} ${j.value}`},[ie("circle",{class:xo(["v-progress-circular__underlay",M.value]),style:Qs(H.value),fill:"transparent",cx:"50%",cy:"50%",r:u,"stroke-width":me.value,"stroke-dasharray":m,"stroke-dashoffset":0},null),ie("circle",{class:"v-progress-circular__overlay",fill:"transparent",cx:"50%",cy:"50%",r:u,"stroke-width":me.value,"stroke-dasharray":m,"stroke-dashoffset":oe.value},null)]),i.default&&ie("div",{class:"v-progress-circular__content"},[i.default({value:W.value})])]})),{}}}),bb=qn({height:[Number,String],maxHeight:[Number,String],maxWidth:[Number,String],minHeight:[Number,String],minWidth:[Number,String],width:[Number,String]},"dimension");function vb(t){return{dimensionStyles:Mt(()=>{const i={},u=Fs(t.height),m=Fs(t.maxHeight),h=Fs(t.maxWidth),x=Fs(t.minHeight),w=Fs(t.minWidth),R=Fs(t.width);return u!=null&&(i.height=u),m!=null&&(i.maxHeight=m),h!=null&&(i.maxWidth=h),x!=null&&(i.minHeight=x),w!=null&&(i.minWidth=w),R!=null&&(i.width=R),i})}}const jY={center:"center",top:"bottom",bottom:"top",left:"right",right:"left"},a8=qn({location:String},"location");function l8(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,i=arguments.length>2?arguments[2]:void 0;const{isRtl:u}=ep();return{locationStyles:Mt(()=>{if(!t.location)return{};const{side:h,align:x}=ZU(t.location.split(" ").length>1?t.location:`${t.location} center`,u.value);function w(P){return i?i(P):0}const R={};return h!=="center"&&(r?R[jY[h]]=`calc(100% - ${w(h)}px)`:R[h]=0),x!=="center"?r?R[jY[x]]=`calc(100% - ${w(x)}px)`:R[x]=0:(h==="center"?R.top=R.left="50%":R[{top:"left",bottom:"left",left:"top",right:"top"}[h]]="50%",R.transform={top:"translateX(-50%)",bottom:"translateX(-50%)",left:"translateY(-50%)",right:"translateY(-50%)",center:"translate(-50%, -50%)"}[h]),R})}}const f1e=qn({absolute:Boolean,active:{type:Boolean,default:!0},bgColor:String,bgOpacity:[Number,String],bufferValue:{type:[Number,String],default:0},bufferColor:String,bufferOpacity:[Number,String],clickable:Boolean,color:String,height:{type:[Number,String],default:4},indeterminate:Boolean,max:{type:[Number,String],default:100},modelValue:{type:[Number,String],default:0},opacity:[Number,String],reverse:Boolean,stream:Boolean,striped:Boolean,roundedBar:Boolean,...or(),...a8({location:"top"}),...Bg(),...Wa(),...sc()},"VProgressLinear"),Kee=ts()({name:"VProgressLinear",props:f1e(),emits:{"update:modelValue":t=>!0},setup(t,r){var Me;let{slots:i}=r;const u=ia(t,"modelValue"),{isRtl:m,rtlClasses:h}=ep(),{themeClasses:x}=nu(t),{locationStyles:w}=l8(t),{textColorClasses:R,textColorStyles:P}=gb(()=>t.color),{backgroundColorClasses:A,backgroundColorStyles:M}=db(()=>t.bgColor||t.color),{backgroundColorClasses:H,backgroundColorStyles:K}=db(()=>t.bufferColor||t.bgColor||t.color),{backgroundColorClasses:G,backgroundColorStyles:te}=db(()=>t.color),{roundedClasses:re}=Fg(t),{intersectionRef:W,isIntersecting:ge}=Wee(),he=Mt(()=>parseFloat(t.max)),j=Mt(()=>parseFloat(t.height)),me=Mt(()=>Lm(parseFloat(t.bufferValue)/he.value*100,0,100)),oe=Mt(()=>Lm(parseFloat(u.value)/he.value*100,0,100)),Ce=Mt(()=>m.value!==t.reverse),Ue=Mt(()=>t.indeterminate?"fade-transition":"slide-x-transition"),et=_i&&((Me=window.matchMedia)==null?void 0:Me.call(window,"(forced-colors: active)").matches);function dt(Ne){if(!W.value)return;const{left:I,right:st,width:it}=W.value.getBoundingClientRect(),Ft=Ce.value?it-Ne.clientX+(st-it):Ne.clientX-I;u.value=Math.round(Ft/it*he.value)}return $s(()=>ce(t.tag,{ref:W,class:xo(["v-progress-linear",{"v-progress-linear--absolute":t.absolute,"v-progress-linear--active":t.active&&ge.value,"v-progress-linear--reverse":Ce.value,"v-progress-linear--rounded":t.rounded,"v-progress-linear--rounded-bar":t.roundedBar,"v-progress-linear--striped":t.striped},re.value,x.value,h.value,t.class]),style:Qs([{bottom:t.location==="bottom"?0:void 0,top:t.location==="top"?0:void 0,height:t.active?Fs(j.value):0,"--v-progress-linear-height":Fs(j.value),...t.absolute?w.value:{}},t.style]),role:"progressbar","aria-hidden":t.active?"false":"true","aria-valuemin":"0","aria-valuemax":t.max,"aria-valuenow":t.indeterminate?void 0:Math.min(parseFloat(u.value),he.value),onClick:t.clickable&&dt},{default:()=>[t.stream&&ie("div",{key:"stream",class:xo(["v-progress-linear__stream",R.value]),style:{...P.value,[Ce.value?"left":"right"]:Fs(-j.value),borderTop:`${Fs(j.value/2)} dotted`,opacity:parseFloat(t.bufferOpacity),top:`calc(50% - ${Fs(j.value/4)})`,width:Fs(100-me.value,"%"),"--v-progress-linear-stream-to":Fs(j.value*(Ce.value?1:-1))}},null),ie("div",{class:xo(["v-progress-linear__background",et?void 0:A.value]),style:Qs([M.value,{opacity:parseFloat(t.bgOpacity),width:t.stream?0:void 0}])},null),ie("div",{class:xo(["v-progress-linear__buffer",et?void 0:H.value]),style:Qs([K.value,{opacity:parseFloat(t.bufferOpacity),width:Fs(me.value,"%")}])},null),ce(jx,{name:Ue.value},{default:()=>[t.indeterminate?ie("div",{class:"v-progress-linear__indeterminate"},[["long","short"].map(Ne=>ie("div",{key:Ne,class:xo(["v-progress-linear__indeterminate",Ne,et?void 0:G.value]),style:Qs(te.value)},null))]):ie("div",{class:xo(["v-progress-linear__determinate",et?void 0:G.value]),style:Qs([te.value,{width:Fs(oe.value,"%")}])},null)]}),i.default&&ie("div",{class:"v-progress-linear__content"},[i.default({value:oe.value,buffer:me.value})])]})),{}}}),uK=qn({loading:[Boolean,String]},"loader");function dK(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Bv();return{loaderClasses:En(()=>({[`${r}--loading`]:t.loading}))}}function jee(t,r){var u;let{slots:i}=r;return ie("div",{class:xo(`${t.name}__loader`)},[((u=i.default)==null?void 0:u.call(i,{color:t.color,isActive:t.active}))||ce(Kee,{absolute:t.absolute,active:t.active,color:t.color,height:"2",indeterminate:!0},null)])}const m1e=["static","relative","fixed","absolute","sticky"],fK=qn({position:{type:String,validator:t=>m1e.includes(t)}},"position");function mK(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Bv();return{positionClasses:En(()=>t.position?`${r}--${t.position}`:void 0)}}function g1e(){const t=wc("useRoute");return Mt(()=>{var r;return(r=t==null?void 0:t.proxy)==null?void 0:r.$route})}function Zee(){var t,r;return(r=(t=wc("useRouter"))==null?void 0:t.proxy)==null?void 0:r.$router}function c8(t,r){var A,M;const i=MJ("RouterLink"),u=En(()=>!!(t.href||t.to)),m=Mt(()=>(u==null?void 0:u.value)||Iq(r,"click")||Iq(t,"click"));if(typeof i=="string"||!("useLink"in i)){const H=En(()=>t.href);return{isLink:u,isClickable:m,href:H,linkProps:Oc({href:H})}}const h=i.useLink({to:En(()=>t.to||""),replace:En(()=>t.replace)}),x=Mt(()=>t.to?h:void 0),w=g1e(),R=Mt(()=>{var H,K,G;return x.value?t.exact?w.value?((G=x.value.isExactActive)==null?void 0:G.value)&&Qh(x.value.route.value.query,w.value.query):((K=x.value.isExactActive)==null?void 0:K.value)??!1:((H=x.value.isActive)==null?void 0:H.value)??!1:!1}),P=Mt(()=>{var H;return t.to?(H=x.value)==null?void 0:H.route.value.href:t.href});return{isLink:u,isClickable:m,isActive:R,route:(A=x.value)==null?void 0:A.route,navigate:(M=x.value)==null?void 0:M.navigate,href:P,linkProps:Oc({href:P,"aria-current":En(()=>R.value?"page":void 0)})}}const u8=qn({href:String,replace:Boolean,to:[String,Object],exact:Boolean},"router");let gU=!1;function h1e(t,r){let i=!1,u,m;_i&&(t!=null&&t.beforeEach)&&(ys(()=>{window.addEventListener("popstate",h),u=t.beforeEach((x,w,R)=>{gU?i?r(R):R():setTimeout(()=>i?r(R):R()),gU=!0}),m=t==null?void 0:t.afterEach(()=>{gU=!1})}),tu(()=>{window.removeEventListener("popstate",h),u==null||u(),m==null||m()}));function h(x){var w;(w=x.state)!=null&&w.replaced||(i=!0,setTimeout(()=>i=!1))}}function p1e(t,r){Fn(()=>{var i;return(i=t.isActive)==null?void 0:i.value},i=>{t.isLink.value&&i!=null&&r&&ys(()=>{r(i)})},{immediate:!0})}const gW=Symbol("rippleStop"),b1e=80;function ZY(t,r){t.style.transform=r,t.style.webkitTransform=r}function hW(t){return t.constructor.name==="TouchEvent"}function Gee(t){return t.constructor.name==="KeyboardEvent"}const v1e=function(t,r){var M;let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},u=0,m=0;if(!Gee(t)){const H=r.getBoundingClientRect(),K=hW(t)?t.touches[t.touches.length-1]:t;u=K.clientX-H.left,m=K.clientY-H.top}let h=0,x=.3;(M=r._ripple)!=null&&M.circle?(x=.15,h=r.clientWidth/2,h=i.center?h:h+Math.sqrt((u-h)**2+(m-h)**2)/4):h=Math.sqrt(r.clientWidth**2+r.clientHeight**2)/2;const w=`${(r.clientWidth-h*2)/2}px`,R=`${(r.clientHeight-h*2)/2}px`,P=i.center?w:`${u-h}px`,A=i.center?R:`${m-h}px`;return{radius:h,scale:x,x:P,y:A,centerX:w,centerY:R}},EF={show(t,r){var K;let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!((K=r==null?void 0:r._ripple)!=null&&K.enabled))return;const u=document.createElement("span"),m=document.createElement("span");u.appendChild(m),u.className="v-ripple__container",i.class&&(u.className+=` ${i.class}`);const{radius:h,scale:x,x:w,y:R,centerX:P,centerY:A}=v1e(t,r,i),M=`${h*2}px`;m.className="v-ripple__animation",m.style.width=M,m.style.height=M,r.appendChild(u);const H=window.getComputedStyle(r);H&&H.position==="static"&&(r.style.position="relative",r.dataset.previousPosition="static"),m.classList.add("v-ripple__animation--enter"),m.classList.add("v-ripple__animation--visible"),ZY(m,`translate(${w}, ${R}) scale3d(${x},${x},${x})`),m.dataset.activated=String(performance.now()),requestAnimationFrame(()=>{requestAnimationFrame(()=>{m.classList.remove("v-ripple__animation--enter"),m.classList.add("v-ripple__animation--in"),ZY(m,`translate(${P}, ${A}) scale3d(1,1,1)`)})})},hide(t){var h;if(!((h=t==null?void 0:t._ripple)!=null&&h.enabled))return;const r=t.getElementsByClassName("v-ripple__animation");if(r.length===0)return;const i=r[r.length-1];if(i.dataset.isHiding)return;i.dataset.isHiding="true";const u=performance.now()-Number(i.dataset.activated),m=Math.max(250-u,0);setTimeout(()=>{i.classList.remove("v-ripple__animation--in"),i.classList.add("v-ripple__animation--out"),setTimeout(()=>{var w;t.getElementsByClassName("v-ripple__animation").length===1&&t.dataset.previousPosition&&(t.style.position=t.dataset.previousPosition,delete t.dataset.previousPosition),((w=i.parentNode)==null?void 0:w.parentNode)===t&&t.removeChild(i.parentNode)},300)},m)}};function qee(t){return typeof t>"u"||!!t}function YR(t){const r={},i=t.currentTarget;if(!(!(i!=null&&i._ripple)||i._ripple.touched||t[gW])){if(t[gW]=!0,hW(t))i._ripple.touched=!0,i._ripple.isTouch=!0;else if(i._ripple.isTouch)return;if(r.center=i._ripple.centered||Gee(t),i._ripple.class&&(r.class=i._ripple.class),hW(t)){if(i._ripple.showTimerCommit)return;i._ripple.showTimerCommit=()=>{EF.show(t,i,r)},i._ripple.showTimer=window.setTimeout(()=>{var u;(u=i==null?void 0:i._ripple)!=null&&u.showTimerCommit&&(i._ripple.showTimerCommit(),i._ripple.showTimerCommit=null)},b1e)}else EF.show(t,i,r)}}function GY(t){t[gW]=!0}function Rg(t){const r=t.currentTarget;if(r!=null&&r._ripple){if(window.clearTimeout(r._ripple.showTimer),t.type==="touchend"&&r._ripple.showTimerCommit){r._ripple.showTimerCommit(),r._ripple.showTimerCommit=null,r._ripple.showTimer=window.setTimeout(()=>{Rg(t)});return}window.setTimeout(()=>{r._ripple&&(r._ripple.touched=!1)}),EF.hide(r)}}function Yee(t){const r=t.currentTarget;r!=null&&r._ripple&&(r._ripple.showTimerCommit&&(r._ripple.showTimerCommit=null),window.clearTimeout(r._ripple.showTimer))}let XR=!1;function qY(t,r){!XR&&r.includes(t.keyCode)&&(XR=!0,YR(t))}function Xee(t){XR=!1,Rg(t)}function Jee(t){XR&&(XR=!1,Rg(t))}function Qee(t,r,i){const{value:u,modifiers:m}=r,h=qee(u);h||EF.hide(t),t._ripple=t._ripple??{},t._ripple.enabled=h,t._ripple.centered=m.center,t._ripple.circle=m.circle;const x=UU(u)?u:{};x.class&&(t._ripple.class=x.class);const w=x.keys??[WU.enter,WU.space];if(t._ripple.keyDownHandler=R=>qY(R,w),h&&!i){if(m.stop){t.addEventListener("touchstart",GY,{passive:!0}),t.addEventListener("mousedown",GY);return}t.addEventListener("touchstart",YR,{passive:!0}),t.addEventListener("touchend",Rg,{passive:!0}),t.addEventListener("touchmove",Yee,{passive:!0}),t.addEventListener("touchcancel",Rg),t.addEventListener("mousedown",YR),t.addEventListener("mouseup",Rg),t.addEventListener("mouseleave",Rg),t.addEventListener("keydown",R=>qY(R,w)),t.addEventListener("keyup",Xee),t.addEventListener("blur",Jee),t.addEventListener("dragstart",Rg,{passive:!0})}else!h&&i&&ete(t)}function ete(t){var r;t.removeEventListener("mousedown",YR),t.removeEventListener("touchstart",YR),t.removeEventListener("touchend",Rg),t.removeEventListener("touchmove",Yee),t.removeEventListener("touchcancel",Rg),t.removeEventListener("mouseup",Rg),t.removeEventListener("mouseleave",Rg),(r=t._ripple)!=null&&r.keyDownHandler&&t.removeEventListener("keydown",t._ripple.keyDownHandler),t.removeEventListener("keyup",Xee),t.removeEventListener("dragstart",Rg),t.removeEventListener("blur",Jee)}function y1e(t,r){Qee(t,r,!1)}function x1e(t){ete(t),delete t._ripple}function w1e(t,r){if(r.value===r.oldValue)return;const i=qee(r.oldValue);Qee(t,r,i)}const F1={mounted:y1e,unmounted:x1e,updated:w1e},C1e=qn({active:{type:Boolean,default:void 0},activeColor:String,baseColor:String,symbol:{type:null,default:Uee},flat:Boolean,icon:[Boolean,String,Function,Object],prependIcon:fi,appendIcon:fi,block:Boolean,readonly:Boolean,slim:Boolean,stacked:Boolean,ripple:{type:[Boolean,Object],default:!0},text:{type:[String,Number,Boolean],default:void 0},...U1(),...or(),...tp(),...bb(),...K1(),...Vee(),...uK(),...a8(),...fK(),...Bg(),...u8(),...yI(),...Wa({tag:"button"}),...sc(),...Z1({variant:"elevated"})},"VBtn"),Io=ts()({name:"VBtn",props:C1e(),emits:{"group:selected":t=>!0},setup(t,r){let{attrs:i,slots:u}=r;const{themeClasses:m}=nu(t),{borderClasses:h}=W1(t),{densityClasses:x}=pb(t),{dimensionStyles:w}=vb(t),{elevationClasses:R}=j1(t),{loaderClasses:P}=dK(t),{locationStyles:A}=l8(t),{positionClasses:M}=mK(t),{roundedClasses:H}=Fg(t),{sizeClasses:K,sizeStyles:G}=xI(t),te=zee(t,t.symbol,!1),re=c8(t,i),W=Mt(()=>{var Me;return t.active!==void 0?t.active:re.isLink.value?(Me=re.isActive)==null?void 0:Me.value:te==null?void 0:te.isSelected.value}),ge=En(()=>W.value?t.activeColor??t.color:t.color),he=Mt(()=>{var Ne,I;return{color:(te==null?void 0:te.isSelected.value)&&(!re.isLink.value||((Ne=re.isActive)==null?void 0:Ne.value))||!te||((I=re.isActive)==null?void 0:I.value)?ge.value??t.baseColor:t.baseColor,variant:t.variant}}),{colorClasses:j,colorStyles:me,variantClasses:oe}=jE(he),Ce=Mt(()=>(te==null?void 0:te.disabled.value)||t.disabled),Ue=En(()=>t.variant==="elevated"&&!(t.disabled||t.flat||t.border)),et=Mt(()=>{if(!(t.value===void 0||typeof t.value=="symbol"))return Object(t.value)===t.value?JSON.stringify(t.value,null,0):t.value});function dt(Me){var Ne;Ce.value||re.isLink.value&&(Me.metaKey||Me.ctrlKey||Me.shiftKey||Me.button!==0||i.target==="_blank")||((Ne=re.navigate)==null||Ne.call(re,Me),te==null||te.toggle())}return p1e(re,te==null?void 0:te.select),$s(()=>{const Me=re.isLink.value?"a":t.tag,Ne=!!(t.prependIcon||u.prepend),I=!!(t.appendIcon||u.append),st=!!(t.icon&&t.icon!==!0);return Zn(ce(Me,Xo({type:Me==="a"?void 0:"button",class:["v-btn",te==null?void 0:te.selectedClass.value,{"v-btn--active":W.value,"v-btn--block":t.block,"v-btn--disabled":Ce.value,"v-btn--elevated":Ue.value,"v-btn--flat":t.flat,"v-btn--icon":!!t.icon,"v-btn--loading":t.loading,"v-btn--readonly":t.readonly,"v-btn--slim":t.slim,"v-btn--stacked":t.stacked},m.value,h.value,j.value,x.value,R.value,P.value,M.value,H.value,K.value,oe.value,t.class],style:[me.value,w.value,A.value,G.value,t.style],"aria-busy":t.loading?!0:void 0,disabled:Ce.value||void 0,tabindex:t.loading||t.readonly?-1:void 0,onClick:dt,value:et.value},re.linkProps),{default:()=>{var it;return[KE(!0,"v-btn"),!t.icon&&Ne&&ie("span",{key:"prepend",class:"v-btn__prepend"},[u.prepend?ce(ul,{key:"prepend-defaults",disabled:!t.prependIcon,defaults:{VIcon:{icon:t.prependIcon}}},u.prepend):ce(Gn,{key:"prepend-icon",icon:t.prependIcon},null)]),ie("span",{class:"v-btn__content","data-no-activator":""},[!u.default&&st?ce(Gn,{key:"content-icon",icon:t.icon},null):ce(ul,{key:"content-defaults",disabled:!st,defaults:{VIcon:{icon:t.icon}}},{default:()=>{var Ft;return[((Ft=u.default)==null?void 0:Ft.call(u))??He(t.text)]}})]),!t.icon&&I&&ie("span",{key:"append",class:"v-btn__append"},[u.append?ce(ul,{key:"append-defaults",disabled:!t.appendIcon,defaults:{VIcon:{icon:t.appendIcon}}},u.append):ce(Gn,{key:"append-icon",icon:t.appendIcon},null)]),!!t.loading&&ie("span",{key:"loader",class:"v-btn__loader"},[((it=u.loader)==null?void 0:it.call(u))??ce(d1e,{color:typeof t.loading=="boolean"?void 0:t.loading,indeterminate:!0,width:"2"},null)])]}}),[[F1,!Ce.value&&t.ripple,"",{center:!!t.icon}]])}),{group:te}}}),Nm=ts()({name:"VCardActions",props:or(),setup(t,r){let{slots:i}=r;return Yx({VBtn:{slim:!0,variant:"text"}}),$s(()=>{var u;return ie("div",{class:xo(["v-card-actions",t.class]),style:Qs(t.style)},[(u=i.default)==null?void 0:u.call(i)])}),{}}}),S1e=qn({opacity:[Number,String],...or(),...Wa()},"VCardSubtitle"),_1e=ts()({name:"VCardSubtitle",props:S1e(),setup(t,r){let{slots:i}=r;return $s(()=>ce(t.tag,{class:xo(["v-card-subtitle",t.class]),style:Qs([{"--v-card-subtitle-opacity":t.opacity},t.style])},i)),{}}}),D1=GF("v-card-title");function k1e(t){return{aspectStyles:Mt(()=>{const r=Number(t.aspectRatio);return r?{paddingBottom:String(1/r*100)+"%"}:void 0})}}const tte=qn({aspectRatio:[String,Number],contentClass:null,inline:Boolean,...or(),...bb()},"VResponsive"),YY=ts()({name:"VResponsive",props:tte(),setup(t,r){let{slots:i}=r;const{aspectStyles:u}=k1e(t),{dimensionStyles:m}=vb(t);return $s(()=>{var h;return ie("div",{class:xo(["v-responsive",{"v-responsive--inline":t.inline},t.class]),style:Qs([m.value,t.style])},[ie("div",{class:"v-responsive__sizer",style:Qs(u.value)},null),(h=i.additional)==null?void 0:h.call(i),i.default&&ie("div",{class:xo(["v-responsive__content",t.contentClass])},[i.default()])])}),{}}}),ZE=qn({transition:{type:null,default:"fade-transition",validator:t=>t!==!0}},"transition"),$x=(t,r)=>{let{slots:i}=r;const{transition:u,disabled:m,group:h,...x}=t,{component:w=h?UW:jx,...R}=UU(u)?u:{};let P;return UU(u)?P=Xo(R,dge({disabled:m,group:h}),x):P=Xo({name:m||!u?"":u},x),Nv(w,P,i)};function E1e(t,r){if(!WW)return;const i=r.modifiers||{},u=r.value,{handler:m,options:h}=typeof u=="object"?u:{handler:u,options:{}},x=new IntersectionObserver(function(){var M;let w=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],R=arguments.length>1?arguments[1]:void 0;const P=(M=t._observe)==null?void 0:M[r.instance.$.uid];if(!P)return;const A=w.some(H=>H.isIntersecting);m&&(!i.quiet||P.init)&&(!i.once||A||P.init)&&m(A,w,R),A&&i.once?nte(t,r):P.init=!0},h);t._observe=Object(t._observe),t._observe[r.instance.$.uid]={init:!1,observer:x},x.observe(t)}function nte(t,r){var u;const i=(u=t._observe)==null?void 0:u[r.instance.$.uid];i&&(i.observer.unobserve(t),delete t._observe[r.instance.$.uid])}const NE={mounted:E1e,unmounted:nte},T1e=qn({absolute:Boolean,alt:String,cover:Boolean,color:String,draggable:{type:[Boolean,String],default:void 0},eager:Boolean,gradient:String,lazySrc:String,options:{type:Object,default:()=>({root:void 0,rootMargin:void 0,threshold:void 0})},sizes:String,src:{type:[String,Object],default:""},crossorigin:String,referrerpolicy:String,srcset:String,position:String,...tte(),...or(),...Bg(),...ZE()},"VImg"),wI=ts()({name:"VImg",directives:{vIntersect:NE},props:T1e(),emits:{loadstart:t=>!0,load:t=>!0,error:t=>!0},setup(t,r){let{emit:i,slots:u}=r;const{backgroundColorClasses:m,backgroundColorStyles:h}=db(()=>t.color),{roundedClasses:x}=Fg(t),w=wc("VImg"),R=Do(""),P=Ln(),A=Do(t.eager?"loading":"idle"),M=Do(),H=Do(),K=Mt(()=>t.src&&typeof t.src=="object"?{src:t.src.src,srcset:t.srcset||t.src.srcset,lazySrc:t.lazySrc||t.src.lazySrc,aspect:Number(t.aspectRatio||t.src.aspect||0)}:{src:t.src,srcset:t.srcset,lazySrc:t.lazySrc,aspect:Number(t.aspectRatio||0)}),G=Mt(()=>K.value.aspect||M.value/H.value||0);Fn(()=>t.src,()=>{te(A.value!=="idle")}),Fn(G,(Ne,I)=>{!Ne&&I&&P.value&&j(P.value)}),fI(()=>te());function te(Ne){if(!(t.eager&&Ne)&&!(WW&&!Ne&&!t.eager)){if(A.value="loading",K.value.lazySrc){const I=new Image;I.src=K.value.lazySrc,j(I,null)}K.value.src&&ys(()=>{var I;i("loadstart",((I=P.value)==null?void 0:I.currentSrc)||K.value.src),setTimeout(()=>{var st;if(!w.isUnmounted)if((st=P.value)!=null&&st.complete){if(P.value.naturalWidth||W(),A.value==="error")return;G.value||j(P.value,null),A.value==="loading"&&re()}else G.value||j(P.value),ge()})})}}function re(){var Ne;w.isUnmounted||(ge(),j(P.value),A.value="loaded",i("load",((Ne=P.value)==null?void 0:Ne.currentSrc)||K.value.src))}function W(){var Ne;w.isUnmounted||(A.value="error",i("error",((Ne=P.value)==null?void 0:Ne.currentSrc)||K.value.src))}function ge(){const Ne=P.value;Ne&&(R.value=Ne.currentSrc||Ne.src)}let he=-1;Du(()=>{clearTimeout(he)});function j(Ne){let I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:100;const st=()=>{if(clearTimeout(he),w.isUnmounted)return;const{naturalHeight:it,naturalWidth:Ft}=Ne;it||Ft?(M.value=Ft,H.value=it):!Ne.complete&&A.value==="loading"&&I!=null?he=window.setTimeout(st,I):(Ne.currentSrc.endsWith(".svg")||Ne.currentSrc.startsWith("data:image/svg+xml"))&&(M.value=1,H.value=1)};st()}const me=En(()=>({"v-img__img--cover":t.cover,"v-img__img--contain":!t.cover})),oe=()=>{var st;if(!K.value.src||A.value==="idle")return null;const Ne=ie("img",{class:xo(["v-img__img",me.value]),style:{objectPosition:t.position},crossorigin:t.crossorigin,src:K.value.src,srcset:K.value.srcset,alt:t.alt,referrerpolicy:t.referrerpolicy,draggable:t.draggable,sizes:t.sizes,ref:P,onLoad:re,onError:W},null),I=(st=u.sources)==null?void 0:st.call(u);return ce($x,{transition:t.transition,appear:!0},{default:()=>[Zn(I?ie("picture",{class:"v-img__picture"},[I,Ne]):Ne,[[Co,A.value==="loaded"]])]})},Ce=()=>ce($x,{transition:t.transition},{default:()=>[K.value.lazySrc&&A.value!=="loaded"&&ie("img",{class:xo(["v-img__img","v-img__img--preload",me.value]),style:{objectPosition:t.position},crossorigin:t.crossorigin,src:K.value.lazySrc,alt:t.alt,referrerpolicy:t.referrerpolicy,draggable:t.draggable},null)]}),Ue=()=>u.placeholder?ce($x,{transition:t.transition,appear:!0},{default:()=>[(A.value==="loading"||A.value==="error"&&!u.error)&&ie("div",{class:"v-img__placeholder"},[u.placeholder()])]}):null,et=()=>u.error?ce($x,{transition:t.transition,appear:!0},{default:()=>[A.value==="error"&&ie("div",{class:"v-img__error"},[u.error()])]}):null,dt=()=>t.gradient?ie("div",{class:"v-img__gradient",style:{backgroundImage:`linear-gradient(${t.gradient})`}},null):null,Me=Do(!1);{const Ne=Fn(G,I=>{I&&(requestAnimationFrame(()=>{requestAnimationFrame(()=>{Me.value=!0})}),Ne())})}return $s(()=>{const Ne=YY.filterProps(t);return Zn(ce(YY,Xo({class:["v-img",{"v-img--absolute":t.absolute,"v-img--booting":!Me.value},m.value,x.value,t.class],style:[{width:Fs(t.width==="auto"?M.value:t.width)},h.value,t.style]},Ne,{aspectRatio:G.value,"aria-label":t.alt,role:t.alt?"img":void 0}),{additional:()=>ie(ms,null,[ce(oe,null,null),ce(Ce,null,null),ce(dt,null,null),ce(Ue,null,null),ce(et,null,null)]),default:u.default}),[[NE,{handler:te,options:t.options},null,{once:!0}]])}),{currentSrc:R,image:P,state:A,naturalWidth:M,naturalHeight:H}}}),A1e=qn({start:Boolean,end:Boolean,icon:fi,image:String,text:String,...U1(),...or(),...tp(),...Bg(),...yI(),...Wa(),...sc(),...Z1({variant:"flat"})},"VAvatar"),Zx=ts()({name:"VAvatar",props:A1e(),setup(t,r){let{slots:i}=r;const{themeClasses:u}=nu(t),{borderClasses:m}=W1(t),{colorClasses:h,colorStyles:x,variantClasses:w}=jE(t),{densityClasses:R}=pb(t),{roundedClasses:P}=Fg(t),{sizeClasses:A,sizeStyles:M}=xI(t);return $s(()=>ce(t.tag,{class:xo(["v-avatar",{"v-avatar--start":t.start,"v-avatar--end":t.end},u.value,m.value,h.value,R.value,P.value,A.value,w.value,t.class]),style:Qs([x.value,M.value,t.style])},{default:()=>[i.default?ce(ul,{key:"content-defaults",defaults:{VImg:{cover:!0,src:t.image},VIcon:{icon:t.icon}}},{default:()=>[i.default()]}):t.image?ce(wI,{key:"image",src:t.image,alt:"",cover:!0},null):t.icon?ce(Gn,{key:"icon",icon:t.icon},null):t.text,KE(!1,"v-avatar")]})),{}}}),O1e=qn({appendAvatar:String,appendIcon:fi,prependAvatar:String,prependIcon:fi,subtitle:{type:[String,Number,Boolean],default:void 0},title:{type:[String,Number,Boolean],default:void 0},...or(),...tp()},"VCardItem"),R1e=ts()({name:"VCardItem",props:O1e(),setup(t,r){let{slots:i}=r;return $s(()=>{var P;const u=!!(t.prependAvatar||t.prependIcon),m=!!(u||i.prepend),h=!!(t.appendAvatar||t.appendIcon),x=!!(h||i.append),w=!!(t.title!=null||i.title),R=!!(t.subtitle!=null||i.subtitle);return ie("div",{class:xo(["v-card-item",t.class]),style:Qs(t.style)},[m&&ie("div",{key:"prepend",class:"v-card-item__prepend"},[i.prepend?ce(ul,{key:"prepend-defaults",disabled:!u,defaults:{VAvatar:{density:t.density,image:t.prependAvatar},VIcon:{density:t.density,icon:t.prependIcon}}},i.prepend):ie(ms,null,[t.prependAvatar&&ce(Zx,{key:"prepend-avatar",density:t.density,image:t.prependAvatar},null),t.prependIcon&&ce(Gn,{key:"prepend-icon",density:t.density,icon:t.prependIcon},null)])]),ie("div",{class:"v-card-item__content"},[w&&ce(D1,{key:"title"},{default:()=>{var A;return[((A=i.title)==null?void 0:A.call(i))??He(t.title)]}}),R&&ce(_1e,{key:"subtitle"},{default:()=>{var A;return[((A=i.subtitle)==null?void 0:A.call(i))??He(t.subtitle)]}}),(P=i.default)==null?void 0:P.call(i)]),x&&ie("div",{key:"append",class:"v-card-item__append"},[i.append?ce(ul,{key:"append-defaults",disabled:!h,defaults:{VAvatar:{density:t.density,image:t.appendAvatar},VIcon:{density:t.density,icon:t.appendIcon}}},i.append):ie(ms,null,[t.appendIcon&&ce(Gn,{key:"append-icon",density:t.density,icon:t.appendIcon},null),t.appendAvatar&&ce(Zx,{key:"append-avatar",density:t.density,image:t.appendAvatar},null)])])])}),{}}}),I1e=qn({opacity:[Number,String],...or(),...Wa()},"VCardText"),Mm=ts()({name:"VCardText",props:I1e(),setup(t,r){let{slots:i}=r;return $s(()=>ce(t.tag,{class:xo(["v-card-text",t.class]),style:Qs([{"--v-card-text-opacity":t.opacity},t.style])},i)),{}}}),D1e=qn({appendAvatar:String,appendIcon:fi,disabled:Boolean,flat:Boolean,hover:Boolean,image:String,link:{type:Boolean,default:void 0},prependAvatar:String,prependIcon:fi,ripple:{type:[Boolean,Object],default:!0},subtitle:{type:[String,Number,Boolean],default:void 0},text:{type:[String,Number,Boolean],default:void 0},title:{type:[String,Number,Boolean],default:void 0},...U1(),...or(),...tp(),...bb(),...K1(),...uK(),...a8(),...fK(),...Bg(),...u8(),...Wa(),...sc(),...Z1({variant:"elevated"})},"VCard"),Pg=ts()({name:"VCard",directives:{vRipple:F1},props:D1e(),setup(t,r){let{attrs:i,slots:u}=r;const{themeClasses:m}=nu(t),{borderClasses:h}=W1(t),{colorClasses:x,colorStyles:w,variantClasses:R}=jE(t),{densityClasses:P}=pb(t),{dimensionStyles:A}=vb(t),{elevationClasses:M}=j1(t),{loaderClasses:H}=dK(t),{locationStyles:K}=l8(t),{positionClasses:G}=mK(t),{roundedClasses:te}=Fg(t),re=c8(t,i);return $s(()=>{const W=t.link!==!1&&re.isLink.value,ge=!t.disabled&&t.link!==!1&&(t.link||re.isClickable.value),he=W?"a":t.tag,j=!!(u.title||t.title!=null),me=!!(u.subtitle||t.subtitle!=null),oe=j||me,Ce=!!(u.append||t.appendAvatar||t.appendIcon),Ue=!!(u.prepend||t.prependAvatar||t.prependIcon),et=!!(u.image||t.image),dt=oe||Ue||Ce,Me=!!(u.text||t.text!=null);return Zn(ce(he,Xo({class:["v-card",{"v-card--disabled":t.disabled,"v-card--flat":t.flat,"v-card--hover":t.hover&&!(t.disabled||t.flat),"v-card--link":ge},m.value,h.value,x.value,P.value,M.value,H.value,G.value,te.value,R.value,t.class],style:[w.value,A.value,K.value,t.style],onClick:ge&&re.navigate,tabindex:t.disabled?-1:void 0},re.linkProps),{default:()=>{var Ne;return[et&&ie("div",{key:"image",class:"v-card__image"},[u.image?ce(ul,{key:"image-defaults",disabled:!t.image,defaults:{VImg:{cover:!0,src:t.image}}},u.image):ce(wI,{key:"image-img",cover:!0,src:t.image},null)]),ce(jee,{name:"v-card",active:!!t.loading,color:typeof t.loading=="boolean"?void 0:t.loading},{default:u.loader}),dt&&ce(R1e,{key:"item",prependAvatar:t.prependAvatar,prependIcon:t.prependIcon,title:t.title,subtitle:t.subtitle,appendAvatar:t.appendAvatar,appendIcon:t.appendIcon},{default:u.item,prepend:u.prepend,title:u.title,subtitle:u.subtitle,append:u.append}),Me&&ce(Mm,{key:"text"},{default:()=>{var I;return[((I=u.text)==null?void 0:I.call(u))??t.text]}}),(Ne=u.default)==null?void 0:Ne.call(u),u.actions&&ce(Nm,null,{default:u.actions}),KE(ge,"v-card")]}}),[[F1,ge&&t.ripple]])}),{}}}),P1e=qn({disabled:Boolean,group:Boolean,hideOnLeave:Boolean,leaveAbsolute:Boolean,mode:String,origin:String},"transition");function $g(t,r,i){return ts()({name:t,props:P1e({mode:i,origin:r}),setup(u,m){let{slots:h}=m;const x={onBeforeEnter(w){u.origin&&(w.style.transformOrigin=u.origin)},onLeave(w){if(u.leaveAbsolute){const{offsetTop:R,offsetLeft:P,offsetWidth:A,offsetHeight:M}=w;w._transitionInitialStyles={position:w.style.position,top:w.style.top,left:w.style.left,width:w.style.width,height:w.style.height},w.style.position="absolute",w.style.top=`${R}px`,w.style.left=`${P}px`,w.style.width=`${A}px`,w.style.height=`${M}px`}u.hideOnLeave&&w.style.setProperty("display","none","important")},onAfterLeave(w){if(u.leaveAbsolute&&(w!=null&&w._transitionInitialStyles)){const{position:R,top:P,left:A,width:M,height:H}=w._transitionInitialStyles;delete w._transitionInitialStyles,w.style.position=R||"",w.style.top=P||"",w.style.left=A||"",w.style.width=M||"",w.style.height=H||""}}};return()=>{const w=u.group?UW:jx;return Nv(w,{name:u.disabled?"":t,css:!u.disabled,...u.group?void 0:{mode:u.mode},...u.disabled?{}:x},h.default)}}})}function ote(t,r){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"in-out";return ts()({name:t,props:{mode:{type:String,default:i},disabled:Boolean,group:Boolean},setup(u,m){let{slots:h}=m;const x=u.group?UW:jx;return()=>Nv(x,{name:u.disabled?"":t,css:!u.disabled,...u.disabled?{}:r},h.default)}})}function ste(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";const i=(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1)?"width":"height",u=Uf(`offset-${i}`);return{onBeforeEnter(x){x._parent=x.parentNode,x._initialStyle={transition:x.style.transition,overflow:x.style.overflow,[i]:x.style[i]}},onEnter(x){const w=x._initialStyle;if(!w)return;x.style.setProperty("transition","none","important"),x.style.overflow="hidden";const R=`${x[u]}px`;x.style[i]="0",x.offsetHeight,x.style.transition=w.transition,t&&x._parent&&x._parent.classList.add(t),requestAnimationFrame(()=>{x.style[i]=R})},onAfterEnter:h,onEnterCancelled:h,onLeave(x){x._initialStyle={transition:"",overflow:x.style.overflow,[i]:x.style[i]},x.style.overflow="hidden",x.style[i]=`${x[u]}px`,x.offsetHeight,requestAnimationFrame(()=>x.style[i]="0")},onAfterLeave:m,onLeaveCancelled:m};function m(x){t&&x._parent&&x._parent.classList.remove(t),h(x)}function h(x){if(!x._initialStyle)return;const w=x._initialStyle[i];x.style.overflow=x._initialStyle.overflow,w!=null&&(x.style[i]=w),delete x._initialStyle}}const N1e=qn({target:[Object,Array]},"v-dialog-transition"),hU=new WeakMap,gK=ts()({name:"VDialogTransition",props:N1e(),setup(t,r){let{slots:i}=r;const u={onBeforeEnter(m){m.style.pointerEvents="none",m.style.visibility="hidden"},async onEnter(m,h){var K;await new Promise(G=>requestAnimationFrame(G)),await new Promise(G=>requestAnimationFrame(G)),m.style.visibility="";const x=JY(t.target,m),{x:w,y:R,sx:P,sy:A,speed:M}=x;hU.set(m,x);const H=pE(m,[{transform:`translate(${w}px, ${R}px) scale(${P}, ${A})`,opacity:0},{}],{duration:225*M,easing:zge});(K=XY(m))==null||K.forEach(G=>{pE(G,[{opacity:0},{opacity:0,offset:.33},{}],{duration:225*2*M,easing:gF})}),H.finished.then(()=>h())},onAfterEnter(m){m.style.removeProperty("pointer-events")},onBeforeLeave(m){m.style.pointerEvents="none"},async onLeave(m,h){var K;await new Promise(G=>requestAnimationFrame(G));let x;!hU.has(m)||Array.isArray(t.target)||t.target.offsetParent||t.target.getClientRects().length?x=JY(t.target,m):x=hU.get(m);const{x:w,y:R,sx:P,sy:A,speed:M}=x;pE(m,[{},{transform:`translate(${w}px, ${R}px) scale(${P}, ${A})`,opacity:0}],{duration:125*M,easing:Hge}).finished.then(()=>h()),(K=XY(m))==null||K.forEach(G=>{pE(G,[{},{opacity:0,offset:.2},{opacity:0}],{duration:125*2*M,easing:gF})})},onAfterLeave(m){m.style.removeProperty("pointer-events")}};return()=>t.target?ce(jx,Xo({name:"dialog-transition"},u,{css:!1}),i):ce(jx,{name:"dialog-transition"},i)}});function XY(t){var i;const r=(i=t.querySelector(":scope > .v-card, :scope > .v-sheet, :scope > .v-list"))==null?void 0:i.children;return r&&[...r]}function JY(t,r){const i=wQ(t),u=ZW(r),[m,h]=getComputedStyle(r).transformOrigin.split(" ").map(W=>parseFloat(W)),[x,w]=getComputedStyle(r).getPropertyValue("--v-overlay-anchor-origin").split(" ");let R=i.left+i.width/2;x==="left"||w==="left"?R-=i.width/2:(x==="right"||w==="right")&&(R+=i.width/2);let P=i.top+i.height/2;x==="top"||w==="top"?P-=i.height/2:(x==="bottom"||w==="bottom")&&(P+=i.height/2);const A=i.width/u.width,M=i.height/u.height,H=Math.max(1,A,M),K=A/H||0,G=M/H||0,te=u.width*u.height/(window.innerWidth*window.innerHeight),re=te>.12?Math.min(1.5,(te-.12)*10+1):1;return{x:R-(m+u.left),y:P-(h+u.top),sx:K,sy:G,speed:re}}$g("fab-transition","center center","out-in");$g("dialog-bottom-transition");$g("dialog-top-transition");const QY=$g("fade-transition");$g("scale-transition");$g("scroll-x-transition");$g("scroll-x-reverse-transition");$g("scroll-y-transition");$g("scroll-y-reverse-transition");$g("slide-x-transition");$g("slide-x-reverse-transition");const rte=$g("slide-y-transition");$g("slide-y-reverse-transition");const ite=ote("expand-transition",ste()),ate=ote("expand-x-transition",ste("",!0));function pU(t,r){return{x:t.x+r.x,y:t.y+r.y}}function M1e(t,r){return{x:t.x-r.x,y:t.y-r.y}}function eX(t,r){if(t.side==="top"||t.side==="bottom"){const{side:i,align:u}=t,m=u==="left"?0:u==="center"?r.width/2:u==="right"?r.width:u,h=i==="top"?0:i==="bottom"?r.height:i;return pU({x:m,y:h},r)}else if(t.side==="left"||t.side==="right"){const{side:i,align:u}=t,m=i==="left"?0:i==="right"?r.width:i,h=u==="top"?0:u==="center"?r.height/2:u==="bottom"?r.height:u;return pU({x:m,y:h},r)}return pU({x:r.width/2,y:r.height/2},r)}const lte={static:F1e,connected:V1e},L1e=qn({locationStrategy:{type:[String,Function],default:"static",validator:t=>typeof t=="function"||t in lte},location:{type:String,default:"bottom"},origin:{type:String,default:"auto"},offset:[Number,String,Array]},"VOverlay-location-strategies");function B1e(t,r){const i=Ln({}),u=Ln();_i&&Jh(()=>!!(r.isActive.value&&t.locationStrategy),w=>{var R,P;Fn(()=>t.locationStrategy,w),tu(()=>{window.removeEventListener("resize",m),visualViewport==null||visualViewport.removeEventListener("resize",h),visualViewport==null||visualViewport.removeEventListener("scroll",x),u.value=void 0}),window.addEventListener("resize",m,{passive:!0}),visualViewport==null||visualViewport.addEventListener("resize",h,{passive:!0}),visualViewport==null||visualViewport.addEventListener("scroll",x,{passive:!0}),typeof t.locationStrategy=="function"?u.value=(R=t.locationStrategy(r,t,i))==null?void 0:R.updateLocation:u.value=(P=lte[t.locationStrategy](r,t,i))==null?void 0:P.updateLocation});function m(w){var R;(R=u.value)==null||R.call(u,w)}function h(w){var R;(R=u.value)==null||R.call(u,w)}function x(w){var R;(R=u.value)==null||R.call(u,w)}return{contentStyles:i,updateLocation:u}}function F1e(){}function $1e(t,r){const i=ZW(t);return r?i.x+=parseFloat(t.style.right||0):i.x-=parseFloat(t.style.left||0),i.y-=parseFloat(t.style.top||0),i}function V1e(t,r,i){(Array.isArray(t.target.value)||Wge(t.target.value))&&Object.assign(i.value,{position:"fixed",top:0,[t.isRtl.value?"right":"left"]:0});const{preferredAnchor:m,preferredOrigin:h}=KW(()=>{const W=ZU(r.location,t.isRtl.value),ge=r.origin==="overlap"?W:r.origin==="auto"?K9(W):ZU(r.origin,t.isRtl.value);return W.side===ge.side&&W.align===j9(ge).align?{preferredAnchor:Dq(W),preferredOrigin:Dq(ge)}:{preferredAnchor:W,preferredOrigin:ge}}),[x,w,R,P]=["minWidth","minHeight","maxWidth","maxHeight"].map(W=>Mt(()=>{const ge=parseFloat(r[W]);return isNaN(ge)?1/0:ge})),A=Mt(()=>{if(Array.isArray(r.offset))return r.offset;if(typeof r.offset=="string"){const W=r.offset.split(" ").map(parseFloat);return W.length<2&&W.push(0),W}return typeof r.offset=="number"?[r.offset,0]:[0,0]});let M=!1,H=-1;const K=new bQ(4),G=new ResizeObserver(()=>{if(!M)return;if(requestAnimationFrame(ge=>{ge!==H&&K.clear(),requestAnimationFrame(he=>{H=he})}),K.isFull){const ge=K.values();if(Qh(ge.at(-1),ge.at(-3))&&!Qh(ge.at(-1),ge.at(-2)))return}const W=re();W&&K.push(W.flipped)});Fn([t.target,t.contentEl],(W,ge)=>{let[he,j]=W,[me,oe]=ge;me&&!Array.isArray(me)&&G.unobserve(me),he&&!Array.isArray(he)&&G.observe(he),oe&&G.unobserve(oe),j&&G.observe(j)},{immediate:!0}),tu(()=>{G.disconnect()});let te=new Iv({x:0,y:0,width:0,height:0});function re(){if(M=!1,requestAnimationFrame(()=>M=!0),!t.target.value||!t.contentEl.value)return;(Array.isArray(t.target.value)||t.target.value.offsetParent||t.target.value.getClientRects().length)&&(te=wQ(t.target.value));const W=$1e(t.contentEl.value,t.isRtl.value),ge=hF(t.contentEl.value),he=12;ge.length||(ge.push(document.documentElement),t.contentEl.value.style.top&&t.contentEl.value.style.left||(W.x-=parseFloat(document.documentElement.style.getPropertyValue("--v-body-scroll-x")||0),W.y-=parseFloat(document.documentElement.style.getPropertyValue("--v-body-scroll-y")||0)));const j=ge.reduce((I,st)=>{const it=mge(st);return I?new Iv({x:Math.max(I.left,it.left),y:Math.max(I.top,it.top),width:Math.min(I.right,it.right)-Math.max(I.left,it.left),height:Math.min(I.bottom,it.bottom)-Math.max(I.top,it.top)}):it},void 0);j.x+=he,j.y+=he,j.width-=he*2,j.height-=he*2;let me={anchor:m.value,origin:h.value};function oe(I){const st=new Iv(W),it=eX(I.anchor,te),Ft=eX(I.origin,st);let{x:Yt,y:mt}=M1e(it,Ft);switch(I.anchor.side){case"top":mt-=A.value[0];break;case"bottom":mt+=A.value[0];break;case"left":Yt-=A.value[0];break;case"right":Yt+=A.value[0];break}switch(I.anchor.align){case"top":mt-=A.value[1];break;case"bottom":mt+=A.value[1];break;case"left":Yt-=A.value[1];break;case"right":Yt+=A.value[1];break}return st.x+=Yt,st.y+=mt,st.width=Math.min(st.width,R.value),st.height=Math.min(st.height,P.value),{overflows:Nq(st,j),x:Yt,y:mt}}let Ce=0,Ue=0;const et={x:0,y:0},dt={x:!1,y:!1};let Me=-1;for(;!(Me++>10);){const{x:I,y:st,overflows:it}=oe(me);Ce+=I,Ue+=st,W.x+=I,W.y+=st;{const Ft=Pq(me.anchor),Yt=it.x.before||it.x.after,mt=it.y.before||it.y.after;let Rn=!1;if(["x","y"].forEach(Ot=>{if(Ot==="x"&&Yt&&!dt.x||Ot==="y"&&mt&&!dt.y){const at={anchor:{...me.anchor},origin:{...me.origin}},Ve=Ot==="x"?Ft==="y"?j9:K9:Ft==="y"?K9:j9;at.anchor=Ve(at.anchor),at.origin=Ve(at.origin);const{overflows:bt}=oe(at);(bt[Ot].before<=it[Ot].before&&bt[Ot].after<=it[Ot].after||bt[Ot].before+bt[Ot].after<(it[Ot].before+it[Ot].after)/2)&&(me=at,Rn=dt[Ot]=!0)}}),Rn)continue}it.x.before&&(Ce+=it.x.before,W.x+=it.x.before),it.x.after&&(Ce-=it.x.after,W.x-=it.x.after),it.y.before&&(Ue+=it.y.before,W.y+=it.y.before),it.y.after&&(Ue-=it.y.after,W.y-=it.y.after);{const Ft=Nq(W,j);et.x=j.width-Ft.x.before-Ft.x.after,et.y=j.height-Ft.y.before-Ft.y.after,Ce+=Ft.x.before,W.x+=Ft.x.before,Ue+=Ft.y.before,W.y+=Ft.y.before}break}const Ne=Pq(me.anchor);return Object.assign(i.value,{"--v-overlay-anchor-origin":`${me.anchor.side} ${me.anchor.align}`,transformOrigin:`${me.origin.side} ${me.origin.align}`,top:Fs(bU(Ue)),left:t.isRtl.value?void 0:Fs(bU(Ce)),right:t.isRtl.value?Fs(bU(-Ce)):void 0,minWidth:Fs(Ne==="y"?Math.min(x.value,te.width):x.value),maxWidth:Fs(tX(Lm(et.x,x.value===1/0?0:x.value,R.value))),maxHeight:Fs(tX(Lm(et.y,w.value===1/0?0:w.value,P.value)))}),{available:et,contentBox:W,flipped:dt}}return Fn(()=>[m.value,h.value,r.offset,r.minWidth,r.minHeight,r.maxWidth,r.maxHeight],()=>re()),ys(()=>{const W=re();if(!W)return;const{available:ge,contentBox:he}=W;he.height>ge.y&&requestAnimationFrame(()=>{re(),requestAnimationFrame(()=>{re()})})}),{updateLocation:re}}function bU(t){return Math.round(t*devicePixelRatio)/devicePixelRatio}function tX(t){return Math.ceil(t*devicePixelRatio)/devicePixelRatio}let pW=!0;const TF=[];function z1e(t){!pW||TF.length?(TF.push(t),bW()):(pW=!1,t(),bW())}let nX=-1;function bW(){cancelAnimationFrame(nX),nX=requestAnimationFrame(()=>{const t=TF.shift();t&&t(),TF.length?bW():pW=!0})}const J6={none:null,close:W1e,block:K1e,reposition:j1e},H1e=qn({scrollStrategy:{type:[String,Function],default:"block",validator:t=>typeof t=="function"||t in J6}},"VOverlay-scroll-strategies");function U1e(t,r){if(!_i)return;let i;Wf(async()=>{i==null||i.stop(),r.isActive.value&&t.scrollStrategy&&(i=Wx(),await new Promise(u=>setTimeout(u)),i.active&&i.run(()=>{var u;typeof t.scrollStrategy=="function"?t.scrollStrategy(r,t,i):(u=J6[t.scrollStrategy])==null||u.call(J6,r,t,i)}))}),tu(()=>{i==null||i.stop()})}function W1e(t){function r(i){t.isActive.value=!1}cte(t.targetEl.value??t.contentEl.value,r)}function K1e(t,r){var x;const i=(x=t.root.value)==null?void 0:x.offsetParent,u=[...new Set([...hF(t.targetEl.value,r.contained?i:void 0),...hF(t.contentEl.value,r.contained?i:void 0)])].filter(w=>!w.classList.contains("v-overlay-scroll-blocked")),m=window.innerWidth-document.documentElement.offsetWidth,h=(w=>YW(w)&&w)(i||document.documentElement);h&&t.root.value.classList.add("v-overlay--scroll-blocked"),u.forEach((w,R)=>{w.style.setProperty("--v-body-scroll-x",Fs(-w.scrollLeft)),w.style.setProperty("--v-body-scroll-y",Fs(-w.scrollTop)),w!==document.documentElement&&w.style.setProperty("--v-scrollbar-offset",Fs(m)),w.classList.add("v-overlay-scroll-blocked")}),tu(()=>{u.forEach((w,R)=>{const P=parseFloat(w.style.getPropertyValue("--v-body-scroll-x")),A=parseFloat(w.style.getPropertyValue("--v-body-scroll-y")),M=w.style.scrollBehavior;w.style.scrollBehavior="auto",w.style.removeProperty("--v-body-scroll-x"),w.style.removeProperty("--v-body-scroll-y"),w.style.removeProperty("--v-scrollbar-offset"),w.classList.remove("v-overlay-scroll-blocked"),w.scrollLeft=-P,w.scrollTop=-A,w.style.scrollBehavior=M}),h&&t.root.value.classList.remove("v-overlay--scroll-blocked")})}function j1e(t,r,i){let u=!1,m=-1,h=-1;function x(w){z1e(()=>{var A,M;const R=performance.now();(M=(A=t.updateLocation).value)==null||M.call(A,w),u=(performance.now()-R)/(1e3/60)>2})}h=(typeof requestIdleCallback>"u"?w=>w():requestIdleCallback)(()=>{i.run(()=>{cte(t.targetEl.value??t.contentEl.value,w=>{u?(cancelAnimationFrame(m),m=requestAnimationFrame(()=>{m=requestAnimationFrame(()=>{x(w)})})):x(w)})})}),tu(()=>{typeof cancelIdleCallback<"u"&&cancelIdleCallback(h),cancelAnimationFrame(m)})}function cte(t,r){const i=[document,...hF(t)];i.forEach(u=>{u.addEventListener("scroll",r,{passive:!0})}),tu(()=>{i.forEach(u=>{u.removeEventListener("scroll",r)})})}const vW=Symbol.for("vuetify:v-menu"),ute=qn({closeDelay:[Number,String],openDelay:[Number,String]},"delay");function dte(t,r){let i=()=>{};function u(x){i==null||i();const w=Number(x?t.openDelay:t.closeDelay);return new Promise(R=>{i=lge(w,()=>{r==null||r(x),R(x)})})}function m(){return u(!0)}function h(){return u(!1)}return{clearDelay:i,runOpenDelay:m,runCloseDelay:h}}const Z1e=qn({target:[String,Object],activator:[String,Object],activatorProps:{type:Object,default:()=>({})},openOnClick:{type:Boolean,default:void 0},openOnHover:Boolean,openOnFocus:{type:Boolean,default:void 0},closeOnContentClick:Boolean,...ute()},"VOverlay-activator");function G1e(t,r){let{isActive:i,isTop:u,contentEl:m}=r;const h=wc("useActivator"),x=Ln();let w=!1,R=!1,P=!0;const A=Mt(()=>t.openOnFocus||t.openOnFocus==null&&t.openOnHover),M=Mt(()=>t.openOnClick||t.openOnClick==null&&!t.openOnHover&&!A.value),{runOpenDelay:H,runCloseDelay:K}=dte(t,Ue=>{Ue===(t.openOnHover&&w||A.value&&R)&&!(t.openOnHover&&i.value&&!u.value)&&(i.value!==Ue&&(P=!0),i.value=Ue)}),G=Ln(),te={onClick:Ue=>{Ue.stopPropagation(),x.value=Ue.currentTarget||Ue.target,i.value||(G.value=[Ue.clientX,Ue.clientY]),i.value=!i.value},onMouseenter:Ue=>{var et;(et=Ue.sourceCapabilities)!=null&&et.firesTouchEvents||(w=!0,x.value=Ue.currentTarget||Ue.target,H())},onMouseleave:Ue=>{w=!1,K()},onFocus:Ue=>{OE(Ue.target,":focus-visible")!==!1&&(R=!0,Ue.stopPropagation(),x.value=Ue.currentTarget||Ue.target,H())},onBlur:Ue=>{R=!1,Ue.stopPropagation(),K()}},re=Mt(()=>{const Ue={};return M.value&&(Ue.onClick=te.onClick),t.openOnHover&&(Ue.onMouseenter=te.onMouseenter,Ue.onMouseleave=te.onMouseleave),A.value&&(Ue.onFocus=te.onFocus,Ue.onBlur=te.onBlur),Ue}),W=Mt(()=>{const Ue={};if(t.openOnHover&&(Ue.onMouseenter=()=>{w=!0,H()},Ue.onMouseleave=()=>{w=!1,K()}),A.value&&(Ue.onFocusin=()=>{R=!0,H()},Ue.onFocusout=()=>{R=!1,K()}),t.closeOnContentClick){const et=Ea(vW,null);Ue.onClick=()=>{i.value=!1,et==null||et.closeParents()}}return Ue}),ge=Mt(()=>{const Ue={};return t.openOnHover&&(Ue.onMouseenter=()=>{P&&(w=!0,P=!1,H())},Ue.onMouseleave=()=>{w=!1,K()}),Ue});Fn(u,Ue=>{var et;Ue&&(t.openOnHover&&!w&&(!A.value||!R)||A.value&&!R&&(!t.openOnHover||!w))&&!((et=m.value)!=null&&et.contains(document.activeElement))&&(i.value=!1)}),Fn(i,Ue=>{Ue||setTimeout(()=>{G.value=void 0})},{flush:"post"});const he=KU();Wf(()=>{he.value&&ys(()=>{x.value=he.el})});const j=KU(),me=Mt(()=>t.target==="cursor"&&G.value?G.value:j.value?j.el:fte(t.target,h)||x.value),oe=Mt(()=>Array.isArray(me.value)?void 0:me.value);let Ce;return Fn(()=>!!t.activator,Ue=>{Ue&&_i?(Ce=Wx(),Ce.run(()=>{q1e(t,h,{activatorEl:x,activatorEvents:re})})):Ce&&Ce.stop()},{flush:"post",immediate:!0}),tu(()=>{Ce==null||Ce.stop()}),{activatorEl:x,activatorRef:he,target:me,targetEl:oe,targetRef:j,activatorEvents:re,contentEvents:W,scrimEvents:ge}}function q1e(t,r,i){let{activatorEl:u,activatorEvents:m}=i;Fn(()=>t.activator,(R,P)=>{if(P&&R!==P){const A=w(P);A&&x(A)}R&&ys(()=>h())},{immediate:!0}),Fn(()=>t.activatorProps,()=>{h()}),tu(()=>{x()});function h(){let R=arguments.length>0&&arguments[0]!==void 0?arguments[0]:w(),P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:t.activatorProps;R&&gge(R,Xo(m.value,P))}function x(){let R=arguments.length>0&&arguments[0]!==void 0?arguments[0]:w(),P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:t.activatorProps;R&&hge(R,Xo(m.value,P))}function w(){let R=arguments.length>0&&arguments[0]!==void 0?arguments[0]:t.activator;const P=fte(R,r);return u.value=(P==null?void 0:P.nodeType)===Node.ELEMENT_NODE?P:void 0,u.value}}function fte(t,r){var u,m;if(!t)return;let i;if(t==="parent"){let h=(m=(u=r==null?void 0:r.proxy)==null?void 0:u.$el)==null?void 0:m.parentNode;for(;h!=null&&h.hasAttribute("data-no-activator");)h=h.parentNode;i=h}else typeof t=="string"?i=document.querySelector(t):"$el"in t?i=t.$el:i=t;return i}function Y1e(){if(!_i)return Do(!1);const{ssr:t}=YF();if(t){const r=Do(!1);return Zd(()=>{r.value=!0}),r}else return Do(!0)}const X1e=qn({eager:Boolean},"lazy");function J1e(t,r){const i=Do(!1),u=En(()=>i.value||t.eager||r.value);Fn(r,()=>i.value=!0);function m(){t.eager||(i.value=!1)}return{isBooted:i,hasContent:u,onAfterLeave:m}}function d8(){const r=wc("useScopeId").vnode.scopeId;return{scopeId:r?{[r]:""}:void 0}}const oX=Symbol.for("vuetify:stack"),wR=Oc([]);function Q1e(t,r,i){const u=wc("useStack"),m=!i,h=Ea(oX,void 0),x=Oc({activeChildren:new Set});Kf(oX,x);const w=Do(Number(Pv(r)));Jh(t,()=>{var M;const A=(M=wR.at(-1))==null?void 0:M[1];w.value=A?A+10:Number(Pv(r)),m&&wR.push([u.uid,w.value]),h==null||h.activeChildren.add(u.uid),tu(()=>{if(m){const H=Ns(wR).findIndex(K=>K[0]===u.uid);wR.splice(H,1)}h==null||h.activeChildren.delete(u.uid)})});const R=Do(!0);m&&Wf(()=>{var M;const A=((M=wR.at(-1))==null?void 0:M[0])===u.uid;setTimeout(()=>R.value=A)});const P=En(()=>!x.activeChildren.size);return{globalTop:FE(R),localTop:P,stackStyles:En(()=>({zIndex:w.value}))}}function eye(t){return{teleportTarget:Mt(()=>{const i=t();if(i===!0||!_i)return;const u=i===!1?document.body:typeof i=="string"?document.querySelector(i):i;if(u==null)return;let m=[...u.children].find(h=>h.matches(".v-overlay-container"));return m||(m=document.createElement("div"),m.className="v-overlay-container",u.appendChild(m)),m})}}function tye(){return!0}function mte(t,r,i){if(!t||gte(t,i)===!1)return!1;const u=AQ(r);if(typeof ShadowRoot<"u"&&u instanceof ShadowRoot&&u.host===t.target)return!1;const m=(typeof i.value=="object"&&i.value.include||(()=>[]))();return m.push(r),!m.some(h=>h==null?void 0:h.contains(t.target))}function gte(t,r){return(typeof r.value=="object"&&r.value.closeConditional||tye)(t)}function nye(t,r,i){const u=typeof i.value=="function"?i.value:i.value.handler;t.shadowTarget=t.target,r._clickOutside.lastMousedownWasOutside&&mte(t,r,i)&&setTimeout(()=>{gte(t,i)&&u&&u(t)},0)}function sX(t,r){const i=AQ(t);r(document),typeof ShadowRoot<"u"&&i instanceof ShadowRoot&&r(i)}const rX={mounted(t,r){const i=m=>nye(m,t,r),u=m=>{t._clickOutside.lastMousedownWasOutside=mte(m,t,r)};sX(t,m=>{m.addEventListener("click",i,!0),m.addEventListener("mousedown",u,!0)}),t._clickOutside||(t._clickOutside={lastMousedownWasOutside:!1}),t._clickOutside[r.instance.$.uid]={onClick:i,onMousedown:u}},beforeUnmount(t,r){t._clickOutside&&(sX(t,i=>{var h;if(!i||!((h=t._clickOutside)!=null&&h[r.instance.$.uid]))return;const{onClick:u,onMousedown:m}=t._clickOutside[r.instance.$.uid];i.removeEventListener("click",u,!0),i.removeEventListener("mousedown",m,!0)}),delete t._clickOutside[r.instance.$.uid])}};function oye(t){const{modelValue:r,color:i,...u}=t;return ce(jx,{name:"fade-transition",appear:!0},{default:()=>[t.modelValue&&ie("div",Xo({class:["v-overlay__scrim",t.color.backgroundColorClasses.value],style:t.color.backgroundColorStyles.value},u),null)]})}const hK=qn({absolute:Boolean,attach:[Boolean,String,Object],closeOnBack:{type:Boolean,default:!0},contained:Boolean,contentClass:null,contentProps:null,disabled:Boolean,opacity:[Number,String],noClickAnimation:Boolean,modelValue:Boolean,persistent:Boolean,scrim:{type:[Boolean,String],default:!0},zIndex:{type:[Number,String],default:2e3},...Z1e(),...or(),...bb(),...X1e(),...L1e(),...H1e(),...sc(),...ZE()},"VOverlay"),AF=ts()({name:"VOverlay",directives:{vClickOutside:rX},inheritAttrs:!1,props:{_disableGlobalStack:Boolean,...hK()},emits:{"click:outside":t=>!0,"update:modelValue":t=>!0,keydown:t=>!0,afterEnter:()=>!0,afterLeave:()=>!0},setup(t,r){let{slots:i,attrs:u,emit:m}=r;const h=wc("VOverlay"),x=Ln(),w=Ln(),R=Ln(),P=ia(t,"modelValue"),A=Mt({get:()=>P.value,set:Qt=>{Qt&&t.disabled||(P.value=Qt)}}),{themeClasses:M}=nu(t),{rtlClasses:H,isRtl:K}=ep(),{hasContent:G,onAfterLeave:te}=J1e(t,A),re=db(()=>typeof t.scrim=="string"?t.scrim:null),{globalTop:W,localTop:ge,stackStyles:he}=Q1e(A,()=>t.zIndex,t._disableGlobalStack),{activatorEl:j,activatorRef:me,target:oe,targetEl:Ce,targetRef:Ue,activatorEvents:et,contentEvents:dt,scrimEvents:Me}=G1e(t,{isActive:A,isTop:ge,contentEl:R}),{teleportTarget:Ne}=eye(()=>{var vo,nn,yn;const Qt=t.attach||t.contained;if(Qt)return Qt;const ee=((vo=j==null?void 0:j.value)==null?void 0:vo.getRootNode())||((yn=(nn=h.proxy)==null?void 0:nn.$el)==null?void 0:yn.getRootNode());return ee instanceof ShadowRoot?ee:!1}),{dimensionStyles:I}=vb(t),st=Y1e(),{scopeId:it}=d8();Fn(()=>t.disabled,Qt=>{Qt&&(A.value=!1)});const{contentStyles:Ft,updateLocation:Yt}=B1e(t,{isRtl:K,contentEl:R,target:oe,isActive:A});U1e(t,{root:x,contentEl:R,targetEl:Ce,isActive:A,updateLocation:Yt});function mt(Qt){m("click:outside",Qt),t.persistent?Yn():A.value=!1}function Rn(Qt){return A.value&&W.value&&(!t.scrim||Qt.target===w.value||Qt instanceof MouseEvent&&Qt.shadowTarget===w.value)}_i&&Fn(A,Qt=>{Qt?window.addEventListener("keydown",Ot):window.removeEventListener("keydown",Ot)},{immediate:!0}),Du(()=>{_i&&window.removeEventListener("keydown",Ot)});function Ot(Qt){var ee,vo,nn;Qt.key==="Escape"&&W.value&&((ee=R.value)!=null&&ee.contains(document.activeElement)||m("keydown",Qt),t.persistent?Yn():(A.value=!1,(vo=R.value)!=null&&vo.contains(document.activeElement)&&((nn=j.value)==null||nn.focus())))}function at(Qt){Qt.key==="Escape"&&!W.value||m("keydown",Qt)}const Ve=Zee();Jh(()=>t.closeOnBack,()=>{h1e(Ve,Qt=>{W.value&&A.value?(Qt(!1),t.persistent?Yn():A.value=!1):Qt()})});const bt=Ln();Fn(()=>A.value&&(t.absolute||t.contained)&&Ne.value==null,Qt=>{if(Qt){const ee=OQ(x.value);ee&&ee!==document.scrollingElement&&(bt.value=ee.scrollTop)}});function Yn(){t.noClickAnimation||R.value&&pE(R.value,[{transformOrigin:"center"},{transform:"scale(1.03)"},{transformOrigin:"center"}],{duration:150,easing:gF})}function Xt(){m("afterEnter")}function Bn(){te(),m("afterLeave")}return $s(()=>{var Qt;return ie(ms,null,[(Qt=i.activator)==null?void 0:Qt.call(i,{isActive:A.value,targetRef:Ue,props:Xo({ref:me},et.value,t.activatorProps)}),st.value&&G.value&&ce(Sfe,{disabled:!Ne.value,to:Ne.value},{default:()=>[ie("div",Xo({class:["v-overlay",{"v-overlay--absolute":t.absolute||t.contained,"v-overlay--active":A.value,"v-overlay--contained":t.contained},M.value,H.value,t.class],style:[he.value,{"--v-overlay-opacity":t.opacity,top:Fs(bt.value)},t.style],ref:x,onKeydown:at},it,u),[ce(oye,Xo({color:re,modelValue:A.value&&!!t.scrim,ref:w},Me.value),null),ce($x,{appear:!0,persisted:!0,transition:t.transition,target:oe.value,onAfterEnter:Xt,onAfterLeave:Bn},{default:()=>{var ee;return[Zn(ie("div",Xo({ref:R,class:["v-overlay__content",t.contentClass],style:[I.value,Ft.value]},dt.value,t.contentProps),[(ee=i.default)==null?void 0:ee.call(i,{isActive:A})]),[[Co,A.value],[rX,{handler:mt,closeConditional:Rn,include:()=>[j.value]}]])]}})])]})])}),{activatorEl:j,scrimEl:w,target:oe,animateClick:Yn,contentEl:R,globalTop:W,localTop:ge,updateLocation:Yt}}}),vU=Symbol("Forwarded refs");function yU(t,r){let i=t;for(;i;){const u=Reflect.getOwnPropertyDescriptor(i,r);if(u)return u;i=Object.getPrototypeOf(i)}}function Jx(t){for(var r=arguments.length,i=new Array(r>1?r-1:0),u=1;u<r;u++)i[u-1]=arguments[u];return t[vU]=i,new Proxy(t,{get(m,h){if(Reflect.has(m,h))return Reflect.get(m,h);if(!(typeof h=="symbol"||h.startsWith("$")||h.startsWith("__"))){for(const x of i)if(x.value&&Reflect.has(x.value,h)){const w=Reflect.get(x.value,h);return typeof w=="function"?w.bind(x.value):w}}},has(m,h){if(Reflect.has(m,h))return!0;if(typeof h=="symbol"||h.startsWith("$")||h.startsWith("__"))return!1;for(const x of i)if(x.value&&Reflect.has(x.value,h))return!0;return!1},set(m,h,x){if(Reflect.has(m,h))return Reflect.set(m,h,x);if(typeof h=="symbol"||h.startsWith("$")||h.startsWith("__"))return!1;for(const w of i)if(w.value&&Reflect.has(w.value,h))return Reflect.set(w.value,h,x);return!1},getOwnPropertyDescriptor(m,h){var w;const x=Reflect.getOwnPropertyDescriptor(m,h);if(x)return x;if(!(typeof h=="symbol"||h.startsWith("$")||h.startsWith("__"))){for(const R of i){if(!R.value)continue;const P=yU(R.value,h)??("_"in R.value?yU((w=R.value._)==null?void 0:w.setupState,h):void 0);if(P)return P}for(const R of i){const P=R.value&&R.value[vU];if(!P)continue;const A=P.slice();for(;A.length;){const M=A.shift(),H=yU(M.value,h);if(H)return H;const K=M.value&&M.value[vU];K&&A.push(...K)}}}}})}const sye=qn({fullscreen:Boolean,retainFocus:{type:Boolean,default:!0},scrollable:Boolean,...hK({origin:"center center",scrollStrategy:"block",transition:{component:gK},zIndex:2400})},"VDialog"),Ng=ts()({name:"VDialog",props:sye(),emits:{"update:modelValue":t=>!0,afterEnter:()=>!0,afterLeave:()=>!0},setup(t,r){let{emit:i,slots:u}=r;const m=ia(t,"modelValue"),{scopeId:h}=d8(),x=Ln();function w(A){var K,G;const M=A.relatedTarget,H=A.target;if(M!==H&&((K=x.value)!=null&&K.contentEl)&&((G=x.value)!=null&&G.globalTop)&&![document,x.value.contentEl].includes(H)&&!x.value.contentEl.contains(H)){const te=UR(x.value.contentEl);if(!te.length)return;const re=te[0],W=te[te.length-1];M===re?W.focus():re.focus()}}Du(()=>{document.removeEventListener("focusin",w)}),_i&&Fn(()=>m.value&&t.retainFocus,A=>{A?document.addEventListener("focusin",w):document.removeEventListener("focusin",w)},{immediate:!0});function R(){var A;i("afterEnter"),(t.scrim||t.retainFocus)&&((A=x.value)!=null&&A.contentEl)&&!x.value.contentEl.contains(document.activeElement)&&x.value.contentEl.focus({preventScroll:!0})}function P(){i("afterLeave")}return Fn(m,async A=>{var M;A||(await ys(),(M=x.value.activatorEl)==null||M.focus({preventScroll:!0}))}),$s(()=>{const A=AF.filterProps(t),M=Xo({"aria-haspopup":"dialog"},t.activatorProps),H=Xo({tabindex:-1},t.contentProps);return ce(AF,Xo({ref:x,class:["v-dialog",{"v-dialog--fullscreen":t.fullscreen,"v-dialog--scrollable":t.scrollable},t.class],style:t.style},A,{modelValue:m.value,"onUpdate:modelValue":K=>m.value=K,"aria-modal":"true",activatorProps:M,contentProps:H,height:t.fullscreen?void 0:t.height,width:t.fullscreen?void 0:t.width,maxHeight:t.fullscreen?void 0:t.maxHeight,maxWidth:t.fullscreen?void 0:t.maxWidth,role:"dialog",onAfterEnter:R,onAfterLeave:P},h),{activator:u.activator,default:function(){for(var K=arguments.length,G=new Array(K),te=0;te<K;te++)G[te]=arguments[te];return ce(ul,{root:"VDialog"},{default:()=>{var re;return[(re=u.default)==null?void 0:re.call(u,...G)]}})}})}),Jx({},x)}}),rye=qn({fixedHeader:Boolean,fixedFooter:Boolean,height:[Number,String],hover:Boolean,striped:{type:String,default:null,validator:t=>["even","odd"].includes(t)},...or(),...tp(),...Wa(),...sc()},"VTable"),ab=ts()({name:"VTable",props:rye(),setup(t,r){let{slots:i,emit:u}=r;const{themeClasses:m}=nu(t),{densityClasses:h}=pb(t);return $s(()=>ce(t.tag,{class:xo(["v-table",{"v-table--fixed-height":!!t.height,"v-table--fixed-header":t.fixedHeader,"v-table--fixed-footer":t.fixedFooter,"v-table--has-top":!!i.top,"v-table--has-bottom":!!i.bottom,"v-table--hover":t.hover,"v-table--striped-even":t.striped==="even","v-table--striped-odd":t.striped==="odd"},m.value,h.value,t.class]),style:Qs(t.style)},{default:()=>{var x,w,R;return[(x=i.top)==null?void 0:x.call(i),i.default?ie("div",{class:"v-table__wrapper",style:{height:Fs(t.height)}},[ie("table",null,[i.default()])]):(w=i.wrapper)==null?void 0:w.call(i),(R=i.bottom)==null?void 0:R.call(i)]}})),{}}}),iye={width:"50%"},aye={width:"50%"},lye={width:"50%"},cye={width:"50%"},uye={width:"50%"},dye={width:"50%"},fye={width:"50%"},mye={width:"50%"},gye={__name:"Help",setup(t){const r=Ee.layout();return(i,u)=>(Jt(),mo(ms,null,[ce(Io,{class:"app-header-item",onClick:u[0]||(u[0]=m=>ne(r).showHelp=!0)},{default:xt(()=>[ce(Gn,{left:"",icon:"mdi-keyboard-outline"}),Cs(" "+He(i.$t("helpButton")),1)]),_:1}),ce(Ng,{modelValue:ne(r).showHelp,"onUpdate:modelValue":u[2]||(u[2]=m=>ne(r).showHelp=m),"max-width":"1000"},{default:xt(()=>[ce(Pg,null,{default:xt(()=>[ce(Mm,null,{default:xt(()=>[ie("h1",null,He(i.$t("helpGeneralNavigation")),1),ce(ab,null,{default:xt(()=>[ie("thead",null,[ie("tr",null,[ie("th",iye,He(i.$t("helpAction")),1),ie("th",aye,He(i.$t("helpShortcut")),1)])]),ie("tbody",null,[ie("tr",null,[ie("td",null,He(i.$t("helpNextElement")),1),ie("td",null,He(i.$t("helpKeyTab")),1)]),ie("tr",null,[ie("td",null,He(i.$t("helpPreviousElement")),1),ie("td",null,He(i.$t("helpKeyShiftTab")),1)]),ie("tr",null,[ie("td",null,He(i.$t("helpHeaderButtons")),1),ie("td",null,He(i.$t("helpKeyAlt0")),1)]),ie("tr",null,[ie("td",null,He(i.$t("helpNavigationButtons")),1),ie("td",null,He(i.$t("helpKeyAltNum")),1)]),ie("tr",null,[ie("td",null,He(i.$t("helpContentLeftColumn")),1),ie("td",null,He(i.$t("helpKeyAlt1")),1)]),ie("tr",null,[ie("td",null,He(i.$t("helpContentRightColumn")),1),ie("td",null,He(i.$t("helpKeyAlt2")),1)])])]),_:1}),ie("h1",null,He(i.$t("helpEssay")),1),ce(ab,null,{default:xt(()=>[ie("thead",null,[ie("tr",null,[ie("th",lye,He(i.$t("helpAction")),1),ie("th",cye,He(i.$t("helpShortcut")),1)])]),ie("tbody",null,[ie("tr",null,[ie("td",null,He(i.$t("helpEssayMoveCursor")),1),ie("td",null,He(i.$t("helpKeysArrows")),1)]),ie("tr",null,[ie("td",null,He(i.$t("helpEssaySelectText")),1),ie("td",null,He(i.$t("helpKeysShiftArrows")),1)]),ie("tr",null,[ie("td",null,He(i.$t("helpEssayUnselectText")),1),ie("td",null,He(i.$t("helpKeyEsc")),1)]),ie("tr",null,[ie("td",null,He(i.$t("helpEssayCreateComment")),1),ie("td",null,He(i.$t("helpKeyReturnWhenSelected")),1)]),ie("tr",null,[ie("td",null,He(i.$t("helpEssayJumpToComment")),1),ie("td",null,He(i.$t("helpKeyReturnWhenNotSelected")),1)])])]),_:1}),ie("h1",null,He(i.$t("helpComments")),1),ce(ab,null,{default:xt(()=>[ie("thead",null,[ie("tr",null,[ie("th",uye,He(i.$t("helpAction")),1),ie("th",dye,He(i.$t("helpShortcut")),1)])]),ie("tbody",null,[ie("tr",null,[ie("td",null,He(i.$t("helpCommentsSelect")),1),ie("td",null,He(i.$t("helpKeyReturnOnFocusedLabel")),1)]),ie("tr",null,[ie("td",null,He(i.$t("helpCommentsJumpToMark")),1),ie("td",null,He(i.$t("helpKeyAltReturn")),1)]),ie("tr",null,[ie("td",null,He(i.$t("helpCommentsJumpToCriteria")),1),ie("td",null,He(i.$t("helpKeyReturnOnFocusedPoints")),1)]),ie("tr",null,[ie("td",null,He(i.$t("helpCommentsReturnFromCriteria")),1),ie("td",null,He(i.$t("helpKeyEsc")),1)]),ie("tr",null,[ie("td",null,He(i.$t("helpCommentsDelete")),1),ie("td",null,He(i.$t("helpKeyAltDel")),1)]),ie("tr",null,[ie("td",null,He(i.$t("helpSnippetsOpen")),1),ie("td",null,He(i.$t("helpKeyF1")),1)]),ie("tr",null,[ie("td",null,He(i.$t("helpSnippetsApply")),1),ie("td",null,He(i.$t("helpKeyF1InSnippets")),1)])])]),_:1}),ie("h1",null,He(i.$t("helpEditorNavigation")),1),ce(ab,null,{default:xt(()=>[ie("thead",null,[ie("tr",null,[ie("th",fye,He(i.$t("helpAction")),1),ie("th",mye,He(i.$t("helpShortcut")),1)])]),ie("tbody",null,[ie("tr",null,[ie("td",null,He(i.$t("helpToolbarFocusIn")),1),ie("td",null,He(i.$t("helpKeyAltF10")),1)]),ie("tr",null,[ie("td",null,He(i.$t("helpToolbarFocusOut")),1),ie("td",null,He(i.$t("helpKeyEsc")),1)]),ie("tr",null,[ie("td",null,He(i.$t("helpToolbarNavigate")),1),ie("td",null,He(i.$t("helpKeysLeftRight")),1)]),ie("tr",null,[ie("td",null,He(i.$t("helpPopupBlockFormatsShow")),1),ie("td",null,He(i.$t("helpKeyReturn")),1)]),ie("tr",null,[ie("td",null,He(i.$t("helpPopupBlockFormatsNavigate")),1),ie("td",null,He(i.$t("helpKeysUpDown")),1)]),ie("tr",null,[ie("td",null,He(i.$t("helpPopupBlockFormatsSelect")),1),ie("td",null,He(i.$t("helpKeyReturn")),1)]),ie("tr",null,[ie("td",null,He(i.$t("helpPopupBlockFormatsClose")),1),ie("td",null,He(i.$t("helpKeyEsc")),1)])])]),_:1}),u[4]||(u[4]=ie("h1",null,"Tastenbefehle im Gutachten",-1)),ce(ab,null,{default:xt(()=>[u[3]||(u[3]=ie("thead",null,[ie("tr",null,[ie("th",{width:"50%"},"Aktion"),ie("th",{width:"50%"},"Tastenkombination")])],-1)),ie("tbody",null,[ie("tr",null,[ie("td",null,He(i.$t("helpCommandBold")),1),ie("td",null,He(i.$t("Ctrl + B")),1)]),ie("tr",null,[ie("td",null,He(i.$t("helpCommandItalic")),1),ie("td",null,He(i.$t("helpKeyCtrlI")),1)]),ie("tr",null,[ie("td",null,He(i.$t("helpCommundUnderline")),1),ie("td",null,He(i.$t("Ctrl + U")),1)]),ie("tr",null,[ie("td",null,He(i.$t("helpCommandSelectAll")),1),ie("td",null,He(i.$t("Ctrl + A")),1)]),ie("tr",null,[ie("td",null,He(i.$t("helpCommandRedo")),1),ie("td",null,He(i.$t("helpKeyCtrlYOrCtrlShiftZ")),1)]),ie("tr",null,[ie("td",null,He(i.$t("Rckgngig machen")),1),ie("td",null,He(i.$t("Ctrl + Z")),1)]),ie("tr",null,[ie("td",null,He(i.$t("helpCommandH1")),1),ie("td",null,He(i.$t("helpKeyShiftAlt1")),1)]),ie("tr",null,[ie("td",null,He(i.$t("helpCommandH2")),1),ie("td",null,He(i.$t("helpKeyShiftAlt2")),1)]),ie("tr",null,[ie("td",null,He(i.$t("helpCommandH3")),1),ie("td",null,He(i.$t("helpKeyShiftAlt3")),1)]),ie("tr",null,[ie("td",null,He(i.$t("helpCommandH4")),1),ie("td",null,He(i.$t("helpKeyShiftAlt4")),1)]),ie("tr",null,[ie("td",null,He(i.$t("helpCommandH5")),1),ie("td",null,He(i.$t("helpKeyShiftAlt5")),1)]),ie("tr",null,[ie("td",null,He(i.$t("helpCommandH6")),1),ie("td",null,He(i.$t("helpKeyShiftAlt6")),1)]),ie("tr",null,[ie("td",null,He(i.$t("helpCommandParagraph")),1),ie("td",null,He(i.$t("helpKeyShiftAlt7")),1)]),ie("tr",null,[ie("td",null,He(i.$t("helpSnippetsOpen")),1),ie("td",null,He(i.$t("helpKeyF1")),1)]),ie("tr",null,[ie("td",null,He(i.$t("helpSnippetsApply")),1),ie("td",null,He(i.$t("helpKeyF1InSnippets")),1)])])]),_:1,__:[3]})]),_:1,__:[4]}),ce(Nm,null,{default:xt(()=>[ce(Io,{onClick:u[1]||(u[1]=m=>ne(r).showHelp=!1)},{default:xt(()=>[ie("span",null,He(i.$t("helpCloseHelp")),1)]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}},hye=Ta(gye,[["__scopeId","data-v-7153d5db"]]),pye=qn({text:String,onClick:Bm(),...or(),...sc()},"VLabel"),hte=ts()({name:"VLabel",props:pye(),setup(t,r){let{slots:i}=r;return $s(()=>{var u;return ie("label",{class:xo(["v-label",{"v-label--clickable":!!t.onClick},t.class]),style:Qs(t.style),onClick:t.onClick},[t.text,(u=i.default)==null?void 0:u.call(i)])}),{}}}),pte=Symbol.for("vuetify:selection-control-group"),bte=qn({color:String,disabled:{type:Boolean,default:null},defaultsTarget:String,error:Boolean,id:String,inline:Boolean,falseIcon:fi,trueIcon:fi,ripple:{type:[Boolean,Object],default:!0},multiple:{type:Boolean,default:null},name:String,readonly:{type:Boolean,default:null},modelValue:null,type:String,valueComparator:{type:Function,default:Qh},...or(),...tp(),...sc()},"SelectionControlGroup"),bye=qn({...bte({defaultsTarget:"VSelectionControl"})},"VSelectionControlGroup");ts()({name:"VSelectionControlGroup",props:bye(),emits:{"update:modelValue":t=>!0},setup(t,r){let{slots:i}=r;const u=ia(t,"modelValue"),m=z1(),h=En(()=>t.id||`v-selection-control-group-${m}`),x=En(()=>t.name||h.value),w=new Set;return Kf(pte,{modelValue:u,forceUpdate:()=>{w.forEach(R=>R())},onForceUpdate:R=>{w.add(R),tu(()=>{w.delete(R)})}}),Yx({[t.defaultsTarget]:{color:En(()=>t.color),disabled:En(()=>t.disabled),density:En(()=>t.density),error:En(()=>t.error),inline:En(()=>t.inline),modelValue:u,multiple:En(()=>!!t.multiple||t.multiple==null&&Array.isArray(u.value)),name:x,falseIcon:En(()=>t.falseIcon),trueIcon:En(()=>t.trueIcon),readonly:En(()=>t.readonly),ripple:En(()=>t.ripple),type:En(()=>t.type),valueComparator:En(()=>t.valueComparator)}}),$s(()=>{var R;return ie("div",{class:xo(["v-selection-control-group",{"v-selection-control-group--inline":t.inline},t.class]),style:Qs(t.style),role:t.type==="radio"?"radiogroup":void 0},[(R=i.default)==null?void 0:R.call(i)])}),{}}});const vte=qn({label:String,baseColor:String,trueValue:null,falseValue:null,value:null,...or(),...bte()},"VSelectionControl");function vye(t){const r=Ea(pte,void 0),{densityClasses:i}=pb(t),u=ia(t,"modelValue"),m=Mt(()=>t.trueValue!==void 0?t.trueValue:t.value!==void 0?t.value:!0),h=Mt(()=>t.falseValue!==void 0?t.falseValue:!1),x=Mt(()=>!!t.multiple||t.multiple==null&&Array.isArray(u.value)),w=Mt({get(){const K=r?r.modelValue.value:u.value;return x.value?Kd(K).some(G=>t.valueComparator(G,m.value)):t.valueComparator(K,m.value)},set(K){if(t.readonly)return;const G=K?m.value:h.value;let te=G;x.value&&(te=K?[...Kd(u.value),G]:Kd(u.value).filter(re=>!t.valueComparator(re,m.value))),r?r.modelValue.value=te:u.value=te}}),{textColorClasses:R,textColorStyles:P}=gb(()=>{if(!(t.error||t.disabled))return w.value?t.color:t.baseColor}),{backgroundColorClasses:A,backgroundColorStyles:M}=db(()=>w.value&&!t.error&&!t.disabled?t.color:t.baseColor),H=Mt(()=>w.value?t.trueIcon:t.falseIcon);return{group:r,densityClasses:i,trueValue:m,falseValue:h,model:w,textColorClasses:R,textColorStyles:P,backgroundColorClasses:A,backgroundColorStyles:M,icon:H}}const iX=ts()({name:"VSelectionControl",directives:{vRipple:F1},inheritAttrs:!1,props:vte(),emits:{"update:modelValue":t=>!0},setup(t,r){let{attrs:i,slots:u}=r;const{group:m,densityClasses:h,icon:x,model:w,textColorClasses:R,textColorStyles:P,backgroundColorClasses:A,backgroundColorStyles:M,trueValue:H}=vye(t),K=z1(),G=Do(!1),te=Do(!1),re=Ln(),W=En(()=>t.id||`input-${K}`),ge=En(()=>!t.disabled&&!t.readonly);m==null||m.onForceUpdate(()=>{re.value&&(re.value.checked=w.value)});function he(Ce){ge.value&&(G.value=!0,OE(Ce.target,":focus-visible")!==!1&&(te.value=!0))}function j(){G.value=!1,te.value=!1}function me(Ce){Ce.stopPropagation()}function oe(Ce){if(!ge.value){re.value&&(re.value.checked=w.value);return}t.readonly&&m&&ys(()=>m.forceUpdate()),w.value=Ce.target.checked}return $s(()=>{var Me,Ne;const Ce=u.label?u.label({label:t.label,props:{for:W.value}}):t.label,[Ue,et]=hI(i),dt=ie("input",Xo({ref:re,checked:w.value,disabled:!!t.disabled,id:W.value,onBlur:j,onFocus:he,onInput:oe,"aria-disabled":!!t.disabled,"aria-label":t.label,type:t.type,value:H.value,name:t.name,"aria-checked":t.type==="checkbox"?w.value:void 0},et),null);return ie("div",Xo({class:["v-selection-control",{"v-selection-control--dirty":w.value,"v-selection-control--disabled":t.disabled,"v-selection-control--error":t.error,"v-selection-control--focused":G.value,"v-selection-control--focus-visible":te.value,"v-selection-control--inline":t.inline},h.value,t.class]},Ue,{style:t.style}),[ie("div",{class:xo(["v-selection-control__wrapper",R.value]),style:Qs(P.value)},[(Me=u.default)==null?void 0:Me.call(u,{backgroundColorClasses:A,backgroundColorStyles:M}),Zn(ie("div",{class:xo(["v-selection-control__input"])},[((Ne=u.input)==null?void 0:Ne.call(u,{model:w,textColorClasses:R,textColorStyles:P,backgroundColorClasses:A,backgroundColorStyles:M,inputNode:dt,icon:x.value,props:{onFocus:he,onBlur:j,id:W.value}}))??ie(ms,null,[x.value&&ce(Gn,{key:"icon",icon:x.value},null),dt])]),[[F1,t.ripple&&[!t.disabled&&!t.readonly,null,["center","circle"]]]])]),Ce&&ce(hte,{for:W.value,onClick:me},{default:()=>[Ce]})])}),{isFocused:G,input:re}}}),yte=qn({indeterminate:Boolean,indeterminateIcon:{type:fi,default:"$checkboxIndeterminate"},...vte({falseIcon:"$checkboxOff",trueIcon:"$checkboxOn"})},"VCheckboxBtn"),OF=ts()({name:"VCheckboxBtn",props:yte(),emits:{"update:modelValue":t=>!0,"update:indeterminate":t=>!0},setup(t,r){let{slots:i}=r;const u=ia(t,"indeterminate"),m=ia(t,"modelValue");function h(R){u.value&&(u.value=!1)}const x=En(()=>u.value?t.indeterminateIcon:t.falseIcon),w=En(()=>u.value?t.indeterminateIcon:t.trueIcon);return $s(()=>{const R=qx(iX.filterProps(t),["modelValue"]);return ce(iX,Xo(R,{modelValue:m.value,"onUpdate:modelValue":[P=>m.value=P,h],class:["v-checkbox-btn",t.class],style:t.style,type:"checkbox",falseIcon:x.value,trueIcon:w.value,"aria-checked":u.value?"mixed":void 0}),i)}),{}}});function xte(t){const{t:r}=zE();function i(u){let{name:m,color:h,...x}=u;const w={prepend:"prependAction",prependInner:"prependAction",append:"appendAction",appendInner:"appendAction",clear:"clear"}[m],R=t[`onClick:${m}`];function P(M){M.key!=="Enter"&&M.key!==" "||(M.preventDefault(),M.stopPropagation(),ZF(R,new PointerEvent("click",M)))}const A=R&&w?r(`$vuetify.input.${w}`,t.label??""):void 0;return ce(Gn,Xo({icon:t[`${m}Icon`],"aria-label":A,onClick:R,onKeydown:P,color:h},x),null)}return{InputIcon:i}}const yye=qn({active:Boolean,color:String,messages:{type:[Array,String],default:()=>[]},...or(),...ZE({transition:{component:rte,leaveAbsolute:!0,group:!0}})},"VMessages"),xye=ts()({name:"VMessages",props:yye(),setup(t,r){let{slots:i}=r;const u=Mt(()=>Kd(t.messages)),{textColorClasses:m,textColorStyles:h}=gb(()=>t.color);return $s(()=>ce($x,{transition:t.transition,tag:"div",class:xo(["v-messages",m.value,t.class]),style:Qs([h.value,t.style])},{default:()=>[t.active&&u.value.map((x,w)=>ie("div",{class:"v-messages__message",key:`${w}-${u.value}`},[i.message?i.message({message:x}):x]))]})),{}}}),wte=qn({focused:Boolean,"onUpdate:focused":Bm()},"focus");function CI(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Bv();const i=ia(t,"focused"),u=En(()=>({[`${r}--focused`]:i.value}));function m(){i.value=!0}function h(){i.value=!1}return{focusClasses:u,isFocused:i,focus:m,blur:h}}const wye=Symbol.for("vuetify:form");function pK(t){const r=Ea(wye,null);return{...r,isReadonly:Mt(()=>!!((t==null?void 0:t.readonly)??(r==null?void 0:r.isReadonly.value))),isDisabled:Mt(()=>!!((t==null?void 0:t.disabled)??(r==null?void 0:r.isDisabled.value)))}}const Cye=Symbol.for("vuetify:rules");function Sye(t){const r=Ea(Cye,null);return r?r(t):En(t)}const _ye=qn({disabled:{type:Boolean,default:null},error:Boolean,errorMessages:{type:[Array,String],default:()=>[]},maxErrors:{type:[Number,String],default:1},name:String,label:String,readonly:{type:Boolean,default:null},rules:{type:Array,default:()=>[]},modelValue:null,validateOn:String,validationValue:null,...wte()},"validation");function kye(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Bv(),i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:z1();const u=ia(t,"modelValue"),m=Mt(()=>t.validationValue===void 0?u.value:t.validationValue),h=pK(t),x=Sye(()=>t.rules),w=Ln([]),R=Do(!0),P=Mt(()=>!!(Kd(u.value===""?null:u.value).length||Kd(m.value===""?null:m.value).length)),A=Mt(()=>{var j;return(j=t.errorMessages)!=null&&j.length?Kd(t.errorMessages).concat(w.value).slice(0,Math.max(0,Number(t.maxErrors))):w.value}),M=Mt(()=>{var oe;let j=(t.validateOn??((oe=h.validateOn)==null?void 0:oe.value))||"input";j==="lazy"&&(j="input lazy"),j==="eager"&&(j="input eager");const me=new Set((j==null?void 0:j.split(" "))??[]);return{input:me.has("input"),blur:me.has("blur")||me.has("input")||me.has("invalid-input"),invalidInput:me.has("invalid-input"),lazy:me.has("lazy"),eager:me.has("eager")}}),H=Mt(()=>{var j;return t.error||(j=t.errorMessages)!=null&&j.length?!1:t.rules.length?R.value?w.value.length||M.value.lazy?null:!0:!w.value.length:!0}),K=Do(!1),G=Mt(()=>({[`${r}--error`]:H.value===!1,[`${r}--dirty`]:P.value,[`${r}--disabled`]:h.isDisabled.value,[`${r}--readonly`]:h.isReadonly.value})),te=wc("validation"),re=Mt(()=>t.name??ne(i));fI(()=>{var j;(j=h.register)==null||j.call(h,{id:re.value,vm:te,validate:he,reset:W,resetValidation:ge})}),Du(()=>{var j;(j=h.unregister)==null||j.call(h,re.value)}),Zd(async()=>{var j;M.value.lazy||await he(!M.value.eager),(j=h.update)==null||j.call(h,re.value,H.value,A.value)}),Jh(()=>M.value.input||M.value.invalidInput&&H.value===!1,()=>{Fn(m,()=>{if(m.value!=null)he();else if(t.focused){const j=Fn(()=>t.focused,me=>{me||he(),j()})}})}),Jh(()=>M.value.blur,()=>{Fn(()=>t.focused,j=>{j||he()})}),Fn([H,A],()=>{var j;(j=h.update)==null||j.call(h,re.value,H.value,A.value)});async function W(){u.value=null,await ys(),await ge()}async function ge(){R.value=!0,M.value.lazy?w.value=[]:await he(!M.value.eager)}async function he(){let j=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;const me=[];K.value=!0;for(const oe of x.value){if(me.length>=Number(t.maxErrors??1))break;const Ue=await(typeof oe=="function"?oe:()=>oe)(m.value);if(Ue!==!0){if(Ue!==!1&&typeof Ue!="string"){console.warn(`${Ue} is not a valid value. Rule functions must return boolean true or a string.`);continue}me.push(Ue||"")}}return w.value=me,K.value=!1,R.value=j,w.value}return{errorMessages:A,isDirty:P,isDisabled:h.isDisabled,isReadonly:h.isReadonly,isPristine:R,isValid:H,isValidating:K,reset:W,resetValidation:ge,validate:he,validationClasses:G}}const SI=qn({id:String,appendIcon:fi,baseColor:String,centerAffix:{type:Boolean,default:!0},color:String,glow:Boolean,iconColor:[Boolean,String],prependIcon:fi,hideDetails:[Boolean,String],hideSpinButtons:Boolean,hint:String,persistentHint:Boolean,messages:{type:[Array,String],default:()=>[]},direction:{type:String,default:"horizontal",validator:t=>["horizontal","vertical"].includes(t)},"onClick:prepend":Bm(),"onClick:append":Bm(),...or(),...tp(),...jF(bb(),["maxWidth","minWidth","width"]),...sc(),..._ye()},"VInput"),Gx=ts()({name:"VInput",props:{...SI()},emits:{"update:modelValue":t=>!0},setup(t,r){let{attrs:i,slots:u,emit:m}=r;const{densityClasses:h}=pb(t),{dimensionStyles:x}=vb(t),{themeClasses:w}=nu(t),{rtlClasses:R}=ep(),{InputIcon:P}=xte(t),A=z1(),M=Mt(()=>t.id||`input-${A}`),H=Mt(()=>`${M.value}-messages`),{errorMessages:K,isDirty:G,isDisabled:te,isReadonly:re,isPristine:W,isValid:ge,isValidating:he,reset:j,resetValidation:me,validate:oe,validationClasses:Ce}=kye(t,"v-input",M),Ue=Mt(()=>({id:M,messagesId:H,isDirty:G,isDisabled:te,isReadonly:re,isPristine:W,isValid:ge,isValidating:he,reset:j,resetValidation:me,validate:oe})),et=En(()=>t.error||t.disabled?void 0:t.focused?t.color:t.baseColor),dt=En(()=>{if(t.iconColor)return t.iconColor===!0?et.value:t.iconColor}),Me=Mt(()=>{var Ne;return(Ne=t.errorMessages)!=null&&Ne.length||!W.value&&K.value.length?K.value:t.hint&&(t.persistentHint||t.focused)?t.hint:t.messages});return $s(()=>{var Ft,Yt,mt,Rn;const Ne=!!(u.prepend||t.prependIcon),I=!!(u.append||t.appendIcon),st=Me.value.length>0,it=!t.hideDetails||t.hideDetails==="auto"&&(st||!!u.details);return ie("div",{class:xo(["v-input",`v-input--${t.direction}`,{"v-input--center-affix":t.centerAffix,"v-input--focused":t.focused,"v-input--glow":t.glow,"v-input--hide-spin-buttons":t.hideSpinButtons},h.value,w.value,R.value,Ce.value,t.class]),style:Qs([x.value,t.style])},[Ne&&ie("div",{key:"prepend",class:"v-input__prepend"},[(Ft=u.prepend)==null?void 0:Ft.call(u,Ue.value),t.prependIcon&&ce(P,{key:"prepend-icon",name:"prepend",color:dt.value},null)]),u.default&&ie("div",{class:"v-input__control"},[(Yt=u.default)==null?void 0:Yt.call(u,Ue.value)]),I&&ie("div",{key:"append",class:"v-input__append"},[t.appendIcon&&ce(P,{key:"append-icon",name:"append",color:dt.value},null),(mt=u.append)==null?void 0:mt.call(u,Ue.value)]),it&&ie("div",{id:H.value,class:"v-input__details",role:"alert","aria-live":"polite"},[ce(xye,{active:st,messages:Me.value},{message:u.message}),(Rn=u.details)==null?void 0:Rn.call(u,Ue.value)])])}),{reset:j,resetValidation:me,validate:oe,isValid:ge,errorMessages:K}}}),Eye=qn({...SI(),...qx(yte(),["inline"])},"VCheckbox"),Tye=ts()({name:"VCheckbox",inheritAttrs:!1,props:Eye(),emits:{"update:modelValue":t=>!0,"update:focused":t=>!0},setup(t,r){let{attrs:i,slots:u}=r;const m=ia(t,"modelValue"),{isFocused:h,focus:x,blur:w}=CI(t),R=Ln(),P=z1();return $s(()=>{const[A,M]=hI(i),H=Gx.filterProps(t),K=OF.filterProps(t);return ce(Gx,Xo({ref:R,class:["v-checkbox",t.class]},A,H,{modelValue:m.value,"onUpdate:modelValue":G=>m.value=G,id:t.id||`checkbox-${P}`,focused:h.value,style:t.style}),{...u,default:G=>{let{id:te,messagesId:re,isDisabled:W,isReadonly:ge,isValid:he}=G;return ce(OF,Xo(K,{id:te.value,"aria-describedby":re.value,disabled:W.value,readonly:ge.value},M,{error:he.value===!1,modelValue:m.value,"onUpdate:modelValue":j=>m.value=j,onFocus:x,onBlur:w}),u)}})}),Jx({},R)}});function Aye(t){let{selectedElement:r,containerElement:i,isRtl:u,isHorizontal:m}=t;const h=JR(m,i),x=Cte(m,u,i),w=JR(m,r),R=Ste(m,r),P=w*.4;return x>R?R-P:x+h<R+w?R-h+w+P:x}function Oye(t){let{selectedElement:r,containerElement:i,isHorizontal:u}=t;const m=JR(u,i),h=Ste(u,r),x=JR(u,r);return h-m/2+x/2}function aX(t,r){const i=t?"scrollWidth":"scrollHeight";return(r==null?void 0:r[i])||0}function Rye(t,r){const i=t?"clientWidth":"clientHeight";return(r==null?void 0:r[i])||0}function Cte(t,r,i){if(!i)return 0;const{scrollLeft:u,offsetWidth:m,scrollWidth:h}=i;return t?r?h-m+u:u:i.scrollTop}function JR(t,r){const i=t?"offsetWidth":"offsetHeight";return(r==null?void 0:r[i])||0}function Ste(t,r){const i=t?"offsetLeft":"offsetTop";return(r==null?void 0:r[i])||0}const Iye=Symbol.for("vuetify:v-slide-group"),_te=qn({centerActive:Boolean,contentClass:null,direction:{type:String,default:"horizontal"},symbol:{type:null,default:Iye},nextIcon:{type:fi,default:"$next"},prevIcon:{type:fi,default:"$prev"},showArrows:{type:[Boolean,String],validator:t=>typeof t=="boolean"||["always","desktop","mobile"].includes(t)},...or(),...BQ({mobile:null}),...Wa(),...lK({selectedClass:"v-slide-group-item--active"})},"VSlideGroup"),lX=ts()({name:"VSlideGroup",props:_te(),emits:{"update:modelValue":t=>!0},setup(t,r){let{slots:i}=r;const{isRtl:u}=ep(),{displayClasses:m,mobile:h}=YF(t),x=cK(t,t.symbol),w=Do(!1),R=Do(0),P=Do(0),A=Do(0),M=Mt(()=>t.direction==="horizontal"),{resizeRef:H,contentRect:K}=IE(),{resizeRef:G,contentRect:te}=IE(),re=Fhe(),W=Mt(()=>({container:H.el,duration:200,easing:"easeOutQuart"})),ge=Mt(()=>x.selected.value.length?x.items.value.findIndex(at=>at.id===x.selected.value[0]):-1),he=Mt(()=>x.selected.value.length?x.items.value.findIndex(at=>at.id===x.selected.value[x.selected.value.length-1]):-1);if(_i){let at=-1;Fn(()=>[x.selected.value,K.value,te.value,M.value],()=>{cancelAnimationFrame(at),at=requestAnimationFrame(()=>{if(K.value&&te.value){const Ve=M.value?"width":"height";P.value=K.value[Ve],A.value=te.value[Ve],w.value=P.value+1<A.value}if(ge.value>=0&&G.el){const Ve=G.el.children[he.value];me(Ve,t.centerActive)}})})}const j=Do(!1);function me(at,Ve){let bt=0;Ve?bt=Oye({containerElement:H.el,isHorizontal:M.value,selectedElement:at}):bt=Aye({containerElement:H.el,isHorizontal:M.value,isRtl:u.value,selectedElement:at}),oe(bt)}function oe(at){if(!_i||!H.el)return;const Ve=JR(M.value,H.el),bt=Cte(M.value,u.value,H.el);if(!(aX(M.value,H.el)<=Ve||Math.abs(at-bt)<16)){if(M.value&&u.value&&H.el){const{scrollWidth:Xt,offsetWidth:Bn}=H.el;at=Xt-Bn-at}M.value?re.horizontal(at,W.value):re(at,W.value)}}function Ce(at){const{scrollTop:Ve,scrollLeft:bt}=at.target;R.value=M.value?bt:Ve}function Ue(at){if(j.value=!0,!(!w.value||!G.el)){for(const Ve of at.composedPath())for(const bt of G.el.children)if(bt===Ve){me(bt);return}}}function et(at){j.value=!1}let dt=!1;function Me(at){var Ve;!dt&&!j.value&&!(at.relatedTarget&&((Ve=G.el)!=null&&Ve.contains(at.relatedTarget)))&&it(),dt=!1}function Ne(){dt=!0}function I(at){if(!G.el)return;function Ve(bt){at.preventDefault(),it(bt)}M.value?at.key==="ArrowRight"?Ve(u.value?"prev":"next"):at.key==="ArrowLeft"&&Ve(u.value?"next":"prev"):at.key==="ArrowDown"?Ve("next"):at.key==="ArrowUp"&&Ve("prev"),at.key==="Home"?Ve("first"):at.key==="End"&&Ve("last")}function st(at,Ve){if(!at)return;let bt=at;do bt=bt==null?void 0:bt[Ve==="next"?"nextElementSibling":"previousElementSibling"];while(bt!=null&&bt.hasAttribute("disabled"));return bt}function it(at){if(!G.el)return;let Ve;if(!at)Ve=UR(G.el)[0];else if(at==="next"){if(Ve=st(G.el.querySelector(":focus"),at),!Ve)return it("first")}else if(at==="prev"){if(Ve=st(G.el.querySelector(":focus"),at),!Ve)return it("last")}else at==="first"?(Ve=G.el.firstElementChild,Ve!=null&&Ve.hasAttribute("disabled")&&(Ve=st(Ve,"next"))):at==="last"&&(Ve=G.el.lastElementChild,Ve!=null&&Ve.hasAttribute("disabled")&&(Ve=st(Ve,"prev")));Ve&&Ve.focus({preventScroll:!0})}function Ft(at){const Ve=M.value&&u.value?-1:1,bt=(at==="prev"?-Ve:Ve)*P.value;let Yn=R.value+bt;if(M.value&&u.value&&H.el){const{scrollWidth:Xt,offsetWidth:Bn}=H.el;Yn+=Xt-Bn}oe(Yn)}const Yt=Mt(()=>({next:x.next,prev:x.prev,select:x.select,isSelected:x.isSelected})),mt=Mt(()=>{switch(t.showArrows){case"always":return!0;case"desktop":return!h.value;case!0:return w.value||Math.abs(R.value)>0;case"mobile":return h.value||w.value||Math.abs(R.value)>0;default:return!h.value&&(w.value||Math.abs(R.value)>0)}}),Rn=Mt(()=>Math.abs(R.value)>1),Ot=Mt(()=>{if(!H.value)return!1;const at=aX(M.value,H.el),Ve=Rye(M.value,H.el);return at-Ve-Math.abs(R.value)>1});return $s(()=>ce(t.tag,{class:xo(["v-slide-group",{"v-slide-group--vertical":!M.value,"v-slide-group--has-affixes":mt.value,"v-slide-group--is-overflowing":w.value},m.value,t.class]),style:Qs(t.style),tabindex:j.value||x.selected.value.length?-1:0,onFocus:Me},{default:()=>{var at,Ve,bt;return[mt.value&&ie("div",{key:"prev",class:xo(["v-slide-group__prev",{"v-slide-group__prev--disabled":!Rn.value}]),onMousedown:Ne,onClick:()=>Rn.value&&Ft("prev")},[((at=i.prev)==null?void 0:at.call(i,Yt.value))??ce(QY,null,{default:()=>[ce(Gn,{icon:u.value?t.nextIcon:t.prevIcon},null)]})]),ie("div",{key:"container",ref:H,class:xo(["v-slide-group__container",t.contentClass]),onScroll:Ce},[ie("div",{ref:G,class:"v-slide-group__content",onFocusin:Ue,onFocusout:et,onKeydown:I},[(Ve=i.default)==null?void 0:Ve.call(i,Yt.value)])]),mt.value&&ie("div",{key:"next",class:xo(["v-slide-group__next",{"v-slide-group__next--disabled":!Ot.value}]),onMousedown:Ne,onClick:()=>Ot.value&&Ft("next")},[((bt=i.next)==null?void 0:bt.call(i,Yt.value))??ce(QY,null,{default:()=>[ce(Gn,{icon:u.value?t.prevIcon:t.nextIcon},null)]})])]}})),{selected:x.selected,scrollTo:Ft,scrollOffset:R,focus:it,hasPrev:Rn,hasNext:Ot}}}),kte=Symbol.for("vuetify:v-chip-group"),Dye=qn({baseColor:String,column:Boolean,filter:Boolean,valueComparator:{type:Function,default:Qh},..._te(),...or(),...lK({selectedClass:"v-chip--selected"}),...Wa(),...sc(),...Z1({variant:"tonal"})},"VChipGroup");ts()({name:"VChipGroup",props:Dye(),emits:{"update:modelValue":t=>!0},setup(t,r){let{slots:i}=r;const{themeClasses:u}=nu(t),{isSelected:m,select:h,next:x,prev:w,selected:R}=cK(t,kte);return Yx({VChip:{baseColor:En(()=>t.baseColor),color:En(()=>t.color),disabled:En(()=>t.disabled),filter:En(()=>t.filter),variant:En(()=>t.variant)}}),$s(()=>{const P=lX.filterProps(t);return ce(lX,Xo(P,{class:["v-chip-group",{"v-chip-group--column":t.column},u.value,t.class],style:t.style}),{default:()=>{var A;return[(A=i.default)==null?void 0:A.call(i,{isSelected:m,select:h,next:x,prev:w,selected:R.value})]}})}),{}}});const Pye=qn({activeClass:String,appendAvatar:String,appendIcon:fi,baseColor:String,closable:Boolean,closeIcon:{type:fi,default:"$delete"},closeLabel:{type:String,default:"$vuetify.close"},draggable:Boolean,filter:Boolean,filterIcon:{type:fi,default:"$complete"},label:Boolean,link:{type:Boolean,default:void 0},pill:Boolean,prependAvatar:String,prependIcon:fi,ripple:{type:[Boolean,Object],default:!0},text:{type:[String,Number,Boolean],default:void 0},modelValue:{type:Boolean,default:!0},onClick:Bm(),onClickOnce:Bm(),...U1(),...or(),...tp(),...K1(),...Vee(),...Bg(),...u8(),...yI(),...Wa({tag:"span"}),...sc(),...Z1({variant:"tonal"})},"VChip"),bK=ts()({name:"VChip",directives:{vRipple:F1},props:Pye(),emits:{"click:close":t=>!0,"update:modelValue":t=>!0,"group:selected":t=>!0,click:t=>!0},setup(t,r){let{attrs:i,emit:u,slots:m}=r;const{t:h}=zE(),{borderClasses:x}=W1(t),{densityClasses:w}=pb(t),{elevationClasses:R}=j1(t),{roundedClasses:P}=Fg(t),{sizeClasses:A}=xI(t),{themeClasses:M}=nu(t),H=ia(t,"modelValue"),K=zee(t,kte,!1),G=c8(t,i),te=En(()=>t.link!==!1&&G.isLink.value),re=Mt(()=>!t.disabled&&t.link!==!1&&(!!K||t.link||G.isClickable.value)),W=En(()=>({"aria-label":h(t.closeLabel),disabled:t.disabled,onClick(Ce){Ce.preventDefault(),Ce.stopPropagation(),H.value=!1,u("click:close",Ce)}})),{colorClasses:ge,colorStyles:he,variantClasses:j}=jE(()=>({color:!K||K.isSelected.value?t.color??t.baseColor:t.baseColor,variant:t.variant}));function me(Ce){var Ue;u("click",Ce),re.value&&((Ue=G.navigate)==null||Ue.call(G,Ce),K==null||K.toggle())}function oe(Ce){(Ce.key==="Enter"||Ce.key===" ")&&(Ce.preventDefault(),me(Ce))}return()=>{var st;const Ce=G.isLink.value?"a":t.tag,Ue=!!(t.appendIcon||t.appendAvatar),et=!!(Ue||m.append),dt=!!(m.close||t.closable),Me=!!(m.filter||t.filter)&&K,Ne=!!(t.prependIcon||t.prependAvatar),I=!!(Ne||m.prepend);return H.value&&Zn(ce(Ce,Xo({class:["v-chip",{"v-chip--disabled":t.disabled,"v-chip--label":t.label,"v-chip--link":re.value,"v-chip--filter":Me,"v-chip--pill":t.pill,[`${t.activeClass}`]:t.activeClass&&((st=G.isActive)==null?void 0:st.value)},M.value,x.value,ge.value,w.value,R.value,P.value,A.value,j.value,K==null?void 0:K.selectedClass.value,t.class],style:[he.value,t.style],disabled:t.disabled||void 0,draggable:t.draggable,tabindex:re.value?0:void 0,onClick:me,onKeydown:re.value&&!te.value&&oe},G.linkProps),{default:()=>{var it;return[KE(re.value,"v-chip"),Me&&ce(ate,{key:"filter"},{default:()=>[Zn(ie("div",{class:"v-chip__filter"},[m.filter?ce(ul,{key:"filter-defaults",disabled:!t.filterIcon,defaults:{VIcon:{icon:t.filterIcon}}},m.filter):ce(Gn,{key:"filter-icon",icon:t.filterIcon},null)]),[[Co,K.isSelected.value]])]}),I&&ie("div",{key:"prepend",class:"v-chip__prepend"},[m.prepend?ce(ul,{key:"prepend-defaults",disabled:!Ne,defaults:{VAvatar:{image:t.prependAvatar,start:!0},VIcon:{icon:t.prependIcon,start:!0}}},m.prepend):ie(ms,null,[t.prependIcon&&ce(Gn,{key:"prepend-icon",icon:t.prependIcon,start:!0},null),t.prependAvatar&&ce(Zx,{key:"prepend-avatar",image:t.prependAvatar,start:!0},null)])]),ie("div",{class:"v-chip__content","data-no-activator":""},[((it=m.default)==null?void 0:it.call(m,{isSelected:K==null?void 0:K.isSelected.value,selectedClass:K==null?void 0:K.selectedClass.value,select:K==null?void 0:K.select,toggle:K==null?void 0:K.toggle,value:K==null?void 0:K.value.value,disabled:t.disabled}))??He(t.text)]),et&&ie("div",{key:"append",class:"v-chip__append"},[m.append?ce(ul,{key:"append-defaults",disabled:!Ue,defaults:{VAvatar:{end:!0,image:t.appendAvatar},VIcon:{end:!0,icon:t.appendIcon}}},m.append):ie(ms,null,[t.appendIcon&&ce(Gn,{key:"append-icon",end:!0,icon:t.appendIcon},null),t.appendAvatar&&ce(Zx,{key:"append-avatar",end:!0,image:t.appendAvatar},null)])]),dt&&ie("button",Xo({key:"close",class:"v-chip__close",type:"button","data-testid":"close-chip"},W.value),[m.close?ce(ul,{key:"close-defaults",defaults:{VIcon:{icon:t.closeIcon,size:"x-small"}}},m.close):ce(Gn,{key:"close-icon",icon:t.closeIcon,size:"x-small"},null)])]}}),[[F1,re.value&&t.ripple,null]])}}}),Nye=qn({color:String,inset:Boolean,length:[Number,String],opacity:[Number,String],thickness:[Number,String],vertical:Boolean,...or(),...sc()},"VDivider"),kE=ts()({name:"VDivider",props:Nye(),setup(t,r){let{attrs:i,slots:u}=r;const{themeClasses:m}=nu(t),{textColorClasses:h,textColorStyles:x}=gb(()=>t.color),w=Mt(()=>{const R={};return t.length&&(R[t.vertical?"height":"width"]=Fs(t.length)),t.thickness&&(R[t.vertical?"borderRightWidth":"borderTopWidth"]=Fs(t.thickness)),R});return $s(()=>{const R=ie("hr",{class:xo([{"v-divider":!0,"v-divider--inset":t.inset,"v-divider--vertical":t.vertical},m.value,h.value,t.class]),style:Qs([w.value,x.value,{"--v-border-opacity":t.opacity},t.style]),"aria-orientation":!i.role||i.role==="separator"?t.vertical?"vertical":"horizontal":void 0,role:`${i.role||"separator"}`},null);return u.default?ie("div",{class:xo(["v-divider__wrapper",{"v-divider__wrapper--vertical":t.vertical,"v-divider__wrapper--inset":t.inset}])},[R,ie("div",{class:"v-divider__content"},[u.default()]),R]):R}),{}}}),yW=Symbol.for("vuetify:list");function Ete(){let{filterable:t}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{filterable:!1};const r=Ea(yW,{filterable:!1,hasPrepend:Do(!1),updateHasPrepend:()=>null}),i={filterable:r.filterable||t,hasPrepend:Do(!1),updateHasPrepend:u=>{u&&(i.hasPrepend.value=u)}};return Kf(yW,i),r}function Tte(){return Ea(yW,null)}const vK=t=>{const r={activate:i=>{let{id:u,value:m,activated:h}=i;return u=Ns(u),t&&!m&&h.size===1&&h.has(u)||(m?h.add(u):h.delete(u)),h},in:(i,u,m)=>{let h=new Set;if(i!=null)for(const x of Kd(i))h=r.activate({id:x,value:!0,activated:new Set(h),children:u,parents:m});return h},out:i=>Array.from(i)};return r},Ate=t=>{const r=vK(t);return{activate:u=>{let{activated:m,id:h,...x}=u;h=Ns(h);const w=m.has(h)?new Set([h]):new Set;return r.activate({...x,id:h,activated:w})},in:(u,m,h)=>{let x=new Set;if(u!=null){const w=Kd(u);w.length&&(x=r.in(w.slice(0,1),m,h))}return x},out:(u,m,h)=>r.out(u,m,h)}},Mye=t=>{const r=vK(t);return{activate:u=>{let{id:m,activated:h,children:x,...w}=u;return m=Ns(m),x.has(m)?h:r.activate({id:m,activated:h,children:x,...w})},in:r.in,out:r.out}},Lye=t=>{const r=Ate(t);return{activate:u=>{let{id:m,activated:h,children:x,...w}=u;return m=Ns(m),x.has(m)?h:r.activate({id:m,activated:h,children:x,...w})},in:r.in,out:r.out}},Bye={open:t=>{let{id:r,value:i,opened:u,parents:m}=t;if(i){const h=new Set;h.add(r);let x=m.get(r);for(;x!=null;)h.add(x),x=m.get(x);return h}else return u.delete(r),u},select:()=>null},Ote={open:t=>{let{id:r,value:i,opened:u,parents:m}=t;if(i){let h=m.get(r);for(u.add(r);h!=null&&h!==r;)u.add(h),h=m.get(h);return u}else u.delete(r);return u},select:()=>null},Fye={open:Ote.open,select:t=>{let{id:r,value:i,opened:u,parents:m}=t;if(!i)return u;const h=[];let x=m.get(r);for(;x!=null;)h.push(x),x=m.get(x);return new Set(h)}},yK=t=>{const r={select:i=>{let{id:u,value:m,selected:h}=i;if(u=Ns(u),t&&!m){const x=Array.from(h.entries()).reduce((w,R)=>{let[P,A]=R;return A==="on"&&w.push(P),w},[]);if(x.length===1&&x[0]===u)return h}return h.set(u,m?"on":"off"),h},in:(i,u,m,h)=>{const x=new Map;for(const w of i||[])r.select({id:w,value:!0,selected:x,children:u,parents:m,disabled:h});return x},out:i=>{const u=[];for(const[m,h]of i.entries())h==="on"&&u.push(m);return u}};return r},Rte=t=>{const r=yK(t);return{select:u=>{let{selected:m,id:h,...x}=u;h=Ns(h);const w=m.has(h)?new Map([[h,m.get(h)]]):new Map;return r.select({...x,id:h,selected:w})},in:(u,m,h,x)=>u!=null&&u.length?r.in(u.slice(0,1),m,h,x):new Map,out:(u,m,h)=>r.out(u,m,h)}},$ye=t=>{const r=yK(t);return{select:u=>{let{id:m,selected:h,children:x,...w}=u;return m=Ns(m),x.has(m)?h:r.select({id:m,selected:h,children:x,...w})},in:r.in,out:r.out}},Vye=t=>{const r=Rte(t);return{select:u=>{let{id:m,selected:h,children:x,...w}=u;return m=Ns(m),x.has(m)?h:r.select({id:m,selected:h,children:x,...w})},in:r.in,out:r.out}},Ite=t=>{const r={select:i=>{let{id:u,value:m,selected:h,children:x,parents:w,disabled:R}=i;u=Ns(u);const P=new Map(h),A=[u];for(;A.length;){const H=A.shift();R.has(H)||h.set(Ns(H),m?"on":"off"),x.has(H)&&A.push(...x.get(H))}let M=Ns(w.get(u));for(;M;){let H=!0,K=!0;for(const G of x.get(M)){const te=Ns(G);if(!R.has(te)&&(h.get(te)!=="on"&&(H=!1),h.has(te)&&h.get(te)!=="off"&&(K=!1),!H&&!K))break}h.set(M,H?"on":K?"off":"indeterminate"),M=Ns(w.get(M))}return t&&!m&&Array.from(h.entries()).reduce((K,G)=>{let[te,re]=G;return re==="on"&&K.push(te),K},[]).length===0?P:h},in:(i,u,m,h)=>{let x=new Map;for(const w of i||[])x=r.select({id:w,value:!0,selected:x,children:u,parents:m,disabled:h});return x},out:(i,u)=>{const m=[];for(const[h,x]of i.entries())x==="on"&&!u.has(h)&&m.push(h);return m}};return r},zye=t=>{const r=Ite(t);return{select:r.select,in:r.in,out:(u,m,h)=>{const x=[];for(const[w,R]of u.entries())if(R==="on"){if(h.has(w)){const P=h.get(w);if(u.get(P)==="on")continue}x.push(w)}return x}}},QR=Symbol.for("vuetify:nested"),Dte={id:Do(),root:{register:()=>null,unregister:()=>null,children:Ln(new Map),parents:Ln(new Map),disabled:Ln(new Set),open:()=>null,openOnSelect:()=>null,activate:()=>null,select:()=>null,activatable:Ln(!1),selectable:Ln(!1),opened:Ln(new Set),activated:Ln(new Set),selected:Ln(new Map),selectedValues:Ln([]),getPath:()=>[]}},Hye=qn({activatable:Boolean,selectable:Boolean,activeStrategy:[String,Function,Object],selectStrategy:[String,Function,Object],openStrategy:[String,Object],opened:null,activated:null,selected:null,mandatory:Boolean},"nested"),Uye=t=>{let r=!1;const i=Do(new Map),u=Do(new Map),m=Do(new Set),h=ia(t,"opened",t.opened,te=>new Set(Array.isArray(te)?te.map(re=>Ns(re)):te),te=>[...te.values()]),x=Mt(()=>{if(typeof t.activeStrategy=="object")return t.activeStrategy;if(typeof t.activeStrategy=="function")return t.activeStrategy(t.mandatory);switch(t.activeStrategy){case"leaf":return Mye(t.mandatory);case"single-leaf":return Lye(t.mandatory);case"independent":return vK(t.mandatory);case"single-independent":default:return Ate(t.mandatory)}}),w=Mt(()=>{if(typeof t.selectStrategy=="object")return t.selectStrategy;if(typeof t.selectStrategy=="function")return t.selectStrategy(t.mandatory);switch(t.selectStrategy){case"single-leaf":return Vye(t.mandatory);case"leaf":return $ye(t.mandatory);case"independent":return yK(t.mandatory);case"single-independent":return Rte(t.mandatory);case"trunk":return zye(t.mandatory);case"classic":default:return Ite(t.mandatory)}}),R=Mt(()=>{if(typeof t.openStrategy=="object")return t.openStrategy;switch(t.openStrategy){case"list":return Fye;case"single":return Bye;case"multiple":default:return Ote}}),P=ia(t,"activated",t.activated,te=>x.value.in(te,i.value,u.value),te=>x.value.out(te,i.value,u.value)),A=ia(t,"selected",t.selected,te=>w.value.in(te,i.value,u.value,m.value),te=>w.value.out(te,i.value,u.value));Du(()=>{r=!0});function M(te){const re=[];let W=Ns(te);for(;W!=null;)re.unshift(W),W=u.value.get(W);return re}const H=wc("nested"),K=new Set,G={id:Do(),root:{opened:h,activatable:En(()=>t.activatable),selectable:En(()=>t.selectable),activated:P,selected:A,selectedValues:Mt(()=>{const te=[];for(const[re,W]of A.value.entries())W==="on"&&te.push(re);return te}),register:(te,re,W,ge)=>{if(K.has(te)){M(te).map(String).join(" -> "),M(re).concat(te).map(String).join(" -> ");return}else K.add(te);re&&te!==re&&u.value.set(te,re),W&&m.value.add(te),ge&&i.value.set(te,[]),re!=null&&i.value.set(re,[...i.value.get(re)||[],te])},unregister:te=>{if(r)return;K.delete(te),i.value.delete(te),m.value.delete(te);const re=u.value.get(te);if(re){const W=i.value.get(re)??[];i.value.set(re,W.filter(ge=>ge!==te))}u.value.delete(te)},open:(te,re,W)=>{H.emit("click:open",{id:te,value:re,path:M(te),event:W});const ge=R.value.open({id:te,value:re,opened:new Set(h.value),children:i.value,parents:u.value,event:W});ge&&(h.value=ge)},openOnSelect:(te,re,W)=>{const ge=R.value.select({id:te,value:re,selected:new Map(A.value),opened:new Set(h.value),children:i.value,parents:u.value,event:W});ge&&(h.value=ge)},select:(te,re,W)=>{H.emit("click:select",{id:te,value:re,path:M(te),event:W});const ge=w.value.select({id:te,value:re,selected:new Map(A.value),children:i.value,parents:u.value,disabled:m.value,event:W});ge&&(A.value=ge),G.root.openOnSelect(te,re,W)},activate:(te,re,W)=>{if(!t.activatable)return G.root.select(te,!0,W);H.emit("click:activate",{id:te,value:re,path:M(te),event:W});const ge=x.value.activate({id:te,value:re,activated:new Set(P.value),children:i.value,parents:u.value,event:W});if(ge.size!==P.value.size)P.value=ge;else{for(const he of ge)if(!P.value.has(he)){P.value=ge;return}for(const he of P.value)if(!ge.has(he)){P.value=ge;return}}},children:i,parents:u,disabled:m,getPath:M}};return Kf(QR,G),G.root},Pte=(t,r,i)=>{const u=Ea(QR,Dte),m=Symbol("nested item"),h=Mt(()=>Ns(Pv(t))??m),x={...u,id:h,open:(w,R)=>u.root.open(h.value,w,R),openOnSelect:(w,R)=>u.root.openOnSelect(h.value,w,R),isOpen:Mt(()=>u.root.opened.value.has(h.value)),parent:Mt(()=>u.root.parents.value.get(h.value)),activate:(w,R)=>u.root.activate(h.value,w,R),isActivated:Mt(()=>u.root.activated.value.has(h.value)),select:(w,R)=>u.root.select(h.value,w,R),isSelected:Mt(()=>u.root.selected.value.get(h.value)==="on"),isIndeterminate:Mt(()=>u.root.selected.value.get(h.value)==="indeterminate"),isLeaf:Mt(()=>!u.root.children.value.get(h.value)),isGroupActivator:u.isGroupActivator};return fI(()=>{u.isGroupActivator||u.root.register(h.value,u.id.value,Pv(r),i)}),Du(()=>{u.isGroupActivator||u.root.unregister(h.value)}),i&&Kf(QR,x),x},Wye=()=>{const t=Ea(QR,Dte);Kf(QR,{...t,isGroupActivator:!0})};function f8(){const t=Do(!1);return Zd(()=>{window.requestAnimationFrame(()=>{t.value=!0})}),{ssrBootStyles:En(()=>t.value?void 0:{transition:"none !important"}),isBooted:FE(t)}}const Kye=VE({name:"VListGroupActivator",setup(t,r){let{slots:i}=r;return Wye(),()=>{var u;return(u=i.default)==null?void 0:u.call(i)}}}),jye=qn({activeColor:String,baseColor:String,color:String,collapseIcon:{type:fi,default:"$collapse"},disabled:Boolean,expandIcon:{type:fi,default:"$expand"},rawId:[String,Number],prependIcon:fi,appendIcon:fi,fluid:Boolean,subgroup:Boolean,title:String,value:null,...or(),...Wa()},"VListGroup"),cX=ts()({name:"VListGroup",props:jye(),setup(t,r){let{slots:i}=r;const{isOpen:u,open:m,id:h}=Pte(()=>t.value,()=>t.disabled,!0),x=Mt(()=>`v-list-group--id-${String(t.rawId??h.value)}`),w=Tte(),{isBooted:R}=f8();function P(K){var G;["INPUT","TEXTAREA"].includes((G=K.target)==null?void 0:G.tagName)||m(!u.value,K)}const A=Mt(()=>({onClick:P,class:"v-list-group__header",id:x.value})),M=Mt(()=>u.value?t.collapseIcon:t.expandIcon),H=Mt(()=>({VListItem:{active:u.value,activeColor:t.activeColor,baseColor:t.baseColor,color:t.color,prependIcon:t.prependIcon||t.subgroup&&M.value,appendIcon:t.appendIcon||!t.subgroup&&M.value,title:t.title,value:t.value}}));return $s(()=>ce(t.tag,{class:xo(["v-list-group",{"v-list-group--prepend":w==null?void 0:w.hasPrepend.value,"v-list-group--fluid":t.fluid,"v-list-group--subgroup":t.subgroup,"v-list-group--open":u.value},t.class]),style:Qs(t.style)},{default:()=>[i.activator&&ce(ul,{defaults:H.value},{default:()=>[ce(Kye,null,{default:()=>[i.activator({props:A.value,isOpen:u.value})]})]}),ce($x,{transition:{component:ite},disabled:!R.value},{default:()=>{var K;return[Zn(ie("div",{class:"v-list-group__items",role:"group","aria-labelledby":x.value},[(K=i.default)==null?void 0:K.call(i)]),[[Co,u.value]])]}})]})),{isOpen:u}}}),Zye=qn({opacity:[Number,String],...or(),...Wa()},"VListItemSubtitle"),Gye=ts()({name:"VListItemSubtitle",props:Zye(),setup(t,r){let{slots:i}=r;return $s(()=>ce(t.tag,{class:xo(["v-list-item-subtitle",t.class]),style:Qs([{"--v-list-item-subtitle-opacity":t.opacity},t.style])},i)),{}}}),qye=GF("v-list-item-title"),Yye=qn({active:{type:Boolean,default:void 0},activeClass:String,activeColor:String,appendAvatar:String,appendIcon:fi,baseColor:String,disabled:Boolean,lines:[Boolean,String],link:{type:Boolean,default:void 0},nav:Boolean,prependAvatar:String,prependIcon:fi,ripple:{type:[Boolean,Object],default:!0},slim:Boolean,subtitle:{type:[String,Number,Boolean],default:void 0},title:{type:[String,Number,Boolean],default:void 0},value:null,onClick:Bm(),onClickOnce:Bm(),...U1(),...or(),...tp(),...bb(),...K1(),...Bg(),...u8(),...Wa(),...sc(),...Z1({variant:"text"})},"VListItem"),dd=ts()({name:"VListItem",directives:{vRipple:F1},props:Yye(),emits:{click:t=>!0},setup(t,r){let{attrs:i,slots:u,emit:m}=r;const h=c8(t,i),x=Mt(()=>t.value===void 0?h.href.value:t.value),{activate:w,isActivated:R,select:P,isOpen:A,isSelected:M,isIndeterminate:H,isGroupActivator:K,root:G,parent:te,openOnSelect:re,id:W}=Pte(x,()=>t.disabled,!1),ge=Tte(),he=Mt(()=>{var Xt;return t.active!==!1&&(t.active||((Xt=h.isActive)==null?void 0:Xt.value)||(G.activatable.value?R.value:M.value))}),j=En(()=>t.link!==!1&&h.isLink.value),me=Mt(()=>!!ge&&(G.selectable.value||G.activatable.value||t.value!=null)),oe=Mt(()=>!t.disabled&&t.link!==!1&&(t.link||h.isClickable.value||me.value)),Ce=En(()=>t.rounded||t.nav),Ue=En(()=>t.color??t.activeColor),et=En(()=>({color:he.value?Ue.value??t.baseColor:t.baseColor,variant:t.variant}));Fn(()=>{var Xt;return(Xt=h.isActive)==null?void 0:Xt.value},Xt=>{Xt&&dt()}),fI(()=>{var Xt;(Xt=h.isActive)!=null&&Xt.value&&dt()});function dt(){te.value!=null&&G.open(te.value,!0),re(!0)}const{themeClasses:Me}=nu(t),{borderClasses:Ne}=W1(t),{colorClasses:I,colorStyles:st,variantClasses:it}=jE(et),{densityClasses:Ft}=pb(t),{dimensionStyles:Yt}=vb(t),{elevationClasses:mt}=j1(t),{roundedClasses:Rn}=Fg(Ce),Ot=En(()=>t.lines?`v-list-item--${t.lines}-line`:void 0),at=En(()=>t.ripple!==void 0&&t.ripple&&(ge!=null&&ge.filterable)?{keys:[WU.enter]}:t.ripple),Ve=Mt(()=>({isActive:he.value,select:P,isOpen:A.value,isSelected:M.value,isIndeterminate:H.value}));function bt(Xt){var Bn,Qt;m("click",Xt),!["INPUT","TEXTAREA"].includes((Bn=Xt.target)==null?void 0:Bn.tagName)&&oe.value&&((Qt=h.navigate)==null||Qt.call(h,Xt),!K&&(G.activatable.value?w(!R.value,Xt):(G.selectable.value||t.value!=null)&&P(!M.value,Xt)))}function Yn(Xt){const Bn=Xt.target;["INPUT","TEXTAREA"].includes(Bn.tagName)||(Xt.key==="Enter"||Xt.key===" "&&!(ge!=null&&ge.filterable))&&(Xt.preventDefault(),Xt.stopPropagation(),Xt.target.dispatchEvent(new MouseEvent("click",Xt)))}return $s(()=>{const Xt=j.value?"a":t.tag,Bn=u.title||t.title!=null,Qt=u.subtitle||t.subtitle!=null,ee=!!(t.appendAvatar||t.appendIcon),vo=!!(ee||u.append),nn=!!(t.prependAvatar||t.prependIcon),yn=!!(nn||u.prepend);return ge==null||ge.updateHasPrepend(yn),t.activeColor&&CQ("active-color",["color","base-color"]),Zn(ce(Xt,Xo({class:["v-list-item",{"v-list-item--active":he.value,"v-list-item--disabled":t.disabled,"v-list-item--link":oe.value,"v-list-item--nav":t.nav,"v-list-item--prepend":!yn&&(ge==null?void 0:ge.hasPrepend.value),"v-list-item--slim":t.slim,[`${t.activeClass}`]:t.activeClass&&he.value},Me.value,Ne.value,I.value,Ft.value,mt.value,Ot.value,Rn.value,it.value,t.class],style:[st.value,Yt.value,t.style],tabindex:oe.value?ge?-2:0:void 0,"aria-selected":me.value?G.activatable.value?R.value:G.selectable.value?M.value:he.value:void 0,onClick:bt,onKeydown:oe.value&&!j.value&&Yn},h.linkProps),{default:()=>{var qe;return[KE(oe.value||he.value,"v-list-item"),yn&&ie("div",{key:"prepend",class:"v-list-item__prepend"},[u.prepend?ce(ul,{key:"prepend-defaults",disabled:!nn,defaults:{VAvatar:{density:t.density,image:t.prependAvatar},VIcon:{density:t.density,icon:t.prependIcon},VListItemAction:{start:!0}}},{default:()=>{var lt;return[(lt=u.prepend)==null?void 0:lt.call(u,Ve.value)]}}):ie(ms,null,[t.prependAvatar&&ce(Zx,{key:"prepend-avatar",density:t.density,image:t.prependAvatar},null),t.prependIcon&&ce(Gn,{key:"prepend-icon",density:t.density,icon:t.prependIcon},null)]),ie("div",{class:"v-list-item__spacer"},null)]),ie("div",{class:"v-list-item__content","data-no-activator":""},[Bn&&ce(qye,{key:"title"},{default:()=>{var lt;return[((lt=u.title)==null?void 0:lt.call(u,{title:t.title}))??He(t.title)]}}),Qt&&ce(Gye,{key:"subtitle"},{default:()=>{var lt;return[((lt=u.subtitle)==null?void 0:lt.call(u,{subtitle:t.subtitle}))??He(t.subtitle)]}}),(qe=u.default)==null?void 0:qe.call(u,Ve.value)]),vo&&ie("div",{key:"append",class:"v-list-item__append"},[u.append?ce(ul,{key:"append-defaults",disabled:!ee,defaults:{VAvatar:{density:t.density,image:t.appendAvatar},VIcon:{density:t.density,icon:t.appendIcon},VListItemAction:{end:!0}}},{default:()=>{var lt;return[(lt=u.append)==null?void 0:lt.call(u,Ve.value)]}}):ie(ms,null,[t.appendIcon&&ce(Gn,{key:"append-icon",density:t.density,icon:t.appendIcon},null),t.appendAvatar&&ce(Zx,{key:"append-avatar",density:t.density,image:t.appendAvatar},null)]),ie("div",{class:"v-list-item__spacer"},null)])]}}),[[F1,oe.value&&at.value]])}),{activate:w,isActivated:R,isGroupActivator:K,isSelected:M,list:ge,select:P,root:G,id:W,link:h}}}),Xye=qn({color:String,inset:Boolean,sticky:Boolean,title:String,...or(),...Wa()},"VListSubheader"),xK=ts()({name:"VListSubheader",props:Xye(),setup(t,r){let{slots:i}=r;const{textColorClasses:u,textColorStyles:m}=gb(()=>t.color);return $s(()=>{const h=!!(i.default||t.title);return ce(t.tag,{class:xo(["v-list-subheader",{"v-list-subheader--inset":t.inset,"v-list-subheader--sticky":t.sticky},u.value,t.class]),style:Qs([{textColorStyles:m},t.style])},{default:()=>{var x;return[h&&ie("div",{class:"v-list-subheader__text"},[((x=i.default)==null?void 0:x.call(i))??t.title])]}})}),{}}}),Jye=qn({items:Array,returnObject:Boolean},"VListChildren"),Nte=ts()({name:"VListChildren",props:Jye(),setup(t,r){let{slots:i}=r;return Ete(),()=>{var u,m;return((u=i.default)==null?void 0:u.call(i))??((m=t.items)==null?void 0:m.map(h=>{var H,K;let{children:x,props:w,type:R,raw:P}=h;if(R==="divider")return((H=i.divider)==null?void 0:H.call(i,{props:w}))??ce(kE,w,null);if(R==="subheader")return((K=i.subheader)==null?void 0:K.call(i,{props:w}))??ce(xK,w,null);const A={subtitle:i.subtitle?G=>{var te;return(te=i.subtitle)==null?void 0:te.call(i,{...G,item:P})}:void 0,prepend:i.prepend?G=>{var te;return(te=i.prepend)==null?void 0:te.call(i,{...G,item:P})}:void 0,append:i.append?G=>{var te;return(te=i.append)==null?void 0:te.call(i,{...G,item:P})}:void 0,title:i.title?G=>{var te;return(te=i.title)==null?void 0:te.call(i,{...G,item:P})}:void 0},M=cX.filterProps(w);return x?ce(cX,Xo(M,{value:t.returnObject?P:w==null?void 0:w.value,rawId:w==null?void 0:w.value}),{activator:G=>{let{props:te}=G;const re={...w,...te,value:t.returnObject?P:w.value};return i.header?i.header({props:re}):ce(dd,re,A)},default:()=>ce(Nte,{items:x,returnObject:t.returnObject},i)}):i.item?i.item({props:w}):ce(dd,Xo(w,{value:t.returnObject?P:w.value}),A)}))}}}),Mte=qn({items:{type:Array,default:()=>[]},itemTitle:{type:[String,Array,Function],default:"title"},itemValue:{type:[String,Array,Function],default:"value"},itemChildren:{type:[Boolean,String,Array,Function],default:"children"},itemProps:{type:[Boolean,String,Array,Function],default:"props"},itemType:{type:[Boolean,String,Array,Function],default:"type"},returnObject:Boolean,valueComparator:Function},"list-items");function xW(t,r){const i=Yh(r,t.itemTitle,r),u=Yh(r,t.itemValue,i),m=Yh(r,t.itemChildren),h=Yh(r,t.itemType,"item"),x=t.itemProps===!0?typeof r=="object"&&r!=null&&!Array.isArray(r)?"children"in r?qx(r,["children"]):r:void 0:Yh(r,t.itemProps),w={title:i,value:u,...x};return{type:h,title:String(w.title??""),value:w.value,props:w,children:h==="item"&&Array.isArray(m)?Lte(t,m):void 0,raw:r}}function Lte(t,r){const i=jF(t,["itemTitle","itemValue","itemChildren","itemProps","itemType","returnObject","valueComparator"]),u=[];for(const m of r)u.push(xW(i,m));return u}function Bte(t){const r=Mt(()=>Lte(t,t.items)),i=Mt(()=>r.value.some(w=>w.value===null)),u=Do(new Map),m=Do([]);Wf(()=>{const w=r.value,R=new Map,P=[];for(let A=0;A<w.length;A++){const M=w[A];if(jU(M.value)||M.value===null){let H=R.get(M.value);H||(H=[],R.set(M.value,H)),H.push(M)}else P.push(M)}u.value=R,m.value=P});function h(w){const R=u.value,P=r.value,A=m.value,M=i.value,H=t.returnObject,K=!!t.valueComparator,G=t.valueComparator||Qh,te=jF(t,["itemTitle","itemValue","itemChildren","itemProps","itemType","returnObject","valueComparator"]),re=[];e:for(const W of w){if(!M&&W===null)continue;if(H&&typeof W=="string"){re.push(xW(te,W));continue}const ge=R.get(W);if(K||!ge){for(const he of K?P:A)if(G(W,he.value)){re.push(he);continue e}re.push(xW(te,W));continue}re.push(...ge)}return re}function x(w){return t.returnObject?w.map(R=>{let{raw:P}=R;return P}):w.map(R=>{let{value:P}=R;return P})}return{items:r,transformIn:h,transformOut:x}}function Qye(t,r){const i=Yh(r,t.itemType,"item"),u=jU(r)?r:Yh(r,t.itemTitle),m=jU(r)?r:Yh(r,t.itemValue,void 0),h=Yh(r,t.itemChildren),x=t.itemProps===!0?qx(r,["children"]):Yh(r,t.itemProps),w={title:u,value:m,...x};return{type:i,title:w.title,value:w.value,props:w,children:i==="item"&&h?Fte(t,h):void 0,raw:r}}function Fte(t,r){const i=[];for(const u of r)i.push(Qye(t,u));return i}function exe(t){return{items:Mt(()=>Fte(t,t.items))}}const txe=qn({baseColor:String,activeColor:String,activeClass:String,bgColor:String,disabled:Boolean,filterable:Boolean,expandIcon:fi,collapseIcon:fi,lines:{type:[Boolean,String],default:"one"},slim:Boolean,nav:Boolean,"onClick:open":Bm(),"onClick:select":Bm(),"onUpdate:opened":Bm(),...Hye({selectStrategy:"single-leaf",openStrategy:"list"}),...U1(),...or(),...tp(),...bb(),...K1(),...Mte(),...Bg(),...Wa(),...sc(),...Z1({variant:"text"})},"VList"),_I=ts()({name:"VList",props:txe(),emits:{"update:selected":t=>!0,"update:activated":t=>!0,"update:opened":t=>!0,"click:open":t=>!0,"click:activate":t=>!0,"click:select":t=>!0},setup(t,r){let{slots:i}=r;const{items:u}=exe(t),{themeClasses:m}=nu(t),{backgroundColorClasses:h,backgroundColorStyles:x}=db(()=>t.bgColor),{borderClasses:w}=W1(t),{densityClasses:R}=pb(t),{dimensionStyles:P}=vb(t),{elevationClasses:A}=j1(t),{roundedClasses:M}=Fg(t),{children:H,open:K,parents:G,select:te,getPath:re}=Uye(t),W=En(()=>t.lines?`v-list--${t.lines}-line`:void 0),ge=En(()=>t.activeColor),he=En(()=>t.baseColor),j=En(()=>t.color);Ete({filterable:t.filterable}),Yx({VListGroup:{activeColor:ge,baseColor:he,color:j,expandIcon:En(()=>t.expandIcon),collapseIcon:En(()=>t.collapseIcon)},VListItem:{activeClass:En(()=>t.activeClass),activeColor:ge,baseColor:he,color:j,density:En(()=>t.density),disabled:En(()=>t.disabled),lines:En(()=>t.lines),nav:En(()=>t.nav),slim:En(()=>t.slim),variant:En(()=>t.variant)}});const me=Do(!1),oe=Ln();function Ce(I){me.value=!0}function Ue(I){me.value=!1}function et(I){var st;!me.value&&!(I.relatedTarget&&((st=oe.value)!=null&&st.contains(I.relatedTarget)))&&Ne()}function dt(I){const st=I.target;if(!(!oe.value||["INPUT","TEXTAREA"].includes(st.tagName))){if(I.key==="ArrowDown")Ne("next");else if(I.key==="ArrowUp")Ne("prev");else if(I.key==="Home")Ne("first");else if(I.key==="End")Ne("last");else return;I.preventDefault()}}function Me(I){me.value=!0}function Ne(I){if(oe.value)return IR(oe.value,I)}return $s(()=>ce(t.tag,{ref:oe,class:xo(["v-list",{"v-list--disabled":t.disabled,"v-list--nav":t.nav,"v-list--slim":t.slim},m.value,h.value,w.value,R.value,A.value,W.value,M.value,t.class]),style:Qs([x.value,P.value,t.style]),tabindex:t.disabled?-1:0,role:"listbox","aria-activedescendant":void 0,onFocusin:Ce,onFocusout:Ue,onFocus:et,onKeydown:dt,onMousedown:Me},{default:()=>[ce(Nte,{items:u.value,returnObject:t.returnObject},i)]})),{open:K,select:te,focus:Ne,children:H,parents:G,getPath:re}}}),nxe=qn({id:String,submenu:Boolean,disableInitialFocus:Boolean,...qx(hK({closeDelay:250,closeOnContentClick:!0,locationStrategy:"connected",location:void 0,openDelay:300,scrim:!1,scrollStrategy:"reposition",transition:{component:gK}}),["absolute"])},"VMenu"),kI=ts()({name:"VMenu",props:nxe(),emits:{"update:modelValue":t=>!0},setup(t,r){let{slots:i}=r;const u=ia(t,"modelValue"),{scopeId:m}=d8(),{isRtl:h}=ep(),x=z1(),w=En(()=>t.id||`v-menu-${x}`),R=Ln(),P=Ea(vW,null),A=Do(new Set);Kf(vW,{register(){A.value.add(x)},unregister(){A.value.delete(x)},closeParents(re){setTimeout(()=>{var W;!A.value.size&&!t.persistent&&(re==null||(W=R.value)!=null&&W.contentEl&&!cge(re,R.value.contentEl))&&(u.value=!1,P==null||P.closeParents())},40)}}),Du(()=>{P==null||P.unregister(),document.removeEventListener("focusin",M)}),HF(()=>u.value=!1);async function M(re){var he,j,me;const W=re.relatedTarget,ge=re.target;await ys(),u.value&&W!==ge&&((he=R.value)!=null&&he.contentEl)&&((j=R.value)!=null&&j.globalTop)&&![document,R.value.contentEl].includes(ge)&&!R.value.contentEl.contains(ge)&&((me=UR(R.value.contentEl)[0])==null||me.focus())}Fn(u,re=>{re?(P==null||P.register(),_i&&!t.disableInitialFocus&&document.addEventListener("focusin",M,{once:!0})):(P==null||P.unregister(),_i&&document.removeEventListener("focusin",M))},{immediate:!0});function H(re){P==null||P.closeParents(re)}function K(re){var W,ge,he,j,me;if(!t.disabled)if(re.key==="Tab"||re.key==="Enter"&&!t.closeOnContentClick){if(re.key==="Enter"&&(re.target instanceof HTMLTextAreaElement||re.target instanceof HTMLInputElement&&re.target.closest("form")))return;re.key==="Enter"&&re.preventDefault(),yQ(UR((W=R.value)==null?void 0:W.contentEl,!1),re.shiftKey?"prev":"next",Ce=>Ce.tabIndex>=0)||(u.value=!1,(he=(ge=R.value)==null?void 0:ge.activatorEl)==null||he.focus())}else t.submenu&&re.key===(h.value?"ArrowRight":"ArrowLeft")&&(u.value=!1,(me=(j=R.value)==null?void 0:j.activatorEl)==null||me.focus())}function G(re){var ge;if(t.disabled)return;const W=(ge=R.value)==null?void 0:ge.contentEl;W&&u.value?re.key==="ArrowDown"?(re.preventDefault(),re.stopImmediatePropagation(),IR(W,"next")):re.key==="ArrowUp"?(re.preventDefault(),re.stopImmediatePropagation(),IR(W,"prev")):t.submenu&&(re.key===(h.value?"ArrowRight":"ArrowLeft")?u.value=!1:re.key===(h.value?"ArrowLeft":"ArrowRight")&&(re.preventDefault(),IR(W,"first"))):(t.submenu?re.key===(h.value?"ArrowLeft":"ArrowRight"):["ArrowDown","ArrowUp"].includes(re.key))&&(u.value=!0,re.preventDefault(),setTimeout(()=>setTimeout(()=>G(re))))}const te=Mt(()=>Xo({"aria-haspopup":"menu","aria-expanded":String(u.value),"aria-controls":w.value,onKeydown:G},t.activatorProps));return $s(()=>{const re=AF.filterProps(t);return ce(AF,Xo({ref:R,id:w.value,class:["v-menu",t.class],style:t.style},re,{modelValue:u.value,"onUpdate:modelValue":W=>u.value=W,absolute:!0,activatorProps:te.value,location:t.location??(t.submenu?"end":"bottom"),"onClick:outside":H,onKeydown:K},m),{activator:i.activator,default:function(){for(var W=arguments.length,ge=new Array(W),he=0;he<W;he++)ge[he]=arguments[he];return ce(ul,{root:"VMenu"},{default:()=>{var j;return[(j=i.default)==null?void 0:j.call(i,...ge)]}})}})}),Jx({id:w,openChildren:A},R)}}),oxe=qn({active:Boolean,disabled:Boolean,max:[Number,String],value:{type:[Number,String],default:0},...or(),...ZE({transition:{component:rte}})},"VCounter"),wK=ts()({name:"VCounter",functional:!0,props:oxe(),setup(t,r){let{slots:i}=r;const u=En(()=>t.max?`${t.value} / ${t.max}`:String(t.value));return $s(()=>ce($x,{transition:t.transition},{default:()=>[Zn(ie("div",{class:xo(["v-counter",{"text-error":t.max&&!t.disabled&&parseFloat(t.value)>parseFloat(t.max)},t.class]),style:Qs(t.style)},[i.default?i.default({counter:u.value,max:t.max,value:t.value}):u.value]),[[Co,t.active]])]})),{}}}),sxe=qn({floating:Boolean,...or()},"VFieldLabel"),F6=ts()({name:"VFieldLabel",props:sxe(),setup(t,r){let{slots:i}=r;return $s(()=>ce(hte,{class:xo(["v-field-label",{"v-field-label--floating":t.floating},t.class]),style:Qs(t.style),"aria-hidden":t.floating||void 0},i)),{}}}),rxe=["underlined","outlined","filled","solo","solo-inverted","solo-filled","plain"],m8=qn({appendInnerIcon:fi,bgColor:String,clearable:Boolean,clearIcon:{type:fi,default:"$clear"},active:Boolean,centerAffix:{type:Boolean,default:void 0},color:String,baseColor:String,dirty:Boolean,disabled:{type:Boolean,default:null},glow:Boolean,error:Boolean,flat:Boolean,iconColor:[Boolean,String],label:String,persistentClear:Boolean,prependInnerIcon:fi,reverse:Boolean,singleLine:Boolean,variant:{type:String,default:"filled",validator:t=>rxe.includes(t)},"onClick:clear":Bm(),"onClick:appendInner":Bm(),"onClick:prependInner":Bm(),...or(),...uK(),...Bg(),...sc()},"VField"),ME=ts()({name:"VField",inheritAttrs:!1,props:{id:String,...wte(),...m8()},emits:{"update:focused":t=>!0,"update:modelValue":t=>!0},setup(t,r){let{attrs:i,emit:u,slots:m}=r;const{themeClasses:h}=nu(t),{loaderClasses:x}=dK(t),{focusClasses:w,isFocused:R,focus:P,blur:A}=CI(t),{InputIcon:M}=xte(t),{roundedClasses:H}=Fg(t),{rtlClasses:K}=ep(),G=En(()=>t.dirty||t.active),te=En(()=>!!(t.label||m.label)),re=En(()=>!t.singleLine&&te.value),W=z1(),ge=Mt(()=>t.id||`input-${W}`),he=En(()=>`${ge.value}-messages`),j=Ln(),me=Ln(),oe=Ln(),Ce=Mt(()=>["plain","underlined"].includes(t.variant)),Ue=Mt(()=>t.error||t.disabled?void 0:G.value&&R.value?t.color:t.baseColor),et=Mt(()=>{if(!(!t.iconColor||t.glow&&!R.value))return t.iconColor===!0?Ue.value:t.iconColor}),{backgroundColorClasses:dt,backgroundColorStyles:Me}=db(()=>t.bgColor),{textColorClasses:Ne,textColorStyles:I}=gb(Ue);Fn(G,Ft=>{if(re.value){const Yt=j.value.$el,mt=me.value.$el;requestAnimationFrame(()=>{const Rn=ZW(Yt),Ot=mt.getBoundingClientRect(),at=Ot.x-Rn.x,Ve=Ot.y-Rn.y-(Rn.height/2-Ot.height/2),bt=Ot.width/.75,Yn=Math.abs(bt-Rn.width)>1?{maxWidth:Fs(bt)}:void 0,Xt=getComputedStyle(Yt),Bn=getComputedStyle(mt),Qt=parseFloat(Xt.transitionDuration)*1e3||150,ee=parseFloat(Bn.getPropertyValue("--v-field-label-scale")),vo=Bn.getPropertyValue("color");Yt.style.visibility="visible",mt.style.visibility="hidden",pE(Yt,{transform:`translate(${at}px, ${Ve}px) scale(${ee})`,color:vo,...Yn},{duration:Qt,easing:gF,direction:Ft?"normal":"reverse"}).finished.then(()=>{Yt.style.removeProperty("visibility"),mt.style.removeProperty("visibility")})})}},{flush:"post"});const st=Mt(()=>({isActive:G,isFocused:R,controlRef:oe,blur:A,focus:P}));function it(Ft){Ft.target!==document.activeElement&&Ft.preventDefault()}return $s(()=>{var at,Ve,bt;const Ft=t.variant==="outlined",Yt=!!(m["prepend-inner"]||t.prependInnerIcon),mt=!!(t.clearable||m.clear)&&!t.disabled,Rn=!!(m["append-inner"]||t.appendInnerIcon||mt),Ot=()=>m.label?m.label({...st.value,label:t.label,props:{for:ge.value}}):t.label;return ie("div",Xo({class:["v-field",{"v-field--active":G.value,"v-field--appended":Rn,"v-field--center-affix":t.centerAffix??!Ce.value,"v-field--disabled":t.disabled,"v-field--dirty":t.dirty,"v-field--error":t.error,"v-field--glow":t.glow,"v-field--flat":t.flat,"v-field--has-background":!!t.bgColor,"v-field--persistent-clear":t.persistentClear,"v-field--prepended":Yt,"v-field--reverse":t.reverse,"v-field--single-line":t.singleLine,"v-field--no-label":!Ot(),[`v-field--variant-${t.variant}`]:!0},h.value,dt.value,w.value,x.value,H.value,K.value,t.class],style:[Me.value,t.style],onClick:it},i),[ie("div",{class:"v-field__overlay"},null),ce(jee,{name:"v-field",active:!!t.loading,color:t.error?"error":typeof t.loading=="string"?t.loading:t.color},{default:m.loader}),Yt&&ie("div",{key:"prepend",class:"v-field__prepend-inner"},[t.prependInnerIcon&&ce(M,{key:"prepend-icon",name:"prependInner",color:et.value},null),(at=m["prepend-inner"])==null?void 0:at.call(m,st.value)]),ie("div",{class:"v-field__field","data-no-activator":""},[["filled","solo","solo-inverted","solo-filled"].includes(t.variant)&&re.value&&ce(F6,{key:"floating-label",ref:me,class:xo([Ne.value]),floating:!0,for:ge.value,style:Qs(I.value)},{default:()=>[Ot()]}),te.value&&ce(F6,{key:"label",ref:j,for:ge.value},{default:()=>[Ot()]}),((Ve=m.default)==null?void 0:Ve.call(m,{...st.value,props:{id:ge.value,class:"v-field__input","aria-describedby":he.value},focus:P,blur:A}))??ie("div",{id:ge.value,class:"v-field__input","aria-describedby":he.value},null)]),mt&&ce(ate,{key:"clear"},{default:()=>[Zn(ie("div",{class:"v-field__clearable",onMousedown:Yn=>{Yn.preventDefault(),Yn.stopPropagation()}},[ce(ul,{defaults:{VIcon:{icon:t.clearIcon}}},{default:()=>[m.clear?m.clear({...st.value,props:{onFocus:P,onBlur:A,onClick:t["onClick:clear"],tabindex:-1}}):ce(M,{name:"clear",onFocus:P,onBlur:A,tabindex:-1},null)]})]),[[Co,t.dirty]])]}),Rn&&ie("div",{key:"append",class:"v-field__append-inner"},[(bt=m["append-inner"])==null?void 0:bt.call(m,st.value),t.appendInnerIcon&&ce(M,{key:"append-icon",name:"appendInner",color:et.value},null)]),ie("div",{class:xo(["v-field__outline",Ne.value]),style:Qs(I.value)},[Ft&&ie(ms,null,[ie("div",{class:"v-field__outline__start"},null),re.value&&ie("div",{class:"v-field__outline__notch"},[ce(F6,{ref:me,floating:!0,for:ge.value},{default:()=>[Ot()]})]),ie("div",{class:"v-field__outline__end"},null)]),Ce.value&&re.value&&ce(F6,{ref:me,floating:!0,for:ge.value},{default:()=>[Ot()]})])])}),{controlRef:oe,fieldIconColor:et}}});function $te(t){function r(i,u){var m,h;!t.autofocus||!i||(h=(m=u[0].target)==null?void 0:m.focus)==null||h.call(m)}return{onIntersect:r}}const ixe=["color","file","time","date","datetime-local","week","month"],CK=qn({autofocus:Boolean,counter:[Boolean,Number,String],counterValue:[Number,Function],prefix:String,placeholder:String,persistentPlaceholder:Boolean,persistentCounter:Boolean,suffix:String,role:String,type:{type:String,default:"text"},modelModifiers:Object,...SI(),...m8()},"VTextField"),eI=ts()({name:"VTextField",directives:{vIntersect:NE},inheritAttrs:!1,props:CK(),emits:{"click:control":t=>!0,"mousedown:control":t=>!0,"update:focused":t=>!0,"update:modelValue":t=>!0},setup(t,r){let{attrs:i,emit:u,slots:m}=r;const h=ia(t,"modelValue"),{isFocused:x,focus:w,blur:R}=CI(t),{onIntersect:P}=$te(t),A=Mt(()=>typeof t.counterValue=="function"?t.counterValue(h.value):typeof t.counterValue=="number"?t.counterValue:(h.value??"").toString().length),M=Mt(()=>{if(i.maxlength)return i.maxlength;if(!(!t.counter||typeof t.counter!="number"&&typeof t.counter!="string"))return t.counter}),H=Mt(()=>["plain","underlined"].includes(t.variant)),K=Ln(),G=Ln(),te=Ln(),re=Mt(()=>ixe.includes(t.type)||t.persistentPlaceholder||x.value||t.active);function W(){x.value||w(),ys(()=>{te.value!==document.activeElement&&ys(()=>{var oe;return(oe=te.value)==null?void 0:oe.focus()})})}function ge(oe){u("mousedown:control",oe),oe.target!==te.value&&(W(),oe.preventDefault())}function he(oe){u("click:control",oe)}function j(oe,Ce){oe.stopPropagation(),W(),ys(()=>{h.value=null,Ce(),ZF(t["onClick:clear"],oe)})}function me(oe){var Ue;const Ce=oe.target;if(h.value=Ce.value,(Ue=t.modelModifiers)!=null&&Ue.trim&&["text","search","password","tel","url"].includes(t.type)){const et=[Ce.selectionStart,Ce.selectionEnd];ys(()=>{Ce.selectionStart=et[0],Ce.selectionEnd=et[1]})}}return $s(()=>{const oe=!!(m.counter||t.counter!==!1&&t.counter!=null),Ce=!!(oe||m.details),[Ue,et]=hI(i),{modelValue:dt,...Me}=Gx.filterProps(t),Ne=ME.filterProps(t);return ce(Gx,Xo({ref:K,modelValue:h.value,"onUpdate:modelValue":I=>h.value=I,class:["v-text-field",{"v-text-field--prefixed":t.prefix,"v-text-field--suffixed":t.suffix,"v-input--plain-underlined":H.value},t.class],style:t.style},Ue,Me,{centerAffix:!H.value,focused:x.value}),{...m,default:I=>{let{id:st,isDisabled:it,isDirty:Ft,isReadonly:Yt,isValid:mt,reset:Rn}=I;return ce(ME,Xo({ref:G,onMousedown:ge,onClick:he,"onClick:clear":Ot=>j(Ot,Rn),"onClick:prependInner":t["onClick:prependInner"],"onClick:appendInner":t["onClick:appendInner"],role:t.role},Ne,{id:st.value,active:re.value||Ft.value,dirty:Ft.value||t.dirty,disabled:it.value,focused:x.value,error:mt.value===!1}),{...m,default:Ot=>{let{props:{class:at,...Ve}}=Ot;const bt=Zn(ie("input",Xo({ref:te,value:h.value,onInput:me,autofocus:t.autofocus,readonly:Yt.value,disabled:it.value,name:t.name,placeholder:t.placeholder,size:1,type:t.type,onFocus:W,onBlur:R},Ve,et),null),[[NE,{handler:P},null,{once:!0}]]);return ie(ms,null,[t.prefix&&ie("span",{class:"v-text-field__prefix"},[ie("span",{class:"v-text-field__prefix__text"},[t.prefix])]),m.default?ie("div",{class:xo(at),"data-no-activator":""},[m.default(),bt]):B1(bt,{class:at}),t.suffix&&ie("span",{class:"v-text-field__suffix"},[ie("span",{class:"v-text-field__suffix__text"},[t.suffix])])])}})},details:Ce?I=>{var st;return ie(ms,null,[(st=m.details)==null?void 0:st.call(m,I),oe&&ie(ms,null,[ie("span",null,null),ce(wK,{active:t.persistentCounter||x.value,value:A.value,max:M.value,disabled:t.disabled},m.counter)])])}:void 0})}),Jx({},K,G,te)}}),axe=qn({renderless:Boolean,...or()},"VVirtualScrollItem"),lxe=ts()({name:"VVirtualScrollItem",inheritAttrs:!1,props:axe(),emits:{"update:height":t=>!0},setup(t,r){let{attrs:i,emit:u,slots:m}=r;const{resizeRef:h,contentRect:x}=IE(void 0,"border");Fn(()=>{var w;return(w=x.value)==null?void 0:w.height},w=>{w!=null&&u("update:height",w)}),$s(()=>{var w,R;return t.renderless?ie(ms,null,[(w=m.default)==null?void 0:w.call(m,{itemRef:h})]):ie("div",Xo({ref:h,class:["v-virtual-scroll__item",t.class],style:t.style},i),[(R=m.default)==null?void 0:R.call(m)])})}}),cxe=-1,uxe=1,xU=100,dxe=qn({itemHeight:{type:[Number,String],default:null},itemKey:{type:[String,Array,Function],default:null},height:[Number,String]},"virtual");function fxe(t,r){const i=YF(),u=Do(0);Wf(()=>{u.value=parseFloat(t.itemHeight||0)});const m=Do(0),h=Do(Math.ceil((parseInt(t.height)||i.height.value)/(u.value||16))||1),x=Do(0),w=Do(0),R=Ln(),P=Ln();let A=0;const{resizeRef:M,contentRect:H}=IE();Wf(()=>{M.value=R.value});const K=Mt(()=>{var Ot;return R.value===document.documentElement?i.height.value:((Ot=H.value)==null?void 0:Ot.height)||parseInt(t.height)||0}),G=Mt(()=>!!(R.value&&P.value&&K.value&&u.value));let te=Array.from({length:r.value.length}),re=Array.from({length:r.value.length});const W=Do(0);let ge=-1;function he(Ot){return te[Ot]||u.value}const j=rge(()=>{const Ot=performance.now();re[0]=0;const at=r.value.length;for(let Ve=1;Ve<=at-1;Ve++)re[Ve]=(re[Ve-1]||0)+he(Ve-1);W.value=Math.max(W.value,performance.now()-Ot)},W),me=Fn(G,Ot=>{Ot&&(me(),A=P.value.offsetTop,j.immediate(),Ft(),~ge&&ys(()=>{_i&&window.requestAnimationFrame(()=>{mt(ge),ge=-1})}))});tu(()=>{j.clear()});function oe(Ot,at){const Ve=te[Ot],bt=u.value;u.value=bt?Math.min(u.value,at):at,(Ve!==at||bt!==u.value)&&(te[Ot]=at,j())}function Ce(Ot){Ot=Lm(Ot,0,r.value.length-1);const at=Math.floor(Ot),Ve=Ot%1,bt=at+1,Yn=re[at]||0,Xt=re[bt]||Yn;return Yn+(Xt-Yn)*Ve}function Ue(Ot){return mxe(re,Ot)}let et=0,dt=0,Me=0;Fn(K,(Ot,at)=>{at&&(Ft(),Ot<at&&requestAnimationFrame(()=>{dt=0,Ft()}))});let Ne=-1;function I(){if(!R.value||!P.value)return;const Ot=R.value.scrollTop,at=performance.now();at-Me>500?(dt=Math.sign(Ot-et),A=P.value.offsetTop):dt=Ot-et,et=Ot,Me=at,window.clearTimeout(Ne),Ne=window.setTimeout(st,500),Ft()}function st(){!R.value||!P.value||(dt=0,Me=0,window.clearTimeout(Ne),Ft())}let it=-1;function Ft(){cancelAnimationFrame(it),it=requestAnimationFrame(Yt)}function Yt(){if(!R.value||!K.value||!u.value)return;const Ot=et-A,at=Math.sign(dt),Ve=Math.max(0,Ot-xU),bt=Lm(Ue(Ve),0,r.value.length),Yn=Ot+K.value+xU,Xt=Lm(Ue(Yn)+1,bt+1,r.value.length);if((at!==cxe||bt<m.value)&&(at!==uxe||Xt>h.value)){const Bn=Ce(m.value)-Ce(bt),Qt=Ce(Xt)-Ce(h.value);Math.max(Bn,Qt)>xU?(m.value=bt,h.value=Xt):(bt<=0&&(m.value=bt),Xt>=r.value.length&&(h.value=Xt))}x.value=Ce(m.value),w.value=Ce(r.value.length)-Ce(h.value)}function mt(Ot){const at=Ce(Ot);!R.value||Ot&&!at?ge=Ot:R.value.scrollTop=at}const Rn=Mt(()=>r.value.slice(m.value,h.value).map((Ot,at)=>{const Ve=at+m.value;return{raw:Ot,index:Ve,key:Yh(Ot,t.itemKey,Ve)}}));return Fn(r,()=>{te=Array.from({length:r.value.length}),re=Array.from({length:r.value.length}),j.immediate(),Ft()},{deep:1}),{calculateVisibleItems:Ft,containerRef:R,markerRef:P,computedItems:Rn,paddingTop:x,paddingBottom:w,scrollToIndex:mt,handleScroll:I,handleScrollend:st,handleItemResize:oe}}function mxe(t,r){let i=t.length-1,u=0,m=0,h=null,x=-1;if(t[i]<r)return i;for(;u<=i;)if(m=u+i>>1,h=t[m],h>r)i=m-1;else if(h<r)x=m,u=m+1;else return h===r?m:u;return x}const gxe=qn({items:{type:Array,default:()=>[]},renderless:Boolean,...dxe(),...or(),...bb()},"VVirtualScroll"),Vte=ts()({name:"VVirtualScroll",props:gxe(),setup(t,r){let{slots:i}=r;const u=wc("VVirtualScroll"),{dimensionStyles:m}=vb(t),{calculateVisibleItems:h,containerRef:x,markerRef:w,handleScroll:R,handleScrollend:P,handleItemResize:A,scrollToIndex:M,paddingTop:H,paddingBottom:K,computedItems:G}=fxe(t,En(()=>t.items));return Jh(()=>t.renderless,()=>{function te(){var ge,he;const W=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1)?"addEventListener":"removeEventListener";x.value===document.documentElement?(document[W]("scroll",R,{passive:!0}),document[W]("scrollend",P)):((ge=x.value)==null||ge[W]("scroll",R,{passive:!0}),(he=x.value)==null||he[W]("scrollend",P))}Zd(()=>{x.value=OQ(u.vnode.el,!0),te(!0)}),tu(te)}),$s(()=>{const te=G.value.map(re=>ce(lxe,{key:re.key,renderless:t.renderless,"onUpdate:height":W=>A(re.index,W)},{default:W=>{var ge;return(ge=i.default)==null?void 0:ge.call(i,{item:re.raw,index:re.index,...W})}}));return t.renderless?ie(ms,null,[ie("div",{ref:w,class:"v-virtual-scroll__spacer",style:{paddingTop:Fs(H.value)}},null),te,ie("div",{class:"v-virtual-scroll__spacer",style:{paddingBottom:Fs(K.value)}},null)]):ie("div",{ref:x,class:xo(["v-virtual-scroll",t.class]),onScrollPassive:R,onScrollend:P,style:Qs([m.value,t.style])},[ie("div",{ref:w,class:"v-virtual-scroll__container",style:{paddingTop:Fs(H.value),paddingBottom:Fs(K.value)}},[te])])}),{calculateVisibleItems:h,scrollToIndex:M}}});function zte(t,r){const i=Do(!1);let u;function m(w){cancelAnimationFrame(u),i.value=!0,u=requestAnimationFrame(()=>{u=requestAnimationFrame(()=>{i.value=!1})})}async function h(){await new Promise(w=>requestAnimationFrame(w)),await new Promise(w=>requestAnimationFrame(w)),await new Promise(w=>requestAnimationFrame(w)),await new Promise(w=>{if(i.value){const R=Fn(i,()=>{R(),w()})}else w()})}async function x(w){var A,M;if(w.key==="Tab"&&((A=r.value)==null||A.focus()),!["PageDown","PageUp","Home","End"].includes(w.key))return;const R=(M=t.value)==null?void 0:M.$el;if(!R)return;(w.key==="Home"||w.key==="End")&&R.scrollTo({top:w.key==="Home"?0:R.scrollHeight,behavior:"smooth"}),await h();const P=R.querySelectorAll(":scope > :not(.v-virtual-scroll__spacer)");if(w.key==="PageDown"||w.key==="Home"){const H=R.getBoundingClientRect().top;for(const K of P)if(K.getBoundingClientRect().top>=H){K.focus();break}}else{const H=R.getBoundingClientRect().bottom;for(const K of[...P].reverse())if(K.getBoundingClientRect().bottom<=H){K.focus();break}}}return{onScrollPassive:m,onKeydown:x}}const Hte=qn({chips:Boolean,closableChips:Boolean,closeText:{type:String,default:"$vuetify.close"},openText:{type:String,default:"$vuetify.open"},eager:Boolean,hideNoData:Boolean,hideSelected:Boolean,listProps:{type:Object},menu:Boolean,menuIcon:{type:fi,default:"$dropdown"},menuProps:{type:Object},multiple:Boolean,noDataText:{type:String,default:"$vuetify.noDataText"},openOnClear:Boolean,itemColor:String,noAutoScroll:Boolean,...Mte({itemChildren:!1})},"Select"),hxe=qn({...Hte(),...qx(CK({modelValue:null,role:"combobox"}),["validationValue","dirty","appendInnerIcon"]),...ZE({transition:{component:gK}})},"VSelect");ts()({name:"VSelect",props:hxe(),emits:{"update:focused":t=>!0,"update:modelValue":t=>!0,"update:menu":t=>!0},setup(t,r){let{slots:i}=r;const{t:u}=zE(),m=Ln(),h=Ln(),x=Ln(),{items:w,transformIn:R,transformOut:P}=Bte(t),A=ia(t,"modelValue",[],Ot=>R(Ot===null?[null]:Kd(Ot)),Ot=>{const at=P(Ot);return t.multiple?at:at[0]??null}),M=Mt(()=>typeof t.counterValue=="function"?t.counterValue(A.value):typeof t.counterValue=="number"?t.counterValue:A.value.length),H=pK(t),K=Mt(()=>A.value.map(Ot=>Ot.value)),G=Do(!1);let te="",re=-1,W;const ge=Mt(()=>t.hideSelected?w.value.filter(Ot=>!A.value.some(at=>(t.valueComparator||Qh)(at,Ot))):w.value),he=Mt(()=>t.hideNoData&&!ge.value.length||H.isReadonly.value||H.isDisabled.value),j=ia(t,"menu"),me=Mt({get:()=>j.value,set:Ot=>{var at;j.value&&!Ot&&((at=h.value)!=null&&at.openChildren.size)||Ot&&he.value||(j.value=Ot)}}),oe=En(()=>me.value?t.closeText:t.openText),Ce=Mt(()=>{var Ot;return{...t.menuProps,activatorProps:{...((Ot=t.menuProps)==null?void 0:Ot.activatorProps)||{},"aria-haspopup":"listbox"}}}),Ue=Ln(),et=zte(Ue,m);function dt(Ot){t.openOnClear&&(me.value=!0)}function Me(){he.value||(me.value=!me.value)}function Ne(Ot){fF(Ot)&&I(Ot)}function I(Ot){var vo,nn,yn;if(!Ot.key||H.isReadonly.value)return;["Enter"," ","ArrowDown","ArrowUp","Home","End"].includes(Ot.key)&&Ot.preventDefault(),["Enter","ArrowDown"," "].includes(Ot.key)&&(me.value=!0),["Escape","Tab"].includes(Ot.key)&&(me.value=!1),Ot.key==="Home"?(vo=Ue.value)==null||vo.focus("first"):Ot.key==="End"&&((nn=Ue.value)==null||nn.focus("last"));const at=1e3;if(!fF(Ot))return;const Ve=performance.now();Ve-W>at&&(te="",re=-1),te+=Ot.key.toLowerCase(),W=Ve;const bt=ge.value;function Yn(){let qe=Xt();return qe||te.at(-1)===te.at(-2)&&(te=te.slice(0,-1),qe=Xt(),qe)||(re=-1,qe=Xt(),qe)?qe:(te=Ot.key.toLowerCase(),Xt())}function Xt(){for(let qe=re+1;qe<bt.length;qe++){const lt=bt[qe];if(lt.title.toLowerCase().startsWith(te))return[lt,qe]}}const Bn=Yn();if(!Bn)return;const[Qt,ee]=Bn;re=ee,(yn=Ue.value)==null||yn.focus(ee),t.multiple||(A.value=[Qt])}function st(Ot){let at=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(!Ot.props.disabled)if(t.multiple){const Ve=A.value.findIndex(Yn=>(t.valueComparator||Qh)(Yn.value,Ot.value)),bt=at??!~Ve;if(~Ve){const Yn=bt?[...A.value,Ot]:[...A.value];Yn.splice(Ve,1),A.value=Yn}else bt&&(A.value=[...A.value,Ot])}else{const Ve=at!==!1;A.value=Ve?[Ot]:[],ys(()=>{me.value=!1})}}function it(Ot){var at;(at=Ue.value)!=null&&at.$el.contains(Ot.relatedTarget)||(me.value=!1)}function Ft(){var Ot;t.eager&&((Ot=x.value)==null||Ot.calculateVisibleItems())}function Yt(){var Ot;G.value&&((Ot=m.value)==null||Ot.focus())}function mt(Ot){G.value=!0}function Rn(Ot){if(Ot==null)A.value=[];else if(OE(m.value,":autofill")||OE(m.value,":-webkit-autofill")){const at=w.value.find(Ve=>Ve.title===Ot);at&&st(at)}else m.value&&(m.value.value="")}return Fn(me,()=>{if(!t.hideSelected&&me.value&&A.value.length){const Ot=ge.value.findIndex(at=>A.value.some(Ve=>(t.valueComparator||Qh)(Ve.value,at.value)));_i&&!t.noAutoScroll&&window.requestAnimationFrame(()=>{var at;Ot>=0&&((at=x.value)==null||at.scrollToIndex(Ot))})}}),Fn(()=>t.items,(Ot,at)=>{me.value||G.value&&!at.length&&Ot.length&&(me.value=!0)}),$s(()=>{const Ot=!!(t.chips||i.chip),at=!!(!t.hideNoData||ge.value.length||i["prepend-item"]||i["append-item"]||i["no-data"]),Ve=A.value.length>0,bt=eI.filterProps(t),Yn=Ve||!G.value&&t.label&&!t.persistentPlaceholder?void 0:t.placeholder;return ce(eI,Xo({ref:m},bt,{modelValue:A.value.map(Xt=>Xt.props.value).join(", "),"onUpdate:modelValue":Rn,focused:G.value,"onUpdate:focused":Xt=>G.value=Xt,validationValue:A.externalValue,counterValue:M.value,dirty:Ve,class:["v-select",{"v-select--active-menu":me.value,"v-select--chips":!!t.chips,[`v-select--${t.multiple?"multiple":"single"}`]:!0,"v-select--selected":A.value.length,"v-select--selection-slot":!!i.selection},t.class],style:t.style,inputmode:"none",placeholder:Yn,"onClick:clear":dt,"onMousedown:control":Me,onBlur:it,onKeydown:I,"aria-label":u(oe.value),title:u(oe.value)}),{...i,default:()=>ie(ms,null,[ce(kI,Xo({ref:h,modelValue:me.value,"onUpdate:modelValue":Xt=>me.value=Xt,activator:"parent",contentClass:"v-select__content",disabled:he.value,eager:t.eager,maxHeight:310,openOnClick:!1,closeOnContentClick:!1,transition:t.transition,onAfterEnter:Ft,onAfterLeave:Yt},Ce.value),{default:()=>[at&&ce(_I,Xo({ref:Ue,selected:K.value,selectStrategy:t.multiple?"independent":"single-independent",onMousedown:Xt=>Xt.preventDefault(),onKeydown:Ne,onFocusin:mt,tabindex:"-1","aria-live":"polite","aria-label":`${t.label}-list`,color:t.itemColor??t.color},et,t.listProps),{default:()=>{var Xt,Bn,Qt;return[(Xt=i["prepend-item"])==null?void 0:Xt.call(i),!ge.value.length&&!t.hideNoData&&(((Bn=i["no-data"])==null?void 0:Bn.call(i))??ce(dd,{key:"no-data",title:u(t.noDataText)},null)),ce(Vte,{ref:x,renderless:!0,items:ge.value,itemKey:"value"},{default:ee=>{var Se,Pe,Ke;let{item:vo,index:nn,itemRef:yn}=ee;const qe=uge(vo.props),lt=Xo(vo.props,{ref:yn,key:vo.value,onClick:()=>st(vo,null)});return vo.type==="divider"?((Se=i.divider)==null?void 0:Se.call(i,{props:vo.raw,index:nn}))??ce(kE,Xo(vo.props,{key:`divider-${nn}`}),null):vo.type==="subheader"?((Pe=i.subheader)==null?void 0:Pe.call(i,{props:vo.raw,index:nn}))??ce(xK,Xo(vo.props,{key:`subheader-${nn}`}),null):((Ke=i.item)==null?void 0:Ke.call(i,{item:vo,index:nn,props:lt}))??ce(dd,Xo(lt,{role:"option"}),{prepend:xe=>{let{isSelected:Ae}=xe;return ie(ms,null,[t.multiple&&!t.hideSelected?ce(OF,{key:vo.value,modelValue:Ae,ripple:!1,tabindex:"-1"},null):void 0,qe.prependAvatar&&ce(Zx,{image:qe.prependAvatar},null),qe.prependIcon&&ce(Gn,{icon:qe.prependIcon},null)])}})}}),(Qt=i["append-item"])==null?void 0:Qt.call(i)]}})]}),A.value.map((Xt,Bn)=>{function Qt(yn){yn.stopPropagation(),yn.preventDefault(),st(Xt,!1)}const ee={"onClick:close":Qt,onKeydown(yn){yn.key!=="Enter"&&yn.key!==" "||(yn.preventDefault(),yn.stopPropagation(),Qt(yn))},onMousedown(yn){yn.preventDefault(),yn.stopPropagation()},modelValue:!0,"onUpdate:modelValue":void 0},vo=Ot?!!i.chip:!!i.selection,nn=vo?jW(Ot?i.chip({item:Xt,index:Bn,props:ee}):i.selection({item:Xt,index:Bn})):void 0;if(!(vo&&!nn))return ie("div",{key:Xt.value,class:"v-select__selection"},[Ot?i.chip?ce(ul,{key:"chip-defaults",defaults:{VChip:{closable:t.closableChips,size:"small",text:Xt.title}}},{default:()=>[nn]}):ce(bK,Xo({key:"chip",closable:t.closableChips,size:"small",text:Xt.title,disabled:Xt.props.disabled},ee),null):nn??ie("span",{class:"v-select__selection-text"},[Xt.title,t.multiple&&Bn<A.value.length-1&&ie("span",{class:"v-select__selection-comma"},[Cs(",")])])])})]),"append-inner":function(){var ee,vo;for(var Xt=arguments.length,Bn=new Array(Xt),Qt=0;Qt<Xt;Qt++)Bn[Qt]=arguments[Qt];return ie(ms,null,[(ee=i["append-inner"])==null?void 0:ee.call(i,...Bn),t.menuIcon?ce(Gn,{class:"v-select__menu-icon",color:(vo=m.value)==null?void 0:vo.fieldIconColor,icon:t.menuIcon},null):void 0])}})}),Jx({isFocused:G,menu:me,select:st},m)}});const pxe=(t,r,i)=>{if(t==null||r==null)return-1;if(!r.length)return 0;t=t.toString().toLocaleLowerCase(),r=r.toString().toLocaleLowerCase();const u=[];let m=t.indexOf(r);for(;~m;)u.push([m,m+r.length]),m=t.indexOf(r,m+r.length);return u.length?u:-1};function wU(t,r){if(!(t==null||typeof t=="boolean"||t===-1))return typeof t=="number"?[[t,t+r.length]]:Array.isArray(t[0])?t:[t]}const bxe=qn({customFilter:Function,customKeyFilter:Object,filterKeys:[Array,String],filterMode:{type:String,default:"intersection"},noFilter:Boolean},"filter");function vxe(t,r,i){var w;const u=[],m=(i==null?void 0:i.default)??pxe,h=i!=null&&i.filterKeys?Kd(i.filterKeys):!1,x=Object.keys((i==null?void 0:i.customKeyFilter)??{}).length;if(!(t!=null&&t.length))return u;e:for(let R=0;R<t.length;R++){const[P,A=P]=Kd(t[R]),M={},H={};let K=-1;if((r||x>0)&&!(i!=null&&i.noFilter)){if(typeof P=="object"){if(P.type==="divider"||P.type==="subheader")continue;const re=h||Object.keys(A);for(const W of re){const ge=Yh(A,W),he=(w=i==null?void 0:i.customKeyFilter)==null?void 0:w[W];if(K=he?he(ge,r,P):m(ge,r,P),K!==-1&&K!==!1)he?M[W]=wU(K,r):H[W]=wU(K,r);else if((i==null?void 0:i.filterMode)==="every")continue e}}else K=m(P,r,P),K!==-1&&K!==!1&&(H.title=wU(K,r));const G=Object.keys(H).length,te=Object.keys(M).length;if(!G&&!te||(i==null?void 0:i.filterMode)==="union"&&te!==x&&!G||(i==null?void 0:i.filterMode)==="intersection"&&(te!==x||!G))continue}u.push({index:R,matches:{...H,...M}})}return u}function yxe(t,r,i,u){const m=Do([]),h=Do(new Map),x=Mt(()=>ne(r));Wf(()=>{const R=typeof i=="function"?i():ne(i),P=typeof R!="string"&&typeof R!="number"?"":String(R),A=vxe(x.value,P,{customKeyFilter:{...t.customKeyFilter,...ne(u==null?void 0:u.customKeyFilter)},default:t.customFilter,filterKeys:t.filterKeys,filterMode:t.filterMode,noFilter:t.noFilter}),M=ne(r),H=[],K=new Map;A.forEach(G=>{let{index:te,matches:re}=G;const W=M[te];H.push(W),K.set(W.value,re)}),m.value=H,h.value=K});function w(R){return h.value.get(R.value)}return{filteredItems:m,filteredMatches:h,getMatches:w}}function xxe(t,r,i){return i==null||!i.length?r:i.map((u,m)=>{const h=m===0?0:i[m-1][1],x=[ie("span",{class:xo(`${t}__unmask`)},[r.slice(h,u[0])]),ie("span",{class:xo(`${t}__mask`)},[r.slice(u[0],u[1])])];return m===i.length-1&&x.push(ie("span",{class:xo(`${t}__unmask`)},[r.slice(u[1])])),ie(ms,null,[x])})}const wxe=qn({autoSelectFirst:{type:[Boolean,String]},clearOnSelect:Boolean,search:String,...bxe({filterKeys:["title"]}),...Hte(),...qx(CK({modelValue:null,role:"combobox"}),["validationValue","dirty","appendInnerIcon"]),...ZE({transition:!1})},"VAutocomplete"),SK=ts()({name:"VAutocomplete",props:wxe(),emits:{"update:focused":t=>!0,"update:search":t=>!0,"update:modelValue":t=>!0,"update:menu":t=>!0},setup(t,r){let{slots:i}=r;const{t:u}=zE(),m=Ln(),h=Do(!1),x=Do(!0),w=Do(!1),R=Ln(),P=Ln(),A=Do(-1),{items:M,transformIn:H,transformOut:K}=Bte(t),{textColorClasses:G,textColorStyles:te}=gb(()=>{var nn;return(nn=m.value)==null?void 0:nn.color}),re=ia(t,"search",""),W=ia(t,"modelValue",[],nn=>H(nn===null?[null]:Kd(nn)),nn=>{const yn=K(nn);return t.multiple?yn:yn[0]??null}),ge=Mt(()=>typeof t.counterValue=="function"?t.counterValue(W.value):typeof t.counterValue=="number"?t.counterValue:W.value.length),he=pK(t),{filteredItems:j,getMatches:me}=yxe(t,M,()=>x.value?"":re.value),oe=Mt(()=>t.hideSelected?j.value.filter(nn=>!W.value.some(yn=>yn.value===nn.value)):j.value),Ce=Mt(()=>!!(t.chips||i.chip)),Ue=Mt(()=>Ce.value||!!i.selection),et=Mt(()=>W.value.map(nn=>nn.props.value)),dt=Mt(()=>{var yn;return(t.autoSelectFirst===!0||t.autoSelectFirst==="exact"&&re.value===((yn=oe.value[0])==null?void 0:yn.title))&&oe.value.length>0&&!x.value&&!w.value}),Me=Mt(()=>t.hideNoData&&!oe.value.length||he.isReadonly.value||he.isDisabled.value),Ne=ia(t,"menu"),I=Mt({get:()=>Ne.value,set:nn=>{var yn;Ne.value&&!nn&&((yn=R.value)!=null&&yn.openChildren.size)||nn&&Me.value||(Ne.value=nn)}}),st=Mt(()=>I.value?t.closeText:t.openText),it=Ln(),Ft=zte(it,m);function Yt(nn){t.openOnClear&&(I.value=!0),re.value=""}function mt(){Me.value||(I.value=!0)}function Rn(nn){Me.value||(h.value&&(nn.preventDefault(),nn.stopPropagation()),I.value=!I.value)}function Ot(nn){var yn;(fF(nn)||nn.key==="Backspace")&&((yn=m.value)==null||yn.focus())}function at(nn){var lt,Se,Pe,Ke,xe;if(he.isReadonly.value)return;const yn=(lt=m.value)==null?void 0:lt.selectionStart,qe=W.value.length;if(["Enter","ArrowDown","ArrowUp"].includes(nn.key)&&nn.preventDefault(),["Enter","ArrowDown"].includes(nn.key)&&(I.value=!0),["Escape"].includes(nn.key)&&(I.value=!1),dt.value&&["Enter","Tab"].includes(nn.key)&&!W.value.some(Ae=>{let{value:Fe}=Ae;return Fe===oe.value[0].value})&&vo(oe.value[0]),nn.key==="ArrowDown"&&dt.value&&((Se=it.value)==null||Se.focus("next")),["Backspace","Delete"].includes(nn.key)){if(!t.multiple&&Ue.value&&W.value.length>0&&!re.value)return vo(W.value[0],!1);if(~A.value){nn.preventDefault();const Ae=A.value;vo(W.value[A.value],!1),A.value=Ae>=qe-1?qe-2:Ae}else nn.key==="Backspace"&&!re.value&&(A.value=qe-1);return}if(t.multiple)if(nn.key==="ArrowLeft"){if(A.value<0&&yn&&yn>0)return;const Ae=A.value>-1?A.value-1:qe-1;if(W.value[Ae])A.value=Ae;else{const Fe=((Pe=re.value)==null?void 0:Pe.length)??null;A.value=-1,(Ke=m.value)==null||Ke.setSelectionRange(Fe,Fe)}}else if(nn.key==="ArrowRight"){if(A.value<0)return;const Ae=A.value+1;W.value[Ae]?A.value=Ae:(A.value=-1,(xe=m.value)==null||xe.setSelectionRange(0,0))}else~A.value&&fF(nn)&&(A.value=-1)}function Ve(nn){if(OE(m.value,":autofill")||OE(m.value,":-webkit-autofill")){const yn=M.value.find(qe=>qe.title===nn.target.value);yn&&vo(yn)}}function bt(){var nn;t.eager&&((nn=P.value)==null||nn.calculateVisibleItems())}function Yn(){var nn;h.value&&(x.value=!0,(nn=m.value)==null||nn.focus())}function Xt(nn){h.value=!0,setTimeout(()=>{w.value=!0})}function Bn(nn){w.value=!1}function Qt(nn){(nn==null||nn===""&&!t.multiple&&!Ue.value)&&(W.value=[])}const ee=Do(!1);function vo(nn){let yn=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(!(!nn||nn.props.disabled))if(t.multiple){const qe=W.value.findIndex(Se=>(t.valueComparator||Qh)(Se.value,nn.value)),lt=yn??!~qe;if(~qe){const Se=lt?[...W.value,nn]:[...W.value];Se.splice(qe,1),W.value=Se}else lt&&(W.value=[...W.value,nn]);t.clearOnSelect&&(re.value="")}else{const qe=yn!==!1;W.value=qe?[nn]:[],re.value=qe&&!Ue.value?nn.title:"",ys(()=>{I.value=!1,x.value=!0})}}return Fn(h,(nn,yn)=>{var qe;nn!==yn&&(nn?(ee.value=!0,re.value=t.multiple||Ue.value?"":String(((qe=W.value.at(-1))==null?void 0:qe.props.title)??""),x.value=!0,ys(()=>ee.value=!1)):(!t.multiple&&re.value==null&&(W.value=[]),I.value=!1,(t.multiple||Ue.value)&&(re.value=""),A.value=-1))}),Fn(re,nn=>{!h.value||ee.value||(nn&&(I.value=!0),x.value=!nn)}),Fn(I,()=>{if(!t.hideSelected&&I.value&&W.value.length){const nn=oe.value.findIndex(yn=>W.value.some(qe=>yn.value===qe.value));_i&&window.requestAnimationFrame(()=>{var yn;nn>=0&&((yn=P.value)==null||yn.scrollToIndex(nn))})}}),Fn(()=>t.items,(nn,yn)=>{I.value||h.value&&!yn.length&&nn.length&&(I.value=!0)}),$s(()=>{const nn=!!(!t.hideNoData||oe.value.length||i["prepend-item"]||i["append-item"]||i["no-data"]),yn=W.value.length>0,qe=eI.filterProps(t);return ce(eI,Xo({ref:m},qe,{modelValue:re.value,"onUpdate:modelValue":[lt=>re.value=lt,Qt],focused:h.value,"onUpdate:focused":lt=>h.value=lt,validationValue:W.externalValue,counterValue:ge.value,dirty:yn,onChange:Ve,class:["v-autocomplete",`v-autocomplete--${t.multiple?"multiple":"single"}`,{"v-autocomplete--active-menu":I.value,"v-autocomplete--chips":!!t.chips,"v-autocomplete--selection-slot":!!Ue.value,"v-autocomplete--selecting-index":A.value>-1},t.class],style:t.style,readonly:he.isReadonly.value,placeholder:yn?void 0:t.placeholder,"onClick:clear":Yt,"onMousedown:control":mt,onKeydown:at}),{...i,default:()=>ie(ms,null,[ce(kI,Xo({ref:R,modelValue:I.value,"onUpdate:modelValue":lt=>I.value=lt,activator:"parent",contentClass:"v-autocomplete__content",disabled:Me.value,eager:t.eager,maxHeight:310,openOnClick:!1,closeOnContentClick:!1,transition:t.transition,onAfterEnter:bt,onAfterLeave:Yn},t.menuProps),{default:()=>[nn&&ce(_I,Xo({ref:it,filterable:!0,selected:et.value,selectStrategy:t.multiple?"independent":"single-independent",onMousedown:lt=>lt.preventDefault(),onKeydown:Ot,onFocusin:Xt,onFocusout:Bn,tabindex:"-1","aria-live":"polite",color:t.itemColor??t.color},Ft,t.listProps),{default:()=>{var lt,Se,Pe;return[(lt=i["prepend-item"])==null?void 0:lt.call(i),!oe.value.length&&!t.hideNoData&&(((Se=i["no-data"])==null?void 0:Se.call(i))??ce(dd,{key:"no-data",title:u(t.noDataText)},null)),ce(Vte,{ref:P,renderless:!0,items:oe.value,itemKey:"value"},{default:Ke=>{var wt,pn,en;let{item:xe,index:Ae,itemRef:Fe}=Ke;const Je=Xo(xe.props,{ref:Fe,key:xe.value,active:dt.value&&Ae===0?!0:void 0,onClick:()=>vo(xe,null)});return xe.type==="divider"?((wt=i.divider)==null?void 0:wt.call(i,{props:xe.raw,index:Ae}))??ce(kE,Xo(xe.props,{key:`divider-${Ae}`}),null):xe.type==="subheader"?((pn=i.subheader)==null?void 0:pn.call(i,{props:xe.raw,index:Ae}))??ce(xK,Xo(xe.props,{key:`subheader-${Ae}`}),null):((en=i.item)==null?void 0:en.call(i,{item:xe,index:Ae,props:Je}))??ce(dd,Xo(Je,{role:"option"}),{prepend:An=>{let{isSelected:no}=An;return ie(ms,null,[t.multiple&&!t.hideSelected?ce(OF,{key:xe.value,modelValue:no,ripple:!1,tabindex:"-1"},null):void 0,xe.props.prependAvatar&&ce(Zx,{image:xe.props.prependAvatar},null),xe.props.prependIcon&&ce(Gn,{icon:xe.props.prependIcon},null)])},title:()=>{var An;return x.value?xe.title:xxe("v-autocomplete",xe.title,(An=me(xe))==null?void 0:An.title)}})}}),(Pe=i["append-item"])==null?void 0:Pe.call(i)]}})]}),W.value.map((lt,Se)=>{function Pe(Fe){Fe.stopPropagation(),Fe.preventDefault(),vo(lt,!1)}const Ke={"onClick:close":Pe,onKeydown(Fe){Fe.key!=="Enter"&&Fe.key!==" "||(Fe.preventDefault(),Fe.stopPropagation(),Pe(Fe))},onMousedown(Fe){Fe.preventDefault(),Fe.stopPropagation()},modelValue:!0,"onUpdate:modelValue":void 0},xe=Ce.value?!!i.chip:!!i.selection,Ae=xe?jW(Ce.value?i.chip({item:lt,index:Se,props:Ke}):i.selection({item:lt,index:Se})):void 0;if(!(xe&&!Ae))return ie("div",{key:lt.value,class:xo(["v-autocomplete__selection",Se===A.value&&["v-autocomplete__selection--selected",G.value]]),style:Qs(Se===A.value?te.value:{})},[Ce.value?i.chip?ce(ul,{key:"chip-defaults",defaults:{VChip:{closable:t.closableChips,size:"small",text:lt.title}}},{default:()=>[Ae]}):ce(bK,Xo({key:"chip",closable:t.closableChips,size:"small",text:lt.title,disabled:lt.props.disabled},Ke),null):Ae??ie("span",{class:"v-autocomplete__selection-text"},[lt.title,t.multiple&&Se<W.value.length-1&&ie("span",{class:"v-autocomplete__selection-comma"},[Cs(",")])])])})]),"append-inner":function(){var Ke,xe;for(var lt=arguments.length,Se=new Array(lt),Pe=0;Pe<lt;Pe++)Se[Pe]=arguments[Pe];return ie(ms,null,[(Ke=i["append-inner"])==null?void 0:Ke.call(i,...Se),t.menuIcon?ce(Gn,{class:"v-autocomplete__menu-icon",color:(xe=m.value)==null?void 0:xe.fieldIconColor,icon:t.menuIcon,onMousedown:Rn,onClick:age,"aria-label":u(st.value),title:u(st.value),tabindex:"-1"},null):void 0])}})}),Jx({isFocused:h,isPristine:x,menu:I,search:re,filteredItems:j,select:vo},m)}}),Cxe={class:"sr-only"},Sxe={class:"sr-only"},_xe={__name:"Items",setup(t){const r=Ee.api(),i=Ee.items(),u=Ln(!1),m=Ln(!1),h=Ln("");Ln(!1);const{t:x}=Pu.global;async function w(){await ys(),u.value&&(m.value=!0,h.value="")}async function R(){u.value=!1,i.changeItem(h.value)}return(P,A)=>(Jt(),mo(ms,null,[ce(Io,{disabled:ne(r).isLoading||!ne(i).previousKey,onClick:A[0]||(A[0]=M=>ne(i).changeItem(ne(i).previousKey))},{default:xt(()=>[ce(Gn,{left:"",icon:"mdi-arrow-left-bold"}),ie("span",Cxe,He(P.$t("itemsPreviousWriter")),1)]),_:1},8,["disabled"]),ce(Io,{disabled:ne(r).isLoading,id:"app-items-menu-activator"},{default:xt(()=>[Zn(ie("span",null,He(P.$t("allLoadData")),513),[[Co,ne(r).isLoading]]),Zn(ie("span",null,He(ne(i).currentItem.title),513),[[Co,!ne(r).isLoading&&ne(i).currentItem!==void 0]])]),_:1},8,["disabled"]),ce(Io,{disabled:ne(r).isLoading||!ne(i).nextKey,onClick:A[1]||(A[1]=M=>ne(i).changeItem(ne(i).nextKey))},{default:xt(()=>[ce(Gn,{left:"",icon:"mdi-arrow-right-bold"}),ie("span",Sxe,He(P.$t("itemsNextWriter")),1)]),_:1},8,["disabled"]),ce(kI,{disabled:ne(r).isLoading,modelValue:u.value,"onUpdate:modelValue":[A[4]||(A[4]=M=>u.value=M),A[5]||(A[5]=M=>w())],activator:"#app-items-menu-activator","close-on-content-click":!1},{default:xt(()=>[m.value?(Jt(),Go(SK,{key:0,id:"app-items-autocomplete",modelValue:h.value,"onUpdate:modelValue":[A[2]||(A[2]=M=>h.value=M),A[3]||(A[3]=M=>R())],items:ne(i).sortedItems,menu:!0,"item-title":"title","item-value":"key",autofocus:"","auto-select-first":"",class:"flex-full-width",density:"comfortable","item-props":"","menu-icon":"",placeholder:P.$t("itemsWriter"),"prepend-inner-icon":"mdi-magnify",theme:"light",variant:"solo"},null,8,["modelValue","items","placeholder"])):Jn("",!0)]),_:1},8,["disabled","modelValue"])],64))}},kxe={class:"sr-only"},Exe={class:"sr-only"},Txe={__name:"Tasks",setup(t){const r=Ee.api(),i=Ee.items(),u=Ee.tasks(),m=Ln(!1),h=Ln(!1),x=Ln("");Ln(!1);const{t:w}=Pu.global;async function R(){await ys(),m.value&&(h.value=!0,x.value="")}async function P(){var A;m.value=!1,i.changeItem((A=i.getByTask(x.value))==null?void 0:A.key)}return(A,M)=>(Jt(),mo(ms,null,[ce(Io,{disabled:ne(r).isLoading||!ne(u).previousKey,onClick:M[0]||(M[0]=H=>{var K;return ne(i).changeItem((K=ne(i).getByTask(ne(u).previousKey))==null?void 0:K.key)})},{default:xt(()=>[ce(Gn,{left:"",icon:"mdi-arrow-left-bold"}),ie("span",kxe,He(A.$t("tasksPreviousTask")),1)]),_:1},8,["disabled"]),ce(Io,{disabled:ne(r).isLoading,id:"app-tasks-menu-activator"},{default:xt(()=>{var H;return[Zn(ie("span",null,He(A.$t("allLoadData")),513),[[Co,ne(r).isLoading]]),Zn(ie("span",null,He((H=ne(u).currentTask)==null?void 0:H.title),513),[[Co,!ne(r).isLoading&&ne(i).currentItem!==void 0]])]}),_:1},8,["disabled"]),ce(Io,{disabled:ne(r).isLoading||!ne(u).nextKey,onClick:M[1]||(M[1]=H=>{var K;return ne(i).changeItem((K=ne(i).getByTask(ne(u).nextKey))==null?void 0:K.key)})},{default:xt(()=>[ce(Gn,{left:"",icon:"mdi-arrow-right-bold"}),ie("span",Exe,He(A.$t("tasksNextTask")),1)]),_:1},8,["disabled"]),ce(kI,{disabled:ne(r).isLoading,modelValue:m.value,"onUpdate:modelValue":[M[4]||(M[4]=H=>m.value=H),M[5]||(M[5]=H=>R())],activator:"#app-tasks-menu-activator","close-on-content-click":!1},{default:xt(()=>[h.value?(Jt(),Go(SK,{key:0,id:"app-taks-autocomplete",modelValue:x.value,"onUpdate:modelValue":[M[2]||(M[2]=H=>x.value=H),M[3]||(M[3]=H=>P())],items:ne(u).sortedTasks,menu:!0,"item-title":"title","item-value":"key",autofocus:"","auto-select-first":"",class:"flex-full-width",density:"comfortable","item-props":"","menu-icon":"",placeholder:A.$t("tasksTasks"),"prepend-inner-icon":"mdi-magnify",theme:"light",variant:"solo"},null,8,["modelValue","items","placeholder"])):Jn("",!0)]),_:1},8,["disabled","modelValue"])],64))}},Axe=qn({text:String,...or(),...Wa()},"VToolbarTitle"),Oxe=ts()({name:"VToolbarTitle",props:Axe(),setup(t,r){let{slots:i}=r;return $s(()=>{const u=!!(i.default||i.text||t.text);return ce(t.tag,{class:xo(["v-toolbar-title",t.class]),style:Qs(t.style)},{default:()=>{var m;return[u&&ie("div",{class:"v-toolbar-title__placeholder"},[i.text?i.text():t.text,(m=i.default)==null?void 0:m.call(i)])]}})}),{}}}),Rxe=[null,"prominent","default","comfortable","compact"],Ute=qn({absolute:Boolean,collapse:Boolean,color:String,density:{type:String,default:"default",validator:t=>Rxe.includes(t)},extended:{type:Boolean,default:null},extensionHeight:{type:[Number,String],default:48},flat:Boolean,floating:Boolean,height:{type:[Number,String],default:64},image:String,title:String,...U1(),...or(),...K1(),...Bg(),...Wa({tag:"header"}),...sc()},"VToolbar"),uX=ts()({name:"VToolbar",props:Ute(),setup(t,r){var K;let{slots:i}=r;const{backgroundColorClasses:u,backgroundColorStyles:m}=db(()=>t.color),{borderClasses:h}=W1(t),{elevationClasses:x}=j1(t),{roundedClasses:w}=Fg(t),{themeClasses:R}=nu(t),{rtlClasses:P}=ep(),A=Do(t.extended===null?!!((K=i.extension)!=null&&K.call(i)):t.extended),M=Mt(()=>parseInt(Number(t.height)+(t.density==="prominent"?Number(t.height):0)-(t.density==="comfortable"?8:0)-(t.density==="compact"?16:0),10)),H=Mt(()=>A.value?parseInt(Number(t.extensionHeight)+(t.density==="prominent"?Number(t.extensionHeight):0)-(t.density==="comfortable"?4:0)-(t.density==="compact"?8:0),10):0);return Yx({VBtn:{variant:"text"}}),$s(()=>{var W;const G=!!(t.title||i.title),te=!!(i.image||t.image),re=(W=i.extension)==null?void 0:W.call(i);return A.value=t.extended===null?!!re:t.extended,ce(t.tag,{class:xo(["v-toolbar",{"v-toolbar--absolute":t.absolute,"v-toolbar--collapse":t.collapse,"v-toolbar--flat":t.flat,"v-toolbar--floating":t.floating,[`v-toolbar--density-${t.density}`]:!0},u.value,h.value,x.value,w.value,R.value,P.value,t.class]),style:Qs([m.value,t.style])},{default:()=>[te&&ie("div",{key:"image",class:"v-toolbar__image"},[i.image?ce(ul,{key:"image-defaults",disabled:!t.image,defaults:{VImg:{cover:!0,src:t.image}}},i.image):ce(wI,{key:"image-img",cover:!0,src:t.image},null)]),ce(ul,{defaults:{VTabs:{height:Fs(M.value)}}},{default:()=>{var ge,he,j;return[ie("div",{class:"v-toolbar__content",style:{height:Fs(M.value)}},[i.prepend&&ie("div",{class:"v-toolbar__prepend"},[(ge=i.prepend)==null?void 0:ge.call(i)]),G&&ce(Oxe,{key:"title",text:t.title},{text:i.title}),(he=i.default)==null?void 0:he.call(i),i.append&&ie("div",{class:"v-toolbar__append"},[(j=i.append)==null?void 0:j.call(i)])])]}}),ce(ul,{defaults:{VTabs:{height:Fs(H.value)}}},{default:()=>[ce(ite,null,{default:()=>[A.value&&ie("div",{class:"v-toolbar__extension",style:{height:Fs(H.value)}},[re])]})]})]})}),{contentHeight:M,extensionHeight:H}}}),Ixe=qn({scrollTarget:{type:String},scrollThreshold:{type:[String,Number],default:300}},"scroll");function Dxe(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{canScroll:i}=r;let u=0,m=0;const h=Ln(null),x=Do(0),w=Do(0),R=Do(0),P=Do(!1),A=Do(!1),M=Mt(()=>Number(t.scrollThreshold)),H=Mt(()=>Lm((M.value-x.value)/M.value||0)),K=()=>{const G=h.value;if(!G||i&&!i.value)return;u=x.value,x.value="window"in G?G.pageYOffset:G.scrollTop;const te=G instanceof Window?document.documentElement.scrollHeight:G.scrollHeight;if(m!==te){m=te;return}A.value=x.value<u,R.value=Math.abs(x.value-M.value)};return Fn(A,()=>{w.value=w.value||x.value}),Fn(P,()=>{w.value=0}),Zd(()=>{Fn(()=>t.scrollTarget,G=>{var re;const te=G?document.querySelector(G):window;te&&te!==h.value&&((re=h.value)==null||re.removeEventListener("scroll",K),h.value=te,h.value.addEventListener("scroll",K,{passive:!0}))},{immediate:!0})}),Du(()=>{var G;(G=h.value)==null||G.removeEventListener("scroll",K)}),i&&Fn(i,K,{immediate:!0}),{scrollThreshold:M,currentScroll:x,currentThreshold:R,isScrollActive:P,scrollRatio:H,isScrollingUp:A,savedScroll:w}}const Pxe=qn({scrollBehavior:String,modelValue:{type:Boolean,default:!0},location:{type:String,default:"top",validator:t=>["top","bottom"].includes(t)},...Ute(),...UQ(),...Ixe(),height:{type:[Number,String],default:64}},"VAppBar"),Wte=ts()({name:"VAppBar",props:Pxe(),emits:{"update:modelValue":t=>!0},setup(t,r){let{slots:i}=r;const u=Ln(),m=ia(t,"modelValue"),h=Mt(()=>{var he;const ge=new Set(((he=t.scrollBehavior)==null?void 0:he.split(" "))??[]);return{hide:ge.has("hide"),fullyHide:ge.has("fully-hide"),inverted:ge.has("inverted"),collapse:ge.has("collapse"),elevate:ge.has("elevate"),fadeImage:ge.has("fade-image")}}),x=Mt(()=>{const ge=h.value;return ge.hide||ge.fullyHide||ge.inverted||ge.collapse||ge.elevate||ge.fadeImage||!m.value}),{currentScroll:w,scrollThreshold:R,isScrollingUp:P,scrollRatio:A}=Dxe(t,{canScroll:x}),M=En(()=>h.value.hide||h.value.fullyHide),H=Mt(()=>t.collapse||h.value.collapse&&(h.value.inverted?A.value>0:A.value===0)),K=Mt(()=>t.flat||h.value.fullyHide&&!m.value||h.value.elevate&&(h.value.inverted?w.value>0:w.value===0)),G=Mt(()=>h.value.fadeImage?h.value.inverted?1-A.value:A.value:void 0),te=Mt(()=>{var j,me;if(h.value.hide&&h.value.inverted)return 0;const ge=((j=u.value)==null?void 0:j.contentHeight)??0,he=((me=u.value)==null?void 0:me.extensionHeight)??0;return M.value?w.value<R.value||h.value.fullyHide?ge+he:ge:ge+he});Jh(()=>!!t.scrollBehavior,()=>{Wf(()=>{M.value?h.value.inverted?m.value=w.value>R.value:m.value=P.value||w.value<R.value:m.value=!0})});const{ssrBootStyles:re}=f8(),{layoutItemStyles:W}=WQ({id:t.name,order:Mt(()=>parseInt(t.order,10)),position:En(()=>t.location),layoutSize:te,elementSize:Do(void 0),active:m,absolute:En(()=>t.absolute)});return $s(()=>{const ge=uX.filterProps(t);return ce(uX,Xo({ref:u,class:["v-app-bar",{"v-app-bar--bottom":t.location==="bottom"},t.class],style:[{...W.value,"--v-toolbar-image-opacity":G.value,height:void 0,...re.value},t.style]},ge,{collapse:H.value,flat:K.value}),i)}),{}}}),Nxe=qn({fluid:{type:Boolean,default:!1},...or(),...bb(),...Wa()},"VContainer"),LE=ts()({name:"VContainer",props:Nxe(),setup(t,r){let{slots:i}=r;const{rtlClasses:u}=ep(),{dimensionStyles:m}=vb(t);return $s(()=>ce(t.tag,{class:xo(["v-container",{"v-container--fluid":t.fluid},u.value,t.class]),style:Qs([m.value,t.style])},i)),{}}}),Kte=qF.reduce((t,r)=>(t[r]={type:[Boolean,String,Number],default:!1},t),{}),jte=qF.reduce((t,r)=>{const i="offset"+V1(r);return t[i]={type:[String,Number],default:null},t},{}),Zte=qF.reduce((t,r)=>{const i="order"+V1(r);return t[i]={type:[String,Number],default:null},t},{}),dX={col:Object.keys(Kte),offset:Object.keys(jte),order:Object.keys(Zte)};function Mxe(t,r,i){let u=t;if(!(i==null||i===!1)){if(r){const m=r.replace(t,"");u+=`-${m}`}return t==="col"&&(u="v-"+u),t==="col"&&(i===""||i===!0)||(u+=`-${i}`),u.toLowerCase()}}const Lxe=["auto","start","end","center","baseline","stretch"],Bxe=qn({cols:{type:[Boolean,String,Number],default:!1},...Kte,offset:{type:[String,Number],default:null},...jte,order:{type:[String,Number],default:null},...Zte,alignSelf:{type:String,default:null,validator:t=>Lxe.includes(t)},...or(),...Wa()},"VCol"),xc=ts()({name:"VCol",props:Bxe(),setup(t,r){let{slots:i}=r;const u=Mt(()=>{const m=[];let h;for(h in dX)dX[h].forEach(w=>{const R=t[w],P=Mxe(h,w,R);P&&m.push(P)});const x=m.some(w=>w.startsWith("v-col-"));return m.push({"v-col":!x||!t.cols,[`v-col-${t.cols}`]:t.cols,[`offset-${t.offset}`]:t.offset,[`order-${t.order}`]:t.order,[`align-self-${t.alignSelf}`]:t.alignSelf}),m});return()=>{var m;return Nv(t.tag,{class:[u.value,t.class],style:t.style},(m=i.default)==null?void 0:m.call(i))}}}),_K=["start","end","center"],Gte=["space-between","space-around","space-evenly"];function kK(t,r){return qF.reduce((i,u)=>{const m=t+V1(u);return i[m]=r(),i},{})}const Fxe=[..._K,"baseline","stretch"],qte=t=>Fxe.includes(t),Yte=kK("align",()=>({type:String,default:null,validator:qte})),$xe=[..._K,...Gte],Xte=t=>$xe.includes(t),Jte=kK("justify",()=>({type:String,default:null,validator:Xte})),Vxe=[..._K,...Gte,"stretch"],Qte=t=>Vxe.includes(t),ene=kK("alignContent",()=>({type:String,default:null,validator:Qte})),fX={align:Object.keys(Yte),justify:Object.keys(Jte),alignContent:Object.keys(ene)},zxe={align:"align",justify:"justify",alignContent:"align-content"};function Hxe(t,r,i){let u=zxe[t];if(i!=null){if(r){const m=r.replace(t,"");u+=`-${m}`}return u+=`-${i}`,u.toLowerCase()}}const Uxe=qn({dense:Boolean,noGutters:Boolean,align:{type:String,default:null,validator:qte},...Yte,justify:{type:String,default:null,validator:Xte},...Jte,alignContent:{type:String,default:null,validator:Qte},...ene,...or(),...Wa()},"VRow"),O1=ts()({name:"VRow",props:Uxe(),setup(t,r){let{slots:i}=r;const u=Mt(()=>{const m=[];let h;for(h in fX)fX[h].forEach(x=>{const w=t[x],R=Hxe(h,x,w);R&&m.push(R)});return m.push({"v-row--no-gutters":t.noGutters,"v-row--dense":t.dense,[`align-${t.align}`]:t.align,[`justify-${t.justify}`]:t.justify,[`align-content-${t.alignContent}`]:t.alignContent}),m});return()=>{var m;return Nv(t.tag,{class:["v-row",u.value,t.class],style:t.style},(m=i.default)==null?void 0:m.call(i))}}}),EK=GF("v-spacer","div","VSpacer"),Wxe={__name:"AppBar",setup(t){const r=Ee.api();Ee.tasks(),Ee.changes();const i=Ee.layout();async function u(){if(i.focusTarget=="header"){await ys();for(const h of document.getElementsByClassName("app-header-item"))if(!h.disabled){h.focus();break}}}Fn(()=>i.focusChange,u);async function m(){Ee.changes().countChanges==0||await r.saveChangesToBackend(!0)?window.location=r.returnUrl:Ee.layout().showSendFailure=!0}return(h,x)=>(Jt(),Go(Wte,{elevation:"1",color:"white",density:"compact"},{default:xt(()=>[ne(Ee).tasks().countTasks>1?(Jt(),Go(Txe,{key:0})):Jn("",!0),ce(_xe),ce(EK),ce(hye),ce(Io,{class:"app-header-item",onClick:x[0]||(x[0]=w=>m())},{default:xt(()=>[ce(Gn,{left:"",icon:"mdi-logout-variant"}),ie("span",null,He(h.$t("appBarReturn")),1)]),_:1})]),_:1}))}},Kxe={__name:"SendingStatus",setup(t){const r=Ee.api(),i=Ee.changes();function u(){return i.countChanges==0}function m(){return r.lastSendingTry>0}return(h,x)=>(Jt(),Go(_I,{tabindex:"-1"},{default:xt(()=>[ce(dd,{"aria-role":"button",class:"app-navigation-item",tabindex:"0",onClick:x[0]||(x[0]=w=>ne(r).saveChangesToBackend()),disabled:u(),"aria-label":m()?h.$t("SendingStatusSending"):u()?h.$t("SendingStatusSent"):h.$t("SendingStatusSend"),title:m()?h.$t("SendingStatusSending"):u()?h.$t("SendingStatusSent"):h.$t("SendingStatusSend"),ripple:!1},{prepend:xt(()=>[ce(Gn,{"aria-role":"hidden",icon:m()?"mdi-cloud-upload":u()?"mdi-cloud-check-outline":"mdi-cloud-outline"},null,8,["icon"])]),_:1},8,["disabled","aria-label","title"])]),_:1}))}};function jxe(t){let{rootEl:r,isSticky:i,layoutItemStyles:u}=t;const m=Do(!1),h=Do(0),x=Mt(()=>{const P=typeof m.value=="boolean"?"top":m.value;return[i.value?{top:"auto",bottom:"auto",height:void 0}:void 0,m.value?{[P]:Fs(h.value)}:{top:u.value.top}]});Zd(()=>{Fn(i,P=>{P?window.addEventListener("scroll",R,{passive:!0}):window.removeEventListener("scroll",R)},{immediate:!0})}),Du(()=>{window.removeEventListener("scroll",R)});let w=0;function R(){const P=w>window.scrollY?"up":"down",A=r.value.getBoundingClientRect(),M=parseFloat(u.value.top??0),H=window.scrollY-Math.max(0,h.value-M),K=A.height+Math.max(h.value,M)-window.scrollY-window.innerHeight,G=parseFloat(getComputedStyle(r.value).getPropertyValue("--v-body-scroll-y"))||0;A.height<window.innerHeight-M?(m.value="top",h.value=M):P==="up"&&m.value==="bottom"||P==="down"&&m.value==="top"?(h.value=window.scrollY+A.top-G,m.value=!0):P==="down"&&K<=0?(h.value=0,m.value="bottom"):P==="up"&&H<=0&&(G?m.value!=="top"&&(h.value=-H+G+M,m.value="top"):(h.value=A.top+H,m.value="top")),w=window.scrollY}return{isStuck:m,stickyStyles:x}}const Zxe=100,Gxe=20;function mX(t){return(t<0?-1:1)*Math.sqrt(Math.abs(t))*1.41421356237}function gX(t){if(t.length<2)return 0;if(t.length===2)return t[1].t===t[0].t?0:(t[1].d-t[0].d)/(t[1].t-t[0].t);let r=0;for(let i=t.length-1;i>0;i--){if(t[i].t===t[i-1].t)continue;const u=mX(r),m=(t[i].d-t[i-1].d)/(t[i].t-t[i-1].t);r+=(m-u)*Math.abs(m),i===t.length-1&&(r*=.5)}return mX(r)*1e3}function qxe(){const t={};function r(m){Array.from(m.changedTouches).forEach(h=>{(t[h.identifier]??(t[h.identifier]=new bQ(Gxe))).push([m.timeStamp,h])})}function i(m){Array.from(m.changedTouches).forEach(h=>{delete t[h.identifier]})}function u(m){var P;const h=(P=t[m])==null?void 0:P.values().reverse();if(!h)throw new Error(`No samples for touch id ${m}`);const x=h[0],w=[],R=[];for(const A of h){if(x[0]-A[0]>Zxe)break;w.push({t:A[0],d:A[1].clientX}),R.push({t:A[0],d:A[1].clientY})}return{x:gX(w),y:gX(R),get direction(){const{x:A,y:M}=this,[H,K]=[Math.abs(A),Math.abs(M)];return H>K&&A>=0?"right":H>K&&A<=0?"left":K>H&&M>=0?"down":K>H&&M<=0?"up":Yxe()}}}return{addMovement:r,endTouch:i,getVelocity:u}}function Yxe(){throw new Error}function Xxe(t){let{el:r,isActive:i,isTemporary:u,width:m,touchless:h,position:x}=t;Zd(()=>{window.addEventListener("touchstart",ge,{passive:!0}),window.addEventListener("touchmove",he,{passive:!1}),window.addEventListener("touchend",j,{passive:!0})}),Du(()=>{window.removeEventListener("touchstart",ge),window.removeEventListener("touchmove",he),window.removeEventListener("touchend",j)});const w=Mt(()=>["left","right"].includes(x.value)),{addMovement:R,endTouch:P,getVelocity:A}=qxe();let M=!1;const H=Do(!1),K=Do(0),G=Do(0);let te;function re(oe,Ce){return(x.value==="left"?oe:x.value==="right"?document.documentElement.clientWidth-oe:x.value==="top"?oe:x.value==="bottom"?document.documentElement.clientHeight-oe:dE())-(Ce?m.value:0)}function W(oe){let Ce=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const Ue=x.value==="left"?(oe-G.value)/m.value:x.value==="right"?(document.documentElement.clientWidth-oe-G.value)/m.value:x.value==="top"?(oe-G.value)/m.value:x.value==="bottom"?(document.documentElement.clientHeight-oe-G.value)/m.value:dE();return Ce?Lm(Ue):Ue}function ge(oe){if(h.value)return;const Ce=oe.changedTouches[0].clientX,Ue=oe.changedTouches[0].clientY,et=25,dt=x.value==="left"?Ce<et:x.value==="right"?Ce>document.documentElement.clientWidth-et:x.value==="top"?Ue<et:x.value==="bottom"?Ue>document.documentElement.clientHeight-et:dE(),Me=i.value&&(x.value==="left"?Ce<m.value:x.value==="right"?Ce>document.documentElement.clientWidth-m.value:x.value==="top"?Ue<m.value:x.value==="bottom"?Ue>document.documentElement.clientHeight-m.value:dE());(dt||Me||i.value&&u.value)&&(te=[Ce,Ue],G.value=re(w.value?Ce:Ue,i.value),K.value=W(w.value?Ce:Ue),M=G.value>-20&&G.value<80,P(oe),R(oe))}function he(oe){const Ce=oe.changedTouches[0].clientX,Ue=oe.changedTouches[0].clientY;if(M){if(!oe.cancelable){M=!1;return}const dt=Math.abs(Ce-te[0]),Me=Math.abs(Ue-te[1]);(w.value?dt>Me&&dt>3:Me>dt&&Me>3)?(H.value=!0,M=!1):(w.value?Me:dt)>3&&(M=!1)}if(!H.value)return;oe.preventDefault(),R(oe);const et=W(w.value?Ce:Ue,!1);K.value=Math.max(0,Math.min(1,et)),et>1?G.value=re(w.value?Ce:Ue,!0):et<0&&(G.value=re(w.value?Ce:Ue,!1))}function j(oe){if(M=!1,!H.value)return;R(oe),H.value=!1;const Ce=A(oe.changedTouches[0].identifier),Ue=Math.abs(Ce.x),et=Math.abs(Ce.y);(w.value?Ue>et&&Ue>400:et>Ue&&et>3)?i.value=Ce.direction===({left:"right",right:"left",top:"down",bottom:"up"}[x.value]||dE()):i.value=K.value>.5}const me=Mt(()=>H.value?{transform:x.value==="left"?`translateX(calc(-100% + ${K.value*m.value}px))`:x.value==="right"?`translateX(calc(100% - ${K.value*m.value}px))`:x.value==="top"?`translateY(calc(-100% + ${K.value*m.value}px))`:x.value==="bottom"?`translateY(calc(100% - ${K.value*m.value}px))`:dE(),transition:"none"}:void 0);return Jh(H,()=>{var Ue,et;const oe=((Ue=r.value)==null?void 0:Ue.style.transform)??null,Ce=((et=r.value)==null?void 0:et.style.transition)??null;Wf(()=>{var dt,Me,Ne,I;(Me=r.value)==null||Me.style.setProperty("transform",((dt=me.value)==null?void 0:dt.transform)||"none"),(I=r.value)==null||I.style.setProperty("transition",((Ne=me.value)==null?void 0:Ne.transition)||null)}),tu(()=>{var dt,Me;(dt=r.value)==null||dt.style.setProperty("transform",oe),(Me=r.value)==null||Me.style.setProperty("transition",Ce)})}),{isDragging:H,dragProgress:K,dragStyles:me}}function dE(){throw new Error}const Jxe=["start","end","left","right","top","bottom"],Qxe=qn({color:String,disableResizeWatcher:Boolean,disableRouteWatcher:Boolean,expandOnHover:Boolean,floating:Boolean,modelValue:{type:Boolean,default:null},permanent:Boolean,rail:{type:Boolean,default:null},railWidth:{type:[Number,String],default:56},scrim:{type:[Boolean,String],default:!0},image:String,temporary:Boolean,persistent:Boolean,touchless:Boolean,width:{type:[Number,String],default:256},location:{type:String,default:"start",validator:t=>Jxe.includes(t)},sticky:Boolean,...U1(),...or(),...ute(),...BQ({mobile:null}),...K1(),...UQ(),...Bg(),...Wa({tag:"nav"}),...sc()},"VNavigationDrawer"),ewe=ts()({name:"VNavigationDrawer",props:Qxe(),emits:{"update:modelValue":t=>!0,"update:rail":t=>!0},setup(t,r){let{attrs:i,emit:u,slots:m}=r;const{isRtl:h}=ep(),{themeClasses:x}=nu(t),{borderClasses:w}=W1(t),{backgroundColorClasses:R,backgroundColorStyles:P}=db(()=>t.color),{elevationClasses:A}=j1(t),{displayClasses:M,mobile:H}=YF(t),{roundedClasses:K}=Fg(t),G=Zee(),te=ia(t,"modelValue",null,Ot=>!!Ot),{ssrBootStyles:re}=f8(),{scopeId:W}=d8(),ge=Ln(),he=Do(!1),{runOpenDelay:j,runCloseDelay:me}=dte(t,Ot=>{he.value=Ot}),oe=Mt(()=>t.rail&&t.expandOnHover&&he.value?Number(t.width):Number(t.rail?t.railWidth:t.width)),Ce=Mt(()=>GU(t.location,h.value)),Ue=En(()=>t.persistent),et=Mt(()=>!t.permanent&&(H.value||t.temporary)),dt=Mt(()=>t.sticky&&!et.value&&Ce.value!=="bottom");Jh(()=>t.expandOnHover&&t.rail!=null,()=>{Fn(he,Ot=>u("update:rail",!Ot))}),Jh(()=>!t.disableResizeWatcher,()=>{Fn(et,Ot=>!t.permanent&&ys(()=>te.value=!Ot))}),Jh(()=>!t.disableRouteWatcher&&!!G,()=>{Fn(G.currentRoute,()=>et.value&&(te.value=!1))}),Fn(()=>t.permanent,Ot=>{Ot&&(te.value=!0)}),t.modelValue==null&&!et.value&&(te.value=t.permanent||!H.value);const{isDragging:Me,dragProgress:Ne}=Xxe({el:ge,isActive:te,isTemporary:et,width:oe,touchless:En(()=>t.touchless),position:Ce}),I=Mt(()=>{const Ot=et.value?0:t.rail&&t.expandOnHover?Number(t.railWidth):oe.value;return Me.value?Ot*Ne.value:Ot}),{layoutItemStyles:st,layoutItemScrimStyles:it}=WQ({id:t.name,order:Mt(()=>parseInt(t.order,10)),position:Ce,layoutSize:I,elementSize:oe,active:FE(te),disableTransitions:En(()=>Me.value),absolute:Mt(()=>t.absolute||dt.value&&typeof Ft.value!="string")}),{isStuck:Ft,stickyStyles:Yt}=jxe({rootEl:ge,isSticky:dt,layoutItemStyles:st}),mt=db(()=>typeof t.scrim=="string"?t.scrim:null),Rn=Mt(()=>({...Me.value?{opacity:Ne.value*.2,transition:"none"}:void 0,...it.value}));return Yx({VList:{bgColor:"transparent"}}),$s(()=>{const Ot=m.image||t.image;return ie(ms,null,[ce(t.tag,Xo({ref:ge,onMouseenter:j,onMouseleave:me,class:["v-navigation-drawer",`v-navigation-drawer--${Ce.value}`,{"v-navigation-drawer--expand-on-hover":t.expandOnHover,"v-navigation-drawer--floating":t.floating,"v-navigation-drawer--is-hovering":he.value,"v-navigation-drawer--rail":t.rail,"v-navigation-drawer--temporary":et.value,"v-navigation-drawer--persistent":Ue.value,"v-navigation-drawer--active":te.value,"v-navigation-drawer--sticky":dt.value},x.value,R.value,w.value,M.value,A.value,K.value,t.class],style:[P.value,st.value,re.value,Yt.value,t.style]},W,i),{default:()=>{var at,Ve,bt;return[Ot&&ie("div",{key:"image",class:"v-navigation-drawer__img"},[m.image?ce(ul,{key:"image-defaults",disabled:!t.image,defaults:{VImg:{alt:"",cover:!0,height:"inherit",src:t.image}}},m.image):ce(wI,{key:"image-img",alt:"",cover:!0,height:"inherit",src:t.image},null)]),m.prepend&&ie("div",{class:"v-navigation-drawer__prepend"},[(at=m.prepend)==null?void 0:at.call(m)]),ie("div",{class:"v-navigation-drawer__content"},[(Ve=m.default)==null?void 0:Ve.call(m)]),m.append&&ie("div",{class:"v-navigation-drawer__append"},[(bt=m.append)==null?void 0:bt.call(m)])]}}),ce(jx,{name:"fade-transition"},{default:()=>[et.value&&(Me.value||te.value)&&!!t.scrim&&ie("div",Xo({class:["v-navigation-drawer__scrim",mt.backgroundColorClasses.value],style:[Rn.value,mt.backgroundColorStyles.value],onClick:()=>{Ue.value||(te.value=!1)}},W),null)]})])}),{isStuck:Ft}}}),twe={__name:"NavBar",setup(t){Ee.api();const r=Ee.layout();Ee.items();const i=Ee.resources(),u=Ee.corrections(),m=Ee.tasks();async function h(){if(r.focusTarget=="navigation"){await ys();for(const H of document.getElementsByClassName("app-navigation-item")){H.focus();break}}}Fn(()=>r.focusChange,h);function x(){document.getElementById("app-navigation-drawer").dispatchEvent(new Event("mouseenter"))}function w(){document.getElementById("app-navigation-drawer").dispatchEvent(new Event("mouseleave"))}function R(H){H.keyCode==27?w():r.handleKeyDown(H)}function P(H){H.type=="url"&&!H.embedded?window.open(H.source,"long-essay-writer-resource-"+H.key):(i.selectResource(H),r.showResources())}function A(H){switch(H.type){case"url":return i.getResourceIsActive(H)&&r.isResourcesVisible?"mdi-file-link":"mdi-file-link-outline";default:return i.getResourceIsActive(H)&&r.isResourcesVisible?"mdi-file":"mdi-file-outline"}}function M(H){return H.title+" - "+H.initials+" "+Si.buildPositionText(H.position)}return(H,K)=>(Jt(),Go(ewe,{id:"app-navigation-drawer",elevation:"2",width:"500",permanent:"",rail:"","expand-on-hover":"",onFocusin:x,onFocusout:w,onKeydown:R},{append:xt(()=>[ce(Kxe)]),default:xt(()=>[ce(_I,{tabindex:"-1"},{default:xt(()=>[Zn(ce(dd,{"aria-role":"button",class:"app-navigation-item",tabindex:"0",onClick:K[0]||(K[0]=G=>{ne(r).showInstructions()}),"aria-label":H.$t("allInstructions")+ne(r).isInstructionsVisible?H.$t("navBarSelectedAria"):"",title:H.$t("allInstructions")+(ne(r).isInstructionsVisible?H.$t("navBarSelected"):""),ripple:!1},{prepend:xt(()=>[ce(Gn,{"aria-role":"hidden",icon:ne(r).isInstructionsVisible?"mdi-text-box":"mdi-text-box-outline"},null,8,["icon"])]),_:1},8,["aria-label","title"]),[[Co,ne(m).hasInstructions]]),Zn(ce(dd,{"aria-role":"button",class:"app-navigation-item",tabindex:"0",onClick:K[1]||(K[1]=G=>{ne(r).showInstructionsPdf()}),"aria-label":H.$t("allInstructionsPdf")+(ne(r).isInstructionsPdfVisible?H.$t("navBarSelectedAria"):""),title:H.$t("allInstructionsPdf")+(ne(r).isInstructionsPdfVisible?H.$t("navBarSelected"):""),ripple:!1},{prepend:xt(()=>[ce(Gn,{"aria-role":"hidden",icon:ne(r).isInstructionsPdfVisible?"mdi-text-box":"mdi-text-box-outline"},null,8,["icon"])]),_:1},8,["aria-label","title"]),[[Co,ne(i).hasInstruction]]),Zn(ce(dd,{"aria-role":"button",class:"app-navigation-item",tabindex:"0",onClick:K[2]||(K[2]=G=>{ne(r).showSolution()}),"aria-label":H.$t("allSolution")+(ne(r).isSolutionVisible?H.$t("navBarSelectedAria"):""),title:H.$t("allSolution")+(ne(r).isSolutionVisible?H.$t("navBarSelected"):""),ripple:!1},{prepend:xt(()=>[ce(Gn,{"aria-role":"hidden",icon:ne(r).isSolutionVisible?"mdi-text-box-check":"mdi-text-box-check-outline"},null,8,["icon"])]),_:1},8,["aria-label","title"]),[[Co,ne(m).hasSolution]]),Zn(ce(dd,{"aria-role":"button",class:"app-navigation-item",tabindex:"0",onClick:K[3]||(K[3]=G=>{ne(r).showSolutionPdf()}),"aria-label":H.$t("allSolutionPdf")+(ne(r).isSolutionPdfVisible?H.$t("navBarSelectedAria"):""),title:H.$t("allSolutionPdf")+(ne(r).isSolutionPdfVisible?H.$t("navBarSelected"):""),ripple:!1},{prepend:xt(()=>[ce(Gn,{"aria-role":"hidden",icon:ne(r).isSolutionPdfVisible?"mdi-text-box-check":"mdi-text-box-check-outline"},null,8,["icon"])]),_:1},8,["aria-label","title"]),[[Co,ne(i).hasSolution]]),(Jt(!0),mo(ms,null,L1(ne(i).fileOrUrlResources,G=>(Jt(),Go(dd,{"aria-role":"button",class:"app-navigation-item",tabindex:"0",onClick:te=>{P(G)},"aria-label":G.title+(ne(i).getResourceIsActive(G)&&ne(r).isResourcesVisible?", ist ausgewhlt":""),title:G.title+(ne(i).getResourceIsActive(G)&&ne(r).isResourcesVisible?H.$t("navBarSelected"):""),key:G.key,ripple:!1},{prepend:xt(()=>[ce(Gn,{"aria-role":"hidden",icon:A(G)},null,8,["icon"])]),_:2},1032,["onClick","aria-label","title"]))),128)),Zn(ce(kE,{class:"border-opacity-75"},null,512),[[Co,ne(m).hasTexts||ne(i).hasResources]]),ce(dd,{"aria-role":"button",class:"app-navigation-item",tabindex:"0",onClick:K[4]||(K[4]=G=>{ne(r).showEssay()}),"aria-label":H.$t("allEssayAndCorrection")+(ne(r).isEssayVisible?H.$t("navBarSelectedAria"):""),title:H.$t("allEssayAndCorrection")+(ne(r).isEssayVisible?H.$t("navBarSelected"):""),ripple:!1},{prepend:xt(()=>[ce(Gn,{"aria-role":"hidden",icon:ne(r).isEssayVisible&&ne(r).isMarkingVisible?"mdi-comment-edit":"mdi-comment-edit-outline"},null,8,["icon"])]),_:1},8,["aria-label","title"]),ce(kE,{class:"border-opacity-75"}),(Jt(!0),mo(ms,null,L1(ne(u).otherCorrections,G=>(Jt(),Go(dd,{"aria-role":"button",class:"app-navigation-item",tabindex:"0",onClick:te=>{ne(r).selectCorrection(G.key)},"aria-label":M(G)+(ne(r).getCorrectionIsVisible(G.key)?H.$t("navBarSelectedAria"):""),title:M(G)+(ne(r).getCorrectionIsVisible(G.key)?H.$t("navBarSelected"):""),key:G.correction_key,ripple:!1},{prepend:xt(()=>[ce(Gn,{"aria-role":"hidden",icon:ne(r).getCorrectionIsVisible(G.key)?"mdi-account-school":"mdi-account-school-outline"},null,8,["icon"])]),_:2},1032,["onClick","aria-label","title"]))),128)),ne(u).ownCorrection!==null?(Jt(),Go(dd,{key:0,"aria-role":"button",class:"app-navigation-item",tabindex:"0",onClick:K[5]||(K[5]=G=>{ne(r).showSummary()}),"aria-label":H.$t("allOwnSummaryAndRating")+(ne(r).isSummaryVisible?H.$t("navBarSelectedAria"):""),title:H.$t("allOwnSummaryAndRating")+(ne(r).isSummaryVisible?H.$t("navBarSelected"):""),ripple:!1},{prepend:xt(()=>[ce(Gn,{"aria-role":"hidden",icon:ne(r).isSummaryVisible?"mdi-file-edit":"mdi-file-edit-outline"},null,8,["icon"])]),_:1},8,["aria-label","title"])):Jn("",!0),ce(kE,{class:"border-opacity-75"})]),_:1})]),_:1}))}},nwe=Ta(twe,[["__scopeId","data-v-dbcd4a0f"]]),owe=["innerHTML"],swe={__name:"Instructions",setup(t){const r=Ee.tasks(),i=Ee.layout();function u(h){return h.preventDefault(),!1}async function m(){i.focusTarget=="instructions"&&(await ys(),document.getElementById("app-instructions").focus())}return m(),Fn(()=>i.focusChange,m),(h,x)=>{var w;return Jt(),mo("div",{id:"app-instructions",class:"long-essay-content",contenteditable:"true",onBeforeinput:u,innerHTML:(w=ne(r).currentTask)==null?void 0:w.instructions},null,40,owe)}}},rwe=Ta(swe,[["__scopeId","data-v-f0cb7ed4"]]),iwe=["data"],awe={__name:"InstructionsPdf",setup(t){const i=Ee.resources().instruction;return(u,m)=>(Jt(),mo("div",null,[ne(i).mimetype=="application/pdf"?(Jt(),mo("object",{key:0,type:"application/pdf",data:ne(i).url,width:"100%",height:"100%"},null,8,iwe)):Jn("",!0)]))}},lwe=Ta(awe,[["__scopeId","data-v-3032ccee"]]),cwe=["innerHTML"],uwe={__name:"Solution",setup(t){const r=Ee.tasks(),i=Ee.layout();function u(h){return h.preventDefault(),!1}async function m(){i.focusTarget=="solution"&&(await ys(),document.getElementById("app-solution").focus())}return m(),Fn(()=>i.focusChange,m),(h,x)=>(Jt(),mo("div",{id:"app-solution",class:"long-essay-content",contenteditable:"true",onBeforeinput:u,innerHTML:ne(r).solution},null,40,cwe))}},dwe=Ta(uwe,[["__scopeId","data-v-fbbc007c"]]),fwe=["data"],mwe={__name:"SolutionPdf",setup(t){const i=Ee.resources().solution;return(u,m)=>(Jt(),mo("div",null,[ne(i).mimetype=="application/pdf"?(Jt(),mo("object",{key:0,type:"application/pdf",data:ne(i).url,width:"100%",height:"100%"},null,8,fwe)):Jn("",!0)]))}},gwe=Ta(mwe,[["__scopeId","data-v-a5bf3b1f"]]),hwe={class:"resources"},pwe={key:0},bwe=["data"],vwe={key:1},ywe=["src"],xwe={__name:"Resources",setup(t){const r=Ee.resources();return(i,u)=>(Jt(),mo("div",hwe,[(Jt(!0),mo(ms,null,L1(ne(r).fileOrUrlResources,m=>(Jt(),mo(ms,{key:m.key},[m.type=="file"?Zn((Jt(),mo("div",pwe,[m.mimetype=="application/pdf"?(Jt(),mo("object",{key:0,type:"application/pdf",data:m.url,width:"100%",height:"100%"},null,8,bwe)):Jn("",!0)],512)),[[Co,ne(r).getResourceIsActive(m)]]):Jn("",!0),m.type=="url"&&m.embedded==!0?Zn((Jt(),mo("div",vwe,[ie("iframe",{src:m.source,width:"100%",height:"100%",frameborder:"0",referrerpolicy:"strict-origin-when-cross-origin",allowfullscreen:""},null,8,ywe)],512)),[[Co,ne(r).getResourceIsActive(m)]]):Jn("",!0)],64))),128))]))}},wwe=Ta(xwe,[["__scopeId","data-v-9f00696d"]]);class Cwe{constructor(r,i,u){Tt(this,"observer",null);Tt(this,"marks",[]);if(!r)throw new Error("Missing anchor element");this.el=r,i instanceof Function&&(this.onSelection=i,this.el.addEventListener("mouseup",this.selectionHandler.bind(this)),this.el.addEventListener("touchend",this.selectionHandler.bind(this)),this.el.addEventListener("keydown",this.keydownHandler.bind(this))),u instanceof Function&&(this.onIntersection=u,this.observer=new IntersectionObserver(this.intersectionHandler.bind(this),{root:this.el,threshold:[1]}))}onSelection(r){}onIntersection(r){}keydownHandler(r){switch(r.key){case"Enter":r.preventDefault(),this.selectionHandler(r);break;case"Escape":r.preventDefault(),this.removeSelection();break}}selectionHandler(r){let i=this.getSelectionData();i.mouseX=r.clientX,i.mouseY=r.clientY,i.firstWord>0&&i.lastWord>0&&this.onSelection(i)}intersectionHandler(r){let i=0;this.marks.forEach(u=>{(i==0||u.firstWord<i)&&this.isMarkVisible(u.firstWord,u.lastWord)&&(i=u.firstWord)}),this.onIntersection(i)}removeSelection(){window.getSelection().collapseToEnd()}getSelectionData(){const r=window.getSelection(),i=r.getRangeAt(0);if(!r||!i)return{};let u=i.commonAncestorContainer;u.nodeType==3&&(u=u.parentNode.parentNode);let m=0,h=0,x=0;return u.querySelectorAll("w-p").forEach(w=>{if(r.containsNode(w,!0)){let R=parseInt(w.getAttribute("w")),P=parseInt(w.getAttribute("p"));(m==0||R<m)&&(m=R,x=P),R>h&&(h=R)}}),{firstWord:m,lastWord:h,parentNumber:x,isCollapsed:r.isCollapsed}}addLabel(r,i,u){let m=this.el.querySelector('w-p[w="'+u+'"]');m&&(m.setAttribute("label",i),m.classList.add(r))}showMark(r,i,u,m){this.marks.push({cssClass:r,firstWord:u,lastWord:m}),this.el.querySelectorAll("w-p").forEach(h=>{let x=parseInt(h.getAttribute("w"));x>=u&&x<=m&&(h.classList.add(r),h.style.cssText=i),this.observer&&(x==u||x==m)&&this.observer.observe(h)})}hideMark(r,i,u){this.marks=this.marks.filter(m=>m.cssClass!=r||m.firstWord!=i||m.lastWord!=u),this.el.querySelectorAll("w-p."+r).forEach(m=>{let h=parseInt(m.getAttribute("w"));h>=i&&h<=u&&(m.classList.remove(r),m.style.cssText=""),this.observer&&(h==i||h==u)&&this.observer.unobserve(m)})}hideAllMarksAndLabels(){this.marks=[],this.el.querySelectorAll("w-p[class]").forEach(r=>{r.classList.value="",r.style.cssText=""}),this.observer&&this.observer.disconnect()}scrollToMark(r,i){if(!this.isMarkVisible(r,i,!0)){const u=this.el.querySelector('w-p[w="'+r+'"]');u&&u.scrollIntoView()}}setCaretToMark(r){const i=this.el.querySelector('w-p[w="'+r+'"]').childNodes[0];if(i){let u=document.createRange(),m=window.getSelection();u.setStart(i,0),u.collapse(!0),m.removeAllRanges(),m.addRange(u)}}isMarkVisible(r,i,u){const m=this.el.querySelector('w-p[w="'+r+'"]'),h=this.el.querySelector('w-p[w="'+i+'"]');if(!m||!h)return!1;const x=this.el.getBoundingClientRect(),w=m.getBoundingClientRect(),R=h.getBoundingClientRect(),P=w.top>=x.top&&w.bottom<=x.bottom,A=R.top>=x.top&&R.bottom<=x.bottom;return u?P&&A:P||A}}const Swe={id:"app-essay-wrapper"},_we={class:"appTextButtons"},kwe=["innerHTML"],Ewe={__name:"Essay",setup(t){const r=Ee.essay(),i=Ee.comments(),u=Ee.summaries(),m=Ee.preferences(),h=Ee.settings(),x=Ee.layout(),w=Ee.config();let R;Zd(()=>{he(),R=new Cwe(document.getElementById("app-essay"),te,re),i.activeComments.forEach(j=>G(j))});function P(j){return j.preventDefault(),!1}async function A(){x.focusTarget=="essay"&&(await ys(),document.getElementById("app-essay").focus())}A(),Fn(()=>x.focusChange,A);function M(){R.hideAllMarksAndLabels(),i.activeComments.forEach(j=>G(j))}Fn(()=>i.markerChange,M),Fn(()=>i.filterChange,M);function H(){M();let j=i.getComment(i.selectedKey);if(j){const me=w.getCommentStyle(j.correction_position,!0);R.showMark(R1.CLASS_SELECTED,me,j.start_position,j.end_position),R.addLabel("labelled",j.label,j.start_position),R.scrollToMark(j.start_position,j.end_position)}}Fn(()=>i.selectionChange,H);function K(){let j=i.getComment(i.selectedKey);R.setCaretToMark(j.start_position)}Fn(()=>i.caretRequest,K);function G(j){for(const oe of R1.CORRECTOR_CSS_CLASSES)R.hideMark(oe,j.start_position,j.end_position);const me=w.getCommentStyle(j.correction_position,j.key==i.selectedKey);R.showMark(j.getCssClass(),me,j.start_position,j.end_position),R.addLabel("labelled",j.label,j.start_position)}async function te(j){if(!Ee.settings().Task.enable_comments)return;let me=i.getActiveCommentsInRange(j.firstWord,j.lastWord);if(me.length){let oe=me.shift();j.isCollapsed?(R.removeSelection(),i.selectComment(oe.key)):(R.removeSelection(),u.isOwnDisabled||i.createComment(j.firstWord,j.lastWord,j.parentNumber))}else j.isCollapsed||(R.removeSelection(),u.isOwnDisabled||i.createComment(j.firstWord,j.lastWord,j.parentNumber))}function re(j){let me=i.getActiveCommentsByStartPosition(j);if(me.length){let oe=me.shift();i.setFirstVisibleComment(oe.key)}}function W(){m.zoomEssayTextIn(),he()}function ge(){m.zoomEssayTextOut(),he()}function he(){document.getElementById("app-essay").style.fontSize=m.essay_text_zoom+"rem"}return(j,me)=>(Jt(),mo("div",Swe,[ie("div",_we,[ce(I1,{density:"comfortable",variant:"outlined",divided:""},{default:xt(()=>[ce(Io,{title:j.$t("essayZoomOut"),size:"small",icon:"mdi-magnify-minus-outline",onClick:me[0]||(me[0]=oe=>ge())},null,8,["title"]),ce(Io,{title:j.$t("essayZoomIn"),size:"small",icon:"mdi-magnify-plus-outline",onClick:me[1]||(me[1]=oe=>W())},null,8,["title"])]),_:1})]),(Jt(),Go(MJ("style"),null,{default:xt(()=>[Cs(He(ne(w).commentStyles),1)]),_:1})),ie("div",{contenteditable:"true",id:"app-essay",onBeforeinput:P,class:xo("xlas-content "+ne(h).contentClass),innerHTML:"<style>"+ne(w).commentStyles+"</style>"+ne(r).text},null,42,kwe)]))}},EE=()=>{},hX=(t,r)=>Math.abs(t-r),Twe=(t,r)=>({x:Math.min(t.x,r.x),y:Math.min(t.y,r.y),width:hX(t.x,r.x),height:hX(t.y,r.y)}),tne=t=>t,tI=t=>typeof t=="object",bE=t=>typeof t=="string",BE=t=>typeof t=="number",EI=t=>typeof t>"u",Awe=t=>[!0,!1].includes(t),nne=(t,r)=>Object.fromEntries(Object.entries(r).map(([i,u])=>[i,t(u,i)])),Owe=(t,r)=>Object.fromEntries(Object.entries(r).filter(([i,u])=>t(u,i))),NR=(t,r)=>Owe((i,u)=>t.includes(u),r),Rwe=(t,r)=>tI(r)&&Object.values(nne((i,u)=>i(r[u]),t)).filter(i=>!i).length===0,Iwe=(...t)=>r=>t.reduce((i,u)=>u(i),r),nI=(...t)=>Iwe(...t.reverse()),oI=Symbol("none"),Dwe=t=>r=>r===oI?oI:t(r),Pwe=t=>r=>r===oI?t():r,Nwe=(t,r)=>nI(...Object.entries(t).map(([i,u])=>Pwe(()=>u(r[i])?oI:{key:i,type:u.name,offendingValue:r[i]})))(tI(r)?oI:{type:tI.name,offendingValue:r}),pX=(t,r)=>{const i=u=>u?`Key "${u}" of `:"";Dwe(({type:u,key:m=!1})=>GE(`Value does not match required form: ${i(m)}${JSON.stringify(r)} does not satisfy ${u}.`))(Nwe(t,r))},RF=(t,r)=>(...i)=>{if(t(...i))return r(...i)},fb=(t,r)=>({x:t,y:r}),Q6=t=>Rwe({x:BE,y:BE},t),g8=(t,r)=>({x:t.x+r.x,y:t.y+r.y}),sI=(t,r)=>({x:r.x*t,y:r.y*t}),QC=(t,r)=>g8(t,sI(-1,r)),Mwe=t=>({width:t.x,height:t.y}),Lwe=t=>fb(t.width,t.height),Bwe=(t,r)=>({width:t,height:r}),Fwe=(t,r)=>fb(t.x*Math.cos(r)-t.y*Math.sin(r),t.x*Math.sin(r)+t.y*Math.cos(r)),$we=({x:t,y:r})=>`${t},${r}`,Vwe=(t,r)=>t.map(i=>g8(i,r)),zwe=t=>t.map($we).join(" "),one=(t,r)=>zwe(Vwe(t,r)),Hwe=(t,r)=>{const[i,u]=t.width/t.height<r.width/r.height?["height","width"]:["width","height"];return{[i]:r[i],[u]:r[i]*(t[u]/t[i])}},GE=t=>{throw new Error(t)},rI=(t,r)=>t||GE(r),bX=t=>()=>t,sne=(t,r)=>!EI(r.find(t)),Uwe=(t,r)=>!sne(i=>!t(i),r),rne=t=>t instanceof Array,ine=t=>{const r=ine.name+"("+t.name+")";return{[r]:u=>rne(u)&&Uwe(t,u)}[r]},Wwe=(t,r)=>Object.entries(t).reduce((i,[u,m])=>m===r[u]?i:[...i,{left:m,right:r[u],name:u}],[]),ane=Reflect.set,Kwe=Reflect.deleteProperty,TK=(t,...r)=>t.bind(null,...r),jwe=t=>t.apply.bind(t,null),AK=t=>t.map(r=>r()),Zwe=(t,r)=>Object.entries(r).forEach(jwe(t)),Gwe=(t,r,i)=>Zwe(t[r].bind(t),i),qwe=t=>r=>(t(r),r),fE=(t,r=EE)=>(i=void 0)=>{if(EI(i))return t;r(i),t=i},CU=JSON.stringify,Fv=t=>{let r=(...m)=>GE(`No matching function found for arguments: ${CU(m)}.`);const i={},u=(...m)=>(i[CU(t(...m))]||r)(...m);return u.define=(m,h=void 0)=>{EI(h)?r=m:i[CU(m)]=h},u},Wr=(t,...r)=>t.define(...r),lne=(t,r,i)=>(t.addEventListener(r,i),()=>t.removeEventListener(r,i)),iI=Fv((t,r)=>r);Wr(iI,lne);const OK=(t,r)=>Wr(iI,t,(i,u,m)=>{const h=[t,r].map(x=>lne(i,x,m));return()=>{AK(h)}});OK("mousedown","touchstart");OK("mousemove","touchmove");OK("mouseup","touchend");const XC=Fv(t=>t.constructor.name);Wr(XC,"MouseEvent",t=>fb(t.clientX,t.clientY));Wr(XC,"TouchEvent",t=>fb(t.touches[0].clientX,t.touches[0].clientY));const Ywe=t=>t.reduce((r,i)=>tI(i.right)&&!rne(i.right)?[...r,...cne(i.left,i.right).map(({path:u,...m})=>({path:[i.name,...u],...m}))]:[...r,{path:[i.name],value:i.right}],[]),cne=(t,r)=>Ywe(Wwe(t,r)),Xwe=(t,r)=>!EI(r.find(i=>une(i.path,t))),une=(t,r)=>JSON.stringify(t)===JSON.stringify(r),dne=(t,r)=>t.length>=r.length&&une(t.slice(0,r.length),r),RK=(t,r)=>t.length===0?r:tI(r)?RK(t.slice(1),r[t[0]]):GE("Path not found."),Vd=(t,r)=>({requires:i=>dne(i,t),then:nI(r,TK(RK,t))}),Vx=(t,r)=>({requires:bX(!1),then:nI(r,bX(t))}),IK=(t,r)=>({requires:i=>sne(TK(dne,i),Object.values(t)),then:i=>r(nne(u=>RK(u,i),t))}),Qc=t=>r=>i=>i.setAttribute(t,(BE(r),r)),fne=()=>t=>r=>ane(r,"textContent",t),aI=t=>r=>i=>i.style.setProperty(t,r),Jwe=t=>t.reduce((r,i)=>r.includes(i)?r:[...r,i],[]),DK=(t,r,i)=>r.forEach(({then:u})=>u(t)(i)),vX=(t,r,i,u)=>{const m=({path:x})=>r.filter(w=>w.requires(x)),h=Jwe(i.reduce((x,w)=>x.concat(m(w)),[]));DK(t,h,u)},Lg=(t,r)=>t.append(r),Gh=(t,r)=>Gwe(t,"setAttribute",r),Qwe=({start:t,move:r,stop:i=EE})=>{let u=null;return{start:m=>{m.preventDefault(),u=t(XC(m))},move:m=>{m.preventDefault(),u=r(XC(m),u)},stop:m=>{i(u)}}},e2e=(t,r)=>Array.from(t.children).forEach(TK(Lg,r)),mne=t=>(r,i={},...u)=>{const m=t(r);return u.forEach(h=>Lg(m,h)),Gh(m,i),m},t2e=t=>document.createElementNS("http://www.w3.org/2000/svg",t),kl=mne(t2e),n2e=mne(t=>document.createElement(t)),o2e=()=>{let t=null;return r=>{if(t!==null)return new Promise(EE);const i=()=>t===i?(t=null,!0):!1;return t=i,new Promise(u=>r(()=>{i(),u()}))}},s2e=t=>{const r=o2e();return{current:()=>t,acquire:(i,u)=>r(m=>{const h=t;t=i,u(()=>{m()&&(t=h)})})}},r2e=t=>new Promise((r,i)=>{const u=document.createElement("img");u.onload=()=>r(Bwe(u.width,u.height)),u.onerror=i,u.src=t}),gne=t=>t.type==="touchend"&&t.touches.length===0,lI=Fv((t,r=void 0)=>EI(r)?t.constructor.name:r);Wr(lI,"TouchEvent",t=>t.touches.length===1||gne(t));Wr(lI,"MouseEvent",t=>t.button===0);Wr(lI,"PointerEvent",t=>lI(t,"MouseEvent"));const cI=Fv(t=>t.constructor.name);Wr(cI,"TouchEvent",t=>t.touches.length===2||gne(t));Wr(cI,"MouseEvent",t=>t.button===1);Wr(cI,"PointerEvent",t=>cI(t,"MouseEvent"));const Mg=Fv((t,r)=>r);Wr(Mg,iI);["click","mousedown","mouseup"].forEach(t=>{Wr(Mg,t,(r,i,u)=>iI(r,i,RF(lI,u))),Wr(Mg,[t,"primary"],(r,[i,u],m)=>Mg(r,i,m)),Wr(Mg,[t,"secondary"],(r,[i,u],m)=>iI(r,i,RF(cI,m)))});const i2e=(t,{start:r=EE,move:i=EE,stop:u=EE},m,h)=>{const x=P=>i(P),R=[Mg(window,["mouseup",m],P=>{AK(R),u(P)}),Mg(t,"mousemove",x)];r(h)},gr={CIRCLE:"circle",RECTANGLE:"rectangle",POLYGON:"polygon",LINE:"line",WAVE:"wave"},a2e=t=>Object.values(gr).includes(t),l2e={[gr.CIRCLE]:{symbol:bE,symbolColor:bE},[gr.RECTANGLE]:{width:BE,height:BE},[gr.POLYGON]:{polygon:ine(Q6)},[gr.LINE]:{end:Q6},[gr.WAVE]:{end:Q6}},hne={key:bE,label:bE,color:bE,selectedColor:bE,shape:a2e,pos:Q6,locked:Awe},c2e=t=>({...NR(Object.keys(hne),t),pos:NR(["x","y"],t.pos)}),u2e={[gr.CIRCLE]:t=>NR(["symbol","symbolColor"],t),[gr.RECTANGLE]:t=>NR(["width","height"],t),[gr.POLYGON]:({polygon:t})=>({polygon:t.map(r=>NR(["x","y"],r))}),[gr.LINE]:({end:{x:t,y:r}})=>({end:{x:t,y:r}}),[gr.WAVE]:({end:{x:t,y:r}})=>({end:{x:t,y:r}})},PK=Fv(t=>t.shape);Wr(PK,tne);Wr(PK,gr.CIRCLE,({symbol:t="",symbolColor:r="black",...i})=>({...i,symbol:t,symbolColor:r}));const vE=t=>(t={...t,key:t.key||"mark-"+Math.random().toString(),locked:t.locked||!1},pX(hne,t),t=PK(t),pX(l2e[t.shape],t),{...c2e(t),...u2e[t.shape](t)}),eF={lambda:30,amplitude:6,lineWidth:6},SU={startDot:{radius:20,borderWidth:6},lineWidth:6},d2e={width:6},P1=Symbol("silent"),f2e=({polygon:t,pos:r})=>one(t,r),m2e=t=>r=>r.setAttribute("points",f2e(t)),h8=t=>[Vd(["color"],aI("--default-color")),Vd(["selectedColor"],aI("--selected-color")),Vd(["locked"],r=>Qc("class")(["shape"].concat(r?["locked"]:[],t).join(" ")))],pne=(t,r)=>{const i=m=>Math.sqrt(Math.pow(m.x,2)+Math.pow(m.y,2)),u=({start:m,end:h})=>{const x=Math.atan(h.y/h.x),w=h.x<0?x-Math.PI:x,R=Fwe(QC(m,fb(0,t/2)),-w),P=`rotateZ(${w}rad)`,A=`translate(${R.x}px, ${R.y}px)`;return`${P} ${A}`};return[...h8(r),IK({start:["pos"],end:["end"]},nI(aI("transform"),u)),Vd(["end"],nI(Qc("width"),i)),Vx(`0 ${t/2}px`,aI("transform-origin")),Vx(t,Qc("height")),Vx(0,Qc("x")),Vx(0,Qc("y"))]},Lv=Fv(t=>t.shape||t);Wr(Lv,gr.RECTANGLE,()=>[...h8([]),Vd(["pos","x"],Qc("x")),Vd(["pos","y"],Qc("y")),Vd(["width"],Qc("width")),Vd(["height"],Qc("height"))]);Wr(Lv,gr.CIRCLE,()=>[...h8([]),Vd(["pos","x"],qh(0,Qc("cx"))),Vd(["pos","y"],qh(0,Qc("cy"))),Vd(["pos","x"],qh(1,Qc("x"))),Vd(["pos","y"],qh(1,Qc("y"))),Vd(["symbol"],qh(1,fne())),Vd(["symbolColor"],qh(1,aI("fill"))),Vx("symbol",qh(1,Qc("class"))),Vx(40,qh(0,Qc("r")))]);Wr(Lv,gr.POLYGON,()=>[...h8([]),IK({pos:["pos"],polygon:["polygon"]},m2e)]);Wr(Lv,gr.LINE,()=>pne(d2e.width,[]));Wr(Lv,gr.WAVE,()=>pne(eF.amplitude*2,["wave"]));const qh=(t,r)=>i=>u=>r(i)(u.children[t]);Wr(Lv,"label",()=>[Vd(["pos","x"],qh(0,Qc("x"))),Vd(["pos","x"],qh(1,Qc("x"))),Vx("label",qh(0,Qc("class"))),Vx("label",qh(1,Qc("class"))),IK({shape:["shape"],label:["label"],y:["pos","y"],x:["pos","x"]},({shape:t,label:r,y:i,x:u})=>m=>{t==gr.CIRCLE?(i=i-50,u=u+20):(i=i-15,u=u+15),Gh(m.children[1],{x:u,y:i}),fne()(r)(m.children[1]),requestAnimationFrame(()=>{const{width:h,height:x}=m.children[1].getBBox();r?(Gh(m.children[0],{width:h+30}),Gh(m.children[0],{height:x+10})):(Gh(m.children[0],{width:0}),Gh(m.children[0],{height:0})),Gh(m.children[0],{y:i-x}),Gh(m.children[0],{rx:10}),Gh(m.children[0],{ry:10})})})]);const eS=Fv(tne);Wr(eS,gr.RECTANGLE,()=>kl("rect"));Wr(eS,gr.CIRCLE,()=>kl("g",{},kl("circle"),kl("text")));Wr(eS,gr.POLYGON,()=>kl("polygon"));Wr(eS,gr.LINE,()=>kl("rect"));Wr(eS,gr.WAVE,()=>kl("rect"));Wr(eS,t=>GE(`Invalid shape name: ${t}.`));const bne=t=>{const r=eS(t.shape);return DK(t,Lv(t),r),r},g2e=t=>{const r=kl("g",{},kl("rect"),kl("text"));return DK(t,Lv("label"),r),r},h2e=(t,r,i)=>{vX(t,Lv(t),r,i.nodes.shape),vX(t,Lv("label"),r,i.nodes.label)},p2e=t=>({mark:t,nodes:{root:kl("g"),label:g2e(t),shape:bne(t)}}),b2e={[gr.RECTANGLE]:{width:10,height:20},[gr.CIRCLE]:{},[gr.POLYGON]:{polygon:[fb(0,0)]},[gr.LINE]:{end:fb(0,0)},[gr.WAVE]:{end:fb(0,0)}},v2e=(t,r,i,u)=>vE({...b2e[r],shape:r,pos:t,color:i,selectedColor:u,label:""}),p8=(t,r,i,u="primary")=>i2e(t.nodes.svg,Qwe(i),u,r),y2e=(t,r)=>r2e(r).then(i=>{Gh(t.nodes.backgroundImage,{href:r,x:0,y:0,...i}),t.canvas.size(i),Tne(t)}),x2e=()=>qwe(t=>ane(t,"innerHTML",[" {position: relative; width: 100%; height: 100%; overflow: auto;}",".moving {overflow: hidden;}"," svg .polygon-start:hover {stroke: blue;}"," svg {position: absolute;}"," svg * {user-select: none;}"," svg .shape {fill: var(--default-color);}"," svg .shape.wave {mask: url(#wave-mask);}"," svg rect.label {fill: lightblue;}"," svg .foreground .shape {fill: var(--selected-color);}"," svg .shape text.symbol {text-anchor: middle; dominant-baseline: central; fill: black;}"].map(r=>".long-essay-image-marker"+r).join(" ")))(document.createElement("style")),w2e=()=>({background:kl("g",{class:"background"}),normal:kl("g"),foreground:kl("g",{class:"foreground"})}),C2e=t=>rI(Object.values(gr).includes(t),`Invalid shape name: ${t}.`),S2e=t=>{rI(BE(t),`Scale must be a number, given: ${JSON.stringify(t)}.`),rI(t>0,`Scale must be > 0 given: ${t}.`)},_2e=(t,r,i)=>{const u=w2e(),m=kl("svg",{width:"100%",height:"100%"},...Object.values(u)),h=n2e("div",{class:"long-essay-image-marker"},m),x=kl("image");return Lg(t,h),Lg(t,x2e()),Lg(m,kl("defs",{},O2e(),R2e())),{nodes:{app:h,svg:m,layers:u,backgroundImage:x},creation:{color:fE("#0000AAAA"),selectedColor:fE("#FF0000AA"),shape:fE(gr.CIRCLE,C2e)},status:s2e({name:"idle"}),canvas:{scale:fE(1,S2e),size:fE(null)},mode:fE("draw-shape",w=>rI(["draw-shape","scroll"].includes(w),`Invalid marker mode: ${w}`)),groups:{},emit:{createMark:r,selectMark:i}}},TI=(t,r,i)=>t.status.acquire(r,i),NK=(t,r,i,u)=>TI(t,{name:r,group:i},u),vne=(t,r,i)=>{Mg(i,"mousedown",u=>(r.mark.locked?Promise.resolve():wne(t,r,u)).then(()=>kne(t,[r])))},k2e=(t,r)=>{yne(t,r),E2e(t,r),Lg(t.nodes.layers.normal,r.nodes.root)},E2e=(t,r)=>{Lg(r.nodes.root,r.nodes.label),vne(t,r,r.nodes.label)},yne=(t,r)=>{Lg(r.nodes.root,r.nodes.shape),vne(t,r,r.nodes.shape)},b8=t=>(r,i)=>TI(r,{name:"drawNew"},u=>{const m=v2e($1(r,XC(i)),N2e(r),Cne(r),Sne(r));r.emit.selectMark(null,i),u(),LK(r,m,P1),t(r,r.groups[m.key],i).then(()=>{r.emit.createMark(r.groups[m.key].mark,i),IF(r,[m.key],i)})}),MK=Fv(t=>t.mode()),tS=Fv(MK),xne=(t,r,i)=>NK(t,"editGroup",r,u=>p8(t,i,{start:m=>(v8(t,[r],P1),m=$1(t,m),{mark:r.mark,start:{mouse:m,pos:r.mark.pos}}),move:(m,{mark:h,start:x})=>{const w=QC($1(t,m),x.mouse),R={...h,end:w};return y8(t,R),{start:x,mark:R}},stop:u}));Wr(tS,["draw-shape",gr.LINE],b8(xne));Wr(tS,["draw-shape",gr.WAVE],b8(xne));const T2e=(t,r,i)=>NK(t,"editGroup",r,u=>p8(t,i,{start:m=>(v8(t,[r],P1),m=$1(t,m),{mark:r.mark,start:{mouse:m,pos:r.mark.pos}}),move:(m,{mark:h,start:x})=>{const w=QC($1(t,m),x.mouse),{width:R,height:P,...A}=Twe(x.pos,g8(x.pos,w)),M={...h,pos:A,width:R,height:P};return y8(t,M),{start:x,mark:M}},stop:u}));Wr(tS,["draw-shape",gr.RECTANGLE],b8(T2e));const wne=(t,r,i)=>NK(t,"moveGroup",r,u=>p8(t,i,{start:m=>(m=$1(t,m),v8(t,[r],P1),{mark:r.mark,start:{pos:r.mark.pos,mouse:m}}),move:(m,{mark:h,start:x})=>{const w=QC($1(t,m),x.mouse),R={...h,pos:g8(x.pos,w)};return y8(t,R),{start:x,mark:R}},stop:u}));Wr(tS,["draw-shape",gr.CIRCLE],b8(wne));const A2e=(t,r,i)=>{const u=kl("circle",{cx:r.x,cy:r.y,r:SU.startDot.radius+"px","stroke-width":SU.startDot.borderWidth+"px",fill:"lightblue",class:"polygon-start"}),m=kl("polyline",{points:"",stroke:"blue",class:"polygon-next-point","stroke-width":SU.lineWidth+"px",fill:"none"}),h=kl("g",{class:"new-polygon"});return Lg(h,m),Lg(h,u),Lg(t,h),Mg(u,"click",x=>{x.stopPropagation(),h.remove(),i()}),x=>Gh(m,{points:one(x,r)})},O2e=()=>{const t=fb(eF.lambda,eF.amplitude*2),r=sI(.5,t),i=sI(.5,r);return kl("pattern",{x:"0",y:"0",id:"wave-pattern",width:`${t.x}px`,height:`${t.y}px`,patternUnits:"userSpaceOnUse"},kl("path",{d:`M -${r.x} ${r.y} Q -${i.x} -${i.y}, 0 ${r.y} t ${r.x} 0 t ${r.x} 0`,fill:"none",stroke:"white","stroke-width":eF.lineWidth+"px"}))},R2e=()=>kl("mask",{id:"wave-mask",x:0,y:0,width:"100%",height:"100%"},kl("rect",{x:0,y:0,width:"100%",height:"100%",fill:"url(#wave-pattern)"})),I2e=(t,r,i)=>vE({label:"",polygon:r,pos:i,color:Cne(t),selectedColor:Sne(t),shape:gr.POLYGON}),D2e=(t,r,i)=>u=>{u.preventDefault(),i(QC($1(t,XC(u)),r))};Wr(tS,["draw-shape",gr.POLYGON],(t,r)=>TI(t,{name:"newPolygon"},i=>{r.preventDefault(),t.emit.selectMark(null,r);const u=$1(t,XC(r)),m=A2e(t.nodes.layers.foreground,u,()=>P()),h=[fb(0,0)],x=A=>D2e(t,u,A);let w=fb(0,0);const R=[i,Mg(t.nodes.svg,"mousemove",x(A=>{m([...h,A]),w=A})),Mg(window,"mouseup",A=>h.push(w))],P=()=>{AK(R);const A=I2e(t,h,u);LK(t,A,r),IF(t,[A.key],r)}}));const P2e=t=>{const r=i=>[t.nodes.svg,t.nodes.backgroundImage].includes(i.target);Mg(t.nodes.svg,"mousedown",RF(r,i=>tS(t,i))),Mg(t.nodes.svg,["mousedown","secondary"],RF(r,i=>_ne(t,i,"secondary")))},Cne=t=>t.creation.color(),Sne=t=>t.creation.selectedColor(),N2e=t=>t.creation.shape();Wr(MK,"draw-shape",t=>[t.mode(),t.creation.shape()]);Wr(MK,t=>t.mode());const _ne=(t,r,i="primary")=>TI(t,{name:"moving-view"},u=>{t.nodes.app.classList.add("moving"),p8(t,r,{start:m=>m,move:(m,h)=>{const x=QC(h,m);return t.nodes.app.scrollBy(x.x,x.y),m},stop:()=>{t.nodes.app.classList.remove("moving"),u()}},i)});Wr(tS,"scroll",_ne);const v8=(t,r,i)=>{[].slice.call(t.nodes.layers.foreground.children).forEach(u=>u.classList.remove("active")),e2e(t.nodes.layers.foreground,t.nodes.layers.normal),r.forEach(u=>{const m=u.nodes.root;m.classList.add("active"),Lg(t.nodes.layers.foreground,m)}),i!==P1&&r.forEach(u=>t.emit.selectMark(u.mark,i))},kne=(t,r,i)=>TI(t,{name:"selecting-multiple"},u=>{v8(t,r,i),u()}),Ene=(t,r)=>t.groups[r]||GE(`Mark with key ${r} does not exist.`),IF=(t,r,i)=>kne(t,r.map(u=>Ene(t,u)),i),LK=(t,r,i)=>{rI(!t.groups[r.key],`Duplicated key: ${r.key}`);const u=p2e(r);k2e(t,u),t.groups[r.key]=u,i!==P1&&t.emit.createMark(r,i)},y8=(t,r)=>{const i=Ene(t,r.key),u=cne(i.mark,r);i.mark=r,Xwe(["shape"],u)?(i.nodes.shape.remove(),i.nodes.shape=bne(i.mark),yne(t,i)):h2e(i.mark,u,i)},Tne=t=>Gh(t.nodes.svg,{...Mwe(sI(t.canvas.scale(),Lwe(t.canvas.size()))),viewBox:[0,0,t.canvas.size().width,t.canvas.size().height].join(" ")}),$1=(t,r)=>sI(1/t.canvas.scale(),QC(r,t.nodes.svg.getBoundingClientRect())),M2e=(t,r,i)=>{const u=_2e(t,(w,R)=>r(vE(w),R),(w,R)=>i(w?vE(w):null,R));P2e(u);const m=w=>LK(u,vE(w),P1),h=w=>{u.groups[w].nodes.root.remove(),Kwe(u.groups,w)},x=w=>{u.canvas.scale(w),Tne(u)};return{showPage:(w,R)=>{y2e(u,w),Lg(u.nodes.layers.background,u.nodes.backgroundImage),u.canvas.scale(1),Object.values(u.groups).forEach(P=>h(P.mark.key)),R.forEach(m)},addMark:m,removeMark:h,selectMark:w=>IF(u,[w],P1),selectMarks:w=>IF(u,w,P1),updateMark:w=>y8(u,vE(w)),setDefaultColor:w=>u.creation.color(w),setDefaultSelectedColor:w=>u.creation.selectedColor(w),setDefaultShape:w=>u.creation.shape(w),setZoomLevel:x,fitToPage:()=>{if(u.canvas.size()){const w=Hwe(u.canvas.size(),u.nodes.app.getBoundingClientRect());x(w.width/u.canvas.size().width)}},drawMode:()=>u.mode("draw-shape"),scrollMode:()=>u.mode("scroll")}},L2e={id:"app-essay-image-wrapper"},B2e={class:"appImageButtons"},F2e={class:"appImageBottomNav"},$2e={__name:"EssayImage",setup(t){Ee.api();const r=Ee.comments(),i=Ee.summaries(),u=Ee.pages();Ee.layout();const m=Ee.preferences(),h=Ee.config(),x=Ln(),w=Ln("scroll"),R=Ln(!1),P=Ln(0),A=Ln(!0);let M,H="",K=[];Zd(()=>{M=M2e(x.value,G,te),M.setDefaultColor(h.getDefaultCommentColor(!1)),M.setDefaultSelectedColor(h.getDefaultCommentColor(!0)),Me(),re(u.minPage)});async function G(I){if(Ee.settings().Task.enable_comments&&I&&!i.isOwnDisabled){const st=new WC(I);switch(w.value){case"check":st.symbol=WC.SYMBOL_CHECK;break;case"cross":st.symbol=WC.SYMBOL_CROSS;break;case"question":st.symbol=WC.SYMBOL_QUESTION;break}if(K.push(I.key),!r.getCommentByMarkKey(I.key)){const it=r.selectedComment;if(it&&it.parent_number==u.selectedPageNo)it.addMarkData(st),await r.updateComment(it,!0);else{const Ft=new R1({parent_number:u.selectedPageNo,marks:[st]});await r.addComment(Ft)}}}}function te(I,st){if(Ee.settings().Task.enable_comments)if(I){let it=r.getCommentByMarkKey(I.key);if(it){r.selectComment(it.key);const Ft=it.getData();if(it.correction_key==Ee.corrections().ownKey&&!i.isOwnDisabled){I.symbol=I.symbol==""?null:I.symbol,it.updateMarkData(I);const Yt=it.getData();JSON.stringify(Ft)!=JSON.stringify(Yt)&&r.updateComment(it,!0)}else{const Yt=it.getMarkByKey(I.key);if(Yt){const mt={...Yt.getData(),label:A.value?it.label:"",color:h.getCommentColor(it.correction_position,!1),selectedColor:h.getCommentColor(it.correction_position,!0),locked:it.correction_key!=Ee.corrections().ownKey||i.isOwnDisabled};M.updateMark(mt)}}}}else{const it=r.selectedComment;st&&st.shiftKey&&it&&it.parent_number==u.selectedPageNo||r.selectComment("")}}function re(I){if(u.selectByPageNo(I)){const st=u.getPageByPageNo(I);if(st){st.url?(M.showPage(st.url,[]),H=st.url):(M.showPage("",[]),H="");try{M.setZoomLevel(m.essay_page_zoom)}catch{}document.querySelector(".long-essay-image-marker").scrollTop=0,K=[],he(),P.value=I}}}function W(){const I=u.selectedPage;I&&I.url!=H&&re(I.page_no)}Fn(()=>u.loadedImages,W);function ge(){const I=r.getComment(r.selectedKey);I&&I.parent_number!=u.selectedPageNo&&re(I.parent_number),he()}Fn(()=>r.selectionChange,ge);function he(){let I=[];for(const st of r.activeComments)if(st.parent_number==u.selectedPageNo){let it=[];for(const Ft of st.marks){const Yt={...Ft.getData(),label:A.value?st.label:"",color:h.getCommentColor(st.correction_position,!1),selectedColor:h.getCommentColor(st.correction_position,!0),locked:st.correction_key!=Ee.corrections().ownKey||i.isOwnDisabled};K.includes(Ft.key)?M.updateMark(Yt):M.addMark(Yt),I.push(Ft.key),it.push(Ft.key)}st.key==r.selectedKey&&M.selectMarks(it)}for(const st of K)I.includes(st)||M.removeMark(st);K=I}Fn(()=>r.markerChange,he),Fn(()=>r.filterChange,he);function j(){let I=r.getActiveCommentsByParentNumber(u.selectedPageNo);if(I.length){let st=I.shift();r.setFirstVisibleComment(st.key)}}Fn(()=>u.selectedKey,j);function me(){u.selectedPageNo>u.minPage&&re(u.selectedPageNo-1)}function oe(){u.selectedPageNo<u.maxPage&&re(u.selectedPageNo+1)}function Ce(I){R.value=!1,re(I)}async function Ue(){R.value&&(await ys(),await new Promise(st=>setTimeout(st,250)),document.getElementById("app-pages-menu-input").select())}function et(){m.zoomEssayPageIn(),M.setZoomLevel(m.essay_page_zoom)}function dt(){m.zoomEssayPageOut(),M.setZoomLevel(m.essay_page_zoom)}function Me(){switch(i.isOwnDisabled&&(w.value="scroll"),w.value){case"scroll":M.scrollMode();break;case"rectangle":M.drawMode(),M.setDefaultShape(gr.RECTANGLE);break;case"line":M.drawMode(),M.setDefaultShape(gr.LINE);break;case"wave":M.drawMode(),M.setDefaultShape(gr.WAVE);break;case"polygon":M.drawMode(),M.setDefaultShape(gr.POLYGON);break;case"circle":case"check":case"cross":case"question":M.drawMode(),M.setDefaultShape(gr.CIRCLE);break}}function Ne(){A.value==1?A.value=0:A.value=1,he()}return(I,st)=>(Jt(),mo("div",L2e,[ie("div",B2e,[ce(I1,{density:"comfortable",variant:"outlined",divided:""},{default:xt(()=>[ce(Io,{size:"small",title:I.$t("essayImageZoomOut"),icon:"mdi-magnify-minus-outline",onClick:st[0]||(st[0]=it=>dt())},null,8,["title"]),ce(Io,{size:"small",title:I.$t("essayImageZoomIn"),icon:"mdi-magnify-plus-outline",onClick:st[1]||(st[1]=it=>et())},null,8,["title"])]),_:1}),st[13]||(st[13]=Cs("  ")),ne(Ee).settings().Task.enable_comments?(Jt(),Go(i1e,{key:0,density:"comfortable",variant:"outlined",divided:"",modelValue:w.value,"onUpdate:modelValue":st[2]||(st[2]=it=>w.value=it),onClick:st[3]||(st[3]=it=>Me())},{default:xt(()=>[ce(Io,{size:"small",icon:"mdi-cursor-move",value:"scroll"}),ce(Io,{disabled:ne(i).isOwnDisabled,size:"small",icon:"mdi-minus",value:"line"},null,8,["disabled"]),ce(Io,{disabled:ne(i).isOwnDisabled,size:"small",icon:"mdi-wave",value:"wave"},null,8,["disabled"]),ce(Io,{disabled:ne(i).isOwnDisabled,size:"small",icon:"mdi-check",value:"check"},null,8,["disabled"]),ce(Io,{disabled:ne(i).isOwnDisabled,size:"small",icon:"mdi-help",value:"question"},null,8,["disabled"])]),_:1},8,["modelValue"])):Jn("",!0),st[14]||(st[14]=Cs("  ")),ne(Ee).settings().Task.enable_comments?(Jt(),Go(I1,{key:1,density:"comfortable",variant:"outlined",divided:""},{default:xt(()=>[ce(Io,{size:"small",active:A.value,icon:"mdi-label-outline",onClick:st[4]||(st[4]=it=>Ne())},null,8,["active"])]),_:1})):Jn("",!0),st[15]||(st[15]=Cs("  ")),ce(I1,{density:"comfortable",variant:"outlined",divided:""},{default:xt(()=>[ce(Io,{size:"small",icon:"mdi-menu-left",onClick:st[5]||(st[5]=it=>me())}),ce(Io,{size:"small",id:"app-pages-menu-activator"},{default:xt(()=>[Cs(He(ne(u).selectedPageNo),1)]),_:1}),ce(Io,{size:"small",icon:"mdi-menu-right",onClick:st[6]||(st[6]=it=>oe())})]),_:1}),ce(kI,{activator:"#app-pages-menu-activator",modelValue:R.value,"onUpdate:modelValue":[st[9]||(st[9]=it=>R.value=it),st[10]||(st[10]=it=>Ue())],"close-on-content-click":!1},{default:xt(()=>[ce(_I,null,{default:xt(()=>[ce(dd,null,{default:xt(()=>[ce(eI,{id:"app-pages-menu-input",modelValue:P.value,"onUpdate:modelValue":st[7]||(st[7]=it=>P.value=it),density:"compact",variant:"solo",label:"Number","single-line":"","hide-details":"","prepend-inner-icon":"mdi-magnify",onChange:st[8]||(st[8]=it=>Ce(P.value))},null,8,["modelValue"])]),_:1}),(Jt(!0),mo(ms,null,L1(ne(u).currentPages,it=>(Jt(),Go(dd,{onClick:Ft=>Ce(it.page_no),title:it.page_no,key:it.key},{default:xt(()=>[Zn(ce(wI,{src:it.thumb_url,width:"100"},null,8,["src"]),[[Co,it.thumb_url!==null]])]),_:2},1032,["onClick","title"]))),128))]),_:1})]),_:1},8,["modelValue"])]),ie("div",{class:"appImageMarker",ref_key:"markerNode",ref:x},null,512),ie("div",F2e,[ce(I1,{variant:"outlined",divided:""},{default:xt(()=>[ce(Io,{disabled:ne(u).selectedPageNo<=ne(u).minPage,size:"small",icon:"mdi-menu-left",onClick:st[11]||(st[11]=it=>me())},null,8,["disabled"]),ce(Io,{disabled:ne(u).selectedPageNo>=ne(u).maxPage,size:"small",icon:"mdi-menu-right",onClick:st[12]||(st[12]=it=>oe())},null,8,["disabled"])]),_:1})])]))}},V2e=Ta($2e,[["__scopeId","data-v-f6509ed8"]]),z2e={class:"text-right"},H2e={class:"sr-only"},U2e={"aria-hidden":"true"},W2e={class:"text-right"},K2e={class:"sr-only"},j2e={"aria-hidden":"true"},Z2e={class:"text-right"},G2e={class:"text-right"},q2e={class:"sr-only"},Y2e={"aria-hidden":"true"},X2e={class:"text-right"},J2e={class:"text-right"},Q2e={class:"sr-only"},eCe={"aria-hidden":"true"},tCe={class:"text-right"},nCe={class:"text-right"},oCe={class:"generalCriterion"},sCe={class:"text-right"},rCe={__name:"SummaryCriteria",props:["correction_key"],setup(t){const r=Ee.api(),i=Ee.criteria(),u=Ee.comments(),m=Ee.points(),h=Ee.layout(),x=Ee.settings(),w=t;Fn(()=>w,A),Fn(()=>r.itemKey,A);const R=Oc({}),P=Oc({});async function A(){await ys(),i.getCorrectionCommentCriteria(w.correction_key).forEach(G=>{P[G.key]={key:G.key,title:G.title,max_points:G.points,sum_points:0}}),i.getCorrectionGeneralCriteria(w.correction_key).forEach(G=>{R[G.key]={key:G.key,title:G.title,max_points:G.points,sum_points:0}}),m.getObjectsForCorrection(w.correction_key).forEach(G=>{P[G.criterion_key]!==void 0&&(P[G.criterion_key].sum_points+=G.points),R[G.criterion_key]!==void 0&&(R[G.criterion_key].sum_points+=G.points)})}i.getCorrectionHasCriteria(w.correction_key)&&A();async function M(G,te){u.setFilterByRating(w.correction_key,G,te),!w.correction_key==Ee.corrections().ownKey&&u.setShowOtherCorrections(!0),await ys(),h.showEssay(),h.showMarking()}async function H(){u.setFilterByPoints(w.correction_key),!w.correction_key==Ee.corrections().ownKey&&u.setShowOtherCorrections(!0),await ys(),h.showEssay(),h.showMarking()}async function K(G){u.setFilterByCriterion(w.correction_key,G),!w.correction_key==Ee.corrections().ownKey&&u.setShowOtherCorrections(!0),await ys(),h.showEssay(),h.showMarking()}return(G,te)=>(Jt(),mo("div",null,[ne(x).Task.enable_comment_ratings?(Jt(),Go(ab,{key:0,class:"table",density:"compact"},{default:xt(()=>[ie("thead",null,[ie("tr",null,[ie("th",null,He(G.$t("summaryCriteriaMarkings")),1),ie("th",z2e,He(G.$t("summaryCriteriaNumber")),1)])]),ie("tbody",null,[ie("tr",null,[ie("td",null,[ce(Io,{density:"compact",size:"small",variant:"text","prepend-icon":"mdi-filter-outline",disabled:ne(u).getCountOfExcellent(w.correction_key)==0,onClick:te[0]||(te[0]=re=>M(!0,!1))},{default:xt(()=>[ie("span",H2e,He(ne(x).Task.positive_rating),1)]),_:1},8,["disabled"]),ie("span",U2e,He(ne(x).Task.positive_rating),1)]),ie("td",W2e,He(ne(u).getCountOfExcellent(w.correction_key)),1)]),ie("tr",null,[ie("td",null,[ce(Io,{density:"compact",size:"small",variant:"text","prepend-icon":"mdi-filter-outline",disabled:ne(u).getCountOfCardinal(w.correction_key)==0,onClick:te[1]||(te[1]=re=>M(!1,!0))},{default:xt(()=>[ie("span",K2e,He(ne(x).Task.negative_rating),1)]),_:1},8,["disabled"]),ie("span",j2e,He(ne(x).Task.negative_rating),1)]),ie("td",Z2e,He(ne(u).getCountOfCardinal(w.correction_key)),1)])])]),_:1})):Jn("",!0),ne(x).Task.enable_partial_points&&!ne(i).getCorrectionHasCommentCriteria(w.correction_key)?(Jt(),Go(ab,{key:1,class:"table",density:"compact"},{default:xt(()=>[ie("thead",null,[ie("tr",null,[ie("th",null,[ie("strong",null,He(G.$t("summaryCriteriaRating")),1)]),ie("th",G2e,He(G.$t("allPoints")),1)])]),ie("tbody",null,[ie("tr",null,[ie("td",null,[ce(Io,{density:"compact",size:"small",variant:"text","prepend-icon":"mdi-filter-outline",disabled:ne(m).getSumOfPointsForCorrection(w.correction_key,!0,!1)==0,onClick:te[2]||(te[2]=re=>H())},{default:xt(()=>[ie("span",q2e,He(G.$t("summaryCriteriaPointsInComments")),1)]),_:1},8,["disabled"]),ie("span",Y2e,He(G.$t("summaryCriteriaPointsInComments")),1)]),ie("td",X2e,He(ne(m).getSumOfPointsForCorrection(w.correction_key,!0,!1)),1)])])]),_:1})):Jn("",!0),ne(x).Task.enable_partial_points&&ne(i).getCorrectionHasCommentCriteria(w.correction_key)?(Jt(),Go(ab,{key:2,class:"table",density:"compact"},{default:xt(()=>[ie("thead",null,[ie("tr",null,[ie("th",null,He(G.$t("summaryCriteriaInComments")),1),ie("th",J2e,He(G.$t("summaryCriteriaPointsOfMax")),1)])]),ie("tbody",null,[(Jt(!0),mo(ms,null,L1(P,re=>(Jt(),mo("tr",{key:re.key},[ie("td",null,[ce(Io,{density:"compact",size:"small",variant:"text","prepend-icon":"mdi-filter-outline",disabled:re.sum_points==0,onClick:W=>K(re.key)},{default:xt(()=>[ie("span",Q2e,He(re.title),1)]),_:2},1032,["disabled","onClick"]),ie("span",eCe,He(re.title),1)]),ie("td",tCe,He(re.sum_points)+" / "+He(re.max_points),1)]))),128))])]),_:1})):Jn("",!0),ne(x).Task.enable_partial_points&&ne(i).getCorrectionHasGeneralCriteria(w.correction_key)?(Jt(),Go(ab,{key:3,class:"table",density:"compact"},{default:xt(()=>[ie("thead",null,[ie("tr",null,[ie("th",null,He(G.$t("summaryCriteriaGeneralCriteria")),1),ie("th",nCe,He(G.$t("summaryCriteriaPointsOfMax")),1)])]),ie("tbody",null,[(Jt(!0),mo(ms,null,L1(R,re=>(Jt(),mo("tr",{key:re.key},[ie("td",null,[ie("span",oCe,He(re.title),1)]),ie("td",sCe,He(re.sum_points)+" / "+He(re.max_points),1)]))),128))])]),_:1})):Jn("",!0)]))}},iCe=Ta(rCe,[["__scopeId","data-v-331fdfef"]]),aCe=["innerHTML"],lCe={__name:"SummaryText",props:["correction_key"],setup(t){const r=Ee.summaries(),i=t;function u(){let m=r.getForCorrection(i.correction_key);if(m)return m.text}return(m,h)=>(Jt(),mo("div",{class:"app-summary-text-wrapper xlas-content headlines-three",innerHTML:u()},null,8,aCe))}},Ane=Ta(lCe,[["__scopeId","data-v-4c9adad8"]]),cCe={class:"app-summary-file-wrapper"},uCe=["src"],dCe={__name:"SummaryFile",props:["correction_key"],setup(t){const r=t;function i(){let u=Ee.summaries().getForCorrection(r.correction_key);if(u&&u.pdf)return Ee.api().getSummaryPdfUrl(u)}return(u,m)=>(Jt(),mo("div",cCe,[i()?(Jt(),mo("iframe",{key:0,scrolling:"no",class:"summary-pdf",type:"application/pdf",src:i()},null,8,uCe)):Jn("",!0)]))}},DF=Ta(dCe,[["__scopeId","data-v-10f24ac7"]]),fCe={id:"app-summary-points-wrapper"},mCe={__name:"SummaryPoints",props:["correction_key"],setup(t){Ee.settings();const r=Ee.levels(),i=Ee.summaries(),u=t,m=Ln(0),h=Ln(""),x=Ln("");function w(){const R=i.getForCorrection(u.correction_key);if(R){m.value=R.points;const P=r.getLevel(R.grade_key);P&&(h.value=P.title,x.value=P.statement)}}return Fn(()=>u.correction_key,w),w(),(R,P)=>(Jt(),mo("div",fCe,[ie("strong",null,He(R.$t("summaryPointsRating")),1),Cs(" "+He(m.value)+" "+He(R.$t("allPoints",m.value))+" ",1),ie("strong",null,He(R.$t("allGrade")),1),Cs(" "+He(h.value)+" ",1),ie("p",null,He(x.value),1)]))}},gCe=Ta(mCe,[["__scopeId","data-v-d3927868"]]),hCe={id:"app-summary-revision-wrapper"},pCe=["innerHTML"],bCe={class:"app-summary-points"},vCe={__name:"SummaryRevision",props:["correction_key"],setup(t){Ee.settings();const r=Ee.levels(),i=Ee.summaries(),u=t,m=Ln(""),h=Ln(0),x=Ln(""),w=Ln("");function R(){const P=i.getForCorrection(u.correction_key);if(P){m.value=P.revision_text,h.value=P.revision_points;const A=r.getLevel(P.grade_key);A&&(x.value=A.title,w.value=A.statement)}}return Fn(()=>u.correction_key,R),R(),(P,A)=>(Jt(),mo("div",hCe,[ie("div",{class:"app-summary-text-display xlas-content headlines-three",innerHTML:m.value},null,8,pCe),ie("div",bCe,[ie("p",null,[ie("strong",null,He(P.$t("summaryRevisionRating")),1),Cs(" "+He(h.value)+" "+He(P.$t("allPoints",h.value))+" ",1),ie("strong",null,He(P.$t("allGrade")),1),Cs(" "+He(x.value),1)]),ie("p",null,He(w.value),1)])]))}},yCe=Ta(vCe,[["__scopeId","data-v-51bc1322"]]),xCe={__name:"SumOfPoints",props:["correction_key"],setup(t){const r=Ee.settings(),i=Ee.points(),u=Ee.criteria(),m=t,{t:h}=Pu.global,x=u.getCorrectionHasGeneralCriteria(m.correction_key),w=u.getCorrectionHasCommentCriteria(m.correction_key);function R(){const P=i.getSumOfPointsForCorrection(m.correction_key,!0),A=i.getSumOfPointsForCorrection(m.correction_key,!1);return A+P==0?"":x?w?h("sumOfPointsNCommentCriteriaMGeneralCriteria",[P,A]):h("sumOfPointsNCommentsMGeneralCriteria",[P,A]):h(w?"sumOfPointsToCriteriaInComments":"sumOfPointsToComments")}return(P,A)=>(Jt(),mo("span",null,[ie("strong",null,He(P.$t("sumOfPointsLabel")),1),ie("span",{class:xo(ne(i).getSumOfPointsForCorrection(m.correction_key)>ne(r).Assessment.max_points?"red":"")},He(ne(i).getSumOfPointsForCorrection(m.correction_key))+" von max. "+He(ne(r).Assessment.max_points),3),Cs(" "+He(R()),1)]))}},One=Ta(xCe,[["__scopeId","data-v-b58bf4c4"]]),wCe=GF("v-alert-title"),CCe=qn({iconSize:[Number,String],iconSizes:{type:Array,default:()=>[["x-small",10],["small",16],["default",24],["large",28],["x-large",32]]}},"iconSize");function SCe(t,r){return{iconSize:Mt(()=>{const u=new Map(t.iconSizes),m=t.iconSize??r()??"default";return u.has(m)?u.get(m):m})}}const _Ce=["success","info","warning","error"],kCe=qn({border:{type:[Boolean,String],validator:t=>typeof t=="boolean"||["top","end","bottom","start"].includes(t)},borderColor:String,closable:Boolean,closeIcon:{type:fi,default:"$close"},closeLabel:{type:String,default:"$vuetify.close"},icon:{type:[Boolean,String,Function,Object],default:null},modelValue:{type:Boolean,default:!0},prominent:Boolean,title:String,text:String,type:{type:String,validator:t=>_Ce.includes(t)},...or(),...tp(),...bb(),...K1(),...CCe(),...a8(),...fK(),...Bg(),...Wa(),...sc(),...Z1({variant:"flat"})},"VAlert"),Ig=ts()({name:"VAlert",props:kCe(),emits:{"click:close":t=>!0,"update:modelValue":t=>!0},setup(t,r){let{emit:i,slots:u}=r;const m=ia(t,"modelValue"),h=En(()=>{if(t.icon!==!1)return t.type?t.icon??`$${t.type}`:t.icon}),{iconSize:x}=SCe(t,()=>t.prominent?44:28),{themeClasses:w}=nu(t),{colorClasses:R,colorStyles:P,variantClasses:A}=jE(()=>({color:t.color??t.type,variant:t.variant})),{densityClasses:M}=pb(t),{dimensionStyles:H}=vb(t),{elevationClasses:K}=j1(t),{locationStyles:G}=l8(t),{positionClasses:te}=mK(t),{roundedClasses:re}=Fg(t),{textColorClasses:W,textColorStyles:ge}=gb(()=>t.borderColor),{t:he}=zE(),j=En(()=>({"aria-label":he(t.closeLabel),onClick(me){m.value=!1,i("click:close",me)}}));return()=>{const me=!!(u.prepend||h.value),oe=!!(u.title||t.title),Ce=!!(u.close||t.closable),Ue={density:t.density,icon:h.value,size:x.value};return m.value&&ce(t.tag,{class:xo(["v-alert",t.border&&{"v-alert--border":!!t.border,[`v-alert--border-${t.border===!0?"start":t.border}`]:!0},{"v-alert--prominent":t.prominent},w.value,R.value,M.value,K.value,te.value,re.value,A.value,t.class]),style:Qs([P.value,H.value,G.value,t.style]),role:"alert"},{default:()=>{var et,dt;return[KE(!1,"v-alert"),t.border&&ie("div",{key:"border",class:xo(["v-alert__border",W.value]),style:Qs(ge.value)},null),me&&ie("div",{key:"prepend",class:"v-alert__prepend"},[u.prepend?ce(ul,{key:"prepend-defaults",disabled:!h.value,defaults:{VIcon:{...Ue}}},u.prepend):ce(Gn,Xo({key:"prepend-icon"},Ue),null)]),ie("div",{class:"v-alert__content"},[oe&&ce(wCe,{key:"title"},{default:()=>{var Me;return[((Me=u.title)==null?void 0:Me.call(u))??t.title]}}),((et=u.text)==null?void 0:et.call(u))??t.text,(dt=u.default)==null?void 0:dt.call(u)]),u.append&&ie("div",{key:"append",class:"v-alert__append"},[u.append()]),Ce&&ie("div",{key:"close",class:"v-alert__close"},[u.close?ce(ul,{key:"close-defaults",defaults:{VBtn:{icon:t.closeIcon,size:"x-small",variant:"text"}}},{default:()=>{var Me;return[(Me=u.close)==null?void 0:Me.call(u,{props:j.value})]}}):ce(Io,Xo({key:"close-btn",icon:t.closeIcon,size:"x-small",variant:"text"},j.value),null)])]}})}}}),ECe={id:"app-authorization-wrapper"},TCe={key:0,class:"appRow"},ACe=["innerHTML"],OCe=["data"],RCe={key:1,class:"appRow"},ICe={key:2,class:"appRow"},DCe={class:"appRow"},PCe={key:3,class:"appRow"},NCe={__name:"Authorization",setup(t){const r=Ee.api(),i=Ee.items(),u=Ee.settings(),m=Ee.summaries(),h=Ee.levels();Ee.layout();const x=Ee.points();Ee.comments(),Ee.criteria();const{t:w}=Pu.global,R=Ln(!1);function P(){let M=0;return!u.Task.enable_partial_points||(M=x.getSumOfPointsForCorrection(Ee.corrections().ownKey),M==0||M==m.editSummary.points)?"":w("authorizationPointsMismatch",[M])}async function A(){await m.setOwnAuthorized(),await r.saveChangesToBackend(!0)?(R.value=!1,r.loadItemFromBackend(i.currentKey)):(R.value=!1,Ee.layout().showSendFailure=!0)}return(M,H)=>(Jt(),mo("div",ECe,[ce(Io,{class:"app-header-item",disabled:ne(r).isLoading||!ne(i).canAuthorize,onClick:H[0]||(H[0]=K=>R.value=!0)},{default:xt(()=>[ce(Gn,{left:"",icon:"mdi-file-certificate-outline"}),ie("span",null,He(M.$t("authorizationAuthorize"))+"...",1)]),_:1},8,["disabled"]),ce(Ng,{"max-width":"60em",persistent:"",modelValue:R.value,"onUpdate:modelValue":H[3]||(H[3]=K=>R.value=K)},{default:xt(()=>[ce(Pg,null,{default:xt(()=>[ce(D1,null,{default:xt(()=>[Cs(He(M.$t("authorizationTitle",[ne(i).currentItem.title])),1)]),_:1}),ce(Mm,null,{default:xt(()=>[ne(m).editSummary.hasTextOrPdf()?(Jt(),mo("div",TCe,[ie("strong",null,He(M.$t("authorizationSummaryLabel")),1),ne(m).editSummary.text?(Jt(),mo("div",{key:0,class:"appText xlas-content headlines-three",innerHTML:ne(m).editSummary.text},null,8,ACe)):Jn("",!0),ne(m).editSummary.pdf?(Jt(),mo("object",{key:1,class:"appPdf",type:"application/pdf",data:ne(r).getSummaryPdfUrl(ne(m).editSummary)},null,8,OCe)):Jn("",!0)])):Jn("",!0),ne(u).Task.enable_partial_points?(Jt(),mo("div",RCe,[ce(One,{class:"sumOfPoints",correction_key:ne(Ee).corrections().ownKey},null,8,["correction_key"])])):Jn("",!0),ne(m).editSummary.hasPoints()?(Jt(),mo("div",ICe,[ie("strong",null,He(M.$t("ownSummaryPointsRating")),1),Cs(" "+He(ne(m).editSummary.points)+" "+He(M.$t("authorizationPointsSuffix"))+"  ",1),ie("strong",null,He(M.$t("authorizationGradeTitle")),1),Cs(" "+He(ne(m).currentGradeTitle)+" ",1),ie("p",null,He(ne(m).currentGradeStatement),1)])):Jn("",!0),ie("div",DCe,[Zn(ce(Ig,{color:"#0000A0",type:"info",variant:"text",density:"compact"},{default:xt(()=>[Cs(He(M.$t("authorizationPleaseEnterSummary")),1)]),_:1},512),[[Co,!ne(m).editSummary.text&&!ne(m).editSummary.pdf]]),Zn(ce(Ig,{color:"#0000A0",type:"info",variant:"text",density:"compact"},{default:xt(()=>[Cs(He(M.$t("authorizationPleaseEnterPoints")),1)]),_:1},512),[[Co,ne(h).hasLevels&&!ne(m).editSummary.hasPoints()]]),Zn(ce(Ig,{color:"#0000A0",type:"info",variant:"text",density:"compact"},{default:xt(()=>[Cs(He(P()),1)]),_:1},512),[[Co,P()!=""]]),Zn(ce(Ig,{color:"#0000A0",type:"info",variant:"text",density:"compact"},{default:xt(()=>[Cs(He(ne(m).procedureNeededText),1)]),_:1},512),[[Co,ne(m).areOthersAuthorized&&ne(m).procedureNeededText!=""]]),Zn(ce(Ig,{color:"#0000A0",type:"info",variant:"text",density:"compact"},{default:xt(()=>[Cs(He(ne(m).pointsOutsideCorridorText),1)]),_:1},512),[[Co,ne(i).isInStitch&&ne(m).pointsOutsideCorridorText!==""]])]),ne(m).editSummary.hasTextOrPdf()&&ne(m).editSummary.hasPoints()?(Jt(),mo("div",PCe,He(M.$t("authorizationWarnFinalize")),1)):Jn("",!0)]),_:1}),ce(Nm,null,{default:xt(()=>[ne(m).editSummary.hasTextOrPdf()&&ne(m).editSummary.hasPoints()?(Jt(),Go(Io,{key:0,onClick:H[1]||(H[1]=K=>A())},{default:xt(()=>[ce(Gn,{left:"",icon:"mdi-check"}),ie("span",null,He(M.$t("authorizationAuthorize")),1)]),_:1})):Jn("",!0),ce(Io,{onClick:H[2]||(H[2]=K=>R.value=!1)},{default:xt(()=>[ce(Gn,{left:"",icon:"mdi-close"}),ie("span",null,He(M.$t("allCancel")),1)]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]))}},MCe=Ta(NCe,[["__scopeId","data-v-bee0a428"]]),LCe={id:"app-own-summary-points-wrapper"},BCe={key:0},FCe={for:"appOwnSummaryPoints"},$Ce=["disabled","min","max"],VCe=["disabled"],zCe={for:"appOwnSummaryPregraded"},HCe={__name:"OwnSummaryPoints",setup(t){Ee.api();const r=Ee.items(),i=Ee.summaries(),u=Ee.settings();Ee.layout();const m=Ln(!1);m.value=i.isOwnPregraded;async function h(x){x.preventDefault(),i.isOwnPregraded?await i.setOwnOpen():i.isOwnAuthorized||await i.setOwnPregraded(),await r.setCurrentGradingStatus(i.editSummary.status),m.value=i.isOwnPregraded}return(x,w)=>(Jt(),mo("div",LCe,[ce(LE,null,{default:xt(()=>[ce(O1,{dense:""},{default:xt(()=>[ce(xc,{cols:"10"},{default:xt(()=>[ne(u).Task.enable_partial_points?(Jt(),mo("p",BCe,[ce(One,{class:"sumOfPoints",correction_key:ne(Ee).corrections().ownKey},null,8,["correction_key"])])):Jn("",!0),ie("label",FCe,[ie("strong",null,He(x.$t("ownSummaryPointsRating")),1)]),w[2]||(w[2]=Cs("  ")),Zn(ie("input",{id:"appOwnSummaryPoints",type:"number",disabled:ne(i).isOwnDisabled,class:"appPoints",min:ne(i).pointsCorridor.min,max:ne(i).pointsCorridor.max,"onUpdate:modelValue":w[0]||(w[0]=R=>ne(i).editSummary.points=R)},null,8,$Ce),[[AE,ne(i).editSummary.points]]),Cs(" "+He(x.$t("allPoints",ne(i).editSummary.points))+"  ",1),ie("strong",null,He(x.$t("allGrade")),1),Cs(" "+He(ne(i).currentGradeTitle)+" ",1),ie("p",null,He(ne(i).currentGradeStatement),1)]),_:1,__:[2]}),ce(xc,{cols:"2"},{default:xt(()=>[ne(i).isOwnAuthorized?Jn("",!0):Zn((Jt(),mo("input",{key:0,id:"appOwnSummaryPregraded",type:"checkbox",class:"appCheckbox","onUpdate:modelValue":w[1]||(w[1]=R=>m.value=R),disabled:ne(i).isOwnAuthorized||!ne(i).editSummary.hasPoints(),onChange:h},null,40,VCe)),[[zU,m.value]]),ie("label",zCe,He(x.$t("allPregraded")),1),Zn(ce(MCe,null,null,512),[[Co,!ne(i).isOwnAuthorized]])]),_:1})]),_:1})]),_:1})]))}},UCe=Ta(HCe,[["__scopeId","data-v-00cda19f"]]);var WCe=["onActivate","onAddUndo","onBeforeAddUndo","onBeforeExecCommand","onBeforeGetContent","onBeforeRenderUI","onBeforeSetContent","onBeforePaste","onBlur","onChange","onClearUndos","onClick","onContextMenu","onCommentChange","onCompositionEnd","onCompositionStart","onCompositionUpdate","onCopy","onCut","onDblclick","onDeactivate","onDirty","onDrag","onDragDrop","onDragEnd","onDragGesture","onDragOver","onDrop","onExecCommand","onFocus","onFocusIn","onFocusOut","onGetContent","onHide","onInit","onInput","onKeyDown","onKeyPress","onKeyUp","onLoadContent","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp","onNodeChange","onObjectResizeStart","onObjectResized","onObjectSelected","onPaste","onPostProcess","onPostRender","onPreProcess","onProgressState","onRedo","onRemove","onReset","onSaveContent","onSelectionChange","onSetAttrib","onSetContent","onShow","onSubmit","onUndo","onVisualAid"],KCe=function(t){return WCe.map(function(r){return r.toLowerCase()}).indexOf(t.toLowerCase())!==-1},jCe=function(t,r,i){Object.keys(r).filter(KCe).forEach(function(u){var m=r[u];typeof m=="function"&&(u==="onInit"?m(t,i):i.on(u.substring(2),function(h){return m(h,i)}))})},ZCe=function(t,r,i,u){var m=t.modelEvents?t.modelEvents:null,h=Array.isArray(m)?m.join(" "):m;Fn(u,function(x,w){i&&typeof x=="string"&&x!==w&&x!==i.getContent({format:t.outputFormat})&&i.setContent(x)}),i.on(h||"change input undo redo",function(){r.emit("update:modelValue",i.getContent({format:t.outputFormat}))})},GCe=function(t,r,i,u,m,h){u.setContent(h()),i.attrs["onUpdate:modelValue"]&&ZCe(r,i,u,m),jCe(t,i.attrs,u)},yX=0,Rne=function(t){var r=Date.now(),i=Math.floor(Math.random()*1e9);return yX++,t+"_"+i+yX+String(r)},qCe=function(t){return t!==null&&t.tagName.toLowerCase()==="textarea"},xX=function(t){return typeof t>"u"||t===""?[]:Array.isArray(t)?t:t.split(" ")},YCe=function(t,r){return xX(t).concat(xX(r))},XCe=function(t){return t==null},wX=function(t){var r;return typeof((r=t.options)===null||r===void 0?void 0:r.set)=="function"&&t.options.isRegistered("disabled")},CX=function(){return{listeners:[],scriptId:Rne("tiny-script"),scriptLoaded:!1}},JCe=function(){var t=CX(),r=function(m,h,x,w){var R=h.createElement("script");R.referrerPolicy="origin",R.type="application/javascript",R.id=m,R.src=x;var P=function(){R.removeEventListener("load",P),w()};R.addEventListener("load",P),h.head&&h.head.appendChild(R)},i=function(m,h,x){t.scriptLoaded?x():(t.listeners.push(x),m.getElementById(t.scriptId)||r(t.scriptId,m,h,function(){t.listeners.forEach(function(w){return w()}),t.scriptLoaded=!0}))},u=function(){t=CX()};return{load:i,reinitialize:u}},QCe=JCe(),eSe=function(){return typeof window<"u"?window:global},FC=function(){var t=eSe();return t&&t.tinymce?t.tinymce:null},tSe={apiKey:String,licenseKey:String,cloudChannel:String,id:String,init:Object,initialValue:String,inline:Boolean,modelEvents:[String,Array],plugins:[String,Array],tagName:String,toolbar:[String,Array],modelValue:String,disabled:Boolean,readonly:Boolean,tinymceScriptSrc:String,outputFormat:{type:String,validator:function(t){return t==="html"||t==="text"}}},Tv=function(){return Tv=Object.assign||function(t){for(var r,i=1,u=arguments.length;i<u;i++){r=arguments[i];for(var m in r)Object.prototype.hasOwnProperty.call(r,m)&&(t[m]=r[m])}return t},Tv.apply(this,arguments)},nSe=function(t,r,i,u){return t(u||"div",{id:r,ref:i})},oSe=function(t,r,i){return t("textarea",{id:r,visibility:"hidden",ref:i})},_U={selector:void 0,target:void 0},kU=function(t,r){var i;typeof((i=t.mode)===null||i===void 0?void 0:i.set)=="function"?t.mode.set(r):t.setMode(r)},Ine=RJ({props:tSe,setup:function(t,r){var i=t.init?Tv(Tv({},t.init),_U):Tv({},_U),u=$F(t),m=u.disabled,h=u.readonly,x=u.modelValue,w=u.tagName,R=Ln(null),P=null,A=t.id||Rne("tiny-vue"),M=t.init&&t.init.inline||t.inline,H=!!r.attrs["onUpdate:modelValue"],K=!0,G=t.initialValue?t.initialValue:"",te="",re=function(he){return H?function(){return x!=null&&x.value?x.value:""}:function(){return he?G:te}},W=function(){var he=re(K),j=Tv(Tv({},i),{disabled:t.disabled,readonly:t.readonly,target:R.value,plugins:YCe(i.plugins,t.plugins),toolbar:t.toolbar||i.toolbar,inline:M,license_key:t.licenseKey,setup:function(me){P=me,!wX(P)&&t.disabled===!0&&kU(P,"readonly"),me.on("init",function(oe){return GCe(oe,t,r,me,x,he)}),typeof i.setup=="function"&&i.setup(me)}});qCe(R.value)&&(R.value.style.visibility=""),FC().init(j),K=!1};Fn(h,function(he){P!==null&&kU(P,he?"readonly":"design")}),Fn(m,function(he){P!==null&&(wX(P)?P.options.set("disabled",he):kU(P,he?"readonly":"design"))}),Fn(w,function(he){var j;P&&(H||(te=P.getContent()),(j=FC())===null||j===void 0||j.remove(P),ys(function(){return W()}))}),Zd(function(){if(FC()!==null)W();else if(R.value&&R.value.ownerDocument){var he=t.cloudChannel?t.cloudChannel:"7",j=t.apiKey?t.apiKey:"no-api-key",me=XCe(t.tinymceScriptSrc)?"https://cdn.tiny.cloud/1/".concat(j,"/tinymce/").concat(he,"/tinymce.min.js"):t.tinymceScriptSrc;QCe.load(R.value.ownerDocument,me,W)}}),Du(function(){FC()!==null&&FC().remove(P)}),M||(LW(function(){K||W()}),HF(function(){var he;P&&(H||(te=P.getContent()),(he=FC())===null||he===void 0||he.remove(P))}));var ge=function(he){var j;P&&(te=P.getContent(),(j=FC())===null||j===void 0||j.remove(P),i=Tv(Tv(Tv({},i),he),_U),ys(function(){return W()}))};return r.expose({rerender:ge,getEditor:function(){return P}}),function(){return M?nSe(Nv,A,R,t.tagName):oSe(Nv,A,R)}}});const sSe='.xlas-content{font-family:serif;font-size:1rem;line-height:150%;text-align:justify}.xlas-content p,.xlas-content pre{margin-top:0;margin-bottom:10px;min-height:1.5em;text-align:justify}.xlas-content pre{max-width:80em;white-space:pre-wrap;word-wrap:break-word;overflow-wrap:break-word}.xlas-content ol,.xlas-content ul{margin:0 0 10px;padding:0}.xlas-content li{margin:0 0 0 40px;min-height:1.5em}.xlas-content li+li{margin-top:10px}.xlas-content li>ol,.xlas-content li>ul{margin-top:10px;margin-bottom:0}.xlas-content table{border-collapse:collapse;border:1px solid gray;width:100%;table-layout:fixed;margin-bottom:10px}.xlas-content tr{vertical-align:top}.xlas-content td,.xlas-content th{border:1px solid gray;min-width:1em;min-height:1em;padding:5px}.xlas-content hr{page-break-before:always;height:0;width:0;border:0;margin:0}.xlas-content .mce-pagebreak{width:calc(100% + 40px);height:1px;height:20px;background-color:#eee;border-top:1px solid #ccc;margin-left:-20px}.xlas-content{counter-reset:xlas-h1 xlas-h2 xlas-h3 xlas-h4 xlas-h5 xlas-h6}.xlas-content h1,.xlas-content h2,.xlas-content h3,.xlas-content h4,.xlas-content h5,.xlas-content h6{font-family:serif;font-size:1em;font-weight:700;padding:0;margin-top:0;margin-bottom:10px;min-height:1.5em}.xlas-content h1{counter-increment:xlas-h1;counter-reset:xlas-h2 xlas-h3 xlas-h4 xlas-h5 xlas-h6}.xlas-content h2{counter-increment:xlas-h2;counter-reset:xlas-h3 xlas-h4 xlas-h5 xlas-h6}.xlas-content h3{counter-increment:xlas-h3;counter-reset:xlas-h4 xlas-h5 xlas-h6}.xlas-content h4{counter-increment:xlas-h4;counter-reset:xlas-h5 xlas-h6}.xlas-content h5{counter-increment:xlas-h5;counter-reset:xlas-h6}.xlas-content h6{counter-increment:xlas-h6}.xlas-content.headlines-three h1{font-size:1.3em!important}.xlas-content.headlines-three h2{font-size:1.15em!important}.xlas-content.headlines-three h3{font-size:1em!important}.xlas-content.headlines-numeric h1:before{content:counter(xlas-h1,decimal) " "}.xlas-content.headlines-numeric h2:before{content:counter(xlas-h1,decimal) "." counter(xlas-h2,decimal) " "}.xlas-content.headlines-numeric h3:before{content:counter(xlas-h1,decimal) "." counter(xlas-h2,decimal) "." counter(xlas-h3,decimal) " "}.xlas-content.headlines-numeric h4:before{content:counter(xlas-h1,decimal) "." counter(xlas-h2,decimal) "." counter(xlas-h3,decimal) "." counter(xlas-h4,decimal) " "}.xlas-content.headlines-numeric h5:before{content:counter(xlas-h1,decimal) "." counter(xlas-h2,decimal) "." counter(xlas-h3,decimal) "." counter(xlas-h4,decimal) "." counter(xlas-h5,decimal) " "}.xlas-content.headlines-numeric h6:before{content:counter(xlas-h1,decimal) "." counter(xlas-h2,decimal) "." counter(xlas-h3,decimal) "." counter(xlas-h4,decimal) "." counter(xlas-h5,decimal) "." counter(xlas-h6,decimal) " "}.xlas-content.headlines-edutiek h1:before{content:counter(xlas-h1,upper-latin) ". "}.xlas-content.headlines-edutiek h2:before{content:counter(xlas-h2,upper-roman) ". "}.xlas-content.headlines-edutiek h3:before{content:counter(xlas-h3,decimal) ". "}.xlas-content.headlines-edutiek h4:before{content:counter(xlas-h4,lower-latin) ". "}.xlas-content.headlines-edutiek h5:before{content:counter(xlas-h5,lower-latin) counter(xlas-h5,lower-latin) ". "}.xlas-content.headlines-edutiek h6:before{content:"(" counter(xlas-h6,decimal) ") "}';var EU={exports:{}},SX;function rSe(){return SX||(SX=1,function(t){(function(){var r=function(e){if(e===null)return"null";if(e===void 0)return"undefined";var n=typeof e;return n==="object"&&(Array.prototype.isPrototypeOf(e)||e.constructor&&e.constructor.name==="Array")?"array":n==="object"&&(String.prototype.isPrototypeOf(e)||e.constructor&&e.constructor.name==="String")?"string":n},i=function(e){return["undefined","boolean","number","string","function","xml","null"].indexOf(e)!==-1},u=function(e,n){var o=Array.prototype.slice.call(e);return o.sort(n)},m=function(e,n){return h(function(o,a){return e.eq(n(o),n(a))})},h=function(e){return{eq:e}},x=h(function(e,n){return e===n}),w=x,R=function(e){return h(function(n,o){if(n.length!==o.length)return!1;for(var a=n.length,c=0;c<a;c++)if(!e.eq(n[c],o[c]))return!1;return!0})},P=function(e,n){return m(R(e),function(o){return u(o,n)})},A=function(e){return h(function(n,o){var a=Object.keys(n),c=Object.keys(o);if(!P(w).eq(a,c))return!1;for(var g=a.length,p=0;p<g;p++){var S=a[p];if(!e.eq(n[S],o[S]))return!1}return!0})},M=h(function(e,n){if(e===n)return!0;var o=r(e),a=r(n);return o!==a?!1:i(o)?e===n:o==="array"?R(M).eq(e,n):o==="object"?A(M).eq(e,n):!1});const H=Object.getPrototypeOf,K=(e,n,o)=>{var a;return o(e,n.prototype)?!0:((a=e.constructor)===null||a===void 0?void 0:a.name)===n.name},G=e=>{const n=typeof e;return e===null?"null":n==="object"&&Array.isArray(e)?"array":n==="object"&&K(e,String,(o,a)=>a.isPrototypeOf(o))?"string":n},te=e=>n=>G(n)===e,re=e=>n=>typeof n===e,W=e=>n=>e===n,ge=(e,n)=>j(e)&&K(e,n,(o,a)=>H(o)===a),he=te("string"),j=te("object"),me=e=>ge(e,Object),oe=te("array"),Ce=W(null),Ue=re("boolean"),et=W(void 0),dt=e=>e==null,Me=e=>!dt(e),Ne=re("function"),I=re("number"),st=(e,n)=>{if(oe(e)){for(let o=0,a=e.length;o<a;++o)if(!n(e[o]))return!1;return!0}return!1},it=()=>{},Ft=(e,n)=>(...o)=>e(n.apply(null,o)),Yt=(e,n)=>o=>e(n(o)),mt=e=>()=>e,Rn=e=>e,Ot=(e,n)=>e===n;function at(e,...n){return(...o)=>{const a=n.concat(o);return e.apply(null,a)}}const Ve=e=>n=>!e(n),bt=e=>()=>{throw new Error(e)},Yn=e=>e(),Xt=e=>{e()},Bn=mt(!1),Qt=mt(!0);class ee{constructor(n,o){this.tag=n,this.value=o}static some(n){return new ee(!0,n)}static none(){return ee.singletonNone}fold(n,o){return this.tag?o(this.value):n()}isSome(){return this.tag}isNone(){return!this.tag}map(n){return this.tag?ee.some(n(this.value)):ee.none()}bind(n){return this.tag?n(this.value):ee.none()}exists(n){return this.tag&&n(this.value)}forall(n){return!this.tag||n(this.value)}filter(n){return!this.tag||n(this.value)?this:ee.none()}getOr(n){return this.tag?this.value:n}or(n){return this.tag?this:n}getOrThunk(n){return this.tag?this.value:n()}orThunk(n){return this.tag?this:n()}getOrDie(n){if(this.tag)return this.value;throw new Error(n??"Called getOrDie on None")}static from(n){return Me(n)?ee.some(n):ee.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(n){this.tag&&n(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}ee.singletonNone=new ee(!1);const vo=Array.prototype.slice,nn=Array.prototype.indexOf,yn=Array.prototype.push,qe=(e,n)=>nn.call(e,n),lt=(e,n)=>{const o=qe(e,n);return o===-1?ee.none():ee.some(o)},Se=(e,n)=>qe(e,n)>-1,Pe=(e,n)=>{for(let o=0,a=e.length;o<a;o++){const c=e[o];if(n(c,o))return!0}return!1},Ke=(e,n)=>{const o=e.length,a=new Array(o);for(let c=0;c<o;c++){const g=e[c];a[c]=n(g,c)}return a},xe=(e,n)=>{for(let o=0,a=e.length;o<a;o++){const c=e[o];n(c,o)}},Ae=(e,n)=>{for(let o=e.length-1;o>=0;o--){const a=e[o];n(a,o)}},Fe=(e,n)=>{const o=[],a=[];for(let c=0,g=e.length;c<g;c++){const p=e[c];(n(p,c)?o:a).push(p)}return{pass:o,fail:a}},Je=(e,n)=>{const o=[];for(let a=0,c=e.length;a<c;a++){const g=e[a];n(g,a)&&o.push(g)}return o},wt=(e,n,o)=>(Ae(e,(a,c)=>{o=n(o,a,c)}),o),pn=(e,n,o)=>(xe(e,(a,c)=>{o=n(o,a,c)}),o),en=(e,n,o)=>{for(let a=0,c=e.length;a<c;a++){const g=e[a];if(n(g,a))return ee.some(g);if(o(g,a))break}return ee.none()},An=(e,n)=>en(e,n,Bn),no=(e,n)=>{for(let o=0,a=e.length;o<a;o++){const c=e[o];if(n(c,o))return ee.some(o)}return ee.none()},co=e=>{const n=[];for(let o=0,a=e.length;o<a;++o){if(!oe(e[o]))throw new Error("Arr.flatten item "+o+" was not an array, input: "+e);yn.apply(n,e[o])}return n},Jo=(e,n)=>co(Ke(e,n)),Ho=(e,n)=>{for(let o=0,a=e.length;o<a;++o){const c=e[o];if(n(c,o)!==!0)return!1}return!0},sr=e=>{const n=vo.call(e,0);return n.reverse(),n},Ss=(e,n)=>Je(e,o=>!Se(n,o)),ri=(e,n)=>{const o={};for(let a=0,c=e.length;a<c;a++){const g=e[a];o[String(g)]=n(g,a)}return o},xs=(e,n)=>{const o=vo.call(e,0);return o.sort(n),o},la=(e,n)=>n>=0&&n<e.length?ee.some(e[n]):ee.none(),cn=e=>la(e,0),uo=e=>la(e,e.length-1),$o=Ne(Array.from)?Array.from:e=>vo.call(e),mi=(e,n)=>{for(let o=0;o<e.length;o++){const a=n(e[o],o);if(a.isSome())return a}return ee.none()},dl=(e,n)=>{const o=[],a=Ne(n)?c=>Pe(o,g=>n(g,c)):c=>Se(o,c);for(let c=0,g=e.length;c<g;c++){const p=e[c];a(p)||o.push(p)}return o},tn=Object.keys,ki=Object.hasOwnProperty,qo=(e,n)=>{const o=tn(e);for(let a=0,c=o.length;a<c;a++){const g=o[a],p=e[g];n(p,g)}},Kl=(e,n)=>js(e,(o,a)=>({k:a,v:n(o,a)})),js=(e,n)=>{const o={};return qo(e,(a,c)=>{const g=n(a,c);o[g.k]=g.v}),o},ii=e=>(n,o)=>{e[o]=n},Rc=(e,n,o,a)=>{qo(e,(c,g)=>{(n(c,g)?o:a)(c,g)})},Ic=(e,n)=>{const o={},a={};return Rc(e,n,ii(o),ii(a)),{t:o,f:a}},Dc=(e,n)=>{const o={};return Rc(e,n,ii(o),it),o},El=(e,n)=>{const o=[];return qo(e,(a,c)=>{o.push(n(a,c))}),o},Pc=e=>El(e,Rn),Zs=(e,n)=>So(e,n)?ee.from(e[n]):ee.none(),So=(e,n)=>ki.call(e,n),fl=(e,n)=>So(e,n)&&e[n]!==void 0&&e[n]!==null,Ui=(e,n,o=M)=>A(o).eq(e,n),Mu=e=>{const n={};return xe(e,o=>{n[o]={}}),tn(n)},Sn=e=>e.length!==void 0,rc=Array.isArray,jf=e=>{if(rc(e))return e;{const n=[];for(let o=0,a=e.length;o<a;o++)n[o]=e[o];return n}},Tr=(e,n,o)=>{if(!e)return!1;if(o=o||e,Sn(e)){for(let a=0,c=e.length;a<c;a++)if(n.call(o,e[a],a,e)===!1)return!1}else for(const a in e)if(So(e,a)&&n.call(o,e[a],a,e)===!1)return!1;return!0},Zf=(e,n)=>{const o=[];return Tr(e,(a,c)=>{o.push(n(a,c,e))}),o},ml=(e,n)=>{const o=[];return Tr(e,(a,c)=>{(!n||n(a,c,e))&&o.push(a)}),o},jl=(e,n)=>{if(e){for(let o=0,a=e.length;o<a;o++)if(e[o]===n)return o}return-1},Tl=(e,n,o,a)=>{let c=et(o)?e[0]:o;for(let g=0;g<e.length;g++)c=n.call(a,c,e[g],g);return c},dr=(e,n,o)=>{for(let a=0,c=e.length;a<c;a++)if(n.call(o,e[a],a,e))return a;return-1},ca=e=>e[e.length-1],gl=e=>{let n=!1,o;return(...a)=>(n||(n=!0,o=e.apply(null,a)),o)},Gf=(e,n,o,a)=>{const c=e.isiOS()&&/ipad/i.test(o)===!0,g=e.isiOS()&&!c,p=e.isiOS()||e.isAndroid(),S=p||a("(pointer:coarse)"),T=c||!g&&p&&a("(min-device-width:768px)"),V=g||p&&!T,X=n.isSafari()&&e.isiOS()&&/safari/i.test(o)===!1,Q=!V&&!T&&!X;return{isiPad:mt(c),isiPhone:mt(g),isTablet:mt(T),isPhone:mt(V),isTouch:mt(S),isAndroid:e.isAndroid,isiOS:e.isiOS,isWebView:mt(X),isDesktop:mt(Q)}},su=(e,n)=>{for(let o=0;o<e.length;o++){const a=e[o];if(a.test(n))return a}},Al=(e,n)=>{const o=su(e,n);if(!o)return{major:0,minor:0};const a=c=>Number(n.replace(o,"$"+c));return cs(a(1),a(2))},Gd=(e,n)=>{const o=String(n).toLowerCase();return e.length===0?Lu():Al(e,o)},Lu=()=>cs(0,0),cs=(e,n)=>({major:e,minor:n}),Kr={nu:cs,detect:Gd,unknown:Lu},gi=(e,n)=>mi(n.brands,o=>{const a=o.brand.toLowerCase();return An(e,c=>{var g;return a===((g=c.brand)===null||g===void 0?void 0:g.toLowerCase())}).map(c=>({current:c.name,version:Kr.nu(parseInt(o.version,10),0)}))}),qf=(e,n)=>{const o=String(n).toLowerCase();return An(e,a=>a.search(o))},hl=(e,n)=>qf(e,n).map(o=>{const a=Kr.detect(o.versionRegexes,n);return{current:o.name,version:a}}),ru=(e,n)=>qf(e,n).map(o=>{const a=Kr.detect(o.versionRegexes,n);return{current:o.name,version:a}}),Pi=(e,n)=>e.substring(n),Aa=(e,n,o)=>n===""||e.length>=n.length&&e.substr(o,o+n.length)===n,Oa=(e,n)=>wr(e,n)?Pi(e,n.length):e,Vs=(e,n,o=0,a)=>{const c=e.indexOf(n,o);return c!==-1?et(a)?!0:c+n.length<=a:!1},wr=(e,n)=>Aa(e,n,0),Be=(e,n)=>Aa(e,n,e.length-n.length),gt=e=>n=>n.replace(e,""),Ze=gt(/^\s+|\s+$/g),_t=gt(/^\s+/g),Ct=gt(/\s+$/g),ut=e=>e.length>0,rn=e=>!ut(e),bn=(e,n)=>n<=0?"":new Array(n+1).join(e),Cn=(e,n=10)=>{const o=parseInt(e,n);return isNaN(o)?ee.none():ee.some(o)},Tn=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,_n=e=>n=>Vs(n,e),Po=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:e=>Vs(e,"edge/")&&Vs(e,"chrome")&&Vs(e,"safari")&&Vs(e,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,Tn],search:e=>Vs(e,"chrome")&&!Vs(e,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:e=>Vs(e,"msie")||Vs(e,"trident")},{name:"Opera",versionRegexes:[Tn,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:_n("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:_n("firefox")},{name:"Safari",versionRegexes:[Tn,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:e=>(Vs(e,"safari")||Vs(e,"mobile/"))&&Vs(e,"applewebkit")}],xn=[{name:"Windows",search:_n("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:e=>Vs(e,"iphone")||Vs(e,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:_n("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:_n("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:_n("linux"),versionRegexes:[]},{name:"Solaris",search:_n("sunos"),versionRegexes:[]},{name:"FreeBSD",search:_n("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:_n("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],Ws={browsers:mt(Po),oses:mt(xn)},ns="Edge",gs="Chromium",jr="IE",Uo="Opera",ic="Firefox",Ra="Safari",_o=()=>Ol({current:void 0,version:Kr.unknown()}),Ol=e=>{const n=e.current,o=e.version,a=c=>()=>n===c;return{current:n,version:o,isEdge:a(ns),isChromium:a(gs),isIE:a(jr),isOpera:a(Uo),isFirefox:a(ic),isSafari:a(Ra)}},Rl={unknown:_o,nu:Ol},Or="Windows",qd="iOS",Jr="Android",Yf="Linux",Il="macOS",zs="Solaris",md="FreeBSD",Vm="ChromeOS",zm=()=>Rr({current:void 0,version:Kr.unknown()}),Rr=e=>{const n=e.current,o=e.version,a=c=>()=>n===c;return{current:n,version:o,isWindows:a(Or),isiOS:a(qd),isAndroid:a(Jr),isMacOS:a(Il),isLinux:a(Yf),isSolaris:a(zs),isFreeBSD:a(md),isChromeOS:a(Vm)}},pl={unknown:zm,nu:Rr},rr={detect:(e,n,o)=>{const a=Ws.browsers(),c=Ws.oses(),g=n.bind(T=>gi(a,T)).orThunk(()=>hl(a,e)).fold(Rl.unknown,Rl.nu),p=ru(c,e).fold(pl.unknown,pl.nu),S=Gf(p,g,e,o);return{browser:g,os:p,deviceType:S}}},Yd=e=>window.matchMedia(e).matches;let Pl=gl(()=>rr.detect(window.navigator.userAgent,ee.from(window.navigator.userAgentData),Yd));const ua=()=>Pl(),Hm=window.navigator.userAgent,Wi=ua(),Ka=Wi.browser,da=Wi.os,bl=Wi.deviceType,Vg=Hm.indexOf("Windows Phone")!==-1,os={transparentSrc:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",documentMode:Ka.isIE()?document.documentMode||7:10,cacheSuffix:null,container:null,canHaveCSP:!Ka.isIE(),windowsPhone:Vg,browser:{current:Ka.current,version:Ka.version,isChromium:Ka.isChromium,isEdge:Ka.isEdge,isFirefox:Ka.isFirefox,isIE:Ka.isIE,isOpera:Ka.isOpera,isSafari:Ka.isSafari},os:{current:da.current,version:da.version,isAndroid:da.isAndroid,isChromeOS:da.isChromeOS,isFreeBSD:da.isFreeBSD,isiOS:da.isiOS,isLinux:da.isLinux,isMacOS:da.isMacOS,isSolaris:da.isSolaris,isWindows:da.isWindows},deviceType:{isDesktop:bl.isDesktop,isiPad:bl.isiPad,isiPhone:bl.isiPhone,isPhone:bl.isPhone,isTablet:bl.isTablet,isTouch:bl.isTouch,isWebView:bl.isWebView}},iu=/^\s*|\s*$/g,gd=e=>dt(e)?"":(""+e).replace(iu,""),Bu=(e,n)=>n?n==="array"&&rc(e)?!0:typeof e===n:e!==void 0,np=(e,n,o={})=>{const a=he(e)?e.split(n||","):e||[];let c=a.length;for(;c--;)o[a[c]]={};return o},$v=So,Zl=(e,...n)=>{for(let o=0;o<n.length;o++){const a=n[o];for(const c in a)if(So(a,c)){const g=a[c];g!==void 0&&(e[c]=g)}}return e},op=function(e,n,o,a){a=a||this,e&&(o&&(e=e[o]),Tr(e,(c,g)=>n.call(a,c,g,o)===!1?!1:(op(c,n,o,a),!0)))},dn={trim:gd,isArray:rc,is:Bu,toArray:jf,makeMap:np,each:Tr,map:Zf,grep:ml,inArray:jl,hasOwn:$v,extend:Zl,walk:op,resolve:(e,n=window)=>{const o=e.split(".");for(let a=0,c=o.length;a<c&&(n=n[o[a]],!!n);a++);return n},explode:(e,n)=>oe(e)?e:e===""?[]:Zf(e.split(n||","),gd),_addCacheSuffix:e=>{const n=os.cacheSuffix;return n&&(e+=(e.indexOf("?")===-1?"?":"&")+n),e}},Xd=(e,n,o=Ot)=>e.exists(a=>o(a,n)),Jd=(e,n,o=Ot)=>fa(e,n,o).getOr(e.isNone()&&n.isNone()),Hg=e=>{const n=[],o=a=>{n.push(a)};for(let a=0;a<e.length;a++)e[a].each(o);return n},fa=(e,n,o)=>e.isSome()&&n.isSome()?ee.some(o(e.getOrDie(),n.getOrDie())):ee.none(),Qd=(e,n,o,a)=>e.isSome()&&n.isSome()&&o.isSome()?ee.some(a(e.getOrDie(),n.getOrDie(),o.getOrDie())):ee.none(),Xf=(e,n)=>e?ee.some(n):ee.none(),zv=typeof window<"u"?window:Function("return this;")(),xb=(e,n)=>{let o=n??zv;for(let a=0;a<e.length&&o!==void 0&&o!==null;++a)o=o[e[a]];return o},wb=(e,n)=>{const o=e.split(".");return xb(o,n)},G1=(e,n)=>wb(e,n),Hv=(e,n)=>{const o=G1(e,n);if(o==null)throw new Error(e+" not available on this browser");return o},q1=Object.getPrototypeOf,Ug=e=>Hv("HTMLElement",e),au=e=>{const n=wb("ownerDocument.defaultView",e);return j(e)&&(Ug(n).prototype.isPrototypeOf(e)||/^HTML\w*Element$/.test(q1(e).constructor.name))},hd=8,lu=9,Ki=11,Nl=1,ef=3,hs=e=>e.dom.nodeName.toLowerCase(),Nc=e=>e.dom.nodeType,Um=e=>n=>Nc(n)===e,Wm=e=>Nc(e)===hd||hs(e)==="#comment",vl=e=>Qr(e)&&au(e.dom),Qr=Um(Nl),Cr=Um(ef),Ji=Um(lu),fr=Um(Ki),tf=e=>n=>Qr(n)&&hs(n)===e,nf=(e,n,o)=>{if(he(o)||Ue(o)||I(o))e.setAttribute(n,o+"");else throw console.error("Invalid call to Attribute.set. Key ",n,":: Value ",o,":: Element ",e),new Error("Attribute value was not simple")},Ei=(e,n,o)=>{nf(e.dom,n,o)},ja=(e,n)=>{const o=e.dom;qo(n,(a,c)=>{nf(o,c,a)})},Ia=(e,n)=>{const o=e.dom.getAttribute(n);return o===null?void 0:o},hi=(e,n)=>ee.from(Ia(e,n)),pd=(e,n)=>{const o=e.dom;return o&&o.hasAttribute?o.hasAttribute(n):!1},Yo=(e,n)=>{e.dom.removeAttribute(n)},ai=e=>{const n=e.dom.attributes;return n==null||n.length===0},Za=e=>pn(e.dom.attributes,(n,o)=>(n[o.name]=o.value,n),{}),cu=(e,n)=>{const o=Ia(e,n);return o===void 0||o===""?[]:o.split(" ")},Ni=(e,n,o)=>{const c=cu(e,n).concat([o]);return Ei(e,n,c.join(" ")),!0},Wn=(e,n,o)=>{const a=Je(cu(e,n),c=>c!==o);return a.length>0?Ei(e,n,a.join(" ")):Yo(e,n),!1},Mc=e=>e.dom.classList!==void 0,Lc=e=>cu(e,"class"),_s=(e,n)=>Ni(e,"class",n),Jf=(e,n)=>Wn(e,"class",n),sp=(e,n)=>Se(Lc(e),n)?Jf(e,n):_s(e,n),uu=(e,n)=>{Mc(e)?e.dom.classList.add(n):_s(e,n)},ss=e=>{(Mc(e)?e.dom.classList:Lc(e)).length===0&&Yo(e,"class")},Da=(e,n)=>{Mc(e)?e.dom.classList.remove(n):Jf(e,n),ss(e)},Km=(e,n)=>{const o=Mc(e)?e.dom.classList.toggle(n):sp(e,n);return ss(e),o},Fu=(e,n)=>Mc(e)&&e.dom.classList.contains(n),Wg=(e,n)=>{const a=(n||document).createElement("div");if(a.innerHTML=e,!a.hasChildNodes()||a.childNodes.length>1){const c="HTML does not have a single root node";throw console.error(c,e),new Error(c)}return du(a.childNodes[0])},Bc=(e,n)=>{const a=(n||document).createElement(e);return du(a)},Ga=(e,n)=>{const a=(n||document).createTextNode(e);return du(a)},du=e=>{if(e==null)throw new Error("Node cannot be null or undefined");return{dom:e}},Ye={fromHtml:Wg,fromTag:Bc,fromText:Ga,fromDom:du,fromPoint:(e,n,o)=>ee.from(e.dom.elementFromPoint(n,o)).map(du)},Qf=(e,n)=>{const o=[],a=g=>(o.push(g),n(g));let c=n(e);do c=c.bind(a);while(c.isSome());return o},qs=(e,n)=>{const o=e.dom;if(o.nodeType!==Nl)return!1;{const a=o;if(a.matches!==void 0)return a.matches(n);if(a.msMatchesSelector!==void 0)return a.msMatchesSelector(n);if(a.webkitMatchesSelector!==void 0)return a.webkitMatchesSelector(n);if(a.mozMatchesSelector!==void 0)return a.mozMatchesSelector(n);throw new Error("Browser lacks native selectors")}},rp=e=>e.nodeType!==Nl&&e.nodeType!==lu&&e.nodeType!==Ki||e.childElementCount===0,jm=(e,n)=>{const o=n===void 0?document:n.dom;return rp(o)?[]:Ke(o.querySelectorAll(e),Ye.fromDom)},Cc=(e,n)=>{const o=n===void 0?document:n.dom;return rp(o)?ee.none():ee.from(o.querySelector(e)).map(Ye.fromDom)},us=(e,n)=>e.dom===n.dom,ma=(e,n)=>{const o=e.dom,a=n.dom;return o===a?!1:o.contains(a)},ac=e=>Ye.fromDom(e.dom.ownerDocument),Sc=e=>Ji(e)?e:ac(e),fu=e=>Ye.fromDom(Sc(e).dom.documentElement),$u=e=>Ye.fromDom(Sc(e).dom.defaultView),Qi=e=>ee.from(e.dom.parentNode).map(Ye.fromDom),sf=e=>ee.from(e.dom.parentElement).map(Ye.fromDom),Zm=(e,n)=>{const o=Ne(n)?n:Bn;let a=e.dom;const c=[];for(;a.parentNode!==null&&a.parentNode!==void 0;){const g=a.parentNode,p=Ye.fromDom(g);if(c.push(p),o(p)===!0)break;a=g}return c},Kg=e=>{const n=o=>Je(o,a=>!us(e,a));return Qi(e).map(ga).map(n).getOr([])},Mi=e=>ee.from(e.dom.previousSibling).map(Ye.fromDom),oo=e=>ee.from(e.dom.nextSibling).map(Ye.fromDom),Vu=e=>sr(Qf(e,Mi)),em=e=>Qf(e,oo),ga=e=>Ke(e.dom.childNodes,Ye.fromDom),zu=(e,n)=>{const o=e.dom.childNodes;return ee.from(o[n]).map(Ye.fromDom)},Gl=e=>zu(e,0),Hu=e=>zu(e,e.dom.childNodes.length-1),bd=e=>e.dom.childNodes.length,Li=e=>{const n=e.dom.head;if(n==null)throw new Error("Head is not available yet");return Ye.fromDom(n)},_c=e=>fr(e)&&Me(e.dom.host),mu=e=>Ye.fromDom(e.dom.getRootNode()),tm=e=>_c(e)?e:Li(Sc(e)),Cb=e=>_c(e)?e:Ye.fromDom(Sc(e).dom.body),Uu=e=>{const n=mu(e);return _c(n)?ee.some(n):ee.none()},rf=e=>Ye.fromDom(e.dom.host),Gm=e=>{if(Me(e.target)){const n=Ye.fromDom(e.target);if(Qr(n)&&Ir(n)&&e.composed&&e.composedPath){const o=e.composedPath();if(o)return cn(o)}}return ee.from(e.target)},Ir=e=>Me(e.dom.shadowRoot),Pa=e=>{const n=Cr(e)?e.dom.parentNode:e.dom;if(n==null||n.ownerDocument===null)return!1;const o=n.ownerDocument;return Uu(Ye.fromDom(n)).fold(()=>o.body.contains(n),Yt(Pa,rf))};var Na=(e,n,o,a,c)=>e(o,a)?ee.some(o):Ne(c)&&c(o)?ee.none():n(o,a,c);const qa=(e,n,o)=>{let a=e.dom;const c=Ne(o)?o:Bn;for(;a.parentNode;){a=a.parentNode;const g=Ye.fromDom(a);if(n(g))return ee.some(g);if(c(g))break}return ee.none()},Ti=(e,n,o)=>Na((c,g)=>g(c),qa,e,n,o),nm=(e,n)=>{const o=e.dom;return o.parentNode?pi(Ye.fromDom(o.parentNode),a=>!us(e,a)&&n(a)):ee.none()},pi=(e,n)=>{const o=c=>n(Ye.fromDom(c));return An(e.dom.childNodes,o).map(Ye.fromDom)},ji=(e,n)=>{const o=a=>{for(let c=0;c<a.childNodes.length;c++){const g=Ye.fromDom(a.childNodes[c]);if(n(g))return ee.some(g);const p=o(a.childNodes[c]);if(p.isSome())return p}return ee.none()};return o(e.dom)},Fc=(e,n,o)=>qa(e,a=>qs(a,n),o),Ht=(e,n)=>Cc(n,e),Bi=(e,n,o)=>Na((c,g)=>qs(c,g),Fc,e,n,o),jg=e=>Bi(e,"[contenteditable]"),Sr=(e,n=!1)=>Pa(e)?e.dom.isContentEditable:jg(e).fold(mt(n),o=>Wu(o)==="true"),Wu=e=>e.dom.contentEditable,Ya=e=>e.style!==void 0&&Ne(e.style.getPropertyValue),$c=(e,n,o)=>{if(!he(o))throw console.error("Invalid call to CSS.set. Property ",n,":: Value ",o,":: Element ",e),new Error("CSS value must be a string: "+o);Ya(e)&&e.style.setProperty(n,o)},om=(e,n)=>{Ya(e)&&e.style.removeProperty(n)},Xa=(e,n,o)=>{const a=e.dom;$c(a,n,o)},ds=(e,n)=>{const o=e.dom;qo(n,(a,c)=>{$c(o,c,a)})},$r=(e,n)=>{const o=e.dom,c=window.getComputedStyle(o).getPropertyValue(n);return c===""&&!Pa(e)?Ku(o,n):c},Ku=(e,n)=>Ya(e)?e.style.getPropertyValue(n):"",Zr=(e,n)=>{const o=e.dom,a=Ku(o,n);return ee.from(a).filter(c=>c.length>0)},qm=e=>{const n={},o=e.dom;if(Ya(o))for(let a=0;a<o.style.length;a++){const c=o.style.item(a);n[c]=o.style[c]}return n},Vc=(e,n)=>{const o=e.dom;om(o,n),Xd(hi(e,"style").map(Ze),"")&&Yo(e,"style")},ip=e=>e.dom.offsetWidth,Dr=(e,n)=>{Qi(e).each(a=>{a.dom.insertBefore(n.dom,e.dom)})},vt=(e,n)=>{oo(e).fold(()=>{Qi(e).each(c=>{Vr(c,n)})},a=>{Dr(a,n)})},Ja=(e,n)=>{Gl(e).fold(()=>{Vr(e,n)},a=>{e.dom.insertBefore(n.dom,a.dom)})},Vr=(e,n)=>{e.dom.appendChild(n.dom)},lc=(e,n)=>{Dr(e,n),Vr(n,e)},zc=(e,n)=>{xe(n,(o,a)=>{const c=a===0?e:n[a-1];vt(c,o)})},li=(e,n)=>{xe(n,o=>{Vr(e,o)})},ir=e=>{e.dom.textContent="",xe(ga(e),n=>{Hs(n)})},Hs=e=>{const n=e.dom;n.parentNode!==null&&n.parentNode.removeChild(n)},ha=e=>{const n=ga(e);n.length>0&&zc(e,n),Hs(e)},pa=(e,n)=>{const a=(n||document).createElement("div");return a.innerHTML=e,ga(Ye.fromDom(a))},Ml=e=>Ke(e,Ye.fromDom),kc=e=>e.dom.innerHTML,gu=(e,n)=>{const a=ac(e).dom,c=Ye.fromDom(a.createDocumentFragment()),g=pa(n,a);li(c,g),ir(e),Vr(e,c)},vd=e=>{const n=Ye.fromTag("div"),o=Ye.fromDom(e.dom.cloneNode(!0));return Vr(n,o),kc(n)},sm=(e,n,o,a,c,g,p)=>({target:e,x:n,y:o,stop:a,prevent:c,kill:g,raw:p}),Zg=e=>{const n=Ye.fromDom(Gm(e).getOr(e.target)),o=()=>e.stopPropagation(),a=()=>e.preventDefault(),c=Ft(a,o);return sm(n,e.clientX,e.clientY,o,a,c,e)},ap=(e,n)=>o=>{e(o)&&n(Zg(o))},ju=(e,n,o,a,c)=>{const g=ap(o,a);return e.dom.addEventListener(n,g,c),{unbind:at(Y,e,n,g,c)}},L=(e,n,o,a)=>ju(e,n,o,a,!1),Y=(e,n,o,a)=>{e.dom.removeEventListener(n,o,a)},de=(e,n)=>({left:e,top:n,translate:(a,c)=>de(e+a,n+c)}),We=de,tt=e=>{const n=e.getBoundingClientRect();return We(n.left,n.top)},Ut=(e,n)=>e!==void 0?e:n!==void 0?n:0,lo=e=>{const n=e.dom.ownerDocument,o=n.body,a=n.defaultView,c=n.documentElement;if(o===e.dom)return We(o.offsetLeft,o.offsetTop);const g=Ut(a==null?void 0:a.pageYOffset,c.scrollTop),p=Ut(a==null?void 0:a.pageXOffset,c.scrollLeft),S=Ut(c.clientTop,o.clientTop),T=Ut(c.clientLeft,o.clientLeft);return Mo(e).translate(p-T,g-S)},Mo=e=>{const n=e.dom,a=n.ownerDocument.body;return a===n?We(a.offsetLeft,a.offsetTop):Pa(e)?tt(n):We(0,0)},ko=e=>{const n=e!==void 0?e.dom:document,o=n.body.scrollLeft||n.documentElement.scrollLeft,a=n.body.scrollTop||n.documentElement.scrollTop;return We(o,a)},jn=(e,n,o)=>{const c=(o!==void 0?o.dom:document).defaultView;c&&c.scrollTo(e,n)},Is=(e,n)=>{ua().browser.isSafari()&&Ne(e.dom.scrollIntoViewIfNeeded)?e.dom.scrollIntoViewIfNeeded(!1):e.dom.scrollIntoView(n)},ei=e=>{const n=e===void 0?window:e;return ua().browser.isFirefox()?ee.none():ee.from(n.visualViewport)},Pr=(e,n,o,a)=>({x:e,y:n,width:o,height:a,right:e+o,bottom:n+a}),Hc=e=>{const n=e===void 0?window:e,o=n.document,a=ko(Ye.fromDom(o));return ei(n).fold(()=>{const c=n.document.documentElement,g=c.clientWidth,p=c.clientHeight;return Pr(a.left,a.top,g,p)},c=>Pr(Math.max(c.pageLeft,a.left),Math.max(c.pageTop,a.top),c.width,c.height))},af=(e,n)=>Je(ga(e),n),rm=(e,n)=>{let o=[];return xe(ga(e),a=>{n(a)&&(o=o.concat([a])),o=o.concat(rm(a,n))}),o},bi=(e,n)=>jm(n,e),Y1=(e,n,o)=>qa(e,n,o).isSome(),lp=(e,n)=>nm(e,n).isSome(),Uv=(e,n)=>ji(e,n).isSome();class Ma{constructor(n,o){this.node=n,this.rootNode=o,this.current=this.current.bind(this),this.next=this.next.bind(this),this.prev=this.prev.bind(this),this.prev2=this.prev2.bind(this)}current(){return this.node}next(n){return this.node=this.findSibling(this.node,"firstChild","nextSibling",n),this.node}prev(n){return this.node=this.findSibling(this.node,"lastChild","previousSibling",n),this.node}prev2(n){return this.node=this.findPreviousNode(this.node,n),this.node}findSibling(n,o,a,c){if(n){if(!c&&n[o])return n[o];if(n!==this.rootNode){let g=n[a];if(g)return g;for(let p=n.parentNode;p&&p!==this.rootNode;p=p.parentNode)if(g=p[a],g)return g}}}findPreviousNode(n,o){if(n){const a=n.previousSibling;if(this.rootNode&&a===this.rootNode)return;if(a){if(!o){for(let g=a.lastChild;g;g=g.lastChild)if(!g.lastChild)return g}return a}const c=n.parentNode;if(c&&c!==this.rootNode)return c}}}const Gr="\uFEFF",ea="",Zu=e=>e===Gr,lf=e=>e.replace(/\uFEFF/g,""),cp=/^[ \t\r\n]*$/,cc=e=>cp.test(e),yl=e=>{for(const n of e)if(!Zu(n))return!1;return!0},Ym=e=>" \f	\v".indexOf(e)!==-1,cf=e=>e===`
`||e==="\r",Qx=(e,n)=>n<e.length&&n>=0?cf(e[n]):!1,up=(e,n=4,o=!0,a=!0)=>{const c=bn(" ",n),g=e.replace(/\t/g,c);return pn(g,(S,T)=>Ym(T)||T===ea?S.pcIsSpace||S.str===""&&o||S.str.length===g.length-1&&a||Qx(g,S.str.length+1)?{pcIsSpace:!1,str:S.str+ea}:{pcIsSpace:!0,str:S.str+" "}:{pcIsSpace:cf(T),str:S.str+T},{pcIsSpace:!1,str:""}).str},yd=e=>n=>!!n&&n.nodeType===e,uf=e=>!!e&&!Object.getPrototypeOf(e),Un=yd(1),Uc=e=>Un(e)&&vl(Ye.fromDom(e)),dp=e=>Un(e)&&e.namespaceURI==="http://www.w3.org/2000/svg",df=e=>{const n=e.toLowerCase();return o=>Me(o)&&o.nodeName.toLowerCase()===n},ba=e=>{const n=e.map(o=>o.toLowerCase());return o=>{if(o&&o.nodeName){const a=o.nodeName.toLowerCase();return Se(n,a)}return!1}},Wc=(e,n)=>{const o=n.toLowerCase().split(" ");return a=>{if(Un(a)){const c=a.ownerDocument.defaultView;if(c)for(let g=0;g<o.length;g++){const p=c.getComputedStyle(a,null);if((p?p.getPropertyValue(e):null)===o[g])return!0}}return!1}},Xm=e=>n=>Un(n)&&n.hasAttribute(e),ff=e=>Un(e)&&e.hasAttribute("data-mce-bogus"),Sb=e=>Un(e)&&e.getAttribute("data-mce-bogus")==="all",hu=e=>Un(e)&&e.tagName==="TABLE",Gg=e=>n=>!!(Uc(n)&&(n.contentEditable===e||n.getAttribute("data-mce-contenteditable")===e)),qg=ba(["textarea","input"]),on=yd(3),Wv=yd(4),mf=yd(7),Wo=yd(8),Xn=yd(9),gf=yd(11),Ar=df("br"),Kc=df("img"),jc=Gg("true"),To=Gg("false"),Yg=ba(["td","th"]),X1=ba(["td","th","caption"]),Lt=ba(["video","audio","object","embed"]),Kv=df("li"),Xg=df("details"),Jg=df("summary"),Jm={skipBogus:!0,includeZwsp:!1,checkRootAsContent:!1},im=(e,n,o)=>{const a=Ye.fromDom(n),c=Ye.fromDom(e),g=o.getWhitespaceElements();return Y1(c,S=>So(g,hs(S)),at(us,a))},J1=e=>Un(e)&&e.nodeName==="A"&&!e.hasAttribute("href")&&(e.hasAttribute("name")||e.hasAttribute("id")),hf=(e,n)=>Un(e)&&So(n.getNonEmptyElements(),e.nodeName),hr=Xm("data-mce-bookmark"),Gu=e=>sf(Ye.fromDom(e)).exists(n=>!Sr(n)),fp=(e,n,o)=>cc(e.data)&&!im(e,n,o),pu=(e,n,o,a)=>on(e)&&!fp(e,n,o)&&(!a.includeZwsp||!yl(e.data)),am=(e,n,o,a)=>Ne(a.isContent)&&a.isContent(n)||hf(n,e)||hr(n)||J1(n)||pu(n,o,e,a)||To(n)||jc(n)&&Gu(n),uc=(e,n,o)=>{const a={...Jm,...o};if(a.checkRootAsContent&&am(e,n,n,a))return!1;let c=n.firstChild,g=0;if(!c)return!0;const p=new Ma(c,n);do{if(a.skipBogus&&Un(c)){const S=c.getAttribute("data-mce-bogus");if(S){c=p.next(S==="all");continue}}if(Wo(c)){c=p.next(!0);continue}if(Ar(c)){g++,c=p.next();continue}if(am(e,c,n,a))return!1;c=p.next()}while(c);return g<=1},Nr=(e,n,o)=>uc(e,n.dom,{checkRootAsContent:!0,...o}),lm=(e,n,o)=>am(e,n,n,{includeZwsp:Jm.includeZwsp,...o}),Fi=e=>{let n=e;return{get:()=>n,set:c=>{n=c}}},_b=e=>{const n=Fi(ee.none()),o=()=>n.get().each(e);return{clear:()=>{o(),n.set(ee.none())},isSet:()=>n.get().isSome(),get:()=>n.get(),set:S=>{o(),n.set(ee.some(S))}}},Zc=e=>{const n=Fi(ee.none()),o=()=>n.get().each(S=>clearInterval(S));return{clear:()=>{o(),n.set(ee.none())},isSet:()=>n.get().isSome(),get:()=>n.get(),set:S=>{o(),n.set(ee.some(setInterval(S,e)))}}},Ai=()=>{const e=_b(it);return{...e,on:o=>e.get().each(o)}},an=e=>{const n=e.toLowerCase();return n==="svg"?"svg":n==="math"?"math":"html"},cm=e=>an(e)!=="html",Zi=e=>cm(e.nodeName),D=e=>an(e.nodeName),z=["svg","math"],ue=()=>{const e=Ai(),n=()=>e.get().map(D).getOr("html");return{track:c=>(Zi(c)?e.set(c):e.get().exists(g=>!g.contains(c))&&e.clear(),n()),current:n,reset:()=>{e.clear()}}},Te="data-mce-block",ot=e=>Je(tn(e),n=>!/[A-Z]/.test(n)),Vt=e=>Ke(ot(e),n=>{const o=CSS.escape(n);return`${o}:`+Ke(z,a=>`not(${a} ${o})`).join(":")}).join(","),un=(e,n)=>Me(n.querySelector(e))?(n.setAttribute(Te,"true"),n.getAttribute("data-mce-selected")==="inline-boundary"&&n.removeAttribute("data-mce-selected"),!0):(n.removeAttribute(Te),!1),$n=(e,n)=>{const o=Vt(e.getTransparentElements()),a=Vt(e.getBlockElements());return Je(n.querySelectorAll(o),c=>un(a,c))},Vn=(e,n,o)=>{var a;const c=o?"lastChild":"firstChild";for(let g=n[c];g;g=g[c])if(uc(e,g,{checkRootAsContent:!0})){(a=g.parentNode)===null||a===void 0||a.removeChild(g);return}},Ko=(e,n,o)=>{const a=document.createRange(),c=n.parentNode;if(c){a.setStartBefore(n),a.setEndBefore(o);const g=a.extractContents();Vn(e,g,!0),a.setStartAfter(o),a.setEndAfter(n);const p=a.extractContents();Vn(e,p,!1),uc(e,g,{checkRootAsContent:!0})||c.insertBefore(g,n),uc(e,o,{checkRootAsContent:!0})||c.insertBefore(o,n),uc(e,p,{checkRootAsContent:!0})||c.insertBefore(p,n),c.removeChild(n)}},Fo=(e,n,o)=>{const a=e.getBlockElements(),c=Ye.fromDom(n),g=S=>hs(S)in a,p=S=>us(S,c);xe(Ml(o),S=>{qa(S,g,p).each(T=>{const V=af(S,X=>g(X)&&!e.isValidChild(hs(T),hs(X)));if(V.length>0){const X=sf(T);xe(V,Q=>{qa(Q,g,p).each(ae=>{Ko(e,ae.dom,Q.dom)})}),X.each(Q=>$n(e,Q.dom))}})})},es=(e,n,o)=>{xe([...o,...bu(e,n)?[n]:[]],a=>xe(bi(Ye.fromDom(a),a.nodeName.toLowerCase()),c=>{Qg(e,c.dom)&&ha(c)}))},Qo=(e,n)=>{const o=$n(e,n);Fo(e,n,o),es(e,n,o)},ci=(e,n)=>{if(um(e,n)){const o=Vt(e.getBlockElements());un(o,n)}},Qa=(e,n,o)=>{const a=g=>us(g,Ye.fromDom(n)),c=Zm(Ye.fromDom(o),a);la(c,c.length-2).filter(Qr).fold(()=>Qo(e,n),g=>Qo(e,g.dom))},qr=e=>e.hasAttribute(Te),qu=(e,n)=>So(e.getTransparentElements(),n),um=(e,n)=>Un(n)&&qu(e,n.nodeName),bu=(e,n)=>um(e,n)&&qr(n),Qg=(e,n)=>um(e,n)&&!qr(n),xd=(e,n)=>n.type===1&&qu(e,n.name)&&he(n.attr(Te)),mp=ua().browser,Qm=e=>An(e,Qr),dm=e=>mp.isFirefox()&&hs(e)==="table"?Qm(ga(e)).filter(n=>hs(n)==="caption").bind(n=>Qm(em(n)).map(o=>{const a=o.dom.offsetTop,c=n.dom.offsetTop,g=n.dom.offsetHeight;return a<=c?-g:0})).getOr(0):0,kb=(e,n)=>e.children&&Se(e.children,n),jv=(e,n,o)=>{let a=0,c=0;const g=e.ownerDocument;if(o=o||e,n){if(o===e&&n.getBoundingClientRect&&$r(Ye.fromDom(e),"position")==="static"){const S=n.getBoundingClientRect();return a=S.left+(g.documentElement.scrollLeft||e.scrollLeft)-g.documentElement.clientLeft,c=S.top+(g.documentElement.scrollTop||e.scrollTop)-g.documentElement.clientTop,{x:a,y:c}}let p=n;for(;p&&p!==o&&p.nodeType&&!kb(p,o);){const S=p;a+=S.offsetLeft||0,c+=S.offsetTop||0,p=S.offsetParent}for(p=n.parentNode;p&&p!==o&&p.nodeType&&!kb(p,o);)a-=p.scrollLeft||0,c-=p.scrollTop||0,p=p.parentNode;c+=dm(Ye.fromDom(n))}return{x:a,y:c}},ps=(e,n={})=>{let o=0;const a={},c=Ye.fromDom(e),g=Sc(c),p=nt=>{n.referrerPolicy=nt},S=nt=>{n.contentCssCors=nt},T=nt=>{Vr(tm(c),nt)},V=nt=>{const ft=tm(c);Ht(ft,"#"+nt).each(Hs)},X=nt=>Zs(a,nt).getOrThunk(()=>({id:"mce-u"+o++,passed:[],failed:[],count:0})),Q=nt=>new Promise((ft,ct)=>{let kt;const qt=dn._addCacheSuffix(nt),gn=X(qt);a[qt]=gn,gn.count++;const Pn=(Hn,so)=>{xe(Hn,Xt),gn.status=so,gn.passed=[],gn.failed=[],kt&&(kt.onload=null,kt.onerror=null,kt=null)},$t=()=>Pn(gn.passed,2),Rt=()=>Pn(gn.failed,3);if(ft&&gn.passed.push(ft),ct&&gn.failed.push(ct),gn.status===1)return;if(gn.status===2){$t();return}if(gn.status===3){Rt();return}gn.status=1;const Zt=Ye.fromTag("link",g.dom);ja(Zt,{rel:"stylesheet",type:"text/css",id:gn.id}),n.contentCssCors&&Ei(Zt,"crossOrigin","anonymous"),n.referrerPolicy&&Ei(Zt,"referrerpolicy",n.referrerPolicy),kt=Zt.dom,kt.onload=$t,kt.onerror=Rt,T(Zt),Ei(Zt,"href",qt)}),ae=(nt,ft)=>{const ct=X(nt);a[nt]=ct,ct.count++;const kt=Ye.fromTag("style",g.dom);ja(kt,{rel:"stylesheet",type:"text/css",id:ct.id}),kt.dom.innerHTML=ft,T(kt)},we=nt=>Promise.allSettled(Ke(nt,ct=>Q(ct).then(mt(ct)))).then(ct=>{const kt=Fe(ct,qt=>qt.status==="fulfilled");return kt.fail.length>0?Promise.reject(Ke(kt.fail,qt=>qt.reason)):Ke(kt.pass,qt=>qt.value)}),De=nt=>{const ft=dn._addCacheSuffix(nt);Zs(a,ft).each(ct=>{--ct.count===0&&(delete a[ft],V(ct.id))})};return{load:Q,loadRawCss:ae,loadAll:we,unload:De,unloadRawCss:nt=>{Zs(a,nt).each(ft=>{--ft.count===0&&(delete a[nt],V(ft.id))})},unloadAll:nt=>{xe(nt,ft=>{De(ft)})},_setReferrerPolicy:p,_setContentCssCors:S}},el=(()=>{const e=new WeakMap;return{forElement:(o,a)=>{const g=mu(o).dom;return ee.from(e.get(g)).getOrThunk(()=>{const p=ps(g,a);return e.set(g,p),p})}}})(),ql=e=>e.nodeName.toLowerCase()==="span",Zv=(e,n)=>Me(e)&&(lm(n,e)||n.isInline(e.nodeName.toLowerCase())),Gv=(e,n,o)=>{const a=new Ma(e,n).prev(!1),c=new Ma(e,n).next(!1),g=et(a)||Zv(a,o),p=et(c)||Zv(c,o);return g&&p},fm=e=>ql(e)&&e.getAttribute("data-mce-type")==="bookmark",eh=(e,n,o)=>on(e)&&e.data.length>0&&Gv(e,n,o),ew=e=>Un(e)?e.childNodes.length>0:!1,qv=e=>gf(e)||Xn(e),Eb=(e,n,o,a)=>{var c;const g=a||n;if(Un(n)&&fm(n))return n;const p=n.childNodes;for(let S=p.length-1;S>=0;S--)Eb(e,p[S],o,g);if(Un(n)){const S=n.childNodes;S.length===1&&fm(S[0])&&((c=n.parentNode)===null||c===void 0||c.insertBefore(S[0],n))}return!qv(n)&&!lm(o,n)&&!ew(n)&&!eh(n,g,o)&&e.remove(n),n},tw=dn.makeMap,Yv=/[&<>\"\u0060\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Xv=/[<>&\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,th=/[<>&\"\']/g,Tb=/&#([a-z0-9]+);?|&([a-z0-9]+);/gi,nw={128:"",130:"",131:"",132:"",133:"",134:"",135:"",136:"",137:"",138:"",139:"",140:"",142:"",145:"",146:"",147:"",148:"",149:"",150:"",151:"",152:"",153:"",154:"",155:"",156:"",158:"",159:""},mm={'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;","&":"&amp;","`":"&#96;"},gp={"&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"',"&apos;":"'"},hp=e=>{const n=Ye.fromTag("div").dom;return n.innerHTML=e,n.textContent||n.innerText||e},gm=(e,n)=>{const o={};if(e){const a=e.split(",");n=n||10;for(let c=0;c<a.length;c+=2){const g=String.fromCharCode(parseInt(a[c],n));if(!mm[g]){const p="&"+a[c+1]+";";o[g]=p,o[p]=g}}return o}else return},eg=gm("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32),Jv=(e,n)=>e.replace(n?Yv:Xv,o=>mm[o]||o),qE=e=>(""+e).replace(th,n=>mm[n]||n),Qv=(e,n)=>e.replace(n?Yv:Xv,o=>o.length>1?"&#"+((o.charCodeAt(0)-55296)*1024+(o.charCodeAt(1)-56320)+65536)+";":mm[o]||"&#"+o.charCodeAt(0)+";"),Yu=(e,n,o)=>{const a=o||eg;return e.replace(n?Yv:Xv,c=>mm[c]||a[c]||c)},pp={encodeRaw:Jv,encodeAllRaw:qE,encodeNumeric:Qv,encodeNamed:Yu,getEncodeFunc:(e,n)=>{const o=gm(n)||eg,a=(p,S)=>p.replace(S?Yv:Xv,T=>mm[T]!==void 0?mm[T]:o[T]!==void 0?o[T]:T.length>1?"&#"+((T.charCodeAt(0)-55296)*1024+(T.charCodeAt(1)-56320)+65536)+";":"&#"+T.charCodeAt(0)+";"),c=(p,S)=>Yu(p,S,o),g=tw(e.replace(/\+/g,","));return g.named&&g.numeric?a:g.named?n?c:Yu:g.numeric?Qv:Jv},decode:e=>e.replace(Tb,(n,o)=>o?(o.charAt(0).toLowerCase()==="x"?o=parseInt(o.substr(1),16):o=parseInt(o,10),o>65535?(o-=65536,String.fromCharCode(55296+(o>>10),56320+(o&1023))):nw[o]||String.fromCharCode(o)):gp[n]||eg[n]||hp(n))},tl=(e,n)=>(e=dn.trim(e),e?e.split(n||" "):[]),bp=e=>new RegExp("^"+e.replace(/([?+*])/g,".$1")+"$"),vp=e=>j(e)&&e.source&&Object.prototype.toString.call(e)==="[object RegExp]",Q1=e=>{const n=o=>oe(o)?Ke(o,n):vp(o)?new RegExp(o.source,o.flags):j(o)?Kl(o,n):o;return n(e)},ks=e=>{const n=/^(~)?(.+)$/;return Jo(tl(e,","),o=>{const a=n.exec(o);if(a){const g=a[1]==="~"?"span":"div",p=a[2];return[{cloneName:g,name:p}]}else return[]})},dc=e=>Object.freeze(["id","accesskey","class","dir","lang","style","tabindex","title","role",...e!=="html4"?["contenteditable","contextmenu","draggable","dropzone","hidden","spellcheck","translate","itemprop","itemscope","itemtype"]:[],...e!=="html5-strict"?["xml:lang"]:[]]),pf=e=>{let n,o;n="address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul",o="a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd label map noscript object q s samp script select small span strong sub sup textarea u var #text #comment",e!=="html4"&&(n+=" article aside details dialog figure main header footer hgroup section nav "+"a ins del canvas map",o+=" audio canvas command data datalist mark meter output picture progress time wbr video ruby bdi keygen svg"),e!=="html5-strict"&&(o=[o,"acronym applet basefont big font strike tt"].join(" "),n=[n,"center dir isindex noframes"].join(" "));const a=[n,o].join(" ");return{blockContent:n,phrasingContent:o,flowContent:a}},xl=e=>{const{blockContent:n,phrasingContent:o,flowContent:a}=pf(e),c=g=>Object.freeze(g.split(" "));return Object.freeze({blockContent:c(n),phrasingContent:c(o),flowContent:c(a)})},pr={html4:gl(()=>xl("html4")),html5:gl(()=>xl("html5")),"html5-strict":gl(()=>xl("html5-strict"))},e0=(e,n)=>{const{blockContent:o,phrasingContent:a,flowContent:c}=pr[e]();return n==="blocks"?ee.some(o):n==="phrasing"?ee.some(a):n==="flow"?ee.some(c):ee.none()},oS=e=>{const n=dc(e),{phrasingContent:o,flowContent:a}=pf(e),c={},g=(T,V,X)=>{c[T]={attributes:ri(V,mt({})),attributesOrder:V,children:ri(X,mt({}))}},p=(T,V="",X="")=>{const Q=tl(X),ae=tl(T);let we=ae.length;const De=[...n,...tl(V)];for(;we--;)g(ae[we],De.slice(),Q)},S=(T,V)=>{const X=tl(T),Q=tl(V);let ae=X.length;for(;ae--;){const we=c[X[ae]];for(let De=0,_e=Q.length;De<_e;De++)we.attributes[Q[De]]={},we.attributesOrder.push(Q[De])}};return e!=="html5-strict"&&(xe(tl("acronym applet basefont big font strike tt"),X=>{p(X,"",o)}),xe(tl("center dir isindex noframes"),X=>{p(X,"",a)})),p("html","manifest","head body"),p("head","","base command link meta noscript script style title"),p("title hr noscript br"),p("base","href target"),p("link","href rel media hreflang type sizes hreflang"),p("meta","name http-equiv content charset"),p("style","media type scoped"),p("script","src async defer type charset"),p("body","onafterprint onbeforeprint onbeforeunload onblur onerror onfocus onhashchange onload onmessage onoffline ononline onpagehide onpageshow onpopstate onresize onscroll onstorage onunload",a),p("dd div","",a),p("address dt caption","",e==="html4"?o:a),p("h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn","",o),p("blockquote","cite",a),p("ol","reversed start type","li"),p("ul","","li"),p("li","value",a),p("dl","","dt dd"),p("a","href target rel media hreflang type",e==="html4"?o:a),p("q","cite",o),p("ins del","cite datetime",a),p("img","src sizes srcset alt usemap ismap width height"),p("iframe","src name width height",a),p("embed","src type width height"),p("object","data type typemustmatch name usemap form width height",[a,"param"].join(" ")),p("param","name value"),p("map","name",[a,"area"].join(" ")),p("area","alt coords shape href target rel media hreflang type"),p("table","border","caption colgroup thead tfoot tbody tr"+(e==="html4"?" col":"")),p("colgroup","span","col"),p("col","span"),p("tbody thead tfoot","","tr"),p("tr","","td th"),p("td","colspan rowspan headers",a),p("th","colspan rowspan headers scope abbr",a),p("form","accept-charset action autocomplete enctype method name novalidate target",a),p("fieldset","disabled form name",[a,"legend"].join(" ")),p("label","form for",o),p("input","accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate formtarget height list max maxlength min multiple name pattern readonly required size src step type value width"),p("button","disabled form formaction formenctype formmethod formnovalidate formtarget name type value",e==="html4"?a:o),p("select","disabled form multiple name required size","option optgroup"),p("optgroup","disabled label","option"),p("option","disabled label selected value"),p("textarea","cols dirname disabled form maxlength name readonly required rows wrap"),p("menu","type label",[a,"li"].join(" ")),p("noscript","",a),e!=="html4"&&(p("wbr"),p("ruby","",[o,"rt rp"].join(" ")),p("figcaption","",a),p("mark rt rp bdi","",o),p("summary","",[o,"h1 h2 h3 h4 h5 h6"].join(" ")),p("canvas","width height",a),p("data","value",o),p("video","src crossorigin poster preload autoplay mediagroup loop muted controls width height buffered",[a,"track source"].join(" ")),p("audio","src crossorigin preload autoplay mediagroup loop muted controls buffered volume",[a,"track source"].join(" ")),p("picture","","img source"),p("source","src srcset type media sizes"),p("track","kind src srclang label default"),p("datalist","",[o,"option"].join(" ")),p("article section nav aside main header footer","",a),p("hgroup","","h1 h2 h3 h4 h5 h6"),p("figure","",[a,"figcaption"].join(" ")),p("time","datetime",o),p("dialog","open",a),p("command","type label icon disabled checked radiogroup command"),p("output","for form name",o),p("progress","value max",o),p("meter","value min max low high optimum",o),p("details","open",[a,"summary"].join(" ")),p("keygen","autofocus challenge disabled form keytype name"),g("svg","id tabindex lang xml:space class style x y width height viewBox preserveAspectRatio zoomAndPan transform".split(" "),[])),e!=="html5-strict"&&(S("script","language xml:space"),S("style","xml:space"),S("object","declare classid code codebase codetype archive standby align border hspace vspace"),S("embed","align name hspace vspace"),S("param","valuetype type"),S("a","charset name rev shape coords"),S("br","clear"),S("applet","codebase archive code object alt name width height align hspace vspace"),S("img","name longdesc align border hspace vspace"),S("iframe","longdesc frameborder marginwidth marginheight scrolling align"),S("font basefont","size color face"),S("input","usemap align"),S("select"),S("textarea"),S("h1 h2 h3 h4 h5 h6 div p legend caption","align"),S("ul","type compact"),S("li","type"),S("ol dl menu dir","compact"),S("pre","width xml:space"),S("hr","align noshade size width"),S("isindex","prompt"),S("table","summary width frame rules cellspacing cellpadding align bgcolor"),S("col","width align char charoff valign"),S("colgroup","width align char charoff valign"),S("thead","align char charoff valign"),S("tr","align char charoff valign bgcolor"),S("th","axis align char charoff valign nowrap bgcolor width height"),S("form","accept"),S("td","abbr axis scope align char charoff valign nowrap bgcolor width height"),S("tfoot","align char charoff valign"),S("tbody","align char charoff valign"),S("area","nohref"),S("body","background bgcolor text link vlink alink")),e!=="html4"&&(S("input button select textarea","autofocus"),S("input textarea","placeholder"),S("a","download"),S("link script img","crossorigin"),S("img","loading"),S("iframe","sandbox seamless allow allowfullscreen loading referrerpolicy")),e!=="html4"&&xe([c.video,c.audio],T=>{delete T.children.audio,delete T.children.video}),xe(tl("a form meter progress dfn"),T=>{c[T]&&delete c[T].children[T]}),delete c.caption.children.table,delete c.script,c},YE=e=>e==="-"?"remove":"add",Mr=e=>{const n=/^(@?)([A-Za-z0-9_\-.\u00b7\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u037d\u037f-\u1fff\u200c-\u200d\u203f-\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]+)$/;return ee.from(n.exec(e)).map(o=>({preset:o[1]==="@",name:o[2]}))},ey=e=>{const n=/^([+\-]?)([A-Za-z0-9_\-.\u00b7\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u037d\u037f-\u1fff\u200c-\u200d\u203f-\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]+)\[([^\]]+)]$/;return Jo(tl(e,","),o=>{const a=n.exec(o);if(a){const c=a[1],g=c?YE(c):"replace",p=a[2],S=Jo(tl(a[3],"|"),T=>Mr(T).toArray());return[{operation:g,name:p,validChildren:S}]}else return[]})},sw=(e,n)=>{const o=/^([!\-])?(\w+[\\:]:\w+|[^=~<]+)?(?:([=~<])(.*))?$/,a=/[*?+]/,{attributes:c,attributesOrder:g}=n;return xe(tl(e,"|"),p=>{const S=o.exec(p);if(S){const T={},V=S[1],X=S[2].replace(/[\\:]:/g,":"),Q=S[3],ae=S[4];if(V==="!"&&(n.attributesRequired=n.attributesRequired||[],n.attributesRequired.push(X),T.required=!0),V==="-"){delete c[X],g.splice(dn.inArray(g,X),1);return}if(Q&&(Q==="="?(n.attributesDefault=n.attributesDefault||[],n.attributesDefault.push({name:X,value:ae}),T.defaultValue=ae):Q==="~"?(n.attributesForced=n.attributesForced||[],n.attributesForced.push({name:X,value:ae}),T.forcedValue=ae):Q==="<"&&(T.validValues=dn.makeMap(ae,"?"))),a.test(X)){const we=T;n.attributePatterns=n.attributePatterns||[],we.pattern=bp(X),n.attributePatterns.push(we)}else c[X]||g.push(X),c[X]=T}})},nh=(e,n)=>{qo(e.attributes,(o,a)=>{n.attributes[a]=o}),n.attributesOrder.push(...e.attributesOrder)},Xu=(e,n)=>{const o=/^([#+\-])?([^\[!\/]+)(?:\/([^\[!]+))?(?:(!?)\[([^\]]+)])?$/;return Jo(tl(n,","),a=>{const c=o.exec(a);if(c){const g=c[1],p=c[2],S=c[3],T=c[4],V=c[5],X={attributes:{},attributesOrder:[]};if(e.each(Q=>nh(Q,X)),g==="#"?X.paddEmpty=!0:g==="-"&&(X.removeEmpty=!0),T==="!"&&(X.removeEmptyAttrs=!0),V&&sw(V,X),S&&(X.outputName=p),p==="@")if(e.isNone())e=ee.some(X);else return[];return[S?{name:p,element:X,aliasName:S}:{name:p,element:X}]}else return[]})},Ab={},Nn=dn.makeMap,wd=dn.each,rw=dn.extend,ty=dn.explode,Ob=(e,n={})=>{const o=Nn(e," ",Nn(e.toUpperCase()," "));return rw(o,n)},ny=e=>Ob("td th li dt dd figcaption caption details summary",e.getTextBlockElements()),yp=(e,n)=>{if(e){const o={};return he(e)&&(e={"*":e}),wd(e,(a,c)=>{o[c]=o[c.toUpperCase()]=n==="map"?Nn(a,/[, ]/):ty(a,/[, ]/)}),o}else return},Ju=(e={})=>{var n;const o={},a={};let c=[];const g={},p={},S=(ao,Ps,wi)=>{const Yi=e[ao];if(Yi)return Nn(Yi,/[, ]/,Nn(Yi.toUpperCase(),/[, ]/));{let Va=Ab[ao];return Va||(Va=Ob(Ps,wi),Ab[ao]=Va),Va}},T=(n=e.schema)!==null&&n!==void 0?n:"html5",V=oS(T);e.verify_html===!1&&(e.valid_elements="*[*]");const X=yp(e.valid_styles),Q=yp(e.invalid_styles,"map"),ae=yp(e.valid_classes,"map"),we=S("whitespace_elements","pre script noscript style textarea video audio iframe object code"),De=S("self_closing_elements","colgroup dd dt li option p td tfoot th thead tr"),_e=S("void_elements","area base basefont br col frame hr img input isindex link meta param embed source wbr track"),$e=S("boolean_attributes","checked compact declare defer disabled ismap multiple nohref noresize noshade nowrap readonly selected autoplay loop controls allowfullscreen"),nt="td th iframe video audio object script code",ft=S("non_empty_elements",nt+" pre svg textarea summary",_e),ct=S("move_caret_before_on_enter_elements",nt+" table",_e),kt="h1 h2 h3 h4 h5 h6",qt=S("text_block_elements",kt+" p div address pre form blockquote center dir fieldset header footer article section hgroup aside main nav figure"),gn=S("block_elements","hr table tbody thead tfoot th tr td li ol ul caption dl dt dd noscript menu isindex option datalist select optgroup figcaption details summary html body multicol listing",qt),Pn=S("text_inline_elements","span strong b em i font s strike u var cite dfn code mark q sup sub samp"),$t=S("transparent_elements","a ins del canvas map"),Rt=S("wrap_block_elements","pre "+kt);wd("script noscript iframe noframes noembed title style textarea xmp plaintext".split(" "),ao=>{p[ao]=new RegExp("</"+ao+"[^>]*>","gi")});const Zt=ao=>{const Ps=ee.from(o["@"]),wi=/[*?+]/;xe(Xu(Ps,ao??""),({name:Yi,element:Va,aliasName:nc})=>{if(nc&&(o[nc]=Va),wi.test(Yi)){const wa=Va;wa.pattern=bp(Yi),c.push(wa)}else o[Yi]=Va})},Hn=ao=>{c=[],xe(tn(o),Ps=>{delete o[Ps]}),Zt(ao)},so=(ao,Ps)=>{var wi,Yi;delete Ab.text_block_elements,delete Ab.block_elements;const Va=Ps.extends?!Nf(Ps.extends):!1,nc=Ps.extends;if(a[ao]=nc?a[nc]:{},g[ao]=nc??ao,ft[ao.toUpperCase()]={},ft[ao]={},Va||(gn[ao.toUpperCase()]={},gn[ao]={}),nc&&!o[ao]&&o[nc]){const wa=Q1(o[nc]);delete wa.removeEmptyAttrs,delete wa.removeEmpty,o[ao]=wa}else o[ao]={attributesOrder:[],attributes:{}};if(oe(Ps.attributes)){const wa=Tu=>{Ca.attributesOrder.push(Tu),Ca.attributes[Tu]={}},Ca=(wi=o[ao])!==null&&wi!==void 0?wi:{};delete Ca.attributesDefault,delete Ca.attributesForced,delete Ca.attributePatterns,delete Ca.attributesRequired,Ca.attributesOrder=[],Ca.attributes={},xe(Ps.attributes,Tu=>{const $h=dc(T);Mr(Tu).each(({preset:Vh,name:zh})=>{Vh?zh==="global"&&xe($h,wa):wa(zh)})}),o[ao]=Ca}if(Ue(Ps.padEmpty)){const wa=(Yi=o[ao])!==null&&Yi!==void 0?Yi:{};wa.paddEmpty=Ps.padEmpty,o[ao]=wa}if(oe(Ps.children)){const wa={},Ca=$h=>{wa[$h]={}},Tu=$h=>{e0(T,$h).each(Vh=>{xe(Vh,Ca)})};xe(Ps.children,$h=>{Mr($h).each(({preset:Vh,name:zh})=>{Vh?Tu(zh):Ca(zh)})}),a[ao]=wa}nc&&qo(a,(wa,Ca)=>{wa[nc]&&(a[Ca]=wa=rw({},a[Ca]),wa[ao]=wa[nc])})},rs=ao=>{xe(ks(ao??""),({name:Ps,cloneName:wi})=>{so(Ps,{extends:wi})})},fs=ao=>{j(ao)?qo(ao,(Ps,wi)=>so(wi,Ps)):he(ao)&&rs(ao)},Js=ao=>{xe(ey(ao??""),({operation:Ps,name:wi,validChildren:Yi})=>{const Va=Ps==="replace"?{"#comment":{}}:a[wi],nc=Ca=>{Ps==="remove"?delete Va[Ca]:Va[Ca]={}},wa=Ca=>{e0(T,Ca).each(Tu=>{xe(Tu,nc)})};xe(Yi,({preset:Ca,name:Tu})=>{Ca?wa(Tu):nc(Tu)}),a[wi]=Va})},cr=ao=>{const Ps=o[ao];if(Ps)return Ps;let wi=c.length;for(;wi--;){const Yi=c[wi];if(Yi.pattern.test(ao))return Yi}},Vi=()=>{e.valid_elements?(Hn(e.valid_elements),wd(V,(ao,Ps)=>{a[Ps]=ao.children})):(wd(V,(ao,Ps)=>{o[Ps]={attributes:ao.attributes,attributesOrder:ao.attributesOrder},a[Ps]=ao.children}),wd(tl("strong/b em/i"),ao=>{const Ps=tl(ao,"/");o[Ps[1]].outputName=Ps[0]}),wd(Pn,(ao,Ps)=>{o[Ps]&&(e.padd_empty_block_inline_children&&(o[Ps].paddInEmptyBlock=!0),o[Ps].removeEmpty=!0)}),wd(tl("ol ul blockquote a table tbody"),ao=>{o[ao]&&(o[ao].removeEmpty=!0)}),wd(tl("p h1 h2 h3 h4 h5 h6 th td pre div address caption li summary"),ao=>{o[ao]&&(o[ao].paddEmpty=!0)}),wd(tl("span"),ao=>{o[ao].removeEmptyAttrs=!0})),delete o.svg,fs(e.custom_elements),Js(e.valid_children),Zt(e.extended_valid_elements),Js("+ol[ul|ol],+ul[ul|ol]"),wd({dd:"dl",dt:"dl",li:"ul ol",td:"tr",th:"tr",tr:"tbody thead tfoot",tbody:"table",thead:"table",tfoot:"table",legend:"fieldset",area:"map",param:"video audio object"},(ao,Ps)=>{o[Ps]&&(o[Ps].parentsRequired=tl(ao))}),e.invalid_elements&&wd(ty(e.invalid_elements),ao=>{o[ao]&&delete o[ao]}),cr("span")||Zt("span[!data-mce-type|*]")},yc=mt(X),yr=mt(Q),wn=mt(ae),to=mt($e),Us=mt(gn),kn=mt(qt),ho=mt(Pn),ls=mt(Object.seal(_e)),Dn=mt(De),is=mt(ft),bs=mt(ct),_l=mt(we),lr=mt($t),ll=mt(Rt),Eg=mt(Object.seal(p)),ob=(ao,Ps)=>{const wi=a[ao.toLowerCase()];return!!(wi&&wi[Ps.toLowerCase()])},Eu=(ao,Ps)=>{const wi=cr(ao);if(wi)if(Ps){if(wi.attributes[Ps])return!0;const Yi=wi.attributePatterns;if(Yi){let Va=Yi.length;for(;Va--;)if(Yi[Va].pattern.test(Ps))return!0}}else return!0;return!1},Nf=ao=>So(Us(),ao),Tg=ao=>!wr(ao,"#")&&Eu(ao)&&!Nf(ao),Mf=ao=>So(ll(),ao)||Tg(ao),Ag=mt(g);return Vi(),{type:T,children:a,elements:o,getValidStyles:yc,getValidClasses:wn,getBlockElements:Us,getInvalidStyles:yr,getVoidElements:ls,getTextBlockElements:kn,getTextInlineElements:ho,getBoolAttrs:to,getElementRule:cr,getSelfClosingElements:Dn,getNonEmptyElements:is,getMoveCaretBeforeOnEnterElements:bs,getWhitespaceElements:_l,getTransparentElements:lr,getSpecialElements:Eg,isValidChild:ob,isValid:Eu,isBlock:Nf,isInline:Tg,isWrapper:Mf,getCustomElements:Ag,addValidElements:Zt,setValidElements:Hn,addCustomElements:fs,addValidChildren:Js}},XE=e=>({value:oy(e)}),oy=e=>Oa(e,"#").toUpperCase(),iw=e=>{const n=e.toString(16);return(n.length===1?"0"+n:n).toUpperCase()},sy=e=>{const n=iw(e.red)+iw(e.green)+iw(e.blue);return XE(n)},aw=/^\s*rgb\s*\(\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*(\d+)\s*\)\s*$/i,lw=/^\s*rgba\s*\(\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*((?:\d?\.\d+|\d+)%?)\s*\)\s*$/i,ry=(e,n,o,a)=>({red:e,green:n,blue:o,alpha:a}),cw=(e,n,o,a)=>{const c=parseInt(e,10),g=parseInt(n,10),p=parseInt(o,10),S=parseFloat(a);return ry(c,g,p,S)},uw=e=>aw.test(e)?"rgb":lw.test(e)?"rgba":"other",sS=e=>{const n=aw.exec(e);if(n!==null)return ee.some(cw(n[1],n[2],n[3],"1"));const o=lw.exec(e);return o!==null?ee.some(cw(o[1],o[2],o[3],o[4])):ee.none()},JE=e=>`rgba(${e.red},${e.green},${e.blue},${e.alpha})`,t0=e=>sS(e).map(sy).map(n=>"#"+n.value).getOr(e),dw=(e={},n)=>{const o=/(?:url(?:(?:\(\s*\"([^\"]+)\"\s*\))|(?:\(\s*\'([^\']+)\'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:\'([^\']+)\')|(?:\"([^\"]+)\")/gi,a=/\s*([^:]+):\s*([^;]+);?/g,c=/\s+$/,g={};let p,S;const T=Gr;n&&(p=n.getValidStyles(),S=n.getInvalidStyles());const V=(`\\" \\' \\; \\: ; : `+T).split(" ");for(let Q=0;Q<V.length;Q++)g[V[Q]]=T+Q,g[T+Q]=V[Q];const X={parse:Q=>{const ae={};let we=!1;const De=e.url_converter,_e=e.url_converter_scope||X,$e=($t,Rt,Zt)=>{const Hn=ae[$t+"-top"+Rt];if(!Hn)return;const so=ae[$t+"-right"+Rt];if(!so)return;const rs=ae[$t+"-bottom"+Rt];if(!rs)return;const fs=ae[$t+"-left"+Rt];if(!fs)return;const Js=[Hn,so,rs,fs];let cr=Js.length-1;for(;cr--&&Js[cr]===Js[cr+1];);cr>-1&&Zt||(ae[$t+Rt]=cr===-1?Js[0]:Js.join(" "),delete ae[$t+"-top"+Rt],delete ae[$t+"-right"+Rt],delete ae[$t+"-bottom"+Rt],delete ae[$t+"-left"+Rt])},nt=$t=>{const Rt=ae[$t];if(!Rt)return;const Zt=Rt.indexOf(",")>-1?[Rt]:Rt.split(" ");let Hn=Zt.length;for(;Hn--;)if(Zt[Hn]!==Zt[0])return!1;return ae[$t]=Zt[0],!0},ft=($t,Rt,Zt,Hn)=>{nt(Rt)&&nt(Zt)&&nt(Hn)&&(ae[$t]=ae[Rt]+" "+ae[Zt]+" "+ae[Hn],delete ae[Rt],delete ae[Zt],delete ae[Hn])},ct=$t=>(we=!0,g[$t]),kt=($t,Rt)=>(we&&($t=$t.replace(/\uFEFF[0-9]/g,Zt=>g[Zt])),Rt||($t=$t.replace(/\\([\'\";:])/g,"$1")),$t),qt=$t=>String.fromCharCode(parseInt($t.slice(1),16)),gn=$t=>$t.replace(/\\[0-9a-f]+/gi,qt),Pn=($t,Rt,Zt,Hn,so,rs)=>{if(so=so||rs,so)return so=kt(so),"'"+so.replace(/\'/g,"\\'")+"'";if(Rt=kt(Rt||Zt||Hn||""),!e.allow_script_urls){const fs=Rt.replace(/[\s\r\n]+/g,"");if(/(java|vb)script:/i.test(fs)||!e.allow_svg_data_urls&&/^data:image\/svg/i.test(fs))return""}return De&&(Rt=De.call(_e,Rt,"style")),"url('"+Rt.replace(/\'/g,"\\'")+"')"};if(Q){Q=Q.replace(/[\u0000-\u001F]/g,""),Q=Q.replace(/\\[\"\';:\uFEFF]/g,ct).replace(/\"[^\"]+\"|\'[^\']+\'/g,Rt=>Rt.replace(/[;:]/g,ct));let $t;for(;$t=a.exec(Q);){a.lastIndex=$t.index+$t[0].length;let Rt=$t[1].replace(c,"").toLowerCase(),Zt=$t[2].replace(c,"");if(Rt&&Zt){if(Rt=gn(Rt),Zt=gn(Zt),Rt.indexOf(T)!==-1||Rt.indexOf('"')!==-1||!e.allow_script_urls&&(Rt==="behavior"||/expression\s*\(|\/\*|\*\//.test(Zt)))continue;Rt==="font-weight"&&Zt==="700"?Zt="bold":(Rt==="color"||Rt==="background-color")&&(Zt=Zt.toLowerCase()),uw(Zt)==="rgb"&&sS(Zt).each(Hn=>{Zt=t0(JE(Hn)).toLowerCase()}),Zt=Zt.replace(o,Pn),ae[Rt]=we?kt(Zt,!0):Zt}}$e("border","",!0),$e("border","-width"),$e("border","-color"),$e("border","-style"),$e("padding",""),$e("margin",""),ft("border","border-width","border-style","border-color"),ae.border==="medium none"&&delete ae.border,ae["border-image"]==="none"&&delete ae["border-image"]}return ae},serialize:(Q,ae)=>{let we="";const De=($e,nt)=>{const ft=nt[$e];if(ft)for(let ct=0,kt=ft.length;ct<kt;ct++){const qt=ft[ct],gn=Q[qt];gn&&(we+=(we.length>0?" ":"")+qt+": "+gn+";")}},_e=($e,nt)=>{if(!S||!nt)return!0;let ft=S["*"];return ft&&ft[$e]?!1:(ft=S[nt],!(ft&&ft[$e]))};return ae&&p?(De("*",p),De(ae,p)):qo(Q,($e,nt)=>{$e&&_e(nt,ae)&&(we+=(we.length>0?" ":"")+nt+": "+$e+";")}),we}};return X},xp={keyLocation:!0,layerX:!0,layerY:!0,returnValue:!0,webkitMovementX:!0,webkitMovementY:!0,keyIdentifier:!0,mozPressure:!0},QE=e=>e instanceof Event||Ne(e.initEvent),eT=e=>e.isDefaultPrevented===Qt||e.isDefaultPrevented===Bn,tg=e=>dt(e.preventDefault)||QE(e),oh=(e,n)=>{const o=n??{};for(const a in e)So(xp,a)||(o[a]=e[a]);return Me(e.composedPath)&&(o.composedPath=()=>e.composedPath()),Me(e.getModifierState)&&(o.getModifierState=a=>e.getModifierState(a)),Me(e.getTargetRanges)&&(o.getTargetRanges=()=>e.getTargetRanges()),o},iy=(e,n,o,a)=>{var c;const g=oh(n,a);return g.type=e,dt(g.target)&&(g.target=(c=g.srcElement)!==null&&c!==void 0?c:o),tg(n)&&(g.preventDefault=()=>{g.defaultPrevented=!0,g.isDefaultPrevented=Qt,Ne(n.preventDefault)&&n.preventDefault()},g.stopPropagation=()=>{g.cancelBubble=!0,g.isPropagationStopped=Qt,Ne(n.stopPropagation)&&n.stopPropagation()},g.stopImmediatePropagation=()=>{g.isImmediatePropagationStopped=Qt,g.stopPropagation()},eT(g)||(g.isDefaultPrevented=g.defaultPrevented===!0?Qt:Bn,g.isPropagationStopped=g.cancelBubble===!0?Qt:Bn,g.isImmediatePropagationStopped=Bn)),g},rS="mce-data-",fw=/^(?:mouse|contextmenu)|click/,n0=(e,n,o,a)=>{e.addEventListener(n,o,a||!1)},hm=(e,n,o,a)=>{e.removeEventListener(n,o,a||!1)},ay=e=>Me(e)&&fw.test(e.type),Gi=(e,n)=>{const o=iy(e.type,e,document,n);if(ay(e)&&et(e.pageX)&&!et(e.clientX)){const a=o.target.ownerDocument||document,c=a.documentElement,g=a.body,p=o;p.pageX=e.clientX+(c&&c.scrollLeft||g&&g.scrollLeft||0)-(c&&c.clientLeft||g&&g.clientLeft||0),p.pageY=e.clientY+(c&&c.scrollTop||g&&g.scrollTop||0)-(c&&c.clientTop||g&&g.clientTop||0)}return o},ui=(e,n,o)=>{const a=e.document,c={type:"ready"};if(o.domLoaded){n(c);return}const g=()=>a.readyState==="complete"||a.readyState==="interactive"&&a.body,p=()=>{hm(e,"DOMContentLoaded",p),hm(e,"load",p),o.domLoaded||(o.domLoaded=!0,n(c)),e=null};g()?p():n0(e,"DOMContentLoaded",p),o.domLoaded||n0(e,"load",p)};class ng{constructor(){this.domLoaded=!1,this.events={},this.count=1,this.expando=rS+(+new Date).toString(32),this.hasFocusIn="onfocusin"in document.documentElement,this.count=1}bind(n,o,a,c){const g=this;let p;const S=window,T=ae=>{g.executeHandlers(Gi(ae||S.event),V)};if(!n||on(n)||Wo(n))return a;let V;n[g.expando]?V=n[g.expando]:(V=g.count++,n[g.expando]=V,g.events[V]={}),c=c||n;const X=o.split(" ");let Q=X.length;for(;Q--;){let ae=X[Q],we=T,De=!1,_e=!1;if(ae==="DOMContentLoaded"&&(ae="ready"),g.domLoaded&&ae==="ready"&&n.readyState==="complete"){a.call(c,Gi({type:ae}));continue}!g.hasFocusIn&&(ae==="focusin"||ae==="focusout")&&(De=!0,_e=ae==="focusin"?"focus":"blur",we=$e=>{const nt=Gi($e||S.event);nt.type=nt.type==="focus"?"focusin":"focusout",g.executeHandlers(nt,V)}),p=g.events[V][ae],p?ae==="ready"&&g.domLoaded?a(Gi({type:ae})):p.push({func:a,scope:c}):(g.events[V][ae]=p=[{func:a,scope:c}],p.fakeName=_e,p.capture=De,p.nativeHandler=we,ae==="ready"?ui(n,we,g):n0(n,_e||ae,we,De))}return n=p=null,a}unbind(n,o,a){if(!n||on(n)||Wo(n))return this;const c=n[this.expando];if(c){let g=this.events[c];if(o){const p=o.split(" ");let S=p.length;for(;S--;){const T=p[S],V=g[T];if(V){if(a){let X=V.length;for(;X--;)if(V[X].func===a){const Q=V.nativeHandler,ae=V.fakeName,we=V.capture,De=V.slice(0,X).concat(V.slice(X+1));De.nativeHandler=Q,De.fakeName=ae,De.capture=we,g[T]=De}}(!a||V.length===0)&&(delete g[T],hm(n,V.fakeName||T,V.nativeHandler,V.capture))}}}else qo(g,(p,S)=>{hm(n,p.fakeName||S,p.nativeHandler,p.capture)}),g={};for(const p in g)if(So(g,p))return this;delete this.events[c];try{delete n[this.expando]}catch{n[this.expando]=null}}return this}fire(n,o,a){return this.dispatch(n,o,a)}dispatch(n,o,a){if(!n||on(n)||Wo(n))return this;const c=Gi({type:o,target:n},a);do{const g=n[this.expando];g&&this.executeHandlers(c,g),n=n.parentNode||n.ownerDocument||n.defaultView||n.parentWindow}while(n&&!c.isPropagationStopped());return this}clean(n){if(!n||on(n)||Wo(n))return this;if(n[this.expando]&&this.unbind(n),n.getElementsByTagName||(n=n.document),n&&n.getElementsByTagName){this.unbind(n);const o=n.getElementsByTagName("*");let a=o.length;for(;a--;)n=o[a],n[this.expando]&&this.unbind(n)}return this}destroy(){this.events={}}cancel(n){return n&&(n.preventDefault(),n.stopImmediatePropagation()),!1}executeHandlers(n,o){const a=this.events[o],c=a&&a[n.type];if(c)for(let g=0,p=c.length;g<p;g++){const S=c[g];if(S&&S.func.call(S.scope,n)===!1&&n.preventDefault(),n.isImmediatePropagationStopped())return}}}ng.Event=new ng;const mw=dn.each,ly=dn.grep,La="data-mce-style",Yl=dn.makeMap("fill-opacity font-weight line-height opacity orphans widows z-index zoom"," "),wp=(e,n,o)=>{dt(o)||o===""?Yo(e,n):Ei(e,n,o)},og=e=>e.replace(/[A-Z]/g,n=>"-"+n.toLowerCase()),sh=(e,n)=>{let o=0;if(e)for(let a=e.nodeType,c=e.previousSibling;c;c=c.previousSibling){const g=c.nodeType;n&&on(c)&&(g===a||!c.data.length)||(o++,a=g)}return o},cy=(e,n)=>{const o=Ia(n,"style"),a=e.serialize(e.parse(o),hs(n));wp(n,La,a)},iS=(e,n)=>I(e)?So(Yl,n)?e+"":e+"px":e,gw=(e,n,o)=>{const a=og(n);dt(o)||o===""?Vc(e,a):Xa(e,a,iS(o,a))},rh=(e,n,o)=>{const a=n.keep_values,c={set:(p,S,T)=>{const V=Ye.fromDom(p);Ne(n.url_converter)&&Me(S)&&(S=n.url_converter.call(n.url_converter_scope||o(),String(S),T,p));const X="data-mce-"+T;wp(V,X,S),wp(V,T,S)},get:(p,S)=>{const T=Ye.fromDom(p);return Ia(T,"data-mce-"+S)||Ia(T,S)}},g={style:{set:(p,S)=>{const T=Ye.fromDom(p);a&&wp(T,La,S),Yo(T,"style"),he(S)&&ds(T,e.parse(S))},get:p=>{const S=Ye.fromDom(p),T=Ia(S,La)||Ia(S,"style");return e.serialize(e.parse(T),hs(S))}}};return a&&(g.href=g.src=c),g},br=(e,n={})=>{const o={},a=window,c={};let g=0;const p=!0,S=!0,T=el.forElement(Ye.fromDom(e),{contentCssCors:n.contentCssCors,referrerPolicy:n.referrerPolicy}),V=[],X=n.schema?n.schema:Ju({}),Q=dw({url_converter:n.url_converter,url_converter_scope:n.url_converter_scope},n.schema),ae=n.ownEvents?new ng:ng.Event,we=X.getBlockElements(),De=At=>he(At)?So(we,At):Un(At)&&(So(we,At.nodeName)||bu(X,At)),_e=At=>At&&e&&he(At)?e.getElementById(At):At,$e=At=>{const It=_e(At);return Me(It)?Ye.fromDom(It):null},nt=(At,It,vn="")=>{let mn;const wo=$e(At);if(Me(wo)&&Qr(wo)){const Ts=mR[It];Ts&&Ts.get?mn=Ts.get(wo.dom,It):mn=Ia(wo,It)}return Me(mn)?mn:vn},ft=At=>{const It=_e(At);return dt(It)?[]:It.attributes},ct=(At,It,vn)=>{to(At,mn=>{if(Un(mn)){const wo=Ye.fromDom(mn),Ts=vn===""?null:vn,Ci=Ia(wo,It),Hh=mR[It];Hh&&Hh.set?Hh.set(wo.dom,Ts,It):wp(wo,It,Ts),Ci!==Ts&&n.onSetAttrib&&n.onSetAttrib({attrElm:wo.dom,attrName:It,attrValue:Ts})}})},kt=(At,It)=>At.cloneNode(It),qt=()=>n.root_element||e.body,gn=At=>{const It=Hc(At);return{x:It.x,y:It.y,w:It.width,h:It.height}},Pn=(At,It)=>jv(e.body,_e(At),It),$t=(At,It,vn)=>{to(At,mn=>{const wo=Ye.fromDom(mn);gw(wo,It,vn),n.update_styles&&cy(Q,wo)})},Rt=(At,It)=>{to(At,vn=>{const mn=Ye.fromDom(vn);qo(It,(wo,Ts)=>{gw(mn,Ts,wo)}),n.update_styles&&cy(Q,mn)})},Zt=(At,It,vn)=>{const mn=_e(At);if(!(dt(mn)||!Uc(mn)&&!dp(mn)))return vn?$r(Ye.fromDom(mn),og(It)):(It=It.replace(/-(\D)/g,(wo,Ts)=>Ts.toUpperCase()),It==="float"&&(It="cssFloat"),mn.style?mn.style[It]:void 0)},Hn=At=>{const It=_e(At);if(!It)return{w:0,h:0};let vn=Zt(It,"width"),mn=Zt(It,"height");return(!vn||vn.indexOf("px")===-1)&&(vn="0"),(!mn||mn.indexOf("px")===-1)&&(mn="0"),{w:parseInt(vn,10)||It.offsetWidth||It.clientWidth,h:parseInt(mn,10)||It.offsetHeight||It.clientHeight}},so=At=>{const It=_e(At),vn=Pn(It),mn=Hn(It);return{x:vn.x,y:vn.y,w:mn.w,h:mn.h}},rs=(At,It)=>{if(!At)return!1;const vn=oe(At)?At:[At];return Pe(vn,mn=>qs(Ye.fromDom(mn),It))},fs=(At,It,vn,mn)=>{const wo=[];let Ts=_e(At);mn=mn===void 0;const Ci=vn||(qt().nodeName!=="BODY"?qt().parentNode:null);if(he(It))if(It==="*")It=Un;else{const Hh=It;It=w6=>rs(w6,Hh)}for(;Ts&&!(Ts===Ci||dt(Ts.nodeType)||Xn(Ts)||gf(Ts));){if(!It||It(Ts))if(mn)wo.push(Ts);else return[Ts];Ts=Ts.parentNode}return mn?wo:null},Js=(At,It,vn)=>{const mn=fs(At,It,vn,!1);return mn&&mn.length>0?mn[0]:null},cr=(At,It,vn)=>{let mn=It;if(At){he(It)&&(mn=wo=>rs(wo,It));for(let wo=At[vn];wo;wo=wo[vn])if(Ne(mn)&&mn(wo))return wo}return null},Vi=(At,It)=>cr(At,It,"nextSibling"),yc=(At,It)=>cr(At,It,"previousSibling"),yr=At=>Ne(At.querySelectorAll),wn=(At,It)=>{var vn,mn;const wo=(mn=(vn=_e(It))!==null&&vn!==void 0?vn:n.root_element)!==null&&mn!==void 0?mn:e;return yr(wo)?$o(wo.querySelectorAll(At)):[]},to=function(At,It,vn){const mn=vn??this;if(oe(At)){const wo=[];return mw(At,(Ts,Ci)=>{const Hh=_e(Ts);Hh&&wo.push(It.call(mn,Hh,Ci))}),wo}else{const wo=_e(At);return wo?It.call(mn,wo):!1}},Us=(At,It)=>{to(At,vn=>{qo(It,(mn,wo)=>{ct(vn,wo,mn)})})},kn=(At,It)=>{to(At,vn=>{const mn=Ye.fromDom(vn);gu(mn,It)})},ho=(At,It,vn,mn,wo)=>to(At,Ts=>{const Ci=he(It)?e.createElement(It):It;return Me(vn)&&Us(Ci,vn),mn&&(!he(mn)&&mn.nodeType?Ci.appendChild(mn):he(mn)&&kn(Ci,mn)),wo?Ci:Ts.appendChild(Ci)}),ls=(At,It,vn)=>ho(e.createElement(At),At,It,vn,!0),Dn=pp.decode,is=pp.encodeAllRaw,bs=(At,It,vn="")=>{let mn="<"+At;for(const wo in It)fl(It,wo)&&(mn+=" "+wo+'="'+is(It[wo])+'"');return rn(vn)&&So(X.getVoidElements(),At)?mn+" />":mn+">"+vn+"</"+At+">"},_l=At=>{const It=e.createElement("div"),vn=e.createDocumentFragment();vn.appendChild(It),At&&(It.innerHTML=At);let mn;for(;mn=It.firstChild;)vn.appendChild(mn);return vn.removeChild(It),vn},lr=(At,It)=>to(At,vn=>{const mn=Ye.fromDom(vn);return It&&xe(ga(mn),wo=>{Cr(wo)&&wo.dom.length===0?Hs(wo):Dr(mn,wo)}),Hs(mn),mn.dom}),ll=At=>to(At,It=>{const vn=It.attributes;for(let mn=vn.length-1;mn>=0;mn--)It.removeAttributeNode(vn.item(mn))}),Eg=At=>Q.parse(At),ob=(At,It)=>Q.serialize(At,It),Eu=At=>{if(xv!==br.DOM&&e===document){if(o[At])return;o[At]=!0}let It=e.getElementById("mceDefaultStyles");if(!It){It=e.createElement("style"),It.id="mceDefaultStyles",It.type="text/css";const vn=e.head;vn.firstChild?vn.insertBefore(It,vn.firstChild):vn.appendChild(It)}It.styleSheet?It.styleSheet.cssText+=At:It.appendChild(e.createTextNode(At))},Nf=At=>{At||(At=""),xe(At.split(","),It=>{c[It]=!0,T.load(It).catch(it)})},Tg=(At,It,vn)=>{to(At,mn=>{if(Un(mn)){const wo=Ye.fromDom(mn),Ts=It.split(" ");xe(Ts,Ci=>{Me(vn)?(vn?uu:Da)(wo,Ci):Km(wo,Ci)})}})},Mf=(At,It)=>{Tg(At,It,!0)},Ag=(At,It)=>{Tg(At,It,!1)},ao=(At,It)=>{const vn=$e(At),mn=It.split(" ");return Me(vn)&&Ho(mn,wo=>Fu(vn,wo))},Ps=At=>{to(At,It=>Vc(Ye.fromDom(It),"display"))},wi=At=>{to(At,It=>Xa(Ye.fromDom(It),"display","none"))},Yi=At=>{const It=$e(At);return Me(It)&&Xd(Zr(It,"display"),"none")},Va=At=>(At||"mce_")+g++,nc=At=>{const It=$e(At);return Me(It)?Un(It.dom)?It.dom.outerHTML:vd(It):""},wa=(At,It)=>{to(At,vn=>{Un(vn)&&(vn.outerHTML=It)})},Ca=(At,It)=>{const vn=_e(It);return to(At,mn=>{const wo=vn==null?void 0:vn.parentNode,Ts=vn==null?void 0:vn.nextSibling;return wo&&(Ts?wo.insertBefore(mn,Ts):wo.appendChild(mn)),mn})},Tu=(At,It,vn)=>to(It,mn=>{var wo;const Ts=oe(It)?At.cloneNode(!0):At;return vn&&mw(ly(mn.childNodes),Ci=>{Ts.appendChild(Ci)}),(wo=mn.parentNode)===null||wo===void 0||wo.replaceChild(Ts,mn),mn}),$h=(At,It)=>{if(At.nodeName!==It.toUpperCase()){const vn=ls(It);return mw(ft(At),mn=>{ct(vn,mn.nodeName,nt(At,mn.nodeName))}),Tu(vn,At,!0),vn}else return At},Vh=(At,It)=>{let vn=At;for(;vn;){let mn=It;for(;mn&&vn!==mn;)mn=mn.parentNode;if(vn===mn)break;vn=vn.parentNode}return!vn&&At.ownerDocument?At.ownerDocument.documentElement:vn},zh=(At,It,vn)=>me(It)?uc(X,At,{...vn,isContent:wo=>{const Ts=wo.nodeName.toLowerCase();return!!It[Ts]}}):uc(X,At,vn),Og=()=>e.createRange(),Ax=(At,It,vn)=>{let mn=Og(),wo,Ts;if(At&&It&&At.parentNode&&It.parentNode){const Ci=At.parentNode;return mn.setStart(Ci,sh(At)),mn.setEnd(It.parentNode,sh(It)),wo=mn.extractContents(),mn=Og(),mn.setStart(It.parentNode,sh(It)+1),mn.setEnd(Ci,sh(At)+1),Ts=mn.extractContents(),Ci.insertBefore(Eb(xv,wo,X),At),vn?Ci.insertBefore(vn,At):Ci.insertBefore(It,At),Ci.insertBefore(Eb(xv,Ts,X),At),lr(At),vn||It}else return},Jk=(At,It,vn,mn)=>{if(oe(At)){let wo=At.length;const Ts=[];for(;wo--;)Ts[wo]=Jk(At[wo],It,vn,mn);return Ts}else return n.collect&&(At===e||At===a)&&V.push([At,It,vn,mn]),ae.bind(At,It,vn,mn||xv)},Qk=(At,It,vn)=>{if(oe(At)){let mn=At.length;const wo=[];for(;mn--;)wo[mn]=Qk(At[mn],It,vn);return wo}else{if(V.length>0&&(At===e||At===a)){let mn=V.length;for(;mn--;){const[wo,Ts,Ci]=V[mn];At===wo&&(!It||It===Ts)&&(!vn||vn===Ci)&&ae.unbind(wo,Ts,Ci)}}return ae.unbind(At,It,vn)}},O9=(At,It,vn)=>ae.dispatch(At,It,vn),y1=(At,It,vn)=>ae.dispatch(At,It,vn),x6=At=>{if(At&&Uc(At)){const It=At.getAttribute("data-mce-contenteditable");return It&&It!=="inherit"?It:At.contentEditable!=="inherit"?At.contentEditable:null}else return null},xv={doc:e,settings:n,win:a,files:c,stdMode:p,boxModel:S,styleSheetLoader:T,boundEvents:V,styles:Q,schema:X,events:ae,isBlock:De,root:null,clone:kt,getRoot:qt,getViewPort:gn,getRect:so,getSize:Hn,getParent:Js,getParents:fs,get:_e,getNext:Vi,getPrev:yc,select:wn,is:rs,add:ho,create:ls,createHTML:bs,createFragment:_l,remove:lr,setStyle:$t,getStyle:Zt,setStyles:Rt,removeAllAttribs:ll,setAttrib:ct,setAttribs:Us,getAttrib:nt,getPos:Pn,parseStyle:Eg,serializeStyle:ob,addStyle:Eu,loadCSS:Nf,addClass:Mf,removeClass:Ag,hasClass:ao,toggleClass:Tg,show:Ps,hide:wi,isHidden:Yi,uniqueId:Va,setHTML:kn,getOuterHTML:nc,setOuterHTML:wa,decode:Dn,encode:is,insertAfter:Ca,replace:Tu,rename:$h,findCommonAncestor:Vh,run:to,getAttribs:ft,isEmpty:zh,createRng:Og,nodeIndex:sh,split:Ax,bind:Jk,unbind:Qk,fire:y1,dispatch:O9,getContentEditable:x6,getContentEditableParent:At=>{const It=qt();let vn=null;for(let mn=At;mn&&mn!==It&&(vn=x6(mn),vn===null);mn=mn.parentNode);return vn},isEditable:At=>{if(Me(At)){const It=Un(At)?At:At.parentElement;return Me(It)&&Uc(It)&&Sr(Ye.fromDom(It))}else return!1},destroy:()=>{if(V.length>0){let At=V.length;for(;At--;){const[It,vn,mn]=V[At];ae.unbind(It,vn,mn)}}qo(c,(At,It)=>{T.unload(It),delete c[It]})},isChildOf:(At,It)=>At===It||It.contains(At),dumpRng:At=>"startContainer: "+At.startContainer.nodeName+", startOffset: "+At.startOffset+", endContainer: "+At.endContainer.nodeName+", endOffset: "+At.endOffset},mR=rh(Q,n,mt(xv));return xv};br.DOM=br(document),br.nodeIndex=sh;const uy=br.DOM,Lr=0,bf=1,Cd=2,Cp=3;class fc{constructor(n={}){this.states={},this.queue=[],this.scriptLoadedCallbacks={},this.queueLoadedCallbacks=[],this.loading=!1,this.settings=n}_setReferrerPolicy(n){this.settings.referrerPolicy=n}loadScript(n){return new Promise((o,a)=>{const c=uy;let g;const p=()=>{c.remove(V),g&&(g.onerror=g.onload=g=null)},S=()=>{p(),o()},T=()=>{p(),a("Failed to load script: "+n)},V=c.uniqueId();g=document.createElement("script"),g.id=V,g.type="text/javascript",g.src=dn._addCacheSuffix(n),this.settings.referrerPolicy&&c.setAttrib(g,"referrerpolicy",this.settings.referrerPolicy),g.onload=S,g.onerror=T,(document.getElementsByTagName("head")[0]||document.body).appendChild(g)})}isDone(n){return this.states[n]===Cd}markDone(n){this.states[n]=Cd}add(n){const o=this;return o.queue.push(n),o.states[n]===void 0&&(o.states[n]=Lr),new Promise((c,g)=>{o.scriptLoadedCallbacks[n]||(o.scriptLoadedCallbacks[n]=[]),o.scriptLoadedCallbacks[n].push({resolve:c,reject:g})})}load(n){return this.add(n)}remove(n){delete this.states[n],delete this.scriptLoadedCallbacks[n]}loadQueue(){const n=this.queue;return this.queue=[],this.loadScripts(n)}loadScripts(n){const o=this,a=(T,V)=>{Zs(o.scriptLoadedCallbacks,V).each(X=>{xe(X,Q=>Q[T](V))}),delete o.scriptLoadedCallbacks[V]},c=T=>{const V=Je(T,X=>X.status==="rejected");return V.length>0?Promise.reject(Jo(V,({reason:X})=>oe(X)?X:[X])):Promise.resolve()},g=T=>Promise.allSettled(Ke(T,V=>o.states[V]===Cd?(a("resolve",V),Promise.resolve()):o.states[V]===Cp?(a("reject",V),Promise.reject(V)):(o.states[V]=bf,o.loadScript(V).then(()=>{o.states[V]=Cd,a("resolve",V);const X=o.queue;return X.length>0?(o.queue=[],g(X).then(c)):Promise.resolve()},()=>(o.states[V]=Cp,a("reject",V),Promise.reject(V)))))),p=T=>(o.loading=!0,g(T).then(V=>{o.loading=!1;const X=o.queueLoadedCallbacks.shift();return ee.from(X).each(Xt),c(V)})),S=Mu(n);return o.loading?new Promise((T,V)=>{o.queueLoadedCallbacks.push(()=>{p(S).then(T,V)})}):p(S)}}fc.ScriptLoader=new fc;const nl=(e,n)=>{const o=e.indexOf(n);return o!==-1&&e.indexOf(n,o+1)>o},ih=e=>j(e)&&So(e,"raw"),o0=e=>oe(e)&&e.length>1,Sp={},s0=Fi("en"),_p=()=>Zs(Sp,s0.get()),Qu={getData:()=>Kl(Sp,e=>({...e})),setCode:e=>{e&&s0.set(e)},getCode:()=>s0.get(),add:(e,n)=>{let o=Sp[e];o||(Sp[e]=o={});const a=Ke(tn(n),c=>c.toLowerCase());qo(n,(c,g)=>{const p=g.toLowerCase();p!==g&&nl(a,p)?(So(n,p)||(o[p]=c),o[g]=c):o[p]=c})},translate:e=>{const n=_p().getOr({}),o=p=>Ne(p)?Object.prototype.toString.call(p):a(p)?"":""+p,a=p=>p===""||p===null||p===void 0,c=p=>{const S=o(p);return So(n,S)?o(n[S]):Zs(n,S.toLowerCase()).map(o).getOr(S)},g=p=>p.replace(/{context:\w+}$/,"");if(a(e))return"";if(ih(e))return o(e.raw);if(o0(e)){const p=e.slice(1),S=c(e[0]).replace(/\{([0-9]+)\}/g,(T,V)=>So(p,V)?o(p[V]):T);return g(S)}return g(c(e))},isRtl:()=>_p().bind(e=>Zs(e,"_dir")).exists(e=>e==="rtl"),hasCode:e=>So(Sp,e)},Xl=()=>{const e=[],n={},o={},a=[],c=(_e,$e)=>{const nt=Je(a,ft=>ft.name===_e&&ft.state===$e);xe(nt,ft=>ft.resolve())},g=_e=>So(n,_e),p=_e=>So(o,_e),S=_e=>{if(o[_e])return o[_e].instance},T=(_e,$e)=>{const nt=Qu.getCode(),ft=","+($e||"")+",";!nt||$e&&ft.indexOf(","+nt+",")===-1||fc.ScriptLoader.add(n[_e]+"/langs/"+nt+".js")},V=(_e,$e)=>{Xl.languageLoad!==!1&&(g(_e)?T(_e,$e):De(_e,"loaded").then(()=>T(_e,$e)))},X=(_e,$e)=>(e.push($e),o[_e]={instance:$e},c(_e,"added"),$e),Q=_e=>{delete n[_e],delete o[_e]},ae=(_e,$e)=>he($e)?he(_e)?{prefix:"",resource:$e,suffix:""}:{prefix:_e.prefix,resource:$e,suffix:_e.suffix}:$e,we=(_e,$e)=>{if(n[_e])return Promise.resolve();let nt=he($e)?$e:$e.prefix+$e.resource+$e.suffix;nt.indexOf("/")!==0&&nt.indexOf("://")===-1&&(nt=Xl.baseURL+"/"+nt),n[_e]=nt.substring(0,nt.lastIndexOf("/"));const ft=()=>(c(_e,"loaded"),Promise.resolve());return o[_e]?ft():fc.ScriptLoader.add(nt).then(ft)},De=(_e,$e="added")=>$e==="added"&&p(_e)||$e==="loaded"&&g(_e)?Promise.resolve():new Promise(nt=>{a.push({name:_e,state:$e,resolve:nt})});return{items:e,urls:n,lookup:o,get:S,requireLangPack:V,add:X,remove:Q,createUrl:ae,load:we,waitFor:De}};Xl.languageLoad=!0,Xl.baseURL="",Xl.PluginManager=Xl(),Xl.ThemeManager=Xl(),Xl.ModelManager=Xl();const kp=(e,n)=>{let o=null;return{cancel:()=>{Ce(o)||(clearTimeout(o),o=null)},throttle:(...g)=>{Ce(o)&&(o=setTimeout(()=>{o=null,e.apply(null,g)},n))}}},Rb=(e,n)=>{let o=null;const a=()=>{Ce(o)||(clearTimeout(o),o=null)};return{cancel:a,throttle:(...g)=>{a(),o=setTimeout(()=>{o=null,e.apply(null,g)},n)}}},uS=(e,n,o)=>Fc(e,n,o).isSome(),ni=mt("mce-annotation"),oi=mt("data-mce-annotation"),Oi=mt("data-mce-annotation-uid"),er=mt("data-mce-annotation-active"),Yr=mt("data-mce-annotation-classes"),vi=mt("data-mce-annotation-attrs"),dy=e=>n=>us(n,e),fy=(e,n)=>{const o=e.selection.getRng(),a=Ye.fromDom(o.startContainer),c=Ye.fromDom(e.getBody()),g=n.fold(()=>"."+ni(),T=>`[${oi()}="${T}"]`),p=zu(a,o.startOffset).getOr(a);return Bi(p,g,dy(c)).bind(T=>hi(T,`${Oi()}`).bind(V=>hi(T,`${oi()}`).map(X=>{const Q=vw(e,V);return{uid:V,name:X,elements:Q}})))},bw=e=>Qr(e)&&Fu(e,ni()),r0=(e,n)=>pd(e,"data-mce-bogus")||uS(e,'[data-mce-bogus="all"]',dy(n)),vw=(e,n)=>{const o=Ye.fromDom(e.getBody()),a=bi(o,`[${Oi()}="${n}"]`);return Je(a,c=>!r0(c,o))},Ep=(e,n)=>{const o=Ye.fromDom(e.getBody()),a=bi(o,`[${oi()}="${n}"]`),c={};return xe(a,g=>{if(!r0(g,o)){const p=Ia(g,Oi()),S=Zs(c,p).getOr([]);c[p]=S.concat([g])}}),c},my=(e,n)=>{const o=Fi({}),a=()=>({listeners:[],previous:Ai()}),c=(Q,ae)=>{g(Q,we=>(ae(we),we))},g=(Q,ae)=>{const we=o.get(),De=Zs(we,Q).getOrThunk(a),_e=ae(De);we[Q]=_e,o.set(we)},p=(Q,ae,we)=>{c(Q,De=>{xe(De.listeners,_e=>_e(!0,Q,{uid:ae,nodes:Ke(we,$e=>$e.dom)}))})},S=Q=>{c(Q,ae=>{xe(ae.listeners,we=>we(!1,Q))})},T=(Q,ae)=>{xe(vw(e,Q),we=>{ae?Ei(we,er(),"true"):Yo(we,er())})},V=Rb(()=>{const Q=xs(n.getNames());xe(Q,ae=>{g(ae,we=>{const De=we.previous.get();return fy(e,ee.some(ae)).fold(()=>{De.each(_e=>{S(ae),we.previous.clear(),T(_e,!1)})},({uid:_e,name:$e,elements:nt})=>{Xd(De,_e)||(De.each(ft=>T(ft,!1)),p($e,_e,nt),we.previous.set(_e),T(_e,!0))}),{previous:we.previous,listeners:we.listeners}})})},30);return e.on("remove",()=>{V.cancel()}),e.on("NodeChange",()=>{V.throttle()}),{addListener:(Q,ae)=>{g(Q,we=>({previous:we.previous,listeners:we.listeners.concat([ae])}))}}},gy=(e,n)=>{const o=oi(),a=g=>ee.from(g.attr(o)).bind(n.lookup),c=g=>{var p,S;g.attr(Oi(),null),g.attr(oi(),null),g.attr(er(),null);const T=ee.from(g.attr(vi())).map(ae=>ae.split(",")).getOr([]),V=ee.from(g.attr(Yr())).map(ae=>ae.split(",")).getOr([]);xe(T,ae=>g.attr(ae,null));const X=(S=(p=g.attr("class"))===null||p===void 0?void 0:p.split(" "))!==null&&S!==void 0?S:[],Q=Ss(X,[ni()].concat(V));g.attr("class",Q.length>0?Q.join(" "):null),g.attr(Yr(),null),g.attr(vi(),null)};e.serializer.addTempAttr(er()),e.serializer.addAttributeFilter(o,g=>{for(const p of g)a(p).each(S=>{S.persistent===!1&&(p.name==="span"?p.unwrap():c(p))})})},yw=()=>{const e={};return{register:(c,g)=>{e[c]={name:c,settings:g}},lookup:c=>Zs(e,c).map(g=>g.settings),getNames:()=>tn(e)}},i0=(e,n,o)=>Math.min(Math.max(e,n),o),mc=()=>window.crypto.getRandomValues(new Uint32Array(1))[0]/4294967295;let xw=0;const Ll=e=>{const o=new Date().getTime(),a=Math.floor(mc()*1e9);return xw++,e+"_"+a+xw+String(o)},a0=(e,n)=>{xe(n,o=>{uu(e,o)})},Tp=(e,n)=>{xe(n,o=>{Da(e,o)})},Sd=(e,n)=>Ye.fromDom(e.dom.cloneNode(n)),yi=e=>Sd(e,!1),lh=e=>Sd(e,!0),ww=(e,n)=>{const o=Ye.fromTag(n),a=Za(e);return ja(o,a),o},Cw=(e,n)=>{const o=ww(e,n);vt(e,o);const a=ga(e);return li(o,a),Hs(e),o},l0=(e,n,o=Bn)=>{const a=new Ma(e,n),c=g=>{let p;do p=a[g]();while(p&&!on(p)&&!o(p));return ee.from(p).filter(on)};return{current:()=>ee.from(a.current()).filter(on),next:()=>c("next"),prev:()=>c("prev"),prev2:()=>c("prev2")}},pm=(e,n)=>{const o=n||(p=>e.isBlock(p)||Ar(p)||To(p)),a=(p,S,T,V)=>{if(on(p)){const X=V(p,S,p.data);if(X!==-1)return ee.some({container:p,offset:X})}return T().bind(X=>a(X.container,X.offset,T,V))};return{backwards:(p,S,T,V)=>{const X=l0(p,V??e.getRoot(),o);return a(p,S,()=>X.prev().map(Q=>({container:Q,offset:Q.length})),T).getOrNull()},forwards:(p,S,T,V)=>{const X=l0(p,V??e.getRoot(),o);return a(p,S,()=>X.next().map(Q=>({container:Q,offset:0})),T).getOrNull()}}},c0=((e,n)=>{const o=g=>{if(!e(g))throw new Error("Can only get "+n+" value of a "+n+" node");return a(g).getOr("")},a=g=>e(g)?ee.from(g.dom.nodeValue):ee.none();return{get:o,getOption:a,set:(g,p)=>{if(!e(g))throw new Error("Can only set raw "+n+" value of a "+n+" node");g.dom.nodeValue=p}}})(Cr,"text"),ch=e=>c0.get(e),dS=e=>c0.getOption(e),u0=(e,n)=>c0.set(e,n),d0=["td","th"],hy=["thead","tbody","tfoot"],Ib=["h1","h2","h3","h4","h5","h6","p","div","address","pre","form","blockquote","center","dir","fieldset","header","footer","article","section","hgroup","aside","nav","figure"],py=["li","dd","dt"],Bl=["ul","ol","dl"],Sw=["pre","script","textarea","style"],bm=e=>{let n;return o=>(n=n||ri(e,Qt),So(n,hs(o)))},f0=e=>hs(e)==="table",vf=e=>Qr(e)&&hs(e)==="br",m0=bm(Ib),g0=bm(Bl),uh=bm(py),Ap=bm(hy),ed=bm(d0),h0=bm(Sw),nT=e=>{const n=[];let o=e.dom;for(;o;)n.push(Ye.fromDom(o)),o=o.lastChild;return n},vu=e=>{const n=bi(e,"br"),o=Je(nT(e).slice(-1),vf);n.length===o.length&&xe(o,Hs)},vm=()=>{const e=Ye.fromTag("br");return Ei(e,"data-mce-bogus","1"),e},td=e=>{ir(e),Vr(e,vm())},_w=(e,n)=>{Hu(e).each(o=>{Mi(o).each(a=>{n.isBlock(hs(e))&&vf(o)&&n.isBlock(hs(a))&&Hs(o)})})},ta=Gr,nd=Zu,gc=lf,oT=e=>e.insertContent(ta,{preserve_zwsp:!0}),sg=Un,ym=on,Db=e=>(ym(e)&&(e=e.parentNode),sg(e)&&e.hasAttribute("data-mce-caret")),dh=e=>ym(e)&&nd(e.data),Gc=e=>Db(e)||dh(e),by=e=>e.firstChild!==e.lastChild||!Ar(e.firstChild),vy=(e,n)=>{var o;const c=((o=e.ownerDocument)!==null&&o!==void 0?o:document).createTextNode(ta),g=e.parentNode;if(n){const p=e.previousSibling;if(ym(p)){if(Gc(p))return p;if(xm(p))return p.splitText(p.data.length-1)}g==null||g.insertBefore(c,e)}else{const p=e.nextSibling;if(ym(p)){if(Gc(p))return p;if(b0(p))return p.splitText(1),p}e.nextSibling?g==null||g.insertBefore(c,e.nextSibling):g==null||g.appendChild(c)}return c},p0=e=>{const n=e.container();return on(n)?n.data.charAt(e.offset())===ta||e.isAtStart()&&dh(n.previousSibling):!1},yy=e=>{const n=e.container();return on(n)?n.data.charAt(e.offset()-1)===ta||e.isAtEnd()&&dh(n.nextSibling):!1},fS=(e,n,o)=>{var a;const g=((a=n.ownerDocument)!==null&&a!==void 0?a:document).createElement(e);g.setAttribute("data-mce-caret",o?"before":"after"),g.setAttribute("data-mce-bogus","all"),g.appendChild(vm().dom);const p=n.parentNode;return o?p==null||p.insertBefore(g,n):n.nextSibling?p==null||p.insertBefore(g,n.nextSibling):p==null||p.appendChild(g),g},b0=e=>ym(e)&&e.data[0]===ta,xm=e=>ym(e)&&e.data[e.data.length-1]===ta,v0=e=>{var n;const o=e.getElementsByTagName("br"),a=o[o.length-1];ff(a)&&((n=a.parentNode)===null||n===void 0||n.removeChild(a))},Op=e=>e&&e.hasAttribute("data-mce-caret")?(v0(e),e.removeAttribute("data-mce-caret"),e.removeAttribute("data-mce-bogus"),e.removeAttribute("style"),e.removeAttribute("data-mce-style"),e.removeAttribute("_moz_abspos"),e):null,Rp=e=>Db(e.startContainer),rg=Math.round,ig=e=>e?{left:rg(e.left),top:rg(e.top),bottom:rg(e.bottom),right:rg(e.right),width:rg(e.width),height:rg(e.height)}:{left:0,top:0,bottom:0,right:0,width:0,height:0},y0=(e,n)=>(e=ig(e),n||(e.left=e.left+e.width),e.right=e.left,e.width=0,e),ag=(e,n)=>e.left===n.left&&e.top===n.top&&e.bottom===n.bottom&&e.right===n.right,lg=(e,n,o)=>e>=0&&e<=Math.min(n.height,o.height)/2,cg=(e,n)=>{const o=Math.min(n.height/2,e.height/2);return e.bottom-o<n.top?!0:e.top>n.bottom?!1:lg(n.top-e.bottom,e,n)},Ip=(e,n)=>e.top>n.bottom?!0:e.bottom<n.top?!1:lg(n.bottom-e.top,e,n),xy=(e,n,o)=>n>=e.left&&n<=e.right&&o>=e.top&&o<=e.bottom,Pb=e=>pn(e,(n,o)=>n.fold(()=>ee.some(o),a=>{const c=Math.min(o.left,a.left),g=Math.min(o.top,a.top),p=Math.max(o.right,a.right),S=Math.max(o.bottom,a.bottom);return ee.some({top:g,right:p,bottom:S,left:c,width:p-c,height:S-g})}),ee.none()),wy=(e,n,o)=>{const a=Math.max(Math.min(n,e.left+e.width),e.left),c=Math.max(Math.min(o,e.top+e.height),e.top);return Math.sqrt((n-a)*(n-a)+(o-c)*(o-c))},kw=(e,n)=>Math.max(0,Math.min(e.bottom,n.bottom)-Math.max(e.top,n.top)),Nb=e=>{const n=e.startContainer,o=e.startOffset;return n===e.endContainer&&n.hasChildNodes()&&e.endOffset===o+1?n.childNodes[o]:null},na=(e,n)=>{if(Un(e)&&e.hasChildNodes()){const o=e.childNodes,a=i0(n,0,o.length-1);return o[a]}else return e},Ew=(e,n)=>{if(!(n<0&&Un(e)&&e.hasChildNodes()))return na(e,n)},mS=new RegExp("[-----------------------------------------------------------------------------------------------------------------------------------]"),Tw=e=>he(e)&&e.charCodeAt(0)>=768&&mS.test(e),Aw=(...e)=>n=>{for(let o=0;o<e.length;o++)if(e[o](n))return!0;return!1},ug=(...e)=>n=>{for(let o=0;o<e.length;o++)if(!e[o](n))return!1;return!0},Cy=jc,x0=To,Ow=Ar,sT=on,dg=ba(["script","style","textarea"]),w0=ba(["img","input","textarea","hr","iframe","video","audio","object","embed"]),gS=ba(["table"]),hS=Gc,_d=e=>hS(e)?!1:sT(e)?!dg(e.parentNode):w0(e)||Ow(e)||gS(e)||Sy(e),Rw=e=>Un(e)&&e.getAttribute("unselectable")==="true",Sy=e=>!Rw(e)&&x0(e),pS=(e,n)=>{for(let o=e.parentNode;o&&o!==n;o=o.parentNode){if(Sy(o))return!1;if(Cy(o))return!0}return!0},Dp=e=>Sy(e)?!pn($o(e.getElementsByTagName("*")),(n,o)=>n||Cy(o),!1):!1,Mb=e=>w0(e)||Dp(e),C0=(e,n)=>_d(e)&&pS(e,n),bS=Un,kd=_d,fh=Wc("display","block table"),S0=Wc("float","left right"),_0=ug(bS,kd,Ve(S0)),_y=Ve(Wc("white-space","pre pre-line pre-wrap")),k0=on,sl=Ar,ky=br.nodeIndex,mh=Ew,gh=e=>e?e.createRange():br.DOM.createRng(),E0=e=>he(e)&&/[\r\n\t ]/.test(e),Ey=e=>!!e.setStart&&!!e.setEnd,Pp=e=>{const n=e.startContainer,o=e.startOffset;if(E0(e.toString())&&_y(n.parentNode)&&on(n)){const a=n.data;if(E0(a[o-1])||E0(a[o+1]))return!0}return!1},fg=e=>{const n=e.ownerDocument,o=gh(n),a=n.createTextNode(ea),c=e.parentNode;c.insertBefore(a,e),o.setStart(a,0),o.setEnd(a,1);const g=ig(o.getBoundingClientRect());return c.removeChild(a),g},Iw=e=>{const n=e.startContainer,o=e.endContainer,a=e.startOffset,c=e.endOffset;if(n===o&&on(o)&&a===0&&c===1){const g=e.cloneRange();return g.setEndAfter(o),Jl(g)}else return null},Ty=e=>e.left===0&&e.right===0&&e.top===0&&e.bottom===0,Jl=e=>{var n;let o;const a=e.getClientRects();return a.length>0?o=ig(a[0]):o=ig(e.getBoundingClientRect()),!Ey(e)&&sl(e)&&Ty(o)?fg(e):Ty(o)&&Ey(e)&&(n=Iw(e))!==null&&n!==void 0?n:o},mg=(e,n)=>{const o=y0(e,n);return o.width=1,o.right=o.left+1,o},Dw=e=>{const n=[],o=p=>{p.height!==0&&(n.length>0&&ag(p,n[n.length-1])||n.push(p))},a=(p,S)=>{const T=gh(p.ownerDocument);if(S<p.data.length){if(Tw(p.data[S]))return;if(Tw(p.data[S-1])&&(T.setStart(p,S),T.setEnd(p,S+1),!Pp(T))){o(mg(Jl(T),!1));return}}S>0&&(T.setStart(p,S-1),T.setEnd(p,S),Pp(T)||o(mg(Jl(T),!1))),S<p.data.length&&(T.setStart(p,S),T.setEnd(p,S+1),Pp(T)||o(mg(Jl(T),!0)))},c=e.container(),g=e.offset();if(k0(c))return a(c,g),n;if(bS(c))if(e.isAtEnd()){const p=mh(c,g);k0(p)&&a(p,p.data.length),_0(p)&&!sl(p)&&o(mg(Jl(p),!1))}else{const p=mh(c,g);if(k0(p)&&a(p,0),_0(p)&&e.isAtEnd())return o(mg(Jl(p),!1)),n;const S=mh(e.container(),e.offset()-1);_0(S)&&!sl(S)&&(fh(S)||fh(p)||!_0(p))&&o(mg(Jl(S),!1)),_0(p)&&o(mg(Jl(p),!0))}return n},Dt=(e,n,o)=>{const a=()=>(k0(e),n===0),c=()=>k0(e)?n>=e.data.length:n>=e.childNodes.length,g=()=>{const X=gh(e.ownerDocument);return X.setStart(e,n),X.setEnd(e,n),X},p=()=>(o||(o=Dw(Dt(e,n))),o),S=()=>p().length>0,T=X=>X&&e===X.container()&&n===X.offset(),V=X=>mh(e,X?n-1:n);return{container:mt(e),offset:mt(n),toRange:g,getClientRects:p,isVisible:S,isAtStart:a,isAtEnd:c,isEqual:T,getNode:V}};Dt.fromRangeStart=e=>Dt(e.startContainer,e.startOffset),Dt.fromRangeEnd=e=>Dt(e.endContainer,e.endOffset),Dt.after=e=>Dt(e.parentNode,ky(e)+1),Dt.before=e=>Dt(e.parentNode,ky(e)),Dt.isAbove=(e,n)=>fa(cn(n.getClientRects()),uo(e.getClientRects()),cg).getOr(!1),Dt.isBelow=(e,n)=>fa(uo(n.getClientRects()),cn(e.getClientRects()),Ip).getOr(!1),Dt.isAtStart=e=>e?e.isAtStart():!1,Dt.isAtEnd=e=>e?e.isAtEnd():!1,Dt.isTextPosition=e=>e?on(e.container()):!1,Dt.isElementPosition=e=>!Dt.isTextPosition(e);const Lb=(e,n)=>{on(n)&&n.data.length===0&&e.remove(n)},rT=(e,n,o)=>{n.insertNode(o),Lb(e,o.previousSibling),Lb(e,o.nextSibling)},vS=(e,n,o)=>{const a=ee.from(o.firstChild),c=ee.from(o.lastChild);n.insertNode(o),a.each(g=>Lb(e,g.previousSibling)),c.each(g=>Lb(e,g.nextSibling))},Ay=(e,n,o)=>{gf(o)?vS(e,n,o):rT(e,n,o)},Ed=on,Oy=ff,T0=br.nodeIndex,Pw=e=>{const n=e.parentNode;return Oy(n)?Pw(n):n},Nw=e=>e?Tl(e.childNodes,(n,o)=>(Oy(o)&&o.nodeName!=="BR"?n=n.concat(Nw(o)):n.push(o),n),[]):[],iT=(e,n)=>{let o=e;for(;(o=o.previousSibling)&&Ed(o);)n+=o.data.length;return n},y=e=>n=>e===n,_=e=>{let n,o;n=Nw(Pw(e)),o=dr(n,y(e),e),n=n.slice(0,o+1);const a=Tl(n,(c,g,p)=>(Ed(g)&&Ed(n[p-1])&&c++,c),0);return n=ml(n,ba([e.nodeName])),o=dr(n,y(e),e),o-a},O=e=>(Ed(e)?"text()":e.nodeName.toLowerCase())+"["+_(e)+"]",F=(e,n,o)=>{const a=[];for(let c=n.parentNode;c&&c!==e;c=c.parentNode)a.push(c);return a},Z=(e,n)=>{let o=[],a=n.container(),c=n.offset(),g;if(Ed(a))g=iT(a,c);else{const S=a.childNodes;c>=S.length?(g="after",c=S.length-1):g="before",a=S[c]}o.push(O(a));let p=F(e,a);return p=ml(p,Ve(ff)),o=o.concat(Zf(p,S=>O(S))),o.reverse().join("/")+","+g},q=(e,n,o)=>{let a=Nw(e);return a=ml(a,(c,g)=>!Ed(c)||!Ed(a[g-1])),a=ml(a,ba([n])),a[o]},le=(e,n)=>{let o=e,a=0;for(;Ed(o);){const c=o.data.length;if(n>=a&&n<=a+c){e=o,n=n-a;break}if(!Ed(o.nextSibling)){e=o,n=c;break}a+=c,o=o.nextSibling}return Ed(e)&&n>e.data.length&&(n=e.data.length),Dt(e,n)},fe=(e,n)=>{if(!n)return null;const o=n.split(","),a=o[0].split("/"),c=o.length>1?o[1]:"before",g=Tl(a,(p,S)=>{const T=/([\w\-\(\)]+)\[([0-9]+)\]/.exec(S);return T?(T[1]==="text()"&&(T[1]="#text"),q(p,T[1],parseInt(T[2],10))):null},e);if(!g)return null;if(!Ed(g)&&g.parentNode){let p;return c==="after"?p=T0(g)+1:p=T0(g),Dt(g.parentNode,p)}return le(g,parseInt(c,10))},Oe=To,je=(e,n,o)=>{let a=e(n.data.slice(0,o)).length;for(let c=n.previousSibling;c&&on(c);c=c.previousSibling)a+=e(c.data).length;return a},rt=(e,n,o,a,c)=>{const g=c?a.startContainer:a.endContainer;let p=c?a.startOffset:a.endOffset;const S=[],T=e.getRoot();if(on(g))S.push(o?je(n,g,p):p);else{let V=0;const X=g.childNodes;p>=X.length&&X.length&&(V=1,p=Math.max(0,X.length-1)),S.push(e.nodeIndex(X[p],o)+V)}for(let V=g;V&&V!==T;V=V.parentNode)S.push(e.nodeIndex(V,o));return S},ze=(e,n,o,a)=>{const c=n.dom,g=rt(c,e,o,a,!0),p=n.isForward(),S=Rp(a)?{isFakeCaret:!0}:{};if(n.isCollapsed())return{start:g,forward:p,...S};{const T=rt(c,e,o,a,!1);return{start:g,end:T,forward:p,...S}}},Ge=(e,n,o)=>{let a=0;return dn.each(e.select(n),c=>{if(c.getAttribute("data-mce-bogus")!=="all"){if(c===o)return!1;a++;return}}),a},Xe=(e,n)=>{let o=n?e.startContainer:e.endContainer,a=n?e.startOffset:e.endOffset;if(Un(o)&&o.nodeName==="TR"){const c=o.childNodes;o=c[Math.min(n?a:a-1,c.length-1)],o&&(a=n?0:o.childNodes.length,n?e.setStart(o,a):e.setEnd(o,a))}},pt=e=>(Xe(e,!0),Xe(e,!1),e),yt=(e,n)=>{if(Un(e)&&(e=na(e,n),Oe(e)))return e;if(Gc(e)){on(e)&&Db(e)&&(e=e.parentNode);let o=e.previousSibling;if(Oe(o)||(o=e.nextSibling,Oe(o)))return o}},Kt=e=>yt(e.startContainer,e.startOffset)||yt(e.endContainer,e.endOffset),jt=(e,n,o)=>{const a=o.getNode(),c=o.getRng();if(a.nodeName==="IMG"||Oe(a)){const p=a.nodeName;return{name:p,index:Ge(o.dom,p,a)}}const g=Kt(c);if(g){const p=g.tagName;return{name:p,index:Ge(o.dom,p,g)}}return ze(e,o,n,c)},Wt=e=>{const n=e.getRng();return{start:Z(e.dom.getRoot(),Dt.fromRangeStart(n)),end:Z(e.dom.getRoot(),Dt.fromRangeEnd(n)),forward:e.isForward()}},Gt=e=>({rng:e.getRng(),forward:e.isForward()}),fn=(e,n,o)=>{const a={"data-mce-type":"bookmark",id:n,style:"overflow:hidden;line-height:0px"};return o?e.create("span",a,"&#xFEFF;"):e.create("span",a)},hn=(e,n)=>{const o=e.dom;let a=e.getRng();const c=o.uniqueId(),g=e.isCollapsed(),p=e.getNode(),S=p.nodeName,T=e.isForward();if(S==="IMG")return{name:S,index:Ge(o,S,p)};const V=pt(a.cloneRange());if(!g){V.collapse(!1);const Q=fn(o,c+"_end",n);Ay(o,V,Q)}a=pt(a),a.collapse(!0);const X=fn(o,c+"_start",n);return Ay(o,a,X),e.moveToBookmark({id:c,keep:!0,forward:T}),{id:c,forward:T}},St=(e,n,o=!1)=>n===2?jt(gc,o,e):n===3?Wt(e):n?Gt(e):hn(e,!1),Mn=at(jt,Rn,!0),po=e=>{const n=g=>g(e),o=mt(e),a=()=>c,c={tag:!0,inner:e,fold:(g,p)=>p(e),isValue:Qt,isError:Bn,map:g=>bo.value(g(e)),mapError:a,bind:n,exists:n,forall:n,getOr:o,or:a,getOrThunk:o,orThunk:a,getOrDie:o,each:g=>{g(e)},toOptional:()=>ee.some(e)};return c},zo=e=>{const n=()=>o,o={tag:!1,inner:e,fold:(a,c)=>a(e),isValue:Bn,isError:Qt,map:n,mapError:a=>bo.error(a(e)),bind:n,exists:Bn,forall:Qt,getOr:Rn,or:Rn,getOrThunk:Yn,orThunk:Yn,getOrDie:bt(String(e)),each:it,toOptional:ee.none};return o},bo={value:po,error:zo,fromOption:(e,n)=>e.fold(()=>zo(n),po)},ws={generate:e=>{if(!oe(e))throw new Error("cases must be an array");if(e.length===0)throw new Error("there must be at least one case");const n=[],o={};return xe(e,(a,c)=>{const g=tn(a);if(g.length!==1)throw new Error("one and only one name per case");const p=g[0],S=a[p];if(o[p]!==void 0)throw new Error("duplicate key detected:"+p);if(p==="cata")throw new Error("cannot have a case named cata (sorry)");if(!oe(S))throw new Error("case arguments must be an array");n.push(p),o[p]=(...T)=>{const V=T.length;if(V!==S.length)throw new Error("Wrong number of arguments to case "+p+". Expected "+S.length+" ("+S+"), got "+V);return{fold:(...Q)=>{if(Q.length!==e.length)throw new Error("Wrong number of arguments to fold. Expected "+e.length+", got "+Q.length);return Q[c].apply(null,T)},match:Q=>{const ae=tn(Q);if(n.length!==ae.length)throw new Error("Wrong number of arguments to match. Expected: "+n.join(",")+`
Actual: `+ae.join(","));if(!Ho(n,De=>Se(ae,De)))throw new Error("Not all branches were specified when using match. Specified: "+ae.join(", ")+`
Required: `+n.join(", "));return Q[p].apply(null,T)},log:Q=>{console.log(Q,{constructors:n,constructor:p,params:T})}}}}),o}};ws.generate([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]);const Ri=e=>{const n=[],o=[];return xe(e,a=>{a.fold(c=>{n.push(c)},c=>{o.push(c)})}),{errors:n,values:o}},wl=e=>e.type==="inline-command"||e.type==="inline-format",Ba=e=>e.type==="block-command"||e.type==="block-format",yu=(e,n)=>(e.type==="block-command"||e.type==="block-format")&&e.trigger===n,hh=e=>{var n;const o=c=>bo.error({message:c,pattern:e}),a=(c,g,p)=>{if(e.format!==void 0){let S;if(oe(e.format)){if(!Ho(e.format,he))return o(c+" pattern has non-string items in the `format` array");S=e.format}else if(he(e.format))S=[e.format];else return o(c+" pattern has non-string `format` parameter");return bo.value(g(S))}else return e.cmd!==void 0?he(e.cmd)?bo.value(p(e.cmd,e.value)):o(c+" pattern has non-string `cmd` parameter"):o(c+" pattern is missing both `format` and `cmd` parameters")};if(!j(e))return o("Raw pattern is not an object");if(!he(e.start))return o("Raw pattern is missing `start` parameter");if(e.end!==void 0){if(!he(e.end))return o("Inline pattern has non-string `end` parameter");if(e.start.length===0&&e.end.length===0)return o("Inline pattern has empty `start` and `end` parameters");let c=e.start,g=e.end;return g.length===0&&(g=c,c=""),a("Inline",p=>({type:"inline-format",start:c,end:g,format:p}),(p,S)=>({type:"inline-command",start:c,end:g,cmd:p,value:S}))}else{if(e.replacement!==void 0)return he(e.replacement)?e.start.length===0?o("Replacement pattern has empty `start` parameter"):bo.value({type:"inline-command",start:"",end:e.start,cmd:"mceInsertContent",value:e.replacement}):o("Replacement pattern has non-string `replacement` parameter");{const c=(n=e.trigger)!==null&&n!==void 0?n:"space";return e.start.length===0?o("Block pattern has empty `start` parameter"):a("Block",g=>({type:"block-format",start:e.start,format:g[0],trigger:c}),(g,p)=>({type:"block-command",start:e.start,cmd:g,value:p,trigger:c}))}}},Cl=e=>Je(e,Ba),yf=e=>Je(e,wl),Bb=(e,n)=>({inlinePatterns:yf(e),blockPatterns:Cl(e),dynamicPatternsLookup:n}),gg=(e,n)=>({...e,blockPatterns:Je(e.blockPatterns,o=>yu(o,n))}),Fb=e=>{const n=Ri(Ke(e,hh));return xe(n.errors,o=>console.error(o.message,o.pattern)),n.values},Ry=e=>n=>{const o=e(n);return Fb(o)},hg=ua().deviceType,yS=hg.isTouch(),x8=br.DOM,w8=e=>{const n=e.indexOf("=")>0?e.split(/[;,](?![^=;,]*(?:[;,]|$))/):e.split(",");return pn(n,(o,a)=>{const c=a.split("="),g=c[0],p=c.length>1?c[1]:g;return o[Ze(g)]=Ze(p),o},{})},AI=e=>ge(e,RegExp),zn=e=>n=>n.options.get(e),Mw=e=>he(e)||j(e),aT=(e,n="")=>o=>{const a=he(o);if(a)if(o.indexOf("=")!==-1){const c=w8(o);return{value:Zs(c,e.id).getOr(n),valid:a}}else return{value:o,valid:a};else return{valid:!1,message:"Must be a string."}},xS=e=>{const n=e.options.register;n("id",{processor:"string",default:e.id}),n("selector",{processor:"string"}),n("target",{processor:"object"}),n("suffix",{processor:"string"}),n("cache_suffix",{processor:"string"}),n("base_url",{processor:"string"}),n("referrer_policy",{processor:"string",default:""}),n("language_load",{processor:"boolean",default:!0}),n("inline",{processor:"boolean",default:!1}),n("iframe_attrs",{processor:"object",default:{}}),n("doctype",{processor:"string",default:"<!DOCTYPE html>"}),n("document_base_url",{processor:"string",default:e.documentBaseUrl}),n("body_id",{processor:aT(e,"tinymce"),default:"tinymce"}),n("body_class",{processor:aT(e),default:""}),n("content_security_policy",{processor:"string",default:""}),n("br_in_pre",{processor:"boolean",default:!0}),n("forced_root_block",{processor:o=>{const a=he(o)&&ut(o);return a?{value:o,valid:a}:{valid:!1,message:"Must be a non-empty string."}},default:"p"}),n("forced_root_block_attrs",{processor:"object",default:{}}),n("newline_behavior",{processor:o=>{const a=Se(["block","linebreak","invert","default"],o);return a?{value:o,valid:a}:{valid:!1,message:"Must be one of: block, linebreak, invert or default."}},default:"default"}),n("br_newline_selector",{processor:"string",default:".mce-toc h2,figcaption,caption"}),n("no_newline_selector",{processor:"string",default:""}),n("keep_styles",{processor:"boolean",default:!0}),n("end_container_on_empty_block",{processor:o=>Ue(o)?{valid:!0,value:o}:he(o)?{valid:!0,value:o}:{valid:!1,message:"Must be boolean or a string"},default:"blockquote"}),n("font_size_style_values",{processor:"string",default:"xx-small,x-small,small,medium,large,x-large,xx-large"}),n("font_size_legacy_values",{processor:"string",default:"xx-small,small,medium,large,x-large,xx-large,300%"}),n("font_size_classes",{processor:"string",default:""}),n("automatic_uploads",{processor:"boolean",default:!0}),n("images_reuse_filename",{processor:"boolean",default:!1}),n("images_replace_blob_uris",{processor:"boolean",default:!0}),n("icons",{processor:"string",default:""}),n("icons_url",{processor:"string",default:""}),n("images_upload_url",{processor:"string",default:""}),n("images_upload_base_path",{processor:"string",default:""}),n("images_upload_credentials",{processor:"boolean",default:!1}),n("images_upload_handler",{processor:"function"}),n("language",{processor:"string",default:"en"}),n("language_url",{processor:"string",default:""}),n("entity_encoding",{processor:"string",default:"named"}),n("indent",{processor:"boolean",default:!0}),n("indent_before",{processor:"string",default:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,details,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist"}),n("indent_after",{processor:"string",default:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,details,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist"}),n("indent_use_margin",{processor:"boolean",default:!1}),n("indentation",{processor:"string",default:"40px"}),n("content_css",{processor:o=>{const a=o===!1||he(o)||st(o,he);return a?he(o)?{value:Ke(o.split(","),Ze),valid:a}:oe(o)?{value:o,valid:a}:o===!1?{value:[],valid:a}:{value:o,valid:a}:{valid:!1,message:"Must be false, a string or an array of strings."}},default:A0(e)?[]:["default"]}),n("content_style",{processor:"string"}),n("content_css_cors",{processor:"boolean",default:!1}),n("font_css",{processor:o=>{const a=he(o)||st(o,he);return a?{value:oe(o)?o:Ke(o.split(","),Ze),valid:a}:{valid:!1,message:"Must be a string or an array of strings."}},default:[]}),n("inline_boundaries",{processor:"boolean",default:!0}),n("inline_boundaries_selector",{processor:"string",default:"a[href],code,span.mce-annotation"}),n("object_resizing",{processor:o=>{const a=Ue(o)||he(o);return a?o===!1||hg.isiPhone()||hg.isiPad()?{value:"",valid:a}:{value:o===!0?"table,img,figure.image,div,video,iframe":o,valid:a}:{valid:!1,message:"Must be boolean or a string"}},default:!yS}),n("resize_img_proportional",{processor:"boolean",default:!0}),n("event_root",{processor:"string"}),n("service_message",{processor:"string"}),n("theme",{processor:o=>o===!1||he(o)||Ne(o),default:"silver"}),n("theme_url",{processor:"string"}),n("formats",{processor:"object"}),n("format_empty_lines",{processor:"boolean",default:!1}),n("format_noneditable_selector",{processor:"string",default:""}),n("preview_styles",{processor:o=>{const a=o===!1||he(o);return a?{value:o===!1?"":o,valid:a}:{valid:!1,message:"Must be false or a string"}},default:"font-family font-size font-weight font-style text-decoration text-transform color background-color border border-radius outline text-shadow"}),n("custom_ui_selector",{processor:"string",default:""}),n("hidden_input",{processor:"boolean",default:!0}),n("submit_patch",{processor:"boolean",default:!0}),n("encoding",{processor:"string"}),n("add_form_submit_trigger",{processor:"boolean",default:!0}),n("add_unload_trigger",{processor:"boolean",default:!0}),n("custom_undo_redo_levels",{processor:"number",default:0}),n("disable_nodechange",{processor:"boolean",default:!1}),n("readonly",{processor:"boolean",default:!1}),n("editable_root",{processor:"boolean",default:!0}),n("plugins",{processor:"string[]",default:[]}),n("external_plugins",{processor:"object"}),n("forced_plugins",{processor:"string[]"}),n("model",{processor:"string",default:e.hasPlugin("rtc")?"plugin":"dom"}),n("model_url",{processor:"string"}),n("block_unsupported_drop",{processor:"boolean",default:!0}),n("visual",{processor:"boolean",default:!0}),n("visual_table_class",{processor:"string",default:"mce-item-table"}),n("visual_anchor_class",{processor:"string",default:"mce-item-anchor"}),n("iframe_aria_text",{processor:"string",default:"Rich Text Area. Press ALT-0 for help."}),n("setup",{processor:"function"}),n("init_instance_callback",{processor:"function"}),n("url_converter",{processor:"function",default:e.convertURL}),n("url_converter_scope",{processor:"object",default:e}),n("urlconverter_callback",{processor:"function"}),n("allow_conditional_comments",{processor:"boolean",default:!1}),n("allow_html_data_urls",{processor:"boolean",default:!1}),n("allow_svg_data_urls",{processor:"boolean"}),n("allow_html_in_named_anchor",{processor:"boolean",default:!1}),n("allow_script_urls",{processor:"boolean",default:!1}),n("allow_unsafe_link_target",{processor:"boolean",default:!1}),n("convert_fonts_to_spans",{processor:"boolean",default:!0,deprecated:!0}),n("fix_list_elements",{processor:"boolean",default:!1}),n("preserve_cdata",{processor:"boolean",default:!1}),n("remove_trailing_brs",{processor:"boolean",default:!0}),n("pad_empty_with_br",{processor:"boolean",default:!1}),n("inline_styles",{processor:"boolean",default:!0,deprecated:!0}),n("element_format",{processor:"string",default:"html"}),n("entities",{processor:"string"}),n("schema",{processor:"string",default:"html5"}),n("convert_urls",{processor:"boolean",default:!0}),n("relative_urls",{processor:"boolean",default:!0}),n("remove_script_host",{processor:"boolean",default:!0}),n("custom_elements",{processor:Mw}),n("extended_valid_elements",{processor:"string"}),n("invalid_elements",{processor:"string"}),n("invalid_styles",{processor:Mw}),n("valid_children",{processor:"string"}),n("valid_classes",{processor:Mw}),n("valid_elements",{processor:"string"}),n("valid_styles",{processor:Mw}),n("verify_html",{processor:"boolean",default:!0}),n("auto_focus",{processor:o=>he(o)||o===!0}),n("browser_spellcheck",{processor:"boolean",default:!1}),n("protect",{processor:"array"}),n("images_file_types",{processor:"string",default:"jpeg,jpg,jpe,jfi,jif,jfif,png,gif,bmp,webp"}),n("deprecation_warnings",{processor:"boolean",default:!0}),n("a11y_advanced_options",{processor:"boolean",default:!1}),n("api_key",{processor:"string"}),n("license_key",{processor:"string"}),n("paste_block_drop",{processor:"boolean",default:!1}),n("paste_data_images",{processor:"boolean",default:!0}),n("paste_preprocess",{processor:"function"}),n("paste_postprocess",{processor:"function"}),n("paste_webkit_styles",{processor:"string",default:"none"}),n("paste_remove_styles_if_webkit",{processor:"boolean",default:!0}),n("paste_merge_formats",{processor:"boolean",default:!0}),n("smart_paste",{processor:"boolean",default:!0}),n("paste_as_text",{processor:"boolean",default:!1}),n("paste_tab_spaces",{processor:"number",default:4}),n("text_patterns",{processor:o=>st(o,j)||o===!1?{value:Fb(o===!1?[]:o),valid:!0}:{valid:!1,message:"Must be an array of objects or false."},default:[{start:"*",end:"*",format:"italic"},{start:"**",end:"**",format:"bold"},{start:"#",format:"h1",trigger:"space"},{start:"##",format:"h2",trigger:"space"},{start:"###",format:"h3",trigger:"space"},{start:"####",format:"h4",trigger:"space"},{start:"#####",format:"h5",trigger:"space"},{start:"######",format:"h6",trigger:"space"},{start:"1.",cmd:"InsertOrderedList",trigger:"space"},{start:"*",cmd:"InsertUnorderedList",trigger:"space"},{start:"-",cmd:"InsertUnorderedList",trigger:"space"},{start:">",cmd:"mceBlockQuote",trigger:"space"},{start:"---",cmd:"InsertHorizontalRule",trigger:"space"}]}),n("text_patterns_lookup",{processor:o=>Ne(o)?{value:Ry(o),valid:!0}:{valid:!1,message:"Must be a single function"},default:o=>[]}),n("noneditable_class",{processor:"string",default:"mceNonEditable"}),n("editable_class",{processor:"string",default:"mceEditable"}),n("noneditable_regexp",{processor:o=>st(o,AI)?{value:o,valid:!0}:AI(o)?{value:[o],valid:!0}:{valid:!1,message:"Must be a RegExp or an array of RegExp."},default:[]}),n("table_tab_navigation",{processor:"boolean",default:!0}),n("highlight_on_focus",{processor:"boolean",default:!0}),n("xss_sanitization",{processor:"boolean",default:!0}),n("details_initial_state",{processor:o=>{const a=Se(["inherited","collapsed","expanded"],o);return a?{value:o,valid:a}:{valid:!1,message:"Must be one of: inherited, collapsed, or expanded."}},default:"inherited"}),n("details_serialized_state",{processor:o=>{const a=Se(["inherited","collapsed","expanded"],o);return a?{value:o,valid:a}:{valid:!1,message:"Must be one of: inherited, collapsed, or expanded."}},default:"inherited"}),n("init_content_sync",{processor:"boolean",default:!1}),n("newdocument_content",{processor:"string",default:""}),n("sandbox_iframes",{processor:"boolean",default:!0}),n("sandbox_iframes_exclusions",{processor:"string[]",default:["youtube.com","youtu.be","vimeo.com","player.vimeo.com","dailymotion.com","embed.music.apple.com","open.spotify.com","giphy.com","dai.ly","codepen.io"]}),n("convert_unsafe_embeds",{processor:"boolean",default:!0}),e.on("ScriptsLoaded",()=>{n("directionality",{processor:"string",default:Qu.isRtl()?"rtl":void 0}),n("placeholder",{processor:"string",default:x8.getAttrib(e.getElement(),"placeholder")})})},hc=zn("iframe_attrs"),wm=zn("doctype"),Td=zn("document_base_url"),wS=zn("body_id"),lT=zn("body_class"),OI=zn("content_security_policy"),cT=zn("br_in_pre"),Ql=zn("forced_root_block"),Lw=zn("forced_root_block_attrs"),uT=zn("newline_behavior"),RI=zn("br_newline_selector"),II=zn("no_newline_selector"),dT=zn("keep_styles"),fT=zn("end_container_on_empty_block"),vr=zn("automatic_uploads"),Np=zn("images_reuse_filename"),DI=zn("images_replace_blob_uris"),mT=zn("icons"),PI=zn("icons_url"),gT=zn("images_upload_url"),NI=zn("images_upload_base_path"),hT=zn("images_upload_credentials"),C8=zn("images_upload_handler"),MI=zn("content_css_cors"),Bw=zn("referrer_policy"),pT=zn("language"),S8=zn("language_url"),LI=zn("indent_use_margin"),Ad=zn("indentation"),Ec=zn("content_css"),Iy=zn("content_style"),BI=zn("font_css"),_8=zn("directionality"),Os=zn("inline_boundaries_selector"),FI=zn("object_resizing"),$I=zn("resize_img_proportional"),bT=zn("placeholder"),VI=zn("event_root"),k8=zn("service_message"),Dy=zn("theme"),E8=zn("theme_url"),Fw=zn("model"),vT=zn("model_url"),Py=zn("inline_boundaries"),T8=zn("formats"),A8=zn("preview_styles"),O8=zn("format_empty_lines"),Oo=zn("format_noneditable_selector"),zI=zn("custom_ui_selector"),A0=zn("inline"),yT=zn("hidden_input"),HI=zn("submit_patch"),UI=zn("add_form_submit_trigger"),WI=zn("add_unload_trigger"),KI=zn("custom_undo_redo_levels"),R8=zn("disable_nodechange"),jI=zn("readonly"),Gs=zn("editable_root"),ZI=zn("content_css_cors"),Cm=zn("plugins"),ph=zn("external_plugins"),CS=zn("block_unsupported_drop"),od=zn("visual"),SS=zn("visual_table_class"),Ny=zn("visual_anchor_class"),$w=zn("iframe_aria_text"),My=zn("setup"),I8=zn("init_instance_callback"),D8=zn("urlconverter_callback"),P8=zn("auto_focus"),N8=zn("browser_spellcheck"),Ds=zn("protect"),pg=zn("paste_block_drop"),bh=zn("paste_data_images"),M8=zn("paste_preprocess"),Vw=zn("paste_postprocess"),Ls=zn("newdocument_content"),GI=zn("paste_webkit_styles"),xT=zn("paste_remove_styles_if_webkit"),L8=zn("paste_merge_formats"),O0=zn("smart_paste"),R0=zn("paste_as_text"),qI=zn("paste_tab_spaces"),B8=zn("allow_html_data_urls"),F8=zn("text_patterns"),zw=zn("text_patterns_lookup"),I0=zn("noneditable_class"),$8=zn("editable_class"),YI=zn("noneditable_regexp"),V8=zn("preserve_cdata"),XI=zn("highlight_on_focus"),JI=zn("xss_sanitization"),QI=zn("init_content_sync"),wT=e=>e.options.isSet("text_patterns_lookup"),CT=e=>dn.explode(e.options.get("font_size_style_values")),ST=e=>dn.explode(e.options.get("font_size_classes")),eD=e=>e.options.get("encoding")==="xml",_T=e=>dn.explode(e.options.get("images_file_types")),tD=zn("table_tab_navigation"),_S=zn("details_initial_state"),nD=zn("details_serialized_state"),kT=zn("sandbox_iframes"),kS=e=>e.options.get("sandbox_iframes_exclusions"),oD=zn("convert_unsafe_embeds"),sD=zn("license_key"),rD=zn("api_key"),z8=Un,iD=on,Hw=e=>{const n=e.parentNode;n&&n.removeChild(e)},ET=e=>{const n=gc(e);return{count:e.length-n.length,text:n}},TT=e=>{let n;for(;(n=e.data.lastIndexOf(ta))!==-1;)e.deleteData(n,1)},AT=(e,n)=>($b(e),n),H8=(e,n)=>{const o=ET(e.data.substr(0,n.offset())),a=ET(e.data.substr(n.offset()));return(o.text+a.text).length>0?(TT(e),Dt(e,n.offset()-o.count)):n},U8=(e,n)=>{const o=n.container(),a=lt($o(o.childNodes),e).map(c=>c<n.offset()?Dt(o,n.offset()-1):n).getOr(n);return $b(e),a},W8=(e,n)=>iD(e)&&n.container()===e?H8(e,n):AT(e,n),K8=(e,n)=>n.container()===e.parentNode?U8(e,n):AT(e,n),j8=(e,n)=>Dt.isTextPosition(n)?W8(e,n):K8(e,n),$b=e=>{z8(e)&&Gc(e)&&(by(e)?e.removeAttribute("data-mce-caret"):Hw(e)),iD(e)&&(TT(e),e.data.length===0&&Hw(e))},aD=To,ES=Lt,Z8=Yg,OT="*[contentEditable=false],video,audio,embed,object",lD=(e,n,o)=>{const a=y0(n.getBoundingClientRect(),o);let c,g;if(e.tagName==="BODY"){const S=e.ownerDocument.documentElement;c=e.scrollLeft||S.scrollLeft,g=e.scrollTop||S.scrollTop}else{const S=e.getBoundingClientRect();c=e.scrollLeft-S.left,g=e.scrollTop-S.top}a.left+=c,a.right+=c,a.top+=g,a.bottom+=g,a.width=1;let p=n.offsetWidth-n.clientWidth;return p>0&&(o&&(p*=-1),a.left+=p,a.right+=p),a},cD=e=>{var n,o;const a=bi(Ye.fromDom(e),OT);for(let c=0;c<a.length;c++){const g=a[c].dom;let p=g.previousSibling;if(xm(p)){const S=p.data;S.length===1?(n=p.parentNode)===null||n===void 0||n.removeChild(p):p.deleteData(S.length-1,1)}p=g.nextSibling,b0(p)&&(p.data.length===1?(o=p.parentNode)===null||o===void 0||o.removeChild(p):p.deleteData(0,1))}},uD=(e,n,o,a)=>{const c=Ai();let g,p;const S=Ql(e),T=e.dom,V=(_e,$e)=>{let nt;if(X(),Z8($e))return null;if(o($e)){const ft=fS(S,$e,_e),ct=lD(n,$e,_e);T.setStyle(ft,"top",ct.top),T.setStyle(ft,"caret-color","transparent"),p=ft;const kt=T.create("div",{class:"mce-visual-caret","data-mce-bogus":"all"});T.setStyles(kt,{...ct}),T.add(n,kt),c.set({caret:kt,element:$e,before:_e}),_e&&T.addClass(kt,"mce-visual-caret-before"),Q(),nt=$e.ownerDocument.createRange(),nt.setStart(ft,0),nt.setEnd(ft,0)}else return p=vy($e,_e),nt=$e.ownerDocument.createRange(),Uw(p.nextSibling)?(nt.setStart(p,0),nt.setEnd(p,0)):(nt.setStart(p,1),nt.setEnd(p,1)),nt;return nt},X=()=>{cD(n),p&&($b(p),p=null),c.on(_e=>{T.remove(_e.caret),c.clear()}),g&&(clearInterval(g),g=void 0)},Q=()=>{g=setInterval(()=>{c.on(_e=>{a()?T.toggleClass(_e.caret,"mce-visual-caret-hidden"):T.addClass(_e.caret,"mce-visual-caret-hidden")})},500)};return{show:V,hide:X,getCss:()=>".mce-visual-caret {position: absolute;background-color: black;background-color: currentcolor;}.mce-visual-caret-hidden {display: none;}*[data-mce-caret] {position: absolute;left: -1000px;right: auto;top: 0;margin: 0;padding: 0;}",reposition:()=>{c.on(_e=>{const $e=lD(n,_e.element,_e.before);T.setStyles(_e.caret,{...$e})})},destroy:()=>clearInterval(g)}},RT=()=>os.browser.isFirefox(),Uw=e=>aD(e)||ES(e),Ww=e=>(Uw(e)||hu(e)&&RT())&&sf(Ye.fromDom(e)).exists(Sr),TS=jc,AS=To,dD=Lt,IT=Wc("display","block table table-cell table-caption list-item"),DT=Gc,fD=Db,G8=Un,OS=on,mD=_d,D0=e=>e>0,P0=e=>e<0,RS=(e,n)=>{let o;for(;o=e(n);)if(!fD(o))return o;return null},Kw=(e,n,o,a,c)=>{const g=new Ma(e,a),p=AS(e)||fD(e);let S;if(P0(n)){if(p&&(S=RS(g.prev.bind(g),!0),o(S)))return S;for(;S=RS(g.prev.bind(g),c);)if(o(S))return S}if(D0(n)){if(p&&(S=RS(g.next.bind(g),!0),o(S)))return S;for(;S=RS(g.next.bind(g),c);)if(o(S))return S}return null},q8=(e,n)=>{const o=c=>TS(c.dom),a=c=>c.dom===n;return qa(Ye.fromDom(e),o,a).map(c=>c.dom).getOr(n)},Vb=(e,n)=>{for(;e&&e!==n;){if(IT(e))return e;e=e.parentNode}return null},vh=(e,n,o)=>Vb(e.container(),o)===Vb(n.container(),o),IS=(e,n)=>{if(!n)return ee.none();const o=n.container(),a=n.offset();return G8(o)?ee.from(o.childNodes[a+e]):ee.none()},gD=(e,n)=>{var o;const c=((o=n.ownerDocument)!==null&&o!==void 0?o:document).createRange();return e?(c.setStartBefore(n),c.setEndBefore(n)):(c.setStartAfter(n),c.setEndAfter(n)),c},hD=(e,n,o)=>Vb(n,e)===Vb(o,e),PT=(e,n,o)=>{const a=e?"previousSibling":"nextSibling";let c=o;for(;c&&c!==n;){let g=c[a];if(g&&DT(g)&&(g=g[a]),AS(g)||dD(g)){if(hD(n,g,c))return g;break}if(mD(g))break;c=c.parentNode}return null},jw=at(gD,!0),Zw=at(gD,!1),NT=(e,n,o)=>{let a;const c=at(PT,!0,n),g=at(PT,!1,n),p=o.startContainer,S=o.startOffset;if(Db(p)){const T=OS(p)?p.parentNode:p,V=T.getAttribute("data-mce-caret");if(V==="before"&&(a=T.nextSibling,Ww(a)))return jw(a);if(V==="after"&&(a=T.previousSibling,Ww(a)))return Zw(a)}if(!o.collapsed)return o;if(on(p)){if(DT(p)){if(e===1){if(a=g(p),a)return jw(a);if(a=c(p),a)return Zw(a)}if(e===-1){if(a=c(p),a)return Zw(a);if(a=g(p),a)return jw(a)}return o}if(xm(p)&&S>=p.data.length-1)return e===1&&(a=g(p),a)?jw(a):o;if(b0(p)&&S<=1)return e===-1&&(a=c(p),a)?Zw(a):o;if(S===p.data.length)return a=g(p),a?jw(a):o;if(S===0)return a=c(p),a?Zw(a):o}return o},pD=(e,n)=>IS(e?0:-1,n).filter(AS),Gw=(e,n,o)=>{const a=NT(e,n,o);return e===-1?Dt.fromRangeStart(a):Dt.fromRangeEnd(a)},DS=e=>ee.from(e.getNode()).map(Ye.fromDom),Y8=e=>ee.from(e.getNode(!0)).map(Ye.fromDom),MT=(e,n)=>{let o=n;for(;o=e(o);)if(o.isVisible())return o;return o},PS=(e,n)=>{const o=vh(e,n);return!o&&Ar(e.getNode())?!0:o};var Fl;(function(e){e[e.Backwards=-1]="Backwards",e[e.Forwards=1]="Forwards"})(Fl||(Fl={}));const X8=To,yh=on,bD=Un,eo=Ar,N0=_d,LT=Mb,NS=C0,BT=(e,n)=>{const o=[];let a=e;for(;a&&a!==n;)o.push(a),a=a.parentNode;return o},vD=(e,n)=>e.hasChildNodes()&&n<e.childNodes.length?e.childNodes[n]:null,qw=(e,n)=>{if(D0(e)){if(N0(n.previousSibling)&&!yh(n.previousSibling))return Dt.before(n);if(yh(n))return Dt(n,0)}if(P0(e)){if(N0(n.nextSibling)&&!yh(n.nextSibling))return Dt.after(n);if(yh(n))return Dt(n,n.data.length)}return P0(e)?eo(n)?Dt.before(n):Dt.after(n):Dt.before(n)},yD=(e,n)=>{const o=n.nextSibling;return o&&N0(o)?yh(o)?Dt(o,0):Dt.before(o):FT(Fl.Forwards,Dt.after(n),e)},FT=(e,n,o)=>{let a,c,g,p;if(!bD(o)||!n)return null;if(n.isEqual(Dt.after(o))&&o.lastChild){if(p=Dt.after(o.lastChild),P0(e)&&N0(o.lastChild)&&bD(o.lastChild))return eo(o.lastChild)?Dt.before(o.lastChild):p}else p=n;const S=p.container();let T=p.offset();if(yh(S)){if(P0(e)&&T>0)return Dt(S,--T);if(D0(e)&&T<S.length)return Dt(S,++T);a=S}else{if(P0(e)&&T>0&&(c=vD(S,T-1),N0(c)))return!LT(c)&&(g=Kw(c,e,NS,c),g)?yh(g)?Dt(g,g.data.length):Dt.after(g):yh(c)?Dt(c,c.data.length):Dt.before(c);if(D0(e)&&T<S.childNodes.length&&(c=vD(S,T),N0(c)))return eo(c)?yD(o,c):!LT(c)&&(g=Kw(c,e,NS,c),g)?yh(g)?Dt(g,0):Dt.before(g):yh(c)?Dt(c,0):Dt.after(c);a=c||p.getNode()}if(a&&(D0(e)&&p.isAtEnd()||P0(e)&&p.isAtStart())&&(a=Kw(a,e,Qt,o,!0),NS(a,o)))return qw(e,a);c=a&&Kw(a,e,NS,o);const V=ca(Je(BT(S,o),X8));return V&&(!c||!V.contains(c))?(D0(e)?p=Dt.after(V):p=Dt.before(V),p):c?qw(e,c):null},go=e=>({next:n=>FT(Fl.Forwards,n,e),prev:n=>FT(Fl.Backwards,n,e)}),jo=(e,n,o)=>{const a=e?Dt.before(o):Dt.after(o);return Od(e,n,a)},xD=e=>Ar(e)?Dt.before(e):Dt.after(e),wD=e=>Dt.isTextPosition(e)?e.offset()===0:_d(e.getNode()),CD=e=>{if(Dt.isTextPosition(e)){const n=e.container();return e.offset()===n.data.length}else return _d(e.getNode(!0))},SD=(e,n)=>!Dt.isTextPosition(e)&&!Dt.isTextPosition(n)&&e.getNode()===n.getNode(!0),Eo=e=>!Dt.isTextPosition(e)&&Ar(e.getNode()),Yw=(e,n,o)=>e?!SD(n,o)&&!Eo(n)&&CD(n)&&wD(o):!SD(o,n)&&wD(n)&&CD(o),Od=(e,n,o)=>{const a=go(n);return ee.from(e?a.next(o):a.prev(o))},M0=(e,n,o)=>Od(e,n,o).bind(a=>vh(o,a,n)&&Yw(e,o,a)?Od(e,n,a):ee.some(a)),_D=(e,n,o,a)=>M0(e,n,o).bind(c=>a(c)?_D(e,n,c,a):ee.some(c)),Ly=(e,n)=>{const o=e?n.firstChild:n.lastChild;return on(o)?ee.some(Dt(o,e?0:o.data.length)):o?_d(o)?ee.some(e?Dt.before(o):xD(o)):jo(e,n,o):ee.none()},qc=at(Od,!0),sd=at(Od,!1),yo=at(Ly,!0),xf=at(Ly,!1),By="_mce_caret",Rd=e=>Un(e)&&e.id===By,zb=(e,n)=>{let o=n;for(;o&&o!==e;){if(Rd(o))return o;o=o.parentNode}return null},kD=e=>he(e.start),ED=e=>So(e,"rng"),TD=e=>So(e,"id"),$T=e=>So(e,"name"),AD=e=>dn.isArray(e.start),MS=e=>!$T(e)&&Ue(e.forward)?e.forward:!0,OD=(e,n)=>(Un(n)&&e.isBlock(n)&&!n.innerHTML&&(n.innerHTML='<br data-mce-bogus="1" />'),n),J8=(e,n)=>{const o=ee.from(fe(e.getRoot(),n.start)),a=ee.from(fe(e.getRoot(),n.end));return fa(o,a,(c,g)=>{const p=e.createRng();return p.setStart(c.container(),c.offset()),p.setEnd(g.container(),g.offset()),{range:p,forward:MS(n)}})},Q8=(e,n)=>{var o;const c=((o=e.ownerDocument)!==null&&o!==void 0?o:document).createTextNode(ta);e.appendChild(c),n.setStart(c,0),n.setEnd(c,0)},VT=e=>!e.hasChildNodes(),zT=(e,n)=>xf(e).fold(Bn,o=>(n.setStart(o.container(),o.offset()),n.setEnd(o.container(),o.offset()),!0)),RD=(e,n,o)=>VT(n)&&zb(e,n)?(Q8(n,o),!0):!1,ID=(e,n,o,a)=>{const c=o[n?"start":"end"],g=e.getRoot();if(c){let p=g,S=c[0];for(let T=c.length-1;p&&T>=1;T--){const V=p.childNodes;if(RD(g,p,a))return!0;if(c[T]>V.length-1)return RD(g,p,a)?!0:zT(p,a);p=V[c[T]]}on(p)&&(S=Math.min(c[0],p.data.length)),Un(p)&&(S=Math.min(c[0],p.childNodes.length)),n?a.setStart(p,S):a.setEnd(p,S)}return!0},HT=e=>on(e)&&e.data.length>0,DD=(e,n,o)=>{const a=e.get(o.id+"_"+n),c=a==null?void 0:a.parentNode,g=o.keep;if(a&&c){let p,S;if(n==="start"?g?a.hasChildNodes()?(p=a.firstChild,S=1):HT(a.nextSibling)?(p=a.nextSibling,S=0):HT(a.previousSibling)?(p=a.previousSibling,S=a.previousSibling.data.length):(p=c,S=e.nodeIndex(a)+1):(p=c,S=e.nodeIndex(a)):g?a.hasChildNodes()?(p=a.firstChild,S=1):HT(a.previousSibling)?(p=a.previousSibling,S=a.previousSibling.data.length):(p=c,S=e.nodeIndex(a)):(p=c,S=e.nodeIndex(a)),!g){const T=a.previousSibling,V=a.nextSibling;dn.each(dn.grep(a.childNodes),Q=>{on(Q)&&(Q.data=Q.data.replace(/\uFEFF/g,""))});let X;for(;X=e.get(o.id+"_"+n);)e.remove(X,!0);if(on(V)&&on(T)&&!os.browser.isOpera()){const Q=T.data.length;T.appendData(V.data),e.remove(V),p=T,S=Q}}return ee.some(Dt(p,S))}else return ee.none()},PD=(e,n)=>{const o=e.createRng();return ID(e,!0,n,o)&&ID(e,!1,n,o)?ee.some({range:o,forward:MS(n)}):ee.none()},L0=(e,n)=>{const o=DD(e,"start",n),a=DD(e,"end",n);return fa(o,a.or(o),(c,g)=>{const p=e.createRng();return p.setStart(OD(e,c.container()),c.offset()),p.setEnd(OD(e,g.container()),g.offset()),{range:p,forward:MS(n)}})},ND=(e,n)=>ee.from(e.select(n.name)[n.index]).map(o=>{const a=e.createRng();return a.selectNode(o),{range:a,forward:!0}}),MD=(e,n)=>{const o=e.dom;if(n){if(AD(n))return PD(o,n);if(kD(n))return J8(o,n);if(TD(n))return L0(o,n);if($T(n))return ND(o,n);if(ED(n))return ee.some({range:n.rng,forward:MS(n)})}return ee.none()},e7=(e,n,o)=>St(e,n,o),t7=(e,n)=>{MD(e,n).each(({range:o,forward:a})=>{e.setRng(o,a)})},Id=e=>Un(e)&&e.tagName==="SPAN"&&e.getAttribute("data-mce-type")==="bookmark",ec=(e=>n=>e===n)(ea),B0=e=>e!==""&&` \f
\r	\v`.indexOf(e)!==-1,Mp=e=>!B0(e)&&!ec(e)&&!Zu(e),zr=e=>{const n=[];if(e)for(let o=0;o<e.rangeCount;o++)n.push(e.getRangeAt(o));return n},wf=e=>Jo(e,n=>{const o=Nb(n);return o?[Ye.fromDom(o)]:[]}),Xw=e=>zr(e).length>1,LS=e=>Je(wf(e),ed),Fy=e=>bi(e,"td[data-mce-selected],th[data-mce-selected]"),LD=(e,n)=>{const o=Fy(n);return o.length>0?o:LS(e)},bg=e=>LD(zr(e.selection.getSel()),Ye.fromDom(e.getBody())),tr=(e,n)=>Fc(e,"table",n),Jw=e=>{const n=e.startContainer,o=e.startOffset;return on(n)?o===0?ee.some(Ye.fromDom(n)):ee.none():ee.from(n.childNodes[o]).map(Ye.fromDom)},BD=e=>{const n=e.endContainer,o=e.endOffset;return on(n)?o===n.data.length?ee.some(Ye.fromDom(n)):ee.none():ee.from(n.childNodes[o-1]).map(Ye.fromDom)},UT=e=>Gl(e).fold(mt([e]),n=>[e].concat(UT(n))),Qw=e=>Hu(e).fold(mt([e]),n=>hs(n)==="br"?Mi(n).map(o=>[e].concat(Qw(o))).getOr([]):[e].concat(Qw(n))),e2=(e,n)=>fa(Jw(n),BD(n),(o,a)=>{const c=An(UT(e),at(us,o)),g=An(Qw(e),at(us,a));return c.isSome()&&g.isSome()}).getOr(!1),t2=(e,n,o,a)=>{const c=o,g=new Ma(o,c),p=Dc(e.schema.getMoveCaretBeforeOnEnterElements(),(T,V)=>!Se(["td","th","table"],V.toLowerCase()));let S=o;do{if(on(S)&&dn.trim(S.data).length!==0){a?n.setStart(S,0):n.setEnd(S,S.data.length);return}if(p[S.nodeName]){a?n.setStartBefore(S):S.nodeName==="BR"?n.setEndBefore(S):n.setEndAfter(S);return}}while(S=a?g.next():g.prev());c.nodeName==="BODY"&&(a?n.setStart(c,0):n.setEnd(c,c.childNodes.length))},$y=e=>{const n=e.selection.getSel();return Me(n)&&n.rangeCount>0},Vy=(e,n)=>{const o=bg(e);o.length>0?xe(o,a=>{const c=a.dom,g=e.dom.createRng();g.setStartBefore(c),g.setEndAfter(c),n(g,!0)}):n(e.selection.getRng(),!1)},BS=(e,n,o)=>{const a=hn(e,n);o(a),e.moveToBookmark(a)},zy=e=>I(e==null?void 0:e.nodeType),FS=e=>Un(e)&&!Id(e)&&!Rd(e)&&!ff(e),FD=(e,n)=>{if(FS(n)&&!/^(TD|TH)$/.test(n.nodeName)){const o=e.getAttrib(n,"data-mce-selected"),a=parseInt(o,10);return!isNaN(a)&&a>0}else return!1},WT=(e,n,o)=>{const{selection:a,dom:c}=e,g=a.getNode(),p=To(g);BS(a,!0,()=>{n()}),p&&To(g)&&c.isChildOf(g,e.getBody())?e.selection.select(g):o(a.getStart())&&$D(c,a)},$D=(e,n)=>{var o,a;const c=n.getRng(),{startContainer:g,startOffset:p}=c,S=n.getNode();if(!FD(e,S)&&Un(g)){const T=g.childNodes,V=e.getRoot();let X;if(p<T.length){const Q=T[p];X=new Ma(Q,(o=e.getParent(Q,e.isBlock))!==null&&o!==void 0?o:V)}else{const Q=T[T.length-1];X=new Ma(Q,(a=e.getParent(Q,e.isBlock))!==null&&a!==void 0?a:V),X.next(!0)}for(let Q=X.current();Q;Q=X.next()){if(e.getContentEditable(Q)==="false")return;if(on(Q)&&!KT(Q)){c.setStart(Q,0),n.setRng(c);return}}}},F0=(e,n,o)=>{if(e){const a=n?"nextSibling":"previousSibling";for(e=e[a];e;e=e[a])if(Un(e)||!KT(e))return e}},$S=(e,n)=>!!e.getTextBlockElements()[n.nodeName.toLowerCase()]||bu(e,n),Hb=(e,n,o)=>e.schema.isValidChild(n,o),KT=(e,n=!1)=>{if(Me(e)&&on(e)){const o=n?e.data.replace(/ /g,""):e.data;return cc(o)}else return!1},o7=e=>Me(e)&&on(e)&&e.length===0,VD=(e,n)=>{const o="[data-mce-cef-wrappable]",a=Oo(e),c=rn(a)?o:`${o},${a}`;return qs(Ye.fromDom(n),c)},jT=(e,n)=>{const o=e.dom;return FS(n)&&o.getContentEditable(n)==="false"&&VD(e,n)&&o.select('[contenteditable="true"]',n).length===0},Lp=(e,n)=>Ne(e)?e(n):(Me(n)&&(e=e.replace(/%(\w+)/g,(o,a)=>n[a]||o)),e),Hy=(e,n)=>(e=e||"",n=n||"",e=""+(e.nodeName||e),n=""+(n.nodeName||n),e.toLowerCase()===n.toLowerCase()),VS=(e,n)=>{if(dt(e))return null;{let o=String(e);return(n==="color"||n==="backgroundColor")&&(o=t0(o)),n==="fontWeight"&&e===700&&(o="bold"),n==="fontFamily"&&(o=o.replace(/[\'\"]/g,"").replace(/,\s+/g,",")),o}},n2=(e,n,o)=>{const a=e.getStyle(n,o);return VS(a,o)},ZT=(e,n)=>{let o;return e.getParent(n,a=>Un(a)?(o=e.getStyle(a,"text-decoration"),!!o&&o!=="none"):!1),o},o2=(e,n,o)=>e.getParents(n,o,e.getRoot()),zS=(e,n,o)=>{const a=e.formatter.get(n);return Me(a)&&Pe(a,o)},zD=(e,n)=>zS(e,n,a=>{const c=g=>Ne(g)||g.length>1&&g.charAt(0)==="%";return Pe(["styles","attributes"],g=>Zs(a,g).exists(p=>{const S=oe(p)?p:Pc(p);return Pe(S,c)}))}),HD=(e,n,o)=>{const a=["inline","block","selector","attributes","styles","classes"],c=g=>Dc(g,(p,S)=>Pe(a,T=>T===S));return zS(e,n,g=>{const p=c(g);return zS(e,o,S=>{const T=c(S);return Ui(p,T)})})},vg=e=>fl(e,"block"),UD=e=>vg(e)&&e.wrapper===!0,WD=e=>vg(e)&&e.wrapper!==!0,rd=e=>fl(e,"selector"),rl=e=>fl(e,"inline"),KD=e=>rd(e)&&rl(e)&&Xd(Zs(e,"mixed"),!0),HS=e=>rd(e)&&e.expand!==!1&&!rl(e),jD=e=>{const n=[];let o=e;for(;o;){if(on(o)&&o.data!==ta||o.childNodes.length>1)return[];Un(o)&&n.push(o),o=o.firstChild}return n},GT=e=>jD(e).length>0,US=e=>Rd(e.dom)&&GT(e.dom),Ub=Id,s2=o2,WS=KT,KS=$S,ZD=e=>Ar(e)&&e.getAttribute("data-mce-bogus")&&!e.nextSibling,r2=(e,n)=>{let o=n;for(;o;){if(Un(o)&&e.getContentEditable(o))return e.getContentEditable(o)==="false"?o:n;o=o.parentNode}return n},jS=(e,n,o,a)=>{const c=n.data;if(e){for(let g=o;g>0;g--)if(a(c.charAt(g-1)))return g}else for(let g=o;g<c.length;g++)if(a(c.charAt(g)))return g;return-1},i2=(e,n,o)=>jS(e,n,o,a=>ec(a)||B0(a)),qT=(e,n,o)=>jS(e,n,o,Mp),YT=(e,n,o,a,c,g)=>{let p;const S=e.getParent(o,e.isBlock)||n,T=(X,Q,ae)=>{const we=pm(e),De=c?we.backwards:we.forwards;return ee.from(De(X,Q,(_e,$e)=>Ub(_e.parentNode)?-1:(p=_e,ae(c,_e,$e)),S))};return T(o,a,i2).bind(X=>g?T(X.container,X.offset+(c?-1:0),qT):ee.some(X)).orThunk(()=>p?ee.some({container:p,offset:c?0:p.length}):ee.none())},$0=(e,n,o,a,c)=>{const g=a[c];on(a)&&rn(a.data)&&g&&(a=g);const p=s2(e,a);for(let S=0;S<p.length;S++)for(let T=0;T<n.length;T++){const V=n[T];if(!(Me(V.collapsed)&&V.collapsed!==o.collapsed)&&rd(V)&&e.is(p[S],V.selector))return p[S]}return a},ZS=(e,n,o,a)=>{var c;let g=o;const p=e.getRoot(),S=n[0];if(vg(S)&&(g=S.wrapper?null:e.getParent(o,S.block,p)),!g){const T=(c=e.getParent(o,"LI,TD,TH,SUMMARY"))!==null&&c!==void 0?c:p;g=e.getParent(on(o)?o.parentNode:o,V=>V!==p&&KS(e.schema,V),T)}if(g&&vg(S)&&S.wrapper&&(g=s2(e,g,"ul,ol").reverse()[0]||g),!g)for(g=o;g&&g[a]&&!e.isBlock(g[a])&&(g=g[a],!Hy(g,"br")););return g||o},GS=(e,n,o,a)=>{const c=o.parentNode;return Me(o[a])?!1:c===n||dt(c)||e.isBlock(c)?!0:GS(e,n,c,a)},Bp=(e,n,o,a,c)=>{let g=o;const p=c?"previousSibling":"nextSibling",S=e.getRoot();if(on(o)&&!WS(o)&&(c?a>0:a<o.data.length))return o;for(;g;){if(!n[0].block_expand&&e.isBlock(g))return g;for(let T=g[p];T;T=T[p]){const V=on(T)&&!GS(e,S,T,p);if(!Ub(T)&&!ZD(T)&&!WS(T,V))return g}if(g===S||g.parentNode===S){o=g;break}g=g.parentNode}return o},Fp=e=>Ub(e.parentNode)||Ub(e),Wb=(e,n,o,a=!1)=>{let{startContainer:c,startOffset:g,endContainer:p,endOffset:S}=n;const T=o[0];return Un(c)&&c.hasChildNodes()&&(c=na(c,g),on(c)&&(g=0)),Un(p)&&p.hasChildNodes()&&(p=na(p,n.collapsed?S:S-1),on(p)&&(S=p.data.length)),c=r2(e,c),p=r2(e,p),Fp(c)&&(c=Ub(c)?c:c.parentNode,n.collapsed?c=c.previousSibling||c:c=c.nextSibling||c,on(c)&&(g=n.collapsed?c.length:0)),Fp(p)&&(p=Ub(p)?p:p.parentNode,n.collapsed?p=p.nextSibling||p:p=p.previousSibling||p,on(p)&&(S=n.collapsed?0:p.length)),n.collapsed&&(YT(e,e.getRoot(),c,g,!0,a).each(({container:Q,offset:ae})=>{c=Q,g=ae}),YT(e,e.getRoot(),p,S,!1,a).each(({container:Q,offset:ae})=>{p=Q,S=ae})),(rl(T)||T.block_expand)&&((!rl(T)||!on(c)||g===0)&&(c=Bp(e,o,c,g,!0)),(!rl(T)||!on(p)||S===p.data.length)&&(p=Bp(e,o,p,S,!1))),HS(T)&&(c=$0(e,o,n,c,"previousSibling"),p=$0(e,o,n,p,"nextSibling")),(vg(T)||rd(T))&&(c=ZS(e,o,c,"previousSibling"),p=ZS(e,o,p,"nextSibling"),vg(T)&&(e.isBlock(c)||(c=Bp(e,o,c,g,!0),on(c)&&(g=0)),e.isBlock(p)||(p=Bp(e,o,p,S,!1),on(p)&&(S=p.data.length)))),Un(c)&&c.parentNode&&(g=e.nodeIndex(c),c=c.parentNode),Un(p)&&p.parentNode&&(S=e.nodeIndex(p)+1,p=p.parentNode),{startContainer:c,startOffset:g,endContainer:p,endOffset:S}},a2=(e,n,o)=>{var a;const c=n.startOffset,g=na(n.startContainer,c),p=n.endOffset,S=na(n.endContainer,p-1),T=$e=>{const nt=$e[0];on(nt)&&nt===g&&c>=nt.data.length&&$e.splice(0,1);const ft=$e[$e.length-1];return p===0&&$e.length>0&&ft===S&&on(ft)&&$e.splice($e.length-1,1),$e},V=($e,nt,ft)=>{const ct=[];for(;$e&&$e!==ft;$e=$e[nt])ct.push($e);return ct},X=($e,nt)=>e.getParent($e,ft=>ft.parentNode===nt,nt),Q=($e,nt,ft)=>{const ct=ft?"nextSibling":"previousSibling";for(let kt=$e,qt=kt.parentNode;kt&&kt!==nt;kt=qt){qt=kt.parentNode;const gn=V(kt===$e?kt:kt[ct],ct);gn.length&&(ft||gn.reverse(),o(T(gn)))}};if(g===S)return o(T([g]));const ae=(a=e.findCommonAncestor(g,S))!==null&&a!==void 0?a:e.getRoot();if(e.isChildOf(g,S))return Q(g,ae,!0);if(e.isChildOf(S,g))return Q(S,ae);const we=X(g,ae)||g,De=X(S,ae)||S;Q(g,we,!0);const _e=V(we===g?we:we.nextSibling,"nextSibling",De===S?De.nextSibling:De);_e.length&&o(T(_e)),Q(S,De)},s7=['pre[class*=language-][contenteditable="false"]',"figure.image","div[data-ephox-embed-iri]","div.tiny-pageembed","div.mce-toc","div[data-mce-toc]"],GD=e=>Cr(e)&&ch(e)===ta,qD=(e,n,o,a)=>Qi(n).fold(()=>"skipping",c=>a==="br"||GD(n)?"valid":bw(n)?"existing":Rd(n.dom)?"caret":Pe(s7,g=>qs(n,g))?"valid-block":!Hb(e,o,a)||!Hb(e,hs(c),o)?"invalid-child":"valid"),Kb=(e,n)=>{const o=Wb(e.dom,n,[{inline:"span"}]);n.setStart(o.startContainer,o.startOffset),n.setEnd(o.endContainer,o.endOffset),e.selection.setRng(n)},jb=(e,n,o,a,c,g)=>{const{uid:p=n,...S}=o;uu(e,ni()),Ei(e,`${Oi()}`,p),Ei(e,`${oi()}`,a);const{attributes:T={},classes:V=[]}=c(p,S);if(ja(e,T),a0(e,V),g){V.length>0&&Ei(e,`${Yr()}`,V.join(","));const X=tn(T);X.length>0&&Ei(e,`${vi()}`,X.join(","))}},$l=e=>{Da(e,ni()),Yo(e,`${Oi()}`),Yo(e,`${oi()}`),Yo(e,`${er()}`);const n=hi(e,`${vi()}`).map(a=>a.split(",")).getOr([]),o=hi(e,`${Yr()}`).map(a=>a.split(",")).getOr([]);xe(n,a=>Yo(e,a)),Tp(e,o),Yo(e,`${Yr()}`),Yo(e,`${vi()}`)},xh=(e,n,o,a,c)=>{const g=Ye.fromTag("span",e);return jb(g,n,o,a,c,!1),g},Ks=(e,n,o,a,c,g)=>{const p=[],S=xh(e.getDoc(),o,g,a,c),T=Ai(),V=()=>{T.clear()},X=()=>T.get().getOrThunk(()=>{const De=yi(S);return p.push(De),T.set(De),De}),Q=De=>{xe(De,ae)},ae=De=>{switch(qD(e,De,"span",hs(De))){case"invalid-child":{V();const $e=ga(De);Q($e),V();break}case"valid-block":{V(),jb(De,o,g,a,c,!0);break}case"valid":{const $e=X();lc(De,$e);break}}},we=De=>{const _e=Ke(De,Ye.fromDom);Q(_e)};return a2(e.dom,n,De=>{V(),we(De)}),p},r7=(e,n,o,a)=>{e.undoManager.transact(()=>{const c=e.selection,g=c.getRng(),p=bg(e).length>0,S=Ll("mce-annotation");if(g.collapsed&&!p&&Kb(e,g),c.getRng().collapsed&&!p){const T=xh(e.getDoc(),S,a,n,o.decorate);gu(T,ea),c.getRng().insertNode(T.dom),c.select(T.dom)}else BS(c,!1,()=>{Vy(e,T=>{Ks(e,T,S,n,o.decorate,a)})})})},YD=e=>{const n=yw();gy(e,n);const o=my(e,n),a=tf("span"),c=g=>{xe(g,p=>{a(p)?ha(p):$l(p)})};return{register:(g,p)=>{n.register(g,p)},annotate:(g,p)=>{n.lookup(g).each(S=>{r7(e,g,S,p)})},annotationChanged:(g,p)=>{o.addListener(g,p)},remove:g=>{fy(e,ee.some(g)).each(({elements:p})=>{const S=e.selection.getBookmark();c(p),e.selection.moveToBookmark(S)})},removeAll:g=>{const p=e.selection.getBookmark();qo(Ep(e,g),(S,T)=>{c(S)}),e.selection.moveToBookmark(p)},getAll:g=>{const p=Ep(e,g);return Kl(p,S=>Ke(S,T=>T.dom))}}},mr=e=>({getBookmark:at(e7,e),moveToBookmark:at(t7,e)});mr.isBookmarkNode=Id;const XT=(e,n,o)=>o.collapsed?!1:Pe(o.getClientRects(),a=>xy(a,e,n)),l2=(e,n)=>e.dispatch("PreProcess",n),c2=(e,n)=>e.dispatch("PostProcess",n),u2=e=>{e.dispatch("remove")},d2=e=>{e.dispatch("detach")},XD=(e,n)=>{e.dispatch("SwitchMode",{mode:n})},i7=(e,n,o,a,c)=>{e.dispatch("ObjectResizeStart",{target:n,width:o,height:a,origin:c})},a7=(e,n,o,a,c)=>{e.dispatch("ObjectResized",{target:n,width:o,height:a,origin:c})},l7=e=>{e.dispatch("PreInit")},c7=e=>{e.dispatch("PostRender")},Ii=e=>{e.dispatch("Init")},JD=(e,n)=>{e.dispatch("PlaceholderToggle",{state:n})},JT=(e,n,o)=>{e.dispatch(n,o)},QD=(e,n,o,a)=>{e.dispatch("FormatApply",{format:n,node:o,vars:a})},eP=(e,n,o,a)=>{e.dispatch("FormatRemove",{format:n,node:o,vars:a})},u7=(e,n)=>e.dispatch("BeforeSetContent",n),xu=(e,n)=>e.dispatch("SetContent",n),yg=(e,n)=>e.dispatch("BeforeGetContent",n),tP=(e,n)=>e.dispatch("GetContent",n),QT=(e,n)=>{e.dispatch("AutocompleterStart",n)},eA=(e,n)=>{e.dispatch("AutocompleterUpdate",n)},tA=(e,n)=>{e.dispatch("AutocompleterUpdateActiveRange",n)},d7=e=>{e.dispatch("AutocompleterEnd")},f2=(e,n,o)=>e.dispatch("PastePreProcess",{content:n,internal:o}),qS=(e,n,o)=>e.dispatch("PastePostProcess",{node:n,internal:o}),YS=(e,n)=>e.dispatch("PastePlainTextToggle",{state:n}),f7=(e,n)=>e.dispatch("EditableRootStateChange",{state:n}),On={BACKSPACE:8,DELETE:46,DOWN:40,ENTER:13,ESC:27,LEFT:37,RIGHT:39,SPACEBAR:32,TAB:9,UP:38,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,modifierPressed:e=>e.shiftKey||e.ctrlKey||e.altKey||On.metaKeyPressed(e),metaKeyPressed:e=>os.os.isMacOS()||os.os.isiOS()?e.metaKey:e.ctrlKey&&!e.altKey},V0="data-mce-selected",m7="table,img,figure.image,hr,video,span.mce-preview-object,details",Dd=Math.abs,Zb=Math.round,XS={nw:[0,0,-1,-1],ne:[1,0,1,-1],se:[1,1,1,1],sw:[0,1,-1,1]},Sm=e=>e.type==="longpress"||e.type.indexOf("touch")===0,ar=(e,n)=>{const o=n.dom,a=n.getDoc(),c=document,g=n.getBody();let p,S,T,V,X,Q,ae,we,De,_e,$e,nt,ft,ct,kt,qt,gn;const Pn=Dn=>Me(Dn)&&(Kc(Dn)||o.is(Dn,"figure.image")),$t=Dn=>Lt(Dn)||o.hasClass(Dn,"mce-preview-object"),Rt=(Dn,is)=>{if(Sm(Dn)){const bs=Dn.touches[0];return Pn(Dn.target)&&!XT(bs.clientX,bs.clientY,is)}else return Pn(Dn.target)&&!XT(Dn.clientX,Dn.clientY,is)},Zt=Dn=>{const is=Dn.target;Rt(Dn,n.selection.getRng())&&!Dn.isDefaultPrevented()&&n.selection.select(is)},Hn=Dn=>o.hasClass(Dn,"mce-preview-object")&&Me(Dn.firstElementChild)?[Dn,Dn.firstElementChild]:o.is(Dn,"figure.image")?[Dn.querySelector("img")]:[Dn],so=Dn=>{const is=FI(n);return!is||Dn.getAttribute("data-mce-resize")==="false"||Dn===n.getBody()?!1:o.hasClass(Dn,"mce-preview-object")&&Me(Dn.firstElementChild)?qs(Ye.fromDom(Dn.firstElementChild),is):qs(Ye.fromDom(Dn),is)},rs=(Dn,is)=>{if($t(is))return Dn.create("img",{src:os.transparentSrc});if(hu(is)){const _l=wr(V.name,"n")?cn:uo,lr=is.cloneNode(!0);return _l(Dn.select("tr",lr)).each(ll=>{const Eg=Dn.select("td,th",ll);Dn.setStyle(ll,"height",null),xe(Eg,ob=>Dn.setStyle(ob,"height",null))}),lr}else return is.cloneNode(!0)},fs=(Dn,is,bs)=>{if(Me(bs)){const _l=Hn(Dn);xe(_l,lr=>{lr.style[is]||!n.schema.isValid(lr.nodeName.toLowerCase(),is)?o.setStyle(lr,is,bs):o.setAttrib(lr,is,""+bs)})}},Js=(Dn,is,bs)=>{fs(Dn,"width",is),fs(Dn,"height",bs)},cr=Dn=>{let is,bs,_l,lr,ll;is=Dn.screenX-Q,bs=Dn.screenY-ae,ct=is*V[2]+_e,kt=bs*V[3]+$e,ct=ct<5?5:ct,kt=kt<5?5:kt,(Pn(p)||$t(p))&&$I(n)!==!1?_l=!On.modifierPressed(Dn):_l=On.modifierPressed(Dn),_l&&(Dd(is)>Dd(bs)?(kt=Zb(ct*nt),ct=Zb(kt/nt)):(ct=Zb(kt/nt),kt=Zb(ct*nt))),Js(S,ct,kt),lr=V.startPos.x+is,ll=V.startPos.y+bs,lr=lr>0?lr:0,ll=ll>0?ll:0,o.setStyles(T,{left:lr,top:ll,display:"block"}),T.innerHTML=ct+" &times; "+kt,V[2]<0&&S.clientWidth<=ct&&o.setStyle(S,"left",we+(_e-ct)),V[3]<0&&S.clientHeight<=kt&&o.setStyle(S,"top",De+($e-kt)),is=g.scrollWidth-qt,bs=g.scrollHeight-gn,is+bs!==0&&o.setStyles(T,{left:lr-is,top:ll-bs}),ft||(i7(n,p,_e,$e,"corner-"+V.name),ft=!0)},Vi=()=>{const Dn=ft;ft=!1,Dn&&(fs(p,"width",ct),fs(p,"height",kt)),o.unbind(a,"mousemove",cr),o.unbind(a,"mouseup",Vi),c!==a&&(o.unbind(c,"mousemove",cr),o.unbind(c,"mouseup",Vi)),o.remove(S),o.remove(T),o.remove(X),yc(p),Dn&&(a7(n,p,ct,kt,"corner-"+V.name),o.setAttrib(p,"style",o.getAttrib(p,"style"))),n.nodeChanged()},yc=Dn=>{kn();const is=o.getPos(Dn,g),bs=is.x,_l=is.y,lr=Dn.getBoundingClientRect(),ll=lr.width||lr.right-lr.left,Eg=lr.height||lr.bottom-lr.top;p!==Dn&&(wn(),p=Dn,ct=kt=0);const ob=n.dispatch("ObjectSelected",{target:Dn});so(Dn)&&!ob.isDefaultPrevented()?qo(XS,(Eu,Nf)=>{const Tg=Ag=>{const ao=Hn(p)[0];Q=Ag.screenX,ae=Ag.screenY,_e=ao.clientWidth,$e=ao.clientHeight,nt=$e/_e,V=Eu,V.name=Nf,V.startPos={x:ll*Eu[0]+bs,y:Eg*Eu[1]+_l},qt=g.scrollWidth,gn=g.scrollHeight,X=o.add(g,"div",{class:"mce-resize-backdrop","data-mce-bogus":"all"}),o.setStyles(X,{position:"fixed",left:"0",top:"0",width:"100%",height:"100%"}),S=rs(o,p),o.addClass(S,"mce-clonedresizable"),o.setAttrib(S,"data-mce-bogus","all"),S.contentEditable="false",o.setStyles(S,{left:bs,top:_l,margin:0}),Js(S,ll,Eg),S.removeAttribute(V0),g.appendChild(S),o.bind(a,"mousemove",cr),o.bind(a,"mouseup",Vi),c!==a&&(o.bind(c,"mousemove",cr),o.bind(c,"mouseup",Vi)),T=o.add(g,"div",{class:"mce-resize-helper","data-mce-bogus":"all"},_e+" &times; "+$e)};let Mf=o.get("mceResizeHandle"+Nf);Mf&&o.remove(Mf),Mf=o.add(g,"div",{id:"mceResizeHandle"+Nf,"data-mce-bogus":"all",class:"mce-resizehandle",unselectable:!0,style:"cursor:"+Nf+"-resize; margin:0; padding:0"}),o.bind(Mf,"mousedown",Ag=>{Ag.stopImmediatePropagation(),Ag.preventDefault(),Tg(Ag)}),Eu.elm=Mf,o.setStyles(Mf,{left:ll*Eu[0]+bs-Mf.offsetWidth/2,top:Eg*Eu[1]+_l-Mf.offsetHeight/2})}):wn(!1)},yr=kp(yc,0),wn=(Dn=!0)=>{yr.cancel(),kn(),p&&Dn&&p.removeAttribute(V0),qo(XS,(is,bs)=>{const _l=o.get("mceResizeHandle"+bs);_l&&(o.unbind(_l),o.remove(_l))})},to=(Dn,is)=>o.isChildOf(Dn,is),Us=Dn=>{if(ft||n.removed||n.composing)return;const is=Dn.type==="mousedown"?Dn.target:e.getNode(),bs=Bi(Ye.fromDom(is),m7).map(lr=>lr.dom).filter(lr=>o.isEditable(lr.parentElement)||lr.nodeName==="IMG"&&o.isEditable(lr)).getOrUndefined(),_l=Me(bs)?o.getAttrib(bs,V0,"1"):"1";if(xe(o.select(`img[${V0}],hr[${V0}]`),lr=>{lr.removeAttribute(V0)}),Me(bs)&&to(bs,g)&&n.hasFocus()){ho();const lr=e.getStart(!0);if(to(lr,bs)&&to(e.getEnd(!0),bs)){o.setAttrib(bs,V0,_l),yr.throttle(bs);return}}wn()},kn=()=>{qo(XS,Dn=>{Dn.elm&&(o.unbind(Dn.elm),delete Dn.elm)})},ho=()=>{try{n.getDoc().execCommand("enableObjectResizing",!1,"false")}catch{}};return n.on("init",()=>{ho(),n.on("NodeChange ResizeEditor ResizeWindow ResizeContent drop",Us),n.on("keyup compositionend",Dn=>{p&&p.nodeName==="TABLE"&&Us(Dn)}),n.on("hide blur",wn),n.on("contextmenu longpress",Zt,!0)}),n.on("remove",kn),{isResizable:so,showResizeRect:yc,hideResizeRect:wn,updateResizeRect:Us,destroy:()=>{yr.cancel(),p=S=X=null}}},Uy=(e,n)=>{n.fold(o=>{e.setStartBefore(o.dom)},(o,a)=>{e.setStart(o.dom,a)},o=>{e.setStartAfter(o.dom)})},JS=(e,n)=>{n.fold(o=>{e.setEndBefore(o.dom)},(o,a)=>{e.setEnd(o.dom,a)},o=>{e.setEndAfter(o.dom)})},nA=(e,n,o)=>{const a=e.document.createRange();return Uy(a,n),JS(a,o),a},m2=(e,n,o,a,c)=>{const g=e.document.createRange();return g.setStart(n.dom,o),g.setEnd(a.dom,c),g},z0=ws.generate([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),nP=(e,n,o)=>n(Ye.fromDom(o.startContainer),o.startOffset,Ye.fromDom(o.endContainer),o.endOffset),oA=(e,n)=>n.match({domRange:o=>({ltr:mt(o),rtl:ee.none}),relative:(o,a)=>({ltr:gl(()=>nA(e,o,a)),rtl:gl(()=>ee.some(nA(e,a,o)))}),exact:(o,a,c,g)=>({ltr:gl(()=>m2(e,o,a,c,g)),rtl:gl(()=>ee.some(m2(e,c,g,o,a)))})}),g7=(e,n)=>{const o=n.ltr();return o.collapsed?n.rtl().filter(c=>c.collapsed===!1).map(c=>z0.rtl(Ye.fromDom(c.endContainer),c.endOffset,Ye.fromDom(c.startContainer),c.startOffset)).getOrThunk(()=>nP(e,z0.ltr,o)):nP(e,z0.ltr,o)},oP=(e,n)=>{const o=oA(e,n);return g7(e,o)};z0.ltr,z0.rtl;const QS={create:(e,n,o,a)=>({start:e,soffset:n,finish:o,foffset:a})},sP=(e,n,o)=>{var a;return ee.from((a=e.caretPositionFromPoint)===null||a===void 0?void 0:a.call(e,n,o)).bind(c=>{if(c.offsetNode===null)return ee.none();const g=e.createRange();return g.setStart(c.offsetNode,c.offset),g.collapse(),ee.some(g)})},e_=(e,n,o)=>{var a;return ee.from((a=e.caretRangeFromPoint)===null||a===void 0?void 0:a.call(e,n,o))},p7=(e,n,o)=>e.caretPositionFromPoint?sP(e,n,o):e.caretRangeFromPoint?e_(e,n,o):ee.none(),b7=(e,n,o)=>{const a=e.document;return p7(a,n,o).map(c=>QS.create(Ye.fromDom(c.startContainer),c.startOffset,Ye.fromDom(c.endContainer),c.endOffset))},sA=ws.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),v7=(e,n,o,a)=>e.fold(n,o,a),y7=e=>e.fold(Rn,Rn,Rn),rP=sA.before,x7=sA.on,w7=sA.after,wh={before:rP,on:x7,after:w7,cata:v7,getStart:y7},g2=ws.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),C7=e=>g2.exact(e.start,e.soffset,e.finish,e.foffset),S7=e=>e.match({domRange:n=>Ye.fromDom(n.startContainer),relative:(n,o)=>wh.getStart(n),exact:(n,o,a,c)=>n}),iP=g2.domRange,Cf=g2.relative,_7=g2.exact,aP=e=>{const n=S7(e);return $u(n)},rA=QS.create,Gb={domRange:iP,relative:Cf,exact:_7,exactFromRange:C7,getWin:aP,range:rA},h2=(e,n)=>{const o=hs(e);return o==="input"?wh.after(e):Se(["br","img"],o)?n===0?wh.before(e):wh.after(e):wh.on(e,n)},lP=(e,n)=>{const o=e.fold(wh.before,h2,wh.after),a=n.fold(wh.before,h2,wh.after);return Gb.relative(o,a)},t_=(e,n,o,a)=>{const c=h2(e,n),g=h2(o,a);return Gb.relative(c,g)},cP=e=>e.match({domRange:n=>{const o=Ye.fromDom(n.startContainer),a=Ye.fromDom(n.endContainer);return t_(o,n.startOffset,a,n.endOffset)},relative:lP,exact:t_}),id=(e,n)=>{const a=document.createDocumentFragment();return xe(e,c=>{a.appendChild(c.dom)}),Ye.fromDom(a)},k7=e=>{const n=Gb.getWin(e).dom,o=(c,g,p,S)=>m2(n,c,g,p,S),a=cP(e);return oP(n,a).match({ltr:o,rtl:o})},iA=(e,n,o)=>b7(e,n,o),uP=(e,n,o)=>{const a=$u(Ye.fromDom(o));return iA(a.dom,e,n).map(c=>{const g=o.createRange();return g.setStart(c.start.dom,c.soffset),g.setEnd(c.finish.dom,c.foffset),g}).getOrUndefined()},p2=(e,n)=>Me(e)&&Me(n)&&e.startContainer===n.startContainer&&e.startOffset===n.startOffset&&e.endContainer===n.endContainer&&e.endOffset===n.endOffset,xg=(e,n,o)=>{let a=e;for(;a&&a!==n;){if(o(a))return a;a=a.parentNode}return null},n_=(e,n,o)=>xg(e,n,o)!==null,o_=(e,n,o)=>n_(e,n,a=>a.nodeName===o),dP=(e,n)=>Gc(e)&&!n_(e,n,Rd),fP=(e,n,o)=>{const a=n.parentNode;if(a){const c=new Ma(n,e.getParent(a,e.isBlock)||e.getRoot());let g;for(;g=c[o?"prev":"next"]();)if(Ar(g))return!0}return!1},mP=(e,n)=>{var o;return((o=e.previousSibling)===null||o===void 0?void 0:o.nodeName)===n},gP=(e,n)=>{let o=n;for(;o&&o!==e;){if(To(o))return!0;o=o.parentNode}return!1},b2=(e,n,o,a,c)=>{const g=e.getRoot(),p=e.schema.getNonEmptyElements(),S=c.parentNode;let T,V;if(!S)return ee.none();const X=e.getParent(S,e.isBlock)||g;if(a&&Ar(c)&&n&&e.isEmpty(X))return ee.some(Dt(S,e.nodeIndex(c)));const Q=new Ma(c,X);for(;V=Q[a?"prev":"next"]();){if(e.getContentEditableParent(V)==="false"||dP(V,g))return ee.none();if(on(V)&&V.data.length>0)return o_(V,g,"A")?ee.none():ee.some(Dt(V,a?V.data.length:0));if(e.isBlock(V)||p[V.nodeName.toLowerCase()])return ee.none();T=V}return Wo(T)?ee.none():o&&T?ee.some(Dt(T,0)):ee.none()},aA=(e,n,o,a)=>{const c=e.getRoot();let g,p=!1,S=o?a.startContainer:a.endContainer,T=o?a.startOffset:a.endOffset;const V=Un(S)&&T===S.childNodes.length,X=e.schema.getNonEmptyElements();let Q=o;if(Gc(S))return ee.none();if(Un(S)&&T>S.childNodes.length-1&&(Q=!1),Xn(S)&&(S=c,T=0),S===c){if(Q&&(g=S.childNodes[T>0?T-1:0],g&&(Gc(g)||X[g.nodeName]||hu(g))))return ee.none();if(S.hasChildNodes()){if(T=Math.min(!Q&&T>0?T-1:T,S.childNodes.length-1),S=S.childNodes[T],T=on(S)&&V?S.data.length:0,!n&&S===c.lastChild&&hu(S)||gP(c,S)||Gc(S)||Xg(S))return ee.none();if(S.hasChildNodes()&&!hu(S)){g=S;const ae=new Ma(S,c);do{if(To(g)||Gc(g)){p=!1;break}if(on(g)&&g.data.length>0){T=Q?0:g.data.length,S=g,p=!0;break}if(X[g.nodeName.toLowerCase()]&&!X1(g)){T=e.nodeIndex(g),S=g.parentNode,Q||T++,p=!0;break}}while(g=Q?ae.next():ae.prev())}}}return n&&(on(S)&&T===0&&b2(e,V,n,!0,S).each(ae=>{S=ae.container(),T=ae.offset(),p=!0}),Un(S)&&(g=S.childNodes[T],g||(g=S.childNodes[T-1]),g&&Ar(g)&&!mP(g,"A")&&!fP(e,g,!1)&&!fP(e,g,!0)&&b2(e,V,n,!0,g).each(ae=>{S=ae.container(),T=ae.offset(),p=!0}))),Q&&!n&&on(S)&&T===S.data.length&&b2(e,V,n,!1,S).each(ae=>{S=ae.container(),T=ae.offset(),p=!0}),p&&S?ee.some(Dt(S,T)):ee.none()},Ch=(e,n)=>{const o=n.collapsed,a=n.cloneRange(),c=Dt.fromRangeStart(n);return aA(e,o,!0,a).each(g=>{(!o||!Dt.isAbove(c,g))&&a.setStart(g.container(),g.offset())}),o||aA(e,o,!1,a).each(g=>{a.setEnd(g.container(),g.offset())}),o&&a.collapse(!0),p2(n,a)?ee.none():ee.some(a)},v2=(e,n)=>e.splitText(n),y2=e=>{let n=e.startContainer,o=e.startOffset,a=e.endContainer,c=e.endOffset;if(n===a&&on(n)){if(o>0&&o<n.data.length)if(a=v2(n,o),n=a.previousSibling,c>o){c=c-o;const g=v2(a,c).previousSibling;n=a=g,c=g.data.length,o=0}else c=0}else if(on(n)&&o>0&&o<n.data.length&&(n=v2(n,o),o=0),on(a)&&c>0&&c<a.data.length){const g=v2(a,c).previousSibling;a=g,c=g.data.length}return{startContainer:n,startOffset:o,endContainer:a,endOffset:c}},qb=e=>({walk:(g,p)=>a2(e,g,p),split:y2,expand:(g,p={type:"word"})=>{if(p.type==="word"){const S=Wb(e,g,[{inline:"span"}]),T=e.createRng();return T.setStart(S.startContainer,S.startOffset),T.setEnd(S.endContainer,S.endOffset),T}return g},normalize:g=>Ch(e,g).fold(Bn,p=>(g.setStart(p.startContainer,p.startOffset),g.setEnd(p.endContainer,p.endOffset),!0))});qb.compareRanges=p2,qb.getCaretRangeFromPoint=uP,qb.getSelectedNode=Nb,qb.getNode=na;const lA=((e,n)=>{const o=(S,T)=>{if(!I(T)&&!T.match(/^[0-9]+$/))throw new Error(e+".set accepts only positive integer values. Value was "+T);const V=S.dom;Ya(V)&&(V.style[e]=T+"px")},a=S=>{const T=n(S);if(T<=0||T===null){const V=$r(S,e);return parseFloat(V)||0}return T},c=a,g=(S,T)=>pn(T,(V,X)=>{const Q=$r(S,X),ae=Q===void 0?0:parseInt(Q,10);return isNaN(ae)?V:V+ae},0);return{set:o,get:a,getOuter:c,aggregate:g,max:(S,T,V)=>{const X=g(S,V);return T>X?T-X:0}}})("height",e=>{const n=e.dom;return Pa(e)?n.getBoundingClientRect().height:n.offsetHeight}),H0=e=>lA.get(e),hP=()=>Ye.fromDom(document),pP=(e,n)=>e.view(n).fold(mt([]),a=>{const c=e.owner(a),g=pP(e,c);return[a].concat(g)}),s_=(e,n)=>{const o=n.owner(e);return pP(n,o)};var A7=Object.freeze({__proto__:null,view:e=>{var n;return(e.dom===document?ee.none():ee.from((n=e.dom.defaultView)===null||n===void 0?void 0:n.frameElement)).map(Ye.fromDom)},owner:e=>Sc(e)});const bP=e=>{const n=hP(),o=ko(n),a=s_(e,A7),c=Mo(e),g=wt(a,(p,S)=>{const T=Mo(S);return{left:p.left+T.left,top:p.top+T.top}},{left:0,top:0});return We(g.left+c.left+o.left,g.top+c.top+o.top)},$p=e=>hs(e)==="textarea",vP=(e,n)=>e.dispatch("ScrollIntoView",n).isDefaultPrevented(),yP=(e,n)=>{e.dispatch("AfterScrollIntoView",n)},xP=(e,n)=>{const o=ga(e);if(o.length===0||$p(e))return{element:e,offset:n};if(n<o.length&&!$p(o[n]))return{element:o[n],offset:0};{const a=o[o.length-1];return $p(a)?{element:e,offset:n}:hs(a)==="img"?{element:a,offset:1}:Cr(a)?{element:a,offset:ch(a).length}:{element:a,offset:ga(a).length}}},x2=(e,n)=>{const o=lo(e),a=H0(e);return{element:e,bottom:o.top+a,height:a,pos:o,cleanup:n}},wP=(e,n)=>{const o=xP(e,n),a=Ye.fromHtml('<span data-mce-bogus="all" style="display: inline-block;">'+ta+"</span>");return Dr(o.element,a),x2(a,()=>Hs(a))},CP=e=>x2(Ye.fromDom(e),it),SP=(e,n,o,a)=>{kP(e,(c,g)=>_P(e,n,o,a),o)},w2=(e,n,o,a,c)=>{const g={elm:a.element.dom,alignToTop:c};if(vP(e,g))return;const p=ko(n).top;o(e,n,p,a,c),yP(e,g)},_P=(e,n,o,a)=>{const c=Ye.fromDom(e.getBody()),g=Ye.fromDom(e.getDoc());ip(c);const p=wP(Ye.fromDom(o.startContainer),o.startOffset);w2(e,g,n,p,a),p.cleanup()},r_=(e,n,o,a)=>{const c=Ye.fromDom(e.getDoc());w2(e,c,o,CP(n),a)},kP=(e,n,o)=>{const a=o.startContainer,c=o.startOffset,g=o.endContainer,p=o.endOffset;n(Ye.fromDom(a),Ye.fromDom(g));const S=e.dom.createRng();S.setStart(a,c),S.setEnd(g,p),e.selection.setRng(o)},C2=(e,n,o,a,c)=>{const g=n.pos;if(a)jn(g.left,g.top,c);else{const p=g.top-o+n.height;jn(-e.getBody().getBoundingClientRect().left,p,c)}},cA=(e,n,o,a,c,g)=>{const p=a+o,S=c.pos.top,T=c.bottom,V=T-S>=a;S<o?C2(e,c,a,g!==!1,n):S>p?C2(e,c,a,V?g!==!1:g===!0,n):T>p&&!V&&C2(e,c,a,g===!0,n)},S2=(e,n,o,a,c)=>{const g=$u(n).dom.innerHeight;cA(e,n,o,g,a,c)},Sh=(e,n,o,a,c)=>{const g=$u(n).dom.innerHeight;cA(e,n,o,g,a,c);const p=bP(a.element),S=Hc(window);p.top<S.y?Is(a.element,c!==!1):p.top>S.bottom&&Is(a.element,c===!0)},O7=(e,n,o)=>SP(e,S2,n,o),uA=(e,n,o)=>r_(e,n,S2,o),qi=(e,n,o)=>SP(e,Sh,n,o),dA=(e,n,o)=>r_(e,n,Sh,o),fA=(e,n,o)=>{(e.inline?uA:dA)(e,n,o)},Sf=(e,n,o)=>{(e.inline?O7:qi)(e,n,o)},mA=(e,n=!1)=>e.dom.focus({preventScroll:n}),gA=e=>{const n=mu(e).dom;return e.dom===n.activeElement},U0=(e=hP())=>ee.from(e.dom.activeElement).map(Ye.fromDom),R7=e=>U0(mu(e)).filter(n=>e.dom.contains(n.dom)),EP=(e,n)=>{const o=Cr(n)?ch(n).length:ga(n).length+1;return e>o?o:e<0?0:e},Wy=e=>Gb.range(e.start,EP(e.soffset,e.start),e.finish,EP(e.foffset,e.finish)),TP=(e,n)=>!uf(n.dom)&&(ma(e,n)||us(e,n)),Yb=e=>n=>TP(e,n.start)&&TP(e,n.finish),I7=e=>e.inline||os.browser.isFirefox(),Xb=e=>Gb.range(Ye.fromDom(e.startContainer),e.startOffset,Ye.fromDom(e.endContainer),e.endOffset),D7=e=>{const n=e.getSelection();return(!n||n.rangeCount===0?ee.none():ee.from(n.getRangeAt(0))).map(Xb)},_f=e=>{const n=$u(e);return D7(n.dom).filter(Yb(e))},_2=(e,n)=>ee.from(n).filter(Yb(e)).map(Wy),hA=e=>{const n=document.createRange();try{return n.setStart(e.start.dom,e.soffset),n.setEnd(e.finish.dom,e.foffset),ee.some(n)}catch{return ee.none()}},Ky=e=>{const n=I7(e)?_f(Ye.fromDom(e.getBody())):ee.none();e.bookmark=n.isSome()?n:e.bookmark},pA=e=>(e.bookmark?e.bookmark:ee.none()).bind(o=>_2(Ye.fromDom(e.getBody()),o)).bind(hA),i_=e=>{pA(e).each(n=>e.selection.setRng(n))},kf={isEditorUIElement:e=>{const n=e.className.toString();return n.indexOf("tox-")!==-1||n.indexOf("mce-")!==-1}},a_=(e,n)=>(I(n)||(n=0),setTimeout(e,n)),AP=(e,n)=>(I(n)||(n=0),setInterval(e,n)),ad={setEditorTimeout:(e,n,o)=>a_(()=>{e.removed||n()},o),setEditorInterval:(e,n,o)=>{const a=AP(()=>{e.removed?clearInterval(a):n()},o);return a}},bA=e=>e.type==="nodechange"&&e.selectionChange,W0=(e,n)=>{const o=()=>{n.throttle()};br.DOM.bind(document,"mouseup",o),e.on("remove",()=>{br.DOM.unbind(document,"mouseup",o)})},vA=(e,n)=>{e.on("mouseup touchend",o=>{n.throttle()})},OP=(e,n)=>{vA(e,n),e.on("keyup NodeChange AfterSetSelectionRange",o=>{bA(o)||Ky(e)})},P7=e=>{const n=kp(()=>{Ky(e)},0);e.on("init",()=>{e.inline&&W0(e,n),OP(e,n)}),e.on("remove",()=>{n.cancel()})};let _h;const yA=br.DOM,RP=e=>Un(e)&&kf.isEditorUIElement(e),k2=e=>{const n=e.classList;return n!==void 0?n.contains("tox-edit-area")||n.contains("tox-edit-area__iframe")||n.contains("mce-content-body"):!1},l_=(e,n)=>{const o=zI(e);return yA.getParent(n,c=>RP(c)||(o?e.dom.is(c,o):!1))!==null},c_=e=>{try{const n=mu(Ye.fromDom(e.getElement()));return U0(n).fold(()=>document.body,o=>o.dom)}catch{return document.body}},IP=(e,n)=>{const o=n.editor;P7(o);const a=(c,g)=>{if(XI(c)&&c.inline!==!0){const p=Ye.fromDom(c.getContainer());g(p,"tox-edit-focus")}};o.on("focusin",()=>{const c=e.focusedEditor;k2(c_(o))&&a(o,uu),c!==o&&(c&&c.dispatch("blur",{focusedEditor:o}),e.setActive(o),e.focusedEditor=o,o.dispatch("focus",{blurredEditor:c}),o.focus(!0))}),o.on("focusout",()=>{ad.setEditorTimeout(o,()=>{const c=e.focusedEditor;(!k2(c_(o))||c!==o)&&a(o,Da),!l_(o,c_(o))&&c===o&&(o.dispatch("blur",{focusedEditor:null}),e.focusedEditor=null)})}),_h||(_h=c=>{const g=e.activeEditor;g&&Gm(c).each(p=>{const S=p;S.ownerDocument===document&&S!==document.body&&!l_(g,S)&&e.focusedEditor===g&&(g.dispatch("blur",{focusedEditor:null}),e.focusedEditor=null)})},yA.bind(document,"focusin",_h))},N7=(e,n)=>{e.focusedEditor===n.editor&&(e.focusedEditor=null),!e.activeEditor&&_h&&(yA.unbind(document,"focusin",_h),_h=null)},M7=e=>{e.on("AddEditor",at(IP,e)),e.on("RemoveEditor",at(N7,e))},L7=(e,n)=>e.dom.getParent(n,o=>e.dom.getContentEditable(o)==="true"),B7=(e,n)=>e.dom.getParent(n,o=>e.dom.getContentEditable(o)==="false")!==null,F7=e=>e.collapsed?ee.from(na(e.startContainer,e.startOffset)).map(Ye.fromDom):ee.none(),$7=(e,n)=>F7(n).bind(o=>Ap(o)?ee.some(o):ma(e,o)?ee.none():ee.some(e)),DP=(e,n)=>{$7(Ye.fromDom(e.getBody()),n).bind(o=>yo(o.dom)).fold(()=>{e.selection.normalize()},o=>e.selection.setRng(o.toRange()))},u_=e=>{if(e.setActive)try{e.setActive()}catch{e.focus()}else e.focus()},V7=e=>gA(e)||R7(e).isSome(),z7=e=>Me(e.iframeElement)&&gA(Ye.fromDom(e.iframeElement)),H7=e=>{const n=e.getBody();return n&&V7(Ye.fromDom(n))},PP=e=>{const n=mu(Ye.fromDom(e.getElement()));return U0(n).filter(o=>!k2(o.dom)&&l_(e,o.dom)).isSome()},jy=e=>e.inline?H7(e):z7(e),K0=e=>jy(e)||PP(e),U7=e=>{const n=e.selection,o=e.getBody();let a=n.getRng();e.quirks.refreshContentEditable();const c=p=>{pA(p).each(S=>{p.selection.setRng(S),a=S})};!jy(e)&&e.hasEditableRoot()&&c(e);const g=L7(e,n.getNode());if(g&&e.dom.isChildOf(g,o)){B7(e,g)||u_(o),u_(g),e.hasEditableRoot()||c(e),DP(e,a),xA(e);return}e.inline||(os.browser.isOpera()||u_(o),e.getWin().focus()),(os.browser.isFirefox()||e.inline)&&(u_(o),DP(e,a)),xA(e)},xA=e=>e.editorManager.setActive(e),NP=(e,n)=>{e.removed||(n?xA(e):U7(e))},MP=(e,n)=>n.collapsed?e.isEditable(n.startContainer):e.isEditable(n.startContainer)&&e.isEditable(n.endContainer),LP=(e,n,o,a,c)=>{const g=o?n.startContainer:n.endContainer,p=o?n.startOffset:n.endOffset;return ee.from(g).map(Ye.fromDom).map(S=>!a||!n.collapsed?zu(S,c(S,p)).getOr(S):S).bind(S=>Qr(S)?ee.some(S):Qi(S).filter(Qr)).map(S=>S.dom).getOr(e)},BP=(e,n,o=!1)=>LP(e,n,!0,o,(a,c)=>Math.min(bd(a),c)),FP=(e,n,o=!1)=>LP(e,n,!1,o,(a,c)=>c>0?c-1:c),$P=(e,n)=>{const o=e;for(;e&&on(e)&&e.length===0;)e=n?e.nextSibling:e.previousSibling;return e||o},W7=(e,n)=>{if(!n)return e;let o=n.startContainer,a=n.endContainer;const c=n.startOffset,g=n.endOffset;let p=n.commonAncestorContainer;n.collapsed||(o===a&&g-c<2&&o.hasChildNodes()&&(p=o.childNodes[c]),on(o)&&on(a)&&(o.length===c?o=$P(o.nextSibling,!0):o=o.parentNode,g===0?a=$P(a.previousSibling,!1):a=a.parentNode,o&&o===a&&(p=o)));const S=on(p)?p.parentNode:p;return Uc(S)?S:e},wA=(e,n,o,a)=>{const c=[],g=e.getRoot(),p=e.getParent(o||BP(g,n,n.collapsed),e.isBlock),S=e.getParent(a||FP(g,n,n.collapsed),e.isBlock);if(p&&p!==g&&c.push(p),p&&S&&p!==S){let T;const V=new Ma(p,g);for(;(T=V.next())&&T!==S;)e.isBlock(T)&&c.push(T)}return S&&p!==S&&S!==g&&c.push(S),c},E2=(e,n,o)=>ee.from(n).bind(a=>ee.from(a.parentNode).map(c=>{const g=e.nodeIndex(a),p=e.createRng();return p.setStart(c,g),p.setEnd(c,g+1),o&&(t2(e,p,a,!0),t2(e,p,a,!1)),p})),d_=(e,n)=>Ke(n,o=>{const a=e.dispatch("GetSelectionRange",{range:o});return a.range!==o?a.range:o}),K7={"#text":3,"#comment":8,"#cdata":4,"#pi":7,"#doctype":10,"#document-fragment":11},j0=(e,n,o)=>{const a=o?"lastChild":"firstChild",c=o?"prev":"next";if(e[a])return e[a];if(e!==n){let g=e[c];if(g)return g;for(let p=e.parent;p&&p!==n;p=p.parent)if(g=p[c],g)return g}},VP=e=>{var n;const o=(n=e.value)!==null&&n!==void 0?n:"";if(!cc(o))return!1;const a=e.parent;return!(a&&(a.name!=="span"||a.attr("style"))&&/^[ ]+$/.test(o))},va=e=>{const n=e.name==="a"&&!e.attr("href")&&e.attr("id");return e.attr("name")||e.attr("id")&&!e.firstChild||e.attr("data-mce-bookmark")||n};class Sl{static create(n,o){const a=new Sl(n,K7[n]||1);return o&&qo(o,(c,g)=>{a.attr(g,c)}),a}constructor(n,o){this.name=n,this.type=o,o===1&&(this.attributes=[],this.attributes.map={})}replace(n){const o=this;return n.parent&&n.remove(),o.insert(n,o),o.remove(),o}attr(n,o){const a=this;if(!he(n))return Me(n)&&qo(n,(g,p)=>{a.attr(p,g)}),a;const c=a.attributes;if(c){if(o!==void 0){if(o===null){if(n in c.map){delete c.map[n];let g=c.length;for(;g--;)if(c[g].name===n)return c.splice(g,1),a}return a}if(n in c.map){let g=c.length;for(;g--;)if(c[g].name===n){c[g].value=o;break}}else c.push({name:n,value:o});return c.map[n]=o,a}return c.map[n]}}clone(){const n=this,o=new Sl(n.name,n.type),a=n.attributes;if(a){const c=[];c.map={};for(let g=0,p=a.length;g<p;g++){const S=a[g];S.name!=="id"&&(c[c.length]={name:S.name,value:S.value},c.map[S.name]=S.value)}o.attributes=c}return o.value=n.value,o}wrap(n){const o=this;return o.parent&&(o.parent.insert(n,o),n.append(o)),o}unwrap(){const n=this;for(let o=n.firstChild;o;){const a=o.next;n.insert(o,n,!0),o=a}n.remove()}remove(){const n=this,o=n.parent,a=n.next,c=n.prev;return o&&(o.firstChild===n?(o.firstChild=a,a&&(a.prev=null)):c&&(c.next=a),o.lastChild===n?(o.lastChild=c,c&&(c.next=null)):a&&(a.prev=c),n.parent=n.next=n.prev=null),n}append(n){const o=this;n.parent&&n.remove();const a=o.lastChild;return a?(a.next=n,n.prev=a,o.lastChild=n):o.lastChild=o.firstChild=n,n.parent=o,n}insert(n,o,a){n.parent&&n.remove();const c=o.parent||this;return a?(o===c.firstChild?c.firstChild=n:o.prev&&(o.prev.next=n),n.prev=o.prev,n.next=o,o.prev=n):(o===c.lastChild?c.lastChild=n:o.next&&(o.next.prev=n),n.next=o.next,n.prev=o,o.next=n),n.parent=c,n}getAll(n){const o=this,a=[];for(let c=o.firstChild;c;c=j0(c,o))c.name===n&&a.push(c);return a}children(){const n=this,o=[];for(let a=n.firstChild;a;a=a.next)o.push(a);return o}empty(){const n=this;if(n.firstChild){const o=[];for(let c=n.firstChild;c;c=j0(c,n))o.push(c);let a=o.length;for(;a--;){const c=o[a];c.parent=c.firstChild=c.lastChild=c.next=c.prev=null}}return n.firstChild=n.lastChild=null,n}isEmpty(n,o={},a){var c;const g=this;let p=g.firstChild;if(va(g))return!1;if(p)do{if(p.type===1){if(p.attr("data-mce-bogus"))continue;if(n[p.name]||va(p))return!1}if(p.type===8||p.type===3&&!VP(p)||p.type===3&&p.parent&&o[p.parent.name]&&cc((c=p.value)!==null&&c!==void 0?c:"")||a&&a(p))return!1}while(p=j0(p,g));return!0}walk(n){return j0(this,null,n)}}const zP=dn.makeMap("NOSCRIPT STYLE SCRIPT XMP IFRAME NOEMBED NOFRAMES PLAINTEXT"," "),f_=e=>he(e.nodeValue)&&e.nodeValue.includes(ta),T2=e=>`${e.length===0?"":`${Ke(e,n=>`[${n}]`).join(",")},`}[data-mce-bogus="all"]`,Jb=(e,n)=>n.querySelectorAll(T2(e)),Vp=e=>document.createTreeWalker(e,NodeFilter.SHOW_COMMENT,n=>f_(n)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP),HP=e=>document.createTreeWalker(e,NodeFilter.SHOW_TEXT,n=>{if(f_(n)){const o=n.parentNode;return o&&So(zP,o.nodeName)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}else return NodeFilter.FILTER_SKIP}),j7=e=>Vp(e).nextNode()!==null,Zy=e=>HP(e).nextNode()!==null,Gy=(e,n)=>n.querySelector(T2(e))!==null,qy=(e,n)=>{xe(Jb(e,n),o=>{const a=Ye.fromDom(o);Ia(a,"data-mce-bogus")==="all"?Hs(a):xe(e,c=>{pd(a,c)&&Yo(a,c)})})},m_=e=>{let n=e.nextNode();for(;n!==null;)n.nodeValue=null,n=e.nextNode()},CA=Ft(m_,Vp),UP=Ft(m_,HP),SA=(e,n)=>{const o=[{condition:at(Gy,n),action:at(qy,n)},{condition:j7,action:CA},{condition:Zy,action:UP}];let a=e,c=!1;return xe(o,({condition:g,action:p})=>{g(a)&&(c||(a=e.cloneNode(!0),c=!0),p(a))}),a},WP=e=>{const n=bi(e,"[data-mce-bogus]");xe(n,o=>{Ia(o,"data-mce-bogus")==="all"?Hs(o):vf(o)?(Dr(o,Ye.fromText(Gr)),Hs(o)):ha(o)})},KP=e=>{const n=bi(e,"input");xe(n,o=>{Yo(o,"name")})},jP=(e,n)=>{const o=Ql(e),a=new RegExp(`^(<${o}[^>]*>(&nbsp;|&#160;|\\s||<br \\/>|)<\\/${o}>[\r
]*|<br \\/>[\r
]*)$`);return n.replace(a,"")},ZP=(e,n)=>{const o=e.getDoc(),a=mu(Ye.fromDom(e.getBody())),c=Ye.fromTag("div",o);Ei(c,"data-mce-bogus","all"),ds(c,{position:"fixed",left:"-9999999px",top:"0"}),gu(c,n.innerHTML),WP(c),KP(c);const g=Cb(a);Vr(g,c);const p=gc(c.dom.innerText);return Hs(c),p},A2=(e,n,o)=>{let a;return n.format==="raw"?a=dn.trim(gc(SA(o,e.serializer.getTempAttrs()).innerHTML)):n.format==="text"?a=ZP(e,o):n.format==="tree"?a=e.serializer.serialize(o,n):a=jP(e,e.serializer.serialize(o,n)),n.format!=="text"&&!h0(Ye.fromDom(o))&&he(a)?dn.trim(a):a},GP=(e,n)=>ee.from(e.getBody()).fold(mt(n.format==="tree"?new Sl("body",11):""),o=>A2(e,n,o)),_A=dn.makeMap,kA=e=>{const n=[];e=e||{};const o=e.indent,a=_A(e.indent_before||""),c=_A(e.indent_after||""),g=pp.getEncodeFunc(e.entity_encoding||"raw",e.entities),p=e.element_format!=="xhtml";return{start:(S,T,V)=>{if(o&&a[S]&&n.length>0){const X=n[n.length-1];X.length>0&&X!==`
`&&n.push(`
`)}if(n.push("<",S),T)for(let X=0,Q=T.length;X<Q;X++){const ae=T[X];n.push(" ",ae.name,'="',g(ae.value,!0),'"')}if(!V||p?n[n.length]=">":n[n.length]=" />",V&&o&&c[S]&&n.length>0){const X=n[n.length-1];X.length>0&&X!==`
`&&n.push(`
`)}},end:S=>{let T;n.push("</",S,">"),o&&c[S]&&n.length>0&&(T=n[n.length-1],T.length>0&&T!==`
`&&n.push(`
`))},text:(S,T)=>{S.length>0&&(n[n.length]=T?S:g(S))},cdata:S=>{n.push("<![CDATA[",S,"]]>")},comment:S=>{n.push("<!--",S,"-->")},pi:(S,T)=>{T?n.push("<?",S," ",g(T),"?>"):n.push("<?",S,"?>"),o&&n.push(`
`)},doctype:S=>{n.push("<!DOCTYPE",S,">",o?`
`:"")},reset:()=>{n.length=0},getContent:()=>n.join("").replace(/\n$/,"")}},zp=(e={},n=Ju())=>{const o=kA(e);return e.validate="validate"in e?e.validate:!0,{serialize:c=>{const g=e.validate,p={3:T=>{var V;o.text((V=T.value)!==null&&V!==void 0?V:"",T.raw)},8:T=>{var V;o.comment((V=T.value)!==null&&V!==void 0?V:"")},7:T=>{o.pi(T.name,T.value)},10:T=>{var V;o.doctype((V=T.value)!==null&&V!==void 0?V:"")},4:T=>{var V;o.cdata((V=T.value)!==null&&V!==void 0?V:"")},11:T=>{let V=T;if(V=V.firstChild)do S(V);while(V=V.next)}};o.reset();const S=T=>{var V;const X=p[T.type];if(X)X(T);else{const Q=T.name,ae=Q in n.getVoidElements();let we=T.attributes;if(g&&we&&we.length>1){const De=[];De.map={};const _e=n.getElementRule(T.name);if(_e){for(let $e=0,nt=_e.attributesOrder.length;$e<nt;$e++){const ft=_e.attributesOrder[$e];if(ft in we.map){const ct=we.map[ft];De.map[ft]=ct,De.push({name:ft,value:ct})}}for(let $e=0,nt=we.length;$e<nt;$e++){const ft=we[$e].name;if(!(ft in De.map)){const ct=we.map[ft];De.map[ft]=ct,De.push({name:ft,value:ct})}}we=De}}if(o.start(Q,we,ae),cm(Q))he(T.value)&&o.text(T.value,!0),o.end(Q);else if(!ae){let De=T.firstChild;if(De){(Q==="pre"||Q==="textarea")&&De.type===3&&((V=De.value)===null||V===void 0?void 0:V[0])===`
`&&o.text(`
`,!0);do S(De);while(De=De.next)}o.end(Q)}}};return c.type===1&&!e.inner?S(c):c.type===3?p[3](c):p[11](c),o.getContent()}}},EA=new Set;xe(["margin","margin-left","margin-right","margin-top","margin-bottom","padding","padding-left","padding-right","padding-top","padding-bottom","border","border-width","border-style","border-color","background","background-attachment","background-clip","background-image","background-origin","background-position","background-repeat","background-size","float","position","left","right","top","bottom","z-index","display","transform","width","max-width","min-width","height","max-height","min-height","overflow","overflow-x","overflow-y","text-overflow","vertical-align","transition","transition-delay","transition-duration","transition-property","transition-timing-function"],n=>{EA.add(n)});const TA=new Set;xe(["background-color"],n=>{TA.add(n)});const AA=["font","text-decoration","text-emphasis"],qP=(e,n)=>e.parseStyle(e.getAttrib(n,"style")),Z0=(e,n)=>tn(qP(e,n)),OA=e=>EA.has(e),O2=e=>TA.has(e),RA=(e,n)=>Pe(Z0(e,n),o=>OA(o)),YP=(e,n)=>RA(e,n)&&Pe(Z0(e,n),o=>O2(o)),g_=e=>Je(e,n=>Pe(AA,o=>wr(n,o))),Z7=(e,n,o)=>{const a=Z0(e,n),c=Z0(e,o),g=p=>{var S,T;const V=(S=e.getStyle(n,p))!==null&&S!==void 0?S:"",X=(T=e.getStyle(o,p))!==null&&T!==void 0?T:"";return ut(V)&&ut(X)&&V!==X};return Pe(a,p=>{const S=T=>Pe(T,V=>V===p);if(!S(c)&&S(AA)){const T=g_(c);return Pe(T,g)}else return g(p)})},XP=(e,n,o)=>ee.from(o.container()).filter(on).exists(a=>{const c=e?0:-1;return n(a.data.charAt(o.offset()+c))}),Hp=at(XP,!0,B0),R2=at(XP,!1,B0),JP=e=>{const n=e.container();return on(n)&&(n.data.length===0||nd(n.data)&&mr.isBookmarkNode(n.parentNode))},_m=(e,n)=>o=>IS(e?0:-1,o).filter(n).isSome(),IA=e=>Kc(e)&&$r(Ye.fromDom(e),"display")==="block",h_=e=>To(e)&&!Sb(e),QP=_m(!0,IA),eN=_m(!1,IA),G0=_m(!0,Lt),Yy=_m(!1,Lt),tN=_m(!0,hu),Xy=_m(!1,hu),ya=_m(!0,h_),wg=_m(!1,h_),q0=e=>e.slice(0,-1),nN=(e,n,o)=>ma(n,e)?q0(Zm(e,a=>o(a)||us(a,n))):[],wu=(e,n)=>nN(e,n,Bn),ld=(e,n)=>[e].concat(wu(e,n)),p_=(e,n,o)=>_D(e,n,o,JP),oN=e=>n=>e.isBlock(hs(n)),DA=(e,n,o)=>An(ld(Ye.fromDom(n.container()),e),oN(o)),Jy=(e,n,o,a)=>p_(e,n.dom,o).forall(c=>DA(n,o,a).fold(()=>!vh(c,o,n.dom),g=>!vh(c,o,n.dom)&&ma(g,Ye.fromDom(c.container())))),b_=(e,n,o,a)=>DA(n,o,a).fold(()=>p_(e,n.dom,o).forall(c=>!vh(c,o,n.dom)),c=>p_(e,c.dom,o).isNone()),v_=at(b_,!1),sN=at(b_,!0),PA=at(Jy,!1),NA=at(Jy,!0),G7=e=>DS(e).exists(vf),Ef=(e,n,o,a)=>{const c=Je(ld(Ye.fromDom(o.container()),n),p=>a.isBlock(hs(p))),g=cn(c).getOr(n);return Od(e,g.dom,o).filter(G7)},I2=(e,n,o)=>DS(n).exists(vf)||Ef(!0,e,n,o).isSome(),Y0=(e,n,o)=>Y8(n).exists(vf)||Ef(!1,e,n,o).isSome(),y_=at(Ef,!1),rN=at(Ef,!0),MA=e=>Dt.isTextPosition(e)&&!e.isAtStart()&&!e.isAtEnd(),LA=(e,n,o)=>{const a=Je(ld(Ye.fromDom(n.container()),e),c=>o.isBlock(hs(c)));return cn(a).getOr(e)},iN=(e,n,o)=>MA(n)?R2(n):R2(n)||sd(LA(e,n,o).dom,n).exists(R2),aN=(e,n,o)=>MA(n)?Hp(n):Hp(n)||qc(LA(e,n,o).dom,n).exists(Hp),lN=e=>Se(["pre","pre-wrap"],e),x_=e=>DS(e).bind(n=>Ti(n,Qr)).exists(n=>lN($r(n,"white-space"))),BA=(e,n)=>sd(e.dom,n).isNone(),FA=(e,n)=>qc(e.dom,n).isNone(),cN=(e,n,o)=>BA(e,n)||FA(e,n)||v_(e,n,o)||sN(e,n,o)||Y0(e,n,o)||I2(e,n,o),$A=e=>Me(e)&&To(e)&&IT(e),VA=(e,n)=>o=>$A(new Ma(o,e)[n]()),uN=(e,n)=>{const o=qc(e.dom,n).getOr(n),a=VA(e.dom,"next");return n.isAtEnd()&&(a(n.container())||a(o.container()))},zA=(e,n)=>{const o=sd(e.dom,n).getOr(n),a=VA(e.dom,"prev");return n.isAtStart()&&(a(n.container())||a(o.container()))},HA=(e,n,o)=>x_(n)?!1:cN(e,n,o)||iN(e,n,o)||aN(e,n,o),Qy=(e,n,o)=>x_(n)?!1:v_(e,n,o)||PA(e,n,o)||Y0(e,n,o)||iN(e,n,o)||zA(e,n),dN=e=>{const n=e.container(),o=e.offset();return on(n)&&o<n.data.length?Dt(n,o+1):e},X0=(e,n,o)=>x_(n)?!1:sN(e,n,o)||NA(e,n,o)||I2(e,n,o)||aN(e,n,o)||uN(e,n),UA=(e,n,o)=>Qy(e,n,o)||X0(e,dN(n),o),D2=(e,n)=>ec(e.charAt(n)),WA=(e,n)=>B0(e.charAt(n)),fN=e=>{const n=e.container();return on(n)&&Vs(n.data,ea)},q7=e=>{const n=e.split("");return Ke(n,(o,a)=>ec(o)&&a>0&&a<n.length-1&&Mp(n[a-1])&&Mp(n[a+1])?" ":o).join("")},mN=(e,n,o,a)=>{const c=n.data,g=Dt(n,0);return!o&&D2(c,0)&&!UA(e,g,a)?(n.data=" "+c.slice(1),!0):o&&WA(c,0)&&Qy(e,g,a)?(n.data=ea+c.slice(1),!0):!1},gN=e=>{const n=e.data,o=q7(n);return o!==n?(e.data=o,!0):!1},hN=(e,n,o,a)=>{const c=n.data,g=Dt(n,c.length-1);return!o&&D2(c,c.length-1)&&!UA(e,g,a)?(n.data=c.slice(0,-1)+" ",!0):o&&WA(c,c.length-1)&&X0(e,g,a)?(n.data=c.slice(0,-1)+ea,!0):!1},pN=(e,n,o)=>{const a=n.container();if(!on(a))return ee.none();if(fN(n)){const c=mN(e,a,!1,o)||gN(a)||hN(e,a,!1,o);return Xf(c,n)}else if(UA(e,n,o)){const c=mN(e,a,!0,o)||hN(e,a,!0,o);return Xf(c,n)}else return ee.none()},Y7=e=>{const n=Ye.fromDom(e.getBody());e.selection.isCollapsed()&&pN(n,Dt.fromRangeStart(e.selection.getRng()),e.schema).each(o=>{e.selection.setRng(o.toRange())})},bN=(e,n,o,a)=>{if(o===0)return;const c=Ye.fromDom(e),g=qa(c,V=>a.isBlock(hs(V))).getOr(c),p=e.data.slice(n,n+o),S=n+o>=e.data.length&&X0(g,Dt(e,e.data.length),a),T=n===0&&Qy(g,Dt(e,0),a);e.replaceData(n,o,up(p,4,T,S))},w_=(e,n,o)=>{const a=e.data.slice(n),c=a.length-_t(a).length;bN(e,n,c,o)},di=(e,n,o)=>{const a=e.data.slice(0,n),c=a.length-Ct(a).length;bN(e,n-c,c,o)},P2=(e,n,o,a,c=!0)=>{const g=Ct(e.data).length,p=c?e:n,S=c?n:e;return c?p.appendData(S.data):p.insertData(0,S.data),Hs(Ye.fromDom(S)),a&&w_(p,g,o),p},X7=(e,n)=>{const o=e.container(),a=e.offset();return!Dt.isTextPosition(e)&&o===n.parentNode&&a>Dt.before(n).offset()},J7=(e,n)=>X7(n,e)?Dt(n.container(),n.offset()-1):n,ex=e=>on(e)?Dt(e,0):Dt.before(e),Qb=e=>on(e)?Dt(e,e.data.length):Dt.after(e),kh=e=>_d(e.previousSibling)?ee.some(Qb(e.previousSibling)):e.previousSibling?xf(e.previousSibling):ee.none(),KA=e=>_d(e.nextSibling)?ee.some(ex(e.nextSibling)):e.nextSibling?yo(e.nextSibling):ee.none(),vN=(e,n)=>ee.from(n.previousSibling?n.previousSibling:n.parentNode).bind(o=>sd(e,Dt.before(o))).orThunk(()=>qc(e,Dt.after(n))),yN=(e,n)=>qc(e,Dt.after(n)).orThunk(()=>sd(e,Dt.before(n))),C_=(e,n)=>kh(n).orThunk(()=>KA(n)).orThunk(()=>vN(e,n)),Q7=(e,n)=>KA(n).orThunk(()=>kh(n)).orThunk(()=>yN(e,n)),jA=(e,n,o)=>e?Q7(n,o):C_(n,o),xN=(e,n,o)=>jA(e,n,o).map(at(J7,o)),ZA=(e,n,o)=>{o.fold(()=>{e.focus()},a=>{e.selection.setRng(a.toRange(),n)})},GA=e=>n=>n.dom===e,wN=(e,n)=>n&&So(e.schema.getBlockElements(),hs(n)),qA=(e,n,o)=>{if(Nr(e,n)){const a=Ye.fromHtml('<br data-mce-bogus="1">');return o?xe(ga(n),c=>{US(c)||Hs(c)}):ir(n),Vr(n,a),ee.some(Dt.before(a.dom))}else return ee.none()},e$=(e,n,o,a)=>{const c=Mi(e).filter(Cr),g=oo(e).filter(Cr);return Hs(e),Qd(c,g,n,(p,S,T)=>{const V=p.dom,X=S.dom,Q=V.data.length;return P2(V,X,o,a),T.container()===X?Dt(V,Q):T}).orThunk(()=>(a&&(c.each(p=>di(p.dom,p.dom.length,o)),g.each(p=>w_(p.dom,0,o))),n))},t$=(e,n)=>So(e.schema.getTextInlineElements(),hs(n)),pc=(e,n,o,a=!0,c=!1)=>{const g=xN(n,e.getBody(),o.dom),p=qa(o,at(wN,e),GA(e.getBody())),S=e$(o,g,e.schema,t$(e,o));e.dom.isEmpty(e.getBody())?(e.setContent(""),e.selection.setCursorLocation()):p.bind(T=>qA(e.schema,T,c)).fold(()=>{a&&ZA(e,n,S)},T=>{a&&ZA(e,n,ee.some(T))})},CN=/[\u0591-\u07FF\uFB1D-\uFDFF\uFE70-\uFEFC]/,n$=e=>CN.test(e),J0=(e,n)=>qs(Ye.fromDom(n),Os(e))&&!bu(e.schema,n)&&e.dom.isEditable(n),N2=e=>{var n;return br.DOM.getStyle(e,"direction",!0)==="rtl"||n$((n=e.textContent)!==null&&n!==void 0?n:"")},o$=(e,n,o)=>Je(br.DOM.getParents(o.container(),"*",n),e),ev=(e,n,o)=>{const a=o$(e,n,o);return ee.from(a[a.length-1])},SN=(e,n,o)=>{const a=Vb(n,e),c=Vb(o,e);return Me(a)&&a===c},YA=e=>p0(e)||yy(e),Tf=(e,n)=>{const o=n.container(),a=n.offset();return e?dh(o)?on(o.nextSibling)?Dt(o.nextSibling,0):Dt.after(o):p0(n)?Dt(o,a+1):n:dh(o)?on(o.previousSibling)?Dt(o.previousSibling,o.previousSibling.data.length):Dt.before(o):yy(n)?Dt(o,a-1):n},_N=at(Tf,!0),tx=at(Tf,!1),XA=(e,n)=>{const o=a=>a.stopImmediatePropagation();e.on("beforeinput input",o,!0),e.getDoc().execCommand(n),e.off("beforeinput input",o)},kN=e=>{e.execCommand("delete")},S_=e=>XA(e,"Delete"),JA=e=>XA(e,"ForwardDelete"),M2=e=>n=>Xd(Qi(n),e,us),EN=e=>m0(e)||uh(e),L2=(e,n)=>ma(e,n)?Ti(n,EN,M2(e)):ee.none(),__=(e,n=!0)=>{e.dom.isEmpty(e.getBody())&&e.setContent("",{no_selection:!n})},TN=(e,n,o)=>fa(yo(o),xf(o),(a,c)=>{const g=Tf(!0,a),p=Tf(!1,c),S=Tf(!1,n);return e?qc(o,S).exists(T=>T.isEqual(p)&&n.isEqual(g)):sd(o,S).exists(T=>T.isEqual(g)&&n.isEqual(p))}).getOr(!0),km=e=>(Wm(e)?Mi(e):Hu(e)).bind(km).orThunk(()=>ee.some(e)),k_=(e,n,o,a=!0)=>{var c;n.deleteContents();const g=km(o).getOr(o),p=Ye.fromDom((c=e.dom.getParent(g.dom,e.dom.isBlock))!==null&&c!==void 0?c:o.dom);if(p.dom===e.getBody()?__(e,a):Nr(e.schema,p,{checkRootAsContent:!1})&&(td(p),a&&e.selection.setCursorLocation(p.dom,0)),!us(o,p)){const S=Xd(Qi(p),o)?[]:Kg(p);xe(S.concat(ga(o)),T=>{!us(T,p)&&!ma(T,p)&&Nr(e.schema,T)&&Hs(T)})}},s$=e=>n=>us(e,n),QA=e=>bi(e,"td,th"),Ys=(e,n)=>tr(Ye.fromDom(e),n),r$=e=>fa(e.startTable,e.endTable,(n,o)=>{const a=Uv(n,g=>us(g,o)),c=Uv(o,g=>us(g,n));return!a&&!c?e:{...e,startTable:a?ee.none():e.startTable,endTable:c?ee.none():e.endTable,isSameTable:!1,isMultiTable:!1}}).getOr(e),B2=e=>r$(e),i$=(e,n)=>{const o=Ys(e.startContainer,n),a=Ys(e.endContainer,n),c=o.isSome(),g=a.isSome(),p=fa(o,a,us).getOr(!1);return B2({startTable:o,endTable:a,isStartInTable:c,isEndInTable:g,isSameTable:p,isMultiTable:!p&&c&&g})},E_=(e,n)=>({start:e,end:n}),tv=(e,n,o)=>({rng:e,table:n,cells:o}),tc=ws.generate([{singleCellTable:["rng","cell"]},{fullTable:["table"]},{partialTable:["cells","outsideDetails"]},{multiTable:["startTableCells","endTableCells","betweenRng"]}]),nv=(e,n)=>Bi(Ye.fromDom(e),"td,th",n),Up=e=>!us(e.start,e.end),Cg=(e,n)=>tr(e.start,n).bind(o=>tr(e.end,n).bind(a=>Xf(us(o,a),o))),F2=(e,n)=>!Up(e)&&Cg(e,n).exists(o=>{const a=o.dom.rows;return a.length===1&&a[0].cells.length===1}),e3=(e,n)=>{const o=nv(e.startContainer,n),a=nv(e.endContainer,n);return fa(o,a,E_)},t3=e=>n=>tr(n,e).bind(o=>uo(QA(o)).map(a=>E_(n,a))),AN=e=>n=>tr(n,e).bind(o=>cn(QA(o)).map(a=>E_(a,n))),T_=e=>n=>Cg(n,e).map(o=>tv(n,o,QA(o))),ON=(e,n,o,a)=>{if(o.collapsed||!e.forall(Up))return ee.none();if(n.isSameTable){const c=e.bind(T_(a));return ee.some({start:c,end:c})}else{const c=nv(o.startContainer,a),g=nv(o.endContainer,a),p=c.bind(t3(a)).bind(T_(a)),S=g.bind(AN(a)).bind(T_(a));return ee.some({start:p,end:S})}},RN=(e,n)=>no(e,o=>us(o,n)),A_=e=>fa(RN(e.cells,e.rng.start),RN(e.cells,e.rng.end),(n,o)=>e.cells.slice(n,o+1)),IN=(e,n,o)=>e.exists(a=>F2(a,o)&&e2(a.start,n)),n3=(e,n)=>{const{startTable:o,endTable:a}=n,c=e.cloneRange();return o.each(g=>c.setStartAfter(g.dom)),a.each(g=>c.setEndBefore(g.dom)),c},DN=(e,n,o,a)=>ON(e,n,o,a).bind(({start:c,end:g})=>c.or(g)).bind(c=>{const{isSameTable:g}=n,p=A_(c).getOr([]);if(g&&c.cells.length===p.length)return ee.some(tc.fullTable(c.table));if(p.length>0){if(g)return ee.some(tc.partialTable(p,ee.none()));{const S=n3(o,n);return ee.some(tc.partialTable(p,ee.some({...n,rng:S})))}}else return ee.none()}),o3=(e,n,o,a)=>ON(e,n,o,a).bind(({start:c,end:g})=>{const p=c.bind(A_).getOr([]),S=g.bind(A_).getOr([]);if(p.length>0&&S.length>0){const T=n3(o,n);return ee.some(tc.multiTable(p,S,T))}else return ee.none()}),a$=(e,n)=>{const o=s$(e),a=e3(n,o),c=i$(n,o);return IN(a,n,o)?a.map(g=>tc.singleCellTable(n,g.start)):c.isMultiTable?o3(a,c,n,o):DN(a,c,n,o)},PN=e=>xe(e,n=>{Yo(n,"contenteditable"),td(n)}),l$=(e,n)=>ee.from(e.dom.getParent(n,e.dom.isBlock)).map(Ye.fromDom),Eh=(e,n,o)=>{o.each(a=>{n?Hs(a):(td(a),e.selection.setCursorLocation(a.dom,0))})},Q0=(e,n,o,a)=>{const c=o.cloneRange();a?(c.setStart(o.startContainer,o.startOffset),c.setEndAfter(n.dom.lastChild)):(c.setStartBefore(n.dom.firstChild),c.setEnd(o.endContainer,o.endOffset)),i3(e,c,n,!1).each(g=>g())},s3=e=>{const n=bg(e),o=Ye.fromDom(e.selection.getNode());Yg(o.dom)&&Nr(e.schema,o)?e.selection.setCursorLocation(o.dom,0):e.selection.collapse(!0),n.length>1&&Pe(n,a=>us(a,o))&&Ei(o,"data-mce-selected","1")},r3=(e,n,o)=>ee.some(()=>{const a=e.selection.getRng(),c=o.bind(({rng:g,isStartInTable:p})=>{const S=l$(e,p?g.endContainer:g.startContainer);g.deleteContents(),Eh(e,p,S.filter(at(Nr,e.schema)));const T=p?n[0]:n[n.length-1];return Q0(e,T,a,p),Nr(e.schema,T)?ee.none():ee.some(p?n.slice(1):n.slice(0,-1))}).getOr(n);PN(c),s3(e)}),NN=(e,n,o,a)=>ee.some(()=>{const c=e.selection.getRng(),g=n[0],p=o[o.length-1];Q0(e,g,c,!0),Q0(e,p,c,!1);const S=Nr(e.schema,g)?n:n.slice(1),T=Nr(e.schema,p)?o:o.slice(0,-1);PN(S.concat(T)),a.deleteContents(),s3(e)}),i3=(e,n,o,a=!0)=>ee.some(()=>{k_(e,n,o,a)}),ov=(e,n)=>ee.some(()=>pc(e,!1,n)),c$=(e,n,o)=>a$(n,o).bind(a=>a.fold(at(i3,e),at(ov,e),at(r3,e),at(NN,e))),u$=(e,n)=>O_(e,n),d$=(e,n,o,a)=>a3(n,a).fold(()=>c$(e,n,o),c=>u$(e,c)),f$=(e,n,o)=>{const a=Ye.fromDom(e.getBody()),c=e.selection.getRng();return o.length!==0?r3(e,o,ee.none()):d$(e,a,c,n)},MN=(e,n)=>An(ld(n,e),ed),a3=(e,n)=>An(ld(n,e),tf("caption")),m$=(e,n,o,a,c)=>M0(o,e.getBody(),c).bind(g=>MN(n,Ye.fromDom(g.getNode())).bind(p=>us(p,a)?ee.none():ee.some(it))),O_=(e,n)=>ee.some(()=>{td(n),e.selection.setCursorLocation(n.dom,0)}),g$=(e,n,o,a)=>yo(e.dom).bind(c=>xf(e.dom).map(g=>n?o.isEqual(c)&&a.isEqual(g):o.isEqual(g)&&a.isEqual(c))).getOr(!0),R_=(e,n)=>O_(e,n),h$=(e,n,o)=>a3(e,Ye.fromDom(o.getNode())).fold(()=>ee.some(it),a=>Xf(!us(a,n),it)),$2=(e,n,o,a,c)=>M0(o,e.getBody(),c).fold(()=>ee.some(it),g=>g$(a,o,c,g)?R_(e,a):h$(n,a,g)),l3=(e,n,o,a)=>{const c=Dt.fromRangeStart(e.selection.getRng());return MN(o,a).bind(g=>Nr(e.schema,g,{checkRootAsContent:!1})?O_(e,g):m$(e,o,n,g,c))},e1=(e,n,o,a)=>{const c=Dt.fromRangeStart(e.selection.getRng());return Nr(e.schema,a)?O_(e,a):$2(e,o,n,a,c)},sv=(e,n)=>e?tN(n):Xy(n),I_=(e,n)=>{const o=Dt.fromRangeStart(e.selection.getRng());return sv(n,o)||Od(n,e.getBody(),o).exists(a=>sv(n,a))},D_=(e,n,o)=>{const a=Ye.fromDom(e.getBody());return a3(a,o).fold(()=>l3(e,n,a,o).orThunk(()=>Xf(I_(e,n),it)),c=>e1(e,n,a,c))},Wp=(e,n)=>{const o=Ye.fromDom(e.selection.getStart(!0)),a=bg(e);return e.selection.isCollapsed()&&a.length===0?D_(e,n,o):f$(e,o,a)},Af=(e,n)=>{let o=n;for(;o&&o!==e;){if(jc(o)||To(o))return o;o=o.parentNode}return null},P_=["data-ephox-","data-mce-","data-alloy-","data-snooker-","_"],N_=dn.each,M_=e=>{const n=e.dom,o=new Set(e.serializer.getTempAttrs()),a=(g,p)=>{if(g.nodeName!==p.nodeName||g.nodeType!==p.nodeType)return!1;const S=V=>{const X={};return N_(n.getAttribs(V),Q=>{const ae=Q.nodeName.toLowerCase();ae!=="style"&&!c(ae)&&(X[ae]=n.getAttrib(V,ae))}),X},T=(V,X)=>{for(const Q in V)if(So(V,Q)){const ae=X[Q];if(et(ae)||V[Q]!==ae)return!1;delete X[Q]}for(const Q in X)if(So(X,Q))return!1;return!0};return Un(g)&&Un(p)&&(!T(S(g),S(p))||!T(n.parseStyle(n.getAttrib(g,"style")),n.parseStyle(n.getAttrib(p,"style"))))?!1:!Id(g)&&!Id(p)},c=g=>Pe(P_,p=>wr(g,p))||o.has(g);return{compare:a,isAttributeInternal:c}},L_=e=>["h1","h2","h3","h4","h5","h6"].includes(e.name),c3=e=>e.name==="summary",LN=(e,n)=>{let o=e;for(;o=o.walk();)n(o)},u3=(e,n,o,a)=>{const c=o.name;for(let g=0,p=e.length;g<p;g++){const S=e[g];if(S.name===c){const T=a.nodes[c];T?T.nodes.push(o):a.nodes[c]={filter:S,nodes:[o]}}}if(o.attributes)for(let g=0,p=n.length;g<p;g++){const S=n[g],T=S.name;if(T in o.attributes.map){const V=a.attributes[T];V?V.nodes.push(o):a.attributes[T]={filter:S,nodes:[o]}}}},nx=(e,n,o)=>{const a={nodes:{},attributes:{}};return o.firstChild&&LN(o,c=>{u3(e,n,c,a)}),a},d3=(e,n)=>{const o=(a,c)=>{qo(a,g=>{const p=$o(g.nodes);xe(g.filter.callbacks,S=>{for(let T=p.length-1;T>=0;T--){const V=p[T];(!(c?V.attr(g.filter.name)!==void 0:V.name===g.filter.name)||dt(V.parent))&&p.splice(T,1)}p.length>0&&S(p,g.filter.name,n)})})};o(e.nodes,!1),o(e.attributes,!0)},f3=(e,n,o,a={})=>{const c=nx(e,n,o);d3(c,a)},B_=(e,n,o,a)=>{if((e.pad_empty_with_br||n.insert)&&o(a)){const g=new Sl("br",1);n.insert&&g.attr("data-mce-bogus","1"),a.empty().append(g)}else a.empty().append(new Sl("#text",3)).value=ea},F_=e=>{var n;return m3(e,"#text")&&((n=e==null?void 0:e.firstChild)===null||n===void 0?void 0:n.value)===ea},m3=(e,n)=>{const o=e==null?void 0:e.firstChild;return Me(o)&&o===e.lastChild&&o.name===n},BN=(e,n)=>{const o=e.getElementRule(n.name);return(o==null?void 0:o.paddEmpty)===!0},ox=(e,n,o,a)=>a.isEmpty(n,o,c=>BN(e,c)),FN=(e,n)=>Me(e)&&(n(e)||e.name==="br"),Kp=e=>{let n;for(let o=e;o;o=o.parent){const a=o.attr("contenteditable");if(a==="false")break;a==="true"&&(n=o)}return ee.from(n)},Th=(e,n,o=e.parent)=>{if(n.getSpecialElements()[e.name])e.empty().remove();else{const a=e.children();for(const c of a)o&&!n.isValidChild(o.name,c.name)&&Th(c,n,o);e.unwrap()}},Pd=(e,n,o,a=it)=>{const c=n.getTextBlockElements(),g=n.getNonEmptyElements(),p=n.getWhitespaceElements(),S=dn.makeMap("tr,td,th,tbody,thead,tfoot,table,summary"),T=new Set,V=X=>X!==o&&!S[X.name];for(let X=0;X<e.length;X++){const Q=e[X];let ae,we,De;if(!Q.parent||T.has(Q))continue;if(c[Q.name]&&Q.parent.name==="li"){let $e=Q.next;for(;$e&&c[$e.name];){$e.name="li",T.add($e),Q.parent.insert($e,Q.parent);$e=$e.next}Q.unwrap();continue}const _e=[Q];for(ae=Q.parent;ae&&!n.isValidChild(ae.name,Q.name)&&V(ae);ae=ae.parent)_e.push(ae);if(ae&&_e.length>1)if(V2(n,Q,ae))Th(Q,n);else{_e.reverse(),we=_e[0].clone(),a(we);let $e=we;for(let nt=0;nt<_e.length-1;nt++){n.isValidChild($e.name,_e[nt].name)&&nt>0?(De=_e[nt].clone(),a(De),$e.append(De)):De=$e;for(let ft=_e[nt].firstChild;ft&&ft!==_e[nt+1];){const ct=ft.next;De.append(ft),ft=ct}$e=De}ox(n,g,p,we)?ae.insert(Q,_e[0],!0):(ae.insert(we,_e[0],!0),ae.insert(Q,we)),ae=_e[0],(ox(n,g,p,ae)||m3(ae,"br"))&&ae.empty().remove()}else if(Q.parent){if(Q.name==="li"){let $e=Q.prev;if($e&&($e.name==="ul"||$e.name==="ol")){$e.append(Q);continue}if($e=Q.next,$e&&($e.name==="ul"||$e.name==="ol")&&$e.firstChild){$e.insert(Q,$e.firstChild,!0);continue}const nt=new Sl("ul",1);a(nt),Q.wrap(nt);continue}if(n.isValidChild(Q.parent.name,"div")&&n.isValidChild("div",Q.name)){const $e=new Sl("div",1);a($e),Q.wrap($e)}else Th(Q,n)}}},g3=(e,n)=>{let o=e;for(;o;){if(o.name===n)return!0;o=o.parent}return!1},V2=(e,n,o=n.parent)=>o?e.children[n.name]&&!e.isValidChild(o.name,n.name)||n.name==="a"&&g3(o,"a")?!0:c3(o)&&L_(n)?!((o==null?void 0:o.firstChild)===n&&(o==null?void 0:o.lastChild)===n):!1:!1,$N=(e,n,o,a)=>{const c=document.createRange();return c.setStart(e,n),c.setEnd(o,a),c},VN=e=>{const n=Dt.fromRangeStart(e),o=Dt.fromRangeEnd(e),a=e.commonAncestorContainer;return Od(!1,a,o).map(c=>!vh(n,o,a)&&vh(n,c,a)?$N(n.container(),n.offset(),c.container(),c.offset()):e).getOr(e)},$_=e=>e.collapsed?e:VN(e),h3=e=>Me(e.firstChild)&&e.firstChild===e.lastChild,zN=e=>e.name==="br"||e.value===ea,HN=(e,n)=>e.getBlockElements()[n.name]&&h3(n)&&zN(n.firstChild),p3=(e,n)=>{const o=e.getNonEmptyElements();return Me(n)&&(n.isEmpty(o)||HN(e,n))},Ah=(e,n)=>{let o=n.firstChild,a=n.lastChild;return o&&o.name==="meta"&&(o=o.next),a&&a.attr("id")==="mce_marker"&&(a=a.prev),p3(e,a)&&(a=a==null?void 0:a.prev),!o||o!==a?!1:o.name==="ul"||o.name==="ol"},Em=e=>{var n,o;const a=e.firstChild,c=e.lastChild;return a&&a.nodeName==="META"&&((n=a.parentNode)===null||n===void 0||n.removeChild(a)),c&&c.id==="mce_marker"&&((o=c.parentNode)===null||o===void 0||o.removeChild(c)),e},V_=(e,n,o)=>{const a=n.serialize(o),c=e.createFragment(a);return Em(c)},UN=e=>{var n;return Je((n=e==null?void 0:e.childNodes)!==null&&n!==void 0?n:[],o=>o.nodeName==="LI")},z_=e=>e.data===ea||Ar(e),WN=e=>Me(e==null?void 0:e.firstChild)&&e.firstChild===e.lastChild&&z_(e.firstChild),KN=e=>!e.firstChild||WN(e),jN=e=>e.length>0&&KN(e[e.length-1])?e.slice(0,-1):e,H_=(e,n)=>{const o=e.getParent(n,e.isBlock);return o&&o.nodeName==="LI"?o:null},ZN=(e,n)=>!!H_(e,n),GN=(e,n)=>{const o=n.cloneRange(),a=n.cloneRange();return o.setStartBefore(e),a.setEndAfter(e),[o.cloneContents(),a.cloneContents()]},U_=(e,n)=>{const o=Dt.before(e),c=go(n).next(o);return c?c.toRange():null},W_=(e,n)=>{const o=Dt.after(e),c=go(n).prev(o);return c?c.toRange():null},qN=(e,n,o,a)=>{const c=GN(e,a),g=e.parentNode;return g&&(g.insertBefore(c[0],e),dn.each(n,p=>{g.insertBefore(p,e)}),g.insertBefore(c[1],e),g.removeChild(e)),W_(n[n.length-1],o)},b3=(e,n,o)=>{const a=e.parentNode;return a&&dn.each(n,c=>{a.insertBefore(c,e)}),U_(e,o)},p$=(e,n,o,a)=>(a.insertAfter(n.reverse(),e),W_(n[0],o)),b$=(e,n,o,a)=>{const c=V_(n,e,a),g=H_(n,o.startContainer),p=jN(UN(c.firstChild)),S=1,T=2,V=n.getRoot(),X=Q=>{const ae=Dt.fromRangeStart(o),we=go(n.getRoot()),De=Q===S?we.prev(ae):we.next(ae),_e=De==null?void 0:De.getNode();return _e?H_(n,_e)!==g:!0};return g?X(S)?b3(g,p,V):X(T)?p$(g,p,V,n):qN(g,p,V,o):null},v$=["pre"],y$=(e,n,o,a)=>{var c;const g=n.firstChild,p=n.lastChild,S=p.attr("data-mce-type")==="bookmark"?p.prev:p,T=g===S,V=Se(v$,g.name);if(T&&V){const X=g.attr("contenteditable")!=="false",Q=((c=e.getParent(o,e.isBlock))===null||c===void 0?void 0:c.nodeName.toLowerCase())===g.name,ae=ee.from(Af(a,o)).forall(jc);return X&&Q&&ae}else return!1},v3=Yg,x$=(e,n,o)=>{if(Me(o)){const a=e.getParent(n.endContainer,v3);return o===a&&e2(Ye.fromDom(o),n)}else return!1},K_=(e,n,o)=>{var a;if(o.getAttribute("data-mce-bogus")==="all")(a=o.parentNode)===null||a===void 0||a.insertBefore(e.dom.createFragment(n),o);else{const c=o.firstChild,g=o.lastChild;!c||c===g&&c.nodeName==="BR"?e.dom.setHTML(o,n):e.selection.setContent(n,{no_events:!0})}},y3=(e,n,o)=>{ee.from(e.getParent(n,"td,th")).map(Ye.fromDom).each(a=>_w(a,o))},YN=(e,n)=>{const o=e.schema.getTextInlineElements(),a=e.dom;if(n){const c=e.getBody(),g=M_(e),p="*[data-mce-fragment]",S=a.select(p);dn.each(S,T=>{const V=ae=>Me(o[ae.nodeName.toLowerCase()]),X=ae=>ae.childNodes.length===1;if((ae=>!(RA(a,ae)||YP(a,ae)))(T)&&V(T)&&X(T)){const ae=Z0(a,T),we=(nt,ft)=>Ho(nt,ct=>Se(ft,ct)),De=nt=>X(T)&&a.is(nt,p)&&V(nt)&&(nt.nodeName===T.nodeName&&we(ae,Z0(a,nt))||De(nt.children[0])),_e=nt=>Me(nt)&&nt!==c&&(g.compare(T,nt)||_e(nt.parentElement)),$e=nt=>Me(nt)&&nt!==c&&a.is(nt,p)&&(Z7(a,T,nt)||$e(nt.parentElement));(De(T.children[0])||_e(T.parentElement)&&!$e(T.parentElement))&&a.remove(T,!0)}})}},x3=e=>{let n=e;for(;n=n.walk();)n.type===1&&n.attr("data-mce-fragment","1")},w$=e=>{dn.each(e.getElementsByTagName("*"),n=>{n.removeAttribute("data-mce-fragment")})},C$=e=>!!e.getAttribute("data-mce-fragment"),S$=(e,n)=>Me(n)&&!e.schema.getVoidElements()[n.nodeName],_$=(e,n)=>{var o,a,c;let g;const p=e.dom,S=e.selection;if(!n)return;S.scrollIntoView(n);const T=Af(e.getBody(),n);if(T&&p.getContentEditable(T)==="false"){p.remove(n),S.select(T);return}let V=p.createRng();const X=n.previousSibling;if(on(X)){V.setStart(X,(a=(o=X.nodeValue)===null||o===void 0?void 0:o.length)!==null&&a!==void 0?a:0);const we=n.nextSibling;on(we)&&(X.appendData(we.data),(c=we.parentNode)===null||c===void 0||c.removeChild(we))}else V.setStartBefore(n),V.setEndBefore(n);const Q=we=>{let De=Dt.fromRangeStart(we);return De=go(e.getBody()).next(De),De==null?void 0:De.toRange()},ae=p.getParent(n,p.isBlock);if(p.remove(n),ae&&p.isEmpty(ae)){const we=v3(ae);ir(Ye.fromDom(ae)),V.setStart(ae,0),V.setEnd(ae,0),!we&&!C$(ae)&&(g=Q(V))?(V=g,p.remove(ae)):p.add(ae,p.create("br",we?{}:{"data-mce-bogus":"1"}))}S.setRng(V)},k$=e=>{const n=e.dom,o=$_(e.selection.getRng());e.selection.setRng(o);const a=n.getParent(o.startContainer,v3);x$(n,o,a)?i3(e,o,Ye.fromDom(a)):o.startContainer===o.endContainer&&o.endOffset-o.startOffset===1&&on(o.startContainer.childNodes[o.startOffset])?o.deleteContents():e.getDoc().execCommand("Delete",!1)},E$=e=>{for(let n=e;n;n=n.walk())if(n.attr("id")==="mce_marker")return ee.some(n);return ee.none()},j_=(e,n,o)=>{var a;return Pe(o.children(),L_)&&((a=e.getParent(n,e.isBlock))===null||a===void 0?void 0:a.nodeName)==="SUMMARY"},Z_=(e,n,o)=>{var a,c;const g=e.selection,p=e.dom,S=e.parser,T=o.merge,V=zp({validate:!0},e.schema),X='<span id="mce_marker" data-mce-type="bookmark">&#xFEFF;</span>';o.preserve_zwsp||(n=gc(n)),n.indexOf("{$caret}")===-1&&(n+="{$caret}"),n=n.replace(/\{\$caret\}/,X);let Q=g.getRng();const ae=Q.startContainer,we=e.getBody();ae===we&&g.isCollapsed()&&p.isBlock(we.firstChild)&&S$(e,we.firstChild)&&p.isEmpty(we.firstChild)&&(Q=p.createRng(),Q.setStart(we.firstChild,0),Q.setEnd(we.firstChild,0),g.setRng(Q)),g.isCollapsed()||k$(e);const De=g.getNode(),_e={context:De.nodeName.toLowerCase(),data:o.data,insert:!0},$e=S.parse(n,_e);if(o.paste===!0&&Ah(e.schema,$e)&&ZN(p,De))return Q=b$(V,p,g.getRng(),$e),Q&&g.setRng(Q),n;o.paste===!0&&y$(p,$e,De,e.getBody())&&((a=$e.firstChild)===null||a===void 0||a.unwrap()),x3($e);let nt=$e.lastChild;if(nt&&nt.attr("id")==="mce_marker"){const ft=nt;for(nt=nt.prev;nt;nt=nt.walk(!0))if(nt.type===3||!p.isBlock(nt.name)){nt.parent&&e.schema.isValidChild(nt.parent.name,"span")&&nt.parent.insert(ft,nt,nt.name==="br");break}}if(e._selectionOverrides.showBlockCaretContainer(De),!_e.invalid&&!j_(p,De,$e))n=V.serialize($e),K_(e,n,De);else{e.selection.setContent(X);let ft=g.getNode(),ct;const kt=e.getBody();for(Xn(ft)?ft=ct=kt:ct=ft;ct&&ct!==kt;)ft=ct,ct=ct.parentNode;n=ft===kt?kt.innerHTML:p.getOuterHTML(ft);const qt=S.parse(n),gn=E$(qt),Pn=gn.bind(Kp).getOr(qt);gn.each(Hn=>Hn.replace($e));const $t=$e.children(),Rt=(c=$e.parent)!==null&&c!==void 0?c:qt;$e.unwrap();const Zt=Je($t,Hn=>V2(e.schema,Hn,Rt));Pd(Zt,e.schema,Pn),f3(S.getNodeFilters(),S.getAttributeFilters(),qt),n=V.serialize(qt),ft===kt?p.setHTML(kt,n):p.setOuterHTML(ft,n)}return YN(e,T),_$(e,p.get("mce_marker")),w$(e.getBody()),y3(p,g.getStart(),e.schema),Qa(e.schema,e.getBody(),g.getStart()),n},t1=e=>e instanceof Sl,T$=e=>{jy(e)&&yo(e.getBody()).each(n=>{const o=n.getNode(),a=hu(o)?yo(o).getOr(n):n;e.selection.setRng(a.toRange())})},w3=(e,n,o)=>{e.dom.setHTML(e.getBody(),n),o!==!0&&T$(e)},A$=(e,n,o,a)=>{if(o=gc(o),o.length===0||/^\s+$/.test(o)){const c='<br data-mce-bogus="1">';n.nodeName==="TABLE"?o="<tr><td>"+c+"</td></tr>":/^(UL|OL)$/.test(n.nodeName)&&(o="<li>"+c+"</li>");const g=Ql(e);return e.schema.isValidChild(n.nodeName.toLowerCase(),g.toLowerCase())?(o=c,o=e.dom.createHTML(g,Lw(e),o)):o||(o=c),w3(e,o,a.no_selection),{content:o,html:o}}else{a.format!=="raw"&&(o=zp({validate:!1},e.schema).serialize(e.parser.parse(o,{isRootContent:!0,insert:!0})));const c=h0(Ye.fromDom(n))?o:dn.trim(o);return w3(e,c,a.no_selection),{content:c,html:c}}},O$=(e,n,o,a)=>{f3(e.parser.getNodeFilters(),e.parser.getAttributeFilters(),o);const c=zp({validate:!1},e.schema).serialize(o),g=gc(h0(Ye.fromDom(n))?c:dn.trim(c));return w3(e,g,a.no_selection),{content:o,html:g}},R$=(e,n,o)=>ee.from(e.getBody()).map(a=>t1(n)?O$(e,a,n,o):A$(e,a,n,o)).getOr({content:n,html:t1(o.content)?"":o.content}),XN=e=>Ne(e)?e:Bn,Tm=(e,n,o)=>{let a=e.dom;const c=XN(o);for(;a.parentNode;){a=a.parentNode;const g=Ye.fromDom(a),p=n(g);if(p.isSome())return p;if(c(g))break}return ee.none()},z2=(e,n,o)=>{const a=n(e),c=XN(o);return a.orThunk(()=>c(e)?ee.none():Tm(e,n,c))},G_=Hy,C3=(e,n,o)=>{const a=e.formatter.get(o);if(a)for(let c=0;c<a.length;c++){const g=a[c];if(rd(g)&&g.inherit===!1&&e.dom.is(n,g.selector))return!0}return!1},q_=(e,n,o,a,c)=>{const g=e.dom.getRoot();if(n===g)return!1;const p=e.dom.getParent(n,S=>C3(e,S,o)?!0:S.parentNode===g||!!Oh(e,S,o,a,!0));return!!Oh(e,p,o,a,c)},Y_=(e,n,o)=>rl(o)&&G_(n,o.inline)||vg(o)&&G_(n,o.block)?!0:rd(o)?Un(n)&&e.is(n,o.selector):!1,S3=(e,n,o,a,c,g)=>{const p=o[a],S=a==="attributes";if(Ne(o.onmatch))return o.onmatch(n,o,a);if(p){if(Sn(p)){for(let T=0;T<p.length;T++)if(S?e.getAttrib(n,p[T]):n2(e,n,p[T]))return!0}else for(const T in p)if(So(p,T)){const V=S?e.getAttrib(n,T):n2(e,n,T),X=Lp(p[T],g),Q=dt(V)||rn(V);if(Q&&dt(X))continue;if(c&&Q&&!o.exact||(!c||o.exact)&&!G_(V,VS(X,T)))return!1}}return!0},Oh=(e,n,o,a,c)=>{const g=e.formatter.get(o),p=e.dom;if(g&&Un(n))for(let S=0;S<g.length;S++){const T=g[S];if(Y_(e.dom,n,T)&&S3(p,n,T,"attributes",c,a)&&S3(p,n,T,"styles",c,a)){const V=T.classes;if(V){for(let X=0;X<V.length;X++)if(!e.dom.hasClass(n,Lp(V[X],a)))return}return T}}},rv=(e,n,o,a,c)=>{if(a)return q_(e,a,n,o,c);if(a=e.selection.getNode(),q_(e,a,n,o,c))return!0;const g=e.selection.getStart();return!!(g!==a&&q_(e,g,n,o,c))},JN=(e,n,o)=>{const a=[],c={},g=e.selection.getStart();return e.dom.getParent(g,p=>{for(let S=0;S<n.length;S++){const T=n[S];!c[T]&&Oh(e,p,T,o)&&(c[T]=!0,a.push(T))}},e.dom.getRoot()),a},QN=(e,n)=>{const o=c=>us(c,Ye.fromDom(e.getBody())),a=(c,g)=>Oh(e,c.dom,g)?ee.some(g):ee.none();return ee.from(e.selection.getStart(!0)).bind(c=>z2(Ye.fromDom(c),g=>mi(n,p=>a(g,p)),o)).getOrNull()},e5=(e,n)=>{const o=e.formatter.get(n),a=e.dom;if(o&&e.selection.isEditable()){const c=e.selection.getStart(),g=o2(a,c);for(let p=o.length-1;p>=0;p--){const S=o[p];if(!rd(S))return!0;for(let T=g.length-1;T>=0;T--)if(a.is(g[T],S.selector))return!0}}return!1},_3=(e,n,o)=>pn(o,(a,c)=>{const g=zD(e,c);return e.formatter.matchNode(n,c,{},g)?a.concat([c]):a},[]),H2=ta,I$=(e,n)=>e.importNode(n,!0),t5=e=>{if(e){const n=new Ma(e,e);for(let o=n.current();o;o=n.next())if(on(o))return o}return null},Rh=e=>{const n=Ye.fromTag("span");return ja(n,{id:By,"data-mce-bogus":"1","data-mce-type":"format-caret"}),e&&Vr(n,Ye.fromText(H2)),n},k3=e=>{const n=t5(e);return n&&n.data.charAt(0)===H2&&n.deleteData(0,1),n},E3=(e,n,o)=>{const a=e.dom,c=e.selection;if(GT(n))pc(e,!1,Ye.fromDom(n),o,!0);else{const g=c.getRng(),p=a.getParent(n,a.isBlock),S=g.startContainer,T=g.startOffset,V=g.endContainer,X=g.endOffset,Q=k3(n);a.remove(n,!0),S===Q&&T>0&&g.setStart(Q,T-1),V===Q&&X>0&&g.setEnd(Q,X-1),p&&a.isEmpty(p)&&td(Ye.fromDom(p)),c.setRng(g)}},T3=(e,n,o)=>{const a=e.dom,c=e.selection;if(n)E3(e,n,o);else if(n=zb(e.getBody(),c.getStart()),!n)for(;n=a.get(By);)E3(e,n,o)},n1=(e,n,o)=>{var a,c;const g=e.dom,p=g.getParent(o,at($S,e.schema));p&&g.isEmpty(p)?(a=o.parentNode)===null||a===void 0||a.replaceChild(n,o):(vu(Ye.fromDom(o)),g.isEmpty(o)?(c=o.parentNode)===null||c===void 0||c.replaceChild(n,o):g.insertAfter(n,o))},A3=(e,n)=>(e.appendChild(n),n),U2=(e,n)=>{var o;const a=wt(e,(g,p)=>A3(g,p.cloneNode(!1)),n),c=(o=a.ownerDocument)!==null&&o!==void 0?o:document;return A3(a,c.createTextNode(H2))},D$=(e,n,o,a,c,g)=>{const p=e.formatter,S=e.dom,T=Je(tn(p.get()),Q=>Q!==a&&!Vs(Q,"removeformat")),V=_3(e,o,T);if(Je(V,Q=>!HD(e,Q,a)).length>0){const Q=o.cloneNode(!1);return S.add(n,Q),p.remove(a,c,Q,g),S.remove(Q),ee.some(Q)}else return ee.none()},n5=e=>u0(e,ch(e).replace(new RegExp(`${ea}$`)," ")),O3=(e,n)=>{const o=()=>{n!==null&&!e.dom.isEmpty(n)&&Mi(Ye.fromDom(n)).each(a=>{Cr(a)?n5(a):ji(a,c=>Cr(c)).each(c=>{Cr(c)&&n5(c)})})};e.once("input",a=>{a.data&&!B0(a.data)&&(a.isComposing?e.once("compositionend",()=>{o()}):o())})},jp=(e,n,o)=>{let a;const c=e.selection,g=e.formatter.get(n);if(!g)return;const p=c.getRng();let S=p.startOffset;const V=p.startContainer.nodeValue;a=zb(e.getBody(),c.getStart());const X=/[^\s\u00a0\u00ad\u200b\ufeff]/;if(V&&S>0&&S<V.length&&X.test(V.charAt(S))&&X.test(V.charAt(S-1))){const Q=c.getBookmark();p.collapse(!0);let ae=Wb(e.dom,p,g);ae=y2(ae),e.formatter.apply(n,o,ae),c.moveToBookmark(Q)}else{let Q=a?t5(a):null;(!a||(Q==null?void 0:Q.data)!==H2)&&(a=I$(e.getDoc(),Rh(!0).dom),Q=a.firstChild,p.insertNode(a),S=1,O3(e,a)),e.formatter.apply(n,o,a),c.setCursorLocation(Q,S)}},R3=(e,n,o,a)=>{const c=e.dom,g=e.selection;let p=!1;const S=e.formatter.get(n);if(!S)return;const T=g.getRng(),V=T.startContainer,X=T.startOffset;let Q=V;on(V)&&(X!==V.data.length&&(p=!0),Q=Q.parentNode);const ae=[];let we;for(;Q;){if(Oh(e,Q,n,o,a)){we=Q;break}Q.nextSibling&&(p=!0),ae.push(Q),Q=Q.parentNode}if(we)if(p){const De=g.getBookmark();T.collapse(!0);let _e=Wb(c,T,S,!0);_e=y2(_e),e.formatter.remove(n,o,_e,a),g.moveToBookmark(De)}else{const De=zb(e.getBody(),we),_e=Me(De)?c.getParents(we.parentNode,Qt,De):[],$e=Rh(!1).dom;n1(e,$e,De??we);const nt=D$(e,$e,we,n,o,a),ft=U2([...ae,...nt.toArray(),..._e],$e);De&&E3(e,De,Me(De)),g.setCursorLocation(ft,1),O3(e,$e),c.isEmpty(we)&&c.remove(we)}},I3=(e,n,o)=>{const a=e.selection,c=e.getBody();T3(e,null,o),(n===8||n===46)&&a.isCollapsed()&&a.getStart().innerHTML===H2&&T3(e,zb(c,a.getStart()),!0),(n===37||n===39)&&T3(e,zb(c,a.getStart()),!0)},D3=e=>on(e)&&Be(e.data,ea),o5=e=>{e.on("mouseup keydown",n=>{I3(e,n.keyCode,D3(e.selection.getRng().endContainer))})},P3=e=>{const n=Rh(!1),o=U2(e,n.dom);return{caretContainer:n,caretPosition:Dt(o,0)}},N3=(e,n)=>{const{caretContainer:o,caretPosition:a}=P3(n);return Dr(Ye.fromDom(e),o),Hs(Ye.fromDom(e)),a},P$=(e,n)=>{const{caretContainer:o,caretPosition:a}=P3(n);return e.insertNode(o.dom),a},sx=(e,n)=>{if(Rd(n.dom))return!1;const o=e.schema.getTextInlineElements();return So(o,hs(n))&&!Rd(n.dom)&&!ff(n.dom)},iv={},M3=ba(["pre"]),s5=(e,n)=>{iv[e]||(iv[e]=[]),iv[e].push(n)},r5=(e,n)=>{So(iv,e)&&xe(iv[e],o=>{o(n)})};s5("pre",e=>{const n=e.selection.getRng(),o=c=>g=>{const p=g.previousSibling;return M3(p)&&Se(c,p)},a=(c,g)=>{const p=Ye.fromDom(g),S=Sc(p).dom;Hs(p),li(Ye.fromDom(c),[Ye.fromTag("br",S),Ye.fromTag("br",S),...ga(p)])};if(!n.collapsed){const c=e.selection.getSelectedBlocks(),g=Je(Je(c,M3),o(c));xe(g,p=>{a(p.previousSibling,p)})}});const L3=["fontWeight","fontStyle","color","fontSize","fontFamily"],X_=e=>j(e.styles)&&Pe(tn(e.styles),n=>Se(L3,n)),B3=e=>An(e,n=>rl(n)&&n.inline==="span"&&X_(n)),rx=(e,n)=>{const o=e.get(n);return oe(o)?B3(o):ee.none()},i5=(e,n)=>sd(n,Dt.fromRangeStart(e)).isNone(),F3=(e,n)=>qc(n,Dt.fromRangeEnd(e)).exists(o=>!Ar(o.getNode())||qc(n,o).isSome())===!1,a5=e=>n=>Kv(n)&&e.isEditable(n),N$=e=>{const n=e.getSelectedBlocks(),o=e.getRng();if(e.isCollapsed())return[];if(n.length===1)return i5(o,n[0])&&F3(o,n[0])?n:[];{const a=cn(n).filter(p=>i5(o,p)).toArray(),c=uo(n).filter(p=>F3(o,p)).toArray(),g=n.slice(1,-1);return a.concat(g).concat(c)}},l5=e=>Je(N$(e),a5(e.dom)),$3=e=>Je(e.getSelectedBlocks(),a5(e.dom)),V3=dn.each,J_=e=>Un(e)&&!Id(e)&&!Rd(e)&&!ff(e),av=(e,n)=>{for(let o=e;o;o=o[n]){if(on(o)&&ut(o.data))return e;if(Un(o)&&!Id(o))return o}return e},z3=(e,n,o)=>{const a=M_(e),c=Uc(n)&&e.dom.isEditable(n),g=Uc(o)&&e.dom.isEditable(o);if(c&&g){const p=av(n,"previousSibling"),S=av(o,"nextSibling");if(a.compare(p,S)){for(let T=p.nextSibling;T&&T!==S;){const V=T;T=T.nextSibling,p.appendChild(V)}return e.dom.remove(S),dn.each(dn.grep(S.childNodes),T=>{p.appendChild(T)}),p}}return o},Q_=(e,n,o,a)=>{var c;if(a&&n.merge_siblings!==!1){const g=(c=z3(e,F0(a),a))!==null&&c!==void 0?c:a;z3(e,g,F0(g,!0))}},c5=(e,n,o)=>{if(n.clear_child_styles){const a=n.links?"*:not(a)":"*";V3(e.select(a,o),c=>{J_(c)&&e.isEditable(c)&&V3(n.styles,(g,p)=>{e.setStyle(c,p,"")})})}},W2=(e,n,o)=>{V3(e.childNodes,a=>{J_(a)&&(n(a)&&o(a),a.hasChildNodes()&&W2(a,n,o))})},lv=(e,n)=>{n.nodeName==="SPAN"&&e.getAttribs(n).length===0&&e.remove(n,!0)},H3=(e,n)=>o=>!!(o&&n2(e,o,n)),Nd=(e,n,o)=>a=>{e.setStyle(a,n,o),a.getAttribute("style")===""&&a.removeAttribute("style"),lv(e,a)},Of=ws.generate([{keep:[]},{rename:["name"]},{removed:[]}]),U3=/^(src|href|style)$/,ek=dn.each,tk=Hy,u5=e=>/^(TR|TH|TD)$/.test(e.nodeName),o1=(e,n,o)=>e.isChildOf(n,o)&&n!==o&&!e.isBlock(o),K2=(e,n,o)=>{let a=n[o?"startContainer":"endContainer"],c=n[o?"startOffset":"endOffset"];if(Un(a)){const g=a.childNodes.length-1;!o&&c&&c--,a=a.childNodes[c>g?g:c]}return on(a)&&o&&c>=a.data.length&&(a=new Ma(a,e.getBody()).next()||a),on(a)&&!o&&c===0&&(a=new Ma(a,e.getBody()).prev()||a),a},W3=(e,n)=>{const o=n?"firstChild":"lastChild",a=e[o];return u5(e)&&a?e.nodeName==="TR"&&a[o]||a:e},nk=(e,n,o,a)=>{var c;const g=e.create(o,a);return(c=n.parentNode)===null||c===void 0||c.insertBefore(g,n),g.appendChild(n),g},ok=(e,n,o,a,c)=>{const g=Ye.fromDom(n),p=Ye.fromDom(e.create(a,c)),S=o?em(g):Vu(g);return li(p,S),o?(Dr(g,p),Ja(p,g)):(vt(g,p),Vr(p,g)),p.dom},M$=(e,n)=>n.links&&e.nodeName==="A",d5=(e,n,o)=>{const a=n.parentNode;let c;const g=e.dom,p=Ql(e);vg(o)&&a===g.getRoot()&&(!o.list_block||!tk(n,o.list_block))&&xe($o(n.childNodes),S=>{Hb(e,p,S.nodeName.toLowerCase())?c?c.appendChild(S):(c=nk(g,S,p),g.setAttribs(c,Lw(e))):c=null}),!(KD(o)&&!tk(o.inline,n))&&g.remove(n,!0)},K3=(e,n,o)=>I(e)?{name:n,value:null}:{name:e,value:Lp(n,o)},f5=(e,n)=>{e.getAttrib(n,"style")===""&&(n.removeAttribute("style"),n.removeAttribute("data-mce-style"))},cd=(e,n,o,a,c)=>{let g=!1;ek(o.styles,(p,S)=>{const{name:T,value:V}=K3(S,p,a),X=VS(V,T);(o.remove_similar||Ce(V)||!Un(c)||tk(n2(e,c,T),X))&&e.setStyle(n,T,""),g=!0}),g&&f5(e,n)},j3=(e,n,o)=>{n==="removeformat"?xe($3(e.selection),a=>{xe(L3,c=>e.dom.setStyle(a,c,"")),f5(e.dom,a)}):rx(e.formatter,n).each(a=>{xe($3(e.selection),c=>cd(e.dom,c,a,o,null))})},Z3=(e,n,o,a,c)=>{const g=e.dom,p=M_(e),S=e.schema;if(rl(n)&&qu(S,n.inline)&&bu(S,a)&&a.parentElement===e.getBody())return d5(e,a,n),Of.removed();if(!n.ceFalseOverride&&a&&g.getContentEditableParent(a)==="false"||a&&!Y_(g,a,n)&&!M$(a,n))return Of.keep();const T=a,V=n.preserve_attributes;if(rl(n)&&n.remove==="all"&&oe(V)){const X=Je(g.getAttribs(T),Q=>Se(V,Q.name.toLowerCase()));if(g.removeAllAttribs(T),xe(X,Q=>g.setAttrib(T,Q.name,Q.value)),X.length>0)return Of.rename("span")}if(n.remove!=="all"){cd(g,T,n,o,c),ek(n.attributes,(Q,ae)=>{const{name:we,value:De}=K3(ae,Q,o);if(n.remove_similar||Ce(De)||!Un(c)||tk(g.getAttrib(c,we),De)){if(we==="class"){const _e=g.getAttrib(T,we);if(_e){let $e="";if(xe(_e.split(/\s+/),nt=>{/mce\-\w+/.test(nt)&&($e+=($e?" ":"")+nt)}),$e){g.setAttrib(T,we,$e);return}}}if(U3.test(we)&&T.removeAttribute("data-mce-"+we),we==="style"&&ba(["li"])(T)&&g.getStyle(T,"list-style-type")==="none"){T.removeAttribute(we),g.setStyle(T,"list-style-type","none");return}we==="class"&&T.removeAttribute("className"),T.removeAttribute(we)}}),ek(n.classes,Q=>{Q=Lp(Q,o),(!Un(c)||g.hasClass(c,Q))&&g.removeClass(T,Q)});const X=g.getAttribs(T);for(let Q=0;Q<X.length;Q++){const ae=X[Q].nodeName;if(!p.isAttributeInternal(ae))return Of.keep()}}return n.remove!=="none"?(d5(e,T,n),Of.removed()):Of.keep()},G3=(e,n,o,a,c)=>{let g;return n.parentNode&&xe(o2(e.dom,n.parentNode).reverse(),p=>{if(!g&&Un(p)&&p.id!=="_start"&&p.id!=="_end"){const S=Oh(e,p,o,a,c);S&&S.split!==!1&&(g=p)}}),g},m5=(e,n,o,a)=>Z3(e,n,o,a,a).fold(mt(a),c=>(e.dom.createFragment().appendChild(a),e.dom.rename(a,c)),mt(null)),j2=(e,n,o,a,c,g,p,S)=>{var T,V;let X,Q;const ae=e.dom;if(o){const we=o.parentNode;for(let De=a.parentNode;De&&De!==we;De=De.parentNode){let _e=ae.clone(De,!1);for(let $e=0;$e<n.length&&(_e=m5(e,n[$e],S,_e),_e!==null);$e++);_e&&(X&&_e.appendChild(X),Q||(Q=_e),X=_e)}(!p.mixed||!ae.isBlock(o))&&(a=(T=ae.split(o,a))!==null&&T!==void 0?T:a),X&&Q&&((V=c.parentNode)===null||V===void 0||V.insertBefore(X,c),Q.appendChild(c),rl(p)&&Q_(e,p,S,X))}return a},Zp=(e,n,o,a,c)=>{const g=e.formatter.get(n),p=g[0],S=e.dom,T=e.selection,V=_e=>{const $e=G3(e,_e,n,o,c);return j2(e,g,$e,_e,_e,!0,p,o)},X=_e=>Id(_e)&&Un(_e)&&(_e.id==="_start"||_e.id==="_end"),Q=_e=>Pe(g,$e=>uv(e,$e,o,_e,_e)),ae=_e=>{const $e=$o(_e.childNodes),ft=Q(_e)||Pe(g,qt=>Y_(S,_e,qt)),ct=_e.parentNode;if(!ft&&Me(ct)&&HS(p)&&Q(ct),p.deep&&$e.length)for(let qt=0;qt<$e.length;qt++)ae($e[qt]);xe(["underline","line-through","overline"],qt=>{Un(_e)&&e.dom.getStyle(_e,"text-decoration")===qt&&_e.parentNode&&ZT(S,_e.parentNode)===qt&&uv(e,{deep:!1,exact:!0,inline:"span",styles:{textDecoration:qt}},void 0,_e)})},we=_e=>{const $e=S.get(_e?"_start":"_end");if($e){let nt=$e[_e?"firstChild":"lastChild"];return X(nt)&&(nt=nt[_e?"firstChild":"lastChild"]),on(nt)&&nt.data.length===0&&(nt=_e?$e.previousSibling||$e.nextSibling:$e.nextSibling||$e.previousSibling),S.remove($e,!0),nt}else return null},De=_e=>{let $e,nt,ft=Wb(S,_e,g,_e.collapsed);if(p.split){if(ft=y2(ft),$e=K2(e,ft,!0),nt=K2(e,ft),$e!==nt){if($e=W3($e,!0),nt=W3(nt,!1),o1(S,$e,nt)){const kt=ee.from($e.firstChild).getOr($e);V(ok(S,kt,!0,"span",{id:"_start","data-mce-type":"bookmark"})),we(!0);return}if(o1(S,nt,$e)){const kt=ee.from(nt.lastChild).getOr(nt);V(ok(S,kt,!1,"span",{id:"_end","data-mce-type":"bookmark"})),we(!1);return}$e=nk(S,$e,"span",{id:"_start","data-mce-type":"bookmark"}),nt=nk(S,nt,"span",{id:"_end","data-mce-type":"bookmark"});const ct=S.createRng();ct.setStartAfter($e),ct.setEndBefore(nt),a2(S,ct,kt=>{xe(kt,qt=>{!Id(qt)&&!Id(qt.parentNode)&&V(qt)})}),V($e),V(nt),$e=we(!0),nt=we()}else $e=nt=V($e);ft.startContainer=$e.parentNode?$e.parentNode:$e,ft.startOffset=S.nodeIndex($e),ft.endContainer=nt.parentNode?nt.parentNode:nt,ft.endOffset=S.nodeIndex(nt)+1}a2(S,ft,ct=>{xe(ct,ae)})};if(a){if(zy(a)){const _e=S.createRng();_e.setStartBefore(a),_e.setEndAfter(a),De(_e)}else De(a);eP(e,n,a,o);return}!T.isCollapsed()||!rl(p)||bg(e).length?(WT(e,()=>Vy(e,De),_e=>rl(p)&&rv(e,n,o,_e)),e.nodeChanged()):R3(e,n,o,c),j3(e,n,o),eP(e,n,a,o)},cv=(e,n,o,a,c)=>{(a||e.selection.isEditable())&&Zp(e,n,o,a,c)},uv=(e,n,o,a,c)=>Z3(e,n,o,a,c).fold(Bn,g=>(e.dom.rename(a,g),!0),Qt),sk=dn.each,q3=(e,n,o,a)=>{const c=g=>{if(Uc(g)&&Un(g.parentNode)&&e.isEditable(g)){const p=ZT(e,g.parentNode);e.getStyle(g,"color")&&p?e.setStyle(g,"text-decoration",p):e.getStyle(g,"text-decoration")===p&&e.setStyle(g,"text-decoration",null)}};n.styles&&(n.styles.color||n.styles.textDecoration)&&(dn.walk(a,c,"childNodes"),c(a))},g5=(e,n,o,a)=>{if(n.styles&&n.styles.backgroundColor){const c=H3(e,"fontSize");W2(a,g=>c(g)&&e.isEditable(g),Nd(e,"backgroundColor",Lp(n.styles.backgroundColor,o)))}},L$=(e,n,o,a)=>{if(rl(n)&&(n.inline==="sub"||n.inline==="sup")){const c=H3(e,"fontSize");W2(a,p=>c(p)&&e.isEditable(p),Nd(e,"fontSize",""));const g=Je(e.select(n.inline==="sup"?"sub":"sup",a),e.isEditable);e.remove(g,!0)}},h5=(e,n,o,a)=>{sk(n,c=>{rl(c)&&sk(e.dom.select(c.inline,a),g=>{J_(g)&&uv(e,c,o,g,c.exact?g:null)}),c5(e.dom,c,a)})},p5=(e,n,o,a,c)=>{const g=c.parentNode;Oh(e,g,o,a)&&uv(e,n,a,c)||n.merge_with_parents&&g&&e.dom.getParent(g,p=>Oh(e,p,o,a)?(uv(e,n,a,c),!0):!1)},Z2=dn.each,b5=(e,n,o,a)=>{if(O8(e)&&rl(n)&&o.parentNode){const c=ny(e.schema),g=lp(Ye.fromDom(o),p=>Rd(p.dom));return fl(c,a)&&uc(e.schema,o.parentNode,{skipBogus:!1,includeZwsp:!0})&&!g}else return!1},v5=(e,n,o,a)=>{if(Z2(o.styles,(c,g)=>{e.setStyle(n,g,Lp(c,a))}),o.styles){const c=e.getAttrib(n,"style");c&&e.setAttrib(n,"data-mce-style",c)}},B$=(e,n,o,a)=>{const c=e.formatter.get(n),g=c[0],p=!a&&e.selection.isCollapsed(),S=e.dom,T=e.selection,V=(De,_e=g)=>{Ne(_e.onformat)&&_e.onformat(De,_e,o,a),v5(S,De,_e,o),Z2(_e.attributes,($e,nt)=>{S.setAttrib(De,nt,Lp($e,o))}),Z2(_e.classes,$e=>{const nt=Lp($e,o);S.hasClass(De,nt)||S.addClass(De,nt)})},X=(De,_e)=>{let $e=!1;return Z2(De,nt=>rd(nt)?S.getContentEditable(_e)==="false"&&!nt.ceFalseOverride||Me(nt.collapsed)&&nt.collapsed!==p?!0:S.is(_e,nt.selector)&&!Rd(_e)?(V(_e,nt),$e=!0,!1):!0:!1),$e},Q=De=>{if(he(De)){const _e=S.create(De);return V(_e),_e}else return null},ae=(De,_e,$e)=>{const nt=[];let ft=!0;const ct=g.inline||g.block,kt=Q(ct),qt=$t=>UD(g)&&Oh(e,$t,n,o),gn=($t,Rt,Zt)=>{const Hn=WD(g)&&$S(e.schema,$t)&&Hb(e,Rt,ct);return Zt&&Hn},Pn=($t,Rt,Zt,Hn)=>{const so=$t.nodeName.toLowerCase(),rs=Hb(e,ct,so)&&Hb(e,Rt,ct),fs=!$e&&on($t)&&nd($t.data),Js=Rd($t),cr=!rl(g)||!De.isBlock($t);return(Zt||Hn)&&rs&&!fs&&!Js&&cr};a2(De,_e,$t=>{let Rt;const Zt=Hn=>{let so=!1,rs=ft,fs=!1;const Js=Hn.parentNode,cr=Js.nodeName.toLowerCase(),Vi=De.getContentEditable(Hn);Me(Vi)&&(rs=ft,ft=Vi==="true",so=!0,fs=jT(e,Hn));const yc=ft&&!so;if(Ar(Hn)&&!b5(e,g,Hn,cr)){Rt=null,vg(g)&&De.remove(Hn);return}if(qt(Hn)){Rt=null;return}if(gn(Hn,cr,yc)){const yr=De.rename(Hn,ct);V(yr),nt.push(yr),Rt=null;return}if(rd(g)){let yr=X(c,Hn);if(!yr&&Me(Js)&&HS(g)&&(yr=X(c,Js)),!rl(g)||yr){Rt=null;return}}Me(kt)&&Pn(Hn,cr,yc,fs)?(Rt||(Rt=De.clone(kt,!1),Js.insertBefore(Rt,Hn),nt.push(Rt)),fs&&so&&(ft=rs),Rt.appendChild(Hn)):(Rt=null,xe($o(Hn.childNodes),Zt),so&&(ft=rs),Rt=null)};xe($t,Zt)}),g.links===!0&&xe(nt,$t=>{const Rt=Zt=>{Zt.nodeName==="A"&&V(Zt,g),xe($o(Zt.childNodes),Rt)};Rt($t)}),xe(nt,$t=>{const Rt=so=>{let rs=0;return xe(so.childNodes,fs=>{!o7(fs)&&!Id(fs)&&rs++}),rs},Zt=so=>An(so.childNodes,FS).filter(fs=>De.getContentEditable(fs)!=="false"&&Y_(De,fs,g)).map(fs=>{const Js=De.clone(fs,!1);return V(Js),De.replace(Js,so,!0),De.remove(fs,!0),Js}).getOr(so),Hn=Rt($t);if((nt.length>1||!De.isBlock($t))&&Hn===0){De.remove($t,!0);return}(rl(g)||vg(g)&&g.wrapper)&&(!g.exact&&Hn===1&&($t=Zt($t)),h5(e,c,o,$t),p5(e,g,n,o,$t),g5(De,g,o,$t),q3(De,g,o,$t),L$(De,g,o,$t),Q_(e,g,o,$t))})},we=zy(a)?a:T.getNode();if(S.getContentEditable(we)==="false"&&!jT(e,we)){a=we,X(c,a),QD(e,n,a,o);return}if(g){if(a)if(zy(a)){if(!X(c,a)){const De=S.createRng();De.setStartBefore(a),De.setEndAfter(a),ae(S,Wb(S,De,c),!0)}}else ae(S,a,!0);else!p||!rl(g)||bg(e).length?(T.setRng($_(T.getRng())),WT(e,()=>{Vy(e,(De,_e)=>{const $e=_e?De:Wb(S,De,c);ae(S,$e,!1)})},Qt),e.nodeChanged()):jp(e,n,o),rx(e.formatter,n).each(De=>{xe(l5(e.selection),_e=>v5(S,_e,De,o))});r5(n,e)}QD(e,n,a,o)},y5=(e,n,o,a)=>{(a||e.selection.isEditable())&&B$(e,n,o,a)},Yc=e=>So(e,"vars"),x5=(e,n)=>{e.set({}),n.on("NodeChange",o=>{X3(n,o.element,e.get())}),n.on("FormatApply FormatRemove",o=>{const a=ee.from(o.node).map(c=>zy(c)?c:c.startContainer).bind(c=>Un(c)?ee.some(c):ee.from(c.parentElement)).getOrThunk(()=>ix(n));X3(n,a,e.get())})},ix=e=>e.selection.getStart(),w5=(e,n,o,a,c)=>en(n,S=>{const T=e.formatter.matchNode(S,o,c??{},a);return!et(T)},S=>C3(e,S,o)?!0:a?!1:Me(e.formatter.matchNode(S,o,c,!0))),Y3=(e,n)=>{const o=n??ix(e);return Je(o2(e.dom,o),a=>Un(a)&&!ff(a))},X3=(e,n,o)=>{const a=Y3(e,n);qo(o,(c,g)=>{const p=S=>{const T=w5(e,a,g,S.similar,Yc(S)?S.vars:void 0),V=T.isSome();if(S.state.get()!==V){S.state.set(V);const X=T.getOr(n);Yc(S)?S.callback(V,{node:X,format:g,parents:a}):xe(S.callbacks,Q=>Q(V,{node:X,format:g,parents:a}))}};xe([c.withSimilar,c.withoutSimilar],p),xe(c.withVars,p)})},J3=(e,n,o,a,c,g)=>{const p=n.get();xe(o.split(","),S=>{const T=Zs(p,S).getOrThunk(()=>{const X={withSimilar:{state:Fi(!1),similar:!0,callbacks:[]},withoutSimilar:{state:Fi(!1),similar:!1,callbacks:[]},withVars:[]};return p[S]=X,X}),V=()=>{const X=Y3(e);return w5(e,X,S,c,g).isSome()};if(et(g)){const X=c?T.withSimilar:T.withoutSimilar;X.callbacks.push(a),X.callbacks.length===1&&X.state.set(V())}else T.withVars.push({state:Fi(V()),similar:c,vars:g,callback:a})}),n.set(p)},C5=(e,n,o)=>{const a=e.get();xe(n.split(","),c=>Zs(a,c).each(g=>{a[c]={withSimilar:{...g.withSimilar,callbacks:Je(g.withSimilar.callbacks,p=>p!==o)},withoutSimilar:{...g.withoutSimilar,callbacks:Je(g.withoutSimilar.callbacks,p=>p!==o)},withVars:Je(g.withVars,p=>p.callback!==o)}})),e.set(a)},F$=(e,n,o,a,c,g)=>(J3(e,n,o,a,c,g),{unbind:()=>C5(n,o,a)}),$$=(e,n,o,a)=>{const c=e.formatter.get(n);c&&(rv(e,n,o,a)&&(!("toggle"in c[0])||c[0].toggle)?cv(e,n,o,a):y5(e,n,o,a))},S5=dn.explode,rk=()=>{const e={};return{addFilter:(c,g)=>{xe(S5(c),p=>{So(e,p)||(e[p]={name:p,callbacks:[]}),e[p].callbacks.push(g)})},getFilters:()=>Pc(e),removeFilter:(c,g)=>{xe(S5(c),p=>{if(So(e,p))if(Me(g)){const S=e[p],T=Je(S.callbacks,V=>V!==g);T.length>0?S.callbacks=T:delete e[p]}else delete e[p]})}}},V$=(e,n)=>{xe(n,o=>{e.attr(o,null)})},z$=(e,n,o)=>{e.addNodeFilter("font",a=>{xe(a,c=>{const g=n.parse(c.attr("style")),p=c.attr("color"),S=c.attr("face"),T=c.attr("size");p&&(g.color=p),S&&(g["font-family"]=S),T&&Cn(T).each(V=>{g["font-size"]=o[V-1]}),c.name="span",c.attr("style",n.serialize(g)),V$(c,["color","face","size"])})})},_5=(e,n,o)=>{e.addNodeFilter("strike",a=>{const c=n.type!=="html4";xe(a,g=>{if(c)g.name="s";else{const p=o.parse(g.attr("style"));p["text-decoration"]="line-through",g.name="span",g.attr("style",o.serialize(p))}})})},H$=(e,n,o)=>{var a;const c=dw();n.convert_fonts_to_spans&&z$(e,c,dn.explode((a=n.font_size_legacy_values)!==null&&a!==void 0?a:"")),_5(e,o,c)},U$=(e,n,o)=>{n.inline_styles&&H$(e,n,o)},Q3=e=>fetch(e).then(n=>n.ok?n.blob():Promise.reject()).catch(()=>Promise.reject({message:`Cannot convert ${e} to Blob. Resource might not exist or is inaccessible.`,uriType:"blob"})),ik=e=>{const n=/([a-z0-9+\/=\s]+)/i.exec(e);return n?n[1]:""},ak=e=>{const[n,...o]=e.split(","),a=o.join(","),c=/data:([^/]+\/[^;]+)(;.+)?/.exec(n);if(c){const g=c[2]===";base64",p=g?ik(a):decodeURIComponent(a);return ee.some({type:c[1],data:p,base64Encoded:g})}else return ee.none()},eO=(e,n,o=!0)=>{let a=n;if(o)try{a=atob(n)}catch{return ee.none()}const c=new Uint8Array(a.length);for(let g=0;g<c.length;g++)c[g]=a.charCodeAt(g);return ee.some(new Blob([c],{type:e}))},tO=e=>new Promise((n,o)=>{ak(e).bind(({type:a,data:c,base64Encoded:g})=>eO(a,c,g)).fold(()=>o("Invalid data URI"),n)}),W$=e=>wr(e,"blob:")?Q3(e):wr(e,"data:")?tO(e):Promise.reject("Unknown URI format"),k5=e=>new Promise((n,o)=>{const a=new FileReader;a.onloadend=()=>{n(a.result)},a.onerror=()=>{var c;o((c=a.error)===null||c===void 0?void 0:c.message)},a.readAsDataURL(e)});let K$=0;const s1=e=>"blobid"+K$++,E5=(e,n,o)=>ak(e).bind(({data:a,type:c,base64Encoded:g})=>{if(n&&!g)return ee.none();{const p=g?a:btoa(a);return o(p,c)}}),G2=(e,n,o)=>{const a=e.create(s1(),n,o);return e.add(a),a},T5=(e,n,o=!1)=>E5(n,o,(a,c)=>ee.from(e.getByData(a,c)).orThunk(()=>eO(c,a).map(g=>G2(e,g,a)))),nO=(e,n)=>{const o=()=>Promise.reject("Invalid data URI");if(wr(n,"blob:")){const a=e.getByUri(n);return Me(a)?Promise.resolve(a):W$(n).then(c=>k5(c).then(g=>E5(g,!1,p=>ee.some(G2(e,c,p))).getOrThunk(o)))}else return wr(n,"data:")?T5(e,n).fold(o,a=>Promise.resolve(a)):Promise.reject("Unknown image data format")},A5=/^(?:(?:(?:[A-Za-z][A-Za-z\d.+-]{0,14}:\/\/(?:[-.~*+=!&;:'%@?^${}(),\w]+@)?|www\.|[-;:&=+$,.\w]+@)([A-Za-z\d-]+(?:\.[A-Za-z\d-]+)*))(?::\d+)?(?:\/(?:[-.~*+=!;:'%@$(),\/\w]*[-~*+=%@$()\/\w])?)?(?:\?(?:[-.~*+=!&;:'%@?^${}(),\/\w]+)?)?(?:#(?:[-.~*+=!&;:'%@?^${}(),\/\w]+)?)?)$/,O5=e=>ee.from(e.match(A5)).bind(n=>la(n,1)).map(n=>wr(n,"www.")?n.substring(4):n),oO=(e,n)=>{ee.from(e.attr("src")).bind(O5).forall(o=>!Se(n,o))&&e.attr("sandbox","")},ax=(e,n)=>wr(e,`${n}/`),j$=e=>et(e)?"iframe":ax(e,"image")?"img":ax(e,"video")?"video":ax(e,"audio")?"audio":"iframe",Z$=({type:e,src:n,width:o,height:a}={},c,g)=>{const p=j$(e),S=new Sl(p,1);return S.attr(p==="audio"?{src:n}:{src:n,width:o,height:a}),(p==="audio"||p==="video")&&S.attr("controls",""),p==="iframe"&&c&&oO(S,g),S},sO=e=>Me(e.attr("data-mce-bogus")),R5=e=>e.attr("src")===os.transparentSrc||Me(e.attr("data-mce-placeholder")),G$=(e,n)=>{const{blob_cache:o}=n;if(o){const a=c=>{const g=c.attr("src");R5(c)||sO(c)||dt(g)||T5(o,g,!0).each(p=>{c.attr("src",p.blobUri())})};e.addAttributeFilter("src",c=>xe(c,a))}},q$=(e,n)=>{var o,a;const c=e.schema;e.addAttributeFilter("href",T=>{let V=T.length;const X=ae=>ae.split(" ").filter(De=>De.length>0).concat(["noopener"]).sort().join(" "),Q=ae=>{const we=ae?dn.trim(ae):"";return/\b(noopener)\b/g.test(we)?we:X(we)};if(!n.allow_unsafe_link_target)for(;V--;){const ae=T[V];ae.name==="a"&&ae.attr("target")==="_blank"&&ae.attr("rel",Q(ae.attr("rel")))}}),n.allow_html_in_named_anchor||e.addAttributeFilter("id,name",T=>{let V=T.length,X,Q,ae,we;for(;V--;)if(we=T[V],we.name==="a"&&we.firstChild&&!we.attr("href"))for(ae=we.parent,X=we.lastChild;X&&ae;)Q=X.prev,ae.insert(X,we),X=Q}),n.fix_list_elements&&e.addNodeFilter("ul,ol",T=>{let V=T.length,X,Q;for(;V--;)if(X=T[V],Q=X.parent,Q&&(Q.name==="ul"||Q.name==="ol"))if(X.prev&&X.prev.name==="li")X.prev.append(X);else{const ae=new Sl("li",1);ae.attr("style","list-style-type: none"),X.wrap(ae)}});const g=c.getValidClasses();n.validate&&g&&e.addAttributeFilter("class",T=>{var V;let X=T.length;for(;X--;){const Q=T[X],ae=(V=Q.attr("class"))!==null&&V!==void 0?V:"",we=dn.explode(ae," ");let De="";for(let _e=0;_e<we.length;_e++){const $e=we[_e];let nt=!1,ft=g["*"];ft&&ft[$e]&&(nt=!0),ft=g[Q.name],!nt&&ft&&ft[$e]&&(nt=!0),nt&&(De&&(De+=" "),De+=$e)}De.length||(De=null),Q.attr("class",De)}}),G$(e,n);const p=(o=n.sandbox_iframes)!==null&&o!==void 0?o:!1,S=dl((a=n.sandbox_iframes_exclusions)!==null&&a!==void 0?a:[]);n.convert_unsafe_embeds&&e.addNodeFilter("object,embed",T=>xe(T,V=>{V.replace(Z$({type:V.attr("type"),src:V.name==="object"?V.attr("data"):V.attr("src"),width:V.attr("width"),height:V.attr("height")},p,S))})),p&&e.addNodeFilter("iframe",T=>xe(T,V=>oO(V,S)))},{entries:I5,setPrototypeOf:D5,isFrozen:rO,getPrototypeOf:P5,getOwnPropertyDescriptor:Y$}=Object;let{freeze:ud,seal:Hr,create:X$}=Object,{apply:iO,construct:lk}=typeof Reflect<"u"&&Reflect;iO||(iO=function(n,o,a){return n.apply(o,a)}),ud||(ud=function(n){return n}),Hr||(Hr=function(n){return n}),lk||(lk=function(n,o){return new n(...o)});const aO=Su(Array.prototype.forEach),N5=Su(Array.prototype.pop),Am=Su(Array.prototype.push),lx=Su(String.prototype.toLowerCase),ck=Su(String.prototype.toString),lO=Su(String.prototype.match),Rf=Su(String.prototype.replace),cO=Su(String.prototype.indexOf),M5=Su(String.prototype.trim),Cu=Su(RegExp.prototype.test),dv=q2(TypeError);function Su(e){return function(n){for(var o=arguments.length,a=new Array(o>1?o-1:0),c=1;c<o;c++)a[c-1]=arguments[c];return iO(e,n,a)}}function q2(e){return function(){for(var n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return lk(e,o)}}function Rs(e,n,o){var a;o=(a=o)!==null&&a!==void 0?a:lx,D5&&D5(e,null);let c=n.length;for(;c--;){let g=n[c];if(typeof g=="string"){const p=o(g);p!==g&&(rO(n)||(n[c]=p),g=p)}e[g]=!0}return e}function Ih(e){const n=X$(null);for(const[o,a]of I5(e))n[o]=a;return n}function Y2(e,n){for(;e!==null;){const a=Y$(e,n);if(a){if(a.get)return Su(a.get);if(typeof a.value=="function")return Su(a.value)}e=P5(e)}function o(a){return console.warn("fallback value for",a),null}return o}const uO=ud(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),dO=ud(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),uk=ud(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),J$=ud(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),fO=ud(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),X2=ud(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),L5=ud(["#text"]),B5=ud(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),mO=ud(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),F5=ud(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),dk=ud(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),Q$=Hr(/\{\{[\w\W]*|[\w\W]*\}\}/gm),eV=Hr(/<%[\w\W]*|[\w\W]*%>/gm),tV=Hr(/\${[\w\W]*}/gm),nV=Hr(/^data-[\-\w.\u00B7-\uFFFF]/),oV=Hr(/^aria-[\-\w]+$/),$5=Hr(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),V5=Hr(/^(?:\w+script|data):/i),z5=Hr(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),gO=Hr(/^html$/i);var hO=Object.freeze({__proto__:null,MUSTACHE_EXPR:Q$,ERB_EXPR:eV,TMPLIT_EXPR:tV,DATA_ATTR:nV,ARIA_ATTR:oV,IS_ALLOWED_URI:$5,IS_SCRIPT_OR_DATA:V5,ATTR_WHITESPACE:z5,DOCTYPE_NAME:gO});const H5=()=>typeof window>"u"?null:window,U5=function(n,o){if(typeof n!="object"||typeof n.createPolicy!="function")return null;let a=null;const c="data-tt-policy-suffix";o&&o.hasAttribute(c)&&(a=o.getAttribute(c));const g="dompurify"+(a?"#"+a:"");try{return n.createPolicy(g,{createHTML(p){return p},createScriptURL(p){return p}})}catch{return console.warn("TrustedTypes policy "+g+" could not be created."),null}};function pO(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:H5();const n=vs=>pO(vs);if(n.version="3.0.5",n.removed=[],!e||!e.document||e.document.nodeType!==9)return n.isSupported=!1,n;const o=e.document,a=o.currentScript;let{document:c}=e;const{DocumentFragment:g,HTMLTemplateElement:p,Node:S,Element:T,NodeFilter:V,NamedNodeMap:X=e.NamedNodeMap||e.MozNamedAttrMap,HTMLFormElement:Q,DOMParser:ae,trustedTypes:we}=e,De=T.prototype,_e=Y2(De,"cloneNode"),$e=Y2(De,"nextSibling"),nt=Y2(De,"childNodes"),ft=Y2(De,"parentNode");if(typeof p=="function"){const vs=c.createElement("template");vs.content&&vs.content.ownerDocument&&(c=vs.content.ownerDocument)}let ct,kt="";const{implementation:qt,createNodeIterator:gn,createDocumentFragment:Pn,getElementsByTagName:$t}=c,{importNode:Rt}=o;let Zt={};n.isSupported=typeof I5=="function"&&typeof ft=="function"&&qt&&qt.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:Hn,ERB_EXPR:so,TMPLIT_EXPR:rs,DATA_ATTR:fs,ARIA_ATTR:Js,IS_SCRIPT_OR_DATA:cr,ATTR_WHITESPACE:Vi}=hO;let{IS_ALLOWED_URI:yc}=hO,yr=null;const wn=Rs({},[...uO,...dO,...uk,...fO,...L5]);let to=null;const Us=Rs({},[...B5,...mO,...F5,...dk]);let kn=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),ho=null,ls=null,Dn=!0,is=!0,bs=!1,_l=!0,lr=!1,ll=!1,Eg=!1,ob=!1,Eu=!1,Nf=!1,Tg=!1,Mf=!0,Ag=!1;const ao="user-content-";let Ps=!0,wi=!1,Yi={},Va=null;const nc=Rs({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let wa=null;const Ca=Rs({},["audio","video","img","source","image","track"]);let Tu=null;const $h=Rs({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Vh="http://www.w3.org/1998/Math/MathML",zh="http://www.w3.org/2000/svg",Og="http://www.w3.org/1999/xhtml";let Ax=Og,Jk=!1,Qk=null;const O9=Rs({},[Vh,zh,Og],ck);let y1;const x6=["application/xhtml+xml","text/html"],IG="text/html";let Jc,IC=null;const DG=c.createElement("form"),R9=function(Nt){return Nt instanceof RegExp||Nt instanceof Function},xv=function(Nt){if(!(IC&&IC===Nt)){if((!Nt||typeof Nt!="object")&&(Nt={}),Nt=Ih(Nt),y1=x6.indexOf(Nt.PARSER_MEDIA_TYPE)===-1?y1=IG:y1=Nt.PARSER_MEDIA_TYPE,Jc=y1==="application/xhtml+xml"?ck:lx,yr="ALLOWED_TAGS"in Nt?Rs({},Nt.ALLOWED_TAGS,Jc):wn,to="ALLOWED_ATTR"in Nt?Rs({},Nt.ALLOWED_ATTR,Jc):Us,Qk="ALLOWED_NAMESPACES"in Nt?Rs({},Nt.ALLOWED_NAMESPACES,ck):O9,Tu="ADD_URI_SAFE_ATTR"in Nt?Rs(Ih($h),Nt.ADD_URI_SAFE_ATTR,Jc):$h,wa="ADD_DATA_URI_TAGS"in Nt?Rs(Ih(Ca),Nt.ADD_DATA_URI_TAGS,Jc):Ca,Va="FORBID_CONTENTS"in Nt?Rs({},Nt.FORBID_CONTENTS,Jc):nc,ho="FORBID_TAGS"in Nt?Rs({},Nt.FORBID_TAGS,Jc):{},ls="FORBID_ATTR"in Nt?Rs({},Nt.FORBID_ATTR,Jc):{},Yi="USE_PROFILES"in Nt?Nt.USE_PROFILES:!1,Dn=Nt.ALLOW_ARIA_ATTR!==!1,is=Nt.ALLOW_DATA_ATTR!==!1,bs=Nt.ALLOW_UNKNOWN_PROTOCOLS||!1,_l=Nt.ALLOW_SELF_CLOSE_IN_ATTR!==!1,lr=Nt.SAFE_FOR_TEMPLATES||!1,ll=Nt.WHOLE_DOCUMENT||!1,Eu=Nt.RETURN_DOM||!1,Nf=Nt.RETURN_DOM_FRAGMENT||!1,Tg=Nt.RETURN_TRUSTED_TYPE||!1,ob=Nt.FORCE_BODY||!1,Mf=Nt.SANITIZE_DOM!==!1,Ag=Nt.SANITIZE_NAMED_PROPS||!1,Ps=Nt.KEEP_CONTENT!==!1,wi=Nt.IN_PLACE||!1,yc=Nt.ALLOWED_URI_REGEXP||$5,Ax=Nt.NAMESPACE||Og,kn=Nt.CUSTOM_ELEMENT_HANDLING||{},Nt.CUSTOM_ELEMENT_HANDLING&&R9(Nt.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(kn.tagNameCheck=Nt.CUSTOM_ELEMENT_HANDLING.tagNameCheck),Nt.CUSTOM_ELEMENT_HANDLING&&R9(Nt.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(kn.attributeNameCheck=Nt.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),Nt.CUSTOM_ELEMENT_HANDLING&&typeof Nt.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(kn.allowCustomizedBuiltInElements=Nt.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),lr&&(is=!1),Nf&&(Eu=!0),Yi&&(yr=Rs({},[...L5]),to=[],Yi.html===!0&&(Rs(yr,uO),Rs(to,B5)),Yi.svg===!0&&(Rs(yr,dO),Rs(to,mO),Rs(to,dk)),Yi.svgFilters===!0&&(Rs(yr,uk),Rs(to,mO),Rs(to,dk)),Yi.mathMl===!0&&(Rs(yr,fO),Rs(to,F5),Rs(to,dk))),Nt.ADD_TAGS&&(yr===wn&&(yr=Ih(yr)),Rs(yr,Nt.ADD_TAGS,Jc)),Nt.ADD_ATTR&&(to===Us&&(to=Ih(to)),Rs(to,Nt.ADD_ATTR,Jc)),Nt.ADD_URI_SAFE_ATTR&&Rs(Tu,Nt.ADD_URI_SAFE_ATTR,Jc),Nt.FORBID_CONTENTS&&(Va===nc&&(Va=Ih(Va)),Rs(Va,Nt.FORBID_CONTENTS,Jc)),Ps&&(yr["#text"]=!0),ll&&Rs(yr,["html","head","body"]),yr.table&&(Rs(yr,["tbody"]),delete ho.tbody),Nt.TRUSTED_TYPES_POLICY){if(typeof Nt.TRUSTED_TYPES_POLICY.createHTML!="function")throw dv('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof Nt.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw dv('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');ct=Nt.TRUSTED_TYPES_POLICY,kt=ct.createHTML("")}else ct===void 0&&(ct=U5(we,a)),ct!==null&&typeof kt=="string"&&(kt=ct.createHTML(""));ud&&ud(Nt),IC=Nt}},mR=Rs({},["mi","mo","mn","ms","mtext"]),At=Rs({},["foreignobject","desc","title","annotation-xml"]),It=Rs({},["title","style","font","a","script"]),vn=Rs({},dO);Rs(vn,uk),Rs(vn,J$);const mn=Rs({},fO);Rs(mn,X2);const wo=function(Nt){let Qn=ft(Nt);(!Qn||!Qn.tagName)&&(Qn={namespaceURI:Ax,tagName:"template"});const Bo=lx(Nt.tagName),sa=lx(Qn.tagName);return Qk[Nt.namespaceURI]?Nt.namespaceURI===zh?Qn.namespaceURI===Og?Bo==="svg":Qn.namespaceURI===Vh?Bo==="svg"&&(sa==="annotation-xml"||mR[sa]):!!vn[Bo]:Nt.namespaceURI===Vh?Qn.namespaceURI===Og?Bo==="math":Qn.namespaceURI===zh?Bo==="math"&&At[sa]:!!mn[Bo]:Nt.namespaceURI===Og?Qn.namespaceURI===zh&&!At[sa]||Qn.namespaceURI===Vh&&!mR[sa]?!1:!mn[Bo]&&(It[Bo]||!vn[Bo]):!!(y1==="application/xhtml+xml"&&Qk[Nt.namespaceURI]):!1},Ts=function(Nt){Am(n.removed,{element:Nt});try{Nt.parentNode.removeChild(Nt)}catch{Nt.remove()}},Ci=function(Nt,Qn){try{Am(n.removed,{attribute:Qn.getAttributeNode(Nt),from:Qn})}catch{Am(n.removed,{attribute:null,from:Qn})}if(Qn.removeAttribute(Nt),Nt==="is"&&!to[Nt])if(Eu||Nf)try{Ts(Qn)}catch{}else try{Qn.setAttribute(Nt,"")}catch{}},Hh=function(Nt){let Qn,Bo;if(ob)Nt="<remove></remove>"+Nt;else{const Uh=lO(Nt,/^[\r\n\t ]+/);Bo=Uh&&Uh[0]}y1==="application/xhtml+xml"&&Ax===Og&&(Nt='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+Nt+"</body></html>");const sa=ct?ct.createHTML(Nt):Nt;if(Ax===Og)try{Qn=new ae().parseFromString(sa,y1)}catch{}if(!Qn||!Qn.documentElement){Qn=qt.createDocument(Ax,"template",null);try{Qn.documentElement.innerHTML=Jk?kt:sa}catch{}}const Au=Qn.body||Qn.documentElement;return Nt&&Bo&&Au.insertBefore(c.createTextNode(Bo),Au.childNodes[0]||null),Ax===Og?$t.call(Qn,ll?"html":"body")[0]:ll?Qn.documentElement:Au},w6=function(Nt){return gn.call(Nt.ownerDocument||Nt,Nt,V.SHOW_ELEMENT|V.SHOW_COMMENT|V.SHOW_TEXT,null,!1)},Tde=function(Nt){return Nt instanceof Q&&(typeof Nt.nodeName!="string"||typeof Nt.textContent!="string"||typeof Nt.removeChild!="function"||!(Nt.attributes instanceof X)||typeof Nt.removeAttribute!="function"||typeof Nt.setAttribute!="function"||typeof Nt.namespaceURI!="string"||typeof Nt.insertBefore!="function"||typeof Nt.hasChildNodes!="function")},C6=function(Nt){return typeof S=="object"?Nt instanceof S:Nt&&typeof Nt=="object"&&typeof Nt.nodeType=="number"&&typeof Nt.nodeName=="string"},x1=function(Nt,Qn,Bo){Zt[Nt]&&aO(Zt[Nt],sa=>{sa.call(n,Qn,Bo,IC)})},PG=function(Nt){let Qn;if(x1("beforeSanitizeElements",Nt,null),Tde(Nt))return Ts(Nt),!0;const Bo=Jc(Nt.nodeName);if(x1("uponSanitizeElement",Nt,{tagName:Bo,allowedTags:yr}),Nt.hasChildNodes()&&!C6(Nt.firstElementChild)&&(!C6(Nt.content)||!C6(Nt.content.firstElementChild))&&Cu(/<[/\w]/g,Nt.innerHTML)&&Cu(/<[/\w]/g,Nt.textContent))return Ts(Nt),!0;if(!yr[Bo]||ho[Bo]){if(!ho[Bo]&&MG(Bo)&&(kn.tagNameCheck instanceof RegExp&&Cu(kn.tagNameCheck,Bo)||kn.tagNameCheck instanceof Function&&kn.tagNameCheck(Bo)))return!1;if(Ps&&!Va[Bo]){const sa=ft(Nt)||Nt.parentNode,Au=nt(Nt)||Nt.childNodes;if(Au&&sa){const Uh=Au.length;for(let Hl=Uh-1;Hl>=0;--Hl)sa.insertBefore(_e(Au[Hl],!0),$e(Nt))}}return Ts(Nt),!0}return Nt instanceof T&&!wo(Nt)||(Bo==="noscript"||Bo==="noembed"||Bo==="noframes")&&Cu(/<\/no(script|embed|frames)/i,Nt.innerHTML)?(Ts(Nt),!0):(lr&&Nt.nodeType===3&&(Qn=Nt.textContent,Qn=Rf(Qn,Hn," "),Qn=Rf(Qn,so," "),Qn=Rf(Qn,rs," "),Nt.textContent!==Qn&&(Am(n.removed,{element:Nt.cloneNode()}),Nt.textContent=Qn)),x1("afterSanitizeElements",Nt,null),!1)},NG=function(Nt,Qn,Bo){if(Mf&&(Qn==="id"||Qn==="name")&&(Bo in c||Bo in DG))return!1;if(!(is&&!ls[Qn]&&Cu(fs,Qn))){if(!(Dn&&Cu(Js,Qn))){if(!to[Qn]||ls[Qn]){if(!(MG(Nt)&&(kn.tagNameCheck instanceof RegExp&&Cu(kn.tagNameCheck,Nt)||kn.tagNameCheck instanceof Function&&kn.tagNameCheck(Nt))&&(kn.attributeNameCheck instanceof RegExp&&Cu(kn.attributeNameCheck,Qn)||kn.attributeNameCheck instanceof Function&&kn.attributeNameCheck(Qn))||Qn==="is"&&kn.allowCustomizedBuiltInElements&&(kn.tagNameCheck instanceof RegExp&&Cu(kn.tagNameCheck,Bo)||kn.tagNameCheck instanceof Function&&kn.tagNameCheck(Bo))))return!1}else if(!Tu[Qn]){if(!Cu(yc,Rf(Bo,Vi,""))){if(!((Qn==="src"||Qn==="xlink:href"||Qn==="href")&&Nt!=="script"&&cO(Bo,"data:")===0&&wa[Nt])){if(!(bs&&!Cu(cr,Rf(Bo,Vi,"")))){if(Bo)return!1}}}}}}return!0},MG=function(Nt){return Nt.indexOf("-")>0},LG=function(Nt){let Qn,Bo,sa,Au;x1("beforeSanitizeAttributes",Nt,null);const{attributes:Uh}=Nt;if(!Uh)return;const Hl={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:to};for(Au=Uh.length;Au--;){Qn=Uh[Au];const{name:Wh,namespaceURI:I9}=Qn;Bo=Wh==="value"?Qn.value:M5(Qn.value);const Ode=Bo;if(sa=Jc(Wh),Hl.attrName=sa,Hl.attrValue=Bo,Hl.keepAttr=!0,Hl.forceKeepAttr=void 0,x1("uponSanitizeAttribute",Nt,Hl),Bo=Hl.attrValue,Hl.forceKeepAttr)continue;if(!Hl.keepAttr){Ci(Wh,Nt);continue}if(!_l&&Cu(/\/>/i,Bo)){Ci(Wh,Nt);continue}lr&&(Bo=Rf(Bo,Hn," "),Bo=Rf(Bo,so," "),Bo=Rf(Bo,rs," "));const BG=Jc(Nt.nodeName);if(!NG(BG,sa,Bo)){Ci(Wh,Nt);continue}if(Ag&&(sa==="id"||sa==="name")&&(Ci(Wh,Nt),Bo=ao+Bo),ct&&typeof we=="object"&&typeof we.getAttributeType=="function"&&!I9)switch(we.getAttributeType(BG,sa)){case"TrustedHTML":{Bo=ct.createHTML(Bo);break}case"TrustedScriptURL":{Bo=ct.createScriptURL(Bo);break}}if(Bo!==Ode)try{I9?Nt.setAttributeNS(I9,Wh,Bo):Nt.setAttribute(Wh,Bo)}catch{Ci(Wh,Nt)}}x1("afterSanitizeAttributes",Nt,null)},Ade=function vs(Nt){let Qn;const Bo=w6(Nt);for(x1("beforeSanitizeShadowDOM",Nt,null);Qn=Bo.nextNode();)x1("uponSanitizeShadowNode",Qn,null),!PG(Qn)&&(Qn.content instanceof g&&vs(Qn.content),LG(Qn));x1("afterSanitizeShadowDOM",Nt,null)};return n.sanitize=function(vs){let Nt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Qn,Bo,sa,Au;if(Jk=!vs,Jk&&(vs="<!-->"),typeof vs!="string"&&!C6(vs))if(typeof vs.toString=="function"){if(vs=vs.toString(),typeof vs!="string")throw dv("dirty is not a string, aborting")}else throw dv("toString is not a function");if(!n.isSupported)return vs;if(Eg||xv(Nt),n.removed=[],typeof vs=="string"&&(wi=!1),wi){if(vs.nodeName){const Wh=Jc(vs.nodeName);if(!yr[Wh]||ho[Wh])throw dv("root node is forbidden and cannot be sanitized in-place")}}else if(vs instanceof S)Qn=Hh("<!---->"),Bo=Qn.ownerDocument.importNode(vs,!0),Bo.nodeType===1&&Bo.nodeName==="BODY"||Bo.nodeName==="HTML"?Qn=Bo:Qn.appendChild(Bo);else{if(!Eu&&!lr&&!ll&&vs.indexOf("<")===-1)return ct&&Tg?ct.createHTML(vs):vs;if(Qn=Hh(vs),!Qn)return Eu?null:Tg?kt:""}Qn&&ob&&Ts(Qn.firstChild);const Uh=w6(wi?vs:Qn);for(;sa=Uh.nextNode();)PG(sa)||(sa.content instanceof g&&Ade(sa.content),LG(sa));if(wi)return vs;if(Eu){if(Nf)for(Au=Pn.call(Qn.ownerDocument);Qn.firstChild;)Au.appendChild(Qn.firstChild);else Au=Qn;return(to.shadowroot||to.shadowrootmode)&&(Au=Rt.call(o,Au,!0)),Au}let Hl=ll?Qn.outerHTML:Qn.innerHTML;return ll&&yr["!doctype"]&&Qn.ownerDocument&&Qn.ownerDocument.doctype&&Qn.ownerDocument.doctype.name&&Cu(gO,Qn.ownerDocument.doctype.name)&&(Hl="<!DOCTYPE "+Qn.ownerDocument.doctype.name+`>
`+Hl),lr&&(Hl=Rf(Hl,Hn," "),Hl=Rf(Hl,so," "),Hl=Rf(Hl,rs," ")),ct&&Tg?ct.createHTML(Hl):Hl},n.setConfig=function(vs){xv(vs),Eg=!0},n.clearConfig=function(){IC=null,Eg=!1},n.isValidAttribute=function(vs,Nt,Qn){IC||xv({});const Bo=Jc(vs),sa=Jc(Nt);return NG(Bo,sa,Qn)},n.addHook=function(vs,Nt){typeof Nt=="function"&&(Zt[vs]=Zt[vs]||[],Am(Zt[vs],Nt))},n.removeHook=function(vs){if(Zt[vs])return N5(Zt[vs])},n.removeHooks=function(vs){Zt[vs]&&(Zt[vs]=[])},n.removeAllHooks=function(){Zt={}},n}var bO=pO();const W5=dn.each,K5=dn.trim,sV=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],rV={ftp:21,http:80,https:443,mailto:25},j5=["img","video"],Z5=(e,n)=>Me(e)?!e:Me(n)?!Se(j5,n):!0,iV=e=>{try{return decodeURIComponent(e)}catch{return unescape(e)}},vO=(e,n,o)=>{const a=iV(n).replace(/\s/g,"");return e.allow_script_urls?!1:/((java|vb)script|mhtml):/i.test(a)?!0:e.allow_html_data_urls?!1:/^data:image\//i.test(a)?Z5(e.allow_svg_data_urls,o)&&/^data:image\/svg\+xml/i.test(a):/^data:/i.test(a)};class If{static parseDataUri(n){let o;const a=decodeURIComponent(n).split(","),c=/data:([^;]+)/.exec(a[0]);return c&&(o=c[1]),{type:o,data:a[1]}}static isDomSafe(n,o,a={}){if(a.allow_script_urls)return!0;{const c=pp.decode(n).replace(/[\s\u0000-\u001F]+/g,"");return!vO(a,c,o)}}static getDocumentBaseUrl(n){var o;let a;return n.protocol.indexOf("http")!==0&&n.protocol!=="file:"?a=(o=n.href)!==null&&o!==void 0?o:"":a=n.protocol+"//"+n.host+n.pathname,/^[^:]+:\/\/\/?[^\/]+\//.test(a)&&(a=a.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(a)||(a+="/")),a}constructor(n,o={}){this.path="",this.directory="",n=K5(n),this.settings=o;const a=o.base_uri,c=this;if(/^([\w\-]+):([^\/]{2})/i.test(n)||/^\s*#/.test(n)){c.source=n;return}const g=n.indexOf("//")===0;if(n.indexOf("/")===0&&!g&&(n=(a&&a.protocol||"http")+"://mce_host"+n),!/^[\w\-]*:?\/\//.test(n)){const S=a?a.path:new If(document.location.href).directory;if((a==null?void 0:a.protocol)==="")n="//mce_host"+c.toAbsPath(S,n);else{const T=/([^#?]*)([#?]?.*)/.exec(n);T&&(n=(a&&a.protocol||"http")+"://mce_host"+c.toAbsPath(S,T[1])+T[2])}}n=n.replace(/@@/g,"(mce_at)");const p=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*):?([^:@\/]*))?@)?(\[[a-zA-Z0-9:.%]+\]|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(n);p&&W5(sV,(S,T)=>{let V=p[T];V&&(V=V.replace(/\(mce_at\)/g,"@@")),c[S]=V}),a&&(c.protocol||(c.protocol=a.protocol),c.userInfo||(c.userInfo=a.userInfo),!c.port&&c.host==="mce_host"&&(c.port=a.port),(!c.host||c.host==="mce_host")&&(c.host=a.host),c.source=""),g&&(c.protocol="")}setPath(n){const o=/^(.*?)\/?(\w+)?$/.exec(n);o&&(this.path=o[0],this.directory=o[1],this.file=o[2]),this.source="",this.getURI()}toRelative(n){if(n==="./")return n;const o=new If(n,{base_uri:this});if(o.host!=="mce_host"&&this.host!==o.host&&o.host||this.port!==o.port||this.protocol!==o.protocol&&o.protocol!=="")return o.getURI();const a=this.getURI(),c=o.getURI();if(a===c||a.charAt(a.length-1)==="/"&&a.substr(0,a.length-1)===c)return a;let g=this.toRelPath(this.path,o.path);return o.query&&(g+="?"+o.query),o.anchor&&(g+="#"+o.anchor),g}toAbsolute(n,o){const a=new If(n,{base_uri:this});return a.getURI(o&&this.isSameOrigin(a))}isSameOrigin(n){if(this.host==n.host&&this.protocol==n.protocol){if(this.port==n.port)return!0;const o=this.protocol?rV[this.protocol]:null;if(o&&(this.port||o)==(n.port||o))return!0}return!1}toRelPath(n,o){let a=0,c="",g,p;const S=n.substring(0,n.lastIndexOf("/")).split("/"),T=o.split("/");if(S.length>=T.length){for(g=0,p=S.length;g<p;g++)if(g>=T.length||S[g]!==T[g]){a=g+1;break}}if(S.length<T.length){for(g=0,p=T.length;g<p;g++)if(g>=S.length||S[g]!==T[g]){a=g+1;break}}if(a===1)return o;for(g=0,p=S.length-(a-1);g<p;g++)c+="../";for(g=a-1,p=T.length;g<p;g++)g!==a-1?c+="/"+T[g]:c+=T[g];return c}toAbsPath(n,o){let a=0;const c=/\/$/.test(o)?"/":"",g=n.split("/"),p=o.split("/"),S=[];W5(g,Q=>{Q&&S.push(Q)});const T=[];for(let Q=p.length-1;Q>=0;Q--)if(!(p[Q].length===0||p[Q]===".")){if(p[Q]===".."){a++;continue}if(a>0){a--;continue}T.push(p[Q])}const V=S.length-a;let X;return V<=0?X=sr(T).join("/"):X=S.slice(0,V).join("/")+"/"+sr(T).join("/"),X.indexOf("/")!==0&&(X="/"+X),c&&X.lastIndexOf("/")!==X.length-1&&(X+=c),X}getURI(n=!1){let o;return(!this.source||n)&&(o="",n||(this.protocol?o+=this.protocol+"://":o+="//",this.userInfo&&(o+=this.userInfo+"@"),this.host&&(o+=this.host),this.port&&(o+=":"+this.port)),this.path&&(o+=this.path),this.query&&(o+="?"+this.query),this.anchor&&(o+="#"+this.anchor),this.source=o),this.source}}const aV=dn.makeMap("src,href,data,background,action,formaction,poster,xlink:href"),yO="data-mce-type";let G5=0;const q5=(e,n,o,a,c)=>{var g,p,S,T;const V=n.validate,X=o.getSpecialElements();e.nodeType===hd&&!n.allow_conditional_comments&&/^\[if/i.test((g=e.nodeValue)!==null&&g!==void 0?g:"")&&(e.nodeValue=" "+e.nodeValue);const Q=(p=c==null?void 0:c.tagName)!==null&&p!==void 0?p:e.nodeName.toLowerCase();if(a!=="html"&&o.isValid(a)){Me(c)&&(c.allowedTags[Q]=!0);return}if(e.nodeType!==Nl||Q==="body")return;const ae=Ye.fromDom(e),we=pd(ae,yO),De=Ia(ae,"data-mce-bogus");if(!we&&he(De)){De==="all"?Hs(ae):ha(ae);return}const _e=o.getElementRule(Q);if(V&&!_e){So(X,Q)?Hs(ae):ha(ae);return}else Me(c)&&(c.allowedTags[Q]=!0);if(V&&_e&&!we){if(xe((S=_e.attributesForced)!==null&&S!==void 0?S:[],$e=>{Ei(ae,$e.name,$e.value==="{$uid}"?`mce_${G5++}`:$e.value)}),xe((T=_e.attributesDefault)!==null&&T!==void 0?T:[],$e=>{pd(ae,$e.name)||Ei(ae,$e.name,$e.value==="{$uid}"?`mce_${G5++}`:$e.value)}),_e.attributesRequired&&!Pe(_e.attributesRequired,$e=>pd(ae,$e))){ha(ae);return}if(_e.removeEmptyAttrs&&ai(ae)){ha(ae);return}_e.outputName&&_e.outputName!==Q&&Cw(ae,_e.outputName)}},lV=(e,n,o,a,c)=>{const g=e.tagName.toLowerCase(),{attrName:p,attrValue:S}=c;c.keepAttr=J2(n,o,a,g,p,S),c.keepAttr?(c.allowedAttributes[p]=!0,wO(p,o)&&(c.attrValue=p),n.allow_svg_data_urls&&wr(S,"data:image/svg+xml")&&(c.forceKeepAttr=!0)):xO(e,p)&&(c.forceKeepAttr=!0)},J2=(e,n,o,a,c,g)=>o!=="html"&&!cm(a)?!0:!(c in aV&&vO(e,g,a))&&(!e.validate||n.isValid(a,c)||wr(c,"data-")||wr(c,"aria-")),xO=(e,n)=>e.hasAttribute(yO)&&(n==="id"||n==="class"||n==="style"),wO=(e,n)=>e in n.getBoolAttrs(),Y5=(e,n,o,a)=>{const{attributes:c}=e;for(let g=c.length-1;g>=0;g--){const p=c[g],S=p.name,T=p.value;!J2(n,o,a,e.tagName.toLowerCase(),S,T)&&!xO(e,S)?e.removeAttribute(S):wO(S,o)&&e.setAttribute(S,S)}},cV=(e,n,o)=>{const a=bO();return a.addHook("uponSanitizeElement",(c,g)=>{q5(c,e,n,o.track(c),g)}),a.addHook("uponSanitizeAttribute",(c,g)=>{lV(c,e,n,o.current(),g)}),a},uV=(e,n)=>{const a={...{IN_PLACE:!0,ALLOW_UNKNOWN_PROTOCOLS:!0,ALLOWED_TAGS:["#comment","#cdata-section","body"],ALLOWED_ATTR:[]}};return a.PARSER_MEDIA_TYPE=n,e.allow_script_urls?a.ALLOWED_URI_REGEXP=/.*/:e.allow_html_data_urls&&(a.ALLOWED_URI_REGEXP=/^(?!(\w+script|mhtml):)/i),a},X5=e=>{const n=D(e);if(n==="svg"){const o=["type","href","role","arcrole","title","show","actuate","label","from","to"].map(c=>`xlink:${c}`),a={IN_PLACE:!0,USE_PROFILES:{html:!0,svg:!0,svgFilters:!0},ALLOWED_ATTR:o};bO().sanitize(e,a)}else if(n==="math"){const o={IN_PLACE:!0,USE_PROFILES:{mathMl:!0}};bO().sanitize(e,o)}else throw new Error("Not a namespace element")},dV=(e,n)=>{const o=ue();if(e.sanitize){const a=cV(e,n,o);return{sanitizeHtmlElement:(g,p)=>{a.sanitize(g,uV(e,p)),a.removed=[],o.reset()},sanitizeNamespaceElement:X5}}else return{sanitizeHtmlElement:(g,p)=>{const S=document.createNodeIterator(g,NodeFilter.SHOW_ELEMENT|NodeFilter.SHOW_COMMENT|NodeFilter.SHOW_TEXT);let T;for(;T=S.nextNode();){const V=o.track(T);q5(T,e,n,V),Un(T)&&Y5(T,e,n,V)}o.reset()},sanitizeNamespaceElement:it}},fk=dn.makeMap,CO=dn.extend,J5=(e,n,o,a)=>{const c=e.name,g=c in o&&c!=="title"&&c!=="textarea"&&c!=="noscript",p=n.childNodes;for(let S=0,T=p.length;S<T;S++){const V=p[S],X=new Sl(V.nodeName.toLowerCase(),V.nodeType);if(Un(V)){const Q=V.attributes;for(let ae=0,we=Q.length;ae<we;ae++){const De=Q[ae];X.attr(De.name,De.value)}cm(X.name)&&(a(V),X.value=V.innerHTML)}else on(V)?(X.value=V.data,g&&(X.raw=!0)):(Wo(V)||Wv(V)||mf(V))&&(X.value=V.data);cm(X.name)||J5(X,V,o,a),e.append(X)}},il=(e,n,o)=>{const a=[];for(let c=e,g=c;c;g=c,c=c.walk()){const p=c;xe(n,S=>S(p)),dt(p.parent)&&p!==e?c=g:a.push(p)}for(let c=a.length-1;c>=0;c--){const g=a[c];xe(o,p=>p(g))}},Dh=(e,n,o,a)=>{const c=o.validate,g=n.getNonEmptyElements(),p=n.getWhitespaceElements(),S=CO(fk("script,style,head,html,body,title,meta,param"),n.getBlockElements()),T=ny(n),V=/[ \t\r\n]+/g,X=/^[ \t\r\n]+/,Q=/[ \t\r\n]+$/,ae=ft=>{let ct=ft.parent;for(;Me(ct);){if(ct.name in p)return!0;ct=ct.parent}return!1},we=ft=>{let ct=ft;for(;Me(ct);){if(ct.name in T)return ox(n,g,p,ct);ct=ct.parent}return!1},De=ft=>ft.name in S||xd(n,ft)||cm(ft.name)&&ft.parent===e,_e=(ft,ct)=>{const kt=ct?ft.prev:ft.next;return Me(kt)||dt(ft.parent)?!1:De(ft.parent)&&(ft.parent!==e||a.isRootContent===!0)};return[ft=>{var ct;if(ft.type===3&&!ae(ft)){let kt=(ct=ft.value)!==null&&ct!==void 0?ct:"";kt=kt.replace(V," "),(FN(ft.prev,De)||_e(ft,!0))&&(kt=kt.replace(X,"")),kt.length===0||kt===" "&&ft.prev&&ft.prev.type===hd&&ft.next&&ft.next.type===hd?ft.remove():ft.value=kt}},ft=>{var ct;if(ft.type===1){const kt=n.getElementRule(ft.name);if(c&&kt){const qt=ox(n,g,p,ft);kt.paddInEmptyBlock&&qt&&we(ft)?B_(o,a,De,ft):kt.removeEmpty&&qt?De(ft)?ft.remove():ft.unwrap():kt.paddEmpty&&(qt||F_(ft))&&B_(o,a,De,ft)}}else if(ft.type===3&&!ae(ft)){let kt=(ct=ft.value)!==null&&ct!==void 0?ct:"";(ft.next&&De(ft.next)||_e(ft,!1))&&(kt=kt.replace(Q,"")),kt.length===0?ft.remove():ft.value=kt}}]},fV=(e,n)=>{var o;const a=(o=n.forced_root_block)!==null&&o!==void 0?o:e.forced_root_block;return a===!1?"":a===!0?"p":a},cx=(e={},n=Ju())=>{const o=rk(),a=rk(),c={validate:!0,root_name:"body",sanitize:!0,...e},g=new DOMParser,p=dV(c,n),S=(ct,kt,qt="html")=>{const gn=qt==="xhtml"?"application/xhtml+xml":"text/html",Pn=So(n.getSpecialElements(),kt.toLowerCase()),$t=Pn?`<${kt}>${ct}</${kt}>`:ct,Rt=()=>qt==="xhtml"?`<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>${$t}</body></html>`:/^[\s]*<head/i.test(ct)||/^[\s]*<html/i.test(ct)||/^[\s]*<!DOCTYPE/i.test(ct)?`<html>${$t}</html>`:`<body>${$t}</body>`,Zt=g.parseFromString(Rt(),gn).body;return p.sanitizeHtmlElement(Zt,gn),Pn?Zt.firstChild:Zt},T=o.addFilter,V=o.getFilters,X=o.removeFilter,Q=a.addFilter,ae=a.getFilters,we=a.removeFilter,De=(ct,kt)=>{V2(n,ct)&&kt.push(ct)},_e=(ct,kt)=>{const qt=he(kt.attr(yO)),gn=kt.type===1&&!So(ct,kt.name)&&!xd(n,kt)&&!cm(kt.name);return kt.type===3||gn&&!qt},$e=(ct,kt)=>{const qt=CO(fk("script,style,head,html,body,title,meta,param"),n.getBlockElements()),gn=/^[ \t\r\n]+/,Pn=/[ \t\r\n]+$/;let $t=ct.firstChild,Rt=null;const Zt=Hn=>{var so,rs;Hn&&($t=Hn.firstChild,$t&&$t.type===3&&($t.value=(so=$t.value)===null||so===void 0?void 0:so.replace(gn,"")),$t=Hn.lastChild,$t&&$t.type===3&&($t.value=(rs=$t.value)===null||rs===void 0?void 0:rs.replace(Pn,"")))};if(n.isValidChild(ct.name,kt.toLowerCase())){for(;$t;){const Hn=$t.next;_e(qt,$t)?(Rt||(Rt=new Sl(kt,1),Rt.attr(c.forced_root_block_attrs),ct.insert(Rt,$t)),Rt.append($t)):(Zt(Rt),Rt=null),$t=Hn}Zt(Rt)}},ft={schema:n,addAttributeFilter:Q,getAttributeFilters:ae,removeAttributeFilter:we,addNodeFilter:T,getNodeFilters:V,removeNodeFilter:X,parse:(ct,kt={})=>{var qt;const gn=c.validate,Pn=(qt=kt.context)!==null&&qt!==void 0?qt:c.root_name,$t=S(ct,Pn,kt.format);Qo(n,$t);const Rt=new Sl(Pn,11);J5(Rt,$t,n.getSpecialElements(),p.sanitizeNamespaceElement),$t.innerHTML="";const[Zt,Hn]=Dh(Rt,n,c,kt),so=[],rs=gn?Vi=>De(Vi,so):it,fs={nodes:{},attributes:{}},Js=Vi=>u3(V(),ae(),Vi,fs);if(il(Rt,[Zt,Js],[Hn,rs]),so.reverse(),gn&&so.length>0)if(kt.context){const{pass:Vi,fail:yc}=Fe(so,yr=>yr.parent===Rt);Pd(yc,n,Rt,Js),kt.invalid=Vi.length>0}else Pd(so,n,Rt,Js);const cr=fV(c,kt);return cr&&(Rt.name==="body"||kt.isRootContent)&&$e(Rt,cr),kt.invalid||d3(fs,kt),Rt}};return q$(ft,c),U$(ft,c,n),ft},mV=e=>t1(e)?zp({validate:!1}).serialize(e):e,SO=(e,n,o)=>{const a=mV(e),c=n(a);if(c.isDefaultPrevented())return c;if(t1(e))if(c.content!==a){const g=cx({validate:!1,forced_root_block:!1,...o}).parse(c.content,{context:e.name});return{...c,content:g}}else return{...c,content:e};else return c},r1=e=>({sanitize:JI(e),sandbox_iframes:kT(e),sandbox_iframes_exclusions:kS(e)}),Q5=(e,n)=>{if(n.no_events)return bo.value(n);{const o=yg(e,n);return o.isDefaultPrevented()?bo.error(tP(e,{content:"",...o}).content):bo.value(o)}},Om=(e,n,o)=>o.no_events?n:SO(n,c=>tP(e,{...o,content:c}),r1(e)).content,_O=(e,n)=>{if(n.no_events)return bo.value(n);{const o=SO(n.content,a=>u7(e,{...n,content:a}),r1(e));return o.isDefaultPrevented()?(xu(e,o),bo.error(void 0)):bo.value(o)}},kO=(e,n,o)=>{o.no_events||xu(e,{...o,content:n})},mk=(e,n,o)=>({element:e,width:n,rows:o}),EO=(e,n)=>({element:e,cells:n}),gV=(e,n)=>({x:e,y:n}),gk=(e,n)=>hi(e,n).bind(Cn).getOr(1),Ph=(e,n,o,a,c)=>{const g=gk(c,"rowspan"),p=gk(c,"colspan"),S=e.rows;for(let T=o;T<o+g;T++){S[T]||(S[T]=EO(lh(a),[]));for(let V=n;V<n+p;V++){const X=S[T].cells;X[V]=T===o&&V===n?c:yi(c)}}},eM=(e,n,o)=>{const a=e.rows;return!!(a[o]?a[o].cells:[])[n]},tM=(e,n,o)=>{for(;eM(e,n,o);)n++;return n},Q2=e=>pn(e,(n,o)=>o.cells.length>n?o.cells.length:n,0),hk=(e,n)=>{const o=e.rows;for(let a=0;a<o.length;a++){const c=o[a].cells;for(let g=0;g<c.length;g++)if(us(c[g],n))return ee.some(gV(g,a))}return ee.none()},TO=(e,n,o,a,c)=>{const g=[],p=e.rows;for(let S=o;S<=c;S++){const T=p[S].cells,V=n<a?T.slice(n,a+1):T.slice(a,n+1);g.push(EO(p[S].element,V))}return g},nM=(e,n,o)=>{const a=n.x,c=n.y,g=o.x,p=o.y,S=c<p?TO(e,a,c,g,p):TO(e,a,p,g,c);return mk(e.element,Q2(S),S)},oM=(e,n)=>{const o=yi(e.element),a=Ye.fromTag("tbody");return li(a,n),Vr(o,a),o},hV=e=>Ke(e.rows,n=>{const o=Ke(n.cells,c=>{const g=lh(c);return Yo(g,"colspan"),Yo(g,"rowspan"),g}),a=yi(n.element);return li(a,o),a}),pV=e=>{const n=mk(yi(e),0,[]);return xe(bi(e,"tr"),(o,a)=>{xe(bi(o,"td,th"),(c,g)=>{Ph(n,tM(n,g,a),a,o,c)})}),mk(n.element,Q2(n.rows),n.rows)},bV=e=>oM(e,hV(e)),sM=(e,n,o)=>hk(e,n).bind(a=>hk(e,o).map(c=>nM(e,a,c))),rM=e=>An(e,n=>hs(n)==="ul"||hs(n)==="ol"),vV=(e,n)=>An(e,o=>hs(o)==="li"&&e2(o,n)).fold(mt([]),o=>rM(e).map(a=>{const c=Ye.fromTag(hs(a)),g=Dc(qm(a),(p,S)=>wr(S,"list-style"));return ds(c,g),[Ye.fromTag("li"),c]}).getOr([])),AO=(e,n)=>{const o=pn(n,(a,c)=>(Vr(c,a),c),e);return n.length>0?id([o]):o},iM=e=>uh(e)?Qi(e).filter(g0).fold(mt([]),n=>[e,n]):g0(e)?[e]:[],yV=(e,n,o)=>{const a=Ye.fromDom(n.commonAncestorContainer),c=ld(a,e),g=Je(c,T=>o.isWrapper(hs(T))),p=vV(c,n),S=g.concat(p.length?p:iM(a));return Ke(S,yi)},OO=()=>id([]),xV=(e,n,o)=>AO(Ye.fromDom(n.cloneContents()),yV(e,n,o)),wV=(e,n)=>Fc(n,"table",at(us,e)),bc=(e,n)=>wV(e,n[0]).bind(o=>{const a=n[0],c=n[n.length-1],g=pV(o);return sM(g,a,c).map(p=>id([bV(p)]))}).getOrThunk(OO),CV=(e,n,o)=>n.length>0&&n[0].collapsed?OO():xV(e,n[0],o),SV=(e,n,o)=>{const a=LD(n,e);return a.length>0?bc(e,a):CV(e,n,o)},pk=(e,n)=>n>=0&&n<e.length&&B0(e.charAt(n)),aM=e=>gc(e.innerText),bk=e=>e.map(n=>n.nodeName).getOr("div").toLowerCase(),_V=e=>ee.from(e.selection.getRng()).map(n=>{var o;const a=ee.from(e.dom.getParent(n.commonAncestorContainer,e.dom.isBlock)),c=e.getBody(),g=bk(a),p=Ye.fromDom(n.cloneContents());WP(p),KP(p);const S=e.dom.add(c,g,{"data-mce-bogus":"all",style:"overflow: hidden; opacity: 0;"},p.dom),T=aM(S),V=gc((o=S.textContent)!==null&&o!==void 0?o:"");if(e.dom.remove(S),pk(V,0)||pk(V,V.length-1)){const X=a.getOr(c),Q=aM(X),ae=Q.indexOf(T);if(ae===-1)return T;{const we=pk(Q,ae-1),De=pk(Q,ae+T.length);return(we?" ":"")+T+(De?" ":"")}}else return T}).getOr(""),RO=(e,n)=>{const o=e.selection.getRng(),a=e.dom.create("body"),c=e.selection.getSel(),g=d_(e,zr(c)),p=n.contextual?SV(Ye.fromDom(e.getBody()),g,e.schema).dom:o.cloneContents();return p&&a.appendChild(p),e.selection.serializer.serialize(a,n)},IO=(e,n)=>{if(n.format==="text")return _V(e);{const o=RO(e,n);return n.format==="tree"?o:e.selection.isCollapsed()?"":o}},kV=(e,n)=>({...e,format:n,get:!0,selection:!0,getInner:!0}),EV=(e,n,o={})=>{const a=kV(o,n);return Q5(e,a).fold(Rn,c=>{const g=IO(e,c);return Om(e,g,c)})},Df=0,DO=1,lM=2,PO=(e,n)=>{const o=e.length+n.length+2,a=new Array(o),c=new Array(o),g=(X,Q,ae)=>({start:X,end:Q,diag:ae}),p=(X,Q,ae,we,De)=>{const _e=T(X,Q,ae,we);if(_e===null||_e.start===Q&&_e.diag===Q-we||_e.end===X&&_e.diag===X-ae){let $e=X,nt=ae;for(;$e<Q||nt<we;)$e<Q&&nt<we&&e[$e]===n[nt]?(De.push([Df,e[$e]]),++$e,++nt):Q-X>we-ae?(De.push([lM,e[$e]]),++$e):(De.push([DO,n[nt]]),++nt)}else{p(X,_e.start,ae,_e.start-_e.diag,De);for(let $e=_e.start;$e<_e.end;++$e)De.push([Df,e[$e]]);p(_e.end,Q,_e.end-_e.diag,we,De)}},S=(X,Q,ae,we)=>{let De=X;for(;De-Q<we&&De<ae&&e[De]===n[De-Q];)++De;return g(X,De,Q)},T=(X,Q,ae,we)=>{const De=Q-X,_e=we-ae;if(De===0||_e===0)return null;const $e=De-_e,nt=_e+De,ft=(nt%2===0?nt:nt+1)/2;a[1+ft]=X,c[1+ft]=Q+1;let ct,kt,qt,gn,Pn;for(ct=0;ct<=ft;++ct){for(kt=-ct;kt<=ct;kt+=2){for(qt=kt+ft,kt===-ct||kt!==ct&&a[qt-1]<a[qt+1]?a[qt]=a[qt+1]:a[qt]=a[qt-1]+1,gn=a[qt],Pn=gn-X+ae-kt;gn<Q&&Pn<we&&e[gn]===n[Pn];)a[qt]=++gn,++Pn;if($e%2!==0&&$e-ct<=kt&&kt<=$e+ct&&c[qt-$e]<=a[qt])return S(c[qt-$e],kt+X-ae,Q,we)}for(kt=$e-ct;kt<=$e+ct;kt+=2){for(qt=kt+ft-$e,kt===$e-ct||kt!==$e+ct&&c[qt+1]<=c[qt-1]?c[qt]=c[qt+1]-1:c[qt]=c[qt-1],gn=c[qt]-1,Pn=gn-X+ae-kt;gn>=X&&Pn>=ae&&e[gn]===n[Pn];)c[qt]=gn--,Pn--;if($e%2===0&&-ct<=kt&&kt<=ct&&c[qt]<=a[qt+$e])return S(c[qt],kt+X-ae,Q,we)}}return null},V=[];return p(0,e.length,0,n.length,V),V},NO=e=>Un(e)?e.outerHTML:on(e)?pp.encodeRaw(e.data,!1):Wo(e)?"<!--"+e.data+"-->":"",vk=e=>{let n;const o=document.createElement("div"),a=document.createDocumentFragment();for(e&&(o.innerHTML=e);n=o.firstChild;)a.appendChild(n);return a},cM=(e,n,o)=>{const a=vk(n);if(e.hasChildNodes()&&o<e.childNodes.length){const c=e.childNodes[o];e.insertBefore(a,c)}else e.appendChild(a)},uM=(e,n)=>{if(e.hasChildNodes()&&n<e.childNodes.length){const o=e.childNodes[n];e.removeChild(o)}},dM=(e,n)=>{let o=0;xe(e,a=>{a[0]===Df?o++:a[0]===DO?(cM(n,a[1],o),o++):a[0]===lM&&uM(n,o)})},TV=(e,n)=>Je(Ke($o(e.childNodes),Ft(gc,NO)),o=>o.length>0),AV=(e,n)=>{const o=Ke($o(n.childNodes),NO);return dM(PO(o,e),n),n},MO=gl(()=>document.implementation.createHTMLDocument("undo")),OV=e=>e.querySelector("iframe")!==null,RV=e=>({type:"fragmented",fragments:e,content:"",bookmark:null,beforeBookmark:null}),yk=e=>({type:"complete",fragments:null,content:e,bookmark:null,beforeBookmark:null}),ux=e=>{const n=e.serializer.getTempAttrs(),o=SA(e.getBody(),n);return OV(o)?RV(TV(o)):yk(gc(o.innerHTML))},eC=(e,n,o)=>{const a=o?n.beforeBookmark:n.bookmark;n.type==="fragmented"?AV(n.fragments,e.getBody()):e.setContent(n.content,{format:"raw",no_selection:Me(a)&&AD(a)?!a.isFakeCaret:!0}),a&&(e.selection.moveToBookmark(a),e.selection.scrollIntoView())},xk=e=>e.type==="fragmented"?e.fragments.join(""):e.content,Gp=e=>{const n=Ye.fromTag("body",MO());return gu(n,xk(e)),xe(bi(n,"*[data-mce-bogus]"),ha),kc(n)},IV=(e,n)=>xk(e)===xk(n),DV=(e,n)=>Gp(e)===Gp(n),dx=(e,n)=>!e||!n?!1:IV(e,n)?!0:DV(e,n),wk=e=>e.get()===0,tC=(e,n,o)=>{wk(o)&&(e.typing=n)},LO=(e,n)=>{e.typing&&(tC(e,!1,n),e.add())},PV=e=>{e.typing&&(e.typing=!1,e.add())},NV=(e,n,o)=>{wk(n)&&o.set(Mn(e.selection))},BO=(e,n,o,a,c,g,p)=>{const S=ux(e),T=dn.extend(g||{},S);if(!wk(a)||e.removed)return null;const V=n.data[o.get()];if(e.dispatch("BeforeAddUndo",{level:T,lastLevel:V,originalEvent:p}).isDefaultPrevented()||V&&dx(V,T))return null;n.data[o.get()]&&c.get().each(ae=>{n.data[o.get()].beforeBookmark=ae});const X=KI(e);if(X&&n.data.length>X){for(let ae=0;ae<n.data.length-1;ae++)n.data[ae]=n.data[ae+1];n.data.length--,o.set(n.data.length)}T.bookmark=Mn(e.selection),o.get()<n.data.length-1&&(n.data.length=o.get()+1),n.data.push(T),o.set(n.data.length-1);const Q={level:T,lastLevel:V,originalEvent:p};return o.get()>0?(e.setDirty(!0),e.dispatch("AddUndo",Q),e.dispatch("change",Q)):e.dispatch("AddUndo",Q),T},FO=(e,n,o)=>{n.data=[],o.set(0),n.typing=!1,e.dispatch("ClearUndos")},$O=(e,n,o,a,c)=>{if(n.transact(a)){const g=n.data[o.get()].bookmark,p=n.data[o.get()-1];eC(e,p,!0),n.transact(c)&&(n.data[o.get()-1].beforeBookmark=g)}},fM=(e,n,o)=>{let a;return n.get()<o.length-1&&(n.set(n.get()+1),a=o[n.get()],eC(e,a,!1),e.setDirty(!0),e.dispatch("Redo",{level:a})),a},Ck=(e,n,o,a)=>{let c;return n.typing&&(n.add(),n.typing=!1,tC(n,!1,o)),a.get()>0&&(a.set(a.get()-1),c=n.data[a.get()],eC(e,c,!0),e.setDirty(!0),e.dispatch("Undo",{level:c})),c},mM=e=>{e.clear(),e.add()},gM=(e,n,o)=>o.get()>0||n.typing&&n.data[0]&&!dx(ux(e),n.data[0]),MV=(e,n)=>n.get()<e.data.length-1&&!e.typing,LV=(e,n,o)=>(LO(e,n),e.beforeChange(),e.ignore(o),e.add()),VO=(e,n)=>{try{e.set(e.get()+1),n()}finally{e.set(e.get()-1)}},hM=(e,n)=>{const o=e.dom,a=Me(n)?n:e.getBody();xe(o.select("table,a",a),c=>{switch(c.nodeName){case"TABLE":const g=SS(e),p=o.getAttrib(c,"border");(!p||p==="0")&&e.hasVisual?o.addClass(c,g):o.removeClass(c,g);break;case"A":if(!o.getAttrib(c,"href")){const S=o.getAttrib(c,"name")||c.id,T=Ny(e);S&&e.hasVisual?o.addClass(c,T):o.removeClass(c,T)}break}}),e.dispatch("VisualAid",{element:n,hasVisual:e.hasVisual})},zO=e=>({init:{bindEvents:it},undoManager:{beforeChange:(n,o)=>NV(e,n,o),add:(n,o,a,c,g,p)=>BO(e,n,o,a,c,g,p),undo:(n,o,a)=>Ck(e,n,o,a),redo:(n,o)=>fM(e,n,o),clear:(n,o)=>FO(e,n,o),reset:n=>mM(n),hasUndo:(n,o)=>gM(e,n,o),hasRedo:(n,o)=>MV(n,o),transact:(n,o,a)=>LV(n,o,a),ignore:(n,o)=>VO(n,o),extra:(n,o,a,c)=>$O(e,n,o,a,c)},formatter:{match:(n,o,a,c)=>rv(e,n,o,a,c),matchAll:(n,o)=>JN(e,n,o),matchNode:(n,o,a,c)=>Oh(e,n,o,a,c),canApply:n=>e5(e,n),closest:n=>QN(e,n),apply:(n,o,a)=>y5(e,n,o,a),remove:(n,o,a,c)=>cv(e,n,o,a,c),toggle:(n,o,a)=>$$(e,n,o,a),formatChanged:(n,o,a,c,g)=>F$(e,n,o,a,c,g)},editor:{getContent:n=>GP(e,n),setContent:(n,o)=>R$(e,n,o),insertContent:(n,o)=>Z_(e,n,o),addVisual:n=>hM(e,n)},selection:{getContent:(n,o)=>EV(e,n,o)},autocompleter:{addDecoration:it,removeDecoration:it},raw:{getModel:()=>ee.none()}}),BV=e=>{const n=V=>j(V)?V:{},{init:o,undoManager:a,formatter:c,editor:g,selection:p,autocompleter:S,raw:T}=e;return{init:{bindEvents:o.bindEvents},undoManager:{beforeChange:a.beforeChange,add:a.add,undo:a.undo,redo:a.redo,clear:a.clear,reset:a.reset,hasUndo:a.hasUndo,hasRedo:a.hasRedo,transact:(V,X,Q)=>a.transact(Q),ignore:(V,X)=>a.ignore(X),extra:(V,X,Q,ae)=>a.extra(Q,ae)},formatter:{match:(V,X,Q,ae)=>c.match(V,n(X),ae),matchAll:c.matchAll,matchNode:c.matchNode,canApply:V=>c.canApply(V),closest:V=>c.closest(V),apply:(V,X,Q)=>c.apply(V,n(X)),remove:(V,X,Q,ae)=>c.remove(V,n(X)),toggle:(V,X,Q)=>c.toggle(V,n(X)),formatChanged:(V,X,Q,ae,we)=>c.formatChanged(X,Q,ae,we)},editor:{getContent:V=>g.getContent(V),setContent:(V,X)=>({content:g.setContent(V,X),html:""}),insertContent:(V,X)=>(g.insertContent(V),""),addVisual:g.addVisual},selection:{getContent:(V,X)=>p.getContent(X)},autocompleter:{addDecoration:S.addDecoration,removeDecoration:S.removeDecoration},raw:{getModel:()=>ee.some(T.getRawModel())}}},FV=()=>{const e=mt(null),n=mt("");return{init:{bindEvents:it},undoManager:{beforeChange:it,add:e,undo:e,redo:e,clear:it,reset:it,hasUndo:Bn,hasRedo:Bn,transact:e,ignore:it,extra:it},formatter:{match:Bn,matchAll:mt([]),matchNode:mt(void 0),canApply:Bn,closest:n,apply:it,remove:it,toggle:it,formatChanged:mt({unbind:it})},editor:{getContent:n,setContent:mt({content:"",html:""}),insertContent:mt(""),addVisual:it},selection:{getContent:n},autocompleter:{addDecoration:it,removeDecoration:it},raw:{getModel:mt(ee.none())}}},Nh=e=>So(e.plugins,"rtc"),pM=e=>Zs(e.plugins,"rtc").bind(n=>ee.from(n.setup)),bM=e=>{const n=e;return pM(e).fold(()=>(n.rtcInstance=zO(e),ee.none()),o=>(n.rtcInstance=FV(),ee.some(()=>o().then(a=>(n.rtcInstance=BV(a),a.rtc.isRemote)))))},HO=e=>e.rtcInstance?e.rtcInstance:zO(e),al=e=>{const n=e.rtcInstance;if(n)return n;throw new Error("Failed to get RTC instance not yet initialized.")},fx=(e,n,o)=>{al(e).undoManager.beforeChange(n,o)},$V=(e,n,o,a,c,g,p)=>al(e).undoManager.add(n,o,a,c,g,p),VV=(e,n,o,a)=>al(e).undoManager.undo(n,o,a),vM=(e,n,o)=>al(e).undoManager.redo(n,o),yM=(e,n,o)=>{al(e).undoManager.clear(n,o)},Sk=(e,n)=>{al(e).undoManager.reset(n)},zV=(e,n,o)=>al(e).undoManager.hasUndo(n,o),HV=(e,n,o)=>al(e).undoManager.hasRedo(n,o),UV=(e,n,o,a)=>al(e).undoManager.transact(n,o,a),WV=(e,n,o)=>{al(e).undoManager.ignore(n,o)},KV=(e,n,o,a,c)=>{al(e).undoManager.extra(n,o,a,c)},jV=(e,n,o,a,c)=>al(e).formatter.match(n,o,a,c),ZV=(e,n,o)=>al(e).formatter.matchAll(n,o),GV=(e,n,o,a,c)=>al(e).formatter.matchNode(n,o,a,c),qV=(e,n)=>al(e).formatter.canApply(n),YV=(e,n)=>al(e).formatter.closest(n),_r=(e,n,o,a)=>{al(e).formatter.apply(n,o,a)},xM=(e,n,o,a,c)=>{al(e).formatter.remove(n,o,a,c)},UO=(e,n,o,a)=>{al(e).formatter.toggle(n,o,a)},wM=(e,n,o,a,c,g)=>al(e).formatter.formatChanged(n,o,a,c,g),CM=(e,n)=>HO(e).editor.getContent(n),WO=(e,n,o)=>HO(e).editor.setContent(n,o),XV=(e,n,o)=>HO(e).editor.insertContent(n,o),JV=(e,n,o)=>al(e).selection.getContent(n,o),SM=(e,n)=>al(e).editor.addVisual(n),_M=e=>al(e).init.bindEvents(),QV=(e,n={})=>{const o=n.format?n.format:"html";return JV(e,o,n)},i1=e=>e.dom.length===0?(Hs(e),ee.none()):ee.some(e),ez=(e,n)=>e.filter(o=>mr.isBookmarkNode(o.dom)).bind(n?oo:Mi),mx=(e,n,o,a,c)=>{const g=e.dom,p=n.dom,S=a?g.length:p.length;a?(P2(g,p,c,!1,!a),o.setStart(p,S)):(P2(p,g,c,!1,!a),o.setEnd(p,S))},nC=(e,n,o)=>{Qi(e).each(a=>{const c=e.dom;n&&Qy(a,Dt(c,0),o)?w_(c,0,o):!n&&X0(a,Dt(c,c.length),o)&&di(c,c.length,o)})},a1=(e,n,o,a,c)=>{e.bind(g=>((a?di:w_)(g.dom,a?g.dom.length:0,c),n.filter(Cr).map(S=>mx(g,S,o,a,c)))).orThunk(()=>ez(n,a).or(n).filter(Cr).map(p=>nC(p,a,c)))},KO=(e,n,o)=>{const a=ee.from(n.firstChild).map(Ye.fromDom),c=ee.from(n.lastChild).map(Ye.fromDom);e.deleteContents(),e.insertNode(n);const g=a.bind(Mi).filter(Cr).bind(i1),p=c.bind(oo).filter(Cr).bind(i1);a1(g,a,e,!0,o),a1(p,c,e,!1,o),e.collapse(!1)},kM=(e,n)=>({format:"html",...e,set:!0,selection:!0,content:n}),EM=(e,n)=>{if(n.format!=="raw"){const o=e.selection.getRng(),a=e.dom.getParent(o.commonAncestorContainer,e.dom.isBlock),c=a?{context:a.nodeName.toLowerCase()}:{},g=e.parser.parse(n.content,{forced_root_block:!1,...c,...n});return zp({validate:!1},e.schema).serialize(g)}else return n.content},jO=(e,n,o={})=>{const a=kM(o,n);_O(e,a).each(c=>{const g=EM(e,c),p=e.selection.getRng();KO(p,p.createContextualFragment(g),e.schema),e.selection.setRng(p),Sf(e,p),kO(e,g,c)})},ZO=(e,n,o)=>{if(So(e,n)){const a=Je(e[n],c=>c!==o);a.length===0?delete e[n]:e[n]=a}};var TM=(e,n)=>{let o,a;const c=(S,T)=>An(T,V=>e.is(V,S)),g=S=>e.getParents(S,void 0,e.getRoot()),p=()=>{o={},a={},n.on("NodeChange",S=>{const T=S.element,V=g(T),X={};qo(o,(Q,ae)=>{c(ae,V).each(we=>{a[ae]||(xe(Q,De=>{De(!0,{node:we,selector:ae,parents:V})}),a[ae]=Q),X[ae]=Q})}),qo(a,(Q,ae)=>{X[ae]||(delete a[ae],xe(Q,we=>{we(!1,{node:T,selector:ae,parents:V})}))})})};return{selectorChangedWithUnbind:(S,T)=>(o||p(),o[S]||(o[S]=[]),o[S].push(T),c(S,g(n.selection.getStart())).each(()=>{a[S]=o[S]}),{unbind:()=>{ZO(o,S,T),ZO(a,S,T)}})}};const GO=e=>!!(e&&e.ownerDocument)&&ma(Ye.fromDom(e.ownerDocument),Ye.fromDom(e)),qO=e=>e?GO(e.startContainer)&&GO(e.endContainer):!1,YO=(e,n,o,a)=>{let c,g;const{selectorChangedWithUnbind:p}=TM(e,a),S=(wn,to)=>{const Us=e.createRng();Me(wn)&&Me(to)?(Us.setStart(wn,to),Us.setEnd(wn,to),kt(Us),nt(!1)):(t2(e,Us,a.getBody(),!0),kt(Us))},T=wn=>QV(a,wn),V=(wn,to)=>jO(a,wn,to),X=wn=>BP(a.getBody(),ct(),wn),Q=wn=>FP(a.getBody(),ct(),wn),ae=(wn,to)=>yc.getBookmark(wn,to),we=wn=>yc.moveToBookmark(wn),De=(wn,to)=>(E2(e,wn,to).each(kt),wn),_e=()=>{const wn=ct(),to=ft();return!wn||wn.item?!1:wn.compareEndPoints?wn.compareEndPoints("StartToEnd",wn)===0:!to||wn.collapsed},$e=()=>{const wn=ct(),to=a.getBody().querySelectorAll('[data-mce-selected="1"]');return to.length>0?Ho(to,Us=>e.isEditable(Us.parentElement)):MP(e,wn)},nt=wn=>{const to=ct();to.collapse(!!wn),kt(to)},ft=()=>n.getSelection?n.getSelection():n.document.selection,ct=()=>{let wn;const to=(kn,ho,ls)=>{try{return ho.compareBoundaryPoints(kn,ls)}catch{return-1}},Us=n.document;if(Me(a.bookmark)&&!jy(a)){const kn=pA(a);if(kn.isSome())return kn.map(ho=>d_(a,[ho])[0]).getOr(Us.createRange())}try{const kn=ft();kn&&!uf(kn.anchorNode)&&(kn.rangeCount>0?wn=kn.getRangeAt(0):wn=Us.createRange(),wn=d_(a,[wn])[0])}catch{}if(wn||(wn=Us.createRange()),Xn(wn.startContainer)&&wn.collapsed){const kn=e.getRoot();wn.setStart(kn,0),wn.setEnd(kn,0)}return c&&g&&(to(wn.START_TO_START,wn,c)===0&&to(wn.END_TO_END,wn,c)===0?wn=g:(c=null,g=null)),wn},kt=(wn,to)=>{if(!qO(wn))return;const Us=ft();if(wn=a.dispatch("SetSelectionRange",{range:wn,forward:to}).range,Us){g=wn;try{Us.removeAllRanges(),Us.addRange(wn)}catch{}to===!1&&Us.extend&&(Us.collapse(wn.endContainer,wn.endOffset),Us.extend(wn.startContainer,wn.startOffset)),c=Us.rangeCount>0?Us.getRangeAt(0):null}if(!wn.collapsed&&wn.startContainer===wn.endContainer&&(Us!=null&&Us.setBaseAndExtent)&&wn.endOffset-wn.startOffset<2&&wn.startContainer.hasChildNodes()){const ho=wn.startContainer.childNodes[wn.startOffset];ho&&ho.nodeName==="IMG"&&(Us.setBaseAndExtent(wn.startContainer,wn.startOffset,wn.endContainer,wn.endOffset),(Us.anchorNode!==wn.startContainer||Us.focusNode!==wn.endContainer)&&Us.setBaseAndExtent(ho,0,ho,1))}a.dispatch("AfterSetSelectionRange",{range:wn,forward:to})},qt=wn=>(V(e.getOuterHTML(wn)),wn),gn=()=>W7(a.getBody(),ct()),Pn=(wn,to)=>wA(e,ct(),wn,to),$t=()=>{const wn=ft(),to=wn==null?void 0:wn.anchorNode,Us=wn==null?void 0:wn.focusNode;if(!wn||!to||!Us||uf(to)||uf(Us))return!0;const kn=e.createRng(),ho=e.createRng();try{kn.setStart(to,wn.anchorOffset),kn.collapse(!0),ho.setStart(Us,wn.focusOffset),ho.collapse(!0)}catch{return!0}return kn.compareBoundaryPoints(kn.START_TO_START,ho)<=0},Vi={dom:e,win:n,serializer:o,editor:a,expand:(wn={type:"word"})=>kt(qb(e).expand(ct(),wn)),collapse:nt,setCursorLocation:S,getContent:T,setContent:V,getBookmark:ae,moveToBookmark:we,select:De,isCollapsed:_e,isEditable:$e,isForward:$t,setNode:qt,getNode:gn,getSel:ft,setRng:kt,getRng:ct,getStart:X,getEnd:Q,getSelectedBlocks:Pn,normalize:()=>{const wn=ct(),to=ft();if(!Xw(to)&&$y(a)){const Us=Ch(e,wn);return Us.each(kn=>{kt(kn,$t())}),Us.getOr(wn)}return wn},selectorChanged:(wn,to)=>(p(wn,to),Vi),selectorChangedWithUnbind:p,getScrollContainer:()=>{let wn,to=e.getRoot();for(;to&&to.nodeName!=="BODY";){if(to.scrollHeight>to.clientHeight){wn=to;break}to=to.parentNode}return wn},scrollIntoView:(wn,to)=>{Me(wn)?fA(a,wn,to):Sf(a,ct(),to)},placeCaretAt:(wn,to)=>kt(uP(wn,to,a.getDoc())),getBoundingClientRect:()=>{const wn=ct();return wn.collapsed?Dt.fromRangeStart(wn).getClientRects()[0]:wn.getBoundingClientRect()},destroy:()=>{n=c=g=null,yr.destroy()}},yc=mr(Vi),yr=ar(Vi,a);return Vi.bookmarkManager=yc,Vi.controlSelection=yr,Vi},AM=(e,n,o)=>{n.addNodeFilter("br",(a,c,g)=>{const p=dn.extend({},o.getBlockElements()),S=o.getNonEmptyElements(),T=o.getWhitespaceElements();p.body=1;const V=X=>X.name in p||xd(o,X);for(let X=0,Q=a.length;X<Q;X++){let ae=a[X],we=ae.parent;if(we&&V(we)&&ae===we.lastChild){let De=ae.prev;for(;De;){const _e=De.name;if(_e!=="span"||De.attr("data-mce-type")!=="bookmark"){_e==="br"&&(ae=null);break}De=De.prev}if(ae&&(ae.remove(),ox(o,S,T,we))){const _e=o.getElementRule(we.name);_e&&(_e.removeEmpty?we.remove():_e.paddEmpty&&B_(e,g,V,we))}}else{let De=ae;for(;we&&we.firstChild===De&&we.lastChild===De&&(De=we,!p[we.name]);)we=we.parent;if(De===we){const _e=new Sl("#text",3);_e.value=ea,ae.replace(_e)}}}})},XO=(e,n,o)=>{e.addAttributeFilter("data-mce-tabindex",(a,c)=>{let g=a.length;for(;g--;){const p=a[g];p.attr("tabindex",p.attr("data-mce-tabindex")),p.attr(c,null)}}),e.addAttributeFilter("src,href,style",(a,c)=>{const g="data-mce-"+c,p=n.url_converter,S=n.url_converter_scope;let T=a.length;for(;T--;){const V=a[T];let X=V.attr(g);X!==void 0?(V.attr(c,X.length>0?X:null),V.attr(g,null)):(X=V.attr(c),c==="style"?X=o.serializeStyle(o.parseStyle(X),V.name):p&&(X=p.call(S,X,c,V.name)),V.attr(c,X.length>0?X:null))}}),e.addAttributeFilter("class",a=>{let c=a.length;for(;c--;){const g=a[c];let p=g.attr("class");p&&(p=p.replace(/(?:^|\s)mce-item-\w+(?!\S)/g,""),g.attr("class",p.length>0?p:null))}}),e.addAttributeFilter("data-mce-type",(a,c,g)=>{let p=a.length;for(;p--;){const S=a[p];S.attr("data-mce-type")==="bookmark"&&!g.cleanup&&(ee.from(S.firstChild).exists(V=>{var X;return!nd((X=V.value)!==null&&X!==void 0?X:"")})?S.unwrap():S.remove())}}),e.addNodeFilter("script,style",(a,c)=>{var g;const p=T=>T.replace(/(<!--\[CDATA\[|\]\]-->)/g,`
`).replace(/^[\r\n]*|[\r\n]*$/g,"").replace(/^\s*((<!--)?(\s*\/\/)?\s*<!\[CDATA\[|(<!--\s*)?\/\*\s*<!\[CDATA\[\s*\*\/|(\/\/)?\s*<!--|\/\*\s*<!--\s*\*\/)\s*[\r\n]*/gi,"").replace(/\s*(\/\*\s*\]\]>\s*\*\/(-->)?|\s*\/\/\s*\]\]>(-->)?|\/\/\s*(-->)?|\]\]>|\/\*\s*-->\s*\*\/|\s*-->\s*)\s*$/g,"");let S=a.length;for(;S--;){const T=a[S],V=T.firstChild,X=(g=V==null?void 0:V.value)!==null&&g!==void 0?g:"";if(c==="script"){const Q=T.attr("type");Q&&T.attr("type",Q==="mce-no/type"?null:Q.replace(/^mce\-/,"")),n.element_format==="xhtml"&&V&&X.length>0&&(V.value=`// <![CDATA[
`+p(X)+`
// ]]>`)}else n.element_format==="xhtml"&&V&&X.length>0&&(V.value=`<!--
`+p(X)+`
-->`)}}),e.addNodeFilter("#comment",a=>{let c=a.length;for(;c--;){const g=a[c],p=g.value;n.preserve_cdata&&(p==null?void 0:p.indexOf("[CDATA["))===0?(g.name="#cdata",g.type=4,g.value=o.decode(p.replace(/^\[CDATA\[|\]\]$/g,""))):(p==null?void 0:p.indexOf("mce:protected "))===0&&(g.name="#text",g.type=3,g.raw=!0,g.value=unescape(p).substr(14))}}),e.addNodeFilter("xml:namespace,input",(a,c)=>{let g=a.length;for(;g--;){const p=a[g];p.type===7?p.remove():p.type===1&&c==="input"&&!p.attr("type")&&p.attr("type","text")}}),e.addAttributeFilter("data-mce-type",a=>{xe(a,c=>{c.attr("data-mce-type")==="format-caret"&&(c.isEmpty(e.schema.getNonEmptyElements())?c.remove():c.unwrap())})}),e.addAttributeFilter("data-mce-src,data-mce-href,data-mce-style,data-mce-selected,data-mce-expando,data-mce-block,data-mce-type,data-mce-resize,data-mce-placeholder",(a,c)=>{let g=a.length;for(;g--;)a[g].attr(c,null)}),n.remove_trailing_brs&&AM(n,e,e.schema)},tz=e=>{const n=a=>(a==null?void 0:a.name)==="br",o=e.lastChild;if(n(o)){const a=o.prev;n(a)&&(o.remove(),a.remove())}},OM=(e,n,o)=>{let a;const c=e.dom;let g=n.cloneNode(!0);const p=document.implementation;if(p.createHTMLDocument){const S=p.createHTMLDocument("");dn.each(g.nodeName==="BODY"?g.childNodes:[g],T=>{S.body.appendChild(S.importNode(T,!0))}),g.nodeName!=="BODY"?g=S.body.firstChild:g=S.body,a=c.doc,c.doc=S}return l2(e,{...o,node:g}),a&&(c.doc=a),g},RM=(e,n)=>Me(e)&&e.hasEventListeners("PreProcess")&&!n.no_events,IM=(e,n,o)=>RM(e,o)?OM(e,n,o):n,nz=(e,n,o)=>{dn.inArray(n,o)===-1&&(e.addAttributeFilter(o,(a,c)=>{let g=a.length;for(;g--;)a[g].attr(c,null)}),n.push(o))},oz=(e,n,o)=>!n.no_events&&e?c2(e,{...n,content:o}).content:o,_k=(e,n,o)=>{const a=gc(o.getInner?n.innerHTML:e.getOuterHTML(n));return o.selection||h0(Ye.fromDom(n))?a:dn.trim(a)},DM=(e,n,o)=>{const a=o.selection?{forced_root_block:!1,...o}:o,c=e.parse(n,a);return tz(c),c},PM=(e,n,o)=>zp(e,n).serialize(o),NM=(e,n,o,a,c)=>{const g=PM(n,o,a);return oz(e,c,g)},sz=(e,n)=>{const o=["data-mce-selected"],a={entity_encoding:"named",remove_trailing_brs:!0,pad_empty_with_br:!1,...e},c=n&&n.dom?n.dom:br.DOM,g=n&&n.schema?n.schema:Ju(a),p=cx(a,g);XO(p,a,c);const S=(T,V={})=>{const X={format:"html",...V},Q=IM(n,T,X),ae=_k(c,Q,X),we=DM(p,ae,X);return X.format==="tree"?we:NM(n,a,g,we,X)};return{schema:g,addNodeFilter:p.addNodeFilter,addAttributeFilter:p.addAttributeFilter,serialize:S,addRules:g.addValidElements,setRules:g.setValidElements,addTempAttr:at(nz,p,o),getTempAttrs:mt(o),getNodeFilters:p.getNodeFilters,getAttributeFilters:p.getAttributeFilters,removeNodeFilter:p.removeNodeFilter,removeAttributeFilter:p.removeAttributeFilter}},MM=(e,n)=>{const o=sz(e,n);return{schema:o.schema,addNodeFilter:o.addNodeFilter,addAttributeFilter:o.addAttributeFilter,serialize:o.serialize,addRules:o.addRules,setRules:o.setRules,addTempAttr:o.addTempAttr,getTempAttrs:o.getTempAttrs,getNodeFilters:o.getNodeFilters,getAttributeFilters:o.getAttributeFilters,removeNodeFilter:o.removeNodeFilter,removeAttributeFilter:o.removeAttributeFilter}},rz="html",iz=(e,n)=>({...e,format:n,get:!0,getInner:!0}),LM=(e,n={})=>{const o=n.format?n.format:rz,a=iz(n,o);return Q5(e,a).fold(Rn,c=>{const g=CM(e,c);return Om(e,g,c)})},BM="html",FM=(e,n)=>({format:BM,...e,set:!0,content:n}),JO=(e,n,o={})=>{const a=FM(o,n);return _O(e,a).map(c=>{const g=WO(e,c.content,c);return kO(e,g.html,c),g.content}).getOr(n)},az="autoresize_on_init,content_editable_state,padd_empty_with_br,block_elements,boolean_attributes,editor_deselector,editor_selector,elements,file_browser_callback_types,filepicker_validator_handler,force_hex_style_colors,force_p_newlines,gecko_spellcheck,images_dataimg_filter,media_scripts,mode,move_caret_before_on_enter_elements,non_empty_elements,self_closing_elements,short_ended_elements,special,spellchecker_select_languages,spellchecker_whitelist,tab_focus,tabfocus_elements,table_responsive_width,text_block_elements,text_inline_elements,toolbar_drawer,types,validate,whitespace_elements,paste_enable_default_filters,paste_filter_drop,paste_word_valid_elements,paste_retain_style_properties,paste_convert_word_fake_lists,template_cdate_classes,template_mdate_classes,template_selected_content_classes,template_preview_replace_values,template_replace_values,templates,template_cdate_format,template_mdate_format".split(","),lz=[],cz="bbcode,colorpicker,contextmenu,fullpage,legacyoutput,spellchecker,template,textcolor,rtc".split(","),oC=[],QO=(e,n)=>{const o=Je(n,a=>So(e,a));return xs(o)},uz=e=>{const n=QO(e,az),o=e.forced_root_block;return(o===!1||o==="")&&n.push("forced_root_block (false only)"),xs(n)},$M=e=>QO(e,lz),e4=(e,n)=>{const o=dn.makeMap(e.plugins," "),c=Je(n,g=>So(o,g));return xs(c)},t4=e=>e4(e,cz),VM=e=>e4(e,oC.map(n=>n.name)),zM=(e,n)=>{const o=uz(e),a=t4(n),c=a.length>0,g=o.length>0,p=n.theme==="mobile";if(c||g||p){const S=`
- `,T=p?`

Themes:${S}mobile`:"",V=c?`

Plugins:${S}${a.join(S)}`:"",X=g?`

Options:${S}${o.join(S)}`:"";console.warn("The following deprecated features are currently enabled and have been removed in TinyMCE 7.0. These features will no longer work and should be removed from the TinyMCE configuration. See https://www.tiny.cloud/docs/tinymce/7/migration-from-6x/ for more information."+T+V+X)}},HM=e=>An(oC,n=>n.name===e).fold(()=>e,n=>n.replacedWith?`${e}, replaced by ${n.replacedWith}`:e),dz=(e,n)=>{const o=$M(e),a=VM(n),c=a.length>0,g=o.length>0;if(c||g){const p=`
- `,S=c?`

Plugins:${p}${a.map(HM).join(p)}`:"",T=g?`

Options:${p}${o.join(p)}`:"";console.warn("The following deprecated features are currently enabled but will be removed soon."+S+T)}},fz=(e,n)=>{zM(e,n),dz(e,n)},fv=br.DOM,mz=e=>{fv.setStyle(e.id,"display",e.orgDisplay)},sC=e=>ee.from(e).each(n=>n.destroy()),kk=e=>{const n=e;n.contentAreaContainer=n.formElement=n.container=n.editorContainer=null,n.bodyElement=n.contentDocument=n.contentWindow=null,n.iframeElement=n.targetElm=null;const o=e.selection;if(o){const a=o.dom;n.selection=o.win=o.dom=a.doc=null}},UM=e=>{const n=e.formElement;n&&(n._mceOldSubmit&&(n.submit=n._mceOldSubmit,delete n._mceOldSubmit),fv.unbind(n,"submit reset",e.formEventDelegate))},WM=e=>{if(!e.removed){const{_selectionOverrides:n,editorUpload:o}=e,a=e.getBody(),c=e.getElement();a&&e.save({is_removing:!0}),e.removed=!0,e.unbindAllNativeEvents(),e.hasHiddenInput&&Me(c==null?void 0:c.nextSibling)&&fv.remove(c.nextSibling),u2(e),e.editorManager.remove(e),!e.inline&&a&&mz(e),d2(e),fv.remove(e.getContainer()),sC(n),sC(o),e.destroy()}},gz=(e,n)=>{const{selection:o,dom:a}=e;if(!e.destroyed){if(!n&&!e.removed){e.remove();return}n||(e.editorManager.off("beforeunload",e._beforeUnload),e.theme&&e.theme.destroy&&e.theme.destroy(),sC(o),sC(a)),UM(e),kk(e),e.destroyed=!0}},rC=(()=>{const e={};return{add:(c,g)=>{e[c]=g},get:c=>e[c]?e[c]:{icons:{}},has:c=>So(e,c)}})(),mv=Xl.ModelManager,iC=(e,n)=>n.dom[e],n4=(e,n)=>parseInt($r(n,e),10),o4=at(iC,"clientWidth"),KM=at(iC,"clientHeight"),hz=at(n4,"margin-top"),jM=at(n4,"margin-left"),pz=e=>e.dom.getBoundingClientRect(),ZM=(e,n,o)=>{const a=o4(e),c=KM(e);return n>=0&&o>=0&&n<=a&&o<=c},GM=(e,n,o,a)=>{const c=pz(n),g=e?c.left+n.dom.clientLeft+jM(n):0,p=e?c.top+n.dom.clientTop+hz(n):0,S=o-g,T=a-p;return{x:S,y:T}},bz=(e,n,o)=>{const a=Ye.fromDom(e.getBody()),c=e.inline?a:fu(a),g=GM(e.inline,c,n,o);return ZM(c,g.x,g.y)},qM=e=>ee.from(e).map(Ye.fromDom),s4=e=>{const n=e.inline?e.getBody():e.getContentAreaContainer();return qM(n).map(Pa).getOr(!1)};var YM=()=>{const e=()=>{throw new Error("Theme did not provide a NotificationManager implementation.")};return{open:e,close:e,getArgs:e}};const r4=e=>{const n=[],o=()=>{const ae=e.theme;return ae&&ae.getNotificationManagerImpl?ae.getNotificationManagerImpl():YM()},a=()=>ee.from(n[0]),c=(ae,we)=>ae.type===we.type&&ae.text===we.text&&!ae.progressBar&&!ae.timeout&&!we.progressBar&&!we.timeout,g=()=>{a().each(ae=>{ae.reposition()})},p=ae=>{n.push(ae)},S=ae=>{no(n,we=>we===ae).each(we=>{n.splice(we,1)})},T=(ae,we=!0)=>e.removed||!s4(e)?{}:(we&&e.dispatch("BeforeOpenNotification",{notification:ae}),An(n,De=>c(o().getArgs(De),ae)).getOrThunk(()=>{e.editorManager.setActive(e);const De=o().open(ae,()=>{S(De)},()=>K0(e));return p(De),g(),e.dispatch("OpenNotification",{notification:{...De}}),De})),V=()=>{a().each(ae=>{o().close(ae),S(ae),g()})},X=mt(n);return(ae=>{ae.on("SkinLoaded",()=>{const we=k8(ae);we&&T({text:we,type:"warning",timeout:0},!1),g()}),ae.on("show ResizeEditor ResizeWindow NodeChange ToggleView FullscreenStateChanged",()=>{requestAnimationFrame(g)}),ae.on("remove",()=>{xe(n.slice(),we=>{o().close(we)})}),ae.addShortcut("alt+F12","Focus to notification",()=>a().map(we=>Ye.fromDom(we.getEl())).each(we=>mA(we)))})(e),{open:T,close:V,getNotifications:X}},l1=Xl.PluginManager,gv=Xl.ThemeManager;var vz=()=>{const e=()=>{throw new Error("Theme did not provide a WindowManager implementation.")};return{open:e,openUrl:e,alert:e,confirm:e,close:e}};const XM=e=>{let n=[];const o=()=>{const _e=e.theme;return _e&&_e.getWindowManagerImpl?_e.getWindowManagerImpl():vz()},a=(_e,$e)=>(...nt)=>$e?$e.apply(_e,nt):void 0,c=_e=>{e.dispatch("OpenWindow",{dialog:_e})},g=_e=>{e.dispatch("CloseWindow",{dialog:_e})},p=_e=>{n.push(_e),c(_e)},S=_e=>{g(_e),n=Je(n,$e=>$e!==_e),n.length===0&&e.focus()},T=()=>ee.from(n[n.length-1]),V=_e=>{e.editorManager.setActive(e),Ky(e),e.ui.show();const $e=_e();return p($e),$e},X=(_e,$e)=>V(()=>o().open(_e,$e,S)),Q=_e=>V(()=>o().openUrl(_e,S)),ae=(_e,$e,nt)=>{const ft=o();ft.alert(_e,a(nt||ft,$e))},we=(_e,$e,nt)=>{const ft=o();ft.confirm(_e,a(nt||ft,$e))},De=()=>{T().each(_e=>{o().close(_e),S(_e)})};return e.on("remove",()=>{xe(n,_e=>{o().close(_e)})}),{open:X,openUrl:Q,alert:ae,confirm:we,close:De}},Ek=(e,n)=>{e.notificationManager.open({type:"error",text:n})},Tk=(e,n)=>{e._skinLoaded?Ek(e,n):e.on("SkinLoaded",()=>{Ek(e,n)})},JM=(e,n)=>{Tk(e,Qu.translate(["Failed to upload image: {0}",n]))},gx=(e,n,o)=>{JT(e,n,{message:o}),console.error(o)},c1=(e,n,o)=>o?`Failed to load ${e}: ${o} from url ${n}`:`Failed to load ${e} url: ${n}`,i4=(e,n,o)=>{gx(e,"PluginLoadError",c1("plugin",n,o))},a4=(e,n,o)=>{gx(e,"IconsLoadError",c1("icons",n,o))},yz=(e,n,o)=>{gx(e,"LanguageLoadError",c1("language",n,o))},QM=(e,n,o)=>{gx(e,"ThemeLoadError",c1("theme",n,o))},xz=(e,n,o)=>{gx(e,"ModelLoadError",c1("model",n,o))},wz=(e,n,o)=>{const a=Qu.translate(["Failed to initialize plugin: {0}",n]);JT(e,"PluginLoadError",{message:a}),aC(a,o),Tk(e,a)},aC=(e,...n)=>{const o=window.console;o&&(o.error?o.error(e,...n):o.log(e,...n))},l4=e=>/^[a-z0-9\-]+$/i.test(e),c4=e=>"content/"+e+"/content.css",Ak=e=>tinymce.Resource.has(c4(e)),Cz=e=>eL(e,Ec(e)),Sz=e=>eL(e,BI(e)),eL=(e,n)=>{const o=e.editorManager.baseURL+"/skins/content",c=`content${e.editorManager.suffix}.css`;return Ke(n,g=>Ak(g)?g:l4(g)&&!e.inline?`${o}/${g}/${c}`:e.documentBaseURI.toAbsolute(g))},tL=e=>{e.contentCSS=e.contentCSS.concat(Cz(e),Sz(e))},nL=e=>e?$o(e.getElementsByTagName("img")):[],_z=(e,n)=>{const o={};return{findAll:(c,g=Qt)=>{const p=Je(nL(c),T=>{const V=T.src;return T.hasAttribute("data-mce-bogus")||T.hasAttribute("data-mce-placeholder")||!V||V===os.transparentSrc?!1:wr(V,"blob:")?!e.isUploaded(V)&&g(T):wr(V,"data:")?g(T):!1}),S=Ke(p,T=>{const V=T.src;if(So(o,V))return o[V].then(X=>he(X)?X:{image:T,blobInfo:X.blobInfo});{const X=nO(n,V).then(Q=>(delete o[V],{image:T,blobInfo:Q})).catch(Q=>(delete o[V],Q));return o[V]=X,X}});return Promise.all(S)}}},u4=()=>{let o={};const a=(ae,we)=>({status:ae,resultUri:we}),c=ae=>ae in o;return{hasBlobUri:c,getResultUri:ae=>{const we=o[ae];return we?we.resultUri:null},isPending:ae=>c(ae)?o[ae].status===1:!1,isUploaded:ae=>c(ae)?o[ae].status===2:!1,markPending:ae=>{o[ae]=a(1,null)},markUploaded:(ae,we)=>{o[ae]=a(2,we)},removeFailed:ae=>{delete o[ae]},destroy:()=>{o={}}}};let lC=0;const oL=()=>{const e=()=>Math.round(mc()*4294967295).toString(36);return"s"+new Date().getTime().toString(36)+e()+e()+e()},kz=e=>e+lC+++oL(),sL=()=>{let e=[];const n=Q=>({"image/jpeg":"jpg","image/jpg":"jpg","image/gif":"gif","image/png":"png","image/apng":"apng","image/avif":"avif","image/svg+xml":"svg","image/webp":"webp","image/bmp":"bmp","image/tiff":"tiff"})[Q.toLowerCase()]||"dat",o=(Q,ae,we,De,_e)=>{if(he(Q))return a({id:Q,name:De,filename:_e,blob:ae,base64:we});if(j(Q))return a(Q);throw new Error("Unknown input type")},a=Q=>{if(!Q.blob||!Q.base64)throw new Error("blob and base64 representations of the image are required for BlobInfo to be created");const ae=Q.id||kz("blobid"),we=Q.name||ae,De=Q.blob;return{id:mt(ae),name:mt(we),filename:mt(Q.filename||we+"."+n(De.type)),blob:mt(De),base64:mt(Q.base64),blobUri:mt(Q.blobUri||URL.createObjectURL(De)),uri:mt(Q.uri)}},c=Q=>{p(Q.id())||e.push(Q)},g=Q=>An(e,Q).getOrUndefined(),p=Q=>g(ae=>ae.id()===Q);return{create:o,add:c,get:p,getByUri:Q=>g(ae=>ae.blobUri()===Q),getByData:(Q,ae)=>g(we=>we.base64()===Q&&we.blob().type===ae),findFirst:g,removeByUri:Q=>{e=Je(e,ae=>ae.blobUri()===Q?(URL.revokeObjectURL(ae.blobUri()),!1):!0)},destroy:()=>{xe(e,Q=>{URL.revokeObjectURL(Q.blobUri())}),e=[]}}},rL=(e,n)=>{const o={},a=(_e,$e)=>_e?_e.replace(/\/$/,"")+"/"+$e.replace(/^\//,""):$e,c=(_e,$e)=>new Promise((nt,ft)=>{const ct=new XMLHttpRequest;ct.open("POST",n.url),ct.withCredentials=n.credentials,ct.upload.onprogress=qt=>{$e(qt.loaded/qt.total*100)},ct.onerror=()=>{ft("Image upload failed due to a XHR Transport error. Code: "+ct.status)},ct.onload=()=>{if(ct.status<200||ct.status>=300){ft("HTTP Error: "+ct.status);return}const qt=JSON.parse(ct.responseText);if(!qt||!he(qt.location)){ft("Invalid JSON: "+ct.responseText);return}nt(a(n.basePath,qt.location))};const kt=new FormData;kt.append("file",_e.blob(),_e.filename()),ct.send(kt)}),g=Ne(n.handler)?n.handler:c,p=()=>new Promise(_e=>{_e([])}),S=(_e,$e)=>({url:$e,blobInfo:_e,status:!0}),T=(_e,$e)=>({url:"",blobInfo:_e,status:!1,error:$e}),V=(_e,$e)=>{dn.each(o[_e],nt=>{nt($e)}),delete o[_e]},X=(_e,$e,nt)=>(e.markPending(_e.blobUri()),new Promise(ft=>{let ct,kt;try{const qt=()=>{ct&&(ct.close(),kt=it)},gn=$t=>{qt(),e.markUploaded(_e.blobUri(),$t),V(_e.blobUri(),S(_e,$t)),ft(S(_e,$t))},Pn=$t=>{qt(),e.removeFailed(_e.blobUri()),V(_e.blobUri(),T(_e,$t)),ft(T(_e,$t))};kt=$t=>{$t<0||$t>100||ee.from(ct).orThunk(()=>ee.from(nt).map(Yn)).each(Rt=>{ct=Rt,Rt.progressBar.value($t)})},$e(_e,kt).then(gn,$t=>{Pn(he($t)?{message:$t}:$t)})}catch(qt){ft(T(_e,qt))}})),Q=_e=>_e===c,ae=_e=>{const $e=_e.blobUri();return new Promise(nt=>{o[$e]=o[$e]||[],o[$e].push(nt)})},we=(_e,$e)=>(_e=dn.grep(_e,nt=>!e.isUploaded(nt.blobUri())),Promise.all(dn.map(_e,nt=>e.isPending(nt.blobUri())?ae(nt):X(nt,g,$e))));return{upload:(_e,$e)=>!n.url&&Q(g)?p():we(_e,$e)}},iL=e=>()=>e.notificationManager.open({text:e.translate("Image uploading..."),type:"info",timeout:-1,progressBar:!0}),aL=(e,n)=>rL(n,{url:gT(e),basePath:NI(e),credentials:hT(e),handler:C8(e)}),Ez=e=>{const n=u4(),o=aL(e,n);return{upload:(a,c=!0)=>o.upload(a,c?iL(e):void 0)}},Tz=(e,n)=>e.dom.isEmpty(n.dom)&&Me(e.schema.getTextBlockElements()[hs(n)]),lL=e=>n=>{Tz(e,n)&&Vr(n,Ye.fromHtml('<br data-mce-bogus="1" />'))},d4=e=>{const n=sL();let o,a;const c=u4(),g=[],p=ct=>kt=>e.selection?ct(kt):[],S=ct=>ct+(ct.indexOf("?")===-1?"?":"&")+new Date().getTime(),T=(ct,kt,qt)=>{let gn=0;do gn=ct.indexOf(kt,gn),gn!==-1&&(ct=ct.substring(0,gn)+qt+ct.substr(gn+kt.length),gn+=qt.length-kt.length+1);while(gn!==-1);return ct},V=(ct,kt,qt)=>{const gn=`src="${qt}"${qt===os.transparentSrc?' data-mce-placeholder="1"':""}`;return ct=T(ct,`src="${kt}"`,gn),ct=T(ct,'data-mce-src="'+kt+'"','data-mce-src="'+qt+'"'),ct},X=(ct,kt)=>{xe(e.undoManager.data,qt=>{qt.type==="fragmented"?qt.fragments=Ke(qt.fragments,gn=>V(gn,ct,kt)):qt.content=V(qt.content,ct,kt)})},Q=(ct,kt)=>{const qt=e.convertURL(kt,"src");X(ct.src,kt),ja(Ye.fromDom(ct),{src:Np(e)?S(kt):kt,"data-mce-src":qt})},ae=()=>(o||(o=aL(e,c)),$e().then(p(ct=>{const kt=Ke(ct,qt=>qt.blobInfo);return o.upload(kt,iL(e)).then(p(qt=>{const gn=[];let Pn=!1;const $t=Ke(qt,(Rt,Zt)=>{const{blobInfo:Hn,image:so}=ct[Zt];let rs=!1;return Rt.status&&DI(e)?(Rt.url&&!Vs(so.src,Rt.url)&&(Pn=!0),n.removeByUri(so.src),Nh(e)||Q(so,Rt.url)):Rt.error&&(Rt.error.remove&&(X(so.src,os.transparentSrc),gn.push(so),rs=!0),JM(e,Rt.error.message)),{element:so,status:Rt.status,uploadUri:Rt.url,blobInfo:Hn,removed:rs}});return gn.length>0&&!Nh(e)?e.undoManager.transact(()=>{xe(Ml(gn),Rt=>{const Zt=Qi(Rt);Hs(Rt),Zt.each(lL(e)),n.removeByUri(Rt.dom.src)})}):Pn&&e.undoManager.dispatchChange(),$t}))}))),we=()=>vr(e)?ae():Promise.resolve([]),De=ct=>Ho(g,kt=>kt(ct)),_e=ct=>{g.push(ct)},$e=()=>(a||(a=_z(c,n)),a.findAll(e.getBody(),De).then(p(ct=>{const kt=Je(ct,qt=>he(qt)?(Tk(e,qt),!1):qt.uriType!=="blob");return Nh(e)||xe(kt,qt=>{X(qt.image.src,qt.blobInfo.blobUri()),qt.image.src=qt.blobInfo.blobUri(),qt.image.removeAttribute("data-mce-src")}),kt}))),nt=()=>{n.destroy(),c.destroy(),a=o=null},ft=ct=>ct.replace(/src="(blob:[^"]+)"/g,(kt,qt)=>{const gn=c.getResultUri(qt);if(gn)return'src="'+gn+'"';let Pn=n.getByUri(qt);return Pn||(Pn=pn(e.editorManager.get(),($t,Rt)=>$t||Rt.editorUpload&&Rt.editorUpload.blobCache.getByUri(qt),void 0)),Pn?'src="data:'+Pn.blob().type+";base64,"+Pn.base64()+'"':kt});return e.on("SetContent",()=>{vr(e)?we():$e()}),e.on("RawSaveContent",ct=>{ct.content=ft(ct.content)}),e.on("GetContent",ct=>{ct.source_view||ct.format==="raw"||ct.format==="tree"||(ct.content=ft(ct.content))}),e.on("PostRender",()=>{e.parser.addNodeFilter("img",ct=>{xe(ct,kt=>{const qt=kt.attr("src");if(!qt||n.getByUri(qt))return;const gn=c.getResultUri(qt);gn&&kt.attr("src",gn)})})}),{blobCache:n,addFilter:_e,uploadImages:ae,uploadImagesAuto:we,scanForImages:$e,destroy:nt}},cL=e=>{const n=e.dom,o=e.schema.type,a={valigntop:[{selector:"td,th",styles:{verticalAlign:"top"}}],valignmiddle:[{selector:"td,th",styles:{verticalAlign:"middle"}}],valignbottom:[{selector:"td,th",styles:{verticalAlign:"bottom"}}],alignleft:[{selector:"figure.image",collapsed:!1,classes:"align-left",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"left"},inherit:!1,preview:!1},{selector:"img,audio,video",collapsed:!1,styles:{float:"left"},preview:"font-family font-size"},{selector:"table",collapsed:!1,styles:{marginLeft:"0px",marginRight:"auto"},onformat:c=>{n.setStyle(c,"float",null)},preview:"font-family font-size"},{selector:".mce-preview-object,[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{float:"left"}}],aligncenter:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"center"},inherit:!1,preview:"font-family font-size"},{selector:"figure.image",collapsed:!1,classes:"align-center",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"img,audio,video",collapsed:!1,styles:{display:"block",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"table",collapsed:!1,styles:{marginLeft:"auto",marginRight:"auto"},preview:"font-family font-size"},{selector:".mce-preview-object",ceFalseOverride:!0,styles:{display:"table",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{marginLeft:"auto",marginRight:"auto"},preview:!1}],alignright:[{selector:"figure.image",collapsed:!1,classes:"align-right",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"right"},inherit:!1,preview:"font-family font-size"},{selector:"img,audio,video",collapsed:!1,styles:{float:"right"},preview:"font-family font-size"},{selector:"table",collapsed:!1,styles:{marginRight:"0px",marginLeft:"auto"},onformat:c=>{n.setStyle(c,"float",null)},preview:"font-family font-size"},{selector:".mce-preview-object,[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{float:"right"},preview:!1}],alignjustify:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"justify"},inherit:!1,preview:"font-family font-size"}],bold:[{inline:"strong",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontWeight:"bold"}},{inline:"b",remove:"all",preserve_attributes:["class","style"]}],italic:[{inline:"em",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontStyle:"italic"}},{inline:"i",remove:"all",preserve_attributes:["class","style"]}],underline:[{inline:"span",styles:{textDecoration:"underline"},exact:!0},{inline:"u",remove:"all",preserve_attributes:["class","style"]}],strikethrough:(()=>{const c={inline:"span",styles:{textDecoration:"line-through"},exact:!0},g={inline:"strike",remove:"all",preserve_attributes:["class","style"]},p={inline:"s",remove:"all",preserve_attributes:["class","style"]};return o!=="html4"?[p,c,g]:[c,p,g]})(),forecolor:{inline:"span",styles:{color:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},hilitecolor:{inline:"span",styles:{backgroundColor:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},fontname:{inline:"span",toggle:!1,styles:{fontFamily:"%value"},clear_child_styles:!0},fontsize:{inline:"span",toggle:!1,styles:{fontSize:"%value"},clear_child_styles:!0},lineheight:{selector:"h1,h2,h3,h4,h5,h6,p,li,td,th,div",styles:{lineHeight:"%value"}},fontsize_class:{inline:"span",attributes:{class:"%value"}},blockquote:{block:"blockquote",wrapper:!0,remove:"all"},subscript:{inline:"sub"},superscript:{inline:"sup"},code:{inline:"code"},link:{inline:"a",selector:"a",remove:"all",split:!0,deep:!0,onmatch:(c,g,p)=>Un(c)&&c.hasAttribute("href"),onformat:(c,g,p)=>{dn.each(p,(S,T)=>{n.setAttrib(c,T,S)})}},lang:{inline:"span",clear_child_styles:!0,remove_similar:!0,attributes:{lang:"%value","data-mce-lang":c=>{var g;return(g=c==null?void 0:c.customValue)!==null&&g!==void 0?g:null}}},removeformat:[{selector:"b,strong,em,i,font,u,strike,s,sub,sup,dfn,code,samp,kbd,var,cite,mark,q,del,ins,small",remove:"all",split:!0,expand:!1,block_expand:!0,deep:!0},{selector:"span",attributes:["style","class"],remove:"empty",split:!0,expand:!1,deep:!0},{selector:"*",attributes:["style","class"],split:!1,expand:!1,deep:!0}]};return dn.each("p h1 h2 h3 h4 h5 h6 div address pre dt dd samp".split(/\s/),c=>{a[c]={block:c,remove:"all"}}),a},f4={remove_similar:!0,inherit:!1},u1={selector:"td,th",...f4},uL={tablecellbackgroundcolor:{styles:{backgroundColor:"%value"},...u1},tablecellverticalalign:{styles:{"vertical-align":"%value"},...u1},tablecellbordercolor:{styles:{borderColor:"%value"},...u1},tablecellclass:{classes:["%value"],...u1},tableclass:{selector:"table",classes:["%value"],...f4},tablecellborderstyle:{styles:{borderStyle:"%value"},...u1},tablecellborderwidth:{styles:{borderWidth:"%value"},...u1}},Az=mt(uL),m4=e=>{const n={},o=p=>Me(p)?n[p]:n,a=p=>So(n,p),c=(p,S)=>{p&&(he(p)?(oe(S)||(S=[S]),xe(S,T=>{et(T.deep)&&(T.deep=!rd(T)),et(T.split)&&(T.split=!rd(T)||rl(T)),et(T.remove)&&rd(T)&&!rl(T)&&(T.remove="none"),rd(T)&&rl(T)&&(T.mixed=!0,T.block_expand=!0),he(T.classes)&&(T.classes=T.classes.split(/\s+/))}),n[p]=S):qo(p,(T,V)=>{c(V,T)}))},g=p=>(p&&n[p]&&delete n[p],n);return c(cL(e)),c(Az()),c(T8(e)),{get:o,has:a,register:c,unregister:g}},d1=dn.each,_u=br.DOM,Sg=e=>Me(e)&&j(e),cC=(e,n)=>{const o=n&&n.schema||Ju({}),a=(T,V)=>{V.classes.length>0&&_u.addClass(T,V.classes.join(" ")),_u.setAttribs(T,V.attrs)},c=T=>{const V=he(T)?{name:T,classes:[],attrs:{}}:T,X=_u.create(V.name);return a(X,V),X},g=(T,V)=>{const X=o.getElementRule(T.nodeName.toLowerCase()),Q=X==null?void 0:X.parentsRequired;return Q&&Q.length?V&&Se(Q,V)?V:Q[0]:!1},p=(T,V,X)=>{let Q;const ae=V[0],we=Sg(ae)?ae.name:void 0,De=g(T,we);if(De)we===De?(Q=ae,V=V.slice(1)):Q=De;else if(ae)Q=ae,V=V.slice(1);else if(!X)return T;const _e=Q?c(Q):_u.create("div");_e.appendChild(T),X&&dn.each(X,nt=>{const ft=c(nt);_e.insertBefore(ft,T)});const $e=Sg(Q)?Q.siblings:void 0;return p(_e,V,$e)},S=_u.create("div");if(e.length>0){const T=e[0],V=c(T),X=Sg(T)?T.siblings:void 0;S.appendChild(p(V,e.slice(1),X))}return S},hx=e=>{e=dn.trim(e);let n="div";const o={name:n,classes:[],attrs:{},selector:e};return e!=="*"&&(n=e.replace(/(?:([#\.]|::?)([\w\-]+)|(\[)([^\]]+)\]?)/g,(a,c,g,p,S)=>{switch(c){case"#":o.attrs.id=g;break;case".":o.classes.push(g);break;case":":dn.inArray("checked disabled enabled read-only required".split(" "),g)!==-1&&(o.attrs[g]=g);break}if(p==="["){const T=S.match(/([\w\-]+)(?:\=\"([^\"]+))?/);T&&(o.attrs[T[1]]=T[2])}return""})),o.name=n||"div",o},dL=e=>he(e)?(e=e.split(/\s*,\s*/)[0],e=e.replace(/\s*(~\+|~|\+|>)\s*/g,"$1"),dn.map(e.split(/(?:>|\s+(?![^\[\]]+\]))/),n=>{const o=dn.map(n.split(/(?:~\+|~|\+)/),hx),a=o.pop();return o.length&&(a.siblings=o),a}).reverse()):[],fL=(e,n)=>{let o="",a=A8(e);if(a==="")return"";const c=ae=>he(ae)?ae.replace(/%(\w+)/g,""):"",g=(ae,we)=>_u.getStyle(we??e.getBody(),ae,!0);if(he(n)){const ae=e.formatter.get(n);if(!ae)return"";n=ae[0]}if("preview"in n){const ae=n.preview;if(ae===!1)return"";a=ae||a}let p=n.block||n.inline||"span",S;const T=dL(n.selector);T.length>0?(T[0].name||(T[0].name=p),p=n.selector,S=cC(T,e)):S=cC([p],e);const V=_u.select(p,S)[0]||S.firstChild;d1(n.styles,(ae,we)=>{const De=c(ae);De&&_u.setStyle(V,we,De)}),d1(n.attributes,(ae,we)=>{const De=c(ae);De&&_u.setAttrib(V,we,De)}),d1(n.classes,ae=>{const we=c(ae);_u.hasClass(V,we)||_u.addClass(V,we)}),e.dispatch("PreviewFormats"),_u.setStyles(S,{position:"absolute",left:-65535}),e.getBody().appendChild(S);const X=g("fontSize"),Q=/px$/.test(X)?parseInt(X,10):0;return d1(a.split(" "),ae=>{let we=g(ae,V);if(!(ae==="background-color"&&/transparent|rgba\s*\([^)]+,\s*0\)/.test(we)&&(we=g(ae),t0(we).toLowerCase()==="#ffffff"))&&!(ae==="color"&&t0(we).toLowerCase()==="#000000")){if(ae==="font-size"&&/em|%$/.test(we)){if(Q===0)return;we=parseFloat(we)/(/%$/.test(we)?100:1)*Q+"px"}ae==="border"&&we&&(o+="padding:0 2px;"),o+=ae+":"+we+";"}}),e.dispatch("AfterPreviewFormats"),_u.remove(S),o},g4=e=>{e.addShortcut("meta+b","","Bold"),e.addShortcut("meta+i","","Italic"),e.addShortcut("meta+u","","Underline");for(let n=1;n<=6;n++)e.addShortcut("access+"+n,"",["FormatBlock",!1,"h"+n]);e.addShortcut("access+7","",["FormatBlock",!1,"p"]),e.addShortcut("access+8","",["FormatBlock",!1,"div"]),e.addShortcut("access+9","",["FormatBlock",!1,"address"])},uC=e=>{const n=m4(e),o=Fi({});return g4(e),o5(e),Nh(e)||x5(o,e),{get:n.get,has:n.has,register:n.register,unregister:n.unregister,apply:(a,c,g)=>{_r(e,a,c,g)},remove:(a,c,g,p)=>{xM(e,a,c,g,p)},toggle:(a,c,g)=>{UO(e,a,c,g)},match:(a,c,g,p)=>jV(e,a,c,g,p),closest:a=>YV(e,a),matchAll:(a,c)=>ZV(e,a,c),matchNode:(a,c,g,p)=>GV(e,a,c,g,p),canApply:a=>qV(e,a),formatChanged:(a,c,g,p)=>wM(e,o,a,c,g,p),getCssText:at(fL,e)}},qp=e=>{switch(e.toLowerCase()){case"undo":case"redo":case"mcefocus":return!0;default:return!1}},f1=(e,n,o)=>{const a=Fi(!1),c=T=>{tC(n,!1,o),n.add({},T)};e.on("init",()=>{n.add()}),e.on("BeforeExecCommand",T=>{const V=T.command;qp(V)||(LO(n,o),n.beforeChange())}),e.on("ExecCommand",T=>{const V=T.command;qp(V)||c(T)}),e.on("ObjectResizeStart cut",()=>{n.beforeChange()}),e.on("SaveContent ObjectResized blur",c),e.on("dragend",c),e.on("keyup",T=>{const V=T.keyCode;if(T.isDefaultPrevented())return;const X=os.os.isMacOS()&&T.key==="Meta";(V>=33&&V<=36||V>=37&&V<=40||V===45||T.ctrlKey||X)&&(c(),e.nodeChanged()),(V===46||V===8)&&e.nodeChanged(),a.get()&&n.typing&&!dx(ux(e),n.data[0])&&(e.isDirty()||e.setDirty(!0),e.dispatch("TypingUndo"),a.set(!1),e.nodeChanged())}),e.on("keydown",T=>{const V=T.keyCode;if(T.isDefaultPrevented())return;if(V>=33&&V<=36||V>=37&&V<=40||V===45){n.typing&&c(T);return}const X=T.ctrlKey&&!T.altKey||T.metaKey;if((V<16||V>20)&&V!==224&&V!==91&&!n.typing&&!X){n.beforeChange(),tC(n,!0,o),n.add({},T),a.set(!0);return}(os.os.isMacOS()?T.metaKey:T.ctrlKey&&!T.altKey)&&n.beforeChange()}),e.on("mousedown",T=>{n.typing&&c(T)});const g=T=>T.inputType==="insertReplacementText",p=T=>T.inputType==="insertText"&&T.data===null,S=T=>T.inputType==="insertFromPaste"||T.inputType==="insertFromDrop";e.on("input",T=>{T.inputType&&(g(T)||p(T)||S(T))&&c(T)}),e.on("AddUndo Undo Redo ClearUndos",T=>{T.isDefaultPrevented()||e.nodeChanged()})},mL=e=>{e.addShortcut("meta+z","","Undo"),e.addShortcut("meta+y,meta+shift+z","","Redo")},gL=e=>{const n=Ai(),o=Fi(0),a=Fi(0),c={data:[],typing:!1,beforeChange:()=>{fx(e,o,n)},add:(g,p)=>$V(e,c,a,o,n,g,p),dispatchChange:()=>{e.setDirty(!0);const g=ux(e);g.bookmark=Mn(e.selection),e.dispatch("change",{level:g,lastLevel:la(c.data,a.get()).getOrUndefined()})},undo:()=>VV(e,c,o,a),redo:()=>vM(e,a,c.data),clear:()=>{yM(e,c,a)},reset:()=>{Sk(e,c)},hasUndo:()=>zV(e,c,a),hasRedo:()=>HV(e,c,a),transact:g=>UV(e,c,o,g),ignore:g=>{WV(e,o,g)},extra:(g,p)=>{KV(e,c,a,g,p)}};return Nh(e)||f1(e,c,o),mL(e),c},hL=[9,27,On.HOME,On.END,19,20,44,144,145,33,34,45,16,17,18,91,92,93,On.DOWN,On.UP,On.LEFT,On.RIGHT].concat(os.browser.isFirefox()?[224]:[]),pL="data-mce-placeholder",bL=e=>e.type==="keydown"||e.type==="keyup",vL=e=>{const n=e.keyCode;return n===On.BACKSPACE||n===On.DELETE},h4=e=>{if(bL(e)){const n=e.keyCode;return!vL(e)&&(On.metaKeyPressed(e)||e.altKey||n>=112&&n<=123||Se(hL,n))}else return!1},yL=e=>bL(e)&&!(vL(e)||e.type==="keyup"&&e.keyCode===229),Oz=(e,n,o)=>{if(e.isEmpty(n,void 0,{skipBogus:!1,includeZwsp:!0})){const a=n.firstElementChild;return a?e.getStyle(n.firstElementChild,"padding-left")||e.getStyle(n.firstElementChild,"padding-right")?!1:o===a.nodeName.toLowerCase():!0}else return!1},xL=e=>{var n;const o=e.dom,a=Ql(e),c=(n=bT(e))!==null&&n!==void 0?n:"",g=(p,S)=>{if(h4(p))return;const T=e.getBody(),V=yL(p)?!1:Oz(o,T,a);(o.getAttrib(T,pL)!==""!==V||S)&&(o.setAttrib(T,pL,V?c:null),JD(e,V),e.on(V?"keydown":"keyup",g),e.off(V?"keyup":"keydown",g))};ut(c)&&e.on("init",p=>{g(p,!0),e.on("change SetContent ExecCommand",g),e.on("paste",S=>ad.setEditorTimeout(e,()=>g(S)))})},Rz=(e,n)=>({block:e,position:n}),p4=(e,n)=>({from:e,to:n}),b4=(e,n)=>{const o=Ye.fromDom(e),a=Ye.fromDom(n.container());return L2(o,a).map(c=>Rz(c,n))},wL=e=>!(ma(e.to.block,e.from.block)||ma(e.from.block,e.to.block)),v4=e=>!us(e.from.block,e.to.block),y4=(e,n)=>Ti(n,c=>ed(c)||jc(c.dom),c=>us(c,e)).filter(Qr).getOr(e),x4=(e,n)=>{const o=Ye.fromDom(e);return us(y4(o,n.from.block),y4(o,n.to.block))},Iz=e=>To(e.from.block.dom)===!1&&To(e.to.block.dom)===!1,CL=e=>{const n=o=>m0(o)||qr(o.dom)||uh(o);return n(e.from.block)&&n(e.to.block)},Dz=(e,n,o,a)=>Ar(a.position.getNode())&&!Nr(e,a.block)?Ly(!1,a.block.dom).bind(c=>c.isEqual(a.position)?Od(o,n,c).bind(g=>b4(n,g)):ee.some(a)).getOr(a):a,SL=(e,n,o,a)=>{const c=b4(n,Dt.fromRangeStart(a)),g=c.bind(p=>Od(o,n,p.position).bind(S=>b4(n,S).map(T=>Dz(e,n,o,T))));return fa(c,g,p4).filter(p=>v4(p)&&x4(n,p)&&Iz(p)&&CL(p)&&wL(p))},_L=(e,n,o,a)=>a.collapsed?SL(e,n,o,a):ee.none(),Pz=(e,n)=>{const o=ga(e);return no(o,a=>n.isBlock(hs(a))).fold(mt(o),a=>o.slice(0,a))},kL=(e,n)=>{const o=Pz(e,n);return xe(o,Hs),o},EL=(e,n,o)=>{const a=ld(o,n);return An(a.reverse(),c=>Nr(e,c)).each(Hs)},Nz=(e,n)=>Je(Vu(n),o=>!Nr(e,o)).length===0,Mz=(e,n,o,a,c)=>{if(Nr(a,o))return td(o),yo(o.dom);Nz(a,c)&&Nr(a,n)&&Dr(c,Ye.fromTag("br"));const g=sd(o.dom,Dt.before(c.dom));return xe(kL(n,a),p=>{Dr(c,p)}),EL(a,e,n),g},m1=(e,n)=>e.isInline(hs(n)),TL=(e,n,o,a)=>{if(Nr(a,o)){if(Nr(a,n)){const p=wt((S=>{const T=(V,X)=>Gl(V).fold(()=>X,Q=>m1(a,Q)?T(Q,X.concat(yi(Q))):X);return T(S,[])})(o),(S,T)=>(lc(S,T),T),vm());ir(n),Vr(n,p)}return Hs(o),yo(n.dom)}const c=xf(o.dom);return xe(kL(n,a),g=>{Vr(o,g)}),EL(a,e,n),c},AL=(e,n)=>{const o=ld(n,e);return ee.from(o[o.length-1])},OL=(e,n)=>ma(n,e)?AL(n,e):ee.none(),RL=(e,n)=>{Ly(e,n.dom).bind(o=>ee.from(o.getNode())).map(Ye.fromDom).filter(vf).each(Hs)},IL=(e,n,o,a)=>(RL(!0,n),RL(!1,o),OL(n,o).fold(at(TL,e,n,o,a),at(Mz,e,n,o,a))),Yp=(e,n,o,a,c)=>n?IL(e,a,o,c):IL(e,o,a,c),Ok=(e,n)=>{const o=Ye.fromDom(e.getBody());return _L(e.schema,o.dom,n,e.selection.getRng()).map(c=>()=>{Yp(o,n,c.from.block,c.to.block,e.schema).each(g=>{e.selection.setRng(g.toRange())})})},Rk=(e,n,o)=>{const a=n.getRng();return fa(L2(e,Ye.fromDom(a.startContainer)),L2(e,Ye.fromDom(a.endContainer)),(c,g)=>us(c,g)?ee.none():ee.some(()=>{a.deleteContents(),Yp(e,!0,c,g,o).each(p=>{n.setRng(p.toRange())})})).getOr(ee.none())},DL=(e,n)=>{const o=Ye.fromDom(n),a=at(us,e);return qa(o,ed,a).isSome()},PL=(e,n)=>DL(e,n.startContainer)||DL(e,n.endContainer),Lz=(e,n)=>{const o=sd(e.dom,Dt.fromRangeStart(n)).isNone(),a=qc(e.dom,Dt.fromRangeEnd(n)).isNone();return!PL(e,n)&&o&&a},Bz=e=>ee.some(()=>{e.setContent(""),e.selection.setCursorLocation()}),w4=e=>{const n=Ye.fromDom(e.getBody()),o=e.selection.getRng();return Lz(n,o)?Bz(e):Rk(n,e.selection,e.schema)},C4=(e,n)=>e.selection.isCollapsed()?ee.none():w4(e),si=(e,n,o,a,c)=>ee.from(n._selectionOverrides.showCaret(e,o,a,c)),Fz=e=>{const n=e.ownerDocument.createRange();return n.selectNode(e),n},dC=(e,n)=>e.dispatch("BeforeObjectSelected",{target:n}).isDefaultPrevented()?ee.none():ee.some(Fz(n)),S4=(e,n,o)=>{const a=NT(1,e.getBody(),n),c=Dt.fromRangeStart(a),g=c.getNode();if(Uw(g))return si(1,e,g,!c.isAtEnd(),!1);const p=c.getNode(!0);if(Uw(p))return si(1,e,p,!1,!1);const S=Af(e.dom.getRoot(),c.getNode());return Uw(S)?si(1,e,S,!1,o):ee.none()},Ik=(e,n,o)=>n.collapsed?S4(e,n,o).getOr(n):n,_4=e=>ya(e)||G0(e),$z=e=>wg(e)||Yy(e),Vz=(e,n)=>{on(n)&&n.data.length===0&&e.remove(n)},NL=(e,n,o,a,c,g)=>{si(a,e,g.getNode(!c),c,!0).each(p=>{if(n.collapsed){const S=n.cloneRange();c?S.setEnd(p.startContainer,p.startOffset):S.setStart(p.endContainer,p.endOffset),S.deleteContents()}else n.deleteContents();e.selection.setRng(p)}),Vz(e.dom,o)},zz=(e,n)=>{const o=e.selection.getRng();if(!on(o.commonAncestorContainer))return ee.none();const a=n?Fl.Forwards:Fl.Backwards,c=go(e.getBody()),g=at(MT,n?c.next:c.prev),p=n?_4:$z,S=Gw(a,e.getBody(),o),T=g(S),V=T&&Tf(n,T);if(!V||!PS(S,V))return ee.none();if(p(V))return ee.some(()=>NL(e,o,S.getNode(),a,n,V));const X=g(V);return X&&p(X)&&PS(V,X)?ee.some(()=>NL(e,o,S.getNode(),a,n,X)):ee.none()},k4=(e,n)=>zz(e,n),E4=(e,n)=>{const o=e.getBody();return n?yo(o).filter(ya):xf(o).filter(wg)},T4=e=>{const n=e.selection.getRng();return!n.collapsed&&(E4(e,!0).exists(o=>o.isEqual(Dt.fromRangeStart(n)))||E4(e,!1).exists(o=>o.isEqual(Dt.fromRangeEnd(n))))},px=e=>Me(e)&&(ed(Ye.fromDom(e))||uh(Ye.fromDom(e))),Fa=ws.generate([{remove:["element"]},{moveToElement:["element"]},{moveToPosition:["position"]}]),Hz=(e,n)=>{const o=n.getNode(!e),a=e?"after":"before";return Un(o)&&o.getAttribute("data-mce-caret")===a},Uz=(e,n,o,a,c)=>{const g=p=>c.isInline(p.nodeName.toLowerCase())&&!vh(o,a,e);return pD(!n,o).fold(()=>pD(n,a).fold(Bn,g),g)},ML=(e,n,o,a,c)=>{const g=c.getNode(!o);return L2(Ye.fromDom(n),Ye.fromDom(a.getNode())).map(p=>Nr(e,p)?Fa.remove(p.dom):Fa.moveToElement(g)).orThunk(()=>ee.some(Fa.moveToElement(g)))},LL=(e,n,o,a)=>Od(n,e,o).bind(c=>px(c.getNode())||Uz(e,n,o,c,a)?ee.none():n&&To(c.getNode())||!n&&To(c.getNode(!0))?ML(a,e,n,o,c):n&&wg(o)||!n&&ya(o)?ee.some(Fa.moveToPosition(c)):ee.none()),Wz=(e,n)=>dt(n)?ee.none():e&&To(n.nextSibling)?ee.some(Fa.moveToElement(n.nextSibling)):!e&&To(n.previousSibling)?ee.some(Fa.moveToElement(n.previousSibling)):ee.none(),Kz=(e,n,o)=>o.fold(a=>ee.some(Fa.remove(a)),a=>ee.some(Fa.moveToElement(a)),a=>vh(n,a,e)?ee.none():ee.some(Fa.moveToPosition(a))),jz=(e,n,o,a)=>Hz(n,o)?Wz(n,o.getNode(!n)).orThunk(()=>LL(e,n,o,a)):LL(e,n,o,a).bind(c=>Kz(e,o,c)),Zz=(e,n,o,a)=>{const c=NT(n?1:-1,e,o),g=Dt.fromRangeStart(c),p=Ye.fromDom(e);return!n&&wg(g)?ee.some(Fa.remove(g.getNode(!0))):n&&ya(g)?ee.some(Fa.remove(g.getNode())):!n&&ya(g)&&Y0(p,g,a)?y_(p,g,a).map(S=>Fa.remove(S.getNode())):n&&wg(g)&&I2(p,g,a)?rN(p,g,a).map(S=>Fa.remove(S.getNode())):jz(e,n,g,a)},Gz=(e,n)=>o=>(e._selectionOverrides.hideFakeCaret(),pc(e,n,Ye.fromDom(o)),!0),qz=(e,n)=>o=>{const a=n?Dt.before(o):Dt.after(o);return e.selection.setRng(a.toRange()),!0},Yz=e=>n=>(e.selection.setRng(n.toRange()),!0),BL=(e,n)=>ee.from(Af(e.getBody(),n)),Xz=(e,n)=>{const o=e.selection.getNode();return BL(e,o).filter(To).fold(()=>Zz(e.getBody(),n,e.selection.getRng(),e.schema).map(a=>()=>a.fold(Gz(e,n),qz(e,n),Yz(e))),()=>ee.some(it))},Jz=e=>{xe(bi(e,".mce-offscreen-selection"),Hs)},Qz=(e,n)=>{const o=e.selection.getNode();return To(o)&&!Yg(o)?BL(e,o.parentNode).filter(To).fold(()=>ee.some(()=>{Jz(Ye.fromDom(e.getBody())),pc(e,n,Ye.fromDom(e.selection.getNode())),__(e)}),()=>ee.some(it)):T4(e)?ee.some(()=>{k_(e,e.selection.getRng(),Ye.fromDom(e.getBody()))}):ee.none()},FL=e=>{const n=e.dom,o=e.selection,a=Af(e.getBody(),o.getNode());if(jc(a)&&n.isBlock(a)&&n.isEmpty(a)){const c=n.create("br",{"data-mce-bogus":"1"});n.setHTML(a,""),a.appendChild(c),o.setRng(Dt.before(c).toRange())}return!0},A4=(e,n)=>e.selection.isCollapsed()?Xz(e,n):Qz(e,n),$L=e=>e.hasOwnProperty("text"),VL=e=>e.hasOwnProperty("marker"),zL=(e,n)=>{const o=(g,p)=>{if(on(g))return{text:g,offset:p};{const S=n(),T=g.childNodes;return p<T.length?(g.insertBefore(S,T[p]),{marker:S,before:!0}):(g.appendChild(S),{marker:S,before:!1})}},a=o(e.endContainer,e.endOffset);return{start:o(e.startContainer,e.startOffset),end:a}},HL=e=>{var n,o;const{start:a,end:c}=e,g=new window.Range;return $L(a)?g.setStart(a.text,a.offset):VL(a)&&(a.before?g.setStartBefore(a.marker):g.setStartAfter(a.marker),(n=a.marker.parentNode)===null||n===void 0||n.removeChild(a.marker)),$L(c)?g.setEnd(c.text,c.offset):VL(c)&&(c.before?g.setEndBefore(c.marker):g.setEndAfter(c.marker),(o=c.marker.parentNode)===null||o===void 0||o.removeChild(c.marker)),g},O4=(e,n)=>{var o;const a=e.dom,c=a.getParent(e.selection.getStart(),a.isBlock),g=a.getParent(e.selection.getEnd(),a.isBlock),p=e.getBody();if(((o=c==null?void 0:c.nodeName)===null||o===void 0?void 0:o.toLowerCase())==="div"&&c&&g&&c===p.firstChild&&g===p.lastChild&&!a.isEmpty(p)){const T=c.cloneNode(!1),V=()=>{if(n?JA(e):S_(e),p.firstChild!==c){const X=zL(e.selection.getRng(),()=>document.createElement("span"));Array.from(p.childNodes).forEach(Q=>T.appendChild(Q)),p.appendChild(T),e.selection.setRng(HL(X))}};return ee.some(V)}return ee.none()},eH=(e,n)=>{const o=Dt.fromRangeStart(e.selection.getRng());return Od(n,e.getBody(),o).filter(a=>n?QP(a):eN(a)).bind(a=>IS(n?0:-1,a)).map(a=>()=>e.selection.select(a))},R4=(e,n)=>e.selection.isCollapsed()?eH(e,n):ee.none(),bx=on,UL=e=>bx(e)&&e.data[0]===ta,WL=e=>bx(e)&&e.data[e.data.length-1]===ta,KL=e=>{var n;return((n=e.ownerDocument)!==null&&n!==void 0?n:document).createTextNode(ta)},tH=e=>{var n;if(bx(e.previousSibling))return WL(e.previousSibling)||e.previousSibling.appendData(ta),e.previousSibling;if(bx(e))return UL(e)||e.insertData(0,ta),e;{const o=KL(e);return(n=e.parentNode)===null||n===void 0||n.insertBefore(o,e),o}},nH=e=>{var n,o;if(bx(e.nextSibling))return UL(e.nextSibling)||e.nextSibling.insertData(0,ta),e.nextSibling;if(bx(e))return WL(e)||e.appendData(ta),e;{const a=KL(e);return e.nextSibling?(n=e.parentNode)===null||n===void 0||n.insertBefore(a,e.nextSibling):(o=e.parentNode)===null||o===void 0||o.appendChild(a),a}},Dk=(e,n)=>e?tH(n):nH(n),jL=at(Dk,!0),oH=at(Dk,!1),ZL=(e,n)=>on(e.container())?Dk(n,e.container()):Dk(n,e.getNode()),GL=(e,n)=>{const o=n.get();return o&&e.container()===o&&dh(o)},I4=(e,n)=>n.fold(o=>{$b(e.get());const a=jL(o);return e.set(a),ee.some(Dt(a,a.length-1))},o=>yo(o).map(a=>{if(GL(a,e)){const c=e.get();return Dt(c,1)}else{$b(e.get());const c=ZL(a,!0);return e.set(c),Dt(c,1)}}),o=>xf(o).map(a=>{if(GL(a,e)){const c=e.get();return Dt(c,c.length-1)}else{$b(e.get());const c=ZL(a,!1);return e.set(c),Dt(c,c.length-1)}}),o=>{$b(e.get());const a=oH(o);return e.set(a),ee.some(Dt(a,1))}),qL=(e,n)=>{for(let o=0;o<e.length;o++){const a=e[o].apply(null,n);if(a.isSome())return a}return ee.none()},Xc=ws.generate([{before:["element"]},{start:["element"]},{end:["element"]},{after:["element"]}]),YL=(e,n)=>{const o=Vb(n,e);return o||e},sH=(e,n,o)=>{const a=_N(o),c=YL(n,a.container());return ev(e,c,a).fold(()=>qc(c,a).bind(at(ev,e,c)).map(g=>Xc.before(g)),ee.none)},XL=(e,n)=>zb(e,n)===null,JL=(e,n,o)=>ev(e,n,o).filter(at(XL,n)),rH=(e,n,o)=>{const a=tx(o);return JL(e,n,a).bind(c=>sd(c,a).isNone()?ee.some(Xc.start(c)):ee.none())},iH=(e,n,o)=>{const a=_N(o);return JL(e,n,a).bind(c=>qc(c,a).isNone()?ee.some(Xc.end(c)):ee.none())},aH=(e,n,o)=>{const a=tx(o),c=YL(n,a.container());return ev(e,c,a).fold(()=>sd(c,a).bind(at(ev,e,c)).map(g=>Xc.after(g)),ee.none)},QL=e=>!N2(D4(e)),Mh=(e,n,o)=>qL([sH,rH,iH,aH],[e,n,o]).filter(QL),D4=e=>e.fold(Rn,Rn,Rn,Rn),eB=e=>e.fold(mt("before"),mt("start"),mt("end"),mt("after")),fC=e=>e.fold(Xc.before,Xc.before,Xc.after,Xc.after),Pk=e=>e.fold(Xc.start,Xc.start,Xc.end,Xc.end),lH=(e,n)=>eB(e)===eB(n)&&D4(e)===D4(n),tB=(e,n,o,a,c,g)=>fa(ev(n,o,a),ev(n,o,c),(p,S)=>p!==S&&SN(o,p,S)?Xc.after(e?p:S):g).getOr(g),cH=(e,n)=>e.fold(Qt,o=>!lH(o,n)),uH=(e,n,o,a,c)=>{const g=Tf(e,c);return Od(e,o,g).map(at(Tf,e)).fold(()=>a.map(fC),T=>Mh(n,o,T).map(at(tB,e,n,o,g,T)).filter(at(cH,a))).filter(QL)},dH=(e,n)=>e?n.fold(Ft(ee.some,Xc.start),ee.none,Ft(ee.some,Xc.after),ee.none):n.fold(ee.none,Ft(ee.some,Xc.before),ee.none,Ft(ee.some,Xc.end)),fH=(e,n,o,a)=>{const c=Tf(e,a),g=Mh(n,o,c);return Mh(n,o,c).bind(at(dH,e)).orThunk(()=>uH(e,n,o,g,a))},mH=e=>Ne(e.selection.getSel().modify),nB=(e,n,o)=>{const a=e?1:-1;return n.setRng(Dt(o.container(),o.offset()+a).toRange()),n.getSel().modify("move",e?"forward":"backward","word"),!0},P4=(e,n)=>{const o=n.selection.getRng(),a=e?Dt.fromRangeEnd(o):Dt.fromRangeStart(o);return mH(n)?e&&p0(a)?nB(!0,n.selection,a):!e&&yy(a)?nB(!1,n.selection,a):!1:!1};var Rm;(function(e){e[e.Br=0]="Br",e[e.Block=1]="Block",e[e.Wrap=2]="Wrap",e[e.Eol=3]="Eol"})(Rm||(Rm={}));const Nk=(e,n)=>e===Fl.Backwards?sr(n):n,oB=(e,n,o)=>e===Fl.Forwards?n.next(o):n.prev(o),gH=(e,n,o,a)=>Ar(a.getNode(n===Fl.Forwards))?Rm.Br:vh(o,a)===!1?Rm.Block:Rm.Wrap,sB=(e,n,o,a)=>{const c=go(o);let g=a;const p=[];for(;g;){const S=oB(n,c,g);if(!S)break;if(Ar(S.getNode(!1)))return n===Fl.Forwards?{positions:Nk(n,p).concat([S]),breakType:Rm.Br,breakAt:ee.some(S)}:{positions:Nk(n,p),breakType:Rm.Br,breakAt:ee.some(S)};if(!S.isVisible()){g=S;continue}if(e(g,S)){const T=gH(o,n,g,S);return{positions:Nk(n,p),breakType:T,breakAt:ee.some(S)}}p.push(S),g=S}return{positions:Nk(n,p),breakType:Rm.Eol,breakAt:ee.none()}},rB=(e,n,o,a)=>n(o,a).breakAt.map(c=>{const g=n(o,c).positions;return e===Fl.Backwards?g.concat(c):[c].concat(g)}).getOr([]),N4=(e,n)=>pn(e,(o,a)=>o.fold(()=>ee.some(a),c=>fa(cn(c.getClientRects()),cn(a.getClientRects()),(g,p)=>{const S=Math.abs(n-g.left);return Math.abs(n-p.left)<=S?a:c}).or(o)),ee.none()),Mk=(e,n)=>cn(n.getClientRects()).bind(o=>N4(e,o.left)),mC=at(sB,Dt.isAbove,-1),gC=at(sB,Dt.isBelow,1),iB=at(rB,-1,mC),Lk=at(rB,1,gC),aB=(e,n)=>mC(e,n).breakAt.isNone(),lB=(e,n)=>gC(e,n).breakAt.isNone(),hH=e=>yo(e).map(n=>[n].concat(gC(e,n).positions)).getOr([]),cB=e=>xf(e).map(n=>mC(e,n).positions.concat(n)).getOr([]),g1=(e,n)=>Mk(iB(e,n),n),pH=(e,n)=>Mk(Lk(e,n),n),bH=To,uB=(e,n)=>Math.abs(e.left-n),ku=(e,n)=>Math.abs(e.right-n),dB=e=>fl(e,"node"),fB=(e,n)=>Tl(e,(o,a)=>{const c=Math.min(uB(o,n),ku(o,n)),g=Math.min(uB(a,n),ku(a,n));return g===c&&dB(a)&&bH(a.node)||g<c?a:o}),vH=e=>{const n=o=>Ke(o,a=>{const c=ig(a);return c.node=e,c});if(Un(e))return n(e.getClientRects());if(on(e)){const o=e.ownerDocument.createRange();return o.setStart(e,0),o.setEnd(e,e.data.length),n(o.getClientRects())}else return[]},mB=e=>Jo(e,vH);var hC;(function(e){e[e.Up=-1]="Up",e[e.Down=1]="Down"})(hC||(hC={}));const yH=(e,n,o,a)=>{let c=a;for(;c=Kw(c,e,C0,n);)if(o(c))return},M4=(e,n,o,a,c,g)=>{let p=0;const S=[],T=Q=>{let ae=mB([Q]);e===-1&&(ae=ae.reverse());for(let we=0;we<ae.length;we++){const De=ae[we];if(!o(De,V)){if(S.length>0&&n(De,ca(S))&&p++,De.line=p,c(De))return!0;S.push(De)}}return!1},V=ca(g.getClientRects());if(!V)return S;const X=g.getNode();return X&&(T(X),yH(e,a,T,X)),S},xH=(e,n)=>n.line>e,wH=(e,n)=>n.line===e,CH=at(M4,hC.Up,cg,Ip),SH=at(M4,hC.Down,Ip,cg),gB=e=>ca(e.getClientRects()),vx=(e,n,o,a)=>{const c=go(n);let g,p,S,T;const V=[];let X=0;e===1?(g=c.next,p=Ip,S=cg,T=Dt.after(a)):(g=c.prev,p=cg,S=Ip,T=Dt.before(a));const Q=gB(T);do{if(!T.isVisible())continue;const ae=gB(T);if(S(ae,Q))continue;V.length>0&&p(ae,ca(V))&&X++;const we=ig(ae);if(we.position=T,we.line=X,o(we))return V;V.push(we)}while(T=g(T));return V},L4=e=>n=>xH(e,n),yx=e=>n=>wH(e,n),_g=(e,n)=>{e.selection.setRng(n),Sf(e,e.selection.getRng())},Bk=(e,n,o)=>ee.some(Ik(e,n,o)),B4=(e,n,o,a,c,g)=>{const p=n===Fl.Forwards,S=go(e.getBody()),T=at(MT,p?S.next:S.prev),V=p?a:c;if(!o.collapsed){const De=Nb(o);if(g(De))return si(n,e,De,n===Fl.Backwards,!1);if(T4(e)){const _e=o.cloneRange();return _e.collapse(n===Fl.Backwards),ee.from(_e)}}const X=Gw(n,e.getBody(),o);if(V(X))return dC(e,X.getNode(!p));let Q=T(X);const ae=Rp(o);if(Q)Q=Tf(p,Q);else return ae?ee.some(o):ee.none();if(V(Q))return si(n,e,Q.getNode(!p),p,!1);const we=T(Q);return we&&V(we)&&PS(Q,we)?si(n,e,we.getNode(!p),p,!1):ae?Bk(e,Q.toRange(),!1):ee.none()},hB=(e,n,o,a,c,g)=>{const p=Gw(n,e.getBody(),o),S=ca(p.getClientRects()),T=n===hC.Down,V=e.getBody();if(!S)return ee.none();if(T4(e)){const $e=T?Dt.fromRangeEnd(o):Dt.fromRangeStart(o);return(T?pH:g1)(V,$e).orThunk(()=>ee.from($e)).map(ft=>ft.toRange())}const Q=(T?SH:CH)(V,L4(1),p),ae=Je(Q,yx(1)),we=S.left,De=fB(ae,we);if(De&&g(De.node)){const $e=Math.abs(we-De.left),nt=Math.abs(we-De.right);return si(n,e,De.node,$e<nt,!1)}let _e;if(a(p)?_e=p.getNode():c(p)?_e=p.getNode(!0):_e=Nb(o),_e){const $e=vx(n,V,L4(1),_e);let nt=fB(Je($e,yx(1)),we);if(nt||(nt=ca(Je($e,yx(0))),nt))return Bk(e,nt.position.toRange(),!1)}return ae.length===0?Fk(e,T).filter(T?c:a).map($e=>Ik(e,$e.toRange(),!1)):ee.none()},Fk=(e,n)=>{const o=e.selection.getRng(),a=n?Dt.fromRangeEnd(o):Dt.fromRangeStart(o),c=q8(a.container(),e.getBody());if(n){const g=gC(c,a);return uo(g.positions)}else{const g=mC(c,a);return cn(g.positions)}},pB=(e,n,o)=>Fk(e,n).filter(o).exists(a=>(e.selection.setRng(a.toRange()),!0)),pC=(e,n)=>{const o=e.dom.createRng();o.setStart(n.container(),n.offset()),o.setEnd(n.container(),n.offset()),e.selection.setRng(o)},F4=(e,n)=>{e?n.setAttribute("data-mce-selected","inline-boundary"):n.removeAttribute("data-mce-selected")},$4=(e,n,o)=>I4(n,o).map(a=>(pC(e,a),o)),bB=(e,n,o)=>{const a=Dt.fromRangeStart(e);if(e.collapsed)return a;{const c=Dt.fromRangeEnd(e);return o?sd(n,c).getOr(c):qc(n,a).getOr(a)}},vB=(e,n,o)=>{const a=e.getBody(),c=bB(e.selection.getRng(),a,o),g=at(J0,e);return fH(o,g,a,c).bind(S=>$4(e,n,S))},yB=(e,n,o)=>{const a=Ke(bi(Ye.fromDom(n.getRoot()),'*[data-mce-selected="inline-boundary"]'),p=>p.dom),c=Je(a,e),g=Je(o,e);xe(Ss(c,g),at(F4,!1)),xe(Ss(g,c),at(F4,!0))},V4=(e,n)=>{const o=n.get();if(e.selection.isCollapsed()&&!e.composing&&o){const a=Dt.fromRangeStart(e.selection.getRng());Dt.isTextPosition(a)&&!YA(a)&&(pC(e,j8(o,a)),n.set(null))}},xB=(e,n,o,a)=>{if(n.selection.isCollapsed()){const c=Je(a,e);xe(c,g=>{const p=Dt.fromRangeStart(n.selection.getRng());Mh(e,n.getBody(),p).bind(S=>$4(n,o,S))})}},z4=(e,n,o)=>Py(e)?vB(e,n,o).isSome():!1,H4=(e,n,o)=>Py(n)?P4(e,n):!1,wB=e=>{const n=Fi(null),o=at(J0,e);return e.on("NodeChange",a=>{Py(e)&&(yB(o,e.dom,a.parents),V4(e,n),xB(o,e,n,a.parents))}),n},CB=at(H4,!0),SB=at(H4,!1),bC=(e,n,o)=>{if(Py(e)){const a=Fk(e,n).getOrThunk(()=>{const c=e.selection.getRng();return n?Dt.fromRangeEnd(c):Dt.fromRangeStart(c)});return Mh(at(J0,e),e.getBody(),a).exists(c=>{const g=fC(c);return I4(o,g).exists(p=>(pC(e,p),!0))})}else return!1},U4=(e,n)=>{const o=document.createRange();return o.setStart(e.container(),e.offset()),o.setEnd(n.container(),n.offset()),o},W4=e=>fa(yo(e),xf(e),(n,o)=>{const a=Tf(!0,n),c=Tf(!1,o);return qc(e,a).forall(g=>g.isEqual(c))}).getOr(!0),vC=(e,n)=>o=>I4(n,o).map(a=>()=>pC(e,a)),K4=(e,n,o,a)=>{const c=e.getBody(),g=at(J0,e);e.undoManager.ignore(()=>{e.selection.setRng(U4(o,a)),S_(e),Mh(g,c,Dt.fromRangeStart(e.selection.getRng())).map(Pk).bind(vC(e,n)).each(Xt)}),e.nodeChanged()},_B=(e,n)=>{const o=Vb(n,e);return o||e},kB=(e,n,o,a)=>{const c=_B(e.getBody(),a.container()),g=at(J0,e),p=Mh(g,c,a);return p.bind(T=>o?T.fold(mt(ee.some(Pk(T))),ee.none,mt(ee.some(fC(T))),ee.none):T.fold(ee.none,mt(ee.some(fC(T))),ee.none,mt(ee.some(Pk(T))))).map(vC(e,n)).getOrThunk(()=>{const T=M0(o,c,a),V=T.bind(X=>Mh(g,c,X));return fa(p,V,()=>ev(g,c,a).bind(X=>W4(X)?ee.some(()=>{pc(e,o,Ye.fromDom(X))}):ee.none())).getOrThunk(()=>V.bind(()=>T.map(X=>()=>{o?K4(e,n,a,X):K4(e,n,X,a)})))})},yC=(e,n,o)=>{if(e.selection.isCollapsed()&&Py(e)){const a=Dt.fromRangeStart(e.selection.getRng());return kB(e,n,o,a)}return ee.none()},EB=e=>bd(e)>1,j4=(e,n)=>{const o=Ye.fromDom(e.getBody()),a=Ye.fromDom(e.selection.getStart()),c=ld(a,o);return no(c,n).fold(mt(c),g=>c.slice(0,g))},TB=e=>bd(e)===1,_H=e=>j4(e,n=>e.schema.isBlock(hs(n))||EB(n)),AB=e=>j4(e,n=>e.schema.isBlock(hs(n))),Z4=(e,n)=>{const o=at(sx,e);return Jo(n,a=>o(a)?[a.dom]:[])},xC=e=>{const n=AB(e);return Z4(e,n)},OB=(e,n,o,a)=>{const c=Z4(n,a);if(c.length===0)pc(n,e,o);else{const g=N3(o.dom,c);n.selection.setRng(g.toRange())}},RB=(e,n)=>{const o=Je(_H(e),TB);return uo(o).bind(a=>{const c=Dt.fromRangeStart(e.selection.getRng());return TN(n,c,a.dom)&&!US(a)?ee.some(()=>OB(n,e,a,o)):ee.none()})},G4=(e,n)=>{const o=n.parentElement;return Ar(n)&&!Ce(o)&&e.dom.isEmpty(o)},kH=e=>US(Ye.fromDom(e)),q4=(e,n)=>{const o=e.selection.getStart(),a=G4(e,o)||kH(o)?N3(o,n):P$(e.selection.getRng(),n);e.selection.setRng(a.toRange())},EH=(e,n)=>{const o=Ss(n,xC(e));o.length>0&&q4(e,o)},Y4=e=>on(e.startContainer),IB=e=>e.startOffset===0&&Y4(e),TH=(e,n)=>{const o=n.startContainer.parentElement;return!Ce(o)&&sx(e,Ye.fromDom(o))},AH=e=>{const n=e.startContainer.parentNode,o=e.endContainer.parentNode;return!Ce(n)&&!Ce(o)&&n.isEqualNode(o)},s=e=>{const n=e.endContainer;return e.endOffset===(on(n)?n.length:n.childNodes.length)},l=e=>AH(e)&&s(e),d=e=>!e.endContainer.isEqualNode(e.commonAncestorContainer),f=e=>l(e)||d(e),b=e=>{const n=e.selection.getRng();return IB(n)&&TH(e,n)&&f(n)},v=e=>{if(b(e)){const n=xC(e);return ee.some(()=>{S_(e),EH(e,n)})}else return ee.none()},C=(e,n)=>e.selection.isCollapsed()?RB(e,n):v(e),k=(e,n)=>Y1(e,o=>Rd(o.dom),o=>n.isBlock(hs(o))),E=e=>k(Ye.fromDom(e.selection.getStart()),e.schema),N=e=>{const n=e.selection.getRng();return n.collapsed&&(Y4(n)||e.dom.isEmpty(n.startContainer))&&!E(e)},$=e=>(N(e)&&q4(e,[]),!0),B=(e,n,o)=>Me(o)?ee.some(()=>{e._selectionOverrides.hideFakeCaret(),pc(e,n,Ye.fromDom(o))}):ee.none(),U=(e,n)=>{const o=n?G0:Yy,a=n?Fl.Forwards:Fl.Backwards,c=Gw(a,e.getBody(),e.selection.getRng());return o(c)?B(e,n,c.getNode(!n)):ee.from(Tf(n,c)).filter(g=>o(g)&&PS(c,g)).bind(g=>B(e,n,g.getNode(!n)))},J=(e,n)=>{const o=e.selection.getNode();return Lt(o)?B(e,n,o):ee.none()},se=(e,n)=>e.selection.isCollapsed()?U(e,n):J(e,n),pe=e=>Ti(e,n=>jc(n.dom)||To(n.dom)).exists(n=>jc(n.dom)),ye=e=>Cn(e??"").getOr(0),Re=(e,n)=>{const o=e||f0(n)?"margin":"padding",a=$r(n,"direction")==="rtl"?"-right":"-left";return o+a},ve=(e,n,o,a,c,g)=>{const p=Re(o,Ye.fromDom(g)),S=ye(e.getStyle(g,p));if(n==="outdent"){const T=Math.max(0,S-a);e.setStyle(g,p,T?T+c:"")}else{const T=S+a+c;e.setStyle(g,p,T)}},be=(e,n)=>Ho(n,o=>{const a=Re(LI(e),o),c=Zr(o,a).map(ye).getOr(0);return e.dom.getContentEditable(o.dom)!=="false"&&c>0}),ke=e=>{const n=Qe(e);return!e.mode.isReadOnly()&&(n.length>1||be(e,n))},Ie=e=>g0(e)||uh(e),Le=e=>Qi(e).exists(Ie),Qe=e=>Je(Ml(e.selection.getSelectedBlocks()),n=>!Ie(n)&&!Le(n)&&pe(n)),ht=(e,n)=>{var o,a;const{dom:c}=e,g=Ad(e),p=(a=(o=/[a-z%]+$/i.exec(g))===null||o===void 0?void 0:o[0])!==null&&a!==void 0?a:"px",S=ye(g),T=LI(e);xe(Qe(e),V=>{ve(c,n,T,S,p,V.dom)})},zt=e=>ht(e,"indent"),Bt=e=>ht(e,"outdent"),Pt=e=>{if(e.selection.isCollapsed()&&ke(e)){const n=e.dom,o=e.selection.getRng(),a=Dt.fromRangeStart(o),c=n.getParent(o.startContainer,n.isBlock);if(c!==null&&v_(Ye.fromDom(c),a,e.schema))return ee.some(()=>Bt(e))}return ee.none()},sn=(e,n,o)=>mi([Pt,A4,k4,(a,c)=>yC(a,n,c),Ok,Wp,R4,se,C4,C,O4],a=>a(e,o)).filter(a=>e.selection.isEditable()),In=(e,n)=>{sn(e,n,!1).fold(()=>{e.selection.isEditable()&&(S_(e),__(e))},Xt)},Kn=(e,n)=>{sn(e,n,!0).fold(()=>{e.selection.isEditable()&&JA(e)},Xt)},ro=(e,n)=>{e.addCommand("delete",()=>{In(e,n)}),e.addCommand("forwardDelete",()=>{Kn(e,n)})},Ro=5,as=400,kr=e=>e.touches===void 0||e.touches.length!==1?ee.none():ee.some(e.touches[0]),Br=(e,n)=>{const o=Math.abs(e.clientX-n.x),a=Math.abs(e.clientY-n.y);return o>Ro||a>Ro},Zo=e=>{const n=Ai(),o=Fi(!1),a=Rb(c=>{e.dispatch("longpress",{...c,type:"longpress"}),o.set(!0)},as);e.on("touchstart",c=>{kr(c).each(g=>{a.cancel();const p={x:g.clientX,y:g.clientY,target:c.target};a.throttle(c),o.set(!1),n.set(p)})},!0),e.on("touchmove",c=>{a.cancel(),kr(c).each(g=>{n.on(p=>{Br(g,p)&&(n.clear(),o.set(!1),e.dispatch("longpresscancel"))})})},!0),e.on("touchend touchcancel",c=>{a.cancel(),c.type!=="touchcancel"&&n.get().filter(g=>g.target.isEqualNode(c.target)).each(()=>{o.get()?c.preventDefault():e.dispatch("tap",{...c,type:"tap"})})},!0)},Es=(e,n)=>So(e,n.nodeName),fo=(e,n)=>on(n)?!0:Un(n)?!Es(e.getBlockElements(),n)&&!Id(n)&&!bu(e,n)&&!Zi(n):!1,Fr=(e,n,o)=>Pe(wu(Ye.fromDom(o),Ye.fromDom(n)),a=>Es(e,a.dom)),nr=(e,n)=>{if(on(n)){if(n.data.length===0)return!0;if(/^\s+$/.test(n.data))return!n.nextSibling||Es(e,n.nextSibling)||Zi(n.nextSibling)}return!1},Vl=e=>e.dom.create(Ql(e),Lw(e)),zl=e=>{const n=e.dom,o=e.selection,a=e.schema,c=a.getBlockElements(),g=o.getStart(),p=e.getBody();let S,T,V=null;const X=Ql(e);if(!g||!Un(g))return;const Q=p.nodeName.toLowerCase();if(!a.isValidChild(Q,X.toLowerCase())||Fr(c,p,g))return;if(p.firstChild===p.lastChild&&Ar(p.firstChild)){S=Vl(e),S.appendChild(vm().dom),p.replaceChild(S,p.firstChild),e.selection.setCursorLocation(S,0),e.nodeChanged();return}let ae=p.firstChild;for(;ae;)if(Un(ae)&&ci(a,ae),fo(a,ae)){if(nr(c,ae)){T=ae,ae=ae.nextSibling,n.remove(T);continue}if(!S){if(!V&&e.hasFocus()&&(V=zL(e.selection.getRng(),()=>document.createElement("span"))),!ae.parentNode){ae=null;break}S=Vl(e),p.insertBefore(S,ae)}T=ae,ae=ae.nextSibling,S.appendChild(T)}else S=null,ae=ae.nextSibling;V&&(e.selection.setRng(HL(V)),e.nodeChanged())},$a=(e,n,o)=>{const a=Ye.fromDom(Vl(e)),c=vm();Vr(a,c),o(n,a);const g=document.createRange();return g.setStartBefore(c.dom),g.setEndBefore(c.dom),g},xa=e=>{e.on("NodeChange",()=>zl(e))},Xp=e=>n=>(" "+n.attr("class")+" ").indexOf(e)!==-1,xx=(e,n,o)=>function(a){const c=arguments,g=c[c.length-2],p=g>0?n.charAt(g-1):"";if(p==='"')return a;if(p===">"){const S=n.lastIndexOf("<",g);if(S!==-1&&n.substring(S,g).indexOf('contenteditable="false"')!==-1)return a}return'<span class="'+o+'" data-mce-content="'+e.dom.encode(c[0])+'">'+e.dom.encode(typeof c[1]=="string"?c[1]:c[0])+"</span>"},hv=(e,n,o)=>{let a=n.length,c=o.content;if(o.format!=="raw"){for(;a--;)c=c.replace(n[a],xx(e,c,I0(e)));o.content=c}},Jp=(e,n)=>Ho(e,o=>{const a=n.match(o);return a!==null&&a[0].length===n.length}),wC=e=>{const n="contenteditable",o=" "+dn.trim($8(e))+" ",a=" "+dn.trim(I0(e))+" ",c=Xp(o),g=Xp(a),p=YI(e);p.length>0&&e.on("BeforeSetContent",S=>{hv(e,p,S)}),e.parser.addAttributeFilter("class",S=>{let T=S.length;for(;T--;){const V=S[T];c(V)?V.attr(n,"true"):g(V)&&V.attr(n,"false")}}),e.serializer.addAttributeFilter(n,S=>{let T=S.length;for(;T--;){const V=S[T];if(!c(V)&&!g(V))continue;const X=V.attr("data-mce-content");p.length>0&&X?Jp(p,X)?(V.name="#text",V.type=3,V.raw=!0,V.value=X):V.remove():V.attr(n,null)}})},pv=e=>Ht(Ye.fromDom(e.getBody()),"*[data-mce-caret]").map(n=>n.dom).getOrNull(),Lh=(e,n)=>{n.hasAttribute("data-mce-caret")&&(Op(n),e.selection.setRng(e.selection.getRng()),e.selection.scrollIntoView(n))},h1=(e,n)=>{const o=pv(e);if(o){if(n.type==="compositionstart"){n.preventDefault(),n.stopPropagation(),Lh(e,o);return}by(o)&&(Lh(e,o),e.undoManager.add())}},p1=e=>{e.on("keyup compositionstart",at(h1,e))},wx=To,$k=(e,n,o)=>B4(n,e,o,ya,wg,wx),CC=(e,n,o)=>hB(n,e,o,g=>ya(g)||tN(g),g=>wg(g)||Xy(g),wx),bv=e=>{const n=e.dom.create(Ql(e));return n.innerHTML='<br data-mce-bogus="1">',n},Bh=(e,n,o)=>{const a=go(e.getBody()),c=at(MT,n===1?a.next:a.prev);if(o.collapsed){const g=e.dom.getParent(o.startContainer,"PRE");if(!g)return;if(!c(Dt.fromRangeStart(o))){const S=Ye.fromDom(bv(e));n===1?vt(Ye.fromDom(g),S):Dr(Ye.fromDom(g),S),e.selection.select(S.dom,!0),e.selection.collapse()}}},Qp=(e,n)=>{const o=n?Fl.Forwards:Fl.Backwards,a=e.selection.getRng();return $k(o,e,a).orThunk(()=>(Bh(e,o,a),ee.none()))},SC=(e,n)=>{const o=n?1:-1,a=e.selection.getRng();return CC(o,e,a).orThunk(()=>(Bh(e,o,a),ee.none()))},_C=(e,n)=>{const o=n?e.getEnd(!0):e.getStart(!0);return N2(o)?!n:n},Bs=(e,n)=>Qp(e,_C(e.selection,n)).exists(o=>(_g(e,o),!0)),Fh=(e,n)=>SC(e,n).exists(o=>(_g(e,o),!0)),Im=(e,n)=>pB(e,n,n?wg:ya),b1=(e,n)=>E4(e,!n).map(o=>{const a=o.toRange(),c=e.selection.getRng();return n?a.setStart(c.startContainer,c.startOffset):a.setEnd(c.endContainer,c.endOffset),a}).exists(o=>(_g(e,o),!0)),Vk=e=>Se(["figcaption"],hs(e)),eb=(e,n,o)=>{const a=at(us,n);return Ti(Ye.fromDom(e.container()),c=>o.isBlock(hs(c)),a).filter(Vk)},Cx=(e,n,o)=>n?lB(e.dom,o):aB(e.dom,o),X4=(e,n)=>{const o=Ye.fromDom(e.getBody()),a=Dt.fromRangeStart(e.selection.getRng());return eb(a,o,e.schema).exists(()=>{if(Cx(o,n,a)){const g=$a(e,o,n?Vr:Ja);return e.selection.setRng(g),!0}else return!1})},zk=(e,n)=>e.selection.isCollapsed()?X4(e,n):!1,OH=(e,n,o)=>{const a=e.selection.getRng(),c=Dt.fromRangeStart(a);return e.getBody().firstChild===n&&aB(o,c)?(e.execCommand("InsertNewBlockBefore"),!0):!1},Sx=(e,n)=>{const o=e.selection.getRng(),a=Dt.fromRangeStart(o);return e.getBody().lastChild===n&&lB(n,a)?(e.execCommand("InsertNewBlockAfter"),!0):!1},RH=(e,n)=>n?ee.from(e.dom.getParent(e.selection.getNode(),"details")).map(o=>Sx(e,o)).getOr(!1):ee.from(e.dom.getParent(e.selection.getNode(),"summary")).bind(o=>ee.from(e.dom.getParent(o,"details")).map(a=>OH(e,a,o))).getOr(!1),vc=(e,n)=>RH(e,n),v1={shiftKey:!1,altKey:!1,ctrlKey:!1,metaKey:!1,keyCode:0},IH=e=>Ke(e,n=>({...v1,...n})),DB=e=>Ke(e,n=>({...v1,...n})),Hk=(e,n)=>n.keyCode===e.keyCode&&n.shiftKey===e.shiftKey&&n.altKey===e.altKey&&n.ctrlKey===e.ctrlKey&&n.metaKey===e.metaKey,PB=(e,n)=>Jo(IH(e),o=>Hk(o,n)?[o]:[]),NB=(e,n)=>Jo(DB(e),o=>Hk(o,n)?[o]:[]),No=(e,...n)=>()=>e.apply(null,n),vv=(e,n)=>An(PB(e,n),o=>o.action()),Uk=(e,n)=>mi(NB(e,n),o=>o.action()),yv=(e,n)=>{const o=n?Fl.Forwards:Fl.Backwards,a=e.selection.getRng();return B4(e,o,a,G0,Yy,Lt).exists(c=>(_g(e,c),!0))},_x=(e,n)=>{const o=n?1:-1,a=e.selection.getRng();return hB(e,o,a,G0,Yy,Lt).exists(c=>(_g(e,c),!0))},J4=(e,n)=>pB(e,n,n?Yy:G0),Q4=ws.generate([{none:["current"]},{first:["current"]},{middle:["current","target"]},{last:["current"]}]),Pf={...Q4,none:e=>Q4.none(e)},MB=(e,n)=>tR(e,n,Qt),tR=(e,n,o)=>Jo(ga(e),a=>qs(a,n)?o(a)?[a]:[]:tR(a,n,o)),LB=(e,n,o=Bn)=>{if(o(n))return ee.none();if(Se(e,hs(n)))return ee.some(n);const a=c=>qs(c,"table")||o(c);return Fc(n,e.join(","),a)},BB=(e,n)=>LB(["td","th"],e,n),DH=e=>MB(e,"th,td"),Et=(e,n)=>Bi(e,"table",n),io=(e,n,o,a,c=Qt)=>{const g=a===1;if(!g&&o<=0)return Pf.first(e[0]);if(g&&o>=e.length-1)return Pf.last(e[e.length-1]);{const p=o+a,S=e[p];return c(S)?Pf.middle(n,S):io(e,n,p,a,c)}},Lo=(e,n)=>Et(e,n).bind(o=>{const a=DH(o);return no(a,g=>us(e,g)).map(g=>({index:g,all:a}))}),Er=(e,n,o)=>Lo(e,o).fold(()=>Pf.none(e),c=>io(c.all,e,c.index,1,n)),xi=(e,n,o)=>Lo(e,o).fold(()=>Pf.none(),c=>io(c.all,e,c.index,-1,n)),$i=e=>dS(e).filter(n=>n.trim().length!==0||n.indexOf(ea)>-1).isSome(),Di=e=>vl(e)&&Ia(e,"contenteditable")==="false",oa=["img","br"],kx=e=>$i(e)||Se(oa,hs(e))||Di(e),PH=e=>ji(e,kx),FB=(e,n)=>({left:e.left-n,top:e.top-n,right:e.right+n*2,bottom:e.bottom+n*2,width:e.width+n,height:e.height+n}),VK=(e,n)=>Jo(n,o=>{const a=FB(ig(o.getBoundingClientRect()),-1);return[{x:a.left,y:e(a),cell:o},{x:a.right,y:e(a),cell:o}]}),zne=(e,n,o)=>pn(e,(a,c)=>a.fold(()=>ee.some(c),g=>{const p=Math.sqrt(Math.abs(g.x-n)+Math.abs(g.y-o)),S=Math.sqrt(Math.abs(c.x-n)+Math.abs(c.y-o));return ee.some(S<p?c:g)}),ee.none()),zK=(e,n,o,a,c)=>{const g=bi(Ye.fromDom(o),"td,th,caption").map(S=>S.dom),p=Je(VK(e,g),S=>n(S,c));return zne(p,a,c).map(S=>S.cell)},Hne=e=>e.bottom,Une=e=>e.top,Wne=(e,n)=>e.y<n,Kne=(e,n)=>e.y>n,jne=at(zK,Hne,Wne),Zne=at(zK,Une,Kne),Gne=(e,n)=>cn(n.getClientRects()).bind(o=>jne(e,o.left,o.top)).bind(o=>Mk(cB(o),n)),qne=(e,n)=>uo(n.getClientRects()).bind(o=>Zne(e,o.left,o.top)).bind(o=>Mk(hH(o),n)),Yne=(e,n,o)=>o.breakAt.exists(a=>e(n,a).breakAt.isSome()),Xne=e=>e.breakType===Rm.Wrap&&e.positions.length===0,Jne=e=>e.breakType===Rm.Br&&e.positions.length===1,HK=(e,n,o)=>{const a=e(n,o);return Xne(a)||!Ar(o.getNode())&&Jne(a)?!Yne(e,n,a):a.breakAt.isNone()},Qne=at(HK,mC),eoe=at(HK,gC),toe=(e,n,o)=>{const a=Dt.fromRangeStart(n);return Ly(!e,o).exists(c=>c.isEqual(a))},noe=(e,n,o,a)=>{const c=e.selection.getRng(),g=n?1:-1;return RT()&&toe(n,c,o)?(si(g,e,o,!n,!1).each(p=>{_g(e,p)}),!0):!1},ooe=(e,n,o)=>Gne(n,o).orThunk(()=>cn(o.getClientRects()).bind(a=>N4(iB(e,Dt.before(n)),a.left))).getOr(Dt.before(n)),soe=(e,n,o)=>qne(n,o).orThunk(()=>cn(o.getClientRects()).bind(a=>N4(Lk(e,Dt.after(n)),a.left))).getOr(Dt.after(n)),UK=(e,n)=>{const o=n.getNode(e);return hu(o)?ee.some(o):ee.none()},roe=(e,n,o)=>{n.undoManager.transact(()=>{const a=e?vt:Dr,c=$a(n,Ye.fromDom(o),a);_g(n,c)})},WK=(e,n,o)=>{const a=UK(!!n,o),c=n===!1;a.fold(()=>_g(e,o.toRange()),g=>Ly(c,e.getBody()).filter(p=>p.isEqual(o)).fold(()=>_g(e,o.toRange()),p=>roe(n,e,g)))},ioe=(e,n,o,a)=>{const c=e.selection.getRng(),g=Dt.fromRangeStart(c),p=e.getBody();if(!n&&Qne(a,g)){const S=ooe(p,o,g);return WK(e,n,S),!0}else if(n&&eoe(a,g)){const S=soe(p,o,g);return WK(e,n,S),!0}else return!1},KK=(e,n,o)=>ee.from(e.dom.getParent(e.selection.getNode(),"td,th")).bind(a=>ee.from(e.dom.getParent(a,"table")).map(c=>o(e,n,c,a))).getOr(!1),jK=(e,n)=>KK(e,n,noe),NH=(e,n)=>KK(e,n,ioe),aoe=e=>{const n=Gb.exact(e,0,e,0);return k7(n)},ZK=(e,n,o)=>o.fold(ee.none,ee.none,(a,c)=>PH(c).map(g=>aoe(g)),a=>(e.execCommand("mceTableInsertRowAfter"),GK(e,n,a))),GK=(e,n,o)=>ZK(e,n,Er(o,Sr)),loe=(e,n,o)=>ZK(e,n,xi(o,Sr)),qK=(e,n)=>{const o=["table","li","dl"],a=Ye.fromDom(e.getBody()),c=S=>{const T=hs(S);return us(S,a)||Se(o,T)},g=e.selection.getRng(),p=Ye.fromDom(n?g.endContainer:g.startContainer);return BB(p,c).map(S=>(Et(S,c).each(X=>{e.model.table.clearSelectedCells(X.dom)}),e.selection.collapse(!n),(n?GK:loe)(e,c,S).each(X=>{e.selection.setRng(X)}),!0)).getOr(!1)},coe=(e,n,o)=>{const a=os.os.isMacOS()||os.os.isiOS();vv([{keyCode:On.RIGHT,action:No(Bs,e,!0)},{keyCode:On.LEFT,action:No(Bs,e,!1)},{keyCode:On.UP,action:No(Fh,e,!1)},{keyCode:On.DOWN,action:No(Fh,e,!0)},...a?[{keyCode:On.UP,action:No(b1,e,!1),metaKey:!0,shiftKey:!0},{keyCode:On.DOWN,action:No(b1,e,!0),metaKey:!0,shiftKey:!0}]:[],{keyCode:On.RIGHT,action:No(jK,e,!0)},{keyCode:On.LEFT,action:No(jK,e,!1)},{keyCode:On.UP,action:No(NH,e,!1)},{keyCode:On.DOWN,action:No(NH,e,!0)},{keyCode:On.UP,action:No(NH,e,!1)},{keyCode:On.UP,action:No(vc,e,!1)},{keyCode:On.DOWN,action:No(vc,e,!0)},{keyCode:On.RIGHT,action:No(yv,e,!0)},{keyCode:On.LEFT,action:No(yv,e,!1)},{keyCode:On.UP,action:No(_x,e,!1)},{keyCode:On.DOWN,action:No(_x,e,!0)},{keyCode:On.RIGHT,action:No(z4,e,n,!0)},{keyCode:On.LEFT,action:No(z4,e,n,!1)},{keyCode:On.RIGHT,ctrlKey:!a,altKey:a,action:No(CB,e,n)},{keyCode:On.LEFT,ctrlKey:!a,altKey:a,action:No(SB,e,n)},{keyCode:On.UP,action:No(zk,e,!1)},{keyCode:On.DOWN,action:No(zk,e,!0)}],o).each(c=>{o.preventDefault()})},uoe=(e,n)=>{e.on("keydown",o=>{o.isDefaultPrevented()||coe(e,n,o)})},tb=(e,n)=>({container:e,offset:n}),$B=br.DOM,VB=e=>n=>e===n?-1:0,doe=e=>n=>e.isBlock(n)||Se(["BR","IMG","HR","INPUT"],n.nodeName)||e.getContentEditable(n)==="false",MH=(e,n,o)=>{if(on(e)&&n>=0)return ee.some(tb(e,n));{const a=pm($B);return ee.from(a.backwards(e,n,VB(e),o)).map(c=>tb(c.container,c.container.data.length))}},foe=(e,n,o)=>{if(on(e)&&n>=e.length)return ee.some(tb(e,n));{const a=pm($B);return ee.from(a.forwards(e,n,VB(e),o)).map(c=>tb(c.container,0))}},LH=(e,n,o)=>{if(!on(e))return ee.none();const a=e.data;if(n>=0&&n<=a.length)return ee.some(tb(e,n));{const c=pm($B);return ee.from(c.backwards(e,n,VB(e),o)).bind(g=>{const p=g.container.data;return LH(g.container,n+p.length,o)})}},YK=(e,n,o)=>{if(!on(e))return ee.none();const a=e.data;if(n<=a.length)return ee.some(tb(e,n));{const c=pm($B);return ee.from(c.forwards(e,n,VB(e),o)).bind(g=>YK(g.container,n-a.length,o))}},BH=(e,n,o,a,c)=>{const g=pm(e,doe(e));return ee.from(g.backwards(n,o,a,c))},moe=e=>e.collapsed&&on(e.startContainer),goe=e=>gc(e.toString().replace(/\u00A0/g," ")),XK=e=>e!==""&&` \f
\r	\v`.indexOf(e)!==-1,hoe=(e,n)=>e.substring(n.length),poe=(e,n,o,a=!1)=>{let c;const g=o.charAt(0);for(c=n-1;c>=0;c--){const p=e.charAt(c);if(!a&&XK(p))return ee.none();if(g===p&&Vs(e,o,c,n))break}return ee.some(c)},FH=(e,n,o,a=!1)=>{if(!moe(n))return ee.none();const c={text:"",offset:0},g=(S,T,V)=>(c.text=V+c.text,c.offset+=T,poe(c.text,c.offset,o,a).getOr(T)),p=e.getParent(n.startContainer,e.isBlock)||e.getRoot();return BH(e,n.startContainer,n.startOffset,g,p).bind(S=>{const T=n.cloneRange();if(T.setStart(S.container,S.offset),T.setEnd(n.endContainer,n.endOffset),T.collapsed)return ee.none();const V=goe(T);return V.lastIndexOf(o)!==0?ee.none():ee.some({text:hoe(V,o),range:T,trigger:o})})},boe=e=>e.nodeType===ef,voe=e=>e.nodeType===Nl,JK=e=>{if(boe(e))return tb(e,e.data.length);{const n=e.childNodes;return n.length>0?JK(n[n.length-1]):tb(e,n.length)}},QK=(e,n)=>{const o=e.childNodes;return o.length>0&&n<o.length?QK(o[n],0):o.length>0&&voe(e)&&o.length===n?JK(o[o.length-1]):tb(e,n)},yoe=(e,n)=>{var o;const a=(o=e.getParent(n.container,e.isBlock))!==null&&o!==void 0?o:e.getRoot();return BH(e,n.container,n.offset,(c,g)=>g===0?-1:g,a).filter(c=>{const g=c.container.data.charAt(c.offset-1);return!XK(g)}).isSome()},xoe=e=>n=>{const o=QK(n.startContainer,n.startOffset);return!yoe(e,o)},woe=(e,n,o)=>mi(o.triggers,a=>FH(e,n,a)),Coe=(e,n)=>{const o=n(),a=e.selection.getRng();return woe(e.dom,a,o).bind(c=>ej(e,n,c))},ej=(e,n,o,a={})=>{var c;const g=n(),S=(c=e.selection.getRng().startContainer.nodeValue)!==null&&c!==void 0?c:"",T=Je(g.lookupByTrigger(o.trigger),X=>o.text.length>=X.minChars&&X.matches.getOrThunk(()=>xoe(e.dom))(o.range,S,o.text));if(T.length===0)return ee.none();const V=Promise.all(Ke(T,X=>X.fetch(o.text,X.maxResults,a).then(ae=>({matchText:o.text,items:ae,columns:X.columns,onAction:X.onAction,highlightOn:X.highlightOn}))));return ee.some({lookupData:V,context:o})};var nb;(function(e){e[e.Error=0]="Error",e[e.Value=1]="Value"})(nb||(nb={}));const $H=(e,n,o)=>e.stype===nb.Error?n(e.serror):o(e.svalue),Soe=e=>{const n=[],o=[];return xe(e,a=>{$H(a,c=>o.push(c),c=>n.push(c))}),{values:n,errors:o}},_oe=(e,n)=>e.stype===nb.Error?{stype:nb.Error,serror:n(e.serror)}:e,koe=(e,n)=>e.stype===nb.Value?{stype:nb.Value,svalue:n(e.svalue)}:e,Eoe=(e,n)=>e.stype===nb.Value?n(e.svalue):e,Toe=(e,n)=>e.stype===nb.Error?n(e.serror):e,tj=e=>({stype:nb.Value,svalue:e}),nj=e=>({stype:nb.Error,serror:e}),Tc={fromResult:e=>e.fold(nj,tj),toResult:e=>$H(e,bo.error,bo.value),svalue:tj,partition:Soe,serror:nj,bind:Eoe,bindError:Toe,map:koe,mapError:_oe,fold:$H},VH=e=>j(e)&&tn(e).length>100?" removed due to size":JSON.stringify(e,null,2),Aoe=e=>{const n=e.length>10?e.slice(0,10).concat([{path:[],getErrorInfo:mt("... (only showing first ten failures)")}]):e;return Ke(n,o=>"Failed path: ("+o.path.join(" > ")+`)
`+o.getErrorInfo())},zB=(e,n)=>Tc.serror([{path:e,getErrorInfo:n}]),Ooe=(e,n,o)=>zB(e,()=>'Could not find valid *required* value for "'+n+'" in '+VH(o)),Roe=(e,n)=>zB(e,()=>'Choice schema did not contain choice key: "'+n+'"'),Ioe=(e,n,o)=>zB(e,()=>'The chosen schema: "'+o+'" did not exist in branches: '+VH(n)),Doe=(e,n)=>zB(e,mt(n)),Poe=(e,n,o,a)=>Zs(o,a).fold(()=>Ioe(e,o,a),g=>g.extract(e.concat(["branch: "+a]),n)),Noe=(e,n)=>({extract:(c,g)=>Zs(g,e).fold(()=>Roe(c,e),S=>Poe(c,g,n,S)),toString:()=>"chooseOn("+e+"). Possible values: "+tn(n)}),Moe=(e,n)=>n,Loe=(e,n)=>me(e)&&me(n)?HB(e,n):n,oj=e=>(...n)=>{if(n.length===0)throw new Error("Can't merge zero objects");const o={};for(let a=0;a<n.length;a++){const c=n[a];for(const g in c)So(c,g)&&(o[g]=e(o[g],c[g]))}return o},HB=oj(Loe),sj=oj(Moe),rj=()=>({tag:"required",process:{}}),Boe=e=>({tag:"defaultedThunk",process:e}),ij=e=>Boe(mt(e)),Foe=()=>({tag:"option",process:{}}),$oe=(e,n)=>e.length>0?Tc.svalue(HB(n,sj.apply(void 0,e))):Tc.svalue(n),aj=e=>Ft(Tc.serror,co)(e),Voe={consolidateObj:(e,n)=>{const o=Tc.partition(e);return o.errors.length>0?aj(o.errors):$oe(o.values,n)},consolidateArr:e=>{const n=Tc.partition(e);return n.errors.length>0?aj(n.errors):Tc.svalue(n.values)}},zoe=(e,n,o,a)=>({tag:"field",key:e,newKey:n,presence:o,prop:a}),Hoe=(e,n)=>({tag:"custom",newKey:e,instantiator:n}),lj=(e,n,o)=>{switch(e.tag){case"field":return n(e.key,e.newKey,e.presence,e.prop);case"custom":return o(e.newKey,e.instantiator)}},zH=e=>{const n=(a,c)=>Tc.bindError(e(c),g=>Doe(a,g)),o=mt("val");return{extract:n,toString:o}},Uoe=zH(Tc.svalue),Woe=(e,n,o,a)=>Zs(n,o).fold(()=>Ooe(e,o,n),a),cj=(e,n,o,a)=>{const c=Zs(e,n).getOrThunk(()=>o(e));return a(c)},Koe=(e,n,o)=>o(Zs(e,n)),joe=(e,n,o,a)=>{const c=Zs(e,n).map(g=>g===!0?o(e):g);return a(c)},Zoe=(e,n,o,a,c)=>{const g=S=>c.extract(n.concat([a]),S),p=S=>S.fold(()=>Tc.svalue(ee.none()),T=>{const V=c.extract(n.concat([a]),T);return Tc.map(V,ee.some)});switch(e.tag){case"required":return Woe(n,o,a,g);case"defaultedThunk":return cj(o,a,e.process,g);case"option":return Koe(o,a,p);case"defaultedOptionThunk":return joe(o,a,e.process,p);case"mergeWithThunk":return cj(o,a,mt({}),S=>{const T=HB(e.process(o),S);return g(T)})}},Goe=(e,n,o)=>{const a={},c=[];for(const g of o)lj(g,(p,S,T,V)=>{const X=Zoe(T,e,n,p,V);Tc.fold(X,Q=>{c.push(...Q)},Q=>{a[S]=Q})},(p,S)=>{a[p]=S(n)});return c.length>0?Tc.serror(c):Tc.svalue(a)},HH=e=>({extract:(a,c)=>Goe(a,c,e),toString:()=>`obj{
`+Ke(e,c=>lj(c,(g,p,S,T)=>g+" -> "+T.toString(),(g,p)=>"state("+g+")")).join(`
`)+"}"}),uj=e=>({extract:(a,c)=>{const g=Ke(c,(p,S)=>e.extract(a.concat(["["+S+"]"]),p));return Voe.consolidateArr(g)},toString:()=>"array("+e.toString()+")"}),qoe=e=>zH(n=>e(n).fold(Tc.serror,Tc.svalue)),Yoe=(e,n,o)=>{const a=n.extract([e],o);return Tc.mapError(a,c=>({input:o,errors:c}))},Xoe=(e,n,o)=>Tc.toResult(Yoe(e,n,o)),Joe=e=>`Errors: 
`+Aoe(e.errors).join(`
`)+`

Input object: `+VH(e.input),dj=(e,n)=>Noe(e,Kl(n,HH)),Qoe=mt(Uoe),UB=(e,n)=>zH(o=>{const a=typeof o;return e(o)?Tc.svalue(o):Tc.serror(`Expected type: ${n} but got: ${a}`)}),ese=UB(I,"number"),WB=UB(he,"string"),tse=UB(Ue,"boolean"),UH=UB(Ne,"function"),nR=zoe,fj=Hoe,nse=e=>qoe(n=>Se(e,n)?bo.value(n):bo.error(`Unsupported value: "${n}", choose one of "${e.join(", ")}".`)),mj=(e,n)=>nR(e,e,rj(),n),gj=e=>mj(e,WB),hj=e=>mj(e,UH),ose=(e,n)=>nR(e,e,rj(),uj(n)),WH=(e,n)=>nR(e,e,Foe(),n),KB=e=>WH(e,WB),sse=e=>WH(e,UH),rse=(e,n)=>nR(e,e,ij(n),Qoe()),Wk=(e,n,o)=>nR(e,e,ij(n),o),pj=(e,n)=>Wk(e,n,ese),ise=(e,n)=>Wk(e,n,WB),bj=(e,n,o)=>Wk(e,n,nse(o)),KH=(e,n)=>Wk(e,n,tse),jH=(e,n)=>Wk(e,n,UH),ase=(e,n,o)=>Wk(e,n,uj(o)),lse=gj("type"),cse=hj("fetch"),ZH=hj("onAction"),use=jH("onSetup",()=>it),dse=KB("text"),fse=KB("icon"),mse=KB("tooltip"),gse=KB("label"),hse=KH("active",!1),pse=KH("enabled",!0),vj=KH("primary",!1),bse=e=>rse("columns",e),oR=e=>ise("type",e),vse=HH([lse,gj("trigger"),pj("minChars",1),bse(1),pj("maxResults",10),sse("matches"),cse,ZH,ase("highlightOn",[],WB)]),yse=e=>Xoe("Autocompleter",vse,e),GH=[pse,mse,fse,dse,use],yj=[hse].concat(GH),xse=[jH("predicate",Bn),bj("scope","node",["node","editor"]),bj("position","selection",["node","selection","line"])],wse=GH.concat([oR("contextformbutton"),vj,ZH,fj("original",Rn)]),Cse=yj.concat([oR("contextformbutton"),vj,ZH,fj("original",Rn)]),Sse=GH.concat([oR("contextformbutton")]),_se=yj.concat([oR("contextformtogglebutton")]),kse=dj("type",{contextformbutton:wse,contextformtogglebutton:Cse});HH([oR("contextform"),jH("initValue",mt("")),gse,ose("commands",kse),WH("launch",dj("type",{contextformbutton:Sse,contextformtogglebutton:_se}))].concat(xse));const Ese=e=>{const n=e.ui.registry.getAll().popups,o=Kl(n,p=>yse(p).fold(S=>{throw new Error(Joe(S))},Rn)),a=Mu(El(o,p=>p.trigger)),c=Pc(o);return{dataset:o,triggers:a,lookupByTrigger:p=>Je(c,S=>S.trigger===p)}},Tse=(e,n)=>{const o=Rb(n.load,50);e.on("input",a=>{a.inputType==="insertCompositionText"&&!e.composing||o.throttle()}),e.on("keydown",a=>{const c=a.which;c===8?o.throttle():c===27?(o.cancel(),n.cancelIfNecessary()):(c===38||c===40)&&o.cancel()},!0),e.on("remove",o.cancel)},Ase=e=>{const n=Ai(),o=Fi(!1),a=n.isSet,c=()=>{a()&&(d7(e),o.set(!1),n.clear())},g=Q=>{a()||n.set({trigger:Q.trigger,matchLength:Q.text.length})},p=gl(()=>Ese(e)),S=Q=>n.get().map(ae=>FH(e.dom,e.selection.getRng(),ae.trigger,!0).bind(we=>ej(e,p,we,Q))).getOrThunk(()=>Coe(e,p)),T=Q=>{S(Q).fold(c,ae=>{g(ae.context),ae.lookupData.then(we=>{n.get().map(De=>{const _e=ae.context;De.trigger===_e.trigger&&(n.set({...De,matchLength:_e.text.length}),o.get()?(tA(e,{range:_e.range}),eA(e,{lookupData:we})):(o.set(!0),tA(e,{range:_e.range}),QT(e,{lookupData:we})))})})})},V=(Q,ae)=>{const we=Q.compareBoundaryPoints(window.Range.START_TO_START,ae),De=Q.compareBoundaryPoints(window.Range.END_TO_END,ae);return we>=0&&De<=0},X=()=>n.get().bind(({trigger:Q})=>{const ae=e.selection.getRng();return FH(e.dom,ae,Q,o.get()).filter(({range:we})=>V(ae,we)).map(({range:we})=>we)});e.addCommand("mceAutocompleterReload",(Q,ae)=>{const we=j(ae)?ae.fetchOptions:{};T(we)}),e.addCommand("mceAutocompleterClose",c),e.addCommand("mceAutocompleterRefreshActiveRange",()=>{X().each(Q=>{tA(e,{range:Q})})}),e.editorCommands.addQueryStateHandler("mceAutoCompleterInRange",()=>X().isSome()),Tse(e,{cancelIfNecessary:c,load:T})},Ose=ua().browser.isSafari(),xj=e=>td(Ye.fromDom(e)),wj=(e,n)=>{var o;return e.startOffset===0&&e.endOffset===((o=n.textContent)===null||o===void 0?void 0:o.length)},jB=(e,n)=>ee.from(e.getParent(n.container(),"details")),Cj=(e,n)=>jB(e,n).isSome(),Rse=(e,n)=>{const o=ee.from(e.getParent(n.startContainer,"details")),a=ee.from(e.getParent(n.endContainer,"details"));if(o.isSome()||a.isSome()){const c=o.bind(g=>ee.from(e.select("summary",g)[0]));return ee.some({startSummary:c,startDetails:o,endDetails:a})}else return ee.none()},Ise=(e,n)=>yo(n).exists(o=>o.isEqual(e)),Dse=(e,n)=>xf(n).exists(o=>Ar(o.getNode())&&sd(n,o).exists(a=>a.isEqual(e))||o.isEqual(e)),Pse=(e,n)=>n.startSummary.exists(o=>Ise(e,o)),Nse=(e,n)=>n.startSummary.exists(o=>Dse(e,o)),Mse=(e,n)=>n.startDetails.exists(o=>sd(o,e).forall(a=>n.startSummary.exists(c=>!c.contains(e.container())&&c.contains(a.container())))),Lse=(e,n,o)=>o.startDetails.exists(a=>qc(e,n).forall(c=>!a.contains(c.container()))),Sj=(e,n)=>{const o=n.getNode();et(o)||e.selection.setCursorLocation(o,n.offset())},_j=(e,n,o)=>{const a=e.dom.getParent(n.container(),"details");if(a&&!a.open){const c=e.dom.select("summary",a)[0];c&&(o?yo(c):xf(c)).each(p=>Sj(e,p))}else Sj(e,n)},Bse=(e,n)=>{const o=T=>T.contains(e.startContainer),a=T=>T.contains(e.endContainer),c=n.startSummary.exists(o),g=n.startSummary.exists(a),p=n.startDetails.forall(T=>n.endDetails.forall(V=>T!==V));return(c||g)&&!(c&&g)||p},kj=(e,n,o)=>{const{dom:a,selection:c}=e,g=e.getBody();if(o==="character"){const p=Dt.fromRangeStart(c.getRng()),S=a.getParent(p.container(),a.isBlock),T=jB(a,p),V=S&&a.isEmpty(S),X=Ce(S==null?void 0:S.previousSibling),Q=Ce(S==null?void 0:S.nextSibling);return V&&(n?Q:X)&&M0(!n,g,p).exists(De=>Cj(a,De)&&!Jd(T,jB(a,De)))?!0:M0(n,g,p).fold(Bn,ae=>{const we=jB(a,ae);if(Cj(a,ae)&&!Jd(T,we)){if(n||_j(e,ae,!1),S&&V){if(n&&X)return!0;if(!n&&Q)return!0;_j(e,ae,n),e.dom.remove(S)}return!0}else return!1})}else return!1},Fse=(e,n,o,a)=>{const g=e.selection.getRng(),p=Dt.fromRangeStart(g),S=e.getBody();return a==="selection"?Bse(g,n):o?Nse(p,n)||Lse(S,p,n):Pse(p,n)||Mse(p,n)},$se=(e,n,o)=>Rse(e.dom,e.selection.getRng()).fold(()=>kj(e,n,o),a=>Fse(e,a,n,o)||kj(e,n,o)),Vse=(e,n,o)=>{const a=e.selection,c=a.getNode(),g=a.getRng(),p=Dt.fromRangeStart(g);return Jg(c)?(o==="selection"&&wj(g,c)||TN(n,p,c)?xj(c):e.undoManager.transact(()=>{const S=a.getSel();let{anchorNode:T,anchorOffset:V,focusNode:X,focusOffset:Q}=S??{};const ae=()=>{Me(T)&&Me(V)&&Me(X)&&Me(Q)&&(S==null||S.setBaseAndExtent(T,V,X,Q))},we=()=>{T=S==null?void 0:S.anchorNode,V=S==null?void 0:S.anchorOffset,X=S==null?void 0:S.focusNode,Q=S==null?void 0:S.focusOffset},De=($e,nt)=>{xe($e.childNodes,ft=>{zy(ft)&&nt.appendChild(ft)})},_e=e.dom.create("span",{"data-mce-bogus":"1"});De(c,_e),c.appendChild(_e),ae(),(o==="word"||o==="line")&&(S==null||S.modify("extend",n?"right":"left",o)),!a.isCollapsed()&&wj(a.getRng(),_e)?xj(c):(e.execCommand(n?"ForwardDelete":"Delete"),we(),De(_e,c),ae()),e.dom.remove(_e)}),!0):!1},kC=(e,n,o)=>$se(e,n,o)||Ose&&Vse(e,n,o)?ee.some(it):ee.none(),Ej=e=>(n,o,a={})=>{const c=n.getBody(),g={bubbles:!0,composed:!0,data:null,isComposing:!1,detail:0,view:null,target:c,currentTarget:c,eventPhase:Event.AT_TARGET,originalTarget:c,explicitOriginalTarget:c,isTrusted:!1,srcElement:c,cancelable:!1,preventDefault:it,inputType:o},p=oh(new InputEvent(e));return n.dispatch(e,{...p,...g,...a})},sR=Ej("input"),ZB=Ej("beforeinput"),Tj=ua(),Aj=Tj.os,Oj=Aj.isMacOS()||Aj.isiOS(),zse=Tj.browser.isFirefox(),Hse=(e,n,o)=>{const a=o.keyCode===On.BACKSPACE?"deleteContentBackward":"deleteContentForward",c=e.selection.isCollapsed(),g=c?"character":"selection",p=S=>c?S?"word":"line":"selection";Uk([{keyCode:On.BACKSPACE,action:No(Pt,e)},{keyCode:On.BACKSPACE,action:No(A4,e,!1)},{keyCode:On.DELETE,action:No(A4,e,!0)},{keyCode:On.BACKSPACE,action:No(k4,e,!1)},{keyCode:On.DELETE,action:No(k4,e,!0)},{keyCode:On.BACKSPACE,action:No(yC,e,n,!1)},{keyCode:On.DELETE,action:No(yC,e,n,!0)},{keyCode:On.BACKSPACE,action:No(Wp,e,!1)},{keyCode:On.DELETE,action:No(Wp,e,!0)},{keyCode:On.BACKSPACE,action:No(kC,e,!1,g)},{keyCode:On.DELETE,action:No(kC,e,!0,g)},...Oj?[{keyCode:On.BACKSPACE,altKey:!0,action:No(kC,e,!1,p(!0))},{keyCode:On.DELETE,altKey:!0,action:No(kC,e,!0,p(!0))},{keyCode:On.BACKSPACE,metaKey:!0,action:No(kC,e,!1,p(!1))}]:[{keyCode:On.BACKSPACE,ctrlKey:!0,action:No(kC,e,!1,p(!0))},{keyCode:On.DELETE,ctrlKey:!0,action:No(kC,e,!0,p(!0))}],{keyCode:On.BACKSPACE,action:No(R4,e,!1)},{keyCode:On.DELETE,action:No(R4,e,!0)},{keyCode:On.BACKSPACE,action:No(se,e,!1)},{keyCode:On.DELETE,action:No(se,e,!0)},{keyCode:On.BACKSPACE,action:No(C4,e,!1)},{keyCode:On.DELETE,action:No(C4,e,!0)},{keyCode:On.BACKSPACE,action:No(Ok,e,!1)},{keyCode:On.DELETE,action:No(Ok,e,!0)},{keyCode:On.BACKSPACE,action:No(C,e,!1)},{keyCode:On.DELETE,action:No(C,e,!0)},{keyCode:On.BACKSPACE,action:No(O4,e,!1)},{keyCode:On.DELETE,action:No(O4,e,!0)}],o).filter(S=>e.selection.isEditable()).each(S=>{o.preventDefault(),ZB(e,a).isDefaultPrevented()||(S(),sR(e,a))})},Use=(e,n,o)=>vv([{keyCode:On.BACKSPACE,action:No(FL,e)},{keyCode:On.DELETE,action:No(FL,e)},...Oj?[{keyCode:On.BACKSPACE,altKey:!0,action:No($,e)},{keyCode:On.DELETE,altKey:!0,action:No($,e)},...o?[{keyCode:zse?224:91,action:No($,e)}]:[]]:[{keyCode:On.BACKSPACE,ctrlKey:!0,action:No($,e)},{keyCode:On.DELETE,ctrlKey:!0,action:No($,e)}]],n),Wse=(e,n)=>{let o=!1;e.on("keydown",a=>{o=a.keyCode===On.BACKSPACE,a.isDefaultPrevented()||Hse(e,n,a)}),e.on("keyup",a=>{a.isDefaultPrevented()||Use(e,a,o),o=!1})},Kse=e=>{for(;e;){if(Un(e)||on(e)&&e.data&&/[\r\n\s]/.test(e.data))return e;e=e.nextSibling}return null},Kk=(e,n)=>{const o=e.dom,a=e.schema.getMoveCaretBeforeOnEnterElements();if(!n)return;if(/^(LI|DT|DD)$/.test(n.nodeName)){const g=Kse(n.firstChild);g&&/^(UL|OL|DL)$/.test(g.nodeName)&&n.insertBefore(o.doc.createTextNode(ea),n.firstChild)}const c=o.createRng();if(n.normalize(),n.hasChildNodes()){const g=new Ma(n,n);let p=n,S;for(;S=g.current();){if(on(S)){c.setStart(S,0),c.setEnd(S,0);break}if(a[S.nodeName.toLowerCase()]){c.setStartBefore(S),c.setEndBefore(S);break}p=S,S=g.next()}S||(c.setStart(p,0),c.setEnd(p,0))}else Ar(n)?n.nextSibling&&o.isBlock(n.nextSibling)?(c.setStartBefore(n),c.setEndBefore(n)):(c.setStartAfter(n),c.setEndAfter(n)):(c.setStart(n,0),c.setEnd(n,0));e.selection.setRng(c),Sf(e,c)},rR=(e,n)=>{const o=e.getRoot();let a,c=n;for(;c!==o&&c&&e.getContentEditable(c)!=="false";){if(e.getContentEditable(c)==="true"){a=c;break}c=c.parentNode}return c!==o?a:o},qH=e=>ee.from(e.dom.getParent(e.selection.getStart(!0),e.dom.isBlock)),jse=e=>qH(e).fold(mt(""),n=>n.nodeName.toUpperCase()),Zse=e=>qH(e).filter(n=>uh(Ye.fromDom(n))).isSome(),YH=e=>{e.innerHTML='<br data-mce-bogus="1">'},Gse=(e,n,o)=>{const a=e.dom;ee.from(o.style).map(a.parseStyle).each(T=>{const X={...qm(Ye.fromDom(n)),...T};a.setStyles(n,X)});const c=ee.from(o.class).map(T=>T.split(/\s+/)),g=ee.from(n.className).map(T=>Je(T.split(/\s+/),V=>V!==""));fa(c,g,(T,V)=>{const X=Je(V,ae=>!Se(T,ae)),Q=[...T,...X];a.setAttrib(n,"class",Q.join(" "))});const p=["style","class"],S=Dc(o,(T,V)=>!Se(p,V));a.setAttribs(n,S)},iR=(e,n)=>{if(Ql(e).toLowerCase()===n.tagName.toLowerCase()){const a=Lw(e);Gse(e,n,a)}},Rj=(e,n,o,a,c=!0,g,p)=>{const S=e.dom,T=e.schema,V=Ql(e),X=o?o.nodeName.toUpperCase():"";let Q=n;const ae=T.getTextInlineElements();let we;g||X==="TABLE"||X==="HR"?we=S.create(g||V,p||{}):we=o.cloneNode(!1);let De=we;if(!c)S.setAttrib(we,"style",null),S.setAttrib(we,"class",null);else do if(ae[Q.nodeName]){if(Rd(Q)||Id(Q))continue;const _e=Q.cloneNode(!1);S.setAttrib(_e,"id",""),we.hasChildNodes()?(_e.appendChild(we.firstChild),we.appendChild(_e)):(De=_e,we.appendChild(_e))}while((Q=Q.parentNode)&&Q!==a);return iR(e,we),YH(De),we},qse=(e,n)=>e.dom.getParent(n,Xg),Yse=(e,n,o)=>{let a=n;for(;a&&a!==e&&Ce(a.nextSibling);){const c=a.parentElement;if(!c||!o(c))return Xg(c);a=c}return!1},Xse=(e,n,o)=>!n&&o.nodeName.toLowerCase()===Ql(e)&&e.dom.isEmpty(o)&&Yse(e.getBody(),o,a=>So(e.schema.getTextBlockElements(),a.nodeName.toLowerCase())),Jse=(e,n,o)=>{var a,c,g;const p=n(Ql(e)),S=qse(e,o);S&&(e.dom.insertAfter(p,S),Kk(e,p),((g=(c=(a=o.parentElement)===null||a===void 0?void 0:a.childNodes)===null||c===void 0?void 0:c.length)!==null&&g!==void 0?g:0)>1&&e.dom.remove(o))},Qse=(e,n)=>e.firstChild&&e.firstChild.nodeName===n,ere=e=>{var n;return((n=e.parentNode)===null||n===void 0?void 0:n.firstChild)===e},Ij=(e,n)=>{const o=e==null?void 0:e.parentNode;return Me(o)&&o.nodeName===n},Dj=e=>Me(e)&&/^(OL|UL|LI)$/.test(e.nodeName),XH=e=>Me(e)&&/^(LI|DT|DD)$/.test(e.nodeName),tre=e=>Dj(e)&&Dj(e.parentNode),GB=e=>{const n=e.parentNode;return XH(n)?n:e},qB=(e,n,o)=>{let a=e[o?"firstChild":"lastChild"];for(;a&&!Un(a);)a=a[o?"nextSibling":"previousSibling"];return a===n},Pj=e=>pn(El(qm(Ye.fromDom(e)),(n,o)=>`${o}: ${n};`),(n,o)=>n+o,""),nre=(e,n,o,a,c)=>{const g=e.dom,p=e.selection.getRng(),S=o.parentNode;if(o===e.getBody()||!S)return;tre(o)&&(c="LI");const T=XH(a)?Pj(a):void 0;let V=XH(a)&&T?n(c,{style:Pj(a)}):n(c);if(qB(o,a,!0)&&qB(o,a,!1))if(Ij(o,"LI")){const X=GB(o);g.insertAfter(V,X),ere(o)?g.remove(X):g.remove(o)}else g.replace(V,o);else if(qB(o,a,!0))Ij(o,"LI")?(g.insertAfter(V,GB(o)),V.appendChild(g.doc.createTextNode(" ")),V.appendChild(o)):S.insertBefore(V,o),g.remove(a);else if(qB(o,a,!1))g.insertAfter(V,GB(o)),g.remove(a);else{o=GB(o);const X=p.cloneRange();X.setStartAfter(a),X.setEndAfter(o);const Q=X.extractContents();if(c==="LI"&&Qse(Q,"LI")){const ae=Je(Ke(V.children,Ye.fromDom),Ve(tf("br")));V=Q.firstChild,g.insertAfter(Q,o),xe(ae,we=>Ja(Ye.fromDom(V),we)),T&&V.setAttribute("style",T)}else g.insertAfter(Q,o),g.insertAfter(V,o);g.remove(a)}Kk(e,V)},ore=e=>{xe(rm(Ye.fromDom(e),Cr),n=>{const o=n.dom;o.nodeValue=gc(o.data)})},sre=(e,n)=>{const o=e.dom.getParent(n,"ol,ul,dl");return o!==null&&e.dom.getContentEditableParent(o)==="false"},rre=(e,n)=>n&&n.nodeName==="A"&&e.isEmpty(n),JH=(e,n)=>e.nodeName===n||e.previousSibling&&e.previousSibling.nodeName===n,QH=(e,n)=>Me(n)&&e.isBlock(n)&&!/^(TD|TH|CAPTION|FORM)$/.test(n.nodeName)&&!/^(fixed|absolute)/i.test(n.style.position)&&e.isEditable(n.parentNode)&&e.getContentEditable(n)!=="false",ire=(e,n,o)=>{var a;const c=[];if(!o)return;let g=o;for(;g=g.firstChild;){if(e.isBlock(g))return;Un(g)&&!n[g.nodeName.toLowerCase()]&&c.push(g)}let p=c.length;for(;p--;)g=c[p],(!g.hasChildNodes()||g.firstChild===g.lastChild&&((a=g.firstChild)===null||a===void 0?void 0:a.nodeValue)===""||rre(e,g))&&e.remove(g)},e9=(e,n,o)=>on(n)?e?o===1&&n.data.charAt(o-1)===ta?0:o:o===n.data.length-1&&n.data.charAt(o)===ta?n.data.length:o:o,are=e=>{const n=e.cloneRange();return n.setStart(e.startContainer,e9(!0,e.startContainer,e.startOffset)),n.setEnd(e.endContainer,e9(!1,e.endContainer,e.endOffset)),n},lre=e=>{let n=e;do on(n)&&(n.data=n.data.replace(/^[\r\n]+/,"")),n=n.firstChild;while(n)},cre=(e,n,o,a,c)=>{var g,p;const S=e.dom,T=(g=rR(S,a))!==null&&g!==void 0?g:S.getRoot();let V=S.getParent(a,S.isBlock);if(!V||!QH(S,V)){if(V=V||T,!V.hasChildNodes()){const we=S.create(n);return iR(e,we),V.appendChild(we),o.setStart(we,0),o.setEnd(we,0),we}let X=a;for(;X&&X.parentNode!==V;)X=X.parentNode;let Q;for(;X&&!S.isBlock(X);)Q=X,X=X.previousSibling;const ae=(p=Q==null?void 0:Q.parentElement)===null||p===void 0?void 0:p.nodeName;if(Q&&ae&&e.schema.isValidChild(ae,n.toLowerCase())){const we=Q.parentNode,De=S.create(n);for(iR(e,De),we.insertBefore(De,Q),X=Q;X&&!S.isBlock(X);){const _e=X.nextSibling;De.appendChild(X),X=_e}o.setStart(a,c),o.setEnd(a,c)}}return a},ure=(e,n)=>{n.normalize();const o=n.lastChild;(!o||Un(o)&&/^(left|right)$/gi.test(e.getStyle(o,"float",!0)))&&e.add(n,"br")},dre=(e,n)=>{const o=fT(e);return dt(n)?!1:he(o)?Se(dn.explode(o),n.nodeName.toLowerCase()):o},Nj={insert:(e,n)=>{let o,a,c,g,p=!1;const S=e.dom,T=e.schema,V=T.getNonEmptyElements(),X=e.selection.getRng(),Q=Ql(e),ae=Ye.fromDom(X.startContainer),we=zu(ae,X.startOffset),De=we.exists(Zt=>vl(Zt)&&!Sr(Zt)),_e=X.collapsed&&De,$e=(Zt,Hn)=>Rj(e,o,gn,qt,dT(e),Zt,Hn),nt=Zt=>{const Hn=e9(Zt,o,a);if(on(o)&&(Zt?Hn>0:Hn<o.data.length))return!1;if((o.parentNode===gn||o===gn)&&p&&!Zt||Zt&&Un(o)&&o===gn.firstChild)return!0;if(JH(o,"TABLE")||JH(o,"HR"))return p&&!Zt||!p&&Zt;const so=new Ma(o,gn);on(o)&&(Zt&&Hn===0?so.prev():!Zt&&Hn===o.data.length&&so.next());let rs;for(;rs=so.current();){if(Un(rs)){if(!rs.getAttribute("data-mce-bogus")){const fs=rs.nodeName.toLowerCase();if(V[fs]&&fs!=="br")return!1}}else if(on(rs)&&!cc(rs.data))return!1;Zt?so.prev():so.next()}return!0},ft=()=>{let Zt;return/^(H[1-6]|PRE|FIGURE)$/.test(c)&&Pn!=="HGROUP"?Zt=$e(Q):Zt=$e(),dre(e,g)&&QH(S,g)&&S.isEmpty(gn,void 0,{includeZwsp:!0})?Zt=S.split(g,gn):S.insertAfter(Zt,gn),Kk(e,Zt),Zt};Ch(S,X).each(Zt=>{X.setStart(Zt.startContainer,Zt.startOffset),X.setEnd(Zt.endContainer,Zt.endOffset)}),o=X.startContainer,a=X.startOffset;const ct=!!(n&&n.shiftKey),kt=!!(n&&n.ctrlKey);Un(o)&&o.hasChildNodes()&&!_e&&(p=a>o.childNodes.length-1,o=o.childNodes[Math.min(a,o.childNodes.length-1)]||o,p&&on(o)?a=o.data.length:a=0);const qt=rR(S,o);if(!qt||sre(e,o))return;ct||(o=cre(e,Q,X,o,a));let gn=S.getParent(o,S.isBlock)||S.getRoot();g=Me(gn==null?void 0:gn.parentNode)?S.getParent(gn.parentNode,S.isBlock):null,c=gn?gn.nodeName.toUpperCase():"";const Pn=g?g.nodeName.toUpperCase():"";if(Pn==="LI"&&!kt){const Zt=g;gn=Zt,g=Zt.parentNode,c=Pn}if(Un(g)&&Xse(e,ct,gn))return Jse(e,$e,gn);if(/^(LI|DT|DD)$/.test(c)&&Un(g)&&S.isEmpty(gn)){nre(e,$e,g,gn,Q);return}if(!_e&&(gn===e.getBody()||!QH(S,gn)))return;const $t=gn.parentNode;let Rt;if(_e)Rt=$e(Q),we.fold(()=>{Vr(ae,Ye.fromDom(Rt))},Zt=>{Dr(Zt,Ye.fromDom(Rt))}),e.selection.setCursorLocation(Rt,0);else if(Db(gn))Rt=Op(gn),S.isEmpty(gn)&&YH(gn),iR(e,Rt),Kk(e,Rt);else if(nt(!1))Rt=ft();else if(nt(!0)&&$t){const Zt=Dt.fromRangeStart(X),Hn=Xy(Zt),so=Ye.fromDom(gn),fs=Y0(so,Zt,e.schema)?y_(so,Zt,e.schema).bind(cr=>ee.from(cr.getNode())):ee.none();Rt=$t.insertBefore($e(),gn);const Js=JH(gn,"HR")||Hn?Rt:fs.getOr(gn);Kk(e,Js)}else{const Zt=are(X).cloneRange();Zt.setEndAfter(gn);const Hn=Zt.extractContents();ore(Hn),lre(Hn),Rt=Hn.firstChild,S.insertAfter(Hn,gn),ire(S,V,Rt),ure(S,gn),S.isEmpty(gn)&&YH(gn),Rt.normalize(),S.isEmpty(Rt)?(S.remove(Rt),ft()):(iR(e,Rt),Kk(e,Rt))}S.setAttrib(Rt,"id",""),e.dispatch("NewBlock",{newBlock:Rt})},fakeEventName:"insertParagraph"},fre=(e,n,o)=>{const a=new Ma(n,o);let c;const g=e.getNonEmptyElements();for(;c=a.next();)if(g[c.nodeName.toLowerCase()]||on(c)&&c.length>0)return!0;return!1},Mj=(e,n,o)=>{const a=e.dom.createRng();o?(a.setStartBefore(n),a.setEndBefore(n)):(a.setStartAfter(n),a.setEndAfter(n)),e.selection.setRng(a),Sf(e,a)},mre=(e,n)=>{const o=e.selection,a=e.dom,c=o.getRng();let g,p=!1;Ch(a,c).each(we=>{c.setStart(we.startContainer,we.startOffset),c.setEnd(we.endContainer,we.endOffset)});let S=c.startOffset,T=c.startContainer;if(Un(T)&&T.hasChildNodes()){const we=S>T.childNodes.length-1;T=T.childNodes[Math.min(S,T.childNodes.length-1)]||T,we&&on(T)?S=T.data.length:S=0}let V=a.getParent(T,a.isBlock);const X=V&&V.parentNode?a.getParent(V.parentNode,a.isBlock):null,Q=X?X.nodeName.toUpperCase():"",ae=!!(n&&n.ctrlKey);Q==="LI"&&!ae&&(V=X),on(T)&&S>=T.data.length&&(fre(e.schema,T,V||a.getRoot())||(g=a.create("br"),c.insertNode(g),c.setStartAfter(g),c.setEndAfter(g),p=!0)),g=a.create("br"),Ay(a,c,g),Mj(e,g,p),e.undoManager.add()},gre=(e,n)=>{const o=Ye.fromTag("br");Dr(Ye.fromDom(n),o),e.undoManager.add()},hre=(e,n)=>{bre(e.getBody(),n)||vt(Ye.fromDom(n),Ye.fromTag("br"));const o=Ye.fromTag("br");vt(Ye.fromDom(n),o),Mj(e,o.dom,!1),e.undoManager.add()},pre=e=>Ar(e.getNode()),bre=(e,n)=>pre(Dt.after(n))?!0:qc(e,Dt.after(n)).map(o=>Ar(o.getNode())).getOr(!1),Lj=e=>e&&e.nodeName==="A"&&"href"in e,vre=e=>e.fold(Bn,Lj,Lj,Bn),yre=e=>{const n=at(J0,e),o=Dt.fromRangeStart(e.selection.getRng());return Mh(n,e.getBody(),o).filter(vre)},xre=(e,n)=>{n.fold(it,at(gre,e),at(hre,e),it)},Bj={insert:(e,n)=>{const o=yre(e);o.isSome()?o.each(at(xre,e)):mre(e,n)},fakeEventName:"insertLineBreak"},Fj=(e,n)=>qH(e).filter(o=>n.length>0&&qs(Ye.fromDom(o),n)).isSome(),wre=e=>Fj(e,RI(e)),Cre=e=>Fj(e,II(e)),Dm=ws.generate([{br:[]},{block:[]},{none:[]}]),Sre=(e,n)=>Cre(e),$j=e=>(n,o)=>Zse(n)===e,Vj=(e,n)=>(o,a)=>jse(o)===e.toUpperCase()===n,_re=e=>{const n=rR(e.dom,e.selection.getStart());return dt(n)},aR=e=>Vj("pre",e),kre=()=>Vj("summary",!0),YB=e=>(n,o)=>cT(n)===e,Ere=(e,n)=>wre(e),XB=(e,n)=>n,Tre=e=>{const n=Ql(e),o=rR(e.dom,e.selection.getStart());return Me(o)&&e.schema.isValidChild(o.nodeName,n)},Are=e=>{const n=e.selection.getRng(),o=Ye.fromDom(n.startContainer),c=zu(o,n.startOffset).map(g=>vl(g)&&!Sr(g));return n.collapsed&&c.getOr(!0)},kg=(e,n)=>(o,a)=>pn(e,(g,p)=>g&&p(o,a),!0)?ee.some(n):ee.none(),Ore=(e,n)=>qL([kg([Sre],Dm.none()),kg([aR(!0),_re],Dm.none()),kg([kre()],Dm.br()),kg([aR(!0),YB(!1),XB],Dm.br()),kg([aR(!0),YB(!1)],Dm.block()),kg([aR(!0),YB(!0),XB],Dm.block()),kg([aR(!0),YB(!0)],Dm.br()),kg([$j(!0),XB],Dm.br()),kg([$j(!0)],Dm.block()),kg([Ere],Dm.br()),kg([XB],Dm.br()),kg([Tre],Dm.block()),kg([Are],Dm.block())],[e,!!(n&&n.shiftKey)]).getOr(Dm.none()),JB=(e,n,o)=>{n.selection.isCollapsed()||kN(n),!(Me(o)&&ZB(n,e.fakeEventName).isDefaultPrevented())&&(e.insert(n,o),Me(o)&&sR(n,e.fakeEventName))},zj=(e,n)=>{const o=()=>JB(Bj,e,n),a=()=>JB(Nj,e,n),c=Ore(e,n);switch(uT(e)){case"linebreak":c.fold(o,o,it);break;case"block":c.fold(a,a,it);break;case"invert":c.fold(a,o,it);break;default:c.fold(o,a,it);break}},Hj=ua(),Rre=Hj.os.isiOS()&&Hj.browser.isSafari(),Uj=(e,n)=>{n.isDefaultPrevented()||(n.preventDefault(),PV(e.undoManager),e.undoManager.transact(()=>{zj(e,n)}))},Ire=e=>{if(!e.collapsed)return!1;const n=e.startContainer;if(on(n)){const o=/^[\uAC00-\uD7AF\u1100-\u11FF\u3130-\u318F\uA960-\uA97F\uD7B0-\uD7FF]$/,a=n.data.charAt(e.startOffset-1);return o.test(a)}else return!1},Dre=e=>{let n=ee.none();const o=c=>{n=ee.some(c.selection.getBookmark()),c.undoManager.add()},a=(c,g)=>{c.undoManager.undo(),n.fold(it,p=>c.selection.moveToBookmark(p)),Uj(c,g),n=ee.none()};e.on("keydown",c=>{c.keyCode===On.ENTER&&(Rre&&Ire(e.selection.getRng())?o(e):Uj(e,c))}),e.on("keyup",c=>{c.keyCode===On.ENTER&&n.each(()=>a(e,c))})},Pre=(e,n,o)=>{const a=os.os.isMacOS()||os.os.isiOS();vv([{keyCode:On.END,action:No(Im,e,!0)},{keyCode:On.HOME,action:No(Im,e,!1)},...a?[]:[{keyCode:On.HOME,action:No(b1,e,!1),ctrlKey:!0,shiftKey:!0},{keyCode:On.END,action:No(b1,e,!0),ctrlKey:!0,shiftKey:!0}],{keyCode:On.END,action:No(J4,e,!0)},{keyCode:On.HOME,action:No(J4,e,!1)},{keyCode:On.END,action:No(bC,e,!0,n)},{keyCode:On.HOME,action:No(bC,e,!1,n)}],o).each(c=>{o.preventDefault()})},Nre=(e,n)=>{e.on("keydown",o=>{o.isDefaultPrevented()||Pre(e,n,o)})},Mre=e=>{e.on("input",n=>{n.isComposing||Y7(e)})},Lre=ua(),Bre=(e,n,o)=>{vv([{keyCode:On.PAGE_UP,action:No(bC,e,!1,n)},{keyCode:On.PAGE_DOWN,action:No(bC,e,!0,n)}],o)},Wj=e=>e.stopImmediatePropagation(),Kj=e=>e.keyCode===On.PAGE_UP||e.keyCode===On.PAGE_DOWN,jj=(e,n,o)=>{o&&!e.get()?n.on("NodeChange",Wj,!0):!o&&e.get()&&n.off("NodeChange",Wj),e.set(o)},Fre=(e,n)=>{if(Lre.os.isMacOS())return;const o=Fi(!1);e.on("keydown",a=>{Kj(a)&&jj(o,e,!0)}),e.on("keyup",a=>{a.isDefaultPrevented()||Bre(e,n,a),Kj(a)&&o.get()&&(jj(o,e,!1),e.nodeChanged())})},$re=e=>{e.on("beforeinput",n=>{(!e.selection.isEditable()||Pe(n.getTargetRanges(),o=>!MP(e.dom,o)))&&n.preventDefault()})},Zj=(e,n)=>{const o=n.container(),a=n.offset();return on(o)?(o.insertData(a,e),ee.some(Dt(o,a+e.length))):DS(n).map(c=>{const g=Ye.fromText(e);return n.isAtEnd()?vt(c,g):Dr(c,g),Dt(g.dom,e.length)})},Gj=at(Zj,ea),qj=at(Zj," "),Vre=(e,n,o)=>HA(e,n,o)?Gj(n):qj(n),zre=e=>n=>n.fold(o=>sd(e.dom,Dt.before(o)),o=>yo(o),o=>xf(o),o=>qc(e.dom,Dt.after(o))),Hre=(e,n,o)=>a=>HA(e,a,o)?Gj(n):qj(n),Yj=e=>n=>{e.selection.setRng(n.toRange()),e.nodeChanged()},Ure=(e,n)=>e.isEditable(e.getParent(n,"summary")),Wre=e=>{const n=Dt.fromRangeStart(e.selection.getRng()),o=Ye.fromDom(e.getBody());if(e.selection.isCollapsed()){const a=at(J0,e),c=Dt.fromRangeStart(e.selection.getRng());return Mh(a,e.getBody(),c).bind(zre(o)).map(g=>()=>Hre(o,n,e.schema)(g).each(Yj(e)))}else return ee.none()},Kre=e=>{const n=()=>{const o=Ye.fromDom(e.getBody());e.selection.isCollapsed()||e.getDoc().execCommand("Delete");const a=Dt.fromRangeStart(e.selection.getRng());Vre(o,a,e.schema).each(Yj(e))};return Xf(os.browser.isFirefox()&&e.selection.isEditable()&&Ure(e.dom,e.selection.getRng().startContainer),n)},jre=(e,n)=>{Uk([{keyCode:On.SPACEBAR,action:No(Wre,e)},{keyCode:On.SPACEBAR,action:No(Kre,e)}],n).each(o=>{n.preventDefault(),ZB(e,"insertText",{data:" "}).isDefaultPrevented()||(o(),sR(e,"insertText",{data:" "}))})},Zre=e=>{e.on("keydown",n=>{n.isDefaultPrevented()||jre(e,n)})},Gre=e=>tD(e)?[{keyCode:On.TAB,action:No(qK,e,!0)},{keyCode:On.TAB,shiftKey:!0,action:No(qK,e,!1)}]:[],qre=(e,n)=>{vv([...Gre(e)],n).each(o=>{n.preventDefault()})},Yre=e=>{e.on("keydown",n=>{n.isDefaultPrevented()||qre(e,n)})},Xre=e=>{if(e.addShortcut("Meta+P","","mcePrint"),Ase(e),Nh(e))return Fi(null);{const n=wB(e);return $re(e),p1(e),uoe(e,n),Wse(e,n),Dre(e),Zre(e),Mre(e),Yre(e),Nre(e,n),Fre(e,n),n}};class Jre{constructor(n){this.lastPath=[],this.editor=n;let o;const a=this;"onselectionchange"in n.getDoc()||n.on("NodeChange click mouseup keyup focus",c=>{const g=n.selection.getRng(),p={startContainer:g.startContainer,startOffset:g.startOffset,endContainer:g.endContainer,endOffset:g.endOffset};(c.type==="nodechange"||!p2(p,o))&&n.dispatch("SelectionChange"),o=p}),n.on("contextmenu",()=>{Ky(n),n.dispatch("SelectionChange")}),n.on("SelectionChange",()=>{const c=n.selection.getStart(!0);c&&$y(n)&&!a.isSameElementPath(c)&&n.dom.isChildOf(c,n.getBody())&&n.nodeChanged({selectionChange:!0})}),n.on("mouseup",c=>{!c.isDefaultPrevented()&&$y(n)&&(n.selection.getNode().nodeName==="IMG"?ad.setEditorTimeout(n,()=>{n.nodeChanged()}):n.nodeChanged())})}nodeChanged(n={}){const o=this.editor.selection;let a;if(this.editor.initialized&&o&&!R8(this.editor)&&!this.editor.mode.isReadOnly()){const c=this.editor.getBody();a=o.getStart(!0)||c,(a.ownerDocument!==this.editor.getDoc()||!this.editor.dom.isChildOf(a,c))&&(a=c);const g=[];this.editor.dom.getParent(a,p=>p===c?!0:(g.push(p),!1)),this.editor.dispatch("NodeChange",{...n,element:a,parents:g})}}isSameElementPath(n){let o;const a=this.editor,c=sr(a.dom.getParents(n,Qt,a.getBody()));if(c.length===this.lastPath.length){for(o=c.length;o>=0&&c[o]===this.lastPath[o];o--);if(o===-1)return this.lastPath=c,!0}return this.lastPath=c,!1}}const Xj=Ll("image"),Qre=e=>{const n=e;return ee.from(n[Xj])},eie=(e,n)=>{const o=e;o[Xj]=n},t9=Ll("event"),tie=e=>{const n=e;return ee.from(n[t9])},QB=e=>n=>{const o=n;o[t9]=e},nie=(e,n)=>QB(n)(e),Jj=QB(0),oie=QB(2),sie=QB(1),rie=(e=>n=>{const o=n;return ee.from(o[t9]).exists(a=>a===e)})(0),iie=()=>Object.freeze({length:0,item:e=>null}),n9=Ll("mode"),aie=e=>{const n=e;return ee.from(n[n9])},e6=e=>n=>{const o=n;o[n9]=e},Qj=(e,n)=>e6(n)(e),eZ=e6(0),o9=e6(2),lie=e6(1),tZ=e=>n=>{const o=n;return ee.from(o[n9]).exists(a=>a===e)},jk=tZ(0),nZ=tZ(1),cie=(e,n)=>({...n,get length(){return n.length},add:(o,a)=>{if(jk(e))if(he(o)){if(!et(a))return n.add(o,a)}else return n.add(o);return null},remove:o=>{jk(e)&&n.remove(o)},clear:()=>{jk(e)&&n.clear()}}),uie=["none","copy","link","move"],die=["none","copy","copyLink","copyMove","link","linkMove","move","all","uninitialized"],s9=()=>{const e=new window.DataTransfer;let n="move",o="all";const a={get dropEffect(){return n},set dropEffect(c){Se(uie,c)&&(n=c)},get effectAllowed(){return o},set effectAllowed(c){rie(a)&&Se(die,c)&&(o=c)},get items(){return cie(a,e.items)},get files(){return nZ(a)?iie():e.files},get types(){return e.types},setDragImage:(c,g,p)=>{jk(a)&&(eie(a,{image:c,x:g,y:p}),e.setDragImage(c,g,p))},getData:c=>nZ(a)?"":e.getData(c),setData:(c,g)=>{jk(a)&&e.setData(c,g)},clearData:c=>{jk(a)&&e.clearData(c)}};return eZ(a),a},fie=e=>{const n=s9(),o=aie(e);return o9(e),Jj(n),n.dropEffect=e.dropEffect,n.effectAllowed=e.effectAllowed,Qre(e).each(a=>n.setDragImage(a.image,a.x,a.y)),xe(e.types,a=>{a!=="Files"&&n.setData(a,e.getData(a))}),xe(e.files,a=>n.items.add(a)),tie(e).each(a=>{nie(n,a)}),o.each(a=>{Qj(e,a),Qj(n,a)}),n},mie=e=>{const n=e.getData("text/html");return n===""?ee.none():ee.some(n)},oZ=(e,n)=>e.setData("text/html",n),sZ="x-tinymce/html",t6=mt(sZ),r9="<!-- "+sZ+" -->",gie=e=>r9+e,hie=e=>e.replace(r9,""),rZ=e=>e.indexOf(r9)!==-1,pie=e=>!/<(?:\/?(?!(?:div|p|br|span)>)\w+|(?:(?!(?:span style="white-space:\s?pre;?">)|br\s?\/>))\w+\s[^>]+)>/i.test(e),bie=(e,n)=>{let o="<"+e;const a=El(n,(c,g)=>g+'="'+pp.encodeAllRaw(c)+'"');return a.length&&(o+=" "+a.join(" ")),o+">"},vie=(e,n,o)=>{const a=e.split(/\n\n/),c=bie(n,o),g="</"+n+">",p=Ke(a,T=>T.split(/\n/).join("<br />")),S=T=>c+T+g;return p.length===1?p[0]:Ke(p,S).join("")},iZ="%MCEPASTEBIN%",yie=(e,n)=>{const{dom:o,selection:a}=e,c=e.getBody();n.set(a.getRng());const g=o.add(e.getBody(),"div",{id:"mcepastebin",class:"mce-pastebin",contentEditable:!0,"data-mce-bogus":"all",style:"position: fixed; top: 50%; width: 10px; height: 10px; overflow: hidden; opacity: 0"},iZ);os.browser.isFirefox()&&o.setStyle(g,"left",o.getStyle(c,"direction",!0)==="rtl"?65535:-65535),o.bind(g,"beforedeactivate focusin focusout",p=>{p.stopPropagation()}),g.focus(),a.select(g,!0)},xie=(e,n)=>{const o=e.dom;if(i9(e)){let a;const c=n.get();for(;a=i9(e);)o.remove(a),o.unbind(a);c&&e.selection.setRng(c)}n.set(null)},i9=e=>e.dom.get("mcepastebin"),wie=e=>Me(e)&&e.id==="mcepastebin",Cie=e=>{const n=e.dom,o=(p,S)=>{p.appendChild(S),n.remove(S,!0)},[a,...c]=Je(e.getBody().childNodes,wie);xe(c,p=>{o(a,p)});const g=n.select("div[id=mcepastebin]",a);for(let p=g.length-1;p>=0;p--){const S=n.create("div");a.insertBefore(S,g[p]),o(S,g[p])}return a?a.innerHTML:""},aZ=e=>e===iZ,Sie=e=>{const n=Fi(null);return{create:()=>yie(e,n),remove:()=>xie(e,n),getEl:()=>i9(e),getHtml:()=>Cie(e),getLastRng:n.get}},lZ=(e,n)=>(dn.each(n,o=>{ge(o,RegExp)?e=e.replace(o,""):e=e.replace(o[0],o[1])}),e),_ie=e=>{const n=Ju(),o=cx({},n);let a="";const c=n.getVoidElements(),g=dn.makeMap("script noscript style textarea video audio iframe object"," "),p=n.getBlockElements(),S=T=>{const V=T.name,X=T;if(V==="br"){a+=`
`;return}if(V!=="wbr"){if(c[V]&&(a+=" "),g[V]){a+=" ";return}if(T.type===3&&(a+=T.value),!(T.name in n.getVoidElements())){let Q=T.firstChild;if(Q)do S(Q);while(Q=Q.next)}p[V]&&X.next&&(a+=`
`,V==="p"&&(a+=`
`))}};return e=lZ(e,[/<!\[[^\]]+\]>/g]),S(o.parse(e)),a},cZ=e=>(e=lZ(e,[/^[\s\S]*<body[^>]*>\s*|\s*<\/body[^>]*>[\s\S]*$/ig,/<!--StartFragment-->|<!--EndFragment-->/g,[/( ?)<span class="Apple-converted-space">\u00a0<\/span>( ?)/g,(o,a,c)=>!a&&!c?" ":ea],/<br class="Apple-interchange-newline">/g,/<br>$/i]),e),kie=e=>{let n=0;return()=>e+n++},Eie=e=>{const n=e.toLowerCase(),o={jpg:"jpeg",jpe:"jpeg",jfi:"jpeg",jif:"jpeg",jfif:"jpeg",pjpeg:"jpeg",pjp:"jpeg",svg:"svg+xml"};return dn.hasOwn(o,n)?"image/"+o[n]:"image/"+n},Tie=(e,n)=>{const o=cx({sanitize:JI(e),sandbox_iframes:kT(e),sandbox_iframes_exclusions:kS(e),convert_unsafe_embeds:oD(e)},e.schema);o.addNodeFilter("meta",c=>{dn.each(c,g=>{g.remove()})});const a=o.parse(n,{forced_root_block:!1,isRootContent:!0});return zp({validate:!0},e.schema).serialize(a)},uZ=(e,n)=>({content:e,cancelled:n}),Aie=(e,n,o)=>{const a=e.dom.create("div",{style:"display:none"},n),c=qS(e,a,o);return uZ(c.node.innerHTML,c.isDefaultPrevented())},Oie=(e,n,o)=>{const a=f2(e,n,o),c=Tie(e,a.content);return e.hasEventListeners("PastePostProcess")&&!a.isDefaultPrevented()?Aie(e,c,o):uZ(c,a.isDefaultPrevented())},Rie=(e,n,o)=>Oie(e,n,o),a9=(e,n)=>(e.insertContent(n,{merge:L8(e),paste:!0}),!0),l9=e=>/^https?:\/\/[\w\-\/+=.,!;:&%@^~(){}?#]+$/i.test(e),Iie=(e,n)=>l9(n)&&Pe(_T(e),o=>Be(n.toLowerCase(),`.${o.toLowerCase()}`)),Die=(e,n,o)=>(e.undoManager.extra(()=>{o(e,n)},()=>{e.insertContent('<img src="'+n+'">')}),!0),Pie=(e,n,o)=>(e.undoManager.extra(()=>{o(e,n)},()=>{e.execCommand("mceInsertLink",!1,n)}),!0),Nie=(e,n,o)=>!e.selection.isCollapsed()&&l9(n)?Pie(e,n,o):!1,Mie=(e,n,o)=>Iie(e,n)?Die(e,n,o):!1,Lie=(e,n)=>{dn.each([Nie,Mie,a9],o=>!o(e,n,a9))},Bie=(e,n,o)=>{o||!O0(e)?a9(e,n):Lie(e,n)},Fie=kie("mceclip"),$ie=e=>{const n=s9();return oZ(n,e),o9(n),n},dZ=(e,n,o,a,c)=>{const g=Rie(e,n,o);if(!g.cancelled){const p=g.content,S=()=>Bie(e,p,a);c?ZB(e,"insertFromPaste",{dataTransfer:$ie(p)}).isDefaultPrevented()||(S(),sR(e,"insertFromPaste")):S()}},n6=(e,n,o,a)=>{const c=o||rZ(n);dZ(e,hie(n),c,!1,a)},c9=(e,n,o)=>{const a=e.dom.encode(n).replace(/\r\n/g,`
`),c=up(a,qI(e)),g=vie(c,Ql(e),Lw(e));dZ(e,g,!1,!0,o)},fZ=e=>{const n={};if(e&&e.types)for(let o=0;o<e.types.length;o++){const a=e.types[o];try{n[a]=e.getData(a)}catch{n[a]=""}}return n},Ex=(e,n)=>n in e&&e[n].length>0,mZ=e=>Ex(e,"text/html")||Ex(e,"text/plain"),Vie=(e,n)=>{const o=n.match(/([\s\S]+?)(?:\.[a-z0-9.]+)$/i);return Me(o)?e.dom.encode(o[1]):void 0},zie=(e,n,o,a)=>{const c=Fie(),g=Np(e)&&Me(o.name),p=g?Vie(e,o.name):c,S=g?o.name:void 0,T=n.create(c,o,a,p,S);return n.add(T),T},Hie=(e,n)=>{ak(n.uri).each(({data:o,type:a,base64Encoded:c})=>{const g=c?o:btoa(o),p=n.file,S=e.editorUpload.blobCache,T=S.getByData(g,a),V=T??zie(e,S,p,g);n6(e,`<img src="${V.blobUri()}">`,!1,!0)})},Uie=e=>e.type==="paste",Wie=e=>Promise.all(Ke(e,n=>k5(n).then(o=>({file:n,uri:o})))),Kie=e=>{const n=_T(e);return o=>wr(o.type,"image/")&&Pe(n,a=>Eie(a)===o.type)},jie=(e,n)=>{const o=n.items?Jo($o(n.items),c=>c.kind==="file"?[c.getAsFile()]:[]):[],a=n.files?$o(n.files):[];return Je(o.length>0?o:a,Kie(e))},gZ=(e,n,o)=>{const a=Uie(n)?n.clipboardData:n.dataTransfer;if(bh(e)&&a){const c=jie(e,a);if(c.length>0)return n.preventDefault(),Wie(c).then(g=>{o&&e.selection.setRng(o),xe(g,p=>{Hie(e,p)})}),!0}return!1},Zie=e=>{var n,o;return os.os.isAndroid()&&((o=(n=e.clipboardData)===null||n===void 0?void 0:n.items)===null||o===void 0?void 0:o.length)===0},Gie=e=>On.metaKeyPressed(e)&&e.keyCode===86||e.shiftKey&&e.keyCode===45,u9=(e,n,o,a,c)=>{let g=cZ(o);const p=Ex(n,t6())||rZ(o),S=!p&&pie(g),T=l9(g);(aZ(g)||!g.length||S&&!T)&&(a=!0),(a||T)&&(Ex(n,"text/plain")&&S?g=n["text/plain"]:g=_ie(g)),!aZ(g)&&(a?c9(e,g,c):n6(e,g,p,c))},qie=(e,n,o)=>{let a;const c=()=>n.getLastRng()||e.selection.getRng();e.on("keydown",g=>{Gie(g)&&!g.isDefaultPrevented()&&(a=g.shiftKey&&g.keyCode===86)}),e.on("paste",g=>{if(g.isDefaultPrevented()||Zie(g))return;const p=o.get()==="text"||a;a=!1;const S=fZ(g.clipboardData);!mZ(S)&&gZ(e,g,c())||(Ex(S,"text/html")?(g.preventDefault(),u9(e,S,S["text/html"],p,!0)):Ex(S,"text/plain")&&Ex(S,"text/uri-list")?(g.preventDefault(),u9(e,S,S["text/plain"],p,!0)):(n.create(),ad.setEditorTimeout(e,()=>{const T=n.getHtml();n.remove(),u9(e,S,T,p,!1)},0)))})},Yie=e=>{const n=c=>wr(c,"webkit-fake-url"),o=c=>wr(c,"data:"),a=c=>{var g;return((g=c.data)===null||g===void 0?void 0:g.paste)===!0};e.parser.addNodeFilter("img",(c,g,p)=>{if(!bh(e)&&a(p))for(const S of c){const T=S.attr("src");he(T)&&!S.attr("data-mce-object")&&T!==os.transparentSrc&&(n(T)||!B8(e)&&o(T))&&S.remove()}})},Xie=(e,n,o)=>{qie(e,n,o),Yie(e)},Jie=(e,n)=>{n.get()==="text"?(n.set("html"),YS(e,!1)):(n.set("text"),YS(e,!0)),e.focus()},Qie=(e,n)=>{e.addCommand("mceTogglePlainTextPaste",()=>{Jie(e,n)}),e.addCommand("mceInsertClipboardContent",(o,a)=>{a.html&&n6(e,a.html,a.internal,!1),a.text&&c9(e,a.text,!1)})},eae=(e,n,o)=>{if(e)try{return e.clearData(),e.setData("text/html",n),e.setData("text/plain",o),e.setData(t6(),n),!0}catch{return!1}else return!1},hZ=(e,n,o,a)=>{eae(e.clipboardData,n.html,n.text)?(e.preventDefault(),a()):o(n.html,a)},pZ=e=>(n,o)=>{const{dom:a,selection:c}=e,g=a.create("div",{contenteditable:"false","data-mce-bogus":"all"}),p=a.create("div",{contenteditable:"true"},n);a.setStyles(g,{position:"fixed",top:"0",left:"-3000px",width:"1000px",overflow:"hidden"}),g.appendChild(p),a.add(e.getBody(),g);const S=c.getRng();p.focus();const T=a.createRng();T.selectNodeContents(p),c.setRng(T),ad.setEditorTimeout(e,()=>{c.setRng(S),a.remove(g),o()},0)},bZ=e=>({html:gie(e.selection.getContent({contextual:!0})),text:e.selection.getContent({format:"text"})}),tae=e=>!!e.dom.getParent(e.selection.getStart(),"td[data-mce-selected],th[data-mce-selected]",e.getBody()),vZ=e=>!e.selection.isCollapsed()||tae(e),nae=e=>n=>{!n.isDefaultPrevented()&&vZ(e)&&e.selection.isEditable()&&hZ(n,bZ(e),pZ(e),()=>{if(os.browser.isChromium()||os.browser.isFirefox()){const o=e.selection.getRng();ad.setEditorTimeout(e,()=>{e.selection.setRng(o),e.execCommand("Delete")},0)}else e.execCommand("Delete")})},oae=e=>n=>{!n.isDefaultPrevented()&&vZ(e)&&hZ(n,bZ(e),pZ(e),it)},sae=e=>{e.on("cut",nae(e)),e.on("copy",oae(e))},yZ=(e,n)=>{var o,a;return qb.getCaretRangeFromPoint((o=n.clientX)!==null&&o!==void 0?o:0,(a=n.clientY)!==null&&a!==void 0?a:0,e.getDoc())},rae=e=>{const n=e["text/plain"];return n?n.indexOf("file://")===0:!1},xZ=(e,n)=>{e.focus(),n&&e.selection.setRng(n)},iae=e=>Pe(e.files,n=>/^image\//.test(n.type)),aae=(e,n,o,a)=>{const c=e.getParent(o,p=>bu(n,p));if(!Ce(e.getParent(o,"summary")))return!0;if(c&&So(a,"text/html")){const p=new DOMParser().parseFromString(a["text/html"],"text/html").body;return!Ce(p.querySelector(c.nodeName.toLowerCase()))}else return!1},lae=e=>{e.on("input",n=>{const o=a=>Ce(a.querySelector("summary"));if(n.inputType==="deleteByDrag"){const a=Je(e.dom.select("details"),o);xe(a,c=>{Ar(c.firstChild)&&c.firstChild.remove();const g=e.dom.create("summary");g.appendChild(vm().dom),c.prepend(g)})}})},cae=(e,n)=>{pg(e)&&e.on("dragend dragover draggesture dragdrop drop drag",o=>{o.preventDefault(),o.stopPropagation()}),bh(e)||e.on("drop",o=>{const a=o.dataTransfer;a&&iae(a)&&o.preventDefault()}),e.on("drop",o=>{if(o.isDefaultPrevented())return;const a=yZ(e,o);if(dt(a))return;const c=fZ(o.dataTransfer),g=Ex(c,t6());if((!mZ(c)||rae(c))&&gZ(e,o,a))return;const p=c[t6()],S=p||c["text/html"]||c["text/plain"],T=aae(e.dom,e.schema,a.startContainer,c),V=n.get();V&&!T||S&&(o.preventDefault(),ad.setEditorTimeout(e,()=>{e.undoManager.transact(()=>{(p||V&&T)&&e.execCommand("Delete"),xZ(e,a);const X=cZ(S);c["text/html"]?n6(e,X,g,!0):c9(e,X,!0)})}))}),e.on("dragstart",o=>{n.set(!0)}),e.on("dragover dragend",o=>{bh(e)&&!n.get()&&(o.preventDefault(),xZ(e,yZ(e,o))),o.type==="dragend"&&n.set(!1)}),lae(e)},uae=e=>{const n=c=>g=>{c(e,g)},o=M8(e);Ne(o)&&e.on("PastePreProcess",n(o));const a=Vw(e);Ne(a)&&e.on("PastePostProcess",n(a))},dae=(e,n)=>{e.on("PastePreProcess",o=>{o.content=n(e,o.content,o.internal)})},fae=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi,wZ=e=>dn.trim(e).replace(fae,t0).toLowerCase(),mae=(e,n,o)=>{const a=GI(e);if(o||a==="all"||!xT(e))return n;const c=a?a.split(/[, ]/):[];if(c&&a!=="none"){const g=e.dom,p=e.selection.getNode();n=n.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,(S,T,V,X)=>{const Q=g.parseStyle(g.decode(V)),ae={};for(let De=0;De<c.length;De++){const _e=Q[c[De]];let $e=_e,nt=g.getStyle(p,c[De],!0);/color/.test(c[De])&&($e=wZ($e),nt=wZ(nt)),nt!==$e&&(ae[c[De]]=_e)}const we=g.serializeStyle(ae,"span");return we?T+' style="'+we+'"'+X:T+X})}else n=n.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,"$1$3");return n=n.replace(/(<[^>]+) data-mce-style="([^"]+)"([^>]*>)/gi,(g,p,S,T)=>p+' style="'+S+'"'+T),n},gae=e=>{(os.browser.isChromium()||os.browser.isSafari())&&dae(e,mae)},hae=e=>{const n=Fi(!1),o=Fi(R0(e)?"text":"html"),a=Sie(e);gae(e),Qie(e,o),uae(e),e.addQueryStateHandler("mceTogglePlainTextPaste",()=>o.get()==="text"),e.on("PreInit",()=>{sae(e),cae(e,n),Xie(e,a,o)})},pae=e=>{e.on("click",n=>{e.dom.getParent(n.target,"details")&&n.preventDefault()})},bae=e=>{e.parser.addNodeFilter("details",n=>{const o=_S(e);xe(n,a=>{o==="expanded"?a.attr("open","open"):o==="collapsed"&&a.attr("open",null)})}),e.serializer.addNodeFilter("details",n=>{const o=nD(e);xe(n,a=>{o==="expanded"?a.attr("open","open"):o==="collapsed"&&a.attr("open",null)})})},vae=e=>{pae(e),bae(e)},yae=Ar,CZ=on,xae=e=>To(e.dom),wae=e=>jc(e.dom),SZ=e=>n=>us(Ye.fromDom(e),n),Cae=(e,n,o)=>Ti(Ye.fromDom(e),a=>wae(a)||o.isBlock(hs(a)),SZ(n)).getOr(Ye.fromDom(n)).dom,_Z=(e,n)=>Ti(Ye.fromDom(e),xae,SZ(n)),kZ=(e,n,o)=>{const a=new Ma(e,n),c=o?a.next.bind(a):a.prev.bind(a);let g=e;for(let p=o?e:c();p&&!yae(p);p=c())_d(p)&&(g=p);return g},Sae=(e,n,o)=>{const c=Dt.fromRangeStart(e).getNode(),g=Cae(c,n,o),p=kZ(c,g,!1),S=kZ(c,g,!0),T=document.createRange();return _Z(p,g).fold(()=>{CZ(p)?T.setStart(p,0):T.setStartBefore(p)},V=>T.setStartBefore(V.dom)),_Z(S,g).fold(()=>{CZ(S)?T.setEnd(S,S.data.length):T.setEndAfter(S)},V=>T.setEndAfter(V.dom)),T},_ae=e=>{const n=Sae(e.selection.getRng(),e.getBody(),e.schema);e.selection.setRng($_(n))},kae=e=>{e.on("mousedown",n=>{n.detail>=3&&(n.preventDefault(),_ae(e))})};var Zk;(function(e){e.Before="before",e.After="after"})(Zk||(Zk={}));const Eae=(e,n)=>Math.abs(e.left-n),Tae=(e,n)=>Math.abs(e.right-n),Aae=(e,n)=>e>=n.top&&e<=n.bottom,Oae=(e,n)=>e.top<n.bottom&&e.bottom>n.top,Rae=(e,n)=>{const o=kw(e,n)/Math.min(e.height,n.height);return Oae(e,n)&&o>.5},Iae=(e,n)=>{const o=Je(e,a=>Aae(n,a));return Pb(o).fold(()=>[[],e],a=>{const{pass:c,fail:g}=Fe(e,p=>Rae(p,a));return[c,g]})},Dae=(e,n)=>({node:e.node,position:Eae(e,n)<Tae(e,n)?Zk.Before:Zk.After}),Pae=(e,n,o)=>n>e.left&&n<e.right?0:Math.min(Math.abs(e.left-n),Math.abs(e.right-n)),d9=(e,n,o,a)=>{const c=Q=>_d(Q.node)?ee.some(Q):Un(Q.node)?d9($o(Q.node.childNodes),n,o,!1):ee.none(),g=(Q,ae,we)=>c(ae).filter(De=>Math.abs(we(Q,n,o)-we(De,n,o))<2&&on(De.node)),p=(Q,ae)=>{const we=xs(Q,(De,_e)=>ae(De,n,o)-ae(_e,n,o));return mi(we,c).map(De=>a&&!on(De.node)&&we.length>1?g(De,we[1],ae).getOr(De):De)},[S,T]=Iae(mB(e),o),{pass:V,fail:X}=Fe(T,Q=>Q.top<o);return p(S,Pae).orThunk(()=>p(X,wy)).orThunk(()=>p(V,wy))},Nae=(e,n,o,a)=>{const c=(g,p)=>{const S=V=>Un(V)&&V.classList.contains("mce-drag-container"),T=Je(g.dom.childNodes,Ve(S));return p.fold(()=>d9(T,o,a,!0),V=>{const X=Je(T,Q=>Q!==V.dom);return d9(X,o,a,!0)}).orThunk(()=>(us(g,e)?ee.none():sf(g)).bind(X=>c(X,ee.some(g))))};return c(n,ee.none())},Mae=(e,n,o)=>{const a=Ye.fromDom(e),c=Sc(a),p=Ye.fromPoint(c,n,o).filter(S=>ma(a,S)).getOr(a);return Nae(a,p,n,o)},EZ=(e,n,o)=>Mae(e,n,o).filter(a=>Ww(a.node)).map(a=>Dae(a,n)),TZ=e=>{var n,o;const a=e.getBoundingClientRect(),c=e.ownerDocument,g=c.documentElement,p=c.defaultView;return{top:a.top+((n=p==null?void 0:p.scrollY)!==null&&n!==void 0?n:0)-g.clientTop,left:a.left+((o=p==null?void 0:p.scrollX)!==null&&o!==void 0?o:0)-g.clientLeft}},Lae=e=>e.inline?TZ(e.getBody()):{left:0,top:0},Bae=e=>{const n=e.getBody();return e.inline?{left:n.scrollLeft,top:n.scrollTop}:{left:0,top:0}},Fae=e=>{const n=e.getBody(),o=e.getDoc().documentElement,a={left:n.scrollLeft,top:n.scrollTop},c={left:n.scrollLeft||o.scrollLeft,top:n.scrollTop||o.scrollTop};return e.inline?a:c},$ae=(e,n)=>{if(n.target.ownerDocument!==e.getDoc()){const o=TZ(e.getContentAreaContainer()),a=Fae(e);return{left:n.pageX-o.left+a.left,top:n.pageY-o.top+a.top}}return{left:n.pageX,top:n.pageY}},Vae=(e,n,o)=>({pageX:o.left-e.left+n.left,pageY:o.top-e.top+n.top}),zae=(e,n)=>Vae(Lae(e),Bae(e),$ae(e,n)),AZ=e=>({target:e,srcElement:e}),Hae=(e,n,o,a)=>({...n,dataTransfer:a,type:e,...AZ(o)}),Uae=(e,n,o)=>{const a=bt("Function not supported on simulated event.");return{bubbles:!0,cancelBubble:!1,cancelable:!0,composed:!1,currentTarget:null,defaultPrevented:!1,eventPhase:0,isTrusted:!0,returnValue:!1,timeStamp:0,type:e,composedPath:a,initEvent:a,preventDefault:it,stopImmediatePropagation:it,stopPropagation:it,AT_TARGET:window.Event.AT_TARGET,BUBBLING_PHASE:window.Event.BUBBLING_PHASE,CAPTURING_PHASE:window.Event.CAPTURING_PHASE,NONE:window.Event.NONE,altKey:!1,button:0,buttons:0,clientX:0,clientY:0,ctrlKey:!1,metaKey:!1,movementX:0,movementY:0,offsetX:0,offsetY:0,pageX:0,pageY:0,relatedTarget:null,screenX:0,screenY:0,shiftKey:!1,x:0,y:0,detail:0,view:null,which:0,initUIEvent:a,initMouseEvent:a,getModifierState:a,dataTransfer:o,...AZ(n)}},Wae=(e,n)=>{const o=fie(e);return n==="dragstart"?(Jj(o),eZ(o)):n==="drop"?(oie(o),o9(o)):(sie(o),lie(o)),o},Kae=(e,n,o,a)=>{const c=Wae(o,e);return et(a)?Uae(e,n,c):Hae(e,a,n,c)},o6=32,jae=100,s6=8,r6=16,OZ=To,Zae=Aw(OZ,jc),Gae=(e,n,o)=>OZ(o)&&o!==n&&e.isEditable(o.parentElement),qae=(e,n,o)=>dt(n)||n===o||e.dom.isChildOf(n,o)?!1:e.dom.isEditable(n),Yae=(e,n,o,a)=>{const c=e.dom,g=n.cloneNode(!0);c.setStyles(g,{width:o,height:a}),c.setAttrib(g,"data-mce-selected",null);const p=c.create("div",{class:"mce-drag-container","data-mce-bogus":"all",unselectable:"on",contenteditable:"false"});return c.setStyles(p,{position:"absolute",opacity:.5,overflow:"hidden",border:0,padding:0,margin:0,width:o,height:a}),c.setStyles(g,{margin:0,boxSizing:"border-box"}),p.appendChild(g),p},Xae=(e,n)=>{e.parentNode!==n&&n.appendChild(e)},i6=(e,n)=>o=>()=>{const a=e==="left"?o.scrollX:o.scrollY;o.scroll({[e]:a+n,behavior:"smooth"})},RZ=i6("left",-o6),IZ=i6("left",o6),DZ=i6("top",-o6),PZ=i6("top",o6),Jae=(e,n,o,a,c,g,p,S,T,V,X,Q)=>{let ae=0,we=0;e.style.left=n.pageX+"px",e.style.top=n.pageY+"px",n.pageX+o>c&&(ae=n.pageX+o-c),n.pageY+a>g&&(we=n.pageY+a-g),e.style.width=o-ae+"px",e.style.height=a-we+"px";const De=T.clientHeight,_e=T.clientWidth,$e=p+T.getBoundingClientRect().top,nt=S+T.getBoundingClientRect().left;X.on(ft=>{ft.intervalId.clear(),ft.dragging&&Q&&(p+s6>=De?ft.intervalId.set(PZ(V)):p-s6<=0?ft.intervalId.set(DZ(V)):S+s6>=_e?ft.intervalId.set(IZ(V)):S-s6<=0?ft.intervalId.set(RZ(V)):$e+r6>=window.innerHeight?ft.intervalId.set(PZ(window)):$e-r6<=0?ft.intervalId.set(DZ(window)):nt+r6>=window.innerWidth?ft.intervalId.set(IZ(window)):nt-r6<=0&&ft.intervalId.set(RZ(window)))})},NZ=e=>{e&&e.parentNode&&e.parentNode.removeChild(e)},Qae=(e,n)=>{const o=e.getParent(n.parentNode,e.isBlock);NZ(n),o&&o!==e.getRoot()&&e.isEmpty(o)&&td(Ye.fromDom(o))},ele=e=>e.button===0,tle=(e,n)=>({pageX:n.pageX-e.relX,pageY:n.pageY+5}),nle=(e,n)=>o=>{if(ele(o)){const a=An(n.dom.getParents(o.target),Zae).getOr(null);if(Me(a)&&Gae(n.dom,n.getBody(),a)){const c=n.dom.getPos(a),g=n.getBody(),p=n.getDoc().documentElement;e.set({element:a,dataTransfer:s9(),dragging:!1,screenX:o.screenX,screenY:o.screenY,maxX:(n.inline?g.scrollWidth:p.offsetWidth)-2,maxY:(n.inline?g.scrollHeight:p.offsetHeight)-2,relX:o.pageX-c.x,relY:o.pageY-c.y,width:a.offsetWidth,height:a.offsetHeight,ghost:Yae(n,a,a.offsetWidth,a.offsetHeight),intervalId:Zc(jae)})}}},ole=(e,n,o)=>{e._selectionOverrides.hideFakeCaret(),EZ(e.getBody(),n,o).fold(()=>e.selection.placeCaretAt(n,o),a=>{const c=e._selectionOverrides.showCaret(1,a.node,a.position===Zk.Before,!1);c?e.selection.setRng(c):e.selection.placeCaretAt(n,o)})},lR=(e,n,o,a,c)=>{n==="dragstart"&&oZ(a,e.dom.getOuterHTML(o));const g=Kae(n,o,a,c);return e.dispatch(n,g)},sle=(e,n)=>{const o=kp((c,g)=>ole(n,c,g),0);n.on("remove",o.cancel);const a=e;return c=>e.on(g=>{const p=Math.max(Math.abs(c.screenX-g.screenX),Math.abs(c.screenY-g.screenY));if(!g.dragging&&p>10){const S=lR(n,"dragstart",g.element,g.dataTransfer,c);if(Me(S.dataTransfer)&&(g.dataTransfer=S.dataTransfer),S.isDefaultPrevented())return;g.dragging=!0,n.focus()}if(g.dragging){const S=c.currentTarget===n.getDoc().documentElement,T=tle(g,zae(n,c));Xae(g.ghost,n.getBody()),Jae(g.ghost,T,g.width,g.height,g.maxX,g.maxY,c.clientY,c.clientX,n.getContentAreaContainer(),n.getWin(),a,S),o.throttle(c.clientX,c.clientY)}})},rle=e=>{const n=e.getSel();if(Me(n)){const a=n.getRangeAt(0).startContainer;return on(a)?a.parentNode:a}else return null},ile=(e,n)=>o=>{e.on(a=>{var c;if(a.intervalId.clear(),a.dragging){if(qae(n,rle(n.selection),a.element)){const g=(c=n.getDoc().elementFromPoint(o.clientX,o.clientY))!==null&&c!==void 0?c:n.getBody();lR(n,"drop",g,a.dataTransfer,o).isDefaultPrevented()||n.undoManager.transact(()=>{Qae(n.dom,a.element),mie(a.dataTransfer).each(S=>n.insertContent(S)),n._selectionOverrides.hideFakeCaret()})}lR(n,"dragend",n.getBody(),a.dataTransfer,o)}}),LZ(e)},MZ=(e,n,o)=>{e.on(a=>{a.intervalId.clear(),a.dragging&&o.fold(()=>lR(n,"dragend",a.element,a.dataTransfer),c=>lR(n,"dragend",a.element,a.dataTransfer,c))}),LZ(e)},ale=(e,n)=>o=>MZ(e,n,ee.some(o)),LZ=e=>{e.on(n=>{n.intervalId.clear(),NZ(n.ghost)}),e.clear()},lle=e=>{const n=Ai(),o=br.DOM,a=document,c=nle(n,e),g=sle(n,e),p=ile(n,e),S=ale(n,e);e.on("mousedown",c),e.on("mousemove",g),e.on("mouseup",p),o.bind(a,"mousemove",g),o.bind(a,"mouseup",S),e.on("remove",()=>{o.unbind(a,"mousemove",g),o.unbind(a,"mouseup",S)}),e.on("keydown",T=>{T.keyCode===On.ESC&&MZ(n,e,ee.none())})},cle=e=>{const n=c=>{if(!c.isDefaultPrevented()){const g=c.dataTransfer;g&&(Se(g.types,"Files")||g.files.length>0)&&(c.preventDefault(),c.type==="drop"&&Tk(e,"Dropped file type is not supported"))}},o=c=>{l_(e,c.target)&&n(c)},a=()=>{const c=br.DOM,g=e.dom,p=document,S=e.inline?e.getBody():e.getDoc(),T=["drop","dragover"];xe(T,V=>{c.bind(p,V,o),g.bind(S,V,n)}),e.on("remove",()=>{xe(T,V=>{c.unbind(p,V,o),g.unbind(S,V,n)})})};e.on("init",()=>{ad.setEditorTimeout(e,a,0)})},ule=e=>{lle(e),CS(e)&&cle(e)},dle=e=>{const n=kp(()=>{if(!e.removed&&e.getBody().contains(document.activeElement)){const o=e.selection.getRng();if(o.collapsed){const a=Ik(e,o,!1);e.selection.setRng(a)}}},0);e.on("focus",()=>{n.throttle()}),e.on("blur",()=>{n.cancel()})},fle=e=>{e.on("init",()=>{e.on("focusin",n=>{const o=n.target;if(Lt(o)){const a=Af(e.getBody(),o),c=To(a)?a:o;e.selection.getNode()!==c&&dC(e,c).each(g=>e.selection.setRng(g))}})})},cR=To,BZ=(e,n)=>Af(e.getBody(),n),mle=e=>{const n=e.selection,o=e.dom,a=e.getBody(),c=uD(e,a,o.isBlock,()=>jy(e)),g="sel-"+o.uniqueId(),p="data-mce-selected";let S;const T=Pn=>Me(Pn)&&o.hasClass(Pn,"mce-offscreen-selection"),V=Pn=>Pn!==a&&(cR(Pn)||Lt(Pn))&&o.isChildOf(Pn,a)&&o.isEditable(Pn.parentNode),X=Pn=>{Pn&&n.setRng(Pn)},Q=(Pn,$t,Rt,Zt=!0)=>e.dispatch("ShowCaret",{target:$t,direction:Pn,before:Rt}).isDefaultPrevented()?null:(Zt&&n.scrollIntoView($t,Pn===-1),c.show(Rt,$t)),ae=Pn=>{Pn.hasAttribute("data-mce-caret")&&(Op(Pn),n.scrollIntoView(Pn))},we=()=>{e.on("click",$t=>{o.isEditable($t.target)||($t.preventDefault(),e.focus())}),e.on("blur NewBlock",kt),e.on("ResizeWindow FullscreenStateChanged",c.reposition),e.on("tap",$t=>{const Rt=$t.target,Zt=BZ(e,Rt);cR(Zt)?($t.preventDefault(),dC(e,Zt).each(ct)):V(Rt)&&dC(e,Rt).each(ct)},!0),e.on("mousedown",$t=>{const Rt=$t.target;if(Rt!==a&&Rt.nodeName!=="HTML"&&!o.isChildOf(Rt,a)||!bz(e,$t.clientX,$t.clientY))return;kt(),gn();const Zt=BZ(e,Rt);cR(Zt)?($t.preventDefault(),dC(e,Zt).each(ct)):EZ(a,$t.clientX,$t.clientY).each(Hn=>{$t.preventDefault();const so=Q(1,Hn.node,Hn.position===Zk.Before,!1);X(so),Uc(Zt)?Zt.focus():e.getBody().focus()})}),e.on("keypress",$t=>{On.modifierPressed($t)||cR(n.getNode())&&$t.preventDefault()}),e.on("GetSelectionRange",$t=>{let Rt=$t.range;if(S){if(!S.parentNode){S=null;return}Rt=Rt.cloneRange(),Rt.selectNode(S),$t.range=Rt}}),e.on("SetSelectionRange",$t=>{$t.range=$e($t.range);const Rt=ct($t.range,$t.forward);Rt&&($t.range=Rt)});const Pn=$t=>Un($t)&&$t.id==="mcepastebin";e.on("AfterSetSelectionRange",$t=>{const Rt=$t.range,Zt=Rt.startContainer.parentElement;!_e(Rt)&&!Pn(Zt)&&gn(),T(Zt)||kt()}),ule(e),dle(e),fle(e)},De=Pn=>Gc(Pn)||b0(Pn)||xm(Pn),_e=Pn=>De(Pn.startContainer)||De(Pn.endContainer),$e=Pn=>{const $t=e.schema.getVoidElements(),Rt=o.createRng(),Zt=Pn.startContainer,Hn=Pn.startOffset,so=Pn.endContainer,rs=Pn.endOffset;return So($t,Zt.nodeName.toLowerCase())?Hn===0?Rt.setStartBefore(Zt):Rt.setStartAfter(Zt):Rt.setStart(Zt,Hn),So($t,so.nodeName.toLowerCase())?rs===0?Rt.setEndBefore(so):Rt.setEndAfter(so):Rt.setEnd(so,rs),Rt},nt=(Pn,$t)=>{const Rt=Ye.fromDom(e.getBody()),Zt=e.getDoc(),Hn=Ht(Rt,"#"+g).getOrThunk(()=>{const fs=Ye.fromHtml('<div data-mce-bogus="all" class="mce-offscreen-selection"></div>',Zt);return Ei(fs,"id",g),Vr(Rt,fs),fs}),so=o.createRng();ir(Hn),li(Hn,[Ye.fromText(ea,Zt),Ye.fromDom($t),Ye.fromText(ea,Zt)]),so.setStart(Hn.dom.firstChild,1),so.setEnd(Hn.dom.lastChild,0),ds(Hn,{top:o.getPos(Pn,e.getBody()).y+"px"}),mA(Hn);const rs=n.getSel();return rs&&(rs.removeAllRanges(),rs.addRange(so)),so},ft=Pn=>{const $t=Pn.cloneNode(!0),Rt=e.dispatch("ObjectSelected",{target:Pn,targetClone:$t});if(Rt.isDefaultPrevented())return null;const Zt=nt(Pn,Rt.targetClone),Hn=Ye.fromDom(Pn);return xe(bi(Ye.fromDom(e.getBody()),`*[${p}]`),so=>{us(Hn,so)||Yo(so,p)}),o.getAttrib(Pn,p)||Pn.setAttribute(p,"1"),S=Pn,gn(),Zt},ct=(Pn,$t)=>{if(!Pn)return null;if(Pn.collapsed){if(!_e(Pn)){const so=$t?1:-1,rs=Gw(so,a,Pn),fs=rs.getNode(!$t);if(Me(fs)){if(Ww(fs))return Q(so,fs,$t?!rs.isAtEnd():!1,!1);if(dh(fs)&&To(fs.nextSibling)){const cr=o.createRng();return cr.setStart(fs,0),cr.setEnd(fs,0),cr}}const Js=rs.getNode($t);if(Me(Js)){if(Ww(Js))return Q(so,Js,$t?!1:!rs.isAtEnd(),!1);if(dh(Js)&&To(Js.previousSibling)){const cr=o.createRng();return cr.setStart(Js,1),cr.setEnd(Js,1),cr}}}return null}let Rt=Pn.startContainer,Zt=Pn.startOffset;const Hn=Pn.endOffset;if(on(Rt)&&Zt===0&&cR(Rt.parentNode)&&(Rt=Rt.parentNode,Zt=o.nodeIndex(Rt),Rt=Rt.parentNode),!Un(Rt))return null;if(Hn===Zt+1&&Rt===Pn.endContainer){const so=Rt.childNodes[Zt];if(V(so))return ft(so)}return null},kt=()=>{S&&S.removeAttribute(p),Ht(Ye.fromDom(e.getBody()),"#"+g).each(Hs),S=null},qt=()=>{c.destroy(),S=null},gn=()=>{c.hide()};return Nh(e)||we(),{showCaret:Q,showBlockCaretContainer:ae,hideFakeCaret:gn,destroy:qt}},gle=(e,n)=>{let o=n;for(let a=e.previousSibling;on(a);a=a.previousSibling)o+=a.data.length;return o},FZ=(e,n,o,a,c)=>{if(on(o)&&(a<0||a>o.data.length))return[];const g=c&&on(o)?[gle(o,a)]:[a];let p=o;for(;p!==n&&p.parentNode;)g.push(e.nodeIndex(p,c)),p=p.parentNode;return p===n?g.reverse():[]},f9=(e,n,o,a,c,g,p=!1)=>{const S=FZ(e,n,o,a,p),T=FZ(e,n,c,g,p);return{start:S,end:T}},$Z=(e,n)=>{const o=n.slice(),a=o.pop();return I(a)?pn(o,(g,p)=>g.bind(S=>ee.from(S.childNodes[p])),ee.some(e)).bind(g=>on(g)&&(a<0||a>g.data.length)?ee.none():ee.some({node:g,offset:a})):ee.none()},VZ=(e,n)=>$Z(e,n.start).bind(({node:o,offset:a})=>$Z(e,n.end).map(({node:c,offset:g})=>{const p=document.createRange();return p.setStart(o,a),p.setEnd(c,g),p})),hle=(e,n,o,a=!1)=>f9(e,n,o.startContainer,o.startOffset,o.endContainer,o.endOffset,a),Gk=(e,n,o)=>{if(n&&e.isEmpty(n)&&!o(n)){const a=n.parentNode;e.remove(n,on(n.firstChild)&&cc(n.firstChild.data)),Gk(e,a,o)}},a6=(e,n,o,a=!0)=>{const c=n.startContainer.parentNode,g=n.endContainer.parentNode;n.deleteContents(),a&&!o(n.startContainer)&&(on(n.startContainer)&&n.startContainer.data.length===0&&e.remove(n.startContainer),on(n.endContainer)&&n.endContainer.data.length===0&&e.remove(n.endContainer),Gk(e,c,o),c!==g&&Gk(e,g,o))},l6=(e,n)=>ee.from(e.dom.getParent(n.startContainer,e.dom.isBlock)),m9=(e,n,o)=>{const a=e.dynamicPatternsLookup({text:o,block:n});return{...e,blockPatterns:Cl(a).concat(e.blockPatterns),inlinePatterns:yf(a).concat(e.inlinePatterns)}},g9=(e,n,o,a)=>{const c=e.createRng();return c.setStart(n,0),c.setEnd(o,a),c.toString()},zZ=(e,n)=>e.create("span",{"data-mce-type":"bookmark",id:n}),c6=(e,n)=>{const o=e.createRng();return o.setStartAfter(n.start),o.setEndBefore(n.end),o},HZ=(e,n,o)=>{const a=VZ(e.getRoot(),o).getOrDie("Unable to resolve path range"),c=a.startContainer,g=a.endContainer,p=a.endOffset===0?g:g.splitText(a.endOffset),S=a.startOffset===0?c:c.splitText(a.startOffset),T=S.parentNode,V=p.parentNode;return{prefix:n,end:V.insertBefore(zZ(e,n+"-end"),p),start:T.insertBefore(zZ(e,n+"-start"),S)}},UZ=(e,n,o)=>{Gk(e,e.get(n.prefix+"-end"),o),Gk(e,e.get(n.prefix+"-start"),o)},h9=e=>e.start.length===0,ple=e=>(n,o)=>{const c=n.data.substring(0,o),g=c.lastIndexOf(e.charAt(e.length-1)),p=c.lastIndexOf(e);return p!==-1?p+e.length:g!==-1?g+1:-1},WZ=(e,n,o,a)=>{const c=n.start;return BH(e,a.container,a.offset,ple(c),o).bind(p=>{var S,T;const V=(T=(S=o.textContent)===null||S===void 0?void 0:S.indexOf(c))!==null&&T!==void 0?T:-1;if(V!==-1&&p.offset>=V+c.length){const Q=e.createRng();return Q.setStart(p.container,p.offset-c.length),Q.setEnd(p.container,p.offset),ee.some(Q)}else{const Q=p.offset-c.length;return LH(p.container,Q,o).map(ae=>{const we=e.createRng();return we.setStart(ae.container,ae.offset),we.setEnd(p.container,p.offset),we}).filter(ae=>ae.toString()===c).orThunk(()=>WZ(e,n,o,tb(p.container,0)))}})},ble=(e,n,o,a,c,g=!1)=>{if(n.start.length===0&&!g){const p=e.createRng();return p.setStart(o,a),p.setEnd(o,a),ee.some(p)}return MH(o,a,c).bind(p=>WZ(e,n,c,p).bind(T=>{var V;if(g){if(T.endContainer===p.container&&T.endOffset===p.offset)return ee.none();if(p.offset===0&&((V=T.endContainer.textContent)===null||V===void 0?void 0:V.length)===T.endOffset)return ee.none()}return ee.some(T)}))},vle=(e,n,o,a)=>{const c=e.dom,g=c.getRoot(),p=o.pattern,S=o.position.container,T=o.position.offset;return LH(S,T-o.pattern.end.length,n).bind(V=>{const X=f9(c,g,V.container,V.offset,S,T,a);if(h9(p))return ee.some({matches:[{pattern:p,startRng:X,endRng:X}],position:V});{const Q=u6(e,o.remainingPatterns,V.container,V.offset,n,a),ae=Q.getOr({matches:[],position:V}),we=ae.position;return ble(c,p,we.container,we.offset,n,Q.isNone()).map(_e=>{const $e=hle(c,g,_e,a);return{matches:ae.matches.concat([{pattern:p,startRng:$e,endRng:X}]),position:tb(_e.startContainer,_e.startOffset)}})}})},u6=(e,n,o,a,c,g)=>{const p=e.dom;return MH(o,a,p.getRoot()).bind(S=>{const T=g9(p,c,o,a);for(let V=0;V<n.length;V++){const X=n[V];if(!Be(T,X.end))continue;const Q=n.slice();Q.splice(V,1);const ae=vle(e,c,{pattern:X,remainingPatterns:Q,position:S},g);if(ae.isNone()&&a>0)return u6(e,n,o,a-1,c,g);if(ae.isSome())return ae}return ee.none()})},KZ=(e,n,o)=>{e.selection.setRng(o),n.type==="inline-format"?xe(n.format,a=>{e.formatter.apply(a)}):e.execCommand(n.cmd,!1,n.value)},yle=(e,n,o,a)=>{const c=c6(e.dom,o);a6(e.dom,c,a),KZ(e,n,c)},xle=(e,n,o,a,c)=>{const g=e.dom,p=c6(g,a),S=c6(g,o);a6(g,S,c),a6(g,p,c);const T={prefix:o.prefix,start:o.end,end:a.start},V=c6(g,T);KZ(e,n,V)},wle=(e,n)=>{const o=Ll("mce_textpattern"),a=wt(n,(c,g)=>{const p=HZ(e,o+`_end${c.length}`,g.endRng);return c.concat([{...g,endMarker:p}])},[]);return wt(a,(c,g)=>{const p=a.length-c.length-1,S=h9(g.pattern)?g.endMarker:HZ(e,o+`_start${p}`,g.startRng);return c.concat([{...g,startMarker:S}])},[])},Cle=e=>xs(e,(n,o)=>o.end.length-n.end.length),Sle=(e,n)=>{const o=Ho(e,a=>Pe(n,c=>a.pattern.start===c.pattern.start&&a.pattern.end===c.pattern.end));return e.length===n.length?o?e:n:e.length>n.length?e:n},jZ=(e,n,o,a,c,g)=>{const p=u6(e,c.inlinePatterns,o,a,n,g).fold(()=>[],T=>T.matches),S=u6(e,Cle(c.inlinePatterns),o,a,n,g).fold(()=>[],T=>T.matches);return Sle(p,S)},ZZ=(e,n)=>{if(n.length===0)return;const o=e.dom,a=e.selection.getBookmark(),c=wle(o,n);xe(c,g=>{const p=o.getParent(g.startMarker.start,o.isBlock),S=T=>T===p;h9(g.pattern)?yle(e,g.pattern,g.endMarker,S):xle(e,g.pattern,g.startMarker,g.endMarker,S),UZ(o,g.endMarker,S),UZ(o,g.startMarker,S)}),e.selection.moveToBookmark(a)},GZ=(e,n,o)=>foe(n,0,n).map(a=>{const c=a.container;return YK(c,o.start.length,n).each(g=>{const p=e.createRng();p.setStart(c,0),p.setEnd(g.container,g.offset),a6(e,p,S=>S===n)}),c}),qZ=e=>(n,o)=>{const a=n.dom,c=o.pattern,g=VZ(a.getRoot(),o.range).getOrDie("Unable to resolve path range"),p=(S,T)=>{const V=T.get(S);return oe(V)&&cn(V).exists(X=>So(X,"block"))};return l6(n,g).each(S=>{c.type==="block-format"?p(c.format,n.formatter)&&n.undoManager.transact(()=>{e(n.dom,S,c),n.formatter.apply(c.format)}):c.type==="block-command"&&n.undoManager.transact(()=>{e(n.dom,S,c),n.execCommand(c.cmd,!1,c.value)})}),!0},_le=e=>xs(e,(n,o)=>o.start.length-n.start.length),YZ=e=>(n,o)=>{const a=_le(n),c=o.replace(ea," ");return An(a,g=>e(g,o,c))},XZ=(e,n)=>(o,a,c,g,p)=>{var S;p===void 0&&(p=(S=a.textContent)!==null&&S!==void 0?S:"");const T=o.dom,V=Ql(o);return T.is(a,V)?e(c.blockPatterns,p).map(X=>n&&dn.trim(p).length===X.start.length?[]:[{pattern:X,range:f9(T,T.getRoot(),a,0,a,0,g)}]).getOr([]):[]},kle=e=>/^\s[^\s]/.test(e),Ele=qZ((e,n,o)=>{GZ(e,n,o).each(a=>{const c=Ye.fromDom(a),g=ch(c);kle(g)&&u0(c,g.slice(1))})}),Tle=YZ((e,n,o)=>n.indexOf(e.start)===0||o.indexOf(e.start)===0),Ale=XZ(Tle,!0),Ole=(e,n)=>{const o=e.selection.getRng();return l6(e,o).map(a=>{var c;const g=Math.max(0,o.startOffset),p=m9(n,a,(c=a.textContent)!==null&&c!==void 0?c:""),S=jZ(e,a,o.startContainer,g,p,!0),T=Ale(e,a,p,!0);return{inlineMatches:S,blockMatches:T}}).filter(({inlineMatches:a,blockMatches:c})=>c.length>0||a.length>0)},Rle=(e,n)=>{if(n.length===0)return;const o=e.selection.getBookmark();xe(n,a=>Ele(e,a)),e.selection.moveToBookmark(o)},Ile=qZ(GZ),Dle=YZ((e,n,o)=>n===e.start||o===e.start),Ple=XZ(Dle,!1),Nle=(e,n)=>{const o=e.selection.getRng();return l6(e,o).map(a=>{const c=Math.max(0,o.startOffset),g=g9(e.dom,a,o.startContainer,c),p=m9(n,a,g);return Ple(e,a,p,!1,g)}).filter(a=>a.length>0)},Mle=(e,n)=>{xe(n,o=>Ile(e,o))},Lle=(e,n)=>Ole(e,n).fold(Bn,({inlineMatches:o,blockMatches:a})=>(e.undoManager.add(),e.undoManager.extra(()=>{e.execCommand("mceInsertNewLine")},()=>{oT(e),ZZ(e,o),Rle(e,a);const c=e.selection.getRng(),g=MH(c.startContainer,c.startOffset,e.dom.getRoot());e.execCommand("mceInsertNewLine"),g.each(p=>{const S=p.container;S.data.charAt(p.offset-1)===Gr&&(S.deleteData(p.offset-1,1),Gk(e.dom,S.parentNode,T=>T===e.dom.getRoot()))})}),!0)),Ble=(e,n)=>{const o=e.selection.getRng();l6(e,o).map(a=>{const c=Math.max(0,o.startOffset-1),g=g9(e.dom,a,o.startContainer,c),p=m9(n,a,g),S=jZ(e,a,o.startContainer,c,p,!1);S.length>0&&e.undoManager.transact(()=>{ZZ(e,S)})})},Fle=(e,n)=>Nle(e,n).fold(Bn,o=>(e.undoManager.transact(()=>{Mle(e,o)}),!0)),JZ=(e,n,o)=>{for(let a=0;a<e.length;a++)if(o(e[a],n))return!0;return!1},$le=(e,n)=>JZ(e,n,(o,a)=>o===a.keyCode&&!On.modifierPressed(a)),Vle=(e,n)=>JZ(e,n,(o,a)=>o.charCodeAt(0)===a.charCode),zle=e=>{const n=[",",".",";",":","!","?"],o=[32],a=()=>Bb(F8(e).filter(p=>p.type==="inline-command"||p.type==="block-command"?e.queryCommandSupported(p.cmd):!0),zw(e)),c=()=>wT(e);e.on("keydown",p=>{if(p.keyCode===13&&!On.modifierPressed(p)&&e.selection.isCollapsed()){const S=gg(a(),"enter");(S.inlinePatterns.length>0||S.blockPatterns.length>0||c())&&Lle(e,S)&&p.preventDefault()}},!0),e.on("keydown",p=>{if(p.keyCode===32&&e.selection.isCollapsed()){const S=gg(a(),"space");(S.blockPatterns.length>0||c())&&Fle(e,S)&&p.preventDefault()}},!0);const g=()=>{if(e.selection.isCollapsed()){const p=gg(a(),"space");(p.inlinePatterns.length>0||c())&&Ble(e,p)}};e.on("keyup",p=>{$le(o,p)&&g()}),e.on("keypress",p=>{Vle(n,p)&&ad.setEditorTimeout(e,g)})},Hle=e=>{zle(e)},Ule=e=>{const n=dn.each,o=On.BACKSPACE,a=On.DELETE,c=e.dom,g=e.selection,p=e.parser,S=os.browser,T=S.isFirefox(),V=S.isChromium()||S.isSafari(),X=os.deviceType.isiPhone()||os.deviceType.isiPad(),Q=os.os.isMacOS()||os.os.isiOS(),ae=(kn,ho)=>{try{e.getDoc().execCommand(kn,!1,String(ho))}catch{}},we=kn=>kn.isDefaultPrevented(),De=()=>{const kn=ls=>{const Dn=c.create("body"),is=ls.cloneContents();return Dn.appendChild(is),g.serializer.serialize(Dn,{format:"html"})},ho=ls=>{const Dn=kn(ls),is=c.createRng();is.selectNode(e.getBody());const bs=kn(is);return Dn===bs};e.on("keydown",ls=>{const Dn=ls.keyCode;if(!we(ls)&&(Dn===a||Dn===o)&&e.selection.isEditable()){const is=e.selection.isCollapsed(),bs=e.getBody();if(is&&!uc(e.schema,bs)||!is&&!ho(e.selection.getRng()))return;ls.preventDefault(),e.setContent(""),bs.firstChild&&c.isBlock(bs.firstChild)?e.selection.setCursorLocation(bs.firstChild,0):e.selection.setCursorLocation(bs,0),e.nodeChanged()}})},_e=()=>{e.shortcuts.add("meta+a",null,"SelectAll")},$e=()=>{e.inline||c.bind(e.getDoc(),"mousedown mouseup",kn=>{let ho;if(kn.target===e.getDoc().documentElement)if(ho=g.getRng(),e.getBody().focus(),kn.type==="mousedown"){if(Gc(ho.startContainer))return;g.placeCaretAt(kn.clientX,kn.clientY)}else g.setRng(ho)})},nt=()=>{e.on("keydown",kn=>{if(!we(kn)&&kn.keyCode===o){if(!e.getBody().getElementsByTagName("hr").length)return;if(g.isCollapsed()&&g.getRng().startOffset===0){const ho=g.getNode(),ls=ho.previousSibling;if(ho.nodeName==="HR"){c.remove(ho),kn.preventDefault();return}ls&&ls.nodeName&&ls.nodeName.toLowerCase()==="hr"&&(c.remove(ls),kn.preventDefault())}}})},ft=()=>{Range.prototype.getClientRects||e.on("mousedown",kn=>{if(!we(kn)&&kn.target.nodeName==="HTML"){const ho=e.getBody();ho.blur(),ad.setEditorTimeout(e,()=>{ho.focus()})}})},ct=()=>{const kn=Ny(e);e.on("click",ho=>{const ls=ho.target;/^(IMG|HR)$/.test(ls.nodeName)&&c.isEditable(ls)&&(ho.preventDefault(),e.selection.select(ls),e.nodeChanged()),ls.nodeName==="A"&&c.hasClass(ls,kn)&&ls.childNodes.length===0&&c.isEditable(ls.parentNode)&&(ho.preventDefault(),g.select(ls))})},kt=()=>{const kn=()=>{const ls=c.getAttribs(g.getStart().cloneNode(!1));return()=>{const Dn=g.getStart();Dn!==e.getBody()&&(c.setAttrib(Dn,"style",null),n(ls,is=>{Dn.setAttributeNode(is.cloneNode(!0))}))}},ho=()=>!g.isCollapsed()&&c.getParent(g.getStart(),c.isBlock)!==c.getParent(g.getEnd(),c.isBlock);e.on("keypress",ls=>{let Dn;return!we(ls)&&(ls.keyCode===8||ls.keyCode===46)&&ho()?(Dn=kn(),e.getDoc().execCommand("delete",!1),Dn(),ls.preventDefault(),!1):!0}),c.bind(e.getDoc(),"cut",ls=>{if(!we(ls)&&ho()){const Dn=kn();ad.setEditorTimeout(e,()=>{Dn()})}})},qt=()=>{e.on("keydown",kn=>{if(!we(kn)&&kn.keyCode===o&&g.isCollapsed()&&g.getRng().startOffset===0){const ho=g.getNode().previousSibling;if(ho&&ho.nodeName&&ho.nodeName.toLowerCase()==="table")return kn.preventDefault(),!1}return!0})},gn=()=>{e.on("keydown",kn=>{if(we(kn)||kn.keyCode!==On.BACKSPACE)return;let ho=g.getRng();const ls=ho.startContainer,Dn=ho.startOffset,is=c.getRoot();let bs=ls;if(!(!ho.collapsed||Dn!==0)){for(;bs.parentNode&&bs.parentNode.firstChild===bs&&bs.parentNode!==is;)bs=bs.parentNode;bs.nodeName==="BLOCKQUOTE"&&(e.formatter.toggle("blockquote",void 0,bs),ho=c.createRng(),ho.setStart(ls,0),ho.setEnd(ls,0),g.setRng(ho))}})},Pn=()=>{const kn=()=>{ae("StyleWithCSS",!1),ae("enableInlineTableEditing",!1),FI(e)||ae("enableObjectResizing",!1)};jI(e)||e.on("BeforeExecCommand mousedown",kn)},$t=()=>{const kn=()=>{n(c.select("a:not([data-mce-block])"),ho=>{var ls;let Dn=ho.parentNode;const is=c.getRoot();if((Dn==null?void 0:Dn.lastChild)===ho){for(;Dn&&!c.isBlock(Dn);){if(((ls=Dn.parentNode)===null||ls===void 0?void 0:ls.lastChild)!==Dn||Dn===is)return;Dn=Dn.parentNode}c.add(Dn,"br",{"data-mce-bogus":1})}})};e.on("SetContent ExecCommand",ho=>{(ho.type==="setcontent"||ho.command==="mceInsertLink")&&kn()})},Rt=()=>{e.on("init",()=>{ae("DefaultParagraphSeparator",Ql(e))})},Zt=kn=>{const ho=kn.getBody(),ls=kn.selection.getRng();return ls.startContainer===ls.endContainer&&ls.startContainer===ho&&ls.startOffset===0&&ls.endOffset===ho.childNodes.length},Hn=()=>{e.on("keyup focusin mouseup",kn=>{!On.modifierPressed(kn)&&!Zt(e)&&g.normalize()},!0)},so=()=>{e.contentStyles.push("img:-moz-broken {-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}")},rs=()=>{e.inline||e.on("keydown",()=>{document.activeElement===document.body&&e.getWin().focus()})},fs=()=>{e.inline||(e.contentStyles.push("body {min-height: 150px}"),e.on("click",kn=>{let ho;kn.target.nodeName==="HTML"&&(ho=e.selection.getRng(),e.getBody().focus(),e.selection.setRng(ho),e.selection.normalize(),e.nodeChanged())}))},Js=()=>{Q&&e.on("keydown",kn=>{On.metaKeyPressed(kn)&&!kn.shiftKey&&(kn.keyCode===37||kn.keyCode===39)&&(kn.preventDefault(),e.selection.getSel().modify("move",kn.keyCode===37?"backward":"forward","lineboundary"))})},cr=()=>{e.on("click",kn=>{let ho=kn.target;do if(ho.tagName==="A"){kn.preventDefault();return}while(ho=ho.parentNode)}),e.contentStyles.push(".mce-content-body {-webkit-touch-callout: none}")},Vi=()=>{e.on("init",()=>{e.dom.bind(e.getBody(),"submit",kn=>{kn.preventDefault()})})},yc=()=>{p.addNodeFilter("br",kn=>{let ho=kn.length;for(;ho--;)kn[ho].attr("class")==="Apple-interchange-newline"&&kn[ho].remove()})},yr=it,wn=()=>{if(!T||e.removed)return!1;const kn=e.selection.getSel();return!kn||!kn.rangeCount||kn.rangeCount===0},to=()=>{V&&($e(),ct(),Vi(),_e(),X&&(rs(),fs(),cr())),T&&(ft(),Pn(),so(),Js())},Us=()=>{gn(),De(),os.windowsPhone||Hn(),V&&($e(),ct(),Rt(),Vi(),qt(),yc(),X?(rs(),fs(),cr()):_e()),T&&(nt(),ft(),kt(),Pn(),$t(),so(),Js(),qt())};return Nh(e)?to():Us(),{refreshContentEditable:yr,isHidden:wn}},Wle=e=>e.toLowerCase()==="gpl",Kle=e=>e.length>=64&&e.length<=255,jle=e=>Wle(e)||Kle(e)?"VALID":"INVALID",Zle=e=>{const n=sD(e);!he(rD(e))&&(et(n)||jle(n)==="INVALID")&&console.warn("TinyMCE is running in evaluation mode. Provide a valid license key or add license_key: 'gpl' to the init config to agree to the open source license terms. Read more at https://www.tiny.cloud/license-key/")},p9=br.DOM,Gle=(e,n)=>{const o=Ye.fromDom(e.getBody()),a=tm(mu(o)),c=Ye.fromTag("style");Ei(c,"type","text/css"),Vr(c,Ye.fromText(n)),Vr(a,c),e.on("remove",()=>{Hs(c)})},qle=e=>e.inline?e.getElement().nodeName.toLowerCase():void 0,b9=e=>Dc(e,n=>et(n)===!1),QZ=e=>{const n=e.options.get,o=e.editorUpload.blobCache;return b9({allow_conditional_comments:n("allow_conditional_comments"),allow_html_data_urls:n("allow_html_data_urls"),allow_svg_data_urls:n("allow_svg_data_urls"),allow_html_in_named_anchor:n("allow_html_in_named_anchor"),allow_script_urls:n("allow_script_urls"),allow_unsafe_link_target:n("allow_unsafe_link_target"),convert_unsafe_embeds:n("convert_unsafe_embeds"),convert_fonts_to_spans:n("convert_fonts_to_spans"),fix_list_elements:n("fix_list_elements"),font_size_legacy_values:n("font_size_legacy_values"),forced_root_block:n("forced_root_block"),forced_root_block_attrs:n("forced_root_block_attrs"),preserve_cdata:n("preserve_cdata"),inline_styles:n("inline_styles"),root_name:qle(e),sandbox_iframes:n("sandbox_iframes"),sandbox_iframes_exclusions:kS(e),sanitize:n("xss_sanitization"),validate:!0,blob_cache:o,document:e.getDoc()})},eG=e=>{const n=e.options.get;return b9({custom_elements:n("custom_elements"),extended_valid_elements:n("extended_valid_elements"),invalid_elements:n("invalid_elements"),invalid_styles:n("invalid_styles"),schema:n("schema"),valid_children:n("valid_children"),valid_classes:n("valid_classes"),valid_elements:n("valid_elements"),valid_styles:n("valid_styles"),verify_html:n("verify_html"),padd_empty_block_inline_children:n("format_empty_lines")})},Yle=e=>{const n=e.options.get;return{...QZ(e),...eG(e),...b9({remove_trailing_brs:n("remove_trailing_brs"),pad_empty_with_br:n("pad_empty_with_br"),url_converter:n("url_converter"),url_converter_scope:n("url_converter_scope"),element_format:n("element_format"),entities:n("entities"),entity_encoding:n("entity_encoding"),indent:n("indent"),indent_after:n("indent_after"),indent_before:n("indent_before")})}},Xle=e=>{const n=cx(QZ(e),e.schema);return n.addAttributeFilter("src,href,style,tabindex",(o,a)=>{const c=e.dom,g="data-mce-"+a;let p=o.length;for(;p--;){const S=o[p];let T=S.attr(a);if(T&&!S.attr(g)){if(T.indexOf("data:")===0||T.indexOf("blob:")===0)continue;a==="style"?(T=c.serializeStyle(c.parseStyle(T),S.name),T.length||(T=null),S.attr(g,T),S.attr(a,T)):a==="tabindex"?(S.attr(g,T),S.attr(a,null)):S.attr(g,e.convertURL(T,a,S.name))}}}),n.addNodeFilter("script",o=>{let a=o.length;for(;a--;){const c=o[a],g=c.attr("type")||"no/type";g.indexOf("mce-")!==0&&c.attr("type","mce-"+g)}}),V8(e)&&n.addNodeFilter("#cdata",o=>{var a;let c=o.length;for(;c--;){const g=o[c];g.type=8,g.name="#comment",g.value="[CDATA["+e.dom.encode((a=g.value)!==null&&a!==void 0?a:"")+"]]"}}),n.addNodeFilter("p,h1,h2,h3,h4,h5,h6,div",o=>{let a=o.length;const c=e.schema.getNonEmptyElements();for(;a--;){const g=o[a];g.isEmpty(c)&&g.getAll("br").length===0&&g.append(new Sl("br",1))}}),n},Jle=e=>{const n=P8(e);n&&ad.setEditorTimeout(e,()=>{let o;n===!0?o=e:o=e.editorManager.get(n),o&&!o.destroyed&&(o.focus(),o.selection.scrollIntoView())},100)},Qle=e=>{const n=e.dom.getRoot();!e.inline&&(!$y(e)||e.selection.getStart(!0)===n)&&yo(n).each(o=>{const a=o.getNode(),c=hu(a)?yo(a).getOr(o):o;e.selection.setRng(c.toRange())})},ece=e=>{e.bindPendingEventDelegates(),e.initialized=!0,Ii(e),e.focus(!0),Qle(e),e.nodeChanged({initial:!0});const n=I8(e);Ne(n)&&n.call(e,e),Jle(e)},v9=e=>e.inline?e.ui.styleSheetLoader:e.dom.styleSheetLoader,tce=(e,n,o)=>{const{pass:a,fail:c}=Fe(n,S=>tinymce.Resource.has(c4(S))),p=[...a.map(S=>{const T=tinymce.Resource.get(c4(S));return he(T)?Promise.resolve(v9(e).loadRawCss(S,T)):Promise.resolve()}),v9(e).loadAll(c)];return e.inline?p:p.concat([e.ui.styleSheetLoader.loadAll(o)])},tG=e=>{const n=v9(e),o=BI(e),a=e.contentCSS,c=()=>{n.unloadAll(a),e.inline||e.ui.styleSheetLoader.unloadAll(o)},g=()=>{e.removed?c():e.on("remove",c)};if(e.contentStyles.length>0){let T="";dn.each(e.contentStyles,V=>{T+=V+`\r
`}),e.dom.addStyle(T)}const p=Promise.all(tce(e,a,o)).then(g).catch(g),S=Iy(e);return S&&Gle(e,S),p},nce=e=>{const n=e.getDoc(),o=e.getBody();l7(e),N8(e)||(n.body.spellcheck=!1,p9.setAttrib(o,"spellcheck","false")),e.quirks=Ule(e),c7(e);const a=_8(e);a!==void 0&&(o.dir=a);const c=Ds(e);c&&e.on("BeforeSetContent",g=>{dn.each(c,p=>{g.content=g.content.replace(p,S=>"<!--mce:protected "+escape(S)+"-->")})}),e.on("SetContent",()=>{e.addVisual(e.getBody())}),e.on("compositionstart compositionend",g=>{e.composing=g.type==="compositionstart"})},oce=e=>{Nh(e)||e.load({initial:!0,format:"html"}),e.startContent=e.getContent({format:"raw"})},y9=e=>{e.removed!==!0&&(oce(e),ece(e))},sce=e=>{let n=!1;const o=setTimeout(()=>{n||e.setProgressState(!0)},500);return()=>{clearTimeout(o),n=!0,e.setProgressState(!1)}},nG=e=>{const n=e.getElement();let o=e.getDoc();e.inline&&(p9.addClass(n,"mce-content-body"),e.contentDocument=o=document,e.contentWindow=window,e.bodyElement=n,e.contentAreaContainer=n);const a=e.getBody();a.disabled=!0,e.readonly=jI(e),e._editableRoot=Gs(e),!e.readonly&&e.hasEditableRoot()&&(e.inline&&p9.getStyle(a,"position",!0)==="static"&&(a.style.position="relative"),a.contentEditable="true"),a.disabled=!1,e.editorUpload=d4(e),e.schema=Ju(eG(e)),e.dom=br(o,{keep_values:!0,url_converter:e.convertURL,url_converter_scope:e,update_styles:!0,root_element:e.inline?e.getBody():null,collect:e.inline,schema:e.schema,contentCssCors:MI(e),referrerPolicy:Bw(e),onSetAttrib:p=>{e.dispatch("SetAttrib",p)}}),e.parser=Xle(e),e.serializer=MM(Yle(e),e),e.selection=YO(e.dom,e.getWin(),e.serializer,e),e.annotator=YD(e),e.formatter=uC(e),e.undoManager=gL(e),e._nodeChangeDispatcher=new Jre(e),e._selectionOverrides=mle(e),Zo(e),vae(e),wC(e),Nh(e)||(kae(e),Hle(e));const c=Xre(e);ro(e,c),xa(e),xL(e),hae(e);const g=bM(e);nce(e),Zle(e),g.fold(()=>{const p=sce(e);tG(e).then(()=>{y9(e),p()})},p=>{e.setProgressState(!0),tG(e).then(()=>{p().then(S=>{e.setProgressState(!1),y9(e),_M(e)},S=>{e.notificationManager.open({type:"error",text:String(S)}),y9(e),_M(e)})})})},rce=Qt,ice=(e,n,o)=>L(e,n,rce,o),x9=br.DOM,ace=(e,n,o,a)=>{const c=Ye.fromTag("iframe");return a.each(g=>Ei(c,"tabindex",g)),ja(c,o),ja(c,{id:e+"_ifr",frameBorder:"0",allowTransparency:"true",title:n}),uu(c,"tox-edit-area__iframe"),c},lce=e=>{let n=wm(e)+"<html><head>";Td(e)!==e.documentBaseUrl&&(n+='<base href="'+e.documentBaseURI.getURI()+'" />'),n+='<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />';const o=wS(e),a=lT(e),c=e.translate($w(e));return OI(e)&&(n+='<meta http-equiv="Content-Security-Policy" content="'+OI(e)+'" />'),n+=`</head><body id="${o}" class="mce-content-body ${a}" data-id="${e.id}" aria-label="${c}"><br></body></html>`,n},cce=(e,n)=>{const o=os.browser.isFirefox()?$w(e):"Rich Text Area",a=e.translate(o),c=hi(Ye.fromDom(e.getElement()),"tabindex").bind(Cn),g=ace(e.id,a,hc(e),c).dom;g.onload=()=>{g.onload=null,e.dispatch("load")},e.contentAreaContainer=n.iframeContainer,e.iframeElement=g,e.iframeHTML=lce(e),x9.add(n.iframeContainer,g)},uce=e=>{const n=e.iframeElement,o=()=>{e.contentDocument=n.contentDocument,nG(e)};if(QI(e)||os.browser.isFirefox()){const a=e.getDoc();a.open(),a.write(e.iframeHTML),a.close(),o()}else{const a=ice(Ye.fromDom(n),"load",()=>{a.unbind(),o()});n.srcdoc=e.iframeHTML}},dce=(e,n)=>{cce(e,n),n.editorContainer&&(n.editorContainer.style.display=e.orgDisplay,e.hidden=x9.isHidden(n.editorContainer)),e.getElement().style.display="none",x9.setAttrib(e.id,"aria-hidden","true"),e.getElement().style.visibility=e.orgVisibility,uce(e)},oG=br.DOM,fce=(e,n,o)=>{const a=l1.get(o),c=l1.urls[o]||e.documentBaseUrl.replace(/\/$/,"");if(o=dn.trim(o),a&&dn.inArray(n,o)===-1){if(e.plugins[o])return;try{const g=a(e,c)||{};e.plugins[o]=g,Ne(g.init)&&(g.init(e,c),n.push(o))}catch(g){wz(e,o,g)}}},mce=e=>e.replace(/^\-/,""),gce=e=>{const n=[];xe(Cm(e),o=>{fce(e,n,mce(o))})},hce=e=>{const n=dn.trim(mT(e)),o=e.ui.registry.getAll().icons,a={...rC.get("default").icons,...rC.get(n).icons};qo(a,(c,g)=>{So(o,g)||e.ui.registry.addIcon(g,c)})},pce=e=>{const n=Dy(e);if(he(n)){const o=gv.get(n);e.theme=o(e,gv.urls[n])||{},Ne(e.theme.init)&&e.theme.init(e,gv.urls[n]||e.documentBaseUrl.replace(/\/$/,""))}else e.theme={}},bce=e=>{const n=Fw(e),o=mv.get(n);e.model=o(e,mv.urls[n])},vce=e=>{const n=e.theme.renderUI;return n?n():rG(e)},yce=e=>{const n=e.getElement(),a=Dy(e)(e,n);return a.editorContainer.nodeType&&(a.editorContainer.id=a.editorContainer.id||e.id+"_parent"),a.iframeContainer&&a.iframeContainer.nodeType&&(a.iframeContainer.id=a.iframeContainer.id||e.id+"_iframecontainer"),a.height=a.iframeHeight?a.iframeHeight:n.offsetHeight,a},sG=(e,n)=>({editorContainer:e,iframeContainer:n,api:{}}),xce=e=>{const n=oG.create("div");return oG.insertAfter(n,e),sG(n,n)},rG=e=>{const n=e.getElement();return e.inline?sG(null):xce(n)},wce=e=>{const n=e.getElement();return e.orgDisplay=n.style.display,he(Dy(e))?vce(e):Ne(Dy(e))?yce(e):rG(e)},Cce=(e,n)=>{const o={show:ee.from(n.show).getOr(it),hide:ee.from(n.hide).getOr(it),isEnabled:ee.from(n.isEnabled).getOr(Qt),setEnabled:a=>{e.mode.isReadOnly()||ee.from(n.setEnabled).each(c=>c(a))}};e.ui={...e.ui,...o}},Sce=async e=>{e.dispatch("ScriptsLoaded"),hce(e),pce(e),bce(e),gce(e);const n=await wce(e);Cce(e,ee.from(n.api).getOr({})),e.editorContainer=n.editorContainer,tL(e),e.inline?nG(e):dce(e,{editorContainer:n.editorContainer,iframeContainer:n.iframeContainer})},EC=br.DOM,iG=e=>e.charAt(0)==="-",_ce=(e,n)=>{const o=pT(n),a=S8(n);if(!Qu.hasCode(o)&&o!=="en"){const c=ut(a)?a:`${n.editorManager.baseURL}/langs/${o}.js`;e.add(c).catch(()=>{yz(n,c,o)})}},kce=(e,n)=>{const o=Dy(e);if(he(o)&&!iG(o)&&!So(gv.urls,o)){const a=E8(e),c=a?e.documentBaseURI.toAbsolute(a):`themes/${o}/theme${n}.js`;gv.load(o,c).catch(()=>{QM(e,c,o)})}},Ece=(e,n)=>{const o=Fw(e);if(o!=="plugin"&&!So(mv.urls,o)){const a=vT(e),c=he(a)?e.documentBaseURI.toAbsolute(a):`models/${o}/model${n}.js`;mv.load(o,c).catch(()=>{xz(e,c,o)})}},Tce=e=>ee.from(PI(e)).filter(ut).map(n=>({url:n,name:ee.none()})),aG=(e,n,o)=>ee.from(n).filter(a=>ut(a)&&!rC.has(a)).map(a=>({url:`${e.editorManager.baseURL}/icons/${a}/icons${o}.js`,name:ee.some(a)})),Ace=(e,n,o)=>{const a=aG(n,"default",o),c=Tce(n).orThunk(()=>aG(n,mT(n),""));xe(Hg([a,c]),g=>{e.add(g.url).catch(()=>{a4(n,g.url,g.name.getOrUndefined())})})},Oce=(e,n)=>{const o=(a,c)=>{l1.load(a,c).catch(()=>{i4(e,c,a)})};qo(ph(e),(a,c)=>{o(c,a),e.options.set("plugins",Cm(e).concat(c))}),xe(Cm(e),a=>{a=dn.trim(a),a&&!l1.urls[a]&&!iG(a)&&o(a,`plugins/${a}/plugin${n}.js`)})},Rce=e=>{const n=Dy(e);return!he(n)||Me(gv.get(n))},Ice=e=>{const n=Fw(e);return Me(mv.get(n))},Dce=(e,n)=>{const o=fc.ScriptLoader,a=()=>{!e.removed&&Rce(e)&&Ice(e)&&Sce(e)};kce(e,n),Ece(e,n),_ce(o,e),Ace(o,e,n),Oce(e,n),o.loadQueue().then(a,a)},Pce=(e,n)=>el.forElement(e,{contentCssCors:ZI(n),referrerPolicy:Bw(n)}),Nce=e=>{const n=e.id;Qu.setCode(pT(e));const o=()=>{EC.unbind(window,"ready",o),e.render()};if(!ng.Event.domLoaded){EC.bind(window,"ready",o);return}if(!e.getElement())return;const a=Ye.fromDom(e.getElement()),c=Za(a);e.on("remove",()=>{Ae(a.dom.attributes,p=>Yo(a,p.name)),ja(a,c)}),e.ui.styleSheetLoader=Pce(a,e),A0(e)?e.inline=!0:(e.orgVisibility=e.getElement().style.visibility,e.getElement().style.visibility="hidden");const g=e.getElement().form||EC.getParent(n,"form");g&&(e.formElement=g,yT(e)&&!qg(e.getElement())&&(EC.insertAfter(EC.create("input",{type:"hidden",name:n}),n),e.hasHiddenInput=!0),e.formEventDelegate=p=>{e.dispatch(p.type,p)},EC.bind(g,"submit reset",e.formEventDelegate),e.on("reset",()=>{e.resetContent()}),HI(e)&&!g.submit.nodeType&&!g.submit.length&&!g._mceOldSubmit&&(g._mceOldSubmit=g.submit,g.submit=()=>(e.editorManager.triggerSave(),e.setDirty(!1),g._mceOldSubmit(g)))),e.windowManager=XM(e),e.notificationManager=r4(e),eD(e)&&e.on("GetContent",p=>{p.save&&(p.content=EC.encode(p.content))}),UI(e)&&e.on("submit",()=>{e.initialized&&e.save()}),WI(e)&&(e._beforeUnload=()=>{e.initialized&&!e.destroyed&&!e.isHidden()&&e.save({format:"raw",no_events:!0,set_dirty:!1})},e.editorManager.on("BeforeUnload",e._beforeUnload)),e.editorManager.add(e),Dce(e,e.suffix)},Mce=(e,n)=>{e._editableRoot!==n&&(e._editableRoot=n,e.readonly||(e.getBody().contentEditable=String(e.hasEditableRoot()),e.nodeChanged()),f7(e,n))},Lce=e=>e._editableRoot,Bce=(e,n)=>({sections:mt(e),options:mt(n)}),lG=ua().deviceType,cG=lG.isPhone(),Fce=lG.isTablet(),uR=e=>{if(dt(e))return[];{const n=oe(e)?e:e.split(/[ ,]/),o=Ke(n,Ze);return Je(o,ut)}},$ce=(e,n)=>{const o=Ic(n,(a,c)=>Se(e,c));return Bce(o.t,o.f)},Vce=(e,n,o={})=>{const a=e.sections(),c=Zs(a,n).getOr({});return dn.extend({},o,c)},w9=(e,n)=>So(e.sections(),n),zce=(e,n)=>w9(e,n)?e.sections()[n]:{},Hce=(e,n)=>({...{table_grid:!1,object_resizing:!1,resize:!1,toolbar_mode:Zs(e,"toolbar_mode").getOr("scrolling"),toolbar_sticky:!1},...n?{menubar:!1}:{}}),Uce=(e,n)=>{var o;const a=(o=n.external_plugins)!==null&&o!==void 0?o:{};return e&&e.external_plugins?dn.extend({},e.external_plugins,a):a},Wce=(e,n)=>[...uR(e),...uR(n)],Kce=(e,n,o,a)=>e&&w9(n,"mobile")?a:o,jce=(e,n,o,a)=>{const c=uR(o.forced_plugins),g=uR(a.plugins),p=zce(n,"mobile"),S=p.plugins?uR(p.plugins):g,T=Kce(e,n,g,S),V=Wce(c,T);return dn.extend(a,{forced_plugins:c,plugins:V})},Zce=(e,n)=>e&&w9(n,"mobile"),Gce=(e,n,o,a,c)=>{var g;const p=e?{mobile:Hce((g=c.mobile)!==null&&g!==void 0?g:{},n)}:{},S=$ce(["mobile"],HB(p,c)),T=dn.extend(o,a,S.options(),Zce(e,S)?Vce(S,"mobile"):{},{external_plugins:Uce(a,S.options())});return jce(e,S,a,T)},qce=(e,n)=>{const o=sj(n);return Gce(cG||Fce,cG,o,e,o)},Yce=(e,n)=>SM(e,n),Xce=e=>{const n=(a,c)=>{e.formatter.toggle(a,c),e.nodeChanged()},o=a=>()=>{xe("left,center,right,justify".split(","),c=>{a!==c&&e.formatter.remove("align"+c)}),a!=="none"&&n("align"+a)};e.editorCommands.addCommands({JustifyLeft:o("left"),JustifyCenter:o("center"),JustifyRight:o("right"),JustifyFull:o("justify"),JustifyNone:o("none")})},Jce=e=>{const n=o=>()=>{const a=e.selection,c=a.isCollapsed()?[e.dom.getParent(a.getNode(),e.dom.isBlock)]:a.getSelectedBlocks();return Pe(c,g=>Me(e.formatter.matchNode(g,o)))};e.editorCommands.addCommands({JustifyLeft:n("alignleft"),JustifyCenter:n("aligncenter"),JustifyRight:n("alignright"),JustifyFull:n("alignjustify")},"state")},Qce=e=>{Xce(e),Jce(e)},eue=e=>{e.editorCommands.addCommands({"Cut,Copy,Paste":n=>{const o=e.getDoc();let a;try{o.execCommand(n)}catch{a=!0}if(n==="paste"&&!o.queryCommandEnabled(n)&&(a=!0),a||!o.queryCommandSupported(n)){let c=e.translate("Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.");(os.os.isMacOS()||os.os.isiOS())&&(c=c.replace(/Ctrl\+/g,"+")),e.notificationManager.open({text:c,type:"error"})}}})},tue=(e,n,o,a)=>{const c=Ye.fromDom(e.getRoot());return Qy(c,Dt.fromRangeStart(n),a)?o=o.replace(/^ /,"&nbsp;"):o=o.replace(/^&nbsp;/," "),X0(c,Dt.fromRangeEnd(n),a)?o=o.replace(/(&nbsp;| )(<br( \/)>)?$/,"&nbsp;"):o=o.replace(/&nbsp;(<br( \/)?>)?$/," "),o},nue=e=>{if(typeof e!="string"){const n=dn.extend({paste:e.paste,data:{paste:e.paste}},e);return{content:e.content,details:n}}return{content:e,details:{}}},oue=(e,n)=>{const o=e.selection,a=e.dom;return/^ | $/.test(n)?tue(a,o.getRng(),n,e.schema):n},d6=(e,n)=>{if(e.selection.isEditable()){const{content:o,details:a}=nue(n);_O(e,{...a,content:oue(e,o),format:"html",set:!1,selection:!0}).each(c=>{const g=XV(e,c.content,a);kO(e,g,c),e.addVisual()})}},sue=e=>{e.editorCommands.addCommands({mceCleanup:()=>{const n=e.selection.getBookmark();e.setContent(e.getContent()),e.selection.moveToBookmark(n)},insertImage:(n,o,a)=>{d6(e,e.dom.createHTML("img",{src:a}))},insertHorizontalRule:()=>{e.execCommand("mceInsertContent",!1,"<hr>")},insertText:(n,o,a)=>{d6(e,e.dom.encode(a))},insertHTML:(n,o,a)=>{d6(e,a)},mceInsertContent:(n,o,a)=>{d6(e,a)},mceSetContent:(n,o,a)=>{e.setContent(a)},mceReplaceContent:(n,o,a)=>{e.execCommand("mceInsertContent",!1,a.replace(/\{\$selection\}/g,e.selection.getContent({format:"text"})))},mceNewDocument:()=>{e.setContent(Ls(e))}})},rue={"font-size":"size","font-family":"face"},iue=tf("font"),aue=(e,n,o)=>{const a=g=>Zr(g,e).orThunk(()=>iue(g)?Zs(rue,e).bind(p=>hi(g,p)):ee.none()),c=g=>us(Ye.fromDom(n),g);return z2(Ye.fromDom(o),g=>a(g),c)},lue=e=>e.replace(/[\'\"\\]/g,"").replace(/,\s+/g,","),cue=(e,n)=>ee.from(br.DOM.getStyle(n,e,!0)),uG=e=>(n,o)=>ee.from(o).map(Ye.fromDom).filter(Qr).bind(a=>aue(e,n,a.dom).or(cue(e,a.dom))).getOr(""),uue=uG("font-size"),due=Ft(lue,uG("font-family")),fue=e=>yo(e.getBody()).bind(n=>{const o=n.container();return ee.from(on(o)?o.parentNode:o)}),mue=e=>ee.from(e.selection.getRng()).bind(n=>{const o=e.getBody();return n.startContainer===o&&n.startOffset===0?ee.none():ee.from(e.selection.getStart(!0))}),gue=(e,n)=>mue(e).orThunk(at(fue,e)).map(Ye.fromDom).filter(Qr).bind(n),C9=(e,n)=>gue(e,Yt(ee.some,n)),dG=(e,n)=>{if(/^[0-9.]+$/.test(n)){const o=parseInt(n,10);if(o>=1&&o<=7){const a=CT(e),c=ST(e);return c.length>0?c[o-1]||n:a[o-1]||n}else return n}else return n},hue=e=>{const n=e.split(/\s*,\s*/);return Ke(n,o=>o.indexOf(" ")!==-1&&!(wr(o,'"')||wr(o,"'"))?`'${o}'`:o).join(",")},pue=(e,n)=>{const o=dG(e,n);e.formatter.toggle("fontname",{value:hue(o)}),e.nodeChanged()},bue=e=>C9(e,n=>due(e.getBody(),n.dom)).getOr(""),vue=(e,n)=>{e.formatter.toggle("fontsize",{value:dG(e,n)}),e.nodeChanged()},yue=e=>C9(e,n=>uue(e.getBody(),n.dom)).getOr(""),xue=e=>C9(e,n=>{const o=Ye.fromDom(e.getBody()),a=z2(n,g=>Zr(g,"line-height"),at(us,o)),c=()=>{const g=parseFloat($r(n,"line-height")),p=parseFloat($r(n,"font-size"));return String(g/p)};return a.getOrThunk(c)}).getOr(""),wue=(e,n)=>{e.formatter.toggle("lineheight",{value:String(n)}),e.nodeChanged()},Cue=e=>{const n=(o,a)=>{e.formatter.toggle(o,a),e.nodeChanged()};e.editorCommands.addCommands({"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":o=>{n(o)},"ForeColor,HiliteColor":(o,a,c)=>{n(o,{value:c})},BackColor:(o,a,c)=>{n("hilitecolor",{value:c})},FontName:(o,a,c)=>{pue(e,c)},FontSize:(o,a,c)=>{vue(e,c)},LineHeight:(o,a,c)=>{wue(e,c)},Lang:(o,a,c)=>{var g;n(o,{value:c.code,customValue:(g=c.customCode)!==null&&g!==void 0?g:null})},RemoveFormat:o=>{e.formatter.remove(o)},mceBlockQuote:()=>{n("blockquote")},FormatBlock:(o,a,c)=>{n(he(c)?c:"p")},mceToggleFormat:(o,a,c)=>{n(c)}})},Sue=e=>{const n=o=>e.formatter.match(o);e.editorCommands.addCommands({"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":o=>n(o),mceBlockQuote:()=>n("blockquote")},"state"),e.editorCommands.addQueryValueHandler("FontName",()=>bue(e)),e.editorCommands.addQueryValueHandler("FontSize",()=>yue(e)),e.editorCommands.addQueryValueHandler("LineHeight",()=>xue(e))},_ue=e=>{Cue(e),Sue(e)},kue=e=>{e.editorCommands.addCommands({mceAddUndoLevel:()=>{e.undoManager.add()},mceEndUndoLevel:()=>{e.undoManager.add()},Undo:()=>{e.undoManager.undo()},Redo:()=>{e.undoManager.redo()}})},Eue=e=>{e.editorCommands.addCommands({Indent:()=>{zt(e)},Outdent:()=>{Bt(e)}}),e.editorCommands.addCommands({Outdent:()=>ke(e)},"state")},Tue=e=>{const n=(o,a,c)=>{const g=he(c)?{href:c}:c,p=e.dom.getParent(e.selection.getNode(),"a");j(g)&&he(g.href)&&(g.href=g.href.replace(/ /g,"%20"),(!p||!g.href)&&e.formatter.remove("link"),g.href&&e.formatter.apply("link",g,p))};e.editorCommands.addCommands({unlink:()=>{if(e.selection.isEditable()){if(e.selection.isCollapsed()){const o=e.dom.getParent(e.selection.getStart(),"a");o&&e.dom.remove(o,!0);return}e.formatter.remove("link")}},mceInsertLink:n,createLink:n})},Aue=(e,n,o,a)=>{const c=e.dom,g=S=>c.isBlock(S)&&S.parentElement===o,p=g(n)?n:c.getParent(a,g,o);return ee.from(p).map(Ye.fromDom)},fG=(e,n)=>{const o=e.dom,a=e.selection.getRng(),c=n?e.selection.getStart():e.selection.getEnd(),g=n?a.startContainer:a.endContainer,p=rR(o,g);if(!p||!p.isContentEditable)return;const S=n?Dr:vt,T=Ql(e);Aue(e,c,p,g).each(V=>{const X=Rj(e,g,V.dom,p,!1,T);S(V,Ye.fromDom(X)),e.selection.setCursorLocation(X,0),e.dispatch("NewBlock",{newBlock:X}),sR(e,"insertParagraph")})},Oue=e=>fG(e,!0),Rue=e=>fG(e,!1),Iue=e=>{e.editorCommands.addCommands({InsertNewBlockBefore:()=>{Oue(e)},InsertNewBlockAfter:()=>{Rue(e)}})},Due=e=>{e.editorCommands.addCommands({insertParagraph:()=>{JB(Nj,e)},mceInsertNewLine:(n,o,a)=>{zj(e,a)},InsertLineBreak:(n,o,a)=>{JB(Bj,e)}})},Pue=e=>{e.editorCommands.addCommands({mceSelectNodeDepth:(n,o,a)=>{let c=0;e.dom.getParent(e.selection.getNode(),g=>Un(g)&&c++===a?(e.selection.select(g),!1):!0,e.getBody())},mceSelectNode:(n,o,a)=>{e.selection.select(a)},selectAll:()=>{const n=e.dom.getParent(e.selection.getStart(),jc);if(n){const o=e.dom.createRng();o.selectNodeContents(n),e.selection.setRng(o)}}})},Nue=e=>{e.editorCommands.addCommands({mceRemoveNode:(n,o,a)=>{const c=a??e.selection.getNode();if(c!==e.getBody()){const g=e.selection.getBookmark();e.dom.remove(c,!0),e.selection.moveToBookmark(g)}},mcePrint:()=>{e.getWin().print()},mceFocus:(n,o,a)=>{NP(e,a===!0)},mceToggleVisualAid:()=>{e.hasVisual=!e.hasVisual,e.addVisual()}})},Mue=e=>{Qce(e),eue(e),kue(e),Pue(e),sue(e),Tue(e),Eue(e),Iue(e),Due(e),_ue(e),Nue(e)},Lue=["toggleview"],mG=e=>Se(Lue,e.toLowerCase());class gG{constructor(n){this.commands={state:{},exec:{},value:{}},this.editor=n}execCommand(n,o=!1,a,c){const g=this.editor,p=n.toLowerCase(),S=c==null?void 0:c.skip_focus;if(g.removed||(p!=="mcefocus"&&(!/^(mceAddUndoLevel|mceEndUndoLevel)$/i.test(p)&&!S?g.focus():i_(g)),g.dispatch("BeforeExecCommand",{command:n,ui:o,value:a}).isDefaultPrevented()))return!1;const V=this.commands.exec[p];return Ne(V)?(V(p,o,a),g.dispatch("ExecCommand",{command:n,ui:o,value:a}),!0):!1}queryCommandState(n){if(!mG(n)&&this.editor.quirks.isHidden()||this.editor.removed)return!1;const o=n.toLowerCase(),a=this.commands.state[o];return Ne(a)?a(o):!1}queryCommandValue(n){if(!mG(n)&&this.editor.quirks.isHidden()||this.editor.removed)return"";const o=n.toLowerCase(),a=this.commands.value[o];return Ne(a)?a(o):""}addCommands(n,o="exec"){const a=this.commands;qo(n,(c,g)=>{xe(g.toLowerCase().split(","),p=>{a[o][p]=c})})}addCommand(n,o,a){const c=n.toLowerCase();this.commands.exec[c]=(g,p,S)=>o.call(a??this.editor,p,S)}queryCommandSupported(n){const o=n.toLowerCase();return!!this.commands.exec[o]}addQueryStateHandler(n,o,a){this.commands.state[n.toLowerCase()]=()=>o.call(a??this.editor)}addQueryValueHandler(n,o,a){this.commands.value[n.toLowerCase()]=()=>o.call(a??this.editor)}}const TC="data-mce-contenteditable",Bue=(e,n,o)=>{Fu(e,n)&&!o?Da(e,n):o&&uu(e,n)},S9=(e,n,o)=>{try{e.getDoc().execCommand(n,!1,String(o))}catch{}},f6=(e,n)=>{e.dom.contentEditable=n?"true":"false"},Fue=e=>{xe(bi(e,'*[contenteditable="true"]'),n=>{Ei(n,TC,"true"),f6(n,!1)})},$ue=e=>{xe(bi(e,`*[${TC}="true"]`),n=>{Yo(n,TC),f6(n,!0)})},Vue=e=>{ee.from(e.selection.getNode()).each(n=>{n.removeAttribute("data-mce-selected")})},zue=e=>{e.selection.setRng(e.selection.getRng())},Hue=(e,n)=>{const o=Ye.fromDom(e.getBody());Bue(o,"mce-content-readonly",n),n?(e.selection.controlSelection.hideResizeRect(),e._selectionOverrides.hideFakeCaret(),Vue(e),e.readonly=!0,f6(o,!1),Fue(o)):(e.readonly=!1,e.hasEditableRoot()&&f6(o,!0),$ue(o),S9(e,"StyleWithCSS",!1),S9(e,"enableInlineTableEditing",!1),S9(e,"enableObjectResizing",!1),K0(e)&&e.focus(),zue(e),e.nodeChanged())},AC=e=>e.readonly,hG=e=>{e.parser.addAttributeFilter("contenteditable",n=>{AC(e)&&xe(n,o=>{o.attr(TC,o.attr("contenteditable")),o.attr("contenteditable","false")})}),e.serializer.addAttributeFilter(TC,n=>{AC(e)&&xe(n,o=>{o.attr("contenteditable",o.attr(TC))})}),e.serializer.addTempAttr(TC)},Uue=e=>{e.serializer?hG(e):e.on("PreInit",()=>{hG(e)})},Wue=e=>e.type==="click",Kue=["copy"],jue=e=>Se(Kue,e.type),Zue=(e,n)=>Bi(n,"a",a=>us(a,Ye.fromDom(e.getBody()))).bind(a=>hi(a,"href")),Gue=(e,n)=>{if(Wue(n)&&!On.metaKeyPressed(n)){const o=Ye.fromDom(n.target);Zue(e,o).each(a=>{if(n.preventDefault(),/^#/.test(a)){const c=e.dom.select(`${a},[name="${Oa(a,"#")}"]`);c.length&&e.selection.scrollIntoView(c[0],!0)}else window.open(a,"_blank","rel=noopener noreferrer,menubar=yes,toolbar=yes,location=yes,status=yes,resizable=yes,scrollbars=yes")})}else jue(n)&&e.dispatch(n.type,n)},que=e=>{e.on("ShowCaret",n=>{AC(e)&&n.preventDefault()}),e.on("ObjectSelected",n=>{AC(e)&&n.preventDefault()})},Yue=dn.makeMap("focus blur focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange mouseout mouseenter mouseleave wheel keydown keypress keyup input beforeinput contextmenu dragstart dragend dragover draggesture dragdrop drop drag submit compositionstart compositionend compositionupdate touchstart touchmove touchend touchcancel"," ");class _9{static isNative(n){return!!Yue[n.toLowerCase()]}constructor(n){this.bindings={},this.settings=n||{},this.scope=this.settings.scope||this,this.toggleEvent=this.settings.toggleEvent||Bn}fire(n,o){return this.dispatch(n,o)}dispatch(n,o){const a=n.toLowerCase(),c=iy(a,o??{},this.scope);this.settings.beforeFire&&this.settings.beforeFire(c);const g=this.bindings[a];if(g)for(let p=0,S=g.length;p<S;p++){const T=g[p];if(!T.removed){if(T.once&&this.off(a,T.func),c.isImmediatePropagationStopped())return c;if(T.func.call(this.scope,c)===!1)return c.preventDefault(),c}}return c}on(n,o,a,c){if(o===!1&&(o=Bn),o){const g={func:o,removed:!1};c&&dn.extend(g,c);const p=n.toLowerCase().split(" ");let S=p.length;for(;S--;){const T=p[S];let V=this.bindings[T];V||(V=[],this.toggleEvent(T,!0)),a?V=[g,...V]:V=[...V,g],this.bindings[T]=V}}return this}off(n,o){if(n){const a=n.toLowerCase().split(" ");let c=a.length;for(;c--;){const g=a[c];let p=this.bindings[g];if(!g)return qo(this.bindings,(S,T)=>{this.toggleEvent(T,!1),delete this.bindings[T]}),this;if(p){if(!o)p.length=0;else{const S=Fe(p,T=>T.func===o);p=S.fail,this.bindings[g]=p,xe(S.pass,T=>{T.removed=!0})}p.length||(this.toggleEvent(n,!1),delete this.bindings[g])}}}else qo(this.bindings,(a,c)=>{this.toggleEvent(c,!1)}),this.bindings={};return this}once(n,o,a){return this.on(n,o,a,{once:!0})}has(n){n=n.toLowerCase();const o=this.bindings[n];return!(!o||o.length===0)}}const dR=e=>(e._eventDispatcher||(e._eventDispatcher=new _9({scope:e,toggleEvent:(n,o)=>{_9.isNative(n)&&e.toggleNativeEvent&&e.toggleNativeEvent(n,o)}})),e._eventDispatcher),k9={fire(e,n,o){return this.dispatch(e,n,o)},dispatch(e,n,o){const a=this;if(a.removed&&e!=="remove"&&e!=="detach")return iy(e.toLowerCase(),n??{},a);const c=dR(a).dispatch(e,n);if(o!==!1&&a.parent){let g=a.parent();for(;g&&!c.isPropagationStopped();)g.dispatch(e,c,!1),g=g.parent?g.parent():void 0}return c},on(e,n,o){return dR(this).on(e,n,o)},off(e,n){return dR(this).off(e,n)},once(e,n){return dR(this).once(e,n)},hasEventListeners(e){return dR(this).has(e)}},m6=br.DOM;let OC;const g6=(e,n)=>{if(n==="selectionchange")return e.getDoc();if(!e.inline&&/^(?:mouse|touch|click|contextmenu|drop|dragover|dragend)/.test(n))return e.getDoc().documentElement;const o=VI(e);return o?(e.eventRoot||(e.eventRoot=m6.select(o)[0]),e.eventRoot):e.getBody()},Xue=e=>!e.hidden&&!AC(e),pG=(e,n,o)=>{Xue(e)?e.dispatch(n,o):AC(e)&&Gue(e,o)},bG=(e,n)=>{if(e.delegates||(e.delegates={}),e.delegates[n]||e.removed)return;const o=g6(e,n);if(VI(e)){if(OC||(OC={},e.editorManager.on("removeEditor",()=>{e.editorManager.activeEditor||OC&&(qo(OC,(c,g)=>{e.dom.unbind(g6(e,g))}),OC=null)})),OC[n])return;const a=c=>{const g=c.target,p=e.editorManager.get();let S=p.length;for(;S--;){const T=p[S].getBody();(T===g||m6.isChildOf(g,T))&&pG(p[S],n,c)}};OC[n]=a,m6.bind(o,n,a)}else{const a=c=>{pG(e,n,c)};m6.bind(o,n,a),e.delegates[n]=a}},vG={...k9,bindPendingEventDelegates(){const e=this;dn.each(e._pendingNativeEvents,n=>{bG(e,n)})},toggleNativeEvent(e,n){const o=this;e==="focus"||e==="blur"||o.removed||(n?o.initialized?bG(o,e):o._pendingNativeEvents?o._pendingNativeEvents.push(e):o._pendingNativeEvents=[e]:o.initialized&&o.delegates&&(o.dom.unbind(g6(o,e),e,o.delegates[e]),delete o.delegates[e]))},unbindAllNativeEvents(){const e=this,n=e.getBody(),o=e.dom;e.delegates&&(qo(e.delegates,(a,c)=>{e.dom.unbind(g6(e,c),c,a)}),delete e.delegates),!e.inline&&n&&o&&(n.onload=null,o.unbind(e.getWin()),o.unbind(e.getDoc())),o&&(o.unbind(n),o.unbind(e.getContainer()))}},Jue=e=>he(e)?{value:e.split(/[ ,]/),valid:!0}:st(e,he)?{value:e,valid:!0}:{valid:!1,message:"The value must be a string[] or a comma/space separated string."},Que=e=>{const n=(()=>{switch(e){case"array":return oe;case"boolean":return Ue;case"function":return Ne;case"number":return I;case"object":return j;case"string":return he;case"string[]":return Jue;case"object[]":return o=>st(o,j);case"regexp":return o=>ge(o,RegExp);default:return Qt}})();return o=>E9(o,n,`The value must be a ${e}.`)},ede=e=>he(e.processor),yG=(e,n)=>{const o=rn(n.message)?"":`. ${n.message}`;return e+o},xG=e=>e.valid,E9=(e,n,o="")=>{const a=n(e);return Ue(a)?a?{value:e,valid:!0}:{valid:!1,message:o}:a},tde=(e,n,o)=>{if(!et(n)){const a=E9(n,o);if(xG(a))return a.value;console.error(yG(`Invalid default value passed for the "${e}" option`,a))}},nde=(e,n,o=n)=>{const a={},c={},g=(we,De,_e)=>{const $e=E9(De,_e);return xG($e)?(c[we]=$e.value,!0):(console.warn(yG(`Invalid value passed for the ${we} option`,$e)),!1)},p=(we,De)=>{const _e=ede(De)?Que(De.processor):De.processor,$e=tde(we,De.default,_e);a[we]={...De,default:$e,processor:_e},Zs(c,we).orThunk(()=>Zs(n,we)).each(ft=>g(we,ft,_e))},S=we=>So(a,we);return{register:p,isRegistered:S,get:we=>Zs(c,we).orThunk(()=>Zs(a,we).map(De=>De.default)).getOrUndefined(),set:(we,De)=>{if(S(we)){const _e=a[we];return _e.immutable?(console.error(`"${we}" is an immutable option and cannot be updated`),!1):g(we,De,_e.processor)}else return console.warn(`"${we}" is not a registered option. Ensure the option has been registered before setting a value.`),!1},unset:we=>{const De=S(we);return De&&delete c[we],De},isSet:we=>So(c,we),debug:()=>{try{console.log(JSON.parse(JSON.stringify(o,(we,De)=>Ue(De)||I(De)||he(De)||Ce(De)||oe(De)||me(De)?De:Object.prototype.toString.call(De))))}catch(we){console.error(we)}}}},ode=["design","readonly"],wG=(e,n,o,a)=>{const c=o[n.get()],g=o[a];try{g.activate()}catch(p){console.error(`problem while activating editor mode ${a}:`,p);return}c.deactivate(),c.editorReadOnly!==g.editorReadOnly&&Hue(e,g.editorReadOnly),n.set(a),XD(e,a)},sde=(e,n,o,a)=>{if(a!==o.get()){if(!So(n,a))throw new Error(`Editor mode '${a}' is invalid`);e.initialized?wG(e,o,n,a):e.on("init",()=>wG(e,o,n,a))}},rde=(e,n,o)=>{if(Se(ode,n))throw new Error(`Cannot override default mode ${n}`);return{...e,[n]:{...o,deactivate:()=>{try{o.deactivate()}catch(a){console.error(`problem while deactivating editor mode ${n}:`,a)}}}}},ide=e=>{const n=Fi("design"),o=Fi({design:{activate:it,deactivate:it,editorReadOnly:!1},readonly:{activate:it,deactivate:it,editorReadOnly:!0}});return Uue(e),que(e),{isReadOnly:()=>AC(e),set:a=>sde(e,o.get(),n,a),get:()=>n.get(),register:(a,c)=>{o.set(rde(o.get(),a,c))}}},T9=dn.each,A9=dn.explode,ade={f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123},CG=dn.makeMap("alt,ctrl,shift,meta,access"),lde=e=>e in CG,cde=e=>{const n={},o=os.os.isMacOS()||os.os.isiOS();T9(A9(e.toLowerCase(),"+"),g=>{lde(g)?n[g]=!0:/^[0-9]{2,}$/.test(g)?n.keyCode=parseInt(g,10):(n.charCode=g.charCodeAt(0),n.keyCode=ade[g]||g.toUpperCase().charCodeAt(0))});const a=[n.keyCode];let c;for(c in CG)n[c]?a.push(c):n[c]=!1;return n.id=a.join(","),n.access&&(n.alt=!0,o?n.ctrl=!0:n.shift=!0),n.meta&&(o?n.meta=!0:(n.ctrl=!0,n.meta=!1)),n};class SG{constructor(n){this.shortcuts={},this.pendingPatterns=[],this.editor=n;const o=this;n.on("keyup keypress keydown",a=>{(o.hasModifier(a)||o.isFunctionKey(a))&&!a.isDefaultPrevented()&&(T9(o.shortcuts,c=>{o.matchShortcut(a,c)&&(o.pendingPatterns=c.subpatterns.slice(0),a.type==="keydown"&&o.executeShortcutAction(c))}),o.matchShortcut(a,o.pendingPatterns[0])&&(o.pendingPatterns.length===1&&a.type==="keydown"&&o.executeShortcutAction(o.pendingPatterns[0]),o.pendingPatterns.shift()))})}add(n,o,a,c){const g=this,p=g.normalizeCommandFunc(a);return T9(A9(dn.trim(n)),S=>{const T=g.createShortcut(S,o,p,c);g.shortcuts[T.id]=T}),!0}remove(n){const o=this.createShortcut(n);return this.shortcuts[o.id]?(delete this.shortcuts[o.id],!0):!1}normalizeCommandFunc(n){const o=this,a=n;return typeof a=="string"?()=>{o.editor.execCommand(a,!1,null)}:dn.isArray(a)?()=>{o.editor.execCommand(a[0],a[1],a[2])}:a}createShortcut(n,o,a,c){const g=dn.map(A9(n,">"),cde);return g[g.length-1]=dn.extend(g[g.length-1],{func:a,scope:c||this.editor}),dn.extend(g[0],{desc:this.editor.translate(o),subpatterns:g.slice(1)})}hasModifier(n){return n.altKey||n.ctrlKey||n.metaKey}isFunctionKey(n){return n.type==="keydown"&&n.keyCode>=112&&n.keyCode<=123}matchShortcut(n,o){return!o||o.ctrl!==n.ctrlKey||o.meta!==n.metaKey||o.alt!==n.altKey||o.shift!==n.shiftKey?!1:n.keyCode===o.keyCode||n.charCode&&n.charCode===o.charCode?(n.preventDefault(),!0):!1}executeShortcutAction(n){return n.func?n.func.call(n.scope):null}}const ude=()=>{const e={},n={},o={},a={},c={},g={},p={},S={},T=(X,Q)=>(ae,we)=>{X[ae.toLowerCase()]={...we,type:Q}},V=(X,Q)=>a[X.toLowerCase()]=Q;return{addButton:T(e,"button"),addGroupToolbarButton:T(e,"grouptoolbarbutton"),addToggleButton:T(e,"togglebutton"),addMenuButton:T(e,"menubutton"),addSplitButton:T(e,"splitbutton"),addMenuItem:T(n,"menuitem"),addNestedMenuItem:T(n,"nestedmenuitem"),addToggleMenuItem:T(n,"togglemenuitem"),addAutocompleter:T(o,"autocompleter"),addContextMenu:T(c,"contextmenu"),addContextToolbar:T(g,"contexttoolbar"),addContextForm:T(g,"contextform"),addSidebar:T(p,"sidebar"),addView:T(S,"views"),addIcon:V,getAll:()=>({buttons:e,menuItems:n,icons:a,popups:o,contextMenus:c,contextToolbars:g,sidebars:p,views:S})}},dde=()=>{const e=ude();return{addAutocompleter:e.addAutocompleter,addButton:e.addButton,addContextForm:e.addContextForm,addContextMenu:e.addContextMenu,addContextToolbar:e.addContextToolbar,addIcon:e.addIcon,addMenuButton:e.addMenuButton,addMenuItem:e.addMenuItem,addNestedMenuItem:e.addNestedMenuItem,addSidebar:e.addSidebar,addSplitButton:e.addSplitButton,addToggleButton:e.addToggleButton,addGroupToolbarButton:e.addGroupToolbarButton,addToggleMenuItem:e.addToggleMenuItem,addView:e.addView,getAll:e.getAll}},RC=br.DOM,_G=dn.extend,fde=dn.each;class h6{constructor(n,o,a){this.plugins={},this.contentCSS=[],this.contentStyles=[],this.loadedCSS={},this.isNotDirty=!1,this.composing=!1,this.destroyed=!1,this.hasHiddenInput=!1,this.iframeElement=null,this.initialized=!1,this.readonly=!1,this.removed=!1,this.startContent="",this._pendingNativeEvents=[],this._skinLoaded=!1,this._editableRoot=!0,this.editorManager=a,this.documentBaseUrl=a.documentBaseURL,_G(this,vG);const c=this;this.id=n,this.hidden=!1;const g=qce(a.defaultOptions,o);this.options=nde(c,g,o),xS(c);const p=this.options.get;p("deprecation_warnings")&&fz(o,g);const S=p("suffix");S&&(a.suffix=S),this.suffix=a.suffix;const T=p("base_url");T&&a._setBaseUrl(T),this.baseUri=a.baseURI;const V=Bw(c);V&&(fc.ScriptLoader._setReferrerPolicy(V),br.DOM.styleSheetLoader._setReferrerPolicy(V));const X=ZI(c);Me(X)&&br.DOM.styleSheetLoader._setContentCssCors(X),Xl.languageLoad=p("language_load"),Xl.baseURL=a.baseURL,this.setDirty(!1),this.documentBaseURI=new If(Td(c),{base_uri:this.baseUri}),this.baseURI=this.baseUri,this.inline=A0(c),this.hasVisual=od(c),this.shortcuts=new SG(this),this.editorCommands=new gG(this),Mue(this);const Q=p("cache_suffix");Q&&(os.cacheSuffix=Q.replace(/^[\?\&]+/,"")),this.ui={registry:dde(),styleSheetLoader:void 0,show:it,hide:it,setEnabled:it,isEnabled:Qt},this.mode=ide(c),a.dispatch("SetupEditor",{editor:this});const ae=My(c);Ne(ae)&&ae.call(c,c)}render(){Nce(this)}focus(n){this.execCommand("mceFocus",!1,n)}hasFocus(){return jy(this)}translate(n){return Qu.translate(n)}getParam(n,o,a){const c=this.options;return c.isRegistered(n)||(Me(a)?c.register(n,{processor:a,default:o}):c.register(n,{processor:Qt,default:o})),!c.isSet(n)&&!et(o)?o:c.get(n)}hasPlugin(n,o){return Se(Cm(this),n)?o?l1.get(n)!==void 0:!0:!1}nodeChanged(n){this._nodeChangeDispatcher.nodeChanged(n)}addCommand(n,o,a){this.editorCommands.addCommand(n,o,a)}addQueryStateHandler(n,o,a){this.editorCommands.addQueryStateHandler(n,o,a)}addQueryValueHandler(n,o,a){this.editorCommands.addQueryValueHandler(n,o,a)}addShortcut(n,o,a,c){this.shortcuts.add(n,o,a,c)}execCommand(n,o,a,c){return this.editorCommands.execCommand(n,o,a,c)}queryCommandState(n){return this.editorCommands.queryCommandState(n)}queryCommandValue(n){return this.editorCommands.queryCommandValue(n)}queryCommandSupported(n){return this.editorCommands.queryCommandSupported(n)}show(){const n=this;n.hidden&&(n.hidden=!1,n.inline?n.getBody().contentEditable="true":(RC.show(n.getContainer()),RC.hide(n.id)),n.load(),n.dispatch("show"))}hide(){const n=this;n.hidden||(n.save(),n.inline?(n.getBody().contentEditable="false",n===n.editorManager.focusedEditor&&(n.editorManager.focusedEditor=null)):(RC.hide(n.getContainer()),RC.setStyle(n.id,"display",n.orgDisplay)),n.hidden=!0,n.dispatch("hide"))}isHidden(){return this.hidden}setProgressState(n,o){this.dispatch("ProgressState",{state:n,time:o})}load(n={}){const o=this,a=o.getElement();if(o.removed)return"";if(a){const c={...n,load:!0},g=qg(a)?a.value:a.innerHTML,p=o.setContent(g,c);return c.no_events||o.dispatch("LoadContent",{...c,element:a}),p}else return""}save(n={}){const o=this;let a=o.getElement();if(!a||!o.initialized||o.removed)return"";const c={...n,save:!0,element:a};let g=o.getContent(c);const p={...c,content:g};if(p.no_events||o.dispatch("SaveContent",p),p.format==="raw"&&o.dispatch("RawSaveContent",p),g=p.content,qg(a))a.value=g;else{(n.is_removing||!o.inline)&&(a.innerHTML=g);const S=RC.getParent(o.id,"form");S&&fde(S.elements,T=>T.name===o.id?(T.value=g,!1):!0)}return p.element=c.element=a=null,p.set_dirty!==!1&&o.setDirty(!1),g}setContent(n,o){return JO(this,n,o)}getContent(n){return LM(this,n)}insertContent(n,o){o&&(n=_G({content:n},o)),this.execCommand("mceInsertContent",!1,n)}resetContent(n){n===void 0?JO(this,this.startContent,{format:"raw"}):JO(this,n),this.undoManager.reset(),this.setDirty(!1),this.nodeChanged()}isDirty(){return!this.isNotDirty}setDirty(n){const o=!this.isNotDirty;this.isNotDirty=!n,n&&n!==o&&this.dispatch("dirty")}getContainer(){const n=this;return n.container||(n.container=n.editorContainer||RC.get(n.id+"_parent")),n.container}getContentAreaContainer(){return this.contentAreaContainer}getElement(){return this.targetElm||(this.targetElm=RC.get(this.id)),this.targetElm}getWin(){const n=this;if(!n.contentWindow){const o=n.iframeElement;o&&(n.contentWindow=o.contentWindow)}return n.contentWindow}getDoc(){const n=this;if(!n.contentDocument){const o=n.getWin();o&&(n.contentDocument=o.document)}return n.contentDocument}getBody(){var n,o;const a=this.getDoc();return(o=(n=this.bodyElement)!==null&&n!==void 0?n:a==null?void 0:a.body)!==null&&o!==void 0?o:null}convertURL(n,o,a){const c=this,g=c.options.get,p=D8(c);if(Ne(p))return p.call(c,n,a,!0,o);if(!g("convert_urls")||a==="link"||j(a)&&a.nodeName==="LINK"||n.indexOf("file:")===0||n.length===0)return n;const S=new If(n);return S.protocol!=="http"&&S.protocol!=="https"&&S.protocol!==""?n:g("relative_urls")?c.documentBaseURI.toRelative(n):(n=c.documentBaseURI.toAbsolute(n,g("remove_script_host")),n)}addVisual(n){Yce(this,n)}setEditableRoot(n){Mce(this,n)}hasEditableRoot(){return Lce(this)}remove(){WM(this)}destroy(n){gz(this,n)}uploadImages(){return this.editorUpload.uploadImages()}_scanForImages(){return this.editorUpload.scanForImages()}}const qk=br.DOM,p6=dn.each;let kG=!1,b6,Md=[];const v6=e=>{const n=e.type;p6(Tx.get(),o=>{switch(n){case"scroll":o.dispatch("ScrollWindow",e);break;case"resize":o.dispatch("ResizeWindow",e);break}})},EG=e=>{if(e!==kG){const n=br.DOM;e?(n.bind(window,"resize",v6),n.bind(window,"scroll",v6)):(n.unbind(window,"resize",v6),n.unbind(window,"scroll",v6)),kG=e}},TG=e=>{const n=Md;return Md=Je(Md,o=>e!==o),Tx.activeEditor===e&&(Tx.activeEditor=Md.length>0?Md[0]:null),Tx.focusedEditor===e&&(Tx.focusedEditor=null),n.length!==Md.length},mde=e=>{e&&e.initialized&&!(e.getContainer()||e.getBody()).parentNode&&(TG(e),e.unbindAllNativeEvents(),e.destroy(!0),e.removed=!0)},gde=document.compatMode!=="CSS1Compat",Tx={...k9,baseURI:null,baseURL:null,defaultOptions:{},documentBaseURL:null,suffix:null,majorVersion:"7",minorVersion:"3.0",releaseDate:"2024-08-07",i18n:Qu,activeEditor:null,focusedEditor:null,setup(){const e=this;let n="",o="",a=If.getDocumentBaseUrl(document.location);/^[^:]+:\/\/\/?[^\/]+\//.test(a)&&(a=a.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(a)||(a+="/"));const c=window.tinymce||window.tinyMCEPreInit;if(c)n=c.base||c.baseURL,o=c.suffix;else{const g=document.getElementsByTagName("script");for(let p=0;p<g.length;p++){const S=g[p].src||"";if(S==="")continue;const T=S.substring(S.lastIndexOf("/"));if(/tinymce(\.full|\.jquery|)(\.min|\.dev|)\.js/.test(S)){T.indexOf(".min")!==-1&&(o=".min"),n=S.substring(0,S.lastIndexOf("/"));break}}if(!n&&document.currentScript){const p=document.currentScript.src;p.indexOf(".min")!==-1&&(o=".min"),n=p.substring(0,p.lastIndexOf("/"))}}e.baseURL=new If(a).toAbsolute(n),e.documentBaseURL=a,e.baseURI=new If(e.baseURL),e.suffix=o,M7(e)},overrideDefaults(e){const n=e.base_url;n&&this._setBaseUrl(n);const o=e.suffix;o&&(this.suffix=o),this.defaultOptions=e;const a=e.plugin_base_urls;a!==void 0&&qo(a,(c,g)=>{Xl.PluginManager.urls[g]=c})},init(e){const n=this;let o;const a=dn.makeMap("area base basefont br col frame hr img input isindex link meta param embed source wbr track colgroup option table tbody tfoot thead tr th td script noscript style textarea video audio iframe object menu"," "),c=(X,Q)=>X.inline&&Q.tagName.toLowerCase()in a,g=X=>{let Q=X.id;return Q||(Q=Zs(X,"name").filter(ae=>!qk.get(ae)).getOrThunk(qk.uniqueId),X.setAttribute("id",Q)),Q},p=X=>{const Q=e[X];if(Q)return Q.apply(n,[])},S=X=>os.browser.isIE()||os.browser.isEdge()?(aC("TinyMCE does not support the browser you are using. For a list of supported browsers please see: https://www.tiny.cloud/docs/tinymce/7/support/#supportedwebbrowsers"),[]):gde?(aC("Failed to initialize the editor as the document is not in standards mode. TinyMCE requires standards mode."),[]):he(X.selector)?qk.select(X.selector):Me(X.target)?[X.target]:[];let T=X=>{o=X};const V=()=>{let X=0;const Q=[];let ae;const we=(De,_e,$e)=>{const nt=new h6(De,_e,n);Q.push(nt),nt.on("init",()=>{++X===ae.length&&T(Q)}),nt.targetElm=nt.targetElm||$e,nt.render()};qk.unbind(window,"ready",V),p("onpageload"),ae=dl(S(e)),dn.each(ae,De=>{mde(n.get(De.id))}),ae=dn.grep(ae,De=>!n.get(De.id)),ae.length===0?T([]):p6(ae,De=>{c(e,De)?aC("Could not initialize inline editor on invalid inline target element",De):we(g(De),e,De)})};return qk.bind(window,"ready",V),new Promise(X=>{o?X(o):T=Q=>{X(Q)}})},get(e){return arguments.length===0?Md.slice(0):he(e)?An(Md,n=>n.id===e).getOr(null):I(e)&&Md[e]?Md[e]:null},add(e){const n=this,o=n.get(e.id);return o===e||(o===null&&Md.push(e),EG(!0),n.activeEditor=e,n.dispatch("AddEditor",{editor:e}),b6||(b6=a=>{const c=n.dispatch("BeforeUnload");if(c.returnValue)return a.preventDefault(),a.returnValue=c.returnValue,c.returnValue},window.addEventListener("beforeunload",b6))),e},createEditor(e,n){return this.add(new h6(e,n,this))},remove(e){const n=this;let o;if(!e){for(let a=Md.length-1;a>=0;a--)n.remove(Md[a]);return}if(he(e)){p6(qk.select(e),a=>{o=n.get(a.id),o&&n.remove(o)});return}return o=e,Ce(n.get(o.id))?null:(TG(o)&&n.dispatch("RemoveEditor",{editor:o}),Md.length===0&&window.removeEventListener("beforeunload",b6),o.remove(),EG(Md.length>0),o)},execCommand(e,n,o){var a;const c=this,g=j(o)?(a=o.id)!==null&&a!==void 0?a:o.index:o;switch(e){case"mceAddEditor":{if(!c.get(g)){const p=o.options;new h6(g,p,c).render()}return!0}case"mceRemoveEditor":{const p=c.get(g);return p&&p.remove(),!0}case"mceToggleEditor":{const p=c.get(g);return p?(p.isHidden()?p.show():p.hide(),!0):(c.execCommand("mceAddEditor",!1,o),!0)}}return c.activeEditor?c.activeEditor.execCommand(e,n,o):!1},triggerSave:()=>{p6(Md,e=>{e.save()})},addI18n:(e,n)=>{Qu.add(e,n)},translate:e=>Qu.translate(e),setActive(e){const n=this.activeEditor;this.activeEditor!==e&&(n&&n.dispatch("deactivate",{relatedTarget:e}),e.dispatch("activate",{relatedTarget:n})),this.activeEditor=e},_setBaseUrl(e){this.baseURL=new If(this.documentBaseURL).toAbsolute(e.replace(/\/+$/,"")),this.baseURI=new If(this.baseURL)}};Tx.setup();const hde=(()=>{const e=Ai(),n=g=>({items:g,types:tn(g),getType:p=>Zs(g,p).getOrUndefined()}),o=g=>{e.set(g)},a=()=>e.get().getOrUndefined(),c=e.clear;return{FakeClipboardItem:n,write:o,read:a,clear:c}})(),AG=Math.min,Yk=Math.max,y6=Math.round,OG=(e,n,o)=>{let a=n.x,c=n.y;const g=e.w,p=e.h,S=n.w,T=n.h,V=(o||"").split("");return V[0]==="b"&&(c+=T),V[1]==="r"&&(a+=S),V[0]==="c"&&(c+=y6(T/2)),V[1]==="c"&&(a+=y6(S/2)),V[3]==="b"&&(c-=p),V[4]==="r"&&(a-=g),V[3]==="c"&&(c-=y6(p/2)),V[4]==="c"&&(a-=y6(g/2)),Xk(a,c,g,p)},pde=(e,n,o,a)=>{for(let c=0;c<a.length;c++){const g=OG(e,n,a[c]);if(g.x>=o.x&&g.x+g.w<=o.w+o.x&&g.y>=o.y&&g.y+g.h<=o.h+o.y)return a[c]}return null},bde=(e,n,o)=>Xk(e.x-n,e.y-o,e.w+n*2,e.h+o*2),vde=(e,n)=>{const o=Yk(e.x,n.x),a=Yk(e.y,n.y),c=AG(e.x+e.w,n.x+n.w),g=AG(e.y+e.h,n.y+n.h);return c-o<0||g-a<0?null:Xk(o,a,c-o,g-a)},yde=(e,n,o)=>{let a=e.x,c=e.y,g=e.x+e.w,p=e.y+e.h;const S=n.x+n.w,T=n.y+n.h,V=Yk(0,n.x-a),X=Yk(0,n.y-c),Q=Yk(0,g-S),ae=Yk(0,p-T);return a+=V,c+=X,o&&(g+=V,p+=X,a-=Q,c-=ae),g-=Q,p-=ae,Xk(a,c,g-a,p-c)},Xk=(e,n,o,a)=>({x:e,y:n,w:o,h:a}),xde={inflate:bde,relativePosition:OG,findBestRelativePosition:pde,intersect:vde,clamp:yde,create:Xk,fromClientRect:e=>Xk(e.left,e.top,e.width,e.height)},wde=(e,n,o=1e3)=>{let a=!1,c=null;const g=V=>(...X)=>{a||(a=!0,c!==null&&(clearTimeout(c),c=null),V.apply(null,X))},p=g(e),S=g(n);return{start:(...V)=>{!a&&c===null&&(c=setTimeout(()=>S.apply(null,V),o))},resolve:p,reject:S}},Cde=(()=>{const e={},n={},o={};return{load:(T,V)=>{const X=`Script at URL "${V}" failed to load`,Q=`Script at URL "${V}" did not call \`tinymce.Resource.add('${T}', data)\` within 1 second`;if(e[T]!==void 0)return e[T];{const ae=new Promise((we,De)=>{const _e=wde(we,De);n[T]=_e.resolve,fc.ScriptLoader.loadScript(V).then(()=>_e.start(Q),()=>_e.reject(X))});return e[T]=ae,ae}},add:(T,V)=>{n[T]!==void 0&&(n[T](V),delete n[T]),e[T]=Promise.resolve(V),o[T]=V},has:T=>T in o,get:T=>o[T],unload:T=>{delete e[T],delete o[T]}}})(),Sde=()=>(()=>{let e={},n=[];const o={getItem:a=>{const c=e[a];return c||null},setItem:(a,c)=>{n.push(a),e[a]=String(c)},key:a=>n[a],removeItem:a=>{n=n.filter(c=>c===a),delete e[a]},clear:()=>{n=[],e={}},length:0};return Object.defineProperty(o,"length",{get:()=>n.length,configurable:!1,enumerable:!1}),o})();let fR;try{const e="__storage_test__";fR=window.localStorage,fR.setItem(e,e),fR.removeItem(e)}catch{fR=Sde()}var _de=fR;const kde={geom:{Rect:xde},util:{Delay:ad,Tools:dn,VK:On,URI:If,EventDispatcher:_9,Observable:k9,I18n:Qu,LocalStorage:_de,ImageUploader:Ez},dom:{EventUtils:ng,TreeWalker:Ma,TextSeeker:pm,DOMUtils:br,ScriptLoader:fc,RangeUtils:qb,Serializer:MM,StyleSheetLoader:ps,ControlSelection:ar,BookmarkManager:mr,Selection:YO,Event:ng.Event},html:{Styles:dw,Entities:pp,Node:Sl,Schema:Ju,DomParser:cx,Writer:kA,Serializer:zp},Env:os,AddOnManager:Xl,Annotator:YD,Formatter:uC,UndoManager:gL,EditorCommands:gG,WindowManager:XM,NotificationManager:r4,EditorObservable:vG,Shortcuts:SG,Editor:h6,FocusManager:kf,EditorManager:Tx,DOM:br.DOM,ScriptLoader:fc.ScriptLoader,PluginManager:l1,ThemeManager:gv,ModelManager:mv,IconManager:rC,Resource:Cde,FakeClipboard:hde,trim:dn.trim,isArray:dn.isArray,is:dn.is,toArray:dn.toArray,makeMap:dn.makeMap,each:dn.each,map:dn.map,grep:dn.grep,inArray:dn.inArray,extend:dn.extend,walk:dn.walk,resolve:dn.resolve,explode:dn.explode,_addCacheSuffix:dn._addCacheSuffix},RG=dn.extend(Tx,kde),Ede=e=>{try{t.exports=e}catch{}};(e=>{window.tinymce=e,window.tinyMCE=e})(RG),Ede(RG)})()}(EU)),EU.exports}var iSe=rSe();const aSe=iK(iSe);tinymce.IconManager.add("default",{icons:{"accessibility-check":'<svg width="24" height="24"><path d="M12 2a2 2 0 0 1 2 2 2 2 0 0 1-2 2 2 2 0 0 1-2-2c0-1.1.9-2 2-2Zm8 7h-5v12c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-5c0-.6-.4-1-1-1a1 1 0 0 0-1 1v5c0 .6-.4 1-1 1a1 1 0 0 1-1-1V9H4a1 1 0 1 1 0-2h16c.6 0 1 .4 1 1s-.4 1-1 1Z" fill-rule="nonzero"/></svg>',"accordion-toggle":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M12 15c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1h-6a1 1 0 0 1-1-1Z"/><path opacity=".2" fill-rule="evenodd" clip-rule="evenodd" d="M4 15c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1-1-1Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M12 19c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1h-6a1 1 0 0 1-1-1Z"/><path opacity=".2" fill-rule="evenodd" clip-rule="evenodd" d="M4 19c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1-1-1Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M12.3 7.3a1 1 0 0 1 1.4 0L16 9.6l2.3-2.3a1 1 0 1 1 1.4 1.4L16 12.4l-3.7-3.7a1 1 0 0 1 0-1.4ZM4.3 11.7a1 1 0 0 1 0-1.4L6.6 8 4.3 5.7a1 1 0 0 1 1.4-1.4L9.4 8l-3.7 3.7a1 1 0 0 1-1.4 0Z"/></svg>',accordion:'<svg width="24" height="24"><rect x="12" y="7" width="10" height="2" rx="1"/><rect x="12" y="11" width="10" height="2" rx="1"/><rect x="12" y="15" width="6" height="2" rx="1"/><path fill-rule="evenodd" clip-rule="evenodd" d="M2.3 7.3a1 1 0 0 1 1.4 0L6 9.6l2.3-2.3a1 1 0 0 1 1.4 1.4L6 12.4 2.3 8.7a1 1 0 0 1 0-1.4Z"/></svg>',"action-next":'<svg width="24" height="24"><path fill-rule="nonzero" d="M5.7 7.3a1 1 0 0 0-1.4 1.4l7.7 7.7 7.7-7.7a1 1 0 1 0-1.4-1.4L12 13.6 5.7 7.3Z"/></svg>',"action-prev":'<svg width="24" height="24"><path fill-rule="nonzero" d="M18.3 15.7a1 1 0 0 0 1.4-1.4L12 6.6l-7.7 7.7a1 1 0 0 0 1.4 1.4L12 9.4l6.3 6.3Z"/></svg>',addtag:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M15 5a2 2 0 0 1 1.6.8L21 12l-4.4 6.2a2 2 0 0 1-1.6.8h-3v-2h3l3.5-5L15 7H5v3H3V7c0-1.1.9-2 2-2h10Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M6 12a1 1 0 0 0-1 1v2H3a1 1 0 1 0 0 2h2v2a1 1 0 1 0 2 0v-2h2a1 1 0 1 0 0-2H7v-2c0-.6-.4-1-1-1Z"/></svg>',"ai-prompt":'<svg width="24" height="24"><g clip-path="url(#a)"><path fill-rule="evenodd" clip-rule="evenodd" d="M15 6.7a1 1 0 0 0-1.4 0l-9.9 10a1 1 0 0 0 0 1.3l2.1 2.1c.4.4 1 .4 1.4 0l10-9.9c.3-.3.3-1 0-1.4l-2.2-2Zm1.4 2.8-2-2-3 2.7 2.2 2.2 2.8-2.9Z"/><path d="m18.5 7.3-.7-1.5-1.5-.8 1.5-.7.7-1.5.7 1.5 1.5.7-1.5.8-.7 1.5ZM18.5 16.5l-.7-1.6-1.5-.7 1.5-.7.7-1.6.7 1.6 1.5.7-1.5.7-.7 1.6ZM9.7 7.3 9 5.8 7.5 5 9 4.3l.7-1.5.7 1.5L12 5l-1.5.8-.7 1.5Z"/></g><defs><clipPath id="a"><path d="M0 0h24v24H0z"/></clipPath></defs></svg>',ai:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M5 3a3 3 0 0 0-3 3v12a3 3 0 0 0 3 3h14a3 3 0 0 0 3-3V6a3 3 0 0 0-3-3H5Zm6.8 11.5.5 1.2a68.3 68.3 0 0 0 .7 1.1l.4.1c.3 0 .5 0 .7-.3.2-.1.3-.3.3-.6l-.3-1-2.6-6.2a20.4 20.4 0 0 0-.5-1.3l-.5-.4-.7-.2c-.2 0-.5 0-.6.2-.2 0-.4.2-.5.4l-.3.6-.3.7L5.7 15l-.2.6-.1.4c0 .3 0 .5.3.7l.6.2c.3 0 .5 0 .7-.2l.4-1 .5-1.2h3.9ZM9.8 9l1.5 4h-3l1.5-4Zm5.6-.9v7.6c0 .4 0 .7.2 1l.7.2c.3 0 .6 0 .8-.3l.2-.9V8.1c0-.4 0-.7-.2-.9a1 1 0 0 0-.8-.3c-.2 0-.5.1-.7.3l-.2 1Z"/></svg>',"align-center":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm3 4h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 1 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm-3-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"align-justify":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"align-left":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Zm0-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"align-none":'<svg width="24" height="24"><path d="M14.2 5 13 7H5a1 1 0 1 1 0-2h9.2Zm4 0h.8a1 1 0 0 1 0 2h-2l1.2-2Zm-6.4 4-1.2 2H5a1 1 0 0 1 0-2h6.8Zm4 0H19a1 1 0 0 1 0 2h-4.4l1.2-2Zm-6.4 4-1.2 2H5a1 1 0 0 1 0-2h4.4Zm4 0H19a1 1 0 0 1 0 2h-6.8l1.2-2ZM7 17l-1.2 2H5a1 1 0 0 1 0-2h2Zm4 0h8a1 1 0 0 1 0 2H9.8l1.2-2Zm5.2-13.5 1.3.7-9.7 16.3-1.3-.7 9.7-16.3Z" fill-rule="evenodd"/></svg>',"align-right":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm6 4h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm-6-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"arrow-left":'<svg width="24" height="24"><path d="m5.6 13 12 6a1 1 0 0 0 1.4-1V6a1 1 0 0 0-1.4-.9l-12 6a1 1 0 0 0 0 1.8Z" fill-rule="evenodd"/></svg>',"arrow-right":'<svg width="24" height="24"><path d="m18.5 13-12 6A1 1 0 0 1 5 18V6a1 1 0 0 1 1.4-.9l12 6a1 1 0 0 1 0 1.8Z" fill-rule="evenodd"/></svg>',bold:'<svg width="24" height="24"><path d="M7.8 19c-.3 0-.5 0-.6-.2l-.2-.5V5.7c0-.2 0-.4.2-.5l.6-.2h5c1.5 0 2.7.3 3.5 1 .7.6 1.1 1.4 1.1 2.5a3 3 0 0 1-.6 1.9c-.4.6-1 1-1.6 1.2.4.1.9.3 1.3.6s.8.7 1 1.2c.4.4.5 1 .5 1.6 0 1.3-.4 2.3-1.3 3-.8.7-2.1 1-3.8 1H7.8Zm5-8.3c.6 0 1.2-.1 1.6-.5.4-.3.6-.7.6-1.3 0-1.1-.8-1.7-2.3-1.7H9.3v3.5h3.4Zm.5 6c.7 0 1.3-.1 1.7-.4.4-.4.6-.9.6-1.5s-.2-1-.7-1.4c-.4-.3-1-.4-2-.4H9.4v3.8h4Z" fill-rule="evenodd"/></svg>',bookmark:'<svg width="24" height="24"><path d="M6 4v17l6-4 6 4V4c0-.6-.4-1-1-1H7a1 1 0 0 0-1 1Z" fill-rule="nonzero"/></svg>',"border-style":'<svg width="24" height="24"><g fill-rule="evenodd"><rect width="18" height="2" x="3" y="6" rx="1"/><rect width="2.8" height="2" x="3" y="16" rx="1"/><rect width="2.8" height="2" x="6.8" y="16" rx="1"/><rect width="2.8" height="2" x="10.6" y="16" rx="1"/><rect width="2.8" height="2" x="14.4" y="16" rx="1"/><rect width="2.8" height="2" x="18.2" y="16" rx="1"/><rect width="8" height="2" x="3" y="11" rx="1"/><rect width="8" height="2" x="13" y="11" rx="1"/></g></svg>',"border-width":'<svg width="24" height="24"><g fill-rule="evenodd"><rect width="18" height="5" x="3" y="5" rx="1"/><rect width="18" height="3.5" x="3" y="11.5" rx="1"/><rect width="18" height="2" x="3" y="17" rx="1"/></g></svg>',brightness:'<svg width="24" height="24"><path d="M12 17c.3 0 .5.1.7.3.2.2.3.4.3.7v1c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7v-1c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3Zm0-10a1 1 0 0 1-.7-.3A1 1 0 0 1 11 6V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7v1c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3Zm7 4c.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-1a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h1ZM7 12c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3H5a1 1 0 0 1-.7-.3A1 1 0 0 1 4 12c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h1c.3 0 .5.1.7.3.2.2.3.4.3.7Zm10 3.5.7.8c.2.1.3.4.3.6 0 .3-.1.6-.3.8a1 1 0 0 1-.8.3 1 1 0 0 1-.6-.3l-.8-.7a1 1 0 0 1-.3-.8c0-.2.1-.5.3-.7a1 1 0 0 1 1.4 0Zm-10-7-.7-.8a1 1 0 0 1-.3-.6c0-.3.1-.6.3-.8.2-.2.5-.3.8-.3.2 0 .5.1.7.3l.7.7c.2.2.3.5.3.8 0 .2-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.8-.3Zm10 0a1 1 0 0 1-.8.3 1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.3.1-.6.3-.8l.8-.7c.1-.2.4-.3.6-.3.3 0 .6.1.8.3.2.2.3.5.3.8 0 .2-.1.5-.3.7l-.7.7Zm-10 7c.2-.2.5-.3.8-.3.2 0 .5.1.7.3a1 1 0 0 1 0 1.4l-.8.8a1 1 0 0 1-.6.3 1 1 0 0 1-.8-.3 1 1 0 0 1-.3-.8c0-.2.1-.5.3-.6l.7-.8ZM12 8a4 4 0 0 1 3.7 2.4 4 4 0 0 1 0 3.2A4 4 0 0 1 12 16a4 4 0 0 1-3.7-2.4 4 4 0 0 1 0-3.2A4 4 0 0 1 12 8Zm0 6.5c.7 0 1.3-.2 1.8-.7.5-.5.7-1.1.7-1.8s-.2-1.3-.7-1.8c-.5-.5-1.1-.7-1.8-.7s-1.3.2-1.8.7c-.5.5-.7 1.1-.7 1.8s.2 1.3.7 1.8c.5.5 1.1.7 1.8.7Z" fill-rule="evenodd"/></svg>',browse:'<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2h-4v-2h4V8H5v10h4v2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9.4-2.3 2.3a1 1 0 1 1-1.4-1.4l4-4a1 1 0 0 1 1.4 0l4 4a1 1 0 0 1-1.4 1.4L13 13.4V20a1 1 0 0 1-2 0v-6.6Z" fill-rule="nonzero"/></svg>',cancel:'<svg width="24" height="24"><path d="M12 4.6a7.4 7.4 0 1 1 0 14.8 7.4 7.4 0 0 1 0-14.8ZM12 3a9 9 0 1 0 0 18 9 9 0 0 0 0-18Zm0 8L14.8 8l1 1.1-2.7 2.8 2.7 2.7-1.1 1.1-2.7-2.7-2.7 2.7-1-1.1 2.6-2.7-2.7-2.7 1-1.1 2.8 2.7Z" fill-rule="nonzero"/></svg>',"cell-background-color":'<svg width="24" height="24"><path d="m15.7 2 1.6 1.6-2.7 2.6 5.9 5.8c.7.7.7 1.7 0 2.4l-6.3 6.1a1.7 1.7 0 0 1-2.4 0l-6.3-6.1c-.7-.7-.7-1.7 0-2.4L15.7 2ZM18 12l-4.5-4L9 12h9ZM4 16s2 2.4 2 3.8C6 21 5.1 22 4 22s-2-1-2-2.2C2 18.4 4 16 4 16Z"/></svg>',"cell-border-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M5 13v5h2v2H5a2 2 0 0 1-2-2v-5h2zm8-7V4h6a2 2 0 0 1 2 2h-8z" opacity=".2"/><path fill-rule="nonzero" d="M13 4v2H5v7H3V6c0-1.1.9-2 2-2h8zm-2.6 14.1.1-.1.1.1.2.3.2.2.2.2c.4.6.8 1.2.8 1.7 0 .8-.7 1.5-1.5 1.5S9 21.3 9 20.5c0-.5.4-1.1.8-1.7l.2-.2.2-.2.2-.3z"/><path d="m13 11-2 2H5v-2h6V6h2z"/><path fill-rule="nonzero" d="m18.4 8 1 1-1.8 1.9 4 4c.5.4.5 1.1 0 1.6l-4.3 4.2a1.2 1.2 0 0 1-1.6 0l-4.4-4.2c-.4-.5-.4-1.2 0-1.7l7-6.8Zm1.6 7-3-3-3 3h6Z"/></g></svg>',"change-case":'<svg width="24" height="24"><path d="M18.4 18.2v-.6c-.5.8-1.3 1.2-2.4 1.2-2.2 0-3.3-1.6-3.3-4.8 0-3.1 1-4.7 3.3-4.7 1.1 0 1.8.3 2.4 1.1v-.6c0-.5.4-.8.8-.8s.8.3.8.8v8.4c0 .5-.4.8-.8.8a.8.8 0 0 1-.8-.8zm-2-7.4c-1.3 0-1.8.9-1.8 3.2 0 2.4.5 3.3 1.7 3.3 1.3 0 1.8-.9 1.8-3.2 0-2.4-.5-3.3-1.7-3.3zM10 15.7H5.5l-.8 2.6a1 1 0 0 1-1 .7h-.2a.7.7 0 0 1-.7-1l4-12a1 1 0 0 1 2 0l4 12a.7.7 0 0 1-.8 1h-.2a1 1 0 0 1-1-.7l-.8-2.6zm-.3-1.5-2-6.5-1.9 6.5h3.9z" fill-rule="evenodd"/></svg>',"character-count":'<svg width="24" height="24"><path d="M4 11.5h16v1H4v-1Zm4.8-6.8V10H7.7V5.8h-1v-1h2ZM11 8.3V9h2v1h-3V7.7l2-1v-.9h-2v-1h3v2.4l-2 1Zm6.3-3.4V10h-3.1V9h2.1V8h-2.1V6.8h2.1v-1h-2.1v-1h3.1ZM5.8 16.4c0-.5.2-.8.5-1 .2-.2.6-.3 1.2-.3l.8.1c.2 0 .4.2.5.3l.4.4v2.8l.2.3H8.2V18.7l-.6.3H7c-.4 0-.7 0-1-.2a1 1 0 0 1-.3-.9c0-.3 0-.6.3-.8.3-.2.7-.4 1.2-.4l.6-.2h.3v-.2l-.1-.2a.8.8 0 0 0-.5-.1 1 1 0 0 0-.4 0l-.3.4h-1Zm2.3.8h-.2l-.2.1-.4.1a1 1 0 0 0-.4.2l-.2.2.1.3.5.1h.4l.4-.4v-.6Zm2-3.4h1.2v1.7l.5-.3h.5c.5 0 .9.1 1.2.5.3.4.5.8.5 1.4 0 .6-.2 1.1-.5 1.5-.3.4-.7.6-1.3.6l-.6-.1-.4-.4v.4h-1.1v-5.4Zm1.1 3.3c0 .3 0 .6.2.8a.7.7 0 0 0 1.2 0l.2-.8c0-.4 0-.6-.2-.8a.7.7 0 0 0-.6-.3l-.6.3-.2.8Zm6.1-.5c0-.2 0-.3-.2-.4a.8.8 0 0 0-.5-.2c-.3 0-.5.1-.6.3l-.2.9c0 .3 0 .6.2.8.1.2.3.3.6.3.2 0 .4 0 .5-.2l.2-.4h1.1c0 .5-.3.8-.6 1.1a2 2 0 0 1-1.3.4c-.5 0-1-.2-1.3-.6a2 2 0 0 1-.5-1.4c0-.6.1-1.1.5-1.5.3-.4.8-.5 1.4-.5.5 0 1 0 1.2.3.4.3.5.7.5 1.2h-1v-.1Z" fill-rule="evenodd"/></svg>',"checklist-rtl":'<svg width="24" height="24"><path d="M5 17h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2zm14.2 11c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 8c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8z" fill-rule="evenodd"/></svg>',checklist:'<svg width="24" height="24"><path d="M11 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2h-8a1 1 0 0 1 0-2ZM7.2 16c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 8c-.2.3-.7.4-1 0L3.8 6.9a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Z" fill-rule="evenodd"/></svg>',checkmark:'<svg width="24" height="24"><path d="M18.2 5.4a1 1 0 0 1 1.6 1.2l-8 12a1 1 0 0 1-1.5.1l-5-5a1 1 0 1 1 1.4-1.4l4.1 4.1 7.4-11Z" fill-rule="nonzero"/></svg>',"chevron-down":'<svg width="10" height="10"><path d="M8.7 2.2c.3-.3.8-.3 1 0 .4.4.4.9 0 1.2L5.7 7.8c-.3.3-.9.3-1.2 0L.2 3.4a.8.8 0 0 1 0-1.2c.3-.3.8-.3 1.1 0L5 6l3.7-3.8Z" fill-rule="nonzero"/></svg>',"chevron-left":'<svg width="10" height="10"><path d="M7.8 1.3 4 5l3.8 3.7c.3.3.3.8 0 1-.4.4-.9.4-1.2 0L2.2 5.7a.8.8 0 0 1 0-1.2L6.6.2C7 0 7.4 0 7.8.2c.3.3.3.8 0 1.1Z" fill-rule="nonzero"/></svg>',"chevron-right":'<svg width="10" height="10"><path d="M2.2 1.3a.8.8 0 0 1 0-1c.4-.4.9-.4 1.2 0l4.4 4.1c.3.4.3.9 0 1.2L3.4 9.8c-.3.3-.8.3-1.2 0a.8.8 0 0 1 0-1.1L6 5 2.2 1.3Z" fill-rule="nonzero"/></svg>',"chevron-up":'<svg width="10" height="10"><path d="M8.7 7.8 5 4 1.3 7.8c-.3.3-.8.3-1 0a.8.8 0 0 1 0-1.2l4.1-4.4c.3-.3.9-.3 1.2 0l4.2 4.4c.3.3.3.9 0 1.2-.3.3-.8.3-1.1 0Z" fill-rule="nonzero"/></svg>',close:'<svg width="24" height="24"><path d="M17.3 8.2 13.4 12l3.9 3.8a1 1 0 0 1-1.5 1.5L12 13.4l-3.8 3.9a1 1 0 0 1-1.5-1.5l3.9-3.8-3.9-3.8a1 1 0 0 1 1.5-1.5l3.8 3.9 3.8-3.9a1 1 0 0 1 1.5 1.5Z" fill-rule="evenodd"/></svg>',"code-sample":'<svg width="24" height="26"><path d="M7.1 11a2.8 2.8 0 0 1-.8 2 2.8 2.8 0 0 1 .8 2v1.7c0 .3.1.6.4.8.2.3.5.4.8.4.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.7 0-1.4-.3-2-.8-.5-.6-.8-1.3-.8-2V15c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 0 1-.4-.4v-.8c0-.2.2-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V9.3c0-.7.3-1.4.8-2 .6-.5 1.3-.8 2-.8.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8V11Zm9.8 0V9.3c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 0 1-.4-.4V7c0-.2.1-.4.4-.4.7 0 1.4.3 2 .8.5.6.8 1.3.8 2V11c0 .3.1.6.4.8.2.3.5.4.8.4.2 0 .4.2.4.4v.8c0 .2-.2.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8v1.7c0 .7-.3 1.4-.8 2-.6.5-1.3.8-2 .8a.4.4 0 0 1-.4-.4v-.8c0-.2.1-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V15a2.8 2.8 0 0 1 .8-2 2.8 2.8 0 0 1-.8-2Zm-3.3-.4c0 .4-.1.8-.5 1.1-.3.3-.7.5-1.1.5-.4 0-.8-.2-1.1-.5-.4-.3-.5-.7-.5-1.1 0-.5.1-.9.5-1.2.3-.3.7-.4 1.1-.4.4 0 .8.1 1.1.4.4.3.5.7.5 1.2ZM12 13c.4 0 .8.1 1.1.5.4.3.5.7.5 1.1 0 1-.1 1.6-.5 2a3 3 0 0 1-1.1 1c-.4.3-.8.4-1.1.4a.5.5 0 0 1-.5-.5V17a3 3 0 0 0 1-.2l.6-.6c-.6 0-1-.2-1.3-.5-.2-.3-.3-.7-.3-1 0-.5.1-1 .5-1.2.3-.4.7-.5 1.1-.5Z" fill-rule="evenodd"/></svg>',"color-levels":'<svg width="24" height="24"><path d="M17.5 11.4A9 9 0 0 1 18 14c0 .5 0 1-.2 1.4 0 .4-.3.9-.5 1.3a6.2 6.2 0 0 1-3.7 3 5.7 5.7 0 0 1-3.2 0A5.9 5.9 0 0 1 7.6 18a6.2 6.2 0 0 1-1.4-2.6 6.7 6.7 0 0 1 0-2.8c0-.4.1-.9.3-1.3a13.6 13.6 0 0 1 2.3-4A20 20 0 0 1 12 4a26.4 26.4 0 0 1 3.2 3.4 18.2 18.2 0 0 1 2.3 4Zm-2 4.5c.4-.7.5-1.4.5-2a7.3 7.3 0 0 0-1-3.2c.2.6.2 1.2.2 1.9a4.5 4.5 0 0 1-1.3 3 5.3 5.3 0 0 1-2.3 1.5 4.9 4.9 0 0 1-2 .1 4.3 4.3 0 0 0 2.4.8 4 4 0 0 0 2-.6 4 4 0 0 0 1.5-1.5Z" fill-rule="evenodd"/></svg>',"color-picker":'<svg width="24" height="24"><path d="M12 3a9 9 0 0 0 0 18 1.5 1.5 0 0 0 1.1-2.5c-.2-.3-.4-.6-.4-1 0-.8.7-1.5 1.5-1.5H16a5 5 0 0 0 5-5c0-4.4-4-8-9-8Zm-5.5 9a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm3-4a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm5 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm3 4a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Z" fill-rule="nonzero"/></svg>',"color-swatch-remove-color":'<svg width="24" height="24"><path stroke="#000" stroke-width="2" d="M21 3 3 21" fill-rule="evenodd"/></svg>',"color-swatch":'<svg width="24" height="24"><rect x="3" y="3" width="18" height="18" rx="1" fill-rule="evenodd"/></svg>',"comment-add":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="m9 19 3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 0 0-1 1v10c0 .6.4 1 1 1h4v2Zm-2 4v-4H5a3 3 0 0 1-3-3V6a3 3 0 0 1 3-3h14a3 3 0 0 1 3 3v10a3 3 0 0 1-3 3h-6.4L7 23Z"/><path d="M13 10h2a1 1 0 0 1 0 2h-2v2a1 1 0 0 1-2 0v-2H9a1 1 0 0 1 0-2h2V8a1 1 0 0 1 2 0v2Z"/></g></svg>',comment:'<svg width="24" height="24"><path fill-rule="nonzero" d="m9 19 3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 0 0-1 1v10c0 .6.4 1 1 1h4v2Zm-2 4v-4H5a3 3 0 0 1-3-3V6a3 3 0 0 1 3-3h14a3 3 0 0 1 3 3v10a3 3 0 0 1-3 3h-6.4L7 23Z"/></svg>',contrast:'<svg width="24" height="24"><path d="M12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4Zm-6 8a6 6 0 0 0 6 6V6a6 6 0 0 0-6 6Z" fill-rule="evenodd"/></svg>',copy:'<svg width="24" height="24"><path d="M16 3H6a2 2 0 0 0-2 2v11h2V5h10V3Zm1 4a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-7a2 2 0 0 1-2-2V9c0-1.2.9-2 2-2h7Zm0 12V9h-7v10h7Z" fill-rule="nonzero"/></svg>',crop:'<svg width="24" height="24"><path d="M17 8v7h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v2c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-2H7V9H5a1 1 0 1 1 0-2h2V5c0-.6.4-1 1-1s1 .4 1 1v2h7l3-3 1 1-3 3ZM9 9v5l5-5H9Zm1 6h5v-5l-5 5Z" fill-rule="evenodd"/></svg>',"cut-column":'<svg width="24" height="24"><path fill-rule="evenodd" d="M7.2 4.5c.9 0 1.6.4 2.2 1A3.7 3.7 0 0 1 10.5 8v.5l1 1 4-4 1-.5a3.3 3.3 0 0 1 2 0c.4 0 .7.3 1 .5L17 8h4v13h-6V10l-1.5 1.5.5.5v4l-2.5-2.5-1 1v.5c0 .4 0 .8-.3 1.2-.2.5-.4.9-.8 1.2-.6.7-1.3 1-2.2 1-.8.2-1.5 0-2-.6l-.5-.8-.2-1c0-.4 0-.8.3-1.2A3.9 3.9 0 0 1 7 12.7c.5-.2 1-.3 1.5-.2l1-1-1-1c-.5 0-1 0-1.5-.2-.5-.1-1-.4-1.4-.9-.4-.3-.6-.7-.8-1.2L4.5 7c0-.4 0-.7.2-1 0-.3.3-.6.5-.8.5-.5 1.2-.8 2-.7Zm12.3 5h-3v10h3v-10ZM8 13.8h-.3l-.4.2a2.8 2.8 0 0 0-.7.4v.1a2.8 2.8 0 0 0-.6.8l-.1.4v.7l.2.5.5.2h.7a2.6 2.6 0 0 0 .8-.3 2.4 2.4 0 0 0 .7-.7 2.5 2.5 0 0 0 .3-.8 1.5 1.5 0 0 0 0-.8 1 1 0 0 0-.2-.4 1 1 0 0 0-.5-.2H8Zm3.5-3.7c-.4 0-.7.1-1 .4-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4ZM7 5.8h-.4a1 1 0 0 0-.5.3 1 1 0 0 0-.2.5v.7a2.5 2.5 0 0 0 .3.8l.2.3h.1l.4.4.4.2.4.1h.7L9 9l.2-.4a1.6 1.6 0 0 0 0-.8 2.6 2.6 0 0 0-.3-.8A2.5 2.5 0 0 0 7.7 6l-.4-.1H7Z"/></svg>',"cut-row":'<svg width="24" height="24"><path fill-rule="evenodd" d="M22 3v5H9l3 3 2-2h4l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8.7.6 1 1.3 1 2.2.2.8 0 1.5-.6 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 0 1-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 0 1 8.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 0 1 0-2c0-.4.3-.7.5-1l2 2V3h14ZM8.5 15.3h-.3a2.6 2.6 0 0 0-.8.4 2.5 2.5 0 0 0-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 0 0 .8-.3L9 18V18l.4-.4.2-.4.1-.4v-.7a1 1 0 0 0-.2-.5 1 1 0 0 0-.4-.2h-.5Zm7 0H15a1 1 0 0 0-.4.3 1 1 0 0 0-.2.5 1.5 1.5 0 0 0 0 .7v.4a2.8 2.8 0 0 0 .5.7h.1a2.8 2.8 0 0 0 .8.6l.4.1h.7l.5-.2.2-.5v-.7a2.6 2.6 0 0 0-.3-.8 2.4 2.4 0 0 0-.7-.7 2.5 2.5 0 0 0-.8-.3h-.3ZM12 11.6c-.4 0-.7.1-1 .4-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4Zm8.5-7.1h-11v2h11v-2Z"/></svg>',cut:'<svg width="24" height="24"><path d="M18 15c.6.7 1 1.4 1 2.3 0 .8-.2 1.5-.7 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 0 1-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 0 1 8.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 0 1 0-2c0-.4.3-.7.5-1l6 6 6-6 .5 1a3.3 3.3 0 0 1 0 2c0 .4-.3.7-.5 1l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8Zm-8.5 2.2.1-.4v-.7a1 1 0 0 0-.2-.5 1 1 0 0 0-.4-.2 1.6 1.6 0 0 0-.8 0 2.6 2.6 0 0 0-.8.3 2.5 2.5 0 0 0-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 0 0 .8-.3 2.8 2.8 0 0 0 1-1Zm2.5-2.8c.4 0 .7-.1 1-.4.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4s-.7.1-1 .4c-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4Zm5.4 4 .2-.5v-.7a2.6 2.6 0 0 0-.3-.8 2.4 2.4 0 0 0-.7-.7 2.5 2.5 0 0 0-.8-.3 1.5 1.5 0 0 0-.8 0 1 1 0 0 0-.4.2 1 1 0 0 0-.2.5 1.5 1.5 0 0 0 0 .7v.4l.3.4.3.4a2.8 2.8 0 0 0 .8.5l.4.1h.7l.5-.2Z" fill-rule="evenodd"/></svg>',"document-properties":'<svg width="24" height="24"><path d="M14.4 3H7a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h10a2 2 0 0 0 2-2V7.6L14.4 3ZM17 19H7V5h6v4h4v10Z" fill-rule="nonzero"/></svg>',drag:'<svg width="24" height="24"><path d="M13 5h2v2h-2V5Zm0 4h2v2h-2V9ZM9 9h2v2H9V9Zm4 4h2v2h-2v-2Zm-4 0h2v2H9v-2Zm0 4h2v2H9v-2Zm4 0h2v2h-2v-2ZM9 5h2v2H9V5Z" fill-rule="evenodd"/></svg>',"duplicate-column":'<svg width="24" height="24"><path d="M17 6v16h-7V6h7Zm-2 2h-3v12h3V8Zm-2-6v2H8v15H6V2h7Z"/></svg>',"duplicate-row":'<svg width="24" height="24"><path d="M22 11v7H6v-7h16Zm-2 2H8v3h12v-3Zm-1-6v2H4v5H2V7h17Z"/></svg>',duplicate:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M16 3v2H6v11H4V5c0-1.1.9-2 2-2h10Zm3 8h-2V9h-7v10h9a2 2 0 0 1-2 2h-7a2 2 0 0 1-2-2V9c0-1.2.9-2 2-2h7a2 2 0 0 1 2 2v2Z"/><path d="M17 14h1a1 1 0 0 1 0 2h-1v1a1 1 0 0 1-2 0v-1h-1a1 1 0 0 1 0-2h1v-1a1 1 0 0 1 2 0v1Z"/></g></svg>',"edit-block":'<svg width="24" height="24"><path fill-rule="nonzero" d="m19.8 8.8-9.4 9.4c-.2.2-.5.4-.9.4l-5.4 1.2 1.2-5.4.5-.8 9.4-9.4c.7-.7 1.8-.7 2.5 0l2.1 2.1c.7.7.7 1.8 0 2.5Zm-2-.2 1-.9v-.3l-2.2-2.2a.3.3 0 0 0-.3 0l-1 1L18 8.5Zm-1 1-2.5-2.4-6 6 2.5 2.5 6-6Zm-7 7.1-2.6-2.4-.3.3-.1.2-.7 3 3.1-.6h.1l.4-.5Z"/></svg>',"edit-image":'<svg width="24" height="24"><path d="M18 16h2V7a2 2 0 0 0-2-2H7v2h11v9ZM6 17h15a1 1 0 0 1 0 2h-1v1a1 1 0 0 1-2 0v-1H6a2 2 0 0 1-2-2V7H3a1 1 0 1 1 0-2h1V4a1 1 0 1 1 2 0v13Zm3-5.3 1.3 2 3-4.7 3.7 6H7l2-3.3Z" fill-rule="nonzero"/></svg>',"embed-page":'<svg width="24" height="24"><path d="M19 6V5H5v14h2A13 13 0 0 1 19 6Zm0 1.4c-.8.8-1.6 2.4-2.2 4.6H19V7.4Zm0 5.6h-2.4c-.4 1.8-.6 3.8-.6 6h3v-6Zm-4 6c0-2.2.2-4.2.6-6H13c-.7 1.8-1.1 3.8-1.1 6h3Zm-4 0c0-2.2.4-4.2 1-6H9.6A12 12 0 0 0 8 19h3ZM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm11.8 9c.4-1.9 1-3.4 1.8-4.5a9.2 9.2 0 0 0-4 4.5h2.2Zm-3.4 0a12 12 0 0 1 2.8-4 12 12 0 0 0-5 4h2.2Z" fill-rule="nonzero"/></svg>',embed:'<svg width="24" height="24"><path d="M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm1 2v14h14V5H5Zm4.8 2.6 5.6 4a.5.5 0 0 1 0 .8l-5.6 4A.5.5 0 0 1 9 16V8a.5.5 0 0 1 .8-.4Z" fill-rule="nonzero"/></svg>',emoji:'<svg width="24" height="24"><path d="M9 11c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 0 0-1 1c0 .6.4 1 1 1Zm6 0c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 0 0-1 1c0 .6.4 1 1 1Zm-3 5.5c2.1 0 4-1.5 4.4-3.5H7.6c.5 2 2.3 3.5 4.4 3.5ZM12 4a8 8 0 1 0 0 16 8 8 0 0 0 0-16Zm0 14.5a6.5 6.5 0 1 1 0-13 6.5 6.5 0 0 1 0 13Z" fill-rule="nonzero"/></svg>',export:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M14.4 3 18 7v1h-5V5H7v14h9a1 1 0 0 1 2 0c0 1-.8 2-1.9 2H7c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2h7.5Z"/><path d="M18.1 12c.5 0 .9.4.9 1 0 .5-.3 1-.8 1h-7.3c-.5 0-.9-.4-.9-1 0-.5.3-1 .8-1h7.3Z"/><path d="M16.4 9.2a1 1 0 0 1 1.4.2l2.4 3.6-2.4 3.6a1 1 0 0 1-1.7-1v-.2l1.7-2.4-1.6-2.4a1 1 0 0 1 .2-1.4Z"/></g></svg>',fill:'<svg width="24" height="26"><path d="m16.6 12-9-9-1.4 1.4 2.4 2.4-5.2 5.1c-.5.6-.5 1.6 0 2.2L9 19.6a1.5 1.5 0 0 0 2.2 0l5.5-5.5c.5-.6.5-1.6 0-2.2ZM5.2 13 10 8.2l4.8 4.8H5.2ZM19 14.5s-2 2.2-2 3.5c0 1.1.9 2 2 2a2 2 0 0 0 2-2c0-1.3-2-3.5-2-3.5Z" fill-rule="nonzero"/></svg>',"flip-horizontally":'<svg width="24" height="24"><path d="M14 19h2v-2h-2v2Zm4-8h2V9h-2v2ZM4 7v10c0 1.1.9 2 2 2h3v-2H6V7h3V5H6a2 2 0 0 0-2 2Zm14-2v2h2a2 2 0 0 0-2-2Zm-7 16h2V3h-2v18Zm7-6h2v-2h-2v2Zm-4-8h2V5h-2v2Zm4 12a2 2 0 0 0 2-2h-2v2Z" fill-rule="nonzero"/></svg>',"flip-vertically":'<svg width="24" height="24"><path d="M5 14v2h2v-2H5Zm8 4v2h2v-2h-2Zm4-14H7a2 2 0 0 0-2 2v3h2V6h10v3h2V6a2 2 0 0 0-2-2Zm2 14h-2v2a2 2 0 0 0 2-2ZM3 11v2h18v-2H3Zm6 7v2h2v-2H9Zm8-4v2h2v-2h-2ZM5 18c0 1.1.9 2 2 2v-2H5Z" fill-rule="nonzero"/></svg>',footnote:'<svg width="24" height="24"><path d="M19 13c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2h14Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M19 4v6h-1V5h-1.5V4h2.6Z"/><path d="M12 18c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2h7ZM14 8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2h9Z"/></svg>',"format-code":'<svg width="24" height="24"><path d="m10 22 2-7H6l9-13h2l-2 8h7L12 22h-2ZM6 2h7l-1.4 2H6V2Zm4.2 4H4v2h4.8l1.4-2Zm-2.7 4H2v2h4l1.5-2Z"/></svg>',"format-painter":'<svg width="24" height="24"><path d="M18 5V4c0-.5-.4-1-1-1H5a1 1 0 0 0-1 1v4c0 .6.5 1 1 1h12c.6 0 1-.4 1-1V7h1v4H9v9c0 .6.4 1 1 1h2c.6 0 1-.4 1-1v-7h8V5h-3Z" fill-rule="nonzero"/></svg>',format:'<svg width="24" height="24"><path fill-rule="evenodd" d="M17 5a1 1 0 0 1 0 2h-4v11a1 1 0 0 1-2 0V7H7a1 1 0 1 1 0-2h10Z"/></svg>',fullscreen:'<svg width="24" height="24"><path d="m15.3 10-1.2-1.3 2.9-3h-2.3a.9.9 0 1 1 0-1.7H19c.5 0 .9.4.9.9v4.4a.9.9 0 1 1-1.8 0V7l-2.9 3Zm0 4 3 3v-2.3a.9.9 0 1 1 1.7 0V19c0 .5-.4.9-.9.9h-4.4a.9.9 0 1 1 0-1.8H17l-3-2.9 1.3-1.2ZM10 15.4l-2.9 3h2.3a.9.9 0 1 1 0 1.7H5a.9.9 0 0 1-.9-.9v-4.4a.9.9 0 1 1 1.8 0V17l2.9-3 1.2 1.3ZM8.7 10 5.7 7v2.3a.9.9 0 0 1-1.7 0V5c0-.5.4-.9.9-.9h4.4a.9.9 0 0 1 0 1.8H7l3 2.9-1.3 1.2Z" fill-rule="nonzero"/></svg>',gallery:'<svg width="24" height="24"><path fill-rule="nonzero" d="m5 15.7 2.3-2.2c.3-.3.7-.3 1 0L11 16l5.1-5c.3-.4.8-.4 1 0l2 1.9V8H5v7.7ZM5 18V19h3l1.8-1.9-2-2L5 17.9Zm14-3-2.5-2.4-6.4 6.5H19v-4ZM4 6h16c.6 0 1 .4 1 1v13c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V7c0-.6.4-1 1-1Zm6 7a2 2 0 1 1 0-4 2 2 0 0 1 0 4ZM4.5 4h15a.5.5 0 1 1 0 1h-15a.5.5 0 0 1 0-1Zm2-2h11a.5.5 0 1 1 0 1h-11a.5.5 0 0 1 0-1Z"/></svg>',gamma:'<svg width="24" height="24"><path d="M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm1 2v14h14V5H5Zm6.5 11.8V14L9.2 8.7a5.1 5.1 0 0 0-.4-.8l-.1-.2H8v-1l.3-.1.3-.1h.7a1 1 0 0 1 .6.5l.1.3a8.5 8.5 0 0 1 .3.6l1.9 4.6 2-5.2a1 1 0 0 1 1-.6.5.5 0 0 1 .5.6L13 14v2.8a.7.7 0 0 1-1.4 0Z" fill-rule="nonzero"/></svg>',help:'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M12 5.5a6.5 6.5 0 0 0-6 9 6.3 6.3 0 0 0 1.4 2l1 1a6.3 6.3 0 0 0 3.6 1 6.5 6.5 0 0 0 6-9 6.3 6.3 0 0 0-1.4-2l-1-1a6.3 6.3 0 0 0-3.6-1ZM12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4Z"/><path d="M9.6 9.7a.7.7 0 0 1-.7-.8c0-1.1 1.5-1.8 3.2-1.8 1.8 0 3.2.8 3.2 2.4 0 1.4-.4 2.1-1.5 2.8-.2 0-.3.1-.3.2a2 2 0 0 0-.8.8.8.8 0 0 1-1.4-.6c.3-.7.8-1 1.3-1.5l.4-.2c.7-.4.8-.6.8-1.5 0-.5-.6-.9-1.7-.9-.5 0-1 .1-1.4.3-.2 0-.3.1-.3.2v-.2c0 .4-.4.8-.8.8Z" fill-rule="nonzero"/><circle cx="12" cy="16" r="1"/></g></svg>',"highlight-bg-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path class="tox-icon-highlight-bg-color__color" d="M3 18h18v3H3z"/><path fill-rule="nonzero" d="M7.7 16.7H3l3.3-3.3-.7-.8L10.2 8l4 4.1-4 4.2c-.2.2-.6.2-.8 0l-.6-.7-1.1 1.1zm5-7.5L11 7.4l3-2.9a2 2 0 0 1 2.6 0L18 6c.7.7.7 2 0 2.7l-2.9 2.9-1.8-1.8-.5-.6"/></g></svg>',home:'<svg width="24" height="24"><path fill-rule="nonzero" d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/></svg>',"horizontal-rule":'<svg width="24" height="24"><path d="M4 11h16v2H4z" fill-rule="evenodd"/></svg>',"image-options":'<svg width="24" height="24"><path d="M6 10a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm12 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm-6 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Z" fill-rule="nonzero"/></svg>',image:'<svg width="24" height="24"><path d="m5 15.7 3.3-3.2c.3-.3.7-.3 1 0L12 15l4.1-4c.3-.4.8-.4 1 0l2 1.9V5H5v10.7ZM5 18V19h3l2.8-2.9-2-2L5 17.9Zm14-3-2.5-2.4-6.4 6.5H19v-4ZM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm6 8a2 2 0 1 0 0-4 2 2 0 0 0 0 4Z" fill-rule="nonzero"/></svg>',indent:'<svg width="24" height="24"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 1 1 0-2Zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm-5 4h12a1 1 0 0 1 0 2H7a1 1 0 0 1 0-2Zm-2.6-3.8L6.2 12l-1.8-1.2a1 1 0 0 1 1.2-1.6l3 2a1 1 0 0 1 0 1.6l-3 2a1 1 0 1 1-1.2-1.6Z" fill-rule="evenodd"/></svg>',info:'<svg width="24" height="24"><path d="M12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4Zm-1 3v2h2V7h-2Zm3 10v-1h-1v-5h-3v1h1v4h-1v1h4Z" fill-rule="evenodd"/></svg>',"insert-character":'<svg width="24" height="24"><path d="M15 18h4l1-2v4h-6v-3.3l1.4-1a6 6 0 0 0 1.8-2.9 6.3 6.3 0 0 0-.1-4.1 5.8 5.8 0 0 0-3-3.2c-.6-.3-1.3-.5-2.1-.5a5.1 5.1 0 0 0-3.9 1.8 6.3 6.3 0 0 0-1.3 6 6.2 6.2 0 0 0 1.8 3l1.4.9V20H4v-4l1 2h4v-.5l-2-1L5.4 15A6.5 6.5 0 0 1 4 11c0-1 .2-1.9.6-2.7A7 7 0 0 1 6.3 6C7.1 5.4 8 5 9 4.5c1-.3 2-.5 3.1-.5a8.8 8.8 0 0 1 5.7 2 7 7 0 0 1 1.7 2.3 6 6 0 0 1 .2 4.8c-.2.7-.6 1.3-1 1.9a7.6 7.6 0 0 1-3.6 2.5v.5Z" fill-rule="evenodd"/></svg>',"insert-time":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M12 19a7 7 0 1 0 0-14 7 7 0 0 0 0 14Zm0 2a9 9 0 1 1 0-18 9 9 0 0 1 0 18Z"/><path d="M16 12h-3V7c0-.6-.4-1-1-1a1 1 0 0 0-1 1v7h5c.6 0 1-.4 1-1s-.4-1-1-1Z"/></g></svg>',invert:'<svg width="24" height="24"><path d="M18 19.3 16.5 18a5.8 5.8 0 0 1-3.1 1.9 6.1 6.1 0 0 1-5.5-1.6A5.8 5.8 0 0 1 6 14v-.3l.1-1.2A13.9 13.9 0 0 1 7.7 9l-3-3 .7-.8 2.8 2.9 9 8.9 1.5 1.6-.7.6Zm0-5.5v.3l-.1 1.1-.4 1-1.2-1.2a4.3 4.3 0 0 0 .2-1v-.2c0-.4 0-.8-.2-1.3l-.5-1.4a14.8 14.8 0 0 0-3-4.2L12 6a26.1 26.1 0 0 0-2.2 2.5l-1-1a20.9 20.9 0 0 1 2.9-3.3L12 4l1 .8a22.2 22.2 0 0 1 4 5.4c.6 1.2 1 2.4 1 3.6Z" fill-rule="evenodd"/></svg>',italic:'<svg width="24" height="24"><path d="m16.7 4.7-.1.9h-.3c-.6 0-1 0-1.4.3-.3.3-.4.6-.5 1.1l-2.1 9.8v.6c0 .5.4.8 1.4.8h.2l-.2.8H8l.2-.8h.2c1.1 0 1.8-.5 2-1.5l2-9.8.1-.5c0-.6-.4-.8-1.4-.8h-.3l.2-.9h5.8Z" fill-rule="evenodd"/></svg>',language:'<svg width="24" height="24"><path d="M12 3a9 9 0 1 1 0 18 9 9 0 0 1 0-18Zm4.3 13.3c-.5 1-1.2 2-2 2.9a7.5 7.5 0 0 0 3.2-2.1l-.2-.2a6 6 0 0 0-1-.6Zm-8.6 0c-.5.2-.9.5-1.2.8.9 1 2 1.7 3.2 2a10 10 0 0 1-2-2.8Zm3.6-.8c-.8 0-1.6.1-2.2.3.5 1 1.2 1.9 2.1 2.7Zm1.5 0v3c.9-.8 1.6-1.7 2.1-2.7-.6-.2-1.4-.3-2.1-.3Zm-6-2.7H4.5c.2 1 .5 2.1 1 3h.3l1.3-1a10 10 0 0 1-.3-2Zm12.7 0h-2.3c0 .7-.1 1.4-.3 2l1.6 1.1c.5-1 .9-2 1-3.1Zm-3.8 0h-3V14c1 0 2 .1 2.7.4.2-.5.3-1 .3-1.6Zm-4.4 0h-3l.3 1.6c.8-.3 1.7-.4 2.7-.4v-1.3Zm-5.5-5c-.7 1-1.1 2.2-1.3 3.5h2.3c0-1 .2-1.8.5-2.6l-1.5-1Zm2.9 1.4v.1c-.2.6-.4 1.3-.4 2h3V9.4c-1 0-1.8-.1-2.6-.3Zm6.6 0h-.1l-2.4.3v1.8h3l-.5-2.1Zm3-1.4-.3.1-1.3.8c.3.8.5 1.6.5 2.6h2.3a7.5 7.5 0 0 0-1.3-3.5Zm-9 0 2 .2V5.5a9 9 0 0 0-2 2.2Zm3.5-2.3V8c.6 0 1.3 0 1.9-.2a9 9 0 0 0-2-2.3Zm-3-.7h-.1c-1.1.4-2.1 1-3 1.8l1.2.7a10 10 0 0 1 1.9-2.5Zm4.4 0 .1.1a10 10 0 0 1 1.8 2.4l1.1-.7a7.5 7.5 0 0 0-3-1.8Z"/></svg>',"line-height":'<svg width="24" height="24"><path d="M21 5a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zM7 3.6l3.7 3.7a1 1 0 0 1-1.3 1.5h-.1L8 7.3v9.2l1.3-1.3a1 1 0 0 1 1.3 0h.1c.4.4.4 1 0 1.3v.1L7 20.4l-3.7-3.7a1 1 0 0 1 1.3-1.5h.1L6 16.7V7.4L4.7 8.7a1 1 0 0 1-1.3 0h-.1a1 1 0 0 1 0-1.3v-.1L7 3.6z"/></svg>',line:'<svg width="24" height="24"><path d="m15 9-8 8H4v-3l8-8 3 3Zm1-1-3-3 1-1h1c-.2 0 0 0 0 0l2 2s0 .2 0 0v1l-1 1ZM4 18h16v2H4v-2Z" fill-rule="evenodd"/></svg>',link:'<svg width="24" height="24"><path d="M6.2 12.3a1 1 0 0 1 1.4 1.4l-2 2a2 2 0 1 0 2.6 2.8l4.8-4.8a1 1 0 0 0 0-1.4 1 1 0 1 1 1.4-1.3 2.9 2.9 0 0 1 0 4L9.6 20a3.9 3.9 0 0 1-5.5-5.5l2-2Zm11.6-.6a1 1 0 0 1-1.4-1.4l2-2a2 2 0 1 0-2.6-2.8L11 10.3a1 1 0 0 0 0 1.4A1 1 0 1 1 9.6 13a2.9 2.9 0 0 1 0-4L14.4 4a3.9 3.9 0 0 1 5.5 5.5l-2 2Z" fill-rule="nonzero"/></svg>',"list-bull-circle":'<svg width="48" height="48"><g fill-rule="evenodd"><path d="M11 16a2 2 0 1 0 0-4 2 2 0 0 0 0 4Zm0 1a3 3 0 1 1 0-6 3 3 0 0 1 0 6ZM11 26a2 2 0 1 0 0-4 2 2 0 0 0 0 4Zm0 1a3 3 0 1 1 0-6 3 3 0 0 1 0 6ZM11 36a2 2 0 1 0 0-4 2 2 0 0 0 0 4Zm0 1a3 3 0 1 1 0-6 3 3 0 0 1 0 6Z" fill-rule="nonzero"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-bull-default":'<svg width="48" height="48"><g fill-rule="evenodd"><circle cx="11" cy="14" r="3"/><circle cx="11" cy="24" r="3"/><circle cx="11" cy="34" r="3"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-bull-square":'<svg width="48" height="48"><g fill-rule="evenodd"><path d="M8 11h6v6H8zM8 21h6v6H8zM8 31h6v6H8z"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-num-default-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M37.4 17v-4.8h-.1l-1.5 1v-1.1l1.6-1.1h1.2v6zM33.3 17.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm1.7 5.7c0-1.2 1-2 2.2-2 1.3 0 2.1.8 2.1 1.8 0 .7-.3 1.2-1.3 2.2l-1.2 1v.2h2.6v1h-4.3v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H35zm-1.7 4.3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm3.2 7.3v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H35c0-1.1 1-1.8 2.2-1.8 1.2 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.7.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .6 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7zm-3.3 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7z"/></g></svg>',"list-num-default":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10 17v-4.8l-1.5 1v-1.1l1.6-1h1.2V17h-1.2Zm3.6.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm-5 5.7c0-1.2.8-2 2.1-2s2.1.8 2.1 1.8c0 .7-.3 1.2-1.4 2.2l-1.1 1v.2h2.6v1H8.6v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H8.5Zm6.3 4.3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM10 34.4v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H8.6c0-1.1 1-1.8 2.2-1.8 1.3 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.8.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .7 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7Zm4.7 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7Z"/></g></svg>',"list-num-lower-alpha-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M36.5 16c-.9 0-1.5-.5-1.5-1.3s.6-1.3 1.8-1.4h1v-.4c0-.4-.2-.6-.7-.6-.4 0-.7.1-.8.4h-1.1c0-.8.8-1.4 2-1.4S39 12 39 13V16h-1.2v-.6c-.3.4-.8.7-1.4.7Zm.4-.8c.6 0 1-.4 1-.9V14h-1c-.5.1-.7.3-.7.6 0 .4.3.6.7.6ZM33.1 16.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7ZM37.7 26c-.7 0-1.2-.2-1.5-.7v.7H35v-6.3h1.2v2.5c.3-.5.8-.9 1.5-.9 1.1 0 1.8 1 1.8 2.4 0 1.5-.7 2.4-1.8 2.4Zm-.5-3.6c-.6 0-1 .5-1 1.3s.4 1.4 1 1.4c.7 0 1-.6 1-1.4 0-.8-.3-1.3-1-1.3ZM33.2 26.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7zm6 7h-1c-.1-.5-.4-.8-1-.8s-1 .5-1 1.4c0 1 .4 1.4 1 1.4.5 0 .9-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7zm-6.1 3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-lower-alpha":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10.3 15.2c.5 0 1-.4 1-.9V14h-1c-.5.1-.8.3-.8.6 0 .4.3.6.8.6Zm-.4.9c-1 0-1.5-.6-1.5-1.4 0-.8.6-1.3 1.7-1.4h1.1v-.4c0-.4-.2-.6-.7-.6-.5 0-.8.1-.9.4h-1c0-.8.8-1.4 2-1.4 1.1 0 1.8.6 1.8 1.6V16h-1.1v-.6h-.1c-.2.4-.7.7-1.3.7Zm4.6 0c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-3.2 10c-.6 0-1.2-.3-1.4-.8v.7H8.5v-6.3H10v2.5c.3-.5.8-.9 1.4-.9 1.2 0 1.9 1 1.9 2.4 0 1.5-.7 2.4-1.9 2.4Zm-.4-3.7c-.7 0-1 .5-1 1.3s.3 1.4 1 1.4c.6 0 1-.6 1-1.4 0-.8-.4-1.3-1-1.3Zm4 3.7c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-2.2 7h-1.2c0-.5-.4-.8-.9-.8-.6 0-1 .5-1 1.4 0 1 .4 1.4 1 1.4.5 0 .8-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7Zm1.8 3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-lower-greek-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M37.4 16c-1.2 0-2-.8-2-2.3 0-1.5.8-2.4 2-2.4.6 0 1 .4 1.3 1v-.9H40v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1-.7h-.2c-.2.4-.7.8-1.3.8Zm.3-1c.6 0 1-.5 1-1.3s-.4-1.3-1-1.3-1 .5-1 1.3.4 1.4 1 1.4ZM33.3 16.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM36 21.9c0-1.5.8-2.3 2.1-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.9 1.3.9.3 1.3.8 1.3 1.7 0 1.2-.7 1.9-1.8 1.9-.6 0-1.1-.3-1.4-.8v2.2H36V22Zm1.8 1.2v-1h.3c.5 0 .9-.2.9-.7 0-.5-.3-.8-.9-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1 1.3s1-.4 1-1-.4-1-1.2-1h-.3ZM33.3 26.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM37.1 34.6 34.8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.2.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2Zm.7 1a2 2 0 0 0-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1ZM33.3 36.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-lower-greek":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10.5 15c.7 0 1-.5 1-1.3s-.3-1.3-1-1.3c-.5 0-.9.5-.9 1.3s.4 1.4 1 1.4Zm-.3 1c-1.1 0-1.8-.8-1.8-2.3 0-1.5.7-2.4 1.8-2.4.7 0 1.1.4 1.3 1h.1v-.9h1.2v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1.1-.7h-.1c-.2.4-.7.8-1.4.8Zm5 .1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7Zm-4.9 7v-1h.3c.6 0 1-.2 1-.7 0-.5-.4-.8-1-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1.1 1.3.6 0 1-.4 1-1s-.5-1-1.3-1h-.3ZM8.6 22c0-1.5.7-2.3 2-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.8 1.3.8.3 1.3.8 1.3 1.7 0 1.2-.8 1.9-1.9 1.9-.6 0-1.1-.3-1.3-.8v2.2H8.5V22Zm6.2 4.2c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm-4.5 8.5L8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.1.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2Zm.7 1a2 2 0 0 0-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1Zm4.5.5c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-lower-roman-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M32.9 16v-1.2h-1.3V16H33Zm0 10v-1.2h-1.3V26H33Zm0 10v-1.2h-1.3V36H33Z"/><path fill-rule="nonzero" d="M36 21h-1.5v5H36zM36 31h-1.5v5H36zM39 21h-1.5v5H39zM39 31h-1.5v5H39zM42 31h-1.5v5H42zM36 11h-1.5v5H36zM36 19h-1.5v1H36zM36 29h-1.5v1H36zM39 19h-1.5v1H39zM39 29h-1.5v1H39zM42 29h-1.5v1H42zM36 9h-1.5v1H36z"/></g></svg>',"list-num-lower-roman":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M15.1 16v-1.2h1.3V16H15Zm0 10v-1.2h1.3V26H15Zm0 10v-1.2h1.3V36H15Z"/><path fill-rule="nonzero" d="M12 21h1.5v5H12zM12 31h1.5v5H12zM9 21h1.5v5H9zM9 31h1.5v5H9zM6 31h1.5v5H6zM12 11h1.5v5H12zM12 19h1.5v1H12zM12 29h1.5v1H12zM9 19h1.5v1H9zM9 29h1.5v1H9zM6 29h1.5v1H6zM12 9h1.5v1H12z"/></g></svg>',"list-num-upper-alpha-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="m39.3 17-.5-1.4h-2l-.5 1.4H35l2-6h1.6l2 6h-1.3Zm-1.6-4.7-.7 2.3h1.6l-.8-2.3ZM33.4 17c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm4.7 9.9h-2.7v-6H38c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7Zm-1.4-5v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1Zm0 4h1.1c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9h-1.1V26ZM33 27.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm4.9 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2Zm-4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-upper-alpha":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="m12.6 17-.5-1.4h-2L9.5 17H8.3l2-6H12l2 6h-1.3ZM11 12.3l-.7 2.3h1.6l-.8-2.3Zm4.7 4.8c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7ZM11.4 27H8.7v-6h2.6c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7ZM10 22v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1Zm0 4H11c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9H10V26Zm5.4 1.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-4.1 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2Zm4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-upper-roman-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M31.6 17v-1.2H33V17h-1.3Zm0 10v-1.2H33V27h-1.3Zm0 10v-1.2H33V37h-1.3Z"/><path fill-rule="nonzero" d="M34.5 20H36v7h-1.5zM34.5 30H36v7h-1.5zM37.5 20H39v7h-1.5zM37.5 30H39v7h-1.5zM40.5 30H42v7h-1.5zM34.5 10H36v7h-1.5z"/></g></svg>',"list-num-upper-roman":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M15.1 17v-1.2h1.3V17H15Zm0 10v-1.2h1.3V27H15Zm0 10v-1.2h1.3V37H15Z"/><path fill-rule="nonzero" d="M12 20h1.5v7H12zM12 30h1.5v7H12zM9 20h1.5v7H9zM9 30h1.5v7H9zM6 30h1.5v7H6zM12 10h1.5v7H12z"/></g></svg>',lock:'<svg width="24" height="24"><path d="M16.3 11c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H8V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h.3ZM10 8v3h4V8a1 1 0 0 0-.3-.7A1 1 0 0 0 13 7h-2a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7Z" fill-rule="evenodd"/></svg>',ltr:'<svg width="24" height="24"><path d="M11 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 7.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L11 5ZM4.4 16.2 6.2 15l-1.8-1.2a1 1 0 0 1 1.2-1.6l3 2a1 1 0 0 1 0 1.6l-3 2a1 1 0 1 1-1.2-1.6Z" fill-rule="evenodd"/></svg>',"math-equation":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M9 4.8c.1-.5.5-.8 1-.8h10a1 1 0 1 1 0 2h-9.2L8.3 19.2a1 1 0 0 1-1.7.4l-3.4-4.2a1 1 0 0 1 1.6-1.2l2 2.5L9 4.8Zm9.7 5.5c.4.4.4 1 0 1.4L17 13.5l1.8 1.8a1 1 0 1 1-1.4 1.4L15.5 15l-1.8 1.8a1 1 0 0 1-1.4-1.4l1.8-1.8-1.8-1.8a1 1 0 0 1 1.4-1.4l1.8 1.8 1.8-1.8a1 1 0 0 1 1.4 0Z"/></svg>',minus:'<svg width="24" height="24"><path d="M19 11a1 1 0 0 1 .1 2H5a1 1 0 0 1-.1-2H19Z"/></svg>',"more-drawer":'<svg width="24" height="24"><path d="M6 10a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm12 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm-6 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Z" fill-rule="nonzero"/></svg>',"new-document":'<svg width="24" height="24"><path d="M14.4 3H7a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h10a2 2 0 0 0 2-2V7.6L14.4 3ZM17 19H7V5h6v4h4v10Z" fill-rule="nonzero"/></svg>',"new-tab":'<svg width="24" height="24"><path d="m15 13 2-2v8H5V7h8l-2 2H7v8h8v-4Zm4-8v5.5l-2-2-5.6 5.5H10v-1.4L15.5 7l-2-2H19Z" fill-rule="evenodd"/></svg>',"non-breaking":'<svg width="24" height="24"><path d="M11 11H8a1 1 0 1 1 0-2h3V6c0-.6.4-1 1-1s1 .4 1 1v3h3c.6 0 1 .4 1 1s-.4 1-1 1h-3v3c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-3Zm10 4v5H3v-5c0-.6.4-1 1-1s1 .4 1 1v3h14v-3c0-.6.4-1 1-1s1 .4 1 1Z" fill-rule="evenodd"/></svg>',notice:'<svg width="24" height="24"><path d="M15.5 4 20 8.5v7L15.5 20h-7L4 15.5v-7L8.5 4h7ZM13 17v-2h-2v2h2Zm0-4V7h-2v6h2Z" fill-rule="evenodd" clip-rule="evenodd"/></svg>',"ordered-list-rtl":'<svg width="24" height="24"><path d="M6 17h8a1 1 0 0 1 0 2H6a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2H6a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2H6a1 1 0 1 1 0-2Zm13-1v3.5a.5.5 0 1 1-1 0V5h-.5a.5.5 0 1 1 0-1H19Zm-1 8.8.2.2h1.3a.5.5 0 1 1 0 1h-1.6a1 1 0 0 1-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 0 0-.2-.2h-1.3a.5.5 0 0 1-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3Zm2 4.2v2c0 .6-.4 1-1 1h-1.5a.5.5 0 0 1 0-1h1.2a.3.3 0 1 0 0-.6h-1.3a.4.4 0 1 1 0-.8h1.3a.3.3 0 0 0 0-.6h-1.2a.5.5 0 1 1 0-1H19c.6 0 1 .4 1 1Z" fill-rule="evenodd"/></svg>',"ordered-list":'<svg width="24" height="24"><path d="M10 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 1 1 0-2ZM6 4v3.5c0 .3-.2.5-.5.5a.5.5 0 0 1-.5-.5V5h-.5a.5.5 0 0 1 0-1H6Zm-1 8.8.2.2h1.3c.3 0 .5.2.5.5s-.2.5-.5.5H4.9a1 1 0 0 1-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 0 0-.2-.2H4.5a.5.5 0 0 1-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3ZM7 17v2c0 .6-.4 1-1 1H4.5a.5.5 0 0 1 0-1h1.2c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.4a.4.4 0 1 1 0-.8h1.3c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.5a.5.5 0 1 1 0-1H6c.6 0 1 .4 1 1Z" fill-rule="evenodd"/></svg>',orientation:'<svg width="24" height="24"><path d="M7.3 6.4 1 13l6.4 6.5 6.5-6.5-6.5-6.5ZM3.7 13l3.6-3.7L11 13l-3.7 3.7-3.6-3.7ZM12 6l2.8 2.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0L9.2 5.7a.8.8 0 0 1 0-1.2L13.6.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L12 4h1a9 9 0 1 1-4.3 16.9l1.5-1.5A7 7 0 1 0 13 6h-1Z" fill-rule="nonzero"/></svg>',outdent:'<svg width="24" height="24"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 1 1 0-2Zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm-5 4h12a1 1 0 0 1 0 2H7a1 1 0 0 1 0-2Zm1.6-3.8a1 1 0 0 1-1.2 1.6l-3-2a1 1 0 0 1 0-1.6l3-2a1 1 0 0 1 1.2 1.6L6.8 12l1.8 1.2Z" fill-rule="evenodd"/></svg>',"export-pdf":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M7 3h7.4L19 7.6V17h-2V9h-4V5H7v3H5V5c0-1.1.9-2 2-2Z"/><path d="M2.6 15.2v-1.9h1c.6 0 1-.2 1.4-.5.3-.3.5-.7.5-1.2s-.2-.9-.5-1.2a2 2 0 0 0-1.3-.4H1v5.2h1.6Zm.4-3h-.4v-1.1h.5l.6.1.2.5c0 .1 0 .3-.2.4l-.7.1Zm5.7 3 1-.1c.3 0 .5-.2.7-.4l.5-.8c.2-.3.2-.7.2-1.3v-1l-.5-.8c-.2-.3-.4-.5-.7-.6L8.7 10H6.3v5.2h2.4Zm-.4-1.1H8v-3h.4c.5 0 .8.2 1 .4l.2 1.1-.1 1-.3.3-.8.2Zm5.3 1.2V13h2v-1h-2v-1H16V10h-4v5.2h1.6Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M15 17a1 1 0 1 0-2 0v3.1l-1.4-1a1 1 0 1 0-1.2 1.7l3.6 2.4 3.6-2.4a1 1 0 0 0-1.2-1.6l-1.4 1V17Z"/></svg>',"export-word":'<svg width="24" height="24"><path d="M9.5 7A1.5 1.5 0 0 1 11 8.4v7.1A1.5 1.5 0 0 1 9.6 17H2.5A1.5 1.5 0 0 1 1 15.6V8.5A1.5 1.5 0 0 1 2.4 7h7.1Zm-1 2.8-1 2.6-1-2.5v-.1a.6.6 0 0 0-1 0l-.1.1-.9 2.5-1-2.5v-.1a.6.6 0 0 0-1 .4v.1l1.5 4v.1a.6.6 0 0 0 1 0v-.1l1-2.5.9 2.5v.1a.6.6 0 0 0 1 0H8l1.6-4v-.2a.6.6 0 0 0-1.1-.4Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M7 3h7.4L19 7.6V17h-2V9h-4V5H5c0-1.1.9-2 2-2ZM15 17a1 1 0 1 0-2 0v3.1l-1.4-1a1 1 0 1 0-1.2 1.7l3.6 2.4 3.6-2.4a1 1 0 0 0-1.2-1.6l-1.4 1V17Z"/></svg>',"import-word":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M7 3h7.4L19 7.6V15h-2V9h-4V5H5c0-1.1.9-2 2-2Z"/><path d="M9.5 7A1.5 1.5 0 0 1 11 8.4v7.1A1.5 1.5 0 0 1 9.6 17H2.5A1.5 1.5 0 0 1 1 15.6V8.5A1.5 1.5 0 0 1 2.4 7h7.1Zm-1 2.8-1 2.6-1-2.5v-.1a.6.6 0 0 0-1 0l-.1.1-.9 2.5-1-2.5v-.1a.6.6 0 0 0-1 .4v.1l1.5 4v.1a.6.6 0 0 0 1 0v-.1l1-2.5.9 2.5v.1a.6.6 0 0 0 1 0H8l1.6-4v-.2a.6.6 0 0 0-1.1-.4Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M11.4 18.2a1 1 0 0 0 1.2 1.6l1.4-1V22a1 1 0 1 0 2 0v-3.1l1.4 1a1 1 0 0 0 1.2-1.7L15 15.8l-3.6 2.4Z"/></svg>',"page-break":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M5 11c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1h-1a1 1 0 0 1 0-2Zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2ZM7 3v5h10V3c0-.6.4-1 1-1s1 .4 1 1v7H5V3c0-.6.4-1 1-1s1 .4 1 1ZM6 22a1 1 0 0 1-1-1v-7h14v7c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-5H7v5c0 .6-.4 1-1 1Z"/></g></svg>',paragraph:'<svg width="24" height="24"><path fill-rule="evenodd" d="M10 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 6.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L10 5Z"/></svg>',"paste-column-after":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V7h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h7v2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm8 7v12h-6V8h6Zm-1.5 1.5h-3v9h3v-9ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-column-before":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V18c0 1-.8 2-1.9 2H11v-2h7V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v2H4V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm-2 7v12H4V8h6ZM8.5 9.5h-3v9h3v-9ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-row-after":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V11h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h14c0 1-.8 2-1.9 2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm10 11v5H8v-5h14Zm-1.5 1.5h-11v2h11v-2ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-row-before":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V7h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h12v-4h2v4c0 1-.8 2-1.9 2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm10 7v5H8V8h14Zm-1.5 1.5h-11v2h11v-2ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-text":'<svg width="24" height="24"><path d="M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h3V9h9ZM9 20H6a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0 1 12 1a3 3 0 0 1 2.8 2H18a2 2 0 0 1 2 2v4h1v12H9v-1Zm1.5-9.5v9h9v-9h-9ZM12 3a1 1 0 0 0-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1Zm0 9h6v2h-.5l-.5-1h-1v4h.8v1h-3.6v-1h.8v-4h-1l-.5 1H12v-2Z" fill-rule="nonzero"/></svg>',paste:'<svg width="24" height="24"><path d="M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h3V9h9ZM9 20H6a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0 1 12 1a3 3 0 0 1 2.8 2H18a2 2 0 0 1 2 2v4h1v12H9v-1Zm1.5-9.5v9h9v-9h-9ZM12 3a1 1 0 0 0-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1Z" fill-rule="nonzero"/></svg>',"permanent-pen":'<svg width="24" height="24"><path d="M10.5 17.5 8 20H3v-3l3.5-3.5a2 2 0 0 1 0-3L14 3l1 1-7.3 7.3a1 1 0 0 0 0 1.4l3.6 3.6c.4.4 1 .4 1.4 0L20 9l1 1-7.6 7.6a2 2 0 0 1-2.8 0l-.1-.1Z" fill-rule="nonzero"/></svg>',plus:'<svg width="24" height="24"><path d="M12 4c.5 0 1 .4 1 .9V11h6a1 1 0 0 1 .1 2H13v6a1 1 0 0 1-2 .1V13H5a1 1 0 0 1-.1-2H11V5c0-.6.4-1 1-1Z"/></svg>',preferences:'<svg width="24" height="24"><path d="m20.1 13.5-1.9.2a5.8 5.8 0 0 1-.6 1.5l1.2 1.5c.4.4.3 1 0 1.4l-.7.7a1 1 0 0 1-1.4 0l-1.5-1.2a6.2 6.2 0 0 1-1.5.6l-.2 1.9c0 .5-.5.9-1 .9h-1a1 1 0 0 1-1-.9l-.2-1.9a5.8 5.8 0 0 1-1.5-.6l-1.5 1.2a1 1 0 0 1-1.4 0l-.7-.7a1 1 0 0 1 0-1.4l1.2-1.5a6.2 6.2 0 0 1-.6-1.5l-1.9-.2a1 1 0 0 1-.9-1v-1c0-.5.4-1 .9-1l1.9-.2a5.8 5.8 0 0 1 .6-1.5L5.2 7.3a1 1 0 0 1 0-1.4l.7-.7a1 1 0 0 1 1.4 0l1.5 1.2a6.2 6.2 0 0 1 1.5-.6l.2-1.9c0-.5.5-.9 1-.9h1c.5 0 1 .4 1 .9l.2 1.9a5.8 5.8 0 0 1 1.5.6l1.5-1.2a1 1 0 0 1 1.4 0l.7.7c.3.4.4 1 0 1.4l-1.2 1.5a6.2 6.2 0 0 1 .6 1.5l1.9.2c.5 0 .9.5.9 1v1c0 .5-.4 1-.9 1ZM12 15a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z" fill-rule="evenodd"/></svg>',preview:'<svg width="24" height="24"><path d="M3.5 12.5c.5.8 1.1 1.6 1.8 2.3 2 2 4.2 3.2 6.7 3.2s4.7-1.2 6.7-3.2a16.2 16.2 0 0 0 2.1-2.8 15.7 15.7 0 0 0-2.1-2.8c-2-2-4.2-3.2-6.7-3.2a9.3 9.3 0 0 0-6.7 3.2A16.2 16.2 0 0 0 3.2 12c0 .2.2.3.3.5Zm-2.4-1 .7-1.2L4 7.8C6.2 5.4 8.9 4 12 4c3 0 5.8 1.4 8.1 3.8a18.2 18.2 0 0 1 2.8 3.7v1l-.7 1.2-2.1 2.5c-2.3 2.4-5 3.8-8.1 3.8-3 0-5.8-1.4-8.1-3.8a18.2 18.2 0 0 1-2.8-3.7 1 1 0 0 1 0-1Zm12-3.3a2 2 0 1 0 2.7 2.6 4 4 0 1 1-2.6-2.6Z" fill-rule="nonzero"/></svg>',print:'<svg width="24" height="24"><path d="M18 8H6a3 3 0 0 0-3 3v6h2v3h14v-3h2v-6a3 3 0 0 0-3-3Zm-1 10H7v-4h10v4Zm.5-5c-.8 0-1.5-.7-1.5-1.5s.7-1.5 1.5-1.5 1.5.7 1.5 1.5-.7 1.5-1.5 1.5Zm.5-8H6v2h12V5Z" fill-rule="nonzero"/></svg>',quote:'<svg width="24" height="24"><path d="M7.5 17h.9c.4 0 .7-.2.9-.6L11 13V8c0-.6-.4-1-1-1H6a1 1 0 0 0-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 0 0 .8 1.3Zm8 0h.9c.4 0 .7-.2.9-.6L19 13V8c0-.6-.4-1-1-1h-4a1 1 0 0 0-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 0 0 .8 1.3Z" fill-rule="nonzero"/></svg>',redo:'<svg width="24" height="24"><path d="M17.6 10H12c-2.8 0-4.4 1.4-4.9 3.5-.4 2 .3 4 1.4 4.6a1 1 0 1 1-1 1.8c-2-1.2-2.9-4.1-2.3-6.8.6-3 3-5.1 6.8-5.1h5.6l-3.3-3.3a1 1 0 1 1 1.4-1.4l5 5a1 1 0 0 1 0 1.4l-5 5a1 1 0 0 1-1.4-1.4l3.3-3.3Z" fill-rule="nonzero"/></svg>',reload:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="m5 22.1-1.2-4.7v-.2a1 1 0 0 1 1-1l5 .4a1 1 0 1 1-.2 2l-2.2-.2a7.8 7.8 0 0 0 8.4.2 7.5 7.5 0 0 0 3.5-6.4 1 1 0 1 1 2 0 9.5 9.5 0 0 1-4.5 8 9.9 9.9 0 0 1-10.2 0l.4 1.4a1 1 0 1 1-2 .5ZM13.6 7.4c0-.5.5-1 1-.9l2.8.2a8 8 0 0 0-9.5-1 7.5 7.5 0 0 0-3.6 7 1 1 0 0 1-2 0 9.5 9.5 0 0 1 4.5-8.6 10 10 0 0 1 10.9.3l-.3-1a1 1 0 0 1 2-.5l1.1 4.8a1 1 0 0 1-1 1.2l-5-.4a1 1 0 0 1-.9-1Z"/></g></svg>',"remove-formatting":'<svg width="24" height="24"><path d="M13.2 6a1 1 0 0 1 0 .2l-2.6 10a1 1 0 0 1-1 .8h-.2a.8.8 0 0 1-.8-1l2.6-10H8a1 1 0 1 1 0-2h9a1 1 0 0 1 0 2h-3.8ZM5 18h7a1 1 0 0 1 0 2H5a1 1 0 0 1 0-2Zm13 1.5L16.5 18 15 19.5a.7.7 0 0 1-1-1l1.5-1.5-1.5-1.5a.7.7 0 0 1 1-1l1.5 1.5 1.5-1.5a.7.7 0 0 1 1 1L17.5 17l1.5 1.5a.7.7 0 0 1-1 1Z" fill-rule="evenodd"/></svg>',remove:'<svg width="24" height="24"><path d="M16 7h3a1 1 0 0 1 0 2h-1v9a3 3 0 0 1-3 3H9a3 3 0 0 1-3-3V9H5a1 1 0 1 1 0-2h3V6a3 3 0 0 1 3-3h2a3 3 0 0 1 3 3v1Zm-2 0V6c0-.6-.4-1-1-1h-2a1 1 0 0 0-1 1v1h4Zm2 2H8v9c0 .6.4 1 1 1h6c.6 0 1-.4 1-1V9Zm-7 3a1 1 0 0 1 2 0v4a1 1 0 0 1-2 0v-4Zm4 0a1 1 0 0 1 2 0v4a1 1 0 0 1-2 0v-4Z" fill-rule="nonzero"/></svg>',"resize-handle":'<svg width="10" height="10"><g fill-rule="nonzero"><path d="M8.1 1.1A.5.5 0 1 1 9 2l-7 7A.5.5 0 1 1 1 8l7-7ZM8.1 5.1A.5.5 0 1 1 9 6l-3 3A.5.5 0 1 1 5 8l3-3Z"/></g></svg>',resize:'<svg width="24" height="24"><path d="M4 5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h6c.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7a1 1 0 0 1-.7.3H7.4L18 16.6V13c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7v6c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-6a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3.6L6 7.4V11c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.7-.3A1 1 0 0 1 4 11V5Z" fill-rule="evenodd"/></svg>',"restore-draft":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M17 13c0 .6-.4 1-1 1h-4V8c0-.6.4-1 1-1s1 .4 1 1v4h2c.6 0 1 .4 1 1Z"/><path d="M4.7 10H9a1 1 0 0 1 0 2H3a1 1 0 0 1-1-1V5a1 1 0 1 1 2 0v3l2.5-2.4a9.2 9.2 0 0 1 10.8-1.5A9 9 0 0 1 13.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 1 1 1.3-1.5 7.2 7.2 0 0 0 11.6-3.7 7 7 0 0 0-3.5-7.7A7.2 7.2 0 0 0 8 7L4.7 10Z" fill-rule="nonzero"/></g></svg>',"revision-history":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M17 13c0 .6-.4 1-1 1h-4V8c0-.6.4-1 1-1s1 .4 1 1v4h2c.6 0 1 .4 1 1Z"/><path d="M4.7 10H9a1 1 0 0 1 0 2H3a1 1 0 0 1-1-1V5a1 1 0 1 1 2 0v3l2.5-2.4a9.2 9.2 0 0 1 10.8-1.5A9 9 0 0 1 13.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 1 1 1.3-1.5 7.2 7.2 0 0 0 11.6-3.7 7 7 0 0 0-3.5-7.7A7.2 7.2 0 0 0 8 7L4.7 10Z" fill-rule="nonzero"/></g></svg>',"rotate-left":'<svg width="24" height="24"><path d="M4.7 10H9a1 1 0 0 1 0 2H3a1 1 0 0 1-1-1V5a1 1 0 1 1 2 0v3l2.5-2.4a9.2 9.2 0 0 1 10.8-1.5A9 9 0 0 1 13.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 1 1 1.3-1.5 7.2 7.2 0 0 0 11.6-3.7 7 7 0 0 0-3.5-7.7A7.2 7.2 0 0 0 8 7L4.7 10Z" fill-rule="nonzero"/></svg>',"rotate-right":'<svg width="24" height="24"><path d="M20 8V5a1 1 0 0 1 2 0v6c0 .6-.4 1-1 1h-6a1 1 0 0 1 0-2h4.3L16 7A7.2 7.2 0 0 0 7.7 6a7 7 0 0 0 3 13.1c1.9.1 3.7-.5 5-1.7a1 1 0 0 1 1.4 1.5A9.2 9.2 0 0 1 2.2 14c-.9-3.9 1-8 4.5-9.9 3.5-1.9 8-1.3 10.8 1.5L20 8Z" fill-rule="nonzero"/></svg>',rtl:'<svg width="24" height="24"><path d="M8 5h8v2h-2v12h-2V7h-2v12H8v-7c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 4.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L8 5Zm12 11.2a1 1 0 1 1-1 1.6l-3-2a1 1 0 0 1 0-1.6l3-2a1 1 0 1 1 1 1.6L18.4 15l1.8 1.2Z" fill-rule="evenodd"/></svg>',save:'<svg width="24" height="24"><path d="M5 16h14a2 2 0 0 1 2 2v2a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-2c0-1.1.9-2 2-2Zm0 2v2h14v-2H5Zm10 0h2v2h-2v-2Zm-4-6.4L8.7 9.3a1 1 0 1 0-1.4 1.4l4 4c.4.4 1 .4 1.4 0l4-4a1 1 0 1 0-1.4-1.4L13 11.6V4a1 1 0 0 0-2 0v7.6Z" fill-rule="nonzero"/></svg>',search:'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Z" fill-rule="nonzero"/></svg>',"select-all":'<svg width="24" height="24"><path d="M3 5h2V3a2 2 0 0 0-2 2Zm0 8h2v-2H3v2Zm4 8h2v-2H7v2ZM3 9h2V7H3v2Zm10-6h-2v2h2V3Zm6 0v2h2a2 2 0 0 0-2-2ZM5 21v-2H3c0 1.1.9 2 2 2Zm-2-4h2v-2H3v2ZM9 3H7v2h2V3Zm2 18h2v-2h-2v2Zm8-8h2v-2h-2v2Zm0 8a2 2 0 0 0 2-2h-2v2Zm0-12h2V7h-2v2Zm0 8h2v-2h-2v2Zm-4 4h2v-2h-2v2Zm0-16h2V3h-2v2ZM7 17h10V7H7v10Zm2-8h6v6H9V9Z" fill-rule="nonzero"/></svg>',selected:'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2Zm3.6 10.9L7 12.3a.7.7 0 0 0-1 1L9.6 17 18 8.6a.7.7 0 0 0 0-1 .7.7 0 0 0-1 0l-7.4 7.3Z"/></svg>',send:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="m13.3 22 7-18.3-18.3 7L9 15l4.3 7ZM18 6.8l-.7-.7L9.4 14l.7.7L18 6.8Z"/></svg>',settings:'<svg width="24" height="24"><path d="M11 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V8H5a1 1 0 1 1 0-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.5V6ZM8 8h2V6H8v2Zm9 2.8v.2h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v.3c0 .2 0 .3-.2.5l-.6.2h-2.4c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V13H5a1 1 0 0 1 0-2h8v-.3c0-.2 0-.3.2-.5l.6-.2h2.4c.3 0 .4 0 .6.2l.2.6ZM14 13h2v-2h-2v2Zm-3 2.8v.2h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V18H5a1 1 0 0 1 0-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.6ZM8 18h2v-2H8v2Z" fill-rule="evenodd"/></svg>',sharpen:'<svg width="24" height="24"><path d="m16 6 4 4-8 9-8-9 4-4h8Zm-4 10.2 5.5-6.2-.1-.1H12v-.3h5.1l-.2-.2H12V9h4.6l-.2-.2H12v-.3h4.1l-.2-.2H12V8h3.6l-.2-.2H8.7L6.5 10l.1.1H12v.3H6.9l.2.2H12v.3H7.3l.2.2H12v.3H7.7l.3.2h4v.3H8.2l.2.2H12v.3H8.6l.3.2H12v.3H9l.3.2H12v.3H9.5l.2.2H12v.3h-2l.2.2H12v.3h-1.6l.2.2H12v.3h-1.1l.2.2h.9v.3h-.7l.2.2h.5v.3h-.3l.3.2Z" fill-rule="evenodd"/></svg>',sourcecode:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M9.8 15.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0l-4.4-4.1a.8.8 0 0 1 0-1.2l4.4-4.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L6 12l3.8 3.7ZM14.2 15.7c-.3.3-.3.8 0 1 .4.4.9.4 1.2 0l4.4-4.1c.3-.3.3-.9 0-1.2l-4.4-4.2a.8.8 0 0 0-1.2 0c-.3.3-.3.8 0 1.1L18 12l-3.8 3.7Z"/></g></svg>',"spell-check":'<svg width="24" height="24"><path d="M6 8v3H5V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h2c.3 0 .5.1.7.3.2.2.3.4.3.7v6H8V8H6Zm0-3v2h2V5H6Zm13 0h-3v5h3v1h-3a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3v1Zm-5 1.5-.1.7c-.1.2-.3.3-.6.3.3 0 .5.1.6.3l.1.7V10c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-3V4h3c.3 0 .5.1.7.3.2.2.3.4.3.7v1.5ZM13 10V8h-2v2h2Zm0-3V5h-2v2h2Zm3 5 1 1-6.5 7L7 15.5l1.3-1 2.2 2.2L16 12Z" fill-rule="evenodd"/></svg>',"strike-through":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M15.6 8.5c-.5-.7-1-1.1-1.3-1.3-.6-.4-1.3-.6-2-.6-2.7 0-2.8 1.7-2.8 2.1 0 1.6 1.8 2 3.2 2.3 4.4.9 4.6 2.8 4.6 3.9 0 1.4-.7 4.1-5 4.1A6.2 6.2 0 0 1 7 16.4l1.5-1.1c.4.6 1.6 2 3.7 2 1.6 0 2.5-.4 3-1.2.4-.8.3-2-.8-2.6-.7-.4-1.6-.7-2.9-1-1-.2-3.9-.8-3.9-3.6C7.6 6 10.3 5 12.4 5c2.9 0 4.2 1.6 4.7 2.4l-1.5 1.1Z"/><path d="M5 11h14a1 1 0 0 1 0 2H5a1 1 0 0 1 0-2Z" fill-rule="nonzero"/></g></svg>',subscript:'<svg width="24" height="24"><path d="m10.4 10 4.6 4.6-1.4 1.4L9 11.4 4.4 16 3 14.6 7.6 10 3 5.4 4.4 4 9 8.6 13.6 4 15 5.4 10.4 10ZM21 19h-5v-1l1-.8 1.7-1.6c.3-.4.5-.8.5-1.2 0-.3 0-.6-.2-.7-.2-.2-.5-.3-.9-.3a2 2 0 0 0-.8.2l-.7.3-.4-1.1 1-.6 1.2-.2c.8 0 1.4.3 1.8.7.4.4.6.9.6 1.5s-.2 1.1-.5 1.6a8 8 0 0 1-1.3 1.3l-.6.6h2.6V19Z" fill-rule="nonzero"/></svg>',superscript:'<svg width="24" height="24"><path d="M15 9.4 10.4 14l4.6 4.6-1.4 1.4L9 15.4 4.4 20 3 18.6 7.6 14 3 9.4 4.4 8 9 12.6 13.6 8 15 9.4Zm5.9 1.6h-5v-1l1-.8 1.7-1.6c.3-.5.5-.9.5-1.3 0-.3 0-.5-.2-.7-.2-.2-.5-.3-.9-.3l-.8.2-.7.4-.4-1.2c.2-.2.5-.4 1-.5.3-.2.8-.2 1.2-.2.8 0 1.4.2 1.8.6.4.4.6 1 .6 1.6 0 .5-.2 1-.5 1.5l-1.3 1.4-.6.5h2.6V11Z" fill-rule="nonzero"/></svg>',"table-caption":'<svg width="24" height="24"><g fill-rule="nonzero"><rect width="12" height="2" x="3" y="4" rx="1"/><path d="M19 8a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-8c0-1.1.9-2 2-2h14ZM5 15v3h6v-3H5Zm14 0h-6v3h6v-3Zm0-5h-6v3h6v-3ZM5 13h6v-3H5v3Z"/></g></svg>',"table-cell-classes":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M13 4v9H3V6c0-1.1.9-2 2-2h8Zm-2 2H5v5h6V6Z"/><path fill-rule="nonzero" d="M13 4h6a2 2 0 0 1 2 2v7h-8v-2h6V6h-6V4Z" opacity=".2"/><path d="m18 20-2.6 1.6.7-3-2.4-2 3.1-.2 1.2-2.9 1.2 2.9 3.1.2-2.4 2 .7 3z"/><path fill-rule="nonzero" d="M3 13v5c0 1.1.9 2 2 2h8v-7h-2v5H5v-5H3Z" opacity=".2"/></g></svg>',"table-cell-properties":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9H5v5h6v-5Zm8 0h-6v5h6v-5Zm-8-7H5v5h6V6Z"/></svg>',"table-cell-select-all":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v12h14V6Z"/><path d="M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2Z" opacity=".2"/></g></svg>',"table-cell-select-inner":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v12h14V6Z" opacity=".2"/><path d="M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2Z"/></g></svg>',"table-classes":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v7h-8v7H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9H5v5h6v-5Zm8-7h-6v5h6V6Zm-8 0H5v5h6V6Z"/><path d="m18 20-2.6 1.6.7-3-2.4-2 3.1-.2 1.2-2.9 1.2 2.9 3.1.2-2.4 2 .7 3z"/></g></svg>',"table-delete-column":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-4 4h-2V6h-2v2H9V6H5v12h4v-2h2v2h2v-2h2v2h4V6h-4v2Zm.3.5 1 1.2-3 2.3 3 2.3-1 1.2L12 13l-3.3 2.6-1-1.2 3-2.3-3-2.3 1-1.2L12 11l3.3-2.5Z"/></svg>',"table-delete-row":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v3h2.5v2H5v2h2.5v2H5v3h14v-3h-2.5v-2H19v-2h-2.5V9H19V6Zm-4.7 1.8 1.2 1L13 12l2.6 3.3-1.2 1-2.3-3-2.3 3-1.2-1L11 12 8.5 8.7l1.2-1 2.3 3 2.3-3Z"/></svg>',"table-delete-table":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 6v12h14V6H5Z"/><path d="m14.4 8.6 1.1 1-2.4 2.4 2.4 2.4-1.1 1.1-2.4-2.4-2.4 2.4-1-1.1 2.3-2.4-2.3-2.4 1-1 2.4 2.3z"/></g></svg>',"table-insert-column-after":'<svg width="24" height="24"><path fill-rule="nonzero" d="M20 4c.6 0 1 .4 1 1v2a1 1 0 0 1-2 0V6h-8v12h8v-1a1 1 0 0 1 2 0v2c0 .5-.4 1-.9 1H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h15ZM9 13H5v5h4v-5Zm7-5c.5 0 1 .4 1 .9V11h2a1 1 0 0 1 .1 2H17v2a1 1 0 0 1-2 .1V13h-2a1 1 0 0 1-.1-2H15V9c0-.6.4-1 1-1ZM9 6H5v5h4V6Z"/></svg>',"table-insert-column-before":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H4a1 1 0 0 1-1-1v-2a1 1 0 0 1 2 0v1h8V6H5v1a1 1 0 1 1-2 0V5c0-.6.4-1 1-1h15Zm0 9h-4v5h4v-5ZM8 8c.5 0 1 .4 1 .9V11h2a1 1 0 0 1 .1 2H9v2a1 1 0 0 1-2 .1V13H5a1 1 0 0 1-.1-2H7V9c0-.6.4-1 1-1Zm11-2h-4v5h4V6Z"/></svg>',"table-insert-row-above":'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4a1 1 0 1 1 0 2H5v6h14V6h-1a1 1 0 0 1 0-2h2c.6 0 1 .4 1 1v13a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5c0-.6.4-1 1-1h2Zm5 10H5v4h6v-4Zm8 0h-6v4h6v-4ZM12 3c.5 0 1 .4 1 .9V6h2a1 1 0 0 1 0 2h-2v2a1 1 0 0 1-2 .1V8H9a1 1 0 0 1 0-2h2V4c0-.6.4-1 1-1Z"/></svg>',"table-insert-row-after":'<svg width="24" height="24"><path fill-rule="nonzero" d="M12 13c.5 0 1 .4 1 .9V16h2a1 1 0 0 1 .1 2H13v2a1 1 0 0 1-2 .1V18H9a1 1 0 0 1-.1-2H11v-2c0-.6.4-1 1-1Zm6 7a1 1 0 0 1 0-2h1v-6H5v6h1a1 1 0 0 1 0 2H4a1 1 0 0 1-1-1V6c0-1.1.9-2 2-2h14a2 2 0 0 1 2 2v13c0 .5-.4 1-.9 1H18ZM11 6H5v4h6V6Zm8 0h-6v4h6V6Z"/></svg>',"table-left-header":'<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 9h-4v5h4v-5Zm-6 0H9v5h4v-5Zm0-7H9v5h4V6Zm6 0h-4v5h4V6Z"/></svg>',"table-merge-cells":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 15.5V18h3v-2.5H5Zm14-5h-9V18h9v-7.5ZM19 6h-4v2.5h4V6ZM8 6H5v2.5h3V6Zm5 0h-3v2.5h3V6Zm-8 7.5h3v-3H5v3Z"/></svg>',"table-row-numbering-rtl":'<svg width="24" height="24"><path d="M6 4a2 2 0 0 0-2 2v13c0 1.1.9 2 2 2h12a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2H6Zm0 12h8v3H6v-3Zm11 0c.6 0 1 .4 1 1v1a1 1 0 0 1-2 0v-1c0-.6.4-1 1-1ZM6 11h8v3H6v-3Zm11 0c.6 0 1 .4 1 1v1a1 1 0 0 1-2 0v-1c0-.6.4-1 1-1ZM6 6h8v3H6V6Zm11 0c.6 0 1 .4 1 1v1a1 1 0 1 1-2 0V7c0-.6.4-1 1-1Z"/></svg>',"table-row-numbering":'<svg width="24" height="24"><path d="M18 4a2 2 0 0 1 2 2v13a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h12Zm0 12h-8v3h8v-3ZM7 16a1 1 0 0 0-1 1v1a1 1 0 0 0 2 0v-1c0-.6-.4-1-1-1Zm11-5h-8v3h8v-3ZM7 11a1 1 0 0 0-1 1v1a1 1 0 0 0 2 0v-1c0-.6-.4-1-1-1Zm11-5h-8v3h8V6ZM7 6a1 1 0 0 0-1 1v1a1 1 0 1 0 2 0V7c0-.6-.4-1-1-1Z"/></svg>',"table-row-properties":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 15v3h6v-3H5Zm14 0h-6v3h6v-3Zm0-9h-6v3h6V6ZM5 9h6V6H5v3Z"/></svg>',"table-split-cells":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM8 15.5H5V18h3v-2.5Zm11-5h-9V18h9v-7.5Zm-2.5 1 1 1-2 2 2 2-1 1-2-2-2 2-1-1 2-2-2-2 1-1 2 2 2-2Zm-8.5-1H5v3h3v-3ZM19 6h-4v2.5h4V6ZM8 6H5v2.5h3V6Zm5 0h-3v2.5h3V6Z"/></svg>',"table-top-header":'<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 11H5v3h6v-3Zm8 0h-6v3h6v-3Zm0-5h-6v3h6v-3ZM5 13h6v-3H5v3Z"/></svg>',table:'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 14v4h6v-4H5Zm14 0h-6v4h6v-4Zm0-6h-6v4h6V8ZM5 12h6V8H5v4Z"/></svg>',"template-add":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M9 12v4H5a2 2 0 0 0-2 2v3h9.3a6 6 0 0 1-.3-2H5v-1h7a6 6 0 0 1 .8-2H11v-5l-.8-.6a3 3 0 1 1 3.6 0l-.8.6v4.7a6 6 0 0 1 2-1.9V12a5 5 0 1 0-6 0Z"/><path d="M18 15c.5 0 1 .4 1 .9V18h2a1 1 0 0 1 .1 2H19v2a1 1 0 0 1-2 .1V20h-2a1 1 0 0 1-.1-2H17v-2c0-.6.4-1 1-1Z"/></svg>',template:'<svg width="24" height="24"><path d="M19 19v-1H5v1h14ZM9 16v-4a5 5 0 1 1 6 0v4h4a2 2 0 0 1 2 2v3H3v-3c0-1.1.9-2 2-2h4Zm4 0v-5l.8-.6a3 3 0 1 0-3.6 0l.8.6v5h2Z" fill-rule="nonzero"/></svg>',"temporary-placeholder":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M9 7.6V6h2.5V4.5a.5.5 0 1 1 1 0V6H15v1.6a8 8 0 1 1-6 0Zm-2.6 5.3a.5.5 0 0 0 .3.6c.3 0 .6 0 .6-.3l.1-.2a5 5 0 0 1 3.3-2.8c.3-.1.4-.4.4-.6-.1-.3-.4-.5-.6-.4a6 6 0 0 0-4.1 3.7Z"/><circle cx="14" cy="4" r="1"/><circle cx="12" cy="2" r="1"/><circle cx="10" cy="4" r="1"/></g></svg>',"text-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path class="tox-icon-text-color__color" d="M3 18h18v3H3z"/><path d="M8.7 16h-.8a.5.5 0 0 1-.5-.6l2.7-9c.1-.3.3-.4.5-.4h2.8c.2 0 .4.1.5.4l2.7 9a.5.5 0 0 1-.5.6h-.8a.5.5 0 0 1-.4-.4l-.7-2.2c0-.3-.3-.4-.5-.4h-3.4c-.2 0-.4.1-.5.4l-.7 2.2c0 .3-.2.4-.4.4Zm2.6-7.6-.6 2a.5.5 0 0 0 .5.6h1.6a.5.5 0 0 0 .5-.6l-.6-2c0-.3-.3-.4-.5-.4h-.4c-.2 0-.4.1-.5.4Z"/></g></svg>',"text-size-decrease":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M14 5a1 1 0 1 1 0 2h-4v11a1 1 0 1 1-2 0V7H4a1 1 0 0 1 0-2h10ZM14 12a1 1 0 1 0 0 2h6a1 1 0 1 0 0-2h-6Z"/></svg>',"text-size-increase":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M14 5a1 1 0 1 1 0 2h-4v11a1 1 0 1 1-2 0V7H4a1 1 0 0 1 0-2h10ZM17 9a1 1 0 0 0-1 1v2h-2a1 1 0 1 0 0 2h2v2a1 1 0 1 0 2 0v-2h2a1 1 0 1 0 0-2h-2v-2c0-.6-.4-1-1-1Z"/></svg>',toc:'<svg width="24" height="24"><path d="M5 5c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 1 1 0-2Zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 1 1 0-2Zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm0-4c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 1 1 0-2Zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',translate:'<svg width="24" height="24"><path d="m12.7 14.3-.3.7-.4.7-2.2-2.2-3.1 3c-.3.4-.8.4-1 0a.7.7 0 0 1 0-1l3.1-3A12.4 12.4 0 0 1 6.7 9H8a10.1 10.1 0 0 0 1.7 2.4c.5-.5 1-1.1 1.4-1.8l.9-2H4.7a.7.7 0 1 1 0-1.5h4.4v-.7c0-.4.3-.8.7-.8.4 0 .7.4.7.8v.7H15c.4 0 .8.3.8.7 0 .4-.4.8-.8.8h-1.4a12.3 12.3 0 0 1-1 2.4 13.5 13.5 0 0 1-1.7 2.3l1.9 1.8Zm4.3-3 2.7 7.3a.5.5 0 0 1-.4.7 1 1 0 0 1-1-.7l-.6-1.5h-3.4l-.6 1.5a1 1 0 0 1-1 .7.5.5 0 0 1-.4-.7l2.7-7.4a1 1 0 0 1 2 0Zm-2.2 4.4h2.4L16 12.5l-1.2 3.2Z" fill-rule="evenodd"/></svg>',typography:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M17 5a1 1 0 1 1 0 2h-4v11a1 1 0 1 1-2 0V7H7a1 1 0 0 1 0-2h10Z"/><path d="m17.5 14 .8-1.7 1.7-.8-1.7-.8-.8-1.7-.8 1.7-1.7.8 1.7.8.8 1.7ZM7 14l1 2 2 1-2 1-1 2-1-2-2-1 2-1 1-2Z"/></svg>',underline:'<svg width="24" height="24"><path d="M16 5c.6 0 1 .4 1 1v5.5a4 4 0 0 1-.4 1.8l-1 1.4a5.3 5.3 0 0 1-5.5 1 5 5 0 0 1-1.6-1c-.5-.4-.8-.9-1.1-1.4a4 4 0 0 1-.4-1.8V6c0-.6.4-1 1-1s1 .4 1 1v5.5c0 .3 0 .6.2 1l.6.7a3.3 3.3 0 0 0 2.2.8 3.4 3.4 0 0 0 2.2-.8c.3-.2.4-.5.6-.8l.2-.9V6c0-.6.4-1 1-1ZM8 17h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',undo:'<svg width="24" height="24"><path d="M6.4 8H12c3.7 0 6.2 2 6.8 5.1.6 2.7-.4 5.6-2.3 6.8a1 1 0 0 1-1-1.8c1.1-.6 1.8-2.7 1.4-4.6-.5-2.1-2.1-3.5-4.9-3.5H6.4l3.3 3.3a1 1 0 1 1-1.4 1.4l-5-5a1 1 0 0 1 0-1.4l5-5a1 1 0 0 1 1.4 1.4L6.4 8Z" fill-rule="nonzero"/></svg>',unlink:'<svg width="24" height="24"><path d="M6.2 12.3a1 1 0 0 1 1.4 1.4l-2 2a2 2 0 1 0 2.6 2.8l4.8-4.8a1 1 0 0 0 0-1.4 1 1 0 1 1 1.4-1.3 2.9 2.9 0 0 1 0 4L9.6 20a3.9 3.9 0 0 1-5.5-5.5l2-2Zm11.6-.6a1 1 0 0 1-1.4-1.4l2.1-2a2 2 0 1 0-2.7-2.8L11 10.3a1 1 0 0 0 0 1.4A1 1 0 1 1 9.6 13a2.9 2.9 0 0 1 0-4L14.4 4a3.9 3.9 0 0 1 5.5 5.5l-2 2ZM7.6 6.3a.8.8 0 0 1-1 1.1L3.3 4.2a.7.7 0 1 1 1-1l3.2 3.1ZM5.1 8.6a.8.8 0 0 1 0 1.5H3a.8.8 0 0 1 0-1.5H5Zm5-3.5a.8.8 0 0 1-1.5 0V3a.8.8 0 0 1 1.5 0V5Zm6 11.8a.8.8 0 0 1 1-1l3.2 3.2a.8.8 0 0 1-1 1L16 17Zm-2.2 2a.8.8 0 0 1 1.5 0V21a.8.8 0 0 1-1.5 0V19Zm5-3.5a.7.7 0 1 1 0-1.5H21a.8.8 0 0 1 0 1.5H19Z" fill-rule="nonzero"/></svg>',unlock:'<svg width="24" height="24"><path d="M16 5c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h-2V8a1 1 0 0 0-.3-.7A1 1 0 0 0 16 7h-2a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7v3h.3c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H4.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H11V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2Z" fill-rule="evenodd"/></svg>',"unordered-list":'<svg width="24" height="24"><path d="M11 5h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2ZM4.5 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Z" fill-rule="evenodd"/></svg>',unselected:'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2Zm0 1a1 1 0 0 0-1 1v12c0 .6.4 1 1 1h12c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H6Z"/></svg>',upload:'<svg width="24" height="24"><path d="M18 19v-2a1 1 0 0 1 2 0v3c0 .6-.4 1-1 1H5a1 1 0 0 1-1-1v-3a1 1 0 0 1 2 0v2h12ZM11 6.4 8.7 8.7a1 1 0 0 1-1.4-1.4l4-4a1 1 0 0 1 1.4 0l4 4a1 1 0 1 1-1.4 1.4L13 6.4V16a1 1 0 0 1-2 0V6.4Z" fill-rule="nonzero"/></svg>',user:'<svg width="24" height="24"><path d="M12 24a12 12 0 1 1 0-24 12 12 0 0 1 0 24Zm-8.7-5.3a11 11 0 0 0 17.4 0C19.4 16.3 14.6 15 12 15c-2.6 0-7.4 1.3-8.7 3.7ZM12 13c2.2 0 4-2 4-4.5S14.2 4 12 4 8 6 8 8.5 9.8 13 12 13Z" fill-rule="nonzero"/></svg>',"vertical-align":'<svg width="24" height="24"><g fill-rule="nonzero"><rect width="18" height="2" x="3" y="11" rx="1"/><path d="M12 2c.6 0 1 .4 1 1v4l2-1.3a1 1 0 0 1 1.2 1.5l-.1.1-4.1 3-4-3a1 1 0 0 1 1-1.7l2 1.5V3c0-.6.4-1 1-1zm0 11.8 4 2.9a1 1 0 0 1-1 1.7l-2-1.5V21c0 .5-.4 1-.9 1H12a1 1 0 0 1-1-1v-4l-2 1.3a1 1 0 0 1-1.2-.1l-.1-.1a1 1 0 0 1 .1-1.3l.1-.1 4.1-3z"/></g></svg>',visualblocks:'<svg width="24" height="24"><path d="M9 19v2H7v-2h2Zm-4 0v2a2 2 0 0 1-2-2h2Zm8 0v2h-2v-2h2Zm8 0a2 2 0 0 1-2 2v-2h2Zm-4 0v2h-2v-2h2ZM15 7a1 1 0 0 1 0 2v7a1 1 0 0 1-2 0V9h-1v7a1 1 0 0 1-2 0v-4a2.5 2.5 0 0 1-.2-5H15ZM5 15v2H3v-2h2Zm16 0v2h-2v-2h2ZM5 11v2H3v-2h2Zm16 0v2h-2v-2h2ZM5 7v2H3V7h2Zm16 0v2h-2V7h2ZM5 3v2H3c0-1.1.9-2 2-2Zm8 0v2h-2V3h2Zm6 0a2 2 0 0 1 2 2h-2V3ZM9 3v2H7V3h2Zm8 0v2h-2V3h2Z" fill-rule="evenodd"/></svg>',visualchars:'<svg width="24" height="24"><path d="M10 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 6.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L10 5Z" fill-rule="evenodd"/></svg>',warning:'<svg width="24" height="24"><path d="M19.8 18.3c.2.5.3.9 0 1.2-.1.3-.5.5-1 .5H5.2c-.5 0-.9-.2-1-.5-.3-.3-.2-.7 0-1.2L11 4.7l.5-.5.5-.2c.2 0 .3 0 .5.2.2 0 .3.3.5.5l6.8 13.6ZM12 18c.3 0 .5-.1.7-.3.2-.2.3-.4.3-.7a1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3 1 1 0 0 0-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3Zm.7-3 .3-4a1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3 1 1 0 0 0-.3.7l.3 4h1.4Z" fill-rule="evenodd"/></svg>',"zoom-in":'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Zm-1-9a1 1 0 0 1 2 0v6a1 1 0 0 1-2 0V8Zm-2 4a1 1 0 0 1 0-2h6a1 1 0 0 1 0 2H8Z" fill-rule="nonzero"/></svg>',"zoom-out":'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Zm-3-5a1 1 0 0 1 0-2h6a1 1 0 0 1 0 2H8Z" fill-rule="nonzero"/></svg>'}});(function(){const t=Object.getPrototypeOf,r=(s,l,d)=>{var f;return!!d(s,l.prototype)||((f=s.constructor)===null||f===void 0?void 0:f.name)===l.name},i=s=>l=>(d=>{const f=typeof d;return d===null?"null":f==="object"&&Array.isArray(d)?"array":f==="object"&&r(d,String,(b,v)=>v.isPrototypeOf(b))?"string":f})(l)===s,u=s=>l=>typeof l===s,m=s=>l=>s===l,h=i("string"),x=i("object"),w=s=>((l,d)=>x(l)&&r(l,d,(f,b)=>t(f)===b))(s,Object),R=i("array"),P=m(null),A=u("boolean"),M=m(void 0),H=s=>s==null,K=s=>!H(s),G=u("function"),te=u("number"),re=(s,l)=>{if(R(s)){for(let d=0,f=s.length;d<f;++d)if(!l(s[d]))return!1;return!0}return!1},W=()=>{},ge=s=>()=>s(),he=(s,l)=>(...d)=>s(l.apply(null,d)),j=s=>()=>s,me=s=>s,oe=(s,l)=>s===l;function Ce(s,...l){return(...d)=>{const f=l.concat(d);return s.apply(null,f)}}const Ue=s=>l=>!s(l),et=s=>()=>{throw new Error(s)},dt=s=>s(),Me=j(!1),Ne=j(!0);class I{constructor(l,d){this.tag=l,this.value=d}static some(l){return new I(!0,l)}static none(){return I.singletonNone}fold(l,d){return this.tag?d(this.value):l()}isSome(){return this.tag}isNone(){return!this.tag}map(l){return this.tag?I.some(l(this.value)):I.none()}bind(l){return this.tag?l(this.value):I.none()}exists(l){return this.tag&&l(this.value)}forall(l){return!this.tag||l(this.value)}filter(l){return!this.tag||l(this.value)?this:I.none()}getOr(l){return this.tag?this.value:l}or(l){return this.tag?this:l}getOrThunk(l){return this.tag?this.value:l()}orThunk(l){return this.tag?this:l()}getOrDie(l){if(this.tag)return this.value;throw new Error(l??"Called getOrDie on None")}static from(l){return K(l)?I.some(l):I.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(l){this.tag&&l(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}I.singletonNone=new I(!1);const st=Array.prototype.slice,it=Array.prototype.indexOf,Ft=Array.prototype.push,Yt=(s,l)=>it.call(s,l),mt=(s,l)=>Yt(s,l)>-1,Rn=(s,l)=>{for(let d=0,f=s.length;d<f;d++)if(l(s[d],d))return!0;return!1},Ot=(s,l)=>{const d=[];for(let f=0;f<s;f++)d.push(l(f));return d},at=(s,l)=>{const d=[];for(let f=0;f<s.length;f+=l){const b=st.call(s,f,f+l);d.push(b)}return d},Ve=(s,l)=>{const d=s.length,f=new Array(d);for(let b=0;b<d;b++){const v=s[b];f[b]=l(v,b)}return f},bt=(s,l)=>{for(let d=0,f=s.length;d<f;d++)l(s[d],d)},Yn=(s,l)=>{const d=[],f=[];for(let b=0,v=s.length;b<v;b++){const C=s[b];(l(C,b)?d:f).push(C)}return{pass:d,fail:f}},Xt=(s,l)=>{const d=[];for(let f=0,b=s.length;f<b;f++){const v=s[f];l(v,f)&&d.push(v)}return d},Bn=(s,l,d)=>(((f,b)=>{for(let v=f.length-1;v>=0;v--)b(f[v],v)})(s,(f,b)=>{d=l(d,f,b)}),d),Qt=(s,l,d)=>(bt(s,(f,b)=>{d=l(d,f,b)}),d),ee=(s,l)=>((d,f,b)=>{for(let v=0,C=d.length;v<C;v++){const k=d[v];if(f(k,v))return I.some(k);if(b(k,v))break}return I.none()})(s,l,Me),vo=(s,l)=>{for(let d=0,f=s.length;d<f;d++)if(l(s[d],d))return I.some(d);return I.none()},nn=s=>{const l=[];for(let d=0,f=s.length;d<f;++d){if(!R(s[d]))throw new Error("Arr.flatten item "+d+" was not an array, input: "+s);Ft.apply(l,s[d])}return l},yn=(s,l)=>nn(Ve(s,l)),qe=(s,l)=>{for(let d=0,f=s.length;d<f;++d)if(l(s[d],d)!==!0)return!1;return!0},lt=s=>{const l=st.call(s,0);return l.reverse(),l},Se=(s,l)=>Xt(s,d=>!mt(l,d)),Pe=(s,l)=>{const d={};for(let f=0,b=s.length;f<b;f++){const v=s[f];d[String(v)]=l(v,f)}return d},Ke=s=>[s],xe=(s,l)=>{const d=st.call(s,0);return d.sort(l),d},Ae=(s,l)=>l>=0&&l<s.length?I.some(s[l]):I.none(),Fe=s=>Ae(s,0),Je=s=>Ae(s,s.length-1),wt=G(Array.from)?Array.from:s=>st.call(s),pn=(s,l)=>{for(let d=0;d<s.length;d++){const f=l(s[d],d);if(f.isSome())return f}return I.none()},en=Object.keys,An=Object.hasOwnProperty,no=(s,l)=>{const d=en(s);for(let f=0,b=d.length;f<b;f++){const v=d[f];l(s[v],v)}},co=(s,l)=>Jo(s,(d,f)=>({k:f,v:l(d,f)})),Jo=(s,l)=>{const d={};return no(s,(f,b)=>{const v=l(f,b);d[v.k]=v.v}),d},Ho=s=>(l,d)=>{s[d]=l},sr=(s,l,d,f)=>{no(s,(b,v)=>{(l(b,v)?d:f)(b,v)})},Ss=(s,l)=>{const d={};return sr(s,l,Ho(d),W),d},ri=(s,l)=>{const d=[];return no(s,(f,b)=>{d.push(l(f,b))}),d},xs=(s,l)=>{const d=en(s);for(let f=0,b=d.length;f<b;f++){const v=d[f],C=s[v];if(l(C,v,s))return I.some(C)}return I.none()},la=s=>ri(s,me),cn=(s,l)=>uo(s,l)?I.from(s[l]):I.none(),uo=(s,l)=>An.call(s,l),$o=(s,l)=>uo(s,l)&&s[l]!==void 0&&s[l]!==null,mi=(s,l,d=oe)=>s.exists(f=>d(f,l)),dl=s=>{const l=[],d=f=>{l.push(f)};for(let f=0;f<s.length;f++)s[f].each(d);return l},tn=(s,l,d)=>s.isSome()&&l.isSome()?I.some(d(s.getOrDie(),l.getOrDie())):I.none(),ki=(s,l)=>s!=null?I.some(l(s)):I.none(),qo=(s,l)=>s?I.some(l):I.none(),Kl=(s,l,d)=>l===""||s.length>=l.length&&s.substr(d,d+l.length)===l,js=(s,l)=>Rc(s,l)?((d,f)=>d.substring(f))(s,l.length):s,ii=(s,l,d=0,f)=>{const b=s.indexOf(l,d);return b!==-1&&(!!M(f)||b+l.length<=f)},Rc=(s,l)=>Kl(s,l,0),Ic=(s,l)=>Kl(s,l,s.length-l.length),Dc=(hd=/^\s+|\s+$/g,s=>s.replace(hd,"")),El=s=>s.length>0,Pc=s=>!El(s),Zs=s=>s.style!==void 0&&G(s.style.getPropertyValue),So=s=>{if(s==null)throw new Error("Node cannot be null or undefined");return{dom:s}},fl=(s,l)=>{const d=document.createElement("div");if(d.innerHTML=s,!d.hasChildNodes()||d.childNodes.length>1){const f="HTML does not have a single root node";throw console.error(f,s),new Error(f)}return So(d.childNodes[0])},Ui=(s,l)=>{const d=document.createElement(s);return So(d)},Mu=(s,l)=>{const d=document.createTextNode(s);return So(d)},Sn=So,rc=typeof window<"u"?window:Function("return this;")(),jf=(s,l)=>((d,f)=>{let b=f??rc;for(let v=0;v<d.length&&b!=null;++v)b=b[d[v]];return b})(s.split("."),l),Tr=Object.getPrototypeOf,Zf=s=>{const l=jf("ownerDocument.defaultView",s);return x(s)&&((d=>((f,b)=>{const v=((C,k)=>jf(C,k))(f,b);if(v==null)throw new Error(f+" not available on this browser");return v})("HTMLElement",d))(l).prototype.isPrototypeOf(s)||/^HTML\w*Element$/.test(Tr(s).constructor.name))},ml=s=>s.dom.nodeName.toLowerCase(),jl=s=>l=>(d=>d.dom.nodeType)(l)===s,Tl=s=>dr(s)&&Zf(s.dom),dr=jl(1),ca=jl(3),gl=jl(9),Gf=jl(11),su=s=>l=>dr(l)&&ml(l)===s,Al=(s,l)=>{const d=s.dom;if(d.nodeType!==1)return!1;{const f=d;if(f.matches!==void 0)return f.matches(l);if(f.msMatchesSelector!==void 0)return f.msMatchesSelector(l);if(f.webkitMatchesSelector!==void 0)return f.webkitMatchesSelector(l);if(f.mozMatchesSelector!==void 0)return f.mozMatchesSelector(l);throw new Error("Browser lacks native selectors")}},Gd=s=>s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11||s.childElementCount===0,Lu=(s,l)=>{const d=l===void 0?document:l.dom;return Gd(d)?I.none():I.from(d.querySelector(s)).map(Sn)},cs=(s,l)=>s.dom===l.dom,Kr=(s,l)=>{const d=s.dom,f=l.dom;return d!==f&&d.contains(f)},gi=s=>Sn(s.dom.ownerDocument),qf=s=>gl(s)?s:gi(s),hl=s=>Sn(qf(s).dom.documentElement),ru=s=>Sn(qf(s).dom.defaultView),Pi=s=>I.from(s.dom.parentNode).map(Sn),Aa=s=>I.from(s.dom.parentElement).map(Sn),Oa=s=>I.from(s.dom.offsetParent).map(Sn),Vs=s=>Ve(s.dom.childNodes,Sn),wr=(s,l)=>{const d=s.dom.childNodes;return I.from(d[l]).map(Sn)},Be=s=>wr(s,0),gt=(s,l)=>({element:s,offset:l}),Ze=(s,l)=>{const d=Vs(s);return d.length>0&&l<d.length?gt(d[l],0):gt(s,l)},_t=s=>Gf(s)&&K(s.dom.host),Ct=s=>Sn(s.dom.getRootNode()),ut=s=>_t(s)?s:Sn(qf(s).dom.body),rn=s=>{const l=Ct(s);return _t(l)?I.some(l):I.none()},bn=s=>Sn(s.dom.host),Cn=s=>{const l=ca(s)?s.dom.parentNode:s.dom;if(l==null||l.ownerDocument===null)return!1;const d=l.ownerDocument;return rn(Sn(l)).fold(()=>d.body.contains(l),(f=Cn,b=bn,v=>f(b(v))));var f,b},Tn=()=>_n(Sn(document)),_n=s=>{const l=s.dom.body;if(l==null)throw new Error("Body is not available yet");return Sn(l)},Po=(s,l,d)=>{if(!(h(d)||A(d)||te(d)))throw console.error("Invalid call to Attribute.set. Key ",l,":: Value ",d,":: Element ",s),new Error("Attribute value was not simple");s.setAttribute(l,d+"")},xn=(s,l,d)=>{Po(s.dom,l,d)},Ws=(s,l)=>{const d=s.dom;no(l,(f,b)=>{Po(d,b,f)})},ns=(s,l)=>{const d=s.dom.getAttribute(l);return d===null?void 0:d},gs=(s,l)=>I.from(ns(s,l)),jr=(s,l)=>{const d=s.dom;return!(!d||!d.hasAttribute)&&d.hasAttribute(l)},Uo=(s,l)=>{s.dom.removeAttribute(l)},ic=(s,l,d)=>{if(!h(d))throw console.error("Invalid call to CSS.set. Property ",l,":: Value ",d,":: Element ",s),new Error("CSS value must be a string: "+d);Zs(s)&&s.style.setProperty(l,d)},Ra=(s,l)=>{Zs(s)&&s.style.removeProperty(l)},_o=(s,l,d)=>{const f=s.dom;ic(f,l,d)},Ol=(s,l)=>{const d=s.dom;no(l,(f,b)=>{ic(d,b,f)})},Rl=(s,l)=>{const d=s.dom;no(l,(f,b)=>{f.fold(()=>{Ra(d,b)},v=>{ic(d,b,v)})})},Or=(s,l)=>{const d=s.dom,f=window.getComputedStyle(d).getPropertyValue(l);return f!==""||Cn(s)?f:qd(d,l)},qd=(s,l)=>Zs(s)?s.style.getPropertyValue(l):"",Jr=(s,l)=>{const d=s.dom,f=qd(d,l);return I.from(f).filter(b=>b.length>0)},Yf=s=>{const l={},d=s.dom;if(Zs(d))for(let f=0;f<d.style.length;f++){const b=d.style.item(f);l[b]=d.style[b]}return l},Il=(s,l,d)=>{const f=Ui(s);return _o(f,l,d),Jr(f,l).isSome()},zs=(s,l)=>{const d=s.dom;Ra(d,l),mi(gs(s,"style").map(Dc),"")&&Uo(s,"style")},md=s=>s.dom.offsetWidth,Vm=(s,l)=>{const d=b=>{const v=l(b);if(v<=0||v===null){const C=Or(b,s);return parseFloat(C)||0}return v},f=(b,v)=>Qt(v,(C,k)=>{const E=Or(b,k),N=E===void 0?0:parseInt(E,10);return isNaN(N)?C:C+N},0);return{set:(b,v)=>{if(!te(v)&&!v.match(/^[0-9]+$/))throw new Error(s+".set accepts only positive integer values. Value was "+v);const C=b.dom;Zs(C)&&(C.style[s]=v+"px")},get:d,getOuter:d,aggregate:f,max:(b,v,C)=>{const k=f(b,C);return v>k?v-k:0}}},zm=Vm("height",s=>{const l=s.dom;return Cn(s)?l.getBoundingClientRect().height:l.offsetHeight}),Rr=s=>zm.get(s),pl=s=>zm.getOuter(s),Dl=(s,l)=>({left:s,top:l,translate:(d,f)=>Dl(s+d,l+f)}),rr=Dl,Yd=(s,l)=>s!==void 0?s:l!==void 0?l:0,Pl=s=>{const l=s.dom.ownerDocument,d=l.body,f=l.defaultView,b=l.documentElement;if(d===s.dom)return rr(d.offsetLeft,d.offsetTop);const v=Yd(f==null?void 0:f.pageYOffset,b.scrollTop),C=Yd(f==null?void 0:f.pageXOffset,b.scrollLeft),k=Yd(b.clientTop,d.clientTop),E=Yd(b.clientLeft,d.clientLeft);return ua(s).translate(C-E,v-k)},ua=s=>{const l=s.dom,d=l.ownerDocument.body;return d===l?rr(d.offsetLeft,d.offsetTop):Cn(s)?(f=>{const b=f.getBoundingClientRect();return rr(b.left,b.top)})(l):rr(0,0)},Hm=Vm("width",s=>s.dom.offsetWidth),Wi=s=>Hm.get(s),Ka=s=>Hm.getOuter(s),da=s=>{let l,d=!1;return(...f)=>(d||(d=!0,l=s.apply(null,f)),l)},bl=()=>Vg(0,0),Vg=(s,l)=>({major:s,minor:l}),os={nu:Vg,detect:(s,l)=>{const d=String(l).toLowerCase();return s.length===0?bl():((f,b)=>{const v=((k,E)=>{for(let N=0;N<k.length;N++){const $=k[N];if($.test(E))return $}})(f,b);if(!v)return{major:0,minor:0};const C=k=>Number(b.replace(v,"$"+k));return Vg(C(1),C(2))})(s,d)},unknown:bl},iu=(s,l)=>{const d=String(l).toLowerCase();return ee(s,f=>f.search(d))},gd=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,Bu=s=>l=>ii(l,s),np=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:s=>ii(s,"edge/")&&ii(s,"chrome")&&ii(s,"safari")&&ii(s,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,gd],search:s=>ii(s,"chrome")&&!ii(s,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:s=>ii(s,"msie")||ii(s,"trident")},{name:"Opera",versionRegexes:[gd,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:Bu("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:Bu("firefox")},{name:"Safari",versionRegexes:[gd,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:s=>(ii(s,"safari")||ii(s,"mobile/"))&&ii(s,"applewebkit")}],$v=[{name:"Windows",search:Bu("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:s=>ii(s,"iphone")||ii(s,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:Bu("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:Bu("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:Bu("linux"),versionRegexes:[]},{name:"Solaris",search:Bu("sunos"),versionRegexes:[]},{name:"FreeBSD",search:Bu("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:Bu("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],Zl={browsers:j(np),oses:j($v)},op="Edge",Vv="Chromium",zg="Opera",yb="Firefox",dn="Safari",Xd=s=>{const l=s.current,d=s.version,f=b=>()=>l===b;return{current:l,version:d,isEdge:f(op),isChromium:f(Vv),isIE:f("IE"),isOpera:f(zg),isFirefox:f(yb),isSafari:f(dn)}},Jd=()=>Xd({current:void 0,version:os.unknown()}),Hg=Xd,fa="Windows",Qd="Android",Xf="Linux",zv="macOS",xb="Solaris",wb="FreeBSD",G1="ChromeOS",Hv=s=>{const l=s.current,d=s.version,f=b=>()=>l===b;return{current:l,version:d,isWindows:f(fa),isiOS:f("iOS"),isAndroid:f(Qd),isMacOS:f(zv),isLinux:f(Xf),isSolaris:f(xb),isFreeBSD:f(wb),isChromeOS:f(G1)}},q1=()=>Hv({current:void 0,version:os.unknown()}),Ug=Hv,au=s=>window.matchMedia(s).matches;var hd;let lu=da(()=>((s,l,d)=>{const f=Zl.browsers(),b=Zl.oses(),v=l.bind(E=>((N,$)=>pn($.brands,B=>{const U=B.brand.toLowerCase();return ee(N,J=>{var se;return U===((se=J.brand)===null||se===void 0?void 0:se.toLowerCase())}).map(J=>({current:J.name,version:os.nu(parseInt(B.version,10),0)}))}))(f,E)).orThunk(()=>((E,N)=>iu(E,N).map($=>{const B=os.detect($.versionRegexes,N);return{current:$.name,version:B}}))(f,s)).fold(Jd,Hg),C=((E,N)=>iu(E,N).map($=>{const B=os.detect($.versionRegexes,N);return{current:$.name,version:B}}))(b,s).fold(q1,Ug),k=((E,N,$,B)=>{const U=E.isiOS()&&/ipad/i.test($)===!0,J=E.isiOS()&&!U,se=E.isiOS()||E.isAndroid(),pe=se||B("(pointer:coarse)"),ye=U||!J&&se&&B("(min-device-width:768px)"),Re=J||se&&!ye,ve=N.isSafari()&&E.isiOS()&&/safari/i.test($)===!1,be=!Re&&!ye&&!ve;return{isiPad:j(U),isiPhone:j(J),isTablet:j(ye),isPhone:j(Re),isTouch:j(pe),isAndroid:E.isAndroid,isiOS:E.isiOS,isWebView:j(ve),isDesktop:j(be)}})(C,v,s,d);return{browser:v,os:C,deviceType:k}})(window.navigator.userAgent,I.from(window.navigator.userAgentData),au));const Ki=()=>lu(),Nl=s=>{const l=Sn((v=>{if(K(v.target)){const C=Sn(v.target);if(dr(C)&&(k=>K(k.dom.shadowRoot))(C)&&v.composed&&v.composedPath){const k=v.composedPath();if(k)return Fe(k)}}return I.from(v.target)})(s).getOr(s.target)),d=()=>s.stopPropagation(),f=()=>s.preventDefault(),b=he(f,d);return((v,C,k,E,N,$,B)=>({target:v,x:C,y:k,stop:E,prevent:N,kill:$,raw:B}))(l,s.clientX,s.clientY,d,f,b,s)},ef=(s,l,d,f,b)=>{const v=((C,k)=>E=>{C(E)&&k(Nl(E))})(d,f);return s.dom.addEventListener(l,v,b),{unbind:Ce(hs,s,l,v,b)}},hs=(s,l,d,f)=>{s.dom.removeEventListener(l,d,f)},Nc=(s,l)=>{Pi(s).each(d=>{d.dom.insertBefore(l.dom,s.dom)})},Um=(s,l)=>{(f=>I.from(f.dom.nextSibling).map(Sn))(s).fold(()=>{Pi(s).each(f=>{vl(f,l)})},f=>{Nc(f,l)})},Wm=(s,l)=>{Be(s).fold(()=>{vl(s,l)},d=>{s.dom.insertBefore(l.dom,d.dom)})},vl=(s,l)=>{s.dom.appendChild(l.dom)},Qr=(s,l)=>{bt(l,d=>{vl(s,d)})},Cr=s=>{s.dom.textContent="",bt(Vs(s),l=>{Ji(l)})},Ji=s=>{const l=s.dom;l.parentNode!==null&&l.parentNode.removeChild(l)},fr=s=>{const l=s!==void 0?s.dom:document,d=l.body.scrollLeft||l.documentElement.scrollLeft,f=l.body.scrollTop||l.documentElement.scrollTop;return rr(d,f)},tf=(s,l,d)=>{const f=(d!==void 0?d.dom:document).defaultView;f&&f.scrollTo(s,l)},nf=(s,l,d,f)=>({x:s,y:l,width:d,height:f,right:s+d,bottom:l+f}),Ei=s=>{const l=s===void 0?window:s,d=l.document,f=fr(Sn(d));return(b=>{const v=b===void 0?window:b;return Ki().browser.isFirefox()?I.none():I.from(v.visualViewport)})(l).fold(()=>{const b=l.document.documentElement,v=b.clientWidth,C=b.clientHeight;return nf(f.left,f.top,v,C)},b=>nf(Math.max(b.pageLeft,f.left),Math.max(b.pageTop,f.top),b.width,b.height))},ja=()=>Sn(document),Ia=(s,l)=>s.view(l).fold(j([]),d=>{const f=s.owner(d),b=Ia(s,f);return[d].concat(b)});var hi=Object.freeze({__proto__:null,view:s=>{var l;return(s.dom===document?I.none():I.from((l=s.dom.defaultView)===null||l===void 0?void 0:l.frameElement)).map(Sn)},owner:s=>gi(s)});const pd=s=>{const l=ja(),d=fr(l);return((b,v)=>{const C=v.owner(b),k=Ia(v,C);return I.some(k)})(s,hi).fold(Ce(Pl,s),b=>{const v=ua(s),C=Bn(b,(k,E)=>{const N=ua(E);return{left:k.left+N.left,top:k.top+N.top}},{left:0,top:0});return rr(C.left+v.left+d.left,C.top+v.top+d.top)})},Yo=(s,l,d,f)=>({x:s,y:l,width:d,height:f,right:s+d,bottom:l+f}),ai=s=>{const l=Pl(s),d=Ka(s),f=pl(s);return Yo(l.left,l.top,d,f)},Za=s=>{const l=pd(s),d=Ka(s),f=pl(s);return Yo(l.left,l.top,d,f)},cu=(s,l)=>{const d=Math.max(s.x,l.x),f=Math.max(s.y,l.y),b=Math.min(s.right,l.right),v=Math.min(s.bottom,l.bottom);return Yo(d,f,b-d,v-f)},Ni=()=>Ei(window),Wn=s=>{let l=s;return{get:()=>l,set:d=>{l=d}}},Mc=s=>{const l=Wn(I.none()),d=()=>l.get().each(s);return{clear:()=>{d(),l.set(I.none())},isSet:()=>l.get().isSome(),get:()=>l.get(),set:f=>{d(),l.set(I.some(f))}}},Lc=()=>Mc(s=>s.unbind()),_s=()=>{const s=Mc(W);return{...s,on:l=>s.get().each(l)}};var Jf=tinymce.util.Tools.resolve("tinymce.ThemeManager");const sp=s=>{const l=v=>v(s),d=j(s),f=()=>b,b={tag:!0,inner:s,fold:(v,C)=>C(s),isValue:Ne,isError:Me,map:v=>ss.value(v(s)),mapError:f,bind:l,exists:l,forall:l,getOr:d,or:f,getOrThunk:d,orThunk:f,getOrDie:d,each:v=>{v(s)},toOptional:()=>I.some(s)};return b},uu=s=>{const l=()=>d,d={tag:!1,inner:s,fold:(f,b)=>f(s),isValue:Me,isError:Ne,map:l,mapError:f=>ss.error(f(s)),bind:l,exists:Me,forall:Ne,getOr:me,or:me,getOrThunk:dt,orThunk:dt,getOrDie:et(String(s)),each:W,toOptional:I.none};return d},ss={value:sp,error:uu,fromOption:(s,l)=>s.fold(()=>uu(l),sp)};var Da;(function(s){s[s.Error=0]="Error",s[s.Value=1]="Value"})(Da||(Da={}));const Km=(s,l,d)=>s.stype===Da.Error?l(s.serror):d(s.svalue),Fu=s=>({stype:Da.Value,svalue:s}),Wg=s=>({stype:Da.Error,serror:s}),Bc=Fu,Ga=Wg,du=Km,of=(s,l,d,f)=>({tag:"field",key:s,newKey:l,presence:d,prop:f}),Ye=(s,l,d)=>{switch(s.tag){case"field":return l(s.key,s.newKey,s.presence,s.prop);case"custom":return d(s.newKey,s.instantiator)}},Qf=s=>(...l)=>{if(l.length===0)throw new Error("Can't merge zero objects");const d={};for(let f=0;f<l.length;f++){const b=l[f];for(const v in b)uo(b,v)&&(d[v]=s(d[v],b[v]))}return d},qs=Qf((s,l)=>w(s)&&w(l)?qs(s,l):l),rp=Qf((s,l)=>l),jm=s=>({tag:"defaultedThunk",process:s}),Cc=s=>jm(j(s)),us=s=>({tag:"mergeWithThunk",process:s}),ma=s=>{const l=(f=>{const b=[],v=[];return bt(f,C=>{Km(C,k=>v.push(k),k=>b.push(k))}),{values:b,errors:v}})(s);return l.errors.length>0?(d=l.errors,he(Ga,nn)(d)):Bc(l.values);var d},ac=s=>x(s)&&en(s).length>100?" removed due to size":JSON.stringify(s,null,2),Sc=(s,l)=>Ga([{path:s,getErrorInfo:l}]),fu=s=>({extract:(l,d)=>((f,b)=>f.stype===Da.Error?b(f.serror):f)(s(d),f=>((b,v)=>Sc(b,j(v)))(l,f)),toString:j("val")}),$u=fu(Bc),Qi=(s,l,d,f)=>f(cn(s,l).getOrThunk(()=>d(s))),sf=(s,l,d,f,b)=>{const v=k=>b.extract(l.concat([f]),k),C=k=>k.fold(()=>Bc(I.none()),E=>((N,$)=>N.stype===Da.Value?{stype:Da.Value,svalue:$(N.svalue)}:N)(b.extract(l.concat([f]),E),I.some));switch(s.tag){case"required":return((k,E,N,$)=>cn(E,N).fold(()=>((B,U,J)=>Sc(B,()=>'Could not find valid *required* value for "'+U+'" in '+ac(J)))(k,N,E),$))(l,d,f,v);case"defaultedThunk":return Qi(d,f,s.process,v);case"option":return((k,E,N)=>N(cn(k,E)))(d,f,C);case"defaultedOptionThunk":return((k,E,N,$)=>$(cn(k,E).map(B=>B===!0?N(k):B)))(d,f,s.process,C);case"mergeWithThunk":return Qi(d,f,j({}),k=>{const E=qs(s.process(d),k);return v(E)})}},Zm=s=>({extract:(l,d)=>s().extract(l,d),toString:()=>s().toString()}),Kg=s=>en(Ss(s,K)),Mi=s=>{const l=oo(s),d=Bn(s,(f,b)=>Ye(b,v=>qs(f,{[v]:!0}),j(f)),{});return{extract:(f,b)=>{const v=A(b)?[]:Kg(b),C=Xt(v,k=>!$o(d,k));return C.length===0?l.extract(f,b):((k,E)=>Sc(k,()=>"There are unsupported fields: ["+E.join(", ")+"] specified"))(f,C)},toString:l.toString}},oo=s=>({extract:(l,d)=>((f,b,v)=>{const C={},k=[];for(const E of v)Ye(E,(N,$,B,U)=>{const J=sf(B,f,b,N,U);du(J,se=>{k.push(...se)},se=>{C[$]=se})},(N,$)=>{C[N]=$(b)});return k.length>0?Ga(k):Bc(C)})(l,d,s),toString:()=>`obj{
`+Ve(s,d=>Ye(d,(f,b,v,C)=>f+" -> "+C.toString(),(f,b)=>"state("+f+")")).join(`
`)+"}"}),Vu=s=>({extract:(l,d)=>{const f=Ve(d,(b,v)=>s.extract(l.concat(["["+v+"]"]),b));return ma(f)},toString:()=>"array("+s.toString()+")"}),em=(s,l)=>{const d=l!==void 0?l:me;return{extract:(f,b)=>{const v=[];for(const C of s){const k=C.extract(f,b);if(k.stype===Da.Value)return{stype:Da.Value,svalue:d(k.svalue)};v.push(k)}return ma(v)},toString:()=>"oneOf("+Ve(s,f=>f.toString()).join(", ")+")"}},ga=(s,l)=>({extract:(d,f)=>{const b=en(f),v=((C,k)=>Vu(fu(s)).extract(C,k))(d,b);return((C,k)=>C.stype===Da.Value?k(C.svalue):C)(v,C=>{const k=Ve(C,E=>of(E,E,{tag:"required",process:{}},l));return oo(k).extract(d,f)})},toString:()=>"setOf("+l.toString()+")"}),zu=he(Vu,oo),Gl=j($u),Hu=(s,l)=>fu(d=>{const f=typeof d;return s(d)?Bc(d):Ga(`Expected type: ${l} but got: ${f}`)}),bd=Hu(te,"number"),Li=Hu(h,"string"),_c=Hu(A,"boolean"),mu=Hu(G,"function"),tm=s=>{if(Object(s)!==s)return!0;switch({}.toString.call(s).slice(8,-1)){case"Boolean":case"Number":case"String":case"Date":case"RegExp":case"Blob":case"FileList":case"ImageData":case"ImageBitmap":case"ArrayBuffer":return!0;case"Array":case"Object":return Object.keys(s).every(l=>tm(s[l]));default:return!1}},Cb=fu(s=>tm(s)?Bc(s):Ga("Expected value to be acceptable for sending via postMessage")),Uu=(s,l)=>({extract:(d,f)=>cn(f,s).fold(()=>((b,v)=>Sc(b,()=>'Choice schema did not contain choice key: "'+v+'"'))(d,s),b=>((v,C,k,E)=>cn(k,E).fold(()=>((N,$,B)=>Sc(N,()=>'The chosen schema: "'+B+'" did not exist in branches: '+ac($)))(v,k,E),N=>N.extract(v.concat(["branch: "+E]),C)))(d,f,l,b)),toString:()=>"chooseOn("+s+"). Possible values: "+en(l)}),rf=s=>fu(l=>s(l).fold(Ga,Bc)),Gm=(s,l)=>ga(d=>s(d).fold(Wg,Fu),l),Ir=(s,l,d)=>{return f=((b,v,C)=>((k,E)=>k.stype===Da.Error?{stype:Da.Error,serror:E(k.serror)}:k)(v.extract([b],C),k=>({input:C,errors:k})))(s,l,d),Km(f,ss.error,ss.value);var f},Pa=s=>s.fold(l=>{throw new Error(qa(l))},me),Na=(s,l,d)=>Pa(Ir(s,l,d)),qa=s=>`Errors: 
`+(l=>{const d=l.length>10?l.slice(0,10).concat([{path:[],getErrorInfo:j("... (only showing first ten failures)")}]):l;return Ve(d,f=>"Failed path: ("+f.path.join(" > ")+`)
`+f.getErrorInfo())})(s.errors).join(`
`)+`

Input object: `+ac(s.input),Ti=(s,l)=>Uu(s,co(l,oo)),nm=(s,l)=>((d,f)=>{const b=da(f);return{extract:(v,C)=>b().extract(v,C),toString:()=>b().toString()}})(0,l),pi=of,ji=(s,l)=>({tag:"custom",newKey:s,instantiator:l}),Fc=s=>rf(l=>mt(s,l)?ss.value(l):ss.error(`Unsupported value: "${l}", choose one of "${s.join(", ")}".`)),Ht=s=>pi(s,s,{tag:"required",process:{}},Gl()),Bi=(s,l)=>pi(s,s,{tag:"required",process:{}},l),jg=s=>Bi(s,bd),Sr=s=>Bi(s,Li),Wu=(s,l)=>pi(s,s,{tag:"required",process:{}},Fc(l)),Ya=s=>Bi(s,mu),$c=(s,l)=>pi(s,s,{tag:"required",process:{}},oo(l)),om=(s,l)=>pi(s,s,{tag:"required",process:{}},zu(l)),Xa=(s,l)=>pi(s,s,{tag:"required",process:{}},Vu(l)),ds=s=>pi(s,s,{tag:"option",process:{}},Gl()),$r=(s,l)=>pi(s,s,{tag:"option",process:{}},l),Ku=s=>$r(s,bd),Zr=s=>$r(s,Li),qm=(s,l)=>$r(s,Fc(l)),Vc=s=>$r(s,mu),ip=(s,l)=>$r(s,Vu(l)),Dr=(s,l)=>$r(s,oo(l)),vt=(s,l)=>pi(s,s,Cc(l),Gl()),Ja=(s,l,d)=>pi(s,s,Cc(l),d),Vr=(s,l)=>Ja(s,l,bd),lc=(s,l)=>Ja(s,l,Li),zc=(s,l,d)=>Ja(s,l,Fc(d)),li=(s,l)=>Ja(s,l,_c),ir=(s,l)=>Ja(s,l,mu),Hs=(s,l,d)=>Ja(s,l,Vu(d)),ha=(s,l,d)=>Ja(s,l,oo(d)),pa=s=>{if(!R(s))throw new Error("cases must be an array");if(s.length===0)throw new Error("there must be at least one case");const l=[],d={};return bt(s,(f,b)=>{const v=en(f);if(v.length!==1)throw new Error("one and only one name per case");const C=v[0],k=f[C];if(d[C]!==void 0)throw new Error("duplicate key detected:"+C);if(C==="cata")throw new Error("cannot have a case named cata (sorry)");if(!R(k))throw new Error("case arguments must be an array");l.push(C),d[C]=(...E)=>{const N=E.length;if(N!==k.length)throw new Error("Wrong number of arguments to case "+C+". Expected "+k.length+" ("+k+"), got "+N);return{fold:(...$)=>{if($.length!==s.length)throw new Error("Wrong number of arguments to fold. Expected "+s.length+", got "+$.length);return $[b].apply(null,E)},match:$=>{const B=en($);if(l.length!==B.length)throw new Error("Wrong number of arguments to match. Expected: "+l.join(",")+`
Actual: `+B.join(","));if(!qe(l,U=>mt(B,U)))throw new Error("Not all branches were specified when using match. Specified: "+B.join(", ")+`
Required: `+l.join(", "));return $[C].apply(null,E)},log:$=>{console.log($,{constructors:l,constructor:C,params:E})}}}}),d};pa([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]);const Ml=(s,l)=>((d,f)=>({[d]:f}))(s,l),kc=s=>(l=>{const d={};return bt(l,f=>{d[f.key]=f.value}),d})(s),gu=s=>G(s)?s:Me,vd=(s,l,d)=>{let f=s.dom;const b=gu(d);for(;f.parentNode;){f=f.parentNode;const v=Sn(f),C=l(v);if(C.isSome())return C;if(b(v))break}return I.none()},sm=(s,l,d)=>{const f=l(s),b=gu(d);return f.orThunk(()=>b(s)?I.none():vd(s,l,b))},Zg=(s,l)=>cs(s.element,l.event.target),ap={can:Ne,abort:Me,run:W},ju=s=>{if(!$o(s,"can")&&!$o(s,"abort")&&!$o(s,"run"))throw new Error("EventHandler defined by: "+JSON.stringify(s,null,2)+" does not have can, abort, or run!");return{...ap,...s}},L=j,Y=L("touchstart"),de=L("touchmove"),We=L("touchend"),tt=L("touchcancel"),Ut=L("mousedown"),lo=L("mousemove"),Mo=L("mouseout"),ko=L("mouseup"),jn=L("mouseover"),Is=L("focusin"),ei=L("focusout"),Pr=L("keydown"),Hc=L("keyup"),af=L("input"),rm=L("change"),bi=L("click"),Y1=L("transitioncancel"),lp=L("transitionend"),Uv=L("transitionstart"),Ma=L("selectstart"),Gr=s=>j("alloy."+s),ea={tap:Gr("tap")},Zu=Gr("focus"),lf=Gr("blur.post"),cp=Gr("paste.post"),cc=Gr("receive"),yl=Gr("execute"),Ym=Gr("focus.item"),cf=ea.tap,Qx=Gr("longpress"),up=Gr("sandbox.close"),yd=Gr("typeahead.cancel"),uf=Gr("system.init"),Un=Gr("system.touchmove"),Uc=Gr("system.touchend"),dp=Gr("system.scroll"),df=Gr("system.resize"),ba=Gr("system.attached"),Wc=Gr("system.detached"),Xm=Gr("system.dismissRequested"),ff=Gr("system.repositionRequested"),Sb=Gr("focusmanager.shifted"),hu=Gr("slotcontainer.visibility"),Gg=Gr("system.external.element.scroll"),qg=Gr("change.tab"),on=Gr("dismiss.tab"),Wv=Gr("highlight"),mf=Gr("dehighlight"),Wo=(s,l)=>{Kc(s,s.element,l,{})},Xn=(s,l,d)=>{Kc(s,s.element,l,d)},gf=s=>{Wo(s,yl())},Ar=(s,l,d)=>{Kc(s,l,d,{})},Kc=(s,l,d,f)=>{const b={target:l,...f};s.getSystem().triggerEvent(d,l,b)},jc=(s,l,d,f)=>{s.getSystem().triggerEvent(d,l,f.event)},To=s=>kc(s),Yg=(s,l)=>({key:s,value:ju({abort:l})}),X1=s=>({key:s,value:ju({run:(l,d)=>{d.event.prevent()}})}),Lt=(s,l)=>({key:s,value:ju({run:l})}),Kv=(s,l,d)=>({key:s,value:ju({run:(f,b)=>{l.apply(void 0,[f,b].concat(d))}})}),Xg=s=>l=>({key:s,value:ju({run:(d,f)=>{Zg(d,f)&&l(d,f)}})}),Jg=(s,l,d)=>((f,b)=>Lt(f,(v,C)=>{v.getSystem().getByUid(b).each(k=>{jc(k,k.element,f,C)})}))(s,l.partUids[d]),Jm=(s,l)=>Lt(s,(d,f)=>{const b=f.event,v=d.getSystem().getByDom(b.target).getOrThunk(()=>sm(b.target,C=>d.getSystem().getByDom(C).toOptional(),Me).getOr(d));l(d,v,f)}),im=s=>Lt(s,(l,d)=>{d.cut()}),J1=s=>Lt(s,(l,d)=>{d.stop()}),hf=(s,l)=>Xg(s)(l),hr=Xg(ba()),Gu=Xg(Wc()),fp=Xg(uf()),pu=(th=yl(),s=>Lt(th,s)),am=s=>Ve(s,l=>Ic(l,"/*")?l.substring(0,l.length-2):l),uc=(s,l)=>{const d=s.toString(),f=d.indexOf(")")+1,b=d.indexOf("("),v=d.substring(b+1,f-1).split(/,\s*/);return s.toFunctionAnnotation=()=>({name:l,parameters:am(v)}),s},Nr=s=>({classes:M(s.classes)?[]:s.classes,attributes:M(s.attributes)?{}:s.attributes,styles:M(s.styles)?{}:s.styles}),lm=(s,l,d)=>fp((f,b)=>{d(f,s,l)}),Fi=s=>({key:s,value:void 0}),_b=(s,l,d,f,b,v,C)=>{const k=$=>$o($,d)?$[d]():I.none(),E=co(b,($,B)=>((U,J,se)=>((pe,ye,Re)=>{const ve=Re.toString(),be=ve.indexOf(")")+1,ke=ve.indexOf("("),Ie=ve.substring(ke+1,be-1).split(/,\s*/);return pe.toFunctionAnnotation=()=>({name:ye,parameters:am(Ie.slice(0,1).concat(Ie.slice(3)))}),pe})((pe,...ye)=>{const Re=[pe].concat(ye);return pe.config({name:j(U)}).fold(()=>{throw new Error("We could not find any behaviour configuration for: "+U+". Using API: "+se)},ve=>{const be=Array.prototype.slice.call(Re,1);return J.apply(void 0,[pe,ve.config,ve.state].concat(be))})},se,J))(d,$,B)),N={...co(v,($,B)=>uc($,B)),...E,revoke:Ce(Fi,d),config:$=>{const B=Na(d+"-config",s,$);return{key:d,value:{config:B,me:N,configAsRaw:da(()=>Na(d+"-config",s,$)),initialConfig:$,state:C}}},schema:j(l),exhibit:($,B)=>tn(k($),cn(f,"exhibit"),(U,J)=>J(B,U.config,U.state)).getOrThunk(()=>Nr({})),name:j(d),handlers:$=>k($).map(B=>cn(f,"events").getOr(()=>({}))(B.config,B.state)).getOr({})};return N},Zc={init:()=>Ai({readState:j("No State required")})},Ai=s=>s,an=s=>kc(s),cm=Mi([Ht("fields"),Ht("name"),vt("active",{}),vt("apis",{}),vt("state",Zc),vt("extra",{})]),Zi=s=>{const l=Na("Creating behaviour: "+s.name,cm,s);return((d,f,b,v,C,k)=>{const E=Mi(d),N=Dr(f,[($=d,$r("config",Mi($)))]);var $;return _b(E,N,f,b,v,C,k)})(l.fields,l.name,l.active,l.apis,l.extra,l.state)},D=Mi([Ht("branchKey"),Ht("branches"),Ht("name"),vt("active",{}),vt("apis",{}),vt("state",Zc),vt("extra",{})]),z=s=>{const l=Na("Creating behaviour: "+s.name,D,s);return((d,f,b,v,C,k)=>{const E=d,N=Dr(f,[$r("config",d)]);return _b(E,N,f,b,v,C,k)})(Ti(l.branchKey,l.branches),l.name,l.active,l.apis,l.extra,l.state)},ue=j(void 0),Te=(s,l)=>{const d=ns(s,l);return d===void 0||d===""?[]:d.split(" ")},ot=s=>s.dom.classList!==void 0,Vt=s=>Te(s,"class"),un=(s,l)=>((d,f,b)=>{const v=Te(d,f).concat([b]);return xn(d,f,v.join(" ")),!0})(s,"class",l),$n=(s,l)=>((d,f,b)=>{const v=Xt(Te(d,f),C=>C!==b);return v.length>0?xn(d,f,v.join(" ")):Uo(d,f),!1})(s,"class",l),Vn=(s,l)=>{ot(s)?s.dom.classList.add(l):un(s,l)},Ko=s=>{(ot(s)?s.dom.classList:Vt(s)).length===0&&Uo(s,"class")},Fo=(s,l)=>{ot(s)?s.dom.classList.remove(l):$n(s,l),Ko(s)},es=(s,l)=>ot(s)&&s.dom.classList.contains(l),Qo=(s,l)=>{bt(l,d=>{Vn(s,d)})},ci=(s,l)=>{bt(l,d=>{Fo(s,d)})},Qa=s=>ot(s)?(l=>{const d=l.dom.classList,f=new Array(d.length);for(let b=0;b<d.length;b++){const v=d.item(b);v!==null&&(f[b]=v)}return f})(s):Vt(s),qr=(s,l,d,f,b)=>{const v=C=>C+"px";return{position:s,left:l.map(v),top:d.map(v),right:f.map(v),bottom:b.map(v)}},qu=(s,l)=>{Rl(s,(d=>({...d,position:I.some(d.position)}))(l))},um=s=>(mi(Jr(s,"position"),"fixed")?I.none():Oa(s)).orThunk(()=>{const l=Ui("span");return Pi(s).bind(d=>{vl(d,l);const f=Oa(l);return Ji(l),f})}),bu=s=>um(s).map(Pl).getOrThunk(()=>rr(0,0)),Qg=(s,l)=>{const d=s.element;Vn(d,l.transitionClass),Fo(d,l.fadeOutClass),Vn(d,l.fadeInClass),l.onShow(s)},xd=(s,l)=>{const d=s.element;Vn(d,l.transitionClass),Fo(d,l.fadeInClass),Vn(d,l.fadeOutClass),l.onHide(s)},mp=(s,l)=>s.y>=l.y,Qm=(s,l)=>s.bottom<=l.bottom,dm=(s,l,d)=>({location:"top",leftX:l,topY:d.bounds.y-s.y}),kb=(s,l,d)=>({location:"bottom",leftX:l,bottomY:s.bottom-d.bounds.bottom}),jv=s=>s.box.x-s.win.x,ps=(s,l,d)=>d.getInitialPos().map(f=>{const b=((v,C)=>{const k=C.optScrollEnv.fold(j(v.bounds.y),E=>E.scrollElmTop+(v.bounds.y-E.currentScrollTop));return rr(v.bounds.x,k)})(f,l);return{box:Yo(b.left,b.top,Wi(s),Rr(s)),location:f.location}}),ti=(s,l,d,f,b)=>{const v=((k,E)=>{const N=E.optScrollEnv.fold(j(k.y),$=>k.y+$.currentScrollTop-$.scrollElmTop);return rr(k.x,N)})(l,d),C=Yo(v.left,v.top,l.width,l.height);f.setInitialPos({style:Yf(s),position:Or(s,"position")||"static",bounds:C,location:b.location})},el=(s,l,d)=>d.getInitialPos().bind(f=>{var b;switch(d.clearInitialPos(),f.position){case"static":return I.some({morph:"static"});case"absolute":const v=um(s).getOr(Tn()),C=ai(v),k=(b=v.dom.scrollTop)!==null&&b!==void 0?b:0;return I.some({morph:"absolute",positionCss:qr("absolute",cn(f.style,"left").map(E=>l.x-C.x),cn(f.style,"top").map(E=>l.y-C.y+k),cn(f.style,"right").map(E=>C.right-l.right),cn(f.style,"bottom").map(E=>C.bottom-l.bottom))});default:return I.none()}}),ql=s=>{switch(s.location){case"top":return I.some({morph:"fixed",positionCss:qr("fixed",I.some(s.leftX),I.some(s.topY),I.none(),I.none())});case"bottom":return I.some({morph:"fixed",positionCss:qr("fixed",I.some(s.leftX),I.none(),I.none(),I.some(s.bottomY))});default:return I.none()}},Zv=(s,l,d)=>{const f=s.element;return mi(Jr(f,"position"),"fixed")?((b,v,C)=>((k,E,N)=>ps(k,E,N).filter(({box:$})=>((B,U,J)=>qe(B,se=>{switch(se){case"bottom":return Qm(U,J.bounds);case"top":return mp(U,J.bounds)}}))(N.getModes(),$,E)).bind(({box:$})=>el(k,$,N)))(b,v,C).orThunk(()=>v.optScrollEnv.bind(k=>ps(b,v,C)).bind(({box:k,location:E})=>{const N=Ni(),$=jv({win:N,box:k}),B=E==="top"?dm(N,$,v):kb(N,$,v);return ql(B)})))(f,l,d):((b,v,C)=>{const k=ai(b),E=Ni(),N=(($,B,U)=>{const J=B.win,se=B.box,pe=jv(B);return pn($,ye=>{switch(ye){case"bottom":return Qm(se,U.bounds)?I.none():I.some(kb(J,pe,U));case"top":return mp(se,U.bounds)?I.none():I.some(dm(J,pe,U));default:return I.none()}}).getOr({location:"no-dock"})})(C.getModes(),{win:E,box:k},v);return N.location==="top"||N.location==="bottom"?(ti(b,k,v,C,N),ql(N)):I.none()})(f,l,d)},Gv=(s,l,d)=>{d.setDocked(!1),bt(["left","right","top","bottom","position"],f=>zs(s.element,f)),l.onUndocked(s)},fm=(s,l,d,f)=>{const b=f.position==="fixed";d.setDocked(b),qu(s.element,f),(b?l.onDocked:l.onUndocked)(s)},eh=(s,l,d,f,b=!1)=>{l.contextual.each(v=>{v.lazyContext(s).each(C=>{const k=((E,N)=>E.y<N.bottom&&E.bottom>N.y)(C,f.bounds);k!==d.isVisible()&&(d.setVisible(k),b&&!k?(Qo(s.element,[v.fadeOutClass]),v.onHide(s)):(k?Qg:xd)(s,v))})})},ew=(s,l,d,f,b)=>{eh(s,l,d,f,!0),fm(s,l,d,b.positionCss)},qv=(s,l,d)=>{s.getSystem().isConnected()&&((f,b,v)=>{const C=b.lazyViewport(f);eh(f,b,v,C),Zv(f,C,v).each(k=>{((E,N,$,B,U)=>{switch(U.morph){case"static":return Gv(E,N,$);case"absolute":return fm(E,N,$,U.positionCss);case"fixed":ew(E,N,$,B,U)}})(f,b,v,C,k)})})(s,l,d)},Eb=(s,l,d)=>{d.isDocked()&&((f,b,v)=>{const C=f.element;v.setDocked(!1);const k=b.lazyViewport(f);((E,N,$)=>{const B=E.element;return ps(B,N,$).bind(({box:U})=>el(B,U,$))})(f,k,v).each(E=>{switch(E.morph){case"static":Gv(f,b,v);break;case"absolute":fm(f,b,v,E.positionCss)}}),v.setVisible(!0),b.contextual.each(E=>{ci(C,[E.fadeInClass,E.fadeOutClass,E.transitionClass]),E.onShow(f)}),qv(f,b,v)})(s,l,d)},tw=s=>(l,d,f)=>{const b=d.lazyViewport(l);((v,C,k,E)=>{const N=ai(v),$=Ni(),B=E($,jv({win:$,box:N}),C);return B.location==="bottom"||B.location==="top"?(((U,J,se,pe,ye)=>{pe.getInitialPos().fold(()=>ti(U,J,se,pe,ye),()=>W)})(v,N,C,k,B),ql(B)):I.none()})(l.element,b,f,s).each(v=>{ew(l,d,f,b,v)})},Yv=tw(dm),Xv=tw(kb);var th,Tb=Object.freeze({__proto__:null,refresh:qv,reset:Eb,isDocked:(s,l,d)=>d.isDocked(),getModes:(s,l,d)=>d.getModes(),setModes:(s,l,d,f)=>d.setModes(f),forceDockToTop:Yv,forceDockToBottom:Xv}),nw=Object.freeze({__proto__:null,events:(s,l)=>To([hf(lp(),(d,f)=>{s.contextual.each(b=>{es(d.element,b.transitionClass)&&(ci(d.element,[b.transitionClass,b.fadeInClass]),(l.isVisible()?b.onShown:b.onHidden)(d)),f.stop()})}),Lt(dp(),(d,f)=>{qv(d,s,l)}),Lt(Gg(),(d,f)=>{qv(d,s,l)}),Lt(df(),(d,f)=>{Eb(d,s,l)})])});const mm=s=>s.dom.innerHTML,gp=(s,l)=>{const d=gi(s).dom,f=Sn(d.createDocumentFragment()),b=((v,C)=>{const k=(C||document).createElement("div");return k.innerHTML=v,Vs(Sn(k))})(l,d);Qr(f,b),Cr(s),vl(s,f)},hp=(s,l)=>Sn(s.dom.cloneNode(l)),gm=s=>(l=>{if(_t(l))return"#shadow-root";{const d=(f=>hp(f,!1))(l);return(f=>{const b=Ui("div"),v=Sn(f.dom.cloneNode(!0));return vl(b,v),mm(b)})(d)}})(s);var eg;(function(s){s[s.STOP=0]="STOP",s[s.NORMAL=1]="NORMAL",s[s.LOGGING=2]="LOGGING"})(eg||(eg={}));const Jv=Wn({}),qE=["alloy/data/Fields","alloy/debugging/Debugging"],Qv=(s,l,d)=>((f,b,v)=>{switch(cn(Jv.get(),f).orThunk(()=>{const C=en(Jv.get());return pn(C,k=>f.indexOf(k)>-1?I.some(Jv.get()[k]):I.none())}).getOr(eg.NORMAL)){case eg.NORMAL:return v(Yu());case eg.LOGGING:{const C=((E,N)=>{const $=[],B=new Date().getTime();return{logEventCut:(U,J,se)=>{$.push({outcome:"cut",target:J,purpose:se})},logEventStopped:(U,J,se)=>{$.push({outcome:"stopped",target:J,purpose:se})},logNoParent:(U,J,se)=>{$.push({outcome:"no-parent",target:J,purpose:se})},logEventNoHandlers:(U,J)=>{$.push({outcome:"no-handlers-left",target:J})},logEventResponse:(U,J,se)=>{$.push({outcome:"response",purpose:se,target:J})},write:()=>{const U=new Date().getTime();mt(["mousemove","mouseover","mouseout",uf()],E)||console.log(E,{event:E,time:U-B,target:N.dom,sequence:Ve($,J=>mt(["cut","stopped","response"],J.outcome)?"{"+J.purpose+"} "+J.outcome+" at ("+gm(J.target)+")":J.outcome)})}}})(f,b),k=v(C);return C.write(),k}case eg.STOP:return!0}})(s,l,d),Yu=j({logEventCut:W,logEventStopped:W,logNoParent:W,logEventNoHandlers:W,logEventResponse:W,write:W}),nS=j([Ht("menu"),Ht("selectedMenu")]),ow=j([Ht("item"),Ht("selectedItem")]);j(oo(ow().concat(nS())));const pp=j(oo(ow())),tl=$c("initSize",[Ht("numColumns"),Ht("numRows")]),bp=()=>$c("markers",[Ht("backgroundMenu")].concat(nS()).concat(ow())),vp=s=>$c("markers",Ve(s,Ht)),Q1=(s,l,d)=>((()=>{const f=new Error;if(f.stack!==void 0){const b=f.stack.split(`
`);ee(b,v=>v.indexOf("alloy")>0&&!Rn(qE,C=>v.indexOf(C)>-1)).getOr("unknown")}})(),pi(l,l,d,rf(f=>ss.value((...b)=>f.apply(void 0,b))))),ks=s=>Q1(0,s,Cc(W)),dc=s=>Q1(0,s,Cc(I.none)),pf=s=>Q1(0,s,{tag:"required",process:{}}),xl=s=>Q1(0,s,{tag:"required",process:{}}),pr=(s,l)=>ji(s,j(l)),e0=s=>ji(s,me),oS=j(tl);var YE=[Dr("contextual",[Sr("fadeInClass"),Sr("fadeOutClass"),Sr("transitionClass"),Ya("lazyContext"),ks("onShow"),ks("onShown"),ks("onHide"),ks("onHidden")]),ir("lazyViewport",()=>({bounds:Ni(),optScrollEnv:I.none()})),Hs("modes",["top","bottom"],Li),ks("onDocked"),ks("onUndocked")];const Mr=Zi({fields:YE,name:"docking",active:nw,apis:Tb,state:Object.freeze({__proto__:null,init:s=>{const l=Wn(!1),d=Wn(!0),f=_s(),b=Wn(s.modes);return Ai({isDocked:l.get,setDocked:l.set,getInitialPos:f.get,setInitialPos:f.set,clearInitialPos:f.clear,isVisible:d.get,setVisible:d.set,getModes:b.get,setModes:b.set,readState:()=>`docked:  ${l.get()}, visible: ${d.get()}, modes: ${b.get().join(",")}`})}})}),ey=To([((s,l)=>({key:s,value:ju({can:(d,f)=>{const b=f.event,v=b.originator,C=b.target;return!((k,E,N)=>cs(E,k.element)&&!cs(E,N))(d,v,C)||(console.warn(Zu()+` did not get interpreted by the desired target. 
Originator: `+gm(v)+`
Target: `+gm(C)+`
Check the `+Zu()+" event handlers"),!1)}})}))(Zu())]);var sw=Object.freeze({__proto__:null,events:ey});const nh=(s,l,d,f)=>{const b=s+l;return b>f?d:b<d?f:b},Xu=(s,l,d)=>Math.min(Math.max(s,l),d);let Ab=0;const Nn=s=>{const l=new Date().getTime(),d=Math.floor(window.crypto.getRandomValues(new Uint32Array(1))[0]/4294967295*1e9);return Ab++,s+"_"+d+Ab+String(l)},wd=j("alloy-id-"),rw=j("data-alloy-id"),ty=wd(),Ob=rw(),ny=(s,l)=>{Object.defineProperty(s.dom,Ob,{value:l,writable:!0})},yp=s=>{const l=dr(s)?s.dom[Ob]:null;return I.from(l)},Ju=s=>Nn(s),XE=me,oy=s=>{const l=b=>`The component must be in a context to execute: ${b}`+(s?`
`+gm(s().element)+" is not in context.":""),d=b=>()=>{throw new Error(l(b))},f=b=>()=>{console.warn(l(b))};return{debugInfo:j("fake"),triggerEvent:f("triggerEvent"),triggerFocus:f("triggerFocus"),triggerEscape:f("triggerEscape"),broadcast:f("broadcast"),broadcastOn:f("broadcastOn"),broadcastEvent:f("broadcastEvent"),build:d("build"),buildOrPatch:d("buildOrPatch"),addToWorld:d("addToWorld"),removeFromWorld:d("removeFromWorld"),addToGui:d("addToGui"),removeFromGui:d("removeFromGui"),getByUid:d("getByUid"),getByDom:d("getByDom"),isConnected:Me}},iw=oy(),sy=Nn("alloy-premade"),aw=s=>(Object.defineProperty(s.element.dom,sy,{value:s.uid,writable:!0}),Ml(sy,s)),lw=s=>cn(s,sy),ry=s=>((l,d)=>{const f=d.toString(),b=f.indexOf(")")+1,v=f.indexOf("("),C=f.substring(v+1,b-1).split(/,\s*/);return l.toFunctionAnnotation=()=>({name:"OVERRIDE",parameters:am(C.slice(1))}),l})((l,...d)=>s(l.getApis(),l,...d),s),cw=(s,l)=>{const d={};return no(s,(f,b)=>{no(f,(v,C)=>{const k=cn(d,C).getOr([]);d[C]=k.concat([l(b,v)])})}),d},uw=s=>s.cHandler,sS=(s,l)=>({name:s,handler:l}),JE=(s,l)=>{const d={};return bt(s,f=>{d[f.name()]=f.handlers(l)}),d},t0=(s,l,d)=>{const f=l[d];return f?((b,v,C,k)=>{try{const E=xe(C,(N,$)=>{const B=N[v],U=$[v],J=k.indexOf(B),se=k.indexOf(U);if(J===-1)throw new Error("The ordering for "+b+" does not have an entry for "+B+`.
Order specified: `+JSON.stringify(k,null,2));if(se===-1)throw new Error("The ordering for "+b+" does not have an entry for "+U+`.
Order specified: `+JSON.stringify(k,null,2));return J<se?-1:se<J?1:0});return ss.value(E)}catch(E){return ss.error([E])}})("Event: "+d,"name",s,f).map(b=>(v=>({can:((E,N)=>(...$)=>Qt(E,(B,U)=>B&&(J=>J.can)(U).apply(void 0,$),!0))(v),abort:((E,N)=>(...$)=>Qt(E,(B,U)=>B||(J=>J.abort)(U).apply(void 0,$),!1))(v),run:(...E)=>{bt(v,N=>{N.run.apply(void 0,E)})}}))(Ve(b,v=>v.handler))):((b,v)=>ss.error(["The event ("+b+`) has more than one behaviour that listens to it.
When this occurs, you must specify an event ordering for the behaviours in your spec (e.g. [ "listing", "toggling" ]).
The behaviours that can trigger it are: `+JSON.stringify(Ve(v,C=>C.name),null,2)]))(d,s)},dw=(s,l)=>((d,f)=>{const b=(C=>{const k=[],E=[];return bt(C,N=>{N.fold($=>{k.push($)},$=>{E.push($)})}),{errors:k,values:E}})(d);return b.errors.length>0?(v=b.errors,ss.error(nn(v))):((C,k)=>C.length===0?ss.value(k):ss.value(qs(k,rp.apply(void 0,C))))(b.values,f);var v})(ri(s,(d,f)=>(d.length===1?ss.value(d[0].handler):t0(d,l,f)).map(b=>{const v=(k=>{const E=(N=>G(N)?{can:Ne,abort:Me,run:N}:N)(k);return(N,$,...B)=>{const U=[N,$].concat(B);E.abort.apply(void 0,U)?$.stop():E.can.apply(void 0,U)&&E.run.apply(void 0,U)}})(b),C=d.length>1?Xt(l[f],k=>Rn(d,E=>E.name===k)).join(" > "):d[0].name;return Ml(f,((k,E)=>({handler:k,purpose:E}))(v,C))})),{}),xp="alloy.base.behaviour",QE=oo([pi("dom","dom",{tag:"required",process:{}},oo([Ht("tag"),vt("styles",{}),vt("classes",[]),vt("attributes",{}),ds("value"),ds("innerHtml")])),Ht("components"),Ht("uid"),vt("events",{}),vt("apis",{}),pi("eventOrder","eventOrder",(wp={[yl()]:["disabling",xp,"toggling","typeaheadevents"],[Zu()]:[xp,"focusing","keying"],[uf()]:[xp,"disabling","toggling","representing","tooltipping"],[af()]:[xp,"representing","streaming","invalidating"],[Wc()]:[xp,"representing","item-events","toolbar-button-events","tooltipping"],[Ut()]:["focusing",xp,"item-type-events"],[Y()]:["focusing",xp,"item-type-events"],[jn()]:["item-type-events","tooltipping"],[cc()]:["receiving","reflecting","tooltipping"]},us(j(wp))),Gl()),ds("domModification")]),eT=s=>s.events,tg=s=>s.dom.value,oh=(s,l)=>{if(l===void 0)throw new Error("Value.set was undefined");s.dom.value=l},iy=(s,l,d)=>{d.fold(()=>vl(s,l),f=>{cs(f,l)||(Nc(f,l),Ji(f))})},rS=(s,l,d)=>{const f=Ve(l,d),b=Vs(s);return bt(b.slice(f.length),Ji),f},fw=(s,l,d,f)=>{const b=wr(s,l),v=f(d,b),C=((k,E,N)=>wr(k,E).map($=>{if(N.exists(B=>!cs(B,$))){const B=N.map(ml).getOr("span"),U=Ui(B);return Nc($,U),U}return $}))(s,l,b);return iy(s,v.element,C),v},n0=(s,l)=>{const d=en(s),f=en(l),b=Se(f,d),v=((C,k)=>{const E={},N={};return sr(C,($,B)=>!uo(l,B)||$!==l[B],Ho(E),Ho(N)),{t:E,f:N}})(s).t;return{toRemove:b,toSet:v}},hm=(s,l)=>{const d=l.filter(f=>ml(f)===s.tag&&!(b=>b.innerHtml.isSome()&&b.domChildren.length>0)(s)&&!(b=>uo(b.dom,sy))(f)).bind(f=>((b,v)=>{try{const C=((k,E)=>{const{class:N,style:$,...B}=(ke=>Qt(ke.dom.attributes,(Ie,Le)=>(Ie[Le.name]=Le.value,Ie),{}))(E),{toSet:U,toRemove:J}=n0(k.attributes,B),se=Yf(E),{toSet:pe,toRemove:ye}=n0(k.styles,se),Re=Qa(E),ve=Se(Re,k.classes),be=Se(k.classes,Re);return bt(J,ke=>Uo(E,ke)),Ws(E,U),Qo(E,be),ci(E,ve),bt(ye,ke=>zs(E,ke)),Ol(E,pe),k.innerHtml.fold(()=>{const ke=k.domChildren;((Ie,Le)=>{rS(Ie,Le,(Qe,ht)=>{const zt=wr(Ie,ht);return iy(Ie,Qe,zt),Qe})})(E,ke)},ke=>{gp(E,ke)}),(()=>{const ke=E,Ie=k.value.getOrUndefined();Ie!==tg(ke)&&oh(ke,Ie??"")})(),E})(b,v);return I.some(C)}catch{return I.none()}})(s,f)).getOrThunk(()=>(f=>{const b=Ui(f.tag);Ws(b,f.attributes),Qo(b,f.classes),Ol(b,f.styles),f.innerHtml.each(C=>gp(b,C));const v=f.domChildren;return Qr(b,v),f.value.each(C=>{oh(b,C)}),b})(s));return ny(d,s.uid),d},ay=s=>{const l=(d=>{const f=cn(d,"behaviours").getOr({});return yn(en(f),b=>{const v=f[b];return K(v)?[v.me]:[]})})(s);return((d,f)=>((b,v)=>{const C=Ve(v,E=>Dr(E.name(),[Ht("config"),vt("state",Zc)])),k=Ir("component.behaviours",oo(C),b.behaviours).fold(E=>{throw new Error(qa(E)+`
Complete spec:
`+JSON.stringify(b,null,2))},me);return{list:v,data:co(k,E=>{const N=E.map($=>({config:$.config,state:$.state.init($.config)}));return j(N)})}})(d,f))(s,l)},Gi=(s,l)=>{const d=()=>U,f=Wn(iw),b=Pa((J=>Ir("custom.definition",QE,J))(s)),v=ay(s),C=(J=>J.list)(v),k=(J=>J.data)(v),E=((J,se,pe)=>{const ye={...(Re=J).dom,uid:Re.uid,domChildren:Ve(Re.components,Qe=>Qe.element)};var Re;const ve=(Qe=>Qe.domModification.fold(()=>Nr({}),Nr))(J),be={"alloy.base.modification":ve},ke=se.length>0?((Qe,ht,zt,Bt)=>{const Pt={...ht};bt(zt,as=>{Pt[as.name()]=as.exhibit(Qe,Bt)});const sn=cw(Pt,(as,kr)=>({name:as,modification:kr})),In=as=>Bn(as,(kr,Br)=>({...Br.modification,...kr}),{}),Kn=Bn(sn.classes,(as,kr)=>kr.modification.concat(as),[]),ro=In(sn.attributes),Ro=In(sn.styles);return Nr({classes:Kn,attributes:ro,styles:Ro})})(pe,be,se,ye):ve;return Ie=ye,Le=ke,{...Ie,attributes:{...Ie.attributes,...Le.attributes},styles:{...Ie.styles,...Le.styles},classes:Ie.classes.concat(Le.classes)};var Ie,Le})(b,C,k),N=hm(E,l),$=((J,se,pe)=>{const ye={"alloy.base.behaviour":eT(J)};return((Re,ve,be,ke)=>{const Ie=((Le,Qe,ht)=>{const zt={...ht,...JE(Qe,Le)};return cw(zt,sS)})(Re,be,ke);return dw(Ie,ve)})(pe,J.eventOrder,se,ye).getOrDie()})(b,C,k),B=Wn(b.components),U={uid:s.uid,getSystem:f.get,config:J=>{const se=k;return(G(se[J.name()])?se[J.name()]:()=>{throw new Error("Could not find "+J.name()+" in "+JSON.stringify(s,null,2))})()},hasConfigured:J=>G(k[J.name()]),spec:s,readState:J=>k[J]().map(se=>se.state.readState()).getOr("not enabled"),getApis:()=>b.apis,connect:J=>{f.set(J)},disconnect:()=>{f.set(oy(d))},element:N,syncComponents:()=>{const J=Vs(N),se=yn(J,pe=>f.get().getByDom(pe).fold(()=>[],Ke));B.set(se)},components:B.get,events:$};return U},ui=s=>{const l=Mu(s);return ng({element:l})},ng=s=>{const l=Na("external.component",Mi([Ht("element"),ds("uid")]),s),d=Wn(oy()),f=l.uid.getOrThunk(()=>Ju("external"));ny(l.element,f);const b={uid:f,getSystem:d.get,config:I.none,hasConfigured:Me,connect:v=>{d.set(v)},disconnect:()=>{d.set(oy(()=>b))},getApis:()=>({}),element:l.element,spec:s,readState:j("No state"),syncComponents:W,components:j([]),events:{}};return aw(b)},mw=Ju,ly=(s,l)=>lw(s).getOrThunk(()=>((d,f)=>{const{events:b,...v}=XE(d),C=((E,N)=>{const $=cn(E,"components").getOr([]);return N.fold(()=>Ve($,La),B=>Ve($,(U,J)=>ly(U,wr(B,J))))})(v,f),k={...v,events:{...sw,...b},components:C};return ss.value(Gi(k,f))})((d=>uo(d,"uid"))(s)?s:{uid:mw(""),...s},l).getOrDie()),La=s=>ly(s,I.none()),Yl=aw;var wp,og=(s,l,d,f,b)=>s(d,f)?I.some(d):G(b)&&b(d)?I.none():l(d,f,b);const sh=(s,l,d)=>{let f=s.dom;const b=G(d)?d:Me;for(;f.parentNode;){f=f.parentNode;const v=Sn(f);if(l(v))return I.some(v);if(b(v))break}return I.none()},cy=(s,l,d)=>og((f,b)=>b(f),sh,s,l,d),iS=(s,l)=>ee(s.dom.childNodes,d=>l(Sn(d))).map(Sn),gw=(s,l,d)=>cy(s,l,d).isSome(),rh=(s,l,d)=>sh(s,f=>Al(f,l),d),br=(s,l)=>((d,f)=>{const b=d.dom;return b.parentNode?iS(Sn(b.parentNode),v=>!cs(d,v)&&Al(v,l)):I.none()})(s),uy=(s,l)=>iS(s,d=>Al(d,l)),Lr=(s,l)=>Lu(l,s),bf=(s,l,d)=>og((f,b)=>Al(f,b),rh,s,l,d),Cd="aria-controls",Cp=()=>{const s=Nn(Cd);return{id:s,link:l=>{xn(l,Cd,s)},unlink:l=>{Uo(l,Cd)}}},fc=(s,l)=>gw(l,d=>cs(d,s.element),Me)||((d,f)=>(b=>cy(b,v=>{if(!dr(v))return!1;const C=ns(v,"id");return C!==void 0&&C.indexOf(Cd)>-1}).bind(v=>{const C=ns(v,"id"),k=Ct(v);return Lr(k,`[${Cd}="${C}"]`)}))(f).exists(b=>fc(d,b)))(s,l),nl=(s,l,d,f,b,v,C,k=!1)=>({x:s,y:l,bubble:d,direction:f,placement:b,restriction:v,label:`${C}-${b}`,alwaysFit:k}),ih=pa([{southeast:[]},{southwest:[]},{northeast:[]},{northwest:[]},{south:[]},{north:[]},{east:[]},{west:[]}]),o0=ih.southeast,Sp=ih.southwest,s0=ih.northeast,_p=ih.northwest,aS=ih.south,hw=ih.north,pw=ih.east,lS=ih.west,ol=(s,l)=>Pe(["left","right","top","bottom"],d=>cn(l,d).map(f=>((b,v)=>{switch(v){case 1:return b.x;case 0:return b.x+b.width;case 2:return b.y;case 3:return b.y+b.height}})(s,f))),ah="layout",cS=s=>s.x,Qu=(s,l)=>s.x+s.width/2-l.width/2,Xl=(s,l)=>s.x+s.width-l.width,kp=(s,l)=>s.y-l.height,Rb=s=>s.y+s.height,uS=(s,l)=>s.y+s.height/2-l.height/2,ni=(s,l,d)=>nl(cS(s),Rb(s),d.southeast(),o0(),"southeast",ol(s,{left:1,top:3}),ah),oi=(s,l,d)=>nl(Xl(s,l),Rb(s),d.southwest(),Sp(),"southwest",ol(s,{right:0,top:3}),ah),Oi=(s,l,d)=>nl(cS(s),kp(s,l),d.northeast(),s0(),"northeast",ol(s,{left:1,bottom:2}),ah),er=(s,l,d)=>nl(Xl(s,l),kp(s,l),d.northwest(),_p(),"northwest",ol(s,{right:0,bottom:2}),ah),Yr=(s,l,d)=>nl(Qu(s,l),kp(s,l),d.north(),hw(),"north",ol(s,{bottom:2}),ah),vi=(s,l,d)=>nl(Qu(s,l),Rb(s),d.south(),aS(),"south",ol(s,{top:3}),ah),dy=(s,l,d)=>nl((f=>f.x+f.width)(s),uS(s,l),d.east(),pw(),"east",ol(s,{left:0}),ah),fy=(s,l,d)=>nl(((f,b)=>f.x-b.width)(s,l),uS(s,l),d.west(),lS(),"west",ol(s,{right:1}),ah),bw=()=>[ni,oi,Oi,er,vi,Yr,dy,fy],r0=()=>[oi,ni,er,Oi,vi,Yr,dy,fy],vw=()=>[Oi,er,ni,oi,Yr,vi],Ep=()=>[er,Oi,oi,ni,Yr,vi],my=()=>[ni,oi,Oi,er,vi,Yr],gy=()=>[oi,ni,er,Oi,vi,Yr];var yw=Object.freeze({__proto__:null,events:s=>To([Lt(cc(),(l,d)=>{const f=s.channels,b=en(f),v=d,C=((k,E)=>E.universal?k:Xt(k,N=>mt(E.channels,N)))(b,v);bt(C,k=>{const E=f[k],N=E.schema,$=Na("channel["+k+`] data
Receiver: `+gm(l.element),N,v.data);E.onReceive(l,$)})})])}),i0=[Bi("channels",Gm(ss.value,Mi([pf("onReceive"),vt("schema",Gl())])))];const mc=Zi({fields:i0,name:"receiving",active:yw});var xw=Object.freeze({__proto__:null,exhibit:(s,l)=>Nr({classes:[],styles:l.useFixed()?{}:{position:"relative"}})});const Ll=(s,l=!1)=>s.dom.focus({preventScroll:l}),a0=s=>s.dom.blur(),Tp=s=>{const l=Ct(s).dom;return s.dom===l.activeElement},Sd=(s=ja())=>I.from(s.dom.activeElement).map(Sn),yi=s=>Sd(Ct(s)).filter(l=>s.dom.contains(l.dom)),lh=(s,l)=>{const d=Ct(l),f=Sd(d).bind(v=>{const C=k=>cs(v,k);return C(l)?I.some(l):((k,E)=>{const N=$=>{for(let B=0;B<$.childNodes.length;B++){const U=Sn($.childNodes[B]);if(E(U))return I.some(U);const J=N($.childNodes[B]);if(J.isSome())return J}return I.none()};return N(k.dom)})(l,C)}),b=s(l);return f.each(v=>{Sd(d).filter(C=>cs(C,v)).fold(()=>{Ll(v)},W)}),b},ww=pa([{none:[]},{relative:["x","y","width","height"]},{fixed:["x","y","width","height"]}]),Cw=(s,l,d,f,b,v)=>{const C=l.rect,k=C.x-d,E=C.y-f,N=b-(k+C.width),$=v-(E+C.height),B=I.some(k),U=I.some(E),J=I.some(N),se=I.some($),pe=I.none();return l.direction.fold(()=>qr(s,B,U,pe,pe),()=>qr(s,pe,U,J,pe),()=>qr(s,B,pe,pe,se),()=>qr(s,pe,pe,J,se),()=>qr(s,B,U,pe,pe),()=>qr(s,B,pe,pe,se),()=>qr(s,B,U,pe,pe),()=>qr(s,pe,U,J,pe))},l0=(s,l)=>s.fold(()=>{const d=l.rect;return qr("absolute",I.some(d.x),I.some(d.y),I.none(),I.none())},(d,f,b,v)=>Cw("absolute",l,d,f,b,v),(d,f,b,v)=>Cw("fixed",l,d,f,b,v)),pm=(s,l)=>{const d=Ce(pd,l),f=s.fold(d,d,()=>{const C=fr();return pd(l).translate(-C.left,-C.top)}),b=Ka(l),v=pl(l);return Yo(f.left,f.top,b,v)},tT=(s,l)=>l.fold(()=>s.fold(Ni,Ni,Yo),d=>s.fold(j(d),j(d),()=>{const f=c0(s,d.x,d.y);return Yo(f.left,f.top,d.width,d.height)})),c0=(s,l,d)=>{const f=rr(l,d);return s.fold(j(f),j(f),()=>{const b=fr();return f.translate(-b.left,-b.top)})};ww.none;const ch=ww.relative,dS=ww.fixed,u0="data-alloy-placement",d0=s=>gs(s,u0),hy=pa([{fit:["reposition"]},{nofit:["reposition","visibleW","visibleH","isVisible"]}]),Ib=(s,l,d,f)=>{const b=s.bubble,v=b.offset,C=((ke,Ie,Le)=>{const Qe=(sn,In)=>Ie[sn].map(Kn=>{const ro=sn==="top"||sn==="bottom",Ro=ro?Le.top:Le.left,as=(sn==="left"||sn==="top"?Math.max:Math.min)(Kn,In)+Ro;return ro?Xu(as,ke.y,ke.bottom):Xu(as,ke.x,ke.right)}).getOr(In),ht=Qe("left",ke.x),zt=Qe("top",ke.y),Bt=Qe("right",ke.right),Pt=Qe("bottom",ke.bottom);return Yo(ht,zt,Bt-ht,Pt-zt)})(f,s.restriction,v),k=s.x+v.left,E=s.y+v.top,N=Yo(k,E,l,d),{originInBounds:$,sizeInBounds:B,visibleW:U,visibleH:J}=((ke,Ie)=>{const{x:Le,y:Qe,right:ht,bottom:zt}=Ie,{x:Bt,y:Pt,right:sn,bottom:In,width:Kn,height:ro}=ke;return{originInBounds:Bt>=Le&&Bt<=ht&&Pt>=Qe&&Pt<=zt,sizeInBounds:sn<=ht&&sn>=Le&&In<=zt&&In>=Qe,visibleW:Math.min(Kn,Bt>=Le?ht-Bt:sn-Le),visibleH:Math.min(ro,Pt>=Qe?zt-Pt:In-Qe)}})(N,C),se=$&&B,pe=se?N:((ke,Ie)=>{const{x:Le,y:Qe,right:ht,bottom:zt}=Ie,{x:Bt,y:Pt,width:sn,height:In}=ke,Kn=Math.max(Le,ht-sn),ro=Math.max(Qe,zt-In),Ro=Xu(Bt,Le,Kn),as=Xu(Pt,Qe,ro),kr=Math.min(Ro+sn,ht)-Ro,Br=Math.min(as+In,zt)-as;return Yo(Ro,as,kr,Br)})(N,C),ye=pe.width>0&&pe.height>0,{maxWidth:Re,maxHeight:ve}=((ke,Ie,Le)=>{const Qe=j(Ie.bottom-Le.y),ht=j(Le.bottom-Ie.y),zt=((In,Kn,ro,Ro)=>In.fold(Kn,Kn,Ro,Ro,Kn,Ro,ro,ro))(ke,ht,ht,Qe),Bt=j(Ie.right-Le.x),Pt=j(Le.right-Ie.x);return{maxWidth:((In,Kn,ro,Ro)=>In.fold(Kn,Ro,Kn,Ro,ro,ro,Kn,Ro))(ke,Pt,Pt,Bt),maxHeight:zt}})(s.direction,pe,f),be={rect:pe,maxHeight:ve,maxWidth:Re,direction:s.direction,placement:s.placement,classes:{on:b.classesOn,off:b.classesOff},layout:s.label,testY:E};return se||s.alwaysFit?hy.fit(be):hy.nofit(be,U,J,ye)},py=Ne,Bl=(s,l,d)=>((f,b,v,C)=>ef(f,b,v,C,!1))(s,l,py,d),Sw=(s,l,d)=>((f,b,v,C)=>ef(f,b,v,C,!0))(s,l,py,d),bm=Nl,f0=["top","bottom","right","left"],vf="data-alloy-transition-timer",m0=(s,l,d,f,b,v)=>{const C=((k,E,N)=>N.exists($=>{const B=k.mode;return B==="all"||$[B]!==E[B]}))(f,b,v);if(C||((k,E)=>((N,$)=>qe($,B=>es(N,B)))(k,E.classes))(s,f)){_o(s,"position",d.position);const k=pm(l,s),E=l0(l,{...b,rect:k}),N=Pe(f0,$=>E[$]);(($,B)=>{const U=J=>parseFloat(J).toFixed(3);return xs(B,(J,se)=>!((pe,ye,Re=oe)=>tn(pe,ye,Re).getOr(pe.isNone()&&ye.isNone()))($[se].map(U),J.map(U))).isSome()})(d,N)&&(Rl(s,N),C&&(($,B)=>{Qo($,B.classes),gs($,vf).each(U=>{clearTimeout(parseInt(U,10)),Uo($,vf)}),((U,J)=>{const se=Lc(),pe=Lc();let ye;const Re=Ie=>{var Le;const Qe=(Le=Ie.raw.pseudoElement)!==null&&Le!==void 0?Le:"";return cs(Ie.target,U)&&Pc(Qe)&&mt(f0,Ie.raw.propertyName)},ve=Ie=>{if(H(Ie)||Re(Ie)){se.clear(),pe.clear();const Le=Ie==null?void 0:Ie.raw.type;(H(Le)||Le===lp())&&(clearTimeout(ye),Uo(U,vf),ci(U,J.classes))}},be=Bl(U,Uv(),Ie=>{Re(Ie)&&(be.unbind(),se.set(Bl(U,lp(),ve)),pe.set(Bl(U,Y1(),ve)))}),ke=(Ie=>{const Le=Bt=>{const Pt=Or(Ie,Bt).split(/\s*,\s*/);return Xt(Pt,El)},Qe=Bt=>{if(h(Bt)&&/^[\d.]+/.test(Bt)){const Pt=parseFloat(Bt);return Ic(Bt,"ms")?Pt:1e3*Pt}return 0},ht=Le("transition-delay"),zt=Le("transition-duration");return Qt(zt,(Bt,Pt,sn)=>{const In=Qe(ht[sn])+Qe(Pt);return Math.max(Bt,In)},0)})(U);requestAnimationFrame(()=>{ye=setTimeout(ve,ke+17),xn(U,vf,ye)})})($,B)})(s,f),md(s))}else ci(s,f.classes)},g0=(s,l)=>{((d,f)=>{const b=zm.max(d,f,["margin-top","border-top-width","padding-top","padding-bottom","border-bottom-width","margin-bottom"]);_o(d,"max-height",b+"px")})(s,Math.floor(l))},uh=j((s,l)=>{g0(s,l),Ol(s,{"overflow-x":"hidden","overflow-y":"auto"})}),Ap=j((s,l)=>{g0(s,l)}),ed=(s,l,d)=>s[l]===void 0?d:s[l],h0=(s,l,d,f)=>{const b=((v,C,k,E)=>{zs(C,"max-height"),zs(C,"max-width");const N={width:Ka($=C),height:pl($)};var $;return((B,U,J,se,pe,ye)=>{const Re=se.width,ve=se.height,be=(ke,Ie,Le,Qe,ht)=>{const zt=ke(J,se,pe,B,ye),Bt=Ib(zt,Re,ve,ye);return Bt.fold(j(Bt),(Pt,sn,In,Kn)=>(ht===Kn?In>Qe||sn>Le:!ht&&Kn)?Bt:hy.nofit(Ie,Le,Qe,ht))};return Qt(U,(ke,Ie)=>{const Le=Ce(be,Ie);return ke.fold(j(ke),Le)},hy.nofit({rect:J,maxHeight:se.height,maxWidth:se.width,direction:o0(),placement:"southeast",classes:{on:[],off:[]},layout:"none",testY:J.y},-1,-1,!1)).fold(me,me)})(C,E.preference,v,N,k,E.bounds)})(s,l,d,f);return((v,C,k)=>{const E=l0(k.origin,C);k.transition.each(N=>{m0(v,k.origin,E,N,C,k.lastPlacement)}),qu(v,E)})(l,b,f),((v,C)=>{((k,E)=>{xn(k,u0,E)})(v,C.placement)})(l,b),((v,C)=>{const k=C.classes;ci(v,k.off),Qo(v,k.on)})(l,b),((v,C,k)=>{(0,k.maxHeightFunction)(v,C.maxHeight)})(l,b,f),((v,C,k)=>{(0,k.maxWidthFunction)(v,C.maxWidth)})(l,b,f),{layout:b.layout,placement:b.placement}},nT=["valignCentre","alignLeft","alignRight","alignCentre","top","bottom","left","right","inset"],vu=(s,l,d,f=1)=>{const b=s*f,v=l*f,C=E=>cn(d,E).getOr([]),k=(E,N,$)=>{const B=Se(nT,$);return{offset:rr(E,N),classesOn:yn($,C),classesOff:yn(B,C)}};return{southeast:()=>k(-s,l,["top","alignLeft"]),southwest:()=>k(s,l,["top","alignRight"]),south:()=>k(-s/2,l,["top","alignCentre"]),northeast:()=>k(-s,-l,["bottom","alignLeft"]),northwest:()=>k(s,-l,["bottom","alignRight"]),north:()=>k(-s/2,-l,["bottom","alignCentre"]),east:()=>k(s,-l/2,["valignCentre","left"]),west:()=>k(-s,-l/2,["valignCentre","right"]),insetNortheast:()=>k(b,v,["top","alignLeft","inset"]),insetNorthwest:()=>k(-b,v,["top","alignRight","inset"]),insetNorth:()=>k(-b/2,v,["top","alignCentre","inset"]),insetSoutheast:()=>k(b,-v,["bottom","alignLeft","inset"]),insetSouthwest:()=>k(-b,-v,["bottom","alignRight","inset"]),insetSouth:()=>k(-b/2,-v,["bottom","alignCentre","inset"]),insetEast:()=>k(-b,-v/2,["valignCentre","right","inset"]),insetWest:()=>k(b,-v/2,["valignCentre","left","inset"])}},vm=()=>vu(0,0,{}),td=me,_w=(s,l)=>d=>ta(d)==="rtl"?l:s,ta=s=>Or(s,"direction")==="rtl"?"rtl":"ltr";var nd;(function(s){s.TopToBottom="toptobottom",s.BottomToTop="bottomtotop"})(nd||(nd={}));const gc="data-alloy-vertical-dir",oT=s=>gw(s,l=>dr(l)&&ns(l,"data-alloy-vertical-dir")===nd.BottomToTop),sg=()=>Dr("layouts",[Ht("onLtr"),Ht("onRtl"),ds("onBottomLtr"),ds("onBottomRtl")]),ym=(s,l,d,f,b,v,C)=>{const k=C.map(oT).getOr(!1),E=l.layouts.map(U=>U.onLtr(s)),N=l.layouts.map(U=>U.onRtl(s)),$=k?l.layouts.bind(U=>U.onBottomLtr.map(J=>J(s))).or(E).getOr(b):E.getOr(d),B=k?l.layouts.bind(U=>U.onBottomRtl.map(J=>J(s))).or(N).getOr(v):N.getOr(f);return _w($,B)(s)};var Db=[Ht("hotspot"),ds("bubble"),vt("overrides",{}),sg(),pr("placement",(s,l,d)=>{const f=l.hotspot,b=pm(d,f.element),v=ym(s.element,l,my(),gy(),vw(),Ep(),I.some(l.hotspot.element));return I.some(td({anchorBox:b,bubble:l.bubble.getOr(vm()),overrides:l.overrides,layouts:v}))})],dh=[Ht("x"),Ht("y"),vt("height",0),vt("width",0),vt("bubble",vm()),vt("overrides",{}),sg(),pr("placement",(s,l,d)=>{const f=c0(d,l.x,l.y),b=Yo(f.left,f.top,l.width,l.height),v=ym(s.element,l,bw(),r0(),bw(),r0(),I.none());return I.some(td({anchorBox:b,bubble:l.bubble,overrides:l.overrides,layouts:v}))})];const Gc=pa([{screen:["point"]},{absolute:["point","scrollLeft","scrollTop"]}]),by=s=>s.fold(me,(l,d,f)=>l.translate(-d,-f)),vy=s=>s.fold(me,me),p0=s=>Qt(s,(l,d)=>l.translate(d.left,d.top),rr(0,0)),yy=s=>{const l=Ve(s,vy);return p0(l)},fS=Gc.screen,b0=Gc.absolute,xm=(s,l,d)=>{const f=gi(s.element),b=fr(f),v=((C,k,E)=>{const N=ru(E.root).dom;return I.from(N.frameElement).map(Sn).filter($=>{const B=gi($),U=gi(C.element);return cs(B,U)}).map(Pl)})(s,0,d).getOr(b);return b0(v,b.left,b.top)},v0=(s,l,d,f)=>{const b=fS(rr(s,l));return I.some(((v,C,k)=>({point:v,width:C,height:k}))(b,d,f))},Op=(s,l,d,f,b)=>s.map(v=>{const C=[l,v.point],k=(E=()=>yy(C),N=()=>yy(C),$=()=>(be=>{const ke=Ve(be,by);return p0(ke)})(C),f.fold(E,N,$));var E,N,$;const B=(pe=k.left,ye=k.top,Re=v.width,ve=v.height,{x:pe,y:ye,width:Re,height:ve}),U=d.showAbove?vw():my(),J=d.showAbove?Ep():gy(),se=ym(b,d,U,J,U,J,I.none());var pe,ye,Re,ve;return td({anchorBox:B,bubble:d.bubble.getOr(vm()),overrides:d.overrides,layouts:se})});var Rp=[Ht("node"),Ht("root"),ds("bubble"),sg(),vt("overrides",{}),vt("showAbove",!1),pr("placement",(s,l,d)=>{const f=xm(s,0,l);return l.node.filter(Cn).bind(b=>{const v=b.dom.getBoundingClientRect(),C=v0(v.left,v.top,v.width,v.height),k=l.node.getOr(s.element);return Op(C,f,l,d,k)})})];const rg=(s,l,d,f)=>({start:s,soffset:l,finish:d,foffset:f}),ig=pa([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),y0=(ig.before,ig.on,ig.after,s=>s.fold(me,me,me)),ag=pa([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),lg={domRange:ag.domRange,relative:ag.relative,exact:ag.exact,exactFromRange:s=>ag.exact(s.start,s.soffset,s.finish,s.foffset),getWin:s=>{const l=(d=>d.match({domRange:f=>Sn(f.startContainer),relative:(f,b)=>y0(f),exact:(f,b,v,C)=>f}))(s);return ru(l)},range:rg},cg=(s,l,d)=>{const f=s.document.createRange();var b;return b=f,l.fold(v=>{b.setStartBefore(v.dom)},(v,C)=>{b.setStart(v.dom,C)},v=>{b.setStartAfter(v.dom)}),((v,C)=>{C.fold(k=>{v.setEndBefore(k.dom)},(k,E)=>{v.setEnd(k.dom,E)},k=>{v.setEndAfter(k.dom)})})(f,d),f},Ip=(s,l,d,f,b)=>{const v=s.document.createRange();return v.setStart(l.dom,d),v.setEnd(f.dom,b),v},xy=s=>({left:s.left,top:s.top,right:s.right,bottom:s.bottom,width:s.width,height:s.height}),Pb=pa([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),wy=(s,l,d)=>l(Sn(d.startContainer),d.startOffset,Sn(d.endContainer),d.endOffset),kw=(s,l)=>((d,f)=>{const b=((v,C)=>C.match({domRange:k=>({ltr:j(k),rtl:I.none}),relative:(k,E)=>({ltr:da(()=>cg(v,k,E)),rtl:da(()=>I.some(cg(v,E,k)))}),exact:(k,E,N,$)=>({ltr:da(()=>Ip(v,k,E,N,$)),rtl:da(()=>I.some(Ip(v,N,$,k,E)))})}))(d,f);return((v,C)=>{const k=C.ltr();return k.collapsed?C.rtl().filter(E=>E.collapsed===!1).map(E=>Pb.rtl(Sn(E.endContainer),E.endOffset,Sn(E.startContainer),E.startOffset)).getOrThunk(()=>wy(0,Pb.ltr,k)):wy(0,Pb.ltr,k)})(0,b)})(s,l).match({ltr:(d,f,b,v)=>{const C=s.document.createRange();return C.setStart(d.dom,f),C.setEnd(b.dom,v),C},rtl:(d,f,b,v)=>{const C=s.document.createRange();return C.setStart(b.dom,v),C.setEnd(d.dom,f),C}});Pb.ltr,Pb.rtl;const Nb=(s,l,d)=>Xt(((f,b)=>{const v=G(b)?b:Me;let C=f.dom;const k=[];for(;C.parentNode!==null&&C.parentNode!==void 0;){const E=C.parentNode,N=Sn(E);if(k.push(N),v(N)===!0)break;C=E}return k})(s,d),l),na=(s,l)=>((d,f)=>{const b=f===void 0?document:f.dom;return Gd(b)?[]:Ve(b.querySelectorAll(d),Sn)})(l,s),Ew=s=>{if(s.rangeCount>0){const l=s.getRangeAt(0),d=s.getRangeAt(s.rangeCount-1);return I.some(rg(Sn(l.startContainer),l.startOffset,Sn(d.endContainer),d.endOffset))}return I.none()},mS=s=>{if(s.anchorNode===null||s.focusNode===null)return Ew(s);{const l=Sn(s.anchorNode),d=Sn(s.focusNode);return((f,b,v,C)=>{const k=((N,$,B,U)=>{const J=gi(N).dom.createRange();return J.setStart(N.dom,$),J.setEnd(B.dom,U),J})(f,b,v,C),E=cs(f,v)&&b===C;return k.collapsed&&!E})(l,s.anchorOffset,d,s.focusOffset)?I.some(rg(l,s.anchorOffset,d,s.focusOffset)):Ew(s)}},Tw=(s,l)=>(d=>{const f=d.getClientRects(),b=f.length>0?f[0]:d.getBoundingClientRect();return b.width>0||b.height>0?I.some(b).map(xy):I.none()})(kw(s,l)),Aw=((s,l)=>{const d=f=>s(f)?I.from(f.dom.nodeValue):I.none();return{get:f=>{if(!s(f))throw new Error("Can only get text value of a text node");return d(f).getOr("")},getOption:d,set:(f,b)=>{if(!s(f))throw new Error("Can only set raw text value of a text node");f.dom.nodeValue=b}}})(ca),ug=(s,l)=>({element:s,offset:l}),Cy=(s,l)=>ca(s)?ug(s,l):((d,f)=>{const b=Vs(d);if(b.length===0)return ug(d,f);if(f<b.length)return ug(b[f],0);{const v=b[b.length-1],C=ca(v)?(k=>Aw.get(k))(v).length:Vs(v).length;return ug(v,C)}})(s,l),x0=s=>s.foffset!==void 0,Ow=(s,l)=>l.getSelection.getOrThunk(()=>()=>(d=>(f=>I.from(f.getSelection()))(d).filter(f=>f.rangeCount>0).bind(mS))(s))().map(d=>{if(x0(d)){const f=Cy(d.start,d.soffset),b=Cy(d.finish,d.foffset);return lg.range(f.element,f.offset,b.element,b.offset)}return d});var sT=[ds("getSelection"),Ht("root"),ds("bubble"),sg(),vt("overrides",{}),vt("showAbove",!1),pr("placement",(s,l,d)=>{const f=ru(l.root).dom,b=xm(s,0,l),v=Ow(f,l).bind(k=>{if(x0(k))return((N,$)=>(B=>{const U=B.getBoundingClientRect();return U.width>0||U.height>0?I.some(U).map(xy):I.none()})(kw(N,$)))(f,lg.exactFromRange(k)).orThunk(()=>{const N=Mu("\uFEFF");Nc(k.start,N);const $=Tw(f,lg.exact(N,0,N,1));return Ji(N),$}).bind(N=>v0(N.left,N.top,N.width,N.height));{const E=co(k,$=>$.dom.getBoundingClientRect()),N={left:Math.min(E.firstCell.left,E.lastCell.left),right:Math.max(E.firstCell.right,E.lastCell.right),top:Math.min(E.firstCell.top,E.lastCell.top),bottom:Math.max(E.firstCell.bottom,E.lastCell.bottom)};return v0(N.left,N.top,N.right-N.left,N.bottom-N.top)}}),C=Ow(f,l).bind(k=>x0(k)?dr(k.start)?I.some(k.start):Aa(k.start):I.some(k.firstCell)).getOr(s.element);return Op(v,b,l,d,C)})];const dg="link-layout",w0=s=>s.x+s.width,gS=(s,l)=>s.x-l.width,hS=(s,l)=>s.y-l.height+s.height,_d=s=>s.y,Rw=(s,l,d)=>nl(w0(s),_d(s),d.southeast(),o0(),"southeast",ol(s,{left:0,top:2}),dg),Sy=(s,l,d)=>nl(gS(s,l),_d(s),d.southwest(),Sp(),"southwest",ol(s,{right:1,top:2}),dg),pS=(s,l,d)=>nl(w0(s),hS(s,l),d.northeast(),s0(),"northeast",ol(s,{left:0,bottom:3}),dg),Dp=(s,l,d)=>nl(gS(s,l),hS(s,l),d.northwest(),_p(),"northwest",ol(s,{right:1,bottom:3}),dg),Mb=()=>[Rw,Sy,pS,Dp],C0=()=>[Sy,Rw,Dp,pS];var bS=[Ht("item"),sg(),vt("overrides",{}),pr("placement",(s,l,d)=>{const f=pm(d,l.item.element),b=ym(s.element,l,Mb(),C0(),Mb(),C0(),I.none());return I.some(td({anchorBox:f,bubble:vm(),overrides:l.overrides,layouts:b}))})],kd=Ti("type",{selection:sT,node:Rp,hotspot:Db,submenu:bS,makeshift:dh});const fh=[Xa("classes",Li),zc("mode","all",["all","layout","placement"])],S0=[vt("useFixed",Me),ds("getBounds")],_0=[Bi("anchor",kd),Dr("transition",fh)],_y=(s,l,d,f,b,v)=>{const C=Na("placement.info",oo(_0),b),k=C.anchor,E=f.element,N=d.get(f.uid);lh(()=>{_o(E,"position","fixed");const $=Jr(E,"visibility");_o(E,"visibility","hidden");const B=l.useFixed()?(()=>{const U=document.documentElement;return dS(0,0,U.clientWidth,U.clientHeight)})():(U=>{const J=Pl(U.element),se=U.element.dom.getBoundingClientRect();return ch(J.left,J.top,se.width,se.height)})(s);k.placement(s,k,B).each(U=>{const J=v.orThunk(()=>l.getBounds.map(dt)),se=((pe,ye,Re,ve,be,ke)=>((Ie,Le,Qe,ht,zt,Bt,Pt,sn)=>{const In=ed(Pt,"maxHeightFunction",uh()),Kn=ed(Pt,"maxWidthFunction",W),ro=Ie.anchorBox,Ro=Ie.origin,as={bounds:tT(Ro,Bt),origin:Ro,preference:ht,maxHeightFunction:In,maxWidthFunction:Kn,lastPlacement:zt,transition:sn};return h0(ro,Le,Qe,as)})(((Ie,Le)=>((Qe,ht)=>({anchorBox:Qe,origin:ht}))(Ie,Le))(ye.anchorBox,pe),ve.element,ye.bubble,ye.layouts,be,Re,ye.overrides,ke))(B,U,J,f,N,C.transition);d.set(f.uid,se)}),$.fold(()=>{zs(E,"visibility")},U=>{_o(E,"visibility",U)}),Jr(E,"left").isNone()&&Jr(E,"top").isNone()&&Jr(E,"right").isNone()&&Jr(E,"bottom").isNone()&&mi(Jr(E,"position"),"fixed")&&zs(E,"position")},E)};var k0=Object.freeze({__proto__:null,position:(s,l,d,f,b)=>{const v=I.none();_y(s,l,d,f,b,v)},positionWithinBounds:_y,getMode:(s,l,d)=>l.useFixed()?"fixed":"absolute",reset:(s,l,d,f)=>{const b=f.element;bt(["position","left","right","top","bottom"],v=>zs(b,v)),(v=>{Uo(v,u0)})(b),d.clear(f.uid)}});const sl=Zi({fields:S0,name:"positioning",active:xw,apis:k0,state:Object.freeze({__proto__:null,init:()=>{let s={};return Ai({readState:()=>s,clear:l=>{K(l)?delete s[l]:s={}},set:(l,d)=>{s[l]=d},get:l=>cn(s,l)})}})}),ky=s=>s.getSystem().isConnected(),mh=s=>{Wo(s,Wc());const l=s.components();bt(l,mh)},gh=s=>{const l=s.components();bt(l,gh),Wo(s,ba())},E0=(s,l)=>{s.getSystem().addToWorld(l),Cn(s.element)&&gh(l)},Ey=s=>{mh(s),s.getSystem().removeFromWorld(s)},Pp=(s,l)=>{vl(s.element,l.element)},fg=(s,l)=>{Iw(s,l,vl)},Iw=(s,l,d)=>{s.getSystem().addToWorld(l),d(s.element,l.element),Cn(s.element)&&gh(l),s.syncComponents()},Ty=s=>{mh(s),Ji(s.element),s.getSystem().removeFromWorld(s)},Jl=s=>{const l=Pi(s.element).bind(d=>s.getSystem().getByDom(d).toOptional());Ty(s),l.each(d=>{d.syncComponents()})},mg=s=>{const l=s.components();bt(l,Ty),Cr(s.element),s.syncComponents()},Dw=(s,l)=>{Lb(s,l,vl)},Dt=(s,l)=>{Lb(s,l,Um)},Lb=(s,l,d)=>{d(s,l.element);const f=Vs(l.element);bt(f,b=>{l.getByDom(b).each(gh)})},rT=s=>{const l=Vs(s.element);bt(l,d=>{s.getByDom(d).each(mh)}),Ji(s.element)},vS=(s,l,d,f)=>{d.get().each(C=>{mg(s)});const b=l.getAttachPoint(s);fg(b,s);const v=s.getSystem().build(f);return fg(s,v),d.set(v),v},Ay=(s,l,d,f)=>{const b=vS(s,l,d,f);return l.onOpen(s,b),b},Ed=(s,l,d)=>{d.get().each(f=>{mg(s),Jl(s),l.onClose(s,f),d.clear()})},Oy=(s,l,d)=>d.isOpen(),T0=(s,l,d)=>{const f=l.getAttachPoint(s);_o(s.element,"position",sl.getMode(f)),((b,v,C,k)=>{Jr(b.element,v).fold(()=>{Uo(b.element,C)},E=>{xn(b.element,C,E)}),_o(b.element,v,"hidden")})(s,"visibility",l.cloakVisibilityAttr)},Pw=(s,l,d)=>{(f=>Rn(["top","left","right","bottom"],b=>Jr(f,b).isSome()))(s.element)||zs(s.element,"position"),((f,b,v)=>{gs(f.element,v).fold(()=>zs(f.element,b),C=>_o(f.element,b,C))})(s,"visibility",l.cloakVisibilityAttr)};var Nw=Object.freeze({__proto__:null,cloak:T0,decloak:Pw,open:Ay,openWhileCloaked:(s,l,d,f,b)=>{T0(s,l),Ay(s,l,d,f),b(),Pw(s,l)},close:Ed,isOpen:Oy,isPartOf:(s,l,d,f)=>Oy(0,0,d)&&d.get().exists(b=>l.isPartOf(s,b,f)),getState:(s,l,d)=>d.get(),setContent:(s,l,d,f)=>d.get().map(()=>vS(s,l,d,f))}),iT=Object.freeze({__proto__:null,events:(s,l)=>To([Lt(up(),(d,f)=>{Ed(d,s,l)})])}),y=[ks("onOpen"),ks("onClose"),Ht("isPartOf"),Ht("getAttachPoint"),vt("cloakVisibilityAttr","data-precloak-visibility")],_=Object.freeze({__proto__:null,init:()=>{const s=_s(),l=j("not-implemented");return Ai({readState:l,isOpen:s.isSet,clear:s.clear,set:s.set,get:s.get})}});const O=Zi({fields:y,name:"sandboxing",active:iT,apis:Nw,state:_}),F=j("dismiss.popups"),Z=j("reposition.popups"),q=j("mouse.released"),le=Mi([vt("isExtraPart",Me),Dr("fireEventInstead",[vt("event",Xm())])]),fe=s=>{const l=Na("Dismissal",le,s);return{[F()]:{schema:Mi([Ht("target")]),onReceive:(d,f)=>{O.isOpen(d)&&(O.isPartOf(d,f.target)||l.isExtraPart(d,f.target)||l.fireEventInstead.fold(()=>O.close(d),b=>Wo(d,b.event)))}}}},Oe=Mi([Dr("fireEventInstead",[vt("event",ff())]),Ya("doReposition")]),je=s=>{const l=Na("Reposition",Oe,s);return{[Z()]:{onReceive:d=>{O.isOpen(d)&&l.fireEventInstead.fold(()=>l.doReposition(d),f=>Wo(d,f.event))}}}},rt=(s,l,d)=>{l.store.manager.onLoad(s,l,d)},ze=(s,l,d)=>{l.store.manager.onUnload(s,l,d)};var Ge=Object.freeze({__proto__:null,onLoad:rt,onUnload:ze,setValue:(s,l,d,f)=>{l.store.manager.setValue(s,l,d,f)},getValue:(s,l,d)=>l.store.manager.getValue(s,l,d),getState:(s,l,d)=>d}),Xe=Object.freeze({__proto__:null,events:(s,l)=>{const d=s.resetOnDom?[hr((f,b)=>{rt(f,s,l)}),Gu((f,b)=>{ze(f,s,l)})]:[lm(s,l,rt)];return To(d)}});const pt=()=>{const s=Wn(null);return Ai({set:s.set,get:s.get,isNotSet:()=>s.get()===null,clear:()=>{s.set(null)},readState:()=>({mode:"memory",value:s.get()})})},yt=()=>{const s=Wn({}),l=Wn({});return Ai({readState:()=>({mode:"dataset",dataByValue:s.get(),dataByText:l.get()}),lookup:d=>cn(s.get(),d).orThunk(()=>cn(l.get(),d)),update:d=>{const f=s.get(),b=l.get(),v={},C={};bt(d,k=>{v[k.value]=k,cn(k,"meta").each(E=>{cn(E,"text").each(N=>{C[N]=k})})}),s.set({...f,...v}),l.set({...b,...C})},clear:()=>{s.set({}),l.set({})}})};var Kt=Object.freeze({__proto__:null,memory:pt,dataset:yt,manual:()=>Ai({readState:W}),init:s=>s.store.manager.state(s)});const jt=(s,l,d,f)=>{const b=l.store;d.update([f]),b.setValue(s,f),l.onSetValue(s,f)};var Wt=[ds("initialValue"),Ht("getFallbackEntry"),Ht("getDataKey"),Ht("setValue"),pr("manager",{setValue:jt,getValue:(s,l,d)=>{const f=l.store,b=f.getDataKey(s);return d.lookup(b).getOrThunk(()=>f.getFallbackEntry(b))},onLoad:(s,l,d)=>{l.store.initialValue.each(f=>{jt(s,l,d,f)})},onUnload:(s,l,d)=>{d.clear()},state:yt})],Gt=[Ht("getValue"),vt("setValue",W),ds("initialValue"),pr("manager",{setValue:(s,l,d,f)=>{l.store.setValue(s,f),l.onSetValue(s,f)},getValue:(s,l,d)=>l.store.getValue(s),onLoad:(s,l,d)=>{l.store.initialValue.each(f=>{l.store.setValue(s,f)})},onUnload:W,state:Zc.init})],fn=[ds("initialValue"),pr("manager",{setValue:(s,l,d,f)=>{d.set(f),l.onSetValue(s,f)},getValue:(s,l,d)=>d.get(),onLoad:(s,l,d)=>{l.store.initialValue.each(f=>{d.isNotSet()&&d.set(f)})},onUnload:(s,l,d)=>{d.clear()},state:pt})],hn=[Ja("store",{mode:"memory"},Ti("mode",{memory:fn,manual:Gt,dataset:Wt})),ks("onSetValue"),vt("resetOnDom",!1)];const St=Zi({fields:hn,name:"representing",active:Xe,apis:Ge,extra:{setValueFrom:(s,l)=>{const d=St.getValue(l);St.setValue(s,d)}},state:Kt}),Mn=(s,l)=>ha(s,{},Ve(l,d=>{return f=d.name(),b="Cannot configure "+d.name()+" for "+s,pi(f,f,{tag:"option",process:{}},fu(v=>Ga("The field: "+f+" is forbidden. "+b)));var f,b}).concat([ji("dump",me)])),po=s=>s.dump,zo=(s,l)=>({...an(l),...s.dump}),Ao=Mn,bo=zo,Vo="placeholder",ws=pa([{single:["required","valueThunk"]},{multiple:["required","valueThunks"]}]),Ri=s=>uo(s,"uiType"),wl=(s,l,d,f)=>((b,v,C,k)=>Ri(C)&&C.uiType===Vo?((E,N,$,B)=>E.exists(U=>U!==$.owner)?ws.single(!0,j($)):cn(B,$.name).fold(()=>{throw new Error("Unknown placeholder component: "+$.name+`
Known: [`+en(B)+`]
Namespace: `+E.getOr("none")+`
Spec: `+JSON.stringify($,null,2))},U=>U.replace()))(b,0,C,k):ws.single(!1,j(C)))(s,0,d,f).fold((b,v)=>{const C=Ri(d)?v(l,d.config,d.validated):v(l),k=cn(C,"components").getOr([]),E=yn(k,N=>wl(s,l,N,f));return[{...C,components:E}]},(b,v)=>{if(Ri(d)){const C=v(l,d.config,d.validated);return d.validated.preprocess.getOr(me)(C)}return v(l)}),Ba=ws.single,yu=ws.multiple,hh=j(Vo),Cl=pa([{required:["data"]},{external:["data"]},{optional:["data"]},{group:["data"]}]),yf=vt("factory",{sketch:me}),Bb=vt("schema",[]),gg=Ht("name"),Fb=pi("pname","pname",jm(s=>"<alloy."+Nn(s.name)+">"),Gl()),Ry=ji("schema",()=>[ds("preprocess")]),hg=vt("defaults",j({})),yS=vt("overrides",j({})),x8=oo([yf,Bb,gg,Fb,hg,yS]),w8=oo([yf,Bb,gg,hg,yS]),AI=oo([yf,Bb,gg,Fb,hg,yS]),zn=oo([yf,Ry,gg,Ht("unit"),Fb,hg,yS]),Mw=s=>s.fold(I.some,I.none,I.some,I.some),aT=s=>{const l=d=>d.name;return s.fold(l,l,l,l)},xS=(s,l)=>d=>{const f=Na("Converting part type",l,d);return s(f)},hc=xS(Cl.required,x8),wm=xS(Cl.external,w8),Td=xS(Cl.optional,AI),wS=xS(Cl.group,zn),lT=j("entirety");var OI=Object.freeze({__proto__:null,required:hc,external:wm,optional:Td,group:wS,asNamedPart:Mw,name:aT,asCommon:s=>s.fold(me,me,me,me),original:lT});const cT=(s,l,d,f)=>qs(l.defaults(s,d,f),d,{uid:s.partUids[l.name]},l.overrides(s,d,f)),Ql=(s,l)=>{const d={};return bt(l,f=>{Mw(f).each(b=>{const v=Lw(s,b.pname);d[b.name]=C=>{const k=Na("Part: "+b.name+" in "+s,oo(b.schema),C);return{...v,config:C,validated:k}}})}),d},Lw=(s,l)=>({uiType:hh(),owner:s,name:l}),uT=(s,l,d)=>({uiType:hh(),owner:s,name:l,config:d,validated:{}}),RI=s=>yn(s,l=>l.fold(I.none,I.some,I.none,I.none).map(d=>$c(d.name,d.schema.concat([e0(lT())]))).toArray()),II=s=>Ve(s,aT),dT=(s,l,d)=>((f,b,v)=>{const C={},k={};return bt(v,E=>{E.fold(N=>{C[N.pname]=Ba(!0,($,B,U)=>N.factory.sketch(cT($,N,B,U)))},N=>{const $=b.parts[N.name];k[N.name]=j(N.factory.sketch(cT(b,N,$[lT()]),$))},N=>{C[N.pname]=Ba(!1,($,B,U)=>N.factory.sketch(cT($,N,B,U)))},N=>{C[N.pname]=yu(!0,($,B,U)=>{const J=$[N.name];return Ve(J,se=>N.factory.sketch(qs(N.defaults($,se,U),se,N.overrides($,se))))})})}),{internals:j(C),externals:j(k)}})(0,l,d),fT=(s,l,d)=>((f,b,v,C)=>{const k=co(C,(N,$)=>((B,U)=>{let J=!1;return{name:j(B),required:()=>U.fold((se,pe)=>se,(se,pe)=>se),used:()=>J,replace:()=>{if(J)throw new Error("Trying to use the same placeholder more than once: "+B);return J=!0,U}}})($,N)),E=((N,$,B,U)=>yn(B,J=>wl(N,$,J,U)))(f,b,v,k);return no(k,N=>{if(N.used()===!1&&N.required())throw new Error("Placeholder: "+N.name()+` was not found in components list
Namespace: `+f.getOr("none")+`
Components: `+JSON.stringify(b.components,null,2))}),E})(I.some(s),l,l.components,d),vr=(s,l,d)=>{const f=l.partUids[d];return s.getSystem().getByUid(f).toOptional()},Np=(s,l,d)=>vr(s,l,d).getOrDie("Could not find part: "+d),DI=(s,l,d)=>{const f={},b=l.partUids,v=s.getSystem();return bt(d,C=>{f[C]=j(v.getByUid(b[C]))}),f},mT=(s,l)=>{const d=s.getSystem();return co(l.partUids,(f,b)=>j(d.getByUid(f)))},PI=s=>en(s.partUids),gT=(s,l,d)=>{const f={},b=l.partUids,v=s.getSystem();return bt(d,C=>{f[C]=j(v.getByUid(b[C]).getOrDie())}),f},NI=(s,l)=>{const d=II(l);return kc(Ve(d,f=>({key:f,value:s+"-"+f})))},hT=s=>pi("partUids","partUids",us(l=>NI(l.uid,s)),Gl());var C8=Object.freeze({__proto__:null,generate:Ql,generateOne:uT,schemas:RI,names:II,substitutes:dT,components:fT,defaultUids:NI,defaultUidsSchema:hT,getAllParts:mT,getAllPartNames:PI,getPart:vr,getPartOrDie:Np,getParts:DI,getPartsOrDie:gT});const MI=(s,l,d,f,b)=>{const v=((C,k)=>(C.length>0?[$c("parts",C)]:[]).concat([Ht("uid"),vt("dom",{}),vt("components",[]),e0("originalSpec"),vt("debug.sketcher",{})]).concat(k))(f,b);return Na(s+" [SpecSchema]",Mi(v.concat(l)),d)},Bw=(s,l,d,f,b)=>{const v=pT(b),C=RI(d),k=hT(d),E=MI(s,l,v,C,[k]),N=dT(0,E,d);return f(E,fT(s,E,N.internals()),v,N.externals())},pT=s=>(l=>uo(l,"uid"))(s)?s:{...s,uid:Ju("uid")},S8=Mi([Ht("name"),Ht("factory"),Ht("configFields"),vt("apis",{}),vt("extraApis",{})]),LI=Mi([Ht("name"),Ht("factory"),Ht("configFields"),Ht("partFields"),vt("apis",{}),vt("extraApis",{})]),Ad=s=>{const l=Na("Sketcher for "+s.name,S8,s),d=co(l.apis,ry),f=co(l.extraApis,(b,v)=>uc(b,v));return{name:l.name,configFields:l.configFields,sketch:b=>((v,C,k,E)=>{const N=pT(E);return k(MI(v,C,N,[],[]),N)})(l.name,l.configFields,l.factory,b),...d,...f}},Ec=s=>{const l=Na("Sketcher for "+s.name,LI,s),d=Ql(l.name,l.partFields),f=co(l.apis,ry),b=co(l.extraApis,(v,C)=>uc(v,C));return{name:l.name,partFields:l.partFields,configFields:l.configFields,sketch:v=>Bw(l.name,l.configFields,l.partFields,l.factory,v),parts:d,...f,...b}},Iy=s=>su("input")(s)&&ns(s,"type")!=="radio"||su("textarea")(s);var BI=Object.freeze({__proto__:null,getCurrent:(s,l,d)=>l.find(s)});const _8=[Ht("find")],Os=Zi({fields:_8,name:"composing",apis:BI}),FI=["input","button","textarea","select"],$I=(s,l,d)=>{(l.disabled()?Fw:vT)(s,l)},bT=(s,l)=>l.useNative===!0&&mt(FI,ml(s.element)),VI=s=>{xn(s.element,"disabled","disabled")},k8=s=>{Uo(s.element,"disabled")},Dy=s=>{xn(s.element,"aria-disabled","true")},E8=s=>{xn(s.element,"aria-disabled","false")},Fw=(s,l,d)=>{l.disableClass.each(f=>{Vn(s.element,f)}),(bT(s,l)?VI:Dy)(s),l.onDisabled(s)},vT=(s,l,d)=>{l.disableClass.each(f=>{Fo(s.element,f)}),(bT(s,l)?k8:E8)(s),l.onEnabled(s)},Py=(s,l)=>bT(s,l)?(d=>jr(d.element,"disabled"))(s):(d=>ns(d.element,"aria-disabled")==="true")(s);var T8=Object.freeze({__proto__:null,enable:vT,disable:Fw,isDisabled:Py,onLoad:$I,set:(s,l,d,f)=>{(f?Fw:vT)(s,l)}}),A8=Object.freeze({__proto__:null,exhibit:(s,l)=>Nr({classes:l.disabled()?l.disableClass.toArray():[]}),events:(s,l)=>To([Yg(yl(),(d,f)=>Py(d,s)),lm(s,l,$I)])}),O8=[ir("disabled",Me),vt("useNative",!0),ds("disableClass"),ks("onDisabled"),ks("onEnabled")];const Oo=Zi({fields:O8,name:"disabling",active:A8,apis:T8}),zI=(s,l,d,f)=>{const b=na(s.element,"."+l.highlightClass);bt(b,v=>{Rn(f,C=>cs(C.element,v))||(Fo(v,l.highlightClass),s.getSystem().getByDom(v).each(C=>{l.onDehighlight(s,C),Wo(C,mf())}))})},A0=(s,l,d,f)=>{zI(s,l,0,[f]),yT(s,l,d,f)||(Vn(f.element,l.highlightClass),l.onHighlight(s,f),Wo(f,Wv()))},yT=(s,l,d,f)=>es(f.element,l.highlightClass),HI=(s,l,d)=>Lr(s.element,"."+l.itemClass).bind(f=>s.getSystem().getByDom(f).toOptional()),UI=(s,l,d)=>{const f=na(s.element,"."+l.itemClass);return(f.length>0?I.some(f[f.length-1]):I.none()).bind(b=>s.getSystem().getByDom(b).toOptional())},WI=(s,l,d,f)=>{const b=na(s.element,"."+l.itemClass);return vo(b,v=>es(v,l.highlightClass)).bind(v=>{const C=nh(v,f,0,b.length-1);return s.getSystem().getByDom(b[C]).toOptional()})},KI=(s,l,d)=>{const f=na(s.element,"."+l.itemClass);return dl(Ve(f,b=>s.getSystem().getByDom(b).toOptional()))};var R8=Object.freeze({__proto__:null,dehighlightAll:(s,l,d)=>zI(s,l,0,[]),dehighlight:(s,l,d,f)=>{yT(s,l,d,f)&&(Fo(f.element,l.highlightClass),l.onDehighlight(s,f),Wo(f,mf()))},highlight:A0,highlightFirst:(s,l,d)=>{HI(s,l).each(f=>{A0(s,l,d,f)})},highlightLast:(s,l,d)=>{UI(s,l).each(f=>{A0(s,l,d,f)})},highlightAt:(s,l,d,f)=>{((b,v,C,k)=>{const E=na(b.element,"."+v.itemClass);return I.from(E[k]).fold(()=>ss.error(new Error("No element found with index "+k)),b.getSystem().getByDom)})(s,l,0,f).fold(b=>{throw b},b=>{A0(s,l,d,b)})},highlightBy:(s,l,d,f)=>{const b=KI(s,l);ee(b,f).each(v=>{A0(s,l,d,v)})},isHighlighted:yT,getHighlighted:(s,l,d)=>Lr(s.element,"."+l.highlightClass).bind(f=>s.getSystem().getByDom(f).toOptional()),getFirst:HI,getLast:UI,getPrevious:(s,l,d)=>WI(s,l,0,-1),getNext:(s,l,d)=>WI(s,l,0,1),getCandidates:KI}),jI=[Ht("highlightClass"),Ht("itemClass"),ks("onHighlight"),ks("onDehighlight")];const Gs=Zi({fields:jI,name:"highlighting",apis:R8}),ZI=[8],Cm=[9],ph=[13],CS=[27],od=[32],SS=[37],Ny=[38],$w=[39],My=[40],I8=(s,l,d)=>{const f=lt(s.slice(0,l)),b=lt(s.slice(l+1));return ee(f.concat(b),d)},D8=(s,l,d)=>{const f=lt(s.slice(0,l));return ee(f,d)},P8=(s,l,d)=>{const f=s.slice(0,l),b=s.slice(l+1);return ee(b.concat(f),d)},N8=(s,l,d)=>{const f=s.slice(l+1);return ee(f,d)},Ds=s=>l=>{const d=l.raw;return mt(s,d.which)},pg=s=>l=>qe(s,d=>d(l)),bh=s=>s.raw.shiftKey===!0,M8=s=>s.raw.ctrlKey===!0,Vw=Ue(bh),Ls=(s,l)=>({matches:s,classification:l}),GI=(s,l,d)=>{l.exists(f=>d.exists(b=>cs(b,f)))||Xn(s,Sb(),{prevFocus:l,newFocus:d})},xT=()=>{const s=l=>yi(l.element);return{get:s,set:(l,d)=>{const f=s(l);l.getSystem().triggerFocus(d,l.element);const b=s(l);GI(l,f,b)}}},L8=()=>{const s=l=>Gs.getHighlighted(l).map(d=>d.element);return{get:s,set:(l,d)=>{const f=s(l);l.getSystem().getByDom(d).fold(W,v=>{Gs.highlight(l,v)});const b=s(l);GI(l,f,b)}}};var O0;(function(s){s.OnFocusMode="onFocus",s.OnEnterOrSpaceMode="onEnterOrSpace",s.OnApiMode="onApi"})(O0||(O0={}));const R0=(s,l,d,f,b)=>{const v=(k,E,N,$,B)=>{return(U=N(k,E,$,B),J=E.event,ee(U,se=>se.matches(J)).map(se=>se.classification)).bind(se=>se(k,E,$,B));var U,J},C={schema:()=>s.concat([vt("focusManager",xT()),Ja("focusInside","onFocus",rf(k=>mt(["onFocus","onEnterOrSpace","onApi"],k)?ss.value(k):ss.error("Invalid value for focusInside"))),pr("handler",C),pr("state",l),pr("sendFocusIn",b)]),processKey:v,toEvents:(k,E)=>{const N=k.focusInside!==O0.OnFocusMode?I.none():b(k).map(B=>Lt(Zu(),(U,J)=>{B(U,k,E),J.stop()})),$=[Lt(Pr(),(B,U)=>{v(B,U,d,k,E).fold(()=>{((J,se)=>{const pe=Ds(od.concat(ph))(se.event);k.focusInside===O0.OnEnterOrSpaceMode&&pe&&Zg(J,se)&&b(k).each(ye=>{ye(J,k,E),se.stop()})})(B,U)},J=>{U.stop()})}),Lt(Hc(),(B,U)=>{v(B,U,f,k,E).each(J=>{U.stop()})})];return To(N.toArray().concat($))}};return C},qI=s=>{const l=[ds("onEscape"),ds("onEnter"),vt("selector",'[data-alloy-tabstop="true"]:not(:disabled)'),vt("firstTabstop",0),vt("useTabstopAt",Ne),ds("visibilitySelector")].concat([s]),d=($,B)=>{const U=$.visibilitySelector.bind(J=>bf(B,J)).getOr(B);return Rr(U)>0},f=($,B)=>B.focusManager.get($).bind(U=>bf(U,B.selector)),b=($,B,U)=>{((J,se)=>{const pe=na(J.element,se.selector),ye=Xt(pe,Re=>d(se,Re));return I.from(ye[se.firstTabstop])})($,B).each(J=>{B.focusManager.set($,J)})},v=($,B,U,J)=>{const se=na($.element,U.selector);return f($,U).bind(pe=>vo(se,Ce(cs,pe)).bind(ye=>((Re,ve,be,ke,Ie)=>Ie(ve,be,Le=>((Qe,ht)=>d(Qe,ht)&&Qe.useTabstopAt(ht))(ke,Le)).fold(()=>ke.cyclic?I.some(!0):I.none(),Le=>(ke.focusManager.set(Re,Le),I.some(!0))))($,se,ye,U,J)))},C=($,B,U)=>{const J=U.cyclic?I8:D8;return v($,0,U,J)},k=($,B,U)=>{const J=U.cyclic?P8:N8;return v($,0,U,J)},E=j([Ls(pg([bh,Ds(Cm)]),C),Ls(Ds(Cm),k),Ls(pg([Vw,Ds(ph)]),($,B,U)=>U.onEnter.bind(J=>J($,B)))]),N=j([Ls(Ds(CS),($,B,U)=>U.onEscape.bind(J=>J($,B))),Ls(Ds(Cm),($,B,U)=>f($,U).filter(J=>!U.useTabstopAt(J)).bind(J=>((se=>(pe=>Pi(pe))(se).bind(Be).exists(pe=>cs(pe,se)))(J)?C:k)($,B,U)))]);return R0(l,Zc.init,E,N,()=>I.some(b))};var B8=qI(ji("cyclic",Me)),F8=qI(ji("cyclic",Ne));const zw=(s,l,d)=>Iy(d)&&Ds(od)(l.event)?I.none():((f,b,v)=>(Ar(f,v,yl()),I.some(!0)))(s,0,d),I0=(s,l)=>I.some(!0),$8=[vt("execute",zw),vt("useSpace",!1),vt("useEnter",!0),vt("useControlEnter",!1),vt("useDown",!1)],YI=(s,l,d)=>d.execute(s,l,s.element);var V8=R0($8,Zc.init,(s,l,d,f)=>{const b=d.useSpace&&!Iy(s.element)?od:[],v=d.useEnter?ph:[],C=d.useDown?My:[],k=b.concat(v).concat(C);return[Ls(Ds(k),YI)].concat(d.useControlEnter?[Ls(pg([M8,Ds(ph)]),YI)]:[])},(s,l,d,f)=>d.useSpace&&!Iy(s.element)?[Ls(Ds(od),I0)]:[],()=>I.none());const XI=()=>{const s=_s();return Ai({readState:()=>s.get().map(l=>({numRows:String(l.numRows),numColumns:String(l.numColumns)})).getOr({numRows:"?",numColumns:"?"}),setGridSize:(l,d)=>{s.set({numRows:l,numColumns:d})},getNumRows:()=>s.get().map(l=>l.numRows),getNumColumns:()=>s.get().map(l=>l.numColumns)})};var JI=Object.freeze({__proto__:null,flatgrid:XI,init:s=>s.state(s)});const QI=s=>(l,d,f,b)=>{const v=s(l.element);return eD(v,l,d,f,b)},wT=(s,l)=>{const d=_w(s,l);return QI(d)},CT=(s,l)=>{const d=_w(l,s);return QI(d)},ST=s=>(l,d,f,b)=>eD(s,l,d,f,b),eD=(s,l,d,f,b)=>f.focusManager.get(l).bind(v=>s(l.element,v,f,b)).map(v=>(f.focusManager.set(l,v),!0)),_T=ST,tD=ST,_S=ST,nD=s=>!(l=>l.offsetWidth<=0&&l.offsetHeight<=0)(s.dom),kT=(s,l,d)=>{const f=na(s,d);return((b,v)=>vo(b,C=>cs(C,l)).map(C=>({index:C,candidates:b})))(Xt(f,nD))},kS=(s,l)=>vo(s,d=>cs(l,d)),oD=(s,l,d,f)=>f(Math.floor(l/d),l%d).bind(b=>{const v=b.row*d+b.column;return v>=0&&v<s.length?I.some(s[v]):I.none()}),sD=(s,l,d,f,b)=>oD(s,l,f,(v,C)=>{const k=v===d-1?s.length-v*f:f,E=nh(C,b,0,k-1);return I.some({row:v,column:E})}),rD=(s,l,d,f,b)=>oD(s,l,f,(v,C)=>{const k=nh(v,b,0,d-1),E=k===d-1?s.length-k*f:f,N=Xu(C,0,E-1);return I.some({row:k,column:N})}),z8=[Ht("selector"),vt("execute",zw),dc("onEscape"),vt("captureTab",!1),oS()],iD=(s,l,d)=>{Lr(s.element,l.selector).each(f=>{l.focusManager.set(s,f)})},Hw=s=>(l,d,f,b)=>kT(l,d,f.selector).bind(v=>s(v.candidates,v.index,b.getNumRows().getOr(f.initSize.numRows),b.getNumColumns().getOr(f.initSize.numColumns))),ET=(s,l,d)=>d.captureTab?I.some(!0):I.none(),TT=Hw((s,l,d,f)=>sD(s,l,d,f,-1)),AT=Hw((s,l,d,f)=>sD(s,l,d,f,1)),H8=Hw((s,l,d,f)=>rD(s,l,d,f,-1)),U8=Hw((s,l,d,f)=>rD(s,l,d,f,1)),W8=j([Ls(Ds(SS),wT(TT,AT)),Ls(Ds($w),CT(TT,AT)),Ls(Ds(Ny),_T(H8)),Ls(Ds(My),tD(U8)),Ls(pg([bh,Ds(Cm)]),ET),Ls(pg([Vw,Ds(Cm)]),ET),Ls(Ds(od.concat(ph)),(s,l,d,f)=>((b,v)=>v.focusManager.get(b).bind(C=>bf(C,v.selector)))(s,d).bind(b=>d.execute(s,l,b)))]),K8=j([Ls(Ds(CS),(s,l,d)=>d.onEscape(s,l)),Ls(Ds(od),I0)]);var j8=R0(z8,XI,W8,K8,()=>I.some(iD));const $b=(s,l,d,f,b)=>{const v=(C,k,E)=>b(C,k,f,0,E.length-1,E[k],N=>{return $=E[N],ml($)==="button"&&ns($,"disabled")==="disabled"?v(C,N,E):I.from(E[N]);var $});return kT(s,d,l).bind(C=>{const k=C.index,E=C.candidates;return v(k,k,E)})},aD=(s,l,d,f)=>$b(s,l,d,f,(b,v,C,k,E,N,$)=>{const B=Xu(v+C,k,E);return B===b?I.from(N):$(B)}),ES=(s,l,d,f)=>$b(s,l,d,f,(b,v,C,k,E,N,$)=>{const B=nh(v,C,k,E);return B===b?I.none():$(B)}),Z8=[Ht("selector"),vt("getInitial",I.none),vt("execute",zw),dc("onEscape"),vt("executeOnMove",!1),vt("allowVertical",!0),vt("allowHorizontal",!0),vt("cycles",!0)],OT=(s,l,d)=>((f,b)=>b.focusManager.get(f).bind(v=>bf(v,b.selector)))(s,d).bind(f=>d.execute(s,l,f)),lD=(s,l,d)=>{l.getInitial(s).orThunk(()=>Lr(s.element,l.selector)).each(f=>{l.focusManager.set(s,f)})},cD=(s,l,d)=>(d.cycles?ES:aD)(s,d.selector,l,-1),uD=(s,l,d)=>(d.cycles?ES:aD)(s,d.selector,l,1),RT=s=>(l,d,f,b)=>s(l,d,f,b).bind(()=>f.executeOnMove?OT(l,d,f):I.some(!0)),Uw=j([Ls(Ds(od),I0),Ls(Ds(CS),(s,l,d)=>d.onEscape(s,l))]);var Ww=R0(Z8,Zc.init,(s,l,d,f)=>{const b=[...d.allowHorizontal?SS:[]].concat(d.allowVertical?Ny:[]),v=[...d.allowHorizontal?$w:[]].concat(d.allowVertical?My:[]);return[Ls(Ds(b),RT(wT(cD,uD))),Ls(Ds(v),RT(CT(cD,uD))),Ls(Ds(ph),OT),Ls(Ds(od),OT)]},Uw,()=>I.some(lD));const TS=(s,l,d)=>I.from(s[l]).bind(f=>I.from(f[d]).map(b=>({rowIndex:l,columnIndex:d,cell:b}))),AS=(s,l,d,f)=>{const b=s[l].length,v=nh(d,f,0,b-1);return TS(s,l,v)},dD=(s,l,d,f)=>{const b=nh(d,f,0,s.length-1),v=s[b].length,C=Xu(l,0,v-1);return TS(s,b,C)},IT=(s,l,d,f)=>{const b=s[l].length,v=Xu(d+f,0,b-1);return TS(s,l,v)},DT=(s,l,d,f)=>{const b=Xu(d+f,0,s.length-1),v=s[b].length,C=Xu(l,0,v-1);return TS(s,b,C)},fD=[$c("selectors",[Ht("row"),Ht("cell")]),vt("cycles",!0),vt("previousSelector",I.none),vt("execute",zw)],G8=(s,l,d)=>{l.previousSelector(s).orThunk(()=>{const f=l.selectors;return Lr(s.element,f.cell)}).each(f=>{l.focusManager.set(s,f)})},OS=(s,l)=>(d,f,b)=>{const v=b.cycles?s:l;return bf(f,b.selectors.row).bind(C=>{const k=na(C,b.selectors.cell);return kS(k,f).bind(E=>{const N=na(d,b.selectors.row);return kS(N,C).bind($=>{const B=((U,J)=>Ve(U,se=>na(se,J.selectors.cell)))(N,b);return v(B,$,E).map(U=>U.cell)})})})},mD=OS((s,l,d)=>AS(s,l,d,-1),(s,l,d)=>IT(s,l,d,-1)),D0=OS((s,l,d)=>AS(s,l,d,1),(s,l,d)=>IT(s,l,d,1)),P0=OS((s,l,d)=>dD(s,d,l,-1),(s,l,d)=>DT(s,d,l,-1)),RS=OS((s,l,d)=>dD(s,d,l,1),(s,l,d)=>DT(s,d,l,1)),Kw=j([Ls(Ds(SS),wT(mD,D0)),Ls(Ds($w),CT(mD,D0)),Ls(Ds(Ny),_T(P0)),Ls(Ds(My),tD(RS)),Ls(Ds(od.concat(ph)),(s,l,d)=>yi(s.element).bind(f=>d.execute(s,l,f)))]),q8=j([Ls(Ds(od),I0)]);var Vb=R0(fD,Zc.init,Kw,q8,()=>I.some(G8));const vh=[Ht("selector"),vt("execute",zw),vt("moveOnTab",!1)],IS=(s,l,d)=>d.focusManager.get(s).bind(f=>d.execute(s,l,f)),gD=(s,l,d)=>{Lr(s.element,l.selector).each(f=>{l.focusManager.set(s,f)})},hD=(s,l,d)=>ES(s,d.selector,l,-1),PT=(s,l,d)=>ES(s,d.selector,l,1),jw=j([Ls(Ds(Ny),_S(hD)),Ls(Ds(My),_S(PT)),Ls(pg([bh,Ds(Cm)]),(s,l,d,f)=>d.moveOnTab?_S(hD)(s,l,d,f):I.none()),Ls(pg([Vw,Ds(Cm)]),(s,l,d,f)=>d.moveOnTab?_S(PT)(s,l,d,f):I.none()),Ls(Ds(ph),IS),Ls(Ds(od),IS)]),Zw=j([Ls(Ds(od),I0)]);var NT=R0(vh,Zc.init,jw,Zw,()=>I.some(gD));const pD=[dc("onSpace"),dc("onEnter"),dc("onShiftEnter"),dc("onLeft"),dc("onRight"),dc("onTab"),dc("onShiftTab"),dc("onUp"),dc("onDown"),dc("onEscape"),vt("stopSpaceKeyup",!1),ds("focusIn")];var Gw=R0(pD,Zc.init,(s,l,d)=>[Ls(Ds(od),d.onSpace),Ls(pg([Vw,Ds(ph)]),d.onEnter),Ls(pg([bh,Ds(ph)]),d.onShiftEnter),Ls(pg([bh,Ds(Cm)]),d.onShiftTab),Ls(pg([Vw,Ds(Cm)]),d.onTab),Ls(Ds(Ny),d.onUp),Ls(Ds(My),d.onDown),Ls(Ds(SS),d.onLeft),Ls(Ds($w),d.onRight),Ls(Ds(od),d.onSpace)],(s,l,d)=>[...d.stopSpaceKeyup?[Ls(Ds(od),I0)]:[],Ls(Ds(CS),d.onEscape)],s=>s.focusIn);const DS=B8.schema(),Y8=F8.schema(),MT=Ww.schema(),PS=j8.schema(),Fl=Vb.schema(),X8=V8.schema(),yh=NT.schema(),bD=Gw.schema(),eo=z({branchKey:"mode",branches:Object.freeze({__proto__:null,acyclic:DS,cyclic:Y8,flow:MT,flatgrid:PS,matrix:Fl,execution:X8,menu:yh,special:bD}),name:"keying",active:{events:(s,l)=>s.handler.toEvents(s,l)},apis:{focusIn:(s,l,d)=>{l.sendFocusIn(l).fold(()=>{s.getSystem().triggerFocus(s.element,s.element)},f=>{f(s,l,d)})},setGridSize:(s,l,d,f,b)=>{(v=>$o(v,"setGridSize"))(d)?d.setGridSize(f,b):console.error("Layout does not support setGridSize")}},state:JI}),N0=(s,l)=>{lh(()=>{((d,f,b)=>{const v=d.components();(E=>{bt(E.components(),N=>Ji(N.element)),Cr(E.element),E.syncComponents()})(d);const C=b(f),k=Se(v,C);bt(k,E=>{mh(E),d.getSystem().removeFromWorld(E)}),bt(C,E=>{ky(E)?Pp(d,E):(d.getSystem().addToWorld(E),Pp(d,E),Cn(d.element)&&gh(E))}),d.syncComponents()})(s,l,()=>Ve(l,s.getSystem().build))},s.element)},LT=(s,l)=>{lh(()=>{((d,f,b)=>{const v=d.components(),C=yn(f,N=>lw(N).toArray());bt(v,N=>{mt(C,N)||Ey(N)});const k=((N,$,B)=>rS(N,$,(U,J)=>fw(N,J,U,B)))(s.element,l,s.getSystem().buildOrPatch),E=Se(v,k);bt(E,N=>{ky(N)&&Ey(N)}),bt(k,N=>{ky(N)||E0(d,N)}),d.syncComponents()})(s,l)},s.element)},NS=(s,l,d,f)=>{Ey(l);const b=fw(s.element,d,f,s.getSystem().buildOrPatch);E0(s,b),s.syncComponents()},BT=(s,l,d)=>{const f=s.getSystem().build(d);Iw(s,f,l)},vD=(s,l,d,f)=>{Jl(l),BT(s,(b,v)=>((C,k,E)=>{wr(C,E).fold(()=>{vl(C,k)},N=>{Nc(N,k)})})(b,v,d),f)},qw=(s,l)=>s.components(),yD=(s,l,d,f,b)=>{const v=qw(s);return I.from(v[f]).map(C=>(b.fold(()=>Jl(C),k=>{(l.reuseDom?NS:vD)(s,C,f,k)}),C))};var FT=Object.freeze({__proto__:null,append:(s,l,d,f)=>{BT(s,vl,f)},prepend:(s,l,d,f)=>{BT(s,Wm,f)},remove:(s,l,d,f)=>{const b=qw(s);ee(b,C=>cs(f.element,C.element)).each(Jl)},replaceAt:yD,replaceBy:(s,l,d,f,b)=>{const v=qw(s);return vo(v,f).bind(C=>yD(s,l,0,C,b))},set:(s,l,d,f)=>(l.reuseDom?LT:N0)(s,f),contents:qw});const go=Zi({fields:[li("reuseDom",!0)],name:"replacing",apis:FT}),jo=(s,l)=>{const d=((f,b)=>{const v=To(b);return Zi({fields:[Ht("enabled")],name:f,active:{events:j(v)}})})(s,l);return{key:s,value:{config:{},me:d,configAsRaw:j({}),initialConfig:{},state:Zc}}},xD=(s,l)=>{l.ignore||(Ll(s.element),l.onFocus(s))};var wD=Object.freeze({__proto__:null,focus:xD,blur:(s,l)=>{l.ignore||a0(s.element)},isFocused:s=>Tp(s.element)}),CD=Object.freeze({__proto__:null,exhibit:(s,l)=>{const d=l.ignore?{}:{attributes:{tabindex:"-1"}};return Nr(d)},events:s=>To([Lt(Zu(),(l,d)=>{xD(l,s),d.stop()})].concat(s.stopMousedown?[Lt(Ut(),(l,d)=>{d.event.prevent()})]:[]))}),SD=[ks("onFocus"),vt("stopMousedown",!1),vt("ignore",!1)];const Eo=Zi({fields:SD,name:"focusing",active:CD,apis:wD}),Yw=(s,l,d,f)=>{const b=d.get();d.set(f),((v,C,k)=>{C.toggleClass.each(E=>{k.get()?Vn(v.element,E):Fo(v.element,E)})})(s,l,d),((v,C,k)=>{const E=C.aria;E.update(v,E,k.get())})(s,l,d),b!==f&&l.onToggled(s,f)},Od=(s,l,d)=>{Yw(s,l,d,!d.get())},M0=(s,l,d)=>{Yw(s,l,d,l.selected)};var _D=Object.freeze({__proto__:null,onLoad:M0,toggle:Od,isOn:(s,l,d)=>d.get(),on:(s,l,d)=>{Yw(s,l,d,!0)},off:(s,l,d)=>{Yw(s,l,d,!1)},set:Yw}),Ly=Object.freeze({__proto__:null,exhibit:()=>Nr({}),events:(s,l)=>{const d=(f=s,b=l,v=Od,pu(k=>{v(k,f,b)}));var f,b,v;const C=lm(s,l,M0);return To(nn([s.toggleOnExecute?[d]:[],[C]]))}});const qc=(s,l,d)=>{xn(s.element,"aria-expanded",d)};var sd=[vt("selected",!1),ds("toggleClass"),vt("toggleOnExecute",!0),ks("onToggled"),Ja("aria",{mode:"none"},Ti("mode",{pressed:[vt("syncWithExpanded",!1),pr("update",(s,l,d)=>{xn(s.element,"aria-pressed",d),l.syncWithExpanded&&qc(s,0,d)})],checked:[pr("update",(s,l,d)=>{xn(s.element,"aria-checked",d)})],expanded:[pr("update",qc)],selected:[pr("update",(s,l,d)=>{xn(s.element,"aria-selected",d)})],none:[pr("update",W)]}))];const yo=Zi({fields:sd,name:"toggling",active:Ly,apis:_D,state:{init:()=>{const s=Wn(!1);return{get:()=>s.get(),set:l=>s.set(l),clear:()=>s.set(!1),readState:()=>s.get()}}}}),xf=()=>{const s=(l,d)=>{d.stop(),gf(l)};return[Lt(bi(),s),Lt(cf(),s),im(Y()),im(Ut())]},By=s=>To(nn([s.map(l=>pu((d,f)=>{l(d),f.stop()})).toArray(),xf()])),Rd="alloy.item-hover",zb="alloy.item-focus",kD="alloy.item-toggled",ED=s=>{(yi(s.element).isNone()||Eo.isFocused(s))&&(Eo.isFocused(s)||Eo.focus(s),Xn(s,Rd,{item:s}))},TD=s=>{Xn(s,zb,{item:s})},$T=j(Rd),AD=j(zb),MS=j(kD),OD=s=>s.role.fold(()=>s.toggling.map(l=>l.exclusive?"menuitemradio":"menuitemcheckbox").getOr("menuitem"),me),J8=[Ht("data"),Ht("components"),Ht("dom"),vt("hasSubmenu",!1),ds("toggling"),ds("role"),Ao("itemBehaviours",[yo,Eo,eo,St]),vt("ignoreFocus",!1),vt("domModification",{}),pr("builder",s=>({dom:s.dom,domModification:{...s.domModification,attributes:{role:OD(s),...s.domModification.attributes,"aria-haspopup":s.hasSubmenu,...s.hasSubmenu?{"aria-expanded":!1}:{}}},behaviours:bo(s.itemBehaviours,[s.toggling.fold(yo.revoke,l=>yo.config(((d,f)=>({aria:{mode:f?"selected":"checked"},...Ss(d,(b,v)=>v!=="exclusive"),onToggled:(b,v)=>{G(d.onToggled)&&d.onToggled(b,v),((C,k)=>{Xn(C,kD,{item:C,state:k})})(b,v)}}))(l,s.role.exists(d=>d==="option")))),Eo.config({ignore:s.ignoreFocus,stopMousedown:s.ignoreFocus,onFocus:l=>{TD(l)}}),eo.config({mode:"execution"}),St.config({store:{mode:"memory",initialValue:s.data}}),jo("item-type-events",[...xf(),Lt(jn(),ED),Lt(Ym(),Eo.focus)])]),components:s.components,eventOrder:s.eventOrder})),vt("eventOrder",{})],Q8=[Ht("dom"),Ht("components"),pr("builder",s=>({dom:s.dom,components:s.components,events:To([J1(Ym())])}))],VT=j("item-widget"),zT=j([hc({name:"widget",overrides:s=>({behaviours:an([St.config({store:{mode:"manual",getValue:l=>s.data,setValue:W}})])})})]),RD=[Ht("uid"),Ht("data"),Ht("components"),Ht("dom"),vt("autofocus",!1),vt("ignoreFocus",!1),Ao("widgetBehaviours",[St,Eo,eo]),vt("domModification",{}),hT(zT()),pr("builder",s=>{const l=dT(VT(),s,zT()),d=fT(VT(),s,l.internals()),f=v=>vr(v,s,"widget").map(C=>(eo.focusIn(C),C)),b=(v,C)=>(Iy(C.event.target)||s.autofocus&&C.setSource(v.element),I.none());return{dom:s.dom,components:d,domModification:s.domModification,events:To([pu((v,C)=>{f(v).each(k=>{C.stop()})}),Lt(jn(),ED),Lt(Ym(),(v,C)=>{s.autofocus?f(v):Eo.focus(v)})]),behaviours:bo(s.widgetBehaviours,[St.config({store:{mode:"memory",initialValue:s.data}}),Eo.config({ignore:s.ignoreFocus,onFocus:v=>{TD(v)}}),eo.config({mode:"special",focusIn:s.autofocus?v=>{f(v)}:ue(),onLeft:b,onRight:b,onEscape:(v,C)=>Eo.isFocused(v)||s.autofocus?(s.autofocus&&C.setSource(v.element),I.none()):(Eo.focus(v),I.some(!0))})])}})],ID=Ti("type",{widget:RD,item:J8,separator:Q8}),HT=j([wS({factory:{sketch:s=>{const l=Na("menu.spec item",ID,s);return l.builder(l)}},name:"items",unit:"item",defaults:(s,l)=>uo(l,"uid")?l:{...l,uid:Ju("item")},overrides:(s,l)=>({type:l.type,ignoreFocus:s.fakeFocus,domModification:{classes:[s.markers.item]}})})]),DD=j([Zr("role"),Ht("value"),Ht("items"),Ht("dom"),Ht("components"),vt("eventOrder",{}),Mn("menuBehaviours",[Gs,St,Os,eo]),Ja("movement",{mode:"menu",moveOnTab:!0},Ti("mode",{grid:[oS(),pr("config",(s,l)=>({mode:"flatgrid",selector:"."+s.markers.item,initSize:{numColumns:l.initSize.numColumns,numRows:l.initSize.numRows},focusManager:s.focusManager}))],matrix:[pr("config",(s,l)=>({mode:"matrix",selectors:{row:l.rowSelector,cell:"."+s.markers.item},previousSelector:l.previousSelector,focusManager:s.focusManager})),Ht("rowSelector"),vt("previousSelector",I.none)],menu:[vt("moveOnTab",!0),pr("config",(s,l)=>({mode:"menu",selector:"."+s.markers.item,moveOnTab:l.moveOnTab,focusManager:s.focusManager}))]})),Bi("markers",pp()),vt("fakeFocus",!1),vt("focusManager",xT()),ks("onHighlight"),ks("onDehighlight"),vt("showMenuRole",!0)]),PD=j("alloy.menu-focus"),L0=Ec({name:"Menu",configFields:DD(),partFields:HT(),factory:(s,l,d,f)=>({uid:s.uid,dom:s.dom,markers:s.markers,behaviours:zo(s.menuBehaviours,[Gs.config({highlightClass:s.markers.selectedItem,itemClass:s.markers.item,onHighlight:s.onHighlight,onDehighlight:s.onDehighlight}),St.config({store:{mode:"memory",initialValue:s.value}}),Os.config({find:I.some}),eo.config(s.movement.config(s,s.movement))]),events:To([Lt(AD(),(b,v)=>{const C=v.event;b.getSystem().getByDom(C.target).each(k=>{Gs.highlight(b,k),v.stop(),Xn(b,PD(),{menu:b,item:k})})}),Lt($T(),(b,v)=>{const C=v.event.item;Gs.highlight(b,C)}),Lt(MS(),(b,v)=>{const{item:C,state:k}=v.event;k&&ns(C.element,"role")==="menuitemradio"&&((E,N)=>{const $=na(E.element,'[role="menuitemradio"][aria-checked="true"]');bt($,B=>{cs(B,N.element)||E.getSystem().getByDom(B).each(U=>{yo.off(U)})})})(b,C)})]),components:l,eventOrder:s.eventOrder,...s.showMenuRole?{domModification:{attributes:{role:s.role.getOr("menu")}}}:{}})}),ND=(s,l,d,f)=>cn(d,f).bind(b=>cn(s,b).bind(v=>{const C=ND(s,l,d,v);return I.some([v].concat(C))})).getOr([]),MD=s=>s.type==="prepared"?I.some(s.menu):I.none(),e7=()=>{const s=Wn({}),l=Wn({}),d=Wn({}),f=_s(),b=Wn({}),v=E=>C(E).bind(MD),C=E=>cn(l.get(),E),k=E=>cn(s.get(),E);return{setMenuBuilt:(E,N)=>{l.set({...l.get(),[E]:{type:"prepared",menu:N}})},setContents:(E,N,$,B)=>{f.set(E),s.set($),l.set(N),b.set(B);const U=((J,se)=>{const pe={};no(J,(be,ke)=>{bt(be,Ie=>{pe[Ie]=ke})});const ye=se,Re=Jo(se,(be,ke)=>({k:be,v:ke})),ve=co(Re,(be,ke)=>[ke].concat(ND(pe,ye,Re,ke)));return co(pe,be=>cn(ve,be).getOr([be]))})(B,$);d.set(U)},expand:E=>cn(s.get(),E).map(N=>{const $=cn(d.get(),E).getOr([]);return[N].concat($)}),refresh:E=>cn(d.get(),E),collapse:E=>cn(d.get(),E).bind(N=>N.length>1?I.some(N.slice(1)):I.none()),lookupMenu:C,lookupItem:k,otherMenus:E=>{const N=b.get();return Se(en(N),E)},getPrimary:()=>f.get().bind(v),getMenus:()=>l.get(),clear:()=>{s.set({}),l.set({}),d.set({}),f.clear()},isClear:()=>f.get().isNone(),getTriggeringPath:(E,N)=>{const $=Xt(k(E).toArray(),B=>v(B).isSome());return cn(d.get(),E).bind(B=>{const U=lt($.concat(B));return(J=>{const se=[];for(let pe=0;pe<J.length;pe++){const ye=J[pe];if(!ye.isSome())return I.none();se.push(ye.getOrDie())}return I.some(se)})(yn(U,(J,se)=>((pe,ye,Re)=>v(pe).bind(ve=>(be=>xs(s.get(),(ke,Ie)=>ke===be))(pe).bind(be=>ye(be).map(ke=>({triggeredMenu:ve,triggeringItem:ke,triggeringPath:Re})))))(J,N,U.slice(0,se+1)).fold(()=>mi(f.get(),J)?[]:[I.none()],pe=>[I.some(pe)])))})}}},t7=MD,Id=Nn("tiered-menu-item-highlight"),n7=Nn("tiered-menu-item-dehighlight");var ec;(function(s){s[s.HighlightMenuAndItem=0]="HighlightMenuAndItem",s[s.HighlightJustMenu=1]="HighlightJustMenu",s[s.HighlightNone=2]="HighlightNone"})(ec||(ec={}));const B0=j("collapse-item"),Mp=Ad({name:"TieredMenu",configFields:[xl("onExecute"),xl("onEscape"),pf("onOpenMenu"),pf("onOpenSubmenu"),ks("onRepositionMenu"),ks("onCollapseMenu"),vt("highlightOnOpen",ec.HighlightMenuAndItem),$c("data",[Ht("primary"),Ht("menus"),Ht("expansions")]),vt("fakeFocus",!1),ks("onHighlightItem"),ks("onDehighlightItem"),ks("onHover"),bp(),Ht("dom"),vt("navigateOnHover",!0),vt("stayInDom",!1),Mn("tmenuBehaviours",[eo,Gs,Os,go]),vt("eventOrder",{})],apis:{collapseMenu:(s,l)=>{s.collapseMenu(l)},highlightPrimary:(s,l)=>{s.highlightPrimary(l)},repositionMenus:(s,l)=>{s.repositionMenus(l)}},factory:(s,l)=>{const d=_s(),f=e7(),b=be=>St.getValue(be).value,v=be=>co(s.data.menus,(ke,Ie)=>yn(ke.items,Le=>Le.type==="separator"?[]:[Le.data.value])),C=Gs.highlight,k=(be,ke)=>{C(be,ke),Gs.getHighlighted(ke).orThunk(()=>Gs.getFirst(ke)).each(Ie=>{s.fakeFocus?Gs.highlight(ke,Ie):Ar(be,Ie.element,Ym())})},E=(be,ke)=>dl(Ve(ke,Ie=>be.lookupMenu(Ie).bind(Le=>Le.type==="prepared"?I.some(Le.menu):I.none()))),N=(be,ke,Ie)=>{const Le=E(ke,ke.otherMenus(Ie));bt(Le,Qe=>{ci(Qe.element,[s.markers.backgroundMenu]),s.stayInDom||go.remove(be,Qe)})},$=(be,ke)=>{const Ie=(Le=>d.get().getOrThunk(()=>{const Qe={},ht=na(Le.element,`.${s.markers.item}`),zt=Xt(ht,Bt=>ns(Bt,"aria-haspopup")==="true");return bt(zt,Bt=>{Le.getSystem().getByDom(Bt).each(Pt=>{const sn=b(Pt);Qe[sn]=Pt})}),d.set(Qe),Qe}))(be);no(Ie,(Le,Qe)=>{const ht=mt(ke,Qe);xn(Le.element,"aria-expanded",ht)})},B=(be,ke,Ie)=>I.from(Ie[0]).bind(Le=>ke.lookupMenu(Le).bind(Qe=>{if(Qe.type==="notbuilt")return I.none();{const ht=Qe.menu,zt=E(ke,Ie.slice(1));return bt(zt,Bt=>{Vn(Bt.element,s.markers.backgroundMenu)}),Cn(ht.element)||go.append(be,Yl(ht)),ci(ht.element,[s.markers.backgroundMenu]),k(be,ht),N(be,ke,Ie),I.some(ht)}}));let U;(function(be){be[be.HighlightSubmenu=0]="HighlightSubmenu",be[be.HighlightParent=1]="HighlightParent"})(U||(U={}));const J=(be,ke,Ie=U.HighlightSubmenu)=>{if(ke.hasConfigured(Oo)&&Oo.isDisabled(ke))return I.some(ke);{const Le=b(ke);return f.expand(Le).bind(Qe=>($(be,Qe),I.from(Qe[0]).bind(ht=>f.lookupMenu(ht).bind(zt=>{const Bt=((Pt,sn,In)=>{if(In.type==="notbuilt"){const Kn=Pt.getSystem().build(In.nbMenu());return f.setMenuBuilt(sn,Kn),Kn}return In.menu})(be,ht,zt);return Cn(Bt.element)||go.append(be,Yl(Bt)),s.onOpenSubmenu(be,ke,Bt,lt(Qe)),Ie===U.HighlightSubmenu?(Gs.highlightFirst(Bt),B(be,f,Qe)):(Gs.dehighlightAll(Bt),I.some(ke))}))))}},se=(be,ke)=>{const Ie=b(ke);return f.collapse(Ie).bind(Le=>($(be,Le),B(be,f,Le).map(Qe=>(s.onCollapseMenu(be,ke,Qe),Qe))))},pe=be=>(ke,Ie)=>bf(Ie.getSource(),`.${s.markers.item}`).bind(Le=>ke.getSystem().getByDom(Le).toOptional().bind(Qe=>be(ke,Qe).map(Ne))),ye=To([Lt(PD(),(be,ke)=>{const Ie=ke.event.item;f.lookupItem(b(Ie)).each(()=>{const Le=ke.event.menu;Gs.highlight(be,Le);const Qe=b(ke.event.item);f.refresh(Qe).each(ht=>N(be,f,ht))})}),pu((be,ke)=>{const Ie=ke.event.target;be.getSystem().getByDom(Ie).each(Le=>{b(Le).indexOf("collapse-item")===0&&se(be,Le),J(be,Le,U.HighlightSubmenu).fold(()=>{s.onExecute(be,Le)},W)})}),hr((be,ke)=>{(Ie=>{const Le=((ht,zt,Bt)=>co(Bt,(Pt,sn)=>{const In=()=>L0.sketch({...Pt,value:sn,markers:s.markers,fakeFocus:s.fakeFocus,onHighlight:(Kn,ro)=>{Xn(Kn,Id,{menuComp:Kn,itemComp:ro})},onDehighlight:(Kn,ro)=>{Xn(Kn,n7,{menuComp:Kn,itemComp:ro})},focusManager:s.fakeFocus?L8():xT()});return sn===zt?{type:"prepared",menu:ht.getSystem().build(In())}:{type:"notbuilt",nbMenu:In}}))(Ie,s.data.primary,s.data.menus),Qe=v();return f.setContents(s.data.primary,Le,s.data.expansions,Qe),f.getPrimary()})(be).each(Ie=>{go.append(be,Yl(Ie)),s.onOpenMenu(be,Ie),s.highlightOnOpen===ec.HighlightMenuAndItem?k(be,Ie):s.highlightOnOpen===ec.HighlightJustMenu&&C(be,Ie)})}),Lt(Id,(be,ke)=>{s.onHighlightItem(be,ke.event.menuComp,ke.event.itemComp)}),Lt(n7,(be,ke)=>{s.onDehighlightItem(be,ke.event.menuComp,ke.event.itemComp)}),...s.navigateOnHover?[Lt($T(),(be,ke)=>{const Ie=ke.event.item;((Le,Qe)=>{const ht=b(Qe);f.refresh(ht).bind(zt=>($(Le,zt),B(Le,f,zt)))})(be,Ie),J(be,Ie,U.HighlightParent),s.onHover(be,Ie)})]:[]]),Re=be=>Gs.getHighlighted(be).bind(Gs.getHighlighted),ve={collapseMenu:be=>{Re(be).each(ke=>{se(be,ke)})},highlightPrimary:be=>{f.getPrimary().each(ke=>{k(be,ke)})},repositionMenus:be=>{f.getPrimary().bind(Ie=>Re(be).bind(Le=>{const Qe=b(Le),ht=la(f.getMenus()),zt=dl(Ve(ht,t7));return f.getTriggeringPath(Qe,Bt=>((Pt,sn,In)=>pn(sn,Kn=>{if(!Kn.getSystem().isConnected())return I.none();const ro=Gs.getCandidates(Kn);return ee(ro,Ro=>b(Ro)===In)}))(0,zt,Bt))}).map(Le=>({primary:Ie,triggeringPath:Le}))).fold(()=>{(Ie=>I.from(Ie.components()[0]).filter(Le=>ns(Le.element,"role")==="menu"))(be).each(Ie=>{s.onRepositionMenu(be,Ie,[])})},({primary:Ie,triggeringPath:Le})=>{s.onRepositionMenu(be,Ie,Le)})}};return{uid:s.uid,dom:s.dom,markers:s.markers,behaviours:zo(s.tmenuBehaviours,[eo.config({mode:"special",onRight:pe((be,ke)=>Iy(ke.element)?I.none():J(be,ke,U.HighlightSubmenu)),onLeft:pe((be,ke)=>Iy(ke.element)?I.none():se(be,ke)),onEscape:pe((be,ke)=>se(be,ke).orThunk(()=>s.onEscape(be,ke).map(()=>be))),focusIn:(be,ke)=>{f.getPrimary().each(Ie=>{Ar(be,Ie.element,Ym())})}}),Gs.config({highlightClass:s.markers.selectedMenu,itemClass:s.markers.menu}),Os.config({find:be=>Gs.getHighlighted(be)}),go.config({})]),eventOrder:s.eventOrder,apis:ve,events:ye}},extraApis:{tieredData:(s,l,d)=>({primary:s,menus:l,expansions:d}),singleData:(s,l)=>({primary:s,menus:Ml(s,l),expansions:{}}),collapseItem:s=>({value:Nn(B0()),meta:{text:s}})}}),zr=Ad({name:"InlineView",configFields:[Ht("lazySink"),ks("onShow"),ks("onHide"),Vc("onEscape"),Mn("inlineBehaviours",[O,St,mc]),Dr("fireDismissalEventInstead",[vt("event",Xm())]),Dr("fireRepositionEventInstead",[vt("event",ff())]),vt("getRelated",I.none),vt("isExtraPart",Me),vt("eventOrder",I.none)],factory:(s,l)=>{const d=(C,k,E,N)=>{const $=s.lazySink(C).getOrDie();O.openWhileCloaked(C,k,()=>sl.positionWithinBounds($,C,E,N())),St.setValue(C,I.some({mode:"position",config:E,getBounds:N}))},f=(C,k,E,N)=>{const $=((B,U,J,se,pe)=>{const ye=()=>B.lazySink(U),Re=se.type==="horizontal"?{layouts:{onLtr:()=>my(),onRtl:()=>gy()}}:{},ve=be=>(ke=>ke.length===2)(be)?Re:{};return Mp.sketch({dom:{tag:"div"},data:se.data,markers:se.menu.markers,highlightOnOpen:se.menu.highlightOnOpen,fakeFocus:se.menu.fakeFocus,onEscape:()=>(O.close(U),B.onEscape.map(be=>be(U)),I.some(!0)),onExecute:()=>I.some(!0),onOpenMenu:(be,ke)=>{sl.positionWithinBounds(ye().getOrDie(),ke,J,pe())},onOpenSubmenu:(be,ke,Ie,Le)=>{const Qe=ye().getOrDie();sl.position(Qe,Ie,{anchor:{type:"submenu",item:ke,...ve(Le)}})},onRepositionMenu:(be,ke,Ie)=>{const Le=ye().getOrDie();sl.positionWithinBounds(Le,ke,J,pe()),bt(Ie,Qe=>{const ht=ve(Qe.triggeringPath);sl.position(Le,Qe.triggeredMenu,{anchor:{type:"submenu",item:Qe.triggeringItem,...ht}})})}})})(s,C,k,E,N);O.open(C,$),St.setValue(C,I.some({mode:"menu",menu:$}))},b=C=>{O.isOpen(C)&&St.getValue(C).each(k=>{switch(k.mode){case"menu":O.getState(C).each(Mp.repositionMenus);break;case"position":const E=s.lazySink(C).getOrDie();sl.positionWithinBounds(E,C,k.config,k.getBounds())}})},v={setContent:(C,k)=>{O.setContent(C,k)},showAt:(C,k,E)=>{const N=I.none;d(C,k,E,N)},showWithinBounds:d,showMenuAt:(C,k,E)=>{f(C,k,E,I.none)},showMenuWithinBounds:f,hide:C=>{O.isOpen(C)&&(St.setValue(C,I.none()),O.close(C))},getContent:C=>O.getState(C),reposition:b,isOpen:O.isOpen};return{uid:s.uid,dom:s.dom,behaviours:zo(s.inlineBehaviours,[O.config({isPartOf:(C,k,E)=>fc(k,E)||((N,$)=>s.getRelated(N).exists(B=>fc(B,$)))(C,E),getAttachPoint:C=>s.lazySink(C).getOrDie(),onOpen:C=>{s.onShow(C)},onClose:C=>{s.onHide(C)}}),St.config({store:{mode:"memory",initialValue:I.none()}}),mc.config({channels:{...fe({isExtraPart:l.isExtraPart,...s.fireDismissalEventInstead.map(C=>({fireEventInstead:{event:C.event}})).getOr({})}),...je({...s.fireRepositionEventInstead.map(C=>({fireEventInstead:{event:C.event}})).getOr({}),doReposition:b})}})]),eventOrder:s.eventOrder,apis:v}},apis:{showAt:(s,l,d,f)=>{s.showAt(l,d,f)},showWithinBounds:(s,l,d,f,b)=>{s.showWithinBounds(l,d,f,b)},showMenuAt:(s,l,d,f)=>{s.showMenuAt(l,d,f)},showMenuWithinBounds:(s,l,d,f,b)=>{s.showMenuWithinBounds(l,d,f,b)},hide:(s,l)=>{s.hide(l)},isOpen:(s,l)=>s.isOpen(l),getContent:(s,l)=>s.getContent(l),setContent:(s,l,d)=>{s.setContent(l,d)},reposition:(s,l)=>{s.reposition(l)}}});var wf,Xw,LS=tinymce.util.Tools.resolve("tinymce.util.Delay"),Fy=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),LD=tinymce.util.Tools.resolve("tinymce.EditorManager"),bg=tinymce.util.Tools.resolve("tinymce.Env");(function(s){s.default="wrap",s.floating="floating",s.sliding="sliding",s.scrolling="scrolling"})(wf||(wf={})),function(s){s.auto="auto",s.top="top",s.bottom="bottom"}(Xw||(Xw={}));const tr=s=>l=>l.options.get(s),Jw=s=>l=>I.from(s(l)),BD=s=>{const l=bg.deviceType.isPhone(),d=bg.deviceType.isTablet()||l,f=s.options.register,b=C=>h(C)||C===!1,v=C=>h(C)||te(C);f("skin",{processor:C=>h(C)||C===!1,default:"oxide"}),f("skin_url",{processor:"string"}),f("height",{processor:v,default:Math.max(s.getElement().offsetHeight,400)}),f("width",{processor:v,default:Fy.DOM.getStyle(s.getElement(),"width")}),f("min_height",{processor:"number",default:100}),f("min_width",{processor:"number"}),f("max_height",{processor:"number"}),f("max_width",{processor:"number"}),f("style_formats",{processor:"object[]"}),f("style_formats_merge",{processor:"boolean",default:!1}),f("style_formats_autohide",{processor:"boolean",default:!1}),f("line_height_formats",{processor:"string",default:"1 1.1 1.2 1.3 1.4 1.5 2"}),f("font_family_formats",{processor:"string",default:"Andale Mono=andale mono,monospace;Arial=arial,helvetica,sans-serif;Arial Black=arial black,sans-serif;Book Antiqua=book antiqua,palatino,serif;Comic Sans MS=comic sans ms,sans-serif;Courier New=courier new,courier,monospace;Georgia=georgia,palatino,serif;Helvetica=helvetica,arial,sans-serif;Impact=impact,sans-serif;Symbol=symbol;Tahoma=tahoma,arial,helvetica,sans-serif;Terminal=terminal,monaco,monospace;Times New Roman=times new roman,times,serif;Trebuchet MS=trebuchet ms,geneva,sans-serif;Verdana=verdana,geneva,sans-serif;Webdings=webdings;Wingdings=wingdings,zapf dingbats"}),f("font_size_formats",{processor:"string",default:"8pt 10pt 12pt 14pt 18pt 24pt 36pt"}),f("font_size_input_default_unit",{processor:"string",default:"pt"}),f("block_formats",{processor:"string",default:"Paragraph=p;Heading 1=h1;Heading 2=h2;Heading 3=h3;Heading 4=h4;Heading 5=h5;Heading 6=h6;Preformatted=pre"}),f("content_langs",{processor:"object[]"}),f("removed_menuitems",{processor:"string",default:""}),f("menubar",{processor:C=>h(C)||A(C),default:!l}),f("menu",{processor:"object",default:{}}),f("toolbar",{processor:C=>A(C)||h(C)||R(C)?{value:C,valid:!0}:{valid:!1,message:"Must be a boolean, string or array."},default:!0}),Ot(9,C=>{f("toolbar"+(C+1),{processor:"string"})}),f("toolbar_mode",{processor:"string",default:d?"scrolling":"floating"}),f("toolbar_groups",{processor:"object",default:{}}),f("toolbar_location",{processor:"string",default:Xw.auto}),f("toolbar_persist",{processor:"boolean",default:!1}),f("toolbar_sticky",{processor:"boolean",default:s.inline}),f("toolbar_sticky_offset",{processor:"number",default:0}),f("fixed_toolbar_container",{processor:"string",default:""}),f("fixed_toolbar_container_target",{processor:"object"}),f("ui_mode",{processor:"string",default:"combined"}),f("file_picker_callback",{processor:"function"}),f("file_picker_validator_handler",{processor:"function"}),f("file_picker_types",{processor:"string"}),f("typeahead_urls",{processor:"boolean",default:!0}),f("anchor_top",{processor:b,default:"#top"}),f("anchor_bottom",{processor:b,default:"#bottom"}),f("draggable_modal",{processor:"boolean",default:!1}),f("statusbar",{processor:"boolean",default:!0}),f("elementpath",{processor:"boolean",default:!0}),f("branding",{processor:"boolean",default:!0}),f("promotion",{processor:"boolean",default:!0}),f("resize",{processor:C=>C==="both"||A(C),default:!bg.deviceType.isTouch()}),f("sidebar_show",{processor:"string"}),f("help_accessibility",{processor:"boolean",default:s.hasPlugin("help")}),f("default_font_stack",{processor:"string[]",default:[]})},UT=tr("readonly"),Qw=tr("height"),e2=tr("width"),t2=Jw(tr("min_width")),$y=Jw(tr("min_height")),Vy=Jw(tr("max_width")),BS=Jw(tr("max_height")),zy=Jw(tr("style_formats")),FS=tr("style_formats_merge"),FD=tr("style_formats_autohide"),WT=tr("content_langs"),$D=tr("removed_menuitems"),F0=tr("toolbar_mode"),$S=tr("toolbar_groups"),Hb=tr("toolbar_location"),KT=tr("fixed_toolbar_container"),o7=tr("fixed_toolbar_container_target"),VD=tr("toolbar_persist"),jT=tr("toolbar_sticky_offset"),Lp=tr("menubar"),Hy=tr("toolbar"),VS=tr("file_picker_callback"),n2=tr("file_picker_validator_handler"),ZT=tr("font_size_input_default_unit"),o2=tr("file_picker_types"),zS=tr("typeahead_urls"),zD=tr("anchor_top"),HD=tr("anchor_bottom"),vg=tr("draggable_modal"),UD=tr("statusbar"),WD=tr("elementpath"),rd=tr("branding"),rl=tr("resize"),KD=tr("paste_as_text"),HS=tr("sidebar_show"),jD=tr("promotion"),GT=tr("help_accessibility"),US=tr("default_font_stack"),Ub=s=>s.options.get("skin")===!1,s2=s=>s.options.get("menubar")!==!1,WS=s=>{const l=s.options.get("skin_url");if(Ub(s))return l;if(l)return s.documentBaseURI.toAbsolute(l);{const d=s.options.get("skin");return LD.baseURL+"/skins/ui/"+d}},KS=s=>I.from(s.options.get("skin_url")),ZD=s=>s.options.get("line_height_formats").split(" "),r2=s=>{const l=Hy(s),d=h(l),f=R(l)&&l.length>0;return!i2(s)&&(f||d||l===!0)},jS=s=>{const l=Ot(9,f=>s.options.get("toolbar"+(f+1))),d=Xt(l,h);return qo(d.length>0,d)},i2=s=>jS(s).fold(()=>{const l=Hy(s);return re(l,h)&&l.length>0},Ne),qT=s=>Hb(s)===Xw.bottom,YT=s=>{var l;if(!s.inline)return I.none();const d=(l=KT(s))!==null&&l!==void 0?l:"";if(d.length>0)return Lr(Tn(),d);const f=o7(s);return K(f)?I.some(Sn(f)):I.none()},$0=s=>s.inline&&YT(s).isSome(),ZS=s=>YT(s).getOrThunk(()=>ut(Ct(Sn(s.getElement())))),GS=s=>s.inline&&!s2(s)&&!r2(s)&&!i2(s),Bp=s=>(s.options.get("toolbar_sticky")||s.inline)&&!$0(s)&&!GS(s),Fp=s=>!$0(s)&&s.options.get("ui_mode")==="split",Wb=s=>{const l=s.options.get("menu");return co(l,d=>({...d,items:d.items}))};var a2=Object.freeze({__proto__:null,get ToolbarMode(){return wf},get ToolbarLocation(){return Xw},register:BD,getSkinUrl:WS,getSkinUrlOption:KS,isReadOnly:UT,isSkinDisabled:Ub,getHeightOption:Qw,getWidthOption:e2,getMinWidthOption:t2,getMinHeightOption:$y,getMaxWidthOption:Vy,getMaxHeightOption:BS,getUserStyleFormats:zy,shouldMergeStyleFormats:FS,shouldAutoHideStyleFormats:FD,getLineHeightFormats:ZD,getContentLanguages:WT,getRemovedMenuItems:$D,isMenubarEnabled:s2,isMultipleToolbars:i2,isToolbarEnabled:r2,isToolbarPersist:VD,getMultipleToolbarsOption:jS,getUiContainer:ZS,useFixedContainer:$0,isSplitUiMode:Fp,getToolbarMode:F0,isDraggableModal:vg,isDistractionFree:GS,isStickyToolbar:Bp,getStickyToolbarOffset:jT,getToolbarLocation:Hb,isToolbarLocationBottom:qT,getToolbarGroups:$S,getMenus:Wb,getMenubar:Lp,getToolbar:Hy,getFilePickerCallback:VS,getFilePickerTypes:o2,useTypeaheadUrls:zS,getAnchorTop:zD,getAnchorBottom:HD,getFilePickerValidatorHandler:n2,getFontSizeInputDefaultUnit:ZT,useStatusBar:UD,useElementPath:WD,promotionEnabled:jD,useBranding:rd,getResize:rl,getPasteAsText:KD,getSidebarShow:HS,useHelpAccessibility:GT,getDefaultFontStack:US});const s7=["visible","hidden","clip"],GD=s=>Dc(s).length>0&&!mt(s7,s),qD=s=>{if(Tl(s)){const l=Or(s,"overflow-x"),d=Or(s,"overflow-y");return GD(l)||GD(d)}return!1},Kb=(s,l)=>Fp(s)?((d,f)=>{const b=Nb(f,qD),v=b.length===0?rn(f).map(bn).map(C=>Nb(C,qD)).getOr([]):b;return Fe(v).map(C=>({element:C,others:v.slice(1),isFullscreen:()=>(k=>k.plugins.fullscreen&&k.plugins.fullscreen.isFullscreen())(d)}))})(s,l):I.none(),jb=s=>{const l=[...Ve(s.others,ai),Ni()];return s.isFullscreen()?Ni():((d,f)=>Qt(f,(b,v)=>cu(b,v),d))(ai(s.element),l)},$l=Ad({name:"Button",factory:s=>{const l=By(s.action),d=s.dom.tag,f=b=>cn(s.dom,"attributes").bind(v=>cn(v,b));return{uid:s.uid,dom:s.dom,components:s.components,events:l,behaviours:bo(s.buttonBehaviours,[Eo.config({}),eo.config({mode:"execution",useSpace:!0,useEnter:!0})]),domModification:{attributes:d==="button"?{type:f("type").getOr("button"),...f("role").map(b=>({role:b})).getOr({})}:{role:s.role.getOr(f("role").getOr("button"))}},eventOrder:s.eventOrder}},configFields:[vt("uid",void 0),Ht("dom"),vt("components",[]),Ao("buttonBehaviours",[Eo,eo]),ds("action"),ds("role"),vt("eventOrder",{})]}),xh=s=>{const l=fl(s),d=Vs(l),f=(C=>{const k=C.dom.attributes!==void 0?C.dom.attributes:[];return Qt(k,(E,N)=>N.name==="class"?E:{...E,[N.name]:N.value},{})})(l),b=(C=>Array.prototype.slice.call(C.dom.classList,0))(l),v=d.length===0?{}:{innerHtml:mm(l)};return{tag:ml(l),classes:b,attributes:f,...v}},Ks=s=>{const l=(d=>d.uid!==void 0)(s)&&$o(s,"uid")?s.uid:Ju("memento");return{get:d=>d.getSystem().getByUid(l).getOrDie(),getOpt:d=>d.getSystem().getByUid(l).toOptional(),asSpec:()=>({...s,uid:l})}};var r7=Object.freeze({__proto__:null,exhibit:(s,l)=>Nr({attributes:kc([{key:l.tabAttr,value:"true"}])})}),YD=[vt("tabAttr","data-alloy-tabstop")];const mr=Zi({fields:YD,name:"tabstopping",active:r7}),XT=Nn("tooltip.exclusive"),l2=Nn("tooltip.show"),c2=Nn("tooltip.hide"),u2=Nn("tooltip.immediateHide"),d2=Nn("tooltip.immediateShow"),XD=(s,l,d)=>{s.getSystem().broadcastOn([XT],{})};var i7=Object.freeze({__proto__:null,hideAllExclusive:XD,immediateOpenClose:(s,l,d,f)=>Wo(s,f?d2:u2),isEnabled:(s,l,d)=>d.isEnabled(),setComponents:(s,l,d,f)=>{d.getTooltip().each(b=>{b.getSystem().isConnected()&&go.set(b,f)})},setEnabled:(s,l,d,f)=>d.setEnabled(f)}),a7=Object.freeze({__proto__:null,events:(s,l)=>{const d=v=>{l.getTooltip().each(C=>{C.getSystem().isConnected()&&(Jl(C),s.onHide(v,C),l.clearTooltip())}),l.clearTimer()},f=v=>{if(!l.isShowing()&&l.isEnabled()){XD(v);const C=s.lazySink(v).getOrDie(),k=v.getSystem().build({dom:s.tooltipDom,components:s.tooltipComponents,events:To(s.mode==="normal"?[Lt(jn(),E=>{Wo(v,l2)}),Lt(Mo(),E=>{Wo(v,c2)})]:[]),behaviours:an([go.config({})])});l.setTooltip(k),fg(C,k),s.onShow(v,k),sl.position(C,k,{anchor:s.anchor(v)})}},b=v=>{l.getTooltip().each(C=>{const k=s.lazySink(v).getOrDie();sl.position(k,C,{anchor:s.anchor(v)})})};return To(nn([[fp(v=>{s.onSetup(v)}),Lt(l2,v=>{l.resetTimer(()=>{f(v)},s.delayForShow())}),Lt(c2,v=>{l.resetTimer(()=>{d(v)},s.delayForHide())}),Lt(d2,v=>{l.resetTimer(()=>{f(v)},0)}),Lt(u2,v=>{l.resetTimer(()=>{d(v)},0)}),Lt(cc(),(v,C)=>{const k=C;k.universal||mt(k.channels,XT)&&d(v)}),Gu(v=>{d(v)})],(()=>{switch(s.mode){case"normal":return[Lt(Is(),v=>{Wo(v,d2)}),Lt(lf(),v=>{Wo(v,u2)}),Lt(jn(),v=>{Wo(v,l2)}),Lt(Mo(),v=>{Wo(v,c2)})];case"follow-highlight":return[Lt(Wv(),(v,C)=>{Wo(v,l2)}),Lt(mf(),v=>{Wo(v,c2)})];case"children-normal":return[Lt(Is(),(v,C)=>{yi(v.element).each(k=>{Al(C.event.target,"[data-mce-tooltip]")&&l.getTooltip().fold(()=>{Wo(v,d2)},E=>{l.isShowing()&&(s.onShow(v,E),b(v))})})}),Lt(lf(),v=>{yi(v.element).fold(()=>{Wo(v,u2)},W)}),Lt(jn(),v=>{Lr(v.element,"[data-mce-tooltip]:hover").each(C=>{l.getTooltip().fold(()=>{Wo(v,l2)},k=>{l.isShowing()&&(s.onShow(v,k),b(v))})})}),Lt(Mo(),v=>{Lr(v.element,"[data-mce-tooltip]:hover").fold(()=>{Wo(v,c2)},W)})];default:return[Lt(Is(),(v,C)=>{yi(v.element).each(k=>{Al(C.event.target,"[data-mce-tooltip]")&&l.getTooltip().fold(()=>{Wo(v,d2)},E=>{l.isShowing()&&(s.onShow(v,E),b(v))})})}),Lt(lf(),v=>{yi(v.element).fold(()=>{Wo(v,u2)},W)})]}})()]))}}),l7=[Ht("lazySink"),Ht("tooltipDom"),vt("exclusive",!0),vt("tooltipComponents",[]),ir("delayForShow",j(300)),ir("delayForHide",j(300)),ir("onSetup",W),zc("mode","normal",["normal","follow-highlight","children-keyboard-focus","children-normal"]),vt("anchor",s=>({type:"hotspot",hotspot:s,layouts:{onLtr:j([vi,Yr,ni,Oi,oi,er]),onRtl:j([vi,Yr,ni,Oi,oi,er])},bubble:vu(0,-2,{})})),ks("onHide"),ks("onShow")],c7=Object.freeze({__proto__:null,init:()=>{const s=Wn(!0),l=_s(),d=_s(),f=()=>{l.on(clearTimeout)},b=j("not-implemented");return Ai({getTooltip:d.get,isShowing:d.isSet,setTooltip:d.set,clearTooltip:d.clear,clearTimer:f,resetTimer:(v,C)=>{f(),l.set(setTimeout(v,C))},readState:b,isEnabled:()=>s.get(),setEnabled:v=>s.set(v)})}});const Ii=Zi({fields:l7,name:"tooltipping",active:a7,state:c7,apis:i7}),{entries:JD,setPrototypeOf:JT,isFrozen:QD,getPrototypeOf:eP,getOwnPropertyDescriptor:u7}=Object;let{freeze:xu,seal:yg,create:tP}=Object,{apply:QT,construct:eA}=typeof Reflect<"u"&&Reflect;QT||(QT=function(s,l,d){return s.apply(l,d)}),xu||(xu=function(s){return s}),yg||(yg=function(s){return s}),eA||(eA=function(s,l){return new s(...l)});const tA=Sm(Array.prototype.forEach),d7=Sm(Array.prototype.pop),f2=Sm(Array.prototype.push),qS=Sm(String.prototype.toLowerCase),YS=Sm(String.prototype.toString),f7=Sm(String.prototype.match),On=Sm(String.prototype.replace),V0=Sm(String.prototype.indexOf),m7=Sm(String.prototype.trim),Dd=Sm(RegExp.prototype.test),Zb=(XS=TypeError,function(){for(var s=arguments.length,l=new Array(s),d=0;d<s;d++)l[d]=arguments[d];return eA(XS,l)});var XS;function Sm(s){return function(l){for(var d=arguments.length,f=new Array(d>1?d-1:0),b=1;b<d;b++)f[b-1]=arguments[b];return QT(s,l,f)}}function ar(s,l,d){var f;d=(f=d)!==null&&f!==void 0?f:qS,JT&&JT(s,null);let b=l.length;for(;b--;){let v=l[b];if(typeof v=="string"){const C=d(v);C!==v&&(QD(l)||(l[b]=C),v=C)}s[v]=!0}return s}function Uy(s){const l=tP(null);for(const[d,f]of JD(s))l[d]=f;return l}function JS(s,l){for(;s!==null;){const d=u7(s,l);if(d){if(d.get)return Sm(d.get);if(typeof d.value=="function")return Sm(d.value)}s=eP(s)}return function(d){return console.warn("fallback value for",d),null}}const nA=xu(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),m2=xu(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),z0=xu(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),nP=xu(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),oA=xu(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),g7=xu(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),oP=xu(["#text"]),h7=xu(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),QS=xu(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),sP=xu(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),e_=xu(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),p7=yg(/\{\{[\w\W]*|[\w\W]*\}\}/gm),b7=yg(/<%[\w\W]*|[\w\W]*%>/gm),sA=yg(/\${[\w\W]*}/gm),v7=yg(/^data-[\-\w.\u00B7-\uFFFF]/),y7=yg(/^aria-[\-\w]+$/),rP=yg(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),x7=yg(/^(?:\w+script|data):/i),w7=yg(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),wh=yg(/^html$/i);var g2=Object.freeze({__proto__:null,MUSTACHE_EXPR:p7,ERB_EXPR:b7,TMPLIT_EXPR:sA,DATA_ATTR:v7,ARIA_ATTR:y7,IS_ALLOWED_URI:rP,IS_SCRIPT_OR_DATA:x7,ATTR_WHITESPACE:w7,DOCTYPE_NAME:wh});const C7=()=>typeof window>"u"?null:window;var S7=function s(){let l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:C7();const d=Et=>s(Et);if(d.version="3.0.5",d.removed=[],!l||!l.document||l.document.nodeType!==9)return d.isSupported=!1,d;const f=l.document,b=f.currentScript;let{document:v}=l;const{DocumentFragment:C,HTMLTemplateElement:k,Node:E,Element:N,NodeFilter:$,NamedNodeMap:B=l.NamedNodeMap||l.MozNamedAttrMap,HTMLFormElement:U,DOMParser:J,trustedTypes:se}=l,pe=N.prototype,ye=JS(pe,"cloneNode"),Re=JS(pe,"nextSibling"),ve=JS(pe,"childNodes"),be=JS(pe,"parentNode");if(typeof k=="function"){const Et=v.createElement("template");Et.content&&Et.content.ownerDocument&&(v=Et.content.ownerDocument)}let ke,Ie="";const{implementation:Le,createNodeIterator:Qe,createDocumentFragment:ht,getElementsByTagName:zt}=v,{importNode:Bt}=f;let Pt={};d.isSupported=typeof JD=="function"&&typeof be=="function"&&Le&&Le.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:sn,ERB_EXPR:In,TMPLIT_EXPR:Kn,DATA_ATTR:ro,ARIA_ATTR:Ro,IS_SCRIPT_OR_DATA:as,ATTR_WHITESPACE:kr}=g2;let{IS_ALLOWED_URI:Br}=g2,Zo=null;const Es=ar({},[...nA,...m2,...z0,...oA,...oP]);let fo=null;const Fr=ar({},[...h7,...QS,...sP,...e_]);let nr=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Vl=null,zl=null,$a=!0,xa=!0,Xp=!1,xx=!0,hv=!1,Jp=!1,wC=!1,pv=!1,Lh=!1,h1=!1,p1=!1,wx=!0,$k=!1,CC=!0,bv=!1,Bh={},Qp=null;const SC=ar({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let _C=null;const Bs=ar({},["audio","video","img","source","image","track"]);let Fh=null;const Im=ar({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),b1="http://www.w3.org/1998/Math/MathML",Vk="http://www.w3.org/2000/svg",eb="http://www.w3.org/1999/xhtml";let Cx=eb,X4=!1,zk=null;const OH=ar({},[b1,Vk,eb],YS);let Sx;const RH=["application/xhtml+xml","text/html"];let vc,v1=null;const IH=v.createElement("form"),DB=function(Et){return Et instanceof RegExp||Et instanceof Function},Hk=function(Et){if(!v1||v1!==Et){if(Et&&typeof Et=="object"||(Et={}),Et=Uy(Et),Sx=Sx=RH.indexOf(Et.PARSER_MEDIA_TYPE)===-1?"text/html":Et.PARSER_MEDIA_TYPE,vc=Sx==="application/xhtml+xml"?YS:qS,Zo="ALLOWED_TAGS"in Et?ar({},Et.ALLOWED_TAGS,vc):Es,fo="ALLOWED_ATTR"in Et?ar({},Et.ALLOWED_ATTR,vc):Fr,zk="ALLOWED_NAMESPACES"in Et?ar({},Et.ALLOWED_NAMESPACES,YS):OH,Fh="ADD_URI_SAFE_ATTR"in Et?ar(Uy(Im),Et.ADD_URI_SAFE_ATTR,vc):Im,_C="ADD_DATA_URI_TAGS"in Et?ar(Uy(Bs),Et.ADD_DATA_URI_TAGS,vc):Bs,Qp="FORBID_CONTENTS"in Et?ar({},Et.FORBID_CONTENTS,vc):SC,Vl="FORBID_TAGS"in Et?ar({},Et.FORBID_TAGS,vc):{},zl="FORBID_ATTR"in Et?ar({},Et.FORBID_ATTR,vc):{},Bh="USE_PROFILES"in Et&&Et.USE_PROFILES,$a=Et.ALLOW_ARIA_ATTR!==!1,xa=Et.ALLOW_DATA_ATTR!==!1,Xp=Et.ALLOW_UNKNOWN_PROTOCOLS||!1,xx=Et.ALLOW_SELF_CLOSE_IN_ATTR!==!1,hv=Et.SAFE_FOR_TEMPLATES||!1,Jp=Et.WHOLE_DOCUMENT||!1,Lh=Et.RETURN_DOM||!1,h1=Et.RETURN_DOM_FRAGMENT||!1,p1=Et.RETURN_TRUSTED_TYPE||!1,pv=Et.FORCE_BODY||!1,wx=Et.SANITIZE_DOM!==!1,$k=Et.SANITIZE_NAMED_PROPS||!1,CC=Et.KEEP_CONTENT!==!1,bv=Et.IN_PLACE||!1,Br=Et.ALLOWED_URI_REGEXP||rP,Cx=Et.NAMESPACE||eb,nr=Et.CUSTOM_ELEMENT_HANDLING||{},Et.CUSTOM_ELEMENT_HANDLING&&DB(Et.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(nr.tagNameCheck=Et.CUSTOM_ELEMENT_HANDLING.tagNameCheck),Et.CUSTOM_ELEMENT_HANDLING&&DB(Et.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(nr.attributeNameCheck=Et.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),Et.CUSTOM_ELEMENT_HANDLING&&typeof Et.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(nr.allowCustomizedBuiltInElements=Et.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),hv&&(xa=!1),h1&&(Lh=!0),Bh&&(Zo=ar({},[...oP]),fo=[],Bh.html===!0&&(ar(Zo,nA),ar(fo,h7)),Bh.svg===!0&&(ar(Zo,m2),ar(fo,QS),ar(fo,e_)),Bh.svgFilters===!0&&(ar(Zo,z0),ar(fo,QS),ar(fo,e_)),Bh.mathMl===!0&&(ar(Zo,oA),ar(fo,sP),ar(fo,e_))),Et.ADD_TAGS&&(Zo===Es&&(Zo=Uy(Zo)),ar(Zo,Et.ADD_TAGS,vc)),Et.ADD_ATTR&&(fo===Fr&&(fo=Uy(fo)),ar(fo,Et.ADD_ATTR,vc)),Et.ADD_URI_SAFE_ATTR&&ar(Fh,Et.ADD_URI_SAFE_ATTR,vc),Et.FORBID_CONTENTS&&(Qp===SC&&(Qp=Uy(Qp)),ar(Qp,Et.FORBID_CONTENTS,vc)),CC&&(Zo["#text"]=!0),Jp&&ar(Zo,["html","head","body"]),Zo.table&&(ar(Zo,["tbody"]),delete Vl.tbody),Et.TRUSTED_TYPES_POLICY){if(typeof Et.TRUSTED_TYPES_POLICY.createHTML!="function")throw Zb('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof Et.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw Zb('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');ke=Et.TRUSTED_TYPES_POLICY,Ie=ke.createHTML("")}else ke===void 0&&(ke=function(io,Lo){if(typeof io!="object"||typeof io.createPolicy!="function")return null;let Er=null;const xi="data-tt-policy-suffix";Lo&&Lo.hasAttribute(xi)&&(Er=Lo.getAttribute(xi));const $i="dompurify"+(Er?"#"+Er:"");try{return io.createPolicy($i,{createHTML:Di=>Di,createScriptURL:Di=>Di})}catch{return console.warn("TrustedTypes policy "+$i+" could not be created."),null}}(se,b)),ke!==null&&typeof Ie=="string"&&(Ie=ke.createHTML(""));xu&&xu(Et),v1=Et}},PB=ar({},["mi","mo","mn","ms","mtext"]),NB=ar({},["foreignobject","desc","title","annotation-xml"]),No=ar({},["title","style","font","a","script"]),vv=ar({},m2);ar(vv,z0),ar(vv,nP);const Uk=ar({},oA);ar(Uk,g7);const yv=function(Et){f2(d.removed,{element:Et});try{Et.parentNode.removeChild(Et)}catch{Et.remove()}},_x=function(Et,io){try{f2(d.removed,{attribute:io.getAttributeNode(Et),from:io})}catch{f2(d.removed,{attribute:null,from:io})}if(io.removeAttribute(Et),Et==="is"&&!fo[Et])if(Lh||h1)try{yv(io)}catch{}else try{io.setAttribute(Et,"")}catch{}},J4=function(Et){let io,Lo;if(pv)Et="<remove></remove>"+Et;else{const $i=f7(Et,/^[\r\n\t ]+/);Lo=$i&&$i[0]}Sx==="application/xhtml+xml"&&Cx===eb&&(Et='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+Et+"</body></html>");const Er=ke?ke.createHTML(Et):Et;if(Cx===eb)try{io=new J().parseFromString(Er,Sx)}catch{}if(!io||!io.documentElement){io=Le.createDocument(Cx,"template",null);try{io.documentElement.innerHTML=X4?Ie:Er}catch{}}const xi=io.body||io.documentElement;return Et&&Lo&&xi.insertBefore(v.createTextNode(Lo),xi.childNodes[0]||null),Cx===eb?zt.call(io,Jp?"html":"body")[0]:Jp?io.documentElement:xi},Q4=function(Et){return Qe.call(Et.ownerDocument||Et,Et,$.SHOW_ELEMENT|$.SHOW_COMMENT|$.SHOW_TEXT,null,!1)},eR=function(Et){return typeof E=="object"?Et instanceof E:Et&&typeof Et=="object"&&typeof Et.nodeType=="number"&&typeof Et.nodeName=="string"},Pf=function(Et,io,Lo){Pt[Et]&&tA(Pt[Et],Er=>{Er.call(d,io,Lo,v1)})},MB=function(Et){let io;if(Pf("beforeSanitizeElements",Et,null),(Lo=Et)instanceof U&&(typeof Lo.nodeName!="string"||typeof Lo.textContent!="string"||typeof Lo.removeChild!="function"||!(Lo.attributes instanceof B)||typeof Lo.removeAttribute!="function"||typeof Lo.setAttribute!="function"||typeof Lo.namespaceURI!="string"||typeof Lo.insertBefore!="function"||typeof Lo.hasChildNodes!="function"))return yv(Et),!0;var Lo;const Er=vc(Et.nodeName);if(Pf("uponSanitizeElement",Et,{tagName:Er,allowedTags:Zo}),Et.hasChildNodes()&&!eR(Et.firstElementChild)&&(!eR(Et.content)||!eR(Et.content.firstElementChild))&&Dd(/<[/\w]/g,Et.innerHTML)&&Dd(/<[/\w]/g,Et.textContent))return yv(Et),!0;if(!Zo[Er]||Vl[Er]){if(!Vl[Er]&&LB(Er)&&(nr.tagNameCheck instanceof RegExp&&Dd(nr.tagNameCheck,Er)||nr.tagNameCheck instanceof Function&&nr.tagNameCheck(Er)))return!1;if(CC&&!Qp[Er]){const xi=be(Et)||Et.parentNode,$i=ve(Et)||Et.childNodes;if($i&&xi)for(let Di=$i.length-1;Di>=0;--Di)xi.insertBefore(ye($i[Di],!0),Re(Et))}return yv(Et),!0}return Et instanceof N&&!function(xi){let $i=be(xi);$i&&$i.tagName||($i={namespaceURI:Cx,tagName:"template"});const Di=qS(xi.tagName),oa=qS($i.tagName);return!!zk[xi.namespaceURI]&&(xi.namespaceURI===Vk?$i.namespaceURI===eb?Di==="svg":$i.namespaceURI===b1?Di==="svg"&&(oa==="annotation-xml"||PB[oa]):!!vv[Di]:xi.namespaceURI===b1?$i.namespaceURI===eb?Di==="math":$i.namespaceURI===Vk?Di==="math"&&NB[oa]:!!Uk[Di]:xi.namespaceURI===eb?!($i.namespaceURI===Vk&&!NB[oa])&&!($i.namespaceURI===b1&&!PB[oa])&&!Uk[Di]&&(No[Di]||!vv[Di]):!(Sx!=="application/xhtml+xml"||!zk[xi.namespaceURI]))}(Et)?(yv(Et),!0):Er!=="noscript"&&Er!=="noembed"&&Er!=="noframes"||!Dd(/<\/no(script|embed|frames)/i,Et.innerHTML)?(hv&&Et.nodeType===3&&(io=Et.textContent,io=On(io,sn," "),io=On(io,In," "),io=On(io,Kn," "),Et.textContent!==io&&(f2(d.removed,{element:Et.cloneNode()}),Et.textContent=io)),Pf("afterSanitizeElements",Et,null),!1):(yv(Et),!0)},tR=function(Et,io,Lo){if(wx&&(io==="id"||io==="name")&&(Lo in v||Lo in IH))return!1;if(!(xa&&!zl[io]&&Dd(ro,io))){if(!($a&&Dd(Ro,io))){if(!fo[io]||zl[io]){if(!(LB(Et)&&(nr.tagNameCheck instanceof RegExp&&Dd(nr.tagNameCheck,Et)||nr.tagNameCheck instanceof Function&&nr.tagNameCheck(Et))&&(nr.attributeNameCheck instanceof RegExp&&Dd(nr.attributeNameCheck,io)||nr.attributeNameCheck instanceof Function&&nr.attributeNameCheck(io))||io==="is"&&nr.allowCustomizedBuiltInElements&&(nr.tagNameCheck instanceof RegExp&&Dd(nr.tagNameCheck,Lo)||nr.tagNameCheck instanceof Function&&nr.tagNameCheck(Lo))))return!1}else if(!Fh[io]){if(!Dd(Br,On(Lo,kr,""))){if((io!=="src"&&io!=="xlink:href"&&io!=="href"||Et==="script"||V0(Lo,"data:")!==0||!_C[Et])&&!(Xp&&!Dd(as,On(Lo,kr,"")))){if(Lo)return!1}}}}}return!0},LB=function(Et){return Et.indexOf("-")>0},BB=function(Et){let io,Lo,Er,xi;Pf("beforeSanitizeAttributes",Et,null);const{attributes:$i}=Et;if(!$i)return;const Di={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:fo};for(xi=$i.length;xi--;){io=$i[xi];const{name:oa,namespaceURI:kx}=io;Lo=oa==="value"?io.value:m7(io.value);const PH=Lo;if(Er=vc(oa),Di.attrName=Er,Di.attrValue=Lo,Di.keepAttr=!0,Di.forceKeepAttr=void 0,Pf("uponSanitizeAttribute",Et,Di),Lo=Di.attrValue,Di.forceKeepAttr)continue;if(!Di.keepAttr){_x(oa,Et);continue}if(!xx&&Dd(/\/>/i,Lo)){_x(oa,Et);continue}hv&&(Lo=On(Lo,sn," "),Lo=On(Lo,In," "),Lo=On(Lo,Kn," "));const FB=vc(Et.nodeName);if(tR(FB,Er,Lo)){if(!$k||Er!=="id"&&Er!=="name"||(_x(oa,Et),Lo="user-content-"+Lo),ke&&typeof se=="object"&&typeof se.getAttributeType=="function"&&!kx)switch(se.getAttributeType(FB,Er)){case"TrustedHTML":Lo=ke.createHTML(Lo);break;case"TrustedScriptURL":Lo=ke.createScriptURL(Lo)}if(Lo!==PH)try{kx?Et.setAttributeNS(kx,oa,Lo):Et.setAttribute(oa,Lo)}catch{_x(oa,Et)}}else _x(oa,Et)}Pf("afterSanitizeAttributes",Et,null)},DH=function Et(io){let Lo;const Er=Q4(io);for(Pf("beforeSanitizeShadowDOM",io,null);Lo=Er.nextNode();)Pf("uponSanitizeShadowNode",Lo,null),MB(Lo)||(Lo.content instanceof C&&Et(Lo.content),BB(Lo));Pf("afterSanitizeShadowDOM",io,null)};return d.sanitize=function(Et){let io,Lo,Er,xi,$i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(X4=!Et,X4&&(Et="<!-->"),typeof Et!="string"&&!eR(Et)){if(typeof Et.toString!="function")throw Zb("toString is not a function");if(typeof(Et=Et.toString())!="string")throw Zb("dirty is not a string, aborting")}if(!d.isSupported)return Et;if(wC||Hk($i),d.removed=[],typeof Et=="string"&&(bv=!1),bv){if(Et.nodeName){const kx=vc(Et.nodeName);if(!Zo[kx]||Vl[kx])throw Zb("root node is forbidden and cannot be sanitized in-place")}}else if(Et instanceof E)io=J4("<!---->"),Lo=io.ownerDocument.importNode(Et,!0),Lo.nodeType===1&&Lo.nodeName==="BODY"||Lo.nodeName==="HTML"?io=Lo:io.appendChild(Lo);else{if(!Lh&&!hv&&!Jp&&Et.indexOf("<")===-1)return ke&&p1?ke.createHTML(Et):Et;if(io=J4(Et),!io)return Lh?null:p1?Ie:""}io&&pv&&yv(io.firstChild);const Di=Q4(bv?Et:io);for(;Er=Di.nextNode();)MB(Er)||(Er.content instanceof C&&DH(Er.content),BB(Er));if(bv)return Et;if(Lh){if(h1)for(xi=ht.call(io.ownerDocument);io.firstChild;)xi.appendChild(io.firstChild);else xi=io;return(fo.shadowroot||fo.shadowrootmode)&&(xi=Bt.call(f,xi,!0)),xi}let oa=Jp?io.outerHTML:io.innerHTML;return Jp&&Zo["!doctype"]&&io.ownerDocument&&io.ownerDocument.doctype&&io.ownerDocument.doctype.name&&Dd(wh,io.ownerDocument.doctype.name)&&(oa="<!DOCTYPE "+io.ownerDocument.doctype.name+`>
`+oa),hv&&(oa=On(oa,sn," "),oa=On(oa,In," "),oa=On(oa,Kn," ")),ke&&p1?ke.createHTML(oa):oa},d.setConfig=function(Et){Hk(Et),wC=!0},d.clearConfig=function(){v1=null,wC=!1},d.isValidAttribute=function(Et,io,Lo){v1||Hk({});const Er=vc(Et),xi=vc(io);return tR(Er,xi,Lo)},d.addHook=function(Et,io){typeof io=="function"&&(Pt[Et]=Pt[Et]||[],f2(Pt[Et],io))},d.removeHook=function(Et){if(Pt[Et])return d7(Pt[Et])},d.removeHooks=function(Et){Pt[Et]&&(Pt[Et]=[])},d.removeAllHooks=function(){Pt={}},d}();const iP=s=>S7().sanitize(s);var Cf=tinymce.util.Tools.resolve("tinymce.util.I18n");const _7={indent:!0,outdent:!0,"table-insert-column-after":!0,"table-insert-column-before":!0,"paste-column-after":!0,"paste-column-before":!0,"unordered-list":!0,"list-bull-circle":!0,"list-bull-default":!0,"list-bull-square":!0},aP="temporary-placeholder",rA=s=>()=>cn(s,aP).getOr("!not found!"),Gb=(s,l)=>{const d=s.toLowerCase();if(Cf.isRtl()){const f=((b,v)=>Ic(b,v)?b:((C,k)=>C+k)(b,v))(d,"-rtl");return uo(l,f)?f:d}return d},h2=(s,l)=>cn(l,Gb(s,l)),lP=(s,l)=>{const d=l();return h2(s,d).getOrThunk(rA(d))},t_=()=>jo("add-focusable",[hr(s=>{uy(s.element,"svg").each(l=>xn(l,"focusable","false"))})]),cP=(s,l,d,f)=>{var b,v;const C=(E=>!!Cf.isRtl()&&uo(_7,E))(l)?["tox-icon--flip"]:[],k=cn(d,Gb(l,d)).or(f).getOrThunk(rA(d));return{dom:{tag:s.tag,attributes:(b=s.attributes)!==null&&b!==void 0?b:{},classes:s.classes.concat(C),innerHtml:k},behaviours:an([...(v=s.behaviours)!==null&&v!==void 0?v:[],t_()])}},id=(s,l,d,f=I.none())=>cP(l,s,d(),f),k7={success:"checkmark",error:"warning",err:"error",warning:"warning",warn:"warning",info:"info"},iA=Ad({name:"Notification",factory:s=>{const l=Nn("notification-text"),d=Ks({dom:xh(`<p id=${l}>${iP(s.backstageProvider.translate(s.text))}</p>`),behaviours:an([go.config({})])}),f=B=>({dom:{tag:"div",classes:["tox-bar"],styles:{width:`${B}%`}}}),b=B=>({dom:{tag:"div",classes:["tox-text"],innerHtml:`${B}%`}}),v=Ks({dom:{tag:"div",classes:s.progress?["tox-progress-bar","tox-progress-indicator"]:["tox-progress-bar"]},components:[{dom:{tag:"div",classes:["tox-bar-container"]},components:[f(0)]},b(0)],behaviours:an([go.config({})])}),C={updateProgress:(B,U)=>{B.getSystem().isConnected()&&v.getOpt(B).each(J=>{go.set(J,[{dom:{tag:"div",classes:["tox-bar-container"]},components:[f(U)]},b(U)])})},updateText:(B,U)=>{if(B.getSystem().isConnected()){const J=d.get(B);go.set(J,[ui(U)])}}},k=nn([s.icon.toArray(),s.level.toArray(),s.level.bind(B=>I.from(k7[B])).toArray()]),E=Ks($l.sketch({dom:{tag:"button",classes:["tox-notification__dismiss","tox-button","tox-button--naked","tox-button--icon"],attributes:{"aria-label":s.backstageProvider.translate("Close")}},components:[id("close",{tag:"span",classes:["tox-icon"]},s.iconProvider)],buttonBehaviours:an([mr.config({}),Ii.config({...s.backstageProvider.tooltips.getConfig({tooltipText:s.backstageProvider.translate("Close")})})]),action:B=>{s.onAction(B)}})),N=((B,U,J)=>{const se=J(),pe=ee(B,ye=>uo(se,Gb(ye,se)));return cP({tag:"div",classes:["tox-notification__icon"]},pe.getOr(aP),se,I.none())})(k,0,s.iconProvider),$=[N,{dom:{tag:"div",classes:["tox-notification__body"]},components:[d.asSpec()],behaviours:an([go.config({})])}];return{uid:s.uid,dom:{tag:"div",attributes:{role:"alert","aria-labelledby":l},classes:s.level.map(B=>["tox-notification","tox-notification--in",`tox-notification--${B}`]).getOr(["tox-notification","tox-notification--in"])},behaviours:an([mr.config({}),Eo.config({}),eo.config({mode:"special",onEscape:B=>(s.onAction(B),I.some(!0))})]),components:$.concat(s.progress?[v.asSpec()]:[]).concat([E.asSpec()]),apis:C}},configFields:[ds("level"),Ht("progress"),ds("icon"),Ht("onAction"),Ht("text"),Ht("iconProvider"),Ht("backstageProvider")],apis:{updateProgress:(s,l,d)=>{s.updateProgress(l,d)},updateText:(s,l,d)=>{s.updateText(l,d)}}});var uP=(s,l,d,f)=>{const b=l.backstage.shared,v=()=>Sn(s.queryCommandValue("ToggleView")===""?s.getContentAreaContainer():s.getContainer()),C=()=>{const E=ai(v());return I.some(E)},k=E=>{C().each(N=>{bt(E,$=>{zs($.element,"width"),Wi($.element)>N.width&&_o($.element,"width",N.width+"px")})})};return{open:(E,N,$)=>{const B=()=>{f.on(se=>{N();const pe=$();(ye=>{go.remove(ye,U),J()})(se),((ye,Re)=>{Vs(ye.element).length===0?((ve,be)=>{zr.hide(ve),f.clear(),be&&s.focus()})(ye,Re):((ve,be)=>{be&&eo.focusIn(ve)})(ye,Re)})(se,pe)})},U=La(iA.sketch({text:E.text,level:mt(["success","error","warning","warn","info"],E.type)?E.type:void 0,progress:E.progressBar===!0,icon:E.icon,onAction:B,iconProvider:b.providers.icons,backstageProvider:b.providers}));if(f.isSet()){const se=Yl(U);f.on(pe=>{go.append(pe,se),zr.reposition(pe),Mr.refresh(pe),k(pe.components())})}else{const se=La(zr.sketch({dom:{tag:"div",classes:["tox-notifications-container"],attributes:{"aria-label":"Notifications",role:"region"}},lazySink:b.getSink,fireDismissalEventInstead:{},...b.header.isPositionedAtTop()?{}:{fireRepositionEventInstead:{}},inlineBehaviours:an([eo.config({mode:"cyclic",selector:".tox-notification, .tox-notification a, .tox-notification button"}),go.config({}),...Bp(s)&&!b.header.isPositionedAtTop()?[]:[Mr.config({contextual:{lazyContext:()=>I.some(ai(v())),fadeInClass:"tox-notification-container-dock-fadein",fadeOutClass:"tox-notification-container-dock-fadeout",transitionClass:"tox-notification-container-dock-transition"},modes:["top"],lazyViewport:ve=>Kb(s,ve.element).map(be=>({bounds:jb(be),optScrollEnv:I.some({currentScrollTop:be.element.dom.scrollTop,scrollElmTop:Pl(be.element).top})})).getOrThunk(()=>({bounds:Ni(),optScrollEnv:I.none()}))})]])})),pe=Yl(U),ye={maxHeightFunction:Ap()},Re={...b.anchors.banner(),overrides:ye};f.set(se),d.add(se),zr.showWithinBounds(se,pe,{anchor:Re},C)}te(E.timeout)&&E.timeout>0&&LS.setEditorTimeout(s,()=>{B()},E.timeout);const J=()=>{f.on(se=>{zr.reposition(se),Mr.refresh(se),k(se.components())})};return{close:B,reposition:J,text:se=>{iA.updateText(U,se)},settings:E,getEl:()=>U.element.dom,progressBar:{value:se=>{iA.updateProgress(U,se)}}}},close:E=>{E.close()},getArgs:E=>E.settings}},p2;(function(s){s[s.CLOSE_ON_EXECUTE=0]="CLOSE_ON_EXECUTE",s[s.BUBBLE_TO_SANDBOX=1]="BUBBLE_TO_SANDBOX"})(p2||(p2={}));var xg=p2;const n_="tox-menu-nav__js",o_="tox-collection__item",dP="tox-swatch",fP={normal:n_,color:dP},mP="tox-collection__item--enabled",gP="tox-collection__item-icon",b2="tox-collection__item-label",aA="tox-collection__item-caret",Ch="tox-collection__item--active",v2="tox-collection__item-container",y2="tox-collection__item-container--row",qb=s=>cn(fP,s).getOr(n_),BK=s=>s==="color"?"tox-swatches":"tox-menu",lA=s=>({backgroundMenu:"tox-background-menu",selectedMenu:"tox-selected-menu",selectedItem:"tox-collection__item--active",hasIcons:"tox-menu--has-icons",menu:BK(s),tieredMenu:"tox-tiered-menu"}),H0=s=>{const l=lA(s);return{backgroundMenu:l.backgroundMenu,selectedMenu:l.selectedMenu,menu:l.menu,selectedItem:l.selectedItem,item:qb(s)}},hP=(s,l,d)=>{const f=lA(d);return{tag:"div",classes:nn([[f.menu,`tox-menu-${l}-column`],s?[f.hasIcons]:[]])}},pP=[L0.parts.items({})],s_=(s,l,d)=>{const f=lA(d);return{dom:{tag:"div",classes:nn([[f.tieredMenu]])},markers:H0(d)}},E7=j([ds("data"),vt("inputAttributes",{}),vt("inputStyles",{}),vt("tag","input"),vt("inputClasses",[]),ks("onSetValue"),vt("styles",{}),vt("eventOrder",{}),Mn("inputBehaviours",[St,Eo]),vt("selectOnFocus",!0)]),T7=s=>an([Eo.config({onFocus:s.selectOnFocus?l=>{const d=l.element,f=tg(d);d.dom.setSelectionRange(0,f.length)}:W})]),A7=s=>({...T7(s),...zo(s.inputBehaviours,[St.config({store:{mode:"manual",...s.data.map(l=>({initialValue:l})).getOr({}),getValue:l=>tg(l.element),setValue:(l,d)=>{tg(l.element)!==d&&oh(l.element,d)}},onSetValue:s.onSetValue})])}),bP=s=>({tag:s.tag,attributes:{type:"text",...s.inputAttributes},styles:s.inputStyles,classes:s.inputClasses}),$p=Ad({name:"Input",configFields:E7(),factory:(s,l)=>({uid:s.uid,dom:bP(s),components:[],behaviours:A7(s),eventOrder:s.eventOrder})}),vP=Nn("refetch-trigger-event"),yP=Nn("redirect-menu-item-interaction"),xP="tox-menu__searcher",x2=s=>Lr(s.element,`.${xP}`).bind(l=>s.getSystem().getByDom(l).toOptional()),wP=x2,CP=s=>({fetchPattern:St.getValue(s),selectionStart:s.element.dom.selectionStart,selectionEnd:s.element.dom.selectionEnd}),SP=s=>{const l=(b,v)=>(v.cut(),I.none()),d=(b,v)=>{const C={interactionEvent:v.event,eventType:v.event.raw.type};return Xn(b,yP,C),I.some(!0)},f="searcher-events";return{dom:{tag:"div",classes:[o_]},components:[$p.sketch({inputClasses:[xP,"tox-textfield"],inputAttributes:{...s.placeholder.map(b=>({placeholder:s.i18n(b)})).getOr({}),type:"search","aria-autocomplete":"list"},inputBehaviours:an([jo(f,[Lt(af(),b=>{Wo(b,vP)}),Lt(Pr(),(b,v)=>{v.event.raw.key==="Escape"&&v.stop()})]),eo.config({mode:"special",onLeft:l,onRight:l,onSpace:l,onEnter:d,onEscape:d,onUp:d,onDown:d})]),eventOrder:{keydown:[f,eo.name()]}})]}},w2="tox-collection--results__js",_P=s=>{var l;return s.dom?{...s,dom:{...s.dom,attributes:{...(l=s.dom.attributes)!==null&&l!==void 0?l:{},id:Nn("aria-item-search-result-id"),"aria-selected":"false"}}}:s},r_=(s,l)=>d=>{const f=at(d,l);return Ve(f,b=>({dom:s,components:b}))},kP=(s,l)=>{const d=[];let f=[];return bt(s,(b,v)=>{l(b,v)?(f.length>0&&d.push(f),f=[],(uo(b.dom,"innerHtml")||b.components&&b.components.length>0)&&f.push(b)):f.push(b)}),f.length>0&&d.push(f),Ve(d,b=>({dom:{tag:"div",classes:["tox-collection__group"]},components:b}))},C2=(s,l,d)=>L0.parts.items({preprocess:f=>{const b=Ve(f,d);return s!=="auto"&&s>1?r_({tag:"div",classes:["tox-collection__group"]},s)(b):kP(b,(v,C)=>l[C].type==="separator")}}),cA=(s,l,d=!0)=>({dom:{tag:"div",classes:["tox-menu","tox-collection"].concat(s===1?["tox-collection--list"]:["tox-collection--grid"])},components:[C2(s,l,me)]}),S2=s=>Rn(s,l=>"icon"in l&&l.icon!==void 0),Sh=s=>(console.error(qa(s)),console.log(s),I.none()),O7=(s,l,d,f,b)=>{const v=(C=d,{dom:{tag:"div",classes:["tox-collection","tox-collection--horizontal"]},components:[L0.parts.items({preprocess:k=>kP(k,(E,N)=>C[N].type==="separator")})]});var C;return{value:s,dom:v.dom,components:v.components,items:d}},uA=(s,l,d,f,b)=>{if(b.menuType==="color"){const v=(C=>({dom:{tag:"div",classes:["tox-menu","tox-swatches-menu"]},components:[{dom:{tag:"div",classes:["tox-swatches"]},components:[L0.parts.items({preprocess:C!=="auto"?r_({tag:"div",classes:["tox-swatches__row"]},C):me})]}]}))(f);return{value:s,dom:v.dom,components:v.components,items:d}}if(b.menuType==="normal"&&f==="auto"){const v=cA(f,d);return{value:s,dom:v.dom,components:v.components,items:d}}if(b.menuType==="normal"||b.menuType==="searchable"){const v=b.menuType!=="searchable"?cA(f,d):b.searchMode.searchMode==="search-with-field"?((C,k,E)=>{const N=Nn("aria-controls-search-results");return{dom:{tag:"div",classes:["tox-menu","tox-collection"].concat(C===1?["tox-collection--list"]:["tox-collection--grid"])},components:[SP({i18n:Cf.translate,placeholder:E.placeholder}),{dom:{tag:"div",classes:[...C===1?["tox-collection--list"]:["tox-collection--grid"],w2],attributes:{id:N}},components:[C2(C,k,_P)]}]}})(f,d,b.searchMode):((C,k,E=!0)=>{const N=Nn("aria-controls-search-results");return{dom:{tag:"div",classes:["tox-menu","tox-collection",w2].concat(C===1?["tox-collection--list"]:["tox-collection--grid"]),attributes:{id:N}},components:[C2(C,k,_P)]}})(f,d);return{value:s,dom:v.dom,components:v.components,items:d}}if(b.menuType==="listpreview"&&f!=="auto"){const v=(C=>({dom:{tag:"div",classes:["tox-menu","tox-collection","tox-collection--toolbar","tox-collection--toolbar-lg"]},components:[L0.parts.items({preprocess:r_({tag:"div",classes:["tox-collection__group"]},C)})]}))(f);return{value:s,dom:v.dom,components:v.components,items:d}}return{value:s,dom:hP(l,f,b.menuType),components:pP,items:d}},qi=Sr("type"),dA=Sr("name"),fA=Sr("label"),Sf=Sr("text"),mA=Sr("title"),gA=Sr("icon"),U0=Sr("value"),R7=Ya("fetch"),EP=Ya("getSubmenuItems"),Wy=Ya("onAction"),TP=Ya("onItemAction"),Yb=ir("onSetup",()=>W),I7=Zr("name"),Xb=Zr("text"),D7=Zr("role"),_f=Zr("icon"),_2=Zr("tooltip"),hA=Zr("label"),Ky=Zr("shortcut"),pA=Vc("select"),i_=li("active",!1),FK=li("borderless",!1),kf=li("enabled",!0),a_=li("primary",!1),AP=s=>vt("columns",s),ad=vt("meta",{}),bA=ir("onAction",W),W0=s=>lc("type",s),vA=s=>pi("name","name",jm(()=>Nn(`${s}-name`)),Li),OP=oo([qi,Xb]),P7=oo([W0("autocompleteitem"),i_,kf,ad,U0,Xb,_f]),_h=[kf,_2,_f,Xb,Yb],yA=oo([qi,Wy,Ky].concat(_h)),RP=s=>Ir("toolbarbutton",yA,s),k2=[i_].concat(_h),l_=oo(k2.concat([qi,Wy,Ky])),c_=s=>Ir("ToggleButton",l_,s),IP=[ir("predicate",Me),zc("scope","node",["node","editor"]),zc("position","selection",["node","selection","line"])],N7=_h.concat([W0("contextformbutton"),a_,Wy,ji("original",me)]),M7=k2.concat([W0("contextformbutton"),a_,Wy,ji("original",me)]),L7=_h.concat([W0("contextformbutton")]),B7=k2.concat([W0("contextformtogglebutton")]),F7=Ti("type",{contextformbutton:N7,contextformtogglebutton:M7}),$7=oo([W0("contextform"),ir("initValue",j("")),hA,Xa("commands",F7),$r("launch",Ti("type",{contextformbutton:L7,contextformtogglebutton:B7}))].concat(IP)),DP=oo([W0("contexttoolbar"),Sr("items")].concat(IP)),u_=[qi,Sr("src"),Zr("alt"),Hs("classes",[],Li)],V7=oo(u_),z7=[qi,Sf,I7,Hs("classes",["tox-collection__item-label"],Li)],H7=oo(z7),PP=Zm(()=>Uu("type",{cardimage:V7,cardtext:H7,cardcontainer:jy})),jy=oo([qi,lc("direction","horizontal"),lc("align","left"),lc("valign","middle"),Xa("items",PP)]),K0=[kf,Xb,D7,Ky,pi("value","value",jm(()=>Nn("menuitem-value")),Gl()),ad],U7=oo([qi,hA,Xa("items",PP),Yb,bA].concat(K0)),xA=oo([qi,i_,_f].concat(K0)),NP=[qi,Sr("fancytype"),bA],MP=[vt("initData",{})].concat(NP),LP=[Vc("select"),ha("initData",{},[li("allowCustomColors",!0),lc("storageKey","default"),ip("colors",Gl())])].concat(NP),BP=Ti("fancytype",{inserttable:MP,colorswatch:LP}),FP=oo([qi,Yb,bA,_f].concat(K0)),$P=oo([qi,EP,Yb,_f].concat(K0)),W7=oo([qi,_f,i_,Yb,Wy].concat(K0)),wA=(s,l,d)=>{const f=na(s.element,"."+d);if(f.length>0){const b=vo(f,v=>{const C=v.dom.getBoundingClientRect().top,k=f[0].dom.getBoundingClientRect().top;return Math.abs(C-k)>l}).getOr(f.length);return I.some({numColumns:b,numRows:Math.ceil(f.length/b)})}return I.none()},E2=s=>((l,d)=>an([jo(l,d)]))(Nn("unnamed-events"),s),d_="silver.readonly",K7=oo([Bi("readonly",_c)]),j0=(s,l)=>{const d=s.mainUi.outerContainer.element,f=[s.mainUi.mothership,...s.uiMotherships];l&&bt(f,b=>{b.broadcastOn([F()],{target:d})}),bt(f,b=>{b.broadcastOn([d_],{readonly:l})})},VP=(s,l)=>{s.on("init",()=>{s.mode.isReadOnly()&&j0(l,!0)}),s.on("SwitchMode",()=>j0(l,s.mode.isReadOnly())),UT(s)&&s.mode.set("readonly")},va=()=>mc.config({channels:{[d_]:{schema:K7,onReceive:(s,l)=>{Oo.set(s,l.readonly)}}}}),Sl=s=>Oo.config({disabled:s}),zP=s=>Oo.config({disabled:s,disableClass:"tox-tbtn--disabled"}),f_=s=>Oo.config({disabled:s,disableClass:"tox-tbtn--disabled",useNative:!1}),T2=(s,l)=>{const d=s.getApi(l);return f=>{f(d)}},Jb=(s,l)=>hr(d=>{T2(s,d)(f=>{const b=s.onSetup(f);G(b)&&l.set(b)})}),Vp=(s,l)=>Gu(d=>T2(s,d)(l.get())),HP=(s,l)=>pu((d,f)=>{T2(s,d)(s.onAction),s.triggersSubmenu||l!==xg.CLOSE_ON_EXECUTE||(d.getSystem().isConnected()&&Wo(d,up()),f.stop())}),j7={[yl()]:["disabling","alloy.base.behaviour","toggling","item-events"]},Zy=dl,Gy=(s,l,d,f)=>{const b=Wn(W);return{type:"item",dom:l.dom,components:Zy(l.optComponents),data:s.data,eventOrder:j7,hasSubmenu:s.triggersSubmenu,itemBehaviours:an([jo("item-events",[HP(s,d),Jb(s,b),Vp(s,b)]),(v=()=>!s.enabled||f.isDisabled(),Oo.config({disabled:v,disableClass:"tox-collection__item--state-disabled"})),va(),go.config({})].concat(s.itemBehaviours))};var v},qy=s=>({value:s.value,meta:{text:s.text.getOr(""),...s.meta}}),m_=s=>{const l=bg.os.isMacOS()||bg.os.isiOS(),d=l?{alt:"",ctrl:"",shift:"",meta:"",access:""}:{meta:"Ctrl",access:"Shift+Alt"},f=s.split("+"),b=Ve(f,v=>{const C=v.toLowerCase().trim();return uo(d,C)?d[C]:v});return l?b.join(""):b.join("+")},CA=(s,l,d=[gP])=>id(s,{tag:"div",classes:d},l),UP=s=>({dom:{tag:"div",classes:[b2]},components:[ui(Cf.translate(s))]}),SA=(s,l)=>({dom:{tag:"div",classes:l,innerHtml:s}}),WP=(s,l)=>({dom:{tag:"div",classes:[b2]},components:[{dom:{tag:s.tag,styles:s.styles},components:[ui(Cf.translate(l))]}]}),KP=s=>({dom:{tag:"div",classes:["tox-collection__item-accessory"]},components:[ui(m_(s))]}),jP=s=>CA("checkmark",s,["tox-collection__item-checkmark"]),ZP=s=>{const l=s.map(d=>({attributes:{id:Nn("menu-item"),"aria-label":Cf.translate(d)}})).getOr({});return{tag:"div",classes:[n_,o_],...l}},A2=(s,l,d,f=I.none())=>s.presets==="color"?((b,v,C)=>{const k=b.value,E=b.iconContent.map($=>((B,U,J)=>{const se=U();return h2(B,se).or(J).getOrThunk(rA(se))})($,v.icons,C)),N=b.ariaLabel.map($=>({"aria-label":v.translate($),"data-mce-name":$})).getOr({});return{dom:(()=>{const $=dP,B=E.getOr(""),U={tag:"div",attributes:N,classes:[$]};return k==="custom"?{...U,tag:"button",classes:[...U.classes,"tox-swatches__picker-btn"],innerHtml:B}:k==="remove"?{...U,classes:[...U.classes,"tox-swatch--remove"],innerHtml:B}:K(k)?{...U,attributes:{...U.attributes,"data-mce-color":k},styles:{"background-color":k},innerHtml:B}:U})(),optComponents:[]}})(s,l,f):((b,v,C,k)=>{const E={tag:"div",classes:[gP]},N=C?b.iconContent.map(J=>id(J,E,v.icons,k)).orThunk(()=>I.some({dom:E})):I.none(),$=b.checkMark,B=I.from(b.meta).fold(()=>UP,J=>uo(J,"style")?Ce(WP,J.style):UP),U=b.htmlContent.fold(()=>b.textContent.map(B),J=>I.some(SA(J,[b2])));return{dom:ZP(b.ariaLabel),optComponents:[N,U,b.shortcutContent.map(KP),$,b.caret]}})(s,l,d,f),GP=(s,l,d)=>cn(s,"tooltipWorker").map(f=>[Ii.config({lazySink:l.getSink,tooltipDom:{tag:"div",classes:["tox-tooltip-worker-container"]},tooltipComponents:[],anchor:b=>({type:"submenu",item:b,overrides:{maxHeightFunction:Ap}}),mode:"follow-highlight",onShow:(b,v)=>{f(C=>{Ii.setComponents(b,[ng({element:Sn(C)})])})}})]).getOrThunk(()=>d.map(f=>[Ii.config({...l.providers.tooltips.getConfig({tooltipText:f}),mode:"follow-highlight"})]).getOr([])),_A=(s,l)=>{const d=(f=>Fy.DOM.encode(f))(Cf.translate(s));if(l.length>0){const f=new RegExp((b=>b.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"))(l),"gi");return d.replace(f,b=>`<span class="tox-autocompleter-highlight">${b}</span>`)}return d},kA=(s,l)=>Ve(s,d=>{switch(d.type){case"cardcontainer":return((v,C)=>{const k=v.direction==="vertical"?"tox-collection__item-container--column":y2,E=v.align==="left"?"tox-collection__item-container--align-left":"tox-collection__item-container--align-right";return{dom:{tag:"div",classes:[v2,k,E,(()=>{switch(v.valign){case"top":return"tox-collection__item-container--valign-top";case"middle":return"tox-collection__item-container--valign-middle";case"bottom":return"tox-collection__item-container--valign-bottom"}})()]},components:C}})(d,kA(d.items,l));case"cardimage":return((v,C,k)=>({dom:{tag:"img",classes:C,attributes:{src:v,alt:k.getOr("")}}}))(d.src,d.classes,d.alt);case"cardtext":const f=d.name.exists(v=>mt(l.cardText.highlightOn,v)),b=f?I.from(l.cardText.matchText).getOr(""):"";return SA(_A(d.text,b),d.classes)}}),zp=Ql(VT(),zT()),EA=s=>({value:Z0(s)}),TA=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,AA=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,qP=s=>TA.test(s)||AA.test(s),Z0=s=>js(s,"#").toUpperCase(),OA=s=>{const l=s.toString(16);return(l.length===1?"0"+l:l).toUpperCase()},O2=s=>{const l=OA(s.red)+OA(s.green)+OA(s.blue);return EA(l)},RA=Math.min,YP=Math.max,g_=Math.round,Z7=/^\s*rgb\s*\(\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*(\d+)\s*\)\s*$/i,XP=/^\s*rgba\s*\(\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*((?:\d?\.\d+|\d+)%?)\s*\)\s*$/i,Hp=(s,l,d,f)=>({red:s,green:l,blue:d,alpha:f}),R2=s=>{const l=parseInt(s,10);return l.toString()===s&&l>=0&&l<=255},JP=s=>{let l,d,f;const b=(s.hue||0)%360;let v=s.saturation/100,C=s.value/100;if(v=YP(0,RA(v,1)),C=YP(0,RA(C,1)),v===0)return l=d=f=g_(255*C),Hp(l,d,f,1);const k=b/60,E=C*v,N=E*(1-Math.abs(k%2-1)),$=C-E;switch(Math.floor(k)){case 0:l=E,d=N,f=0;break;case 1:l=N,d=E,f=0;break;case 2:l=0,d=E,f=N;break;case 3:l=0,d=N,f=E;break;case 4:l=N,d=0,f=E;break;case 5:l=E,d=0,f=N;break;default:l=d=f=0}return l=g_(255*(l+$)),d=g_(255*(d+$)),f=g_(255*(f+$)),Hp(l,d,f,1)},_m=s=>{const l=(v=>{const C=(E=>({value:E.value.replace(TA,($,B,U,J)=>B+B+U+U+J+J)}))(v),k=AA.exec(C.value);return k===null?["FFFFFF","FF","FF","FF"]:k})(s),d=parseInt(l[1],16),f=parseInt(l[2],16),b=parseInt(l[3],16);return Hp(d,f,b,1)},IA=(s,l,d,f)=>{const b=parseInt(s,10),v=parseInt(l,10),C=parseInt(d,10),k=parseFloat(f);return Hp(b,v,C,k)},h_=s=>{const l=Z7.exec(s);if(l!==null)return I.some(IA(l[1],l[2],l[3],"1"));const d=XP.exec(s);return d!==null?I.some(IA(d[1],d[2],d[3],d[4])):I.none()},QP=s=>`rgba(${s.red},${s.green},${s.blue},${s.alpha})`,eN=Hp(255,0,0,1),G0=(s,l)=>{s.dispatch("ResizeContent",l)},Yy=(s,l)=>{s.dispatch("TextColorChange",l)},tN=(s,l)=>s.dispatch("ResolveName",{name:l.nodeName.toLowerCase(),target:l}),Xy=(s,l)=>()=>{s(),l()},ya=s=>q0(s,"NodeChange",l=>{l.setEnabled(s.selection.isEditable())}),wg=(s,l)=>d=>{const f=ya(s)(d),b=((v,C)=>k=>{const E=Lc(),N=()=>{k.setActive(v.formatter.match(C));const $=v.formatter.formatChanged(C,k.setActive);E.set($)};return v.initialized?N():v.once("init",N),()=>{v.off("init",N),E.clear()}})(s,l)(d);return()=>{f(),b()}},q0=(s,l,d)=>f=>{const b=()=>d(f),v=()=>{d(f),s.on(l,b)};return s.initialized?v():s.once("init",v),()=>{s.off("init",v),s.off(l,b)}},nN=s=>l=>()=>{s.undoManager.transact(()=>{s.focus(),s.execCommand("mceToggleFormat",!1,l.format)})},wu=(s,l)=>()=>s.execCommand(l);var ld=tinymce.util.Tools.resolve("tinymce.util.LocalStorage");const p_={},oN=s=>cn(p_,s).getOrThunk(()=>{const l=`tinymce-custom-colors-${s}`,d=ld.getItem(l);if(H(d)){const b=ld.getItem("tinymce-custom-colors");ld.setItem(l,K(b)?b:"[]")}const f=((b,v=10)=>{const C=ld.getItem(b),k=h(C)?JSON.parse(C):[],E=v-(N=k).length<0?N.slice(0,v):N;var N;const $=B=>{E.splice(B,1)};return{add:B=>{((U,J)=>{const se=Yt(U,J);return se===-1?I.none():I.some(se)})(E,B).each($),E.unshift(B),E.length>v&&E.pop(),ld.setItem(b,JSON.stringify(E))},state:()=>E.slice(0)}})(l,10);return p_[s]=f,f}),DA=(s,l)=>{oN(s).add(l)},Jy=(s,l,d)=>({hue:s,saturation:l,value:d}),b_=s=>{let l=0,d=0,f=0;const b=s.red/255,v=s.green/255,C=s.blue/255,k=Math.min(b,Math.min(v,C)),E=Math.max(b,Math.max(v,C));return k===E?(f=k,Jy(0,0,100*f)):(l=b===k?3:C===k?1:5,l=60*(l-(b===k?v-C:C===k?b-v:C-b)/(E-k)),d=(E-k)/E,f=E,Jy(Math.round(l),Math.round(100*d),Math.round(100*f)))},v_=s=>O2(JP(s)),sN=s=>{return(l=s,qP(l)?I.some({value:Z0(l)}):I.none()).orThunk(()=>h_(s).map(O2)).getOrThunk(()=>{const d=document.createElement("canvas");d.height=1,d.width=1;const f=d.getContext("2d");f.clearRect(0,0,d.width,d.height),f.fillStyle="#FFFFFF",f.fillStyle=s,f.fillRect(0,0,1,1);const b=f.getImageData(0,0,1,1).data,v=b[0],C=b[1],k=b[2],E=b[3];return O2(Hp(v,C,k,E))});var l},PA="forecolor",NA="hilitecolor",G7=s=>{const l=[];for(let d=0;d<s.length;d+=2)l.push({text:s[d+1],value:"#"+sN(s[d]).value,icon:"checkmark",type:"choiceitem"});return l},Ef=s=>l=>l.options.get(s),I2="#000000",Y0=(s,l)=>l===PA&&s.options.isSet("color_map_foreground")?Ef("color_map_foreground")(s):l===NA&&s.options.isSet("color_map_background")?Ef("color_map_background")(s):Ef("color_map")(s),y_=(s,l="default")=>Math.max(5,Math.ceil(Math.sqrt(Y0(s,l).length))),rN=(s,l)=>{const d=Ef("color_cols")(s),f=y_(s,l);return d===y_(s)?f:d},MA=(s,l="default")=>Math.round(l===PA?Ef("color_cols_foreground")(s):l===NA?Ef("color_cols_background")(s):Ef("color_cols")(s)),LA=Ef("custom_colors"),iN=Ef("color_default_foreground"),aN=Ef("color_default_background"),lN=(s,l)=>{const d=Sn(s.selection.getStart()),f=l==="hilitecolor"?sm(d,b=>{if(dr(b)){const v=Or(b,"background-color");return qo(h_(v).exists(C=>C.alpha!==0),v)}return I.none()}).getOr("rgba(0, 0, 0, 0)"):Or(d,"color");return h_(f).map(b=>"#"+O2(b).value)},x_=s=>{const l="choiceitem",d={type:l,text:"Remove color",icon:"color-swatch-remove-color",value:"remove"};return s?[d,{type:l,text:"Custom color",icon:"color-picker",value:"custom"}]:[d]},BA=(s,l,d,f)=>{d==="custom"?dN(s)(b=>{b.each(v=>{DA(l,v),s.execCommand("mceApplyTextcolor",l,v),f(v)})},lN(s,l).getOr(I2)):d==="remove"?(f(""),s.execCommand("mceRemoveTextcolor",l)):(f(d),s.execCommand("mceApplyTextcolor",l,d))},FA=(s,l,d)=>s.concat((f=>Ve(oN(f).state(),b=>({type:"choiceitem",text:b,icon:"checkmark",value:b})))(l).concat(x_(d))),cN=(s,l,d)=>f=>{f(FA(s,l,d))},$A=(s,l,d)=>{const f=l==="forecolor"?"tox-icon-text-color__color":"tox-icon-highlight-bg-color__color";s.setIconFill(f,d)},VA=(s,l)=>{s.setTooltip(l)},uN=(s,l)=>d=>{const f=lN(s,l);return mi(f,d.toUpperCase())},zA=(s,l,d)=>{if(Pc(d))return l==="forecolor"?"Text color":"Background color";const f=l==="forecolor"?"Text color {0}":"Background color {0}",b=FA(Y0(s,l),l,!1),v=ee(b,C=>C.value===d).getOr({text:""}).text;return s.translate([f,s.translate(v)])},HA=(s,l,d,f)=>{s.ui.registry.addSplitButton(l,{tooltip:zA(s,d,f.get()),presets:"color",icon:l==="forecolor"?"text-color":"highlight-bg-color",select:uN(s,d),columns:MA(s,d),fetch:cN(Y0(s,d),d,LA(s)),onAction:b=>{BA(s,d,f.get(),W)},onItemAction:(b,v)=>{BA(s,d,v,C=>{f.set(C),Yy(s,{name:l,color:C})})},onSetup:b=>{$A(b,l,f.get());const v=C=>{C.name===l&&($A(b,C.name,C.color),VA(b,zA(s,d,C.color)))};return s.on("TextColorChange",v),Xy(ya(s)(b),()=>{s.off("TextColorChange",v)})}})},Qy=(s,l,d,f,b)=>{s.ui.registry.addNestedMenuItem(l,{text:f,icon:l==="forecolor"?"text-color":"highlight-bg-color",onSetup:v=>(VA(v,zA(s,d,b.get())),$A(v,l,b.get()),ya(s)(v)),getSubmenuItems:()=>[{type:"fancymenuitem",fancytype:"colorswatch",select:uN(s,d),initData:{storageKey:d},onAction:v=>{BA(s,d,v.value,C=>{b.set(C),Yy(s,{name:l,color:C})})}}]})},dN=s=>(l,d)=>{let f=!1;const b={colorpicker:d};s.windowManager.open({title:"Color Picker",size:"normal",body:{type:"panel",items:[{type:"colorpicker",name:"colorpicker",label:"Color"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:b,onAction:(v,C)=>{C.name==="hex-valid"&&(f=C.value)},onSubmit:v=>{const C=v.getData().colorpicker;f?(l(I.from(C)),v.close()):s.windowManager.alert(s.translate(["Invalid hex color code: {0}",C]))},onClose:W,onCancel:()=>{l(I.none())}})},X0=(s,l,d,f,b,v,C,k)=>{const E=S2(l),N=UA(l,d,f,b!=="color"?"normal":"color",v,C,k);return uA(s,E,N,f,{menuType:b})},UA=(s,l,d,f,b,v,C)=>dl(Ve(s,k=>{return k.type==="choiceitem"?(E=k,Ir("choicemenuitem",xA,E)).fold(Sh,N=>I.some((($,B,U,J,se,pe,ye,Re=!0)=>{const ve=A2({presets:U,textContent:B?$.text:I.none(),htmlContent:I.none(),ariaLabel:$.text,iconContent:$.icon,shortcutContent:B?$.shortcut:I.none(),checkMark:B?I.some(jP(ye.icons)):I.none(),caret:I.none(),value:$.value},ye,Re),be=$.text.filter(j(!B)).map(ke=>Ii.config(ye.tooltips.getConfig({tooltipText:ye.translate(ke)})));return qs(Gy({data:qy($),enabled:$.enabled,getApi:ke=>({setActive:Ie=>{yo.set(ke,Ie)},isActive:()=>yo.isOn(ke),isEnabled:()=>!Oo.isDisabled(ke),setEnabled:Ie=>Oo.set(ke,!Ie)}),onAction:ke=>J($.value),onSetup:ke=>(ke.setActive(se),W),triggersSubmenu:!1,itemBehaviours:[...be.toArray()]},ve,pe,ye),{toggling:{toggleClass:mP,toggleOnExecute:!1,selected:$.active,exclusive:!0}})})(N,d===1,f,l,v(N.value),b,C,S2(s)))):I.none();var E})),D2=(s,l)=>{const d=H0(l);return s===1?{mode:"menu",moveOnTab:!0}:s==="auto"?{mode:"grid",selector:"."+d.item,initSize:{numColumns:1,numRows:1}}:{mode:"matrix",rowSelector:"."+(l==="color"?"tox-swatches__row":"tox-collection__group"),previousSelector:f=>l==="color"?Lr(f.element,"[aria-checked=true]"):I.none()}},WA=Nn("cell-over"),fN=Nn("cell-execute"),q7=(s,l,d)=>{const f=v=>Xn(v,fN,{row:s,col:l}),b=(v,C)=>{C.stop(),f(v)};return La({dom:{tag:"div",attributes:{role:"button","aria-label":d}},behaviours:an([jo("insert-table-picker-cell",[Lt(jn(),Eo.focus),Lt(yl(),f),Lt(bi(),b),Lt(cf(),b)]),yo.config({toggleClass:"tox-insert-table-picker__selected",toggleOnExecute:!1}),Eo.config({onFocus:v=>Xn(v,WA,{row:s,col:l})})])})},mN=s=>yn(s,l=>Ve(l,Yl)),gN=(s,l)=>ui(`${l}x${s}`),hN={inserttable:(s,l)=>{const d=(C=>(k,E)=>C.shared.providers.translate(["{0} columns, {1} rows",E,k]))(l),f=((C,k,E)=>{const N=[];for(let $=0;$<10;$++){const B=[];for(let U=0;U<10;U++){const J=C($+1,U+1);B.push(q7($,U,J))}N.push(B)}return N})(d),b=gN(0,0),v=Ks({dom:{tag:"span",classes:["tox-insert-table-picker__label"]},components:[b],behaviours:an([go.config({})])});return{type:"widget",data:{value:Nn("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:!0,components:[zp.widget({dom:{tag:"div",classes:["tox-insert-table-picker"]},components:mN(f).concat(v.asSpec()),behaviours:an([jo("insert-table-picker",[hr(C=>{go.set(v.get(C),[b])}),Jm(WA,(C,k,E)=>{const{row:N,col:$}=E.event;((B,U,J,se,pe)=>{for(let ye=0;ye<10;ye++)for(let Re=0;Re<10;Re++)yo.set(B[ye][Re],ye<=U&&Re<=J)})(f,N,$),go.set(v.get(C),[gN(N+1,$+1)])}),Jm(fN,(C,k,E)=>{const{row:N,col:$}=E.event;Wo(C,up()),s.onAction({numRows:N+1,numColumns:$+1})})]),eo.config({initSize:{numRows:10,numColumns:10},mode:"flatgrid",selector:'[role="button"]'})])})]}},colorswatch:(s,l)=>{const d=((C,k)=>{const E=C.initData.allowCustomColors&&k.colorinput.hasCustomColors();return C.initData.colors.fold(()=>FA(k.colorinput.getColors(C.initData.storageKey),C.initData.storageKey,E),N=>N.concat(x_(E)))})(s,l),f=l.colorinput.getColorCols(s.initData.storageKey),b="color",v={...X0(Nn("menu-value"),d,C=>{s.onAction({value:C})},f,b,xg.CLOSE_ON_EXECUTE,s.select.getOr(Me),l.shared.providers),markers:H0(b),movement:D2(f,b),showMenuRole:!1};return{type:"widget",data:{value:Nn("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:!0,components:[zp.widget(L0.sketch(v))]}}},pN=s=>({type:"separator",dom:{tag:"div",classes:[o_,"tox-collection__group-heading"]},components:s.text.map(ui).toArray()});var Y7=Object.freeze({__proto__:null,getCoupled:(s,l,d,f)=>d.getOrCreate(s,l,f),getExistingCoupled:(s,l,d,f)=>d.getExisting(s,l,f)}),bN=[Bi("others",Gm(ss.value,Gl()))],w_=Object.freeze({__proto__:null,init:()=>{const s={},l=(f,b)=>{if(en(f.others).length===0)throw new Error("Cannot find any known coupled components");return cn(s,b)},d=j({});return Ai({readState:d,getExisting:(f,b,v)=>l(b,v).orThunk(()=>(cn(b.others,v).getOrDie("No information found for coupled component: "+v),I.none())),getOrCreate:(f,b,v)=>l(b,v).getOrThunk(()=>{const C=cn(b.others,v).getOrDie("No information found for coupled component: "+v)(f),k=f.getSystem().build(C);return s[v]=k,k})})}});const di=Zi({fields:bN,name:"coupling",apis:Y7,state:w_}),P2=s=>{let l=I.none(),d=[];const f=C=>{b()?v(C):d.push(C)},b=()=>l.isSome(),v=C=>{l.each(k=>{setTimeout(()=>{C(k)},0)})};return s(C=>{b()||(l=I.some(C),bt(d,v),d=[])}),{get:f,map:C=>P2(k=>{f(E=>{k(C(E))})}),isReady:b}},X7={nu:P2,pure:s=>P2(l=>{l(s)})},J7=s=>{setTimeout(()=>{throw s},0)},ex=s=>{const l=d=>{s().then(d,J7)};return{map:d=>ex(()=>s().then(d)),bind:d=>ex(()=>s().then(f=>d(f).toPromise())),anonBind:d=>ex(()=>s().then(()=>d.toPromise())),toLazy:()=>X7.nu(l),toCached:()=>{let d=null;return ex(()=>(d===null&&(d=s()),d))},toPromise:s,get:l}},Qb=s=>ex(()=>new Promise(s)),kh=s=>ex(()=>Promise.resolve(s)),KA=j("sink"),vN=j(Td({name:KA(),overrides:j({dom:{tag:"div"},behaviours:an([sl.config({useFixed:Ne})]),events:To([im(Pr()),im(Ut()),im(bi())])})})),yN=(s,l)=>{const d=s.getHotspot(l).getOr(l),f="hotspot",b=s.getAnchorOverrides();return s.layouts.fold(()=>({type:f,hotspot:d,overrides:b}),v=>({type:f,hotspot:d,overrides:b,layouts:v}))},C_=(s,l,d,f,b,v,C)=>((E,N,$,B,U,J,se)=>{const pe=((Re,ve,be)=>(0,Re.fetch)(be).map(ve))(E,N,B),ye=xN(B,E);return pe.map(Re=>Re.bind(ve=>{const be=ve.menus[ve.primary];return I.from(be).each(ke=>{E.listRole.each(Ie=>{ke.role=Ie})}),I.from(Mp.sketch({...J.menu(),uid:Ju(""),data:ve,highlightOnOpen:se,onOpenMenu:(ke,Ie)=>{const Le=ye().getOrDie();sl.position(Le,Ie,{anchor:$}),O.decloak(U)},onOpenSubmenu:(ke,Ie,Le)=>{const Qe=ye().getOrDie();sl.position(Qe,Le,{anchor:{type:"submenu",item:Ie}}),O.decloak(U)},onRepositionMenu:(ke,Ie,Le)=>{const Qe=ye().getOrDie();sl.position(Qe,Ie,{anchor:$}),bt(Le,ht=>{sl.position(Qe,ht.triggeredMenu,{anchor:{type:"submenu",item:ht.triggeringItem}})})},onEscape:()=>(Eo.focus(B),O.close(U),I.some(!0))}))}))})(s,l,yN(s,d),d,f,b,C).map(E=>(E.fold(()=>{O.isOpen(f)&&O.close(f)},N=>{O.cloak(f),O.open(f,N),v(f)}),f)),Q7=(s,l,d,f,b,v,C)=>(O.close(f),kh(f)),jA=(s,l,d,f,b,v)=>{const C=di.getCoupled(d,"sandbox");return(O.isOpen(C)?Q7:C_)(s,l,d,C,f,b,v)},xN=(s,l)=>s.getSystem().getByUid(l.uid+"-"+KA()).map(d=>()=>ss.value(d)).getOrThunk(()=>l.lazySink.fold(()=>()=>ss.error(new Error("No internal sink is specified, nor could an external sink be found")),d=>()=>d(s))),ZA=s=>{O.getState(s).each(l=>{Mp.repositionMenus(l)})},GA=(s,l,d)=>{const f=Cp(),b=xN(l,s);return{dom:{tag:"div",classes:s.sandboxClasses,attributes:{id:f.id}},behaviours:bo(s.sandboxBehaviours,[St.config({store:{mode:"memory",initialValue:l}}),O.config({onOpen:(v,C)=>{const k=yN(s,l);f.link(l.element),s.matchWidth&&((E,N,$)=>{const B=Os.getCurrent(N).getOr(N),U=Wi(E.element);$?_o(B.element,"min-width",U+"px"):((J,se)=>{Hm.set(J,se)})(B.element,U)})(k.hotspot,C,s.useMinWidth),s.onOpen(k,v,C),d!==void 0&&d.onOpen!==void 0&&d.onOpen(v,C)},onClose:(v,C)=>{f.unlink(l.element),b().getOr(C).element.dom.dispatchEvent(new window.FocusEvent("focusout")),d!==void 0&&d.onClose!==void 0&&d.onClose(v,C)},isPartOf:(v,C,k)=>fc(C,k)||fc(l,k),getAttachPoint:()=>b().getOrDie()}),Os.config({find:v=>O.getState(v).bind(C=>Os.getCurrent(C))}),mc.config({channels:{...fe({isExtraPart:Me}),...je({doReposition:ZA})}})])}},wN=s=>{const l=di.getCoupled(s,"sandbox");ZA(l)},qA=()=>[vt("sandboxClasses",[]),Ao("sandboxBehaviours",[Os,mc,O,St])],e$=j([Ht("dom"),Ht("fetch"),ks("onOpen"),dc("onExecute"),vt("getHotspot",I.some),vt("getAnchorOverrides",j({})),sg(),Mn("dropdownBehaviours",[yo,di,eo,Eo]),Ht("toggleClass"),vt("eventOrder",{}),ds("lazySink"),vt("matchWidth",!1),vt("useMinWidth",!1),ds("role"),ds("listRole")].concat(qA())),t$=j([wm({schema:[bp(),vt("fakeFocus",!1)],name:"menu",defaults:s=>({onExecute:s.onExecute})}),vN()]),pc=Ec({name:"Dropdown",configFields:e$(),partFields:t$(),factory:(s,l,d,f)=>{const b=E=>{O.getState(E).each(N=>{Mp.highlightPrimary(N)})},v=(E,N,$)=>jA(s,me,E,f,N,$),C={expand:E=>{yo.isOn(E)||v(E,W,ec.HighlightNone).get(W)},open:E=>{yo.isOn(E)||v(E,W,ec.HighlightMenuAndItem).get(W)},refetch:E=>di.getExistingCoupled(E,"sandbox").fold(()=>v(E,W,ec.HighlightMenuAndItem).map(W),N=>C_(s,me,E,N,f,W,ec.HighlightMenuAndItem).map(W)),isOpen:yo.isOn,close:E=>{yo.isOn(E)&&v(E,W,ec.HighlightMenuAndItem).get(W)},repositionMenus:E=>{yo.isOn(E)&&wN(E)}},k=(E,N)=>(gf(E),I.some(!0));return{uid:s.uid,dom:s.dom,components:l,behaviours:zo(s.dropdownBehaviours,[yo.config({toggleClass:s.toggleClass,aria:{mode:"expanded"}}),di.config({others:{sandbox:E=>GA(s,E,{onOpen:()=>yo.on(E),onClose:()=>yo.off(E)})}}),eo.config({mode:"special",onSpace:k,onEnter:k,onDown:(E,N)=>{if(pc.isOpen(E)){const $=di.getCoupled(E,"sandbox");b($)}else pc.open(E);return I.some(!0)},onEscape:(E,N)=>pc.isOpen(E)?(pc.close(E),I.some(!0)):I.none()}),Eo.config({})]),events:By(I.some(E=>{v(E,b,ec.HighlightMenuAndItem).get(W)})),eventOrder:{...s.eventOrder,[yl()]:["disabling","toggling","alloy.base.behaviour"]},apis:C,domModification:{attributes:{"aria-haspopup":s.listRole.getOr("true"),...s.role.fold(()=>({}),E=>({role:E})),...s.dom.tag==="button"?{type:cn(s.dom,"attributes").bind(E=>cn(E,"type")).getOr("button")}:{}}}}},apis:{open:(s,l)=>s.open(l),refetch:(s,l)=>s.refetch(l),expand:(s,l)=>s.expand(l),close:(s,l)=>s.close(l),isOpen:(s,l)=>s.isOpen(l),repositionMenus:(s,l)=>s.repositionMenus(l)}}),CN=(s,l,d)=>{wP(s).each(f=>{var b;((v,C)=>{gs(C.element,"id").each(k=>xn(v.element,"aria-activedescendant",k))})(f,d),(es((b=l).element,w2)?I.some(b.element):Lr(b.element,"."+w2)).each(v=>{gs(v,"id").each(C=>xn(f.element,"aria-controls",C))})}),xn(d.element,"aria-selected","true")},n$=(s,l,d)=>{xn(d.element,"aria-selected","false")},J0=s=>di.getExistingCoupled(s,"sandbox").bind(x2).map(CP).map(l=>l.fetchPattern).getOr("");var N2;(function(s){s[s.ContentFocus=0]="ContentFocus",s[s.UiFocus=1]="UiFocus"})(N2||(N2={}));const o$=(s,l,d,f,b)=>{const v=d.shared.providers,C=E=>b?{...E,shortcut:I.none(),icon:E.text.isSome()?I.none():E.icon}:E;switch(s.type){case"menuitem":return(k=s,Ir("menuitem",FP,k)).fold(Sh,E=>I.some(((N,$,B,U=!0)=>{const J=A2({presets:"normal",iconContent:N.icon,textContent:N.text,htmlContent:I.none(),ariaLabel:N.text,caret:I.none(),checkMark:I.none(),shortcutContent:N.shortcut},B,U);return Gy({data:qy(N),getApi:se=>({isEnabled:()=>!Oo.isDisabled(se),setEnabled:pe=>Oo.set(se,!pe)}),enabled:N.enabled,onAction:N.onAction,onSetup:N.onSetup,triggersSubmenu:!1,itemBehaviours:[]},J,$,B)})(C(E),l,v,f)));case"nestedmenuitem":return(E=>Ir("nestedmenuitem",$P,E))(s).fold(Sh,E=>I.some(((N,$,B,U=!0,J=!1)=>{const se=J?(pe=B.icons,CA("chevron-down",pe,[aA])):(Re=>CA("chevron-right",Re,[aA]))(B.icons);var pe;const ye=A2({presets:"normal",iconContent:N.icon,textContent:N.text,htmlContent:I.none(),ariaLabel:N.text,caret:I.some(se),checkMark:I.none(),shortcutContent:N.shortcut},B,U);return Gy({data:qy(N),getApi:Re=>({isEnabled:()=>!Oo.isDisabled(Re),setEnabled:ve=>Oo.set(Re,!ve),setIconFill:(ve,be)=>{Lr(Re.element,`svg path[class="${ve}"], rect[class="${ve}"]`).each(ke=>{xn(ke,"fill",be)})},setTooltip:ve=>{const be=B.translate(ve);xn(Re.element,"aria-label",be)}}),enabled:N.enabled,onAction:W,onSetup:N.onSetup,triggersSubmenu:!0,itemBehaviours:[]},ye,$,B)})(C(E),l,v,f,b)));case"togglemenuitem":return(E=>Ir("togglemenuitem",W7,E))(s).fold(Sh,E=>I.some(((N,$,B,U=!0)=>{const J=A2({iconContent:N.icon,textContent:N.text,htmlContent:I.none(),ariaLabel:N.text,checkMark:I.some(jP(B.icons)),caret:I.none(),shortcutContent:N.shortcut,presets:"normal",meta:N.meta},B,U);return qs(Gy({data:qy(N),enabled:N.enabled,getApi:se=>({setActive:pe=>{yo.set(se,pe)},isActive:()=>yo.isOn(se),isEnabled:()=>!Oo.isDisabled(se),setEnabled:pe=>Oo.set(se,!pe)}),onAction:N.onAction,onSetup:N.onSetup,triggersSubmenu:!1,itemBehaviours:[]},J,$,B),{toggling:{toggleClass:mP,toggleOnExecute:!1,selected:N.active},role:N.role.getOrUndefined()})})(C(E),l,v,f)));case"separator":return(E=>Ir("separatormenuitem",OP,E))(s).fold(Sh,E=>I.some(pN(E)));case"fancymenuitem":return(E=>Ir("fancymenuitem",BP,E))(s).fold(Sh,E=>((N,$)=>cn(hN,N.fancytype).map(B=>B(N,$)))(E,d));default:return console.error("Unknown item in general menu",s),I.none()}var k},ev=(s,l,d,f,b,v,C)=>{const k=f===1,E=!k||S2(s);return dl(Ve(s,N=>{switch(N.type){case"separator":return($=N,Ir("Autocompleter.Separator",OP,$)).fold(Sh,B=>I.some(pN(B)));case"cardmenuitem":return(B=>Ir("cardmenuitem",U7,B))(N).fold(Sh,B=>I.some(((U,J,se,pe)=>{const ye={dom:ZP(U.label),optComponents:[I.some({dom:{tag:"div",classes:[v2,y2]},components:kA(U.items,pe)})]};return Gy({data:qy({text:I.none(),...U}),enabled:U.enabled,getApi:Re=>({isEnabled:()=>!Oo.isDisabled(Re),setEnabled:ve=>{Oo.set(Re,!ve),bt(na(Re.element,"*"),be=>{Re.getSystem().getByDom(be).each(ke=>{ke.hasConfigured(Oo)&&Oo.set(ke,!ve)})})}}),onAction:U.onAction,onSetup:U.onSetup,triggersSubmenu:!1,itemBehaviours:I.from(pe.itemBehaviours).getOr([])},ye,J,se.providers)})({...B,onAction:U=>{B.onAction(U),d(B.value,B.meta)}},b,v,{itemBehaviours:GP(B.meta,v,I.none()),cardText:{matchText:l,highlightOn:C}})));default:return(B=>Ir("Autocompleter.Item",P7,B))(N).fold(Sh,B=>I.some(((U,J,se,pe,ye,Re,ve,be=!0)=>{const ke=A2({presets:pe,textContent:I.none(),htmlContent:se?U.text.map(Le=>_A(Le,J)):I.none(),ariaLabel:U.text,iconContent:U.icon,shortcutContent:I.none(),checkMark:I.none(),caret:I.none(),value:U.value},ve.providers,be,U.icon),Ie=U.text.filter(Le=>!se&&Le!=="");return Gy({data:qy(U),enabled:U.enabled,getApi:j({}),onAction:Le=>ye(U.value,U.meta),onSetup:j(W),triggersSubmenu:!1,itemBehaviours:GP(U,ve,Ie)},ke,Re,ve.providers)})(B,l,k,"normal",d,b,v,E)))}var $}))},SN=(s,l,d,f,b,v)=>{const C=S2(l),k=dl(Ve(l,N=>{const $=B=>o$(B,d,f,(U=>b?!uo(U,"text"):C)(B),b);return N.type==="nestedmenuitem"&&N.getSubmenuItems().length<=0?$({...N,enabled:!1}):$(N)})),E=(N=>N.searchMode==="no-search"?{menuType:"normal"}:{menuType:"searchable",searchMode:N})(v);return(b?O7:uA)(s,C,k,1,E)},YA=s=>Mp.singleData(s.value,s),Tf=s=>rg(Sn(s.startContainer),s.startOffset,Sn(s.endContainer),s.endOffset),_N=(s,l)=>{const d=Nn("autocompleter"),f=Wn(!1),b=Wn(!1),v=_s(),C=La(zr.sketch({dom:{tag:"div",classes:["tox-autocompleter"],attributes:{id:d}},components:[],fireDismissalEventInstead:{},inlineBehaviours:an([jo("dismissAutocompleter",[Lt(Xm(),()=>B()),Lt(Wv(),(se,pe)=>{gs(pe.event.target,"id").each(ye=>xn(Sn(s.getBody()),"aria-activedescendant",ye))})])]),lazySink:l.getSink})),k=()=>zr.isOpen(C),E=b.get,N=()=>{if(k()){zr.hide(C),s.dom.remove(d,!1);const se=Sn(s.getBody());gs(se,"aria-owns").filter(pe=>pe===d).each(()=>{Uo(se,"aria-owns"),Uo(se,"aria-activedescendant")})}},$=()=>zr.getContent(C).bind(se=>Ae(se.components(),0)),B=()=>s.execCommand("mceAutocompleterClose"),U=se=>{const pe=(ye=>{const Re=pn(ye,ve=>I.from(ve.columns)).getOr(1);return yn(ye,ve=>{const be=ve.items;return ev(be,ve.matchText,(ke,Ie)=>{const Le={hide:()=>B(),reload:Qe=>{N(),s.execCommand("mceAutocompleterReload",!1,{fetchOptions:Qe})}};s.execCommand("mceAutocompleterRefreshActiveRange"),v.get().each(Qe=>{f.set(!0),ve.onAction(Le,Qe,ke,Ie),f.set(!1)})},Re,xg.BUBBLE_TO_SANDBOX,l,ve.highlightOn)})})(se);pe.length>0?(((ye,Re)=>{const ve=pn(ye,be=>I.from(be.columns)).getOr(1);zr.showMenuAt(C,{anchor:{type:"selection",getSelection:()=>v.get().map(Tf),root:Sn(s.getBody())}},((be,ke,Ie,Le)=>{const Qe=D2(ke,Le),ht=H0(Le);return{data:YA({...be,movement:Qe,menuBehaviours:E2(ke!=="auto"?[]:[hr((zt,Bt)=>{wA(zt,4,ht.item).each(({numColumns:Pt,numRows:sn})=>{eo.setGridSize(zt,sn,Pt)})})])}),menu:{markers:H0(Le),fakeFocus:Ie===N2.ContentFocus}}})(uA("autocompleter-value",!0,Re,ve,{menuType:"normal"}),ve,N2.ContentFocus,"normal")),$().each(Gs.highlightFirst)})(se,pe),xn(Sn(s.getBody()),"aria-owns",d),s.inline||J()):N()},J=()=>{s.dom.get(d)&&s.dom.remove(d,!1);const se=s.getDoc().documentElement,pe=s.selection.getNode(),ye=(Re=>hp(Re,!0))(C.element);Ol(ye,{border:"0",clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:"0",position:"absolute",width:"1px",top:`${pe.offsetTop}px`,left:`${pe.offsetLeft}px`}),s.dom.add(se,ye.dom),Lr(ye,'[role="menu"]').each(Re=>{zs(Re,"position"),zs(Re,"max-height")})};s.on("AutocompleterStart",({lookupData:se})=>{b.set(!0),f.set(!1),U(se)}),s.on("AutocompleterUpdate",({lookupData:se})=>U(se)),s.on("AutocompleterUpdateActiveRange",({range:se})=>v.set(se)),s.on("AutocompleterEnd",()=>{N(),b.set(!1),f.set(!1),v.clear()}),((se,pe)=>{const ye=(ve,be)=>{Xn(ve,Pr(),{raw:be})},Re=()=>se.getMenu().bind(Gs.getHighlighted);pe.on("keydown",ve=>{const be=ve.which;se.isActive()&&(se.isMenuOpen()?be===13?(Re().each(gf),ve.preventDefault()):be===40?(Re().fold(()=>{se.getMenu().each(Gs.highlightFirst)},ke=>{ye(ke,ve)}),ve.preventDefault(),ve.stopImmediatePropagation()):be!==37&&be!==38&&be!==39||Re().each(ke=>{ye(ke,ve),ve.preventDefault(),ve.stopImmediatePropagation()}):be!==13&&be!==38&&be!==40||se.cancelIfNecessary())}),pe.on("NodeChange",()=>{!se.isActive()||se.isProcessingAction()||pe.queryCommandState("mceAutoCompleterInRange")||se.cancelIfNecessary()})})({cancelIfNecessary:B,isMenuOpen:k,isActive:E,isProcessingAction:f.get,getMenu:$},s)},tx=(s,l,d)=>bf(s,l,d).isSome(),XA=(s,l)=>{let d=null;return{cancel:()=>{d!==null&&(clearTimeout(d),d=null)},schedule:(...f)=>{d=setTimeout(()=>{s.apply(null,f),d=null},l)}}},kN=s=>{const l=s.raw;return l.touches===void 0||l.touches.length!==1?I.none():I.some(l.touches[0])},S_=(s,l)=>{const d={stopBackspace:!0,...l},f=(B=>{const U=_s(),J=Wn(!1),se=XA(ye=>{B.triggerEvent(Qx(),ye),J.set(!0)},400),pe=kc([{key:Y(),value:ye=>(kN(ye).each(Re=>{se.cancel();const ve={x:Re.clientX,y:Re.clientY,target:ye.target};se.schedule(ye),J.set(!1),U.set(ve)}),I.none())},{key:de(),value:ye=>(se.cancel(),kN(ye).each(Re=>{U.on(ve=>{((be,ke)=>{const Ie=Math.abs(be.clientX-ke.x),Le=Math.abs(be.clientY-ke.y);return Ie>5||Le>5})(Re,ve)&&U.clear()})}),I.none())},{key:We(),value:ye=>(se.cancel(),U.get().filter(Re=>cs(Re.target,ye.target)).map(Re=>J.get()?(ye.prevent(),!1):B.triggerEvent(cf(),ye)))}]);return{fireIfReady:(ye,Re)=>cn(pe,Re).bind(ve=>ve(ye))}})(d),b=Ve(["touchstart","touchmove","touchend","touchcancel","gesturestart","mousedown","mouseup","mouseover","mousemove","mouseout","click"].concat(["selectstart","input","contextmenu","change","transitionend","transitioncancel","drag","dragstart","dragend","dragenter","dragleave","dragover","drop","keyup"]),B=>Bl(s,B,U=>{f.fireIfReady(U,B).each(J=>{J&&U.kill()}),d.triggerEvent(B,U)&&U.kill()})),v=_s(),C=Bl(s,"paste",B=>{f.fireIfReady(B,"paste").each(U=>{U&&B.kill()}),d.triggerEvent("paste",B)&&B.kill(),v.set(setTimeout(()=>{d.triggerEvent(cp(),B)},0))}),k=Bl(s,"keydown",B=>{d.triggerEvent("keydown",B)?B.kill():d.stopBackspace&&(U=>U.raw.which===ZI[0]&&!mt(["input","textarea"],ml(U.target))&&!tx(U.target,'[contenteditable="true"]'))(B)&&B.prevent()}),E=Bl(s,"focusin",B=>{d.triggerEvent("focusin",B)&&B.kill()}),N=_s(),$=Bl(s,"focusout",B=>{d.triggerEvent("focusout",B)&&B.kill(),N.set(setTimeout(()=>{d.triggerEvent(lf(),B)},0))});return{unbind:()=>{bt(b,B=>{B.unbind()}),k.unbind(),E.unbind(),$.unbind(),C.unbind(),v.on(clearTimeout),N.on(clearTimeout)}}},JA=(s,l)=>{const d=cn(s,"target").getOr(l);return Wn(d)},M2=pa([{stopped:[]},{resume:["element"]},{complete:[]}]),EN=(s,l,d,f,b,v)=>{const C=s(l,f),k=((E,N)=>{const $=Wn(!1),B=Wn(!1);return{stop:()=>{$.set(!0)},cut:()=>{B.set(!0)},isStopped:$.get,isCut:B.get,event:E,setSource:N.set,getSource:N.get}})(d,b);return C.fold(()=>(v.logEventNoHandlers(l,f),M2.complete()),E=>{const N=E.descHandler;return uw(N)(k),k.isStopped()?(v.logEventStopped(l,E.element,N.purpose),M2.stopped()):k.isCut()?(v.logEventCut(l,E.element,N.purpose),M2.complete()):Pi(E.element).fold(()=>(v.logNoParent(l,E.element,N.purpose),M2.complete()),$=>(v.logEventResponse(l,E.element,N.purpose),M2.resume($)))})},L2=(s,l,d,f,b,v)=>EN(s,l,d,f,b,v).fold(Ne,C=>L2(s,l,d,C,b,v),Me),__=(s,l,d,f,b)=>{const v=JA(d,f);return L2(s,l,d,f,v,b)},TN=()=>{const s=(()=>{const f={};return{registerId:(b,v,C)=>{no(C,(k,E)=>{const N=f[E]!==void 0?f[E]:{};N[v]=(($,B)=>({cHandler:Ce.apply(void 0,[$.handler].concat(B)),purpose:$.purpose}))(k,b),f[E]=N})},unregisterId:b=>{no(f,(v,C)=>{uo(v,b)&&delete v[b]})},filterByType:b=>cn(f,b).map(v=>ri(v,(C,k)=>((E,N)=>({id:E,descHandler:N}))(k,C))).getOr([]),find:(b,v,C)=>cn(f,v).bind(k=>sm(C,E=>((N,$)=>yp($).bind(B=>cn(N,B)).map(B=>((U,J)=>({element:U,descHandler:J}))($,B)))(k,E),b))}})(),l={},d=f=>{yp(f.element).each(b=>{delete l[b],s.unregisterId(b)})};return{find:(f,b,v)=>s.find(f,b,v),filter:f=>s.filterByType(f),register:f=>{const b=(C=>{const k=C.element;return yp(k).getOrThunk(()=>((E,N)=>{const $=Nn(ty+"uid-");return ny(N,$),$})(0,C.element))})(f);$o(l,b)&&((C,k)=>{const E=l[k];if(E!==C)throw new Error('The tagId "'+k+'" is already used by: '+gm(E.element)+`
Cannot use it for: `+gm(C.element)+`
The conflicting element is`+(Cn(E.element)?" ":" not ")+"already in the DOM");d(C)})(f,b);const v=[f];s.registerId(v,b,f.events),l[b]=f},unregister:d,getById:f=>cn(l,f)}},km=Ad({name:"Container",factory:s=>{const{attributes:l,...d}=s.dom;return{uid:s.uid,dom:{tag:"div",attributes:{role:"presentation",...l},...d},components:s.components,behaviours:po(s.containerBehaviours),events:s.events,domModification:s.domModification,eventOrder:s.eventOrder}},configFields:[vt("components",[]),Mn("containerBehaviours",[]),vt("events",{}),vt("domModification",{}),vt("eventOrder",{})]}),k_=s=>{const l=ye=>Pi(s.element).fold(Ne,Re=>cs(ye,Re)),d=TN(),f=(ye,Re)=>d.find(l,ye,Re),b=S_(s.element,{triggerEvent:(ye,Re)=>Qv(ye,Re.target,ve=>((be,ke,Ie,Le)=>__(be,ke,Ie,Ie.target,Le))(f,ye,Re,ve))}),v={debugInfo:j("real"),triggerEvent:(ye,Re,ve)=>{Qv(ye,Re,be=>__(f,ye,ve,Re,be))},triggerFocus:(ye,Re)=>{yp(ye).fold(()=>{Ll(ye)},ve=>{Qv(Zu(),ye,be=>(((ke,Ie,Le,Qe,ht)=>{const zt=JA(Le,Qe);EN(ke,Ie,Le,Qe,zt,ht)})(f,Zu(),{originator:Re,kill:W,prevent:W,target:ye},ye,be),!1))})},triggerEscape:(ye,Re)=>{v.triggerEvent("keydown",ye.element,Re.event)},getByUid:ye=>se(ye),getByDom:ye=>pe(ye),build:La,buildOrPatch:ly,addToGui:ye=>{E(ye)},removeFromGui:ye=>{N(ye)},addToWorld:ye=>{C(ye)},removeFromWorld:ye=>{k(ye)},broadcast:ye=>{B(ye)},broadcastOn:(ye,Re)=>{U(ye,Re)},broadcastEvent:(ye,Re)=>{J(ye,Re)},isConnected:Ne},C=ye=>{ye.connect(v),ca(ye.element)||(d.register(ye),bt(ye.components(),C),v.triggerEvent(uf(),ye.element,{target:ye.element}))},k=ye=>{ca(ye.element)||(bt(ye.components(),k),d.unregister(ye)),ye.disconnect()},E=ye=>{fg(s,ye)},N=ye=>{Jl(ye)},$=ye=>{const Re=d.filter(cc());bt(Re,ve=>{const be=ve.descHandler;uw(be)(ye)})},B=ye=>{$({universal:!0,data:ye})},U=(ye,Re)=>{$({universal:!1,channels:ye,data:Re})},J=(ye,Re)=>((ve,be,ke)=>{const Ie=(Le=>{const Qe=Wn(!1);return{stop:()=>{Qe.set(!0)},cut:W,isStopped:Qe.get,isCut:Me,event:Le,setSource:et("Cannot set source of a broadcasted event"),getSource:et("Cannot get source of a broadcasted event")}})(be);return bt(ve,Le=>{const Qe=Le.descHandler;uw(Qe)(Ie)}),Ie.isStopped()})(d.filter(ye),Re),se=ye=>d.getById(ye).fold(()=>ss.error(new Error('Could not find component with uid: "'+ye+'" in system.')),ss.value),pe=ye=>{const Re=yp(ye).getOr("not found");return se(Re)};return C(s),{root:s,element:s.element,destroy:()=>{b.unbind(),Ji(s.element)},add:E,remove:N,getByUid:se,getByDom:pe,addToWorld:C,removeFromWorld:k,broadcast:B,broadcastOn:U,broadcastEvent:J}},s$=j([vt("prefix","form-field"),Mn("fieldBehaviours",[Os,St])]),QA=j([Td({schema:[Ht("dom")],name:"label"}),Td({factory:{sketch:s=>({uid:s.uid,dom:{tag:"span",styles:{display:"none"},attributes:{"aria-hidden":"true"},innerHtml:s.text}})},schema:[Ht("text")],name:"aria-descriptor"}),hc({factory:{sketch:s=>{const l=((d,f)=>{const b={};return no(d,(v,C)=>{mt(f,C)||(b[C]=v)}),b})(s,["factory"]);return s.factory.sketch(l)}},schema:[Ht("factory")],name:"field"})]),Ys=Ec({name:"FormField",configFields:s$(),partFields:QA(),factory:(s,l,d,f)=>{const b=zo(s.fieldBehaviours,[Os.config({find:k=>vr(k,s,"field")}),St.config({store:{mode:"manual",getValue:k=>Os.getCurrent(k).bind(St.getValue),setValue:(k,E)=>{Os.getCurrent(k).each(N=>{St.setValue(N,E)})}}})]),v=To([hr((k,E)=>{const N=DI(k,s,["label","field","aria-descriptor"]);N.field().each($=>{const B=Nn(s.prefix);N.label().each(U=>{xn(U.element,"for",B),xn($.element,"id",B)}),N["aria-descriptor"]().each(U=>{const J=Nn(s.prefix);xn(U.element,"id",J),xn($.element,"aria-describedby",J)})})})]),C={getField:k=>vr(k,s,"field"),getLabel:k=>vr(k,s,"label")};return{uid:s.uid,dom:s.dom,components:l,behaviours:b,events:v,apis:C}},apis:{getField:(s,l)=>s.getField(l),getLabel:(s,l)=>s.getLabel(l)}});var r$=tinymce.util.Tools.resolve("tinymce.html.Entities");const B2=(s,l,d,f)=>{const b=i$(s,l,d,f);return Ys.sketch(b)},i$=(s,l,d,f)=>({dom:E_(d),components:s.toArray().concat([l]),fieldBehaviours:an(f)}),E_=s=>({tag:"div",classes:["tox-form__group"].concat(s)}),tv=(s,l)=>Ys.parts.label({dom:{tag:"label",classes:["tox-label"]},components:[ui(l.translate(s))]}),tc=Nn("form-component-change"),nv=Nn("form-close"),Up=Nn("form-cancel"),Cg=Nn("form-action"),F2=Nn("form-submit"),e3=Nn("form-block"),t3=Nn("form-unblock"),AN=Nn("form-tabchange"),T_=Nn("form-resize"),ON=(s,l,d)=>{const f=s.label.map(B=>tv(B,l)),b=l.icons(),v=B=>(U,J)=>{bf(J.event.target,"[data-collection-item-value]").each(se=>{B(U,J,se,ns(se,"data-collection-item-value"))})},C=v((B,U,J,se)=>{U.stop(),l.isDisabled()||Xn(B,Cg,{name:s.name,value:se})}),k=[Lt(jn(),v((B,U,J)=>{Ll(J)})),Lt(bi(),C),Lt(cf(),C),Lt(Is(),v((B,U,J)=>{Lr(B.element,"."+Ch).each(se=>{Fo(se,Ch)}),Vn(J,Ch)})),Lt(ei(),v(B=>{Lr(B.element,"."+Ch).each(U=>{Fo(U,Ch),a0(U)})})),pu(v((B,U,J,se)=>{Xn(B,Cg,{name:s.name,value:se})}))],E=(B,U)=>Ve(na(B.element,".tox-collection__item"),U),N=Ys.parts.field({dom:{tag:"div",classes:["tox-collection"].concat(s.columns!==1?["tox-collection--grid"]:["tox-collection--list"])},components:[],factory:{sketch:me},behaviours:an([Oo.config({disabled:l.isDisabled,onDisabled:B=>{E(B,U=>{Vn(U,"tox-collection__item--state-disabled"),xn(U,"aria-disabled",!0)})},onEnabled:B=>{E(B,U=>{Fo(U,"tox-collection__item--state-disabled"),Uo(U,"aria-disabled")})}}),va(),go.config({}),Ii.config({...l.tooltips.getConfig({tooltipText:"",onShow:B=>{Lr(B.element,"."+Ch+"[data-mce-tooltip]").each(U=>{gs(U,"data-mce-tooltip").each(J=>{Ii.setComponents(B,l.tooltips.getComponents({tooltipText:J}))})})}}),mode:"children-keyboard-focus",anchor:B=>({type:"node",node:Lr(B.element,"."+Ch).orThunk(()=>Lu(".tox-collection__item")),root:B.element,layouts:{onLtr:j([vi,Yr,ni,Oi,oi,er]),onRtl:j([vi,Yr,ni,Oi,oi,er])},bubble:vu(0,-2,{})})}),St.config({store:{mode:"memory",initialValue:d.getOr([])},onSetValue:(B,U)=>{((J,se)=>{const pe=Ve(se,ve=>{const be=Cf.translate(ve.text),ke=s.columns===1?`<div class="tox-collection__item-label">${be}</div>`:"",Ie=`<div class="tox-collection__item-icon">${(ht=>{var zt;return(zt=b[ht])!==null&&zt!==void 0?zt:ht})(ve.icon)}</div>`,Le={_:" "," - ":" ","-":" "},Qe=be.replace(/\_| \- |\-/g,ht=>Le[ht]);return`<div data-mce-tooltip="${Qe}" class="tox-collection__item${l.isDisabled()?" tox-collection__item--state-disabled":""}" tabindex="-1" data-collection-item-value="${r$.encodeAllRaw(ve.value)}" aria-label="${Qe}">${Ie}${ke}</div>`}),ye=s.columns!=="auto"&&s.columns>1?at(pe,s.columns):[pe],Re=Ve(ye,ve=>`<div class="tox-collection__group">${ve.join("")}</div>`);gp(J.element,Re.join(""))})(B,U),s.columns==="auto"&&wA(B,5,"tox-collection__item").each(({numRows:J,numColumns:se})=>{eo.setGridSize(B,J,se)}),Wo(B,T_)}}),mr.config({}),eo.config(($=s.columns,$===1?{mode:"menu",moveOnTab:!1,selector:".tox-collection__item"}:$==="auto"?{mode:"flatgrid",selector:".tox-collection__item",initSize:{numColumns:1,numRows:1}}:{mode:"matrix",selectors:{row:".tox-collection__group",cell:`.${o_}`}})),jo("collection-events",k)]),eventOrder:{[yl()]:["disabling","alloy.base.behaviour","collection-events"],[Is()]:["collection-events","tooltipping"]}});var $;return B2(f,N,["tox-form__group--collection"],[])},RN=["input","textarea"],A_=s=>{const l=ml(s);return mt(RN,l)},IN=(s,l)=>{const d=l.getRoot(s).getOr(s.element);Fo(d,l.invalidClass),l.notify.each(f=>{A_(s.element)&&xn(s.element,"aria-invalid",!1),f.getContainer(s).each(b=>{gp(b,f.validHtml)}),f.onValid(s)})},n3=(s,l,d,f)=>{const b=l.getRoot(s).getOr(s.element);Vn(b,l.invalidClass),l.notify.each(v=>{A_(s.element)&&xn(s.element,"aria-invalid",!0),v.getContainer(s).each(C=>{gp(C,f)}),v.onInvalid(s,f)})},DN=(s,l,d)=>l.validator.fold(()=>kh(ss.value(!0)),f=>f.validate(s)),o3=(s,l,d)=>(l.notify.each(f=>{f.onValidate(s)}),DN(s,l).map(f=>s.getSystem().isConnected()?f.fold(b=>(n3(s,l,0,b),ss.error(b)),b=>(IN(s,l),ss.value(b))):ss.error("No longer in system")));var a$=Object.freeze({__proto__:null,markValid:IN,markInvalid:n3,query:DN,run:o3,isInvalid:(s,l)=>{const d=l.getRoot(s).getOr(s.element);return es(d,l.invalidClass)}}),PN=Object.freeze({__proto__:null,events:(s,l)=>s.validator.map(d=>To([Lt(d.onEvent,f=>{o3(f,s).get(me)})].concat(d.validateOnLoad?[hr(f=>{o3(f,s).get(W)})]:[]))).getOr({})}),l$=[Ht("invalidClass"),vt("getRoot",I.none),Dr("notify",[vt("aria","alert"),vt("getContainer",I.none),vt("validHtml",""),ks("onValid"),ks("onInvalid"),ks("onValidate")]),Dr("validator",[Ht("validate"),vt("onEvent","input"),vt("validateOnLoad",!0)])];const Eh=Zi({fields:l$,name:"invalidating",active:PN,apis:a$,extra:{validation:s=>l=>{const d=St.getValue(l);return kh(s(d))}}}),Q0=Zi({fields:[],name:"unselecting",active:Object.freeze({__proto__:null,events:()=>To([Yg(Ma(),Ne)]),exhibit:()=>Nr({styles:{"-webkit-user-select":"none","user-select":"none","-ms-user-select":"none","-moz-user-select":"-moz-none"},attributes:{unselectable:"on"}})})}),s3=Nn("color-input-change"),r3=Nn("color-swatch-change"),NN=Nn("color-picker-cancel"),i3=Td({schema:[Ht("dom")],name:"label"}),ov=s=>Td({name:s+"-edge",overrides:l=>l.model.manager.edgeActions[s].fold(()=>({}),d=>({events:To([Kv(Y(),(f,b,v)=>d(f,v),[l]),Kv(Ut(),(f,b,v)=>d(f,v),[l]),Kv(lo(),(f,b,v)=>{v.mouseIsDown.get()&&d(f,v)},[l])])}))}),c$=ov("top-left"),u$=ov("top"),d$=ov("top-right"),f$=ov("right"),MN=ov("bottom-right"),a3=ov("bottom"),m$=ov("bottom-left"),O_=ov("left"),g$=hc({name:"thumb",defaults:j({dom:{styles:{position:"absolute"}}}),overrides:s=>({events:To([Jg(Y(),s,"spectrum"),Jg(de(),s,"spectrum"),Jg(We(),s,"spectrum"),Jg(Ut(),s,"spectrum"),Jg(lo(),s,"spectrum"),Jg(ko(),s,"spectrum")])})}),R_=s=>bh(s.event);var h$=[i3,O_,f$,u$,a3,c$,d$,m$,MN,g$,hc({schema:[ji("mouseIsDown",()=>Wn(!1))],name:"spectrum",overrides:s=>{const l=s.model.manager,d=(f,b)=>l.getValueFromEvent(b).map(v=>l.setValueFrom(f,s,v));return{behaviours:an([eo.config({mode:"special",onLeft:(f,b)=>l.onLeft(f,s,R_(b)),onRight:(f,b)=>l.onRight(f,s,R_(b)),onUp:(f,b)=>l.onUp(f,s,R_(b)),onDown:(f,b)=>l.onDown(f,s,R_(b))}),mr.config({}),Eo.config({})]),events:To([Lt(Y(),d),Lt(de(),d),Lt(Ut(),d),Lt(lo(),(f,b)=>{s.mouseIsDown.get()&&d(f,b)})])}}})];const $2=j("slider.change.value"),l3=s=>{const l=s.event.raw;if((d=>d.type.indexOf("touch")!==-1)(l)){const d=l;return d.touches!==void 0&&d.touches.length===1?I.some(d.touches[0]).map(f=>rr(f.clientX,f.clientY)):I.none()}{const d=l;return d.clientX!==void 0?I.some(d).map(f=>rr(f.clientX,f.clientY)):I.none()}},e1=s=>s.model.minX,sv=s=>s.model.minY,I_=s=>s.model.minX-1,D_=s=>s.model.minY-1,Wp=s=>s.model.maxX,Af=s=>s.model.maxY,P_=s=>s.model.maxX+1,N_=s=>s.model.maxY+1,M_=(s,l,d)=>l(s)-d(s),L_=s=>M_(s,Wp,e1),c3=s=>M_(s,Af,sv),LN=s=>L_(s)/2,u3=s=>c3(s)/2,nx=(s,l)=>l?s.stepSize*s.speedMultiplier:s.stepSize,d3=s=>s.snapToGrid,f3=s=>s.snapStart,B_=s=>s.rounded,F_=(s,l)=>s[l+"-edge"]!==void 0,m3=s=>F_(s,"left"),BN=s=>F_(s,"right"),ox=s=>F_(s,"top"),FN=s=>F_(s,"bottom"),Kp=s=>s.model.value.get(),Th=(s,l)=>({x:s,y:l}),Pd=(s,l)=>{Xn(s,$2(),{value:l})},g3=(s,l,d,f)=>s<l?s:s>d?d:s===l?l-1:Math.max(l,s-f),V2=(s,l,d,f)=>s>d?s:s<l?l:s===d?d+1:Math.min(d,s+f),$N=(s,l,d)=>Math.max(l,Math.min(d,s)),VN=s=>{const{min:l,max:d,range:f,value:b,step:v,snap:C,snapStart:k,rounded:E,hasMinEdge:N,hasMaxEdge:$,minBound:B,maxBound:U,screenRange:J}=s,se=N?l-1:l,pe=$?d+1:d;if(b<B)return se;if(b>U)return pe;{const ye=((ve,be,ke)=>Math.min(ke,Math.max(ve,be))-be)(b,B,U),Re=$N(ye/J*f+l,se,pe);return C&&Re>=l&&Re<=d?((ve,be,ke,Ie,Le)=>Le.fold(()=>{const Qe=ve-be,ht=Math.round(Qe/Ie)*Ie;return $N(be+ht,be-1,ke+1)},Qe=>{const ht=(ve-Qe)%Ie,zt=Math.round(ht/Ie),Bt=Math.floor((ve-Qe)/Ie),Pt=Math.floor((ke-Qe)/Ie),sn=Qe+Math.min(Pt,Bt+zt)*Ie;return Math.max(Qe,sn)}))(Re,l,d,v,k):E?Math.round(Re):Re}},$_=s=>{const{min:l,max:d,range:f,value:b,hasMinEdge:v,hasMaxEdge:C,maxBound:k,maxOffset:E,centerMinEdge:N,centerMaxEdge:$}=s;return b<l?v?0:N:b>d?C?k:$:(b-l)/f*E},h3="top",zN="right",HN="bottom",p3="left",Ah=s=>s.element.dom.getBoundingClientRect(),Em=(s,l)=>s[l],V_=s=>{const l=Ah(s);return Em(l,p3)},UN=s=>{const l=Ah(s);return Em(l,zN)},z_=s=>{const l=Ah(s);return Em(l,h3)},WN=s=>{const l=Ah(s);return Em(l,HN)},KN=s=>{const l=Ah(s);return Em(l,"width")},jN=s=>{const l=Ah(s);return Em(l,"height")},H_=(s,l,d)=>(s+l)/2-d,ZN=(s,l)=>{const d=Ah(s),f=Ah(l),b=Em(d,p3),v=Em(d,zN),C=Em(f,p3);return H_(b,v,C)},GN=(s,l)=>{const d=Ah(s),f=Ah(l),b=Em(d,h3),v=Em(d,HN),C=Em(f,h3);return H_(b,v,C)},U_=(s,l)=>{Xn(s,$2(),{value:l})},W_=(s,l,d)=>{const f={min:e1(l),max:Wp(l),range:L_(l),value:d,step:nx(l),snap:d3(l),snapStart:f3(l),rounded:B_(l),hasMinEdge:m3(l),hasMaxEdge:BN(l),minBound:V_(s),maxBound:UN(s),screenRange:KN(s)};return VN(f)},qN=s=>(l,d,f)=>((b,v,C,k)=>{const E=(b>0?V2:g3)(Kp(C),e1(C),Wp(C),nx(C,k));return U_(v,E),I.some(E)})(s,l,d,f).map(Ne),b3=(s,l,d,f,b,v)=>{const C=((k,E,N,$,B)=>{const U=KN(k),J=$.bind(ye=>I.some(ZN(ye,k))).getOr(0),se=B.bind(ye=>I.some(ZN(ye,k))).getOr(U),pe={min:e1(E),max:Wp(E),range:L_(E),value:N,hasMinEdge:m3(E),hasMaxEdge:BN(E),minBound:V_(k),maxBound:UN(k),maxOffset:U,centerMinEdge:J,centerMaxEdge:se};return $_(pe)})(l,v,d,f,b);return V_(l)-V_(s)+C},p$=qN(-1),b$=qN(1),v$=I.none,y$=I.none,v3={"top-left":I.none(),top:I.none(),"top-right":I.none(),right:I.some((s,l)=>{Pd(s,P_(l))}),"bottom-right":I.none(),bottom:I.none(),"bottom-left":I.none(),left:I.some((s,l)=>{Pd(s,I_(l))})};var x$=Object.freeze({__proto__:null,setValueFrom:(s,l,d)=>{const f=W_(s,l,d);return U_(s,f),f},setToMin:(s,l)=>{const d=e1(l);U_(s,d)},setToMax:(s,l)=>{const d=Wp(l);U_(s,d)},findValueOfOffset:W_,getValueFromEvent:s=>l3(s).map(l=>l.left),findPositionOfValue:b3,setPositionFromValue:(s,l,d,f)=>{const b=Kp(d),v=b3(s,f.getSpectrum(s),b,f.getLeftEdge(s),f.getRightEdge(s),d),C=Wi(l.element)/2;_o(l.element,"left",v-C+"px")},onLeft:p$,onRight:b$,onUp:v$,onDown:y$,edgeActions:v3});const K_=(s,l)=>{Xn(s,$2(),{value:l})},y3=(s,l,d)=>{const f={min:sv(l),max:Af(l),range:c3(l),value:d,step:nx(l),snap:d3(l),snapStart:f3(l),rounded:B_(l),hasMinEdge:ox(l),hasMaxEdge:FN(l),minBound:z_(s),maxBound:WN(s),screenRange:jN(s)};return VN(f)},YN=s=>(l,d,f)=>((b,v,C,k)=>{const E=(b>0?V2:g3)(Kp(C),sv(C),Af(C),nx(C,k));return K_(v,E),I.some(E)})(s,l,d,f).map(Ne),x3=(s,l,d,f,b,v)=>{const C=((k,E,N,$,B)=>{const U=jN(k),J=$.bind(ye=>I.some(GN(ye,k))).getOr(0),se=B.bind(ye=>I.some(GN(ye,k))).getOr(U),pe={min:sv(E),max:Af(E),range:c3(E),value:N,hasMinEdge:ox(E),hasMaxEdge:FN(E),minBound:z_(k),maxBound:WN(k),maxOffset:U,centerMinEdge:J,centerMaxEdge:se};return $_(pe)})(l,v,d,f,b);return z_(l)-z_(s)+C},w$=I.none,C$=I.none,S$=YN(-1),_$=YN(1),k$={"top-left":I.none(),top:I.some((s,l)=>{Pd(s,D_(l))}),"top-right":I.none(),right:I.none(),"bottom-right":I.none(),bottom:I.some((s,l)=>{Pd(s,N_(l))}),"bottom-left":I.none(),left:I.none()};var E$=Object.freeze({__proto__:null,setValueFrom:(s,l,d)=>{const f=y3(s,l,d);return K_(s,f),f},setToMin:(s,l)=>{const d=sv(l);K_(s,d)},setToMax:(s,l)=>{const d=Af(l);K_(s,d)},findValueOfOffset:y3,getValueFromEvent:s=>l3(s).map(l=>l.top),findPositionOfValue:x3,setPositionFromValue:(s,l,d,f)=>{const b=Kp(d),v=x3(s,f.getSpectrum(s),b,f.getTopEdge(s),f.getBottomEdge(s),d),C=Rr(l.element)/2;_o(l.element,"top",v-C+"px")},onLeft:w$,onRight:C$,onUp:S$,onDown:_$,edgeActions:k$});const j_=(s,l)=>{Xn(s,$2(),{value:l})},Z_=(s,l)=>({x:s,y:l}),t1=(s,l)=>(d,f,b)=>((v,C,k,E,N)=>{const $=v>0?V2:g3,B=C?Kp(E).x:$(Kp(E).x,e1(E),Wp(E),nx(E,N)),U=C?$(Kp(E).y,sv(E),Af(E),nx(E,N)):Kp(E).y;return j_(k,Z_(B,U)),I.some(B)})(s,l,d,f,b).map(Ne),T$=t1(-1,!1),w3=t1(1,!1),A$=t1(-1,!0),O$=t1(1,!0),R$={"top-left":I.some((s,l)=>{Pd(s,Th(I_(l),D_(l)))}),top:I.some((s,l)=>{Pd(s,Th(LN(l),D_(l)))}),"top-right":I.some((s,l)=>{Pd(s,Th(P_(l),D_(l)))}),right:I.some((s,l)=>{Pd(s,Th(P_(l),u3(l)))}),"bottom-right":I.some((s,l)=>{Pd(s,Th(P_(l),N_(l)))}),bottom:I.some((s,l)=>{Pd(s,Th(LN(l),N_(l)))}),"bottom-left":I.some((s,l)=>{Pd(s,Th(I_(l),N_(l)))}),left:I.some((s,l)=>{Pd(s,Th(I_(l),u3(l)))})};var XN=Object.freeze({__proto__:null,setValueFrom:(s,l,d)=>{const f=W_(s,l,d.left),b=y3(s,l,d.top),v=Z_(f,b);return j_(s,v),v},setToMin:(s,l)=>{const d=e1(l),f=sv(l);j_(s,Z_(d,f))},setToMax:(s,l)=>{const d=Wp(l),f=Af(l);j_(s,Z_(d,f))},getValueFromEvent:s=>l3(s),setPositionFromValue:(s,l,d,f)=>{const b=Kp(d),v=b3(s,f.getSpectrum(s),b.x,f.getLeftEdge(s),f.getRightEdge(s),d),C=x3(s,f.getSpectrum(s),b.y,f.getTopEdge(s),f.getBottomEdge(s),d),k=Wi(l.element)/2,E=Rr(l.element)/2;_o(l.element,"left",v-k+"px"),_o(l.element,"top",C-E+"px")},onLeft:T$,onRight:w3,onUp:A$,onDown:O$,edgeActions:R$});const Tm=Ec({name:"Slider",configFields:[vt("stepSize",1),vt("speedMultiplier",10),vt("onChange",W),vt("onChoose",W),vt("onInit",W),vt("onDragStart",W),vt("onDragEnd",W),vt("snapToGrid",!1),vt("rounded",!0),ds("snapStart"),Bi("model",Ti("mode",{x:[vt("minX",0),vt("maxX",100),ji("value",s=>Wn(s.mode.minX)),Ht("getInitialValue"),pr("manager",x$)],y:[vt("minY",0),vt("maxY",100),ji("value",s=>Wn(s.mode.minY)),Ht("getInitialValue"),pr("manager",E$)],xy:[vt("minX",0),vt("maxX",100),vt("minY",0),vt("maxY",100),ji("value",s=>Wn({x:s.mode.minX,y:s.mode.minY})),Ht("getInitialValue"),pr("manager",XN)]})),Mn("sliderBehaviours",[eo,St]),ji("mouseIsDown",()=>Wn(!1))],partFields:h$,factory:(s,l,d,f)=>{const b=ve=>Np(ve,s,"thumb"),v=ve=>Np(ve,s,"spectrum"),C=ve=>vr(ve,s,"left-edge"),k=ve=>vr(ve,s,"right-edge"),E=ve=>vr(ve,s,"top-edge"),N=ve=>vr(ve,s,"bottom-edge"),$=s.model,B=$.manager,U=(ve,be)=>{B.setPositionFromValue(ve,be,s,{getLeftEdge:C,getRightEdge:k,getTopEdge:E,getBottomEdge:N,getSpectrum:v})},J=(ve,be)=>{$.value.set(be);const ke=b(ve);U(ve,ke)},se=ve=>{const be=s.mouseIsDown.get();s.mouseIsDown.set(!1),be&&vr(ve,s,"thumb").each(ke=>{const Ie=$.value.get();s.onChoose(ve,ke,Ie)})},pe=(ve,be)=>{be.stop(),s.mouseIsDown.set(!0),s.onDragStart(ve,b(ve))},ye=(ve,be)=>{be.stop(),s.onDragEnd(ve,b(ve)),se(ve)},Re=ve=>{vr(ve,s,"spectrum").map(eo.focusIn)};return{uid:s.uid,dom:s.dom,components:l,behaviours:zo(s.sliderBehaviours,[eo.config({mode:"special",focusIn:Re}),St.config({store:{mode:"manual",getValue:ve=>$.value.get(),setValue:J}}),mc.config({channels:{[q()]:{onReceive:se}}})]),events:To([Lt($2(),(ve,be)=>{((ke,Ie)=>{J(ke,Ie);const Le=b(ke);s.onChange(ke,Le,Ie)})(ve,be.event.value)}),hr((ve,be)=>{const ke=$.getInitialValue();$.value.set(ke);const Ie=b(ve);U(ve,Ie);const Le=v(ve);s.onInit(ve,Ie,Le,$.value.get())}),Lt(Y(),pe),Lt(We(),ye),Lt(Ut(),(ve,be)=>{Re(ve),pe(ve,be)}),Lt(ko(),ye)]),apis:{resetToMin:ve=>{B.setToMin(ve,s)},resetToMax:ve=>{B.setToMax(ve,s)},setValue:J,refresh:U},domModification:{styles:{position:"relative"}}}},apis:{setValue:(s,l,d)=>{s.setValue(l,d)},resetToMin:(s,l)=>{s.resetToMin(l)},resetToMax:(s,l)=>{s.resetToMax(l)},refresh:(s,l)=>{s.refresh(l)}}}),z2=Nn("rgb-hex-update"),G_=Nn("slider-update"),C3=Nn("palette-update"),q_="form",Y_=[Mn("formBehaviours",[St])],S3=s=>"<alloy.field."+s+">",Oh=(s,l)=>({uid:s.uid,dom:s.dom,components:l,behaviours:zo(s.formBehaviours,[St.config({store:{mode:"manual",getValue:d=>{const f=mT(d,s);return co(f,(b,v)=>b().bind(C=>{return k=Os.getCurrent(C),E=new Error(`Cannot find a current component to extract the value from for form part '${v}': `+gm(C.element)),k.fold(()=>ss.error(E),ss.value);var k,E}).map(St.getValue))},setValue:(d,f)=>{no(f,(b,v)=>{vr(d,s,v).each(C=>{Os.getCurrent(C).each(k=>{St.setValue(k,b)})})})}}})]),apis:{getField:(d,f)=>vr(d,s,f).bind(Os.getCurrent)}}),rv={getField:ry((s,l,d)=>s.getField(l,d)),sketch:s=>{const l=(()=>{const v=[];return{field:(C,k)=>(v.push(C),uT(q_,S3(C),k)),record:j(v)}})(),d=s(l),f=l.record(),b=Ve(f,v=>hc({name:v,pname:S3(v)}));return Bw(q_,Y_,b,Oh,d)}},JN=Nn("valid-input"),QN=Nn("invalid-input"),e5=Nn("validating-input"),_3="colorcustom.rgb.",H2={isEnabled:Ne,setEnabled:W,immediatelyShow:W,immediatelyHide:W},I$=(s,l,d,f,b,v)=>{const C=(J,se)=>{const pe=se.get();J!==pe.isEnabled()&&(pe.setEnabled(J),J?pe.immediatelyShow():pe.immediatelyHide())},k=(J,se,pe)=>Eh.config({invalidClass:l("invalid"),notify:{onValidate:ye=>{Xn(ye,e5,{type:J})},onValid:ye=>{C(!1,pe),Xn(ye,JN,{type:J,value:St.getValue(ye)})},onInvalid:ye=>{C(!0,pe),Xn(ye,QN,{type:J,value:St.getValue(ye)})}},validator:{validate:ye=>{const Re=St.getValue(ye),ve=se(Re)?ss.value(!0):ss.error(s("aria.input.invalid"));return kh(ve)},validateOnLoad:!1}}),E=(J,se,pe,ye,Re)=>{const ve=Wn(H2),be=s(_3+"range"),ke=Ys.parts.label({dom:{tag:"label",attributes:{"aria-label":ye}},components:[ui(pe)]}),Ie=Ys.parts.field({data:Re,factory:$p,inputAttributes:{type:"text",...se==="hex"?{"aria-live":"polite"}:{}},inputClasses:[l("textfield")],inputBehaviours:an([k(se,J,ve),mr.config({}),Ii.config({...b({tooltipText:"",onSetup:Pt=>{ve.set({isEnabled:()=>Ii.isEnabled(Pt),setEnabled:sn=>Ii.setEnabled(Pt,sn),immediatelyShow:()=>Ii.immediateOpenClose(Pt,!0),immediatelyHide:()=>Ii.immediateOpenClose(Pt,!1)}),Ii.setEnabled(Pt,!1)},onShow:(Pt,sn)=>{Ii.setComponents(Pt,[{dom:{tag:"p",classes:[l("rgb-warning-note")]},components:[ui(s(se==="hex"?"colorcustom.rgb.invalidHex":"colorcustom.rgb.invalid"))]}])}})})]),onSetValue:Pt=>{Eh.isInvalid(Pt)&&Eh.run(Pt).get(W)}}),Le=Nn("aria-invalid"),Qe=Ks(v("invalid",I.some(Le),"warning")),ht=[ke,Ie,Ks({dom:{tag:"div",classes:[l("invalid-icon")]},components:[Qe.asSpec()]}).asSpec()],zt=se!=="hex"?[Ys.parts["aria-descriptor"]({text:be})]:[],Bt=ht.concat(zt);return{dom:{tag:"div",attributes:{role:"presentation"},classes:[l("rgb-container")]},components:Bt}},N=(J,se)=>{const pe=se.red,ye=se.green,Re=se.blue;St.setValue(J,{red:pe,green:ye,blue:Re})},$=Ks({dom:{tag:"div",classes:[l("rgba-preview")],styles:{"background-color":"white"},attributes:{role:"presentation"}}}),B=(J,se)=>{$.getOpt(J).each(pe=>{_o(pe.element,"background-color","#"+se.value)})};return Ad({factory:()=>{const J={red:Wn(I.some(255)),green:Wn(I.some(255)),blue:Wn(I.some(255)),hex:Wn(I.some("ffffff"))},se=ht=>J[ht].get(),pe=(ht,zt)=>{J[ht].set(zt)},ye=ht=>{const zt=ht.red,Bt=ht.green,Pt=ht.blue;pe("red",I.some(zt)),pe("green",I.some(Bt)),pe("blue",I.some(Pt))},Re=(ht,zt)=>{const Bt=zt.event;Bt.type!=="hex"?pe(Bt.type,I.none()):f(ht)},ve=(ht,zt)=>{const Bt=zt.event;(Pt=>Pt.type==="hex")(Bt)?((Pt,sn)=>{d(Pt);const In=EA(sn);pe("hex",I.some(In.value));const Kn=_m(In);N(Pt,Kn),ye(Kn),Xn(Pt,z2,{hex:In}),B(Pt,In)})(ht,Bt.value):((Pt,sn,In)=>{const Kn=parseInt(In,10);pe(sn,I.some(Kn)),se("red").bind(ro=>se("green").bind(Ro=>se("blue").map(as=>Hp(ro,Ro,as,1)))).each(ro=>{const Ro=((as,kr)=>{const Br=O2(kr);return rv.getField(as,"hex").each(Zo=>{Eo.isFocused(Zo)||St.setValue(as,{hex:Br.value})}),Br})(Pt,ro);Xn(Pt,z2,{hex:Ro}),B(Pt,Ro)})})(ht,Bt.type,Bt.value)},be=ht=>({label:s(_3+ht+".label"),description:s(_3+ht+".description")}),ke=be("red"),Ie=be("green"),Le=be("blue"),Qe=be("hex");return qs(rv.sketch(ht=>({dom:{tag:"form",classes:[l("rgb-form")],attributes:{"aria-label":s("aria.color.picker")}},components:[ht.field("red",Ys.sketch(E(R2,"red",ke.label,ke.description,255))),ht.field("green",Ys.sketch(E(R2,"green",Ie.label,Ie.description,255))),ht.field("blue",Ys.sketch(E(R2,"blue",Le.label,Le.description,255))),ht.field("hex",Ys.sketch(E(qP,"hex",Qe.label,Qe.description,"ffffff"))),$.asSpec()],formBehaviours:an([Eh.config({invalidClass:l("form-invalid")}),jo("rgb-form-events",[Lt(JN,ve),Lt(QN,Re),Lt(e5,Re)])])})),{apis:{updateHex:(ht,zt)=>{St.setValue(ht,{hex:zt.value}),((Bt,Pt)=>{const sn=_m(Pt);N(Bt,sn),ye(sn)})(ht,zt),B(ht,zt)}}})},name:"RgbForm",configFields:[],apis:{updateHex:(J,se,pe)=>{J.updateHex(se,pe)}},extraApis:{}})},t5=(s,l,d,f)=>Ad({name:"ColourPicker",configFields:[Ht("dom"),vt("onValidHex",W),vt("onInvalidHex",W)],factory:v=>{const C=I$(s,l,v.onValidHex,v.onInvalidHex,d,f),k=((Re,ve)=>{const be=Tm.parts.spectrum({dom:{tag:"canvas",attributes:{role:"presentation"},classes:[ve("sv-palette-spectrum")]}}),ke=Tm.parts.thumb({dom:{tag:"div",attributes:{role:"presentation"},classes:[ve("sv-palette-thumb")],innerHtml:`<div class=${ve("sv-palette-inner-thumb")} role="presentation"></div>`}}),Ie=(Le,Qe)=>{const{width:ht,height:zt}=Le,Bt=Le.getContext("2d");if(Bt===null)return;Bt.fillStyle=Qe,Bt.fillRect(0,0,ht,zt);const Pt=Bt.createLinearGradient(0,0,ht,0);Pt.addColorStop(0,"rgba(255,255,255,1)"),Pt.addColorStop(1,"rgba(255,255,255,0)"),Bt.fillStyle=Pt,Bt.fillRect(0,0,ht,zt);const sn=Bt.createLinearGradient(0,0,0,zt);sn.addColorStop(0,"rgba(0,0,0,0)"),sn.addColorStop(1,"rgba(0,0,0,1)"),Bt.fillStyle=sn,Bt.fillRect(0,0,ht,zt)};return Ad({factory:Le=>{const Qe=j({x:0,y:0}),ht=an([Os.config({find:I.some}),Eo.config({})]);return Tm.sketch({dom:{tag:"div",attributes:{role:"slider","aria-valuetext":Re(["Saturation {0}%, Brightness {1}%",0,0])},classes:[ve("sv-palette")]},model:{mode:"xy",getInitialValue:Qe},rounded:!1,components:[be,ke],onChange:(zt,Bt,Pt)=>{te(Pt)||xn(zt.element,"aria-valuetext",Re(["Saturation {0}%, Brightness {1}%",Math.floor(Pt.x),Math.floor(100-Pt.y)])),Xn(zt,C3,{value:Pt})},onInit:(zt,Bt,Pt,sn)=>{Ie(Pt.element.dom,QP(eN))},sliderBehaviours:ht})},name:"SaturationBrightnessPalette",configFields:[],apis:{setHue:(Le,Qe,ht)=>{((zt,Bt)=>{const Pt=zt.components()[0].element.dom,sn=Jy(Bt,100,100),In=JP(sn);Ie(Pt,QP(In))})(Qe,ht)},setThumb:(Le,Qe,ht)=>{((zt,Bt)=>{const Pt=b_(_m(Bt));Tm.setValue(zt,{x:Pt.saturation,y:100-Pt.value}),xn(zt.element,"aria-valuetext",Re(["Saturation {0}%, Brightness {1}%",Pt.saturation,Pt.value]))})(Qe,ht)}},extraApis:{}})})(s,l),E={paletteRgba:Wn(eN),paletteHue:Wn(0)},N=Ks(((Re,ve)=>{const be=Tm.parts.spectrum({dom:{tag:"div",classes:[ve("hue-slider-spectrum")],attributes:{role:"presentation"}}}),ke=Tm.parts.thumb({dom:{tag:"div",classes:[ve("hue-slider-thumb")],attributes:{role:"presentation"}}});return Tm.sketch({dom:{tag:"div",classes:[ve("hue-slider")],attributes:{role:"slider","aria-valuemin":0,"aria-valuemax":360,"aria-valuenow":120}},rounded:!1,model:{mode:"y",getInitialValue:j(0)},components:[be,ke],sliderBehaviours:an([Eo.config({})]),onChange:(Ie,Le,Qe)=>{xn(Ie.element,"aria-valuenow",Math.floor(360-3.6*Qe)),Xn(Ie,G_,{value:Qe})}})})(0,l)),$=Ks(k.sketch({})),B=Ks(C.sketch({})),U=(Re,ve,be)=>{$.getOpt(Re).each(ke=>{k.setHue(ke,be)})},J=(Re,ve)=>{B.getOpt(Re).each(be=>{C.updateHex(be,ve)})},se=(Re,ve,be)=>{N.getOpt(Re).each(ke=>{Tm.setValue(ke,(Ie=>100-Ie/360*100)(be))})},pe=(Re,ve)=>{$.getOpt(Re).each(be=>{k.setThumb(be,ve)})},ye=(Re,ve,be,ke)=>{((Ie,Le)=>{const Qe=_m(Ie);E.paletteRgba.set(Qe),E.paletteHue.set(Le)})(ve,be),bt(ke,Ie=>{Ie(Re,ve,be)})};return{uid:v.uid,dom:v.dom,components:[$.asSpec(),N.asSpec(),B.asSpec()],behaviours:an([jo("colour-picker-events",[Lt(z2,(()=>{const Re=[U,se,pe];return(ve,be)=>{const ke=be.event.hex,Ie=(Le=>b_(_m(Le)))(ke);ye(ve,ke,Ie.hue,Re)}})()),Lt(C3,(()=>{const Re=[J];return(ve,be)=>{const ke=be.event.value,Ie=E.paletteHue.get(),Le=Jy(Ie,ke.x,100-ke.y),Qe=v_(Le);ye(ve,Qe,Ie,Re)}})()),Lt(G_,(()=>{const Re=[U,J];return(ve,be)=>{const ke=(zt=>(100-zt)/100*360)(be.event.value),Ie=E.paletteRgba.get(),Le=b_(Ie),Qe=Jy(ke,Le.saturation,Le.value),ht=v_(Qe);ye(ve,ht,ke,Re)}})())]),Os.config({find:Re=>B.getOpt(Re)}),eo.config({mode:"acyclic"})])}}}),Rh=()=>Os.config({find:I.some}),k3=s=>Os.config({find:l=>wr(l.element,s).bind(d=>l.getSystem().getByDom(d).toOptional())}),E3=oo([vt("preprocess",me),vt("postprocess",me)]),T3=(s,l)=>{const d=Na("RepresentingConfigs.memento processors",E3,l);return St.config({store:{mode:"manual",getValue:f=>{const b=s.get(f),v=St.getValue(b);return d.postprocess(v)},setValue:(f,b)=>{const v=d.preprocess(b),C=s.get(f);St.setValue(C,v)}}})},n1=(s,l,d)=>St.config({store:{mode:"manual",...s.map(f=>({initialValue:f})).getOr({}),getValue:l,setValue:d}}),A3=(s,l,d)=>n1(s,f=>l(f.element),(f,b)=>d(f.element,b)),U2=s=>St.config({store:{mode:"memory",initialValue:s}}),D$={"colorcustom.rgb.red.label":"R","colorcustom.rgb.red.description":"Red component","colorcustom.rgb.green.label":"G","colorcustom.rgb.green.description":"Green component","colorcustom.rgb.blue.label":"B","colorcustom.rgb.blue.description":"Blue component","colorcustom.rgb.hex.label":"#","colorcustom.rgb.hex.description":"Hex color code","colorcustom.rgb.range":"Range 0 to 255","colorcustom.rgb.invalid":"Numbers only, 0 to 255","colorcustom.rgb.invalidHex":"Hexadecimal only, 000000 to FFFFFF","aria.color.picker":"Color Picker","aria.input.invalid":"Invalid input"};var n5=tinymce.util.Tools.resolve("tinymce.Resource");const O3=s=>uo(s,"init");var jp=tinymce.util.Tools.resolve("tinymce.util.Tools");const R3=(s,l)=>{let d=null;const f=()=>{P(d)||(clearTimeout(d),d=null)};return{cancel:f,throttle:(...b)=>{f(),d=setTimeout(()=>{d=null,s.apply(null,b)},l)}}},I3=Nn("alloy-fake-before-tabstop"),D3=Nn("alloy-fake-after-tabstop"),o5=s=>({dom:{tag:"div",styles:{width:"1px",height:"1px",outline:"none"},attributes:{tabindex:"0"},classes:s},behaviours:an([Eo.config({ignore:!0}),mr.config({})])}),P3=(s,l)=>({dom:{tag:"div",classes:["tox-navobj",...s.getOr([])]},components:[o5([I3]),l,o5([D3])],behaviours:an([k3(1)])}),N3=(s,l)=>{Xn(s,Pr(),{raw:{which:9,shiftKey:l}})},P$=(s,l)=>{const d=l.element;es(d,I3)?N3(s,!0):es(d,D3)&&N3(s,!1)},sx=s=>tx(s,["."+I3,"."+D3].join(","),Me),iv=Nn("update-dialog"),M3=Nn("update-title"),s5=Nn("update-body"),r5=Nn("update-footer"),L3=Nn("body-send-message"),X_=Nn("dialog-focus-shifted"),B3=Ki().browser,rx=B3.isSafari(),i5=B3.isFirefox(),F3=rx||i5,a5=B3.isChromium(),N$=({scrollTop:s,scrollHeight:l,clientHeight:d})=>Math.ceil(s)+d>=l,l5=(s,l)=>s.scrollTo(0,l==="bottom"?99999999:l),$3=(s,l,d)=>{const f=s.dom;I.from(f.contentDocument).fold(d,b=>{let v=0;const C=((E,N)=>{const $=E.body;return I.from(!/^<!DOCTYPE (html|HTML)/.test(N)&&(!a5&&!rx||K($)&&($.scrollTop!==0||Math.abs($.scrollHeight-$.clientHeight)>1))?$:E.documentElement)})(b,l).map(E=>(v=E.scrollTop,E)).forall(N$),k=()=>{const E=f.contentWindow;K(E)&&(C?l5(E,"bottom"):!C&&F3&&v!==0&&l5(E,v))};rx&&f.addEventListener("load",k,{once:!0}),b.open(),b.write(l),b.close(),rx||k()})},V3=qo(F3,rx?500:200).map(s=>((l,d)=>{let f=null,b=null;return{cancel:()=>{P(f)||(clearTimeout(f),f=null,b=null)},throttle:(...v)=>{b=v,P(f)&&(f=setTimeout(()=>{const C=b;f=null,b=null,l.apply(null,C)},d))}}})($3,s)),J_=Nn("toolbar.button.execute"),av=Nn("common-button-display-events"),z3={[yl()]:["disabling","alloy.base.behaviour","toggling","toolbar-button-events","tooltipping"],[ba()]:["toolbar-button-events",av],[Wc()]:["toolbar-button-events","dropdown-events","tooltipping"],[Ut()]:["focusing","alloy.base.behaviour",av]},Q_=s=>_o(s.element,"width",Or(s.element,"width")),c5=(s,l,d)=>id(s,{tag:"span",classes:["tox-icon","tox-tbtn__icon-wrap"],behaviours:d},l),W2=(s,l)=>c5(s,l,[]),lv=(s,l)=>c5(s,l,[go.config({})]),H3=(s,l,d)=>({dom:{tag:"span",classes:[`${l}__select-label`]},components:[ui(d.translate(s))],behaviours:an([go.config({})])}),Nd=Nn("update-menu-text"),Of=Nn("update-menu-icon"),U3=(s,l,d,f)=>{const b=Wn(W),v=s.text.map(pe=>Ks(H3(pe,l,d.providers))),C=s.icon.map(pe=>Ks(lv(pe,d.providers.icons))),k=(pe,ye)=>{const Re=St.getValue(pe);return Eo.focus(Re),Xn(Re,"keydown",{raw:ye.event.raw}),pc.close(Re),I.some(!0)},E=s.role.fold(()=>({}),pe=>({role:pe})),N=I.from(s.listRole).map(pe=>({listRole:pe})).getOr({}),$=s.ariaLabel.fold(()=>({}),pe=>({"aria-label":d.providers.translate(pe)})),B=id("chevron-down",{tag:"div",classes:[`${l}__select-chevron`]},d.providers.icons),U=Nn("common-button-display-events"),J="dropdown-events";return Ks(pc.sketch({...s.uid?{uid:s.uid}:{},...E,...N,dom:{tag:"button",classes:[l,`${l}--select`].concat(Ve(s.classes,pe=>`${l}--${pe}`)),attributes:{...$,...K(f)?{"data-mce-name":f}:{}}},components:Zy([C.map(pe=>pe.asSpec()),v.map(pe=>pe.asSpec()),I.some(B)]),matchWidth:!0,useMinWidth:!0,onOpen:(pe,ye,Re)=>{s.searchable&&(ve=>{wP(ve).each(be=>Eo.focus(be))})(Re)},dropdownBehaviours:an([...s.dropdownBehaviours,Sl(()=>s.disabled||d.providers.isDisabled()),va(),Q0.config({}),go.config({}),...s.tooltip.map(pe=>Ii.config(d.providers.tooltips.getConfig({tooltipText:d.providers.translate(pe)}))).toArray(),jo(J,[Jb(s,b),Vp(s,b)]),jo(U,[hr((pe,ye)=>s.listRole==="listbox"?W:Q_(pe))]),jo("menubutton-update-display-text",[Lt(Nd,(pe,ye)=>{v.bind(Re=>Re.getOpt(pe)).each(Re=>{go.set(Re,[ui(d.providers.translate(ye.event.text))])})}),Lt(Of,(pe,ye)=>{C.bind(Re=>Re.getOpt(pe)).each(Re=>{go.set(Re,[lv(ye.event.icon,d.providers.icons)])})})])]),eventOrder:qs(z3,{[Ut()]:["focusing","alloy.base.behaviour","item-type-events","normal-dropdown-events"],[ba()]:["toolbar-button-events",Ii.name(),J,U]}),sandboxBehaviours:an([eo.config({mode:"special",onLeft:k,onRight:k}),jo("dropdown-sandbox-events",[Lt(vP,(pe,ye)=>{(Re=>{const ve=St.getValue(Re),be=x2(Re).map(CP);pc.refetch(ve).get(()=>{const ke=di.getCoupled(ve,"sandbox");be.each(Ie=>x2(ke).each(Le=>((Qe,ht)=>{St.setValue(Qe,ht.fetchPattern),Qe.element.dom.selectionStart=ht.selectionStart,Qe.element.dom.selectionEnd=ht.selectionEnd})(Le,Ie)))})})(pe),ye.stop()}),Lt(yP,(pe,ye)=>{((Re,ve)=>{(be=>O.getState(be).bind(Gs.getHighlighted).bind(Gs.getHighlighted))(Re).each(be=>{((ke,Ie,Le,Qe)=>{const ht={...Qe,target:Ie};ke.getSystem().triggerEvent(Le,Ie,ht)})(Re,be.element,ve.event.eventType,ve.event.interactionEvent)})})(pe,ye),ye.stop()})])]),lazySink:d.getSink,toggleClass:`${l}--active`,parts:{menu:{...s_(0,s.columns,s.presets),fakeFocus:s.searchable,...s.listRole==="listbox"?{}:{onHighlightItem:CN,onCollapseMenu:(pe,ye,Re)=>{Gs.getHighlighted(Re).each(ve=>{CN(pe,Re,ve)})},onDehighlightItem:n$}}},getAnchorOverrides:()=>({maxHeightFunction:(pe,ye)=>{uh()(pe,ye-10)}}),fetch:pe=>Qb(Ce(s.fetch,pe))})).asSpec()},ek=s=>s.type==="separator",tk={type:"separator"},u5=(s,l)=>{const d=((f,b)=>{const v=Qt(f,(C,k)=>(E=>h(E))(k)?k===""?C:k==="|"?C.length>0&&!ek(C[C.length-1])?C.concat([tk]):C:uo(b,k.toLowerCase())?C.concat([b[k.toLowerCase()]]):C:C.concat([k]),[]);return v.length>0&&ek(v[v.length-1])&&v.pop(),v})(h(s)?s.split(" "):s,l);return Bn(d,(f,b)=>{if((v=>uo(v,"getSubmenuItems"))(b)){const v=(k=>{const E=cn(k,"value").getOrThunk(()=>Nn("generated-menu-item"));return qs({value:E},k)})(b),C=((k,E)=>{const N=k.getSubmenuItems(),$=u5(N,E);return{item:k,menus:qs($.menus,{[k.value]:$.items}),expansions:qs($.expansions,{[k.value]:k.value})}})(v,l);return{menus:qs(f.menus,C.menus),items:[C.item,...f.items],expansions:qs(f.expansions,C.expansions)}}return{...f,items:[b,...f.items]}},{menus:{},expansions:{},items:[]})},o1=(s,l,d,f)=>{const b=Nn("primary-menu"),v=u5(s,d.shared.providers.menuItems());if(v.items.length===0)return I.none();const C=(B=>B.search.fold(()=>({searchMode:"no-search"}),U=>({searchMode:"search-with-field",placeholder:U.placeholder})))(f),k=SN(b,v.items,l,d,f.isHorizontalMenu,C),E=(B=>B.search.fold(()=>({searchMode:"no-search"}),U=>({searchMode:"search-with-results"})))(f),N=co(v.menus,(B,U)=>SN(U,B,l,d,!1,E)),$=qs(N,Ml(b,k));return I.from(Mp.tieredData(b,$,v.expansions))},K2=s=>!uo(s,"items"),W3="data-value",nk=(s,l,d,f,b)=>Ve(d,v=>K2(v)?{type:"togglemenuitem",...b?{}:{role:"option"},text:v.text,value:v.value,active:v.value===f,onAction:()=>{St.setValue(s,v.value),Xn(s,tc,{name:l}),Eo.focus(s)}}:{type:"nestedmenuitem",text:v.text,getSubmenuItems:()=>nk(s,l,v.items,f,b)}),ok=(s,l)=>pn(s,d=>K2(d)?qo(d.value===l,d):ok(d.items,l)),M$=Ad({name:"HtmlSelect",configFields:[Ht("options"),Mn("selectBehaviours",[Eo,St]),vt("selectClasses",[]),vt("selectAttributes",{}),ds("data")],factory:(s,l)=>{const d=Ve(s.options,b=>({dom:{tag:"option",value:b.value,innerHtml:b.text}})),f=s.data.map(b=>Ml("initialValue",b)).getOr({});return{uid:s.uid,dom:{tag:"select",classes:s.selectClasses,attributes:s.selectAttributes},components:d,behaviours:zo(s.selectBehaviours,[Eo.config({}),St.config({store:{mode:"manual",getValue:b=>tg(b.element),setValue:(b,v)=>{const C=Fe(s.options);ee(s.options,k=>k.value===v).isSome()?oh(b.element,v):b.element.dom.selectedIndex===-1&&v===""&&C.each(k=>oh(b.element,k.value))},...f}})])}}}),d5=j([vt("field1Name","field1"),vt("field2Name","field2"),pf("onLockedChange"),vp(["lockClass"]),vt("locked",!1),Ao("coupledFieldBehaviours",[Os,St])]),K3=(s,l)=>hc({factory:Ys,name:s,overrides:d=>({fieldBehaviours:an([jo("coupled-input-behaviour",[Lt(af(),f=>{((b,v,C)=>vr(b,v,C).bind(Os.getCurrent))(f,d,l).each(b=>{vr(f,d,"lock").each(v=>{yo.isOn(v)&&d.onLockedChange(f,b,v)})})})])])})}),f5=j([K3("field1","field2"),K3("field2","field1"),hc({factory:$l,schema:[Ht("dom")],name:"lock",overrides:s=>({buttonBehaviours:an([yo.config({selected:s.locked,toggleClass:s.markers.lockClass,aria:{mode:"pressed"}})])})})]),cd=Ec({name:"FormCoupledInputs",configFields:d5(),partFields:f5(),factory:(s,l,d,f)=>({uid:s.uid,dom:s.dom,components:l,behaviours:bo(s.coupledFieldBehaviours,[Os.config({find:I.some}),St.config({store:{mode:"manual",getValue:b=>{const v=gT(b,s,["field1","field2"]);return{[s.field1Name]:St.getValue(v.field1()),[s.field2Name]:St.getValue(v.field2())}},setValue:(b,v)=>{const C=gT(b,s,["field1","field2"]);$o(v,s.field1Name)&&St.setValue(C.field1(),v[s.field1Name]),$o(v,s.field2Name)&&St.setValue(C.field2(),v[s.field2Name])}}})]),apis:{getField1:b=>vr(b,s,"field1"),getField2:b=>vr(b,s,"field2"),getLock:b=>vr(b,s,"lock")}}),apis:{getField1:(s,l)=>s.getField1(l),getField2:(s,l)=>s.getField2(l),getLock:(s,l)=>s.getLock(l)}}),j3=s=>{const l=/^\s*(\d+(?:\.\d+)?)\s*(|cm|mm|in|px|pt|pc|em|ex|ch|rem|vw|vh|vmin|vmax|%)\s*$/.exec(s);if(l!==null){const d=parseFloat(l[1]),f=l[2];return ss.value({value:d,unit:f})}return ss.error(s)},Z3=(s,l)=>{const d={"":96,px:96,pt:72,cm:2.54,pc:12,mm:25.4,in:1},f=b=>uo(d,b);return s.unit===l?I.some(s.value):f(s.unit)&&f(l)?d[s.unit]===d[l]?I.some(s.value):I.some(s.value/d[s.unit]*d[l]):I.none()},G3=s=>I.none(),m5=(s,l)=>{const d=s.label.map($=>tv($,l)),f=[Oo.config({disabled:()=>s.disabled||l.isDisabled()}),va(),eo.config({mode:"execution",useEnter:s.multiline!==!0,useControlEnter:s.multiline===!0,execute:$=>(Wo($,F2),I.some(!0))}),jo("textfield-change",[Lt(af(),($,B)=>{Xn($,tc,{name:s.name})}),Lt(cp(),($,B)=>{Xn($,tc,{name:s.name})})]),mr.config({})],b=s.validation.map($=>Eh.config({getRoot:B=>Aa(B.element),invalidClass:"tox-invalid",validator:{validate:B=>{const U=St.getValue(B),J=$.validator(U);return kh(J===!0?ss.value(U):ss.error(J))},validateOnLoad:$.validateOnLoad}})).toArray(),v={...s.placeholder.fold(j({}),$=>({placeholder:l.translate($)})),...s.inputMode.fold(j({}),$=>({inputmode:$})),"data-mce-name":s.name},C=Ys.parts.field({tag:s.multiline===!0?"textarea":"input",...s.data.map($=>({data:$})).getOr({}),inputAttributes:v,inputClasses:[s.classname],inputBehaviours:an(nn([f,b])),selectOnFocus:!1,factory:$p}),k=s.multiline?{dom:{tag:"div",classes:["tox-textarea-wrap"]},components:[C]}:C,E=(s.flex?["tox-form__group--stretched"]:[]).concat(s.maximized?["tox-form-group--maximize"]:[]),N=[Oo.config({disabled:()=>s.disabled||l.isDisabled(),onDisabled:$=>{Ys.getField($).each(Oo.disable)},onEnabled:$=>{Ys.getField($).each(Oo.enable)}}),va()];return B2(d,k,E,N)},j2=(s,l)=>l.getAnimationRoot.fold(()=>s.element,d=>d(s)),Zp=s=>s.dimension.property,cv=(s,l)=>s.dimension.getDimension(l),uv=(s,l)=>{const d=j2(s,l);ci(d,[l.shrinkingClass,l.growingClass])},sk=(s,l)=>{Fo(s.element,l.openClass),Vn(s.element,l.closedClass),_o(s.element,Zp(l),"0px"),md(s.element)},q3=(s,l)=>{Fo(s.element,l.closedClass),Vn(s.element,l.openClass),zs(s.element,Zp(l))},g5=(s,l,d,f)=>{d.setCollapsed(),_o(s.element,Zp(l),cv(l,s.element)),uv(s,l),sk(s,l),l.onStartShrink(s),l.onShrunk(s)},L$=(s,l,d,f)=>{const b=f.getOrThunk(()=>cv(l,s.element));d.setCollapsed(),_o(s.element,Zp(l),b),md(s.element);const v=j2(s,l);Fo(v,l.growingClass),Vn(v,l.shrinkingClass),sk(s,l),l.onStartShrink(s)},h5=(s,l,d)=>{const f=cv(l,s.element);(f==="0px"?g5:L$)(s,l,d,I.some(f))},p5=(s,l,d)=>{const f=j2(s,l),b=es(f,l.shrinkingClass),v=cv(l,s.element);q3(s,l);const C=cv(l,s.element);(b?()=>{_o(s.element,Zp(l),v),md(s.element)}:()=>{sk(s,l)})(),Fo(f,l.shrinkingClass),Vn(f,l.growingClass),q3(s,l),_o(s.element,Zp(l),C),d.setExpanded(),l.onStartGrow(s)},Z2=(s,l,d)=>{const f=j2(s,l);return es(f,l.growingClass)===!0},b5=(s,l,d)=>{const f=j2(s,l);return es(f,l.shrinkingClass)===!0};var v5=Object.freeze({__proto__:null,refresh:(s,l,d)=>{if(d.isExpanded()){zs(s.element,Zp(l));const f=cv(l,s.element);_o(s.element,Zp(l),f)}},grow:(s,l,d)=>{d.isExpanded()||p5(s,l,d)},shrink:(s,l,d)=>{d.isExpanded()&&h5(s,l,d)},immediateShrink:(s,l,d)=>{d.isExpanded()&&g5(s,l,d)},hasGrown:(s,l,d)=>d.isExpanded(),hasShrunk:(s,l,d)=>d.isCollapsed(),isGrowing:Z2,isShrinking:b5,isTransitioning:(s,l,d)=>Z2(s,l)||b5(s,l),toggleGrow:(s,l,d)=>{(d.isExpanded()?h5:p5)(s,l,d)},disableTransitions:uv,immediateGrow:(s,l,d)=>{d.isExpanded()||(q3(s,l),_o(s.element,Zp(l),cv(l,s.element)),uv(s,l),d.setExpanded(),l.onStartGrow(s),l.onGrown(s))}}),B$=Object.freeze({__proto__:null,exhibit:(s,l,d)=>{const f=l.expanded;return Nr(f?{classes:[l.openClass],styles:{}}:{classes:[l.closedClass],styles:Ml(l.dimension.property,"0px")})},events:(s,l)=>To([hf(lp(),(d,f)=>{f.event.raw.propertyName===s.dimension.property&&(uv(d,s),l.isExpanded()&&zs(d.element,s.dimension.property),(l.isExpanded()?s.onGrown:s.onShrunk)(d))})])}),y5=[Ht("closedClass"),Ht("openClass"),Ht("shrinkingClass"),Ht("growingClass"),ds("getAnimationRoot"),ks("onShrunk"),ks("onStartShrink"),ks("onGrown"),ks("onStartGrow"),vt("expanded",!1),Bi("dimension",Ti("property",{width:[pr("property","width"),pr("getDimension",s=>Wi(s)+"px")],height:[pr("property","height"),pr("getDimension",s=>Rr(s)+"px")]}))];const Yc=Zi({fields:y5,name:"sliding",active:B$,apis:v5,state:Object.freeze({__proto__:null,init:s=>{const l=Wn(s.expanded);return Ai({isExpanded:()=>l.get()===!0,isCollapsed:()=>l.get()===!1,setCollapsed:Ce(l.set,!1),setExpanded:Ce(l.set,!0),readState:()=>"expanded: "+l.get()})}})}),x5=s=>({isEnabled:()=>!Oo.isDisabled(s),setEnabled:l=>Oo.set(s,!l),setActive:l=>{const d=s.element;l?(Vn(d,"tox-tbtn--enabled"),xn(d,"aria-pressed",!0)):(Fo(d,"tox-tbtn--enabled"),Uo(d,"aria-pressed"))},isActive:()=>es(s.element,"tox-tbtn--enabled"),setText:l=>{Xn(s,Nd,{text:l})},setIcon:l=>Xn(s,Of,{icon:l})}),ix=(s,l,d,f,b=!0,v)=>U3({text:s.text,icon:s.icon,tooltip:s.tooltip,ariaLabel:s.tooltip,searchable:s.search.isSome(),role:f,fetch:(C,k)=>{const E={pattern:s.search.isSome()?J0(C):""};s.fetch(N=>{k(o1(N,xg.CLOSE_ON_EXECUTE,d,{isHorizontalMenu:!1,search:s.search}))},E,x5(C))},onSetup:s.onSetup,getApi:x5,columns:1,presets:"normal",classes:[],dropdownBehaviours:[...b?[mr.config({})]:[]]},l,d.shared,v),w5=(s,l,d)=>{const f=v=>C=>{const k=!C.isActive();C.setActive(k),v.storage.set(k),d.shared.getSink().each(E=>{l().getOpt(E).each(N=>{Ll(N.element),Xn(N,Cg,{name:v.name,value:v.storage.get()})})})},b=v=>C=>{C.setActive(v.storage.get())};return v=>{v(Ve(s,C=>{const k=C.text.fold(()=>({}),E=>({text:E}));return{type:C.type,active:!1,...k,onAction:f(C),onSetup:b(C)}}))}},Y3=s=>({dom:{tag:"span",classes:["tox-tree__label"],attributes:{"aria-label":s}},components:[ui(s)]}),X3=Nn("leaf-label-event-id"),J3=({leaf:s,onLeafAction:l,visible:d,treeId:f,selectedId:b,backstage:v})=>{const C=s.menu.map(E=>ix(E,"tox-mbtn",v,I.none(),d)),k=[Y3(s.title)];return C.each(E=>k.push(E)),$l.sketch({dom:{tag:"div",classes:["tox-tree--leaf__label","tox-trbtn"].concat(d?["tox-tree--leaf__label--visible"]:[])},components:k,role:"treeitem",action:E=>{l(s.id),E.getSystem().broadcastOn([`update-active-item-${f}`],{value:s.id})},eventOrder:{[Pr()]:[X3,"keying"]},buttonBehaviours:an([...d?[mr.config({})]:[],yo.config({toggleClass:"tox-trbtn--enabled",toggleOnExecute:!1,aria:{mode:"selected"}}),mc.config({channels:{[`update-active-item-${f}`]:{onReceive:(E,N)=>{(N.value===s.id?yo.on:yo.off)(E)}}}}),jo(X3,[hr((E,N)=>{b.each($=>{($===s.id?yo.on:yo.off)(E)})}),Lt(Pr(),(E,N)=>{const $=N.event.raw.code==="ArrowLeft",B=N.event.raw.code==="ArrowRight";$?(rh(E.element,".tox-tree--directory").each(U=>{E.getSystem().getByDom(U).each(J=>{uy(U,".tox-tree--directory__label").each(se=>{J.getSystem().getByDom(se).each(Eo.focus)})})}),N.stop()):B&&N.stop()})])])})},C5=Nn("directory-label-event-id"),F$=({directory:s,visible:l,noChildren:d,backstage:f})=>{const b=s.menu.map(N=>ix(N,"tox-mbtn",f,I.none())),v=[{dom:{tag:"div",classes:["tox-chevron"]},components:[(C="chevron-right",k=f.shared.providers.icons,((N,$,B)=>id(N,{tag:"span",classes:["tox-tree__icon-wrap","tox-icon"],behaviours:[]},$))(C,k))]},Y3(s.title)];var C,k;b.each(N=>{v.push(N)});const E=N=>{rh(N.element,".tox-tree--directory").each($=>{N.getSystem().getByDom($).each(B=>{const U=!yo.isOn(B);yo.toggle(B),Xn(N,"expand-tree-node",{expanded:U,node:s.id})})})};return $l.sketch({dom:{tag:"div",classes:["tox-tree--directory__label","tox-trbtn"].concat(l?["tox-tree--directory__label--visible"]:[])},components:v,action:E,eventOrder:{[Pr()]:[C5,"keying"]},buttonBehaviours:an([...l?[mr.config({})]:[],jo(C5,[Lt(Pr(),(N,$)=>{const B=$.event.raw.code==="ArrowRight",U=$.event.raw.code==="ArrowLeft";B&&d&&$.stop(),(B||U)&&rh(N.element,".tox-tree--directory").each(J=>{N.getSystem().getByDom(J).each(se=>{!yo.isOn(se)&&B||yo.isOn(se)&&U?(E(N),$.stop()):U&&!yo.isOn(se)&&(rh(se.element,".tox-tree--directory").each(pe=>{uy(pe,".tox-tree--directory__label").each(ye=>{se.getSystem().getByDom(ye).each(Eo.focus)})}),$.stop())})})})])])})},$$=({children:s,onLeafAction:l,visible:d,treeId:f,expandedIds:b,selectedId:v,backstage:C})=>({dom:{tag:"div",classes:["tox-tree--directory__children"]},components:s.map(k=>k.type==="leaf"?J3({leaf:k,selectedId:v,onLeafAction:l,visible:d,treeId:f,backstage:C}):rk({directory:k,expandedIds:b,selectedId:v,onLeafAction:l,labelTabstopping:d,treeId:f,backstage:C})),behaviours:an([Yc.config({dimension:{property:"height"},closedClass:"tox-tree--directory__children--closed",openClass:"tox-tree--directory__children--open",growingClass:"tox-tree--directory__children--growing",shrinkingClass:"tox-tree--directory__children--shrinking",expanded:d}),go.config({})])}),S5=Nn("directory-event-id"),rk=({directory:s,onLeafAction:l,labelTabstopping:d,treeId:f,backstage:b,expandedIds:v,selectedId:C})=>{const{children:k}=s,E=Wn(v),N=v.includes(s.id);return{dom:{tag:"div",classes:["tox-tree--directory"],attributes:{role:"treeitem"}},components:[F$({directory:s,visible:d,noChildren:s.children.length===0,backstage:b}),$$({children:k,expandedIds:v,selectedId:C,onLeafAction:l,visible:N,treeId:f,backstage:b})],behaviours:an([jo(S5,[hr(($,B)=>{yo.set($,N)}),Lt("expand-tree-node",($,B)=>{const{expanded:U,node:J}=B.event;E.set(U?[...E.get(),J]:E.get().filter(se=>se!==J))})]),yo.config({...s.children.length>0?{aria:{mode:"expanded"}}:{},toggleClass:"tox-tree--directory--expanded",onToggled:($,B)=>{const U=$.components()[1],J=(se=B,k.map(pe=>pe.type==="leaf"?J3({leaf:pe,selectedId:C,onLeafAction:l,visible:se,treeId:f,backstage:b}):rk({directory:pe,expandedIds:E.get(),selectedId:C,onLeafAction:l,labelTabstopping:se,treeId:f,backstage:b})));var se;B?Yc.grow(U):Yc.shrink(U),go.set(U,J)}})])}},V$=Nn("tree-event-id");var z$=Object.freeze({__proto__:null,events:(s,l)=>{const d=s.stream.streams.setup(s,l);return To([Lt(s.event,d),Gu(()=>l.cancel())].concat(s.cancelEvent.map(f=>[Lt(f,()=>l.cancel())]).getOr([])))}});const _5=s=>{const l=Wn(null);return Ai({readState:()=>({timer:l.get()!==null?"set":"unset"}),setTimer:d=>{l.set(d)},cancel:()=>{const d=l.get();d!==null&&d.cancel()}})};var H$=Object.freeze({__proto__:null,throttle:_5,init:s=>s.stream.streams.state(s)}),U$=[Bi("stream",Ti("mode",{throttle:[Ht("delay"),vt("stopEvent",!0),pr("streams",{setup:(s,l)=>{const d=s.stream,f=R3(s.onStream,d.delay);return l.setTimer(f),(b,v)=>{f.throttle(b,v),d.stopEvent&&v.stop()}},state:_5})]})),vt("event","input"),ds("cancelEvent"),pf("onStream")];const Q3=Zi({fields:U$,name:"streaming",active:z$,state:H$}),ik=(s,l,d)=>{const f=St.getValue(d);St.setValue(l,f),eO(l)},ak=(s,l)=>{const d=s.element,f=tg(d),b=d.dom;ns(d,"type")!=="number"&&l(b,f)},eO=s=>{ak(s,(l,d)=>l.setSelectionRange(d.length,d.length))},tO=j("alloy.typeahead.itemexecute"),W$=j([ds("lazySink"),Ht("fetch"),vt("minChars",5),vt("responseTime",1e3),ks("onOpen"),vt("getHotspot",I.some),vt("getAnchorOverrides",j({})),vt("layouts",I.none()),vt("eventOrder",{}),ha("model",{},[vt("getDisplayText",s=>s.meta!==void 0&&s.meta.text!==void 0?s.meta.text:s.value),vt("selectsOver",!0),vt("populateFromBrowse",!0)]),ks("onSetValue"),dc("onExecute"),ks("onItemExecute"),vt("inputClasses",[]),vt("inputAttributes",{}),vt("inputStyles",{}),vt("matchWidth",!0),vt("useMinWidth",!1),vt("dismissOnBlur",!0),vp(["openClass"]),ds("initialData"),ds("listRole"),Mn("typeaheadBehaviours",[Eo,St,Q3,eo,yo,di]),ji("lazyTypeaheadComp",()=>Wn(I.none)),ji("previewing",()=>Wn(!0))].concat(E7()).concat(qA())),k5=j([wm({schema:[bp()],name:"menu",overrides:s=>({fakeFocus:!0,onHighlightItem:(l,d,f)=>{s.previewing.get()?s.lazyTypeaheadComp.get().each(b=>{((v,C,k)=>{if(v.selectsOver){const E=St.getValue(C),N=v.getDisplayText(E),$=St.getValue(k);return v.getDisplayText($).indexOf(N)===0?I.some(()=>{ik(0,C,k),((B,U)=>{ak(B,(J,se)=>J.setSelectionRange(U,se.length))})(C,N.length)}):I.none()}return I.none()})(s.model,b,f).fold(()=>{s.model.selectsOver?(Gs.dehighlight(d,f),s.previewing.set(!0)):s.previewing.set(!1)},v=>{v(),s.previewing.set(!1)})}):s.lazyTypeaheadComp.get().each(b=>{s.model.populateFromBrowse&&ik(s.model,b,f),gs(f.element,"id").each(v=>xn(b.element,"aria-activedescendant",v))})},onExecute:(l,d)=>s.lazyTypeaheadComp.get().map(f=>(Xn(f,tO(),{item:d}),!0)),onHover:(l,d)=>{s.previewing.set(!1),s.lazyTypeaheadComp.get().each(f=>{s.model.populateFromBrowse&&ik(s.model,f,d)})}})})]),K$=Ec({name:"Typeahead",configFields:W$(),partFields:k5(),factory:(s,l,d,f)=>{const b=(B,U,J)=>{s.previewing.set(!1);const se=di.getCoupled(B,"sandbox");if(O.isOpen(se))Os.getCurrent(se).each(pe=>{Gs.getHighlighted(pe).fold(()=>{J(pe)},()=>{jc(se,pe.element,"keydown",U)})});else{const pe=ye=>{Os.getCurrent(ye).each(J)};C_(s,C(B),B,se,f,pe,ec.HighlightMenuAndItem).get(W)}},v=T7(s),C=B=>U=>U.map(J=>{const se=la(J.menus),pe=yn(se,ye=>Xt(ye.items,Re=>Re.type==="item"));return St.getState(B).update(Ve(pe,ye=>ye.data)),J}),k=B=>Os.getCurrent(B),E="typeaheadevents",N=[Eo.config({}),St.config({onSetValue:s.onSetValue,store:{mode:"dataset",getDataKey:B=>tg(B.element),getFallbackEntry:B=>({value:B,meta:{}}),setValue:(B,U)=>{oh(B.element,s.model.getDisplayText(U))},...s.initialData.map(B=>Ml("initialValue",B)).getOr({})}}),Q3.config({stream:{mode:"throttle",delay:s.responseTime,stopEvent:!1},onStream:(B,U)=>{const J=di.getCoupled(B,"sandbox");if(Eo.isFocused(B)&&tg(B.element).length>=s.minChars){const se=k(J).bind(ye=>Gs.getHighlighted(ye).map(St.getValue));s.previewing.set(!0);const pe=ye=>{k(J).each(Re=>{se.fold(()=>{s.model.selectsOver&&Gs.highlightFirst(Re)},ve=>{Gs.highlightBy(Re,be=>St.getValue(be).value===ve.value),Gs.getHighlighted(Re).orThunk(()=>(Gs.highlightFirst(Re),I.none()))})})};C_(s,C(B),B,J,f,pe,ec.HighlightJustMenu).get(W)}},cancelEvent:yd()}),eo.config({mode:"special",onDown:(B,U)=>(b(B,U,Gs.highlightFirst),I.some(!0)),onEscape:B=>{const U=di.getCoupled(B,"sandbox");return O.isOpen(U)?(O.close(U),I.some(!0)):I.none()},onUp:(B,U)=>(b(B,U,Gs.highlightLast),I.some(!0)),onEnter:B=>{const U=di.getCoupled(B,"sandbox"),J=O.isOpen(U);if(J&&!s.previewing.get())return k(U).bind(se=>Gs.getHighlighted(se)).map(se=>(Xn(B,tO(),{item:se}),!0));{const se=St.getValue(B);return Wo(B,yd()),s.onExecute(U,B,se),J&&O.close(U),I.some(!0)}}}),yo.config({toggleClass:s.markers.openClass,aria:{mode:"expanded"}}),di.config({others:{sandbox:B=>GA(s,B,{onOpen:()=>yo.on(B),onClose:()=>{s.lazyTypeaheadComp.get().each(U=>Uo(U.element,"aria-activedescendant")),yo.off(B)}})}}),jo(E,[hr(B=>{s.lazyTypeaheadComp.set(I.some(B))}),Gu(B=>{s.lazyTypeaheadComp.set(I.none())}),pu(B=>{const U=W;jA(s,C(B),B,f,U,ec.HighlightMenuAndItem).get(W)}),Lt(tO(),(B,U)=>{const J=di.getCoupled(B,"sandbox");ik(s.model,B,U.event.item),Wo(B,yd()),s.onItemExecute(B,J,U.event.item,St.getValue(B)),O.close(J),eO(B)})].concat(s.dismissOnBlur?[Lt(lf(),B=>{const U=di.getCoupled(B,"sandbox");yi(U.element).isNone()&&O.close(U)})]:[]))],$={[Wc()]:[St.name(),Q3.name(),E],...s.eventOrder};return{uid:s.uid,dom:bP(qs(s,{inputAttributes:{role:"combobox","aria-autocomplete":"list","aria-haspopup":"true"}})),behaviours:{...v,...zo(s.typeaheadBehaviours,N)},eventOrder:$}}}),s1=s=>({...s,toCached:()=>s1(s.toCached()),bindFuture:l=>s1(s.bind(d=>d.fold(f=>kh(ss.error(f)),f=>l(f)))),bindResult:l=>s1(s.map(d=>d.bind(l))),mapResult:l=>s1(s.map(d=>d.map(l))),mapError:l=>s1(s.map(d=>d.mapError(l))),foldResult:(l,d)=>s.map(f=>f.fold(l,d)),withTimeout:(l,d)=>s1(Qb(f=>{let b=!1;const v=setTimeout(()=>{b=!0,f(ss.error(d()))},l);s.get(C=>{b||(clearTimeout(v),f(C))})}))}),E5=s=>s1(Qb(s)),G2=(s,l,d=[],f,b,v,C)=>{const k=l.fold(()=>({}),$=>({action:$})),E={buttonBehaviours:an([Sl(()=>!s.enabled||C.isDisabled()),va(),mr.config({}),...v.map($=>Ii.config(C.tooltips.getConfig({tooltipText:C.translate($)}))).toArray(),jo("button press",[X1("click")])].concat(d)),eventOrder:{click:["button press","alloy.base.behaviour"],mousedown:["button press","alloy.base.behaviour"]},...k},N=qs(E,{dom:f});return qs(N,{components:b})},T5=(s,l,d,f=[],b)=>{const v={tag:"button",classes:["tox-tbtn"],attributes:{...s.tooltip.map(E=>({"aria-label":d.translate(E)})).getOr({}),"data-mce-name":b}},C=s.icon.map(E=>W2(E,d.icons)),k=Zy([C]);return G2(s,l,f,v,k,s.tooltip,d)},nO=s=>{switch(s){case"primary":return["tox-button"];case"toolbar":return["tox-tbtn"];default:return["tox-button","tox-button--secondary"]}},A5=(s,l,d,f=[],b=[])=>{const v=d.translate(s.text),C=s.icon.map(B=>W2(B,d.icons)),k=[C.getOrThunk(()=>ui(v))],E=s.buttonType.getOr(s.primary||s.borderless?"primary":"secondary"),N={tag:"button",classes:[...nO(E),...C.isSome()?["tox-button--icon"]:[],...s.borderless?["tox-button--naked"]:[],...b],attributes:{"aria-label":v,"data-mce-name":s.text}},$=s.icon.map(j(v));return G2(s,l,f,N,k,$,d)},O5=(s,l,d,f=[],b=[])=>{const v=A5(s,I.some(l),d,f,b);return $l.sketch(v)},oO=(s,l)=>d=>{l==="custom"?Xn(d,Cg,{name:s,value:{}}):l==="submit"?Wo(d,F2):l==="cancel"?Wo(d,Up):console.error("Unknown button type: ",l)},ax=(s,l,d)=>{if(((f,b)=>b==="menu")(0,l)){const f=()=>C,b=s,v={...s,type:"menubutton",search:I.none(),onSetup:k=>(k.setEnabled(s.enabled),W),fetch:w5(b.items,f,d)},C=Ks(ix(v,"tox-tbtn",d,I.none(),!0,s.text.or(s.tooltip).getOrUndefined()));return C.asSpec()}if(((f,b)=>b==="custom"||b==="cancel"||b==="submit")(0,l)){const f=oO(s.name,l),b={...s,borderless:!1};return O5(b,f,d.shared.providers,[])}if(((f,b)=>b==="togglebutton")(0,l))return((f,b,v)=>{var C,k;const E=f.icon.map(be=>lv(be,b.icons)).map(Ks),N=f.buttonType.getOr(f.primary?"primary":"secondary"),$={...f,name:(C=f.name)!==null&&C!==void 0?C:"",tooltip:f.tooltip,enabled:(k=f.enabled)!==null&&k!==void 0&&k},B=$.tooltip.or(f.text).map(be=>({"aria-label":b.translate(be)})).getOr({}),U=nO(N??"secondary"),J=f.icon.isSome()&&f.text.isSome(),se={tag:"button",classes:[...U.concat(f.icon.isSome()?["tox-button--icon"]:[]),...f.active?["tox-button--enabled"]:[],...J?["tox-button--icon-and-text"]:[]],attributes:{...B,...K(v)?{"data-mce-name":v}:{}}},pe=b.translate(f.text.getOr("")),ye=ui(pe),Re=[...Zy([E.map(be=>be.asSpec())]),...f.text.isSome()?[ye]:[]],ve=G2($,I.some(be=>{Xn(be,Cg,{name:f.name,value:{setIcon:ke=>{E.map(Ie=>Ie.getOpt(be).each(Le=>{go.set(Le,[lv(ke,b.icons)])}))}}})}),[],se,Re,f.tooltip,b);return $l.sketch(ve)})(s,d.shared.providers,s.text.or(s.tooltip).getOrUndefined());throw console.error("Unknown footer button type: ",l),new Error("Unknown footer button type")},j$={type:"separator"},Z$=s=>({type:"menuitem",value:s.url,text:s.title,meta:{attach:s.attach},onAction:W}),sO=(s,l)=>({type:"menuitem",value:l,text:s,meta:{attach:void 0},onAction:W}),R5=(s,l)=>(d=>Ve(d,Z$))(((d,f)=>Xt(f,b=>b.type===d))(s,l)),G$=s=>R5("header",s.targets),q$=s=>R5("anchor",s.targets),I5=s=>I.from(s.anchorTop).map(l=>sO("<top>",l)).toArray(),D5=s=>I.from(s.anchorBottom).map(l=>sO("<bottom>",l)).toArray(),rO=(s,l)=>{const d=s.toLowerCase();return Xt(l,f=>{var b;const v=f.meta!==void 0&&f.meta.text!==void 0?f.meta.text:f.text,C=(b=f.value)!==null&&b!==void 0?b:"";return ii(v.toLowerCase(),d)||ii(C.toLowerCase(),d)})},P5=Nn("aria-invalid"),Y$=(s,l)=>{s.dom.checked=l},ud=s=>s.dom.checked,Hr=s=>(l,d,f,b,v)=>cn(d,"name").fold(()=>s(d,b,I.none(),v),C=>l.field(C,s(d,b,cn(f,C),v))),X$={bar:Hr((s,l)=>((d,f)=>({dom:{tag:"div",classes:["tox-bar","tox-form__controls-h-stack"]},components:Ve(d.items,f.interpreter)}))(s,l.shared)),collection:Hr((s,l,d)=>ON(s,l.shared.providers,d)),alertbanner:Hr((s,l)=>((d,f)=>{const b=lP(d.icon,f.icons);return km.sketch({dom:{tag:"div",attributes:{role:"alert"},classes:["tox-notification","tox-notification--in",`tox-notification--${d.level}`]},components:[{dom:{tag:"div",classes:["tox-notification__icon"],innerHtml:d.url?void 0:b},components:d.url?[$l.sketch({dom:{tag:"button",classes:["tox-button","tox-button--naked","tox-button--icon"],innerHtml:b,attributes:{title:f.translate(d.iconTooltip)}},action:v=>Xn(v,Cg,{name:"alert-banner",value:d.url}),buttonBehaviours:an([t_()])})]:void 0},{dom:{tag:"div",classes:["tox-notification__body"],innerHtml:f.translate(d.text)}}]})})(s,l.shared.providers)),input:Hr((s,l,d)=>((f,b,v)=>m5({name:f.name,multiline:!1,label:f.label,inputMode:f.inputMode,placeholder:f.placeholder,flex:!1,disabled:!f.enabled,classname:"tox-textfield",validation:I.none(),maximized:f.maximized,data:v},b))(s,l.shared.providers,d)),textarea:Hr((s,l,d)=>((f,b,v)=>m5({name:f.name,multiline:!0,label:f.label,inputMode:I.none(),placeholder:f.placeholder,flex:!0,disabled:!f.enabled,classname:"tox-textarea",validation:I.none(),maximized:f.maximized,data:v},b))(s,l.shared.providers,d)),label:Hr((s,l,d,f)=>((b,v,C)=>{const k="tox-label",E=b.align==="center"?[`${k}--center`]:[],N=b.align==="end"?[`${k}--end`]:[],$=Ks({dom:{tag:"label",classes:[k,...E,...N]},components:[ui(v.providers.translate(b.label))]}),B=Ve(b.items,v.interpreter);return{dom:{tag:"div",classes:["tox-form__group"]},components:[$.asSpec(),...B],behaviours:an([Rh(),go.config({}),(U=I.none(),A3(U,mm,gp)),eo.config({mode:"acyclic"}),jo("label",[hr(J=>{b.for.each(se=>{C(se).each(pe=>{$.getOpt(J).each(ye=>{var Re;const ve=(Re=ns(pe.element,"id"))!==null&&Re!==void 0?Re:Nn("form-field");xn(pe.element,"id",ve),xn(ye.element,"for",ve)})})})})])])};var U})(s,l.shared,f)),iframe:(EO=(s,l,d)=>((f,b,v)=>{const C="tox-dialog__iframe",k=f.transparent?[]:[`${C}--opaque`],E=f.border?["tox-navobj-bordered"]:[],N={...f.label.map(J=>({title:J})).getOr({}),...v.map(J=>({srcdoc:J})).getOr({}),...f.sandboxed?{sandbox:"allow-scripts allow-same-origin"}:{}},$=((J,se)=>{const pe=Wn(J.getOr(""));return{getValue:ye=>pe.get(),setValue:(ye,Re)=>{if(pe.get()!==Re){const ve=ye.element,be=()=>xn(ve,"srcdoc",Re);se?V3.fold(j($3),ke=>ke.throttle)(ve,Re,be):be()}pe.set(Re)}}})(v,f.streamContent),B=f.label.map(J=>tv(J,b)),U=Ys.parts.field({factory:{sketch:J=>P3(I.from(E),{uid:J.uid,dom:{tag:"iframe",attributes:N,classes:[C,...k]},behaviours:an([mr.config({}),Eo.config({}),n1(v,$.getValue,$.setValue),mc.config({channels:{[X_]:{onReceive:(se,pe)=>{pe.newFocus.each(ye=>{Aa(se.element).each(Re=>{(cs(se.element,ye)?Vn:Fo)(Re,"tox-navobj-bordered-focus")})})}}}})])})}});return B2(B,U,["tox-form__group--stretched"],[])})(s,l.shared.providers,d),(s,l,d,f,b)=>{const v=qs(l,{source:"dynamic"});return Hr(EO)(s,v,d,f,b)}),button:Hr((s,l)=>((d,f)=>{const b=oO(d.name,"custom");return v=I.none(),C=Ys.parts.field({factory:$l,...A5(d,I.some(b),f,[U2(""),Rh()])}),B2(v,C,[],[]);var v,C})(s,l.shared.providers)),checkbox:Hr((s,l,d)=>((f,b,v)=>{const C=B=>(B.element.dom.click(),I.some(!0)),k=Ys.parts.field({factory:{sketch:me},dom:{tag:"input",classes:["tox-checkbox__input"],attributes:{type:"checkbox"}},behaviours:an([Rh(),Oo.config({disabled:()=>!f.enabled||b.isDisabled(),onDisabled:B=>{Aa(B.element).each(U=>Vn(U,"tox-checkbox--disabled"))},onEnabled:B=>{Aa(B.element).each(U=>Fo(U,"tox-checkbox--disabled"))}}),mr.config({}),Eo.config({}),A3(v,ud,Y$),eo.config({mode:"special",onEnter:C,onSpace:C,stopSpaceKeyup:!0}),jo("checkbox-events",[Lt(rm(),(B,U)=>{Xn(B,tc,{name:f.name})})])])}),E=Ys.parts.label({dom:{tag:"span",classes:["tox-checkbox__label"]},components:[ui(b.translate(f.label))],behaviours:an([Q0.config({})])}),N=B=>id(B==="checked"?"selected":"unselected",{tag:"span",classes:["tox-icon","tox-checkbox-icon__"+B]},b.icons),$=Ks({dom:{tag:"div",classes:["tox-checkbox__icons"]},components:[N("checked"),N("unchecked")]});return Ys.sketch({dom:{tag:"label",classes:["tox-checkbox"]},components:[k,$.asSpec(),E],fieldBehaviours:an([Oo.config({disabled:()=>!f.enabled||b.isDisabled()}),va()])})})(s,l.shared.providers,d)),colorinput:Hr((s,l,d)=>((f,b,v,C)=>{const k=Ys.parts.field({factory:$p,inputClasses:["tox-textfield"],data:C,onSetValue:B=>Eh.run(B).get(W),inputBehaviours:an([Oo.config({disabled:b.providers.isDisabled}),va(),mr.config({}),Eh.config({invalidClass:"tox-textbox-field-invalid",getRoot:B=>Aa(B.element),notify:{onValid:B=>{const U=St.getValue(B);Xn(B,s3,{color:U})}},validator:{validateOnLoad:!1,validate:B=>{const U=St.getValue(B);if(U.length===0)return kh(ss.value(!0));{const J=Ui("span");_o(J,"background-color",U);const se=Jr(J,"background-color").fold(()=>ss.error("blah"),pe=>ss.value(U));return kh(se)}}}})]),selectOnFocus:!1}),E=f.label.map(B=>tv(B,b.providers)),N=(B,U)=>{Xn(B,r3,{value:U})},$=Ks(((B,U)=>pc.sketch({dom:B.dom,components:B.components,toggleClass:"mce-active",dropdownBehaviours:an([Sl(U.providers.isDisabled),va(),Q0.config({}),mr.config({})]),layouts:B.layouts,sandboxClasses:["tox-dialog__popups"],lazySink:U.getSink,fetch:J=>Qb(se=>B.fetch(se)).map(se=>I.from(YA(qs(X0(Nn("menu-value"),se,pe=>{B.onItemAction(J,pe)},B.columns,B.presets,xg.CLOSE_ON_EXECUTE,Me,U.providers),{movement:D2(B.columns,B.presets)})))),parts:{menu:s_(0,0,B.presets)}}))({dom:{tag:"span",attributes:{"aria-label":b.providers.translate("Color swatch")}},layouts:{onRtl:()=>[oi,ni,vi],onLtr:()=>[ni,oi,vi]},components:[],fetch:cN(v.getColors(f.storageKey),f.storageKey,v.hasCustomColors()),columns:v.getColorCols(f.storageKey),presets:"color",onItemAction:(B,U)=>{$.getOpt(B).each(J=>{U==="custom"?v.colorPicker(se=>{se.fold(()=>Wo(J,NN),pe=>{N(J,pe),DA(f.storageKey,pe)})},"#ffffff"):N(J,U==="remove"?"":U)})}},b));return Ys.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:E.toArray().concat([{dom:{tag:"div",classes:["tox-color-input"]},components:[k,$.asSpec()]}]),fieldBehaviours:an([jo("form-field-events",[Lt(s3,(B,U)=>{$.getOpt(B).each(J=>{_o(J.element,"background-color",U.event.color)}),Xn(B,tc,{name:f.name})}),Lt(r3,(B,U)=>{Ys.getField(B).each(J=>{St.setValue(J,U.event.value),Os.getCurrent(B).each(Eo.focus)})}),Lt(NN,(B,U)=>{Ys.getField(B).each(J=>{Os.getCurrent(B).each(Eo.focus)})})])])})})(s,l.shared,l.colorinput,d)),colorpicker:Hr((s,l,d)=>((f,b,v)=>{const C=N=>"tox-"+N,k=t5((N=>$=>h($)?N.translate(D$[$]):N.translate($))(b),C,b.tooltips.getConfig,(N,$,B=N,U=N)=>id(B,{tag:"div",classes:["tox-icon","tox-control-wrap__status-icon-"+N],attributes:{title:b.translate(U),"aria-live":"polite",...$.fold(()=>({}),J=>({id:J}))}},b.icons)),E=Ks(k.sketch({dom:{tag:"div",classes:[C("color-picker-container")],attributes:{role:"presentation"}},onValidHex:N=>{Xn(N,Cg,{name:"hex-valid",value:!0})},onInvalidHex:N=>{Xn(N,Cg,{name:"hex-valid",value:!1})}}));return{dom:{tag:"div"},components:[E.asSpec()],behaviours:an([n1(v,N=>{const $=E.get(N);return Os.getCurrent($).bind(B=>St.getValue(B).hex).map(B=>"#"+js(B,"#")).getOr("")},(N,$)=>{const B=I.from(/^#([a-fA-F0-9]{3}(?:[a-fA-F0-9]{3})?)/.exec($)).bind(J=>Ae(J,1)),U=E.get(N);Os.getCurrent(U).fold(()=>{console.log("Can not find form")},J=>{St.setValue(J,{hex:B.getOr("")}),rv.getField(J,"hex").each(se=>{Wo(se,af())})})}),Rh()])}})(0,l.shared.providers,d)),dropzone:Hr((s,l,d)=>((f,b,v)=>{const C=(se,pe)=>{pe.stop()},k=se=>(pe,ye)=>{bt(se,Re=>{Re(pe,ye)})},E=(se,pe)=>{var ye;if(!Oo.isDisabled(se)){const Re=pe.event.raw;$(se,(ye=Re.dataTransfer)===null||ye===void 0?void 0:ye.files)}},N=(se,pe)=>{const ye=pe.event.raw.target;$(se,ye.files)},$=(se,pe)=>{pe&&(St.setValue(se,((ye,Re)=>{const ve=jp.explode(Re.getOption("images_file_types"));return Xt(wt(ye),be=>Rn(ve,ke=>Ic(be.name.toLowerCase(),`.${ke.toLowerCase()}`)))})(pe,b)),Xn(se,tc,{name:f.name}))},B=Ks({dom:{tag:"input",attributes:{type:"file",accept:"image/*"},styles:{display:"none"}},behaviours:an([jo("input-file-events",[im(bi()),im(cf())])])}),U=f.label.map(se=>tv(se,b)),J=Ys.parts.field({factory:{sketch:se=>({uid:se.uid,dom:{tag:"div",classes:["tox-dropzone-container"]},behaviours:an([U2(v.getOr([])),Rh(),Oo.config({}),yo.config({toggleClass:"dragenter",toggleOnExecute:!1}),jo("dropzone-events",[Lt("dragenter",k([C,yo.toggle])),Lt("dragleave",k([C,yo.toggle])),Lt("dragover",C),Lt("drop",k([C,E])),Lt(rm(),N)])]),components:[{dom:{tag:"div",classes:["tox-dropzone"],styles:{}},components:[{dom:{tag:"p"},components:[ui(b.translate("Drop an image here"))]},$l.sketch({dom:{tag:"button",styles:{position:"relative"},classes:["tox-button","tox-button--secondary"]},components:[ui(b.translate("Browse for an image")),B.asSpec()],action:pe=>{B.get(pe).element.dom.click()},buttonBehaviours:an([mr.config({}),Sl(b.isDisabled),va()])})]}]})}});return B2(U,J,["tox-form__group--stretched"],[])})(s,l.shared.providers,d)),grid:Hr((s,l)=>((d,f)=>({dom:{tag:"div",classes:["tox-form__grid",`tox-form__grid--${d.columns}col`]},components:Ve(d.items,f.interpreter)}))(s,l.shared)),listbox:Hr((s,l,d)=>((f,b,v)=>{const C=Rn(f.items,U=>!K2(U)),k=b.shared.providers,E=v.bind(U=>ok(f.items,U)).orThunk(()=>Fe(f.items).filter(K2)),N=f.label.map(U=>tv(U,k)),$=Ys.parts.field({dom:{},factory:{sketch:U=>U3({uid:U.uid,text:E.map(J=>J.text),icon:I.none(),tooltip:I.none(),role:qo(!C,"combobox"),...C?{}:{listRole:"listbox"},ariaLabel:f.label,fetch:(J,se)=>{const pe=nk(J,f.name,f.items,St.getValue(J),C);se(o1(pe,xg.CLOSE_ON_EXECUTE,b,{isHorizontalMenu:!1,search:I.none()}))},onSetup:j(W),getApi:j({}),columns:1,presets:"normal",classes:[],dropdownBehaviours:[mr.config({}),n1(E.map(J=>J.value),J=>ns(J.element,W3),(J,se)=>{ok(f.items,se).each(pe=>{xn(J.element,W3,pe.value),Xn(J,Nd,{text:pe.text})})})]},"tox-listbox",b.shared)}}),B={dom:{tag:"div",classes:["tox-listboxfield"]},components:[$]};return Ys.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:nn([N.toArray(),[B]]),fieldBehaviours:an([Oo.config({disabled:j(!f.enabled),onDisabled:U=>{Ys.getField(U).each(Oo.disable)},onEnabled:U=>{Ys.getField(U).each(Oo.enable)}})])})})(s,l,d)),selectbox:Hr((s,l,d)=>((f,b,v)=>{const C=Ve(f.items,B=>({text:b.translate(B.text),value:B.value})),k=f.label.map(B=>tv(B,b)),E=Ys.parts.field({dom:{},...v.map(B=>({data:B})).getOr({}),selectAttributes:{size:f.size},options:C,factory:M$,selectBehaviours:an([Oo.config({disabled:()=>!f.enabled||b.isDisabled()}),mr.config({}),jo("selectbox-change",[Lt(rm(),(B,U)=>{Xn(B,tc,{name:f.name})})])])}),N=f.size>1?I.none():I.some(id("chevron-down",{tag:"div",classes:["tox-selectfield__icon-js"]},b.icons)),$={dom:{tag:"div",classes:["tox-selectfield"]},components:nn([[E],N.toArray()])};return Ys.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:nn([k.toArray(),[$]]),fieldBehaviours:an([Oo.config({disabled:()=>!f.enabled||b.isDisabled(),onDisabled:B=>{Ys.getField(B).each(Oo.disable)},onEnabled:B=>{Ys.getField(B).each(Oo.enable)}}),va()])})})(s,l.shared.providers,d)),sizeinput:Hr((s,l)=>((d,f)=>{let b=G3;const v=Nn("ratio-event"),C=pe=>id(pe,{tag:"span",classes:["tox-icon","tox-lock-icon__"+pe]},f.icons),k=d.label.getOr("Constrain proportions"),E=f.translate(k),N=cd.parts.lock({dom:{tag:"button",classes:["tox-lock","tox-button","tox-button--naked","tox-button--icon"],attributes:{"aria-label":E,"data-mce-name":k}},components:[C("lock"),C("unlock")],buttonBehaviours:an([Oo.config({disabled:()=>!d.enabled||f.isDisabled()}),va(),mr.config({}),Ii.config(f.tooltips.getConfig({tooltipText:E}))])}),$=pe=>({dom:{tag:"div",classes:["tox-form__group"]},components:pe}),B=pe=>Ys.parts.field({factory:$p,inputClasses:["tox-textfield"],inputBehaviours:an([Oo.config({disabled:()=>!d.enabled||f.isDisabled()}),va(),mr.config({}),jo("size-input-events",[Lt(Is(),(ye,Re)=>{Xn(ye,v,{isField1:pe})}),Lt(rm(),(ye,Re)=>{Xn(ye,tc,{name:d.name})})])]),selectOnFocus:!1}),U=pe=>({dom:{tag:"label",classes:["tox-label"]},components:[ui(f.translate(pe))]}),J=cd.parts.field1($([Ys.parts.label(U("Width")),B(!0)])),se=cd.parts.field2($([Ys.parts.label(U("Height")),B(!1)]));return cd.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:[{dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:[J,se,$([U(""),N])]}],field1Name:"width",field2Name:"height",locked:!0,markers:{lockClass:"tox-locked"},onLockedChange:(pe,ye,Re)=>{j3(St.getValue(pe)).each(ve=>{b(ve).each(be=>{St.setValue(ye,(ke=>{const Ie={"":0,px:0,pt:1,mm:1,pc:2,ex:2,em:2,ch:2,rem:2,cm:3,in:4,"%":4};let Le=ke.value.toFixed((Qe=ke.unit)in Ie?Ie[Qe]:1);var Qe;return Le.indexOf(".")!==-1&&(Le=Le.replace(/\.?0*$/,"")),Le+ke.unit})(be))})})},coupledFieldBehaviours:an([Oo.config({disabled:()=>!d.enabled||f.isDisabled(),onDisabled:pe=>{cd.getField1(pe).bind(Ys.getField).each(Oo.disable),cd.getField2(pe).bind(Ys.getField).each(Oo.disable),cd.getLock(pe).each(Oo.disable)},onEnabled:pe=>{cd.getField1(pe).bind(Ys.getField).each(Oo.enable),cd.getField2(pe).bind(Ys.getField).each(Oo.enable),cd.getLock(pe).each(Oo.enable)}}),va(),jo("size-input-events2",[Lt(v,(pe,ye)=>{const Re=ye.event.isField1,ve=Re?cd.getField1(pe):cd.getField2(pe),be=Re?cd.getField2(pe):cd.getField1(pe),ke=ve.map(St.getValue).getOr(""),Ie=be.map(St.getValue).getOr("");b=((Le,Qe)=>{const ht=j3(Le).toOptional(),zt=j3(Qe).toOptional();return tn(ht,zt,(Bt,Pt)=>Z3(Bt,Pt.unit).map(sn=>Pt.value/sn).map(sn=>{return In=sn,Kn=Pt.unit,ro=>Z3(ro,Kn).map(Ro=>({value:Ro*In,unit:Kn}));var In,Kn}).getOr(G3)).getOr(G3)})(ke,Ie)})])])})})(s,l.shared.providers)),slider:Hr((s,l,d)=>((f,b,v)=>{const C=Tm.parts.label({dom:{tag:"label",classes:["tox-label"]},components:[ui(b.translate(f.label))]}),k=Tm.parts.spectrum({dom:{tag:"div",classes:["tox-slider__rail"],attributes:{role:"presentation"}}}),E=Tm.parts.thumb({dom:{tag:"div",classes:["tox-slider__handle"],attributes:{role:"presentation"}}});return Tm.sketch({dom:{tag:"div",classes:["tox-slider"],attributes:{role:"presentation"}},model:{mode:"x",minX:f.min,maxX:f.max,getInitialValue:j(v.getOrThunk(()=>(Math.abs(f.max)-Math.abs(f.min))/2))},components:[C,k,E],sliderBehaviours:an([Rh(),Eo.config({})]),onChoose:(N,$,B)=>{Xn(N,tc,{name:f.name,value:B})},onChange:(N,$,B)=>{Xn(N,tc,{name:f.name,value:B})}})})(s,l.shared.providers,d)),urlinput:Hr((s,l,d)=>((f,b,v,C)=>{const k=b.shared.providers,E=ve=>{const be=St.getValue(ve);v.addToHistory(be.value,f.filetype)},N={...C.map(ve=>({initialData:ve})).getOr({}),dismissOnBlur:!0,inputClasses:["tox-textfield"],sandboxClasses:["tox-dialog__popups"],inputAttributes:{"aria-errormessage":P5,type:"url"},minChars:0,responseTime:0,fetch:ve=>{const be=((Ie,Le,Qe)=>{var ht,zt;const Bt=St.getValue(Le),Pt=(zt=(ht=Bt==null?void 0:Bt.meta)===null||ht===void 0?void 0:ht.text)!==null&&zt!==void 0?zt:Bt.value;return Qe.getLinkInformation().fold(()=>[],sn=>{const In=rO(Pt,(ro=>Ve(ro,Ro=>sO(Ro,Ro)))(Qe.getHistory(Ie)));return Ie==="file"?(Kn=[In,rO(Pt,G$(sn)),rO(Pt,nn([I5(sn),q$(sn),D5(sn)]))],Qt(Kn,(ro,Ro)=>ro.length===0||Ro.length===0?ro.concat(Ro):ro.concat(j$,Ro),[])):In;var Kn})})(f.filetype,ve,v),ke=o1(be,xg.BUBBLE_TO_SANDBOX,b,{isHorizontalMenu:!1,search:I.none()});return kh(ke)},getHotspot:ve=>ye.getOpt(ve),onSetValue:(ve,be)=>{ve.hasConfigured(Eh)&&Eh.run(ve).get(W)},typeaheadBehaviours:an([...v.getValidationHandler().map(ve=>Eh.config({getRoot:be=>Aa(be.element),invalidClass:"tox-control-wrap--status-invalid",notify:{onInvalid:(be,ke)=>{U.getOpt(be).each(Ie=>{xn(Ie.element,"title",k.translate(ke))})}},validator:{validate:be=>{const ke=St.getValue(be);return E5(Ie=>{ve({type:f.filetype,url:ke.value},Le=>{if(Le.status==="invalid"){const Qe=ss.error(Le.message);Ie(Qe)}else{const Qe=ss.value(Le.message);Ie(Qe)}})})},validateOnLoad:!1}})).toArray(),Oo.config({disabled:()=>!f.enabled||k.isDisabled()}),mr.config({}),jo("urlinput-events",[Lt(af(),ve=>{const be=tg(ve.element),ke=be.trim();ke!==be&&oh(ve.element,ke),f.filetype==="file"&&Xn(ve,tc,{name:f.name})}),Lt(rm(),ve=>{Xn(ve,tc,{name:f.name}),E(ve)}),Lt(cp(),ve=>{Xn(ve,tc,{name:f.name}),E(ve)})])]),eventOrder:{[af()]:["streaming","urlinput-events","invalidating"]},model:{getDisplayText:ve=>ve.value,selectsOver:!1,populateFromBrowse:!1},markers:{openClass:"tox-textfield--popup-open"},lazySink:b.shared.getSink,parts:{menu:s_(0,0,"normal")},onExecute:(ve,be,ke)=>{Xn(be,F2,{})},onItemExecute:(ve,be,ke,Ie)=>{E(ve),Xn(ve,tc,{name:f.name})}},$=Ys.parts.field({...N,factory:K$}),B=f.label.map(ve=>tv(ve,k)),U=Ks(((ve,be,ke=ve,Ie=ve)=>id(ke,{tag:"div",classes:["tox-icon","tox-control-wrap__status-icon-"+ve],attributes:{title:k.translate(Ie),"aria-live":"polite",...be.fold(()=>({}),Le=>({id:Le}))}},k.icons))("invalid",I.some(P5),"warning")),J=Ks({dom:{tag:"div",classes:["tox-control-wrap__status-icon-wrap"]},components:[U.asSpec()]}),se=v.getUrlPicker(f.filetype),pe=Nn("browser.url.event"),ye=Ks({dom:{tag:"div",classes:["tox-control-wrap"]},components:[$,J.asSpec()],behaviours:an([Oo.config({disabled:()=>!f.enabled||k.isDisabled()})])}),Re=Ks(O5({name:f.name,icon:I.some("browse"),text:f.picker_text.or(f.label).getOr(""),enabled:f.enabled,primary:!1,buttonType:I.none(),borderless:!0},ve=>Wo(ve,pe),k,[],["tox-browse-url"]));return Ys.sketch({dom:E_([]),components:B.toArray().concat([{dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:nn([[ye.asSpec()],se.map(()=>Re.asSpec()).toArray()])}]),fieldBehaviours:an([Oo.config({disabled:()=>!f.enabled||k.isDisabled(),onDisabled:ve=>{Ys.getField(ve).each(Oo.disable),Re.getOpt(ve).each(Oo.disable)},onEnabled:ve=>{Ys.getField(ve).each(Oo.enable),Re.getOpt(ve).each(Oo.enable)}}),va(),jo("url-input-events",[Lt(pe,ve=>{Os.getCurrent(ve).each(be=>{const ke=St.getValue(be),Ie={fieldname:f.name,...ke};se.each(Le=>{Le(Ie).get(Qe=>{St.setValue(be,Qe),Xn(ve,tc,{name:f.name})})})})})])])})})(s,l,l.urlinput,d)),customeditor:Hr(s=>{const l=_s(),d=Ks({dom:{tag:s.tag}}),f=_s(),b=!O3(s)&&s.onFocus.isSome()?[Eo.config({onFocus:v=>{s.onFocus.each(C=>{C(v.element.dom)})}}),mr.config({})]:[];return{dom:{tag:"div",classes:["tox-custom-editor"]},behaviours:an([jo("custom-editor-events",[hr(v=>{d.getOpt(v).each(C=>{(O3(s)?s.init(C.element.dom):n5.load(s.scriptId,s.scriptUrl).then(k=>k(C.element.dom,s.settings))).then(k=>{f.on(E=>{k.setValue(E)}),f.clear(),l.set(k)})})})]),n1(I.none(),()=>l.get().fold(()=>f.get().getOr(""),v=>v.getValue()),(v,C)=>{l.get().fold(()=>f.set(C),k=>k.setValue(C))}),Rh()].concat(b)),components:[d.asSpec()]}}),htmlpanel:Hr((s,l)=>((d,f)=>{const b=["tox-form__group",...d.stretched?["tox-form__group--stretched"]:[]],v=jo("htmlpanel",[hr(C=>{d.onInit(C.element.dom)})]);return d.presets==="presentation"?km.sketch({dom:{tag:"div",classes:b,innerHtml:d.html},containerBehaviours:an([Ii.config({...f.tooltips.getConfig({tooltipText:"",onShow:C=>{Lr(C.element,"[data-mce-tooltip]:hover").orThunk(()=>yi(C.element)).each(k=>{gs(k,"data-mce-tooltip").each(E=>{Ii.setComponents(C,f.tooltips.getComponents({tooltipText:E}))})})}}),mode:"children-normal",anchor:C=>({type:"node",node:Lr(C.element,"[data-mce-tooltip]:hover").orThunk(()=>yi(C.element).filter(k=>gs(k,"data-mce-tooltip").isSome())),root:C.element,layouts:{onLtr:j([vi,Yr,ni,Oi,oi,er]),onRtl:j([vi,Yr,ni,Oi,oi,er])},bubble:vu(0,-2,{})})}),v])}):km.sketch({dom:{tag:"div",classes:b,innerHtml:d.html,attributes:{role:"document"}},containerBehaviours:an([mr.config({}),Eo.config({}),v])})})(s,l.shared.providers)),imagepreview:Hr((s,l,d)=>((f,b)=>{const v=Wn(b.getOr({url:""})),C=Ks({dom:{tag:"img",classes:["tox-imagepreview__image"],attributes:b.map($=>({src:$.url})).getOr({})}}),k=Ks({dom:{tag:"div",classes:["tox-imagepreview__container"],attributes:{role:"presentation"}},components:[C.asSpec()]}),E={};f.height.each($=>E.height=$);const N=b.map($=>({url:$.url,zoom:I.from($.zoom),cachedWidth:I.from($.cachedWidth),cachedHeight:I.from($.cachedHeight)}));return{dom:{tag:"div",classes:["tox-imagepreview"],styles:E,attributes:{role:"presentation"}},components:[k.asSpec()],behaviours:an([Rh(),n1(N,()=>v.get(),($,B)=>{const U={url:B.url};B.zoom.each(se=>U.zoom=se),B.cachedWidth.each(se=>U.cachedWidth=se),B.cachedHeight.each(se=>U.cachedHeight=se),v.set(U);const J=()=>{const{cachedWidth:se,cachedHeight:pe,zoom:ye}=U;if(!M(se)&&!M(pe)){if(M(ye)){const ve=((be,ke,Ie)=>{const Le=Wi(be),Qe=Rr(be);return Math.min(Le/ke,Qe/Ie,1)})($.element,se,pe);U.zoom=ve}const Re=((ve,be,ke,Ie,Le)=>{const Qe=ke*Le,ht=Ie*Le,zt=Math.max(0,ve/2-Qe/2),Bt=Math.max(0,be/2-ht/2);return{left:zt.toString()+"px",top:Bt.toString()+"px",width:Qe.toString()+"px",height:ht.toString()+"px"}})(Wi($.element),Rr($.element),se,pe,U.zoom);k.getOpt($).each(ve=>{Ol(ve.element,Re)})}};C.getOpt($).each(se=>{const pe=se.element;var ye;B.url!==ns(pe,"src")&&(xn(pe,"src",B.url),Fo($.element,"tox-imagepreview__loaded")),J(),(ye=pe,new Promise((Re,ve)=>{const be=()=>{Ie(),Re(ye)},ke=[Bl(ye,"load",be),Bl(ye,"error",()=>{Ie(),ve("Unable to load data from image: "+ye.dom.src)})],Ie=()=>bt(ke,Le=>Le.unbind());ye.dom.complete&&be()})).then(Re=>{$.getSystem().isConnected()&&(Vn($.element,"tox-imagepreview__loaded"),U.cachedWidth=Re.dom.naturalWidth,U.cachedHeight=Re.dom.naturalHeight,J())})})})])}})(s,d)),table:Hr((s,l)=>((d,f)=>{const b=k=>({dom:{tag:"td",innerHtml:f.translate(k)}});return{dom:{tag:"table",classes:["tox-dialog__table"]},components:[(C=d.header,{dom:{tag:"thead"},components:[{dom:{tag:"tr"},components:Ve(C,k=>({dom:{tag:"th",innerHtml:f.translate(k)}}))}]}),(v=d.cells,{dom:{tag:"tbody"},components:Ve(v,k=>({dom:{tag:"tr"},components:Ve(k,b)}))})],behaviours:an([mr.config({}),Eo.config({})])};var v,C})(s,l.shared.providers)),tree:Hr((s,l)=>((d,f)=>{const b=d.onLeafAction.getOr(W),v=d.onToggleExpand.getOr(W),C=d.defaultExpandedIds,k=Wn(C),E=Wn(d.defaultSelectedId),N=Nn("tree-id"),$=(B,U)=>d.items.map(J=>J.type==="leaf"?J3({leaf:J,selectedId:B,onLeafAction:b,visible:!0,treeId:N,backstage:f}):rk({directory:J,selectedId:B,onLeafAction:b,expandedIds:U,labelTabstopping:!0,treeId:N,backstage:f}));return{dom:{tag:"div",classes:["tox-tree"],attributes:{role:"tree"}},components:$(E.get(),k.get()),behaviours:an([eo.config({mode:"flow",selector:".tox-tree--leaf__label--visible, .tox-tree--directory__label--visible",cycles:!1}),jo(V$,[Lt("expand-tree-node",(B,U)=>{const{expanded:J,node:se}=U.event;k.set(J?[...k.get(),se]:k.get().filter(pe=>pe!==se)),v(k.get(),{expanded:J,node:se})})]),mc.config({channels:{[`update-active-item-${N}`]:{onReceive:(B,U)=>{E.set(I.some(U.value)),go.set(B,$(I.some(U.value),k.get()))}}}}),go.config({})])}})(s,l)),panel:Hr((s,l)=>((d,f)=>({dom:{tag:"div",classes:d.classes},components:Ve(d.items,f.shared.interpreter)}))(s,l))},iO={field:(s,l)=>l,record:j([])},lk=(s,l,d,f,b)=>{const v=qs(f,{shared:{interpreter:C=>aO(s,C,d,v,b)}});return aO(s,l,d,v,b)},aO=(s,l,d,f,b)=>cn(X$,l.type).fold(()=>(console.error(`Unknown factory type "${l.type}", defaulting to container: `,l),l),v=>v(s,l,d,f,b)),N5=(s,l,d,f)=>aO(iO,s,l,d,f),Am="layout-inset",lx=s=>s.x,ck=(s,l)=>s.x+s.width/2-l.width/2,lO=(s,l)=>s.x+s.width-l.width,Rf=s=>s.y,cO=(s,l)=>s.y+s.height-l.height,M5=(s,l)=>s.y+s.height/2-l.height/2,Cu=(s,l,d)=>nl(lO(s,l),cO(s,l),d.insetSouthwest(),_p(),"southwest",ol(s,{right:0,bottom:3}),Am),dv=(s,l,d)=>nl(lx(s),cO(s,l),d.insetSoutheast(),s0(),"southeast",ol(s,{left:1,bottom:3}),Am),Su=(s,l,d)=>nl(lO(s,l),Rf(s),d.insetNorthwest(),Sp(),"northwest",ol(s,{right:0,top:2}),Am),q2=(s,l,d)=>nl(lx(s),Rf(s),d.insetNortheast(),o0(),"northeast",ol(s,{left:1,top:2}),Am),Rs=(s,l,d)=>nl(ck(s,l),Rf(s),d.insetNorth(),aS(),"north",ol(s,{top:2}),Am),Ih=(s,l,d)=>nl(ck(s,l),cO(s,l),d.insetSouth(),hw(),"south",ol(s,{bottom:3}),Am),Y2=(s,l,d)=>nl(lO(s,l),M5(s,l),d.insetEast(),lS(),"east",ol(s,{right:0}),Am),uO=(s,l,d)=>nl(lx(s),M5(s,l),d.insetWest(),pw(),"west",ol(s,{left:1}),Am),dO=s=>{switch(s){case"north":return Rs;case"northeast":return q2;case"northwest":return Su;case"south":return Ih;case"southeast":return dv;case"southwest":return Cu;case"east":return Y2;case"west":return uO}},uk=(s,l,d,f,b)=>d0(f).map(dO).getOr(Rs)(s,l,d,f,b),J$=s=>{switch(s){case"north":return Ih;case"northeast":return dv;case"northwest":return Cu;case"south":return Rs;case"southeast":return q2;case"southwest":return Su;case"east":return uO;case"west":return Y2}},fO=(s,l,d,f,b)=>d0(f).map(J$).getOr(Rs)(s,l,d,f,b),X2={valignCentre:[],alignCentre:[],alignLeft:[],alignRight:[],right:[],left:[],bottom:[],top:[]},L5=(s,l,d)=>{const f={maxHeightFunction:Ap()};return()=>d()?{type:"node",root:ut(Ct(s())),node:I.from(s()),bubble:vu(12,12,X2),layouts:{onRtl:()=>[q2],onLtr:()=>[Su]},overrides:f}:{type:"hotspot",hotspot:l(),bubble:vu(-12,12,X2),layouts:{onRtl:()=>[ni,oi,vi],onLtr:()=>[oi,ni,vi]},overrides:f}},B5=(s,l,d,f)=>{const b={maxHeightFunction:Ap()};return()=>f()?{type:"node",root:ut(Ct(l())),node:I.from(l()),bubble:vu(12,12,X2),layouts:{onRtl:()=>[Rs],onLtr:()=>[Rs]},overrides:b}:s?{type:"node",root:ut(Ct(l())),node:I.from(l()),bubble:vu(0,-pl(l()),X2),layouts:{onRtl:()=>[Yr],onLtr:()=>[Yr]},overrides:b}:{type:"hotspot",hotspot:d(),bubble:vu(0,0,X2),layouts:{onRtl:()=>[Yr],onLtr:()=>[Yr]},overrides:b}},mO=(s,l,d)=>()=>d()?{type:"node",root:ut(Ct(s())),node:I.from(s()),layouts:{onRtl:()=>[Rs],onLtr:()=>[Rs]}}:{type:"hotspot",hotspot:l(),layouts:{onRtl:()=>[vi],onLtr:()=>[vi]}},F5=(s,l)=>()=>({type:"selection",root:l(),getSelection:()=>{const d=s.selection.getRng(),f=s.model.table.getSelectedCells();if(f.length>1){const b=f[0],v=f[f.length-1],C={firstCell:Sn(b),lastCell:Sn(v)};return I.some(C)}return I.some(lg.range(Sn(d.startContainer),d.startOffset,Sn(d.endContainer),d.endOffset))}}),dk=s=>l=>({type:"node",root:s(),node:l}),Q$=(s,l,d,f)=>{const b=$0(s),v=()=>Sn(s.getBody()),C=()=>Sn(s.getContentAreaContainer()),k=()=>b||!f();return{inlineDialog:L5(C,l,k),inlineBottomDialog:B5(s.inline,C,d,k),banner:mO(C,l,k),cursor:F5(s,v),node:dk(v)}},eV=s=>(l,d)=>{dN(s)(l,d)},tV=s=>()=>LA(s),nV=s=>l=>Y0(s,l),oV=s=>l=>MA(s,l),$5=s=>()=>vg(s),V5=s=>$o(s,"items"),z5=s=>$o(s,"format"),gO=[{title:"Headings",items:[{title:"Heading 1",format:"h1"},{title:"Heading 2",format:"h2"},{title:"Heading 3",format:"h3"},{title:"Heading 4",format:"h4"},{title:"Heading 5",format:"h5"},{title:"Heading 6",format:"h6"}]},{title:"Inline",items:[{title:"Bold",format:"bold"},{title:"Italic",format:"italic"},{title:"Underline",format:"underline"},{title:"Strikethrough",format:"strikethrough"},{title:"Superscript",format:"superscript"},{title:"Subscript",format:"subscript"},{title:"Code",format:"code"}]},{title:"Blocks",items:[{title:"Paragraph",format:"p"},{title:"Blockquote",format:"blockquote"},{title:"Div",format:"div"},{title:"Pre",format:"pre"}]},{title:"Align",items:[{title:"Left",format:"alignleft"},{title:"Center",format:"aligncenter"},{title:"Right",format:"alignright"},{title:"Justify",format:"alignjustify"}]}],hO=s=>Qt(s,(l,d)=>{if(uo(d,"items")){const f=hO(d.items);return{customFormats:l.customFormats.concat(f.customFormats),formats:l.formats.concat([{title:d.title,items:f.formats}])}}if(uo(d,"inline")||(f=>uo(f,"block"))(d)||(f=>uo(f,"selector"))(d)){const f=`custom-${h(d.name)?d.name:d.title.toLowerCase()}`;return{customFormats:l.customFormats.concat([{name:f,format:d}]),formats:l.formats.concat([{title:d.title,format:f,icon:d.icon}])}}return{...l,formats:l.formats.concat(d)}},{customFormats:[],formats:[]}),H5=s=>zy(s).map(l=>{const d=((f,b)=>{const v=hO(b),C=k=>{bt(k,E=>{f.formatter.has(E.name)||f.formatter.register(E.name,E.format)})};return f.formatter?C(v.customFormats):f.on("init",()=>{C(v.customFormats)}),v.formats})(s,l);return FS(s)?gO.concat(d):d}).getOr(gO),U5=(s,l,d)=>({...s,type:"formatter",isSelected:l(s.format),getStylePreview:d(s.format)}),pO=(s,l,d,f)=>{const b=v=>Ve(v,C=>V5(C)?(k=>{const E=b(k.items);return{...k,type:"submenu",getStyleItems:j(E)}})(C):z5(C)?(k=>U5(k,d,f))(C):(k=>{const E=en(k);return E.length===1&&mt(E,"title")})(C)?{...C,type:"separator"}:(k=>{const E=h(k.name)?k.name:Nn(k.title),N=`custom-${E}`,$={...k,type:"formatter",format:N,isSelected:d(N),getStylePreview:f(N)};return s.formatter.register(E,$),$})(C));return b(l)},bO=s=>{let l=0;const d=f=>[{dom:{tag:"div",classes:["tox-tooltip__body"]},components:[ui(f.tooltipText)]}];return{getConfig:f=>({delayForShow:()=>l>0?60:300,delayForHide:j(300),exclusive:!0,lazySink:s,tooltipDom:{tag:"div",classes:["tox-tooltip","tox-tooltip--up"]},tooltipComponents:d(f),onShow:(b,v)=>{l++,f.onShow&&f.onShow(b,v)},onHide:(b,v)=>{l--,f.onHide&&f.onHide(b,v)},onSetup:f.onSetup}),getComponents:d}},W5=jp.trim,K5=s=>l=>!!((d=>K(d)&&d.nodeType===1)(l)&&(l.contentEditable===s||l.getAttribute("data-mce-contenteditable")===s)),sV=K5("true"),rV=K5("false"),j5=(s,l,d,f,b)=>({type:s,title:l,url:d,level:f,attach:b}),Z5=s=>s.innerText||s.textContent,iV=s=>(l=>l&&l.nodeName==="A"&&(l.id||l.name)!==void 0)(s)&&If(s),vO=s=>s&&/^(H[1-6])$/.test(s.nodeName),If=s=>(l=>{let d=l;for(;d=d.parentNode;){const f=d.contentEditable;if(f&&f!=="inherit")return sV(d)}return!1})(s)&&!rV(s),aV=s=>vO(s)&&If(s),yO=s=>{var l;const d=(f=>f.id?f.id:Nn("h"))(s);return j5("header",(l=Z5(s))!==null&&l!==void 0?l:"","#"+d,(f=>vO(f)?parseInt(f.nodeName.substr(1),10):0)(s),()=>{s.id=d})},G5=s=>{const l=s.id||s.name,d=Z5(s);return j5("anchor",d||"#"+l,"#"+l,0,W)},q5=s=>W5(s.title).length>0,lV=s=>{const l=(d=>Ve(na(Sn(d),"h1,h2,h3,h4,h5,h6,a:not([href])"),b=>b.dom))(s);return Xt((d=>Ve(Xt(d,aV),yO))(l).concat((d=>Ve(Xt(d,iV),G5))(l)),q5)},J2="tinymce-url-history",xO=s=>h(s)&&/^https?/.test(s),wO=s=>x(s)&&xs(s,l=>{return!(R(d=l)&&d.length<=5&&qe(d,xO));var d}).isNone(),Y5=()=>{const s=ld.getItem(J2);if(s===null)return{};let l;try{l=JSON.parse(s)}catch(d){if(d instanceof SyntaxError)return console.log("Local storage "+J2+" was not valid JSON",d),{};throw d}return wO(l)?l:(console.log("Local storage "+J2+" was not valid format",l),{})},cV=s=>{const l=Y5();return cn(l,s).getOr([])},uV=(s,l)=>{if(!xO(s))return;const d=Y5(),f=cn(d,l).getOr([]),b=Xt(f,v=>v!==s);d[l]=[s].concat(b).slice(0,5),(v=>{if(!wO(v))throw new Error(`Bad format for history:
`+JSON.stringify(v));ld.setItem(J2,JSON.stringify(v))})(d)},X5=s=>!!s,dV=s=>co(jp.makeMap(s,/[, ]/),X5),fk=s=>I.from(VS(s)),CO=s=>I.from(s).filter(h).getOrUndefined(),J5=s=>({getHistory:cV,addToHistory:uV,getLinkInformation:()=>(l=>zS(l)?I.some({targets:lV(l.getBody()),anchorTop:CO(zD(l)),anchorBottom:CO(HD(l))}):I.none())(s),getValidationHandler:()=>(l=>I.from(n2(l)))(s),getUrlPicker:l=>((d,f)=>((b,v)=>{const C=(k=>{const E=I.from(o2(k)).filter(X5).map(dV);return fk(k).fold(Me,N=>E.fold(Ne,$=>en($).length>0&&$))})(b);return A(C)?C?fk(b):I.none():C[v]?fk(b):I.none()})(d,f).map(b=>v=>Qb(C=>{const k={filetype:f,fieldname:v.fieldname,...I.from(v.meta).getOr({})};b.call(d,(E,N)=>{if(!h(E))throw new Error("Expected value to be string");if(N!==void 0&&!x(N))throw new Error("Expected meta to be a object");C({value:E,meta:N})},v.value,k)})))(s,l)}),il=C8,Dh=OI,fV=j([vt("shell",!1),Ht("makeItem"),vt("setupItem",W),Ao("listBehaviours",[go])]),cx=Td({name:"items",overrides:()=>({behaviours:an([go.config({})])})}),mV=j([cx]),SO=Ec({name:j("CustomList")(),configFields:fV(),partFields:mV(),factory:(s,l,d,f)=>{const b=s.shell?{behaviours:[go.config({})],components:[]}:{behaviours:[],components:l};return{uid:s.uid,dom:s.dom,components:b.components,behaviours:zo(s.listBehaviours,b.behaviours),apis:{setItems:(v,C)=>{var k;(k=v,s.shell?I.some(k):vr(k,s,"items")).fold(()=>{throw console.error("Custom List was defined to not be a shell, but no item container was specified in components"),new Error("Custom List was defined to not be a shell, but no item container was specified in components")},E=>{const N=go.contents(E),$=C.length,B=$-N.length,U=B>0?Ot(B,()=>s.makeItem()):[],J=N.slice($);bt(J,pe=>go.remove(E,pe)),bt(U,pe=>go.append(E,pe));const se=go.contents(E);bt(se,(pe,ye)=>{s.setupItem(v,pe,C[ye],ye)})})}}}},apis:{setItems:(s,l,d)=>{s.setItems(l,d)}}}),r1=j([Ht("dom"),vt("shell",!0),Mn("toolbarBehaviours",[go])]),Q5=j([Td({name:"groups",overrides:()=>({behaviours:an([go.config({})])})})]),Om=Ec({name:"Toolbar",configFields:r1(),partFields:Q5(),factory:(s,l,d,f)=>{const b=s.shell?{behaviours:[go.config({})],components:[]}:{behaviours:[],components:l};return{uid:s.uid,dom:s.dom,components:b.components,behaviours:zo(s.toolbarBehaviours,b.behaviours),apis:{setGroups:(v,C)=>{var k;(k=v,s.shell?I.some(k):vr(k,s,"groups")).fold(()=>{throw console.error("Toolbar was defined to not be a shell, but no groups container was specified in components"),new Error("Toolbar was defined to not be a shell, but no groups container was specified in components")},E=>{go.set(E,C)})},refresh:W},domModification:{attributes:{role:"group"}}}},apis:{setGroups:(s,l,d)=>{s.setGroups(l,d)}}}),_O=W,kO=Me,mk=j([]);var EO,gV=Object.freeze({__proto__:null,setup:_O,isDocked:kO,getBehaviours:mk});const gk=j(Nn("toolbar-height-change")),Ph={fadeInClass:"tox-editor-dock-fadein",fadeOutClass:"tox-editor-dock-fadeout",transitionClass:"tox-editor-dock-transition"},eM="tox-tinymce--toolbar-sticky-on",tM="tox-tinymce--toolbar-sticky-off",Q2=(s,l)=>mt(Mr.getModes(s),l),hk=s=>{const l=s.element;Aa(l).each(d=>{const f="padding-"+Mr.getModes(s)[0];if(Mr.isDocked(s)){const b=Wi(d);_o(l,"width",b+"px"),_o(d,f,(v=>pl(v)+(parseInt(Or(v,"margin-top"),10)||0)+(parseInt(Or(v,"margin-bottom"),10)||0))(l)+"px")}else zs(l,"width"),zs(d,f)})},TO=(s,l)=>{l?(Fo(s,Ph.fadeOutClass),Qo(s,[Ph.transitionClass,Ph.fadeInClass])):(Fo(s,Ph.fadeInClass),Qo(s,[Ph.fadeOutClass,Ph.transitionClass]))},nM=(s,l)=>{const d=Sn(s.getContainer());l?(Vn(d,eM),Fo(d,tM)):(Vn(d,tM),Fo(d,eM))},oM=(s,l)=>{const d=_s(),f=l.getSink,b=k=>{f().each(E=>k(E.element))},v=k=>{s.inline||hk(k),nM(s,Mr.isDocked(k)),k.getSystem().broadcastOn([Z()],{}),f().each(E=>E.getSystem().broadcastOn([Z()],{}))},C=s.inline?[]:[mc.config({channels:{[gk()]:{onReceive:hk}}})];return[Eo.config({}),Mr.config({contextual:{lazyContext:k=>{const E=pl(k.element),N=s.inline?s.getContentAreaContainer():s.getContainer();return I.from(N).map($=>{const B=ai(Sn($));return Kb(s,k.element).fold(()=>{const U=B.height-E,J=B.y+(Q2(k,"top")?0:E);return Yo(B.x,J,B.width,U)},U=>{const J=cu(B,jb(U)),se=Q2(k,"top")?J.y:J.y+E;return Yo(J.x,se,J.width,J.height-E)})})},onShow:()=>{b(k=>TO(k,!0))},onShown:k=>{b(E=>ci(E,[Ph.transitionClass,Ph.fadeInClass])),d.get().each(E=>{((N,$)=>{const B=gi($);Sd(B).filter(U=>!cs($,U)).filter(U=>cs(U,Sn(B.dom.body))||Kr(N,U)).each(()=>Ll($))})(k.element,E),d.clear()})},onHide:k=>{((E,N)=>yi(E).orThunk(()=>N().toOptional().bind($=>yi($.element))))(k.element,f).fold(d.clear,d.set),b(E=>TO(E,!1))},onHidden:()=>{b(k=>ci(k,[Ph.transitionClass]))},...Ph},lazyViewport:k=>Kb(s,k.element).fold(()=>{const E=Ni(),N=jT(s),$=E.y+(Q2(k,"top")?N:0),B=E.height-(Q2(k,"bottom")?N:0);return{bounds:Yo(E.x,$,E.width,B),optScrollEnv:I.none()}},E=>({bounds:jb(E),optScrollEnv:I.some({currentScrollTop:E.element.dom.scrollTop,scrollElmTop:Pl(E.element).top})})),modes:[l.header.getDockingMode()],onDocked:v,onUndocked:v}),...C]};var hV=Object.freeze({__proto__:null,setup:(s,l,d)=>{s.inline||(l.header.isPositionedAtTop()||s.on("ResizeEditor",()=>{d().each(Mr.reset)}),s.on("ResizeWindow ResizeEditor",()=>{d().each(hk)}),s.on("SkinLoaded",()=>{d().each(f=>{Mr.isDocked(f)?Mr.reset(f):Mr.refresh(f)})}),s.on("FullscreenStateChanged",()=>{d().each(Mr.reset)})),s.on("AfterScrollIntoView",f=>{d().each(b=>{Mr.refresh(b);const v=b.element;nD(v)&&((C,k)=>{const E=gi(k),N=ru(k).dom.innerHeight,$=fr(E),B=Sn(C.elm),U=Za(B),J=Rr(B),se=U.y,pe=se+J,ye=Pl(k),Re=Rr(k),ve=ye.top,be=ve+Re,ke=Math.abs(ve-$.top)<2,Ie=Math.abs(be-($.top+N))<2;if(ke&&se<be)tf($.left,se-Re,E);else if(Ie&&pe>ve){const Le=se-N+J+Re;tf($.left,Le,E)}})(f,v)})}),s.on("PostRender",()=>{nM(s,!1)})},isDocked:s=>s().map(Mr.isDocked).getOr(!1),getBehaviours:oM});const pV=oo([qi,Bi("items",em([zu([dA,Xa("items",Li)]),Li]))].concat(_h)),bV=[Zr("text"),Zr("tooltip"),Zr("icon"),Ja("search",!1,em([_c,oo([Zr("placeholder")])],s=>A(s)?s?I.some({placeholder:I.none()}):I.none():I.some(s))),Ya("fetch"),ir("onSetup",()=>W)],sM=oo([qi,...bV]),rM=s=>Ir("menubutton",sM,s),vV=oo([qi,_2,_f,Xb,pA,R7,Yb,zc("presets","normal",["normal","color","listpreview"]),AP(1),Wy,TP]);var AO=Ad({factory:(s,l)=>{const d={focus:eo.focusIn,setMenus:(f,b)=>{const v=Ve(b,C=>{const k={type:"menubutton",text:C.text,fetch:N=>{N(C.getItems())}},E=rM(k).mapError(N=>qa(N)).getOrDie();return ix(E,"tox-mbtn",l.backstage,I.some("menuitem"))});go.set(f,v)}};return{uid:s.uid,dom:s.dom,components:[],behaviours:an([go.config({}),jo("menubar-events",[hr(f=>{s.onSetup(f)}),Lt(jn(),(f,b)=>{Lr(f.element,".tox-mbtn--active").each(v=>{bf(b.event.target,".tox-mbtn").each(C=>{cs(v,C)||f.getSystem().getByDom(v).each(k=>{f.getSystem().getByDom(C).each(E=>{pc.expand(E),pc.close(k),Eo.focus(E)})})})})}),Lt(Sb(),(f,b)=>{b.event.prevFocus.bind(v=>f.getSystem().getByDom(v).toOptional()).each(v=>{b.event.newFocus.bind(C=>f.getSystem().getByDom(C).toOptional()).each(C=>{pc.isOpen(v)&&(pc.expand(C),pc.close(v))})})})]),eo.config({mode:"flow",selector:".tox-mbtn",onEscape:f=>(s.onEscape(f),I.some(!0))}),mr.config({})]),apis:d,domModification:{attributes:{role:"menubar"}}}},name:"silver.Menubar",configFields:[Ht("dom"),Ht("uid"),Ht("onEscape"),Ht("backstage"),vt("onSetup",W)],apis:{focus:(s,l)=>{s.focus(l)},setMenus:(s,l,d)=>{s.setMenus(l,d)}}});const iM="container",yV=[Mn("slotBehaviours",[])],OO=s=>"<alloy.field."+s+">",xV=(s,l)=>{const d=$=>PI(s),f=($,B)=>(U,J)=>vr(U,s,J).map(se=>$(se,J)).getOr(B),b=($,B)=>ns($.element,"aria-hidden")!=="true",v=f(b,!1),C=f(($,B)=>{if(b($)){const U=$.element;_o(U,"display","none"),xn(U,"aria-hidden","true"),Xn($,hu(),{name:B,visible:!1})}}),k=($=>(B,U)=>{bt(U,J=>$(B,J))})(C),E=f(($,B)=>{if(!b($)){const U=$.element;zs(U,"display"),Uo(U,"aria-hidden"),Xn($,hu(),{name:B,visible:!0})}}),N={getSlotNames:d,getSlot:($,B)=>vr($,s,B),isShowing:v,hideSlot:C,hideAllSlots:$=>k($,d()),showSlot:E};return{uid:s.uid,dom:s.dom,components:l,behaviours:po(s.slotBehaviours),apis:N}},wV=co({getSlotNames:(s,l)=>s.getSlotNames(l),getSlot:(s,l,d)=>s.getSlot(l,d),isShowing:(s,l,d)=>s.isShowing(l,d),hideSlot:(s,l,d)=>s.hideSlot(l,d),hideAllSlots:(s,l)=>s.hideAllSlots(l),showSlot:(s,l,d)=>s.showSlot(l,d)},s=>ry(s)),bc={...wV,sketch:s=>{const l=(()=>{const v=[];return{slot:(C,k)=>(v.push(C),uT(iM,OO(C),k)),record:j(v)}})(),d=s(l),f=l.record(),b=Ve(f,v=>hc({name:v,pname:OO(v)}));return Bw(iM,yV,b,xV,d)}},CV=oo([_f,_2,ir("onShow",W),ir("onHide",W),Yb]),SV=s=>({element:()=>s.element.dom}),pk=(s,l)=>{const d=Ve(en(l),f=>{const b=l[f],v=Pa((C=>Ir("sidebar",CV,C))(b));return{name:f,getApi:SV,onSetup:v.onSetup,onShow:v.onShow,onHide:v.onHide}});return Ve(d,f=>{const b=Wn(W);return s.slot(f.name,{dom:{tag:"div",classes:["tox-sidebar__pane"]},behaviours:E2([Jb(f,b),Vp(f,b),Lt(hu(),(v,C)=>{const k=C.event;ee(d,N=>N.name===k.name).each(N=>{(k.visible?N.onShow:N.onHide)(N.getApi(v))})})])})})},aM=s=>bc.sketch(l=>({dom:{tag:"div",classes:["tox-sidebar__pane-container"]},components:pk(l,s),slotBehaviours:E2([hr(d=>bc.hideAllSlots(d))])})),bk=(s,l)=>{xn(s,"role",l)},_V=s=>Os.getCurrent(s).bind(l=>Yc.isGrowing(l)||Yc.hasGrown(l)?Os.getCurrent(l).bind(d=>ee(bc.getSlotNames(d),f=>bc.isShowing(d,f))):I.none()),RO=Nn("FixSizeEvent"),IO=Nn("AutoSizeEvent");var kV=Object.freeze({__proto__:null,block:(s,l,d,f)=>{xn(s.element,"aria-busy",!0);const b=l.getRoot(s).getOr(s),v=an([eo.config({mode:"special",onTab:()=>I.some(!0),onShiftTab:()=>I.some(!0)}),Eo.config({})]),C=f(b,v),k=b.getSystem().build(C);go.append(b,Yl(k)),k.hasConfigured(eo)&&l.focus&&eo.focusIn(k),d.isBlocked()||l.onBlock(s),d.blockWith(()=>go.remove(b,k))},unblock:(s,l,d)=>{Uo(s.element,"aria-busy"),d.isBlocked()&&l.onUnblock(s),d.clear()},isBlocked:(s,l,d)=>d.isBlocked()}),EV=[ir("getRoot",I.none),li("focus",!0),ks("onBlock"),ks("onUnblock")];const Df=Zi({fields:EV,name:"blocking",apis:kV,state:Object.freeze({__proto__:null,init:()=>{const s=Mc(l=>l.destroy());return Ai({readState:s.isSet,blockWith:l=>{s.set({destroy:l})},clear:s.clear,isBlocked:s.isSet})}})}),DO=s=>Os.getCurrent(s).each(l=>Ll(l.element,!0)),lM=(s,l,d)=>{const f=Wn(!1),b=_s(),v=k=>{var E;f.get()&&(!(N=>N.type==="focusin")(E=k)||!(E.composed?Fe(E.composedPath()):I.from(E.target)).map(Sn).filter(dr).exists(N=>es(N,"mce-pastebin")))&&(k.preventDefault(),DO(l()),s.editorManager.setActive(s))};s.inline||s.on("PreInit",()=>{s.dom.bind(s.getWin(),"focusin",v),s.on("BeforeExecCommand",k=>{k.command.toLowerCase()==="mcefocus"&&k.value!==!0&&v(k)})});const C=k=>{k!==f.get()&&(f.set(k),((E,N,$,B)=>{const U=N.element;if(((J,se)=>{const pe="tabindex",ye=`data-mce-${pe}`;I.from(J.iframeElement).map(Sn).each(Re=>{se?(gs(Re,pe).each(ve=>xn(Re,ye,ve)),xn(Re,pe,-1)):(Uo(Re,pe),gs(Re,ye).each(ve=>{xn(Re,pe,ve),Uo(Re,ye)}))})})(E,$),$)Df.block(N,(J=>(se,pe)=>({dom:{tag:"div",attributes:{"aria-label":J.translate("Loading..."),tabindex:"0"},classes:["tox-throbber__busy-spinner"]},components:[{dom:xh('<div class="tox-spinner"><div></div><div></div><div></div></div>')}]}))(B)),zs(U,"display"),Uo(U,"aria-hidden"),E.hasFocus()&&DO(N);else{const J=Os.getCurrent(N).exists(se=>Tp(se.element));Df.unblock(N),_o(U,"display","none"),xn(U,"aria-hidden","true"),J&&E.focus()}})(s,l(),k,d.providers),((E,N)=>{E.dispatch("AfterProgressState",{state:N})})(s,k))};s.on("ProgressState",k=>{if(b.on(clearTimeout),te(k.time)){const E=LS.setEditorTimeout(s,()=>C(k.state),k.time);b.set(E)}else C(k.state),b.clear()})},PO=(s,l,d)=>({within:s,extra:l,withinWidth:d}),NO=(s,l,d)=>{const f=Qt(s,(C,k)=>((E,N)=>{const $=d(E);return I.some({element:E,start:N,finish:N+$,width:$})})(k,C.len).fold(j(C),E=>({len:E.finish,list:C.list.concat([E])})),{len:0,list:[]}).list,b=Xt(f,C=>C.finish<=l),v=Bn(b,(C,k)=>C+k.width,0);return{within:b,extra:f.slice(b.length),withinWidth:v}},vk=s=>Ve(s,l=>l.element),cM=(s,l)=>{const d=Ve(l,f=>Yl(f));Om.setGroups(s,d)},uM=(s,l,d)=>{const f=l.builtGroups.get();if(f.length===0)return;const b=Np(s,l,"primary"),v=di.getCoupled(s,"overflowGroup");_o(b.element,"visibility","hidden");const C=f.concat([v]),k=pn(C,N=>yi(N.element).bind($=>N.getSystem().getByDom($).toOptional()));d([]),cM(b,C);const E=((N,$,B,U)=>{const J=((Re,ve,be)=>{const ke=NO(ve,Re,be);return ke.extra.length===0?I.some(ke):I.none()})(N,$,B).getOrThunk(()=>NO($,N-B(U),B)),se=J.within,pe=J.extra,ye=J.withinWidth;return pe.length===1&&pe[0].width<=B(U)?((Re,ve,be)=>{const ke=vk(Re.concat(ve));return PO(ke,[],be)})(se,pe,ye):pe.length>=1?((Re,ve,be,ke)=>{const Ie=vk(Re).concat([be]);return PO(Ie,vk(ve),ke)})(se,pe,U,ye):((Re,ve,be)=>PO(vk(Re),[],be))(se,0,ye)})(Wi(b.element),l.builtGroups.get(),N=>Math.ceil(N.element.dom.getBoundingClientRect().width),v);E.extra.length===0?(go.remove(b,v),d([])):(cM(b,E.within),d(E.extra)),zs(b.element,"visibility"),md(b.element),k.each(Eo.focus)},dM=j([Mn("splitToolbarBehaviours",[di]),ji("builtGroups",()=>Wn([]))]),TV=j([vp(["overflowToggledClass"]),Vc("getOverflowBounds"),Ht("lazySink"),ji("overflowGroups",()=>Wn([])),ks("onOpened"),ks("onClosed")].concat(dM())),AV=j([hc({factory:Om,schema:r1(),name:"primary"}),wm({schema:r1(),name:"overflow"}),wm({name:"overflow-button"}),wm({name:"overflow-group"})]),MO=j((s,l)=>{((d,f)=>{const b=Hm.max(d,f,["margin-left","border-left-width","padding-left","padding-right","border-right-width","margin-right"]);_o(d,"max-width",b+"px")})(s,Math.floor(l))}),OV=j([vp(["toggledClass"]),Ht("lazySink"),Ya("fetch"),Vc("getBounds"),Dr("fireDismissalEventInstead",[vt("event",Xm())]),sg(),ks("onToggled")]),RV=j([wm({name:"button",overrides:s=>({dom:{attributes:{"aria-haspopup":"true"}},buttonBehaviours:an([yo.config({toggleClass:s.markers.toggledClass,aria:{mode:"expanded"},toggleOnExecute:!1,onToggled:s.onToggled})])})}),wm({factory:Om,schema:r1(),name:"toolbar",overrides:s=>({toolbarBehaviours:an([eo.config({mode:"cyclic",onEscape:l=>(vr(l,s,"button").each(Eo.focus),I.none())})])})})]),yk=_s(),ux=(s,l)=>{const d=di.getCoupled(s,"toolbarSandbox");O.isOpen(d)?O.close(d):O.open(d,l.toolbar())},eC=(s,l,d,f)=>{const b=d.getBounds.map(C=>C()),v=d.lazySink(s).getOrDie();sl.positionWithinBounds(v,l,{anchor:{type:"hotspot",hotspot:s,layouts:f,overrides:{maxWidthFunction:MO()}}},b)},xk=(s,l,d,f,b)=>{Om.setGroups(l,b),eC(s,l,d,f),yo.on(s)},Gp=Ec({name:"FloatingToolbarButton",factory:(s,l,d,f)=>({...$l.sketch({...f.button(),action:b=>{ux(b,f)},buttonBehaviours:bo({dump:f.button().buttonBehaviours},[di.config({others:{toolbarSandbox:b=>((v,C,k)=>{const E=Cp();return{dom:{tag:"div",attributes:{id:E.id}},behaviours:an([eo.config({mode:"special",onEscape:N=>(O.close(N),I.some(!0))}),O.config({onOpen:(N,$)=>{const B=yk.get().getOr(!1);k.fetch().get(U=>{xk(v,$,k,C.layouts,U),E.link(v.element),B||eo.focusIn($)})},onClose:()=>{yo.off(v),yk.get().getOr(!1)||Eo.focus(v),E.unlink(v.element)},isPartOf:(N,$,B)=>fc($,B)||fc(v,B),getAttachPoint:()=>k.lazySink(v).getOrDie()}),mc.config({channels:{...fe({isExtraPart:Me,...k.fireDismissalEventInstead.map(N=>({fireEventInstead:{event:N.event}})).getOr({})}),...je({doReposition:()=>{O.getState(di.getCoupled(v,"toolbarSandbox")).each(N=>{eC(v,N,k,C.layouts)})}})}})])}})(b,d,s)}})])}),apis:{setGroups:(b,v)=>{O.getState(di.getCoupled(b,"toolbarSandbox")).each(C=>{xk(b,C,s,d.layouts,v)})},reposition:b=>{O.getState(di.getCoupled(b,"toolbarSandbox")).each(v=>{eC(b,v,s,d.layouts)})},toggle:b=>{ux(b,f)},toggleWithoutFocusing:b=>{((v,C)=>{yk.set(!0),ux(v,C),yk.clear()})(b,f)},getToolbar:b=>O.getState(di.getCoupled(b,"toolbarSandbox")),isOpen:b=>O.isOpen(di.getCoupled(b,"toolbarSandbox"))}}),configFields:OV(),partFields:RV(),apis:{setGroups:(s,l,d)=>{s.setGroups(l,d)},reposition:(s,l)=>{s.reposition(l)},toggle:(s,l)=>{s.toggle(l)},toggleWithoutFocusing:(s,l)=>{s.toggleWithoutFocusing(l)},getToolbar:(s,l)=>s.getToolbar(l),isOpen:(s,l)=>s.isOpen(l)}}),IV=j([Ht("items"),vp(["itemSelector"]),Mn("tgroupBehaviours",[eo])]),DV=j([wS({name:"items",unit:"item"})]),dx=Ec({name:"ToolbarGroup",configFields:IV(),partFields:DV(),factory:(s,l,d,f)=>({uid:s.uid,dom:s.dom,components:l,behaviours:zo(s.tgroupBehaviours,[eo.config({mode:"flow",selector:s.markers.itemSelector})]),domModification:{attributes:{role:"toolbar"}}})}),wk=s=>Ve(s,l=>Yl(l)),tC=(s,l,d)=>{uM(s,d,f=>{d.overflowGroups.set(f),l.getOpt(s).each(b=>{Gp.setGroups(b,wk(f))})})},LO=Ec({name:"SplitFloatingToolbar",configFields:TV(),partFields:AV(),factory:(s,l,d,f)=>{const b=Ks(Gp.sketch({fetch:()=>Qb(v=>{v(wk(s.overflowGroups.get()))}),layouts:{onLtr:()=>[oi,ni],onRtl:()=>[ni,oi],onBottomLtr:()=>[er,Oi],onBottomRtl:()=>[Oi,er]},getBounds:d.getOverflowBounds,lazySink:s.lazySink,fireDismissalEventInstead:{},markers:{toggledClass:s.markers.overflowToggledClass},parts:{button:f["overflow-button"](),toolbar:f.overflow()},onToggled:(v,C)=>s[C?"onOpened":"onClosed"](v)}));return{uid:s.uid,dom:s.dom,components:l,behaviours:zo(s.splitToolbarBehaviours,[di.config({others:{overflowGroup:()=>dx.sketch({...f["overflow-group"](),items:[b.asSpec()]})}})]),apis:{setGroups:(v,C)=>{s.builtGroups.set(Ve(C,v.getSystem().build)),tC(v,b,s)},refresh:v=>tC(v,b,s),toggle:v=>{b.getOpt(v).each(C=>{Gp.toggle(C)})},toggleWithoutFocusing:v=>{b.getOpt(v).each(Gp.toggleWithoutFocusing)},isOpen:v=>b.getOpt(v).map(Gp.isOpen).getOr(!1),reposition:v=>{b.getOpt(v).each(C=>{Gp.reposition(C)})},getOverflow:v=>b.getOpt(v).bind(Gp.getToolbar)},domModification:{attributes:{role:"group"}}}},apis:{setGroups:(s,l,d)=>{s.setGroups(l,d)},refresh:(s,l)=>{s.refresh(l)},reposition:(s,l)=>{s.reposition(l)},toggle:(s,l)=>{s.toggle(l)},toggleWithoutFocusing:(s,l)=>{s.toggle(l)},isOpen:(s,l)=>s.isOpen(l),getOverflow:(s,l)=>s.getOverflow(l)}}),PV=j([vp(["closedClass","openClass","shrinkingClass","growingClass","overflowToggledClass"]),ks("onOpened"),ks("onClosed")].concat(dM())),NV=j([hc({factory:Om,schema:r1(),name:"primary"}),hc({factory:Om,schema:r1(),name:"overflow",overrides:s=>({toolbarBehaviours:an([Yc.config({dimension:{property:"height"},closedClass:s.markers.closedClass,openClass:s.markers.openClass,shrinkingClass:s.markers.shrinkingClass,growingClass:s.markers.growingClass,onShrunk:l=>{vr(l,s,"overflow-button").each(d=>{yo.off(d)}),s.onClosed(l)},onGrown:l=>{s.onOpened(l)},onStartGrow:l=>{vr(l,s,"overflow-button").each(yo.on)}}),eo.config({mode:"acyclic",onEscape:l=>(vr(l,s,"overflow-button").each(Eo.focus),I.some(!0))})])})}),wm({name:"overflow-button",overrides:s=>({buttonBehaviours:an([yo.config({toggleClass:s.markers.overflowToggledClass,aria:{mode:"expanded"},toggleOnExecute:!1})])})}),wm({name:"overflow-group"})]),BO=(s,l,d)=>{vr(s,l,"overflow-button").each(f=>{vr(s,l,"overflow").each(b=>{if(FO(s,l),Yc.hasShrunk(b)){const v=l.onOpened;l.onOpened=C=>{d||eo.focusIn(b),v(C),l.onOpened=v}}else{const v=l.onClosed;l.onClosed=C=>{d||Eo.focus(f),v(C),l.onClosed=v}}Yc.toggleGrow(b)})})},FO=(s,l)=>{vr(s,l,"overflow").each(d=>{uM(s,l,f=>{const b=Ve(f,v=>Yl(v));Om.setGroups(d,b)}),vr(s,l,"overflow-button").each(f=>{Yc.hasGrown(d)&&yo.on(f)}),Yc.refresh(d)})},$O=Ec({name:"SplitSlidingToolbar",configFields:PV(),partFields:NV(),factory:(s,l,d,f)=>{const b="alloy.toolbar.toggle";return{uid:s.uid,dom:s.dom,components:l,behaviours:zo(s.splitToolbarBehaviours,[di.config({others:{overflowGroup:v=>dx.sketch({...f["overflow-group"](),items:[$l.sketch({...f["overflow-button"](),action:C=>{Wo(v,b)}})]})}}),jo("toolbar-toggle-events",[Lt(b,v=>{BO(v,s,!1)})])]),apis:{setGroups:(v,C)=>{((k,E)=>{const N=Ve(E,k.getSystem().build);s.builtGroups.set(N)})(v,C),FO(v,s)},refresh:v=>FO(v,s),toggle:v=>{BO(v,s,!1)},toggleWithoutFocusing:v=>{BO(v,s,!0)},isOpen:v=>((C,k)=>vr(C,k,"overflow").map(Yc.hasGrown).getOr(!1))(v,s)},domModification:{attributes:{role:"group"}}}},apis:{setGroups:(s,l,d)=>{s.setGroups(l,d)},refresh:(s,l)=>{s.refresh(l)},toggle:(s,l)=>{s.toggle(l)},isOpen:(s,l)=>s.isOpen(l)}}),fM=s=>{const l=s.title.fold(()=>({}),d=>({attributes:{title:d}}));return{dom:{tag:"div",classes:["tox-toolbar__group"],...l},components:[dx.parts.items({})],items:s.items,markers:{itemSelector:"*:not(.tox-split-button) > .tox-tbtn:not([disabled]), .tox-split-button:not([disabled]), .tox-toolbar-nav-js:not([disabled]), .tox-number-input:not([disabled])"},tgroupBehaviours:an([mr.config({}),Eo.config({})])}},Ck=s=>dx.sketch(fM(s)),mM=(s,l)=>{const d=hr(f=>{const b=Ve(s.initGroups,Ck);Om.setGroups(f,b)});return an([f_(s.providers.isDisabled),va(),eo.config({mode:l,onEscape:s.onEscape,selector:".tox-toolbar__group"}),jo("toolbar-events",[d])])},gM=s=>{const l=s.cyclicKeying?"cyclic":"acyclic";return{uid:s.uid,dom:{tag:"div",classes:["tox-toolbar-overlord"]},parts:{"overflow-group":fM({title:I.none(),items:[]}),"overflow-button":T5({icon:I.some("more-drawer"),enabled:!0,tooltip:I.some("Reveal or hide additional toolbar items")},I.none(),s.providers,[],"overflow-button")},splitToolbarBehaviours:mM(s,l)}},MV=s=>{const l=gM(s),d=LO.parts.primary({dom:{tag:"div",classes:["tox-toolbar__primary"]}});return LO.sketch({...l,lazySink:s.getSink,getOverflowBounds:()=>{const f=s.moreDrawerData.lazyHeader().element,b=Za(f),v=hl(f),C=Za(v),k=Math.max(v.dom.scrollHeight,C.height);return Yo(b.x+4,C.y,b.width-8,k)},parts:{...l.parts,overflow:{dom:{tag:"div",classes:["tox-toolbar__overflow"],attributes:s.attributes}}},components:[d],markers:{overflowToggledClass:"tox-tbtn--enabled"},onOpened:f=>s.onToggled(f,!0),onClosed:f=>s.onToggled(f,!1)})},LV=s=>{const l=$O.parts.primary({dom:{tag:"div",classes:["tox-toolbar__primary"]}}),d=$O.parts.overflow({dom:{tag:"div",classes:["tox-toolbar__overflow"]}}),f=gM(s);return $O.sketch({...f,components:[l,d],markers:{openClass:"tox-toolbar__overflow--open",closedClass:"tox-toolbar__overflow--closed",growingClass:"tox-toolbar__overflow--growing",shrinkingClass:"tox-toolbar__overflow--shrinking",overflowToggledClass:"tox-tbtn--enabled"},onOpened:b=>{b.getSystem().broadcastOn([gk()],{type:"opened"}),s.onToggled(b,!0)},onClosed:b=>{b.getSystem().broadcastOn([gk()],{type:"closed"}),s.onToggled(b,!1)}})},VO=s=>{const l=s.cyclicKeying?"cyclic":"acyclic";return Om.sketch({uid:s.uid,dom:{tag:"div",classes:["tox-toolbar"].concat(s.type===wf.scrolling?["tox-toolbar--scrolling"]:[])},components:[Om.parts.groups({})],toolbarBehaviours:mM(s,l)})},hM=[Xb,_f,Zr("tooltip"),zc("buttonType","secondary",["primary","secondary"]),li("borderless",!1),Ya("onAction")],zO={button:[...hM,Sf,Wu("type",["button"])],togglebutton:[...hM,li("active",!1),Wu("type",["togglebutton"])]},BV=[Wu("type",["group"]),Hs("buttons",[],Ti("type",zO))],FV=Ti("type",{...zO,group:BV}),Nh=oo([Hs("buttons",[],FV),Ya("onShow"),Ya("onHide")]),pM=(s,l)=>((d,f)=>{var b,v;const C=d.type==="togglebutton",k=d.icon.map(ve=>lv(ve,f.icons)).map(Ks),E={...d,name:C?d.text.getOr(d.icon.getOr("")):(b=d.text)!==null&&b!==void 0?b:d.icon.getOr(""),primary:d.buttonType==="primary",buttonType:I.from(d.buttonType),tooltip:d.tooltip,icon:d.icon,enabled:!0,borderless:d.borderless},N=nO((v=d.buttonType)!==null&&v!==void 0?v:"secondary"),$=C?d.text.map(f.translate):I.some(f.translate(d.text)),B=$.map(ui),U=E.tooltip.or($).map(ve=>({"aria-label":f.translate(ve)})).getOr({}),J=k.map(ve=>ve.asSpec()),se=Zy([J,B]),pe=d.icon.isSome()&&B.isSome(),ye={tag:"button",classes:N.concat(...d.icon.isSome()&&!pe?["tox-button--icon"]:[]).concat(...pe?["tox-button--icon-and-text"]:[]).concat(...d.borderless?["tox-button--naked"]:[]).concat(...d.type==="togglebutton"&&d.active?["tox-button--enabled"]:[]),attributes:U},Re=G2(E,I.some(ve=>{const be=ke=>{k.map(Ie=>Ie.getOpt(ve).each(Le=>{go.set(Le,[lv(ke,f.icons)])}))};return C?d.onAction({setIcon:be,setActive:ke=>{const Ie=ve.element;ke?(Vn(Ie,"tox-button--enabled"),xn(Ie,"aria-pressed",!0)):(Fo(Ie,"tox-button--enabled"),Uo(Ie,"aria-pressed"))},isActive:()=>es(ve.element,"tox-button--enabled")}):d.type==="button"?d.onAction({setIcon:be}):void 0}),[],ye,se,d.tooltip,f);return $l.sketch(Re)})(s,l),bM=Ki().deviceType,HO=bM.isPhone(),al=bM.isTablet();var fx=Ec({name:"silver.View",configFields:[Ht("viewConfig")],partFields:[Td({factory:{sketch:s=>{let l=!1;const d=Ve(s.buttons,f=>f.type==="group"?(l=!0,((b,v)=>({dom:{tag:"div",classes:["tox-view__toolbar__group"]},components:Ve(b.buttons,C=>pM(C,v))}))(f,s.providers)):pM(f,s.providers));return{uid:s.uid,dom:{tag:"div",classes:[l?"tox-view__toolbar":"tox-view__header",...HO||al?["tox-view--mobile","tox-view--scrolling"]:[]]},behaviours:an([Eo.config({}),eo.config({mode:"flow",selector:"button, .tox-button",focusInside:O0.OnEnterOrSpaceMode})]),components:l?d:[km.sketch({dom:{tag:"div",classes:["tox-view__header-start"]},components:[]}),km.sketch({dom:{tag:"div",classes:["tox-view__header-end"]},components:d})]}}},schema:[Ht("buttons"),Ht("providers")],name:"header"}),Td({factory:{sketch:s=>({uid:s.uid,behaviours:an([Eo.config({}),mr.config({})]),dom:{tag:"div",classes:["tox-view__pane"]}})},schema:[],name:"pane"})],factory:(s,l,d,f)=>{const b={getPane:v=>il.getPart(v,s,"pane"),getOnShow:v=>s.viewConfig.onShow,getOnHide:v=>s.viewConfig.onHide};return{uid:s.uid,dom:s.dom,components:l,behaviours:an([Eo.config({}),eo.config({mode:"cyclic",focusInside:O0.OnEnterOrSpaceMode})]),apis:b}},apis:{getPane:(s,l)=>s.getPane(l),getOnShow:(s,l)=>s.getOnShow(l),getOnHide:(s,l)=>s.getOnHide(l)}});const $V=(s,l,d)=>ri(l,(f,b)=>{const v=Pa(Ir("view",Nh,f));return s.slot(b,fx.sketch({dom:{tag:"div",classes:["tox-view"]},viewConfig:v,components:[...v.buttons.length>0?[fx.parts.header({buttons:v.buttons,providers:d})]:[],fx.parts.pane({})]}))}),VV=(s,l)=>bc.sketch(d=>({dom:{tag:"div",classes:["tox-view-wrap__slot-container"]},components:$V(d,s,l),slotBehaviours:E2([hr(f=>bc.hideAllSlots(f))])})),vM=s=>ee(bc.getSlotNames(s),l=>bc.isShowing(s,l)),yM=(s,l,d)=>{bc.getSlot(s,l).each(f=>{fx.getPane(f).each(b=>{var v;d(f)((v=b.element.dom,{getContainer:j(v)}))})})};var Sk=Ad({factory:(s,l)=>{const d={setViews:(f,b)=>{go.set(f,[VV(b,l.backstage.shared.providers)])},whichView:f=>Os.getCurrent(f).bind(vM),toggleView:(f,b,v,C)=>Os.getCurrent(f).exists(k=>{const E=vM(k),N=E.exists(B=>C===B),$=bc.getSlot(k,C).isSome();return $&&(bc.hideAllSlots(k),N?((B=>{const U=B.element;_o(U,"display","none"),xn(U,"aria-hidden","true")})(f),b()):(v(),(B=>{const U=B.element;zs(U,"display"),Uo(U,"aria-hidden")})(f),bc.showSlot(k,C),((B,U)=>{yM(B,U,fx.getOnShow)})(k,C)),E.each(B=>((U,J)=>yM(U,J,fx.getOnHide))(k,B))),$})};return{uid:s.uid,dom:{tag:"div",classes:["tox-view-wrap"],attributes:{"aria-hidden":"true"},styles:{display:"none"}},components:[],behaviours:an([go.config({}),Os.config({find:f=>{const b=go.contents(f);return Fe(b)}})]),apis:d}},name:"silver.ViewWrapper",configFields:[Ht("backstage")],apis:{setViews:(s,l,d)=>s.setViews(l,d),toggleView:(s,l,d,f,b)=>s.toggleView(l,d,f,b),whichView:(s,l)=>s.whichView(l)}});const zV=Dh.optional({factory:AO,name:"menubar",schema:[Ht("backstage")]}),HV=Dh.optional({factory:{sketch:s=>SO.sketch({uid:s.uid,dom:s.dom,listBehaviours:an([eo.config({mode:"acyclic",selector:".tox-toolbar"})]),makeItem:()=>VO({type:s.type,uid:Nn("multiple-toolbar-item"),cyclicKeying:!1,initGroups:[],providers:s.providers,onEscape:()=>(s.onEscape(),I.some(!0))}),setupItem:(l,d,f,b)=>{Om.setGroups(d,f)},shell:!0})},name:"multiple-toolbar",schema:[Ht("dom"),Ht("onEscape")]}),UV=Dh.optional({factory:{sketch:s=>(d=>d.type===wf.sliding?LV:d.type===wf.floating?MV:VO)(s)({type:s.type,uid:s.uid,onEscape:()=>(s.onEscape(),I.some(!0)),onToggled:(d,f)=>s.onToolbarToggled(f),cyclicKeying:!1,initGroups:[],getSink:s.getSink,providers:s.providers,moreDrawerData:{lazyToolbar:s.lazyToolbar,lazyMoreButton:s.lazyMoreButton,lazyHeader:s.lazyHeader},attributes:s.attributes})},name:"toolbar",schema:[Ht("dom"),Ht("onEscape"),Ht("getSink")]}),WV=Dh.optional({factory:{sketch:s=>{const l=s.editor,d=s.sticky?oM:mk;return{uid:s.uid,dom:s.dom,components:s.components,behaviours:an(d(l,s.sharedBackstage))}}},name:"header",schema:[Ht("dom")]}),KV=Dh.optional({factory:{sketch:s=>({uid:s.uid,dom:s.dom,components:[{dom:{tag:"a",attributes:{href:"https://www.tiny.cloud/tinymce-self-hosted-premium-features/?utm_campaign=self_hosted_upgrade_promo&utm_source=tiny&utm_medium=referral",rel:"noopener",target:"_blank","aria-hidden":"true"},classes:["tox-promotion-link"],innerHtml:"Upgrade"}}]})},name:"promotion",schema:[Ht("dom")]}),jV=Dh.optional({name:"socket",schema:[Ht("dom")]}),ZV=Dh.optional({factory:{sketch:s=>({uid:s.uid,dom:{tag:"div",classes:["tox-sidebar"],attributes:{role:"presentation"}},components:[{dom:{tag:"div",classes:["tox-sidebar__slider"]},components:[],behaviours:an([mr.config({}),Eo.config({}),Yc.config({dimension:{property:"width"},closedClass:"tox-sidebar--sliding-closed",openClass:"tox-sidebar--sliding-open",shrinkingClass:"tox-sidebar--sliding-shrinking",growingClass:"tox-sidebar--sliding-growing",onShrunk:l=>{Os.getCurrent(l).each(bc.hideAllSlots),Wo(l,IO)},onGrown:l=>{Wo(l,IO)},onStartGrow:l=>{Xn(l,RO,{width:Jr(l.element,"width").getOr("")})},onStartShrink:l=>{Xn(l,RO,{width:Wi(l.element)+"px"})}}),go.config({}),Os.config({find:l=>{const d=go.contents(l);return Fe(d)}})])}],behaviours:an([k3(0),jo("sidebar-sliding-events",[Lt(RO,(l,d)=>{_o(l.element,"width",d.event.width)}),Lt(IO,(l,d)=>{zs(l.element,"width")})])])})},name:"sidebar",schema:[Ht("dom")]}),GV=Dh.optional({factory:{sketch:s=>({uid:s.uid,dom:{tag:"div",attributes:{"aria-hidden":"true"},classes:["tox-throbber"],styles:{display:"none"}},behaviours:an([go.config({}),Df.config({focus:!1}),Os.config({find:l=>Fe(l.components())})]),components:[]})},name:"throbber",schema:[Ht("dom")]}),qV=Dh.optional({factory:Sk,name:"viewWrapper",schema:[Ht("backstage")]}),YV=Dh.optional({factory:{sketch:s=>({uid:s.uid,dom:{tag:"div",classes:["tox-editor-container"]},components:s.components})},name:"editorContainer",schema:[]});var _r=Ec({name:"OuterContainer",factory:(s,l,d)=>{let f=!1;const b=C=>{br(C,".tox-statusbar").each(k=>{Or(k,"display")==="none"&&ns(k,"aria-hidden")==="true"?(zs(k,"display"),Uo(k,"aria-hidden")):(_o(k,"display","none"),xn(k,"aria-hidden","true"))})},v={getSocket:C=>il.getPart(C,s,"socket"),setSidebar:(C,k,E)=>{il.getPart(C,s,"sidebar").each(N=>(($,B,U)=>{Os.getCurrent($).each(J=>{go.set(J,[aM(B)]);const se=U==null?void 0:U.toLowerCase();h(se)&&uo(B,se)&&Os.getCurrent(J).each(pe=>{bc.showSlot(pe,se),Yc.immediateGrow(J),zs(J.element,"width"),bk($.element,"region")})})})(N,k,E))},toggleSidebar:(C,k)=>{il.getPart(C,s,"sidebar").each(E=>((N,$)=>{Os.getCurrent(N).each(B=>{Os.getCurrent(B).each(U=>{Yc.hasGrown(B)?bc.isShowing(U,$)?(Yc.shrink(B),bk(N.element,"presentation")):(bc.hideAllSlots(U),bc.showSlot(U,$),bk(N.element,"region")):(bc.hideAllSlots(U),bc.showSlot(U,$),Yc.grow(B),bk(N.element,"region"))})})})(E,k))},whichSidebar:C=>il.getPart(C,s,"sidebar").bind(_V).getOrNull(),getHeader:C=>il.getPart(C,s,"header"),getToolbar:C=>il.getPart(C,s,"toolbar"),setToolbar:(C,k)=>{il.getPart(C,s,"toolbar").each(E=>{const N=Ve(k,Ck);E.getApis().setGroups(E,N)})},setToolbars:(C,k)=>{il.getPart(C,s,"multiple-toolbar").each(E=>{const N=Ve(k,$=>Ve($,Ck));SO.setItems(E,N)})},refreshToolbar:C=>{il.getPart(C,s,"toolbar").each(k=>k.getApis().refresh(k))},toggleToolbarDrawer:C=>{il.getPart(C,s,"toolbar").each(k=>{ki(k.getApis().toggle,E=>E(k))})},toggleToolbarDrawerWithoutFocusing:C=>{il.getPart(C,s,"toolbar").each(k=>{ki(k.getApis().toggleWithoutFocusing,E=>E(k))})},isToolbarDrawerToggled:C=>il.getPart(C,s,"toolbar").bind(k=>I.from(k.getApis().isOpen).map(E=>E(k))).getOr(!1),getThrobber:C=>il.getPart(C,s,"throbber"),focusToolbar:C=>{il.getPart(C,s,"toolbar").orThunk(()=>il.getPart(C,s,"multiple-toolbar")).each(k=>{eo.focusIn(k)})},setMenubar:(C,k)=>{il.getPart(C,s,"menubar").each(E=>{AO.setMenus(E,k)})},focusMenubar:C=>{il.getPart(C,s,"menubar").each(k=>{AO.focus(k)})},setViews:(C,k)=>{il.getPart(C,s,"viewWrapper").each(E=>{Sk.setViews(E,k)})},toggleView:(C,k)=>il.getPart(C,s,"viewWrapper").exists(E=>Sk.toggleView(E,()=>v.showMainView(C),()=>v.hideMainView(C),k)),whichView:C=>il.getPart(C,s,"viewWrapper").bind(Sk.whichView).getOrNull(),hideMainView:C=>{f=v.isToolbarDrawerToggled(C),f&&v.toggleToolbarDrawer(C),il.getPart(C,s,"editorContainer").each(k=>{const E=k.element;b(E),_o(E,"display","none"),xn(E,"aria-hidden","true")})},showMainView:C=>{f&&v.toggleToolbarDrawer(C),il.getPart(C,s,"editorContainer").each(k=>{const E=k.element;b(E),zs(E,"display"),Uo(E,"aria-hidden")})}};return{uid:s.uid,dom:s.dom,components:l,apis:v,behaviours:s.behaviours}},configFields:[Ht("dom"),Ht("behaviours")],partFields:[WV,zV,UV,HV,jV,ZV,KV,GV,qV,YV],apis:{getSocket:(s,l)=>s.getSocket(l),setSidebar:(s,l,d,f)=>{s.setSidebar(l,d,f)},toggleSidebar:(s,l,d)=>{s.toggleSidebar(l,d)},whichSidebar:(s,l)=>s.whichSidebar(l),getHeader:(s,l)=>s.getHeader(l),getToolbar:(s,l)=>s.getToolbar(l),setToolbar:(s,l,d)=>{s.setToolbar(l,d)},setToolbars:(s,l,d)=>{s.setToolbars(l,d)},refreshToolbar:(s,l)=>s.refreshToolbar(l),toggleToolbarDrawer:(s,l)=>{s.toggleToolbarDrawer(l)},toggleToolbarDrawerWithoutFocusing:(s,l)=>{s.toggleToolbarDrawerWithoutFocusing(l)},isToolbarDrawerToggled:(s,l)=>s.isToolbarDrawerToggled(l),getThrobber:(s,l)=>s.getThrobber(l),setMenubar:(s,l,d)=>{s.setMenubar(l,d)},focusMenubar:(s,l)=>{s.focusMenubar(l)},focusToolbar:(s,l)=>{s.focusToolbar(l)},setViews:(s,l,d)=>{s.setViews(l,d)},toggleView:(s,l,d)=>s.toggleView(l,d),whichView:(s,l)=>s.whichView(l)}});const xM={file:{title:"File",items:"newdocument restoredraft | preview | importword exportpdf exportword | export print | deleteallconversations"},edit:{title:"Edit",items:"undo redo | cut copy paste pastetext | selectall | searchreplace"},view:{title:"View",items:"code revisionhistory | visualaid visualchars visualblocks | spellchecker | preview fullscreen | showcomments"},insert:{title:"Insert",items:"image link media addcomment pageembed inserttemplate codesample inserttable accordion math | charmap emoticons hr | pagebreak nonbreaking anchor tableofcontents footnotes | mergetags | insertdatetime"},format:{title:"Format",items:"bold italic underline strikethrough superscript subscript codeformat | styles blocks fontfamily fontsize align lineheight | forecolor backcolor | language | removeformat"},tools:{title:"Tools",items:"aidialog aishortcuts | spellchecker spellcheckerlanguage | autocorrect capitalization | a11ycheck code typography wordcount addtemplate"},table:{title:"Table",items:"inserttable | cell row column | advtablesort | tableprops deletetable"},help:{title:"Help",items:"help"}},UO=s=>s.split(" "),wM=(s,l)=>{const d={...xM,...l.menus},f=en(l.menus).length>0,b=l.menubar===void 0||l.menubar===!0?UO("file edit view insert format tools table help"):UO(l.menubar===!1?"":l.menubar),v=Xt(b,k=>{const E=uo(xM,k);return f?E||cn(l.menus,k).exists(N=>uo(N,"items")):E}),C=Ve(v,k=>{const E=d[k];return((N,$,B)=>{const U=$D(B).split(/[ ,]/);return{text:N.title,getItems:()=>yn(N.items,J=>{const se=J.toLowerCase();return se.trim().length===0||Rn(U,pe=>pe===se)?[]:se==="separator"||se==="|"?[{type:"separator"}]:$.menuItems[se]?[$.menuItems[se]]:[]})}})({title:E.title,items:UO(E.items)},l,s)});return Xt(C,k=>k.getItems().length>0&&Rn(k.getItems(),E=>h(E)||E.type!=="separator"))},CM=(s,l,d)=>(s.on("remove",()=>d.unload(l)),d.load(l)),WO=(s,l,d,f)=>(s.on("remove",()=>f.unloadRawCss(l)),f.loadRawCss(l,d)),XV=async(s,l)=>{const d="ui/"+KS(s).getOr("default")+"/skin.css",f=tinymce.Resource.get(d);if(!h(f)){const b=s.editorManager.suffix;return CM(s,l+`/skin${b}.css`,s.ui.styleSheetLoader)}WO(s,d,f,s.ui.styleSheetLoader)},JV=async(s,l)=>{var d;if(d=Sn(s.getElement()),rn(d).isSome()){const f="ui/"+KS(s).getOr("default")+"/skin.shadowdom.css",b=tinymce.Resource.get(f);if(!h(b)){const v=s.editorManager.suffix;return CM(s,l+`/skin.shadowdom${v}.css`,Fy.DOM.styleSheetLoader)}WO(s,f,b,Fy.DOM.styleSheetLoader)}},SM=(s,l)=>(async(d,f)=>{const b=()=>{const C=WS(f),k=f.editorManager.suffix;C&&f.contentCSS.push(C+(d?"/content.inline":"/content")+`${k}.css`)};KS(f).fold(b,C=>{const k="ui/"+C+(d?"/content.inline":"/content")+".css",E=tinymce.Resource.get(k);h(E)?WO(f,k,E,f.ui.styleSheetLoader):b()});const v=WS(f);if(!Ub(f)&&h(v))return Promise.all([XV(f,v),JV(f,v)]).then()})(s,l).then((d=>{const f=()=>{d._skinLoaded=!0,(b=>{b.dispatch("SkinLoaded")})(d)};return()=>{d.initialized?f():d.on("init",f)}})(l),((d,f)=>()=>((b,v)=>{b.dispatch("SkinLoadError",v)})(d,{message:"Skin could not be loaded"}))(l)),_M=Ce(SM,!1),QV=Ce(SM,!0),i1=(s,l,d)=>Pc(d)?s.translate(l):s.translate([l,s.translate(d)]),ez=(s,l)=>{const d=(v,C,k,E)=>{const N=s.shared.providers.translate(v.title);if(v.type==="separator")return I.some({type:"separator",text:N});if(v.type==="submenu"){const $=yn(v.getStyleItems(),B=>f(B,C,E));return C===0&&$.length<=0?I.none():I.some({type:"nestedmenuitem",text:N,enabled:$.length>0,getSubmenuItems:()=>yn(v.getStyleItems(),B=>f(B,C,E))})}return I.some({type:"togglemenuitem",text:N,icon:v.icon,active:v.isSelected(E),enabled:!k,onAction:l.onAction(v),...v.getStylePreview().fold(()=>({}),$=>({meta:{style:$}}))})},f=(v,C,k)=>{const E=v.type==="formatter"&&l.isInvalid(v);return C===0?E?[]:d(v,C,!1,k).toArray():d(v,C,E,k).toArray()},b=v=>{const C=l.getCurrentValue(),k=l.shouldHide?0:1;return yn(v,E=>f(E,k,C))};return{validateItems:b,getFetch:(v,C)=>(k,E)=>{const N=C(),$=b(N);E(o1($,xg.CLOSE_ON_EXECUTE,v,{isHorizontalMenu:!1,search:I.none()}))}}},mx=(s,l)=>{const d=l.dataset,f=d.type==="basic"?()=>Ve(d.data,b=>U5(b,l.isSelectedFor,l.getPreviewFor)):d.getData;return{items:ez(s,l),getStyleItems:f}},nC=(s,l,d,f,b,v)=>{const{items:C,getStyleItems:k}=mx(l,d),E=Wn(d.tooltip);return U3({text:d.icon.isSome()?I.none():d.text,icon:d.icon,ariaLabel:I.some(d.tooltip),tooltip:I.none(),role:I.none(),fetch:C.getFetch(l,k),onSetup:N=>{const $=B=>N.setTooltip(i1(s,f(B.value),B.value));return s.on(b,$),Xy(q0(s,"NodeChange",B=>{const U=B.getComponent();d.updateText(U),Oo.set(B.getComponent(),!s.selection.isEditable())})(N),()=>s.off(b,$))},getApi:N=>({getComponent:j(N),setTooltip:$=>{const B=l.shared.providers.translate($);xn(N.element,"aria-label",B),E.set($)}}),columns:1,presets:"normal",classes:d.icon.isSome()?[]:["bespoke"],dropdownBehaviours:[Ii.config({...l.shared.providers.tooltips.getConfig({tooltipText:l.shared.providers.translate(d.tooltip),onShow:N=>{if(d.tooltip!==E.get()){const $=l.shared.providers.translate(E.get());Ii.setComponents(N,l.shared.providers.tooltips.getComponents({tooltipText:$}))}}})})]},"tox-tbtn",l.shared,v)};var a1;(function(s){s[s.SemiColon=0]="SemiColon",s[s.Space=1]="Space"})(a1||(a1={}));const KO=(s,l,d)=>{const f=(b=((v,C)=>C===a1.SemiColon?v.replace(/;$/,"").split(";"):v.split(" "))(s.options.get(l),d),Ve(b,v=>{let C=v,k=v;const E=v.split("=");return E.length>1&&(C=E[0],k=E[1]),{title:C,format:k}}));var b;return{type:"basic",data:f}},kM=j("Alignment {0}"),EM="left",jO=[{title:"Left",icon:"align-left",format:"alignleft",command:"JustifyLeft"},{title:"Center",icon:"align-center",format:"aligncenter",command:"JustifyCenter"},{title:"Right",icon:"align-right",format:"alignright",command:"JustifyRight"},{title:"Justify",icon:"align-justify",format:"alignjustify",command:"JustifyFull"}],ZO=s=>{const l={type:"basic",data:jO};return{tooltip:i1(s,kM(),EM),text:I.none(),icon:I.some("align-left"),isSelectedFor:d=>()=>s.formatter.match(d),getCurrentValue:I.none,getPreviewFor:d=>I.none,onAction:d=>()=>ee(jO,f=>f.format===d.format).each(f=>s.execCommand(f.command)),updateText:d=>{const f=ee(jO,b=>s.formatter.match(b.format)).fold(j(EM),b=>b.title.toLowerCase());Xn(d,Of,{icon:`align-${f}`}),((b,v)=>{b.dispatch("AlignTextUpdate",v)})(s,{value:f})},dataset:l,shouldHide:!1,isInvalid:d=>!s.formatter.canApply(d.format)}},TM=(s,l)=>{const d=l(),f=Ve(d,b=>b.format);return I.from(s.formatter.closest(f)).bind(b=>ee(d,v=>v.format===b))},GO=j("Block {0}"),qO="Paragraph",YO=s=>{const l=KO(s,"block_formats",a1.SemiColon);return{tooltip:i1(s,GO(),qO),text:I.some(qO),icon:I.none(),isSelectedFor:d=>()=>s.formatter.match(d),getCurrentValue:I.none,getPreviewFor:d=>()=>{const f=s.formatter.get(d);return f?I.some({tag:f.length>0&&(f[0].inline||f[0].block)||"div",styles:s.dom.parseStyle(s.formatter.getCssText(d))}):I.none()},onAction:nN(s),updateText:d=>{const f=TM(s,()=>l.data).fold(j(qO),b=>b.title);Xn(d,Nd,{text:f}),((b,v)=>{b.dispatch("BlocksTextUpdate",v)})(s,{value:f})},dataset:l,shouldHide:!1,isInvalid:d=>!s.formatter.canApply(d.format)}},AM=j("Font {0}"),XO="System Font",tz=["-apple-system","Segoe UI","Roboto","Helvetica Neue","sans-serif"],OM=s=>{const l=s.split(/\s*,\s*/);return Ve(l,d=>d.replace(/^['"]+|['"]+$/g,""))},RM=(s,l)=>l.length>0&&qe(l,d=>s.indexOf(d.toLowerCase())>-1),IM=s=>{const l=()=>{const f=N=>N?OM(N)[0]:"",b=s.queryCommandValue("FontName"),v=d.data,C=b?b.toLowerCase():"",k=US(s);return{matchOpt:ee(v,N=>{const $=N.format;return $.toLowerCase()===C||f($).toLowerCase()===f(C).toLowerCase()}).orThunk(()=>qo(((N,$)=>{if(N.indexOf("-apple-system")===0||$.length>0){const B=OM(N.toLowerCase());return RM(B,tz)||RM(B,$)}return!1})(C,k),{title:XO,format:C})),font:b}},d=KO(s,"font_family_formats",a1.SemiColon);return{tooltip:i1(s,AM(),XO),text:I.some(XO),icon:I.none(),isSelectedFor:f=>b=>b.exists(v=>v.format===f),getCurrentValue:()=>{const{matchOpt:f}=l();return f},getPreviewFor:f=>()=>I.some({tag:"div",styles:f.indexOf("dings")===-1?{"font-family":f}:{}}),onAction:f=>()=>{s.undoManager.transact(()=>{s.focus(),s.execCommand("FontName",!1,f.format)})},updateText:f=>{const{matchOpt:b,font:v}=l(),C=b.fold(j(v),k=>k.title);Xn(f,Nd,{text:C}),((k,E)=>{k.dispatch("FontFamilyTextUpdate",E)})(s,{value:C})},dataset:d,shouldHide:!1,isInvalid:Me}},nz={unsupportedLength:["em","ex","cap","ch","ic","rem","lh","rlh","vw","vh","vi","vb","vmin","vmax","cm","mm","Q","in","pc","pt","px"],fixed:["px","pt"],relative:["%"],empty:[""]},oz=(()=>{const s="[0-9]+",l="[eE][+-]?"+s,d=b=>`(?:${b})?`,f=["Infinity",s+"\\."+d(s)+d(l),"\\."+s+d(l),s+d(l)].join("|");return new RegExp(`^([+-]?(?:${f}))(.*)$`)})(),_k=(s,l)=>I.from(oz.exec(s)).bind(d=>{const f=Number(d[1]),b=d[2];return((v,C)=>Rn(C,k=>Rn(nz[k],E=>v===E)))(b,l)?I.some({value:f,unit:b}):I.none()}),DM={tab:j(9),escape:j(27),enter:j(13),backspace:j(8),delete:j(46),left:j(37),up:j(38),right:j(39),down:j(40),space:j(32),home:j(36),end:j(35),pageUp:j(33),pageDown:j(34)},PM=j("Font size {0}"),NM="12pt",sz={"8pt":"1","10pt":"2","12pt":"3","14pt":"4","18pt":"5","24pt":"6","36pt":"7"},MM={"xx-small":"7pt","x-small":"8pt",small:"10pt",medium:"12pt",large:"14pt","x-large":"18pt","xx-large":"24pt"},rz=(s,l)=>/[0-9.]+px$/.test(s)?((d,f)=>{const b=Math.pow(10,f);return Math.round(d*b)/b})(72*parseInt(s,10)/96,l||0)+"pt":cn(MM,s).getOr(s),iz=s=>cn(sz,s).getOr(""),LM=s=>{const l=()=>{let b=I.none();const v=f.data,C=s.queryCommandValue("FontSize");if(C)for(let k=3;b.isNone()&&k>=0;k--){const E=rz(C,k),N=iz(E);b=ee(v,$=>$.format===C||$.format===E||$.format===N)}return{matchOpt:b,size:C}},d=j(I.none),f=KO(s,"font_size_formats",a1.Space);return{tooltip:i1(s,PM(),NM),text:I.some(NM),icon:I.none(),isSelectedFor:b=>v=>v.exists(C=>C.format===b),getPreviewFor:d,getCurrentValue:()=>{const{matchOpt:b}=l();return b},onAction:b=>()=>{s.undoManager.transact(()=>{s.focus(),s.execCommand("FontSize",!1,b.format)})},updateText:b=>{const{matchOpt:v,size:C}=l(),k=v.fold(j(C),E=>E.title);Xn(b,Nd,{text:k}),((E,N)=>{E.dispatch("FontSizeTextUpdate",N)})(s,{value:k})},dataset:f,shouldHide:!1,isInvalid:Me}},BM=s=>Pc(s)?"Formats":"Format {0}",FM=(s,l)=>{const d="Formats";return{tooltip:i1(s,BM(""),""),text:I.some(d),icon:I.none(),isSelectedFor:f=>()=>s.formatter.match(f),getCurrentValue:I.none,getPreviewFor:f=>()=>{const b=s.formatter.get(f);return b!==void 0?I.some({tag:b.length>0&&(b[0].inline||b[0].block)||"div",styles:s.dom.parseStyle(s.formatter.getCssText(f))}):I.none()},onAction:nN(s),updateText:f=>{const b=k=>V5(k)?yn(k.items,b):z5(k)?[{title:k.title,format:k.format}]:[],v=yn(H5(s),b),C=TM(s,j(v)).fold(j({title:d,tooltipLabel:""}),k=>({title:k.title,tooltipLabel:k.title}));Xn(f,Nd,{text:C.title}),((k,E)=>{k.dispatch("StylesTextUpdate",E)})(s,{value:C.tooltipLabel})},shouldHide:FD(s),isInvalid:f=>!s.formatter.canApply(f.format),dataset:l}},JO=j([Ht("toggleClass"),Ht("fetch"),pf("onExecute"),vt("getHotspot",I.some),vt("getAnchorOverrides",j({})),sg(),pf("onItemExecute"),ds("lazySink"),Ht("dom"),ks("onOpen"),Mn("splitDropdownBehaviours",[di,eo,Eo]),vt("matchWidth",!1),vt("useMinWidth",!1),vt("eventOrder",{}),ds("role"),ds("listRole")].concat(qA())),az=hc({factory:$l,schema:[Ht("dom")],name:"arrow",defaults:()=>({buttonBehaviours:an([Eo.revoke()])}),overrides:s=>({dom:{tag:"span",attributes:{role:"presentation"}},action:l=>{l.getSystem().getByUid(s.uid).each(gf)},buttonBehaviours:an([yo.config({toggleOnExecute:!1,toggleClass:s.toggleClass})])})}),lz=hc({factory:$l,schema:[Ht("dom")],name:"button",defaults:()=>({buttonBehaviours:an([Eo.revoke()])}),overrides:s=>({dom:{tag:"span",attributes:{role:"presentation"}},action:l=>{l.getSystem().getByUid(s.uid).each(d=>{s.onExecute(d,l)})}})}),cz=j([az,lz,Td({factory:{sketch:s=>({uid:s.uid,dom:{tag:"span",styles:{display:"none"},attributes:{"aria-hidden":"true"},innerHtml:s.text}})},schema:[Ht("text")],name:"aria-descriptor"}),wm({schema:[bp()],name:"menu",defaults:s=>({onExecute:(l,d)=>{l.getSystem().getByUid(s.uid).each(f=>{s.onItemExecute(f,l,d)})}})}),vN()]),oC=Ec({name:"SplitDropdown",configFields:JO(),partFields:cz(),factory:(s,l,d,f)=>{const b=N=>{Os.getCurrent(N).each($=>{Gs.highlightFirst($),eo.focusIn($)})},v=N=>{jA(s,me,N,f,b,ec.HighlightMenuAndItem).get(W)},C=N=>{const $=Np(N,s,"button");return gf($),I.some(!0)},k={...To([hr((N,$)=>{vr(N,s,"aria-descriptor").each(B=>{const U=Nn("aria");xn(B.element,"id",U),xn(N.element,"aria-describedby",U)})})]),...By(I.some(v))},E={repositionMenus:N=>{yo.isOn(N)&&wN(N)}};return{uid:s.uid,dom:s.dom,components:l,apis:E,eventOrder:{...s.eventOrder,[yl()]:["disabling","toggling","alloy.base.behaviour"]},events:k,behaviours:zo(s.splitDropdownBehaviours,[di.config({others:{sandbox:N=>{const $=Np(N,s,"arrow");return GA(s,N,{onOpen:()=>{yo.on($),yo.on(N)},onClose:()=>{yo.off($),yo.off(N)}})}}}),eo.config({mode:"special",onSpace:C,onEnter:C,onDown:N=>(v(N),I.some(!0))}),Eo.config({}),yo.config({toggleOnExecute:!1,aria:{mode:"expanded"}})]),domModification:{attributes:{role:s.role.getOr("button"),"aria-haspopup":!0}}}},apis:{repositionMenus:(s,l)=>s.repositionMenus(l)}}),QO=s=>({isEnabled:()=>!Oo.isDisabled(s),setEnabled:l=>Oo.set(s,!l),setText:l=>Xn(s,Nd,{text:l}),setIcon:l=>Xn(s,Of,{icon:l})}),uz=s=>({setActive:l=>{yo.set(s,l)},isActive:()=>yo.isOn(s),isEnabled:()=>!Oo.isDisabled(s),setEnabled:l=>Oo.set(s,!l),setText:l=>Xn(s,Nd,{text:l}),setIcon:l=>Xn(s,Of,{icon:l})}),$M=(s,l)=>s.map(d=>({"aria-label":l.translate(d)})).getOr({}),e4=Nn("focus-button"),t4=(s,l,d,f,b,v)=>{const C=l.map(E=>Ks(H3(E,"tox-tbtn",b))),k=s.map(E=>Ks(lv(E,b.icons)));return{dom:{tag:"button",classes:["tox-tbtn"].concat(l.isSome()?["tox-tbtn--select"]:[]),attributes:{...$M(d,b),...K(v)?{"data-mce-name":v}:{}}},components:Zy([k.map(E=>E.asSpec()),C.map(E=>E.asSpec())]),eventOrder:{[Ut()]:["focusing","alloy.base.behaviour",av],[ba()]:[av,"toolbar-group-button-events"]},buttonBehaviours:an([f_(b.isDisabled),va(),jo(av,[hr((E,N)=>Q_(E)),Lt(Nd,(E,N)=>{C.bind($=>$.getOpt(E)).each($=>{go.set($,[ui(b.translate(N.event.text))])})}),Lt(Of,(E,N)=>{k.bind($=>$.getOpt(E)).each($=>{go.set($,[lv(N.event.icon,b.icons)])})}),Lt(Ut(),(E,N)=>{N.event.prevent(),Wo(E,e4)})])].concat(f.getOr([])))}},VM=(s,l,d,f)=>{var b;const v=Wn(W),C=t4(s.icon,s.text,s.tooltip,I.none(),d,f);return $l.sketch({dom:C.dom,components:C.components,eventOrder:z3,buttonBehaviours:{...an([jo("toolbar-button-events",[(k={onAction:s.onAction,getApi:l.getApi},pu((E,N)=>{T2(k,E)($=>{Xn(E,J_,{buttonApi:$}),k.onAction($)})})),Jb(l,v),Vp(l,v)]),...s.tooltip.map(E=>Ii.config(d.tooltips.getConfig({tooltipText:d.translate(E)+s.shortcut.map(N=>` (${m_(N)})`).getOr("")}))).toArray(),f_(()=>!s.enabled||d.isDisabled()),va()].concat(l.toolbarButtonBehaviours)),[av]:(b=C.buttonBehaviours)===null||b===void 0?void 0:b[av]}});var k},zM=(s,l,d,f)=>VM(s,{toolbarButtonBehaviours:d.length>0?[jo("toolbarButtonWith",d)]:[],getApi:QO,onSetup:s.onSetup},l,f),HM=(s,l,d,f)=>VM(s,{toolbarButtonBehaviours:[go.config({}),yo.config({toggleClass:"tox-tbtn--enabled",aria:{mode:"pressed"},toggleOnExecute:!1})].concat(d.length>0?[jo("toolbarToggleButtonWith",d)]:[]),getApi:uz,onSetup:s.onSetup},l,f),dz=(s,l,d)=>f=>Qb(b=>l.fetch(b)).map(b=>I.from(YA(qs(X0(Nn("menu-value"),b,v=>{l.onItemAction(s(f),v)},l.columns,l.presets,xg.CLOSE_ON_EXECUTE,l.select.getOr(Me),d),{movement:D2(l.columns,l.presets),menuBehaviours:E2(l.columns!=="auto"?[]:[hr((v,C)=>{wA(v,4,qb(l.presets)).each(({numRows:k,numColumns:E})=>{eo.setGridSize(v,k,E)})})])})))),fz=[{name:"history",items:["undo","redo"]},{name:"ai",items:["aidialog","aishortcuts"]},{name:"styles",items:["styles"]},{name:"formatting",items:["bold","italic"]},{name:"alignment",items:["alignleft","aligncenter","alignright","alignjustify"]},{name:"indentation",items:["outdent","indent"]},{name:"permanent pen",items:["permanentpen"]},{name:"comments",items:["addcomment"]}],fv=(s,l)=>(d,f,b,v)=>{const C=s(d).mapError(k=>qa(k)).getOrDie();return l(C,f,b,v)},mz={button:fv(RP,(s,l,d,f)=>((b,v,C)=>zM(b,v,[],C))(s,l.shared.providers,f)),togglebutton:fv(c_,(s,l,d,f)=>((b,v,C)=>HM(b,v,[],C))(s,l.shared.providers,f)),menubutton:fv(rM,(s,l,d,f)=>ix(s,"tox-tbtn",l,I.none(),!1,f)),splitbutton:fv(s=>Ir("SplitButton",vV,s),(s,l,d,f)=>((b,v,C)=>{const k=Wn(b.tooltip.getOr("")),E=B=>({isEnabled:()=>!Oo.isDisabled(B),setEnabled:U=>Oo.set(B,!U),setIconFill:(U,J)=>{Lr(B.element,`svg path[class="${U}"], rect[class="${U}"]`).each(se=>{xn(se,"fill",J)})},setActive:U=>{xn(B.element,"aria-pressed",U),Lr(B.element,"span").each(J=>{B.getSystem().getByDom(J).each(se=>yo.set(se,U))})},isActive:()=>Lr(B.element,"span").exists(U=>B.getSystem().getByDom(U).exists(yo.isOn)),setText:U=>Lr(B.element,"span").each(J=>B.getSystem().getByDom(J).each(se=>Xn(se,Nd,{text:U}))),setIcon:U=>Lr(B.element,"span").each(J=>B.getSystem().getByDom(J).each(se=>Xn(se,Of,{icon:U}))),setTooltip:U=>{const J=v.providers.translate(U);xn(B.element,"aria-label",J),k.set(U)}}),N=Wn(W),$={getApi:E,onSetup:b.onSetup};return oC.sketch({dom:{tag:"div",classes:["tox-split-button"],attributes:{"aria-pressed":!1,...$M(b.tooltip,v.providers),...K(C)?{"data-mce-name":C}:{}}},onExecute:B=>{const U=E(B);U.isEnabled()&&b.onAction(U)},onItemExecute:(B,U,J)=>{},splitDropdownBehaviours:an([zP(v.providers.isDisabled),va(),jo("split-dropdown-events",[hr((B,U)=>Q_(B)),Lt(e4,Eo.focus),Jb($,N),Vp($,N)]),Q0.config({}),...b.tooltip.map(B=>Ii.config({...v.providers.tooltips.getConfig({tooltipText:v.providers.translate(B),onShow:U=>{if(k.get()!==B){const J=v.providers.translate(k.get());Ii.setComponents(U,v.providers.tooltips.getComponents({tooltipText:J}))}}})})).toArray()]),eventOrder:{[ba()]:["alloy.base.behaviour","split-dropdown-events","tooltipping"],[Wc()]:["split-dropdown-events","tooltipping"]},toggleClass:"tox-tbtn--enabled",lazySink:v.getSink,fetch:dz(E,b,v.providers),parts:{menu:s_(0,b.columns,b.presets)},components:[oC.parts.button(t4(b.icon,b.text,I.none(),I.some([yo.config({toggleClass:"tox-tbtn--enabled",toggleOnExecute:!1})]),v.providers)),oC.parts.arrow({dom:{tag:"button",classes:["tox-tbtn","tox-split-button__chevron"],innerHtml:lP("chevron-down",v.providers.icons)},buttonBehaviours:an([zP(v.providers.isDisabled),va(),t_()])}),oC.parts["aria-descriptor"]({text:v.providers.translate("To open the popup, press Shift+Enter")})]})})(s,l.shared,f)),grouptoolbarbutton:fv(s=>Ir("GroupToolbarButton",pV,s),(s,l,d,f)=>{const b=d.ui.registry.getAll().buttons,v={[gc]:l.shared.header.isPositionedAtTop()?nd.TopToBottom:nd.BottomToTop};if(F0(d)===wf.floating)return((C,k,E,N,$)=>{const B=k.shared,U=Wn(W),J={toolbarButtonBehaviours:[],getApi:QO,onSetup:C.onSetup},se=[jo("toolbar-group-button-events",[Jb(J,U),Vp(J,U)])];return Gp.sketch({lazySink:B.getSink,fetch:()=>Qb(pe=>{pe(Ve(E(C.items),Ck))}),markers:{toggledClass:"tox-tbtn--enabled"},parts:{button:t4(C.icon,C.text,C.tooltip,I.some(se),B.providers,$),toolbar:{dom:{tag:"div",classes:["tox-toolbar__overflow"],attributes:N}}}})})(s,l,C=>kk(d,{buttons:b,toolbar:C,allowToolbarGroups:!1},l,I.none()),v,f);throw new Error("Toolbar groups are only supported when using floating toolbar mode")})},sC={styles:(s,l)=>{const d={type:"advanced",...l.styles};return nC(s,l,FM(s,d),BM,"StylesTextUpdate","styles")},fontsize:(s,l)=>nC(s,l,LM(s),PM,"FontSizeTextUpdate","fontsize"),fontsizeinput:(s,l)=>((d,f,b,v)=>{let C=I.none();const k=q0(d,"NodeChange SwitchMode",ke=>{const Ie=ke.getComponent();C=I.some(Ie),b.updateInputValue(Ie),Oo.set(Ie,!d.selection.isEditable())}),E=ke=>({getComponent:j(ke)}),N=Wn(W),$=Nn("custom-number-input-events"),B=(ke,Ie,Le)=>{const Qe=C.map(sn=>St.getValue(sn)).getOr(""),ht=b.getNewValue(Qe,ke),zt=Qe.length-`${ht}`.length,Bt=C.map(sn=>sn.element.dom.selectionStart-zt),Pt=C.map(sn=>sn.element.dom.selectionEnd-zt);b.onAction(ht,Le),C.each(sn=>{St.setValue(sn,ht),Ie&&(Bt.each(In=>sn.element.dom.selectionStart=In),Pt.each(In=>sn.element.dom.selectionEnd=In))})},U=(ke,Ie)=>B((Le,Qe)=>Le-Qe,ke,Ie),J=(ke,Ie)=>B((Le,Qe)=>Le+Qe,ke,Ie),se=ke=>Aa(ke.element).fold(I.none,Ie=>(Ll(Ie),I.some(!0))),pe=ke=>Tp(ke.element)?(Be(ke.element).each(Ie=>Ll(Ie)),I.some(!0)):I.none(),ye=(ke,Ie,Le,Qe)=>{const ht=Wn(W),zt=f.shared.providers.translate(Le),Bt=Nn("altExecuting"),Pt=q0(d,"NodeChange SwitchMode",In=>{Oo.set(In.getComponent(),!d.selection.isEditable())}),sn=In=>{Oo.isDisabled(In)||ke(!0)};return $l.sketch({dom:{tag:"button",attributes:{"aria-label":zt,"data-mce-name":Ie},classes:Qe.concat(Ie)},components:[W2(Ie,f.shared.providers.icons)],buttonBehaviours:an([Oo.config({}),Ii.config(f.shared.providers.tooltips.getConfig({tooltipText:zt})),jo(Bt,[Jb({onSetup:Pt,getApi:E},ht),Vp({getApi:E},ht),Lt(Pr(),(In,Kn)=>{Kn.event.raw.keyCode!==DM.space()&&Kn.event.raw.keyCode!==DM.enter()||Oo.isDisabled(In)||ke(!1)}),Lt(bi(),sn),Lt(We(),sn)])]),eventOrder:{[Pr()]:[Bt,"keying"],[bi()]:[Bt,"alloy.base.behaviour"],[We()]:[Bt,"alloy.base.behaviour"],[ba()]:["alloy.base.behaviour",Bt,"tooltipping"],[Wc()]:[Bt,"tooltipping"]}})},Re=Ks(ye(ke=>U(!1,ke),"minus","Decrease font size",[])),ve=Ks(ye(ke=>J(!1,ke),"plus","Increase font size",[])),be=Ks({dom:{tag:"div",classes:["tox-input-wrapper"]},components:[$p.sketch({inputBehaviours:an([Oo.config({}),jo($,[Jb({onSetup:k,getApi:E},N),Vp({getApi:E},N)]),jo("input-update-display-text",[Lt(Nd,(ke,Ie)=>{St.setValue(ke,Ie.event.text)}),Lt(ei(),ke=>{b.onAction(St.getValue(ke))}),Lt(rm(),ke=>{b.onAction(St.getValue(ke))})]),eo.config({mode:"special",onEnter:ke=>(B(me,!0,!0),I.some(!0)),onEscape:se,onUp:ke=>(J(!0,!1),I.some(!0)),onDown:ke=>(U(!0,!1),I.some(!0)),onLeft:(ke,Ie)=>(Ie.cut(),I.none()),onRight:(ke,Ie)=>(Ie.cut(),I.none())})])})],behaviours:an([Eo.config({}),eo.config({mode:"special",onEnter:pe,onSpace:pe,onEscape:se}),jo("input-wrapper-events",[Lt(jn(),ke=>{bt([Re,ve],Ie=>{const Le=Sn(Ie.get(ke).element.dom);Tp(Le)&&a0(Le)})})])])});return{dom:{tag:"div",classes:["tox-number-input"],attributes:{...K(v)?{"data-mce-name":v}:{}}},components:[Re.asSpec(),be.asSpec(),ve.asSpec()],behaviours:an([Eo.config({}),eo.config({mode:"flow",focusInside:O0.OnEnterOrSpaceMode,cycles:!1,selector:"button, .tox-input-wrapper",onEscape:ke=>Tp(ke.element)?I.none():(Ll(ke.element),I.some(!0))})])}})(s,l,(d=>{const f=()=>d.queryCommandValue("FontSize");return{updateInputValue:b=>Xn(b,Nd,{text:f()}),onAction:(b,v)=>d.execCommand("FontSize",!1,b,{skip_focus:!v}),getNewValue:(b,v)=>{_k(b,["unsupportedLength","empty"]);const C=f(),k=_k(b,["unsupportedLength","empty"]).or(_k(C,["unsupportedLength","empty"])),E=k.map(J=>J.value).getOr(16),N=ZT(d),$=k.map(J=>J.unit).filter(J=>J!=="").getOr(N),B=v(E,(J=>{var se;return(se={em:{step:.1},cm:{step:.1},in:{step:.1},pc:{step:.1},ch:{step:.1},rem:{step:.1}}[J])!==null&&se!==void 0?se:{step:1}})($).step),U=`${(J=>J>=0)(B)?B:E}${$}`;return U!==C&&((J,se)=>{J.dispatch("FontSizeInputTextUpdate",se)})(d,{value:U}),U}}})(s),"fontsizeinput"),fontfamily:(s,l)=>nC(s,l,IM(s),AM,"FontFamilyTextUpdate","fontfamily"),blocks:(s,l)=>nC(s,l,YO(s),GO,"BlocksTextUpdate","blocks"),align:(s,l)=>nC(s,l,ZO(s),kM,"AlignTextUpdate","align")},kk=(s,l,d,f)=>{const b=(C=>{const k=C.toolbar,E=C.buttons;return k===!1?[]:k===void 0||k===!0?(N=>{const $=Ve(fz,B=>{const U=Xt(B.items,J=>uo(N,J)||uo(sC,J));return{name:B.name,items:U}});return Xt($,B=>B.items.length>0)})(E):h(k)?(N=>{const $=N.split("|");return Ve($,B=>({items:B.trim().split(" ")}))})(k):(N=>re(N,$=>uo($,"name")&&uo($,"items")))(k)?k:(console.error("Toolbar type should be string, string[], boolean or ToolbarGroup[]"),[])})(l),v=Ve(b,C=>{const k=yn(C.items,E=>E.trim().length===0?[]:((N,$,B,U,J,se)=>cn($,B.toLowerCase()).orThunk(()=>se.bind(pe=>pn(pe,ye=>cn($,ye+B.toLowerCase())))).fold(()=>cn(sC,B.toLowerCase()).map(pe=>pe(N,J)),pe=>pe.type!=="grouptoolbarbutton"||U?((ye,Re,ve,be)=>cn(mz,ye.type).fold(()=>(console.error("skipping button defined by",ye),I.none()),ke=>I.some(ke(ye,Re,ve,be))))(pe,J,N,B.toLowerCase()):(console.warn(`Ignoring the '${B}' toolbar button. Group toolbar buttons are only supported when using floating toolbar mode and cannot be nested.`),I.none())))(s,l.buttons,E,l.allowToolbarGroups,d,f).toArray());return{title:I.from(s.translate(C.name)),items:k}});return Xt(v,C=>C.items.length>0)},UM=(s,l,d,f)=>{const b=l.mainUi.outerContainer,v=d.toolbar,C=d.buttons;if(re(v,h)){const k=v.map(E=>{const N={toolbar:E,buttons:C,allowToolbarGroups:d.allowToolbarGroups};return kk(s,N,f,I.none())});_r.setToolbars(b,k)}else _r.setToolbar(b,kk(s,d,f,I.none()))},WM=Ki(),gz=WM.os.isiOS()&&WM.os.version.major<=12;var $K=Object.freeze({__proto__:null,render:(s,l,d,f,b)=>{const{mainUi:v,uiMotherships:C}=l,k=Wn(0),E=v.outerContainer;_M(s);const N=Sn(b.targetNode),$=ut(Ct(N));Dt(N,v.mothership),((se,pe,ye)=>{Fp(se)&&Dt(ye.mainUi.mothership.element,ye.popupUi.mothership),Dw(pe,ye.dialogUi.mothership)})(s,$,l),s.on("SkinLoaded",()=>{_r.setSidebar(E,d.sidebar,HS(s)),UM(s,l,d,f),k.set(s.getWin().innerWidth),_r.setMenubar(E,wM(s,d)),_r.setViews(E,d.views),((se,pe)=>{const{uiMotherships:ye}=pe,Re=se.dom;let ve=se.getWin();const be=se.getDoc().documentElement,ke=Wn(rr(ve.innerWidth,ve.innerHeight)),Ie=Wn(rr(be.offsetWidth,be.offsetHeight)),Le=()=>{const Bt=ke.get();Bt.left===ve.innerWidth&&Bt.top===ve.innerHeight||(ke.set(rr(ve.innerWidth,ve.innerHeight)),G0(se))},Qe=()=>{const Bt=se.getDoc().documentElement,Pt=Ie.get();Pt.left===Bt.offsetWidth&&Pt.top===Bt.offsetHeight||(Ie.set(rr(Bt.offsetWidth,Bt.offsetHeight)),G0(se))},ht=Bt=>{((Pt,sn)=>{Pt.dispatch("ScrollContent",sn)})(se,Bt)};Re.bind(ve,"resize",Le),Re.bind(ve,"scroll",ht);const zt=Sw(Sn(se.getBody()),"load",Qe);se.on("hide",()=>{bt(ye,Bt=>{_o(Bt.element,"display","none")})}),se.on("show",()=>{bt(ye,Bt=>{zs(Bt.element,"display")})}),se.on("NodeChange",Qe),se.on("remove",()=>{zt.unbind(),Re.unbind(ve,"resize",Le),Re.unbind(ve,"scroll",ht),ve=null})})(s,l)});const B=_r.getSocket(E).getOrDie("Could not find expected socket element");if(gz){Ol(B.element,{overflow:"scroll","-webkit-overflow-scrolling":"touch"});const se=((ye,Re)=>{let ve=null;return{cancel:()=>{P(ve)||(clearTimeout(ve),ve=null)},throttle:(...be)=>{P(ve)&&(ve=setTimeout(()=>{ve=null,ye.apply(null,be)},20))}}})(()=>{s.dispatch("ScrollContent")}),pe=Bl(B.element,"scroll",se.throttle);s.on("remove",pe.unbind)}VP(s,l),s.addCommand("ToggleSidebar",(se,pe)=>{_r.toggleSidebar(E,pe),(ye=>{ye.dispatch("ToggleSidebar")})(s)}),s.addQueryValueHandler("ToggleSidebar",()=>{var se;return(se=_r.whichSidebar(E))!==null&&se!==void 0?se:""}),s.addCommand("ToggleView",(se,pe)=>{if(_r.toggleView(E,pe)){const ye=E.element;v.mothership.broadcastOn([F()],{target:ye}),bt(C,Re=>{Re.broadcastOn([F()],{target:ye})}),P(_r.whichView(E))&&(s.focus(),s.nodeChanged(),_r.refreshToolbar(E)),(Re=>{Re.dispatch("ToggleView")})(s)}}),s.addQueryValueHandler("ToggleView",()=>{var se;return(se=_r.whichView(E))!==null&&se!==void 0?se:""});const U=F0(s);U!==wf.sliding&&U!==wf.floating||s.on("ResizeWindow ResizeEditor ResizeContent",()=>{const se=s.getWin().innerWidth;se!==k.get()&&(_r.refreshToolbar(l.mainUi.outerContainer),k.set(se))});const J={setEnabled:se=>{j0(l,!se)},isEnabled:()=>!Oo.isDisabled(E)};return{iframeContainer:B.element.dom,editorContainer:E.element.dom,api:J}}});const rC=s=>/^[0-9\.]+(|px)$/i.test(""+s)?I.some(parseInt(""+s,10)):I.none(),mv=s=>te(s)?s+"px":s,iC=(s,l,d)=>{const f=l.filter(v=>s<v),b=d.filter(v=>s>v);return f.or(b).getOr(s)},n4=s=>{const l=e2(s),d=t2(s),f=Vy(s);return rC(l).map(b=>iC(b,d,f))},{ToolbarLocation:o4,ToolbarMode:KM}=a2,hz=(s,l,d,f,b)=>{const{mainUi:v,uiMotherships:C}=d,k=Fy.DOM,E=$0(s),N=Bp(s),$=Vy(s).or(n4(s)),B=f.shared.header,U=B.isPositionedAtTop,J=F0(s),se=J===KM.sliding||J===KM.floating,pe=Wn(!1),ye=()=>pe.get()&&!s.removed,Re=Ie=>se?Ie.fold(j(0),Le=>Le.components().length>1?Rr(Le.components()[1].element):0):0,ve=()=>{bt(C,Ie=>{Ie.broadcastOn([Z()],{})})},be=Ie=>{if(!ye())return;E||b.on(ht=>{const zt=$.getOrThunk(()=>Ei().width-ua(l).left-10);_o(ht.element,"max-width",zt+"px")});const Le=fr(),Qe=!(E||E||!(Pl(v.outerContainer.element).left+Ka(v.outerContainer.element)>=window.innerWidth-40||Jr(v.outerContainer.element,"width").isSome())||(_o(v.outerContainer.element,"position","absolute"),_o(v.outerContainer.element,"left","0px"),zs(v.outerContainer.element,"width"),0));if(se&&_r.refreshToolbar(v.outerContainer),!E){const ht=fr(),zt=qo(Le.left!==ht.left,Le);((Bt,Pt)=>{b.on(sn=>{const In=_r.getToolbar(v.outerContainer),Kn=Re(In),ro=ai(l),Ro=((Zo,Es)=>Fp(Zo)?um(Es):I.none())(s,v.outerContainer.element),as=Ro.fold(()=>ro.x,Zo=>{const Es=ai(Zo);return cs(Zo,Tn())?ro.x:ro.x-Es.x}),kr=qo(Bt,Math.ceil(v.outerContainer.element.dom.getBoundingClientRect().width)).filter(Zo=>Zo>150).map(Zo=>{const Es=Pt.getOr(fr()),fo=window.innerWidth-(as-Es.left),Fr=Math.max(Math.min(Zo,fo),150);return fo<Zo&&_o(v.outerContainer.element,"width",Fr+"px"),{width:Fr+"px"}}).getOr({width:"max-content"}),Br={position:"absolute",left:Math.round(as)+"px",top:Ro.fold(()=>U()?Math.max(ro.y-Rr(sn.element)+Kn,0):ro.bottom,Zo=>{var Es;const fo=ai(Zo),Fr=(Es=Zo.dom.scrollTop)!==null&&Es!==void 0?Es:0,nr=cs(Zo,Tn())?Math.max(ro.y-Rr(sn.element)+Kn,0):ro.y-fo.y+Fr-Rr(sn.element)+Kn;return U()?nr:ro.bottom})+"px"};Ol(v.outerContainer.element,{...Br,...kr})})})(Qe,zt),zt.each(Bt=>{tf(Bt.left,ht.top)})}N&&b.on(Ie),ve()},ke=()=>!(E||!N||!ye())&&b.get().exists(Ie=>{const Le=B.getDockingMode(),Qe=(zt=>{switch(Hb(s)){case o4.auto:const Bt=_r.getToolbar(v.outerContainer),Pt=Re(Bt),sn=Rr(zt.element)-Pt,In=ai(l);if(In.y>sn)return"top";{const Kn=hl(l),ro=Math.max(Kn.dom.scrollHeight,Rr(Kn));return In.bottom<ro-sn||Ni().bottom<In.bottom-sn?"bottom":"top"}case o4.bottom:return"bottom";case o4.top:default:return"top"}})(Ie);return Qe!==Le&&(ht=Qe,b.on(zt=>{Mr.setModes(zt,[ht]),B.setDockingMode(ht);const Bt=U()?nd.TopToBottom:nd.BottomToTop;xn(zt.element,gc,Bt)}),!0);var ht});return{isVisible:ye,isPositionedAtTop:U,show:()=>{pe.set(!0),_o(v.outerContainer.element,"display","flex"),k.addClass(s.getBody(),"mce-edit-focus"),bt(C,Ie=>{zs(Ie.element,"display")}),ke(),Fp(s)?be(Ie=>Mr.isDocked(Ie)?Mr.reset(Ie):Mr.refresh(Ie)):be(Mr.refresh)},hide:()=>{pe.set(!1),_o(v.outerContainer.element,"display","none"),k.removeClass(s.getBody(),"mce-edit-focus"),bt(C,Ie=>{_o(Ie.element,"display","none")})},update:be,updateMode:()=>{ke()&&be(Mr.reset)},repositionPopups:ve}},jM=(s,l)=>{const d=ai(s);return{pos:l?d.y:d.bottom,bounds:d}};var pz=Object.freeze({__proto__:null,render:(s,l,d,f,b)=>{const{mainUi:v}=l,C=_s(),k=Sn(b.targetNode),E=hz(s,k,l,f,C),N=VD(s);QV(s);const $=()=>{if(C.isSet())return void E.show();C.set(_r.getHeader(v.outerContainer).getOrDie());const U=ZS(s);Fp(s)?(Dt(k,v.mothership),Dt(k,l.popupUi.mothership)):Dw(U,v.mothership),Dw(U,l.dialogUi.mothership);const J=()=>{UM(s,l,d,f),_r.setMenubar(v.outerContainer,wM(s,d)),E.show(),((se,pe,ye,Re)=>{const ve=Wn(jM(pe,ye.isPositionedAtTop())),be=Qe=>{const{pos:ht,bounds:zt}=jM(pe,ye.isPositionedAtTop()),{pos:Bt,bounds:Pt}=ve.get(),sn=zt.height!==Pt.height||zt.width!==Pt.width;ve.set({pos:ht,bounds:zt}),sn&&G0(se,Qe),ye.isVisible()&&(Bt!==ht?ye.update(Mr.reset):sn&&(ye.updateMode(),ye.repositionPopups()))};Re||(se.on("activate",ye.show),se.on("deactivate",ye.hide)),se.on("SkinLoaded ResizeWindow",()=>ye.update(Mr.reset)),se.on("NodeChange keydown",Qe=>{requestAnimationFrame(()=>be(Qe))});let ke=0;const Ie=R3(()=>ye.update(Mr.refresh),33);se.on("ScrollWindow",()=>{const Qe=fr().left;Qe!==ke&&(ke=Qe,Ie.throttle()),ye.updateMode()}),Fp(se)&&se.on("ElementScroll",Qe=>{ye.update(Mr.refresh)});const Le=Lc();Le.set(Sw(Sn(se.getBody()),"load",Qe=>be(Qe.raw))),se.on("remove",()=>{Le.clear()})})(s,k,E,N),s.nodeChanged()};N?s.once("SkinLoaded",J):J()};s.on("show",$),s.on("hide",E.hide),N||(s.on("focus",$),s.on("blur",E.hide)),s.on("init",()=>{(s.hasFocus()||N)&&$()}),VP(s,l);const B={show:$,hide:E.hide,setEnabled:U=>{j0(l,!U)},isEnabled:()=>!Oo.isDisabled(v.outerContainer)};return{editorContainer:v.outerContainer.element.dom,api:B}}});const ZM="contexttoolbar-hide",GM=(s,l)=>Lt(J_,(d,f)=>{const b=(v=>({hide:()=>Wo(v,up()),getValue:()=>St.getValue(v)}))(s.get(d));l.onAction(b,f.event.buttonApi)}),bz=(s,l)=>{const d=s.label.fold(()=>({}),v=>({"aria-label":v})),f=Ks($p.sketch({inputClasses:["tox-toolbar-textfield","tox-toolbar-nav-js"],data:s.initValue(),inputAttributes:d,selectOnFocus:!0,inputBehaviours:an([eo.config({mode:"special",onEnter:v=>b.findPrimary(v).map(C=>(gf(C),!0)),onLeft:(v,C)=>(C.cut(),I.none()),onRight:(v,C)=>(C.cut(),I.none())})])})),b=((v,C,k)=>{const E=Ve(C,N=>Ks((($,B,U)=>(J=>J.type==="contextformtogglebutton")(B)?((J,se,pe)=>{const{primary:ye,...Re}=se.original,ve=Pa(c_({...Re,type:"togglebutton",onAction:W}));return HM(ve,pe,[GM(J,se)])})($,B,U):((J,se,pe)=>{const{primary:ye,...Re}=se.original,ve=Pa(RP({...Re,type:"button",onAction:W}));return zM(ve,pe,[GM(J,se)])})($,B,U))(v,N,k)));return{asSpecs:()=>Ve(E,N=>N.asSpec()),findPrimary:N=>pn(C,($,B)=>$.primary?I.from(E[B]).bind(U=>U.getOpt(N)).filter(Ue(Oo.isDisabled)):I.none())}})(f,s.commands,l);return[{title:I.none(),items:[f.asSpec()]},{title:I.none(),items:b.asSpecs()}]},qM=(s,l,d)=>l.bottom-s.y>=d&&s.bottom-l.y>=d,s4=s=>{const l=(d=>{const f=d.getBoundingClientRect();if(f.height<=0&&f.width<=0){const b=Ze(Sn(d.startContainer),d.startOffset).element;return(ca(b)?Pi(b):I.some(b)).filter(dr).map(v=>v.dom.getBoundingClientRect()).getOr(f)}return f})(s.selection.getRng());if(s.inline){const d=fr();return Yo(d.left+l.left,d.top+l.top,l.width,l.height)}{const d=Za(Sn(s.getBody()));return Yo(d.x+l.left,d.y+l.top,l.width,l.height)}},YM=(s,l,d,f=0)=>{const b=Ei(window),v=ai(Sn(s.getContentAreaContainer())),C=s2(s)||r2(s)||i2(s),{x:k,width:E}=((N,$,B)=>{const U=Math.max(N.x+B,$.x);return{x:U,width:Math.min(N.right-B,$.right)-U}})(v,b,f);if(s.inline&&!C)return Yo(k,b.y,E,b.height);{const N=l.header.isPositionedAtTop(),{y:$,bottom:B}=((U,J,se,pe,ye,Re)=>{const ve=Sn(U.getContainer()),be=Lr(ve,".tox-editor-header").getOr(ve),ke=ai(be),Ie=ke.y>=J.bottom,Le=pe&&!Ie;if(U.inline&&Le)return{y:Math.max(ke.bottom+Re,se.y),bottom:se.bottom};if(U.inline&&!Le)return{y:se.y,bottom:Math.min(ke.y-Re,se.bottom)};const Qe=ye==="line"?ai(ve):J;return Le?{y:Math.max(ke.bottom+Re,se.y),bottom:Math.min(Qe.bottom-Re,se.bottom)}:{y:Math.max(Qe.y+Re,se.y),bottom:Math.min(ke.y-Re,se.bottom)}})(s,v,b,N,d,f);return Yo(k,$,E,B-$)}},r4={valignCentre:[],alignCentre:[],alignLeft:["tox-pop--align-left"],alignRight:["tox-pop--align-right"],right:["tox-pop--right"],left:["tox-pop--left"],bottom:["tox-pop--bottom"],top:["tox-pop--top"],inset:["tox-pop--inset"]},l1={maxHeightFunction:Ap(),maxWidthFunction:MO()},gv=s=>s==="node",vz=(s,l,d,f,b)=>{const v=s4(s),C=f.lastElement().exists(k=>cs(d,k));return((k,E)=>{const N=k.selection.getRng(),$=Ze(Sn(N.startContainer),N.startOffset);return N.startContainer===N.endContainer&&N.startOffset===N.endOffset-1&&cs($.element,E)})(s,d)?C?uk:Rs:C?((k,E,N)=>{const $=Jr(k,"position");_o(k,"position",E);const B=qM(v,ai(l),-20)&&!f.isReposition()?fO:uk;return $.each(U=>_o(k,"position",U)),B})(l,f.getMode()):(f.getMode()==="fixed"?b.y+fr().top:b.y)+(Rr(l)+12)<=v.y?Rs:Ih},XM=(s,l,d,f)=>{const b=C=>(k,E,N,$,B)=>({...vz(s,$,C,d,B)({...k,y:B.y,height:B.height},E,N,$,B),alwaysFit:!0}),v=C=>gv(f)?[b(C)]:[];return l?{onLtr:C=>[vi,ni,oi,Oi,er,Yr].concat(v(C)),onRtl:C=>[vi,oi,ni,er,Oi,Yr].concat(v(C))}:{onLtr:C=>[Yr,vi,Oi,ni,er,oi].concat(v(C)),onRtl:C=>[Yr,vi,er,oi,Oi,ni].concat(v(C))}},Ek=(s,l)=>{const d=Xt(l,v=>v.predicate(s.dom)),{pass:f,fail:b}=Yn(d,v=>v.type==="contexttoolbar");return{contextToolbars:f,contextForms:b}},Tk=(s,l)=>{const d={},f=[],b=[],v={},C={},k=en(s);return bt(k,E=>{const N=s[E];N.type==="contextform"?(($,B)=>{const U=Pa(Ir("ContextForm",$7,B));d[$]=U,U.launch.map(J=>{v["form:"+$]={...B.launch,type:J.type==="contextformtogglebutton"?"togglebutton":"button",onAction:()=>{l(U)}}}),U.scope==="editor"?b.push(U):f.push(U),C[$]=U})(E,N):N.type==="contexttoolbar"&&(($,B)=>{var U;(U=B,Ir("ContextToolbar",DP,U)).each(J=>{B.scope==="editor"?b.push(J):f.push(J),C[$]=J})})(E,N)}),{forms:d,inNodeScope:f,inEditorScope:b,lookupTable:C,formNavigators:v}},JM=Nn("forward-slide"),gx=Nn("backward-slide"),c1=Nn("change-slide-event"),i4="tox-pop--resizing",a4="tox-pop--transition",yz=(s,l,d,f)=>{const b=f.backstage,v=b.shared,C=Ki().deviceType.isTouch,k=_s(),E=_s(),N=_s(),$=La((Le=>{const Qe=Wn([]);return zr.sketch({dom:{tag:"div",classes:["tox-pop"]},fireDismissalEventInstead:{event:"doNotDismissYet"},onShow:ht=>{Qe.set([]),zr.getContent(ht).each(zt=>{zs(zt.element,"visibility")}),Fo(ht.element,i4),zs(ht.element,"width")},inlineBehaviours:an([jo("context-toolbar-events",[hf(lp(),(ht,zt)=>{zt.event.raw.propertyName==="width"&&(Fo(ht.element,i4),zs(ht.element,"width"))}),Lt(c1,(ht,zt)=>{const Bt=ht.element;zs(Bt,"width");const Pt=Wi(Bt);zr.setContent(ht,zt.event.contents),Vn(Bt,i4);const sn=Wi(Bt);_o(Bt,"width",Pt+"px"),zr.getContent(ht).each(In=>{zt.event.focus.bind(Kn=>(Ll(Kn),yi(Bt))).orThunk(()=>(eo.focusIn(In),Sd(Ct(Bt))))}),setTimeout(()=>{_o(ht.element,"width",sn+"px")},0)}),Lt(JM,(ht,zt)=>{zr.getContent(ht).each(Bt=>{Qe.set(Qe.get().concat([{bar:Bt,focus:Sd(Ct(ht.element))}]))}),Xn(ht,c1,{contents:zt.event.forwardContents,focus:I.none()})}),Lt(gx,(ht,zt)=>{Je(Qe.get()).each(Bt=>{Qe.set(Qe.get().slice(0,Qe.get().length-1)),Xn(ht,c1,{contents:Yl(Bt.bar),focus:Bt.focus})})})]),eo.config({mode:"special",onEscape:ht=>Je(Qe.get()).fold(()=>Le.onEscape(),zt=>(Wo(ht,gx),I.some(!0)))})]),lazySink:()=>ss.value(Le.sink)})})({sink:d,onEscape:()=>(s.focus(),I.some(!0))})),B=()=>{const Le=N.get().getOr("node"),Qe=gv(Le)?1:0;return YM(s,v,Le,Qe)},U=()=>!(s.removed||C()&&b.isContextMenuOpen()),J=()=>{if(U()){const Le=B(),Qe=mi(N.get(),"node")?((ht,zt)=>zt.filter(Bt=>Cn(Bt)&&Tl(Bt)).map(Za).getOrThunk(()=>s4(ht)))(s,k.get()):s4(s);return Le.height<=0||!qM(Qe,Le,.01)}return!0},se=()=>{k.clear(),E.clear(),N.clear(),zr.hide($)},pe=()=>{if(zr.isOpen($)){const Le=$.element;zs(Le,"display"),J()?_o(Le,"display","none"):(E.set(0),zr.reposition($))}},ye=Le=>({dom:{tag:"div",classes:["tox-pop__dialog"]},components:[Le],behaviours:an([eo.config({mode:"acyclic"}),jo("pop-dialog-wrap-events",[hr(Qe=>{s.shortcuts.add("ctrl+F9","focus statusbar",()=>eo.focusIn(Qe))}),Gu(Qe=>{s.shortcuts.remove("ctrl+F9")})])])}),Re=da(()=>Tk(l,Le=>{const Qe=ve([Le]);Xn($,JM,{forwardContents:ye(Qe)})})),ve=Le=>{const{buttons:Qe}=s.ui.registry.getAll(),ht={...Qe,...Re().formNavigators},zt=F0(s)===wf.scrolling?wf.scrolling:wf.default,Bt=nn(Ve(Le,Pt=>Pt.type==="contexttoolbar"?((sn,In)=>kk(s,{buttons:sn,toolbar:In.items,allowToolbarGroups:!1},f.backstage,I.some(["form:"])))(ht,Pt):((sn,In)=>bz(sn,In))(Pt,v.providers)));return VO({type:zt,uid:Nn("context-toolbar"),initGroups:Bt,onEscape:I.none,cyclicKeying:!0,providers:v.providers})},be=(Le,Qe)=>{if(Ie.cancel(),!U())return;const ht=ve(Le),zt=Le[0].position,Bt=((sn,In)=>{const Kn=sn==="node"?v.anchors.node(In):v.anchors.cursor(),ro=((Ro,as,kr,Br)=>as==="line"?{bubble:vu(12,0,r4),layouts:{onLtr:()=>[dy],onRtl:()=>[fy]},overrides:l1}:{bubble:vu(0,12,r4,1/12),layouts:XM(Ro,kr,Br,as),overrides:l1})(s,sn,C(),{lastElement:k.get,isReposition:()=>mi(E.get(),0),getMode:()=>sl.getMode(d)});return qs(Kn,ro)})(zt,Qe);N.set(zt),E.set(1);const Pt=$.element;zs(Pt,"display"),(sn=>mi(tn(sn,k.get(),cs),!0))(Qe)||(Fo(Pt,a4),sl.reset(d,$)),zr.showWithinBounds($,ye(ht),{anchor:Bt,transition:{classes:[a4],mode:"placement"}},()=>I.some(B())),Qe.fold(k.clear,k.set),J()&&_o(Pt,"display","none")};let ke=!1;const Ie=R3(()=>{!s.hasFocus()||s.removed||ke||(es($.element,a4)?Ie.throttle():((Le,Qe)=>{const ht=Sn(Qe.getBody()),zt=Pt=>cs(Pt,ht),Bt=Sn(Qe.selection.getNode());return(Pt=>!zt(Pt)&&!Kr(ht,Pt))(Bt)?I.none():((Pt,sn,In)=>{const Kn=Ek(Pt,sn);if(Kn.contextForms.length>0)return I.some({elem:Pt,toolbars:[Kn.contextForms[0]]});{const ro=Ek(Pt,In);if(ro.contextForms.length>0)return I.some({elem:Pt,toolbars:[ro.contextForms[0]]});if(Kn.contextToolbars.length>0||ro.contextToolbars.length>0){const Ro=(as=>{if(as.length<=1)return as;{const kr=fo=>Rn(as,Fr=>Fr.position===fo),Br=fo=>Xt(as,Fr=>Fr.position===fo),Zo=kr("selection"),Es=kr("node");if(Zo||Es){if(Es&&Zo){const fo=Br("node"),Fr=Ve(Br("selection"),nr=>({...nr,position:"node"}));return fo.concat(Fr)}return Br(Zo?"selection":"node")}return Br("line")}})(Kn.contextToolbars.concat(ro.contextToolbars));return I.some({elem:Pt,toolbars:Ro})}return I.none()}})(Bt,Le.inNodeScope,Le.inEditorScope).orThunk(()=>((Pt,sn,In)=>Pt(sn)?I.none():vd(sn,Kn=>{if(dr(Kn)){const{contextToolbars:ro,contextForms:Ro}=Ek(Kn,In.inNodeScope),as=Ro.length>0?Ro:(kr=>{if(kr.length<=1)return kr;{const Br=Zo=>ee(kr,Es=>Es.position===Zo);return Br("selection").orThunk(()=>Br("node")).orThunk(()=>Br("line")).map(Zo=>Zo.position).fold(()=>[],Zo=>Xt(kr,Es=>Es.position===Zo))}})(ro);return as.length>0?I.some({elem:Kn,toolbars:as}):I.none()}return I.none()},Pt))(zt,Bt,Le))})(Re(),s).fold(se,Le=>{be(Le.toolbars,I.some(Le.elem))}))},17);s.on("init",()=>{s.on("remove",se),s.on("ScrollContent ScrollWindow ObjectResized ResizeEditor longpress",pe),s.on("click keyup focus SetContent",Ie.throttle),s.on(ZM,se),s.on("contexttoolbar-show",Le=>{const Qe=Re();cn(Qe.lookupTable,Le.toolbarKey).each(ht=>{be([ht],qo(Le.target!==s,Le.target)),zr.getContent($).each(eo.focusIn)})}),s.on("focusout",Le=>{LS.setEditorTimeout(s,()=>{yi(d.element).isNone()&&yi($.element).isNone()&&se()},0)}),s.on("SwitchMode",()=>{s.mode.isReadOnly()&&se()}),s.on("ExecCommand",({command:Le})=>{Le.toLowerCase()==="toggleview"&&se()}),s.on("AfterProgressState",Le=>{Le.state?se():s.hasFocus()&&Ie.throttle()}),s.on("dragstart",()=>{ke=!0}),s.on("dragend drop",()=>{ke=!1}),s.on("NodeChange",Le=>{yi($.element).fold(Ie.throttle,W)})})},QM=(s,l)=>{const d=()=>{const f=l.getOptions(s),b=l.getCurrent(s).map(l.hash),v=_s();return Ve(f,C=>({type:"togglemenuitem",text:l.display(C),onSetup:k=>{const E=$=>{$&&(v.on(B=>B.setActive(!1)),v.set(k)),k.setActive($)};E(mi(b,l.hash(C)));const N=l.watcher(s,C,E);return()=>{v.clear(),N()}},onAction:()=>l.setCurrent(s,C)}))};s.ui.registry.addMenuButton(l.name,{tooltip:l.text,icon:l.icon,fetch:f=>f(d()),onSetup:l.onToolbarSetup}),s.ui.registry.addNestedMenuItem(l.name,{type:"nestedmenuitem",text:l.text,getSubmenuItems:d,onSetup:l.onMenuSetup})},xz=s=>{QM(s,(l=>({name:"lineheight",text:"Line height",icon:"line-height",getOptions:ZD,hash:d=>((f,b)=>_k(f,["fixed","relative","empty"]).map(({value:v,unit:C})=>v+C))(d).getOr(d),display:me,watcher:(d,f,b)=>d.formatter.formatChanged("lineheight",b,!1,{value:f}).unbind,getCurrent:d=>I.from(d.queryCommandValue("LineHeight")),setCurrent:(d,f)=>d.execCommand("LineHeight",!1,f),onToolbarSetup:ya(l),onMenuSetup:ya(l)}))(s)),(l=>I.from(WT(l)).map(d=>({name:"language",text:"Language",icon:"language",getOptions:j(d),hash:f=>M(f.customCode)?f.code:`${f.code}/${f.customCode}`,display:f=>f.title,watcher:(f,b,v)=>{var C;return f.formatter.formatChanged("lang",v,!1,{value:b.code,customValue:(C=b.customCode)!==null&&C!==void 0?C:null}).unbind},getCurrent:f=>{const b=Sn(f.selection.getNode());return sm(b,v=>I.some(v).filter(dr).bind(C=>gs(C,"lang").map(k=>({code:k,customCode:gs(C,"data-mce-lang").getOrUndefined(),title:""}))))},setCurrent:(f,b)=>f.execCommand("Lang",!1,b),onToolbarSetup:f=>{const b=Lc();return f.setActive(l.formatter.match("lang",{},void 0,!0)),b.set(l.formatter.formatChanged("lang",f.setActive,!0)),Xy(b.clear,ya(l)(f))},onMenuSetup:ya(l)})))(s).each(l=>QM(s,l))},wz=s=>q0(s,"NodeChange",l=>{l.setEnabled(s.queryCommandState("outdent")&&s.selection.isEditable())}),aC=(s,l)=>d=>{d.setActive(l.get());const f=b=>{l.set(b.state),d.setActive(b.state)};return s.on("PastePlainTextToggle",f),Xy(()=>s.off("PastePlainTextToggle",f),ya(s)(d))},l4=(s,l)=>()=>{s.execCommand("mceToggleFormat",!1,l)},c4=s=>{(l=>{(d=>{jp.each([{name:"bold",text:"Bold",icon:"bold",shortcut:"Meta+B"},{name:"italic",text:"Italic",icon:"italic",shortcut:"Meta+I"},{name:"underline",text:"Underline",icon:"underline",shortcut:"Meta+U"},{name:"strikethrough",text:"Strikethrough",icon:"strike-through"},{name:"subscript",text:"Subscript",icon:"subscript"},{name:"superscript",text:"Superscript",icon:"superscript"}],(f,b)=>{d.ui.registry.addToggleButton(f.name,{tooltip:f.text,icon:f.icon,onSetup:wg(d,f.name),onAction:l4(d,f.name),shortcut:f.shortcut})});for(let f=1;f<=6;f++){const b="h"+f,v=`Access+${f}`;d.ui.registry.addToggleButton(b,{text:b.toUpperCase(),tooltip:"Heading "+f,onSetup:wg(d,b),onAction:l4(d,b),shortcut:v})}})(l),(d=>{jp.each([{name:"copy",text:"Copy",action:"Copy",icon:"copy"},{name:"help",text:"Help",action:"mceHelp",icon:"help",shortcut:"Alt+0"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all",shortcut:"Meta+A"},{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document"},{name:"print",text:"Print",action:"mcePrint",icon:"print",shortcut:"Meta+P"}],f=>{d.ui.registry.addButton(f.name,{tooltip:f.text,icon:f.icon,onAction:wu(d,f.action),shortcut:f.shortcut})}),jp.each([{name:"cut",text:"Cut",action:"Cut",icon:"cut"},{name:"paste",text:"Paste",action:"Paste",icon:"paste"},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting"},{name:"remove",text:"Remove",action:"Delete",icon:"remove"},{name:"hr",text:"Horizontal line",action:"InsertHorizontalRule",icon:"horizontal-rule"}],f=>{d.ui.registry.addButton(f.name,{tooltip:f.text,icon:f.icon,onSetup:ya(d),onAction:wu(d,f.action)})})})(l),(d=>{jp.each([{name:"blockquote",text:"Blockquote",action:"mceBlockQuote",icon:"quote"}],f=>{d.ui.registry.addToggleButton(f.name,{tooltip:f.text,icon:f.icon,onAction:wu(d,f.action),onSetup:wg(d,f.name)})})})(l)})(s),(l=>{jp.each([{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document"},{name:"copy",text:"Copy",action:"Copy",icon:"copy",shortcut:"Meta+C"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all",shortcut:"Meta+A"},{name:"print",text:"Print...",action:"mcePrint",icon:"print",shortcut:"Meta+P"}],d=>{l.ui.registry.addMenuItem(d.name,{text:d.text,icon:d.icon,shortcut:d.shortcut,onAction:wu(l,d.action)})}),jp.each([{name:"bold",text:"Bold",action:"Bold",icon:"bold",shortcut:"Meta+B"},{name:"italic",text:"Italic",action:"Italic",icon:"italic",shortcut:"Meta+I"},{name:"underline",text:"Underline",action:"Underline",icon:"underline",shortcut:"Meta+U"},{name:"strikethrough",text:"Strikethrough",action:"Strikethrough",icon:"strike-through"},{name:"subscript",text:"Subscript",action:"Subscript",icon:"subscript"},{name:"superscript",text:"Superscript",action:"Superscript",icon:"superscript"},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting"},{name:"cut",text:"Cut",action:"Cut",icon:"cut",shortcut:"Meta+X"},{name:"paste",text:"Paste",action:"Paste",icon:"paste",shortcut:"Meta+V"},{name:"hr",text:"Horizontal line",action:"InsertHorizontalRule",icon:"horizontal-rule"}],d=>{l.ui.registry.addMenuItem(d.name,{text:d.text,icon:d.icon,shortcut:d.shortcut,onSetup:ya(l),onAction:wu(l,d.action)})}),l.ui.registry.addMenuItem("codeformat",{text:"Code",icon:"sourcecode",onSetup:ya(l),onAction:l4(l,"code")})})(s)},Ak=(s,l)=>q0(s,"Undo Redo AddUndo TypingUndo ClearUndos SwitchMode",d=>{d.setEnabled(!s.mode.isReadOnly()&&s.undoManager[l]())}),Cz=s=>q0(s,"VisualAid",l=>{l.setActive(s.hasVisual)}),Sz=(s,l)=>{(d=>{bt([{name:"alignleft",text:"Align left",cmd:"JustifyLeft",icon:"align-left"},{name:"aligncenter",text:"Align center",cmd:"JustifyCenter",icon:"align-center"},{name:"alignright",text:"Align right",cmd:"JustifyRight",icon:"align-right"},{name:"alignjustify",text:"Justify",cmd:"JustifyFull",icon:"align-justify"}],f=>{d.ui.registry.addToggleButton(f.name,{tooltip:f.text,icon:f.icon,onAction:wu(d,f.cmd),onSetup:wg(d,f.name)})}),d.ui.registry.addButton("alignnone",{tooltip:"No alignment",icon:"align-none",onSetup:ya(d),onAction:wu(d,"JustifyNone")})})(s),c4(s),((d,f)=>{((b,v)=>{const C=mx(v,ZO(b));b.ui.registry.addNestedMenuItem("align",{text:v.shared.providers.translate("Align"),onSetup:ya(b),getSubmenuItems:()=>C.items.validateItems(C.getStyleItems())})})(d,f),((b,v)=>{const C=mx(v,IM(b));b.ui.registry.addNestedMenuItem("fontfamily",{text:v.shared.providers.translate("Fonts"),onSetup:ya(b),getSubmenuItems:()=>C.items.validateItems(C.getStyleItems())})})(d,f),((b,v)=>{const C={type:"advanced",...v.styles},k=mx(v,FM(b,C));b.ui.registry.addNestedMenuItem("styles",{text:"Formats",onSetup:ya(b),getSubmenuItems:()=>k.items.validateItems(k.getStyleItems())})})(d,f),((b,v)=>{const C=mx(v,YO(b));b.ui.registry.addNestedMenuItem("blocks",{text:"Blocks",onSetup:ya(b),getSubmenuItems:()=>C.items.validateItems(C.getStyleItems())})})(d,f),((b,v)=>{const C=mx(v,LM(b));b.ui.registry.addNestedMenuItem("fontsize",{text:"Font sizes",onSetup:ya(b),getSubmenuItems:()=>C.items.validateItems(C.getStyleItems())})})(d,f)})(s,l),(d=>{(f=>{f.ui.registry.addMenuItem("undo",{text:"Undo",icon:"undo",shortcut:"Meta+Z",onSetup:Ak(f,"hasUndo"),onAction:wu(f,"undo")}),f.ui.registry.addMenuItem("redo",{text:"Redo",icon:"redo",shortcut:"Meta+Y",onSetup:Ak(f,"hasRedo"),onAction:wu(f,"redo")})})(d),(f=>{f.ui.registry.addButton("undo",{tooltip:"Undo",icon:"undo",enabled:!1,onSetup:Ak(f,"hasUndo"),onAction:wu(f,"undo"),shortcut:"Meta+Z"}),f.ui.registry.addButton("redo",{tooltip:"Redo",icon:"redo",enabled:!1,onSetup:Ak(f,"hasRedo"),onAction:wu(f,"redo"),shortcut:"Meta+Y"})})(d)})(s),(d=>{(k=>{k.addCommand("mceApplyTextcolor",(E,N)=>{(($,B,U)=>{$.undoManager.transact(()=>{$.focus(),$.formatter.apply(B,{value:U}),$.nodeChanged()})})(k,E,N)}),k.addCommand("mceRemoveTextcolor",E=>{((N,$)=>{N.undoManager.transact(()=>{N.focus(),N.formatter.remove($,{value:null},void 0,!0),N.nodeChanged()})})(k,E)})})(d);const f=iN(d),b=aN(d),v=Wn(f),C=Wn(b);HA(d,"forecolor","forecolor",v),HA(d,"backcolor","hilitecolor",C),Qy(d,"forecolor","forecolor","Text color",v),Qy(d,"backcolor","hilitecolor","Background color",C)})(s),(d=>{(f=>{f.ui.registry.addButton("visualaid",{tooltip:"Visual aids",text:"Visual aids",onAction:wu(f,"mceToggleVisualAid")})})(d),(f=>{f.ui.registry.addToggleMenuItem("visualaid",{text:"Visual aids",onSetup:Cz(f),onAction:wu(f,"mceToggleVisualAid")})})(d)})(s),(d=>{(f=>{f.ui.registry.addButton("outdent",{tooltip:"Decrease indent",icon:"outdent",onSetup:wz(f),onAction:wu(f,"outdent")}),f.ui.registry.addButton("indent",{tooltip:"Increase indent",icon:"indent",onSetup:ya(f),onAction:wu(f,"indent")})})(d)})(s),xz(s),(d=>{const f=Wn(KD(d)),b=()=>d.execCommand("mceTogglePlainTextPaste");d.ui.registry.addToggleButton("pastetext",{active:!1,icon:"paste-text",tooltip:"Paste as text",onAction:b,onSetup:aC(d,f)}),d.ui.registry.addToggleMenuItem("pastetext",{text:"Paste as text",icon:"paste-text",onAction:b,onSetup:aC(d,f)})})(s)},eL=s=>h(s)?s.split(/[ ,]/):s,tL=s=>l=>l.options.get(s),nL=tL("contextmenu_never_use_native"),_z=tL("contextmenu_avoid_overlap"),u4=s=>{const l=s.ui.registry.getAll().contextMenus,d=s.options.get("contextmenu");return s.options.isSet("contextmenu")?d:Xt(d,f=>uo(l,f))},lC=(s,l)=>({type:"makeshift",x:s,y:l}),oL=s=>s.type==="longpress"||s.type.indexOf("touch")===0,kz=(s,l)=>l.type==="contextmenu"||l.type==="longpress"?s.inline?(d=>{if(oL(d)){const f=d.touches[0];return lC(f.pageX,f.pageY)}return lC(d.pageX,d.pageY)})(l):((d,f)=>{const b=Fy.DOM.getPos(d);return((v,C,k)=>lC(v.x+C,v.y+k))(f,b.x,b.y)})(s.getContentAreaContainer(),(d=>{if(oL(d)){const f=d.touches[0];return lC(f.clientX,f.clientY)}return lC(d.clientX,d.clientY)})(l)):sL(s),sL=s=>({type:"selection",root:Sn(s.selection.getNode())}),rL=(s,l,d)=>{switch(d){case"node":return(f=>({type:"node",node:I.some(Sn(f.selection.getNode())),root:Sn(f.getBody())}))(s);case"point":return kz(s,l);case"selection":return sL(s)}},iL=(s,l,d,f,b,v)=>{const C=d(),k=rL(s,l,v);o1(C,xg.CLOSE_ON_EXECUTE,f,{isHorizontalMenu:!1,search:I.none()}).map(E=>{l.preventDefault(),zr.showMenuAt(b,{anchor:k},{menu:{markers:H0("normal")},data:E})})},aL={onLtr:()=>[vi,ni,oi,Oi,er,Yr,Rs,Ih,q2,dv,Su,Cu],onRtl:()=>[vi,oi,ni,er,Oi,Yr,Rs,Ih,Su,Cu,q2,dv]},Ez={valignCentre:[],alignCentre:[],alignLeft:["tox-pop--align-left"],alignRight:["tox-pop--align-right"],right:["tox-pop--right"],left:["tox-pop--left"],bottom:["tox-pop--bottom"],top:["tox-pop--top"]},Tz=(s,l,d,f,b,v)=>{const C=Ki(),k=C.os.isiOS(),E=C.os.isMacOS(),N=C.os.isAndroid(),$=C.deviceType.isTouch(),B=()=>{const U=d();((J,se,pe,ye,Re,ve,be)=>{const ke=((Ie,Le,Qe)=>{const ht=rL(Ie,Le,Qe);return{bubble:vu(0,Qe==="point"?12:0,Ez),layouts:aL,overrides:{maxWidthFunction:MO(),maxHeightFunction:Ap()},...ht}})(J,se,ve);o1(pe,xg.CLOSE_ON_EXECUTE,ye,{isHorizontalMenu:!0,search:I.none()}).map(Ie=>{se.preventDefault();const Le=be?ec.HighlightMenuAndItem:ec.HighlightNone;zr.showMenuWithinBounds(Re,{anchor:ke},{menu:{markers:H0("normal"),highlightOnOpen:Le},data:Ie,type:"horizontal"},()=>I.some(YM(J,ye.shared,ve==="node"?"node":"selection"))),J.dispatch(ZM)})})(s,l,U,f,b,v,!(N||k||E&&$))};if((E||k)&&v!=="node"){const U=()=>{(J=>{const se=J.selection.getRng(),pe=()=>{LS.setEditorTimeout(J,()=>{J.selection.setRng(se)},10),ve()};J.once("touchend",pe);const ye=be=>{be.preventDefault(),be.stopImmediatePropagation()};J.on("mousedown",ye,!0);const Re=()=>ve();J.once("longpresscancel",Re);const ve=()=>{J.off("touchend",pe),J.off("longpresscancel",Re),J.off("mousedown",ye)}})(s),B()};((J,se)=>{const pe=J.selection;if(pe.isCollapsed()||se.touches.length<1)return!1;{const ye=se.touches[0],Re=pe.getRng();return Tw(J.getWin(),lg.domRange(Re)).exists(ve=>ve.left<=ye.clientX&&ve.right>=ye.clientX&&ve.top<=ye.clientY&&ve.bottom>=ye.clientY)}})(s,l)?U():(s.once("selectionchange",U),s.once("touchend",()=>s.off("selectionchange",U)))}else B()},lL=s=>h(s)?s==="|":s.type==="separator",d4={type:"separator"},cL=s=>{const l=d=>({text:d.text,icon:d.icon,enabled:d.enabled,shortcut:d.shortcut});if(h(s))return s;switch(s.type){case"separator":return d4;case"submenu":return{type:"nestedmenuitem",...l(s),getSubmenuItems:()=>{const f=s.getSubmenuItems();return h(f)?f:Ve(f,cL)}};default:const d=s;return{type:"menuitem",...l(d),onAction:ge(d.onAction)}}},f4=(s,l)=>{if(l.length===0)return s;const d=Je(s).filter(f=>!lL(f)).fold(()=>[],f=>[d4]);return s.concat(d).concat(l).concat([d4])},u1=(s,l)=>!(d=>d.type==="longpress"||uo(d,"touches"))(l)&&(l.button!==2||l.target===s.getBody()&&l.pointerType===""),uL=(s,l)=>u1(s,l)?s.selection.getStart(!0):l.target,Az=(s,l,d)=>{const f=Ki().deviceType.isTouch,b=La(zr.sketch({dom:{tag:"div"},lazySink:l,onEscape:()=>s.focus(),onShow:()=>d.setContextMenuState(!0),onHide:()=>d.setContextMenuState(!1),fireDismissalEventInstead:{},inlineBehaviours:an([jo("dismissContextMenu",[Lt(Xm(),(k,E)=>{O.close(k),s.focus()})])])})),v=()=>zr.hide(b),C=k=>{if(nL(s)&&k.preventDefault(),((N,$)=>$.ctrlKey&&!nL(N))(s,k)||(N=>u4(N).length===0)(s))return;const E=((N,$)=>{const B=_z(N),U=u1(N,$)?"selection":"point";if(El(B)){const J=uL(N,$);return tx(Sn(J),B)?"node":U}return U})(s,k);(f()?Tz:iL)(s,k,()=>{const N=uL(s,k),$=s.ui.registry.getAll(),B=u4(s);return((U,J,se)=>{const pe=Qt(J,(ye,Re)=>cn(U,Re.toLowerCase()).map(ve=>{const be=ve.update(se);if(h(be)&&El(Dc(be)))return f4(ye,be.split(" "));if(R(be)&&be.length>0){const ke=Ve(be,cL);return f4(ye,ke)}return ye}).getOrThunk(()=>ye.concat([Re])),[]);return pe.length>0&&lL(pe[pe.length-1])&&pe.pop(),pe})($.contextMenus,B,N)},d,b,E)};s.on("init",()=>{const k="ResizeEditor ScrollContent ScrollWindow longpresscancel"+(f()?"":" ResizeWindow");s.on(k,v),s.on("longpress contextmenu",C)})},m4=pa([{offset:["x","y"]},{absolute:["x","y"]},{fixed:["x","y"]}]),d1=s=>l=>l.translate(-s.left,-s.top),_u=s=>l=>l.translate(s.left,s.top),Sg=s=>(l,d)=>Qt(s,(f,b)=>b(f),rr(l,d)),cC=(s,l,d)=>s.fold(Sg([_u(d),d1(l)]),Sg([d1(l)]),Sg([])),hx=(s,l,d)=>s.fold(Sg([_u(d)]),Sg([]),Sg([_u(l)])),dL=(s,l,d)=>s.fold(Sg([]),Sg([d1(d)]),Sg([_u(l),d1(d)])),fL=(s,l,d)=>{const f=s.fold((b,v)=>({position:I.some("absolute"),left:I.some(b+"px"),top:I.some(v+"px")}),(b,v)=>({position:I.some("absolute"),left:I.some(b-d.left+"px"),top:I.some(v-d.top+"px")}),(b,v)=>({position:I.some("fixed"),left:I.some(b+"px"),top:I.some(v+"px")}));return{right:I.none(),bottom:I.none(),...f}},g4=(s,l,d,f)=>{const b=(v,C)=>(k,E)=>{const N=v(l,d,f);return C(k.getOr(N.left),E.getOr(N.top))};return s.fold(b(dL,uC),b(hx,qp),b(cC,f1))},uC=m4.offset,qp=m4.absolute,f1=m4.fixed,mL=(s,l)=>{const d=ns(s,l);return M(d)?NaN:parseInt(d,10)},gL=(s,l,d,f,b,v)=>{const C=((N,$,B,U)=>((J,se)=>{const pe=J.element,ye=mL(pe,se.leftAttr),Re=mL(pe,se.topAttr);return isNaN(ye)||isNaN(Re)?I.none():I.some(rr(ye,Re))})(N,$).fold(()=>B,J=>f1(J.left+U.left,J.top+U.top)))(s,l,d,f),k=l.mustSnap?pL(s,l,C,b,v):bL(s,l,C,b,v),E=cC(C,b,v);return((N,$,B)=>{const U=N.element;xn(U,$.leftAttr,B.left+"px"),xn(U,$.topAttr,B.top+"px")})(s,l,E),k.fold(()=>({coord:f1(E.left,E.top),extra:I.none()}),N=>({coord:N.output,extra:N.extra}))},hL=(s,l,d,f)=>pn(s,b=>{const v=b.sensor;return((k,E,N,$,B,U)=>{const J=hx(k,B,U),se=hx(E,B,U);return Math.abs(J.left-se.left)<=N&&Math.abs(J.top-se.top)<=$})(l,v,b.range.left,b.range.top,d,f)?I.some({output:g4(b.output,l,d,f),extra:b.extra}):I.none()}),pL=(s,l,d,f,b)=>{const v=l.getSnapPoints(s);return hL(v,d,f,b).orThunk(()=>Qt(v,(k,E)=>{const N=E.sensor,$=((B,U,J,se,pe,ye)=>{const Re=hx(B,pe,ye),ve=hx(U,pe,ye),be=Math.abs(Re.left-ve.left),ke=Math.abs(Re.top-ve.top);return rr(be,ke)})(d,N,E.range.left,E.range.top,f,b);return k.deltas.fold(()=>({deltas:I.some($),snap:I.some(E)}),B=>($.left+$.top)/2<=(B.left+B.top)/2?{deltas:I.some($),snap:I.some(E)}:k)},{deltas:I.none(),snap:I.none()}).snap.map(k=>({output:g4(k.output,d,f,b),extra:k.extra})))},bL=(s,l,d,f,b)=>{const v=l.getSnapPoints(s);return hL(v,d,f,b)};var vL=Object.freeze({__proto__:null,snapTo:(s,l,d,f)=>{const b=l.getTarget(s.element);if(l.repositionTarget){const v=gi(s.element),C=fr(v),k=bu(b),E=(($,B,U)=>({coord:g4($.output,$.output,B,U),extra:$.extra}))(f,C,k),N=fL(E.coord,0,k);Rl(b,N)}}});const h4="data-initial-z-index",yL=(s,l)=>{s.getSystem().addToGui(l),(d=>{Pi(d.element).filter(dr).each(f=>{Jr(f,"z-index").each(b=>{xn(f,h4,b)}),_o(f,"z-index",Or(d.element,"z-index"))})})(l)},Oz=s=>{(l=>{Pi(l.element).filter(dr).each(d=>{gs(d,h4).fold(()=>zs(d,"z-index"),f=>_o(d,"z-index",f)),Uo(d,h4)})})(s),s.getSystem().removeFromGui(s)},xL=(s,l,d)=>s.getSystem().build(km.sketch({dom:{styles:{left:"0px",top:"0px",width:"100%",height:"100%",position:"fixed","z-index":"1000000000000000"},classes:[l]},events:d}));var Rz=Dr("snaps",[Ht("getSnapPoints"),ks("onSensor"),Ht("leftAttr"),Ht("topAttr"),vt("lazyViewport",Ni),vt("mustSnap",!1)]);const p4=[vt("useFixed",Me),Ht("blockerClass"),vt("getTarget",me),vt("onDrag",W),vt("repositionTarget",!0),vt("onDrop",W),ir("getBounds",Ni),Rz],b4=s=>{return(l=Jr(s,"left"),d=Jr(s,"top"),f=Jr(s,"position"),l.isSome()&&d.isSome()&&f.isSome()?I.some(((b,v,C)=>(C==="fixed"?f1:uC)(parseInt(b,10),parseInt(v,10)))(l.getOrDie(),d.getOrDie(),f.getOrDie())):I.none()).getOrThunk(()=>{const b=Pl(s);return qp(b.left,b.top)});var l,d,f},wL=(s,l)=>({bounds:s.getBounds(),height:pl(l.element),width:Ka(l.element)}),v4=(s,l,d,f,b)=>{const v=d.update(f,b),C=d.getStartData().getOrThunk(()=>wL(l,s));v.each(k=>{((E,N,$,B)=>{const U=N.getTarget(E.element);if(N.repositionTarget){const J=gi(E.element),se=fr(J),pe=bu(U),ye=b4(U),Re=((be,ke,Ie,Le,Qe,ht,zt)=>((Bt,Pt,sn,In,Kn)=>{const ro=Kn.bounds,Ro=hx(Pt,sn,In),as=Xu(Ro.left,ro.x,ro.x+ro.width-Kn.width),kr=Xu(Ro.top,ro.y,ro.y+ro.height-Kn.height),Br=qp(as,kr);return Pt.fold(()=>{const Zo=dL(Br,sn,In);return uC(Zo.left,Zo.top)},j(Br),()=>{const Zo=cC(Br,sn,In);return f1(Zo.left,Zo.top)})})(0,ke.fold(()=>{const Bt=(Pt=Ie,sn=ht.left,In=ht.top,Pt.fold((ro,Ro)=>uC(ro+sn,Ro+In),(ro,Ro)=>qp(ro+sn,Ro+In),(ro,Ro)=>f1(ro+sn,Ro+In)));var Pt,sn,In;const Kn=cC(Bt,Le,Qe);return f1(Kn.left,Kn.top)},Bt=>{const Pt=gL(be,Bt,Ie,ht,Le,Qe);return Pt.extra.each(sn=>{Bt.onSensor(be,sn)}),Pt.coord}),Le,Qe,zt))(E,N.snaps,ye,se,pe,B,$),ve=fL(Re,0,pe);Rl(U,ve)}N.onDrag(E,U,B)})(s,l,C,k)})},y4=(s,l,d,f)=>{l.each(Oz),d.snaps.each(v=>{((C,k)=>{((E,N)=>{const $=E.element;Uo($,N.leftAttr),Uo($,N.topAttr)})(C,k)})(s,v)});const b=d.getTarget(s.element);f.reset(),d.onDrop(s,b)},x4=s=>(l,d)=>{const f=b=>{d.setStartData(wL(l,b))};return To([Lt(dp(),b=>{d.getStartData().each(()=>f(b))}),...s(l,d,f)])};var Iz=Object.freeze({__proto__:null,getData:s=>I.from(rr(s.x,s.y)),getDelta:(s,l)=>rr(l.left-s.left,l.top-s.top)});const CL=(s,l,d)=>[Lt(Ut(),(f,b)=>{if(b.event.raw.button!==0)return;b.stop();const v=()=>y4(f,I.some(E),s,l),C=XA(v,200),k={drop:v,delayDrop:C.schedule,forceDrop:v,move:N=>{C.cancel(),v4(f,s,l,Iz,N)}},E=xL(f,s.blockerClass,(N=>To([Lt(Ut(),N.forceDrop),Lt(ko(),N.drop),Lt(lo(),($,B)=>{N.move(B.event)}),Lt(Mo(),N.delayDrop)]))(k));d(f),yL(f,E)})],Dz=[...p4,pr("dragger",{handlers:x4(CL)})];var SL=Object.freeze({__proto__:null,getData:s=>{const l=s.raw.touches;return l.length===1?(d=>{const f=d[0];return I.some(rr(f.clientX,f.clientY))})(l):I.none()},getDelta:(s,l)=>rr(l.left-s.left,l.top-s.top)});const _L=(s,l,d)=>{const f=_s(),b=v=>{y4(v,f.get(),s,l),f.clear()};return[Lt(Y(),(v,C)=>{C.stop();const k=()=>b(v),E={drop:k,delayDrop:W,forceDrop:k,move:$=>{v4(v,s,l,SL,$)}},N=xL(v,s.blockerClass,($=>To([Lt(Y(),$.forceDrop),Lt(We(),$.drop),Lt(tt(),$.drop),Lt(de(),(B,U)=>{$.move(U.event)})]))(E));f.set(N),d(v),yL(v,N)}),Lt(de(),(v,C)=>{C.stop(),v4(v,s,l,SL,C.event)}),Lt(We(),(v,C)=>{C.stop(),b(v)}),Lt(tt(),b)]},Pz=Dz,kL=[...p4,pr("dragger",{handlers:x4(_L)})],EL=[...p4,pr("dragger",{handlers:x4((s,l,d)=>[...CL(s,l,d),..._L(s,l,d)])})];var Nz=Object.freeze({__proto__:null,mouse:Pz,touch:kL,mouseOrTouch:EL}),Mz=Object.freeze({__proto__:null,init:()=>{let s=I.none(),l=I.none();const d=j({});return Ai({readState:d,reset:()=>{s=I.none(),l=I.none()},update:(f,b)=>f.getData(b).bind(v=>((C,k)=>{const E=s.map(N=>C.getDelta(N,k));return s=I.some(k),E})(f,v)),getStartData:()=>l,setStartData:f=>{l=I.some(f)}})}});const m1=z({branchKey:"mode",branches:Nz,name:"dragging",active:{events:(s,l)=>s.dragger.handlers(s,l)},extra:{snap:s=>({sensor:s.sensor,range:s.range,output:s.output,extra:I.from(s.extra)})},state:Mz,apis:vL}),TL=(s,l,d,f,b,v)=>s.fold(()=>m1.snap({sensor:qp(d-20,f-20),range:rr(b,v),output:qp(I.some(d),I.some(f)),extra:{td:l}}),C=>{const k=d-20,E=f-20,N=C.element.dom.getBoundingClientRect();return m1.snap({sensor:qp(k,E),range:rr(40,40),output:qp(I.some(d-N.width/2),I.some(f-N.height/2)),extra:{td:l}})}),AL=(s,l,d)=>({getSnapPoints:s,leftAttr:"data-drag-left",topAttr:"data-drag-top",onSensor:(f,b)=>{const v=b.td;((C,k)=>C.exists(E=>cs(E,k)))(l.get(),v)||(l.set(v),d(v))},mustSnap:!0}),OL=s=>Ks($l.sketch({dom:{tag:"div",classes:["tox-selector"]},buttonBehaviours:an([m1.config({mode:"mouseOrTouch",blockerClass:"blocker",snaps:s}),Q0.config({})]),eventOrder:{mousedown:["dragging","alloy.base.behaviour"],touchstart:["dragging","alloy.base.behaviour"]}})),RL=(s,l)=>{const d=Wn([]),f=Wn([]),b=Wn(!1),v=_s(),C=_s(),k=ve=>{const be=Za(ve);return TL(B.getOpt(l),ve,be.x,be.y,be.width,be.height)},E=ve=>{const be=Za(ve);return TL(U.getOpt(l),ve,be.right,be.bottom,be.width,be.height)},N=AL(()=>Ve(d.get(),ve=>k(ve)),v,ve=>{C.get().each(be=>{s.dispatch("TableSelectorChange",{start:ve,finish:be})})}),$=AL(()=>Ve(f.get(),ve=>E(ve)),C,ve=>{v.get().each(be=>{s.dispatch("TableSelectorChange",{start:be,finish:ve})})}),B=OL(N),U=OL($),J=La(B.asSpec()),se=La(U.asSpec()),pe=(ve,be,ke,Ie)=>{const Le=ke(be);m1.snapTo(ve,Le),((Qe,ht,zt,Bt)=>{const Pt=ht.dom.getBoundingClientRect();zs(Qe.element,"display");const sn=ru(Sn(s.getBody())).dom.innerHeight,In=Pt[Ie]<0,Kn=((ro,Ro)=>ro[Ie]>Ro)(Pt,sn);(In||Kn)&&_o(Qe.element,"display","none")})(ve,be)},ye=ve=>pe(J,ve,k,"top"),Re=ve=>pe(se,ve,E,"bottom");if(Ki().deviceType.isTouch()){const ve=be=>Ve(be,Sn);s.on("TableSelectionChange",be=>{b.get()||(fg(l,J),fg(l,se),b.set(!0));const ke=Sn(be.start),Ie=Sn(be.finish);v.set(ke),C.set(Ie),I.from(be.otherCells).each(Le=>{d.set(ve(Le.upOrLeftCells)),f.set(ve(Le.downOrRightCells)),ye(ke),Re(Ie)})}),s.on("ResizeEditor ResizeWindow ScrollContent",()=>{v.get().each(ye),C.get().each(Re)}),s.on("TableSelectionClear",()=>{b.get()&&(Jl(J),Jl(se),b.set(!1)),v.clear(),C.clear()})}},IL=(s,l,d)=>{var f;const b=(f=l.delimiter)!==null&&f!==void 0?f:"";return{dom:{tag:"div",classes:["tox-statusbar__path"],attributes:{role:"navigation"}},behaviours:an([eo.config({mode:"flow",selector:"div[role=button]"}),Oo.config({disabled:d.isDisabled}),va(),mr.config({}),go.config({}),jo("elementPathEvents",[hr((v,C)=>{s.shortcuts.add("alt+F11","focus statusbar elementpath",()=>eo.focusIn(v)),s.on("NodeChange",k=>{const E=($=>{const B=[];let U=$.length;for(;U-- >0;){const se=$[U];if(se.nodeType===1&&(J=se).nodeName!=="BR"&&!J.getAttribute("data-mce-bogus")&&J.getAttribute("data-mce-type")!=="bookmark"){const pe=tN(s,se);if(pe.isDefaultPrevented()||B.push({name:pe.name,element:se}),pe.isPropagationStopped())break}}var J;return B})(k.parents),N=E.length>0?Qt(E,($,B,U)=>{const J=((se,pe,ye)=>$l.sketch({dom:{tag:"div",classes:["tox-statusbar__path-item"],attributes:{"data-index":ye}},components:[ui(se)],action:Re=>{s.focus(),s.selection.select(pe),s.nodeChanged()},buttonBehaviours:an([Ii.config({...d.tooltips.getConfig({tooltipText:d.translate(["Select the {0} element",pe.nodeName.toLowerCase()]),onShow:(Re,ve)=>{((be,ke)=>{const Ie=I.from(ns(be,"id")).getOrThunk(()=>{const Le=Nn("aria");return xn(ke,"id",Le),Le});xn(be,"aria-describedby",Ie)})(Re.element,ve.element)},onHide:Re=>{var ve;ve=Re.element,Uo(ve,"aria-describedby")}})}),Sl(d.isDisabled),va()])}))(B.name,B.element,U);return U===0?$.concat([J]):$.concat([{dom:{tag:"div",classes:["tox-statusbar__path-divider"],attributes:{"aria-hidden":!0}},components:[ui(` ${b} `)]},J])},[]):[];go.set(v,N)})})])]),components:[]}};var Yp;(function(s){s[s.None=0]="None",s[s.Both=1]="Both",s[s.Vertical=2]="Vertical"})(Yp||(Yp={}));const Ok=(s,l,d)=>{const f=Sn(s.getContainer()),b=((v,C,k,E,N)=>{const $={height:iC(E+C.top,$y(v),BS(v))};return k===Yp.Both&&($.width=iC(N+C.left,t2(v),Vy(v))),$})(s,l,d,Rr(f),Wi(f));no(b,(v,C)=>{te(v)&&_o(f,C,mv(v))}),(v=>{v.dispatch("ResizeEditor")})(s)},Rk=(s,l,d,f)=>{const b=rr(20*d,20*f);return Ok(s,b,l),I.some(!0)},DL=(s,l)=>{const d=()=>{const f=[],b=GT(s),v=WD(s),C=rd(s)||s.hasPlugin("wordcount");return v&&f.push(IL(s,{},l)),b&&f.push((()=>{const k=m_("Alt+0");return{dom:{tag:"div",classes:["tox-statusbar__help-text"]},components:[ui(Cf.translate(["Press {0} for help",k]))]}})()),C&&f.push((()=>{const k=[];return s.hasPlugin("wordcount")&&k.push(((E,N)=>{const $=(B,U,J)=>go.set(B,[ui(N.translate(["{0} "+J,U[J]]))]);return $l.sketch({dom:{tag:"button",classes:["tox-statusbar__wordcount"]},components:[],buttonBehaviours:an([Sl(N.isDisabled),va(),mr.config({}),go.config({}),St.config({store:{mode:"memory",initialValue:{mode:"words",count:{words:0,characters:0}}}}),jo("wordcount-events",[pu(B=>{const U=St.getValue(B),J=U.mode==="words"?"characters":"words";St.setValue(B,{mode:J,count:U.count}),$(B,U.count,J)}),hr(B=>{E.on("wordCountUpdate",U=>{const{mode:J}=St.getValue(B);St.setValue(B,{mode:J,count:U.wordCount}),$(B,U.wordCount,J)})})])]),eventOrder:{[yl()]:["disabling","alloy.base.behaviour","wordcount-events"]}})})(s,l)),rd(s)&&k.push({dom:{tag:"span",classes:["tox-statusbar__branding"]},components:[{dom:{tag:"a",attributes:{href:"https://www.tiny.cloud/powered-by-tiny?utm_campaign=poweredby&utm_source=tiny&utm_medium=referral&utm_content=v7",rel:"noopener",target:"_blank","aria-label":s.translate(["Build with {0}","TinyMCE"])},innerHtml:s.translate(["Build with {0}",`<svg height="16" viewBox="0 0 80 16" width="80" xmlns="http://www.w3.org/2000/svg"><g opacity=".8"><path d="m80 3.537v-2.202h-7.976v11.585h7.976v-2.25h-5.474v-2.621h4.812v-2.069h-4.812v-2.443zm-10.647 6.929c-.493.217-1.13.337-1.864.337s-1.276-.156-1.805-.47a3.732 3.732 0 0 1 -1.3-1.298c-.324-.554-.48-1.191-.48-1.877s.156-1.335.48-1.877a3.635 3.635 0 0 1 1.3-1.299 3.466 3.466 0 0 1 1.805-.481c.65 0 .914.06 1.263.18.36.12.698.277.986.47.289.192.578.384.842.6l.12.085v-2.586l-.023-.024c-.385-.35-.855-.614-1.384-.818-.53-.205-1.155-.313-1.877-.313-.721 0-1.6.144-2.333.445a5.773 5.773 0 0 0 -1.937 1.251 5.929 5.929 0 0 0 -1.324 1.9c-.324.735-.48 1.565-.48 2.455s.156 1.72.48 2.454c.325.734.758 1.383 1.324 1.913.553.53 1.215.938 1.937 1.25a6.286 6.286 0 0 0 2.333.434c.819 0 1.384-.108 1.961-.313.59-.216 1.083-.505 1.468-.866l.024-.024v-2.49l-.12.096c-.41.337-.878.626-1.396.866zm-14.869-4.15-4.8-5.04-.024-.025h-.902v11.67h2.502v-6.847l2.827 3.08.385.409.397-.41 2.791-3.067v6.845h2.502v-11.679h-.902l-4.788 5.052z"/><path clip-rule="evenodd" d="m15.543 5.137c0-3.032-2.466-5.113-4.957-5.137-.36 0-.745.024-1.094.096-.157.024-3.85.758-3.85.758-3.032.602-4.62 2.466-4.704 4.788-.024.89-.024 4.27-.024 4.27.036 3.165 2.406 5.138 5.017 5.126.337 0 1.119-.109 1.287-.145.144-.024.385-.084.746-.144.661-.12 1.684-.325 3.067-.602 2.37-.409 4.103-2.009 4.44-4.33.156-1.023.084-4.692.084-4.692zm-3.213 3.308-2.346.457v2.31l-5.859 1.143v-5.75l2.346-.458v3.441l3.513-.686v-3.44l-3.513.685v-2.297l5.859-1.143v5.75zm20.09-3.296-.083-1.023h-2.13v8.794h2.346v-4.884c0-1.107.95-1.985 2.057-1.997 1.095 0 1.901.89 1.901 1.997v4.884h2.346v-5.245c-.012-2.105-1.588-3.777-3.67-3.765a3.764 3.764 0 0 0 -2.778 1.25l.012-.011zm-6.014-4.102 2.346-.458v2.298l-2.346.457z" fill-rule="evenodd"/><path d="m28.752 4.126h-2.346v8.794h2.346z"/><path clip-rule="evenodd" d="m43.777 15.483 4.043-11.357h-2.418l-1.54 4.355-.445 1.324-.36-1.324-1.54-4.355h-2.418l3.151 8.794-1.083 3.08zm-21.028-5.51c0 .722.541 1.034.878 1.034s.638-.048.95-.144l.518 1.708c-.217.145-.879.518-2.13.518a2.565 2.565 0 0 1 -2.562-2.587c-.024-1.082-.024-2.49 0-4.21h-1.54v-2.142h1.54v-1.912l2.346-.458v2.37h2.201v2.142h-2.2v3.693-.012z" fill-rule="evenodd"/></g></svg>
`.trim()])},behaviours:an([Eo.config({})])}]}),{dom:{tag:"div",classes:["tox-statusbar__right-container"]},components:k}})()),f.length>0?[{dom:{tag:"div",classes:["tox-statusbar__text-container",...(()=>{const k="tox-statusbar__text-container--flex-start",E="tox-statusbar__text-container--flex-end";if(b){const N="tox-statusbar__text-container-3-cols";return C||v?C&&!v?[N,E]:[N,k]:[N,"tox-statusbar__text-container--space-around"]}return[C&&!v?E:k]})()]},components:f}]:[]};return{dom:{tag:"div",classes:["tox-statusbar"]},components:(()=>{const f=d(),b=((v,C)=>{const k=(N=>{const $=rl(N);return $===!1?Yp.None:$==="both"?Yp.Both:Yp.Vertical})(v);if(k===Yp.None)return I.none();const E=k===Yp.Both?"Press the arrow keys to resize the editor.":"Press the Up and Down arrow keys to resize the editor.";return I.some(id("resize-handle",{tag:"div",classes:["tox-statusbar__resize-handle"],attributes:{"aria-label":C.translate(E),"data-mce-name":"resize-handle"},behaviours:[m1.config({mode:"mouse",repositionTarget:!1,onDrag:(N,$,B)=>Ok(v,B,k),blockerClass:"tox-blocker"}),eo.config({mode:"special",onLeft:()=>Rk(v,k,-1,0),onRight:()=>Rk(v,k,1,0),onUp:()=>Rk(v,k,0,-1),onDown:()=>Rk(v,k,0,1)}),mr.config({}),Eo.config({}),Ii.config(C.tooltips.getConfig({tooltipText:C.translate("Resize")}))]},C.icons))})(s,l);return f.concat(b.toArray())})()}},PL=(s,l)=>l.get().getOrDie(`UI for ${s} has not been rendered`),Lz=(s,l)=>{const d=s.inline,f=d?pz:$K,b=Bp(s)?hV:gV,v=(()=>{const Le=_s(),Qe=_s(),ht=_s();return{dialogUi:Le,popupUi:Qe,mainUi:ht,getUiMotherships:()=>{const zt=Le.get().map(Pt=>Pt.mothership),Bt=Qe.get().map(Pt=>Pt.mothership);return zt.fold(()=>Bt.toArray(),Pt=>Bt.fold(()=>[Pt],sn=>cs(Pt.element,sn.element)?[Pt]:[Pt,sn]))},lazyGetInOuterOrDie:(zt,Bt)=>()=>ht.get().bind(Pt=>Bt(Pt.outerContainer)).getOrDie(`Could not find ${zt} element in OuterContainer`)}})(),C=_s(),k=_s(),E=_s(),N=Ki().deviceType.isTouch()?["tox-platform-touch"]:[],$=qT(s),B=F0(s),U=Ks({dom:{tag:"div",classes:["tox-anchorbar"]}}),J=Ks({dom:{tag:"div",classes:["tox-bottom-anchorbar"]}}),se=()=>v.mainUi.get().map(Le=>Le.outerContainer).bind(_r.getHeader),pe=v.lazyGetInOuterOrDie("anchor bar",U.getOpt),ye=v.lazyGetInOuterOrDie("bottom anchor bar",J.getOpt),Re=v.lazyGetInOuterOrDie("toolbar",_r.getToolbar),ve=v.lazyGetInOuterOrDie("throbber",_r.getThrobber),be=((Le,Qe,ht,zt)=>{const Bt=Wn(!1),Pt=(Es=>{const fo=Wn(qT(Es)?"bottom":"top");return{isPositionedAtTop:()=>fo.get()==="top",getDockingMode:fo.get,setDockingMode:fo.set}})(Qe),sn={icons:()=>Qe.ui.registry.getAll().icons,menuItems:()=>Qe.ui.registry.getAll().menuItems,translate:Cf.translate,isDisabled:()=>Qe.mode.isReadOnly()||!Qe.ui.isEnabled(),getOption:Qe.options.get,tooltips:bO(Le.dialog)},In=J5(Qe),Kn=(Es=>{const fo=$a=>()=>Es.formatter.match($a),Fr=$a=>()=>{const xa=Es.formatter.get($a);return xa!==void 0?I.some({tag:xa.length>0&&(xa[0].inline||xa[0].block)||"div",styles:Es.dom.parseStyle(Es.formatter.getCssText($a))}):I.none()},nr=Wn([]),Vl=Wn([]),zl=Wn(!1);return Es.on("PreInit",$a=>{const xa=H5(Es),Xp=pO(Es,xa,fo,Fr);nr.set(Xp)}),Es.on("addStyleModifications",$a=>{const xa=pO(Es,$a.items,fo,Fr);Vl.set(xa),zl.set($a.replace)}),{getData:()=>{const $a=zl.get()?[]:nr.get(),xa=Vl.get();return $a.concat(xa)}}})(Qe),ro=(Es=>({colorPicker:eV(Es),hasCustomColors:tV(Es),getColors:nV(Es),getColorCols:oV(Es)}))(Qe),Ro=(Es=>({isDraggableModal:$5(Es)}))(Qe),as={shared:{providers:sn,anchors:Q$(Qe,ht,zt,Pt.isPositionedAtTop),header:Pt},urlinput:In,styles:Kn,colorinput:ro,dialog:Ro,isContextMenuOpen:()=>Bt.get(),setContextMenuState:Es=>Bt.set(Es)},kr=Es=>I.none(),Br={...as,shared:{...as.shared,interpreter:Es=>N5(Es,{},Br,kr),getSink:Le.popup}},Zo={...as,shared:{...as.shared,interpreter:Es=>N5(Es,{},Zo,kr),getSink:Le.dialog}};return{popup:Br,dialog:Zo}})({popup:()=>ss.fromOption(v.popupUi.get().map(Le=>Le.sink),"(popup) UI has not been rendered"),dialog:()=>ss.fromOption(v.dialogUi.get().map(Le=>Le.sink),"UI has not been rendered")},s,pe,ye),ke=()=>{const Le=(()=>{const as={attributes:{[gc]:$?nd.BottomToTop:nd.TopToBottom}},kr=_r.parts.menubar({dom:{tag:"div",classes:["tox-menubar"]},backstage:be.popup,onEscape:()=>{s.focus()}}),Br=_r.parts.toolbar({dom:{tag:"div",classes:["tox-toolbar"]},getSink:be.popup.shared.getSink,providers:be.popup.shared.providers,onEscape:()=>{s.focus()},onToolbarToggled:xa=>{((Xp,xx)=>{Xp.dispatch("ToggleToolbarDrawer",{state:xx})})(s,xa)},type:B,lazyToolbar:Re,lazyHeader:()=>se().getOrDie("Could not find header element"),...as}),Zo=_r.parts["multiple-toolbar"]({dom:{tag:"div",classes:["tox-toolbar-overlord"]},providers:be.popup.shared.providers,onEscape:()=>{s.focus()},type:B}),Es=i2(s),fo=r2(s),Fr=s2(s),nr=jD(s),Vl=_r.parts.promotion({dom:{tag:"div",classes:["tox-promotion"]}}),zl=Es||fo||Fr,$a=nr?[Vl,kr]:[kr];return _r.parts.header({dom:{tag:"div",classes:["tox-editor-header"].concat(zl?[]:["tox-editor-header--empty"]),...as},components:nn([Fr?$a:[],Es?[Zo]:fo?[Br]:[],$0(s)?[]:[U.asSpec()]]),sticky:Bp(s),editor:s,sharedBackstage:be.popup.shared})})(),Qe={dom:{tag:"div",classes:["tox-sidebar-wrap"]},components:[_r.parts.socket({dom:{tag:"div",classes:["tox-edit-area"]}}),_r.parts.sidebar({dom:{tag:"div",classes:["tox-sidebar"]}})]},ht=_r.parts.throbber({dom:{tag:"div",classes:["tox-throbber"]},backstage:be.popup}),zt=_r.parts.viewWrapper({backstage:be.popup}),Bt=UD(s)&&!d?I.some(DL(s,be.popup.shared.providers)):I.none(),Pt=nn([$?[]:[Le],d?[]:[Qe],$?[Le]:[]]),sn=_r.parts.editorContainer({components:nn([Pt,d?[]:[J.asSpec()]])}),In=GS(s),Kn={role:"application",...Cf.isRtl()?{dir:"rtl"}:{},...In?{"aria-hidden":"true"}:{}},ro=La(_r.sketch({dom:{tag:"div",classes:["tox","tox-tinymce"].concat(d?["tox-tinymce-inline"]:[]).concat($?["tox-tinymce--toolbar-bottom"]:[]).concat(N),styles:{visibility:"hidden",...In?{opacity:"0",border:"0"}:{}},attributes:Kn},components:[sn,...d?[]:[zt,...Bt.toArray()],ht],behaviours:an([va(),Oo.config({disableClass:"tox-tinymce--disabled"}),eo.config({mode:"cyclic",selector:".tox-menubar, .tox-toolbar, .tox-toolbar__primary, .tox-toolbar__overflow--open, .tox-sidebar__overflow--open, .tox-statusbar__path, .tox-statusbar__wordcount, .tox-statusbar__branding a, .tox-statusbar__resize-handle"})])})),Ro=k_(ro);return C.set(Ro),{mothership:Ro,outerContainer:ro}},Ie=Le=>{const Qe=mv((zt=>(Pt=>{const sn=Qw(Pt),In=$y(Pt),Kn=BS(Pt);return rC(sn).map(ro=>iC(ro,In,Kn))})(zt).getOr(Qw(zt)))(s)),ht=mv((zt=>n4(zt).getOr(e2(zt)))(s));return s.inline||(Il("div","width",ht)&&_o(Le.element,"width",ht),Il("div","height",Qe)?_o(Le.element,"height",Qe):_o(Le.element,"height","400px")),Qe};return{popups:{backstage:be.popup,getMothership:()=>PL("popups",E)},dialogs:{backstage:be.dialog,getMothership:()=>PL("dialogs",k)},renderUI:()=>{const Le=ke(),Qe=(()=>{const zt=ZS(s),Bt=cs(Tn(),zt)&&Or(zt,"display")==="grid",Pt={dom:{tag:"div",classes:["tox","tox-silver-sink","tox-tinymce-aux"].concat(N),attributes:{...Cf.isRtl()?{dir:"rtl"}:{}}},behaviours:an([sl.config({useFixed:()=>b.isDocked(se)})])},sn={dom:{styles:{width:document.body.clientWidth+"px"}},events:To([Lt(df(),ro=>{_o(ro.element,"width",document.body.clientWidth+"px")})])},In=La(qs(Pt,Bt?sn:{})),Kn=k_(In);return k.set(Kn),{sink:In,mothership:Kn}})(),ht=Fp(s)?(()=>{const zt={dom:{tag:"div",classes:["tox","tox-silver-sink","tox-silver-popup-sink","tox-tinymce-aux"].concat(N),attributes:{...Cf.isRtl()?{dir:"rtl"}:{}}},behaviours:an([sl.config({useFixed:()=>b.isDocked(se),getBounds:()=>l.getPopupSinkBounds()})])},Bt=La(zt),Pt=k_(Bt);return E.set(Pt),{sink:Bt,mothership:Pt}})():(zt=>(E.set(zt.mothership),zt))(Qe);return v.dialogUi.set(Qe),v.popupUi.set(ht),v.mainUi.set(Le),(zt=>{const{mainUi:Bt,popupUi:Pt,uiMotherships:sn}=zt;co($S(s),(fo,Fr)=>{s.ui.registry.addGroupToolbarButton(Fr,fo)});const{buttons:In,menuItems:Kn,contextToolbars:ro,sidebars:Ro,views:as}=s.ui.registry.getAll(),kr=jS(s),Br={menuItems:Kn,menus:Wb(s),menubar:Lp(s),toolbar:kr.getOrThunk(()=>Hy(s)),allowToolbarGroups:B===wf.floating,buttons:In,sidebar:Ro,views:as};var Zo;Zo=Bt.outerContainer,s.addShortcut("alt+F9","focus menubar",()=>{_r.focusMenubar(Zo)}),s.addShortcut("alt+F10","focus toolbar",()=>{_r.focusToolbar(Zo)}),s.addCommand("ToggleToolbarDrawer",(fo,Fr)=>{Fr!=null&&Fr.skipFocus?_r.toggleToolbarDrawerWithoutFocusing(Zo):_r.toggleToolbarDrawer(Zo)}),s.addQueryStateHandler("ToggleToolbarDrawer",()=>_r.isToolbarDrawerToggled(Zo)),((fo,Fr,nr)=>{const Vl=(Bs,Fh)=>{bt([Fr,...nr],Im=>{Im.broadcastEvent(Bs,Fh)})},zl=(Bs,Fh)=>{bt([Fr,...nr],Im=>{Im.broadcastOn([Bs],Fh)})},$a=Bs=>zl(F(),{target:Bs.target}),xa=ja(),Xp=Bl(xa,"touchstart",$a),xx=Bl(xa,"touchmove",Bs=>Vl(Un(),Bs)),hv=Bl(xa,"touchend",Bs=>Vl(Uc(),Bs)),Jp=Bl(xa,"mousedown",$a),wC=Bl(xa,"mouseup",Bs=>{Bs.raw.button===0&&zl(q(),{target:Bs.target})}),pv=Bs=>zl(F(),{target:Sn(Bs.target)}),Lh=Bs=>{Bs.button===0&&zl(q(),{target:Sn(Bs.target)})},h1=()=>{bt(fo.editorManager.get(),Bs=>{fo!==Bs&&Bs.dispatch("DismissPopups",{relatedTarget:fo})})},p1=Bs=>Vl(dp(),bm(Bs)),wx=Bs=>{zl(Z(),{}),Vl(df(),bm(Bs))},$k=Ct(Sn(fo.getElement())),CC=Sw($k,"scroll",Bs=>{requestAnimationFrame(()=>{if(fo.getContainer()!=null){const Fh=Kb(fo,Fr.element).map(Im=>[Im.element,...Im.others]).getOr([]);Rn(Fh,Im=>cs(Im,Bs.target))&&(fo.dispatch("ElementScroll",{target:Bs.target.dom}),Vl(Gg(),Bs))}})}),bv=()=>zl(Z(),{}),Bh=Bs=>{Bs.state&&zl(F(),{target:Sn(fo.getContainer())})},Qp=Bs=>{zl(F(),{target:Sn(Bs.relatedTarget.getContainer())})},SC=Bs=>fo.dispatch("focusin",Bs),_C=Bs=>fo.dispatch("focusout",Bs);fo.on("PostRender",()=>{fo.on("click",pv),fo.on("tap",pv),fo.on("mouseup",Lh),fo.on("mousedown",h1),fo.on("ScrollWindow",p1),fo.on("ResizeWindow",wx),fo.on("ResizeEditor",bv),fo.on("AfterProgressState",Bh),fo.on("DismissPopups",Qp),bt([Fr,...nr],Bs=>{Bs.element.dom.addEventListener("focusin",SC),Bs.element.dom.addEventListener("focusout",_C)})}),fo.on("remove",()=>{fo.off("click",pv),fo.off("tap",pv),fo.off("mouseup",Lh),fo.off("mousedown",h1),fo.off("ScrollWindow",p1),fo.off("ResizeWindow",wx),fo.off("ResizeEditor",bv),fo.off("AfterProgressState",Bh),fo.off("DismissPopups",Qp),bt([Fr,...nr],Bs=>{Bs.element.dom.removeEventListener("focusin",SC),Bs.element.dom.removeEventListener("focusout",_C)}),Jp.unbind(),Xp.unbind(),xx.unbind(),hv.unbind(),wC.unbind(),CC.unbind()}),fo.on("detach",()=>{bt([Fr,...nr],rT),bt([Fr,...nr],Bs=>Bs.destroy())})})(s,Bt.mothership,sn),b.setup(s,be.popup.shared,se),Sz(s,be.popup),Az(s,be.popup.shared.getSink,be.popup),(fo=>{const{sidebars:Fr}=fo.ui.registry.getAll();bt(en(Fr),nr=>{const Vl=Fr[nr],zl=()=>mi(I.from(fo.queryCommandValue("ToggleSidebar")),nr);fo.ui.registry.addToggleButton(nr,{icon:Vl.icon,tooltip:Vl.tooltip,onAction:$a=>{fo.execCommand("ToggleSidebar",!1,nr),$a.setActive(zl())},onSetup:$a=>{$a.setActive(zl());const xa=()=>$a.setActive(zl());return fo.on("ToggleSidebar",xa),()=>{fo.off("ToggleSidebar",xa)}}})})})(s),lM(s,ve,be.popup.shared),yz(s,ro,Pt.sink,{backstage:be.popup}),RL(s,Pt.sink);const Es={targetNode:s.getElement(),height:Ie(Bt.outerContainer)};return f.render(s,zt,Br,be.popup,Es)})({popupUi:ht,dialogUi:Qe,mainUi:Le,uiMotherships:v.getUiMotherships()})}}},Bz=j([Ht("lazySink"),ds("dragBlockClass"),ir("getBounds",Ni),vt("useTabstopAt",Ne),vt("firstTabstop",0),vt("eventOrder",{}),Mn("modalBehaviours",[eo]),dc("onExecute"),xl("onEscape")]),w4={sketch:me},C4=j([Td({name:"draghandle",overrides:(s,l)=>({behaviours:an([m1.config({mode:"mouse",getTarget:d=>rh(d,'[role="dialog"]').getOr(d),blockerClass:s.dragBlockClass.getOrDie(new Error(`The drag blocker class was not specified for a dialog with a drag handle: 
`+JSON.stringify(l,null,2)).message),getBounds:s.getDragBounds})])})}),hc({schema:[Ht("dom")],name:"title"}),hc({factory:w4,schema:[Ht("dom")],name:"close"}),hc({factory:w4,schema:[Ht("dom")],name:"body"}),Td({factory:w4,schema:[Ht("dom")],name:"footer"}),wm({factory:{sketch:(s,l)=>({...s,dom:l.dom,components:l.components})},schema:[vt("dom",{tag:"div",styles:{position:"fixed",left:"0px",top:"0px",right:"0px",bottom:"0px"}}),vt("components",[])],name:"blocker"})]),si=Ec({name:"ModalDialog",configFields:Bz(),partFields:C4(),factory:(s,l,d,f)=>{const b=_s(),v=Nn("modal-events"),C={...s.eventOrder,[ba()]:[v].concat(s.eventOrder["alloy.system.attached"]||[])},k=Ki();return{uid:s.uid,dom:s.dom,components:l,apis:{show:E=>{b.set(E);const N=s.lazySink(E).getOrDie(),$=f.blocker(),B=N.getSystem().build({...$,components:$.components.concat([Yl(E)]),behaviours:an([Eo.config({}),jo("dialog-blocker-events",[hf(Is(),()=>{Df.isBlocked(E)||eo.focusIn(E)})])])});fg(N,B),eo.focusIn(E)},hide:E=>{b.clear(),Pi(E.element).each(N=>{E.getSystem().getByDom(N).each($=>{Jl($)})})},getBody:E=>Np(E,s,"body"),getFooter:E=>vr(E,s,"footer"),setIdle:E=>{Df.unblock(E)},setBusy:(E,N)=>{Df.block(E,N)}},eventOrder:C,domModification:{attributes:{role:"dialog","aria-modal":"true"}},behaviours:zo(s.modalBehaviours,[go.config({}),eo.config({mode:"cyclic",onEnter:s.onExecute,onEscape:s.onEscape,useTabstopAt:s.useTabstopAt,firstTabstop:s.firstTabstop}),Df.config({getRoot:b.get}),jo(v,[hr(E=>{const N=Np(E,s,"title").element,$=(B=>B.dom.textContent)(N);k.os.isMacOS()&&K($)?xn(E.element,"aria-label",$):((B,U)=>{const J=gs(B,"id").fold(()=>{const se=Nn("dialog-label");return xn(U,"id",se),se},me);xn(B,"aria-labelledby",J)})(E.element,N)})])])}},apis:{show:(s,l)=>{s.show(l)},hide:(s,l)=>{s.hide(l)},getBody:(s,l)=>s.getBody(l),getFooter:(s,l)=>s.getFooter(l),setBusy:(s,l,d)=>{s.setBusy(l,d)},setIdle:(s,l)=>{s.setIdle(l)}}}),Fz=oo([qi,dA].concat(K0)),dC=_c,S4=[vA("button"),_f,zc("align","end",["start","end"]),a_,kf,qm("buttonType",["primary","secondary"])],Ik=[...S4,Sf],_4=[Wu("type",["submit","cancel","custom"]),...Ik],$z=[Wu("type",["menu"]),Xb,_2,_f,Xa("items",Fz),...S4],Vz=[...S4,Wu("type",["togglebutton"]),_2,_f,Xb,li("active",!1)],NL=Ti("type",{submit:_4,cancel:_4,custom:_4,menu:$z,togglebutton:Vz}),zz=[qi,Sf,Wu("level",["info","warn","error","success"]),gA,vt("url","")],k4=oo(zz),E4=[qi,Sf,kf,vA("button"),_f,FK,qm("buttonType",["primary","secondary","toolbar"]),a_],T4=oo(E4),px=[qi,dA],Fa=px.concat([hA]),Hz=px.concat([fA,kf]),Uz=oo(Hz),ML=_c,LL=Fa.concat([AP("auto")]),Wz=oo(LL),Kz=zu([U0,Sf,gA]),jz=Fa.concat([lc("storageKey","default")]),Zz=oo(jz),Gz=Li,qz=oo(Fa),Yz=Li,BL=px.concat([lc("tag","textarea"),Sr("scriptId"),Sr("scriptUrl"),Vc("onFocus"),Ja("settings",void 0,Cb)]),Xz=px.concat([lc("tag","textarea"),Ya("init")]),Jz=rf(s=>Ir("customeditor.old",Mi(Xz),s).orThunk(()=>Ir("customeditor.new",Mi(BL),s))),Qz=Li,FL=oo(Fa),A4=Vu($u),$L=s=>[qi,jg("columns"),s],VL=[qi,Sr("html"),zc("presets","presentation",["presentation","document"]),ir("onInit",W),li("stretched",!1)],zL=oo(VL),HL=Fa.concat([li("border",!1),li("sandboxed",!0),li("streamContent",!1),li("transparent",!0)]),O4=oo(HL),eH=Li,R4=oo(px.concat([Zr("height")])),bx=oo([Sr("url"),Ku("zoom"),Ku("cachedWidth"),Ku("cachedHeight")]),UL=Fa.concat([Zr("inputMode"),Zr("placeholder"),li("maximized",!1),kf]),WL=oo(UL),KL=Li,tH=s=>[qi,fA,s,zc("align","start",["start","center","end"]),Zr("for")],nH=[Sf,U0],Dk=[Sf,Xa("items",nm(0,()=>jL))],jL=em([oo(nH),oo(Dk)]),oH=Fa.concat([Xa("items",jL),kf]),ZL=oo(oH),GL=Li,I4=Fa.concat([om("items",[Sf,U0]),Vr("size",1),kf]),qL=oo(I4),Xc=Li,YL=Fa.concat([li("constrain",!0),kf]),sH=oo(YL),XL=oo([Sr("width"),Sr("height")]),JL=px.concat([fA,Vr("min",0),Vr("max",0)]),rH=oo(JL),iH=bd,aH=[qi,Xa("header",Li),Xa("cells",Vu(Li))],QL=oo(aH),Mh=Fa.concat([Zr("placeholder"),li("maximized",!1),kf]),D4=oo(Mh),eB=Li,fC=[Wu("type",["directory","leaf"]),mA,Sr("id"),$r("menu",sM)],Pk=oo(fC),lH=fC.concat([Xa("children",nm(0,()=>Uu("type",{directory:tB,leaf:Pk})))]),tB=oo(lH),cH=Uu("type",{directory:tB,leaf:Pk}),uH=[qi,Xa("items",cH),Vc("onLeafAction"),Vc("onToggleExpand"),Hs("defaultExpandedIds",[],Li),Zr("defaultSelectedId")],dH=oo(uH),fH=Fa.concat([zc("filetype","file",["image","media","file"]),kf,Zr("picker_text")]),mH=oo(fH),nB=oo([U0,ad]),P4=s=>pi("items","items",{tag:"required",process:{}},Vu(rf(l=>Ir(`Checking item of ${s}`,Rm,l).fold(d=>ss.error(qa(d)),d=>ss.value(d))))),Rm=Zm(()=>{return Uu("type",{alertbanner:k4,bar:oo((s=P4("bar"),[qi,s])),button:T4,checkbox:Uz,colorinput:Zz,colorpicker:qz,dropzone:FL,grid:oo($L(P4("grid"))),iframe:O4,input:WL,listbox:ZL,selectbox:qL,sizeinput:sH,slider:rH,textarea:D4,urlinput:mH,customeditor:Jz,htmlpanel:zL,imagepreview:R4,collection:Wz,label:oo(tH(P4("label"))),table:QL,tree:dH,panel:oB});var s}),Nk=[qi,vt("classes",[]),Xa("items",Rm)],oB=oo(Nk),gH=[vA("tab"),mA,Xa("items",Rm)],sB=[qi,om("tabs",gH)],rB=oo(sB),N4=Ik,Mk=NL,mC=oo([Sr("title"),Bi("body",Uu("type",{panel:oB,tabpanel:rB})),lc("size","normal"),Hs("buttons",[],Mk),vt("initialData",{}),ir("onAction",W),ir("onChange",W),ir("onSubmit",W),ir("onClose",W),ir("onCancel",W),ir("onTabChange",W)]),gC=oo([Wu("type",["cancel","custom"]),...N4]),iB=oo([Sr("title"),Sr("url"),Ku("height"),Ku("width"),ip("buttons",gC),ir("onAction",W),ir("onCancel",W),ir("onClose",W),ir("onMessage",W)]),Lk=s=>x(s)?[s].concat(yn(la(s),Lk)):R(s)?yn(s,Lk):[],aB=s=>h(s.type)&&h(s.name),lB={checkbox:ML,colorinput:Gz,colorpicker:Yz,dropzone:A4,input:KL,iframe:eH,imagepreview:bx,selectbox:Xc,sizeinput:XL,slider:iH,listbox:GL,size:XL,textarea:eB,urlinput:nB,customeditor:Qz,collection:Kz,togglemenuitem:dC},hH=s=>{const l=(f=>Xt(Lk(f),aB))(s),d=yn(l,f=>(b=>I.from(lB[b.type]))(f).fold(()=>[],b=>[Bi(f.name,b)]));return oo(d)},cB=s=>{var l;return{internalDialog:Pa(Ir("dialog",mC,s)),dataValidator:hH(s),initialData:(l=s.initialData)!==null&&l!==void 0?l:{}}},g1={open:(s,l)=>{const d=cB(l);return s(d.internalDialog,d.initialData,d.dataValidator)},openUrl:(s,l)=>s(Pa(Ir("dialog",iB,l))),redial:s=>cB(s)};var pH=Object.freeze({__proto__:null,events:(s,l)=>{const d=(f,b)=>{s.updateState.each(v=>{const C=v(f,b);l.set(C)}),s.renderComponents.each(v=>{const C=v(b,l.get());(s.reuseDom?LT:N0)(f,C)})};return To([Lt(cc(),(f,b)=>{const v=b;if(!v.universal){const C=s.channel;mt(v.channels,C)&&d(f,v.data)}}),hr((f,b)=>{s.initialData.each(v=>{d(f,v)})})])}}),bH=Object.freeze({__proto__:null,getState:(s,l,d)=>d}),uB=[Ht("channel"),ds("renderComponents"),ds("updateState"),ds("initialData"),li("reuseDom",!0)];const ku=Zi({fields:uB,name:"reflecting",active:pH,apis:bH,state:Object.freeze({__proto__:null,init:()=>{const s=Wn(I.none());return{readState:()=>s.get().getOr("none"),get:s.get,set:s.set,clear:()=>s.set(I.none())}}})}),dB=s=>{const l=[],d={};return no(s,(f,b)=>{f.fold(()=>{l.push(b)},v=>{d[b]=v})}),l.length>0?ss.error(l):ss.value(d)},fB=(s,l,d,f)=>{const b=Ks(rv.sketch(C=>({dom:{tag:"div",classes:["tox-form"].concat(s.classes)},components:Ve(s.items,k=>lk(C,k,l,d,f))})));return{dom:{tag:"div",classes:["tox-dialog__body"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:[b.asSpec()]}],behaviours:an([eo.config({mode:"acyclic",useTabstopAt:Ue(sx)}),(v=b,Os.config({find:v.getOpt})),T3(b,{postprocess:C=>dB(C).fold(k=>(console.error(k),{}),me)}),jo("dialog-body-panel",[Lt(Is(),(C,k)=>{C.getSystem().broadcastOn([X_],{newFocus:I.some(k.event.target)})})])])};var v},vH=Ad({name:"TabButton",configFields:[vt("uid",void 0),Ht("value"),pi("dom","dom",us(()=>({attributes:{role:"tab",id:Nn("aria"),"aria-selected":"false"}})),Gl()),ds("action"),vt("domModification",{}),Mn("tabButtonBehaviours",[Eo,eo,St]),Ht("view")],factory:(s,l)=>({uid:s.uid,dom:s.dom,components:s.components,events:By(s.action),behaviours:zo(s.tabButtonBehaviours,[Eo.config({}),eo.config({mode:"execution",useSpace:!0,useEnter:!0}),St.config({store:{mode:"memory",initialValue:s.value}})]),domModification:s.domModification})}),mB=j([Ht("tabs"),Ht("dom"),vt("clickToDismiss",!1),Mn("tabbarBehaviours",[Gs,eo]),vp(["tabClass","selectedClass"])]),hC=wS({factory:vH,name:"tabs",unit:"tab",overrides:s=>{const l=(f,b)=>{Gs.dehighlight(f,b),Xn(f,on(),{tabbar:f,button:b})},d=(f,b)=>{Gs.highlight(f,b),Xn(f,qg(),{tabbar:f,button:b})};return{action:f=>{const b=f.getSystem().getByUid(s.uid).getOrDie(),v=Gs.isHighlighted(b,f);(v&&s.clickToDismiss?l:v?W:d)(b,f)},domModification:{classes:[s.markers.tabClass]}}}}),yH=j([hC]),M4=Ec({name:"Tabbar",configFields:mB(),partFields:yH(),factory:(s,l,d,f)=>({uid:s.uid,dom:s.dom,components:l,"debug.sketcher":"Tabbar",domModification:{attributes:{role:"tablist"}},behaviours:zo(s.tabbarBehaviours,[Gs.config({highlightClass:s.markers.selectedClass,itemClass:s.markers.tabClass,onHighlight:(b,v)=>{xn(v.element,"aria-selected","true")},onDehighlight:(b,v)=>{xn(v.element,"aria-selected","false")}}),eo.config({mode:"flow",getInitial:b=>Gs.getHighlighted(b).map(v=>v.element),selector:"."+s.markers.tabClass,executeOnMove:!0})])})}),xH=Ad({name:"Tabview",configFields:[Mn("tabviewBehaviours",[go])],factory:(s,l)=>({uid:s.uid,dom:s.dom,behaviours:zo(s.tabviewBehaviours,[go.config({})]),domModification:{attributes:{role:"tabpanel"}}})}),wH=j([vt("selectFirst",!0),ks("onChangeTab"),ks("onDismissTab"),vt("tabs",[]),Mn("tabSectionBehaviours",[])]),CH=hc({factory:M4,schema:[Ht("dom"),$c("markers",[Ht("tabClass"),Ht("selectedClass")])],name:"tabbar",defaults:s=>({tabs:s.tabs})}),SH=hc({factory:xH,name:"tabview"}),gB=j([CH,SH]),vx=Ec({name:"TabSection",configFields:wH(),partFields:gB(),factory:(s,l,d,f)=>{const b=(v,C)=>{vr(v,s,"tabbar").each(k=>{C(k).each(gf)})};return{uid:s.uid,dom:s.dom,components:l,behaviours:po(s.tabSectionBehaviours),events:To(nn([s.selectFirst?[hr((v,C)=>{b(v,Gs.getFirst)})]:[],[Lt(qg(),(v,C)=>{(k=>{const E=St.getValue(k);vr(k,s,"tabview").each(N=>{ee(s.tabs,$=>$.value===E).each($=>{const B=$.view();gs(k.element,"id").each(U=>{xn(N.element,"aria-labelledby",U)}),go.set(N,B),s.onChangeTab(N,k,B)})})})(C.event.button)}),Lt(on(),(v,C)=>{const k=C.event.button;s.onDismissTab(v,k)})]])),apis:{getViewItems:v=>vr(v,s,"tabview").map(C=>go.contents(C)).getOr([]),showTab:(v,C)=>{b(v,k=>{const E=Gs.getCandidates(k);return ee(E,N=>St.getValue(N)===C).filter(N=>!Gs.isHighlighted(k,N))})}}}},apis:{getViewItems:(s,l)=>s.getViewItems(l),showTab:(s,l,d)=>{s.showTab(l,d)}}}),L4=(s,l)=>{_o(s,"height",l+"px"),_o(s,"flex-basis",l+"px")},yx=(s,l,d)=>{rh(s,'[role="dialog"]').each(f=>{Lr(f,'[role="tablist"]').each(b=>{d.get().map(v=>(_o(l,"height","0"),_o(l,"flex-basis","0"),Math.min(v,((C,k,E)=>{const N=hl(C).dom,$=rh(C,".tox-dialog-wrap").getOr(C);let B;B=Or($,"position")==="fixed"?Math.max(N.clientHeight,window.innerHeight):Math.max(N.offsetHeight,N.scrollHeight);const U=Rr(k),J=k.dom.offsetLeft>=E.dom.offsetLeft+Wi(E)?Math.max(Rr(E),U):U,se=parseInt(Or(C,"margin-top"),10)||0,pe=parseInt(Or(C,"margin-bottom"),10)||0;return B-(Rr(C)+se+pe-J)})(f,l,b)))).each(v=>{L4(l,v)})})})},_g=s=>Lr(s,'[role="tabpanel"]'),Bk="send-data-to-section",B4="send-data-to-view",hB=(s,l,d,f)=>{const b=Wn({}),v=$=>{const B=St.getValue($),U=dB(B).getOr({}),J=b.get(),se=qs(J,U);b.set(se)},C=$=>{const B=b.get();St.setValue($,B)},k=Wn(null),E=Ve(s.tabs,$=>({value:$.name,dom:{tag:"div",classes:["tox-dialog__body-nav-item"]},components:[ui(d.shared.providers.translate($.title))],view:()=>[rv.sketch(B=>({dom:{tag:"div",classes:["tox-form"]},components:Ve($.items,U=>lk(B,U,l,d,f)),formBehaviours:an([eo.config({mode:"acyclic",useTabstopAt:Ue(sx)}),jo("TabView.form.events",[hr(C),Gu(v)]),mc.config({channels:kc([{key:Bk,value:{onReceive:v}},{key:B4,value:{onReceive:C}}])})])}))]})),N=($=>{const B=_s();return{extraEvents:[hr(J=>{const se=J.element;_g(se).each(pe=>{_o(pe,"visibility","hidden"),J.getSystem().getByDom(pe).toOptional().each(ye=>{const Re=((be,ke,Ie)=>Ve(be,(Le,Qe)=>{go.set(Ie,be[Qe].view());const ht=ke.dom.getBoundingClientRect();return go.set(Ie,[]),ht.height}))($,pe,ye);(be=>Fe(xe(be,(ke,Ie)=>ke>Ie?-1:ke<Ie?1:0)))(Re).fold(B.clear,B.set)}),yx(se,pe,B),zs(pe,"visibility"),((ye,Re)=>{Fe(ye).each(ve=>vx.showTab(Re,ve.value))})($,J),requestAnimationFrame(()=>{yx(se,pe,B)})})}),Lt(df(),J=>{const se=J.element;_g(se).each(pe=>{yx(se,pe,B)})}),Lt(T_,(J,se)=>{const pe=J.element;_g(pe).each(ye=>{const Re=Sd(Ct(ye));_o(ye,"visibility","hidden");const ve=Jr(ye,"height").map(ke=>parseInt(ke,10));zs(ye,"height"),zs(ye,"flex-basis");const be=ye.dom.getBoundingClientRect().height;ve.forall(ke=>be>ke)?(B.set(be),yx(pe,ye,B)):ve.each(ke=>{L4(ye,ke)}),zs(ye,"visibility"),Re.each(Ll)})})],selectFirst:!1}})(E);return vx.sketch({dom:{tag:"div",classes:["tox-dialog__body"]},onChangeTab:($,B,U)=>{const J=St.getValue(B);Xn($,AN,{name:J,oldName:k.get()}),k.set(J)},tabs:E,components:[vx.parts.tabbar({dom:{tag:"div",classes:["tox-dialog__body-nav"]},components:[M4.parts.tabs({})],markers:{tabClass:"tox-tab",selectedClass:"tox-dialog__body-nav-item--active"},tabbarBehaviours:an([mr.config({})])}),vx.parts.tabview({dom:{tag:"div",classes:["tox-dialog__body-content"]}})],selectFirst:N.selectFirst,tabSectionBehaviours:an([jo("tabpanel",N.extraEvents),eo.config({mode:"acyclic"}),Os.config({find:$=>Fe(vx.getViewItems($))}),n1(I.none(),$=>($.getSystem().broadcastOn([Bk],{}),b.get()),($,B)=>{b.set(B),$.getSystem().broadcastOn([B4],{})})])})},Fk=(s,l,d,f,b,v)=>({dom:{tag:"div",classes:["tox-dialog__content-js"],attributes:{...d.map(C=>({id:C})).getOr({}),...b?{"aria-live":"polite"}:{}}},components:[],behaviours:an([k3(0),ku.config({channel:`${s5}-${l}`,updateState:(C,k)=>I.some({isTabPanel:()=>k.body.type==="tabpanel"}),renderComponents:C=>{const k=C.body;return k.type==="tabpanel"?[hB(k,C.initialData,f,v)]:[fB(k,C.initialData,f,v)]},initialData:s})])}),pB=bg.deviceType.isTouch(),pC=(s,l)=>({dom:{tag:"div",styles:{display:"none"},classes:["tox-dialog__header"]},components:[s,l]}),F4=(s,l)=>si.parts.close($l.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":l.translate("Close")}},action:s,buttonBehaviours:an([mr.config({})])})),$4=()=>si.parts.title({dom:{tag:"div",classes:["tox-dialog__title"],innerHtml:"",styles:{display:"none"}}}),bB=(s,l)=>si.parts.body({dom:{tag:"div",classes:["tox-dialog__body"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:[{dom:xh(`<p>${iP(l.translate(s))}</p>`)}]}]}),vB=s=>si.parts.footer({dom:{tag:"div",classes:["tox-dialog__footer"]},components:s}),yB=(s,l)=>[km.sketch({dom:{tag:"div",classes:["tox-dialog__footer-start"]},components:s}),km.sketch({dom:{tag:"div",classes:["tox-dialog__footer-end"]},components:l})],V4=s=>{const l="tox-dialog",d=l+"-wrap",f=d+"__backdrop",b=l+"__disable-scroll";return si.sketch({lazySink:s.lazySink,onEscape:v=>(s.onEscape(v),I.some(!0)),useTabstopAt:v=>!sx(v),firstTabstop:s.firstTabstop,dom:{tag:"div",classes:[l].concat(s.extraClasses),styles:{position:"relative",...s.extraStyles}},components:[s.header,s.body,...s.footer.toArray()],parts:{blocker:{dom:xh(`<div class="${d}"></div>`),components:[{dom:{tag:"div",classes:pB?[f,f+"--opaque"]:[f]}}]}},dragBlockClass:d,modalBehaviours:an([Eo.config({}),jo("dialog-events",s.dialogEvents.concat([hf(Is(),(v,C)=>{Df.isBlocked(v)||eo.focusIn(v)}),Lt(Sb(),(v,C)=>{v.getSystem().broadcastOn([X_],{newFocus:C.event.newFocus})})])),jo("scroll-lock",[hr(()=>{Vn(Tn(),b)}),Gu(()=>{Fo(Tn(),b)})]),...s.extraBehaviours]),eventOrder:{[yl()]:["dialog-events"],[ba()]:["scroll-lock","dialog-events","alloy.base.behaviour"],[Wc()]:["alloy.base.behaviour","dialog-events","scroll-lock"],...s.eventOrder}})},xB=s=>$l.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":s.translate("Close"),"data-mce-name":"close"}},buttonBehaviours:an([mr.config({}),Ii.config(s.tooltips.getConfig({tooltipText:s.translate("Close")}))]),components:[id("close",{tag:"span",classes:["tox-icon"]},s.icons)],action:l=>{Wo(l,Up)}}),z4=(s,l,d,f)=>({dom:{tag:"h1",classes:["tox-dialog__title"],attributes:{...d.map(b=>({id:b})).getOr({})}},components:[],behaviours:an([ku.config({channel:`${M3}-${l}`,initialData:s,renderComponents:b=>[ui(f.translate(b.title))]})])}),H4=()=>({dom:xh('<div class="tox-dialog__draghandle"></div>')}),wB=(s,l,d)=>((f,b,v)=>{const C=si.parts.title(z4(f,b,I.none(),v)),k=si.parts.draghandle(H4()),E=si.parts.close(xB(v)),N=[C].concat(f.draggable?[k]:[]).concat([E]);return km.sketch({dom:xh('<div class="tox-dialog__header"></div>'),components:N})})({title:d.shared.providers.translate(s),draggable:d.dialog.isDraggableModal()},l,d.shared.providers),CB=(s,l,d,f)=>({dom:{tag:"div",classes:["tox-dialog__busy-spinner"],attributes:{"aria-label":d.translate(s)},styles:{left:"0px",right:"0px",bottom:"0px",top:`${f.getOr(0)}px`,position:"absolute"}},behaviours:l,components:[{dom:xh('<div class="tox-spinner"><div></div><div></div><div></div></div>')}]}),SB=(s,l,d)=>({onClose:()=>d.closeWindow(),onBlock:f=>{const b=Lr(s().element,".tox-dialog__header").map(v=>Rr(v));si.setBusy(s(),(v,C)=>CB(f.message,C,l,b))},onUnblock:()=>{si.setIdle(s())}}),bC="tox-dialog--fullscreen",U4="tox-dialog--width-lg",W4="tox-dialog--width-md",vC=s=>{switch(s){case"large":return I.some(U4);case"medium":return I.some(W4);default:return I.none()}},K4=(s,l)=>{const d=Sn(l.element.dom);es(d,bC)||(ci(d,[U4,W4]),vC(s).each(f=>Vn(d,f)))},_B=(s,l)=>{const d=Sn(s.element.dom),f=Qa(d),b=ee(f,v=>v===U4||v===W4).or(vC(l));((v,C)=>{bt(C,k=>{((E,N)=>{ot(E)?E.dom.classList.toggle(N):(($,B)=>mt(Vt($),B)?$n($,B):un($,B))(E,N),Ko(E)})(v,k)})})(d,[bC,...b.toArray()])},kB=(s,l,d)=>La(V4({...s,firstTabstop:1,lazySink:d.shared.getSink,extraBehaviours:[U2({}),...s.extraBehaviours],onEscape:f=>{Wo(f,Up)},dialogEvents:l,eventOrder:{[cc()]:[ku.name(),mc.name()],[ba()]:["scroll-lock",ku.name(),"messages","dialog-events","alloy.base.behaviour"],[Wc()]:["alloy.base.behaviour","dialog-events","messages",ku.name(),"scroll-lock"]}})),yC=(s,l={})=>Ve(s,d=>d.type==="menu"?(f=>{const b=Ve(f.items,v=>{const C=cn(l,v.name).getOr(Wn(!1));return{...v,storage:C}});return{...f,items:b}})(d):d),EB=s=>Qt(s,(l,d)=>d.type==="menu"?Qt(d.items,(f,b)=>(f[b.name]=b.storage,f),l):l,{}),j4=(s,l)=>[Jm(Is(),P$),s(nv,(d,f,b,v)=>{Sd(Ct(v.element)).fold(W,a0),l.onClose(),f.onClose()}),s(Up,(d,f,b,v)=>{f.onCancel(d),Wo(v,nv)}),Lt(t3,(d,f)=>l.onUnblock()),Lt(e3,(d,f)=>l.onBlock(f.event))],TB=(s,l,d)=>{const f=(v,C)=>Lt(v,(k,E)=>{b(k,(N,$)=>{C(s(),N,E.event,k)})}),b=(v,C)=>{ku.getState(v).get().each(k=>{C(k.internalDialog,v)})};return[...j4(f,l),f(F2,(v,C)=>C.onSubmit(v)),f(tc,(v,C,k)=>{C.onChange(v,{name:k.name})}),f(Cg,(v,C,k,E)=>{const N=()=>E.getSystem().isConnected()?eo.focusIn(E):void 0,$=J=>jr(J,"disabled")||gs(J,"aria-disabled").exists(se=>se==="true"),B=Ct(E.element),U=Sd(B);C.onAction(v,{name:k.name,value:k.value}),Sd(B).fold(N,J=>{$(J)||U.exists(se=>Kr(J,se)&&$(se))?N():d().toOptional().filter(se=>!Kr(se.element,J)).each(N)})}),f(AN,(v,C,k)=>{C.onTabChange(v,{newTabName:k.name,oldTabName:k.oldName})}),Gu(v=>{const C=s();St.setValue(v,C.getData())})]},_H=(s,l)=>{const d=l.map(v=>v.footerButtons).getOr([]),f=Yn(d,v=>v.align==="start"),b=(v,C)=>km.sketch({dom:{tag:"div",classes:[`tox-dialog__footer-${v}`]},components:Ve(C,k=>k.memento.asSpec())});return[b("start",f.pass),b("end",f.fail)]},AB=(s,l,d)=>({dom:xh('<div class="tox-dialog__footer"></div>'),components:[],behaviours:an([ku.config({channel:`${r5}-${l}`,initialData:s,updateState:(f,b)=>{const v=Ve(b.buttons,C=>{const k=Ks(((E,N)=>ax(E,E.type,N))(C,d));return{name:C.name,align:C.align,memento:k}});return I.some({lookupByName:C=>((k,E,N)=>ee(E,$=>$.name===N).bind($=>$.memento.getOpt(k)))(f,v,C),footerButtons:v})},renderComponents:_H})])}),Z4=(s,l,d)=>si.parts.footer(AB(s,l,d)),xC=(s,l)=>{if(s.getRoot().getSystem().isConnected()){const d=Os.getCurrent(s.getFormWrapper()).getOr(s.getFormWrapper());return rv.getField(d,l).orThunk(()=>s.getFooter().bind(b=>ku.getState(b).get()).bind(b=>b.lookupByName(l)))}return I.none()},OB=(s,l,d)=>{const f=v=>{const C=s.getRoot();C.getSystem().isConnected()&&v(C)},b={getData:()=>{const v=s.getRoot(),C=v.getSystem().isConnected()?s.getFormWrapper():v;return{...St.getValue(C),...co(d,k=>k.get())}},setData:v=>{f(C=>{const k=b.getData(),E=qs(k,v),N=((B,U)=>{const J=B.getRoot();return ku.getState(J).get().map(se=>Pa(Ir("data",se.dataValidator,U))).getOr(U)})(s,E),$=s.getFormWrapper();St.setValue($,N),no(d,(B,U)=>{uo(E,U)&&B.set(E[U])})})},setEnabled:(v,C)=>{xC(s,v).each(C?Oo.enable:Oo.disable)},focus:v=>{xC(s,v).each(Eo.focus)},block:v=>{if(!h(v))throw new Error("The dialogInstanceAPI.block function should be passed a blocking message of type string as an argument");f(C=>{Xn(C,e3,{message:v})})},unblock:()=>{f(v=>{Wo(v,t3)})},showTab:v=>{f(C=>{const k=s.getBody();ku.getState(k).get().exists(E=>E.isTabPanel())&&Os.getCurrent(k).each(E=>{vx.showTab(E,v)})})},redial:v=>{f(C=>{const k=s.getId(),E=l(v),N=yC(E.internalDialog.buttons,d);C.getSystem().broadcastOn([`${iv}-${k}`],E),C.getSystem().broadcastOn([`${M3}-${k}`],E.internalDialog),C.getSystem().broadcastOn([`${s5}-${k}`],E.internalDialog),C.getSystem().broadcastOn([`${r5}-${k}`],{...E.internalDialog,buttons:N}),b.setData(E.initialData)})},close:()=>{f(v=>{Wo(v,nv)})},toggleFullscreen:s.toggleFullscreen};return b},RB=(s,l,d,f=!1,b)=>{const v=Nn("dialog"),C=Nn("dialog-label"),k=Nn("dialog-content"),E=s.internalDialog,N=Wn(E.size),$=vC(N.get()).toArray(),B=Ks(((Ie,Le,Qe,ht)=>km.sketch({dom:xh('<div class="tox-dialog__header"></div>'),components:[z4(Ie,Le,I.some(Qe),ht),H4(),xB(ht)],containerBehaviours:an([m1.config({mode:"mouse",blockerClass:"blocker",getTarget:zt=>bf(zt,'[role="dialog"]').getOrDie(),snaps:{getSnapPoints:()=>[],leftAttr:"data-drag-left",topAttr:"data-drag-top"}})])}))({title:E.title,draggable:!0},v,C,d.shared.providers)),U=Ks(((Ie,Le,Qe,ht,zt,Bt)=>Fk(Ie,Le,I.some(Qe),ht,zt,Bt))({body:E.body,initialData:E.initialData},v,k,d,f,Ie=>xC(be,Ie))),J=yC(E.buttons),se=EB(J),pe=qo(J.length!==0,Ks(((Ie,Le,Qe)=>AB(Ie,Le,Qe))({buttons:J},v,d))),ye=TB(()=>ke,{onBlock:Ie=>{Df.block(ve,(Le,Qe)=>{const ht=B.getOpt(ve).map(zt=>Rr(zt.element));return CB(Ie.message,Qe,d.shared.providers,ht)})},onUnblock:()=>{Df.unblock(ve)},onClose:()=>l.closeWindow()},d.shared.getSink),Re=Ki().os,ve=La({dom:{tag:"div",classes:["tox-dialog","tox-dialog-inline",...$],attributes:{role:"dialog",...Re.isMacOS()?{"aria-label":E.title}:{"aria-labelledby":C}}},eventOrder:{[cc()]:[ku.name(),mc.name()],[yl()]:["execute-on-form"],[ba()]:["reflecting","execute-on-form"]},behaviours:an([eo.config({mode:"cyclic",onEscape:Ie=>(Wo(Ie,nv),I.some(!0)),useTabstopAt:Ie=>!sx(Ie)&&(ml(Ie)!=="button"||ns(Ie,"disabled")!=="disabled"),firstTabstop:1}),ku.config({channel:`${iv}-${v}`,updateState:(Ie,Le)=>(N.set(Le.internalDialog.size),K4(Le.internalDialog.size,Ie),b(),I.some(Le)),initialData:s}),Eo.config({}),jo("execute-on-form",ye.concat([hf(Is(),(Ie,Le)=>{eo.focusIn(Ie)}),Lt(Sb(),(Ie,Le)=>{Ie.getSystem().broadcastOn([X_],{newFocus:Le.event.newFocus})})])),Df.config({getRoot:()=>I.some(ve)}),go.config({}),U2({})]),components:[B.asSpec(),U.asSpec(),...pe.map(Ie=>Ie.asSpec()).toArray()]}),be={getId:j(v),getRoot:j(ve),getFooter:()=>pe.map(Ie=>Ie.get(ve)),getBody:()=>U.get(ve),getFormWrapper:()=>{const Ie=U.get(ve);return Os.getCurrent(Ie).getOr(Ie)},toggleFullscreen:()=>{_B(ve,N.get())}},ke=OB(be,l.redial,se);return{dialog:ve,instanceApi:ke}};var G4=tinymce.util.Tools.resolve("tinymce.util.URI");const kH=["insertContent","setContent","execCommand","close","block","unblock"],q4=s=>x(s)&&kH.indexOf(s.mceAction)!==-1,EH=(s,l,d,f)=>{const b=Nn("dialog"),v=wB(s.title,b,f),C=(Re=>{const ve={dom:{tag:"div",classes:["tox-dialog__content-js"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-iframe"]},components:[P3(I.none(),{dom:{tag:"iframe",attributes:{src:Re.url}},behaviours:an([mr.config({}),Eo.config({})])})]}],behaviours:an([eo.config({mode:"acyclic",useTabstopAt:Ue(sx)})])};return si.parts.body(ve)})(s),k=s.buttons.bind(Re=>Re.length===0?I.none():I.some(Z4({buttons:Re},b,f))),E=((Re,ve)=>{const be=(Ie,Le)=>Lt(Ie,(Qe,ht)=>{ke(Qe,(zt,Bt)=>{Le(ye,zt,ht.event,Qe)})}),ke=(Ie,Le)=>{ku.getState(Ie).get().each(Qe=>{Le(Qe,Ie)})};return[...j4(be,ve),be(Cg,(Ie,Le,Qe)=>{Le.onAction(Ie,{name:Qe.name})})]})(0,SB(()=>pe,f.shared.providers,l)),N={...s.height.fold(()=>({}),Re=>({height:Re+"px","max-height":Re+"px"})),...s.width.fold(()=>({}),Re=>({width:Re+"px","max-width":Re+"px"}))},$=s.width.isNone()&&s.height.isNone()?["tox-dialog--width-lg"]:[],B=new G4(s.url,{base_uri:new G4(window.location.href)}),U=`${B.protocol}://${B.host}${B.port?":"+B.port:""}`,J=Lc(),se=[ku.config({channel:`${iv}-${b}`,updateState:(Re,ve)=>I.some(ve),initialData:s}),jo("messages",[hr(()=>{const Re=Bl(Sn(window),"message",ve=>{if(B.isSameOrigin(new G4(ve.raw.origin))){const be=ve.raw.data;q4(be)?((ke,Ie,Le)=>{switch(Le.mceAction){case"insertContent":ke.insertContent(Le.content);break;case"setContent":ke.setContent(Le.content);break;case"execCommand":const Qe=!!A(Le.ui)&&Le.ui;ke.execCommand(Le.cmd,Qe,Le.value);break;case"close":Ie.close();break;case"block":Ie.block(Le.message);break;case"unblock":Ie.unblock()}})(d,ye,be):(ke=>!q4(ke)&&x(ke)&&uo(ke,"mceAction"))(be)&&s.onMessage(ye,be)}});J.set(Re)}),Gu(J.clear)]),mc.config({channels:{[L3]:{onReceive:(Re,ve)=>{Lr(Re.element,"iframe").each(be=>{const ke=be.dom.contentWindow;K(ke)&&ke.postMessage(ve,U)})}}}})],pe=kB({id:b,header:v,body:C,footer:k,extraClasses:$,extraBehaviours:se,extraStyles:N},E,f),ye=(Re=>{const ve=be=>{Re.getSystem().isConnected()&&be(Re)};return{block:be=>{if(!h(be))throw new Error("The urlDialogInstanceAPI.block function should be passed a blocking message of type string as an argument");ve(ke=>{Xn(ke,e3,{message:be})})},unblock:()=>{ve(be=>{Wo(be,t3)})},close:()=>{ve(be=>{Wo(be,nv)})},sendMessage:be=>{ve(ke=>{ke.getSystem().broadcastOn([L3],be)})}}})(pe);return{dialog:pe,instanceApi:ye}},Y4=(s,l)=>Pa(Ir("data",l,s)),IB=s=>tx(s,".tox-alert-dialog")||tx(s,".tox-confirm-dialog"),TH=(s,l,d)=>l&&d?[]:[Mr.config({contextual:{lazyContext:()=>I.some(ai(Sn(s.getContentAreaContainer()))),fadeInClass:"tox-dialog-dock-fadein",fadeOutClass:"tox-dialog-dock-fadeout",transitionClass:"tox-dialog-dock-transition"},modes:["top"],lazyViewport:f=>Kb(s,f.element).map(b=>({bounds:jb(b),optScrollEnv:I.some({currentScrollTop:b.element.dom.scrollTop,scrollElmTop:Pl(b.element).top})})).getOrThunk(()=>({bounds:Ni(),optScrollEnv:I.none()}))})],AH=s=>{const l=s.editor,d=Bp(l),f=(E=>{const N=E.shared;return{open:($,B)=>{const U=()=>{si.hide(ye),B()},J=Ks(ax({name:"close-alert",text:"OK",primary:!0,buttonType:I.some("primary"),align:"end",enabled:!0,icon:I.none()},"cancel",E)),se=$4(),pe=F4(U,N.providers),ye=La(V4({lazySink:()=>N.getSink(),header:pC(se,pe),body:bB($,N.providers),footer:I.some(vB(yB([],[J.asSpec()]))),onEscape:U,extraClasses:["tox-alert-dialog"],extraBehaviours:[],extraStyles:{},dialogEvents:[Lt(Up,U)],eventOrder:{}}));si.show(ye);const Re=J.get(ye);Eo.focus(Re)}}})(s.backstages.dialog),b=(E=>{const N=E.shared;return{open:($,B)=>{const U=be=>{si.hide(Re),B(be)},J=Ks(ax({name:"yes",text:"Yes",primary:!0,buttonType:I.some("primary"),align:"end",enabled:!0,icon:I.none()},"submit",E)),se=ax({name:"no",text:"No",primary:!1,buttonType:I.some("secondary"),align:"end",enabled:!0,icon:I.none()},"cancel",E),pe=$4(),ye=F4(()=>U(!1),N.providers),Re=La(V4({lazySink:()=>N.getSink(),header:pC(pe,ye),body:bB($,N.providers),footer:I.some(vB(yB([],[se,J.asSpec()]))),onEscape:()=>U(!1),extraClasses:["tox-confirm-dialog"],extraBehaviours:[],extraStyles:{},dialogEvents:[Lt(Up,()=>U(!1)),Lt(F2,()=>U(!0))],eventOrder:{}}));si.show(Re);const ve=J.get(Re);Eo.focus(ve)}}})(s.backstages.dialog),v=(E,N)=>g1.open(($,B,U)=>{const J=B,se=((pe,ye,Re)=>{const ve=Nn("dialog"),be=pe.internalDialog,ke=wB(be.title,ve,Re),Ie=Wn(be.size),Le=vC(Ie.get()).toArray(),Qe=((Ro,as,kr,Br)=>{const Zo=Fk(Ro,as,I.none(),kr,!1,Br);return si.parts.body(Zo)})({body:be.body,initialData:be.initialData},ve,Re,Ro=>xC(Kn,Ro)),ht=yC(be.buttons),zt=EB(ht),Bt=qo(ht.length!==0,Z4({buttons:ht},ve,Re)),Pt=TB(()=>ro,SB(()=>In,Re.shared.providers,ye),Re.shared.getSink),sn={id:ve,header:ke,body:Qe,footer:Bt,extraClasses:Le,extraBehaviours:[ku.config({channel:`${iv}-${ve}`,updateState:(Ro,as)=>(Ie.set(as.internalDialog.size),K4(as.internalDialog.size,Ro),I.some(as)),initialData:pe})],extraStyles:{}},In=kB(sn,Pt,Re),Kn={getId:j(ve),getRoot:j(In),getBody:()=>si.getBody(In),getFooter:()=>si.getFooter(In),getFormWrapper:()=>{const Ro=si.getBody(In);return Os.getCurrent(Ro).getOr(Ro)},toggleFullscreen:()=>{_B(In,Ie.get())}},ro=OB(Kn,ye.redial,zt);return{dialog:In,instanceApi:ro}})({dataValidator:U,initialData:J,internalDialog:$},{redial:g1.redial,closeWindow:()=>{si.hide(se.dialog),N(se.instanceApi)}},s.backstages.dialog);return si.show(se.dialog),se.instanceApi.setData(J),se.instanceApi},E),C=(E,N,$,B)=>g1.open((U,J,se)=>{const pe=Y4(J,se),ye=_s(),Re=s.backstages.popup.shared.header.isPositionedAtTop(),ve=()=>ye.on(Ie=>{zr.reposition(Ie),d&&Re||Mr.refresh(Ie)}),be=RB({dataValidator:se,initialData:pe,internalDialog:U},{redial:g1.redial,closeWindow:()=>{ye.on(zr.hide),l.off("ResizeEditor",ve),ye.clear(),$(be.instanceApi)}},s.backstages.popup,B.ariaAttrs,ve),ke=La(zr.sketch({lazySink:s.backstages.popup.shared.getSink,dom:{tag:"div",classes:[]},fireDismissalEventInstead:B.persistent?{event:"doNotDismissYet"}:{},...Re?{}:{fireRepositionEventInstead:{}},inlineBehaviours:an([jo("window-manager-inline-events",[Lt(Xm(),(Ie,Le)=>{Wo(be.dialog,Up)})]),...TH(l,d,Re)]),isExtraPart:(Ie,Le)=>IB(Le)}));return ye.set(ke),zr.showWithinBounds(ke,Yl(be.dialog),{anchor:N},()=>{const Ie=l.inline?Tn():Sn(l.getContainer()),Le=ai(Ie);return I.some(Le)}),d&&Re||(Mr.refresh(ke),l.on("ResizeEditor",ve)),be.instanceApi.setData(pe),eo.focusIn(be.dialog),be.instanceApi},E),k=(E,N,$,B)=>g1.open((U,J,se)=>{const pe=Y4(J,se),ye=_s(),Re=s.backstages.popup.shared.header.isPositionedAtTop(),ve=()=>ye.on(Ie=>{zr.reposition(Ie),Mr.refresh(Ie)}),be=RB({dataValidator:se,initialData:pe,internalDialog:U},{redial:g1.redial,closeWindow:()=>{ye.on(zr.hide),l.off("ResizeEditor ScrollWindow ElementScroll",ve),ye.clear(),$(be.instanceApi)}},s.backstages.popup,B.ariaAttrs,ve),ke=La(zr.sketch({lazySink:s.backstages.popup.shared.getSink,dom:{tag:"div",classes:[]},fireDismissalEventInstead:B.persistent?{event:"doNotDismissYet"}:{},...Re?{}:{fireRepositionEventInstead:{}},inlineBehaviours:an([jo("window-manager-inline-events",[Lt(Xm(),(Ie,Le)=>{Wo(be.dialog,Up)})]),Mr.config({contextual:{lazyContext:()=>I.some(ai(Sn(l.getContentAreaContainer()))),fadeInClass:"tox-dialog-dock-fadein",fadeOutClass:"tox-dialog-dock-fadeout",transitionClass:"tox-dialog-dock-transition"},modes:["top","bottom"],lazyViewport:Ie=>Kb(l,Ie.element).map(Le=>({bounds:jb(Le),optScrollEnv:I.some({currentScrollTop:Le.element.dom.scrollTop,scrollElmTop:Pl(Le.element).top})})).getOrThunk(()=>({bounds:Ni(),optScrollEnv:I.none()}))})]),isExtraPart:(Ie,Le)=>IB(Le)}));return ye.set(ke),zr.showWithinBounds(ke,Yl(be.dialog),{anchor:N},()=>s.backstages.popup.shared.getSink().toOptional().bind(Ie=>{const Le=Kb(l,Ie.element).map(zt=>jb(zt)).getOr(Ni()),Qe=ai(Sn(l.getContentAreaContainer())),ht=cu(Qe,Le);return I.some(Yo(ht.x,ht.y,ht.width,ht.height-15))})),Mr.refresh(ke),l.on("ResizeEditor ScrollWindow ElementScroll ResizeWindow",ve),be.instanceApi.setData(pe),eo.focusIn(be.dialog),be.instanceApi},E);return{open:(E,N,$)=>{if(!M(N)){if(N.inline==="toolbar")return C(E,s.backstages.popup.shared.anchors.inlineDialog(),$,N);if(N.inline==="bottom")return k(E,s.backstages.popup.shared.anchors.inlineBottomDialog(),$,N);if(N.inline==="cursor")return C(E,s.backstages.popup.shared.anchors.cursor(),$,N)}return v(E,$)},openUrl:(E,N)=>(($,B)=>g1.openUrl(U=>{const J=EH(U,{closeWindow:()=>{si.hide(J.dialog),B(J.instanceApi)}},l,s.backstages.dialog);return si.show(J.dialog),J.instanceApi},$))(E,N),alert:(E,N)=>{f.open(E,N)},close:E=>{E.close()},confirm:(E,N)=>{b.open(E,N)}}};Jf.add("silver",s=>{(k=>{BD(k),(E=>{const N=E.options.register,$=U=>re(U,h)?{value:G7(U),valid:!0}:{valid:!1,message:"Must be an array of strings."},B=U=>te(U)&&U>0?{value:U,valid:!0}:{valid:!1,message:"Must be a positive number."};N("color_map",{processor:$,default:["#BFEDD2","Light Green","#FBEEB8","Light Yellow","#F8CAC6","Light Red","#ECCAFA","Light Purple","#C2E0F4","Light Blue","#2DC26B","Green","#F1C40F","Yellow","#E03E2D","Red","#B96AD9","Purple","#3598DB","Blue","#169179","Dark Turquoise","#E67E23","Orange","#BA372A","Dark Red","#843FA1","Dark Purple","#236FA1","Dark Blue","#ECF0F1","Light Gray","#CED4D9","Medium Gray","#95A5A6","Gray","#7E8C8D","Dark Gray","#34495E","Navy Blue","#000000","Black","#ffffff","White"]}),N("color_map_background",{processor:$}),N("color_map_foreground",{processor:$}),N("color_cols",{processor:B,default:y_(E)}),N("color_cols_foreground",{processor:B,default:rN(E,PA)}),N("color_cols_background",{processor:B,default:rN(E,NA)}),N("custom_colors",{processor:"boolean",default:!0}),N("color_default_foreground",{processor:"string",default:I2}),N("color_default_background",{processor:"string",default:I2})})(k),(E=>{const N=E.options.register;N("contextmenu_avoid_overlap",{processor:"string",default:""}),N("contextmenu_never_use_native",{processor:"boolean",default:!1}),N("contextmenu",{processor:$=>$===!1?{value:[],valid:!0}:h($)||re($,h)?{value:eL($),valid:!0}:{valid:!1,message:"Must be false or a string."},default:"link linkchecker image editimage table spellchecker configurepermanentpen"})})(k)})(s);let l=()=>Ni();const{dialogs:d,popups:f,renderUI:b}=Lz(s,{getPopupSinkBounds:()=>l()});_N(s,f.backstage.shared);const v=AH({editor:s,backstages:{popup:f.backstage,dialog:d.backstage}}),C=_s();return{renderUI:()=>{const k=b();return Kb(s,f.getMothership().element).each(E=>{l=()=>jb(E)}),k},getWindowManagerImpl:j(v),getNotificationManagerImpl:()=>uP(s,{backstage:f.backstage},f.getMothership(),C)}})})();(function(){var t=tinymce.util.Tools.resolve("tinymce.ModelManager");const r=y=>_=>(O=>{const F=typeof O;return O===null?"null":F==="object"&&Array.isArray(O)?"array":F==="object"&&(Z=q=O,(le=String).prototype.isPrototypeOf(Z)||((fe=q.constructor)===null||fe===void 0?void 0:fe.name)===le.name)?"string":F;var Z,q,le,fe})(_)===y,i=y=>_=>typeof _===y,u=y=>_=>y===_,m=r("string"),h=r("object"),x=r("array"),w=u(null),R=i("boolean"),P=u(void 0),A=y=>!(_=>_==null)(y),M=i("function"),H=i("number"),K=()=>{},G=y=>()=>y,te=y=>y,re=(y,_)=>y===_;function W(y,..._){return(...O)=>{const F=_.concat(O);return y.apply(null,F)}}const ge=y=>_=>!y(_),he=y=>y(),j=G(!1),me=G(!0);class oe{constructor(_,O){this.tag=_,this.value=O}static some(_){return new oe(!0,_)}static none(){return oe.singletonNone}fold(_,O){return this.tag?O(this.value):_()}isSome(){return this.tag}isNone(){return!this.tag}map(_){return this.tag?oe.some(_(this.value)):oe.none()}bind(_){return this.tag?_(this.value):oe.none()}exists(_){return this.tag&&_(this.value)}forall(_){return!this.tag||_(this.value)}filter(_){return!this.tag||_(this.value)?this:oe.none()}getOr(_){return this.tag?this.value:_}or(_){return this.tag?this:_}getOrThunk(_){return this.tag?this.value:_()}orThunk(_){return this.tag?this:_()}getOrDie(_){if(this.tag)return this.value;throw new Error(_??"Called getOrDie on None")}static from(_){return A(_)?oe.some(_):oe.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(_){this.tag&&_(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}oe.singletonNone=new oe(!1);const Ce=Array.prototype.slice,Ue=Array.prototype.indexOf,et=Array.prototype.push,dt=(y,_)=>{return O=y,F=_,Ue.call(O,F)>-1;var O,F},Me=(y,_)=>{for(let O=0,F=y.length;O<F;O++)if(_(y[O],O))return!0;return!1},Ne=(y,_)=>{const O=[];for(let F=0;F<y;F++)O.push(_(F));return O},I=(y,_)=>{const O=y.length,F=new Array(O);for(let Z=0;Z<O;Z++){const q=y[Z];F[Z]=_(q,Z)}return F},st=(y,_)=>{for(let O=0,F=y.length;O<F;O++)_(y[O],O)},it=(y,_)=>{const O=[],F=[];for(let Z=0,q=y.length;Z<q;Z++){const le=y[Z];(_(le,Z)?O:F).push(le)}return{pass:O,fail:F}},Ft=(y,_)=>{const O=[];for(let F=0,Z=y.length;F<Z;F++){const q=y[F];_(q,F)&&O.push(q)}return O},Yt=(y,_,O)=>(((F,Z)=>{for(let q=F.length-1;q>=0;q--)Z(F[q],q)})(y,(F,Z)=>{O=_(O,F,Z)}),O),mt=(y,_,O)=>(st(y,(F,Z)=>{O=_(O,F,Z)}),O),Rn=(y,_)=>((O,F,Z)=>{for(let q=0,le=O.length;q<le;q++){const fe=O[q];if(F(fe,q))return oe.some(fe);if(Z(fe,q))break}return oe.none()})(y,_,j),Ot=(y,_)=>{for(let O=0,F=y.length;O<F;O++)if(_(y[O],O))return oe.some(O);return oe.none()},at=y=>{const _=[];for(let O=0,F=y.length;O<F;++O){if(!x(y[O]))throw new Error("Arr.flatten item "+O+" was not an array, input: "+y);et.apply(_,y[O])}return _},Ve=(y,_)=>at(I(y,_)),bt=(y,_)=>{for(let O=0,F=y.length;O<F;++O)if(_(y[O],O)!==!0)return!1;return!0},Yn=(y,_)=>{const O={};for(let F=0,Z=y.length;F<Z;F++){const q=y[F];O[String(q)]=_(q,F)}return O},Xt=(y,_)=>_>=0&&_<y.length?oe.some(y[_]):oe.none(),Bn=y=>Xt(y,0),Qt=y=>Xt(y,y.length-1),ee=(y,_)=>{for(let O=0;O<y.length;O++){const F=_(y[O],O);if(F.isSome())return F}return oe.none()},vo=Object.keys,nn=Object.hasOwnProperty,yn=(y,_)=>{const O=vo(y);for(let F=0,Z=O.length;F<Z;F++){const q=O[F];_(y[q],q)}},qe=(y,_)=>lt(y,(O,F)=>({k:F,v:_(O,F)})),lt=(y,_)=>{const O={};return yn(y,(F,Z)=>{const q=_(F,Z);O[q.k]=q.v}),O},Se=(y,_)=>{const O=[];return yn(y,(F,Z)=>{O.push(_(F,Z))}),O},Pe=y=>Se(y,te),Ke=(y,_)=>nn.call(y,_),xe=typeof window<"u"?window:Function("return this;")(),Ae=(y,_)=>((O,F)=>{let Z=F??xe;for(let q=0;q<O.length&&Z!=null;++q)Z=Z[O[q]];return Z})(y.split("."),_),Fe=Object.getPrototypeOf,Je=y=>{const _=Ae("ownerDocument.defaultView",y);return h(y)&&((O=>((F,Z)=>{const q=((le,fe)=>Ae(le,fe))(F,Z);if(q==null)throw new Error(F+" not available on this browser");return q})("HTMLElement",O))(_).prototype.isPrototypeOf(y)||/^HTML\w*Element$/.test(Fe(y).constructor.name))},wt=y=>y.dom.nodeName.toLowerCase(),pn=y=>y.dom.nodeType,en=y=>_=>pn(_)===y,An=y=>pn(y)===8||wt(y)==="#comment",no=y=>co(y)&&Je(y.dom),co=en(1),Jo=en(3),Ho=en(9),sr=en(11),Ss=y=>_=>co(_)&&wt(_)===y,ri=(y,_,O)=>{if(!(m(O)||R(O)||H(O)))throw console.error("Invalid call to Attribute.set. Key ",_,":: Value ",O,":: Element ",y),new Error("Attribute value was not simple");y.setAttribute(_,O+"")},xs=(y,_,O)=>{ri(y.dom,_,O)},la=(y,_)=>{const O=y.dom;yn(_,(F,Z)=>{ri(O,Z,F)})},cn=(y,_)=>{const O=y.dom.getAttribute(_);return O===null?void 0:O},uo=(y,_)=>oe.from(cn(y,_)),$o=(y,_)=>{y.dom.removeAttribute(_)},mi=y=>mt(y.dom.attributes,(_,O)=>(_[O.name]=O.value,_),{}),dl=y=>{if(y==null)throw new Error("Node cannot be null or undefined");return{dom:y}},tn={fromHtml:(y,_)=>{const O=(_||document).createElement("div");if(O.innerHTML=y,!O.hasChildNodes()||O.childNodes.length>1){const F="HTML does not have a single root node";throw console.error(F,y),new Error(F)}return dl(O.childNodes[0])},fromTag:(y,_)=>{const O=(_||document).createElement(y);return dl(O)},fromText:(y,_)=>{const O=(_||document).createTextNode(y);return dl(O)},fromDom:dl,fromPoint:(y,_,O)=>oe.from(y.dom.elementFromPoint(_,O)).map(dl)},ki=(y,_)=>{const O=y.dom;if(O.nodeType!==1)return!1;{const F=O;if(F.matches!==void 0)return F.matches(_);if(F.msMatchesSelector!==void 0)return F.msMatchesSelector(_);if(F.webkitMatchesSelector!==void 0)return F.webkitMatchesSelector(_);if(F.mozMatchesSelector!==void 0)return F.mozMatchesSelector(_);throw new Error("Browser lacks native selectors")}},qo=y=>y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11||y.childElementCount===0,Kl=(y,_)=>{const O=_===void 0?document:_.dom;return qo(O)?oe.none():oe.from(O.querySelector(y)).map(tn.fromDom)},js=(y,_)=>y.dom===_.dom,ii=(y,_)=>{const O=y.dom,F=_.dom;return O!==F&&O.contains(F)},Rc=ki,Ic=y=>tn.fromDom(y.dom.ownerDocument),Dc=y=>Ho(y)?y:Ic(y),El=y=>oe.from(y.dom.parentNode).map(tn.fromDom),Pc=y=>oe.from(y.dom.parentElement).map(tn.fromDom),Zs=(y,_)=>{const O=M(_)?_:j;let F=y.dom;const Z=[];for(;F.parentNode!==null&&F.parentNode!==void 0;){const q=F.parentNode,le=tn.fromDom(q);if(Z.push(le),O(le)===!0)break;F=q}return Z},So=y=>oe.from(y.dom.previousSibling).map(tn.fromDom),fl=y=>oe.from(y.dom.nextSibling).map(tn.fromDom),Ui=y=>I(y.dom.childNodes,tn.fromDom),Mu=(y,_)=>{const O=y.dom.childNodes;return oe.from(O[_]).map(tn.fromDom)},Sn=(y,_)=>{El(y).each(O=>{O.dom.insertBefore(_.dom,y.dom)})},rc=(y,_)=>{fl(y).fold(()=>{El(y).each(O=>{Tr(O,_)})},O=>{Sn(O,_)})},jf=(y,_)=>{(F=>Mu(F,0))(y).fold(()=>{Tr(y,_)},F=>{y.dom.insertBefore(_.dom,F.dom)})},Tr=(y,_)=>{y.dom.appendChild(_.dom)},Zf=(y,_)=>{Sn(y,_),Tr(_,y)},ml=(y,_)=>{st(_,(O,F)=>{const Z=F===0?y:_[F-1];rc(Z,O)})},jl=(y,_)=>{st(_,O=>{Tr(y,O)})},Tl=y=>{y.dom.textContent="",st(Ui(y),_=>{dr(_)})},dr=y=>{const _=y.dom;_.parentNode!==null&&_.parentNode.removeChild(_)},ca=y=>{const _=Ui(y);_.length>0&&ml(y,_),dr(y)},gl=(y,_)=>tn.fromDom(y.dom.cloneNode(_)),Gf=y=>gl(y,!1),su=y=>gl(y,!0),Al=(y,_)=>{const O=tn.fromTag(_),F=mi(y);return la(O,F),O},Gd=["tfoot","thead","tbody","colgroup"],Lu=(y,_,O)=>({element:y,rowspan:_,colspan:O}),cs=(y,_,O)=>({element:y,cells:_,section:O}),Kr=(y,_,O)=>({element:y,isNew:_,isLocked:O}),gi=(y,_,O,F)=>({element:y,cells:_,section:O,isNew:F}),qf=y=>tn.fromDom(y.dom.host),hl=y=>{const _=Jo(y)?y.dom.parentNode:y.dom;if(_==null||_.ownerDocument===null)return!1;const O=_.ownerDocument;return(q=>{const le=(Oe=>tn.fromDom(Oe.dom.getRootNode()))(q);return sr(fe=le)&&A(fe.dom.host)?oe.some(le):oe.none();var fe})(tn.fromDom(_)).fold(()=>O.body.contains(_),(F=hl,Z=qf,q=>F(Z(q))));var F,Z},ru=y=>{const _=y.dom.body;if(_==null)throw new Error("Body is not available yet");return tn.fromDom(_)},Pi=(y,_)=>{let O=[];return st(Ui(y),F=>{_(F)&&(O=O.concat([F])),O=O.concat(Pi(F,_))}),O},Aa=(y,_,O)=>((F,Z,q)=>Ft(Zs(F,q),le=>ki(le,_)))(y,0,O),Oa=(y,_)=>((O,F)=>Ft(Ui(O),Z=>ki(Z,_)))(y),Vs=(y,_)=>((O,F)=>{const Z=F===void 0?document:F.dom;return qo(Z)?[]:I(Z.querySelectorAll(O),tn.fromDom)})(_,y);var wr=(y,_,O,F,Z)=>y(O,F)?oe.some(O):M(Z)&&Z(O)?oe.none():_(O,F,Z);const Be=(y,_,O)=>{let F=y.dom;const Z=M(O)?O:j;for(;F.parentNode;){F=F.parentNode;const q=tn.fromDom(F);if(_(q))return oe.some(q);if(Z(q))break}return oe.none()},gt=(y,_,O)=>wr((F,Z)=>Z(F),Be,y,_,O),Ze=(y,_,O)=>Be(y,F=>ki(F,_),O),_t=(y,_)=>((O,F)=>Rn(O.dom.childNodes,Z=>{return q=tn.fromDom(Z),ki(q,_);var q}).map(tn.fromDom))(y),Ct=(y,_)=>Kl(_,y),ut=(y,_,O)=>wr((F,Z)=>ki(F,Z),Ze,y,_,O),rn=(y,_,O=re)=>y.exists(F=>O(F,_)),bn=y=>{const _=[],O=F=>{_.push(F)};for(let F=0;F<y.length;F++)y[F].each(O);return _},Cn=(y,_)=>y?oe.some(_):oe.none(),Tn=(y,_,O)=>_===""||y.length>=_.length&&y.substr(O,O+_.length)===_,_n=(y,_,O=0,F)=>{const Z=y.indexOf(_,O);return Z!==-1&&(!!P(F)||Z+_.length<=F)},Po=(y,_)=>Tn(y,_,0),xn=(y,_)=>Tn(y,_,y.length-_.length),Ws=(y=>_=>_.replace(y,""))(/^\s+|\s+$/g),ns=y=>y.length>0,gs=y=>y.style!==void 0&&M(y.style.getPropertyValue),jr=(y,_,O)=>{if(!m(O))throw console.error("Invalid call to CSS.set. Property ",_,":: Value ",O,":: Element ",y),new Error("CSS value must be a string: "+O);gs(y)&&y.style.setProperty(_,O)},Uo=(y,_,O)=>{const F=y.dom;jr(F,_,O)},ic=(y,_)=>{const O=y.dom;yn(_,(F,Z)=>{jr(O,Z,F)})},Ra=(y,_)=>{const O=y.dom,F=window.getComputedStyle(O).getPropertyValue(_);return F!==""||hl(y)?F:_o(O,_)},_o=(y,_)=>gs(y)?y.style.getPropertyValue(_):"",Ol=(y,_)=>{const O=y.dom,F=_o(O,_);return oe.from(F).filter(Z=>Z.length>0)},Rl=(y,_)=>{((O,F)=>{gs(O)&&O.style.removeProperty(F)})(y.dom,_),rn(uo(y,"style").map(Ws),"")&&$o(y,"style")},Or=(y,_,O=0)=>uo(y,_).map(F=>parseInt(F,10)).getOr(O),qd=(y,_)=>Or(y,_,1),Jr=y=>Ss("col")(y)?Or(y,"span",1)>1:qd(y,"colspan")>1,Yf=(y,_)=>parseInt(Ra(y,_),10),Il=G(10),zs=G(10),md=(y,_)=>Vm(y,_,me),Vm=(y,_,O)=>Ve(Ui(y),F=>ki(F,_)?O(F)?[F]:[]:Vm(F,_,O)),zm=(y,_)=>((O,F,Z=j)=>Z(F)?oe.none():dt(O,wt(F))?oe.some(F):Ze(F,O.join(","),q=>ki(q,"table")||Z(q)))(["td","th"],y,_),Rr=y=>md(y,"th,td"),pl=y=>ki(y,"colgroup")?Oa(y,"col"):Ve(Yd(y),_=>Oa(_,"col")),Dl=(y,_)=>ut(y,"table",_),rr=y=>md(y,"tr"),Yd=y=>Dl(y).fold(G([]),_=>Oa(_,"colgroup")),Pl=(y,_)=>I(y,O=>{if(wt(O)==="colgroup"){const F=I(pl(O),Z=>{const q=Or(Z,"span",1);return Lu(Z,1,q)});return cs(O,F,"colgroup")}{const F=I(Rr(O),Z=>{const q=Or(Z,"rowspan",1),le=Or(Z,"colspan",1);return Lu(Z,q,le)});return cs(O,F,_(O))}}),ua=y=>El(y).map(_=>{const O=wt(_);return(F=>dt(Gd,F))(O)?O:"tbody"}).getOr("tbody"),Hm=y=>{const _=rr(y),O=[...Yd(y),..._];return Pl(O,ua)},Wi=y=>{let _,O=!1;return(...F)=>(O||(O=!0,_=y.apply(null,F)),_)},Ka=()=>da(0,0),da=(y,_)=>({major:y,minor:_}),bl={nu:da,detect:(y,_)=>{const O=String(_).toLowerCase();return y.length===0?Ka():((F,Z)=>{const q=((fe,Oe)=>{for(let je=0;je<fe.length;je++){const rt=fe[je];if(rt.test(Oe))return rt}})(F,Z);if(!q)return{major:0,minor:0};const le=fe=>Number(Z.replace(q,"$"+fe));return da(le(1),le(2))})(y,O)},unknown:Ka},Vg=(y,_)=>{const O=String(_).toLowerCase();return Rn(y,F=>F.search(O))},os=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,iu=y=>_=>_n(_,y),gd=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:y=>_n(y,"edge/")&&_n(y,"chrome")&&_n(y,"safari")&&_n(y,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,os],search:y=>_n(y,"chrome")&&!_n(y,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:y=>_n(y,"msie")||_n(y,"trident")},{name:"Opera",versionRegexes:[os,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:iu("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:iu("firefox")},{name:"Safari",versionRegexes:[os,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:y=>(_n(y,"safari")||_n(y,"mobile/"))&&_n(y,"applewebkit")}],Bu=[{name:"Windows",search:iu("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:y=>_n(y,"iphone")||_n(y,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:iu("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:iu("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:iu("linux"),versionRegexes:[]},{name:"Solaris",search:iu("sunos"),versionRegexes:[]},{name:"FreeBSD",search:iu("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:iu("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],np={browsers:G(gd),oses:G(Bu)},$v="Edge",Zl="Chromium",op="Opera",Vv="Firefox",zg="Safari",yb=y=>{const _=y.current,O=y.version,F=Z=>()=>_===Z;return{current:_,version:O,isEdge:F($v),isChromium:F(Zl),isIE:F("IE"),isOpera:F(op),isFirefox:F(Vv),isSafari:F(zg)}},dn=()=>yb({current:void 0,version:bl.unknown()}),Xd=yb,Jd="Windows",Hg="Android",fa="Linux",Qd="macOS",Xf="Solaris",zv="FreeBSD",xb="ChromeOS",wb=y=>{const _=y.current,O=y.version,F=Z=>()=>_===Z;return{current:_,version:O,isWindows:F(Jd),isiOS:F("iOS"),isAndroid:F(Hg),isMacOS:F(Qd),isLinux:F(fa),isSolaris:F(Xf),isFreeBSD:F(zv),isChromeOS:F(xb)}},G1=()=>wb({current:void 0,version:bl.unknown()}),Hv=wb,q1=y=>window.matchMedia(y).matches;let Ug=Wi(()=>((y,_,O)=>{const F=np.browsers(),Z=np.oses(),q=_.bind(Oe=>((je,rt)=>ee(rt.brands,ze=>{const Ge=ze.brand.toLowerCase();return Rn(je,Xe=>{var pt;return Ge===((pt=Xe.brand)===null||pt===void 0?void 0:pt.toLowerCase())}).map(Xe=>({current:Xe.name,version:bl.nu(parseInt(ze.version,10),0)}))}))(F,Oe)).orThunk(()=>((Oe,je)=>Vg(Oe,je).map(rt=>{const ze=bl.detect(rt.versionRegexes,je);return{current:rt.name,version:ze}}))(F,y)).fold(dn,Xd),le=((Oe,je)=>Vg(Oe,je).map(rt=>{const ze=bl.detect(rt.versionRegexes,je);return{current:rt.name,version:ze}}))(Z,y).fold(G1,Hv),fe=((Oe,je,rt,ze)=>{const Ge=Oe.isiOS()&&/ipad/i.test(rt)===!0,Xe=Oe.isiOS()&&!Ge,pt=Oe.isiOS()||Oe.isAndroid(),yt=pt||ze("(pointer:coarse)"),Kt=Ge||!Xe&&pt&&ze("(min-device-width:768px)"),jt=Xe||pt&&!Kt,Wt=je.isSafari()&&Oe.isiOS()&&/safari/i.test(rt)===!1,Gt=!jt&&!Kt&&!Wt;return{isiPad:G(Ge),isiPhone:G(Xe),isTablet:G(Kt),isPhone:G(jt),isTouch:G(yt),isAndroid:Oe.isAndroid,isiOS:Oe.isiOS,isWebView:G(Wt),isDesktop:G(Gt)}})(le,q,y,O);return{browser:q,os:le,deviceType:fe}})(window.navigator.userAgent,oe.from(window.navigator.userAgentData),q1));const au=()=>Ug(),hd=(y,_)=>{const O=Z=>{const q=_(Z);if(q<=0||q===null){const le=Ra(Z,y);return parseFloat(le)||0}return q},F=(Z,q)=>mt(q,(le,fe)=>{const Oe=Ra(Z,fe),je=Oe===void 0?0:parseInt(Oe,10);return isNaN(je)?le:le+je},0);return{set:(Z,q)=>{if(!H(q)&&!q.match(/^[0-9]+$/))throw new Error(y+".set accepts only positive integer values. Value was "+q);const le=Z.dom;gs(le)&&(le.style[y]=q+"px")},get:O,getOuter:O,aggregate:F,max:(Z,q,le)=>{const fe=F(Z,le);return q>fe?q-fe:0}}},lu=(y,_,O)=>((F,Z)=>(q=>{const le=parseFloat(q);return isNaN(le)?oe.none():oe.some(le)})(F).getOr(Z))(Ra(y,_),O),Ki=hd("width",y=>y.dom.offsetWidth),Nl=y=>Ki.get(y),ef=y=>Ki.getOuter(y),hs=y=>((_,O)=>{const F=_.dom,Z=F.getBoundingClientRect().width||F.offsetWidth;return((q,le,fe,Oe)=>le-lu(q,`padding-${fe}`,0)-lu(q,`padding-${Oe}`,0)-lu(q,`border-${fe}-width`,0)-lu(q,`border-${Oe}-width`,0))(_,Z,"left","right")})(y),Nc=(y,_,O)=>{const F=y.cells,Z=F.slice(0,_),q=F.slice(_),le=Z.concat(O).concat(q);return vl(y,le)},Um=(y,_,O)=>Nc(y,_,[O]),Wm=(y,_,O)=>{y.cells[_]=O},vl=(y,_)=>gi(y.element,_,y.section,y.isNew),Qr=(y,_)=>y.cells[_],Cr=(y,_)=>Qr(y,_).element,Ji=y=>y.cells.length,fr=y=>{const _=it(y,O=>O.section==="colgroup");return{rows:_.fail,cols:_.pass}},tf=(y,_,O)=>{const F=I(y.cells,O);return gi(_(y.element),F,y.section,!0)},nf="data-snooker-locked-cols",Ei=y=>uo(y,nf).bind(_=>oe.from(_.match(/\d+/g))).map(_=>Yn(_,me)),ja=y=>{const _=mt(fr(y).rows,(F,Z)=>(st(Z.cells,(q,le)=>{q.isLocked&&(F[le]=!0)}),F),{}),O=Se(_,(F,Z)=>parseInt(Z,10));return((F,Z)=>{const q=Ce.call(F,0);return q.sort(void 0),q})(O)},Ia=(y,_)=>y+","+_,hi=(y,_)=>{const O=Ve(y.all,F=>F.cells);return Ft(O,_)},pd=y=>{const _={},O=[],F=Bn(y).map(Ge=>Ge.element).bind(Dl).bind(Ei).getOr({});let Z=0,q=0,le=0;const{pass:fe,fail:Oe}=it(y,Ge=>Ge.section==="colgroup");st(Oe,Ge=>{const Xe=[];st(Ge.cells,pt=>{let yt=0;for(;_[Ia(le,yt)]!==void 0;)yt++;const Kt=((Wt,Gt)=>Ke(Wt,Gt)&&Wt[Gt]!==void 0&&Wt[Gt]!==null)(F,yt.toString()),jt=((Wt,Gt,fn,hn,St,Mn)=>({element:Wt,rowspan:Gt,colspan:fn,row:hn,column:St,isLocked:Mn}))(pt.element,pt.rowspan,pt.colspan,le,yt,Kt);for(let Wt=0;Wt<pt.colspan;Wt++)for(let Gt=0;Gt<pt.rowspan;Gt++){const fn=yt+Wt,hn=Ia(le+Gt,fn);_[hn]=jt,q=Math.max(q,fn+1)}Xe.push(jt)}),Z++,O.push(cs(Ge.element,Xe,Ge.section)),le++});const{columns:je,colgroups:rt}=Qt(fe).map(Ge=>{const Xe=(yt=>{const Kt={};let jt=0;return st(yt.cells,Wt=>{const Gt=Wt.colspan;Ne(Gt,fn=>{const hn=jt+fn;Kt[hn]=((St,Mn,po)=>({element:St,colspan:Mn,column:po}))(Wt.element,Gt,hn)}),jt+=Gt}),Kt})(Ge);return{colgroups:[((yt,Kt)=>({element:yt,columns:Kt}))(Ge.element,Pe(Xe))],columns:Xe}}).getOrThunk(()=>({colgroups:[],columns:{}}));return{grid:((Ge,Xe)=>({rows:Ge,columns:Xe}))(Z,q),access:_,all:O,columns:je,colgroups:rt}},Yo=y=>{const _=Hm(y);return pd(_)},ai=pd,Za=(y,_,O)=>oe.from(y.access[Ia(_,O)]),cu=(y,_,O)=>{const F=hi(y,Z=>O(_,Z.element));return F.length>0?oe.some(F[0]):oe.none()},Ni=hi,Wn=y=>Ve(y.all,_=>_.cells),Mc=y=>Pe(y.columns),Lc=y=>vo(y.columns).length>0,_s=(y,_)=>oe.from(y.columns[_]),Jf=(y,_=me)=>{const O=y.grid,F=Ne(O.columns,te),Z=Ne(O.rows,te);return I(F,q=>sp(()=>Ve(Z,le=>Za(y,le,q).filter(fe=>fe.column===q).toArray()),le=>le.colspan===1&&_(le.element),()=>Za(y,0,q)))},sp=(y,_,O)=>{const F=y();return Rn(F,_).orThunk(()=>oe.from(F[0]).orThunk(O)).map(Z=>Z.element)},uu=y=>{const _=y.grid,O=Ne(_.rows,te),F=Ne(_.columns,te);return I(O,Z=>sp(()=>Ve(F,q=>Za(y,Z,q).filter(le=>le.row===Z).fold(G([]),le=>[le])),q=>q.rowspan===1,()=>Za(y,Z,0)))},ss=(y,_)=>O=>Da(O)==="rtl"?_:y,Da=y=>Ra(y,"direction")==="rtl"?"rtl":"ltr",Km=hd("height",y=>{const _=y.dom;return hl(y)?_.getBoundingClientRect().height:_.offsetHeight}),Fu=y=>Km.get(y),Wg=y=>Km.getOuter(y),Bc=(y,_)=>({left:y,top:_,translate:(O,F)=>Bc(y+O,_+F)}),Ga=Bc,du=(y,_)=>y!==void 0?y:_!==void 0?_:0,of=y=>{const _=y.dom.ownerDocument,O=_.body,F=_.defaultView,Z=_.documentElement;if(O===y.dom)return Ga(O.offsetLeft,O.offsetTop);const q=du(F==null?void 0:F.pageYOffset,Z.scrollTop),le=du(F==null?void 0:F.pageXOffset,Z.scrollLeft),fe=du(Z.clientTop,O.clientTop),Oe=du(Z.clientLeft,O.clientLeft);return Ye(y).translate(le-Oe,q-fe)},Ye=y=>{const _=y.dom,O=_.ownerDocument.body;return O===_?Ga(O.offsetLeft,O.offsetTop):hl(y)?(F=>{const Z=F.getBoundingClientRect();return Ga(Z.left,Z.top)})(_):Ga(0,0)},Qf=(y,_)=>({row:y,y:_}),qs=(y,_)=>({col:y,x:_}),rp=y=>of(y).left+ef(y),jm=y=>of(y).left,Cc=(y,_)=>qs(y,jm(_)),us=(y,_)=>qs(y,rp(_)),ma=y=>of(y).top,ac=(y,_)=>Qf(y,ma(_)),Sc=(y,_)=>Qf(y,ma(_)+Wg(_)),fu=(y,_,O)=>{if(O.length===0)return[];const F=I(O.slice(1),(q,le)=>q.map(fe=>y(le,fe))),Z=O[O.length-1].map(q=>_(O.length-1,q));return F.concat([Z])},$u={delta:te,positions:y=>fu(ac,Sc,y),edge:ma},Qi=ss({delta:te,edge:jm,positions:y=>fu(Cc,us,y)},{delta:y=>-y,edge:rp,positions:y=>fu(us,Cc,y)}),sf={delta:(y,_)=>Qi(_).delta(y,_),positions:(y,_)=>Qi(_).positions(y,_),edge:y=>Qi(y).edge(y)},Zm={unsupportedLength:["em","ex","cap","ch","ic","rem","lh","rlh","vw","vh","vi","vb","vmin","vmax","cm","mm","Q","in","pc","pt","px"],fixed:["px","pt"],relative:["%"],empty:[""]},Kg=(()=>{const y="[0-9]+",_="[eE][+-]?"+y,O=Z=>`(?:${Z})?`,F=["Infinity",y+"\\."+O(y)+O(_),"\\."+y+O(_),y+O(_)].join("|");return new RegExp(`^([+-]?(?:${F}))(.*)$`)})(),Mi=/(\d+(\.\d+)?)%/,oo=/(\d+(\.\d+)?)px|em/,Vu=Ss("col"),em=Ss("tr"),ga=(y,_,O)=>{const F=Pc(y).getOrThunk(()=>ru(Ic(y)));return _(y)/O(F)*100},zu=(y,_)=>{Uo(y,"width",_+"px")},Gl=(y,_)=>{Uo(y,"width",_+"%")},Hu=(y,_)=>{Uo(y,"height",_+"px")},bd=y=>{const _=(O=>{return lu(F=O,"height",F.dom.offsetHeight)+"px";var F})(y);return _?((O,F,Z,q)=>{const le=parseFloat(O);return xn(O,"%")&&wt(F)!=="table"?((fe,Oe,je,rt)=>{const ze=Dl(fe).map(Ge=>{const Xe=je(Ge);return Math.floor(Oe/100*Xe)}).getOr(Oe);return rt(fe,ze),ze})(F,le,Z,q):le})(_,y,Fu,Hu):Fu(y)},Li=(y,_)=>Ol(y,_).orThunk(()=>uo(y,_).map(O=>O+"px")),_c=y=>Li(y,"width"),mu=y=>ga(y,Nl,hs),tm=y=>{return Vu(y)?Nl(y):lu(_=y,"width",_.dom.offsetWidth);var _},Cb=y=>em(y)?Fu(y):((_,O,F)=>F(_)/qd(_,"rowspan"))(y,0,bd),Uu=(y,_,O)=>{Uo(y,"width",_+O)},rf=y=>ga(y,Nl,hs)+"%",Gm=G(Mi),Ir=Ss("col"),Pa=y=>_c(y).getOrThunk(()=>tm(y)+"px"),Na=y=>{return(_=y,Li(_,"height")).getOrThunk(()=>Cb(y)+"px");var _},qa=(y,_,O,F,Z,q)=>y.filter(F).fold(()=>q(((le,fe)=>{if(fe<0||fe>=le.length-1)return oe.none();const Oe=le[fe].fold(()=>{const rt=(ze=>{const Ge=Ce.call(ze,0);return Ge.reverse(),Ge})(le.slice(0,fe));return ee(rt,(ze,Ge)=>ze.map(Xe=>({value:Xe,delta:Ge+1})))},rt=>oe.some({value:rt,delta:0})),je=le[fe+1].fold(()=>{const rt=le.slice(fe+1);return ee(rt,(ze,Ge)=>ze.map(Xe=>({value:Xe,delta:Ge+1})))},rt=>oe.some({value:rt,delta:1}));return Oe.bind(rt=>je.map(ze=>{const Ge=ze.delta+rt.delta;return Math.abs(ze.value-rt.value)/Ge}))})(O,_)),le=>Z(le)),Ti=(y,_,O,F)=>{const Z=Jf(y),q=Lc(y)?(Oe=>I(Mc(Oe),je=>oe.from(je.element)))(y):Z,le=[oe.some(sf.edge(_))].concat(I(sf.positions(Z,_),Oe=>Oe.map(je=>je.x))),fe=ge(Jr);return I(q,(Oe,je)=>qa(Oe,je,le,fe,rt=>{if((Ge=>{const Xe=au().browser,pt=Xe.isChromium()||Xe.isFirefox();return!Ir(Ge)||pt})(rt))return O(rt);{const Ge=(ze=Z[je])!=null?te(ze):oe.none();return qa(Ge,je,le,fe,Xe=>F(oe.some(Nl(Xe))),F)}var ze},F))},nm=y=>y.map(_=>_+"px").getOr(""),pi=(y,_,O)=>Ti(y,_,tm,F=>F.getOrThunk(O.minCellWidth)),ji=(y,_,O,F)=>{const Z=uu(y),q=I(y.all,fe=>oe.some(fe.element)),le=[oe.some($u.edge(_))].concat(I($u.positions(Z,_),fe=>fe.map(Oe=>Oe.y)));return I(q,(fe,Oe)=>qa(fe,Oe,le,me,O,F))},Fc=(y,_)=>()=>hl(y)?_(y):parseFloat(Ol(y,"width").getOr("0")),Ht=y=>{const _=Fc(y,F=>parseFloat(rf(F))),O=Fc(y,Nl);return{width:_,pixelWidth:O,getWidths:(F,Z)=>((q,le,fe)=>Ti(q,le,mu,Oe=>Oe.fold(()=>fe.minCellWidth(),je=>je/fe.pixelWidth()*100)))(F,y,Z),getCellDelta:F=>F/O()*100,singleColumnWidth:(F,Z)=>[100-F],minCellWidth:()=>Il()/O()*100,setElementWidth:Gl,adjustTableWidth:F=>{const Z=_();Gl(y,Z+F/100*Z)},isRelative:!0,label:"percent"}},Bi=y=>{const _=Fc(y,Nl);return{width:_,pixelWidth:_,getWidths:(O,F)=>pi(O,y,F),getCellDelta:te,singleColumnWidth:(O,F)=>[Math.max(Il(),O+F)-O],minCellWidth:Il,setElementWidth:zu,adjustTableWidth:O=>{const F=_()+O;zu(y,F)},isRelative:!1,label:"pixel"}},jg=y=>_c(y).fold(()=>(_=>{const O=Fc(_,Nl),F=G(0);return{width:O,pixelWidth:O,getWidths:(Z,q)=>pi(Z,_,q),getCellDelta:F,singleColumnWidth:G([0]),minCellWidth:F,setElementWidth:K,adjustTableWidth:K,isRelative:!0,label:"none"}})(y),_=>((O,F)=>Gm().exec(F)!==null?Ht(O):Bi(O))(y,_)),Sr=Bi,Wu=Ht,Ya=(y,_,O)=>{const F=y[O].element,Z=tn.fromTag("td");Tr(Z,tn.fromTag("br")),(_?Tr:jf)(F,Z)},$c=((y,_)=>{const O=F=>y(F)?oe.from(F.dom.nodeValue):oe.none();return{get:F=>{if(!y(F))throw new Error("Can only get text value of a text node");return O(F).getOr("")},getOption:O,set:(F,Z)=>{if(!y(F))throw new Error("Can only set raw text value of a text node");F.dom.nodeValue=Z}}})(Jo),om=y=>$c.get(y),Xa=y=>$c.getOption(y),ds=(y,_)=>$c.set(y,_),$r=y=>wt(y)==="img"?1:Xa(y).fold(()=>Ui(y).length,_=>_.length),Ku=["img","br"],Zr=y=>Xa(y).filter(_=>_.trim().length!==0||_.indexOf("")>-1).isSome()||dt(Ku,wt(y))||(_=>no(_)&&cn(_,"contenteditable")==="false")(y),qm=y=>((_,O)=>{const F=Z=>{for(let q=0;q<Z.childNodes.length;q++){const le=tn.fromDom(Z.childNodes[q]);if(O(le))return oe.some(le);const fe=F(Z.childNodes[q]);if(fe.isSome())return fe}return oe.none()};return F(_.dom)})(y,Zr),Vc=y=>ip(y,Zr),ip=(y,_)=>{const O=F=>{const Z=Ui(F);for(let q=Z.length-1;q>=0;q--){const le=Z[q];if(_(le))return oe.some(le);const fe=O(le);if(fe.isSome())return fe}return oe.none()};return O(y)},Dr={scope:["row","col"]},vt=y=>()=>{const _=tn.fromTag("td",y.dom);return Tr(_,tn.fromTag("br",y.dom)),_},Ja=y=>()=>tn.fromTag("col",y.dom),Vr=y=>()=>tn.fromTag("colgroup",y.dom),lc=y=>()=>tn.fromTag("tr",y.dom),zc=(y,_,O)=>{const F=((Z,q)=>{const le=Al(Z,q),fe=Ui(su(Z));return jl(le,fe),le})(y,_);return yn(O,(Z,q)=>{Z===null?$o(F,q):xs(F,q,Z)}),F},li=y=>y,ir=(y,_,O)=>{const F=(Z,q)=>{((le,fe)=>{const Oe=le.dom,je=fe.dom;gs(Oe)&&gs(je)&&(je.style.cssText=Oe.style.cssText)})(Z.element,q),Rl(q,"height"),Z.colspan!==1&&Rl(q,"width")};return{col:Z=>{const q=tn.fromTag(wt(Z.element),_.dom);return F(Z,q),y(Z.element,q),q},colgroup:Vr(_),row:lc(_),cell:Z=>{const q=tn.fromTag(wt(Z.element),_.dom),le=O.getOr(["strong","em","b","i","span","font","h1","h2","h3","h4","h5","h6","p","div"]),fe=le.length>0?((Oe,je,rt)=>qm(Oe).map(ze=>{const Ge=rt.join(","),Xe=Aa(ze,Ge,pt=>js(pt,Oe));return Yt(Xe,(pt,yt)=>{const Kt=Gf(yt);return Tr(pt,Kt),Kt},je)}).getOr(je))(Z.element,q,le):q;return Tr(fe,tn.fromTag("br")),F(Z,q),((Oe,je)=>{yn(Dr,(rt,ze)=>uo(Oe,ze).filter(Ge=>dt(rt,Ge)).each(Ge=>xs(je,ze,Ge)))})(Z.element,q),y(Z.element,q),q},replace:zc,colGap:Ja(_),gap:vt(_)}},Hs=y=>({col:Ja(y),colgroup:Vr(y),row:lc(y),cell:vt(y),replace:li,colGap:Ja(y),gap:vt(y)}),ha=y=>_=>_.options.get(y),pa="100%",Ml=y=>{var _;const O=y.dom,F=(_=O.getParent(y.selection.getStart(),O.isBlock))!==null&&_!==void 0?_:y.getBody();return hs(tn.fromDom(F))+"px"},kc=y=>oe.from(y.options.get("table_clone_elements")),gu=ha("table_header_type"),vd=ha("table_column_resizing"),sm=y=>vd(y)==="preservetable",Zg=y=>vd(y)==="resizetable",ap=ha("table_sizing_mode"),ju=y=>ap(y)==="relative",L=y=>ap(y)==="fixed",Y=y=>ap(y)==="responsive",de=ha("table_resize_bars"),We=ha("table_style_by_css"),tt=ha("table_merge_content_on_paste"),Ut=y=>{const _=y.options,O=_.get("table_default_attributes");return _.isSet("table_default_attributes")?O:((F,Z)=>Y(F)||We(F)?Z:L(F)?{...Z,width:Ml(F)}:{...Z,width:pa})(y,O)},lo=ha("table_use_colgroups"),Mo=y=>ut(y,"[contenteditable]"),ko=(y,_=!1)=>hl(y)?y.dom.isContentEditable:Mo(y).fold(G(_),O=>jn(O)==="true"),jn=y=>y.dom.contentEditable,Is=y=>tn.fromDom(y.getBody()),ei=y=>_=>js(_,Is(y)),Pr=y=>{$o(y,"data-mce-style");const _=O=>$o(O,"data-mce-style");st(Rr(y),_),st(pl(y),_),st(rr(y),_)},Hc=y=>tn.fromDom(y.selection.getStart()),af=y=>y.getBoundingClientRect().width,rm=y=>y.getBoundingClientRect().height,bi=y=>(_,O)=>{const F=_.dom.getStyle(O,y)||_.dom.getAttrib(O,y);return oe.from(F).filter(ns)},Y1=bi("width"),lp=bi("height"),Uv=y=>gt(y,Ss("table")).exists(ko),Ma=(y,_)=>{const O=_.column,F=_.column+_.colspan-1,Z=_.row,q=_.row+_.rowspan-1;return O<=y.finishCol&&F>=y.startCol&&Z<=y.finishRow&&q>=y.startRow},Gr=(y,_)=>_.column>=y.startCol&&_.column+_.colspan-1<=y.finishCol&&_.row>=y.startRow&&_.row+_.rowspan-1<=y.finishRow,ea=(y,_,O)=>{const F=cu(y,_,js),Z=cu(y,O,js);return F.bind(q=>Z.map(le=>{return fe=q,Oe=le,{startRow:Math.min(fe.row,Oe.row),startCol:Math.min(fe.column,Oe.column),finishRow:Math.max(fe.row+fe.rowspan-1,Oe.row+Oe.rowspan-1),finishCol:Math.max(fe.column+fe.colspan-1,Oe.column+Oe.colspan-1)};var fe,Oe}))},Zu=(y,_,O)=>ea(y,_,O).map(F=>{const Z=Ni(y,W(Ma,F));return I(Z,q=>q.element)}),lf=(y,_)=>cu(y,_,(O,F)=>ii(F,O)).map(O=>O.element),cp=(y,_,O)=>{const F=yl(y);return Zu(F,_,O)},cc=(y,_,O,F,Z)=>{const q=yl(y),le=js(y,O)?oe.some(_):lf(q,_),fe=js(y,Z)?oe.some(F):lf(q,F);return le.bind(Oe=>fe.bind(je=>Zu(q,Oe,je)))},yl=Yo;var Ym=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","li","table","thead","tbody","tfoot","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],cf=()=>({up:G({selector:Ze,closest:ut,predicate:Be,all:Zs}),down:G({selector:Vs,predicate:Pi}),styles:G({get:Ra,getRaw:Ol,set:Uo,remove:Rl}),attrs:G({get:cn,set:xs,remove:$o,copyTo:(y,_)=>{const O=mi(y);la(_,O)}}),insert:G({before:Sn,after:rc,afterAll:ml,append:Tr,appendAll:jl,prepend:jf,wrap:Zf}),remove:G({unwrap:ca,remove:dr}),create:G({nu:tn.fromTag,clone:y=>tn.fromDom(y.dom.cloneNode(!1)),text:tn.fromText}),query:G({comparePosition:(y,_)=>y.dom.compareDocumentPosition(_.dom),prevSibling:So,nextSibling:fl}),property:G({children:Ui,name:wt,parent:El,document:y=>Dc(y).dom,isText:Jo,isComment:An,isElement:co,isSpecial:y=>{const _=wt(y);return dt(["script","noscript","iframe","noframes","noembed","title","style","textarea","xmp"],_)},getLanguage:y=>co(y)?uo(y,"lang"):oe.none(),getText:om,setText:ds,isBoundary:y=>!!co(y)&&(wt(y)==="body"||dt(Ym,wt(y))),isEmptyTag:y=>!!co(y)&&dt(["br","img","hr","input"],wt(y)),isNonEditable:y=>co(y)&&cn(y,"contenteditable")==="false"}),eq:js,is:Rc});const Qx=(y,_,O,F)=>{const Z=_(y,O);return Yt(F,(q,le)=>{const fe=_(y,le);return up(y,q,fe)},Z)},up=(y,_,O)=>_.bind(F=>O.filter(W(y.eq,F))),yd=cf(),uf=(y,_)=>((O,F,Z)=>Z.length>0?((q,le,fe,Oe)=>Oe(q,le,fe[0],fe.slice(1)))(O,F,Z,Qx):oe.none())(yd,(O,F)=>y(F),_),Un=y=>Ze(y,"table"),Uc=(y,_,O)=>{const F=Z=>q=>O!==void 0&&O(q)||js(q,Z);return js(y,_)?oe.some({boxes:oe.some([y]),start:y,finish:_}):Un(y).bind(Z=>Un(_).bind(q=>{if(js(Z,q))return oe.some({boxes:cp(Z,y,_),start:y,finish:_});if(ii(Z,q)){const le=Aa(_,"td,th",F(Z)),fe=le.length>0?le[le.length-1]:_;return oe.some({boxes:cc(Z,y,Z,_,q),start:y,finish:fe})}if(ii(q,Z)){const le=Aa(y,"td,th",F(q)),fe=le.length>0?le[le.length-1]:y;return oe.some({boxes:cc(q,y,Z,_,q),start:y,finish:fe})}return((le,fe,Oe)=>((je,rt,ze,Ge=j)=>{const Xe=[rt].concat(je.up().all(rt)),pt=[ze].concat(je.up().all(ze)),yt=Gt=>Ot(Gt,Ge).fold(()=>Gt,fn=>Gt.slice(0,fn+1)),Kt=yt(Xe),jt=yt(pt),Wt=Rn(Kt,Gt=>Me(jt,((fn,hn)=>W(fn.eq,hn))(je,Gt)));return{firstpath:Kt,secondpath:jt,shared:Wt}})(yd,le,fe,void 0))(y,_).shared.bind(le=>ut(le,"table",O).bind(fe=>{const Oe=Aa(_,"td,th",F(fe)),je=Oe.length>0?Oe[Oe.length-1]:_,rt=Aa(y,"td,th",F(fe)),ze=rt.length>0?rt[rt.length-1]:y;return oe.some({boxes:cc(fe,y,Z,_,q),start:ze,finish:je})}))}))},dp=(y,_)=>{const O=Vs(y,_);return O.length>0?oe.some(O):oe.none()},df=(y,_,O)=>Ct(y,_).bind(F=>Ct(y,O).bind(Z=>uf(Un,[F,Z]).map(q=>({first:F,last:Z,table:q})))),ba=(y,_,O,F,Z)=>((q,le)=>Rn(q,fe=>ki(fe,le)))(y,Z).bind(q=>((le,fe,Oe)=>Dl(le).bind(je=>((rt,ze,Ge,Xe)=>cu(rt,ze,js).bind(pt=>{const yt=Ge>0?pt.row+pt.rowspan-1:pt.row,Kt=Xe>0?pt.column+pt.colspan-1:pt.column;return Za(rt,yt+Ge,Kt+Xe).map(jt=>jt.element)}))(yl(je),le,fe,Oe)))(q,_,O).bind(le=>((fe,Oe)=>Ze(fe,"table").bind(je=>Ct(je,Oe).bind(rt=>Uc(rt,fe).bind(ze=>ze.boxes.map(Ge=>({boxes:Ge,start:ze.start,finish:ze.finish}))))))(le,F))),Wc=(y,_)=>dp(y,_),Xm=(y,_,O)=>df(y,_,O).bind(F=>{const Z=Oe=>js(y,Oe),q="thead,tfoot,tbody,table",le=Ze(F.first,q,Z),fe=Ze(F.last,q,Z);return le.bind(Oe=>fe.bind(je=>js(Oe,je)?((rt,ze,Ge)=>((Xe,pt,yt)=>ea(Xe,pt,yt).bind(Kt=>((jt,Wt)=>{let Gt=!0;const fn=W(Gr,Wt);for(let hn=Wt.startRow;hn<=Wt.finishRow;hn++)for(let St=Wt.startCol;St<=Wt.finishCol;St++)Gt=Gt&&Za(jt,hn,St).exists(fn);return Gt?oe.some(Wt):oe.none()})(Xe,Kt)))(yl(rt),ze,Ge))(F.table,F.first,F.last):oe.none()))}),ff=te,Sb=y=>{const _=(O,F)=>uo(O,F).exists(Z=>parseInt(Z,10)>1);return y.length>0&&bt(y,O=>_(O,"rowspan")||_(O,"colspan"))?oe.some(y):oe.none()},hu=(y,_,O)=>_.length<=1?oe.none():Xm(y,O.firstSelectedSelector,O.lastSelectedSelector).map(F=>({bounds:F,cells:_})),Gg="data-mce-selected",qg="data-mce-first-selected",on="data-mce-last-selected",Wv="["+Gg+"]",mf={selected:Gg,selectedSelector:"td["+Gg+"],th["+Gg+"]",firstSelected:qg,firstSelectedSelector:"td["+qg+"],th["+qg+"]",lastSelected:on,lastSelectedSelector:"td["+on+"],th["+on+"]"},Wo=(y,_,O)=>({element:O,mergable:hu(_,y,mf),unmergable:Sb(y),selection:ff(y)}),Xn=y=>(_,O)=>{const F=wt(_),Z=F==="col"||F==="colgroup"?Dl(q=_).bind(le=>Wc(le,mf.firstSelectedSelector)).fold(G(q),le=>le[0]):_;var q;return ut(Z,y,O)},gf=Xn("th,td,caption"),Ar=Xn("th,td"),Kc=y=>{return _=y.model.table.getSelectedCells(),I(_,tn.fromDom);var _},jc=(y,_)=>{y.on("BeforeGetContent",O=>{const F=Z=>{O.preventDefault(),(q=>Dl(q[0]).map(le=>{const fe=((Oe,je)=>{const rt=Gt=>ki(Gt.element,je),ze=su(Oe),Ge=Hm(ze),Xe=jg(Oe),pt=ai(Ge),yt=((Gt,fn)=>{const hn=Gt.grid.columns;let St=Gt.grid.rows,Mn=hn,po=0,zo=0;const Ao=[],bo=[];return yn(Gt.access,Vo=>{if(Ao.push(Vo),fn(Vo)){bo.push(Vo);const ws=Vo.row,Ri=ws+Vo.rowspan-1,wl=Vo.column,Ba=wl+Vo.colspan-1;ws<St?St=ws:Ri>po&&(po=Ri),wl<Mn?Mn=wl:Ba>zo&&(zo=Ba)}}),((Vo,ws,Ri,wl,Ba,yu)=>({minRow:Vo,minCol:ws,maxRow:Ri,maxCol:wl,allCells:Ba,selectedCells:yu}))(St,Mn,po,zo,Ao,bo)})(pt,rt),Kt="th:not("+je+"),td:not("+je+")",jt=Vm(ze,"th,td",Gt=>ki(Gt,Kt));st(jt,dr),((Gt,fn,hn,St)=>{const Mn=Ft(Gt,Ao=>Ao.section!=="colgroup"),po=fn.grid.columns,zo=fn.grid.rows;for(let Ao=0;Ao<zo;Ao++){let bo=!1;for(let Vo=0;Vo<po;Vo++)Ao<hn.minRow||Ao>hn.maxRow||Vo<hn.minCol||Vo>hn.maxCol||(Za(fn,Ao,Vo).filter(St).isNone()?Ya(Mn,bo,Ao):bo=!0)}})(Ge,pt,yt,rt);const Wt=((Gt,fn,hn,St)=>{if(St.minCol===0&&fn.grid.columns===St.maxCol+1)return 0;const Mn=pi(fn,Gt,hn),po=mt(Mn,(bo,Vo)=>bo+Vo,0),zo=mt(Mn.slice(St.minCol,St.maxCol+1),(bo,Vo)=>bo+Vo,0),Ao=zo/po*hn.pixelWidth()-hn.pixelWidth();return hn.getCellDelta(Ao)})(Oe,Yo(Oe),Xe,yt);return((Gt,fn,hn,St)=>{yn(hn.columns,po=>{(po.column<fn.minCol||po.column>fn.maxCol)&&dr(po.element)});const Mn=Ft(md(Gt,"tr"),po=>po.dom.childElementCount===0);st(Mn,dr),fn.minCol!==fn.maxCol&&fn.minRow!==fn.maxRow||st(md(Gt,"th,td"),po=>{$o(po,"rowspan"),$o(po,"colspan")}),$o(Gt,nf),$o(Gt,"data-snooker-col-series"),jg(Gt).adjustTableWidth(St)})(ze,yt,pt,Wt),ze})(le,Wv);return Pr(fe),[fe]}))(Z).each(q=>{O.content=O.format==="text"?(le=>I(le,fe=>fe.dom.innerText).join(""))(q):((le,fe)=>I(fe,Oe=>le.selection.serializer.serialize(Oe.dom,{})).join(""))(y,q)})};if(O.selection===!0){const Z=(q=>Ft(Kc(q),le=>ki(le,mf.selectedSelector)))(y);Z.length>=1&&F(Z)}}),y.on("BeforeSetContent",O=>{if(O.selection===!0&&O.paste===!0){const F=Kc(y);Bn(F).each(Z=>{Dl(Z).each(q=>{const le=Ft(((Oe,je)=>{const rt=document.createElement("div");return rt.innerHTML=Oe,Ui(tn.fromDom(rt))})(O.content),Oe=>wt(Oe)!=="meta"),fe=Ss("table");if(tt(y)&&le.length===1&&fe(le[0])){O.preventDefault();const Oe=tn.fromDom(y.getDoc()),je=Hs(Oe),rt=((ze,Ge,Xe)=>({element:ze,clipboard:Ge,generators:Xe}))(Z,le[0],je);_.pasteCells(q,rt).each(()=>{y.focus()})}})})}})},To=(y,_)=>({element:y,offset:_}),Yg=(y,_,O)=>y.property().isText(_)&&y.property().getText(_).trim().length===0||y.property().isComment(_)?O(_).bind(F=>Yg(y,F,O).orThunk(()=>oe.some(F))):oe.none(),X1=(y,_)=>y.property().isText(_)?y.property().getText(_).length:y.property().children(_).length,Lt=(y,_)=>{const O=Yg(y,_,y.query().prevSibling).getOr(_);if(y.property().isText(O))return To(O,X1(y,O));const F=y.property().children(O);return F.length>0?Lt(y,F[F.length-1]):To(O,X1(y,O))},Kv=Lt,Xg=cf(),Jg=(y,_)=>{Jr(y)||(F=>_c(F).bind(Z=>{return q=Z,le=["fixed","relative","empty"],oe.from(Kg.exec(q)).bind(fe=>{const Oe=Number(fe[1]),je=fe[2];return((rt,ze)=>Me(ze,Ge=>Me(Zm[Ge],Xe=>rt===Xe)))(je,le)?oe.some({value:Oe,unit:je}):oe.none()});var q,le}))(y).each(F=>{const Z=F.value/2;Uu(y,Z,F.unit),Uu(_,Z,F.unit)})},Jm=y=>I(y,G(0)),im=(y,_,O,F,Z)=>Z(y.slice(0,_)).concat(F).concat(Z(y.slice(O))),J1=y=>(_,O,F,Z)=>{if(y(F)){const q=Math.max(Z,_[O]-Math.abs(F)),le=Math.abs(q-_[O]);return F>=0?le:-le}return F},hf=J1(y=>y<0),hr=J1(me),Gu=()=>{const y=(O,F,Z,q)=>{const le=(100+Z)/100,fe=Math.max(q,(O[F]+Z)/le);return I(O,(Oe,je)=>(je===F?fe:Oe/le)-Oe)},_=(O,F,Z,q,le,fe)=>fe?y(O,F,q,le):((Oe,je,rt,ze,Ge)=>{const Xe=hf(Oe,je,ze,Ge);return im(Oe,je,rt+1,[Xe,0],Jm)})(O,F,Z,q,le);return{resizeTable:(O,F)=>O(F),clampTableDelta:hf,calcLeftEdgeDeltas:_,calcMiddleDeltas:(O,F,Z,q,le,fe,Oe)=>_(O,Z,q,le,fe,Oe),calcRightEdgeDeltas:(O,F,Z,q,le,fe)=>{if(fe)return y(O,Z,q,le);{const Oe=hf(O,Z,q,le);return Jm(O.slice(0,Z)).concat([Oe])}},calcRedestributedWidths:(O,F,Z,q)=>{if(q){const le=(F+Z)/F,fe=I(O,Oe=>Oe/le);return{delta:100*le-100,newSizes:fe}}return{delta:Z,newSizes:O}}}},fp=()=>{const y=(_,O,F,Z,q)=>{const le=hr(_,Z>=0?F:O,Z,q);return im(_,O,F+1,[le,-le],Jm)};return{resizeTable:(_,O,F)=>{F&&_(O)},clampTableDelta:(_,O,F,Z,q)=>{if(q){if(F>=0)return F;{const le=mt(_,(fe,Oe)=>fe+Oe-Z,0);return Math.max(-le,F)}}return hf(_,O,F,Z)},calcLeftEdgeDeltas:y,calcMiddleDeltas:(_,O,F,Z,q,le)=>y(_,F,Z,q,le),calcRightEdgeDeltas:(_,O,F,Z,q,le)=>{if(le)return Jm(_);{const fe=Z/_.length;return I(_,G(fe))}},calcRedestributedWidths:(_,O,F,Z)=>({delta:0,newSizes:_})}},pu=y=>Yo(y).grid,am=Ss("th"),uc=y=>bt(y,_=>am(_.element)),Nr=(y,_)=>y&&_?"sectionCells":y?"section":"cells",lm=y=>{const _=y.section==="thead",O=rn(Fi(y.cells),"th");return y.section==="tfoot"?{type:"footer"}:_||O?{type:"header",subType:Nr(_,O)}:{type:"body"}},Fi=y=>{const _=Ft(y,O=>am(O.element));return _.length===0?oe.some("td"):_.length===y.length?oe.some("th"):oe.none()},_b=(y,_,O)=>Kr(O(y.element,_),!0,y.isLocked),Zc=(y,_)=>y.section!==_?gi(y.element,y.cells,_,y.isNew):y,Ai=()=>({transformRow:Zc,transformCell:(y,_,O)=>{const F=O(y.element,_),Z=wt(F)!=="td"?((q,le)=>{const fe=Al(q,"td");rc(q,fe);const Oe=Ui(q);return jl(fe,Oe),dr(q),fe})(F):F;return Kr(Z,y.isNew,y.isLocked)}}),an=()=>({transformRow:Zc,transformCell:_b}),cm=()=>({transformRow:(y,_)=>Zc(y,_==="thead"?"tbody":_),transformCell:_b}),Zi=Ai,D=an,z=cm,ue=()=>({transformRow:te,transformCell:_b}),Te=(y,_,O,F)=>{O===F?$o(y,_):xs(y,_,O)},ot=(y,_,O)=>{Qt(Oa(y,_)).fold(()=>jf(y,O),F=>rc(F,O))},Vt=(y,_)=>{const O=[],F=[],Z=Ge=>I(Ge,Xe=>{Xe.isNew&&O.push(Xe.element);const pt=Xe.element;return Tl(pt),st(Xe.cells,yt=>{yt.isNew&&F.push(yt.element),Te(yt.element,"colspan",yt.colspan,1),Te(yt.element,"rowspan",yt.rowspan,1),Tr(pt,yt.element)}),pt}),q=Ge=>Ve(Ge,Xe=>I(Xe.cells,pt=>(Te(pt.element,"span",pt.colspan,1),pt.element))),le=(Ge,Xe)=>{const pt=((Kt,jt)=>{const Wt=_t(Kt,jt).getOrThunk(()=>{const Gt=tn.fromTag(jt,Ic(Kt).dom);return jt==="thead"?ot(Kt,"caption,colgroup",Gt):jt==="colgroup"?ot(Kt,"caption",Gt):Tr(Kt,Gt),Gt});return Tl(Wt),Wt})(y,Xe),yt=(Xe==="colgroup"?q:Z)(Ge);jl(pt,yt)},fe=(Ge,Xe)=>{Ge.length>0?le(Ge,Xe):(pt=>{_t(y,pt).each(dr)})(Xe)},Oe=[],je=[],rt=[],ze=[];return st(_,Ge=>{switch(Ge.section){case"thead":Oe.push(Ge);break;case"tbody":je.push(Ge);break;case"tfoot":rt.push(Ge);break;case"colgroup":ze.push(Ge)}}),fe(ze,"colgroup"),fe(Oe,"thead"),fe(je,"tbody"),fe(rt,"tfoot"),{newRows:O,newCells:F}},un=(y,_)=>{if(y.length===0)return 0;const O=y[0];return Ot(y,F=>!_(O.element,F.element)).getOr(y.length)},$n=(y,_)=>{const O=I(y,F=>I(F.cells,j));return I(y,(F,Z)=>{const q=Ve(F.cells,(le,fe)=>{if(O[Z][fe]===!1){const Ge=((Xe,pt,yt,Kt)=>{const jt=((hn,St)=>hn[St])(Xe,pt),Wt=jt.section==="colgroup",Gt=un(jt.cells.slice(yt),Kt),fn=Wt?1:un(((hn,St)=>I(hn,Mn=>Qr(Mn,St)))(Xe.slice(pt),yt),Kt);return{colspan:Gt,rowspan:fn}})(y,Z,fe,_);return((Xe,pt,yt,Kt)=>{for(let jt=Xe;jt<Xe+yt;jt++)for(let Wt=pt;Wt<pt+Kt;Wt++)O[jt][Wt]=!0})(Z,fe,Ge.rowspan,Ge.colspan),[(Oe=le.element,je=Ge.rowspan,rt=Ge.colspan,ze=le.isNew,{element:Oe,rowspan:je,colspan:rt,isNew:ze})]}return[];var Oe,je,rt,ze});return((le,fe,Oe,je)=>({element:le,cells:fe,section:Oe,isNew:je}))(F.element,q,F.section,F.isNew)})},Vn=(y,_,O)=>{const F=[];st(y.colgroups,Z=>{const q=[];for(let le=0;le<y.grid.columns;le++){const fe=_s(y,le).map(Oe=>Kr(Oe.element,O,!1)).getOrThunk(()=>Kr(_.colGap(),!0,!1));q.push(fe)}F.push(gi(Z.element,q,"colgroup",O))});for(let Z=0;Z<y.grid.rows;Z++){const q=[];for(let Oe=0;Oe<y.grid.columns;Oe++){const je=Za(y,Z,Oe).map(rt=>Kr(rt.element,O,rt.isLocked)).getOrThunk(()=>Kr(_.gap(),!0,!1));q.push(je)}const le=y.all[Z],fe=gi(le.element,q,le.section,O);F.push(fe)}return F},Ko=y=>$n(y,js),Fo=(y,_)=>ee(y.all,O=>Rn(O.cells,F=>js(_,F.element))),es=(y,_,O)=>{const F=I(_.selection,q=>zm(q).bind(le=>Fo(y,le)).filter(O)),Z=bn(F);return Cn(Z.length>0,Z)},Qo=(y,_,O,F,Z)=>(q,le,fe,Oe)=>{const je=Yo(q),rt=oe.from(Oe==null?void 0:Oe.section).getOrThunk(ue);return _(je,le).map(ze=>{const Ge=((yt,Kt)=>Vn(yt,Kt,!1))(je,fe),Xe=y(Ge,ze,js,Z(fe),rt),pt=ja(Xe.grid);return{info:ze,grid:Ko(Xe.grid),cursor:Xe.cursor,lockedColumns:pt}}).bind(ze=>{const Ge=Vt(q,ze.grid),Xe=oe.from(Oe==null?void 0:Oe.sizing).getOrThunk(()=>jg(q)),pt=oe.from(Oe==null?void 0:Oe.resize).getOrThunk(fp);return O(q,ze.grid,ze.info,{sizing:Xe,resize:pt,section:rt}),F(q),$o(q,nf),ze.lockedColumns.length>0&&xs(q,nf,ze.lockedColumns.join(",")),oe.some({cursor:ze.cursor,newRows:Ge.newRows,newCells:Ge.newCells})})},ci=(y,_)=>es(y,_,me).map(O=>({cells:O,generators:_.generators,clipboard:_.clipboard})),Qa=(y,_)=>es(y,_,me),qr=(y,_)=>es(y,_,O=>!O.isLocked),qu=(y,_)=>bt(_,O=>((F,Z)=>Fo(F,Z).exists(q=>!q.isLocked))(y,O)),um=(y,_,O,F)=>{const Z=fr(y).rows;let q=!0;for(let le=0;le<Z.length;le++)for(let fe=0;fe<Ji(Z[0]);fe++){const Oe=Z[le],je=Qr(Oe,fe),rt=O(je.element,_);rt&&!q?Wm(Oe,fe,Kr(F(),!0,je.isLocked)):rt&&(q=!1)}return y},bu=y=>{const _=q=>q(y),O=G(y),F=()=>Z,Z={tag:!0,inner:y,fold:(q,le)=>le(y),isValue:me,isError:j,map:q=>xd.value(q(y)),mapError:F,bind:_,exists:_,forall:_,getOr:O,or:F,getOrThunk:O,orThunk:F,getOrDie:O,each:q=>{q(y)},toOptional:()=>oe.some(y)};return Z},Qg=y=>{const _=()=>O,O={tag:!1,inner:y,fold:(Z,q)=>Z(y),isValue:j,isError:me,map:_,mapError:Z=>xd.error(Z(y)),bind:_,exists:j,forall:me,getOr:te,or:te,getOrThunk:he,orThunk:he,getOrDie:(F=String(y),()=>{throw new Error(F)}),each:K,toOptional:oe.none};var F;return O},xd={value:bu,error:Qg,fromOption:(y,_)=>y.fold(()=>Qg(_),bu)},mp=(y,_)=>({rowDelta:0,colDelta:Ji(y[0])-Ji(_[0])}),Qm=(y,_)=>({rowDelta:y.length-_.length,colDelta:0}),dm=(y,_,O,F)=>{const Z=_.section==="colgroup"?O.col:O.cell;return Ne(y,q=>Kr(Z(),!0,F(q)))},kb=(y,_,O,F)=>{const Z=y[y.length-1];return y.concat(Ne(_,()=>{const q=Z.section==="colgroup"?O.colgroup:O.row,le=tf(Z,q,te),fe=dm(le.cells.length,le,O,Oe=>Ke(F,Oe.toString()));return vl(le,fe)}))},jv=(y,_,O,F)=>I(y,Z=>{const q=dm(_,Z,O,j);return Nc(Z,F,q)}),ps=(y,_,O)=>{const F=_.colDelta<0?jv:te,Z=_.rowDelta<0?kb:te,q=ja(y),le=Ji(y[0]),fe=Me(q,rt=>rt===le-1),Oe=F(y,Math.abs(_.colDelta),O,fe?le-1:le),je=ja(Oe);return Z(Oe,Math.abs(_.rowDelta),O,Yn(je,me))},ti=(y,_,O,F)=>{const Z=W(F,Qr(y[_],O).element),q=y[_];return y.length>1&&Ji(q)>1&&(O>0&&Z(Cr(q,O-1))||O<q.cells.length-1&&Z(Cr(q,O+1))||_>0&&Z(Cr(y[_-1],O))||_<y.length-1&&Z(Cr(y[_+1],O)))},el=(y,_,O)=>Ft(O,F=>F>=y.column&&F<=Ji(_[0])+y.column),ql=(y,_,O,F,Z)=>{((je,rt,ze,Ge)=>{rt>0&&rt<je[0].cells.length&&st(je,Xe=>{const pt=Xe.cells[rt-1];let yt=0;const Kt=Ge();for(;Xe.cells.length>rt+yt&&ze(pt.element,Xe.cells[rt+yt].element);)Wm(Xe,rt+yt,Kr(Kt,!0,Xe.cells[rt+yt].isLocked)),yt++})})(_,y,Z,F.cell);const q=Qm(O,_),le=ps(O,q,F),fe=Qm(_,le),Oe=ps(_,fe,F);return I(Oe,(je,rt)=>Nc(je,y,le[rt].cells))},Zv=(y,_,O,F,Z)=>{((Wt,Gt,fn,hn)=>{const St=fr(Wt).rows;if(Gt>0&&Gt<St.length){const Mn=((po,zo)=>mt(po,(Ao,bo)=>Me(Ao,Vo=>zo(Vo.element,bo.element))?Ao:Ao.concat([bo]),[]))(St[Gt-1].cells,fn);st(Mn,po=>{let zo=oe.none();for(let Ao=Gt;Ao<St.length;Ao++)for(let bo=0;bo<Ji(St[0]);bo++){const Vo=St[Ao],ws=Qr(Vo,bo);fn(ws.element,po.element)&&(zo.isNone()&&(zo=oe.some(hn())),zo.each(Ri=>{Wm(Vo,bo,Kr(Ri,!0,ws.isLocked))}))}})}})(_,y,Z,F.cell);const q=ja(_),le=mp(_,O),fe={...le,colDelta:le.colDelta-q.length},Oe=ps(_,fe,F),{cols:je,rows:rt}=fr(Oe),ze=ja(Oe),Ge=mp(O,_),Xe={...Ge,colDelta:Ge.colDelta+ze.length},pt=(Kt=F,jt=ze,I(O,Wt=>mt(jt,(Gt,fn)=>{const hn=dm(1,Wt,Kt,me)[0];return Um(Gt,fn,hn)},Wt))),yt=ps(pt,Xe,F);var Kt,jt;return[...je,...rt.slice(0,y),...yt,...rt.slice(y,rt.length)]},Gv=(y,_,O,F,Z)=>{const{rows:q,cols:le}=fr(y),fe=q.slice(0,_),Oe=q.slice(_);return[...le,...fe,((je,rt,ze,Ge)=>tf(je,Xe=>Ge(Xe,ze),rt))(q[O],(je,rt)=>_>0&&_<q.length&&F(Cr(q[_-1],rt),Cr(q[_],rt))?Qr(q[_],rt):Kr(Z(je.element,F),!0,je.isLocked),F,Z),...Oe]},fm=(y,_,O,F,Z)=>I(y,q=>{const le=_>0&&_<Ji(q)&&F(Cr(q,_-1),Cr(q,_)),fe=((Oe,je,rt,ze,Ge,Xe,pt)=>{if(rt!=="colgroup"&&ze)return Qr(Oe,je);{const yt=Qr(Oe,Ge);return Kr(pt(yt.element,Xe),!0,!1)}})(q,_,q.section,le,O,F,Z);return Um(q,_,fe)}),eh=(y,_,O,F)=>((Z,q,le,fe)=>Cr(Z[q],le)!==void 0&&q>0&&fe(Cr(Z[q-1],le),Cr(Z[q],le)))(y,_,O,F)||((Z,q,le)=>q>0&&le(Cr(Z,q-1),Cr(Z,q)))(y[_],O,F),ew=(y,_,O,F)=>{const Z=q=>(le=>le==="row"?(fe=>qd(fe,"rowspan")>1)(_):Jr(_))(q)?`${q}group`:q;return y?am(_)?Z(O):null:F&&am(_)?Z(O==="row"?"col":"row"):null},qv=(y,_,O)=>Kr(O(y.element,_),!0,y.isLocked),Eb=(y,_,O,F,Z,q,le)=>I(y,(fe,Oe)=>((je,rt)=>{const ze=je.cells,Ge=I(ze,(Xe,pt)=>{if((yt=>Me(_,Kt=>O(yt.element,Kt.element)))(Xe)){const yt=le(Xe,Oe,pt)?Z(Xe,O,F):Xe;return q(yt,Oe,pt).each(Kt=>{var jt,Wt;jt=yt.element,Wt={scope:oe.from(Kt)},yn(Wt,(Gt,fn)=>{Gt.fold(()=>{$o(jt,fn)},hn=>{ri(jt.dom,fn,hn)})})}),yt}return Xe});return gi(je.element,Ge,je.section,je.isNew)})(fe)),tw=(y,_,O)=>Ve(y,(F,Z)=>eh(y,Z,_,O)?[]:[Qr(F,_)]),Yv=(y,_,O,F,Z)=>{const q=fr(y).rows,le=Ve(_,rt=>tw(q,rt,F)),fe=I(q,rt=>uc(rt.cells)),Oe=((rt,ze)=>bt(ze,te)&&uc(rt)?me:(Ge,Xe,pt)=>!(wt(Ge.element)==="th"&&ze[Xe]))(le,fe);return Eb(y,le,F,Z,qv,((rt,ze)=>(Ge,Xe)=>oe.some(ew(rt,Ge.element,"row",ze[Xe])))(O,fe),Oe)},Xv=(y,_,O,F)=>{const Z=fr(y).rows,q=I(_,le=>Qr(Z[le.row],le.column));return Eb(y,q,O,F,qv,oe.none,me)},th=y=>{if(!x(y))throw new Error("cases must be an array");if(y.length===0)throw new Error("there must be at least one case");const _=[],O={};return st(y,(F,Z)=>{const q=vo(F);if(q.length!==1)throw new Error("one and only one name per case");const le=q[0],fe=F[le];if(O[le]!==void 0)throw new Error("duplicate key detected:"+le);if(le==="cata")throw new Error("cannot have a case named cata (sorry)");if(!x(fe))throw new Error("case arguments must be an array");_.push(le),O[le]=(...Oe)=>{const je=Oe.length;if(je!==fe.length)throw new Error("Wrong number of arguments to case "+le+". Expected "+fe.length+" ("+fe+"), got "+je);return{fold:(...rt)=>{if(rt.length!==y.length)throw new Error("Wrong number of arguments to fold. Expected "+y.length+", got "+rt.length);return rt[Z].apply(null,Oe)},match:rt=>{const ze=vo(rt);if(_.length!==ze.length)throw new Error("Wrong number of arguments to match. Expected: "+_.join(",")+`
Actual: `+ze.join(","));if(!bt(_,Ge=>dt(ze,Ge)))throw new Error("Not all branches were specified when using match. Specified: "+ze.join(", ")+`
Required: `+_.join(", "));return rt[le].apply(null,Oe)},log:rt=>{console.log(rt,{constructors:_,constructor:le,params:Oe})}}}}),O},Tb={...th([{none:[]},{only:["index"]},{left:["index","next"]},{middle:["prev","index","next"]},{right:["prev","index"]}])},nw=(y,_,O)=>{const F=((Z,q)=>Lc(Z)?((le,fe)=>{const Oe=Mc(le);return I(Oe,(je,rt)=>({element:je.element,width:fe[rt],colspan:je.colspan}))})(Z,q):((le,fe)=>{const Oe=Wn(le);return I(Oe,je=>{const rt=((ze,Ge,Xe)=>{let pt=0;for(let yt=ze;yt<Ge;yt++)pt+=Xe[yt]!==void 0?Xe[yt]:0;return pt})(je.column,je.column+je.colspan,fe);return{element:je.element,width:rt,colspan:je.colspan}})})(Z,q))(y,_);st(F,Z=>{O.setElementWidth(Z.element,Z.width)})},mm=(y,_,O,F,Z)=>{const q=Yo(y),le=Z.getCellDelta(_),fe=Z.getWidths(q,Z),Oe=O===q.grid.columns-1,je=F.clampTableDelta(fe,O,le,Z.minCellWidth(),Oe),rt=((Ge,Xe,pt,yt,Kt)=>{const jt=Ge.slice(0),Wt=((fn,hn)=>fn.length===0?Tb.none():fn.length===1?Tb.only(0):hn===0?Tb.left(0,1):hn===fn.length-1?Tb.right(hn-1,hn):hn>0&&hn<fn.length-1?Tb.middle(hn-1,hn,hn+1):Tb.none())(Ge,Xe),Gt=G(I(jt,G(0)));return Wt.fold(Gt,fn=>yt.singleColumnWidth(jt[fn],pt),(fn,hn)=>Kt.calcLeftEdgeDeltas(jt,fn,hn,pt,yt.minCellWidth(),yt.isRelative),(fn,hn,St)=>Kt.calcMiddleDeltas(jt,fn,hn,St,pt,yt.minCellWidth(),yt.isRelative),(fn,hn)=>Kt.calcRightEdgeDeltas(jt,fn,hn,pt,yt.minCellWidth(),yt.isRelative))})(fe,O,je,Z,F),ze=I(rt,(Ge,Xe)=>Ge+fe[Xe]);nw(q,ze,Z),F.resizeTable(Z.adjustTableWidth,je,Oe)},gp=(y,_,O)=>{const F=Yo(y),Z=((Oe,je)=>ji(Oe,je,Cb,rt=>rt.getOrThunk(zs)))(F,y),q=I(Z,(Oe,je)=>O===je?Math.max(_+Oe,zs()):Oe),le=((Oe,je)=>I(Oe.all,(rt,ze)=>({element:rt.element,height:je[ze]})))(F,q);st(le,Oe=>{Hu(Oe.element,Oe.height)}),st(Wn(F),Oe=>{(je=>{Rl(je,"height")})(Oe.element)});const fe=Yt(q,(Oe,je)=>Oe+je,0);Hu(y,fe)},hp=y=>mt(y,(_,O)=>Me(_,F=>F.column===O.column)?_:_.concat([O]),[]).sort((_,O)=>_.column-O.column),gm=Ss("col"),eg=Ss("colgroup"),Jv=y=>wt(y)==="tr"||eg(y),qE=y=>({element:y,colspan:Or(y,"colspan",1),rowspan:Or(y,"rowspan",1)}),Qv=y=>uo(y,"scope").map(_=>_.substr(0,3)),Yu=(y,_=qE)=>{const O=Z=>{if(Jv(Z))return eg((q={element:Z}).element)?y.colgroup(q):y.row(q);{const le=Z,fe=(Oe=>gm(Oe.element)?y.col(Oe):y.cell(Oe))(_(le));return F=oe.some({item:le,replacement:fe}),fe}var q};let F=oe.none();return{getOrInit:(Z,q)=>F.fold(()=>O(Z),le=>q(Z,le.item)?le.replacement:O(Z))}},nS=y=>_=>{const O=[],F=Z=>{const q=y==="td"?{scope:null}:{},le=_.replace(Z,y,q);return O.push({item:Z,sub:le}),le};return{replaceOrInit:(Z,q)=>{if(Jv(Z)||gm(Z))return Z;{const le=Z;return((fe,Oe)=>Rn(O,je=>Oe(je.item,fe)))(le,q).fold(()=>F(le),fe=>q(Z,fe.item)?fe.sub:F(le))}}}},ow=y=>({unmerge:_=>{const O=Qv(_);return O.each(F=>xs(_,"scope",F)),()=>{const F=y.cell({element:_,colspan:1,rowspan:1});return Rl(F,"width"),Rl(_,"width"),O.each(Z=>xs(F,"scope",Z)),F}},merge:_=>(Rl(_[0],"width"),(()=>{const O=bn(I(_,Qv));if(O.length===0)return oe.none();{const F=O[0],Z=["row","col"];return Me(O,q=>q!==F&&dt(Z,q))?oe.none():oe.from(F)}})().fold(()=>$o(_[0],"scope"),O=>xs(_[0],"scope",O+"group")),G(_[0]))}),pp=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","table","thead","tfoot","tbody","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],tl=cf(),bp=y=>((_,O)=>{const F=_.property().name(O);return dt(pp,F)})(tl,y),vp=y=>((_,O)=>{const F=_.property().name(O);return dt(["ol","ul"],F)})(tl,y),Q1=y=>{const _=Ss("br"),O=Z=>Vc(Z).bind(q=>{const le=fl(q).map(fe=>!!bp(fe)||!!((Oe,je)=>dt(["br","img","hr","input"],Oe.property().name(je)))(tl,fe)&&wt(fe)!=="img").getOr(!1);return El(q).map(fe=>{return le===!0||wt(Oe=fe)==="li"||Be(Oe,vp).isSome()||_(q)||bp(fe)&&!js(Z,fe)?[]:[tn.fromTag("br")];var Oe})}).getOr([]),F=(()=>{const Z=Ve(y,q=>{const le=Ui(q);return(fe=>bt(fe,Oe=>_(Oe)||Jo(Oe)&&om(Oe).trim().length===0))(le)?[]:le.concat(O(q))});return Z.length===0?[tn.fromTag("br")]:Z})();Tl(y[0]),jl(y[0],F)},ks=y=>ko(y,!0),dc=y=>{Rr(y).length===0&&dr(y)},pf=(y,_)=>({grid:y,cursor:_}),xl=(y,_,O)=>{const F=((Z,q,le)=>{var fe,Oe;const je=fr(Z).rows;return oe.from((Oe=(fe=je[q])===null||fe===void 0?void 0:fe.cells[le])===null||Oe===void 0?void 0:Oe.element).filter(ks).orThunk(()=>(rt=>ee(rt,ze=>ee(ze.cells,Ge=>{const Xe=Ge.element;return Cn(ks(Xe),Xe)})))(je))})(y,_,O);return pf(y,F)},pr=y=>mt(y,(_,O)=>Me(_,F=>F.row===O.row)?_:_.concat([O]),[]).sort((_,O)=>_.row-O.row),e0=(y,_)=>(O,F,Z,q,le)=>{const fe=pr(F),Oe=I(fe,rt=>rt.row),je=((rt,ze,Ge,Xe,pt,yt,Kt)=>{const{cols:jt,rows:Wt}=fr(rt),Gt=Wt[ze[0]],fn=Ve(ze,Ao=>((bo,Vo,ws)=>{const Ri=bo[Vo];return Ve(Ri.cells,(wl,Ba)=>eh(bo,Vo,Ba,ws)?[]:[wl])})(Wt,Ao,pt)),hn=I(Gt.cells,(Ao,bo)=>uc(tw(Wt,bo,pt))),St=[...Wt];st(ze,Ao=>{St[Ao]=Kt.transformRow(Wt[Ao],Ge)});const Mn=[...jt,...St],po=((Ao,bo)=>bt(bo,te)&&uc(Ao.cells)?me:(Vo,ws,Ri)=>!(wt(Vo.element)==="th"&&bo[Ri]))(Gt,hn),zo=((Ao,bo)=>(Vo,ws,Ri)=>oe.some(ew(Ao,Vo.element,"col",bo[Ri])))(Xe,hn);return Eb(Mn,fn,pt,yt,Kt.transformCell,zo,po)})(O,Oe,y,_,Z,q.replaceOrInit,le);return xl(je,F[0].row,F[0].column)},oS=e0("thead",!0),YE=e0("tbody",!1),Mr=e0("tfoot",!1),ey=(y,_,O)=>{const F=((q,le)=>Pl(q,()=>le))(y,O.section),Z=ai(F);return Vn(Z,_,!0)},sw=(y,_,O,F)=>((Z,q,le,fe)=>{const Oe=ai(q),je=fe.getWidths(Oe,fe);nw(Oe,je,fe)})(0,_,0,F.sizing),nh=(y,_,O,F)=>((Z,q,le,fe,Oe)=>{const je=ai(q),rt=fe.getWidths(je,fe),ze=fe.pixelWidth(),{newSizes:Ge,delta:Xe}=Oe.calcRedestributedWidths(rt,ze,le.pixelDelta,fe.isRelative);nw(je,Ge,fe),fe.adjustTableWidth(Xe)})(0,_,O,F.sizing,F.resize),Xu=(y,_)=>Me(_,O=>O.column===0&&O.isLocked),Ab=(y,_)=>Me(_,O=>O.column+O.colspan>=y.grid.columns&&O.isLocked),Nn=(y,_)=>{const O=Jf(y),F=hp(_);return mt(F,(Z,q)=>Z+O[q.column].map(ef).getOr(0),0)},wd=y=>(_,O)=>Qa(_,O).filter(F=>!(y?Xu:Ab)(_,F)).map(F=>({details:F,pixelDelta:Nn(_,F)})),rw=y=>(_,O)=>ci(_,O).filter(F=>!(y?Xu:Ab)(_,F.cells)),ty=nS("th"),Ob=nS("td"),ny=Qo((y,_,O,F)=>{const Z=_[0].row,q=pr(_),le=Yt(q,(fe,Oe)=>({grid:Gv(fe.grid,Z,Oe.row+fe.delta,O,F.getOrInit),delta:fe.delta+1}),{grid:y,delta:0}).grid;return xl(le,Z,_[0].column)},Qa,K,K,Yu),yp=Qo((y,_,O,F)=>{const Z=pr(_),q=Z[Z.length-1],le=q.row+q.rowspan,fe=Yt(Z,(Oe,je)=>Gv(Oe,le,je.row,O,F.getOrInit),y);return xl(fe,le,_[0].column)},Qa,K,K,Yu),Ju=Qo((y,_,O,F)=>{const Z=_.details,q=hp(Z),le=q[0].column,fe=Yt(q,(Oe,je)=>({grid:fm(Oe.grid,le,je.column+Oe.delta,O,F.getOrInit),delta:Oe.delta+1}),{grid:y,delta:0}).grid;return xl(fe,Z[0].row,le)},wd(!0),nh,K,Yu),XE=Qo((y,_,O,F)=>{const Z=_.details,q=Z[Z.length-1],le=q.column+q.colspan,fe=hp(Z),Oe=Yt(fe,(je,rt)=>fm(je,le,rt.column,O,F.getOrInit),y);return xl(Oe,Z[0].row,le)},wd(!1),nh,K,Yu),oy=Qo((y,_,O,F)=>{const Z=hp(_.details),q=((fe,Oe)=>Ve(fe,je=>{const rt=je.cells,ze=Yt(Oe,(Ge,Xe)=>Xe>=0&&Xe<Ge.length?Ge.slice(0,Xe).concat(Ge.slice(Xe+1)):Ge,rt);return ze.length>0?[gi(je.element,ze,je.section,je.isNew)]:[]}))(y,I(Z,fe=>fe.column)),le=q.length>0?q[0].cells.length-1:0;return xl(q,Z[0].row,Math.min(Z[0].column,le))},(y,_)=>qr(y,_).map(O=>({details:O,pixelDelta:-Nn(y,O)})),nh,dc,Yu),iw=Qo((y,_,O,F)=>{const Z=pr(_),q=((fe,Oe,je)=>{const{rows:rt,cols:ze}=fr(fe);return[...ze,...rt.slice(0,Oe),...rt.slice(je+1)]})(y,Z[0].row,Z[Z.length-1].row),le=Math.max(fr(q).rows.length-1,0);return xl(q,Math.min(_[0].row,le),_[0].column)},Qa,K,dc,Yu),sy=Qo((y,_,O,F)=>{const Z=hp(_),q=I(Z,fe=>fe.column),le=Yv(y,q,!0,O,F.replaceOrInit);return xl(le,_[0].row,_[0].column)},qr,K,K,ty),aw=Qo((y,_,O,F)=>{const Z=hp(_),q=I(Z,fe=>fe.column),le=Yv(y,q,!1,O,F.replaceOrInit);return xl(le,_[0].row,_[0].column)},qr,K,K,Ob),lw=Qo(oS,qr,K,K,ty),ry=Qo(YE,qr,K,K,Ob),cw=Qo(Mr,qr,K,K,Ob),uw=Qo((y,_,O,F)=>{const Z=Xv(y,_,O,F.replaceOrInit);return xl(Z,_[0].row,_[0].column)},qr,K,K,ty),sS=Qo((y,_,O,F)=>{const Z=Xv(y,_,O,F.replaceOrInit);return xl(Z,_[0].row,_[0].column)},qr,K,K,Ob),JE=Qo((y,_,O,F)=>{const Z=_.cells;Q1(Z);const q=((le,fe,Oe,je)=>{const rt=fr(le).rows;if(rt.length===0)return le;for(let ze=fe.startRow;ze<=fe.finishRow;ze++)for(let Ge=fe.startCol;Ge<=fe.finishCol;Ge++){const Xe=rt[ze],pt=Qr(Xe,Ge).isLocked;Wm(Xe,Ge,Kr(je(),!1,pt))}return le})(y,_.bounds,0,F.merge(Z));return pf(q,oe.from(Z[0]))},(y,_)=>((O,F)=>F.mergable)(0,_).filter(O=>qu(y,O.cells)),sw,K,ow),t0=Qo((y,_,O,F)=>{const Z=Yt(_,(q,le)=>um(q,le,O,F.unmerge(le)),y);return pf(Z,oe.from(_[0]))},(y,_)=>((O,F)=>F.unmergable)(0,_).filter(O=>qu(y,O)),sw,K,ow),dw=Qo((y,_,O,F)=>{const Z=((fe,Oe)=>{const je=Yo(fe);return Vn(je,Oe,!0)})(_.clipboard,_.generators);var q,le;return((fe,Oe,je,rt,ze)=>{const Ge=ja(Oe),Xe=((jt,Wt,Gt)=>{const fn=Ji(Wt[0]),hn=fr(Wt).cols.length+jt.row,St=Ne(fn-jt.column,Mn=>Mn+jt.column);return{row:hn,column:Rn(St,Mn=>bt(Gt,po=>po!==Mn)).getOr(fn-1)}})(fe,Oe,Ge),pt=fr(je).rows,yt=el(Xe,pt,Ge);return((jt,Wt,Gt)=>{if(jt.row>=Wt.length||jt.column>Ji(Wt[0]))return xd.error("invalid start address out of table bounds, row: "+jt.row+", column: "+jt.column);const fn=Wt.slice(jt.row),hn=fn[0].cells.slice(jt.column),St=Ji(Gt[0]),Mn=Gt.length;return xd.value({rowDelta:fn.length-Mn,colDelta:hn.length-St})})(Xe,Oe,pt).map(jt=>{const Wt={...jt,colDelta:jt.colDelta-yt.length},Gt=ps(Oe,Wt,rt),fn=ja(Gt),hn=el(Xe,pt,fn);return((St,Mn,po,zo,Ao,bo)=>{const Vo=St.row,ws=St.column,Ri=Vo+po.length,wl=ws+Ji(po[0])+bo.length,Ba=Yn(bo,me);for(let yu=Vo;yu<Ri;yu++){let hh=0;for(let Cl=ws;Cl<wl;Cl++){if(Ba[Cl]){hh++;continue}ti(Mn,yu,Cl,Ao)&&um(Mn,Cr(Mn[yu],Cl),Ao,zo.cell);const yf=Cl-ws-hh,Bb=Qr(po[yu-Vo],yf),gg=Bb.element,Fb=zo.replace(gg);Wm(Mn[yu],Cl,Kr(Fb,!0,Bb.isLocked))}}return Mn})(Xe,Gt,pt,rt,ze,hn)})})((q=_.row,le=_.column,{row:q,column:le}),y,Z,_.generators,O).fold(()=>pf(y,oe.some(_.element)),fe=>xl(fe,_.row,_.column))},(y,_)=>zm(_.element).bind(O=>Fo(y,O).map(F=>({...F,generators:_.generators,clipboard:_.clipboard}))),sw,K,Yu),xp=Qo((y,_,O,F)=>{const Z=fr(y).rows,q=_.cells[0].column,le=Z[_.cells[0].row],fe=ey(_.clipboard,_.generators,le),Oe=ql(q,y,fe,_.generators,O);return xl(Oe,_.cells[0].row,_.cells[0].column)},rw(!0),K,K,Yu),QE=Qo((y,_,O,F)=>{const Z=fr(y).rows,q=_.cells[_.cells.length-1].column+_.cells[_.cells.length-1].colspan,le=Z[_.cells[0].row],fe=ey(_.clipboard,_.generators,le),Oe=ql(q,y,fe,_.generators,O);return xl(Oe,_.cells[0].row,q)},rw(!1),K,K,Yu),eT=Qo((y,_,O,F)=>{const Z=fr(y).rows,q=_.cells[0].row,le=Z[q],fe=ey(_.clipboard,_.generators,le),Oe=Zv(q,y,fe,_.generators,O);return xl(Oe,_.cells[0].row,_.cells[0].column)},ci,K,K,Yu),tg=Qo((y,_,O,F)=>{const Z=fr(y).rows,q=_.cells[_.cells.length-1].row+_.cells[_.cells.length-1].rowspan,le=Z[_.cells[0].row],fe=ey(_.clipboard,_.generators,le),Oe=Zv(q,y,fe,_.generators,O);return xl(Oe,q,_.cells[0].column)},ci,K,K,Yu),oh=(y,_)=>{const O=Yo(y);return Qa(O,_).bind(F=>{const Z=F[F.length-1],q=F[0].column,le=Z.column+Z.colspan,fe=at(I(O.all,Oe=>Ft(Oe.cells,je=>je.column>=q&&je.column<le)));return Fi(fe)}).getOr("")},iy=(y,_)=>{const O=Yo(y);return Qa(O,_).bind(Fi).getOr("")},rS=(y,_)=>{const O=Yo(y);return Qa(O,_).bind(F=>{const Z=F[F.length-1],q=F[0].row,le=Z.row+Z.rowspan;return(fe=>{const Oe=I(fe,ze=>lm(ze).type),je=dt(Oe,"header"),rt=dt(Oe,"footer");if(je||rt){const ze=dt(Oe,"body");return!je||ze||rt?je||ze||!rt?oe.none():oe.some("footer"):oe.some("header")}return oe.some("body")})(O.all.slice(q,le))}).getOr("")},fw=(y,_)=>y.dispatch("NewRow",{node:_}),n0=(y,_)=>y.dispatch("NewCell",{node:_}),hm=(y,_,O)=>{y.dispatch("TableModified",{...O,table:_})},ay={structure:!1,style:!0},Gi={structure:!0,style:!1},ui={structure:!0,style:!0},ng=(y,_)=>ju(y)?Wu(_):L(y)?Sr(_):jg(_),mw=(y,_,O)=>{const F=rt=>wt(Is(rt))==="table",Z=kc(y),q=Zg(y)?K:Jg,le=rt=>{switch(gu(y)){case"section":return Zi();case"sectionCells":return D();case"cells":return z();default:return((ze,Ge)=>{var Xe;switch((Xe=Yo(ze),ee(Xe.all,pt=>{const yt=lm(pt);return yt.type==="header"?oe.from(yt.subType):oe.none()})).getOr(Ge)){case"section":return Ai();case"sectionCells":return an();case"cells":return cm()}})(rt,"section")}},fe=(rt,ze,Ge,Xe)=>(pt,yt,Kt=!1)=>{Pr(pt);const jt=tn.fromDom(y.getDoc()),Wt=ir(Ge,jt,Z),Gt={sizing:ng(y,pt),resize:Zg(y)?Gu():fp(),section:le(pt)};return ze(pt)?rt(pt,yt,Wt,Gt).bind(fn=>{_.refresh(pt.dom),st(fn.newRows,St=>{fw(y,St.dom)}),st(fn.newCells,St=>{n0(y,St.dom)});const hn=((St,Mn)=>Mn.cursor.fold(()=>{const po=Rr(St);return Bn(po).filter(hl).map(zo=>{O.clearSelectedCells(St.dom);const Ao=y.dom.createRng();return Ao.selectNode(zo.dom),y.selection.setRng(Ao),xs(zo,"data-mce-selected","1"),Ao})},po=>{const zo=Kv(Xg,po),Ao=y.dom.createRng();return Ao.setStart(zo.element.dom,zo.offset),Ao.setEnd(zo.element.dom,zo.offset),y.selection.setRng(Ao),O.clearSelectedCells(St.dom),oe.some(Ao)}))(pt,fn);return hl(pt)&&(Pr(pt),Kt||hm(y,pt.dom,Xe)),hn.map(St=>({rng:St,effect:Xe}))}):oe.none()},Oe=fe(iw,rt=>!F(y)||pu(rt).rows>1,K,Gi),je=fe(oy,rt=>!F(y)||pu(rt).columns>1,K,Gi);return{deleteRow:Oe,deleteColumn:je,insertRowsBefore:fe(ny,me,K,Gi),insertRowsAfter:fe(yp,me,K,Gi),insertColumnsBefore:fe(Ju,me,q,Gi),insertColumnsAfter:fe(XE,me,q,Gi),mergeCells:fe(JE,me,K,Gi),unmergeCells:fe(t0,me,K,Gi),pasteColsBefore:fe(xp,me,K,Gi),pasteColsAfter:fe(QE,me,K,Gi),pasteRowsBefore:fe(eT,me,K,Gi),pasteRowsAfter:fe(tg,me,K,Gi),pasteCells:fe(dw,me,K,ui),makeCellsHeader:fe(uw,me,K,Gi),unmakeCellsHeader:fe(sS,me,K,Gi),makeColumnsHeader:fe(sy,me,K,Gi),unmakeColumnsHeader:fe(aw,me,K,Gi),makeRowsHeader:fe(lw,me,K,Gi),makeRowsBody:fe(ry,me,K,Gi),makeRowsFooter:fe(cw,me,K,Gi),getTableRowType:rS,getTableCellType:iy,getTableColType:oh}},ly=(y,_,O)=>{const F=Or(y,_,1);O===1||F<=1?$o(y,_):xs(y,_,Math.min(O,F))},La=(y,_)=>O=>{const F=O.column+O.colspan-1,Z=O.column;return F>=y&&Z<_},Yl=th([{invalid:["raw"]},{pixels:["value"]},{percent:["value"]}]),wp=(y,_,O)=>{const F=O.substring(0,O.length-y.length),Z=parseFloat(F);return F===Z.toString()?_(Z):Yl.invalid(O)},og={...Yl,from:y=>xn(y,"%")?wp("%",Yl.percent,y):xn(y,"px")?wp("px",Yl.pixels,y):Yl.invalid(y)},sh=(y,_,O)=>{const F=og.from(O),Z=bt(y,q=>q==="0px")?((q,le)=>{const fe=q.fold(()=>G(""),Oe=>G(Oe/le+"px"),()=>G(100/le+"%"));return Ne(le,fe)})(F,y.length):((q,le,fe)=>q.fold(()=>le,Oe=>((je,rt,ze)=>{const Ge=ze/rt;return I(je,Xe=>og.from(Xe).fold(()=>Xe,pt=>pt*Ge+"px",pt=>pt/100*ze+"px"))})(le,fe,Oe),Oe=>((je,rt)=>I(je,ze=>og.from(ze).fold(()=>ze,Ge=>Ge/rt*100+"%",Ge=>Ge+"%")))(le,fe)))(F,y,_);return gw(Z)},cy=(y,_)=>y.length===0?_:Yt(y,(O,F)=>og.from(F).fold(G(0),te,te)+O,0),iS=(y,_)=>og.from(y).fold(G(y),O=>O+_+"px",O=>O+_+"%"),gw=y=>{if(y.length===0)return y;const _=Yt(y,(F,Z)=>{const q=og.from(Z).fold(()=>({value:Z,remainder:0}),le=>((fe,Oe)=>{const je=Math.floor(fe);return{value:je+"px",remainder:fe-je}})(le),le=>({value:le+"%",remainder:0}));return{output:[q.value].concat(F.output),remainder:F.remainder+q.remainder}},{output:[],remainder:0}),O=_.output;return O.slice(0,O.length-1).concat([iS(O[O.length-1],Math.round(_.remainder))])},rh=og.from,br=(y,_,O)=>{const F=Yo(y),Z=F.all,q=Wn(F),le=Mc(F);_.each(fe=>{const Oe=rh(fe).fold(G("px"),G("px"),G("%")),je=Nl(y),rt=((Ge,Xe)=>Ti(Ge,Xe,Pa,nm))(F,y),ze=sh(rt,je,fe);Lc(F)?((Ge,Xe,pt)=>{st(Xe,(yt,Kt)=>{const jt=cy([Ge[Kt]],Il());Uo(yt.element,"width",jt+pt)})})(ze,le,Oe):((Ge,Xe,pt)=>{st(Xe,yt=>{const Kt=Ge.slice(yt.column,yt.colspan+yt.column),jt=cy(Kt,Il());Uo(yt.element,"width",jt+pt)})})(ze,q,Oe),Uo(y,"width",fe)}),O.each(fe=>{const Oe=Fu(y),je=((rt,ze)=>ji(rt,ze,Na,nm))(F,y);((rt,ze,Ge)=>{st(Ge,Xe=>{Rl(Xe.element,"height")}),st(ze,(Xe,pt)=>{Uo(Xe.element,"height",rt[pt])})})(sh(je,Oe,fe),Z,q),Uo(y,"height",fe)})},uy=y=>_c(y).exists(_=>Mi.test(_)),Lr=y=>_c(y).exists(_=>oo.test(_)),bf=y=>_c(y).isNone(),Cd=y=>{$o(y,"width"),$o(y,"height")},Cp=y=>{const _=rf(y);br(y,oe.some(_),oe.none()),Cd(y)},fc=y=>{const _=(O=>Nl(O)+"px")(y);br(y,oe.some(_),oe.none()),Cd(y)},nl=y=>{Rl(y,"width");const _=pl(y),O=_.length>0?_:Rr(y);st(O,F=>{Rl(F,"width"),Cd(F)}),Cd(y)},ih={styles:{"border-collapse":"collapse",width:"100%"},attributes:{border:"1"},colGroups:!1},o0=(y,_,O,F)=>Ne(y,Z=>((q,le,fe,Oe)=>{const je=tn.fromTag("tr");for(let rt=0;rt<q;rt++){const ze=tn.fromTag(Oe<le||rt<fe?"th":"td");rt<fe&&xs(ze,"scope","row"),Oe<le&&xs(ze,"scope","col"),Tr(ze,tn.fromTag("br")),Tr(je,ze)}return je})(_,O,F,Z)),Sp=(y,_)=>{y.selection.select(_.dom,!0),y.selection.collapse(!0)},s0=(y,_,O,F,Z)=>{const q=(fe=>{const Oe=fe.options,je=Oe.get("table_default_styles");return Oe.isSet("table_default_styles")?je:((rt,ze)=>Y(rt)||!We(rt)?ze:L(rt)?{...ze,width:Ml(rt)}:{...ze,width:pa})(fe,je)})(y),le={styles:q,attributes:Ut(y),colGroups:lo(y)};return y.undoManager.ignore(()=>{const fe=((je,rt,ze,Ge,Xe,pt=ih)=>{const yt=tn.fromTag("table"),Kt=Xe!=="cells";ic(yt,pt.styles),la(yt,pt.attributes),pt.colGroups&&Tr(yt,(fn=>{const hn=tn.fromTag("colgroup");return Ne(fn,()=>Tr(hn,tn.fromTag("col"))),hn})(rt));const jt=Math.min(je,ze);if(Kt&&ze>0){const fn=tn.fromTag("thead");Tr(yt,fn);const hn=o0(ze,rt,Xe==="sectionCells"?jt:0,Ge);jl(fn,hn)}const Wt=tn.fromTag("tbody");Tr(yt,Wt);const Gt=o0(Kt?je-jt:je,rt,Kt?0:ze,Ge);return jl(Wt,Gt),yt})(O,_,Z,F,gu(y),le);xs(fe,"data-mce-id","__mce");const Oe=(je=>{const rt=tn.fromTag("div"),ze=tn.fromDom(je.dom.cloneNode(!0));return Tr(rt,ze),(Ge=>Ge.dom.innerHTML)(rt)})(fe);y.insertContent(Oe),y.addVisual()}),Ct(Is(y),'table[data-mce-id="__mce"]').map(fe=>(L(y)?fc(fe):Y(y)?nl(fe):(ju(y)||(Oe=>m(Oe)&&Oe.indexOf("%")!==-1)(q.width))&&Cp(fe),Pr(fe),$o(fe,"data-mce-id"),((Oe,je)=>{st(Vs(je,"tr"),rt=>{fw(Oe,rt.dom),st(Vs(rt,"th,td"),ze=>{n0(Oe,ze.dom)})})})(y,fe),((Oe,je)=>{Ct(je,"td,th").each(W(Sp,Oe))})(y,fe),fe.dom)).getOrNull()};var _p=tinymce.util.Tools.resolve("tinymce.FakeClipboard");const aS="x-tinymce/dom-table-",hw=aS+"rows",pw=aS+"columns",lS=y=>{const _=_p.FakeClipboardItem(y);_p.write([_])},ol=y=>{var _;const O=(_=_p.read())!==null&&_!==void 0?_:[];return ee(O,F=>oe.from(F.getType(y)))},ah=y=>{ol(y).isSome()&&_p.clear()},cS=y=>{y.fold(Xl,_=>lS({[hw]:_}))},Qu=()=>ol(hw),Xl=()=>ah(hw),kp=y=>{y.fold(uS,_=>lS({[pw]:_}))},Rb=()=>ol(pw),uS=()=>ah(pw),ni=y=>gf(Hc(y),ei(y)).filter(Uv),oi=(y,_)=>{const O=ei(y),F=ze=>Dl(ze,O),Z=ze=>(Ge=>Ar(Hc(Ge),ei(Ge)).filter(Uv))(y).bind(Ge=>F(Ge).map(Xe=>ze(Xe,Ge))),q=ze=>{y.focus()},le=(ze,Ge=!1)=>Z((Xe,pt)=>{const yt=Wo(Kc(y),Xe,pt);ze(Xe,yt,Ge).each(q)}),fe=()=>Z((ze,Ge)=>((Xe,pt,yt)=>{const Kt=Yo(Xe);return Qa(Kt,pt).bind(jt=>{const Wt=Vn(Kt,yt,!1),Gt=fr(Wt).rows.slice(jt[0].row,jt[jt.length-1].row+jt[jt.length-1].rowspan),fn=Ve(Gt,St=>{const Mn=Ft(St.cells,po=>!po.isLocked);return Mn.length>0?[{...St,cells:Mn}]:[]}),hn=Ko(fn);return Cn(hn.length>0,hn)}).map(jt=>I(jt,Wt=>{const Gt=Gf(Wt.element);return st(Wt.cells,fn=>{const hn=su(fn.element);Te(hn,"colspan",fn.colspan,1),Te(hn,"rowspan",fn.rowspan,1),Tr(Gt,hn)}),Gt}))})(ze,Wo(Kc(y),ze,Ge),ir(K,tn.fromDom(y.getDoc()),oe.none()))),Oe=()=>Z((ze,Ge)=>((Xe,pt)=>{const yt=Yo(Xe);return qr(yt,pt).map(Kt=>{const jt=Kt[Kt.length-1],Wt=Kt[0].column,Gt=jt.column+jt.colspan,fn=((St,Mn,po)=>{if(Lc(St)){const zo=Ft(Mc(St),La(Mn,po)),Ao=I(zo,Vo=>{const ws=su(Vo.element);return ly(ws,"span",po-Mn),ws}),bo=tn.fromTag("colgroup");return jl(bo,Ao),[bo]}return[]})(yt,Wt,Gt),hn=((St,Mn,po)=>I(St.all,zo=>{const Ao=Ft(zo.cells,La(Mn,po)),bo=I(Ao,ws=>{const Ri=su(ws.element);return ly(Ri,"colspan",po-Mn),Ri}),Vo=tn.fromTag("tr");return jl(Vo,bo),Vo}))(yt,Wt,Gt);return[...fn,...hn]})})(ze,Wo(Kc(y),ze,Ge))),je=(ze,Ge)=>Ge().each(Xe=>{const pt=I(Xe,yt=>su(yt));Z((yt,Kt)=>{const jt=Hs(tn.fromDom(y.getDoc())),Wt=((Gt,fn,hn,St)=>({selection:ff(Gt),clipboard:hn,generators:St}))(Kc(y),0,pt,jt);ze(yt,Wt).each(q)})}),rt=ze=>(Ge,Xe)=>((pt,yt)=>Ke(pt,yt)?oe.from(pt[yt]):oe.none())(Xe,"type").each(pt=>{le(ze(pt),Xe.no_events)});yn({mceTableSplitCells:()=>le(_.unmergeCells),mceTableMergeCells:()=>le(_.mergeCells),mceTableInsertRowBefore:()=>le(_.insertRowsBefore),mceTableInsertRowAfter:()=>le(_.insertRowsAfter),mceTableInsertColBefore:()=>le(_.insertColumnsBefore),mceTableInsertColAfter:()=>le(_.insertColumnsAfter),mceTableDeleteCol:()=>le(_.deleteColumn),mceTableDeleteRow:()=>le(_.deleteRow),mceTableCutCol:()=>Oe().each(ze=>{kp(ze),le(_.deleteColumn)}),mceTableCutRow:()=>fe().each(ze=>{cS(ze),le(_.deleteRow)}),mceTableCopyCol:()=>Oe().each(ze=>kp(ze)),mceTableCopyRow:()=>fe().each(ze=>cS(ze)),mceTablePasteColBefore:()=>je(_.pasteColsBefore,Rb),mceTablePasteColAfter:()=>je(_.pasteColsAfter,Rb),mceTablePasteRowBefore:()=>je(_.pasteRowsBefore,Qu),mceTablePasteRowAfter:()=>je(_.pasteRowsAfter,Qu),mceTableDelete:()=>ni(y).each(ze=>{Dl(ze,O).filter(ge(O)).each(Ge=>{const Xe=tn.fromText("");if(rc(Ge,Xe),dr(Ge),y.dom.isEmpty(y.getBody()))y.setContent(""),y.selection.setCursorLocation();else{const pt=y.dom.createRng();pt.setStart(Xe.dom,0),pt.setEnd(Xe.dom,0),y.selection.setRng(pt),y.nodeChanged()}})}),mceTableCellToggleClass:(ze,Ge)=>{Z(Xe=>{const pt=Kc(y),yt=bt(pt,jt=>y.formatter.match("tablecellclass",{value:Ge},jt.dom)),Kt=yt?y.formatter.remove:y.formatter.apply;st(pt,jt=>Kt("tablecellclass",{value:Ge},jt.dom)),hm(y,Xe.dom,ay)})},mceTableToggleClass:(ze,Ge)=>{Z(Xe=>{y.formatter.toggle("tableclass",{value:Ge},Xe.dom),hm(y,Xe.dom,ay)})},mceTableToggleCaption:()=>{ni(y).each(ze=>{Dl(ze,O).each(Ge=>{_t(Ge,"caption").fold(()=>{const Xe=tn.fromTag("caption");Tr(Xe,tn.fromText("Caption")),((pt,yt,Kt)=>{Mu(pt,0).fold(()=>{Tr(pt,yt)},jt=>{Sn(jt,yt)})})(Ge,Xe),y.selection.setCursorLocation(Xe.dom,0)},Xe=>{Ss("caption")(ze)&&Kl("td",Ge).each(pt=>y.selection.setCursorLocation(pt.dom,0)),dr(Xe)}),hm(y,Ge.dom,Gi)})})},mceTableSizingMode:(ze,Ge)=>(Xe=>ni(y).each(pt=>{Y(y)||L(y)||ju(y)||Dl(pt,O).each(yt=>{Xe!=="relative"||uy(yt)?Xe!=="fixed"||Lr(yt)?Xe!=="responsive"||bf(yt)||nl(yt):fc(yt):Cp(yt),Pr(yt),hm(y,yt.dom,Gi)})}))(Ge),mceTableCellType:rt(ze=>ze==="th"?_.makeCellsHeader:_.unmakeCellsHeader),mceTableColType:rt(ze=>ze==="th"?_.makeColumnsHeader:_.unmakeColumnsHeader),mceTableRowType:rt(ze=>{switch(ze){case"header":return _.makeRowsHeader;case"footer":return _.makeRowsFooter;default:return _.makeRowsBody}})},(ze,Ge)=>y.addCommand(Ge,ze)),y.addCommand("mceInsertTable",(ze,Ge)=>{((Xe,pt,yt,Kt={})=>{const jt=Wt=>H(Wt)&&Wt>0;if(jt(pt)&&jt(yt)){const Wt=Kt.headerRows||0,Gt=Kt.headerColumns||0;return s0(Xe,yt,pt,Gt,Wt)}console.error("Invalid values for mceInsertTable - rows and columns values are required to insert a table.")})(y,Ge.rows,Ge.columns,Ge.options)}),y.addCommand("mceTableApplyCellStyle",(ze,Ge)=>{const Xe=Kt=>"tablecell"+Kt.toLowerCase().replace("-","");if(!h(Ge))return;const pt=Ft(Kc(y),Uv);if(pt.length===0)return;const yt=((Kt,jt)=>{const Wt={};return((Gt,fn,hn,St)=>{yn(Gt,(Mn,po)=>{(fn(Mn,po)?hn:St)(Mn,po)})})(Kt,jt,(Gt=>(fn,hn)=>{Gt[hn]=fn})(Wt),K),Wt})(Ge,(Kt,jt)=>y.formatter.has(Xe(jt))&&m(Kt));(Kt=>{for(const jt in Kt)if(nn.call(Kt,jt))return!1;return!0})(yt)||(yn(yt,(Kt,jt)=>{const Wt=Xe(jt);st(pt,Gt=>{Kt===""?y.formatter.remove(Wt,{value:null},Gt.dom,!0):y.formatter.apply(Wt,{value:Kt},Gt.dom)})}),F(pt[0]).each(Kt=>hm(y,Kt.dom,ay)))})},Oi=th([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),er={before:Oi.before,on:Oi.on,after:Oi.after,cata:(y,_,O,F)=>y.fold(_,O,F),getStart:y=>y.fold(te,te,te)},Yr=(y,_)=>({selection:y,kill:_}),vi=(y,_)=>{const O=y.document.createRange();return O.selectNode(_.dom),O},dy=(y,_)=>{const O=y.document.createRange();return fy(O,_),O},fy=(y,_)=>y.selectNodeContents(_.dom),bw=(y,_,O)=>{const F=y.document.createRange();var Z;return Z=F,_.fold(q=>{Z.setStartBefore(q.dom)},(q,le)=>{Z.setStart(q.dom,le)},q=>{Z.setStartAfter(q.dom)}),((q,le)=>{le.fold(fe=>{q.setEndBefore(fe.dom)},(fe,Oe)=>{q.setEnd(fe.dom,Oe)},fe=>{q.setEndAfter(fe.dom)})})(F,O),F},r0=(y,_,O,F,Z)=>{const q=y.document.createRange();return q.setStart(_.dom,O),q.setEnd(F.dom,Z),q},vw=y=>({left:y.left,top:y.top,right:y.right,bottom:y.bottom,width:y.width,height:y.height}),Ep=th([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),my=(y,_,O)=>_(tn.fromDom(O.startContainer),O.startOffset,tn.fromDom(O.endContainer),O.endOffset),gy=(y,_)=>{const O=((F,Z)=>Z.match({domRange:q=>({ltr:G(q),rtl:oe.none}),relative:(q,le)=>({ltr:Wi(()=>bw(F,q,le)),rtl:Wi(()=>oe.some(bw(F,le,q)))}),exact:(q,le,fe,Oe)=>({ltr:Wi(()=>r0(F,q,le,fe,Oe)),rtl:Wi(()=>oe.some(r0(F,fe,Oe,q,le)))})}))(y,_);return((F,Z)=>{const q=Z.ltr();return q.collapsed?Z.rtl().filter(le=>le.collapsed===!1).map(le=>Ep.rtl(tn.fromDom(le.endContainer),le.endOffset,tn.fromDom(le.startContainer),le.startOffset)).getOrThunk(()=>my(0,Ep.ltr,q)):my(0,Ep.ltr,q)})(0,O)},yw=(y,_)=>gy(y,_).match({ltr:(O,F,Z,q)=>{const le=y.document.createRange();return le.setStart(O.dom,F),le.setEnd(Z.dom,q),le},rtl:(O,F,Z,q)=>{const le=y.document.createRange();return le.setStart(Z.dom,q),le.setEnd(O.dom,F),le}});Ep.ltr,Ep.rtl;const i0=(y,_,O,F)=>({start:y,soffset:_,finish:O,foffset:F}),mc=(y,_,O,F)=>({start:er.on(y,_),finish:er.on(O,F)}),xw=(y,_)=>{const O=yw(y,_);return i0(tn.fromDom(O.startContainer),O.startOffset,tn.fromDom(O.endContainer),O.endOffset)},Ll=mc,a0=(y,_,O,F,Z)=>js(O,F)?oe.none():Uc(O,F,_).bind(q=>{const le=q.boxes.getOr([]);return le.length>1?(Z(y,le,q.start,q.finish),oe.some(Yr(oe.some(Ll(O,0,O,$r(O))),!0))):oe.none()}),Tp=(y,_)=>({item:y,mode:_}),Sd=(y,_,O,F=yi)=>y.property().parent(_).map(Z=>Tp(Z,F)),yi=(y,_,O,F=lh)=>O.sibling(y,_).map(Z=>Tp(Z,F)),lh=(y,_,O,F=lh)=>{const Z=y.property().children(_);return O.first(Z).map(q=>Tp(q,F))},ww=[{current:Sd,next:yi,fallback:oe.none()},{current:yi,next:lh,fallback:oe.some(Sd)},{current:lh,next:lh,fallback:oe.some(yi)}],Cw=(y,_,O,F,Z=ww)=>Rn(Z,q=>q.current===O).bind(q=>q.current(y,_,F,q.next).orThunk(()=>q.fallback.bind(le=>Cw(y,_,le,F)))),l0=(y,_,O,F,Z,q)=>Cw(y,_,F,Z).bind(le=>q(le.item)?oe.none():O(le.item)?oe.some(le.item):l0(y,le.item,O,le.mode,Z,q)),pm=y=>_=>y.property().children(_).length===0,tT=(y,_,O,F)=>l0(y,_,O,yi,{sibling:(Z,q)=>Z.query().prevSibling(q),first:Z=>Z.length>0?oe.some(Z[Z.length-1]):oe.none()},F),c0=(y,_,O,F)=>l0(y,_,O,yi,{sibling:(Z,q)=>Z.query().nextSibling(q),first:Z=>Z.length>0?oe.some(Z[0]):oe.none()},F),ch=cf(),dS=(y,_)=>((O,F,Z)=>tT(O,F,pm(O),Z))(ch,y,_),u0=(y,_)=>((O,F,Z)=>c0(O,F,pm(O),Z))(ch,y,_),d0=th([{none:["message"]},{success:[]},{failedUp:["cell"]},{failedDown:["cell"]}]),hy=y=>ut(y,"tr"),Ib={...d0,verify:(y,_,O,F,Z,q,le)=>ut(F,"td,th",le).bind(fe=>ut(_,"td,th",le).map(Oe=>js(fe,Oe)?js(F,fe)&&$r(fe)===Z?q(Oe):d0.none("in same cell"):uf(hy,[fe,Oe]).fold(()=>((je,rt,ze)=>{const Ge=je.getRect(rt),Xe=je.getRect(ze);return Xe.right>Ge.left&&Xe.left<Ge.right})(y,Oe,fe)?d0.success():q(Oe),je=>q(Oe)))).getOr(d0.none("default")),cata:(y,_,O,F,Z)=>y.fold(_,O,F,Z)},py=Ss("br"),Bl=(y,_,O)=>_(y,O).bind(F=>Jo(F)&&om(F).trim().length===0?Bl(F,_,O):oe.some(F)),Sw=(y,_,O,F)=>((Z,q)=>Mu(Z,q).filter(py).orThunk(()=>Mu(Z,q-1).filter(py)))(_,O).bind(Z=>F.traverse(Z).fold(()=>Bl(Z,F.gather,y).map(F.relative),q=>(le=>El(le).bind(fe=>{const Oe=Ui(fe);return((je,rt)=>Ot(je,W(js,rt)))(Oe,le).map(je=>((rt,ze,Ge,Xe)=>({parent:rt,children:ze,element:Ge,index:Xe}))(fe,Oe,le,je))}))(q).map(le=>er.on(le.parent,le.index)))),bm=(y,_)=>({left:y.left,top:y.top+_,right:y.right,bottom:y.bottom+_}),f0=(y,_)=>({left:y.left,top:y.top-_,right:y.right,bottom:y.bottom-_}),vf=(y,_,O)=>({left:y.left+_,top:y.top+O,right:y.right+_,bottom:y.bottom+O}),m0=y=>({left:y.left,top:y.top,right:y.right,bottom:y.bottom}),g0=(y,_)=>oe.some(y.getRect(_)),uh=(y,_,O)=>co(_)?g0(y,_).map(m0):Jo(_)?((F,Z,q)=>q>=0&&q<$r(Z)?F.getRangedRect(Z,q,Z,q+1):q>0?F.getRangedRect(Z,q-1,Z,q):oe.none())(y,_,O).map(m0):oe.none(),Ap=(y,_)=>co(_)?g0(y,_).map(m0):Jo(_)?y.getRangedRect(_,0,_,$r(_)).map(m0):oe.none(),ed=th([{none:[]},{retry:["caret"]}]),h0=(y,_,O)=>gt(_,bp).fold(j,F=>Ap(y,F).exists(Z=>((q,le)=>q.left<le.left||Math.abs(le.right-q.left)<1||q.left>le.right)(O,Z))),nT={point:y=>y.bottom,adjuster:(y,_,O,F,Z)=>{const q=bm(Z,5);return Math.abs(O.bottom-F.bottom)<1||O.top>Z.bottom?ed.retry(q):O.top===Z.bottom?ed.retry(bm(Z,1)):h0(y,_,Z)?ed.retry(vf(q,5,0)):ed.none()},move:bm,gather:u0},vu=(y,_,O,F,Z)=>Z===0?oe.some(F):((q,le,fe)=>q.elementFromPoint(le,fe).filter(Oe=>wt(Oe)==="table").isSome())(y,F.left,_.point(F))?((q,le,fe,Oe,je)=>vu(q,le,fe,le.move(Oe,5),je))(y,_,O,F,Z-1):y.situsFromPoint(F.left,_.point(F)).bind(q=>q.start.fold(oe.none,le=>Ap(y,le).bind(fe=>_.adjuster(y,le,fe,O,F).fold(oe.none,Oe=>vu(y,_,O,Oe,Z-1))).orThunk(()=>oe.some(F)),oe.none)),vm=(y,_,O)=>{const F=y.move(O,5),Z=vu(_,y,O,F,100).getOr(F);return((q,le,fe)=>q.point(le)>fe.getInnerHeight()?oe.some(q.point(le)-fe.getInnerHeight()):q.point(le)<0?oe.some(-q.point(le)):oe.none())(y,Z,_).fold(()=>_.situsFromPoint(Z.left,y.point(Z)),q=>(_.scrollBy(0,q),_.situsFromPoint(Z.left,y.point(Z)-q)))},td={tryUp:W(vm,{point:y=>y.top,adjuster:(y,_,O,F,Z)=>{const q=f0(Z,5);return Math.abs(O.top-F.top)<1||O.bottom<Z.top?ed.retry(q):O.bottom===Z.top?ed.retry(f0(Z,1)):h0(y,_,Z)?ed.retry(vf(q,5,0)):ed.none()},move:f0,gather:dS}),tryDown:W(vm,nT),getJumpSize:G(5)},_w=(y,_,O)=>y.getSelection().bind(F=>((Z,q,le,fe)=>(py(q)?((je,rt,ze)=>ze.traverse(rt).orThunk(()=>Bl(rt,ze.gather,je)).map(ze.relative))(Z,q,fe):Sw(Z,q,le,fe)).map(je=>({start:je,finish:je})))(_,F.finish,F.foffset,O).fold(()=>oe.some(To(F.finish,F.foffset)),Z=>{const q=y.fromSitus(Z);return le=Ib.verify(y,F.finish,F.foffset,q.finish,q.foffset,O.failure,_),Ib.cata(le,fe=>oe.none(),()=>oe.none(),fe=>oe.some(To(fe,0)),fe=>oe.some(To(fe,$r(fe))));var le})),ta=(y,_,O,F,Z,q)=>q===0?oe.none():oT(y,_,O,F,Z).bind(le=>{const fe=y.fromSitus(le),Oe=Ib.verify(y,O,F,fe.finish,fe.foffset,Z.failure,_);return Ib.cata(Oe,()=>oe.none(),()=>oe.some(le),je=>js(O,je)&&F===0?nd(y,O,F,f0,Z):ta(y,_,je,0,Z,q-1),je=>js(O,je)&&F===$r(je)?nd(y,O,F,bm,Z):ta(y,_,je,$r(je),Z,q-1))}),nd=(y,_,O,F,Z)=>uh(y,_,O).bind(q=>gc(y,Z,F(q,td.getJumpSize()))),gc=(y,_,O)=>{const F=au().browser;return F.isChromium()||F.isSafari()||F.isFirefox()?_.retry(y,O):oe.none()},oT=(y,_,O,F,Z)=>uh(y,O,F).bind(q=>gc(y,Z,q)),sg=(y,_,O,F,Z)=>ut(F,"td,th",_).bind(q=>ut(q,"table",_).bind(le=>((fe,Oe)=>Be(fe,je=>El(je).exists(rt=>js(rt,Oe)),void 0).isSome())(Z,le)?((fe,Oe,je)=>_w(fe,Oe,je).bind(rt=>ta(fe,Oe,rt.element,rt.offset,je,20).map(fe.fromSitus)))(y,_,O).bind(fe=>ut(fe.finish,"td,th",_).map(Oe=>({start:q,finish:Oe,range:fe}))):oe.none())),ym=(y,_,O,F,Z,q)=>q(F,_).orThunk(()=>sg(y,_,O,F,Z).map(le=>{const fe=le.range;return Yr(oe.some(Ll(fe.start,fe.soffset,fe.finish,fe.foffset)),!0)})),Db=(y,_)=>ut(y,"tr",_).bind(O=>ut(O,"table",_).bind(F=>{const Z=Vs(F,"tr");return js(O,Z[0])?((q,le,fe)=>tT(ch,q,Oe=>Vc(Oe).isSome(),fe))(F,0,_).map(q=>{const le=$r(q);return Yr(oe.some(Ll(q,le,q,le)),!0)}):oe.none()})),dh=(y,_)=>ut(y,"tr",_).bind(O=>ut(O,"table",_).bind(F=>{const Z=Vs(F,"tr");return js(O,Z[Z.length-1])?((q,le,fe)=>c0(ch,q,Oe=>qm(Oe).isSome(),fe))(F,0,_).map(q=>Yr(oe.some(Ll(q,0,q,0)),!0)):oe.none()})),Gc=(y,_,O,F,Z,q,le)=>sg(y,O,F,Z,q).bind(fe=>a0(_,O,fe.start,fe.finish,le)),by=y=>{let _=y;return{get:()=>_,set:O=>{_=O}}},vy=()=>{const y=(_=>{const O=by(oe.none()),F=()=>O.get().each(_);return{clear:()=>{F(),O.set(oe.none())},isSet:()=>O.get().isSome(),get:()=>O.get(),set:Z=>{F(),O.set(oe.some(Z))}}})(K);return{...y,on:_=>y.get().each(_)}},p0=(y,_)=>ut(y,"td,th",_),yy=y=>Pc(y).exists(ko),fS={traverse:fl,gather:u0,relative:er.before,retry:td.tryDown,failure:Ib.failedDown},b0={traverse:So,gather:dS,relative:er.before,retry:td.tryUp,failure:Ib.failedUp},xm=y=>_=>_===y,v0=xm(38),Op=xm(40),Rp=y=>y>=37&&y<=40,rg={isBackward:xm(37),isForward:xm(39)},ig={isBackward:xm(39),isForward:xm(37)},y0=th([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),ag={domRange:y0.domRange,relative:y0.relative,exact:y0.exact,exactFromRange:y=>y0.exact(y.start,y.soffset,y.finish,y.foffset),getWin:y=>{const _=(O=>O.match({domRange:F=>tn.fromDom(F.startContainer),relative:(F,Z)=>er.getStart(F),exact:(F,Z,q,le)=>F}))(y);return tn.fromDom(Dc(_).dom.defaultView)},range:i0},lg=(y,_)=>{const O=wt(y);return O==="input"?er.after(y):dt(["br","img"],O)?_===0?er.before(y):er.after(y):er.on(y,_)},cg=y=>oe.from(y.getSelection()),Ip=(y,_)=>{cg(y).each(O=>{O.removeAllRanges(),O.addRange(_)})},xy=(y,_,O,F,Z)=>{const q=r0(y,_,O,F,Z);Ip(y,q)},Pb=(y,_)=>gy(y,_).match({ltr:(O,F,Z,q)=>{xy(y,O,F,Z,q)},rtl:(O,F,Z,q)=>{cg(y).each(le=>{if(le.setBaseAndExtent)le.setBaseAndExtent(O.dom,F,Z.dom,q);else if(le.extend)try{((fe,Oe,je,rt,ze,Ge)=>{Oe.collapse(je.dom,rt),Oe.extend(ze.dom,Ge)})(0,le,O,F,Z,q)}catch{xy(y,Z,q,O,F)}else xy(y,Z,q,O,F)})}}),wy=(y,_,O,F,Z)=>{const q=((le,fe,Oe,je)=>{const rt=lg(le,fe),ze=lg(Oe,je);return ag.relative(rt,ze)})(_,O,F,Z);Pb(y,q)},kw=(y,_,O)=>{const F=((Z,q)=>{const le=Z.fold(er.before,lg,er.after),fe=q.fold(er.before,lg,er.after);return ag.relative(le,fe)})(_,O);Pb(y,F)},Nb=y=>{if(y.rangeCount>0){const _=y.getRangeAt(0),O=y.getRangeAt(y.rangeCount-1);return oe.some(i0(tn.fromDom(_.startContainer),_.startOffset,tn.fromDom(O.endContainer),O.endOffset))}return oe.none()},na=y=>{if(y.anchorNode===null||y.focusNode===null)return Nb(y);{const _=tn.fromDom(y.anchorNode),O=tn.fromDom(y.focusNode);return((F,Z,q,le)=>{const fe=((je,rt,ze,Ge)=>{const Xe=Ic(je).dom.createRange();return Xe.setStart(je.dom,rt),Xe.setEnd(ze.dom,Ge),Xe})(F,Z,q,le),Oe=js(F,q)&&Z===le;return fe.collapsed&&!Oe})(_,y.anchorOffset,O,y.focusOffset)?oe.some(i0(_,y.anchorOffset,O,y.focusOffset)):Nb(y)}},Ew=(y,_,O=!0)=>{const F=(O?dy:vi)(y,_);Ip(y,F)},mS=y=>(_=>cg(_).filter(O=>O.rangeCount>0).bind(na))(y).map(_=>ag.exact(_.start,_.soffset,_.finish,_.foffset)),Tw=(y,_,O)=>((F,Z,q)=>((le,fe,Oe)=>le.caretPositionFromPoint?((je,rt,ze)=>{var Ge;return oe.from((Ge=je.caretPositionFromPoint)===null||Ge===void 0?void 0:Ge.call(je,rt,ze)).bind(Xe=>{if(Xe.offsetNode===null)return oe.none();const pt=je.createRange();return pt.setStart(Xe.offsetNode,Xe.offset),pt.collapse(),oe.some(pt)})})(le,fe,Oe):le.caretRangeFromPoint?((je,rt,ze)=>{var Ge;return oe.from((Ge=je.caretRangeFromPoint)===null||Ge===void 0?void 0:Ge.call(je,rt,ze))})(le,fe,Oe):oe.none())(F.document,Z,q).map(le=>i0(tn.fromDom(le.startContainer),le.startOffset,tn.fromDom(le.endContainer),le.endOffset)))(y,_,O),Aw=y=>({elementFromPoint:(_,O)=>tn.fromPoint(tn.fromDom(y.document),_,O),getRect:_=>_.dom.getBoundingClientRect(),getRangedRect:(_,O,F,Z)=>{const q=ag.exact(_,O,F,Z);return((le,fe)=>(Oe=>{const je=Oe.getClientRects(),rt=je.length>0?je[0]:Oe.getBoundingClientRect();return rt.width>0||rt.height>0?oe.some(rt).map(vw):oe.none()})(yw(le,fe)))(y,q)},getSelection:()=>mS(y).map(_=>xw(y,_)),fromSitus:_=>{const O=ag.relative(_.start,_.finish);return xw(y,O)},situsFromPoint:(_,O)=>Tw(y,_,O).map(F=>mc(F.start,F.soffset,F.finish,F.foffset)),clearSelection:()=>{(_=>{cg(_).each(O=>O.removeAllRanges())})(y)},collapseSelection:(_=!1)=>{mS(y).each(O=>O.fold(F=>F.collapse(_),(F,Z)=>{const q=_?F:Z;kw(y,q,q)},(F,Z,q,le)=>{const fe=_?F:q,Oe=_?Z:le;wy(y,fe,Oe,fe,Oe)}))},setSelection:_=>{wy(y,_.start,_.soffset,_.finish,_.foffset)},setRelativeSelection:(_,O)=>{kw(y,_,O)},selectNode:_=>{Ew(y,_,!1)},selectContents:_=>{Ew(y,_)},getInnerHeight:()=>y.innerHeight,getScrollY:()=>(_=>{const O=_!==void 0?_.dom:document,F=O.body.scrollLeft||O.documentElement.scrollLeft,Z=O.body.scrollTop||O.documentElement.scrollTop;return Ga(F,Z)})(tn.fromDom(y.document)).top,scrollBy:(_,O)=>{((F,Z,q)=>{const le=(q!==void 0?q.dom:document).defaultView;le&&le.scrollBy(F,Z)})(_,O,tn.fromDom(y.document))}}),ug=(y,_)=>({rows:y,cols:_}),Cy=y=>gt(y,no).exists(ko),x0=(y,_)=>Cy(y)||Cy(_),Ow=y=>y.dom.classList!==void 0,sT=(y,_)=>((O,F,Z)=>{const q=((le,fe)=>{const Oe=cn(le,fe);return Oe===void 0||Oe===""?[]:Oe.split(" ")})(O,F).concat([Z]);return xs(O,F,q.join(" ")),!0})(y,"class",_),dg=(y,_)=>{Ow(y)?y.dom.classList.add(_):sT(y,_)},w0=(y,_)=>Ow(y)&&y.dom.classList.contains(_),gS=()=>({tag:"none"}),hS=y=>({tag:"multiple",elements:y}),_d=y=>({tag:"single",element:y}),Rw=y=>{const _=tn.fromDom((fe=>{if(A(fe.target)){const Oe=tn.fromDom(fe.target);if(co(Oe)&&A(Oe.dom.shadowRoot)&&fe.composed&&fe.composedPath){const je=fe.composedPath();if(je)return Bn(je)}}return oe.from(fe.target)})(y).getOr(y.target)),O=()=>y.stopPropagation(),F=()=>y.preventDefault(),Z=(q=F,le=O,(...fe)=>q(le.apply(null,fe)));var q,le;return((fe,Oe,je,rt,ze,Ge,Xe)=>({target:fe,x:Oe,y:je,stop:rt,prevent:ze,kill:Ge,raw:Xe}))(_,y.clientX,y.clientY,O,F,Z,y)},Sy=(y,_,O,F)=>{y.dom.removeEventListener(_,O,F)},pS=me,Dp=(y,_,O)=>((F,Z,q,le)=>((fe,Oe,je,rt,ze)=>{const Ge=((Xe,pt)=>yt=>{Xe(yt)&&pt(Rw(yt))})(je,rt);return fe.dom.addEventListener(Oe,Ge,ze),{unbind:W(Sy,fe,Oe,Ge,ze)}})(F,Z,q,le,!1))(y,_,pS,O),Mb=Rw,C0=y=>!w0(tn.fromDom(y.target),"ephox-snooker-resizer-bar"),bS=(y,_)=>{const O=(Z=mf.selectedSelector,{get:()=>Wc(tn.fromDom(y.getBody()),Z).fold(()=>Ar(Hc(y),ei(y)).fold(gS,_d),hS)}),F=((q,le,fe)=>{const Oe=Ge=>{$o(Ge,q.selected),$o(Ge,q.firstSelected),$o(Ge,q.lastSelected)},je=Ge=>{xs(Ge,q.selected,"1")},rt=Ge=>{ze(Ge),fe()},ze=Ge=>{const Xe=Vs(Ge,`${q.selectedSelector},${q.firstSelectedSelector},${q.lastSelectedSelector}`);st(Xe,Oe)};return{clearBeforeUpdate:ze,clear:rt,selectRange:(Ge,Xe,pt,yt)=>{rt(Ge),st(Xe,je),xs(pt,q.firstSelected,"1"),xs(yt,q.lastSelected,"1"),le(Xe,pt,yt)},selectedSelector:q.selectedSelector,firstSelectedSelector:q.firstSelectedSelector,lastSelectedSelector:q.lastSelectedSelector}})(mf,(q,le,fe)=>{Dl(le).each(Oe=>{const je=I(q,Xe=>Xe.dom),rt=kc(y),ze=ir(K,tn.fromDom(y.getDoc()),rt),Ge=((Xe,pt,yt)=>{const Kt=Yo(Xe);return Qa(Kt,pt).map(jt=>{const Wt=Vn(Kt,yt,!1),{rows:Gt}=fr(Wt),fn=((St,Mn)=>{const po=St.slice(0,Mn[Mn.length-1].row+1),zo=Ko(po);return Ve(zo,Ao=>{const bo=Ao.cells.slice(0,Mn[Mn.length-1].column+1);return I(bo,Vo=>Vo.element)})})(Gt,jt),hn=((St,Mn)=>{const po=St.slice(Mn[0].row+Mn[0].rowspan-1,St.length),zo=Ko(po);return Ve(zo,Ao=>{const bo=Ao.cells.slice(Mn[0].column+Mn[0].colspan-1,Ao.cells.length);return I(bo,Vo=>Vo.element)})})(Gt,jt);return{upOrLeftCells:fn,downOrRightCells:hn}})})(Oe,{selection:Kc(y)},ze).map(Xe=>qe(Xe,pt=>I(pt,yt=>yt.dom))).getOrUndefined();((Xe,pt,yt,Kt,jt)=>{Xe.dispatch("TableSelectionChange",{cells:pt,start:yt,finish:Kt,otherCells:jt})})(y,je,le.dom,fe.dom,Ge)})},()=>(q=>{q.dispatch("TableSelectionClear")})(y));var Z;return y.on("init",q=>{const le=y.getWin(),fe=Is(y),Oe=ei(y),je=((yt,Kt,jt,Wt)=>{const Gt=((fn,hn,St,Mn)=>{const po=vy(),zo=po.clear,Ao=bo=>{po.on(Vo=>{Mn.clearBeforeUpdate(hn),p0(bo.target,St).each(ws=>{Uc(Vo,ws,St).each(Ri=>{const wl=Ri.boxes.getOr([]);if(wl.length===1){const Ba=wl[0],yu=jn(Ba)==="false",hh=rn(Mo(bo.target),Ba,js);yu&&hh&&Mn.selectRange(hn,wl,Ba,Ba)}else wl.length>1&&(Mn.selectRange(hn,wl,Ri.start,Ri.finish),fn.selectContents(ws))})})})};return{clearstate:zo,mousedown:bo=>{Mn.clear(hn),p0(bo.target,St).filter(yy).each(po.set)},mouseover:bo=>{Ao(bo)},mouseup:bo=>{Ao(bo),zo()}}})(Aw(yt),Kt,jt,Wt);return{clearstate:Gt.clearstate,mousedown:Gt.mousedown,mouseover:Gt.mouseover,mouseup:Gt.mouseup}})(le,fe,Oe,F),rt=((yt,Kt,jt,Wt)=>{const Gt=Aw(yt),fn=()=>(Wt.clear(Kt),oe.none());return{keydown:(hn,St,Mn,po,zo,Ao)=>{const bo=hn.raw,Vo=bo.which,ws=bo.shiftKey===!0;return dp(Kt,Wt.selectedSelector).fold(()=>(Rp(Vo)&&!ws&&Wt.clearBeforeUpdate(Kt),Rp(Vo)&&ws&&!x0(St,po)?oe.none:Op(Vo)&&ws?W(Gc,Gt,Kt,jt,fS,po,St,Wt.selectRange):v0(Vo)&&ws?W(Gc,Gt,Kt,jt,b0,po,St,Wt.selectRange):Op(Vo)?W(ym,Gt,jt,fS,po,St,dh):v0(Vo)?W(ym,Gt,jt,b0,po,St,Db):oe.none),wl=>{const Ba=yu=>()=>ee(yu,Cl=>((yf,Bb,gg,Fb,Ry)=>ba(Fb,yf,Bb,Ry.firstSelectedSelector,Ry.lastSelectedSelector).map(hg=>(Ry.clearBeforeUpdate(gg),Ry.selectRange(gg,hg.boxes,hg.start,hg.finish),hg.boxes)))(Cl.rows,Cl.cols,Kt,wl,Wt)).fold(()=>df(Kt,Wt.firstSelectedSelector,Wt.lastSelectedSelector).map(Cl=>{const yf=Op(Vo)||Ao.isForward(Vo)?er.after:er.before;return Gt.setRelativeSelection(er.on(Cl.first,0),yf(Cl.table)),Wt.clear(Kt),Yr(oe.none(),!0)}),Cl=>oe.some(Yr(oe.none(),!0)));return Rp(Vo)&&ws&&!x0(St,po)?oe.none:Op(Vo)&&ws?Ba([ug(1,0)]):v0(Vo)&&ws?Ba([ug(-1,0)]):Ao.isBackward(Vo)&&ws?Ba([ug(0,-1),ug(-1,0)]):Ao.isForward(Vo)&&ws?Ba([ug(0,1),ug(1,0)]):Rp(Vo)&&!ws?fn:oe.none})()},keyup:(hn,St,Mn,po,zo)=>dp(Kt,Wt.selectedSelector).fold(()=>{const Ao=hn.raw,bo=Ao.which;return Ao.shiftKey===!0&&Rp(bo)&&x0(St,po)?((Vo,ws,Ri,wl,Ba,yu,hh)=>js(Ri,Ba)&&wl===yu?oe.none():ut(Ri,"td,th",ws).bind(Cl=>ut(Ba,"td,th",ws).bind(yf=>a0(Vo,ws,Cl,yf,hh))))(Kt,jt,St,Mn,po,zo,Wt.selectRange):oe.none()},oe.none)}})(le,fe,Oe,F),ze=((yt,Kt,jt,Wt)=>{const Gt=Aw(yt);return(fn,hn)=>{Wt.clearBeforeUpdate(Kt),Uc(fn,hn,jt).each(St=>{const Mn=St.boxes.getOr([]);Wt.selectRange(Kt,Mn,St.start,St.finish),Gt.selectContents(hn),Gt.collapseSelection()})}})(le,fe,Oe,F);y.on("TableSelectorChange",yt=>ze(yt.start,yt.finish));const Ge=(yt,Kt)=>{(jt=>jt.raw.shiftKey===!0)(yt)&&(Kt.kill&&yt.kill(),Kt.selection.each(jt=>{const Wt=ag.relative(jt.start,jt.finish),Gt=yw(le,Wt);y.selection.setRng(Gt)}))},Xe=yt=>yt.button===0,pt=(()=>{const yt=by(tn.fromDom(fe)),Kt=by(0);return{touchEnd:jt=>{const Wt=tn.fromDom(jt.target);if(Ss("td")(Wt)||Ss("th")(Wt)){const Gt=yt.get(),fn=Kt.get();js(Gt,Wt)&&jt.timeStamp-fn<300&&(jt.preventDefault(),ze(Wt,Wt))}yt.set(Wt),Kt.set(jt.timeStamp)}}})();y.on("dragstart",yt=>{je.clearstate()}),y.on("mousedown",yt=>{Xe(yt)&&C0(yt)&&je.mousedown(Mb(yt))}),y.on("mouseover",yt=>{var Kt;(Kt=yt).buttons!==void 0&&(1&Kt.buttons)==0||!C0(yt)||je.mouseover(Mb(yt))}),y.on("mouseup",yt=>{Xe(yt)&&C0(yt)&&je.mouseup(Mb(yt))}),y.on("touchend",pt.touchEnd),y.on("keyup",yt=>{const Kt=Mb(yt);if(Kt.raw.shiftKey&&Rp(Kt.raw.which)){const jt=y.selection.getRng(),Wt=tn.fromDom(jt.startContainer),Gt=tn.fromDom(jt.endContainer);rt.keyup(Kt,Wt,jt.startOffset,Gt,jt.endOffset).each(fn=>{Ge(Kt,fn)})}}),y.on("keydown",yt=>{const Kt=Mb(yt);_.hide();const jt=y.selection.getRng(),Wt=tn.fromDom(jt.startContainer),Gt=tn.fromDom(jt.endContainer),fn=ss(rg,ig)(tn.fromDom(y.selection.getStart()));rt.keydown(Kt,Wt,jt.startOffset,Gt,jt.endOffset,fn).each(hn=>{Ge(Kt,hn)}),_.show()}),y.on("NodeChange",()=>{const yt=y.selection,Kt=tn.fromDom(yt.getStart()),jt=tn.fromDom(yt.getEnd());uf(Dl,[Kt,jt]).fold(()=>F.clear(fe),K)})}),y.on("PreInit",()=>{y.serializer.addTempAttr(mf.firstSelected),y.serializer.addTempAttr(mf.lastSelected)}),{getSelectedCells:()=>((q,le,fe,Oe)=>{switch(q.tag){case"none":return le();case"single":return(je=>[je.dom])(q.element);case"multiple":return(je=>I(je,rt=>rt.dom))(q.elements)}})(O.get(),G([])),clearSelectedCells:q=>F.clear(tn.fromDom(q))}},kd=y=>{let _=[];return{bind:O=>{if(O===void 0)throw new Error("Event bind error: undefined handler");_.push(O)},unbind:O=>{_=Ft(_,F=>F!==O)},trigger:(...O)=>{const F={};st(y,(Z,q)=>{F[Z]=O[q]}),st(_,Z=>{Z(F)})}}},fh=y=>({registry:qe(y,_=>({bind:_.bind,unbind:_.unbind})),trigger:qe(y,_=>_.trigger)}),S0=y=>y.slice(0).sort(),_0=(y,_)=>{const O=Ft(_,F=>!dt(y,F));O.length>0&&(F=>{throw new Error("Unsupported keys for object: "+S0(F).join(", "))})(O)},_y=y=>((_,O)=>((F,Z,q)=>{if(Z.length===0)throw new Error("You must specify at least one required field.");return((le,fe)=>{if(!x(fe))throw new Error("The "+le+" fields must be an array. Was: "+fe+".");st(fe,Oe=>{if(!m(Oe))throw new Error("The value "+Oe+" in the "+le+" fields was not a string.")})})("required",Z),(le=>{const fe=S0(le);Rn(fe,(Oe,je)=>je<fe.length-1&&Oe===fe[je+1]).each(Oe=>{throw new Error("The field: "+Oe+" occurs more than once in the combined fields: ["+fe.join(", ")+"].")})})(Z),le=>{const fe=vo(le);bt(Z,je=>dt(fe,je))||((je,rt)=>{throw new Error("All required keys ("+S0(je).join(", ")+") were not specified. Specified keys were: "+S0(rt).join(", ")+".")})(Z,fe),F(Z,fe);const Oe=Ft(Z,je=>!q.validate(le[je],je));return Oe.length>0&&((je,rt)=>{throw new Error("All values need to be of type: "+rt+". Keys ("+S0(je).join(", ")+") were not.")})(Oe,q.label),le}})(_,O,{validate:M,label:"function"}))(_0,y),k0=_y(["compare","extract","mutate","sink"]),sl=_y(["element","start","stop","destroy"]),ky=_y(["forceDrop","drop","move","delayDrop"]),mh=()=>{const y=(()=>{const F=fh({move:kd(["info"])});return{onEvent:K,reset:K,events:F.registry}})(),_=(()=>{let F=oe.none();const Z=fh({move:kd(["info"])});return{onEvent:(q,le)=>{le.extract(q).each(fe=>{((je,rt)=>{const ze=F.map(Ge=>je.compare(Ge,rt));return F=oe.some(rt),ze})(le,fe).each(je=>{Z.trigger.move(je)})})},reset:()=>{F=oe.none()},events:Z.registry}})();let O=y;return{on:()=>{O.reset(),O=_},off:()=>{O.reset(),O=y},isOn:()=>O===_,onEvent:(F,Z)=>{O.onEvent(F,Z)},events:_.events}},gh=y=>{const _=y.replace(/\./g,"-");return{resolve:O=>_+"-"+O}},E0=gh("ephox-dragster").resolve;var Ey=k0({compare:(y,_)=>Ga(_.left-y.left,_.top-y.top),extract:y=>oe.some(Ga(y.x,y.y)),sink:(y,_)=>{const O=(fe=>{const Oe={layerClass:E0("blocker"),...fe},je=tn.fromTag("div");return xs(je,"role","presentation"),ic(je,{position:"fixed",left:"0px",top:"0px",width:"100%",height:"100%"}),dg(je,E0("blocker")),dg(je,Oe.layerClass),{element:G(je),destroy:()=>{dr(je)}}})(_),F=Dp(O.element(),"mousedown",y.forceDrop),Z=Dp(O.element(),"mouseup",y.drop),q=Dp(O.element(),"mousemove",y.move),le=Dp(O.element(),"mouseout",y.delayDrop);return sl({element:O.element,start:fe=>{Tr(fe,O.element())},stop:()=>{dr(O.element())},destroy:()=>{O.destroy(),Z.unbind(),q.unbind(),le.unbind(),F.unbind()}})},mutate:(y,_)=>{y.mutate(_.left,_.top)}});const Pp=gh("ephox-snooker").resolve,fg=Pp("resizer-bar"),Iw=Pp("resizer-rows"),Ty=Pp("resizer-cols"),Jl=y=>{const _=Vs(y.parent(),"."+fg);st(_,dr)},mg=(y,_,O)=>{const F=y.origin();st(_,Z=>{Z.each(q=>{const le=O(F,q);dg(le,fg),Tr(y.parent(),le)})})},Dw=(y,_,O,F,Z)=>{const q=of(O),le=_.isResizable,fe=F.length>0?$u.positions(F,O):[],Oe=fe.length>0?((ze,Ge)=>Ve(ze.all,(Xe,pt)=>Ge(Xe.element)?[pt]:[]))(y,le):[];((ze,Ge,Xe,pt)=>{mg(ze,Ge,(yt,Kt)=>{const jt=((Wt,Gt,fn,hn,St)=>{const Mn=tn.fromTag("div");return ic(Mn,{position:"absolute",left:Gt+"px",top:fn-3.5+"px",height:"7px",width:hn+"px"}),la(Mn,{"data-row":Wt,role:"presentation"}),Mn})(Kt.row,Xe.left-yt.left,Kt.y-yt.top,pt);return dg(jt,Iw),jt})})(_,Ft(fe,(ze,Ge)=>Me(Oe,Xe=>Ge===Xe)),q,ef(O));const je=Z.length>0?sf.positions(Z,O):[],rt=je.length>0?((ze,Ge)=>{const Xe=[];return Ne(ze.grid.columns,pt=>{_s(ze,pt).map(yt=>yt.element).forall(Ge)&&Xe.push(pt)}),Ft(Xe,pt=>{const yt=Ni(ze,Kt=>Kt.column===pt);return bt(yt,Kt=>Ge(Kt.element))})})(y,le):[];((ze,Ge,Xe,pt)=>{mg(ze,Ge,(yt,Kt)=>{const jt=((Wt,Gt,fn,hn,St)=>{const Mn=tn.fromTag("div");return ic(Mn,{position:"absolute",left:Gt-3.5+"px",top:fn+"px",height:St+"px",width:"7px"}),la(Mn,{"data-column":Wt,role:"presentation"}),Mn})(Kt.col,Kt.x-yt.left,Xe.top-yt.top,0,pt);return dg(jt,Ty),jt})})(_,Ft(je,(ze,Ge)=>Me(rt,Xe=>Ge===Xe)),q,Wg(O))},Dt=(y,_)=>{if(Jl(y),y.isResizable(_)){const O=Yo(_),F=uu(O),Z=Jf(O);Dw(O,y,_,F,Z)}},Lb=(y,_)=>{const O=Vs(y.parent(),"."+fg);st(O,_)},rT=y=>{Lb(y,_=>{Uo(_,"display","none")})},vS=y=>{Lb(y,_=>{Uo(_,"display","block")})},Ay=Pp("resizer-bar-dragging"),Ed=y=>{const _=(()=>{const ze=fh({drag:kd(["xDelta","yDelta","target"])});let Ge=oe.none();const Xe=(()=>{const pt=fh({drag:kd(["xDelta","yDelta"])});return{mutate:(yt,Kt)=>{pt.trigger.drag(yt,Kt)},events:pt.registry}})();return Xe.events.drag.bind(pt=>{Ge.each(yt=>{ze.trigger.drag(pt.xDelta,pt.yDelta,yt)})}),{assign:pt=>{Ge=oe.some(pt)},get:()=>Ge,mutate:Xe.mutate,events:ze.registry}})(),O=((ze,Ge={})=>{var Xe;return((pt,yt,Kt)=>{let jt=!1;const Wt=fh({start:kd([]),stop:kd([])}),Gt=mh(),fn=()=>{Mn.stop(),Gt.isOn()&&(Gt.off(),Wt.trigger.stop())},hn=((po,zo)=>{let Ao=null;const bo=()=>{w(Ao)||(clearTimeout(Ao),Ao=null)};return{cancel:bo,throttle:(...Vo)=>{bo(),Ao=setTimeout(()=>{Ao=null,po.apply(null,Vo)},200)}}})(fn);Gt.events.move.bind(po=>{yt.mutate(pt,po.info)});const St=po=>(...zo)=>{jt&&po.apply(null,zo)},Mn=yt.sink(ky({forceDrop:fn,drop:St(fn),move:St(po=>{hn.cancel(),Gt.onEvent(po,yt)}),delayDrop:St(hn.throttle)}),Kt);return{element:Mn.element,go:po=>{Mn.start(po),Gt.on(),Wt.trigger.start()},on:()=>{jt=!0},off:()=>{jt=!1},isActive:()=>jt,destroy:()=>{Mn.destroy()},events:Wt.registry}})(ze,(Xe=Ge.mode)!==null&&Xe!==void 0?Xe:Ey,Ge)})(_,{});let F=oe.none();const Z=(ze,Ge)=>oe.from(cn(ze,Ge));_.events.drag.bind(ze=>{Z(ze.target,"data-row").each(Ge=>{const Xe=Yf(ze.target,"top");Uo(ze.target,"top",Xe+ze.yDelta+"px")}),Z(ze.target,"data-column").each(Ge=>{const Xe=Yf(ze.target,"left");Uo(ze.target,"left",Xe+ze.xDelta+"px")})});const q=(ze,Ge)=>Yf(ze,Ge)-Or(ze,"data-initial-"+Ge,0);O.events.stop.bind(()=>{_.get().each(ze=>{F.each(Ge=>{Z(ze,"data-row").each(Xe=>{const pt=q(ze,"top");$o(ze,"data-initial-top"),rt.trigger.adjustHeight(Ge,pt,parseInt(Xe,10))}),Z(ze,"data-column").each(Xe=>{const pt=q(ze,"left");$o(ze,"data-initial-left"),rt.trigger.adjustWidth(Ge,pt,parseInt(Xe,10))}),Dt(y,Ge)})})});const le=(ze,Ge)=>{rt.trigger.startAdjust(),_.assign(ze),xs(ze,"data-initial-"+Ge,Yf(ze,Ge)),dg(ze,Ay),Uo(ze,"opacity","0.2"),O.go(y.parent())},fe=Dp(y.parent(),"mousedown",ze=>{var Ge;Ge=ze.target,w0(Ge,Iw)&&le(ze.target,"top"),(Xe=>w0(Xe,Ty))(ze.target)&&le(ze.target,"left")}),Oe=ze=>js(ze,y.view()),je=Dp(y.view(),"mouseover",ze=>{var Ge;(Ge=ze.target,ut(Ge,"table",Oe).filter(ko)).fold(()=>{hl(ze.target)&&Jl(y)},Xe=>{O.isActive()&&(F=oe.some(Xe),Dt(y,Xe))})}),rt=fh({adjustHeight:kd(["table","delta","row"]),adjustWidth:kd(["table","delta","column"]),startAdjust:kd([])});return{destroy:()=>{fe.unbind(),je.unbind(),O.destroy(),Jl(y)},refresh:ze=>{Dt(y,ze)},on:O.on,off:O.off,hideBars:W(rT,y),showBars:W(vS,y),events:rt.registry}},Oy=y=>A(y)&&y.nodeName==="TABLE",T0="bar-",Pw=y=>cn(y,"data-mce-resize")!=="false",Nw=y=>{const _=vy(),O=vy(),F=vy();let Z,q,le,fe;const Oe=ze=>ng(y,ze),je=()=>sm(y)?fp():Gu(),rt=(ze,Ge,Xe,pt)=>{const yt=(Wt=>{return Po(Gt=Wt,"corner-")?((fn,hn)=>fn.substring(7))(Gt):Gt;var Gt})(Ge),Kt=xn(yt,"e"),jt=Po(yt,"n");if(q===""&&Cp(ze),fe===""&&(Wt=>{const Gt=(fn=>Fu(fn)+"px")(Wt);br(Wt,oe.none(),oe.some(Gt)),Cd(Wt)})(ze),Xe!==Z&&q!==""){Uo(ze,"width",q);const Wt=je(),Gt=Oe(ze),fn=sm(y)||Kt?(hn=>pu(hn).columns)(ze)-1:0;mm(ze,Xe-Z,fn,Wt,Gt)}else if((Wt=>/^(\d+(\.\d+)?)%$/.test(Wt))(q)){const Wt=parseFloat(q.replace("%",""));Uo(ze,"width",Xe*Wt/Z+"%")}if((Wt=>/^(\d+(\.\d+)?)px$/.test(Wt))(q)&&(Wt=>{const Gt=Yo(Wt);Lc(Gt)||st(Rr(Wt),fn=>{const hn=Ra(fn,"width");Uo(fn,"width",hn),$o(fn,"width")})})(ze),pt!==le&&fe!==""){Uo(ze,"height",fe);const Wt=jt?0:(Gt=>pu(Gt).rows)(ze)-1;gp(ze,pt-le,Wt)}};return y.on("init",()=>{const ze=((Ge,Xe)=>Ge.inline?((pt,yt,Kt)=>({parent:G(yt),view:G(pt),origin:G(Ga(0,0)),isResizable:Kt}))(tn.fromDom(Ge.getBody()),(()=>{const pt=tn.fromTag("div");return ic(pt,{position:"static",height:"0",width:"0",padding:"0",margin:"0",border:"0"}),Tr(ru(tn.fromDom(document)),pt),pt})(),Xe):((pt,yt)=>{const Kt=Ho(pt)?(jt=>tn.fromDom(Dc(jt).dom.documentElement))(pt):pt;return{parent:G(Kt),view:G(pt),origin:G(Ga(0,0)),isResizable:yt}})(tn.fromDom(Ge.getDoc()),Xe))(y,Pw);if(F.set(ze),(Ge=>{const Xe=Ge.options.get("object_resizing");return dt(Xe.split(","),"table")})(y)&&de(y)){const Ge=((Xe,pt,yt)=>{const Kt=$u,jt=sf,Wt=Ed(Xe),Gt=fh({beforeResize:kd(["table","type"]),afterResize:kd(["table","type"]),startDrag:kd([])});return Wt.events.adjustHeight.bind(fn=>{const hn=fn.table;Gt.trigger.beforeResize(hn,"row");const St=Kt.delta(fn.delta,hn);gp(hn,St,fn.row),Gt.trigger.afterResize(hn,"row")}),Wt.events.startAdjust.bind(fn=>{Gt.trigger.startDrag()}),Wt.events.adjustWidth.bind(fn=>{const hn=fn.table;Gt.trigger.beforeResize(hn,"col");const St=jt.delta(fn.delta,hn),Mn=yt(hn);mm(hn,St,fn.column,pt,Mn),Gt.trigger.afterResize(hn,"col")}),{on:Wt.on,off:Wt.off,refreshBars:Wt.refresh,hideBars:Wt.hideBars,showBars:Wt.showBars,destroy:Wt.destroy,events:Gt.registry}})(ze,je(),Oe);Ge.on(),Ge.events.startDrag.bind(Xe=>{_.set(y.selection.getRng())}),Ge.events.beforeResize.bind(Xe=>{const pt=Xe.table.dom;((yt,Kt,jt,Wt,Gt)=>{yt.dispatch("ObjectResizeStart",{target:Kt,width:jt,height:Wt,origin:Gt})})(y,pt,af(pt),rm(pt),T0+Xe.type)}),Ge.events.afterResize.bind(Xe=>{const pt=Xe.table,yt=pt.dom;Pr(pt),_.on(Kt=>{y.selection.setRng(Kt),y.focus()}),((Kt,jt,Wt,Gt,fn)=>{Kt.dispatch("ObjectResized",{target:jt,width:Wt,height:Gt,origin:fn})})(y,yt,af(yt),rm(yt),T0+Xe.type),y.undoManager.add()}),O.set(Ge)}}),y.on("ObjectResizeStart",ze=>{const Ge=ze.target;if(Oy(Ge)){const Xe=tn.fromDom(Ge);st(y.dom.select(".mce-clonedresizable"),pt=>{y.dom.addClass(pt,"mce-"+vd(y)+"-columns")}),!Lr(Xe)&&L(y)?fc(Xe):!uy(Xe)&&ju(y)&&Cp(Xe),bf(Xe)&&Po(ze.origin,T0)&&Cp(Xe),Z=ze.width,q=Y(y)?"":Y1(y,Ge).getOr(""),le=ze.height,fe=lp(y,Ge).getOr("")}}),y.on("ObjectResized",ze=>{const Ge=ze.target;if(Oy(Ge)){const Xe=tn.fromDom(Ge),pt=ze.origin;(yt=>Po(yt,"corner-"))(pt)&&rt(Xe,pt,ze.width,ze.height),Pr(Xe),hm(y,Xe.dom,ay)}}),y.on("SwitchMode",()=>{O.on(ze=>{y.mode.isReadOnly()?ze.hideBars():ze.showBars()})}),y.on("dragstart dragend",ze=>{O.on(Ge=>{ze.type==="dragstart"?(Ge.hideBars(),Ge.off()):(Ge.on(),Ge.showBars())})}),y.on("remove",()=>{O.on(ze=>{ze.destroy()}),F.on(ze=>{((Ge,Xe)=>{Ge.inline&&dr(Xe.parent())})(y,ze)})}),{refresh:ze=>{O.on(Ge=>Ge.refreshBars(tn.fromDom(ze)))},hide:()=>{O.on(ze=>ze.hideBars())},show:()=>{O.on(ze=>ze.showBars())}}},iT=y=>{(Z=>{const q=Z.options.register;q("table_clone_elements",{processor:"string[]"}),q("table_use_colgroups",{processor:"boolean",default:!0}),q("table_header_type",{processor:le=>{const fe=dt(["section","cells","sectionCells","auto"],le);return fe?{value:le,valid:fe}:{valid:!1,message:"Must be one of: section, cells, sectionCells or auto."}},default:"section"}),q("table_sizing_mode",{processor:"string",default:"auto"}),q("table_default_attributes",{processor:"object",default:{border:"1"}}),q("table_default_styles",{processor:"object",default:{"border-collapse":"collapse"}}),q("table_column_resizing",{processor:le=>{const fe=dt(["preservetable","resizetable"],le);return fe?{value:le,valid:fe}:{valid:!1,message:"Must be preservetable, or resizetable."}},default:"preservetable"}),q("table_resize_bars",{processor:"boolean",default:!0}),q("table_style_by_css",{processor:"boolean",default:!0}),q("table_merge_content_on_paste",{processor:"boolean",default:!0})})(y);const _=Nw(y),O=bS(y,_),F=mw(y,_,O);return oi(y,F),((Z,q)=>{const le=ei(Z),fe=Oe=>Ar(Hc(Z)).bind(je=>Dl(je,le).map(rt=>{const ze=Wo(Kc(Z),rt,je);return Oe(rt,ze)})).getOr("");yn({mceTableRowType:()=>fe(q.getTableRowType),mceTableCellType:()=>fe(q.getTableCellType),mceTableColType:()=>fe(q.getTableColType)},(Oe,je)=>Z.addQueryValueHandler(je,Oe))})(y,F),jc(y,F),{getSelectedCells:O.getSelectedCells,clearSelectedCells:O.clearSelectedCells}};t.add("dom",y=>({table:iT(y)}))})();tinymce.Resource.add("ui/default/skin.css",`.tox{box-shadow:none;box-sizing:content-box;color:#222f3e;cursor:auto;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:16px;font-style:normal;font-weight:400;line-height:normal;-webkit-tap-highlight-color:transparent;-webkit-text-decoration:none;text-decoration:none;text-shadow:none;text-transform:none;vertical-align:initial;white-space:normal}.tox :not(svg):not(rect){box-sizing:inherit;color:inherit;cursor:inherit;direction:inherit;font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;line-height:inherit;-webkit-tap-highlight-color:inherit;text-align:inherit;text-decoration:inherit;text-shadow:inherit;text-transform:inherit;vertical-align:inherit;white-space:inherit}.tox :not(svg):not(rect){background:0 0;border:0;box-shadow:none;float:none;height:auto;margin:0;max-width:none;outline:0;padding:0;position:static;width:auto}.tox:not([dir=rtl]){direction:ltr;text-align:left}.tox[dir=rtl]{direction:rtl;text-align:right}.tox-tinymce{border:2px solid #eee;border-radius:10px;box-shadow:none;box-sizing:border-box;display:flex;flex-direction:column;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;overflow:hidden;position:relative;visibility:inherit!important}.tox.tox-tinymce-inline{border:none;box-shadow:none;overflow:initial}.tox.tox-tinymce-inline .tox-editor-container{overflow:initial}.tox.tox-tinymce-inline .tox-editor-header{background-color:#fff;border:2px solid #eee;border-radius:10px;box-shadow:none;overflow:hidden}.tox-tinymce-aux{font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;z-index:1300}.tox-tinymce :focus,.tox-tinymce-aux :focus{outline:0}button::-moz-focus-inner{border:0}.tox[dir=rtl] .tox-icon--flip svg{transform:rotateY(180deg)}.tox .accessibility-issue__header{align-items:center;display:flex;margin-bottom:4px}.tox .accessibility-issue__description{align-items:stretch;border-radius:6px;display:flex;justify-content:space-between}.tox .accessibility-issue__description>div{padding-bottom:4px}.tox .accessibility-issue__description>div>div{align-items:center;display:flex;margin-bottom:4px}.tox .accessibility-issue__description>div>div .tox-icon svg{display:block}.tox .accessibility-issue__repair{margin-top:16px}.tox .tox-dialog__body-content .accessibility-issue--info .accessibility-issue__description{background-color:rgba(0,101,216,.1);color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--info .tox-form__group h2{color:#006ce7}.tox .tox-dialog__body-content .accessibility-issue--info .tox-icon svg{fill:#006ce7}.tox .tox-dialog__body-content .accessibility-issue--info a.tox-button--naked.tox-button--icon{background-color:#006ce7;color:#fff}.tox .tox-dialog__body-content .accessibility-issue--info a.tox-button--naked.tox-button--icon:focus,.tox .tox-dialog__body-content .accessibility-issue--info a.tox-button--naked.tox-button--icon:hover{background-color:#0060ce}.tox .tox-dialog__body-content .accessibility-issue--info a.tox-button--naked.tox-button--icon:active{background-color:#0054b4}.tox .tox-dialog__body-content .accessibility-issue--warn .accessibility-issue__description{background-color:rgba(255,165,0,.08);color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--warn .tox-form__group h2{color:#8f5d00}.tox .tox-dialog__body-content .accessibility-issue--warn .tox-icon svg{fill:#8f5d00}.tox .tox-dialog__body-content .accessibility-issue--warn a.tox-button--naked.tox-button--icon{background-color:#ffe89d;color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--warn a.tox-button--naked.tox-button--icon:focus,.tox .tox-dialog__body-content .accessibility-issue--warn a.tox-button--naked.tox-button--icon:hover{background-color:#f2d574;color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--warn a.tox-button--naked.tox-button--icon:active{background-color:#e8c657;color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--error .accessibility-issue__description{background-color:rgba(204,0,0,.1);color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--error .tox-form__group h2{color:#c00}.tox .tox-dialog__body-content .accessibility-issue--error .tox-icon svg{fill:#c00}.tox .tox-dialog__body-content .accessibility-issue--error a.tox-button--naked.tox-button--icon{background-color:#f2bfbf;color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--error a.tox-button--naked.tox-button--icon:focus,.tox .tox-dialog__body-content .accessibility-issue--error a.tox-button--naked.tox-button--icon:hover{background-color:#e9a4a4;color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--error a.tox-button--naked.tox-button--icon:active{background-color:#ee9494;color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--success .accessibility-issue__description{background-color:rgba(120,171,70,.1);color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--success .accessibility-issue__description>:last-child{display:none}.tox .tox-dialog__body-content .accessibility-issue--success .tox-form__group h2{color:#527530}.tox .tox-dialog__body-content .accessibility-issue--success .tox-icon svg{fill:#527530}.tox .tox-dialog__body-content .accessibility-issue__header .tox-form__group h1,.tox .tox-dialog__body-content .tox-form__group .accessibility-issue__description h2{font-size:14px;margin-top:0}.tox:not([dir=rtl]) .tox-dialog__body-content .accessibility-issue__header .tox-button{margin-left:4px}.tox:not([dir=rtl]) .tox-dialog__body-content .accessibility-issue__header>:nth-last-child(2){margin-left:auto}.tox:not([dir=rtl]) .tox-dialog__body-content .accessibility-issue__description{padding:4px 4px 4px 8px}.tox[dir=rtl] .tox-dialog__body-content .accessibility-issue__header .tox-button{margin-right:4px}.tox[dir=rtl] .tox-dialog__body-content .accessibility-issue__header>:nth-last-child(2){margin-right:auto}.tox[dir=rtl] .tox-dialog__body-content .accessibility-issue__description{padding:4px 8px 4px 4px}.tox .mce-codemirror{background:#fff;bottom:0;font-size:13px;left:0;position:absolute;right:0;top:0;z-index:1}.tox .mce-codemirror.tox-inline-codemirror{margin:8px;position:absolute}.tox .tox-advtemplate .tox-form__grid{flex:1}.tox .tox-advtemplate .tox-form__grid>div:first-child{display:flex;flex-direction:column;width:30%}.tox .tox-advtemplate .tox-form__grid>div:first-child>div:nth-child(2){flex-basis:0;flex-grow:1;overflow:auto}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox .tox-advtemplate .tox-form__grid>div:first-child{width:100%}}.tox .tox-advtemplate iframe{border-color:#eee;border-radius:10px;border-style:solid;border-width:1px;margin:0 10px}.tox .tox-anchorbar{display:flex;flex:0 0 auto}.tox .tox-bottom-anchorbar{display:flex;flex:0 0 auto}.tox .tox-bar{display:flex;flex:0 0 auto}.tox .tox-button{background-color:#006ce7;background-image:none;background-position:0 0;background-repeat:repeat;border-color:#006ce7;border-radius:6px;border-style:solid;border-width:1px;box-shadow:none;box-sizing:border-box;color:#fff;cursor:pointer;display:inline-block;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:14px;font-style:normal;font-weight:700;letter-spacing:normal;line-height:24px;margin:0;outline:0;padding:4px 16px;position:relative;text-align:center;-webkit-text-decoration:none;text-decoration:none;text-transform:none;white-space:nowrap}.tox .tox-button::before{border-radius:6px;bottom:-1px;box-shadow:inset 0 0 0 1px #fff,0 0 0 2px #006ce7;content:'';left:-1px;opacity:0;pointer-events:none;position:absolute;right:-1px;top:-1px}.tox .tox-button[disabled]{background-color:#006ce7;background-image:none;border-color:#006ce7;box-shadow:none;color:rgba(255,255,255,.5);cursor:not-allowed}.tox .tox-button:focus:not(:disabled){background-color:#0060ce;background-image:none;border-color:#0060ce;box-shadow:none;color:#fff}.tox .tox-button:focus:not(:disabled)::before{opacity:1}.tox .tox-button:hover:not(:disabled){background-color:#0060ce;background-image:none;border-color:#0060ce;box-shadow:none;color:#fff}.tox .tox-button:active:not(:disabled){background-color:#0054b4;background-image:none;border-color:#0054b4;box-shadow:none;color:#fff}.tox .tox-button.tox-button--enabled{background-color:#0054b4;background-image:none;border-color:#0054b4;box-shadow:none;color:#fff}.tox .tox-button.tox-button--enabled[disabled]{background-color:#0054b4;background-image:none;border-color:#0054b4;box-shadow:none;color:rgba(255,255,255,.5);cursor:not-allowed}.tox .tox-button.tox-button--enabled:focus:not(:disabled){background-color:#00489b;background-image:none;border-color:#00489b;box-shadow:none;color:#fff}.tox .tox-button.tox-button--enabled:hover:not(:disabled){background-color:#00489b;background-image:none;border-color:#00489b;box-shadow:none;color:#fff}.tox .tox-button.tox-button--enabled:active:not(:disabled){background-color:#003c81;background-image:none;border-color:#003c81;box-shadow:none;color:#fff}.tox .tox-button--icon-and-text,.tox .tox-button.tox-button--icon-and-text,.tox .tox-button.tox-button--secondary.tox-button--icon-and-text{display:flex;padding:5px 4px}.tox .tox-button--icon-and-text .tox-icon svg,.tox .tox-button.tox-button--icon-and-text .tox-icon svg,.tox .tox-button.tox-button--secondary.tox-button--icon-and-text .tox-icon svg{display:block;fill:currentColor}.tox .tox-button--secondary{background-color:#f0f0f0;background-image:none;background-position:0 0;background-repeat:repeat;border-color:#f0f0f0;border-radius:6px;border-style:solid;border-width:1px;box-shadow:none;color:#222f3e;font-size:14px;font-style:normal;font-weight:700;letter-spacing:normal;outline:0;padding:4px 16px;-webkit-text-decoration:none;text-decoration:none;text-transform:none}.tox .tox-button--secondary[disabled]{background-color:#f0f0f0;background-image:none;border-color:#f0f0f0;box-shadow:none;color:rgba(34,47,62,.5)}.tox .tox-button--secondary:focus:not(:disabled){background-color:#e3e3e3;background-image:none;border-color:#e3e3e3;box-shadow:none;color:#222f3e}.tox .tox-button--secondary:hover:not(:disabled){background-color:#e3e3e3;background-image:none;border-color:#e3e3e3;box-shadow:none;color:#222f3e}.tox .tox-button--secondary:active:not(:disabled){background-color:#d6d6d6;background-image:none;border-color:#d6d6d6;box-shadow:none;color:#222f3e}.tox .tox-button--secondary.tox-button--enabled{background-color:#a8c8ed;background-image:none;border-color:#a8c8ed;box-shadow:none;color:#222f3e}.tox .tox-button--secondary.tox-button--enabled[disabled]{background-color:#a8c8ed;background-image:none;border-color:#a8c8ed;box-shadow:none;color:rgba(34,47,62,.5)}.tox .tox-button--secondary.tox-button--enabled:focus:not(:disabled){background-color:#93bbe9;background-image:none;border-color:#93bbe9;box-shadow:none;color:#222f3e}.tox .tox-button--secondary.tox-button--enabled:hover:not(:disabled){background-color:#93bbe9;background-image:none;border-color:#93bbe9;box-shadow:none;color:#222f3e}.tox .tox-button--secondary.tox-button--enabled:active:not(:disabled){background-color:#7daee4;background-image:none;border-color:#7daee4;box-shadow:none;color:#222f3e}.tox .tox-button--icon,.tox .tox-button.tox-button--icon,.tox .tox-button.tox-button--secondary.tox-button--icon{padding:4px}.tox .tox-button--icon .tox-icon svg,.tox .tox-button.tox-button--icon .tox-icon svg,.tox .tox-button.tox-button--secondary.tox-button--icon .tox-icon svg{display:block;fill:currentColor}.tox .tox-button-link{background:0;border:none;box-sizing:border-box;cursor:pointer;display:inline-block;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:16px;font-weight:400;line-height:1.3;margin:0;padding:0;white-space:nowrap}.tox .tox-button-link--sm{font-size:14px}.tox .tox-button--naked{background-color:transparent;border-color:transparent;box-shadow:unset;color:#222f3e}.tox .tox-button--naked[disabled]{background-color:rgba(34,47,62,.12);border-color:transparent;box-shadow:unset;color:rgba(34,47,62,.5)}.tox .tox-button--naked:hover:not(:disabled){background-color:rgba(34,47,62,.12);border-color:transparent;box-shadow:unset;color:#222f3e}.tox .tox-button--naked:focus:not(:disabled){background-color:rgba(34,47,62,.12);border-color:transparent;box-shadow:unset;color:#222f3e}.tox .tox-button--naked:active:not(:disabled){background-color:rgba(34,47,62,.18);border-color:transparent;box-shadow:unset;color:#222f3e}.tox .tox-button--naked .tox-icon svg{fill:currentColor}.tox .tox-button--naked.tox-button--icon:hover:not(:disabled){color:#222f3e}.tox .tox-checkbox{align-items:center;border-radius:6px;cursor:pointer;display:flex;height:36px;min-width:36px}.tox .tox-checkbox__input{height:1px;overflow:hidden;position:absolute;top:auto;width:1px}.tox .tox-checkbox__icons{align-items:center;border-radius:6px;box-shadow:0 0 0 2px transparent;box-sizing:content-box;display:flex;height:24px;justify-content:center;padding:calc(4px - 1px);width:24px}.tox .tox-checkbox__icons .tox-checkbox-icon__unchecked svg{display:block;fill:rgba(34,47,62,0.3)}@media (forced-colors:active){.tox .tox-checkbox__icons .tox-checkbox-icon__unchecked svg{fill:currentColor!important}}.tox .tox-checkbox__icons .tox-checkbox-icon__indeterminate svg{display:none;fill:#006ce7}.tox .tox-checkbox__icons .tox-checkbox-icon__checked svg{display:none;fill:#006ce7}.tox .tox-checkbox--disabled{color:rgba(34,47,62,.5);cursor:not-allowed}.tox .tox-checkbox--disabled .tox-checkbox__icons .tox-checkbox-icon__checked svg{fill:rgba(34,47,62,0.5)}.tox .tox-checkbox--disabled .tox-checkbox__icons .tox-checkbox-icon__unchecked svg{fill:rgba(34,47,62,0.5)}.tox .tox-checkbox--disabled .tox-checkbox__icons .tox-checkbox-icon__indeterminate svg{fill:rgba(34,47,62,0.5)}.tox input.tox-checkbox__input:checked+.tox-checkbox__icons .tox-checkbox-icon__unchecked svg{display:none}.tox input.tox-checkbox__input:checked+.tox-checkbox__icons .tox-checkbox-icon__checked svg{display:block}.tox input.tox-checkbox__input:indeterminate+.tox-checkbox__icons .tox-checkbox-icon__unchecked svg{display:none}.tox input.tox-checkbox__input:indeterminate+.tox-checkbox__icons .tox-checkbox-icon__indeterminate svg{display:block}.tox input.tox-checkbox__input:focus+.tox-checkbox__icons{border-radius:6px;box-shadow:inset 0 0 0 1px #006ce7;padding:calc(4px - 1px)}.tox:not([dir=rtl]) .tox-checkbox__label{margin-left:4px}.tox:not([dir=rtl]) .tox-checkbox__input{left:-10000px}.tox:not([dir=rtl]) .tox-bar .tox-checkbox{margin-left:4px}.tox[dir=rtl] .tox-checkbox__label{margin-right:4px}.tox[dir=rtl] .tox-checkbox__input{right:-10000px}.tox[dir=rtl] .tox-bar .tox-checkbox{margin-right:4px}.tox .tox-collection--toolbar .tox-collection__group{display:flex;padding:0}.tox .tox-collection--grid .tox-collection__group{display:flex;flex-wrap:wrap;max-height:208px;overflow-x:hidden;overflow-y:auto;padding:0}.tox .tox-collection--list .tox-collection__group{border-bottom-width:0;border-color:#e3e3e3;border-left-width:0;border-right-width:0;border-style:solid;border-top-width:1px;padding:4px 0}.tox .tox-collection--list .tox-collection__group:first-child{border-top-width:0}.tox .tox-collection__group-heading{background-color:#fcfcfc;color:rgba(34,47,62,.7);cursor:default;font-size:12px;font-style:normal;font-weight:400;margin-bottom:4px;margin-top:-4px;padding:4px 8px;text-transform:none;-webkit-touch-callout:none;-webkit-user-select:none;user-select:none}.tox .tox-collection__item{align-items:center;border-radius:3px;color:#222f3e;display:flex;-webkit-touch-callout:none;-webkit-user-select:none;user-select:none}.tox .tox-collection--list .tox-collection__item{padding:4px 8px}.tox .tox-collection--toolbar .tox-collection__item{border-radius:3px;padding:4px}.tox .tox-collection--grid .tox-collection__item{border-radius:3px;padding:4px}.tox .tox-collection--list .tox-collection__item--enabled{background-color:#fff;color:#222f3e}.tox .tox-collection--list .tox-collection__item--active{background-color:#006ce7}.tox .tox-collection--toolbar .tox-collection__item--enabled,.tox .tox-collection--toolbar .tox-collection__item--enabled.tox-collection__item--active,.tox .tox-collection--toolbar .tox-collection__item--enabled.tox-collection__item--active:hover{background-color:#a6ccf7;color:#222f3e}@media (forced-colors:active){.tox .tox-collection--toolbar .tox-collection__item--enabled,.tox .tox-collection--toolbar .tox-collection__item--enabled.tox-collection__item--active,.tox .tox-collection--toolbar .tox-collection__item--enabled.tox-collection__item--active:hover{border-radius:3px;outline:solid 1px}}.tox .tox-collection--toolbar .tox-collection__item--active{background-color:#fff;position:relative}.tox .tox-collection--toolbar .tox-collection__item--active:hover{background-color:#f0f0f0;color:#222f3e}.tox .tox-collection--toolbar .tox-collection__item--active:focus{background-color:#f0f0f0;color:#222f3e}.tox .tox-collection--toolbar .tox-collection__item--active:focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-collection--toolbar .tox-collection__item--active:focus::after{border:2px solid highlight}}.tox .tox-collection--grid .tox-collection__item--enabled{background-color:#a6ccf7;color:#222f3e}.tox .tox-collection--grid .tox-collection__item--active:not(.tox-collection__item--state-disabled){background-color:#f0f0f0;color:#222f3e;position:relative;z-index:1}.tox .tox-collection--grid .tox-collection__item--active:not(.tox-collection__item--state-disabled):focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7 inset;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-collection--grid .tox-collection__item--active:not(.tox-collection__item--state-disabled):focus::after{border:2px solid highlight}}.tox .tox-collection--list .tox-collection__item--active:not(.tox-collection__item--state-disabled){color:#fff}@media (forced-colors:active){.tox .tox-collection--list .tox-collection__item--active:not(.tox-collection__item--state-disabled){border:solid 1px}}.tox .tox-collection--toolbar .tox-collection__item--active:not(.tox-collection__item--state-disabled){color:#222f3e}@media (forced-colors:active){.tox .tox-collection--toolbar .tox-collection__item--active:not(.tox-collection__item--state-disabled):hover{border-radius:3px;outline:solid 1px}}.tox .tox-collection__item-checkmark,.tox .tox-collection__item-icon{align-items:center;display:flex;height:24px;justify-content:center;width:24px}.tox .tox-collection__item-checkmark svg,.tox .tox-collection__item-icon svg{fill:currentColor}.tox .tox-collection--toolbar-lg .tox-collection__item-icon{height:48px;width:48px}.tox .tox-collection__item-label{color:currentColor;display:inline-block;flex:1;font-size:14px;font-style:normal;font-weight:400;line-height:24px;max-width:100%;text-transform:none;word-break:break-all}.tox .tox-collection__item-accessory{color:currentColor;display:inline-block;font-size:14px;height:24px;line-height:24px;text-transform:none}.tox .tox-collection__item-caret{align-items:center;display:flex;min-height:24px}.tox .tox-collection__item-caret::after{content:'';font-size:0;min-height:inherit}.tox .tox-collection__item-caret svg{fill:currentColor}.tox .tox-collection__item--state-disabled{background-color:transparent;color:rgba(34,47,62,.5);cursor:not-allowed}.tox .tox-collection__item--state-disabled .tox-collection__item-caret svg{fill:rgba(34,47,62,0.5)}.tox .tox-collection--list .tox-collection__item:not(.tox-collection__item--enabled) .tox-collection__item-checkmark svg{display:none}.tox .tox-collection--list .tox-collection__item:not(.tox-collection__item--enabled) .tox-collection__item-accessory+.tox-collection__item-checkmark{display:none}.tox .tox-collection--horizontal{background-color:#fff;border:1px solid #e3e3e3;border-radius:6px;box-shadow:0 0 2px 0 rgba(34,47,62,.2),0 4px 8px 0 rgba(34,47,62,.15);display:flex;flex:0 0 auto;flex-shrink:0;flex-wrap:nowrap;margin-bottom:0;overflow-x:auto;padding:0}.tox .tox-collection--horizontal .tox-collection__group{align-items:center;display:flex;flex-wrap:nowrap;margin:0;padding:0 4px}.tox .tox-collection--horizontal .tox-collection__item{height:28px;margin:6px 1px 5px 0;padding:0 4px}.tox .tox-collection--horizontal .tox-collection__item-label{white-space:nowrap}.tox .tox-collection--horizontal .tox-collection__item-caret{margin-left:4px}.tox .tox-collection__item-container{display:flex}.tox .tox-collection__item-container--row{align-items:center;flex:1 1 auto;flex-direction:row}.tox .tox-collection__item-container--row.tox-collection__item-container--align-left{margin-right:auto}.tox .tox-collection__item-container--row.tox-collection__item-container--align-right{justify-content:flex-end;margin-left:auto}.tox .tox-collection__item-container--row.tox-collection__item-container--valign-top{align-items:flex-start;margin-bottom:auto}.tox .tox-collection__item-container--row.tox-collection__item-container--valign-middle{align-items:center}.tox .tox-collection__item-container--row.tox-collection__item-container--valign-bottom{align-items:flex-end;margin-top:auto}.tox .tox-collection__item-container--column{align-self:center;flex:1 1 auto;flex-direction:column}.tox .tox-collection__item-container--column.tox-collection__item-container--align-left{align-items:flex-start}.tox .tox-collection__item-container--column.tox-collection__item-container--align-right{align-items:flex-end}.tox .tox-collection__item-container--column.tox-collection__item-container--valign-top{align-self:flex-start}.tox .tox-collection__item-container--column.tox-collection__item-container--valign-middle{align-self:center}.tox .tox-collection__item-container--column.tox-collection__item-container--valign-bottom{align-self:flex-end}.tox:not([dir=rtl]) .tox-collection--horizontal .tox-collection__group:not(:last-of-type){border-right:1px solid transparent}.tox:not([dir=rtl]) .tox-collection--list .tox-collection__item>:not(:first-child){margin-left:8px}.tox:not([dir=rtl]) .tox-collection--list .tox-collection__item>.tox-collection__item-label:first-child{margin-left:4px}.tox:not([dir=rtl]) .tox-collection__item-accessory{margin-left:16px;text-align:right}.tox:not([dir=rtl]) .tox-collection .tox-collection__item-caret{margin-left:16px}.tox[dir=rtl] .tox-collection--horizontal .tox-collection__group:not(:last-of-type){border-left:1px solid transparent}.tox[dir=rtl] .tox-collection--list .tox-collection__item>:not(:first-child){margin-right:8px}.tox[dir=rtl] .tox-collection--list .tox-collection__item>.tox-collection__item-label:first-child{margin-right:4px}.tox[dir=rtl] .tox-collection__item-accessory{margin-right:16px;text-align:left}.tox[dir=rtl] .tox-collection .tox-collection__item-caret{margin-right:16px;transform:rotateY(180deg)}.tox[dir=rtl] .tox-collection--horizontal .tox-collection__item-caret{margin-right:4px}@media (forced-colors:active){.tox .tox-hue-slider,.tox .tox-rgb-form .tox-rgba-preview{background-color:currentColor!important;border:1px solid highlight!important;forced-color-adjust:none}}.tox .tox-color-picker-container{display:flex;flex-direction:row;height:225px;margin:0}.tox .tox-sv-palette{box-sizing:border-box;display:flex;height:100%}.tox .tox-sv-palette-spectrum{height:100%}.tox .tox-sv-palette,.tox .tox-sv-palette-spectrum{width:225px}.tox .tox-sv-palette-thumb{background:0 0;border:1px solid #000;border-radius:50%;box-sizing:content-box;height:12px;position:absolute;width:12px}.tox .tox-sv-palette-inner-thumb{border:1px solid #fff;border-radius:50%;height:10px;position:absolute;width:10px}.tox .tox-hue-slider{box-sizing:border-box;height:100%;width:25px}.tox .tox-hue-slider-spectrum{background:linear-gradient(to bottom,red,#ff0080,#f0f,#8000ff,#00f,#0080ff,#0ff,#00ff80,#0f0,#80ff00,#ff0,#ff8000,red);height:100%;width:100%}.tox .tox-hue-slider,.tox .tox-hue-slider-spectrum{width:20px}.tox .tox-hue-slider-spectrum:focus,.tox .tox-sv-palette-spectrum:focus{outline:#08f solid}.tox .tox-hue-slider-thumb{background:#fff;border:1px solid #000;box-sizing:content-box;height:4px;width:100%}.tox .tox-rgb-form{display:flex;flex-direction:column;justify-content:space-between}.tox .tox-rgb-form div{align-items:center;display:flex;justify-content:space-between;margin-bottom:5px;width:inherit}.tox .tox-rgb-form input{min-width:6em}.tox .tox-rgb-form input.tox-invalid{border:1px solid red!important;box-shadow:0 0 0 1px red}.tox .tox-rgb-container{position:relative}.tox .tox-rgb-form .tox-invalid-icon{align-content:center;align-items:center;display:none;height:100%;position:absolute;right:0;top:0}.tox .tox-rgb-form .tox-invalid-icon .tox-control-wrap__status-icon-invalid{margin:0}.tox .tox-rgb-warning-note{background-color:#f5cccc;border:1px solid #f0b3b3;border-radius:3px;color:#77181f;padding:3px}.tox input.tox-invalid+.tox-invalid-icon{display:flex}.tox .tox-rgb-form .tox-rgba-preview{border:1px solid #000;flex-grow:2;margin-bottom:0}.tox:not([dir=rtl]) .tox-sv-palette{margin-right:15px}.tox:not([dir=rtl]) .tox-hue-slider{margin-right:15px}.tox:not([dir=rtl]) .tox-hue-slider-thumb{margin-left:-1px}.tox:not([dir=rtl]) .tox-rgb-form label{margin-right:.5em}.tox[dir=rtl] .tox-sv-palette{margin-left:15px}.tox[dir=rtl] .tox-hue-slider{margin-left:15px}.tox[dir=rtl] .tox-hue-slider-thumb{margin-right:-1px}.tox[dir=rtl] .tox-rgb-form label{margin-left:.5em}.tox .tox-toolbar .tox-swatches,.tox .tox-toolbar__overflow .tox-swatches,.tox .tox-toolbar__primary .tox-swatches{margin:5px 0 6px 11px}.tox .tox-collection--list .tox-collection__group .tox-swatches-menu{border:0;margin:-4px -4px}.tox .tox-swatches__row{display:flex}@media (forced-colors:active){.tox .tox-swatches__row{forced-color-adjust:none}}.tox .tox-swatch{height:30px;transition:transform .15s,box-shadow .15s;width:30px}.tox .tox-swatch:focus,.tox .tox-swatch:hover{box-shadow:0 0 0 1px rgba(127,127,127,.3) inset;transform:scale(.8)}.tox .tox-swatch--remove{align-items:center;display:flex;justify-content:center}.tox .tox-swatch--remove svg path{stroke:#e74c3c}.tox .tox-swatches__picker-btn{align-items:center;background-color:transparent;border:0;cursor:pointer;display:flex;height:30px;justify-content:center;outline:0;padding:0;width:30px}.tox .tox-swatches__picker-btn svg{fill:#222f3e;height:24px;width:24px}.tox .tox-swatches__picker-btn:hover{background:#f0f0f0}.tox div.tox-swatch:not(.tox-swatch--remove) svg{display:none;fill:#222f3e;height:24px;margin:calc((30px - 24px)/ 2) calc((30px - 24px)/ 2);width:24px}.tox div.tox-swatch:not(.tox-swatch--remove) svg path{fill:#fff;paint-order:stroke;stroke:#222f3e;stroke-width:2px}.tox div.tox-swatch:not(.tox-swatch--remove).tox-collection__item--enabled svg{display:block}.tox:not([dir=rtl]) .tox-swatches__picker-btn{margin-left:auto}.tox[dir=rtl] .tox-swatches__picker-btn{margin-right:auto}.tox .tox-comment-thread{background:#fff;position:relative}.tox .tox-comment-thread>:not(:first-child){margin-top:8px}.tox .tox-comment{background:#fff;border:1px solid #eee;border-radius:6px;box-shadow:0 4px 8px 0 rgba(34,47,62,.1);padding:8px 8px 16px 8px;position:relative}.tox .tox-comment__header{align-items:center;color:#222f3e;display:flex;justify-content:space-between}.tox .tox-comment__date{color:#222f3e;font-size:12px;line-height:18px}.tox .tox-comment__body{color:#222f3e;font-size:14px;font-style:normal;font-weight:400;line-height:1.3;margin-top:8px;position:relative;text-transform:initial}.tox .tox-comment__body textarea{resize:none;white-space:normal;width:100%}.tox .tox-comment__expander{padding-top:8px}.tox .tox-comment__expander p{color:rgba(34,47,62,.7);font-size:14px;font-style:normal}.tox .tox-comment__body p{margin:0}.tox .tox-comment__buttonspacing{padding-top:16px;text-align:center}.tox .tox-comment-thread__overlay::after{background:#fff;bottom:0;content:"";display:flex;left:0;opacity:.9;position:absolute;right:0;top:0;z-index:5}.tox .tox-comment__reply{display:flex;flex-shrink:0;flex-wrap:wrap;justify-content:flex-end;margin-top:8px}.tox .tox-comment__reply>:first-child{margin-bottom:8px;width:100%}.tox .tox-comment__edit{display:flex;flex-wrap:wrap;justify-content:flex-end;margin-top:16px}.tox .tox-comment__gradient::after{background:linear-gradient(rgba(255,255,255,0),#fff);bottom:0;content:"";display:block;height:5em;margin-top:-40px;position:absolute;width:100%}.tox .tox-comment__overlay{background:#fff;bottom:0;display:flex;flex-direction:column;flex-grow:1;left:0;opacity:.9;position:absolute;right:0;text-align:center;top:0;z-index:5}.tox .tox-comment__loading-text{align-items:center;color:#222f3e;display:flex;flex-direction:column;position:relative}.tox .tox-comment__loading-text>div{padding-bottom:16px}.tox .tox-comment__overlaytext{bottom:0;flex-direction:column;font-size:14px;left:0;padding:1em;position:absolute;right:0;top:0;z-index:10}.tox .tox-comment__overlaytext p{background-color:#fff;box-shadow:0 0 8px 8px #fff;color:#222f3e;text-align:center}.tox .tox-comment__overlaytext div:nth-of-type(2){font-size:.8em}.tox .tox-comment__busy-spinner{align-items:center;background-color:#fff;bottom:0;display:flex;justify-content:center;left:0;position:absolute;right:0;top:0;z-index:20}.tox .tox-comment__scroll{display:flex;flex-direction:column;flex-shrink:1;overflow:auto}.tox .tox-conversations{margin:8px}.tox:not([dir=rtl]) .tox-comment__edit{margin-left:8px}.tox:not([dir=rtl]) .tox-comment__buttonspacing>:last-child,.tox:not([dir=rtl]) .tox-comment__edit>:last-child,.tox:not([dir=rtl]) .tox-comment__reply>:last-child{margin-left:8px}.tox[dir=rtl] .tox-comment__edit{margin-right:8px}.tox[dir=rtl] .tox-comment__buttonspacing>:last-child,.tox[dir=rtl] .tox-comment__edit>:last-child,.tox[dir=rtl] .tox-comment__reply>:last-child{margin-right:8px}.tox .tox-user{align-items:center;display:flex}.tox .tox-user__avatar svg{fill:rgba(34,47,62,0.7)}.tox .tox-user__avatar img{border-radius:50%;height:36px;object-fit:cover;vertical-align:middle;width:36px}.tox .tox-user__name{color:#222f3e;font-size:14px;font-style:normal;font-weight:700;line-height:18px;text-transform:none}.tox:not([dir=rtl]) .tox-user__avatar img,.tox:not([dir=rtl]) .tox-user__avatar svg{margin-right:8px}.tox:not([dir=rtl]) .tox-user__avatar+.tox-user__name{margin-left:8px}.tox[dir=rtl] .tox-user__avatar img,.tox[dir=rtl] .tox-user__avatar svg{margin-left:8px}.tox[dir=rtl] .tox-user__avatar+.tox-user__name{margin-right:8px}.tox .tox-dialog-wrap{align-items:center;bottom:0;display:flex;justify-content:center;left:0;position:fixed;right:0;top:0;z-index:1100}.tox .tox-dialog-wrap__backdrop{background-color:rgba(255,255,255,.75);bottom:0;left:0;position:absolute;right:0;top:0;z-index:1}.tox .tox-dialog-wrap__backdrop--opaque{background-color:#fff}.tox .tox-dialog{background-color:#fff;border-color:#eee;border-radius:10px;border-style:solid;border-width:0;box-shadow:0 16px 16px -10px rgba(34,47,62,.15),0 0 40px 1px rgba(34,47,62,.15);display:flex;flex-direction:column;max-height:100%;max-width:480px;overflow:hidden;position:relative;width:95vw;z-index:2}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox .tox-dialog{align-self:flex-start;margin:8px auto;max-height:calc(100vh - 8px * 2);width:calc(100vw - 16px)}}.tox .tox-dialog-inline{z-index:1100}.tox .tox-dialog__header{align-items:center;background-color:#fff;border-bottom:none;color:#222f3e;display:flex;font-size:16px;justify-content:space-between;padding:8px 16px 0 16px;position:relative}.tox .tox-dialog__header .tox-button{z-index:1}.tox .tox-dialog__draghandle{cursor:grab;height:100%;left:0;position:absolute;top:0;width:100%}.tox .tox-dialog__draghandle:active{cursor:grabbing}.tox .tox-dialog__dismiss{margin-left:auto}.tox .tox-dialog__title{font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:20px;font-style:normal;font-weight:400;line-height:1.3;margin:0;text-transform:none}.tox .tox-dialog__body{color:#222f3e;display:flex;flex:1;font-size:16px;font-style:normal;font-weight:400;line-height:1.3;min-width:0;text-align:left;text-transform:none}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox .tox-dialog__body{flex-direction:column}}.tox .tox-dialog__body-nav{align-items:flex-start;display:flex;flex-direction:column;flex-shrink:0;padding:16px 16px}@media only screen and (min-width:768px){.tox .tox-dialog__body-nav{max-width:11em}}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox .tox-dialog__body-nav{flex-direction:row;-webkit-overflow-scrolling:touch;overflow-x:auto;padding-bottom:0}}.tox .tox-dialog__body-nav-item{border-bottom:2px solid transparent;color:rgba(34,47,62,.7);display:inline-block;flex-shrink:0;font-size:14px;line-height:1.3;margin-bottom:8px;max-width:13em;-webkit-text-decoration:none;text-decoration:none}.tox .tox-dialog__body-nav-item:focus{background-color:rgba(0,108,231,.1)}.tox .tox-dialog__body-nav-item--active{border-bottom:2px solid #006ce7;color:#006ce7}@media (forced-colors:active){.tox .tox-dialog__body-nav-item--active{border-bottom:2px solid highlight;color:highlight}}.tox .tox-dialog__body-content{box-sizing:border-box;display:flex;flex:1;flex-direction:column;max-height:min(650px,calc(100vh - 110px));overflow:auto;-webkit-overflow-scrolling:touch;padding:16px 16px}.tox .tox-dialog__body-content>*{margin-bottom:0;margin-top:16px}.tox .tox-dialog__body-content>:first-child{margin-top:0}.tox .tox-dialog__body-content>:last-child{margin-bottom:0}.tox .tox-dialog__body-content>:only-child{margin-bottom:0;margin-top:0}.tox .tox-dialog__body-content a{color:#006ce7;cursor:pointer;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-dialog__body-content a:focus,.tox .tox-dialog__body-content a:hover{color:#003c81;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-dialog__body-content a:focus-visible{border-radius:1px;outline:2px solid #006ce7;outline-offset:2px}.tox .tox-dialog__body-content a:active{color:#00244e;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-dialog__body-content svg{fill:#222f3e}.tox .tox-dialog__body-content strong{font-weight:700}.tox .tox-dialog__body-content ul{list-style-type:disc}.tox .tox-dialog__body-content dd,.tox .tox-dialog__body-content ol,.tox .tox-dialog__body-content ul{padding-inline-start:2.5rem}.tox .tox-dialog__body-content dl,.tox .tox-dialog__body-content ol,.tox .tox-dialog__body-content ul{margin-bottom:16px}.tox .tox-dialog__body-content dd,.tox .tox-dialog__body-content dl,.tox .tox-dialog__body-content dt,.tox .tox-dialog__body-content ol,.tox .tox-dialog__body-content ul{display:block;margin-inline-end:0;margin-inline-start:0}.tox .tox-dialog__body-content .tox-form__group h1{color:#222f3e;font-size:20px;font-style:normal;font-weight:700;letter-spacing:normal;margin-bottom:16px;margin-top:2rem;text-transform:none}.tox .tox-dialog__body-content .tox-form__group h2{color:#222f3e;font-size:16px;font-style:normal;font-weight:700;letter-spacing:normal;margin-bottom:16px;margin-top:2rem;text-transform:none}.tox .tox-dialog__body-content .tox-form__group p{margin-bottom:16px}.tox .tox-dialog__body-content .tox-form__group h1:first-child,.tox .tox-dialog__body-content .tox-form__group h2:first-child,.tox .tox-dialog__body-content .tox-form__group p:first-child{margin-top:0}.tox .tox-dialog__body-content .tox-form__group h1:last-child,.tox .tox-dialog__body-content .tox-form__group h2:last-child,.tox .tox-dialog__body-content .tox-form__group p:last-child{margin-bottom:0}.tox .tox-dialog__body-content .tox-form__group h1:only-child,.tox .tox-dialog__body-content .tox-form__group h2:only-child,.tox .tox-dialog__body-content .tox-form__group p:only-child{margin-bottom:0;margin-top:0}.tox .tox-dialog__body-content .tox-form__group .tox-label.tox-label--center{text-align:center}.tox .tox-dialog__body-content .tox-form__group .tox-label.tox-label--end{text-align:end}.tox .tox-dialog--width-lg{height:650px;max-width:1200px}.tox .tox-dialog--fullscreen{height:100%;max-width:100%}.tox .tox-dialog--fullscreen .tox-dialog__body-content{max-height:100%}.tox .tox-dialog--width-md{max-width:800px}.tox .tox-dialog--width-md .tox-dialog__body-content{overflow:auto}.tox .tox-dialog__body-content--centered{text-align:center}.tox .tox-dialog__footer{align-items:center;background-color:#fff;border-top:none;display:flex;justify-content:space-between;padding:8px 16px}.tox .tox-dialog__footer-end,.tox .tox-dialog__footer-start{display:flex}.tox .tox-dialog__busy-spinner{align-items:center;background-color:rgba(255,255,255,.75);bottom:0;display:flex;justify-content:center;left:0;position:absolute;right:0;top:0;z-index:3}.tox .tox-dialog__table{border-collapse:collapse;width:100%}.tox .tox-dialog__table thead th{font-weight:700;padding-bottom:8px}.tox .tox-dialog__table thead th:first-child{padding-right:8px}.tox .tox-dialog__table tbody tr{border-bottom:1px solid #626262}.tox .tox-dialog__table tbody tr:last-child{border-bottom:none}.tox .tox-dialog__table td{padding-bottom:8px;padding-top:8px}.tox .tox-dialog__table td:first-child{padding-right:8px}.tox .tox-dialog__iframe{min-height:200px}.tox .tox-dialog__iframe.tox-dialog__iframe--opaque{background:#fff}.tox .tox-navobj-bordered{position:relative}.tox .tox-navobj-bordered::before{border:1px solid #eee;border-radius:6px;content:'';inset:0;opacity:1;pointer-events:none;position:absolute;z-index:1}.tox .tox-navobj-bordered iframe{border-radius:6px}.tox .tox-navobj-bordered-focus.tox-navobj-bordered::before{border-color:#006ce7;box-shadow:0 0 0 1px #006ce7;outline:0}.tox .tox-dialog__popups{position:absolute;width:100%;z-index:1100}.tox .tox-dialog__body-iframe{display:flex;flex:1;flex-direction:column}.tox .tox-dialog__body-iframe .tox-navobj{display:flex;flex:1}.tox .tox-dialog__body-iframe .tox-navobj :nth-child(2){flex:1;height:100%}.tox .tox-dialog-dock-fadeout{opacity:0;visibility:hidden}.tox .tox-dialog-dock-fadein{opacity:1;visibility:visible}.tox .tox-dialog-dock-transition{transition:visibility 0s linear .3s,opacity .3s ease}.tox .tox-dialog-dock-transition.tox-dialog-dock-fadein{transition-delay:0s}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox:not([dir=rtl]) .tox-dialog__body-nav{margin-right:0}}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox:not([dir=rtl]) .tox-dialog__body-nav-item:not(:first-child){margin-left:8px}}.tox:not([dir=rtl]) .tox-dialog__footer .tox-dialog__footer-end>*,.tox:not([dir=rtl]) .tox-dialog__footer .tox-dialog__footer-start>*{margin-left:8px}.tox[dir=rtl] .tox-dialog__body{text-align:right}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox[dir=rtl] .tox-dialog__body-nav{margin-left:0}}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox[dir=rtl] .tox-dialog__body-nav-item:not(:first-child){margin-right:8px}}.tox[dir=rtl] .tox-dialog__footer .tox-dialog__footer-end>*,.tox[dir=rtl] .tox-dialog__footer .tox-dialog__footer-start>*{margin-right:8px}body.tox-dialog__disable-scroll{overflow:hidden}.tox .tox-dropzone-container{display:flex;flex:1}.tox .tox-dropzone{align-items:center;background:#fff;border:2px dashed #eee;box-sizing:border-box;display:flex;flex-direction:column;flex-grow:1;justify-content:center;min-height:100px;padding:10px}.tox .tox-dropzone p{color:rgba(34,47,62,.7);margin:0 0 16px 0}.tox .tox-edit-area{display:flex;flex:1;overflow:hidden;position:relative}.tox .tox-edit-area::before{border:2px solid #006ce7;border-radius:4px;content:'';inset:0;opacity:0;pointer-events:none;position:absolute;transition:opacity .15s;z-index:1}@media (forced-colors:active){.tox .tox-edit-area::before{border:2px solid highlight}}.tox .tox-edit-area__iframe{background-color:#fff;border:0;box-sizing:border-box;flex:1;height:100%;position:absolute;width:100%}.tox.tox-edit-focus .tox-edit-area::before{opacity:1}.tox.tox-inline-edit-area{border:1px dotted #eee}.tox .tox-editor-container{display:flex;flex:1 1 auto;flex-direction:column;overflow:hidden}.tox .tox-editor-header{display:grid;grid-template-columns:1fr min-content;z-index:2}.tox:not(.tox-tinymce-inline) .tox-editor-header{background-color:#fff;border-bottom:none;box-shadow:0 2px 2px -2px rgba(34,47,62,.1),0 8px 8px -4px rgba(34,47,62,.07);padding:4px 0}.tox:not(.tox-tinymce-inline) .tox-editor-header:not(.tox-editor-dock-transition){transition:box-shadow .5s}.tox:not(.tox-tinymce-inline).tox-tinymce--toolbar-bottom .tox-editor-header{border-top:1px solid #e3e3e3;box-shadow:none}.tox:not(.tox-tinymce-inline).tox-tinymce--toolbar-sticky-on .tox-editor-header{background-color:#fff;box-shadow:0 2px 2px -2px rgba(34,47,62,.2),0 8px 8px -4px rgba(34,47,62,.15);padding:4px 0}.tox:not(.tox-tinymce-inline).tox-tinymce--toolbar-sticky-on.tox-tinymce--toolbar-bottom .tox-editor-header{box-shadow:0 2px 2px -2px rgba(34,47,62,.2),0 8px 8px -4px rgba(34,47,62,.15)}.tox.tox:not(.tox-tinymce-inline) .tox-editor-header.tox-editor-header--empty{background:0 0;border:none;box-shadow:none;padding:0}.tox-editor-dock-fadeout{opacity:0;visibility:hidden}.tox-editor-dock-fadein{opacity:1;visibility:visible}.tox-editor-dock-transition{transition:visibility 0s linear .25s,opacity .25s ease}.tox-editor-dock-transition.tox-editor-dock-fadein{transition-delay:0s}.tox .tox-control-wrap{flex:1;position:relative}.tox .tox-control-wrap:not(.tox-control-wrap--status-invalid) .tox-control-wrap__status-icon-invalid,.tox .tox-control-wrap:not(.tox-control-wrap--status-unknown) .tox-control-wrap__status-icon-unknown,.tox .tox-control-wrap:not(.tox-control-wrap--status-valid) .tox-control-wrap__status-icon-valid{display:none}.tox .tox-control-wrap svg{display:block}.tox .tox-control-wrap__status-icon-wrap{position:absolute;top:50%;transform:translateY(-50%)}.tox .tox-control-wrap__status-icon-invalid svg{fill:#c00}.tox .tox-control-wrap__status-icon-unknown svg{fill:orange}.tox .tox-control-wrap__status-icon-valid svg{fill:green}.tox:not([dir=rtl]) .tox-control-wrap--status-invalid .tox-textfield,.tox:not([dir=rtl]) .tox-control-wrap--status-unknown .tox-textfield,.tox:not([dir=rtl]) .tox-control-wrap--status-valid .tox-textfield{padding-right:32px}.tox:not([dir=rtl]) .tox-control-wrap__status-icon-wrap{right:4px}.tox[dir=rtl] .tox-control-wrap--status-invalid .tox-textfield,.tox[dir=rtl] .tox-control-wrap--status-unknown .tox-textfield,.tox[dir=rtl] .tox-control-wrap--status-valid .tox-textfield{padding-left:32px}.tox[dir=rtl] .tox-control-wrap__status-icon-wrap{left:4px}.tox .tox-custom-preview{border-color:#eee;border-radius:6px;border-style:solid;border-width:1px;flex:1;padding:8px}.tox .tox-autocompleter{max-width:25em}.tox .tox-autocompleter .tox-menu{box-sizing:border-box;max-width:25em}.tox .tox-autocompleter .tox-autocompleter-highlight{font-weight:700}.tox .tox-color-input{display:flex;position:relative;z-index:1}.tox .tox-color-input .tox-textfield{z-index:-1}.tox .tox-color-input span{border-color:rgba(34 47 3.1%);border-radius:6px;border-style:solid;border-width:1px;box-shadow:none;box-sizing:border-box;height:24px;position:absolute;top:6px;width:24px}@media (forced-colors:active){.tox .tox-color-input span{border-color:currentColor;border-width:2px!important;forced-color-adjust:none}}.tox .tox-color-input span:focus:not([aria-disabled=true]),.tox .tox-color-input span:hover:not([aria-disabled=true]){border-color:#006ce7;cursor:pointer}.tox .tox-color-input span::before{background-image:linear-gradient(45deg,rgba(0,0,0,.25) 25%,transparent 25%),linear-gradient(-45deg,rgba(0,0,0,.25) 25%,transparent 25%),linear-gradient(45deg,transparent 75%,rgba(0,0,0,.25) 75%),linear-gradient(-45deg,transparent 75%,rgba(0,0,0,.25) 75%);background-position:0 0,0 6px,6px -6px,-6px 0;background-size:12px 12px;border:1px solid #fff;border-radius:6px;box-sizing:border-box;content:'';height:24px;left:-1px;position:absolute;top:-1px;width:24px;z-index:-1}@media (forced-colors:active){.tox .tox-color-input span::before{border:none}}.tox .tox-color-input span[aria-disabled=true]{cursor:not-allowed}.tox:not([dir=rtl]) .tox-color-input .tox-textfield{padding-left:36px}.tox:not([dir=rtl]) .tox-color-input span{left:6px}.tox[dir=rtl] .tox-color-input .tox-textfield{padding-right:36px}.tox[dir=rtl] .tox-color-input span{right:6px}.tox .tox-label,.tox .tox-toolbar-label{color:rgba(34,47,62,.7);display:block;font-size:14px;font-style:normal;font-weight:400;line-height:1.3;padding:0 8px 0 0;text-transform:none;white-space:nowrap}.tox .tox-toolbar-label{padding:0 8px}.tox[dir=rtl] .tox-label{padding:0 0 0 8px}.tox .tox-form{display:flex;flex:1;flex-direction:column}.tox .tox-form__group{box-sizing:border-box;margin-bottom:4px}.tox .tox-form-group--maximize{flex:1}.tox .tox-form__group--error{color:#c00}.tox .tox-form__group--collection{display:flex}.tox .tox-form__grid{display:flex;flex-direction:row;flex-wrap:wrap;justify-content:space-between}.tox .tox-form__grid--2col>.tox-form__group{width:calc(50% - (8px / 2))}.tox .tox-form__grid--3col>.tox-form__group{width:calc(100% / 3 - (8px / 2))}.tox .tox-form__grid--4col>.tox-form__group{width:calc(25% - (8px / 2))}.tox .tox-form__controls-h-stack{align-items:center;display:flex}.tox .tox-form__group--inline{align-items:center;display:flex}.tox .tox-form__group--stretched{display:flex;flex:1;flex-direction:column}.tox .tox-form__group--stretched .tox-textarea{flex:1}.tox .tox-form__group--stretched .tox-navobj{display:flex;flex:1}.tox .tox-form__group--stretched .tox-navobj :nth-child(2){flex:1;height:100%}.tox:not([dir=rtl]) .tox-form__controls-h-stack>:not(:first-child){margin-left:4px}.tox[dir=rtl] .tox-form__controls-h-stack>:not(:first-child){margin-right:4px}.tox .tox-lock.tox-locked .tox-lock-icon__unlock,.tox .tox-lock:not(.tox-locked) .tox-lock-icon__lock{display:none}.tox .tox-listboxfield .tox-listbox--select,.tox .tox-textarea,.tox .tox-textarea-wrap .tox-textarea:focus,.tox .tox-textfield,.tox .tox-toolbar-textfield{appearance:none;background-color:#fff;border-color:#eee;border-radius:6px;border-style:solid;border-width:1px;box-shadow:none;box-sizing:border-box;color:#222f3e;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:16px;line-height:24px;margin:0;min-height:34px;outline:0;padding:5px 5.5px;resize:none;width:100%}.tox .tox-textarea[disabled],.tox .tox-textfield[disabled]{background-color:#f2f2f2;color:rgba(34,47,62,.85);cursor:not-allowed}.tox .tox-custom-editor:focus-within,.tox .tox-listboxfield .tox-listbox--select:focus,.tox .tox-textarea-wrap:focus-within,.tox .tox-textarea:focus,.tox .tox-textfield:focus{background-color:#fff;border-color:#006ce7;box-shadow:0 0 0 1px #006ce7;outline:0}.tox .tox-toolbar-textfield{border-width:0;margin-bottom:3px;margin-top:2px;max-width:250px}.tox .tox-naked-btn{background-color:transparent;border:0;border-color:transparent;box-shadow:unset;color:#006ce7;cursor:pointer;display:block;margin:0;padding:0}.tox .tox-naked-btn svg{display:block;fill:#222f3e}.tox:not([dir=rtl]) .tox-toolbar-textfield+*{margin-left:4px}.tox[dir=rtl] .tox-toolbar-textfield+*{margin-right:4px}.tox .tox-listboxfield{cursor:pointer;position:relative}.tox .tox-listboxfield .tox-listbox--select[disabled]{background-color:#f2f2f2;color:rgba(34,47,62,.85);cursor:not-allowed}.tox .tox-listbox__select-label{cursor:default;flex:1;margin:0 4px}.tox .tox-listbox__select-chevron{align-items:center;display:flex;justify-content:center;width:16px}.tox .tox-listbox__select-chevron svg{fill:#222f3e}@media (forced-colors:active){.tox .tox-listbox__select-chevron svg{fill:currentColor!important}}.tox .tox-listboxfield .tox-listbox--select{align-items:center;display:flex}.tox:not([dir=rtl]) .tox-listboxfield svg{right:8px}.tox[dir=rtl] .tox-listboxfield svg{left:8px}.tox .tox-selectfield{cursor:pointer;position:relative}.tox .tox-selectfield select{appearance:none;background-color:#fff;border-color:#eee;border-radius:6px;border-style:solid;border-width:1px;box-shadow:none;box-sizing:border-box;color:#222f3e;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:16px;line-height:24px;margin:0;min-height:34px;outline:0;padding:5px 5.5px;resize:none;width:100%}.tox .tox-selectfield select[disabled]{background-color:#f2f2f2;color:rgba(34,47,62,.85);cursor:not-allowed}.tox .tox-selectfield select::-ms-expand{display:none}.tox .tox-selectfield select:focus{background-color:#fff;border-color:#006ce7;box-shadow:0 0 0 1px #006ce7;outline:0}.tox .tox-selectfield svg{pointer-events:none;position:absolute;top:50%;transform:translateY(-50%)}.tox:not([dir=rtl]) .tox-selectfield select[size="0"],.tox:not([dir=rtl]) .tox-selectfield select[size="1"]{padding-right:24px}.tox:not([dir=rtl]) .tox-selectfield svg{right:8px}.tox[dir=rtl] .tox-selectfield select[size="0"],.tox[dir=rtl] .tox-selectfield select[size="1"]{padding-left:24px}.tox[dir=rtl] .tox-selectfield svg{left:8px}.tox .tox-textarea-wrap{border-color:#eee;border-radius:6px;border-style:solid;border-width:1px;display:flex;flex:1;overflow:hidden}.tox .tox-textarea{appearance:textarea;white-space:pre-wrap}.tox .tox-textarea-wrap .tox-textarea{border:none}.tox .tox-textarea-wrap .tox-textarea:focus{border:none}.tox-fullscreen{border:0;height:100%;margin:0;overflow:hidden;overscroll-behavior:none;padding:0;touch-action:pinch-zoom;width:100%}.tox.tox-tinymce.tox-fullscreen .tox-statusbar__resize-handle{display:none}.tox-shadowhost.tox-fullscreen,.tox.tox-tinymce.tox-fullscreen{left:0;position:fixed;top:0;z-index:1200}.tox.tox-tinymce.tox-fullscreen{background-color:transparent}.tox-fullscreen .tox.tox-tinymce-aux,.tox-fullscreen~.tox.tox-tinymce-aux{z-index:1201}.tox .tox-help__more-link{list-style:none;margin-top:1em}.tox .tox-imagepreview{background-color:#666;height:380px;overflow:hidden;position:relative;width:100%}.tox .tox-imagepreview.tox-imagepreview__loaded{overflow:auto}.tox .tox-imagepreview__container{display:flex;left:100vw;position:absolute;top:100vw}.tox .tox-imagepreview__image{background:url(data:image/gif;base64,R0lGODdhDAAMAIABAMzMzP///ywAAAAADAAMAAACFoQfqYeabNyDMkBQb81Uat85nxguUAEAOw==)}.tox .tox-image-tools .tox-spacer{flex:1}.tox .tox-image-tools .tox-bar{align-items:center;display:flex;height:60px;justify-content:center}.tox .tox-image-tools .tox-imagepreview,.tox .tox-image-tools .tox-imagepreview+.tox-bar{margin-top:8px}.tox .tox-image-tools .tox-croprect-block{background:#000;opacity:.5;position:absolute;zoom:1}.tox .tox-image-tools .tox-croprect-handle{border:2px solid #fff;height:20px;left:0;position:absolute;top:0;width:20px}.tox .tox-image-tools .tox-croprect-handle-move{border:0;cursor:move;position:absolute}.tox .tox-image-tools .tox-croprect-handle-nw{border-width:2px 0 0 2px;cursor:nw-resize;left:100px;margin:-2px 0 0 -2px;top:100px}.tox .tox-image-tools .tox-croprect-handle-ne{border-width:2px 2px 0 0;cursor:ne-resize;left:200px;margin:-2px 0 0 -20px;top:100px}.tox .tox-image-tools .tox-croprect-handle-sw{border-width:0 0 2px 2px;cursor:sw-resize;left:100px;margin:-20px 2px 0 -2px;top:200px}.tox .tox-image-tools .tox-croprect-handle-se{border-width:0 2px 2px 0;cursor:se-resize;left:200px;margin:-20px 0 0 -20px;top:200px}.tox .tox-insert-table-picker{background-color:#fff;display:flex;flex-wrap:wrap;width:170px}.tox .tox-insert-table-picker>div{border-color:#eee;border-style:solid;border-width:0 1px 1px 0;box-sizing:border-box;height:17px;width:17px}.tox .tox-collection--list .tox-collection__group .tox-insert-table-picker{margin:-4px -4px}.tox .tox-insert-table-picker .tox-insert-table-picker__selected{background-color:#006ce7;border-color:#eee}@media (forced-colors:active){.tox .tox-insert-table-picker .tox-insert-table-picker__selected{border-color:Highlight;filter:contrast(50%)}}.tox .tox-insert-table-picker__label{color:rgba(34,47,62,.7);display:block;font-size:14px;padding:4px;text-align:center;width:100%}.tox:not([dir=rtl]) .tox-insert-table-picker>div:nth-child(10n){border-right:0}.tox[dir=rtl] .tox-insert-table-picker>div:nth-child(10n+1){border-right:0}.tox .tox-menu{background-color:#fff;border:1px solid transparent;border-radius:6px;box-shadow:0 0 2px 0 rgba(34,47,62,.2),0 4px 8px 0 rgba(34,47,62,.15);display:inline-block;overflow:hidden;vertical-align:top;z-index:1150}.tox .tox-menu.tox-collection.tox-collection--list{padding:0 4px}.tox .tox-menu.tox-collection.tox-collection--toolbar{padding:8px}.tox .tox-menu.tox-collection.tox-collection--grid{padding:8px}@media only screen and (min-width:768px){.tox .tox-menu .tox-collection__item-label{overflow-wrap:break-word;word-break:normal}.tox .tox-dialog__popups .tox-menu .tox-collection__item-label{word-break:break-all}}.tox .tox-menu__label blockquote,.tox .tox-menu__label code,.tox .tox-menu__label h1,.tox .tox-menu__label h2,.tox .tox-menu__label h3,.tox .tox-menu__label h4,.tox .tox-menu__label h5,.tox .tox-menu__label h6,.tox .tox-menu__label p{margin:0}.tox .tox-menubar{background:repeating-linear-gradient(transparent 0 1px,transparent 1px 39px) center top 39px/100% calc(100% - 39px) no-repeat;background-color:#fff;display:flex;flex:0 0 auto;flex-shrink:0;flex-wrap:wrap;grid-column:1/-1;grid-row:1;padding:0 11px 0 12px}.tox .tox-promotion+.tox-menubar{grid-column:1}.tox .tox-promotion{background:repeating-linear-gradient(transparent 0 1px,transparent 1px 39px) center top 39px/100% calc(100% - 39px) no-repeat;background-color:#fff;grid-column:2;grid-row:1;padding-inline-end:8px;padding-inline-start:4px;padding-top:5px}.tox .tox-promotion-link{align-items:unsafe center;background-color:#e8f1f8;border-radius:5px;color:#086be6;cursor:pointer;display:flex;font-size:14px;height:26.6px;padding:4px 8px;white-space:nowrap}.tox .tox-promotion-link:hover{background-color:#b4d7ff}.tox .tox-promotion-link:focus{background-color:#d9edf7}.tox .tox-mbtn{align-items:center;background:#fff;border:0;border-radius:3px;box-shadow:none;color:#222f3e;display:flex;flex:0 0 auto;font-size:14px;font-style:normal;font-weight:400;height:28px;justify-content:center;margin:5px 1px 6px 0;outline:0;padding:0 4px;text-transform:none;width:auto}.tox .tox-mbtn[disabled]{background-color:#fff;border:0;box-shadow:none;color:rgba(34,47,62,.5);cursor:not-allowed}.tox .tox-mbtn:focus:not(:disabled){background:#fff;border:0;box-shadow:none;color:#222f3e;position:relative;z-index:1}.tox .tox-mbtn:focus:not(:disabled)::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-mbtn:focus:not(:disabled)::after{border:2px solid highlight}}.tox .tox-mbtn--active,.tox .tox-mbtn:not(:disabled).tox-mbtn--active:focus{background:#a6ccf7;border:0;box-shadow:none;color:#222f3e}.tox .tox-mbtn:hover:not(:disabled):not(.tox-mbtn--active){background:#f0f0f0;border:0;box-shadow:none;color:#222f3e}.tox .tox-mbtn__select-label{cursor:default;font-weight:400;margin:0 4px}.tox .tox-mbtn[disabled] .tox-mbtn__select-label{cursor:not-allowed}.tox .tox-mbtn__select-chevron{align-items:center;display:flex;justify-content:center;width:16px;display:none}.tox .tox-notification{border-radius:6px;border-style:solid;border-width:1px;box-shadow:none;box-sizing:border-box;display:grid;font-size:14px;font-weight:400;grid-template-columns:minmax(40px,1fr) auto minmax(40px,1fr);margin-left:auto;margin-right:auto;margin-top:4px;opacity:0;padding:4px;transition:transform .1s ease-in,opacity 150ms ease-in;width:max-content}.tox .tox-notification a{cursor:pointer;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification p{font-size:14px;font-weight:400}.tox .tox-notification:focus{border-color:#006ce7;box-shadow:0 0 0 1px #006ce7}.tox .tox-notification--in{opacity:1}.tox .tox-notification--success{background-color:#e4eeda;border-color:#d7e6c8;color:#222f3e}.tox .tox-notification--success p{color:#222f3e}.tox .tox-notification--success a{color:#517342}.tox .tox-notification--success a:focus,.tox .tox-notification--success a:hover{color:#24321d;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification--success a:focus-visible{border-radius:1px;outline:2px solid #517342;outline-offset:2px}.tox .tox-notification--success a:active{color:#0d120a;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification--success svg{fill:#222f3e}.tox .tox-notification--error{background-color:#f5cccc;border-color:#f0b3b3;color:#222f3e}.tox .tox-notification--error p{color:#222f3e}.tox .tox-notification--error a{color:#77181f}.tox .tox-notification--error a:focus,.tox .tox-notification--error a:hover{color:#220709;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification--error a:focus-visible{border-radius:1px;outline:2px solid #77181f;outline-offset:2px}.tox .tox-notification--error a:active{color:#000;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification--error svg{fill:#222f3e}.tox .tox-notification--warn,.tox .tox-notification--warning{background-color:#fff5cc;border-color:#fff0b3;color:#222f3e}.tox .tox-notification--warn p,.tox .tox-notification--warning p{color:#222f3e}.tox .tox-notification--warn a,.tox .tox-notification--warning a{color:#7a6e25}.tox .tox-notification--warn a:focus,.tox .tox-notification--warn a:hover,.tox .tox-notification--warning a:focus,.tox .tox-notification--warning a:hover{color:#2c280d;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification--warn a:focus-visible,.tox .tox-notification--warning a:focus-visible{border-radius:1px;outline:2px solid #7a6e25;outline-offset:2px}.tox .tox-notification--warn a:active,.tox .tox-notification--warning a:active{color:#050502;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification--warn svg,.tox .tox-notification--warning svg{fill:#222f3e}.tox .tox-notification--info{background-color:#d6e7fb;border-color:#c1dbf9;color:#222f3e}.tox .tox-notification--info p{color:#222f3e}.tox .tox-notification--info a{color:#2a64a6}.tox .tox-notification--info a:focus,.tox .tox-notification--info a:hover{color:#163355;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification--info a:focus-visible{border-radius:1px;outline:2px solid #2a64a6;outline-offset:2px}.tox .tox-notification--info a:active{color:#0b1a2c;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification--info svg{fill:#222f3e}.tox .tox-notification__body{align-self:center;color:#222f3e;font-size:14px;grid-column-end:3;grid-column-start:2;grid-row-end:2;grid-row-start:1;text-align:center;white-space:normal;word-break:break-all;word-break:break-word}.tox .tox-notification__body>*{margin:0}.tox .tox-notification__body>*+*{margin-top:1rem}.tox .tox-notification__icon{align-self:center;grid-column-end:2;grid-column-start:1;grid-row-end:2;grid-row-start:1;justify-self:end}.tox .tox-notification__icon svg{display:block}.tox .tox-notification__dismiss{align-self:start;grid-column-end:4;grid-column-start:3;grid-row-end:2;grid-row-start:1;justify-self:end}.tox .tox-notification .tox-progress-bar{grid-column-end:4;grid-column-start:1;grid-row-end:3;grid-row-start:2;justify-self:center}.tox .tox-notification-container-dock-fadeout{opacity:0;visibility:hidden}.tox .tox-notification-container-dock-fadein{opacity:1;visibility:visible}.tox .tox-notification-container-dock-transition{transition:visibility 0s linear .3s,opacity .3s ease}.tox .tox-notification-container-dock-transition.tox-notification-container-dock-fadein{transition-delay:0s}.tox .tox-pop{display:inline-block;position:relative}.tox .tox-pop--resizing{transition:width .1s ease}.tox .tox-pop--resizing .tox-toolbar,.tox .tox-pop--resizing .tox-toolbar__group{flex-wrap:nowrap}.tox .tox-pop--transition{transition:.15s ease;transition-property:left,right,top,bottom}.tox .tox-pop--transition::after,.tox .tox-pop--transition::before{transition:all .15s,visibility 0s,opacity 75ms ease 75ms}.tox .tox-pop__dialog{background-color:#fff;border:1px solid #eee;border-radius:6px;box-shadow:0 0 2px 0 rgba(34,47,62,.2),0 4px 8px 0 rgba(34,47,62,.15);min-width:0;overflow:hidden}.tox .tox-pop__dialog>:not(.tox-toolbar){margin:4px 4px 4px 8px}.tox .tox-pop__dialog .tox-toolbar{background-color:transparent;margin-bottom:-1px}.tox .tox-pop::after,.tox .tox-pop::before{border-style:solid;content:'';display:block;height:0;opacity:1;position:absolute;width:0}@media (forced-colors:active){.tox .tox-pop::after,.tox .tox-pop::before{content:none}}.tox .tox-pop.tox-pop--inset::after,.tox .tox-pop.tox-pop--inset::before{opacity:0;transition:all 0s .15s,visibility 0s,opacity 75ms ease}.tox .tox-pop.tox-pop--bottom::after,.tox .tox-pop.tox-pop--bottom::before{left:50%;top:100%}.tox .tox-pop.tox-pop--bottom::after{border-color:#fff transparent transparent transparent;border-width:8px;margin-left:-8px;margin-top:-1px}.tox .tox-pop.tox-pop--bottom::before{border-color:#eee transparent transparent transparent;border-width:9px;margin-left:-9px}.tox .tox-pop.tox-pop--top::after,.tox .tox-pop.tox-pop--top::before{left:50%;top:0;transform:translateY(-100%)}.tox .tox-pop.tox-pop--top::after{border-color:transparent transparent #fff transparent;border-width:8px;margin-left:-8px;margin-top:1px}.tox .tox-pop.tox-pop--top::before{border-color:transparent transparent #eee transparent;border-width:9px;margin-left:-9px}.tox .tox-pop.tox-pop--left::after,.tox .tox-pop.tox-pop--left::before{left:0;top:calc(50% - 1px);transform:translateY(-50%)}.tox .tox-pop.tox-pop--left::after{border-color:transparent #fff transparent transparent;border-width:8px;margin-left:-15px}.tox .tox-pop.tox-pop--left::before{border-color:transparent #eee transparent transparent;border-width:10px;margin-left:-19px}.tox .tox-pop.tox-pop--right::after,.tox .tox-pop.tox-pop--right::before{left:100%;top:calc(50% + 1px);transform:translateY(-50%)}.tox .tox-pop.tox-pop--right::after{border-color:transparent transparent transparent #fff;border-width:8px;margin-left:-1px}.tox .tox-pop.tox-pop--right::before{border-color:transparent transparent transparent #eee;border-width:10px;margin-left:-1px}.tox .tox-pop.tox-pop--align-left::after,.tox .tox-pop.tox-pop--align-left::before{left:20px}.tox .tox-pop.tox-pop--align-right::after,.tox .tox-pop.tox-pop--align-right::before{left:calc(100% - 20px)}.tox .tox-sidebar-wrap{display:flex;flex-direction:row;flex-grow:1;min-height:0}.tox .tox-sidebar{background-color:#fff;display:flex;flex-direction:row;justify-content:flex-end}.tox .tox-sidebar__slider{display:flex;overflow:hidden}.tox .tox-sidebar__pane-container{display:flex}.tox .tox-sidebar__pane{display:flex}.tox .tox-sidebar--sliding-closed{opacity:0}.tox .tox-sidebar--sliding-open{opacity:1}.tox .tox-sidebar--sliding-growing,.tox .tox-sidebar--sliding-shrinking{transition:width .5s ease,opacity .5s ease}.tox .tox-selector{background-color:#4099ff;border-color:#4099ff;border-style:solid;border-width:1px;box-sizing:border-box;display:inline-block;height:10px;position:absolute;width:10px}.tox.tox-platform-touch .tox-selector{height:12px;width:12px}.tox .tox-slider{align-items:center;display:flex;flex:1;height:24px;justify-content:center;position:relative}.tox .tox-slider__rail{background-color:transparent;border:1px solid #eee;border-radius:6px;height:10px;min-width:120px;width:100%}.tox .tox-slider__handle{background-color:#006ce7;border:2px solid #0054b4;border-radius:6px;box-shadow:none;height:24px;left:50%;position:absolute;top:50%;transform:translateX(-50%) translateY(-50%);width:14px}.tox .tox-form__controls-h-stack>.tox-slider:not(:first-of-type){margin-inline-start:8px}.tox .tox-form__controls-h-stack>.tox-form__group+.tox-slider{margin-inline-start:32px}.tox .tox-form__controls-h-stack>.tox-slider+.tox-form__group{margin-inline-start:32px}.tox .tox-source-code{overflow:auto}.tox .tox-spinner{display:flex}.tox .tox-spinner>div{animation:tam-bouncing-dots 1.5s ease-in-out 0s infinite both;background-color:rgba(34,47,62,.7);border-radius:100%;height:8px;width:8px}.tox .tox-spinner>div:first-child{animation-delay:-.32s}.tox .tox-spinner>div:nth-child(2){animation-delay:-.16s}@keyframes tam-bouncing-dots{0%,100%,80%{transform:scale(0)}40%{transform:scale(1)}}.tox:not([dir=rtl]) .tox-spinner>div:not(:first-child){margin-left:4px}.tox[dir=rtl] .tox-spinner>div:not(:first-child){margin-right:4px}.tox .tox-statusbar{align-items:center;background-color:#fff;border-top:1px solid #e3e3e3;color:rgba(34,47,62,.7);display:flex;flex:0 0 auto;font-size:14px;font-weight:400;height:25px;overflow:hidden;padding:0 8px;position:relative;text-transform:none}.tox .tox-statusbar__path{display:flex;flex:1 1 auto;text-overflow:ellipsis;white-space:nowrap}.tox .tox-statusbar__right-container{display:flex;justify-content:flex-end;white-space:nowrap}.tox .tox-statusbar__help-text{text-align:center}.tox .tox-statusbar__text-container{align-items:flex-start;display:flex;flex:1 1 auto;height:16px;justify-content:space-between;overflow:hidden}@media only screen and (min-width:768px){.tox .tox-statusbar__text-container.tox-statusbar__text-container-3-cols>.tox-statusbar__help-text,.tox .tox-statusbar__text-container.tox-statusbar__text-container-3-cols>.tox-statusbar__path,.tox .tox-statusbar__text-container.tox-statusbar__text-container-3-cols>.tox-statusbar__right-container{flex:0 0 calc(100% / 3)}}.tox .tox-statusbar__text-container.tox-statusbar__text-container--flex-end{justify-content:flex-end}.tox .tox-statusbar__text-container.tox-statusbar__text-container--flex-start{justify-content:flex-start}.tox .tox-statusbar__text-container.tox-statusbar__text-container--space-around{justify-content:space-around}.tox .tox-statusbar__path>*{display:inline;white-space:nowrap}.tox .tox-statusbar__wordcount{flex:0 0 auto;margin-left:1ch}@media only screen and (max-width:767px){.tox .tox-statusbar__text-container .tox-statusbar__help-text{display:none}.tox .tox-statusbar__text-container .tox-statusbar__help-text:only-child{display:block}}.tox .tox-statusbar a,.tox .tox-statusbar__path-item,.tox .tox-statusbar__wordcount{color:rgba(34,47,62,.7);position:relative;-webkit-text-decoration:none;text-decoration:none}.tox .tox-statusbar a:focus:not(:disabled):not([aria-disabled=true]),.tox .tox-statusbar a:hover:not(:disabled):not([aria-disabled=true]),.tox .tox-statusbar__path-item:focus:not(:disabled):not([aria-disabled=true]),.tox .tox-statusbar__path-item:hover:not(:disabled):not([aria-disabled=true]),.tox .tox-statusbar__wordcount:focus:not(:disabled):not([aria-disabled=true]),.tox .tox-statusbar__wordcount:hover:not(:disabled):not([aria-disabled=true]){color:#222f3e;cursor:pointer}.tox .tox-statusbar a:focus-visible::after,.tox .tox-statusbar__path-item:focus-visible::after,.tox .tox-statusbar__wordcount:focus-visible::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-statusbar a:focus-visible::after,.tox .tox-statusbar__path-item:focus-visible::after,.tox .tox-statusbar__wordcount:focus-visible::after{border:2px solid highlight}}.tox .tox-statusbar__branding svg{fill:rgba(34,47,62,0.8);height:1em;margin-left:.3em;width:auto}@media (forced-colors:active){.tox .tox-statusbar__branding svg{fill:currentColor}}.tox .tox-statusbar__branding a{align-items:center;display:inline-flex}.tox .tox-statusbar__branding a:focus:not(:disabled):not([aria-disabled=true]) svg,.tox .tox-statusbar__branding a:hover:not(:disabled):not([aria-disabled=true]) svg{fill:#222f3e}.tox .tox-statusbar__resize-handle{align-items:flex-end;align-self:stretch;cursor:nwse-resize;display:flex;flex:0 0 auto;justify-content:flex-end;margin-bottom:3px;margin-left:4px;margin-right:calc(3px - 8px);margin-top:3px;padding-bottom:0;padding-left:0;padding-right:0;position:relative}.tox .tox-statusbar__resize-handle svg{display:block;fill:rgba(34,47,62,0.5)}.tox .tox-statusbar__resize-handle:focus svg,.tox .tox-statusbar__resize-handle:hover svg{fill:#222f3e}.tox .tox-statusbar__resize-handle:focus-visible{background-color:transparent;border-radius:1px 1px 5px 1px;box-shadow:0 0 0 2px transparent}.tox .tox-statusbar__resize-handle:focus-visible::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-statusbar__resize-handle:focus-visible::after{border:2px solid highlight}}.tox:not([dir=rtl]) .tox-statusbar__path>*{margin-right:4px}.tox:not([dir=rtl]) .tox-statusbar__branding{margin-left:2ch}.tox[dir=rtl] .tox-statusbar{flex-direction:row-reverse}.tox[dir=rtl] .tox-statusbar__path>*{margin-left:4px}.tox[dir=rtl] .tox-statusbar__branding svg{margin-left:0;margin-right:.3em}.tox .tox-throbber{z-index:1299}.tox .tox-throbber__busy-spinner{align-items:center;background-color:rgba(255,255,255,.6);bottom:0;display:flex;justify-content:center;left:0;position:absolute;right:0;top:0}.tox .tox-tbtn{align-items:center;background:#fff;border:0;border-radius:3px;box-shadow:none;color:#222f3e;display:flex;flex:0 0 auto;font-size:14px;font-style:normal;font-weight:400;height:28px;justify-content:center;margin:6px 1px 5px 0;outline:0;padding:0;text-transform:none;width:34px}@media (forced-colors:active){.tox .tox-tbtn.tox-tbtn:hover,.tox .tox-tbtn:hover{outline:1px dashed currentColor}.tox .tox-tbtn.tox-tbtn--active,.tox .tox-tbtn.tox-tbtn--enabled,.tox .tox-tbtn.tox-tbtn--enabled:focus,.tox .tox-tbtn.tox-tbtn--enabled:hover,.tox .tox-tbtn:focus:not(.tox-tbtn--disabled){outline:1px solid currentColor;position:relative}}.tox .tox-tbtn svg{display:block;fill:#222f3e}@media (forced-colors:active){.tox .tox-tbtn svg{fill:currentColor!important}.tox .tox-tbtn svg.tox-tbtn--enabled,.tox .tox-tbtn svg:focus:not(.tox-tbtn--disabled){fill:currentColor!important}.tox .tox-tbtn svg .tox-tbtn:disabled,.tox .tox-tbtn svg .tox-tbtn:disabled:hover,.tox .tox-tbtn svg.tox-tbtn--disabled,.tox .tox-tbtn svg.tox-tbtn--disabled:hover{filter:contrast(0%)}}.tox .tox-tbtn.tox-tbtn-more{padding-left:5px;padding-right:5px;width:inherit}.tox .tox-tbtn:focus{background:#fff;border:0;box-shadow:none;position:relative;z-index:1}.tox .tox-tbtn:focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-tbtn:focus::after{border:2px solid highlight}}.tox .tox-tbtn:hover{background:#f0f0f0;border:0;box-shadow:none;color:#222f3e}.tox .tox-tbtn:hover svg{fill:#222f3e}.tox .tox-tbtn:active{background:#a6ccf7;border:0;box-shadow:none;color:#222f3e}.tox .tox-tbtn:active svg{fill:#222f3e}.tox .tox-tbtn--disabled .tox-tbtn--enabled svg{fill:rgba(34,47,62,0.5)}.tox .tox-tbtn--disabled,.tox .tox-tbtn--disabled:hover,.tox .tox-tbtn:disabled,.tox .tox-tbtn:disabled:hover{background:#fff;border:0;box-shadow:none;color:rgba(34,47,62,.5);cursor:not-allowed}.tox .tox-tbtn--disabled svg,.tox .tox-tbtn--disabled:hover svg,.tox .tox-tbtn:disabled svg,.tox .tox-tbtn:disabled:hover svg{fill:rgba(34,47,62,0.5)}.tox .tox-tbtn--active,.tox .tox-tbtn--enabled,.tox .tox-tbtn--enabled:focus,.tox .tox-tbtn--enabled:hover{background:#a6ccf7;border:0;box-shadow:none;color:#222f3e;position:relative}.tox .tox-tbtn--active>*,.tox .tox-tbtn--enabled:focus>*,.tox .tox-tbtn--enabled:hover>*,.tox .tox-tbtn--enabled>*{transform:none}.tox .tox-tbtn--active svg,.tox .tox-tbtn--enabled svg,.tox .tox-tbtn--enabled:focus svg,.tox .tox-tbtn--enabled:hover svg{fill:#222f3e}.tox .tox-tbtn--active.tox-tbtn--disabled svg,.tox .tox-tbtn--enabled.tox-tbtn--disabled svg,.tox .tox-tbtn--enabled:focus.tox-tbtn--disabled svg,.tox .tox-tbtn--enabled:hover.tox-tbtn--disabled svg{fill:rgba(34,47,62,0.5)}.tox .tox-tbtn--enabled:focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-tbtn--enabled:focus::after{border:2px solid highlight}}.tox .tox-tbtn:focus:not(.tox-tbtn--disabled){color:#222f3e}.tox .tox-tbtn:focus:not(.tox-tbtn--disabled) svg{fill:#222f3e}.tox .tox-tbtn:active>*{transform:none}.tox .tox-tbtn--md{height:42px;width:51px}.tox .tox-tbtn--lg{flex-direction:column;height:56px;width:68px}.tox .tox-tbtn--return{align-self:stretch;height:unset;width:16px}.tox .tox-tbtn--labeled{padding:0 4px;width:unset}.tox .tox-tbtn__vlabel{display:block;font-size:10px;font-weight:400;letter-spacing:-.025em;margin-bottom:4px;white-space:nowrap}.tox .tox-number-input{background:#f7f7f7;border-radius:3px;display:flex;margin:6px 1px 5px 0;position:relative;width:auto}.tox .tox-number-input:focus{background:#f7f7f7}.tox .tox-number-input:focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-number-input:focus::after{border:2px solid highlight}}.tox .tox-number-input .tox-input-wrapper{display:flex;pointer-events:none;position:relative;text-align:center}.tox .tox-number-input .tox-input-wrapper:focus{background-color:#f7f7f7;z-index:1}.tox .tox-number-input .tox-input-wrapper:focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-number-input .tox-input-wrapper:focus::after{border:2px solid highlight}}.tox .tox-number-input .tox-input-wrapper:has(input:focus)::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-number-input .tox-input-wrapper:has(input:focus)::after{border:2px solid highlight}}.tox .tox-number-input input{border-radius:3px;color:#222f3e;font-size:14px;margin:2px 0;pointer-events:all;position:relative;width:60px}.tox .tox-number-input input:hover{background:#f0f0f0;color:#222f3e}.tox .tox-number-input input:focus{background-color:#f7f7f7}.tox .tox-number-input input:disabled{background:#fff;border:0;box-shadow:none;color:rgba(34,47,62,.5);cursor:not-allowed}.tox .tox-number-input button{color:#222f3e;height:28px;position:relative;text-align:center;width:24px}@media (forced-colors:active){.tox .tox-number-input button:active,.tox .tox-number-input button:focus,.tox .tox-number-input button:hover{outline:1px solid currentColor!important}}.tox .tox-number-input button svg{display:block;fill:#222f3e;margin:0 auto;transform:scale(.67)}@media (forced-colors:active){.tox .tox-number-input button svg,.tox .tox-number-input button svg:active,.tox .tox-number-input button svg:hover{fill:currentColor!important}.tox .tox-number-input button svg:disabled{filter:contrast(0)}}.tox .tox-number-input button:focus{background:#f7f7f7;z-index:1}.tox .tox-number-input button:focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-number-input button:focus::after{border:2px solid highlight}}.tox .tox-number-input button:hover{background:#f0f0f0;border:0;box-shadow:none;color:#222f3e}.tox .tox-number-input button:hover svg{fill:#222f3e}.tox .tox-number-input button:active{background:#a6ccf7;border:0;box-shadow:none;color:#222f3e}.tox .tox-number-input button:active svg{fill:#222f3e}.tox .tox-number-input button:disabled{background:#fff;border:0;box-shadow:none;color:rgba(34,47,62,.5);cursor:not-allowed}.tox .tox-number-input button:disabled svg{fill:rgba(34,47,62,0.5)}.tox .tox-number-input button.minus{border-radius:3px 0 0 3px}.tox .tox-number-input button.plus{border-radius:0 3px 3px 0}.tox .tox-number-input:focus:not(:active)>.tox-input-wrapper,.tox .tox-number-input:focus:not(:active)>button{background:#f7f7f7}.tox .tox-tbtn--select{margin:6px 1px 5px 0;padding:0 4px;width:auto}.tox .tox-tbtn__select-label{cursor:default;font-weight:400;height:initial;margin:0 4px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.tox .tox-tbtn__select-chevron{align-items:center;display:flex;justify-content:center;width:16px}.tox .tox-tbtn__select-chevron svg{fill:rgba(34,47,62,0.5)}@media (forced-colors:active){.tox .tox-tbtn__select-chevron svg{fill:currentColor}}.tox .tox-tbtn--bespoke{background:#f7f7f7}.tox .tox-tbtn--bespoke:focus{background:#f7f7f7}.tox .tox-tbtn--bespoke+.tox-tbtn--bespoke{margin-inline-start:4px}.tox .tox-tbtn--bespoke .tox-tbtn__select-label{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;width:7em}.tox .tox-tbtn--disabled .tox-tbtn__select-label,.tox .tox-tbtn--select:disabled .tox-tbtn__select-label{cursor:not-allowed}.tox .tox-split-button{border:0;border-radius:3px;box-sizing:border-box;display:flex;margin:6px 1px 5px 0}.tox .tox-split-button:hover{box-shadow:0 0 0 1px #f0f0f0 inset}.tox .tox-split-button:focus{background:#fff;box-shadow:none;color:#222f3e;position:relative;z-index:1}.tox .tox-split-button:focus::after{pointer-events:none;border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-split-button:focus::after{border:2px solid highlight}}.tox .tox-split-button>*{border-radius:0}.tox .tox-split-button>:first-child{border-bottom-left-radius:3px;border-top-left-radius:3px}.tox .tox-split-button>:nth-child(2){border-bottom-right-radius:3px;border-top-right-radius:3px}.tox .tox-split-button__chevron{width:16px}.tox .tox-split-button__chevron svg{fill:rgba(34,47,62,0.5)}@media (forced-colors:active){.tox .tox-split-button__chevron svg{fill:currentColor}}.tox .tox-split-button .tox-tbtn{margin:0}.tox .tox-split-button:focus .tox-tbtn{background-color:transparent}.tox .tox-split-button.tox-tbtn--disabled .tox-tbtn:focus,.tox .tox-split-button.tox-tbtn--disabled .tox-tbtn:hover,.tox .tox-split-button.tox-tbtn--disabled:focus,.tox .tox-split-button.tox-tbtn--disabled:hover{background:#fff;box-shadow:none;color:rgba(34,47,62,.5)}.tox.tox-platform-touch .tox-split-button .tox-tbtn--select{padding:0 0}.tox.tox-platform-touch .tox-split-button .tox-tbtn:not(.tox-tbtn--select):first-child{width:30px}.tox.tox-platform-touch .tox-split-button__chevron{width:20px}.tox .tox-split-button.tox-tbtn--disabled svg #tox-icon-highlight-bg-color__color,.tox .tox-split-button.tox-tbtn--disabled svg #tox-icon-text-color__color{opacity:.6}.tox .tox-toolbar-overlord{background-color:#fff}.tox .tox-toolbar,.tox .tox-toolbar__overflow,.tox .tox-toolbar__primary{background-attachment:local;background-color:#fff;background-image:repeating-linear-gradient(#e3e3e3 0 1px,transparent 1px 39px);background-position:center top 40px;background-repeat:no-repeat;background-size:calc(100% - 11px * 2) calc(100% - 41px);display:flex;flex:0 0 auto;flex-shrink:0;flex-wrap:wrap;padding:0 0;transform:perspective(1px)}.tox .tox-toolbar-overlord>.tox-toolbar,.tox .tox-toolbar-overlord>.tox-toolbar__overflow,.tox .tox-toolbar-overlord>.tox-toolbar__primary{background-position:center top 0;background-size:calc(100% - 11px * 2) calc(100% - 0)}.tox .tox-toolbar__overflow.tox-toolbar__overflow--closed{height:0;opacity:0;padding-bottom:0;padding-top:0;visibility:hidden}.tox .tox-toolbar__overflow--growing{transition:height .3s ease,opacity .2s linear .1s}.tox .tox-toolbar__overflow--shrinking{transition:opacity .3s ease,height .2s linear .1s,visibility 0s linear .3s}.tox .tox-anchorbar,.tox .tox-toolbar-overlord{grid-column:1/-1}.tox .tox-menubar+.tox-toolbar,.tox .tox-menubar+.tox-toolbar-overlord{border-top:1px solid transparent;margin-top:-1px;padding-bottom:1px;padding-top:1px}@media (forced-colors:active){.tox .tox-menubar+.tox-toolbar,.tox .tox-menubar+.tox-toolbar-overlord{outline:1px solid currentColor}}.tox .tox-toolbar--scrolling{flex-wrap:nowrap;overflow-x:auto}.tox .tox-pop .tox-toolbar{border-width:0}.tox .tox-toolbar--no-divider{background-image:none}.tox .tox-toolbar-overlord .tox-toolbar:not(.tox-toolbar--scrolling):first-child,.tox .tox-toolbar-overlord .tox-toolbar__primary{background-position:center top 39px}.tox .tox-editor-header>.tox-toolbar--scrolling,.tox .tox-toolbar-overlord .tox-toolbar--scrolling:first-child{background-image:none}.tox.tox-tinymce-aux .tox-toolbar__overflow{background-color:#fff;background-position:center top 43px;background-size:calc(100% - 8px * 2) calc(100% - 51px);border:none;border-radius:6px;box-shadow:0 0 2px 0 rgba(34,47,62,.2),0 4px 8px 0 rgba(34,47,62,.15);overscroll-behavior:none;padding:4px 0}@media (forced-colors:active){.tox.tox-tinymce-aux .tox-toolbar__overflow{border:solid}}.tox-pop .tox-pop__dialog .tox-toolbar{background-position:center top 43px;background-size:calc(100% - 11px * 2) calc(100% - 51px);padding:4px 0}.tox .tox-toolbar__group{align-items:center;display:flex;flex-wrap:wrap;margin:0 0;padding:0 11px 0 12px}.tox .tox-toolbar__group--pull-right{margin-left:auto}.tox .tox-toolbar--scrolling .tox-toolbar__group{flex-shrink:0;flex-wrap:nowrap}.tox:not([dir=rtl]) .tox-toolbar__group:not(:last-of-type){border-right:1px solid transparent}.tox[dir=rtl] .tox-toolbar__group:not(:last-of-type){border-left:1px solid transparent}.tox .tox-tooltip{display:inline-block;max-width:15em;padding:8px;pointer-events:none;position:relative;width:max-content;z-index:1150}.tox .tox-tooltip__body{background-color:#222f3e;border-radius:6px;box-shadow:none;color:#fff;font-size:12px;font-style:normal;font-weight:600;overflow-wrap:break-word;padding:4px 6px;text-transform:none}@media (forced-colors:active){.tox .tox-tooltip__body{outline:outset 1px}}.tox .tox-tooltip__arrow{position:absolute}.tox .tox-tooltip--down .tox-tooltip__arrow{border-left:8px solid transparent;border-right:8px solid transparent;border-top:8px solid #222f3e;bottom:0;left:50%;position:absolute;transform:translateX(-50%)}.tox .tox-tooltip--up .tox-tooltip__arrow{border-bottom:8px solid #222f3e;border-left:8px solid transparent;border-right:8px solid transparent;left:50%;position:absolute;top:0;transform:translateX(-50%)}.tox .tox-tooltip--right .tox-tooltip__arrow{border-bottom:8px solid transparent;border-left:8px solid #222f3e;border-top:8px solid transparent;position:absolute;right:0;top:50%;transform:translateY(-50%)}.tox .tox-tooltip--left .tox-tooltip__arrow{border-bottom:8px solid transparent;border-right:8px solid #222f3e;border-top:8px solid transparent;left:0;position:absolute;top:50%;transform:translateY(-50%)}.tox .tox-tree{display:flex;flex-direction:column}.tox .tox-tree .tox-trbtn{align-items:center;background:0 0;border:0;border-radius:4px;box-shadow:none;color:#222f3e;display:flex;flex:0 0 auto;font-size:14px;font-style:normal;font-weight:400;height:28px;margin-bottom:4px;margin-top:4px;outline:0;overflow:hidden;padding:0;padding-left:8px;text-transform:none}.tox .tox-tree .tox-trbtn .tox-tree__label{cursor:default;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.tox .tox-tree .tox-trbtn svg{display:block;fill:#222f3e}.tox .tox-tree .tox-trbtn:focus{background:#f0f0f0;border:0;box-shadow:none}.tox .tox-tree .tox-trbtn:hover{background:#f0f0f0;border:0;box-shadow:none;color:#222f3e}.tox .tox-tree .tox-trbtn:hover svg{fill:#222f3e}.tox .tox-tree .tox-trbtn:active{background:#a6ccf7;border:0;box-shadow:none;color:#222f3e}.tox .tox-tree .tox-trbtn:active svg{fill:#222f3e}.tox .tox-tree .tox-trbtn--disabled,.tox .tox-tree .tox-trbtn--disabled:hover,.tox .tox-tree .tox-trbtn:disabled,.tox .tox-tree .tox-trbtn:disabled:hover{background:0 0;border:0;box-shadow:none;color:rgba(34,47,62,.5);cursor:not-allowed}.tox .tox-tree .tox-trbtn--disabled svg,.tox .tox-tree .tox-trbtn--disabled:hover svg,.tox .tox-tree .tox-trbtn:disabled svg,.tox .tox-tree .tox-trbtn:disabled:hover svg{fill:rgba(34,47,62,0.5)}.tox .tox-tree .tox-trbtn--enabled,.tox .tox-tree .tox-trbtn--enabled:hover{background:#a6ccf7;border:0;box-shadow:none;color:#222f3e}.tox .tox-tree .tox-trbtn--enabled:hover>*,.tox .tox-tree .tox-trbtn--enabled>*{transform:none}.tox .tox-tree .tox-trbtn--enabled svg,.tox .tox-tree .tox-trbtn--enabled:hover svg{fill:#222f3e}.tox .tox-tree .tox-trbtn:focus:not(.tox-trbtn--disabled){color:#222f3e}.tox .tox-tree .tox-trbtn:focus:not(.tox-trbtn--disabled) svg{fill:#222f3e}.tox .tox-tree .tox-trbtn:active>*{transform:none}.tox .tox-tree .tox-trbtn--return{align-self:stretch;height:unset;width:16px}.tox .tox-tree .tox-trbtn--labeled{padding:0 4px;width:unset}.tox .tox-tree .tox-trbtn__vlabel{display:block;font-size:10px;font-weight:400;letter-spacing:-.025em;margin-bottom:4px;white-space:nowrap}.tox .tox-tree .tox-tree--directory{display:flex;flex-direction:column}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label{font-weight:700}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label .tox-mbtn{margin-left:auto}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label .tox-mbtn svg{fill:transparent}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label .tox-mbtn.tox-mbtn--active svg,.tox .tox-tree .tox-tree--directory .tox-tree--directory__label .tox-mbtn:focus svg{fill:#222f3e}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:focus .tox-mbtn svg,.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:hover .tox-mbtn svg{fill:#222f3e}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:hover:has(.tox-mbtn:hover){background-color:transparent;color:#222f3e}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:hover:has(.tox-mbtn:hover) .tox-chevron svg{fill:#222f3e}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label .tox-chevron{margin-right:6px}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:has(+ .tox-tree--directory__children--growing) .tox-chevron,.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:has(+ .tox-tree--directory__children--shrinking) .tox-chevron{transition:transform .5s ease-in-out}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:has(+ .tox-tree--directory__children--growing) .tox-chevron,.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:has(+ .tox-tree--directory__children--open) .tox-chevron{transform:rotate(90deg)}.tox .tox-tree .tox-tree--leaf__label{font-weight:400}.tox .tox-tree .tox-tree--leaf__label .tox-mbtn{margin-left:auto}.tox .tox-tree .tox-tree--leaf__label .tox-mbtn svg{fill:transparent}.tox .tox-tree .tox-tree--leaf__label .tox-mbtn.tox-mbtn--active svg,.tox .tox-tree .tox-tree--leaf__label .tox-mbtn:focus svg{fill:#222f3e}.tox .tox-tree .tox-tree--leaf__label:hover .tox-mbtn svg{fill:#222f3e}.tox .tox-tree .tox-tree--leaf__label:hover:has(.tox-mbtn:hover){background-color:transparent;color:#222f3e}.tox .tox-tree .tox-tree--leaf__label:hover:has(.tox-mbtn:hover) .tox-chevron svg{fill:#222f3e}.tox .tox-tree .tox-tree--directory__children{overflow:hidden;padding-left:16px}.tox .tox-tree .tox-tree--directory__children.tox-tree--directory__children--growing,.tox .tox-tree .tox-tree--directory__children.tox-tree--directory__children--shrinking{transition:height .5s ease-in-out}.tox .tox-tree .tox-trbtn.tox-tree--leaf__label{display:flex;justify-content:space-between}.tox .tox-revisionhistory__pane{padding:0!important}.tox .tox-revisionhistory__container{display:flex;flex-direction:column;height:100%}.tox .tox-revisionhistory{background-color:#fff;border-top:1px solid #f0f0f0;display:flex;flex:1;height:100%;margin-top:8px;overflow-x:auto;overflow-y:hidden;position:relative;width:100%}.tox .tox-revisionhistory--align-right{margin-left:auto}.tox .tox-revisionhistory__iframe{flex:1}.tox .tox-revisionhistory__sidebar{display:flex;flex-direction:column;height:100%;min-width:248px;width:316px}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__sidebar-title{background-color:#fff;box-shadow:0 4px 8px 0 rgba(34,47,62,.1);color:#222f3e;font-size:20px;font-weight:400;line-height:28px;padding:12px;z-index:1}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions{background-color:#f0f0f0;display:flex;flex:1;flex-direction:column;gap:12px;overflow-y:auto;padding:10px 12px}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions:focus{height:100%;position:relative;z-index:1}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions:focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0;border-radius:6px;bottom:1px;left:1px;right:1px;top:1px}@media (forced-colors:active){.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions:focus::after{border:2px solid highlight}}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card{background-color:#fff;border:1px solid #f0f0f0;border-radius:6px;color:#222f3e;cursor:pointer;display:flex;flex-direction:column;font-size:14px;gap:12px;padding:12px;width:100%}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card:hover{box-shadow:0 4px 8px 0 rgba(34,47,62,.1)}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card:focus{position:relative;z-index:1}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card:focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7 #006ce7;content:'';left:0;position:absolute;right:0;top:0;border-radius:6px;box-shadow:0 0 0 2px #006ce7;box-shadow:0 0 0 2px #006ce7!important}@media (forced-colors:active){.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card:focus::after{border:2px solid highlight}}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card.tox-revisionhistory__card--selected{background-color:#fff5cc;box-shadow:0 4px 8px 0 rgba(34,47,62,.1);position:relative}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card.tox-revisionhistory__card--selected::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7 #e3b82a;content:'';left:0;position:absolute;right:0;top:0;border-radius:6px;box-shadow:0 0 0 2px #e3b82a}@media (forced-colors:active){.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card.tox-revisionhistory__card--selected::after{border:2px solid highlight}}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card-date{display:flex;gap:12px;justify-content:space-between}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card-date-label{font-size:16px;line-height:24px}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card-label{font-size:12px;font-weight:600;line-height:24px;padding:0}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card-author{align-items:center;display:flex;flex:1 0 0;gap:8px;height:36px}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card-author-name{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;font-size:14px;font-weight:700;line-height:18px}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__avatar{border-radius:50%;height:36px;object-fit:cover;vertical-align:middle;width:36px}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__norevision{color:rgba(34,47,62,.7);font-size:16px;line-height:24px;padding:5px 5.5px}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card-check-icon{color:#222f3e;height:24px}.tox .tox-view-wrap,.tox .tox-view-wrap__slot-container{background-color:#fff;display:flex;flex:1;flex-direction:column;height:100%}.tox .tox-view{display:flex;flex:1 1 auto;flex-direction:column;overflow:hidden}.tox .tox-view__header{align-items:center;display:flex;font-size:16px;justify-content:space-between;padding:10px 10px 2px 10px;position:relative}.tox .tox-view__label{color:#222f3e;font-weight:700;line-height:24px;padding:4px 16px;text-align:center;white-space:nowrap}.tox .tox-view__label--normal{font-size:16px}.tox .tox-view__label--large{font-size:20px}.tox .tox-view--mobile.tox-view__header,.tox .tox-view--mobile.tox-view__toolbar{padding:8px}.tox .tox-view--scrolling{flex-wrap:nowrap;overflow-x:auto}.tox .tox-view__toolbar{display:flex;flex-direction:row;gap:8px;justify-content:space-between;overflow-x:auto;padding:10px 10px 2px 10px}.tox .tox-view__toolbar__group{display:flex;flex-direction:row;gap:12px}.tox .tox-view__header-end,.tox .tox-view__header-start{display:flex}.tox .tox-view__pane{height:100%;padding:8px;position:relative;width:100%}.tox .tox-view__pane_panel{border:1px solid #eee;border-radius:6px}.tox:not([dir=rtl]) .tox-view__header .tox-view__header-end>*,.tox:not([dir=rtl]) .tox-view__header .tox-view__header-start>*{margin-left:8px}.tox[dir=rtl] .tox-view__header .tox-view__header-end>*,.tox[dir=rtl] .tox-view__header .tox-view__header-start>*{margin-right:8px}.tox .tox-well{border:1px solid #eee;border-radius:6px;padding:8px;width:100%}.tox .tox-well>:first-child{margin-top:0}.tox .tox-well>:last-child{margin-bottom:0}.tox .tox-well>:only-child{margin:0}.tox .tox-custom-editor{border:1px solid #eee;border-radius:6px;display:flex;flex:1;overflow:hidden;position:relative}.tox .tox-dialog-loading::before{background-color:rgba(0,0,0,.5);content:"";height:100%;position:absolute;width:100%;z-index:1000}.tox .tox-tab{cursor:pointer}.tox .tox-dialog__content-js{display:flex;flex:1}.tox .tox-dialog__body-content .tox-collection{display:flex;flex:1}`);tinymce.Resource.add("ui/default/content.css",`.mce-content-body .mce-item-anchor{background:transparent url("data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D'8'%20height%3D'12'%20xmlns%3D'http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg'%3E%3Cpath%20d%3D'M0%200L8%200%208%2012%204.09117821%209%200%2012z'%2F%3E%3C%2Fsvg%3E%0A") no-repeat center}.mce-content-body .mce-item-anchor:empty{cursor:default;display:inline-block;height:12px!important;padding:0 2px;-webkit-user-modify:read-only;-moz-user-modify:read-only;-webkit-user-select:all;user-select:all;width:8px!important}.mce-content-body .mce-item-anchor:not(:empty){background-position-x:2px;display:inline-block;padding-left:12px}.mce-content-body .mce-item-anchor[data-mce-selected]{outline-offset:1px}.tox-comments-visible .tox-comment[contenteditable=false]:not([data-mce-selected]),.tox-comments-visible span.tox-comment img:not([data-mce-selected]),.tox-comments-visible span.tox-comment span.mce-preview-object:not([data-mce-selected]),.tox-comments-visible span.tox-comment>audio:not([data-mce-selected]),.tox-comments-visible span.tox-comment>video:not([data-mce-selected]){outline:3px solid #ffe89d}.tox-comments-visible .tox-comment[contenteditable=false][data-mce-annotation-active=true]:not([data-mce-selected]){outline:3px solid #fed635}.tox-comments-visible span.tox-comment[data-mce-annotation-active=true] img:not([data-mce-selected]),.tox-comments-visible span.tox-comment[data-mce-annotation-active=true] span.mce-preview-object:not([data-mce-selected]),.tox-comments-visible span.tox-comment[data-mce-annotation-active=true]>audio:not([data-mce-selected]),.tox-comments-visible span.tox-comment[data-mce-annotation-active=true]>video:not([data-mce-selected]){outline:3px solid #fed635}.tox-comments-visible span.tox-comment:not([data-mce-selected]){background-color:#ffe89d;outline:0}.tox-comments-visible span.tox-comment[data-mce-annotation-active=true]:not([data-mce-selected=inline-boundary]){background-color:#fed635}.tox-checklist>li:not(.tox-checklist--hidden){list-style:none;margin:.25em 0}.tox-checklist>li:not(.tox-checklist--hidden)::before{content:url("data:image/svg+xml;charset=UTF-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2216%22%20height%3D%2216%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cg%20id%3D%22checklist-unchecked%22%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%3E%3Crect%20id%3D%22Rectangle%22%20width%3D%2215%22%20height%3D%2215%22%20x%3D%22.5%22%20y%3D%22.5%22%20fill-rule%3D%22nonzero%22%20stroke%3D%22%234C4C4C%22%20rx%3D%222%22%2F%3E%3C%2Fg%3E%3C%2Fsvg%3E%0A");cursor:pointer;height:1em;margin-left:-1.5em;margin-top:.125em;position:absolute;width:1em}.tox-checklist li:not(.tox-checklist--hidden).tox-checklist--checked::before{content:url("data:image/svg+xml;charset=UTF-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2216%22%20height%3D%2216%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cg%20id%3D%22checklist-checked%22%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%3E%3Crect%20id%3D%22Rectangle%22%20width%3D%2216%22%20height%3D%2216%22%20fill%3D%22%234099FF%22%20fill-rule%3D%22nonzero%22%20rx%3D%222%22%2F%3E%3Cpath%20id%3D%22Path%22%20fill%3D%22%23FFF%22%20fill-rule%3D%22nonzero%22%20d%3D%22M11.5703186%2C3.14417309%20C11.8516238%2C2.73724603%2012.4164781%2C2.62829933%2012.83558%2C2.89774797%20C13.260121%2C3.17069355%2013.3759736%2C3.72932262%2013.0909105%2C4.14168582%20L7.7580587%2C11.8560195%20C7.43776896%2C12.3193404%206.76483983%2C12.3852142%206.35607322%2C11.9948725%20L3.02491697%2C8.8138662%20C2.66090143%2C8.46625845%202.65798871%2C7.89594698%203.01850234%2C7.54483354%20C3.373942%2C7.19866177%203.94940006%2C7.19592841%204.30829608%2C7.5386474%20L6.85276923%2C9.9684299%20L11.5703186%2C3.14417309%20Z%22%2F%3E%3C%2Fg%3E%3C%2Fsvg%3E%0A")}[dir=rtl] .tox-checklist>li:not(.tox-checklist--hidden)::before{margin-left:0;margin-right:-1.5em}code[class*=language-],pre[class*=language-]{color:#000;background:0 0;text-shadow:0 1px #fff;font-family:Consolas,Monaco,'Andale Mono','Ubuntu Mono',monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;tab-size:4;-webkit-hyphens:none;hyphens:none}code[class*=language-] ::selection,code[class*=language-]::selection,pre[class*=language-] ::selection,pre[class*=language-]::selection{text-shadow:none;background:#b3d4fc}@media print{code[class*=language-],pre[class*=language-]{text-shadow:none}}pre[class*=language-]{padding:1em;margin:.5em 0;overflow:auto}:not(pre)>code[class*=language-],pre[class*=language-]{background:#f5f2f0}:not(pre)>code[class*=language-]{padding:.1em;border-radius:.3em;white-space:normal}.token.cdata,.token.comment,.token.doctype,.token.prolog{color:#708090}.token.punctuation{color:#999}.token.namespace{opacity:.7}.token.boolean,.token.constant,.token.deleted,.token.number,.token.property,.token.symbol,.token.tag{color:#905}.token.attr-name,.token.builtin,.token.char,.token.inserted,.token.selector,.token.string{color:#690}.language-css .token.string,.style .token.string,.token.entity,.token.operator,.token.url{color:#9a6e3a;background:hsla(0,0%,100%,.5)}.token.atrule,.token.attr-value,.token.keyword{color:#07a}.token.class-name,.token.function{color:#dd4a68}.token.important,.token.regex,.token.variable{color:#e90}.token.bold,.token.important{font-weight:700}.token.italic{font-style:italic}.token.entity{cursor:help}.mce-content-body{overflow-wrap:break-word;word-wrap:break-word}.mce-content-body .mce-visual-caret{background-color:#000;background-color:currentColor;position:absolute}.mce-content-body .mce-visual-caret-hidden{display:none}.mce-content-body [data-mce-caret]{left:-1000px;margin:0;padding:0;position:absolute;right:auto;top:0}.mce-content-body .mce-offscreen-selection{left:-2000000px;max-width:1000000px;position:absolute}.mce-content-body [contentEditable=false]{cursor:default}.mce-content-body [contentEditable=true]{cursor:text}.tox-cursor-format-painter{cursor:url("data:image/svg+xml;charset=UTF-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2224%22%20height%3D%2224%22%20viewBox%3D%220%200%2024%2024%22%3E%0A%20%20%3Cg%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%3E%0A%20%20%20%20%3Cpath%20fill%3D%22%23000%22%20fill-rule%3D%22nonzero%22%20d%3D%22M15%2C6%20C15%2C5.45%2014.55%2C5%2014%2C5%20L6%2C5%20C5.45%2C5%205%2C5.45%205%2C6%20L5%2C10%20C5%2C10.55%205.45%2C11%206%2C11%20L14%2C11%20C14.55%2C11%2015%2C10.55%2015%2C10%20L15%2C9%20L16%2C9%20L16%2C12%20L9%2C12%20L9%2C19%20C9%2C19.55%209.45%2C20%2010%2C20%20L11%2C20%20C11.55%2C20%2012%2C19.55%2012%2C19%20L12%2C14%20L18%2C14%20L18%2C7%20L15%2C7%20L15%2C6%20Z%22%2F%3E%0A%20%20%20%20%3Cpath%20fill%3D%22%23000%22%20fill-rule%3D%22nonzero%22%20d%3D%22M1%2C1%20L8.25%2C1%20C8.66421356%2C1%209%2C1.33578644%209%2C1.75%20L9%2C1.75%20C9%2C2.16421356%208.66421356%2C2.5%208.25%2C2.5%20L2.5%2C2.5%20L2.5%2C8.25%20C2.5%2C8.66421356%202.16421356%2C9%201.75%2C9%20L1.75%2C9%20C1.33578644%2C9%201%2C8.66421356%201%2C8.25%20L1%2C1%20Z%22%2F%3E%0A%20%20%3C%2Fg%3E%0A%3C%2Fsvg%3E%0A"),default}div.mce-footnotes hr{margin-inline:0 auto;width:25%}div.mce-footnotes li>a.mce-footnotes-backlink{-webkit-text-decoration:none;text-decoration:none}@media print{sup.mce-footnote a{color:#000;-webkit-text-decoration:none;text-decoration:none}div.mce-footnotes{page-break-inside:avoid;break-inside:avoid;width:100%}div.mce-footnotes li>a.mce-footnotes-backlink{display:none}}tiny-math-block{display:flex;justify-content:center;margin:16px 0 16px 0}tiny-math-inline{display:inline-block}.mce-content-body figure.align-left{float:left}.mce-content-body figure.align-right{float:right}.mce-content-body figure.image.align-center{display:table;margin-left:auto;margin-right:auto}.mce-preview-object{border:1px solid gray;display:inline-block;line-height:0;margin:0 2px;position:relative}.mce-preview-object .mce-shim{background:url("data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7");height:100%;left:0;position:absolute;top:0;width:100%}.mce-preview-object[data-mce-selected="2"] .mce-shim{display:none}.mce-content-body .mce-mergetag{cursor:default!important;-webkit-user-select:none;user-select:none}.mce-content-body .mce-mergetag:hover{background-color:rgba(0,108,231,.1)}.mce-content-body .mce-mergetag-affix{background-color:rgba(0,108,231,.1);color:#006ce7}.mce-object{background:transparent url("data:image/svg+xml;charset=UTF-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2224%22%20height%3D%2224%22%3E%3Cpath%20d%3D%22M4%203h16a1%201%200%200%201%201%201v16a1%201%200%200%201-1%201H4a1%201%200%200%201-1-1V4a1%201%200%200%201%201-1zm1%202v14h14V5H5zm4.79%202.565l5.64%204.028a.5.5%200%200%201%200%20.814l-5.64%204.028a.5.5%200%200%201-.79-.407V7.972a.5.5%200%200%201%20.79-.407z%22%2F%3E%3C%2Fsvg%3E%0A") no-repeat center;border:1px dashed #aaa}.mce-pagebreak{border:1px dashed #aaa;cursor:default;display:block;height:5px;margin-top:15px;page-break-before:always;width:100%}@media print{.mce-pagebreak{border:0}}.tiny-pageembed .mce-shim{background:url(data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7);height:100%;left:0;position:absolute;top:0;width:100%}.tiny-pageembed[data-mce-selected="2"] .mce-shim{display:none}.tiny-pageembed{display:inline-block;position:relative}.tiny-pageembed--16by9,.tiny-pageembed--1by1,.tiny-pageembed--21by9,.tiny-pageembed--4by3{display:block;overflow:hidden;padding:0;position:relative;width:100%}.tiny-pageembed--21by9{padding-top:42.857143%}.tiny-pageembed--16by9{padding-top:56.25%}.tiny-pageembed--4by3{padding-top:75%}.tiny-pageembed--1by1{padding-top:100%}.tiny-pageembed--16by9 iframe,.tiny-pageembed--1by1 iframe,.tiny-pageembed--21by9 iframe,.tiny-pageembed--4by3 iframe{border:0;height:100%;left:0;position:absolute;top:0;width:100%}.mce-content-body[data-mce-placeholder]{position:relative}.mce-content-body[data-mce-placeholder]:not(.mce-visualblocks)::before{color:rgba(34,47,62,.7);content:attr(data-mce-placeholder);position:absolute}@media (forced-colors:active){.mce-content-body[data-mce-placeholder]:not(.mce-visualblocks)::before{color:highlight;filter:brightness(30%);z-index:-1}}.mce-content-body:not([dir=rtl])[data-mce-placeholder]:not(.mce-visualblocks)::before{left:1px}.mce-content-body[dir=rtl][data-mce-placeholder]:not(.mce-visualblocks)::before{right:1px}.mce-content-body div.mce-resizehandle{background-color:#4099ff;border-color:#4099ff;border-style:solid;border-width:1px;box-sizing:border-box;height:10px;position:absolute;width:10px;z-index:1298}.mce-content-body div.mce-resizehandle:hover{background-color:#4099ff}.mce-content-body div.mce-resizehandle:first-of-type{cursor:nwse-resize}.mce-content-body div.mce-resizehandle:nth-of-type(2){cursor:nesw-resize}.mce-content-body div.mce-resizehandle:nth-of-type(3){cursor:nwse-resize}.mce-content-body div.mce-resizehandle:nth-of-type(4){cursor:nesw-resize}.mce-content-body .mce-resize-backdrop{z-index:10000}.mce-content-body .mce-clonedresizable{cursor:default;opacity:.5;outline:1px dashed black;position:absolute;z-index:10001}.mce-content-body .mce-clonedresizable.mce-resizetable-columns td,.mce-content-body .mce-clonedresizable.mce-resizetable-columns th{border:0}.mce-content-body .mce-resize-helper{background:#555;background:rgba(0 0 0%);border:1px;border-radius:3px;color:#fff;display:none;font-family:sans-serif;font-size:12px;line-height:14px;margin:5px 10px;padding:5px;position:absolute;white-space:nowrap;z-index:10002}.tox-rtc-user-selection{position:relative}.tox-rtc-user-cursor{bottom:0;cursor:default;position:absolute;top:0;width:2px}.tox-rtc-user-cursor::before{background-color:inherit;border-radius:50%;content:'';display:block;height:8px;position:absolute;right:-3px;top:-3px;width:8px}.tox-rtc-user-cursor:hover::after{background-color:inherit;border-radius:100px;box-sizing:border-box;color:#fff;content:attr(data-user);display:block;font-size:12px;font-weight:700;left:-5px;min-height:8px;min-width:8px;padding:0 12px;position:absolute;top:-11px;white-space:nowrap;z-index:1000}.tox-rtc-user-selection--1 .tox-rtc-user-cursor{background-color:#2dc26b}.tox-rtc-user-selection--2 .tox-rtc-user-cursor{background-color:#e03e2d}.tox-rtc-user-selection--3 .tox-rtc-user-cursor{background-color:#f1c40f}.tox-rtc-user-selection--4 .tox-rtc-user-cursor{background-color:#3598db}.tox-rtc-user-selection--5 .tox-rtc-user-cursor{background-color:#b96ad9}.tox-rtc-user-selection--6 .tox-rtc-user-cursor{background-color:#e67e23}.tox-rtc-user-selection--7 .tox-rtc-user-cursor{background-color:#aaa69d}.tox-rtc-user-selection--8 .tox-rtc-user-cursor{background-color:#f368e0}.tox-rtc-remote-image{background:#eaeaea url("data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D%2236%22%20height%3D%2212%22%20viewBox%3D%220%200%2036%2012%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%0A%20%20%3Ccircle%20cx%3D%226%22%20cy%3D%226%22%20r%3D%223%22%20fill%3D%22rgba(0%2C%200%2C%200%2C%20.2)%22%3E%0A%20%20%20%20%3Canimate%20attributeName%3D%22r%22%20values%3D%223%3B5%3B3%22%20calcMode%3D%22linear%22%20dur%3D%221s%22%20repeatCount%3D%22indefinite%22%20%2F%3E%0A%20%20%3C%2Fcircle%3E%0A%20%20%3Ccircle%20cx%3D%2218%22%20cy%3D%226%22%20r%3D%223%22%20fill%3D%22rgba(0%2C%200%2C%200%2C%20.2)%22%3E%0A%20%20%20%20%3Canimate%20attributeName%3D%22r%22%20values%3D%223%3B5%3B3%22%20calcMode%3D%22linear%22%20begin%3D%22.33s%22%20dur%3D%221s%22%20repeatCount%3D%22indefinite%22%20%2F%3E%0A%20%20%3C%2Fcircle%3E%0A%20%20%3Ccircle%20cx%3D%2230%22%20cy%3D%226%22%20r%3D%223%22%20fill%3D%22rgba(0%2C%200%2C%200%2C%20.2)%22%3E%0A%20%20%20%20%3Canimate%20attributeName%3D%22r%22%20values%3D%223%3B5%3B3%22%20calcMode%3D%22linear%22%20begin%3D%22.66s%22%20dur%3D%221s%22%20repeatCount%3D%22indefinite%22%20%2F%3E%0A%20%20%3C%2Fcircle%3E%0A%3C%2Fsvg%3E%0A") no-repeat center center;border:1px solid #ccc;min-height:240px;min-width:320px}.mce-match-marker{background:#aaa;color:#fff}.mce-match-marker-selected{background:#39f;color:#fff}.mce-match-marker-selected::selection{background:#39f;color:#fff}.mce-content-body audio[data-mce-selected],.mce-content-body details[data-mce-selected],.mce-content-body embed[data-mce-selected],.mce-content-body img[data-mce-selected],.mce-content-body object[data-mce-selected],.mce-content-body table[data-mce-selected],.mce-content-body video[data-mce-selected]{outline:3px solid #b4d7ff}.mce-content-body hr[data-mce-selected]{outline:3px solid #b4d7ff;outline-offset:1px}.mce-content-body [contentEditable=false] [contentEditable=true]:focus{outline:3px solid #b4d7ff}.mce-content-body [contentEditable=false] [contentEditable=true]:hover{outline:3px solid #b4d7ff}.mce-content-body [contentEditable=false][data-mce-selected]{cursor:not-allowed;outline:3px solid #b4d7ff}.mce-content-body.mce-content-readonly [contentEditable=true]:focus,.mce-content-body.mce-content-readonly [contentEditable=true]:hover{outline:0}.mce-content-body [data-mce-selected=inline-boundary]{background-color:#b4d7ff}.mce-content-body .mce-edit-focus{outline:3px solid #b4d7ff}.mce-content-body td[data-mce-selected],.mce-content-body th[data-mce-selected]{position:relative}.mce-content-body td[data-mce-selected]::selection,.mce-content-body th[data-mce-selected]::selection{background:0 0}.mce-content-body td[data-mce-selected] *,.mce-content-body th[data-mce-selected] *{outline:0;-webkit-touch-callout:none;-webkit-user-select:none;user-select:none}.mce-content-body td[data-mce-selected]::after,.mce-content-body th[data-mce-selected]::after{background-color:rgba(180,215,255,.7);border:1px solid rgba(180,215,255,.7);bottom:-1px;content:'';left:-1px;mix-blend-mode:multiply;position:absolute;right:-1px;top:-1px}@media screen and (-ms-high-contrast:active),(-ms-high-contrast:none){.mce-content-body td[data-mce-selected]::after,.mce-content-body th[data-mce-selected]::after{border-color:rgba(0,84,180,.7)}}.mce-content-body img[data-mce-selected]::selection{background:0 0}.ephox-snooker-resizer-bar{background-color:#b4d7ff;opacity:0;-webkit-user-select:none;user-select:none}.ephox-snooker-resizer-cols{cursor:col-resize}.ephox-snooker-resizer-rows{cursor:row-resize}.ephox-snooker-resizer-bar.ephox-snooker-resizer-bar-dragging{opacity:1}.mce-spellchecker-word{background-image:url("data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D'4'%20height%3D'4'%20xmlns%3D'http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg'%3E%3Cpath%20stroke%3D'%23ff0000'%20fill%3D'none'%20stroke-linecap%3D'round'%20stroke-opacity%3D'.75'%20d%3D'M0%203L2%201%204%203'%2F%3E%3C%2Fsvg%3E%0A");background-position:0 calc(100% + 1px);background-repeat:repeat-x;background-size:auto 6px;cursor:default;height:2rem}.mce-spellchecker-grammar{background-image:url("data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D'4'%20height%3D'4'%20xmlns%3D'http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg'%3E%3Cpath%20stroke%3D'%2300A835'%20fill%3D'none'%20stroke-linecap%3D'round'%20d%3D'M0%203L2%201%204%203'%2F%3E%3C%2Fsvg%3E%0A");background-position:0 calc(100% + 1px);background-repeat:repeat-x;background-size:auto 6px;cursor:default}.mce-toc{border:1px solid gray}.mce-toc h2{margin:4px}.mce-toc ul>li{list-style-type:none}[data-mce-block]{display:block}.mce-item-table:not([border]),.mce-item-table:not([border]) caption,.mce-item-table:not([border]) td,.mce-item-table:not([border]) th,.mce-item-table[border="0"],.mce-item-table[border="0"] caption,.mce-item-table[border="0"] td,.mce-item-table[border="0"] th,table[style*="border-width: 0px"],table[style*="border-width: 0px"] caption,table[style*="border-width: 0px"] td,table[style*="border-width: 0px"] th{border:1px dashed #bbb}.mce-visualblocks address,.mce-visualblocks article,.mce-visualblocks aside,.mce-visualblocks blockquote,.mce-visualblocks div:not([data-mce-bogus]),.mce-visualblocks dl,.mce-visualblocks figcaption,.mce-visualblocks figure,.mce-visualblocks h1,.mce-visualblocks h2,.mce-visualblocks h3,.mce-visualblocks h4,.mce-visualblocks h5,.mce-visualblocks h6,.mce-visualblocks hgroup,.mce-visualblocks ol,.mce-visualblocks p,.mce-visualblocks pre,.mce-visualblocks section,.mce-visualblocks ul{background-repeat:no-repeat;border:1px dashed #bbb;margin-left:3px;padding-top:10px}.mce-visualblocks p{background-image:url(data:image/gif;base64,R0lGODlhCQAJAJEAAAAAAP///7u7u////yH5BAEAAAMALAAAAAAJAAkAAAIQnG+CqCN/mlyvsRUpThG6AgA7)}.mce-visualblocks h1{background-image:url(data:image/gif;base64,R0lGODlhDQAKAIABALu7u////yH5BAEAAAEALAAAAAANAAoAAAIXjI8GybGu1JuxHoAfRNRW3TWXyF2YiRUAOw==)}.mce-visualblocks h2{background-image:url(data:image/gif;base64,R0lGODlhDgAKAIABALu7u////yH5BAEAAAEALAAAAAAOAAoAAAIajI8Hybbx4oOuqgTynJd6bGlWg3DkJzoaUAAAOw==)}.mce-visualblocks h3{background-image:url(data:image/gif;base64,R0lGODlhDgAKAIABALu7u////yH5BAEAAAEALAAAAAAOAAoAAAIZjI8Hybbx4oOuqgTynJf2Ln2NOHpQpmhAAQA7)}.mce-visualblocks h4{background-image:url(data:image/gif;base64,R0lGODlhDgAKAIABALu7u////yH5BAEAAAEALAAAAAAOAAoAAAIajI8HybbxInR0zqeAdhtJlXwV1oCll2HaWgAAOw==)}.mce-visualblocks h5{background-image:url(data:image/gif;base64,R0lGODlhDgAKAIABALu7u////yH5BAEAAAEALAAAAAAOAAoAAAIajI8HybbxIoiuwjane4iq5GlW05GgIkIZUAAAOw==)}.mce-visualblocks h6{background-image:url(data:image/gif;base64,R0lGODlhDgAKAIABALu7u////yH5BAEAAAEALAAAAAAOAAoAAAIajI8HybbxIoiuwjan04jep1iZ1XRlAo5bVgAAOw==)}.mce-visualblocks div:not([data-mce-bogus]){background-image:url(data:image/gif;base64,R0lGODlhEgAKAIABALu7u////yH5BAEAAAEALAAAAAASAAoAAAIfjI9poI0cgDywrhuxfbrzDEbQM2Ei5aRjmoySW4pAAQA7)}.mce-visualblocks section{background-image:url(data:image/gif;base64,R0lGODlhKAAKAIABALu7u////yH5BAEAAAEALAAAAAAoAAoAAAI5jI+pywcNY3sBWHdNrplytD2ellDeSVbp+GmWqaDqDMepc8t17Y4vBsK5hDyJMcI6KkuYU+jpjLoKADs=)}.mce-visualblocks article{background-image:url(data:image/gif;base64,R0lGODlhKgAKAIABALu7u////yH5BAEAAAEALAAAAAAqAAoAAAI6jI+pywkNY3wG0GBvrsd2tXGYSGnfiF7ikpXemTpOiJScasYoDJJrjsG9gkCJ0ag6KhmaIe3pjDYBBQA7)}.mce-visualblocks blockquote{background-image:url(data:image/gif;base64,R0lGODlhPgAKAIABALu7u////yH5BAEAAAEALAAAAAA+AAoAAAJPjI+py+0Knpz0xQDyuUhvfoGgIX5iSKZYgq5uNL5q69asZ8s5rrf0yZmpNkJZzFesBTu8TOlDVAabUyatguVhWduud3EyiUk45xhTTgMBBQA7)}.mce-visualblocks address{background-image:url(data:image/gif;base64,R0lGODlhLQAKAIABALu7u////yH5BAEAAAEALAAAAAAtAAoAAAI/jI+pywwNozSP1gDyyZcjb3UaRpXkWaXmZW4OqKLhBmLs+K263DkJK7OJeifh7FicKD9A1/IpGdKkyFpNmCkAADs=)}.mce-visualblocks pre{background-image:url(data:image/gif;base64,R0lGODlhFQAKAIABALu7uwAAACH5BAEAAAEALAAAAAAVAAoAAAIjjI+ZoN0cgDwSmnpz1NCueYERhnibZVKLNnbOq8IvKpJtVQAAOw==)}.mce-visualblocks figure{background-image:url(data:image/gif;base64,R0lGODlhJAAKAIAAALu7u////yH5BAEAAAEALAAAAAAkAAoAAAI0jI+py+2fwAHUSFvD3RlvG4HIp4nX5JFSpnZUJ6LlrM52OE7uSWosBHScgkSZj7dDKnWAAgA7)}.mce-visualblocks figcaption{border:1px dashed #bbb}.mce-visualblocks hgroup{background-image:url(data:image/gif;base64,R0lGODlhJwAKAIABALu7uwAAACH5BAEAAAEALAAAAAAnAAoAAAI3jI+pywYNI3uB0gpsRtt5fFnfNZaVSYJil4Wo03Hv6Z62uOCgiXH1kZIIJ8NiIxRrAZNMZAtQAAA7)}.mce-visualblocks aside{background-image:url(data:image/gif;base64,R0lGODlhHgAKAIABAKqqqv///yH5BAEAAAEALAAAAAAeAAoAAAItjI+pG8APjZOTzgtqy7I3f1yehmQcFY4WKZbqByutmW4aHUd6vfcVbgudgpYCADs=)}.mce-visualblocks ul{background-image:url(data:image/gif;base64,R0lGODlhDQAKAIAAALu7u////yH5BAEAAAEALAAAAAANAAoAAAIXjI8GybGuYnqUVSjvw26DzzXiqIDlVwAAOw==)}.mce-visualblocks ol{background-image:url(data:image/gif;base64,R0lGODlhDQAKAIABALu7u////yH5BAEAAAEALAAAAAANAAoAAAIXjI8GybH6HHt0qourxC6CvzXieHyeWQAAOw==)}.mce-visualblocks dl{background-image:url(data:image/gif;base64,R0lGODlhDQAKAIABALu7u////yH5BAEAAAEALAAAAAANAAoAAAIXjI8GybEOnmOvUoWznTqeuEjNSCqeGRUAOw==)}.mce-visualblocks:not([dir=rtl]) address,.mce-visualblocks:not([dir=rtl]) article,.mce-visualblocks:not([dir=rtl]) aside,.mce-visualblocks:not([dir=rtl]) blockquote,.mce-visualblocks:not([dir=rtl]) div:not([data-mce-bogus]),.mce-visualblocks:not([dir=rtl]) dl,.mce-visualblocks:not([dir=rtl]) figcaption,.mce-visualblocks:not([dir=rtl]) figure,.mce-visualblocks:not([dir=rtl]) h1,.mce-visualblocks:not([dir=rtl]) h2,.mce-visualblocks:not([dir=rtl]) h3,.mce-visualblocks:not([dir=rtl]) h4,.mce-visualblocks:not([dir=rtl]) h5,.mce-visualblocks:not([dir=rtl]) h6,.mce-visualblocks:not([dir=rtl]) hgroup,.mce-visualblocks:not([dir=rtl]) ol,.mce-visualblocks:not([dir=rtl]) p,.mce-visualblocks:not([dir=rtl]) pre,.mce-visualblocks:not([dir=rtl]) section,.mce-visualblocks:not([dir=rtl]) ul{margin-left:3px}.mce-visualblocks[dir=rtl] address,.mce-visualblocks[dir=rtl] article,.mce-visualblocks[dir=rtl] aside,.mce-visualblocks[dir=rtl] blockquote,.mce-visualblocks[dir=rtl] div:not([data-mce-bogus]),.mce-visualblocks[dir=rtl] dl,.mce-visualblocks[dir=rtl] figcaption,.mce-visualblocks[dir=rtl] figure,.mce-visualblocks[dir=rtl] h1,.mce-visualblocks[dir=rtl] h2,.mce-visualblocks[dir=rtl] h3,.mce-visualblocks[dir=rtl] h4,.mce-visualblocks[dir=rtl] h5,.mce-visualblocks[dir=rtl] h6,.mce-visualblocks[dir=rtl] hgroup,.mce-visualblocks[dir=rtl] ol,.mce-visualblocks[dir=rtl] p,.mce-visualblocks[dir=rtl] pre,.mce-visualblocks[dir=rtl] section,.mce-visualblocks[dir=rtl] ul{background-position-x:right;margin-right:3px}.mce-nbsp,.mce-shy{background:#aaa}.mce-shy::after{content:'-'}body{font-family:sans-serif}table{border-collapse:collapse}`);tinymce.Resource.add("content/default/content.css",`body{font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,Oxygen,Ubuntu,Cantarell,'Open Sans','Helvetica Neue',sans-serif;line-height:1.4;margin:1rem}table{border-collapse:collapse}table:not([cellpadding]) td,table:not([cellpadding]) th{padding:.4rem}table[border]:not([border="0"]):not([style*=border-width]) td,table[border]:not([border="0"]):not([style*=border-width]) th{border-width:1px}table[border]:not([border="0"]):not([style*=border-style]) td,table[border]:not([border="0"]):not([style*=border-style]) th{border-style:solid}table[border]:not([border="0"]):not([style*=border-color]) td,table[border]:not([border="0"]):not([style*=border-color]) th{border-color:#ccc}figure{display:table;margin:1rem auto}figure figcaption{color:#999;display:block;margin-top:.25rem;text-align:center}hr{border-color:#ccc;border-style:solid;border-width:1px 0 0 0}code{background-color:#e8e8e8;border-radius:3px;padding:.1rem .2rem}.mce-content-body:not([dir=rtl]) blockquote{border-left:2px solid #ccc;margin-left:1.5rem;padding-left:1rem}.mce-content-body[dir=rtl] blockquote{border-right:2px solid #ccc;margin-right:1.5rem;padding-right:1rem}`);tinymce.addI18n("de",{"#":"#",Accessibility:"Barrierefreiheit",Accordion:"","Accordion body...":"","Accordion summary...":"",Action:"Aktion",Activity:"Aktivitt",Address:"Adresse",Advanced:"Erweitert",Align:"Ausrichtung","Align center":"Zentrieren","Align left":"Linksbndig ausrichten","Align right":"Rechtsbndig ausrichten",Alignment:"Ausrichtung","Alignment {0}":"",All:"Alle","Alternative description":"Alternative Beschreibung","Alternative source":"Alternative Quelle","Alternative source URL":"URL der alternativen Quelle",Anchor:"Anker","Anchor...":"Textmarke",Anchors:"Anker","Animals and Nature":"Tiere und Natur",Arrows:"Pfeile",B:"B","Background color":"Hintergrundfarbe","Background color {0}":"",Black:"Schwarz",Block:"Blocksatz","Block {0}":"",Blockquote:"Blockzitat",Blocks:"Blcke",Blue:"Blau","Blue component":"Blauanteil",Body:"Inhalt",Bold:"Fett",Border:"Rahmen","Border color":"Rahmenfarbe","Border style":"Rahmenstil","Border width":"Rahmenbreite",Bottom:"Unten","Browse files":"","Browse for an image":"Bild...","Browse links":"","Bullet list":"Aufzhlung",Cancel:"Abbrechen",Caption:"Beschriftung",Cell:"Zelle","Cell padding":"Zelleninnenabstand","Cell properties":"Zelleigenschaften","Cell spacing":"Zellenabstand","Cell styles":"Zellstil","Cell type":"Zelltyp",Center:"Zentriert",Characters:"Zeichen","Characters (no spaces)":"Zeichen (ohne Leerzeichen)",Circle:"Kreis",Class:"Klasse","Clear formatting":"Formatierung entfernen",Close:"Schlieen",Code:"Code","Code sample...":"Codebeispiel...","Code view":"Code Ansicht","Color Picker":"Farbwahl","Color swatch":"Farbpalette",Cols:"Spalten",Column:"Spalte","Column clipboard actions":"Spalten-Zwischenablage-Aktionen","Column group":"Spaltengruppe","Column header":"Spaltenkopf","Constrain proportions":"Seitenverhltnis beibehalten",Copy:"Kopieren","Copy column":"Spalte kopieren","Copy row":"Zeile kopieren","Could not find the specified string.":"Die angegebene Zeichenfolge wurde nicht gefunden.","Could not load emojis":"Emojis konnten nicht geladen werden",Count:"Anzahl",Currency:"Whrung","Current window":"Aktuelles Fenster","Custom color":"Benutzerdefinierte Farbe","Custom...":"Benutzerdefiniert...",Cut:"Ausschneiden","Cut column":"Spalte ausschneiden","Cut row":"Zeile ausschneiden","Dark Blue":"Dunkelblau","Dark Gray":"Dunkelgrau","Dark Green":"Dunkelgrn","Dark Orange":"Dunkelorange","Dark Purple":"Dunkellila","Dark Red":"Dunkelrot","Dark Turquoise":"Dunkeltrkis","Dark Yellow":"Dunkelgelb",Dashed:"Gestrichelt","Date/time":"Datum/Uhrzeit","Decrease indent":"Einzug verkleinern",Default:"Standard","Delete accordion":"","Delete column":"Spalte lschen","Delete row":"Zeile lschen","Delete table":"Tabelle lschen",Dimensions:"Abmessungen",Disc:"Scheibe",Div:"Div",Document:"Dokument",Dotted:"Gepunktet",Double:"Doppelt","Drop an image here":"Bild hier ablegen","Dropped file type is not supported":"Hereingezogener Dateityp wird nicht untersttzt",Edit:"Bearbeiten",Embed:"Einbettung",Emojis:"Emojis","Emojis...":"Emojis...",Error:"Fehler","Error: Form submit field collision.":"Fehler: Kollision der Formularbesttigungsfelder.","Error: No form element found.":"Fehler: Kein Formularelement gefunden.","Extended Latin":"Erweitertes Latein","Failed to initialize plugin: {0}":"Plugin konnte nicht initialisiert werden: {0}","Failed to load plugin url: {0}":"Plugin-URL konnte nicht geladen werden: {0}","Failed to load plugin: {0} from url {1}":"Plugin konnte nicht geladen werden: {0} von URL {1}","Failed to upload image: {0}":"Bild konnte nicht hochgeladen werden: {0}",File:"Datei",Find:"Suchen","Find (if searchreplace plugin activated)":"Suchen (wenn Suchen/Ersetzen-Plugin aktiviert ist)","Find and Replace":"Suchen und Ersetzen","Find and replace...":"Suchen und ersetzen...","Find in selection":"In Auswahl suchen","Find whole words only":"Nur ganze Wrter suchen",Flags:"Flaggen","Focus to contextual toolbar":"Fokus auf kontextbezogene Symbolleiste","Focus to element path":"Fokus auf Elementpfad","Focus to menubar":"Fokus auf Menleiste","Focus to toolbar":"Fokus auf Symbolleiste",Font:"Schriftart","Font size {0}":"","Font sizes":"Schriftgren","Font {0}":"",Fonts:"Schriftarten","Food and Drink":"Essen und Trinken",Footer:"Fuzeile",Format:"Format","Format {0}":"",Formats:"Formate",Fullscreen:"Vollbild",G:"G",General:"Allgemein",Gray:"Grau",Green:"Grn","Green component":"Grnanteil",Groove:"Gekantet","Handy Shortcuts":"Praktische Tastenkombinationen",Header:"Kopfzeile","Header cell":"Kopfzelle","Heading 1":"berschrift 1","Heading 2":"berschrift 2","Heading 3":"berschrift 3","Heading 4":"berschrift 4","Heading 5":"berschrift 5","Heading 6":"berschrift 6",Headings:"berschriften",Height:"Hhe",Help:"Hilfe","Hex color code":"Hexadezimal-Farbwert",Hidden:"Unsichtbar","Horizontal align":"Horizontal ausrichten","Horizontal line":"Horizontale Linie","Horizontal space":"Horizontaler Raum",ID:"ID","ID should start with a letter, followed only by letters, numbers, dashes, dots, colons or underscores.":"Die ID muss mit einem Buchstaben beginnen gefolgt von Buchstaben, Zahlen, Bindestrichen, Punkten, Doppelpunkten oder Unterstrichen.","Image is decorative":"Bild ist dekorativ","Image list":"Bildliste","Image title":"Bildtitel","Image...":"Bild...","ImageProxy HTTP error: Could not find Image Proxy":"Image Proxy HTTP Fehler: Kann Image Proxy nicht finden","ImageProxy HTTP error: Incorrect Image Proxy URL":"Image Proxy HTTP Fehler: Falsche Image Proxy URL","ImageProxy HTTP error: Rejected request":"Image Proxy HTTP Fehler: Abgewiesene Anfrage","ImageProxy HTTP error: Unknown ImageProxy error":"Image Proxy HTTP Fehler: Unbekannter Image Proxy Fehler","Increase indent":"Einzug vergrern",Inline:"Zeichenformate",Insert:"Einfgen","Insert Template":"Vorlage einfgen","Insert accordion":"","Insert column after":"Neue Spalte danach einfgen","Insert column before":"Neue Spalte davor einfgen","Insert date/time":"Datum/Uhrzeit einfgen","Insert image":"Bild einfgen","Insert link (if link plugin activated)":"Link einfgen (wenn Link-Plugin aktiviert ist)","Insert row after":"Neue Zeile danach einfgen","Insert row before":"Neue Zeile davor einfgen","Insert table":"Tabelle einfgen","Insert template...":"Vorlage einfgen...","Insert video":"Video einfgen","Insert/Edit code sample":"Codebeispiel einfgen/bearbeiten","Insert/edit image":"Bild einfgen/bearbeiten","Insert/edit link":"Link einfgen/bearbeiten","Insert/edit media":"Medien einfgen/bearbeiten","Insert/edit video":"Video einfgen/bearbeiten",Inset:"Eingelassen","Invalid hex color code: {0}":"Ungltiger Hexadezimal-Farbwert: {0}","Invalid input":"Ungltige Eingabe",Italic:"Kursiv",Justify:"Blocksatz","Keyboard Navigation":"Tastaturnavigation",Language:"Sprache","Learn more...":"Erfahren Sie mehr dazu...",Left:"Links","Left to right":"Von links nach rechts","Light Blue":"Hellblau","Light Gray":"Hellgrau","Light Green":"Hellgrn","Light Purple":"Helllila","Light Red":"Hellrot","Light Yellow":"Hellgelb","Line height":"Liniendicke","Link list":"Linkliste","Link...":"Link...","List Properties":"Liste Eigenschaften","List properties...":"Liste Eigenschaften","Loading emojis...":"Lade Emojis...","Loading...":"Wird geladen...","Lower Alpha":"Lateinisches Alphabet in Kleinbuchstaben","Lower Greek":"Griechische Kleinbuchstaben","Lower Roman":"Kleiner rmischer Buchstabe","Match case":"Gro-/Kleinschreibung beachten",Mathematical:"Mathematisch","Media poster (Image URL)":"Medienposter (Bild-URL)","Media...":"Medien...","Medium Blue":"Mittleres Blau","Medium Gray":"Mittelgrau","Medium Purple":"Mittelviolett","Merge cells":"Zellen verbinden",Middle:"Mitte","Midnight Blue":"Mitternachtsblau","More...":"Mehr...",Name:"Name","Navy Blue":"Marineblau","New document":"Neues Dokument","New window":"Neues Fenster",Next:"Nchste",No:"Nein","No alignment":"Keine Ausrichtung","No color":"Keine Farbe","Nonbreaking space":"Geschtztes Leerzeichen",None:"Keine","Numbered list":"Nummerierte Liste",OR:"ODER",Objects:"Objekte",Ok:"Ok","Open help dialog":"Hilfe-Dialog ffnen","Open link":"Link ffnen","Open link in...":"Link ffnen in...","Open popup menu for split buttons":"ffne Popup Menge um Buttons zu trennen",Orange:"Orange",Outset:"Hervorstehend","Page break":"Seitenumbruch",Paragraph:"Absatz",Paste:"Einfgen","Paste as text":"Als Text einfgen","Paste column after":"Spalte danach einfgen","Paste column before":"Spalte davor einfgen","Paste is now in plain text mode. Contents will now be pasted as plain text until you toggle this option off.":"Einfgen ist nun im unformatierten Textmodus. Inhalte werden ab jetzt als unformatierter Text eingefgt, bis Sie diese Einstellung wieder deaktivieren.","Paste or type a link":"Link einfgen oder eingeben","Paste row after":"Zeile danach einfgen","Paste row before":"Zeile davor einfgen","Paste your embed code below:":"Fgen Sie Ihren Einbettungscode unten ein:",People:"Menschen",Plugins:"Plugins","Plugins installed ({0}):":"Installierte Plugins ({0}):","Powered by {0}":"Betrieben von {0}",Pre:"Pre",Preferences:"Einstellungen",Preformatted:"Vorformatiert","Premium plugins:":"Premium-Plugins:","Press the Up and Down arrow keys to resize the editor.":"","Press the arrow keys to resize the editor.":"","Press {0} for help":"",Preview:"Vorschau",Previous:"Vorherige",Print:"Drucken","Print...":"Drucken...",Purple:"Violett",Quotations:"Anfhrungszeichen",R:"R","Range 0 to 255":"Spanne 0 bis 255",Red:"Rot","Red component":"Rotanteil",Redo:"Wiederholen",Remove:"Entfernen","Remove color":"Farbauswahl aufheben","Remove link":"Link entfernen",Replace:"Ersetzen","Replace all":"Alle ersetzen","Replace with":"Ersetzen durch",Resize:"Skalieren","Restore last draft":"Letzten Entwurf wiederherstellen","Reveal or hide additional toolbar items":"","Rich Text Area":"Rich-Text-Area","Rich Text Area. Press ALT-0 for help.":"Rich-Text-Bereich. Drcken Sie Alt+0 fr Hilfe.","Rich Text Area. Press ALT-F9 for menu. Press ALT-F10 for toolbar. Press ALT-0 for help":"Rich-Text-Bereich. Drcken Sie Alt+F9 fr das Men. Drcken Sie Alt+F10 fr die Symbolleiste. Drcken Sie Alt+0 fr Hilfe.",Ridge:"Eingeritzt",Right:"Rechts","Right to left":"Von rechts nach links",Row:"Zeile","Row clipboard actions":"Zeilen-Zwischenablage-Aktionen","Row group":"Zeilengruppe","Row header":"Zeilenkopf","Row properties":"Zeileneigenschaften","Row type":"Zeilentyp",Rows:"Zeilen",Save:"Speichern","Save (if save plugin activated)":"Speichern (wenn Save-Plugin aktiviert ist)",Scope:"Bereich",Search:"Suchen","Select all":"Alles auswhlen","Select...":"Auswahl...",Selection:"Auswahl",Shortcut:"Tastenkombination","Show blocks":"Blcke anzeigen","Show caption":"Beschriftung anzeigen","Show invisible characters":"Unsichtbare Zeichen anzeigen",Size:"Schriftgre",Solid:"Durchgezogen",Source:"Quelle","Source code":"Quellcode","Special Character":"Sonderzeichen","Special character...":"Sonderzeichen...","Split cell":"Zelle aufteilen",Square:"Rechteck","Start list at number":"Beginne Liste mit Nummer",Strikethrough:"Durchgestrichen",Style:"Formatvorlage",Subscript:"Tiefgestellt",Superscript:"Hochgestellt","Switch to or from fullscreen mode":"Vollbildmodus umschalten",Symbols:"Symbole","System Font":"Betriebssystemschriftart",Table:"Tabelle","Table caption":"Tabellenbeschriftung","Table properties":"Tabelleneigenschaften","Table styles":"Tabellenstil",Template:"Vorlage",Templates:"Vorlagen",Text:"Text","Text color":"Textfarbe","Text color {0}":"","Text to display":"Anzuzeigender Text","The URL you entered seems to be an email address. Do you want to add the required mailto: prefix?":"Diese URL scheint eine E-Mail-Adresse zu sein. Mchten Sie das dazu bentigte mailto: voranstellen?","The URL you entered seems to be an external link. Do you want to add the required http:// prefix?":"Diese URL scheint ein externer Link zu sein. Mchten Sie das dazu bentigte http:// voranstellen?","The URL you entered seems to be an external link. Do you want to add the required https:// prefix?":"Die eingegebene URL scheint ein externer Link zu sein. Soll das fehlende https:// davor ergnzt werden?",Title:"Titel","To open the popup, press Shift+Enter":"Drcken Sie Umschalt+Eingabe, um das Popup-Fenster zu ffnen.","Toggle accordion":"",Tools:"Werkzeuge",Top:"Oben","Travel and Places":"Reisen und Orte",Turquoise:"Trkis",Underline:"Unterstrichen",Undo:"Rckgngig machen",Upload:"Hochladen","Uploading image":"Bild wird hochgeladen","Upper Alpha":"Lateinisches Alphabet in Grobuchstaben","Upper Roman":"Groer rmischer Buchstabe",Url:"URL","User Defined":"Benutzerdefiniert",Valid:"Gltig",Version:"Version","Vertical align":"Vertikal ausrichten","Vertical space":"Vertikaler Raum",View:"Ansicht","Visual aids":"Visuelle Hilfen",Warn:"Warnung",White:"Wei",Width:"Breite","Word count":"Anzahl der Wrter",Words:"Wrter","Words: {0}":"Wortzahl: {0}",Yellow:"Gelb",Yes:"Ja","You are using {0}":"Sie verwenden {0}","You have unsaved changes are you sure you want to navigate away?":"Die nderungen wurden noch nicht gespeichert. Sind Sie sicher, dass Sie diese Seite verlassen wollen?","Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.":"Ihr Browser untersttzt leider keinen direkten Zugriff auf die Zwischenablage. Bitte benutzen Sie die Tastenkombinationen Strg+X/C/V.",alignment:"Ausrichtung","austral sign":"Australzeichen","cedi sign":"Cedizeichen","colon sign":"Doppelpunkt","cruzeiro sign":"Cruzeirozeichen","currency sign":"Whrungssymbol","dollar sign":"Dollarzeichen","dong sign":"Dongzeichen","drachma sign":"Drachmezeichen","euro-currency sign":"Eurozeichen",example:"Beispiel",formatting:"Formatierung","french franc sign":"Franczeichen","german penny symbol":"Pfennigzeichen","guarani sign":"Guaranizeichen",history:"Historie","hryvnia sign":"Hrywnjazeichen",indentation:"Einrckungen","indian rupee sign":"Indisches Rupiezeichen","kip sign":"Kipzeichen","lira sign":"Lirezeichen","livre tournois sign":"Livrezeichen","manat sign":"Manatzeichen","mill sign":"Millzeichen","naira sign":"Nairazeichen","new sheqel sign":"Schekelzeichen","nordic mark sign":"Zeichen nordische Mark","peseta sign":"Pesetazeichen","peso sign":"Pesozeichen","ruble sign":"Rubelzeichen","rupee sign":"Rupiezeichen","spesmilo sign":"Spesmilozeichen",styles:"Stile","tenge sign":"Tengezeichen","tugrik sign":"Tugrikzeichen","turkish lira sign":"Trkisches Lirazeichen","won sign":"Wonzeichen","yen character":"Yenzeichen","yen/yuan character variant one":"Yen-/Yuanzeichen Variante 1","yuan character":"Yuanzeichen","yuan character, in hong kong and taiwan":"Yuanzeichen in Hongkong und Taiwan","{0} characters":"{0}Zeichen","{0} columns, {1} rows":"","{0} words":"{0} Wrter"});var _X={},kX={},EX;function lSe(){return EX||(EX=1,function(){var t=tinymce.util.Tools.resolve("tinymce.PluginManager");const r=(L,Y,de)=>{var We;return de(L,Y.prototype)?!0:((We=L.constructor)===null||We===void 0?void 0:We.name)===Y.name},i=L=>{const Y=typeof L;return L===null?"null":Y==="object"&&Array.isArray(L)?"array":Y==="object"&&r(L,String,(de,We)=>We.isPrototypeOf(de))?"string":Y},u=L=>Y=>i(Y)===L,m=L=>Y=>typeof Y===L,h=u("string"),x=u("object"),w=u("array"),R=m("boolean"),P=L=>L==null,A=L=>!P(L),M=m("function"),H=m("number"),K=()=>{},G=(L,Y)=>de=>L(Y(de)),te=L=>()=>L,re=(L,Y)=>L===Y;function W(L,...Y){return(...de)=>{const We=Y.concat(de);return L.apply(null,We)}}const ge=L=>Y=>!L(Y),he=te(!1);class j{constructor(Y,de){this.tag=Y,this.value=de}static some(Y){return new j(!0,Y)}static none(){return j.singletonNone}fold(Y,de){return this.tag?de(this.value):Y()}isSome(){return this.tag}isNone(){return!this.tag}map(Y){return this.tag?j.some(Y(this.value)):j.none()}bind(Y){return this.tag?Y(this.value):j.none()}exists(Y){return this.tag&&Y(this.value)}forall(Y){return!this.tag||Y(this.value)}filter(Y){return!this.tag||Y(this.value)?this:j.none()}getOr(Y){return this.tag?this.value:Y}or(Y){return this.tag?this:Y}getOrThunk(Y){return this.tag?this.value:Y()}orThunk(Y){return this.tag?this:Y()}getOrDie(Y){if(this.tag)return this.value;throw new Error(Y??"Called getOrDie on None")}static from(Y){return A(Y)?j.some(Y):j.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(Y){this.tag&&Y(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}j.singletonNone=new j(!1);const me=Array.prototype.slice,oe=Array.prototype.indexOf,Ce=Array.prototype.push,Ue=(L,Y)=>oe.call(L,Y),et=(L,Y)=>Ue(L,Y)>-1,dt=(L,Y)=>{for(let de=0,We=L.length;de<We;de++){const tt=L[de];if(Y(tt,de))return!0}return!1},Me=(L,Y)=>{const de=L.length,We=new Array(de);for(let tt=0;tt<de;tt++){const Ut=L[tt];We[tt]=Y(Ut,tt)}return We},Ne=(L,Y)=>{for(let de=0,We=L.length;de<We;de++){const tt=L[de];Y(tt,de)}},I=(L,Y)=>{const de=[];for(let We=0,tt=L.length;We<tt;We++){const Ut=L[We];Y(Ut,We)&&de.push(Ut)}return de},st=(L,Y)=>{if(L.length===0)return[];{let de=Y(L[0]);const We=[];let tt=[];for(let Ut=0,lo=L.length;Ut<lo;Ut++){const Mo=L[Ut],ko=Y(Mo);ko!==de&&(We.push(tt),tt=[]),de=ko,tt.push(Mo)}return tt.length!==0&&We.push(tt),We}},it=(L,Y,de)=>(Ne(L,(We,tt)=>{de=Y(de,We,tt)}),de),Ft=(L,Y,de)=>{for(let We=0,tt=L.length;We<tt;We++){const Ut=L[We];if(Y(Ut,We))return j.some(Ut);if(de(Ut,We))break}return j.none()},Yt=(L,Y)=>Ft(L,Y,he),mt=L=>{const Y=[];for(let de=0,We=L.length;de<We;++de){if(!w(L[de]))throw new Error("Arr.flatten item "+de+" was not an array, input: "+L);Ce.apply(Y,L[de])}return Y},Rn=(L,Y)=>mt(Me(L,Y)),Ot=L=>{const Y=me.call(L,0);return Y.reverse(),Y},at=(L,Y)=>Y>=0&&Y<L.length?j.some(L[Y]):j.none(),Ve=L=>at(L,0),bt=L=>at(L,L.length-1),Yn=(L,Y)=>{const de=[],We=M(Y)?tt=>dt(de,Ut=>Y(Ut,tt)):tt=>et(de,tt);for(let tt=0,Ut=L.length;tt<Ut;tt++){const lo=L[tt];We(lo)||de.push(lo)}return de},Xt=(L,Y,de=re)=>L.exists(We=>de(We,Y)),Bn=(L,Y,de=re)=>Qt(L,Y,de).getOr(L.isNone()&&Y.isNone()),Qt=(L,Y,de)=>L.isSome()&&Y.isSome()?j.some(de(L.getOrDie(),Y.getOrDie())):j.none(),ee=8,vo=11,nn=1,yn=3,qe=(L,Y)=>{const We=(Y||document).createElement("div");if(We.innerHTML=L,!We.hasChildNodes()||We.childNodes.length>1){const tt="HTML does not have a single root node";throw console.error(tt,L),new Error(tt)}return Pe(We.childNodes[0])},lt=(L,Y)=>{const We=(Y||document).createElement(L);return Pe(We)},Se=(L,Y)=>{const We=(Y||document).createTextNode(L);return Pe(We)},Pe=L=>{if(L==null)throw new Error("Node cannot be null or undefined");return{dom:L}},xe={fromHtml:qe,fromTag:lt,fromText:Se,fromDom:Pe,fromPoint:(L,Y,de)=>j.from(L.dom.elementFromPoint(Y,de)).map(Pe)},Ae=(L,Y)=>{const de=L.dom;if(de.nodeType!==nn)return!1;{const We=de;if(We.matches!==void 0)return We.matches(Y);if(We.msMatchesSelector!==void 0)return We.msMatchesSelector(Y);if(We.webkitMatchesSelector!==void 0)return We.webkitMatchesSelector(Y);if(We.mozMatchesSelector!==void 0)return We.mozMatchesSelector(Y);throw new Error("Browser lacks native selectors")}},Fe=(L,Y)=>L.dom===Y.dom,Je=(L,Y)=>{const de=L.dom,We=Y.dom;return de===We?!1:de.contains(We)},wt=Ae,pn=typeof window<"u"?window:Function("return this;")(),en=(L,Y)=>{let de=Y??pn;for(let We=0;We<L.length&&de!==void 0&&de!==null;++We)de=de[L[We]];return de},An=(L,Y)=>{const de=L.split(".");return en(de,Y)},no=(L,Y)=>An(L,Y),co=(L,Y)=>{const de=no(L,Y);if(de==null)throw new Error(L+" not available on this browser");return de},Jo=Object.getPrototypeOf,Ho=L=>co("HTMLElement",L),sr=L=>{const Y=An("ownerDocument.defaultView",L);return x(L)&&(Ho(Y).prototype.isPrototypeOf(L)||/^HTML\w*Element$/.test(Jo(L).constructor.name))},Ss=L=>L.dom.nodeName.toLowerCase(),ri=L=>L.dom.nodeType,xs=L=>Y=>ri(Y)===L,la=L=>ri(L)===ee||Ss(L)==="#comment",cn=L=>uo(L)&&sr(L.dom),uo=xs(nn),$o=xs(yn),mi=xs(vo),dl=L=>Y=>uo(Y)&&Ss(Y)===L,tn=L=>j.from(L.dom.parentNode).map(xe.fromDom),ki=L=>j.from(L.dom.parentElement).map(xe.fromDom),qo=L=>j.from(L.dom.nextSibling).map(xe.fromDom),Kl=L=>Me(L.dom.childNodes,xe.fromDom),js=(L,Y)=>{const de=L.dom.childNodes;return j.from(de[Y]).map(xe.fromDom)},ii=L=>js(L,0),Rc=L=>js(L,L.dom.childNodes.length-1),Ic=L=>mi(L)&&A(L.dom.host),Dc=L=>xe.fromDom(L.dom.getRootNode()),El=L=>{const Y=Dc(L);return Ic(Y)?j.some(Y):j.none()},Pc=L=>xe.fromDom(L.dom.host),Zs=L=>{const Y=$o(L)?L.dom.parentNode:L.dom;if(Y==null||Y.ownerDocument===null)return!1;const de=Y.ownerDocument;return El(xe.fromDom(Y)).fold(()=>de.body.contains(Y),G(Zs,Pc))};var So=(L,Y,de,We,tt)=>L(de,We)?j.some(de):M(tt)&&tt(de)?j.none():Y(de,We,tt);const fl=(L,Y,de)=>{let We=L.dom;const tt=M(de)?de:he;for(;We.parentNode;){We=We.parentNode;const Ut=xe.fromDom(We);if(Y(Ut))return j.some(Ut);if(tt(Ut))break}return j.none()},Ui=(L,Y,de)=>So((tt,Ut)=>Ut(tt),fl,L,Y,de),Mu=(L,Y,de)=>fl(L,We=>Ae(We,Y),de),Sn=(L,Y,de)=>So((tt,Ut)=>Ae(tt,Ut),Mu,L,Y,de),rc=L=>Sn(L,"[contenteditable]"),jf=(L,Y=!1)=>Zs(L)?L.dom.isContentEditable:rc(L).fold(te(Y),de=>Tr(de)==="true"),Tr=L=>L.dom.contentEditable,Zf=(L,Y)=>{tn(L).each(We=>{We.dom.insertBefore(Y.dom,L.dom)})},ml=(L,Y)=>{qo(L).fold(()=>{tn(L).each(tt=>{Tl(tt,Y)})},We=>{Zf(We,Y)})},jl=(L,Y)=>{ii(L).fold(()=>{Tl(L,Y)},We=>{L.dom.insertBefore(Y.dom,We.dom)})},Tl=(L,Y)=>{L.dom.appendChild(Y.dom)},dr=(L,Y)=>{Ne(Y,de=>{Zf(L,de)})},ca=(L,Y)=>{Ne(Y,de=>{Tl(L,de)})},gl=L=>{L.dom.textContent="",Ne(Kl(L),Y=>{Gf(Y)})},Gf=L=>{const Y=L.dom;Y.parentNode!==null&&Y.parentNode.removeChild(Y)};var su=tinymce.util.Tools.resolve("tinymce.dom.RangeUtils"),Al=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker"),Gd=tinymce.util.Tools.resolve("tinymce.util.VK");const Lu=L=>Me(L,xe.fromDom),cs=Object.keys,Kr=(L,Y)=>{const de=cs(L);for(let We=0,tt=de.length;We<tt;We++){const Ut=de[We],lo=L[Ut];Y(lo,Ut)}},gi=L=>(Y,de)=>{L[de]=Y},qf=(L,Y,de,We)=>{Kr(L,(tt,Ut)=>{(Y(tt,Ut)?de:We)(tt,Ut)})},hl=(L,Y)=>{const de={};return qf(L,Y,gi(de),K),de},ru=(L,Y,de)=>{if(h(de)||R(de)||H(de))L.setAttribute(Y,de+"");else throw console.error("Invalid call to Attribute.set. Key ",Y,":: Value ",de,":: Element ",L),new Error("Attribute value was not simple")},Pi=(L,Y)=>{const de=L.dom;Kr(Y,(We,tt)=>{ru(de,tt,We)})},Aa=L=>it(L.dom.attributes,(Y,de)=>(Y[de.name]=de.value,Y),{}),Oa=(L,Y)=>xe.fromDom(L.dom.cloneNode(Y)),Vs=L=>Oa(L,!0),wr=(L,Y)=>{const de=xe.fromTag(Y),We=Aa(L);return Pi(de,We),de},Be=(L,Y)=>{const de=wr(L,Y);ml(L,de);const We=Kl(L);return ca(de,We),Gf(L),de};var gt=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),Ze=tinymce.util.Tools.resolve("tinymce.util.Tools");const _t=L=>Y=>A(Y)&&Y.nodeName.toLowerCase()===L,Ct=L=>Y=>A(Y)&&L.test(Y.nodeName),ut=L=>A(L)&&L.nodeType===3,rn=L=>A(L)&&L.nodeType===1,bn=Ct(/^(OL|UL|DL)$/),Cn=Ct(/^(OL|UL)$/),Tn=_t("ol"),_n=Ct(/^(LI|DT|DD)$/),Po=Ct(/^(DT|DD)$/),xn=Ct(/^(TH|TD)$/),Ws=_t("br"),ns=L=>{var Y;return((Y=L.parentNode)===null||Y===void 0?void 0:Y.firstChild)===L},gs=(L,Y)=>A(Y)&&Y.nodeName in L.schema.getTextBlockElements(),jr=(L,Y)=>A(L)&&L.nodeName in Y,Uo=(L,Y)=>A(Y)&&Y.nodeName in L.schema.getVoidElements(),ic=(L,Y)=>Ws(Y)?L.isBlock(Y.nextSibling)&&!Ws(Y.previousSibling):!1,Ra=(L,Y,de)=>{const We=L.isEmpty(Y);return de&&L.select("span[data-mce-type=bookmark]",Y).length>0?!1:We},_o=(L,Y)=>L.isChildOf(Y,L.getRoot()),Ol=L=>Y=>Y.options.get(L),Rl=L=>{const Y=L.options.register;Y("lists_indent_on_tab",{processor:"boolean",default:!0})},Or=Ol("lists_indent_on_tab"),qd=Ol("forced_root_block"),Jr=Ol("forced_root_block_attrs"),Yf=(L,Y,de={})=>{const We=L.dom,tt=L.schema.getBlockElements(),Ut=We.createFragment(),lo=qd(L),Mo=Jr(L);let ko,jn,Is=!1;for(jn=We.create(lo,{...Mo,...de.style?{style:de.style}:{}}),jr(Y.firstChild,tt)||Ut.appendChild(jn);ko=Y.firstChild;){const ei=ko.nodeName;!Is&&(ei!=="SPAN"||ko.getAttribute("data-mce-type")!=="bookmark")&&(Is=!0),jr(ko,tt)?(Ut.appendChild(ko),jn=null):(jn||(jn=We.create(lo,Mo),Ut.appendChild(jn)),jn.appendChild(ko))}return!Is&&jn&&jn.appendChild(We.create("br",{"data-mce-bogus":"1"})),Ut},Il=gt.DOM,zs=(L,Y,de)=>{const We=jn=>{const Is=jn.parentNode;Is&&Ze.each(tt,ei=>{Is.insertBefore(ei,de.parentNode)}),Il.remove(jn)},tt=Il.select('span[data-mce-type="bookmark"]',Y),Ut=Yf(L,de),lo=Il.createRng();lo.setStartAfter(de),lo.setEndAfter(Y);const Mo=lo.extractContents();for(let jn=Mo.firstChild;jn;jn=jn.firstChild)if(jn.nodeName==="LI"&&L.dom.isEmpty(jn)){Il.remove(jn);break}L.dom.isEmpty(Mo)||Il.insertAfter(Mo,Y),Il.insertAfter(Ut,Y);const ko=de.parentElement;ko&&Ra(L.dom,ko)&&We(ko),Il.remove(de),Ra(L.dom,Y)&&Il.remove(Y)},md=dl("dd"),Vm=dl("dt"),zm=(L,Y)=>{md(Y)?Be(Y,"dt"):Vm(Y)&&ki(Y).each(de=>zs(L,de.dom,Y.dom))},Rr=L=>{Vm(L)&&Be(L,"dd")},pl=(L,Y,de)=>{Y==="Indent"?Ne(de,Rr):Ne(de,We=>zm(L,We))},Dl=(L,Y)=>{if(ut(L))return{container:L,offset:Y};const de=su.getNode(L,Y);return ut(de)?{container:de,offset:Y>=L.childNodes.length?de.data.length:0}:de.previousSibling&&ut(de.previousSibling)?{container:de.previousSibling,offset:de.previousSibling.data.length}:de.nextSibling&&ut(de.nextSibling)?{container:de.nextSibling,offset:0}:{container:L,offset:Y}},rr=L=>{const Y=L.cloneRange(),de=Dl(L.startContainer,L.startOffset);Y.setStart(de.container,de.offset);const We=Dl(L.endContainer,L.endOffset);return Y.setEnd(We.container,We.offset),Y},Yd=["OL","UL","DL"],Pl=Yd.join(","),ua=(L,Y)=>{const de=Y||L.selection.getStart(!0);return L.dom.getParent(de,Pl,gd(L,de))},Hm=(L,Y)=>A(L)&&Y.length===1&&Y[0]===L,Wi=L=>I(L.querySelectorAll(Pl),bn),Ka=L=>{const Y=ua(L),de=L.selection.getSelectedBlocks();return Hm(Y,de)?Wi(Y):I(de,We=>bn(We)&&Y!==We)},da=(L,Y)=>{const de=Ze.map(Y,We=>{const tt=L.dom.getParent(We,"li,dd,dt",gd(L,We));return tt||We});return Yn(de)},bl=L=>{const Y=L.selection.getSelectedBlocks();return I(da(L,Y),_n)},Vg=L=>I(bl(L),Po),os=(L,Y)=>{const de=L.dom.getParents(Y,"TD,TH");return de.length>0?de[0]:L.getBody()},iu=(L,Y)=>!bn(Y)&&!_n(Y)&&dt(Yd,de=>L.isValidChild(Y.nodeName,de)),gd=(L,Y)=>{const de=L.dom.getParents(Y,L.dom.isBlock),We=Ut=>Ut.nodeName.toLowerCase()!==qd(L);return Yt(de,Ut=>We(Ut)&&iu(L.schema,Ut)).getOr(L.getBody())},Bu=L=>tn(L).exists(Y=>_n(Y.dom)&&ii(Y).exists(de=>!bn(de.dom))&&Rc(Y).exists(de=>!bn(de.dom))),np=(L,Y)=>{const de=L.dom.getParents(Y,"ol,ul",gd(L,Y));return bt(de)},$v=L=>{const Y=np(L,L.selection.getStart()),de=I(L.selection.getSelectedBlocks(),Cn);return Y.toArray().concat(de)},Zl=L=>{const Y=L.selection.getStart();return L.dom.getParents(Y,"ol,ul",gd(L,Y))},op=L=>{const Y=$v(L),de=Zl(L);return Yt(de,We=>Bu(xe.fromDom(We))).fold(()=>Vv(L,Y),We=>[We])},Vv=(L,Y)=>{const de=Me(Y,We=>np(L,We).getOr(We));return Yn(de)},zg=L=>/\btox\-/.test(L.className),yb=(L,Y)=>Ft(L,bn,xn).exists(de=>de.nodeName===Y&&!zg(de)),dn=(L,Y)=>Y!==null&&!L.dom.isEditable(Y),Xd=L=>{const Y=ua(L);return dn(L,Y)},Jd=(L,Y)=>{const de=L.dom.getParent(Y,"ol,ul,dl");return dn(L,de)},Hg=(L,Y)=>{const de=L.selection.getNode();return Y({parents:L.dom.getParents(de),element:de}),L.on("NodeChange",Y),()=>L.off("NodeChange",Y)},fa=(L,Y)=>{const We=document.createDocumentFragment();return Ne(L,tt=>{We.appendChild(tt.dom)}),xe.fromDom(We)},Qd=(L,Y,de)=>L.dispatch("ListMutation",{action:Y,element:de}),zv=(L=>Y=>Y.replace(L,""))(/^\s+|\s+$/g),xb=L=>L.length>0,wb=L=>!xb(L),G1=L=>L.style!==void 0&&M(L.style.getPropertyValue),Hv=(L,Y,de)=>{if(!h(de))throw console.error("Invalid call to CSS.set. Property ",Y,":: Value ",de,":: Element ",L),new Error("CSS value must be a string: "+de);G1(L)&&L.style.setProperty(Y,de)},q1=(L,Y,de)=>{const We=L.dom;Hv(We,Y,de)},Ug=L=>wt(L,"OL,UL"),au=L=>wt(L,"LI"),hd=L=>ii(L).exists(Ug),lu=L=>Rc(L).exists(Ug),Ki=L=>"listAttributes"in L,Nl=L=>"isComment"in L,ef=L=>"isFragment"in L,hs=L=>L.depth>0,Nc=L=>L.isSelected,Um=L=>{const Y=Kl(L),de=lu(L)?Y.slice(0,-1):Y;return Me(de,Vs)},Wm=(L,Y,de)=>tn(L).filter(uo).map(We=>({depth:Y,dirty:!1,isSelected:de,content:Um(L),itemAttributes:Aa(L),listAttributes:Aa(We),listType:Ss(We),isInPreviousLi:!1})),vl=(L,Y)=>{Tl(L.item,Y.list)},Qr=L=>{for(let Y=1;Y<L.length;Y++)vl(L[Y-1],L[Y])},Cr=(L,Y)=>{Qt(bt(L),Ve(Y),vl)},Ji=(L,Y)=>{const de={list:xe.fromTag(Y,L),item:xe.fromTag("li",L)};return Tl(de.list,de.item),de},fr=(L,Y,de)=>{const We=[];for(let tt=0;tt<de;tt++)We.push(Ji(L,Ki(Y)?Y.listType:Y.parentListType));return We},tf=(L,Y)=>{for(let de=0;de<L.length-1;de++)q1(L[de].item,"list-style-type","none");bt(L).each(de=>{Ki(Y)&&(Pi(de.list,Y.listAttributes),Pi(de.item,Y.itemAttributes)),ca(de.item,Y.content)})},nf=(L,Y)=>{Ss(L.list)!==Y.listType&&(L.list=Be(L.list,Y.listType)),Pi(L.list,Y.listAttributes)},Ei=(L,Y,de)=>{const We=xe.fromTag("li",L);return Pi(We,Y),ca(We,de),We},ja=(L,Y)=>{Tl(L.list,Y),L.item=Y},Ia=(L,Y,de)=>{const We=Y.slice(0,de.depth);return bt(We).each(tt=>{if(Ki(de)){const Ut=Ei(L,de.itemAttributes,de.content);ja(tt,Ut),nf(tt,de)}else if(ef(de))ca(tt.item,de.content);else{const Ut=xe.fromHtml(`<!--${de.content}-->`);Tl(tt.list,Ut)}}),We},hi=(L,Y,de)=>{const We=fr(L,de,de.depth-Y.length);return Qr(We),tf(We,de),Cr(Y,We),Y.concat(We)},pd=(L,Y)=>{let de=j.none();const We=it(Y,(tt,Ut,lo)=>Nl(Ut)?lo===0?(de=j.some(Ut),tt):Ia(L,tt,Ut):Ut.depth>tt.length?hi(L,tt,Ut):Ia(L,tt,Ut),[]);return de.each(tt=>{const Ut=xe.fromHtml(`<!--${tt.content}-->`);Ve(We).each(lo=>{jl(lo.list,Ut)})}),Ve(We).map(tt=>tt.list)},Yo=(L,Y)=>{switch(L){case"Indent":Y.depth++;break;case"Outdent":Y.depth--;break;case"Flatten":Y.depth=0}Y.dirty=!0},ai=(L,Y)=>{Ki(L)&&Ki(Y)&&(L.listType=Y.listType,L.listAttributes={...Y.listAttributes})},Za=L=>{L.listAttributes=hl(L.listAttributes,(Y,de)=>de!=="start")},cu=(L,Y)=>{const de=L[Y].depth,We=Ut=>Ut.depth===de&&!Ut.dirty,tt=Ut=>Ut.depth<de;return Ft(Ot(L.slice(0,Y)),We,tt).orThunk(()=>Ft(L.slice(Y+1),We,tt))},Ni=L=>(Ne(L,(Y,de)=>{cu(L,de).fold(()=>{Y.dirty&&Ki(Y)&&Za(Y)},We=>ai(Y,We))}),L),Wn=L=>{let Y=L;return{get:()=>Y,set:tt=>{Y=tt}}},Mc=(L,Y,de,We)=>{var tt;if(la(We))return[{depth:L+1,content:(tt=We.dom.nodeValue)!==null&&tt!==void 0?tt:"",dirty:!1,isSelected:!1,isComment:!0}];Y.each(Mo=>{Fe(Mo.start,We)&&de.set(!0)});const Ut=Wm(We,L,de.get());Y.each(Mo=>{Fe(Mo.end,We)&&de.set(!1)});const lo=Rc(We).filter(Ug).map(Mo=>_s(L,Y,de,Mo)).getOr([]);return Ut.toArray().concat(lo)},Lc=(L,Y,de,We)=>ii(We).filter(Ug).fold(()=>Mc(L,Y,de,We),tt=>{const Ut=it(Kl(We),(lo,Mo,ko)=>{if(ko===0)return lo;if(au(Mo))return lo.concat(Mc(L,Y,de,Mo));{const jn={isFragment:!0,depth:L,content:[Mo],isSelected:!1,dirty:!1,parentListType:Ss(tt)};return lo.concat(jn)}},[]);return _s(L,Y,de,tt).concat(Ut)}),_s=(L,Y,de,We)=>Rn(Kl(We),tt=>{const Ut=Ug(tt)?_s:Lc,lo=L+1;return Ut(lo,Y,de,tt)}),Jf=(L,Y)=>{const de=Wn(!1),We=0;return Me(L,tt=>({sourceList:tt,entries:_s(We,Y,de,tt)}))},sp=(L,Y)=>{const de=Ni(Y);return Me(de,We=>{const tt=Nl(We)?fa([xe.fromHtml(`<!--${We.content}-->`)]):fa(We.content),Ut=Ki(We)?We.itemAttributes:{};return xe.fromDom(Yf(L,tt.dom,Ut))})},uu=(L,Y)=>{const de=Ni(Y);return pd(L.contentDocument,de).toArray()},ss=(L,Y)=>Rn(st(Y,hs),de=>Ve(de).exists(hs)?uu(L,de):sp(L,de)),Da=(L,Y)=>{Ne(I(L,Nc),de=>Yo(Y,de))},Km=L=>{const Y=Me(bl(L),xe.fromDom);return Qt(Yt(Y,ge(hd)),Yt(Ot(Y),ge(hd)),(de,We)=>({start:de,end:We}))},Fu=(L,Y,de)=>{const We=Jf(Y,Km(L));Ne(We,tt=>{Da(tt.entries,de);const Ut=ss(L,tt.entries);Ne(Ut,lo=>{Qd(L,de==="Indent"?"IndentList":"OutdentList",lo.dom)}),dr(tt.sourceList,Ut),Gf(tt.sourceList)})},Wg=(L,Y)=>{const de=Lu(op(L)),We=Lu(Vg(L));let tt=!1;if(de.length||We.length){const Ut=L.selection.getBookmark();Fu(L,de,Y),pl(L,Y,We),L.selection.moveToBookmark(Ut),L.selection.setRng(rr(L.selection.getRng())),L.nodeChanged(),tt=!0}return tt},Bc=(L,Y)=>!Xd(L)&&Wg(L,Y),Ga=L=>Bc(L,"Indent"),du=L=>Bc(L,"Outdent"),of=L=>Bc(L,"Flatten"),Ye="\uFEFF",Qf=L=>L===Ye,qs=(L,Y,de)=>fl(L,Y,de).isSome(),rp=(L,Y)=>qs(L,W(Fe,Y));var jm=tinymce.util.Tools.resolve("tinymce.dom.BookmarkManager");const Cc=gt.DOM,us=L=>{const Y={},de=We=>{let tt=L[We?"startContainer":"endContainer"],Ut=L[We?"startOffset":"endOffset"];if(rn(tt)){const lo=Cc.create("span",{"data-mce-type":"bookmark"});tt.hasChildNodes()?(Ut=Math.min(Ut,tt.childNodes.length-1),We?tt.insertBefore(lo,tt.childNodes[Ut]):Cc.insertAfter(lo,tt.childNodes[Ut])):tt.appendChild(lo),tt=lo,Ut=0}Y[We?"startContainer":"endContainer"]=tt,Y[We?"startOffset":"endOffset"]=Ut};return de(!0),L.collapsed||de(),Y},ma=L=>{const Y=We=>{const tt=Mo=>{var ko;let jn=(ko=Mo.parentNode)===null||ko===void 0?void 0:ko.firstChild,Is=0;for(;jn;){if(jn===Mo)return Is;(!rn(jn)||jn.getAttribute("data-mce-type")!=="bookmark")&&Is++,jn=jn.nextSibling}return-1};let Ut=L[We?"startContainer":"endContainer"],lo=L[We?"startOffset":"endOffset"];if(Ut){if(rn(Ut)&&Ut.parentNode){const Mo=Ut;lo=tt(Ut),Ut=Ut.parentNode,Cc.remove(Mo),!Ut.hasChildNodes()&&Cc.isBlock(Ut)&&Ut.appendChild(Cc.create("br"))}L[We?"startContainer":"endContainer"]=Ut,L[We?"startOffset":"endOffset"]=lo}};Y(!0),Y();const de=Cc.createRng();return de.setStart(L.startContainer,L.startOffset),L.endContainer&&de.setEnd(L.endContainer,L.endOffset),rr(de)},ac=L=>{switch(L){case"UL":return"ToggleUlList";case"OL":return"ToggleOlList";case"DL":return"ToggleDLList"}},Sc=(L,Y,de)=>{const We=de["list-style-type"]?de["list-style-type"]:null;L.setStyle(Y,"list-style-type",We)},fu=(L,Y)=>{Ze.each(Y,(de,We)=>{L.setAttribute(We,de)})},$u=(L,Y,de)=>{fu(Y,de["list-attributes"]),Ze.each(L.select("li",Y),We=>{fu(We,de["list-item-attributes"])})},Qi=(L,Y,de)=>{Sc(L,Y,de),$u(L,Y,de)},sf=(L,Y,de)=>{Ze.each(de,We=>L.setStyle(Y,We,""))},Zm=(L,Y)=>A(Y)&&!jr(Y,L.schema.getBlockElements()),Kg=(L,Y,de,We)=>{let tt=Y[de?"startContainer":"endContainer"];const Ut=Y[de?"startOffset":"endOffset"];rn(tt)&&(tt=tt.childNodes[Math.min(Ut,tt.childNodes.length-1)]||tt),!de&&Ws(tt.nextSibling)&&(tt=tt.nextSibling);const lo=ko=>{for(;!L.dom.isBlock(ko)&&ko.parentNode&&We!==ko;)ko=ko.parentNode;return ko},Mo=(ko,jn)=>{var Is;const ei=new Al(ko,lo(ko)),Pr=jn?"next":"prev";let Hc;for(;Hc=ei[Pr]();)if(!(Uo(L,Hc)||Qf(Hc.textContent)||((Is=Hc.textContent)===null||Is===void 0?void 0:Is.length)===0))return j.some(Hc);return j.none()};if(de&&ut(tt))if(Qf(tt.textContent))tt=Mo(tt,!1).getOr(tt);else for(tt.parentNode!==null&&Zm(L,tt.parentNode)&&(tt=tt.parentNode);tt.previousSibling!==null&&(Zm(L,tt.previousSibling)||ut(tt.previousSibling));)tt=tt.previousSibling;if(!de&&ut(tt))if(Qf(tt.textContent))tt=Mo(tt,!0).getOr(tt);else for(tt.parentNode!==null&&Zm(L,tt.parentNode)&&(tt=tt.parentNode);tt.nextSibling!==null&&(Zm(L,tt.nextSibling)||ut(tt.nextSibling));)tt=tt.nextSibling;for(;tt.parentNode!==We;){const ko=tt.parentNode;if(gs(L,tt)||/^(TD|TH)$/.test(ko.nodeName))return tt;tt=ko}return tt},Mi=(L,Y,de)=>{const We=[],tt=L.dom,Ut=Kg(L,Y,!0,de),lo=Kg(L,Y,!1,de);let Mo;const ko=[];for(let jn=Ut;jn&&(ko.push(jn),jn!==lo);jn=jn.nextSibling);return Ze.each(ko,jn=>{var Is;if(gs(L,jn)){We.push(jn),Mo=null;return}if(tt.isBlock(jn)||Ws(jn)){Ws(jn)&&tt.remove(jn),Mo=null;return}const ei=jn.nextSibling;if(jm.isBookmarkNode(jn)&&(bn(ei)||gs(L,ei)||!ei&&jn.parentNode===de)){Mo=null;return}Mo||(Mo=tt.create("p"),(Is=jn.parentNode)===null||Is===void 0||Is.insertBefore(Mo,jn),We.push(Mo)),Mo.appendChild(jn)}),We},oo=(L,Y,de)=>{const We=L.getStyle(Y,"list-style-type");let tt=de?de["list-style-type"]:"";return tt=tt===null?"":tt,We===tt},Vu=(L,Y)=>{const de=L.selection.getStart(!0),We=Kg(L,Y,!0,L.getBody());return rp(xe.fromDom(We),xe.fromDom(Y.commonAncestorContainer))?Y.commonAncestorContainer:de},em=(L,Y,de)=>{const We=L.selection.getRng();let tt="LI";const Ut=gd(L,Vu(L,We)),lo=L.dom;if(lo.getContentEditable(L.selection.getNode())==="false")return;Y=Y.toUpperCase(),Y==="DL"&&(tt="DT");const Mo=us(We),ko=I(Mi(L,We,Ut),L.dom.isEditable);Ze.each(ko,jn=>{let Is;const ei=jn.previousSibling,Pr=jn.parentNode;_n(Pr)||(ei&&bn(ei)&&ei.nodeName===Y&&oo(lo,ei,de)?(Is=ei,jn=lo.rename(jn,tt),ei.appendChild(jn)):(Is=lo.create(Y),Pr.insertBefore(Is,jn),Is.appendChild(jn),jn=lo.rename(jn,tt)),sf(lo,jn,["margin","margin-right","margin-bottom","margin-left","margin-top","padding","padding-right","padding-bottom","padding-left","padding-top"]),Qi(lo,Is,de),bd(L.dom,Is))}),L.selection.setRng(ma(Mo))},ga=(L,Y)=>bn(L)&&L.nodeName===(Y==null?void 0:Y.nodeName),zu=(L,Y,de)=>{const We=L.getStyle(Y,"list-style-type",!0),tt=L.getStyle(de,"list-style-type",!0);return We===tt},Gl=(L,Y)=>L.className===Y.className,Hu=(L,Y,de)=>ga(Y,de)&&zu(L,Y,de)&&Gl(Y,de),bd=(L,Y)=>{let de,We=Y.nextSibling;if(Hu(L,Y,We)){const tt=We;for(;de=tt.firstChild;)Y.appendChild(de);L.remove(tt)}if(We=Y.previousSibling,Hu(L,Y,We)){const tt=We;for(;de=tt.lastChild;)Y.insertBefore(de,Y.firstChild);L.remove(tt)}},Li=(L,Y,de,We)=>{if(Y.nodeName!==de){const tt=L.dom.rename(Y,de);Qi(L.dom,tt,We),Qd(L,ac(de),tt)}else Qi(L.dom,Y,We),Qd(L,ac(de),Y)},_c=(L,Y,de,We)=>{if(Y.classList.forEach((tt,Ut,lo)=>{tt.startsWith("tox-")&&(lo.remove(tt),lo.length===0&&Y.removeAttribute("class"))}),Y.nodeName!==de){const tt=L.dom.rename(Y,de);Qi(L.dom,tt,We),Qd(L,ac(de),tt)}else Qi(L.dom,Y,We),Qd(L,ac(de),Y)},mu=(L,Y,de,We,tt)=>{const Ut=bn(Y);if(Ut&&Y.nodeName===We&&!tm(tt)&&!zg(Y))of(L);else{em(L,We,tt);const lo=us(L.selection.getRng()),Mo=Ut?[Y,...de]:de,ko=Ut&&zg(Y)?_c:Li;Ze.each(Mo,jn=>{ko(L,jn,We,tt)}),L.selection.setRng(ma(lo))}},tm=L=>"list-style-type"in L,Cb=(L,Y,de,We)=>{if(Y!==L.getBody())if(Y)if(Y.nodeName===de&&!tm(We)&&!zg(Y))of(L);else{const tt=us(L.selection.getRng());zg(Y)&&Y.classList.forEach((lo,Mo,ko)=>{lo.startsWith("tox-")&&(ko.remove(lo),ko.length===0&&Y.removeAttribute("class"))}),Qi(L.dom,Y,We);const Ut=L.dom.rename(Y,de);bd(L.dom,Ut),L.selection.setRng(ma(tt)),em(L,de,We),Qd(L,ac(de),Ut)}else em(L,de,We),Qd(L,ac(de),Y)},Uu=(L,Y,de)=>{const We=ua(L);if(Jd(L,We))return;const tt=Ka(L),Ut=x(de)?de:{};tt.length>0?mu(L,We,tt,Y,Ut):Cb(L,We,Y,Ut)},rf=gt.DOM,Gm=(L,Y)=>{const de=Y.parentElement;if(de&&de.nodeName==="LI"&&de.firstChild===Y){const We=de.previousSibling;We&&We.nodeName==="LI"?(We.appendChild(Y),Ra(L,de)&&rf.remove(de)):rf.setStyle(de,"listStyleType","none")}if(bn(de)){const We=de.previousSibling;We&&We.nodeName==="LI"&&We.appendChild(Y)}},Ir=(L,Y)=>{const de=Ze.grep(L.select("ol,ul",Y));Ze.each(de,We=>{Gm(L,We)})},Pa=(L,Y,de,We)=>{let tt=Y.startContainer;const Ut=Y.startOffset;if(ut(tt)&&(de?Ut<tt.data.length:Ut>0))return tt;const lo=L.schema.getNonEmptyElements();rn(tt)&&(tt=su.getNode(tt,Ut));const Mo=new Al(tt,We);de&&ic(L.dom,tt)&&Mo.next();const ko=de?Mo.next.bind(Mo):Mo.prev2.bind(Mo);for(;tt=ko();)if(tt.nodeName==="LI"&&!tt.hasChildNodes()||lo[tt.nodeName]||ut(tt)&&tt.data.length>0)return tt;return null},Na=(L,Y)=>{const de=Y.childNodes;return de.length===1&&!bn(de[0])&&L.isBlock(de[0])},qa=L=>j.from(L).map(xe.fromDom).filter(cn).exists(Y=>jf(Y)&&!et(["details"],Ss(Y))),Ti=(L,Y)=>{Na(L,Y)&&qa(Y.firstChild)&&L.remove(Y.firstChild,!0)},nm=(L,Y,de)=>{let We;const tt=Na(L,de)?de.firstChild:de;if(Ti(L,Y),!Ra(L,Y,!0))for(;We=Y.firstChild;)tt.appendChild(We)},pi=(L,Y,de)=>{let We;const tt=Y.parentNode;if(!_o(L,Y)||!_o(L,de))return;bn(de.lastChild)&&(We=de.lastChild),tt===de.lastChild&&Ws(tt.previousSibling)&&L.remove(tt.previousSibling);const Ut=de.lastChild;Ut&&Ws(Ut)&&Y.hasChildNodes()&&L.remove(Ut),Ra(L,de,!0)&&gl(xe.fromDom(de)),nm(L,Y,de),We&&de.appendChild(We);const Mo=Je(xe.fromDom(de),xe.fromDom(Y))?L.getParents(Y,bn,de):[];L.remove(Y),Ne(Mo,ko=>{Ra(L,ko)&&ko!==L.getRoot()&&L.remove(ko)})},ji=(L,Y,de)=>{gl(xe.fromDom(de)),pi(L.dom,Y,de),L.selection.setCursorLocation(de,0)},Fc=(L,Y,de,We)=>{const tt=L.dom;if(tt.isEmpty(We))ji(L,de,We);else{const Ut=us(Y);pi(tt,de,We),L.selection.setRng(ma(Ut))}},Ht=(L,Y,de,We)=>{const tt=us(Y);pi(L.dom,de,We);const Ut=ma(tt);L.selection.setRng(Ut)},Bi=(L,Y)=>{const de=L.dom,We=L.selection,tt=We.getStart(),Ut=os(L,tt),lo=de.getParent(We.getStart(),"LI",Ut);if(lo){const Mo=lo.parentElement;if(Mo===L.getBody()&&Ra(de,Mo))return!0;const ko=rr(We.getRng()),jn=de.getParent(Pa(L,ko,Y,Ut),"LI",Ut),Is=jn&&(Y?de.isChildOf(lo,jn):de.isChildOf(jn,lo));if(jn&&jn!==lo&&!Is)return L.undoManager.transact(()=>{Y?Fc(L,ko,jn,lo):ns(lo)?du(L):Ht(L,ko,lo,jn)}),!0;if(Is&&!Y&&jn!==lo)return L.undoManager.transact(()=>{if(ko.commonAncestorContainer.parentElement){const ei=us(ko),Pr=ko.commonAncestorContainer.parentElement;nm(de,ko.commonAncestorContainer.parentElement,jn),Pr.remove();const Hc=ma(ei);L.selection.setRng(Hc)}}),!0;if(!jn&&!Y&&ko.startOffset===0&&ko.endOffset===0)return L.undoManager.transact(()=>{of(L)}),!0}return!1},jg=(L,Y,de)=>{const We=L.getParent(Y.parentNode,L.isBlock,de);L.remove(Y),We&&L.isEmpty(We)&&L.remove(We)},Sr=(L,Y)=>{const de=L.dom,We=L.selection.getStart(),tt=os(L,We),Ut=de.getParent(We,de.isBlock,tt);if(Ut&&de.isEmpty(Ut,void 0,{checkRootAsContent:!0})){const lo=rr(L.selection.getRng()),Mo=de.getParent(Pa(L,lo,Y,tt),"LI",tt);if(Mo){const ko=Pr=>et(["td","th","caption"],Ss(Pr)),jn=Pr=>Pr.dom===tt,Is=Ui(xe.fromDom(Mo),ko,jn),ei=Ui(xe.fromDom(lo.startContainer),ko,jn);return Bn(Is,ei,Fe)?(L.undoManager.transact(()=>{const Pr=Mo.parentNode;jg(de,Ut,tt),bd(de,Pr),L.selection.select(Mo,!0),L.selection.collapse(Y)}),!0):!1}}return!1},Wu=(L,Y)=>Bi(L,Y)||Sr(L,Y),Ya=L=>{const Y=L.selection.getStart(),de=os(L,Y);return L.dom.getParent(Y,"LI,DT,DD",de)||bl(L).length>0},$c=L=>Ya(L)?(L.undoManager.transact(()=>{L.execCommand("Delete"),Ir(L.dom,L.getBody())}),!0):!1,om=(L,Y)=>{const de=L.selection;return!Jd(L,de.getNode())&&(de.isCollapsed()?Wu(L,Y):$c(L))},Xa=L=>{L.on("ExecCommand",Y=>{const de=Y.command.toLowerCase();(de==="delete"||de==="forwarddelete")&&Ya(L)&&Ir(L.dom,L.getBody())}),L.on("keydown",Y=>{Y.keyCode===Gd.BACKSPACE?om(L,!1)&&Y.preventDefault():Y.keyCode===Gd.DELETE&&om(L,!0)&&Y.preventDefault()})},ds=L=>({backspaceDelete:Y=>{om(L,Y)}}),$r=(L,Y)=>{const de=ua(L);de===null||Jd(L,de)||L.undoManager.transact(()=>{x(Y.styles)&&L.dom.setStyles(de,Y.styles),x(Y.attrs)&&Kr(Y.attrs,(We,tt)=>L.dom.setAttrib(de,tt,We))})},Ku=L=>{const Y=Ot(zv(L).split("")),de=Me(Y,(We,tt)=>{const Ut=We.toUpperCase().charCodeAt(0)-65+1;return Math.pow(26,tt)*Ut});return it(de,(We,tt)=>We+tt,0)},Zr=L=>{if(L--,L<0)return"";{const Y=L%26,de=Math.floor(L/26),We=Zr(de),tt=String.fromCharCode(65+Y);return We+tt}},qm=L=>/^[A-Z]+$/.test(L),Vc=L=>/^[a-z]+$/.test(L),ip=L=>/^[0-9]+$/.test(L),Dr=L=>ip(L)?2:qm(L)?0:Vc(L)?1:wb(L)?3:4,vt=L=>{switch(Dr(L)){case 2:return j.some({listStyleType:j.none(),start:L});case 0:return j.some({listStyleType:j.some("upper-alpha"),start:Ku(L).toString()});case 1:return j.some({listStyleType:j.some("lower-alpha"),start:Ku(L).toString()});case 3:return j.some({listStyleType:j.none(),start:""});case 4:return j.none()}},Ja=L=>{const Y=parseInt(L.start,10);return Xt(L.listStyleType,"upper-alpha")?Zr(Y):Xt(L.listStyleType,"lower-alpha")?Zr(Y).toLowerCase():L.start},Vr=L=>{const Y=ua(L);!Tn(Y)||Jd(L,Y)||L.windowManager.open({title:"List Properties",body:{type:"panel",items:[{type:"input",name:"start",label:"Start list at number",inputMode:"numeric"}]},initialData:{start:Ja({start:L.dom.getAttrib(Y,"start","1"),listStyleType:j.from(L.dom.getStyle(Y,"list-style-type"))})},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],onSubmit:de=>{const We=de.getData();vt(We.start).each(tt=>{L.execCommand("mceListUpdate",!1,{attrs:{start:tt.start==="1"?"":tt.start},styles:{"list-style-type":tt.listStyleType.getOr("")}})}),de.close()}})},lc=(L,Y)=>()=>{const de=ua(L);return A(de)&&de.nodeName===Y},zc=L=>{L.addCommand("mceListProps",()=>{Vr(L)})},li=L=>{L.on("BeforeExecCommand",Y=>{const de=Y.command.toLowerCase();de==="indent"?Ga(L):de==="outdent"&&du(L)}),L.addCommand("InsertUnorderedList",(Y,de)=>{Uu(L,"UL",de)}),L.addCommand("InsertOrderedList",(Y,de)=>{Uu(L,"OL",de)}),L.addCommand("InsertDefinitionList",(Y,de)=>{Uu(L,"DL",de)}),L.addCommand("RemoveList",()=>{of(L)}),zc(L),L.addCommand("mceListUpdate",(Y,de)=>{x(de)&&$r(L,de)}),L.addQueryStateHandler("InsertUnorderedList",lc(L,"UL")),L.addQueryStateHandler("InsertOrderedList",lc(L,"OL")),L.addQueryStateHandler("InsertDefinitionList",lc(L,"DL"))};var ir=tinymce.util.Tools.resolve("tinymce.html.Node");const Hs=L=>L.type===3,ha=L=>L.length===0,pa=L=>{const Y=(tt,Ut)=>{const lo=ir.create("li");Ne(tt,Mo=>lo.append(Mo)),Ut?L.insert(lo,Ut,!0):L.append(lo)},de=(tt,Ut)=>Hs(Ut)?[...tt,Ut]:!ha(tt)&&!Hs(Ut)?(Y(tt,Ut),[]):tt,We=it(L.children(),de,[]);ha(We)||Y(We)},Ml=L=>{L.on("PreInit",()=>{const{parser:Y}=L;Y.addNodeFilter("ul,ol",de=>Ne(de,pa))})},kc=L=>{L.on("keydown",Y=>{Y.keyCode!==Gd.TAB||Gd.metaKeyPressed(Y)||L.undoManager.transact(()=>{(Y.shiftKey?du(L):Ga(L))&&Y.preventDefault()})})},gu=L=>{Or(L)&&kc(L),Xa(L)},vd=(L,Y)=>de=>{const We=tt=>{de.setActive(yb(tt.parents,Y)),de.setEnabled(!Jd(L,tt.element)&&L.selection.isEditable())};return de.setEnabled(L.selection.isEditable()),Hg(L,We)},sm=L=>{const Y=de=>()=>L.execCommand(de);L.hasPlugin("advlist")||(L.ui.registry.addToggleButton("numlist",{icon:"ordered-list",active:!1,tooltip:"Numbered list",onAction:Y("InsertOrderedList"),onSetup:vd(L,"OL")}),L.ui.registry.addToggleButton("bullist",{icon:"unordered-list",active:!1,tooltip:"Bullet list",onAction:Y("InsertUnorderedList"),onSetup:vd(L,"UL")}))},Zg=(L,Y)=>de=>Hg(L,tt=>de.setEnabled(yb(tt.parents,Y)&&!Jd(L,tt.element))),ap=L=>{const Y={text:"List properties...",icon:"ordered-list",onAction:()=>L.execCommand("mceListProps"),onSetup:Zg(L,"OL")};L.ui.registry.addMenuItem("listprops",Y),L.ui.registry.addContextMenu("lists",{update:de=>{const We=ua(L,de);return Tn(We)?["listprops"]:[]}})};var ju=()=>{t.add("lists",L=>(Rl(L),Ml(L),L.hasPlugin("rtc",!0)?zc(L):(gu(L),li(L)),sm(L),ap(L),ds(L)))};ju()}()),kX}var TX;function cSe(){return TX||(TX=1,lSe()),_X}cSe();var AX={},OX={},RX;function uSe(){return RX||(RX=1,function(){var t=tinymce.util.Tools.resolve("tinymce.PluginManager");const r=(Se,Pe)=>Se.dispatch("insertCustomChar",{chr:Pe}),i=(Se,Pe)=>{const Ke=r(Se,Pe).chr;Se.execCommand("mceInsertContent",!1,Ke)},u=(Se,Pe,Ke)=>{var xe;return Ke(Se,Pe.prototype)?!0:((xe=Se.constructor)===null||xe===void 0?void 0:xe.name)===Pe.name},m=Se=>{const Pe=typeof Se;return Se===null?"null":Pe==="object"&&Array.isArray(Se)?"array":Pe==="object"&&u(Se,String,(Ke,xe)=>xe.isPrototypeOf(Ke))?"string":Pe},h=Se=>Pe=>m(Pe)===Se,x=Se=>Pe=>typeof Pe===Se,w=Se=>Pe=>Se===Pe,R=h("array"),P=w(null),A=w(void 0),M=Se=>Se==null,H=Se=>!M(Se),K=x("function"),te=(Se=>()=>Se)(!1);class re{constructor(Pe,Ke){this.tag=Pe,this.value=Ke}static some(Pe){return new re(!0,Pe)}static none(){return re.singletonNone}fold(Pe,Ke){return this.tag?Ke(this.value):Pe()}isSome(){return this.tag}isNone(){return!this.tag}map(Pe){return this.tag?re.some(Pe(this.value)):re.none()}bind(Pe){return this.tag?Pe(this.value):re.none()}exists(Pe){return this.tag&&Pe(this.value)}forall(Pe){return!this.tag||Pe(this.value)}filter(Pe){return!this.tag||Pe(this.value)?this:re.none()}getOr(Pe){return this.tag?this.value:Pe}or(Pe){return this.tag?this:Pe}getOrThunk(Pe){return this.tag?this.value:Pe()}orThunk(Pe){return this.tag?this:Pe()}getOrDie(Pe){if(this.tag)return this.value;throw new Error(Pe??"Called getOrDie on None")}static from(Pe){return H(Pe)?re.some(Pe):re.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(Pe){this.tag&&Pe(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}re.singletonNone=new re(!1);const W=Array.prototype.push,ge=(Se,Pe)=>{const Ke=Se.length,xe=new Array(Ke);for(let Ae=0;Ae<Ke;Ae++){const Fe=Se[Ae];xe[Ae]=Pe(Fe,Ae)}return xe},he=(Se,Pe)=>{for(let Ke=0,xe=Se.length;Ke<xe;Ke++){const Ae=Se[Ke];Pe(Ae,Ke)}},j=(Se,Pe,Ke)=>{for(let xe=0,Ae=Se.length;xe<Ae;xe++){const Fe=Se[xe];if(Pe(Fe,xe))return re.some(Fe);if(Ke(Fe,xe))break}return re.none()},me=(Se,Pe)=>j(Se,Pe,te),oe=Se=>{const Pe=[];for(let Ke=0,xe=Se.length;Ke<xe;++Ke){if(!R(Se[Ke]))throw new Error("Arr.flatten item "+Ke+" was not an array, input: "+Se);W.apply(Pe,Se[Ke])}return Pe},Ce=(Se,Pe)=>oe(ge(Se,Pe));var Ue=tinymce.util.Tools.resolve("tinymce.util.Tools");const et=Se=>Pe=>Pe.options.get(Se),dt=Se=>{const Pe=Se.options.register,Ke=xe=>K(xe)||R(xe);Pe("charmap",{processor:Ke}),Pe("charmap_append",{processor:Ke})},Me=et("charmap"),Ne=et("charmap_append"),I=Ue.isArray,st="User Defined",it=()=>[{name:"Currency",characters:[[36,"dollar sign"],[162,"cent sign"],[8364,"euro sign"],[163,"pound sign"],[165,"yen sign"],[164,"currency sign"],[8352,"euro-currency sign"],[8353,"colon sign"],[8354,"cruzeiro sign"],[8355,"french franc sign"],[8356,"lira sign"],[8357,"mill sign"],[8358,"naira sign"],[8359,"peseta sign"],[8360,"rupee sign"],[8361,"won sign"],[8362,"new sheqel sign"],[8363,"dong sign"],[8365,"kip sign"],[8366,"tugrik sign"],[8367,"drachma sign"],[8368,"german penny symbol"],[8369,"peso sign"],[8370,"guarani sign"],[8371,"austral sign"],[8372,"hryvnia sign"],[8373,"cedi sign"],[8374,"livre tournois sign"],[8375,"spesmilo sign"],[8376,"tenge sign"],[8377,"indian rupee sign"],[8378,"turkish lira sign"],[8379,"nordic mark sign"],[8380,"manat sign"],[8381,"ruble sign"],[20870,"yen character"],[20803,"yuan character"],[22291,"yuan character, in hong kong and taiwan"],[22278,"yen/yuan character variant one"]]},{name:"Text",characters:[[169,"copyright sign"],[174,"registered sign"],[8482,"trade mark sign"],[8240,"per mille sign"],[181,"micro sign"],[183,"middle dot"],[8226,"bullet"],[8230,"three dot leader"],[8242,"minutes / feet"],[8243,"seconds / inches"],[167,"section sign"],[182,"paragraph sign"],[223,"sharp s / ess-zed"]]},{name:"Quotations",characters:[[8249,"single left-pointing angle quotation mark"],[8250,"single right-pointing angle quotation mark"],[171,"left pointing guillemet"],[187,"right pointing guillemet"],[8216,"left single quotation mark"],[8217,"right single quotation mark"],[8220,"left double quotation mark"],[8221,"right double quotation mark"],[8218,"single low-9 quotation mark"],[8222,"double low-9 quotation mark"],[60,"less-than sign"],[62,"greater-than sign"],[8804,"less-than or equal to"],[8805,"greater-than or equal to"],[8211,"en dash"],[8212,"em dash"],[175,"macron"],[8254,"overline"],[164,"currency sign"],[166,"broken bar"],[168,"diaeresis"],[161,"inverted exclamation mark"],[191,"turned question mark"],[710,"circumflex accent"],[732,"small tilde"],[176,"degree sign"],[8722,"minus sign"],[177,"plus-minus sign"],[247,"division sign"],[8260,"fraction slash"],[215,"multiplication sign"],[185,"superscript one"],[178,"superscript two"],[179,"superscript three"],[188,"fraction one quarter"],[189,"fraction one half"],[190,"fraction three quarters"]]},{name:"Mathematical",characters:[[402,"function / florin"],[8747,"integral"],[8721,"n-ary sumation"],[8734,"infinity"],[8730,"square root"],[8764,"similar to"],[8773,"approximately equal to"],[8776,"almost equal to"],[8800,"not equal to"],[8801,"identical to"],[8712,"element of"],[8713,"not an element of"],[8715,"contains as member"],[8719,"n-ary product"],[8743,"logical and"],[8744,"logical or"],[172,"not sign"],[8745,"intersection"],[8746,"union"],[8706,"partial differential"],[8704,"for all"],[8707,"there exists"],[8709,"diameter"],[8711,"backward difference"],[8727,"asterisk operator"],[8733,"proportional to"],[8736,"angle"]]},{name:"Extended Latin",characters:[[192,"A - grave"],[193,"A - acute"],[194,"A - circumflex"],[195,"A - tilde"],[196,"A - diaeresis"],[197,"A - ring above"],[256,"A - macron"],[198,"ligature AE"],[199,"C - cedilla"],[200,"E - grave"],[201,"E - acute"],[202,"E - circumflex"],[203,"E - diaeresis"],[274,"E - macron"],[204,"I - grave"],[205,"I - acute"],[206,"I - circumflex"],[207,"I - diaeresis"],[298,"I - macron"],[208,"ETH"],[209,"N - tilde"],[210,"O - grave"],[211,"O - acute"],[212,"O - circumflex"],[213,"O - tilde"],[214,"O - diaeresis"],[216,"O - slash"],[332,"O - macron"],[338,"ligature OE"],[352,"S - caron"],[217,"U - grave"],[218,"U - acute"],[219,"U - circumflex"],[220,"U - diaeresis"],[362,"U - macron"],[221,"Y - acute"],[376,"Y - diaeresis"],[562,"Y - macron"],[222,"THORN"],[224,"a - grave"],[225,"a - acute"],[226,"a - circumflex"],[227,"a - tilde"],[228,"a - diaeresis"],[229,"a - ring above"],[257,"a - macron"],[230,"ligature ae"],[231,"c - cedilla"],[232,"e - grave"],[233,"e - acute"],[234,"e - circumflex"],[235,"e - diaeresis"],[275,"e - macron"],[236,"i - grave"],[237,"i - acute"],[238,"i - circumflex"],[239,"i - diaeresis"],[299,"i - macron"],[240,"eth"],[241,"n - tilde"],[242,"o - grave"],[243,"o - acute"],[244,"o - circumflex"],[245,"o - tilde"],[246,"o - diaeresis"],[248,"o slash"],[333,"o macron"],[339,"ligature oe"],[353,"s - caron"],[249,"u - grave"],[250,"u - acute"],[251,"u - circumflex"],[252,"u - diaeresis"],[363,"u - macron"],[253,"y - acute"],[254,"thorn"],[255,"y - diaeresis"],[563,"y - macron"],[913,"Alpha"],[914,"Beta"],[915,"Gamma"],[916,"Delta"],[917,"Epsilon"],[918,"Zeta"],[919,"Eta"],[920,"Theta"],[921,"Iota"],[922,"Kappa"],[923,"Lambda"],[924,"Mu"],[925,"Nu"],[926,"Xi"],[927,"Omicron"],[928,"Pi"],[929,"Rho"],[931,"Sigma"],[932,"Tau"],[933,"Upsilon"],[934,"Phi"],[935,"Chi"],[936,"Psi"],[937,"Omega"],[945,"alpha"],[946,"beta"],[947,"gamma"],[948,"delta"],[949,"epsilon"],[950,"zeta"],[951,"eta"],[952,"theta"],[953,"iota"],[954,"kappa"],[955,"lambda"],[956,"mu"],[957,"nu"],[958,"xi"],[959,"omicron"],[960,"pi"],[961,"rho"],[962,"final sigma"],[963,"sigma"],[964,"tau"],[965,"upsilon"],[966,"phi"],[967,"chi"],[968,"psi"],[969,"omega"]]},{name:"Symbols",characters:[[8501,"alef symbol"],[982,"pi symbol"],[8476,"real part symbol"],[978,"upsilon - hook symbol"],[8472,"Weierstrass p"],[8465,"imaginary part"]]},{name:"Arrows",characters:[[8592,"leftwards arrow"],[8593,"upwards arrow"],[8594,"rightwards arrow"],[8595,"downwards arrow"],[8596,"left right arrow"],[8629,"carriage return"],[8656,"leftwards double arrow"],[8657,"upwards double arrow"],[8658,"rightwards double arrow"],[8659,"downwards double arrow"],[8660,"left right double arrow"],[8756,"therefore"],[8834,"subset of"],[8835,"superset of"],[8836,"not a subset of"],[8838,"subset of or equal to"],[8839,"superset of or equal to"],[8853,"circled plus"],[8855,"circled times"],[8869,"perpendicular"],[8901,"dot operator"],[8968,"left ceiling"],[8969,"right ceiling"],[8970,"left floor"],[8971,"right floor"],[9001,"left-pointing angle bracket"],[9002,"right-pointing angle bracket"],[9674,"lozenge"],[9824,"black spade suit"],[9827,"black club suit"],[9829,"black heart suit"],[9830,"black diamond suit"],[8194,"en space"],[8195,"em space"],[8201,"thin space"],[8204,"zero width non-joiner"],[8205,"zero width joiner"],[8206,"left-to-right mark"],[8207,"right-to-left mark"]]}],Ft=Se=>Ue.grep(Se,Pe=>I(Pe)&&Pe.length===2),Yt=Se=>I(Se)?Ft(Se):typeof Se=="function"?Se():[],mt=(Se,Pe)=>{const Ke=Me(Se);Ke&&(Pe=[{name:st,characters:Yt(Ke)}]);const xe=Ne(Se);if(xe){const Ae=Ue.grep(Pe,Fe=>Fe.name===st);return Ae.length?(Ae[0].characters=[...Ae[0].characters,...Yt(xe)],Pe):Pe.concat({name:st,characters:Yt(xe)})}return Pe},Rn=Se=>{const Pe=mt(Se,it());return Pe.length>1?[{name:"All",characters:Ce(Pe,Ke=>Ke.characters)}].concat(Pe):Pe},Ot=Se=>({getCharMap:()=>Rn(Se),insertChar:xe=>{i(Se,xe)}}),at=Se=>{let Pe=Se;return{get:()=>Pe,set:Ae=>{Pe=Ae}}},Ve=(Se,Pe)=>{let Ke=null;const xe=()=>{P(Ke)||(clearTimeout(Ke),Ke=null)};return{cancel:xe,throttle:(...Fe)=>{xe(),Ke=setTimeout(()=>{Ke=null,Se.apply(null,Fe)},Pe)}}},bt=(Se,Pe,Ke=0,xe)=>{const Ae=Se.indexOf(Pe,Ke);return Ae!==-1?A(xe)?!0:Ae+Pe.length<=xe:!1},Yn=String.fromCodePoint,Xt=(Se,Pe,Ke)=>bt(Yn(Se).toLowerCase(),Ke)?!0:bt(Pe.toLowerCase(),Ke)||bt(Pe.toLowerCase().replace(/\s+/g,""),Ke),Bn=(Se,Pe)=>{const Ke=[],xe=Pe.toLowerCase();return he(Se.characters,Ae=>{Xt(Ae[0],Ae[1],xe)&&Ke.push(Ae)}),ge(Ke,Ae=>({text:Ae[1],value:Yn(Ae[0]),icon:Yn(Ae[0])}))},Qt="pattern",ee=(Se,Pe)=>{const Ke=()=>[{label:"Search",type:"input",name:Qt},{type:"collection",name:"results"}],xe=()=>ge(Pe,Ho=>({title:Ho.name,name:Ho.name,items:Ke()})),Ae=()=>({type:"panel",items:Ke()}),Fe=()=>({type:"tabpanel",tabs:xe()}),Je=Pe.length===1?at(st):at("All"),wt=(Ho,sr)=>{me(Pe,Ss=>Ss.name===Je.get()).each(Ss=>{const ri=Bn(Ss,sr);Ho.setData({results:ri})})},en=Ve(Ho=>{const sr=Ho.getData().pattern;wt(Ho,sr)},40),An=Pe.length===1?Ae():Fe(),no={pattern:"",results:Bn(Pe[0],"")},co={title:"Special Character",size:"normal",body:An,buttons:[{type:"cancel",name:"close",text:"Close",primary:!0}],initialData:no,onAction:(Ho,sr)=>{sr.name==="results"&&(i(Se,sr.value),Ho.close())},onTabChange:(Ho,sr)=>{Je.set(sr.newTabName),en.throttle(Ho)},onChange:(Ho,sr)=>{sr.name===Qt&&en.throttle(Ho)}};Se.windowManager.open(co).focus(Qt)},vo=(Se,Pe)=>{Se.addCommand("mceShowCharmap",()=>{ee(Se,Pe)})},nn=(Se,Pe)=>{Se.ui.registry.addAutocompleter("charmap",{trigger:":",columns:"auto",minChars:2,fetch:(Ke,xe)=>new Promise((Ae,Fe)=>{Ae(Bn(Pe,Ke))}),onAction:(Ke,xe,Ae)=>{Se.selection.setRng(xe),Se.insertContent(Ae),Ke.hide()}})},yn=Se=>Pe=>{const Ke=()=>{Pe.setEnabled(Se.selection.isEditable())};return Se.on("NodeChange",Ke),Ke(),()=>{Se.off("NodeChange",Ke)}},qe=Se=>{const Pe=()=>Se.execCommand("mceShowCharmap");Se.ui.registry.addButton("charmap",{icon:"insert-character",tooltip:"Special character",onAction:Pe,onSetup:yn(Se)}),Se.ui.registry.addMenuItem("charmap",{icon:"insert-character",text:"Special character...",onAction:Pe,onSetup:yn(Se)})};var lt=()=>{t.add("charmap",Se=>{dt(Se);const Pe=Rn(Se);return vo(Se,Pe),qe(Se),nn(Se,Pe[0]),Ot(Se)})};lt()}()),OX}var IX;function dSe(){return IX||(IX=1,uSe()),AX}dSe();var DX={},PX={},NX;function fSe(){return NX||(NX=1,function(){var t=tinymce.util.Tools.resolve("tinymce.PluginManager");const i=(Se=>Pe=>Se===Pe)(null),u=Se=>Se,m=(Se,Pe)=>{const Ke=Se.length,xe=new Array(Ke);for(let Ae=0;Ae<Ke;Ae++){const Fe=Se[Ae];xe[Ae]=Pe(Fe,Ae)}return xe},x={aletter:"[A-Za-z---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------]",midnumlet:"[-'\\.]",midletter:"[:]",midnum:"[+*/,;;]",numeric:"[0-9---------------------------------]",cr:"\\r",lf:"\\n",newline:"[\v\f\u2028\u2029]",extend:"[------------------------------------------------------------------------------------------------------]",format:"[----\uFEFF-]",katakana:"[-------]",extendnumlet:"[=_--<>]",punctuation:"[~|!-*+-\\/:;?@\\[-`{};----------------------------------------------]"},w={ALETTER:0,MIDNUMLET:1,MIDLETTER:2,MIDNUM:3,NUMERIC:4,CR:5,LF:6,NEWLINE:7,EXTEND:8,FORMAT:9,KATAKANA:10,EXTENDNUMLET:11,AT:12,OTHER:13},R=[new RegExp(x.aletter),new RegExp(x.midnumlet),new RegExp(x.midletter),new RegExp(x.midnum),new RegExp(x.numeric),new RegExp(x.cr),new RegExp(x.lf),new RegExp(x.newline),new RegExp(x.extend),new RegExp(x.format),new RegExp(x.katakana),new RegExp(x.extendnumlet),new RegExp("@")],P="",A=new RegExp("^"+x.punctuation+"$"),M=/^\s+$/,H=R,K=w.OTHER,G=Se=>{let Pe=K;const Ke=H.length;for(let xe=0;xe<Ke;++xe){const Ae=H[xe];if(Ae&&Ae.test(Se)){Pe=xe;break}}return Pe},te=Se=>{const Pe={};return Ke=>{if(Pe[Ke])return Pe[Ke];{const xe=Se(Ke);return Pe[Ke]=xe,xe}}},re=Se=>{const Pe=te(G);return m(Se,Pe)},W=(Se,Pe)=>{const Ke=Se[Pe],xe=Se[Pe+1];if(Pe<0||Pe>Se.length-1&&Pe!==0||Ke===w.ALETTER&&xe===w.ALETTER)return!1;const Ae=Se[Pe+2];if(Ke===w.ALETTER&&(xe===w.MIDLETTER||xe===w.MIDNUMLET||xe===w.AT)&&Ae===w.ALETTER)return!1;const Fe=Se[Pe-1];return(Ke===w.MIDLETTER||Ke===w.MIDNUMLET||xe===w.AT)&&xe===w.ALETTER&&Fe===w.ALETTER||(Ke===w.NUMERIC||Ke===w.ALETTER)&&(xe===w.NUMERIC||xe===w.ALETTER)||(Ke===w.MIDNUM||Ke===w.MIDNUMLET)&&xe===w.NUMERIC&&Fe===w.NUMERIC||Ke===w.NUMERIC&&(xe===w.MIDNUM||xe===w.MIDNUMLET)&&Ae===w.NUMERIC||(Ke===w.EXTEND||Ke===w.FORMAT)&&(xe===w.ALETTER||xe===w.NUMERIC||xe===w.KATAKANA||xe===w.EXTEND||xe===w.FORMAT)||(xe===w.EXTEND||xe===w.FORMAT&&(Ae===w.ALETTER||Ae===w.NUMERIC||Ae===w.KATAKANA||Ae===w.EXTEND||Ae===w.FORMAT))&&(Ke===w.ALETTER||Ke===w.NUMERIC||Ke===w.KATAKANA||Ke===w.EXTEND||Ke===w.FORMAT)||Ke===w.CR&&xe===w.LF?!1:Ke===w.NEWLINE||Ke===w.CR||Ke===w.LF||xe===w.NEWLINE||xe===w.CR||xe===w.LF?!0:!(Ke===w.KATAKANA&&xe===w.KATAKANA||xe===w.EXTENDNUMLET&&(Ke===w.ALETTER||Ke===w.NUMERIC||Ke===w.KATAKANA||Ke===w.EXTENDNUMLET)||Ke===w.EXTENDNUMLET&&(xe===w.ALETTER||xe===w.NUMERIC||xe===w.KATAKANA)||Ke===w.AT)},ge=P,he=M,j=A,me=Se=>Se==="http"||Se==="https",oe=(Se,Pe)=>{let Ke;for(Ke=Pe;Ke<Se.length&&!he.test(Se[Ke]);Ke++);return Ke},Ce=(Se,Pe)=>{const Ke=oe(Se,Pe+1);return Se.slice(Pe+1,Ke).join(ge).substr(0,3)==="://"?Ke:Pe},Ue=(Se,Pe,Ke,xe)=>{const Ae=[],Fe=[];let Je=[];for(let wt=0;wt<Ke.length;++wt)if(Je.push(Se[wt]),W(Ke,wt)){const pn=Pe[wt];if((xe.includeWhitespace||!he.test(pn))&&(xe.includePunctuation||!j.test(pn))){const en=wt-Je.length+1,An=wt+1,no=Pe.slice(en,An).join(ge);if(me(no)){const co=Ce(Pe,wt),Jo=Se.slice(An,co);Array.prototype.push.apply(Je,Jo),wt=co}Pe[wt+1]==="."&&/^([a-zA-Z]\.)+$/.test(no+".")?(Je.push(Se[wt+1]),Fe.push({start:en,end:An+1})):Fe.push({start:en,end:An}),Ae.push(Je)}Je=[]}return{words:Ae,indices:Fe}},et=()=>({includeWhitespace:!1,includePunctuation:!1}),dt=(Se,Pe,Ke)=>{Ke={...et(),...Ke};const xe=m(Se,Pe),Ae=re(xe);return Ue(Se,xe,Ae,Ke)},Ne=(Se,Pe,Ke)=>dt(Se,Pe,Ke).words,I=Se=>Se.replace(/\uFEFF/g,"");var st=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker");const it=(Se,Pe)=>{const Ke=Pe.getBlockElements(),xe=Pe.getVoidElements(),Ae=en=>Ke[en.nodeName]||xe[en.nodeName],Fe=[];let Je="";const wt=new st(Se,Se);let pn;for(;pn=wt.next();)pn.nodeType===3?Je+=I(pn.data):Ae(pn)&&Je.length&&(Fe.push(Je),Je="");return Je.length&&Fe.push(Je),Fe},Ft=Se=>Se.replace(/\u200B/g,""),Yt=Se=>Se.replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"_").length,mt=(Se,Pe)=>{const Ke=Ft(it(Se,Pe).join(`
`));return Ne(Ke.split(""),u).length},Rn=(Se,Pe)=>{const Ke=it(Se,Pe).join("");return Yt(Ke)},Ot=(Se,Pe)=>{const Ke=it(Se,Pe).join("").replace(/\s/g,"");return Yt(Ke)},at=(Se,Pe)=>()=>Pe(Se.getBody(),Se.schema),Ve=(Se,Pe)=>()=>Pe(Se.selection.getRng().cloneContents(),Se.schema),bt=Se=>at(Se,mt),Yn=Se=>({body:{getWordCount:bt(Se),getCharacterCount:at(Se,Rn),getCharacterCountWithoutSpaces:at(Se,Ot)},selection:{getWordCount:Ve(Se,mt),getCharacterCount:Ve(Se,Rn),getCharacterCountWithoutSpaces:Ve(Se,Ot)},getCount:bt(Se)}),Xt=(Se,Pe)=>{Se.windowManager.open({title:"Word Count",body:{type:"panel",items:[{type:"table",header:["Count","Document","Selection"],cells:[["Words",String(Pe.body.getWordCount()),String(Pe.selection.getWordCount())],["Characters (no spaces)",String(Pe.body.getCharacterCountWithoutSpaces()),String(Pe.selection.getCharacterCountWithoutSpaces())],["Characters",String(Pe.body.getCharacterCount()),String(Pe.selection.getCharacterCount())]]}]},buttons:[{type:"cancel",name:"close",text:"Close",primary:!0}]})},Bn=(Se,Pe)=>{Se.addCommand("mceWordCount",()=>Xt(Se,Pe))},Qt=(Se,Pe)=>{let Ke=null;return{cancel:()=>{i(Ke)||(clearTimeout(Ke),Ke=null)},throttle:(...Fe)=>{i(Ke)&&(Ke=setTimeout(()=>{Ke=null,Se.apply(null,Fe)},Pe))}}};var ee=tinymce.util.Tools.resolve("tinymce.util.Delay");const vo=(Se,Pe)=>{Se.dispatch("wordCountUpdate",{wordCount:{words:Pe.body.getWordCount(),characters:Pe.body.getCharacterCount(),charactersWithoutSpaces:Pe.body.getCharacterCountWithoutSpaces()}})},nn=(Se,Pe)=>{vo(Se,Pe)},yn=(Se,Pe,Ke)=>{const xe=Qt(()=>nn(Se,Pe),Ke);Se.on("init",()=>{nn(Se,Pe),ee.setEditorTimeout(Se,()=>{Se.on("SetContent BeforeAddUndo Undo Redo ViewUpdate keyup",xe.throttle)},0),Se.on("remove",xe.cancel)})},qe=Se=>{const Pe=()=>Se.execCommand("mceWordCount");Se.ui.registry.addButton("wordcount",{tooltip:"Word count",icon:"character-count",onAction:Pe}),Se.ui.registry.addMenuItem("wordcount",{text:"Word count",icon:"character-count",onAction:Pe})};var lt=(Se=300)=>{t.add("wordcount",Pe=>{const Ke=Yn(Pe);return Bn(Pe,Ke),qe(Pe),yn(Pe,Ke,Se),Ke})};lt()}()),PX}var MX;function mSe(){return MX||(MX=1,fSe()),DX}mSe();var LX={},BX={},FX;function gSe(){return FX||(FX=1,function(){var t=tinymce.util.Tools.resolve("tinymce.PluginManager");const r=(D,z,ue)=>{var Te;return ue(D,z.prototype)?!0:((Te=D.constructor)===null||Te===void 0?void 0:Te.name)===z.name},i=D=>{const z=typeof D;return D===null?"null":z==="object"&&Array.isArray(D)?"array":z==="object"&&r(D,String,(ue,Te)=>Te.isPrototypeOf(ue))?"string":z},u=D=>z=>i(z)===D,m=D=>z=>typeof z===D,h=D=>z=>D===z,x=u("string"),w=u("array"),R=m("boolean"),P=h(void 0),A=D=>D==null,M=D=>!A(D),H=m("function"),K=m("number"),G=()=>{},te=(D,z)=>ue=>D(z(ue)),re=D=>()=>D,W=D=>D,ge=(D,z)=>D===z;function he(D,...z){return(...ue)=>{const Te=z.concat(ue);return D.apply(null,Te)}}const j=D=>{D()},me=re(!1),oe=re(!0);class Ce{constructor(z,ue){this.tag=z,this.value=ue}static some(z){return new Ce(!0,z)}static none(){return Ce.singletonNone}fold(z,ue){return this.tag?ue(this.value):z()}isSome(){return this.tag}isNone(){return!this.tag}map(z){return this.tag?Ce.some(z(this.value)):Ce.none()}bind(z){return this.tag?z(this.value):Ce.none()}exists(z){return this.tag&&z(this.value)}forall(z){return!this.tag||z(this.value)}filter(z){return!this.tag||z(this.value)?this:Ce.none()}getOr(z){return this.tag?this.value:z}or(z){return this.tag?this:z}getOrThunk(z){return this.tag?this.value:z()}orThunk(z){return this.tag?this:z()}getOrDie(z){if(this.tag)return this.value;throw new Error(z??"Called getOrDie on None")}static from(z){return M(z)?Ce.some(z):Ce.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(z){this.tag&&z(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}Ce.singletonNone=new Ce(!1);const Ue=Object.keys,et=Object.hasOwnProperty,dt=(D,z)=>{const ue=Ue(D);for(let Te=0,ot=ue.length;Te<ot;Te++){const Vt=ue[Te],un=D[Vt];z(un,Vt)}},Me=D=>(z,ue)=>{D[ue]=z},Ne=(D,z,ue,Te)=>{dt(D,(ot,Vt)=>{(z(ot,Vt)?ue:Te)(ot,Vt)})},I=(D,z)=>{const ue={};return Ne(D,z,Me(ue),G),ue},st=(D,z)=>{const ue=[];return dt(D,(Te,ot)=>{ue.push(z(Te,ot))}),ue},it=D=>st(D,W),Ft=D=>Ue(D).length,Yt=(D,z)=>mt(D,z)?Ce.from(D[z]):Ce.none(),mt=(D,z)=>et.call(D,z),Rn=(D,z)=>mt(D,z)&&D[z]!==void 0&&D[z]!==null,Ot=D=>{for(const z in D)if(et.call(D,z))return!1;return!0},at=Array.prototype.indexOf,Ve=Array.prototype.push,bt=(D,z)=>at.call(D,z),Yn=(D,z)=>bt(D,z)>-1,Xt=(D,z)=>{for(let ue=0,Te=D.length;ue<Te;ue++){const ot=D[ue];if(z(ot,ue))return!0}return!1},Bn=(D,z)=>{const ue=[];for(let Te=0;Te<D;Te++)ue.push(z(Te));return ue},Qt=(D,z)=>{const ue=D.length,Te=new Array(ue);for(let ot=0;ot<ue;ot++){const Vt=D[ot];Te[ot]=z(Vt,ot)}return Te},ee=(D,z)=>{for(let ue=0,Te=D.length;ue<Te;ue++){const ot=D[ue];z(ot,ue)}},vo=(D,z)=>{for(let ue=D.length-1;ue>=0;ue--){const Te=D[ue];z(Te,ue)}},nn=(D,z)=>{const ue=[],Te=[];for(let ot=0,Vt=D.length;ot<Vt;ot++){const un=D[ot];(z(un,ot)?ue:Te).push(un)}return{pass:ue,fail:Te}},yn=(D,z)=>{const ue=[];for(let Te=0,ot=D.length;Te<ot;Te++){const Vt=D[Te];z(Vt,Te)&&ue.push(Vt)}return ue},qe=(D,z,ue)=>(vo(D,(Te,ot)=>{ue=z(ue,Te,ot)}),ue),lt=(D,z,ue)=>(ee(D,(Te,ot)=>{ue=z(ue,Te,ot)}),ue),Se=(D,z,ue)=>{for(let Te=0,ot=D.length;Te<ot;Te++){const Vt=D[Te];if(z(Vt,Te))return Ce.some(Vt);if(ue(Vt,Te))break}return Ce.none()},Pe=(D,z)=>Se(D,z,me),Ke=D=>{const z=[];for(let ue=0,Te=D.length;ue<Te;++ue){if(!w(D[ue]))throw new Error("Arr.flatten item "+ue+" was not an array, input: "+D);Ve.apply(z,D[ue])}return z},xe=(D,z)=>Ke(Qt(D,z)),Ae=(D,z)=>{for(let ue=0,Te=D.length;ue<Te;++ue){const ot=D[ue];if(z(ot,ue)!==!0)return!1}return!0},Fe=(D,z)=>{const ue={};for(let Te=0,ot=D.length;Te<ot;Te++){const Vt=D[Te];ue[String(Vt)]=z(Vt,Te)}return ue},Je=(D,z)=>z>=0&&z<D.length?Ce.some(D[z]):Ce.none(),wt=D=>Je(D,0),pn=D=>Je(D,D.length-1),en=(D,z)=>{for(let ue=0;ue<D.length;ue++){const Te=z(D[ue],ue);if(Te.isSome())return Te}return Ce.none()},An=8,no=9,co=11,Jo=1,Ho=3,sr=(D,z)=>{const Te=(z||document).createElement("div");if(Te.innerHTML=D,!Te.hasChildNodes()||Te.childNodes.length>1){const ot="HTML does not have a single root node";throw console.error(ot,D),new Error(ot)}return xs(Te.childNodes[0])},Ss=(D,z)=>{const Te=(z||document).createElement(D);return xs(Te)},ri=(D,z)=>{const Te=(z||document).createTextNode(D);return xs(Te)},xs=D=>{if(D==null)throw new Error("Node cannot be null or undefined");return{dom:D}},cn={fromHtml:sr,fromTag:Ss,fromText:ri,fromDom:xs,fromPoint:(D,z,ue)=>Ce.from(D.dom.elementFromPoint(z,ue)).map(xs)},uo=(D,z)=>{const ue=D.dom;if(ue.nodeType!==Jo)return!1;{const Te=ue;if(Te.matches!==void 0)return Te.matches(z);if(Te.msMatchesSelector!==void 0)return Te.msMatchesSelector(z);if(Te.webkitMatchesSelector!==void 0)return Te.webkitMatchesSelector(z);if(Te.mozMatchesSelector!==void 0)return Te.mozMatchesSelector(z);throw new Error("Browser lacks native selectors")}},$o=D=>D.nodeType!==Jo&&D.nodeType!==no&&D.nodeType!==co||D.childElementCount===0,mi=(D,z)=>{const ue=z===void 0?document:z.dom;return $o(ue)?[]:Qt(ue.querySelectorAll(D),cn.fromDom)},dl=(D,z)=>{const ue=z===void 0?document:z.dom;return $o(ue)?Ce.none():Ce.from(ue.querySelector(D)).map(cn.fromDom)},tn=(D,z)=>D.dom===z.dom,ki=uo;typeof window<"u"||Function("return this;")();const qo=D=>D.dom.nodeName.toLowerCase(),Kl=D=>D.dom.nodeType,js=D=>z=>Kl(z)===D,ii=D=>Kl(D)===An||qo(D)==="#comment",Rc=js(Jo),Ic=js(Ho),Dc=js(no),El=js(co),Pc=D=>z=>Rc(z)&&qo(z)===D,Zs=D=>cn.fromDom(D.dom.ownerDocument),So=D=>Dc(D)?D:Zs(D),fl=D=>Ce.from(D.dom.parentNode).map(cn.fromDom),Ui=(D,z)=>{const ue=H(z)?z:me;let Te=D.dom;const ot=[];for(;Te.parentNode!==null&&Te.parentNode!==void 0;){const Vt=Te.parentNode,un=cn.fromDom(Vt);if(ot.push(un),ue(un)===!0)break;Te=Vt}return ot},Mu=D=>Ce.from(D.dom.previousSibling).map(cn.fromDom),Sn=D=>Ce.from(D.dom.nextSibling).map(cn.fromDom),rc=D=>Qt(D.dom.childNodes,cn.fromDom),jf=(D,z)=>{const ue=D.dom.childNodes;return Ce.from(ue[z]).map(cn.fromDom)},Tr=D=>jf(D,0),Zf=D=>El(D)&&M(D.dom.host),ml=D=>cn.fromDom(D.dom.getRootNode()),jl=D=>{const z=ml(D);return Zf(z)?Ce.some(z):Ce.none()},Tl=D=>cn.fromDom(D.dom.host),dr=D=>{const z=Ic(D)?D.dom.parentNode:D.dom;if(z==null||z.ownerDocument===null)return!1;const ue=z.ownerDocument;return jl(cn.fromDom(z)).fold(()=>ue.body.contains(z),te(dr,Tl))};var ca=(D,z,ue,Te,ot)=>D(ue,Te)?Ce.some(ue):H(ot)&&ot(ue)?Ce.none():z(ue,Te,ot);const gl=(D,z,ue)=>{let Te=D.dom;const ot=H(ue)?ue:me;for(;Te.parentNode;){Te=Te.parentNode;const Vt=cn.fromDom(Te);if(z(Vt))return Ce.some(Vt);if(ot(Vt))break}return Ce.none()},Gf=(D,z,ue)=>ca((ot,Vt)=>Vt(ot),gl,D,z,ue),su=(D,z)=>{const ue=ot=>z(cn.fromDom(ot));return Pe(D.dom.childNodes,ue).map(cn.fromDom)},Al=(D,z,ue)=>gl(D,Te=>uo(Te,z),ue),Gd=(D,z)=>su(D,ue=>uo(ue,z)),Lu=(D,z)=>dl(z,D),cs=(D,z,ue)=>ca((ot,Vt)=>uo(ot,Vt),Al,D,z,ue),Kr=D=>cs(D,"[contenteditable]"),gi=(D,z=!1)=>dr(D)?D.dom.isContentEditable:Kr(D).fold(re(z),ue=>qf(ue)==="true"),qf=D=>D.dom.contentEditable,hl=D=>D.nodeName.toLowerCase(),ru=D=>cn.fromDom(D.getBody()),Pi=D=>z=>tn(z,ru(D)),Aa=D=>D?D.replace(/px$/,""):"",Oa=D=>/^\d+(\.\d+)?$/.test(D)?D+"px":D,Vs=D=>cn.fromDom(D.selection.getStart()),wr=D=>cn.fromDom(D.selection.getEnd()),Be=D=>Gf(D,Pc("table")).forall(gi),gt=(D,z)=>yn(rc(D),z),Ze=(D,z)=>{let ue=[];return ee(rc(D),Te=>{z(Te)&&(ue=ue.concat([Te])),ue=ue.concat(Ze(Te,z))}),ue},_t=(D,z)=>gt(D,ue=>uo(ue,z)),Ct=(D,z)=>mi(z,D),ut=(D,z,ue)=>{if(x(ue)||R(ue)||K(ue))D.setAttribute(z,ue+"");else throw console.error("Invalid call to Attribute.set. Key ",z,":: Value ",ue,":: Element ",D),new Error("Attribute value was not simple")},rn=(D,z,ue)=>{ut(D.dom,z,ue)},bn=(D,z)=>{const ue=D.dom;dt(z,(Te,ot)=>{ut(ue,ot,Te)})},Cn=(D,z)=>{const ue=D.dom.getAttribute(z);return ue===null?void 0:ue},Tn=(D,z)=>Ce.from(Cn(D,z)),_n=(D,z)=>{D.dom.removeAttribute(z)},Po=D=>lt(D.dom.attributes,(z,ue)=>(z[ue.name]=ue.value,z),{}),xn=(D,z,ue=ge)=>D.exists(Te=>ue(Te,z)),Ws=D=>{const z=[],ue=Te=>{z.push(Te)};for(let Te=0;Te<D.length;Te++)D[Te].each(ue);return z},ns=(D,z,ue)=>D.isSome()&&z.isSome()?Ce.some(ue(D.getOrDie(),z.getOrDie())):Ce.none(),gs=D=>D.bind(W),jr=(D,z)=>D?Ce.some(z):Ce.none(),Uo=(D,z)=>D.substring(z),ic=(D,z,ue)=>z===""||D.length>=z.length&&D.substr(ue,ue+z.length)===z,Ra=(D,z)=>_o(D,z)?Uo(D,z.length):D,_o=(D,z)=>ic(D,z,0),Rl=(D=>z=>z.replace(D,""))(/^\s+|\s+$/g),Or=D=>D.length>0,qd=D=>!Or(D),Jr=(D,z=10)=>{const ue=parseInt(D,z);return isNaN(ue)?Ce.none():Ce.some(ue)},Yf=D=>{const z=parseFloat(D);return isNaN(z)?Ce.none():Ce.some(z)},Il=D=>D.style!==void 0&&H(D.style.getPropertyValue),zs=(D,z,ue)=>{if(!x(ue))throw console.error("Invalid call to CSS.set. Property ",z,":: Value ",ue,":: Element ",D),new Error("CSS value must be a string: "+ue);Il(D)&&D.style.setProperty(z,ue)},md=(D,z)=>{Il(D)&&D.style.removeProperty(z)},Vm=(D,z,ue)=>{const Te=D.dom;zs(Te,z,ue)},zm=(D,z)=>{const ue=D.dom,ot=window.getComputedStyle(ue).getPropertyValue(z);return ot===""&&!dr(D)?Rr(ue,z):ot},Rr=(D,z)=>Il(D)?D.style.getPropertyValue(z):"",pl=(D,z)=>{const ue=D.dom,Te=Rr(ue,z);return Ce.from(Te).filter(ot=>ot.length>0)},Dl=(D,z)=>{const ue=D.dom;md(ue,z),xn(Tn(D,"style").map(Rl),"")&&_n(D,"style")},rr=(D,z,ue=0)=>Tn(D,z).map(Te=>parseInt(Te,10)).getOr(ue),Yd=(D,z)=>Pl(D,z,oe),Pl=(D,z,ue)=>xe(rc(D),Te=>uo(Te,z)?ue(Te)?[Te]:[]:Pl(Te,z,ue)),ua=["tfoot","thead","tbody","colgroup"],Hm=D=>Yn(ua,D),Wi=(D,z)=>({rows:D,columns:z}),Ka=(D,z,ue)=>({element:D,rowspan:z,colspan:ue}),da=(D,z,ue,Te,ot,Vt)=>({element:D,rowspan:z,colspan:ue,row:Te,column:ot,isLocked:Vt}),bl=(D,z,ue)=>({element:D,cells:z,section:ue}),Vg=(D,z,ue,Te)=>({startRow:D,startCol:z,finishRow:ue,finishCol:Te}),os=(D,z,ue)=>({element:D,colspan:z,column:ue}),iu=(D,z)=>({element:D,columns:z}),gd=(D,z,ue=me)=>{if(ue(z))return Ce.none();if(Yn(D,qo(z)))return Ce.some(z);const Te=ot=>uo(ot,"table")||ue(ot);return Al(z,D.join(","),Te)},Bu=(D,z)=>gd(["td","th"],D,z),np=D=>Yd(D,"th,td"),$v=D=>uo(D,"colgroup")?_t(D,"col"):xe(Vv(D),z=>_t(z,"col")),Zl=(D,z)=>cs(D,"table",z),op=D=>Yd(D,"tr"),Vv=D=>Zl(D).fold(re([]),z=>_t(z,"colgroup")),zg=(D,z)=>Qt(D,ue=>{if(qo(ue)==="colgroup"){const Te=Qt($v(ue),ot=>{const Vt=rr(ot,"span",1);return Ka(ot,1,Vt)});return bl(ue,Te,"colgroup")}else{const Te=Qt(np(ue),ot=>{const Vt=rr(ot,"rowspan",1),un=rr(ot,"colspan",1);return Ka(ot,Vt,un)});return bl(ue,Te,z(ue))}}),yb=D=>fl(D).map(z=>{const ue=qo(z);return Hm(ue)?ue:"tbody"}).getOr("tbody"),dn=D=>{const z=op(D),Te=[...Vv(D),...z];return zg(Te,yb)},Xd="data-snooker-locked-cols",Jd=D=>Tn(D,Xd).bind(z=>Ce.from(z.match(/\d+/g))).map(z=>Fe(z,oe)),Hg=(D,z)=>D+","+z,fa=(D,z,ue)=>Ce.from(D.access[Hg(z,ue)]),Qd=(D,z,ue)=>{const Te=Xf(D,ot=>ue(z,ot.element));return Te.length>0?Ce.some(Te[0]):Ce.none()},Xf=(D,z)=>{const ue=xe(D.all,Te=>Te.cells);return yn(ue,z)},zv=D=>{const z={};let ue=0;return ee(D.cells,Te=>{const ot=Te.colspan;Bn(ot,Vt=>{const un=ue+Vt;z[un]=os(Te.element,ot,un)}),ue+=ot}),z},xb=D=>{const z={},ue=[],ot=wt(D).map(ci=>ci.element).bind(Zl).bind(Jd).getOr({});let Vt=0,un=0,$n=0;const{pass:Vn,fail:Ko}=nn(D,ci=>ci.section==="colgroup");ee(Ko,ci=>{const Qa=[];ee(ci.cells,qr=>{let qu=0;for(;z[Hg($n,qu)]!==void 0;)qu++;const um=Rn(ot,qu.toString()),bu=da(qr.element,qr.rowspan,qr.colspan,$n,qu,um);for(let Qg=0;Qg<qr.colspan;Qg++)for(let xd=0;xd<qr.rowspan;xd++){const mp=$n+xd,Qm=qu+Qg,dm=Hg(mp,Qm);z[dm]=bu,un=Math.max(un,Qm+1)}Qa.push(bu)}),Vt++,ue.push(bl(ci.element,Qa,ci.section)),$n++});const{columns:Fo,colgroups:es}=pn(Vn).map(ci=>{const Qa=zv(ci);return{colgroups:[iu(ci.element,it(Qa))],columns:Qa}}).getOrThunk(()=>({colgroups:[],columns:{}}));return{grid:Wi(Vt,un),access:z,all:ue,columns:Fo,colgroups:es}},au={fromTable:D=>{const z=dn(D);return xb(z)},generate:xb,getAt:fa,findItem:Qd,filterItems:Xf,justCells:D=>xe(D.all,z=>z.cells),justColumns:D=>it(D.columns),hasColumns:D=>Ue(D.columns).length>0,getColumnAt:(D,z)=>Ce.from(D.columns[z])};var hd=tinymce.util.Tools.resolve("tinymce.util.Tools");const lu=(D,z,ue)=>{const Te=D.select("td,th",z);let ot;for(let Vt=0;Vt<Te.length;Vt++){const un=D.getStyle(Te[Vt],ue);if(P(ot)&&(ot=un),ot!==un)return""}return ot},Ki=(D,z,ue)=>{hd.each("left center right".split(" "),Te=>{Te!==ue&&D.formatter.remove("align"+Te,{},z)}),ue&&D.formatter.apply("align"+ue,{},z)},Nl=(D,z,ue)=>{hd.each("top middle bottom".split(" "),Te=>{Te!==ue&&D.formatter.remove("valign"+Te,{},z)}),ue&&D.formatter.apply("valign"+ue,{},z)},ef=(D,z,ue)=>{D.dispatch("TableModified",{...ue,table:z})},hs=(D,z)=>Yf(D).getOr(z),Nc=(D,z,ue)=>hs(zm(D,z),ue),Um=(D,z,ue,Te)=>{const ot=Nc(D,`padding-${ue}`,0),Vt=Nc(D,`padding-${Te}`,0),un=Nc(D,`border-${ue}-width`,0),$n=Nc(D,`border-${Te}-width`,0);return z-ot-Vt-un-$n},Wm=(D,z)=>{const ue=D.dom,Te=ue.getBoundingClientRect().width||ue.offsetWidth;return Um(D,Te,"left","right")},Qr=D=>Wm(D);var Cr=tinymce.util.Tools.resolve("tinymce.Env");const Ji="tableprops tabledelete | tableinsertrowbefore tableinsertrowafter tabledeleterow | tableinsertcolbefore tableinsertcolafter tabledeletecol",fr=Bn(5,D=>{const z=`${D+1}px`;return{title:z,value:z}}),tf=Qt(["Solid","Dotted","Dashed","Double","Groove","Ridge","Inset","Outset","None","Hidden"],D=>({title:D,value:D.toLowerCase()})),nf="100%",Ei=D=>{var z;const ue=D.dom,Te=(z=ue.getParent(D.selection.getStart(),ue.isBlock))!==null&&z!==void 0?z:D.getBody();return Qr(cn.fromDom(Te))+"px"},ja=(D,z)=>Wg(D)||!_s(D)?z:Fu(D)?{...z,width:Ei(D)}:{...z,width:nf},Ia=(D,z)=>Wg(D)||_s(D)?z:Fu(D)?{...z,width:Ei(D)}:{...z,width:nf},hi=D=>z=>z.options.get(D),pd=D=>{const z=D.options.register;z("table_border_widths",{processor:"object[]",default:fr}),z("table_border_styles",{processor:"object[]",default:tf}),z("table_cell_advtab",{processor:"boolean",default:!0}),z("table_row_advtab",{processor:"boolean",default:!0}),z("table_advtab",{processor:"boolean",default:!0}),z("table_appearance_options",{processor:"boolean",default:!0}),z("table_grid",{processor:"boolean",default:!Cr.deviceType.isTouch()}),z("table_cell_class_list",{processor:"object[]",default:[]}),z("table_row_class_list",{processor:"object[]",default:[]}),z("table_class_list",{processor:"object[]",default:[]}),z("table_toolbar",{processor:"string",default:Ji}),z("table_background_color_map",{processor:"object[]",default:[]}),z("table_border_color_map",{processor:"object[]",default:[]})},Yo=hi("table_sizing_mode"),ai=hi("table_border_widths"),Za=hi("table_border_styles"),cu=hi("table_cell_advtab"),Ni=hi("table_row_advtab"),Wn=hi("table_advtab"),Mc=hi("table_appearance_options"),Lc=hi("table_grid"),_s=hi("table_style_by_css"),Jf=hi("table_cell_class_list"),sp=hi("table_row_class_list"),uu=hi("table_class_list"),ss=hi("table_toolbar"),Da=hi("table_background_color_map"),Km=hi("table_border_color_map"),Fu=D=>Yo(D)==="fixed",Wg=D=>Yo(D)==="responsive",Bc=D=>{const z=D.options,ue=z.get("table_default_styles");return z.isSet("table_default_styles")?ue:ja(D,ue)},Ga=D=>{const z=D.options,ue=z.get("table_default_attributes");return z.isSet("table_default_attributes")?ue:Ia(D,ue)},du=(D,z)=>z.column>=D.startCol&&z.column+z.colspan-1<=D.finishCol&&z.row>=D.startRow&&z.row+z.rowspan-1<=D.finishRow,of=(D,z)=>{let ue=!0;const Te=he(du,z);for(let ot=z.startRow;ot<=z.finishRow;ot++)for(let Vt=z.startCol;Vt<=z.finishCol;Vt++)ue=ue&&au.getAt(D,ot,Vt).exists(Te);return ue?Ce.some(z):Ce.none()},Ye=(D,z)=>Vg(Math.min(D.row,z.row),Math.min(D.column,z.column),Math.max(D.row+D.rowspan-1,z.row+z.rowspan-1),Math.max(D.column+D.colspan-1,z.column+z.colspan-1)),Qf=(D,z,ue)=>{const Te=au.findItem(D,z,tn),ot=au.findItem(D,ue,tn);return Te.bind(Vt=>ot.map(un=>Ye(Vt,un)))},qs=(D,z,ue)=>Qf(D,z,ue).bind(Te=>of(D,Te)),rp=(D,z,ue)=>{const Te=jm(D);return qs(Te,z,ue)},jm=au.fromTable,Cc=(D,z)=>{fl(D).each(Te=>{Te.dom.insertBefore(z.dom,D.dom)})},us=(D,z)=>{Sn(D).fold(()=>{fl(D).each(ot=>{ac(ot,z)})},Te=>{Cc(Te,z)})},ma=(D,z)=>{Tr(D).fold(()=>{ac(D,z)},Te=>{D.dom.insertBefore(z.dom,Te.dom)})},ac=(D,z)=>{D.dom.appendChild(z.dom)},Sc=(D,z)=>{Cc(D,z),ac(z,D)},fu=(D,z)=>{ee(z,(ue,Te)=>{const ot=Te===0?D:z[Te-1];us(ot,ue)})},$u=(D,z)=>{ee(z,ue=>{ac(D,ue)})},Qi=D=>{const z=D.dom;z.parentNode!==null&&z.parentNode.removeChild(z)},sf=D=>{const z=rc(D);z.length>0&&fu(D,z),Qi(D)},Kg=((D,z)=>{const ue=Vt=>{if(!D(Vt))throw new Error("Can only get "+z+" value of a "+z+" node");return Te(Vt).getOr("")},Te=Vt=>D(Vt)?Ce.from(Vt.dom.nodeValue):Ce.none();return{get:ue,getOption:Te,set:(Vt,un)=>{if(!D(Vt))throw new Error("Can only set raw "+z+" value of a "+z+" node");Vt.dom.nodeValue=un}}})(Ic,"text"),Mi=D=>Kg.get(D),oo=(D,z)=>Kg.set(D,z);var Vu=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","li","table","thead","tbody","tfoot","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],em=()=>{const D=Ko=>cn.fromDom(Ko.dom.cloneNode(!1)),z=Ko=>So(Ko).dom,ue=Ko=>Rc(Ko)?qo(Ko)==="body"?!0:Yn(Vu,qo(Ko)):!1,Te=Ko=>Rc(Ko)?Yn(["br","img","hr","input"],qo(Ko)):!1,ot=Ko=>Rc(Ko)&&Cn(Ko,"contenteditable")==="false",Vt=(Ko,Fo)=>Ko.dom.compareDocumentPosition(Fo.dom),un=(Ko,Fo)=>{const es=Po(Ko);bn(Fo,es)},$n=Ko=>{const Fo=qo(Ko);return Yn(["script","noscript","iframe","noframes","noembed","title","style","textarea","xmp"],Fo)},Vn=Ko=>Rc(Ko)?Tn(Ko,"lang"):Ce.none();return{up:re({selector:Al,closest:cs,predicate:gl,all:Ui}),down:re({selector:Ct,predicate:Ze}),styles:re({get:zm,getRaw:pl,set:Vm,remove:Dl}),attrs:re({get:Cn,set:rn,remove:_n,copyTo:un}),insert:re({before:Cc,after:us,afterAll:fu,append:ac,appendAll:$u,prepend:ma,wrap:Sc}),remove:re({unwrap:sf,remove:Qi}),create:re({nu:cn.fromTag,clone:D,text:cn.fromText}),query:re({comparePosition:Vt,prevSibling:Mu,nextSibling:Sn}),property:re({children:rc,name:qo,parent:fl,document:z,isText:Ic,isComment:ii,isElement:Rc,isSpecial:$n,getLanguage:Vn,getText:Mi,setText:oo,isBoundary:ue,isEmptyTag:Te,isNonEditable:ot}),eq:tn,is:ki}};const ga=(D,z,ue,Te)=>{const ot=ue[0],Vt=ue.slice(1);return Te(D,z,ot,Vt)},zu=(D,z,ue)=>ue.length>0?ga(D,z,ue,Gl):Ce.none(),Gl=(D,z,ue,Te)=>{const ot=z(D,ue);return qe(Te,(Vt,un)=>{const $n=z(D,un);return Hu(D,Vt,$n)},ot)},Hu=(D,z,ue)=>z.bind(Te=>ue.filter(he(D.eq,Te))),bd=zu,Li=em(),_c=(D,z)=>bd(Li,(ue,Te)=>D(Te),z),mu=D=>Al(D,"table"),tm=(D,z)=>{const ue=Ct(D,z);return ue.length>0?Ce.some(ue):Ce.none()},Cb=(D,z,ue)=>Lu(D,z).bind(Te=>Lu(D,ue).bind(ot=>_c(mu,[Te,ot]).map(Vt=>({first:Te,last:ot,table:Vt})))),Uu=(D,z)=>tm(D,z),rf=(D,z,ue)=>Cb(D,z,ue).bind(Te=>{const ot=Vn=>tn(D,Vn),Vt="thead,tfoot,tbody,table",un=Al(Te.first,Vt,ot),$n=Al(Te.last,Vt,ot);return un.bind(Vn=>$n.bind(Ko=>tn(Vn,Ko)?rp(Te.table,Te.first,Te.last):Ce.none()))}),Gm=D=>Qt(D,cn.fromDom),Ir="data-mce-selected",Pa="data-mce-first-selected",Na="td["+Pa+"],th["+Pa+"]",qa="data-mce-last-selected",Ti="td["+qa+"],th["+qa+"]",nm={selected:Ir,firstSelectedSelector:Na,lastSelectedSelector:Ti},pi=D=>Zl(D).bind(z=>Uu(z,nm.firstSelectedSelector)).fold(re(D),z=>z[0]),ji=D=>(z,ue)=>{const Te=qo(z),ot=Te==="col"||Te==="colgroup"?pi(z):z;return cs(ot,D,ue)},Fc=ji("th,td,caption"),Ht=ji("th,td"),Bi=D=>Gm(D.model.table.getSelectedCells()),jg=(D,z)=>{const ue=Ht(D),Te=ue.bind(ot=>Zl(ot)).map(ot=>op(ot));return ns(ue,Te,(ot,Vt)=>yn(Vt,un=>Xt(Gm(un.dom.cells),$n=>Cn($n,z)==="1"||tn($n,ot)))).getOr([])},Sr=[{text:"None",value:""},{text:"Top",value:"top"},{text:"Middle",value:"middle"},{text:"Bottom",value:"bottom"}],Wu=D=>({value:Xa(D)}),Ya=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,$c=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,om=D=>Ya.test(D)||$c.test(D),Xa=D=>Ra(D,"#").toUpperCase(),ds=D=>om(D)?Ce.some({value:Xa(D)}):Ce.none(),$r=D=>{const z=D.toString(16);return(z.length===1?"0"+z:z).toUpperCase()},Ku=D=>{const z=$r(D.red)+$r(D.green)+$r(D.blue);return Wu(z)},Zr=/^\s*rgb\s*\(\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*(\d+)\s*\)\s*$/i,qm=/^\s*rgba\s*\(\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*((?:\d?\.\d+|\d+)%?)\s*\)\s*$/i,Vc=(D,z,ue,Te)=>({red:D,green:z,blue:ue,alpha:Te}),ip=(D,z,ue,Te)=>{const ot=parseInt(D,10),Vt=parseInt(z,10),un=parseInt(ue,10),$n=parseFloat(Te);return Vc(ot,Vt,un,$n)},Dr=D=>{const z=Zr.exec(D);if(z!==null)return Ce.some(ip(z[1],z[2],z[3],"1"));const ue=qm.exec(D);return ue!==null?Ce.some(ip(ue[1],ue[2],ue[3],ue[4])):Ce.none()},vt=D=>ds(D).orThunk(()=>Dr(D).map(Ku)).getOrThunk(()=>{const z=document.createElement("canvas");z.height=1,z.width=1;const ue=z.getContext("2d");ue.clearRect(0,0,z.width,z.height),ue.fillStyle="#FFFFFF",ue.fillStyle=D,ue.fillRect(0,0,1,1);const Te=ue.getImageData(0,0,1,1).data,ot=Te[0],Vt=Te[1],un=Te[2],$n=Te[3];return Ku(Vc(ot,Vt,un,$n))}),Ja=D=>Dr(D).map(Ku).map(z=>"#"+z.value).getOr(D),Vr=D=>{let z=D;return{get:()=>z,set:ot=>{z=ot}}},lc=D=>{const z=Vr(Ce.none()),ue=()=>z.get().each(D);return{clear:()=>{ue(),z.set(Ce.none())},isSet:()=>z.get().isSome(),get:()=>z.get(),set:$n=>{ue(),z.set(Ce.some($n))}}},zc=()=>lc(D=>D.unbind()),li=(D,z,ue)=>Te=>{const ot=zc(),Vt=qd(ue),un=()=>{const $n=Bi(D),Vn=Ko=>D.formatter.match(z,{value:ue},Ko.dom,Vt);Vt?(Te.setActive(!Xt($n,Vn)),ot.set(D.formatter.formatChanged(z,Ko=>Te.setActive(!Ko),!0))):(Te.setActive(Ae($n,Vn)),ot.set(D.formatter.formatChanged(z,Te.setActive,!1,{value:ue})))};return D.initialized?un():D.on("init",un),ot.clear},ir=D=>Rn(D,"menu"),Hs=D=>Qt(D,z=>{const ue=z.text||z.title||"";return ir(z)?{text:ue,items:Hs(z.menu)}:{text:ue,value:z.value}}),ha=D=>D.length?Ce.some(Hs([{text:"Select...",value:"mce-no-match"},...D])):Ce.none(),pa=(D,z,ue,Te)=>Qt(z,ot=>{const Vt=ot.text||ot.title;return ir(ot)?{type:"nestedmenuitem",text:Vt,getSubmenuItems:()=>pa(D,ot.menu,ue,Te)}:{text:Vt,type:"togglemenuitem",onAction:()=>Te(ot.value),onSetup:li(D,ue,ot.value)}}),Ml=(D,z)=>ue=>{D.execCommand("mceTableApplyCellStyle",!1,{[z]:ue})},kc=D=>xe(D,z=>ir(z)?[{...z,menu:kc(z.menu)}]:Or(z.value)?[z]:[]),gu=(D,z,ue,Te)=>ot=>ot(pa(D,z,ue,Te)),vd=(D,z,ue)=>{const Te=Qt(z,ot=>({text:ot.title,value:"#"+vt(ot.value).value,type:"choiceitem"}));return[{type:"fancymenuitem",fancytype:"colorswatch",initData:{colors:Te.length>0?Te:void 0,allowCustomColors:!1},onAction:ot=>{const Vt=ot.value==="remove"?"":ot.value;D.execCommand("mceTableApplyCellStyle",!1,{[ue]:Vt})}}]},sm=D=>()=>{const ue=D.queryCommandValue("mceTableRowType")==="header"?"body":"header";D.execCommand("mceTableRowType",!1,{type:ue})},Zg=D=>()=>{const ue=D.queryCommandValue("mceTableColType")==="th"?"td":"th";D.execCommand("mceTableColType",!1,{type:ue})},ap=D=>ha(Jf(D)).map(z=>({name:"class",type:"listbox",label:"Class",items:z})),ju=[{name:"width",type:"input",label:"Width"},{name:"celltype",type:"listbox",label:"Cell type",items:[{text:"Cell",value:"td"},{text:"Header cell",value:"th"}]},{name:"scope",type:"listbox",label:"Scope",items:[{text:"None",value:""},{text:"Row",value:"row"},{text:"Column",value:"col"},{text:"Row group",value:"rowgroup"},{text:"Column group",value:"colgroup"}]},{name:"halign",type:"listbox",label:"Horizontal align",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},{name:"valign",type:"listbox",label:"Vertical align",items:Sr}],L=D=>ju.concat(ap(D).toArray()),Y=(D,z)=>{const Te=[{name:"borderstyle",type:"listbox",label:"Border style",items:[{text:"Select...",value:""}].concat(Hs(Za(D)))},{name:"bordercolor",type:"colorinput",label:"Border color"},{name:"backgroundcolor",type:"colorinput",label:"Background color"}];return{title:"Advanced",name:"advanced",items:z==="cell"?[{name:"borderwidth",type:"input",label:"Border width"}].concat(Te):Te}},We={normal:(D,z)=>{const ue=D.dom;return{setAttrib:(un,$n)=>{ue.setAttrib(z,un,$n)},setStyle:(un,$n)=>{ue.setStyle(z,un,$n)},setFormat:(un,$n)=>{$n===""?D.formatter.remove(un,{value:null},z,!0):D.formatter.apply(un,{value:$n},z)}}}},tt=Pc("th"),Ut=(D,z)=>D&&z?"sectionCells":D?"section":"cells",lo=D=>{const z=D.section==="thead",ue=xn(Mo(D.cells),"th");return D.section==="tfoot"?{type:"footer"}:z||ue?{type:"header",subType:Ut(z,ue)}:{type:"body"}},Mo=D=>{const z=yn(D,ue=>tt(ue.element));return z.length===0?Ce.some("td"):z.length===D.length?Ce.some("th"):Ce.none()},ko=D=>{const z=Qt(D,ot=>lo(ot).type),ue=Yn(z,"header"),Te=Yn(z,"footer");if(!ue&&!Te)return Ce.some("body");{const ot=Yn(z,"body");return ue&&!ot&&!Te?Ce.some("header"):!ue&&!ot&&Te?Ce.some("footer"):Ce.none()}},jn=D=>{let z=!1,ue;return(...Te)=>(z||(z=!0,ue=D.apply(null,Te)),ue)},Is=(D,z)=>en(D.all,ue=>Pe(ue.cells,Te=>tn(z,Te.element))),ei=(D,z,ue)=>{const Te=Qt(z.selection,Vt=>Bu(Vt).bind(un=>Is(D,un)).filter(ue)),ot=Ws(Te);return jr(ot.length>0,ot)},Pr=(D,z)=>z.mergable,Hc=(D,z)=>z.unmergable,af=(D,z)=>ei(D,z,oe),rm=(D,z)=>Is(D,z).exists(ue=>!ue.isLocked),bi=(D,z)=>Ae(z,ue=>rm(D,ue)),Y1=(D,z)=>Pr(D,z).filter(ue=>bi(D,ue.cells)),lp=(D,z)=>Hc(D,z).filter(ue=>bi(D,ue));({...{generate:D=>{if(!w(D))throw new Error("cases must be an array");if(D.length===0)throw new Error("there must be at least one case");const z=[],ue={};return ee(D,(Te,ot)=>{const Vt=Ue(Te);if(Vt.length!==1)throw new Error("one and only one name per case");const un=Vt[0],$n=Te[un];if(ue[un]!==void 0)throw new Error("duplicate key detected:"+un);if(un==="cata")throw new Error("cannot have a case named cata (sorry)");if(!w($n))throw new Error("case arguments must be an array");z.push(un),ue[un]=(...Vn)=>{const Ko=Vn.length;if(Ko!==$n.length)throw new Error("Wrong number of arguments to case "+un+". Expected "+$n.length+" ("+$n+"), got "+Ko);return{fold:(...es)=>{if(es.length!==D.length)throw new Error("Wrong number of arguments to fold. Expected "+D.length+", got "+es.length);return es[ot].apply(null,Vn)},match:es=>{const Qo=Ue(es);if(z.length!==Qo.length)throw new Error("Wrong number of arguments to match. Expected: "+z.join(",")+`
Actual: `+Qo.join(","));if(!Ae(z,Qa=>Yn(Qo,Qa)))throw new Error("Not all branches were specified when using match. Specified: "+Qo.join(", ")+`
Required: `+z.join(", "));return es[un].apply(null,Vn)},log:es=>{console.log(es,{constructors:z,constructor:un,params:Vn})}}}}),ue}}.generate([{none:[]},{only:["index"]},{left:["index","next"]},{middle:["prev","index","next"]},{right:["prev","index"]}])});const Zu=(D,z)=>{const ue=au.fromTable(D);return af(ue,z).bind(ot=>{const Vt=ot[ot.length-1],un=ot[0].row,$n=Vt.row+Vt.rowspan,Vn=ue.all.slice(un,$n);return ko(Vn)}).getOr("")},lf=D=>_o(D,"rgb")?Ja(D):D,cp=D=>{const z=cn.fromDom(D);return{borderwidth:pl(z,"border-width").getOr(""),borderstyle:pl(z,"border-style").getOr(""),bordercolor:pl(z,"border-color").map(lf).getOr(""),backgroundcolor:pl(z,"background-color").map(lf).getOr("")}},cc=D=>{const z=D[0],ue=D.slice(1);return ee(ue,Te=>{ee(Ue(z),ot=>{dt(Te,(Vt,un)=>{const $n=z[ot];$n!==""&&ot===un&&$n!==Vt&&(z[ot]=ot==="class"?"mce-no-match":"")})})}),z},yl=(D,z,ue,Te)=>Pe(D,ot=>!P(ue.formatter.matchNode(Te,z+ot))).getOr(""),Ym=he(yl,["left","center","right"],"align"),cf=he(yl,["top","middle","bottom"],"valign"),Qx=(D,z)=>{const ue=Bc(D),Te=Ga(D),ot=()=>({borderstyle:Yt(ue,"border-style").getOr(""),bordercolor:lf(Yt(ue,"border-color").getOr("")),backgroundcolor:lf(Yt(ue,"background-color").getOr(""))}),Vt={height:"",width:"100%",cellspacing:"",cellpadding:"",caption:!1,class:"",align:"",border:""},un=()=>{const Fo=ue["border-width"];return _s(D)&&Fo?{border:Fo}:Yt(Te,"border").fold(()=>({}),es=>({border:es}))},$n=z?ot():{},Vn=()=>{const Fo=Yt(ue,"border-spacing").or(Yt(Te,"cellspacing")).fold(()=>({}),Qo=>({cellspacing:Qo})),es=Yt(ue,"border-padding").or(Yt(Te,"cellpadding")).fold(()=>({}),Qo=>({cellpadding:Qo}));return{...Fo,...es}};return{...Vt,...ue,...Te,...$n,...un(),...Vn()}},up=D=>Zl(cn.fromDom(D)).map(z=>{const ue={selection:Gm(D.cells)};return Zu(z,ue)}).getOr(""),yd=(D,z,ue)=>{const Te=($n,Vn)=>{const Ko=pl(cn.fromDom(Vn),"border-width");return _s(D)&&Ko.isSome()?Ko.getOr(""):$n.getAttrib(Vn,"border")||lu(D.dom,Vn,"border-width")||lu(D.dom,Vn,"border")||""},ot=D.dom,Vt=_s(D)?ot.getStyle(z,"border-spacing")||ot.getAttrib(z,"cellspacing"):ot.getAttrib(z,"cellspacing")||ot.getStyle(z,"border-spacing"),un=_s(D)?lu(ot,z,"padding")||ot.getAttrib(z,"cellpadding"):ot.getAttrib(z,"cellpadding")||lu(ot,z,"padding");return{width:ot.getStyle(z,"width")||ot.getAttrib(z,"width"),height:ot.getStyle(z,"height")||ot.getAttrib(z,"height"),cellspacing:Vt??"",cellpadding:un??"",border:Te(ot,z),caption:!!ot.select("caption",z)[0],class:ot.getAttrib(z,"class",""),align:Ym(D,z),...ue?cp(z):{}}},uf=(D,z,ue)=>{const Te=D.dom;return{height:Te.getStyle(z,"height")||Te.getAttrib(z,"height"),class:Te.getAttrib(z,"class",""),type:up(z),align:Ym(D,z),...ue?cp(z):{}}},Un=(D,z,ue,Te)=>{const ot=D.dom,Vt=Te.getOr(z);return{width:(($n,Vn)=>ot.getStyle($n,Vn)||ot.getAttrib($n,Vn))(Vt,"width"),scope:ot.getAttrib(z,"scope"),celltype:hl(z),class:ot.getAttrib(z,"class",""),halign:Ym(D,z),valign:cf(D,z),...ue?cp(z):{}}},Uc=(D,z)=>{const ue=au.fromTable(D),Te=au.justCells(ue),ot=yn(Te,Vt=>Xt(z,un=>tn(Vt.element,un)));return Qt(ot,Vt=>({element:Vt.element.dom,column:au.getColumnAt(ue,Vt.column).map(un=>un.element.dom)}))},dp=(D,z,ue,Te)=>{Te("scope")&&D.setAttrib("scope",ue.scope),Te("class")&&ue.class!=="mce-no-match"&&D.setAttrib("class",ue.class),Te("width")&&z.setStyle("width",Oa(ue.width))},df=(D,z,ue)=>{ue("backgroundcolor")&&D.setFormat("tablecellbackgroundcolor",z.backgroundcolor),ue("bordercolor")&&D.setFormat("tablecellbordercolor",z.bordercolor),ue("borderstyle")&&D.setFormat("tablecellborderstyle",z.borderstyle),ue("borderwidth")&&D.setFormat("tablecellborderwidth",Oa(z.borderwidth))},ba=(D,z,ue,Te)=>{const ot=z.length===1;ee(z,Vt=>{const un=Vt.element,$n=ot?oe:Te,Vn=We.normal(D,un),Ko=Vt.column.map(Fo=>We.normal(D,Fo)).getOr(Vn);dp(Vn,Ko,ue,$n),cu(D)&&df(Vn,ue,$n),Te("halign")&&Ki(D,un,ue.halign),Te("valign")&&Nl(D,un,ue.valign)})},Wc=(D,z)=>{D.execCommand("mceTableCellType",!1,{type:z.celltype,no_events:!0})},Xm=(D,z,ue,Te)=>{const ot=I(Te,(Vt,un)=>ue[un]!==Vt);Ft(ot)>0&&z.length>=1&&Zl(z[0]).each(Vt=>{const un=Uc(Vt,z),$n=Ft(I(ot,(Ko,Fo)=>Fo!=="scope"&&Fo!=="celltype"))>0,Vn=mt(ot,"celltype");($n||mt(ot,"scope"))&&ba(D,un,Te,he(mt,ot)),Vn&&Wc(D,Te),ef(D,Vt.dom,{structure:Vn,style:$n})})},ff=(D,z,ue,Te)=>{const ot=Te.getData();Te.close(),D.undoManager.transact(()=>{Xm(D,z,ue,ot),D.focus()})},Sb=(D,z)=>{const ue=Zl(z[0]).map(Te=>Qt(Uc(Te,z),ot=>Un(D,ot.element,cu(D),ot.column)));return cc(ue.getOrDie())},hu=D=>{const z=Bi(D);if(z.length===0)return;const ue=Sb(D,z),Te={type:"tabpanel",tabs:[{title:"General",name:"general",items:L(D)},Y(D,"cell")]},ot={type:"panel",items:[{type:"grid",columns:2,items:L(D)}]};D.windowManager.open({title:"Cell Properties",size:"normal",body:cu(D)?Te:ot,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:ue,onSubmit:he(ff,D,z,ue)})},Gg=D=>ha(sp(D)).map(z=>({name:"class",type:"listbox",label:"Class",items:z})),qg=[{type:"listbox",name:"type",label:"Row type",items:[{text:"Header",value:"header"},{text:"Body",value:"body"},{text:"Footer",value:"footer"}]},{type:"listbox",name:"align",label:"Alignment",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},{label:"Height",name:"height",type:"input"}],on=D=>qg.concat(Gg(D).toArray()),Wv=(D,z,ue)=>{ue("class")&&z.class!=="mce-no-match"&&D.setAttrib("class",z.class),ue("height")&&D.setStyle("height",Oa(z.height))},mf=(D,z,ue)=>{ue("backgroundcolor")&&D.setStyle("background-color",z.backgroundcolor),ue("bordercolor")&&D.setStyle("border-color",z.bordercolor),ue("borderstyle")&&D.setStyle("border-style",z.borderstyle)},Wo=(D,z,ue,Te)=>{const Vt=z.length===1?oe:Te;ee(z,un=>{const $n=_t(cn.fromDom(un),"td,th"),Vn=We.normal(D,un);Wv(Vn,ue,Vt),Ni(D)&&mf(Vn,ue,Vt),Te("height")&&ee($n,Ko=>{D.dom.setStyle(Ko.dom,"height",null)}),Te("align")&&Ki(D,un,ue.align)})},Xn=(D,z)=>{D.execCommand("mceTableRowType",!1,{type:z.type,no_events:!0})},gf=(D,z,ue,Te)=>{const ot=I(Te,(Vt,un)=>ue[un]!==Vt);if(Ft(ot)>0){const Vt=mt(ot,"type"),un=Vt?Ft(ot)>1:!0;un&&Wo(D,z,Te,he(mt,ot)),Vt&&Xn(D,Te),Zl(cn.fromDom(z[0])).each($n=>ef(D,$n.dom,{structure:Vt,style:un}))}},Ar=(D,z,ue,Te)=>{const ot=Te.getData();Te.close(),D.undoManager.transact(()=>{gf(D,z,ue,ot),D.focus()})},Kc=D=>{const z=jg(Vs(D),nm.selected);if(z.length===0)return;const ue=Qt(z,un=>uf(D,un.dom,Ni(D))),Te=cc(ue),ot={type:"tabpanel",tabs:[{title:"General",name:"general",items:on(D)},Y(D,"row")]},Vt={type:"panel",items:[{type:"grid",columns:2,items:on(D)}]};D.windowManager.open({title:"Row Properties",size:"normal",body:Ni(D)?ot:Vt,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:Te,onSubmit:he(Ar,D,Qt(z,un=>un.dom),Te)})},jc=(D,z,ue)=>{const Te=ue?[{type:"input",name:"cols",label:"Cols",inputMode:"numeric"},{type:"input",name:"rows",label:"Rows",inputMode:"numeric"}]:[],ot=[{type:"input",name:"width",label:"Width"},{type:"input",name:"height",label:"Height"}],Vt=Mc(D)?[{type:"input",name:"cellspacing",label:"Cell spacing",inputMode:"numeric"},{type:"input",name:"cellpadding",label:"Cell padding",inputMode:"numeric"},{type:"input",name:"border",label:"Border width"},{type:"label",label:"Caption",items:[{type:"checkbox",name:"caption",label:"Show caption"}]}]:[],un=[{type:"listbox",name:"align",label:"Alignment",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]}],$n=z.length>0?[{name:"class",type:"listbox",label:"Class",items:z}]:[];return Te.concat(ot).concat(Vt).concat(un).concat($n)},To=(D,z,ue,Te)=>{if(z.tagName==="TD"||z.tagName==="TH")x(ue)&&M(Te)?D.setStyle(z,ue,Te):D.setStyles(z,ue);else if(z.children)for(let ot=0;ot<z.children.length;ot++)To(D,z.children[ot],ue,Te)},Yg=(D,z,ue,Te)=>{const ot=D.dom,Vt={},un={},$n=_s(D),Vn=Wn(D),Ko=parseFloat(ue.border)===0;if(!P(ue.class)&&ue.class!=="mce-no-match"&&(Vt.class=ue.class),un.height=Oa(ue.height),$n?un.width=Oa(ue.width):ot.getAttrib(z,"width")&&(Vt.width=Aa(ue.width)),$n?(Ko?(Vt.border=0,un["border-width"]=""):(un["border-width"]=Oa(ue.border),Vt.border=1),un["border-spacing"]=Oa(ue.cellspacing)):(Vt.border=Ko?0:ue.border,Vt.cellpadding=ue.cellpadding,Vt.cellspacing=ue.cellspacing),$n&&z.children){const Fo={};if(Ko?Fo["border-width"]="":Te.border&&(Fo["border-width"]=Oa(ue.border)),Te.cellpadding&&(Fo.padding=Oa(ue.cellpadding)),Vn&&Te.bordercolor&&(Fo["border-color"]=ue.bordercolor),!Ot(Fo))for(let es=0;es<z.children.length;es++)To(ot,z.children[es],Fo)}if(Vn){const Fo=ue;un["background-color"]=Fo.backgroundcolor,un["border-color"]=Fo.bordercolor,un["border-style"]=Fo.borderstyle}ot.setStyles(z,{...Bc(D),...un}),ot.setAttribs(z,{...Ga(D),...Vt})},X1=(D,z,ue,Te)=>{const ot=D.dom,Vt=Te.getData(),un=I(Vt,($n,Vn)=>ue[Vn]!==$n);Te.close(),D.undoManager.transact(()=>{if(!z){const $n=Jr(Vt.cols).getOr(1),Vn=Jr(Vt.rows).getOr(1);D.execCommand("mceInsertTable",!1,{rows:Vn,columns:$n}),z=Ht(Vs(D),Pi(D)).bind(Ko=>Zl(Ko,Pi(D))).map(Ko=>Ko.dom).getOrDie()}if(Ft(un)>0){const $n={border:mt(un,"border"),bordercolor:mt(un,"bordercolor"),cellpadding:mt(un,"cellpadding")};Yg(D,z,Vt,$n);const Vn=ot.select("caption",z)[0];(Vn&&!Vt.caption||!Vn&&Vt.caption)&&D.execCommand("mceTableToggleCaption"),Ki(D,z,Vt.align)}if(D.focus(),D.addVisual(),Ft(un)>0){const $n=mt(un,"caption"),Vn=$n?Ft(un)>1:!0;ef(D,z,{structure:$n,style:Vn})}})},Lt=(D,z)=>{const ue=D.dom;let Te,ot=Qx(D,Wn(D));z?(ot.cols="1",ot.rows="1",Wn(D)&&(ot.borderstyle="",ot.bordercolor="",ot.backgroundcolor="")):(Te=ue.getParent(D.selection.getStart(),"table",D.getBody()),Te?ot=yd(D,Te,Wn(D)):Wn(D)&&(ot.borderstyle="",ot.bordercolor="",ot.backgroundcolor=""));const Vt=ha(uu(D));Vt.isSome()&&ot.class&&(ot.class=ot.class.replace(/\s*mce\-item\-table\s*/g,""));const un={type:"grid",columns:2,items:jc(D,Vt.getOr([]),z)},$n=()=>({type:"panel",items:[un]}),Vn=()=>({type:"tabpanel",tabs:[{title:"General",name:"general",items:[un]},Y(D,"table")]}),Ko=Wn(D)?Vn():$n();D.windowManager.open({title:"Table Properties",size:"normal",body:Ko,onSubmit:he(X1,D,Te,ot),buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:ot})},Kv=D=>{const z=ue=>{Be(Vs(D))&&ue()};dt({mceTableProps:he(Lt,D,!1),mceTableRowProps:he(Kc,D),mceTableCellProps:he(hu,D),mceInsertTableDialog:he(Lt,D,!0)},(ue,Te)=>D.addCommand(Te,()=>z(ue)))},Xg=(D,z)=>Gd(D,z).isSome(),Jg=W,Jm=D=>{const z=(Te,ot)=>Tn(Te,ot).exists(Vt=>parseInt(Vt,10)>1),ue=Te=>z(Te,"rowspan")||z(Te,"colspan");return D.length>0&&Ae(D,ue)?Ce.some(D):Ce.none()},im=(D,z,ue)=>z.length<=1?Ce.none():rf(D,ue.firstSelectedSelector,ue.lastSelectedSelector).map(Te=>({bounds:Te,cells:z})),J1=D=>({element:D,mergable:Ce.none(),unmergable:Ce.none(),selection:[D]}),hf=(D,z,ue)=>({element:ue,mergable:im(z,D,nm),unmergable:Jm(D),selection:Jg(D)}),hr=D=>{const z=Vr(Ce.none()),ue=Vr([]);let Te=Ce.none();const ot=Pc("caption"),Vt=ps=>Te.forall(ti=>!ti[ps]),un=()=>Fc(Vs(D),Pi(D)),$n=()=>Fc(wr(D),Pi(D)),Vn=()=>un().bind(ps=>gs(ns(Zl(ps),$n().bind(Zl),(ti,el)=>tn(ti,el)?ot(ps)?Ce.some(J1(ps)):Ce.some(hf(Bi(D),ti,ps)):Ce.none()))),Ko=ps=>Zl(ps.element).map(el=>{const ql=au.fromTable(el),Zv=af(ql,ps).getOr([]),Gv=lt(Zv,(fm,eh)=>(eh.isLocked&&(fm.onAny=!0,eh.column===0?fm.onFirst=!0:eh.column+eh.colspan>=ql.grid.columns&&(fm.onLast=!0)),fm),{onAny:!1,onFirst:!1,onLast:!1});return{mergeable:Y1(ql,ps).isSome(),unmergeable:lp(ql,ps).isSome(),locked:Gv}}),Fo=()=>{z.set(jn(Vn)()),Te=z.get().bind(Ko),ee(ue.get(),j)},es=ps=>(ps(),ue.set(ue.get().concat([ps])),()=>{ue.set(yn(ue.get(),ti=>ti!==ps))}),Qo=(ps,ti)=>es(()=>z.get().fold(()=>{ps.setEnabled(!1)},el=>{ps.setEnabled(!ti(el)&&D.selection.isEditable())})),ci=(ps,ti,el)=>es(()=>z.get().fold(()=>{ps.setEnabled(!1),ps.setActive(!1)},ql=>{ps.setEnabled(!ti(ql)&&D.selection.isEditable()),ps.setActive(el(ql))})),Qa=ps=>Te.exists(ti=>ti.locked[ps]),qr=ps=>Qo(ps,ti=>!1),qu=ps=>Qo(ps,ti=>ot(ti.element)),um=ps=>ti=>Qo(ti,el=>ot(el.element)||Qa(ps)),bu=ps=>ti=>Qo(ti,el=>ot(el.element)||ps().isNone()),Qg=(ps,ti)=>el=>Qo(el,ql=>ot(ql.element)||ps().isNone()||Qa(ti)),xd=ps=>Qo(ps,ti=>Vt("mergeable")),mp=ps=>Qo(ps,ti=>Vt("unmergeable")),Qm=ps=>ci(ps,me,ti=>Zl(ti.element,Pi(D)).exists(ql=>Xg(ql,"caption"))),dm=(ps,ti)=>el=>ci(el,ql=>ot(ql.element),()=>D.queryCommandValue(ps)===ti),kb=dm("mceTableRowType","header"),jv=dm("mceTableColType","th");return D.on("NodeChange ExecCommand TableSelectorChange",Fo),{onSetupTable:qr,onSetupCellOrRow:qu,onSetupColumn:um,onSetupPasteable:bu,onSetupPasteableColumn:Qg,onSetupMergeable:xd,onSetupUnmergeable:mp,resetTargets:Fo,onSetupTableWithCaption:Qm,onSetupTableRowHeaders:kb,onSetupTableColumnHeaders:jv,targets:z.get}};var Gu=tinymce.util.Tools.resolve("tinymce.FakeClipboard");const fp="x-tinymce/dom-table-",pu=fp+"rows",am=fp+"columns",uc=D=>{var z;const ue=(z=Gu.read())!==null&&z!==void 0?z:[];return en(ue,Te=>Ce.from(Te.getType(D)))},Nr=()=>uc(pu),lm=()=>uc(am),Fi=D=>z=>{const ue=()=>{z.setEnabled(D.selection.isEditable())};return D.on("NodeChange",ue),ue(),()=>{D.off("NodeChange",ue)}},_b=(D,z)=>{D.ui.registry.addMenuButton("table",{tooltip:"Table",icon:"table",onSetup:Fi(D),fetch:$n=>$n("inserttable | cell row column | advtablesort | tableprops deletetable")});const ue=$n=>()=>D.execCommand($n),Te=($n,Vn)=>{D.queryCommandSupported(Vn.command)&&D.ui.registry.addButton($n,{...Vn,onAction:H(Vn.onAction)?Vn.onAction:ue(Vn.command)})},ot=($n,Vn)=>{D.queryCommandSupported(Vn.command)&&D.ui.registry.addToggleButton($n,{...Vn,onAction:H(Vn.onAction)?Vn.onAction:ue(Vn.command)})};Te("tableprops",{tooltip:"Table properties",command:"mceTableProps",icon:"table",onSetup:z.onSetupTable}),Te("tabledelete",{tooltip:"Delete table",command:"mceTableDelete",icon:"table-delete-table",onSetup:z.onSetupTable}),Te("tablecellprops",{tooltip:"Cell properties",command:"mceTableCellProps",icon:"table-cell-properties",onSetup:z.onSetupCellOrRow}),Te("tablemergecells",{tooltip:"Merge cells",command:"mceTableMergeCells",icon:"table-merge-cells",onSetup:z.onSetupMergeable}),Te("tablesplitcells",{tooltip:"Split cell",command:"mceTableSplitCells",icon:"table-split-cells",onSetup:z.onSetupUnmergeable}),Te("tableinsertrowbefore",{tooltip:"Insert row before",command:"mceTableInsertRowBefore",icon:"table-insert-row-above",onSetup:z.onSetupCellOrRow}),Te("tableinsertrowafter",{tooltip:"Insert row after",command:"mceTableInsertRowAfter",icon:"table-insert-row-after",onSetup:z.onSetupCellOrRow}),Te("tabledeleterow",{tooltip:"Delete row",command:"mceTableDeleteRow",icon:"table-delete-row",onSetup:z.onSetupCellOrRow}),Te("tablerowprops",{tooltip:"Row properties",command:"mceTableRowProps",icon:"table-row-properties",onSetup:z.onSetupCellOrRow}),Te("tableinsertcolbefore",{tooltip:"Insert column before",command:"mceTableInsertColBefore",icon:"table-insert-column-before",onSetup:z.onSetupColumn("onFirst")}),Te("tableinsertcolafter",{tooltip:"Insert column after",command:"mceTableInsertColAfter",icon:"table-insert-column-after",onSetup:z.onSetupColumn("onLast")}),Te("tabledeletecol",{tooltip:"Delete column",command:"mceTableDeleteCol",icon:"table-delete-column",onSetup:z.onSetupColumn("onAny")}),Te("tablecutrow",{tooltip:"Cut row",command:"mceTableCutRow",icon:"cut-row",onSetup:z.onSetupCellOrRow}),Te("tablecopyrow",{tooltip:"Copy row",command:"mceTableCopyRow",icon:"duplicate-row",onSetup:z.onSetupCellOrRow}),Te("tablepasterowbefore",{tooltip:"Paste row before",command:"mceTablePasteRowBefore",icon:"paste-row-before",onSetup:z.onSetupPasteable(Nr)}),Te("tablepasterowafter",{tooltip:"Paste row after",command:"mceTablePasteRowAfter",icon:"paste-row-after",onSetup:z.onSetupPasteable(Nr)}),Te("tablecutcol",{tooltip:"Cut column",command:"mceTableCutCol",icon:"cut-column",onSetup:z.onSetupColumn("onAny")}),Te("tablecopycol",{tooltip:"Copy column",command:"mceTableCopyCol",icon:"duplicate-column",onSetup:z.onSetupColumn("onAny")}),Te("tablepastecolbefore",{tooltip:"Paste column before",command:"mceTablePasteColBefore",icon:"paste-column-before",onSetup:z.onSetupPasteableColumn(lm,"onFirst")}),Te("tablepastecolafter",{tooltip:"Paste column after",command:"mceTablePasteColAfter",icon:"paste-column-after",onSetup:z.onSetupPasteableColumn(lm,"onLast")}),Te("tableinsertdialog",{tooltip:"Insert table",command:"mceInsertTableDialog",icon:"table",onSetup:Fi(D)});const Vt=kc(uu(D));Vt.length!==0&&D.queryCommandSupported("mceTableToggleClass")&&D.ui.registry.addMenuButton("tableclass",{icon:"table-classes",tooltip:"Table styles",fetch:gu(D,Vt,"tableclass",$n=>D.execCommand("mceTableToggleClass",!1,$n)),onSetup:z.onSetupTable});const un=kc(Jf(D));un.length!==0&&D.queryCommandSupported("mceTableCellToggleClass")&&D.ui.registry.addMenuButton("tablecellclass",{icon:"table-cell-classes",tooltip:"Cell styles",fetch:gu(D,un,"tablecellclass",$n=>D.execCommand("mceTableCellToggleClass",!1,$n)),onSetup:z.onSetupCellOrRow}),D.queryCommandSupported("mceTableApplyCellStyle")&&(D.ui.registry.addMenuButton("tablecellvalign",{icon:"vertical-align",tooltip:"Vertical align",fetch:gu(D,Sr,"tablecellverticalalign",Ml(D,"vertical-align")),onSetup:z.onSetupCellOrRow}),D.ui.registry.addMenuButton("tablecellborderwidth",{icon:"border-width",tooltip:"Border width",fetch:gu(D,ai(D),"tablecellborderwidth",Ml(D,"border-width")),onSetup:z.onSetupCellOrRow}),D.ui.registry.addMenuButton("tablecellborderstyle",{icon:"border-style",tooltip:"Border style",fetch:gu(D,Za(D),"tablecellborderstyle",Ml(D,"border-style")),onSetup:z.onSetupCellOrRow}),D.ui.registry.addMenuButton("tablecellbackgroundcolor",{icon:"cell-background-color",tooltip:"Background color",fetch:$n=>$n(vd(D,Da(D),"background-color")),onSetup:z.onSetupCellOrRow}),D.ui.registry.addMenuButton("tablecellbordercolor",{icon:"cell-border-color",tooltip:"Border color",fetch:$n=>$n(vd(D,Km(D),"border-color")),onSetup:z.onSetupCellOrRow})),ot("tablecaption",{tooltip:"Table caption",icon:"table-caption",command:"mceTableToggleCaption",onSetup:z.onSetupTableWithCaption}),ot("tablerowheader",{tooltip:"Row header",icon:"table-top-header",command:"mceTableRowType",onAction:sm(D),onSetup:z.onSetupTableRowHeaders}),ot("tablecolheader",{tooltip:"Column header",icon:"table-left-header",command:"mceTableColType",onAction:Zg(D),onSetup:z.onSetupTableColumnHeaders})},Zc=D=>{const z=Te=>D.dom.is(Te,"table")&&D.getBody().contains(Te)&&D.dom.isEditable(Te.parentNode),ue=ss(D);ue.length>0&&D.ui.registry.addContextToolbar("table",{predicate:z,items:ue,scope:"node",position:"node"})},Ai=D=>z=>{const ue=()=>{z.setEnabled(D.selection.isEditable())};return D.on("NodeChange",ue),ue(),()=>{D.off("NodeChange",ue)}},an=(D,z)=>{const ue=es=>()=>D.execCommand(es),Te=(es,Qo)=>D.queryCommandSupported(Qo.command)?(D.ui.registry.addMenuItem(es,{...Qo,onAction:H(Qo.onAction)?Qo.onAction:ue(Qo.command)}),!0):!1,ot=(es,Qo)=>{D.queryCommandSupported(Qo.command)&&D.ui.registry.addToggleMenuItem(es,{...Qo,onAction:H(Qo.onAction)?Qo.onAction:ue(Qo.command)})},Vt=es=>{D.execCommand("mceInsertTable",!1,{rows:es.numRows,columns:es.numColumns})},un=[Te("tableinsertrowbefore",{text:"Insert row before",icon:"table-insert-row-above",command:"mceTableInsertRowBefore",onSetup:z.onSetupCellOrRow}),Te("tableinsertrowafter",{text:"Insert row after",icon:"table-insert-row-after",command:"mceTableInsertRowAfter",onSetup:z.onSetupCellOrRow}),Te("tabledeleterow",{text:"Delete row",icon:"table-delete-row",command:"mceTableDeleteRow",onSetup:z.onSetupCellOrRow}),Te("tablerowprops",{text:"Row properties",icon:"table-row-properties",command:"mceTableRowProps",onSetup:z.onSetupCellOrRow}),Te("tablecutrow",{text:"Cut row",icon:"cut-row",command:"mceTableCutRow",onSetup:z.onSetupCellOrRow}),Te("tablecopyrow",{text:"Copy row",icon:"duplicate-row",command:"mceTableCopyRow",onSetup:z.onSetupCellOrRow}),Te("tablepasterowbefore",{text:"Paste row before",icon:"paste-row-before",command:"mceTablePasteRowBefore",onSetup:z.onSetupPasteable(Nr)}),Te("tablepasterowafter",{text:"Paste row after",icon:"paste-row-after",command:"mceTablePasteRowAfter",onSetup:z.onSetupPasteable(Nr)})],$n=[Te("tableinsertcolumnbefore",{text:"Insert column before",icon:"table-insert-column-before",command:"mceTableInsertColBefore",onSetup:z.onSetupColumn("onFirst")}),Te("tableinsertcolumnafter",{text:"Insert column after",icon:"table-insert-column-after",command:"mceTableInsertColAfter",onSetup:z.onSetupColumn("onLast")}),Te("tabledeletecolumn",{text:"Delete column",icon:"table-delete-column",command:"mceTableDeleteCol",onSetup:z.onSetupColumn("onAny")}),Te("tablecutcolumn",{text:"Cut column",icon:"cut-column",command:"mceTableCutCol",onSetup:z.onSetupColumn("onAny")}),Te("tablecopycolumn",{text:"Copy column",icon:"duplicate-column",command:"mceTableCopyCol",onSetup:z.onSetupColumn("onAny")}),Te("tablepastecolumnbefore",{text:"Paste column before",icon:"paste-column-before",command:"mceTablePasteColBefore",onSetup:z.onSetupPasteableColumn(lm,"onFirst")}),Te("tablepastecolumnafter",{text:"Paste column after",icon:"paste-column-after",command:"mceTablePasteColAfter",onSetup:z.onSetupPasteableColumn(lm,"onLast")})],Vn=[Te("tablecellprops",{text:"Cell properties",icon:"table-cell-properties",command:"mceTableCellProps",onSetup:z.onSetupCellOrRow}),Te("tablemergecells",{text:"Merge cells",icon:"table-merge-cells",command:"mceTableMergeCells",onSetup:z.onSetupMergeable}),Te("tablesplitcells",{text:"Split cell",icon:"table-split-cells",command:"mceTableSplitCells",onSetup:z.onSetupUnmergeable})];Lc(D)?D.ui.registry.addNestedMenuItem("inserttable",{text:"Table",icon:"table",getSubmenuItems:()=>[{type:"fancymenuitem",fancytype:"inserttable",onAction:Vt}],onSetup:Ai(D)}):D.ui.registry.addMenuItem("inserttable",{text:"Table",icon:"table",onAction:ue("mceInsertTableDialog"),onSetup:Ai(D)}),D.ui.registry.addMenuItem("inserttabledialog",{text:"Insert table",icon:"table",onAction:ue("mceInsertTableDialog"),onSetup:Ai(D)}),Te("tableprops",{text:"Table properties",onSetup:z.onSetupTable,command:"mceTableProps"}),Te("deletetable",{text:"Delete table",icon:"table-delete-table",onSetup:z.onSetupTable,command:"mceTableDelete"}),Yn(un,!0)&&D.ui.registry.addNestedMenuItem("row",{type:"nestedmenuitem",text:"Row",getSubmenuItems:re("tableinsertrowbefore tableinsertrowafter tabledeleterow tablerowprops | tablecutrow tablecopyrow tablepasterowbefore tablepasterowafter")}),Yn($n,!0)&&D.ui.registry.addNestedMenuItem("column",{type:"nestedmenuitem",text:"Column",getSubmenuItems:re("tableinsertcolumnbefore tableinsertcolumnafter tabledeletecolumn | tablecutcolumn tablecopycolumn tablepastecolumnbefore tablepastecolumnafter")}),Yn(Vn,!0)&&D.ui.registry.addNestedMenuItem("cell",{type:"nestedmenuitem",text:"Cell",getSubmenuItems:re("tablecellprops tablemergecells tablesplitcells")}),D.ui.registry.addContextMenu("table",{update:()=>(z.resetTargets(),z.targets().fold(re(""),es=>qo(es.element)==="caption"?"tableprops deletetable":"cell row column | advtablesort | tableprops deletetable"))});const Ko=kc(uu(D));Ko.length!==0&&D.queryCommandSupported("mceTableToggleClass")&&D.ui.registry.addNestedMenuItem("tableclass",{icon:"table-classes",text:"Table styles",getSubmenuItems:()=>pa(D,Ko,"tableclass",es=>D.execCommand("mceTableToggleClass",!1,es)),onSetup:z.onSetupTable});const Fo=kc(Jf(D));Fo.length!==0&&D.queryCommandSupported("mceTableCellToggleClass")&&D.ui.registry.addNestedMenuItem("tablecellclass",{icon:"table-cell-classes",text:"Cell styles",getSubmenuItems:()=>pa(D,Fo,"tablecellclass",es=>D.execCommand("mceTableCellToggleClass",!1,es)),onSetup:z.onSetupCellOrRow}),D.queryCommandSupported("mceTableApplyCellStyle")&&(D.ui.registry.addNestedMenuItem("tablecellvalign",{icon:"vertical-align",text:"Vertical align",getSubmenuItems:()=>pa(D,Sr,"tablecellverticalalign",Ml(D,"vertical-align")),onSetup:z.onSetupCellOrRow}),D.ui.registry.addNestedMenuItem("tablecellborderwidth",{icon:"border-width",text:"Border width",getSubmenuItems:()=>pa(D,ai(D),"tablecellborderwidth",Ml(D,"border-width")),onSetup:z.onSetupCellOrRow}),D.ui.registry.addNestedMenuItem("tablecellborderstyle",{icon:"border-style",text:"Border style",getSubmenuItems:()=>pa(D,Za(D),"tablecellborderstyle",Ml(D,"border-style")),onSetup:z.onSetupCellOrRow}),D.ui.registry.addNestedMenuItem("tablecellbackgroundcolor",{icon:"cell-background-color",text:"Background color",getSubmenuItems:()=>vd(D,Da(D),"background-color"),onSetup:z.onSetupCellOrRow}),D.ui.registry.addNestedMenuItem("tablecellbordercolor",{icon:"cell-border-color",text:"Border color",getSubmenuItems:()=>vd(D,Km(D),"border-color"),onSetup:z.onSetupCellOrRow})),ot("tablecaption",{icon:"table-caption",text:"Table caption",command:"mceTableToggleCaption",onSetup:z.onSetupTableWithCaption}),ot("tablerowheader",{text:"Row header",icon:"table-top-header",command:"mceTableRowType",onAction:sm(D),onSetup:z.onSetupTableRowHeaders}),ot("tablecolheader",{text:"Column header",icon:"table-left-header",command:"mceTableColType",onAction:Zg(D),onSetup:z.onSetupTableRowHeaders})},cm=D=>{const z=hr(D);pd(D),Kv(D),an(D,z),_b(D,z),Zc(D)};var Zi=()=>{t.add("table",cm)};Zi()}()),BX}var $X;function hSe(){return $X||($X=1,gSe()),LX}hSe();var VX={},zX={},HX;function pSe(){return HX||(HX=1,function(){var t=tinymce.util.Tools.resolve("tinymce.PluginManager"),r=tinymce.util.Tools.resolve("tinymce.Env");const i=G=>te=>te.options.get(G),u=G=>{const te=G.options.register;te("pagebreak_separator",{processor:"string",default:"<!-- pagebreak -->"}),te("pagebreak_split_block",{processor:"boolean",default:!1})},m=i("pagebreak_separator"),h=i("pagebreak_split_block"),x="mce-pagebreak",w=G=>{const te=`<img src="${r.transparentSrc}" class="${x}" data-mce-resize="false" data-mce-placeholder />`;return G?`<p>${te}</p>`:te},R=G=>{const te=m(G),re=()=>h(G),W=new RegExp(te.replace(/[\?\.\*\[\]\(\)\{\}\+\^\$\:]/g,ge=>"\\"+ge),"gi");G.on("BeforeSetContent",ge=>{ge.content=ge.content.replace(W,w(re()))}),G.on("PreInit",()=>{G.serializer.addNodeFilter("img",ge=>{let he=ge.length,j,me;for(;he--;)if(j=ge[he],me=j.attr("class"),me&&me.indexOf(x)!==-1){const oe=j.parent;if(oe&&G.schema.getBlockElements()[oe.name]&&re()){oe.type=3,oe.value=te,oe.raw=!0,j.remove();continue}j.type=3,j.value=te,j.raw=!0}})})},P=G=>{G.addCommand("mcePageBreak",()=>{G.insertContent(w(h(G)))})},A=G=>{G.on("ResolveName",te=>{te.target.nodeName==="IMG"&&G.dom.hasClass(te.target,x)&&(te.name="pagebreak")})},M=G=>te=>{const re=()=>{te.setEnabled(G.selection.isEditable())};return G.on("NodeChange",re),re(),()=>{G.off("NodeChange",re)}},H=G=>{const te=()=>G.execCommand("mcePageBreak");G.ui.registry.addButton("pagebreak",{icon:"page-break",tooltip:"Page break",onAction:te,onSetup:M(G)}),G.ui.registry.addMenuItem("pagebreak",{text:"Page break",icon:"page-break",onAction:te,onSetup:M(G)})};var K=()=>{t.add("pagebreak",G=>{u(G),P(G),H(G),R(G),A(G)})};K()}()),zX}var UX;function bSe(){return UX||(UX=1,pSe()),VX}bSe();const $6="extended",vSe="three";let _v,WX;const{t:Xr}=Pu.global;class Dne{constructor(r){Tt(this,"editor_id",null);Tt(this,"editor",null);Tt(this,"scroll_top",0);Tt(this,"scroll_left",0);Tt(this,"wordCount",Ln(0));Tt(this,"characterCount",Ln(0));this.editor_id=r,Ee.settings(),_v=Ee.preferences(),WX=Ee.snippets()}getInit(){return{license_key:"gpl",language:"de",height:"100%",menubar:!1,statusbar:!1,elementpath:!1,body_class:"xlas-content headlines-three",plugins:"lists charmap wordcount table pagebreak",toolbar:this.tinyToolbar($6),valid_elements:this.tinyValidElements($6),valid_styles:this.tinyValidStyles($6),formats:this.tinyFormats(),style_formats:this.tinyStyleFormats($6,vSe),custom_undo_redo_levels:10,text_patterns:!1,skin_url:"default",content_css:"default",content_style:sSe.toString(),browser_spellcheck:!0,highlight_on_focus:!0,iframe_aria_text:Xr("tinyHelperIframeAriaText"),paste_as_text:!1,paste_block_drop:!0,paste_merge_formats:!0,paste_tab_spaces:4,smart_paste:!1,paste_data_images:!1,paste_remove_styles_if_webkit:!0,paste_webkit_styles:"none",table_appearance_options:!1,table_advtab:!1,table_cell_advtab:!1,table_row_advtab:!1,table_sizing_mode:"responsive",table_default_styles:{},table_default_attributes:{},table_resize_bars:!1,table_toolbar:"tabledelete | tableinsertrowbefore tableinsertrowafter tabledeleterow | tableinsertcolbefore tableinsertcolafter tabledeletecol",setup:(function(r){r.ui.registry.addButton("zoomOut",{tooltip:"Verkleinern",icon:"zoom-out",onAction:this.zoomOut.bind(this)}),r.ui.registry.addButton("zoomIn",{tooltip:"Vergrern",icon:"zoom-in",onAction:this.zoomIn.bind(this)}),r.ui.registry.addButton("openSnippets",{tooltip:"Textbausteine",icon:"plus",onAction:this.openSnippets.bind(this)})}).bind(this)}}init(){this.editor=aSe.get(this.editor_id),this.editor.getWin().addEventListener("scroll",this.saveScrolling.bind(this)),this.applyZoom(),this.applyFormat()}zoomIn(){_v.zoomSummaryTextIn(),this.applyZoom()}zoomOut(){_v.zoomSummaryTextOut(),this.applyZoom()}openSnippets(){WX.openSelection(Ru.FOR_SUMMARY,null,this.editor.selection.getContent())}async applyFocus(){try{await ys(),this.editor.focus()}catch{}}applyFormat(){for(const r of document.getElementsByClassName("tox-tinymce-aux"))r.classList.add("headlines-three")}applyZoom(){try{const r=this.editor;r&&(r.dom.setStyle(r.dom.doc.body,"font-size",_v.summary_text_zoom+"rem"),r.dom.setStyle(r.dom.select("h1"),"font-size",_v.summary_text_zoom*1.3+"rem"),r.dom.setStyle(r.dom.select("h2"),"font-size",_v.summary_text_zoom*1.15+"rem"),r.dom.setStyle(r.dom.select("h3"),"font-size",_v.summary_text_zoom+"rem"),r.dom.setStyle(r.dom.select("h4"),"font-size",_v.summary_text_zoom+"rem"),r.dom.setStyle(r.dom.select("h5"),"font-size",_v.summary_text_zoom+"rem"),r.dom.setStyle(r.dom.select("h6"),"font-size",_v.summary_text_zoom+"rem"))}catch{}}saveScrolling(){const r=this.editor.getWin();(r.scrollX>0||r.scrollY>0)&&(this.scroll_left=r.scrollX,this.scroll_top=r.scrollY)}restoreScrolling(){try{this.editor.getWin().scroll({left:this.scroll_left,top:this.scroll_top})}catch(r){console.log(r)}}applyScrolling(){try{const r=this.editor.selection.getNode(),i=r.getBoundingClientRect(),u=this.editor.getContentAreaContainer().getBoundingClientRect();(i.top<u.top||i.bottom>u.bottom||i.right>u.right||i.left<u.left)&&r.scrollIntoView({behavior:"smooth",block:"nearest"})}catch(r){console.log(r)}}insertContent(r){try{this.editor.insertContent(r)}catch(i){console.log(i)}}tinyToolbar(r){switch(r){case"extended":return"undo redo styles bold italic underline bullist numlist indent outdent forecolor backcolor removeformat charmap table pagebreak wordcount";case"full":return"undo redo styles bold italic underline bullist numlist removeformat charmap wordcount";case"medium":return"undo redo bold italic underline bullist numlistremoveformat charmap wordcount";case"minimal":return"undo redo bold italic underline removeformat charmap wordcount";case"none":default:return"undo redo charmap wordcount"}}tinyValidElements(r){switch(r){case"extended":return"@[style|border|colspan|rowspan],p/div,br,strong/b,em/i,u,s,ol,ul,li,h1,h2,h3,h4,h5,h6,pre,code,blockquote,span,sub,sup,table,thead,tbody,th,tr,td,hr,img[class<mce-pagebreak|src|data-mce-resize|data-mce-placeholder|data-mce-selected]";case"full":return"p/div,br,strong/b,em/i,u,ol,ul,li,h1,h2,h3,h4,h5,h6,pre";case"medium":return"p/div,br,strong/b,em/i,u,ol,ul,li";case"minimal":return"p/div,p/li,br,strong/b,em/i,u";case"none":default:return"p/div,p/li,br"}}tinyValidStyles(r){switch(r){case"extended":return{"*":"background-color,color,text-align,mce-pagebreak,padding-left"};default:return{}}}tinyStyleFormats(r,i){const u={title:Xr("settingsHeadings"),items:[]};switch(i){case"single":u.items=[{title:Xr("settingsHeadings"),format:"h1"}];break;case"three":u.items=[{title:Xr("settingsHeading1"),format:"h1"},{title:Xr("settingsHeading2"),format:"h2"},{title:Xr("settingsHeading3"),format:"h3"}];break;default:u.items=[{title:Xr("settingsHeading1"),format:"h1"},{title:Xr("settingsHeading2"),format:"h2"},{title:Xr("settingsHeading3"),format:"h3"},{title:Xr("settingsHeading4"),format:"h4"},{title:Xr("settingsHeading5"),format:"h5"},{title:Xr("settingsHeading6"),format:"h6"}]}const m={title:Xr("settingsInline"),items:[]};switch(r){case"extended":m.items=[{title:Xr("settingsBold"),format:"bold"},{title:Xr("settingsItalic"),format:"italic"},{title:Xr("settingsUnderline"),format:"underline"},{title:Xr("settingsStrikethrough"),format:"strikethrough"},{title:Xr("settingsSuperscript"),format:"superscript"},{title:Xr("settingsSubscript"),format:"subscript"},{title:Xr("settingsCode"),format:"code"}];break;case"full":case"medium":case"minimal":m.items=[{title:Xr("settingsBold"),format:"bold"},{title:Xr("settingsItalic"),format:"italic"},{title:Xr("settingsUnderline"),format:"underline"}];break}const h={title:Xr("settingsBlocks"),items:[]};switch(r){case"extended":h.items=[{title:Xr("settingsParagraph"),format:"p"},{title:Xr("settingsBlockquote"),format:"blockquote"},{title:Xr("settingsPre"),format:"pre"}];break;case"full":h.items=[{title:Xr("settingsParagraph"),format:"p"},{title:Xr("settingsPre"),format:"pre"}];break;case"medium":case"minimal":h.items=[{title:Xr("settingsParagraph"),format:"p"}];break}const x={title:Xr("settingsAlign"),items:[]};switch(r){case"extended":x.items=[{title:Xr("settingsAlignLeft"),format:"alignleft"},{title:Xr("settingsAlignCenter"),format:"aligncenter"},{title:Xr("settingsAlignRight"),format:"alignright"},{title:Xr("settingsAlignJustify"),format:"alignjustify"}];break}const w=[];return u.items.length&&w.push(u),m.items.length&&w.push(m),h.items.length&&w.push(h),x.items.length&&w.push(x),w}tinyFormats(){return{underline:{inline:"u",remove:"all"},strikethrough:{inline:"s",remove:"all"}}}}const ySe={class:"app-own-summary-text-wrapper"},xSe=["for"],wSe={__name:"OwnSummaryText",props:["editorId"],setup(t){const r=Ee.summaries();Ee.preferences();const i=Ee.layout(),u=Ee.snippets(),m=t,h=new Dne(m.editorId);Fn(()=>i.focusChange,w);function x(){h.init()}async function w(){i.focusTarget=="ownSummary"&&(h.applyFocus(),await ys(),h.restoreScrolling())}function R(){r.updateContent(!0),h.applyZoom()}function P(){r.updateContent(!0)}function A(){switch(event.key){case"F1":event.preventDefault(),h.openSnippets();break;default:i.handleKeyDown(event)}}async function M(){if(!u.selection_open&&u.open_for_purpose==Ru.FOR_SUMMARY&&(await w(),u.insert_text)){const H=u.insert_text;u.insert_text="",h.insertContent(H)}}return Fn(()=>u.selection_open,M),(H,K)=>(Jt(),mo("div",ySe,[ie("label",{for:m.editorId,class:"hidden"},He(H.$t("ownSummaryTextHiddenField")),9,xSe),ne(r).isOwnDisabled?Jn("",!0):(Jt(),Go(ne(Ine),{key:0,id:m.editorId,modelValue:ne(r).editSummary.text,"onUpdate:modelValue":K[0]||(K[0]=G=>ne(r).editSummary.text=G),onInit:x,onChange:R,onKeyup:P,onKeydown:A,onScroll:ne(h).saveScrolling,licenseKey:"gpl",init:ne(h).getInit()},null,8,["id","modelValue","onScroll","init"]))]))}},Pne=Ta(wSe,[["__scopeId","data-v-3a896f32"]]),CSe={id:"app-own-summary-template-wrapper"},SSe=["innerHTML"],_Se={__name:"OwnSummaryTemplate",setup(t){const{t:r}=Pu.global;Ee.api(),Ee.summaries(),Ee.settings(),Ee.layout();const i=Ln(!1);async function u(){const x=Ee.templates().currentTemplate;x!=null&&x.hasContent&&(Ee.summaries().editSummary.text=x.content,h())}function m(){i.value=!0}function h(){i.value=!1}return(x,w)=>{var R;return Jt(),mo("span",CSe,[(R=ne(Ee).templates().currentTemplate)!=null&&R.hasContent?(Jt(),Go(Io,{key:0,class:"headline-button",flat:"",onClick:m},{default:xt(()=>[ce(Gn,{left:"",icon:"mdi-file-star-outline"}),ie("span",null,He(x.$t("ownSummaryTemplate")+"..."),1)]),_:1})):Jn("",!0),ce(Ng,{"max-width":"60em",persistent:"",modelValue:i.value,"onUpdate:modelValue":w[0]||(w[0]=P=>i.value=P)},{default:xt(()=>[ce(Pg,{class:"pa-4"},{default:xt(()=>[ce(D1,null,{default:xt(()=>[Cs(He(x.$t("ownSummaryTemplateAdoptLong")),1)]),_:1}),ce(Mm,null,{default:xt(()=>{var P;return[ce(Ig,{color:"#0000A0",type:"info",variant:"text",density:"compact"},{default:xt(()=>[Cs(He(x.$t("ownSummaryTemplateMessage")),1)]),_:1}),ie("div",{class:"appText xlas-content headlines-three",innerHTML:(P=ne(Ee).templates().currentTemplate)==null?void 0:P.content},null,8,SSe)]}),_:1}),ce(Nm,null,{default:xt(()=>[ce(Io,{onClick:u},{default:xt(()=>[ce(Gn,{left:"",icon:"mdi-close"}),ie("span",null,He(x.$t("ownSummaryTemplateAdoptShort")),1)]),_:1}),ce(Io,{onClick:h},{default:xt(()=>[ce(Gn,{left:"",icon:"mdi-close"}),ie("span",null,He(x.$t("allClose")),1)]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])])}}},Nne=Ta(_Se,[["__scopeId","data-v-bde782ea"]]);function kSe(){function t(i){var m,h;return[...((m=i.dataTransfer)==null?void 0:m.items)??[]].filter(x=>x.kind==="file").map(x=>x.webkitGetAsEntry()).filter(Boolean).length>0||[...((h=i.dataTransfer)==null?void 0:h.files)??[]].length>0}async function r(i){var h,x;const u=[],m=[...((h=i.dataTransfer)==null?void 0:h.items)??[]].filter(w=>w.kind==="file").map(w=>w.webkitGetAsEntry()).filter(Boolean);if(m.length)for(const w of m){const R=await Mne(w,Lne(".",w));u.push(...R.map(P=>P.file))}else u.push(...((x=i.dataTransfer)==null?void 0:x.files)??[]);return u}return{handleDrop:r,hasFilesOrFolders:t}}function Mne(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return new Promise((i,u)=>{t.isFile?t.file(h=>i([{file:h,path:r}]),u):t.isDirectory&&t.createReader().readEntries(async h=>{const x=[];for(const w of h)x.push(...await Mne(w,Lne(r,w)));i(x)})})}function Lne(t,r){return r.isDirectory?`${t}/${r.name}`:t}const ESe=qn({chips:Boolean,counter:Boolean,counterSizeString:{type:String,default:"$vuetify.fileInput.counterSize"},counterString:{type:String,default:"$vuetify.fileInput.counter"},hideInput:Boolean,multiple:Boolean,showSize:{type:[Boolean,Number,String],default:!1,validator:t=>typeof t=="boolean"||[1e3,1024].includes(Number(t))},...SI({prependIcon:"$file"}),modelValue:{type:[Array,Object],default:t=>t.multiple?[]:null,validator:t=>Kd(t).every(r=>r!=null&&typeof r=="object")},...m8({clearable:!0})},"VFileInput"),TSe=ts()({name:"VFileInput",inheritAttrs:!1,props:ESe(),emits:{"click:control":t=>!0,"mousedown:control":t=>!0,"update:focused":t=>!0,"update:modelValue":t=>!0},setup(t,r){let{attrs:i,emit:u,slots:m}=r;const{t:h}=zE(),x=ia(t,"modelValue",t.modelValue,it=>Kd(it),it=>!t.multiple&&Array.isArray(it)?it[0]:it),{isFocused:w,focus:R,blur:P}=CI(t),A=Mt(()=>typeof t.showSize!="boolean"?t.showSize:void 0),M=Mt(()=>(x.value??[]).reduce((it,Ft)=>{let{size:Yt=0}=Ft;return it+Yt},0)),H=Mt(()=>Rq(M.value,A.value)),K=Mt(()=>(x.value??[]).map(it=>{const{name:Ft="",size:Yt=0}=it;return t.showSize?`${Ft} (${Rq(Yt,A.value)})`:Ft})),G=Mt(()=>{var Ft;const it=((Ft=x.value)==null?void 0:Ft.length)??0;return t.showSize?h(t.counterSizeString,it,H.value):h(t.counterString,it)}),te=Ln(),re=Ln(),W=Ln(),ge=En(()=>w.value||t.active),he=Mt(()=>["plain","underlined"].includes(t.variant)),j=Do(!1),{handleDrop:me,hasFilesOrFolders:oe}=kSe();function Ce(){var it;W.value!==document.activeElement&&((it=W.value)==null||it.focus()),w.value||R()}function Ue(it){var Ft;(Ft=W.value)==null||Ft.click()}function et(it){u("mousedown:control",it)}function dt(it){var Ft;(Ft=W.value)==null||Ft.click(),u("click:control",it)}function Me(it){it.stopPropagation(),Ce(),ys(()=>{x.value=[],ZF(t["onClick:clear"],it)})}function Ne(it){it.preventDefault(),it.stopImmediatePropagation(),j.value=!0}function I(it){it.preventDefault(),j.value=!1}async function st(it){if(it.preventDefault(),it.stopImmediatePropagation(),j.value=!1,!W.value||!oe(it))return;const Ft=new DataTransfer;for(const Yt of await me(it))Ft.items.add(Yt);W.value.files=Ft.files,W.value.dispatchEvent(new Event("change",{bubbles:!0}))}return Fn(x,it=>{(!Array.isArray(it)||!it.length)&&W.value&&(W.value.value="")}),$s(()=>{const it=!!(m.counter||t.counter),Ft=!!(it||m.details),[Yt,mt]=hI(i),{modelValue:Rn,...Ot}=Gx.filterProps(t),at=ME.filterProps(t);return ce(Gx,Xo({ref:te,modelValue:t.multiple?x.value:x.value[0],class:["v-file-input",{"v-file-input--chips":!!t.chips,"v-file-input--dragging":j.value,"v-file-input--hide":t.hideInput,"v-input--plain-underlined":he.value},t.class],style:t.style,"onClick:prepend":Ue},Yt,Ot,{centerAffix:!he.value,focused:w.value}),{...m,default:Ve=>{let{id:bt,isDisabled:Yn,isDirty:Xt,isReadonly:Bn,isValid:Qt}=Ve;return ce(ME,Xo({ref:re,"prepend-icon":t.prependIcon,onMousedown:et,onClick:dt,"onClick:clear":Me,"onClick:prependInner":t["onClick:prependInner"],"onClick:appendInner":t["onClick:appendInner"]},at,{id:bt.value,active:ge.value||Xt.value,dirty:Xt.value||t.dirty,disabled:Yn.value,focused:w.value,error:Qt.value===!1,onDragover:Ne,onDrop:st}),{...m,default:ee=>{var yn;let{props:{class:vo,...nn}}=ee;return ie(ms,null,[ie("input",Xo({ref:W,type:"file",readonly:Bn.value,disabled:Yn.value,multiple:t.multiple,name:t.name,onClick:qe=>{qe.stopPropagation(),Bn.value&&qe.preventDefault(),Ce()},onChange:qe=>{if(!qe.target)return;const lt=qe.target;x.value=[...lt.files??[]]},onDragleave:I,onFocus:Ce,onBlur:P},nn,mt),null),ie("div",{class:xo(vo)},[!!((yn=x.value)!=null&&yn.length)&&!t.hideInput&&(m.selection?m.selection({fileNames:K.value,totalBytes:M.value,totalBytesReadable:H.value}):t.chips?K.value.map(qe=>ce(bK,{key:qe,size:"small",text:qe},null)):K.value.join(", "))])])}})},details:Ft?Ve=>{var bt,Yn;return ie(ms,null,[(bt=m.details)==null?void 0:bt.call(m,Ve),it&&ie(ms,null,[ie("span",null,null),ce(wK,{active:!!((Yn=x.value)!=null&&Yn.length),value:G.value,disabled:t.disabled},m.counter)])])}:void 0})}),Jx({},te,re,W)}}),ASe={id:"app-own-summary-upload-wrapper"},OSe={key:0,class:"mt-4"},RSe={__name:"OwnSummaryUpload",setup(t){const{t:r}=Pu.global,i=Ee.api(),u=Ee.summaries(),m=Ee.settings();Ee.layout();const h=Ln(null),x=Ln(0),w=Ln(""),R=Ln(!1),P=Ln(!1),A=Ln(!1),M=Ln(!1);function H(W){x.value=Math.round(100*W.loaded/W.total)}async function K(){if(!h.value){w.value="Bitte whlen Sie eine Datei",R.value=!1;return}const W=await i.sendSummaryPdf(u.editSummary,h.value,H);if(W){u.editSummary.pdf=W,u.editSummary.text="",te();return}w.value="Fehler beim Hochladen!",R.value=!1,x.value=0}function G(){u.editSummary.text?P.value=!0:A.value=!0}function te(){w.value="",R.value=!1,h.value=null,x.value=0,A.value=!1}function re(){u.editSummary.pdf=null,M.value=!1}return(W,ge)=>(Jt(),mo("span",ASe,[ne(u).editSummary.pdf?Jn("",!0):(Jt(),Go(Io,{key:0,class:"headline-button",flat:"",onClick:G},{default:xt(()=>[ce(Gn,{left:"",icon:"mdi-upload"}),ie("span",null,He(W.$t("allUpload")+"..."),1)]),_:1})),ne(u).editSummary.pdf?(Jt(),Go(Io,{key:1,class:"headline-button",flat:"",onClick:ge[0]||(ge[0]=he=>M.value=!0)},{default:xt(()=>[ce(Gn,{left:"",icon:"mdi-delete-outline"}),ie("span",null,He(W.$t("allDelete")+"..."),1)]),_:1})):Jn("",!0),ce(Ng,{"max-width":"60em",persistent:"",modelValue:P.value,"onUpdate:modelValue":ge[2]||(ge[2]=he=>P.value=he)},{default:xt(()=>[ce(Pg,{class:"pa-4"},{default:xt(()=>[ce(D1,null,{default:xt(()=>[Cs(He(W.$t("ownSummaryUploadTitle")),1)]),_:1}),ce(Mm,null,{default:xt(()=>[Cs(He(W.$t("ownSummaryUploadTextWarning")),1)]),_:1}),ce(Nm,null,{default:xt(()=>[ce(Io,{onClick:ge[1]||(ge[1]=he=>P.value=!1)},{default:xt(()=>[ce(Gn,{left:"",icon:"mdi-close"}),ie("span",null,He(W.$t("allClose")),1)]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),ce(Ng,{"max-width":"60em",persistent:"",modelValue:A.value,"onUpdate:modelValue":ge[6]||(ge[6]=he=>A.value=he)},{default:xt(()=>[ce(Pg,{class:"pa-4"},{default:xt(()=>[ce(D1,null,{default:xt(()=>[Cs(He(W.$t("ownSummaryUploadTitle")),1)]),_:1}),ce(Mm,null,{default:xt(()=>[Zn(ce(Ig,{color:"#0000A0",type:"info",variant:"text",density:"compact"},{default:xt(()=>[Cs(He(ne(m).Task.summary_pdf_advice),1)]),_:1},512),[[Co,ne(m).Task.summary_pdf_advice!=""]]),ge[10]||(ge[10]=ie("p",null,"",-1)),ce(TSe,{variant:"outlined",label:"Dateiauswahl",modelValue:h.value,"onUpdate:modelValue":ge[3]||(ge[3]=he=>h.value=he),"prepend-icon":"mdi-file-check-outline","show-size":"",accept:"application/pdf"},null,8,["modelValue"]),x.value>0?(Jt(),mo("div",OSe,[ce(Kee,{modelValue:x.value,"onUpdate:modelValue":ge[4]||(ge[4]=he=>x.value=he),color:"#0000A0",height:"25"},{default:xt(()=>[ie("strong",null,He(Math.ceil(x.value))+"%",1)]),_:1},8,["modelValue"])])):Jn("",!0),w.value?(Jt(),Go(Ig,{key:1,type:R.value?"success":"error",class:"mt-4"},{default:xt(()=>[Cs(He(w.value),1)]),_:1},8,["type"])):Jn("",!0)]),_:1,__:[10]}),ce(Nm,null,{default:xt(()=>[ce(Io,{disabled:!h.value,onClick:K},{default:xt(()=>[ce(Gn,{left:"",icon:"mdi-upload"}),Cs(" "+He(W.$t("allUpload")),1)]),_:1},8,["disabled"]),ce(Io,{onClick:ge[5]||(ge[5]=he=>te())},{default:xt(()=>[ce(Gn,{left:"",icon:"mdi-close"}),ie("span",null,He(W.$t("allCancel")),1)]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),ce(Ng,{"max-width":"60em",persistent:"",modelValue:M.value,"onUpdate:modelValue":ge[9]||(ge[9]=he=>M.value=he)},{default:xt(()=>[ce(Pg,{class:"pa-4"},{default:xt(()=>[ce(D1,null,{default:xt(()=>[Cs(He(W.$t("ownSummaryUploadDeleteTitle")),1)]),_:1}),ce(Mm,null,{default:xt(()=>[Cs(He(W.$t("ownSummaryUploadDeleteInfo")),1)]),_:1}),ce(Nm,null,{default:xt(()=>[ce(Io,{onClick:ge[7]||(ge[7]=he=>re())},{default:xt(()=>[ce(Gn,{left:"",icon:"mdi-delete-outline"}),Cs(" "+He(W.$t("allDelete")),1)]),_:1}),ce(Io,{onClick:ge[8]||(ge[8]=he=>M.value=!1)},{default:xt(()=>[ce(Gn,{left:"",icon:"mdi-close"}),ie("span",null,He(W.$t("allCancel")),1)]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]))}},Bne=Ta(RSe,[["__scopeId","data-v-e85b4533"]]),ISe={id:"app-authorization-wrapper"},DSe={key:0,class:"appRow"},PSe=["innerHTML"],NSe={class:"appRow"},MSe={key:0},LSe={class:"appRow"},BSe={key:0,class:"appRow"},FSe={key:1,class:"appRow"},$Se={__name:"ConfirmRevision",setup(t){const r=Ee.api(),i=Ee.items(),u=Ee.settings(),m=Ee.summaries(),h=Ee.levels(),x=Ee.corrections(),w=Ee.layout(),{t:R}=Pu.global,P=Ln(!1);function A(){switch(u.Assessment.procedure){case ub.APPROXIMATION:return R("revisionFixApproximationTitle");case ub.CONSULTING:return R("revisionFixConsultingTitle");default:return""}}function M(){return m.editSummary.revision_text!=""&&m.pointsOutsideCorridorText==""&&!Number.isNaN(m.editSummary.revision_points)}function H(){var G;return u.Assessment.procedure===ub.APPROXIMATION&&((G=x.ownCorrection)==null?void 0:G.position)===_a.POSITION_FIRST}async function K(){await m.setOwnRevised(),await r.saveChangesToBackend(!0)?(P.value=!1,r.loadItemFromBackend(i.currentKey)):(P.value=!1,w.showSendFailure=!0)}return(G,te)=>(Jt(),mo("div",ISe,[ne(i).canRevise?(Jt(),Go(Io,{key:0,class:"app-header-item",disabled:ne(r).isLoading,onClick:te[0]||(te[0]=re=>P.value=!0)},{default:xt(()=>[ce(Gn,{left:"",icon:"mdi-file-certificate-outline"}),ie("span",null,He(G.$t("revisionButton")),1)]),_:1},8,["disabled"])):Jn("",!0),ce(Ng,{"max-width":"60em",persistent:"",modelValue:P.value,"onUpdate:modelValue":te[4]||(te[4]=re=>P.value=re)},{default:xt(()=>[ce(Pg,null,{default:xt(()=>[ce(D1,null,{default:xt(()=>[Cs(He(A()),1)]),_:1}),ce(Mm,null,{default:xt(()=>{var re,W;return[ne(m).editSummary.hasRevisionText()?(Jt(),mo("div",DSe,[ie("strong",null,He(G.$t("revisionTextLabel")),1),ie("div",{class:"appText xlas-content headlines-three",innerHTML:ne(m).editSummary.revision_text},null,8,PSe)])):Jn("",!0),ie("div",NSe,[ne(m).editSummary.hasRevisionPoints()?(Jt(),mo("span",MSe,[ie("strong",null,He(G.$t("revisionPointsLabel")),1),Cs(" "+He(ne(m).editSummary.revision_points)+" "+He(G.$t("allPoints",ne(m).editSummary.revision_points))+" ",1),ie("strong",null,He(G.$t("allGrade")),1),Cs(" "+He((re=ne(h).getLevelForPoints(ne(m).editSummary.revision_points))==null?void 0:re.title),1)])):Jn("",!0),ie("p",null,He((W=ne(h).getLevelForPoints(ne(m).editSummary.revision_points))==null?void 0:W.statement),1)]),ie("div",LSe,[Zn(ce(Ig,{color:"#0000A0",type:"info",variant:"text",density:"compact"},{default:xt(()=>[Cs(He(G.$t("revisionPleaseEnterPoints")),1)]),_:1},512),[[Co,!ne(m).editSummary.hasRevisionPoints()]]),Zn(ce(Ig,{color:"#0000A0",type:"info",variant:"text",density:"compact"},{default:xt(()=>[Cs(He(G.$t("revisionPleaseEnterText")),1)]),_:1},512),[[Co,!ne(m).editSummary.hasRevisionText()]]),Zn(ce(Ig,{color:"#0000A0",type:"info",variant:"text",density:"compact"},{default:xt(()=>[Cs(He(ne(m).pointsOutsideCorridorText),1)]),_:1},512),[[Co,ne(m).pointsOutsideCorridorText!==""]]),Zn(ce(Ig,{color:"#0000A0",type:"info",variant:"text",density:"compact"},{default:xt(()=>[Cs(He(ne(m).stitchNeededAfterRevisionText),1)]),_:1},512),[[Co,ne(m).stitchNeededAfterRevisionText!==""]]),ne(m).editSummary.hasRevisionText()&&ne(m).editSummary.hasRevisionPoints()?(Jt(),mo("div",BSe,[H()?(Jt(),Go(Tye,{key:0,modelValue:ne(m).editSummary.require_other_revision,"onUpdate:modelValue":te[1]||(te[1]=ge=>ne(m).editSummary.require_other_revision=ge),label:ne(R)("revisionRequireOtherRevision")},null,8,["modelValue","label"])):Jn("",!0)])):Jn("",!0),M()?(Jt(),mo("div",FSe,He(G.$t("revisionWarnFinalize")),1)):Jn("",!0)])]}),_:1}),ce(Nm,null,{default:xt(()=>[ce(Io,{disabled:!M(),onClick:te[2]||(te[2]=re=>K())},{default:xt(()=>[ce(Gn,{left:"",icon:"mdi-check"}),ie("span",null,He(G.$t("revisionFix")),1)]),_:1},8,["disabled"]),ce(Io,{onClick:te[3]||(te[3]=re=>P.value=!1)},{default:xt(()=>[ce(Gn,{left:"",icon:"mdi-close"}),ie("span",null,He(G.$t("allCancel")),1)]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]))}},VSe=Ta($Se,[["__scopeId","data-v-8f667da5"]]),zSe={class:"app-own-summary-text-wrapper"},HSe={class:"app-summary-editor"},USe=["for"],WSe=["innerHTML"],KSe={for:"appOwnSummaryPoints"},jSe=["disabled","min","max"],ZSe={key:0},GSe={__name:"OwnSummaryRevision",props:["editorId"],setup(t){const r=Ee.summaries();Ee.preferences();const i=Ee.layout(),u=Ee.snippets(),m=Ee.items();Ee.settings();const h=Ee.levels(),x=t,w=new Dne(x.editorId);function R(){w.init()}function P(){r.updateContent(!0),w.applyZoom()}function A(){r.updateContent(!0)}function M(){switch(event.key){case"F1":event.preventDefault(),w.openSnippets();break;default:i.handleKeyDown(event)}}async function H(){if(!u.selection_open&&u.open_for_purpose==Ru.FOR_SUMMARY&&(await handleFocusChange(),u.insert_text)){const K=u.insert_text;u.insert_text="",w.insertContent(K)}}return Fn(()=>u.selection_open,H),(K,G)=>(Jt(),mo("div",zSe,[ie("div",HSe,[ie("label",{for:x.editorId,class:"hidden"},He(K.$t("ownSummaryRevisionTextHiddenField")),9,USe),ne(m).canRevise?(Jt(),Go(ne(Ine),{key:0,id:x.editorId,modelValue:ne(r).editSummary.revision_text,"onUpdate:modelValue":G[0]||(G[0]=te=>ne(r).editSummary.revision_text=te),onInit:R,onChange:P,onKeyup:A,onKeydown:M,onScroll:ne(w).saveScrolling,licenseKey:"gpl",init:ne(w).getInit()},null,8,["id","modelValue","onScroll","init"])):Jn("",!0)]),ne(m).canRevise?Jn("",!0):(Jt(),mo("div",{key:0,class:"app-summary-text-display long-essay-content correction-summary",innerHTML:ne(r).editSummary.revision_text},null,8,WSe)),ce(LE,{class:"app-summary-points"},{default:xt(()=>[ce(O1,{dense:""},{default:xt(()=>[ce(xc,{cols:"10"},{default:xt(()=>{var te,re;return[ie("label",KSe,[ie("strong",null,He(K.$t("summaryRevisionRating")),1)]),G[2]||(G[2]=Cs("  ")),Zn(ie("input",{disabled:!ne(m).canRevise,id:"appOwnSummaryPoints",class:"appPoints",type:"number",min:ne(r).pointsCorridor.min,max:ne(r).pointsCorridor.max,"onUpdate:modelValue":G[1]||(G[1]=W=>ne(r).editSummary.revision_points=W)},null,8,jSe),[[AE,ne(r).editSummary.revision_points]]),Cs(" "+He(K.$t("allPoints",Number.isNaN(ne(r).editSummary.revision_points)?0:ne(r).editSummary.revision_points))+"  ",1),Number.isNaN(ne(r).editSummary.revision_points)?Jn("",!0):(Jt(),mo("span",ZSe,[ie("strong",null,He(K.$t("allGrade")),1),Cs(" "+He((te=ne(h).getLevelForPoints(ne(r).editSummary.revision_points))==null?void 0:te.title),1)])),ie("p",null,He((re=ne(h).getLevelForPoints(ne(r).editSummary.revision_points))==null?void 0:re.statement),1)]}),_:1,__:[2]}),ce(xc,{cols:"2"},{default:xt(()=>[ce(VSe)]),_:1})]),_:1})]),_:1})]))}},qSe=Ta(GSe,[["__scopeId","data-v-721b21d5"]]),YSe={id:"app-summary-wrapper"},XSe={class:"headline"},JSe={class:"headline"},QSe={class:"headline"},e_e={key:3,id:"app-own-summary-points"},t_e={class:"headline"},n_e={key:4,id:"app-summary-points"},o_e={class:"headline"},s_e={class:"headline"},r_e={class:"headline"},i_e={key:7},a_e={__name:"SummaryColumn",props:["correction_key","showCriteria","showText","showRevision"],setup(t){const r=t,i=Ee.corrections().getCorrection(r.correction_key),u=Si.buildPositionText(i.position);let m,h,x,w,R,P,A,M,H;function K(){m=r.correction_key==Ee.corrections().ownKey,h=m&&Ee.items().canCorrect,x=m&&Ee.items().canRevise,w=m?Ee.summaries().editSummary:Ee.summaries().getForCorrection(r.correction_key),R=w.isAuthorized(),P=w.isRevised(),A=r.showCriteria&&(Ee.settings().Task.enable_comment_ratings||Ee.settings().Task.enable_partial_points),M=r.showText&&(m||R),H=r.showRevision&&(m&&x||P)}Fn(()=>r.correction_key,K),Fn(()=>r.showCriteria,K),Fn(()=>r.showText,K),Fn(()=>r.showRevision,K),K();function G(){switch((A?1:0)+(M?1:0)+(H?1:0)){case 0:return"hidden";case 1:return"full";case 2:return"half";case 3:return"third"}}return(te,re)=>(Jt(),mo("div",YSe,[ne(A)?(Jt(),mo("div",{key:0,class:xo(G())},[ie("h2",XSe,He(te.$t("allOverview"))+" "+He(ne(u)),1),ce(iCe,{class:"content",correction_key:r.correction_key},null,8,["correction_key"])],2)):Jn("",!0),ne(M)&&ne(m)&&!ne(Ee).summaries().isOwnDisabled?(Jt(),mo("div",{key:1,class:xo(G())},[ce(LE,{class:"ma-0 pa-0"},{default:xt(()=>[ce(O1,{class:"section-header ma-0"},{default:xt(()=>[ce(xc,{cols:"6",class:"ma-0 pa-0"},{default:xt(()=>[ie("h2",JSe,He(te.$t("allSummary"))+" "+He(ne(u)),1)]),_:1}),ce(xc,{cols:"6",class:"ma-0 pa-0 text-right"},{default:xt(()=>[ce(Nne),ce(Bne)]),_:1})]),_:1})]),_:1}),Zn(ce(Pne,{class:"content-noscroll",editorId:"summary"},null,512),[[Co,!ne(w).pdf]]),ne(w).pdf?(Jt(),Go(DF,{key:0,class:"content-noscroll",correction_key:r.correction_key},null,8,["correction_key"])):Jn("",!0)],2)):Jn("",!0),ne(M)&&(!ne(m)||ne(Ee).summaries().isOwnDisabled)?(Jt(),mo("div",{key:2,class:xo(G())},[ie("h2",QSe,He(te.$t("allSummary"))+" "+He(ne(u)),1),ne(w).pdf?Jn("",!0):(Jt(),Go(Ane,{key:0,class:"content",correction_key:r.correction_key},null,8,["correction_key"])),ne(w).pdf?(Jt(),Go(DF,{key:1,class:"content-noscroll",correction_key:r.correction_key},null,8,["correction_key"])):Jn("",!0)],2)):Jn("",!0),ne(h)?(Jt(),mo("div",e_e,[ie("h2",t_e,He(te.$t("allTotalRating"))+" "+He(ne(u)),1),ce(UCe,{class:"content"})])):Jn("",!0),!ne(h)&&ne(R)?(Jt(),mo("div",n_e,[ie("h2",o_e,He(te.$t("allTotalRating"))+" "+He(ne(u)),1),ce(gCe,{class:"content",correction_key:r.correction_key},null,8,["correction_key"])])):Jn("",!0),ne(H)&&ne(x)?(Jt(),mo("div",{key:5,class:xo(G())},[ie("h2",s_e,He(ne(Ee).settings().procedureText)+" "+He(ne(u)),1),ce(qSe,{class:"content-noscroll",editorId:"revision"})],2)):Jn("",!0),ne(H)&&!ne(x)&&ne(P)?(Jt(),mo("div",{key:6,class:xo(G())},[ie("h2",r_e,He(ne(Ee).settings().procedureText)+" "+He(ne(u)),1),ce(yCe,{class:"content-noscroll",correction_key:r.correction_key},null,8,["correction_key"])],2)):Jn("",!0),!ne(h)&&!ne(R)?(Jt(),mo("div",i_e,He(te.$t("otherSummaryNotAuthorized")),1)):Jn("",!0)]))}},TU=Ta(a_e,[["__scopeId","data-v-c40cb3a6"]]),l_e=qn({autoGrow:Boolean,autofocus:Boolean,counter:[Boolean,Number,String],counterValue:Function,prefix:String,placeholder:String,persistentPlaceholder:Boolean,persistentCounter:Boolean,noResize:Boolean,rows:{type:[Number,String],default:5,validator:t=>!isNaN(parseFloat(t))},maxRows:{type:[Number,String],validator:t=>!isNaN(parseFloat(t))},suffix:String,modelModifiers:Object,...SI(),...m8()},"VTextarea"),Fne=ts()({name:"VTextarea",directives:{vIntersect:NE},inheritAttrs:!1,props:l_e(),emits:{"click:control":t=>!0,"mousedown:control":t=>!0,"update:focused":t=>!0,"update:modelValue":t=>!0,"update:rows":t=>!0},setup(t,r){let{attrs:i,emit:u,slots:m}=r;const h=ia(t,"modelValue"),{isFocused:x,focus:w,blur:R}=CI(t),{onIntersect:P}=$te(t),A=Mt(()=>typeof t.counterValue=="function"?t.counterValue(h.value):(h.value||"").toString().length),M=Mt(()=>{if(i.maxlength)return i.maxlength;if(!(!t.counter||typeof t.counter!="number"&&typeof t.counter!="string"))return t.counter}),H=Ln(),K=Ln(),G=Do(""),te=Ln(),re=Mt(()=>t.persistentPlaceholder||x.value||t.active);function W(){var Me;te.value!==document.activeElement&&((Me=te.value)==null||Me.focus()),x.value||w()}function ge(Me){W(),u("click:control",Me)}function he(Me){u("mousedown:control",Me)}function j(Me){Me.stopPropagation(),W(),ys(()=>{h.value="",ZF(t["onClick:clear"],Me)})}function me(Me){var I;const Ne=Me.target;if(h.value=Ne.value,(I=t.modelModifiers)!=null&&I.trim){const st=[Ne.selectionStart,Ne.selectionEnd];ys(()=>{Ne.selectionStart=st[0],Ne.selectionEnd=st[1]})}}const oe=Ln(),Ce=Ln(Number(t.rows)),Ue=Mt(()=>["plain","underlined"].includes(t.variant));Wf(()=>{t.autoGrow||(Ce.value=Number(t.rows))});function et(){t.autoGrow&&ys(()=>{if(!oe.value||!K.value)return;const Me=getComputedStyle(oe.value),Ne=getComputedStyle(K.value.$el),I=parseFloat(Me.getPropertyValue("--v-field-padding-top"))+parseFloat(Me.getPropertyValue("--v-input-padding-top"))+parseFloat(Me.getPropertyValue("--v-field-padding-bottom")),st=oe.value.scrollHeight,it=parseFloat(Me.lineHeight),Ft=Math.max(parseFloat(t.rows)*it+I,parseFloat(Ne.getPropertyValue("--v-input-control-height"))),Yt=parseFloat(t.maxRows)*it+I||1/0,mt=Lm(st??0,Ft,Yt);Ce.value=Math.floor((mt-I)/it),G.value=Fs(mt)})}Zd(et),Fn(h,et),Fn(()=>t.rows,et),Fn(()=>t.maxRows,et),Fn(()=>t.density,et),Fn(Ce,Me=>{u("update:rows",Me)});let dt;return Fn(oe,Me=>{Me?(dt=new ResizeObserver(et),dt.observe(oe.value)):dt==null||dt.disconnect()}),Du(()=>{dt==null||dt.disconnect()}),$s(()=>{const Me=!!(m.counter||t.counter||t.counterValue),Ne=!!(Me||m.details),[I,st]=hI(i),{modelValue:it,...Ft}=Gx.filterProps(t),Yt=ME.filterProps(t);return ce(Gx,Xo({ref:H,modelValue:h.value,"onUpdate:modelValue":mt=>h.value=mt,class:["v-textarea v-text-field",{"v-textarea--prefixed":t.prefix,"v-textarea--suffixed":t.suffix,"v-text-field--prefixed":t.prefix,"v-text-field--suffixed":t.suffix,"v-textarea--auto-grow":t.autoGrow,"v-textarea--no-resize":t.noResize||t.autoGrow,"v-input--plain-underlined":Ue.value},t.class],style:t.style},I,Ft,{centerAffix:Ce.value===1&&!Ue.value,focused:x.value}),{...m,default:mt=>{let{id:Rn,isDisabled:Ot,isDirty:at,isReadonly:Ve,isValid:bt}=mt;return ce(ME,Xo({ref:K,style:{"--v-textarea-control-height":G.value},onClick:ge,onMousedown:he,"onClick:clear":j,"onClick:prependInner":t["onClick:prependInner"],"onClick:appendInner":t["onClick:appendInner"]},Yt,{id:Rn.value,active:re.value||at.value,centerAffix:Ce.value===1&&!Ue.value,dirty:at.value||t.dirty,disabled:Ot.value,focused:x.value,error:bt.value===!1}),{...m,default:Yn=>{let{props:{class:Xt,...Bn}}=Yn;return ie(ms,null,[t.prefix&&ie("span",{class:"v-text-field__prefix"},[t.prefix]),Zn(ie("textarea",Xo({ref:te,class:Xt,value:h.value,onInput:me,autofocus:t.autofocus,readonly:Ve.value,disabled:Ot.value,placeholder:t.placeholder,rows:t.rows,name:t.name,onFocus:W,onBlur:R},Bn,st),null),[[NE,{handler:P},null,{once:!0}]]),t.autoGrow&&Zn(ie("textarea",{class:xo([Xt,"v-textarea__sizer"]),id:`${Bn.id}-sizer`,"onUpdate:modelValue":Qt=>h.value=Qt,ref:oe,readonly:!0,"aria-hidden":"true"},null),[[AE,h.value]]),t.suffix&&ie("span",{class:"v-text-field__suffix"},[t.suffix])])}})},details:Ne?mt=>{var Rn;return ie(ms,null,[(Rn=m.details)==null?void 0:Rn.call(m,mt),Me&&ie(ms,null,[ie("span",null,null),ce(wK,{active:t.persistentCounter||x.value,value:A.value,max:M.value,disabled:t.disabled},m.counter)])])}:void 0})}),Jx({},H,K,te)}}),c_e={class:"sr-only"},u_e=["id"],d_e={key:0},f_e=["id","disabled"],m_e=["for"],g_e={key:0},h_e=["id","disabled"],p_e=["for"],b_e={class:"pointsSum"},v_e={class:"sr-only"},y_e={__name:"MarkingComment",props:["comment"],setup(t){Ee.api();const r=Ee.comments(),i=Ee.summaries(),u=Ee.settings();Ee.criteria();const m=Ee.points(),h=Ee.layout(),x=Ee.snippets(),w=Ee.config(),{t:R}=Pu.global,A=t.comment,M=Ln();let H=Ln(0);const K=m.getObjectByData(A.correction_key,A.key,"");H.value=K?K.points:0;function G(Ne){return Ne.key==r.selectedKey}function te(Ne){return Ne.correction_key==Ee.corrections().ownKey&&!i.isOwnDisabled}function re(Ne){return Ne.rating_excellent||Ne.rating_cardinal||m.getSumOfPointsForComment(Ne.key)>0}Zd(()=>{const Ne=document.getElementById("appCommentContainer"+A.key);for(const I of Ne.getElementsByTagName("label"))I.getAttribute("for").includes("app-comment-")&&(I.classList.add("sr-only"),I.getAttribute("aria-hidden")=="true"?I.getAttribute("for").includes("-sizer")||I.setAttribute("for",I.getAttribute("for")+"-sizer"):I.setAttribute("id","app-comment-"+A.key+"-messages"));for(const I of Ne.getElementsByTagName("textarea"))I.style.marginTop="-15px",I.style.fontSize="0.9rem";for(const I of Ne.getElementsByClassName("v-input__details"))I.style.display="none"});function W(Ne){return w.getCommentColor(Ne.correction_position,Ne.key==r.selectedKey)}function ge(Ne){return m.getSumOfPointsForComment(Ne.key)}function he(Ne){return R("allPoints",ge(Ne))}async function j(Ne){Ne.rating_excellent&&(Ne.rating_cardinal=!1),r.setMarkerChange(),r.updateComment(Ne)}async function me(Ne){Ne.rating_cardinal&&(Ne.rating_excellent=!1),r.setMarkerChange(),r.updateComment(Ne)}async function oe(Ne){r.selectedKey!==Ne.key&&r.selectComment(Ne.key)}async function Ce(){if(event.altKey)switch(event.key){case"Enter":event.preventDefault(),h.showEssay(),await ys(),r.setCaretRequest();break;case"Delete":event.preventDefault(),r.deleteComment(r.selectedKey);break}else switch(event.key){case"F1":event.preventDefault(),dt();break}}async function Ue(){switch(Ce(),event.key){case"Enter":event.preventDefault(),h.focusMarkingCommentPoints();break}}async function et(){h.focusTarget=="MarkingCommentPointsSum"&&(await ys(),A.key==r.selectedKey&&document.getElementById("pointsInput"+A.key).focus())}Fn(()=>h.focusChange,et);function dt(){const Ne=M.value;x.openSelection(Ru.FOR_COMMENT,r.selectedKey,Ne.value.substring(Ne.selectionStart,Ne.selectionEnd))}async function Me(){if(!x.selection_open&&x.open_for_purpose==Ru.FOR_COMMENT&&x.open_for_key==A.key){const Ne=M.value;if(await ys(),Ne.focus(),x.insert_text){const I=x.insert_text;x.insert_text="";const st=Ne.selectionStart,it=Ne.selectionEnd;A.comment=A.comment.slice(0,st)+I+A.comment.slice(it),await ys(),Ne.setSelectionRange(st,st+I.length)}}}return Fn(()=>x.selection_open,Me),(Ne,I)=>(Jt(),Go(LE,{id:"appCommentContainer"+ne(A).key,key:ne(A).key,class:"commentContainer"},{default:xt(()=>[ce(O1,{dense:"",onClick:I[14]||(I[14]=st=>oe(ne(A)))},{default:xt(()=>[ce(xc,{cols:"2"},{default:xt(()=>[ce(Gn,{size:"small",icon:ne(A).getMarkIcon()},null,8,["icon"]),I[15]||(I[15]=Cs("  ")),ie("button",{tabindex:"0",class:xo("v-btn commentLabel "+(ne(A).key==ne(r).selectedKey?"selected":""))},He(ne(A).label),3)]),_:1,__:[15]}),ce(xc,{cols:"9"},{default:xt(()=>[ce(LE,null,{default:xt(()=>[Zn(ce(O1,{dense:""},{default:xt(()=>[ce(xc,{cols:"12"},{default:xt(()=>[ce(Fne,{class:"commentInput","bg-color":W(ne(A)),rounded:"0",density:"compact",variant:"solo",ref_key:"textRef",ref:M,id:"app-comment-"+ne(A).key,label:Ne.$t("markingCommentsCommentForLabel",[ne(A).label]),rows:"1","auto-grow":"",readonly:ne(i).isOwnDisabled||ne(A).correction_key!=ne(Ee).corrections().ownKey,onChange:I[0]||(I[0]=st=>ne(r).updateComment(ne(A))),onKeyup:I[1]||(I[1]=st=>ne(r).updateComment(ne(A))),onKeydown:I[2]||(I[2]=st=>Ce()),modelValue:ne(A).comment,"onUpdate:modelValue":I[3]||(I[3]=st=>ne(A).comment=st)},null,8,["bg-color","id","label","readonly","modelValue"])]),_:1})]),_:1},512),[[Co,G(ne(A))]]),Zn(ce(O1,{dense:""},{default:xt(()=>[ce(xc,{cols:"3"},{default:xt(()=>[ce(Io,{class:"snippetsButton",density:"compact",variant:"plain","prepend-icon":"mdi-plus",tabindex:G(ne(A))?0:-1,onKeydown:I[4]||(I[4]=st=>Ce()),onClick:dt},{default:xt(()=>[ie("span",c_e,He(Ne.$t("markingOpenSnippets")),1)]),_:1},8,["tabindex"])]),_:1}),ce(xc,{cols:"3"},{default:xt(()=>[ne(Ee).settings().Task.enable_partial_points?(Jt(),mo("span",{key:0,tabindex:"0",class:"pointsSum",id:"pointsInput"+ne(A).key,onKeydown:I[5]||(I[5]=st=>Ue())},He(Ne.$t("markingCommentSum"))+" "+He(ge(ne(A)))+" "+He(he(ne(A))),41,u_e)):Jn("",!0)]),_:1}),ce(xc,{cols:"3"},{default:xt(()=>[ne(Ee).settings().Task.enable_comment_ratings?Zn((Jt(),mo("span",d_e,[Zn(ie("input",{type:"checkbox",class:"ratingInput","onUpdate:modelValue":I[6]||(I[6]=st=>ne(A).rating_excellent=st),id:"ratingExcellent"+ne(A).key,disabled:ne(i).isOwnDisabled||ne(A).correction_key!=ne(Ee).corrections().ownKey,onChange:I[7]||(I[7]=st=>j(ne(A))),onKeydown:I[8]||(I[8]=st=>Ce())},null,40,f_e),[[zU,ne(A).rating_excellent]]),ie("label",{for:"ratingExcellent"+ne(A).key},""+He(ne(u).Task.positive_rating),9,m_e)],512)),[[Co,ne(A).rating_excellent||ne(A).key==ne(r).selectedKey]]):Jn("",!0)]),_:1}),ce(xc,{cols:"3"},{default:xt(()=>[ne(Ee).settings().Task.enable_comment_ratings?Zn((Jt(),mo("span",g_e,[Zn(ie("input",{type:"checkbox",class:"ratingInput","onUpdate:modelValue":I[9]||(I[9]=st=>ne(A).rating_cardinal=st),id:"ratingCardinal"+ne(A).key,disabled:ne(i).isOwnDisabled||ne(A).correction_key!=ne(Ee).corrections().ownKey,onChange:I[10]||(I[10]=st=>me(ne(A))),onKeydown:I[11]||(I[11]=st=>Ce())},null,40,h_e),[[zU,ne(A).rating_cardinal]]),ie("label",{for:"ratingCardinal"+ne(A).key},""+He(ne(u).Task.negative_rating),9,p_e)],512)),[[Co,ne(A).rating_cardinal||ne(A).key==ne(r).selectedKey]]):Jn("",!0)]),_:1})]),_:1},512),[[Co,G(ne(A))]]),ce(O1,{dense:""},{default:xt(()=>[Zn(ce(xc,{cols:"12"},{default:xt(()=>[Zn(ie("div",{class:"commentDisplay",style:Qs("background-color: "+W(ne(A))+";")},He(ne(A).comment),5),[[Co,ne(A).comment]])]),_:1},512),[[Co,!G(ne(A))]])]),_:1}),Zn(ce(O1,{dense:"",class:"detailsDisplay"},{default:xt(()=>[ce(xc,{cols:"3"}),ce(xc,{cols:"3"},{default:xt(()=>[Zn(ie("span",null,[ie("span",b_e,He(Ne.$t("markingCommentSum"))+" "+He(ge(ne(A)))+" "+He(he(ne(A))),1)],512),[[Co,ge(ne(A))>0]])]),_:1}),ce(xc,{cols:"3"},{default:xt(()=>[Zn(ie("span",null,[ce(Gn,{icon:"mdi-checkbox-outline"}),Cs(" "+He(ne(u).Task.positive_rating),1)],512),[[Co,ne(A).rating_excellent]])]),_:1}),ce(xc,{cols:"3"},{default:xt(()=>[Zn(ie("span",null,[ce(Gn,{icon:"mdi-checkbox-outline"}),Cs(" "+He(ne(u).Task.negative_rating),1)],512),[[Co,ne(A).rating_cardinal]])]),_:1})]),_:1},512),[[Co,!G(ne(A))&&re(ne(A))]])]),_:1})]),_:1}),ce(xc,{cols:"1",class:"trashColumn"},{default:xt(()=>[Zn(ce(Io,{class:"trashButton",density:"compact",size:"small",variant:"text","prepend-icon":"mdi-delete-outline",tabindex:G(ne(A))?0:-1,onKeydown:I[12]||(I[12]=st=>Ce()),onClick:I[13]||(I[13]=st=>{ne(r).deleteComment(ne(A).key)})},{default:xt(()=>[ie("span",v_e,He(Ne.$t("markingCommentsDelete")),1)]),_:1},8,["tabindex"]),[[Co,te(ne(A))]])]),_:1})]),_:1})]),_:1},8,["id"]))}},x_e=Ta(y_e,[["__scopeId","data-v-d294f1c3"]]),w_e={id:"appMarkingComments"},C_e={__name:"MarkingComments",setup(t){const r=Ee.comments();async function i(){await ys();let m=document.getElementById("appCommentContainer"+r.selectedKey);if(m){let h=m.querySelector("textarea");h&&h.focus()}}Fn(()=>r.selectionChange,i);async function u(){await ys();let m=document.getElementById("appCommentContainer"+r.firstVisibleKey);m&&m.scrollIntoView()}return Fn(()=>r.firstVisibleKey,u),(m,h)=>(Jt(),mo("div",w_e,[(Jt(!0),mo(ms,null,L1(ne(r).activeComments,x=>(Jt(),Go(x_e,{key:x.key,comment:x},null,8,["comment"]))),128))]))}},S_e={key:0,class:"info"},__e={class:"col-left"},k_e={class:"col-mid text-right"},E_e={class:"col-right text-right"},T_e={class:"col-left"},A_e={class:"col-mid text-right"},O_e=["disabled","max"],R_e={class:"col-left"},I_e=["for"],D_e={class:"col-mid text-right"},P_e=["onUpdate:modelValue","id","disabled","max","onChange"],N_e={__name:"MarkingCommentPoints",setup(t){const r=Ee.criteria(),i=Ee.comments(),u=Ee.points();Ee.api();const m=Ee.settings(),h=Ee.summaries(),x=Ee.layout();let w=Ln(""),R=Ln(""),P=Ln({});async function A(){const G=i.getComment(i.selectedKey);w.value=G?G.key:"",R.value=G?G.correction_key:Ee.corrections().ownKey,P.value={};for(const re of r.getCorrectionCommentCriteria(R.value)){const W=u.getObjectByData(R.value,w.value,re.key);P.value[re.key]=(W==null?void 0:W.points)??0}const te=u.getObjectByData(R.value,w.value,"");P.value[""]=(te==null?void 0:te.points)??0}A(),Fn(()=>i.selectionChange,A);function M(G){u.setValueByCommentOrCriterion(i.selectedKey,G,P.value[G])}async function H(){x.focusTarget=="MarkingCommentPoints"&&(await ys(),document.getElementById("appMarkingCommentPointsStart").focus())}Fn(()=>x.focusChange,H);async function K(G){switch(G.key){case"Escape":G.preventDefault(),x.focusMarkingCommentPointsSum();break}}return(G,te)=>(Jt(),mo("div",null,[ne(w)==""?(Jt(),mo("p",S_e,He(G.$t("markingCommentPointsPleaseSelect")),1)):Jn("",!0),ne(w)!=""?(Jt(),Go(ab,{key:1,density:"compact"},{default:xt(()=>[ie("thead",null,[ie("tr",null,[ie("th",__e,[ie("span",{id:"appMarkingCommentPointsStart",tabindex:"0",onKeydown:K},He(G.$t("markingCommentPointsCriterion")),33)]),ie("th",k_e,He(G.$t("allPoints",0)),1),ie("th",E_e,He(G.$t("markingCommentPointsSumOfMax")),1)])]),ie("tbody",null,[ie("tr",null,[ie("td",T_e,[ie("label",{tabindex:"0",onKeydown:K,for:"app-points-input-without"},He(G.$t("markingCommentPointsWithoutCriterion")),33)]),ie("td",A_e,[Zn(ie("input",{class:"appPoints",type:"number","onUpdate:modelValue":te[0]||(te[0]=re=>ne(P)[""]=re),id:"pp-points-input-without",disabled:ne(h).isOwnDisabled||ne(w)==""||ne(R)!=ne(Ee).corrections().ownKey,max:ne(m).Assessment.max_points,onChange:te[1]||(te[1]=re=>M("")),onKeydown:K},null,40,O_e),[[AE,ne(P)[""]]])]),ie("td",{class:xo("col-right text-right "+(ne(u).getPointsOfCriterionExceeded(null,ne(R))?"red":""))},He(ne(u).getSumOfPointsForCorrection(ne(R),!0,!1))+" / "+He(ne(m).Assessment.max_points),3)]),(Jt(!0),mo(ms,null,L1(ne(r).getCorrectionCommentCriteria(ne(R)),re=>(Jt(),mo("tr",{key:re.key},[ie("td",R_e,[ie("label",{tabindex:"0",onKeydown:K,for:"app-points-input-"+re.key},He(re.title),41,I_e)]),ie("td",D_e,[Zn(ie("input",{class:"appPoints",type:"number","onUpdate:modelValue":W=>ne(P)[re.key]=W,id:"app-points-input-"+re.key,disabled:ne(h).isOwnDisabled||ne(w)==""||ne(R)!=ne(Ee).corrections().ownKey,max:re.points,onChange:W=>M(re.key),onKeydown:K},null,40,P_e),[[AE,ne(P)[re.key]]])]),ie("td",{class:xo("col-right text-right "+(ne(u).getPointsOfCriterionExceeded(re,ne(R))?"red":""))},He(ne(u).getSumOfPointsForCriterion(re,ne(R)))+" / "+He(re.points),3)]))),128))])]),_:1})):Jn("",!0)]))}},M_e=Ta(N_e,[["__scopeId","data-v-d8ab7885"]]),L_e={class:"col-left"},B_e={class:"col-mid text-right"},F_e={class:"col-right text-right"},$_e={class:"col-left"},V_e=["for"],z_e={class:"col-mid text-right"},H_e=["onUpdate:modelValue","id","disabled","max","onChange"],U_e={class:"col-right text-right"},W_e={__name:"MarkingGeneralPoints",setup(t){const r=Ee.criteria();Ee.comments();const i=Ee.points();Ee.api(),Ee.settings();const u=Ee.summaries(),m=Ee.layout();let h=Ln(""),x=Ln({});async function w(){h.value=Ee.corrections().ownKey,x.value={};for(const M of r.getCorrectionGeneralCriteria(h.value)){const H=i.getObjectByData(h.value,"",M.key);x.value[M.key]=H?H.points:0}}w();function R(M){i.setValueByCommentOrCriterion("",M,x.value[M])}async function P(){m.focusTarget=="markingGeneralPoints"&&(await ys(),document.getElementById("appMarkingGeneralPointsStart").focus())}Fn(()=>m.focusChange,P);async function A(M){switch(M.key){case"Escape":M.preventDefault(),m.focusMarkingCommentPointsSum();break}}return(M,H)=>(Jt(),mo("div",null,[ce(ab,{density:"compact"},{default:xt(()=>[ie("thead",null,[ie("tr",null,[ie("th",L_e,[ie("span",{id:"appMarkingCommentPointsStart",tabindex:"0",onKeydown:A},He(M.$t("markingGeneralPointsCriterion")),33)]),ie("th",B_e,He(M.$t("allPoints",0)),1),ie("th",F_e,He(M.$t("markingGeneralPointsMax")),1)])]),ie("tbody",null,[(Jt(!0),mo(ms,null,L1(ne(r).getCorrectionGeneralCriteria(ne(h)),K=>(Jt(),mo("tr",{key:K.key},[ie("td",$_e,[ie("label",{tabindex:"0",onKeydown:A,for:"app-points-input-"+K.key},He(K.title),41,V_e)]),ie("td",z_e,[Zn(ie("input",{class:"appPoints",type:"number","onUpdate:modelValue":G=>ne(x)[K.key]=G,id:"app-points-input-"+K.key,disabled:ne(u).isOwnDisabled||ne(h)!=ne(Ee).corrections().ownKey,max:K.points,onChange:G=>R(K.key),onKeydown:A},null,40,H_e),[[AE,ne(x)[K.key]]])]),ie("td",U_e,He(K.points),1)]))),128))])]),_:1})]))}},K_e=Ta(W_e,[["__scopeId","data-v-f5c5c1de"]]),j_e={id:"app-marking-wrapper"},Z_e={class:"headline"},G_e={class:"headline"},q_e={class:"headline"},Y_e={class:"headline"},X_e={class:"headline"},J_e={key:5},Q_e={__name:"Marking",setup(t){Ee.api();const r=Ee.layout(),i=Ee.items(),u=Ee.comments(),m=Ee.criteria(),h=Ee.summaries(),x=Ee.settings();function w(){return x.Task.enable_comments&&r.showMarkingComments&&(i.canAct||h.isOneAuthorized)}function R(){return x.Task.enable_partial_points&&r.showMarkingGeneralPoints&&m.hasOwnGeneralCriteria&&(i.canAct||h.isOneAuthorized)}function P(){return x.Task.enable_partial_points&&r.showMarkingCommentPoints&&(i.canAct||h.isOneAuthorized)}function A(){return r.showMarkingText&&(i.canAct||h.isOneAuthorized)}function M(){switch((w()?1:0)+(R()?1:0)+(P()?1:0)+(A()?1:0)){case 0:return"hidden";case 1:return"full";case 2:return"half";case 3:return"third";case 4:return"quart"}}return(H,K)=>(Jt(),mo("div",j_e,[w()?(Jt(),mo("div",{key:0,class:xo(M())},[ie("h2",Z_e,He(H.$t("allComments")),1),ce(C_e,{class:"content"})],2)):Jn("",!0),P()?(Jt(),mo("div",{key:1,class:xo(M())},[ie("h2",G_e,[Cs(He(H.$t("allPartialPointsLong")),1),Zn(ie("span",{class:"commentLabel"},He(ne(u).selectedLabel),513),[[Co,ne(u).selectedKey!=""]])]),ce(M_e,{class:"content"})],2)):Jn("",!0),R()?(Jt(),mo("div",{key:2,class:xo(M())},[ie("h2",q_e,He(H.$t("allGeneralPointsLong")),1),ce(K_e,{class:"content"})],2)):Jn("",!0),A()&&!ne(Ee).summaries().isOwnDisabled?(Jt(),mo("div",{key:3,class:xo(M())},[ce(LE,{class:"ma-0 pa-0"},{default:xt(()=>[ce(O1,{class:"section-header ma-0"},{default:xt(()=>[ce(xc,{cols:"6",class:"ma-0 pa-0"},{default:xt(()=>[ie("h2",Y_e,He(H.$t("allOwnSummary")),1)]),_:1}),ce(xc,{cols:"6",class:"ma-0 pa-0 text-right"},{default:xt(()=>[ne(h).isOwnDisabled?Jn("",!0):(Jt(),Go(Nne,{key:0})),ne(h).isOwnDisabled?Jn("",!0):(Jt(),Go(Bne,{key:1}))]),_:1})]),_:1})]),_:1}),ne(h).editSummary.pdf?Jn("",!0):(Jt(),Go(Pne,{key:0,class:"content",editorId:"marking"})),ne(h).editSummary.pdf?(Jt(),Go(DF,{key:1,class:"content",correction_key:ne(h).editSummary.correction_key},null,8,["correction_key"])):Jn("",!0)],2)):Jn("",!0),A()&&ne(Ee).summaries().isOwnDisabled?(Jt(),mo("div",{key:4,class:xo(M())},[ie("h2",X_e,He(H.$t("allSummary")),1),ne(h).editSummary.pdf?Jn("",!0):(Jt(),Go(Ane,{key:0,class:"content",correction_key:ne(h).editSummary.correction_key},null,8,["correction_key"])),ne(h).editSummary.pdf?(Jt(),Go(DF,{key:1,class:"content",correction_key:ne(h).editSummary.correction_key},null,8,["correction_key"])):Jn("",!0)],2)):Jn("",!0),!ne(i).canAct&&!ne(h).isOneAuthorized?(Jt(),mo("div",J_e,He(H.$t("allEssayNoCorrectionAuthorized")),1)):Jn("",!0)]))}},eke=Ta(Q_e,[["__scopeId","data-v-e6230e54"]]),tke={id:"app-snippets"},nke={__name:"Snippets",setup(t){const{t:r}=Pu.global,i=Ee.snippets(),u=Ln(),m=Ln();let h=[];function x(){switch(h=[],i.open_for_purpose){case Ru.FOR_COMMENT:for(const re of i.forComment)h.push(re);break;case Ru.FOR_SUMMARY:for(const re of i.forSummary)h.push(re);break}h.push(new Ru({key:"new",text:r("snippetsNewSnippet"),purpose:i.open_for_purpose}))}function w(){i.edit=new Ru({text:"",purpose:i.open_for_purpose})}async function R(){i.selection_open&&(x(),w(),await ys(),u.value.focus(),await ys(),u.value.search=i.open_text)}Fn(()=>i.selection_open,R);async function P(){const re=u.value.search?u.value.search:"";if(i.select=="new")i.edit=new Ru({text:re,purpose:i.open_for_purpose}),i.edit.text&&(await i.createSnippet(i.edit),x());else{const W=h.find(ge=>ge.key===i.select);W&&W.key!==i.edit.key&&(i.edit=W)}i.select=null,await ys(),m.value.focus()}async function A(){i.has(i.edit.key)?i.updateSnippet(i.edit):i.edit.text&&(await i.createSnippet(i.edit),x())}function M(){i.selection_open=!1}function H(){i.selection_open=!1,i.insert_text=i.edit.text}async function K(){i.deleteSnippet(i.edit.key),i.select=null,x(),w(),await ys(),u.value.focus()}async function G(){switch(event.key){case"F1":event.preventDefault(),H();break}}function te(re,W,ge){const he=ge.raw.text.toLowerCase(),j=W.toLowerCase();return ge.raw.key==="new"||he.indexOf(j)>-1}return(re,W)=>(Jt(),mo("div",tke,[ce(Ng,{"max-width":"60em",modelValue:ne(i).selection_open,"onUpdate:modelValue":W[10]||(W[10]=ge=>ne(i).selection_open=ge)},{default:xt(()=>[ce(Pg,null,{default:xt(()=>[ce(D1,null,{default:xt(()=>[Cs(He(re.$t("snippetsSnippet")),1)]),_:1}),ce(Mm,null,{default:xt(()=>[Cs(He(re.$t("snippetsSelect"))+" ",1),ce(SK,{ref_key:"appSelect",ref:u,id:"appSnippetSelect",modelValue:ne(i).select,"onUpdate:modelValue":[W[0]||(W[0]=ge=>ne(i).select=ge),W[1]||(W[1]=ge=>P())],"custom-filter":te,items:ne(h),onKeydown:W[2]||(W[2]=ge=>G()),"base-color":"white","item-title":"text","item-value":"key"},null,8,["modelValue","items"]),Cs(" "+He(re.$t("snippetsEdit"))+" ",1),ce(Fne,{ref_key:"appEdit",ref:m,modelValue:ne(i).edit.text,"onUpdate:modelValue":W[3]||(W[3]=ge=>ne(i).edit.text=ge),onChange:W[4]||(W[4]=ge=>A()),onKeyup:W[5]||(W[5]=ge=>A()),onKeydown:W[6]||(W[6]=ge=>G())},null,8,["modelValue"])]),_:1}),ce(Nm,null,{default:xt(()=>[ce(Io,{disabled:ne(i).edit.text=="",onClick:W[7]||(W[7]=ge=>H())},{default:xt(()=>[ce(Gn,{left:"",icon:"mdi-ok"}),ie("span",null,He(re.$t("allApply")),1)]),_:1},8,["disabled"]),ce(Io,{disabled:!ne(i).has(ne(i).edit.key),onClick:W[8]||(W[8]=ge=>K())},{default:xt(()=>[ce(Gn,{left:"",icon:"mdi-ok"}),ie("span",null,He(re.$t("allDelete")),1)]),_:1},8,["disabled"]),ce(EK),ce(Io,{onClick:W[9]||(W[9]=ge=>M())},{default:xt(()=>[ce(Gn,{left:"",icon:"mdi-close"}),ie("span",null,He(re.$t("allClose")),1)]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]))}},oke=qn({scrollable:Boolean,...or(),...bb(),...Wa({tag:"main"})},"VMain"),$ne=ts()({name:"VMain",props:oke(),setup(t,r){let{slots:i}=r;const{dimensionStyles:u}=vb(t),{mainStyles:m}=tpe(),{ssrBootStyles:h}=f8();return $s(()=>ce(t.tag,{class:xo(["v-main",{"v-main--scrollable":t.scrollable},t.class]),style:Qs([m.value,h.value,u.value,t.style])},{default:()=>{var x,w;return[t.scrollable?ie("div",{class:"v-main__scroller"},[(x=i.default)==null?void 0:x.call(i)]):(w=i.default)==null?void 0:w.call(i)]}})),{}}}),ske={id:"app-main-container"},rke={class:"col-header"},ike={id:"appHeadLeft",tabindex:"0",class:"headline"},ake={class:"sr-only"},lke={"aria-hidden":"true"},cke={id:"app-expand-left-column",class:"sr-only"},uke={class:"col-content"},dke={class:"col-header"},fke={id:"appHeadRight",tabindex:"0",class:"headline"},mke={class:"sr-only"},gke={class:"sr-only"},hke={class:"sr-only"},pke={class:"sr-only"},bke={class:"sr-only"},vke={class:"sr-only"},yke={class:"sr-only"},xke={class:"sr-only"},wke={class:"sr-only"},Cke={"aria-hidden":"true"},Ske={id:"app-expand-right-column",class:"sr-only"},_ke={class:"col-content"},kke={__name:"MainContent",setup(t){const r=Ee.api(),i=Ee.layout(),u=Ee.items(),m=Ee.resources(),h=Ee.comments(),x=Ee.criteria(),w=Ee.pages(),R=Ee.settings();async function P(){i.focusTarget=="appHeadLeft"&&(await ys(),document.getElementById("appHeadLeft").focus()),i.focusTarget=="appHeadRight"&&(await ys(),document.getElementById("appHeadRight").focus())}return Fn(()=>i.focusChange,P),document.addEventListener("keydown",i.handleKeyDown),(A,M)=>(Jt(),mo(ms,null,[ce($ne,{"fill-height":""},{default:xt(()=>{var H;return[ie("div",ske,[Zn(ie("section",{class:xo(["column",{colExpanded:ne(i).isLeftExpanded,colNormal:!ne(i).isLeftExpanded}])},[ie("div",rke,[ie("h1",ike,He(ne(i).isInstructionsVisible?A.$t("allInstructions"):ne(i).isInstructionsPdfVisible?A.$t("allInstructionsPdf"):ne(i).isSolutionVisible?A.$t("allSolution"):ne(i).isSolutionPdfVisible?A.$t("allSolutionPdf"):ne(i).isEssayVisible?A.$t("allEssay"):ne(i).isResourcesVisible?(H=ne(m).activeResource)==null?void 0:H.title:ne(i).isLeftCorrectionVisible?ne(i).leftCorrectionTitle:A.$t("mainContentLeftColumn")),1),ce(I1,{density:"comfortable"},{default:xt(()=>{var K;return[ne(R).hasSummaryOverview?Zn((Jt(),Go(Io,{key:0,size:"small",onClick:M[0]||(M[0]=G=>ne(i).toggleLeftSummaryCriteria())},{default:xt(()=>[Zn(ce(Gn,{icon:"mdi-checkbox-outline"},null,512),[[Co,ne(i).showLeftSummaryCriteria]]),Zn(ce(Gn,{icon:"mdi-checkbox-blank-outline"},null,512),[[Co,!ne(i).showLeftSummaryCriteria]]),ie("span",null,He(A.$t("allOverview")),1)]),_:1},512)),[[Co,ne(i).isLeftCorrectionVisible]]):Jn("",!0),Zn(ce(Io,{size:"small",onClick:M[1]||(M[1]=G=>ne(i).toggleLeftSummaryText())},{default:xt(()=>[Zn(ce(Gn,{icon:"mdi-checkbox-outline"},null,512),[[Co,ne(i).showLeftSummaryText]]),Zn(ce(Gn,{icon:"mdi-checkbox-blank-outline"},null,512),[[Co,!ne(i).showLeftSummaryText]]),ie("span",null,He(A.$t("allSummary")),1)]),_:1},512),[[Co,ne(i).isLeftCorrectionVisible]]),(K=ne(Ee).summaries().getForCorrection(ne(i).leftCorrectionKey))!=null&&K.isRevised()?Zn((Jt(),Go(Io,{key:1,size:"small",onClick:M[2]||(M[2]=G=>ne(i).toggleLeftSummaryRevision())},{default:xt(()=>[Zn(ce(Gn,{icon:"mdi-checkbox-outline"},null,512),[[Co,ne(i).showLeftSummaryRevision]]),Zn(ce(Gn,{icon:"mdi-checkbox-blank-outline"},null,512),[[Co,!ne(i).showLeftSummaryRevision]]),ie("span",null,He(ne(R).procedureText),1),ie("span",ake,He(A.$t("allShow")+(ne(i).showLeftSummaryRevision?A.$t("allIsSelected"):"")),1)]),_:1},512)),[[Co,ne(i).isLeftCorrectionVisible]]):Jn("",!0),Zn(ce(Io,{size:"small",onClick:M[3]||(M[3]=G=>ne(i).setLeftExpanded(!1))},{default:xt(()=>[ce(Gn,{icon:"mdi-chevron-left"}),ie("span",null,He(ne(i).isMarkingSelected?A.$t("allCorrection"):ne(i).isSummarySelected?A.$t("allSummary"):ne(i).isRightCorrectionSelected?ne(i).rightCorrectionTitle:A.$t("mainContentExpandRightColumn")),1)]),_:1},512),[[Co,ne(i).isLeftExpanded]]),Zn(ce(Io,{size:"small",onClick:M[4]||(M[4]=G=>ne(i).setLeftExpanded(!0))},{default:xt(()=>[ie("span",lke,He(A.$t("mainContentExpand")),1),ie("span",cke,He(A.$t("mainContentExpandLeftColumn")),1),ce(Gn,{icon:"mdi-chevron-right"})]),_:1},512),[[Co,!ne(i).isLeftExpanded]])]}),_:1})]),ie("div",uke,[ne(i).isInstructionsVisible?(Jt(),Go(rwe,{key:0})):Jn("",!0),ne(i).isInstructionsPdfVisible?(Jt(),Go(lwe,{key:1})):Jn("",!0),ne(i).isSolutionVisible?(Jt(),Go(dwe,{key:2})):Jn("",!0),ne(i).isSolutionPdfVisible?(Jt(),Go(gwe,{key:3})):Jn("",!0),ne(i).isEssayVisible&&!ne(w).hasPages?(Jt(),Go(Ewe,{key:4})):Jn("",!0),ne(i).isEssayVisible&&ne(w).hasPages?(Jt(),Go(V2e,{key:5})):Jn("",!0),ne(i).isResourcesVisible?(Jt(),Go(wwe,{key:6})):Jn("",!0),ne(i).isLeftCorrectionVisible?(Jt(),Go(TU,{key:7,correction_key:ne(i).leftCorrectionKey,showCriteria:ne(i).showLeftSummaryCriteria,showText:ne(i).showLeftSummaryText,showRevision:ne(i).showLeftSummaryRevision},null,8,["correction_key","showCriteria","showText","showRevision"])):Jn("",!0)])],2),[[Co,ne(i).isLeftVisible]]),Zn(ie("section",{class:xo(["column",{colExpanded:ne(i).isRightExpanded,colNormal:!ne(i).isRightExpanded}])},[ie("div",dke,[ie("h1",fke,He(ne(i).isMarkingVisible?A.$t("allCorrection"):ne(i).isSummaryVisible?A.$t("allOwnSummaryAndRating"):ne(i).isRightCorrectionVisible?ne(i).rightCorrectionTitle:A.$t("mainContentRightColumn")),1),ce(I1,{density:"comfortable"},{default:xt(()=>[ne(R).Task.enable_comments&&ne(i).isMarkingVisible?(Jt(),Go(Io,{key:0,size:"small",variant:"plain",onClick:M[5]||(M[5]=K=>ne(h).setShowOtherCorrections(!ne(h).isOtherCorrectionsShown))},{default:xt(()=>[ce(Gn,{icon:ne(h).isOtherCorrectionsShown?"mdi-account-school":"mdi-account-school-outline"},null,8,["icon"]),ie("span",mke,He(A.$t("mainContentShowOtherCorrections")+(ne(h).isOtherCorrectionsShown?A.$t("allIsSelected"):"")),1)]),_:1})):Jn("",!0),ne(R).hasSummaryOverview&&ne(i).isMarkingVisible?(Jt(),Go(Io,{key:1,size:"small",variant:"plain",disabled:!ne(h).isFilterActive,onClick:M[6]||(M[6]=K=>ne(h).resetFilter())},{default:xt(()=>[ce(Gn,{icon:ne(h).isFilterActive?"mdi-filter":"mdi-filter-outline"},null,8,["icon"]),ie("span",gke,He("Filter aktiv"+(ne(h).isFilterActive?A.$t("allIsSelected"):"")),1)]),_:1},8,["disabled"])):Jn("",!0),ne(R).Task.enable_comments&&ne(u).canAct?Zn((Jt(),Go(Io,{key:2,size:"small",onClick:M[7]||(M[7]=K=>ne(i).toggleMarkingComments())},{default:xt(()=>[Zn(ce(Gn,{icon:"mdi-checkbox-outline"},null,512),[[Co,ne(i).showMarkingComments]]),Zn(ce(Gn,{icon:"mdi-checkbox-blank-outline"},null,512),[[Co,!ne(i).showMarkingComments]]),ie("span",null,He(A.$t("allComments")),1),ie("span",hke,He(A.$t("allShow")+(ne(i).showMarkingComments?A.$t("allIsSelected"):"")),1)]),_:1},512)),[[Co,ne(i).isMarkingVisible]]):Jn("",!0),ne(R).Task.enable_partial_points&&ne(u).canAct&&ne(R).Task.enable_partial_points?Zn((Jt(),Go(Io,{key:3,size:"small",onClick:M[8]||(M[8]=K=>ne(i).toggleMarkingCommentPoints())},{default:xt(()=>[Zn(ce(Gn,{icon:"mdi-checkbox-outline"},null,512),[[Co,ne(i).showMarkingCommentPoints]]),Zn(ce(Gn,{icon:"mdi-checkbox-blank-outline"},null,512),[[Co,!ne(i).showMarkingCommentPoints]]),ie("span",null,He(A.$t("allPartialPoints")),1),ie("span",pke,He(A.$t("allShow")+(ne(i).showMarkingCommentPoints?A.$t("allIsSelected"):"")),1)]),_:1},512)),[[Co,ne(i).isMarkingVisible]]):Jn("",!0),ne(R).Task.enable_partial_points&&ne(x).hasOwnGeneralCriteria?Zn((Jt(),Go(Io,{key:4,size:"small",onClick:M[9]||(M[9]=K=>ne(i).toggleMarkingGeneralPoints())},{default:xt(()=>[Zn(ce(Gn,{icon:"mdi-checkbox-outline"},null,512),[[Co,ne(i).showMarkingGeneralPoints]]),Zn(ce(Gn,{icon:"mdi-checkbox-blank-outline"},null,512),[[Co,!ne(i).showMarkingGeneralPoints]]),ie("span",null,He(A.$t("allGeneralPoints")),1),ie("span",bke,He(A.$t("allShow")+(ne(i).showMarkingGeneralPoints?A.$t("allIsSelected"):"")),1)]),_:1},512)),[[Co,ne(i).isMarkingVisible]]):Jn("",!0),ne(u).canAct?Zn((Jt(),Go(Io,{key:5,size:"small",onClick:M[10]||(M[10]=K=>ne(i).toggleMarkingText())},{default:xt(()=>[Zn(ce(Gn,{icon:"mdi-checkbox-outline"},null,512),[[Co,ne(i).showMarkingText]]),Zn(ce(Gn,{icon:"mdi-checkbox-blank-outline"},null,512),[[Co,!ne(i).showMarkingText]]),ie("span",null,He(A.$t("allSummary")),1),ie("span",vke,He(A.$t("allShow")+(ne(i).showMarkingText?A.$t("allIsSelected"):"")),1)]),_:1},512)),[[Co,ne(i).isMarkingVisible]]):Jn("",!0),ne(R).hasSummaryOverview?Zn((Jt(),Go(Io,{key:6,size:"small",onClick:M[11]||(M[11]=K=>ne(i).toggleRightSummaryCriteria())},{default:xt(()=>[Zn(ce(Gn,{icon:"mdi-checkbox-outline"},null,512),[[Co,ne(i).showRightSummaryCriteria]]),Zn(ce(Gn,{icon:"mdi-checkbox-blank-outline"},null,512),[[Co,!ne(i).showRightSummaryCriteria]]),ie("span",null,He(A.$t("allOverview")),1),ie("span",yke,He(A.$t("allShow")+(ne(i).showRightSummaryCriteria?A.$t("allIsSelected"):"")),1)]),_:1},512)),[[Co,ne(i).isSummaryVisible||ne(i).isRightCorrectionVisible]]):Jn("",!0),Zn(ce(Io,{size:"small",onClick:M[12]||(M[12]=K=>ne(i).toggleRightSummaryText())},{default:xt(()=>[Zn(ce(Gn,{icon:"mdi-checkbox-outline"},null,512),[[Co,ne(i).showRightSummaryText]]),Zn(ce(Gn,{icon:"mdi-checkbox-blank-outline"},null,512),[[Co,!ne(i).showRightSummaryText]]),ie("span",null,He(A.$t("allSummary")),1),ie("span",xke,He(A.$t("allShow")+(ne(i).showRightSummaryText?A.$t("allIsSelected"):"")),1)]),_:1},512),[[Co,ne(i).isSummaryVisible||ne(i).isRightCorrectionVisible]]),ne(Ee).summaries().isOwnRevised||ne(Ee).items().canRevise?Zn((Jt(),Go(Io,{key:7,size:"small",onClick:M[13]||(M[13]=K=>ne(i).toggleRightSummaryRevision())},{default:xt(()=>[Zn(ce(Gn,{icon:"mdi-checkbox-outline"},null,512),[[Co,ne(i).showRightSummaryRevision]]),Zn(ce(Gn,{icon:"mdi-checkbox-blank-outline"},null,512),[[Co,!ne(i).showRightSummaryRevision]]),ie("span",null,He(ne(R).procedureText),1),ie("span",wke,He(A.$t("allShow")+(ne(i).showRightSummaryRevision?A.$t("allIsSelected"):"")),1)]),_:1},512)),[[Co,ne(i).isSummaryVisible||ne(i).isRightCorrectionVisible]]):Jn("",!0),Zn(ce(Io,{size:"small",onClick:M[14]||(M[14]=K=>ne(i).setRightExpanded(!1))},{default:xt(()=>{var K;return[ie("span",null,He(ne(i).isInstructionsSelected?A.$t("allInstructions"):ne(i).isEssaySelected?A.$t("allEssay"):ne(i).isResourcesSelected?(K=ne(m).activeResource)==null?void 0:K.title:ne(i).isLeftCorrectionSelected?ne(i).leftCorrectionTitle:A.$t("mainContentExpandLeftColumn")),1),ce(Gn,{icon:"mdi-chevron-right"})]}),_:1},512),[[Co,ne(i).isRightExpanded]]),Zn(ce(Io,{size:"small",onClick:M[15]||(M[15]=K=>ne(i).setRightExpanded(!0))},{default:xt(()=>[ce(Gn,{icon:"mdi-chevron-left"}),ie("span",Cke,He(A.$t("mainContentExpand")),1),ie("span",Ske,He(A.$t("mainContentExpandRightColumn")),1)]),_:1},512),[[Co,!ne(i).isRightExpanded]])]),_:1})]),ie("div",_ke,[ne(i).isSummaryVisible?(Jt(),Go(TU,{key:0,correction_key:ne(Ee).corrections().ownKey,showCriteria:ne(i).showRightSummaryCriteria,showText:ne(i).showRightSummaryText,showRevision:ne(i).showRightSummaryRevision},null,8,["correction_key","showCriteria","showText","showRevision"])):Jn("",!0),ne(i).isRightCorrectionVisible?(Jt(),Go(TU,{key:1,correction_key:ne(i).rightCorrectionKey,showCriteria:ne(i).showRightSummaryCriteria,showText:ne(i).showRightSummaryText,showRevision:ne(i).showRightSummaryRevision},null,8,["correction_key","showCriteria","showText","showRevision"])):Jn("",!0),ne(i).isMarkingVisible?(Jt(),Go(eke,{key:2})):Jn("",!0)])],2),[[Co,ne(i).isRightVisible]])])]}),_:1}),ce(Ng,{persistent:"",modelValue:ne(Ee).layout().showSendFailure,"onUpdate:modelValue":M[17]||(M[17]=H=>ne(Ee).layout().showSendFailure=H)},{default:xt(()=>[ce(Pg,null,{default:xt(()=>[ce(Mm,null,{default:xt(()=>[ie("p",null,He(A.$t("mainContentSendFailureLine1")),1),ie("p",null,He(A.$t("mainContentSendFailureLine2")),1),ie("p",null,He(A.$t("mainContentSendFailureLine3")),1)]),_:1}),ce(Nm,null,{default:xt(()=>[ce(Io,{onClick:M[16]||(M[16]=H=>{ne(Ee).layout().showSendFailure=!1})},{default:xt(()=>[ce(Gn,{left:"",icon:"mdi-close"}),ie("span",null,He(A.$t("allCloseMessage")),1)]),_:1}),ce(Io,{href:ne(r).returnUrl},{default:xt(()=>[ce(Gn,{left:"",icon:"mdi-logout-variant"}),ie("span",null,He(A.$t("mainContentStopCorrection")),1)]),_:1},8,["href"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),ce(nke)],64))}},Eke=Ta(kke,[["__scopeId","data-v-30be39f2"]]),Tke={__name:"StartupContent",setup(t){return(r,i)=>(Jt(),Go($ne,{"fill-height":""},{default:xt(()=>[ce(Wte,{elevation:"1",color:"white",density:"compact"},{default:xt(()=>[ie("p",null,He(r.$t("startupContentLoadData")),1),ce(EK),ce(Io,{href:ne(Ee).api().returnUrl},{default:xt(()=>[ce(Gn,{left:"",icon:"mdi-logout-variant"}),ie("span",null,He(r.$t("startupContentMyCorrections")),1)]),_:1},8,["href"])]),_:1}),ce(Ng,{persistent:"","max-width":"60em",modelValue:ne(Ee).layout().hasInitFailure,"onUpdate:modelValue":i[0]||(i[0]=u=>ne(Ee).layout().hasInitFailure=u)},{default:xt(()=>[ce(Pg,null,{default:xt(()=>[ce(D1,null,{default:xt(()=>[Cs(He(r.$t("startupContentLoadError")),1)]),_:1}),ce(Mm,null,{default:xt(()=>[ce(Ig,{type:"warning",variant:"text",color:"#0000A0"},{default:xt(()=>[Cs(He(ne(Ee).layout().initFailure),1)]),_:1})]),_:1}),ce(Nm,null,{default:xt(()=>[ce(Io,{href:ne(Ee).api().returnUrl},{default:xt(()=>[ce(Gn,{left:"",icon:"mdi-logout-variant"}),ie("span",null,He(r.$t("allEnd")),1)]),_:1},8,["href"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),ce(Ng,{persistent:"","max-width":"60em",modelValue:ne(Ee).layout().showItemLoadFailure,"onUpdate:modelValue":i[1]||(i[1]=u=>ne(Ee).layout().showItemLoadFailure=u)},{default:xt(()=>[ce(Pg,null,{default:xt(()=>[ce(Mm,null,{default:xt(()=>[ie("p",null,He(r.$t("startupContentLoadItemError")),1)]),_:1}),ce(Nm,null,{default:xt(()=>[ce(Io,{href:ne(Ee).api().returnUrl},{default:xt(()=>[ce(Gn,{left:"",icon:"mdi-logout-variant"}),ie("span",null,He(r.$t("allEnd")),1)]),_:1},8,["href"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),ce(Ng,{persistent:"","max-width":"60em",modelValue:ne(Ee).layout().showDataReplaceConfirmation,"onUpdate:modelValue":i[2]||(i[2]=u=>ne(Ee).layout().showDataReplaceConfirmation=u)},{default:xt(()=>[ce(Pg,null,{default:xt(()=>[ce(Mm,null,{default:xt(()=>[ie("p",null,He(r.$t("startupContentDataReplaceInfo1")),1),ie("p",null,[ie("strong",null,He(ne(Ee).tasks().currentTitle)+": "+He(ne(Ee).items().getItem(ne(Ee).api().storedItemKey,{key:0,title:"Unbekannt"}).title),1)]),ie("p",null,He(r.$t("startupContentDataReplaceInfo2")),1)]),_:1}),ce(Nm,null,{default:xt(()=>[ce(Io,{onClick:ne(Ee).api().initAfterReplaceDataConfirmed},{default:xt(()=>[ce(Gn,{left:"",icon:"mdi-reload"}),ie("span",null,He(r.$t("startupContentDeleteAndLoad")),1)]),_:1},8,["onClick"]),ce(Io,{href:ne(Ee).api().returnUrl},{default:xt(()=>[ce(Gn,{left:"",icon:"mdi-logout-variant"}),ie("span",null,He(r.$t("allCancel")),1)]),_:1},8,["href"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),ce(Ng,{persistent:"","max-width":"60em",modelValue:ne(Ee).layout().showItemReplaceConfirmation,"onUpdate:modelValue":i[3]||(i[3]=u=>ne(Ee).layout().showItemReplaceConfirmation=u)},{default:xt(()=>[ce(Pg,null,{default:xt(()=>[ce(Mm,null,{default:xt(()=>[ie("p",null,He(r.$t("startupContentItemReplaceInfo1")),1),ie("p",null,[ie("strong",null,He(ne(Ee).tasks().currentTitle)+": "+He(ne(Ee).items().getItem(ne(Ee).api().storedItemKey,{key:0,title:"Unbekannt"}).title),1)]),ie("p",null,He(r.$t("startupContentItemReplaceInfo2")),1)]),_:1}),ce(Nm,null,{default:xt(()=>[ce(Io,{onClick:ne(Ee).api().initAfterKeepDataConfirmed},{default:xt(()=>[ce(Gn,{left:"",icon:"mdi-pencil-outline"}),ie("span",null,He(r.$t("startupContentKeepLocalData")),1)]),_:1},8,["onClick"]),ce(Io,{onClick:ne(Ee).api().initAfterReplaceDataConfirmed},{default:xt(()=>[ce(Gn,{left:"",icon:"mdi-trash-can-outline"}),ie("span",null,He(r.$t("startupContentDeleteLocalData")),1)]),_:1},8,["onClick"]),ce(Io,{href:ne(Ee).api().returnUrl},{default:xt(()=>[ce(Gn,{left:"",icon:"mdi-logout-variant"}),ie("span",null,He(r.$t("allCancel")),1)]),_:1},8,["href"])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1}))}},Ake=qn({...or(),...epe({fullHeight:!0}),...sc()},"VApp"),Oke=ts()({name:"VApp",props:Ake(),setup(t,r){let{slots:i}=r;const u=nu(t),{layoutClasses:m,getLayoutItem:h,items:x,layoutRef:w}=ope(t),{rtlClasses:R}=ep();return $s(()=>{var P;return ie("div",{ref:w,class:xo(["v-application",u.themeClasses.value,m.value,R.value,t.class]),style:Qs([t.style])},[ie("div",{class:"v-application__wrap"},[(P=i.default)==null?void 0:P.call(i)])])}),{getLayoutItem:h,items:x,theme:u}}}),Rke={__name:"App",setup(t){return Ee.api().init(),(r,i)=>(Jt(),Go(Oke,{"fill-height":""},{default:xt(()=>[ne(Ee).layout().initialized?Jn("",!0):(Jt(),Go(Tke,{key:0})),ne(Ee).layout().initialized?(Jt(),Go(Wxe,{key:1})):Jn("",!0),ne(Ee).layout().initialized?(Jt(),Go(nwe,{key:2})):Jn("",!0),ne(Ee).layout().initialized?(Jt(),Go(Eke,{key:3})):Jn("",!0)]),_:1}))}},Vne=Jme(Rke);jbe(Vne);Vne.mount("#app");
