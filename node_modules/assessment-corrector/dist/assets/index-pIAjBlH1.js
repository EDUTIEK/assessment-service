var ide=Object.defineProperty;var ade=(t,r,i)=>r in t?ide(t,r,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[r]=i;var wt=(t,r,i)=>ade(t,typeof r!="symbol"?r+"":r,i);(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const g of document.querySelectorAll('link[rel="modulepreload"]'))u(g);new MutationObserver(g=>{for(const h of g)if(h.type==="childList")for(const x of h.addedNodes)x.tagName==="LINK"&&x.rel==="modulepreload"&&u(x)}).observe(document,{childList:!0,subtree:!0});function i(g){const h={};return g.integrity&&(h.integrity=g.integrity),g.referrerPolicy&&(h.referrerPolicy=g.referrerPolicy),g.crossOrigin==="use-credentials"?h.credentials="include":g.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function u(g){if(g.ep)return;g.ep=!0;const h=i(g);fetch(g.href,h)}})();/**
* @vue/shared v3.5.17
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function mW(t){const r=Object.create(null);for(const i of t.split(","))r[i]=1;return i=>i in r}const Hi={},hE=[],Mb=()=>{},lde=()=>!1,kF=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),gW=t=>t.startsWith("onUpdate:"),sc=Object.assign,hW=(t,r)=>{const i=t.indexOf(r);i>-1&&t.splice(i,1)},cde=Object.prototype.hasOwnProperty,gi=(t,r)=>cde.call(t,r),as=Array.isArray,pE=t=>rI(t)==="[object Map]",EF=t=>rI(t)==="[object Set]",RG=t=>rI(t)==="[object Date]",Is=t=>typeof t=="function",el=t=>typeof t=="string",Fb=t=>typeof t=="symbol",Ri=t=>t!==null&&typeof t=="object",AX=t=>(Ri(t)||Is(t))&&Is(t.then)&&Is(t.catch),TX=Object.prototype.toString,rI=t=>TX.call(t),ude=t=>rI(t).slice(8,-1),OX=t=>rI(t)==="[object Object]",pW=t=>el(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,vR=mW(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),AF=t=>{const r=Object.create(null);return i=>r[i]||(r[i]=t(i))},dde=/-(\w)/g,Ld=AF(t=>t.replace(dde,(r,i)=>i?i.toUpperCase():"")),fde=/\B([A-Z])/g,$C=AF(t=>t.replace(fde,"-$1").toLowerCase()),e1=AF(t=>t.charAt(0).toUpperCase()+t.slice(1)),E9=AF(t=>t?`on${e1(t)}`:""),mx=(t,r)=>!Object.is(t,r),I6=(t,...r)=>{for(let i=0;i<t.length;i++)t[i](...r)},wU=(t,r,i,u=!1)=>{Object.defineProperty(t,r,{configurable:!0,enumerable:!1,writable:u,value:i})},CU=t=>{const r=parseFloat(t);return isNaN(r)?t:r},mde=t=>{const r=el(t)?Number(t):NaN;return isNaN(r)?t:r};let IG;const TF=()=>IG||(IG=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Ls(t){if(as(t)){const r={};for(let i=0;i<t.length;i++){const u=t[i],g=el(u)?bde(u):Ls(u);if(g)for(const h in g)r[h]=g[h]}return r}else if(el(t)||Ri(t))return t}const gde=/;(?![^(]*\))/g,hde=/:([^]+)/,pde=/\/\*[^]*?\*\//g;function bde(t){const r={};return t.replace(pde,"").split(gde).forEach(i=>{if(i){const u=i.split(hde);u.length>1&&(r[u[0].trim()]=u[1].trim())}}),r}function ao(t){let r="";if(el(t))r=t;else if(as(t))for(let i=0;i<t.length;i++){const u=ao(t[i]);u&&(r+=u+" ")}else if(Ri(t))for(const i in t)t[i]&&(r+=i+" ");return r.trim()}const vde="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",yde=mW(vde);function RX(t){return!!t||t===""}function xde(t,r){if(t.length!==r.length)return!1;let i=!0;for(let u=0;i&&u<t.length;u++)i=OF(t[u],r[u]);return i}function OF(t,r){if(t===r)return!0;let i=RG(t),u=RG(r);if(i||u)return i&&u?t.getTime()===r.getTime():!1;if(i=Fb(t),u=Fb(r),i||u)return t===r;if(i=as(t),u=as(r),i||u)return i&&u?xde(t,r):!1;if(i=Ri(t),u=Ri(r),i||u){if(!i||!u)return!1;const g=Object.keys(t).length,h=Object.keys(r).length;if(g!==h)return!1;for(const x in t){const C=t.hasOwnProperty(x),D=r.hasOwnProperty(x);if(C&&!D||!C&&D||!OF(t[x],r[x]))return!1}}return String(t)===String(r)}function IX(t,r){return t.findIndex(i=>OF(i,r))}const DX=t=>!!(t&&t.__v_isRef===!0),We=t=>el(t)?t:t==null?"":as(t)||Ri(t)&&(t.toString===TX||!Is(t.toString))?DX(t)?We(t.value):JSON.stringify(t,PX,2):String(t),PX=(t,r)=>DX(r)?PX(t,r.value):pE(r)?{[`Map(${r.size})`]:[...r.entries()].reduce((i,[u,g],h)=>(i[A9(u,h)+" =>"]=g,i),{})}:EF(r)?{[`Set(${r.size})`]:[...r.values()].map(i=>A9(i))}:Fb(r)?A9(r):Ri(r)&&!as(r)&&!OX(r)?String(r):r,A9=(t,r="")=>{var i;return Fb(t)?`Symbol(${(i=t.description)!=null?i:r})`:t};/**
* @vue/reactivity v3.5.17
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Lu;class NX{constructor(r=!1){this.detached=r,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Lu,!r&&Lu&&(this.index=(Lu.scopes||(Lu.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let r,i;if(this.scopes)for(r=0,i=this.scopes.length;r<i;r++)this.scopes[r].pause();for(r=0,i=this.effects.length;r<i;r++)this.effects[r].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let r,i;if(this.scopes)for(r=0,i=this.scopes.length;r<i;r++)this.scopes[r].resume();for(r=0,i=this.effects.length;r<i;r++)this.effects[r].resume()}}run(r){if(this._active){const i=Lu;try{return Lu=this,r()}finally{Lu=i}}}on(){++this._on===1&&(this.prevScope=Lu,Lu=this)}off(){this._on>0&&--this._on===0&&(Lu=this.prevScope,this.prevScope=void 0)}stop(r){if(this._active){this._active=!1;let i,u;for(i=0,u=this.effects.length;i<u;i++)this.effects[i].stop();for(this.effects.length=0,i=0,u=this.cleanups.length;i<u;i++)this.cleanups[i]();if(this.cleanups.length=0,this.scopes){for(i=0,u=this.scopes.length;i<u;i++)this.scopes[i].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!r){const g=this.parent.scopes.pop();g&&g!==this&&(this.parent.scopes[this.index]=g,g.index=this.index)}this.parent=void 0}}}function px(t){return new NX(t)}function bW(){return Lu}function rc(t,r=!1){Lu&&Lu.cleanups.push(t)}let sa;const T9=new WeakSet;class LX{constructor(r){this.fn=r,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Lu&&Lu.active&&Lu.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,T9.has(this)&&(T9.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||BX(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,DG(this),FX(this);const r=sa,i=sp;sa=this,sp=!0;try{return this.fn()}finally{$X(this),sa=r,sp=i,this.flags&=-3}}stop(){if(this.flags&1){for(let r=this.deps;r;r=r.nextDep)xW(r);this.deps=this.depsTail=void 0,DG(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?T9.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){_U(this)&&this.run()}get dirty(){return _U(this)}}let MX=0,yR,xR;function BX(t,r=!1){if(t.flags|=8,r){t.next=xR,xR=t;return}t.next=yR,yR=t}function vW(){MX++}function yW(){if(--MX>0)return;if(xR){let r=xR;for(xR=void 0;r;){const i=r.next;r.next=void 0,r.flags&=-9,r=i}}let t;for(;yR;){let r=yR;for(yR=void 0;r;){const i=r.next;if(r.next=void 0,r.flags&=-9,r.flags&1)try{r.trigger()}catch(u){t||(t=u)}r=i}}if(t)throw t}function FX(t){for(let r=t.deps;r;r=r.nextDep)r.version=-1,r.prevActiveLink=r.dep.activeLink,r.dep.activeLink=r}function $X(t){let r,i=t.depsTail,u=i;for(;u;){const g=u.prevDep;u.version===-1?(u===i&&(i=g),xW(u),wde(u)):r=u,u.dep.activeLink=u.prevActiveLink,u.prevActiveLink=void 0,u=g}t.deps=r,t.depsTail=i}function _U(t){for(let r=t.deps;r;r=r.nextDep)if(r.dep.version!==r.version||r.dep.computed&&(VX(r.dep.computed)||r.dep.version!==r.version))return!0;return!!t._dirty}function VX(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===IR)||(t.globalVersion=IR,!t.isSSR&&t.flags&128&&(!t.deps&&!t._dirty||!_U(t))))return;t.flags|=2;const r=t.dep,i=sa,u=sp;sa=t,sp=!0;try{FX(t);const g=t.fn(t._value);(r.version===0||mx(g,t._value))&&(t.flags|=128,t._value=g,r.version++)}catch(g){throw r.version++,g}finally{sa=i,sp=u,$X(t),t.flags&=-3}}function xW(t,r=!1){const{dep:i,prevSub:u,nextSub:g}=t;if(u&&(u.nextSub=g,t.prevSub=void 0),g&&(g.prevSub=u,t.nextSub=void 0),i.subs===t&&(i.subs=u,!u&&i.computed)){i.computed.flags&=-5;for(let h=i.computed.deps;h;h=h.nextDep)xW(h,!0)}!r&&!--i.sc&&i.map&&i.map.delete(i.key)}function wde(t){const{prevDep:r,nextDep:i}=t;r&&(r.nextDep=i,t.prevDep=void 0),i&&(i.prevDep=r,t.nextDep=void 0)}let sp=!0;const zX=[];function G0(){zX.push(sp),sp=!1}function q0(){const t=zX.pop();sp=t===void 0?!0:t}function DG(t){const{cleanup:r}=t;if(t.cleanup=void 0,r){const i=sa;sa=void 0;try{r()}finally{sa=i}}}let IR=0;class Cde{constructor(r,i){this.sub=r,this.dep=i,this.version=i.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class wW{constructor(r){this.computed=r,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(r){if(!sa||!sp||sa===this.computed)return;let i=this.activeLink;if(i===void 0||i.sub!==sa)i=this.activeLink=new Cde(sa,this),sa.deps?(i.prevDep=sa.depsTail,sa.depsTail.nextDep=i,sa.depsTail=i):sa.deps=sa.depsTail=i,HX(i);else if(i.version===-1&&(i.version=this.version,i.nextDep)){const u=i.nextDep;u.prevDep=i.prevDep,i.prevDep&&(i.prevDep.nextDep=u),i.prevDep=sa.depsTail,i.nextDep=void 0,sa.depsTail.nextDep=i,sa.depsTail=i,sa.deps===i&&(sa.deps=u)}return i}trigger(r){this.version++,IR++,this.notify(r)}notify(r){vW();try{for(let i=this.subs;i;i=i.prevSub)i.sub.notify()&&i.sub.dep.notify()}finally{yW()}}}function HX(t){if(t.dep.sc++,t.sub.flags&4){const r=t.dep.computed;if(r&&!t.dep.subs){r.flags|=20;for(let u=r.deps;u;u=u.nextDep)HX(u)}const i=t.dep.subs;i!==t&&(t.prevSub=i,i&&(i.nextSub=t)),t.dep.subs=t}}const j6=new WeakMap,IC=Symbol(""),SU=Symbol(""),DR=Symbol("");function Bu(t,r,i){if(sp&&sa){let u=j6.get(t);u||j6.set(t,u=new Map);let g=u.get(i);g||(u.set(i,g=new wW),g.map=u,g.key=i),g.track()}}function z0(t,r,i,u,g,h){const x=j6.get(t);if(!x){IR++;return}const C=D=>{D&&D.trigger()};if(vW(),r==="clear")x.forEach(C);else{const D=as(t),I=D&&pW(i);if(D&&i==="length"){const O=Number(u);x.forEach((B,V)=>{(V==="length"||V===DR||!Fb(V)&&V>=O)&&C(B)})}else switch((i!==void 0||x.has(void 0))&&C(x.get(i)),I&&C(x.get(DR)),r){case"add":D?I&&C(x.get("length")):(C(x.get(IC)),pE(t)&&C(x.get(SU)));break;case"delete":D||(C(x.get(IC)),pE(t)&&C(x.get(SU)));break;case"set":pE(t)&&C(x.get(IC));break}}yW()}function _de(t,r){const i=j6.get(t);return i&&i.get(r)}function qk(t){const r=hs(t);return r===t?r:(Bu(r,"iterate",DR),Kg(t)?r:r.map(eu))}function RF(t){return Bu(t=hs(t),"iterate",DR),t}const Sde={__proto__:null,[Symbol.iterator](){return O9(this,Symbol.iterator,eu)},concat(...t){return qk(this).concat(...t.map(r=>as(r)?qk(r):r))},entries(){return O9(this,"entries",t=>(t[1]=eu(t[1]),t))},every(t,r){return M0(this,"every",t,r,void 0,arguments)},filter(t,r){return M0(this,"filter",t,r,i=>i.map(eu),arguments)},find(t,r){return M0(this,"find",t,r,eu,arguments)},findIndex(t,r){return M0(this,"findIndex",t,r,void 0,arguments)},findLast(t,r){return M0(this,"findLast",t,r,eu,arguments)},findLastIndex(t,r){return M0(this,"findLastIndex",t,r,void 0,arguments)},forEach(t,r){return M0(this,"forEach",t,r,void 0,arguments)},includes(...t){return R9(this,"includes",t)},indexOf(...t){return R9(this,"indexOf",t)},join(t){return qk(this).join(t)},lastIndexOf(...t){return R9(this,"lastIndexOf",t)},map(t,r){return M0(this,"map",t,r,void 0,arguments)},pop(){return cR(this,"pop")},push(...t){return cR(this,"push",t)},reduce(t,...r){return PG(this,"reduce",t,r)},reduceRight(t,...r){return PG(this,"reduceRight",t,r)},shift(){return cR(this,"shift")},some(t,r){return M0(this,"some",t,r,void 0,arguments)},splice(...t){return cR(this,"splice",t)},toReversed(){return qk(this).toReversed()},toSorted(t){return qk(this).toSorted(t)},toSpliced(...t){return qk(this).toSpliced(...t)},unshift(...t){return cR(this,"unshift",t)},values(){return O9(this,"values",eu)}};function O9(t,r,i){const u=RF(t),g=u[r]();return u!==t&&!Kg(t)&&(g._next=g.next,g.next=()=>{const h=g._next();return h.value&&(h.value=i(h.value)),h}),g}const kde=Array.prototype;function M0(t,r,i,u,g,h){const x=RF(t),C=x!==t&&!Kg(t),D=x[r];if(D!==kde[r]){const B=D.apply(t,h);return C?eu(B):B}let I=i;x!==t&&(C?I=function(B,V){return i.call(this,eu(B),V,t)}:i.length>2&&(I=function(B,V){return i.call(this,B,V,t)}));const O=D.call(x,I,u);return C&&g?g(O):O}function PG(t,r,i,u){const g=RF(t);let h=i;return g!==t&&(Kg(t)?i.length>3&&(h=function(x,C,D){return i.call(this,x,C,D,t)}):h=function(x,C,D){return i.call(this,x,eu(C),D,t)}),g[r](h,...u)}function R9(t,r,i){const u=hs(t);Bu(u,"iterate",DR);const g=u[r](...i);return(g===-1||g===!1)&&SW(i[0])?(i[0]=hs(i[0]),u[r](...i)):g}function cR(t,r,i=[]){G0(),vW();const u=hs(t)[r].apply(t,i);return yW(),q0(),u}const Ede=mW("__proto__,__v_isRef,__isVue"),UX=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(Fb));function Ade(t){Fb(t)||(t=String(t));const r=hs(this);return Bu(r,"has",t),r.hasOwnProperty(t)}class WX{constructor(r=!1,i=!1){this._isReadonly=r,this._isShallow=i}get(r,i,u){if(i==="__v_skip")return r.__v_skip;const g=this._isReadonly,h=this._isShallow;if(i==="__v_isReactive")return!g;if(i==="__v_isReadonly")return g;if(i==="__v_isShallow")return h;if(i==="__v_raw")return u===(g?h?Bde:GX:h?ZX:jX).get(r)||Object.getPrototypeOf(r)===Object.getPrototypeOf(u)?r:void 0;const x=as(r);if(!g){let D;if(x&&(D=Sde[i]))return D;if(i==="hasOwnProperty")return Ade}const C=Reflect.get(r,i,ra(r)?r:u);return(Fb(i)?UX.has(i):Ede(i))||(g||Bu(r,"get",i),h)?C:ra(C)?x&&pW(i)?C:C.value:Ri(C)?g?IE(C):Kl(C):C}}class KX extends WX{constructor(r=!1){super(!1,r)}set(r,i,u,g){let h=r[i];if(!this._isShallow){const D=bx(h);if(!Kg(u)&&!bx(u)&&(h=hs(h),u=hs(u)),!as(r)&&ra(h)&&!ra(u))return D?!1:(h.value=u,!0)}const x=as(r)&&pW(i)?Number(i)<r.length:gi(r,i),C=Reflect.set(r,i,u,ra(r)?r:g);return r===hs(g)&&(x?mx(u,h)&&z0(r,"set",i,u):z0(r,"add",i,u)),C}deleteProperty(r,i){const u=gi(r,i);r[i];const g=Reflect.deleteProperty(r,i);return g&&u&&z0(r,"delete",i,void 0),g}has(r,i){const u=Reflect.has(r,i);return(!Fb(i)||!UX.has(i))&&Bu(r,"has",i),u}ownKeys(r){return Bu(r,"iterate",as(r)?"length":IC),Reflect.ownKeys(r)}}class Tde extends WX{constructor(r=!1){super(!0,r)}set(r,i){return!0}deleteProperty(r,i){return!0}}const Ode=new KX,Rde=new Tde,Ide=new KX(!0);const kU=t=>t,p6=t=>Reflect.getPrototypeOf(t);function Dde(t,r,i){return function(...u){const g=this.__v_raw,h=hs(g),x=pE(h),C=t==="entries"||t===Symbol.iterator&&x,D=t==="keys"&&x,I=g[t](...u),O=i?kU:r?Z6:eu;return!r&&Bu(h,"iterate",D?SU:IC),{next(){const{value:B,done:V}=I.next();return V?{value:B,done:V}:{value:C?[O(B[0]),O(B[1])]:O(B),done:V}},[Symbol.iterator](){return this}}}}function b6(t){return function(...r){return t==="delete"?!1:t==="clear"?void 0:this}}function Pde(t,r){const i={get(g){const h=this.__v_raw,x=hs(h),C=hs(g);t||(mx(g,C)&&Bu(x,"get",g),Bu(x,"get",C));const{has:D}=p6(x),I=r?kU:t?Z6:eu;if(D.call(x,g))return I(h.get(g));if(D.call(x,C))return I(h.get(C));h!==x&&h.get(g)},get size(){const g=this.__v_raw;return!t&&Bu(hs(g),"iterate",IC),Reflect.get(g,"size",g)},has(g){const h=this.__v_raw,x=hs(h),C=hs(g);return t||(mx(g,C)&&Bu(x,"has",g),Bu(x,"has",C)),g===C?h.has(g):h.has(g)||h.has(C)},forEach(g,h){const x=this,C=x.__v_raw,D=hs(C),I=r?kU:t?Z6:eu;return!t&&Bu(D,"iterate",IC),C.forEach((O,B)=>g.call(h,I(O),I(B),x))}};return sc(i,t?{add:b6("add"),set:b6("set"),delete:b6("delete"),clear:b6("clear")}:{add(g){!r&&!Kg(g)&&!bx(g)&&(g=hs(g));const h=hs(this);return p6(h).has.call(h,g)||(h.add(g),z0(h,"add",g,g)),this},set(g,h){!r&&!Kg(h)&&!bx(h)&&(h=hs(h));const x=hs(this),{has:C,get:D}=p6(x);let I=C.call(x,g);I||(g=hs(g),I=C.call(x,g));const O=D.call(x,g);return x.set(g,h),I?mx(h,O)&&z0(x,"set",g,h):z0(x,"add",g,h),this},delete(g){const h=hs(this),{has:x,get:C}=p6(h);let D=x.call(h,g);D||(g=hs(g),D=x.call(h,g)),C&&C.call(h,g);const I=h.delete(g);return D&&z0(h,"delete",g,void 0),I},clear(){const g=hs(this),h=g.size!==0,x=g.clear();return h&&z0(g,"clear",void 0,void 0),x}}),["keys","values","entries",Symbol.iterator].forEach(g=>{i[g]=Dde(g,t,r)}),i}function CW(t,r){const i=Pde(t,r);return(u,g,h)=>g==="__v_isReactive"?!t:g==="__v_isReadonly"?t:g==="__v_raw"?u:Reflect.get(gi(i,g)&&g in u?i:u,g,h)}const Nde={get:CW(!1,!1)},Lde={get:CW(!1,!0)},Mde={get:CW(!0,!1)};const jX=new WeakMap,ZX=new WeakMap,GX=new WeakMap,Bde=new WeakMap;function Fde(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function $de(t){return t.__v_skip||!Object.isExtensible(t)?0:Fde(ude(t))}function Kl(t){return bx(t)?t:_W(t,!1,Ode,Nde,jX)}function Vde(t){return _W(t,!1,Ide,Lde,ZX)}function IE(t){return _W(t,!0,Rde,Mde,GX)}function _W(t,r,i,u,g){if(!Ri(t)||t.__v_raw&&!(r&&t.__v_isReactive))return t;const h=$de(t);if(h===0)return t;const x=g.get(t);if(x)return x;const C=new Proxy(t,h===2?u:i);return g.set(t,C),C}function gx(t){return bx(t)?gx(t.__v_raw):!!(t&&t.__v_isReactive)}function bx(t){return!!(t&&t.__v_isReadonly)}function Kg(t){return!!(t&&t.__v_isShallow)}function SW(t){return t?!!t.__v_raw:!1}function hs(t){const r=t&&t.__v_raw;return r?hs(r):t}function kW(t){return!gi(t,"__v_skip")&&Object.isExtensible(t)&&wU(t,"__v_skip",!0),t}const eu=t=>Ri(t)?Kl(t):t,Z6=t=>Ri(t)?IE(t):t;function ra(t){return t?t.__v_isRef===!0:!1}function Ln(t){return qX(t,!1)}function bo(t){return qX(t,!0)}function qX(t,r){return ra(t)?t:new zde(t,r)}class zde{constructor(r,i){this.dep=new wW,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=i?r:hs(r),this._value=i?r:eu(r),this.__v_isShallow=i}get value(){return this.dep.track(),this._value}set value(r){const i=this._rawValue,u=this.__v_isShallow||Kg(r)||bx(r);r=u?r:hs(r),mx(r,i)&&(this._rawValue=r,this._value=u?r:eu(r),this.dep.trigger())}}function re(t){return ra(t)?t.value:t}function $b(t){return Is(t)?t():re(t)}const Hde={get:(t,r,i)=>r==="__v_raw"?t:re(Reflect.get(t,r,i)),set:(t,r,i,u)=>{const g=t[r];return ra(g)&&!ra(i)?(g.value=i,!0):Reflect.set(t,r,i,u)}};function YX(t){return gx(t)?t:new Proxy(t,Hde)}function IF(t){const r=as(t)?new Array(t.length):{};for(const i in t)r[i]=XX(t,i);return r}class Ude{constructor(r,i,u){this._object=r,this._key=i,this._defaultValue=u,this.__v_isRef=!0,this._value=void 0}get value(){const r=this._object[this._key];return this._value=r===void 0?this._defaultValue:r}set value(r){this._object[this._key]=r}get dep(){return _de(hs(this._object),this._key)}}class Wde{constructor(r){this._getter=r,this.__v_isRef=!0,this.__v_isReadonly=!0,this._value=void 0}get value(){return this._value=this._getter()}}function pn(t,r,i){return ra(t)?t:Is(t)?new Wde(t):Ri(t)&&arguments.length>1?XX(t,r,i):Ln(t)}function XX(t,r,i){const u=t[r];return ra(u)?u:new Ude(t,r,i)}class Kde{constructor(r,i,u){this.fn=r,this.setter=i,this._value=void 0,this.dep=new wW(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=IR-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!i,this.isSSR=u}notify(){if(this.flags|=16,!(this.flags&8)&&sa!==this)return BX(this,!0),!0}get value(){const r=this.dep.track();return VX(this),r&&(r.version=this.dep.version),this._value}set value(r){this.setter&&this.setter(r)}}function jde(t,r,i=!1){let u,g;return Is(t)?u=t:(u=t.get,g=t.set),new Kde(u,g,i)}const v6={},G6=new WeakMap;let CC;function Zde(t,r=!1,i=CC){if(i){let u=G6.get(i);u||G6.set(i,u=[]),u.push(t)}}function Gde(t,r,i=Hi){const{immediate:u,deep:g,once:h,scheduler:x,augmentJob:C,call:D}=i,I=j=>g?j:Kg(j)||g===!1||g===0?H0(j,1):H0(j);let O,B,V,z,Z=!1,ee=!1;if(ra(t)?(B=()=>t.value,Z=Kg(t)):gx(t)?(B=()=>I(t),Z=!0):as(t)?(ee=!0,Z=t.some(j=>gx(j)||Kg(j)),B=()=>t.map(j=>{if(ra(j))return j.value;if(gx(j))return I(j);if(Is(j))return D?D(j,2):j()})):Is(t)?r?B=D?()=>D(t,2):t:B=()=>{if(V){G0();try{V()}finally{q0()}}const j=CC;CC=O;try{return D?D(t,3,[z]):t(z)}finally{CC=j}}:B=Mb,r&&g){const j=B,de=g===!0?1/0:g;B=()=>H0(j(),de)}const ie=bW(),W=()=>{O.stop(),ie&&ie.active&&hW(ie.effects,O)};if(h&&r){const j=r;r=(...de)=>{j(...de),W()}}let he=ee?new Array(t.length).fill(v6):v6;const ue=j=>{if(!(!(O.flags&1)||!O.dirty&&!j))if(r){const de=O.run();if(g||Z||(ee?de.some((te,ze)=>mx(te,he[ze])):mx(de,he))){V&&V();const te=CC;CC=O;try{const ze=[de,he===v6?void 0:ee&&he[0]===v6?[]:he,z];he=de,D?D(r,3,ze):r(...ze)}finally{CC=te}}}else O.run()};return C&&C(ue),O=new LX(B),O.scheduler=x?()=>x(ue,!1):ue,z=j=>Zde(j,!1,O),V=O.onStop=()=>{const j=G6.get(O);if(j){if(D)D(j,4);else for(const de of j)de();G6.delete(O)}},r?u?ue(!0):he=O.run():x?x(ue.bind(null,!0),!0):O.run(),W.pause=O.pause.bind(O),W.resume=O.resume.bind(O),W.stop=W,W}function H0(t,r=1/0,i){if(r<=0||!Ri(t)||t.__v_skip||(i=i||new Set,i.has(t)))return t;if(i.add(t),r--,ra(t))H0(t.value,r,i);else if(as(t))for(let u=0;u<t.length;u++)H0(t[u],r,i);else if(EF(t)||pE(t))t.forEach(u=>{H0(u,r,i)});else if(OX(t)){for(const u in t)H0(t[u],r,i);for(const u of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,u)&&H0(t[u],r,i)}return t}/**
* @vue/runtime-core v3.5.17
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function iI(t,r,i,u){try{return u?t(...u):t()}catch(g){DF(g,r,i)}}function lp(t,r,i,u){if(Is(t)){const g=iI(t,r,i,u);return g&&AX(g)&&g.catch(h=>{DF(h,r,i)}),g}if(as(t)){const g=[];for(let h=0;h<t.length;h++)g.push(lp(t[h],r,i,u));return g}}function DF(t,r,i,u=!0){const g=r?r.vnode:null,{errorHandler:h,throwUnhandledErrorInProduction:x}=r&&r.appContext.config||Hi;if(r){let C=r.parent;const D=r.proxy,I=`https://vuejs.org/error-reference/#runtime-${i}`;for(;C;){const O=C.ec;if(O){for(let B=0;B<O.length;B++)if(O[B](t,D,I)===!1)return}C=C.parent}if(h){G0(),iI(h,null,10,[t,D,I]),q0();return}}qde(t,i,g,u,x)}function qde(t,r,i,u=!0,g=!1){if(g)throw t;console.error(t)}const Dd=[];let Rb=-1;const bE=[];let lx=null,lE=0;const JX=Promise.resolve();let q6=null;function Qo(t){const r=q6||JX;return t?r.then(this?t.bind(this):t):r}function Yde(t){let r=Rb+1,i=Dd.length;for(;r<i;){const u=r+i>>>1,g=Dd[u],h=PR(g);h<t||h===t&&g.flags&2?r=u+1:i=u}return r}function EW(t){if(!(t.flags&1)){const r=PR(t),i=Dd[Dd.length-1];!i||!(t.flags&2)&&r>=PR(i)?Dd.push(t):Dd.splice(Yde(r),0,t),t.flags|=1,QX()}}function QX(){q6||(q6=JX.then(tJ))}function Xde(t){as(t)?bE.push(...t):lx&&t.id===-1?lx.splice(lE+1,0,t):t.flags&1||(bE.push(t),t.flags|=1),QX()}function NG(t,r,i=Rb+1){for(;i<Dd.length;i++){const u=Dd[i];if(u&&u.flags&2){if(t&&u.id!==t.uid)continue;Dd.splice(i,1),i--,u.flags&4&&(u.flags&=-2),u(),u.flags&4||(u.flags&=-2)}}}function eJ(t){if(bE.length){const r=[...new Set(bE)].sort((i,u)=>PR(i)-PR(u));if(bE.length=0,lx){lx.push(...r);return}for(lx=r,lE=0;lE<lx.length;lE++){const i=lx[lE];i.flags&4&&(i.flags&=-2),i.flags&8||i(),i.flags&=-2}lx=null,lE=0}}const PR=t=>t.id==null?t.flags&2?-1:1/0:t.id;function tJ(t){try{for(Rb=0;Rb<Dd.length;Rb++){const r=Dd[Rb];r&&!(r.flags&8)&&(r.flags&4&&(r.flags&=-2),iI(r,r.i,r.i?15:14),r.flags&4||(r.flags&=-2))}}finally{for(;Rb<Dd.length;Rb++){const r=Dd[Rb];r&&(r.flags&=-2)}Rb=-1,Dd.length=0,eJ(),q6=null,(Dd.length||bE.length)&&tJ()}}let Nd=null,nJ=null;function Y6(t){const r=Nd;return Nd=t,nJ=t&&t.type.__scopeId||null,r}function Pt(t,r=Nd,i){if(!r||t._n)return t;const u=(...g)=>{u._d&&GG(-1);const h=Y6(r);let x;try{x=t(...g)}finally{Y6(h),u._d&&GG(1)}return x};return u._n=!0,u._c=!0,u._d=!0,u}function Bn(t,r){if(Nd===null)return t;const i=BF(Nd),u=t.dirs||(t.dirs=[]);for(let g=0;g<r.length;g++){let[h,x,C,D=Hi]=r[g];h&&(Is(h)&&(h={mounted:h,updated:h}),h.deep&&H0(x),u.push({dir:h,instance:i,value:x,oldValue:void 0,arg:C,modifiers:D}))}return t}function hC(t,r,i,u){const g=t.dirs,h=r&&r.dirs;for(let x=0;x<g.length;x++){const C=g[x];h&&(C.oldValue=h[x].value);let D=C.dir[u];D&&(G0(),lp(D,i,8,[t.el,C,t,r]),q0())}}const oJ=Symbol("_vte"),sJ=t=>t.__isTeleport,wR=t=>t&&(t.disabled||t.disabled===""),LG=t=>t&&(t.defer||t.defer===""),MG=t=>typeof SVGElement<"u"&&t instanceof SVGElement,BG=t=>typeof MathMLElement=="function"&&t instanceof MathMLElement,EU=(t,r)=>{const i=t&&t.to;return el(i)?r?r(i):null:i},rJ={name:"Teleport",__isTeleport:!0,process(t,r,i,u,g,h,x,C,D,I){const{mc:O,pc:B,pbc:V,o:{insert:z,querySelector:Z,createText:ee,createComment:ie}}=I,W=wR(r.props);let{shapeFlag:he,children:ue,dynamicChildren:j}=r;if(t==null){const de=r.el=ee(""),te=r.anchor=ee("");z(de,i,u),z(te,i,u);const ze=(Je,rt)=>{he&16&&(g&&g.isCE&&(g.ce._teleportTarget=Je),O(ue,Je,rt,g,h,x,C,D))},Fe=()=>{const Je=r.target=EU(r.props,Z),rt=iJ(Je,r,ee,z);Je&&(x!=="svg"&&MG(Je)?x="svg":x!=="mathml"&&BG(Je)&&(x="mathml"),W||(ze(Je,rt),D6(r,!1)))};W&&(ze(i,te),D6(r,!0)),LG(r.props)?(r.el.__isMounted=!1,Id(()=>{Fe(),delete r.el.__isMounted},h)):Fe()}else{if(LG(r.props)&&t.el.__isMounted===!1){Id(()=>{rJ.process(t,r,i,u,g,h,x,C,D,I)},h);return}r.el=t.el,r.targetStart=t.targetStart;const de=r.anchor=t.anchor,te=r.target=t.target,ze=r.targetAnchor=t.targetAnchor,Fe=wR(t.props),Je=Fe?i:te,rt=Fe?de:ze;if(x==="svg"||MG(te)?x="svg":(x==="mathml"||BG(te))&&(x="mathml"),j?(V(t.dynamicChildren,j,Je,g,h,x,C),DW(t,r,!0)):D||B(t,r,Je,rt,g,h,x,C,!1),W)Fe?r.props&&t.props&&r.props.to!==t.props.to&&(r.props.to=t.props.to):y6(r,i,de,I,1);else if((r.props&&r.props.to)!==(t.props&&t.props.to)){const we=r.target=EU(r.props,Z);we&&y6(r,we,null,I,0)}else Fe&&y6(r,te,ze,I,1);D6(r,W)}},remove(t,r,i,{um:u,o:{remove:g}},h){const{shapeFlag:x,children:C,anchor:D,targetStart:I,targetAnchor:O,target:B,props:V}=t;if(B&&(g(I),g(O)),h&&g(D),x&16){const z=h||!wR(V);for(let Z=0;Z<C.length;Z++){const ee=C[Z];u(ee,r,i,z,!!ee.dynamicChildren)}}},move:y6,hydrate:Jde};function y6(t,r,i,{o:{insert:u},m:g},h=2){h===0&&u(t.targetAnchor,r,i);const{el:x,anchor:C,shapeFlag:D,children:I,props:O}=t,B=h===2;if(B&&u(x,r,i),(!B||wR(O))&&D&16)for(let V=0;V<I.length;V++)g(I[V],r,i,2);B&&u(C,r,i)}function Jde(t,r,i,u,g,h,{o:{nextSibling:x,parentNode:C,querySelector:D,insert:I,createText:O}},B){const V=r.target=EU(r.props,D);if(V){const z=wR(r.props),Z=V._lpa||V.firstChild;if(r.shapeFlag&16)if(z)r.anchor=B(x(t),r,C(t),i,u,g,h),r.targetStart=Z,r.targetAnchor=Z&&x(Z);else{r.anchor=x(t);let ee=Z;for(;ee;){if(ee&&ee.nodeType===8){if(ee.data==="teleport start anchor")r.targetStart=ee;else if(ee.data==="teleport anchor"){r.targetAnchor=ee,V._lpa=r.targetAnchor&&x(r.targetAnchor);break}}ee=x(ee)}r.targetAnchor||iJ(V,r,O,I),B(Z&&x(Z),r,V,i,u,g,h)}D6(r,z)}return r.anchor&&x(r.anchor)}const Qde=rJ;function D6(t,r){const i=t.ctx;if(i&&i.ut){let u,g;for(r?(u=t.el,g=t.anchor):(u=t.targetStart,g=t.targetAnchor);u&&u!==g;)u.nodeType===1&&u.setAttribute("data-v-owner",i.uid),u=u.nextSibling;i.ut()}}function iJ(t,r,i,u){const g=r.targetStart=i(""),h=r.targetAnchor=i("");return g[oJ]=h,t&&(u(g,t),u(h,t)),h}const cx=Symbol("_leaveCb"),x6=Symbol("_enterCb");function aJ(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Wu(()=>{t.isMounted=!0}),Ec(()=>{t.isUnmounting=!0}),t}const Vg=[Function,Array],lJ={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Vg,onEnter:Vg,onAfterEnter:Vg,onEnterCancelled:Vg,onBeforeLeave:Vg,onLeave:Vg,onAfterLeave:Vg,onLeaveCancelled:Vg,onBeforeAppear:Vg,onAppear:Vg,onAfterAppear:Vg,onAppearCancelled:Vg},cJ=t=>{const r=t.subTree;return r.component?cJ(r.component):r},efe={name:"BaseTransition",props:lJ,setup(t,{slots:r}){const i=DE(),u=aJ();return()=>{const g=r.default&&AW(r.default(),!0);if(!g||!g.length)return;const h=uJ(g),x=hs(t),{mode:C}=x;if(u.isLeaving)return I9(h);const D=FG(h);if(!D)return I9(h);let I=NR(D,x,u,i,B=>I=B);D.type!==$u&&LC(D,I);let O=i.subTree&&FG(i.subTree);if(O&&O.type!==$u&&!_C(D,O)&&cJ(i).type!==$u){let B=NR(O,x,u,i);if(LC(O,B),C==="out-in"&&D.type!==$u)return u.isLeaving=!0,B.afterLeave=()=>{u.isLeaving=!1,i.job.flags&8||i.update(),delete B.afterLeave,O=void 0},I9(h);C==="in-out"&&D.type!==$u?B.delayLeave=(V,z,Z)=>{const ee=dJ(u,O);ee[String(O.key)]=O,V[cx]=()=>{z(),V[cx]=void 0,delete I.delayedLeave,O=void 0},I.delayedLeave=()=>{Z(),delete I.delayedLeave,O=void 0}}:O=void 0}else O&&(O=void 0);return h}}};function uJ(t){let r=t[0];if(t.length>1){for(const i of t)if(i.type!==$u){r=i;break}}return r}const tfe=efe;function dJ(t,r){const{leavingVNodes:i}=t;let u=i.get(r.type);return u||(u=Object.create(null),i.set(r.type,u)),u}function NR(t,r,i,u,g){const{appear:h,mode:x,persisted:C=!1,onBeforeEnter:D,onEnter:I,onAfterEnter:O,onEnterCancelled:B,onBeforeLeave:V,onLeave:z,onAfterLeave:Z,onLeaveCancelled:ee,onBeforeAppear:ie,onAppear:W,onAfterAppear:he,onAppearCancelled:ue}=r,j=String(t.key),de=dJ(i,t),te=(Je,rt)=>{Je&&lp(Je,u,9,rt)},ze=(Je,rt)=>{const we=rt[1];te(Je,rt),as(Je)?Je.every(_e=>_e.length<=1)&&we():Je.length<=1&&we()},Fe={mode:x,persisted:C,beforeEnter(Je){let rt=D;if(!i.isMounted)if(h)rt=ie||D;else return;Je[cx]&&Je[cx](!0);const we=de[j];we&&_C(t,we)&&we.el[cx]&&we.el[cx](),te(rt,[Je])},enter(Je){let rt=I,we=O,_e=B;if(!i.isMounted)if(h)rt=W||I,we=he||O,_e=ue||B;else return;let R=!1;const it=Je[x6]=St=>{R||(R=!0,St?te(_e,[Je]):te(we,[Je]),Fe.delayedLeave&&Fe.delayedLeave(),Je[x6]=void 0)};rt?ze(rt,[Je,it]):it()},leave(Je,rt){const we=String(t.key);if(Je[x6]&&Je[x6](!0),i.isUnmounting)return rt();te(V,[Je]);let _e=!1;const R=Je[cx]=it=>{_e||(_e=!0,rt(),it?te(ee,[Je]):te(Z,[Je]),Je[cx]=void 0,de[we]===t&&delete de[we])};de[we]=t,z?ze(z,[Je,R]):R()},clone(Je){const rt=NR(Je,r,i,u,g);return g&&g(rt),rt}};return Fe}function I9(t){if(PF(t))return t=X0(t),t.children=null,t}function FG(t){if(!PF(t))return sJ(t.type)&&t.children?uJ(t.children):t;if(t.component)return t.component.subTree;const{shapeFlag:r,children:i}=t;if(i){if(r&16)return i[0];if(r&32&&Is(i.default))return i.default()}}function LC(t,r){t.shapeFlag&6&&t.component?(t.transition=r,LC(t.component.subTree,r)):t.shapeFlag&128?(t.ssContent.transition=r.clone(t.ssContent),t.ssFallback.transition=r.clone(t.ssFallback)):t.transition=r}function AW(t,r=!1,i){let u=[],g=0;for(let h=0;h<t.length;h++){let x=t[h];const C=i==null?x.key:String(i)+String(x.key!=null?x.key:h);x.type===is?(x.patchFlag&128&&g++,u=u.concat(AW(x.children,r,C))):(r||x.type!==$u)&&u.push(C!=null?X0(x,{key:C}):x)}if(g>1)for(let h=0;h<u.length;h++)u[h].patchFlag=-2;return u}/*! #__NO_SIDE_EFFECTS__ */function fJ(t,r){return Is(t)?sc({name:t.name},r,{setup:t}):t}function t1(){const t=DE();return t?(t.appContext.config.idPrefix||"v")+"-"+t.ids[0]+t.ids[1]++:""}function mJ(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}function CR(t,r,i,u,g=!1){if(as(t)){t.forEach((Z,ee)=>CR(Z,r&&(as(r)?r[ee]:r),i,u,g));return}if(_R(u)&&!g){u.shapeFlag&512&&u.type.__asyncResolved&&u.component.subTree.component&&CR(t,r,i,u.component.subTree);return}const h=u.shapeFlag&4?BF(u.component):u.el,x=g?null:h,{i:C,r:D}=t,I=r&&r.r,O=C.refs===Hi?C.refs={}:C.refs,B=C.setupState,V=hs(B),z=B===Hi?()=>!1:Z=>gi(V,Z);if(I!=null&&I!==D&&(el(I)?(O[I]=null,z(I)&&(B[I]=null)):ra(I)&&(I.value=null)),Is(D))iI(D,C,12,[x,O]);else{const Z=el(D),ee=ra(D);if(Z||ee){const ie=()=>{if(t.f){const W=Z?z(D)?B[D]:O[D]:D.value;g?as(W)&&hW(W,h):as(W)?W.includes(h)||W.push(h):Z?(O[D]=[h],z(D)&&(B[D]=O[D])):(D.value=[h],t.k&&(O[t.k]=D.value))}else Z?(O[D]=x,z(D)&&(B[D]=x)):ee&&(D.value=x,t.k&&(O[t.k]=x))};x?(ie.id=-1,Id(ie,i)):ie()}}}TF().requestIdleCallback;TF().cancelIdleCallback;const _R=t=>!!t.type.__asyncLoader,PF=t=>t.type.__isKeepAlive;function TW(t,r){gJ(t,"a",r)}function NF(t,r){gJ(t,"da",r)}function gJ(t,r,i=kc){const u=t.__wdc||(t.__wdc=()=>{let g=i;for(;g;){if(g.isDeactivated)return;g=g.parent}return t()});if(LF(r,u,i),i){let g=i.parent;for(;g&&g.parent;)PF(g.parent.vnode)&&nfe(u,r,i,g),g=g.parent}}function nfe(t,r,i,u){const g=LF(r,t,u,!0);hJ(()=>{hW(u[r],g)},i)}function LF(t,r,i=kc,u=!1){if(i){const g=i[t]||(i[t]=[]),h=r.__weh||(r.__weh=(...x)=>{G0();const C=cI(i),D=lp(r,i,t,x);return C(),q0(),D});return u?g.unshift(h):g.push(h),h}}const n1=t=>(r,i=kc)=>{(!BR||t==="sp")&&LF(t,(...u)=>r(...u),i)},aI=n1("bm"),Wu=n1("m"),ofe=n1("bu"),OW=n1("u"),Ec=n1("bum"),hJ=n1("um"),sfe=n1("sp"),rfe=n1("rtg"),ife=n1("rtc");function afe(t,r=kc){LF("ec",t,r)}const lfe="components",cfe=Symbol.for("v-ndc");function ufe(t){return el(t)&&dfe(lfe,t,!1)||t}function dfe(t,r,i=!0,u=!1){const g=Nd||kc;if(g){const h=g.type;{const C=Xfe(h,!1);if(C&&(C===r||C===Ld(r)||C===e1(Ld(r))))return h}const x=$G(g[t]||h[t],r)||$G(g.appContext[t],r);return!x&&u?h:x}}function $G(t,r){return t&&(t[r]||t[Ld(r)]||t[e1(Ld(r))])}function Y0(t,r,i,u){let g;const h=i,x=as(t);if(x||el(t)){const C=x&&gx(t);let D=!1,I=!1;C&&(D=!Kg(t),I=bx(t),t=RF(t)),g=new Array(t.length);for(let O=0,B=t.length;O<B;O++)g[O]=r(D?I?Z6(eu(t[O])):eu(t[O]):t[O],O,void 0,h)}else if(typeof t=="number"){g=new Array(t);for(let C=0;C<t;C++)g[C]=r(C+1,C,void 0,h)}else if(Ri(t))if(t[Symbol.iterator])g=Array.from(t,(C,D)=>r(C,D,void 0,h));else{const C=Object.keys(t);g=new Array(C.length);for(let D=0,I=C.length;D<I;D++){const O=C[D];g[D]=r(t[O],O,D,h)}}else g=[];return g}const AU=t=>t?PJ(t)?BF(t):AU(t.parent):null,SR=sc(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>AU(t.parent),$root:t=>AU(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>bJ(t),$forceUpdate:t=>t.f||(t.f=()=>{EW(t.update)}),$nextTick:t=>t.n||(t.n=Qo.bind(t.proxy)),$watch:t=>Pfe.bind(t)}),D9=(t,r)=>t!==Hi&&!t.__isScriptSetup&&gi(t,r),ffe={get({_:t},r){if(r==="__v_skip")return!0;const{ctx:i,setupState:u,data:g,props:h,accessCache:x,type:C,appContext:D}=t;let I;if(r[0]!=="$"){const z=x[r];if(z!==void 0)switch(z){case 1:return u[r];case 2:return g[r];case 4:return i[r];case 3:return h[r]}else{if(D9(u,r))return x[r]=1,u[r];if(g!==Hi&&gi(g,r))return x[r]=2,g[r];if((I=t.propsOptions[0])&&gi(I,r))return x[r]=3,h[r];if(i!==Hi&&gi(i,r))return x[r]=4,i[r];TU&&(x[r]=0)}}const O=SR[r];let B,V;if(O)return r==="$attrs"&&Bu(t.attrs,"get",""),O(t);if((B=C.__cssModules)&&(B=B[r]))return B;if(i!==Hi&&gi(i,r))return x[r]=4,i[r];if(V=D.config.globalProperties,gi(V,r))return V[r]},set({_:t},r,i){const{data:u,setupState:g,ctx:h}=t;return D9(g,r)?(g[r]=i,!0):u!==Hi&&gi(u,r)?(u[r]=i,!0):gi(t.props,r)||r[0]==="$"&&r.slice(1)in t?!1:(h[r]=i,!0)},has({_:{data:t,setupState:r,accessCache:i,ctx:u,appContext:g,propsOptions:h}},x){let C;return!!i[x]||t!==Hi&&gi(t,x)||D9(r,x)||(C=h[0])&&gi(C,x)||gi(u,x)||gi(SR,x)||gi(g.config.globalProperties,x)},defineProperty(t,r,i){return i.get!=null?t._.accessCache[r]=0:gi(i,"value")&&this.set(t,r,i.value,null),Reflect.defineProperty(t,r,i)}};function VG(t){return as(t)?t.reduce((r,i)=>(r[i]=null,r),{}):t}let TU=!0;function mfe(t){const r=bJ(t),i=t.proxy,u=t.ctx;TU=!1,r.beforeCreate&&zG(r.beforeCreate,t,"bc");const{data:g,computed:h,methods:x,watch:C,provide:D,inject:I,created:O,beforeMount:B,mounted:V,beforeUpdate:z,updated:Z,activated:ee,deactivated:ie,beforeDestroy:W,beforeUnmount:he,destroyed:ue,unmounted:j,render:de,renderTracked:te,renderTriggered:ze,errorCaptured:Fe,serverPrefetch:Je,expose:rt,inheritAttrs:we,components:_e,directives:R,filters:it}=r;if(I&&gfe(I,u,null),x)for(const sn in x){const dt=x[sn];Is(dt)&&(u[sn]=dt.bind(i))}if(g){const sn=g.call(i,i);Ri(sn)&&(t.data=Kl(sn))}if(TU=!0,h)for(const sn in h){const dt=h[sn],An=Is(dt)?dt.bind(i,i):Is(dt.get)?dt.get.bind(i,i):Mb,At=!Is(dt)&&Is(dt.set)?dt.set.bind(i):Mb,et=It({get:An,set:At});Object.defineProperty(u,sn,{enumerable:!0,configurable:!0,get:()=>et.value,set:Me=>et.value=Me})}if(C)for(const sn in C)pJ(C[sn],u,i,sn);if(D){const sn=Is(D)?D.call(i):D;Reflect.ownKeys(sn).forEach(dt=>{Bd(dt,sn[dt])})}O&&zG(O,t,"c");function Ut(sn,dt){as(dt)?dt.forEach(An=>sn(An.bind(i))):dt&&sn(dt.bind(i))}if(Ut(aI,B),Ut(Wu,V),Ut(ofe,z),Ut(OW,Z),Ut(TW,ee),Ut(NF,ie),Ut(afe,Fe),Ut(ife,te),Ut(rfe,ze),Ut(Ec,he),Ut(hJ,j),Ut(sfe,Je),as(rt))if(rt.length){const sn=t.exposed||(t.exposed={});rt.forEach(dt=>{Object.defineProperty(sn,dt,{get:()=>i[dt],set:An=>i[dt]=An})})}else t.exposed||(t.exposed={});de&&t.render===Mb&&(t.render=de),we!=null&&(t.inheritAttrs=we),_e&&(t.components=_e),R&&(t.directives=R),Je&&mJ(t)}function gfe(t,r,i=Mb){as(t)&&(t=OU(t));for(const u in t){const g=t[u];let h;Ri(g)?"default"in g?h=Wi(g.from||u,g.default,!0):h=Wi(g.from||u):h=Wi(g),ra(h)?Object.defineProperty(r,u,{enumerable:!0,configurable:!0,get:()=>h.value,set:x=>h.value=x}):r[u]=h}}function zG(t,r,i){lp(as(t)?t.map(u=>u.bind(r.proxy)):t.bind(r.proxy),r,i)}function pJ(t,r,i,u){let g=u.includes(".")?TJ(i,u):()=>i[u];if(el(t)){const h=r[t];Is(h)&&Rn(g,h)}else if(Is(t))Rn(g,t.bind(i));else if(Ri(t))if(as(t))t.forEach(h=>pJ(h,r,i,u));else{const h=Is(t.handler)?t.handler.bind(i):r[t.handler];Is(h)&&Rn(g,h,t)}}function bJ(t){const r=t.type,{mixins:i,extends:u}=r,{mixins:g,optionsCache:h,config:{optionMergeStrategies:x}}=t.appContext,C=h.get(r);let D;return C?D=C:!g.length&&!i&&!u?D=r:(D={},g.length&&g.forEach(I=>X6(D,I,x,!0)),X6(D,r,x)),Ri(r)&&h.set(r,D),D}function X6(t,r,i,u=!1){const{mixins:g,extends:h}=r;h&&X6(t,h,i,!0),g&&g.forEach(x=>X6(t,x,i,!0));for(const x in r)if(!(u&&x==="expose")){const C=hfe[x]||i&&i[x];t[x]=C?C(t[x],r[x]):r[x]}return t}const hfe={data:HG,props:UG,emits:UG,methods:bR,computed:bR,beforeCreate:Od,created:Od,beforeMount:Od,mounted:Od,beforeUpdate:Od,updated:Od,beforeDestroy:Od,beforeUnmount:Od,destroyed:Od,unmounted:Od,activated:Od,deactivated:Od,errorCaptured:Od,serverPrefetch:Od,components:bR,directives:bR,watch:bfe,provide:HG,inject:pfe};function HG(t,r){return r?t?function(){return sc(Is(t)?t.call(this,this):t,Is(r)?r.call(this,this):r)}:r:t}function pfe(t,r){return bR(OU(t),OU(r))}function OU(t){if(as(t)){const r={};for(let i=0;i<t.length;i++)r[t[i]]=t[i];return r}return t}function Od(t,r){return t?[...new Set([].concat(t,r))]:r}function bR(t,r){return t?sc(Object.create(null),t,r):r}function UG(t,r){return t?as(t)&&as(r)?[...new Set([...t,...r])]:sc(Object.create(null),VG(t),VG(r??{})):r}function bfe(t,r){if(!t)return r;if(!r)return t;const i=sc(Object.create(null),t);for(const u in r)i[u]=Od(t[u],r[u]);return i}function vJ(){return{app:null,config:{isNativeTag:lde,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let vfe=0;function yfe(t,r){return function(u,g=null){Is(u)||(u=sc({},u)),g!=null&&!Ri(g)&&(g=null);const h=vJ(),x=new WeakSet,C=[];let D=!1;const I=h.app={_uid:vfe++,_component:u,_props:g,_container:null,_context:h,_instance:null,version:Qfe,get config(){return h.config},set config(O){},use(O,...B){return x.has(O)||(O&&Is(O.install)?(x.add(O),O.install(I,...B)):Is(O)&&(x.add(O),O(I,...B))),I},mixin(O){return h.mixins.includes(O)||h.mixins.push(O),I},component(O,B){return B?(h.components[O]=B,I):h.components[O]},directive(O,B){return B?(h.directives[O]=B,I):h.directives[O]},mount(O,B,V){if(!D){const z=I._ceVNode||ce(u,g);return z.appContext=h,V===!0?V="svg":V===!1&&(V=void 0),t(z,O,V),D=!0,I._container=O,O.__vue_app__=I,BF(z.component)}},onUnmount(O){C.push(O)},unmount(){D&&(lp(C,I._instance,16),t(null,I._container),delete I._container.__vue_app__)},provide(O,B){return h.provides[O]=B,I},runWithContext(O){const B=DC;DC=I;try{return O()}finally{DC=B}}};return I}}let DC=null;function Bd(t,r){if(kc){let i=kc.provides;const u=kc.parent&&kc.parent.provides;u===i&&(i=kc.provides=Object.create(u)),i[t]=r}}function Wi(t,r,i=!1){const u=kc||Nd;if(u||DC){let g=DC?DC._context.provides:u?u.parent==null||u.ce?u.vnode.appContext&&u.vnode.appContext.provides:u.parent.provides:void 0;if(g&&t in g)return g[t];if(arguments.length>1)return i&&Is(r)?r.call(u&&u.proxy):r}}function xfe(){return!!(kc||Nd||DC)}const yJ={},xJ=()=>Object.create(yJ),wJ=t=>Object.getPrototypeOf(t)===yJ;function wfe(t,r,i,u=!1){const g={},h=xJ();t.propsDefaults=Object.create(null),CJ(t,r,g,h);for(const x in t.propsOptions[0])x in g||(g[x]=void 0);i?t.props=u?g:Vde(g):t.type.props?t.props=g:t.props=h,t.attrs=h}function Cfe(t,r,i,u){const{props:g,attrs:h,vnode:{patchFlag:x}}=t,C=hs(g),[D]=t.propsOptions;let I=!1;if((u||x>0)&&!(x&16)){if(x&8){const O=t.vnode.dynamicProps;for(let B=0;B<O.length;B++){let V=O[B];if(MF(t.emitsOptions,V))continue;const z=r[V];if(D)if(gi(h,V))z!==h[V]&&(h[V]=z,I=!0);else{const Z=Ld(V);g[Z]=RU(D,C,Z,z,t,!1)}else z!==h[V]&&(h[V]=z,I=!0)}}}else{CJ(t,r,g,h)&&(I=!0);let O;for(const B in C)(!r||!gi(r,B)&&((O=$C(B))===B||!gi(r,O)))&&(D?i&&(i[B]!==void 0||i[O]!==void 0)&&(g[B]=RU(D,C,B,void 0,t,!0)):delete g[B]);if(h!==C)for(const B in h)(!r||!gi(r,B))&&(delete h[B],I=!0)}I&&z0(t.attrs,"set","")}function CJ(t,r,i,u){const[g,h]=t.propsOptions;let x=!1,C;if(r)for(let D in r){if(vR(D))continue;const I=r[D];let O;g&&gi(g,O=Ld(D))?!h||!h.includes(O)?i[O]=I:(C||(C={}))[O]=I:MF(t.emitsOptions,D)||(!(D in u)||I!==u[D])&&(u[D]=I,x=!0)}if(h){const D=hs(i),I=C||Hi;for(let O=0;O<h.length;O++){const B=h[O];i[B]=RU(g,D,B,I[B],t,!gi(I,B))}}return x}function RU(t,r,i,u,g,h){const x=t[i];if(x!=null){const C=gi(x,"default");if(C&&u===void 0){const D=x.default;if(x.type!==Function&&!x.skipFactory&&Is(D)){const{propsDefaults:I}=g;if(i in I)u=I[i];else{const O=cI(g);u=I[i]=D.call(null,r),O()}}else u=D;g.ce&&g.ce._setProp(i,u)}x[0]&&(h&&!C?u=!1:x[1]&&(u===""||u===$C(i))&&(u=!0))}return u}const _fe=new WeakMap;function _J(t,r,i=!1){const u=i?_fe:r.propsCache,g=u.get(t);if(g)return g;const h=t.props,x={},C=[];let D=!1;if(!Is(t)){const O=B=>{D=!0;const[V,z]=_J(B,r,!0);sc(x,V),z&&C.push(...z)};!i&&r.mixins.length&&r.mixins.forEach(O),t.extends&&O(t.extends),t.mixins&&t.mixins.forEach(O)}if(!h&&!D)return Ri(t)&&u.set(t,hE),hE;if(as(h))for(let O=0;O<h.length;O++){const B=Ld(h[O]);WG(B)&&(x[B]=Hi)}else if(h)for(const O in h){const B=Ld(O);if(WG(B)){const V=h[O],z=x[B]=as(V)||Is(V)?{type:V}:sc({},V),Z=z.type;let ee=!1,ie=!0;if(as(Z))for(let W=0;W<Z.length;++W){const he=Z[W],ue=Is(he)&&he.name;if(ue==="Boolean"){ee=!0;break}else ue==="String"&&(ie=!1)}else ee=Is(Z)&&Z.name==="Boolean";z[0]=ee,z[1]=ie,(ee||gi(z,"default"))&&C.push(B)}}const I=[x,C];return Ri(t)&&u.set(t,I),I}function WG(t){return t[0]!=="$"&&!vR(t)}const RW=t=>t[0]==="_"||t==="$stable",IW=t=>as(t)?t.map(Db):[Db(t)],Sfe=(t,r,i)=>{if(r._n)return r;const u=Pt((...g)=>IW(r(...g)),i);return u._c=!1,u},SJ=(t,r,i)=>{const u=t._ctx;for(const g in t){if(RW(g))continue;const h=t[g];if(Is(h))r[g]=Sfe(g,h,u);else if(h!=null){const x=IW(h);r[g]=()=>x}}},kJ=(t,r)=>{const i=IW(r);t.slots.default=()=>i},EJ=(t,r,i)=>{for(const u in r)(i||!RW(u))&&(t[u]=r[u])},kfe=(t,r,i)=>{const u=t.slots=xJ();if(t.vnode.shapeFlag&32){const g=r.__;g&&wU(u,"__",g,!0);const h=r._;h?(EJ(u,r,i),i&&wU(u,"_",h,!0)):SJ(r,u)}else r&&kJ(t,r)},Efe=(t,r,i)=>{const{vnode:u,slots:g}=t;let h=!0,x=Hi;if(u.shapeFlag&32){const C=r._;C?i&&C===1?h=!1:EJ(g,r,i):(h=!r.$stable,SJ(r,g)),x=r}else r&&(kJ(t,r),x={default:1});if(h)for(const C in g)!RW(C)&&x[C]==null&&delete g[C]},Id=Vfe;function Afe(t){return Tfe(t)}function Tfe(t,r){const i=TF();i.__VUE__=!0;const{insert:u,remove:g,patchProp:h,createElement:x,createText:C,createComment:D,setText:I,setElementText:O,parentNode:B,nextSibling:V,setScopeId:z=Mb,insertStaticContent:Z}=t,ee=(je,tt,xe,Re=null,Ve=null,be=null,Se=void 0,Ne=null,Ge=!!tt.dynamicChildren)=>{if(je===tt)return;je&&!_C(je,tt)&&(Re=on(je),Me(je,Ve,be,!0),je=null),tt.patchFlag===-2&&(Ge=!1,tt.dynamicChildren=null);const{type:ht,ref:ln,shapeFlag:Kt}=tt;switch(ht){case lI:ie(je,tt,xe,Re);break;case $u:W(je,tt,xe,Re);break;case N9:je==null&&he(tt,xe,Re,Se);break;case is:_e(je,tt,xe,Re,Ve,be,Se,Ne,Ge);break;default:Kt&1?de(je,tt,xe,Re,Ve,be,Se,Ne,Ge):Kt&6?R(je,tt,xe,Re,Ve,be,Se,Ne,Ge):(Kt&64||Kt&128)&&ht.process(je,tt,xe,Re,Ve,be,Se,Ne,Ge,Zt)}ln!=null&&Ve?CR(ln,je&&je.ref,be,tt||je,!tt):ln==null&&je&&je.ref!=null&&CR(je.ref,null,be,je,!0)},ie=(je,tt,xe,Re)=>{if(je==null)u(tt.el=C(tt.children),xe,Re);else{const Ve=tt.el=je.el;tt.children!==je.children&&I(Ve,tt.children)}},W=(je,tt,xe,Re)=>{je==null?u(tt.el=D(tt.children||""),xe,Re):tt.el=je.el},he=(je,tt,xe,Re)=>{[je.el,je.anchor]=Z(je.children,tt,xe,Re,je.el,je.anchor)},ue=({el:je,anchor:tt},xe,Re)=>{let Ve;for(;je&&je!==tt;)Ve=V(je),u(je,xe,Re),je=Ve;u(tt,xe,Re)},j=({el:je,anchor:tt})=>{let xe;for(;je&&je!==tt;)xe=V(je),g(je),je=xe;g(tt)},de=(je,tt,xe,Re,Ve,be,Se,Ne,Ge)=>{tt.type==="svg"?Se="svg":tt.type==="math"&&(Se="mathml"),je==null?te(tt,xe,Re,Ve,be,Se,Ne,Ge):Je(je,tt,Ve,be,Se,Ne,Ge)},te=(je,tt,xe,Re,Ve,be,Se,Ne)=>{let Ge,ht;const{props:ln,shapeFlag:Kt,transition:yn,dirs:Yn}=je;if(Ge=je.el=x(je.type,be,ln&&ln.is,ln),Kt&8?O(Ge,je.children):Kt&16&&Fe(je.children,Ge,null,Re,Ve,P9(je,be),Se,Ne),Yn&&hC(je,null,Re,"created"),ze(Ge,je,je.scopeId,Se,Re),ln){for(const $o in ln)$o!=="value"&&!vR($o)&&h(Ge,$o,null,ln[$o],be,Re);"value"in ln&&h(Ge,"value",null,ln.value,be),(ht=ln.onVnodeBeforeMount)&&Sb(ht,Re,je)}Yn&&hC(je,null,Re,"beforeMount");const to=Ofe(Ve,yn);to&&yn.beforeEnter(Ge),u(Ge,tt,xe),((ht=ln&&ln.onVnodeMounted)||to||Yn)&&Id(()=>{ht&&Sb(ht,Re,je),to&&yn.enter(Ge),Yn&&hC(je,null,Re,"mounted")},Ve)},ze=(je,tt,xe,Re,Ve)=>{if(xe&&z(je,xe),Re)for(let be=0;be<Re.length;be++)z(je,Re[be]);if(Ve){let be=Ve.subTree;if(tt===be||RJ(be.type)&&(be.ssContent===tt||be.ssFallback===tt)){const Se=Ve.vnode;ze(je,Se,Se.scopeId,Se.slotScopeIds,Ve.parent)}}},Fe=(je,tt,xe,Re,Ve,be,Se,Ne,Ge=0)=>{for(let ht=Ge;ht<je.length;ht++){const ln=je[ht]=Ne?ux(je[ht]):Db(je[ht]);ee(null,ln,tt,xe,Re,Ve,be,Se,Ne)}},Je=(je,tt,xe,Re,Ve,be,Se)=>{const Ne=tt.el=je.el;let{patchFlag:Ge,dynamicChildren:ht,dirs:ln}=tt;Ge|=je.patchFlag&16;const Kt=je.props||Hi,yn=tt.props||Hi;let Yn;if(xe&&pC(xe,!1),(Yn=yn.onVnodeBeforeUpdate)&&Sb(Yn,xe,tt,je),ln&&hC(tt,je,xe,"beforeUpdate"),xe&&pC(xe,!0),(Kt.innerHTML&&yn.innerHTML==null||Kt.textContent&&yn.textContent==null)&&O(Ne,""),ht?rt(je.dynamicChildren,ht,Ne,xe,Re,P9(tt,Ve),be):Se||dt(je,tt,Ne,null,xe,Re,P9(tt,Ve),be,!1),Ge>0){if(Ge&16)we(Ne,Kt,yn,xe,Ve);else if(Ge&2&&Kt.class!==yn.class&&h(Ne,"class",null,yn.class,Ve),Ge&4&&h(Ne,"style",Kt.style,yn.style,Ve),Ge&8){const to=tt.dynamicProps;for(let $o=0;$o<to.length;$o++){const Do=to[$o],Zs=Kt[Do],us=yn[Do];(us!==Zs||Do==="value")&&h(Ne,Do,Zs,us,Ve,xe)}}Ge&1&&je.children!==tt.children&&O(Ne,tt.children)}else!Se&&ht==null&&we(Ne,Kt,yn,xe,Ve);((Yn=yn.onVnodeUpdated)||ln)&&Id(()=>{Yn&&Sb(Yn,xe,tt,je),ln&&hC(tt,je,xe,"updated")},Re)},rt=(je,tt,xe,Re,Ve,be,Se)=>{for(let Ne=0;Ne<tt.length;Ne++){const Ge=je[Ne],ht=tt[Ne],ln=Ge.el&&(Ge.type===is||!_C(Ge,ht)||Ge.shapeFlag&198)?B(Ge.el):xe;ee(Ge,ht,ln,null,Re,Ve,be,Se,!0)}},we=(je,tt,xe,Re,Ve)=>{if(tt!==xe){if(tt!==Hi)for(const be in tt)!vR(be)&&!(be in xe)&&h(je,be,tt[be],null,Ve,Re);for(const be in xe){if(vR(be))continue;const Se=xe[be],Ne=tt[be];Se!==Ne&&be!=="value"&&h(je,be,Ne,Se,Ve,Re)}"value"in xe&&h(je,"value",tt.value,xe.value,Ve)}},_e=(je,tt,xe,Re,Ve,be,Se,Ne,Ge)=>{const ht=tt.el=je?je.el:C(""),ln=tt.anchor=je?je.anchor:C("");let{patchFlag:Kt,dynamicChildren:yn,slotScopeIds:Yn}=tt;Yn&&(Ne=Ne?Ne.concat(Yn):Yn),je==null?(u(ht,xe,Re),u(ln,xe,Re),Fe(tt.children||[],xe,ln,Ve,be,Se,Ne,Ge)):Kt>0&&Kt&64&&yn&&je.dynamicChildren?(rt(je.dynamicChildren,yn,xe,Ve,be,Se,Ne),(tt.key!=null||Ve&&tt===Ve.subTree)&&DW(je,tt,!0)):dt(je,tt,xe,ln,Ve,be,Se,Ne,Ge)},R=(je,tt,xe,Re,Ve,be,Se,Ne,Ge)=>{tt.slotScopeIds=Ne,je==null?tt.shapeFlag&512?Ve.ctx.activate(tt,xe,Re,Se,Ge):it(tt,xe,Re,Ve,be,Se,Ge):St(je,tt,Ge)},it=(je,tt,xe,Re,Ve,be,Se)=>{const Ne=je.component=jfe(je,Re,Ve);if(PF(je)&&(Ne.ctx.renderer=Zt),Zfe(Ne,!1,Se),Ne.asyncDep){if(Ve&&Ve.registerDep(Ne,Ut,Se),!je.el){const Ge=Ne.subTree=ce($u);W(null,Ge,tt,xe)}}else Ut(Ne,je,tt,xe,Ve,be,Se)},St=(je,tt,xe)=>{const Re=tt.component=je.component;if(Ffe(je,tt,xe))if(Re.asyncDep&&!Re.asyncResolved){sn(Re,tt,xe);return}else Re.next=tt,Re.update();else tt.el=je.el,Re.vnode=tt},Ut=(je,tt,xe,Re,Ve,be,Se)=>{const Ne=()=>{if(je.isMounted){let{next:Kt,bu:yn,u:Yn,parent:to,vnode:$o}=je;{const xs=AJ(je);if(xs){Kt&&(Kt.el=$o.el,sn(je,Kt,Se)),xs.asyncDep.then(()=>{je.isUnmounted||Ne()});return}}let Do=Kt,Zs;pC(je,!1),Kt?(Kt.el=$o.el,sn(je,Kt,Se)):Kt=$o,yn&&I6(yn),(Zs=Kt.props&&Kt.props.onVnodeBeforeUpdate)&&Sb(Zs,to,Kt,$o),pC(je,!0);const us=jG(je),Qr=je.subTree;je.subTree=us,ee(Qr,us,B(Qr.el),on(Qr),je,Ve,be),Kt.el=us.el,Do===null&&$fe(je,us.el),Yn&&Id(Yn,Ve),(Zs=Kt.props&&Kt.props.onVnodeUpdated)&&Id(()=>Sb(Zs,to,Kt,$o),Ve)}else{let Kt;const{el:yn,props:Yn}=tt,{bm:to,m:$o,parent:Do,root:Zs,type:us}=je,Qr=_R(tt);pC(je,!1),to&&I6(to),!Qr&&(Kt=Yn&&Yn.onVnodeBeforeMount)&&Sb(Kt,Do,tt),pC(je,!0);{Zs.ce&&Zs.ce._def.shadowRoot!==!1&&Zs.ce._injectChildStyle(us);const xs=je.subTree=jG(je);ee(null,xs,xe,Re,je,Ve,be),tt.el=xs.el}if($o&&Id($o,Ve),!Qr&&(Kt=Yn&&Yn.onVnodeMounted)){const xs=tt;Id(()=>Sb(Kt,Do,xs),Ve)}(tt.shapeFlag&256||Do&&_R(Do.vnode)&&Do.vnode.shapeFlag&256)&&je.a&&Id(je.a,Ve),je.isMounted=!0,tt=xe=Re=null}};je.scope.on();const Ge=je.effect=new LX(Ne);je.scope.off();const ht=je.update=Ge.run.bind(Ge),ln=je.job=Ge.runIfDirty.bind(Ge);ln.i=je,ln.id=je.uid,Ge.scheduler=()=>EW(ln),pC(je,!0),ht()},sn=(je,tt,xe)=>{tt.component=je;const Re=je.vnode.props;je.vnode=tt,je.next=null,Cfe(je,tt.props,Re,xe),Efe(je,tt.children,xe),G0(),NG(je),q0()},dt=(je,tt,xe,Re,Ve,be,Se,Ne,Ge=!1)=>{const ht=je&&je.children,ln=je?je.shapeFlag:0,Kt=tt.children,{patchFlag:yn,shapeFlag:Yn}=tt;if(yn>0){if(yn&128){At(ht,Kt,xe,Re,Ve,be,Se,Ne,Ge);return}else if(yn&256){An(ht,Kt,xe,Re,Ve,be,Se,Ne,Ge);return}}Yn&8?(ln&16&&In(ht,Ve,be),Kt!==ht&&O(xe,Kt)):ln&16?Yn&16?At(ht,Kt,xe,Re,Ve,be,Se,Ne,Ge):In(ht,Ve,be,!0):(ln&8&&O(xe,""),Yn&16&&Fe(Kt,xe,Re,Ve,be,Se,Ne,Ge))},An=(je,tt,xe,Re,Ve,be,Se,Ne,Ge)=>{je=je||hE,tt=tt||hE;const ht=je.length,ln=tt.length,Kt=Math.min(ht,ln);let yn;for(yn=0;yn<Kt;yn++){const Yn=tt[yn]=Ge?ux(tt[yn]):Db(tt[yn]);ee(je[yn],Yn,xe,null,Ve,be,Se,Ne,Ge)}ht>ln?In(je,Ve,be,!0,!1,Kt):Fe(tt,xe,Re,Ve,be,Se,Ne,Ge,Kt)},At=(je,tt,xe,Re,Ve,be,Se,Ne,Ge)=>{let ht=0;const ln=tt.length;let Kt=je.length-1,yn=ln-1;for(;ht<=Kt&&ht<=yn;){const Yn=je[ht],to=tt[ht]=Ge?ux(tt[ht]):Db(tt[ht]);if(_C(Yn,to))ee(Yn,to,xe,null,Ve,be,Se,Ne,Ge);else break;ht++}for(;ht<=Kt&&ht<=yn;){const Yn=je[Kt],to=tt[yn]=Ge?ux(tt[yn]):Db(tt[yn]);if(_C(Yn,to))ee(Yn,to,xe,null,Ve,be,Se,Ne,Ge);else break;Kt--,yn--}if(ht>Kt){if(ht<=yn){const Yn=yn+1,to=Yn<ln?tt[Yn].el:Re;for(;ht<=yn;)ee(null,tt[ht]=Ge?ux(tt[ht]):Db(tt[ht]),xe,to,Ve,be,Se,Ne,Ge),ht++}}else if(ht>yn)for(;ht<=Kt;)Me(je[ht],Ve,be,!0),ht++;else{const Yn=ht,to=ht,$o=new Map;for(ht=to;ht<=yn;ht++){const go=tt[ht]=Ge?ux(tt[ht]):Db(tt[ht]);go.key!=null&&$o.set(go.key,ht)}let Do,Zs=0;const us=yn-to+1;let Qr=!1,xs=0;const ji=new Array(us);for(ht=0;ht<us;ht++)ji[ht]=0;for(ht=Yn;ht<=Kt;ht++){const go=je[ht];if(Zs>=us){Me(go,Ve,be,!0);continue}let Ro;if(go.key!=null)Ro=$o.get(go.key);else for(Do=to;Do<=yn;Do++)if(ji[Do-to]===0&&_C(go,tt[Do])){Ro=Do;break}Ro===void 0?Me(go,Ve,be,!0):(ji[Ro-to]=ht+1,Ro>=xs?xs=Ro:Qr=!0,ee(go,tt[Ro],xe,null,Ve,be,Se,Ne,Ge),Zs++)}const Tn=Qr?Rfe(ji):hE;for(Do=Tn.length-1,ht=us-1;ht>=0;ht--){const go=to+ht,Ro=tt[go],ai=go+1<ln?tt[go+1].el:Re;ji[ht]===0?ee(null,Ro,xe,ai,Ve,be,Se,Ne,Ge):Qr&&(Do<0||ht!==Tn[Do]?et(Ro,xe,ai,2):Do--)}}},et=(je,tt,xe,Re,Ve=null)=>{const{el:be,type:Se,transition:Ne,children:Ge,shapeFlag:ht}=je;if(ht&6){et(je.component.subTree,tt,xe,Re);return}if(ht&128){je.suspense.move(tt,xe,Re);return}if(ht&64){Se.move(je,tt,xe,Zt);return}if(Se===is){u(be,tt,xe);for(let Kt=0;Kt<Ge.length;Kt++)et(Ge[Kt],tt,xe,Re);u(je.anchor,tt,xe);return}if(Se===N9){ue(je,tt,xe);return}if(Re!==2&&ht&1&&Ne)if(Re===0)Ne.beforeEnter(be),u(be,tt,xe),Id(()=>Ne.enter(be),Ve);else{const{leave:Kt,delayLeave:yn,afterLeave:Yn}=Ne,to=()=>{je.ctx.isUnmounted?g(be):u(be,tt,xe)},$o=()=>{Kt(be,()=>{to(),Yn&&Yn()})};yn?yn(be,to,$o):$o()}else u(be,tt,xe)},Me=(je,tt,xe,Re=!1,Ve=!1)=>{const{type:be,props:Se,ref:Ne,children:Ge,dynamicChildren:ht,shapeFlag:ln,patchFlag:Kt,dirs:yn,cacheIndex:Yn}=je;if(Kt===-2&&(Ve=!1),Ne!=null&&(G0(),CR(Ne,null,xe,je,!0),q0()),Yn!=null&&(tt.renderCache[Yn]=void 0),ln&256){tt.ctx.deactivate(je);return}const to=ln&1&&yn,$o=!_R(je);let Do;if($o&&(Do=Se&&Se.onVnodeBeforeUnmount)&&Sb(Do,tt,je),ln&6)Wt(je.component,xe,Re);else{if(ln&128){je.suspense.unmount(xe,Re);return}to&&hC(je,null,tt,"beforeUnmount"),ln&64?je.type.remove(je,tt,xe,Zt,Re):ht&&!ht.hasOnce&&(be!==is||Kt>0&&Kt&64)?In(ht,tt,xe,!1,!0):(be===is&&Kt&384||!Ve&&ln&16)&&In(Ge,tt,xe),Re&&mt(je)}($o&&(Do=Se&&Se.onVnodeUnmounted)||to)&&Id(()=>{Do&&Sb(Do,tt,je),to&&hC(je,null,tt,"unmounted")},xe)},mt=je=>{const{type:tt,el:xe,anchor:Re,transition:Ve}=je;if(tt===is){vo(xe,Re);return}if(tt===N9){j(je);return}const be=()=>{g(xe),Ve&&!Ve.persisted&&Ve.afterLeave&&Ve.afterLeave()};if(je.shapeFlag&1&&Ve&&!Ve.persisted){const{leave:Se,delayLeave:Ne}=Ve,Ge=()=>Se(xe,be);Ne?Ne(je.el,be,Ge):Ge()}else be()},vo=(je,tt)=>{let xe;for(;je!==tt;)xe=V(je),g(je),je=xe;g(tt)},Wt=(je,tt,xe)=>{const{bum:Re,scope:Ve,job:be,subTree:Se,um:Ne,m:Ge,a:ht,parent:ln,slots:{__:Kt}}=je;KG(Ge),KG(ht),Re&&I6(Re),ln&&as(Kt)&&Kt.forEach(yn=>{ln.renderCache[yn]=void 0}),Ve.stop(),be&&(be.flags|=8,Me(Se,je,tt,xe)),Ne&&Id(Ne,tt),Id(()=>{je.isUnmounted=!0},tt),tt&&tt.pendingBranch&&!tt.isUnmounted&&je.asyncDep&&!je.asyncResolved&&je.suspenseId===tt.pendingId&&(tt.deps--,tt.deps===0&&tt.resolve())},In=(je,tt,xe,Re=!1,Ve=!1,be=0)=>{for(let Se=be;Se<je.length;Se++)Me(je[Se],tt,xe,Re,Ve)},on=je=>{if(je.shapeFlag&6)return on(je.component.subTree);if(je.shapeFlag&128)return je.suspense.next();const tt=V(je.anchor||je.el),xe=tt&&tt[oJ];return xe?V(xe):tt};let J=!1;const mo=(je,tt,xe)=>{je==null?tt._vnode&&Me(tt._vnode,null,null,!0):ee(tt._vnode||null,je,tt,null,null,null,xe),tt._vnode=je,J||(J=!0,NG(),eJ(),J=!1)},Zt={p:ee,um:Me,m:et,r:mt,mt:it,mc:Fe,pc:dt,pbc:rt,n:on,o:t};return{render:mo,hydrate:void 0,createApp:yfe(mo)}}function P9({type:t,props:r},i){return i==="svg"&&t==="foreignObject"||i==="mathml"&&t==="annotation-xml"&&r&&r.encoding&&r.encoding.includes("html")?void 0:i}function pC({effect:t,job:r},i){i?(t.flags|=32,r.flags|=4):(t.flags&=-33,r.flags&=-5)}function Ofe(t,r){return(!t||t&&!t.pendingBranch)&&r&&!r.persisted}function DW(t,r,i=!1){const u=t.children,g=r.children;if(as(u)&&as(g))for(let h=0;h<u.length;h++){const x=u[h];let C=g[h];C.shapeFlag&1&&!C.dynamicChildren&&((C.patchFlag<=0||C.patchFlag===32)&&(C=g[h]=ux(g[h]),C.el=x.el),!i&&C.patchFlag!==-2&&DW(x,C)),C.type===lI&&(C.el=x.el),C.type===$u&&!C.el&&(C.el=x.el)}}function Rfe(t){const r=t.slice(),i=[0];let u,g,h,x,C;const D=t.length;for(u=0;u<D;u++){const I=t[u];if(I!==0){if(g=i[i.length-1],t[g]<I){r[u]=g,i.push(u);continue}for(h=0,x=i.length-1;h<x;)C=h+x>>1,t[i[C]]<I?h=C+1:x=C;I<t[i[h]]&&(h>0&&(r[u]=i[h-1]),i[h]=u)}}for(h=i.length,x=i[h-1];h-- >0;)i[h]=x,x=r[x];return i}function AJ(t){const r=t.subTree.component;if(r)return r.asyncDep&&!r.asyncResolved?r:AJ(r)}function KG(t){if(t)for(let r=0;r<t.length;r++)t[r].flags|=8}const Ife=Symbol.for("v-scx"),Dfe=()=>Wi(Ife);function Md(t,r){return PW(t,null,r)}function Rn(t,r,i){return PW(t,r,i)}function PW(t,r,i=Hi){const{immediate:u,deep:g,flush:h,once:x}=i,C=sc({},i),D=r&&u||!r&&h!=="post";let I;if(BR){if(h==="sync"){const z=Dfe();I=z.__watcherHandles||(z.__watcherHandles=[])}else if(!D){const z=()=>{};return z.stop=Mb,z.resume=Mb,z.pause=Mb,z}}const O=kc;C.call=(z,Z,ee)=>lp(z,O,Z,ee);let B=!1;h==="post"?C.scheduler=z=>{Id(z,O&&O.suspense)}:h!=="sync"&&(B=!0,C.scheduler=(z,Z)=>{Z?z():EW(z)}),C.augmentJob=z=>{r&&(z.flags|=4),B&&(z.flags|=2,O&&(z.id=O.uid,z.i=O))};const V=Gde(t,r,C);return BR&&(I?I.push(V):D&&V()),V}function Pfe(t,r,i){const u=this.proxy,g=el(t)?t.includes(".")?TJ(u,t):()=>u[t]:t.bind(u,u);let h;Is(r)?h=r:(h=r.handler,i=r);const x=cI(this),C=PW(g,h.bind(u),i);return x(),C}function TJ(t,r){const i=r.split(".");return()=>{let u=t;for(let g=0;g<i.length&&u;g++)u=u[i[g]];return u}}const Nfe=(t,r)=>r==="modelValue"||r==="model-value"?t.modelModifiers:t[`${r}Modifiers`]||t[`${Ld(r)}Modifiers`]||t[`${$C(r)}Modifiers`];function Lfe(t,r,...i){if(t.isUnmounted)return;const u=t.vnode.props||Hi;let g=i;const h=r.startsWith("update:"),x=h&&Nfe(u,r.slice(7));x&&(x.trim&&(g=i.map(O=>el(O)?O.trim():O)),x.number&&(g=i.map(CU)));let C,D=u[C=E9(r)]||u[C=E9(Ld(r))];!D&&h&&(D=u[C=E9($C(r))]),D&&lp(D,t,6,g);const I=u[C+"Once"];if(I){if(!t.emitted)t.emitted={};else if(t.emitted[C])return;t.emitted[C]=!0,lp(I,t,6,g)}}function OJ(t,r,i=!1){const u=r.emitsCache,g=u.get(t);if(g!==void 0)return g;const h=t.emits;let x={},C=!1;if(!Is(t)){const D=I=>{const O=OJ(I,r,!0);O&&(C=!0,sc(x,O))};!i&&r.mixins.length&&r.mixins.forEach(D),t.extends&&D(t.extends),t.mixins&&t.mixins.forEach(D)}return!h&&!C?(Ri(t)&&u.set(t,null),null):(as(h)?h.forEach(D=>x[D]=null):sc(x,h),Ri(t)&&u.set(t,x),x)}function MF(t,r){return!t||!kF(r)?!1:(r=r.slice(2).replace(/Once$/,""),gi(t,r[0].toLowerCase()+r.slice(1))||gi(t,$C(r))||gi(t,r))}function jG(t){const{type:r,vnode:i,proxy:u,withProxy:g,propsOptions:[h],slots:x,attrs:C,emit:D,render:I,renderCache:O,props:B,data:V,setupState:z,ctx:Z,inheritAttrs:ee}=t,ie=Y6(t);let W,he;try{if(i.shapeFlag&4){const j=g||u,de=j;W=Db(I.call(de,j,O,B,z,V,Z)),he=C}else{const j=r;W=Db(j.length>1?j(B,{attrs:C,slots:x,emit:D}):j(B,null)),he=r.props?C:Mfe(C)}}catch(j){kR.length=0,DF(j,t,1),W=ce($u)}let ue=W;if(he&&ee!==!1){const j=Object.keys(he),{shapeFlag:de}=ue;j.length&&de&7&&(h&&j.some(gW)&&(he=Bfe(he,h)),ue=X0(ue,he,!1,!0))}return i.dirs&&(ue=X0(ue,null,!1,!0),ue.dirs=ue.dirs?ue.dirs.concat(i.dirs):i.dirs),i.transition&&LC(ue,i.transition),W=ue,Y6(ie),W}const Mfe=t=>{let r;for(const i in t)(i==="class"||i==="style"||kF(i))&&((r||(r={}))[i]=t[i]);return r},Bfe=(t,r)=>{const i={};for(const u in t)(!gW(u)||!(u.slice(9)in r))&&(i[u]=t[u]);return i};function Ffe(t,r,i){const{props:u,children:g,component:h}=t,{props:x,children:C,patchFlag:D}=r,I=h.emitsOptions;if(r.dirs||r.transition)return!0;if(i&&D>=0){if(D&1024)return!0;if(D&16)return u?ZG(u,x,I):!!x;if(D&8){const O=r.dynamicProps;for(let B=0;B<O.length;B++){const V=O[B];if(x[V]!==u[V]&&!MF(I,V))return!0}}}else return(g||C)&&(!C||!C.$stable)?!0:u===x?!1:u?x?ZG(u,x,I):!0:!!x;return!1}function ZG(t,r,i){const u=Object.keys(r);if(u.length!==Object.keys(t).length)return!0;for(let g=0;g<u.length;g++){const h=u[g];if(r[h]!==t[h]&&!MF(i,h))return!0}return!1}function $fe({vnode:t,parent:r},i){for(;r;){const u=r.subTree;if(u.suspense&&u.suspense.activeBranch===t&&(u.el=t.el),u===t)(t=r.vnode).el=i,r=r.parent;else break}}const RJ=t=>t.__isSuspense;function Vfe(t,r){r&&r.pendingBranch?as(t)?r.effects.push(...t):r.effects.push(t):Xde(t)}const is=Symbol.for("v-fgt"),lI=Symbol.for("v-txt"),$u=Symbol.for("v-cmt"),N9=Symbol.for("v-stc"),kR=[];let _m=null;function Cn(t=!1){kR.push(_m=t?null:[])}function zfe(){kR.pop(),_m=kR[kR.length-1]||null}let LR=1;function GG(t,r=!1){LR+=t,t<0&&_m&&r&&(_m.hasOnce=!0)}function IJ(t){return t.dynamicChildren=LR>0?_m||hE:null,zfe(),LR>0&&_m&&_m.push(t),t}function Lo(t,r,i,u,g,h){return IJ(oe(t,r,i,u,g,h,!0))}function Rs(t,r,i,u,g){return IJ(ce(t,r,i,u,g,!0))}function MR(t){return t?t.__v_isVNode===!0:!1}function _C(t,r){return t.type===r.type&&t.key===r.key}const DJ=({key:t})=>t??null,P6=({ref:t,ref_key:r,ref_for:i})=>(typeof t=="number"&&(t=""+t),t!=null?el(t)||ra(t)||Is(t)?{i:Nd,r:t,k:r,f:!!i}:t:null);function oe(t,r=null,i=null,u=0,g=null,h=t===is?0:1,x=!1,C=!1){const D={__v_isVNode:!0,__v_skip:!0,type:t,props:r,key:r&&DJ(r),ref:r&&P6(r),scopeId:nJ,slotScopeIds:null,children:i,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:h,patchFlag:u,dynamicProps:g,dynamicChildren:null,appContext:null,ctx:Nd};return C?(NW(D,i),h&128&&t.normalize(D)):i&&(D.shapeFlag|=el(i)?8:16),LR>0&&!x&&_m&&(D.patchFlag>0||h&6)&&D.patchFlag!==32&&_m.push(D),D}const ce=Hfe;function Hfe(t,r=null,i=null,u=0,g=null,h=!1){if((!t||t===cfe)&&(t=$u),MR(t)){const C=X0(t,r,!0);return i&&NW(C,i),LR>0&&!h&&_m&&(C.shapeFlag&6?_m[_m.indexOf(t)]=C:_m.push(C)),C.patchFlag=-2,C}if(Jfe(t)&&(t=t.__vccOpts),r){r=Ufe(r);let{class:C,style:D}=r;C&&!el(C)&&(r.class=ao(C)),Ri(D)&&(SW(D)&&!as(D)&&(D=sc({},D)),r.style=Ls(D))}const x=el(t)?1:RJ(t)?128:sJ(t)?64:Ri(t)?4:Is(t)?2:0;return oe(t,r,i,u,g,x,h,!0)}function Ufe(t){return t?SW(t)||wJ(t)?sc({},t):t:null}function X0(t,r,i=!1,u=!1){const{props:g,ref:h,patchFlag:x,children:C,transition:D}=t,I=r?Bo(g||{},r):g,O={__v_isVNode:!0,__v_skip:!0,type:t.type,props:I,key:I&&DJ(I),ref:r&&r.ref?i&&h?as(h)?h.concat(P6(r)):[h,P6(r)]:P6(r):h,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:C,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:r&&t.type!==is?x===-1?16:x|16:x,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:D,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&X0(t.ssContent),ssFallback:t.ssFallback&&X0(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return D&&u&&LC(O,D.clone(O)),O}function qs(t=" ",r=0){return ce(lI,null,t,r)}function Ho(t="",r=!1){return r?(Cn(),Rs($u,null,t)):ce($u,null,t)}function Db(t){return t==null||typeof t=="boolean"?ce($u):as(t)?ce(is,null,t.slice()):MR(t)?ux(t):ce(lI,null,String(t))}function ux(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:X0(t)}function NW(t,r){let i=0;const{shapeFlag:u}=t;if(r==null)r=null;else if(as(r))i=16;else if(typeof r=="object")if(u&65){const g=r.default;g&&(g._c&&(g._d=!1),NW(t,g()),g._c&&(g._d=!0));return}else{i=32;const g=r._;!g&&!wJ(r)?r._ctx=Nd:g===3&&Nd&&(Nd.slots._===1?r._=1:(r._=2,t.patchFlag|=1024))}else Is(r)?(r={default:r,_ctx:Nd},i=32):(r=String(r),u&64?(i=16,r=[qs(r)]):i=8);t.children=r,t.shapeFlag|=i}function Bo(...t){const r={};for(let i=0;i<t.length;i++){const u=t[i];for(const g in u)if(g==="class")r.class!==u.class&&(r.class=ao([r.class,u.class]));else if(g==="style")r.style=Ls([r.style,u.style]);else if(kF(g)){const h=r[g],x=u[g];x&&h!==x&&!(as(h)&&h.includes(x))&&(r[g]=h?[].concat(h,x):x)}else g!==""&&(r[g]=u[g])}return r}function Sb(t,r,i,u=null){lp(t,r,7,[i,u])}const Wfe=vJ();let Kfe=0;function jfe(t,r,i){const u=t.type,g=(r?r.appContext:t.appContext)||Wfe,h={uid:Kfe++,vnode:t,type:u,parent:r,appContext:g,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new NX(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:r?r.provides:Object.create(g.provides),ids:r?r.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:_J(u,g),emitsOptions:OJ(u,g),emit:null,emitted:null,propsDefaults:Hi,inheritAttrs:u.inheritAttrs,ctx:Hi,data:Hi,props:Hi,attrs:Hi,slots:Hi,refs:Hi,setupState:Hi,setupContext:null,suspense:i,suspenseId:i?i.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return h.ctx={_:h},h.root=r?r.root:h,h.emit=Lfe.bind(null,h),t.ce&&t.ce(h),h}let kc=null;const DE=()=>kc||Nd;let J6,IU;{const t=TF(),r=(i,u)=>{let g;return(g=t[i])||(g=t[i]=[]),g.push(u),h=>{g.length>1?g.forEach(x=>x(h)):g[0](h)}};J6=r("__VUE_INSTANCE_SETTERS__",i=>kc=i),IU=r("__VUE_SSR_SETTERS__",i=>BR=i)}const cI=t=>{const r=kc;return J6(t),t.scope.on(),()=>{t.scope.off(),J6(r)}},qG=()=>{kc&&kc.scope.off(),J6(null)};function PJ(t){return t.vnode.shapeFlag&4}let BR=!1;function Zfe(t,r=!1,i=!1){r&&IU(r);const{props:u,children:g}=t.vnode,h=PJ(t);wfe(t,u,h,r),kfe(t,g,i||r);const x=h?Gfe(t,r):void 0;return r&&IU(!1),x}function Gfe(t,r){const i=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,ffe);const{setup:u}=i;if(u){G0();const g=t.setupContext=u.length>1?Yfe(t):null,h=cI(t),x=iI(u,t,0,[t.props,g]),C=AX(x);if(q0(),h(),(C||t.sp)&&!_R(t)&&mJ(t),C){if(x.then(qG,qG),r)return x.then(D=>{YG(t,D)}).catch(D=>{DF(D,t,0)});t.asyncDep=x}else YG(t,x)}else NJ(t)}function YG(t,r,i){Is(r)?t.type.__ssrInlineRender?t.ssrRender=r:t.render=r:Ri(r)&&(t.setupState=YX(r)),NJ(t)}function NJ(t,r,i){const u=t.type;t.render||(t.render=u.render||Mb);{const g=cI(t);G0();try{mfe(t)}finally{q0(),g()}}}const qfe={get(t,r){return Bu(t,"get",""),t[r]}};function Yfe(t){const r=i=>{t.exposed=i||{}};return{attrs:new Proxy(t.attrs,qfe),slots:t.slots,emit:t.emit,expose:r}}function BF(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(YX(kW(t.exposed)),{get(r,i){if(i in r)return r[i];if(i in SR)return SR[i](t)},has(r,i){return i in r||i in SR}})):t.proxy}function Xfe(t,r=!0){return Is(t)?t.displayName||t.name:t.name||r&&t.__name}function Jfe(t){return Is(t)&&"__vccOpts"in t}const It=(t,r)=>jde(t,r,BR);function Vb(t,r,i){const u=arguments.length;return u===2?Ri(r)&&!as(r)?MR(r)?ce(t,null,[r]):ce(t,r):ce(t,null,r):(u>3?i=Array.prototype.slice.call(arguments,2):u===3&&MR(i)&&(i=[i]),ce(t,r,i))}const Qfe="3.5.17";/**
* @vue/runtime-dom v3.5.17
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let DU;const XG=typeof window<"u"&&window.trustedTypes;if(XG)try{DU=XG.createPolicy("vue",{createHTML:t=>t})}catch{}const LJ=DU?t=>DU.createHTML(t):t=>t,eme="http://www.w3.org/2000/svg",tme="http://www.w3.org/1998/Math/MathML",V0=typeof document<"u"?document:null,JG=V0&&V0.createElement("template"),nme={insert:(t,r,i)=>{r.insertBefore(t,i||null)},remove:t=>{const r=t.parentNode;r&&r.removeChild(t)},createElement:(t,r,i,u)=>{const g=r==="svg"?V0.createElementNS(eme,t):r==="mathml"?V0.createElementNS(tme,t):i?V0.createElement(t,{is:i}):V0.createElement(t);return t==="select"&&u&&u.multiple!=null&&g.setAttribute("multiple",u.multiple),g},createText:t=>V0.createTextNode(t),createComment:t=>V0.createComment(t),setText:(t,r)=>{t.nodeValue=r},setElementText:(t,r)=>{t.textContent=r},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>V0.querySelector(t),setScopeId(t,r){t.setAttribute(r,"")},insertStaticContent(t,r,i,u,g,h){const x=i?i.previousSibling:r.lastChild;if(g&&(g===h||g.nextSibling))for(;r.insertBefore(g.cloneNode(!0),i),!(g===h||!(g=g.nextSibling)););else{JG.innerHTML=LJ(u==="svg"?`<svg>${t}</svg>`:u==="mathml"?`<math>${t}</math>`:t);const C=JG.content;if(u==="svg"||u==="mathml"){const D=C.firstChild;for(;D.firstChild;)C.appendChild(D.firstChild);C.removeChild(D)}r.insertBefore(C,i)}return[x?x.nextSibling:r.firstChild,i?i.previousSibling:r.lastChild]}},tx="transition",uR="animation",wE=Symbol("_vtc"),MJ={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},BJ=sc({},lJ,MJ),ome=t=>(t.displayName="Transition",t.props=BJ,t),vx=ome((t,{slots:r})=>Vb(tfe,FJ(t),r)),bC=(t,r=[])=>{as(t)?t.forEach(i=>i(...r)):t&&t(...r)},QG=t=>t?as(t)?t.some(r=>r.length>1):t.length>1:!1;function FJ(t){const r={};for(const _e in t)_e in MJ||(r[_e]=t[_e]);if(t.css===!1)return r;const{name:i="v",type:u,duration:g,enterFromClass:h=`${i}-enter-from`,enterActiveClass:x=`${i}-enter-active`,enterToClass:C=`${i}-enter-to`,appearFromClass:D=h,appearActiveClass:I=x,appearToClass:O=C,leaveFromClass:B=`${i}-leave-from`,leaveActiveClass:V=`${i}-leave-active`,leaveToClass:z=`${i}-leave-to`}=t,Z=sme(g),ee=Z&&Z[0],ie=Z&&Z[1],{onBeforeEnter:W,onEnter:he,onEnterCancelled:ue,onLeave:j,onLeaveCancelled:de,onBeforeAppear:te=W,onAppear:ze=he,onAppearCancelled:Fe=ue}=r,Je=(_e,R,it,St)=>{_e._enterCancelled=St,ix(_e,R?O:C),ix(_e,R?I:x),it&&it()},rt=(_e,R)=>{_e._isLeaving=!1,ix(_e,B),ix(_e,z),ix(_e,V),R&&R()},we=_e=>(R,it)=>{const St=_e?ze:he,Ut=()=>Je(R,_e,it);bC(St,[R,Ut]),eq(()=>{ix(R,_e?D:h),Ob(R,_e?O:C),QG(St)||tq(R,u,ee,Ut)})};return sc(r,{onBeforeEnter(_e){bC(W,[_e]),Ob(_e,h),Ob(_e,x)},onBeforeAppear(_e){bC(te,[_e]),Ob(_e,D),Ob(_e,I)},onEnter:we(!1),onAppear:we(!0),onLeave(_e,R){_e._isLeaving=!0;const it=()=>rt(_e,R);Ob(_e,B),_e._enterCancelled?(Ob(_e,V),PU()):(PU(),Ob(_e,V)),eq(()=>{_e._isLeaving&&(ix(_e,B),Ob(_e,z),QG(j)||tq(_e,u,ie,it))}),bC(j,[_e,it])},onEnterCancelled(_e){Je(_e,!1,void 0,!0),bC(ue,[_e])},onAppearCancelled(_e){Je(_e,!0,void 0,!0),bC(Fe,[_e])},onLeaveCancelled(_e){rt(_e),bC(de,[_e])}})}function sme(t){if(t==null)return null;if(Ri(t))return[L9(t.enter),L9(t.leave)];{const r=L9(t);return[r,r]}}function L9(t){return mde(t)}function Ob(t,r){r.split(/\s+/).forEach(i=>i&&t.classList.add(i)),(t[wE]||(t[wE]=new Set)).add(r)}function ix(t,r){r.split(/\s+/).forEach(u=>u&&t.classList.remove(u));const i=t[wE];i&&(i.delete(r),i.size||(t[wE]=void 0))}function eq(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let rme=0;function tq(t,r,i,u){const g=t._endId=++rme,h=()=>{g===t._endId&&u()};if(i!=null)return setTimeout(h,i);const{type:x,timeout:C,propCount:D}=$J(t,r);if(!x)return u();const I=x+"end";let O=0;const B=()=>{t.removeEventListener(I,V),h()},V=z=>{z.target===t&&++O>=D&&B()};setTimeout(()=>{O<D&&B()},C+1),t.addEventListener(I,V)}function $J(t,r){const i=window.getComputedStyle(t),u=Z=>(i[Z]||"").split(", "),g=u(`${tx}Delay`),h=u(`${tx}Duration`),x=nq(g,h),C=u(`${uR}Delay`),D=u(`${uR}Duration`),I=nq(C,D);let O=null,B=0,V=0;r===tx?x>0&&(O=tx,B=x,V=h.length):r===uR?I>0&&(O=uR,B=I,V=D.length):(B=Math.max(x,I),O=B>0?x>I?tx:uR:null,V=O?O===tx?h.length:D.length:0);const z=O===tx&&/\b(transform|all)(,|$)/.test(u(`${tx}Property`).toString());return{type:O,timeout:B,propCount:V,hasTransform:z}}function nq(t,r){for(;t.length<r.length;)t=t.concat(t);return Math.max(...r.map((i,u)=>oq(i)+oq(t[u])))}function oq(t){return t==="auto"?0:Number(t.slice(0,-1).replace(",","."))*1e3}function PU(){return document.body.offsetHeight}function ime(t,r,i){const u=t[wE];u&&(r=(r?[r,...u]:[...u]).join(" ")),r==null?t.removeAttribute("class"):i?t.setAttribute("class",r):t.className=r}const Q6=Symbol("_vod"),VJ=Symbol("_vsh"),fo={beforeMount(t,{value:r},{transition:i}){t[Q6]=t.style.display==="none"?"":t.style.display,i&&r?i.beforeEnter(t):dR(t,r)},mounted(t,{value:r},{transition:i}){i&&r&&i.enter(t)},updated(t,{value:r,oldValue:i},{transition:u}){!r!=!i&&(u?r?(u.beforeEnter(t),dR(t,!0),u.enter(t)):u.leave(t,()=>{dR(t,!1)}):dR(t,r))},beforeUnmount(t,{value:r}){dR(t,r)}};function dR(t,r){t.style.display=r?t[Q6]:"none",t[VJ]=!r}const ame=Symbol(""),lme=/(^|;)\s*display\s*:/;function cme(t,r,i){const u=t.style,g=el(i);let h=!1;if(i&&!g){if(r)if(el(r))for(const x of r.split(";")){const C=x.slice(0,x.indexOf(":")).trim();i[C]==null&&N6(u,C,"")}else for(const x in r)i[x]==null&&N6(u,x,"");for(const x in i)x==="display"&&(h=!0),N6(u,x,i[x])}else if(g){if(r!==i){const x=u[ame];x&&(i+=";"+x),u.cssText=i,h=lme.test(i)}}else r&&t.removeAttribute("style");Q6 in t&&(t[Q6]=h?u.display:"",t[VJ]&&(u.display="none"))}const sq=/\s*!important$/;function N6(t,r,i){if(as(i))i.forEach(u=>N6(t,r,u));else if(i==null&&(i=""),r.startsWith("--"))t.setProperty(r,i);else{const u=ume(t,r);sq.test(i)?t.setProperty($C(u),i.replace(sq,""),"important"):t[u]=i}}const rq=["Webkit","Moz","ms"],M9={};function ume(t,r){const i=M9[r];if(i)return i;let u=Ld(r);if(u!=="filter"&&u in t)return M9[r]=u;u=e1(u);for(let g=0;g<rq.length;g++){const h=rq[g]+u;if(h in t)return M9[r]=h}return r}const iq="http://www.w3.org/1999/xlink";function aq(t,r,i,u,g,h=yde(r)){u&&r.startsWith("xlink:")?i==null?t.removeAttributeNS(iq,r.slice(6,r.length)):t.setAttributeNS(iq,r,i):i==null||h&&!RX(i)?t.removeAttribute(r):t.setAttribute(r,h?"":Fb(i)?String(i):i)}function lq(t,r,i,u,g){if(r==="innerHTML"||r==="textContent"){i!=null&&(t[r]=r==="innerHTML"?LJ(i):i);return}const h=t.tagName;if(r==="value"&&h!=="PROGRESS"&&!h.includes("-")){const C=h==="OPTION"?t.getAttribute("value")||"":t.value,D=i==null?t.type==="checkbox"?"on":"":String(i);(C!==D||!("_value"in t))&&(t.value=D),i==null&&t.removeAttribute(r),t._value=i;return}let x=!1;if(i===""||i==null){const C=typeof t[r];C==="boolean"?i=RX(i):i==null&&C==="string"?(i="",x=!0):C==="number"&&(i=0,x=!0)}try{t[r]=i}catch{}x&&t.removeAttribute(g||r)}function SC(t,r,i,u){t.addEventListener(r,i,u)}function dme(t,r,i,u){t.removeEventListener(r,i,u)}const cq=Symbol("_vei");function fme(t,r,i,u,g=null){const h=t[cq]||(t[cq]={}),x=h[r];if(u&&x)x.value=u;else{const[C,D]=mme(r);if(u){const I=h[r]=pme(u,g);SC(t,C,I,D)}else x&&(dme(t,C,x,D),h[r]=void 0)}}const uq=/(?:Once|Passive|Capture)$/;function mme(t){let r;if(uq.test(t)){r={};let u;for(;u=t.match(uq);)t=t.slice(0,t.length-u[0].length),r[u[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):$C(t.slice(2)),r]}let B9=0;const gme=Promise.resolve(),hme=()=>B9||(gme.then(()=>B9=0),B9=Date.now());function pme(t,r){const i=u=>{if(!u._vts)u._vts=Date.now();else if(u._vts<=i.attached)return;lp(bme(u,i.value),r,5,[u])};return i.value=t,i.attached=hme(),i}function bme(t,r){if(as(r)){const i=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{i.call(t),t._stopped=!0},r.map(u=>g=>!g._stopped&&u&&u(g))}else return r}const dq=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,vme=(t,r,i,u,g,h)=>{const x=g==="svg";r==="class"?ime(t,u,x):r==="style"?cme(t,i,u):kF(r)?gW(r)||fme(t,r,i,u,h):(r[0]==="."?(r=r.slice(1),!0):r[0]==="^"?(r=r.slice(1),!1):yme(t,r,u,x))?(lq(t,r,u),!t.tagName.includes("-")&&(r==="value"||r==="checked"||r==="selected")&&aq(t,r,u,x,h,r!=="value")):t._isVueCE&&(/[A-Z]/.test(r)||!el(u))?lq(t,Ld(r),u,h,r):(r==="true-value"?t._trueValue=u:r==="false-value"&&(t._falseValue=u),aq(t,r,u,x))};function yme(t,r,i,u){if(u)return!!(r==="innerHTML"||r==="textContent"||r in t&&dq(r)&&Is(i));if(r==="spellcheck"||r==="draggable"||r==="translate"||r==="autocorrect"||r==="form"||r==="list"&&t.tagName==="INPUT"||r==="type"&&t.tagName==="TEXTAREA")return!1;if(r==="width"||r==="height"){const g=t.tagName;if(g==="IMG"||g==="VIDEO"||g==="CANVAS"||g==="SOURCE")return!1}return dq(r)&&el(i)?!1:r in t}const zJ=new WeakMap,HJ=new WeakMap,eF=Symbol("_moveCb"),fq=Symbol("_enterCb"),xme=t=>(delete t.props.mode,t),wme=xme({name:"TransitionGroup",props:sc({},BJ,{tag:String,moveClass:String}),setup(t,{slots:r}){const i=DE(),u=aJ();let g,h;return OW(()=>{if(!g.length)return;const x=t.moveClass||`${t.name||"v"}-move`;if(!kme(g[0].el,i.vnode.el,x)){g=[];return}g.forEach(Cme),g.forEach(_me);const C=g.filter(Sme);PU(),C.forEach(D=>{const I=D.el,O=I.style;Ob(I,x),O.transform=O.webkitTransform=O.transitionDuration="";const B=I[eF]=V=>{V&&V.target!==I||(!V||/transform$/.test(V.propertyName))&&(I.removeEventListener("transitionend",B),I[eF]=null,ix(I,x))};I.addEventListener("transitionend",B)}),g=[]}),()=>{const x=hs(t),C=FJ(x);let D=x.tag||is;if(g=[],h)for(let I=0;I<h.length;I++){const O=h[I];O.el&&O.el instanceof Element&&(g.push(O),LC(O,NR(O,C,u,i)),zJ.set(O,O.el.getBoundingClientRect()))}h=r.default?AW(r.default()):[];for(let I=0;I<h.length;I++){const O=h[I];O.key!=null&&LC(O,NR(O,C,u,i))}return ce(D,null,h)}}}),LW=wme;function Cme(t){const r=t.el;r[eF]&&r[eF](),r[fq]&&r[fq]()}function _me(t){HJ.set(t,t.el.getBoundingClientRect())}function Sme(t){const r=zJ.get(t),i=HJ.get(t),u=r.left-i.left,g=r.top-i.top;if(u||g){const h=t.el.style;return h.transform=h.webkitTransform=`translate(${u}px,${g}px)`,h.transitionDuration="0s",t}}function kme(t,r,i){const u=t.cloneNode(),g=t[wE];g&&g.forEach(C=>{C.split(/\s+/).forEach(D=>D&&u.classList.remove(D))}),i.split(/\s+/).forEach(C=>C&&u.classList.add(C)),u.style.display="none";const h=r.nodeType===1?r:r.parentNode;h.appendChild(u);const{hasTransform:x}=$J(u);return h.removeChild(u),x}const tF=t=>{const r=t.props["onUpdate:modelValue"]||!1;return as(r)?i=>I6(r,i):r};function Eme(t){t.target.composing=!0}function mq(t){const r=t.target;r.composing&&(r.composing=!1,r.dispatchEvent(new Event("input")))}const vE=Symbol("_assign"),MC={created(t,{modifiers:{lazy:r,trim:i,number:u}},g){t[vE]=tF(g);const h=u||g.props&&g.props.type==="number";SC(t,r?"change":"input",x=>{if(x.target.composing)return;let C=t.value;i&&(C=C.trim()),h&&(C=CU(C)),t[vE](C)}),i&&SC(t,"change",()=>{t.value=t.value.trim()}),r||(SC(t,"compositionstart",Eme),SC(t,"compositionend",mq),SC(t,"change",mq))},mounted(t,{value:r}){t.value=r??""},beforeUpdate(t,{value:r,oldValue:i,modifiers:{lazy:u,trim:g,number:h}},x){if(t[vE]=tF(x),t.composing)return;const C=(h||t.type==="number")&&!/^0\d/.test(t.value)?CU(t.value):t.value,D=r??"";C!==D&&(document.activeElement===t&&t.type!=="range"&&(u&&r===i||g&&t.value.trim()===D)||(t.value=D))}},gq={deep:!0,created(t,r,i){t[vE]=tF(i),SC(t,"change",()=>{const u=t._modelValue,g=Ame(t),h=t.checked,x=t[vE];if(as(u)){const C=IX(u,g),D=C!==-1;if(h&&!D)x(u.concat(g));else if(!h&&D){const I=[...u];I.splice(C,1),x(I)}}else if(EF(u)){const C=new Set(u);h?C.add(g):C.delete(g),x(C)}else x(UJ(t,h))})},mounted:hq,beforeUpdate(t,r,i){t[vE]=tF(i),hq(t,r,i)}};function hq(t,{value:r,oldValue:i},u){t._modelValue=r;let g;if(as(r))g=IX(r,u.props.value)>-1;else if(EF(r))g=r.has(u.props.value);else{if(r===i)return;g=OF(r,UJ(t,!0))}t.checked!==g&&(t.checked=g)}function Ame(t){return"_value"in t?t._value:t.value}function UJ(t,r){const i=r?"_trueValue":"_falseValue";return i in t?t[i]:r}const Tme=sc({patchProp:vme},nme);let pq;function Ome(){return pq||(pq=Afe(Tme))}const Rme=(...t)=>{const r=Ome().createApp(...t),{mount:i}=r;return r.mount=u=>{const g=Dme(u);if(!g)return;const h=r._component;!Is(h)&&!h.render&&!h.template&&(h.template=g.innerHTML),g.nodeType===1&&(g.textContent="");const x=i(g,!1,Ime(g));return g instanceof Element&&(g.removeAttribute("v-cloak"),g.setAttribute("data-v-app","")),x},r};function Ime(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function Dme(t){return el(t)?document.querySelector(t):t}function jg(t,r){let i;function u(){i=px(),i.run(()=>r.length?r(()=>{i==null||i.stop(),u()}):r())}Rn(t,g=>{g&&!i?u():g||(i==null||i.stop(),i=void 0)},{immediate:!0}),rc(()=>{i==null||i.stop()})}const Jr=typeof window<"u",MW=Jr&&"IntersectionObserver"in window,Pme=Jr&&("ontouchstart"in window||window.navigator.maxTouchPoints>0),Nme=Jr&&"matchMedia"in window&&typeof window.matchMedia=="function";function bq(t,r,i){Lme(t,r),r.set(t,i)}function Lme(t,r){if(r.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function vq(t,r,i){return t.set(WJ(t,r),i),i}function B0(t,r){return t.get(WJ(t,r))}function WJ(t,r,i){if(typeof t=="function"?t===r:t.has(r))return arguments.length<3?r:i;throw new TypeError("Private element is not present on this object")}function KJ(t,r,i){const u=r.length-1;if(u<0)return t===void 0?i:t;for(let g=0;g<u;g++){if(t==null)return i;t=t[r[g]]}return t==null||t[r[u]]===void 0?i:t[r[u]]}function Zg(t,r){if(t===r)return!0;if(t instanceof Date&&r instanceof Date&&t.getTime()!==r.getTime()||t!==Object(t)||r!==Object(r))return!1;const i=Object.keys(t);return i.length!==Object.keys(r).length?!1:i.every(u=>Zg(t[u],r[u]))}function NU(t,r,i){return t==null||!r||typeof r!="string"?i:t[r]!==void 0?t[r]:(r=r.replace(/\[(\w+)\]/g,".$1"),r=r.replace(/^\./,""),KJ(t,r.split("."),i))}function Wg(t,r,i){if(r===!0)return t===void 0?i:t;if(r==null||typeof r=="boolean")return i;if(t!==Object(t)){if(typeof r!="function")return i;const g=r(t,i);return typeof g>"u"?i:g}if(typeof r=="string")return NU(t,r,i);if(Array.isArray(r))return KJ(t,r,i);if(typeof r!="function")return i;const u=r(t,i);return typeof u>"u"?i:u}function jJ(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return Array.from({length:t},(i,u)=>r+u)}function ys(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"px";if(t==null||t==="")return;const i=Number(t);return isNaN(i)?String(t):isFinite(i)?`${i}${r}`:void 0}function LU(t){return t!==null&&typeof t=="object"&&!Array.isArray(t)}function yq(t){let r;return t!==null&&typeof t=="object"&&((r=Object.getPrototypeOf(t))===Object.prototype||r===null)}function ZJ(t){if(t&&"$el"in t){const r=t.$el;return(r==null?void 0:r.nodeType)===Node.TEXT_NODE?r.nextElementSibling:r}return t}const MU=Object.freeze({enter:13,tab:9,delete:46,esc:27,space:32,up:38,down:40,left:37,right:39,end:35,home:36,del:46,backspace:8,insert:45,pageup:33,pagedown:34,shift:16});function F9(t,r){return r.every(i=>t.hasOwnProperty(i))}function FF(t,r){const i={};for(const u of r)Object.prototype.hasOwnProperty.call(t,u)&&(i[u]=t[u]);return i}function xq(t,r,i){const u=Object.create(null),g=Object.create(null);for(const h in t)r.some(x=>x instanceof RegExp?x.test(h):x===h)?u[h]=t[h]:g[h]=t[h];return[u,g]}function xx(t,r){const i={...t};return r.forEach(u=>delete i[u]),i}const GJ=/^on[^a-z]/,qJ=t=>GJ.test(t),Mme=["onAfterscriptexecute","onAnimationcancel","onAnimationend","onAnimationiteration","onAnimationstart","onAuxclick","onBeforeinput","onBeforescriptexecute","onChange","onClick","onCompositionend","onCompositionstart","onCompositionupdate","onContextmenu","onCopy","onCut","onDblclick","onFocusin","onFocusout","onFullscreenchange","onFullscreenerror","onGesturechange","onGestureend","onGesturestart","onGotpointercapture","onInput","onKeydown","onKeypress","onKeyup","onLostpointercapture","onMousedown","onMousemove","onMouseout","onMouseover","onMouseup","onMousewheel","onPaste","onPointercancel","onPointerdown","onPointerenter","onPointerleave","onPointermove","onPointerout","onPointerover","onPointerup","onReset","onSelect","onSubmit","onTouchcancel","onTouchend","onTouchmove","onTouchstart","onTransitioncancel","onTransitionend","onTransitionrun","onTransitionstart","onWheel"];function $F(t){const[r,i]=xq(t,[GJ]),u=xx(r,Mme),[g,h]=xq(i,["class","style","id",/^data-/]);return Object.assign(g,r),Object.assign(h,u),[g,h]}function yf(t){return t==null?[]:Array.isArray(t)?t:[t]}function Bme(t,r){let i=0;const u=function(){for(var g=arguments.length,h=new Array(g),x=0;x<g;x++)h[x]=arguments[x];clearTimeout(i),i=setTimeout(()=>t(...h),re(r))};return u.clear=()=>{clearTimeout(i)},u.immediate=t,u}function xf(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;return Math.max(r,Math.min(i,t))}function wq(t,r){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"0";return t+i.repeat(Math.max(0,r-t.length))}function Cq(t,r){return(arguments.length>2&&arguments[2]!==void 0?arguments[2]:"0").repeat(Math.max(0,r-t.length))+t}function Fme(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;const i=[];let u=0;for(;u<t.length;)i.push(t.substr(u,r)),u+=r;return i}function Hu(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=arguments.length>2?arguments[2]:void 0;const u={};for(const g in t)u[g]=t[g];for(const g in r){const h=t[g],x=r[g];if(yq(h)&&yq(x)){u[g]=Hu(h,x,i);continue}if(i&&Array.isArray(h)&&Array.isArray(x)){u[g]=i(h,x);continue}u[g]=x}return u}function YJ(t){return t.map(r=>r.type===is?YJ(r.children):r).flat()}function PC(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";if(PC.cache.has(t))return PC.cache.get(t);const r=t.replace(/[^a-z]/gi,"-").replace(/\B([A-Z])/g,"-$1").toLowerCase();return PC.cache.set(t,r),r}PC.cache=new Map;function uE(t,r){if(!r||typeof r!="object")return[];if(Array.isArray(r))return r.map(i=>uE(t,i)).flat(1);if(r.suspense)return uE(t,r.ssContent);if(Array.isArray(r.children))return r.children.map(i=>uE(t,i)).flat(1);if(r.component){if(Object.getOwnPropertySymbols(r.component.provides).includes(t))return[r.component];if(r.component.subTree)return uE(t,r.component.subTree).flat(1)}return[]}var Yk=new WeakMap,vC=new WeakMap;class XJ{constructor(r){bq(this,Yk,[]),bq(this,vC,0),this.size=r}get isFull(){return B0(Yk,this).length===this.size}push(r){B0(Yk,this)[B0(vC,this)]=r,vq(vC,this,(B0(vC,this)+1)%this.size)}values(){return B0(Yk,this).slice(B0(vC,this)).concat(B0(Yk,this).slice(0,B0(vC,this)))}clear(){B0(Yk,this).length=0,vq(vC,this,0)}}function BW(t){const r=Kl({});Md(()=>{const u=t();for(const g in u)r[g]=u[g]},{flush:"sync"});const i={};for(const u in r)i[u]=pn(()=>r[u]);return i}function nF(t,r){return t.includes(r)}function JJ(t){return t[2].toLowerCase()+t.slice(3)}const wf=()=>[Function,Array];function _q(t,r){return r="on"+e1(r),!!(t[r]||t[`${r}Once`]||t[`${r}Capture`]||t[`${r}OnceCapture`]||t[`${r}CaptureOnce`])}function FW(t){for(var r=arguments.length,i=new Array(r>1?r-1:0),u=1;u<r;u++)i[u-1]=arguments[u];if(Array.isArray(t))for(const g of t)g(...i);else typeof t=="function"&&t(...i)}function FR(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const i=["button","[href]",'input:not([type="hidden"])',"select","textarea","[tabindex]"].map(u=>`${u}${r?':not([tabindex="-1"])':""}:not([disabled])`).join(", ");return[...t.querySelectorAll(i)]}function QJ(t,r,i){let u,g=t.indexOf(document.activeElement);const h=r==="next"?1:-1;do g+=h,u=t[g];while((!u||u.offsetParent==null||!((i==null?void 0:i(u))??!0))&&g<t.length&&g>=0);return u}function ER(t,r){var u,g,h,x;const i=FR(t);if(r==null)(t===document.activeElement||!t.contains(document.activeElement))&&((u=i[0])==null||u.focus());else if(r==="first")(g=i[0])==null||g.focus();else if(r==="last")(h=i.at(-1))==null||h.focus();else if(typeof r=="number")(x=i[r])==null||x.focus();else{const C=QJ(i,r);C?C.focus():ER(t,r==="next"?"first":"last")}}function $me(){}function CE(t,r){if(!(Jr&&typeof CSS<"u"&&typeof CSS.supports<"u"&&CSS.supports(`selector(${r})`)))return null;try{return!!t&&t.matches(r)}catch{return null}}function $W(t){return t.some(r=>MR(r)?r.type===$u?!1:r.type!==is||$W(r.children):!0)?t:null}function Vme(t,r){if(!Jr||t===0)return r(),()=>{};const i=window.setTimeout(r,t);return()=>window.clearTimeout(i)}function zme(t,r){const i=t.clientX,u=t.clientY,g=r.getBoundingClientRect(),h=g.left,x=g.top,C=g.right,D=g.bottom;return i>=h&&i<=C&&u>=x&&u<=D}function BU(){const t=bo(),r=i=>{t.value=i};return Object.defineProperty(r,"value",{enumerable:!0,get:()=>t.value,set:i=>t.value=i}),Object.defineProperty(r,"el",{enumerable:!0,get:()=>ZJ(t.value)}),r}function oF(t){const r=t.key.length===1,i=!t.ctrlKey&&!t.metaKey&&!t.altKey;return r&&i}function FU(t){return typeof t=="string"||typeof t=="number"||typeof t=="boolean"||typeof t=="bigint"}function Hme(t){const r={};for(const i in t)r[Ld(i)]=t[i];return r}function Ume(t){const r=["checked","disabled"];return Object.fromEntries(Object.entries(t).filter(i=>{let[u,g]=i;return r.includes(u)?!!g:g!==void 0}))}const eQ=["top","bottom"],Wme=["start","end","left","right"];function $U(t,r){let[i,u]=t.split(" ");return u||(u=nF(eQ,i)?"start":nF(Wme,i)?"top":"center"),{side:VU(i,r),align:VU(u,r)}}function VU(t,r){return t==="start"?r?"right":"left":t==="end"?r?"left":"right":t}function $9(t){return{side:{center:"center",top:"bottom",bottom:"top",left:"right",right:"left"}[t.side],align:t.align}}function V9(t){return{side:t.side,align:{center:"center",top:"bottom",bottom:"top",left:"right",right:"left"}[t.align]}}function Sq(t){return{side:t.align,align:t.side}}function kq(t){return nF(eQ,t.side)?"y":"x"}class Bb{constructor(r){let{x:i,y:u,width:g,height:h}=r;this.x=i,this.y=u,this.width=g,this.height=h}get top(){return this.y}get bottom(){return this.y+this.height}get left(){return this.x}get right(){return this.x+this.width}}function Eq(t,r){return{x:{before:Math.max(0,r.left-t.left),after:Math.max(0,t.right-r.right)},y:{before:Math.max(0,r.top-t.top),after:Math.max(0,t.bottom-r.bottom)}}}function tQ(t){return Array.isArray(t)?new Bb({x:t[0],y:t[1],width:0,height:0}):t.getBoundingClientRect()}function Kme(t){if(t===document.documentElement)return visualViewport?new Bb({x:visualViewport.scale>1?0:visualViewport.offsetLeft,y:visualViewport.scale>1?0:visualViewport.offsetTop,width:visualViewport.width*visualViewport.scale,height:visualViewport.height*visualViewport.scale}):new Bb({x:0,y:0,width:document.documentElement.clientWidth,height:document.documentElement.clientHeight});{const r=t.getBoundingClientRect();return new Bb({x:r.x,y:r.y,width:t.clientWidth,height:t.clientHeight})}}function VW(t){const r=t.getBoundingClientRect(),i=getComputedStyle(t),u=i.transform;if(u){let g,h,x,C,D;if(u.startsWith("matrix3d("))g=u.slice(9,-1).split(/, /),h=Number(g[0]),x=Number(g[5]),C=Number(g[12]),D=Number(g[13]);else if(u.startsWith("matrix("))g=u.slice(7,-1).split(/, /),h=Number(g[0]),x=Number(g[3]),C=Number(g[4]),D=Number(g[5]);else return new Bb(r);const I=i.transformOrigin,O=r.x-C-(1-h)*parseFloat(I),B=r.y-D-(1-x)*parseFloat(I.slice(I.indexOf(" ")+1)),V=h?r.width/h:t.offsetWidth+1,z=x?r.height/x:t.offsetHeight+1;return new Bb({x:O,y:B,width:V,height:z})}else return new Bb(r)}function dE(t,r,i){if(typeof t.animate>"u")return{finished:Promise.resolve()};let u;try{u=t.animate(r,i)}catch{return{finished:Promise.resolve()}}return typeof u.finished>"u"&&(u.finished=new Promise(g=>{u.onfinish=()=>{g(u)}})),u}const L6=new WeakMap;function jme(t,r){Object.keys(r).forEach(i=>{if(qJ(i)){const u=JJ(i),g=L6.get(t);if(r[i]==null)g==null||g.forEach(h=>{const[x,C]=h;x===u&&(t.removeEventListener(u,C),g.delete(h))});else if(!g||![...g].some(h=>h[0]===u&&h[1]===r[i])){t.addEventListener(u,r[i]);const h=g||new Set;h.add([u,r[i]]),L6.has(t)||L6.set(t,h)}}else r[i]==null?t.removeAttribute(i):t.setAttribute(i,r[i])})}function Zme(t,r){Object.keys(r).forEach(i=>{if(qJ(i)){const u=JJ(i),g=L6.get(t);g==null||g.forEach(h=>{const[x,C]=h;x===u&&(t.removeEventListener(u,C),g.delete(h))})}else t.removeAttribute(i)})}const Xk=2.4,Aq=.2126729,Tq=.7151522,Oq=.072175,Gme=.55,qme=.58,Yme=.57,Xme=.62,w6=.03,Rq=1.45,Jme=5e-4,Qme=1.25,ege=1.25,Iq=.078,Dq=12.82051282051282,C6=.06,Pq=.001;function Nq(t,r){const i=(t.r/255)**Xk,u=(t.g/255)**Xk,g=(t.b/255)**Xk,h=(r.r/255)**Xk,x=(r.g/255)**Xk,C=(r.b/255)**Xk;let D=i*Aq+u*Tq+g*Oq,I=h*Aq+x*Tq+C*Oq;if(D<=w6&&(D+=(w6-D)**Rq),I<=w6&&(I+=(w6-I)**Rq),Math.abs(I-D)<Jme)return 0;let O;if(I>D){const B=(I**Gme-D**qme)*Qme;O=B<Pq?0:B<Iq?B-B*Dq*C6:B-C6}else{const B=(I**Xme-D**Yme)*ege;O=B>-Pq?0:B>-Iq?B-B*Dq*C6:B+C6}return O*100}function nQ(t,r){r=Array.isArray(r)?r.slice(0,-1).map(i=>`'${i}'`).join(", ")+` or '${r.at(-1)}'`:`'${r}'`}const sF=.20689655172413793,tge=t=>t>sF**3?Math.cbrt(t):t/(3*sF**2)+4/29,nge=t=>t>sF?t**3:3*sF**2*(t-4/29);function oQ(t){const r=tge,i=r(t[1]);return[116*i-16,500*(r(t[0]/.95047)-i),200*(i-r(t[2]/1.08883))]}function sQ(t){const r=nge,i=(t[0]+16)/116;return[r(i+t[1]/500)*.95047,r(i),r(i-t[2]/200)*1.08883]}const oge=[[3.2406,-1.5372,-.4986],[-.9689,1.8758,.0415],[.0557,-.204,1.057]],sge=t=>t<=.0031308?t*12.92:1.055*t**(1/2.4)-.055,rge=[[.4124,.3576,.1805],[.2126,.7152,.0722],[.0193,.1192,.9505]],ige=t=>t<=.04045?t/12.92:((t+.055)/1.055)**2.4;function rQ(t){const r=Array(3),i=sge,u=oge;for(let g=0;g<3;++g)r[g]=Math.round(xf(i(u[g][0]*t[0]+u[g][1]*t[1]+u[g][2]*t[2]))*255);return{r:r[0],g:r[1],b:r[2]}}function zW(t){let{r,g:i,b:u}=t;const g=[0,0,0],h=ige,x=rge;r=h(r/255),i=h(i/255),u=h(u/255);for(let C=0;C<3;++C)g[C]=x[C][0]*r+x[C][1]*i+x[C][2]*u;return g}function zU(t){return!!t&&/^(#|var\(--|(rgb|hsl)a?\()/.test(t)}function age(t){return zU(t)&&!/^((rgb|hsl)a?\()?var\(--/.test(t)}const Lq=/^(?<fn>(?:rgb|hsl)a?)\((?<values>.+)\)/,lge={rgb:(t,r,i,u)=>({r:t,g:r,b:i,a:u}),rgba:(t,r,i,u)=>({r:t,g:r,b:i,a:u}),hsl:(t,r,i,u)=>Mq({h:t,s:r,l:i,a:u}),hsla:(t,r,i,u)=>Mq({h:t,s:r,l:i,a:u}),hsv:(t,r,i,u)=>$R({h:t,s:r,v:i,a:u}),hsva:(t,r,i,u)=>$R({h:t,s:r,v:i,a:u})};function Pb(t){if(typeof t=="number")return{r:(t&16711680)>>16,g:(t&65280)>>8,b:t&255};if(typeof t=="string"&&Lq.test(t)){const{groups:r}=t.match(Lq),{fn:i,values:u}=r,g=u.split(/,\s*|\s*\/\s*|\s+/).map((h,x)=>h.endsWith("%")||x>0&&x<3&&["hsl","hsla","hsv","hsva"].includes(i)?parseFloat(h)/100:parseFloat(h));return lge[i](...g)}else if(typeof t=="string"){let r=t.startsWith("#")?t.slice(1):t;return[3,4].includes(r.length)?r=r.split("").map(i=>i+i).join(""):[6,8].includes(r.length),uge(r)}else if(typeof t=="object"){if(F9(t,["r","g","b"]))return t;if(F9(t,["h","s","l"]))return $R(iQ(t));if(F9(t,["h","s","v"]))return $R(t)}throw new TypeError(`Invalid color: ${t==null?t:String(t)||t.constructor.name}
Expected #hex, #hexa, rgb(), rgba(), hsl(), hsla(), object or number`)}function $R(t){const{h:r,s:i,v:u,a:g}=t,h=C=>{const D=(C+r/60)%6;return u-u*i*Math.max(Math.min(D,4-D,1),0)},x=[h(5),h(3),h(1)].map(C=>Math.round(C*255));return{r:x[0],g:x[1],b:x[2],a:g}}function Mq(t){return $R(iQ(t))}function iQ(t){const{h:r,s:i,l:u,a:g}=t,h=u+i*Math.min(u,1-u),x=h===0?0:2-2*u/h;return{h:r,s:x,v:h,a:g}}function _6(t){const r=Math.round(t).toString(16);return("00".substr(0,2-r.length)+r).toUpperCase()}function cge(t){let{r,g:i,b:u,a:g}=t;return`#${[_6(r),_6(i),_6(u),g!==void 0?_6(Math.round(g*255)):""].join("")}`}function uge(t){t=dge(t);let[r,i,u,g]=Fme(t,2).map(h=>parseInt(h,16));return g=g===void 0?g:g/255,{r,g:i,b:u,a:g}}function dge(t){return t.startsWith("#")&&(t=t.slice(1)),t=t.replace(/([^0-9a-f])/gi,"F"),(t.length===3||t.length===4)&&(t=t.split("").map(r=>r+r).join("")),t.length!==6&&(t=wq(wq(t,6),8,"F")),t}function fge(t,r){const i=oQ(zW(t));return i[0]=i[0]+r*10,rQ(sQ(i))}function mge(t,r){const i=oQ(zW(t));return i[0]=i[0]-r*10,rQ(sQ(i))}function gge(t){const r=Pb(t);return zW(r)[1]}function aQ(t){const r=Math.abs(Nq(Pb(0),Pb(t)));return Math.abs(Nq(Pb(16777215),Pb(t)))>Math.min(r,50)?"#fff":"#000"}function Fn(t,r){return i=>Object.keys(t).reduce((u,g)=>{const x=typeof t[g]=="object"&&t[g]!=null&&!Array.isArray(t[g])?t[g]:{type:t[g]};return i&&g in i?u[g]={...x,default:i[g]}:u[g]=x,r&&!u[g].source&&(u[g].source=r),u},{})}const zs=Fn({class:[String,Array,Object],style:{type:[String,Array,Object],default:null}},"component");function Bl(t,r){const i=DE();if(!i)throw new Error(`[Vuetify] ${t} must be called from inside a setup function`);return i}function Ub(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"composables";const r=Bl(t).type;return PC((r==null?void 0:r.aliasName)||(r==null?void 0:r.name))}function hge(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Bl("injectSelf");const{provides:i}=r;if(i&&t in i)return i[t]}const _E=Symbol.for("vuetify:defaults");function pge(t){return Ln(t)}function HW(){const t=Wi(_E);if(!t)throw new Error("[Vuetify] Could not find defaults instance");return t}function wx(t,r){const i=HW(),u=Ln(t),g=It(()=>{if(re(r==null?void 0:r.disabled))return i.value;const x=re(r==null?void 0:r.scoped),C=re(r==null?void 0:r.reset),D=re(r==null?void 0:r.root);if(u.value==null&&!(x||C||D))return i.value;let I=Hu(u.value,{prev:i.value});if(x)return I;if(C||D){const O=Number(C||1/0);for(let B=0;B<=O&&!(!I||!("prev"in I));B++)I=I.prev;return I&&typeof D=="string"&&D in I&&(I=Hu(Hu(I,{prev:I}),I[D])),I}return I.prev?Hu(I.prev,I):I});return Bd(_E,g),g}function bge(t,r){return t.props&&(typeof t.props[r]<"u"||typeof t.props[PC(r)]<"u")}function vge(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:HW();const u=Bl("useDefaults");if(r=r??u.type.name??u.type.__name,!r)throw new Error("[Vuetify] Could not determine component name");const g=It(()=>{var D;return(D=i.value)==null?void 0:D[t._as??r]}),h=new Proxy(t,{get(D,I){var z,Z,ee,ie;const O=Reflect.get(D,I);if(I==="class"||I==="style")return[(z=g.value)==null?void 0:z[I],O].filter(W=>W!=null);if(bge(u.vnode,I))return O;const B=(Z=g.value)==null?void 0:Z[I];if(B!==void 0)return B;const V=(ie=(ee=i.value)==null?void 0:ee.global)==null?void 0:ie[I];return V!==void 0?V:O}}),x=bo();Md(()=>{if(g.value){const D=Object.entries(g.value).filter(I=>{let[O]=I;return O.startsWith(O[0].toUpperCase())});x.value=D.length?Object.fromEntries(D):void 0}else x.value=void 0});function C(){const D=hge(_E,u);Bd(_E,It(()=>x.value?Hu((D==null?void 0:D.value)??{},x.value):D==null?void 0:D.value))}return{props:h,provideSubDefaults:C}}function PE(t){if(t._setup=t._setup??t.setup,!t.name)return t;if(t._setup){t.props=Fn(t.props??{},t.name)();const r=Object.keys(t.props).filter(i=>i!=="class"&&i!=="style");t.filterProps=function(u){return FF(u,r)},t.props._as=String,t.setup=function(u,g){const h=HW();if(!h.value)return t._setup(u,g);const{props:x,provideSubDefaults:C}=vge(u,u._as??t.name,h),D=t._setup(x,g);return C(),D}}return t}function Fo(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return r=>(t?PE:fJ)(r)}function VF(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"div",i=arguments.length>2?arguments[2]:void 0;return Fo()({name:i??e1(Ld(t.replace(/__/g,"-"))),props:{tag:{type:String,default:r},...zs()},setup(u,g){let{slots:h}=g;return()=>{var x;return Vb(u.tag,{class:[t,u.class],style:u.style},(x=h.default)==null?void 0:x.call(h))}}})}function lQ(t){if(typeof t.getRootNode!="function"){for(;t.parentNode;)t=t.parentNode;return t!==document?null:document}const r=t.getRootNode();return r!==document&&r.getRootNode({composed:!0})!==document?null:r}const rF="cubic-bezier(0.4, 0, 0.2, 1)",yge="cubic-bezier(0.0, 0, 0.2, 1)",xge="cubic-bezier(0.4, 0, 1, 1)";function cQ(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;for(;t;){if(r?wge(t):UW(t))return t;t=t.parentElement}return document.scrollingElement}function iF(t,r){const i=[];if(r&&t&&!r.contains(t))return i;for(;t&&(UW(t)&&i.push(t),t!==r);)t=t.parentElement;return i}function UW(t){if(!t||t.nodeType!==Node.ELEMENT_NODE)return!1;const r=window.getComputedStyle(t);return r.overflowY==="scroll"||r.overflowY==="auto"&&t.scrollHeight>t.clientHeight}function wge(t){if(!t||t.nodeType!==Node.ELEMENT_NODE)return!1;const r=window.getComputedStyle(t);return["scroll","auto"].includes(r.overflowY)}function Cge(t){for(;t;){if(window.getComputedStyle(t).position==="fixed")return!0;t=t.offsetParent}return!1}function _s(t){const r=Bl("useRender");r.render=t}function Ki(t,r,i){let u=arguments.length>3&&arguments[3]!==void 0?arguments[3]:B=>B,g=arguments.length>4&&arguments[4]!==void 0?arguments[4]:B=>B;const h=Bl("useProxiedModel"),x=Ln(t[r]!==void 0?t[r]:i),C=PC(r),I=It(C!==r?()=>{var B,V,z,Z;return t[r],!!(((B=h.vnode.props)!=null&&B.hasOwnProperty(r)||(V=h.vnode.props)!=null&&V.hasOwnProperty(C))&&((z=h.vnode.props)!=null&&z.hasOwnProperty(`onUpdate:${r}`)||(Z=h.vnode.props)!=null&&Z.hasOwnProperty(`onUpdate:${C}`)))}:()=>{var B,V;return t[r],!!((B=h.vnode.props)!=null&&B.hasOwnProperty(r)&&((V=h.vnode.props)!=null&&V.hasOwnProperty(`onUpdate:${r}`)))});jg(()=>!I.value,()=>{Rn(()=>t[r],B=>{x.value=B})});const O=It({get(){const B=t[r];return u(I.value?B:x.value)},set(B){const V=g(B),z=hs(I.value?t[r]:x.value);z===V||u(z)===B||(x.value=V,h==null||h.emit(`update:${r}`,V))}});return Object.defineProperty(O,"externalValue",{get:()=>I.value?t[r]:x.value}),O}const _ge={badge:"Badge",open:"Open",close:"Close",dismiss:"Dismiss",confirmEdit:{ok:"OK",cancel:"Cancel"},dataIterator:{noResultsText:"No matching records found",loadingText:"Loading items..."},dataTable:{itemsPerPageText:"Rows per page:",ariaLabel:{sortDescending:"Sorted descending.",sortAscending:"Sorted ascending.",sortNone:"Not sorted.",activateNone:"Activate to remove sorting.",activateDescending:"Activate to sort descending.",activateAscending:"Activate to sort ascending."},sortBy:"Sort by"},dataFooter:{itemsPerPageText:"Items per page:",itemsPerPageAll:"All",nextPage:"Next page",prevPage:"Previous page",firstPage:"First page",lastPage:"Last page",pageText:"{0}-{1} of {2}"},dateRangeInput:{divider:"to"},datePicker:{itemsSelected:"{0} selected",range:{title:"Select dates",header:"Enter dates"},title:"Select date",header:"Enter date",input:{placeholder:"Enter date"}},noDataText:"No data available",carousel:{prev:"Previous visual",next:"Next visual",ariaLabel:{delimiter:"Carousel slide {0} of {1}"}},calendar:{moreEvents:"{0} more",today:"Today"},input:{clear:"Clear {0}",prependAction:"{0} prepended action",appendAction:"{0} appended action",otp:"Please enter OTP character {0}"},fileInput:{counter:"{0} files",counterSize:"{0} files ({1} in total)"},fileUpload:{title:"Drag and drop files here",divider:"or",browse:"Browse Files"},timePicker:{am:"AM",pm:"PM",title:"Select Time"},pagination:{ariaLabel:{root:"Pagination Navigation",next:"Next page",previous:"Previous page",page:"Go to page {0}",currentPage:"Page {0}, Current page",first:"First page",last:"Last page"}},stepper:{next:"Next",prev:"Previous"},rating:{ariaLabel:{item:"Rating {0} of {1}"}},loading:"Loading...",infiniteScroll:{loadMore:"Load more",empty:"No more"},rules:{required:"This field is required",email:"Please enter a valid email",number:"This field can only contain numbers",integer:"This field can only contain integer values",capital:"This field can only contain uppercase letters",maxLength:"You must enter a maximum of {0} characters",minLength:"You must enter a minimum of {0} characters",strictLength:"The length of the entered field is invalid",exclude:"The {0} character is not allowed",notEmpty:"Please choose at least one value",pattern:"Invalid format"},hotkey:{then:"then",ctrl:"Ctrl",command:"Command",space:"Space",shift:"Shift",alt:"Alt",enter:"Enter",escape:"Escape",upArrow:"Up Arrow",downArrow:"Down Arrow",leftArrow:"Left Arrow",rightArrow:"Right Arrow",backspace:"Backspace",option:"Option",plus:"plus",shortcut:"Keyboard shortcut: {0}"}},Bq="$vuetify.",Fq=(t,r)=>t.replace(/\{(\d+)\}/g,(i,u)=>String(r[Number(u)])),uQ=(t,r,i)=>function(u){for(var g=arguments.length,h=new Array(g>1?g-1:0),x=1;x<g;x++)h[x-1]=arguments[x];if(!u.startsWith(Bq))return Fq(u,h);const C=u.replace(Bq,""),D=t.value&&i.value[t.value],I=r.value&&i.value[r.value];let O=NU(D,C,null);return O||(`${u}${t.value}`,O=NU(I,C,null)),O||(O=u),typeof O!="string"&&(O=u),Fq(O,h)};function WW(t,r){return(i,u)=>new Intl.NumberFormat([t.value,r.value],u).format(i)}function dQ(t,r){return WW(t,r)(.1).includes(",")?",":"."}function z9(t,r,i){const u=Ki(t,r,t[r]??i.value);return u.value=t[r]??i.value,Rn(i,g=>{t[r]==null&&(u.value=i.value)}),u}function fQ(t){return r=>{const i=z9(r,"locale",t.current),u=z9(r,"fallback",t.fallback),g=z9(r,"messages",t.messages);return{name:"vuetify",current:i,fallback:u,messages:g,decimalSeparator:pn(()=>dQ(i,u)),t:uQ(i,u,g),n:WW(i,u),provide:fQ({current:i,fallback:u,messages:g})}}}function Sge(t){const r=bo((t==null?void 0:t.locale)??"en"),i=bo((t==null?void 0:t.fallback)??"en"),u=Ln({en:_ge,...t==null?void 0:t.messages});return{name:"vuetify",current:r,fallback:i,messages:u,decimalSeparator:pn(()=>(t==null?void 0:t.decimalSeparator)??dQ(r,i)),t:uQ(r,i,u),n:WW(r,i),provide:fQ({current:r,fallback:i,messages:u})}}const aF=Symbol.for("vuetify:locale");function kge(t){return t.name!=null}function Ege(t){const r=t!=null&&t.adapter&&kge(t==null?void 0:t.adapter)?t==null?void 0:t.adapter:Sge(t),i=Tge(r,t);return{...r,...i}}function uI(){const t=Wi(aF);if(!t)throw new Error("[Vuetify] Could not find injected locale instance");return t}function Age(){return{af:!1,ar:!0,bg:!1,ca:!1,ckb:!1,cs:!1,de:!1,el:!1,en:!1,es:!1,et:!1,fa:!0,fi:!1,fr:!1,hr:!1,hu:!1,he:!0,id:!1,it:!1,ja:!1,km:!1,ko:!1,lv:!1,lt:!1,nl:!1,no:!1,pl:!1,pt:!1,ro:!1,ru:!1,sk:!1,sl:!1,srCyrl:!1,srLatn:!1,sv:!1,th:!1,tr:!1,az:!1,uk:!1,vi:!1,zhHans:!1,zhHant:!1}}function Tge(t,r){const i=Ln((r==null?void 0:r.rtl)??Age()),u=It(()=>i.value[t.current.value]??!1);return{isRtl:u,rtl:i,rtlClasses:pn(()=>`v-locale--is-${u.value?"rtl":"ltr"}`)}}function Gg(){const t=Wi(aF);if(!t)throw new Error("[Vuetify] Could not find injected rtl instance");return{isRtl:t.isRtl,rtlClasses:t.rtlClasses}}function dI(t){const r=t.slice(-2).toUpperCase();switch(!0){case t==="GB-alt-variant":return{firstDay:0,firstWeekSize:4};case t==="001":return{firstDay:1,firstWeekSize:1};case`AG AS BD BR BS BT BW BZ CA CO DM DO ET GT GU HK HN ID IL IN JM JP KE
    KH KR LA MH MM MO MT MX MZ NI NP PA PE PH PK PR PY SA SG SV TH TT TW UM US
    VE VI WS YE ZA ZW`.includes(r):return{firstDay:0,firstWeekSize:1};case`AI AL AM AR AU AZ BA BM BN BY CL CM CN CR CY EC GE HR KG KZ LB LK LV
    MD ME MK MN MY NZ RO RS SI TJ TM TR UA UY UZ VN XK`.includes(r):return{firstDay:1,firstWeekSize:1};case`AD AN AT AX BE BG CH CZ DE DK EE ES FI FJ FO FR GB GF GP GR HU IE IS
    IT LI LT LU MC MQ NL NO PL RE RU SE SK SM VA`.includes(r):return{firstDay:1,firstWeekSize:4};case"AE AF BH DJ DZ EG IQ IR JO KW LY OM QA SD SY".includes(r):return{firstDay:6,firstWeekSize:1};case r==="MV":return{firstDay:5,firstWeekSize:1};case r==="PT":return{firstDay:0,firstWeekSize:4};default:return null}}function Oge(t,r,i){var O;const u=[];let g=[];const h=mQ(t),x=gQ(t),C=i??((O=dI(r))==null?void 0:O.firstDay)??0,D=(h.getDay()-C+7)%7,I=(x.getDay()-C+7)%7;for(let B=0;B<D;B++){const V=new Date(h);V.setDate(V.getDate()-(D-B)),g.push(V)}for(let B=1;B<=x.getDate();B++){const V=new Date(t.getFullYear(),t.getMonth(),B);g.push(V),g.length===7&&(u.push(g),g=[])}for(let B=1;B<7-I;B++){const V=new Date(x);V.setDate(V.getDate()+B),g.push(V)}return g.length>0&&u.push(g),u}function HU(t,r,i){var h;const u=i??((h=dI(r))==null?void 0:h.firstDay)??0,g=new Date(t);for(;g.getDay()!==u;)g.setDate(g.getDate()-1);return g}function Rge(t,r){var g;const i=new Date(t),u=((((g=dI(r))==null?void 0:g.firstDay)??0)+6)%7;for(;i.getDay()!==u;)i.setDate(i.getDate()+1);return i}function mQ(t){return new Date(t.getFullYear(),t.getMonth(),1)}function gQ(t){return new Date(t.getFullYear(),t.getMonth()+1,0)}function Ige(t){const r=t.split("-").map(Number);return new Date(r[0],r[1]-1,r[2])}const Dge=/^([12]\d{3}-([1-9]|0[1-9]|1[0-2])-([1-9]|0[1-9]|[12]\d|3[01]))$/;function hQ(t){if(t==null)return new Date;if(t instanceof Date)return t;if(typeof t=="string"){let r;if(Dge.test(t))return Ige(t);if(r=Date.parse(t),!isNaN(r))return new Date(r)}return null}const $q=new Date(2e3,0,2);function Pge(t,r,i){var g;const u=r??((g=dI(t))==null?void 0:g.firstDay)??0;return jJ(7).map(h=>{const x=new Date($q);return x.setDate($q.getDate()+u+h),new Intl.DateTimeFormat(t,{weekday:i??"narrow"}).format(x)})}function Nge(t,r,i,u){const g=hQ(t)??new Date,h=u==null?void 0:u[r];if(typeof h=="function")return h(g,r,i);let x={};switch(r){case"fullDate":x={year:"numeric",month:"short",day:"numeric"};break;case"fullDateWithWeekday":x={weekday:"long",year:"numeric",month:"long",day:"numeric"};break;case"normalDate":const C=g.getDate(),D=new Intl.DateTimeFormat(i,{month:"long"}).format(g);return`${C} ${D}`;case"normalDateWithWeekday":x={weekday:"short",day:"numeric",month:"short"};break;case"shortDate":x={month:"short",day:"numeric"};break;case"year":x={year:"numeric"};break;case"month":x={month:"long"};break;case"monthShort":x={month:"short"};break;case"monthAndYear":x={month:"long",year:"numeric"};break;case"monthAndDate":x={month:"long",day:"numeric"};break;case"weekday":x={weekday:"long"};break;case"weekdayShort":x={weekday:"short"};break;case"dayOfMonth":return new Intl.NumberFormat(i).format(g.getDate());case"hours12h":x={hour:"numeric",hour12:!0};break;case"hours24h":x={hour:"numeric",hour12:!1};break;case"minutes":x={minute:"numeric"};break;case"seconds":x={second:"numeric"};break;case"fullTime":x={hour:"numeric",minute:"numeric"};break;case"fullTime12h":x={hour:"numeric",minute:"numeric",hour12:!0};break;case"fullTime24h":x={hour:"numeric",minute:"numeric",hour12:!1};break;case"fullDateTime":x={year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"numeric"};break;case"fullDateTime12h":x={year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"numeric",hour12:!0};break;case"fullDateTime24h":x={year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"numeric",hour12:!1};break;case"keyboardDate":x={year:"numeric",month:"2-digit",day:"2-digit"};break;case"keyboardDateTime":return x={year:"numeric",month:"2-digit",day:"2-digit",hour:"numeric",minute:"numeric"},new Intl.DateTimeFormat(i,x).format(g).replace(/, /g," ");case"keyboardDateTime12h":return x={year:"numeric",month:"2-digit",day:"2-digit",hour:"numeric",minute:"numeric",hour12:!0},new Intl.DateTimeFormat(i,x).format(g).replace(/, /g," ");case"keyboardDateTime24h":return x={year:"numeric",month:"2-digit",day:"2-digit",hour:"numeric",minute:"numeric",hour12:!1},new Intl.DateTimeFormat(i,x).format(g).replace(/, /g," ");default:x=h??{timeZone:"UTC",timeZoneName:"short"}}return new Intl.DateTimeFormat(i,x).format(g)}function Lge(t,r){const i=t.toJsDate(r),u=i.getFullYear(),g=Cq(String(i.getMonth()+1),2,"0"),h=Cq(String(i.getDate()),2,"0");return`${u}-${g}-${h}`}function Mge(t){const[r,i,u]=t.split("-").map(Number);return new Date(r,i-1,u)}function Bge(t,r){const i=new Date(t);return i.setMinutes(i.getMinutes()+r),i}function Fge(t,r){const i=new Date(t);return i.setHours(i.getHours()+r),i}function M6(t,r){const i=new Date(t);return i.setDate(i.getDate()+r),i}function $ge(t,r){const i=new Date(t);return i.setDate(i.getDate()+r*7),i}function Vge(t,r){const i=new Date(t);return i.setDate(1),i.setMonth(i.getMonth()+r),i}function UU(t){return t.getFullYear()}function zge(t){return t.getMonth()}function Hge(t,r,i,u){const g=dI(r),h=i??(g==null?void 0:g.firstDay)??0,x=u??(g==null?void 0:g.firstWeekSize)??1;function C(z){const Z=new Date(z,0,1);return 7-WU(Z,HU(Z,r,h),"days")}let D=UU(t);const I=M6(HU(t,r,h),6);D<UU(I)&&C(D+1)>=x&&D++;const O=new Date(D,0,1),B=C(D),V=B>=x?M6(O,B-7):M6(O,B);return 1+WU(pQ(t),cF(V),"weeks")}function Uge(t){return t.getDate()}function Wge(t){return new Date(t.getFullYear(),t.getMonth()+1,1)}function Kge(t){return new Date(t.getFullYear(),t.getMonth()-1,1)}function jge(t){return t.getHours()}function Zge(t){return t.getMinutes()}function Gge(t){return new Date(t.getFullYear(),0,1)}function qge(t){return new Date(t.getFullYear(),11,31)}function Yge(t,r){return lF(t,r[0])&&Qge(t,r[1])}function Xge(t){const r=new Date(t);return r instanceof Date&&!isNaN(r.getTime())}function lF(t,r){return t.getTime()>r.getTime()}function Jge(t,r){return lF(cF(t),cF(r))}function Qge(t,r){return t.getTime()<r.getTime()}function Vq(t,r){return t.getTime()===r.getTime()}function ehe(t,r){return t.getDate()===r.getDate()&&t.getMonth()===r.getMonth()&&t.getFullYear()===r.getFullYear()}function the(t,r){return t.getMonth()===r.getMonth()&&t.getFullYear()===r.getFullYear()}function nhe(t,r){return t.getFullYear()===r.getFullYear()}function WU(t,r,i){const u=new Date(t),g=new Date(r);switch(i){case"years":return u.getFullYear()-g.getFullYear();case"quarters":return Math.floor((u.getMonth()-g.getMonth()+(u.getFullYear()-g.getFullYear())*12)/4);case"months":return u.getMonth()-g.getMonth()+(u.getFullYear()-g.getFullYear())*12;case"weeks":return Math.floor((u.getTime()-g.getTime())/(1e3*60*60*24*7));case"days":return Math.floor((u.getTime()-g.getTime())/(1e3*60*60*24));case"hours":return Math.floor((u.getTime()-g.getTime())/(1e3*60*60));case"minutes":return Math.floor((u.getTime()-g.getTime())/(1e3*60));case"seconds":return Math.floor((u.getTime()-g.getTime())/1e3);default:return u.getTime()-g.getTime()}}function ohe(t,r){const i=new Date(t);return i.setHours(r),i}function she(t,r){const i=new Date(t);return i.setMinutes(r),i}function rhe(t,r){const i=new Date(t);return i.setMonth(r),i}function ihe(t,r){const i=new Date(t);return i.setDate(r),i}function ahe(t,r){const i=new Date(t);return i.setFullYear(r),i}function cF(t){return new Date(t.getFullYear(),t.getMonth(),t.getDate(),0,0,0,0)}function pQ(t){return new Date(t.getFullYear(),t.getMonth(),t.getDate(),23,59,59,999)}class lhe{constructor(r){this.locale=r.locale,this.formats=r.formats}date(r){return hQ(r)}toJsDate(r){return r}toISO(r){return Lge(this,r)}parseISO(r){return Mge(r)}addMinutes(r,i){return Bge(r,i)}addHours(r,i){return Fge(r,i)}addDays(r,i){return M6(r,i)}addWeeks(r,i){return $ge(r,i)}addMonths(r,i){return Vge(r,i)}getWeekArray(r,i){const u=i!==void 0?Number(i):void 0;return Oge(r,this.locale,u)}startOfWeek(r,i){const u=i!==void 0?Number(i):void 0;return HU(r,this.locale,u)}endOfWeek(r){return Rge(r,this.locale)}startOfMonth(r){return mQ(r)}endOfMonth(r){return gQ(r)}format(r,i){return Nge(r,i,this.locale,this.formats)}isEqual(r,i){return Vq(r,i)}isValid(r){return Xge(r)}isWithinRange(r,i){return Yge(r,i)}isAfter(r,i){return lF(r,i)}isAfterDay(r,i){return Jge(r,i)}isBefore(r,i){return!lF(r,i)&&!Vq(r,i)}isSameDay(r,i){return ehe(r,i)}isSameMonth(r,i){return the(r,i)}isSameYear(r,i){return nhe(r,i)}setMinutes(r,i){return she(r,i)}setHours(r,i){return ohe(r,i)}setMonth(r,i){return rhe(r,i)}setDate(r,i){return ihe(r,i)}setYear(r,i){return ahe(r,i)}getDiff(r,i,u){return WU(r,i,u)}getWeekdays(r,i){const u=r!==void 0?Number(r):void 0;return Pge(this.locale,u,i)}getYear(r){return UU(r)}getMonth(r){return zge(r)}getWeek(r,i,u){const g=i!==void 0?Number(i):void 0;return Hge(r,this.locale,g,u)}getDate(r){return Uge(r)}getNextMonth(r){return Wge(r)}getPreviousMonth(r){return Kge(r)}getHours(r){return jge(r)}getMinutes(r){return Zge(r)}startOfDay(r){return cF(r)}endOfDay(r){return pQ(r)}startOfYear(r){return Gge(r)}endOfYear(r){return qge(r)}}const che=Symbol.for("vuetify:date-options"),zq=Symbol.for("vuetify:date-adapter");function uhe(t,r){const i=Hu({adapter:lhe,locale:{af:"af-ZA",bg:"bg-BG",ca:"ca-ES",ckb:"",cs:"cs-CZ",de:"de-DE",el:"el-GR",en:"en-US",et:"et-EE",fa:"fa-IR",fi:"fi-FI",hr:"hr-HR",hu:"hu-HU",he:"he-IL",id:"id-ID",it:"it-IT",ja:"ja-JP",ko:"ko-KR",lv:"lv-LV",lt:"lt-LT",nl:"nl-NL",no:"no-NO",pl:"pl-PL",pt:"pt-PT",ro:"ro-RO",ru:"ru-RU",sk:"sk-SK",sl:"sl-SI",srCyrl:"sr-SP",srLatn:"sr-SP",sv:"sv-SE",th:"th-TH",tr:"tr-TR",az:"az-AZ",uk:"uk-UA",vi:"vi-VN",zhHans:"zh-CN",zhHant:"zh-TW"}},t);return{options:i,instance:dhe(i,r)}}function dhe(t,r){const i=Kl(typeof t.adapter=="function"?new t.adapter({locale:t.locale[r.current.value]??r.current.value,formats:t.formats}):t.adapter);return Rn(r.current,u=>{i.locale=t.locale[u]??u??i.locale}),i}const zF=["sm","md","lg","xl","xxl"],KU=Symbol.for("vuetify:display"),Hq={mobileBreakpoint:"lg",thresholds:{xs:0,sm:600,md:960,lg:1280,xl:1920,xxl:2560}},fhe=function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Hq;return Hu(Hq,t)};function Uq(t){return Jr&&!t?window.innerWidth:typeof t=="object"&&t.clientWidth||0}function Wq(t){return Jr&&!t?window.innerHeight:typeof t=="object"&&t.clientHeight||0}function Kq(t){const r=Jr&&!t?window.navigator.userAgent:"ssr";function i(Z){return!!r.match(Z)}const u=i(/android/i),g=i(/iphone|ipad|ipod/i),h=i(/cordova/i),x=i(/electron/i),C=i(/chrome/i),D=i(/edge/i),I=i(/firefox/i),O=i(/opera/i),B=i(/win/i),V=i(/mac/i),z=i(/linux/i);return{android:u,ios:g,cordova:h,electron:x,chrome:C,edge:D,firefox:I,opera:O,win:B,mac:V,linux:z,touch:Pme,ssr:r==="ssr"}}function mhe(t,r){const{thresholds:i,mobileBreakpoint:u}=fhe(t),g=bo(Wq(r)),h=bo(Kq(r)),x=Kl({}),C=bo(Uq(r));function D(){g.value=Wq(),C.value=Uq()}function I(){D(),h.value=Kq()}return Md(()=>{const O=C.value<i.sm,B=C.value<i.md&&!O,V=C.value<i.lg&&!(B||O),z=C.value<i.xl&&!(V||B||O),Z=C.value<i.xxl&&!(z||V||B||O),ee=C.value>=i.xxl,ie=O?"xs":B?"sm":V?"md":z?"lg":Z?"xl":"xxl",W=typeof u=="number"?u:i[u],he=C.value<W;x.xs=O,x.sm=B,x.md=V,x.lg=z,x.xl=Z,x.xxl=ee,x.smAndUp=!O,x.mdAndUp=!(O||B),x.lgAndUp=!(O||B||V),x.xlAndUp=!(O||B||V||z),x.smAndDown=!(V||z||Z||ee),x.mdAndDown=!(z||Z||ee),x.lgAndDown=!(Z||ee),x.xlAndDown=!ee,x.name=ie,x.height=g.value,x.width=C.value,x.mobile=he,x.mobileBreakpoint=u,x.platform=h.value,x.thresholds=i}),Jr&&(window.addEventListener("resize",D,{passive:!0}),rc(()=>{window.removeEventListener("resize",D)},!0)),{...IF(x),update:I,ssr:!!r}}const bQ=Fn({mobile:{type:Boolean,default:!1},mobileBreakpoint:[Number,String]},"display");function HF(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{mobile:null},r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ub();const i=Wi(KU);if(!i)throw new Error("Could not find Vuetify display injection");const u=It(()=>t.mobile?!0:typeof t.mobileBreakpoint=="number"?i.width.value<t.mobileBreakpoint:t.mobileBreakpoint?i.width.value<i.thresholds.value[t.mobileBreakpoint]:t.mobile===null?i.mobile.value:!1),g=pn(()=>r?{[`${r}--mobile`]:u.value}:{});return{...i,displayClasses:g,mobile:u}}const vQ=Symbol.for("vuetify:goto");function yQ(){return{container:void 0,duration:300,layout:!1,offset:0,easing:"easeInOutCubic",patterns:{linear:t=>t,easeInQuad:t=>t**2,easeOutQuad:t=>t*(2-t),easeInOutQuad:t=>t<.5?2*t**2:-1+(4-2*t)*t,easeInCubic:t=>t**3,easeOutCubic:t=>--t**3+1,easeInOutCubic:t=>t<.5?4*t**3:(t-1)*(2*t-2)*(2*t-2)+1,easeInQuart:t=>t**4,easeOutQuart:t=>1- --t**4,easeInOutQuart:t=>t<.5?8*t**4:1-8*--t**4,easeInQuint:t=>t**5,easeOutQuint:t=>1+--t**5,easeInOutQuint:t=>t<.5?16*t**5:1+16*--t**5}}}function ghe(t){return KW(t)??(document.scrollingElement||document.body)}function KW(t){return typeof t=="string"?document.querySelector(t):ZJ(t)}function H9(t,r,i){if(typeof t=="number")return r&&i?-t:t;let u=KW(t),g=0;for(;u;)g+=r?u.offsetLeft:u.offsetTop,u=u.offsetParent;return g}function hhe(t,r){return{rtl:r.isRtl,options:Hu(yQ(),t)}}async function jq(t,r,i,u){const g=i?"scrollLeft":"scrollTop",h=Hu((u==null?void 0:u.options)??yQ(),r),x=u==null?void 0:u.rtl.value,C=(typeof t=="number"?t:KW(t))??0,D=h.container==="parent"&&C instanceof HTMLElement?C.parentElement:ghe(h.container),I=typeof h.easing=="function"?h.easing:h.patterns[h.easing];if(!I)throw new TypeError(`Easing function "${h.easing}" not found.`);let O;if(typeof C=="number")O=H9(C,i,x);else if(O=H9(C,i,x)-H9(D,i,x),h.layout){const Z=window.getComputedStyle(C).getPropertyValue("--v-layout-top");Z&&(O-=parseInt(Z,10))}O+=h.offset,O=bhe(D,O,!!x,!!i);const B=D[g]??0;if(O===B)return Promise.resolve(O);const V=performance.now();return new Promise(z=>requestAnimationFrame(function Z(ee){const W=(ee-V)/h.duration,he=Math.floor(B+(O-B)*I(xf(W,0,1)));if(D[g]=he,W>=1&&Math.abs(he-D[g])<10)return z(O);if(W>2)return z(D[g]);requestAnimationFrame(Z)}))}function phe(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const r=Wi(vQ),{isRtl:i}=Gg();if(!r)throw new Error("[Vuetify] Could not find injected goto instance");const u={...r,rtl:pn(()=>r.rtl.value||i.value)};async function g(h,x){return jq(h,Hu(t,x),!1,u)}return g.horizontal=async(h,x)=>jq(h,Hu(t,x),!0,u),g}function bhe(t,r,i,u){const{scrollWidth:g,scrollHeight:h}=t,[x,C]=t===document.scrollingElement?[window.innerWidth,window.innerHeight]:[t.offsetWidth,t.offsetHeight];let D,I;return u?i?(D=-(g-x),I=0):(D=0,I=g-x):(D=0,I=h+-C),xf(r,D,I)}const vhe={collapse:"mdi-chevron-up",complete:"mdi-check",cancel:"mdi-close-circle",close:"mdi-close",delete:"mdi-close-circle",clear:"mdi-close-circle",success:"mdi-check-circle",info:"mdi-information",warning:"mdi-alert-circle",error:"mdi-close-circle",prev:"mdi-chevron-left",next:"mdi-chevron-right",checkboxOn:"mdi-checkbox-marked",checkboxOff:"mdi-checkbox-blank-outline",checkboxIndeterminate:"mdi-minus-box",delimiter:"mdi-circle",sortAsc:"mdi-arrow-up",sortDesc:"mdi-arrow-down",expand:"mdi-chevron-down",menu:"mdi-menu",subgroup:"mdi-menu-down",dropdown:"mdi-menu-down",radioOn:"mdi-radiobox-marked",radioOff:"mdi-radiobox-blank",edit:"mdi-pencil",ratingEmpty:"mdi-star-outline",ratingFull:"mdi-star",ratingHalf:"mdi-star-half-full",loading:"mdi-cached",first:"mdi-page-first",last:"mdi-page-last",unfold:"mdi-unfold-more-horizontal",file:"mdi-paperclip",plus:"mdi-plus",minus:"mdi-minus",calendar:"mdi-calendar",treeviewCollapse:"mdi-menu-down",treeviewExpand:"mdi-menu-right",eyeDropper:"mdi-eyedropper",upload:"mdi-cloud-upload",color:"mdi-palette",command:"mdi-apple-keyboard-command",ctrl:"mdi-apple-keyboard-control",space:"mdi-keyboard-space",shift:"mdi-apple-keyboard-shift",alt:"mdi-apple-keyboard-option",enter:"mdi-keyboard-return",arrowup:"mdi-arrow-up",arrowdown:"mdi-arrow-down",arrowleft:"mdi-arrow-left",arrowright:"mdi-arrow-right",backspace:"mdi-backspace"},yhe={component:t=>Vb(wQ,{...t,class:"mdi"})},$r=[String,Function,Object,Array],jU=Symbol.for("vuetify:icons"),UF=Fn({icon:{type:$r},tag:{type:[String,Object,Function],required:!0}},"icon"),Zq=Fo()({name:"VComponentIcon",props:UF(),setup(t,r){let{slots:i}=r;return()=>{const u=t.icon;return ce(t.tag,null,{default:()=>{var g;return[t.icon?ce(u,null,null):(g=i.default)==null?void 0:g.call(i)]}})}}}),xQ=PE({name:"VSvgIcon",inheritAttrs:!1,props:UF(),setup(t,r){let{attrs:i}=r;return()=>ce(t.tag,Bo(i,{style:null}),{default:()=>[oe("svg",{class:"v-icon__svg",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",role:"img","aria-hidden":"true"},[Array.isArray(t.icon)?t.icon.map(u=>Array.isArray(u)?oe("path",{d:u[0],"fill-opacity":u[1]},null):oe("path",{d:u},null)):oe("path",{d:t.icon},null)])]})}});PE({name:"VLigatureIcon",props:UF(),setup(t){return()=>ce(t.tag,null,{default:()=>[t.icon]})}});const wQ=PE({name:"VClassIcon",props:UF(),setup(t){return()=>ce(t.tag,{class:ao(t.icon)},null)}});function xhe(){return{svg:{component:xQ},class:{component:wQ}}}function whe(t){const r=xhe(),i=(t==null?void 0:t.defaultSet)??"mdi";return i==="mdi"&&!r.mdi&&(r.mdi=yhe),Hu({defaultSet:i,sets:r,aliases:{...vhe,vuetify:["M8.2241 14.2009L12 21L22 3H14.4459L8.2241 14.2009Z",["M7.26303 12.4733L7.00113 12L2 3H12.5261C12.5261 3 12.5261 3 12.5261 3L7.26303 12.4733Z",.6]],"vuetify-outline":"svg:M7.26 12.47 12.53 3H2L7.26 12.47ZM14.45 3 8.22 14.2 12 21 22 3H14.45ZM18.6 5 12 16.88 10.51 14.2 15.62 5ZM7.26 8.35 5.4 5H9.13L7.26 8.35Z","vuetify-play":["m6.376 13.184-4.11-7.192C1.505 4.66 2.467 3 4.003 3h8.532l-.953 1.576-.006.01-.396.677c-.429.732-.214 1.507.194 2.015.404.503 1.092.878 1.869.806a3.72 3.72 0 0 1 1.005.022c.276.053.434.143.523.237.138.146.38.635-.25 2.09-.893 1.63-1.553 1.722-1.847 1.677-.213-.033-.468-.158-.756-.406a4.95 4.95 0 0 1-.8-.927c-.39-.564-1.04-.84-1.66-.846-.625-.006-1.316.27-1.693.921l-.478.826-.911 1.506Z",["M9.093 11.552c.046-.079.144-.15.32-.148a.53.53 0 0 1 .43.207c.285.414.636.847 1.046 1.2.405.35.914.662 1.516.754 1.334.205 2.502-.698 3.48-2.495l.014-.028.013-.03c.687-1.574.774-2.852-.005-3.675-.37-.391-.861-.586-1.333-.676a5.243 5.243 0 0 0-1.447-.044c-.173.016-.393-.073-.54-.257-.145-.18-.127-.316-.082-.392l.393-.672L14.287 3h5.71c1.536 0 2.499 1.659 1.737 2.992l-7.997 13.996c-.768 1.344-2.706 1.344-3.473 0l-3.037-5.314 1.377-2.278.004-.006.004-.007.481-.831Z",.6]]}},t)}const Che=t=>{const r=Wi(jU);if(!r)throw new Error("Missing Vuetify Icons provide!");return{iconData:It(()=>{var D;const u=$b(t);if(!u)return{component:Zq};let g=u;if(typeof g=="string"&&(g=g.trim(),g.startsWith("$")&&(g=(D=r.aliases)==null?void 0:D[g.slice(1)])),Array.isArray(g))return{component:xQ,icon:g};if(typeof g!="string")return{component:Zq,icon:g};const h=Object.keys(r.sets).find(I=>typeof g=="string"&&g.startsWith(`${I}:`)),x=h?g.slice(h.length+1):g;return{component:r.sets[h??r.defaultSet].component,icon:x}})}},VR=Symbol.for("vuetify:theme"),xl=Fn({theme:String},"theme");function Gq(){return{defaultTheme:"light",prefix:"v-",variations:{colors:[],lighten:0,darken:0},themes:{light:{dark:!1,colors:{background:"#FFFFFF",surface:"#FFFFFF","surface-bright":"#FFFFFF","surface-light":"#EEEEEE","surface-variant":"#424242","on-surface-variant":"#EEEEEE",primary:"#1867C0","primary-darken-1":"#1F5592",secondary:"#48A9A6","secondary-darken-1":"#018786",error:"#B00020",info:"#2196F3",success:"#4CAF50",warning:"#FB8C00"},variables:{"border-color":"#000000","border-opacity":.12,"high-emphasis-opacity":.87,"medium-emphasis-opacity":.6,"disabled-opacity":.38,"idle-opacity":.04,"hover-opacity":.04,"focus-opacity":.12,"selected-opacity":.08,"activated-opacity":.12,"pressed-opacity":.12,"dragged-opacity":.08,"theme-kbd":"#EEEEEE","theme-on-kbd":"#000000","theme-code":"#F5F5F5","theme-on-code":"#000000"}},dark:{dark:!0,colors:{background:"#121212",surface:"#212121","surface-bright":"#ccbfd6","surface-light":"#424242","surface-variant":"#c8c8c8","on-surface-variant":"#000000",primary:"#2196F3","primary-darken-1":"#277CC1",secondary:"#54B6B2","secondary-darken-1":"#48A9A6",error:"#CF6679",info:"#2196F3",success:"#4CAF50",warning:"#FB8C00"},variables:{"border-color":"#FFFFFF","border-opacity":.12,"high-emphasis-opacity":1,"medium-emphasis-opacity":.7,"disabled-opacity":.5,"idle-opacity":.1,"hover-opacity":.04,"focus-opacity":.12,"selected-opacity":.08,"activated-opacity":.12,"pressed-opacity":.16,"dragged-opacity":.08,"theme-kbd":"#424242","theme-on-kbd":"#FFFFFF","theme-code":"#343434","theme-on-code":"#CCCCCC"}}},stylesheetId:"vuetify-theme-stylesheet",scoped:!1,unimportant:!1,utilities:!0}}function _he(){var u,g;let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Gq();const r=Gq();if(!t)return{...r,isDisabled:!0};const i={};for(const[h,x]of Object.entries(t.themes??{})){const C=x.dark||h==="dark"?(u=r.themes)==null?void 0:u.dark:(g=r.themes)==null?void 0:g.light;i[h]=Hu(C,x)}return Hu(r,{...t,themes:i})}function yC(t,r,i,u){t.push(`${Ahe(r,u)} {
`,...i.map(g=>`  ${g};
`),`}
`)}function qq(t,r){const i=t.dark?2:1,u=t.dark?1:2,g=[];for(const[h,x]of Object.entries(t.colors)){const C=Pb(x);g.push(`--${r}theme-${h}: ${C.r},${C.g},${C.b}`),h.startsWith("on-")||g.push(`--${r}theme-${h}-overlay-multiplier: ${gge(x)>.18?i:u}`)}for(const[h,x]of Object.entries(t.variables)){const C=typeof x=="string"&&x.startsWith("#")?Pb(x):void 0,D=C?`${C.r}, ${C.g}, ${C.b}`:void 0;g.push(`--${r}${h}: ${D??x}`)}return g}function She(t,r,i){const u={};if(i)for(const g of["lighten","darken"]){const h=g==="lighten"?fge:mge;for(const x of jJ(i[g],1))u[`${t}-${g}-${x}`]=cge(h(Pb(r),x))}return u}function khe(t,r){if(!r)return{};let i={};for(const u of r.colors){const g=t[u];g&&(i={...i,...She(u,g,r)})}return i}function Ehe(t){const r={};for(const i of Object.keys(t)){if(i.startsWith("on-")||t[`on-${i}`])continue;const u=`on-${i}`,g=Pb(t[i]);r[u]=aQ(g)}return r}function Ahe(t,r){if(!r)return t;const i=`:where(${r})`;return t===":root"?i:`${i} ${t}`}function The(t,r,i){const u=Ohe(t,r);u&&(u.innerHTML=i)}function Ohe(t,r){if(!Jr)return null;let i=document.getElementById(t);return i||(i=document.createElement("style"),i.id=t,i.type="text/css",r&&i.setAttribute("nonce",r),document.head.appendChild(i)),i}function Rhe(t){const r=_he(t),i=bo(r.defaultTheme),u=Ln(r.themes),g=bo("light"),h=It({get(){return i.value==="system"?g.value:i.value},set(W){i.value=W}}),x=It(()=>{const W={};for(const[he,ue]of Object.entries(u.value)){const j={...ue.colors,...khe(ue.colors,r.variations)};W[he]={...ue,colors:{...j,...Ehe(j)}}}return W}),C=pn(()=>x.value[h.value]),D=It(()=>{var j;const W=[],he=r.unimportant?"":" !important",ue=r.scoped?r.prefix:"";(j=C.value)!=null&&j.dark&&yC(W,":root",["color-scheme: dark"],r.scope),yC(W,":root",qq(C.value,r.prefix),r.scope);for(const[de,te]of Object.entries(x.value))yC(W,`.${r.prefix}theme--${de}`,[`color-scheme: ${te.dark?"dark":"normal"}`,...qq(te,r.prefix)],r.scope);if(r.utilities){const de=[],te=[],ze=new Set(Object.values(x.value).flatMap(Fe=>Object.keys(Fe.colors)));for(const Fe of ze)Fe.startsWith("on-")?yC(te,`.${Fe}`,[`color: rgb(var(--${r.prefix}theme-${Fe}))${he}`],r.scope):(yC(de,`.${ue}bg-${Fe}`,[`--${r.prefix}theme-overlay-multiplier: var(--${r.prefix}theme-${Fe}-overlay-multiplier)`,`background-color: rgb(var(--${r.prefix}theme-${Fe}))${he}`,`color: rgb(var(--${r.prefix}theme-on-${Fe}))${he}`],r.scope),yC(te,`.${ue}text-${Fe}`,[`color: rgb(var(--${r.prefix}theme-${Fe}))${he}`],r.scope),yC(te,`.${ue}border-${Fe}`,[`--${r.prefix}border-color: var(--${r.prefix}theme-${Fe})`],r.scope));W.push(...de,...te)}return W.map((de,te)=>te===0?de:`    ${de}`).join("")}),I=pn(()=>r.isDisabled?void 0:`${r.prefix}theme--${h.value}`),O=pn(()=>Object.keys(x.value));if(Nme){let he=function(){g.value=W.matches?"dark":"light"};var ie=he;const W=window.matchMedia("(prefers-color-scheme: dark)");he(),W.addEventListener("change",he,{passive:!0}),bW()&&rc(()=>{W.removeEventListener("change",he)})}function B(W){if(r.isDisabled)return;const he=W._context.provides.usehead;if(he){let de=function(){return{style:[{textContent:D.value,id:r.stylesheetId,nonce:r.cspNonce||!1}]}};var ue=de;if(he.push){const te=he.push(de);Jr&&Rn(D,()=>{te.patch(de)})}else Jr?(he.addHeadObjs(pn(de)),Md(()=>he.updateDOM())):he.addHeadObjs(de())}else{let de=function(){The(r.stylesheetId,r.cspNonce,D.value)};var j=de;Jr?Rn(D,de,{immediate:!0}):de()}}function V(W){O.value.includes(W)&&(h.value=W)}function z(){let W=arguments.length>0&&arguments[0]!==void 0?arguments[0]:O.value;const he=W.indexOf(h.value),ue=he===-1?0:(he+1)%W.length;V(W[ue])}function Z(){let W=arguments.length>0&&arguments[0]!==void 0?arguments[0]:["light","dark"];z(W)}const ee=new Proxy(h,{get(W,he){return Reflect.get(W,he)},set(W,he,ue){return he==="value"&&nQ(`theme.global.name.value = ${ue}`,`theme.change('${ue}')`),Reflect.set(W,he,ue)}});return{install:B,change:V,cycle:z,toggle:Z,isDisabled:r.isDisabled,name:h,themes:u,current:C,computedThemes:x,prefix:r.prefix,themeClasses:I,styles:D,global:{name:ee,current:C}}}function ic(t){Bl("provideTheme");const r=Wi(VR,null);if(!r)throw new Error("Could not find Vuetify theme injection");const i=pn(()=>t.theme??r.name.value),u=pn(()=>r.themes.value[i.value]),g=pn(()=>r.isDisabled?void 0:`${r.prefix}theme--${i.value}`),h={...r,name:i,current:u,themeClasses:g};return Bd(VR,h),h}function Ihe(){Bl("useTheme");const t=Wi(VR,null);if(!t)throw new Error("Could not find Vuetify theme injection");return t}function SE(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"content";const i=BU(),u=Ln();if(Jr){const g=new ResizeObserver(h=>{h.length&&(r==="content"?u.value=h[0].contentRect:u.value=h[0].target.getBoundingClientRect())});Ec(()=>{g.disconnect()}),Rn(()=>i.el,(h,x)=>{x&&(g.unobserve(x),u.value=void 0),h&&g.observe(h)},{flush:"post"})}return{resizeRef:i,contentRect:IE(u)}}const uF=Symbol.for("vuetify:layout"),CQ=Symbol.for("vuetify:layout-item"),Yq=1e3,Dhe=Fn({overlaps:{type:Array,default:()=>[]},fullHeight:Boolean},"layout"),_Q=Fn({name:{type:String},order:{type:[Number,String],default:0},absolute:Boolean},"layout-item");function Phe(){const t=Wi(uF);if(!t)throw new Error("[Vuetify] Could not find injected layout");return{getLayoutItem:t.getLayoutItem,mainRect:t.mainRect,mainStyles:t.mainStyles}}function SQ(t){const r=Wi(uF);if(!r)throw new Error("[Vuetify] Could not find injected layout");const i=t.id??`layout-item-${t1()}`,u=Bl("useLayoutItem");Bd(CQ,{id:i});const g=bo(!1);NF(()=>g.value=!0),TW(()=>g.value=!1);const{layoutItemStyles:h,layoutItemScrimStyles:x}=r.register(u,{...t,active:It(()=>g.value?!1:t.active.value),id:i});return Ec(()=>r.unregister(i)),{layoutItemStyles:h,layoutRect:r.layoutRect,layoutItemScrimStyles:x}}const Nhe=(t,r,i,u)=>{let g={top:0,left:0,right:0,bottom:0};const h=[{id:"",layer:{...g}}];for(const x of t){const C=r.get(x),D=i.get(x),I=u.get(x);if(!C||!D||!I)continue;const O={...g,[C.value]:parseInt(g[C.value],10)+(I.value?parseInt(D.value,10):0)};h.push({id:x,layer:O}),g=O}return h};function Lhe(t){const r=Wi(uF,null),i=It(()=>r?r.rootZIndex.value-100:Yq),u=Ln([]),g=Kl(new Map),h=Kl(new Map),x=Kl(new Map),C=Kl(new Map),D=Kl(new Map),{resizeRef:I,contentRect:O}=SE(),B=It(()=>{const te=new Map,ze=t.overlaps??[];for(const Fe of ze.filter(Je=>Je.includes(":"))){const[Je,rt]=Fe.split(":");if(!u.value.includes(Je)||!u.value.includes(rt))continue;const we=g.get(Je),_e=g.get(rt),R=h.get(Je),it=h.get(rt);!we||!_e||!R||!it||(te.set(rt,{position:we.value,amount:parseInt(R.value,10)}),te.set(Je,{position:_e.value,amount:-parseInt(it.value,10)}))}return te}),V=It(()=>{const te=[...new Set([...x.values()].map(Fe=>Fe.value))].sort((Fe,Je)=>Fe-Je),ze=[];for(const Fe of te){const Je=u.value.filter(rt=>{var we;return((we=x.get(rt))==null?void 0:we.value)===Fe});ze.push(...Je)}return Nhe(ze,g,h,C)}),z=It(()=>!Array.from(D.values()).some(te=>te.value)),Z=It(()=>V.value[V.value.length-1].layer),ee=pn(()=>({"--v-layout-left":ys(Z.value.left),"--v-layout-right":ys(Z.value.right),"--v-layout-top":ys(Z.value.top),"--v-layout-bottom":ys(Z.value.bottom),...z.value?void 0:{transition:"none"}})),ie=It(()=>V.value.slice(1).map((te,ze)=>{let{id:Fe}=te;const{layer:Je}=V.value[ze],rt=h.get(Fe),we=g.get(Fe);return{id:Fe,...Je,size:Number(rt.value),position:we.value}})),W=te=>ie.value.find(ze=>ze.id===te),he=Bl("createLayout"),ue=bo(!1);Wu(()=>{ue.value=!0}),Bd(uF,{register:(te,ze)=>{let{id:Fe,order:Je,position:rt,layoutSize:we,elementSize:_e,active:R,disableTransitions:it,absolute:St}=ze;x.set(Fe,Je),g.set(Fe,rt),h.set(Fe,we),C.set(Fe,R),it&&D.set(Fe,it);const sn=uE(CQ,he==null?void 0:he.vnode).indexOf(te);sn>-1?u.value.splice(sn,0,Fe):u.value.push(Fe);const dt=It(()=>ie.value.findIndex(Me=>Me.id===Fe)),An=It(()=>i.value+V.value.length*2-dt.value*2),At=It(()=>{const Me=rt.value==="left"||rt.value==="right",mt=rt.value==="right",vo=rt.value==="bottom",Wt=_e.value??we.value,In=Wt===0?"%":"px",on={[rt.value]:0,zIndex:An.value,transform:`translate${Me?"X":"Y"}(${(R.value?0:-(Wt===0?100:Wt))*(mt||vo?-1:1)}${In})`,position:St.value||i.value!==Yq?"absolute":"fixed",...z.value?void 0:{transition:"none"}};if(!ue.value)return on;const J=ie.value[dt.value];if(!J)throw new Error(`[Vuetify] Could not find layout item "${Fe}"`);const mo=B.value.get(Fe);return mo&&(J[mo.position]+=mo.amount),{...on,height:Me?`calc(100% - ${J.top}px - ${J.bottom}px)`:_e.value?`${_e.value}px`:void 0,left:mt?void 0:`${J.left}px`,right:mt?`${J.right}px`:void 0,top:rt.value!=="bottom"?`${J.top}px`:void 0,bottom:rt.value!=="top"?`${J.bottom}px`:void 0,width:Me?_e.value?`${_e.value}px`:void 0:`calc(100% - ${J.left}px - ${J.right}px)`}}),et=It(()=>({zIndex:An.value-1}));return{layoutItemStyles:At,layoutItemScrimStyles:et,zIndex:An}},unregister:te=>{x.delete(te),g.delete(te),h.delete(te),C.delete(te),D.delete(te),u.value=u.value.filter(ze=>ze!==te)},mainRect:Z,mainStyles:ee,getLayoutItem:W,items:ie,layoutRect:O,rootZIndex:i});const j=pn(()=>["v-layout",{"v-layout--full-height":t.fullHeight}]),de=pn(()=>({zIndex:r?i.value:void 0,position:r?"relative":void 0,overflow:r?"hidden":void 0}));return{layoutClasses:j,layoutStyles:de,getLayoutItem:W,items:ie,layoutRect:O,layoutRef:I}}function kQ(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{blueprint:r,...i}=t,u=Hu(r,i),{aliases:g={},components:h={},directives:x={}}=u,C=px();return C.run(()=>{const D=pge(u.defaults),I=mhe(u.display,u.ssr),O=Rhe(u.theme),B=whe(u.icons),V=Ege(u.locale),z=uhe(u.date,V),Z=hhe(u.goTo,V);function ee(W){for(const ue in x)W.directive(ue,x[ue]);for(const ue in h)W.component(ue,h[ue]);for(const ue in g)W.component(ue,PE({...g[ue],name:ue,aliasName:g[ue].name}));const he=px();if(he.run(()=>{O.install(W)}),W.onUnmount(()=>he.stop()),W.provide(_E,D),W.provide(KU,I),W.provide(VR,O),W.provide(jU,B),W.provide(aF,V),W.provide(che,z.options),W.provide(zq,z.instance),W.provide(vQ,Z),Jr&&u.ssr)if(W.$nuxt)W.$nuxt.hook("app:suspense:resolve",()=>{I.update()});else{const{mount:ue}=W;W.mount=function(){const j=ue(...arguments);return Qo(()=>I.update()),W.mount=ue,j}}W.mixin({computed:{$vuetify(){return Kl({defaults:Jk.call(this,_E),display:Jk.call(this,KU),theme:Jk.call(this,VR),icons:Jk.call(this,jU),locale:Jk.call(this,aF),date:Jk.call(this,zq)})}}})}function ie(){C.stop()}return{install:ee,unmount:ie,defaults:D,display:I,theme:O,icons:B,locale:V,date:z,goTo:Z}})}const Mhe="3.9.0";kQ.version=Mhe;function Jk(t){var u,g;const r=this.$,i=((u=r.parent)==null?void 0:u.provides)??((g=r.vnode.appContext)==null?void 0:g.provides);if(i&&t in i)return i[t]}const Bhe=kQ({theme:{themes:{light:{colors:{primary:"#1867C0",secondary:"#5CBBF6"}}}}});/*!
 * pinia v2.3.1
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */let EQ;const WF=t=>EQ=t,AQ=Symbol();function ZU(t){return t&&typeof t=="object"&&Object.prototype.toString.call(t)==="[object Object]"&&typeof t.toJSON!="function"}var AR;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(AR||(AR={}));function Fhe(){const t=px(!0),r=t.run(()=>Ln({}));let i=[],u=[];const g=kW({install(h){WF(g),g._a=h,h.provide(AQ,g),h.config.globalProperties.$pinia=g,u.forEach(x=>i.push(x)),u=[]},use(h){return this._a?i.push(h):u.push(h),this},_p:i,_a:null,_e:t,_s:new Map,state:r});return g}const TQ=()=>{};function Xq(t,r,i,u=TQ){t.push(r);const g=()=>{const h=t.indexOf(r);h>-1&&(t.splice(h,1),u())};return!i&&bW()&&rc(g),g}function Qk(t,...r){t.slice().forEach(i=>{i(...r)})}const $he=t=>t(),Jq=Symbol(),U9=Symbol();function GU(t,r){t instanceof Map&&r instanceof Map?r.forEach((i,u)=>t.set(u,i)):t instanceof Set&&r instanceof Set&&r.forEach(t.add,t);for(const i in r){if(!r.hasOwnProperty(i))continue;const u=r[i],g=t[i];ZU(g)&&ZU(u)&&t.hasOwnProperty(i)&&!ra(u)&&!gx(u)?t[i]=GU(g,u):t[i]=u}return t}const Vhe=Symbol();function zhe(t){return!ZU(t)||!t.hasOwnProperty(Vhe)}const{assign:ax}=Object;function Hhe(t){return!!(ra(t)&&t.effect)}function Uhe(t,r,i,u){const{state:g,actions:h,getters:x}=r,C=i.state.value[t];let D;function I(){C||(i.state.value[t]=g?g():{});const O=IF(i.state.value[t]);return ax(O,h,Object.keys(x||{}).reduce((B,V)=>(B[V]=kW(It(()=>{WF(i);const z=i._s.get(t);return x[V].call(z,z)})),B),{}))}return D=OQ(t,I,r,i,u,!0),D}function OQ(t,r,i={},u,g,h){let x;const C=ax({actions:{}},i),D={deep:!0};let I,O,B=[],V=[],z;const Z=u.state.value[t];!h&&!Z&&(u.state.value[t]={}),Ln({});let ee;function ie(Fe){let Je;I=O=!1,typeof Fe=="function"?(Fe(u.state.value[t]),Je={type:AR.patchFunction,storeId:t,events:z}):(GU(u.state.value[t],Fe),Je={type:AR.patchObject,payload:Fe,storeId:t,events:z});const rt=ee=Symbol();Qo().then(()=>{ee===rt&&(I=!0)}),O=!0,Qk(B,Je,u.state.value[t])}const W=h?function(){const{state:Je}=i,rt=Je?Je():{};this.$patch(we=>{ax(we,rt)})}:TQ;function he(){x.stop(),B=[],V=[],u._s.delete(t)}const ue=(Fe,Je="")=>{if(Jq in Fe)return Fe[U9]=Je,Fe;const rt=function(){WF(u);const we=Array.from(arguments),_e=[],R=[];function it(sn){_e.push(sn)}function St(sn){R.push(sn)}Qk(V,{args:we,name:rt[U9],store:de,after:it,onError:St});let Ut;try{Ut=Fe.apply(this&&this.$id===t?this:de,we)}catch(sn){throw Qk(R,sn),sn}return Ut instanceof Promise?Ut.then(sn=>(Qk(_e,sn),sn)).catch(sn=>(Qk(R,sn),Promise.reject(sn))):(Qk(_e,Ut),Ut)};return rt[Jq]=!0,rt[U9]=Je,rt},j={_p:u,$id:t,$onAction:Xq.bind(null,V),$patch:ie,$reset:W,$subscribe(Fe,Je={}){const rt=Xq(B,Fe,Je.detached,()=>we()),we=x.run(()=>Rn(()=>u.state.value[t],_e=>{(Je.flush==="sync"?O:I)&&Fe({storeId:t,type:AR.direct,events:z},_e)},ax({},D,Je)));return rt},$dispose:he},de=Kl(j);u._s.set(t,de);const ze=(u._a&&u._a.runWithContext||$he)(()=>u._e.run(()=>(x=px()).run(()=>r({action:ue}))));for(const Fe in ze){const Je=ze[Fe];if(ra(Je)&&!Hhe(Je)||gx(Je))h||(Z&&zhe(Je)&&(ra(Je)?Je.value=Z[Fe]:GU(Je,Z[Fe])),u.state.value[t][Fe]=Je);else if(typeof Je=="function"){const rt=ue(Je,Fe);ze[Fe]=rt,C.actions[Fe]=Je}}return ax(de,ze),ax(hs(de),ze),Object.defineProperty(de,"$state",{get:()=>u.state.value[t],set:Fe=>{ie(Je=>{ax(Je,Fe)})}}),u._p.forEach(Fe=>{ax(de,x.run(()=>Fe({store:de,app:u._a,pinia:u,options:C})))}),Z&&h&&i.hydrate&&i.hydrate(de.$state,Z),I=!0,O=!0,de}/*! #__NO_SIDE_EFFECTS__ */function tu(t,r,i){let u,g;const h=typeof r=="function";typeof t=="string"?(u=t,g=h?i:r):(g=t,u=t.id);function x(C,D){const I=xfe();return C=C||(I?Wi(AQ,null):null),C&&WF(C),C=EQ,C._s.has(u)||(h?OQ(u,r,g,C):Uhe(u,g,C)),C._s.get(u)}return x.$id=u,x}const Whe=Fhe();/*!
  * shared v11.1.9
  * (c) 2025 kazuya kawaguchi
  * Released under the MIT License.
  */const Qq=typeof window<"u",RQ=(t,r=!1)=>r?Symbol.for(t):Symbol(t),Khe=(t,r,i)=>jhe({l:t,k:r,s:i}),jhe=t=>JSON.stringify(t).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029").replace(/\u0027/g,"\\u0027"),vf=t=>typeof t=="number"&&isFinite(t),dF=t=>DQ(t)==="[object RegExp]",Zhe=t=>Vu(t)&&Object.keys(t).length===0,NE=Object.assign,Ghe=Object.create,Uu=(t=null)=>Ghe(t);let eY;const jW=()=>eY||(eY=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:Uu());function tY(t){return t.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")}const qhe=Object.prototype.hasOwnProperty;function op(t,r){return qhe.call(t,r)}const zb=Array.isArray,yl=t=>typeof t=="function",yr=t=>typeof t=="string",Pd=t=>typeof t=="boolean",Qa=t=>t!==null&&typeof t=="object",Yhe=t=>Qa(t)&&yl(t.then)&&yl(t.catch),IQ=Object.prototype.toString,DQ=t=>IQ.call(t),Vu=t=>DQ(t)==="[object Object]",Xhe=t=>t==null?"":zb(t)||Vu(t)&&t.toString===IQ?JSON.stringify(t,null,2):String(t);function ZW(t,r=""){return t.reduce((i,u,g)=>g===0?i+u:i+r+u,"")}function Jhe(t,r){typeof console<"u"&&(console.warn("[intlify] "+t),r&&console.warn(r.stack))}const S6=t=>!Qa(t)||zb(t);function B6(t,r){if(S6(t)||S6(r))throw new Error("Invalid value");const i=[{src:t,des:r}];for(;i.length;){const{src:u,des:g}=i.pop();Object.keys(u).forEach(h=>{h!=="__proto__"&&(Qa(u[h])&&!Qa(g[h])&&(g[h]=Array.isArray(u[h])?[]:Uu()),S6(g[h])||S6(u[h])?g[h]=u[h]:i.push({src:u[h],des:g[h]}))})}}/*!
  * message-compiler v11.1.9
  * (c) 2025 kazuya kawaguchi
  * Released under the MIT License.
  */function Qhe(t,r,i){return{line:t,column:r,offset:i}}function qU(t,r,i){return{start:t,end:r}}const Ci={EXPECTED_TOKEN:1,INVALID_TOKEN_IN_PLACEHOLDER:2,UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER:3,UNKNOWN_ESCAPE_SEQUENCE:4,INVALID_UNICODE_ESCAPE_SEQUENCE:5,UNBALANCED_CLOSING_BRACE:6,UNTERMINATED_CLOSING_BRACE:7,EMPTY_PLACEHOLDER:8,NOT_ALLOW_NEST_PLACEHOLDER:9,INVALID_LINKED_FORMAT:10,MUST_HAVE_MESSAGES_IN_PLURAL:11,UNEXPECTED_EMPTY_LINKED_MODIFIER:12,UNEXPECTED_EMPTY_LINKED_KEY:13,UNEXPECTED_LEXICAL_ANALYSIS:14},epe=17;function KF(t,r,i={}){const{domain:u,messages:g,args:h}=i,x=t,C=new SyntaxError(String(x));return C.code=t,r&&(C.location=r),C.domain=u,C}function tpe(t){throw t}const F0=" ",npe="\r",Rd=`
`,ope="\u2028",spe="\u2029";function rpe(t){const r=t;let i=0,u=1,g=1,h=0;const x=ze=>r[ze]===npe&&r[ze+1]===Rd,C=ze=>r[ze]===Rd,D=ze=>r[ze]===spe,I=ze=>r[ze]===ope,O=ze=>x(ze)||C(ze)||D(ze)||I(ze),B=()=>i,V=()=>u,z=()=>g,Z=()=>h,ee=ze=>x(ze)||D(ze)||I(ze)?Rd:r[ze],ie=()=>ee(i),W=()=>ee(i+h);function he(){return h=0,O(i)&&(u++,g=0),x(i)&&i++,i++,g++,r[i]}function ue(){return x(i+h)&&h++,h++,r[i+h]}function j(){i=0,u=1,g=1,h=0}function de(ze=0){h=ze}function te(){const ze=i+h;for(;ze!==i;)he();h=0}return{index:B,line:V,column:z,peekOffset:Z,charAt:ee,currentChar:ie,currentPeek:W,next:he,peek:ue,reset:j,resetPeek:de,skipToPeek:te}}const nx=void 0,ipe=".",nY="'",ape="tokenizer";function lpe(t,r={}){const i=r.location!==!1,u=rpe(t),g=()=>u.index(),h=()=>Qhe(u.line(),u.column(),u.index()),x=h(),C=g(),D={currentType:13,offset:C,startLoc:x,endLoc:x,lastType:13,lastOffset:C,lastStartLoc:x,lastEndLoc:x,braceNest:0,inLinked:!1,text:""},I=()=>D,{onError:O}=r;function B(Se,Ne,Ge,...ht){const ln=I();if(Ne.column+=Ge,Ne.offset+=Ge,O){const Kt=i?qU(ln.startLoc,Ne):null,yn=KF(Se,Kt,{domain:ape,args:ht});O(yn)}}function V(Se,Ne,Ge){Se.endLoc=h(),Se.currentType=Ne;const ht={type:Ne};return i&&(ht.loc=qU(Se.startLoc,Se.endLoc)),Ge!=null&&(ht.value=Ge),ht}const z=Se=>V(Se,13);function Z(Se,Ne){return Se.currentChar()===Ne?(Se.next(),Ne):(B(Ci.EXPECTED_TOKEN,h(),0,Ne),"")}function ee(Se){let Ne="";for(;Se.currentPeek()===F0||Se.currentPeek()===Rd;)Ne+=Se.currentPeek(),Se.peek();return Ne}function ie(Se){const Ne=ee(Se);return Se.skipToPeek(),Ne}function W(Se){if(Se===nx)return!1;const Ne=Se.charCodeAt(0);return Ne>=97&&Ne<=122||Ne>=65&&Ne<=90||Ne===95}function he(Se){if(Se===nx)return!1;const Ne=Se.charCodeAt(0);return Ne>=48&&Ne<=57}function ue(Se,Ne){const{currentType:Ge}=Ne;if(Ge!==2)return!1;ee(Se);const ht=W(Se.currentPeek());return Se.resetPeek(),ht}function j(Se,Ne){const{currentType:Ge}=Ne;if(Ge!==2)return!1;ee(Se);const ht=Se.currentPeek()==="-"?Se.peek():Se.currentPeek(),ln=he(ht);return Se.resetPeek(),ln}function de(Se,Ne){const{currentType:Ge}=Ne;if(Ge!==2)return!1;ee(Se);const ht=Se.currentPeek()===nY;return Se.resetPeek(),ht}function te(Se,Ne){const{currentType:Ge}=Ne;if(Ge!==7)return!1;ee(Se);const ht=Se.currentPeek()===".";return Se.resetPeek(),ht}function ze(Se,Ne){const{currentType:Ge}=Ne;if(Ge!==8)return!1;ee(Se);const ht=W(Se.currentPeek());return Se.resetPeek(),ht}function Fe(Se,Ne){const{currentType:Ge}=Ne;if(!(Ge===7||Ge===11))return!1;ee(Se);const ht=Se.currentPeek()===":";return Se.resetPeek(),ht}function Je(Se,Ne){const{currentType:Ge}=Ne;if(Ge!==9)return!1;const ht=()=>{const Kt=Se.currentPeek();return Kt==="{"?W(Se.peek()):Kt==="@"||Kt==="|"||Kt===":"||Kt==="."||Kt===F0||!Kt?!1:Kt===Rd?(Se.peek(),ht()):we(Se,!1)},ln=ht();return Se.resetPeek(),ln}function rt(Se){ee(Se);const Ne=Se.currentPeek()==="|";return Se.resetPeek(),Ne}function we(Se,Ne=!0){const Ge=(ln=!1,Kt="")=>{const yn=Se.currentPeek();return yn==="{"||yn==="@"||!yn?ln:yn==="|"?!(Kt===F0||Kt===Rd):yn===F0?(Se.peek(),Ge(!0,F0)):yn===Rd?(Se.peek(),Ge(!0,Rd)):!0},ht=Ge();return Ne&&Se.resetPeek(),ht}function _e(Se,Ne){const Ge=Se.currentChar();return Ge===nx?nx:Ne(Ge)?(Se.next(),Ge):null}function R(Se){const Ne=Se.charCodeAt(0);return Ne>=97&&Ne<=122||Ne>=65&&Ne<=90||Ne>=48&&Ne<=57||Ne===95||Ne===36}function it(Se){return _e(Se,R)}function St(Se){const Ne=Se.charCodeAt(0);return Ne>=97&&Ne<=122||Ne>=65&&Ne<=90||Ne>=48&&Ne<=57||Ne===95||Ne===36||Ne===45}function Ut(Se){return _e(Se,St)}function sn(Se){const Ne=Se.charCodeAt(0);return Ne>=48&&Ne<=57}function dt(Se){return _e(Se,sn)}function An(Se){const Ne=Se.charCodeAt(0);return Ne>=48&&Ne<=57||Ne>=65&&Ne<=70||Ne>=97&&Ne<=102}function At(Se){return _e(Se,An)}function et(Se){let Ne="",Ge="";for(;Ne=dt(Se);)Ge+=Ne;return Ge}function Me(Se){let Ne="";for(;;){const Ge=Se.currentChar();if(Ge==="{"||Ge==="}"||Ge==="@"||Ge==="|"||!Ge)break;if(Ge===F0||Ge===Rd)if(we(Se))Ne+=Ge,Se.next();else{if(rt(Se))break;Ne+=Ge,Se.next()}else Ne+=Ge,Se.next()}return Ne}function mt(Se){ie(Se);let Ne="",Ge="";for(;Ne=Ut(Se);)Ge+=Ne;return Se.currentChar()===nx&&B(Ci.UNTERMINATED_CLOSING_BRACE,h(),0),Ge}function vo(Se){ie(Se);let Ne="";return Se.currentChar()==="-"?(Se.next(),Ne+=`-${et(Se)}`):Ne+=et(Se),Se.currentChar()===nx&&B(Ci.UNTERMINATED_CLOSING_BRACE,h(),0),Ne}function Wt(Se){return Se!==nY&&Se!==Rd}function In(Se){ie(Se),Z(Se,"'");let Ne="",Ge="";for(;Ne=_e(Se,Wt);)Ne==="\\"?Ge+=on(Se):Ge+=Ne;const ht=Se.currentChar();return ht===Rd||ht===nx?(B(Ci.UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER,h(),0),ht===Rd&&(Se.next(),Z(Se,"'")),Ge):(Z(Se,"'"),Ge)}function on(Se){const Ne=Se.currentChar();switch(Ne){case"\\":case"'":return Se.next(),`\\${Ne}`;case"u":return J(Se,Ne,4);case"U":return J(Se,Ne,6);default:return B(Ci.UNKNOWN_ESCAPE_SEQUENCE,h(),0,Ne),""}}function J(Se,Ne,Ge){Z(Se,Ne);let ht="";for(let ln=0;ln<Ge;ln++){const Kt=At(Se);if(!Kt){B(Ci.INVALID_UNICODE_ESCAPE_SEQUENCE,h(),0,`\\${Ne}${ht}${Se.currentChar()}`);break}ht+=Kt}return`\\${Ne}${ht}`}function mo(Se){return Se!=="{"&&Se!=="}"&&Se!==F0&&Se!==Rd}function Zt(Se){ie(Se);let Ne="",Ge="";for(;Ne=_e(Se,mo);)Ge+=Ne;return Ge}function vn(Se){let Ne="",Ge="";for(;Ne=it(Se);)Ge+=Ne;return Ge}function je(Se){const Ne=Ge=>{const ht=Se.currentChar();return ht==="{"||ht==="@"||ht==="|"||ht==="("||ht===")"||!ht||ht===F0?Ge:(Ge+=ht,Se.next(),Ne(Ge))};return Ne("")}function tt(Se){ie(Se);const Ne=Z(Se,"|");return ie(Se),Ne}function xe(Se,Ne){let Ge=null;switch(Se.currentChar()){case"{":return Ne.braceNest>=1&&B(Ci.NOT_ALLOW_NEST_PLACEHOLDER,h(),0),Se.next(),Ge=V(Ne,2,"{"),ie(Se),Ne.braceNest++,Ge;case"}":return Ne.braceNest>0&&Ne.currentType===2&&B(Ci.EMPTY_PLACEHOLDER,h(),0),Se.next(),Ge=V(Ne,3,"}"),Ne.braceNest--,Ne.braceNest>0&&ie(Se),Ne.inLinked&&Ne.braceNest===0&&(Ne.inLinked=!1),Ge;case"@":return Ne.braceNest>0&&B(Ci.UNTERMINATED_CLOSING_BRACE,h(),0),Ge=Re(Se,Ne)||z(Ne),Ne.braceNest=0,Ge;default:{let ln=!0,Kt=!0,yn=!0;if(rt(Se))return Ne.braceNest>0&&B(Ci.UNTERMINATED_CLOSING_BRACE,h(),0),Ge=V(Ne,1,tt(Se)),Ne.braceNest=0,Ne.inLinked=!1,Ge;if(Ne.braceNest>0&&(Ne.currentType===4||Ne.currentType===5||Ne.currentType===6))return B(Ci.UNTERMINATED_CLOSING_BRACE,h(),0),Ne.braceNest=0,Ve(Se,Ne);if(ln=ue(Se,Ne))return Ge=V(Ne,4,mt(Se)),ie(Se),Ge;if(Kt=j(Se,Ne))return Ge=V(Ne,5,vo(Se)),ie(Se),Ge;if(yn=de(Se,Ne))return Ge=V(Ne,6,In(Se)),ie(Se),Ge;if(!ln&&!Kt&&!yn)return Ge=V(Ne,12,Zt(Se)),B(Ci.INVALID_TOKEN_IN_PLACEHOLDER,h(),0,Ge.value),ie(Se),Ge;break}}return Ge}function Re(Se,Ne){const{currentType:Ge}=Ne;let ht=null;const ln=Se.currentChar();switch((Ge===7||Ge===8||Ge===11||Ge===9)&&(ln===Rd||ln===F0)&&B(Ci.INVALID_LINKED_FORMAT,h(),0),ln){case"@":return Se.next(),ht=V(Ne,7,"@"),Ne.inLinked=!0,ht;case".":return ie(Se),Se.next(),V(Ne,8,".");case":":return ie(Se),Se.next(),V(Ne,9,":");default:return rt(Se)?(ht=V(Ne,1,tt(Se)),Ne.braceNest=0,Ne.inLinked=!1,ht):te(Se,Ne)||Fe(Se,Ne)?(ie(Se),Re(Se,Ne)):ze(Se,Ne)?(ie(Se),V(Ne,11,vn(Se))):Je(Se,Ne)?(ie(Se),ln==="{"?xe(Se,Ne)||ht:V(Ne,10,je(Se))):(Ge===7&&B(Ci.INVALID_LINKED_FORMAT,h(),0),Ne.braceNest=0,Ne.inLinked=!1,Ve(Se,Ne))}}function Ve(Se,Ne){let Ge={type:13};if(Ne.braceNest>0)return xe(Se,Ne)||z(Ne);if(Ne.inLinked)return Re(Se,Ne)||z(Ne);switch(Se.currentChar()){case"{":return xe(Se,Ne)||z(Ne);case"}":return B(Ci.UNBALANCED_CLOSING_BRACE,h(),0),Se.next(),V(Ne,3,"}");case"@":return Re(Se,Ne)||z(Ne);default:{if(rt(Se))return Ge=V(Ne,1,tt(Se)),Ne.braceNest=0,Ne.inLinked=!1,Ge;if(we(Se))return V(Ne,0,Me(Se));break}}return Ge}function be(){const{currentType:Se,offset:Ne,startLoc:Ge,endLoc:ht}=D;return D.lastType=Se,D.lastOffset=Ne,D.lastStartLoc=Ge,D.lastEndLoc=ht,D.offset=g(),D.startLoc=h(),u.currentChar()===nx?V(D,13):Ve(u,D)}return{nextToken:be,currentOffset:g,currentPosition:h,context:I}}const cpe="parser",upe=/(?:\\\\|\\'|\\u([0-9a-fA-F]{4})|\\U([0-9a-fA-F]{6}))/g;function dpe(t,r,i){switch(t){case"\\\\":return"\\";case"\\'":return"'";default:{const u=parseInt(r||i,16);return u<=55295||u>=57344?String.fromCodePoint(u):""}}}function fpe(t={}){const r=t.location!==!1,{onError:i}=t;function u(W,he,ue,j,...de){const te=W.currentPosition();if(te.offset+=j,te.column+=j,i){const ze=r?qU(ue,te):null,Fe=KF(he,ze,{domain:cpe,args:de});i(Fe)}}function g(W,he,ue){const j={type:W};return r&&(j.start=he,j.end=he,j.loc={start:ue,end:ue}),j}function h(W,he,ue,j){r&&(W.end=he,W.loc&&(W.loc.end=ue))}function x(W,he){const ue=W.context(),j=g(3,ue.offset,ue.startLoc);return j.value=he,h(j,W.currentOffset(),W.currentPosition()),j}function C(W,he){const ue=W.context(),{lastOffset:j,lastStartLoc:de}=ue,te=g(5,j,de);return te.index=parseInt(he,10),W.nextToken(),h(te,W.currentOffset(),W.currentPosition()),te}function D(W,he){const ue=W.context(),{lastOffset:j,lastStartLoc:de}=ue,te=g(4,j,de);return te.key=he,W.nextToken(),h(te,W.currentOffset(),W.currentPosition()),te}function I(W,he){const ue=W.context(),{lastOffset:j,lastStartLoc:de}=ue,te=g(9,j,de);return te.value=he.replace(upe,dpe),W.nextToken(),h(te,W.currentOffset(),W.currentPosition()),te}function O(W){const he=W.nextToken(),ue=W.context(),{lastOffset:j,lastStartLoc:de}=ue,te=g(8,j,de);return he.type!==11?(u(W,Ci.UNEXPECTED_EMPTY_LINKED_MODIFIER,ue.lastStartLoc,0),te.value="",h(te,j,de),{nextConsumeToken:he,node:te}):(he.value==null&&u(W,Ci.UNEXPECTED_LEXICAL_ANALYSIS,ue.lastStartLoc,0,kb(he)),te.value=he.value||"",h(te,W.currentOffset(),W.currentPosition()),{node:te})}function B(W,he){const ue=W.context(),j=g(7,ue.offset,ue.startLoc);return j.value=he,h(j,W.currentOffset(),W.currentPosition()),j}function V(W){const he=W.context(),ue=g(6,he.offset,he.startLoc);let j=W.nextToken();if(j.type===8){const de=O(W);ue.modifier=de.node,j=de.nextConsumeToken||W.nextToken()}switch(j.type!==9&&u(W,Ci.UNEXPECTED_LEXICAL_ANALYSIS,he.lastStartLoc,0,kb(j)),j=W.nextToken(),j.type===2&&(j=W.nextToken()),j.type){case 10:j.value==null&&u(W,Ci.UNEXPECTED_LEXICAL_ANALYSIS,he.lastStartLoc,0,kb(j)),ue.key=B(W,j.value||"");break;case 4:j.value==null&&u(W,Ci.UNEXPECTED_LEXICAL_ANALYSIS,he.lastStartLoc,0,kb(j)),ue.key=D(W,j.value||"");break;case 5:j.value==null&&u(W,Ci.UNEXPECTED_LEXICAL_ANALYSIS,he.lastStartLoc,0,kb(j)),ue.key=C(W,j.value||"");break;case 6:j.value==null&&u(W,Ci.UNEXPECTED_LEXICAL_ANALYSIS,he.lastStartLoc,0,kb(j)),ue.key=I(W,j.value||"");break;default:{u(W,Ci.UNEXPECTED_EMPTY_LINKED_KEY,he.lastStartLoc,0);const de=W.context(),te=g(7,de.offset,de.startLoc);return te.value="",h(te,de.offset,de.startLoc),ue.key=te,h(ue,de.offset,de.startLoc),{nextConsumeToken:j,node:ue}}}return h(ue,W.currentOffset(),W.currentPosition()),{node:ue}}function z(W){const he=W.context(),ue=he.currentType===1?W.currentOffset():he.offset,j=he.currentType===1?he.endLoc:he.startLoc,de=g(2,ue,j);de.items=[];let te=null;do{const Je=te||W.nextToken();switch(te=null,Je.type){case 0:Je.value==null&&u(W,Ci.UNEXPECTED_LEXICAL_ANALYSIS,he.lastStartLoc,0,kb(Je)),de.items.push(x(W,Je.value||""));break;case 5:Je.value==null&&u(W,Ci.UNEXPECTED_LEXICAL_ANALYSIS,he.lastStartLoc,0,kb(Je)),de.items.push(C(W,Je.value||""));break;case 4:Je.value==null&&u(W,Ci.UNEXPECTED_LEXICAL_ANALYSIS,he.lastStartLoc,0,kb(Je)),de.items.push(D(W,Je.value||""));break;case 6:Je.value==null&&u(W,Ci.UNEXPECTED_LEXICAL_ANALYSIS,he.lastStartLoc,0,kb(Je)),de.items.push(I(W,Je.value||""));break;case 7:{const rt=V(W);de.items.push(rt.node),te=rt.nextConsumeToken||null;break}}}while(he.currentType!==13&&he.currentType!==1);const ze=he.currentType===1?he.lastOffset:W.currentOffset(),Fe=he.currentType===1?he.lastEndLoc:W.currentPosition();return h(de,ze,Fe),de}function Z(W,he,ue,j){const de=W.context();let te=j.items.length===0;const ze=g(1,he,ue);ze.cases=[],ze.cases.push(j);do{const Fe=z(W);te||(te=Fe.items.length===0),ze.cases.push(Fe)}while(de.currentType!==13);return te&&u(W,Ci.MUST_HAVE_MESSAGES_IN_PLURAL,ue,0),h(ze,W.currentOffset(),W.currentPosition()),ze}function ee(W){const he=W.context(),{offset:ue,startLoc:j}=he,de=z(W);return he.currentType===13?de:Z(W,ue,j,de)}function ie(W){const he=lpe(W,NE({},t)),ue=he.context(),j=g(0,ue.offset,ue.startLoc);return r&&j.loc&&(j.loc.source=W),j.body=ee(he),t.onCacheKey&&(j.cacheKey=t.onCacheKey(W)),ue.currentType!==13&&u(he,Ci.UNEXPECTED_LEXICAL_ANALYSIS,ue.lastStartLoc,0,W[ue.offset]||""),h(j,he.currentOffset(),he.currentPosition()),j}return{parse:ie}}function kb(t){if(t.type===13)return"EOF";const r=(t.value||"").replace(/\r?\n/gu,"\\n");return r.length>10?r.slice(0,9)+"":r}function mpe(t,r={}){const i={ast:t,helpers:new Set};return{context:()=>i,helper:h=>(i.helpers.add(h),h)}}function oY(t,r){for(let i=0;i<t.length;i++)GW(t[i],r)}function GW(t,r){switch(t.type){case 1:oY(t.cases,r),r.helper("plural");break;case 2:oY(t.items,r);break;case 6:{GW(t.key,r),r.helper("linked"),r.helper("type");break}case 5:r.helper("interpolate"),r.helper("list");break;case 4:r.helper("interpolate"),r.helper("named");break}}function gpe(t,r={}){const i=mpe(t);i.helper("normalize"),t.body&&GW(t.body,i);const u=i.context();t.helpers=Array.from(u.helpers)}function hpe(t){const r=t.body;return r.type===2?sY(r):r.cases.forEach(i=>sY(i)),t}function sY(t){if(t.items.length===1){const r=t.items[0];(r.type===3||r.type===9)&&(t.static=r.value,delete r.value)}else{const r=[];for(let i=0;i<t.items.length;i++){const u=t.items[i];if(!(u.type===3||u.type===9)||u.value==null)break;r.push(u.value)}if(r.length===t.items.length){t.static=ZW(r);for(let i=0;i<t.items.length;i++){const u=t.items[i];(u.type===3||u.type===9)&&delete u.value}}}}function cE(t){switch(t.t=t.type,t.type){case 0:{const r=t;cE(r.body),r.b=r.body,delete r.body;break}case 1:{const r=t,i=r.cases;for(let u=0;u<i.length;u++)cE(i[u]);r.c=i,delete r.cases;break}case 2:{const r=t,i=r.items;for(let u=0;u<i.length;u++)cE(i[u]);r.i=i,delete r.items,r.static&&(r.s=r.static,delete r.static);break}case 3:case 9:case 8:case 7:{const r=t;r.value&&(r.v=r.value,delete r.value);break}case 6:{const r=t;cE(r.key),r.k=r.key,delete r.key,r.modifier&&(cE(r.modifier),r.m=r.modifier,delete r.modifier);break}case 5:{const r=t;r.i=r.index,delete r.index;break}case 4:{const r=t;r.k=r.key,delete r.key;break}}delete t.type}function ppe(t,r){const{filename:i,breakLineCode:u,needIndent:g}=r,h=r.location!==!1,x={filename:i,code:"",column:1,line:1,offset:0,map:void 0,breakLineCode:u,needIndent:g,indentLevel:0};h&&t.loc&&(x.source=t.loc.source);const C=()=>x;function D(ee,ie){x.code+=ee}function I(ee,ie=!0){const W=ie?u:"";D(g?W+"  ".repeat(ee):W)}function O(ee=!0){const ie=++x.indentLevel;ee&&I(ie)}function B(ee=!0){const ie=--x.indentLevel;ee&&I(ie)}function V(){I(x.indentLevel)}return{context:C,push:D,indent:O,deindent:B,newline:V,helper:ee=>`_${ee}`,needIndent:()=>x.needIndent}}function bpe(t,r){const{helper:i}=t;t.push(`${i("linked")}(`),kE(t,r.key),r.modifier?(t.push(", "),kE(t,r.modifier),t.push(", _type")):t.push(", undefined, _type"),t.push(")")}function vpe(t,r){const{helper:i,needIndent:u}=t;t.push(`${i("normalize")}([`),t.indent(u());const g=r.items.length;for(let h=0;h<g&&(kE(t,r.items[h]),h!==g-1);h++)t.push(", ");t.deindent(u()),t.push("])")}function ype(t,r){const{helper:i,needIndent:u}=t;if(r.cases.length>1){t.push(`${i("plural")}([`),t.indent(u());const g=r.cases.length;for(let h=0;h<g&&(kE(t,r.cases[h]),h!==g-1);h++)t.push(", ");t.deindent(u()),t.push("])")}}function xpe(t,r){r.body?kE(t,r.body):t.push("null")}function kE(t,r){const{helper:i}=t;switch(r.type){case 0:xpe(t,r);break;case 1:ype(t,r);break;case 2:vpe(t,r);break;case 6:bpe(t,r);break;case 8:t.push(JSON.stringify(r.value),r);break;case 7:t.push(JSON.stringify(r.value),r);break;case 5:t.push(`${i("interpolate")}(${i("list")}(${r.index}))`,r);break;case 4:t.push(`${i("interpolate")}(${i("named")}(${JSON.stringify(r.key)}))`,r);break;case 9:t.push(JSON.stringify(r.value),r);break;case 3:t.push(JSON.stringify(r.value),r);break}}const wpe=(t,r={})=>{const i=yr(r.mode)?r.mode:"normal",u=yr(r.filename)?r.filename:"message.intl";r.sourceMap;const g=r.breakLineCode!=null?r.breakLineCode:i==="arrow"?";":`
`,h=r.needIndent?r.needIndent:i!=="arrow",x=t.helpers||[],C=ppe(t,{filename:u,breakLineCode:g,needIndent:h});C.push(i==="normal"?"function __msg__ (ctx) {":"(ctx) => {"),C.indent(h),x.length>0&&(C.push(`const { ${ZW(x.map(O=>`${O}: _${O}`),", ")} } = ctx`),C.newline()),C.push("return "),kE(C,t),C.deindent(h),C.push("}"),delete t.helpers;const{code:D,map:I}=C.context();return{ast:t,code:D,map:I?I.toJSON():void 0}};function Cpe(t,r={}){const i=NE({},r),u=!!i.jit,g=!!i.minify,h=i.optimize==null?!0:i.optimize,C=fpe(i).parse(t);return u?(h&&hpe(C),g&&cE(C),{ast:C,code:""}):(gpe(C,i),wpe(C,i))}/*!
  * core-base v11.1.9
  * (c) 2025 kazuya kawaguchi
  * Released under the MIT License.
  */function _pe(){typeof __INTLIFY_PROD_DEVTOOLS__!="boolean"&&(jW().__INTLIFY_PROD_DEVTOOLS__=!1)}function hx(t){return Qa(t)&&qW(t)===0&&(op(t,"b")||op(t,"body"))}const PQ=["b","body"];function Spe(t){return Cx(t,PQ)}const NQ=["c","cases"];function kpe(t){return Cx(t,NQ,[])}const LQ=["s","static"];function Epe(t){return Cx(t,LQ)}const MQ=["i","items"];function Ape(t){return Cx(t,MQ,[])}const BQ=["t","type"];function qW(t){return Cx(t,BQ)}const FQ=["v","value"];function k6(t,r){const i=Cx(t,FQ);if(i!=null)return i;throw zR(r)}const $Q=["m","modifier"];function Tpe(t){return Cx(t,$Q)}const VQ=["k","key"];function Ope(t){const r=Cx(t,VQ);if(r)return r;throw zR(6)}function Cx(t,r,i){for(let u=0;u<r.length;u++){const g=r[u];if(op(t,g)&&t[g]!=null)return t[g]}return i}const Rpe=[...PQ,...NQ,...LQ,...MQ,...VQ,...$Q,...FQ,...BQ];function zR(t){return new Error(`unhandled node type: ${t}`)}function W9(t){return i=>Ipe(i,t)}function Ipe(t,r){const i=Spe(r);if(i==null)throw zR(0);if(qW(i)===1){const h=kpe(i);return t.plural(h.reduce((x,C)=>[...x,rY(t,C)],[]))}else return rY(t,i)}function rY(t,r){const i=Epe(r);if(i!=null)return t.type==="text"?i:t.normalize([i]);{const u=Ape(r).reduce((g,h)=>[...g,YU(t,h)],[]);return t.normalize(u)}}function YU(t,r){const i=qW(r);switch(i){case 3:return k6(r,i);case 9:return k6(r,i);case 4:{const u=r;if(op(u,"k")&&u.k)return t.interpolate(t.named(u.k));if(op(u,"key")&&u.key)return t.interpolate(t.named(u.key));throw zR(i)}case 5:{const u=r;if(op(u,"i")&&vf(u.i))return t.interpolate(t.list(u.i));if(op(u,"index")&&vf(u.index))return t.interpolate(t.list(u.index));throw zR(i)}case 6:{const u=r,g=Tpe(u),h=Ope(u);return t.linked(YU(t,h),g?YU(t,g):void 0,t.type)}case 7:return k6(r,i);case 8:return k6(r,i);default:throw new Error(`unhandled node on format message part: ${i}`)}}const Dpe=t=>t;let E6=Uu();function Ppe(t,r={}){let i=!1;const u=r.onError||tpe;return r.onError=g=>{i=!0,u(g)},{...Cpe(t,r),detectError:i}}function Npe(t,r){if(yr(t)){Pd(r.warnHtmlMessage)&&r.warnHtmlMessage;const u=(r.onCacheKey||Dpe)(t),g=E6[u];if(g)return g;const{ast:h,detectError:x}=Ppe(t,{...r,location:!1,jit:!0}),C=W9(h);return x?C:E6[u]=C}else{const i=t.cacheKey;if(i){const u=E6[i];return u||(E6[i]=W9(t))}else return W9(t)}}let HR=null;function Lpe(t){HR=t}function Mpe(t,r,i){HR&&HR.emit("i18n:init",{timestamp:Date.now(),i18n:t,version:r,meta:i})}const Bpe=Fpe("function:translate");function Fpe(t){return r=>HR&&HR.emit(t,r)}const F6={INVALID_ARGUMENT:epe,NOT_SUPPORT_LOCALE_PROMISE_VALUE:21,NOT_SUPPORT_LOCALE_ASYNC_FUNCTION:22,NOT_SUPPORT_LOCALE_TYPE:23},$pe=24;function $6(t){return KF(t,null,void 0)}function Vpe(t,r){return r.locale!=null?iY(r.locale):iY(t.locale)}let K9;function iY(t){if(yr(t))return t;if(yl(t)){if(t.resolvedOnce&&K9!=null)return K9;if(t.constructor.name==="Function"){const r=t();if(Yhe(r))throw $6(F6.NOT_SUPPORT_LOCALE_PROMISE_VALUE);return K9=r}else throw $6(F6.NOT_SUPPORT_LOCALE_ASYNC_FUNCTION)}else throw $6(F6.NOT_SUPPORT_LOCALE_TYPE)}function zpe(t,r,i){return[...new Set([i,...zb(r)?r:Qa(r)?Object.keys(r):yr(r)?[r]:[i]])]}function Hpe(t,r){return Qa(t)?t[r]:null}const Upe="11.1.9",zQ=-1,XU="en-US",aY=t=>`${t.charAt(0).toLocaleUpperCase()}${t.substr(1)}`;function Wpe(){return{upper:(t,r)=>r==="text"&&yr(t)?t.toUpperCase():r==="vnode"&&Qa(t)&&"__v_isVNode"in t?t.children.toUpperCase():t,lower:(t,r)=>r==="text"&&yr(t)?t.toLowerCase():r==="vnode"&&Qa(t)&&"__v_isVNode"in t?t.children.toLowerCase():t,capitalize:(t,r)=>r==="text"&&yr(t)?aY(t):r==="vnode"&&Qa(t)&&"__v_isVNode"in t?aY(t.children):t}}let HQ;function Kpe(t){HQ=t}let UQ=null;const jpe=t=>{UQ=t},Zpe=()=>UQ;let WQ=null;const lY=t=>{WQ=t},Gpe=()=>WQ;let cY=0;function qpe(t={}){const r=yl(t.onWarn)?t.onWarn:Jhe,i=yr(t.version)?t.version:Upe,u=yr(t.locale)||yl(t.locale)?t.locale:XU,g=yl(u)?XU:u,h=zb(t.fallbackLocale)||Vu(t.fallbackLocale)||yr(t.fallbackLocale)||t.fallbackLocale===!1?t.fallbackLocale:g,x=Vu(t.messages)?t.messages:j9(g),C=Vu(t.datetimeFormats)?t.datetimeFormats:j9(g),D=Vu(t.numberFormats)?t.numberFormats:j9(g),I=NE(Uu(),t.modifiers,Wpe()),O=t.pluralRules||Uu(),B=yl(t.missing)?t.missing:null,V=Pd(t.missingWarn)||dF(t.missingWarn)?t.missingWarn:!0,z=Pd(t.fallbackWarn)||dF(t.fallbackWarn)?t.fallbackWarn:!0,Z=!!t.fallbackFormat,ee=!!t.unresolving,ie=yl(t.postTranslation)?t.postTranslation:null,W=Vu(t.processor)?t.processor:null,he=Pd(t.warnHtmlMessage)?t.warnHtmlMessage:!0,ue=!!t.escapeParameter,j=yl(t.messageCompiler)?t.messageCompiler:HQ,de=yl(t.messageResolver)?t.messageResolver:Hpe,te=yl(t.localeFallbacker)?t.localeFallbacker:zpe,ze=Qa(t.fallbackContext)?t.fallbackContext:void 0,Fe=t,Je=Qa(Fe.__datetimeFormatters)?Fe.__datetimeFormatters:new Map,rt=Qa(Fe.__numberFormatters)?Fe.__numberFormatters:new Map,we=Qa(Fe.__meta)?Fe.__meta:{};cY++;const _e={version:i,cid:cY,locale:u,fallbackLocale:h,messages:x,modifiers:I,pluralRules:O,missing:B,missingWarn:V,fallbackWarn:z,fallbackFormat:Z,unresolving:ee,postTranslation:ie,processor:W,warnHtmlMessage:he,escapeParameter:ue,messageCompiler:j,messageResolver:de,localeFallbacker:te,fallbackContext:ze,onWarn:r,__meta:we};return _e.datetimeFormats=C,_e.numberFormats=D,_e.__datetimeFormatters=Je,_e.__numberFormatters=rt,__INTLIFY_PROD_DEVTOOLS__&&Mpe(_e,i,we),_e}const j9=t=>({[t]:Uu()});function Ype(t,r,i,u,g){const{missing:h,onWarn:x}=t;if(h!==null){const C=h(t,i,r,g);return yr(C)?C:r}else return r}function fR(t,r,i){const u=t;u.__localeChainCache=new Map,t.localeFallbacker(t,i,r)}function Xpe(t,r){return t===r?!1:t.split("-")[0]===r.split("-")[0]}function Jpe(t,r){const i=r.indexOf(t);if(i===-1)return!1;for(let u=i+1;u<r.length;u++)if(Xpe(t,r[u]))return!0;return!1}const Qpe=t=>t,ebe=t=>"",tbe="text",nbe=t=>t.length===0?"":ZW(t),obe=Xhe;function uY(t,r){return t=Math.abs(t),r===2?t?t>1?1:0:1:t?Math.min(t,2):0}function sbe(t){const r=vf(t.pluralIndex)?t.pluralIndex:-1;return t.named&&(vf(t.named.count)||vf(t.named.n))?vf(t.named.count)?t.named.count:vf(t.named.n)?t.named.n:r:r}function rbe(t,r){r.count||(r.count=t),r.n||(r.n=t)}function ibe(t={}){const r=t.locale,i=sbe(t),u=Qa(t.pluralRules)&&yr(r)&&yl(t.pluralRules[r])?t.pluralRules[r]:uY,g=Qa(t.pluralRules)&&yr(r)&&yl(t.pluralRules[r])?uY:void 0,h=W=>W[u(i,W.length,g)],x=t.list||[],C=W=>x[W],D=t.named||Uu();vf(t.pluralIndex)&&rbe(i,D);const I=W=>D[W];function O(W,he){const ue=yl(t.messages)?t.messages(W,!!he):Qa(t.messages)?t.messages[W]:!1;return ue||(t.parent?t.parent.message(W):ebe)}const B=W=>t.modifiers?t.modifiers[W]:Qpe,V=Vu(t.processor)&&yl(t.processor.normalize)?t.processor.normalize:nbe,z=Vu(t.processor)&&yl(t.processor.interpolate)?t.processor.interpolate:obe,Z=Vu(t.processor)&&yr(t.processor.type)?t.processor.type:tbe,ie={list:C,named:I,plural:h,linked:(W,...he)=>{const[ue,j]=he;let de="text",te="";he.length===1?Qa(ue)?(te=ue.modifier||te,de=ue.type||de):yr(ue)&&(te=ue||te):he.length===2&&(yr(ue)&&(te=ue||te),yr(j)&&(de=j||de));const ze=O(W,!0)(ie),Fe=de==="vnode"&&zb(ze)&&te?ze[0]:ze;return te?B(te)(Fe,de):Fe},message:O,type:Z,interpolate:z,normalize:V,values:NE(Uu(),x,D)};return ie}const dY=()=>"",tp=t=>yl(t);function abe(t,...r){const{fallbackFormat:i,postTranslation:u,unresolving:g,messageCompiler:h,fallbackLocale:x,messages:C}=t,[D,I]=ZQ(...r),O=Pd(I.missingWarn)?I.missingWarn:t.missingWarn,B=Pd(I.fallbackWarn)?I.fallbackWarn:t.fallbackWarn,V=Pd(I.escapeParameter)?I.escapeParameter:t.escapeParameter,z=!!I.resolvedMessage,Z=yr(I.default)||Pd(I.default)?Pd(I.default)?h?D:()=>D:I.default:i?h?D:()=>D:null,ee=i||Z!=null&&(yr(Z)||yl(Z)),ie=Vpe(t,I);V&&lbe(I);let[W,he,ue]=z?[D,ie,C[ie]||Uu()]:KQ(t,D,ie,x,B,O),j=W,de=D;if(!z&&!(yr(j)||hx(j)||tp(j))&&ee&&(j=Z,de=j),!z&&(!(yr(j)||hx(j)||tp(j))||!yr(he)))return g?zQ:D;let te=!1;const ze=()=>{te=!0},Fe=tp(j)?j:jQ(t,D,he,j,de,ze);if(te)return j;const Je=dbe(t,he,ue,I),rt=ibe(Je),we=cbe(t,Fe,rt),_e=u?u(we,D):we;if(__INTLIFY_PROD_DEVTOOLS__){const R={timestamp:Date.now(),key:yr(D)?D:tp(j)?j.key:"",locale:he||(tp(j)?j.locale:""),format:yr(j)?j:tp(j)?j.source:"",message:_e};R.meta=NE({},t.__meta,Zpe()||{}),Bpe(R)}return _e}function lbe(t){zb(t.list)?t.list=t.list.map(r=>yr(r)?tY(r):r):Qa(t.named)&&Object.keys(t.named).forEach(r=>{yr(t.named[r])&&(t.named[r]=tY(t.named[r]))})}function KQ(t,r,i,u,g,h){const{messages:x,onWarn:C,messageResolver:D,localeFallbacker:I}=t,O=I(t,u,i);let B=Uu(),V,z=null;const Z="translate";for(let ee=0;ee<O.length&&(V=O[ee],B=x[V]||Uu(),(z=D(B,r))===null&&(z=B[r]),!(yr(z)||hx(z)||tp(z)));ee++)if(!Jpe(V,O)){const ie=Ype(t,r,V,h,Z);ie!==r&&(z=ie)}return[z,V,B]}function jQ(t,r,i,u,g,h){const{messageCompiler:x,warnHtmlMessage:C}=t;if(tp(u)){const I=u;return I.locale=I.locale||i,I.key=I.key||r,I}if(x==null){const I=()=>u;return I.locale=i,I.key=r,I}const D=x(u,ube(t,i,g,u,C,h));return D.locale=i,D.key=r,D.source=u,D}function cbe(t,r,i){return r(i)}function ZQ(...t){const[r,i,u]=t,g=Uu();if(!yr(r)&&!vf(r)&&!tp(r)&&!hx(r))throw $6(F6.INVALID_ARGUMENT);const h=vf(r)?String(r):(tp(r),r);return vf(i)?g.plural=i:yr(i)?g.default=i:Vu(i)&&!Zhe(i)?g.named=i:zb(i)&&(g.list=i),vf(u)?g.plural=u:yr(u)?g.default=u:Vu(u)&&NE(g,u),[h,g]}function ube(t,r,i,u,g,h){return{locale:r,key:i,warnHtmlMessage:g,onError:x=>{throw h&&h(x),x},onCacheKey:x=>Khe(r,i,x)}}function dbe(t,r,i,u){const{modifiers:g,pluralRules:h,messageResolver:x,fallbackLocale:C,fallbackWarn:D,missingWarn:I,fallbackContext:O}=t,V={locale:r,modifiers:g,pluralRules:h,messages:(z,Z)=>{let ee=x(i,z);if(ee==null&&(O||Z)){const[,,ie]=KQ(O||t,z,r,C,D,I);ee=x(ie,z)}if(yr(ee)||hx(ee)){let ie=!1;const he=jQ(t,z,r,ee,z,()=>{ie=!0});return ie?dY:he}else return tp(ee)?ee:dY}};return t.processor&&(V.processor=t.processor),u.list&&(V.list=u.list),u.named&&(V.named=u.named),vf(u.plural)&&(V.pluralIndex=u.plural),V}_pe();/*!
  * petite-vue-i18n v11.1.9
  * (c) 2025 kazuya kawaguchi
  * Released under the MIT License.
  */const fbe="11.1.9";function mbe(){typeof __INTLIFY_PROD_DEVTOOLS__!="boolean"&&(jW().__INTLIFY_PROD_DEVTOOLS__=!1)}const fF={UNEXPECTED_RETURN_TYPE:$pe,UNEXPECTED_ERROR:32};function mF(t,...r){return KF(t,null,void 0)}const gbe=RQ("__setPluralRules");function UR(t){if(!Qa(t)||hx(t))return t;for(const r in t)if(op(t,r))if(!r.includes("."))Qa(t[r])&&UR(t[r]);else{const i=r.split("."),u=i.length-1;let g=t,h=!1;for(let x=0;x<u;x++){if(i[x]==="__proto__")throw new Error(`unsafe key: ${i[x]}`);if(i[x]in g||(g[i[x]]=Uu()),!Qa(g[i[x]])){h=!0;break}g=g[i[x]]}if(h||(hx(g)?Rpe.includes(i[u])||delete t[r]:(g[i[u]]=t[r],delete t[r])),!hx(g)){const x=g[i[u]];Qa(x)&&UR(x)}}return t}function hbe(t,r){const{messages:i,__i18n:u,messageResolver:g,flatJson:h}=r,x=Vu(i)?i:zb(u)?Uu():{[t]:Uu()};if(zb(u)&&u.forEach(C=>{if("locale"in C&&"resource"in C){const{locale:D,resource:I}=C;D?(x[D]=x[D]||Uu(),B6(I,x[D])):B6(I,x)}else yr(C)&&B6(JSON.parse(C),x)}),g==null&&h)for(const C in x)op(x,C)&&UR(x[C]);return x}function pbe(t){return t.type}const fY="__INTLIFY_META__";let mY=0;function gY(t){return(r,i,u,g)=>t(i,u,DE()||void 0,g)}const bbe=()=>{const t=DE();let r=null;return t&&(r=pbe(t)[fY])?{[fY]:r}:null};function vbe(t={}){const{__root:r,__injectWithOption:i}=t,u=r===void 0,g=t.flatJson,h=Qq?Ln:bo;let x=Pd(t.inheritLocale)?t.inheritLocale:!0;const C=h(r&&x?r.locale.value:yr(t.locale)?t.locale:XU),D=h(r&&x?r.fallbackLocale.value:yr(t.fallbackLocale)||zb(t.fallbackLocale)||Vu(t.fallbackLocale)||t.fallbackLocale===!1?t.fallbackLocale:C.value),I=h(hbe(C.value,t));let O=r?r.missingWarn:Pd(t.missingWarn)||dF(t.missingWarn)?t.missingWarn:!0,B=r?r.fallbackWarn:Pd(t.fallbackWarn)||dF(t.fallbackWarn)?t.fallbackWarn:!0,V=r?r.fallbackRoot:Pd(t.fallbackRoot)?t.fallbackRoot:!0,z=!!t.fallbackFormat,Z=yl(t.missing)?t.missing:null,ee=yl(t.missing)?gY(t.missing):null,ie=yl(t.postTranslation)?t.postTranslation:null,W=r?r.warnHtmlMessage:Pd(t.warnHtmlMessage)?t.warnHtmlMessage:!0,he=!!t.escapeParameter;const ue=r?r.modifiers:Vu(t.modifiers)?t.modifiers:{};let j=t.pluralRules||r&&r.pluralRules,de;de=(()=>{u&&lY(null);const Me={version:fbe,locale:C.value,fallbackLocale:D.value,messages:I.value,modifiers:ue,pluralRules:j,missing:ee===null?void 0:ee,missingWarn:O,fallbackWarn:B,fallbackFormat:z,unresolving:!0,postTranslation:ie===null?void 0:ie,warnHtmlMessage:W,escapeParameter:he,messageResolver:t.messageResolver,messageCompiler:t.messageCompiler,__meta:{framework:"vue"}},mt=qpe(Me);return u&&lY(mt),mt})(),fR(de,C.value,D.value);function ze(){return[C.value,D.value,I.value]}const Fe=It({get:()=>C.value,set:Me=>{de.locale=Me,C.value=Me}}),Je=It({get:()=>D.value,set:Me=>{de.fallbackLocale=Me,D.value=Me,fR(de,C.value,Me)}}),rt=It(()=>I.value);function we(){return yl(ie)?ie:null}function _e(Me){ie=Me,de.postTranslation=Me}function R(){return Z}function it(Me){Me!==null&&(ee=gY(Me)),Z=Me,de.missing=ee}const St=(Me,mt,vo,Wt,In,on)=>{ze();let J;try{__INTLIFY_PROD_DEVTOOLS__,u||(de.fallbackContext=r?Gpe():void 0),J=Me(de)}finally{__INTLIFY_PROD_DEVTOOLS__,u||(de.fallbackContext=void 0)}if(vf(J)&&J===zQ||vo==="translate exists"){const[mo,Zt]=mt();return r&&V?Wt(r):In(mo)}else{if(on(J))return J;throw mF(fF.UNEXPECTED_RETURN_TYPE)}};function Ut(...Me){return St(mt=>Reflect.apply(abe,null,[mt,...Me]),()=>ZQ(...Me),"translate",mt=>Reflect.apply(mt.t,mt,[...Me]),mt=>mt,mt=>yr(mt))}function sn(Me){j=Me,de.pluralRules=j}function dt(Me){return I.value[Me]||{}}function An(Me,mt){if(g){const vo={[Me]:mt};for(const Wt in vo)op(vo,Wt)&&UR(vo[Wt]);mt=vo[Me]}I.value[Me]=mt,de.messages=I.value}function At(Me,mt){I.value[Me]=I.value[Me]||{};const vo={[Me]:mt};if(g)for(const Wt in vo)op(vo,Wt)&&UR(vo[Wt]);mt=vo[Me],B6(mt,I.value[Me]),de.messages=I.value}return mY++,r&&Qq&&(Rn(r.locale,Me=>{x&&(C.value=Me,de.locale=Me,fR(de,C.value,D.value))}),Rn(r.fallbackLocale,Me=>{x&&(D.value=Me,de.fallbackLocale=Me,fR(de,C.value,D.value))})),{id:mY,locale:Fe,fallbackLocale:Je,get inheritLocale(){return x},set inheritLocale(Me){x=Me,Me&&r&&(C.value=r.locale.value,D.value=r.fallbackLocale.value,fR(de,C.value,D.value))},get availableLocales(){return Object.keys(I.value).sort()},messages:rt,get modifiers(){return ue},get pluralRules(){return j||{}},get isGlobal(){return u},get missingWarn(){return O},set missingWarn(Me){O=Me,de.missingWarn=O},get fallbackWarn(){return B},set fallbackWarn(Me){B=Me,de.fallbackWarn=B},get fallbackRoot(){return V},set fallbackRoot(Me){V=Me},get fallbackFormat(){return z},set fallbackFormat(Me){z=Me,de.fallbackFormat=z},get warnHtmlMessage(){return W},set warnHtmlMessage(Me){W=Me,de.warnHtmlMessage=Me},get escapeParameter(){return he},set escapeParameter(Me){he=Me,de.escapeParameter=Me},t:Ut,getLocaleMessage:dt,setLocaleMessage:An,mergeLocaleMessage:At,getPostTranslationHandler:we,setPostTranslationHandler:_e,getMissingHandler:R,setMissingHandler:it,[gbe]:sn}}function ybe(t={}){const r=Pd(t.globalInjection)?t.globalInjection:!0,i=new Map,[u,g]=xbe(t),h=RQ("");function x(O){return i.get(O)||null}function C(O,B){i.set(O,B)}function D(O){i.delete(O)}const I={get mode(){return"composition"},async install(O,...B){if(O.__VUE_I18N_SYMBOL__=h,O.provide(O.__VUE_I18N_SYMBOL__,I),Vu(B[0])){const Z=B[0];I.__composerExtend=Z.__composerExtend,I.__vueI18nExtend=Z.__vueI18nExtend}let V=null;r&&(V=Cbe(O,I.global));const z=O.unmount;O.unmount=()=>{V&&V(),I.dispose(),z()}},get global(){return g},dispose(){u.stop()},__instances:i,__getInstance:x,__setInstance:C,__deleteInstance:D};return I}function xbe(t,r){const i=px(),u=i.run(()=>vbe(t));if(u==null)throw mF(fF.UNEXPECTED_ERROR);return[i,u]}const wbe=["locale","fallbackLocale","availableLocales"],hY=["t"];function Cbe(t,r){const i=Object.create(null);return wbe.forEach(g=>{const h=Object.getOwnPropertyDescriptor(r,g);if(!h)throw mF(fF.UNEXPECTED_ERROR);const x=ra(h.value)?{get(){return h.value.value},set(C){h.value.value=C}}:{get(){return h.get&&h.get()}};Object.defineProperty(i,g,x)}),t.config.globalProperties.$i18n=i,hY.forEach(g=>{const h=Object.getOwnPropertyDescriptor(r,g);if(!h||!h.value)throw mF(fF.UNEXPECTED_ERROR);Object.defineProperty(t.config.globalProperties,`$${g}`,h)}),()=>{delete t.config.globalProperties.$i18n,hY.forEach(g=>{delete t.config.globalProperties[`$${g}`]})}}mbe();Kpe(Npe);if(__INTLIFY_PROD_DEVTOOLS__){const t=jW();t.__INTLIFY__=!0,Lpe(t.__INTLIFY_DEVTOOLS_GLOBAL_HOOK__)}const Z9=t=>t&&typeof t=="object"&&!Array.isArray(t),JU=(t,...r)=>{if(!r.length)return t;const i=r.shift();if(Z9(t)&&Z9(i))for(const u in i)Z9(i[u])?(t[u]||Object.assign(t,{[u]:{}}),JU(t[u],i[u])):Object.assign(t,{[u]:i[u]});return JU(t,...r)},_be=JU({},{de:{allAnnotations:{t:0,b:{t:2,i:[{t:3}],s:"Anmerkungen"}},allApply:{t:0,b:{t:2,i:[{t:3}],s:"bernehmen"}},allAuthorize:{t:0,b:{t:2,i:[{t:3}],s:"Freigeben..."}},allCancel:{t:0,b:{t:2,i:[{t:3}],s:"Abbrechen"}},allCancelCorrection:{t:0,b:{t:2,i:[{t:3}],s:"Korrektur abbrechen"}},allChange:{t:0,b:{t:2,i:[{t:3}],s:"ndern..."}},allClose:{t:0,b:{t:2,i:[{t:3}],s:"Schlieen"}},allCloseMessage:{t:0,b:{t:2,i:[{t:3}],s:"Meldung schlieen"}},allComments:{t:0,b:{t:2,i:[{t:3}],s:"Anmerkungen"}},allCorrection:{t:0,b:{t:2,i:[{t:3}],s:"Korrektur"}},allDelete:{t:0,b:{t:2,i:[{t:3}],s:"Lschen"}},allEnd:{t:0,b:{t:2,i:[{t:3}],s:"Beenden"}},allEssay:{t:0,b:{t:2,i:[{t:3}],s:"Abgabe-Text"}},allEssayNoCorrectionAuthorized:{t:0,b:{t:2,i:[{t:3}],s:"Fr diesen Abgabe-Text ist noch keine Korrektur freigegeben."}},allGeneralPoints:{t:0,b:{t:2,i:[{t:3}],s:"Kopfnoten"}},allGeneralPointsLong:{t:0,b:{t:2,i:[{t:3}],s:"Allgemeine Punkte (Kopfnoten)"}},allGrade:{t:0,b:{t:2,i:[{t:3}],s:"Note:"}},allInstructions:{t:0,b:{t:2,i:[{t:3}],s:"Aufgabenstellung"}},allInstructionsPdf:{t:0,b:{t:2,i:[{t:3}],s:"Aufgabenstellung als PDF"}},allIsSelected:{t:0,b:{t:2,i:[{t:3}],s:", ist ausgewhlt"}},allLoad:{t:0,b:{t:2,i:[{t:3}],s:"Laden"}},allLoadData:{t:0,b:{t:2,i:[{t:3}],s:"Lade Daten ..."}},allMark:{t:0,b:{t:2,i:[{t:3}],s:"Markieren"}},allNotes:{t:0,b:{t:2,i:[{t:3}],s:"Notizen"}},allNotesWillPurged:{t:0,b:{t:2,i:[{t:3}],s:"Notizen, werden bei der Abgabe verworfen"}},allNumCharacters:{t:0,b:{t:2,i:[{t:4,k:"n"},{t:3,v:" Zeichen"}]}},allNumWords:{t:0,b:{t:1,c:[{t:2,i:[{t:4,k:"n"},{t:3,v:" Wort"}]},{t:2,i:[{t:4,k:"n"},{t:3,v:" Wrter"}]}]}},allOk:{t:0,b:{t:2,i:[{t:3}],s:"Ok"}},allOr:{t:0,b:{t:2,i:[{t:3}],s:"or"}},allOverview:{t:0,b:{t:2,i:[{t:3}],s:"bersicht"}},allOwnSummary:{t:0,b:{t:2,i:[{t:3}],s:"Eigenes Gutachten"}},allOwnSummaryAndRating:{t:0,b:{t:2,i:[{t:3}],s:"Eigene Bewertung"}},allPartialPoints:{t:0,b:{t:2,i:[{t:3}],s:"Teilpunkte"}},allPartialPointsLong:{t:0,b:{t:2,i:[{t:3}],s:"Teilpunkte zur Anmerkung"}},allPoints:{t:0,b:{t:1,c:[{t:2,i:[{t:3}],s:"Punkt"},{t:2,i:[{t:3}],s:"Punkte"}]}},allTotalRating:{t:0,b:{t:2,i:[{t:3}],s:"Gesamtbewertung"}},allRevision:{t:0,b:{t:2,i:[{t:3}],s:"berarbeitung"}},allShow:{t:0,b:{t:2,i:[{t:3}],s:"anzeigen"}},allSelect:{t:0,b:{t:2,i:[{t:3}],s:"Auswhlen"}},allSolution:{t:0,b:{t:2,i:[{t:3}],s:"Lsungshinweise"}},allSolutionPdf:{t:0,b:{t:2,i:[{t:3}],s:"Lsungshinweise als PDF"}},allSummary:{t:0,b:{t:2,i:[{t:3}],s:"Gutachten"}},appBarReturn:{t:0,b:{t:2,i:[{t:3}],s:"Korrekturen"}},authorizationAuthorizeAndContinue:{t:0,b:{t:2,i:[{t:3}],s:"Freigeben und Weiter"}},authorizationAuthorizeAndClose:{t:0,b:{t:2,i:[{t:3}],s:"Freigeben und Schlieen"}},authorizationButton:{t:0,b:{t:2,i:[{t:3}],s:"Freigeben..."}},authorizationEditIncludes:{t:0,b:{t:2,i:[{t:3}],s:"Einbezug bearbeiten"}},authorizationGradeTitle:{t:0,b:{t:2,i:[{t:3}],s:"Note:"}},authorizationPartialPoints:{t:0,b:{t:2,i:[{t:4,k:"n"},{t:3,v:" Teilpunkte"}]}},authorizationPleaseEnterPoints:{t:0,b:{t:2,i:[{t:3}],s:"Bitte geben Sie eine Bewertung ein, damit eine Note vergeben werden kann."}},authorizationPleaseEnterSummary:{t:0,b:{t:2,i:[{t:3}],s:"Bitte geben Sie einen Gutachten-Text ein."}},authorizationPointsLabel:{t:0,b:{t:2,i:[{t:3}],s:"Eigene Bewertung:"}},authorizationPointsSuffix:{t:0,b:{t:2,i:[{t:3}],s:"Punkte"}},authorizationPointsMismatch:{t:0,b:{t:2,i:[{t:3,v:"Ihre Bewertung weicht von der einbezogenen Summe der Teilpunkte ("},{t:5,i:0},{t:3,v:") ab!"}]}},authorizationSummaryLabel:{t:0,b:{t:2,i:[{t:3}],s:"Gutachten:"}},authorizationSummaryEdit:{t:0,b:{t:2,i:[{t:3}],s:"Gutachten bearbeiten"}},authorizationWarnFinalize:{t:0,b:{t:2,i:[{t:3}],s:"Durch die Freigabe wird Ihre Korrektur festgeschrieben. Sie knnen sie anschlieend nicht mehr ndern. Mchten Sie Ihre Korrektur freigeben?"}},authorizationWarnStitchDecision:{t:0,b:{t:2,i:[{t:3,v:"Ihre Bewertung wird einen Stichentscheid erfordern: "},{t:5,i:0}]}},authorizationTitle:{t:0,b:{t:2,i:[{t:3,v:"Korrektur von "},{t:5,i:0},{t:3,v:" freigeben"}]}},correctionsFirstCorrection:{t:0,b:{t:2,i:[{t:3}],s:"(Erstkorrektur)"}},correctorsNthCorrector:{t:0,b:{t:2,i:[{t:3,v:"("},{t:5,i:0},{t:3,v:". Korrektur)"}]}},correctionsSecondCorrection:{t:0,b:{t:2,i:[{t:3}],s:"(Zweitkorrektur)"}},correctionsStitchCorrection:{t:0,b:{t:2,i:[{t:3}],s:"(Stichentscheid)"}},essayImageZoomIn:{t:0,b:{t:2,i:[{t:3}],s:"Anzeige der Abgabe vergrern"}},essayImageZoomOut:{t:0,b:{t:2,i:[{t:3}],s:"Anzeige der Abgabe verkleinern"}},essayZoomIn:{t:0,b:{t:2,i:[{t:3}],s:"Anzeige der Abgabe vergrern"}},essayZoomOut:{t:0,b:{t:2,i:[{t:3}],s:"Anzeige der Abgabe verkleinern"}},helpAction:{t:0,b:{t:2,i:[{t:3}],s:"Aktion"}},helpButton:{t:0,b:{t:2,i:[{t:3}],s:"Tastenbefehle"}},helpCloseHelp:{t:0,b:{t:2,i:[{t:3}],s:"Hilfe schlieen"}},helpCommandBold:{t:0,b:{t:2,i:[{t:3}],s:"Fett"}},helpCommandH1:{t:0,b:{t:2,i:[{t:3}],s:"berschrift 1"}},helpCommandH2:{t:0,b:{t:2,i:[{t:3}],s:"berschrift 2"}},helpCommandH3:{t:0,b:{t:2,i:[{t:3}],s:"berschrift 3"}},helpCommandH4:{t:0,b:{t:2,i:[{t:3}],s:"berschrift 4"}},helpCommandH5:{t:0,b:{t:2,i:[{t:3}],s:"berschrift 5"}},helpCommandH6:{t:0,b:{t:2,i:[{t:3}],s:"berschrift 6"}},helpCommandItalic:{t:0,b:{t:2,i:[{t:3}],s:"Kursiv"}},helpCommandParagraph:{t:0,b:{t:2,i:[{t:3}],s:"Absatz"}},helpCommandRedo:{t:0,b:{t:2,i:[{t:3}],s:"Wiederholen"}},helpCommandSelectAll:{t:0,b:{t:2,i:[{t:3}],s:"Alles auswhlen"}},helpCommundUnderline:{t:0,b:{t:2,i:[{t:3}],s:"Unterstrichen"}},helpCommandUndo:{t:0,b:{t:2,i:[{t:3}],s:"Rckgngig machen"}},helpComments:{t:0,b:{t:2,i:[{t:3}],s:"Anmerkungen"}},helpCommentsDelete:{t:0,b:{t:2,i:[{t:3}],s:"Anmerkung lschen"}},helpCommentsJumpToCriteria:{t:0,b:{t:2,i:[{t:3}],s:"Zu Bewertungskriterien springen (falls vorhanden)"}},helpCommentsJumpToMark:{t:0,b:{t:2,i:[{t:3}],s:"Zur Markierung im Text springen"}},helpCommentsReturnFromCriteria:{t:0,b:{t:2,i:[{t:3}],s:"Von Bewertungskriterien zurckkehren"}},helpCommentsSelect:{t:0,b:{t:2,i:[{t:3}],s:"Bearbeitung ffnen"}},helpEssay:{t:0,b:{t:2,i:[{t:3}],s:"Abgabe-Text"}},helpEssayCreateComment:{t:0,b:{t:2,i:[{t:3}],s:"Anmerkung fr Auswahl erzeugen"}},helpEssayJumpToComment:{t:0,b:{t:2,i:[{t:3}],s:"Anmerkung bei Cursor anspringen"}},helpEssayMoveCursor:{t:0,b:{t:2,i:[{t:3}],s:"Cursor bewegen"}},helpEssaySelectText:{t:0,b:{t:2,i:[{t:3}],s:"Text auswhlen"}},helpEssayUnselectText:{t:0,b:{t:2,i:[{t:3}],s:"Textauswahl entfernen"}},helpContentLeftColumn:{t:0,b:{t:2,i:[{t:3}],s:"Inhalt linke Spalte"}},helpContentRightColumn:{t:0,b:{t:2,i:[{t:3}],s:"Inhalt rechte Spalte"}},helpEditorCommands:{t:0,b:{t:2,i:[{t:3}],s:"Tastenbefehle im Gutachten"}},helpEditorNavigation:{t:0,b:{t:2,i:[{t:3}],s:"Navigation im Gutachten"}},helpGeneralNavigation:{t:0,b:{t:2,i:[{t:3}],s:"Allgemeine Navigation"}},helpHeaderButtons:{t:0,b:{t:2,i:[{t:3}],s:"Schaltflchen der Kopfzeile"}},helpNavigationButtons:{t:0,b:{t:2,i:[{t:3}],s:"Schaltflchen der Navigazionsleiste"}},helpKeyEsc:{t:0,b:{t:2,i:[{t:3}],s:"Esc"}},helpKeyAlt0:{t:0,b:{t:2,i:[{t:3}],s:"Alt + 0"}},helpKeyAlt1:{t:0,b:{t:2,i:[{t:3}],s:"Alt + 1"}},helpKeyAlt2:{t:0,b:{t:2,i:[{t:3}],s:"Alt + 2"}},helpKeyAltDel:{t:0,b:{t:2,i:[{t:3}],s:"Alt + Entfernen"}},helpKeyAltF10:{t:0,b:{t:2,i:[{t:3}],s:"Alt + F10"}},helpKeyAltNum:{t:0,b:{t:2,i:[{t:3}],s:"Alt + #"}},helpKeyAltReturn:{t:0,b:{t:2,i:[{t:3}],s:"Alt + Eingabetaste"}},helpKeyCtrlA:{t:0,b:{t:2,i:[{t:3}],s:"Ctrl + A"}},helpKeyCtrlB:{t:0,b:{t:2,i:[{t:3}],s:"Ctrl + B"}},helpKeyCtrlI:{t:0,b:{t:2,i:[{t:3}],s:"Ctrl + I"}},helpKeyCtrlU:{t:0,b:{t:2,i:[{t:3}],s:"Ctrl + U"}},helpKeyCtrlYOrCtrlShiftZ:{t:0,b:{t:2,i:[{t:3}],s:"Ctrl + Y oder Ctrl + Shift + Z"}},helpKeyCtrlZ:{t:0,b:{t:2,i:[{t:3}],s:"Ctrl + Z"}},helpKeyF1:{t:0,b:{t:2,i:[{t:3}],s:"F1"}},helpKeyF1InSnippets:{t:0,b:{t:2,i:[{t:3}],s:"F1 in Textbaustein-Auswahl"}},helpKeyReturn:{t:0,b:{t:2,i:[{t:3}],s:"Eingabetaste"}},helpKeyReturnOnFocusedLabel:{t:0,b:{t:2,i:[{t:3}],s:"Eingabetaste auf Etikett im Focus"}},helpKeyReturnOnFocusedPoints:{t:0,b:{t:2,i:[{t:3}],s:"Eingabetaste auf Punkten im Focus"}},helpKeyReturnWhenNotSelected:{t:0,b:{t:2,i:[{t:3}],s:"Eingabetaste, wenn kein Text ausgewhlt"}},helpKeyReturnWhenSelected:{t:0,b:{t:2,i:[{t:3}],s:"Eingabetaste wenn Text ausgewht"}},helpKeyShiftAlt1:{t:0,b:{t:2,i:[{t:3}],s:"Shift + Alt + 1"}},helpKeyShiftAlt2:{t:0,b:{t:2,i:[{t:3}],s:"Shift + Alt + 2"}},helpKeyShiftAlt3:{t:0,b:{t:2,i:[{t:3}],s:"Shift + Alt + 3"}},helpKeyShiftAlt4:{t:0,b:{t:2,i:[{t:3}],s:"Shift + Alt + 4"}},helpKeyShiftAlt5:{t:0,b:{t:2,i:[{t:3}],s:"Shift + Alt + 5"}},helpKeyShiftAlt6:{t:0,b:{t:2,i:[{t:3}],s:"Shift + Alt + 6"}},helpKeyShiftAlt7:{t:0,b:{t:2,i:[{t:3}],s:"Shift + Alt + 7"}},helpKeyShiftTab:{t:0,b:{t:2,i:[{t:3}],s:"Shift + Tab"}},helpKeysArrows:{t:0,b:{t:2,i:[{t:3}],s:"Pfeiltasten"}},helpKeysLeftRight:{t:0,b:{t:2,i:[{t:3}],s:"Pfeil links und rechts"}},helpKeysShiftArrows:{t:0,b:{t:2,i:[{t:3}],s:"Shift + Pfeiltasten"}},helpKeyTab:{t:0,b:{t:2,i:[{t:3}],s:"Tab"}},helpKeysUpDown:{t:0,b:{t:2,i:[{t:3}],s:"Pfeil abwrts und aufwrts"}},helpNextElement:{t:0,b:{t:2,i:[{t:3}],s:"Nchstes Element"}},helpPopupBlockFormatsClose:{t:0,b:{t:2,i:[{t:3}],s:"Popup der Absatzformate schlieen"}},helpPopupBlockFormatsNavigate:{t:0,b:{t:2,i:[{t:3}],s:"Im Popup zwischen Absatzformaten wechseln"}},helpPopupBlockFormatsSelect:{t:0,b:{t:2,i:[{t:3}],s:"Im Popup ein Absatzformat whlen"}},helpPopupBlockFormatsShow:{t:0,b:{t:2,i:[{t:3}],s:"Popup der Absatzformate aufklappen"}},helpPreviousElement:{t:0,b:{t:2,i:[{t:3}],s:"Vorheriges Element"}},helpShortcut:{t:0,b:{t:2,i:[{t:3}],s:"Tastenbefehl"}},helpSnippetsApply:{t:0,b:{t:2,i:[{t:3}],s:"Textbaustein bernehmen"}},helpSnippetsOpen:{t:0,b:{t:2,i:[{t:3}],s:"Textbaustein auswhlen"}},helpToolbarFocusIn:{t:0,b:{t:2,i:[{t:3}],s:"In Symbolleiste wechseln"}},helpToolbarFocusOut:{t:0,b:{t:2,i:[{t:3}],s:"Symbolleiste verlassen"}},helpToolbarNavigate:{t:0,b:{t:2,i:[{t:3}],s:"In Symbolleiste zwischen Schaltflchen wechseln"}},instructionsZoomOut:{t:0,b:{t:2,i:[{t:3}],s:"Aufgabenstellung Text verkleinern"}},instructionsZoomIn:{t:0,b:{t:2,i:[{t:3}],s:"Aufgabenstellung Text vergrern"}},itemsPreviousWriter:{t:0,b:{t:2,i:[{t:3}],s:"Vorheriger Teilnehmer"}},itemsNextWriter:{t:0,b:{t:2,i:[{t:3}],s:"Nchster Teilnehmer"}},itemsSuffixApproximation:{t:0,b:{t:2,i:[{t:3}],s:"- in Annherung"}},itemsSuffixAuthorized:{t:0,b:{t:2,i:[{t:3}],s:"- freigegeben"}},itemsSuffixConsulting:{t:0,b:{t:2,i:[{t:3}],s:"- in Beratung"}},itemsSuffixFinalized:{t:0,b:{t:2,i:[{t:3}],s:"- abgeschlossen"}},itemsSuffixOpen:{t:0,b:{t:2,i:[{t:3}],s:"- offen"}},itemsSuffixPregraded:{t:0,b:{t:2,i:[{t:3}],s:"- vorbenotet"}},itemsSuffixStitch:{t:0,b:{t:2,i:[{t:3}],s:"- im Stichentscheid"}},itemsWriter:{t:0,b:{t:2,i:[{t:3}],s:"Teilnehmer/in"}},mainContentExpand:{t:0,b:{t:2,i:[{t:3}],s:"Erweitern"}},mainContentExpandLeftColumn:{t:0,b:{t:2,i:[{t:3}],s:"Linke Spalte erweitern"}},mainContentExpandRightColumn:{t:0,b:{t:2,i:[{t:3}],s:"Rechte Spalte erweitern"}},mainContentLeftColumn:{t:0,b:{t:2,i:[{t:3}],s:"Linke Spalte"}},mainContentRightColumn:{t:0,b:{t:2,i:[{t:3}],s:"Rechte Spalte"}},mainContentSendFailureLine1:{t:0,b:{t:2,i:[{t:3}],s:"Ihre letzten nderungen zu diesem Teilnehmer konnten nicht bertragen werden, sind aber lokal gespeichert."}},mainContentSendFailureLine2:{t:0,b:{t:2,i:[{t:3}],s:"Sie knnen diese Meldung schlieen und warten bis Ihre nderungen wieder automatisch gespeichert werden (Siehe Seitenfu)."}},mainContentSendFailureLine3:{t:0,b:{t:2,i:[{t:3}],s:"Alternativ knnen Sie die Korrektur jetzt abbrechen und spter wieder aufrufen, um die nderungen nachtrglich zu speichern."}},mainContentShowOtherCorrections:{t:0,b:{t:2,i:[{t:3}],s:"Andere Korrektoren zeigen"}},mainContentStopCorrection:{t:0,b:{t:2,i:[{t:3}],s:"Korrektur abbrechen"}},markingCommentSum:{t:0,b:{t:2,i:[{t:3}],s:"Summe:"}},markingCommentPointsCriterion:{t:0,b:{t:2,i:[{t:3}],s:"Bewertungskriterium"}},markingCommentPointsPleaseSelect:{t:0,b:{t:2,i:[{t:3}],s:"Bitte whlen Sie eine Anmerkung aus."}},markingCommentPointsWithoutCriterion:{t:0,b:{t:2,i:[{t:3}],s:"Allgemein"}},markingCommentPointsSumOfMax:{t:0,b:{t:2,i:[{t:3}],s:"Summe /max."}},markingCommentsCommentForLabel:{t:0,b:{t:2,i:[{t:3,v:"Anmerkung zur Markierung "},{t:5,i:0}]}},markingCommentsDelete:{t:0,b:{t:2,i:[{t:3}],s:"Anmerkung lschen"}},markingGeneralPointsMax:{t:0,b:{t:2,i:[{t:3}],s:"max."}},markingGeneralPointsCriterion:{t:0,b:{t:2,i:[{t:3}],s:"Bewertungskriterium"}},markingOpenSnippets:{t:0,b:{t:2,i:[{t:3}],s:"Textbausteine (F1)"}},navBarSelected:{t:0,b:{t:2,i:[{t:3}],s:" (ausgewhlt)"}},navBarSelectedAria:{t:0,b:{t:2,i:[{t:3}],s:", ist ausgewhlt"}},otherSummaryNotAuthorized:{t:0,b:{t:2,i:[{t:3}],s:"Diese Korrektur ist noch nicht freigegeben."}},ownSummaryIncludesCommentPoints:{t:0,b:{t:2,i:[{t:3}],s:"Punkte zu Anmerkungen"}},ownSummaryIncludesCommentPointsInfo:{t:0,b:{t:2,i:[{t:3}],s:"Bei jeder Anmerkung wird die vergebene Punktzahl angezeigt."}},ownSummaryIncludesCriteriaPoints:{t:0,b:{t:2,i:[{t:3}],s:"Punkte zu Kriterien"}},ownSummaryIncludesCriteriaPointsInfo:{t:0,b:{t:2,i:[{t:3}],s:"Es wird eine Tabelle mit den Bewertungskriterien und den dafr erreichten Punkten angezeigt."}},ownSummaryIncludesIncludeInfo:{t:0,b:{t:2,i:[{t:3}],s:"informativ"}},ownSummaryIncludesIncludeNot:{t:0,b:{t:2,i:[{t:3}],s:"nicht einbeziehen"}},ownSummaryIncludesIncludeRelevant:{t:0,b:{t:2,i:[{t:3}],s:"bewertungsrelevant"}},ownSummaryIncludesLabelInclude:{t:0,b:{t:2,i:[{t:3}],s:"Einbeziehen:"}},ownSummaryIncludesMarksAndComments:{t:0,b:{t:2,i:[{t:3}],s:"Markierungen und Anmerkungen"}},ownSummaryIncludesMarksAndCommentsInfo:{t:0,b:{t:2,i:[{t:3}],s:"Es wird der abgegebene Text mit markierten Stellen und Anmerkungen am Rand eingefgt."}},ownSummaryIncludesRatingsInfo:{t:0,b:{t:2,i:[{t:3}],s:"Bei jeder Anmerkung wird die vergebene Auszeichnung angezeigt."}},ownSummaryIncludesTitle:{t:0,b:{t:2,i:[{t:3}],s:"In die PDF-Dokumentation der Korrektur einbeziehen"}},ownSummaryIncludesUpdatePreferences:{t:0,b:{t:2,i:[{t:3}],s:"Als Vorgabe fr andere Korekturen bernehmen, bei denen noch keine Auswahl getroffen wurde. Bereits aktiv getroffene Auwahlen bleiben unverndert."}},ownSummaryPointsRating:{t:0,b:{t:2,i:[{t:3}],s:"Eigene Bewertung:"}},ownSummaryRevisionTextHiddenField:{t:0,b:{t:2,i:[{t:3}],s:"Verborgenes Feld zur berarbeitung"}},ownSummaryTextHiddenField:{t:0,b:{t:2,i:[{t:3}],s:"Verborgenes Feld zum Gutachten"}},SendingStatusSending:{t:0,b:{t:2,i:[{t:3}],s:"nderungen werden gesendet"}},SendingStatusSend:{t:0,b:{t:2,i:[{t:3}],s:"Letzte nderung senden"}},SendingStatusSent:{t:0,b:{t:2,i:[{t:3}],s:"Alles gesendet"}},settingsHeading:{t:0,b:{t:2,i:[{t:3}],s:"berschrift"}},settingsHeading1:{t:0,b:{t:2,i:[{t:3}],s:"berschrift 1"}},settingsHeading2:{t:0,b:{t:2,i:[{t:3}],s:"berschrift 2"}},settingsHeading3:{t:0,b:{t:2,i:[{t:3}],s:"berschrift 3"}},settingsHeading4:{t:0,b:{t:2,i:[{t:3}],s:"berschrift 4"}},settingsHeading5:{t:0,b:{t:2,i:[{t:3}],s:"berschrift 5"}},settingsHeading6:{t:0,b:{t:2,i:[{t:3}],s:"berschrift 6"}},settingsListElement:{t:0,b:{t:2,i:[{t:3}],s:"Listenelement"}},settingsParagraph:{t:0,b:{t:2,i:[{t:3}],s:"Absatz"}},settingsProcedureApproximation:{t:0,b:{t:2,i:[{t:3}],s:"Annherung"}},settingsProcedureConsulting:{t:0,b:{t:2,i:[{t:3}],s:"Beratung"}},settingsProcedureNone:{t:0,b:{t:2,i:[{t:3}],s:"Kein Verfahren"}},settingsRatingPositive:{t:0,b:{t:2,i:[{t:3}],s:"Exzellent"}},settingsRatingNegative:{t:0,b:{t:2,i:[{t:3}],s:"Kardinal"}},settingsTypewriter:{t:0,b:{t:2,i:[{t:3}],s:"Maschinenschrift"}},snippetsNewSnippet:{t:0,b:{t:2,i:[{t:3}],s:"--- neuer Baustein ---"}},snippetsEdit:{t:0,b:{t:2,i:[{t:3}],s:"Bearbeiten:"}},snippetsSelect:{t:0,b:{t:2,i:[{t:3}],s:"Auswhlen:"}},snippetsSnippet:{t:0,b:{t:2,i:[{t:3}],s:"Textbaustein"}},startupContentLoadData:{t:0,b:{t:2,i:[{t:3}],s:"LadeDaten..."}},startupContentLoadError:{t:0,b:{t:2,i:[{t:3}],s:"Beim Laden der Daten ist ein Fehler aufgetreten. Die Korrekturoberflche kann nicht gestartet werden."}},startupContentLoadItemError:{t:0,b:{t:2,i:[{t:3}],s:"Beim Laden der zu korrigierenden Abgabe ist ein Fehler aufgetreten. Die Korrekturoberflche kann nicht gestartet werden."}},startupContentMyCorrections:{t:0,b:{t:2,i:[{t:3}],s:"Meine Korrekturen"}},startupContentDataReplaceInfo1:{t:0,b:{t:2,i:[{t:3}],s:"In Ihrem Browser sind Daten eines anderen Korrektors oder einer anderen Aufgabe vorhanden, die noch nicht bertragen wurden:"}},startupContentDataReplaceInfo2:{t:0,b:{t:2,i:[{t:3}],s:"Durch das Laden der neuen Korrektur werden diese Daten gelscht. Mchten Sie die neuen Daten laden?"}},startupContentDeleteAndLoad:{t:0,b:{t:2,i:[{t:3}],s:"Verwerfen und Laden"}},startupContentItemReplaceInfo1:{t:0,b:{t:2,i:[{t:3}],s:"In Ihrem Browser sind Daten Ihrer vorherigen Bearbeitung vorhanden, die noch nicht bertragen wurden:"}},startupContentItemReplaceInfo2:{t:0,b:{t:2,i:[{t:3}],s:"Sie knnen mit diesen Daten weiter arbeiten, um sie nachtrglich zu bertragen oder sie verwerfen."}},startupContentDeleteLocalData:{t:0,b:{t:2,i:[{t:3}],s:"Lokale Daten verwerfen"}},startupContentKeepLocalData:{t:0,b:{t:2,i:[{t:3}],s:"Mit lokalen Daten weiter arbeiten"}},stichDecision:{t:0,b:{t:2,i:[{t:3}],s:"Stichentscheid"}},revisionFix:{t:0,b:{t:2,i:[{t:3}],s:"Freigeben"}},revisionFixAndContinue:{t:0,b:{t:2,i:[{t:3}],s:"Freigeben und Weiter"}},revisionFixAndClose:{t:0,b:{t:2,i:[{t:3}],s:"Freigeben und Schlieen"}},revisionFixApproximationTitle:{t:0,b:{t:2,i:[{t:3}],s:"Annherung freigeben"}},revisionFixConsultingTitle:{t:0,b:{t:2,i:[{t:3}],s:"Beratungsergebnis freigeben"}},revisionButton:{t:0,b:{t:2,i:[{t:3}],s:"Freigeben..."}},revisionPleaseEnterPoints:{t:0,b:{t:2,i:[{t:3}],s:"Bitte geben Sie eine neue Bewertung ein."}},revisionPleaseEnterText:{t:0,b:{t:2,i:[{t:3}],s:"Bitte geben Sie eine Begrndung ein."}},revisionRequireOtherRevision:{t:0,b:{t:2,i:[{t:3}],s:"Ich fordere eine Annherung durch den Zweitkorrektor."}},authorizationPleaseEnterText:{t:0,b:{t:2,i:[{t:3}],s:"Bitte geben Sie eine Begrndung ein."}},revisionPointsLabel:{t:0,b:{t:2,i:[{t:3}],s:"Neue Bewertung:"}},revisionTextLabel:{t:0,b:{t:2,i:[{t:3}],s:"Begrndung:"}},revisionTextEdit:{t:0,b:{t:2,i:[{t:3}],s:"Begrndung bearbeiten"}},revisionWarnStitchDecision:{t:0,b:{t:2,i:[{t:3,v:"Ihre Bewertung wird einen Stichentscheid erfordern: "},{t:5,i:0}]}},revisionWarnFinalize:{t:0,b:{t:2,i:[{t:3}],s:"Mchten Sie Ihre neue Bewertung freigeben? Sie knnen sie anschlieend nicht mehr ndern."}},sumOfPointsLabel:{t:0,b:{t:2,i:[{t:3}],s:"Summe der Teilpunkte: "}},sumOfPointsToCriteriaInComments:{t:0,b:{t:2,i:[{t:3}],s:"(zu Kriterien bei Anmerkungen)"}},sumOfPointsToComments:{t:0,b:{t:2,i:[{t:3}],s:"(zu Anmerkungen)"}},sumOfPointsNCommentCriteriaMGeneralCriteria:{t:0,b:{t:2,i:[{t:3,v:"("},{t:5,i:0},{t:3,v:" zu Kriterien bei Anmerkungen, "},{t:5,i:1},{t:3,v:" zu allgemeinen Kriterien)"}]}},sumOfPointsNCommentsMGeneralCriteria:{t:0,b:{t:2,i:[{t:3,v:"("},{t:5,i:0},{t:3,v:" zu Anmerkungen, "},{t:5,i:1},{t:3,v:" zu allgemeinen Kriterien)"}]}},summariesIncludeComments:{t:0,b:{t:2,i:[{t:3}],s:"Anmerkungen"}},summariesIncludeCommentRatings:{t:0,b:{t:2,i:[{t:3}],s:"Positiv/Negativbewerungen"}},summariesIncludeNoDetails:{t:0,b:{t:2,i:[{t:3}],s:"keine Detail-Informationen"}},summariesIncludePartialPoints:{t:0,b:{t:2,i:[{t:3}],s:"Teilpunkte"}},summariesPointsOutsideMinMax:{t:0,b:{t:2,i:[{t:3,v:"Ihre Bewertung muss zwischen "},{t:5,i:0},{t:3,v:" und "},{t:5,i:1},{t:3,v:" Punkten liegen!"}]}},summariesPointsDifferText:{t:0,b:{t:1,c:[{t:2,i:[{t:3,v:"Der Punkteunterschied bersteigt "},{t:4,k:"n"},{t:3,v:" Punkt."}]},{t:2,i:[{t:3,v:"Der Punkteunterschied bersteigt "},{t:4,k:"n"},{t:3,v:" Punkte."}]}]}},summariesProcedureApproximationNeeded:{t:0,b:{t:2,i:[{t:3,v:"Ihre Bewertung wird ein Annherungsverfahren erfordern: "},{t:5,i:0}]}},summariesProcedureConsultingNeeded:{t:0,b:{t:2,i:[{t:3,v:"Ihre Bewertung wird ein Beratungsverfahren erfordern: "},{t:5,i:0}]}},summariesProcedureStitchNeeded:{t:0,b:{t:2,i:[{t:3,v:"Ihre Bewertung wird einen Stichentscheid erfordern: "},{t:5,i:0}]}},summariesNoGrade:{t:0,b:{t:2,i:[{t:3}],s:"ohne Note"}},summaryCriteriaInComments:{t:0,b:{t:2,i:[{t:3}],s:"Bewertungskriterien bei Anmerkungen"}},summaryCriteriaGeneralCriteria:{t:0,b:{t:2,i:[{t:3}],s:"Allgemeine Bewertungskriterien (Kopfnoten)"}},summaryCriteriaMarkings:{t:0,b:{t:2,i:[{t:3}],s:"Auszeichnungen"}},summaryCriteriaNumber:{t:0,b:{t:2,i:[{t:3}],s:"Anzahl"}},summaryCriteriaPointsInComments:{t:0,b:{t:2,i:[{t:3}],s:"Punkte in Kommentaren"}},summaryCriteriaPointsOfMax:{t:0,b:{t:2,i:[{t:3}],s:"Punkte /max"}},summaryCriteriaRating:{t:0,b:{t:2,i:[{t:3}],s:"Bewertung"}},summaryPointsInclude:{t:0,b:{t:2,i:[{t:3}],s:"Einbeziehen:"}},summaryPointsRating:{t:0,b:{t:2,i:[{t:3}],s:"Bewertung:"}},summaryRevisionRating:{t:0,b:{t:2,i:[{t:3}],s:"Neue Bewertung:"}},tasksNextTask:{t:0,b:{t:2,i:[{t:3}],s:"Nchste Teilaufgabe"}},tasksPreviousTask:{t:0,b:{t:2,i:[{t:3}],s:"Vorherige Teilaufgabe"}},tasksTask:{t:0,b:{t:2,i:[{t:3}],s:"Teilaufgabe"}},tinyHelperIframeAriaText:{t:0,b:{t:2,i:[{t:3}],s:"Gutachten-Editor"}}}}),Em=ybe({locale:"de",messages:_be});function Sbe(t){t.use(Bhe).use(Whe).use(Em)}function GQ(t,r){return function(){return t.apply(r,arguments)}}const{toString:kbe}=Object.prototype,{getPrototypeOf:YW}=Object,{iterator:jF,toStringTag:qQ}=Symbol,ZF=(t=>r=>{const i=kbe.call(r);return t[i]||(t[i]=i.slice(8,-1).toLowerCase())})(Object.create(null)),up=t=>(t=t.toLowerCase(),r=>ZF(r)===t),GF=t=>r=>typeof r===t,{isArray:LE}=Array,WR=GF("undefined");function Ebe(t){return t!==null&&!WR(t)&&t.constructor!==null&&!WR(t.constructor)&&Cf(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const YQ=up("ArrayBuffer");function Abe(t){let r;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?r=ArrayBuffer.isView(t):r=t&&t.buffer&&YQ(t.buffer),r}const Tbe=GF("string"),Cf=GF("function"),XQ=GF("number"),qF=t=>t!==null&&typeof t=="object",Obe=t=>t===!0||t===!1,V6=t=>{if(ZF(t)!=="object")return!1;const r=YW(t);return(r===null||r===Object.prototype||Object.getPrototypeOf(r)===null)&&!(qQ in t)&&!(jF in t)},Rbe=up("Date"),Ibe=up("File"),Dbe=up("Blob"),Pbe=up("FileList"),Nbe=t=>qF(t)&&Cf(t.pipe),Lbe=t=>{let r;return t&&(typeof FormData=="function"&&t instanceof FormData||Cf(t.append)&&((r=ZF(t))==="formdata"||r==="object"&&Cf(t.toString)&&t.toString()==="[object FormData]"))},Mbe=up("URLSearchParams"),[Bbe,Fbe,$be,Vbe]=["ReadableStream","Request","Response","Headers"].map(up),zbe=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function fI(t,r,{allOwnKeys:i=!1}={}){if(t===null||typeof t>"u")return;let u,g;if(typeof t!="object"&&(t=[t]),LE(t))for(u=0,g=t.length;u<g;u++)r.call(null,t[u],u,t);else{const h=i?Object.getOwnPropertyNames(t):Object.keys(t),x=h.length;let C;for(u=0;u<x;u++)C=h[u],r.call(null,t[C],C,t)}}function JQ(t,r){r=r.toLowerCase();const i=Object.keys(t);let u=i.length,g;for(;u-- >0;)if(g=i[u],r===g.toLowerCase())return g;return null}const AC=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,QQ=t=>!WR(t)&&t!==AC;function QU(){const{caseless:t}=QQ(this)&&this||{},r={},i=(u,g)=>{const h=t&&JQ(r,g)||g;V6(r[h])&&V6(u)?r[h]=QU(r[h],u):V6(u)?r[h]=QU({},u):LE(u)?r[h]=u.slice():r[h]=u};for(let u=0,g=arguments.length;u<g;u++)arguments[u]&&fI(arguments[u],i);return r}const Hbe=(t,r,i,{allOwnKeys:u}={})=>(fI(r,(g,h)=>{i&&Cf(g)?t[h]=GQ(g,i):t[h]=g},{allOwnKeys:u}),t),Ube=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),Wbe=(t,r,i,u)=>{t.prototype=Object.create(r.prototype,u),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:r.prototype}),i&&Object.assign(t.prototype,i)},Kbe=(t,r,i,u)=>{let g,h,x;const C={};if(r=r||{},t==null)return r;do{for(g=Object.getOwnPropertyNames(t),h=g.length;h-- >0;)x=g[h],(!u||u(x,t,r))&&!C[x]&&(r[x]=t[x],C[x]=!0);t=i!==!1&&YW(t)}while(t&&(!i||i(t,r))&&t!==Object.prototype);return r},jbe=(t,r,i)=>{t=String(t),(i===void 0||i>t.length)&&(i=t.length),i-=r.length;const u=t.indexOf(r,i);return u!==-1&&u===i},Zbe=t=>{if(!t)return null;if(LE(t))return t;let r=t.length;if(!XQ(r))return null;const i=new Array(r);for(;r-- >0;)i[r]=t[r];return i},Gbe=(t=>r=>t&&r instanceof t)(typeof Uint8Array<"u"&&YW(Uint8Array)),qbe=(t,r)=>{const u=(t&&t[jF]).call(t);let g;for(;(g=u.next())&&!g.done;){const h=g.value;r.call(t,h[0],h[1])}},Ybe=(t,r)=>{let i;const u=[];for(;(i=t.exec(r))!==null;)u.push(i);return u},Xbe=up("HTMLFormElement"),Jbe=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(i,u,g){return u.toUpperCase()+g}),pY=(({hasOwnProperty:t})=>(r,i)=>t.call(r,i))(Object.prototype),Qbe=up("RegExp"),eee=(t,r)=>{const i=Object.getOwnPropertyDescriptors(t),u={};fI(i,(g,h)=>{let x;(x=r(g,h,t))!==!1&&(u[h]=x||g)}),Object.defineProperties(t,u)},eve=t=>{eee(t,(r,i)=>{if(Cf(t)&&["arguments","caller","callee"].indexOf(i)!==-1)return!1;const u=t[i];if(Cf(u)){if(r.enumerable=!1,"writable"in r){r.writable=!1;return}r.set||(r.set=()=>{throw Error("Can not rewrite read-only method '"+i+"'")})}})},tve=(t,r)=>{const i={},u=g=>{g.forEach(h=>{i[h]=!0})};return LE(t)?u(t):u(String(t).split(r)),i},nve=()=>{},ove=(t,r)=>t!=null&&Number.isFinite(t=+t)?t:r;function sve(t){return!!(t&&Cf(t.append)&&t[qQ]==="FormData"&&t[jF])}const rve=t=>{const r=new Array(10),i=(u,g)=>{if(qF(u)){if(r.indexOf(u)>=0)return;if(!("toJSON"in u)){r[g]=u;const h=LE(u)?[]:{};return fI(u,(x,C)=>{const D=i(x,g+1);!WR(D)&&(h[C]=D)}),r[g]=void 0,h}}return u};return i(t,0)},ive=up("AsyncFunction"),ave=t=>t&&(qF(t)||Cf(t))&&Cf(t.then)&&Cf(t.catch),tee=((t,r)=>t?setImmediate:r?((i,u)=>(AC.addEventListener("message",({source:g,data:h})=>{g===AC&&h===i&&u.length&&u.shift()()},!1),g=>{u.push(g),AC.postMessage(i,"*")}))(`axios@${Math.random()}`,[]):i=>setTimeout(i))(typeof setImmediate=="function",Cf(AC.postMessage)),lve=typeof queueMicrotask<"u"?queueMicrotask.bind(AC):typeof process<"u"&&process.nextTick||tee,cve=t=>t!=null&&Cf(t[jF]),qt={isArray:LE,isArrayBuffer:YQ,isBuffer:Ebe,isFormData:Lbe,isArrayBufferView:Abe,isString:Tbe,isNumber:XQ,isBoolean:Obe,isObject:qF,isPlainObject:V6,isReadableStream:Bbe,isRequest:Fbe,isResponse:$be,isHeaders:Vbe,isUndefined:WR,isDate:Rbe,isFile:Ibe,isBlob:Dbe,isRegExp:Qbe,isFunction:Cf,isStream:Nbe,isURLSearchParams:Mbe,isTypedArray:Gbe,isFileList:Pbe,forEach:fI,merge:QU,extend:Hbe,trim:zbe,stripBOM:Ube,inherits:Wbe,toFlatObject:Kbe,kindOf:ZF,kindOfTest:up,endsWith:jbe,toArray:Zbe,forEachEntry:qbe,matchAll:Ybe,isHTMLForm:Xbe,hasOwnProperty:pY,hasOwnProp:pY,reduceDescriptors:eee,freezeMethods:eve,toObjectSet:tve,toCamelCase:Jbe,noop:nve,toFiniteNumber:ove,findKey:JQ,global:AC,isContextDefined:QQ,isSpecCompliantForm:sve,toJSONObject:rve,isAsyncFn:ive,isThenable:ave,setImmediate:tee,asap:lve,isIterable:cve};function js(t,r,i,u,g){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",r&&(this.code=r),i&&(this.config=i),u&&(this.request=u),g&&(this.response=g,this.status=g.status?g.status:null)}qt.inherits(js,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:qt.toJSONObject(this.config),code:this.code,status:this.status}}});const nee=js.prototype,oee={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{oee[t]={value:t}});Object.defineProperties(js,oee);Object.defineProperty(nee,"isAxiosError",{value:!0});js.from=(t,r,i,u,g,h)=>{const x=Object.create(nee);return qt.toFlatObject(t,x,function(D){return D!==Error.prototype},C=>C!=="isAxiosError"),js.call(x,t.message,r,i,u,g),x.cause=t,x.name=t.name,h&&Object.assign(x,h),x};const uve=null;function eW(t){return qt.isPlainObject(t)||qt.isArray(t)}function see(t){return qt.endsWith(t,"[]")?t.slice(0,-2):t}function bY(t,r,i){return t?t.concat(r).map(function(g,h){return g=see(g),!i&&h?"["+g+"]":g}).join(i?".":""):r}function dve(t){return qt.isArray(t)&&!t.some(eW)}const fve=qt.toFlatObject(qt,{},null,function(r){return/^is[A-Z]/.test(r)});function YF(t,r,i){if(!qt.isObject(t))throw new TypeError("target must be an object");r=r||new FormData,i=qt.toFlatObject(i,{metaTokens:!0,dots:!1,indexes:!1},!1,function(ee,ie){return!qt.isUndefined(ie[ee])});const u=i.metaTokens,g=i.visitor||O,h=i.dots,x=i.indexes,D=(i.Blob||typeof Blob<"u"&&Blob)&&qt.isSpecCompliantForm(r);if(!qt.isFunction(g))throw new TypeError("visitor must be a function");function I(Z){if(Z===null)return"";if(qt.isDate(Z))return Z.toISOString();if(qt.isBoolean(Z))return Z.toString();if(!D&&qt.isBlob(Z))throw new js("Blob is not supported. Use a Buffer instead.");return qt.isArrayBuffer(Z)||qt.isTypedArray(Z)?D&&typeof Blob=="function"?new Blob([Z]):Buffer.from(Z):Z}function O(Z,ee,ie){let W=Z;if(Z&&!ie&&typeof Z=="object"){if(qt.endsWith(ee,"{}"))ee=u?ee:ee.slice(0,-2),Z=JSON.stringify(Z);else if(qt.isArray(Z)&&dve(Z)||(qt.isFileList(Z)||qt.endsWith(ee,"[]"))&&(W=qt.toArray(Z)))return ee=see(ee),W.forEach(function(ue,j){!(qt.isUndefined(ue)||ue===null)&&r.append(x===!0?bY([ee],j,h):x===null?ee:ee+"[]",I(ue))}),!1}return eW(Z)?!0:(r.append(bY(ie,ee,h),I(Z)),!1)}const B=[],V=Object.assign(fve,{defaultVisitor:O,convertValue:I,isVisitable:eW});function z(Z,ee){if(!qt.isUndefined(Z)){if(B.indexOf(Z)!==-1)throw Error("Circular reference detected in "+ee.join("."));B.push(Z),qt.forEach(Z,function(W,he){(!(qt.isUndefined(W)||W===null)&&g.call(r,W,qt.isString(he)?he.trim():he,ee,V))===!0&&z(W,ee?ee.concat(he):[he])}),B.pop()}}if(!qt.isObject(t))throw new TypeError("data must be an object");return z(t),r}function vY(t){const r={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(u){return r[u]})}function XW(t,r){this._pairs=[],t&&YF(t,this,r)}const ree=XW.prototype;ree.append=function(r,i){this._pairs.push([r,i])};ree.toString=function(r){const i=r?function(u){return r.call(this,u,vY)}:vY;return this._pairs.map(function(g){return i(g[0])+"="+i(g[1])},"").join("&")};function mve(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function iee(t,r,i){if(!r)return t;const u=i&&i.encode||mve;qt.isFunction(i)&&(i={serialize:i});const g=i&&i.serialize;let h;if(g?h=g(r,i):h=qt.isURLSearchParams(r)?r.toString():new XW(r,i).toString(u),h){const x=t.indexOf("#");x!==-1&&(t=t.slice(0,x)),t+=(t.indexOf("?")===-1?"?":"&")+h}return t}class yY{constructor(){this.handlers=[]}use(r,i,u){return this.handlers.push({fulfilled:r,rejected:i,synchronous:u?u.synchronous:!1,runWhen:u?u.runWhen:null}),this.handlers.length-1}eject(r){this.handlers[r]&&(this.handlers[r]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(r){qt.forEach(this.handlers,function(u){u!==null&&r(u)})}}const aee={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},gve=typeof URLSearchParams<"u"?URLSearchParams:XW,hve=typeof FormData<"u"?FormData:null,pve=typeof Blob<"u"?Blob:null,bve={isBrowser:!0,classes:{URLSearchParams:gve,FormData:hve,Blob:pve},protocols:["http","https","file","blob","url","data"]},JW=typeof window<"u"&&typeof document<"u",tW=typeof navigator=="object"&&navigator||void 0,vve=JW&&(!tW||["ReactNative","NativeScript","NS"].indexOf(tW.product)<0),yve=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",xve=JW&&window.location.href||"http://localhost",wve=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:JW,hasStandardBrowserEnv:vve,hasStandardBrowserWebWorkerEnv:yve,navigator:tW,origin:xve},Symbol.toStringTag,{value:"Module"})),zu={...wve,...bve};function Cve(t,r){return YF(t,new zu.classes.URLSearchParams,Object.assign({visitor:function(i,u,g,h){return zu.isNode&&qt.isBuffer(i)?(this.append(u,i.toString("base64")),!1):h.defaultVisitor.apply(this,arguments)}},r))}function _ve(t){return qt.matchAll(/\w+|\[(\w*)]/g,t).map(r=>r[0]==="[]"?"":r[1]||r[0])}function Sve(t){const r={},i=Object.keys(t);let u;const g=i.length;let h;for(u=0;u<g;u++)h=i[u],r[h]=t[h];return r}function lee(t){function r(i,u,g,h){let x=i[h++];if(x==="__proto__")return!0;const C=Number.isFinite(+x),D=h>=i.length;return x=!x&&qt.isArray(g)?g.length:x,D?(qt.hasOwnProp(g,x)?g[x]=[g[x],u]:g[x]=u,!C):((!g[x]||!qt.isObject(g[x]))&&(g[x]=[]),r(i,u,g[x],h)&&qt.isArray(g[x])&&(g[x]=Sve(g[x])),!C)}if(qt.isFormData(t)&&qt.isFunction(t.entries)){const i={};return qt.forEachEntry(t,(u,g)=>{r(_ve(u),g,i,0)}),i}return null}function kve(t,r,i){if(qt.isString(t))try{return(r||JSON.parse)(t),qt.trim(t)}catch(u){if(u.name!=="SyntaxError")throw u}return(i||JSON.stringify)(t)}const mI={transitional:aee,adapter:["xhr","http","fetch"],transformRequest:[function(r,i){const u=i.getContentType()||"",g=u.indexOf("application/json")>-1,h=qt.isObject(r);if(h&&qt.isHTMLForm(r)&&(r=new FormData(r)),qt.isFormData(r))return g?JSON.stringify(lee(r)):r;if(qt.isArrayBuffer(r)||qt.isBuffer(r)||qt.isStream(r)||qt.isFile(r)||qt.isBlob(r)||qt.isReadableStream(r))return r;if(qt.isArrayBufferView(r))return r.buffer;if(qt.isURLSearchParams(r))return i.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),r.toString();let C;if(h){if(u.indexOf("application/x-www-form-urlencoded")>-1)return Cve(r,this.formSerializer).toString();if((C=qt.isFileList(r))||u.indexOf("multipart/form-data")>-1){const D=this.env&&this.env.FormData;return YF(C?{"files[]":r}:r,D&&new D,this.formSerializer)}}return h||g?(i.setContentType("application/json",!1),kve(r)):r}],transformResponse:[function(r){const i=this.transitional||mI.transitional,u=i&&i.forcedJSONParsing,g=this.responseType==="json";if(qt.isResponse(r)||qt.isReadableStream(r))return r;if(r&&qt.isString(r)&&(u&&!this.responseType||g)){const x=!(i&&i.silentJSONParsing)&&g;try{return JSON.parse(r)}catch(C){if(x)throw C.name==="SyntaxError"?js.from(C,js.ERR_BAD_RESPONSE,this,null,this.response):C}}return r}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:zu.classes.FormData,Blob:zu.classes.Blob},validateStatus:function(r){return r>=200&&r<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};qt.forEach(["delete","get","head","post","put","patch"],t=>{mI.headers[t]={}});const Eve=qt.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Ave=t=>{const r={};let i,u,g;return t&&t.split(`
`).forEach(function(x){g=x.indexOf(":"),i=x.substring(0,g).trim().toLowerCase(),u=x.substring(g+1).trim(),!(!i||r[i]&&Eve[i])&&(i==="set-cookie"?r[i]?r[i].push(u):r[i]=[u]:r[i]=r[i]?r[i]+", "+u:u)}),r},xY=Symbol("internals");function mR(t){return t&&String(t).trim().toLowerCase()}function z6(t){return t===!1||t==null?t:qt.isArray(t)?t.map(z6):String(t)}function Tve(t){const r=Object.create(null),i=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let u;for(;u=i.exec(t);)r[u[1]]=u[2];return r}const Ove=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function G9(t,r,i,u,g){if(qt.isFunction(u))return u.call(this,r,i);if(g&&(r=i),!!qt.isString(r)){if(qt.isString(u))return r.indexOf(u)!==-1;if(qt.isRegExp(u))return u.test(r)}}function Rve(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(r,i,u)=>i.toUpperCase()+u)}function Ive(t,r){const i=qt.toCamelCase(" "+r);["get","set","has"].forEach(u=>{Object.defineProperty(t,u+i,{value:function(g,h,x){return this[u].call(this,r,g,h,x)},configurable:!0})})}let _f=class{constructor(r){r&&this.set(r)}set(r,i,u){const g=this;function h(C,D,I){const O=mR(D);if(!O)throw new Error("header name must be a non-empty string");const B=qt.findKey(g,O);(!B||g[B]===void 0||I===!0||I===void 0&&g[B]!==!1)&&(g[B||D]=z6(C))}const x=(C,D)=>qt.forEach(C,(I,O)=>h(I,O,D));if(qt.isPlainObject(r)||r instanceof this.constructor)x(r,i);else if(qt.isString(r)&&(r=r.trim())&&!Ove(r))x(Ave(r),i);else if(qt.isObject(r)&&qt.isIterable(r)){let C={},D,I;for(const O of r){if(!qt.isArray(O))throw TypeError("Object iterator must return a key-value pair");C[I=O[0]]=(D=C[I])?qt.isArray(D)?[...D,O[1]]:[D,O[1]]:O[1]}x(C,i)}else r!=null&&h(i,r,u);return this}get(r,i){if(r=mR(r),r){const u=qt.findKey(this,r);if(u){const g=this[u];if(!i)return g;if(i===!0)return Tve(g);if(qt.isFunction(i))return i.call(this,g,u);if(qt.isRegExp(i))return i.exec(g);throw new TypeError("parser must be boolean|regexp|function")}}}has(r,i){if(r=mR(r),r){const u=qt.findKey(this,r);return!!(u&&this[u]!==void 0&&(!i||G9(this,this[u],u,i)))}return!1}delete(r,i){const u=this;let g=!1;function h(x){if(x=mR(x),x){const C=qt.findKey(u,x);C&&(!i||G9(u,u[C],C,i))&&(delete u[C],g=!0)}}return qt.isArray(r)?r.forEach(h):h(r),g}clear(r){const i=Object.keys(this);let u=i.length,g=!1;for(;u--;){const h=i[u];(!r||G9(this,this[h],h,r,!0))&&(delete this[h],g=!0)}return g}normalize(r){const i=this,u={};return qt.forEach(this,(g,h)=>{const x=qt.findKey(u,h);if(x){i[x]=z6(g),delete i[h];return}const C=r?Rve(h):String(h).trim();C!==h&&delete i[h],i[C]=z6(g),u[C]=!0}),this}concat(...r){return this.constructor.concat(this,...r)}toJSON(r){const i=Object.create(null);return qt.forEach(this,(u,g)=>{u!=null&&u!==!1&&(i[g]=r&&qt.isArray(u)?u.join(", "):u)}),i}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([r,i])=>r+": "+i).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(r){return r instanceof this?r:new this(r)}static concat(r,...i){const u=new this(r);return i.forEach(g=>u.set(g)),u}static accessor(r){const u=(this[xY]=this[xY]={accessors:{}}).accessors,g=this.prototype;function h(x){const C=mR(x);u[C]||(Ive(g,x),u[C]=!0)}return qt.isArray(r)?r.forEach(h):h(r),this}};_f.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);qt.reduceDescriptors(_f.prototype,({value:t},r)=>{let i=r[0].toUpperCase()+r.slice(1);return{get:()=>t,set(u){this[i]=u}}});qt.freezeMethods(_f);function q9(t,r){const i=this||mI,u=r||i,g=_f.from(u.headers);let h=u.data;return qt.forEach(t,function(C){h=C.call(i,h,g.normalize(),r?r.status:void 0)}),g.normalize(),h}function cee(t){return!!(t&&t.__CANCEL__)}function ME(t,r,i){js.call(this,t??"canceled",js.ERR_CANCELED,r,i),this.name="CanceledError"}qt.inherits(ME,js,{__CANCEL__:!0});function uee(t,r,i){const u=i.config.validateStatus;!i.status||!u||u(i.status)?t(i):r(new js("Request failed with status code "+i.status,[js.ERR_BAD_REQUEST,js.ERR_BAD_RESPONSE][Math.floor(i.status/100)-4],i.config,i.request,i))}function Dve(t){const r=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return r&&r[1]||""}function Pve(t,r){t=t||10;const i=new Array(t),u=new Array(t);let g=0,h=0,x;return r=r!==void 0?r:1e3,function(D){const I=Date.now(),O=u[h];x||(x=I),i[g]=D,u[g]=I;let B=h,V=0;for(;B!==g;)V+=i[B++],B=B%t;if(g=(g+1)%t,g===h&&(h=(h+1)%t),I-x<r)return;const z=O&&I-O;return z?Math.round(V*1e3/z):void 0}}function Nve(t,r){let i=0,u=1e3/r,g,h;const x=(I,O=Date.now())=>{i=O,g=null,h&&(clearTimeout(h),h=null),t.apply(null,I)};return[(...I)=>{const O=Date.now(),B=O-i;B>=u?x(I,O):(g=I,h||(h=setTimeout(()=>{h=null,x(g)},u-B)))},()=>g&&x(g)]}const gF=(t,r,i=3)=>{let u=0;const g=Pve(50,250);return Nve(h=>{const x=h.loaded,C=h.lengthComputable?h.total:void 0,D=x-u,I=g(D),O=x<=C;u=x;const B={loaded:x,total:C,progress:C?x/C:void 0,bytes:D,rate:I||void 0,estimated:I&&C&&O?(C-x)/I:void 0,event:h,lengthComputable:C!=null,[r?"download":"upload"]:!0};t(B)},i)},wY=(t,r)=>{const i=t!=null;return[u=>r[0]({lengthComputable:i,total:t,loaded:u}),r[1]]},CY=t=>(...r)=>qt.asap(()=>t(...r)),Lve=zu.hasStandardBrowserEnv?((t,r)=>i=>(i=new URL(i,zu.origin),t.protocol===i.protocol&&t.host===i.host&&(r||t.port===i.port)))(new URL(zu.origin),zu.navigator&&/(msie|trident)/i.test(zu.navigator.userAgent)):()=>!0,Mve=zu.hasStandardBrowserEnv?{write(t,r,i,u,g,h){const x=[t+"="+encodeURIComponent(r)];qt.isNumber(i)&&x.push("expires="+new Date(i).toGMTString()),qt.isString(u)&&x.push("path="+u),qt.isString(g)&&x.push("domain="+g),h===!0&&x.push("secure"),document.cookie=x.join("; ")},read(t){const r=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return r?decodeURIComponent(r[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Bve(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function Fve(t,r){return r?t.replace(/\/?\/$/,"")+"/"+r.replace(/^\/+/,""):t}function dee(t,r,i){let u=!Bve(r);return t&&(u||i==!1)?Fve(t,r):r}const _Y=t=>t instanceof _f?{...t}:t;function BC(t,r){r=r||{};const i={};function u(I,O,B,V){return qt.isPlainObject(I)&&qt.isPlainObject(O)?qt.merge.call({caseless:V},I,O):qt.isPlainObject(O)?qt.merge({},O):qt.isArray(O)?O.slice():O}function g(I,O,B,V){if(qt.isUndefined(O)){if(!qt.isUndefined(I))return u(void 0,I,B,V)}else return u(I,O,B,V)}function h(I,O){if(!qt.isUndefined(O))return u(void 0,O)}function x(I,O){if(qt.isUndefined(O)){if(!qt.isUndefined(I))return u(void 0,I)}else return u(void 0,O)}function C(I,O,B){if(B in r)return u(I,O);if(B in t)return u(void 0,I)}const D={url:h,method:h,data:h,baseURL:x,transformRequest:x,transformResponse:x,paramsSerializer:x,timeout:x,timeoutMessage:x,withCredentials:x,withXSRFToken:x,adapter:x,responseType:x,xsrfCookieName:x,xsrfHeaderName:x,onUploadProgress:x,onDownloadProgress:x,decompress:x,maxContentLength:x,maxBodyLength:x,beforeRedirect:x,transport:x,httpAgent:x,httpsAgent:x,cancelToken:x,socketPath:x,responseEncoding:x,validateStatus:C,headers:(I,O,B)=>g(_Y(I),_Y(O),B,!0)};return qt.forEach(Object.keys(Object.assign({},t,r)),function(O){const B=D[O]||g,V=B(t[O],r[O],O);qt.isUndefined(V)&&B!==C||(i[O]=V)}),i}const fee=t=>{const r=BC({},t);let{data:i,withXSRFToken:u,xsrfHeaderName:g,xsrfCookieName:h,headers:x,auth:C}=r;r.headers=x=_f.from(x),r.url=iee(dee(r.baseURL,r.url,r.allowAbsoluteUrls),t.params,t.paramsSerializer),C&&x.set("Authorization","Basic "+btoa((C.username||"")+":"+(C.password?unescape(encodeURIComponent(C.password)):"")));let D;if(qt.isFormData(i)){if(zu.hasStandardBrowserEnv||zu.hasStandardBrowserWebWorkerEnv)x.setContentType(void 0);else if((D=x.getContentType())!==!1){const[I,...O]=D?D.split(";").map(B=>B.trim()).filter(Boolean):[];x.setContentType([I||"multipart/form-data",...O].join("; "))}}if(zu.hasStandardBrowserEnv&&(u&&qt.isFunction(u)&&(u=u(r)),u||u!==!1&&Lve(r.url))){const I=g&&h&&Mve.read(h);I&&x.set(g,I)}return r},$ve=typeof XMLHttpRequest<"u",Vve=$ve&&function(t){return new Promise(function(i,u){const g=fee(t);let h=g.data;const x=_f.from(g.headers).normalize();let{responseType:C,onUploadProgress:D,onDownloadProgress:I}=g,O,B,V,z,Z;function ee(){z&&z(),Z&&Z(),g.cancelToken&&g.cancelToken.unsubscribe(O),g.signal&&g.signal.removeEventListener("abort",O)}let ie=new XMLHttpRequest;ie.open(g.method.toUpperCase(),g.url,!0),ie.timeout=g.timeout;function W(){if(!ie)return;const ue=_f.from("getAllResponseHeaders"in ie&&ie.getAllResponseHeaders()),de={data:!C||C==="text"||C==="json"?ie.responseText:ie.response,status:ie.status,statusText:ie.statusText,headers:ue,config:t,request:ie};uee(function(ze){i(ze),ee()},function(ze){u(ze),ee()},de),ie=null}"onloadend"in ie?ie.onloadend=W:ie.onreadystatechange=function(){!ie||ie.readyState!==4||ie.status===0&&!(ie.responseURL&&ie.responseURL.indexOf("file:")===0)||setTimeout(W)},ie.onabort=function(){ie&&(u(new js("Request aborted",js.ECONNABORTED,t,ie)),ie=null)},ie.onerror=function(){u(new js("Network Error",js.ERR_NETWORK,t,ie)),ie=null},ie.ontimeout=function(){let j=g.timeout?"timeout of "+g.timeout+"ms exceeded":"timeout exceeded";const de=g.transitional||aee;g.timeoutErrorMessage&&(j=g.timeoutErrorMessage),u(new js(j,de.clarifyTimeoutError?js.ETIMEDOUT:js.ECONNABORTED,t,ie)),ie=null},h===void 0&&x.setContentType(null),"setRequestHeader"in ie&&qt.forEach(x.toJSON(),function(j,de){ie.setRequestHeader(de,j)}),qt.isUndefined(g.withCredentials)||(ie.withCredentials=!!g.withCredentials),C&&C!=="json"&&(ie.responseType=g.responseType),I&&([V,Z]=gF(I,!0),ie.addEventListener("progress",V)),D&&ie.upload&&([B,z]=gF(D),ie.upload.addEventListener("progress",B),ie.upload.addEventListener("loadend",z)),(g.cancelToken||g.signal)&&(O=ue=>{ie&&(u(!ue||ue.type?new ME(null,t,ie):ue),ie.abort(),ie=null)},g.cancelToken&&g.cancelToken.subscribe(O),g.signal&&(g.signal.aborted?O():g.signal.addEventListener("abort",O)));const he=Dve(g.url);if(he&&zu.protocols.indexOf(he)===-1){u(new js("Unsupported protocol "+he+":",js.ERR_BAD_REQUEST,t));return}ie.send(h||null)})},zve=(t,r)=>{const{length:i}=t=t?t.filter(Boolean):[];if(r||i){let u=new AbortController,g;const h=function(I){if(!g){g=!0,C();const O=I instanceof Error?I:this.reason;u.abort(O instanceof js?O:new ME(O instanceof Error?O.message:O))}};let x=r&&setTimeout(()=>{x=null,h(new js(`timeout ${r} of ms exceeded`,js.ETIMEDOUT))},r);const C=()=>{t&&(x&&clearTimeout(x),x=null,t.forEach(I=>{I.unsubscribe?I.unsubscribe(h):I.removeEventListener("abort",h)}),t=null)};t.forEach(I=>I.addEventListener("abort",h));const{signal:D}=u;return D.unsubscribe=()=>qt.asap(C),D}},Hve=function*(t,r){let i=t.byteLength;if(i<r){yield t;return}let u=0,g;for(;u<i;)g=u+r,yield t.slice(u,g),u=g},Uve=async function*(t,r){for await(const i of Wve(t))yield*Hve(i,r)},Wve=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const r=t.getReader();try{for(;;){const{done:i,value:u}=await r.read();if(i)break;yield u}}finally{await r.cancel()}},SY=(t,r,i,u)=>{const g=Uve(t,r);let h=0,x,C=D=>{x||(x=!0,u&&u(D))};return new ReadableStream({async pull(D){try{const{done:I,value:O}=await g.next();if(I){C(),D.close();return}let B=O.byteLength;if(i){let V=h+=B;i(V)}D.enqueue(new Uint8Array(O))}catch(I){throw C(I),I}},cancel(D){return C(D),g.return()}},{highWaterMark:2})},XF=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",mee=XF&&typeof ReadableStream=="function",Kve=XF&&(typeof TextEncoder=="function"?(t=>r=>t.encode(r))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),gee=(t,...r)=>{try{return!!t(...r)}catch{return!1}},jve=mee&&gee(()=>{let t=!1;const r=new Request(zu.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!r}),kY=64*1024,nW=mee&&gee(()=>qt.isReadableStream(new Response("").body)),hF={stream:nW&&(t=>t.body)};XF&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(r=>{!hF[r]&&(hF[r]=qt.isFunction(t[r])?i=>i[r]():(i,u)=>{throw new js(`Response type '${r}' is not supported`,js.ERR_NOT_SUPPORT,u)})})})(new Response);const Zve=async t=>{if(t==null)return 0;if(qt.isBlob(t))return t.size;if(qt.isSpecCompliantForm(t))return(await new Request(zu.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(qt.isArrayBufferView(t)||qt.isArrayBuffer(t))return t.byteLength;if(qt.isURLSearchParams(t)&&(t=t+""),qt.isString(t))return(await Kve(t)).byteLength},Gve=async(t,r)=>{const i=qt.toFiniteNumber(t.getContentLength());return i??Zve(r)},qve=XF&&(async t=>{let{url:r,method:i,data:u,signal:g,cancelToken:h,timeout:x,onDownloadProgress:C,onUploadProgress:D,responseType:I,headers:O,withCredentials:B="same-origin",fetchOptions:V}=fee(t);I=I?(I+"").toLowerCase():"text";let z=zve([g,h&&h.toAbortSignal()],x),Z;const ee=z&&z.unsubscribe&&(()=>{z.unsubscribe()});let ie;try{if(D&&jve&&i!=="get"&&i!=="head"&&(ie=await Gve(O,u))!==0){let de=new Request(r,{method:"POST",body:u,duplex:"half"}),te;if(qt.isFormData(u)&&(te=de.headers.get("content-type"))&&O.setContentType(te),de.body){const[ze,Fe]=wY(ie,gF(CY(D)));u=SY(de.body,kY,ze,Fe)}}qt.isString(B)||(B=B?"include":"omit");const W="credentials"in Request.prototype;Z=new Request(r,{...V,signal:z,method:i.toUpperCase(),headers:O.normalize().toJSON(),body:u,duplex:"half",credentials:W?B:void 0});let he=await fetch(Z,V);const ue=nW&&(I==="stream"||I==="response");if(nW&&(C||ue&&ee)){const de={};["status","statusText","headers"].forEach(Je=>{de[Je]=he[Je]});const te=qt.toFiniteNumber(he.headers.get("content-length")),[ze,Fe]=C&&wY(te,gF(CY(C),!0))||[];he=new Response(SY(he.body,kY,ze,()=>{Fe&&Fe(),ee&&ee()}),de)}I=I||"text";let j=await hF[qt.findKey(hF,I)||"text"](he,t);return!ue&&ee&&ee(),await new Promise((de,te)=>{uee(de,te,{data:j,headers:_f.from(he.headers),status:he.status,statusText:he.statusText,config:t,request:Z})})}catch(W){throw ee&&ee(),W&&W.name==="TypeError"&&/Load failed|fetch/i.test(W.message)?Object.assign(new js("Network Error",js.ERR_NETWORK,t,Z),{cause:W.cause||W}):js.from(W,W&&W.code,t,Z)}}),oW={http:uve,xhr:Vve,fetch:qve};qt.forEach(oW,(t,r)=>{if(t){try{Object.defineProperty(t,"name",{value:r})}catch{}Object.defineProperty(t,"adapterName",{value:r})}});const EY=t=>`- ${t}`,Yve=t=>qt.isFunction(t)||t===null||t===!1,hee={getAdapter:t=>{t=qt.isArray(t)?t:[t];const{length:r}=t;let i,u;const g={};for(let h=0;h<r;h++){i=t[h];let x;if(u=i,!Yve(i)&&(u=oW[(x=String(i)).toLowerCase()],u===void 0))throw new js(`Unknown adapter '${x}'`);if(u)break;g[x||"#"+h]=u}if(!u){const h=Object.entries(g).map(([C,D])=>`adapter ${C} `+(D===!1?"is not supported by the environment":"is not available in the build"));let x=r?h.length>1?`since :
`+h.map(EY).join(`
`):" "+EY(h[0]):"as no adapter specified";throw new js("There is no suitable adapter to dispatch the request "+x,"ERR_NOT_SUPPORT")}return u},adapters:oW};function Y9(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new ME(null,t)}function AY(t){return Y9(t),t.headers=_f.from(t.headers),t.data=q9.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),hee.getAdapter(t.adapter||mI.adapter)(t).then(function(u){return Y9(t),u.data=q9.call(t,t.transformResponse,u),u.headers=_f.from(u.headers),u},function(u){return cee(u)||(Y9(t),u&&u.response&&(u.response.data=q9.call(t,t.transformResponse,u.response),u.response.headers=_f.from(u.response.headers))),Promise.reject(u)})}const pee="1.10.0",JF={};["object","boolean","number","function","string","symbol"].forEach((t,r)=>{JF[t]=function(u){return typeof u===t||"a"+(r<1?"n ":" ")+t}});const TY={};JF.transitional=function(r,i,u){function g(h,x){return"[Axios v"+pee+"] Transitional option '"+h+"'"+x+(u?". "+u:"")}return(h,x,C)=>{if(r===!1)throw new js(g(x," has been removed"+(i?" in "+i:"")),js.ERR_DEPRECATED);return i&&!TY[x]&&(TY[x]=!0,console.warn(g(x," has been deprecated since v"+i+" and will be removed in the near future"))),r?r(h,x,C):!0}};JF.spelling=function(r){return(i,u)=>(console.warn(`${u} is likely a misspelling of ${r}`),!0)};function Xve(t,r,i){if(typeof t!="object")throw new js("options must be an object",js.ERR_BAD_OPTION_VALUE);const u=Object.keys(t);let g=u.length;for(;g-- >0;){const h=u[g],x=r[h];if(x){const C=t[h],D=C===void 0||x(C,h,t);if(D!==!0)throw new js("option "+h+" must be "+D,js.ERR_BAD_OPTION_VALUE);continue}if(i!==!0)throw new js("Unknown option "+h,js.ERR_BAD_OPTION)}}const H6={assertOptions:Xve,validators:JF},Eb=H6.validators;let NC=class{constructor(r){this.defaults=r||{},this.interceptors={request:new yY,response:new yY}}async request(r,i){try{return await this._request(r,i)}catch(u){if(u instanceof Error){let g={};Error.captureStackTrace?Error.captureStackTrace(g):g=new Error;const h=g.stack?g.stack.replace(/^.+\n/,""):"";try{u.stack?h&&!String(u.stack).endsWith(h.replace(/^.+\n.+\n/,""))&&(u.stack+=`
`+h):u.stack=h}catch{}}throw u}}_request(r,i){typeof r=="string"?(i=i||{},i.url=r):i=r||{},i=BC(this.defaults,i);const{transitional:u,paramsSerializer:g,headers:h}=i;u!==void 0&&H6.assertOptions(u,{silentJSONParsing:Eb.transitional(Eb.boolean),forcedJSONParsing:Eb.transitional(Eb.boolean),clarifyTimeoutError:Eb.transitional(Eb.boolean)},!1),g!=null&&(qt.isFunction(g)?i.paramsSerializer={serialize:g}:H6.assertOptions(g,{encode:Eb.function,serialize:Eb.function},!0)),i.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?i.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:i.allowAbsoluteUrls=!0),H6.assertOptions(i,{baseUrl:Eb.spelling("baseURL"),withXsrfToken:Eb.spelling("withXSRFToken")},!0),i.method=(i.method||this.defaults.method||"get").toLowerCase();let x=h&&qt.merge(h.common,h[i.method]);h&&qt.forEach(["delete","get","head","post","put","patch","common"],Z=>{delete h[Z]}),i.headers=_f.concat(x,h);const C=[];let D=!0;this.interceptors.request.forEach(function(ee){typeof ee.runWhen=="function"&&ee.runWhen(i)===!1||(D=D&&ee.synchronous,C.unshift(ee.fulfilled,ee.rejected))});const I=[];this.interceptors.response.forEach(function(ee){I.push(ee.fulfilled,ee.rejected)});let O,B=0,V;if(!D){const Z=[AY.bind(this),void 0];for(Z.unshift.apply(Z,C),Z.push.apply(Z,I),V=Z.length,O=Promise.resolve(i);B<V;)O=O.then(Z[B++],Z[B++]);return O}V=C.length;let z=i;for(B=0;B<V;){const Z=C[B++],ee=C[B++];try{z=Z(z)}catch(ie){ee.call(this,ie);break}}try{O=AY.call(this,z)}catch(Z){return Promise.reject(Z)}for(B=0,V=I.length;B<V;)O=O.then(I[B++],I[B++]);return O}getUri(r){r=BC(this.defaults,r);const i=dee(r.baseURL,r.url,r.allowAbsoluteUrls);return iee(i,r.params,r.paramsSerializer)}};qt.forEach(["delete","get","head","options"],function(r){NC.prototype[r]=function(i,u){return this.request(BC(u||{},{method:r,url:i,data:(u||{}).data}))}});qt.forEach(["post","put","patch"],function(r){function i(u){return function(h,x,C){return this.request(BC(C||{},{method:r,headers:u?{"Content-Type":"multipart/form-data"}:{},url:h,data:x}))}}NC.prototype[r]=i(),NC.prototype[r+"Form"]=i(!0)});let Jve=class bee{constructor(r){if(typeof r!="function")throw new TypeError("executor must be a function.");let i;this.promise=new Promise(function(h){i=h});const u=this;this.promise.then(g=>{if(!u._listeners)return;let h=u._listeners.length;for(;h-- >0;)u._listeners[h](g);u._listeners=null}),this.promise.then=g=>{let h;const x=new Promise(C=>{u.subscribe(C),h=C}).then(g);return x.cancel=function(){u.unsubscribe(h)},x},r(function(h,x,C){u.reason||(u.reason=new ME(h,x,C),i(u.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(r){if(this.reason){r(this.reason);return}this._listeners?this._listeners.push(r):this._listeners=[r]}unsubscribe(r){if(!this._listeners)return;const i=this._listeners.indexOf(r);i!==-1&&this._listeners.splice(i,1)}toAbortSignal(){const r=new AbortController,i=u=>{r.abort(u)};return this.subscribe(i),r.signal.unsubscribe=()=>this.unsubscribe(i),r.signal}static source(){let r;return{token:new bee(function(g){r=g}),cancel:r}}};function Qve(t){return function(i){return t.apply(null,i)}}function e0e(t){return qt.isObject(t)&&t.isAxiosError===!0}const sW={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(sW).forEach(([t,r])=>{sW[r]=t});function vee(t){const r=new NC(t),i=GQ(NC.prototype.request,r);return qt.extend(i,NC.prototype,r,{allOwnKeys:!0}),qt.extend(i,r,null,{allOwnKeys:!0}),i.create=function(g){return vee(BC(t,g))},i}const ia=vee(mI);ia.Axios=NC;ia.CanceledError=ME;ia.CancelToken=Jve;ia.isCancel=cee;ia.VERSION=pee;ia.toFormData=YF;ia.AxiosError=js;ia.Cancel=ia.CanceledError;ia.all=function(r){return Promise.all(r)};ia.spread=Qve;ia.isAxiosError=e0e;ia.mergeConfig=BC;ia.AxiosHeaders=_f;ia.formToJSON=t=>lee(qt.isHTMLForm(t)?new FormData(t):t);ia.getAdapter=hee.getAdapter;ia.HttpStatusCode=sW;ia.default=ia;const{Axios:ake,AxiosError:lke,CanceledError:cke,isCancel:uke,CancelToken:dke,VERSION:fke,all:mke,Cancel:gke,isAxiosError:hke,spread:pke,toFormData:bke,AxiosHeaders:vke,HttpStatusCode:yke,formToJSON:xke,getAdapter:wke,mergeConfig:Cke}=ia;/*! js-cookie v3.0.5 | MIT */function A6(t){for(var r=1;r<arguments.length;r++){var i=arguments[r];for(var u in i)t[u]=i[u]}return t}var t0e={read:function(t){return t[0]==='"'&&(t=t.slice(1,-1)),t.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(t){return encodeURIComponent(t).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}};function rW(t,r){function i(g,h,x){if(!(typeof document>"u")){x=A6({},r,x),typeof x.expires=="number"&&(x.expires=new Date(Date.now()+x.expires*864e5)),x.expires&&(x.expires=x.expires.toUTCString()),g=encodeURIComponent(g).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var C="";for(var D in x)x[D]&&(C+="; "+D,x[D]!==!0&&(C+="="+x[D].split(";")[0]));return document.cookie=g+"="+t.write(h,g)+C}}function u(g){if(!(typeof document>"u"||arguments.length&&!g)){for(var h=document.cookie?document.cookie.split("; "):[],x={},C=0;C<h.length;C++){var D=h[C].split("="),I=D.slice(1).join("=");try{var O=decodeURIComponent(D[0]);if(x[O]=t.read(I,O),g===O)break}catch{}}return g?x[g]:x}}return Object.create({set:i,get:u,remove:function(g,h){i(g,"",A6({},h,{expires:-1}))},withAttributes:function(g){return rW(this.converter,A6({},this.attributes,g))},withConverter:function(g){return rW(A6({},this.converter,g),this.attributes)}},{attributes:{value:Object.freeze(r)},converter:{value:Object.freeze(t)}})}var Xr=rW(t0e,{path:"/"}),T6=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function QW(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var X9={exports:{}},J9={exports:{}},OY;function n0e(){return OY||(OY=1,function(){var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",r={rotl:function(i,u){return i<<u|i>>>32-u},rotr:function(i,u){return i<<32-u|i>>>u},endian:function(i){if(i.constructor==Number)return r.rotl(i,8)&16711935|r.rotl(i,24)&4278255360;for(var u=0;u<i.length;u++)i[u]=r.endian(i[u]);return i},randomBytes:function(i){for(var u=[];i>0;i--)u.push(Math.floor(Math.random()*256));return u},bytesToWords:function(i){for(var u=[],g=0,h=0;g<i.length;g++,h+=8)u[h>>>5]|=i[g]<<24-h%32;return u},wordsToBytes:function(i){for(var u=[],g=0;g<i.length*32;g+=8)u.push(i[g>>>5]>>>24-g%32&255);return u},bytesToHex:function(i){for(var u=[],g=0;g<i.length;g++)u.push((i[g]>>>4).toString(16)),u.push((i[g]&15).toString(16));return u.join("")},hexToBytes:function(i){for(var u=[],g=0;g<i.length;g+=2)u.push(parseInt(i.substr(g,2),16));return u},bytesToBase64:function(i){for(var u=[],g=0;g<i.length;g+=3)for(var h=i[g]<<16|i[g+1]<<8|i[g+2],x=0;x<4;x++)g*8+x*6<=i.length*8?u.push(t.charAt(h>>>6*(3-x)&63)):u.push("=");return u.join("")},base64ToBytes:function(i){i=i.replace(/[^A-Z0-9+\/]/ig,"");for(var u=[],g=0,h=0;g<i.length;h=++g%4)h!=0&&u.push((t.indexOf(i.charAt(g-1))&Math.pow(2,-2*h+8)-1)<<h*2|t.indexOf(i.charAt(g))>>>6-h*2);return u}};J9.exports=r}()),J9.exports}var Q9,RY;function IY(){if(RY)return Q9;RY=1;var t={utf8:{stringToBytes:function(r){return t.bin.stringToBytes(unescape(encodeURIComponent(r)))},bytesToString:function(r){return decodeURIComponent(escape(t.bin.bytesToString(r)))}},bin:{stringToBytes:function(r){for(var i=[],u=0;u<r.length;u++)i.push(r.charCodeAt(u)&255);return i},bytesToString:function(r){for(var i=[],u=0;u<r.length;u++)i.push(String.fromCharCode(r[u]));return i.join("")}}};return Q9=t,Q9}/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var eU,DY;function o0e(){if(DY)return eU;DY=1,eU=function(i){return i!=null&&(t(i)||r(i)||!!i._isBuffer)};function t(i){return!!i.constructor&&typeof i.constructor.isBuffer=="function"&&i.constructor.isBuffer(i)}function r(i){return typeof i.readFloatLE=="function"&&typeof i.slice=="function"&&t(i.slice(0,0))}return eU}var PY;function s0e(){return PY||(PY=1,function(){var t=n0e(),r=IY().utf8,i=o0e(),u=IY().bin,g=function(h,x){h.constructor==String?x&&x.encoding==="binary"?h=u.stringToBytes(h):h=r.stringToBytes(h):i(h)?h=Array.prototype.slice.call(h,0):!Array.isArray(h)&&h.constructor!==Uint8Array&&(h=h.toString());for(var C=t.bytesToWords(h),D=h.length*8,I=1732584193,O=-271733879,B=-1732584194,V=271733878,z=0;z<C.length;z++)C[z]=(C[z]<<8|C[z]>>>24)&16711935|(C[z]<<24|C[z]>>>8)&4278255360;C[D>>>5]|=128<<D%32,C[(D+64>>>9<<4)+14]=D;for(var Z=g._ff,ee=g._gg,ie=g._hh,W=g._ii,z=0;z<C.length;z+=16){var he=I,ue=O,j=B,de=V;I=Z(I,O,B,V,C[z+0],7,-680876936),V=Z(V,I,O,B,C[z+1],12,-389564586),B=Z(B,V,I,O,C[z+2],17,606105819),O=Z(O,B,V,I,C[z+3],22,-1044525330),I=Z(I,O,B,V,C[z+4],7,-176418897),V=Z(V,I,O,B,C[z+5],12,1200080426),B=Z(B,V,I,O,C[z+6],17,-1473231341),O=Z(O,B,V,I,C[z+7],22,-45705983),I=Z(I,O,B,V,C[z+8],7,1770035416),V=Z(V,I,O,B,C[z+9],12,-1958414417),B=Z(B,V,I,O,C[z+10],17,-42063),O=Z(O,B,V,I,C[z+11],22,-1990404162),I=Z(I,O,B,V,C[z+12],7,1804603682),V=Z(V,I,O,B,C[z+13],12,-40341101),B=Z(B,V,I,O,C[z+14],17,-1502002290),O=Z(O,B,V,I,C[z+15],22,1236535329),I=ee(I,O,B,V,C[z+1],5,-165796510),V=ee(V,I,O,B,C[z+6],9,-1069501632),B=ee(B,V,I,O,C[z+11],14,643717713),O=ee(O,B,V,I,C[z+0],20,-373897302),I=ee(I,O,B,V,C[z+5],5,-701558691),V=ee(V,I,O,B,C[z+10],9,38016083),B=ee(B,V,I,O,C[z+15],14,-660478335),O=ee(O,B,V,I,C[z+4],20,-405537848),I=ee(I,O,B,V,C[z+9],5,568446438),V=ee(V,I,O,B,C[z+14],9,-1019803690),B=ee(B,V,I,O,C[z+3],14,-187363961),O=ee(O,B,V,I,C[z+8],20,1163531501),I=ee(I,O,B,V,C[z+13],5,-1444681467),V=ee(V,I,O,B,C[z+2],9,-51403784),B=ee(B,V,I,O,C[z+7],14,1735328473),O=ee(O,B,V,I,C[z+12],20,-1926607734),I=ie(I,O,B,V,C[z+5],4,-378558),V=ie(V,I,O,B,C[z+8],11,-2022574463),B=ie(B,V,I,O,C[z+11],16,1839030562),O=ie(O,B,V,I,C[z+14],23,-35309556),I=ie(I,O,B,V,C[z+1],4,-1530992060),V=ie(V,I,O,B,C[z+4],11,1272893353),B=ie(B,V,I,O,C[z+7],16,-155497632),O=ie(O,B,V,I,C[z+10],23,-1094730640),I=ie(I,O,B,V,C[z+13],4,681279174),V=ie(V,I,O,B,C[z+0],11,-358537222),B=ie(B,V,I,O,C[z+3],16,-722521979),O=ie(O,B,V,I,C[z+6],23,76029189),I=ie(I,O,B,V,C[z+9],4,-640364487),V=ie(V,I,O,B,C[z+12],11,-421815835),B=ie(B,V,I,O,C[z+15],16,530742520),O=ie(O,B,V,I,C[z+2],23,-995338651),I=W(I,O,B,V,C[z+0],6,-198630844),V=W(V,I,O,B,C[z+7],10,1126891415),B=W(B,V,I,O,C[z+14],15,-1416354905),O=W(O,B,V,I,C[z+5],21,-57434055),I=W(I,O,B,V,C[z+12],6,1700485571),V=W(V,I,O,B,C[z+3],10,-1894986606),B=W(B,V,I,O,C[z+10],15,-1051523),O=W(O,B,V,I,C[z+1],21,-2054922799),I=W(I,O,B,V,C[z+8],6,1873313359),V=W(V,I,O,B,C[z+15],10,-30611744),B=W(B,V,I,O,C[z+6],15,-1560198380),O=W(O,B,V,I,C[z+13],21,1309151649),I=W(I,O,B,V,C[z+4],6,-145523070),V=W(V,I,O,B,C[z+11],10,-1120210379),B=W(B,V,I,O,C[z+2],15,718787259),O=W(O,B,V,I,C[z+9],21,-343485551),I=I+he>>>0,O=O+ue>>>0,B=B+j>>>0,V=V+de>>>0}return t.endian([I,O,B,V])};g._ff=function(h,x,C,D,I,O,B){var V=h+(x&C|~x&D)+(I>>>0)+B;return(V<<O|V>>>32-O)+x},g._gg=function(h,x,C,D,I,O,B){var V=h+(x&D|C&~D)+(I>>>0)+B;return(V<<O|V>>>32-O)+x},g._hh=function(h,x,C,D,I,O,B){var V=h+(x^C^D)+(I>>>0)+B;return(V<<O|V>>>32-O)+x},g._ii=function(h,x,C,D,I,O,B){var V=h+(C^(x|~D))+(I>>>0)+B;return(V<<O|V>>>32-O)+x},g._blocksize=16,g._digestsize=16,X9.exports=function(h,x){if(h==null)throw new Error("Illegal argument "+h);var C=t.wordsToBytes(g(h,x));return x&&x.asBytes?C:x&&x.asString?u.bytesToString(C):t.bytesToHex(C)}}()),X9.exports}var r0e=s0e();const i0e=QW(r0e),mi=class mi{constructor(r={}){wt(this,"action",null);wt(this,"type",null);wt(this,"key","");wt(this,"item_key","");wt(this,"last_change",0);wt(this,"payload",null);r.action!==void 0&&mi.ALLOWED_ACTIONS.includes(r.action)&&(this.action=r.action.toString()),r.type!==void 0&&mi.ALLOWED_TYPES.includes(r.type)&&(this.type=r.type.toString()),r.key!==void 0&&r.key!==null&&(this.key=r.key.toString()),r.item_key!==void 0&&r.item_key!==null&&(this.item_key=r.item_key.toString()),r.last_change!==void 0&&r.last_change!==null&&(this.last_change=parseInt(r.last_change)),r.payload!==void 0&&r.payload!==null&&(this.payload=r.payload),this.last_change===null&&(this.last_change=Date.now())}static buildChangeKey(r,i){return r+"_"+i}getData(){return Object.assign({},this)}getChangeKey(){return mi.buildChangeKey(this.type,this.key)}isValid(){return mi.ALLOWED_TYPES.includes(this.type)&&mi.ALLOWED_ACTIONS.includes(this.action)&&this.key!=""&&(this.item_key!=""||this.type==mi.TYPE_SNIPPETS)}};wt(mi,"ACTION_SAVE","save"),wt(mi,"ACTION_DELETE","delete"),wt(mi,"ALLOWED_ACTIONS",[mi.ACTION_SAVE,mi.ACTION_DELETE]),wt(mi,"TYPE_COMMENT","comment"),wt(mi,"TYPE_POINTS","points"),wt(mi,"TYPE_SUMMARY","summary"),wt(mi,"TYPE_PREFERENCES","preferences"),wt(mi,"TYPE_SNIPPETS","snippets"),wt(mi,"ALLOWED_TYPES",[mi.TYPE_COMMENT,mi.TYPE_POINTS,mi.TYPE_SUMMARY,mi.TYPE_PREFERENCES,mi.TYPE_SNIPPETS]),wt(mi,"STORED_TYPES",[mi.TYPE_COMMENT,mi.TYPE_POINTS,mi.TYPE_SUMMARY,mi.TYPE_PREFERENCES,mi.TYPE_SNIPPETS]);let ps=mi;const gE=class gE{constructor(r={}){wt(this,"key","");wt(this,"item_key","");wt(this,"task_id",null);wt(this,"writer_id",null);wt(this,"corrector_id",null);wt(this,"user_id",null);wt(this,"title","");wt(this,"initials","");wt(this,"position",0);r.task_id!==void 0&&r.task_id!==null&&(this.task_id=parseInt(r.task_id)),r.writer_id!==void 0&&r.writer_id!==null&&(this.writer_id=parseInt(r.writer_id)),r.corrector_id!==void 0&&r.corrector_id!==null&&(this.corrector_id=parseInt(r.corrector_id)),r.user_id!==void 0&&r.user_id!==null&&(this.user_id=parseInt(r.user_id)),r.title!==void 0&&r.title!==null&&(this.title=r.title.toString()),r.initials!==void 0&&r.initials!==null&&(this.initials=r.initials.toString().toUpperCase()),r.position!==void 0&&r.position!==null&&(this.position=parseInt(r.position)),this.key=gE.buildKey(this.task_id,this.writer_id,this.corrector_id),this.item_key=hi.buildKey(this.task_id,this.writer_id)}static order(r,i){return r.position<i.position?-1:r.position>i.position?1:0}static buildKey(r,i,u){return"C"+r+"_"+i+"_"+u}static extractTaskId(r){const i=r?r.match(/C(\d+)_(\d+)_(\d+)/):null;return i&&i[1]?parseInt(i[1]):null}static extractWriterId(r){const i=r?r.match(/C(\d+)_(\d+)_(\d+)/):null;return i&&i[2]?parseInt(i[2]):null}static extractCorrectorId(r){const i=r?r.match(/C(\d+)_(\d+)_(\d+)/):null;return i&&i[3]?parseInt(i[3]):null}getKey(){return this.key}getData(){return Object.assign({},this)}};wt(gE,"POSITION_FIRST",0),wt(gE,"POSITION_SECOND",1),wt(gE,"POSITION_STITCH",2);let Ui=gE;const vl=class vl{constructor(r={}){wt(this,"item_key","");wt(this,"correction_key","");wt(this,"task_id",null);wt(this,"writer_id",null);wt(this,"corrector_id",null);wt(this,"text","");wt(this,"points",null);wt(this,"grade_key","");wt(this,"pdf","");wt(this,"status","");wt(this,"revision_text","");wt(this,"revision_points",null);wt(this,"revision_grade_key","");wt(this,"require_other_revision",!1);wt(this,"last_change",null);this.setData(r)}static buildKey(r,i,u){return"S"+r+"_"+i+"_"+u}setData(r){r.task_id!==void 0&&r.task_id!==null&&(this.task_id=parseInt(r.task_id)),r.task_id!==void 0&&r.task_id!==null&&(this.task_id=parseInt(r.task_id)),r.writer_id!==void 0&&r.writer_id!==null&&(this.writer_id=parseInt(r.writer_id)),r.corrector_id!==void 0&&r.corrector_id!==null&&(this.corrector_id=parseInt(r.corrector_id)),r.text!==void 0&&r.text!==null&&(this.text=r.text.toString()),r.points!==void 0&&r.points!==null&&(this.points=parseFloat(r.points)),r.pdf!==void 0&&r.pdf!==null&&(this.pdf=r.pdf.toString()),r.status!==void 0&&vl.ALLOWED_TYPES.includes(r.status)&&(this.status=r.status.toString()),r.grade_key!==void 0&&r.grade_key!==null&&(this.grade_key=r.grade_key.toString()),r.revision_text!==void 0&&r.revision_text!==null&&(this.revision_text=r.revision_text.toString()),r.revision_points!==void 0&&r.revision_points!==null&&(this.revision_points=parseFloat(r.revision_points)),r.require_other_revision!==void 0&&r.require_other_revision!==null&&(this.require_other_revision=!!r.require_other_revision),r.last_change!==void 0&&r.last_change!==null&&(this.last_change=parseInt(r.last_change)),this.item_key=hi.buildKey(this.task_id,this.writer_id),this.correction_key=Ui.buildKey(this.task_id,this.writer_id,this.corrector_id)}getData(){return Object.assign({},this)}getKey(){return vl.buildKey(this.task_id,this.writer_id,this.corrector_id)}getClone(){return new vl(this.getData())}isChangeable(){return this.status==vl.STATUS_NOT_STARTED||this.status==vl.STATUS_OPEN}isPregraded(){return this.status==vl.STATUS_PRE_GRADED}isAuthorized(){return this.status==vl.STATUS_AUTHORIZED||this.status==vl.STATUS_REVISED}isRevised(){return this.status==vl.STATUS_REVISED}isEqual(r){for(const i in this)if(this[i]!==r[i])return!1;return!0}};wt(vl,"STATUS_NOT_STARTED","not_started"),wt(vl,"STATUS_OPEN","open"),wt(vl,"STATUS_PRE_GRADED","pre_graded"),wt(vl,"STATUS_AUTHORIZED","authorized"),wt(vl,"STATUS_REVISED","revised"),wt(vl,"ALLOWED_TYPES",[vl.STATUS_NOT_STARTED,vl.STATUS_OPEN,vl.STATUS_PRE_GRADED,vl.STATUS_AUTHORIZED,vl.STATUS_REVISED]);let Mu=vl;const EC=class EC{constructor(r={}){wt(this,"task_id",null);wt(this,"position",0);wt(this,"type",null);wt(this,"title",null);wt(this,"instructions",null);wt(this,"solution",null);wt(this,"key",null);r.task_id!==void 0&&r.task_id!==null&&(this.task_id=parseInt(r.task_id)),r.position!==void 0&&r.position!==null&&(this.position=parseInt(r.position)),r.type!==void 0&&EC.ALLOWED_TYPES.includes(r.type)&&(this.type=r.type.toString()),r.title!==void 0&&r.title!==null&&(this.title=r.title.toString()),r.instructions!==void 0&&r.instructions!==null&&(this.instructions=r.instructions.toString()),r.solution!==void 0&&r.solution!==null&&(this.solution=r.solution.toString()),this.key=EC.buildKey(this.task_id)}static order(r,i){return r.position<i.position?-1:r.position>i.position?1:0}static buildKey(r){return"T"+r}getKey(){return this.key}getData(){return Object.assign({},this)}};wt(EC,"TYPE_ESSAY","essay"),wt(EC,"ALLOWED_TYPES",[EC.TYPE_ESSAY]);let TC=EC;const{t:Ab}=Em.global,Nu=class Nu{constructor(r={}){wt(this,"key",null);wt(this,"task_id",null);wt(this,"writer_id",null);wt(this,"position",null);wt(this,"pseudonym","");wt(this,"title",null);wt(this,"correction_status","");wt(this,"grading_status","");wt(this,"can_correct",!1);wt(this,"can_authorize",!1);wt(this,"can_revise",!1);r.key!==void 0&&r.key!==null&&(this.key=r.key.toString()),r.task_id!==void 0&&r.task_id!==null&&(this.task_id=parseInt(r.task_id)),r.writer_id!==void 0&&r.writer_id!==null&&(this.writer_id=parseInt(r.writer_id)),r.position!==void 0&&r.position!==null&&(this.position=parseInt(r.position)),r.pseudonym!==void 0&&r.pseudonym!==null&&(this.pseudonym=r.pseudonym.toString()),r.correction_status!==void 0&&r.correction_status!==null&&(this.correction_status=r.correction_status.toString()),r.grading_status!==void 0&&r.grading_status!==null&&(this.grading_status=r.grading_status.toString()),r.can_correct!==void 0&&r.can_correct!==null&&(this.can_correct=!!r.can_correct),r.can_authorize!==void 0&&r.can_authorize!==null&&(this.can_authorize=!!r.can_authorize),r.can_revise!==void 0&&r.can_revise!==null&&(this.can_revise=!!r.can_revise),this.key===null&&(this.key=Nu.buildKey(this.task_id,this.writer_id)),this.title===null&&(this.title=Nu.buildTitle(this))}static order(r,i){return r.position<i.position?-1:r.position>i.position?1:r.title<i.title?-1:r.title>i.title?1:0}static buildKey(r,i){return r&&i?"I"+r.toString()+"_"+i.toString():""}static extractTaskId(r){const i=r.match(/I(\d+)_(\d+)/);return i&&i[1]?parseInt(i[1]):null}static extractWriterId(r){const i=r.match(/I(\d+)_(\d+)/);return i&&i[2]?parseInt(i[2]):null}static buildTitle(r){return r.pseudonym+" "+Nu.buildPositionText(r.position)+" "+Nu.buildStatusText(r)}static buildPositionText(r){if(Te.settings().Assessment.multiple_correctors)switch(r){case Ui.POSITION_FIRST:return Ab("correctionsFirstCorrection");case Ui.POSITION_SECOND:return Ab("correctionsSecondCorrection");case Ui.POSITION_STITCH:return Ab("correctionsStitchCorrection");default:return""}return""}static buildStatusText(r){switch(r.correction_status){case Nu.STATUS_OPEN:switch(r.grading_status){case Mu.STATUS_NOT_STARTED:case Mu.STATUS_OPEN:return Ab("itemsSuffixOpen");case Mu.STATUS_PRE_GRADED:return Ab("itemsSuffixPregraded");case Mu.STATUS_AUTHORIZED:return Ab("itemsSuffixAuthorized");default:return""}case Nu.STATUS_APPROXIMATION:return Ab("itemsSuffixApproximation");case Nu.STATUS_CONSULTING:return Ab("itemsSuffixConsulting");case Nu.STATUS_STITCH:return Ab("itemsSuffixStitch");case Nu.STATUS_FINALIZED:return Ab("itemsSuffixFinalized");default:return""}}getKey(){return this.key}getTaskKey(){return TC.buildKey(this.task_id)}getData(){return Object.assign({},this)}};wt(Nu,"STATUS_OPEN","open"),wt(Nu,"STATUS_APPROXIMATION","approximation"),wt(Nu,"STATUS_CONSULTING","consulting"),wt(Nu,"STATUS_STITCH","stitch"),wt(Nu,"STATUS_FINALIZED","finalized");let hi=Nu;const NY=5e3,a0e=tu("api",{state:()=>({backendUrl:"",returnUrl:"",userId:"",assId:"",contextId:"",itemKey:"",dataToken:"",fileToken:"",timeOffset:0,intervals:{},lastSendingTry:0,lastLoadingTry:0}),getters:{isLoading:t=>t.lastLoadingTry>0,storedItemKey:t=>localStorage.getItem("xlasCorrectorItemKey"),getRequestConfig(t){return function(i){let u=t.backendUrl,g=new URLSearchParams,h=u.search(/\?+/);return h!=-1&&(g=new URLSearchParams(u.substr(h)),u=u.substr(0,h)),g.append("user_id",t.userId),g.append("ass_id",t.assId),g.append("context_id",t.contextId),g.append("signature",i0e(t.userId+t.assId+t.contextId+i)),{baseURL:u,params:g,timeout:3e4,responseType:"json",responseEncoding:"utf8"}}},getResourceUrl(t){return function(i){const u=this.getRequestConfig(this.fileToken);return u.baseURL+"/corrector/file/task/resource/"+i.id+"?"+u.params.toString()}},getImageUrl(t){return function(i){const u=this.getRequestConfig(this.fileToken);return u.baseURL+"/corrector/file/essaytask/image/"+i.id+"?"+u.params.toString()}},getThumbUrl(t){return function(i){const u=this.getRequestConfig(this.fileToken);return u.baseURL+"/corrector/file/essaytask/thumb/"+i.id+"?"+u.params.toString()}},getServerTime(t){return function(i){return i==0?0:Math.floor((i-t.timeOffset)/1e3)}}},actions:{async clearStorage(){localStorage.clear()},async init(){let t=!1,r=!1;this.backendUrl=localStorage.getItem("xlasCorrectorBackendUrl"),this.returnUrl=localStorage.getItem("xlasCorrectorReturnUrl"),this.userId=localStorage.getItem("xlasCorrectorUserId"),this.assId=localStorage.getItem("xlasCorrectorAssId"),this.contextId=localStorage.getItem("xlasCorrectorContextId"),this.itemKey=localStorage.getItem("xlasCorrectorItemKey")??"",this.dataToken=localStorage.getItem("xlasCorrectorDataToken"),this.fileToken=localStorage.getItem("xlasCorrectorFileToken"),this.timeOffset=Math.floor(localStorage.getItem("xlasCorrectorTimeOffset")??0),Xr.get("xlasUserId")!=null&&Xr.get("xlasUserId")!==this.userId&&(this.userId=Xr.get("xlasUserId"),t=!0),Xr.get("xlasAssId")&&Xr.get("xlasAssId")!==this.assId&&(this.assId=Xr.get("xlasAssId"),t=!0),Xr.get("xlasContextId")!=null&&Xr.get("xlasContextId")!==this.contextId&&(this.contextId=Xr.get("xlasContextId"),t=!0);let i=hi.extractTaskId(this.itemKey),u=hi.extractWriterId(this.itemKey);if(Xr.get("xlasTaskId")!=null&&Xr.get("xlasTaskId")!==i&&Xr.get("xlasWriterId")!=null&&Xr.get("xlasWriterId")!==u&&(r=!0,i=Xr.get("xlasTaskId"),u=Xr.get("xlasWriterId"),this.itemKey=hi.buildKey(i,u)),this.itemKey||(r=!0),Xr.get("xlasBackendUrl")!=null&&Xr.get("xlasBackendUrl")!==this.backendUrl&&(this.backendUrl=Xr.get("xlasBackendUrl")),Xr.get("xlasReturnUrl")!=null&&Xr.get("xlasReturnUrl")!==this.returnUrl&&(this.returnUrl=Xr.get("xlasReturnUrl")),Xr.get("xlasToken")!=null&&Xr.get("xlasToken")!==this.dataToken&&(this.dataToken=Xr.get("xlasToken")),!this.backendUrl||!this.returnUrl||!this.userId||!this.assId||!this.contextId||!this.dataToken){Te.layout().showInitFailure=!0;return}const g=Te.changes();await g.loadFromStorage(),g.countChanges>0?t?(console.log("init: open saving, new context"),await this.loadDataFromStorage(),Te.layout().showDataReplaceConfirmation=!0):r?(console.log("init: open saving, same context, new item"),await this.loadDataFromStorage(),Te.layout().showItemReplaceConfirmation=!0):(console.log("init: open saving, same context, same item"),await this.loadDataFromStorage(),this.initAfterKeepDataConfirmed()):(console.log("init: no open saving"),this.initAfterReplaceDataConfirmed())},async initAfterReplaceDataConfirmed(){console.log("initAfterReplaceDataConfirmed"),await O0e(),Te.layout().showDataReplaceConfirmation=!1,Te.layout().showItemReplaceConfirmation=!1,await this.loadDataFromBackend()&&(await this.loadItemFromBackend(this.itemKey),this.finishInitialisation()),this.updateConfig()},async initAfterKeepDataConfirmed(){console.log("initAfterKeepDataConfirmed"),Te.layout().showDataReplaceConfirmation=!1,Te.layout().showItemReplaceConfirmation=!1,this.itemKey=localStorage.getItem("xlasCorrectorItemKey"),await this.loadItemFromStorage(this.itemKey);const t=Te.items().getItem(this.itemKey);await this.loadDataFromBackend()&&(await Te.items().saveItem(t),await this.loadItemFromStorage(this.itemKey),this.finishInitialisation()),this.updateConfig()},finishInitialisation(){Te.summaries().isOneAuthorized&&Te.comments().setShowOtherCorrections(!0),Te.layout().initialized=!0},updateConfig(){Xr.remove("xlasBackendUrl"),Xr.remove("xlasReturnUrl"),Xr.remove("xlasUserId"),Xr.remove("xlasAssId"),Xr.remove("xlasContextId"),Xr.remove("xlasTaskId"),Xr.remove("xlasWriterId"),Xr.remove("xlasToken"),localStorage.setItem("xlasCorrectorBackendUrl",this.backendUrl),localStorage.setItem("xlasCorrectorReturnUrl",this.returnUrl),localStorage.setItem("xlasCorrectorUserId",this.userId),localStorage.setItem("xlasCorrectorAssId",this.assId),localStorage.setItem("xlasCorrectorContextId",this.contextId),localStorage.setItem("xlasCorrectorItemKey",this.itemKey),localStorage.setItem("xlasCorrectorDataToken",this.dataToken),localStorage.setItem("xlasCorrectorFileToken",this.fileToken)},async loadDataFromStorage(){return console.log("loadDataFromStorage..."),this.setLoading(!0),this.clearAllIntervals(),await Te.criteria().loadFromStorage(),await Te.items().loadFromStorage(),await Te.layout().loadFromStorage(),await Te.levels().loadFromStorage(),await Te.preferences().loadFromStorage(),await Te.resources().loadFromStorage(),await Te.settings().loadFromStorage(),await Te.snippets().loadFromStorage(),await Te.tasks().loadFromStorage(),this.setLoading(!1),!0},async loadItemFromStorage(t){console.log("loadItemFromStorage..."),this.setLoading(!0),this.clearAllIntervals();const r=Te.items();return(t==""||r.getItem(t)==null)&&(t=r.firstKey),this.itemKey=t,localStorage.setItem("xlasCorrectorItemKey",this.itemKey),await Te.changes().loadFromStorage(),await Te.comments().loadFromStorage(),await Te.corrections().loadFromStorage(),await Te.essay().loadFromStorage(),await Te.pages().loadFromStorage(),await Te.points().loadFromStorage(),await Te.summaries().loadFromStorage(),Te.comments().setMarkerChange(),Te.items().updateCurrentKeys(),Te.tasks().updateCurrentKeys(),Te.layout().initForItem(),this.setLoading(!1),this.setInterval("apiStore.saveChangesToBackend",this.saveChangesToBackend,NY),!0},async loadDataFromBackend(){console.log("loadDataFromBackend..."),this.setLoading(!0),this.clearAllIntervals();let t={};try{t=await ia.get("/corrector/data",this.getRequestConfig(this.dataToken)),this.setTimeOffset(t),this.refreshToken(t)}catch(r){return console.error(r),Te.layout().showInitFailure=!0,this.setLoading(!1),!1}return await Te.layout().clearStorage(),await Te.levels().loadFromBackend(t.data.Assessment.GradeLevels),await Te.resources().loadFromBackend(t.data.Assessment.Resources),await Te.settings().loadFromBackend("Assessment",t.data.Assessment.Settings),await Te.items().loadFromBackend(t.data.Task.Items),await Te.preferences().loadFromBackend(t.data.Task.Preferences),await Te.settings().loadFromBackend("Task",t.data.Task.Settings),await Te.snippets().loadFromBackend(t.data.Task.Snippets),await Te.tasks().loadFromBackend(t.data.Task.Tasks),await Te.settings().loadFromBackend("EssayTask",t.data.EssayTask.Settings),this.setLoading(!1),!0},async loadItemFromBackend(t){console.log("loadItemFromBackend..."),this.setLoading(!0),this.clearAllIntervals();const r=Te.items();(t==""||!Te.items().getItem(t))&&(t=r.firstKey);let i={};const u=hi.extractTaskId(t),g=hi.extractWriterId(t);try{i=await ia.get("/corrector/item/"+u+"/"+g,this.getRequestConfig(this.dataToken)),this.setTimeOffset(i),this.refreshToken(i)}catch(h){return console.error(h),Te.layout().showItemLoadFailure=!0,this.setLoading(!1),!1}return this.itemKey=t,localStorage.setItem("xlasCorrectorItemKey",this.itemKey),await r.saveItem(new hi(i.data.Task.Item)),await Te.changes().clearStorage(),await Te.essay().loadFromBackend(i.data.EssayTask.Essay),await Te.pages().loadFromBackend(i.data.EssayTask.Pages),await Te.corrections().loadFromBackend(i.data.Task.Corrections),await Te.criteria().loadFromBackend(i.data.Task.Criteria),await Te.comments().loadFromBackend(i.data.Task.Comments),await Te.points().loadFromBackend(i.data.Task.Points),await Te.summaries().loadFromBackend(i.data.Task.Summaries),Te.comments().setMarkerChange(),Te.items().updateCurrentKeys(),Te.tasks().updateCurrentKeys(),Te.layout().initForItem(),this.setLoading(!1),this.setInterval("apiStore.saveChangesToBackend",this.saveChangesToBackend,NY),!0},async saveChangesToBackend(t=!1){const r=Te.changes();if(r.countChanges>0&&!await this.isSending(!0)){this.setSending(!0);try{const i={Task:{}};i.Task[ps.TYPE_SNIPPETS]=await Te.snippets().getChangedData(this.lastSendingTry),i.Task[ps.TYPE_PREFERENCES]=await Te.preferences().getChangedData(this.lastSendingTry),i.Task[ps.TYPE_COMMENT]=await Te.comments().getChangedData(this.lastSendingTry),i.Task[ps.TYPE_POINTS]=await Te.points().getChangedData(this.lastSendingTry),i.Task[ps.TYPE_SUMMARY]=await Te.summaries().getChangedData(this.lastSendingTry);const u=await ia.put("/corrector/changes",i,this.getRequestConfig(this.dataToken));this.setTimeOffset(u),this.refreshToken(u);for(const g in u.data??[]){const h=u.data[g];for(const x in h??[])await r.setChangesSent(x,h[x],this.lastSendingTry)}}catch(i){return console.error(i),this.setSending(!1),!1}this.setSending(!1)}return r.countChanges==0},setTimeOffset(t){if(t.headers.longessaytime){const r=t.headers.longessaytime*1e3,i=Date.now();this.timeOffset=i-r,localStorage.setItem("writerTimeOffset",this.timeOffset)}},refreshToken(t){t.headers.xlasdatatoken&&(this.dataToken=t.headers.xlasdatatoken,localStorage.setItem("xlasCorrectorDataToken",this.dataToken)),t.headers.xlasfiletoken&&(this.fileToken=t.headers.xlasfiletoken,localStorage.setItem("xlasCorrectorFileToken",this.fileToken))},async isSending(t=!1){if(t){let r=0;for(;r<5&&this.lastSendingTry>0;)r++,await new Promise(i=>setTimeout(i,1e3))}return this.lastSendingTry>0},setSending(t){t?this.lastSendingTry=Date.now():this.lastSendingTry=0},setLoading(t){t?this.lastLoadingTry=Date.now():this.lastLoadingTry=0},setInterval(t,r,i){t in this.intervals&&clearInterval(this.intervals[t]),this.intervals[t]=setInterval(r,i)},clearAllIntervals(){for(const t in this.intervals)clearInterval(this.intervals[t]),delete this.intervals[t]}}});class l0e{constructor(r={}){wt(this,"action",null);wt(this,"type",null);wt(this,"key","");wt(this,"done",!1);wt(this,"result",null);r.action!==void 0&&ps.ALLOWED_ACTIONS.includes(r.action)&&(this.action=r.action.toString()),r.type!==void 0&&ps.ALLOWED_TYPES.includes(r.type)&&(this.type=r.type.toString()),r.key!==void 0&&r.key!==null&&(this.key=r.key.toString()),r.done!==void 0&&r.done!==null&&(this.done=!!r.done),r.result!==void 0&&r.result!==null&&(this.result=r.result),this.last_change==0&&(this.last_change=Date.now())}getData(){return Object.assign({},this)}}function O6(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var tU={exports:{}};/*!
    localForage -- Offline Storage, Improved
    Version 1.10.0
    https://localforage.github.io/localForage
    (c) 2013-2017 Mozilla, Apache License 2.0
*/var LY;function c0e(){return LY||(LY=1,function(t,r){(function(i){t.exports=i()})(function(){return function i(u,g,h){function x(I,O){if(!g[I]){if(!u[I]){var B=typeof O6=="function"&&O6;if(!O&&B)return B(I,!0);if(C)return C(I,!0);var V=new Error("Cannot find module '"+I+"'");throw V.code="MODULE_NOT_FOUND",V}var z=g[I]={exports:{}};u[I][0].call(z.exports,function(Z){var ee=u[I][1][Z];return x(ee||Z)},z,z.exports,i,u,g,h)}return g[I].exports}for(var C=typeof O6=="function"&&O6,D=0;D<h.length;D++)x(h[D]);return x}({1:[function(i,u,g){(function(h){var x=h.MutationObserver||h.WebKitMutationObserver,C;if(x){var D=0,I=new x(Z),O=h.document.createTextNode("");I.observe(O,{characterData:!0}),C=function(){O.data=D=++D%2}}else if(!h.setImmediate&&typeof h.MessageChannel<"u"){var B=new h.MessageChannel;B.port1.onmessage=Z,C=function(){B.port2.postMessage(0)}}else"document"in h&&"onreadystatechange"in h.document.createElement("script")?C=function(){var ie=h.document.createElement("script");ie.onreadystatechange=function(){Z(),ie.onreadystatechange=null,ie.parentNode.removeChild(ie),ie=null},h.document.documentElement.appendChild(ie)}:C=function(){setTimeout(Z,0)};var V,z=[];function Z(){V=!0;for(var ie,W,he=z.length;he;){for(W=z,z=[],ie=-1;++ie<he;)W[ie]();he=z.length}V=!1}u.exports=ee;function ee(ie){z.push(ie)===1&&!V&&C()}}).call(this,typeof T6<"u"?T6:typeof self<"u"?self:typeof window<"u"?window:{})},{}],2:[function(i,u,g){var h=i(1);function x(){}var C={},D=["REJECTED"],I=["FULFILLED"],O=["PENDING"];u.exports=B;function B(de){if(typeof de!="function")throw new TypeError("resolver must be a function");this.state=O,this.queue=[],this.outcome=void 0,de!==x&&ee(this,de)}B.prototype.catch=function(de){return this.then(null,de)},B.prototype.then=function(de,te){if(typeof de!="function"&&this.state===I||typeof te!="function"&&this.state===D)return this;var ze=new this.constructor(x);if(this.state!==O){var Fe=this.state===I?de:te;z(ze,Fe,this.outcome)}else this.queue.push(new V(ze,de,te));return ze};function V(de,te,ze){this.promise=de,typeof te=="function"&&(this.onFulfilled=te,this.callFulfilled=this.otherCallFulfilled),typeof ze=="function"&&(this.onRejected=ze,this.callRejected=this.otherCallRejected)}V.prototype.callFulfilled=function(de){C.resolve(this.promise,de)},V.prototype.otherCallFulfilled=function(de){z(this.promise,this.onFulfilled,de)},V.prototype.callRejected=function(de){C.reject(this.promise,de)},V.prototype.otherCallRejected=function(de){z(this.promise,this.onRejected,de)};function z(de,te,ze){h(function(){var Fe;try{Fe=te(ze)}catch(Je){return C.reject(de,Je)}Fe===de?C.reject(de,new TypeError("Cannot resolve promise with itself")):C.resolve(de,Fe)})}C.resolve=function(de,te){var ze=ie(Z,te);if(ze.status==="error")return C.reject(de,ze.value);var Fe=ze.value;if(Fe)ee(de,Fe);else{de.state=I,de.outcome=te;for(var Je=-1,rt=de.queue.length;++Je<rt;)de.queue[Je].callFulfilled(te)}return de},C.reject=function(de,te){de.state=D,de.outcome=te;for(var ze=-1,Fe=de.queue.length;++ze<Fe;)de.queue[ze].callRejected(te);return de};function Z(de){var te=de&&de.then;if(de&&(typeof de=="object"||typeof de=="function")&&typeof te=="function")return function(){te.apply(de,arguments)}}function ee(de,te){var ze=!1;function Fe(_e){ze||(ze=!0,C.reject(de,_e))}function Je(_e){ze||(ze=!0,C.resolve(de,_e))}function rt(){te(Je,Fe)}var we=ie(rt);we.status==="error"&&Fe(we.value)}function ie(de,te){var ze={};try{ze.value=de(te),ze.status="success"}catch(Fe){ze.status="error",ze.value=Fe}return ze}B.resolve=W;function W(de){return de instanceof this?de:C.resolve(new this(x),de)}B.reject=he;function he(de){var te=new this(x);return C.reject(te,de)}B.all=ue;function ue(de){var te=this;if(Object.prototype.toString.call(de)!=="[object Array]")return this.reject(new TypeError("must be an array"));var ze=de.length,Fe=!1;if(!ze)return this.resolve([]);for(var Je=new Array(ze),rt=0,we=-1,_e=new this(x);++we<ze;)R(de[we],we);return _e;function R(it,St){te.resolve(it).then(Ut,function(sn){Fe||(Fe=!0,C.reject(_e,sn))});function Ut(sn){Je[St]=sn,++rt===ze&&!Fe&&(Fe=!0,C.resolve(_e,Je))}}}B.race=j;function j(de){var te=this;if(Object.prototype.toString.call(de)!=="[object Array]")return this.reject(new TypeError("must be an array"));var ze=de.length,Fe=!1;if(!ze)return this.resolve([]);for(var Je=-1,rt=new this(x);++Je<ze;)we(de[Je]);return rt;function we(_e){te.resolve(_e).then(function(R){Fe||(Fe=!0,C.resolve(rt,R))},function(R){Fe||(Fe=!0,C.reject(rt,R))})}}},{1:1}],3:[function(i,u,g){(function(h){typeof h.Promise!="function"&&(h.Promise=i(2))}).call(this,typeof T6<"u"?T6:typeof self<"u"?self:typeof window<"u"?window:{})},{2:2}],4:[function(i,u,g){var h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(De){return typeof De}:function(De){return De&&typeof Symbol=="function"&&De.constructor===Symbol&&De!==Symbol.prototype?"symbol":typeof De};function x(De,at){if(!(De instanceof at))throw new TypeError("Cannot call a class as a function")}function C(){try{if(typeof indexedDB<"u")return indexedDB;if(typeof webkitIndexedDB<"u")return webkitIndexedDB;if(typeof mozIndexedDB<"u")return mozIndexedDB;if(typeof OIndexedDB<"u")return OIndexedDB;if(typeof msIndexedDB<"u")return msIndexedDB}catch{return}}var D=C();function I(){try{if(!D||!D.open)return!1;var De=typeof openDatabase<"u"&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),at=typeof fetch=="function"&&fetch.toString().indexOf("[native code")!==-1;return(!De||at)&&typeof indexedDB<"u"&&typeof IDBKeyRange<"u"}catch{return!1}}function O(De,at){De=De||[],at=at||{};try{return new Blob(De,at)}catch(ot){if(ot.name!=="TypeError")throw ot;for(var He=typeof BlobBuilder<"u"?BlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:WebKitBlobBuilder,yt=new He,pt=0;pt<De.length;pt+=1)yt.append(De[pt]);return yt.getBlob(at.type)}}typeof Promise>"u"&&i(3);var B=Promise;function V(De,at){at&&De.then(function(He){at(null,He)},function(He){at(He)})}function z(De,at,He){typeof at=="function"&&De.then(at),typeof He=="function"&&De.catch(He)}function Z(De){return typeof De!="string"&&(console.warn(De+" used as a key, but it is not a string."),De=String(De)),De}function ee(){if(arguments.length&&typeof arguments[arguments.length-1]=="function")return arguments[arguments.length-1]}var ie="local-forage-detect-blob-support",W=void 0,he={},ue=Object.prototype.toString,j="readonly",de="readwrite";function te(De){for(var at=De.length,He=new ArrayBuffer(at),yt=new Uint8Array(He),pt=0;pt<at;pt++)yt[pt]=De.charCodeAt(pt);return He}function ze(De){return new B(function(at){var He=De.transaction(ie,de),yt=O([""]);He.objectStore(ie).put(yt,"key"),He.onabort=function(pt){pt.preventDefault(),pt.stopPropagation(),at(!1)},He.oncomplete=function(){var pt=navigator.userAgent.match(/Chrome\/(\d+)/),ot=navigator.userAgent.match(/Edge\//);at(ot||!pt||parseInt(pt[1],10)>=43)}}).catch(function(){return!1})}function Fe(De){return typeof W=="boolean"?B.resolve(W):ze(De).then(function(at){return W=at,W})}function Je(De){var at=he[De.name],He={};He.promise=new B(function(yt,pt){He.resolve=yt,He.reject=pt}),at.deferredOperations.push(He),at.dbReady?at.dbReady=at.dbReady.then(function(){return He.promise}):at.dbReady=He.promise}function rt(De){var at=he[De.name],He=at.deferredOperations.pop();if(He)return He.resolve(),He.promise}function we(De,at){var He=he[De.name],yt=He.deferredOperations.pop();if(yt)return yt.reject(at),yt.promise}function _e(De,at){return new B(function(He,yt){if(he[De.name]=he[De.name]||Me(),De.db)if(at)Je(De),De.db.close();else return He(De.db);var pt=[De.name];at&&pt.push(De.version);var ot=D.open.apply(D,pt);at&&(ot.onupgradeneeded=function(Yt){var cn=ot.result;try{cn.createObjectStore(De.storeName),Yt.oldVersion<=1&&cn.createObjectStore(ie)}catch(hn){if(hn.name==="ConstraintError")console.warn('The database "'+De.name+'" has been upgraded from version '+Yt.oldVersion+" to version "+Yt.newVersion+', but the storage "'+De.storeName+'" already exists.');else throw hn}}),ot.onerror=function(Yt){Yt.preventDefault(),yt(ot.error)},ot.onsuccess=function(){var Yt=ot.result;Yt.onversionchange=function(cn){cn.target.close()},He(Yt),rt(De)}})}function R(De){return _e(De,!1)}function it(De){return _e(De,!0)}function St(De,at){if(!De.db)return!0;var He=!De.db.objectStoreNames.contains(De.storeName),yt=De.version<De.db.version,pt=De.version>De.db.version;if(yt&&(De.version!==at&&console.warn('The database "'+De.name+`" can't be downgraded from version `+De.db.version+" to version "+De.version+"."),De.version=De.db.version),pt||He){if(He){var ot=De.db.version+1;ot>De.version&&(De.version=ot)}return!0}return!1}function Ut(De){return new B(function(at,He){var yt=new FileReader;yt.onerror=He,yt.onloadend=function(pt){var ot=btoa(pt.target.result||"");at({__local_forage_encoded_blob:!0,data:ot,type:De.type})},yt.readAsBinaryString(De)})}function sn(De){var at=te(atob(De.data));return O([at],{type:De.type})}function dt(De){return De&&De.__local_forage_encoded_blob}function An(De){var at=this,He=at._initReady().then(function(){var yt=he[at._dbInfo.name];if(yt&&yt.dbReady)return yt.dbReady});return z(He,De,De),He}function At(De){Je(De);for(var at=he[De.name],He=at.forages,yt=0;yt<He.length;yt++){var pt=He[yt];pt._dbInfo.db&&(pt._dbInfo.db.close(),pt._dbInfo.db=null)}return De.db=null,R(De).then(function(ot){return De.db=ot,St(De)?it(De):ot}).then(function(ot){De.db=at.db=ot;for(var Yt=0;Yt<He.length;Yt++)He[Yt]._dbInfo.db=ot}).catch(function(ot){throw we(De,ot),ot})}function et(De,at,He,yt){yt===void 0&&(yt=1);try{var pt=De.db.transaction(De.storeName,at);He(null,pt)}catch(ot){if(yt>0&&(!De.db||ot.name==="InvalidStateError"||ot.name==="NotFoundError"))return B.resolve().then(function(){if(!De.db||ot.name==="NotFoundError"&&!De.db.objectStoreNames.contains(De.storeName)&&De.version<=De.db.version)return De.db&&(De.version=De.db.version+1),it(De)}).then(function(){return At(De).then(function(){et(De,at,He,yt-1)})}).catch(He);He(ot)}}function Me(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function mt(De){var at=this,He={db:null};if(De)for(var yt in De)He[yt]=De[yt];var pt=he[He.name];pt||(pt=Me(),he[He.name]=pt),pt.forages.push(at),at._initReady||(at._initReady=at.ready,at.ready=An);var ot=[];function Yt(){return B.resolve()}for(var cn=0;cn<pt.forages.length;cn++){var hn=pt.forages[cn];hn!==at&&ot.push(hn._initReady().catch(Yt))}var Sn=pt.forages.slice(0);return B.all(ot).then(function(){return He.db=pt.db,R(He)}).then(function(mn){return He.db=mn,St(He,at._defaultConfig.version)?it(He):mn}).then(function(mn){He.db=pt.db=mn,at._dbInfo=He;for(var So=0;So<Sn.length;So++){var dn=Sn[So];dn!==at&&(dn._dbInfo.db=He.db,dn._dbInfo.version=He.version)}})}function vo(De,at){var He=this;De=Z(De);var yt=new B(function(pt,ot){He.ready().then(function(){et(He._dbInfo,j,function(Yt,cn){if(Yt)return ot(Yt);try{var hn=cn.objectStore(He._dbInfo.storeName),Sn=hn.get(De);Sn.onsuccess=function(){var mn=Sn.result;mn===void 0&&(mn=null),dt(mn)&&(mn=sn(mn)),pt(mn)},Sn.onerror=function(){ot(Sn.error)}}catch(mn){ot(mn)}})}).catch(ot)});return V(yt,at),yt}function Wt(De,at){var He=this,yt=new B(function(pt,ot){He.ready().then(function(){et(He._dbInfo,j,function(Yt,cn){if(Yt)return ot(Yt);try{var hn=cn.objectStore(He._dbInfo.storeName),Sn=hn.openCursor(),mn=1;Sn.onsuccess=function(){var So=Sn.result;if(So){var dn=So.value;dt(dn)&&(dn=sn(dn));var As=De(dn,So.key,mn++);As!==void 0?pt(As):So.continue()}else pt()},Sn.onerror=function(){ot(Sn.error)}}catch(So){ot(So)}})}).catch(ot)});return V(yt,at),yt}function In(De,at,He){var yt=this;De=Z(De);var pt=new B(function(ot,Yt){var cn;yt.ready().then(function(){return cn=yt._dbInfo,ue.call(at)==="[object Blob]"?Fe(cn.db).then(function(hn){return hn?at:Ut(at)}):at}).then(function(hn){et(yt._dbInfo,de,function(Sn,mn){if(Sn)return Yt(Sn);try{var So=mn.objectStore(yt._dbInfo.storeName);hn===null&&(hn=void 0);var dn=So.put(hn,De);mn.oncomplete=function(){hn===void 0&&(hn=null),ot(hn)},mn.onabort=mn.onerror=function(){var As=dn.error?dn.error:dn.transaction.error;Yt(As)}}catch(As){Yt(As)}})}).catch(Yt)});return V(pt,He),pt}function on(De,at){var He=this;De=Z(De);var yt=new B(function(pt,ot){He.ready().then(function(){et(He._dbInfo,de,function(Yt,cn){if(Yt)return ot(Yt);try{var hn=cn.objectStore(He._dbInfo.storeName),Sn=hn.delete(De);cn.oncomplete=function(){pt()},cn.onerror=function(){ot(Sn.error)},cn.onabort=function(){var mn=Sn.error?Sn.error:Sn.transaction.error;ot(mn)}}catch(mn){ot(mn)}})}).catch(ot)});return V(yt,at),yt}function J(De){var at=this,He=new B(function(yt,pt){at.ready().then(function(){et(at._dbInfo,de,function(ot,Yt){if(ot)return pt(ot);try{var cn=Yt.objectStore(at._dbInfo.storeName),hn=cn.clear();Yt.oncomplete=function(){yt()},Yt.onabort=Yt.onerror=function(){var Sn=hn.error?hn.error:hn.transaction.error;pt(Sn)}}catch(Sn){pt(Sn)}})}).catch(pt)});return V(He,De),He}function mo(De){var at=this,He=new B(function(yt,pt){at.ready().then(function(){et(at._dbInfo,j,function(ot,Yt){if(ot)return pt(ot);try{var cn=Yt.objectStore(at._dbInfo.storeName),hn=cn.count();hn.onsuccess=function(){yt(hn.result)},hn.onerror=function(){pt(hn.error)}}catch(Sn){pt(Sn)}})}).catch(pt)});return V(He,De),He}function Zt(De,at){var He=this,yt=new B(function(pt,ot){if(De<0){pt(null);return}He.ready().then(function(){et(He._dbInfo,j,function(Yt,cn){if(Yt)return ot(Yt);try{var hn=cn.objectStore(He._dbInfo.storeName),Sn=!1,mn=hn.openKeyCursor();mn.onsuccess=function(){var So=mn.result;if(!So){pt(null);return}De===0||Sn?pt(So.key):(Sn=!0,So.advance(De))},mn.onerror=function(){ot(mn.error)}}catch(So){ot(So)}})}).catch(ot)});return V(yt,at),yt}function vn(De){var at=this,He=new B(function(yt,pt){at.ready().then(function(){et(at._dbInfo,j,function(ot,Yt){if(ot)return pt(ot);try{var cn=Yt.objectStore(at._dbInfo.storeName),hn=cn.openKeyCursor(),Sn=[];hn.onsuccess=function(){var mn=hn.result;if(!mn){yt(Sn);return}Sn.push(mn.key),mn.continue()},hn.onerror=function(){pt(hn.error)}}catch(mn){pt(mn)}})}).catch(pt)});return V(He,De),He}function je(De,at){at=ee.apply(this,arguments);var He=this.config();De=typeof De!="function"&&De||{},De.name||(De.name=De.name||He.name,De.storeName=De.storeName||He.storeName);var yt=this,pt;if(!De.name)pt=B.reject("Invalid arguments");else{var ot=De.name===He.name&&yt._dbInfo.db,Yt=ot?B.resolve(yt._dbInfo.db):R(De).then(function(cn){var hn=he[De.name],Sn=hn.forages;hn.db=cn;for(var mn=0;mn<Sn.length;mn++)Sn[mn]._dbInfo.db=cn;return cn});De.storeName?pt=Yt.then(function(cn){if(cn.objectStoreNames.contains(De.storeName)){var hn=cn.version+1;Je(De);var Sn=he[De.name],mn=Sn.forages;cn.close();for(var So=0;So<mn.length;So++){var dn=mn[So];dn._dbInfo.db=null,dn._dbInfo.version=hn}var As=new B(function(Zo,es){var Lr=D.open(De.name,hn);Lr.onerror=function(Po){var Gl=Lr.result;Gl.close(),es(Po)},Lr.onupgradeneeded=function(){var Po=Lr.result;Po.deleteObjectStore(De.storeName)},Lr.onsuccess=function(){var Po=Lr.result;Po.close(),Zo(Po)}});return As.then(function(Zo){Sn.db=Zo;for(var es=0;es<mn.length;es++){var Lr=mn[es];Lr._dbInfo.db=Zo,rt(Lr._dbInfo)}}).catch(function(Zo){throw(we(De,Zo)||B.resolve()).catch(function(){}),Zo})}}):pt=Yt.then(function(cn){Je(De);var hn=he[De.name],Sn=hn.forages;cn.close();for(var mn=0;mn<Sn.length;mn++){var So=Sn[mn];So._dbInfo.db=null}var dn=new B(function(As,Zo){var es=D.deleteDatabase(De.name);es.onerror=function(){var Lr=es.result;Lr&&Lr.close(),Zo(es.error)},es.onblocked=function(){console.warn('dropInstance blocked for database "'+De.name+'" until all open connections are closed')},es.onsuccess=function(){var Lr=es.result;Lr&&Lr.close(),As(Lr)}});return dn.then(function(As){hn.db=As;for(var Zo=0;Zo<Sn.length;Zo++){var es=Sn[Zo];rt(es._dbInfo)}}).catch(function(As){throw(we(De,As)||B.resolve()).catch(function(){}),As})})}return V(pt,at),pt}var tt={_driver:"asyncStorage",_initStorage:mt,_support:I(),iterate:Wt,getItem:vo,setItem:In,removeItem:on,clear:J,length:mo,key:Zt,keys:vn,dropInstance:je};function xe(){return typeof openDatabase=="function"}var Re="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Ve="~~local_forage_type~",be=/^~~local_forage_type~([^~]+)~/,Se="__lfsc__:",Ne=Se.length,Ge="arbf",ht="blob",ln="si08",Kt="ui08",yn="uic8",Yn="si16",to="si32",$o="ur16",Do="ui32",Zs="fl32",us="fl64",Qr=Ne+Ge.length,xs=Object.prototype.toString;function ji(De){var at=De.length*.75,He=De.length,yt,pt=0,ot,Yt,cn,hn;De[De.length-1]==="="&&(at--,De[De.length-2]==="="&&at--);var Sn=new ArrayBuffer(at),mn=new Uint8Array(Sn);for(yt=0;yt<He;yt+=4)ot=Re.indexOf(De[yt]),Yt=Re.indexOf(De[yt+1]),cn=Re.indexOf(De[yt+2]),hn=Re.indexOf(De[yt+3]),mn[pt++]=ot<<2|Yt>>4,mn[pt++]=(Yt&15)<<4|cn>>2,mn[pt++]=(cn&3)<<6|hn&63;return Sn}function Tn(De){var at=new Uint8Array(De),He="",yt;for(yt=0;yt<at.length;yt+=3)He+=Re[at[yt]>>2],He+=Re[(at[yt]&3)<<4|at[yt+1]>>4],He+=Re[(at[yt+1]&15)<<2|at[yt+2]>>6],He+=Re[at[yt+2]&63];return at.length%3===2?He=He.substring(0,He.length-1)+"=":at.length%3===1&&(He=He.substring(0,He.length-2)+"=="),He}function go(De,at){var He="";if(De&&(He=xs.call(De)),De&&(He==="[object ArrayBuffer]"||De.buffer&&xs.call(De.buffer)==="[object ArrayBuffer]")){var yt,pt=Se;De instanceof ArrayBuffer?(yt=De,pt+=Ge):(yt=De.buffer,He==="[object Int8Array]"?pt+=ln:He==="[object Uint8Array]"?pt+=Kt:He==="[object Uint8ClampedArray]"?pt+=yn:He==="[object Int16Array]"?pt+=Yn:He==="[object Uint16Array]"?pt+=$o:He==="[object Int32Array]"?pt+=to:He==="[object Uint32Array]"?pt+=Do:He==="[object Float32Array]"?pt+=Zs:He==="[object Float64Array]"?pt+=us:at(new Error("Failed to get type for BinaryArray"))),at(pt+Tn(yt))}else if(He==="[object Blob]"){var ot=new FileReader;ot.onload=function(){var Yt=Ve+De.type+"~"+Tn(this.result);at(Se+ht+Yt)},ot.readAsArrayBuffer(De)}else try{at(JSON.stringify(De))}catch(Yt){console.error("Couldn't convert value into a JSON string: ",De),at(null,Yt)}}function Ro(De){if(De.substring(0,Ne)!==Se)return JSON.parse(De);var at=De.substring(Qr),He=De.substring(Ne,Qr),yt;if(He===ht&&be.test(at)){var pt=at.match(be);yt=pt[1],at=at.substring(pt[0].length)}var ot=ji(at);switch(He){case Ge:return ot;case ht:return O([ot],{type:yt});case ln:return new Int8Array(ot);case Kt:return new Uint8Array(ot);case yn:return new Uint8ClampedArray(ot);case Yn:return new Int16Array(ot);case $o:return new Uint16Array(ot);case to:return new Int32Array(ot);case Do:return new Uint32Array(ot);case Zs:return new Float32Array(ot);case us:return new Float64Array(ot);default:throw new Error("Unkown type: "+He)}}var ai={serialize:go,deserialize:Ro,stringToBuffer:ji,bufferToString:Tn};function nl(De,at,He,yt){De.executeSql("CREATE TABLE IF NOT EXISTS "+at.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],He,yt)}function Jt(De){var at=this,He={db:null};if(De)for(var yt in De)He[yt]=typeof De[yt]!="string"?De[yt].toString():De[yt];var pt=new B(function(ot,Yt){try{He.db=openDatabase(He.name,String(He.version),He.description,He.size)}catch(cn){return Yt(cn)}He.db.transaction(function(cn){nl(cn,He,function(){at._dbInfo=He,ot()},function(hn,Sn){Yt(Sn)})},Yt)});return He.serializer=ai,pt}function pi(De,at,He,yt,pt,ot){De.executeSql(He,yt,pt,function(Yt,cn){cn.code===cn.SYNTAX_ERR?Yt.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[at.storeName],function(hn,Sn){Sn.rows.length?ot(hn,cn):nl(hn,at,function(){hn.executeSql(He,yt,pt,ot)},ot)},ot):ot(Yt,cn)},ot)}function ds(De,at){var He=this;De=Z(De);var yt=new B(function(pt,ot){He.ready().then(function(){var Yt=He._dbInfo;Yt.db.transaction(function(cn){pi(cn,Yt,"SELECT * FROM "+Yt.storeName+" WHERE key = ? LIMIT 1",[De],function(hn,Sn){var mn=Sn.rows.length?Sn.rows.item(0).value:null;mn&&(mn=Yt.serializer.deserialize(mn)),pt(mn)},function(hn,Sn){ot(Sn)})})}).catch(ot)});return V(yt,at),yt}function jl(De,at){var He=this,yt=new B(function(pt,ot){He.ready().then(function(){var Yt=He._dbInfo;Yt.db.transaction(function(cn){pi(cn,Yt,"SELECT * FROM "+Yt.storeName,[],function(hn,Sn){for(var mn=Sn.rows,So=mn.length,dn=0;dn<So;dn++){var As=mn.item(dn),Zo=As.value;if(Zo&&(Zo=Yt.serializer.deserialize(Zo)),Zo=De(Zo,As.key,dn+1),Zo!==void 0){pt(Zo);return}}pt()},function(hn,Sn){ot(Sn)})})}).catch(ot)});return V(yt,at),yt}function Ws(De,at,He,yt){var pt=this;De=Z(De);var ot=new B(function(Yt,cn){pt.ready().then(function(){at===void 0&&(at=null);var hn=at,Sn=pt._dbInfo;Sn.serializer.serialize(at,function(mn,So){So?cn(So):Sn.db.transaction(function(dn){pi(dn,Sn,"INSERT OR REPLACE INTO "+Sn.storeName+" (key, value) VALUES (?, ?)",[De,mn],function(){Yt(hn)},function(As,Zo){cn(Zo)})},function(dn){if(dn.code===dn.QUOTA_ERR){if(yt>0){Yt(Ws.apply(pt,[De,hn,He,yt-1]));return}cn(dn)}})})}).catch(cn)});return V(ot,He),ot}function ei(De,at,He){return Ws.apply(this,[De,at,He,1])}function Rm(De,at){var He=this;De=Z(De);var yt=new B(function(pt,ot){He.ready().then(function(){var Yt=He._dbInfo;Yt.db.transaction(function(cn){pi(cn,Yt,"DELETE FROM "+Yt.storeName+" WHERE key = ?",[De],function(){pt()},function(hn,Sn){ot(Sn)})})}).catch(ot)});return V(yt,at),yt}function ju(De){var at=this,He=new B(function(yt,pt){at.ready().then(function(){var ot=at._dbInfo;ot.db.transaction(function(Yt){pi(Yt,ot,"DELETE FROM "+ot.storeName,[],function(){yt()},function(cn,hn){pt(hn)})})}).catch(pt)});return V(He,De),He}function Ac(De){var at=this,He=new B(function(yt,pt){at.ready().then(function(){var ot=at._dbInfo;ot.db.transaction(function(Yt){pi(Yt,ot,"SELECT COUNT(key) as c FROM "+ot.storeName,[],function(cn,hn){var Sn=hn.rows.item(0).c;yt(Sn)},function(cn,hn){pt(hn)})})}).catch(pt)});return V(He,De),He}function wl(De,at){var He=this,yt=new B(function(pt,ot){He.ready().then(function(){var Yt=He._dbInfo;Yt.db.transaction(function(cn){pi(cn,Yt,"SELECT key FROM "+Yt.storeName+" WHERE id = ? LIMIT 1",[De+1],function(hn,Sn){var mn=Sn.rows.length?Sn.rows.item(0).key:null;pt(mn)},function(hn,Sn){ot(Sn)})})}).catch(ot)});return V(yt,at),yt}function Zu(De){var at=this,He=new B(function(yt,pt){at.ready().then(function(){var ot=at._dbInfo;ot.db.transaction(function(Yt){pi(Yt,ot,"SELECT key FROM "+ot.storeName,[],function(cn,hn){for(var Sn=[],mn=0;mn<hn.rows.length;mn++)Sn.push(hn.rows.item(mn).key);yt(Sn)},function(cn,hn){pt(hn)})})}).catch(pt)});return V(He,De),He}function Ds(De){return new B(function(at,He){De.transaction(function(yt){yt.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(pt,ot){for(var Yt=[],cn=0;cn<ot.rows.length;cn++)Yt.push(ot.rows.item(cn).name);at({db:De,storeNames:Yt})},function(pt,ot){He(ot)})},function(yt){He(yt)})})}function ho(De,at){at=ee.apply(this,arguments);var He=this.config();De=typeof De!="function"&&De||{},De.name||(De.name=De.name||He.name,De.storeName=De.storeName||He.storeName);var yt=this,pt;return De.name?pt=new B(function(ot){var Yt;De.name===He.name?Yt=yt._dbInfo.db:Yt=openDatabase(De.name,"","",0),De.storeName?ot({db:Yt,storeNames:[De.storeName]}):ot(Ds(Yt))}).then(function(ot){return new B(function(Yt,cn){ot.db.transaction(function(hn){function Sn(As){return new B(function(Zo,es){hn.executeSql("DROP TABLE IF EXISTS "+As,[],function(){Zo()},function(Lr,Po){es(Po)})})}for(var mn=[],So=0,dn=ot.storeNames.length;So<dn;So++)mn.push(Sn(ot.storeNames[So]));B.all(mn).then(function(){Yt()}).catch(function(As){cn(As)})},function(hn){cn(hn)})})}):pt=B.reject("Invalid arguments"),V(pt,at),pt}var Zl={_driver:"webSQLStorage",_initStorage:Jt,_support:xe(),iterate:jl,getItem:ds,setItem:ei,removeItem:Rm,clear:ju,length:Ac,key:wl,keys:Zu,dropInstance:ho};function Ii(){try{return typeof localStorage<"u"&&"setItem"in localStorage&&!!localStorage.setItem}catch{return!1}}function Gu(De,at){var He=De.name+"/";return De.storeName!==at.storeName&&(He+=De.storeName+"/"),He}function fn(){var De="_localforage_support_test";try{return localStorage.setItem(De,!0),localStorage.removeItem(De),!1}catch{return!0}}function qu(){return!fn()||localStorage.length>0}function Im(De){var at=this,He={};if(De)for(var yt in De)He[yt]=De[yt];return He.keyPrefix=Gu(De,at._defaultConfig),qu()?(at._dbInfo=He,He.serializer=ai,B.resolve()):B.reject()}function hr(De){var at=this,He=at.ready().then(function(){for(var yt=at._dbInfo.keyPrefix,pt=localStorage.length-1;pt>=0;pt--){var ot=localStorage.key(pt);ot.indexOf(yt)===0&&localStorage.removeItem(ot)}});return V(He,De),He}function Dm(De,at){var He=this;De=Z(De);var yt=He.ready().then(function(){var pt=He._dbInfo,ot=localStorage.getItem(pt.keyPrefix+De);return ot&&(ot=pt.serializer.deserialize(ot)),ot});return V(yt,at),yt}function ol(De,at){var He=this,yt=He.ready().then(function(){for(var pt=He._dbInfo,ot=pt.keyPrefix,Yt=ot.length,cn=localStorage.length,hn=1,Sn=0;Sn<cn;Sn++){var mn=localStorage.key(Sn);if(mn.indexOf(ot)===0){var So=localStorage.getItem(mn);if(So&&(So=pt.serializer.deserialize(So)),So=De(So,mn.substring(Yt),hn++),So!==void 0)return So}}});return V(yt,at),yt}function Fl(De,at){var He=this,yt=He.ready().then(function(){var pt=He._dbInfo,ot;try{ot=localStorage.key(De)}catch{ot=null}return ot&&(ot=ot.substring(pt.keyPrefix.length)),ot});return V(yt,at),yt}function Cl(De){var at=this,He=at.ready().then(function(){for(var yt=at._dbInfo,pt=localStorage.length,ot=[],Yt=0;Yt<pt;Yt++){var cn=localStorage.key(Yt);cn.indexOf(yt.keyPrefix)===0&&ot.push(cn.substring(yt.keyPrefix.length))}return ot});return V(He,De),He}function lr(De){var at=this,He=at.keys().then(function(yt){return yt.length});return V(He,De),He}function Aa(De,at){var He=this;De=Z(De);var yt=He.ready().then(function(){var pt=He._dbInfo;localStorage.removeItem(pt.keyPrefix+De)});return V(yt,at),yt}function $l(De,at,He){var yt=this;De=Z(De);var pt=yt.ready().then(function(){at===void 0&&(at=null);var ot=at;return new B(function(Yt,cn){var hn=yt._dbInfo;hn.serializer.serialize(at,function(Sn,mn){if(mn)cn(mn);else try{localStorage.setItem(hn.keyPrefix+De,Sn),Yt(ot)}catch(So){(So.name==="QuotaExceededError"||So.name==="NS_ERROR_DOM_QUOTA_REACHED")&&cn(So),cn(So)}})})});return V(pt,He),pt}function Pm(De,at){if(at=ee.apply(this,arguments),De=typeof De!="function"&&De||{},!De.name){var He=this.config();De.name=De.name||He.name,De.storeName=De.storeName||He.storeName}var yt=this,pt;return De.name?pt=new B(function(ot){De.storeName?ot(Gu(De,yt._defaultConfig)):ot(De.name+"/")}).then(function(ot){for(var Yt=localStorage.length-1;Yt>=0;Yt--){var cn=localStorage.key(Yt);cn.indexOf(ot)===0&&localStorage.removeItem(cn)}}):pt=B.reject("Invalid arguments"),V(pt,at),pt}var nu={_driver:"localStorageWrapper",_initStorage:Im,_support:Ii(),iterate:ol,getItem:Dm,setItem:$l,removeItem:Aa,clear:hr,length:lr,key:Fl,keys:Cl,dropInstance:Pm},ou=function(at,He){return at===He||typeof at=="number"&&typeof He=="number"&&isNaN(at)&&isNaN(He)},Sf=function(at,He){for(var yt=at.length,pt=0;pt<yt;){if(ou(at[pt],He))return!0;pt++}return!1},Fd=Array.isArray||function(De){return Object.prototype.toString.call(De)==="[object Array]"},fs={},Nr={},li={INDEXEDDB:tt,WEBSQL:Zl,LOCALSTORAGE:nu},Nm=[li.INDEXEDDB._driver,li.WEBSQL._driver,li.LOCALSTORAGE._driver],sl=["dropInstance"],su=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(sl),Ta={description:"",driver:Nm.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function Oa(De,at){De[at]=function(){var He=arguments;return De.ready().then(function(){return De[at].apply(De,He)})}}function ru(){for(var De=1;De<arguments.length;De++){var at=arguments[De];if(at)for(var He in at)at.hasOwnProperty(He)&&(Fd(at[He])?arguments[0][He]=at[He].slice():arguments[0][He]=at[He])}return arguments[0]}var Ms=function(){function De(at){x(this,De);for(var He in li)if(li.hasOwnProperty(He)){var yt=li[He],pt=yt._driver;this[He]=pt,fs[pt]||this.defineDriver(yt)}this._defaultConfig=ru({},Ta),this._config=ru({},this._defaultConfig,at),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return De.prototype.config=function(He){if((typeof He>"u"?"undefined":h(He))==="object"){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var yt in He){if(yt==="storeName"&&(He[yt]=He[yt].replace(/\W/g,"_")),yt==="version"&&typeof He[yt]!="number")return new Error("Database version must be a number.");this._config[yt]=He[yt]}return"driver"in He&&He.driver?this.setDriver(this._config.driver):!0}else return typeof He=="string"?this._config[He]:this._config},De.prototype.defineDriver=function(He,yt,pt){var ot=new B(function(Yt,cn){try{var hn=He._driver,Sn=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!He._driver){cn(Sn);return}for(var mn=su.concat("_initStorage"),So=0,dn=mn.length;So<dn;So++){var As=mn[So],Zo=!Sf(sl,As);if((Zo||He[As])&&typeof He[As]!="function"){cn(Sn);return}}var es=function(){for(var Gl=function(Er){return function(){var kf=new Error("Method "+Er+" is not implemented by the current driver"),ti=B.reject(kf);return V(ti,arguments[arguments.length-1]),ti}},Ra=0,yo=sl.length;Ra<yo;Ra++){var rl=sl[Ra];He[rl]||(He[rl]=Gl(rl))}};es();var Lr=function(Gl){fs[hn]&&console.info("Redefining LocalForage driver: "+hn),fs[hn]=He,Nr[hn]=Gl,Yt()};"_support"in He?He._support&&typeof He._support=="function"?He._support().then(Lr,cn):Lr(!!He._support):Lr(!0)}catch(Po){cn(Po)}});return z(ot,yt,pt),ot},De.prototype.driver=function(){return this._driver||null},De.prototype.getDriver=function(He,yt,pt){var ot=fs[He]?B.resolve(fs[He]):B.reject(new Error("Driver not found."));return z(ot,yt,pt),ot},De.prototype.getSerializer=function(He){var yt=B.resolve(ai);return z(yt,He),yt},De.prototype.ready=function(He){var yt=this,pt=yt._driverSet.then(function(){return yt._ready===null&&(yt._ready=yt._initDriver()),yt._ready});return z(pt,He,He),pt},De.prototype.setDriver=function(He,yt,pt){var ot=this;Fd(He)||(He=[He]);var Yt=this._getSupportedDrivers(He);function cn(){ot._config.driver=ot.driver()}function hn(So){return ot._extend(So),cn(),ot._ready=ot._initStorage(ot._config),ot._ready}function Sn(So){return function(){var dn=0;function As(){for(;dn<So.length;){var Zo=So[dn];return dn++,ot._dbInfo=null,ot._ready=null,ot.getDriver(Zo).then(hn).catch(As)}cn();var es=new Error("No available storage method found.");return ot._driverSet=B.reject(es),ot._driverSet}return As()}}var mn=this._driverSet!==null?this._driverSet.catch(function(){return B.resolve()}):B.resolve();return this._driverSet=mn.then(function(){var So=Yt[0];return ot._dbInfo=null,ot._ready=null,ot.getDriver(So).then(function(dn){ot._driver=dn._driver,cn(),ot._wrapLibraryMethodsWithReady(),ot._initDriver=Sn(Yt)})}).catch(function(){cn();var So=new Error("No available storage method found.");return ot._driverSet=B.reject(So),ot._driverSet}),z(this._driverSet,yt,pt),this._driverSet},De.prototype.supports=function(He){return!!Nr[He]},De.prototype._extend=function(He){ru(this,He)},De.prototype._getSupportedDrivers=function(He){for(var yt=[],pt=0,ot=He.length;pt<ot;pt++){var Yt=He[pt];this.supports(Yt)&&yt.push(Yt)}return yt},De.prototype._wrapLibraryMethodsWithReady=function(){for(var He=0,yt=su.length;He<yt;He++)Oa(this,su[He])},De.prototype.createInstance=function(He){return new De(He)},De}(),cr=new Ms;u.exports=cr},{3:3}]},{},[4])(4)})}(tU)),tU.exports}var u0e=c0e();const d0e=QW(u0e);function Ku(t){return d0e.createInstance({name:"xlas-assessment-corrector",storeName:t})}const Td=Ku("changes");function f0e(){const t={changes:{},lastSave:0,lastSendingSuccess:0};for(const r of ps.STORED_TYPES)t.changes[r]={};return t}const m0e=tu("changes",{state:()=>f0e(),getters:{countChanges(t){let r=0;for(const i of ps.STORED_TYPES)r+=Object.keys(t.changes[i]).length;return r},getChangesCount(t){return function(i){return Object.keys(t.changes[i]??[]).length}},getChangesFor(t){return function(i,u=0){if(!ps.STORED_TYPES.includes(i))return[];const g=[];for(const h in t.changes[i]){const x=t.changes[i][h];(u==0||x.last_change<=u)&&g.push(x)}return g}},getChangeDataToSend(t){return function(i,u=null){const g=i.getData();return u&&(g.payload=u),g.last_change=Te.api().getServerTime(i.last_change),g}}},actions:{async clearStorage(){try{this.$reset(),await Td.clear()}catch(t){console.log(t)}},async loadFromStorage(){this.$reset();try{for(const t in this.changes){const r=await Td.getItem(t)??[];for(const i of r){const u=await Td.getItem(ps.buildChangeKey(t,i)),g=JSON.parse(u);typeof g=="object"&&g!==null&&(this.changes[t][i]=new ps(g))}}this.lastSave=parseInt(await Td.getItem("lastSave")),this.lastSendingSuccess=parseInt(await Td.getItem("lastSendingSuccess"))}catch(t){console.log(t)}},async setChange(t){t.isValid()&&(this.changes[t.type][t.key]=t,await Td.setItem(t.getChangeKey(),JSON.stringify(t.getData())),await Td.setItem(t.type,Object.keys(this.changes[t.type])),this.lastSave=Date.now(),await Td.setItem("lastSave",this.lastSave))},async unsetChange(t){t.isValid()&&(delete this.changes[t.type][t.key],await Td.removeItem(t.getChangeKey()),await Td.setItem(t.type,Object.keys(this.changes[t.type])),this.lastSave=Date.now(),await Td.setItem("lastSave",this.lastSave))},async setChangesSent(t,r=[],i){let u=!1;if(this.changes[t])for(const g of r){const h=new l0e(g),x=this.changes[t][h.key];x&&h.done&&x.last_change<=i&&(delete this.changes[t][h.key],await Td.removeItem(x.getChangeKey()),u=!0)}u&&(this.lastSave=Date.now(),await Td.setItem(t,Object.keys(this.changes[t])),await Td.setItem("lastSave",this.lastSave)),this.lastSendingSuccess=Date.now(),await Td.setItem("lastSendingSuccess",this.lastSendingSuccess)}}});class gR{constructor(r={}){wt(this,"x",0);wt(this,"y",0);r.x!==void 0&&r.x!==null&&(this.x=parseInt(r.x)),r.y!==void 0&&r.y!==null&&(this.y=parseInt(r.y))}getData(){return{x:this.x,y:this.y}}}const ka=class ka{constructor(r={}){wt(this,"key","");wt(this,"shape","");wt(this,"pos",new gR(0,0));wt(this,"end",new gR(0,0));wt(this,"width",0);wt(this,"height",0);wt(this,"polygon",[]);wt(this,"symbol","");this.setData(r)}setData(r){if(r.key!==void 0&&r.key!==null&&(this.key=r.key),r.shape!==void 0&&ka.ALLOWED_SHAPES.includes(r.shape)&&(this.shape=r.shape.toString()),r.pos!==void 0&&r.pos!==null&&(this.pos=new gR(r.pos)),r.end!==void 0&&r.end!==null&&(this.end=new gR(r.end)),r.width!==void 0&&r.width!==null&&(this.width=parseInt(r.width)),r.height!==void 0&&r.height!==null&&(this.height=parseInt(r.height)),r.polygon!==void 0&&Array.isArray(r.polygon))for(const i of r.polygon)this.polygon.push(new gR(i));r.symbol!==void 0&&r.symbol!==null&&(this.symbol=r.symbol.toString())}getData(){let r=[];for(const i of this.polygon)r.push(i.getData());return{key:this.key,shape:this.shape,pos:this.pos.getData(),end:this.end.getData(),width:this.width,height:this.height,polygon:r,symbol:this.symbol}}getIcon(){switch(this.shape){case ka.SHAPE_LINE:return"mdi-minus";case ka.SHAPE_WAVE:return"mdi-wave";case ka.SHAPE_RECTANGLE:return"mdi-rectangle-outline";case ka.SHAPE_POLYGON:return"mdi-vector-triangle";case ka.SHAPE_CIRCLE:switch(this.symbol){case ka.SYMBOL_CHECK:return"mdi-check";case ka.SYMBOL_CROSS:return"mdi-close";case ka.SYMBOL_QUESTION:return"mdi-help"}}return""}};wt(ka,"SHAPE_CIRCLE","circle"),wt(ka,"SHAPE_RECTANGLE","rectangle"),wt(ka,"SHAPE_POLYGON","polygon"),wt(ka,"SHAPE_LINE","line"),wt(ka,"SHAPE_WAVE","wave"),wt(ka,"ALLOWED_SHAPES",[ka.SHAPE_CIRCLE,ka.SHAPE_RECTANGLE,ka.SHAPE_POLYGON,ka.SHAPE_LINE,ka.SHAPE_WAVE]),wt(ka,"SYMBOL_CHECK",""),wt(ka,"SYMBOL_CROSS",""),wt(ka,"SYMBOL_QUESTION","?");let wm=ka;const xm=class xm{constructor(r={}){wt(this,"key","");wt(this,"item_key","");wt(this,"correction_key","");wt(this,"task_id",null);wt(this,"writer_id",null);wt(this,"corrector_id",null);wt(this,"start_position",0);wt(this,"end_position",0);wt(this,"parent_number",0);wt(this,"comment","");wt(this,"rating_excellent",!1);wt(this,"rating_cardinal",!1);wt(this,"label","");wt(this,"prefix","");wt(this,"marks",[]);wt(this,"deleted",!1);if(r.key!==void 0&&r.key!==null&&(this.key=r.key.toString()),r.task_id!==void 0&&r.task_id!==null&&(this.task_id=parseInt(r.task_id)),r.task_id!==void 0&&r.task_id!==null&&(this.task_id=parseInt(r.task_id)),r.writer_id!==void 0&&r.writer_id!==null&&(this.writer_id=parseInt(r.writer_id)),r.corrector_id!==void 0&&r.corrector_id!==null&&(this.corrector_id=parseInt(r.corrector_id)),r.start_position!==void 0&&r.start_position!==null&&(this.start_position=parseInt(r.start_position)),r.end_position!==void 0&&r.end_position!==null&&(this.end_position=parseInt(r.end_position)),r.parent_number!==void 0&&r.parent_number!==null&&(this.parent_number=parseInt(r.parent_number)),r.comment!==void 0&&r.comment!==null&&(this.comment=r.comment.toString()),r.rating==xm.RAITNG_EXCELLENT?this.rating_excellent=!0:r.rating==xm.RATING_CARDINAL&&(this.rating_cardinal=!0),r.marks!==void 0&&Array.isArray(r.marks))for(const i of r.marks)this.addMarkData(i);!this.key&&this.corrector_id&&(this.key=xm.newKey(this.corrector_id)),!this.item_key&&this.task_id&&this.writer_id&&(this.item_key=hi.buildKey(this.task_id,this.writer_id)),!this.correction_key&&this.task_id&&this.writer_id&&this.corrector_id&&(this.correction_key=Ui.buildKey(this.task_id,this.writer_id,this.corrector_id))}static order(r,i){return r.parent_number<i.parent_number?-1:r.parent_number>i.parent_number?1:r.start_position<i.start_position?-1:r.start_position>i.start_position?1:0}static newKey(r){return"C"+r+"_"+Math.random().toString()}setCorrectionKey(r){this.correction_key=r,this.task_id=Ui.extractTaskId(this.correction_key),this.writer_id=Ui.extractWriterId(this.correction_key),this.corrector_id=Ui.extractCorrectorId(this.correction_key),this.item_key=hi.buildKey(this.task_id,this.writer_id),this.key=xm.newKey(this.corrector_id)}addMarkData(r){this.marks.push(new wm(r)),this.calculateStartPositon()}updateMarkData(r){for(const i of this.marks)i.key==r.key&&i.setData(r);this.calculateStartPositon()}getMarkIcon(){for(const r of this.marks)return r.getIcon();return null}getMarkByKey(r){for(const i of this.marks)if(i.key==r)return i;return null}getMarkColor(r){const i=r.shape==wm.SHAPE_CIRCLE||r.shape==wm.SHAPE_POLYGON||r.shape==wm.SHAPE_RECTANGLE;return this.prefix=="own"?this.rating_excellent?i?"#E3EFDD80":"#19e62e":this.rating_cardinal?i?"#FBDED180":"#bc4710":i?"#D8E5F480":"#3365ff":this.rating_excellent?i?"#F7F9F780":"#19e62e":this.rating_cardinal?i?"#FCF6F480":"#bc4710":i?"#F5F7FB80":"#3365ff"}getMarkSelectedColor(r){const i=r.shape==wm.SHAPE_CIRCLE||r.shape==wm.SHAPE_POLYGON||r.shape==wm.SHAPE_RECTANGLE;return this.rating_excellent?i?"#BBEBA5A0":"#19e62e":this.rating_cardinal?i?"#FCB494A0":"#bc4710":i?"#94C3FCA0":"#3365ff"}calculateStartPositon(){let r=null;for(const i of this.marks)(r===null||i.pos.y>r)&&(r=i.pos.y);r!==null&&(this.start_position=r)}hasMarkKey(r){for(const i of this.marks)if(i.key==r)return!0;return!1}getData(){let r=[];for(const i of this.marks)r.push(i.getData());return{key:this.key,item_key:this.item_key,correction_key:this.correction_key,task_id:this.task_id,writer_id:this.writer_id,corrector_id:this.corrector_id,start_position:this.start_position,end_position:this.end_position,parent_number:this.parent_number,comment:this.comment,rating:this.rating_excellent?xm.RAITNG_EXCELLENT:this.rating_cardinal?xm.RATING_CARDINAL:"",marks:r}}};wt(xm,"RATING_CARDINAL","cardinal"),wt(xm,"RAITNG_EXCELLENT","excellent"),wt(xm,"ALLOWED_RATING",[xm.RATING_CARDINAL,xm.RAITNG_EXCELLENT]);let OC=xm;const Pu=Ku("comments"),g0e=tu("comments",{state:()=>({keys:[],comments:[],showOtherCorrections:!0,markerChange:0,selectionChange:0,filterChange:0,caretRequest:0,selectedKey:"",firstVisibleKey:"",filterKeys:[]}),getters:{selectedComment(t){return t.getComment(t.selectedKey)},selectedLabel(t){let r=t.getComment(t.selectedKey);return r?r.label:""},activeComments(t){return Te.api(),t.comments.filter(r=>(t.showOtherCorrections||r.correction_key==Te.corrections().ownKey)&&(t.filterKeys.length==0||t.filterKeys.includes(r.key)))},isOtherCorrectionsShown(t){return t.showOtherCorrections},isFilterActive(t){return t.filterKeys.length>0},getComment(t){return function(i){return t.comments.find(u=>u.key==i)}},getCommentByMarkKey(t){return function(i){return t.comments.find(u=>u.hasMarkKey(i))}},getActiveCommentsInRange(t){return function(i,u){return t.activeComments.filter(g=>g.start_position<=u&&g.end_position>=i)}},getActiveCommentsByStartPosition(t){return function(i){return t.activeComments.filter(u=>u.start_position==i)}},getActiveCommentsByParentNumber(t){return function(i){return t.activeComments.filter(u=>u.parent_number==i)}},getCountOfExcellent(t){return function(i){return t.comments.filter(u=>u.correction_key==i&&u.rating_excellent).length}},getCountOfCardinal(t){return function(i){return t.comments.filter(u=>u.correction_key==i&&u.rating_cardinal).length}}},actions:{setFirstVisibleComment(t){this.firstVisibleKey=t},setMarkerChange(){this.markerChange=Date.now()},setFilterChange(){this.filterChange=Date.now()},setCaretRequest(){this.caretRequest=Date.now()},selectComment(t,r=!0){this.selectedKey=t,r&&(this.selectionChange=Date.now())},async createComment(t,r,i){let u=new OC({start_position:t,end_position:r,parent_number:i});return await this.addComment(u),u.key},async addComment(t){const r=Te.corrections(),i=Te.changes();return t.setCorrectionKey(r.ownKey),this.keys.push(t.key),this.filterKeys.length>0&&(this.filterKeys.push(t.key),this.setFilterChange()),this.comments.push(t),await this.sortAndLabelComments(),this.setMarkerChange(),this.selectComment(t.key,!0),await Pu.setItem(t.key,JSON.stringify(t.getData())),await Pu.setItem("keys",JSON.stringify(this.keys)),await i.setChange(new ps({type:ps.TYPE_COMMENT,action:ps.ACTION_SAVE,key:t.key,item_key:t.item_key})),t.key},async updateComment(t,r=!1){Te.api();const i=Te.summaries(),u=Te.changes();this.keys.includes(t.key)&&t.correction_key==Te.corrections().ownKey&&!i.isOwnDisabled&&(await Pu.setItem(t.key,JSON.stringify(t.getData())),await u.setChange(new ps({type:ps.TYPE_COMMENT,action:ps.ACTION_SAVE,key:t.key,item_key:t.item_key})),r&&(await this.sortAndLabelComments(),this.setMarkerChange()))},async deleteComment(t){await this.removeComment(t),await this.sortAndLabelComments(),this.setMarkerChange()},async removeComment(t){const r=Te.changes();await Te.points().deletePointsOfComment(t),this.selectedKey==t&&this.selectComment("",!0);const u=this.comments.find(h=>h.key==t);this.comments=this.comments.filter(h=>h.key!=t),this.keys.includes(t)&&(this.keys=this.keys.filter(h=>h!=t),await Pu.setItem("keys",JSON.stringify(this.keys)),await Pu.removeItem(t));const g=new ps({type:ps.TYPE_COMMENT,action:ps.ACTION_DELETE,key:u.key,item_key:u.item_key,payload:u.getData()});await r.setChange(g)},async sortAndLabelComments(){Te.api();const t=Te.corrections();this.comments=this.comments.sort(OC.order);let r=0,i={};for(const u of this.comments){const g=t.getCorrection(u.correction_key),h=g?g.initials:"??";if(u.parent_number>r){r=u.parent_number;for(const x of t.correctionKeys)i[x]=0;i[u.correction_key]=1}else i[u.correction_key]++;u.label=h+" "+r.toString()+"."+i[u.correction_key].toString(),u.prefix=u.correction_key==Te.corrections().ownKey?"own":"other"}},setFilterByRating(t,r,i){this.filterKeys=[];for(const u of this.comments)u.correction_key==t&&u.rating_excellent==r&&u.rating_cardinal==i&&this.filterKeys.push(u.key);this.setFilterChange()},setFilterByPoints(t){const r=Te.points();this.filterKeys=[];for(const i of this.comments)i.correction_key==t&&r.getCommentHasPoints(i.key)&&this.filterKeys.push(i.key);this.setFilterChange()},setFilterByCriterion(t,r){const i=Te.points();this.filterKeys=[];for(const u of this.comments)u.correction_key==t&&i.getCommentHasPointsForCriterion(u.key,r)&&this.filterKeys.push(u.key);this.setFilterChange()},resetFilter(){this.filterKeys=[],this.setFilterChange()},async setShowOtherCorrections(t){this.showOtherCorrections=!!t,this.markerChange=Date.now(),await Pu.setItem("showOtherCorrections",JSON.stringify(this.showOtherCorrections))},async clearStorage(){try{await Pu.clear()}catch(t){console.log(t)}this.$reset()},async loadFromStorage(){const t=Te.api();try{this.$reset();const r=await Pu.getItem("keys");r&&(this.keys=JSON.parse(r)),this.showOtherCorrections=!!JSON.parse(await Pu.getItem("showOtherCorrections"));for(const i of this.keys){const u=new OC(JSON.parse(await Pu.getItem(i)));u.item_key==t.itemKey&&this.comments.push(u)}await this.sortAndLabelComments()}catch(r){console.log(r)}},async loadFromBackend(t){const r=Te.api();try{this.$reset(),this.showOtherCorrections=!!JSON.parse(await Pu.getItem("showOtherCorrections")),await Pu.clear();for(const i of t){const u=new OC(i);this.keys.push(u.key),await Pu.setItem(u.key,JSON.stringify(u.getData())),u.item_key==r.itemKey&&this.comments.push(u)}await this.sortAndLabelComments(),await Pu.setItem("keys",JSON.stringify(this.keys)),await Pu.setItem("showOtherCorrections",JSON.stringify(this.showOtherCorrections))}catch(i){console.log(i)}},async getChangedData(t=0){const r=Te.changes(),i=[];for(const u of r.getChangesFor(ps.TYPE_COMMENT,t)){const g=await Pu.getItem(u.key);g?i.push(r.getChangeDataToSend(u,JSON.parse(g))):i.push(r.getChangeDataToSend(u))}return i}}}),eE=Ku("corrections"),{t:_ke}=Em.global,h0e=tu("corrections",{state:()=>({corrections:{},ownKey:""}),getters:{allCorrections(t){return Object.values(t.corrections)},sortedCorrections(t){return t.allCorrections.sort(Ui.order)},countCorrections(t){return t.allCorrections.length},correctionKeys(t){return Object.keys(t.corrections)},firstCorrection(t){return t.allCorrections.find(r=>r.position==Ui.POSITION_FIRST)??null},secondCorrection(t){return t.allCorrections.find(r=>r.position==Ui.POSITION_SECOND)??null},stitchCorrection(t){return t.allCorrections.find(r=>r.position==Ui.POSITION_STITCH)??null},ownCorrection(t){return t.allCorrections.find(r=>r.key==t.ownKey)??null},firstOtherCorrection(t){return t.allCorrections.sort(Ui.order).find(r=>r.key!=t.ownKey)??null},otherCorrections(t){return t.allCorrections.filter(r=>r.key!=t.ownKey).sort(Ui.order)},getCorrection(t){return function(i){return t.corrections[i]}}},actions:{async clearStorage(){try{await eE.clear(),this.$reset()}catch(t){console.log(t)}},async loadFromStorage(){try{this.$reset();const t=await eE.getItem("keys")??[];for(const r of t)this.corrections[r]=new Ui(await eE.getItem(r));this.updateOwnKey()}catch(t){console.log(t)}},async loadFromBackend(t=[]){try{await eE.clear(),this.$reset();for(const r of t){const i=new Ui(r);this.corrections[i.getKey()]=i,await eE.setItem(i.getKey(),i.getData())}await eE.setItem("keys",Object.keys(this.corrections)),this.updateOwnKey()}catch(r){console.log(r)}},updateOwnKey(){const t=Te.api();for(const r of Object.values(this.corrections))if(r.item_key==t.itemKey&&r.user_id==parseInt(t.userId)){this.ownKey=r.key;break}}}});class EE{constructor(r={}){wt(this,"key","");wt(this,"id",null);wt(this,"task_id",null);wt(this,"corrector_id",null);wt(this,"title","");wt(this,"description","");wt(this,"points",0);wt(this,"is_general",!1);r.id!==void 0&&r.id!==null&&(this.id=parseInt(r.id)),r.task_id!==void 0&&r.task_id!==null&&(this.task_id=parseInt(r.task_id)),r.corrector_id!==void 0&&r.corrector_id!==null&&(this.corrector_id=parseInt(r.corrector_id)),r.title!==void 0&&r.title!==null&&(this.title=r.title.toString()),r.description!==void 0&&r.description!==null&&(this.description=r.description.toString()),r.points!==void 0&&r.points!==null&&(this.points=parseInt(r.points)),r.is_general!==void 0&&r.is_general!==null&&(this.is_general=!!r.is_general),this.key=EE.buildKey(this.id)}static order(r,i){return r.title<i.title?-1:r.title>i.title?1:0}static buildKey(r){return"C"+r}static extractCriterionId(r){return parseInt(r.substring(1))}getKey(){return this.key}getData(){return Object.assign({},this)}}const tE=Ku("criteria"),p0e=tu("criteria",{state:()=>({criteria:{}}),getters:{allCriteria(t){return Object.values(t.criteria)},ownCriteria(t){const r=Te.corrections().ownCorrection;return r?t.allCriteria.filter(i=>i.task_id===r.task_id&&(i.corrector_id===null||i.corrector_id===r.corrector_id)):[]},hasCommentCriteria(t){return!!t.allCriteria.find(r=>!r.is_general)},hasOwnCriteria(t){return!!t.ownCriteria},hasOwnGeneralCriteria(t){return!!t.ownCriteria.find(r=>r.is_general)},hasOwnCommentCriteria(t){return!!t.ownCriteria.find(r=>!r.is_general)},getCorrectionCriteria(t){return function(i){const u=Ui.extractTaskId(i),g=Ui.extractCorrectorId(i);return t.allCriteria.filter(h=>h.task_id===u&&(h.corrector_id===null||h.corrector_id===g))}},getCorrectionGeneralCriteria(t){return function(i){return t.getCorrectionCriteria(i).filter(u=>u.is_general)}},getCorrectionCommentCriteria(t){return function(i){return t.getCorrectionCriteria(i).filter(u=>!u.is_general)}},getCorrectionHasCriteria(t){return function(i){return!!t.getCorrectionCriteria(i)}},getCorrectionHasGeneralCriteria(t){return function(i){return!!t.getCorrectionGeneralCriteria(i)}},getCorrectionHasCommentCriteria(t){return function(i){return!!t.getCorrectionCommentCriteria(i)}}},actions:{async clearStorage(){try{this.$reset(),await tE.clear()}catch(t){console.log(t)}},async loadFromStorage(){try{this.$reset();const t=await tE.getItem("keys")??[];for(const r of t)this.criteria[r]=new EE(await tE.getItem(r))}catch(t){console.log(t)}},async loadFromBackend(t=[]){try{await tE.clear(),this.$reset();for(const r of t){const i=new EE(r);this.criteria[i.getKey()]=i,await tE.setItem(i.getKey(),i.getData())}await tE.setItem("keys",Object.keys(this.criteria))}catch(r){console.log(r)}}}}),nU=Ku("essay"),b0e=tu("essay",{state:()=>({text:null}),getters:{},actions:{async clearStorage(){try{await nU.clear(),this.$reset()}catch(t){console.log(t)}},async loadFromStorage(){try{const t=await nU.getItem("essay");this.$patch(t)}catch(t){console.log(t)}},async loadFromBackend(t){try{await nU.setItem("essay",t),this.$patch(t)}catch(r){console.log(r)}}}}),ox=Ku("items"),v0e=tu("items",{state:()=>({items:{},firstKey:null,lastKey:null,previousKey:null,nextKey:null}),getters:{currentKey(t){return Te.api().itemKey},currentItem(t){return t.items[Te.api().itemKey]},countItems(t){return Object.keys(t.items).length},hasItems(t){return t.countItems>0},sortedItems(t){if(Te.api().itemKey){const r=hi.extractTaskId(Te.api().itemKey);return Object.values(t.items).filter(i=>i.task_id==r).toSorted(hi.order)}else return Object.values(t.items).toSorted(hi.order)},canAct(t){return t.canCorrect||t.canAuthorize||t.canRevise},canCorrect(t){var r;return(r=t.currentItem)==null?void 0:r.can_correct},canAuthorize(t){var r;return(r=t.currentItem)==null?void 0:r.can_authorize},canRevise(t){var r;return(r=t.currentItem)==null?void 0:r.can_revise},isOpen(t){var r;return((r=t.currentItem)==null?void 0:r.correction_status)===hi.STATUS_OPEN},isInRevision(t){var r,i;return((r=t.currentItem)==null?void 0:r.correction_status)===hi.STATUS_APPROXIMATION||((i=t.currentItem)==null?void 0:i.correction_status)===hi.STATUS_CONSULTING},isInStitch(t){var r;return((r=t.currentItem)==null?void 0:r.correction_status)===hi.STATUS_STITCH},isFinal(t){var r;return((r=t.currentItem)==null?void 0:r.correction_status)===hi.STATUS_FINALIZED},getItem(t){return function(i,u=null){return t.items[i]??u}},getByTask(t){return function(i){const u=Object.values(t.items).find(g=>{var h;return g.getTaskKey()==i&&g.writer_id==((h=t.currentItem)==null?void 0:h.writer_id)});return u||Object.values(t.items).toSorted(hi.order).find(g=>g.getTaskKey()==i)}}},actions:{async clearStorage(){try{this.$reset(),await ox.clear()}catch(t){console.log(t)}},async loadFromStorage(){try{this.$reset();const t=await ox.getItem("keys")??[];for(const r of t)this.items[r]=new hi(await ox.getItem(r));this.updateCurrentKeys()}catch(t){console.log(t)}},async loadFromBackend(t=[]){try{await ox.clear(),this.$reset();for(const r of t){const i=new hi(r);this.items[i.getKey()]=i,await ox.setItem(i.getKey(),i.getData())}await ox.setItem("keys",Object.keys(this.items)),this.updateCurrentKeys()}catch(r){console.log(r)}},async saveItem(t){try{this.items[t.getKey()]=t,await ox.setItem(t.getKey(),JSON.stringify(t.getData())),await ox.setItem("keys",Object.keys(this.items))}catch(r){console.log(r)}},async changeItem(t){t&&!Te.api().isLoading&&(Te.changes().countChanges==0||await Te.api().saveChangesToBackend(!0)?await Te.api().loadItemFromBackend(t):Te.layout().showSendFailure=!0)},updateCurrentKeys(){var t,r;if(this.countItems){const i=this.sortedItems,u=0,g=i.length-1;this.firstKey=(t=i[u])==null?void 0:t.getKey(),this.lastKey=(r=i[g])==null?void 0:r.getKey(),this.previousKey=null,this.nextKey=null;for(let h=u;h<=g;h++){let x=i[h];if((x==null?void 0:x.getKey())==this.currentKey){this.previousKey=h>u?i[h-1].getKey():null,this.nextKey=h<g?i[h+1].getKey():null;break}}}}}}),oU=Ku("layout"),y0e=tu("layout",{state:()=>({expandedColumn:"none",leftContent:"essay",rightContent:"marking",showMarkingComments:!0,showMarkingGeneralPoints:!0,showMarkingCommentPoints:!0,showMarkingText:!1,showLeftSummaryCriteria:!1,showRightSummaryCriteria:!1,showLeftSummaryText:!0,showRightSummaryText:!0,showLeftSummaryRevision:!1,showRightSummaryRevision:!1,leftCorrectionKey:"",rightCorrectionKey:"",showIncludesPopup:!1,initialized:!1,showInitFailure:!1,showItemLoadFailure:!1,showAuthorization:!1,showRevision:!1,showSendFailure:!1,showDataReplaceConfirmation:!1,showItemReplaceConfirmation:!1,focusTarget:"",focusChange:0}),getters:{isLeftExpanded:t=>t.expandedColumn=="left",isRightExpanded:t=>t.expandedColumn=="right",isInstructionsSelected:t=>t.leftContent=="instructions",isInstructionsPdfSelected:t=>t.leftContent=="instructionsPdf",isSolutionSelected:t=>t.leftContent=="solution",isSolutionPdfSelected:t=>t.leftContent=="solutionPdf",isResourcesSelected:t=>t.leftContent=="resources",isEssaySelected:t=>t.leftContent=="essay",isSummarySelected:t=>t.rightContent=="summary",isMarkingSelected:t=>t.rightContent=="marking",isLeftCorrectionSelected:t=>t.leftContent=="correction",isRightCorrectionSelected:t=>t.rightContent=="correction",isInstructionsVisible:t=>t.isInstructionsSelected&&t.isLeftVisible,isInstructionsPdfVisible:t=>t.isInstructionsPdfSelected&&t.isLeftVisible,isSolutionVisible:t=>t.isSolutionSelected&&t.isLeftVisible,isSolutionPdfVisible:t=>t.isSolutionPdfSelected&&t.isLeftVisible,isResourcesVisible:t=>t.isResourcesSelected&&t.isLeftVisible,isEssayVisible:t=>t.isEssaySelected&&t.isLeftVisible,isSummaryVisible:t=>t.isSummarySelected&&t.isRightVisible,isMarkingVisible:t=>t.isMarkingSelected&&t.isRightVisible,isLeftCorrectionVisible:t=>t.isLeftCorrectionSelected&&t.isLeftVisible,isRightCorrectionVisible:t=>t.isRightCorrectionSelected&&t.isRightVisible,isLeftVisible(t){return!Te.api().isLoading&&t.expandedColumn!="right"},isRightVisible(t){return!Te.api().isLoading&&t.expandedColumn!="left"},leftCorrectionTitle(t){const i=Te.corrections().getCorrection(t.leftCorrectionKey);return i?"Korrektur von "+i.title+" "+hi.buildPositionText(i.position):""},rightCorrectionTitle(t){const i=Te.corrections().getCorrection(t.rightCorrectionKey);return i?"Korrektur von "+i.title+" "+hi.buildPositionText(i.position):""},getCorrectionIsVisible(t){return function(i){return t.leftCorrectionKey==i&&t.isLeftCorrectionVisible||t.rightCorrectionKey==i&&t.isRightCorrectionVisible}}},actions:{async clearStorage(){try{await oU.clear()}catch(t){console.log(t)}this.$reset()},async loadFromStorage(){try{this.$reset();const t=await oU.getItem("layout");t&&(this.expandedColumn=t.expandedColumn,this.rightContent=t.rightContent,this.showMarkingComments=!!t.showMarkingComments,this.showMarkingGeneralPoints=!!t.showMarkingGeneralPoints,this.showMarkingCommentPoints=!!t.showMarkingCommentPoints,this.showMarkingText=!!t.showMarkingText,this.showLeftSummaryCriteria=!!t.showLeftSummaryCriteria,this.showRightSummaryCriteria=!!t.showRightSummaryCriteria,this.showLeftSummaryText=!!t.showLeftSummaryText,this.showRightSummaryText=!!t.showRightSummaryText),!this.showMarkingComments&&!this.showMarkingGeneralPoints&&!this.showMarkingCommentPoints&&(this.showMarkingComments=!0),!this.showLeftSummaryCriteria&&!this.showLeftSummaryText&&(this.showLeftSummaryCriteria=!0),!this.showRightSummaryCriteria&&!this.showRightSummaryText&&(this.showRightSummaryCriteria=!0)}catch(t){console.log(t)}},async saveToStorage(){try{await oU.setItem("layout",{expandedColumn:this.expandedColumn,leftContent:this.leftContent,rightContent:this.rightContent,showMarkingComments:this.showMarkingComments,showMarkingGeneralPoints:this.showMarkingGeneralPoints,showMarkingCommentPoints:this.showMarkingCommentPoints,showMarkingText:this.showMarkingText,showLeftSummaryCriteria:this.showLeftSummaryCriteria,showRightSummaryCriteria:this.showRightSummaryCriteria,showLeftSummaryText:this.showLeftSummaryText,showRightSummaryText:this.showRightSummaryText})}catch(t){console.log(t)}},initForItem(){var t,r;Te.items().isInRevision||Te.items().isInStitch?(this.showRightSummaryCriteria=!1,this.showRightSummaryRevision=!0,this.leftContent="correction",this.rightContent="summary",this.leftCorrectionKey=((t=Te.corrections().firstOtherCorrection)==null?void 0:t.key)??"",(r=Te.summaries().getForCorrection(this.leftCorrectionKey))!=null&&r.isRevised&&(this.showLeftSummaryCriteria=!1,this.showLeftSummaryRevision=!0)):(this.leftContent="essay",this.rightContent="marking"),this.expandedColumn="none",this.saveToStorage()},showInstructions(){this.leftContent="instructions",this.setLeftVisible(),this.saveToStorage()},showInstructionsPdf(){this.leftContent="instructionsPdf",this.setLeftVisible(),this.saveToStorage()},showSolution(){this.leftContent="solution",this.setLeftVisible(),this.saveToStorage()},showSolutionPdf(){this.leftContent="solutionPdf",this.setLeftVisible(),this.saveToStorage()},showResources(){this.leftContent="resources",this.setLeftVisible(),this.saveToStorage()},showLeftCorrection(){this.leftContent="correction",this.setLeftVisible(),this.saveToStorage()},showRightCorrection(){this.rightContent="correction",this.setRightVisible(),this.saveToStorage()},showEssay(){this.leftContent="essay",this.setLeftVisible(),this.saveToStorage()},showMarking(){this.rightContent="marking",this.setRightVisible(),this.saveToStorage()},showSummary(){this.rightContent="summary",this.setRightVisible(),this.saveToStorage()},showOwnSummaryText(){this.rightContent="summary",this.showRightSummaryText=!0,this.setRightVisible("ownSummary"),this.saveToStorage()},setLeftVisible(t=null){if(this.isLeftVisible||(this.expandedColumn="left",this.saveToStorage()),t===null)switch(this.leftContent){case"instructions":case"solution":case"essay":t=this.leftContent;break}this.setFocusChange(t??"appHeadLeft")},setRightVisible(t=null){this.isRightVisible||(this.expandedColumn="right",this.saveToStorage()),this.setFocusChange(t??"appHeadRight")},setLeftExpanded(t){this.expandedColumn=t?"left":"none",this.saveToStorage()},setRightExpanded(t){this.expandedColumn=t?"right":"none",this.saveToStorage()},focusMarkingCommentPointsSum(){this.showMarkingComments||(this.showMarkingComments=!0,this.saveToStorage()),this.setFocusChange("MarkingCommentPointsSum")},focusMarkingGeneralPoints(){this.showMarkingGeneralPoints||(this.showMarkingGeneralPoints=!0,this.saveToStorage()),this.setFocusChange("MarkingGeneralPoints")},focusMarkingCommentPoints(){this.showMarkingCommentPoints||(this.showMarkingCommentPoints=!0,this.saveToStorage()),this.setFocusChange("MarkingCommentPoints")},toggleMarkingComments(){this.showMarkingComments=!this.showMarkingComments,this.saveToStorage()},toggleMarkingGeneralPoints(){this.showMarkingGeneralPoints=!this.showMarkingGeneralPoints,this.saveToStorage()},toggleMarkingCommentPoints(){this.showMarkingCommentPoints=!this.showMarkingCommentPoints,this.saveToStorage()},toggleMarkingText(){this.showMarkingText=!this.showMarkingText,this.saveToStorage()},toggleLeftSummaryCriteria(){this.showLeftSummaryCriteria=!this.showLeftSummaryCriteria,this.saveToStorage()},toggleRightSummaryCriteria(){this.showRightSummaryCriteria=!this.showRightSummaryCriteria,this.saveToStorage()},toggleLeftSummaryText(){this.showLeftSummaryText=!this.showLeftSummaryText,this.saveToStorage()},toggleRightSummaryText(){this.showRightSummaryText=!this.showRightSummaryText,this.saveToStorage()},toggleLeftSummaryRevision(){this.showLeftSummaryRevision=!this.showLeftSummaryRevision,this.saveToStorage()},toggleRightSummaryRevision(){this.showRightSummaryRevision=!this.showRightSummaryRevision,this.saveToStorage()},selectCorrection(t){Te.api();const r=Te.corrections();this.leftCorrectionKey==t?this.showLeftCorrection():this.rightCorrectionKey==t?this.showRightCorrection():Te.corrections().ownKey?(this.leftCorrectionKey=t,this.showLeftCorrection()):r.countCorrections==1?(this.rightCorrectionKey=t,this.showRightCorrection()):this.leftCorrectionKey==""?(this.leftCorrectionKey=t,this.showLeftCorrection()):this.rightCorrectionKey==""?(this.rightCorrectionKey=t,this.showRightCorrection()):(this.leftCorrectionKey=t,this.showLeftCorrection())},setFocusChange(t){this.focusTarget=t,this.focusChange=Date.now()},handleKeyDown(t){if(t.altKey)switch(t.key){case"0":this.setFocusChange("header");break;case"1":this.setLeftVisible();break;case"2":this.setRightVisible();break;case"#":this.setFocusChange("navigation");break}}}});class TR{constructor(r={}){wt(this,"id",null);wt(this,"key",null);wt(this,"min_points",0);wt(this,"title",null);wt(this,"statement",null);r.id!==void 0&&r.id!==null&&(this.id=parseInt(r.id)),r.min_points!==void 0&&r.min_points!==null&&(this.min_points=parseFloat(r.min_points)),r.title!==void 0&&r.title!==null&&(this.title=r.title.toString()),r.statement!==void 0&&r.statement!==null&&(this.statement=r.statement.toString()),this.key===null&&(this.key=TR.buildKey(this.id))}static order(r,i){return r.min_points<i.min_points?-1:r.min_points>i.min_points?1:0}static buildKey(r){return"L"+r}getKey(){return this.key}getData(){return Object.assign({},this)}}const nE=Ku("levels"),x0e=tu("levels",{state:()=>({levels:{}}),getters:{hasLevels:t=>Object.keys(t.levels).length>0,sortedLevels:t=>Object.values(t.levels).toSorted(TR.order),getLevel(t){return function(i){return t.levels[i]}},getLevelForPoints(t){return function(i){if(Number.isNaN(i))return null;let u=null;for(const g of t.sortedLevels){if(g.min_points>i)break;u=g}return u}}},actions:{async clearStorage(){try{this.$reset(),await nE.clear()}catch(t){console.log(t)}},async loadFromStorage(){try{this.$reset();const t=await nE.getItem("keys")??[];for(const r of t)this.levels[r]=new TR(await nE.getItem(r))}catch(t){console.log(t)}},async loadFromBackend(t=[]){try{await nE.clear(),this.$reset();for(const r of t){const i=new TR(r);this.levels[i.getKey()]=i,await nE.setItem(i.getKey(),i.getData())}await nE.setItem("keys",Object.keys(this.levels))}catch(r){console.log(r)}}}});class pF{constructor(r={}){wt(this,"key","");wt(this,"item_key","");wt(this,"id",null);wt(this,"task_id",null);wt(this,"writer_id",null);wt(this,"page_no",0);wt(this,"width",0);wt(this,"height",0);wt(this,"url",null);wt(this,"thumb_width",null);wt(this,"thumb_height",null);wt(this,"thumb_url",null);wt(this,"objectUrl",null);wt(this,"thumbObjectUrl",null);r.id!==void 0&&r.id!==null&&(this.id=parseInt(r.id)),r.task_id!==void 0&&r.task_id!==null&&(this.task_id=parseInt(r.task_id)),r.writer_id!==void 0&&r.writer_id!==null&&(this.writer_id=parseInt(r.writer_id)),r.page_no!==void 0&&r.page_no!==null&&(this.page_no=parseInt(r.page_no)),r.width!==void 0&&r.width!==null&&(this.width=parseInt(r.width)),r.height!==void 0&&r.height!==null&&(this.height=parseInt(r.height)),r.url!==void 0&&r.url!==null&&(this.url=r.url.toString()),r.thumb_width!==void 0&&r.thumb_width!==null&&(this.thumb_width=parseInt(r.thumb_width)),r.thumb_height!==void 0&&r.thumb_height!==null&&(this.thumb_height=parseInt(r.thumb_height)),r.thumb_url!==void 0&&r.thumb_url!==null&&(this.thumb_url=r.thumb_url.toString()),this.key=pF.buildKey(this.id),this.item_key=hi.buildKey(this.task_id,this.writer_id)}static buildKey(r){return"P"+r}static order(r,i){return r.position<i.position?-1:r.position>i.position?1:0}getKey(){return this.key}getData(){return Object.assign({},this)}}const oE=Ku("pages"),w0e=tu("pages",{state:()=>({pages:{},selectedKey:"",minPage:0,maxPage:0,loadedThumbs:0,loadedImages:0}),getters:{hasPages(t){return Object.keys(t.pages).length>0},selectedPage(t){return t.pages[t.selectedKey]??null},selectedPageNo(t){var r;return((r=t.selectedPage)==null?void 0:r.page_no)??null},currentPages(t){return Object.values(t.pages)},getPage(t){return function(i){return t.pages[i]??null}},getPageByPageNo(t){return function(i){return t.currentPages.find(u=>u.page_no==i)??null}}},actions:{selectPage(t){this.selectedKey!=t&&(this.selectedKey=t)},selectByPageNo(t){for(const r of this.currentPages)if(r.page_no==t)return this.selectedKey=r.key,!0;return!1},calculateMinMaxPage(){let t=null,r=null;for(const i of this.currentPages)(t===null||i.page_no<t)&&(t=i.page_no),(r===null||i.page_no>r)&&(r=i.page_no);t!==null&&(this.minPage=t),r!==null&&(this.maxPage=r)},async clearStorage(){try{await oE.clear()}catch(t){console.log(t)}this.purgeFiles(),this.$reset()},async loadFromStorage(){const t=Te.api();try{this.purgeFiles(),this.$reset();const r=await oE.getItem("keys");for(const i of r){const u=new pF(await oE.getItem(i));u.item_key==t.itemKey&&(this.pages[i]=u)}this.calculateMinMaxPage(),this.selectByPageNo(this.minPage),this.loadFiles()}catch(r){console.log(r)}},async loadFromBackend(t){const r=Te.api();try{await oE.clear(),this.purgeFiles(),this.$reset();for(const i of t){const u=new pF(i);u.url=r.getImageUrl(u),u.thumb_url=r.getThumbUrl(u),u.item_key==r.itemKey&&(await oE.setItem(u.getKey(),u.getData()),this.pages[u.key]=u)}await oE.setItem("keys",Object.keys(this.pages)),this.calculateMinMaxPage(),this.selectByPageNo(this.minPage),this.loadFiles()}catch(i){console.log(i)}},async loadFiles(){try{for(const t in this.pages){const r=this.pages[t];let i;r&&(i=await ia(r.url,{responseType:"blob",timeout:6e4}),this.loadedImages++,i=await ia(r.thumb_url,{responseType:"blob",timeout:6e4}),this.loadedThumbs++)}}catch(t){console.error(t)}},purgeFiles(){for(const t in this.pages){const r=this.pages[t];r&&(r.thumbObjectUrl!==null&&(r.thumbObjectUrl=null),r.objectUrl!==null&&(r.objectUrl=null))}this.loadedThumbs=0,this.loadedImages=0}}});class yE{constructor(r={}){wt(this,"key","");wt(this,"item_key","");wt(this,"correction_key","");wt(this,"comment_key","");wt(this,"criterion_key","");wt(this,"task_id",null);wt(this,"writer_id",null);wt(this,"corrector_id",null);wt(this,"criterion_id",null);wt(this,"points",0);r.key!==void 0&&r.key!==null&&(this.key=r.key.toString()),r.comment_key!==void 0&&r.comment_key!==null&&(this.comment_key=r.comment_key.toString()),r.task_id!==void 0&&r.task_id!==null&&(this.task_id=parseInt(r.task_id)),r.writer_id!==void 0&&r.writer_id!==null&&(this.writer_id=parseInt(r.writer_id)),r.corrector_id!==void 0&&r.corrector_id!==null&&(this.corrector_id=parseInt(r.corrector_id)),r.criterion_id!==void 0&&r.criterion_id!==null&&(this.criterion_id=parseInt(r.criterion_id)),r.points!==void 0&&r.points!==null&&(this.points=parseFloat(r.points)),!this.key&&this.corrector_id&&(this.key=yE.newKey(this.corrector_id)),!this.item_key&&this.task_id&&this.writer_id&&(this.item_key=hi.buildKey(this.task_id,this.writer_id)),!this.correction_key&&this.task_id&&this.writer_id&&this.corrector_id&&(this.correction_key=Ui.buildKey(this.task_id,this.writer_id,this.corrector_id)),!this.criterion_key&&this.criterion_id&&(this.criterion_key=EE.buildKey(this.criterion_id))}static newKey(r){return"P"+r+"_"+Math.random().toString()}setKeys(r,i,u){this.correction_key=r,this.comment_key=i,this.criterion_key=u,this.task_id=Ui.extractTaskId(this.correction_key),this.writer_id=Ui.extractWriterId(this.correction_key),this.corrector_id=Ui.extractCorrectorId(this.correction_key),u&&(this.criterion_id=EE.extractCriterionId(this.criterion_key)),this.item_key=hi.buildKey(this.task_id,this.writer_id),this.key=yE.newKey(this.corrector_id)}setPoints(r){this.points=parseFloat(r)}getData(){return Object.assign({},this)}}const zg=Ku("points"),C0e=tu("points",{state:()=>({keys:[],points:[],unsentChanges:{}}),getters:{getCommentHasPoints(t){return function(i){return t.points.find(u=>u.comment_key==i&&u.points!=0)!==void 0}},getCommentHasPointsForCriterion(t){return function(i,u){return t.points.find(g=>g.comment_key==i&&g.criterion_key==u&&g.points!=0)!==void 0}},getSumOfPointsForCorrection(t){return function(i,u=null,g=null){let h=0;return t.points.filter(x=>x.correction_key==i&&(u===null||u==(x.comment_key!=""))&&(g===null||g==(x.criterion_key!=""))).forEach(x=>h+=x.points),h}},getSumOfPointsForComment(t){return function(i){let u=0;return t.points.filter(g=>g.comment_key==i).forEach(g=>u+=g.points),u}},getSumOfPointsForCriterion(t){return function(i,u){let g=0;return t.points.filter(h=>h.criterion_key==i.key&&h.correction_key==u).forEach(h=>g+=h.points),g}},getPointsOfCriterionExceeded(t){return function(i,u){let g=0;const h=(i==null?void 0:i.key)??"";return t.points.filter(x=>x.criterion_key==h&&x.correction_key==u).forEach(x=>g+=x.points),g>(i?i.points:Te.settings().Assessment.max_points)}},getObjectsForCorrection(t){return function(i){return t.points.filter(u=>u.correction_key==i)}},getObjectByData(t){return function(i,u,g){return t.points.find(h=>h.correction_key==i&&h.comment_key==u&&h.criterion_key==g)}}},actions:{async setValueByCommentOrCriterion(t,r,i){Te.api();let u=this.getObjectByData(Te.corrections().ownKey,t,r);u?i?(u.setPoints(i),this.updatePoints(u)):this.deletePoints(u.key):(t||r)&&i&&this.createPoints(t,r,i)},async createPoints(t,r,i){const u=Te.corrections(),g=new yE({points:i});g.setKeys(u.ownKey,t,r),this.keys.push(g.key),this.points.push(g),await zg.setItem(g.key,JSON.stringify(g.getData())),await zg.setItem("keys",JSON.stringify(this.keys)),await Te.changes().setChange(new ps({type:ps.TYPE_POINTS,action:ps.ACTION_SAVE,key:g.key,item_key:g.item_key}))},async updatePoints(t){this.keys.includes(t.key)&&(await zg.setItem(t.key,JSON.stringify(t.getData())),await Te.changes().setChange(new ps({type:ps.TYPE_POINTS,action:ps.ACTION_SAVE,key:t.key,item_key:t.item_key})))},async deletePoints(t){const r=this.points.find(g=>g.key==t);this.points=this.points.filter(g=>g.key!=t),this.keys.includes(t)&&(this.keys=this.keys.filter(g=>g!=t),await zg.setItem("keys",JSON.stringify(this.keys)),await zg.removeItem(t));const i=Te.changes(),u=new ps({type:ps.TYPE_POINTS,action:ps.ACTION_DELETE,key:r.key,item_key:r.item_key,payload:r.getData()});await i.setChange(u)},async deletePointsOfComment(t){this.points.filter(r=>r.comment_key==t).forEach(r=>this.deletePoints(r.key))},async clearStorage(){try{await zg.clear()}catch(t){console.log(t)}this.$reset()},async loadFromStorage(){const t=Te.api();try{this.$reset();const r=await zg.getItem("keys");r&&(this.keys=JSON.parse(r)),this.points=[];for(const i of this.keys){let u=JSON.parse(await zg.getItem(i)),g=new yE(u);g.item_key==t.itemKey&&this.points.push(g)}}catch(r){console.log(r)}},async loadFromBackend(t){const r=Te.api();try{await zg.clear(),this.$reset();for(const i of t){const u=new yE(i);this.keys.push(u.key),await zg.setItem(u.key,JSON.stringify(u.getData())),u.item_key==r.itemKey&&this.points.push(u)}await zg.setItem("keys",JSON.stringify(this.keys))}catch(i){console.log(i)}},async getChangedData(t=0){const r=Te.changes(),i=[];for(const u of r.getChangesFor(ps.TYPE_POINTS,t)){const g=await zg.getItem(u.key);g?i.push(r.getChangeDataToSend(u,JSON.parse(g))):i.push(r.getChangeDataToSend(u))}return i}}}),sU=Ku("preferences"),_0e=tu("preferences",{state:()=>({essay_page_zoom:.25,essay_text_zoom:1,summary_text_zoom:1}),getters:{},actions:{async clearStorage(){try{await sU.clear()}catch(t){console.log(t)}this.$reset()},async loadFromStorage(){try{const t=await sU.getItem("preferences");t&&this.$patch(t)}catch(t){console.log(t)}},async saveToStorage(){try{await sU.setItem("preferences",Object.assign({},this.$state))}catch(t){console.log(t)}},async loadFromBackend(t){try{t.essay_text_zoom&&(this.essay_text_zoom=t.essay_text_zoom),t.essay_page_zoom&&(this.essay_page_zoom=t.essay_page_zoom),t.summary_text_zoom&&(this.summary_text_zoom=t.summary_text_zoom),await this.saveToStorage()}catch(r){console.log(r)}},async update(){const t=Te.changes(),r=Te.api();await this.saveToStorage(),Te.corrections().ownKey&&await t.setChange(new ps({type:ps.TYPE_PREFERENCES,action:ps.ACTION_SAVE,key:"preferences",item_key:r.itemKey}))},async getChangedData(t=0){const r=Te.changes(),i=[];for(const u of r.getChangesFor(ps.TYPE_PREFERENCES,t)){i.push(r.getChangeDataToSend(u,Object.assign({},this.$state)));break}return i},zoomEssayPageIn(){this.essay_page_zoom=this.essay_page_zoom*1.1,this.update()},zoomEssayPageOut(){this.essay_page_zoom=this.essay_page_zoom*.9,this.update()},zoomEssayTextIn(){this.essay_text_zoom=this.essay_text_zoom*1.1,this.update()},zoomEssayTextOut(){this.essay_text_zoom=this.essay_text_zoom*.9,this.update()},zoomSummaryTextIn(){this.summary_text_zoom=this.summary_text_zoom*1.1,this.update()},zoomSummaryTextOut(){this.summary_text_zoom=this.summary_text_zoom*.9,this.update()}}}),oa=class oa{constructor(r={}){wt(this,"id","");wt(this,"task_id",null);wt(this,"title","");wt(this,"type",null);wt(this,"embedded",!0);wt(this,"source","");wt(this,"url","");wt(this,"mimetype","");wt(this,"size",null);wt(this,"key",null);r.id!==void 0&&r.id!==null&&(this.id=parseInt(r.id)),r.task_id!==void 0&&r.task_id!==null&&(this.task_id=parseInt(r.task_id)),r.title!==void 0&&r.title!==null&&(this.title=r.title.toString()),r.type!==void 0&&oa.ALLOWED_TYPES.includes(r.type)&&(this.type=r.type.toString()),r.embedded!==void 0&&r.embedded!==null&&(this.embedded=!!r.embedded),r.source!==void 0&&r.source!==null&&(this.source=r.source.toString()),r.url!==void 0&&r.url!==null&&(this.url=r.url.toString()),r.mimetype!==void 0&&r.mimetype!==null&&(this.mimetype=r.mimetype),r.size!==void 0&&r.size!==null&&(this.size=parseInt(r.size)),this.key=oa.buildKey(this.id)}static buildKey(r){return"R"+r.toString()}static order(r,i){return r.title<i.title?-1:r.title>i.title?1:0}getKey(){return this.key}getData(){return Object.assign({},this)}isPdf(){return[oa.TYPE_FILE,oa.TYPE_SOLUTION,oa.TYPE_INSTRUCTION].includes(this.type)}isExternalUrl(){return this.type==oa.TYPE_URL&&!this.embedded}isEmbeddedUrl(){return this.type==oa.TYPE_URL&&this.embedded}isEmbeddedSelectable(){return this.type==oa.TYPE_FILE||this.type==oa.TYPE_URL&&this.embedded}canBeAnnoteted(){return[oa.TYPE_FILE,oa.TYPE_SOLUTION,oa.TYPE_INSTRUCTION].includes(this.type)}hasFileToLoad(){return[oa.TYPE_FILE,oa.TYPE_SOLUTION,oa.TYPE_INSTRUCTION].includes(this.type)}};wt(oa,"TYPE_FILE","file"),wt(oa,"TYPE_URL","url"),wt(oa,"TYPE_INSTRUCTION","instruct"),wt(oa,"TYPE_SOLUTION","solution"),wt(oa,"ALLOWED_TYPES",[oa.TYPE_FILE,oa.TYPE_URL,oa.TYPE_INSTRUCTION,oa.TYPE_SOLUTION]);let ep=oa;const sx=Ku("resources"),S0e=tu("resources",{state:()=>({resources:{},activeKey:""}),getters:{currentResources(t){const r=Te.tasks();return Object.values(t.resources).filter(i=>{var u;return i.task_id===((u=r.currentTask)==null?void 0:u.task_id)||i.task_id===null}).sort(ep.order)},hasInstruction(t){return!!t.currentResources.find(r=>r.type===ep.TYPE_INSTRUCTION)},hasSolution(t){return!!t.currentResources.find(r=>r.type===ep.TYPE_SOLUTION)},instruction(t){return t.currentResources.find(r=>r.type===ep.TYPE_INSTRUCTION)},solution(t){return t.currentResources.find(r=>r.type===ep.TYPE_SOLUTION)},fileOrUrlResources(t){return t.currentResources.filter(r=>r.type==ep.TYPE_FILE||r.type===ep.TYPE_URL)},activeResource(t){return t.currentResources.find(r=>r.key===t.activeKey)},getResourceIsActive(t){return r=>r.key===t.activeKey},getResourceIsAvailable(t){return r=>!!t.currentResources.find(i=>i.key===r.key)}},actions:{async clearStorage(){try{this.$reset(),await sx.clear()}catch(t){console.log(t)}},async loadFromStorage(){try{this.$reset();const t=await sx.getItem("keys")??[];for(const r of t)this.resources[r]=new ep(await sx.getItem(r));this.activeKey=await sx.getItem("activeKey")??"",await this.loadFiles()}catch(t){console.log(t)}},async loadFromBackend(t=[]){const r=Te.api();try{await sx.clear(),this.$reset();for(const i of t){const u=new ep(i);u.hasFileToLoad()&&(u.url=r.getResourceUrl(u)),this.resources[u.getKey()]=u,await sx.setItem(u.getKey(),u.getData())}await sx.setItem("keys",Object.keys(this.resources)),this.loadFiles(),this.selectFirstEmbeddedResource()}catch(i){console.log(i)}},async selectResource(t){this.getResourceIsAvailable(t)&&(this.activeKey=t.key,await sx.setItem("activeKey",this.activeKey))},async selectFirstEmbeddedResource(){if(!this.activeResource)for(const t of this.currentResources)t.isEmbeddedSelectable&&await this.selectResource(t)},async loadFiles(){for(const t of Object.values(this.resources)){let r=null;if(t.hasFileToLoad())try{console.log("preload "+t.title+"..."),r=await ia(t.url,{responseType:"blob",timeout:6e4}),console.log("finished. ")}catch(i){console.error(i)}}}}});class rp{}wt(rp,"APPROXIMATION","approximation"),wt(rp,"CONSULTING","consulting"),wt(rp,"NONE","none");const{t:$0}=Em.global,rU=Ku("settings"),k0e=tu("settings",{state:()=>({Assessment:{multiple_correctors:!1,mutual_visibility:!1,procedure_when_distance:!1,procedure:rp.NONE,max_auto_distance:0,revision_between:!1,stitch_after_procedure:!1,max_points:0,no_manual_decimals:!1},Task:{positive_rating:$0("settingsRatingPositive"),negative_rating:$0("settingsRatingNegative"),enable_comments:!1,enable_comment_ratings:!1,enable_partial_points:!1,enable_summary_pdf:!1,summary_pdf_advice:null},EssayTask:{headline_scheme:null}}),getters:{headlineClass(t){return t.EssayTask.headline_scheme==="three"?"headlines-three":""},inclusionText(t){let r="";return t.Task.enable_comments&&(r=(r?r+", ":"")+$0("summariesIncludeComments")),t.Task.enable_comment_ratings&&(r=(r?r+", ":"")+$0("summariesIncludeCommentRatings")),t.Task.enable_partial_points&&(r=(r?r+", ":"")+$0("summariesIncludePartialPoints")),r==""&&(r=$0("summariesIncludeNoDetails")),r},procedureText(t){switch(t.Assessment.procedure){case rp.APPROXIMATION:return $0("settingsProcedureApproximation");case rp.CONSULTING:return $0("settingsProcedureConsulting");default:return $0("settingsProcedureNone")}}},actions:{async clearStorage(){this.$reset();try{await rU.clear()}catch(t){console.log(t)}},async loadFromStorage(){this.$reset();try{for(const t in this.$state){const r=await rU.getItem(t);this.$patch(r)}}catch(t){console.log(t)}},async loadFromBackend(t,r){this.$state[t]=Object.assign(this.$state[t],r);try{await rU.setItem(t,Object.assign({},this.$state[t]))}catch(i){console.log(i)}}}}),RR=class RR{constructor(r={}){wt(this,"key","");wt(this,"purpose","");wt(this,"title","");wt(this,"text","");wt(this,"deleted",!1);r.key!==void 0&&r.key!==null?this.key=r.key.toString():this.key=RR.newKey(),r.purpose!==void 0&&r.purpose!==null&&(this.purpose=r.purpose.toString()),r.title!==void 0&&r.title!==null&&(this.title=r.title.toString()),r.text!==void 0&&r.text!==null&&(this.text=r.text.toString())}static newKey(){return"SNIP_"+Math.random().toString()}static order(r,i){return r.text<i.text?-1:r.text>i.text?1:0}getData(){return Object.assign({},this)}};wt(RR,"FOR_COMMENT","for_comment"),wt(RR,"FOR_SUMMARY","for_summary");let Sc=RR;const Hg=Ku("snippets"),E0e=tu("snippets",{state:()=>({snippets:{},selection_open:!1,open_for_purpose:null,open_for_key:null,open_text:"",insert_text:"",select:null,edit:new Sc}),getters:{sortedSnippets(t){return Object.values(t.snippets).sort(Sc.order)},forComment(t){return Object.values(t.snippets).filter(r=>r.purpose==Sc.FOR_COMMENT)},forSummary(t){return Object.values(t.snippets).filter(r=>r.purpose==Sc.FOR_SUMMARY)},has(t){return function(i){return Object.keys(t.snippets).includes(i)}},get(t){return function(i){return t.snippets[i]}}},actions:{openSelection(t,r,i=""){this.open_for_purpose=t,this.open_for_key=r,this.open_text=i,this.insert_text="",this.selection_open=!0},async clearStorage(){try{await Hg.clear()}catch(t){console.log(t)}this.$reset()},async loadFromStorage(){try{this.$reset();const t=await Hg.getItem("keys");for(const r of t??[])this.snippets[r]=new Sc(await Hg.getItem(r))}catch(t){console.log(t)}},async loadFromBackend(t){try{await Hg.clear(),this.$reset();for(const r of t){const i=new Sc(r);await Hg.setItem(i.key,i.getData()),this.snippets[i.key]=i}await Hg.setItem("keys",Object.keys(this.snippets))}catch(r){console.log(r)}},async createSnippet(t){this.snippets[t.key]=t,await Hg.setItem(t.key,t.getData()),await Hg.setItem("keys",Object.keys(this.snippets)),await Te.changes().setChange(new ps({type:ps.TYPE_SNIPPETS,action:ps.ACTION_SAVE,key:t.key}))},async updateSnippet(t){this.has(t.key)&&(await Hg.setItem(t.key,t.getData()),await Te.changes().setChange(new ps({type:ps.TYPE_SNIPPETS,action:ps.ACTION_SAVE,key:t.key})))},async deleteSnippet(t){this.has(t)&&(delete this.snippets[t],await Hg.removeItem(t),await Hg.setItem("keys",Object.keys(this.snippets)),await Te.changes().setChange(new ps({type:ps.TYPE_SNIPPETS,action:ps.ACTION_DELETE,key:t})))},async getChangedData(t=0){const r=Te.changes(),i=[];for(const u of r.getChangesFor(ps.TYPE_SNIPPETS,t)){const g=await Hg.getItem(u.key);g?i.push(r.getChangeDataToSend(u,g)):i.push(r.getChangeDataToSend(u))}return i}}}),{t:xC}=Em.global,rx=Ku("summaries"),iU=1e3;let hR=0;const A0e=tu("summaries",{state:()=>({summaries:{},editSummary:new Mu,lastCheck:0}),getters:{allSummaries(t){return Object.values(t.summaries)},isOwnDisabled(t){return t.editSummary.correction_key==""||!t.editSummary.isChangeable()},isOwnPregraded(t){return t.editSummary.isPregraded()},isOwnAuthorized(t){return t.editSummary.isAuthorized()},isOwnRevised(t){return t.editSummary.isRevised()},isOneAuthorized(t){for(const r of t.allSummaries)if(r.isAuthorized())return!0;return!1},areOthersAuthorized(t){for(const r of t.allSummaries)if(r.getKey()!=t.editSummary.getKey()&&!r.isAuthorized())return!1;return!0},currentGradeTitle(t){if(t.editSummary.grade_key){let i=Te.levels().getLevel(t.editSummary.grade_key);if(i)return i.title}return xC("summariesNoGrade")},currentGradeStatement(t){if(t.editSummary.grade_key){let i=Te.levels().getLevel(t.editSummary.grade_key);if(i)return i.statement}return""},getAuthorizationForCorrection(t){return function(i){for(const u of t.allSummaries)if(u.correction_key==i)return u.isAuthorized();return!1}},getForCorrection(t){return function(i){for(const u of t.allSummaries)if(u.correction_key==i)return u;return null}},procedureNeededText(t){const r=Te.settings(),i=Te.items(),u=t.pointsDifferText;if(u&&!i.isInStitch){switch(r.Assessment.procedure){case rp.APPROXIMATION:return xC("summariesProcedureApproximationNeeded",[u]);case rp.CONSULTING:return xC("summariesProcedureConsultingNeeded",[u])}if(r.Assessment.stitch_after_procedure&&!i.isInStitch)return xC("summariesProcedureStitchNeeded",[u])}return""},stitchNeededAfterRevisionText(t){const r=t.pointsDifferText;return r?xC("summariesProcedureStitchNeeded",[r]):""},pointsDifferText(t){var h,x;const r=t.editSummary,i=t.getForCorrection(((h=Te.corrections().firstOtherCorrection)==null?void 0:h.key)??"")??null;let u=null,g=null;return Te.items().canRevise||((x=Te.corrections().ownCorrection)==null?void 0:x.position)==Ui.POSITION_STITCH?(u=(r==null?void 0:r.revision_points)??(r==null?void 0:r.points),g=(i==null?void 0:i.revision_points)??(i==null?void 0:i.points)):(u=r==null?void 0:r.points,g=i==null?void 0:i.points),u===null||g===null?"":Math.abs(u-g)>Te.settings().Assessment.max_auto_distance?xC("summariesPointsDifferText",Te.settings().Assessment.max_auto_distance):""},pointsOutsideCorridorText(t){const r=t.pointsCorridor,i=Te.items().canRevise?t.editSummary.revision_points:t.editSummary.points;return i<r.min||i>r.max?xC("summariesPointsOutsideMinMax",[r.min,r.max]):""},pointsCorridor(t){var h,x,C;const r=t.getForCorrection(((h=Te.corrections().firstCorrection)==null?void 0:h.key)??"")??null,i=t.getForCorrection(((x=Te.corrections().secondCorrection)==null?void 0:x.key)??"")??null;let u=null,g=null;return((C=Te.corrections().ownCorrection)==null?void 0:C.position)==Ui.POSITION_STITCH?(u=(r==null?void 0:r.revision_points)??(r==null?void 0:r.points),g=(i==null?void 0:i.revision_points)??(i==null?void 0:i.points)):Te.items().canRevise&&Te.settings().Assessment.revision_between?(u=r==null?void 0:r.points,g=i==null?void 0:i.points):(u=0,g=Te.settings().Assessment.max_points),{min:Math.min(u,g),max:Math.max(u,g)}}},actions:{async clearStorage(){try{this.$reset(),await rx.clear()}catch(t){console.log(t)}},async loadFromStorage(){var u;const t=Te.api(),r=Te.levels(),i=Te.corrections();try{this.$reset();const g=await rx.getItem("keys");for(const h of g){const x=new Mu(await rx.getItem(h));x.grade_key=(u=r.getLevelForPoints(x.points))==null?void 0:u.key,x.item_key==t.itemKey&&(this.summaries[h]=x),x.correction_key==i.ownKey&&(this.editSummary=x.getClone())}}catch(g){console.log(g)}hR=0,t.setInterval("summariesStore.updateContent",this.updateContent,iU)},async loadFromBackend(t){var g;const r=Te.api(),i=Te.levels(),u=Te.corrections();try{await rx.clear(),this.$reset();for(const h of t){const x=new Mu(h);x.grade_key=(g=i.getLevelForPoints(x.points))==null?void 0:g.key,await rx.setItem(x.getKey(),x.getData()),x.item_key==r.itemKey&&(this.summaries[x.getKey()]=x),x.correction_key==u.ownKey&&(this.editSummary=x.getClone())}await rx.setItem("keys",Object.keys(this.summaries))}catch(h){console.log(h)}hR=0,r.setInterval("summariesStore.updateContent",this.updateContent,iU)},async updateContent(t=!1,r=!1){Te.levels();const i=Te.api(),u=Te.changes(),g=Date.now();if(g-this.lastCheck<iU&&!r||hR++&&!r)return;const h=this.summaries[this.editSummary.getKey()]??new Mu,x=this.getCloneToStore(h,this.editSummary);if(x.isEqual(h)){this.lastCheck=g,hR=0;return}x.last_change=i.getServerTime(g);try{this.editSummary.setData(x.getData()),this.summaries[x.getKey()]=x,await rx.setItem(x.getKey(),x.getData()),await u.setChange(new ps({type:ps.TYPE_SUMMARY,action:ps.ACTION_SAVE,key:x.getKey(),item_key:x.item_key})),console.log("Save Change ","| Editor: ",t,"| Duration:",Date.now()-g,"ms")}catch(C){console.error(C)}this.lastCheck=g,hR=0},getCloneToStore(t,r){var h,x;const i=Te.items(),u=Te.levels();let g=t.getClone();switch(i.canCorrect&&(g.text=r.text,g.pdf=r.pdf,g.points=this.adjustPoints(r.points),g.grade_key=((h=u.getLevelForPoints(r.points))==null?void 0:h.key)??""),i.canRevise&&(g.revision_text=r.revision_text,g.revision_points=this.adjustPoints(r.revision_points),g.revision_grade_key=((x=u.getLevelForPoints(r.revision_grade_key))==null?void 0:x.key)??"",g.require_other_revision=r.require_other_revision),r.status){case Mu.STATUS_PRE_GRADED:case Mu.STATUS_OPEN:g.status=i.canCorrect?r.status:g.status;break;case Mu.STATUS_AUTHORIZED:g.status=i.canAuthorize?r.status:g.status;break;case Mu.STATUS_REVISED:g.status=i.canRevise?r.status:g.status}return g},adjustPoints(t){const r=Te.settings();return Number.isNaN(t)?null:!Number.isInteger(t)&&r.Assessment.no_manual_decimals?Math.floor(parseFloat(t)):t<0?0:t>r.Assessment.max_points?r.Assessment.max_points:parseFloat(t)},async getChangedData(t=0){const r=Te.changes(),i=[];for(const u of r.getChangesFor(ps.TYPE_SUMMARY,t)){const g=await rx.getItem(u.key);i.push(r.getChangeDataToSend(u,g))}return i},async setOwnAuthorized(){this.editSummary.status=Mu.STATUS_AUTHORIZED,await this.updateContent(!1,!0)},async setOwnRevised(){this.editSummary.status=Mu.STATUS_REVISED,await this.updateContent(!1,!0)}}}),sE=Ku("tasks"),T0e=tu("tasks",{state:()=>({tasks:{},firstKey:null,lastKey:null,previousKey:null,nextKey:null}),getters:{countTasks(t){return Object.keys(t.tasks).length},currentKey(t){return TC.buildKey(hi.extractTaskId(Te.api().itemKey))},currentTask(t){return t.tasks[t.currentKey]},currentTitle(t){var r;return(r=t.currentTask)==null?void 0:r.title},hasInstructions(t){var r;return!!((r=t.currentTask)!=null&&r.instructions)},hasSolution(t){var r;return!!((r=t.currentTask)!=null&&r.solution)},sortedTasks(t){return Object.values(t.tasks).toSorted(TC.order)},taskIds(t){let r=[];for(const i of t.sortedTasks)r.push(i.task_id);return r}},actions:{async clearStorage(){try{this.$reset(),await sE.clear()}catch(t){console.log(t)}},async loadFromStorage(){try{this.$reset();const t=await sE.getItem("keys")??[];for(const r of t)this.tasks[r]=new TC(await sE.getItem(r))}catch(t){console.log(t)}},async loadFromBackend(t=[]){try{await sE.clear(),this.$reset();for(const r of t){const i=new TC(r);this.tasks[i.getKey()]=i,await sE.setItem(i.getKey(),i.getData())}await sE.setItem("keys",Object.keys(this.tasks))}catch(r){console.log(r)}},updateCurrentKeys(){if(this.countTasks){const t=this.sortedTasks,r=0,i=t.length-1;this.firstKey=t[r].getKey(),this.lastKey=t[i].getKey(),this.previousKey=null,this.nextKey=null;for(let u=r;u<=i;u++)if(t[u].getKey()==this.currentKey){this.previousKey=u>r?t[u-1].getKey():null,this.nextKey=u<i?t[u+1].getKey():null;break}}}}}),Te={api:()=>a0e(),changes:()=>m0e(),comments:()=>g0e(),corrections:()=>h0e(),criteria:()=>p0e(),essay:()=>b0e(),items:()=>v0e(),layout:()=>y0e(),levels:()=>x0e(),pages:()=>w0e(),points:()=>C0e(),preferences:()=>_0e(),resources:()=>S0e(),settings:()=>k0e(),snippets:()=>E0e(),summaries:()=>A0e(),tasks:()=>T0e()};async function O0e(){for(const t of Object.values(Te))t().clearStorage()}const tl=(t,r)=>{const i=t.__vccOpts||t;for(const[u,g]of r)i[u]=g;return i},o1=Fn({border:[Boolean,Number,String]},"border");function s1(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ub();return{borderClasses:It(()=>{const u=t.border;return u===!0||u===""?`${r}--border`:typeof u=="string"||u===0?String(u).split(" ").map(g=>`border-${g}`):[]})}}const R0e=[null,"default","comfortable","compact"],qg=Fn({density:{type:String,default:"default",validator:t=>R0e.includes(t)}},"density");function dp(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ub();return{densityClasses:pn(()=>`${r}--density-${t.density}`)}}const r1=Fn({elevation:{type:[Number,String],validator(t){const r=parseInt(t);return!isNaN(r)&&r>=0&&r<=24}}},"elevation");function i1(t){return{elevationClasses:pn(()=>{const i=ra(t)?t.value:t.elevation;return i==null?[]:[`elevation-${i}`]})}}const Am=Fn({rounded:{type:[Boolean,Number,String],default:void 0},tile:Boolean},"rounded");function Tm(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ub();return{roundedClasses:It(()=>{const u=ra(t)?t.value:t.rounded,g=ra(t)?t.value:t.tile,h=[];if(u===!0||u==="")h.push(`${r}--rounded`);else if(typeof u=="string"||u===0)for(const x of String(u).split(" "))h.push(`rounded-${x}`);else(g||u===!1)&&h.push("rounded-0");return h})}}const aa=Fn({tag:{type:[String,Object,Function],default:"div"}},"tag");function eK(t){return BW(()=>{const r=$b(t),i=[],u={};if(r.background)if(zU(r.background)){if(u.backgroundColor=r.background,!r.text&&age(r.background)){const g=Pb(r.background);if(g.a==null||g.a===1){const h=aQ(g);u.color=h,u.caretColor=h}}}else i.push(`bg-${r.background}`);return r.text&&(zU(r.text)?(u.color=r.text,u.caretColor=r.text):i.push(`text-${r.text}`)),{colorClasses:i,colorStyles:u}})}function cp(t){const{colorClasses:r,colorStyles:i}=eK(()=>({text:$b(t)}));return{textColorClasses:r,textColorStyles:i}}function ip(t){const{colorClasses:r,colorStyles:i}=eK(()=>({background:$b(t)}));return{backgroundColorClasses:r,backgroundColorStyles:i}}const I0e=["elevated","flat","tonal","outlined","text","plain"];function BE(t,r){return oe(is,null,[t&&oe("span",{key:"overlay",class:ao(`${r}__overlay`)},null),oe("span",{key:"underlay",class:ao(`${r}__underlay`)},null)])}const a1=Fn({color:String,variant:{type:String,default:"elevated",validator:t=>I0e.includes(t)}},"variant");function FE(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ub();const i=pn(()=>{const{variant:h}=$b(t);return`${r}--variant-${h}`}),{colorClasses:u,colorStyles:g}=eK(()=>{const{variant:h,color:x}=$b(t);return{[["elevated","flat"].includes(h)?"background":"text"]:x}});return{colorClasses:u,colorStyles:g,variantClasses:i}}const yee=Fn({baseColor:String,divided:Boolean,direction:{type:String,default:"horizontal"},...o1(),...zs(),...qg(),...r1(),...Am(),...aa(),...xl(),...a1()},"VBtnGroup"),W0=Fo()({name:"VBtnGroup",props:yee(),setup(t,r){let{slots:i}=r;const{themeClasses:u}=ic(t),{densityClasses:g}=dp(t),{borderClasses:h}=s1(t),{elevationClasses:x}=i1(t),{roundedClasses:C}=Tm(t);wx({VBtn:{height:pn(()=>t.direction==="horizontal"?"auto":null),baseColor:pn(()=>t.baseColor),color:pn(()=>t.color),density:pn(()=>t.density),flat:!0,variant:pn(()=>t.variant)}}),_s(()=>ce(t.tag,{class:ao(["v-btn-group",`v-btn-group--${t.direction}`,{"v-btn-group--divided":t.divided},u.value,h.value,g.value,x.value,C.value,t.class]),style:Ls(t.style)},i))}}),tK=Fn({modelValue:{type:null,default:void 0},multiple:Boolean,mandatory:[Boolean,String],max:Number,selectedClass:String,disabled:Boolean},"group"),xee=Fn({value:null,disabled:Boolean,selectedClass:String},"group-item");function wee(t,r){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;const u=Bl("useGroupItem");if(!u)throw new Error("[Vuetify] useGroupItem composable must be used inside a component setup function");const g=t1();Bd(Symbol.for(`${r.description}:id`),g);const h=Wi(r,null);if(!h){if(!i)return h;throw new Error(`[Vuetify] Could not find useGroup injection with symbol ${r.description}`)}const x=pn(()=>t.value),C=It(()=>!!(h.disabled.value||t.disabled));h.register({id:g,value:x,disabled:C},u),Ec(()=>{h.unregister(g)});const D=It(()=>h.isSelected(g)),I=It(()=>h.items.value[0].id===g),O=It(()=>h.items.value[h.items.value.length-1].id===g),B=It(()=>D.value&&[h.selectedClass.value,t.selectedClass]);return Rn(D,V=>{u.emit("group:selected",{value:V})},{flush:"sync"}),{id:g,isSelected:D,isFirst:I,isLast:O,toggle:()=>h.select(g,!D.value),select:V=>h.select(g,V),selectedClass:B,value:x,disabled:C,group:h}}function nK(t,r){let i=!1;const u=Kl([]),g=Ki(t,"modelValue",[],V=>V==null?[]:Cee(u,yf(V)),V=>{const z=P0e(u,V);return t.multiple?z:z[0]}),h=Bl("useGroup");function x(V,z){const Z=V,ee=Symbol.for(`${r.description}:id`),W=uE(ee,h==null?void 0:h.vnode).indexOf(z);re(Z.value)==null&&(Z.value=W,Z.useIndexAsValue=!0),W>-1?u.splice(W,0,Z):u.push(Z)}function C(V){if(i)return;D();const z=u.findIndex(Z=>Z.id===V);u.splice(z,1)}function D(){const V=u.find(z=>!z.disabled);V&&t.mandatory==="force"&&!g.value.length&&(g.value=[V.id])}Wu(()=>{D()}),Ec(()=>{i=!0}),OW(()=>{for(let V=0;V<u.length;V++)u[V].useIndexAsValue&&(u[V].value=V)});function I(V,z){const Z=u.find(ee=>ee.id===V);if(!(z&&(Z!=null&&Z.disabled)))if(t.multiple){const ee=g.value.slice(),ie=ee.findIndex(he=>he===V),W=~ie;if(z=z??!W,W&&t.mandatory&&ee.length<=1||!W&&t.max!=null&&ee.length+1>t.max)return;ie<0&&z?ee.push(V):ie>=0&&!z&&ee.splice(ie,1),g.value=ee}else{const ee=g.value.includes(V);if(t.mandatory&&ee||!ee&&!z)return;g.value=z??!ee?[V]:[]}}function O(V){if(t.multiple,g.value.length){const z=g.value[0],Z=u.findIndex(W=>W.id===z);let ee=(Z+V)%u.length,ie=u[ee];for(;ie.disabled&&ee!==Z;)ee=(ee+V)%u.length,ie=u[ee];if(ie.disabled)return;g.value=[u[ee].id]}else{const z=u.find(Z=>!Z.disabled);z&&(g.value=[z.id])}}const B={register:x,unregister:C,selected:g,select:I,disabled:pn(()=>t.disabled),prev:()=>O(u.length-1),next:()=>O(1),isSelected:V=>g.value.includes(V),selectedClass:pn(()=>t.selectedClass),items:pn(()=>u),getItemIndex:V=>D0e(u,V)};return Bd(r,B),B}function D0e(t,r){const i=Cee(t,[r]);return i.length?t.findIndex(u=>u.id===i[0]):-1}function Cee(t,r){const i=[];return r.forEach(u=>{const g=t.find(x=>Zg(u,x.value)),h=t[u];(g==null?void 0:g.value)!=null?i.push(g.id):h!=null&&i.push(h.id)}),i}function P0e(t,r){const i=[];return r.forEach(u=>{const g=t.findIndex(h=>h.id===u);if(~g){const h=t[g];i.push(h.value!=null?h.value:g)}}),i}const _ee=Symbol.for("vuetify:v-btn-toggle"),N0e=Fn({...yee(),...tK()},"VBtnToggle"),L0e=Fo()({name:"VBtnToggle",props:N0e(),emits:{"update:modelValue":t=>!0},setup(t,r){let{slots:i}=r;const{isSelected:u,next:g,prev:h,select:x,selected:C}=nK(t,_ee);return _s(()=>{const D=W0.filterProps(t);return ce(W0,Bo({class:["v-btn-toggle",t.class]},D,{style:t.style}),{default:()=>{var I;return[(I=i.default)==null?void 0:I.call(i,{isSelected:u,next:g,prev:h,select:x,selected:C})]}})}),{next:g,prev:h,select:x}}}),M0e=Fn({defaults:Object,disabled:Boolean,reset:[Number,String],root:[Boolean,String],scoped:Boolean},"VDefaultsProvider"),Ea=Fo(!1)({name:"VDefaultsProvider",props:M0e(),setup(t,r){let{slots:i}=r;const{defaults:u,disabled:g,reset:h,root:x,scoped:C}=IF(t);return wx(u,{reset:h,root:x,scoped:C,disabled:g}),()=>{var D;return(D=i.default)==null?void 0:D.call(i)}}}),B0e=["x-small","small","default","large","x-large"],gI=Fn({size:{type:[String,Number],default:"default"}},"size");function hI(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ub();return BW(()=>{const i=t.size;let u,g;return nF(B0e,i)?u=`${r}--size-${i}`:i&&(g={width:ys(i),height:ys(i)}),{sizeClasses:u,sizeStyles:g}})}const F0e=Fn({color:String,disabled:Boolean,start:Boolean,end:Boolean,icon:$r,opacity:[String,Number],...zs(),...gI(),...aa({tag:"i"}),...xl()},"VIcon"),Kn=Fo()({name:"VIcon",props:F0e(),setup(t,r){let{attrs:i,slots:u}=r;const g=bo(),{themeClasses:h}=Ihe(),{iconData:x}=Che(()=>g.value||t.icon),{sizeClasses:C}=hI(t),{textColorClasses:D,textColorStyles:I}=cp(()=>t.color);return _s(()=>{var V,z;const O=(V=u.default)==null?void 0:V.call(u);O&&(g.value=(z=YJ(O).filter(Z=>Z.type===lI&&Z.children&&typeof Z.children=="string")[0])==null?void 0:z.children);const B=!!(i.onClick||i.onClickOnce);return ce(x.value.component,{tag:t.tag,icon:x.value.icon,class:ao(["v-icon","notranslate",h.value,C.value,D.value,{"v-icon--clickable":B,"v-icon--disabled":t.disabled,"v-icon--start":t.start,"v-icon--end":t.end},t.class]),style:Ls([{"--v-icon-opacity":t.opacity},C.value?void 0:{fontSize:ys(t.size),height:ys(t.size),width:ys(t.size)},I.value,t.style]),role:B?"button":void 0,"aria-hidden":!B,tabindex:B?t.disabled?-1:0:void 0},{default:()=>[O]})}),{}}});function See(t,r){const i=Ln(),u=bo(!1);if(MW){const g=new IntersectionObserver(h=>{u.value=!!h.find(x=>x.isIntersecting)},r);rc(()=>{g.disconnect()}),Rn(i,(h,x)=>{x&&(g.unobserve(x),u.value=!1),h&&g.observe(h)},{flush:"post"})}return{intersectionRef:i,isIntersecting:u}}const $0e=Fn({bgColor:String,color:String,indeterminate:[Boolean,String],modelValue:{type:[Number,String],default:0},rotate:{type:[Number,String],default:0},width:{type:[Number,String],default:4},...zs(),...gI(),...aa({tag:"div"}),...xl()},"VProgressCircular"),V0e=Fo()({name:"VProgressCircular",props:$0e(),setup(t,r){let{slots:i}=r;const u=20,g=2*Math.PI*u,h=Ln(),{themeClasses:x}=ic(t),{sizeClasses:C,sizeStyles:D}=hI(t),{textColorClasses:I,textColorStyles:O}=cp(()=>t.color),{textColorClasses:B,textColorStyles:V}=cp(()=>t.bgColor),{intersectionRef:z,isIntersecting:Z}=See(),{resizeRef:ee,contentRect:ie}=SE(),W=pn(()=>xf(parseFloat(t.modelValue),0,100)),he=pn(()=>Number(t.width)),ue=pn(()=>D.value?Number(t.size):ie.value?ie.value.width:Math.max(he.value,32)),j=pn(()=>u/(1-he.value/ue.value)*2),de=pn(()=>he.value/ue.value*j.value),te=pn(()=>ys((100-W.value)/100*g));return Md(()=>{z.value=h.value,ee.value=h.value}),_s(()=>ce(t.tag,{ref:h,class:ao(["v-progress-circular",{"v-progress-circular--indeterminate":!!t.indeterminate,"v-progress-circular--visible":Z.value,"v-progress-circular--disable-shrink":t.indeterminate==="disable-shrink"},x.value,C.value,I.value,t.class]),style:Ls([D.value,O.value,t.style]),role:"progressbar","aria-valuemin":"0","aria-valuemax":"100","aria-valuenow":t.indeterminate?void 0:W.value},{default:()=>[oe("svg",{style:{transform:`rotate(calc(-90deg + ${Number(t.rotate)}deg))`},xmlns:"http://www.w3.org/2000/svg",viewBox:`0 0 ${j.value} ${j.value}`},[oe("circle",{class:ao(["v-progress-circular__underlay",B.value]),style:Ls(V.value),fill:"transparent",cx:"50%",cy:"50%",r:u,"stroke-width":de.value,"stroke-dasharray":g,"stroke-dashoffset":0},null),oe("circle",{class:"v-progress-circular__overlay",fill:"transparent",cx:"50%",cy:"50%",r:u,"stroke-width":de.value,"stroke-dasharray":g,"stroke-dashoffset":te.value},null)]),i.default&&oe("div",{class:"v-progress-circular__content"},[i.default({value:W.value})])]})),{}}}),fp=Fn({height:[Number,String],maxHeight:[Number,String],maxWidth:[Number,String],minHeight:[Number,String],minWidth:[Number,String],width:[Number,String]},"dimension");function mp(t){return{dimensionStyles:It(()=>{const i={},u=ys(t.height),g=ys(t.maxHeight),h=ys(t.maxWidth),x=ys(t.minHeight),C=ys(t.minWidth),D=ys(t.width);return u!=null&&(i.height=u),g!=null&&(i.maxHeight=g),h!=null&&(i.maxWidth=h),x!=null&&(i.minHeight=x),C!=null&&(i.minWidth=C),D!=null&&(i.width=D),i})}}const MY={center:"center",top:"bottom",bottom:"top",left:"right",right:"left"},QF=Fn({location:String},"location");function e8(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,i=arguments.length>2?arguments[2]:void 0;const{isRtl:u}=Gg();return{locationStyles:It(()=>{if(!t.location)return{};const{side:h,align:x}=$U(t.location.split(" ").length>1?t.location:`${t.location} center`,u.value);function C(I){return i?i(I):0}const D={};return h!=="center"&&(r?D[MY[h]]=`calc(100% - ${C(h)}px)`:D[h]=0),x!=="center"?r?D[MY[x]]=`calc(100% - ${C(x)}px)`:D[x]=0:(h==="center"?D.top=D.left="50%":D[{top:"left",bottom:"left",left:"top",right:"top"}[h]]="50%",D.transform={top:"translateX(-50%)",bottom:"translateX(-50%)",left:"translateY(-50%)",right:"translateY(-50%)",center:"translate(-50%, -50%)"}[h]),D})}}const z0e=Fn({absolute:Boolean,active:{type:Boolean,default:!0},bgColor:String,bgOpacity:[Number,String],bufferValue:{type:[Number,String],default:0},bufferColor:String,bufferOpacity:[Number,String],clickable:Boolean,color:String,height:{type:[Number,String],default:4},indeterminate:Boolean,max:{type:[Number,String],default:100},modelValue:{type:[Number,String],default:0},opacity:[Number,String],reverse:Boolean,stream:Boolean,striped:Boolean,roundedBar:Boolean,...zs(),...QF({location:"top"}),...Am(),...aa(),...xl()},"VProgressLinear"),H0e=Fo()({name:"VProgressLinear",props:z0e(),emits:{"update:modelValue":t=>!0},setup(t,r){var we;let{slots:i}=r;const u=Ki(t,"modelValue"),{isRtl:g,rtlClasses:h}=Gg(),{themeClasses:x}=ic(t),{locationStyles:C}=e8(t),{textColorClasses:D,textColorStyles:I}=cp(()=>t.color),{backgroundColorClasses:O,backgroundColorStyles:B}=ip(()=>t.bgColor||t.color),{backgroundColorClasses:V,backgroundColorStyles:z}=ip(()=>t.bufferColor||t.bgColor||t.color),{backgroundColorClasses:Z,backgroundColorStyles:ee}=ip(()=>t.color),{roundedClasses:ie}=Tm(t),{intersectionRef:W,isIntersecting:he}=See(),ue=It(()=>parseFloat(t.max)),j=It(()=>parseFloat(t.height)),de=It(()=>xf(parseFloat(t.bufferValue)/ue.value*100,0,100)),te=It(()=>xf(parseFloat(u.value)/ue.value*100,0,100)),ze=It(()=>g.value!==t.reverse),Fe=It(()=>t.indeterminate?"fade-transition":"slide-x-transition"),Je=Jr&&((we=window.matchMedia)==null?void 0:we.call(window,"(forced-colors: active)").matches);function rt(_e){if(!W.value)return;const{left:R,right:it,width:St}=W.value.getBoundingClientRect(),Ut=ze.value?St-_e.clientX+(it-St):_e.clientX-R;u.value=Math.round(Ut/St*ue.value)}return _s(()=>ce(t.tag,{ref:W,class:ao(["v-progress-linear",{"v-progress-linear--absolute":t.absolute,"v-progress-linear--active":t.active&&he.value,"v-progress-linear--reverse":ze.value,"v-progress-linear--rounded":t.rounded,"v-progress-linear--rounded-bar":t.roundedBar,"v-progress-linear--striped":t.striped},ie.value,x.value,h.value,t.class]),style:Ls([{bottom:t.location==="bottom"?0:void 0,top:t.location==="top"?0:void 0,height:t.active?ys(j.value):0,"--v-progress-linear-height":ys(j.value),...t.absolute?C.value:{}},t.style]),role:"progressbar","aria-hidden":t.active?"false":"true","aria-valuemin":"0","aria-valuemax":t.max,"aria-valuenow":t.indeterminate?void 0:Math.min(parseFloat(u.value),ue.value),onClick:t.clickable&&rt},{default:()=>[t.stream&&oe("div",{key:"stream",class:ao(["v-progress-linear__stream",D.value]),style:{...I.value,[ze.value?"left":"right"]:ys(-j.value),borderTop:`${ys(j.value/2)} dotted`,opacity:parseFloat(t.bufferOpacity),top:`calc(50% - ${ys(j.value/4)})`,width:ys(100-de.value,"%"),"--v-progress-linear-stream-to":ys(j.value*(ze.value?1:-1))}},null),oe("div",{class:ao(["v-progress-linear__background",Je?void 0:O.value]),style:Ls([B.value,{opacity:parseFloat(t.bgOpacity),width:t.stream?0:void 0}])},null),oe("div",{class:ao(["v-progress-linear__buffer",Je?void 0:V.value]),style:Ls([z.value,{opacity:parseFloat(t.bufferOpacity),width:ys(de.value,"%")}])},null),ce(vx,{name:Fe.value},{default:()=>[t.indeterminate?oe("div",{class:"v-progress-linear__indeterminate"},[["long","short"].map(_e=>oe("div",{key:_e,class:ao(["v-progress-linear__indeterminate",_e,Je?void 0:Z.value]),style:Ls(ee.value)},null))]):oe("div",{class:ao(["v-progress-linear__determinate",Je?void 0:Z.value]),style:Ls([ee.value,{width:ys(te.value,"%")}])},null)]}),i.default&&oe("div",{class:"v-progress-linear__content"},[i.default({value:te.value,buffer:de.value})])]})),{}}}),oK=Fn({loading:[Boolean,String]},"loader");function sK(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ub();return{loaderClasses:pn(()=>({[`${r}--loading`]:t.loading}))}}function kee(t,r){var u;let{slots:i}=r;return oe("div",{class:ao(`${t.name}__loader`)},[((u=i.default)==null?void 0:u.call(i,{color:t.color,isActive:t.active}))||ce(H0e,{absolute:t.absolute,active:t.active,color:t.color,height:"2",indeterminate:!0},null)])}const U0e=["static","relative","fixed","absolute","sticky"],rK=Fn({position:{type:String,validator:t=>U0e.includes(t)}},"position");function iK(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ub();return{positionClasses:pn(()=>t.position?`${r}--${t.position}`:void 0)}}function W0e(){const t=Bl("useRoute");return It(()=>{var r;return(r=t==null?void 0:t.proxy)==null?void 0:r.$route})}function Eee(){var t,r;return(r=(t=Bl("useRouter"))==null?void 0:t.proxy)==null?void 0:r.$router}function t8(t,r){var O,B;const i=ufe("RouterLink"),u=pn(()=>!!(t.href||t.to)),g=It(()=>(u==null?void 0:u.value)||_q(r,"click")||_q(t,"click"));if(typeof i=="string"||!("useLink"in i)){const V=pn(()=>t.href);return{isLink:u,isClickable:g,href:V,linkProps:Kl({href:V})}}const h=i.useLink({to:pn(()=>t.to||""),replace:pn(()=>t.replace)}),x=It(()=>t.to?h:void 0),C=W0e(),D=It(()=>{var V,z,Z;return x.value?t.exact?C.value?((Z=x.value.isExactActive)==null?void 0:Z.value)&&Zg(x.value.route.value.query,C.value.query):((z=x.value.isExactActive)==null?void 0:z.value)??!1:((V=x.value.isActive)==null?void 0:V.value)??!1:!1}),I=It(()=>{var V;return t.to?(V=x.value)==null?void 0:V.route.value.href:t.href});return{isLink:u,isClickable:g,isActive:D,route:(O=x.value)==null?void 0:O.route,navigate:(B=x.value)==null?void 0:B.navigate,href:I,linkProps:Kl({href:I,"aria-current":pn(()=>D.value?"page":void 0)})}}const n8=Fn({href:String,replace:Boolean,to:[String,Object],exact:Boolean},"router");let aU=!1;function K0e(t,r){let i=!1,u,g;Jr&&(t!=null&&t.beforeEach)&&(Qo(()=>{window.addEventListener("popstate",h),u=t.beforeEach((x,C,D)=>{aU?i?r(D):D():setTimeout(()=>i?r(D):D()),aU=!0}),g=t==null?void 0:t.afterEach(()=>{aU=!1})}),rc(()=>{window.removeEventListener("popstate",h),u==null||u(),g==null||g()}));function h(x){var C;(C=x.state)!=null&&C.replaced||(i=!0,setTimeout(()=>i=!1))}}function j0e(t,r){Rn(()=>{var i;return(i=t.isActive)==null?void 0:i.value},i=>{t.isLink.value&&i!=null&&r&&Qo(()=>{r(i)})},{immediate:!0})}const iW=Symbol("rippleStop"),Z0e=80;function BY(t,r){t.style.transform=r,t.style.webkitTransform=r}function aW(t){return t.constructor.name==="TouchEvent"}function Aee(t){return t.constructor.name==="KeyboardEvent"}const G0e=function(t,r){var B;let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},u=0,g=0;if(!Aee(t)){const V=r.getBoundingClientRect(),z=aW(t)?t.touches[t.touches.length-1]:t;u=z.clientX-V.left,g=z.clientY-V.top}let h=0,x=.3;(B=r._ripple)!=null&&B.circle?(x=.15,h=r.clientWidth/2,h=i.center?h:h+Math.sqrt((u-h)**2+(g-h)**2)/4):h=Math.sqrt(r.clientWidth**2+r.clientHeight**2)/2;const C=`${(r.clientWidth-h*2)/2}px`,D=`${(r.clientHeight-h*2)/2}px`,I=i.center?C:`${u-h}px`,O=i.center?D:`${g-h}px`;return{radius:h,scale:x,x:I,y:O,centerX:C,centerY:D}},bF={show(t,r){var z;let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!((z=r==null?void 0:r._ripple)!=null&&z.enabled))return;const u=document.createElement("span"),g=document.createElement("span");u.appendChild(g),u.className="v-ripple__container",i.class&&(u.className+=` ${i.class}`);const{radius:h,scale:x,x:C,y:D,centerX:I,centerY:O}=G0e(t,r,i),B=`${h*2}px`;g.className="v-ripple__animation",g.style.width=B,g.style.height=B,r.appendChild(u);const V=window.getComputedStyle(r);V&&V.position==="static"&&(r.style.position="relative",r.dataset.previousPosition="static"),g.classList.add("v-ripple__animation--enter"),g.classList.add("v-ripple__animation--visible"),BY(g,`translate(${C}, ${D}) scale3d(${x},${x},${x})`),g.dataset.activated=String(performance.now()),requestAnimationFrame(()=>{requestAnimationFrame(()=>{g.classList.remove("v-ripple__animation--enter"),g.classList.add("v-ripple__animation--in"),BY(g,`translate(${I}, ${O}) scale3d(1,1,1)`)})})},hide(t){var h;if(!((h=t==null?void 0:t._ripple)!=null&&h.enabled))return;const r=t.getElementsByClassName("v-ripple__animation");if(r.length===0)return;const i=r[r.length-1];if(i.dataset.isHiding)return;i.dataset.isHiding="true";const u=performance.now()-Number(i.dataset.activated),g=Math.max(250-u,0);setTimeout(()=>{i.classList.remove("v-ripple__animation--in"),i.classList.add("v-ripple__animation--out"),setTimeout(()=>{var C;t.getElementsByClassName("v-ripple__animation").length===1&&t.dataset.previousPosition&&(t.style.position=t.dataset.previousPosition,delete t.dataset.previousPosition),((C=i.parentNode)==null?void 0:C.parentNode)===t&&t.removeChild(i.parentNode)},300)},g)}};function Tee(t){return typeof t>"u"||!!t}function KR(t){const r={},i=t.currentTarget;if(!(!(i!=null&&i._ripple)||i._ripple.touched||t[iW])){if(t[iW]=!0,aW(t))i._ripple.touched=!0,i._ripple.isTouch=!0;else if(i._ripple.isTouch)return;if(r.center=i._ripple.centered||Aee(t),i._ripple.class&&(r.class=i._ripple.class),aW(t)){if(i._ripple.showTimerCommit)return;i._ripple.showTimerCommit=()=>{bF.show(t,i,r)},i._ripple.showTimer=window.setTimeout(()=>{var u;(u=i==null?void 0:i._ripple)!=null&&u.showTimerCommit&&(i._ripple.showTimerCommit(),i._ripple.showTimerCommit=null)},Z0e)}else bF.show(t,i,r)}}function FY(t){t[iW]=!0}function Cm(t){const r=t.currentTarget;if(r!=null&&r._ripple){if(window.clearTimeout(r._ripple.showTimer),t.type==="touchend"&&r._ripple.showTimerCommit){r._ripple.showTimerCommit(),r._ripple.showTimerCommit=null,r._ripple.showTimer=window.setTimeout(()=>{Cm(t)});return}window.setTimeout(()=>{r._ripple&&(r._ripple.touched=!1)}),bF.hide(r)}}function Oee(t){const r=t.currentTarget;r!=null&&r._ripple&&(r._ripple.showTimerCommit&&(r._ripple.showTimerCommit=null),window.clearTimeout(r._ripple.showTimer))}let jR=!1;function $Y(t,r){!jR&&r.includes(t.keyCode)&&(jR=!0,KR(t))}function Ree(t){jR=!1,Cm(t)}function Iee(t){jR&&(jR=!1,Cm(t))}function Dee(t,r,i){const{value:u,modifiers:g}=r,h=Tee(u);h||bF.hide(t),t._ripple=t._ripple??{},t._ripple.enabled=h,t._ripple.centered=g.center,t._ripple.circle=g.circle;const x=LU(u)?u:{};x.class&&(t._ripple.class=x.class);const C=x.keys??[MU.enter,MU.space];if(t._ripple.keyDownHandler=D=>$Y(D,C),h&&!i){if(g.stop){t.addEventListener("touchstart",FY,{passive:!0}),t.addEventListener("mousedown",FY);return}t.addEventListener("touchstart",KR,{passive:!0}),t.addEventListener("touchend",Cm,{passive:!0}),t.addEventListener("touchmove",Oee,{passive:!0}),t.addEventListener("touchcancel",Cm),t.addEventListener("mousedown",KR),t.addEventListener("mouseup",Cm),t.addEventListener("mouseleave",Cm),t.addEventListener("keydown",D=>$Y(D,C)),t.addEventListener("keyup",Ree),t.addEventListener("blur",Iee),t.addEventListener("dragstart",Cm,{passive:!0})}else!h&&i&&Pee(t)}function Pee(t){var r;t.removeEventListener("mousedown",KR),t.removeEventListener("touchstart",KR),t.removeEventListener("touchend",Cm),t.removeEventListener("touchmove",Oee),t.removeEventListener("touchcancel",Cm),t.removeEventListener("mouseup",Cm),t.removeEventListener("mouseleave",Cm),(r=t._ripple)!=null&&r.keyDownHandler&&t.removeEventListener("keydown",t._ripple.keyDownHandler),t.removeEventListener("keyup",Ree),t.removeEventListener("dragstart",Cm),t.removeEventListener("blur",Iee)}function q0e(t,r){Dee(t,r,!1)}function Y0e(t){Pee(t),delete t._ripple}function X0e(t,r){if(r.value===r.oldValue)return;const i=Tee(r.oldValue);Dee(t,r,i)}const J0={mounted:q0e,unmounted:Y0e,updated:X0e},J0e=Fn({active:{type:Boolean,default:void 0},activeColor:String,baseColor:String,symbol:{type:null,default:_ee},flat:Boolean,icon:[Boolean,String,Function,Object],prependIcon:$r,appendIcon:$r,block:Boolean,readonly:Boolean,slim:Boolean,stacked:Boolean,ripple:{type:[Boolean,Object],default:!0},text:{type:[String,Number,Boolean],default:void 0},...o1(),...zs(),...qg(),...fp(),...r1(),...xee(),...oK(),...QF(),...rK(),...Am(),...n8(),...gI(),...aa({tag:"button"}),...xl(),...a1({variant:"elevated"})},"VBtn"),ko=Fo()({name:"VBtn",props:J0e(),emits:{"group:selected":t=>!0},setup(t,r){let{attrs:i,slots:u}=r;const{themeClasses:g}=ic(t),{borderClasses:h}=s1(t),{densityClasses:x}=dp(t),{dimensionStyles:C}=mp(t),{elevationClasses:D}=i1(t),{loaderClasses:I}=sK(t),{locationStyles:O}=e8(t),{positionClasses:B}=iK(t),{roundedClasses:V}=Tm(t),{sizeClasses:z,sizeStyles:Z}=hI(t),ee=wee(t,t.symbol,!1),ie=t8(t,i),W=It(()=>{var we;return t.active!==void 0?t.active:ie.isLink.value?(we=ie.isActive)==null?void 0:we.value:ee==null?void 0:ee.isSelected.value}),he=pn(()=>W.value?t.activeColor??t.color:t.color),ue=It(()=>{var _e,R;return{color:(ee==null?void 0:ee.isSelected.value)&&(!ie.isLink.value||((_e=ie.isActive)==null?void 0:_e.value))||!ee||((R=ie.isActive)==null?void 0:R.value)?he.value??t.baseColor:t.baseColor,variant:t.variant}}),{colorClasses:j,colorStyles:de,variantClasses:te}=FE(ue),ze=It(()=>(ee==null?void 0:ee.disabled.value)||t.disabled),Fe=pn(()=>t.variant==="elevated"&&!(t.disabled||t.flat||t.border)),Je=It(()=>{if(!(t.value===void 0||typeof t.value=="symbol"))return Object(t.value)===t.value?JSON.stringify(t.value,null,0):t.value});function rt(we){var _e;ze.value||ie.isLink.value&&(we.metaKey||we.ctrlKey||we.shiftKey||we.button!==0||i.target==="_blank")||((_e=ie.navigate)==null||_e.call(ie,we),ee==null||ee.toggle())}return j0e(ie,ee==null?void 0:ee.select),_s(()=>{const we=ie.isLink.value?"a":t.tag,_e=!!(t.prependIcon||u.prepend),R=!!(t.appendIcon||u.append),it=!!(t.icon&&t.icon!==!0);return Bn(ce(we,Bo({type:we==="a"?void 0:"button",class:["v-btn",ee==null?void 0:ee.selectedClass.value,{"v-btn--active":W.value,"v-btn--block":t.block,"v-btn--disabled":ze.value,"v-btn--elevated":Fe.value,"v-btn--flat":t.flat,"v-btn--icon":!!t.icon,"v-btn--loading":t.loading,"v-btn--readonly":t.readonly,"v-btn--slim":t.slim,"v-btn--stacked":t.stacked},g.value,h.value,j.value,x.value,D.value,I.value,B.value,V.value,z.value,te.value,t.class],style:[de.value,C.value,O.value,Z.value,t.style],"aria-busy":t.loading?!0:void 0,disabled:ze.value||void 0,tabindex:t.loading||t.readonly?-1:void 0,onClick:rt,value:Je.value},ie.linkProps),{default:()=>{var St;return[BE(!0,"v-btn"),!t.icon&&_e&&oe("span",{key:"prepend",class:"v-btn__prepend"},[u.prepend?ce(Ea,{key:"prepend-defaults",disabled:!t.prependIcon,defaults:{VIcon:{icon:t.prependIcon}}},u.prepend):ce(Kn,{key:"prepend-icon",icon:t.prependIcon},null)]),oe("span",{class:"v-btn__content","data-no-activator":""},[!u.default&&it?ce(Kn,{key:"content-icon",icon:t.icon},null):ce(Ea,{key:"content-defaults",disabled:!it,defaults:{VIcon:{icon:t.icon}}},{default:()=>{var Ut;return[((Ut=u.default)==null?void 0:Ut.call(u))??We(t.text)]}})]),!t.icon&&R&&oe("span",{key:"append",class:"v-btn__append"},[u.append?ce(Ea,{key:"append-defaults",disabled:!t.appendIcon,defaults:{VIcon:{icon:t.appendIcon}}},u.append):ce(Kn,{key:"append-icon",icon:t.appendIcon},null)]),!!t.loading&&oe("span",{key:"loader",class:"v-btn__loader"},[((St=u.loader)==null?void 0:St.call(u))??ce(V0e,{color:typeof t.loading=="boolean"?void 0:t.loading,indeterminate:!0,width:"2"},null)])]}}),[[J0,!ze.value&&t.ripple,"",{center:!!t.icon}]])}),{group:ee}}}),Nb=Fo()({name:"VCardActions",props:zs(),setup(t,r){let{slots:i}=r;return wx({VBtn:{slim:!0,variant:"text"}}),_s(()=>{var u;return oe("div",{class:ao(["v-card-actions",t.class]),style:Ls(t.style)},[(u=i.default)==null?void 0:u.call(i)])}),{}}}),Q0e=Fn({opacity:[Number,String],...zs(),...aa()},"VCardSubtitle"),e1e=Fo()({name:"VCardSubtitle",props:Q0e(),setup(t,r){let{slots:i}=r;return _s(()=>ce(t.tag,{class:ao(["v-card-subtitle",t.class]),style:Ls([{"--v-card-subtitle-opacity":t.opacity},t.style])},i)),{}}}),o8=VF("v-card-title");function t1e(t){return{aspectStyles:It(()=>{const r=Number(t.aspectRatio);return r?{paddingBottom:String(1/r*100)+"%"}:void 0})}}const Nee=Fn({aspectRatio:[String,Number],contentClass:null,inline:Boolean,...zs(),...fp()},"VResponsive"),VY=Fo()({name:"VResponsive",props:Nee(),setup(t,r){let{slots:i}=r;const{aspectStyles:u}=t1e(t),{dimensionStyles:g}=mp(t);return _s(()=>{var h;return oe("div",{class:ao(["v-responsive",{"v-responsive--inline":t.inline},t.class]),style:Ls([g.value,t.style])},[oe("div",{class:"v-responsive__sizer",style:Ls(u.value)},null),(h=i.additional)==null?void 0:h.call(i),i.default&&oe("div",{class:ao(["v-responsive__content",t.contentClass])},[i.default()])])}),{}}}),$E=Fn({transition:{type:null,default:"fade-transition",validator:t=>t!==!0}},"transition"),dx=(t,r)=>{let{slots:i}=r;const{transition:u,disabled:g,group:h,...x}=t,{component:C=h?LW:vx,...D}=LU(u)?u:{};let I;return LU(u)?I=Bo(D,Ume({disabled:g,group:h}),x):I=Bo({name:g||!u?"":u},x),Vb(C,I,i)};function n1e(t,r){if(!MW)return;const i=r.modifiers||{},u=r.value,{handler:g,options:h}=typeof u=="object"?u:{handler:u,options:{}},x=new IntersectionObserver(function(){var B;let C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],D=arguments.length>1?arguments[1]:void 0;const I=(B=t._observe)==null?void 0:B[r.instance.$.uid];if(!I)return;const O=C.some(V=>V.isIntersecting);g&&(!i.quiet||I.init)&&(!i.once||O||I.init)&&g(O,C,D),O&&i.once?Lee(t,r):I.init=!0},h);t._observe=Object(t._observe),t._observe[r.instance.$.uid]={init:!1,observer:x},x.observe(t)}function Lee(t,r){var u;const i=(u=t._observe)==null?void 0:u[r.instance.$.uid];i&&(i.observer.unobserve(t),delete t._observe[r.instance.$.uid])}const AE={mounted:n1e,unmounted:Lee},o1e=Fn({absolute:Boolean,alt:String,cover:Boolean,color:String,draggable:{type:[Boolean,String],default:void 0},eager:Boolean,gradient:String,lazySrc:String,options:{type:Object,default:()=>({root:void 0,rootMargin:void 0,threshold:void 0})},sizes:String,src:{type:[String,Object],default:""},crossorigin:String,referrerpolicy:String,srcset:String,position:String,...Nee(),...zs(),...Am(),...$E()},"VImg"),pI=Fo()({name:"VImg",directives:{vIntersect:AE},props:o1e(),emits:{loadstart:t=>!0,load:t=>!0,error:t=>!0},setup(t,r){let{emit:i,slots:u}=r;const{backgroundColorClasses:g,backgroundColorStyles:h}=ip(()=>t.color),{roundedClasses:x}=Tm(t),C=Bl("VImg"),D=bo(""),I=Ln(),O=bo(t.eager?"loading":"idle"),B=bo(),V=bo(),z=It(()=>t.src&&typeof t.src=="object"?{src:t.src.src,srcset:t.srcset||t.src.srcset,lazySrc:t.lazySrc||t.src.lazySrc,aspect:Number(t.aspectRatio||t.src.aspect||0)}:{src:t.src,srcset:t.srcset,lazySrc:t.lazySrc,aspect:Number(t.aspectRatio||0)}),Z=It(()=>z.value.aspect||B.value/V.value||0);Rn(()=>t.src,()=>{ee(O.value!=="idle")}),Rn(Z,(_e,R)=>{!_e&&R&&I.value&&j(I.value)}),aI(()=>ee());function ee(_e){if(!(t.eager&&_e)&&!(MW&&!_e&&!t.eager)){if(O.value="loading",z.value.lazySrc){const R=new Image;R.src=z.value.lazySrc,j(R,null)}z.value.src&&Qo(()=>{var R;i("loadstart",((R=I.value)==null?void 0:R.currentSrc)||z.value.src),setTimeout(()=>{var it;if(!C.isUnmounted)if((it=I.value)!=null&&it.complete){if(I.value.naturalWidth||W(),O.value==="error")return;Z.value||j(I.value,null),O.value==="loading"&&ie()}else Z.value||j(I.value),he()})})}}function ie(){var _e;C.isUnmounted||(he(),j(I.value),O.value="loaded",i("load",((_e=I.value)==null?void 0:_e.currentSrc)||z.value.src))}function W(){var _e;C.isUnmounted||(O.value="error",i("error",((_e=I.value)==null?void 0:_e.currentSrc)||z.value.src))}function he(){const _e=I.value;_e&&(D.value=_e.currentSrc||_e.src)}let ue=-1;Ec(()=>{clearTimeout(ue)});function j(_e){let R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:100;const it=()=>{if(clearTimeout(ue),C.isUnmounted)return;const{naturalHeight:St,naturalWidth:Ut}=_e;St||Ut?(B.value=Ut,V.value=St):!_e.complete&&O.value==="loading"&&R!=null?ue=window.setTimeout(it,R):(_e.currentSrc.endsWith(".svg")||_e.currentSrc.startsWith("data:image/svg+xml"))&&(B.value=1,V.value=1)};it()}const de=pn(()=>({"v-img__img--cover":t.cover,"v-img__img--contain":!t.cover})),te=()=>{var it;if(!z.value.src||O.value==="idle")return null;const _e=oe("img",{class:ao(["v-img__img",de.value]),style:{objectPosition:t.position},crossorigin:t.crossorigin,src:z.value.src,srcset:z.value.srcset,alt:t.alt,referrerpolicy:t.referrerpolicy,draggable:t.draggable,sizes:t.sizes,ref:I,onLoad:ie,onError:W},null),R=(it=u.sources)==null?void 0:it.call(u);return ce(dx,{transition:t.transition,appear:!0},{default:()=>[Bn(R?oe("picture",{class:"v-img__picture"},[R,_e]):_e,[[fo,O.value==="loaded"]])]})},ze=()=>ce(dx,{transition:t.transition},{default:()=>[z.value.lazySrc&&O.value!=="loaded"&&oe("img",{class:ao(["v-img__img","v-img__img--preload",de.value]),style:{objectPosition:t.position},crossorigin:t.crossorigin,src:z.value.lazySrc,alt:t.alt,referrerpolicy:t.referrerpolicy,draggable:t.draggable},null)]}),Fe=()=>u.placeholder?ce(dx,{transition:t.transition,appear:!0},{default:()=>[(O.value==="loading"||O.value==="error"&&!u.error)&&oe("div",{class:"v-img__placeholder"},[u.placeholder()])]}):null,Je=()=>u.error?ce(dx,{transition:t.transition,appear:!0},{default:()=>[O.value==="error"&&oe("div",{class:"v-img__error"},[u.error()])]}):null,rt=()=>t.gradient?oe("div",{class:"v-img__gradient",style:{backgroundImage:`linear-gradient(${t.gradient})`}},null):null,we=bo(!1);{const _e=Rn(Z,R=>{R&&(requestAnimationFrame(()=>{requestAnimationFrame(()=>{we.value=!0})}),_e())})}return _s(()=>{const _e=VY.filterProps(t);return Bn(ce(VY,Bo({class:["v-img",{"v-img--absolute":t.absolute,"v-img--booting":!we.value},g.value,x.value,t.class],style:[{width:ys(t.width==="auto"?B.value:t.width)},h.value,t.style]},_e,{aspectRatio:Z.value,"aria-label":t.alt,role:t.alt?"img":void 0}),{additional:()=>oe(is,null,[ce(te,null,null),ce(ze,null,null),ce(rt,null,null),ce(Fe,null,null),ce(Je,null,null)]),default:u.default}),[[AE,{handler:ee,options:t.options},null,{once:!0}]])}),{currentSrc:D,image:I,state:O,naturalWidth:B,naturalHeight:V}}}),s1e=Fn({start:Boolean,end:Boolean,icon:$r,image:String,text:String,...o1(),...zs(),...qg(),...Am(),...gI(),...aa(),...xl(),...a1({variant:"flat"})},"VAvatar"),yx=Fo()({name:"VAvatar",props:s1e(),setup(t,r){let{slots:i}=r;const{themeClasses:u}=ic(t),{borderClasses:g}=s1(t),{colorClasses:h,colorStyles:x,variantClasses:C}=FE(t),{densityClasses:D}=dp(t),{roundedClasses:I}=Tm(t),{sizeClasses:O,sizeStyles:B}=hI(t);return _s(()=>ce(t.tag,{class:ao(["v-avatar",{"v-avatar--start":t.start,"v-avatar--end":t.end},u.value,g.value,h.value,D.value,I.value,O.value,C.value,t.class]),style:Ls([x.value,B.value,t.style])},{default:()=>[i.default?ce(Ea,{key:"content-defaults",defaults:{VImg:{cover:!0,src:t.image},VIcon:{icon:t.icon}}},{default:()=>[i.default()]}):t.image?ce(pI,{key:"image",src:t.image,alt:"",cover:!0},null):t.icon?ce(Kn,{key:"icon",icon:t.icon},null):t.text,BE(!1,"v-avatar")]})),{}}}),r1e=Fn({appendAvatar:String,appendIcon:$r,prependAvatar:String,prependIcon:$r,subtitle:{type:[String,Number,Boolean],default:void 0},title:{type:[String,Number,Boolean],default:void 0},...zs(),...qg()},"VCardItem"),i1e=Fo()({name:"VCardItem",props:r1e(),setup(t,r){let{slots:i}=r;return _s(()=>{var I;const u=!!(t.prependAvatar||t.prependIcon),g=!!(u||i.prepend),h=!!(t.appendAvatar||t.appendIcon),x=!!(h||i.append),C=!!(t.title!=null||i.title),D=!!(t.subtitle!=null||i.subtitle);return oe("div",{class:ao(["v-card-item",t.class]),style:Ls(t.style)},[g&&oe("div",{key:"prepend",class:"v-card-item__prepend"},[i.prepend?ce(Ea,{key:"prepend-defaults",disabled:!u,defaults:{VAvatar:{density:t.density,image:t.prependAvatar},VIcon:{density:t.density,icon:t.prependIcon}}},i.prepend):oe(is,null,[t.prependAvatar&&ce(yx,{key:"prepend-avatar",density:t.density,image:t.prependAvatar},null),t.prependIcon&&ce(Kn,{key:"prepend-icon",density:t.density,icon:t.prependIcon},null)])]),oe("div",{class:"v-card-item__content"},[C&&ce(o8,{key:"title"},{default:()=>{var O;return[((O=i.title)==null?void 0:O.call(i))??We(t.title)]}}),D&&ce(e1e,{key:"subtitle"},{default:()=>{var O;return[((O=i.subtitle)==null?void 0:O.call(i))??We(t.subtitle)]}}),(I=i.default)==null?void 0:I.call(i)]),x&&oe("div",{key:"append",class:"v-card-item__append"},[i.append?ce(Ea,{key:"append-defaults",disabled:!h,defaults:{VAvatar:{density:t.density,image:t.appendAvatar},VIcon:{density:t.density,icon:t.appendIcon}}},i.append):oe(is,null,[t.appendIcon&&ce(Kn,{key:"append-icon",density:t.density,icon:t.appendIcon},null),t.appendAvatar&&ce(yx,{key:"append-avatar",density:t.density,image:t.appendAvatar},null)])])])}),{}}}),a1e=Fn({opacity:[Number,String],...zs(),...aa()},"VCardText"),Lb=Fo()({name:"VCardText",props:a1e(),setup(t,r){let{slots:i}=r;return _s(()=>ce(t.tag,{class:ao(["v-card-text",t.class]),style:Ls([{"--v-card-text-opacity":t.opacity},t.style])},i)),{}}}),l1e=Fn({appendAvatar:String,appendIcon:$r,disabled:Boolean,flat:Boolean,hover:Boolean,image:String,link:{type:Boolean,default:void 0},prependAvatar:String,prependIcon:$r,ripple:{type:[Boolean,Object],default:!0},subtitle:{type:[String,Number,Boolean],default:void 0},text:{type:[String,Number,Boolean],default:void 0},title:{type:[String,Number,Boolean],default:void 0},...o1(),...zs(),...qg(),...fp(),...r1(),...oK(),...QF(),...rK(),...Am(),...n8(),...aa(),...xl(),...a1({variant:"elevated"})},"VCard"),K0=Fo()({name:"VCard",directives:{vRipple:J0},props:l1e(),setup(t,r){let{attrs:i,slots:u}=r;const{themeClasses:g}=ic(t),{borderClasses:h}=s1(t),{colorClasses:x,colorStyles:C,variantClasses:D}=FE(t),{densityClasses:I}=dp(t),{dimensionStyles:O}=mp(t),{elevationClasses:B}=i1(t),{loaderClasses:V}=sK(t),{locationStyles:z}=e8(t),{positionClasses:Z}=iK(t),{roundedClasses:ee}=Tm(t),ie=t8(t,i);return _s(()=>{const W=t.link!==!1&&ie.isLink.value,he=!t.disabled&&t.link!==!1&&(t.link||ie.isClickable.value),ue=W?"a":t.tag,j=!!(u.title||t.title!=null),de=!!(u.subtitle||t.subtitle!=null),te=j||de,ze=!!(u.append||t.appendAvatar||t.appendIcon),Fe=!!(u.prepend||t.prependAvatar||t.prependIcon),Je=!!(u.image||t.image),rt=te||Fe||ze,we=!!(u.text||t.text!=null);return Bn(ce(ue,Bo({class:["v-card",{"v-card--disabled":t.disabled,"v-card--flat":t.flat,"v-card--hover":t.hover&&!(t.disabled||t.flat),"v-card--link":he},g.value,h.value,x.value,I.value,B.value,V.value,Z.value,ee.value,D.value,t.class],style:[C.value,O.value,z.value,t.style],onClick:he&&ie.navigate,tabindex:t.disabled?-1:void 0},ie.linkProps),{default:()=>{var _e;return[Je&&oe("div",{key:"image",class:"v-card__image"},[u.image?ce(Ea,{key:"image-defaults",disabled:!t.image,defaults:{VImg:{cover:!0,src:t.image}}},u.image):ce(pI,{key:"image-img",cover:!0,src:t.image},null)]),ce(kee,{name:"v-card",active:!!t.loading,color:typeof t.loading=="boolean"?void 0:t.loading},{default:u.loader}),rt&&ce(i1e,{key:"item",prependAvatar:t.prependAvatar,prependIcon:t.prependIcon,title:t.title,subtitle:t.subtitle,appendAvatar:t.appendAvatar,appendIcon:t.appendIcon},{default:u.item,prepend:u.prepend,title:u.title,subtitle:u.subtitle,append:u.append}),we&&ce(Lb,{key:"text"},{default:()=>{var R;return[((R=u.text)==null?void 0:R.call(u))??t.text]}}),(_e=u.default)==null?void 0:_e.call(u),u.actions&&ce(Nb,null,{default:u.actions}),BE(he,"v-card")]}}),[[J0,he&&t.ripple]])}),{}}}),c1e=Fn({disabled:Boolean,group:Boolean,hideOnLeave:Boolean,leaveAbsolute:Boolean,mode:String,origin:String},"transition");function Om(t,r,i){return Fo()({name:t,props:c1e({mode:i,origin:r}),setup(u,g){let{slots:h}=g;const x={onBeforeEnter(C){u.origin&&(C.style.transformOrigin=u.origin)},onLeave(C){if(u.leaveAbsolute){const{offsetTop:D,offsetLeft:I,offsetWidth:O,offsetHeight:B}=C;C._transitionInitialStyles={position:C.style.position,top:C.style.top,left:C.style.left,width:C.style.width,height:C.style.height},C.style.position="absolute",C.style.top=`${D}px`,C.style.left=`${I}px`,C.style.width=`${O}px`,C.style.height=`${B}px`}u.hideOnLeave&&C.style.setProperty("display","none","important")},onAfterLeave(C){if(u.leaveAbsolute&&(C!=null&&C._transitionInitialStyles)){const{position:D,top:I,left:O,width:B,height:V}=C._transitionInitialStyles;delete C._transitionInitialStyles,C.style.position=D||"",C.style.top=I||"",C.style.left=O||"",C.style.width=B||"",C.style.height=V||""}}};return()=>{const C=u.group?LW:vx;return Vb(C,{name:u.disabled?"":t,css:!u.disabled,...u.group?void 0:{mode:u.mode},...u.disabled?{}:x},h.default)}}})}function Mee(t,r){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"in-out";return Fo()({name:t,props:{mode:{type:String,default:i},disabled:Boolean,group:Boolean},setup(u,g){let{slots:h}=g;const x=u.group?LW:vx;return()=>Vb(x,{name:u.disabled?"":t,css:!u.disabled,...u.disabled?{}:r},h.default)}})}function Bee(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";const i=(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1)?"width":"height",u=Ld(`offset-${i}`);return{onBeforeEnter(x){x._parent=x.parentNode,x._initialStyle={transition:x.style.transition,overflow:x.style.overflow,[i]:x.style[i]}},onEnter(x){const C=x._initialStyle;if(!C)return;x.style.setProperty("transition","none","important"),x.style.overflow="hidden";const D=`${x[u]}px`;x.style[i]="0",x.offsetHeight,x.style.transition=C.transition,t&&x._parent&&x._parent.classList.add(t),requestAnimationFrame(()=>{x.style[i]=D})},onAfterEnter:h,onEnterCancelled:h,onLeave(x){x._initialStyle={transition:"",overflow:x.style.overflow,[i]:x.style[i]},x.style.overflow="hidden",x.style[i]=`${x[u]}px`,x.offsetHeight,requestAnimationFrame(()=>x.style[i]="0")},onAfterLeave:g,onLeaveCancelled:g};function g(x){t&&x._parent&&x._parent.classList.remove(t),h(x)}function h(x){if(!x._initialStyle)return;const C=x._initialStyle[i];x.style.overflow=x._initialStyle.overflow,C!=null&&(x.style[i]=C),delete x._initialStyle}}const u1e=Fn({target:[Object,Array]},"v-dialog-transition"),lU=new WeakMap,aK=Fo()({name:"VDialogTransition",props:u1e(),setup(t,r){let{slots:i}=r;const u={onBeforeEnter(g){g.style.pointerEvents="none",g.style.visibility="hidden"},async onEnter(g,h){var z;await new Promise(Z=>requestAnimationFrame(Z)),await new Promise(Z=>requestAnimationFrame(Z)),g.style.visibility="";const x=HY(t.target,g),{x:C,y:D,sx:I,sy:O,speed:B}=x;lU.set(g,x);const V=dE(g,[{transform:`translate(${C}px, ${D}px) scale(${I}, ${O})`,opacity:0},{}],{duration:225*B,easing:yge});(z=zY(g))==null||z.forEach(Z=>{dE(Z,[{opacity:0},{opacity:0,offset:.33},{}],{duration:225*2*B,easing:rF})}),V.finished.then(()=>h())},onAfterEnter(g){g.style.removeProperty("pointer-events")},onBeforeLeave(g){g.style.pointerEvents="none"},async onLeave(g,h){var z;await new Promise(Z=>requestAnimationFrame(Z));let x;!lU.has(g)||Array.isArray(t.target)||t.target.offsetParent||t.target.getClientRects().length?x=HY(t.target,g):x=lU.get(g);const{x:C,y:D,sx:I,sy:O,speed:B}=x;dE(g,[{},{transform:`translate(${C}px, ${D}px) scale(${I}, ${O})`,opacity:0}],{duration:125*B,easing:xge}).finished.then(()=>h()),(z=zY(g))==null||z.forEach(Z=>{dE(Z,[{},{opacity:0,offset:.2},{opacity:0}],{duration:125*2*B,easing:rF})})},onAfterLeave(g){g.style.removeProperty("pointer-events")}};return()=>t.target?ce(vx,Bo({name:"dialog-transition"},u,{css:!1}),i):ce(vx,{name:"dialog-transition"},i)}});function zY(t){var i;const r=(i=t.querySelector(":scope > .v-card, :scope > .v-sheet, :scope > .v-list"))==null?void 0:i.children;return r&&[...r]}function HY(t,r){const i=tQ(t),u=VW(r),[g,h]=getComputedStyle(r).transformOrigin.split(" ").map(W=>parseFloat(W)),[x,C]=getComputedStyle(r).getPropertyValue("--v-overlay-anchor-origin").split(" ");let D=i.left+i.width/2;x==="left"||C==="left"?D-=i.width/2:(x==="right"||C==="right")&&(D+=i.width/2);let I=i.top+i.height/2;x==="top"||C==="top"?I-=i.height/2:(x==="bottom"||C==="bottom")&&(I+=i.height/2);const O=i.width/u.width,B=i.height/u.height,V=Math.max(1,O,B),z=O/V||0,Z=B/V||0,ee=u.width*u.height/(window.innerWidth*window.innerHeight),ie=ee>.12?Math.min(1.5,(ee-.12)*10+1):1;return{x:D-(g+u.left),y:I-(h+u.top),sx:z,sy:Z,speed:ie}}Om("fab-transition","center center","out-in");Om("dialog-bottom-transition");Om("dialog-top-transition");const UY=Om("fade-transition");Om("scale-transition");Om("scroll-x-transition");Om("scroll-x-reverse-transition");Om("scroll-y-transition");Om("scroll-y-reverse-transition");Om("slide-x-transition");Om("slide-x-reverse-transition");const Fee=Om("slide-y-transition");Om("slide-y-reverse-transition");const $ee=Mee("expand-transition",Bee()),Vee=Mee("expand-x-transition",Bee("",!0));function cU(t,r){return{x:t.x+r.x,y:t.y+r.y}}function d1e(t,r){return{x:t.x-r.x,y:t.y-r.y}}function WY(t,r){if(t.side==="top"||t.side==="bottom"){const{side:i,align:u}=t,g=u==="left"?0:u==="center"?r.width/2:u==="right"?r.width:u,h=i==="top"?0:i==="bottom"?r.height:i;return cU({x:g,y:h},r)}else if(t.side==="left"||t.side==="right"){const{side:i,align:u}=t,g=i==="left"?0:i==="right"?r.width:i,h=u==="top"?0:u==="center"?r.height/2:u==="bottom"?r.height:u;return cU({x:g,y:h},r)}return cU({x:r.width/2,y:r.height/2},r)}const zee={static:g1e,connected:p1e},f1e=Fn({locationStrategy:{type:[String,Function],default:"static",validator:t=>typeof t=="function"||t in zee},location:{type:String,default:"bottom"},origin:{type:String,default:"auto"},offset:[Number,String,Array]},"VOverlay-location-strategies");function m1e(t,r){const i=Ln({}),u=Ln();Jr&&jg(()=>!!(r.isActive.value&&t.locationStrategy),C=>{var D,I;Rn(()=>t.locationStrategy,C),rc(()=>{window.removeEventListener("resize",g),visualViewport==null||visualViewport.removeEventListener("resize",h),visualViewport==null||visualViewport.removeEventListener("scroll",x),u.value=void 0}),window.addEventListener("resize",g,{passive:!0}),visualViewport==null||visualViewport.addEventListener("resize",h,{passive:!0}),visualViewport==null||visualViewport.addEventListener("scroll",x,{passive:!0}),typeof t.locationStrategy=="function"?u.value=(D=t.locationStrategy(r,t,i))==null?void 0:D.updateLocation:u.value=(I=zee[t.locationStrategy](r,t,i))==null?void 0:I.updateLocation});function g(C){var D;(D=u.value)==null||D.call(u,C)}function h(C){var D;(D=u.value)==null||D.call(u,C)}function x(C){var D;(D=u.value)==null||D.call(u,C)}return{contentStyles:i,updateLocation:u}}function g1e(){}function h1e(t,r){const i=VW(t);return r?i.x+=parseFloat(t.style.right||0):i.x-=parseFloat(t.style.left||0),i.y-=parseFloat(t.style.top||0),i}function p1e(t,r,i){(Array.isArray(t.target.value)||Cge(t.target.value))&&Object.assign(i.value,{position:"fixed",top:0,[t.isRtl.value?"right":"left"]:0});const{preferredAnchor:g,preferredOrigin:h}=BW(()=>{const W=$U(r.location,t.isRtl.value),he=r.origin==="overlap"?W:r.origin==="auto"?$9(W):$U(r.origin,t.isRtl.value);return W.side===he.side&&W.align===V9(he).align?{preferredAnchor:Sq(W),preferredOrigin:Sq(he)}:{preferredAnchor:W,preferredOrigin:he}}),[x,C,D,I]=["minWidth","minHeight","maxWidth","maxHeight"].map(W=>It(()=>{const he=parseFloat(r[W]);return isNaN(he)?1/0:he})),O=It(()=>{if(Array.isArray(r.offset))return r.offset;if(typeof r.offset=="string"){const W=r.offset.split(" ").map(parseFloat);return W.length<2&&W.push(0),W}return typeof r.offset=="number"?[r.offset,0]:[0,0]});let B=!1,V=-1;const z=new XJ(4),Z=new ResizeObserver(()=>{if(!B)return;if(requestAnimationFrame(he=>{he!==V&&z.clear(),requestAnimationFrame(ue=>{V=ue})}),z.isFull){const he=z.values();if(Zg(he.at(-1),he.at(-3))&&!Zg(he.at(-1),he.at(-2)))return}const W=ie();W&&z.push(W.flipped)});Rn([t.target,t.contentEl],(W,he)=>{let[ue,j]=W,[de,te]=he;de&&!Array.isArray(de)&&Z.unobserve(de),ue&&!Array.isArray(ue)&&Z.observe(ue),te&&Z.unobserve(te),j&&Z.observe(j)},{immediate:!0}),rc(()=>{Z.disconnect()});let ee=new Bb({x:0,y:0,width:0,height:0});function ie(){if(B=!1,requestAnimationFrame(()=>B=!0),!t.target.value||!t.contentEl.value)return;(Array.isArray(t.target.value)||t.target.value.offsetParent||t.target.value.getClientRects().length)&&(ee=tQ(t.target.value));const W=h1e(t.contentEl.value,t.isRtl.value),he=iF(t.contentEl.value),ue=12;he.length||(he.push(document.documentElement),t.contentEl.value.style.top&&t.contentEl.value.style.left||(W.x-=parseFloat(document.documentElement.style.getPropertyValue("--v-body-scroll-x")||0),W.y-=parseFloat(document.documentElement.style.getPropertyValue("--v-body-scroll-y")||0)));const j=he.reduce((R,it)=>{const St=Kme(it);return R?new Bb({x:Math.max(R.left,St.left),y:Math.max(R.top,St.top),width:Math.min(R.right,St.right)-Math.max(R.left,St.left),height:Math.min(R.bottom,St.bottom)-Math.max(R.top,St.top)}):St},void 0);j.x+=ue,j.y+=ue,j.width-=ue*2,j.height-=ue*2;let de={anchor:g.value,origin:h.value};function te(R){const it=new Bb(W),St=WY(R.anchor,ee),Ut=WY(R.origin,it);let{x:sn,y:dt}=d1e(St,Ut);switch(R.anchor.side){case"top":dt-=O.value[0];break;case"bottom":dt+=O.value[0];break;case"left":sn-=O.value[0];break;case"right":sn+=O.value[0];break}switch(R.anchor.align){case"top":dt-=O.value[1];break;case"bottom":dt+=O.value[1];break;case"left":sn-=O.value[1];break;case"right":sn+=O.value[1];break}return it.x+=sn,it.y+=dt,it.width=Math.min(it.width,D.value),it.height=Math.min(it.height,I.value),{overflows:Eq(it,j),x:sn,y:dt}}let ze=0,Fe=0;const Je={x:0,y:0},rt={x:!1,y:!1};let we=-1;for(;!(we++>10);){const{x:R,y:it,overflows:St}=te(de);ze+=R,Fe+=it,W.x+=R,W.y+=it;{const Ut=kq(de.anchor),sn=St.x.before||St.x.after,dt=St.y.before||St.y.after;let An=!1;if(["x","y"].forEach(At=>{if(At==="x"&&sn&&!rt.x||At==="y"&&dt&&!rt.y){const et={anchor:{...de.anchor},origin:{...de.origin}},Me=At==="x"?Ut==="y"?V9:$9:Ut==="y"?$9:V9;et.anchor=Me(et.anchor),et.origin=Me(et.origin);const{overflows:mt}=te(et);(mt[At].before<=St[At].before&&mt[At].after<=St[At].after||mt[At].before+mt[At].after<(St[At].before+St[At].after)/2)&&(de=et,An=rt[At]=!0)}}),An)continue}St.x.before&&(ze+=St.x.before,W.x+=St.x.before),St.x.after&&(ze-=St.x.after,W.x-=St.x.after),St.y.before&&(Fe+=St.y.before,W.y+=St.y.before),St.y.after&&(Fe-=St.y.after,W.y-=St.y.after);{const Ut=Eq(W,j);Je.x=j.width-Ut.x.before-Ut.x.after,Je.y=j.height-Ut.y.before-Ut.y.after,ze+=Ut.x.before,W.x+=Ut.x.before,Fe+=Ut.y.before,W.y+=Ut.y.before}break}const _e=kq(de.anchor);return Object.assign(i.value,{"--v-overlay-anchor-origin":`${de.anchor.side} ${de.anchor.align}`,transformOrigin:`${de.origin.side} ${de.origin.align}`,top:ys(uU(Fe)),left:t.isRtl.value?void 0:ys(uU(ze)),right:t.isRtl.value?ys(uU(-ze)):void 0,minWidth:ys(_e==="y"?Math.min(x.value,ee.width):x.value),maxWidth:ys(KY(xf(Je.x,x.value===1/0?0:x.value,D.value))),maxHeight:ys(KY(xf(Je.y,C.value===1/0?0:C.value,I.value)))}),{available:Je,contentBox:W,flipped:rt}}return Rn(()=>[g.value,h.value,r.offset,r.minWidth,r.minHeight,r.maxWidth,r.maxHeight],()=>ie()),Qo(()=>{const W=ie();if(!W)return;const{available:he,contentBox:ue}=W;ue.height>he.y&&requestAnimationFrame(()=>{ie(),requestAnimationFrame(()=>{ie()})})}),{updateLocation:ie}}function uU(t){return Math.round(t*devicePixelRatio)/devicePixelRatio}function KY(t){return Math.ceil(t*devicePixelRatio)/devicePixelRatio}let lW=!0;const vF=[];function b1e(t){!lW||vF.length?(vF.push(t),cW()):(lW=!1,t(),cW())}let jY=-1;function cW(){cancelAnimationFrame(jY),jY=requestAnimationFrame(()=>{const t=vF.shift();t&&t(),vF.length?cW():lW=!0})}const U6={none:null,close:x1e,block:w1e,reposition:C1e},v1e=Fn({scrollStrategy:{type:[String,Function],default:"block",validator:t=>typeof t=="function"||t in U6}},"VOverlay-scroll-strategies");function y1e(t,r){if(!Jr)return;let i;Md(async()=>{i==null||i.stop(),r.isActive.value&&t.scrollStrategy&&(i=px(),await new Promise(u=>setTimeout(u)),i.active&&i.run(()=>{var u;typeof t.scrollStrategy=="function"?t.scrollStrategy(r,t,i):(u=U6[t.scrollStrategy])==null||u.call(U6,r,t,i)}))}),rc(()=>{i==null||i.stop()})}function x1e(t){function r(i){t.isActive.value=!1}Hee(t.targetEl.value??t.contentEl.value,r)}function w1e(t,r){var x;const i=(x=t.root.value)==null?void 0:x.offsetParent,u=[...new Set([...iF(t.targetEl.value,r.contained?i:void 0),...iF(t.contentEl.value,r.contained?i:void 0)])].filter(C=>!C.classList.contains("v-overlay-scroll-blocked")),g=window.innerWidth-document.documentElement.offsetWidth,h=(C=>UW(C)&&C)(i||document.documentElement);h&&t.root.value.classList.add("v-overlay--scroll-blocked"),u.forEach((C,D)=>{C.style.setProperty("--v-body-scroll-x",ys(-C.scrollLeft)),C.style.setProperty("--v-body-scroll-y",ys(-C.scrollTop)),C!==document.documentElement&&C.style.setProperty("--v-scrollbar-offset",ys(g)),C.classList.add("v-overlay-scroll-blocked")}),rc(()=>{u.forEach((C,D)=>{const I=parseFloat(C.style.getPropertyValue("--v-body-scroll-x")),O=parseFloat(C.style.getPropertyValue("--v-body-scroll-y")),B=C.style.scrollBehavior;C.style.scrollBehavior="auto",C.style.removeProperty("--v-body-scroll-x"),C.style.removeProperty("--v-body-scroll-y"),C.style.removeProperty("--v-scrollbar-offset"),C.classList.remove("v-overlay-scroll-blocked"),C.scrollLeft=-I,C.scrollTop=-O,C.style.scrollBehavior=B}),h&&t.root.value.classList.remove("v-overlay--scroll-blocked")})}function C1e(t,r,i){let u=!1,g=-1,h=-1;function x(C){b1e(()=>{var O,B;const D=performance.now();(B=(O=t.updateLocation).value)==null||B.call(O,C),u=(performance.now()-D)/(1e3/60)>2})}h=(typeof requestIdleCallback>"u"?C=>C():requestIdleCallback)(()=>{i.run(()=>{Hee(t.targetEl.value??t.contentEl.value,C=>{u?(cancelAnimationFrame(g),g=requestAnimationFrame(()=>{g=requestAnimationFrame(()=>{x(C)})})):x(C)})})}),rc(()=>{typeof cancelIdleCallback<"u"&&cancelIdleCallback(h),cancelAnimationFrame(g)})}function Hee(t,r){const i=[document,...iF(t)];i.forEach(u=>{u.addEventListener("scroll",r,{passive:!0})}),rc(()=>{i.forEach(u=>{u.removeEventListener("scroll",r)})})}const uW=Symbol.for("vuetify:v-menu"),Uee=Fn({closeDelay:[Number,String],openDelay:[Number,String]},"delay");function Wee(t,r){let i=()=>{};function u(x){i==null||i();const C=Number(x?t.openDelay:t.closeDelay);return new Promise(D=>{i=Vme(C,()=>{r==null||r(x),D(x)})})}function g(){return u(!0)}function h(){return u(!1)}return{clearDelay:i,runOpenDelay:g,runCloseDelay:h}}const _1e=Fn({target:[String,Object],activator:[String,Object],activatorProps:{type:Object,default:()=>({})},openOnClick:{type:Boolean,default:void 0},openOnHover:Boolean,openOnFocus:{type:Boolean,default:void 0},closeOnContentClick:Boolean,...Uee()},"VOverlay-activator");function S1e(t,r){let{isActive:i,isTop:u,contentEl:g}=r;const h=Bl("useActivator"),x=Ln();let C=!1,D=!1,I=!0;const O=It(()=>t.openOnFocus||t.openOnFocus==null&&t.openOnHover),B=It(()=>t.openOnClick||t.openOnClick==null&&!t.openOnHover&&!O.value),{runOpenDelay:V,runCloseDelay:z}=Wee(t,Fe=>{Fe===(t.openOnHover&&C||O.value&&D)&&!(t.openOnHover&&i.value&&!u.value)&&(i.value!==Fe&&(I=!0),i.value=Fe)}),Z=Ln(),ee={onClick:Fe=>{Fe.stopPropagation(),x.value=Fe.currentTarget||Fe.target,i.value||(Z.value=[Fe.clientX,Fe.clientY]),i.value=!i.value},onMouseenter:Fe=>{var Je;(Je=Fe.sourceCapabilities)!=null&&Je.firesTouchEvents||(C=!0,x.value=Fe.currentTarget||Fe.target,V())},onMouseleave:Fe=>{C=!1,z()},onFocus:Fe=>{CE(Fe.target,":focus-visible")!==!1&&(D=!0,Fe.stopPropagation(),x.value=Fe.currentTarget||Fe.target,V())},onBlur:Fe=>{D=!1,Fe.stopPropagation(),z()}},ie=It(()=>{const Fe={};return B.value&&(Fe.onClick=ee.onClick),t.openOnHover&&(Fe.onMouseenter=ee.onMouseenter,Fe.onMouseleave=ee.onMouseleave),O.value&&(Fe.onFocus=ee.onFocus,Fe.onBlur=ee.onBlur),Fe}),W=It(()=>{const Fe={};if(t.openOnHover&&(Fe.onMouseenter=()=>{C=!0,V()},Fe.onMouseleave=()=>{C=!1,z()}),O.value&&(Fe.onFocusin=()=>{D=!0,V()},Fe.onFocusout=()=>{D=!1,z()}),t.closeOnContentClick){const Je=Wi(uW,null);Fe.onClick=()=>{i.value=!1,Je==null||Je.closeParents()}}return Fe}),he=It(()=>{const Fe={};return t.openOnHover&&(Fe.onMouseenter=()=>{I&&(C=!0,I=!1,V())},Fe.onMouseleave=()=>{C=!1,z()}),Fe});Rn(u,Fe=>{var Je;Fe&&(t.openOnHover&&!C&&(!O.value||!D)||O.value&&!D&&(!t.openOnHover||!C))&&!((Je=g.value)!=null&&Je.contains(document.activeElement))&&(i.value=!1)}),Rn(i,Fe=>{Fe||setTimeout(()=>{Z.value=void 0})},{flush:"post"});const ue=BU();Md(()=>{ue.value&&Qo(()=>{x.value=ue.el})});const j=BU(),de=It(()=>t.target==="cursor"&&Z.value?Z.value:j.value?j.el:Kee(t.target,h)||x.value),te=It(()=>Array.isArray(de.value)?void 0:de.value);let ze;return Rn(()=>!!t.activator,Fe=>{Fe&&Jr?(ze=px(),ze.run(()=>{k1e(t,h,{activatorEl:x,activatorEvents:ie})})):ze&&ze.stop()},{flush:"post",immediate:!0}),rc(()=>{ze==null||ze.stop()}),{activatorEl:x,activatorRef:ue,target:de,targetEl:te,targetRef:j,activatorEvents:ie,contentEvents:W,scrimEvents:he}}function k1e(t,r,i){let{activatorEl:u,activatorEvents:g}=i;Rn(()=>t.activator,(D,I)=>{if(I&&D!==I){const O=C(I);O&&x(O)}D&&Qo(()=>h())},{immediate:!0}),Rn(()=>t.activatorProps,()=>{h()}),rc(()=>{x()});function h(){let D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:C(),I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:t.activatorProps;D&&jme(D,Bo(g.value,I))}function x(){let D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:C(),I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:t.activatorProps;D&&Zme(D,Bo(g.value,I))}function C(){let D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:t.activator;const I=Kee(D,r);return u.value=(I==null?void 0:I.nodeType)===Node.ELEMENT_NODE?I:void 0,u.value}}function Kee(t,r){var u,g;if(!t)return;let i;if(t==="parent"){let h=(g=(u=r==null?void 0:r.proxy)==null?void 0:u.$el)==null?void 0:g.parentNode;for(;h!=null&&h.hasAttribute("data-no-activator");)h=h.parentNode;i=h}else typeof t=="string"?i=document.querySelector(t):"$el"in t?i=t.$el:i=t;return i}function E1e(){if(!Jr)return bo(!1);const{ssr:t}=HF();if(t){const r=bo(!1);return Wu(()=>{r.value=!0}),r}else return bo(!0)}const A1e=Fn({eager:Boolean},"lazy");function T1e(t,r){const i=bo(!1),u=pn(()=>i.value||t.eager||r.value);Rn(r,()=>i.value=!0);function g(){t.eager||(i.value=!1)}return{isBooted:i,hasContent:u,onAfterLeave:g}}function s8(){const r=Bl("useScopeId").vnode.scopeId;return{scopeId:r?{[r]:""}:void 0}}const ZY=Symbol.for("vuetify:stack"),pR=Kl([]);function O1e(t,r,i){const u=Bl("useStack"),g=!i,h=Wi(ZY,void 0),x=Kl({activeChildren:new Set});Bd(ZY,x);const C=bo(Number($b(r)));jg(t,()=>{var B;const O=(B=pR.at(-1))==null?void 0:B[1];C.value=O?O+10:Number($b(r)),g&&pR.push([u.uid,C.value]),h==null||h.activeChildren.add(u.uid),rc(()=>{if(g){const V=hs(pR).findIndex(z=>z[0]===u.uid);pR.splice(V,1)}h==null||h.activeChildren.delete(u.uid)})});const D=bo(!0);g&&Md(()=>{var B;const O=((B=pR.at(-1))==null?void 0:B[0])===u.uid;setTimeout(()=>D.value=O)});const I=pn(()=>!x.activeChildren.size);return{globalTop:IE(D),localTop:I,stackStyles:pn(()=>({zIndex:C.value}))}}function R1e(t){return{teleportTarget:It(()=>{const i=t();if(i===!0||!Jr)return;const u=i===!1?document.body:typeof i=="string"?document.querySelector(i):i;if(u==null)return;let g=[...u.children].find(h=>h.matches(".v-overlay-container"));return g||(g=document.createElement("div"),g.className="v-overlay-container",u.appendChild(g)),g})}}function I1e(){return!0}function jee(t,r,i){if(!t||Zee(t,i)===!1)return!1;const u=lQ(r);if(typeof ShadowRoot<"u"&&u instanceof ShadowRoot&&u.host===t.target)return!1;const g=(typeof i.value=="object"&&i.value.include||(()=>[]))();return g.push(r),!g.some(h=>h==null?void 0:h.contains(t.target))}function Zee(t,r){return(typeof r.value=="object"&&r.value.closeConditional||I1e)(t)}function D1e(t,r,i){const u=typeof i.value=="function"?i.value:i.value.handler;t.shadowTarget=t.target,r._clickOutside.lastMousedownWasOutside&&jee(t,r,i)&&setTimeout(()=>{Zee(t,i)&&u&&u(t)},0)}function GY(t,r){const i=lQ(t);r(document),typeof ShadowRoot<"u"&&i instanceof ShadowRoot&&r(i)}const qY={mounted(t,r){const i=g=>D1e(g,t,r),u=g=>{t._clickOutside.lastMousedownWasOutside=jee(g,t,r)};GY(t,g=>{g.addEventListener("click",i,!0),g.addEventListener("mousedown",u,!0)}),t._clickOutside||(t._clickOutside={lastMousedownWasOutside:!1}),t._clickOutside[r.instance.$.uid]={onClick:i,onMousedown:u}},beforeUnmount(t,r){t._clickOutside&&(GY(t,i=>{var h;if(!i||!((h=t._clickOutside)!=null&&h[r.instance.$.uid]))return;const{onClick:u,onMousedown:g}=t._clickOutside[r.instance.$.uid];i.removeEventListener("click",u,!0),i.removeEventListener("mousedown",g,!0)}),delete t._clickOutside[r.instance.$.uid])}};function P1e(t){const{modelValue:r,color:i,...u}=t;return ce(vx,{name:"fade-transition",appear:!0},{default:()=>[t.modelValue&&oe("div",Bo({class:["v-overlay__scrim",t.color.backgroundColorClasses.value],style:t.color.backgroundColorStyles.value},u),null)]})}const lK=Fn({absolute:Boolean,attach:[Boolean,String,Object],closeOnBack:{type:Boolean,default:!0},contained:Boolean,contentClass:null,contentProps:null,disabled:Boolean,opacity:[Number,String],noClickAnimation:Boolean,modelValue:Boolean,persistent:Boolean,scrim:{type:[Boolean,String],default:!0},zIndex:{type:[Number,String],default:2e3},..._1e(),...zs(),...fp(),...A1e(),...f1e(),...v1e(),...xl(),...$E()},"VOverlay"),yF=Fo()({name:"VOverlay",directives:{vClickOutside:qY},inheritAttrs:!1,props:{_disableGlobalStack:Boolean,...lK()},emits:{"click:outside":t=>!0,"update:modelValue":t=>!0,keydown:t=>!0,afterEnter:()=>!0,afterLeave:()=>!0},setup(t,r){let{slots:i,attrs:u,emit:g}=r;const h=Bl("VOverlay"),x=Ln(),C=Ln(),D=Ln(),I=Ki(t,"modelValue"),O=It({get:()=>I.value,set:on=>{on&&t.disabled||(I.value=on)}}),{themeClasses:B}=ic(t),{rtlClasses:V,isRtl:z}=Gg(),{hasContent:Z,onAfterLeave:ee}=T1e(t,O),ie=ip(()=>typeof t.scrim=="string"?t.scrim:null),{globalTop:W,localTop:he,stackStyles:ue}=O1e(O,()=>t.zIndex,t._disableGlobalStack),{activatorEl:j,activatorRef:de,target:te,targetEl:ze,targetRef:Fe,activatorEvents:Je,contentEvents:rt,scrimEvents:we}=S1e(t,{isActive:O,isTop:he,contentEl:D}),{teleportTarget:_e}=R1e(()=>{var mo,Zt,vn;const on=t.attach||t.contained;if(on)return on;const J=((mo=j==null?void 0:j.value)==null?void 0:mo.getRootNode())||((vn=(Zt=h.proxy)==null?void 0:Zt.$el)==null?void 0:vn.getRootNode());return J instanceof ShadowRoot?J:!1}),{dimensionStyles:R}=mp(t),it=E1e(),{scopeId:St}=s8();Rn(()=>t.disabled,on=>{on&&(O.value=!1)});const{contentStyles:Ut,updateLocation:sn}=m1e(t,{isRtl:z,contentEl:D,target:te,isActive:O});y1e(t,{root:x,contentEl:D,targetEl:ze,isActive:O,updateLocation:sn});function dt(on){g("click:outside",on),t.persistent?vo():O.value=!1}function An(on){return O.value&&W.value&&(!t.scrim||on.target===C.value||on instanceof MouseEvent&&on.shadowTarget===C.value)}Jr&&Rn(O,on=>{on?window.addEventListener("keydown",At):window.removeEventListener("keydown",At)},{immediate:!0}),Ec(()=>{Jr&&window.removeEventListener("keydown",At)});function At(on){var J,mo,Zt;on.key==="Escape"&&W.value&&((J=D.value)!=null&&J.contains(document.activeElement)||g("keydown",on),t.persistent?vo():(O.value=!1,(mo=D.value)!=null&&mo.contains(document.activeElement)&&((Zt=j.value)==null||Zt.focus())))}function et(on){on.key==="Escape"&&!W.value||g("keydown",on)}const Me=Eee();jg(()=>t.closeOnBack,()=>{K0e(Me,on=>{W.value&&O.value?(on(!1),t.persistent?vo():O.value=!1):on()})});const mt=Ln();Rn(()=>O.value&&(t.absolute||t.contained)&&_e.value==null,on=>{if(on){const J=cQ(x.value);J&&J!==document.scrollingElement&&(mt.value=J.scrollTop)}});function vo(){t.noClickAnimation||D.value&&dE(D.value,[{transformOrigin:"center"},{transform:"scale(1.03)"},{transformOrigin:"center"}],{duration:150,easing:rF})}function Wt(){g("afterEnter")}function In(){ee(),g("afterLeave")}return _s(()=>{var on;return oe(is,null,[(on=i.activator)==null?void 0:on.call(i,{isActive:O.value,targetRef:Fe,props:Bo({ref:de},Je.value,t.activatorProps)}),it.value&&Z.value&&ce(Qde,{disabled:!_e.value,to:_e.value},{default:()=>[oe("div",Bo({class:["v-overlay",{"v-overlay--absolute":t.absolute||t.contained,"v-overlay--active":O.value,"v-overlay--contained":t.contained},B.value,V.value,t.class],style:[ue.value,{"--v-overlay-opacity":t.opacity,top:ys(mt.value)},t.style],ref:x,onKeydown:et},St,u),[ce(P1e,Bo({color:ie,modelValue:O.value&&!!t.scrim,ref:C},we.value),null),ce(dx,{appear:!0,persisted:!0,transition:t.transition,target:te.value,onAfterEnter:Wt,onAfterLeave:In},{default:()=>{var J;return[Bn(oe("div",Bo({ref:D,class:["v-overlay__content",t.contentClass],style:[R.value,Ut.value]},rt.value,t.contentProps),[(J=i.default)==null?void 0:J.call(i,{isActive:O})]),[[fo,O.value],[qY,{handler:dt,closeConditional:An,include:()=>[j.value]}]])]}})])]})])}),{activatorEl:j,scrimEl:C,target:te,animateClick:vo,contentEl:D,globalTop:W,localTop:he,updateLocation:sn}}}),dU=Symbol("Forwarded refs");function fU(t,r){let i=t;for(;i;){const u=Reflect.getOwnPropertyDescriptor(i,r);if(u)return u;i=Object.getPrototypeOf(i)}}function VC(t){for(var r=arguments.length,i=new Array(r>1?r-1:0),u=1;u<r;u++)i[u-1]=arguments[u];return t[dU]=i,new Proxy(t,{get(g,h){if(Reflect.has(g,h))return Reflect.get(g,h);if(!(typeof h=="symbol"||h.startsWith("$")||h.startsWith("__"))){for(const x of i)if(x.value&&Reflect.has(x.value,h)){const C=Reflect.get(x.value,h);return typeof C=="function"?C.bind(x.value):C}}},has(g,h){if(Reflect.has(g,h))return!0;if(typeof h=="symbol"||h.startsWith("$")||h.startsWith("__"))return!1;for(const x of i)if(x.value&&Reflect.has(x.value,h))return!0;return!1},set(g,h,x){if(Reflect.has(g,h))return Reflect.set(g,h,x);if(typeof h=="symbol"||h.startsWith("$")||h.startsWith("__"))return!1;for(const C of i)if(C.value&&Reflect.has(C.value,h))return Reflect.set(C.value,h,x);return!1},getOwnPropertyDescriptor(g,h){var C;const x=Reflect.getOwnPropertyDescriptor(g,h);if(x)return x;if(!(typeof h=="symbol"||h.startsWith("$")||h.startsWith("__"))){for(const D of i){if(!D.value)continue;const I=fU(D.value,h)??("_"in D.value?fU((C=D.value._)==null?void 0:C.setupState,h):void 0);if(I)return I}for(const D of i){const I=D.value&&D.value[dU];if(!I)continue;const O=I.slice();for(;O.length;){const B=O.shift(),V=fU(B.value,h);if(V)return V;const z=B.value&&B.value[dU];z&&O.push(...z)}}}}})}const N1e=Fn({fullscreen:Boolean,retainFocus:{type:Boolean,default:!0},scrollable:Boolean,...lK({origin:"center center",scrollStrategy:"block",transition:{component:aK},zIndex:2400})},"VDialog"),j0=Fo()({name:"VDialog",props:N1e(),emits:{"update:modelValue":t=>!0,afterEnter:()=>!0,afterLeave:()=>!0},setup(t,r){let{emit:i,slots:u}=r;const g=Ki(t,"modelValue"),{scopeId:h}=s8(),x=Ln();function C(O){var z,Z;const B=O.relatedTarget,V=O.target;if(B!==V&&((z=x.value)!=null&&z.contentEl)&&((Z=x.value)!=null&&Z.globalTop)&&![document,x.value.contentEl].includes(V)&&!x.value.contentEl.contains(V)){const ee=FR(x.value.contentEl);if(!ee.length)return;const ie=ee[0],W=ee[ee.length-1];B===ie?W.focus():ie.focus()}}Ec(()=>{document.removeEventListener("focusin",C)}),Jr&&Rn(()=>g.value&&t.retainFocus,O=>{O?document.addEventListener("focusin",C):document.removeEventListener("focusin",C)},{immediate:!0});function D(){var O;i("afterEnter"),(t.scrim||t.retainFocus)&&((O=x.value)!=null&&O.contentEl)&&!x.value.contentEl.contains(document.activeElement)&&x.value.contentEl.focus({preventScroll:!0})}function I(){i("afterLeave")}return Rn(g,async O=>{var B;O||(await Qo(),(B=x.value.activatorEl)==null||B.focus({preventScroll:!0}))}),_s(()=>{const O=yF.filterProps(t),B=Bo({"aria-haspopup":"dialog"},t.activatorProps),V=Bo({tabindex:-1},t.contentProps);return ce(yF,Bo({ref:x,class:["v-dialog",{"v-dialog--fullscreen":t.fullscreen,"v-dialog--scrollable":t.scrollable},t.class],style:t.style},O,{modelValue:g.value,"onUpdate:modelValue":z=>g.value=z,"aria-modal":"true",activatorProps:B,contentProps:V,height:t.fullscreen?void 0:t.height,width:t.fullscreen?void 0:t.width,maxHeight:t.fullscreen?void 0:t.maxHeight,maxWidth:t.fullscreen?void 0:t.maxWidth,role:"dialog",onAfterEnter:D,onAfterLeave:I},h),{activator:u.activator,default:function(){for(var z=arguments.length,Z=new Array(z),ee=0;ee<z;ee++)Z[ee]=arguments[ee];return ce(Ea,{root:"VDialog"},{default:()=>{var ie;return[(ie=u.default)==null?void 0:ie.call(u,...Z)]}})}})}),VC({},x)}}),L1e=Fn({fixedHeader:Boolean,fixedFooter:Boolean,height:[Number,String],hover:Boolean,striped:{type:String,default:null,validator:t=>["even","odd"].includes(t)},...zs(),...qg(),...aa(),...xl()},"VTable"),np=Fo()({name:"VTable",props:L1e(),setup(t,r){let{slots:i,emit:u}=r;const{themeClasses:g}=ic(t),{densityClasses:h}=dp(t);return _s(()=>ce(t.tag,{class:ao(["v-table",{"v-table--fixed-height":!!t.height,"v-table--fixed-header":t.fixedHeader,"v-table--fixed-footer":t.fixedFooter,"v-table--has-top":!!i.top,"v-table--has-bottom":!!i.bottom,"v-table--hover":t.hover,"v-table--striped-even":t.striped==="even","v-table--striped-odd":t.striped==="odd"},g.value,h.value,t.class]),style:Ls(t.style)},{default:()=>{var x,C,D;return[(x=i.top)==null?void 0:x.call(i),i.default?oe("div",{class:"v-table__wrapper",style:{height:ys(t.height)}},[oe("table",null,[i.default()])]):(C=i.wrapper)==null?void 0:C.call(i),(D=i.bottom)==null?void 0:D.call(i)]}})),{}}}),M1e={width:"50%"},B1e={width:"50%"},F1e={width:"50%"},$1e={width:"50%"},V1e={width:"50%"},z1e={width:"50%"},H1e={width:"50%"},U1e={width:"50%"},W1e={__name:"Help",setup(t){const r=Te.layout();return(i,u)=>(Cn(),Lo(is,null,[ce(ko,{class:"app-header-item",onClick:u[0]||(u[0]=g=>re(r).showHelp=!0)},{default:Pt(()=>[ce(Kn,{left:"",icon:"mdi-keyboard-outline"}),qs(" "+We(i.$t("helpButton")),1)]),_:1}),ce(j0,{modelValue:re(r).showHelp,"onUpdate:modelValue":u[2]||(u[2]=g=>re(r).showHelp=g),"max-width":"1000"},{default:Pt(()=>[ce(K0,null,{default:Pt(()=>[ce(Lb,null,{default:Pt(()=>[oe("h1",null,We(i.$t("helpGeneralNavigation")),1),ce(np,null,{default:Pt(()=>[oe("thead",null,[oe("tr",null,[oe("th",M1e,We(i.$t("helpAction")),1),oe("th",B1e,We(i.$t("helpShortcut")),1)])]),oe("tbody",null,[oe("tr",null,[oe("td",null,We(i.$t("helpNextElement")),1),oe("td",null,We(i.$t("helpKeyTab")),1)]),oe("tr",null,[oe("td",null,We(i.$t("helpPreviousElement")),1),oe("td",null,We(i.$t("helpKeyShiftTab")),1)]),oe("tr",null,[oe("td",null,We(i.$t("helpHeaderButtons")),1),oe("td",null,We(i.$t("helpKeyAlt0")),1)]),oe("tr",null,[oe("td",null,We(i.$t("helpNavigationButtons")),1),oe("td",null,We(i.$t("helpKeyAltNum")),1)]),oe("tr",null,[oe("td",null,We(i.$t("helpContentLeftColumn")),1),oe("td",null,We(i.$t("helpKeyAlt1")),1)]),oe("tr",null,[oe("td",null,We(i.$t("helpContentRightColumn")),1),oe("td",null,We(i.$t("helpKeyAlt2")),1)])])]),_:1}),oe("h1",null,We(i.$t("helpEssay")),1),ce(np,null,{default:Pt(()=>[oe("thead",null,[oe("tr",null,[oe("th",F1e,We(i.$t("helpAction")),1),oe("th",$1e,We(i.$t("helpShortcut")),1)])]),oe("tbody",null,[oe("tr",null,[oe("td",null,We(i.$t("helpEssayMoveCursor")),1),oe("td",null,We(i.$t("helpKeysArrows")),1)]),oe("tr",null,[oe("td",null,We(i.$t("helpEssaySelectText")),1),oe("td",null,We(i.$t("helpKeysShiftArrows")),1)]),oe("tr",null,[oe("td",null,We(i.$t("helpEssayUnselectText")),1),oe("td",null,We(i.$t("helpKeyEsc")),1)]),oe("tr",null,[oe("td",null,We(i.$t("helpEssayCreateComment")),1),oe("td",null,We(i.$t("helpKeyReturnWhenSelected")),1)]),oe("tr",null,[oe("td",null,We(i.$t("helpEssayJumpToComment")),1),oe("td",null,We(i.$t("helpKeyReturnWhenNotSelected")),1)])])]),_:1}),oe("h1",null,We(i.$t("helpComments")),1),ce(np,null,{default:Pt(()=>[oe("thead",null,[oe("tr",null,[oe("th",V1e,We(i.$t("helpAction")),1),oe("th",z1e,We(i.$t("helpShortcut")),1)])]),oe("tbody",null,[oe("tr",null,[oe("td",null,We(i.$t("helpCommentsSelect")),1),oe("td",null,We(i.$t("helpKeyReturnOnFocusedLabel")),1)]),oe("tr",null,[oe("td",null,We(i.$t("helpCommentsJumpToMark")),1),oe("td",null,We(i.$t("helpKeyAltReturn")),1)]),oe("tr",null,[oe("td",null,We(i.$t("helpCommentsJumpToCriteria")),1),oe("td",null,We(i.$t("helpKeyReturnOnFocusedPoints")),1)]),oe("tr",null,[oe("td",null,We(i.$t("helpCommentsReturnFromCriteria")),1),oe("td",null,We(i.$t("helpKeyEsc")),1)]),oe("tr",null,[oe("td",null,We(i.$t("helpCommentsDelete")),1),oe("td",null,We(i.$t("helpKeyAltDel")),1)]),oe("tr",null,[oe("td",null,We(i.$t("helpSnippetsOpen")),1),oe("td",null,We(i.$t("helpKeyF1")),1)]),oe("tr",null,[oe("td",null,We(i.$t("helpSnippetsApply")),1),oe("td",null,We(i.$t("helpKeyF1InSnippets")),1)])])]),_:1}),oe("h1",null,We(i.$t("helpEditorNavigation")),1),ce(np,null,{default:Pt(()=>[oe("thead",null,[oe("tr",null,[oe("th",H1e,We(i.$t("helpAction")),1),oe("th",U1e,We(i.$t("helpShortcut")),1)])]),oe("tbody",null,[oe("tr",null,[oe("td",null,We(i.$t("helpToolbarFocusIn")),1),oe("td",null,We(i.$t("helpKeyAltF10")),1)]),oe("tr",null,[oe("td",null,We(i.$t("helpToolbarFocusOut")),1),oe("td",null,We(i.$t("helpKeyEsc")),1)]),oe("tr",null,[oe("td",null,We(i.$t("helpToolbarNavigate")),1),oe("td",null,We(i.$t("helpKeysLeftRight")),1)]),oe("tr",null,[oe("td",null,We(i.$t("helpPopupBlockFormatsShow")),1),oe("td",null,We(i.$t("helpKeyReturn")),1)]),oe("tr",null,[oe("td",null,We(i.$t("helpPopupBlockFormatsNavigate")),1),oe("td",null,We(i.$t("helpKeysUpDown")),1)]),oe("tr",null,[oe("td",null,We(i.$t("helpPopupBlockFormatsSelect")),1),oe("td",null,We(i.$t("helpKeyReturn")),1)]),oe("tr",null,[oe("td",null,We(i.$t("helpPopupBlockFormatsClose")),1),oe("td",null,We(i.$t("helpKeyEsc")),1)])])]),_:1}),u[4]||(u[4]=oe("h1",null,"Tastenbefehle im Gutachten",-1)),ce(np,null,{default:Pt(()=>[u[3]||(u[3]=oe("thead",null,[oe("tr",null,[oe("th",{width:"50%"},"Aktion"),oe("th",{width:"50%"},"Tastenkombination")])],-1)),oe("tbody",null,[oe("tr",null,[oe("td",null,We(i.$t("helpCommandBold")),1),oe("td",null,We(i.$t("Ctrl + B")),1)]),oe("tr",null,[oe("td",null,We(i.$t("helpCommandItalic")),1),oe("td",null,We(i.$t("helpKeyCtrlI")),1)]),oe("tr",null,[oe("td",null,We(i.$t("helpCommundUnderline")),1),oe("td",null,We(i.$t("Ctrl + U")),1)]),oe("tr",null,[oe("td",null,We(i.$t("helpCommandSelectAll")),1),oe("td",null,We(i.$t("Ctrl + A")),1)]),oe("tr",null,[oe("td",null,We(i.$t("helpCommandRedo")),1),oe("td",null,We(i.$t("helpKeyCtrlYOrCtrlShiftZ")),1)]),oe("tr",null,[oe("td",null,We(i.$t("Rckgngig machen")),1),oe("td",null,We(i.$t("Ctrl + Z")),1)]),oe("tr",null,[oe("td",null,We(i.$t("helpCommandH1")),1),oe("td",null,We(i.$t("helpKeyShiftAlt1")),1)]),oe("tr",null,[oe("td",null,We(i.$t("helpCommandH2")),1),oe("td",null,We(i.$t("helpKeyShiftAlt2")),1)]),oe("tr",null,[oe("td",null,We(i.$t("helpCommandH3")),1),oe("td",null,We(i.$t("helpKeyShiftAlt3")),1)]),oe("tr",null,[oe("td",null,We(i.$t("helpCommandH4")),1),oe("td",null,We(i.$t("helpKeyShiftAlt4")),1)]),oe("tr",null,[oe("td",null,We(i.$t("helpCommandH5")),1),oe("td",null,We(i.$t("helpKeyShiftAlt5")),1)]),oe("tr",null,[oe("td",null,We(i.$t("helpCommandH6")),1),oe("td",null,We(i.$t("helpKeyShiftAlt6")),1)]),oe("tr",null,[oe("td",null,We(i.$t("helpCommandParagraph")),1),oe("td",null,We(i.$t("helpKeyShiftAlt7")),1)]),oe("tr",null,[oe("td",null,We(i.$t("helpSnippetsOpen")),1),oe("td",null,We(i.$t("helpKeyF1")),1)]),oe("tr",null,[oe("td",null,We(i.$t("helpSnippetsApply")),1),oe("td",null,We(i.$t("helpKeyF1InSnippets")),1)])])]),_:1,__:[3]})]),_:1,__:[4]}),ce(Nb,null,{default:Pt(()=>[ce(ko,{onClick:u[1]||(u[1]=g=>re(r).showHelp=!1)},{default:Pt(()=>[oe("span",null,We(i.$t("helpCloseHelp")),1)]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}},K1e=tl(W1e,[["__scopeId","data-v-7153d5db"]]),j1e=Fn({text:String,onClick:wf(),...zs(),...xl()},"VLabel"),Gee=Fo()({name:"VLabel",props:j1e(),setup(t,r){let{slots:i}=r;return _s(()=>{var u;return oe("label",{class:ao(["v-label",{"v-label--clickable":!!t.onClick},t.class]),style:Ls(t.style),onClick:t.onClick},[t.text,(u=i.default)==null?void 0:u.call(i)])}),{}}}),qee=Symbol.for("vuetify:selection-control-group"),Yee=Fn({color:String,disabled:{type:Boolean,default:null},defaultsTarget:String,error:Boolean,id:String,inline:Boolean,falseIcon:$r,trueIcon:$r,ripple:{type:[Boolean,Object],default:!0},multiple:{type:Boolean,default:null},name:String,readonly:{type:Boolean,default:null},modelValue:null,type:String,valueComparator:{type:Function,default:Zg},...zs(),...qg(),...xl()},"SelectionControlGroup"),Z1e=Fn({...Yee({defaultsTarget:"VSelectionControl"})},"VSelectionControlGroup");Fo()({name:"VSelectionControlGroup",props:Z1e(),emits:{"update:modelValue":t=>!0},setup(t,r){let{slots:i}=r;const u=Ki(t,"modelValue"),g=t1(),h=pn(()=>t.id||`v-selection-control-group-${g}`),x=pn(()=>t.name||h.value),C=new Set;return Bd(qee,{modelValue:u,forceUpdate:()=>{C.forEach(D=>D())},onForceUpdate:D=>{C.add(D),rc(()=>{C.delete(D)})}}),wx({[t.defaultsTarget]:{color:pn(()=>t.color),disabled:pn(()=>t.disabled),density:pn(()=>t.density),error:pn(()=>t.error),inline:pn(()=>t.inline),modelValue:u,multiple:pn(()=>!!t.multiple||t.multiple==null&&Array.isArray(u.value)),name:x,falseIcon:pn(()=>t.falseIcon),trueIcon:pn(()=>t.trueIcon),readonly:pn(()=>t.readonly),ripple:pn(()=>t.ripple),type:pn(()=>t.type),valueComparator:pn(()=>t.valueComparator)}}),_s(()=>{var D;return oe("div",{class:ao(["v-selection-control-group",{"v-selection-control-group--inline":t.inline},t.class]),style:Ls(t.style),role:t.type==="radio"?"radiogroup":void 0},[(D=i.default)==null?void 0:D.call(i)])}),{}}});const Xee=Fn({label:String,baseColor:String,trueValue:null,falseValue:null,value:null,...zs(),...Yee()},"VSelectionControl");function G1e(t){const r=Wi(qee,void 0),{densityClasses:i}=dp(t),u=Ki(t,"modelValue"),g=It(()=>t.trueValue!==void 0?t.trueValue:t.value!==void 0?t.value:!0),h=It(()=>t.falseValue!==void 0?t.falseValue:!1),x=It(()=>!!t.multiple||t.multiple==null&&Array.isArray(u.value)),C=It({get(){const z=r?r.modelValue.value:u.value;return x.value?yf(z).some(Z=>t.valueComparator(Z,g.value)):t.valueComparator(z,g.value)},set(z){if(t.readonly)return;const Z=z?g.value:h.value;let ee=Z;x.value&&(ee=z?[...yf(u.value),Z]:yf(u.value).filter(ie=>!t.valueComparator(ie,g.value))),r?r.modelValue.value=ee:u.value=ee}}),{textColorClasses:D,textColorStyles:I}=cp(()=>{if(!(t.error||t.disabled))return C.value?t.color:t.baseColor}),{backgroundColorClasses:O,backgroundColorStyles:B}=ip(()=>C.value&&!t.error&&!t.disabled?t.color:t.baseColor),V=It(()=>C.value?t.trueIcon:t.falseIcon);return{group:r,densityClasses:i,trueValue:g,falseValue:h,model:C,textColorClasses:D,textColorStyles:I,backgroundColorClasses:O,backgroundColorStyles:B,icon:V}}const YY=Fo()({name:"VSelectionControl",directives:{vRipple:J0},inheritAttrs:!1,props:Xee(),emits:{"update:modelValue":t=>!0},setup(t,r){let{attrs:i,slots:u}=r;const{group:g,densityClasses:h,icon:x,model:C,textColorClasses:D,textColorStyles:I,backgroundColorClasses:O,backgroundColorStyles:B,trueValue:V}=G1e(t),z=t1(),Z=bo(!1),ee=bo(!1),ie=Ln(),W=pn(()=>t.id||`input-${z}`),he=pn(()=>!t.disabled&&!t.readonly);g==null||g.onForceUpdate(()=>{ie.value&&(ie.value.checked=C.value)});function ue(ze){he.value&&(Z.value=!0,CE(ze.target,":focus-visible")!==!1&&(ee.value=!0))}function j(){Z.value=!1,ee.value=!1}function de(ze){ze.stopPropagation()}function te(ze){if(!he.value){ie.value&&(ie.value.checked=C.value);return}t.readonly&&g&&Qo(()=>g.forceUpdate()),C.value=ze.target.checked}return _s(()=>{var we,_e;const ze=u.label?u.label({label:t.label,props:{for:W.value}}):t.label,[Fe,Je]=$F(i),rt=oe("input",Bo({ref:ie,checked:C.value,disabled:!!t.disabled,id:W.value,onBlur:j,onFocus:ue,onInput:te,"aria-disabled":!!t.disabled,"aria-label":t.label,type:t.type,value:V.value,name:t.name,"aria-checked":t.type==="checkbox"?C.value:void 0},Je),null);return oe("div",Bo({class:["v-selection-control",{"v-selection-control--dirty":C.value,"v-selection-control--disabled":t.disabled,"v-selection-control--error":t.error,"v-selection-control--focused":Z.value,"v-selection-control--focus-visible":ee.value,"v-selection-control--inline":t.inline},h.value,t.class]},Fe,{style:t.style}),[oe("div",{class:ao(["v-selection-control__wrapper",D.value]),style:Ls(I.value)},[(we=u.default)==null?void 0:we.call(u,{backgroundColorClasses:O,backgroundColorStyles:B}),Bn(oe("div",{class:ao(["v-selection-control__input"])},[((_e=u.input)==null?void 0:_e.call(u,{model:C,textColorClasses:D,textColorStyles:I,backgroundColorClasses:O,backgroundColorStyles:B,inputNode:rt,icon:x.value,props:{onFocus:ue,onBlur:j,id:W.value}}))??oe(is,null,[x.value&&ce(Kn,{key:"icon",icon:x.value},null),rt])]),[[J0,t.ripple&&[!t.disabled&&!t.readonly,null,["center","circle"]]]])]),ze&&ce(Gee,{for:W.value,onClick:de},{default:()=>[ze]})])}),{isFocused:Z,input:ie}}}),Jee=Fn({indeterminate:Boolean,indeterminateIcon:{type:$r,default:"$checkboxIndeterminate"},...Xee({falseIcon:"$checkboxOff",trueIcon:"$checkboxOn"})},"VCheckboxBtn"),xF=Fo()({name:"VCheckboxBtn",props:Jee(),emits:{"update:modelValue":t=>!0,"update:indeterminate":t=>!0},setup(t,r){let{slots:i}=r;const u=Ki(t,"indeterminate"),g=Ki(t,"modelValue");function h(D){u.value&&(u.value=!1)}const x=pn(()=>u.value?t.indeterminateIcon:t.falseIcon),C=pn(()=>u.value?t.indeterminateIcon:t.trueIcon);return _s(()=>{const D=xx(YY.filterProps(t),["modelValue"]);return ce(YY,Bo(D,{modelValue:g.value,"onUpdate:modelValue":[I=>g.value=I,h],class:["v-checkbox-btn",t.class],style:t.style,type:"checkbox",falseIcon:x.value,trueIcon:C.value,"aria-checked":u.value?"mixed":void 0}),i)}),{}}});function Qee(t){const{t:r}=uI();function i(u){let{name:g,color:h,...x}=u;const C={prepend:"prependAction",prependInner:"prependAction",append:"appendAction",appendInner:"appendAction",clear:"clear"}[g],D=t[`onClick:${g}`];function I(B){B.key!=="Enter"&&B.key!==" "||(B.preventDefault(),B.stopPropagation(),FW(D,new PointerEvent("click",B)))}const O=D&&C?r(`$vuetify.input.${C}`,t.label??""):void 0;return ce(Kn,Bo({icon:t[`${g}Icon`],"aria-label":O,onClick:D,onKeydown:I,color:h},x),null)}return{InputIcon:i}}const q1e=Fn({active:Boolean,color:String,messages:{type:[Array,String],default:()=>[]},...zs(),...$E({transition:{component:Fee,leaveAbsolute:!0,group:!0}})},"VMessages"),Y1e=Fo()({name:"VMessages",props:q1e(),setup(t,r){let{slots:i}=r;const u=It(()=>yf(t.messages)),{textColorClasses:g,textColorStyles:h}=cp(()=>t.color);return _s(()=>ce(dx,{transition:t.transition,tag:"div",class:ao(["v-messages",g.value,t.class]),style:Ls([h.value,t.style])},{default:()=>[t.active&&u.value.map((x,C)=>oe("div",{class:"v-messages__message",key:`${C}-${u.value}`},[i.message?i.message({message:x}):x]))]})),{}}}),ete=Fn({focused:Boolean,"onUpdate:focused":wf()},"focus");function r8(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ub();const i=Ki(t,"focused"),u=pn(()=>({[`${r}--focused`]:i.value}));function g(){i.value=!0}function h(){i.value=!1}return{focusClasses:u,isFocused:i,focus:g,blur:h}}const X1e=Symbol.for("vuetify:form");function cK(t){const r=Wi(X1e,null);return{...r,isReadonly:It(()=>!!((t==null?void 0:t.readonly)??(r==null?void 0:r.isReadonly.value))),isDisabled:It(()=>!!((t==null?void 0:t.disabled)??(r==null?void 0:r.isDisabled.value)))}}const J1e=Symbol.for("vuetify:rules");function Q1e(t){const r=Wi(J1e,null);return r?r(t):pn(t)}const eye=Fn({disabled:{type:Boolean,default:null},error:Boolean,errorMessages:{type:[Array,String],default:()=>[]},maxErrors:{type:[Number,String],default:1},name:String,label:String,readonly:{type:Boolean,default:null},rules:{type:Array,default:()=>[]},modelValue:null,validateOn:String,validationValue:null,...ete()},"validation");function tye(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ub(),i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:t1();const u=Ki(t,"modelValue"),g=It(()=>t.validationValue===void 0?u.value:t.validationValue),h=cK(t),x=Q1e(()=>t.rules),C=Ln([]),D=bo(!0),I=It(()=>!!(yf(u.value===""?null:u.value).length||yf(g.value===""?null:g.value).length)),O=It(()=>{var j;return(j=t.errorMessages)!=null&&j.length?yf(t.errorMessages).concat(C.value).slice(0,Math.max(0,Number(t.maxErrors))):C.value}),B=It(()=>{var te;let j=(t.validateOn??((te=h.validateOn)==null?void 0:te.value))||"input";j==="lazy"&&(j="input lazy"),j==="eager"&&(j="input eager");const de=new Set((j==null?void 0:j.split(" "))??[]);return{input:de.has("input"),blur:de.has("blur")||de.has("input")||de.has("invalid-input"),invalidInput:de.has("invalid-input"),lazy:de.has("lazy"),eager:de.has("eager")}}),V=It(()=>{var j;return t.error||(j=t.errorMessages)!=null&&j.length?!1:t.rules.length?D.value?C.value.length||B.value.lazy?null:!0:!C.value.length:!0}),z=bo(!1),Z=It(()=>({[`${r}--error`]:V.value===!1,[`${r}--dirty`]:I.value,[`${r}--disabled`]:h.isDisabled.value,[`${r}--readonly`]:h.isReadonly.value})),ee=Bl("validation"),ie=It(()=>t.name??re(i));aI(()=>{var j;(j=h.register)==null||j.call(h,{id:ie.value,vm:ee,validate:ue,reset:W,resetValidation:he})}),Ec(()=>{var j;(j=h.unregister)==null||j.call(h,ie.value)}),Wu(async()=>{var j;B.value.lazy||await ue(!B.value.eager),(j=h.update)==null||j.call(h,ie.value,V.value,O.value)}),jg(()=>B.value.input||B.value.invalidInput&&V.value===!1,()=>{Rn(g,()=>{if(g.value!=null)ue();else if(t.focused){const j=Rn(()=>t.focused,de=>{de||ue(),j()})}})}),jg(()=>B.value.blur,()=>{Rn(()=>t.focused,j=>{j||ue()})}),Rn([V,O],()=>{var j;(j=h.update)==null||j.call(h,ie.value,V.value,O.value)});async function W(){u.value=null,await Qo(),await he()}async function he(){D.value=!0,B.value.lazy?C.value=[]:await ue(!B.value.eager)}async function ue(){let j=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;const de=[];z.value=!0;for(const te of x.value){if(de.length>=Number(t.maxErrors??1))break;const Fe=await(typeof te=="function"?te:()=>te)(g.value);if(Fe!==!0){if(Fe!==!1&&typeof Fe!="string"){console.warn(`${Fe} is not a valid value. Rule functions must return boolean true or a string.`);continue}de.push(Fe||"")}}return C.value=de,z.value=!1,D.value=j,C.value}return{errorMessages:O,isDirty:I,isDisabled:h.isDisabled,isReadonly:h.isReadonly,isPristine:D,isValid:V,isValidating:z,reset:W,resetValidation:he,validate:ue,validationClasses:Z}}const i8=Fn({id:String,appendIcon:$r,baseColor:String,centerAffix:{type:Boolean,default:!0},color:String,glow:Boolean,iconColor:[Boolean,String],prependIcon:$r,hideDetails:[Boolean,String],hideSpinButtons:Boolean,hint:String,persistentHint:Boolean,messages:{type:[Array,String],default:()=>[]},direction:{type:String,default:"horizontal",validator:t=>["horizontal","vertical"].includes(t)},"onClick:prepend":wf(),"onClick:append":wf(),...zs(),...qg(),...FF(fp(),["maxWidth","minWidth","width"]),...xl(),...eye()},"VInput"),TE=Fo()({name:"VInput",props:{...i8()},emits:{"update:modelValue":t=>!0},setup(t,r){let{attrs:i,slots:u,emit:g}=r;const{densityClasses:h}=dp(t),{dimensionStyles:x}=mp(t),{themeClasses:C}=ic(t),{rtlClasses:D}=Gg(),{InputIcon:I}=Qee(t),O=t1(),B=It(()=>t.id||`input-${O}`),V=It(()=>`${B.value}-messages`),{errorMessages:z,isDirty:Z,isDisabled:ee,isReadonly:ie,isPristine:W,isValid:he,isValidating:ue,reset:j,resetValidation:de,validate:te,validationClasses:ze}=tye(t,"v-input",B),Fe=It(()=>({id:B,messagesId:V,isDirty:Z,isDisabled:ee,isReadonly:ie,isPristine:W,isValid:he,isValidating:ue,reset:j,resetValidation:de,validate:te})),Je=pn(()=>t.error||t.disabled?void 0:t.focused?t.color:t.baseColor),rt=pn(()=>{if(t.iconColor)return t.iconColor===!0?Je.value:t.iconColor}),we=It(()=>{var _e;return(_e=t.errorMessages)!=null&&_e.length||!W.value&&z.value.length?z.value:t.hint&&(t.persistentHint||t.focused)?t.hint:t.messages});return _s(()=>{var Ut,sn,dt,An;const _e=!!(u.prepend||t.prependIcon),R=!!(u.append||t.appendIcon),it=we.value.length>0,St=!t.hideDetails||t.hideDetails==="auto"&&(it||!!u.details);return oe("div",{class:ao(["v-input",`v-input--${t.direction}`,{"v-input--center-affix":t.centerAffix,"v-input--focused":t.focused,"v-input--glow":t.glow,"v-input--hide-spin-buttons":t.hideSpinButtons},h.value,C.value,D.value,ze.value,t.class]),style:Ls([x.value,t.style])},[_e&&oe("div",{key:"prepend",class:"v-input__prepend"},[(Ut=u.prepend)==null?void 0:Ut.call(u,Fe.value),t.prependIcon&&ce(I,{key:"prepend-icon",name:"prepend",color:rt.value},null)]),u.default&&oe("div",{class:"v-input__control"},[(sn=u.default)==null?void 0:sn.call(u,Fe.value)]),R&&oe("div",{key:"append",class:"v-input__append"},[t.appendIcon&&ce(I,{key:"append-icon",name:"append",color:rt.value},null),(dt=u.append)==null?void 0:dt.call(u,Fe.value)]),St&&oe("div",{id:V.value,class:"v-input__details",role:"alert","aria-live":"polite"},[ce(Y1e,{active:it,messages:we.value},{message:u.message}),(An=u.details)==null?void 0:An.call(u,Fe.value)])])}),{reset:j,resetValidation:de,validate:te,isValid:he,errorMessages:z}}}),nye=Fn({...i8(),...xx(Jee(),["inline"])},"VCheckbox"),oye=Fo()({name:"VCheckbox",inheritAttrs:!1,props:nye(),emits:{"update:modelValue":t=>!0,"update:focused":t=>!0},setup(t,r){let{attrs:i,slots:u}=r;const g=Ki(t,"modelValue"),{isFocused:h,focus:x,blur:C}=r8(t),D=Ln(),I=t1();return _s(()=>{const[O,B]=$F(i),V=TE.filterProps(t),z=xF.filterProps(t);return ce(TE,Bo({ref:D,class:["v-checkbox",t.class]},O,V,{modelValue:g.value,"onUpdate:modelValue":Z=>g.value=Z,id:t.id||`checkbox-${I}`,focused:h.value,style:t.style}),{...u,default:Z=>{let{id:ee,messagesId:ie,isDisabled:W,isReadonly:he,isValid:ue}=Z;return ce(xF,Bo(z,{id:ee.value,"aria-describedby":ie.value,disabled:W.value,readonly:he.value},B,{error:ue.value===!1,modelValue:g.value,"onUpdate:modelValue":j=>g.value=j,onFocus:x,onBlur:C}),u)}})}),VC({},D)}});function sye(t){let{selectedElement:r,containerElement:i,isRtl:u,isHorizontal:g}=t;const h=ZR(g,i),x=tte(g,u,i),C=ZR(g,r),D=nte(g,r),I=C*.4;return x>D?D-I:x+h<D+C?D-h+C+I:x}function rye(t){let{selectedElement:r,containerElement:i,isHorizontal:u}=t;const g=ZR(u,i),h=nte(u,r),x=ZR(u,r);return h-g/2+x/2}function XY(t,r){const i=t?"scrollWidth":"scrollHeight";return(r==null?void 0:r[i])||0}function iye(t,r){const i=t?"clientWidth":"clientHeight";return(r==null?void 0:r[i])||0}function tte(t,r,i){if(!i)return 0;const{scrollLeft:u,offsetWidth:g,scrollWidth:h}=i;return t?r?h-g+u:u:i.scrollTop}function ZR(t,r){const i=t?"offsetWidth":"offsetHeight";return(r==null?void 0:r[i])||0}function nte(t,r){const i=t?"offsetLeft":"offsetTop";return(r==null?void 0:r[i])||0}const aye=Symbol.for("vuetify:v-slide-group"),ote=Fn({centerActive:Boolean,contentClass:null,direction:{type:String,default:"horizontal"},symbol:{type:null,default:aye},nextIcon:{type:$r,default:"$next"},prevIcon:{type:$r,default:"$prev"},showArrows:{type:[Boolean,String],validator:t=>typeof t=="boolean"||["always","desktop","mobile"].includes(t)},...zs(),...bQ({mobile:null}),...aa(),...tK({selectedClass:"v-slide-group-item--active"})},"VSlideGroup"),JY=Fo()({name:"VSlideGroup",props:ote(),emits:{"update:modelValue":t=>!0},setup(t,r){let{slots:i}=r;const{isRtl:u}=Gg(),{displayClasses:g,mobile:h}=HF(t),x=nK(t,t.symbol),C=bo(!1),D=bo(0),I=bo(0),O=bo(0),B=It(()=>t.direction==="horizontal"),{resizeRef:V,contentRect:z}=SE(),{resizeRef:Z,contentRect:ee}=SE(),ie=phe(),W=It(()=>({container:V.el,duration:200,easing:"easeOutQuart"})),he=It(()=>x.selected.value.length?x.items.value.findIndex(et=>et.id===x.selected.value[0]):-1),ue=It(()=>x.selected.value.length?x.items.value.findIndex(et=>et.id===x.selected.value[x.selected.value.length-1]):-1);if(Jr){let et=-1;Rn(()=>[x.selected.value,z.value,ee.value,B.value],()=>{cancelAnimationFrame(et),et=requestAnimationFrame(()=>{if(z.value&&ee.value){const Me=B.value?"width":"height";I.value=z.value[Me],O.value=ee.value[Me],C.value=I.value+1<O.value}if(he.value>=0&&Z.el){const Me=Z.el.children[ue.value];de(Me,t.centerActive)}})})}const j=bo(!1);function de(et,Me){let mt=0;Me?mt=rye({containerElement:V.el,isHorizontal:B.value,selectedElement:et}):mt=sye({containerElement:V.el,isHorizontal:B.value,isRtl:u.value,selectedElement:et}),te(mt)}function te(et){if(!Jr||!V.el)return;const Me=ZR(B.value,V.el),mt=tte(B.value,u.value,V.el);if(!(XY(B.value,V.el)<=Me||Math.abs(et-mt)<16)){if(B.value&&u.value&&V.el){const{scrollWidth:Wt,offsetWidth:In}=V.el;et=Wt-In-et}B.value?ie.horizontal(et,W.value):ie(et,W.value)}}function ze(et){const{scrollTop:Me,scrollLeft:mt}=et.target;D.value=B.value?mt:Me}function Fe(et){if(j.value=!0,!(!C.value||!Z.el)){for(const Me of et.composedPath())for(const mt of Z.el.children)if(mt===Me){de(mt);return}}}function Je(et){j.value=!1}let rt=!1;function we(et){var Me;!rt&&!j.value&&!(et.relatedTarget&&((Me=Z.el)!=null&&Me.contains(et.relatedTarget)))&&St(),rt=!1}function _e(){rt=!0}function R(et){if(!Z.el)return;function Me(mt){et.preventDefault(),St(mt)}B.value?et.key==="ArrowRight"?Me(u.value?"prev":"next"):et.key==="ArrowLeft"&&Me(u.value?"next":"prev"):et.key==="ArrowDown"?Me("next"):et.key==="ArrowUp"&&Me("prev"),et.key==="Home"?Me("first"):et.key==="End"&&Me("last")}function it(et,Me){if(!et)return;let mt=et;do mt=mt==null?void 0:mt[Me==="next"?"nextElementSibling":"previousElementSibling"];while(mt!=null&&mt.hasAttribute("disabled"));return mt}function St(et){if(!Z.el)return;let Me;if(!et)Me=FR(Z.el)[0];else if(et==="next"){if(Me=it(Z.el.querySelector(":focus"),et),!Me)return St("first")}else if(et==="prev"){if(Me=it(Z.el.querySelector(":focus"),et),!Me)return St("last")}else et==="first"?(Me=Z.el.firstElementChild,Me!=null&&Me.hasAttribute("disabled")&&(Me=it(Me,"next"))):et==="last"&&(Me=Z.el.lastElementChild,Me!=null&&Me.hasAttribute("disabled")&&(Me=it(Me,"prev")));Me&&Me.focus({preventScroll:!0})}function Ut(et){const Me=B.value&&u.value?-1:1,mt=(et==="prev"?-Me:Me)*I.value;let vo=D.value+mt;if(B.value&&u.value&&V.el){const{scrollWidth:Wt,offsetWidth:In}=V.el;vo+=Wt-In}te(vo)}const sn=It(()=>({next:x.next,prev:x.prev,select:x.select,isSelected:x.isSelected})),dt=It(()=>{switch(t.showArrows){case"always":return!0;case"desktop":return!h.value;case!0:return C.value||Math.abs(D.value)>0;case"mobile":return h.value||C.value||Math.abs(D.value)>0;default:return!h.value&&(C.value||Math.abs(D.value)>0)}}),An=It(()=>Math.abs(D.value)>1),At=It(()=>{if(!V.value)return!1;const et=XY(B.value,V.el),Me=iye(B.value,V.el);return et-Me-Math.abs(D.value)>1});return _s(()=>ce(t.tag,{class:ao(["v-slide-group",{"v-slide-group--vertical":!B.value,"v-slide-group--has-affixes":dt.value,"v-slide-group--is-overflowing":C.value},g.value,t.class]),style:Ls(t.style),tabindex:j.value||x.selected.value.length?-1:0,onFocus:we},{default:()=>{var et,Me,mt;return[dt.value&&oe("div",{key:"prev",class:ao(["v-slide-group__prev",{"v-slide-group__prev--disabled":!An.value}]),onMousedown:_e,onClick:()=>An.value&&Ut("prev")},[((et=i.prev)==null?void 0:et.call(i,sn.value))??ce(UY,null,{default:()=>[ce(Kn,{icon:u.value?t.nextIcon:t.prevIcon},null)]})]),oe("div",{key:"container",ref:V,class:ao(["v-slide-group__container",t.contentClass]),onScroll:ze},[oe("div",{ref:Z,class:"v-slide-group__content",onFocusin:Fe,onFocusout:Je,onKeydown:R},[(Me=i.default)==null?void 0:Me.call(i,sn.value)])]),dt.value&&oe("div",{key:"next",class:ao(["v-slide-group__next",{"v-slide-group__next--disabled":!At.value}]),onMousedown:_e,onClick:()=>At.value&&Ut("next")},[((mt=i.next)==null?void 0:mt.call(i,sn.value))??ce(UY,null,{default:()=>[ce(Kn,{icon:u.value?t.prevIcon:t.nextIcon},null)]})])]}})),{selected:x.selected,scrollTo:Ut,scrollOffset:D,focus:St,hasPrev:An,hasNext:At}}}),ste=Symbol.for("vuetify:v-chip-group"),lye=Fn({baseColor:String,column:Boolean,filter:Boolean,valueComparator:{type:Function,default:Zg},...ote(),...zs(),...tK({selectedClass:"v-chip--selected"}),...aa(),...xl(),...a1({variant:"tonal"})},"VChipGroup");Fo()({name:"VChipGroup",props:lye(),emits:{"update:modelValue":t=>!0},setup(t,r){let{slots:i}=r;const{themeClasses:u}=ic(t),{isSelected:g,select:h,next:x,prev:C,selected:D}=nK(t,ste);return wx({VChip:{baseColor:pn(()=>t.baseColor),color:pn(()=>t.color),disabled:pn(()=>t.disabled),filter:pn(()=>t.filter),variant:pn(()=>t.variant)}}),_s(()=>{const I=JY.filterProps(t);return ce(JY,Bo(I,{class:["v-chip-group",{"v-chip-group--column":t.column},u.value,t.class],style:t.style}),{default:()=>{var O;return[(O=i.default)==null?void 0:O.call(i,{isSelected:g,select:h,next:x,prev:C,selected:D.value})]}})}),{}}});const cye=Fn({activeClass:String,appendAvatar:String,appendIcon:$r,baseColor:String,closable:Boolean,closeIcon:{type:$r,default:"$delete"},closeLabel:{type:String,default:"$vuetify.close"},draggable:Boolean,filter:Boolean,filterIcon:{type:$r,default:"$complete"},label:Boolean,link:{type:Boolean,default:void 0},pill:Boolean,prependAvatar:String,prependIcon:$r,ripple:{type:[Boolean,Object],default:!0},text:{type:[String,Number,Boolean],default:void 0},modelValue:{type:Boolean,default:!0},onClick:wf(),onClickOnce:wf(),...o1(),...zs(),...qg(),...r1(),...xee(),...Am(),...n8(),...gI(),...aa({tag:"span"}),...xl(),...a1({variant:"tonal"})},"VChip"),rte=Fo()({name:"VChip",directives:{vRipple:J0},props:cye(),emits:{"click:close":t=>!0,"update:modelValue":t=>!0,"group:selected":t=>!0,click:t=>!0},setup(t,r){let{attrs:i,emit:u,slots:g}=r;const{t:h}=uI(),{borderClasses:x}=s1(t),{densityClasses:C}=dp(t),{elevationClasses:D}=i1(t),{roundedClasses:I}=Tm(t),{sizeClasses:O}=hI(t),{themeClasses:B}=ic(t),V=Ki(t,"modelValue"),z=wee(t,ste,!1),Z=t8(t,i),ee=pn(()=>t.link!==!1&&Z.isLink.value),ie=It(()=>!t.disabled&&t.link!==!1&&(!!z||t.link||Z.isClickable.value)),W=pn(()=>({"aria-label":h(t.closeLabel),disabled:t.disabled,onClick(ze){ze.preventDefault(),ze.stopPropagation(),V.value=!1,u("click:close",ze)}})),{colorClasses:he,colorStyles:ue,variantClasses:j}=FE(()=>({color:!z||z.isSelected.value?t.color??t.baseColor:t.baseColor,variant:t.variant}));function de(ze){var Fe;u("click",ze),ie.value&&((Fe=Z.navigate)==null||Fe.call(Z,ze),z==null||z.toggle())}function te(ze){(ze.key==="Enter"||ze.key===" ")&&(ze.preventDefault(),de(ze))}return()=>{var it;const ze=Z.isLink.value?"a":t.tag,Fe=!!(t.appendIcon||t.appendAvatar),Je=!!(Fe||g.append),rt=!!(g.close||t.closable),we=!!(g.filter||t.filter)&&z,_e=!!(t.prependIcon||t.prependAvatar),R=!!(_e||g.prepend);return V.value&&Bn(ce(ze,Bo({class:["v-chip",{"v-chip--disabled":t.disabled,"v-chip--label":t.label,"v-chip--link":ie.value,"v-chip--filter":we,"v-chip--pill":t.pill,[`${t.activeClass}`]:t.activeClass&&((it=Z.isActive)==null?void 0:it.value)},B.value,x.value,he.value,C.value,D.value,I.value,O.value,j.value,z==null?void 0:z.selectedClass.value,t.class],style:[ue.value,t.style],disabled:t.disabled||void 0,draggable:t.draggable,tabindex:ie.value?0:void 0,onClick:de,onKeydown:ie.value&&!ee.value&&te},Z.linkProps),{default:()=>{var St;return[BE(ie.value,"v-chip"),we&&ce(Vee,{key:"filter"},{default:()=>[Bn(oe("div",{class:"v-chip__filter"},[g.filter?ce(Ea,{key:"filter-defaults",disabled:!t.filterIcon,defaults:{VIcon:{icon:t.filterIcon}}},g.filter):ce(Kn,{key:"filter-icon",icon:t.filterIcon},null)]),[[fo,z.isSelected.value]])]}),R&&oe("div",{key:"prepend",class:"v-chip__prepend"},[g.prepend?ce(Ea,{key:"prepend-defaults",disabled:!_e,defaults:{VAvatar:{image:t.prependAvatar,start:!0},VIcon:{icon:t.prependIcon,start:!0}}},g.prepend):oe(is,null,[t.prependIcon&&ce(Kn,{key:"prepend-icon",icon:t.prependIcon,start:!0},null),t.prependAvatar&&ce(yx,{key:"prepend-avatar",image:t.prependAvatar,start:!0},null)])]),oe("div",{class:"v-chip__content","data-no-activator":""},[((St=g.default)==null?void 0:St.call(g,{isSelected:z==null?void 0:z.isSelected.value,selectedClass:z==null?void 0:z.selectedClass.value,select:z==null?void 0:z.select,toggle:z==null?void 0:z.toggle,value:z==null?void 0:z.value.value,disabled:t.disabled}))??We(t.text)]),Je&&oe("div",{key:"append",class:"v-chip__append"},[g.append?ce(Ea,{key:"append-defaults",disabled:!Fe,defaults:{VAvatar:{end:!0,image:t.appendAvatar},VIcon:{end:!0,icon:t.appendIcon}}},g.append):oe(is,null,[t.appendIcon&&ce(Kn,{key:"append-icon",end:!0,icon:t.appendIcon},null),t.appendAvatar&&ce(yx,{key:"append-avatar",end:!0,image:t.appendAvatar},null)])]),rt&&oe("button",Bo({key:"close",class:"v-chip__close",type:"button","data-testid":"close-chip"},W.value),[g.close?ce(Ea,{key:"close-defaults",defaults:{VIcon:{icon:t.closeIcon,size:"x-small"}}},g.close):ce(Kn,{key:"close-icon",icon:t.closeIcon,size:"x-small"},null)])]}}),[[J0,ie.value&&t.ripple,null]])}}}),uye=Fn({color:String,inset:Boolean,length:[Number,String],opacity:[Number,String],thickness:[Number,String],vertical:Boolean,...zs(),...xl()},"VDivider"),RC=Fo()({name:"VDivider",props:uye(),setup(t,r){let{attrs:i,slots:u}=r;const{themeClasses:g}=ic(t),{textColorClasses:h,textColorStyles:x}=cp(()=>t.color),C=It(()=>{const D={};return t.length&&(D[t.vertical?"height":"width"]=ys(t.length)),t.thickness&&(D[t.vertical?"borderRightWidth":"borderTopWidth"]=ys(t.thickness)),D});return _s(()=>{const D=oe("hr",{class:ao([{"v-divider":!0,"v-divider--inset":t.inset,"v-divider--vertical":t.vertical},g.value,h.value,t.class]),style:Ls([C.value,x.value,{"--v-border-opacity":t.opacity},t.style]),"aria-orientation":!i.role||i.role==="separator"?t.vertical?"vertical":"horizontal":void 0,role:`${i.role||"separator"}`},null);return u.default?oe("div",{class:ao(["v-divider__wrapper",{"v-divider__wrapper--vertical":t.vertical,"v-divider__wrapper--inset":t.inset}])},[D,oe("div",{class:"v-divider__content"},[u.default()]),D]):D}),{}}}),dW=Symbol.for("vuetify:list");function ite(){let{filterable:t}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{filterable:!1};const r=Wi(dW,{filterable:!1,hasPrepend:bo(!1),updateHasPrepend:()=>null}),i={filterable:r.filterable||t,hasPrepend:bo(!1),updateHasPrepend:u=>{u&&(i.hasPrepend.value=u)}};return Bd(dW,i),r}function ate(){return Wi(dW,null)}const uK=t=>{const r={activate:i=>{let{id:u,value:g,activated:h}=i;return u=hs(u),t&&!g&&h.size===1&&h.has(u)||(g?h.add(u):h.delete(u)),h},in:(i,u,g)=>{let h=new Set;if(i!=null)for(const x of yf(i))h=r.activate({id:x,value:!0,activated:new Set(h),children:u,parents:g});return h},out:i=>Array.from(i)};return r},lte=t=>{const r=uK(t);return{activate:u=>{let{activated:g,id:h,...x}=u;h=hs(h);const C=g.has(h)?new Set([h]):new Set;return r.activate({...x,id:h,activated:C})},in:(u,g,h)=>{let x=new Set;if(u!=null){const C=yf(u);C.length&&(x=r.in(C.slice(0,1),g,h))}return x},out:(u,g,h)=>r.out(u,g,h)}},dye=t=>{const r=uK(t);return{activate:u=>{let{id:g,activated:h,children:x,...C}=u;return g=hs(g),x.has(g)?h:r.activate({id:g,activated:h,children:x,...C})},in:r.in,out:r.out}},fye=t=>{const r=lte(t);return{activate:u=>{let{id:g,activated:h,children:x,...C}=u;return g=hs(g),x.has(g)?h:r.activate({id:g,activated:h,children:x,...C})},in:r.in,out:r.out}},mye={open:t=>{let{id:r,value:i,opened:u,parents:g}=t;if(i){const h=new Set;h.add(r);let x=g.get(r);for(;x!=null;)h.add(x),x=g.get(x);return h}else return u.delete(r),u},select:()=>null},cte={open:t=>{let{id:r,value:i,opened:u,parents:g}=t;if(i){let h=g.get(r);for(u.add(r);h!=null&&h!==r;)u.add(h),h=g.get(h);return u}else u.delete(r);return u},select:()=>null},gye={open:cte.open,select:t=>{let{id:r,value:i,opened:u,parents:g}=t;if(!i)return u;const h=[];let x=g.get(r);for(;x!=null;)h.push(x),x=g.get(x);return new Set(h)}},dK=t=>{const r={select:i=>{let{id:u,value:g,selected:h}=i;if(u=hs(u),t&&!g){const x=Array.from(h.entries()).reduce((C,D)=>{let[I,O]=D;return O==="on"&&C.push(I),C},[]);if(x.length===1&&x[0]===u)return h}return h.set(u,g?"on":"off"),h},in:(i,u,g,h)=>{const x=new Map;for(const C of i||[])r.select({id:C,value:!0,selected:x,children:u,parents:g,disabled:h});return x},out:i=>{const u=[];for(const[g,h]of i.entries())h==="on"&&u.push(g);return u}};return r},ute=t=>{const r=dK(t);return{select:u=>{let{selected:g,id:h,...x}=u;h=hs(h);const C=g.has(h)?new Map([[h,g.get(h)]]):new Map;return r.select({...x,id:h,selected:C})},in:(u,g,h,x)=>u!=null&&u.length?r.in(u.slice(0,1),g,h,x):new Map,out:(u,g,h)=>r.out(u,g,h)}},hye=t=>{const r=dK(t);return{select:u=>{let{id:g,selected:h,children:x,...C}=u;return g=hs(g),x.has(g)?h:r.select({id:g,selected:h,children:x,...C})},in:r.in,out:r.out}},pye=t=>{const r=ute(t);return{select:u=>{let{id:g,selected:h,children:x,...C}=u;return g=hs(g),x.has(g)?h:r.select({id:g,selected:h,children:x,...C})},in:r.in,out:r.out}},dte=t=>{const r={select:i=>{let{id:u,value:g,selected:h,children:x,parents:C,disabled:D}=i;u=hs(u);const I=new Map(h),O=[u];for(;O.length;){const V=O.shift();D.has(V)||h.set(hs(V),g?"on":"off"),x.has(V)&&O.push(...x.get(V))}let B=hs(C.get(u));for(;B;){let V=!0,z=!0;for(const Z of x.get(B)){const ee=hs(Z);if(!D.has(ee)&&(h.get(ee)!=="on"&&(V=!1),h.has(ee)&&h.get(ee)!=="off"&&(z=!1),!V&&!z))break}h.set(B,V?"on":z?"off":"indeterminate"),B=hs(C.get(B))}return t&&!g&&Array.from(h.entries()).reduce((z,Z)=>{let[ee,ie]=Z;return ie==="on"&&z.push(ee),z},[]).length===0?I:h},in:(i,u,g,h)=>{let x=new Map;for(const C of i||[])x=r.select({id:C,value:!0,selected:x,children:u,parents:g,disabled:h});return x},out:(i,u)=>{const g=[];for(const[h,x]of i.entries())x==="on"&&!u.has(h)&&g.push(h);return g}};return r},bye=t=>{const r=dte(t);return{select:r.select,in:r.in,out:(u,g,h)=>{const x=[];for(const[C,D]of u.entries())if(D==="on"){if(h.has(C)){const I=h.get(C);if(u.get(I)==="on")continue}x.push(C)}return x}}},GR=Symbol.for("vuetify:nested"),fte={id:bo(),root:{register:()=>null,unregister:()=>null,children:Ln(new Map),parents:Ln(new Map),disabled:Ln(new Set),open:()=>null,openOnSelect:()=>null,activate:()=>null,select:()=>null,activatable:Ln(!1),selectable:Ln(!1),opened:Ln(new Set),activated:Ln(new Set),selected:Ln(new Map),selectedValues:Ln([]),getPath:()=>[]}},vye=Fn({activatable:Boolean,selectable:Boolean,activeStrategy:[String,Function,Object],selectStrategy:[String,Function,Object],openStrategy:[String,Object],opened:null,activated:null,selected:null,mandatory:Boolean},"nested"),yye=t=>{let r=!1;const i=bo(new Map),u=bo(new Map),g=bo(new Set),h=Ki(t,"opened",t.opened,ee=>new Set(Array.isArray(ee)?ee.map(ie=>hs(ie)):ee),ee=>[...ee.values()]),x=It(()=>{if(typeof t.activeStrategy=="object")return t.activeStrategy;if(typeof t.activeStrategy=="function")return t.activeStrategy(t.mandatory);switch(t.activeStrategy){case"leaf":return dye(t.mandatory);case"single-leaf":return fye(t.mandatory);case"independent":return uK(t.mandatory);case"single-independent":default:return lte(t.mandatory)}}),C=It(()=>{if(typeof t.selectStrategy=="object")return t.selectStrategy;if(typeof t.selectStrategy=="function")return t.selectStrategy(t.mandatory);switch(t.selectStrategy){case"single-leaf":return pye(t.mandatory);case"leaf":return hye(t.mandatory);case"independent":return dK(t.mandatory);case"single-independent":return ute(t.mandatory);case"trunk":return bye(t.mandatory);case"classic":default:return dte(t.mandatory)}}),D=It(()=>{if(typeof t.openStrategy=="object")return t.openStrategy;switch(t.openStrategy){case"list":return gye;case"single":return mye;case"multiple":default:return cte}}),I=Ki(t,"activated",t.activated,ee=>x.value.in(ee,i.value,u.value),ee=>x.value.out(ee,i.value,u.value)),O=Ki(t,"selected",t.selected,ee=>C.value.in(ee,i.value,u.value,g.value),ee=>C.value.out(ee,i.value,u.value));Ec(()=>{r=!0});function B(ee){const ie=[];let W=hs(ee);for(;W!=null;)ie.unshift(W),W=u.value.get(W);return ie}const V=Bl("nested"),z=new Set,Z={id:bo(),root:{opened:h,activatable:pn(()=>t.activatable),selectable:pn(()=>t.selectable),activated:I,selected:O,selectedValues:It(()=>{const ee=[];for(const[ie,W]of O.value.entries())W==="on"&&ee.push(ie);return ee}),register:(ee,ie,W,he)=>{if(z.has(ee)){B(ee).map(String).join(" -> "),B(ie).concat(ee).map(String).join(" -> ");return}else z.add(ee);ie&&ee!==ie&&u.value.set(ee,ie),W&&g.value.add(ee),he&&i.value.set(ee,[]),ie!=null&&i.value.set(ie,[...i.value.get(ie)||[],ee])},unregister:ee=>{if(r)return;z.delete(ee),i.value.delete(ee),g.value.delete(ee);const ie=u.value.get(ee);if(ie){const W=i.value.get(ie)??[];i.value.set(ie,W.filter(he=>he!==ee))}u.value.delete(ee)},open:(ee,ie,W)=>{V.emit("click:open",{id:ee,value:ie,path:B(ee),event:W});const he=D.value.open({id:ee,value:ie,opened:new Set(h.value),children:i.value,parents:u.value,event:W});he&&(h.value=he)},openOnSelect:(ee,ie,W)=>{const he=D.value.select({id:ee,value:ie,selected:new Map(O.value),opened:new Set(h.value),children:i.value,parents:u.value,event:W});he&&(h.value=he)},select:(ee,ie,W)=>{V.emit("click:select",{id:ee,value:ie,path:B(ee),event:W});const he=C.value.select({id:ee,value:ie,selected:new Map(O.value),children:i.value,parents:u.value,disabled:g.value,event:W});he&&(O.value=he),Z.root.openOnSelect(ee,ie,W)},activate:(ee,ie,W)=>{if(!t.activatable)return Z.root.select(ee,!0,W);V.emit("click:activate",{id:ee,value:ie,path:B(ee),event:W});const he=x.value.activate({id:ee,value:ie,activated:new Set(I.value),children:i.value,parents:u.value,event:W});if(he.size!==I.value.size)I.value=he;else{for(const ue of he)if(!I.value.has(ue)){I.value=he;return}for(const ue of I.value)if(!he.has(ue)){I.value=he;return}}},children:i,parents:u,disabled:g,getPath:B}};return Bd(GR,Z),Z.root},mte=(t,r,i)=>{const u=Wi(GR,fte),g=Symbol("nested item"),h=It(()=>hs($b(t))??g),x={...u,id:h,open:(C,D)=>u.root.open(h.value,C,D),openOnSelect:(C,D)=>u.root.openOnSelect(h.value,C,D),isOpen:It(()=>u.root.opened.value.has(h.value)),parent:It(()=>u.root.parents.value.get(h.value)),activate:(C,D)=>u.root.activate(h.value,C,D),isActivated:It(()=>u.root.activated.value.has(h.value)),select:(C,D)=>u.root.select(h.value,C,D),isSelected:It(()=>u.root.selected.value.get(h.value)==="on"),isIndeterminate:It(()=>u.root.selected.value.get(h.value)==="indeterminate"),isLeaf:It(()=>!u.root.children.value.get(h.value)),isGroupActivator:u.isGroupActivator};return aI(()=>{u.isGroupActivator||u.root.register(h.value,u.id.value,$b(r),i)}),Ec(()=>{u.isGroupActivator||u.root.unregister(h.value)}),i&&Bd(GR,x),x},xye=()=>{const t=Wi(GR,fte);Bd(GR,{...t,isGroupActivator:!0})};function a8(){const t=bo(!1);return Wu(()=>{window.requestAnimationFrame(()=>{t.value=!0})}),{ssrBootStyles:pn(()=>t.value?void 0:{transition:"none !important"}),isBooted:IE(t)}}const wye=PE({name:"VListGroupActivator",setup(t,r){let{slots:i}=r;return xye(),()=>{var u;return(u=i.default)==null?void 0:u.call(i)}}}),Cye=Fn({activeColor:String,baseColor:String,color:String,collapseIcon:{type:$r,default:"$collapse"},disabled:Boolean,expandIcon:{type:$r,default:"$expand"},rawId:[String,Number],prependIcon:$r,appendIcon:$r,fluid:Boolean,subgroup:Boolean,title:String,value:null,...zs(),...aa()},"VListGroup"),QY=Fo()({name:"VListGroup",props:Cye(),setup(t,r){let{slots:i}=r;const{isOpen:u,open:g,id:h}=mte(()=>t.value,()=>t.disabled,!0),x=It(()=>`v-list-group--id-${String(t.rawId??h.value)}`),C=ate(),{isBooted:D}=a8();function I(z){var Z;["INPUT","TEXTAREA"].includes((Z=z.target)==null?void 0:Z.tagName)||g(!u.value,z)}const O=It(()=>({onClick:I,class:"v-list-group__header",id:x.value})),B=It(()=>u.value?t.collapseIcon:t.expandIcon),V=It(()=>({VListItem:{active:u.value,activeColor:t.activeColor,baseColor:t.baseColor,color:t.color,prependIcon:t.prependIcon||t.subgroup&&B.value,appendIcon:t.appendIcon||!t.subgroup&&B.value,title:t.title,value:t.value}}));return _s(()=>ce(t.tag,{class:ao(["v-list-group",{"v-list-group--prepend":C==null?void 0:C.hasPrepend.value,"v-list-group--fluid":t.fluid,"v-list-group--subgroup":t.subgroup,"v-list-group--open":u.value},t.class]),style:Ls(t.style)},{default:()=>[i.activator&&ce(Ea,{defaults:V.value},{default:()=>[ce(wye,null,{default:()=>[i.activator({props:O.value,isOpen:u.value})]})]}),ce(dx,{transition:{component:$ee},disabled:!D.value},{default:()=>{var z;return[Bn(oe("div",{class:"v-list-group__items",role:"group","aria-labelledby":x.value},[(z=i.default)==null?void 0:z.call(i)]),[[fo,u.value]])]}})]})),{isOpen:u}}}),_ye=Fn({opacity:[Number,String],...zs(),...aa()},"VListItemSubtitle"),Sye=Fo()({name:"VListItemSubtitle",props:_ye(),setup(t,r){let{slots:i}=r;return _s(()=>ce(t.tag,{class:ao(["v-list-item-subtitle",t.class]),style:Ls([{"--v-list-item-subtitle-opacity":t.opacity},t.style])},i)),{}}}),kye=VF("v-list-item-title"),Eye=Fn({active:{type:Boolean,default:void 0},activeClass:String,activeColor:String,appendAvatar:String,appendIcon:$r,baseColor:String,disabled:Boolean,lines:[Boolean,String],link:{type:Boolean,default:void 0},nav:Boolean,prependAvatar:String,prependIcon:$r,ripple:{type:[Boolean,Object],default:!0},slim:Boolean,subtitle:{type:[String,Number,Boolean],default:void 0},title:{type:[String,Number,Boolean],default:void 0},value:null,onClick:wf(),onClickOnce:wf(),...o1(),...zs(),...qg(),...fp(),...r1(),...Am(),...n8(),...aa(),...xl(),...a1({variant:"text"})},"VListItem"),_c=Fo()({name:"VListItem",directives:{vRipple:J0},props:Eye(),emits:{click:t=>!0},setup(t,r){let{attrs:i,slots:u,emit:g}=r;const h=t8(t,i),x=It(()=>t.value===void 0?h.href.value:t.value),{activate:C,isActivated:D,select:I,isOpen:O,isSelected:B,isIndeterminate:V,isGroupActivator:z,root:Z,parent:ee,openOnSelect:ie,id:W}=mte(x,()=>t.disabled,!1),he=ate(),ue=It(()=>{var Wt;return t.active!==!1&&(t.active||((Wt=h.isActive)==null?void 0:Wt.value)||(Z.activatable.value?D.value:B.value))}),j=pn(()=>t.link!==!1&&h.isLink.value),de=It(()=>!!he&&(Z.selectable.value||Z.activatable.value||t.value!=null)),te=It(()=>!t.disabled&&t.link!==!1&&(t.link||h.isClickable.value||de.value)),ze=pn(()=>t.rounded||t.nav),Fe=pn(()=>t.color??t.activeColor),Je=pn(()=>({color:ue.value?Fe.value??t.baseColor:t.baseColor,variant:t.variant}));Rn(()=>{var Wt;return(Wt=h.isActive)==null?void 0:Wt.value},Wt=>{Wt&&rt()}),aI(()=>{var Wt;(Wt=h.isActive)!=null&&Wt.value&&rt()});function rt(){ee.value!=null&&Z.open(ee.value,!0),ie(!0)}const{themeClasses:we}=ic(t),{borderClasses:_e}=s1(t),{colorClasses:R,colorStyles:it,variantClasses:St}=FE(Je),{densityClasses:Ut}=dp(t),{dimensionStyles:sn}=mp(t),{elevationClasses:dt}=i1(t),{roundedClasses:An}=Tm(ze),At=pn(()=>t.lines?`v-list-item--${t.lines}-line`:void 0),et=pn(()=>t.ripple!==void 0&&t.ripple&&(he!=null&&he.filterable)?{keys:[MU.enter]}:t.ripple),Me=It(()=>({isActive:ue.value,select:I,isOpen:O.value,isSelected:B.value,isIndeterminate:V.value}));function mt(Wt){var In,on;g("click",Wt),!["INPUT","TEXTAREA"].includes((In=Wt.target)==null?void 0:In.tagName)&&te.value&&((on=h.navigate)==null||on.call(h,Wt),!z&&(Z.activatable.value?C(!D.value,Wt):(Z.selectable.value||t.value!=null)&&I(!B.value,Wt)))}function vo(Wt){const In=Wt.target;["INPUT","TEXTAREA"].includes(In.tagName)||(Wt.key==="Enter"||Wt.key===" "&&!(he!=null&&he.filterable))&&(Wt.preventDefault(),Wt.stopPropagation(),Wt.target.dispatchEvent(new MouseEvent("click",Wt)))}return _s(()=>{const Wt=j.value?"a":t.tag,In=u.title||t.title!=null,on=u.subtitle||t.subtitle!=null,J=!!(t.appendAvatar||t.appendIcon),mo=!!(J||u.append),Zt=!!(t.prependAvatar||t.prependIcon),vn=!!(Zt||u.prepend);return he==null||he.updateHasPrepend(vn),t.activeColor&&nQ("active-color",["color","base-color"]),Bn(ce(Wt,Bo({class:["v-list-item",{"v-list-item--active":ue.value,"v-list-item--disabled":t.disabled,"v-list-item--link":te.value,"v-list-item--nav":t.nav,"v-list-item--prepend":!vn&&(he==null?void 0:he.hasPrepend.value),"v-list-item--slim":t.slim,[`${t.activeClass}`]:t.activeClass&&ue.value},we.value,_e.value,R.value,Ut.value,dt.value,At.value,An.value,St.value,t.class],style:[it.value,sn.value,t.style],tabindex:te.value?he?-2:0:void 0,"aria-selected":de.value?Z.activatable.value?D.value:Z.selectable.value?B.value:ue.value:void 0,onClick:mt,onKeydown:te.value&&!j.value&&vo},h.linkProps),{default:()=>{var je;return[BE(te.value||ue.value,"v-list-item"),vn&&oe("div",{key:"prepend",class:"v-list-item__prepend"},[u.prepend?ce(Ea,{key:"prepend-defaults",disabled:!Zt,defaults:{VAvatar:{density:t.density,image:t.prependAvatar},VIcon:{density:t.density,icon:t.prependIcon},VListItemAction:{start:!0}}},{default:()=>{var tt;return[(tt=u.prepend)==null?void 0:tt.call(u,Me.value)]}}):oe(is,null,[t.prependAvatar&&ce(yx,{key:"prepend-avatar",density:t.density,image:t.prependAvatar},null),t.prependIcon&&ce(Kn,{key:"prepend-icon",density:t.density,icon:t.prependIcon},null)]),oe("div",{class:"v-list-item__spacer"},null)]),oe("div",{class:"v-list-item__content","data-no-activator":""},[In&&ce(kye,{key:"title"},{default:()=>{var tt;return[((tt=u.title)==null?void 0:tt.call(u,{title:t.title}))??We(t.title)]}}),on&&ce(Sye,{key:"subtitle"},{default:()=>{var tt;return[((tt=u.subtitle)==null?void 0:tt.call(u,{subtitle:t.subtitle}))??We(t.subtitle)]}}),(je=u.default)==null?void 0:je.call(u,Me.value)]),mo&&oe("div",{key:"append",class:"v-list-item__append"},[u.append?ce(Ea,{key:"append-defaults",disabled:!J,defaults:{VAvatar:{density:t.density,image:t.appendAvatar},VIcon:{density:t.density,icon:t.appendIcon},VListItemAction:{end:!0}}},{default:()=>{var tt;return[(tt=u.append)==null?void 0:tt.call(u,Me.value)]}}):oe(is,null,[t.appendIcon&&ce(Kn,{key:"append-icon",density:t.density,icon:t.appendIcon},null),t.appendAvatar&&ce(yx,{key:"append-avatar",density:t.density,image:t.appendAvatar},null)]),oe("div",{class:"v-list-item__spacer"},null)])]}}),[[J0,te.value&&et.value]])}),{activate:C,isActivated:D,isGroupActivator:z,isSelected:B,list:he,select:I,root:Z,id:W,link:h}}}),Aye=Fn({color:String,inset:Boolean,sticky:Boolean,title:String,...zs(),...aa()},"VListSubheader"),fK=Fo()({name:"VListSubheader",props:Aye(),setup(t,r){let{slots:i}=r;const{textColorClasses:u,textColorStyles:g}=cp(()=>t.color);return _s(()=>{const h=!!(i.default||t.title);return ce(t.tag,{class:ao(["v-list-subheader",{"v-list-subheader--inset":t.inset,"v-list-subheader--sticky":t.sticky},u.value,t.class]),style:Ls([{textColorStyles:g},t.style])},{default:()=>{var x;return[h&&oe("div",{class:"v-list-subheader__text"},[((x=i.default)==null?void 0:x.call(i))??t.title])]}})}),{}}}),Tye=Fn({items:Array,returnObject:Boolean},"VListChildren"),gte=Fo()({name:"VListChildren",props:Tye(),setup(t,r){let{slots:i}=r;return ite(),()=>{var u,g;return((u=i.default)==null?void 0:u.call(i))??((g=t.items)==null?void 0:g.map(h=>{var V,z;let{children:x,props:C,type:D,raw:I}=h;if(D==="divider")return((V=i.divider)==null?void 0:V.call(i,{props:C}))??ce(RC,C,null);if(D==="subheader")return((z=i.subheader)==null?void 0:z.call(i,{props:C}))??ce(fK,C,null);const O={subtitle:i.subtitle?Z=>{var ee;return(ee=i.subtitle)==null?void 0:ee.call(i,{...Z,item:I})}:void 0,prepend:i.prepend?Z=>{var ee;return(ee=i.prepend)==null?void 0:ee.call(i,{...Z,item:I})}:void 0,append:i.append?Z=>{var ee;return(ee=i.append)==null?void 0:ee.call(i,{...Z,item:I})}:void 0,title:i.title?Z=>{var ee;return(ee=i.title)==null?void 0:ee.call(i,{...Z,item:I})}:void 0},B=QY.filterProps(C);return x?ce(QY,Bo(B,{value:t.returnObject?I:C==null?void 0:C.value,rawId:C==null?void 0:C.value}),{activator:Z=>{let{props:ee}=Z;const ie={...C,...ee,value:t.returnObject?I:C.value};return i.header?i.header({props:ie}):ce(_c,ie,O)},default:()=>ce(gte,{items:x,returnObject:t.returnObject},i)}):i.item?i.item({props:C}):ce(_c,Bo(C,{value:t.returnObject?I:C.value}),O)}))}}}),hte=Fn({items:{type:Array,default:()=>[]},itemTitle:{type:[String,Array,Function],default:"title"},itemValue:{type:[String,Array,Function],default:"value"},itemChildren:{type:[Boolean,String,Array,Function],default:"children"},itemProps:{type:[Boolean,String,Array,Function],default:"props"},itemType:{type:[Boolean,String,Array,Function],default:"type"},returnObject:Boolean,valueComparator:Function},"list-items");function fW(t,r){const i=Wg(r,t.itemTitle,r),u=Wg(r,t.itemValue,i),g=Wg(r,t.itemChildren),h=Wg(r,t.itemType,"item"),x=t.itemProps===!0?typeof r=="object"&&r!=null&&!Array.isArray(r)?"children"in r?xx(r,["children"]):r:void 0:Wg(r,t.itemProps),C={title:i,value:u,...x};return{type:h,title:String(C.title??""),value:C.value,props:C,children:h==="item"&&Array.isArray(g)?pte(t,g):void 0,raw:r}}function pte(t,r){const i=FF(t,["itemTitle","itemValue","itemChildren","itemProps","itemType","returnObject","valueComparator"]),u=[];for(const g of r)u.push(fW(i,g));return u}function bte(t){const r=It(()=>pte(t,t.items)),i=It(()=>r.value.some(C=>C.value===null)),u=bo(new Map),g=bo([]);Md(()=>{const C=r.value,D=new Map,I=[];for(let O=0;O<C.length;O++){const B=C[O];if(FU(B.value)||B.value===null){let V=D.get(B.value);V||(V=[],D.set(B.value,V)),V.push(B)}else I.push(B)}u.value=D,g.value=I});function h(C){const D=u.value,I=r.value,O=g.value,B=i.value,V=t.returnObject,z=!!t.valueComparator,Z=t.valueComparator||Zg,ee=FF(t,["itemTitle","itemValue","itemChildren","itemProps","itemType","returnObject","valueComparator"]),ie=[];e:for(const W of C){if(!B&&W===null)continue;if(V&&typeof W=="string"){ie.push(fW(ee,W));continue}const he=D.get(W);if(z||!he){for(const ue of z?I:O)if(Z(W,ue.value)){ie.push(ue);continue e}ie.push(fW(ee,W));continue}ie.push(...he)}return ie}function x(C){return t.returnObject?C.map(D=>{let{raw:I}=D;return I}):C.map(D=>{let{value:I}=D;return I})}return{items:r,transformIn:h,transformOut:x}}function Oye(t,r){const i=Wg(r,t.itemType,"item"),u=FU(r)?r:Wg(r,t.itemTitle),g=FU(r)?r:Wg(r,t.itemValue,void 0),h=Wg(r,t.itemChildren),x=t.itemProps===!0?xx(r,["children"]):Wg(r,t.itemProps),C={title:u,value:g,...x};return{type:i,title:C.title,value:C.value,props:C,children:i==="item"&&h?vte(t,h):void 0,raw:r}}function vte(t,r){const i=[];for(const u of r)i.push(Oye(t,u));return i}function Rye(t){return{items:It(()=>vte(t,t.items))}}const Iye=Fn({baseColor:String,activeColor:String,activeClass:String,bgColor:String,disabled:Boolean,filterable:Boolean,expandIcon:$r,collapseIcon:$r,lines:{type:[Boolean,String],default:"one"},slim:Boolean,nav:Boolean,"onClick:open":wf(),"onClick:select":wf(),"onUpdate:opened":wf(),...vye({selectStrategy:"single-leaf",openStrategy:"list"}),...o1(),...zs(),...qg(),...fp(),...r1(),...hte(),...Am(),...aa(),...xl(),...a1({variant:"text"})},"VList"),bI=Fo()({name:"VList",props:Iye(),emits:{"update:selected":t=>!0,"update:activated":t=>!0,"update:opened":t=>!0,"click:open":t=>!0,"click:activate":t=>!0,"click:select":t=>!0},setup(t,r){let{slots:i}=r;const{items:u}=Rye(t),{themeClasses:g}=ic(t),{backgroundColorClasses:h,backgroundColorStyles:x}=ip(()=>t.bgColor),{borderClasses:C}=s1(t),{densityClasses:D}=dp(t),{dimensionStyles:I}=mp(t),{elevationClasses:O}=i1(t),{roundedClasses:B}=Tm(t),{children:V,open:z,parents:Z,select:ee,getPath:ie}=yye(t),W=pn(()=>t.lines?`v-list--${t.lines}-line`:void 0),he=pn(()=>t.activeColor),ue=pn(()=>t.baseColor),j=pn(()=>t.color);ite({filterable:t.filterable}),wx({VListGroup:{activeColor:he,baseColor:ue,color:j,expandIcon:pn(()=>t.expandIcon),collapseIcon:pn(()=>t.collapseIcon)},VListItem:{activeClass:pn(()=>t.activeClass),activeColor:he,baseColor:ue,color:j,density:pn(()=>t.density),disabled:pn(()=>t.disabled),lines:pn(()=>t.lines),nav:pn(()=>t.nav),slim:pn(()=>t.slim),variant:pn(()=>t.variant)}});const de=bo(!1),te=Ln();function ze(R){de.value=!0}function Fe(R){de.value=!1}function Je(R){var it;!de.value&&!(R.relatedTarget&&((it=te.value)!=null&&it.contains(R.relatedTarget)))&&_e()}function rt(R){const it=R.target;if(!(!te.value||["INPUT","TEXTAREA"].includes(it.tagName))){if(R.key==="ArrowDown")_e("next");else if(R.key==="ArrowUp")_e("prev");else if(R.key==="Home")_e("first");else if(R.key==="End")_e("last");else return;R.preventDefault()}}function we(R){de.value=!0}function _e(R){if(te.value)return ER(te.value,R)}return _s(()=>ce(t.tag,{ref:te,class:ao(["v-list",{"v-list--disabled":t.disabled,"v-list--nav":t.nav,"v-list--slim":t.slim},g.value,h.value,C.value,D.value,O.value,W.value,B.value,t.class]),style:Ls([x.value,I.value,t.style]),tabindex:t.disabled?-1:0,role:"listbox","aria-activedescendant":void 0,onFocusin:ze,onFocusout:Fe,onFocus:Je,onKeydown:rt,onMousedown:we},{default:()=>[ce(gte,{items:u.value,returnObject:t.returnObject},i)]})),{open:z,select:ee,focus:_e,children:V,parents:Z,getPath:ie}}}),Dye=Fn({id:String,submenu:Boolean,disableInitialFocus:Boolean,...xx(lK({closeDelay:250,closeOnContentClick:!0,locationStrategy:"connected",location:void 0,openDelay:300,scrim:!1,scrollStrategy:"reposition",transition:{component:aK}}),["absolute"])},"VMenu"),vI=Fo()({name:"VMenu",props:Dye(),emits:{"update:modelValue":t=>!0},setup(t,r){let{slots:i}=r;const u=Ki(t,"modelValue"),{scopeId:g}=s8(),{isRtl:h}=Gg(),x=t1(),C=pn(()=>t.id||`v-menu-${x}`),D=Ln(),I=Wi(uW,null),O=bo(new Set);Bd(uW,{register(){O.value.add(x)},unregister(){O.value.delete(x)},closeParents(ie){setTimeout(()=>{var W;!O.value.size&&!t.persistent&&(ie==null||(W=D.value)!=null&&W.contentEl&&!zme(ie,D.value.contentEl))&&(u.value=!1,I==null||I.closeParents())},40)}}),Ec(()=>{I==null||I.unregister(),document.removeEventListener("focusin",B)}),NF(()=>u.value=!1);async function B(ie){var ue,j,de;const W=ie.relatedTarget,he=ie.target;await Qo(),u.value&&W!==he&&((ue=D.value)!=null&&ue.contentEl)&&((j=D.value)!=null&&j.globalTop)&&![document,D.value.contentEl].includes(he)&&!D.value.contentEl.contains(he)&&((de=FR(D.value.contentEl)[0])==null||de.focus())}Rn(u,ie=>{ie?(I==null||I.register(),Jr&&!t.disableInitialFocus&&document.addEventListener("focusin",B,{once:!0})):(I==null||I.unregister(),Jr&&document.removeEventListener("focusin",B))},{immediate:!0});function V(ie){I==null||I.closeParents(ie)}function z(ie){var W,he,ue,j,de;if(!t.disabled)if(ie.key==="Tab"||ie.key==="Enter"&&!t.closeOnContentClick){if(ie.key==="Enter"&&(ie.target instanceof HTMLTextAreaElement||ie.target instanceof HTMLInputElement&&ie.target.closest("form")))return;ie.key==="Enter"&&ie.preventDefault(),QJ(FR((W=D.value)==null?void 0:W.contentEl,!1),ie.shiftKey?"prev":"next",ze=>ze.tabIndex>=0)||(u.value=!1,(ue=(he=D.value)==null?void 0:he.activatorEl)==null||ue.focus())}else t.submenu&&ie.key===(h.value?"ArrowRight":"ArrowLeft")&&(u.value=!1,(de=(j=D.value)==null?void 0:j.activatorEl)==null||de.focus())}function Z(ie){var he;if(t.disabled)return;const W=(he=D.value)==null?void 0:he.contentEl;W&&u.value?ie.key==="ArrowDown"?(ie.preventDefault(),ie.stopImmediatePropagation(),ER(W,"next")):ie.key==="ArrowUp"?(ie.preventDefault(),ie.stopImmediatePropagation(),ER(W,"prev")):t.submenu&&(ie.key===(h.value?"ArrowRight":"ArrowLeft")?u.value=!1:ie.key===(h.value?"ArrowLeft":"ArrowRight")&&(ie.preventDefault(),ER(W,"first"))):(t.submenu?ie.key===(h.value?"ArrowLeft":"ArrowRight"):["ArrowDown","ArrowUp"].includes(ie.key))&&(u.value=!0,ie.preventDefault(),setTimeout(()=>setTimeout(()=>Z(ie))))}const ee=It(()=>Bo({"aria-haspopup":"menu","aria-expanded":String(u.value),"aria-controls":C.value,onKeydown:Z},t.activatorProps));return _s(()=>{const ie=yF.filterProps(t);return ce(yF,Bo({ref:D,id:C.value,class:["v-menu",t.class],style:t.style},ie,{modelValue:u.value,"onUpdate:modelValue":W=>u.value=W,absolute:!0,activatorProps:ee.value,location:t.location??(t.submenu?"end":"bottom"),"onClick:outside":V,onKeydown:z},g),{activator:i.activator,default:function(){for(var W=arguments.length,he=new Array(W),ue=0;ue<W;ue++)he[ue]=arguments[ue];return ce(Ea,{root:"VMenu"},{default:()=>{var j;return[(j=i.default)==null?void 0:j.call(i,...he)]}})}})}),VC({id:C,openChildren:O},D)}}),Pye=Fn({active:Boolean,disabled:Boolean,max:[Number,String],value:{type:[Number,String],default:0},...zs(),...$E({transition:{component:Fee}})},"VCounter"),yte=Fo()({name:"VCounter",functional:!0,props:Pye(),setup(t,r){let{slots:i}=r;const u=pn(()=>t.max?`${t.value} / ${t.max}`:String(t.value));return _s(()=>ce(dx,{transition:t.transition},{default:()=>[Bn(oe("div",{class:ao(["v-counter",{"text-error":t.max&&!t.disabled&&parseFloat(t.value)>parseFloat(t.max)},t.class]),style:Ls(t.style)},[i.default?i.default({counter:u.value,max:t.max,value:t.value}):u.value]),[[fo,t.active]])]})),{}}}),Nye=Fn({floating:Boolean,...zs()},"VFieldLabel"),R6=Fo()({name:"VFieldLabel",props:Nye(),setup(t,r){let{slots:i}=r;return _s(()=>ce(Gee,{class:ao(["v-field-label",{"v-field-label--floating":t.floating},t.class]),style:Ls(t.style),"aria-hidden":t.floating||void 0},i)),{}}}),Lye=["underlined","outlined","filled","solo","solo-inverted","solo-filled","plain"],mK=Fn({appendInnerIcon:$r,bgColor:String,clearable:Boolean,clearIcon:{type:$r,default:"$clear"},active:Boolean,centerAffix:{type:Boolean,default:void 0},color:String,baseColor:String,dirty:Boolean,disabled:{type:Boolean,default:null},glow:Boolean,error:Boolean,flat:Boolean,iconColor:[Boolean,String],label:String,persistentClear:Boolean,prependInnerIcon:$r,reverse:Boolean,singleLine:Boolean,variant:{type:String,default:"filled",validator:t=>Lye.includes(t)},"onClick:clear":wf(),"onClick:appendInner":wf(),"onClick:prependInner":wf(),...zs(),...oK(),...Am(),...xl()},"VField"),wF=Fo()({name:"VField",inheritAttrs:!1,props:{id:String,...ete(),...mK()},emits:{"update:focused":t=>!0,"update:modelValue":t=>!0},setup(t,r){let{attrs:i,emit:u,slots:g}=r;const{themeClasses:h}=ic(t),{loaderClasses:x}=sK(t),{focusClasses:C,isFocused:D,focus:I,blur:O}=r8(t),{InputIcon:B}=Qee(t),{roundedClasses:V}=Tm(t),{rtlClasses:z}=Gg(),Z=pn(()=>t.dirty||t.active),ee=pn(()=>!!(t.label||g.label)),ie=pn(()=>!t.singleLine&&ee.value),W=t1(),he=It(()=>t.id||`input-${W}`),ue=pn(()=>`${he.value}-messages`),j=Ln(),de=Ln(),te=Ln(),ze=It(()=>["plain","underlined"].includes(t.variant)),Fe=It(()=>t.error||t.disabled?void 0:Z.value&&D.value?t.color:t.baseColor),Je=It(()=>{if(!(!t.iconColor||t.glow&&!D.value))return t.iconColor===!0?Fe.value:t.iconColor}),{backgroundColorClasses:rt,backgroundColorStyles:we}=ip(()=>t.bgColor),{textColorClasses:_e,textColorStyles:R}=cp(Fe);Rn(Z,Ut=>{if(ie.value){const sn=j.value.$el,dt=de.value.$el;requestAnimationFrame(()=>{const An=VW(sn),At=dt.getBoundingClientRect(),et=At.x-An.x,Me=At.y-An.y-(An.height/2-At.height/2),mt=At.width/.75,vo=Math.abs(mt-An.width)>1?{maxWidth:ys(mt)}:void 0,Wt=getComputedStyle(sn),In=getComputedStyle(dt),on=parseFloat(Wt.transitionDuration)*1e3||150,J=parseFloat(In.getPropertyValue("--v-field-label-scale")),mo=In.getPropertyValue("color");sn.style.visibility="visible",dt.style.visibility="hidden",dE(sn,{transform:`translate(${et}px, ${Me}px) scale(${J})`,color:mo,...vo},{duration:on,easing:rF,direction:Ut?"normal":"reverse"}).finished.then(()=>{sn.style.removeProperty("visibility"),dt.style.removeProperty("visibility")})})}},{flush:"post"});const it=It(()=>({isActive:Z,isFocused:D,controlRef:te,blur:O,focus:I}));function St(Ut){Ut.target!==document.activeElement&&Ut.preventDefault()}return _s(()=>{var et,Me,mt;const Ut=t.variant==="outlined",sn=!!(g["prepend-inner"]||t.prependInnerIcon),dt=!!(t.clearable||g.clear)&&!t.disabled,An=!!(g["append-inner"]||t.appendInnerIcon||dt),At=()=>g.label?g.label({...it.value,label:t.label,props:{for:he.value}}):t.label;return oe("div",Bo({class:["v-field",{"v-field--active":Z.value,"v-field--appended":An,"v-field--center-affix":t.centerAffix??!ze.value,"v-field--disabled":t.disabled,"v-field--dirty":t.dirty,"v-field--error":t.error,"v-field--glow":t.glow,"v-field--flat":t.flat,"v-field--has-background":!!t.bgColor,"v-field--persistent-clear":t.persistentClear,"v-field--prepended":sn,"v-field--reverse":t.reverse,"v-field--single-line":t.singleLine,"v-field--no-label":!At(),[`v-field--variant-${t.variant}`]:!0},h.value,rt.value,C.value,x.value,V.value,z.value,t.class],style:[we.value,t.style],onClick:St},i),[oe("div",{class:"v-field__overlay"},null),ce(kee,{name:"v-field",active:!!t.loading,color:t.error?"error":typeof t.loading=="string"?t.loading:t.color},{default:g.loader}),sn&&oe("div",{key:"prepend",class:"v-field__prepend-inner"},[t.prependInnerIcon&&ce(B,{key:"prepend-icon",name:"prependInner",color:Je.value},null),(et=g["prepend-inner"])==null?void 0:et.call(g,it.value)]),oe("div",{class:"v-field__field","data-no-activator":""},[["filled","solo","solo-inverted","solo-filled"].includes(t.variant)&&ie.value&&ce(R6,{key:"floating-label",ref:de,class:ao([_e.value]),floating:!0,for:he.value,style:Ls(R.value)},{default:()=>[At()]}),ee.value&&ce(R6,{key:"label",ref:j,for:he.value},{default:()=>[At()]}),((Me=g.default)==null?void 0:Me.call(g,{...it.value,props:{id:he.value,class:"v-field__input","aria-describedby":ue.value},focus:I,blur:O}))??oe("div",{id:he.value,class:"v-field__input","aria-describedby":ue.value},null)]),dt&&ce(Vee,{key:"clear"},{default:()=>[Bn(oe("div",{class:"v-field__clearable",onMousedown:vo=>{vo.preventDefault(),vo.stopPropagation()}},[ce(Ea,{defaults:{VIcon:{icon:t.clearIcon}}},{default:()=>[g.clear?g.clear({...it.value,props:{onFocus:I,onBlur:O,onClick:t["onClick:clear"],tabindex:-1}}):ce(B,{name:"clear",onFocus:I,onBlur:O,tabindex:-1},null)]})]),[[fo,t.dirty]])]}),An&&oe("div",{key:"append",class:"v-field__append-inner"},[(mt=g["append-inner"])==null?void 0:mt.call(g,it.value),t.appendInnerIcon&&ce(B,{key:"append-icon",name:"appendInner",color:Je.value},null)]),oe("div",{class:ao(["v-field__outline",_e.value]),style:Ls(R.value)},[Ut&&oe(is,null,[oe("div",{class:"v-field__outline__start"},null),ie.value&&oe("div",{class:"v-field__outline__notch"},[ce(R6,{ref:de,floating:!0,for:he.value},{default:()=>[At()]})]),oe("div",{class:"v-field__outline__end"},null)]),ze.value&&ie.value&&ce(R6,{ref:de,floating:!0,for:he.value},{default:()=>[At()]})])])}),{controlRef:te,fieldIconColor:Je}}});function xte(t){function r(i,u){var g,h;!t.autofocus||!i||(h=(g=u[0].target)==null?void 0:g.focus)==null||h.call(g)}return{onIntersect:r}}const Mye=["color","file","time","date","datetime-local","week","month"],gK=Fn({autofocus:Boolean,counter:[Boolean,Number,String],counterValue:[Number,Function],prefix:String,placeholder:String,persistentPlaceholder:Boolean,persistentCounter:Boolean,suffix:String,role:String,type:{type:String,default:"text"},modelModifiers:Object,...i8(),...mK()},"VTextField"),qR=Fo()({name:"VTextField",directives:{vIntersect:AE},inheritAttrs:!1,props:gK(),emits:{"click:control":t=>!0,"mousedown:control":t=>!0,"update:focused":t=>!0,"update:modelValue":t=>!0},setup(t,r){let{attrs:i,emit:u,slots:g}=r;const h=Ki(t,"modelValue"),{isFocused:x,focus:C,blur:D}=r8(t),{onIntersect:I}=xte(t),O=It(()=>typeof t.counterValue=="function"?t.counterValue(h.value):typeof t.counterValue=="number"?t.counterValue:(h.value??"").toString().length),B=It(()=>{if(i.maxlength)return i.maxlength;if(!(!t.counter||typeof t.counter!="number"&&typeof t.counter!="string"))return t.counter}),V=It(()=>["plain","underlined"].includes(t.variant)),z=Ln(),Z=Ln(),ee=Ln(),ie=It(()=>Mye.includes(t.type)||t.persistentPlaceholder||x.value||t.active);function W(){x.value||C(),Qo(()=>{ee.value!==document.activeElement&&Qo(()=>{var te;return(te=ee.value)==null?void 0:te.focus()})})}function he(te){u("mousedown:control",te),te.target!==ee.value&&(W(),te.preventDefault())}function ue(te){u("click:control",te)}function j(te,ze){te.stopPropagation(),W(),Qo(()=>{h.value=null,ze(),FW(t["onClick:clear"],te)})}function de(te){var Fe;const ze=te.target;if(h.value=ze.value,(Fe=t.modelModifiers)!=null&&Fe.trim&&["text","search","password","tel","url"].includes(t.type)){const Je=[ze.selectionStart,ze.selectionEnd];Qo(()=>{ze.selectionStart=Je[0],ze.selectionEnd=Je[1]})}}return _s(()=>{const te=!!(g.counter||t.counter!==!1&&t.counter!=null),ze=!!(te||g.details),[Fe,Je]=$F(i),{modelValue:rt,...we}=TE.filterProps(t),_e=wF.filterProps(t);return ce(TE,Bo({ref:z,modelValue:h.value,"onUpdate:modelValue":R=>h.value=R,class:["v-text-field",{"v-text-field--prefixed":t.prefix,"v-text-field--suffixed":t.suffix,"v-input--plain-underlined":V.value},t.class],style:t.style},Fe,we,{centerAffix:!V.value,focused:x.value}),{...g,default:R=>{let{id:it,isDisabled:St,isDirty:Ut,isReadonly:sn,isValid:dt,reset:An}=R;return ce(wF,Bo({ref:Z,onMousedown:he,onClick:ue,"onClick:clear":At=>j(At,An),"onClick:prependInner":t["onClick:prependInner"],"onClick:appendInner":t["onClick:appendInner"],role:t.role},_e,{id:it.value,active:ie.value||Ut.value,dirty:Ut.value||t.dirty,disabled:St.value,focused:x.value,error:dt.value===!1}),{...g,default:At=>{let{props:{class:et,...Me}}=At;const mt=Bn(oe("input",Bo({ref:ee,value:h.value,onInput:de,autofocus:t.autofocus,readonly:sn.value,disabled:St.value,name:t.name,placeholder:t.placeholder,size:1,type:t.type,onFocus:W,onBlur:D},Me,Je),null),[[AE,{handler:I},null,{once:!0}]]);return oe(is,null,[t.prefix&&oe("span",{class:"v-text-field__prefix"},[oe("span",{class:"v-text-field__prefix__text"},[t.prefix])]),g.default?oe("div",{class:ao(et),"data-no-activator":""},[g.default(),mt]):X0(mt,{class:et}),t.suffix&&oe("span",{class:"v-text-field__suffix"},[oe("span",{class:"v-text-field__suffix__text"},[t.suffix])])])}})},details:ze?R=>{var it;return oe(is,null,[(it=g.details)==null?void 0:it.call(g,R),te&&oe(is,null,[oe("span",null,null),ce(yte,{active:t.persistentCounter||x.value,value:O.value,max:B.value,disabled:t.disabled},g.counter)])])}:void 0})}),VC({},z,Z,ee)}}),Bye=Fn({renderless:Boolean,...zs()},"VVirtualScrollItem"),Fye=Fo()({name:"VVirtualScrollItem",inheritAttrs:!1,props:Bye(),emits:{"update:height":t=>!0},setup(t,r){let{attrs:i,emit:u,slots:g}=r;const{resizeRef:h,contentRect:x}=SE(void 0,"border");Rn(()=>{var C;return(C=x.value)==null?void 0:C.height},C=>{C!=null&&u("update:height",C)}),_s(()=>{var C,D;return t.renderless?oe(is,null,[(C=g.default)==null?void 0:C.call(g,{itemRef:h})]):oe("div",Bo({ref:h,class:["v-virtual-scroll__item",t.class],style:t.style},i),[(D=g.default)==null?void 0:D.call(g)])})}}),$ye=-1,Vye=1,mU=100,zye=Fn({itemHeight:{type:[Number,String],default:null},itemKey:{type:[String,Array,Function],default:null},height:[Number,String]},"virtual");function Hye(t,r){const i=HF(),u=bo(0);Md(()=>{u.value=parseFloat(t.itemHeight||0)});const g=bo(0),h=bo(Math.ceil((parseInt(t.height)||i.height.value)/(u.value||16))||1),x=bo(0),C=bo(0),D=Ln(),I=Ln();let O=0;const{resizeRef:B,contentRect:V}=SE();Md(()=>{B.value=D.value});const z=It(()=>{var At;return D.value===document.documentElement?i.height.value:((At=V.value)==null?void 0:At.height)||parseInt(t.height)||0}),Z=It(()=>!!(D.value&&I.value&&z.value&&u.value));let ee=Array.from({length:r.value.length}),ie=Array.from({length:r.value.length});const W=bo(0);let he=-1;function ue(At){return ee[At]||u.value}const j=Bme(()=>{const At=performance.now();ie[0]=0;const et=r.value.length;for(let Me=1;Me<=et-1;Me++)ie[Me]=(ie[Me-1]||0)+ue(Me-1);W.value=Math.max(W.value,performance.now()-At)},W),de=Rn(Z,At=>{At&&(de(),O=I.value.offsetTop,j.immediate(),Ut(),~he&&Qo(()=>{Jr&&window.requestAnimationFrame(()=>{dt(he),he=-1})}))});rc(()=>{j.clear()});function te(At,et){const Me=ee[At],mt=u.value;u.value=mt?Math.min(u.value,et):et,(Me!==et||mt!==u.value)&&(ee[At]=et,j())}function ze(At){At=xf(At,0,r.value.length-1);const et=Math.floor(At),Me=At%1,mt=et+1,vo=ie[et]||0,Wt=ie[mt]||vo;return vo+(Wt-vo)*Me}function Fe(At){return Uye(ie,At)}let Je=0,rt=0,we=0;Rn(z,(At,et)=>{et&&(Ut(),At<et&&requestAnimationFrame(()=>{rt=0,Ut()}))});let _e=-1;function R(){if(!D.value||!I.value)return;const At=D.value.scrollTop,et=performance.now();et-we>500?(rt=Math.sign(At-Je),O=I.value.offsetTop):rt=At-Je,Je=At,we=et,window.clearTimeout(_e),_e=window.setTimeout(it,500),Ut()}function it(){!D.value||!I.value||(rt=0,we=0,window.clearTimeout(_e),Ut())}let St=-1;function Ut(){cancelAnimationFrame(St),St=requestAnimationFrame(sn)}function sn(){if(!D.value||!z.value||!u.value)return;const At=Je-O,et=Math.sign(rt),Me=Math.max(0,At-mU),mt=xf(Fe(Me),0,r.value.length),vo=At+z.value+mU,Wt=xf(Fe(vo)+1,mt+1,r.value.length);if((et!==$ye||mt<g.value)&&(et!==Vye||Wt>h.value)){const In=ze(g.value)-ze(mt),on=ze(Wt)-ze(h.value);Math.max(In,on)>mU?(g.value=mt,h.value=Wt):(mt<=0&&(g.value=mt),Wt>=r.value.length&&(h.value=Wt))}x.value=ze(g.value),C.value=ze(r.value.length)-ze(h.value)}function dt(At){const et=ze(At);!D.value||At&&!et?he=At:D.value.scrollTop=et}const An=It(()=>r.value.slice(g.value,h.value).map((At,et)=>{const Me=et+g.value;return{raw:At,index:Me,key:Wg(At,t.itemKey,Me)}}));return Rn(r,()=>{ee=Array.from({length:r.value.length}),ie=Array.from({length:r.value.length}),j.immediate(),Ut()},{deep:1}),{calculateVisibleItems:Ut,containerRef:D,markerRef:I,computedItems:An,paddingTop:x,paddingBottom:C,scrollToIndex:dt,handleScroll:R,handleScrollend:it,handleItemResize:te}}function Uye(t,r){let i=t.length-1,u=0,g=0,h=null,x=-1;if(t[i]<r)return i;for(;u<=i;)if(g=u+i>>1,h=t[g],h>r)i=g-1;else if(h<r)x=g,u=g+1;else return h===r?g:u;return x}const Wye=Fn({items:{type:Array,default:()=>[]},renderless:Boolean,...zye(),...zs(),...fp()},"VVirtualScroll"),wte=Fo()({name:"VVirtualScroll",props:Wye(),setup(t,r){let{slots:i}=r;const u=Bl("VVirtualScroll"),{dimensionStyles:g}=mp(t),{calculateVisibleItems:h,containerRef:x,markerRef:C,handleScroll:D,handleScrollend:I,handleItemResize:O,scrollToIndex:B,paddingTop:V,paddingBottom:z,computedItems:Z}=Hye(t,pn(()=>t.items));return jg(()=>t.renderless,()=>{function ee(){var he,ue;const W=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1)?"addEventListener":"removeEventListener";x.value===document.documentElement?(document[W]("scroll",D,{passive:!0}),document[W]("scrollend",I)):((he=x.value)==null||he[W]("scroll",D,{passive:!0}),(ue=x.value)==null||ue[W]("scrollend",I))}Wu(()=>{x.value=cQ(u.vnode.el,!0),ee(!0)}),rc(ee)}),_s(()=>{const ee=Z.value.map(ie=>ce(Fye,{key:ie.key,renderless:t.renderless,"onUpdate:height":W=>O(ie.index,W)},{default:W=>{var he;return(he=i.default)==null?void 0:he.call(i,{item:ie.raw,index:ie.index,...W})}}));return t.renderless?oe(is,null,[oe("div",{ref:C,class:"v-virtual-scroll__spacer",style:{paddingTop:ys(V.value)}},null),ee,oe("div",{class:"v-virtual-scroll__spacer",style:{paddingBottom:ys(z.value)}},null)]):oe("div",{ref:x,class:ao(["v-virtual-scroll",t.class]),onScrollPassive:D,onScrollend:I,style:Ls([g.value,t.style])},[oe("div",{ref:C,class:"v-virtual-scroll__container",style:{paddingTop:ys(V.value),paddingBottom:ys(z.value)}},[ee])])}),{calculateVisibleItems:h,scrollToIndex:B}}});function Cte(t,r){const i=bo(!1);let u;function g(C){cancelAnimationFrame(u),i.value=!0,u=requestAnimationFrame(()=>{u=requestAnimationFrame(()=>{i.value=!1})})}async function h(){await new Promise(C=>requestAnimationFrame(C)),await new Promise(C=>requestAnimationFrame(C)),await new Promise(C=>requestAnimationFrame(C)),await new Promise(C=>{if(i.value){const D=Rn(i,()=>{D(),C()})}else C()})}async function x(C){var O,B;if(C.key==="Tab"&&((O=r.value)==null||O.focus()),!["PageDown","PageUp","Home","End"].includes(C.key))return;const D=(B=t.value)==null?void 0:B.$el;if(!D)return;(C.key==="Home"||C.key==="End")&&D.scrollTo({top:C.key==="Home"?0:D.scrollHeight,behavior:"smooth"}),await h();const I=D.querySelectorAll(":scope > :not(.v-virtual-scroll__spacer)");if(C.key==="PageDown"||C.key==="Home"){const V=D.getBoundingClientRect().top;for(const z of I)if(z.getBoundingClientRect().top>=V){z.focus();break}}else{const V=D.getBoundingClientRect().bottom;for(const z of[...I].reverse())if(z.getBoundingClientRect().bottom<=V){z.focus();break}}}return{onScrollPassive:g,onKeydown:x}}const _te=Fn({chips:Boolean,closableChips:Boolean,closeText:{type:String,default:"$vuetify.close"},openText:{type:String,default:"$vuetify.open"},eager:Boolean,hideNoData:Boolean,hideSelected:Boolean,listProps:{type:Object},menu:Boolean,menuIcon:{type:$r,default:"$dropdown"},menuProps:{type:Object},multiple:Boolean,noDataText:{type:String,default:"$vuetify.noDataText"},openOnClear:Boolean,itemColor:String,noAutoScroll:Boolean,...hte({itemChildren:!1})},"Select"),Kye=Fn({..._te(),...xx(gK({modelValue:null,role:"combobox"}),["validationValue","dirty","appendInnerIcon"]),...$E({transition:{component:aK}})},"VSelect");Fo()({name:"VSelect",props:Kye(),emits:{"update:focused":t=>!0,"update:modelValue":t=>!0,"update:menu":t=>!0},setup(t,r){let{slots:i}=r;const{t:u}=uI(),g=Ln(),h=Ln(),x=Ln(),{items:C,transformIn:D,transformOut:I}=bte(t),O=Ki(t,"modelValue",[],At=>D(At===null?[null]:yf(At)),At=>{const et=I(At);return t.multiple?et:et[0]??null}),B=It(()=>typeof t.counterValue=="function"?t.counterValue(O.value):typeof t.counterValue=="number"?t.counterValue:O.value.length),V=cK(t),z=It(()=>O.value.map(At=>At.value)),Z=bo(!1);let ee="",ie=-1,W;const he=It(()=>t.hideSelected?C.value.filter(At=>!O.value.some(et=>(t.valueComparator||Zg)(et,At))):C.value),ue=It(()=>t.hideNoData&&!he.value.length||V.isReadonly.value||V.isDisabled.value),j=Ki(t,"menu"),de=It({get:()=>j.value,set:At=>{var et;j.value&&!At&&((et=h.value)!=null&&et.openChildren.size)||At&&ue.value||(j.value=At)}}),te=pn(()=>de.value?t.closeText:t.openText),ze=It(()=>{var At;return{...t.menuProps,activatorProps:{...((At=t.menuProps)==null?void 0:At.activatorProps)||{},"aria-haspopup":"listbox"}}}),Fe=Ln(),Je=Cte(Fe,g);function rt(At){t.openOnClear&&(de.value=!0)}function we(){ue.value||(de.value=!de.value)}function _e(At){oF(At)&&R(At)}function R(At){var mo,Zt,vn;if(!At.key||V.isReadonly.value)return;["Enter"," ","ArrowDown","ArrowUp","Home","End"].includes(At.key)&&At.preventDefault(),["Enter","ArrowDown"," "].includes(At.key)&&(de.value=!0),["Escape","Tab"].includes(At.key)&&(de.value=!1),At.key==="Home"?(mo=Fe.value)==null||mo.focus("first"):At.key==="End"&&((Zt=Fe.value)==null||Zt.focus("last"));const et=1e3;if(!oF(At))return;const Me=performance.now();Me-W>et&&(ee="",ie=-1),ee+=At.key.toLowerCase(),W=Me;const mt=he.value;function vo(){let je=Wt();return je||ee.at(-1)===ee.at(-2)&&(ee=ee.slice(0,-1),je=Wt(),je)||(ie=-1,je=Wt(),je)?je:(ee=At.key.toLowerCase(),Wt())}function Wt(){for(let je=ie+1;je<mt.length;je++){const tt=mt[je];if(tt.title.toLowerCase().startsWith(ee))return[tt,je]}}const In=vo();if(!In)return;const[on,J]=In;ie=J,(vn=Fe.value)==null||vn.focus(J),t.multiple||(O.value=[on])}function it(At){let et=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(!At.props.disabled)if(t.multiple){const Me=O.value.findIndex(vo=>(t.valueComparator||Zg)(vo.value,At.value)),mt=et??!~Me;if(~Me){const vo=mt?[...O.value,At]:[...O.value];vo.splice(Me,1),O.value=vo}else mt&&(O.value=[...O.value,At])}else{const Me=et!==!1;O.value=Me?[At]:[],Qo(()=>{de.value=!1})}}function St(At){var et;(et=Fe.value)!=null&&et.$el.contains(At.relatedTarget)||(de.value=!1)}function Ut(){var At;t.eager&&((At=x.value)==null||At.calculateVisibleItems())}function sn(){var At;Z.value&&((At=g.value)==null||At.focus())}function dt(At){Z.value=!0}function An(At){if(At==null)O.value=[];else if(CE(g.value,":autofill")||CE(g.value,":-webkit-autofill")){const et=C.value.find(Me=>Me.title===At);et&&it(et)}else g.value&&(g.value.value="")}return Rn(de,()=>{if(!t.hideSelected&&de.value&&O.value.length){const At=he.value.findIndex(et=>O.value.some(Me=>(t.valueComparator||Zg)(Me.value,et.value)));Jr&&!t.noAutoScroll&&window.requestAnimationFrame(()=>{var et;At>=0&&((et=x.value)==null||et.scrollToIndex(At))})}}),Rn(()=>t.items,(At,et)=>{de.value||Z.value&&!et.length&&At.length&&(de.value=!0)}),_s(()=>{const At=!!(t.chips||i.chip),et=!!(!t.hideNoData||he.value.length||i["prepend-item"]||i["append-item"]||i["no-data"]),Me=O.value.length>0,mt=qR.filterProps(t),vo=Me||!Z.value&&t.label&&!t.persistentPlaceholder?void 0:t.placeholder;return ce(qR,Bo({ref:g},mt,{modelValue:O.value.map(Wt=>Wt.props.value).join(", "),"onUpdate:modelValue":An,focused:Z.value,"onUpdate:focused":Wt=>Z.value=Wt,validationValue:O.externalValue,counterValue:B.value,dirty:Me,class:["v-select",{"v-select--active-menu":de.value,"v-select--chips":!!t.chips,[`v-select--${t.multiple?"multiple":"single"}`]:!0,"v-select--selected":O.value.length,"v-select--selection-slot":!!i.selection},t.class],style:t.style,inputmode:"none",placeholder:vo,"onClick:clear":rt,"onMousedown:control":we,onBlur:St,onKeydown:R,"aria-label":u(te.value),title:u(te.value)}),{...i,default:()=>oe(is,null,[ce(vI,Bo({ref:h,modelValue:de.value,"onUpdate:modelValue":Wt=>de.value=Wt,activator:"parent",contentClass:"v-select__content",disabled:ue.value,eager:t.eager,maxHeight:310,openOnClick:!1,closeOnContentClick:!1,transition:t.transition,onAfterEnter:Ut,onAfterLeave:sn},ze.value),{default:()=>[et&&ce(bI,Bo({ref:Fe,selected:z.value,selectStrategy:t.multiple?"independent":"single-independent",onMousedown:Wt=>Wt.preventDefault(),onKeydown:_e,onFocusin:dt,tabindex:"-1","aria-live":"polite","aria-label":`${t.label}-list`,color:t.itemColor??t.color},Je,t.listProps),{default:()=>{var Wt,In,on;return[(Wt=i["prepend-item"])==null?void 0:Wt.call(i),!he.value.length&&!t.hideNoData&&(((In=i["no-data"])==null?void 0:In.call(i))??ce(_c,{key:"no-data",title:u(t.noDataText)},null)),ce(wte,{ref:x,renderless:!0,items:he.value,itemKey:"value"},{default:J=>{var xe,Re,Ve;let{item:mo,index:Zt,itemRef:vn}=J;const je=Hme(mo.props),tt=Bo(mo.props,{ref:vn,key:mo.value,onClick:()=>it(mo,null)});return mo.type==="divider"?((xe=i.divider)==null?void 0:xe.call(i,{props:mo.raw,index:Zt}))??ce(RC,Bo(mo.props,{key:`divider-${Zt}`}),null):mo.type==="subheader"?((Re=i.subheader)==null?void 0:Re.call(i,{props:mo.raw,index:Zt}))??ce(fK,Bo(mo.props,{key:`subheader-${Zt}`}),null):((Ve=i.item)==null?void 0:Ve.call(i,{item:mo,index:Zt,props:tt}))??ce(_c,Bo(tt,{role:"option"}),{prepend:be=>{let{isSelected:Se}=be;return oe(is,null,[t.multiple&&!t.hideSelected?ce(xF,{key:mo.value,modelValue:Se,ripple:!1,tabindex:"-1"},null):void 0,je.prependAvatar&&ce(yx,{image:je.prependAvatar},null),je.prependIcon&&ce(Kn,{icon:je.prependIcon},null)])}})}}),(on=i["append-item"])==null?void 0:on.call(i)]}})]}),O.value.map((Wt,In)=>{function on(vn){vn.stopPropagation(),vn.preventDefault(),it(Wt,!1)}const J={"onClick:close":on,onKeydown(vn){vn.key!=="Enter"&&vn.key!==" "||(vn.preventDefault(),vn.stopPropagation(),on(vn))},onMousedown(vn){vn.preventDefault(),vn.stopPropagation()},modelValue:!0,"onUpdate:modelValue":void 0},mo=At?!!i.chip:!!i.selection,Zt=mo?$W(At?i.chip({item:Wt,index:In,props:J}):i.selection({item:Wt,index:In})):void 0;if(!(mo&&!Zt))return oe("div",{key:Wt.value,class:"v-select__selection"},[At?i.chip?ce(Ea,{key:"chip-defaults",defaults:{VChip:{closable:t.closableChips,size:"small",text:Wt.title}}},{default:()=>[Zt]}):ce(rte,Bo({key:"chip",closable:t.closableChips,size:"small",text:Wt.title,disabled:Wt.props.disabled},J),null):Zt??oe("span",{class:"v-select__selection-text"},[Wt.title,t.multiple&&In<O.value.length-1&&oe("span",{class:"v-select__selection-comma"},[qs(",")])])])})]),"append-inner":function(){var J,mo;for(var Wt=arguments.length,In=new Array(Wt),on=0;on<Wt;on++)In[on]=arguments[on];return oe(is,null,[(J=i["append-inner"])==null?void 0:J.call(i,...In),t.menuIcon?ce(Kn,{class:"v-select__menu-icon",color:(mo=g.value)==null?void 0:mo.fieldIconColor,icon:t.menuIcon},null):void 0])}})}),VC({isFocused:Z,menu:de,select:it},g)}});const jye=(t,r,i)=>{if(t==null||r==null)return-1;if(!r.length)return 0;t=t.toString().toLocaleLowerCase(),r=r.toString().toLocaleLowerCase();const u=[];let g=t.indexOf(r);for(;~g;)u.push([g,g+r.length]),g=t.indexOf(r,g+r.length);return u.length?u:-1};function gU(t,r){if(!(t==null||typeof t=="boolean"||t===-1))return typeof t=="number"?[[t,t+r.length]]:Array.isArray(t[0])?t:[t]}const Zye=Fn({customFilter:Function,customKeyFilter:Object,filterKeys:[Array,String],filterMode:{type:String,default:"intersection"},noFilter:Boolean},"filter");function Gye(t,r,i){var C;const u=[],g=(i==null?void 0:i.default)??jye,h=i!=null&&i.filterKeys?yf(i.filterKeys):!1,x=Object.keys((i==null?void 0:i.customKeyFilter)??{}).length;if(!(t!=null&&t.length))return u;e:for(let D=0;D<t.length;D++){const[I,O=I]=yf(t[D]),B={},V={};let z=-1;if((r||x>0)&&!(i!=null&&i.noFilter)){if(typeof I=="object"){if(I.type==="divider"||I.type==="subheader")continue;const ie=h||Object.keys(O);for(const W of ie){const he=Wg(O,W),ue=(C=i==null?void 0:i.customKeyFilter)==null?void 0:C[W];if(z=ue?ue(he,r,I):g(he,r,I),z!==-1&&z!==!1)ue?B[W]=gU(z,r):V[W]=gU(z,r);else if((i==null?void 0:i.filterMode)==="every")continue e}}else z=g(I,r,I),z!==-1&&z!==!1&&(V.title=gU(z,r));const Z=Object.keys(V).length,ee=Object.keys(B).length;if(!Z&&!ee||(i==null?void 0:i.filterMode)==="union"&&ee!==x&&!Z||(i==null?void 0:i.filterMode)==="intersection"&&(ee!==x||!Z))continue}u.push({index:D,matches:{...V,...B}})}return u}function qye(t,r,i,u){const g=bo([]),h=bo(new Map),x=It(()=>re(r));Md(()=>{const D=typeof i=="function"?i():re(i),I=typeof D!="string"&&typeof D!="number"?"":String(D),O=Gye(x.value,I,{customKeyFilter:{...t.customKeyFilter,...re(u==null?void 0:u.customKeyFilter)},default:t.customFilter,filterKeys:t.filterKeys,filterMode:t.filterMode,noFilter:t.noFilter}),B=re(r),V=[],z=new Map;O.forEach(Z=>{let{index:ee,matches:ie}=Z;const W=B[ee];V.push(W),z.set(W.value,ie)}),g.value=V,h.value=z});function C(D){return h.value.get(D.value)}return{filteredItems:g,filteredMatches:h,getMatches:C}}function Yye(t,r,i){return i==null||!i.length?r:i.map((u,g)=>{const h=g===0?0:i[g-1][1],x=[oe("span",{class:ao(`${t}__unmask`)},[r.slice(h,u[0])]),oe("span",{class:ao(`${t}__mask`)},[r.slice(u[0],u[1])])];return g===i.length-1&&x.push(oe("span",{class:ao(`${t}__unmask`)},[r.slice(u[1])])),oe(is,null,[x])})}const Xye=Fn({autoSelectFirst:{type:[Boolean,String]},clearOnSelect:Boolean,search:String,...Zye({filterKeys:["title"]}),..._te(),...xx(gK({modelValue:null,role:"combobox"}),["validationValue","dirty","appendInnerIcon"]),...$E({transition:!1})},"VAutocomplete"),hK=Fo()({name:"VAutocomplete",props:Xye(),emits:{"update:focused":t=>!0,"update:search":t=>!0,"update:modelValue":t=>!0,"update:menu":t=>!0},setup(t,r){let{slots:i}=r;const{t:u}=uI(),g=Ln(),h=bo(!1),x=bo(!0),C=bo(!1),D=Ln(),I=Ln(),O=bo(-1),{items:B,transformIn:V,transformOut:z}=bte(t),{textColorClasses:Z,textColorStyles:ee}=cp(()=>{var Zt;return(Zt=g.value)==null?void 0:Zt.color}),ie=Ki(t,"search",""),W=Ki(t,"modelValue",[],Zt=>V(Zt===null?[null]:yf(Zt)),Zt=>{const vn=z(Zt);return t.multiple?vn:vn[0]??null}),he=It(()=>typeof t.counterValue=="function"?t.counterValue(W.value):typeof t.counterValue=="number"?t.counterValue:W.value.length),ue=cK(t),{filteredItems:j,getMatches:de}=qye(t,B,()=>x.value?"":ie.value),te=It(()=>t.hideSelected?j.value.filter(Zt=>!W.value.some(vn=>vn.value===Zt.value)):j.value),ze=It(()=>!!(t.chips||i.chip)),Fe=It(()=>ze.value||!!i.selection),Je=It(()=>W.value.map(Zt=>Zt.props.value)),rt=It(()=>{var vn;return(t.autoSelectFirst===!0||t.autoSelectFirst==="exact"&&ie.value===((vn=te.value[0])==null?void 0:vn.title))&&te.value.length>0&&!x.value&&!C.value}),we=It(()=>t.hideNoData&&!te.value.length||ue.isReadonly.value||ue.isDisabled.value),_e=Ki(t,"menu"),R=It({get:()=>_e.value,set:Zt=>{var vn;_e.value&&!Zt&&((vn=D.value)!=null&&vn.openChildren.size)||Zt&&we.value||(_e.value=Zt)}}),it=It(()=>R.value?t.closeText:t.openText),St=Ln(),Ut=Cte(St,g);function sn(Zt){t.openOnClear&&(R.value=!0),ie.value=""}function dt(){we.value||(R.value=!0)}function An(Zt){we.value||(h.value&&(Zt.preventDefault(),Zt.stopPropagation()),R.value=!R.value)}function At(Zt){var vn;(oF(Zt)||Zt.key==="Backspace")&&((vn=g.value)==null||vn.focus())}function et(Zt){var tt,xe,Re,Ve,be;if(ue.isReadonly.value)return;const vn=(tt=g.value)==null?void 0:tt.selectionStart,je=W.value.length;if(["Enter","ArrowDown","ArrowUp"].includes(Zt.key)&&Zt.preventDefault(),["Enter","ArrowDown"].includes(Zt.key)&&(R.value=!0),["Escape"].includes(Zt.key)&&(R.value=!1),rt.value&&["Enter","Tab"].includes(Zt.key)&&!W.value.some(Se=>{let{value:Ne}=Se;return Ne===te.value[0].value})&&mo(te.value[0]),Zt.key==="ArrowDown"&&rt.value&&((xe=St.value)==null||xe.focus("next")),["Backspace","Delete"].includes(Zt.key)){if(!t.multiple&&Fe.value&&W.value.length>0&&!ie.value)return mo(W.value[0],!1);if(~O.value){Zt.preventDefault();const Se=O.value;mo(W.value[O.value],!1),O.value=Se>=je-1?je-2:Se}else Zt.key==="Backspace"&&!ie.value&&(O.value=je-1);return}if(t.multiple)if(Zt.key==="ArrowLeft"){if(O.value<0&&vn&&vn>0)return;const Se=O.value>-1?O.value-1:je-1;if(W.value[Se])O.value=Se;else{const Ne=((Re=ie.value)==null?void 0:Re.length)??null;O.value=-1,(Ve=g.value)==null||Ve.setSelectionRange(Ne,Ne)}}else if(Zt.key==="ArrowRight"){if(O.value<0)return;const Se=O.value+1;W.value[Se]?O.value=Se:(O.value=-1,(be=g.value)==null||be.setSelectionRange(0,0))}else~O.value&&oF(Zt)&&(O.value=-1)}function Me(Zt){if(CE(g.value,":autofill")||CE(g.value,":-webkit-autofill")){const vn=B.value.find(je=>je.title===Zt.target.value);vn&&mo(vn)}}function mt(){var Zt;t.eager&&((Zt=I.value)==null||Zt.calculateVisibleItems())}function vo(){var Zt;h.value&&(x.value=!0,(Zt=g.value)==null||Zt.focus())}function Wt(Zt){h.value=!0,setTimeout(()=>{C.value=!0})}function In(Zt){C.value=!1}function on(Zt){(Zt==null||Zt===""&&!t.multiple&&!Fe.value)&&(W.value=[])}const J=bo(!1);function mo(Zt){let vn=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(!(!Zt||Zt.props.disabled))if(t.multiple){const je=W.value.findIndex(xe=>(t.valueComparator||Zg)(xe.value,Zt.value)),tt=vn??!~je;if(~je){const xe=tt?[...W.value,Zt]:[...W.value];xe.splice(je,1),W.value=xe}else tt&&(W.value=[...W.value,Zt]);t.clearOnSelect&&(ie.value="")}else{const je=vn!==!1;W.value=je?[Zt]:[],ie.value=je&&!Fe.value?Zt.title:"",Qo(()=>{R.value=!1,x.value=!0})}}return Rn(h,(Zt,vn)=>{var je;Zt!==vn&&(Zt?(J.value=!0,ie.value=t.multiple||Fe.value?"":String(((je=W.value.at(-1))==null?void 0:je.props.title)??""),x.value=!0,Qo(()=>J.value=!1)):(!t.multiple&&ie.value==null&&(W.value=[]),R.value=!1,(t.multiple||Fe.value)&&(ie.value=""),O.value=-1))}),Rn(ie,Zt=>{!h.value||J.value||(Zt&&(R.value=!0),x.value=!Zt)}),Rn(R,()=>{if(!t.hideSelected&&R.value&&W.value.length){const Zt=te.value.findIndex(vn=>W.value.some(je=>vn.value===je.value));Jr&&window.requestAnimationFrame(()=>{var vn;Zt>=0&&((vn=I.value)==null||vn.scrollToIndex(Zt))})}}),Rn(()=>t.items,(Zt,vn)=>{R.value||h.value&&!vn.length&&Zt.length&&(R.value=!0)}),_s(()=>{const Zt=!!(!t.hideNoData||te.value.length||i["prepend-item"]||i["append-item"]||i["no-data"]),vn=W.value.length>0,je=qR.filterProps(t);return ce(qR,Bo({ref:g},je,{modelValue:ie.value,"onUpdate:modelValue":[tt=>ie.value=tt,on],focused:h.value,"onUpdate:focused":tt=>h.value=tt,validationValue:W.externalValue,counterValue:he.value,dirty:vn,onChange:Me,class:["v-autocomplete",`v-autocomplete--${t.multiple?"multiple":"single"}`,{"v-autocomplete--active-menu":R.value,"v-autocomplete--chips":!!t.chips,"v-autocomplete--selection-slot":!!Fe.value,"v-autocomplete--selecting-index":O.value>-1},t.class],style:t.style,readonly:ue.isReadonly.value,placeholder:vn?void 0:t.placeholder,"onClick:clear":sn,"onMousedown:control":dt,onKeydown:et}),{...i,default:()=>oe(is,null,[ce(vI,Bo({ref:D,modelValue:R.value,"onUpdate:modelValue":tt=>R.value=tt,activator:"parent",contentClass:"v-autocomplete__content",disabled:we.value,eager:t.eager,maxHeight:310,openOnClick:!1,closeOnContentClick:!1,transition:t.transition,onAfterEnter:mt,onAfterLeave:vo},t.menuProps),{default:()=>[Zt&&ce(bI,Bo({ref:St,filterable:!0,selected:Je.value,selectStrategy:t.multiple?"independent":"single-independent",onMousedown:tt=>tt.preventDefault(),onKeydown:At,onFocusin:Wt,onFocusout:In,tabindex:"-1","aria-live":"polite",color:t.itemColor??t.color},Ut,t.listProps),{default:()=>{var tt,xe,Re;return[(tt=i["prepend-item"])==null?void 0:tt.call(i),!te.value.length&&!t.hideNoData&&(((xe=i["no-data"])==null?void 0:xe.call(i))??ce(_c,{key:"no-data",title:u(t.noDataText)},null)),ce(wte,{ref:I,renderless:!0,items:te.value,itemKey:"value"},{default:Ve=>{var ht,ln,Kt;let{item:be,index:Se,itemRef:Ne}=Ve;const Ge=Bo(be.props,{ref:Ne,key:be.value,active:rt.value&&Se===0?!0:void 0,onClick:()=>mo(be,null)});return be.type==="divider"?((ht=i.divider)==null?void 0:ht.call(i,{props:be.raw,index:Se}))??ce(RC,Bo(be.props,{key:`divider-${Se}`}),null):be.type==="subheader"?((ln=i.subheader)==null?void 0:ln.call(i,{props:be.raw,index:Se}))??ce(fK,Bo(be.props,{key:`subheader-${Se}`}),null):((Kt=i.item)==null?void 0:Kt.call(i,{item:be,index:Se,props:Ge}))??ce(_c,Bo(Ge,{role:"option"}),{prepend:yn=>{let{isSelected:Yn}=yn;return oe(is,null,[t.multiple&&!t.hideSelected?ce(xF,{key:be.value,modelValue:Yn,ripple:!1,tabindex:"-1"},null):void 0,be.props.prependAvatar&&ce(yx,{image:be.props.prependAvatar},null),be.props.prependIcon&&ce(Kn,{icon:be.props.prependIcon},null)])},title:()=>{var yn;return x.value?be.title:Yye("v-autocomplete",be.title,(yn=de(be))==null?void 0:yn.title)}})}}),(Re=i["append-item"])==null?void 0:Re.call(i)]}})]}),W.value.map((tt,xe)=>{function Re(Ne){Ne.stopPropagation(),Ne.preventDefault(),mo(tt,!1)}const Ve={"onClick:close":Re,onKeydown(Ne){Ne.key!=="Enter"&&Ne.key!==" "||(Ne.preventDefault(),Ne.stopPropagation(),Re(Ne))},onMousedown(Ne){Ne.preventDefault(),Ne.stopPropagation()},modelValue:!0,"onUpdate:modelValue":void 0},be=ze.value?!!i.chip:!!i.selection,Se=be?$W(ze.value?i.chip({item:tt,index:xe,props:Ve}):i.selection({item:tt,index:xe})):void 0;if(!(be&&!Se))return oe("div",{key:tt.value,class:ao(["v-autocomplete__selection",xe===O.value&&["v-autocomplete__selection--selected",Z.value]]),style:Ls(xe===O.value?ee.value:{})},[ze.value?i.chip?ce(Ea,{key:"chip-defaults",defaults:{VChip:{closable:t.closableChips,size:"small",text:tt.title}}},{default:()=>[Se]}):ce(rte,Bo({key:"chip",closable:t.closableChips,size:"small",text:tt.title,disabled:tt.props.disabled},Ve),null):Se??oe("span",{class:"v-autocomplete__selection-text"},[tt.title,t.multiple&&xe<W.value.length-1&&oe("span",{class:"v-autocomplete__selection-comma"},[qs(",")])])])})]),"append-inner":function(){var Ve,be;for(var tt=arguments.length,xe=new Array(tt),Re=0;Re<tt;Re++)xe[Re]=arguments[Re];return oe(is,null,[(Ve=i["append-inner"])==null?void 0:Ve.call(i,...xe),t.menuIcon?ce(Kn,{class:"v-autocomplete__menu-icon",color:(be=g.value)==null?void 0:be.fieldIconColor,icon:t.menuIcon,onMousedown:An,onClick:$me,"aria-label":u(it.value),title:u(it.value),tabindex:"-1"},null):void 0])}})}),VC({isFocused:h,isPristine:x,menu:R,search:ie,filteredItems:j,select:mo},g)}}),Jye={class:"sr-only"},Qye={class:"sr-only"},exe={__name:"Items",setup(t){const r=Te.api(),i=Te.items(),u=Ln(!1),g=Ln(!1),h=Ln("");Ln(!1);const{t:x}=Em.global;async function C(){await Qo(),u.value&&(g.value=!0,h.value="")}async function D(){u.value=!1,i.changeItem(h.value)}return(I,O)=>(Cn(),Lo(is,null,[ce(ko,{disabled:re(r).isLoading||!re(i).previousKey,onClick:O[0]||(O[0]=B=>re(i).changeItem(re(i).previousKey))},{default:Pt(()=>[ce(Kn,{left:"",icon:"mdi-arrow-left-bold"}),oe("span",Jye,We(I.$t("itemsPreviousWriter")),1)]),_:1},8,["disabled"]),ce(ko,{disabled:re(r).isLoading,id:"app-items-menu-activator"},{default:Pt(()=>[Bn(oe("span",null,We(I.$t("allLoadData")),513),[[fo,re(r).isLoading]]),Bn(oe("span",null,We(re(i).currentItem.title),513),[[fo,!re(r).isLoading&&re(i).currentItem!==void 0]])]),_:1},8,["disabled"]),ce(ko,{disabled:re(r).isLoading||!re(i).nextKey,onClick:O[1]||(O[1]=B=>re(i).changeItem(re(i).nextKey))},{default:Pt(()=>[ce(Kn,{left:"",icon:"mdi-arrow-right-bold"}),oe("span",Qye,We(I.$t("itemsNextWriter")),1)]),_:1},8,["disabled"]),ce(vI,{disabled:re(r).isLoading,modelValue:u.value,"onUpdate:modelValue":[O[4]||(O[4]=B=>u.value=B),O[5]||(O[5]=B=>C())],activator:"#app-items-menu-activator","close-on-content-click":!1},{default:Pt(()=>[g.value?(Cn(),Rs(hK,{key:0,id:"app-items-autocomplete",modelValue:h.value,"onUpdate:modelValue":[O[2]||(O[2]=B=>h.value=B),O[3]||(O[3]=B=>D())],items:re(i).sortedItems,menu:!0,"item-title":"title","item-value":"key",autofocus:"","auto-select-first":"",class:"flex-full-width",density:"comfortable","item-props":"","menu-icon":"",placeholder:I.$t("itemsWriter"),"prepend-inner-icon":"mdi-magnify",theme:"light",variant:"solo"},null,8,["modelValue","items","placeholder"])):Ho("",!0)]),_:1},8,["disabled","modelValue"])],64))}},txe={class:"sr-only"},nxe={class:"sr-only"},oxe={__name:"Tasks",setup(t){const r=Te.api(),i=Te.items(),u=Te.tasks(),g=Ln(!1),h=Ln(!1),x=Ln("");Ln(!1);const{t:C}=Em.global;async function D(){await Qo(),g.value&&(h.value=!0,x.value="")}async function I(){var O;g.value=!1,i.changeItem((O=i.getByTask(x.value))==null?void 0:O.key)}return(O,B)=>(Cn(),Lo(is,null,[ce(ko,{disabled:re(r).isLoading||!re(u).previousKey,onClick:B[0]||(B[0]=V=>{var z;return re(i).changeItem((z=re(i).getByTask(re(u).previousKey))==null?void 0:z.key)})},{default:Pt(()=>[ce(Kn,{left:"",icon:"mdi-arrow-left-bold"}),oe("span",txe,We(O.$t("tasksPreviousTask")),1)]),_:1},8,["disabled"]),ce(ko,{disabled:re(r).isLoading,id:"app-tasks-menu-activator"},{default:Pt(()=>{var V;return[Bn(oe("span",null,We(O.$t("allLoadData")),513),[[fo,re(r).isLoading]]),Bn(oe("span",null,We((V=re(u).currentTask)==null?void 0:V.title),513),[[fo,!re(r).isLoading&&re(i).currentItem!==void 0]])]}),_:1},8,["disabled"]),ce(ko,{disabled:re(r).isLoading||!re(u).nextKey,onClick:B[1]||(B[1]=V=>{var z;return re(i).changeItem((z=re(i).getByTask(re(u).nextKey))==null?void 0:z.key)})},{default:Pt(()=>[ce(Kn,{left:"",icon:"mdi-arrow-right-bold"}),oe("span",nxe,We(O.$t("tasksNextTask")),1)]),_:1},8,["disabled"]),ce(vI,{disabled:re(r).isLoading,modelValue:g.value,"onUpdate:modelValue":[B[4]||(B[4]=V=>g.value=V),B[5]||(B[5]=V=>D())],activator:"#app-tasks-menu-activator","close-on-content-click":!1},{default:Pt(()=>[h.value?(Cn(),Rs(hK,{key:0,id:"app-taks-autocomplete",modelValue:x.value,"onUpdate:modelValue":[B[2]||(B[2]=V=>x.value=V),B[3]||(B[3]=V=>I())],items:re(u).sortedTasks,menu:!0,"item-title":"title","item-value":"key",autofocus:"","auto-select-first":"",class:"flex-full-width",density:"comfortable","item-props":"","menu-icon":"",placeholder:O.$t("tasksTasks"),"prepend-inner-icon":"mdi-magnify",theme:"light",variant:"solo"},null,8,["modelValue","items","placeholder"])):Ho("",!0)]),_:1},8,["disabled","modelValue"])],64))}},sxe={__name:"SumOfPoints",props:["correction_key"],setup(t){const r=Te.settings(),i=Te.points(),u=Te.criteria(),g=t,{t:h}=Em.global,x=u.getCorrectionHasGeneralCriteria(g.correction_key),C=u.getCorrectionHasCommentCriteria(g.correction_key);function D(){const I=i.getSumOfPointsForCorrection(g.correction_key,!0),O=i.getSumOfPointsForCorrection(g.correction_key,!1);return O+I==0?"":x?C?h("sumOfPointsNCommentCriteriaMGeneralCriteria",[I,O]):h("sumOfPointsNCommentsMGeneralCriteria",[I,O]):h(C?"sumOfPointsToCriteriaInComments":"sumOfPointsToComments")}return(I,O)=>(Cn(),Lo("span",null,[oe("strong",null,We(I.$t("sumOfPointsLabel")),1),oe("span",{class:ao(re(i).getSumOfPointsForCorrection(g.correction_key)>re(r).Assessment.max_points?"red":"")},We(re(i).getSumOfPointsForCorrection(g.correction_key))+" von max. "+We(re(r).Assessment.max_points),3),qs(" "+We(D()),1)]))}},Ste=tl(sxe,[["__scopeId","data-v-b58bf4c4"]]),rxe=VF("v-alert-title"),ixe=Fn({iconSize:[Number,String],iconSizes:{type:Array,default:()=>[["x-small",10],["small",16],["default",24],["large",28],["x-large",32]]}},"iconSize");function axe(t,r){return{iconSize:It(()=>{const u=new Map(t.iconSizes),g=t.iconSize??r()??"default";return u.has(g)?u.get(g):g})}}const lxe=["success","info","warning","error"],cxe=Fn({border:{type:[Boolean,String],validator:t=>typeof t=="boolean"||["top","end","bottom","start"].includes(t)},borderColor:String,closable:Boolean,closeIcon:{type:$r,default:"$close"},closeLabel:{type:String,default:"$vuetify.close"},icon:{type:[Boolean,String,Function,Object],default:null},modelValue:{type:Boolean,default:!0},prominent:Boolean,title:String,text:String,type:{type:String,validator:t=>lxe.includes(t)},...zs(),...qg(),...fp(),...r1(),...ixe(),...QF(),...rK(),...Am(),...aa(),...xl(),...a1({variant:"flat"})},"VAlert"),U0=Fo()({name:"VAlert",props:cxe(),emits:{"click:close":t=>!0,"update:modelValue":t=>!0},setup(t,r){let{emit:i,slots:u}=r;const g=Ki(t,"modelValue"),h=pn(()=>{if(t.icon!==!1)return t.type?t.icon??`$${t.type}`:t.icon}),{iconSize:x}=axe(t,()=>t.prominent?44:28),{themeClasses:C}=ic(t),{colorClasses:D,colorStyles:I,variantClasses:O}=FE(()=>({color:t.color??t.type,variant:t.variant})),{densityClasses:B}=dp(t),{dimensionStyles:V}=mp(t),{elevationClasses:z}=i1(t),{locationStyles:Z}=e8(t),{positionClasses:ee}=iK(t),{roundedClasses:ie}=Tm(t),{textColorClasses:W,textColorStyles:he}=cp(()=>t.borderColor),{t:ue}=uI(),j=pn(()=>({"aria-label":ue(t.closeLabel),onClick(de){g.value=!1,i("click:close",de)}}));return()=>{const de=!!(u.prepend||h.value),te=!!(u.title||t.title),ze=!!(u.close||t.closable),Fe={density:t.density,icon:h.value,size:x.value};return g.value&&ce(t.tag,{class:ao(["v-alert",t.border&&{"v-alert--border":!!t.border,[`v-alert--border-${t.border===!0?"start":t.border}`]:!0},{"v-alert--prominent":t.prominent},C.value,D.value,B.value,z.value,ee.value,ie.value,O.value,t.class]),style:Ls([I.value,V.value,Z.value,t.style]),role:"alert"},{default:()=>{var Je,rt;return[BE(!1,"v-alert"),t.border&&oe("div",{key:"border",class:ao(["v-alert__border",W.value]),style:Ls(he.value)},null),de&&oe("div",{key:"prepend",class:"v-alert__prepend"},[u.prepend?ce(Ea,{key:"prepend-defaults",disabled:!h.value,defaults:{VIcon:{...Fe}}},u.prepend):ce(Kn,Bo({key:"prepend-icon"},Fe),null)]),oe("div",{class:"v-alert__content"},[te&&ce(rxe,{key:"title"},{default:()=>{var we;return[((we=u.title)==null?void 0:we.call(u))??t.title]}}),((Je=u.text)==null?void 0:Je.call(u))??t.text,(rt=u.default)==null?void 0:rt.call(u)]),u.append&&oe("div",{key:"append",class:"v-alert__append"},[u.append()]),ze&&oe("div",{key:"close",class:"v-alert__close"},[u.close?ce(Ea,{key:"close-defaults",defaults:{VBtn:{icon:t.closeIcon,size:"x-small",variant:"text"}}},{default:()=>{var we;return[(we=u.close)==null?void 0:we.call(u,{props:j.value})]}}):ce(ko,Bo({key:"close-btn",icon:t.closeIcon,size:"x-small",variant:"text"},j.value),null)])]}})}}}),uxe={id:"app-authorization-wrapper"},dxe={class:"appRow"},fxe={class:"sr-only"},mxe=["innerHTML"],gxe={class:"appRow"},hxe={class:"appRow"},pxe={for:"appAuthorizationPoints"},bxe=["max"],vxe={class:"appRow"},yxe={class:"appRow"},xxe={__name:"Authorization",setup(t){const r=Te.api(),i=Te.items(),u=Te.settings(),g=Te.summaries(),h=Te.levels(),x=Te.layout(),C=Te.points();Te.comments(),Te.criteria();const{t:D}=Em.global;Ln(!1);function I(){let z=0;if(u.Task.enable_partial_points)z=C.getSumOfPointsForCorrection(Te.corrections().ownKey),D("authorizationPartialPoints",z);else return"";return z!=g.editSummary.points?D("authorizationPointsMismatch",[z]):""}async function O(){if(await g.setOwnAuthorized(),await r.saveChangesToBackend(!0)){Te.layout().showAuthorization=!1;let z=i.nextKey;z!=""&&r.loadItemFromBackend(z)}else Te.layout().showAuthorization=!1,Te.layout().showSendFailure=!0}async function B(){if(await g.setOwnAuthorized(),await r.saveChangesToBackend(!0))Te.layout().showAuthorization=!1,window.location=r.returnUrl;else{Te.layout().showAuthorization=!1,Te.layout().showSendFailure=!0;return}}function V(){Te.layout().showAuthorization=!1,x.showOwnSummaryText()}return(z,Z)=>(Cn(),Lo("div",uxe,[Bn(ce(ko,{class:"app-header-item",disabled:re(r).isLoading||!re(i).canAuthorize,onClick:Z[0]||(Z[0]=ee=>{re(Te).layout().showAuthorization=!0})},{default:Pt(()=>[ce(Kn,{left:"",icon:"mdi-file-certificate-outline"}),oe("span",null,We(z.$t("authorizationButton")),1)]),_:1},8,["disabled"]),[[fo,!re(g).isOwnDisabled]]),ce(j0,{"max-width":"60em",persistent:"",modelValue:re(Te).layout().showAuthorization,"onUpdate:modelValue":Z[6]||(Z[6]=ee=>re(Te).layout().showAuthorization=ee)},{default:Pt(()=>[ce(K0,null,{default:Pt(()=>[ce(o8,null,{default:Pt(()=>[qs(We(z.$t("authorizationTitle",[re(i).currentItem.title])),1)]),_:1}),ce(Lb,null,{default:Pt(()=>[oe("div",dxe,[oe("strong",null,We(z.$t("authorizationSummaryLabel")),1),ce(ko,{density:"compact",variant:"text",onClick:Z[1]||(Z[1]=ee=>V())},{default:Pt(()=>[ce(Kn,{left:"",icon:"mdi-pencil"}),oe("span",fxe,We(z.$t("authorizationSummaryEdit")),1)]),_:1}),oe("div",{class:"appText long-essay-content headlines-three",innerHTML:re(g).editSummary.text},null,8,mxe)]),oe("div",gxe,[ce(Ste,{class:"sumOfPoints",correction_key:re(Te).corrections().ownKey},null,8,["correction_key"])]),oe("div",hxe,[oe("label",pxe,[oe("strong",null,We(z.$t("authorizationPointsLabel")),1)]),Bn(oe("input",{id:"appAuthorizationPoints",class:"appPoints",type:"number",min:"0",max:re(u).Assessment.max_points,"onUpdate:modelValue":Z[2]||(Z[2]=ee=>re(g).editSummary.points=ee)},null,8,bxe),[[MC,re(g).editSummary.points]]),qs(We(z.$t("authorizationPointsSuffix"))+"  ",1),oe("strong",null,We(z.$t("authorizationGradeTitle")),1),qs(" "+We(re(g).currentGradeTitle)+" ",1),oe("p",null,We(re(g).currentGradeStatement),1)]),oe("div",vxe,[Bn(ce(U0,{color:"#0000A0",type:"info",variant:"text",density:"compact"},{default:Pt(()=>[qs(We(z.$t("authorizationPleaseEnterSummary")),1)]),_:1},512),[[fo,re(g).editSummary.text==""]]),Bn(ce(U0,{color:"#0000A0",type:"info",variant:"text",density:"compact"},{default:Pt(()=>[qs(We(z.$t("authorizationPleaseEnterPoints")),1)]),_:1},512),[[fo,re(h).hasLevels&&re(g).editSummary.points===null]]),Bn(ce(U0,{color:"#0000A0",type:"info",variant:"text",density:"compact"},{default:Pt(()=>[qs(We(I()),1)]),_:1},512),[[fo,I()!=""]]),Bn(ce(U0,{color:"#0000A0",type:"info",variant:"text",density:"compact"},{default:Pt(()=>[qs(We(re(g).procedureNeededText),1)]),_:1},512),[[fo,re(g).areOthersAuthorized&&re(g).procedureNeededText!=""]]),Bn(ce(U0,{color:"#0000A0",type:"info",variant:"text",density:"compact"},{default:Pt(()=>[qs(We(re(g).pointsOutsideCorridorText),1)]),_:1},512),[[fo,re(i).isInStitch&&re(g).pointsOutsideCorridorText!==""]])]),oe("div",yxe,We(z.$t("authorizationWarnFinalize")),1)]),_:1}),ce(Nb,null,{default:Pt(()=>[ce(ko,{onClick:Z[3]||(Z[3]=ee=>O())},{default:Pt(()=>[ce(Kn,{left:"",icon:"mdi-check"}),oe("span",null,We(z.$t("authorizationAuthorizeAndContinue")),1)]),_:1}),ce(ko,{onClick:Z[4]||(Z[4]=ee=>B())},{default:Pt(()=>[ce(Kn,{left:"",icon:"mdi-check"}),oe("span",null,We(z.$t("authorizationAuthorizeAndClose")),1)]),_:1}),ce(ko,{onClick:Z[5]||(Z[5]=ee=>{re(Te).layout().showAuthorization=!1})},{default:Pt(()=>[ce(Kn,{left:"",icon:"mdi-close"}),oe("span",null,We(z.$t("allCancel")),1)]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]))}},wxe=tl(xxe,[["__scopeId","data-v-03e0655a"]]),Cxe=Fn({text:String,...zs(),...aa()},"VToolbarTitle"),_xe=Fo()({name:"VToolbarTitle",props:Cxe(),setup(t,r){let{slots:i}=r;return _s(()=>{const u=!!(i.default||i.text||t.text);return ce(t.tag,{class:ao(["v-toolbar-title",t.class]),style:Ls(t.style)},{default:()=>{var g;return[u&&oe("div",{class:"v-toolbar-title__placeholder"},[i.text?i.text():t.text,(g=i.default)==null?void 0:g.call(i)])]}})}),{}}}),Sxe=[null,"prominent","default","comfortable","compact"],kte=Fn({absolute:Boolean,collapse:Boolean,color:String,density:{type:String,default:"default",validator:t=>Sxe.includes(t)},extended:{type:Boolean,default:null},extensionHeight:{type:[Number,String],default:48},flat:Boolean,floating:Boolean,height:{type:[Number,String],default:64},image:String,title:String,...o1(),...zs(),...r1(),...Am(),...aa({tag:"header"}),...xl()},"VToolbar"),eX=Fo()({name:"VToolbar",props:kte(),setup(t,r){var z;let{slots:i}=r;const{backgroundColorClasses:u,backgroundColorStyles:g}=ip(()=>t.color),{borderClasses:h}=s1(t),{elevationClasses:x}=i1(t),{roundedClasses:C}=Tm(t),{themeClasses:D}=ic(t),{rtlClasses:I}=Gg(),O=bo(t.extended===null?!!((z=i.extension)!=null&&z.call(i)):t.extended),B=It(()=>parseInt(Number(t.height)+(t.density==="prominent"?Number(t.height):0)-(t.density==="comfortable"?8:0)-(t.density==="compact"?16:0),10)),V=It(()=>O.value?parseInt(Number(t.extensionHeight)+(t.density==="prominent"?Number(t.extensionHeight):0)-(t.density==="comfortable"?4:0)-(t.density==="compact"?8:0),10):0);return wx({VBtn:{variant:"text"}}),_s(()=>{var W;const Z=!!(t.title||i.title),ee=!!(i.image||t.image),ie=(W=i.extension)==null?void 0:W.call(i);return O.value=t.extended===null?!!ie:t.extended,ce(t.tag,{class:ao(["v-toolbar",{"v-toolbar--absolute":t.absolute,"v-toolbar--collapse":t.collapse,"v-toolbar--flat":t.flat,"v-toolbar--floating":t.floating,[`v-toolbar--density-${t.density}`]:!0},u.value,h.value,x.value,C.value,D.value,I.value,t.class]),style:Ls([g.value,t.style])},{default:()=>[ee&&oe("div",{key:"image",class:"v-toolbar__image"},[i.image?ce(Ea,{key:"image-defaults",disabled:!t.image,defaults:{VImg:{cover:!0,src:t.image}}},i.image):ce(pI,{key:"image-img",cover:!0,src:t.image},null)]),ce(Ea,{defaults:{VTabs:{height:ys(B.value)}}},{default:()=>{var he,ue,j;return[oe("div",{class:"v-toolbar__content",style:{height:ys(B.value)}},[i.prepend&&oe("div",{class:"v-toolbar__prepend"},[(he=i.prepend)==null?void 0:he.call(i)]),Z&&ce(_xe,{key:"title",text:t.title},{text:i.title}),(ue=i.default)==null?void 0:ue.call(i),i.append&&oe("div",{class:"v-toolbar__append"},[(j=i.append)==null?void 0:j.call(i)])])]}}),ce(Ea,{defaults:{VTabs:{height:ys(V.value)}}},{default:()=>[ce($ee,null,{default:()=>[O.value&&oe("div",{class:"v-toolbar__extension",style:{height:ys(V.value)}},[ie])]})]})]})}),{contentHeight:B,extensionHeight:V}}}),kxe=Fn({scrollTarget:{type:String},scrollThreshold:{type:[String,Number],default:300}},"scroll");function Exe(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{canScroll:i}=r;let u=0,g=0;const h=Ln(null),x=bo(0),C=bo(0),D=bo(0),I=bo(!1),O=bo(!1),B=It(()=>Number(t.scrollThreshold)),V=It(()=>xf((B.value-x.value)/B.value||0)),z=()=>{const Z=h.value;if(!Z||i&&!i.value)return;u=x.value,x.value="window"in Z?Z.pageYOffset:Z.scrollTop;const ee=Z instanceof Window?document.documentElement.scrollHeight:Z.scrollHeight;if(g!==ee){g=ee;return}O.value=x.value<u,D.value=Math.abs(x.value-B.value)};return Rn(O,()=>{C.value=C.value||x.value}),Rn(I,()=>{C.value=0}),Wu(()=>{Rn(()=>t.scrollTarget,Z=>{var ie;const ee=Z?document.querySelector(Z):window;ee&&ee!==h.value&&((ie=h.value)==null||ie.removeEventListener("scroll",z),h.value=ee,h.value.addEventListener("scroll",z,{passive:!0}))},{immediate:!0})}),Ec(()=>{var Z;(Z=h.value)==null||Z.removeEventListener("scroll",z)}),i&&Rn(i,z,{immediate:!0}),{scrollThreshold:B,currentScroll:x,currentThreshold:D,isScrollActive:I,scrollRatio:V,isScrollingUp:O,savedScroll:C}}const Axe=Fn({scrollBehavior:String,modelValue:{type:Boolean,default:!0},location:{type:String,default:"top",validator:t=>["top","bottom"].includes(t)},...kte(),..._Q(),...kxe(),height:{type:[Number,String],default:64}},"VAppBar"),Ete=Fo()({name:"VAppBar",props:Axe(),emits:{"update:modelValue":t=>!0},setup(t,r){let{slots:i}=r;const u=Ln(),g=Ki(t,"modelValue"),h=It(()=>{var ue;const he=new Set(((ue=t.scrollBehavior)==null?void 0:ue.split(" "))??[]);return{hide:he.has("hide"),fullyHide:he.has("fully-hide"),inverted:he.has("inverted"),collapse:he.has("collapse"),elevate:he.has("elevate"),fadeImage:he.has("fade-image")}}),x=It(()=>{const he=h.value;return he.hide||he.fullyHide||he.inverted||he.collapse||he.elevate||he.fadeImage||!g.value}),{currentScroll:C,scrollThreshold:D,isScrollingUp:I,scrollRatio:O}=Exe(t,{canScroll:x}),B=pn(()=>h.value.hide||h.value.fullyHide),V=It(()=>t.collapse||h.value.collapse&&(h.value.inverted?O.value>0:O.value===0)),z=It(()=>t.flat||h.value.fullyHide&&!g.value||h.value.elevate&&(h.value.inverted?C.value>0:C.value===0)),Z=It(()=>h.value.fadeImage?h.value.inverted?1-O.value:O.value:void 0),ee=It(()=>{var j,de;if(h.value.hide&&h.value.inverted)return 0;const he=((j=u.value)==null?void 0:j.contentHeight)??0,ue=((de=u.value)==null?void 0:de.extensionHeight)??0;return B.value?C.value<D.value||h.value.fullyHide?he+ue:he:he+ue});jg(()=>!!t.scrollBehavior,()=>{Md(()=>{B.value?h.value.inverted?g.value=C.value>D.value:g.value=I.value||C.value<D.value:g.value=!0})});const{ssrBootStyles:ie}=a8(),{layoutItemStyles:W}=SQ({id:t.name,order:It(()=>parseInt(t.order,10)),position:pn(()=>t.location),layoutSize:ee,elementSize:bo(void 0),active:g,absolute:pn(()=>t.absolute)});return _s(()=>{const he=eX.filterProps(t);return ce(eX,Bo({ref:u,class:["v-app-bar",{"v-app-bar--bottom":t.location==="bottom"},t.class],style:[{...W.value,"--v-toolbar-image-opacity":Z.value,height:void 0,...ie.value},t.style]},he,{collapse:V.value,flat:z.value}),i)}),{}}}),Txe=Fn({fluid:{type:Boolean,default:!1},...zs(),...fp(),...aa()},"VContainer"),CF=Fo()({name:"VContainer",props:Txe(),setup(t,r){let{slots:i}=r;const{rtlClasses:u}=Gg(),{dimensionStyles:g}=mp(t);return _s(()=>ce(t.tag,{class:ao(["v-container",{"v-container--fluid":t.fluid},u.value,t.class]),style:Ls([g.value,t.style])},i)),{}}}),Ate=zF.reduce((t,r)=>(t[r]={type:[Boolean,String,Number],default:!1},t),{}),Tte=zF.reduce((t,r)=>{const i="offset"+e1(r);return t[i]={type:[String,Number],default:null},t},{}),Ote=zF.reduce((t,r)=>{const i="order"+e1(r);return t[i]={type:[String,Number],default:null},t},{}),tX={col:Object.keys(Ate),offset:Object.keys(Tte),order:Object.keys(Ote)};function Oxe(t,r,i){let u=t;if(!(i==null||i===!1)){if(r){const g=r.replace(t,"");u+=`-${g}`}return t==="col"&&(u="v-"+u),t==="col"&&(i===""||i===!0)||(u+=`-${i}`),u.toLowerCase()}}const Rxe=["auto","start","end","center","baseline","stretch"],Ixe=Fn({cols:{type:[Boolean,String,Number],default:!1},...Ate,offset:{type:[String,Number],default:null},...Tte,order:{type:[String,Number],default:null},...Ote,alignSelf:{type:String,default:null,validator:t=>Rxe.includes(t)},...zs(),...aa()},"VCol"),Qc=Fo()({name:"VCol",props:Ixe(),setup(t,r){let{slots:i}=r;const u=It(()=>{const g=[];let h;for(h in tX)tX[h].forEach(C=>{const D=t[C],I=Oxe(h,C,D);I&&g.push(I)});const x=g.some(C=>C.startsWith("v-col-"));return g.push({"v-col":!x||!t.cols,[`v-col-${t.cols}`]:t.cols,[`offset-${t.offset}`]:t.offset,[`order-${t.order}`]:t.order,[`align-self-${t.alignSelf}`]:t.alignSelf}),g});return()=>{var g;return Vb(t.tag,{class:[u.value,t.class],style:t.style},(g=i.default)==null?void 0:g.call(i))}}}),pK=["start","end","center"],Rte=["space-between","space-around","space-evenly"];function bK(t,r){return zF.reduce((i,u)=>{const g=t+e1(u);return i[g]=r(),i},{})}const Dxe=[...pK,"baseline","stretch"],Ite=t=>Dxe.includes(t),Dte=bK("align",()=>({type:String,default:null,validator:Ite})),Pxe=[...pK,...Rte],Pte=t=>Pxe.includes(t),Nte=bK("justify",()=>({type:String,default:null,validator:Pte})),Nxe=[...pK,...Rte,"stretch"],Lte=t=>Nxe.includes(t),Mte=bK("alignContent",()=>({type:String,default:null,validator:Lte})),nX={align:Object.keys(Dte),justify:Object.keys(Nte),alignContent:Object.keys(Mte)},Lxe={align:"align",justify:"justify",alignContent:"align-content"};function Mxe(t,r,i){let u=Lxe[t];if(i!=null){if(r){const g=r.replace(t,"");u+=`-${g}`}return u+=`-${i}`,u.toLowerCase()}}const Bxe=Fn({dense:Boolean,noGutters:Boolean,align:{type:String,default:null,validator:Ite},...Dte,justify:{type:String,default:null,validator:Pte},...Nte,alignContent:{type:String,default:null,validator:Lte},...Mte,...zs(),...aa()},"VRow"),kC=Fo()({name:"VRow",props:Bxe(),setup(t,r){let{slots:i}=r;const u=It(()=>{const g=[];let h;for(h in nX)nX[h].forEach(x=>{const C=t[x],D=Mxe(h,x,C);D&&g.push(D)});return g.push({"v-row--no-gutters":t.noGutters,"v-row--dense":t.dense,[`align-${t.align}`]:t.align,[`justify-${t.justify}`]:t.justify,[`align-content-${t.alignContent}`]:t.alignContent}),g});return()=>{var g;return Vb(t.tag,{class:["v-row",u.value,t.class],style:t.style},(g=i.default)==null?void 0:g.call(i))}}}),vK=VF("v-spacer","div","VSpacer"),Fxe={__name:"AppBar",setup(t){const r=Te.api();Te.tasks(),Te.changes();const i=Te.layout();async function u(){if(i.focusTarget=="header"){await Qo();for(const h of document.getElementsByClassName("app-header-item"))if(!h.disabled){h.focus();break}}}Rn(()=>i.focusChange,u);async function g(){Te.changes().countChanges==0||await r.saveChangesToBackend(!0)?window.location=r.returnUrl:Te.layout().showSendFailure=!0}return(h,x)=>(Cn(),Rs(Ete,{elevation:"1",color:"white",density:"compact"},{default:Pt(()=>[re(Te).tasks().countTasks>1?(Cn(),Rs(oxe,{key:0})):Ho("",!0),ce(exe),ce(vK),ce(K1e),re(Te).items().canAuthorize?(Cn(),Rs(wxe,{key:1})):Ho("",!0),ce(ko,{class:"app-header-item",onClick:x[0]||(x[0]=C=>g())},{default:Pt(()=>[ce(Kn,{left:"",icon:"mdi-logout-variant"}),oe("span",null,We(h.$t("appBarReturn")),1)]),_:1})]),_:1}))}},$xe={__name:"SendingStatus",setup(t){const r=Te.api(),i=Te.changes();function u(){return i.countChanges==0}function g(){return r.lastSendingTry>0}return(h,x)=>(Cn(),Rs(bI,{tabindex:"-1"},{default:Pt(()=>[ce(_c,{"aria-role":"button",class:"app-navigation-item",tabindex:"0",onClick:x[0]||(x[0]=C=>re(r).saveChangesToBackend()),disabled:u(),"aria-label":g()?h.$t("SendingStatusSending"):u()?h.$t("SendingStatusSent"):h.$t("SendingStatusSend"),title:g()?h.$t("SendingStatusSending"):u()?h.$t("SendingStatusSent"):h.$t("SendingStatusSend"),ripple:!1},{prepend:Pt(()=>[ce(Kn,{"aria-role":"hidden",icon:g()?"mdi-cloud-upload":u()?"mdi-cloud-check-outline":"mdi-cloud-outline"},null,8,["icon"])]),_:1},8,["disabled","aria-label","title"])]),_:1}))}};function Vxe(t){let{rootEl:r,isSticky:i,layoutItemStyles:u}=t;const g=bo(!1),h=bo(0),x=It(()=>{const I=typeof g.value=="boolean"?"top":g.value;return[i.value?{top:"auto",bottom:"auto",height:void 0}:void 0,g.value?{[I]:ys(h.value)}:{top:u.value.top}]});Wu(()=>{Rn(i,I=>{I?window.addEventListener("scroll",D,{passive:!0}):window.removeEventListener("scroll",D)},{immediate:!0})}),Ec(()=>{window.removeEventListener("scroll",D)});let C=0;function D(){const I=C>window.scrollY?"up":"down",O=r.value.getBoundingClientRect(),B=parseFloat(u.value.top??0),V=window.scrollY-Math.max(0,h.value-B),z=O.height+Math.max(h.value,B)-window.scrollY-window.innerHeight,Z=parseFloat(getComputedStyle(r.value).getPropertyValue("--v-body-scroll-y"))||0;O.height<window.innerHeight-B?(g.value="top",h.value=B):I==="up"&&g.value==="bottom"||I==="down"&&g.value==="top"?(h.value=window.scrollY+O.top-Z,g.value=!0):I==="down"&&z<=0?(h.value=0,g.value="bottom"):I==="up"&&V<=0&&(Z?g.value!=="top"&&(h.value=-V+Z+B,g.value="top"):(h.value=O.top+V,g.value="top")),C=window.scrollY}return{isStuck:g,stickyStyles:x}}const zxe=100,Hxe=20;function oX(t){return(t<0?-1:1)*Math.sqrt(Math.abs(t))*1.41421356237}function sX(t){if(t.length<2)return 0;if(t.length===2)return t[1].t===t[0].t?0:(t[1].d-t[0].d)/(t[1].t-t[0].t);let r=0;for(let i=t.length-1;i>0;i--){if(t[i].t===t[i-1].t)continue;const u=oX(r),g=(t[i].d-t[i-1].d)/(t[i].t-t[i-1].t);r+=(g-u)*Math.abs(g),i===t.length-1&&(r*=.5)}return oX(r)*1e3}function Uxe(){const t={};function r(g){Array.from(g.changedTouches).forEach(h=>{(t[h.identifier]??(t[h.identifier]=new XJ(Hxe))).push([g.timeStamp,h])})}function i(g){Array.from(g.changedTouches).forEach(h=>{delete t[h.identifier]})}function u(g){var I;const h=(I=t[g])==null?void 0:I.values().reverse();if(!h)throw new Error(`No samples for touch id ${g}`);const x=h[0],C=[],D=[];for(const O of h){if(x[0]-O[0]>zxe)break;C.push({t:O[0],d:O[1].clientX}),D.push({t:O[0],d:O[1].clientY})}return{x:sX(C),y:sX(D),get direction(){const{x:O,y:B}=this,[V,z]=[Math.abs(O),Math.abs(B)];return V>z&&O>=0?"right":V>z&&O<=0?"left":z>V&&B>=0?"down":z>V&&B<=0?"up":Wxe()}}}return{addMovement:r,endTouch:i,getVelocity:u}}function Wxe(){throw new Error}function Kxe(t){let{el:r,isActive:i,isTemporary:u,width:g,touchless:h,position:x}=t;Wu(()=>{window.addEventListener("touchstart",he,{passive:!0}),window.addEventListener("touchmove",ue,{passive:!1}),window.addEventListener("touchend",j,{passive:!0})}),Ec(()=>{window.removeEventListener("touchstart",he),window.removeEventListener("touchmove",ue),window.removeEventListener("touchend",j)});const C=It(()=>["left","right"].includes(x.value)),{addMovement:D,endTouch:I,getVelocity:O}=Uxe();let B=!1;const V=bo(!1),z=bo(0),Z=bo(0);let ee;function ie(te,ze){return(x.value==="left"?te:x.value==="right"?document.documentElement.clientWidth-te:x.value==="top"?te:x.value==="bottom"?document.documentElement.clientHeight-te:rE())-(ze?g.value:0)}function W(te){let ze=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const Fe=x.value==="left"?(te-Z.value)/g.value:x.value==="right"?(document.documentElement.clientWidth-te-Z.value)/g.value:x.value==="top"?(te-Z.value)/g.value:x.value==="bottom"?(document.documentElement.clientHeight-te-Z.value)/g.value:rE();return ze?xf(Fe):Fe}function he(te){if(h.value)return;const ze=te.changedTouches[0].clientX,Fe=te.changedTouches[0].clientY,Je=25,rt=x.value==="left"?ze<Je:x.value==="right"?ze>document.documentElement.clientWidth-Je:x.value==="top"?Fe<Je:x.value==="bottom"?Fe>document.documentElement.clientHeight-Je:rE(),we=i.value&&(x.value==="left"?ze<g.value:x.value==="right"?ze>document.documentElement.clientWidth-g.value:x.value==="top"?Fe<g.value:x.value==="bottom"?Fe>document.documentElement.clientHeight-g.value:rE());(rt||we||i.value&&u.value)&&(ee=[ze,Fe],Z.value=ie(C.value?ze:Fe,i.value),z.value=W(C.value?ze:Fe),B=Z.value>-20&&Z.value<80,I(te),D(te))}function ue(te){const ze=te.changedTouches[0].clientX,Fe=te.changedTouches[0].clientY;if(B){if(!te.cancelable){B=!1;return}const rt=Math.abs(ze-ee[0]),we=Math.abs(Fe-ee[1]);(C.value?rt>we&&rt>3:we>rt&&we>3)?(V.value=!0,B=!1):(C.value?we:rt)>3&&(B=!1)}if(!V.value)return;te.preventDefault(),D(te);const Je=W(C.value?ze:Fe,!1);z.value=Math.max(0,Math.min(1,Je)),Je>1?Z.value=ie(C.value?ze:Fe,!0):Je<0&&(Z.value=ie(C.value?ze:Fe,!1))}function j(te){if(B=!1,!V.value)return;D(te),V.value=!1;const ze=O(te.changedTouches[0].identifier),Fe=Math.abs(ze.x),Je=Math.abs(ze.y);(C.value?Fe>Je&&Fe>400:Je>Fe&&Je>3)?i.value=ze.direction===({left:"right",right:"left",top:"down",bottom:"up"}[x.value]||rE()):i.value=z.value>.5}const de=It(()=>V.value?{transform:x.value==="left"?`translateX(calc(-100% + ${z.value*g.value}px))`:x.value==="right"?`translateX(calc(100% - ${z.value*g.value}px))`:x.value==="top"?`translateY(calc(-100% + ${z.value*g.value}px))`:x.value==="bottom"?`translateY(calc(100% - ${z.value*g.value}px))`:rE(),transition:"none"}:void 0);return jg(V,()=>{var Fe,Je;const te=((Fe=r.value)==null?void 0:Fe.style.transform)??null,ze=((Je=r.value)==null?void 0:Je.style.transition)??null;Md(()=>{var rt,we,_e,R;(we=r.value)==null||we.style.setProperty("transform",((rt=de.value)==null?void 0:rt.transform)||"none"),(R=r.value)==null||R.style.setProperty("transition",((_e=de.value)==null?void 0:_e.transition)||null)}),rc(()=>{var rt,we;(rt=r.value)==null||rt.style.setProperty("transform",te),(we=r.value)==null||we.style.setProperty("transition",ze)})}),{isDragging:V,dragProgress:z,dragStyles:de}}function rE(){throw new Error}const jxe=["start","end","left","right","top","bottom"],Zxe=Fn({color:String,disableResizeWatcher:Boolean,disableRouteWatcher:Boolean,expandOnHover:Boolean,floating:Boolean,modelValue:{type:Boolean,default:null},permanent:Boolean,rail:{type:Boolean,default:null},railWidth:{type:[Number,String],default:56},scrim:{type:[Boolean,String],default:!0},image:String,temporary:Boolean,persistent:Boolean,touchless:Boolean,width:{type:[Number,String],default:256},location:{type:String,default:"start",validator:t=>jxe.includes(t)},sticky:Boolean,...o1(),...zs(),...Uee(),...bQ({mobile:null}),...r1(),..._Q(),...Am(),...aa({tag:"nav"}),...xl()},"VNavigationDrawer"),Gxe=Fo()({name:"VNavigationDrawer",props:Zxe(),emits:{"update:modelValue":t=>!0,"update:rail":t=>!0},setup(t,r){let{attrs:i,emit:u,slots:g}=r;const{isRtl:h}=Gg(),{themeClasses:x}=ic(t),{borderClasses:C}=s1(t),{backgroundColorClasses:D,backgroundColorStyles:I}=ip(()=>t.color),{elevationClasses:O}=i1(t),{displayClasses:B,mobile:V}=HF(t),{roundedClasses:z}=Tm(t),Z=Eee(),ee=Ki(t,"modelValue",null,At=>!!At),{ssrBootStyles:ie}=a8(),{scopeId:W}=s8(),he=Ln(),ue=bo(!1),{runOpenDelay:j,runCloseDelay:de}=Wee(t,At=>{ue.value=At}),te=It(()=>t.rail&&t.expandOnHover&&ue.value?Number(t.width):Number(t.rail?t.railWidth:t.width)),ze=It(()=>VU(t.location,h.value)),Fe=pn(()=>t.persistent),Je=It(()=>!t.permanent&&(V.value||t.temporary)),rt=It(()=>t.sticky&&!Je.value&&ze.value!=="bottom");jg(()=>t.expandOnHover&&t.rail!=null,()=>{Rn(ue,At=>u("update:rail",!At))}),jg(()=>!t.disableResizeWatcher,()=>{Rn(Je,At=>!t.permanent&&Qo(()=>ee.value=!At))}),jg(()=>!t.disableRouteWatcher&&!!Z,()=>{Rn(Z.currentRoute,()=>Je.value&&(ee.value=!1))}),Rn(()=>t.permanent,At=>{At&&(ee.value=!0)}),t.modelValue==null&&!Je.value&&(ee.value=t.permanent||!V.value);const{isDragging:we,dragProgress:_e}=Kxe({el:he,isActive:ee,isTemporary:Je,width:te,touchless:pn(()=>t.touchless),position:ze}),R=It(()=>{const At=Je.value?0:t.rail&&t.expandOnHover?Number(t.railWidth):te.value;return we.value?At*_e.value:At}),{layoutItemStyles:it,layoutItemScrimStyles:St}=SQ({id:t.name,order:It(()=>parseInt(t.order,10)),position:ze,layoutSize:R,elementSize:te,active:IE(ee),disableTransitions:pn(()=>we.value),absolute:It(()=>t.absolute||rt.value&&typeof Ut.value!="string")}),{isStuck:Ut,stickyStyles:sn}=Vxe({rootEl:he,isSticky:rt,layoutItemStyles:it}),dt=ip(()=>typeof t.scrim=="string"?t.scrim:null),An=It(()=>({...we.value?{opacity:_e.value*.2,transition:"none"}:void 0,...St.value}));return wx({VList:{bgColor:"transparent"}}),_s(()=>{const At=g.image||t.image;return oe(is,null,[ce(t.tag,Bo({ref:he,onMouseenter:j,onMouseleave:de,class:["v-navigation-drawer",`v-navigation-drawer--${ze.value}`,{"v-navigation-drawer--expand-on-hover":t.expandOnHover,"v-navigation-drawer--floating":t.floating,"v-navigation-drawer--is-hovering":ue.value,"v-navigation-drawer--rail":t.rail,"v-navigation-drawer--temporary":Je.value,"v-navigation-drawer--persistent":Fe.value,"v-navigation-drawer--active":ee.value,"v-navigation-drawer--sticky":rt.value},x.value,D.value,C.value,B.value,O.value,z.value,t.class],style:[I.value,it.value,ie.value,sn.value,t.style]},W,i),{default:()=>{var et,Me,mt;return[At&&oe("div",{key:"image",class:"v-navigation-drawer__img"},[g.image?ce(Ea,{key:"image-defaults",disabled:!t.image,defaults:{VImg:{alt:"",cover:!0,height:"inherit",src:t.image}}},g.image):ce(pI,{key:"image-img",alt:"",cover:!0,height:"inherit",src:t.image},null)]),g.prepend&&oe("div",{class:"v-navigation-drawer__prepend"},[(et=g.prepend)==null?void 0:et.call(g)]),oe("div",{class:"v-navigation-drawer__content"},[(Me=g.default)==null?void 0:Me.call(g)]),g.append&&oe("div",{class:"v-navigation-drawer__append"},[(mt=g.append)==null?void 0:mt.call(g)])]}}),ce(vx,{name:"fade-transition"},{default:()=>[Je.value&&(we.value||ee.value)&&!!t.scrim&&oe("div",Bo({class:["v-navigation-drawer__scrim",dt.backgroundColorClasses.value],style:[An.value,dt.backgroundColorStyles.value],onClick:()=>{Fe.value||(ee.value=!1)}},W),null)]})])}),{isStuck:Ut}}}),qxe={__name:"NavBar",setup(t){Te.api();const r=Te.layout();Te.items();const i=Te.resources(),u=Te.corrections(),g=Te.tasks();async function h(){if(r.focusTarget=="navigation"){await Qo();for(const V of document.getElementsByClassName("app-navigation-item")){V.focus();break}}}Rn(()=>r.focusChange,h);function x(){document.getElementById("app-navigation-drawer").dispatchEvent(new Event("mouseenter"))}function C(){document.getElementById("app-navigation-drawer").dispatchEvent(new Event("mouseleave"))}function D(V){V.keyCode==27?C():r.handleKeyDown(V)}function I(V){V.type=="url"&&!V.embedded?window.open(V.source,"long-essay-writer-resource-"+V.key):(i.selectResource(V),r.showResources())}function O(V){switch(V.type){case"url":return i.getResourceIsActive(V)&&r.isResourcesVisible?"mdi-file-link":"mdi-file-link-outline";default:return i.getResourceIsActive(V)&&r.isResourcesVisible?"mdi-file":"mdi-file-outline"}}function B(V){return V.title+" - "+V.initials+" "+hi.buildPositionText(V.position)}return(V,z)=>(Cn(),Rs(Gxe,{id:"app-navigation-drawer",elevation:"2",width:"500",permanent:"",rail:"","expand-on-hover":"",onFocusin:x,onFocusout:C,onKeydown:D},{append:Pt(()=>[ce($xe)]),default:Pt(()=>[ce(bI,{tabindex:"-1"},{default:Pt(()=>[Bn(ce(_c,{"aria-role":"button",class:"app-navigation-item",tabindex:"0",onClick:z[0]||(z[0]=Z=>{re(r).showInstructions()}),"aria-label":V.$t("allInstructions")+re(r).isInstructionsVisible?V.$t("navBarSelectedAria"):"",title:V.$t("allInstructions")+(re(r).isInstructionsVisible?V.$t("navBarSelected"):""),ripple:!1},{prepend:Pt(()=>[ce(Kn,{"aria-role":"hidden",icon:re(r).isInstructionsVisible?"mdi-text-box":"mdi-text-box-outline"},null,8,["icon"])]),_:1},8,["aria-label","title"]),[[fo,re(g).hasInstructions]]),Bn(ce(_c,{"aria-role":"button",class:"app-navigation-item",tabindex:"0",onClick:z[1]||(z[1]=Z=>{re(r).showInstructionsPdf()}),"aria-label":V.$t("allInstructionsPdf")+(re(r).isInstructionsPdfVisible?V.$t("navBarSelectedAria"):""),title:V.$t("allInstructionsPdf")+(re(r).isInstructionsPdfVisible?V.$t("navBarSelected"):""),ripple:!1},{prepend:Pt(()=>[ce(Kn,{"aria-role":"hidden",icon:re(r).isInstructionsPdfVisible?"mdi-text-box":"mdi-text-box-outline"},null,8,["icon"])]),_:1},8,["aria-label","title"]),[[fo,re(i).hasInstruction]]),Bn(ce(_c,{"aria-role":"button",class:"app-navigation-item",tabindex:"0",onClick:z[2]||(z[2]=Z=>{re(r).showSolution()}),"aria-label":V.$t("allSolution")+(re(r).isSolutionVisible?V.$t("navBarSelectedAria"):""),title:V.$t("allSolution")+(re(r).isSolutionVisible?V.$t("navBarSelected"):""),ripple:!1},{prepend:Pt(()=>[ce(Kn,{"aria-role":"hidden",icon:re(r).isSolutionVisible?"mdi-text-box-check":"mdi-text-box-check-outline"},null,8,["icon"])]),_:1},8,["aria-label","title"]),[[fo,re(g).hasSolution]]),Bn(ce(_c,{"aria-role":"button",class:"app-navigation-item",tabindex:"0",onClick:z[3]||(z[3]=Z=>{re(r).showSolutionPdf()}),"aria-label":V.$t("allSolutionPdf")+(re(r).isSolutionPdfVisible?V.$t("navBarSelectedAria"):""),title:V.$t("allSolutionPdf")+(re(r).isSolutionPdfVisible?V.$t("navBarSelected"):""),ripple:!1},{prepend:Pt(()=>[ce(Kn,{"aria-role":"hidden",icon:re(r).isSolutionPdfVisible?"mdi-text-box-check":"mdi-text-box-check-outline"},null,8,["icon"])]),_:1},8,["aria-label","title"]),[[fo,re(i).hasSolution]]),ce(RC,{class:"border-opacity-75"}),(Cn(!0),Lo(is,null,Y0(re(i).fileOrUrlResources,Z=>(Cn(),Rs(_c,{"aria-role":"button",class:"app-navigation-item",tabindex:"0",onClick:ee=>{I(Z)},"aria-label":Z.title+(re(i).getResourceIsActive(Z)&&re(r).isResourcesVisible?", ist ausgewhlt":""),title:Z.title+(re(i).getResourceIsActive(Z)&&re(r).isResourcesVisible?V.$t("navBarSelected"):""),key:Z.key,ripple:!1},{prepend:Pt(()=>[ce(Kn,{"aria-role":"hidden",icon:O(Z)},null,8,["icon"])]),_:2},1032,["onClick","aria-label","title"]))),128)),ce(RC,{class:"border-opacity-75"}),ce(_c,{"aria-role":"button",class:"app-navigation-item",tabindex:"0",onClick:z[4]||(z[4]=Z=>{re(r).showEssay()}),"aria-label":V.$t("allEssay")+(re(r).isEssayVisible?V.$t("navBarSelectedAria"):""),title:V.$t("allEssay")+(re(r).isEssayVisible?V.$t("navBarSelected"):""),ripple:!1},{prepend:Pt(()=>[ce(Kn,{"aria-role":"hidden",icon:re(r).isEssayVisible?"mdi-comment-edit":"mdi-comment-edit-outline"},null,8,["icon"])]),_:1},8,["aria-label","title"]),ce(_c,{"aria-role":"button",class:"app-navigation-item",tabindex:"0",onClick:z[5]||(z[5]=Z=>{re(r).showMarking()}),"aria-label":V.$t("allCorrection")+(re(r).isMarkingVisible?V.$t("navBarSelectedAria"):""),title:V.$t("allCorrection")+(re(r).isMarkingVisible?V.$t("navBarSelected"):""),ripple:!1},{prepend:Pt(()=>[ce(Kn,{"aria-role":"hidden",icon:re(r).isMarkingVisible?"mdi-comment-edit":"mdi-comment-edit-outline"},null,8,["icon"])]),_:1},8,["aria-label","title"]),ce(RC,{class:"border-opacity-75"}),(Cn(!0),Lo(is,null,Y0(re(u).otherCorrections,Z=>(Cn(),Rs(_c,{"aria-role":"button",class:"app-navigation-item",tabindex:"0",onClick:ee=>{re(r).selectCorrection(Z.key)},"aria-label":B(Z)+(re(r).getCorrectionIsVisible(Z.key)?V.$t("navBarSelectedAria"):""),title:B(Z)+(re(r).getCorrectionIsVisible(Z.key)?V.$t("navBarSelected"):""),key:Z.correction_key,ripple:!1},{prepend:Pt(()=>[ce(Kn,{"aria-role":"hidden",icon:re(r).getCorrectionIsVisible(Z.key)?"mdi-account-school":"mdi-account-school-outline"},null,8,["icon"])]),_:2},1032,["onClick","aria-label","title"]))),128)),ce(_c,{"aria-role":"button",class:"app-navigation-item",tabindex:"0",onClick:z[6]||(z[6]=Z=>{re(r).showSummary()}),"aria-label":V.$t("allOwnSummaryAndRating")+(re(r).isSummaryVisible?V.$t("navBarSelectedAria"):""),title:V.$t("allOwnSummaryAndRating")+(re(r).isSummaryVisible?V.$t("navBarSelected"):""),ripple:!1},{prepend:Pt(()=>[ce(Kn,{"aria-role":"hidden",icon:re(r).isSummaryVisible?"mdi-file-edit":"mdi-file-edit-outline"},null,8,["icon"])]),_:1},8,["aria-label","title"]),ce(RC,{class:"border-opacity-75"})]),_:1})]),_:1}))}},Yxe=tl(qxe,[["__scopeId","data-v-47a47db7"]]),Xxe=["innerHTML"],Jxe={__name:"Instructions",setup(t){const r=Te.tasks(),i=Te.layout();function u(h){return h.preventDefault(),!1}async function g(){i.focusTarget=="instructions"&&(await Qo(),document.getElementById("app-instructions").focus())}return g(),Rn(()=>i.focusChange,g),(h,x)=>{var C;return Cn(),Lo("div",{id:"app-instructions",class:"long-essay-content",contenteditable:"true",onBeforeinput:u,innerHTML:(C=re(r).currentTask)==null?void 0:C.instructions},null,40,Xxe)}}},Qxe=tl(Jxe,[["__scopeId","data-v-f0cb7ed4"]]),e2e=["data"],t2e={__name:"InstructionsPdf",setup(t){const i=Te.resources().instruction;return(u,g)=>(Cn(),Lo("div",null,[re(i).mimetype=="application/pdf"?(Cn(),Lo("object",{key:0,type:"application/pdf",data:re(i).url,width:"100%",height:"100%"},null,8,e2e)):Ho("",!0)]))}},n2e=tl(t2e,[["__scopeId","data-v-3032ccee"]]),o2e=["innerHTML"],s2e={__name:"Solution",setup(t){const r=Te.tasks(),i=Te.layout();function u(h){return h.preventDefault(),!1}async function g(){i.focusTarget=="solution"&&(await Qo(),document.getElementById("app-solution").focus())}return g(),Rn(()=>i.focusChange,g),(h,x)=>(Cn(),Lo("div",{id:"app-solution",class:"long-essay-content",contenteditable:"true",onBeforeinput:u,innerHTML:re(r).solution},null,40,o2e))}},r2e=tl(s2e,[["__scopeId","data-v-fbbc007c"]]),i2e=["data"],a2e={__name:"SolutionPdf",setup(t){const i=Te.resources().solution;return(u,g)=>(Cn(),Lo("div",null,[re(i).mimetype=="application/pdf"?(Cn(),Lo("object",{key:0,type:"application/pdf",data:re(i).url,width:"100%",height:"100%"},null,8,i2e)):Ho("",!0)]))}},l2e=tl(a2e,[["__scopeId","data-v-a5bf3b1f"]]),c2e={class:"resources"},u2e={key:0},d2e=["data"],f2e={key:1},m2e=["src"],g2e={__name:"Resources",setup(t){const r=Te.resources();return(i,u)=>(Cn(),Lo("div",c2e,[(Cn(!0),Lo(is,null,Y0(re(r).fileOrUrlResources,g=>(Cn(),Lo(is,{key:g.key},[g.type=="file"?Bn((Cn(),Lo("div",u2e,[g.mimetype=="application/pdf"?(Cn(),Lo("object",{key:0,type:"application/pdf",data:g.url,width:"100%",height:"100%"},null,8,d2e)):Ho("",!0)],512)),[[fo,re(r).getResourceIsActive(g)]]):Ho("",!0),g.type=="url"&&g.embedded==!0?Bn((Cn(),Lo("div",f2e,[oe("iframe",{src:g.source,width:"100%",height:"100%",frameborder:"0",referrerpolicy:"strict-origin-when-cross-origin",allowfullscreen:""},null,8,m2e)],512)),[[fo,re(r).getResourceIsActive(g)]]):Ho("",!0)],64))),128))]))}},h2e=tl(g2e,[["__scopeId","data-v-9f00696d"]]);class p2e{constructor(r,i,u){wt(this,"observer",null);wt(this,"marks",[]);if(!r)throw new Error("Missing anchor element");this.el=r,i instanceof Function&&(this.onSelection=i,this.el.addEventListener("mouseup",this.selectionHandler.bind(this)),this.el.addEventListener("touchend",this.selectionHandler.bind(this)),this.el.addEventListener("keydown",this.keydownHandler.bind(this))),u instanceof Function&&(this.onIntersection=u,this.observer=new IntersectionObserver(this.intersectionHandler.bind(this),{root:this.el,threshold:[1]}))}onSelection(r){}onIntersection(r){}keydownHandler(r){switch(r.key){case"Enter":r.preventDefault(),this.selectionHandler(r);break;case"Escape":r.preventDefault(),this.removeSelection();break}}selectionHandler(r){let i=this.getSelectionData();i.mouseX=r.clientX,i.mouseY=r.clientY,i.firstWord>0&&i.lastWord>0&&this.onSelection(i)}intersectionHandler(r){let i=0;this.marks.forEach(u=>{(i==0||u.firstWord<i)&&this.isMarkVisible(u.firstWord,u.lastWord)&&(i=u.firstWord)}),this.onIntersection(i)}removeSelection(){window.getSelection().collapseToEnd()}getSelectionData(){const r=window.getSelection(),i=r.getRangeAt(0);if(!r||!i)return{};let u=i.commonAncestorContainer;u.nodeType==3&&(u=u.parentNode.parentNode);let g=0,h=0,x=0;return u.querySelectorAll("w-p").forEach(C=>{if(r.containsNode(C,!0)){let D=parseInt(C.getAttribute("w")),I=parseInt(C.getAttribute("p"));(g==0||D<g)&&(g=D,x=I),D>h&&(h=D)}}),{firstWord:g,lastWord:h,parentNumber:x,isCollapsed:r.isCollapsed}}addLabel(r,i,u){let g=this.el.querySelector('w-p[w="'+u+'"]');g&&(g.setAttribute("label",i),g.classList.add(r))}showMark(r,i,u){this.marks.push({cssClass:r,firstWord:i,lastWord:u}),this.el.querySelectorAll("w-p").forEach(g=>{let h=parseInt(g.getAttribute("w"));h>=i&&h<=u&&g.classList.add(r),this.observer&&(h==i||h==u)&&this.observer.observe(g)})}hideMark(r,i,u){this.marks=this.marks.filter(g=>g.cssClass!=r||g.firstWord!=i||g.lastWord!=u),this.el.querySelectorAll("w-p."+r).forEach(g=>{let h=parseInt(g.getAttribute("w"));h>=i&&h<=u&&g.classList.remove(r),this.observer&&(h==i||h==u)&&this.observer.unobserve(g)})}hideAllMarksOfClass(r){this.marks=this.marks.filter(i=>i.cssClass!=r),this.el.querySelectorAll("w-p."+r).forEach(i=>{i.classList.remove(r)})}hideAllMarksAndLabels(){this.marks=[],this.el.querySelectorAll("w-p[class]").forEach(r=>{r.classList.value=""}),this.observer&&this.observer.disconnect()}hideSelection(){}scrollToMark(r,i){if(!this.isMarkVisible(r,i,!0)){const u=this.el.querySelector('w-p[w="'+r+'"]');u&&u.scrollIntoView()}}setCaretToMark(r){const i=this.el.querySelector('w-p[w="'+r+'"]').childNodes[0];if(i){let u=document.createRange(),g=window.getSelection();u.setStart(i,0),u.collapse(!0),g.removeAllRanges(),g.addRange(u)}}isMarkVisible(r,i,u){const g=this.el.querySelector('w-p[w="'+r+'"]'),h=this.el.querySelector('w-p[w="'+i+'"]');if(!g||!h)return!1;const x=this.el.getBoundingClientRect(),C=g.getBoundingClientRect(),D=h.getBoundingClientRect(),I=C.top>=x.top&&C.bottom<=x.bottom,O=D.top>=x.top&&D.bottom<=x.bottom;return u?I&&O:I||O}}const b2e={id:"app-essay-wrapper"},v2e={class:"appTextButtons"},y2e=["innerHTML"],x2e={__name:"Essay",setup(t){const r=Te.essay(),i=Te.comments(),u=Te.summaries(),g=Te.preferences(),h=Te.settings(),x=Te.layout();let C;Wu(()=>{he(),C=new p2e(document.getElementById("app-essay"),Z,ee),i.activeComments.forEach(ue=>z(ue))});function D(ue){return ue.preventDefault(),!1}async function I(){x.focusTarget=="essay"&&(await Qo(),document.getElementById("app-essay").focus())}I(),Rn(()=>x.focusChange,I);function O(){C.hideAllMarksAndLabels(),i.activeComments.forEach(ue=>z(ue))}Rn(()=>i.markerChange,O),Rn(()=>i.filterChange,O);function B(){C.hideAllMarksOfClass("selected");let ue=i.getComment(i.selectedKey);ue&&(C.showMark("selected",ue.start_position,ue.end_position),C.addLabel("labelled",ue.label,ue.start_position),C.scrollToMark(ue.start_position,ue.end_position))}Rn(()=>i.selectionChange,B);function V(){let ue=i.getComment(i.selectedKey);C.setCaretToMark(ue.start_position)}Rn(()=>i.caretRequest,V);function z(ue){ue.prefix&&(C.hideMark(ue.prefix+"-excellent",ue.start_position,ue.end_position),C.hideMark(ue.prefix+"-cardinal",ue.start_position,ue.end_position),C.hideMark(ue.prefix,ue.start_position,ue.end_position),ue.rating_excellent?C.showMark(ue.prefix+"-excellent",ue.start_position,ue.end_position):ue.rating_cardinal?C.showMark(ue.prefix+"-cardinal",ue.start_position,ue.end_position):C.showMark(ue.prefix,ue.start_position,ue.end_position)),C.addLabel("labelled",ue.label,ue.start_position)}async function Z(ue){let j=i.getActiveCommentsInRange(ue.firstWord,ue.lastWord);if(j.length){let de=j.shift();ue.isCollapsed?(C.removeSelection(),i.selectComment(de.key)):(C.removeSelection(),u.isOwnDisabled||i.createComment(ue.firstWord,ue.lastWord,ue.parentNumber))}else ue.isCollapsed||(C.removeSelection(),u.isOwnDisabled||i.createComment(ue.firstWord,ue.lastWord,ue.parentNumber))}function ee(ue){let j=i.getActiveCommentsByStartPosition(ue);if(j.length){let de=j.shift();i.setFirstVisibleComment(de.key)}}function ie(){g.zoomEssayTextIn(),he()}function W(){g.zoomEssayTextOut(),he()}function he(){document.getElementById("app-essay").style.fontSize=g.essay_text_zoom+"rem"}return(ue,j)=>(Cn(),Lo("div",b2e,[oe("div",v2e,[ce(W0,{density:"comfortable",variant:"outlined",divided:""},{default:Pt(()=>[ce(ko,{title:ue.$t("essayZoomOut"),size:"small",icon:"mdi-magnify-minus-outline",onClick:j[0]||(j[0]=de=>W())},null,8,["title"]),ce(ko,{title:ue.$t("essayZoomIn"),size:"small",icon:"mdi-magnify-plus-outline",onClick:j[1]||(j[1]=de=>ie())},null,8,["title"])]),_:1})]),oe("div",{contenteditable:"true",id:"app-essay",onBeforeinput:D,class:ao("long-essay-content "+re(h).headlineClass),innerHTML:re(r).text},null,42,y2e)]))}},xE=()=>{},rX=(t,r)=>Math.abs(t-r),w2e=(t,r)=>({x:Math.min(t.x,r.x),y:Math.min(t.y,r.y),width:rX(t.x,r.x),height:rX(t.y,r.y)}),Bte=t=>t,YR=t=>typeof t=="object",fE=t=>typeof t=="string",OE=t=>typeof t=="number",yI=t=>typeof t>"u",C2e=t=>[!0,!1].includes(t),Fte=(t,r)=>Object.fromEntries(Object.entries(r).map(([i,u])=>[i,t(u,i)])),_2e=(t,r)=>Object.fromEntries(Object.entries(r).filter(([i,u])=>t(u,i))),OR=(t,r)=>_2e((i,u)=>t.includes(u),r),S2e=(t,r)=>YR(r)&&Object.values(Fte((i,u)=>i(r[u]),t)).filter(i=>!i).length===0,k2e=(...t)=>r=>t.reduce((i,u)=>u(i),r),XR=(...t)=>k2e(...t.reverse()),JR=Symbol("none"),E2e=t=>r=>r===JR?JR:t(r),A2e=t=>r=>r===JR?t():r,T2e=(t,r)=>XR(...Object.entries(t).map(([i,u])=>A2e(()=>u(r[i])?JR:{key:i,type:u.name,offendingValue:r[i]})))(YR(r)?JR:{type:YR.name,offendingValue:r}),iX=(t,r)=>{const i=u=>u?`Key "${u}" of `:"";E2e(({type:u,key:g=!1})=>VE(`Value does not match required form: ${i(g)}${JSON.stringify(r)} does not satisfy ${u}.`))(T2e(t,r))},_F=(t,r)=>(...i)=>{if(t(...i))return r(...i)},ap=(t,r)=>({x:t,y:r}),W6=t=>S2e({x:OE,y:OE},t),l8=(t,r)=>({x:t.x+r.x,y:t.y+r.y}),QR=(t,r)=>({x:r.x*t,y:r.y*t}),zC=(t,r)=>l8(t,QR(-1,r)),O2e=t=>({width:t.x,height:t.y}),R2e=t=>ap(t.width,t.height),I2e=(t,r)=>({width:t,height:r}),D2e=(t,r)=>ap(t.x*Math.cos(r)-t.y*Math.sin(r),t.x*Math.sin(r)+t.y*Math.cos(r)),P2e=({x:t,y:r})=>`${t},${r}`,N2e=(t,r)=>t.map(i=>l8(i,r)),L2e=t=>t.map(P2e).join(" "),$te=(t,r)=>L2e(N2e(t,r)),M2e=(t,r)=>{const[i,u]=t.width/t.height<r.width/r.height?["height","width"]:["width","height"];return{[i]:r[i],[u]:r[i]*(t[u]/t[i])}},VE=t=>{throw new Error(t)},eI=(t,r)=>t||VE(r),aX=t=>()=>t,Vte=(t,r)=>!yI(r.find(t)),B2e=(t,r)=>!Vte(i=>!t(i),r),zte=t=>t instanceof Array,Hte=t=>{const r=Hte.name+"("+t.name+")";return{[r]:u=>zte(u)&&B2e(t,u)}[r]},F2e=(t,r)=>Object.entries(t).reduce((i,[u,g])=>g===r[u]?i:[...i,{left:g,right:r[u],name:u}],[]),Ute=Reflect.set,$2e=Reflect.deleteProperty,yK=(t,...r)=>t.bind(null,...r),V2e=t=>t.apply.bind(t,null),xK=t=>t.map(r=>r()),z2e=(t,r)=>Object.entries(r).forEach(V2e(t)),H2e=(t,r,i)=>z2e(t[r].bind(t),i),U2e=t=>r=>(t(r),r),iE=(t,r=xE)=>(i=void 0)=>{if(yI(i))return t;r(i),t=i},hU=JSON.stringify,Wb=t=>{let r=(...g)=>VE(`No matching function found for arguments: ${hU(g)}.`);const i={},u=(...g)=>(i[hU(t(...g))]||r)(...g);return u.define=(g,h=void 0)=>{yI(h)?r=g:i[hU(g)]=h},u},xr=(t,...r)=>t.define(...r),Wte=(t,r,i)=>(t.addEventListener(r,i),()=>t.removeEventListener(r,i)),tI=Wb((t,r)=>r);xr(tI,Wte);const wK=(t,r)=>xr(tI,t,(i,u,g)=>{const h=[t,r].map(x=>Wte(i,x,g));return()=>{xK(h)}});wK("mousedown","touchstart");wK("mousemove","touchmove");wK("mouseup","touchend");const FC=Wb(t=>t.constructor.name);xr(FC,"MouseEvent",t=>ap(t.clientX,t.clientY));xr(FC,"TouchEvent",t=>ap(t.touches[0].clientX,t.touches[0].clientY));const W2e=t=>t.reduce((r,i)=>YR(i.right)&&!zte(i.right)?[...r,...Kte(i.left,i.right).map(({path:u,...g})=>({path:[i.name,...u],...g}))]:[...r,{path:[i.name],value:i.right}],[]),Kte=(t,r)=>W2e(F2e(t,r)),K2e=(t,r)=>!yI(r.find(i=>jte(i.path,t))),jte=(t,r)=>JSON.stringify(t)===JSON.stringify(r),Zte=(t,r)=>t.length>=r.length&&jte(t.slice(0,r.length),r),CK=(t,r)=>t.length===0?r:YR(r)?CK(t.slice(1),r[t[0]]):VE("Path not found."),Fu=(t,r)=>({requires:i=>Zte(i,t),then:XR(r,yK(CK,t))}),fx=(t,r)=>({requires:aX(!1),then:XR(r,aX(t))}),_K=(t,r)=>({requires:i=>Vte(yK(Zte,i),Object.values(t)),then:i=>r(Fte(u=>CK(u,i),t))}),oc=t=>r=>i=>i.setAttribute(t,(OE(r),r)),Gte=()=>t=>r=>Ute(r,"textContent",t),nI=t=>r=>i=>i.style.setProperty(t,r),j2e=t=>t.reduce((r,i)=>r.includes(i)?r:[...r,i],[]),SK=(t,r,i)=>r.forEach(({then:u})=>u(t)(i)),lX=(t,r,i,u)=>{const g=({path:x})=>r.filter(C=>C.requires(x)),h=j2e(i.reduce((x,C)=>x.concat(g(C)),[]));SK(t,h,u)},km=(t,r)=>t.append(r),RE=(t,r)=>H2e(t,"setAttribute",r),Z2e=({start:t,move:r,stop:i=xE})=>{let u=null;return{start:g=>{g.preventDefault(),u=t(FC(g))},move:g=>{g.preventDefault(),u=r(FC(g),u)},stop:g=>{i(u)}}},G2e=(t,r)=>Array.from(t.children).forEach(yK(km,r)),qte=t=>(r,i={},...u)=>{const g=t(r);return u.forEach(h=>km(g,h)),RE(g,i),g},q2e=t=>document.createElementNS("http://www.w3.org/2000/svg",t),Fa=qte(q2e),Y2e=qte(t=>document.createElement(t)),X2e=()=>{let t=null;return r=>{if(t!==null)return new Promise(xE);const i=()=>t===i?(t=null,!0):!1;return t=i,new Promise(u=>r(()=>{i(),u()}))}},J2e=t=>{const r=X2e();return{current:()=>t,acquire:(i,u)=>r(g=>{const h=t;t=i,u(()=>{g()&&(t=h)})})}},Q2e=t=>new Promise((r,i)=>{const u=document.createElement("img");u.onload=()=>r(I2e(u.width,u.height)),u.onerror=i,u.src=t}),Yte=t=>t.type==="touchend"&&t.touches.length===0,oI=Wb((t,r=void 0)=>yI(r)?t.constructor.name:r);xr(oI,"TouchEvent",t=>t.touches.length===1||Yte(t));xr(oI,"MouseEvent",t=>t.button===0);xr(oI,"PointerEvent",t=>oI(t,"MouseEvent"));const sI=Wb(t=>t.constructor.name);xr(sI,"TouchEvent",t=>t.touches.length===2||Yte(t));xr(sI,"MouseEvent",t=>t.button===1);xr(sI,"PointerEvent",t=>sI(t,"MouseEvent"));const Sm=Wb((t,r)=>r);xr(Sm,tI);["click","mousedown","mouseup"].forEach(t=>{xr(Sm,t,(r,i,u)=>tI(r,i,_F(oI,u))),xr(Sm,[t,"primary"],(r,[i,u],g)=>Sm(r,i,g)),xr(Sm,[t,"secondary"],(r,[i,u],g)=>tI(r,i,_F(sI,g)))});const ewe=(t,{start:r=xE,move:i=xE,stop:u=xE},g,h)=>{const x=I=>i(I),D=[Sm(window,["mouseup",g],I=>{xK(D),u(I)}),Sm(t,"mousemove",x)];r(h)},Ys={CIRCLE:"circle",RECTANGLE:"rectangle",POLYGON:"polygon",LINE:"line",WAVE:"wave"},twe=t=>Object.values(Ys).includes(t),nwe={[Ys.CIRCLE]:{symbol:fE,symbolColor:fE},[Ys.RECTANGLE]:{width:OE,height:OE},[Ys.POLYGON]:{polygon:Hte(W6)},[Ys.LINE]:{end:W6},[Ys.WAVE]:{end:W6}},Xte={key:fE,label:fE,color:fE,selectedColor:fE,shape:twe,pos:W6,locked:C2e},owe=t=>({...OR(Object.keys(Xte),t),pos:OR(["x","y"],t.pos)}),swe={[Ys.CIRCLE]:t=>OR(["symbol","symbolColor"],t),[Ys.RECTANGLE]:t=>OR(["width","height"],t),[Ys.POLYGON]:({polygon:t})=>({polygon:t.map(r=>OR(["x","y"],r))}),[Ys.LINE]:({end:{x:t,y:r}})=>({end:{x:t,y:r}}),[Ys.WAVE]:({end:{x:t,y:r}})=>({end:{x:t,y:r}})},kK=Wb(t=>t.shape);xr(kK,Bte);xr(kK,Ys.CIRCLE,({symbol:t="",symbolColor:r="black",...i})=>({...i,symbol:t,symbolColor:r}));const mE=t=>(t={...t,key:t.key||"mark-"+Math.random().toString(),locked:t.locked||!1},iX(Xte,t),t=kK(t),iX(nwe[t.shape],t),{...owe(t),...swe[t.shape](t)}),K6={lambda:60,amplitude:20,lineWidth:10},pU={startDot:{radius:20,borderWidth:10},lineWidth:10},rwe={width:15},Z0=Symbol("silent"),iwe=({polygon:t,pos:r})=>$te(t,r),awe=t=>r=>r.setAttribute("points",iwe(t)),c8=t=>[Fu(["color"],nI("--default-color")),Fu(["selectedColor"],nI("--selected-color")),Fu(["locked"],r=>oc("class")(["shape"].concat(r?["locked"]:[],t).join(" ")))],Jte=(t,r)=>{const i=g=>Math.sqrt(Math.pow(g.x,2)+Math.pow(g.y,2)),u=({start:g,end:h})=>{const x=Math.atan(h.y/h.x),C=h.x<0?x-Math.PI:x,D=D2e(zC(g,ap(0,t/2)),-C),I=`rotateZ(${C}rad)`,O=`translate(${D.x}px, ${D.y}px)`;return`${I} ${O}`};return[...c8(r),_K({start:["pos"],end:["end"]},XR(nI("transform"),u)),Fu(["end"],XR(oc("width"),i)),fx(`0 ${t/2}px`,nI("transform-origin")),fx(t,oc("height")),fx(0,oc("x")),fx(0,oc("y"))]},Hb=Wb(t=>t.shape||t);xr(Hb,Ys.RECTANGLE,()=>[...c8([]),Fu(["pos","x"],oc("x")),Fu(["pos","y"],oc("y")),Fu(["width"],oc("width")),Fu(["height"],oc("height"))]);xr(Hb,Ys.CIRCLE,()=>[...c8([]),Fu(["pos","x"],Ug(0,oc("cx"))),Fu(["pos","y"],Ug(0,oc("cy"))),Fu(["pos","x"],Ug(1,oc("x"))),Fu(["pos","y"],Ug(1,oc("y"))),Fu(["symbol"],Ug(1,Gte())),Fu(["symbolColor"],Ug(1,nI("fill"))),fx("symbol",Ug(1,oc("class"))),fx(70,Ug(0,oc("r")))]);xr(Hb,Ys.POLYGON,()=>[...c8([]),_K({pos:["pos"],polygon:["polygon"]},awe)]);xr(Hb,Ys.LINE,()=>Jte(rwe.width,[]));xr(Hb,Ys.WAVE,()=>Jte(K6.amplitude*2,["wave"]));const Ug=(t,r)=>i=>u=>r(i)(u.children[t]);xr(Hb,"label",()=>[Fu(["pos","x"],Ug(0,oc("x"))),Fu(["pos","x"],Ug(1,oc("x"))),fx("label",Ug(0,oc("class"))),fx("label",Ug(1,oc("class"))),_K({shape:["shape"],label:["label"],y:["pos","y"]},({shape:t,label:r,y:i})=>u=>{t==Ys.CIRCLE&&(i=i-70),RE(u.children[1],{y:i}),Gte()(r)(u.children[1]),requestAnimationFrame(()=>{const{width:g,height:h}=u.children[1].getBBox();RE(u.children[0],{y:i-h+h*.15,width:g,height:h})})})]);const HC=Wb(Bte);xr(HC,Ys.RECTANGLE,()=>Fa("rect"));xr(HC,Ys.CIRCLE,()=>Fa("g",{},Fa("circle"),Fa("text")));xr(HC,Ys.POLYGON,()=>Fa("polygon"));xr(HC,Ys.LINE,()=>Fa("rect"));xr(HC,Ys.WAVE,()=>Fa("rect"));xr(HC,t=>VE(`Invalid shape name: ${t}.`));const Qte=t=>{const r=HC(t.shape);return SK(t,Hb(t),r),r},lwe=t=>{const r=Fa("g",{},Fa("rect"),Fa("text"));return SK(t,Hb("label"),r),r},cwe=(t,r,i)=>{lX(t,Hb(t),r,i.nodes.shape),lX(t,Hb("label"),r,i.nodes.label)},uwe=t=>({mark:t,nodes:{root:Fa("g"),label:lwe(t),shape:Qte(t)}}),dwe={[Ys.RECTANGLE]:{width:10,height:20},[Ys.CIRCLE]:{},[Ys.POLYGON]:{polygon:[ap(0,0)]},[Ys.LINE]:{end:ap(0,0)},[Ys.WAVE]:{end:ap(0,0)}},fwe=(t,r,i,u)=>mE({...dwe[r],shape:r,pos:t,color:i,selectedColor:u,label:""}),u8=(t,r,i,u="primary")=>ewe(t.nodes.svg,Z2e(i),u,r),mwe=(t,r)=>Q2e(r).then(i=>{RE(t.nodes.backgroundImage,{href:r,x:0,y:0,...i}),t.canvas.size(i),cne(t)}),gwe=()=>U2e(t=>Ute(t,"innerHTML",[" {position: relative; width: 100%; height: 100%; overflow: auto;}",".moving {overflow: hidden;}"," svg .polygon-start:hover {stroke: blue;}"," svg {position: absolute;}"," svg * {user-select: none;}"," svg .shape {fill: var(--default-color);}"," svg .shape.wave {mask: url(#wave-mask);}"," svg rect.label {fill: lightblue;}"," svg .foreground .shape {fill: var(--selected-color);}"," svg .shape text.symbol {text-anchor: middle; dominant-baseline: central; fill: black;}"].map(r=>".long-essay-image-marker"+r).join(" ")))(document.createElement("style")),hwe=()=>({background:Fa("g",{class:"background"}),normal:Fa("g"),foreground:Fa("g",{class:"foreground"})}),pwe=t=>eI(Object.values(Ys).includes(t),`Invalid shape name: ${t}.`),bwe=t=>{eI(OE(t),`Scale must be a number, given: ${JSON.stringify(t)}.`),eI(t>0,`Scale must be > 0 given: ${t}.`)},vwe=(t,r,i)=>{const u=hwe(),g=Fa("svg",{width:"100%",height:"100%"},...Object.values(u)),h=Y2e("div",{class:"long-essay-image-marker"},g),x=Fa("image");return km(t,h),km(t,gwe()),km(g,Fa("defs",{},_we(),Swe())),{nodes:{app:h,svg:g,layers:u,backgroundImage:x},creation:{color:iE("#0000AAAA"),selectedColor:iE("#FF0000AA"),shape:iE(Ys.CIRCLE,pwe)},status:J2e({name:"idle"}),canvas:{scale:iE(1,bwe),size:iE(null)},mode:iE("draw-shape",C=>eI(["draw-shape","scroll"].includes(C),`Invalid marker mode: ${C}`)),groups:{},emit:{createMark:r,selectMark:i}}},xI=(t,r,i)=>t.status.acquire(r,i),EK=(t,r,i,u)=>xI(t,{name:r,group:i},u),ene=(t,r,i)=>{Sm(i,"mousedown",u=>(r.mark.locked?Promise.resolve():one(t,r,u)).then(()=>ane(t,[r])))},ywe=(t,r)=>{tne(t,r),xwe(t,r),km(t.nodes.layers.normal,r.nodes.root)},xwe=(t,r)=>{km(r.nodes.root,r.nodes.label),ene(t,r,r.nodes.label)},tne=(t,r)=>{km(r.nodes.root,r.nodes.shape),ene(t,r,r.nodes.shape)},d8=t=>(r,i)=>xI(r,{name:"drawNew"},u=>{const g=fwe(Q0(r,FC(i)),Twe(r),sne(r),rne(r));r.emit.selectMark(null,i),u(),TK(r,g,Z0),t(r,r.groups[g.key],i).then(()=>{r.emit.createMark(r.groups[g.key].mark,i),SF(r,[g.key],i)})}),AK=Wb(t=>t.mode()),UC=Wb(AK),nne=(t,r,i)=>EK(t,"editGroup",r,u=>u8(t,i,{start:g=>(f8(t,[r],Z0),g=Q0(t,g),{mark:r.mark,start:{mouse:g,pos:r.mark.pos}}),move:(g,{mark:h,start:x})=>{const C=zC(Q0(t,g),x.mouse),D={...h,end:C};return m8(t,D),{start:x,mark:D}},stop:u}));xr(UC,["draw-shape",Ys.LINE],d8(nne));xr(UC,["draw-shape",Ys.WAVE],d8(nne));const wwe=(t,r,i)=>EK(t,"editGroup",r,u=>u8(t,i,{start:g=>(f8(t,[r],Z0),g=Q0(t,g),{mark:r.mark,start:{mouse:g,pos:r.mark.pos}}),move:(g,{mark:h,start:x})=>{const C=zC(Q0(t,g),x.mouse),{width:D,height:I,...O}=w2e(x.pos,l8(x.pos,C)),B={...h,pos:O,width:D,height:I};return m8(t,B),{start:x,mark:B}},stop:u}));xr(UC,["draw-shape",Ys.RECTANGLE],d8(wwe));const one=(t,r,i)=>EK(t,"moveGroup",r,u=>u8(t,i,{start:g=>(g=Q0(t,g),f8(t,[r],Z0),{mark:r.mark,start:{pos:r.mark.pos,mouse:g}}),move:(g,{mark:h,start:x})=>{const C=zC(Q0(t,g),x.mouse),D={...h,pos:l8(x.pos,C)};return m8(t,D),{start:x,mark:D}},stop:u}));xr(UC,["draw-shape",Ys.CIRCLE],d8(one));const Cwe=(t,r,i)=>{const u=Fa("circle",{cx:r.x,cy:r.y,r:pU.startDot.radius+"px","stroke-width":pU.startDot.borderWidth+"px",fill:"lightblue",class:"polygon-start"}),g=Fa("polyline",{points:"",stroke:"blue",class:"polygon-next-point","stroke-width":pU.lineWidth+"px",fill:"none"}),h=Fa("g",{class:"new-polygon"});return km(h,g),km(h,u),km(t,h),Sm(u,"click",x=>{x.stopPropagation(),h.remove(),i()}),x=>RE(g,{points:$te(x,r)})},_we=()=>{const t=ap(K6.lambda,K6.amplitude*2),r=QR(.5,t),i=QR(.5,r);return Fa("pattern",{x:"0",y:"0",id:"wave-pattern",width:`${t.x}px`,height:`${t.y}px`,patternUnits:"userSpaceOnUse"},Fa("path",{d:`M -${r.x} ${r.y} Q -${i.x} -${i.y}, 0 ${r.y} t ${r.x} 0 t ${r.x} 0`,fill:"none",stroke:"white","stroke-width":K6.lineWidth+"px"}))},Swe=()=>Fa("mask",{id:"wave-mask",x:0,y:0,width:"100%",height:"100%"},Fa("rect",{x:0,y:0,width:"100%",height:"100%",fill:"url(#wave-pattern)"})),kwe=(t,r,i)=>mE({label:"",polygon:r,pos:i,color:sne(t),selectedColor:rne(t),shape:Ys.POLYGON}),Ewe=(t,r,i)=>u=>{u.preventDefault(),i(zC(Q0(t,FC(u)),r))};xr(UC,["draw-shape",Ys.POLYGON],(t,r)=>xI(t,{name:"newPolygon"},i=>{r.preventDefault(),t.emit.selectMark(null,r);const u=Q0(t,FC(r)),g=Cwe(t.nodes.layers.foreground,u,()=>I()),h=[ap(0,0)],x=O=>Ewe(t,u,O);let C=ap(0,0);const D=[i,Sm(t.nodes.svg,"mousemove",x(O=>{g([...h,O]),C=O})),Sm(window,"mouseup",O=>h.push(C))],I=()=>{xK(D);const O=kwe(t,h,u);TK(t,O,r),SF(t,[O.key],r)}}));const Awe=t=>{const r=i=>[t.nodes.svg,t.nodes.backgroundImage].includes(i.target);Sm(t.nodes.svg,"mousedown",_F(r,i=>UC(t,i))),Sm(t.nodes.svg,["mousedown","secondary"],_F(r,i=>ine(t,i,"secondary")))},sne=t=>t.creation.color(),rne=t=>t.creation.selectedColor(),Twe=t=>t.creation.shape();xr(AK,"draw-shape",t=>[t.mode(),t.creation.shape()]);xr(AK,t=>t.mode());const ine=(t,r,i="primary")=>xI(t,{name:"moving-view"},u=>{t.nodes.app.classList.add("moving"),u8(t,r,{start:g=>g,move:(g,h)=>{const x=zC(h,g);return t.nodes.app.scrollBy(x.x,x.y),g},stop:()=>{t.nodes.app.classList.remove("moving"),u()}},i)});xr(UC,"scroll",ine);const f8=(t,r,i)=>{[].slice.call(t.nodes.layers.foreground.children).forEach(u=>u.classList.remove("active")),G2e(t.nodes.layers.foreground,t.nodes.layers.normal),r.forEach(u=>{const g=u.nodes.root;g.classList.add("active"),km(t.nodes.layers.foreground,g)}),i!==Z0&&r.forEach(u=>t.emit.selectMark(u.mark,i))},ane=(t,r,i)=>xI(t,{name:"selecting-multiple"},u=>{f8(t,r,i),u()}),lne=(t,r)=>t.groups[r]||VE(`Mark with key ${r} does not exist.`),SF=(t,r,i)=>ane(t,r.map(u=>lne(t,u)),i),TK=(t,r,i)=>{eI(!t.groups[r.key],`Duplicated key: ${r.key}`);const u=uwe(r);ywe(t,u),t.groups[r.key]=u,i!==Z0&&t.emit.createMark(r,i)},m8=(t,r)=>{const i=lne(t,r.key),u=Kte(i.mark,r);i.mark=r,K2e(["shape"],u)?(i.nodes.shape.remove(),i.nodes.shape=Qte(i.mark),tne(t,i)):cwe(i.mark,u,i)},cne=t=>RE(t.nodes.svg,{...O2e(QR(t.canvas.scale(),R2e(t.canvas.size()))),viewBox:[0,0,t.canvas.size().width,t.canvas.size().height].join(" ")}),Q0=(t,r)=>QR(1/t.canvas.scale(),zC(r,t.nodes.svg.getBoundingClientRect())),Owe=(t,r,i)=>{const u=vwe(t,(C,D)=>r(mE(C),D),(C,D)=>i(C?mE(C):null,D));Awe(u);const g=C=>TK(u,mE(C),Z0),h=C=>{u.groups[C].nodes.root.remove(),$2e(u.groups,C)},x=C=>{u.canvas.scale(C),cne(u)};return{showPage:(C,D)=>{mwe(u,C),km(u.nodes.layers.background,u.nodes.backgroundImage),u.canvas.scale(1),Object.values(u.groups).forEach(I=>h(I.mark.key)),D.forEach(g)},addMark:g,removeMark:h,selectMark:C=>SF(u,[C],Z0),selectMarks:C=>SF(u,C,Z0),updateMark:C=>m8(u,mE(C)),setDefaultColor:C=>u.creation.color(C),setDefaultSelectedColor:C=>u.creation.selectedColor(C),setDefaultShape:C=>u.creation.shape(C),setZoomLevel:x,fitToPage:()=>{if(u.canvas.size()){const C=M2e(u.canvas.size(),u.nodes.app.getBoundingClientRect());x(C.width/u.canvas.size().width)}},drawMode:()=>u.mode("draw-shape"),scrollMode:()=>u.mode("scroll")}},Rwe={id:"app-essay-image-wrapper"},Iwe={class:"appImageButtons"},Dwe={class:"appImageBottomNav"},Pwe={__name:"EssayImage",setup(t){Te.api();const r=Te.comments(),i=Te.summaries(),u=Te.pages();Te.layout();const g=Te.preferences(),h=Ln(),x=Ln("scroll"),C=Ln(!1),D=Ln(0),I=Ln(!0);let O,B="",V=[];Wu(()=>{O=Owe(h.value,z,Z),O.setDefaultColor("#3365ffaa"),O.setDefaultSelectedColor("#3365ffaa"),rt(),ee(u.minPage)});async function z(_e){if(_e&&!i.isOwnDisabled){const R=new wm(_e);switch(x.value){case"check":R.symbol=wm.SYMBOL_CHECK;break;case"cross":R.symbol=wm.SYMBOL_CROSS;break;case"question":R.symbol=wm.SYMBOL_QUESTION;break}if(V.push(_e.key),!r.getCommentByMarkKey(_e.key)){const it=r.selectedComment;if(it&&it.parent_number==u.selectedPageNo)it.addMarkData(R),await r.updateComment(it,!0);else{const St=new OC({parent_number:u.selectedPageNo,marks:[R]});await r.addComment(St)}}}}function Z(_e,R){if(_e){let it=r.getCommentByMarkKey(_e.key);if(it){r.selectComment(it.key);const St=it.getData();if(it.correction_key==Te.corrections().ownKey&&!i.isOwnDisabled){_e.symbol=_e.symbol==""?null:_e.symbol,it.updateMarkData(_e);const Ut=it.getData();JSON.stringify(St)!=JSON.stringify(Ut)&&r.updateComment(it,!0)}else{const Ut=it.getMarkByKey(_e.key);if(Ut){const sn={...Ut.getData(),label:I.value?it.label:"",color:it.getMarkColor(Ut),selectedColor:it.getMarkSelectedColor(Ut),locked:it.correction_key!=Te.corrections().ownKey||i.isOwnDisabled};O.updateMark(sn)}}}}else{const it=r.selectedComment;R&&R.shiftKey&&it&&it.parent_number==u.selectedPageNo||r.selectComment("")}}function ee(_e){if(u.selectByPageNo(_e)){const R=u.getPageByPageNo(_e);if(R){R.url?(O.showPage(R.url,[]),B=R.url):(O.showPage("",[]),B="");try{O.setZoomLevel(g.essay_page_zoom)}catch{}document.querySelector(".long-essay-image-marker").scrollTop=0,V=[],he(),D.value=_e}}}function ie(){const _e=u.selectedPage;_e&&_e.url!=B&&ee(_e.page_no)}Rn(()=>u.loadedImages,ie);function W(){const _e=r.getComment(r.selectedKey);_e&&_e.parent_number!=u.selectedPageNo&&ee(_e.parent_number),he()}Rn(()=>r.selectionChange,W);function he(){let _e=[];for(const R of r.activeComments)if(R.parent_number==u.selectedPageNo){let it=[];for(const St of R.marks){const Ut={...St.getData(),label:I.value?R.label:"",color:R.getMarkColor(St),selectedColor:R.getMarkSelectedColor(St),locked:R.correction_key!=Te.corrections().ownKey||i.isOwnDisabled};V.includes(St.key)?O.updateMark(Ut):O.addMark(Ut),_e.push(St.key),it.push(St.key)}R.key==r.selectedKey&&O.selectMarks(it)}for(const R of V)_e.includes(R)||O.removeMark(R);V=_e}Rn(()=>r.markerChange,he),Rn(()=>r.filterChange,he);function ue(){let _e=r.getActiveCommentsByParentNumber(u.selectedPageNo);if(_e.length){let R=_e.shift();r.setFirstVisibleComment(R.key)}}Rn(()=>u.selectedKey,ue);function j(){u.selectedPageNo>u.minPage&&ee(u.selectedPageNo-1)}function de(){u.selectedPageNo<u.maxPage&&ee(u.selectedPageNo+1)}function te(_e){C.value=!1,ee(_e)}async function ze(){C.value&&(await Qo(),await new Promise(R=>setTimeout(R,250)),document.getElementById("app-pages-menu-input").select())}function Fe(){g.zoomEssayPageIn(),O.setZoomLevel(g.essay_page_zoom)}function Je(){g.zoomEssayPageOut(),O.setZoomLevel(g.essay_page_zoom)}function rt(){switch(i.isOwnDisabled&&(x.value="scroll"),x.value){case"scroll":O.scrollMode();break;case"rectangle":O.drawMode(),O.setDefaultShape(Ys.RECTANGLE);break;case"line":O.drawMode(),O.setDefaultShape(Ys.LINE);break;case"wave":O.drawMode(),O.setDefaultShape(Ys.WAVE);break;case"polygon":O.drawMode(),O.setDefaultShape(Ys.POLYGON);break;case"circle":case"check":case"cross":case"question":O.drawMode(),O.setDefaultShape(Ys.CIRCLE);break}}function we(){I.value==1?I.value=0:I.value=1,he()}return(_e,R)=>(Cn(),Lo("div",Rwe,[oe("div",Iwe,[ce(W0,{density:"comfortable",variant:"outlined",divided:""},{default:Pt(()=>[ce(ko,{size:"small",title:_e.$t("essayImageZoomOut"),icon:"mdi-magnify-minus-outline",onClick:R[0]||(R[0]=it=>Je())},null,8,["title"]),ce(ko,{size:"small",title:_e.$t("essayImageZoomIn"),icon:"mdi-magnify-plus-outline",onClick:R[1]||(R[1]=it=>Fe())},null,8,["title"])]),_:1}),R[13]||(R[13]=qs("  ")),ce(L0e,{density:"comfortable",variant:"outlined",divided:"",modelValue:x.value,"onUpdate:modelValue":R[2]||(R[2]=it=>x.value=it),onClick:R[3]||(R[3]=it=>rt())},{default:Pt(()=>[ce(ko,{size:"small",icon:"mdi-cursor-move",value:"scroll"}),ce(ko,{disabled:re(i).isOwnDisabled,size:"small",icon:"mdi-minus",value:"line"},null,8,["disabled"]),ce(ko,{disabled:re(i).isOwnDisabled,size:"small",icon:"mdi-wave",value:"wave"},null,8,["disabled"]),ce(ko,{disabled:re(i).isOwnDisabled,size:"small",icon:"mdi-check",value:"check"},null,8,["disabled"]),ce(ko,{disabled:re(i).isOwnDisabled,size:"small",icon:"mdi-close",value:"cross"},null,8,["disabled"]),ce(ko,{disabled:re(i).isOwnDisabled,size:"small",icon:"mdi-help",value:"question"},null,8,["disabled"]),ce(ko,{disabled:re(i).isOwnDisabled,size:"small",icon:"mdi-rectangle-outline",value:"rectangle"},null,8,["disabled"]),ce(ko,{disabled:re(i).isOwnDisabled,size:"small",icon:"mdi-vector-triangle",value:"polygon"},null,8,["disabled"])]),_:1},8,["modelValue"]),R[14]||(R[14]=qs("  ")),ce(W0,{density:"comfortable",variant:"outlined",divided:""},{default:Pt(()=>[ce(ko,{size:"small",active:I.value,icon:"mdi-label-outline",onClick:R[4]||(R[4]=it=>we())},null,8,["active"])]),_:1}),R[15]||(R[15]=qs("  ")),ce(W0,{density:"comfortable",variant:"outlined",divided:""},{default:Pt(()=>[ce(ko,{size:"small",icon:"mdi-menu-left",onClick:R[5]||(R[5]=it=>j())}),ce(ko,{size:"small",id:"app-pages-menu-activator"},{default:Pt(()=>[qs(We(re(u).selectedPageNo),1)]),_:1}),ce(ko,{size:"small",icon:"mdi-menu-right",onClick:R[6]||(R[6]=it=>de())})]),_:1}),ce(vI,{activator:"#app-pages-menu-activator",modelValue:C.value,"onUpdate:modelValue":[R[9]||(R[9]=it=>C.value=it),R[10]||(R[10]=it=>ze())],"close-on-content-click":!1},{default:Pt(()=>[ce(bI,null,{default:Pt(()=>[ce(_c,null,{default:Pt(()=>[ce(qR,{id:"app-pages-menu-input",modelValue:D.value,"onUpdate:modelValue":R[7]||(R[7]=it=>D.value=it),density:"compact",variant:"solo",label:"Number","single-line":"","hide-details":"","prepend-inner-icon":"mdi-magnify",onChange:R[8]||(R[8]=it=>te(D.value))},null,8,["modelValue"])]),_:1}),(Cn(!0),Lo(is,null,Y0(re(u).currentPages,it=>(Cn(),Rs(_c,{onClick:St=>te(it.page_no),title:it.page_no,key:it.key},{default:Pt(()=>[Bn(ce(pI,{src:it.thumb_url,width:"100"},null,8,["src"]),[[fo,it.thumb_url!==null]])]),_:2},1032,["onClick","title"]))),128))]),_:1})]),_:1},8,["modelValue"])]),oe("div",{class:"appImageMarker",ref_key:"markerNode",ref:h},null,512),oe("div",Dwe,[ce(W0,{variant:"outlined",divided:""},{default:Pt(()=>[ce(ko,{disabled:re(u).selectedPageNo<=re(u).minPage,size:"small",icon:"mdi-menu-left",onClick:R[11]||(R[11]=it=>j())},null,8,["disabled"]),ce(ko,{disabled:re(u).selectedPageNo>=re(u).maxPage,size:"small",icon:"mdi-menu-right",onClick:R[12]||(R[12]=it=>de())},null,8,["disabled"])]),_:1})])]))}},Nwe=tl(Pwe,[["__scopeId","data-v-57fa73e8"]]),Lwe={class:"text-right"},Mwe={class:"sr-only"},Bwe={"aria-hidden":"true"},Fwe={class:"text-right"},$we={class:"sr-only"},Vwe={"aria-hidden":"true"},zwe={class:"text-right"},Hwe={class:"text-right"},Uwe={class:"sr-only"},Wwe={"aria-hidden":"true"},Kwe={class:"text-right"},jwe={class:"text-right"},Zwe={class:"sr-only"},Gwe={"aria-hidden":"true"},qwe={class:"text-right"},Ywe={class:"text-right"},Xwe={class:"generalCriterion"},Jwe={class:"text-right"},Qwe={__name:"SummaryCriteria",props:["correction_key"],setup(t){const r=Te.api(),i=Te.criteria(),u=Te.comments(),g=Te.points(),h=Te.layout(),x=Te.settings(),C=t;Rn(()=>C,O),Rn(()=>r.itemKey,O);const D=Kl({}),I=Kl({});async function O(){await Qo(),i.getCorrectionCommentCriteria(C.correction_key).forEach(Z=>{I[Z.key]={key:Z.key,title:Z.title,max_points:Z.points,sum_points:0}}),i.getCorrectionGeneralCriteria(C.correction_key).forEach(Z=>{D[Z.key]={key:Z.key,title:Z.title,max_points:Z.points,sum_points:0}}),g.getObjectsForCorrection(C.correction_key).forEach(Z=>{I[Z.criterion_key]!==void 0&&(I[Z.criterion_key].sum_points+=Z.points),D[Z.criterion_key]!==void 0&&(D[Z.criterion_key].sum_points+=Z.points)})}i.getCorrectionHasCriteria(C.correction_key)&&O();async function B(Z,ee){u.setFilterByRating(C.correction_key,Z,ee),!C.correction_key==Te.corrections().ownKey&&u.setShowOtherCorrections(!0),await Qo(),h.showEssay(),h.showMarking()}async function V(){u.setFilterByPoints(C.correction_key),!C.correction_key==Te.corrections().ownKey&&u.setShowOtherCorrections(!0),await Qo(),h.showEssay(),h.showMarking()}async function z(Z){u.setFilterByCriterion(C.correction_key,Z),!C.correction_key==Te.corrections().ownKey&&u.setShowOtherCorrections(!0),await Qo(),h.showEssay(),h.showMarking()}return(Z,ee)=>(Cn(),Lo("div",null,[ce(np,{class:"table",density:"compact"},{default:Pt(()=>[oe("thead",null,[oe("tr",null,[oe("th",null,We(Z.$t("summaryCriteriaMarkings")),1),oe("th",Lwe,We(Z.$t("summaryCriteriaNumber")),1)])]),oe("tbody",null,[oe("tr",null,[oe("td",null,[ce(ko,{density:"compact",size:"small",variant:"text","prepend-icon":"mdi-filter-outline",disabled:re(u).getCountOfExcellent(C.correction_key)==0,onClick:ee[0]||(ee[0]=ie=>B(!0,!1))},{default:Pt(()=>[oe("span",Mwe,We(re(x).Task.positive_rating),1)]),_:1},8,["disabled"]),oe("span",Bwe,We(re(x).Task.positive_rating),1)]),oe("td",Fwe,We(re(u).getCountOfExcellent(C.correction_key)),1)]),oe("tr",null,[oe("td",null,[ce(ko,{density:"compact",size:"small",variant:"text","prepend-icon":"mdi-filter-outline",disabled:re(u).getCountOfCardinal(C.correction_key)==0,onClick:ee[1]||(ee[1]=ie=>B(!1,!0))},{default:Pt(()=>[oe("span",$we,We(re(x).Task.negative_rating),1)]),_:1},8,["disabled"]),oe("span",Vwe,We(re(x).Task.negative_rating),1)]),oe("td",zwe,We(re(u).getCountOfCardinal(C.correction_key)),1)])])]),_:1}),re(i).getCorrectionHasCommentCriteria(C.correction_key)?Ho("",!0):(Cn(),Rs(np,{key:0,class:"table",density:"compact"},{default:Pt(()=>[oe("thead",null,[oe("tr",null,[oe("th",null,[oe("strong",null,We(Z.$t("summaryCriteriaRating")),1)]),oe("th",Hwe,We(Z.$t("allPoints")),1)])]),oe("tbody",null,[oe("tr",null,[oe("td",null,[ce(ko,{density:"compact",size:"small",variant:"text","prepend-icon":"mdi-filter-outline",disabled:re(g).getSumOfPointsForCorrection(C.correction_key,!0,!1)==0,onClick:ee[2]||(ee[2]=ie=>V())},{default:Pt(()=>[oe("span",Uwe,We(Z.$t("summaryCriteriaPointsInComments")),1)]),_:1},8,["disabled"]),oe("span",Wwe,We(Z.$t("summaryCriteriaPointsInComments")),1)]),oe("td",Kwe,We(re(g).getSumOfPointsForCorrection(C.correction_key,!0,!1)),1)])])]),_:1})),re(i).getCorrectionHasCommentCriteria(C.correction_key)?(Cn(),Rs(np,{key:1,class:"table",density:"compact"},{default:Pt(()=>[oe("thead",null,[oe("tr",null,[oe("th",null,We(Z.$t("summaryCriteriaInComments")),1),oe("th",jwe,We(Z.$t("summaryCriteriaPointsOfMax")),1)])]),oe("tbody",null,[(Cn(!0),Lo(is,null,Y0(I,ie=>(Cn(),Lo("tr",{key:ie.key},[oe("td",null,[ce(ko,{density:"compact",size:"small",variant:"text","prepend-icon":"mdi-filter-outline",disabled:ie.sum_points==0,onClick:W=>z(ie.key)},{default:Pt(()=>[oe("span",Zwe,We(ie.title),1)]),_:2},1032,["disabled","onClick"]),oe("span",Gwe,We(ie.title),1)]),oe("td",qwe,We(ie.sum_points)+" / "+We(ie.max_points),1)]))),128))])]),_:1})):Ho("",!0),re(i).getCorrectionHasGeneralCriteria(C.correction_key)?(Cn(),Rs(np,{key:2,class:"table",density:"compact"},{default:Pt(()=>[oe("thead",null,[oe("tr",null,[oe("th",null,We(Z.$t("summaryCriteriaGeneralCriteria")),1),oe("th",Ywe,We(Z.$t("summaryCriteriaPointsOfMax")),1)])]),oe("tbody",null,[(Cn(!0),Lo(is,null,Y0(D,ie=>(Cn(),Lo("tr",{key:ie.key},[oe("td",null,[oe("span",Xwe,We(ie.title),1)]),oe("td",Jwe,We(ie.sum_points)+" / "+We(ie.max_points),1)]))),128))])]),_:1})):Ho("",!0)]))}},eCe=tl(Qwe,[["__scopeId","data-v-a9bd87c2"]]),tCe=["innerHTML"],nCe={__name:"SummaryText",props:["correction_key"],setup(t){const r=Te.summaries(),i=t;function u(){let g=r.getForCorrection(i.correction_key);if(g)return g.text}return(g,h)=>(Cn(),Lo("div",{class:"app-summary-text-wrapper long-essay-content headlines-three",innerHTML:u()},null,8,tCe))}},oCe=tl(nCe,[["__scopeId","data-v-cb04f004"]]),sCe={id:"app-summary-points-wrapper"},rCe={__name:"SummaryPoints",props:["correction_key"],setup(t){Te.settings();const r=Te.levels(),i=Te.summaries(),u=t,g=Ln(0),h=Ln(""),x=Ln("");function C(){const D=i.getForCorrection(u.correction_key);if(D){g.value=D.points;const I=r.getLevel(D.grade_key);I&&(h.value=I.title,x.value=I.statement)}}return Rn(()=>u.correction_key,C),C(),(D,I)=>(Cn(),Lo("div",sCe,[oe("strong",null,We(D.$t("summaryPointsRating")),1),qs(" "+We(g.value)+" "+We(D.$t("allPoints",g.value))+" ",1),oe("strong",null,We(D.$t("allGrade")),1),qs(" "+We(h.value)+" ",1),oe("p",null,We(x.value),1)]))}},iCe=tl(rCe,[["__scopeId","data-v-d3927868"]]),aCe={id:"app-summary-revision-wrapper"},lCe=["innerHTML"],cCe={class:"app-summary-points"},uCe={__name:"SummaryRevision",props:["correction_key"],setup(t){Te.settings();const r=Te.levels(),i=Te.summaries(),u=t,g=Ln(""),h=Ln(0),x=Ln(""),C=Ln("");function D(){const I=i.getForCorrection(u.correction_key);if(I){g.value=I.revision_text,h.value=I.revision_points;const O=r.getLevel(I.grade_key);O&&(x.value=O.title,C.value=O.statement)}}return Rn(()=>u.correction_key,D),D(),(I,O)=>(Cn(),Lo("div",aCe,[oe("div",{class:"app-summary-text-display long-essay-content headlines-three",innerHTML:g.value},null,8,lCe),oe("div",cCe,[oe("p",null,[oe("strong",null,We(I.$t("summaryRevisionRating")),1),qs(" "+We(h.value)+" "+We(I.$t("allPoints",h.value))+" ",1),oe("strong",null,We(I.$t("allGrade")),1),qs(" "+We(x.value),1)]),oe("p",null,We(C.value),1)])]))}},dCe=tl(uCe,[["__scopeId","data-v-072c5c14"]]),fCe={id:"app-own-summary-points-wrapper"},mCe={for:"appOwnSummaryPoints"},gCe=["disabled","min","max"],hCe={__name:"OwnSummaryPoints",setup(t){Te.api();const r=Te.items(),i=Te.summaries();return Te.settings(),Te.layout(),(u,g)=>(Cn(),Lo("div",fCe,[ce(CF,null,{default:Pt(()=>[ce(kC,{dense:""},{default:Pt(()=>[ce(Qc,{cols:"10"},{default:Pt(()=>[oe("p",null,[ce(Ste,{class:"sumOfPoints",correction_key:re(Te).corrections().ownKey},null,8,["correction_key"])]),oe("label",mCe,[oe("strong",null,We(u.$t("ownSummaryPointsRating")),1)]),g[2]||(g[2]=qs("  ")),Bn(oe("input",{disabled:re(i).isOwnDisabled,id:"appOwnSummaryPoints",class:"appPoints",type:"number",min:re(i).pointsCorridor.min,max:re(i).pointsCorridor.max,"onUpdate:modelValue":g[0]||(g[0]=h=>re(i).editSummary.points=h)},null,8,gCe),[[MC,re(i).editSummary.points]]),qs(" "+We(u.$t("allPoints",re(i).editSummary.points))+"  ",1),oe("strong",null,We(u.$t("allGrade")),1),qs(" "+We(re(i).currentGradeTitle)+" ",1),oe("p",null,We(re(i).currentGradeStatement),1)]),_:1,__:[2]}),ce(Qc,{cols:"2"},{default:Pt(()=>[Bn(ce(ko,{density:"compact",variant:"text",disabled:!re(r).canAuthorize,onClick:g[1]||(g[1]=h=>{re(Te).layout().showAuthorization=!0})},{default:Pt(()=>[ce(Kn,{left:"",icon:"mdi-file-certificate-outline"}),oe("span",null,We(u.$t("allAuthorize")),1)]),_:1},8,["disabled"]),[[fo,!re(i).isOwnDisabled]])]),_:1})]),_:1})]),_:1})]))}},pCe=tl(hCe,[["__scopeId","data-v-788fa8f1"]]);var bU={exports:{}},cX;function bCe(){return cX||(cX=1,function(t){(function(){var r=function(e){if(e===null)return"null";if(e===void 0)return"undefined";var n=typeof e;return n==="object"&&(Array.prototype.isPrototypeOf(e)||e.constructor&&e.constructor.name==="Array")?"array":n==="object"&&(String.prototype.isPrototypeOf(e)||e.constructor&&e.constructor.name==="String")?"string":n},i=function(e){return["undefined","boolean","number","string","function","xml","null"].indexOf(e)!==-1},u=function(e,n){var o=Array.prototype.slice.call(e);return o.sort(n)},g=function(e,n){return h(function(o,a){return e.eq(n(o),n(a))})},h=function(e){return{eq:e}},x=h(function(e,n){return e===n}),C=x,D=function(e){return h(function(n,o){if(n.length!==o.length)return!1;for(var a=n.length,c=0;c<a;c++)if(!e.eq(n[c],o[c]))return!1;return!0})},I=function(e,n){return g(D(e),function(o){return u(o,n)})},O=function(e){return h(function(n,o){var a=Object.keys(n),c=Object.keys(o);if(!I(C).eq(a,c))return!1;for(var m=a.length,p=0;p<m;p++){var _=a[p];if(!e.eq(n[_],o[_]))return!1}return!0})},B=h(function(e,n){if(e===n)return!0;var o=r(e),a=r(n);return o!==a?!1:i(o)?e===n:o==="array"?D(B).eq(e,n):o==="object"?O(B).eq(e,n):!1});const V=Object.getPrototypeOf,z=(e,n,o)=>{var a;return o(e,n.prototype)?!0:((a=e.constructor)===null||a===void 0?void 0:a.name)===n.name},Z=e=>{const n=typeof e;return e===null?"null":n==="object"&&Array.isArray(e)?"array":n==="object"&&z(e,String,(o,a)=>a.isPrototypeOf(o))?"string":n},ee=e=>n=>Z(n)===e,ie=e=>n=>typeof n===e,W=e=>n=>e===n,he=(e,n)=>j(e)&&z(e,n,(o,a)=>V(o)===a),ue=ee("string"),j=ee("object"),de=e=>he(e,Object),te=ee("array"),ze=W(null),Fe=ie("boolean"),Je=W(void 0),rt=e=>e==null,we=e=>!rt(e),_e=ie("function"),R=ie("number"),it=(e,n)=>{if(te(e)){for(let o=0,a=e.length;o<a;++o)if(!n(e[o]))return!1;return!0}return!1},St=()=>{},Ut=(e,n)=>(...o)=>e(n.apply(null,o)),sn=(e,n)=>o=>e(n(o)),dt=e=>()=>e,An=e=>e,At=(e,n)=>e===n;function et(e,...n){return(...o)=>{const a=n.concat(o);return e.apply(null,a)}}const Me=e=>n=>!e(n),mt=e=>()=>{throw new Error(e)},vo=e=>e(),Wt=e=>{e()},In=dt(!1),on=dt(!0);class J{constructor(n,o){this.tag=n,this.value=o}static some(n){return new J(!0,n)}static none(){return J.singletonNone}fold(n,o){return this.tag?o(this.value):n()}isSome(){return this.tag}isNone(){return!this.tag}map(n){return this.tag?J.some(n(this.value)):J.none()}bind(n){return this.tag?n(this.value):J.none()}exists(n){return this.tag&&n(this.value)}forall(n){return!this.tag||n(this.value)}filter(n){return!this.tag||n(this.value)?this:J.none()}getOr(n){return this.tag?this.value:n}or(n){return this.tag?this:n}getOrThunk(n){return this.tag?this.value:n()}orThunk(n){return this.tag?this:n()}getOrDie(n){if(this.tag)return this.value;throw new Error(n??"Called getOrDie on None")}static from(n){return we(n)?J.some(n):J.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(n){this.tag&&n(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}J.singletonNone=new J(!1);const mo=Array.prototype.slice,Zt=Array.prototype.indexOf,vn=Array.prototype.push,je=(e,n)=>Zt.call(e,n),tt=(e,n)=>{const o=je(e,n);return o===-1?J.none():J.some(o)},xe=(e,n)=>je(e,n)>-1,Re=(e,n)=>{for(let o=0,a=e.length;o<a;o++){const c=e[o];if(n(c,o))return!0}return!1},Ve=(e,n)=>{const o=e.length,a=new Array(o);for(let c=0;c<o;c++){const m=e[c];a[c]=n(m,c)}return a},be=(e,n)=>{for(let o=0,a=e.length;o<a;o++){const c=e[o];n(c,o)}},Se=(e,n)=>{for(let o=e.length-1;o>=0;o--){const a=e[o];n(a,o)}},Ne=(e,n)=>{const o=[],a=[];for(let c=0,m=e.length;c<m;c++){const p=e[c];(n(p,c)?o:a).push(p)}return{pass:o,fail:a}},Ge=(e,n)=>{const o=[];for(let a=0,c=e.length;a<c;a++){const m=e[a];n(m,a)&&o.push(m)}return o},ht=(e,n,o)=>(Se(e,(a,c)=>{o=n(o,a,c)}),o),ln=(e,n,o)=>(be(e,(a,c)=>{o=n(o,a,c)}),o),Kt=(e,n,o)=>{for(let a=0,c=e.length;a<c;a++){const m=e[a];if(n(m,a))return J.some(m);if(o(m,a))break}return J.none()},yn=(e,n)=>Kt(e,n,In),Yn=(e,n)=>{for(let o=0,a=e.length;o<a;o++){const c=e[o];if(n(c,o))return J.some(o)}return J.none()},to=e=>{const n=[];for(let o=0,a=e.length;o<a;++o){if(!te(e[o]))throw new Error("Arr.flatten item "+o+" was not an array, input: "+e);vn.apply(n,e[o])}return n},$o=(e,n)=>to(Ve(e,n)),Do=(e,n)=>{for(let o=0,a=e.length;o<a;++o){const c=e[o];if(n(c,o)!==!0)return!1}return!0},Zs=e=>{const n=mo.call(e,0);return n.reverse(),n},us=(e,n)=>Ge(e,o=>!xe(n,o)),Qr=(e,n)=>{const o={};for(let a=0,c=e.length;a<c;a++){const m=e[a];o[String(m)]=n(m,a)}return o},xs=(e,n)=>{const o=mo.call(e,0);return o.sort(n),o},ji=(e,n)=>n>=0&&n<e.length?J.some(e[n]):J.none(),Tn=e=>ji(e,0),go=e=>ji(e,e.length-1),Ro=_e(Array.from)?Array.from:e=>mo.call(e),ai=(e,n)=>{for(let o=0;o<e.length;o++){const a=n(e[o],o);if(a.isSome())return a}return J.none()},nl=(e,n)=>{const o=[],a=_e(n)?c=>Re(o,m=>n(m,c)):c=>xe(o,c);for(let c=0,m=e.length;c<m;c++){const p=e[c];a(p)||o.push(p)}return o},Jt=Object.keys,pi=Object.hasOwnProperty,ds=(e,n)=>{const o=Jt(e);for(let a=0,c=o.length;a<c;a++){const m=o[a],p=e[m];n(p,m)}},jl=(e,n)=>Ws(e,(o,a)=>({k:a,v:n(o,a)})),Ws=(e,n)=>{const o={};return ds(e,(a,c)=>{const m=n(a,c);o[m.k]=m.v}),o},ei=e=>(n,o)=>{e[o]=n},Rm=(e,n,o,a)=>{ds(e,(c,m)=>{(n(c,m)?o:a)(c,m)})},ju=(e,n)=>{const o={},a={};return Rm(e,n,ei(o),ei(a)),{t:o,f:a}},Ac=(e,n)=>{const o={};return Rm(e,n,ei(o),St),o},wl=(e,n)=>{const o=[];return ds(e,(a,c)=>{o.push(n(a,c))}),o},Zu=e=>wl(e,An),Ds=(e,n)=>ho(e,n)?J.from(e[n]):J.none(),ho=(e,n)=>pi.call(e,n),Zl=(e,n)=>ho(e,n)&&e[n]!==void 0&&e[n]!==null,Ii=(e,n,o=B)=>O(o).eq(e,n),Gu=e=>{const n={};return be(e,o=>{n[o]={}}),Jt(n)},fn=e=>e.length!==void 0,qu=Array.isArray,Im=e=>{if(qu(e))return e;{const n=[];for(let o=0,a=e.length;o<a;o++)n[o]=e[o];return n}},hr=(e,n,o)=>{if(!e)return!1;if(o=o||e,fn(e)){for(let a=0,c=e.length;a<c;a++)if(n.call(o,e[a],a,e)===!1)return!1}else for(const a in e)if(ho(e,a)&&n.call(o,e[a],a,e)===!1)return!1;return!0},Dm=(e,n)=>{const o=[];return hr(e,(a,c)=>{o.push(n(a,c,e))}),o},ol=(e,n)=>{const o=[];return hr(e,(a,c)=>{(!n||n(a,c,e))&&o.push(a)}),o},Fl=(e,n)=>{if(e){for(let o=0,a=e.length;o<a;o++)if(e[o]===n)return o}return-1},Cl=(e,n,o,a)=>{let c=Je(o)?e[0]:o;for(let m=0;m<e.length;m++)c=n.call(a,c,e[m],m);return c},lr=(e,n,o)=>{for(let a=0,c=e.length;a<c;a++)if(n.call(o,e[a],a,e))return a;return-1},Aa=e=>e[e.length-1],$l=e=>{let n=!1,o;return(...a)=>(n||(n=!0,o=e.apply(null,a)),o)},Pm=(e,n,o,a)=>{const c=e.isiOS()&&/ipad/i.test(o)===!0,m=e.isiOS()&&!c,p=e.isiOS()||e.isAndroid(),_=p||a("(pointer:coarse)"),A=c||!m&&p&&a("(min-device-width:768px)"),$=m||p&&!A,q=n.isSafari()&&e.isiOS()&&/safari/i.test(o)===!1,X=!$&&!A&&!q;return{isiPad:dt(c),isiPhone:dt(m),isTablet:dt(A),isPhone:dt($),isTouch:dt(_),isAndroid:e.isAndroid,isiOS:e.isiOS,isWebView:dt(q),isDesktop:dt(X)}},nu=(e,n)=>{for(let o=0;o<e.length;o++){const a=e[o];if(a.test(n))return a}},ou=(e,n)=>{const o=nu(e,n);if(!o)return{major:0,minor:0};const a=c=>Number(n.replace(o,"$"+c));return fs(a(1),a(2))},Sf=(e,n)=>{const o=String(n).toLowerCase();return e.length===0?Fd():ou(e,o)},Fd=()=>fs(0,0),fs=(e,n)=>({major:e,minor:n}),Nr={nu:fs,detect:Sf,unknown:Fd},li=(e,n)=>ai(n.brands,o=>{const a=o.brand.toLowerCase();return yn(e,c=>{var m;return a===((m=c.brand)===null||m===void 0?void 0:m.toLowerCase())}).map(c=>({current:c.name,version:Nr.nu(parseInt(o.version,10),0)}))}),Nm=(e,n)=>{const o=String(n).toLowerCase();return yn(e,a=>a.search(o))},sl=(e,n)=>Nm(e,n).map(o=>{const a=Nr.detect(o.versionRegexes,n);return{current:o.name,version:a}}),su=(e,n)=>Nm(e,n).map(o=>{const a=Nr.detect(o.versionRegexes,n);return{current:o.name,version:a}}),Ta=(e,n)=>e.substring(n),Oa=(e,n,o)=>n===""||e.length>=n.length&&e.substr(o,o+n.length)===n,ru=(e,n)=>cr(e,n)?Ta(e,n.length):e,Ms=(e,n,o=0,a)=>{const c=e.indexOf(n,o);return c!==-1?Je(a)?!0:c+n.length<=a:!1},cr=(e,n)=>Oa(e,n,0),De=(e,n)=>Oa(e,n,e.length-n.length),at=e=>n=>n.replace(e,""),He=at(/^\s+|\s+$/g),yt=at(/^\s+/g),pt=at(/\s+$/g),ot=e=>e.length>0,Yt=e=>!ot(e),cn=(e,n)=>n<=0?"":new Array(n+1).join(e),hn=(e,n=10)=>{const o=parseInt(e,n);return isNaN(o)?J.none():J.some(o)},Sn=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,mn=e=>n=>Ms(n,e),So=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:e=>Ms(e,"edge/")&&Ms(e,"chrome")&&Ms(e,"safari")&&Ms(e,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,Sn],search:e=>Ms(e,"chrome")&&!Ms(e,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:e=>Ms(e,"msie")||Ms(e,"trident")},{name:"Opera",versionRegexes:[Sn,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:mn("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:mn("firefox")},{name:"Safari",versionRegexes:[Sn,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:e=>(Ms(e,"safari")||Ms(e,"mobile/"))&&Ms(e,"applewebkit")}],dn=[{name:"Windows",search:mn("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:e=>Ms(e,"iphone")||Ms(e,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:mn("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:mn("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:mn("linux"),versionRegexes:[]},{name:"Solaris",search:mn("sunos"),versionRegexes:[]},{name:"FreeBSD",search:mn("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:mn("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],As={browsers:dt(So),oses:dt(dn)},Zo="Edge",es="Chromium",Lr="IE",Po="Opera",Gl="Firefox",Ra="Safari",yo=()=>rl({current:void 0,version:Nr.unknown()}),rl=e=>{const n=e.current,o=e.version,a=c=>()=>n===c;return{current:n,version:o,isEdge:a(Zo),isChromium:a(es),isIE:a(Lr),isOpera:a(Po),isFirefox:a(Gl),isSafari:a(Ra)}},_l={unknown:yo,nu:rl},Er="Windows",kf="iOS",ti="Android",Lm="Linux",ql="macOS",ks="Solaris",$d="FreeBSD",Yg="ChromeOS",gp=()=>Ar({current:void 0,version:Nr.unknown()}),Ar=e=>{const n=e.current,o=e.version,a=c=>()=>n===c;return{current:n,version:o,isWindows:a(Er),isiOS:a(kf),isAndroid:a(ti),isMacOS:a(ql),isLinux:a(Lm),isSolaris:a(ks),isFreeBSD:a($d),isChromeOS:a(Yg)}},Tc={unknown:gp,nu:Ar},tr={detect:(e,n,o)=>{const a=As.browsers(),c=As.oses(),m=n.bind(A=>li(a,A)).orThunk(()=>sl(a,e)).fold(_l.unknown,_l.nu),p=su(c,e).fold(Tc.unknown,Tc.nu),_=Pm(p,m,e,o);return{browser:m,os:p,deviceType:_}}},Mm=e=>window.matchMedia(e).matches;let Vl=$l(()=>tr.detect(window.navigator.userAgent,J.from(window.navigator.userAgentData),Mm));const la=()=>Vl(),Xg=window.navigator.userAgent,Di=la(),il=Di.browser,ca=Di.os,zl=Di.deviceType,hp=Xg.indexOf("Windows Phone")!==-1,Uo={transparentSrc:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",documentMode:il.isIE()?document.documentMode||7:10,cacheSuffix:null,container:null,canHaveCSP:!il.isIE(),windowsPhone:hp,browser:{current:il.current,version:il.version,isChromium:il.isChromium,isEdge:il.isEdge,isFirefox:il.isFirefox,isIE:il.isIE,isOpera:il.isOpera,isSafari:il.isSafari},os:{current:ca.current,version:ca.version,isAndroid:ca.isAndroid,isChromeOS:ca.isChromeOS,isFreeBSD:ca.isFreeBSD,isiOS:ca.isiOS,isLinux:ca.isLinux,isMacOS:ca.isMacOS,isSolaris:ca.isSolaris,isWindows:ca.isWindows},deviceType:{isDesktop:zl.isDesktop,isiPad:zl.isiPad,isiPhone:zl.isiPhone,isPhone:zl.isPhone,isTablet:zl.isTablet,isTouch:zl.isTouch,isWebView:zl.isWebView}},iu=/^\s*|\s*$/g,Vd=e=>rt(e)?"":(""+e).replace(iu,""),Yu=(e,n)=>n?n==="array"&&qu(e)?!0:typeof e===n:e!==void 0,Kb=(e,n,o={})=>{const a=ue(e)?e.split(n||","):e||[];let c=a.length;for(;c--;)o[a[c]]={};return o},_x=ho,l1=(e,...n)=>{for(let o=0;o<n.length;o++){const a=n[o];for(const c in a)if(ho(a,c)){const m=a[c];m!==void 0&&(e[c]=m)}}return e},c1=function(e,n,o,a){a=a||this,e&&(o&&(e=e[o]),hr(e,(c,m)=>n.call(a,c,m,o)===!1?!1:(c1(c,n,o,a),!0)))},nn={trim:Vd,isArray:qu,is:Yu,toArray:Im,makeMap:Kb,each:hr,map:Dm,grep:ol,inArray:Fl,hasOwn:_x,extend:l1,walk:c1,resolve:(e,n=window)=>{const o=e.split(".");for(let a=0,c=o.length;a<c&&(n=n[o[a]],!!n);a++);return n},explode:(e,n)=>te(e)?e:e===""?[]:Dm(e.split(n||","),Vd),_addCacheSuffix:e=>{const n=Uo.cacheSuffix;return n&&(e+=(e.indexOf("?")===-1?"?":"&")+n),e}},Ef=(e,n,o=At)=>e.exists(a=>o(a,n)),Af=(e,n,o=At)=>ua(e,n,o).getOr(e.isNone()&&n.isNone()),d1=e=>{const n=[],o=a=>{n.push(a)};for(let a=0;a<e.length;a++)e[a].each(o);return n},ua=(e,n,o)=>e.isSome()&&n.isSome()?J.some(o(e.getOrDie(),n.getOrDie())):J.none(),Tf=(e,n,o,a)=>e.isSome()&&n.isSome()&&o.isSome()?J.some(a(e.getOrDie(),n.getOrDie(),o.getOrDie())):J.none(),Jg=(e,n)=>e?J.some(n):J.none(),Sx=typeof window<"u"?window:Function("return this;")(),kx=(e,n)=>{let o=n??Sx;for(let a=0;a<e.length&&o!==void 0&&o!==null;++a)o=o[e[a]];return o},jb=(e,n)=>{const o=e.split(".");return kx(o,n)},Ex=(e,n)=>jb(e,n),f1=(e,n)=>{const o=Ex(e,n);if(o==null)throw new Error(e+" not available on this browser");return o},Ax=Object.getPrototypeOf,Qg=e=>f1("HTMLElement",e),m1=e=>{const n=jb("ownerDocument.defaultView",e);return j(e)&&(Qg(n).prototype.isPrototypeOf(e)||/^HTML\w*Element$/.test(Ax(e).constructor.name))},Of=8,Rf=9,da=11,kl=1,eh=3,ts=e=>e.dom.nodeName.toLowerCase(),zd=e=>e.dom.nodeType,th=e=>n=>zd(n)===e,nh=e=>zd(e)===Of||ts(e)==="#comment",$a=e=>Vr(e)&&m1(e.dom),Vr=th(kl),ur=th(eh),Zi=th(Rf),nr=th(da),If=e=>n=>Vr(n)&&ts(n)===e,Bm=(e,n,o)=>{if(ue(o)||Fe(o)||R(o))e.setAttribute(n,o+"");else throw console.error("Invalid call to Attribute.set. Key ",n,":: Value ",o,":: Element ",e),new Error("Attribute value was not simple")},_i=(e,n,o)=>{Bm(e.dom,n,o)},Va=(e,n)=>{const o=e.dom;ds(n,(a,c)=>{Bm(o,c,a)})},Ia=(e,n)=>{const o=e.dom.getAttribute(n);return o===null?void 0:o},au=(e,n)=>J.from(Ia(e,n)),Hd=(e,n)=>{const o=e.dom;return o&&o.hasAttribute?o.hasAttribute(n):!1},Mo=(e,n)=>{e.dom.removeAttribute(n)},ci=e=>{const n=e.dom.attributes;return n==null||n.length===0},El=e=>ln(e.dom.attributes,(n,o)=>(n[o.name]=o.value,n),{}),Ud=(e,n)=>{const o=Ia(e,n);return o===void 0||o===""?[]:o.split(" ")},Gi=(e,n,o)=>{const c=Ud(e,n).concat([o]);return _i(e,n,c.join(" ")),!0},Un=(e,n,o)=>{const a=Ge(Ud(e,n),c=>c!==o);return a.length>0?_i(e,n,a.join(" ")):Mo(e,n),!1},Oc=e=>e.dom.classList!==void 0,Rc=e=>Ud(e,"class"),Ts=(e,n)=>Gi(e,"class",n),bp=(e,n)=>Un(e,"class",n),Zb=(e,n)=>xe(Rc(e),n)?bp(e,n):Ts(e,n),Wd=(e,n)=>{Oc(e)?e.dom.classList.add(n):Ts(e,n)},Wo=e=>{(Oc(e)?e.dom.classList:Rc(e)).length===0&&Mo(e,"class")},za=(e,n)=>{Oc(e)?e.dom.classList.remove(n):bp(e,n),Wo(e)},vp=(e,n)=>{const o=Oc(e)?e.dom.classList.toggle(n):Zb(e,n);return Wo(e),o},Kd=(e,n)=>Oc(e)&&e.dom.classList.contains(n),Gb=(e,n)=>{const a=(n||document).createElement("div");if(a.innerHTML=e,!a.hasChildNodes()||a.childNodes.length>1){const c="HTML does not have a single root node";throw console.error(c,e),new Error(c)}return cu(a.childNodes[0])},lu=(e,n)=>{const a=(n||document).createElement(e);return cu(a)},al=(e,n)=>{const a=(n||document).createTextNode(e);return cu(a)},cu=e=>{if(e==null)throw new Error("Node cannot be null or undefined");return{dom:e}},Ke={fromHtml:Gb,fromTag:lu,fromText:al,fromDom:cu,fromPoint:(e,n,o)=>J.from(e.dom.elementFromPoint(n,o)).map(cu)},Fm=(e,n)=>{const o=[],a=m=>(o.push(m),n(m));let c=n(e);do c=c.bind(a);while(c.isSome());return o},Bs=(e,n)=>{const o=e.dom;if(o.nodeType!==kl)return!1;{const a=o;if(a.matches!==void 0)return a.matches(n);if(a.msMatchesSelector!==void 0)return a.msMatchesSelector(n);if(a.webkitMatchesSelector!==void 0)return a.webkitMatchesSelector(n);if(a.mozMatchesSelector!==void 0)return a.mozMatchesSelector(n);throw new Error("Browser lacks native selectors")}},qb=e=>e.nodeType!==kl&&e.nodeType!==Rf&&e.nodeType!==da||e.childElementCount===0,oh=(e,n)=>{const o=n===void 0?document:n.dom;return qb(o)?[]:Ve(o.querySelectorAll(e),Ke.fromDom)},uu=(e,n)=>{const o=n===void 0?document:n.dom;return qb(o)?J.none():J.from(o.querySelector(e)).map(Ke.fromDom)},ns=(e,n)=>e.dom===n.dom,fa=(e,n)=>{const o=e.dom,a=n.dom;return o===a?!1:o.contains(a)},Xu=e=>Ke.fromDom(e.dom.ownerDocument),ac=e=>Zi(e)?e:Xu(e),Ju=e=>Ke.fromDom(ac(e).dom.documentElement),Qu=e=>Ke.fromDom(ac(e).dom.defaultView),ma=e=>J.from(e.dom.parentNode).map(Ke.fromDom),Pf=e=>J.from(e.dom.parentElement).map(Ke.fromDom),$m=(e,n)=>{const o=_e(n)?n:In;let a=e.dom;const c=[];for(;a.parentNode!==null&&a.parentNode!==void 0;){const m=a.parentNode,p=Ke.fromDom(m);if(c.push(p),o(p)===!0)break;a=m}return c},Yb=e=>{const n=o=>Ge(o,a=>!ns(e,a));return ma(e).map(ga).map(n).getOr([])},Si=e=>J.from(e.dom.previousSibling).map(Ke.fromDom),qn=e=>J.from(e.dom.nextSibling).map(Ke.fromDom),ed=e=>Zs(Fm(e,Si)),Vm=e=>Fm(e,qn),ga=e=>Ve(e.dom.childNodes,Ke.fromDom),td=(e,n)=>{const o=e.dom.childNodes;return J.from(o[n]).map(Ke.fromDom)},Hl=e=>td(e,0),nd=e=>td(e,e.dom.childNodes.length-1),jd=e=>e.dom.childNodes.length,ki=e=>{const n=e.dom.head;if(n==null)throw new Error("Head is not available yet");return Ke.fromDom(n)},lc=e=>nr(e)&&we(e.dom.host),du=e=>Ke.fromDom(e.dom.getRootNode()),zm=e=>lc(e)?e:ki(ac(e)),g1=e=>lc(e)?e:Ke.fromDom(ac(e).dom.body),od=e=>{const n=du(e);return lc(n)?J.some(n):J.none()},Nf=e=>Ke.fromDom(e.dom.host),Xb=e=>{if(we(e.target)){const n=Ke.fromDom(e.target);if(Vr(n)&&wr(n)&&e.composed&&e.composedPath){const o=e.composedPath();if(o)return Tn(o)}}return J.from(e.target)},wr=e=>we(e.dom.shadowRoot),Ha=e=>{const n=ur(e)?e.dom.parentNode:e.dom;if(n==null||n.ownerDocument===null)return!1;const o=n.ownerDocument;return od(Ke.fromDom(n)).fold(()=>o.body.contains(n),sn(Ha,Nf))};var Da=(e,n,o,a,c)=>e(o,a)?J.some(o):_e(c)&&c(o)?J.none():n(o,a,c);const ll=(e,n,o)=>{let a=e.dom;const c=_e(o)?o:In;for(;a.parentNode;){a=a.parentNode;const m=Ke.fromDom(a);if(n(m))return J.some(m);if(c(m))break}return J.none()},bi=(e,n,o)=>Da((c,m)=>m(c),ll,e,n,o),yp=(e,n)=>{const o=e.dom;return o.parentNode?ui(Ke.fromDom(o.parentNode),a=>!ns(e,a)&&n(a)):J.none()},ui=(e,n)=>{const o=c=>n(Ke.fromDom(c));return yn(e.dom.childNodes,o).map(Ke.fromDom)},qi=(e,n)=>{const o=a=>{for(let c=0;c<a.childNodes.length;c++){const m=Ke.fromDom(a.childNodes[c]);if(n(m))return J.some(m);const p=o(a.childNodes[c]);if(p.isSome())return p}return J.none()};return o(e.dom)},fu=(e,n,o)=>ll(e,a=>Bs(a,n),o),Bt=(e,n)=>uu(n,e),Yi=(e,n,o)=>Da((c,m)=>Bs(c,m),fu,e,n,o),xp=e=>Yi(e,"[contenteditable]"),Cr=(e,n=!1)=>Ha(e)?e.dom.isContentEditable:xp(e).fold(dt(n),o=>sd(o)==="true"),sd=e=>e.dom.contentEditable,Ua=e=>e.style!==void 0&&_e(e.style.getPropertyValue),Ic=(e,n,o)=>{if(!ue(o))throw console.error("Invalid call to CSS.set. Property ",n,":: Value ",o,":: Element ",e),new Error("CSS value must be a string: "+o);Ua(e)&&e.style.setProperty(n,o)},Hm=(e,n)=>{Ua(e)&&e.style.removeProperty(n)},cl=(e,n,o)=>{const a=e.dom;Ic(a,n,o)},Xo=(e,n)=>{const o=e.dom;ds(n,(a,c)=>{Ic(o,c,a)})},zr=(e,n)=>{const o=e.dom,c=window.getComputedStyle(o).getPropertyValue(n);return c===""&&!Ha(e)?Lf(o,n):c},Lf=(e,n)=>Ua(e)?e.style.getPropertyValue(n):"",Mr=(e,n)=>{const o=e.dom,a=Lf(o,n);return J.from(a).filter(c=>c.length>0)},sh=e=>{const n={},o=e.dom;if(Ua(o))for(let a=0;a<o.style.length;a++){const c=o.style.item(a);n[c]=o.style[c]}return n},mu=(e,n)=>{const o=e.dom;Hm(o,n),Ef(au(e,"style").map(He),"")&&Mo(e,"style")},h1=e=>e.dom.offsetWidth,Tr=(e,n)=>{ma(e).each(a=>{a.dom.insertBefore(n.dom,e.dom)})},ut=(e,n)=>{qn(e).fold(()=>{ma(e).each(c=>{Hr(c,n)})},a=>{Tr(a,n)})},Wa=(e,n)=>{Hl(e).fold(()=>{Hr(e,n)},a=>{e.dom.insertBefore(n.dom,a.dom)})},Hr=(e,n)=>{e.dom.appendChild(n.dom)},Yl=(e,n)=>{Tr(e,n),Hr(n,e)},Dc=(e,n)=>{be(n,(o,a)=>{const c=a===0?e:n[a-1];ut(c,o)})},ni=(e,n)=>{be(n,o=>{Hr(e,o)})},or=e=>{e.dom.textContent="",be(ga(e),n=>{Ps(n)})},Ps=e=>{const n=e.dom;n.parentNode!==null&&n.parentNode.removeChild(n)},Ka=e=>{const n=ga(e);n.length>0&&Dc(e,n),Ps(e)},Xl=(e,n)=>{const a=(n||document).createElement("div");return a.innerHTML=e,ga(Ke.fromDom(a))},gu=e=>Ve(e,Ke.fromDom),Zd=e=>e.dom.innerHTML,Um=(e,n)=>{const a=Xu(e).dom,c=Ke.fromDom(a.createDocumentFragment()),m=Xl(n,a);ni(c,m),or(e),Hr(e,c)},rh=e=>{const n=Ke.fromTag("div"),o=Ke.fromDom(e.dom.cloneNode(!0));return Hr(n,o),Zd(n)},ih=(e,n,o,a,c,m,p)=>({target:e,x:n,y:o,stop:a,prevent:c,kill:m,raw:p}),Jb=e=>{const n=Ke.fromDom(Xb(e).getOr(e.target)),o=()=>e.stopPropagation(),a=()=>e.preventDefault(),c=Ut(a,o);return ih(n,e.clientX,e.clientY,o,a,c,e)},Qb=(e,n)=>o=>{e(o)&&n(Jb(o))},rd=(e,n,o,a,c)=>{const m=Qb(o,a);return e.dom.addEventListener(n,m,c),{unbind:et(G,e,n,m,c)}},N=(e,n,o,a)=>rd(e,n,o,a,!1),G=(e,n,o,a)=>{e.dom.removeEventListener(n,o,a)},ae=(e,n)=>({left:e,top:n,translate:(a,c)=>ae(e+a,n+c)}),Be=ae,Xe=e=>{const n=e.getBoundingClientRect();return Be(n.left,n.top)},Ft=(e,n)=>e!==void 0?e:n!==void 0?n:0,Xn=e=>{const n=e.dom.ownerDocument,o=n.body,a=n.defaultView,c=n.documentElement;if(o===e.dom)return Be(o.offsetLeft,o.offsetTop);const m=Ft(a==null?void 0:a.pageYOffset,c.scrollTop),p=Ft(a==null?void 0:a.pageXOffset,c.scrollLeft),_=Ft(c.clientTop,o.clientTop),A=Ft(c.clientLeft,o.clientLeft);return Eo(e).translate(p-A,m-_)},Eo=e=>{const n=e.dom,a=n.ownerDocument.body;return a===n?Be(a.offsetLeft,a.offsetTop):Ha(e)?Xe(n):Be(0,0)},po=e=>{const n=e!==void 0?e.dom:document,o=n.body.scrollLeft||n.documentElement.scrollLeft,a=n.body.scrollTop||n.documentElement.scrollTop;return Be(o,a)},Mn=(e,n,o)=>{const c=(o!==void 0?o.dom:document).defaultView;c&&c.scrollTo(e,n)},ws=(e,n)=>{la().browser.isSafari()&&_e(e.dom.scrollIntoViewIfNeeded)?e.dom.scrollIntoViewIfNeeded(!1):e.dom.scrollIntoView(n)},Ur=e=>{const n=e===void 0?window:e;return la().browser.isFirefox()?J.none():J.from(n.visualViewport)},_r=(e,n,o,a)=>({x:e,y:n,width:o,height:a,right:e+o,bottom:n+a}),Pc=e=>{const n=e===void 0?window:e,o=n.document,a=po(Ke.fromDom(o));return Ur(n).fold(()=>{const c=n.document.documentElement,m=c.clientWidth,p=c.clientHeight;return _r(a.left,a.top,m,p)},c=>_r(Math.max(c.pageLeft,a.left),Math.max(c.pageTop,a.top),c.width,c.height))},Wm=(e,n)=>Ge(ga(e),n),Km=(e,n)=>{let o=[];return be(ga(e),a=>{n(a)&&(o=o.concat([a])),o=o.concat(Km(a,n))}),o},vi=(e,n)=>oh(n,e),KC=(e,n,o)=>ll(e,n,o).isSome(),ev=(e,n)=>yp(e,n).isSome(),p1=(e,n)=>qi(e,n).isSome();class ha{constructor(n,o){this.node=n,this.rootNode=o,this.current=this.current.bind(this),this.next=this.next.bind(this),this.prev=this.prev.bind(this),this.prev2=this.prev2.bind(this)}current(){return this.node}next(n){return this.node=this.findSibling(this.node,"firstChild","nextSibling",n),this.node}prev(n){return this.node=this.findSibling(this.node,"lastChild","previousSibling",n),this.node}prev2(n){return this.node=this.findPreviousNode(this.node,n),this.node}findSibling(n,o,a,c){if(n){if(!c&&n[o])return n[o];if(n!==this.rootNode){let m=n[a];if(m)return m;for(let p=n.parentNode;p&&p!==this.rootNode;p=p.parentNode)if(m=p[a],m)return m}}}findPreviousNode(n,o){if(n){const a=n.previousSibling;if(this.rootNode&&a===this.rootNode)return;if(a){if(!o){for(let m=a.lastChild;m;m=m.lastChild)if(!m.lastChild)return m}return a}const c=n.parentNode;if(c&&c!==this.rootNode)return c}}}const Or="\uFEFF",Pi="",id=e=>e===Or,wp=e=>e.replace(/\uFEFF/g,""),Tx=/^[ \t\r\n]*$/,cc=e=>Tx.test(e),Al=e=>{for(const n of e)if(!id(n))return!1;return!0},tv=e=>" \f	\v".indexOf(e)!==-1,Mf=e=>e===`
`||e==="\r",zE=(e,n)=>n<e.length&&n>=0?Mf(e[n]):!1,nv=(e,n=4,o=!0,a=!0)=>{const c=cn(" ",n),m=e.replace(/\t/g,c);return ln(m,(_,A)=>tv(A)||A===Pi?_.pcIsSpace||_.str===""&&o||_.str.length===m.length-1&&a||zE(m,_.str.length+1)?{pcIsSpace:!1,str:_.str+Pi}:{pcIsSpace:!0,str:_.str+" "}:{pcIsSpace:Mf(A),str:_.str+A},{pcIsSpace:!1,str:""}).str},Gd=e=>n=>!!n&&n.nodeType===e,Bf=e=>!!e&&!Object.getPrototypeOf(e),Nn=Gd(1),hu=e=>Nn(e)&&$a(Ke.fromDom(e)),ov=e=>Nn(e)&&e.namespaceURI==="http://www.w3.org/2000/svg",Ff=e=>{const n=e.toLowerCase();return o=>we(o)&&o.nodeName.toLowerCase()===n},pa=e=>{const n=e.map(o=>o.toLowerCase());return o=>{if(o&&o.nodeName){const a=o.nodeName.toLowerCase();return xe(n,a)}return!1}},Nc=(e,n)=>{const o=n.toLowerCase().split(" ");return a=>{if(Nn(a)){const c=a.ownerDocument.defaultView;if(c)for(let m=0;m<o.length;m++){const p=c.getComputedStyle(a,null);if((p?p.getPropertyValue(e):null)===o[m])return!0}}return!1}},ah=e=>n=>Nn(n)&&n.hasAttribute(e),$f=e=>Nn(e)&&e.hasAttribute("data-mce-bogus"),b1=e=>Nn(e)&&e.getAttribute("data-mce-bogus")==="all",pu=e=>Nn(e)&&e.tagName==="TABLE",Cp=e=>n=>!!(hu(n)&&(n.contentEditable===e||n.getAttribute("data-mce-contenteditable")===e)),_p=pa(["textarea","input"]),Gt=Gd(3),Ox=Gd(4),Vf=Gd(7),No=Gd(8),$n=Gd(9),zf=Gd(11),pr=Ff("br"),Lc=Ff("img"),Mc=Cp("true"),wo=Cp("false"),Sp=pa(["td","th"]),jC=pa(["td","th","caption"]),Rt=pa(["video","audio","object","embed"]),Rx=Ff("li"),kp=Ff("details"),Ep=Ff("summary"),lh={skipBogus:!0,includeZwsp:!1,checkRootAsContent:!1},jm=(e,n,o)=>{const a=Ke.fromDom(n),c=Ke.fromDom(e),m=o.getWhitespaceElements();return KC(c,_=>ho(m,ts(_)),et(ns,a))},ZC=e=>Nn(e)&&e.nodeName==="A"&&!e.hasAttribute("href")&&(e.hasAttribute("name")||e.hasAttribute("id")),Hf=(e,n)=>Nn(e)&&ho(n.getNonEmptyElements(),e.nodeName),ar=ah("data-mce-bookmark"),ad=e=>Pf(Ke.fromDom(e)).exists(n=>!Cr(n)),v1=(e,n,o)=>cc(e.data)&&!jm(e,n,o),bu=(e,n,o,a)=>Gt(e)&&!v1(e,n,o)&&(!a.includeZwsp||!Al(e.data)),Zm=(e,n,o,a)=>_e(a.isContent)&&a.isContent(n)||Hf(n,e)||ar(n)||ZC(n)||bu(n,o,e,a)||wo(n)||Mc(n)&&ad(n),uc=(e,n,o)=>{const a={...lh,...o};if(a.checkRootAsContent&&Zm(e,n,n,a))return!1;let c=n.firstChild,m=0;if(!c)return!0;const p=new ha(c,n);do{if(a.skipBogus&&Nn(c)){const _=c.getAttribute("data-mce-bogus");if(_){c=p.next(_==="all");continue}}if(No(c)){c=p.next(!0);continue}if(pr(c)){m++,c=p.next();continue}if(Zm(e,c,n,a))return!1;c=p.next()}while(c);return m<=1},Wr=(e,n,o)=>uc(e,n.dom,{checkRootAsContent:!0,...o}),sv=(e,n,o)=>Zm(e,n,n,{includeZwsp:lh.includeZwsp,...o}),Ni=e=>{let n=e;return{get:()=>n,set:c=>{n=c}}},y1=e=>{const n=Ni(J.none()),o=()=>n.get().each(e);return{clear:()=>{o(),n.set(J.none())},isSet:()=>n.get().isSome(),get:()=>n.get(),set:_=>{o(),n.set(J.some(_))}}},Bc=e=>{const n=Ni(J.none()),o=()=>n.get().each(_=>clearInterval(_));return{clear:()=>{o(),n.set(J.none())},isSet:()=>n.get().isSome(),get:()=>n.get(),set:_=>{o(),n.set(J.some(setInterval(_,e)))}}},Li=()=>{const e=y1(St);return{...e,on:o=>e.get().each(o)}},Xt=e=>{const n=e.toLowerCase();return n==="svg"?"svg":n==="math"?"math":"html"},Gm=e=>Xt(e)!=="html",Mi=e=>Gm(e.nodeName),GC=e=>Xt(e.nodeName),qC=["svg","math"],HE=()=>{const e=Li(),n=()=>e.get().map(GC).getOr("html");return{track:c=>(Mi(c)?e.set(c):e.get().exists(m=>!m.contains(c))&&e.clear(),n()),current:n,reset:()=>{e.clear()}}},qd="data-mce-block",ch=e=>Ge(Jt(e),n=>!/[A-Z]/.test(n)),rv=e=>Ve(ch(e),n=>{const o=CSS.escape(n);return`${o}:`+Ve(qC,a=>`not(${a} ${o})`).join(":")}).join(","),x1=(e,n)=>we(n.querySelector(e))?(n.setAttribute(qd,"true"),n.getAttribute("data-mce-selected")==="inline-boundary"&&n.removeAttribute("data-mce-selected"),!0):(n.removeAttribute(qd),!1),Ix=(e,n)=>{const o=rv(e.getTransparentElements()),a=rv(e.getBlockElements());return Ge(n.querySelectorAll(o),c=>x1(a,c))},Sr=(e,n,o)=>{var a;const c=o?"lastChild":"firstChild";for(let m=n[c];m;m=m[c])if(uc(e,m,{checkRootAsContent:!0})){(a=m.parentNode)===null||a===void 0||a.removeChild(m);return}},iv=(e,n,o)=>{const a=document.createRange(),c=n.parentNode;if(c){a.setStartBefore(n),a.setEndBefore(o);const m=a.extractContents();Sr(e,m,!0),a.setStartAfter(o),a.setEndAfter(n);const p=a.extractContents();Sr(e,p,!1),uc(e,m,{checkRootAsContent:!0})||c.insertBefore(m,n),uc(e,o,{checkRootAsContent:!0})||c.insertBefore(o,n),uc(e,p,{checkRootAsContent:!0})||c.insertBefore(p,n),c.removeChild(n)}},Rr=(e,n,o)=>{const a=e.getBlockElements(),c=Ke.fromDom(n),m=_=>ts(_)in a,p=_=>ns(_,c);be(gu(o),_=>{ll(_,m,p).each(A=>{const $=Wm(_,q=>m(q)&&!e.isValidChild(ts(A),ts(q)));if($.length>0){const q=Pf(A);be($,X=>{ll(X,m,p).each(ne=>{iv(e,ne.dom,X.dom)})}),q.each(X=>Ix(e,X.dom))}})})},ul=(e,n,o)=>{be([...o,...Uf(e,n)?[n]:[]],a=>be(vi(Ke.fromDom(a),a.nodeName.toLowerCase()),c=>{YC(e,c.dom)&&Ka(c)}))},Kr=(e,n)=>{const o=Ix(e,n);Rr(e,n,o),ul(e,n,o)},dc=(e,n)=>{if(Ap(e,n)){const o=rv(e.getBlockElements());x1(o,n)}},Yd=(e,n,o)=>{const a=m=>ns(m,Ke.fromDom(n)),c=$m(Ke.fromDom(o),a);ji(c,c.length-2).filter(Vr).fold(()=>Kr(e,n),m=>Kr(e,m.dom))},Xi=e=>e.hasAttribute(qd),av=(e,n)=>ho(e.getTransparentElements(),n),Ap=(e,n)=>Nn(n)&&av(e,n.nodeName),Uf=(e,n)=>Ap(e,n)&&Xi(n),YC=(e,n)=>Ap(e,n)&&!Xi(n),Tp=(e,n)=>n.type===1&&av(e,n.name)&&ue(n.attr(qd)),Dx=la().browser,w1=e=>yn(e,Vr),lv=e=>Dx.isFirefox()&&ts(e)==="table"?w1(ga(e)).filter(n=>ts(n)==="caption").bind(n=>w1(Vm(n)).map(o=>{const a=o.dom.offsetTop,c=n.dom.offsetTop,m=n.dom.offsetHeight;return a<=c?-m:0})).getOr(0):0,C1=(e,n)=>e.children&&xe(e.children,n),Px=(e,n,o)=>{let a=0,c=0;const m=e.ownerDocument;if(o=o||e,n){if(o===e&&n.getBoundingClientRect&&zr(Ke.fromDom(e),"position")==="static"){const _=n.getBoundingClientRect();return a=_.left+(m.documentElement.scrollLeft||e.scrollLeft)-m.documentElement.clientLeft,c=_.top+(m.documentElement.scrollTop||e.scrollTop)-m.documentElement.clientTop,{x:a,y:c}}let p=n;for(;p&&p!==o&&p.nodeType&&!C1(p,o);){const _=p;a+=_.offsetLeft||0,c+=_.offsetTop||0,p=_.offsetParent}for(p=n.parentNode;p&&p!==o&&p.nodeType&&!C1(p,o);)a-=p.scrollLeft||0,c-=p.scrollTop||0,p=p.parentNode;c+=lv(Ke.fromDom(n))}return{x:a,y:c}},qm=(e,n={})=>{let o=0;const a={},c=Ke.fromDom(e),m=ac(c),p=Ye=>{n.referrerPolicy=Ye},_=Ye=>{n.contentCssCors=Ye},A=Ye=>{Hr(zm(c),Ye)},$=Ye=>{const st=zm(c);Bt(st,"#"+Ye).each(Ps)},q=Ye=>Ds(a,Ye).getOrThunk(()=>({id:"mce-u"+o++,passed:[],failed:[],count:0})),X=Ye=>new Promise((st,nt)=>{let bt;const Ht=nn._addCacheSuffix(Ye),tn=q(Ht);a[Ht]=tn,tn.count++;const _n=(Dn,Wn)=>{be(Dn,Wt),tn.status=Wn,tn.passed=[],tn.failed=[],bt&&(bt.onload=null,bt.onerror=null,bt=null)},Dt=()=>_n(tn.passed,2),Ct=()=>_n(tn.failed,3);if(st&&tn.passed.push(st),nt&&tn.failed.push(nt),tn.status===1)return;if(tn.status===2){Dt();return}if(tn.status===3){Ct();return}tn.status=1;const Vt=Ke.fromTag("link",m.dom);Va(Vt,{rel:"stylesheet",type:"text/css",id:tn.id}),n.contentCssCors&&_i(Vt,"crossOrigin","anonymous"),n.referrerPolicy&&_i(Vt,"referrerpolicy",n.referrerPolicy),bt=Vt.dom,bt.onload=Dt,bt.onerror=Ct,A(Vt),_i(Vt,"href",Ht)}),ne=(Ye,st)=>{const nt=q(Ye);a[Ye]=nt,nt.count++;const bt=Ke.fromTag("style",m.dom);Va(bt,{rel:"stylesheet",type:"text/css",id:nt.id}),bt.dom.innerHTML=st,A(bt)},ve=Ye=>Promise.allSettled(Ve(Ye,nt=>X(nt).then(dt(nt)))).then(nt=>{const bt=Ne(nt,Ht=>Ht.status==="fulfilled");return bt.fail.length>0?Promise.reject(Ve(bt.fail,Ht=>Ht.reason)):Ve(bt.pass,Ht=>Ht.value)}),Oe=Ye=>{const st=nn._addCacheSuffix(Ye);Ds(a,st).each(nt=>{--nt.count===0&&(delete a[st],$(nt.id))})};return{load:X,loadRawCss:ne,loadAll:ve,unload:Oe,unloadRawCss:Ye=>{Ds(a,Ye).each(st=>{--st.count===0&&(delete a[Ye],$(st.id))})},unloadAll:Ye=>{be(Ye,st=>{Oe(st)})},_setReferrerPolicy:p,_setContentCssCors:_}},_1=(()=>{const e=new WeakMap;return{forElement:(o,a)=>{const m=du(o).dom;return J.from(e.get(m)).getOrThunk(()=>{const p=qm(m,a);return e.set(m,p),p})}}})(),S1=e=>e.nodeName.toLowerCase()==="span",Nx=(e,n)=>we(e)&&(sv(n,e)||n.isInline(e.nodeName.toLowerCase())),Lx=(e,n,o)=>{const a=new ha(e,n).prev(!1),c=new ha(e,n).next(!1),m=Je(a)||Nx(a,o),p=Je(c)||Nx(c,o);return m&&p},cv=e=>S1(e)&&e.getAttribute("data-mce-type")==="bookmark",Mx=(e,n,o)=>Gt(e)&&e.data.length>0&&Lx(e,n,o),Bx=e=>Nn(e)?e.childNodes.length>0:!1,uv=e=>zf(e)||$n(e),Op=(e,n,o,a)=>{var c;const m=a||n;if(Nn(n)&&cv(n))return n;const p=n.childNodes;for(let _=p.length-1;_>=0;_--)Op(e,p[_],o,m);if(Nn(n)){const _=n.childNodes;_.length===1&&cv(_[0])&&((c=n.parentNode)===null||c===void 0||c.insertBefore(_[0],n))}return!uv(n)&&!sv(o,n)&&!Bx(n)&&!Mx(n,m,o)&&e.remove(n),n},Fx=nn.makeMap,dv=/[&<>\"\u0060\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,fv=/[<>&\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Ym=/[<>&\"\']/g,Rp=/&#([a-z0-9]+);?|&([a-z0-9]+);/gi,$x={128:"",130:"",131:"",132:"",133:"",134:"",135:"",136:"",137:"",138:"",139:"",140:"",142:"",145:"",146:"",147:"",148:"",149:"",150:"",151:"",152:"",153:"",154:"",155:"",156:"",158:"",159:""},Xd={'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;","&":"&amp;","`":"&#96;"},uh={"&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"',"&apos;":"'"},dh=e=>{const n=Ke.fromTag("div").dom;return n.innerHTML=e,n.textContent||n.innerText||e},Jd=(e,n)=>{const o={};if(e){const a=e.split(",");n=n||10;for(let c=0;c<a.length;c+=2){const m=String.fromCharCode(parseInt(a[c],n));if(!Xd[m]){const p="&"+a[c+1]+";";o[m]=p,o[p]=m}}return o}else return},Wf=Jd("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32),mv=(e,n)=>e.replace(n?dv:fv,o=>Xd[o]||o),WE=e=>(""+e).replace(Ym,n=>Xd[n]||n),gv=(e,n)=>e.replace(n?dv:fv,o=>o.length>1?"&#"+((o.charCodeAt(0)-55296)*1024+(o.charCodeAt(1)-56320)+65536)+";":Xd[o]||"&#"+o.charCodeAt(0)+";"),Fc=(e,n,o)=>{const a=o||Wf;return e.replace(n?dv:fv,c=>Xd[c]||a[c]||c)},fh={encodeRaw:mv,encodeAllRaw:WE,encodeNumeric:gv,encodeNamed:Fc,getEncodeFunc:(e,n)=>{const o=Jd(n)||Wf,a=(p,_)=>p.replace(_?dv:fv,A=>Xd[A]!==void 0?Xd[A]:o[A]!==void 0?o[A]:A.length>1?"&#"+((A.charCodeAt(0)-55296)*1024+(A.charCodeAt(1)-56320)+65536)+";":"&#"+A.charCodeAt(0)+";"),c=(p,_)=>Fc(p,_,o),m=Fx(e.replace(/\+/g,","));return m.named&&m.numeric?a:m.named?n?c:Fc:m.numeric?gv:mv},decode:e=>e.replace(Rp,(n,o)=>o?(o.charAt(0).toLowerCase()==="x"?o=parseInt(o.substr(1),16):o=parseInt(o,10),o>65535?(o-=65536,String.fromCharCode(55296+(o>>10),56320+(o&1023))):$x[o]||String.fromCharCode(o)):uh[n]||Wf[n]||dh(n))},ba=(e,n)=>(e=nn.trim(e),e?e.split(n||" "):[]),mh=e=>new RegExp("^"+e.replace(/([?+*])/g,".$1")+"$"),gh=e=>j(e)&&e.source&&Object.prototype.toString.call(e)==="[object RegExp]",k1=e=>{const n=o=>te(o)?Ve(o,n):gh(o)?new RegExp(o.source,o.flags):j(o)?jl(o,n):o;return n(e)},os=e=>{const n=/^(~)?(.+)$/;return $o(ba(e,","),o=>{const a=n.exec(o);if(a){const m=a[1]==="~"?"span":"div",p=a[2];return[{cloneName:m,name:p}]}else return[]})},Tl=e=>Object.freeze(["id","accesskey","class","dir","lang","style","tabindex","title","role",...e!=="html4"?["contenteditable","contextmenu","draggable","dropzone","hidden","spellcheck","translate","itemprop","itemscope","itemtype"]:[],...e!=="html5-strict"?["xml:lang"]:[]]),ld=e=>{let n,o;n="address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul",o="a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd label map noscript object q s samp script select small span strong sub sup textarea u var #text #comment",e!=="html4"&&(n+=" article aside details dialog figure main header footer hgroup section nav "+"a ins del canvas map",o+=" audio canvas command data datalist mark meter output picture progress time wbr video ruby bdi keygen svg"),e!=="html5-strict"&&(o=[o,"acronym applet basefont big font strike tt"].join(" "),n=[n,"center dir isindex noframes"].join(" "));const a=[n,o].join(" ");return{blockContent:n,phrasingContent:o,flowContent:a}},Pa=e=>{const{blockContent:n,phrasingContent:o,flowContent:a}=ld(e),c=m=>Object.freeze(m.split(" "));return Object.freeze({blockContent:c(n),phrasingContent:c(o),flowContent:c(a)})},Xs={html4:$l(()=>Pa("html4")),html5:$l(()=>Pa("html5")),"html5-strict":$l(()=>Pa("html5-strict"))},hv=(e,n)=>{const{blockContent:o,phrasingContent:a,flowContent:c}=Xs[e]();return n==="blocks"?J.some(o):n==="phrasing"?J.some(a):n==="flow"?J.some(c):J.none()},JC=e=>{const n=Tl(e),{phrasingContent:o,flowContent:a}=ld(e),c={},m=(A,$,q)=>{c[A]={attributes:Qr($,dt({})),attributesOrder:$,children:Qr(q,dt({}))}},p=(A,$="",q="")=>{const X=ba(q),ne=ba(A);let ve=ne.length;const Oe=[...n,...ba($)];for(;ve--;)m(ne[ve],Oe.slice(),X)},_=(A,$)=>{const q=ba(A),X=ba($);let ne=q.length;for(;ne--;){const ve=c[q[ne]];for(let Oe=0,ye=X.length;Oe<ye;Oe++)ve.attributes[X[Oe]]={},ve.attributesOrder.push(X[Oe])}};return e!=="html5-strict"&&(be(ba("acronym applet basefont big font strike tt"),q=>{p(q,"",o)}),be(ba("center dir isindex noframes"),q=>{p(q,"",a)})),p("html","manifest","head body"),p("head","","base command link meta noscript script style title"),p("title hr noscript br"),p("base","href target"),p("link","href rel media hreflang type sizes hreflang"),p("meta","name http-equiv content charset"),p("style","media type scoped"),p("script","src async defer type charset"),p("body","onafterprint onbeforeprint onbeforeunload onblur onerror onfocus onhashchange onload onmessage onoffline ononline onpagehide onpageshow onpopstate onresize onscroll onstorage onunload",a),p("dd div","",a),p("address dt caption","",e==="html4"?o:a),p("h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn","",o),p("blockquote","cite",a),p("ol","reversed start type","li"),p("ul","","li"),p("li","value",a),p("dl","","dt dd"),p("a","href target rel media hreflang type",e==="html4"?o:a),p("q","cite",o),p("ins del","cite datetime",a),p("img","src sizes srcset alt usemap ismap width height"),p("iframe","src name width height",a),p("embed","src type width height"),p("object","data type typemustmatch name usemap form width height",[a,"param"].join(" ")),p("param","name value"),p("map","name",[a,"area"].join(" ")),p("area","alt coords shape href target rel media hreflang type"),p("table","border","caption colgroup thead tfoot tbody tr"+(e==="html4"?" col":"")),p("colgroup","span","col"),p("col","span"),p("tbody thead tfoot","","tr"),p("tr","","td th"),p("td","colspan rowspan headers",a),p("th","colspan rowspan headers scope abbr",a),p("form","accept-charset action autocomplete enctype method name novalidate target",a),p("fieldset","disabled form name",[a,"legend"].join(" ")),p("label","form for",o),p("input","accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate formtarget height list max maxlength min multiple name pattern readonly required size src step type value width"),p("button","disabled form formaction formenctype formmethod formnovalidate formtarget name type value",e==="html4"?a:o),p("select","disabled form multiple name required size","option optgroup"),p("optgroup","disabled label","option"),p("option","disabled label selected value"),p("textarea","cols dirname disabled form maxlength name readonly required rows wrap"),p("menu","type label",[a,"li"].join(" ")),p("noscript","",a),e!=="html4"&&(p("wbr"),p("ruby","",[o,"rt rp"].join(" ")),p("figcaption","",a),p("mark rt rp bdi","",o),p("summary","",[o,"h1 h2 h3 h4 h5 h6"].join(" ")),p("canvas","width height",a),p("data","value",o),p("video","src crossorigin poster preload autoplay mediagroup loop muted controls width height buffered",[a,"track source"].join(" ")),p("audio","src crossorigin preload autoplay mediagroup loop muted controls buffered volume",[a,"track source"].join(" ")),p("picture","","img source"),p("source","src srcset type media sizes"),p("track","kind src srclang label default"),p("datalist","",[o,"option"].join(" ")),p("article section nav aside main header footer","",a),p("hgroup","","h1 h2 h3 h4 h5 h6"),p("figure","",[a,"figcaption"].join(" ")),p("time","datetime",o),p("dialog","open",a),p("command","type label icon disabled checked radiogroup command"),p("output","for form name",o),p("progress","value max",o),p("meter","value min max low high optimum",o),p("details","open",[a,"summary"].join(" ")),p("keygen","autofocus challenge disabled form keytype name"),m("svg","id tabindex lang xml:space class style x y width height viewBox preserveAspectRatio zoomAndPan transform".split(" "),[])),e!=="html5-strict"&&(_("script","language xml:space"),_("style","xml:space"),_("object","declare classid code codebase codetype archive standby align border hspace vspace"),_("embed","align name hspace vspace"),_("param","valuetype type"),_("a","charset name rev shape coords"),_("br","clear"),_("applet","codebase archive code object alt name width height align hspace vspace"),_("img","name longdesc align border hspace vspace"),_("iframe","longdesc frameborder marginwidth marginheight scrolling align"),_("font basefont","size color face"),_("input","usemap align"),_("select"),_("textarea"),_("h1 h2 h3 h4 h5 h6 div p legend caption","align"),_("ul","type compact"),_("li","type"),_("ol dl menu dir","compact"),_("pre","width xml:space"),_("hr","align noshade size width"),_("isindex","prompt"),_("table","summary width frame rules cellspacing cellpadding align bgcolor"),_("col","width align char charoff valign"),_("colgroup","width align char charoff valign"),_("thead","align char charoff valign"),_("tr","align char charoff valign bgcolor"),_("th","axis align char charoff valign nowrap bgcolor width height"),_("form","accept"),_("td","abbr axis scope align char charoff valign nowrap bgcolor width height"),_("tfoot","align char charoff valign"),_("tbody","align char charoff valign"),_("area","nohref"),_("body","background bgcolor text link vlink alink")),e!=="html4"&&(_("input button select textarea","autofocus"),_("input textarea","placeholder"),_("a","download"),_("link script img","crossorigin"),_("img","loading"),_("iframe","sandbox seamless allow allowfullscreen loading referrerpolicy")),e!=="html4"&&be([c.video,c.audio],A=>{delete A.children.audio,delete A.children.video}),be(ba("a form meter progress dfn"),A=>{c[A]&&delete c[A].children[A]}),delete c.caption.children.table,delete c.script,c},KE=e=>e==="-"?"remove":"add",dr=e=>{const n=/^(@?)([A-Za-z0-9_\-.\u00b7\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u037d\u037f-\u1fff\u200c-\u200d\u203f-\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]+)$/;return J.from(n.exec(e)).map(o=>({preset:o[1]==="@",name:o[2]}))},E1=e=>{const n=/^([+\-]?)([A-Za-z0-9_\-.\u00b7\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u037d\u037f-\u1fff\u200c-\u200d\u203f-\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]+)\[([^\]]+)]$/;return $o(ba(e,","),o=>{const a=n.exec(o);if(a){const c=a[1],m=c?KE(c):"replace",p=a[2],_=$o(ba(a[3],"|"),A=>dr(A).toArray());return[{operation:m,name:p,validChildren:_}]}else return[]})},zx=(e,n)=>{const o=/^([!\-])?(\w+[\\:]:\w+|[^=~<]+)?(?:([=~<])(.*))?$/,a=/[*?+]/,{attributes:c,attributesOrder:m}=n;return be(ba(e,"|"),p=>{const _=o.exec(p);if(_){const A={},$=_[1],q=_[2].replace(/[\\:]:/g,":"),X=_[3],ne=_[4];if($==="!"&&(n.attributesRequired=n.attributesRequired||[],n.attributesRequired.push(q),A.required=!0),$==="-"){delete c[q],m.splice(nn.inArray(m,q),1);return}if(X&&(X==="="?(n.attributesDefault=n.attributesDefault||[],n.attributesDefault.push({name:q,value:ne}),A.defaultValue=ne):X==="~"?(n.attributesForced=n.attributesForced||[],n.attributesForced.push({name:q,value:ne}),A.forcedValue=ne):X==="<"&&(A.validValues=nn.makeMap(ne,"?"))),a.test(q)){const ve=A;n.attributePatterns=n.attributePatterns||[],ve.pattern=mh(q),n.attributePatterns.push(ve)}else c[q]||m.push(q),c[q]=A}})},Xm=(e,n)=>{ds(e.attributes,(o,a)=>{n.attributes[a]=o}),n.attributesOrder.push(...e.attributesOrder)},$c=(e,n)=>{const o=/^([#+\-])?([^\[!\/]+)(?:\/([^\[!]+))?(?:(!?)\[([^\]]+)])?$/;return $o(ba(n,","),a=>{const c=o.exec(a);if(c){const m=c[1],p=c[2],_=c[3],A=c[4],$=c[5],q={attributes:{},attributesOrder:[]};if(e.each(X=>Xm(X,q)),m==="#"?q.paddEmpty=!0:m==="-"&&(q.removeEmpty=!0),A==="!"&&(q.removeEmptyAttrs=!0),$&&zx($,q),_&&(q.outputName=p),p==="@")if(e.isNone())e=J.some(q);else return[];return[_?{name:p,element:q,aliasName:_}:{name:p,element:q}]}else return[]})},Ip={},kn=nn.makeMap,vu=nn.each,Hx=nn.extend,A1=nn.explode,Dp=(e,n={})=>{const o=kn(e," ",kn(e.toUpperCase()," "));return Hx(o,n)},T1=e=>Dp("td th li dt dd figcaption caption details summary",e.getTextBlockElements()),hh=(e,n)=>{if(e){const o={};return ue(e)&&(e={"*":e}),vu(e,(a,c)=>{o[c]=o[c.toUpperCase()]=n==="map"?kn(a,/[, ]/):A1(a,/[, ]/)}),o}else return},Vc=(e={})=>{var n;const o={},a={};let c=[];const m={},p={},_=(Gn,gs,qr)=>{const wi=e[Gn];if(wi)return kn(wi,/[, ]/,kn(wi.toUpperCase(),/[, ]/));{let na=Ip[Gn];return na||(na=Dp(gs,qr),Ip[Gn]=na),na}},A=(n=e.schema)!==null&&n!==void 0?n:"html5",$=JC(A);e.verify_html===!1&&(e.valid_elements="*[*]");const q=hh(e.valid_styles),X=hh(e.invalid_styles,"map"),ne=hh(e.valid_classes,"map"),ve=_("whitespace_elements","pre script noscript style textarea video audio iframe object code"),Oe=_("self_closing_elements","colgroup dd dt li option p td tfoot th thead tr"),ye=_("void_elements","area base basefont br col frame hr img input isindex link meta param embed source wbr track"),Pe=_("boolean_attributes","checked compact declare defer disabled ismap multiple nohref noresize noshade nowrap readonly selected autoplay loop controls allowfullscreen"),Ye="td th iframe video audio object script code",st=_("non_empty_elements",Ye+" pre svg textarea summary",ye),nt=_("move_caret_before_on_enter_elements",Ye+" table",ye),bt="h1 h2 h3 h4 h5 h6",Ht=_("text_block_elements",bt+" p div address pre form blockquote center dir fieldset header footer article section hgroup aside main nav figure"),tn=_("block_elements","hr table tbody thead tfoot th tr td li ol ul caption dl dt dd noscript menu isindex option datalist select optgroup figcaption details summary html body multicol listing",Ht),_n=_("text_inline_elements","span strong b em i font s strike u var cite dfn code mark q sup sub samp"),Dt=_("transparent_elements","a ins del canvas map"),Ct=_("wrap_block_elements","pre "+bt);vu("script noscript iframe noframes noembed title style textarea xmp plaintext".split(" "),Gn=>{p[Gn]=new RegExp("</"+Gn+"[^>]*>","gi")});const Vt=Gn=>{const gs=J.from(o["@"]),qr=/[*?+]/;be($c(gs,Gn??""),({name:wi,element:na,aliasName:bl})=>{if(bl&&(o[bl]=na),qr.test(wi)){const Vi=na;Vi.pattern=mh(wi),c.push(Vi)}else o[wi]=na})},Dn=Gn=>{c=[],be(Jt(o),gs=>{delete o[gs]}),Vt(Gn)},Wn=(Gn,gs)=>{var qr,wi;delete Ip.text_block_elements,delete Ip.block_elements;const na=gs.extends?!Ed(gs.extends):!1,bl=gs.extends;if(a[Gn]=bl?a[bl]:{},m[Gn]=bl??Gn,st[Gn.toUpperCase()]={},st[Gn]={},na||(tn[Gn.toUpperCase()]={},tn[Gn]={}),bl&&!o[Gn]&&o[bl]){const Vi=k1(o[bl]);delete Vi.removeEmptyAttrs,delete Vi.removeEmpty,o[Gn]=Vi}else o[Gn]={attributesOrder:[],attributes:{}};if(te(gs.attributes)){const Vi=wc=>{zi.attributesOrder.push(wc),zi.attributes[wc]={}},zi=(qr=o[Gn])!==null&&qr!==void 0?qr:{};delete zi.attributesDefault,delete zi.attributesForced,delete zi.attributePatterns,delete zi.attributesRequired,zi.attributesOrder=[],zi.attributes={},be(gs.attributes,wc=>{const Ng=Tl(A);dr(wc).each(({preset:Lg,name:Mg})=>{Lg?Mg==="global"&&be(Ng,Vi):Vi(Mg)})}),o[Gn]=zi}if(Fe(gs.padEmpty)){const Vi=(wi=o[Gn])!==null&&wi!==void 0?wi:{};Vi.paddEmpty=gs.padEmpty,o[Gn]=Vi}if(te(gs.children)){const Vi={},zi=Ng=>{Vi[Ng]={}},wc=Ng=>{hv(A,Ng).each(Lg=>{be(Lg,zi)})};be(gs.children,Ng=>{dr(Ng).each(({preset:Lg,name:Mg})=>{Lg?wc(Mg):zi(Mg)})}),a[Gn]=Vi}bl&&ds(a,(Vi,zi)=>{Vi[bl]&&(a[zi]=Vi=Hx({},a[zi]),Vi[Gn]=Vi[bl])})},Vo=Gn=>{be(os(Gn??""),({name:gs,cloneName:qr})=>{Wn(gs,{extends:qr})})},Go=Gn=>{j(Gn)?ds(Gn,(gs,qr)=>Wn(qr,gs)):ue(Gn)&&Vo(Gn)},Ns=Gn=>{be(E1(Gn??""),({operation:gs,name:qr,validChildren:wi})=>{const na=gs==="replace"?{"#comment":{}}:a[qr],bl=zi=>{gs==="remove"?delete na[zi]:na[zi]={}},Vi=zi=>{hv(A,zi).each(wc=>{be(wc,bl)})};be(wi,({preset:zi,name:wc})=>{zi?Vi(wc):bl(wc)}),a[qr]=na})},Ks=Gn=>{const gs=o[Gn];if(gs)return gs;let qr=c.length;for(;qr--;){const wi=c[qr];if(wi.pattern.test(Gn))return wi}},fi=()=>{e.valid_elements?(Dn(e.valid_elements),vu($,(Gn,gs)=>{a[gs]=Gn.children})):(vu($,(Gn,gs)=>{o[gs]={attributes:Gn.attributes,attributesOrder:Gn.attributesOrder},a[gs]=Gn.children}),vu(ba("strong/b em/i"),Gn=>{const gs=ba(Gn,"/");o[gs[1]].outputName=gs[0]}),vu(_n,(Gn,gs)=>{o[gs]&&(e.padd_empty_block_inline_children&&(o[gs].paddInEmptyBlock=!0),o[gs].removeEmpty=!0)}),vu(ba("ol ul blockquote a table tbody"),Gn=>{o[Gn]&&(o[Gn].removeEmpty=!0)}),vu(ba("p h1 h2 h3 h4 h5 h6 th td pre div address caption li summary"),Gn=>{o[Gn]&&(o[Gn].paddEmpty=!0)}),vu(ba("span"),Gn=>{o[Gn].removeEmptyAttrs=!0})),delete o.svg,Go(e.custom_elements),Ns(e.valid_children),Vt(e.extended_valid_elements),Ns("+ol[ul|ol],+ul[ul|ol]"),vu({dd:"dl",dt:"dl",li:"ul ol",td:"tr",th:"tr",tr:"tbody thead tfoot",tbody:"table",thead:"table",tfoot:"table",legend:"fieldset",area:"map",param:"video audio object"},(Gn,gs)=>{o[gs]&&(o[gs].parentsRequired=ba(Gn))}),e.invalid_elements&&vu(A1(e.invalid_elements),Gn=>{o[Gn]&&delete o[Gn]}),Ks("span")||Vt("span[!data-mce-type|*]")},Ml=dt(q),er=dt(X),un=dt(ne),Hn=dt(Pe),Cs=dt(tn),gn=dt(Ht),eo=dt(_n),jo=dt(Object.seal(ye)),wn=dt(Oe),zo=dt(st),qo=dt(nt),Ba=dt(ve),Us=dt(Dt),Sa=dt(Ct),pm=dt(Object.seal(p)),Qh=(Gn,gs)=>{const qr=a[Gn.toLowerCase()];return!!(qr&&qr[gs.toLowerCase()])},xc=(Gn,gs)=>{const qr=Ks(Gn);if(qr)if(gs){if(qr.attributes[gs])return!0;const wi=qr.attributePatterns;if(wi){let na=wi.length;for(;na--;)if(wi[na].pattern.test(gs))return!0}}else return!0;return!1},Ed=Gn=>ho(Cs(),Gn),bm=Gn=>!cr(Gn,"#")&&xc(Gn)&&!Ed(Gn),Ad=Gn=>ho(Sa(),Gn)||bm(Gn),vm=dt(m);return fi(),{type:A,children:a,elements:o,getValidStyles:Ml,getValidClasses:un,getBlockElements:Cs,getInvalidStyles:er,getVoidElements:jo,getTextBlockElements:gn,getTextInlineElements:eo,getBoolAttrs:Hn,getElementRule:Ks,getSelfClosingElements:wn,getNonEmptyElements:zo,getMoveCaretBeforeOnEnterElements:qo,getWhitespaceElements:Ba,getTransparentElements:Us,getSpecialElements:pm,isValidChild:Qh,isValid:xc,isBlock:Ed,isInline:bm,isWrapper:Ad,getCustomElements:vm,addValidElements:Vt,setValidElements:Dn,addCustomElements:Go,addValidChildren:Ns}},jE=e=>({value:O1(e)}),O1=e=>ru(e,"#").toUpperCase(),Ux=e=>{const n=e.toString(16);return(n.length===1?"0"+n:n).toUpperCase()},R1=e=>{const n=Ux(e.red)+Ux(e.green)+Ux(e.blue);return jE(n)},Wx=/^\s*rgb\s*\(\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*(\d+)\s*\)\s*$/i,Kx=/^\s*rgba\s*\(\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*((?:\d?\.\d+|\d+)%?)\s*\)\s*$/i,I1=(e,n,o,a)=>({red:e,green:n,blue:o,alpha:a}),jx=(e,n,o,a)=>{const c=parseInt(e,10),m=parseInt(n,10),p=parseInt(o,10),_=parseFloat(a);return I1(c,m,p,_)},Zx=e=>Wx.test(e)?"rgb":Kx.test(e)?"rgba":"other",QC=e=>{const n=Wx.exec(e);if(n!==null)return J.some(jx(n[1],n[2],n[3],"1"));const o=Kx.exec(e);return o!==null?J.some(jx(o[1],o[2],o[3],o[4])):J.none()},ZE=e=>`rgba(${e.red},${e.green},${e.blue},${e.alpha})`,pv=e=>QC(e).map(R1).map(n=>"#"+n.value).getOr(e),Gx=(e={},n)=>{const o=/(?:url(?:(?:\(\s*\"([^\"]+)\"\s*\))|(?:\(\s*\'([^\']+)\'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:\'([^\']+)\')|(?:\"([^\"]+)\")/gi,a=/\s*([^:]+):\s*([^;]+);?/g,c=/\s+$/,m={};let p,_;const A=Or;n&&(p=n.getValidStyles(),_=n.getInvalidStyles());const $=(`\\" \\' \\; \\: ; : `+A).split(" ");for(let X=0;X<$.length;X++)m[$[X]]=A+X,m[A+X]=$[X];const q={parse:X=>{const ne={};let ve=!1;const Oe=e.url_converter,ye=e.url_converter_scope||q,Pe=(Dt,Ct,Vt)=>{const Dn=ne[Dt+"-top"+Ct];if(!Dn)return;const Wn=ne[Dt+"-right"+Ct];if(!Wn)return;const Vo=ne[Dt+"-bottom"+Ct];if(!Vo)return;const Go=ne[Dt+"-left"+Ct];if(!Go)return;const Ns=[Dn,Wn,Vo,Go];let Ks=Ns.length-1;for(;Ks--&&Ns[Ks]===Ns[Ks+1];);Ks>-1&&Vt||(ne[Dt+Ct]=Ks===-1?Ns[0]:Ns.join(" "),delete ne[Dt+"-top"+Ct],delete ne[Dt+"-right"+Ct],delete ne[Dt+"-bottom"+Ct],delete ne[Dt+"-left"+Ct])},Ye=Dt=>{const Ct=ne[Dt];if(!Ct)return;const Vt=Ct.indexOf(",")>-1?[Ct]:Ct.split(" ");let Dn=Vt.length;for(;Dn--;)if(Vt[Dn]!==Vt[0])return!1;return ne[Dt]=Vt[0],!0},st=(Dt,Ct,Vt,Dn)=>{Ye(Ct)&&Ye(Vt)&&Ye(Dn)&&(ne[Dt]=ne[Ct]+" "+ne[Vt]+" "+ne[Dn],delete ne[Ct],delete ne[Vt],delete ne[Dn])},nt=Dt=>(ve=!0,m[Dt]),bt=(Dt,Ct)=>(ve&&(Dt=Dt.replace(/\uFEFF[0-9]/g,Vt=>m[Vt])),Ct||(Dt=Dt.replace(/\\([\'\";:])/g,"$1")),Dt),Ht=Dt=>String.fromCharCode(parseInt(Dt.slice(1),16)),tn=Dt=>Dt.replace(/\\[0-9a-f]+/gi,Ht),_n=(Dt,Ct,Vt,Dn,Wn,Vo)=>{if(Wn=Wn||Vo,Wn)return Wn=bt(Wn),"'"+Wn.replace(/\'/g,"\\'")+"'";if(Ct=bt(Ct||Vt||Dn||""),!e.allow_script_urls){const Go=Ct.replace(/[\s\r\n]+/g,"");if(/(java|vb)script:/i.test(Go)||!e.allow_svg_data_urls&&/^data:image\/svg/i.test(Go))return""}return Oe&&(Ct=Oe.call(ye,Ct,"style")),"url('"+Ct.replace(/\'/g,"\\'")+"')"};if(X){X=X.replace(/[\u0000-\u001F]/g,""),X=X.replace(/\\[\"\';:\uFEFF]/g,nt).replace(/\"[^\"]+\"|\'[^\']+\'/g,Ct=>Ct.replace(/[;:]/g,nt));let Dt;for(;Dt=a.exec(X);){a.lastIndex=Dt.index+Dt[0].length;let Ct=Dt[1].replace(c,"").toLowerCase(),Vt=Dt[2].replace(c,"");if(Ct&&Vt){if(Ct=tn(Ct),Vt=tn(Vt),Ct.indexOf(A)!==-1||Ct.indexOf('"')!==-1||!e.allow_script_urls&&(Ct==="behavior"||/expression\s*\(|\/\*|\*\//.test(Vt)))continue;Ct==="font-weight"&&Vt==="700"?Vt="bold":(Ct==="color"||Ct==="background-color")&&(Vt=Vt.toLowerCase()),Zx(Vt)==="rgb"&&QC(Vt).each(Dn=>{Vt=pv(ZE(Dn)).toLowerCase()}),Vt=Vt.replace(o,_n),ne[Ct]=ve?bt(Vt,!0):Vt}}Pe("border","",!0),Pe("border","-width"),Pe("border","-color"),Pe("border","-style"),Pe("padding",""),Pe("margin",""),st("border","border-width","border-style","border-color"),ne.border==="medium none"&&delete ne.border,ne["border-image"]==="none"&&delete ne["border-image"]}return ne},serialize:(X,ne)=>{let ve="";const Oe=(Pe,Ye)=>{const st=Ye[Pe];if(st)for(let nt=0,bt=st.length;nt<bt;nt++){const Ht=st[nt],tn=X[Ht];tn&&(ve+=(ve.length>0?" ":"")+Ht+": "+tn+";")}},ye=(Pe,Ye)=>{if(!_||!Ye)return!0;let st=_["*"];return st&&st[Pe]?!1:(st=_[Ye],!(st&&st[Pe]))};return ne&&p?(Oe("*",p),Oe(ne,p)):ds(X,(Pe,Ye)=>{Pe&&ye(Ye,ne)&&(ve+=(ve.length>0?" ":"")+Ye+": "+Pe+";")}),ve}};return q},ph={keyLocation:!0,layerX:!0,layerY:!0,returnValue:!0,webkitMovementX:!0,webkitMovementY:!0,keyIdentifier:!0,mozPressure:!0},GE=e=>e instanceof Event||_e(e.initEvent),qE=e=>e.isDefaultPrevented===on||e.isDefaultPrevented===In,Kf=e=>rt(e.preventDefault)||GE(e),Jm=(e,n)=>{const o=n??{};for(const a in e)ho(ph,a)||(o[a]=e[a]);return we(e.composedPath)&&(o.composedPath=()=>e.composedPath()),we(e.getModifierState)&&(o.getModifierState=a=>e.getModifierState(a)),we(e.getTargetRanges)&&(o.getTargetRanges=()=>e.getTargetRanges()),o},D1=(e,n,o,a)=>{var c;const m=Jm(n,a);return m.type=e,rt(m.target)&&(m.target=(c=m.srcElement)!==null&&c!==void 0?c:o),Kf(n)&&(m.preventDefault=()=>{m.defaultPrevented=!0,m.isDefaultPrevented=on,_e(n.preventDefault)&&n.preventDefault()},m.stopPropagation=()=>{m.cancelBubble=!0,m.isPropagationStopped=on,_e(n.stopPropagation)&&n.stopPropagation()},m.stopImmediatePropagation=()=>{m.isImmediatePropagationStopped=on,m.stopPropagation()},qE(m)||(m.isDefaultPrevented=m.defaultPrevented===!0?on:In,m.isPropagationStopped=m.cancelBubble===!0?on:In,m.isImmediatePropagationStopped=In)),m},e_="mce-data-",qx=/^(?:mouse|contextmenu)|click/,bv=(e,n,o,a)=>{e.addEventListener(n,o,a||!1)},Qd=(e,n,o,a)=>{e.removeEventListener(n,o,a||!1)},P1=e=>we(e)&&qx.test(e.type),yi=(e,n)=>{const o=D1(e.type,e,document,n);if(P1(e)&&Je(e.pageX)&&!Je(e.clientX)){const a=o.target.ownerDocument||document,c=a.documentElement,m=a.body,p=o;p.pageX=e.clientX+(c&&c.scrollLeft||m&&m.scrollLeft||0)-(c&&c.clientLeft||m&&m.clientLeft||0),p.pageY=e.clientY+(c&&c.scrollTop||m&&m.scrollTop||0)-(c&&c.clientTop||m&&m.clientTop||0)}return o},Br=(e,n,o)=>{const a=e.document,c={type:"ready"};if(o.domLoaded){n(c);return}const m=()=>a.readyState==="complete"||a.readyState==="interactive"&&a.body,p=()=>{Qd(e,"DOMContentLoaded",p),Qd(e,"load",p),o.domLoaded||(o.domLoaded=!0,n(c)),e=null};m()?p():bv(e,"DOMContentLoaded",p),o.domLoaded||bv(e,"load",p)};class jf{constructor(){this.domLoaded=!1,this.events={},this.count=1,this.expando=e_+(+new Date).toString(32),this.hasFocusIn="onfocusin"in document.documentElement,this.count=1}bind(n,o,a,c){const m=this;let p;const _=window,A=ne=>{m.executeHandlers(yi(ne||_.event),$)};if(!n||Gt(n)||No(n))return a;let $;n[m.expando]?$=n[m.expando]:($=m.count++,n[m.expando]=$,m.events[$]={}),c=c||n;const q=o.split(" ");let X=q.length;for(;X--;){let ne=q[X],ve=A,Oe=!1,ye=!1;if(ne==="DOMContentLoaded"&&(ne="ready"),m.domLoaded&&ne==="ready"&&n.readyState==="complete"){a.call(c,yi({type:ne}));continue}!m.hasFocusIn&&(ne==="focusin"||ne==="focusout")&&(Oe=!0,ye=ne==="focusin"?"focus":"blur",ve=Pe=>{const Ye=yi(Pe||_.event);Ye.type=Ye.type==="focus"?"focusin":"focusout",m.executeHandlers(Ye,$)}),p=m.events[$][ne],p?ne==="ready"&&m.domLoaded?a(yi({type:ne})):p.push({func:a,scope:c}):(m.events[$][ne]=p=[{func:a,scope:c}],p.fakeName=ye,p.capture=Oe,p.nativeHandler=ve,ne==="ready"?Br(n,ve,m):bv(n,ye||ne,ve,Oe))}return n=p=null,a}unbind(n,o,a){if(!n||Gt(n)||No(n))return this;const c=n[this.expando];if(c){let m=this.events[c];if(o){const p=o.split(" ");let _=p.length;for(;_--;){const A=p[_],$=m[A];if($){if(a){let q=$.length;for(;q--;)if($[q].func===a){const X=$.nativeHandler,ne=$.fakeName,ve=$.capture,Oe=$.slice(0,q).concat($.slice(q+1));Oe.nativeHandler=X,Oe.fakeName=ne,Oe.capture=ve,m[A]=Oe}}(!a||$.length===0)&&(delete m[A],Qd(n,$.fakeName||A,$.nativeHandler,$.capture))}}}else ds(m,(p,_)=>{Qd(n,p.fakeName||_,p.nativeHandler,p.capture)}),m={};for(const p in m)if(ho(m,p))return this;delete this.events[c];try{delete n[this.expando]}catch{n[this.expando]=null}}return this}fire(n,o,a){return this.dispatch(n,o,a)}dispatch(n,o,a){if(!n||Gt(n)||No(n))return this;const c=yi({type:o,target:n},a);do{const m=n[this.expando];m&&this.executeHandlers(c,m),n=n.parentNode||n.ownerDocument||n.defaultView||n.parentWindow}while(n&&!c.isPropagationStopped());return this}clean(n){if(!n||Gt(n)||No(n))return this;if(n[this.expando]&&this.unbind(n),n.getElementsByTagName||(n=n.document),n&&n.getElementsByTagName){this.unbind(n);const o=n.getElementsByTagName("*");let a=o.length;for(;a--;)n=o[a],n[this.expando]&&this.unbind(n)}return this}destroy(){this.events={}}cancel(n){return n&&(n.preventDefault(),n.stopImmediatePropagation()),!1}executeHandlers(n,o){const a=this.events[o],c=a&&a[n.type];if(c)for(let m=0,p=c.length;m<p;m++){const _=c[m];if(_&&_.func.call(_.scope,n)===!1&&n.preventDefault(),n.isImmediatePropagationStopped())return}}}jf.Event=new jf;const Yx=nn.each,N1=nn.grep,Ji="data-mce-style",dl=nn.makeMap("fill-opacity font-weight line-height opacity orphans widows z-index zoom"," "),bh=(e,n,o)=>{rt(o)||o===""?Mo(e,n):_i(e,n,o)},Zf=e=>e.replace(/[A-Z]/g,n=>"-"+n.toLowerCase()),Qm=(e,n)=>{let o=0;if(e)for(let a=e.nodeType,c=e.previousSibling;c;c=c.previousSibling){const m=c.nodeType;n&&Gt(c)&&(m===a||!c.data.length)||(o++,a=m)}return o},L1=(e,n)=>{const o=Ia(n,"style"),a=e.serialize(e.parse(o),ts(n));bh(n,Ji,a)},t_=(e,n)=>R(e)?ho(dl,n)?e+"":e+"px":e,Xx=(e,n,o)=>{const a=Zf(n);rt(o)||o===""?mu(e,a):cl(e,a,t_(o,a))},eg=(e,n,o)=>{const a=n.keep_values,c={set:(p,_,A)=>{const $=Ke.fromDom(p);_e(n.url_converter)&&we(_)&&(_=n.url_converter.call(n.url_converter_scope||o(),String(_),A,p));const q="data-mce-"+A;bh($,q,_),bh($,A,_)},get:(p,_)=>{const A=Ke.fromDom(p);return Ia(A,"data-mce-"+_)||Ia(A,_)}},m={style:{set:(p,_)=>{const A=Ke.fromDom(p);a&&bh(A,Ji,_),Mo(A,"style"),ue(_)&&Xo(A,e.parse(_))},get:p=>{const _=Ke.fromDom(p),A=Ia(_,Ji)||Ia(_,"style");return e.serialize(e.parse(A),ts(_))}}};return a&&(m.href=m.src=c),m},Js=(e,n={})=>{const o={},a=window,c={};let m=0;const p=!0,_=!0,A=_1.forElement(Ke.fromDom(e),{contentCssCors:n.contentCssCors,referrerPolicy:n.referrerPolicy}),$=[],q=n.schema?n.schema:Vc({}),X=Gx({url_converter:n.url_converter,url_converter_scope:n.url_converter_scope},n.schema),ne=n.ownEvents?new jf:jf.Event,ve=q.getBlockElements(),Oe=xt=>ue(xt)?ho(ve,xt):Nn(xt)&&(ho(ve,xt.nodeName)||Uf(q,xt)),ye=xt=>xt&&e&&ue(xt)?e.getElementById(xt):xt,Pe=xt=>{const _t=ye(xt);return we(_t)?Ke.fromDom(_t):null},Ye=(xt,_t,an="")=>{let en;const ro=Pe(xt);if(we(ro)&&Vr(ro)){const rs=lR[_t];rs&&rs.get?en=rs.get(ro.dom,_t):en=Ia(ro,_t)}return we(en)?en:an},st=xt=>{const _t=ye(xt);return rt(_t)?[]:_t.attributes},nt=(xt,_t,an)=>{Hn(xt,en=>{if(Nn(en)){const ro=Ke.fromDom(en),rs=an===""?null:an,Yr=Ia(ro,_t),Bg=lR[_t];Bg&&Bg.set?Bg.set(ro.dom,rs,_t):bh(ro,_t,rs),Yr!==rs&&n.onSetAttrib&&n.onSetAttrib({attrElm:ro.dom,attrName:_t,attrValue:rs})}})},bt=(xt,_t)=>xt.cloneNode(_t),Ht=()=>n.root_element||e.body,tn=xt=>{const _t=Pc(xt);return{x:_t.x,y:_t.y,w:_t.width,h:_t.height}},_n=(xt,_t)=>Px(e.body,ye(xt),_t),Dt=(xt,_t,an)=>{Hn(xt,en=>{const ro=Ke.fromDom(en);Xx(ro,_t,an),n.update_styles&&L1(X,ro)})},Ct=(xt,_t)=>{Hn(xt,an=>{const en=Ke.fromDom(an);ds(_t,(ro,rs)=>{Xx(en,rs,ro)}),n.update_styles&&L1(X,en)})},Vt=(xt,_t,an)=>{const en=ye(xt);if(!(rt(en)||!hu(en)&&!ov(en)))return an?zr(Ke.fromDom(en),Zf(_t)):(_t=_t.replace(/-(\D)/g,(ro,rs)=>rs.toUpperCase()),_t==="float"&&(_t="cssFloat"),en.style?en.style[_t]:void 0)},Dn=xt=>{const _t=ye(xt);if(!_t)return{w:0,h:0};let an=Vt(_t,"width"),en=Vt(_t,"height");return(!an||an.indexOf("px")===-1)&&(an="0"),(!en||en.indexOf("px")===-1)&&(en="0"),{w:parseInt(an,10)||_t.offsetWidth||_t.clientWidth,h:parseInt(en,10)||_t.offsetHeight||_t.clientHeight}},Wn=xt=>{const _t=ye(xt),an=_n(_t),en=Dn(_t);return{x:an.x,y:an.y,w:en.w,h:en.h}},Vo=(xt,_t)=>{if(!xt)return!1;const an=te(xt)?xt:[xt];return Re(an,en=>Bs(Ke.fromDom(en),_t))},Go=(xt,_t,an,en)=>{const ro=[];let rs=ye(xt);en=en===void 0;const Yr=an||(Ht().nodeName!=="BODY"?Ht().parentNode:null);if(ue(_t))if(_t==="*")_t=Nn;else{const Bg=_t;_t=g6=>Vo(g6,Bg)}for(;rs&&!(rs===Yr||rt(rs.nodeType)||$n(rs)||zf(rs));){if(!_t||_t(rs))if(en)ro.push(rs);else return[rs];rs=rs.parentNode}return en?ro:null},Ns=(xt,_t,an)=>{const en=Go(xt,_t,an,!1);return en&&en.length>0?en[0]:null},Ks=(xt,_t,an)=>{let en=_t;if(xt){ue(_t)&&(en=ro=>Vo(ro,_t));for(let ro=xt[an];ro;ro=ro[an])if(_e(en)&&en(ro))return ro}return null},fi=(xt,_t)=>Ks(xt,_t,"nextSibling"),Ml=(xt,_t)=>Ks(xt,_t,"previousSibling"),er=xt=>_e(xt.querySelectorAll),un=(xt,_t)=>{var an,en;const ro=(en=(an=ye(_t))!==null&&an!==void 0?an:n.root_element)!==null&&en!==void 0?en:e;return er(ro)?Ro(ro.querySelectorAll(xt)):[]},Hn=function(xt,_t,an){const en=an??this;if(te(xt)){const ro=[];return Yx(xt,(rs,Yr)=>{const Bg=ye(rs);Bg&&ro.push(_t.call(en,Bg,Yr))}),ro}else{const ro=ye(xt);return ro?_t.call(en,ro):!1}},Cs=(xt,_t)=>{Hn(xt,an=>{ds(_t,(en,ro)=>{nt(an,ro,en)})})},gn=(xt,_t)=>{Hn(xt,an=>{const en=Ke.fromDom(an);Um(en,_t)})},eo=(xt,_t,an,en,ro)=>Hn(xt,rs=>{const Yr=ue(_t)?e.createElement(_t):_t;return we(an)&&Cs(Yr,an),en&&(!ue(en)&&en.nodeType?Yr.appendChild(en):ue(en)&&gn(Yr,en)),ro?Yr:rs.appendChild(Yr)}),jo=(xt,_t,an)=>eo(e.createElement(xt),xt,_t,an,!0),wn=fh.decode,zo=fh.encodeAllRaw,qo=(xt,_t,an="")=>{let en="<"+xt;for(const ro in _t)Zl(_t,ro)&&(en+=" "+ro+'="'+zo(_t[ro])+'"');return Yt(an)&&ho(q.getVoidElements(),xt)?en+" />":en+">"+an+"</"+xt+">"},Ba=xt=>{const _t=e.createElement("div"),an=e.createDocumentFragment();an.appendChild(_t),xt&&(_t.innerHTML=xt);let en;for(;en=_t.firstChild;)an.appendChild(en);return an.removeChild(_t),an},Us=(xt,_t)=>Hn(xt,an=>{const en=Ke.fromDom(an);return _t&&be(ga(en),ro=>{ur(ro)&&ro.dom.length===0?Ps(ro):Tr(en,ro)}),Ps(en),en.dom}),Sa=xt=>Hn(xt,_t=>{const an=_t.attributes;for(let en=an.length-1;en>=0;en--)_t.removeAttributeNode(an.item(en))}),pm=xt=>X.parse(xt),Qh=(xt,_t)=>X.serialize(xt,_t),xc=xt=>{if(_b!==Js.DOM&&e===document){if(o[xt])return;o[xt]=!0}let _t=e.getElementById("mceDefaultStyles");if(!_t){_t=e.createElement("style"),_t.id="mceDefaultStyles",_t.type="text/css";const an=e.head;an.firstChild?an.insertBefore(_t,an.firstChild):an.appendChild(_t)}_t.styleSheet?_t.styleSheet.cssText+=xt:_t.appendChild(e.createTextNode(xt))},Ed=xt=>{xt||(xt=""),be(xt.split(","),_t=>{c[_t]=!0,A.load(_t).catch(St)})},bm=(xt,_t,an)=>{Hn(xt,en=>{if(Nn(en)){const ro=Ke.fromDom(en),rs=_t.split(" ");be(rs,Yr=>{we(an)?(an?Wd:za)(ro,Yr):vp(ro,Yr)})}})},Ad=(xt,_t)=>{bm(xt,_t,!0)},vm=(xt,_t)=>{bm(xt,_t,!1)},Gn=(xt,_t)=>{const an=Pe(xt),en=_t.split(" ");return we(an)&&Do(en,ro=>Kd(an,ro))},gs=xt=>{Hn(xt,_t=>mu(Ke.fromDom(_t),"display"))},qr=xt=>{Hn(xt,_t=>cl(Ke.fromDom(_t),"display","none"))},wi=xt=>{const _t=Pe(xt);return we(_t)&&Ef(Mr(_t,"display"),"none")},na=xt=>(xt||"mce_")+m++,bl=xt=>{const _t=Pe(xt);return we(_t)?Nn(_t.dom)?_t.dom.outerHTML:rh(_t):""},Vi=(xt,_t)=>{Hn(xt,an=>{Nn(an)&&(an.outerHTML=_t)})},zi=(xt,_t)=>{const an=ye(_t);return Hn(xt,en=>{const ro=an==null?void 0:an.parentNode,rs=an==null?void 0:an.nextSibling;return ro&&(rs?ro.insertBefore(en,rs):ro.appendChild(en)),en})},wc=(xt,_t,an)=>Hn(_t,en=>{var ro;const rs=te(_t)?xt.cloneNode(!0):xt;return an&&Yx(N1(en.childNodes),Yr=>{rs.appendChild(Yr)}),(ro=en.parentNode)===null||ro===void 0||ro.replaceChild(rs,en),en}),Ng=(xt,_t)=>{if(xt.nodeName!==_t.toUpperCase()){const an=jo(_t);return Yx(st(xt),en=>{nt(an,en.nodeName,Ye(xt,en.nodeName))}),wc(an,xt,!0),an}else return xt},Lg=(xt,_t)=>{let an=xt;for(;an;){let en=_t;for(;en&&an!==en;)en=en.parentNode;if(an===en)break;an=an.parentNode}return!an&&xt.ownerDocument?xt.ownerDocument.documentElement:an},Mg=(xt,_t,an)=>de(_t)?uc(q,xt,{...an,isContent:ro=>{const rs=ro.nodeName.toLowerCase();return!!_t[rs]}}):uc(q,xt,an),ym=()=>e.createRange(),ex=(xt,_t,an)=>{let en=ym(),ro,rs;if(xt&&_t&&xt.parentNode&&_t.parentNode){const Yr=xt.parentNode;return en.setStart(Yr,Qm(xt)),en.setEnd(_t.parentNode,Qm(_t)),ro=en.extractContents(),en=ym(),en.setStart(_t.parentNode,Qm(_t)+1),en.setEnd(Yr,Qm(xt)+1),rs=en.extractContents(),Yr.insertBefore(Op(_b,ro,q),xt),an?Yr.insertBefore(an,xt):Yr.insertBefore(_t,xt),Yr.insertBefore(Op(_b,rs,q),xt),Us(xt),an||_t}else return},Zk=(xt,_t,an,en)=>{if(te(xt)){let ro=xt.length;const rs=[];for(;ro--;)rs[ro]=Zk(xt[ro],_t,an,en);return rs}else return n.collect&&(xt===e||xt===a)&&$.push([xt,_t,an,en]),ne.bind(xt,_t,an,en||_b)},Gk=(xt,_t,an)=>{if(te(xt)){let en=xt.length;const ro=[];for(;en--;)ro[en]=Gk(xt[en],_t,an);return ro}else{if($.length>0&&(xt===e||xt===a)){let en=$.length;for(;en--;){const[ro,rs,Yr]=$[en];xt===ro&&(!_t||_t===rs)&&(!an||an===Yr)&&ne.unbind(ro,rs,Yr)}}return ne.unbind(xt,_t,an)}},_9=(xt,_t,an)=>ne.dispatch(xt,_t,an),N0=(xt,_t,an)=>ne.dispatch(xt,_t,an),m6=xt=>{if(xt&&hu(xt)){const _t=xt.getAttribute("data-mce-contenteditable");return _t&&_t!=="inherit"?_t:xt.contentEditable!=="inherit"?xt.contentEditable:null}else return null},_b={doc:e,settings:n,win:a,files:c,stdMode:p,boxModel:_,styleSheetLoader:A,boundEvents:$,styles:X,schema:q,events:ne,isBlock:Oe,root:null,clone:bt,getRoot:Ht,getViewPort:tn,getRect:Wn,getSize:Dn,getParent:Ns,getParents:Go,get:ye,getNext:fi,getPrev:Ml,select:un,is:Vo,add:eo,create:jo,createHTML:qo,createFragment:Ba,remove:Us,setStyle:Dt,getStyle:Vt,setStyles:Ct,removeAllAttribs:Sa,setAttrib:nt,setAttribs:Cs,getAttrib:Ye,getPos:_n,parseStyle:pm,serializeStyle:Qh,addStyle:xc,loadCSS:Ed,addClass:Ad,removeClass:vm,hasClass:Gn,toggleClass:bm,show:gs,hide:qr,isHidden:wi,uniqueId:na,setHTML:gn,getOuterHTML:bl,setOuterHTML:Vi,decode:wn,encode:zo,insertAfter:zi,replace:wc,rename:Ng,findCommonAncestor:Lg,run:Hn,getAttribs:st,isEmpty:Mg,createRng:ym,nodeIndex:Qm,split:ex,bind:Zk,unbind:Gk,fire:N0,dispatch:_9,getContentEditable:m6,getContentEditableParent:xt=>{const _t=Ht();let an=null;for(let en=xt;en&&en!==_t&&(an=m6(en),an===null);en=en.parentNode);return an},isEditable:xt=>{if(we(xt)){const _t=Nn(xt)?xt:xt.parentElement;return we(_t)&&hu(_t)&&Cr(Ke.fromDom(_t))}else return!1},destroy:()=>{if($.length>0){let xt=$.length;for(;xt--;){const[_t,an,en]=$[xt];ne.unbind(_t,an,en)}}ds(c,(xt,_t)=>{A.unload(_t),delete c[_t]})},isChildOf:(xt,_t)=>xt===_t||_t.contains(xt),dumpRng:xt=>"startContainer: "+xt.startContainer.nodeName+", startOffset: "+xt.startOffset+", endContainer: "+xt.endContainer.nodeName+", endOffset: "+xt.endOffset},lR=eg(X,n,dt(_b));return _b};Js.DOM=Js(document),Js.nodeIndex=Qm;const M1=Js.DOM,fr=0,cd=1,yu=2,vh=3;class Ol{constructor(n={}){this.states={},this.queue=[],this.scriptLoadedCallbacks={},this.queueLoadedCallbacks=[],this.loading=!1,this.settings=n}_setReferrerPolicy(n){this.settings.referrerPolicy=n}loadScript(n){return new Promise((o,a)=>{const c=M1;let m;const p=()=>{c.remove($),m&&(m.onerror=m.onload=m=null)},_=()=>{p(),o()},A=()=>{p(),a("Failed to load script: "+n)},$=c.uniqueId();m=document.createElement("script"),m.id=$,m.type="text/javascript",m.src=nn._addCacheSuffix(n),this.settings.referrerPolicy&&c.setAttrib(m,"referrerpolicy",this.settings.referrerPolicy),m.onload=_,m.onerror=A,(document.getElementsByTagName("head")[0]||document.body).appendChild(m)})}isDone(n){return this.states[n]===yu}markDone(n){this.states[n]=yu}add(n){const o=this;return o.queue.push(n),o.states[n]===void 0&&(o.states[n]=fr),new Promise((c,m)=>{o.scriptLoadedCallbacks[n]||(o.scriptLoadedCallbacks[n]=[]),o.scriptLoadedCallbacks[n].push({resolve:c,reject:m})})}load(n){return this.add(n)}remove(n){delete this.states[n],delete this.scriptLoadedCallbacks[n]}loadQueue(){const n=this.queue;return this.queue=[],this.loadScripts(n)}loadScripts(n){const o=this,a=(A,$)=>{Ds(o.scriptLoadedCallbacks,$).each(q=>{be(q,X=>X[A]($))}),delete o.scriptLoadedCallbacks[$]},c=A=>{const $=Ge(A,q=>q.status==="rejected");return $.length>0?Promise.reject($o($,({reason:q})=>te(q)?q:[q])):Promise.resolve()},m=A=>Promise.allSettled(Ve(A,$=>o.states[$]===yu?(a("resolve",$),Promise.resolve()):o.states[$]===vh?(a("reject",$),Promise.reject($)):(o.states[$]=cd,o.loadScript($).then(()=>{o.states[$]=yu,a("resolve",$);const q=o.queue;return q.length>0?(o.queue=[],m(q).then(c)):Promise.resolve()},()=>(o.states[$]=vh,a("reject",$),Promise.reject($)))))),p=A=>(o.loading=!0,m(A).then($=>{o.loading=!1;const q=o.queueLoadedCallbacks.shift();return J.from(q).each(Wt),c($)})),_=Gu(n);return o.loading?new Promise((A,$)=>{o.queueLoadedCallbacks.push(()=>{p(_).then(A,$)})}):p(_)}}Ol.ScriptLoader=new Ol;const va=(e,n)=>{const o=e.indexOf(n);return o!==-1&&e.indexOf(n,o+1)>o},tg=e=>j(e)&&ho(e,"raw"),vv=e=>te(e)&&e.length>1,yh={},yv=Ni("en"),xh=()=>Ds(yh,yv.get()),zc={getData:()=>jl(yh,e=>({...e})),setCode:e=>{e&&yv.set(e)},getCode:()=>yv.get(),add:(e,n)=>{let o=yh[e];o||(yh[e]=o={});const a=Ve(Jt(n),c=>c.toLowerCase());ds(n,(c,m)=>{const p=m.toLowerCase();p!==m&&va(a,p)?(ho(n,p)||(o[p]=c),o[m]=c):o[p]=c})},translate:e=>{const n=xh().getOr({}),o=p=>_e(p)?Object.prototype.toString.call(p):a(p)?"":""+p,a=p=>p===""||p===null||p===void 0,c=p=>{const _=o(p);return ho(n,_)?o(n[_]):Ds(n,_.toLowerCase()).map(o).getOr(_)},m=p=>p.replace(/{context:\w+}$/,"");if(a(e))return"";if(tg(e))return o(e.raw);if(vv(e)){const p=e.slice(1),_=c(e[0]).replace(/\{([0-9]+)\}/g,(A,$)=>ho(p,$)?o(p[$]):A);return m(_)}return m(c(e))},isRtl:()=>xh().bind(e=>Ds(e,"_dir")).exists(e=>e==="rtl"),hasCode:e=>ho(yh,e)},fl=()=>{const e=[],n={},o={},a=[],c=(ye,Pe)=>{const Ye=Ge(a,st=>st.name===ye&&st.state===Pe);be(Ye,st=>st.resolve())},m=ye=>ho(n,ye),p=ye=>ho(o,ye),_=ye=>{if(o[ye])return o[ye].instance},A=(ye,Pe)=>{const Ye=zc.getCode(),st=","+(Pe||"")+",";!Ye||Pe&&st.indexOf(","+Ye+",")===-1||Ol.ScriptLoader.add(n[ye]+"/langs/"+Ye+".js")},$=(ye,Pe)=>{fl.languageLoad!==!1&&(m(ye)?A(ye,Pe):Oe(ye,"loaded").then(()=>A(ye,Pe)))},q=(ye,Pe)=>(e.push(Pe),o[ye]={instance:Pe},c(ye,"added"),Pe),X=ye=>{delete n[ye],delete o[ye]},ne=(ye,Pe)=>ue(Pe)?ue(ye)?{prefix:"",resource:Pe,suffix:""}:{prefix:ye.prefix,resource:Pe,suffix:ye.suffix}:Pe,ve=(ye,Pe)=>{if(n[ye])return Promise.resolve();let Ye=ue(Pe)?Pe:Pe.prefix+Pe.resource+Pe.suffix;Ye.indexOf("/")!==0&&Ye.indexOf("://")===-1&&(Ye=fl.baseURL+"/"+Ye),n[ye]=Ye.substring(0,Ye.lastIndexOf("/"));const st=()=>(c(ye,"loaded"),Promise.resolve());return o[ye]?st():Ol.ScriptLoader.add(Ye).then(st)},Oe=(ye,Pe="added")=>Pe==="added"&&p(ye)||Pe==="loaded"&&m(ye)?Promise.resolve():new Promise(Ye=>{a.push({name:ye,state:Pe,resolve:Ye})});return{items:e,urls:n,lookup:o,get:_,requireLangPack:$,add:q,remove:X,createUrl:ne,load:ve,waitFor:Oe}};fl.languageLoad=!0,fl.baseURL="",fl.PluginManager=fl(),fl.ThemeManager=fl(),fl.ModelManager=fl();const wh=(e,n)=>{let o=null;return{cancel:()=>{ze(o)||(clearTimeout(o),o=null)},throttle:(...m)=>{ze(o)&&(o=setTimeout(()=>{o=null,e.apply(null,m)},n))}}},Pp=(e,n)=>{let o=null;const a=()=>{ze(o)||(clearTimeout(o),o=null)};return{cancel:a,throttle:(...m)=>{a(),o=setTimeout(()=>{o=null,e.apply(null,m)},n)}}},r_=(e,n,o)=>fu(e,n,o).isSome(),Ir=dt("mce-annotation"),Dr=dt("data-mce-annotation"),oi=dt("data-mce-annotation-uid"),Fs=dt("data-mce-annotation-active"),kr=dt("data-mce-annotation-classes"),jr=dt("data-mce-annotation-attrs"),B1=e=>n=>ns(n,e),F1=(e,n)=>{const o=e.selection.getRng(),a=Ke.fromDom(o.startContainer),c=Ke.fromDom(e.getBody()),m=n.fold(()=>"."+Ir(),A=>`[${Dr()}="${A}"]`),p=td(a,o.startOffset).getOr(a);return Yi(p,m,B1(c)).bind(A=>au(A,`${oi()}`).bind($=>au(A,`${Dr()}`).map(q=>{const X=t2(e,$);return{uid:$,name:q,elements:X}})))},e2=e=>Vr(e)&&Kd(e,Ir()),xv=(e,n)=>Hd(e,"data-mce-bogus")||r_(e,'[data-mce-bogus="all"]',B1(n)),t2=(e,n)=>{const o=Ke.fromDom(e.getBody()),a=vi(o,`[${oi()}="${n}"]`);return Ge(a,c=>!xv(c,o))},Ch=(e,n)=>{const o=Ke.fromDom(e.getBody()),a=vi(o,`[${Dr()}="${n}"]`),c={};return be(a,m=>{if(!xv(m,o)){const p=Ia(m,oi()),_=Ds(c,p).getOr([]);c[p]=_.concat([m])}}),c},$1=(e,n)=>{const o=Ni({}),a=()=>({listeners:[],previous:Li()}),c=(X,ne)=>{m(X,ve=>(ne(ve),ve))},m=(X,ne)=>{const ve=o.get(),Oe=Ds(ve,X).getOrThunk(a),ye=ne(Oe);ve[X]=ye,o.set(ve)},p=(X,ne,ve)=>{c(X,Oe=>{be(Oe.listeners,ye=>ye(!0,X,{uid:ne,nodes:Ve(ve,Pe=>Pe.dom)}))})},_=X=>{c(X,ne=>{be(ne.listeners,ve=>ve(!1,X))})},A=(X,ne)=>{be(t2(e,X),ve=>{ne?_i(ve,Fs(),"true"):Mo(ve,Fs())})},$=Pp(()=>{const X=xs(n.getNames());be(X,ne=>{m(ne,ve=>{const Oe=ve.previous.get();return F1(e,J.some(ne)).fold(()=>{Oe.each(ye=>{_(ne),ve.previous.clear(),A(ye,!1)})},({uid:ye,name:Pe,elements:Ye})=>{Ef(Oe,ye)||(Oe.each(st=>A(st,!1)),p(Pe,ye,Ye),ve.previous.set(ye),A(ye,!0))}),{previous:ve.previous,listeners:ve.listeners}})})},30);return e.on("remove",()=>{$.cancel()}),e.on("NodeChange",()=>{$.throttle()}),{addListener:(X,ne)=>{m(X,ve=>({previous:ve.previous,listeners:ve.listeners.concat([ne])}))}}},V1=(e,n)=>{const o=Dr(),a=m=>J.from(m.attr(o)).bind(n.lookup),c=m=>{var p,_;m.attr(oi(),null),m.attr(Dr(),null),m.attr(Fs(),null);const A=J.from(m.attr(jr())).map(ne=>ne.split(",")).getOr([]),$=J.from(m.attr(kr())).map(ne=>ne.split(",")).getOr([]);be(A,ne=>m.attr(ne,null));const q=(_=(p=m.attr("class"))===null||p===void 0?void 0:p.split(" "))!==null&&_!==void 0?_:[],X=us(q,[Ir()].concat($));m.attr("class",X.length>0?X.join(" "):null),m.attr(kr(),null),m.attr(jr(),null)};e.serializer.addTempAttr(Fs()),e.serializer.addAttributeFilter(o,m=>{for(const p of m)a(p).each(_=>{_.persistent===!1&&(p.name==="span"?p.unwrap():c(p))})})},n2=()=>{const e={};return{register:(c,m)=>{e[c]={name:c,settings:m}},lookup:c=>Ds(e,c).map(m=>m.settings),getNames:()=>Jt(e)}},wv=(e,n,o)=>Math.min(Math.max(e,n),o),Rl=()=>window.crypto.getRandomValues(new Uint32Array(1))[0]/4294967295;let o2=0;const ja=e=>{const o=new Date().getTime(),a=Math.floor(Rl()*1e9);return o2++,e+"_"+a+o2+String(o)},Cv=(e,n)=>{be(n,o=>{Wd(e,o)})},_h=(e,n)=>{be(n,o=>{za(e,o)})},xu=(e,n)=>Ke.fromDom(e.dom.cloneNode(n)),Zr=e=>xu(e,!1),og=e=>xu(e,!0),s2=(e,n)=>{const o=Ke.fromTag(n),a=El(e);return Va(o,a),o},r2=(e,n)=>{const o=s2(e,n);ut(e,o);const a=ga(e);return ni(o,a),Ps(e),o},_v=(e,n,o=In)=>{const a=new ha(e,n),c=m=>{let p;do p=a[m]();while(p&&!Gt(p)&&!o(p));return J.from(p).filter(Gt)};return{current:()=>J.from(a.current()).filter(Gt),next:()=>c("next"),prev:()=>c("prev"),prev2:()=>c("prev2")}},ef=(e,n)=>{const o=n||(p=>e.isBlock(p)||pr(p)||wo(p)),a=(p,_,A,$)=>{if(Gt(p)){const q=$(p,_,p.data);if(q!==-1)return J.some({container:p,offset:q})}return A().bind(q=>a(q.container,q.offset,A,$))};return{backwards:(p,_,A,$)=>{const q=_v(p,$??e.getRoot(),o);return a(p,_,()=>q.prev().map(X=>({container:X,offset:X.length})),A).getOrNull()},forwards:(p,_,A,$)=>{const q=_v(p,$??e.getRoot(),o);return a(p,_,()=>q.next().map(X=>({container:X,offset:0})),A).getOrNull()}}},Sv=((e,n)=>{const o=m=>{if(!e(m))throw new Error("Can only get "+n+" value of a "+n+" node");return a(m).getOr("")},a=m=>e(m)?J.from(m.dom.nodeValue):J.none();return{get:o,getOption:a,set:(m,p)=>{if(!e(m))throw new Error("Can only set raw "+n+" value of a "+n+" node");m.dom.nodeValue=p}}})(ur,"text"),sg=e=>Sv.get(e),i_=e=>Sv.getOption(e),kv=(e,n)=>Sv.set(e,n),Ev=["td","th"],z1=["thead","tbody","tfoot"],Np=["h1","h2","h3","h4","h5","h6","p","div","address","pre","form","blockquote","center","dir","fieldset","header","footer","article","section","hgroup","aside","nav","figure"],H1=["li","dd","dt"],Za=["ul","ol","dl"],i2=["pre","script","textarea","style"],tf=e=>{let n;return o=>(n=n||Qr(e,on),ho(n,ts(o)))},Av=e=>ts(e)==="table",ud=e=>Vr(e)&&ts(e)==="br",Tv=tf(Np),Ov=tf(Za),rg=tf(H1),Sh=tf(z1),Hc=tf(Ev),Rv=tf(i2),XE=e=>{const n=[];let o=e.dom;for(;o;)n.push(Ke.fromDom(o)),o=o.lastChild;return n},fc=e=>{const n=vi(e,"br"),o=Ge(XE(e).slice(-1),ud);n.length===o.length&&be(o,Ps)},nf=()=>{const e=Ke.fromTag("br");return _i(e,"data-mce-bogus","1"),e},Uc=e=>{or(e),Hr(e,nf())},a2=(e,n)=>{nd(e).each(o=>{Si(o).each(a=>{n.isBlock(ts(e))&&ud(o)&&n.isBlock(ts(a))&&Ps(o)})})},Ei=Or,Wc=id,Il=wp,JE=e=>e.insertContent(Ei,{preserve_zwsp:!0}),Gf=Nn,of=Gt,Lp=e=>(of(e)&&(e=e.parentNode),Gf(e)&&e.hasAttribute("data-mce-caret")),ig=e=>of(e)&&Wc(e.data),Jl=e=>Lp(e)||ig(e),U1=e=>e.firstChild!==e.lastChild||!pr(e.firstChild),W1=(e,n)=>{var o;const c=((o=e.ownerDocument)!==null&&o!==void 0?o:document).createTextNode(Ei),m=e.parentNode;if(n){const p=e.previousSibling;if(of(p)){if(Jl(p))return p;if(sf(p))return p.splitText(p.data.length-1)}m==null||m.insertBefore(c,e)}else{const p=e.nextSibling;if(of(p)){if(Jl(p))return p;if(Dv(p))return p.splitText(1),p}e.nextSibling?m==null||m.insertBefore(c,e.nextSibling):m==null||m.appendChild(c)}return c},Iv=e=>{const n=e.container();return Gt(n)?n.data.charAt(e.offset())===Ei||e.isAtStart()&&ig(n.previousSibling):!1},K1=e=>{const n=e.container();return Gt(n)?n.data.charAt(e.offset()-1)===Ei||e.isAtEnd()&&ig(n.nextSibling):!1},a_=(e,n,o)=>{var a;const m=((a=n.ownerDocument)!==null&&a!==void 0?a:document).createElement(e);m.setAttribute("data-mce-caret",o?"before":"after"),m.setAttribute("data-mce-bogus","all"),m.appendChild(nf().dom);const p=n.parentNode;return o?p==null||p.insertBefore(m,n):n.nextSibling?p==null||p.insertBefore(m,n.nextSibling):p==null||p.appendChild(m),m},Dv=e=>of(e)&&e.data[0]===Ei,sf=e=>of(e)&&e.data[e.data.length-1]===Ei,Pv=e=>{var n;const o=e.getElementsByTagName("br"),a=o[o.length-1];$f(a)&&((n=a.parentNode)===null||n===void 0||n.removeChild(a))},kh=e=>e&&e.hasAttribute("data-mce-caret")?(Pv(e),e.removeAttribute("data-mce-caret"),e.removeAttribute("data-mce-bogus"),e.removeAttribute("style"),e.removeAttribute("data-mce-style"),e.removeAttribute("_moz_abspos"),e):null,Eh=e=>Lp(e.startContainer),qf=Math.round,Yf=e=>e?{left:qf(e.left),top:qf(e.top),bottom:qf(e.bottom),right:qf(e.right),width:qf(e.width),height:qf(e.height)}:{left:0,top:0,bottom:0,right:0,width:0,height:0},Nv=(e,n)=>(e=Yf(e),n||(e.left=e.left+e.width),e.right=e.left,e.width=0,e),Xf=(e,n)=>e.left===n.left&&e.top===n.top&&e.bottom===n.bottom&&e.right===n.right,Jf=(e,n,o)=>e>=0&&e<=Math.min(n.height,o.height)/2,Qf=(e,n)=>{const o=Math.min(n.height/2,e.height/2);return e.bottom-o<n.top?!0:e.top>n.bottom?!1:Jf(n.top-e.bottom,e,n)},Ah=(e,n)=>e.top>n.bottom?!0:e.bottom<n.top?!1:Jf(n.bottom-e.top,e,n),j1=(e,n,o)=>n>=e.left&&n<=e.right&&o>=e.top&&o<=e.bottom,Mp=e=>ln(e,(n,o)=>n.fold(()=>J.some(o),a=>{const c=Math.min(o.left,a.left),m=Math.min(o.top,a.top),p=Math.max(o.right,a.right),_=Math.max(o.bottom,a.bottom);return J.some({top:m,right:p,bottom:_,left:c,width:p-c,height:_-m})}),J.none()),Z1=(e,n,o)=>{const a=Math.max(Math.min(n,e.left+e.width),e.left),c=Math.max(Math.min(o,e.top+e.height),e.top);return Math.sqrt((n-a)*(n-a)+(o-c)*(o-c))},l2=(e,n)=>Math.max(0,Math.min(e.bottom,n.bottom)-Math.max(e.top,n.top)),Bp=e=>{const n=e.startContainer,o=e.startOffset;return n===e.endContainer&&n.hasChildNodes()&&e.endOffset===o+1?n.childNodes[o]:null},Ai=(e,n)=>{if(Nn(e)&&e.hasChildNodes()){const o=e.childNodes,a=wv(n,0,o.length-1);return o[a]}else return e},c2=(e,n)=>{if(!(n<0&&Nn(e)&&e.hasChildNodes()))return Ai(e,n)},l_=new RegExp("[-----------------------------------------------------------------------------------------------------------------------------------]"),u2=e=>ue(e)&&e.charCodeAt(0)>=768&&l_.test(e),d2=(...e)=>n=>{for(let o=0;o<e.length;o++)if(e[o](n))return!0;return!1},em=(...e)=>n=>{for(let o=0;o<e.length;o++)if(!e[o](n))return!1;return!0},G1=Mc,Lv=wo,f2=pr,QE=Gt,tm=pa(["script","style","textarea"]),Mv=pa(["img","input","textarea","hr","iframe","video","audio","object","embed"]),c_=pa(["table"]),u_=Jl,wu=e=>u_(e)?!1:QE(e)?!tm(e.parentNode):Mv(e)||f2(e)||c_(e)||q1(e),m2=e=>Nn(e)&&e.getAttribute("unselectable")==="true",q1=e=>!m2(e)&&Lv(e),d_=(e,n)=>{for(let o=e.parentNode;o&&o!==n;o=o.parentNode){if(q1(o))return!1;if(G1(o))return!0}return!0},Th=e=>q1(e)?!ln(Ro(e.getElementsByTagName("*")),(n,o)=>n||G1(o),!1):!1,Fp=e=>Mv(e)||Th(e),Bv=(e,n)=>wu(e)&&d_(e,n),f_=Nn,Cu=wu,ag=Nc("display","block table"),Fv=Nc("float","left right"),$v=em(f_,Cu,Me(Fv)),Y1=Me(Nc("white-space","pre pre-line pre-wrap")),Vv=Gt,xa=pr,X1=Js.nodeIndex,lg=c2,cg=e=>e?e.createRange():Js.DOM.createRng(),zv=e=>ue(e)&&/[\r\n\t ]/.test(e),J1=e=>!!e.setStart&&!!e.setEnd,Oh=e=>{const n=e.startContainer,o=e.startOffset;if(zv(e.toString())&&Y1(n.parentNode)&&Gt(n)){const a=n.data;if(zv(a[o-1])||zv(a[o+1]))return!0}return!1},nm=e=>{const n=e.ownerDocument,o=cg(n),a=n.createTextNode(Pi),c=e.parentNode;c.insertBefore(a,e),o.setStart(a,0),o.setEnd(a,1);const m=Yf(o.getBoundingClientRect());return c.removeChild(a),m},g2=e=>{const n=e.startContainer,o=e.endContainer,a=e.startOffset,c=e.endOffset;if(n===o&&Gt(o)&&a===0&&c===1){const m=e.cloneRange();return m.setEndAfter(o),ml(m)}else return null},Q1=e=>e.left===0&&e.right===0&&e.top===0&&e.bottom===0,ml=e=>{var n;let o;const a=e.getClientRects();return a.length>0?o=Yf(a[0]):o=Yf(e.getBoundingClientRect()),!J1(e)&&xa(e)&&Q1(o)?nm(e):Q1(o)&&J1(e)&&(n=g2(e))!==null&&n!==void 0?n:o},om=(e,n)=>{const o=Nv(e,n);return o.width=1,o.right=o.left+1,o},h2=e=>{const n=[],o=p=>{p.height!==0&&(n.length>0&&Xf(p,n[n.length-1])||n.push(p))},a=(p,_)=>{const A=cg(p.ownerDocument);if(_<p.data.length){if(u2(p.data[_]))return;if(u2(p.data[_-1])&&(A.setStart(p,_),A.setEnd(p,_+1),!Oh(A))){o(om(ml(A),!1));return}}_>0&&(A.setStart(p,_-1),A.setEnd(p,_),Oh(A)||o(om(ml(A),!1))),_<p.data.length&&(A.setStart(p,_),A.setEnd(p,_+1),Oh(A)||o(om(ml(A),!0)))},c=e.container(),m=e.offset();if(Vv(c))return a(c,m),n;if(f_(c))if(e.isAtEnd()){const p=lg(c,m);Vv(p)&&a(p,p.data.length),$v(p)&&!xa(p)&&o(om(ml(p),!1))}else{const p=lg(c,m);if(Vv(p)&&a(p,0),$v(p)&&e.isAtEnd())return o(om(ml(p),!1)),n;const _=lg(e.container(),e.offset()-1);$v(_)&&!xa(_)&&(ag(_)||ag(p)||!$v(p))&&o(om(ml(_),!1)),$v(p)&&o(om(ml(p),!0))}return n},kt=(e,n,o)=>{const a=()=>(Vv(e),n===0),c=()=>Vv(e)?n>=e.data.length:n>=e.childNodes.length,m=()=>{const q=cg(e.ownerDocument);return q.setStart(e,n),q.setEnd(e,n),q},p=()=>(o||(o=h2(kt(e,n))),o),_=()=>p().length>0,A=q=>q&&e===q.container()&&n===q.offset(),$=q=>lg(e,q?n-1:n);return{container:dt(e),offset:dt(n),toRange:m,getClientRects:p,isVisible:_,isAtStart:a,isAtEnd:c,isEqual:A,getNode:$}};kt.fromRangeStart=e=>kt(e.startContainer,e.startOffset),kt.fromRangeEnd=e=>kt(e.endContainer,e.endOffset),kt.after=e=>kt(e.parentNode,X1(e)+1),kt.before=e=>kt(e.parentNode,X1(e)),kt.isAbove=(e,n)=>ua(Tn(n.getClientRects()),go(e.getClientRects()),Qf).getOr(!1),kt.isBelow=(e,n)=>ua(go(n.getClientRects()),Tn(e.getClientRects()),Ah).getOr(!1),kt.isAtStart=e=>e?e.isAtStart():!1,kt.isAtEnd=e=>e?e.isAtEnd():!1,kt.isTextPosition=e=>e?Gt(e.container()):!1,kt.isElementPosition=e=>!kt.isTextPosition(e);const $p=(e,n)=>{Gt(n)&&n.data.length===0&&e.remove(n)},eA=(e,n,o)=>{n.insertNode(o),$p(e,o.previousSibling),$p(e,o.nextSibling)},m_=(e,n,o)=>{const a=J.from(o.firstChild),c=J.from(o.lastChild);n.insertNode(o),a.each(m=>$p(e,m.previousSibling)),c.each(m=>$p(e,m.nextSibling))},ey=(e,n,o)=>{zf(o)?m_(e,n,o):eA(e,n,o)},_u=Gt,ty=$f,Hv=Js.nodeIndex,p2=e=>{const n=e.parentNode;return ty(n)?p2(n):n},b2=e=>e?Cl(e.childNodes,(n,o)=>(ty(o)&&o.nodeName!=="BR"?n=n.concat(b2(o)):n.push(o),n),[]):[],tA=(e,n)=>{let o=e;for(;(o=o.previousSibling)&&_u(o);)n+=o.data.length;return n},y=e=>n=>e===n,S=e=>{let n,o;n=b2(p2(e)),o=lr(n,y(e),e),n=n.slice(0,o+1);const a=Cl(n,(c,m,p)=>(_u(m)&&_u(n[p-1])&&c++,c),0);return n=ol(n,pa([e.nodeName])),o=lr(n,y(e),e),o-a},T=e=>(_u(e)?"text()":e.nodeName.toLowerCase())+"["+S(e)+"]",M=(e,n,o)=>{const a=[];for(let c=n.parentNode;c&&c!==e;c=c.parentNode)a.push(c);return a},U=(e,n)=>{let o=[],a=n.container(),c=n.offset(),m;if(_u(a))m=tA(a,c);else{const _=a.childNodes;c>=_.length?(m="after",c=_.length-1):m="before",a=_[c]}o.push(T(a));let p=M(e,a);return p=ol(p,Me($f)),o=o.concat(Dm(p,_=>T(_))),o.reverse().join("/")+","+m},K=(e,n,o)=>{let a=b2(e);return a=ol(a,(c,m)=>!_u(c)||!_u(a[m-1])),a=ol(a,pa([n])),a[o]},se=(e,n)=>{let o=e,a=0;for(;_u(o);){const c=o.data.length;if(n>=a&&n<=a+c){e=o,n=n-a;break}if(!_u(o.nextSibling)){e=o,n=c;break}a+=c,o=o.nextSibling}return _u(e)&&n>e.data.length&&(n=e.data.length),kt(e,n)},le=(e,n)=>{if(!n)return null;const o=n.split(","),a=o[0].split("/"),c=o.length>1?o[1]:"before",m=Cl(a,(p,_)=>{const A=/([\w\-\(\)]+)\[([0-9]+)\]/.exec(_);return A?(A[1]==="text()"&&(A[1]="#text"),K(p,A[1],parseInt(A[2],10))):null},e);if(!m)return null;if(!_u(m)&&m.parentNode){let p;return c==="after"?p=Hv(m)+1:p=Hv(m),kt(m.parentNode,p)}return se(m,parseInt(c,10))},ke=wo,$e=(e,n,o)=>{let a=e(n.data.slice(0,o)).length;for(let c=n.previousSibling;c&&Gt(c);c=c.previousSibling)a+=e(c.data).length;return a},Qe=(e,n,o,a,c)=>{const m=c?a.startContainer:a.endContainer;let p=c?a.startOffset:a.endOffset;const _=[],A=e.getRoot();if(Gt(m))_.push(o?$e(n,m,p):p);else{let $=0;const q=m.childNodes;p>=q.length&&q.length&&($=1,p=Math.max(0,q.length-1)),_.push(e.nodeIndex(q[p],o)+$)}for(let $=m;$&&$!==A;$=$.parentNode)_.push(e.nodeIndex($,o));return _},Le=(e,n,o,a)=>{const c=n.dom,m=Qe(c,e,o,a,!0),p=n.isForward(),_=Eh(a)?{isFakeCaret:!0}:{};if(n.isCollapsed())return{start:m,forward:p,..._};{const A=Qe(c,e,o,a,!1);return{start:m,end:A,forward:p,..._}}},Ue=(e,n,o)=>{let a=0;return nn.each(e.select(n),c=>{if(c.getAttribute("data-mce-bogus")!=="all"){if(c===o)return!1;a++;return}}),a},Ze=(e,n)=>{let o=n?e.startContainer:e.endContainer,a=n?e.startOffset:e.endOffset;if(Nn(o)&&o.nodeName==="TR"){const c=o.childNodes;o=c[Math.min(n?a:a-1,c.length-1)],o&&(a=n?0:o.childNodes.length,n?e.setStart(o,a):e.setEnd(o,a))}},ct=e=>(Ze(e,!0),Ze(e,!1),e),ft=(e,n)=>{if(Nn(e)&&(e=Ai(e,n),ke(e)))return e;if(Jl(e)){Gt(e)&&Lp(e)&&(e=e.parentNode);let o=e.previousSibling;if(ke(o)||(o=e.nextSibling,ke(o)))return o}},Mt=e=>ft(e.startContainer,e.startOffset)||ft(e.endContainer,e.endOffset),$t=(e,n,o)=>{const a=o.getNode(),c=o.getRng();if(a.nodeName==="IMG"||ke(a)){const p=a.nodeName;return{name:p,index:Ue(o.dom,p,a)}}const m=Mt(c);if(m){const p=m.tagName;return{name:p,index:Ue(o.dom,p,m)}}return Le(e,o,n,c)},Lt=e=>{const n=e.getRng();return{start:U(e.dom.getRoot(),kt.fromRangeStart(n)),end:U(e.dom.getRoot(),kt.fromRangeEnd(n)),forward:e.isForward()}},zt=e=>({rng:e.getRng(),forward:e.isForward()}),Qt=(e,n,o)=>{const a={"data-mce-type":"bookmark",id:n,style:"overflow:hidden;line-height:0px"};return o?e.create("span",a,"&#xFEFF;"):e.create("span",a)},rn=(e,n)=>{const o=e.dom;let a=e.getRng();const c=o.uniqueId(),m=e.isCollapsed(),p=e.getNode(),_=p.nodeName,A=e.isForward();if(_==="IMG")return{name:_,index:Ue(o,_,p)};const $=ct(a.cloneRange());if(!m){$.collapse(!1);const X=Qt(o,c+"_end",n);ey(o,$,X)}a=ct(a),a.collapse(!0);const q=Qt(o,c+"_start",n);return ey(o,a,q),e.moveToBookmark({id:c,keep:!0,forward:A}),{id:c,forward:A}},gt=(e,n,o=!1)=>n===2?$t(Il,o,e):n===3?Lt(e):n?zt(e):rn(e,!1),En=et($t,An,!0),no=e=>{const n=m=>m(e),o=dt(e),a=()=>c,c={tag:!0,inner:e,fold:(m,p)=>p(e),isValue:on,isError:In,map:m=>oo.value(m(e)),mapError:a,bind:n,exists:n,forall:n,getOr:o,or:a,getOrThunk:o,orThunk:a,getOrDie:o,each:m=>{m(e)},toOptional:()=>J.some(e)};return c},To=e=>{const n=()=>o,o={tag:!1,inner:e,fold:(a,c)=>a(e),isValue:In,isError:on,map:n,mapError:a=>oo.error(a(e)),bind:n,exists:In,forall:on,getOr:An,or:An,getOrThunk:vo,orThunk:vo,getOrDie:mt(String(e)),each:St,toOptional:J.none};return o},oo={value:no,error:To,fromOption:(e,n)=>e.fold(()=>To(n),no)},Jo={generate:e=>{if(!te(e))throw new Error("cases must be an array");if(e.length===0)throw new Error("there must be at least one case");const n=[],o={};return be(e,(a,c)=>{const m=Jt(a);if(m.length!==1)throw new Error("one and only one name per case");const p=m[0],_=a[p];if(o[p]!==void 0)throw new Error("duplicate key detected:"+p);if(p==="cata")throw new Error("cannot have a case named cata (sorry)");if(!te(_))throw new Error("case arguments must be an array");n.push(p),o[p]=(...A)=>{const $=A.length;if($!==_.length)throw new Error("Wrong number of arguments to case "+p+". Expected "+_.length+" ("+_+"), got "+$);return{fold:(...X)=>{if(X.length!==e.length)throw new Error("Wrong number of arguments to fold. Expected "+e.length+", got "+X.length);return X[c].apply(null,A)},match:X=>{const ne=Jt(X);if(n.length!==ne.length)throw new Error("Wrong number of arguments to match. Expected: "+n.join(",")+`
Actual: `+ne.join(","));if(!Do(n,Oe=>xe(ne,Oe)))throw new Error("Not all branches were specified when using match. Specified: "+ne.join(", ")+`
Required: `+n.join(", "));return X[p].apply(null,A)},log:X=>{console.log(X,{constructors:n,constructor:p,params:A})}}}}),o}};Jo.generate([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]);const si=e=>{const n=[],o=[];return be(e,a=>{a.fold(c=>{n.push(c)},c=>{o.push(c)})}),{errors:n,values:o}},Na=e=>e.type==="inline-command"||e.type==="inline-format",Qi=e=>e.type==="block-command"||e.type==="block-format",mc=(e,n)=>(e.type==="block-command"||e.type==="block-format")&&e.trigger===n,ug=e=>{var n;const o=c=>oo.error({message:c,pattern:e}),a=(c,m,p)=>{if(e.format!==void 0){let _;if(te(e.format)){if(!Do(e.format,ue))return o(c+" pattern has non-string items in the `format` array");_=e.format}else if(ue(e.format))_=[e.format];else return o(c+" pattern has non-string `format` parameter");return oo.value(m(_))}else return e.cmd!==void 0?ue(e.cmd)?oo.value(p(e.cmd,e.value)):o(c+" pattern has non-string `cmd` parameter"):o(c+" pattern is missing both `format` and `cmd` parameters")};if(!j(e))return o("Raw pattern is not an object");if(!ue(e.start))return o("Raw pattern is missing `start` parameter");if(e.end!==void 0){if(!ue(e.end))return o("Inline pattern has non-string `end` parameter");if(e.start.length===0&&e.end.length===0)return o("Inline pattern has empty `start` and `end` parameters");let c=e.start,m=e.end;return m.length===0&&(m=c,c=""),a("Inline",p=>({type:"inline-format",start:c,end:m,format:p}),(p,_)=>({type:"inline-command",start:c,end:m,cmd:p,value:_}))}else{if(e.replacement!==void 0)return ue(e.replacement)?e.start.length===0?o("Replacement pattern has empty `start` parameter"):oo.value({type:"inline-command",start:"",end:e.start,cmd:"mceInsertContent",value:e.replacement}):o("Replacement pattern has non-string `replacement` parameter");{const c=(n=e.trigger)!==null&&n!==void 0?n:"space";return e.start.length===0?o("Block pattern has empty `start` parameter"):a("Block",m=>({type:"block-format",start:e.start,format:m[0],trigger:c}),(m,p)=>({type:"block-command",start:e.start,cmd:m,value:p,trigger:c}))}}},La=e=>Ge(e,Qi),dd=e=>Ge(e,Na),Vp=(e,n)=>({inlinePatterns:dd(e),blockPatterns:La(e),dynamicPatternsLookup:n}),sm=(e,n)=>({...e,blockPatterns:Ge(e.blockPatterns,o=>mc(o,n))}),zp=e=>{const n=si(Ve(e,ug));return be(n.errors,o=>console.error(o.message,o.pattern)),n.values},ny=e=>n=>{const o=e(n);return zp(o)},rm=la().deviceType,g_=rm.isTouch(),g8=Js.DOM,h8=e=>{const n=e.indexOf("=")>0?e.split(/[;,](?![^=;,]*(?:[;,]|$))/):e.split(",");return ln(n,(o,a)=>{const c=a.split("="),m=c[0],p=c.length>1?c[1]:m;return o[He(m)]=He(p),o},{})},wI=e=>he(e,RegExp),On=e=>n=>n.options.get(e),v2=e=>ue(e)||j(e),nA=(e,n="")=>o=>{const a=ue(o);if(a)if(o.indexOf("=")!==-1){const c=h8(o);return{value:Ds(c,e.id).getOr(n),valid:a}}else return{value:o,valid:a};else return{valid:!1,message:"Must be a string."}},h_=e=>{const n=e.options.register;n("id",{processor:"string",default:e.id}),n("selector",{processor:"string"}),n("target",{processor:"object"}),n("suffix",{processor:"string"}),n("cache_suffix",{processor:"string"}),n("base_url",{processor:"string"}),n("referrer_policy",{processor:"string",default:""}),n("language_load",{processor:"boolean",default:!0}),n("inline",{processor:"boolean",default:!1}),n("iframe_attrs",{processor:"object",default:{}}),n("doctype",{processor:"string",default:"<!DOCTYPE html>"}),n("document_base_url",{processor:"string",default:e.documentBaseUrl}),n("body_id",{processor:nA(e,"tinymce"),default:"tinymce"}),n("body_class",{processor:nA(e),default:""}),n("content_security_policy",{processor:"string",default:""}),n("br_in_pre",{processor:"boolean",default:!0}),n("forced_root_block",{processor:o=>{const a=ue(o)&&ot(o);return a?{value:o,valid:a}:{valid:!1,message:"Must be a non-empty string."}},default:"p"}),n("forced_root_block_attrs",{processor:"object",default:{}}),n("newline_behavior",{processor:o=>{const a=xe(["block","linebreak","invert","default"],o);return a?{value:o,valid:a}:{valid:!1,message:"Must be one of: block, linebreak, invert or default."}},default:"default"}),n("br_newline_selector",{processor:"string",default:".mce-toc h2,figcaption,caption"}),n("no_newline_selector",{processor:"string",default:""}),n("keep_styles",{processor:"boolean",default:!0}),n("end_container_on_empty_block",{processor:o=>Fe(o)?{valid:!0,value:o}:ue(o)?{valid:!0,value:o}:{valid:!1,message:"Must be boolean or a string"},default:"blockquote"}),n("font_size_style_values",{processor:"string",default:"xx-small,x-small,small,medium,large,x-large,xx-large"}),n("font_size_legacy_values",{processor:"string",default:"xx-small,small,medium,large,x-large,xx-large,300%"}),n("font_size_classes",{processor:"string",default:""}),n("automatic_uploads",{processor:"boolean",default:!0}),n("images_reuse_filename",{processor:"boolean",default:!1}),n("images_replace_blob_uris",{processor:"boolean",default:!0}),n("icons",{processor:"string",default:""}),n("icons_url",{processor:"string",default:""}),n("images_upload_url",{processor:"string",default:""}),n("images_upload_base_path",{processor:"string",default:""}),n("images_upload_credentials",{processor:"boolean",default:!1}),n("images_upload_handler",{processor:"function"}),n("language",{processor:"string",default:"en"}),n("language_url",{processor:"string",default:""}),n("entity_encoding",{processor:"string",default:"named"}),n("indent",{processor:"boolean",default:!0}),n("indent_before",{processor:"string",default:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,details,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist"}),n("indent_after",{processor:"string",default:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,details,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist"}),n("indent_use_margin",{processor:"boolean",default:!1}),n("indentation",{processor:"string",default:"40px"}),n("content_css",{processor:o=>{const a=o===!1||ue(o)||it(o,ue);return a?ue(o)?{value:Ve(o.split(","),He),valid:a}:te(o)?{value:o,valid:a}:o===!1?{value:[],valid:a}:{value:o,valid:a}:{valid:!1,message:"Must be false, a string or an array of strings."}},default:Uv(e)?[]:["default"]}),n("content_style",{processor:"string"}),n("content_css_cors",{processor:"boolean",default:!1}),n("font_css",{processor:o=>{const a=ue(o)||it(o,ue);return a?{value:te(o)?o:Ve(o.split(","),He),valid:a}:{valid:!1,message:"Must be a string or an array of strings."}},default:[]}),n("inline_boundaries",{processor:"boolean",default:!0}),n("inline_boundaries_selector",{processor:"string",default:"a[href],code,span.mce-annotation"}),n("object_resizing",{processor:o=>{const a=Fe(o)||ue(o);return a?o===!1||rm.isiPhone()||rm.isiPad()?{value:"",valid:a}:{value:o===!0?"table,img,figure.image,div,video,iframe":o,valid:a}:{valid:!1,message:"Must be boolean or a string"}},default:!g_}),n("resize_img_proportional",{processor:"boolean",default:!0}),n("event_root",{processor:"string"}),n("service_message",{processor:"string"}),n("theme",{processor:o=>o===!1||ue(o)||_e(o),default:"silver"}),n("theme_url",{processor:"string"}),n("formats",{processor:"object"}),n("format_empty_lines",{processor:"boolean",default:!1}),n("format_noneditable_selector",{processor:"string",default:""}),n("preview_styles",{processor:o=>{const a=o===!1||ue(o);return a?{value:o===!1?"":o,valid:a}:{valid:!1,message:"Must be false or a string"}},default:"font-family font-size font-weight font-style text-decoration text-transform color background-color border border-radius outline text-shadow"}),n("custom_ui_selector",{processor:"string",default:""}),n("hidden_input",{processor:"boolean",default:!0}),n("submit_patch",{processor:"boolean",default:!0}),n("encoding",{processor:"string"}),n("add_form_submit_trigger",{processor:"boolean",default:!0}),n("add_unload_trigger",{processor:"boolean",default:!0}),n("custom_undo_redo_levels",{processor:"number",default:0}),n("disable_nodechange",{processor:"boolean",default:!1}),n("readonly",{processor:"boolean",default:!1}),n("editable_root",{processor:"boolean",default:!0}),n("plugins",{processor:"string[]",default:[]}),n("external_plugins",{processor:"object"}),n("forced_plugins",{processor:"string[]"}),n("model",{processor:"string",default:e.hasPlugin("rtc")?"plugin":"dom"}),n("model_url",{processor:"string"}),n("block_unsupported_drop",{processor:"boolean",default:!0}),n("visual",{processor:"boolean",default:!0}),n("visual_table_class",{processor:"string",default:"mce-item-table"}),n("visual_anchor_class",{processor:"string",default:"mce-item-anchor"}),n("iframe_aria_text",{processor:"string",default:"Rich Text Area. Press ALT-0 for help."}),n("setup",{processor:"function"}),n("init_instance_callback",{processor:"function"}),n("url_converter",{processor:"function",default:e.convertURL}),n("url_converter_scope",{processor:"object",default:e}),n("urlconverter_callback",{processor:"function"}),n("allow_conditional_comments",{processor:"boolean",default:!1}),n("allow_html_data_urls",{processor:"boolean",default:!1}),n("allow_svg_data_urls",{processor:"boolean"}),n("allow_html_in_named_anchor",{processor:"boolean",default:!1}),n("allow_script_urls",{processor:"boolean",default:!1}),n("allow_unsafe_link_target",{processor:"boolean",default:!1}),n("convert_fonts_to_spans",{processor:"boolean",default:!0,deprecated:!0}),n("fix_list_elements",{processor:"boolean",default:!1}),n("preserve_cdata",{processor:"boolean",default:!1}),n("remove_trailing_brs",{processor:"boolean",default:!0}),n("pad_empty_with_br",{processor:"boolean",default:!1}),n("inline_styles",{processor:"boolean",default:!0,deprecated:!0}),n("element_format",{processor:"string",default:"html"}),n("entities",{processor:"string"}),n("schema",{processor:"string",default:"html5"}),n("convert_urls",{processor:"boolean",default:!0}),n("relative_urls",{processor:"boolean",default:!0}),n("remove_script_host",{processor:"boolean",default:!0}),n("custom_elements",{processor:v2}),n("extended_valid_elements",{processor:"string"}),n("invalid_elements",{processor:"string"}),n("invalid_styles",{processor:v2}),n("valid_children",{processor:"string"}),n("valid_classes",{processor:v2}),n("valid_elements",{processor:"string"}),n("valid_styles",{processor:v2}),n("verify_html",{processor:"boolean",default:!0}),n("auto_focus",{processor:o=>ue(o)||o===!0}),n("browser_spellcheck",{processor:"boolean",default:!1}),n("protect",{processor:"array"}),n("images_file_types",{processor:"string",default:"jpeg,jpg,jpe,jfi,jif,jfif,png,gif,bmp,webp"}),n("deprecation_warnings",{processor:"boolean",default:!0}),n("a11y_advanced_options",{processor:"boolean",default:!1}),n("api_key",{processor:"string"}),n("license_key",{processor:"string"}),n("paste_block_drop",{processor:"boolean",default:!1}),n("paste_data_images",{processor:"boolean",default:!0}),n("paste_preprocess",{processor:"function"}),n("paste_postprocess",{processor:"function"}),n("paste_webkit_styles",{processor:"string",default:"none"}),n("paste_remove_styles_if_webkit",{processor:"boolean",default:!0}),n("paste_merge_formats",{processor:"boolean",default:!0}),n("smart_paste",{processor:"boolean",default:!0}),n("paste_as_text",{processor:"boolean",default:!1}),n("paste_tab_spaces",{processor:"number",default:4}),n("text_patterns",{processor:o=>it(o,j)||o===!1?{value:zp(o===!1?[]:o),valid:!0}:{valid:!1,message:"Must be an array of objects or false."},default:[{start:"*",end:"*",format:"italic"},{start:"**",end:"**",format:"bold"},{start:"#",format:"h1",trigger:"space"},{start:"##",format:"h2",trigger:"space"},{start:"###",format:"h3",trigger:"space"},{start:"####",format:"h4",trigger:"space"},{start:"#####",format:"h5",trigger:"space"},{start:"######",format:"h6",trigger:"space"},{start:"1.",cmd:"InsertOrderedList",trigger:"space"},{start:"*",cmd:"InsertUnorderedList",trigger:"space"},{start:"-",cmd:"InsertUnorderedList",trigger:"space"},{start:">",cmd:"mceBlockQuote",trigger:"space"},{start:"---",cmd:"InsertHorizontalRule",trigger:"space"}]}),n("text_patterns_lookup",{processor:o=>_e(o)?{value:ny(o),valid:!0}:{valid:!1,message:"Must be a single function"},default:o=>[]}),n("noneditable_class",{processor:"string",default:"mceNonEditable"}),n("editable_class",{processor:"string",default:"mceEditable"}),n("noneditable_regexp",{processor:o=>it(o,wI)?{value:o,valid:!0}:wI(o)?{value:[o],valid:!0}:{valid:!1,message:"Must be a RegExp or an array of RegExp."},default:[]}),n("table_tab_navigation",{processor:"boolean",default:!0}),n("highlight_on_focus",{processor:"boolean",default:!0}),n("xss_sanitization",{processor:"boolean",default:!0}),n("details_initial_state",{processor:o=>{const a=xe(["inherited","collapsed","expanded"],o);return a?{value:o,valid:a}:{valid:!1,message:"Must be one of: inherited, collapsed, or expanded."}},default:"inherited"}),n("details_serialized_state",{processor:o=>{const a=xe(["inherited","collapsed","expanded"],o);return a?{value:o,valid:a}:{valid:!1,message:"Must be one of: inherited, collapsed, or expanded."}},default:"inherited"}),n("init_content_sync",{processor:"boolean",default:!1}),n("newdocument_content",{processor:"string",default:""}),n("sandbox_iframes",{processor:"boolean",default:!0}),n("sandbox_iframes_exclusions",{processor:"string[]",default:["youtube.com","youtu.be","vimeo.com","player.vimeo.com","dailymotion.com","embed.music.apple.com","open.spotify.com","giphy.com","dai.ly","codepen.io"]}),n("convert_unsafe_embeds",{processor:"boolean",default:!0}),e.on("ScriptsLoaded",()=>{n("directionality",{processor:"string",default:zc.isRtl()?"rtl":void 0}),n("placeholder",{processor:"string",default:g8.getAttrib(e.getElement(),"placeholder")})})},Dl=On("iframe_attrs"),rf=On("doctype"),Su=On("document_base_url"),p_=On("body_id"),oA=On("body_class"),CI=On("content_security_policy"),sA=On("br_in_pre"),gl=On("forced_root_block"),y2=On("forced_root_block_attrs"),rA=On("newline_behavior"),_I=On("br_newline_selector"),SI=On("no_newline_selector"),iA=On("keep_styles"),aA=On("end_container_on_empty_block"),Qs=On("automatic_uploads"),Rh=On("images_reuse_filename"),kI=On("images_replace_blob_uris"),lA=On("icons"),EI=On("icons_url"),cA=On("images_upload_url"),AI=On("images_upload_base_path"),uA=On("images_upload_credentials"),p8=On("images_upload_handler"),TI=On("content_css_cors"),x2=On("referrer_policy"),dA=On("language"),b8=On("language_url"),OI=On("indent_use_margin"),ku=On("indentation"),Ul=On("content_css"),oy=On("content_style"),RI=On("font_css"),v8=On("directionality"),ls=On("inline_boundaries_selector"),II=On("object_resizing"),DI=On("resize_img_proportional"),fA=On("placeholder"),PI=On("event_root"),y8=On("service_message"),sy=On("theme"),x8=On("theme_url"),w2=On("model"),mA=On("model_url"),ry=On("inline_boundaries"),w8=On("formats"),C8=On("preview_styles"),_8=On("format_empty_lines"),co=On("format_noneditable_selector"),NI=On("custom_ui_selector"),Uv=On("inline"),gA=On("hidden_input"),LI=On("submit_patch"),MI=On("add_form_submit_trigger"),BI=On("add_unload_trigger"),FI=On("custom_undo_redo_levels"),S8=On("disable_nodechange"),$I=On("readonly"),Es=On("editable_root"),VI=On("content_css_cors"),af=On("plugins"),dg=On("external_plugins"),b_=On("block_unsupported_drop"),Kc=On("visual"),v_=On("visual_table_class"),iy=On("visual_anchor_class"),C2=On("iframe_aria_text"),ay=On("setup"),k8=On("init_instance_callback"),E8=On("urlconverter_callback"),A8=On("auto_focus"),T8=On("browser_spellcheck"),ms=On("protect"),im=On("paste_block_drop"),fg=On("paste_data_images"),O8=On("paste_preprocess"),_2=On("paste_postprocess"),bs=On("newdocument_content"),zI=On("paste_webkit_styles"),hA=On("paste_remove_styles_if_webkit"),R8=On("paste_merge_formats"),Wv=On("smart_paste"),Kv=On("paste_as_text"),HI=On("paste_tab_spaces"),I8=On("allow_html_data_urls"),D8=On("text_patterns"),S2=On("text_patterns_lookup"),jv=On("noneditable_class"),P8=On("editable_class"),UI=On("noneditable_regexp"),N8=On("preserve_cdata"),WI=On("highlight_on_focus"),KI=On("xss_sanitization"),jI=On("init_content_sync"),pA=e=>e.options.isSet("text_patterns_lookup"),bA=e=>nn.explode(e.options.get("font_size_style_values")),vA=e=>nn.explode(e.options.get("font_size_classes")),ZI=e=>e.options.get("encoding")==="xml",yA=e=>nn.explode(e.options.get("images_file_types")),GI=On("table_tab_navigation"),y_=On("details_initial_state"),qI=On("details_serialized_state"),xA=On("sandbox_iframes"),x_=e=>e.options.get("sandbox_iframes_exclusions"),YI=On("convert_unsafe_embeds"),XI=On("license_key"),JI=On("api_key"),L8=Nn,QI=Gt,k2=e=>{const n=e.parentNode;n&&n.removeChild(e)},wA=e=>{const n=Il(e);return{count:e.length-n.length,text:n}},CA=e=>{let n;for(;(n=e.data.lastIndexOf(Ei))!==-1;)e.deleteData(n,1)},_A=(e,n)=>(Hp(e),n),M8=(e,n)=>{const o=wA(e.data.substr(0,n.offset())),a=wA(e.data.substr(n.offset()));return(o.text+a.text).length>0?(CA(e),kt(e,n.offset()-o.count)):n},B8=(e,n)=>{const o=n.container(),a=tt(Ro(o.childNodes),e).map(c=>c<n.offset()?kt(o,n.offset()-1):n).getOr(n);return Hp(e),a},F8=(e,n)=>QI(e)&&n.container()===e?M8(e,n):_A(e,n),$8=(e,n)=>n.container()===e.parentNode?B8(e,n):_A(e,n),V8=(e,n)=>kt.isTextPosition(n)?F8(e,n):$8(e,n),Hp=e=>{L8(e)&&Jl(e)&&(U1(e)?e.removeAttribute("data-mce-caret"):k2(e)),QI(e)&&(CA(e),e.data.length===0&&k2(e))},eD=wo,w_=Rt,z8=Sp,SA="*[contentEditable=false],video,audio,embed,object",tD=(e,n,o)=>{const a=Nv(n.getBoundingClientRect(),o);let c,m;if(e.tagName==="BODY"){const _=e.ownerDocument.documentElement;c=e.scrollLeft||_.scrollLeft,m=e.scrollTop||_.scrollTop}else{const _=e.getBoundingClientRect();c=e.scrollLeft-_.left,m=e.scrollTop-_.top}a.left+=c,a.right+=c,a.top+=m,a.bottom+=m,a.width=1;let p=n.offsetWidth-n.clientWidth;return p>0&&(o&&(p*=-1),a.left+=p,a.right+=p),a},nD=e=>{var n,o;const a=vi(Ke.fromDom(e),SA);for(let c=0;c<a.length;c++){const m=a[c].dom;let p=m.previousSibling;if(sf(p)){const _=p.data;_.length===1?(n=p.parentNode)===null||n===void 0||n.removeChild(p):p.deleteData(_.length-1,1)}p=m.nextSibling,Dv(p)&&(p.data.length===1?(o=p.parentNode)===null||o===void 0||o.removeChild(p):p.deleteData(0,1))}},oD=(e,n,o,a)=>{const c=Li();let m,p;const _=gl(e),A=e.dom,$=(ye,Pe)=>{let Ye;if(q(),z8(Pe))return null;if(o(Pe)){const st=a_(_,Pe,ye),nt=tD(n,Pe,ye);A.setStyle(st,"top",nt.top),A.setStyle(st,"caret-color","transparent"),p=st;const bt=A.create("div",{class:"mce-visual-caret","data-mce-bogus":"all"});A.setStyles(bt,{...nt}),A.add(n,bt),c.set({caret:bt,element:Pe,before:ye}),ye&&A.addClass(bt,"mce-visual-caret-before"),X(),Ye=Pe.ownerDocument.createRange(),Ye.setStart(st,0),Ye.setEnd(st,0)}else return p=W1(Pe,ye),Ye=Pe.ownerDocument.createRange(),E2(p.nextSibling)?(Ye.setStart(p,0),Ye.setEnd(p,0)):(Ye.setStart(p,1),Ye.setEnd(p,1)),Ye;return Ye},q=()=>{nD(n),p&&(Hp(p),p=null),c.on(ye=>{A.remove(ye.caret),c.clear()}),m&&(clearInterval(m),m=void 0)},X=()=>{m=setInterval(()=>{c.on(ye=>{a()?A.toggleClass(ye.caret,"mce-visual-caret-hidden"):A.addClass(ye.caret,"mce-visual-caret-hidden")})},500)};return{show:$,hide:q,getCss:()=>".mce-visual-caret {position: absolute;background-color: black;background-color: currentcolor;}.mce-visual-caret-hidden {display: none;}*[data-mce-caret] {position: absolute;left: -1000px;right: auto;top: 0;margin: 0;padding: 0;}",reposition:()=>{c.on(ye=>{const Pe=tD(n,ye.element,ye.before);A.setStyles(ye.caret,{...Pe})})},destroy:()=>clearInterval(m)}},kA=()=>Uo.browser.isFirefox(),E2=e=>eD(e)||w_(e),A2=e=>(E2(e)||pu(e)&&kA())&&Pf(Ke.fromDom(e)).exists(Cr),C_=Mc,__=wo,sD=Rt,EA=Nc("display","block table table-cell table-caption list-item"),AA=Jl,rD=Lp,H8=Nn,S_=Gt,iD=wu,Zv=e=>e>0,Gv=e=>e<0,k_=(e,n)=>{let o;for(;o=e(n);)if(!rD(o))return o;return null},T2=(e,n,o,a,c)=>{const m=new ha(e,a),p=__(e)||rD(e);let _;if(Gv(n)){if(p&&(_=k_(m.prev.bind(m),!0),o(_)))return _;for(;_=k_(m.prev.bind(m),c);)if(o(_))return _}if(Zv(n)){if(p&&(_=k_(m.next.bind(m),!0),o(_)))return _;for(;_=k_(m.next.bind(m),c);)if(o(_))return _}return null},U8=(e,n)=>{const o=c=>C_(c.dom),a=c=>c.dom===n;return ll(Ke.fromDom(e),o,a).map(c=>c.dom).getOr(n)},Up=(e,n)=>{for(;e&&e!==n;){if(EA(e))return e;e=e.parentNode}return null},mg=(e,n,o)=>Up(e.container(),o)===Up(n.container(),o),E_=(e,n)=>{if(!n)return J.none();const o=n.container(),a=n.offset();return H8(o)?J.from(o.childNodes[a+e]):J.none()},aD=(e,n)=>{var o;const c=((o=n.ownerDocument)!==null&&o!==void 0?o:document).createRange();return e?(c.setStartBefore(n),c.setEndBefore(n)):(c.setStartAfter(n),c.setEndAfter(n)),c},lD=(e,n,o)=>Up(n,e)===Up(o,e),TA=(e,n,o)=>{const a=e?"previousSibling":"nextSibling";let c=o;for(;c&&c!==n;){let m=c[a];if(m&&AA(m)&&(m=m[a]),__(m)||sD(m)){if(lD(n,m,c))return m;break}if(iD(m))break;c=c.parentNode}return null},O2=et(aD,!0),R2=et(aD,!1),OA=(e,n,o)=>{let a;const c=et(TA,!0,n),m=et(TA,!1,n),p=o.startContainer,_=o.startOffset;if(Lp(p)){const A=S_(p)?p.parentNode:p,$=A.getAttribute("data-mce-caret");if($==="before"&&(a=A.nextSibling,A2(a)))return O2(a);if($==="after"&&(a=A.previousSibling,A2(a)))return R2(a)}if(!o.collapsed)return o;if(Gt(p)){if(AA(p)){if(e===1){if(a=m(p),a)return O2(a);if(a=c(p),a)return R2(a)}if(e===-1){if(a=c(p),a)return R2(a);if(a=m(p),a)return O2(a)}return o}if(sf(p)&&_>=p.data.length-1)return e===1&&(a=m(p),a)?O2(a):o;if(Dv(p)&&_<=1)return e===-1&&(a=c(p),a)?R2(a):o;if(_===p.data.length)return a=m(p),a?O2(a):o;if(_===0)return a=c(p),a?R2(a):o}return o},cD=(e,n)=>E_(e?0:-1,n).filter(__),I2=(e,n,o)=>{const a=OA(e,n,o);return e===-1?kt.fromRangeStart(a):kt.fromRangeEnd(a)},A_=e=>J.from(e.getNode()).map(Ke.fromDom),W8=e=>J.from(e.getNode(!0)).map(Ke.fromDom),RA=(e,n)=>{let o=n;for(;o=e(o);)if(o.isVisible())return o;return o},T_=(e,n)=>{const o=mg(e,n);return!o&&pr(e.getNode())?!0:o};var Ga;(function(e){e[e.Backwards=-1]="Backwards",e[e.Forwards=1]="Forwards"})(Ga||(Ga={}));const K8=wo,gg=Gt,uD=Nn,zn=pr,qv=wu,IA=Fp,O_=Bv,DA=(e,n)=>{const o=[];let a=e;for(;a&&a!==n;)o.push(a),a=a.parentNode;return o},dD=(e,n)=>e.hasChildNodes()&&n<e.childNodes.length?e.childNodes[n]:null,D2=(e,n)=>{if(Zv(e)){if(qv(n.previousSibling)&&!gg(n.previousSibling))return kt.before(n);if(gg(n))return kt(n,0)}if(Gv(e)){if(qv(n.nextSibling)&&!gg(n.nextSibling))return kt.after(n);if(gg(n))return kt(n,n.data.length)}return Gv(e)?zn(n)?kt.before(n):kt.after(n):kt.before(n)},fD=(e,n)=>{const o=n.nextSibling;return o&&qv(o)?gg(o)?kt(o,0):kt.before(o):PA(Ga.Forwards,kt.after(n),e)},PA=(e,n,o)=>{let a,c,m,p;if(!uD(o)||!n)return null;if(n.isEqual(kt.after(o))&&o.lastChild){if(p=kt.after(o.lastChild),Gv(e)&&qv(o.lastChild)&&uD(o.lastChild))return zn(o.lastChild)?kt.before(o.lastChild):p}else p=n;const _=p.container();let A=p.offset();if(gg(_)){if(Gv(e)&&A>0)return kt(_,--A);if(Zv(e)&&A<_.length)return kt(_,++A);a=_}else{if(Gv(e)&&A>0&&(c=dD(_,A-1),qv(c)))return!IA(c)&&(m=T2(c,e,O_,c),m)?gg(m)?kt(m,m.data.length):kt.after(m):gg(c)?kt(c,c.data.length):kt.before(c);if(Zv(e)&&A<_.childNodes.length&&(c=dD(_,A),qv(c)))return zn(c)?fD(o,c):!IA(c)&&(m=T2(c,e,O_,c),m)?gg(m)?kt(m,0):kt.before(m):gg(c)?kt(c,0):kt.after(c);a=c||p.getNode()}if(a&&(Zv(e)&&p.isAtEnd()||Gv(e)&&p.isAtStart())&&(a=T2(a,e,on,o,!0),O_(a,o)))return D2(e,a);c=a&&T2(a,e,O_,o);const $=Aa(Ge(DA(_,o),K8));return $&&(!c||!$.contains(c))?(Zv(e)?p=kt.after($):p=kt.before($),p):c?D2(e,c):null},Qn=e=>({next:n=>PA(Ga.Forwards,n,e),prev:n=>PA(Ga.Backwards,n,e)}),Oo=(e,n,o)=>{const a=e?kt.before(o):kt.after(o);return Eu(e,n,a)},mD=e=>pr(e)?kt.before(e):kt.after(e),gD=e=>kt.isTextPosition(e)?e.offset()===0:wu(e.getNode()),hD=e=>{if(kt.isTextPosition(e)){const n=e.container();return e.offset()===n.data.length}else return wu(e.getNode(!0))},pD=(e,n)=>!kt.isTextPosition(e)&&!kt.isTextPosition(n)&&e.getNode()===n.getNode(!0),io=e=>!kt.isTextPosition(e)&&pr(e.getNode()),P2=(e,n,o)=>e?!pD(n,o)&&!io(n)&&hD(n)&&gD(o):!pD(o,n)&&gD(n)&&hD(o),Eu=(e,n,o)=>{const a=Qn(n);return J.from(e?a.next(o):a.prev(o))},Yv=(e,n,o)=>Eu(e,n,o).bind(a=>mg(o,a,n)&&P2(e,o,a)?Eu(e,n,a):J.some(a)),bD=(e,n,o,a)=>Yv(e,n,o).bind(c=>a(c)?bD(e,n,c,a):J.some(c)),ly=(e,n)=>{const o=e?n.firstChild:n.lastChild;return Gt(o)?J.some(kt(o,e?0:o.data.length)):o?wu(o)?J.some(e?kt.before(o):mD(o)):Oo(e,n,o):J.none()},Ql=et(Eu,!0),jc=et(Eu,!1),so=et(ly,!0),fd=et(ly,!1),cy="_mce_caret",Au=e=>Nn(e)&&e.id===cy,Wp=(e,n)=>{let o=n;for(;o&&o!==e;){if(Au(o))return o;o=o.parentNode}return null},vD=e=>ue(e.start),yD=e=>ho(e,"rng"),xD=e=>ho(e,"id"),NA=e=>ho(e,"name"),wD=e=>nn.isArray(e.start),R_=e=>!NA(e)&&Fe(e.forward)?e.forward:!0,CD=(e,n)=>(Nn(n)&&e.isBlock(n)&&!n.innerHTML&&(n.innerHTML='<br data-mce-bogus="1" />'),n),j8=(e,n)=>{const o=J.from(le(e.getRoot(),n.start)),a=J.from(le(e.getRoot(),n.end));return ua(o,a,(c,m)=>{const p=e.createRng();return p.setStart(c.container(),c.offset()),p.setEnd(m.container(),m.offset()),{range:p,forward:R_(n)}})},Z8=(e,n)=>{var o;const c=((o=e.ownerDocument)!==null&&o!==void 0?o:document).createTextNode(Ei);e.appendChild(c),n.setStart(c,0),n.setEnd(c,0)},LA=e=>!e.hasChildNodes(),MA=(e,n)=>fd(e).fold(In,o=>(n.setStart(o.container(),o.offset()),n.setEnd(o.container(),o.offset()),!0)),_D=(e,n,o)=>LA(n)&&Wp(e,n)?(Z8(n,o),!0):!1,SD=(e,n,o,a)=>{const c=o[n?"start":"end"],m=e.getRoot();if(c){let p=m,_=c[0];for(let A=c.length-1;p&&A>=1;A--){const $=p.childNodes;if(_D(m,p,a))return!0;if(c[A]>$.length-1)return _D(m,p,a)?!0:MA(p,a);p=$[c[A]]}Gt(p)&&(_=Math.min(c[0],p.data.length)),Nn(p)&&(_=Math.min(c[0],p.childNodes.length)),n?a.setStart(p,_):a.setEnd(p,_)}return!0},BA=e=>Gt(e)&&e.data.length>0,kD=(e,n,o)=>{const a=e.get(o.id+"_"+n),c=a==null?void 0:a.parentNode,m=o.keep;if(a&&c){let p,_;if(n==="start"?m?a.hasChildNodes()?(p=a.firstChild,_=1):BA(a.nextSibling)?(p=a.nextSibling,_=0):BA(a.previousSibling)?(p=a.previousSibling,_=a.previousSibling.data.length):(p=c,_=e.nodeIndex(a)+1):(p=c,_=e.nodeIndex(a)):m?a.hasChildNodes()?(p=a.firstChild,_=1):BA(a.previousSibling)?(p=a.previousSibling,_=a.previousSibling.data.length):(p=c,_=e.nodeIndex(a)):(p=c,_=e.nodeIndex(a)),!m){const A=a.previousSibling,$=a.nextSibling;nn.each(nn.grep(a.childNodes),X=>{Gt(X)&&(X.data=X.data.replace(/\uFEFF/g,""))});let q;for(;q=e.get(o.id+"_"+n);)e.remove(q,!0);if(Gt($)&&Gt(A)&&!Uo.browser.isOpera()){const X=A.data.length;A.appendData($.data),e.remove($),p=A,_=X}}return J.some(kt(p,_))}else return J.none()},ED=(e,n)=>{const o=e.createRng();return SD(e,!0,n,o)&&SD(e,!1,n,o)?J.some({range:o,forward:R_(n)}):J.none()},Xv=(e,n)=>{const o=kD(e,"start",n),a=kD(e,"end",n);return ua(o,a.or(o),(c,m)=>{const p=e.createRng();return p.setStart(CD(e,c.container()),c.offset()),p.setEnd(CD(e,m.container()),m.offset()),{range:p,forward:R_(n)}})},AD=(e,n)=>J.from(e.select(n.name)[n.index]).map(o=>{const a=e.createRng();return a.selectNode(o),{range:a,forward:!0}}),TD=(e,n)=>{const o=e.dom;if(n){if(wD(n))return ED(o,n);if(vD(n))return j8(o,n);if(xD(n))return Xv(o,n);if(NA(n))return AD(o,n);if(yD(n))return J.some({range:n.rng,forward:R_(n)})}return J.none()},G8=(e,n,o)=>gt(e,n,o),q8=(e,n)=>{TD(e,n).each(({range:o,forward:a})=>{e.setRng(o,a)})},Tu=e=>Nn(e)&&e.tagName==="SPAN"&&e.getAttribute("data-mce-type")==="bookmark",hl=(e=>n=>e===n)(Pi),Jv=e=>e!==""&&` \f
\r	\v`.indexOf(e)!==-1,Ih=e=>!Jv(e)&&!hl(e)&&!id(e),br=e=>{const n=[];if(e)for(let o=0;o<e.rangeCount;o++)n.push(e.getRangeAt(o));return n},md=e=>$o(e,n=>{const o=Bp(n);return o?[Ke.fromDom(o)]:[]}),N2=e=>br(e).length>1,I_=e=>Ge(md(e),Hc),uy=e=>vi(e,"td[data-mce-selected],th[data-mce-selected]"),OD=(e,n)=>{const o=uy(n);return o.length>0?o:I_(e)},am=e=>OD(br(e.selection.getSel()),Ke.fromDom(e.getBody())),$s=(e,n)=>fu(e,"table",n),L2=e=>{const n=e.startContainer,o=e.startOffset;return Gt(n)?o===0?J.some(Ke.fromDom(n)):J.none():J.from(n.childNodes[o]).map(Ke.fromDom)},RD=e=>{const n=e.endContainer,o=e.endOffset;return Gt(n)?o===n.data.length?J.some(Ke.fromDom(n)):J.none():J.from(n.childNodes[o-1]).map(Ke.fromDom)},FA=e=>Hl(e).fold(dt([e]),n=>[e].concat(FA(n))),M2=e=>nd(e).fold(dt([e]),n=>ts(n)==="br"?Si(n).map(o=>[e].concat(M2(o))).getOr([]):[e].concat(M2(n))),B2=(e,n)=>ua(L2(n),RD(n),(o,a)=>{const c=yn(FA(e),et(ns,o)),m=yn(M2(e),et(ns,a));return c.isSome()&&m.isSome()}).getOr(!1),F2=(e,n,o,a)=>{const c=o,m=new ha(o,c),p=Ac(e.schema.getMoveCaretBeforeOnEnterElements(),(A,$)=>!xe(["td","th","table"],$.toLowerCase()));let _=o;do{if(Gt(_)&&nn.trim(_.data).length!==0){a?n.setStart(_,0):n.setEnd(_,_.data.length);return}if(p[_.nodeName]){a?n.setStartBefore(_):_.nodeName==="BR"?n.setEndBefore(_):n.setEndAfter(_);return}}while(_=a?m.next():m.prev());c.nodeName==="BODY"&&(a?n.setStart(c,0):n.setEnd(c,c.childNodes.length))},dy=e=>{const n=e.selection.getSel();return we(n)&&n.rangeCount>0},fy=(e,n)=>{const o=am(e);o.length>0?be(o,a=>{const c=a.dom,m=e.dom.createRng();m.setStartBefore(c),m.setEndAfter(c),n(m,!0)}):n(e.selection.getRng(),!1)},D_=(e,n,o)=>{const a=rn(e,n);o(a),e.moveToBookmark(a)},my=e=>R(e==null?void 0:e.nodeType),P_=e=>Nn(e)&&!Tu(e)&&!Au(e)&&!$f(e),ID=(e,n)=>{if(P_(n)&&!/^(TD|TH)$/.test(n.nodeName)){const o=e.getAttrib(n,"data-mce-selected"),a=parseInt(o,10);return!isNaN(a)&&a>0}else return!1},$A=(e,n,o)=>{const{selection:a,dom:c}=e,m=a.getNode(),p=wo(m);D_(a,!0,()=>{n()}),p&&wo(m)&&c.isChildOf(m,e.getBody())?e.selection.select(m):o(a.getStart())&&DD(c,a)},DD=(e,n)=>{var o,a;const c=n.getRng(),{startContainer:m,startOffset:p}=c,_=n.getNode();if(!ID(e,_)&&Nn(m)){const A=m.childNodes,$=e.getRoot();let q;if(p<A.length){const X=A[p];q=new ha(X,(o=e.getParent(X,e.isBlock))!==null&&o!==void 0?o:$)}else{const X=A[A.length-1];q=new ha(X,(a=e.getParent(X,e.isBlock))!==null&&a!==void 0?a:$),q.next(!0)}for(let X=q.current();X;X=q.next()){if(e.getContentEditable(X)==="false")return;if(Gt(X)&&!VA(X)){c.setStart(X,0),n.setRng(c);return}}}},Qv=(e,n,o)=>{if(e){const a=n?"nextSibling":"previousSibling";for(e=e[a];e;e=e[a])if(Nn(e)||!VA(e))return e}},N_=(e,n)=>!!e.getTextBlockElements()[n.nodeName.toLowerCase()]||Uf(e,n),Kp=(e,n,o)=>e.schema.isValidChild(n,o),VA=(e,n=!1)=>{if(we(e)&&Gt(e)){const o=n?e.data.replace(/ /g,""):e.data;return cc(o)}else return!1},X8=e=>we(e)&&Gt(e)&&e.length===0,PD=(e,n)=>{const o="[data-mce-cef-wrappable]",a=co(e),c=Yt(a)?o:`${o},${a}`;return Bs(Ke.fromDom(n),c)},zA=(e,n)=>{const o=e.dom;return P_(n)&&o.getContentEditable(n)==="false"&&PD(e,n)&&o.select('[contenteditable="true"]',n).length===0},Dh=(e,n)=>_e(e)?e(n):(we(n)&&(e=e.replace(/%(\w+)/g,(o,a)=>n[a]||o)),e),gy=(e,n)=>(e=e||"",n=n||"",e=""+(e.nodeName||e),n=""+(n.nodeName||n),e.toLowerCase()===n.toLowerCase()),L_=(e,n)=>{if(rt(e))return null;{let o=String(e);return(n==="color"||n==="backgroundColor")&&(o=pv(o)),n==="fontWeight"&&e===700&&(o="bold"),n==="fontFamily"&&(o=o.replace(/[\'\"]/g,"").replace(/,\s+/g,",")),o}},$2=(e,n,o)=>{const a=e.getStyle(n,o);return L_(a,o)},HA=(e,n)=>{let o;return e.getParent(n,a=>Nn(a)?(o=e.getStyle(a,"text-decoration"),!!o&&o!=="none"):!1),o},V2=(e,n,o)=>e.getParents(n,o,e.getRoot()),M_=(e,n,o)=>{const a=e.formatter.get(n);return we(a)&&Re(a,o)},ND=(e,n)=>M_(e,n,a=>{const c=m=>_e(m)||m.length>1&&m.charAt(0)==="%";return Re(["styles","attributes"],m=>Ds(a,m).exists(p=>{const _=te(p)?p:Zu(p);return Re(_,c)}))}),LD=(e,n,o)=>{const a=["inline","block","selector","attributes","styles","classes"],c=m=>Ac(m,(p,_)=>Re(a,A=>A===_));return M_(e,n,m=>{const p=c(m);return M_(e,o,_=>{const A=c(_);return Ii(p,A)})})},lm=e=>Zl(e,"block"),MD=e=>lm(e)&&e.wrapper===!0,BD=e=>lm(e)&&e.wrapper!==!0,Zc=e=>Zl(e,"selector"),wa=e=>Zl(e,"inline"),FD=e=>Zc(e)&&wa(e)&&Ef(Ds(e,"mixed"),!0),B_=e=>Zc(e)&&e.expand!==!1&&!wa(e),$D=e=>{const n=[];let o=e;for(;o;){if(Gt(o)&&o.data!==Ei||o.childNodes.length>1)return[];Nn(o)&&n.push(o),o=o.firstChild}return n},UA=e=>$D(e).length>0,F_=e=>Au(e.dom)&&UA(e.dom),jp=Tu,z2=V2,$_=VA,V_=N_,VD=e=>pr(e)&&e.getAttribute("data-mce-bogus")&&!e.nextSibling,H2=(e,n)=>{let o=n;for(;o;){if(Nn(o)&&e.getContentEditable(o))return e.getContentEditable(o)==="false"?o:n;o=o.parentNode}return n},z_=(e,n,o,a)=>{const c=n.data;if(e){for(let m=o;m>0;m--)if(a(c.charAt(m-1)))return m}else for(let m=o;m<c.length;m++)if(a(c.charAt(m)))return m;return-1},U2=(e,n,o)=>z_(e,n,o,a=>hl(a)||Jv(a)),WA=(e,n,o)=>z_(e,n,o,Ih),KA=(e,n,o,a,c,m)=>{let p;const _=e.getParent(o,e.isBlock)||n,A=(q,X,ne)=>{const ve=ef(e),Oe=c?ve.backwards:ve.forwards;return J.from(Oe(q,X,(ye,Pe)=>jp(ye.parentNode)?-1:(p=ye,ne(c,ye,Pe)),_))};return A(o,a,U2).bind(q=>m?A(q.container,q.offset+(c?-1:0),WA):J.some(q)).orThunk(()=>p?J.some({container:p,offset:c?0:p.length}):J.none())},e0=(e,n,o,a,c)=>{const m=a[c];Gt(a)&&Yt(a.data)&&m&&(a=m);const p=z2(e,a);for(let _=0;_<p.length;_++)for(let A=0;A<n.length;A++){const $=n[A];if(!(we($.collapsed)&&$.collapsed!==o.collapsed)&&Zc($)&&e.is(p[_],$.selector))return p[_]}return a},H_=(e,n,o,a)=>{var c;let m=o;const p=e.getRoot(),_=n[0];if(lm(_)&&(m=_.wrapper?null:e.getParent(o,_.block,p)),!m){const A=(c=e.getParent(o,"LI,TD,TH,SUMMARY"))!==null&&c!==void 0?c:p;m=e.getParent(Gt(o)?o.parentNode:o,$=>$!==p&&V_(e.schema,$),A)}if(m&&lm(_)&&_.wrapper&&(m=z2(e,m,"ul,ol").reverse()[0]||m),!m)for(m=o;m&&m[a]&&!e.isBlock(m[a])&&(m=m[a],!gy(m,"br")););return m||o},U_=(e,n,o,a)=>{const c=o.parentNode;return we(o[a])?!1:c===n||rt(c)||e.isBlock(c)?!0:U_(e,n,c,a)},Ph=(e,n,o,a,c)=>{let m=o;const p=c?"previousSibling":"nextSibling",_=e.getRoot();if(Gt(o)&&!$_(o)&&(c?a>0:a<o.data.length))return o;for(;m;){if(!n[0].block_expand&&e.isBlock(m))return m;for(let A=m[p];A;A=A[p]){const $=Gt(A)&&!U_(e,_,A,p);if(!jp(A)&&!VD(A)&&!$_(A,$))return m}if(m===_||m.parentNode===_){o=m;break}m=m.parentNode}return o},Nh=e=>jp(e.parentNode)||jp(e),Zp=(e,n,o,a=!1)=>{let{startContainer:c,startOffset:m,endContainer:p,endOffset:_}=n;const A=o[0];return Nn(c)&&c.hasChildNodes()&&(c=Ai(c,m),Gt(c)&&(m=0)),Nn(p)&&p.hasChildNodes()&&(p=Ai(p,n.collapsed?_:_-1),Gt(p)&&(_=p.data.length)),c=H2(e,c),p=H2(e,p),Nh(c)&&(c=jp(c)?c:c.parentNode,n.collapsed?c=c.previousSibling||c:c=c.nextSibling||c,Gt(c)&&(m=n.collapsed?c.length:0)),Nh(p)&&(p=jp(p)?p:p.parentNode,n.collapsed?p=p.nextSibling||p:p=p.previousSibling||p,Gt(p)&&(_=n.collapsed?0:p.length)),n.collapsed&&(KA(e,e.getRoot(),c,m,!0,a).each(({container:X,offset:ne})=>{c=X,m=ne}),KA(e,e.getRoot(),p,_,!1,a).each(({container:X,offset:ne})=>{p=X,_=ne})),(wa(A)||A.block_expand)&&((!wa(A)||!Gt(c)||m===0)&&(c=Ph(e,o,c,m,!0)),(!wa(A)||!Gt(p)||_===p.data.length)&&(p=Ph(e,o,p,_,!1))),B_(A)&&(c=e0(e,o,n,c,"previousSibling"),p=e0(e,o,n,p,"nextSibling")),(lm(A)||Zc(A))&&(c=H_(e,o,c,"previousSibling"),p=H_(e,o,p,"nextSibling"),lm(A)&&(e.isBlock(c)||(c=Ph(e,o,c,m,!0),Gt(c)&&(m=0)),e.isBlock(p)||(p=Ph(e,o,p,_,!1),Gt(p)&&(_=p.data.length)))),Nn(c)&&c.parentNode&&(m=e.nodeIndex(c),c=c.parentNode),Nn(p)&&p.parentNode&&(_=e.nodeIndex(p)+1,p=p.parentNode),{startContainer:c,startOffset:m,endContainer:p,endOffset:_}},W2=(e,n,o)=>{var a;const c=n.startOffset,m=Ai(n.startContainer,c),p=n.endOffset,_=Ai(n.endContainer,p-1),A=Pe=>{const Ye=Pe[0];Gt(Ye)&&Ye===m&&c>=Ye.data.length&&Pe.splice(0,1);const st=Pe[Pe.length-1];return p===0&&Pe.length>0&&st===_&&Gt(st)&&Pe.splice(Pe.length-1,1),Pe},$=(Pe,Ye,st)=>{const nt=[];for(;Pe&&Pe!==st;Pe=Pe[Ye])nt.push(Pe);return nt},q=(Pe,Ye)=>e.getParent(Pe,st=>st.parentNode===Ye,Ye),X=(Pe,Ye,st)=>{const nt=st?"nextSibling":"previousSibling";for(let bt=Pe,Ht=bt.parentNode;bt&&bt!==Ye;bt=Ht){Ht=bt.parentNode;const tn=$(bt===Pe?bt:bt[nt],nt);tn.length&&(st||tn.reverse(),o(A(tn)))}};if(m===_)return o(A([m]));const ne=(a=e.findCommonAncestor(m,_))!==null&&a!==void 0?a:e.getRoot();if(e.isChildOf(m,_))return X(m,ne,!0);if(e.isChildOf(_,m))return X(_,ne);const ve=q(m,ne)||m,Oe=q(_,ne)||_;X(m,ve,!0);const ye=$(ve===m?ve:ve.nextSibling,"nextSibling",Oe===_?Oe.nextSibling:Oe);ye.length&&o(A(ye)),X(_,Oe)},J8=['pre[class*=language-][contenteditable="false"]',"figure.image","div[data-ephox-embed-iri]","div.tiny-pageembed","div.mce-toc","div[data-mce-toc]"],zD=e=>ur(e)&&sg(e)===Ei,HD=(e,n,o,a)=>ma(n).fold(()=>"skipping",c=>a==="br"||zD(n)?"valid":e2(n)?"existing":Au(n.dom)?"caret":Re(J8,m=>Bs(n,m))?"valid-block":!Kp(e,o,a)||!Kp(e,ts(c),o)?"invalid-child":"valid"),Gp=(e,n)=>{const o=Zp(e.dom,n,[{inline:"span"}]);n.setStart(o.startContainer,o.startOffset),n.setEnd(o.endContainer,o.endOffset),e.selection.setRng(n)},qp=(e,n,o,a,c,m)=>{const{uid:p=n,..._}=o;Wd(e,Ir()),_i(e,`${oi()}`,p),_i(e,`${Dr()}`,a);const{attributes:A={},classes:$=[]}=c(p,_);if(Va(e,A),Cv(e,$),m){$.length>0&&_i(e,`${kr()}`,$.join(","));const q=Jt(A);q.length>0&&_i(e,`${jr()}`,q.join(","))}},qa=e=>{za(e,Ir()),Mo(e,`${oi()}`),Mo(e,`${Dr()}`),Mo(e,`${Fs()}`);const n=au(e,`${jr()}`).map(a=>a.split(",")).getOr([]),o=au(e,`${kr()}`).map(a=>a.split(",")).getOr([]);be(n,a=>Mo(e,a)),_h(e,o),Mo(e,`${kr()}`),Mo(e,`${jr()}`)},hg=(e,n,o,a,c)=>{const m=Ke.fromTag("span",e);return qp(m,n,o,a,c,!1),m},Ss=(e,n,o,a,c,m)=>{const p=[],_=hg(e.getDoc(),o,m,a,c),A=Li(),$=()=>{A.clear()},q=()=>A.get().getOrThunk(()=>{const Oe=Zr(_);return p.push(Oe),A.set(Oe),Oe}),X=Oe=>{be(Oe,ne)},ne=Oe=>{switch(HD(e,Oe,"span",ts(Oe))){case"invalid-child":{$();const Pe=ga(Oe);X(Pe),$();break}case"valid-block":{$(),qp(Oe,o,m,a,c,!0);break}case"valid":{const Pe=q();Yl(Oe,Pe);break}}},ve=Oe=>{const ye=Ve(Oe,Ke.fromDom);X(ye)};return W2(e.dom,n,Oe=>{$(),ve(Oe)}),p},Q8=(e,n,o,a)=>{e.undoManager.transact(()=>{const c=e.selection,m=c.getRng(),p=am(e).length>0,_=ja("mce-annotation");if(m.collapsed&&!p&&Gp(e,m),c.getRng().collapsed&&!p){const A=hg(e.getDoc(),_,a,n,o.decorate);Um(A,Pi),c.getRng().insertNode(A.dom),c.select(A.dom)}else D_(c,!1,()=>{fy(e,A=>{Ss(e,A,_,n,o.decorate,a)})})})},UD=e=>{const n=n2();V1(e,n);const o=$1(e,n),a=If("span"),c=m=>{be(m,p=>{a(p)?Ka(p):qa(p)})};return{register:(m,p)=>{n.register(m,p)},annotate:(m,p)=>{n.lookup(m).each(_=>{Q8(e,m,_,p)})},annotationChanged:(m,p)=>{o.addListener(m,p)},remove:m=>{F1(e,J.some(m)).each(({elements:p})=>{const _=e.selection.getBookmark();c(p),e.selection.moveToBookmark(_)})},removeAll:m=>{const p=e.selection.getBookmark();ds(Ch(e,m),(_,A)=>{c(_)}),e.selection.moveToBookmark(p)},getAll:m=>{const p=Ch(e,m);return jl(p,_=>Ve(_,A=>A.dom))}}},Gs=e=>({getBookmark:et(G8,e),moveToBookmark:et(q8,e)});Gs.isBookmarkNode=Tu;const jA=(e,n,o)=>o.collapsed?!1:Re(o.getClientRects(),a=>j1(a,e,n)),K2=(e,n)=>e.dispatch("PreProcess",n),j2=(e,n)=>e.dispatch("PostProcess",n),Z2=e=>{e.dispatch("remove")},G2=e=>{e.dispatch("detach")},WD=(e,n)=>{e.dispatch("SwitchMode",{mode:n})},e7=(e,n,o,a,c)=>{e.dispatch("ObjectResizeStart",{target:n,width:o,height:a,origin:c})},t7=(e,n,o,a,c)=>{e.dispatch("ObjectResized",{target:n,width:o,height:a,origin:c})},n7=e=>{e.dispatch("PreInit")},o7=e=>{e.dispatch("PostRender")},ri=e=>{e.dispatch("Init")},KD=(e,n)=>{e.dispatch("PlaceholderToggle",{state:n})},ZA=(e,n,o)=>{e.dispatch(n,o)},jD=(e,n,o,a)=>{e.dispatch("FormatApply",{format:n,node:o,vars:a})},ZD=(e,n,o,a)=>{e.dispatch("FormatRemove",{format:n,node:o,vars:a})},s7=(e,n)=>e.dispatch("BeforeSetContent",n),gc=(e,n)=>e.dispatch("SetContent",n),cm=(e,n)=>e.dispatch("BeforeGetContent",n),GD=(e,n)=>e.dispatch("GetContent",n),GA=(e,n)=>{e.dispatch("AutocompleterStart",n)},qA=(e,n)=>{e.dispatch("AutocompleterUpdate",n)},YA=(e,n)=>{e.dispatch("AutocompleterUpdateActiveRange",n)},r7=e=>{e.dispatch("AutocompleterEnd")},q2=(e,n,o)=>e.dispatch("PastePreProcess",{content:n,internal:o}),W_=(e,n,o)=>e.dispatch("PastePostProcess",{node:n,internal:o}),K_=(e,n)=>e.dispatch("PastePlainTextToggle",{state:n}),i7=(e,n)=>e.dispatch("EditableRootStateChange",{state:n}),bn={BACKSPACE:8,DELETE:46,DOWN:40,ENTER:13,ESC:27,LEFT:37,RIGHT:39,SPACEBAR:32,TAB:9,UP:38,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,modifierPressed:e=>e.shiftKey||e.ctrlKey||e.altKey||bn.metaKeyPressed(e),metaKeyPressed:e=>Uo.os.isMacOS()||Uo.os.isiOS()?e.metaKey:e.ctrlKey&&!e.altKey},t0="data-mce-selected",a7="table,img,figure.image,hr,video,span.mce-preview-object,details",Ou=Math.abs,Yp=Math.round,j_={nw:[0,0,-1,-1],ne:[1,0,1,-1],se:[1,1,1,1],sw:[0,1,-1,1]},lf=e=>e.type==="longpress"||e.type.indexOf("touch")===0,Hs=(e,n)=>{const o=n.dom,a=n.getDoc(),c=document,m=n.getBody();let p,_,A,$,q,X,ne,ve,Oe,ye,Pe,Ye,st,nt,bt,Ht,tn;const _n=wn=>we(wn)&&(Lc(wn)||o.is(wn,"figure.image")),Dt=wn=>Rt(wn)||o.hasClass(wn,"mce-preview-object"),Ct=(wn,zo)=>{if(lf(wn)){const qo=wn.touches[0];return _n(wn.target)&&!jA(qo.clientX,qo.clientY,zo)}else return _n(wn.target)&&!jA(wn.clientX,wn.clientY,zo)},Vt=wn=>{const zo=wn.target;Ct(wn,n.selection.getRng())&&!wn.isDefaultPrevented()&&n.selection.select(zo)},Dn=wn=>o.hasClass(wn,"mce-preview-object")&&we(wn.firstElementChild)?[wn,wn.firstElementChild]:o.is(wn,"figure.image")?[wn.querySelector("img")]:[wn],Wn=wn=>{const zo=II(n);return!zo||wn.getAttribute("data-mce-resize")==="false"||wn===n.getBody()?!1:o.hasClass(wn,"mce-preview-object")&&we(wn.firstElementChild)?Bs(Ke.fromDom(wn.firstElementChild),zo):Bs(Ke.fromDom(wn),zo)},Vo=(wn,zo)=>{if(Dt(zo))return wn.create("img",{src:Uo.transparentSrc});if(pu(zo)){const Ba=cr($.name,"n")?Tn:go,Us=zo.cloneNode(!0);return Ba(wn.select("tr",Us)).each(Sa=>{const pm=wn.select("td,th",Sa);wn.setStyle(Sa,"height",null),be(pm,Qh=>wn.setStyle(Qh,"height",null))}),Us}else return zo.cloneNode(!0)},Go=(wn,zo,qo)=>{if(we(qo)){const Ba=Dn(wn);be(Ba,Us=>{Us.style[zo]||!n.schema.isValid(Us.nodeName.toLowerCase(),zo)?o.setStyle(Us,zo,qo):o.setAttrib(Us,zo,""+qo)})}},Ns=(wn,zo,qo)=>{Go(wn,"width",zo),Go(wn,"height",qo)},Ks=wn=>{let zo,qo,Ba,Us,Sa;zo=wn.screenX-X,qo=wn.screenY-ne,nt=zo*$[2]+ye,bt=qo*$[3]+Pe,nt=nt<5?5:nt,bt=bt<5?5:bt,(_n(p)||Dt(p))&&DI(n)!==!1?Ba=!bn.modifierPressed(wn):Ba=bn.modifierPressed(wn),Ba&&(Ou(zo)>Ou(qo)?(bt=Yp(nt*Ye),nt=Yp(bt/Ye)):(nt=Yp(bt/Ye),bt=Yp(nt*Ye))),Ns(_,nt,bt),Us=$.startPos.x+zo,Sa=$.startPos.y+qo,Us=Us>0?Us:0,Sa=Sa>0?Sa:0,o.setStyles(A,{left:Us,top:Sa,display:"block"}),A.innerHTML=nt+" &times; "+bt,$[2]<0&&_.clientWidth<=nt&&o.setStyle(_,"left",ve+(ye-nt)),$[3]<0&&_.clientHeight<=bt&&o.setStyle(_,"top",Oe+(Pe-bt)),zo=m.scrollWidth-Ht,qo=m.scrollHeight-tn,zo+qo!==0&&o.setStyles(A,{left:Us-zo,top:Sa-qo}),st||(e7(n,p,ye,Pe,"corner-"+$.name),st=!0)},fi=()=>{const wn=st;st=!1,wn&&(Go(p,"width",nt),Go(p,"height",bt)),o.unbind(a,"mousemove",Ks),o.unbind(a,"mouseup",fi),c!==a&&(o.unbind(c,"mousemove",Ks),o.unbind(c,"mouseup",fi)),o.remove(_),o.remove(A),o.remove(q),Ml(p),wn&&(t7(n,p,nt,bt,"corner-"+$.name),o.setAttrib(p,"style",o.getAttrib(p,"style"))),n.nodeChanged()},Ml=wn=>{gn();const zo=o.getPos(wn,m),qo=zo.x,Ba=zo.y,Us=wn.getBoundingClientRect(),Sa=Us.width||Us.right-Us.left,pm=Us.height||Us.bottom-Us.top;p!==wn&&(un(),p=wn,nt=bt=0);const Qh=n.dispatch("ObjectSelected",{target:wn});Wn(wn)&&!Qh.isDefaultPrevented()?ds(j_,(xc,Ed)=>{const bm=vm=>{const Gn=Dn(p)[0];X=vm.screenX,ne=vm.screenY,ye=Gn.clientWidth,Pe=Gn.clientHeight,Ye=Pe/ye,$=xc,$.name=Ed,$.startPos={x:Sa*xc[0]+qo,y:pm*xc[1]+Ba},Ht=m.scrollWidth,tn=m.scrollHeight,q=o.add(m,"div",{class:"mce-resize-backdrop","data-mce-bogus":"all"}),o.setStyles(q,{position:"fixed",left:"0",top:"0",width:"100%",height:"100%"}),_=Vo(o,p),o.addClass(_,"mce-clonedresizable"),o.setAttrib(_,"data-mce-bogus","all"),_.contentEditable="false",o.setStyles(_,{left:qo,top:Ba,margin:0}),Ns(_,Sa,pm),_.removeAttribute(t0),m.appendChild(_),o.bind(a,"mousemove",Ks),o.bind(a,"mouseup",fi),c!==a&&(o.bind(c,"mousemove",Ks),o.bind(c,"mouseup",fi)),A=o.add(m,"div",{class:"mce-resize-helper","data-mce-bogus":"all"},ye+" &times; "+Pe)};let Ad=o.get("mceResizeHandle"+Ed);Ad&&o.remove(Ad),Ad=o.add(m,"div",{id:"mceResizeHandle"+Ed,"data-mce-bogus":"all",class:"mce-resizehandle",unselectable:!0,style:"cursor:"+Ed+"-resize; margin:0; padding:0"}),o.bind(Ad,"mousedown",vm=>{vm.stopImmediatePropagation(),vm.preventDefault(),bm(vm)}),xc.elm=Ad,o.setStyles(Ad,{left:Sa*xc[0]+qo-Ad.offsetWidth/2,top:pm*xc[1]+Ba-Ad.offsetHeight/2})}):un(!1)},er=wh(Ml,0),un=(wn=!0)=>{er.cancel(),gn(),p&&wn&&p.removeAttribute(t0),ds(j_,(zo,qo)=>{const Ba=o.get("mceResizeHandle"+qo);Ba&&(o.unbind(Ba),o.remove(Ba))})},Hn=(wn,zo)=>o.isChildOf(wn,zo),Cs=wn=>{if(st||n.removed||n.composing)return;const zo=wn.type==="mousedown"?wn.target:e.getNode(),qo=Yi(Ke.fromDom(zo),a7).map(Us=>Us.dom).filter(Us=>o.isEditable(Us.parentElement)||Us.nodeName==="IMG"&&o.isEditable(Us)).getOrUndefined(),Ba=we(qo)?o.getAttrib(qo,t0,"1"):"1";if(be(o.select(`img[${t0}],hr[${t0}]`),Us=>{Us.removeAttribute(t0)}),we(qo)&&Hn(qo,m)&&n.hasFocus()){eo();const Us=e.getStart(!0);if(Hn(Us,qo)&&Hn(e.getEnd(!0),qo)){o.setAttrib(qo,t0,Ba),er.throttle(qo);return}}un()},gn=()=>{ds(j_,wn=>{wn.elm&&(o.unbind(wn.elm),delete wn.elm)})},eo=()=>{try{n.getDoc().execCommand("enableObjectResizing",!1,"false")}catch{}};return n.on("init",()=>{eo(),n.on("NodeChange ResizeEditor ResizeWindow ResizeContent drop",Cs),n.on("keyup compositionend",wn=>{p&&p.nodeName==="TABLE"&&Cs(wn)}),n.on("hide blur",un),n.on("contextmenu longpress",Vt,!0)}),n.on("remove",gn),{isResizable:Wn,showResizeRect:Ml,hideResizeRect:un,updateResizeRect:Cs,destroy:()=>{er.cancel(),p=_=q=null}}},hy=(e,n)=>{n.fold(o=>{e.setStartBefore(o.dom)},(o,a)=>{e.setStart(o.dom,a)},o=>{e.setStartAfter(o.dom)})},Z_=(e,n)=>{n.fold(o=>{e.setEndBefore(o.dom)},(o,a)=>{e.setEnd(o.dom,a)},o=>{e.setEndAfter(o.dom)})},XA=(e,n,o)=>{const a=e.document.createRange();return hy(a,n),Z_(a,o),a},Y2=(e,n,o,a,c)=>{const m=e.document.createRange();return m.setStart(n.dom,o),m.setEnd(a.dom,c),m},n0=Jo.generate([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),qD=(e,n,o)=>n(Ke.fromDom(o.startContainer),o.startOffset,Ke.fromDom(o.endContainer),o.endOffset),JA=(e,n)=>n.match({domRange:o=>({ltr:dt(o),rtl:J.none}),relative:(o,a)=>({ltr:$l(()=>XA(e,o,a)),rtl:$l(()=>J.some(XA(e,a,o)))}),exact:(o,a,c,m)=>({ltr:$l(()=>Y2(e,o,a,c,m)),rtl:$l(()=>J.some(Y2(e,c,m,o,a)))})}),l7=(e,n)=>{const o=n.ltr();return o.collapsed?n.rtl().filter(c=>c.collapsed===!1).map(c=>n0.rtl(Ke.fromDom(c.endContainer),c.endOffset,Ke.fromDom(c.startContainer),c.startOffset)).getOrThunk(()=>qD(e,n0.ltr,o)):qD(e,n0.ltr,o)},YD=(e,n)=>{const o=JA(e,n);return l7(e,o)};n0.ltr,n0.rtl;const G_={create:(e,n,o,a)=>({start:e,soffset:n,finish:o,foffset:a})},XD=(e,n,o)=>{var a;return J.from((a=e.caretPositionFromPoint)===null||a===void 0?void 0:a.call(e,n,o)).bind(c=>{if(c.offsetNode===null)return J.none();const m=e.createRange();return m.setStart(c.offsetNode,c.offset),m.collapse(),J.some(m)})},q_=(e,n,o)=>{var a;return J.from((a=e.caretRangeFromPoint)===null||a===void 0?void 0:a.call(e,n,o))},u7=(e,n,o)=>e.caretPositionFromPoint?XD(e,n,o):e.caretRangeFromPoint?q_(e,n,o):J.none(),d7=(e,n,o)=>{const a=e.document;return u7(a,n,o).map(c=>G_.create(Ke.fromDom(c.startContainer),c.startOffset,Ke.fromDom(c.endContainer),c.endOffset))},QA=Jo.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),f7=(e,n,o,a)=>e.fold(n,o,a),m7=e=>e.fold(An,An,An),JD=QA.before,g7=QA.on,h7=QA.after,pg={before:JD,on:g7,after:h7,cata:f7,getStart:m7},X2=Jo.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),p7=e=>X2.exact(e.start,e.soffset,e.finish,e.foffset),b7=e=>e.match({domRange:n=>Ke.fromDom(n.startContainer),relative:(n,o)=>pg.getStart(n),exact:(n,o,a,c)=>n}),QD=X2.domRange,gd=X2.relative,v7=X2.exact,eP=e=>{const n=b7(e);return Qu(n)},eT=G_.create,Xp={domRange:QD,relative:gd,exact:v7,exactFromRange:p7,getWin:eP,range:eT},J2=(e,n)=>{const o=ts(e);return o==="input"?pg.after(e):xe(["br","img"],o)?n===0?pg.before(e):pg.after(e):pg.on(e,n)},tP=(e,n)=>{const o=e.fold(pg.before,J2,pg.after),a=n.fold(pg.before,J2,pg.after);return Xp.relative(o,a)},Y_=(e,n,o,a)=>{const c=J2(e,n),m=J2(o,a);return Xp.relative(c,m)},nP=e=>e.match({domRange:n=>{const o=Ke.fromDom(n.startContainer),a=Ke.fromDom(n.endContainer);return Y_(o,n.startOffset,a,n.endOffset)},relative:tP,exact:Y_}),Gc=(e,n)=>{const a=document.createDocumentFragment();return be(e,c=>{a.appendChild(c.dom)}),Ke.fromDom(a)},y7=e=>{const n=Xp.getWin(e).dom,o=(c,m,p,_)=>Y2(n,c,m,p,_),a=nP(e);return YD(n,a).match({ltr:o,rtl:o})},tT=(e,n,o)=>d7(e,n,o),oP=(e,n,o)=>{const a=Qu(Ke.fromDom(o));return tT(a.dom,e,n).map(c=>{const m=o.createRange();return m.setStart(c.start.dom,c.soffset),m.setEnd(c.finish.dom,c.foffset),m}).getOrUndefined()},Q2=(e,n)=>we(e)&&we(n)&&e.startContainer===n.startContainer&&e.startOffset===n.startOffset&&e.endContainer===n.endContainer&&e.endOffset===n.endOffset,um=(e,n,o)=>{let a=e;for(;a&&a!==n;){if(o(a))return a;a=a.parentNode}return null},X_=(e,n,o)=>um(e,n,o)!==null,J_=(e,n,o)=>X_(e,n,a=>a.nodeName===o),sP=(e,n)=>Jl(e)&&!X_(e,n,Au),rP=(e,n,o)=>{const a=n.parentNode;if(a){const c=new ha(n,e.getParent(a,e.isBlock)||e.getRoot());let m;for(;m=c[o?"prev":"next"]();)if(pr(m))return!0}return!1},iP=(e,n)=>{var o;return((o=e.previousSibling)===null||o===void 0?void 0:o.nodeName)===n},aP=(e,n)=>{let o=n;for(;o&&o!==e;){if(wo(o))return!0;o=o.parentNode}return!1},ew=(e,n,o,a,c)=>{const m=e.getRoot(),p=e.schema.getNonEmptyElements(),_=c.parentNode;let A,$;if(!_)return J.none();const q=e.getParent(_,e.isBlock)||m;if(a&&pr(c)&&n&&e.isEmpty(q))return J.some(kt(_,e.nodeIndex(c)));const X=new ha(c,q);for(;$=X[a?"prev":"next"]();){if(e.getContentEditableParent($)==="false"||sP($,m))return J.none();if(Gt($)&&$.data.length>0)return J_($,m,"A")?J.none():J.some(kt($,a?$.data.length:0));if(e.isBlock($)||p[$.nodeName.toLowerCase()])return J.none();A=$}return No(A)?J.none():o&&A?J.some(kt(A,0)):J.none()},nT=(e,n,o,a)=>{const c=e.getRoot();let m,p=!1,_=o?a.startContainer:a.endContainer,A=o?a.startOffset:a.endOffset;const $=Nn(_)&&A===_.childNodes.length,q=e.schema.getNonEmptyElements();let X=o;if(Jl(_))return J.none();if(Nn(_)&&A>_.childNodes.length-1&&(X=!1),$n(_)&&(_=c,A=0),_===c){if(X&&(m=_.childNodes[A>0?A-1:0],m&&(Jl(m)||q[m.nodeName]||pu(m))))return J.none();if(_.hasChildNodes()){if(A=Math.min(!X&&A>0?A-1:A,_.childNodes.length-1),_=_.childNodes[A],A=Gt(_)&&$?_.data.length:0,!n&&_===c.lastChild&&pu(_)||aP(c,_)||Jl(_)||kp(_))return J.none();if(_.hasChildNodes()&&!pu(_)){m=_;const ne=new ha(_,c);do{if(wo(m)||Jl(m)){p=!1;break}if(Gt(m)&&m.data.length>0){A=X?0:m.data.length,_=m,p=!0;break}if(q[m.nodeName.toLowerCase()]&&!jC(m)){A=e.nodeIndex(m),_=m.parentNode,X||A++,p=!0;break}}while(m=X?ne.next():ne.prev())}}}return n&&(Gt(_)&&A===0&&ew(e,$,n,!0,_).each(ne=>{_=ne.container(),A=ne.offset(),p=!0}),Nn(_)&&(m=_.childNodes[A],m||(m=_.childNodes[A-1]),m&&pr(m)&&!iP(m,"A")&&!rP(e,m,!1)&&!rP(e,m,!0)&&ew(e,$,n,!0,m).each(ne=>{_=ne.container(),A=ne.offset(),p=!0}))),X&&!n&&Gt(_)&&A===_.data.length&&ew(e,$,n,!1,_).each(ne=>{_=ne.container(),A=ne.offset(),p=!0}),p&&_?J.some(kt(_,A)):J.none()},bg=(e,n)=>{const o=n.collapsed,a=n.cloneRange(),c=kt.fromRangeStart(n);return nT(e,o,!0,a).each(m=>{(!o||!kt.isAbove(c,m))&&a.setStart(m.container(),m.offset())}),o||nT(e,o,!1,a).each(m=>{a.setEnd(m.container(),m.offset())}),o&&a.collapse(!0),Q2(n,a)?J.none():J.some(a)},tw=(e,n)=>e.splitText(n),nw=e=>{let n=e.startContainer,o=e.startOffset,a=e.endContainer,c=e.endOffset;if(n===a&&Gt(n)){if(o>0&&o<n.data.length)if(a=tw(n,o),n=a.previousSibling,c>o){c=c-o;const m=tw(a,c).previousSibling;n=a=m,c=m.data.length,o=0}else c=0}else if(Gt(n)&&o>0&&o<n.data.length&&(n=tw(n,o),o=0),Gt(a)&&c>0&&c<a.data.length){const m=tw(a,c).previousSibling;a=m,c=m.data.length}return{startContainer:n,startOffset:o,endContainer:a,endOffset:c}},Jp=e=>({walk:(m,p)=>W2(e,m,p),split:nw,expand:(m,p={type:"word"})=>{if(p.type==="word"){const _=Zp(e,m,[{inline:"span"}]),A=e.createRng();return A.setStart(_.startContainer,_.startOffset),A.setEnd(_.endContainer,_.endOffset),A}return m},normalize:m=>bg(e,m).fold(In,p=>(m.setStart(p.startContainer,p.startOffset),m.setEnd(p.endContainer,p.endOffset),!0))});Jp.compareRanges=Q2,Jp.getCaretRangeFromPoint=oP,Jp.getSelectedNode=Bp,Jp.getNode=Ai;const oT=((e,n)=>{const o=(_,A)=>{if(!R(A)&&!A.match(/^[0-9]+$/))throw new Error(e+".set accepts only positive integer values. Value was "+A);const $=_.dom;Ua($)&&($.style[e]=A+"px")},a=_=>{const A=n(_);if(A<=0||A===null){const $=zr(_,e);return parseFloat($)||0}return A},c=a,m=(_,A)=>ln(A,($,q)=>{const X=zr(_,q),ne=X===void 0?0:parseInt(X,10);return isNaN(ne)?$:$+ne},0);return{set:o,get:a,getOuter:c,aggregate:m,max:(_,A,$)=>{const q=m(_,$);return A>q?A-q:0}}})("height",e=>{const n=e.dom;return Ha(e)?n.getBoundingClientRect().height:n.offsetHeight}),o0=e=>oT.get(e),lP=()=>Ke.fromDom(document),cP=(e,n)=>e.view(n).fold(dt([]),a=>{const c=e.owner(a),m=cP(e,c);return[a].concat(m)}),Q_=(e,n)=>{const o=n.owner(e);return cP(n,o)};var C7=Object.freeze({__proto__:null,view:e=>{var n;return(e.dom===document?J.none():J.from((n=e.dom.defaultView)===null||n===void 0?void 0:n.frameElement)).map(Ke.fromDom)},owner:e=>ac(e)});const uP=e=>{const n=lP(),o=po(n),a=Q_(e,C7),c=Eo(e),m=ht(a,(p,_)=>{const A=Eo(_);return{left:p.left+A.left,top:p.top+A.top}},{left:0,top:0});return Be(m.left+c.left+o.left,m.top+c.top+o.top)},Lh=e=>ts(e)==="textarea",dP=(e,n)=>e.dispatch("ScrollIntoView",n).isDefaultPrevented(),fP=(e,n)=>{e.dispatch("AfterScrollIntoView",n)},mP=(e,n)=>{const o=ga(e);if(o.length===0||Lh(e))return{element:e,offset:n};if(n<o.length&&!Lh(o[n]))return{element:o[n],offset:0};{const a=o[o.length-1];return Lh(a)?{element:e,offset:n}:ts(a)==="img"?{element:a,offset:1}:ur(a)?{element:a,offset:sg(a).length}:{element:a,offset:ga(a).length}}},ow=(e,n)=>{const o=Xn(e),a=o0(e);return{element:e,bottom:o.top+a,height:a,pos:o,cleanup:n}},gP=(e,n)=>{const o=mP(e,n),a=Ke.fromHtml('<span data-mce-bogus="all" style="display: inline-block;">'+Ei+"</span>");return Tr(o.element,a),ow(a,()=>Ps(a))},hP=e=>ow(Ke.fromDom(e),St),pP=(e,n,o,a)=>{vP(e,(c,m)=>bP(e,n,o,a),o)},sw=(e,n,o,a,c)=>{const m={elm:a.element.dom,alignToTop:c};if(dP(e,m))return;const p=po(n).top;o(e,n,p,a,c),fP(e,m)},bP=(e,n,o,a)=>{const c=Ke.fromDom(e.getBody()),m=Ke.fromDom(e.getDoc());h1(c);const p=gP(Ke.fromDom(o.startContainer),o.startOffset);sw(e,m,n,p,a),p.cleanup()},eS=(e,n,o,a)=>{const c=Ke.fromDom(e.getDoc());sw(e,c,o,hP(n),a)},vP=(e,n,o)=>{const a=o.startContainer,c=o.startOffset,m=o.endContainer,p=o.endOffset;n(Ke.fromDom(a),Ke.fromDom(m));const _=e.dom.createRng();_.setStart(a,c),_.setEnd(m,p),e.selection.setRng(o)},rw=(e,n,o,a,c)=>{const m=n.pos;if(a)Mn(m.left,m.top,c);else{const p=m.top-o+n.height;Mn(-e.getBody().getBoundingClientRect().left,p,c)}},sT=(e,n,o,a,c,m)=>{const p=a+o,_=c.pos.top,A=c.bottom,$=A-_>=a;_<o?rw(e,c,a,m!==!1,n):_>p?rw(e,c,a,$?m!==!1:m===!0,n):A>p&&!$&&rw(e,c,a,m===!0,n)},iw=(e,n,o,a,c)=>{const m=Qu(n).dom.innerHeight;sT(e,n,o,m,a,c)},vg=(e,n,o,a,c)=>{const m=Qu(n).dom.innerHeight;sT(e,n,o,m,a,c);const p=uP(a.element),_=Pc(window);p.top<_.y?ws(a.element,c!==!1):p.top>_.bottom&&ws(a.element,c===!0)},_7=(e,n,o)=>pP(e,iw,n,o),rT=(e,n,o)=>eS(e,n,iw,o),xi=(e,n,o)=>pP(e,vg,n,o),iT=(e,n,o)=>eS(e,n,vg,o),aT=(e,n,o)=>{(e.inline?rT:iT)(e,n,o)},hd=(e,n,o)=>{(e.inline?_7:xi)(e,n,o)},lT=(e,n=!1)=>e.dom.focus({preventScroll:n}),cT=e=>{const n=du(e).dom;return e.dom===n.activeElement},s0=(e=lP())=>J.from(e.dom.activeElement).map(Ke.fromDom),S7=e=>s0(du(e)).filter(n=>e.dom.contains(n.dom)),yP=(e,n)=>{const o=ur(n)?sg(n).length:ga(n).length+1;return e>o?o:e<0?0:e},py=e=>Xp.range(e.start,yP(e.soffset,e.start),e.finish,yP(e.foffset,e.finish)),xP=(e,n)=>!Bf(n.dom)&&(fa(e,n)||ns(e,n)),Qp=e=>n=>xP(e,n.start)&&xP(e,n.finish),k7=e=>e.inline||Uo.browser.isFirefox(),eb=e=>Xp.range(Ke.fromDom(e.startContainer),e.startOffset,Ke.fromDom(e.endContainer),e.endOffset),E7=e=>{const n=e.getSelection();return(!n||n.rangeCount===0?J.none():J.from(n.getRangeAt(0))).map(eb)},pd=e=>{const n=Qu(e);return E7(n.dom).filter(Qp(e))},aw=(e,n)=>J.from(n).filter(Qp(e)).map(py),uT=e=>{const n=document.createRange();try{return n.setStart(e.start.dom,e.soffset),n.setEnd(e.finish.dom,e.foffset),J.some(n)}catch{return J.none()}},by=e=>{const n=k7(e)?pd(Ke.fromDom(e.getBody())):J.none();e.bookmark=n.isSome()?n:e.bookmark},dT=e=>(e.bookmark?e.bookmark:J.none()).bind(o=>aw(Ke.fromDom(e.getBody()),o)).bind(uT),tS=e=>{dT(e).each(n=>e.selection.setRng(n))},bd={isEditorUIElement:e=>{const n=e.className.toString();return n.indexOf("tox-")!==-1||n.indexOf("mce-")!==-1}},nS=(e,n)=>(R(n)||(n=0),setTimeout(e,n)),wP=(e,n)=>(R(n)||(n=0),setInterval(e,n)),qc={setEditorTimeout:(e,n,o)=>nS(()=>{e.removed||n()},o),setEditorInterval:(e,n,o)=>{const a=wP(()=>{e.removed?clearInterval(a):n()},o);return a}},fT=e=>e.type==="nodechange"&&e.selectionChange,r0=(e,n)=>{const o=()=>{n.throttle()};Js.DOM.bind(document,"mouseup",o),e.on("remove",()=>{Js.DOM.unbind(document,"mouseup",o)})},mT=(e,n)=>{e.on("mouseup touchend",o=>{n.throttle()})},CP=(e,n)=>{mT(e,n),e.on("keyup NodeChange AfterSetSelectionRange",o=>{fT(o)||by(e)})},A7=e=>{const n=wh(()=>{by(e)},0);e.on("init",()=>{e.inline&&r0(e,n),CP(e,n)}),e.on("remove",()=>{n.cancel()})};let yg;const gT=Js.DOM,_P=e=>Nn(e)&&bd.isEditorUIElement(e),lw=e=>{const n=e.classList;return n!==void 0?n.contains("tox-edit-area")||n.contains("tox-edit-area__iframe")||n.contains("mce-content-body"):!1},oS=(e,n)=>{const o=NI(e);return gT.getParent(n,c=>_P(c)||(o?e.dom.is(c,o):!1))!==null},sS=e=>{try{const n=du(Ke.fromDom(e.getElement()));return s0(n).fold(()=>document.body,o=>o.dom)}catch{return document.body}},SP=(e,n)=>{const o=n.editor;A7(o);const a=(c,m)=>{if(WI(c)&&c.inline!==!0){const p=Ke.fromDom(c.getContainer());m(p,"tox-edit-focus")}};o.on("focusin",()=>{const c=e.focusedEditor;lw(sS(o))&&a(o,Wd),c!==o&&(c&&c.dispatch("blur",{focusedEditor:o}),e.setActive(o),e.focusedEditor=o,o.dispatch("focus",{blurredEditor:c}),o.focus(!0))}),o.on("focusout",()=>{qc.setEditorTimeout(o,()=>{const c=e.focusedEditor;(!lw(sS(o))||c!==o)&&a(o,za),!oS(o,sS(o))&&c===o&&(o.dispatch("blur",{focusedEditor:null}),e.focusedEditor=null)})}),yg||(yg=c=>{const m=e.activeEditor;m&&Xb(c).each(p=>{const _=p;_.ownerDocument===document&&_!==document.body&&!oS(m,_)&&e.focusedEditor===m&&(m.dispatch("blur",{focusedEditor:null}),e.focusedEditor=null)})},gT.bind(document,"focusin",yg))},T7=(e,n)=>{e.focusedEditor===n.editor&&(e.focusedEditor=null),!e.activeEditor&&yg&&(gT.unbind(document,"focusin",yg),yg=null)},O7=e=>{e.on("AddEditor",et(SP,e)),e.on("RemoveEditor",et(T7,e))},R7=(e,n)=>e.dom.getParent(n,o=>e.dom.getContentEditable(o)==="true"),I7=(e,n)=>e.dom.getParent(n,o=>e.dom.getContentEditable(o)==="false")!==null,D7=e=>e.collapsed?J.from(Ai(e.startContainer,e.startOffset)).map(Ke.fromDom):J.none(),P7=(e,n)=>D7(n).bind(o=>Sh(o)?J.some(o):fa(e,o)?J.none():J.some(e)),kP=(e,n)=>{P7(Ke.fromDom(e.getBody()),n).bind(o=>so(o.dom)).fold(()=>{e.selection.normalize()},o=>e.selection.setRng(o.toRange()))},rS=e=>{if(e.setActive)try{e.setActive()}catch{e.focus()}else e.focus()},N7=e=>cT(e)||S7(e).isSome(),L7=e=>we(e.iframeElement)&&cT(Ke.fromDom(e.iframeElement)),M7=e=>{const n=e.getBody();return n&&N7(Ke.fromDom(n))},EP=e=>{const n=du(Ke.fromDom(e.getElement()));return s0(n).filter(o=>!lw(o.dom)&&oS(e,o.dom)).isSome()},vy=e=>e.inline?M7(e):L7(e),i0=e=>vy(e)||EP(e),B7=e=>{const n=e.selection,o=e.getBody();let a=n.getRng();e.quirks.refreshContentEditable();const c=p=>{dT(p).each(_=>{p.selection.setRng(_),a=_})};!vy(e)&&e.hasEditableRoot()&&c(e);const m=R7(e,n.getNode());if(m&&e.dom.isChildOf(m,o)){I7(e,m)||rS(o),rS(m),e.hasEditableRoot()||c(e),kP(e,a),hT(e);return}e.inline||(Uo.browser.isOpera()||rS(o),e.getWin().focus()),(Uo.browser.isFirefox()||e.inline)&&(rS(o),kP(e,a)),hT(e)},hT=e=>e.editorManager.setActive(e),AP=(e,n)=>{e.removed||(n?hT(e):B7(e))},TP=(e,n)=>n.collapsed?e.isEditable(n.startContainer):e.isEditable(n.startContainer)&&e.isEditable(n.endContainer),OP=(e,n,o,a,c)=>{const m=o?n.startContainer:n.endContainer,p=o?n.startOffset:n.endOffset;return J.from(m).map(Ke.fromDom).map(_=>!a||!n.collapsed?td(_,c(_,p)).getOr(_):_).bind(_=>Vr(_)?J.some(_):ma(_).filter(Vr)).map(_=>_.dom).getOr(e)},RP=(e,n,o=!1)=>OP(e,n,!0,o,(a,c)=>Math.min(jd(a),c)),IP=(e,n,o=!1)=>OP(e,n,!1,o,(a,c)=>c>0?c-1:c),DP=(e,n)=>{const o=e;for(;e&&Gt(e)&&e.length===0;)e=n?e.nextSibling:e.previousSibling;return e||o},F7=(e,n)=>{if(!n)return e;let o=n.startContainer,a=n.endContainer;const c=n.startOffset,m=n.endOffset;let p=n.commonAncestorContainer;n.collapsed||(o===a&&m-c<2&&o.hasChildNodes()&&(p=o.childNodes[c]),Gt(o)&&Gt(a)&&(o.length===c?o=DP(o.nextSibling,!0):o=o.parentNode,m===0?a=DP(a.previousSibling,!1):a=a.parentNode,o&&o===a&&(p=o)));const _=Gt(p)?p.parentNode:p;return hu(_)?_:e},pT=(e,n,o,a)=>{const c=[],m=e.getRoot(),p=e.getParent(o||RP(m,n,n.collapsed),e.isBlock),_=e.getParent(a||IP(m,n,n.collapsed),e.isBlock);if(p&&p!==m&&c.push(p),p&&_&&p!==_){let A;const $=new ha(p,m);for(;(A=$.next())&&A!==_;)e.isBlock(A)&&c.push(A)}return _&&p!==_&&_!==m&&c.push(_),c},cw=(e,n,o)=>J.from(n).bind(a=>J.from(a.parentNode).map(c=>{const m=e.nodeIndex(a),p=e.createRng();return p.setStart(c,m),p.setEnd(c,m+1),o&&(F2(e,p,a,!0),F2(e,p,a,!1)),p})),iS=(e,n)=>Ve(n,o=>{const a=e.dispatch("GetSelectionRange",{range:o});return a.range!==o?a.range:o}),$7={"#text":3,"#comment":8,"#cdata":4,"#pi":7,"#doctype":10,"#document-fragment":11},a0=(e,n,o)=>{const a=o?"lastChild":"firstChild",c=o?"prev":"next";if(e[a])return e[a];if(e!==n){let m=e[c];if(m)return m;for(let p=e.parent;p&&p!==n;p=p.parent)if(m=p[c],m)return m}},PP=e=>{var n;const o=(n=e.value)!==null&&n!==void 0?n:"";if(!cc(o))return!1;const a=e.parent;return!(a&&(a.name!=="span"||a.attr("style"))&&/^[ ]+$/.test(o))},Bi=e=>{const n=e.name==="a"&&!e.attr("href")&&e.attr("id");return e.attr("name")||e.attr("id")&&!e.firstChild||e.attr("data-mce-bookmark")||n};class Ma{static create(n,o){const a=new Ma(n,$7[n]||1);return o&&ds(o,(c,m)=>{a.attr(m,c)}),a}constructor(n,o){this.name=n,this.type=o,o===1&&(this.attributes=[],this.attributes.map={})}replace(n){const o=this;return n.parent&&n.remove(),o.insert(n,o),o.remove(),o}attr(n,o){const a=this;if(!ue(n))return we(n)&&ds(n,(m,p)=>{a.attr(p,m)}),a;const c=a.attributes;if(c){if(o!==void 0){if(o===null){if(n in c.map){delete c.map[n];let m=c.length;for(;m--;)if(c[m].name===n)return c.splice(m,1),a}return a}if(n in c.map){let m=c.length;for(;m--;)if(c[m].name===n){c[m].value=o;break}}else c.push({name:n,value:o});return c.map[n]=o,a}return c.map[n]}}clone(){const n=this,o=new Ma(n.name,n.type),a=n.attributes;if(a){const c=[];c.map={};for(let m=0,p=a.length;m<p;m++){const _=a[m];_.name!=="id"&&(c[c.length]={name:_.name,value:_.value},c.map[_.name]=_.value)}o.attributes=c}return o.value=n.value,o}wrap(n){const o=this;return o.parent&&(o.parent.insert(n,o),n.append(o)),o}unwrap(){const n=this;for(let o=n.firstChild;o;){const a=o.next;n.insert(o,n,!0),o=a}n.remove()}remove(){const n=this,o=n.parent,a=n.next,c=n.prev;return o&&(o.firstChild===n?(o.firstChild=a,a&&(a.prev=null)):c&&(c.next=a),o.lastChild===n?(o.lastChild=c,c&&(c.next=null)):a&&(a.prev=c),n.parent=n.next=n.prev=null),n}append(n){const o=this;n.parent&&n.remove();const a=o.lastChild;return a?(a.next=n,n.prev=a,o.lastChild=n):o.lastChild=o.firstChild=n,n.parent=o,n}insert(n,o,a){n.parent&&n.remove();const c=o.parent||this;return a?(o===c.firstChild?c.firstChild=n:o.prev&&(o.prev.next=n),n.prev=o.prev,n.next=o,o.prev=n):(o===c.lastChild?c.lastChild=n:o.next&&(o.next.prev=n),n.next=o.next,n.prev=o,o.next=n),n.parent=c,n}getAll(n){const o=this,a=[];for(let c=o.firstChild;c;c=a0(c,o))c.name===n&&a.push(c);return a}children(){const n=this,o=[];for(let a=n.firstChild;a;a=a.next)o.push(a);return o}empty(){const n=this;if(n.firstChild){const o=[];for(let c=n.firstChild;c;c=a0(c,n))o.push(c);let a=o.length;for(;a--;){const c=o[a];c.parent=c.firstChild=c.lastChild=c.next=c.prev=null}}return n.firstChild=n.lastChild=null,n}isEmpty(n,o={},a){var c;const m=this;let p=m.firstChild;if(Bi(m))return!1;if(p)do{if(p.type===1){if(p.attr("data-mce-bogus"))continue;if(n[p.name]||Bi(p))return!1}if(p.type===8||p.type===3&&!PP(p)||p.type===3&&p.parent&&o[p.parent.name]&&cc((c=p.value)!==null&&c!==void 0?c:"")||a&&a(p))return!1}while(p=a0(p,m));return!0}walk(n){return a0(this,null,n)}}const NP=nn.makeMap("NOSCRIPT STYLE SCRIPT XMP IFRAME NOEMBED NOFRAMES PLAINTEXT"," "),aS=e=>ue(e.nodeValue)&&e.nodeValue.includes(Ei),uw=e=>`${e.length===0?"":`${Ve(e,n=>`[${n}]`).join(",")},`}[data-mce-bogus="all"]`,tb=(e,n)=>n.querySelectorAll(uw(e)),Mh=e=>document.createTreeWalker(e,NodeFilter.SHOW_COMMENT,n=>aS(n)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP),LP=e=>document.createTreeWalker(e,NodeFilter.SHOW_TEXT,n=>{if(aS(n)){const o=n.parentNode;return o&&ho(NP,o.nodeName)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}else return NodeFilter.FILTER_SKIP}),V7=e=>Mh(e).nextNode()!==null,yy=e=>LP(e).nextNode()!==null,xy=(e,n)=>n.querySelector(uw(e))!==null,wy=(e,n)=>{be(tb(e,n),o=>{const a=Ke.fromDom(o);Ia(a,"data-mce-bogus")==="all"?Ps(a):be(e,c=>{Hd(a,c)&&Mo(a,c)})})},lS=e=>{let n=e.nextNode();for(;n!==null;)n.nodeValue=null,n=e.nextNode()},bT=Ut(lS,Mh),MP=Ut(lS,LP),vT=(e,n)=>{const o=[{condition:et(xy,n),action:et(wy,n)},{condition:V7,action:bT},{condition:yy,action:MP}];let a=e,c=!1;return be(o,({condition:m,action:p})=>{m(a)&&(c||(a=e.cloneNode(!0),c=!0),p(a))}),a},BP=e=>{const n=vi(e,"[data-mce-bogus]");be(n,o=>{Ia(o,"data-mce-bogus")==="all"?Ps(o):ud(o)?(Tr(o,Ke.fromText(Or)),Ps(o)):Ka(o)})},FP=e=>{const n=vi(e,"input");be(n,o=>{Mo(o,"name")})},$P=(e,n)=>{const o=gl(e),a=new RegExp(`^(<${o}[^>]*>(&nbsp;|&#160;|\\s||<br \\/>|)<\\/${o}>[\r
]*|<br \\/>[\r
]*)$`);return n.replace(a,"")},VP=(e,n)=>{const o=e.getDoc(),a=du(Ke.fromDom(e.getBody())),c=Ke.fromTag("div",o);_i(c,"data-mce-bogus","all"),Xo(c,{position:"fixed",left:"-9999999px",top:"0"}),Um(c,n.innerHTML),BP(c),FP(c);const m=g1(a);Hr(m,c);const p=Il(c.dom.innerText);return Ps(c),p},dw=(e,n,o)=>{let a;return n.format==="raw"?a=nn.trim(Il(vT(o,e.serializer.getTempAttrs()).innerHTML)):n.format==="text"?a=VP(e,o):n.format==="tree"?a=e.serializer.serialize(o,n):a=$P(e,e.serializer.serialize(o,n)),n.format!=="text"&&!Rv(Ke.fromDom(o))&&ue(a)?nn.trim(a):a},zP=(e,n)=>J.from(e.getBody()).fold(dt(n.format==="tree"?new Ma("body",11):""),o=>dw(e,n,o)),yT=nn.makeMap,xT=e=>{const n=[];e=e||{};const o=e.indent,a=yT(e.indent_before||""),c=yT(e.indent_after||""),m=fh.getEncodeFunc(e.entity_encoding||"raw",e.entities),p=e.element_format!=="xhtml";return{start:(_,A,$)=>{if(o&&a[_]&&n.length>0){const q=n[n.length-1];q.length>0&&q!==`
`&&n.push(`
`)}if(n.push("<",_),A)for(let q=0,X=A.length;q<X;q++){const ne=A[q];n.push(" ",ne.name,'="',m(ne.value,!0),'"')}if(!$||p?n[n.length]=">":n[n.length]=" />",$&&o&&c[_]&&n.length>0){const q=n[n.length-1];q.length>0&&q!==`
`&&n.push(`
`)}},end:_=>{let A;n.push("</",_,">"),o&&c[_]&&n.length>0&&(A=n[n.length-1],A.length>0&&A!==`
`&&n.push(`
`))},text:(_,A)=>{_.length>0&&(n[n.length]=A?_:m(_))},cdata:_=>{n.push("<![CDATA[",_,"]]>")},comment:_=>{n.push("<!--",_,"-->")},pi:(_,A)=>{A?n.push("<?",_," ",m(A),"?>"):n.push("<?",_,"?>"),o&&n.push(`
`)},doctype:_=>{n.push("<!DOCTYPE",_,">",o?`
`:"")},reset:()=>{n.length=0},getContent:()=>n.join("").replace(/\n$/,"")}},Bh=(e={},n=Vc())=>{const o=xT(e);return e.validate="validate"in e?e.validate:!0,{serialize:c=>{const m=e.validate,p={3:A=>{var $;o.text(($=A.value)!==null&&$!==void 0?$:"",A.raw)},8:A=>{var $;o.comment(($=A.value)!==null&&$!==void 0?$:"")},7:A=>{o.pi(A.name,A.value)},10:A=>{var $;o.doctype(($=A.value)!==null&&$!==void 0?$:"")},4:A=>{var $;o.cdata(($=A.value)!==null&&$!==void 0?$:"")},11:A=>{let $=A;if($=$.firstChild)do _($);while($=$.next)}};o.reset();const _=A=>{var $;const q=p[A.type];if(q)q(A);else{const X=A.name,ne=X in n.getVoidElements();let ve=A.attributes;if(m&&ve&&ve.length>1){const Oe=[];Oe.map={};const ye=n.getElementRule(A.name);if(ye){for(let Pe=0,Ye=ye.attributesOrder.length;Pe<Ye;Pe++){const st=ye.attributesOrder[Pe];if(st in ve.map){const nt=ve.map[st];Oe.map[st]=nt,Oe.push({name:st,value:nt})}}for(let Pe=0,Ye=ve.length;Pe<Ye;Pe++){const st=ve[Pe].name;if(!(st in Oe.map)){const nt=ve.map[st];Oe.map[st]=nt,Oe.push({name:st,value:nt})}}ve=Oe}}if(o.start(X,ve,ne),Gm(X))ue(A.value)&&o.text(A.value,!0),o.end(X);else if(!ne){let Oe=A.firstChild;if(Oe){(X==="pre"||X==="textarea")&&Oe.type===3&&(($=Oe.value)===null||$===void 0?void 0:$[0])===`
`&&o.text(`
`,!0);do _(Oe);while(Oe=Oe.next)}o.end(X)}}};return c.type===1&&!e.inner?_(c):c.type===3?p[3](c):p[11](c),o.getContent()}}},wT=new Set;be(["margin","margin-left","margin-right","margin-top","margin-bottom","padding","padding-left","padding-right","padding-top","padding-bottom","border","border-width","border-style","border-color","background","background-attachment","background-clip","background-image","background-origin","background-position","background-repeat","background-size","float","position","left","right","top","bottom","z-index","display","transform","width","max-width","min-width","height","max-height","min-height","overflow","overflow-x","overflow-y","text-overflow","vertical-align","transition","transition-delay","transition-duration","transition-property","transition-timing-function"],n=>{wT.add(n)});const CT=new Set;be(["background-color"],n=>{CT.add(n)});const _T=["font","text-decoration","text-emphasis"],HP=(e,n)=>e.parseStyle(e.getAttrib(n,"style")),l0=(e,n)=>Jt(HP(e,n)),ST=e=>wT.has(e),fw=e=>CT.has(e),kT=(e,n)=>Re(l0(e,n),o=>ST(o)),UP=(e,n)=>kT(e,n)&&Re(l0(e,n),o=>fw(o)),cS=e=>Ge(e,n=>Re(_T,o=>cr(n,o))),z7=(e,n,o)=>{const a=l0(e,n),c=l0(e,o),m=p=>{var _,A;const $=(_=e.getStyle(n,p))!==null&&_!==void 0?_:"",q=(A=e.getStyle(o,p))!==null&&A!==void 0?A:"";return ot($)&&ot(q)&&$!==q};return Re(a,p=>{const _=A=>Re(A,$=>$===p);if(!_(c)&&_(_T)){const A=cS(c);return Re(A,m)}else return m(p)})},WP=(e,n,o)=>J.from(o.container()).filter(Gt).exists(a=>{const c=e?0:-1;return n(a.data.charAt(o.offset()+c))}),Fh=et(WP,!0,Jv),mw=et(WP,!1,Jv),KP=e=>{const n=e.container();return Gt(n)&&(n.data.length===0||Wc(n.data)&&Gs.isBookmarkNode(n.parentNode))},cf=(e,n)=>o=>E_(e?0:-1,o).filter(n).isSome(),ET=e=>Lc(e)&&zr(Ke.fromDom(e),"display")==="block",uS=e=>wo(e)&&!b1(e),jP=cf(!0,ET),ZP=cf(!1,ET),c0=cf(!0,Rt),Cy=cf(!1,Rt),GP=cf(!0,pu),_y=cf(!1,pu),Fi=cf(!0,uS),dm=cf(!1,uS),u0=e=>e.slice(0,-1),qP=(e,n,o)=>fa(n,e)?u0($m(e,a=>o(a)||ns(a,n))):[],hc=(e,n)=>qP(e,n,In),Yc=(e,n)=>[e].concat(hc(e,n)),dS=(e,n,o)=>bD(e,n,o,KP),YP=e=>n=>e.isBlock(ts(n)),AT=(e,n,o)=>yn(Yc(Ke.fromDom(n.container()),e),YP(o)),Sy=(e,n,o,a)=>dS(e,n.dom,o).forall(c=>AT(n,o,a).fold(()=>!mg(c,o,n.dom),m=>!mg(c,o,n.dom)&&fa(m,Ke.fromDom(c.container())))),fS=(e,n,o,a)=>AT(n,o,a).fold(()=>dS(e,n.dom,o).forall(c=>!mg(c,o,n.dom)),c=>dS(e,c.dom,o).isNone()),mS=et(fS,!1),XP=et(fS,!0),TT=et(Sy,!1),OT=et(Sy,!0),H7=e=>A_(e).exists(ud),vd=(e,n,o,a)=>{const c=Ge(Yc(Ke.fromDom(o.container()),n),p=>a.isBlock(ts(p))),m=Tn(c).getOr(n);return Eu(e,m.dom,o).filter(H7)},gw=(e,n,o)=>A_(n).exists(ud)||vd(!0,e,n,o).isSome(),d0=(e,n,o)=>W8(n).exists(ud)||vd(!1,e,n,o).isSome(),gS=et(vd,!1),JP=et(vd,!0),RT=e=>kt.isTextPosition(e)&&!e.isAtStart()&&!e.isAtEnd(),IT=(e,n,o)=>{const a=Ge(Yc(Ke.fromDom(n.container()),e),c=>o.isBlock(ts(c)));return Tn(a).getOr(e)},QP=(e,n,o)=>RT(n)?mw(n):mw(n)||jc(IT(e,n,o).dom,n).exists(mw),eN=(e,n,o)=>RT(n)?Fh(n):Fh(n)||Ql(IT(e,n,o).dom,n).exists(Fh),tN=e=>xe(["pre","pre-wrap"],e),hS=e=>A_(e).bind(n=>bi(n,Vr)).exists(n=>tN(zr(n,"white-space"))),DT=(e,n)=>jc(e.dom,n).isNone(),PT=(e,n)=>Ql(e.dom,n).isNone(),nN=(e,n,o)=>DT(e,n)||PT(e,n)||mS(e,n,o)||XP(e,n,o)||d0(e,n,o)||gw(e,n,o),NT=e=>we(e)&&wo(e)&&EA(e),LT=(e,n)=>o=>NT(new ha(o,e)[n]()),oN=(e,n)=>{const o=Ql(e.dom,n).getOr(n),a=LT(e.dom,"next");return n.isAtEnd()&&(a(n.container())||a(o.container()))},MT=(e,n)=>{const o=jc(e.dom,n).getOr(n),a=LT(e.dom,"prev");return n.isAtStart()&&(a(n.container())||a(o.container()))},BT=(e,n,o)=>hS(n)?!1:nN(e,n,o)||QP(e,n,o)||eN(e,n,o),ky=(e,n,o)=>hS(n)?!1:mS(e,n,o)||TT(e,n,o)||d0(e,n,o)||QP(e,n,o)||MT(e,n),sN=e=>{const n=e.container(),o=e.offset();return Gt(n)&&o<n.data.length?kt(n,o+1):e},f0=(e,n,o)=>hS(n)?!1:XP(e,n,o)||OT(e,n,o)||gw(e,n,o)||eN(e,n,o)||oN(e,n),FT=(e,n,o)=>ky(e,n,o)||f0(e,sN(n),o),hw=(e,n)=>hl(e.charAt(n)),$T=(e,n)=>Jv(e.charAt(n)),rN=e=>{const n=e.container();return Gt(n)&&Ms(n.data,Pi)},U7=e=>{const n=e.split("");return Ve(n,(o,a)=>hl(o)&&a>0&&a<n.length-1&&Ih(n[a-1])&&Ih(n[a+1])?" ":o).join("")},iN=(e,n,o,a)=>{const c=n.data,m=kt(n,0);return!o&&hw(c,0)&&!FT(e,m,a)?(n.data=" "+c.slice(1),!0):o&&$T(c,0)&&ky(e,m,a)?(n.data=Pi+c.slice(1),!0):!1},aN=e=>{const n=e.data,o=U7(n);return o!==n?(e.data=o,!0):!1},lN=(e,n,o,a)=>{const c=n.data,m=kt(n,c.length-1);return!o&&hw(c,c.length-1)&&!FT(e,m,a)?(n.data=c.slice(0,-1)+" ",!0):o&&$T(c,c.length-1)&&f0(e,m,a)?(n.data=c.slice(0,-1)+Pi,!0):!1},cN=(e,n,o)=>{const a=n.container();if(!Gt(a))return J.none();if(rN(n)){const c=iN(e,a,!1,o)||aN(a)||lN(e,a,!1,o);return Jg(c,n)}else if(FT(e,n,o)){const c=iN(e,a,!0,o)||lN(e,a,!0,o);return Jg(c,n)}else return J.none()},W7=e=>{const n=Ke.fromDom(e.getBody());e.selection.isCollapsed()&&cN(n,kt.fromRangeStart(e.selection.getRng()),e.schema).each(o=>{e.selection.setRng(o.toRange())})},uN=(e,n,o,a)=>{if(o===0)return;const c=Ke.fromDom(e),m=ll(c,$=>a.isBlock(ts($))).getOr(c),p=e.data.slice(n,n+o),_=n+o>=e.data.length&&f0(m,kt(e,e.data.length),a),A=n===0&&ky(m,kt(e,0),a);e.replaceData(n,o,nv(p,4,A,_))},pS=(e,n,o)=>{const a=e.data.slice(n),c=a.length-yt(a).length;uN(e,n,c,o)},Fr=(e,n,o)=>{const a=e.data.slice(0,n),c=a.length-pt(a).length;uN(e,n-c,c,o)},pw=(e,n,o,a,c=!0)=>{const m=pt(e.data).length,p=c?e:n,_=c?n:e;return c?p.appendData(_.data):p.insertData(0,_.data),Ps(Ke.fromDom(_)),a&&pS(p,m,o),p},K7=(e,n)=>{const o=e.container(),a=e.offset();return!kt.isTextPosition(e)&&o===n.parentNode&&a>kt.before(n).offset()},j7=(e,n)=>K7(n,e)?kt(n.container(),n.offset()-1):n,Ey=e=>Gt(e)?kt(e,0):kt.before(e),nb=e=>Gt(e)?kt(e,e.data.length):kt.after(e),xg=e=>wu(e.previousSibling)?J.some(nb(e.previousSibling)):e.previousSibling?fd(e.previousSibling):J.none(),VT=e=>wu(e.nextSibling)?J.some(Ey(e.nextSibling)):e.nextSibling?so(e.nextSibling):J.none(),dN=(e,n)=>J.from(n.previousSibling?n.previousSibling:n.parentNode).bind(o=>jc(e,kt.before(o))).orThunk(()=>Ql(e,kt.after(n))),fN=(e,n)=>Ql(e,kt.after(n)).orThunk(()=>jc(e,kt.before(n))),bS=(e,n)=>xg(n).orThunk(()=>VT(n)).orThunk(()=>dN(e,n)),Z7=(e,n)=>VT(n).orThunk(()=>xg(n)).orThunk(()=>fN(e,n)),zT=(e,n,o)=>e?Z7(n,o):bS(n,o),mN=(e,n,o)=>zT(e,n,o).map(et(j7,o)),HT=(e,n,o)=>{o.fold(()=>{e.focus()},a=>{e.selection.setRng(a.toRange(),n)})},UT=e=>n=>n.dom===e,gN=(e,n)=>n&&ho(e.schema.getBlockElements(),ts(n)),WT=(e,n,o)=>{if(Wr(e,n)){const a=Ke.fromHtml('<br data-mce-bogus="1">');return o?be(ga(n),c=>{F_(c)||Ps(c)}):or(n),Hr(n,a),J.some(kt.before(a.dom))}else return J.none()},G7=(e,n,o,a)=>{const c=Si(e).filter(ur),m=qn(e).filter(ur);return Ps(e),Tf(c,m,n,(p,_,A)=>{const $=p.dom,q=_.dom,X=$.data.length;return pw($,q,o,a),A.container()===q?kt($,X):A}).orThunk(()=>(a&&(c.each(p=>Fr(p.dom,p.dom.length,o)),m.each(p=>pS(p.dom,0,o))),n))},q7=(e,n)=>ho(e.schema.getTextInlineElements(),ts(n)),Pl=(e,n,o,a=!0,c=!1)=>{const m=mN(n,e.getBody(),o.dom),p=ll(o,et(gN,e),UT(e.getBody())),_=G7(o,m,e.schema,q7(e,o));e.dom.isEmpty(e.getBody())?(e.setContent(""),e.selection.setCursorLocation()):p.bind(A=>WT(e.schema,A,c)).fold(()=>{a&&HT(e,n,_)},A=>{a&&HT(e,n,J.some(A))})},hN=/[\u0591-\u07FF\uFB1D-\uFDFF\uFE70-\uFEFC]/,Y7=e=>hN.test(e),m0=(e,n)=>Bs(Ke.fromDom(n),ls(e))&&!Uf(e.schema,n)&&e.dom.isEditable(n),bw=e=>{var n;return Js.DOM.getStyle(e,"direction",!0)==="rtl"||Y7((n=e.textContent)!==null&&n!==void 0?n:"")},X7=(e,n,o)=>Ge(Js.DOM.getParents(o.container(),"*",n),e),ob=(e,n,o)=>{const a=X7(e,n,o);return J.from(a[a.length-1])},pN=(e,n,o)=>{const a=Up(n,e),c=Up(o,e);return we(a)&&a===c},KT=e=>Iv(e)||K1(e),yd=(e,n)=>{const o=n.container(),a=n.offset();return e?ig(o)?Gt(o.nextSibling)?kt(o.nextSibling,0):kt.after(o):Iv(n)?kt(o,a+1):n:ig(o)?Gt(o.previousSibling)?kt(o.previousSibling,o.previousSibling.data.length):kt.before(o):K1(n)?kt(o,a-1):n},bN=et(yd,!0),Ay=et(yd,!1),jT=(e,n)=>{const o=a=>a.stopImmediatePropagation();e.on("beforeinput input",o,!0),e.getDoc().execCommand(n),e.off("beforeinput input",o)},vN=e=>{e.execCommand("delete")},vS=e=>jT(e,"Delete"),ZT=e=>jT(e,"ForwardDelete"),vw=e=>n=>Ef(ma(n),e,ns),yN=e=>Tv(e)||rg(e),yw=(e,n)=>fa(e,n)?bi(n,yN,vw(e)):J.none(),yS=(e,n=!0)=>{e.dom.isEmpty(e.getBody())&&e.setContent("",{no_selection:!n})},xN=(e,n,o)=>ua(so(o),fd(o),(a,c)=>{const m=yd(!0,a),p=yd(!1,c),_=yd(!1,n);return e?Ql(o,_).exists(A=>A.isEqual(p)&&n.isEqual(m)):jc(o,_).exists(A=>A.isEqual(m)&&n.isEqual(p))}).getOr(!0),uf=e=>(nh(e)?Si(e):nd(e)).bind(uf).orThunk(()=>J.some(e)),xS=(e,n,o,a=!0)=>{var c;n.deleteContents();const m=uf(o).getOr(o),p=Ke.fromDom((c=e.dom.getParent(m.dom,e.dom.isBlock))!==null&&c!==void 0?c:o.dom);if(p.dom===e.getBody()?yS(e,a):Wr(e.schema,p,{checkRootAsContent:!1})&&(Uc(p),a&&e.selection.setCursorLocation(p.dom,0)),!ns(o,p)){const _=Ef(ma(p),o)?[]:Yb(p);be(_.concat(ga(o)),A=>{!ns(A,p)&&!fa(A,p)&&Wr(e.schema,A)&&Ps(A)})}},J7=e=>n=>ns(e,n),GT=e=>vi(e,"td,th"),Os=(e,n)=>$s(Ke.fromDom(e),n),Q7=e=>ua(e.startTable,e.endTable,(n,o)=>{const a=p1(n,m=>ns(m,o)),c=p1(o,m=>ns(m,n));return!a&&!c?e:{...e,startTable:a?J.none():e.startTable,endTable:c?J.none():e.endTable,isSameTable:!1,isMultiTable:!1}}).getOr(e),xw=e=>Q7(e),e$=(e,n)=>{const o=Os(e.startContainer,n),a=Os(e.endContainer,n),c=o.isSome(),m=a.isSome(),p=ua(o,a,ns).getOr(!1);return xw({startTable:o,endTable:a,isStartInTable:c,isEndInTable:m,isSameTable:p,isMultiTable:!p&&c&&m})},wS=(e,n)=>({start:e,end:n}),sb=(e,n,o)=>({rng:e,table:n,cells:o}),pl=Jo.generate([{singleCellTable:["rng","cell"]},{fullTable:["table"]},{partialTable:["cells","outsideDetails"]},{multiTable:["startTableCells","endTableCells","betweenRng"]}]),rb=(e,n)=>Yi(Ke.fromDom(e),"td,th",n),$h=e=>!ns(e.start,e.end),fm=(e,n)=>$s(e.start,n).bind(o=>$s(e.end,n).bind(a=>Jg(ns(o,a),o))),ww=(e,n)=>!$h(e)&&fm(e,n).exists(o=>{const a=o.dom.rows;return a.length===1&&a[0].cells.length===1}),qT=(e,n)=>{const o=rb(e.startContainer,n),a=rb(e.endContainer,n);return ua(o,a,wS)},YT=e=>n=>$s(n,e).bind(o=>go(GT(o)).map(a=>wS(n,a))),wN=e=>n=>$s(n,e).bind(o=>Tn(GT(o)).map(a=>wS(a,n))),CS=e=>n=>fm(n,e).map(o=>sb(n,o,GT(o))),CN=(e,n,o,a)=>{if(o.collapsed||!e.forall($h))return J.none();if(n.isSameTable){const c=e.bind(CS(a));return J.some({start:c,end:c})}else{const c=rb(o.startContainer,a),m=rb(o.endContainer,a),p=c.bind(YT(a)).bind(CS(a)),_=m.bind(wN(a)).bind(CS(a));return J.some({start:p,end:_})}},_N=(e,n)=>Yn(e,o=>ns(o,n)),_S=e=>ua(_N(e.cells,e.rng.start),_N(e.cells,e.rng.end),(n,o)=>e.cells.slice(n,o+1)),SN=(e,n,o)=>e.exists(a=>ww(a,o)&&B2(a.start,n)),XT=(e,n)=>{const{startTable:o,endTable:a}=n,c=e.cloneRange();return o.each(m=>c.setStartAfter(m.dom)),a.each(m=>c.setEndBefore(m.dom)),c},kN=(e,n,o,a)=>CN(e,n,o,a).bind(({start:c,end:m})=>c.or(m)).bind(c=>{const{isSameTable:m}=n,p=_S(c).getOr([]);if(m&&c.cells.length===p.length)return J.some(pl.fullTable(c.table));if(p.length>0){if(m)return J.some(pl.partialTable(p,J.none()));{const _=XT(o,n);return J.some(pl.partialTable(p,J.some({...n,rng:_})))}}else return J.none()}),JT=(e,n,o,a)=>CN(e,n,o,a).bind(({start:c,end:m})=>{const p=c.bind(_S).getOr([]),_=m.bind(_S).getOr([]);if(p.length>0&&_.length>0){const A=XT(o,n);return J.some(pl.multiTable(p,_,A))}else return J.none()}),t$=(e,n)=>{const o=J7(e),a=qT(n,o),c=e$(n,o);return SN(a,n,o)?a.map(m=>pl.singleCellTable(n,m.start)):c.isMultiTable?JT(a,c,n,o):kN(a,c,n,o)},EN=e=>be(e,n=>{Mo(n,"contenteditable"),Uc(n)}),n$=(e,n)=>J.from(e.dom.getParent(n,e.dom.isBlock)).map(Ke.fromDom),wg=(e,n,o)=>{o.each(a=>{n?Ps(a):(Uc(a),e.selection.setCursorLocation(a.dom,0))})},g0=(e,n,o,a)=>{const c=o.cloneRange();a?(c.setStart(o.startContainer,o.startOffset),c.setEndAfter(n.dom.lastChild)):(c.setStartBefore(n.dom.firstChild),c.setEnd(o.endContainer,o.endOffset)),t3(e,c,n,!1).each(m=>m())},QT=e=>{const n=am(e),o=Ke.fromDom(e.selection.getNode());Sp(o.dom)&&Wr(e.schema,o)?e.selection.setCursorLocation(o.dom,0):e.selection.collapse(!0),n.length>1&&Re(n,a=>ns(a,o))&&_i(o,"data-mce-selected","1")},e3=(e,n,o)=>J.some(()=>{const a=e.selection.getRng(),c=o.bind(({rng:m,isStartInTable:p})=>{const _=n$(e,p?m.endContainer:m.startContainer);m.deleteContents(),wg(e,p,_.filter(et(Wr,e.schema)));const A=p?n[0]:n[n.length-1];return g0(e,A,a,p),Wr(e.schema,A)?J.none():J.some(p?n.slice(1):n.slice(0,-1))}).getOr(n);EN(c),QT(e)}),AN=(e,n,o,a)=>J.some(()=>{const c=e.selection.getRng(),m=n[0],p=o[o.length-1];g0(e,m,c,!0),g0(e,p,c,!1);const _=Wr(e.schema,m)?n:n.slice(1),A=Wr(e.schema,p)?o:o.slice(0,-1);EN(_.concat(A)),a.deleteContents(),QT(e)}),t3=(e,n,o,a=!0)=>J.some(()=>{xS(e,n,o,a)}),ib=(e,n)=>J.some(()=>Pl(e,!1,n)),o$=(e,n,o)=>t$(n,o).bind(a=>a.fold(et(t3,e),et(ib,e),et(e3,e),et(AN,e))),s$=(e,n)=>SS(e,n),r$=(e,n,o,a)=>n3(n,a).fold(()=>o$(e,n,o),c=>s$(e,c)),i$=(e,n,o)=>{const a=Ke.fromDom(e.getBody()),c=e.selection.getRng();return o.length!==0?e3(e,o,J.none()):r$(e,a,c,n)},TN=(e,n)=>yn(Yc(n,e),Hc),n3=(e,n)=>yn(Yc(n,e),If("caption")),a$=(e,n,o,a,c)=>Yv(o,e.getBody(),c).bind(m=>TN(n,Ke.fromDom(m.getNode())).bind(p=>ns(p,a)?J.none():J.some(St))),SS=(e,n)=>J.some(()=>{Uc(n),e.selection.setCursorLocation(n.dom,0)}),l$=(e,n,o,a)=>so(e.dom).bind(c=>fd(e.dom).map(m=>n?o.isEqual(c)&&a.isEqual(m):o.isEqual(m)&&a.isEqual(c))).getOr(!0),kS=(e,n)=>SS(e,n),c$=(e,n,o)=>n3(e,Ke.fromDom(o.getNode())).fold(()=>J.some(St),a=>Jg(!ns(a,n),St)),Cw=(e,n,o,a,c)=>Yv(o,e.getBody(),c).fold(()=>J.some(St),m=>l$(a,o,c,m)?kS(e,a):c$(n,a,m)),o3=(e,n,o,a)=>{const c=kt.fromRangeStart(e.selection.getRng());return TN(o,a).bind(m=>Wr(e.schema,m,{checkRootAsContent:!1})?SS(e,m):a$(e,o,n,m,c))},h0=(e,n,o,a)=>{const c=kt.fromRangeStart(e.selection.getRng());return Wr(e.schema,a)?SS(e,a):Cw(e,o,n,a,c)},ab=(e,n)=>e?GP(n):_y(n),ES=(e,n)=>{const o=kt.fromRangeStart(e.selection.getRng());return ab(n,o)||Eu(n,e.getBody(),o).exists(a=>ab(n,a))},AS=(e,n,o)=>{const a=Ke.fromDom(e.getBody());return n3(a,o).fold(()=>o3(e,n,a,o).orThunk(()=>Jg(ES(e,n),St)),c=>h0(e,n,a,c))},Vh=(e,n)=>{const o=Ke.fromDom(e.selection.getStart(!0)),a=am(e);return e.selection.isCollapsed()&&a.length===0?AS(e,n,o):i$(e,o,a)},xd=(e,n)=>{let o=n;for(;o&&o!==e;){if(Mc(o)||wo(o))return o;o=o.parentNode}return null},TS=["data-ephox-","data-mce-","data-alloy-","data-snooker-","_"],OS=nn.each,RS=e=>{const n=e.dom,o=new Set(e.serializer.getTempAttrs()),a=(m,p)=>{if(m.nodeName!==p.nodeName||m.nodeType!==p.nodeType)return!1;const _=$=>{const q={};return OS(n.getAttribs($),X=>{const ne=X.nodeName.toLowerCase();ne!=="style"&&!c(ne)&&(q[ne]=n.getAttrib($,ne))}),q},A=($,q)=>{for(const X in $)if(ho($,X)){const ne=q[X];if(Je(ne)||$[X]!==ne)return!1;delete q[X]}for(const X in q)if(ho(q,X))return!1;return!0};return Nn(m)&&Nn(p)&&(!A(_(m),_(p))||!A(n.parseStyle(n.getAttrib(m,"style")),n.parseStyle(n.getAttrib(p,"style"))))?!1:!Tu(m)&&!Tu(p)},c=m=>Re(TS,p=>cr(m,p))||o.has(m);return{compare:a,isAttributeInternal:c}},IS=e=>["h1","h2","h3","h4","h5","h6"].includes(e.name),s3=e=>e.name==="summary",ON=(e,n)=>{let o=e;for(;o=o.walk();)n(o)},r3=(e,n,o,a)=>{const c=o.name;for(let m=0,p=e.length;m<p;m++){const _=e[m];if(_.name===c){const A=a.nodes[c];A?A.nodes.push(o):a.nodes[c]={filter:_,nodes:[o]}}}if(o.attributes)for(let m=0,p=n.length;m<p;m++){const _=n[m],A=_.name;if(A in o.attributes.map){const $=a.attributes[A];$?$.nodes.push(o):a.attributes[A]={filter:_,nodes:[o]}}}},Ty=(e,n,o)=>{const a={nodes:{},attributes:{}};return o.firstChild&&ON(o,c=>{r3(e,n,c,a)}),a},i3=(e,n)=>{const o=(a,c)=>{ds(a,m=>{const p=Ro(m.nodes);be(m.filter.callbacks,_=>{for(let A=p.length-1;A>=0;A--){const $=p[A];(!(c?$.attr(m.filter.name)!==void 0:$.name===m.filter.name)||rt($.parent))&&p.splice(A,1)}p.length>0&&_(p,m.filter.name,n)})})};o(e.nodes,!1),o(e.attributes,!0)},a3=(e,n,o,a={})=>{const c=Ty(e,n,o);i3(c,a)},DS=(e,n,o,a)=>{if((e.pad_empty_with_br||n.insert)&&o(a)){const m=new Ma("br",1);n.insert&&m.attr("data-mce-bogus","1"),a.empty().append(m)}else a.empty().append(new Ma("#text",3)).value=Pi},PS=e=>{var n;return l3(e,"#text")&&((n=e==null?void 0:e.firstChild)===null||n===void 0?void 0:n.value)===Pi},l3=(e,n)=>{const o=e==null?void 0:e.firstChild;return we(o)&&o===e.lastChild&&o.name===n},RN=(e,n)=>{const o=e.getElementRule(n.name);return(o==null?void 0:o.paddEmpty)===!0},Oy=(e,n,o,a)=>a.isEmpty(n,o,c=>RN(e,c)),IN=(e,n)=>we(e)&&(n(e)||e.name==="br"),zh=e=>{let n;for(let o=e;o;o=o.parent){const a=o.attr("contenteditable");if(a==="false")break;a==="true"&&(n=o)}return J.from(n)},Cg=(e,n,o=e.parent)=>{if(n.getSpecialElements()[e.name])e.empty().remove();else{const a=e.children();for(const c of a)o&&!n.isValidChild(o.name,c.name)&&Cg(c,n,o);e.unwrap()}},Ru=(e,n,o,a=St)=>{const c=n.getTextBlockElements(),m=n.getNonEmptyElements(),p=n.getWhitespaceElements(),_=nn.makeMap("tr,td,th,tbody,thead,tfoot,table,summary"),A=new Set,$=q=>q!==o&&!_[q.name];for(let q=0;q<e.length;q++){const X=e[q];let ne,ve,Oe;if(!X.parent||A.has(X))continue;if(c[X.name]&&X.parent.name==="li"){let Pe=X.next;for(;Pe&&c[Pe.name];){Pe.name="li",A.add(Pe),X.parent.insert(Pe,X.parent);Pe=Pe.next}X.unwrap();continue}const ye=[X];for(ne=X.parent;ne&&!n.isValidChild(ne.name,X.name)&&$(ne);ne=ne.parent)ye.push(ne);if(ne&&ye.length>1)if(_w(n,X,ne))Cg(X,n);else{ye.reverse(),ve=ye[0].clone(),a(ve);let Pe=ve;for(let Ye=0;Ye<ye.length-1;Ye++){n.isValidChild(Pe.name,ye[Ye].name)&&Ye>0?(Oe=ye[Ye].clone(),a(Oe),Pe.append(Oe)):Oe=Pe;for(let st=ye[Ye].firstChild;st&&st!==ye[Ye+1];){const nt=st.next;Oe.append(st),st=nt}Pe=Oe}Oy(n,m,p,ve)?ne.insert(X,ye[0],!0):(ne.insert(ve,ye[0],!0),ne.insert(X,ve)),ne=ye[0],(Oy(n,m,p,ne)||l3(ne,"br"))&&ne.empty().remove()}else if(X.parent){if(X.name==="li"){let Pe=X.prev;if(Pe&&(Pe.name==="ul"||Pe.name==="ol")){Pe.append(X);continue}if(Pe=X.next,Pe&&(Pe.name==="ul"||Pe.name==="ol")&&Pe.firstChild){Pe.insert(X,Pe.firstChild,!0);continue}const Ye=new Ma("ul",1);a(Ye),X.wrap(Ye);continue}if(n.isValidChild(X.parent.name,"div")&&n.isValidChild("div",X.name)){const Pe=new Ma("div",1);a(Pe),X.wrap(Pe)}else Cg(X,n)}}},c3=(e,n)=>{let o=e;for(;o;){if(o.name===n)return!0;o=o.parent}return!1},_w=(e,n,o=n.parent)=>o?e.children[n.name]&&!e.isValidChild(o.name,n.name)||n.name==="a"&&c3(o,"a")?!0:s3(o)&&IS(n)?!((o==null?void 0:o.firstChild)===n&&(o==null?void 0:o.lastChild)===n):!1:!1,DN=(e,n,o,a)=>{const c=document.createRange();return c.setStart(e,n),c.setEnd(o,a),c},PN=e=>{const n=kt.fromRangeStart(e),o=kt.fromRangeEnd(e),a=e.commonAncestorContainer;return Eu(!1,a,o).map(c=>!mg(n,o,a)&&mg(n,c,a)?DN(n.container(),n.offset(),c.container(),c.offset()):e).getOr(e)},NS=e=>e.collapsed?e:PN(e),u3=e=>we(e.firstChild)&&e.firstChild===e.lastChild,NN=e=>e.name==="br"||e.value===Pi,LN=(e,n)=>e.getBlockElements()[n.name]&&u3(n)&&NN(n.firstChild),d3=(e,n)=>{const o=e.getNonEmptyElements();return we(n)&&(n.isEmpty(o)||LN(e,n))},_g=(e,n)=>{let o=n.firstChild,a=n.lastChild;return o&&o.name==="meta"&&(o=o.next),a&&a.attr("id")==="mce_marker"&&(a=a.prev),d3(e,a)&&(a=a==null?void 0:a.prev),!o||o!==a?!1:o.name==="ul"||o.name==="ol"},df=e=>{var n,o;const a=e.firstChild,c=e.lastChild;return a&&a.nodeName==="META"&&((n=a.parentNode)===null||n===void 0||n.removeChild(a)),c&&c.id==="mce_marker"&&((o=c.parentNode)===null||o===void 0||o.removeChild(c)),e},LS=(e,n,o)=>{const a=n.serialize(o),c=e.createFragment(a);return df(c)},MN=e=>{var n;return Ge((n=e==null?void 0:e.childNodes)!==null&&n!==void 0?n:[],o=>o.nodeName==="LI")},MS=e=>e.data===Pi||pr(e),BN=e=>we(e==null?void 0:e.firstChild)&&e.firstChild===e.lastChild&&MS(e.firstChild),FN=e=>!e.firstChild||BN(e),$N=e=>e.length>0&&FN(e[e.length-1])?e.slice(0,-1):e,BS=(e,n)=>{const o=e.getParent(n,e.isBlock);return o&&o.nodeName==="LI"?o:null},VN=(e,n)=>!!BS(e,n),zN=(e,n)=>{const o=n.cloneRange(),a=n.cloneRange();return o.setStartBefore(e),a.setEndAfter(e),[o.cloneContents(),a.cloneContents()]},FS=(e,n)=>{const o=kt.before(e),c=Qn(n).next(o);return c?c.toRange():null},$S=(e,n)=>{const o=kt.after(e),c=Qn(n).prev(o);return c?c.toRange():null},HN=(e,n,o,a)=>{const c=zN(e,a),m=e.parentNode;return m&&(m.insertBefore(c[0],e),nn.each(n,p=>{m.insertBefore(p,e)}),m.insertBefore(c[1],e),m.removeChild(e)),$S(n[n.length-1],o)},f3=(e,n,o)=>{const a=e.parentNode;return a&&nn.each(n,c=>{a.insertBefore(c,e)}),FS(e,o)},u$=(e,n,o,a)=>(a.insertAfter(n.reverse(),e),$S(n[0],o)),d$=(e,n,o,a)=>{const c=LS(n,e,a),m=BS(n,o.startContainer),p=$N(MN(c.firstChild)),_=1,A=2,$=n.getRoot(),q=X=>{const ne=kt.fromRangeStart(o),ve=Qn(n.getRoot()),Oe=X===_?ve.prev(ne):ve.next(ne),ye=Oe==null?void 0:Oe.getNode();return ye?BS(n,ye)!==m:!0};return m?q(_)?f3(m,p,$):q(A)?u$(m,p,$,n):HN(m,p,$,o):null},f$=["pre"],m$=(e,n,o,a)=>{var c;const m=n.firstChild,p=n.lastChild,_=p.attr("data-mce-type")==="bookmark"?p.prev:p,A=m===_,$=xe(f$,m.name);if(A&&$){const q=m.attr("contenteditable")!=="false",X=((c=e.getParent(o,e.isBlock))===null||c===void 0?void 0:c.nodeName.toLowerCase())===m.name,ne=J.from(xd(a,o)).forall(Mc);return q&&X&&ne}else return!1},m3=Sp,g$=(e,n,o)=>{if(we(o)){const a=e.getParent(n.endContainer,m3);return o===a&&B2(Ke.fromDom(o),n)}else return!1},VS=(e,n,o)=>{var a;if(o.getAttribute("data-mce-bogus")==="all")(a=o.parentNode)===null||a===void 0||a.insertBefore(e.dom.createFragment(n),o);else{const c=o.firstChild,m=o.lastChild;!c||c===m&&c.nodeName==="BR"?e.dom.setHTML(o,n):e.selection.setContent(n,{no_events:!0})}},g3=(e,n,o)=>{J.from(e.getParent(n,"td,th")).map(Ke.fromDom).each(a=>a2(a,o))},UN=(e,n)=>{const o=e.schema.getTextInlineElements(),a=e.dom;if(n){const c=e.getBody(),m=RS(e),p="*[data-mce-fragment]",_=a.select(p);nn.each(_,A=>{const $=ne=>we(o[ne.nodeName.toLowerCase()]),q=ne=>ne.childNodes.length===1;if((ne=>!(kT(a,ne)||UP(a,ne)))(A)&&$(A)&&q(A)){const ne=l0(a,A),ve=(Ye,st)=>Do(Ye,nt=>xe(st,nt)),Oe=Ye=>q(A)&&a.is(Ye,p)&&$(Ye)&&(Ye.nodeName===A.nodeName&&ve(ne,l0(a,Ye))||Oe(Ye.children[0])),ye=Ye=>we(Ye)&&Ye!==c&&(m.compare(A,Ye)||ye(Ye.parentElement)),Pe=Ye=>we(Ye)&&Ye!==c&&a.is(Ye,p)&&(z7(a,A,Ye)||Pe(Ye.parentElement));(Oe(A.children[0])||ye(A.parentElement)&&!Pe(A.parentElement))&&a.remove(A,!0)}})}},h3=e=>{let n=e;for(;n=n.walk();)n.type===1&&n.attr("data-mce-fragment","1")},h$=e=>{nn.each(e.getElementsByTagName("*"),n=>{n.removeAttribute("data-mce-fragment")})},p$=e=>!!e.getAttribute("data-mce-fragment"),b$=(e,n)=>we(n)&&!e.schema.getVoidElements()[n.nodeName],v$=(e,n)=>{var o,a,c;let m;const p=e.dom,_=e.selection;if(!n)return;_.scrollIntoView(n);const A=xd(e.getBody(),n);if(A&&p.getContentEditable(A)==="false"){p.remove(n),_.select(A);return}let $=p.createRng();const q=n.previousSibling;if(Gt(q)){$.setStart(q,(a=(o=q.nodeValue)===null||o===void 0?void 0:o.length)!==null&&a!==void 0?a:0);const ve=n.nextSibling;Gt(ve)&&(q.appendData(ve.data),(c=ve.parentNode)===null||c===void 0||c.removeChild(ve))}else $.setStartBefore(n),$.setEndBefore(n);const X=ve=>{let Oe=kt.fromRangeStart(ve);return Oe=Qn(e.getBody()).next(Oe),Oe==null?void 0:Oe.toRange()},ne=p.getParent(n,p.isBlock);if(p.remove(n),ne&&p.isEmpty(ne)){const ve=m3(ne);or(Ke.fromDom(ne)),$.setStart(ne,0),$.setEnd(ne,0),!ve&&!p$(ne)&&(m=X($))?($=m,p.remove(ne)):p.add(ne,p.create("br",ve?{}:{"data-mce-bogus":"1"}))}_.setRng($)},y$=e=>{const n=e.dom,o=NS(e.selection.getRng());e.selection.setRng(o);const a=n.getParent(o.startContainer,m3);g$(n,o,a)?t3(e,o,Ke.fromDom(a)):o.startContainer===o.endContainer&&o.endOffset-o.startOffset===1&&Gt(o.startContainer.childNodes[o.startOffset])?o.deleteContents():e.getDoc().execCommand("Delete",!1)},x$=e=>{for(let n=e;n;n=n.walk())if(n.attr("id")==="mce_marker")return J.some(n);return J.none()},zS=(e,n,o)=>{var a;return Re(o.children(),IS)&&((a=e.getParent(n,e.isBlock))===null||a===void 0?void 0:a.nodeName)==="SUMMARY"},HS=(e,n,o)=>{var a,c;const m=e.selection,p=e.dom,_=e.parser,A=o.merge,$=Bh({validate:!0},e.schema),q='<span id="mce_marker" data-mce-type="bookmark">&#xFEFF;</span>';o.preserve_zwsp||(n=Il(n)),n.indexOf("{$caret}")===-1&&(n+="{$caret}"),n=n.replace(/\{\$caret\}/,q);let X=m.getRng();const ne=X.startContainer,ve=e.getBody();ne===ve&&m.isCollapsed()&&p.isBlock(ve.firstChild)&&b$(e,ve.firstChild)&&p.isEmpty(ve.firstChild)&&(X=p.createRng(),X.setStart(ve.firstChild,0),X.setEnd(ve.firstChild,0),m.setRng(X)),m.isCollapsed()||y$(e);const Oe=m.getNode(),ye={context:Oe.nodeName.toLowerCase(),data:o.data,insert:!0},Pe=_.parse(n,ye);if(o.paste===!0&&_g(e.schema,Pe)&&VN(p,Oe))return X=d$($,p,m.getRng(),Pe),X&&m.setRng(X),n;o.paste===!0&&m$(p,Pe,Oe,e.getBody())&&((a=Pe.firstChild)===null||a===void 0||a.unwrap()),h3(Pe);let Ye=Pe.lastChild;if(Ye&&Ye.attr("id")==="mce_marker"){const st=Ye;for(Ye=Ye.prev;Ye;Ye=Ye.walk(!0))if(Ye.type===3||!p.isBlock(Ye.name)){Ye.parent&&e.schema.isValidChild(Ye.parent.name,"span")&&Ye.parent.insert(st,Ye,Ye.name==="br");break}}if(e._selectionOverrides.showBlockCaretContainer(Oe),!ye.invalid&&!zS(p,Oe,Pe))n=$.serialize(Pe),VS(e,n,Oe);else{e.selection.setContent(q);let st=m.getNode(),nt;const bt=e.getBody();for($n(st)?st=nt=bt:nt=st;nt&&nt!==bt;)st=nt,nt=nt.parentNode;n=st===bt?bt.innerHTML:p.getOuterHTML(st);const Ht=_.parse(n),tn=x$(Ht),_n=tn.bind(zh).getOr(Ht);tn.each(Dn=>Dn.replace(Pe));const Dt=Pe.children(),Ct=(c=Pe.parent)!==null&&c!==void 0?c:Ht;Pe.unwrap();const Vt=Ge(Dt,Dn=>_w(e.schema,Dn,Ct));Ru(Vt,e.schema,_n),a3(_.getNodeFilters(),_.getAttributeFilters(),Ht),n=$.serialize(Ht),st===bt?p.setHTML(bt,n):p.setOuterHTML(st,n)}return UN(e,A),v$(e,p.get("mce_marker")),h$(e.getBody()),g3(p,m.getStart(),e.schema),Yd(e.schema,e.getBody(),m.getStart()),n},p0=e=>e instanceof Ma,w$=e=>{vy(e)&&so(e.getBody()).each(n=>{const o=n.getNode(),a=pu(o)?so(o).getOr(n):n;e.selection.setRng(a.toRange())})},p3=(e,n,o)=>{e.dom.setHTML(e.getBody(),n),o!==!0&&w$(e)},C$=(e,n,o,a)=>{if(o=Il(o),o.length===0||/^\s+$/.test(o)){const c='<br data-mce-bogus="1">';n.nodeName==="TABLE"?o="<tr><td>"+c+"</td></tr>":/^(UL|OL)$/.test(n.nodeName)&&(o="<li>"+c+"</li>");const m=gl(e);return e.schema.isValidChild(n.nodeName.toLowerCase(),m.toLowerCase())?(o=c,o=e.dom.createHTML(m,y2(e),o)):o||(o=c),p3(e,o,a.no_selection),{content:o,html:o}}else{a.format!=="raw"&&(o=Bh({validate:!1},e.schema).serialize(e.parser.parse(o,{isRootContent:!0,insert:!0})));const c=Rv(Ke.fromDom(n))?o:nn.trim(o);return p3(e,c,a.no_selection),{content:c,html:c}}},_$=(e,n,o,a)=>{a3(e.parser.getNodeFilters(),e.parser.getAttributeFilters(),o);const c=Bh({validate:!1},e.schema).serialize(o),m=Il(Rv(Ke.fromDom(n))?c:nn.trim(c));return p3(e,m,a.no_selection),{content:o,html:m}},S$=(e,n,o)=>J.from(e.getBody()).map(a=>p0(n)?_$(e,a,n,o):C$(e,a,n,o)).getOr({content:n,html:p0(o.content)?"":o.content}),WN=e=>_e(e)?e:In,ff=(e,n,o)=>{let a=e.dom;const c=WN(o);for(;a.parentNode;){a=a.parentNode;const m=Ke.fromDom(a),p=n(m);if(p.isSome())return p;if(c(m))break}return J.none()},Sw=(e,n,o)=>{const a=n(e),c=WN(o);return a.orThunk(()=>c(e)?J.none():ff(e,n,c))},US=gy,b3=(e,n,o)=>{const a=e.formatter.get(o);if(a)for(let c=0;c<a.length;c++){const m=a[c];if(Zc(m)&&m.inherit===!1&&e.dom.is(n,m.selector))return!0}return!1},WS=(e,n,o,a,c)=>{const m=e.dom.getRoot();if(n===m)return!1;const p=e.dom.getParent(n,_=>b3(e,_,o)?!0:_.parentNode===m||!!Sg(e,_,o,a,!0));return!!Sg(e,p,o,a,c)},KS=(e,n,o)=>wa(o)&&US(n,o.inline)||lm(o)&&US(n,o.block)?!0:Zc(o)?Nn(n)&&e.is(n,o.selector):!1,v3=(e,n,o,a,c,m)=>{const p=o[a],_=a==="attributes";if(_e(o.onmatch))return o.onmatch(n,o,a);if(p){if(fn(p)){for(let A=0;A<p.length;A++)if(_?e.getAttrib(n,p[A]):$2(e,n,p[A]))return!0}else for(const A in p)if(ho(p,A)){const $=_?e.getAttrib(n,A):$2(e,n,A),q=Dh(p[A],m),X=rt($)||Yt($);if(X&&rt(q))continue;if(c&&X&&!o.exact||(!c||o.exact)&&!US($,L_(q,A)))return!1}}return!0},Sg=(e,n,o,a,c)=>{const m=e.formatter.get(o),p=e.dom;if(m&&Nn(n))for(let _=0;_<m.length;_++){const A=m[_];if(KS(e.dom,n,A)&&v3(p,n,A,"attributes",c,a)&&v3(p,n,A,"styles",c,a)){const $=A.classes;if($){for(let q=0;q<$.length;q++)if(!e.dom.hasClass(n,Dh($[q],a)))return}return A}}},lb=(e,n,o,a,c)=>{if(a)return WS(e,a,n,o,c);if(a=e.selection.getNode(),WS(e,a,n,o,c))return!0;const m=e.selection.getStart();return!!(m!==a&&WS(e,m,n,o,c))},KN=(e,n,o)=>{const a=[],c={},m=e.selection.getStart();return e.dom.getParent(m,p=>{for(let _=0;_<n.length;_++){const A=n[_];!c[A]&&Sg(e,p,A,o)&&(c[A]=!0,a.push(A))}},e.dom.getRoot()),a},jN=(e,n)=>{const o=c=>ns(c,Ke.fromDom(e.getBody())),a=(c,m)=>Sg(e,c.dom,m)?J.some(m):J.none();return J.from(e.selection.getStart(!0)).bind(c=>Sw(Ke.fromDom(c),m=>ai(n,p=>a(m,p)),o)).getOrNull()},ZN=(e,n)=>{const o=e.formatter.get(n),a=e.dom;if(o&&e.selection.isEditable()){const c=e.selection.getStart(),m=V2(a,c);for(let p=o.length-1;p>=0;p--){const _=o[p];if(!Zc(_))return!0;for(let A=m.length-1;A>=0;A--)if(a.is(m[A],_.selector))return!0}}return!1},y3=(e,n,o)=>ln(o,(a,c)=>{const m=ND(e,c);return e.formatter.matchNode(n,c,{},m)?a.concat([c]):a},[]),kw=Ei,k$=(e,n)=>e.importNode(n,!0),GN=e=>{if(e){const n=new ha(e,e);for(let o=n.current();o;o=n.next())if(Gt(o))return o}return null},kg=e=>{const n=Ke.fromTag("span");return Va(n,{id:cy,"data-mce-bogus":"1","data-mce-type":"format-caret"}),e&&Hr(n,Ke.fromText(kw)),n},x3=e=>{const n=GN(e);return n&&n.data.charAt(0)===kw&&n.deleteData(0,1),n},w3=(e,n,o)=>{const a=e.dom,c=e.selection;if(UA(n))Pl(e,!1,Ke.fromDom(n),o,!0);else{const m=c.getRng(),p=a.getParent(n,a.isBlock),_=m.startContainer,A=m.startOffset,$=m.endContainer,q=m.endOffset,X=x3(n);a.remove(n,!0),_===X&&A>0&&m.setStart(X,A-1),$===X&&q>0&&m.setEnd(X,q-1),p&&a.isEmpty(p)&&Uc(Ke.fromDom(p)),c.setRng(m)}},C3=(e,n,o)=>{const a=e.dom,c=e.selection;if(n)w3(e,n,o);else if(n=Wp(e.getBody(),c.getStart()),!n)for(;n=a.get(cy);)w3(e,n,o)},b0=(e,n,o)=>{var a,c;const m=e.dom,p=m.getParent(o,et(N_,e.schema));p&&m.isEmpty(p)?(a=o.parentNode)===null||a===void 0||a.replaceChild(n,o):(fc(Ke.fromDom(o)),m.isEmpty(o)?(c=o.parentNode)===null||c===void 0||c.replaceChild(n,o):m.insertAfter(n,o))},_3=(e,n)=>(e.appendChild(n),n),Ew=(e,n)=>{var o;const a=ht(e,(m,p)=>_3(m,p.cloneNode(!1)),n),c=(o=a.ownerDocument)!==null&&o!==void 0?o:document;return _3(a,c.createTextNode(kw))},E$=(e,n,o,a,c,m)=>{const p=e.formatter,_=e.dom,A=Ge(Jt(p.get()),X=>X!==a&&!Ms(X,"removeformat")),$=y3(e,o,A);if(Ge($,X=>!LD(e,X,a)).length>0){const X=o.cloneNode(!1);return _.add(n,X),p.remove(a,c,X,m),_.remove(X),J.some(X)}else return J.none()},qN=e=>kv(e,sg(e).replace(new RegExp(`${Pi}$`)," ")),S3=(e,n)=>{const o=()=>{n!==null&&!e.dom.isEmpty(n)&&Si(Ke.fromDom(n)).each(a=>{ur(a)?qN(a):qi(a,c=>ur(c)).each(c=>{ur(c)&&qN(c)})})};e.once("input",a=>{a.data&&!Jv(a.data)&&(a.isComposing?e.once("compositionend",()=>{o()}):o())})},Hh=(e,n,o)=>{let a;const c=e.selection,m=e.formatter.get(n);if(!m)return;const p=c.getRng();let _=p.startOffset;const $=p.startContainer.nodeValue;a=Wp(e.getBody(),c.getStart());const q=/[^\s\u00a0\u00ad\u200b\ufeff]/;if($&&_>0&&_<$.length&&q.test($.charAt(_))&&q.test($.charAt(_-1))){const X=c.getBookmark();p.collapse(!0);let ne=Zp(e.dom,p,m);ne=nw(ne),e.formatter.apply(n,o,ne),c.moveToBookmark(X)}else{let X=a?GN(a):null;(!a||(X==null?void 0:X.data)!==kw)&&(a=k$(e.getDoc(),kg(!0).dom),X=a.firstChild,p.insertNode(a),_=1,S3(e,a)),e.formatter.apply(n,o,a),c.setCursorLocation(X,_)}},k3=(e,n,o,a)=>{const c=e.dom,m=e.selection;let p=!1;const _=e.formatter.get(n);if(!_)return;const A=m.getRng(),$=A.startContainer,q=A.startOffset;let X=$;Gt($)&&(q!==$.data.length&&(p=!0),X=X.parentNode);const ne=[];let ve;for(;X;){if(Sg(e,X,n,o,a)){ve=X;break}X.nextSibling&&(p=!0),ne.push(X),X=X.parentNode}if(ve)if(p){const Oe=m.getBookmark();A.collapse(!0);let ye=Zp(c,A,_,!0);ye=nw(ye),e.formatter.remove(n,o,ye,a),m.moveToBookmark(Oe)}else{const Oe=Wp(e.getBody(),ve),ye=we(Oe)?c.getParents(ve.parentNode,on,Oe):[],Pe=kg(!1).dom;b0(e,Pe,Oe??ve);const Ye=E$(e,Pe,ve,n,o,a),st=Ew([...ne,...Ye.toArray(),...ye],Pe);Oe&&w3(e,Oe,we(Oe)),m.setCursorLocation(st,1),S3(e,Pe),c.isEmpty(ve)&&c.remove(ve)}},E3=(e,n,o)=>{const a=e.selection,c=e.getBody();C3(e,null,o),(n===8||n===46)&&a.isCollapsed()&&a.getStart().innerHTML===kw&&C3(e,Wp(c,a.getStart()),!0),(n===37||n===39)&&C3(e,Wp(c,a.getStart()),!0)},A3=e=>Gt(e)&&De(e.data,Pi),YN=e=>{e.on("mouseup keydown",n=>{E3(e,n.keyCode,A3(e.selection.getRng().endContainer))})},T3=e=>{const n=kg(!1),o=Ew(e,n.dom);return{caretContainer:n,caretPosition:kt(o,0)}},O3=(e,n)=>{const{caretContainer:o,caretPosition:a}=T3(n);return Tr(Ke.fromDom(e),o),Ps(Ke.fromDom(e)),a},A$=(e,n)=>{const{caretContainer:o,caretPosition:a}=T3(n);return e.insertNode(o.dom),a},Ry=(e,n)=>{if(Au(n.dom))return!1;const o=e.schema.getTextInlineElements();return ho(o,ts(n))&&!Au(n.dom)&&!$f(n.dom)},cb={},R3=pa(["pre"]),XN=(e,n)=>{cb[e]||(cb[e]=[]),cb[e].push(n)},JN=(e,n)=>{ho(cb,e)&&be(cb[e],o=>{o(n)})};XN("pre",e=>{const n=e.selection.getRng(),o=c=>m=>{const p=m.previousSibling;return R3(p)&&xe(c,p)},a=(c,m)=>{const p=Ke.fromDom(m),_=ac(p).dom;Ps(p),ni(Ke.fromDom(c),[Ke.fromTag("br",_),Ke.fromTag("br",_),...ga(p)])};if(!n.collapsed){const c=e.selection.getSelectedBlocks(),m=Ge(Ge(c,R3),o(c));be(m,p=>{a(p.previousSibling,p)})}});const I3=["fontWeight","fontStyle","color","fontSize","fontFamily"],jS=e=>j(e.styles)&&Re(Jt(e.styles),n=>xe(I3,n)),D3=e=>yn(e,n=>wa(n)&&n.inline==="span"&&jS(n)),Iy=(e,n)=>{const o=e.get(n);return te(o)?D3(o):J.none()},QN=(e,n)=>jc(n,kt.fromRangeStart(e)).isNone(),P3=(e,n)=>Ql(n,kt.fromRangeEnd(e)).exists(o=>!pr(o.getNode())||Ql(n,o).isSome())===!1,e5=e=>n=>Rx(n)&&e.isEditable(n),T$=e=>{const n=e.getSelectedBlocks(),o=e.getRng();if(e.isCollapsed())return[];if(n.length===1)return QN(o,n[0])&&P3(o,n[0])?n:[];{const a=Tn(n).filter(p=>QN(o,p)).toArray(),c=go(n).filter(p=>P3(o,p)).toArray(),m=n.slice(1,-1);return a.concat(m).concat(c)}},t5=e=>Ge(T$(e),e5(e.dom)),N3=e=>Ge(e.getSelectedBlocks(),e5(e.dom)),L3=nn.each,ZS=e=>Nn(e)&&!Tu(e)&&!Au(e)&&!$f(e),ub=(e,n)=>{for(let o=e;o;o=o[n]){if(Gt(o)&&ot(o.data))return e;if(Nn(o)&&!Tu(o))return o}return e},M3=(e,n,o)=>{const a=RS(e),c=hu(n)&&e.dom.isEditable(n),m=hu(o)&&e.dom.isEditable(o);if(c&&m){const p=ub(n,"previousSibling"),_=ub(o,"nextSibling");if(a.compare(p,_)){for(let A=p.nextSibling;A&&A!==_;){const $=A;A=A.nextSibling,p.appendChild($)}return e.dom.remove(_),nn.each(nn.grep(_.childNodes),A=>{p.appendChild(A)}),p}}return o},GS=(e,n,o,a)=>{var c;if(a&&n.merge_siblings!==!1){const m=(c=M3(e,Qv(a),a))!==null&&c!==void 0?c:a;M3(e,m,Qv(m,!0))}},n5=(e,n,o)=>{if(n.clear_child_styles){const a=n.links?"*:not(a)":"*";L3(e.select(a,o),c=>{ZS(c)&&e.isEditable(c)&&L3(n.styles,(m,p)=>{e.setStyle(c,p,"")})})}},Aw=(e,n,o)=>{L3(e.childNodes,a=>{ZS(a)&&(n(a)&&o(a),a.hasChildNodes()&&Aw(a,n,o))})},db=(e,n)=>{n.nodeName==="SPAN"&&e.getAttribs(n).length===0&&e.remove(n,!0)},B3=(e,n)=>o=>!!(o&&$2(e,o,n)),Iu=(e,n,o)=>a=>{e.setStyle(a,n,o),a.getAttribute("style")===""&&a.removeAttribute("style"),db(e,a)},wd=Jo.generate([{keep:[]},{rename:["name"]},{removed:[]}]),F3=/^(src|href|style)$/,qS=nn.each,YS=gy,o5=e=>/^(TR|TH|TD)$/.test(e.nodeName),v0=(e,n,o)=>e.isChildOf(n,o)&&n!==o&&!e.isBlock(o),Tw=(e,n,o)=>{let a=n[o?"startContainer":"endContainer"],c=n[o?"startOffset":"endOffset"];if(Nn(a)){const m=a.childNodes.length-1;!o&&c&&c--,a=a.childNodes[c>m?m:c]}return Gt(a)&&o&&c>=a.data.length&&(a=new ha(a,e.getBody()).next()||a),Gt(a)&&!o&&c===0&&(a=new ha(a,e.getBody()).prev()||a),a},$3=(e,n)=>{const o=n?"firstChild":"lastChild",a=e[o];return o5(e)&&a?e.nodeName==="TR"&&a[o]||a:e},XS=(e,n,o,a)=>{var c;const m=e.create(o,a);return(c=n.parentNode)===null||c===void 0||c.insertBefore(m,n),m.appendChild(n),m},JS=(e,n,o,a,c)=>{const m=Ke.fromDom(n),p=Ke.fromDom(e.create(a,c)),_=o?Vm(m):ed(m);return ni(p,_),o?(Tr(m,p),Wa(p,m)):(ut(m,p),Hr(p,m)),p.dom},O$=(e,n)=>n.links&&e.nodeName==="A",s5=(e,n,o)=>{const a=n.parentNode;let c;const m=e.dom,p=gl(e);lm(o)&&a===m.getRoot()&&(!o.list_block||!YS(n,o.list_block))&&be(Ro(n.childNodes),_=>{Kp(e,p,_.nodeName.toLowerCase())?c?c.appendChild(_):(c=XS(m,_,p),m.setAttribs(c,y2(e))):c=null}),!(FD(o)&&!YS(o.inline,n))&&m.remove(n,!0)},V3=(e,n,o)=>R(e)?{name:n,value:null}:{name:e,value:Dh(n,o)},r5=(e,n)=>{e.getAttrib(n,"style")===""&&(n.removeAttribute("style"),n.removeAttribute("data-mce-style"))},Xc=(e,n,o,a,c)=>{let m=!1;qS(o.styles,(p,_)=>{const{name:A,value:$}=V3(_,p,a),q=L_($,A);(o.remove_similar||ze($)||!Nn(c)||YS($2(e,c,A),q))&&e.setStyle(n,A,""),m=!0}),m&&r5(e,n)},z3=(e,n,o)=>{n==="removeformat"?be(N3(e.selection),a=>{be(I3,c=>e.dom.setStyle(a,c,"")),r5(e.dom,a)}):Iy(e.formatter,n).each(a=>{be(N3(e.selection),c=>Xc(e.dom,c,a,o,null))})},H3=(e,n,o,a,c)=>{const m=e.dom,p=RS(e),_=e.schema;if(wa(n)&&av(_,n.inline)&&Uf(_,a)&&a.parentElement===e.getBody())return s5(e,a,n),wd.removed();if(!n.ceFalseOverride&&a&&m.getContentEditableParent(a)==="false"||a&&!KS(m,a,n)&&!O$(a,n))return wd.keep();const A=a,$=n.preserve_attributes;if(wa(n)&&n.remove==="all"&&te($)){const q=Ge(m.getAttribs(A),X=>xe($,X.name.toLowerCase()));if(m.removeAllAttribs(A),be(q,X=>m.setAttrib(A,X.name,X.value)),q.length>0)return wd.rename("span")}if(n.remove!=="all"){Xc(m,A,n,o,c),qS(n.attributes,(X,ne)=>{const{name:ve,value:Oe}=V3(ne,X,o);if(n.remove_similar||ze(Oe)||!Nn(c)||YS(m.getAttrib(c,ve),Oe)){if(ve==="class"){const ye=m.getAttrib(A,ve);if(ye){let Pe="";if(be(ye.split(/\s+/),Ye=>{/mce\-\w+/.test(Ye)&&(Pe+=(Pe?" ":"")+Ye)}),Pe){m.setAttrib(A,ve,Pe);return}}}if(F3.test(ve)&&A.removeAttribute("data-mce-"+ve),ve==="style"&&pa(["li"])(A)&&m.getStyle(A,"list-style-type")==="none"){A.removeAttribute(ve),m.setStyle(A,"list-style-type","none");return}ve==="class"&&A.removeAttribute("className"),A.removeAttribute(ve)}}),qS(n.classes,X=>{X=Dh(X,o),(!Nn(c)||m.hasClass(c,X))&&m.removeClass(A,X)});const q=m.getAttribs(A);for(let X=0;X<q.length;X++){const ne=q[X].nodeName;if(!p.isAttributeInternal(ne))return wd.keep()}}return n.remove!=="none"?(s5(e,A,n),wd.removed()):wd.keep()},U3=(e,n,o,a,c)=>{let m;return n.parentNode&&be(V2(e.dom,n.parentNode).reverse(),p=>{if(!m&&Nn(p)&&p.id!=="_start"&&p.id!=="_end"){const _=Sg(e,p,o,a,c);_&&_.split!==!1&&(m=p)}}),m},i5=(e,n,o,a)=>H3(e,n,o,a,a).fold(dt(a),c=>(e.dom.createFragment().appendChild(a),e.dom.rename(a,c)),dt(null)),Ow=(e,n,o,a,c,m,p,_)=>{var A,$;let q,X;const ne=e.dom;if(o){const ve=o.parentNode;for(let Oe=a.parentNode;Oe&&Oe!==ve;Oe=Oe.parentNode){let ye=ne.clone(Oe,!1);for(let Pe=0;Pe<n.length&&(ye=i5(e,n[Pe],_,ye),ye!==null);Pe++);ye&&(q&&ye.appendChild(q),X||(X=ye),q=ye)}(!p.mixed||!ne.isBlock(o))&&(a=(A=ne.split(o,a))!==null&&A!==void 0?A:a),q&&X&&(($=c.parentNode)===null||$===void 0||$.insertBefore(q,c),X.appendChild(c),wa(p)&&GS(e,p,_,q))}return a},Uh=(e,n,o,a,c)=>{const m=e.formatter.get(n),p=m[0],_=e.dom,A=e.selection,$=ye=>{const Pe=U3(e,ye,n,o,c);return Ow(e,m,Pe,ye,ye,!0,p,o)},q=ye=>Tu(ye)&&Nn(ye)&&(ye.id==="_start"||ye.id==="_end"),X=ye=>Re(m,Pe=>mb(e,Pe,o,ye,ye)),ne=ye=>{const Pe=Ro(ye.childNodes),st=X(ye)||Re(m,Ht=>KS(_,ye,Ht)),nt=ye.parentNode;if(!st&&we(nt)&&B_(p)&&X(nt),p.deep&&Pe.length)for(let Ht=0;Ht<Pe.length;Ht++)ne(Pe[Ht]);be(["underline","line-through","overline"],Ht=>{Nn(ye)&&e.dom.getStyle(ye,"text-decoration")===Ht&&ye.parentNode&&HA(_,ye.parentNode)===Ht&&mb(e,{deep:!1,exact:!0,inline:"span",styles:{textDecoration:Ht}},void 0,ye)})},ve=ye=>{const Pe=_.get(ye?"_start":"_end");if(Pe){let Ye=Pe[ye?"firstChild":"lastChild"];return q(Ye)&&(Ye=Ye[ye?"firstChild":"lastChild"]),Gt(Ye)&&Ye.data.length===0&&(Ye=ye?Pe.previousSibling||Pe.nextSibling:Pe.nextSibling||Pe.previousSibling),_.remove(Pe,!0),Ye}else return null},Oe=ye=>{let Pe,Ye,st=Zp(_,ye,m,ye.collapsed);if(p.split){if(st=nw(st),Pe=Tw(e,st,!0),Ye=Tw(e,st),Pe!==Ye){if(Pe=$3(Pe,!0),Ye=$3(Ye,!1),v0(_,Pe,Ye)){const bt=J.from(Pe.firstChild).getOr(Pe);$(JS(_,bt,!0,"span",{id:"_start","data-mce-type":"bookmark"})),ve(!0);return}if(v0(_,Ye,Pe)){const bt=J.from(Ye.lastChild).getOr(Ye);$(JS(_,bt,!1,"span",{id:"_end","data-mce-type":"bookmark"})),ve(!1);return}Pe=XS(_,Pe,"span",{id:"_start","data-mce-type":"bookmark"}),Ye=XS(_,Ye,"span",{id:"_end","data-mce-type":"bookmark"});const nt=_.createRng();nt.setStartAfter(Pe),nt.setEndBefore(Ye),W2(_,nt,bt=>{be(bt,Ht=>{!Tu(Ht)&&!Tu(Ht.parentNode)&&$(Ht)})}),$(Pe),$(Ye),Pe=ve(!0),Ye=ve()}else Pe=Ye=$(Pe);st.startContainer=Pe.parentNode?Pe.parentNode:Pe,st.startOffset=_.nodeIndex(Pe),st.endContainer=Ye.parentNode?Ye.parentNode:Ye,st.endOffset=_.nodeIndex(Ye)+1}W2(_,st,nt=>{be(nt,ne)})};if(a){if(my(a)){const ye=_.createRng();ye.setStartBefore(a),ye.setEndAfter(a),Oe(ye)}else Oe(a);ZD(e,n,a,o);return}!A.isCollapsed()||!wa(p)||am(e).length?($A(e,()=>fy(e,Oe),ye=>wa(p)&&lb(e,n,o,ye)),e.nodeChanged()):k3(e,n,o,c),z3(e,n,o),ZD(e,n,a,o)},fb=(e,n,o,a,c)=>{(a||e.selection.isEditable())&&Uh(e,n,o,a,c)},mb=(e,n,o,a,c)=>H3(e,n,o,a,c).fold(In,m=>(e.dom.rename(a,m),!0),on),QS=nn.each,W3=(e,n,o,a)=>{const c=m=>{if(hu(m)&&Nn(m.parentNode)&&e.isEditable(m)){const p=HA(e,m.parentNode);e.getStyle(m,"color")&&p?e.setStyle(m,"text-decoration",p):e.getStyle(m,"text-decoration")===p&&e.setStyle(m,"text-decoration",null)}};n.styles&&(n.styles.color||n.styles.textDecoration)&&(nn.walk(a,c,"childNodes"),c(a))},a5=(e,n,o,a)=>{if(n.styles&&n.styles.backgroundColor){const c=B3(e,"fontSize");Aw(a,m=>c(m)&&e.isEditable(m),Iu(e,"backgroundColor",Dh(n.styles.backgroundColor,o)))}},R$=(e,n,o,a)=>{if(wa(n)&&(n.inline==="sub"||n.inline==="sup")){const c=B3(e,"fontSize");Aw(a,p=>c(p)&&e.isEditable(p),Iu(e,"fontSize",""));const m=Ge(e.select(n.inline==="sup"?"sub":"sup",a),e.isEditable);e.remove(m,!0)}},l5=(e,n,o,a)=>{QS(n,c=>{wa(c)&&QS(e.dom.select(c.inline,a),m=>{ZS(m)&&mb(e,c,o,m,c.exact?m:null)}),n5(e.dom,c,a)})},c5=(e,n,o,a,c)=>{const m=c.parentNode;Sg(e,m,o,a)&&mb(e,n,a,c)||n.merge_with_parents&&m&&e.dom.getParent(m,p=>Sg(e,p,o,a)?(mb(e,n,a,c),!0):!1)},Rw=nn.each,u5=(e,n,o,a)=>{if(_8(e)&&wa(n)&&o.parentNode){const c=T1(e.schema),m=ev(Ke.fromDom(o),p=>Au(p.dom));return Zl(c,a)&&uc(e.schema,o.parentNode,{skipBogus:!1,includeZwsp:!0})&&!m}else return!1},d5=(e,n,o,a)=>{if(Rw(o.styles,(c,m)=>{e.setStyle(n,m,Dh(c,a))}),o.styles){const c=e.getAttrib(n,"style");c&&e.setAttrib(n,"data-mce-style",c)}},I$=(e,n,o,a)=>{const c=e.formatter.get(n),m=c[0],p=!a&&e.selection.isCollapsed(),_=e.dom,A=e.selection,$=(Oe,ye=m)=>{_e(ye.onformat)&&ye.onformat(Oe,ye,o,a),d5(_,Oe,ye,o),Rw(ye.attributes,(Pe,Ye)=>{_.setAttrib(Oe,Ye,Dh(Pe,o))}),Rw(ye.classes,Pe=>{const Ye=Dh(Pe,o);_.hasClass(Oe,Ye)||_.addClass(Oe,Ye)})},q=(Oe,ye)=>{let Pe=!1;return Rw(Oe,Ye=>Zc(Ye)?_.getContentEditable(ye)==="false"&&!Ye.ceFalseOverride||we(Ye.collapsed)&&Ye.collapsed!==p?!0:_.is(ye,Ye.selector)&&!Au(ye)?($(ye,Ye),Pe=!0,!1):!0:!1),Pe},X=Oe=>{if(ue(Oe)){const ye=_.create(Oe);return $(ye),ye}else return null},ne=(Oe,ye,Pe)=>{const Ye=[];let st=!0;const nt=m.inline||m.block,bt=X(nt),Ht=Dt=>MD(m)&&Sg(e,Dt,n,o),tn=(Dt,Ct,Vt)=>{const Dn=BD(m)&&N_(e.schema,Dt)&&Kp(e,Ct,nt);return Vt&&Dn},_n=(Dt,Ct,Vt,Dn)=>{const Wn=Dt.nodeName.toLowerCase(),Vo=Kp(e,nt,Wn)&&Kp(e,Ct,nt),Go=!Pe&&Gt(Dt)&&Wc(Dt.data),Ns=Au(Dt),Ks=!wa(m)||!Oe.isBlock(Dt);return(Vt||Dn)&&Vo&&!Go&&!Ns&&Ks};W2(Oe,ye,Dt=>{let Ct;const Vt=Dn=>{let Wn=!1,Vo=st,Go=!1;const Ns=Dn.parentNode,Ks=Ns.nodeName.toLowerCase(),fi=Oe.getContentEditable(Dn);we(fi)&&(Vo=st,st=fi==="true",Wn=!0,Go=zA(e,Dn));const Ml=st&&!Wn;if(pr(Dn)&&!u5(e,m,Dn,Ks)){Ct=null,lm(m)&&Oe.remove(Dn);return}if(Ht(Dn)){Ct=null;return}if(tn(Dn,Ks,Ml)){const er=Oe.rename(Dn,nt);$(er),Ye.push(er),Ct=null;return}if(Zc(m)){let er=q(c,Dn);if(!er&&we(Ns)&&B_(m)&&(er=q(c,Ns)),!wa(m)||er){Ct=null;return}}we(bt)&&_n(Dn,Ks,Ml,Go)?(Ct||(Ct=Oe.clone(bt,!1),Ns.insertBefore(Ct,Dn),Ye.push(Ct)),Go&&Wn&&(st=Vo),Ct.appendChild(Dn)):(Ct=null,be(Ro(Dn.childNodes),Vt),Wn&&(st=Vo),Ct=null)};be(Dt,Vt)}),m.links===!0&&be(Ye,Dt=>{const Ct=Vt=>{Vt.nodeName==="A"&&$(Vt,m),be(Ro(Vt.childNodes),Ct)};Ct(Dt)}),be(Ye,Dt=>{const Ct=Wn=>{let Vo=0;return be(Wn.childNodes,Go=>{!X8(Go)&&!Tu(Go)&&Vo++}),Vo},Vt=Wn=>yn(Wn.childNodes,P_).filter(Go=>Oe.getContentEditable(Go)!=="false"&&KS(Oe,Go,m)).map(Go=>{const Ns=Oe.clone(Go,!1);return $(Ns),Oe.replace(Ns,Wn,!0),Oe.remove(Go,!0),Ns}).getOr(Wn),Dn=Ct(Dt);if((Ye.length>1||!Oe.isBlock(Dt))&&Dn===0){Oe.remove(Dt,!0);return}(wa(m)||lm(m)&&m.wrapper)&&(!m.exact&&Dn===1&&(Dt=Vt(Dt)),l5(e,c,o,Dt),c5(e,m,n,o,Dt),a5(Oe,m,o,Dt),W3(Oe,m,o,Dt),R$(Oe,m,o,Dt),GS(e,m,o,Dt))})},ve=my(a)?a:A.getNode();if(_.getContentEditable(ve)==="false"&&!zA(e,ve)){a=ve,q(c,a),jD(e,n,a,o);return}if(m){if(a)if(my(a)){if(!q(c,a)){const Oe=_.createRng();Oe.setStartBefore(a),Oe.setEndAfter(a),ne(_,Zp(_,Oe,c),!0)}}else ne(_,a,!0);else!p||!wa(m)||am(e).length?(A.setRng(NS(A.getRng())),$A(e,()=>{fy(e,(Oe,ye)=>{const Pe=ye?Oe:Zp(_,Oe,c);ne(_,Pe,!1)})},on),e.nodeChanged()):Hh(e,n,o),Iy(e.formatter,n).each(Oe=>{be(t5(e.selection),ye=>d5(_,ye,Oe,o))});JN(n,e)}jD(e,n,a,o)},f5=(e,n,o,a)=>{(a||e.selection.isEditable())&&I$(e,n,o,a)},ec=e=>ho(e,"vars"),m5=(e,n)=>{e.set({}),n.on("NodeChange",o=>{j3(n,o.element,e.get())}),n.on("FormatApply FormatRemove",o=>{const a=J.from(o.node).map(c=>my(c)?c:c.startContainer).bind(c=>Nn(c)?J.some(c):J.from(c.parentElement)).getOrThunk(()=>Dy(n));j3(n,a,e.get())})},Dy=e=>e.selection.getStart(),g5=(e,n,o,a,c)=>Kt(n,_=>{const A=e.formatter.matchNode(_,o,c??{},a);return!Je(A)},_=>b3(e,_,o)?!0:a?!1:we(e.formatter.matchNode(_,o,c,!0))),K3=(e,n)=>{const o=n??Dy(e);return Ge(V2(e.dom,o),a=>Nn(a)&&!$f(a))},j3=(e,n,o)=>{const a=K3(e,n);ds(o,(c,m)=>{const p=_=>{const A=g5(e,a,m,_.similar,ec(_)?_.vars:void 0),$=A.isSome();if(_.state.get()!==$){_.state.set($);const q=A.getOr(n);ec(_)?_.callback($,{node:q,format:m,parents:a}):be(_.callbacks,X=>X($,{node:q,format:m,parents:a}))}};be([c.withSimilar,c.withoutSimilar],p),be(c.withVars,p)})},Z3=(e,n,o,a,c,m)=>{const p=n.get();be(o.split(","),_=>{const A=Ds(p,_).getOrThunk(()=>{const q={withSimilar:{state:Ni(!1),similar:!0,callbacks:[]},withoutSimilar:{state:Ni(!1),similar:!1,callbacks:[]},withVars:[]};return p[_]=q,q}),$=()=>{const q=K3(e);return g5(e,q,_,c,m).isSome()};if(Je(m)){const q=c?A.withSimilar:A.withoutSimilar;q.callbacks.push(a),q.callbacks.length===1&&q.state.set($())}else A.withVars.push({state:Ni($()),similar:c,vars:m,callback:a})}),n.set(p)},h5=(e,n,o)=>{const a=e.get();be(n.split(","),c=>Ds(a,c).each(m=>{a[c]={withSimilar:{...m.withSimilar,callbacks:Ge(m.withSimilar.callbacks,p=>p!==o)},withoutSimilar:{...m.withoutSimilar,callbacks:Ge(m.withoutSimilar.callbacks,p=>p!==o)},withVars:Ge(m.withVars,p=>p.callback!==o)}})),e.set(a)},D$=(e,n,o,a,c,m)=>(Z3(e,n,o,a,c,m),{unbind:()=>h5(n,o,a)}),P$=(e,n,o,a)=>{const c=e.formatter.get(n);c&&(lb(e,n,o,a)&&(!("toggle"in c[0])||c[0].toggle)?fb(e,n,o,a):f5(e,n,o,a))},p5=nn.explode,ek=()=>{const e={};return{addFilter:(c,m)=>{be(p5(c),p=>{ho(e,p)||(e[p]={name:p,callbacks:[]}),e[p].callbacks.push(m)})},getFilters:()=>Zu(e),removeFilter:(c,m)=>{be(p5(c),p=>{if(ho(e,p))if(we(m)){const _=e[p],A=Ge(_.callbacks,$=>$!==m);A.length>0?_.callbacks=A:delete e[p]}else delete e[p]})}}},N$=(e,n)=>{be(n,o=>{e.attr(o,null)})},L$=(e,n,o)=>{e.addNodeFilter("font",a=>{be(a,c=>{const m=n.parse(c.attr("style")),p=c.attr("color"),_=c.attr("face"),A=c.attr("size");p&&(m.color=p),_&&(m["font-family"]=_),A&&hn(A).each($=>{m["font-size"]=o[$-1]}),c.name="span",c.attr("style",n.serialize(m)),N$(c,["color","face","size"])})})},b5=(e,n,o)=>{e.addNodeFilter("strike",a=>{const c=n.type!=="html4";be(a,m=>{if(c)m.name="s";else{const p=o.parse(m.attr("style"));p["text-decoration"]="line-through",m.name="span",m.attr("style",o.serialize(p))}})})},M$=(e,n,o)=>{var a;const c=Gx();n.convert_fonts_to_spans&&L$(e,c,nn.explode((a=n.font_size_legacy_values)!==null&&a!==void 0?a:"")),b5(e,o,c)},B$=(e,n,o)=>{n.inline_styles&&M$(e,n,o)},G3=e=>fetch(e).then(n=>n.ok?n.blob():Promise.reject()).catch(()=>Promise.reject({message:`Cannot convert ${e} to Blob. Resource might not exist or is inaccessible.`,uriType:"blob"})),tk=e=>{const n=/([a-z0-9+\/=\s]+)/i.exec(e);return n?n[1]:""},nk=e=>{const[n,...o]=e.split(","),a=o.join(","),c=/data:([^/]+\/[^;]+)(;.+)?/.exec(n);if(c){const m=c[2]===";base64",p=m?tk(a):decodeURIComponent(a);return J.some({type:c[1],data:p,base64Encoded:m})}else return J.none()},q3=(e,n,o=!0)=>{let a=n;if(o)try{a=atob(n)}catch{return J.none()}const c=new Uint8Array(a.length);for(let m=0;m<c.length;m++)c[m]=a.charCodeAt(m);return J.some(new Blob([c],{type:e}))},Y3=e=>new Promise((n,o)=>{nk(e).bind(({type:a,data:c,base64Encoded:m})=>q3(a,c,m)).fold(()=>o("Invalid data URI"),n)}),F$=e=>cr(e,"blob:")?G3(e):cr(e,"data:")?Y3(e):Promise.reject("Unknown URI format"),v5=e=>new Promise((n,o)=>{const a=new FileReader;a.onloadend=()=>{n(a.result)},a.onerror=()=>{var c;o((c=a.error)===null||c===void 0?void 0:c.message)},a.readAsDataURL(e)});let $$=0;const y0=e=>"blobid"+$$++,y5=(e,n,o)=>nk(e).bind(({data:a,type:c,base64Encoded:m})=>{if(n&&!m)return J.none();{const p=m?a:btoa(a);return o(p,c)}}),Iw=(e,n,o)=>{const a=e.create(y0(),n,o);return e.add(a),a},x5=(e,n,o=!1)=>y5(n,o,(a,c)=>J.from(e.getByData(a,c)).orThunk(()=>q3(c,a).map(m=>Iw(e,m,a)))),X3=(e,n)=>{const o=()=>Promise.reject("Invalid data URI");if(cr(n,"blob:")){const a=e.getByUri(n);return we(a)?Promise.resolve(a):F$(n).then(c=>v5(c).then(m=>y5(m,!1,p=>J.some(Iw(e,c,p))).getOrThunk(o)))}else return cr(n,"data:")?x5(e,n).fold(o,a=>Promise.resolve(a)):Promise.reject("Unknown image data format")},w5=/^(?:(?:(?:[A-Za-z][A-Za-z\d.+-]{0,14}:\/\/(?:[-.~*+=!&;:'%@?^${}(),\w]+@)?|www\.|[-;:&=+$,.\w]+@)([A-Za-z\d-]+(?:\.[A-Za-z\d-]+)*))(?::\d+)?(?:\/(?:[-.~*+=!;:'%@$(),\/\w]*[-~*+=%@$()\/\w])?)?(?:\?(?:[-.~*+=!&;:'%@?^${}(),\/\w]+)?)?(?:#(?:[-.~*+=!&;:'%@?^${}(),\/\w]+)?)?)$/,C5=e=>J.from(e.match(w5)).bind(n=>ji(n,1)).map(n=>cr(n,"www.")?n.substring(4):n),J3=(e,n)=>{J.from(e.attr("src")).bind(C5).forall(o=>!xe(n,o))&&e.attr("sandbox","")},Py=(e,n)=>cr(e,`${n}/`),V$=e=>Je(e)?"iframe":Py(e,"image")?"img":Py(e,"video")?"video":Py(e,"audio")?"audio":"iframe",z$=({type:e,src:n,width:o,height:a}={},c,m)=>{const p=V$(e),_=new Ma(p,1);return _.attr(p==="audio"?{src:n}:{src:n,width:o,height:a}),(p==="audio"||p==="video")&&_.attr("controls",""),p==="iframe"&&c&&J3(_,m),_},Q3=e=>we(e.attr("data-mce-bogus")),_5=e=>e.attr("src")===Uo.transparentSrc||we(e.attr("data-mce-placeholder")),H$=(e,n)=>{const{blob_cache:o}=n;if(o){const a=c=>{const m=c.attr("src");_5(c)||Q3(c)||rt(m)||x5(o,m,!0).each(p=>{c.attr("src",p.blobUri())})};e.addAttributeFilter("src",c=>be(c,a))}},U$=(e,n)=>{var o,a;const c=e.schema;e.addAttributeFilter("href",A=>{let $=A.length;const q=ne=>ne.split(" ").filter(Oe=>Oe.length>0).concat(["noopener"]).sort().join(" "),X=ne=>{const ve=ne?nn.trim(ne):"";return/\b(noopener)\b/g.test(ve)?ve:q(ve)};if(!n.allow_unsafe_link_target)for(;$--;){const ne=A[$];ne.name==="a"&&ne.attr("target")==="_blank"&&ne.attr("rel",X(ne.attr("rel")))}}),n.allow_html_in_named_anchor||e.addAttributeFilter("id,name",A=>{let $=A.length,q,X,ne,ve;for(;$--;)if(ve=A[$],ve.name==="a"&&ve.firstChild&&!ve.attr("href"))for(ne=ve.parent,q=ve.lastChild;q&&ne;)X=q.prev,ne.insert(q,ve),q=X}),n.fix_list_elements&&e.addNodeFilter("ul,ol",A=>{let $=A.length,q,X;for(;$--;)if(q=A[$],X=q.parent,X&&(X.name==="ul"||X.name==="ol"))if(q.prev&&q.prev.name==="li")q.prev.append(q);else{const ne=new Ma("li",1);ne.attr("style","list-style-type: none"),q.wrap(ne)}});const m=c.getValidClasses();n.validate&&m&&e.addAttributeFilter("class",A=>{var $;let q=A.length;for(;q--;){const X=A[q],ne=($=X.attr("class"))!==null&&$!==void 0?$:"",ve=nn.explode(ne," ");let Oe="";for(let ye=0;ye<ve.length;ye++){const Pe=ve[ye];let Ye=!1,st=m["*"];st&&st[Pe]&&(Ye=!0),st=m[X.name],!Ye&&st&&st[Pe]&&(Ye=!0),Ye&&(Oe&&(Oe+=" "),Oe+=Pe)}Oe.length||(Oe=null),X.attr("class",Oe)}}),H$(e,n);const p=(o=n.sandbox_iframes)!==null&&o!==void 0?o:!1,_=nl((a=n.sandbox_iframes_exclusions)!==null&&a!==void 0?a:[]);n.convert_unsafe_embeds&&e.addNodeFilter("object,embed",A=>be(A,$=>{$.replace(z$({type:$.attr("type"),src:$.name==="object"?$.attr("data"):$.attr("src"),width:$.attr("width"),height:$.attr("height")},p,_))})),p&&e.addNodeFilter("iframe",A=>be(A,$=>J3($,_)))},{entries:S5,setPrototypeOf:k5,isFrozen:e4,getPrototypeOf:E5,getOwnPropertyDescriptor:W$}=Object;let{freeze:Jc,seal:vr,create:K$}=Object,{apply:t4,construct:ok}=typeof Reflect<"u"&&Reflect;t4||(t4=function(n,o,a){return n.apply(o,a)}),Jc||(Jc=function(n){return n}),vr||(vr=function(n){return n}),ok||(ok=function(n,o){return new n(...o)});const n4=bc(Array.prototype.forEach),A5=bc(Array.prototype.pop),mf=bc(Array.prototype.push),Ny=bc(String.prototype.toLowerCase),sk=bc(String.prototype.toString),o4=bc(String.prototype.match),Cd=bc(String.prototype.replace),s4=bc(String.prototype.indexOf),T5=bc(String.prototype.trim),pc=bc(RegExp.prototype.test),gb=Dw(TypeError);function bc(e){return function(n){for(var o=arguments.length,a=new Array(o>1?o-1:0),c=1;c<o;c++)a[c-1]=arguments[c];return t4(e,n,a)}}function Dw(e){return function(){for(var n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return ok(e,o)}}function cs(e,n,o){var a;o=(a=o)!==null&&a!==void 0?a:Ny,k5&&k5(e,null);let c=n.length;for(;c--;){let m=n[c];if(typeof m=="string"){const p=o(m);p!==m&&(e4(n)||(n[c]=p),m=p)}e[m]=!0}return e}function Eg(e){const n=K$(null);for(const[o,a]of S5(e))n[o]=a;return n}function Pw(e,n){for(;e!==null;){const a=W$(e,n);if(a){if(a.get)return bc(a.get);if(typeof a.value=="function")return bc(a.value)}e=E5(e)}function o(a){return console.warn("fallback value for",a),null}return o}const r4=Jc(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),i4=Jc(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),rk=Jc(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),j$=Jc(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),a4=Jc(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),Nw=Jc(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),O5=Jc(["#text"]),R5=Jc(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),l4=Jc(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),I5=Jc(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),ik=Jc(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),Z$=vr(/\{\{[\w\W]*|[\w\W]*\}\}/gm),G$=vr(/<%[\w\W]*|[\w\W]*%>/gm),q$=vr(/\${[\w\W]*}/gm),Y$=vr(/^data-[\-\w.\u00B7-\uFFFF]/),X$=vr(/^aria-[\-\w]+$/),D5=vr(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),P5=vr(/^(?:\w+script|data):/i),N5=vr(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),c4=vr(/^html$/i);var u4=Object.freeze({__proto__:null,MUSTACHE_EXPR:Z$,ERB_EXPR:G$,TMPLIT_EXPR:q$,DATA_ATTR:Y$,ARIA_ATTR:X$,IS_ALLOWED_URI:D5,IS_SCRIPT_OR_DATA:P5,ATTR_WHITESPACE:N5,DOCTYPE_NAME:c4});const L5=()=>typeof window>"u"?null:window,M5=function(n,o){if(typeof n!="object"||typeof n.createPolicy!="function")return null;let a=null;const c="data-tt-policy-suffix";o&&o.hasAttribute(c)&&(a=o.getAttribute(c));const m="dompurify"+(a?"#"+a:"");try{return n.createPolicy(m,{createHTML(p){return p},createScriptURL(p){return p}})}catch{return console.warn("TrustedTypes policy "+m+" could not be created."),null}};function d4(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:L5();const n=Yo=>d4(Yo);if(n.version="3.0.5",n.removed=[],!e||!e.document||e.document.nodeType!==9)return n.isSupported=!1,n;const o=e.document,a=o.currentScript;let{document:c}=e;const{DocumentFragment:m,HTMLTemplateElement:p,Node:_,Element:A,NodeFilter:$,NamedNodeMap:q=e.NamedNodeMap||e.MozNamedAttrMap,HTMLFormElement:X,DOMParser:ne,trustedTypes:ve}=e,Oe=A.prototype,ye=Pw(Oe,"cloneNode"),Pe=Pw(Oe,"nextSibling"),Ye=Pw(Oe,"childNodes"),st=Pw(Oe,"parentNode");if(typeof p=="function"){const Yo=c.createElement("template");Yo.content&&Yo.content.ownerDocument&&(c=Yo.content.ownerDocument)}let nt,bt="";const{implementation:Ht,createNodeIterator:tn,createDocumentFragment:_n,getElementsByTagName:Dt}=c,{importNode:Ct}=o;let Vt={};n.isSupported=typeof S5=="function"&&typeof st=="function"&&Ht&&Ht.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:Dn,ERB_EXPR:Wn,TMPLIT_EXPR:Vo,DATA_ATTR:Go,ARIA_ATTR:Ns,IS_SCRIPT_OR_DATA:Ks,ATTR_WHITESPACE:fi}=u4;let{IS_ALLOWED_URI:Ml}=u4,er=null;const un=cs({},[...r4,...i4,...rk,...a4,...O5]);let Hn=null;const Cs=cs({},[...R5,...l4,...I5,...ik]);let gn=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),eo=null,jo=null,wn=!0,zo=!0,qo=!1,Ba=!0,Us=!1,Sa=!1,pm=!1,Qh=!1,xc=!1,Ed=!1,bm=!1,Ad=!0,vm=!1;const Gn="user-content-";let gs=!0,qr=!1,wi={},na=null;const bl=cs({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let Vi=null;const zi=cs({},["audio","video","img","source","image","track"]);let wc=null;const Ng=cs({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Lg="http://www.w3.org/1998/Math/MathML",Mg="http://www.w3.org/2000/svg",ym="http://www.w3.org/1999/xhtml";let ex=ym,Zk=!1,Gk=null;const _9=cs({},[Lg,Mg,ym],sk);let N0;const m6=["application/xhtml+xml","text/html"],_G="text/html";let nc,gC=null;const SG=c.createElement("form"),S9=function(Tt){return Tt instanceof RegExp||Tt instanceof Function},_b=function(Tt){if(!(gC&&gC===Tt)){if((!Tt||typeof Tt!="object")&&(Tt={}),Tt=Eg(Tt),N0=m6.indexOf(Tt.PARSER_MEDIA_TYPE)===-1?N0=_G:N0=Tt.PARSER_MEDIA_TYPE,nc=N0==="application/xhtml+xml"?sk:Ny,er="ALLOWED_TAGS"in Tt?cs({},Tt.ALLOWED_TAGS,nc):un,Hn="ALLOWED_ATTR"in Tt?cs({},Tt.ALLOWED_ATTR,nc):Cs,Gk="ALLOWED_NAMESPACES"in Tt?cs({},Tt.ALLOWED_NAMESPACES,sk):_9,wc="ADD_URI_SAFE_ATTR"in Tt?cs(Eg(Ng),Tt.ADD_URI_SAFE_ATTR,nc):Ng,Vi="ADD_DATA_URI_TAGS"in Tt?cs(Eg(zi),Tt.ADD_DATA_URI_TAGS,nc):zi,na="FORBID_CONTENTS"in Tt?cs({},Tt.FORBID_CONTENTS,nc):bl,eo="FORBID_TAGS"in Tt?cs({},Tt.FORBID_TAGS,nc):{},jo="FORBID_ATTR"in Tt?cs({},Tt.FORBID_ATTR,nc):{},wi="USE_PROFILES"in Tt?Tt.USE_PROFILES:!1,wn=Tt.ALLOW_ARIA_ATTR!==!1,zo=Tt.ALLOW_DATA_ATTR!==!1,qo=Tt.ALLOW_UNKNOWN_PROTOCOLS||!1,Ba=Tt.ALLOW_SELF_CLOSE_IN_ATTR!==!1,Us=Tt.SAFE_FOR_TEMPLATES||!1,Sa=Tt.WHOLE_DOCUMENT||!1,xc=Tt.RETURN_DOM||!1,Ed=Tt.RETURN_DOM_FRAGMENT||!1,bm=Tt.RETURN_TRUSTED_TYPE||!1,Qh=Tt.FORCE_BODY||!1,Ad=Tt.SANITIZE_DOM!==!1,vm=Tt.SANITIZE_NAMED_PROPS||!1,gs=Tt.KEEP_CONTENT!==!1,qr=Tt.IN_PLACE||!1,Ml=Tt.ALLOWED_URI_REGEXP||D5,ex=Tt.NAMESPACE||ym,gn=Tt.CUSTOM_ELEMENT_HANDLING||{},Tt.CUSTOM_ELEMENT_HANDLING&&S9(Tt.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(gn.tagNameCheck=Tt.CUSTOM_ELEMENT_HANDLING.tagNameCheck),Tt.CUSTOM_ELEMENT_HANDLING&&S9(Tt.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(gn.attributeNameCheck=Tt.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),Tt.CUSTOM_ELEMENT_HANDLING&&typeof Tt.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(gn.allowCustomizedBuiltInElements=Tt.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Us&&(zo=!1),Ed&&(xc=!0),wi&&(er=cs({},[...O5]),Hn=[],wi.html===!0&&(cs(er,r4),cs(Hn,R5)),wi.svg===!0&&(cs(er,i4),cs(Hn,l4),cs(Hn,ik)),wi.svgFilters===!0&&(cs(er,rk),cs(Hn,l4),cs(Hn,ik)),wi.mathMl===!0&&(cs(er,a4),cs(Hn,I5),cs(Hn,ik))),Tt.ADD_TAGS&&(er===un&&(er=Eg(er)),cs(er,Tt.ADD_TAGS,nc)),Tt.ADD_ATTR&&(Hn===Cs&&(Hn=Eg(Hn)),cs(Hn,Tt.ADD_ATTR,nc)),Tt.ADD_URI_SAFE_ATTR&&cs(wc,Tt.ADD_URI_SAFE_ATTR,nc),Tt.FORBID_CONTENTS&&(na===bl&&(na=Eg(na)),cs(na,Tt.FORBID_CONTENTS,nc)),gs&&(er["#text"]=!0),Sa&&cs(er,["html","head","body"]),er.table&&(cs(er,["tbody"]),delete eo.tbody),Tt.TRUSTED_TYPES_POLICY){if(typeof Tt.TRUSTED_TYPES_POLICY.createHTML!="function")throw gb('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof Tt.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw gb('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');nt=Tt.TRUSTED_TYPES_POLICY,bt=nt.createHTML("")}else nt===void 0&&(nt=M5(ve,a)),nt!==null&&typeof bt=="string"&&(bt=nt.createHTML(""));Jc&&Jc(Tt),gC=Tt}},lR=cs({},["mi","mo","mn","ms","mtext"]),xt=cs({},["foreignobject","desc","title","annotation-xml"]),_t=cs({},["title","style","font","a","script"]),an=cs({},i4);cs(an,rk),cs(an,j$);const en=cs({},a4);cs(en,Nw);const ro=function(Tt){let Vn=st(Tt);(!Vn||!Vn.tagName)&&(Vn={namespaceURI:ex,tagName:"template"});const _o=Ny(Tt.tagName),Oi=Ny(Vn.tagName);return Gk[Tt.namespaceURI]?Tt.namespaceURI===Mg?Vn.namespaceURI===ym?_o==="svg":Vn.namespaceURI===Lg?_o==="svg"&&(Oi==="annotation-xml"||lR[Oi]):!!an[_o]:Tt.namespaceURI===Lg?Vn.namespaceURI===ym?_o==="math":Vn.namespaceURI===Mg?_o==="math"&&xt[Oi]:!!en[_o]:Tt.namespaceURI===ym?Vn.namespaceURI===Mg&&!xt[Oi]||Vn.namespaceURI===Lg&&!lR[Oi]?!1:!en[_o]&&(_t[_o]||!an[_o]):!!(N0==="application/xhtml+xml"&&Gk[Tt.namespaceURI]):!1},rs=function(Tt){mf(n.removed,{element:Tt});try{Tt.parentNode.removeChild(Tt)}catch{Tt.remove()}},Yr=function(Tt,Vn){try{mf(n.removed,{attribute:Vn.getAttributeNode(Tt),from:Vn})}catch{mf(n.removed,{attribute:null,from:Vn})}if(Vn.removeAttribute(Tt),Tt==="is"&&!Hn[Tt])if(xc||Ed)try{rs(Vn)}catch{}else try{Vn.setAttribute(Tt,"")}catch{}},Bg=function(Tt){let Vn,_o;if(Qh)Tt="<remove></remove>"+Tt;else{const Fg=o4(Tt,/^[\r\n\t ]+/);_o=Fg&&Fg[0]}N0==="application/xhtml+xml"&&ex===ym&&(Tt='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+Tt+"</body></html>");const Oi=nt?nt.createHTML(Tt):Tt;if(ex===ym)try{Vn=new ne().parseFromString(Oi,N0)}catch{}if(!Vn||!Vn.documentElement){Vn=Ht.createDocument(ex,"template",null);try{Vn.documentElement.innerHTML=Zk?bt:Oi}catch{}}const Cc=Vn.body||Vn.documentElement;return Tt&&_o&&Cc.insertBefore(c.createTextNode(_o),Cc.childNodes[0]||null),ex===ym?Dt.call(Vn,Sa?"html":"body")[0]:Sa?Vn.documentElement:Cc},g6=function(Tt){return tn.call(Tt.ownerDocument||Tt,Tt,$.SHOW_ELEMENT|$.SHOW_COMMENT|$.SHOW_TEXT,null,!1)},ode=function(Tt){return Tt instanceof X&&(typeof Tt.nodeName!="string"||typeof Tt.textContent!="string"||typeof Tt.removeChild!="function"||!(Tt.attributes instanceof q)||typeof Tt.removeAttribute!="function"||typeof Tt.setAttribute!="function"||typeof Tt.namespaceURI!="string"||typeof Tt.insertBefore!="function"||typeof Tt.hasChildNodes!="function")},h6=function(Tt){return typeof _=="object"?Tt instanceof _:Tt&&typeof Tt=="object"&&typeof Tt.nodeType=="number"&&typeof Tt.nodeName=="string"},L0=function(Tt,Vn,_o){Vt[Tt]&&n4(Vt[Tt],Oi=>{Oi.call(n,Vn,_o,gC)})},kG=function(Tt){let Vn;if(L0("beforeSanitizeElements",Tt,null),ode(Tt))return rs(Tt),!0;const _o=nc(Tt.nodeName);if(L0("uponSanitizeElement",Tt,{tagName:_o,allowedTags:er}),Tt.hasChildNodes()&&!h6(Tt.firstElementChild)&&(!h6(Tt.content)||!h6(Tt.content.firstElementChild))&&pc(/<[/\w]/g,Tt.innerHTML)&&pc(/<[/\w]/g,Tt.textContent))return rs(Tt),!0;if(!er[_o]||eo[_o]){if(!eo[_o]&&AG(_o)&&(gn.tagNameCheck instanceof RegExp&&pc(gn.tagNameCheck,_o)||gn.tagNameCheck instanceof Function&&gn.tagNameCheck(_o)))return!1;if(gs&&!na[_o]){const Oi=st(Tt)||Tt.parentNode,Cc=Ye(Tt)||Tt.childNodes;if(Cc&&Oi){const Fg=Cc.length;for(let Ja=Fg-1;Ja>=0;--Ja)Oi.insertBefore(ye(Cc[Ja],!0),Pe(Tt))}}return rs(Tt),!0}return Tt instanceof A&&!ro(Tt)||(_o==="noscript"||_o==="noembed"||_o==="noframes")&&pc(/<\/no(script|embed|frames)/i,Tt.innerHTML)?(rs(Tt),!0):(Us&&Tt.nodeType===3&&(Vn=Tt.textContent,Vn=Cd(Vn,Dn," "),Vn=Cd(Vn,Wn," "),Vn=Cd(Vn,Vo," "),Tt.textContent!==Vn&&(mf(n.removed,{element:Tt.cloneNode()}),Tt.textContent=Vn)),L0("afterSanitizeElements",Tt,null),!1)},EG=function(Tt,Vn,_o){if(Ad&&(Vn==="id"||Vn==="name")&&(_o in c||_o in SG))return!1;if(!(zo&&!jo[Vn]&&pc(Go,Vn))){if(!(wn&&pc(Ns,Vn))){if(!Hn[Vn]||jo[Vn]){if(!(AG(Tt)&&(gn.tagNameCheck instanceof RegExp&&pc(gn.tagNameCheck,Tt)||gn.tagNameCheck instanceof Function&&gn.tagNameCheck(Tt))&&(gn.attributeNameCheck instanceof RegExp&&pc(gn.attributeNameCheck,Vn)||gn.attributeNameCheck instanceof Function&&gn.attributeNameCheck(Vn))||Vn==="is"&&gn.allowCustomizedBuiltInElements&&(gn.tagNameCheck instanceof RegExp&&pc(gn.tagNameCheck,_o)||gn.tagNameCheck instanceof Function&&gn.tagNameCheck(_o))))return!1}else if(!wc[Vn]){if(!pc(Ml,Cd(_o,fi,""))){if(!((Vn==="src"||Vn==="xlink:href"||Vn==="href")&&Tt!=="script"&&s4(_o,"data:")===0&&Vi[Tt])){if(!(qo&&!pc(Ks,Cd(_o,fi,"")))){if(_o)return!1}}}}}}return!0},AG=function(Tt){return Tt.indexOf("-")>0},TG=function(Tt){let Vn,_o,Oi,Cc;L0("beforeSanitizeAttributes",Tt,null);const{attributes:Fg}=Tt;if(!Fg)return;const Ja={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:Hn};for(Cc=Fg.length;Cc--;){Vn=Fg[Cc];const{name:$g,namespaceURI:k9}=Vn;_o=$g==="value"?Vn.value:T5(Vn.value);const rde=_o;if(Oi=nc($g),Ja.attrName=Oi,Ja.attrValue=_o,Ja.keepAttr=!0,Ja.forceKeepAttr=void 0,L0("uponSanitizeAttribute",Tt,Ja),_o=Ja.attrValue,Ja.forceKeepAttr)continue;if(!Ja.keepAttr){Yr($g,Tt);continue}if(!Ba&&pc(/\/>/i,_o)){Yr($g,Tt);continue}Us&&(_o=Cd(_o,Dn," "),_o=Cd(_o,Wn," "),_o=Cd(_o,Vo," "));const OG=nc(Tt.nodeName);if(!EG(OG,Oi,_o)){Yr($g,Tt);continue}if(vm&&(Oi==="id"||Oi==="name")&&(Yr($g,Tt),_o=Gn+_o),nt&&typeof ve=="object"&&typeof ve.getAttributeType=="function"&&!k9)switch(ve.getAttributeType(OG,Oi)){case"TrustedHTML":{_o=nt.createHTML(_o);break}case"TrustedScriptURL":{_o=nt.createScriptURL(_o);break}}if(_o!==rde)try{k9?Tt.setAttributeNS(k9,$g,_o):Tt.setAttribute($g,_o)}catch{Yr($g,Tt)}}L0("afterSanitizeAttributes",Tt,null)},sde=function Yo(Tt){let Vn;const _o=g6(Tt);for(L0("beforeSanitizeShadowDOM",Tt,null);Vn=_o.nextNode();)L0("uponSanitizeShadowNode",Vn,null),!kG(Vn)&&(Vn.content instanceof m&&Yo(Vn.content),TG(Vn));L0("afterSanitizeShadowDOM",Tt,null)};return n.sanitize=function(Yo){let Tt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Vn,_o,Oi,Cc;if(Zk=!Yo,Zk&&(Yo="<!-->"),typeof Yo!="string"&&!h6(Yo))if(typeof Yo.toString=="function"){if(Yo=Yo.toString(),typeof Yo!="string")throw gb("dirty is not a string, aborting")}else throw gb("toString is not a function");if(!n.isSupported)return Yo;if(pm||_b(Tt),n.removed=[],typeof Yo=="string"&&(qr=!1),qr){if(Yo.nodeName){const $g=nc(Yo.nodeName);if(!er[$g]||eo[$g])throw gb("root node is forbidden and cannot be sanitized in-place")}}else if(Yo instanceof _)Vn=Bg("<!---->"),_o=Vn.ownerDocument.importNode(Yo,!0),_o.nodeType===1&&_o.nodeName==="BODY"||_o.nodeName==="HTML"?Vn=_o:Vn.appendChild(_o);else{if(!xc&&!Us&&!Sa&&Yo.indexOf("<")===-1)return nt&&bm?nt.createHTML(Yo):Yo;if(Vn=Bg(Yo),!Vn)return xc?null:bm?bt:""}Vn&&Qh&&rs(Vn.firstChild);const Fg=g6(qr?Yo:Vn);for(;Oi=Fg.nextNode();)kG(Oi)||(Oi.content instanceof m&&sde(Oi.content),TG(Oi));if(qr)return Yo;if(xc){if(Ed)for(Cc=_n.call(Vn.ownerDocument);Vn.firstChild;)Cc.appendChild(Vn.firstChild);else Cc=Vn;return(Hn.shadowroot||Hn.shadowrootmode)&&(Cc=Ct.call(o,Cc,!0)),Cc}let Ja=Sa?Vn.outerHTML:Vn.innerHTML;return Sa&&er["!doctype"]&&Vn.ownerDocument&&Vn.ownerDocument.doctype&&Vn.ownerDocument.doctype.name&&pc(c4,Vn.ownerDocument.doctype.name)&&(Ja="<!DOCTYPE "+Vn.ownerDocument.doctype.name+`>
`+Ja),Us&&(Ja=Cd(Ja,Dn," "),Ja=Cd(Ja,Wn," "),Ja=Cd(Ja,Vo," ")),nt&&bm?nt.createHTML(Ja):Ja},n.setConfig=function(Yo){_b(Yo),pm=!0},n.clearConfig=function(){gC=null,pm=!1},n.isValidAttribute=function(Yo,Tt,Vn){gC||_b({});const _o=nc(Yo),Oi=nc(Tt);return EG(_o,Oi,Vn)},n.addHook=function(Yo,Tt){typeof Tt=="function"&&(Vt[Yo]=Vt[Yo]||[],mf(Vt[Yo],Tt))},n.removeHook=function(Yo){if(Vt[Yo])return A5(Vt[Yo])},n.removeHooks=function(Yo){Vt[Yo]&&(Vt[Yo]=[])},n.removeAllHooks=function(){Vt={}},n}var f4=d4();const B5=nn.each,F5=nn.trim,J$=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],Q$={ftp:21,http:80,https:443,mailto:25},$5=["img","video"],V5=(e,n)=>we(e)?!e:we(n)?!xe($5,n):!0,eV=e=>{try{return decodeURIComponent(e)}catch{return unescape(e)}},m4=(e,n,o)=>{const a=eV(n).replace(/\s/g,"");return e.allow_script_urls?!1:/((java|vb)script|mhtml):/i.test(a)?!0:e.allow_html_data_urls?!1:/^data:image\//i.test(a)?V5(e.allow_svg_data_urls,o)&&/^data:image\/svg\+xml/i.test(a):/^data:/i.test(a)};class _d{static parseDataUri(n){let o;const a=decodeURIComponent(n).split(","),c=/data:([^;]+)/.exec(a[0]);return c&&(o=c[1]),{type:o,data:a[1]}}static isDomSafe(n,o,a={}){if(a.allow_script_urls)return!0;{const c=fh.decode(n).replace(/[\s\u0000-\u001F]+/g,"");return!m4(a,c,o)}}static getDocumentBaseUrl(n){var o;let a;return n.protocol.indexOf("http")!==0&&n.protocol!=="file:"?a=(o=n.href)!==null&&o!==void 0?o:"":a=n.protocol+"//"+n.host+n.pathname,/^[^:]+:\/\/\/?[^\/]+\//.test(a)&&(a=a.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(a)||(a+="/")),a}constructor(n,o={}){this.path="",this.directory="",n=F5(n),this.settings=o;const a=o.base_uri,c=this;if(/^([\w\-]+):([^\/]{2})/i.test(n)||/^\s*#/.test(n)){c.source=n;return}const m=n.indexOf("//")===0;if(n.indexOf("/")===0&&!m&&(n=(a&&a.protocol||"http")+"://mce_host"+n),!/^[\w\-]*:?\/\//.test(n)){const _=a?a.path:new _d(document.location.href).directory;if((a==null?void 0:a.protocol)==="")n="//mce_host"+c.toAbsPath(_,n);else{const A=/([^#?]*)([#?]?.*)/.exec(n);A&&(n=(a&&a.protocol||"http")+"://mce_host"+c.toAbsPath(_,A[1])+A[2])}}n=n.replace(/@@/g,"(mce_at)");const p=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*):?([^:@\/]*))?@)?(\[[a-zA-Z0-9:.%]+\]|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(n);p&&B5(J$,(_,A)=>{let $=p[A];$&&($=$.replace(/\(mce_at\)/g,"@@")),c[_]=$}),a&&(c.protocol||(c.protocol=a.protocol),c.userInfo||(c.userInfo=a.userInfo),!c.port&&c.host==="mce_host"&&(c.port=a.port),(!c.host||c.host==="mce_host")&&(c.host=a.host),c.source=""),m&&(c.protocol="")}setPath(n){const o=/^(.*?)\/?(\w+)?$/.exec(n);o&&(this.path=o[0],this.directory=o[1],this.file=o[2]),this.source="",this.getURI()}toRelative(n){if(n==="./")return n;const o=new _d(n,{base_uri:this});if(o.host!=="mce_host"&&this.host!==o.host&&o.host||this.port!==o.port||this.protocol!==o.protocol&&o.protocol!=="")return o.getURI();const a=this.getURI(),c=o.getURI();if(a===c||a.charAt(a.length-1)==="/"&&a.substr(0,a.length-1)===c)return a;let m=this.toRelPath(this.path,o.path);return o.query&&(m+="?"+o.query),o.anchor&&(m+="#"+o.anchor),m}toAbsolute(n,o){const a=new _d(n,{base_uri:this});return a.getURI(o&&this.isSameOrigin(a))}isSameOrigin(n){if(this.host==n.host&&this.protocol==n.protocol){if(this.port==n.port)return!0;const o=this.protocol?Q$[this.protocol]:null;if(o&&(this.port||o)==(n.port||o))return!0}return!1}toRelPath(n,o){let a=0,c="",m,p;const _=n.substring(0,n.lastIndexOf("/")).split("/"),A=o.split("/");if(_.length>=A.length){for(m=0,p=_.length;m<p;m++)if(m>=A.length||_[m]!==A[m]){a=m+1;break}}if(_.length<A.length){for(m=0,p=A.length;m<p;m++)if(m>=_.length||_[m]!==A[m]){a=m+1;break}}if(a===1)return o;for(m=0,p=_.length-(a-1);m<p;m++)c+="../";for(m=a-1,p=A.length;m<p;m++)m!==a-1?c+="/"+A[m]:c+=A[m];return c}toAbsPath(n,o){let a=0;const c=/\/$/.test(o)?"/":"",m=n.split("/"),p=o.split("/"),_=[];B5(m,X=>{X&&_.push(X)});const A=[];for(let X=p.length-1;X>=0;X--)if(!(p[X].length===0||p[X]===".")){if(p[X]===".."){a++;continue}if(a>0){a--;continue}A.push(p[X])}const $=_.length-a;let q;return $<=0?q=Zs(A).join("/"):q=_.slice(0,$).join("/")+"/"+Zs(A).join("/"),q.indexOf("/")!==0&&(q="/"+q),c&&q.lastIndexOf("/")!==q.length-1&&(q+=c),q}getURI(n=!1){let o;return(!this.source||n)&&(o="",n||(this.protocol?o+=this.protocol+"://":o+="//",this.userInfo&&(o+=this.userInfo+"@"),this.host&&(o+=this.host),this.port&&(o+=":"+this.port)),this.path&&(o+=this.path),this.query&&(o+="?"+this.query),this.anchor&&(o+="#"+this.anchor),this.source=o),this.source}}const tV=nn.makeMap("src,href,data,background,action,formaction,poster,xlink:href"),g4="data-mce-type";let z5=0;const H5=(e,n,o,a,c)=>{var m,p,_,A;const $=n.validate,q=o.getSpecialElements();e.nodeType===Of&&!n.allow_conditional_comments&&/^\[if/i.test((m=e.nodeValue)!==null&&m!==void 0?m:"")&&(e.nodeValue=" "+e.nodeValue);const X=(p=c==null?void 0:c.tagName)!==null&&p!==void 0?p:e.nodeName.toLowerCase();if(a!=="html"&&o.isValid(a)){we(c)&&(c.allowedTags[X]=!0);return}if(e.nodeType!==kl||X==="body")return;const ne=Ke.fromDom(e),ve=Hd(ne,g4),Oe=Ia(ne,"data-mce-bogus");if(!ve&&ue(Oe)){Oe==="all"?Ps(ne):Ka(ne);return}const ye=o.getElementRule(X);if($&&!ye){ho(q,X)?Ps(ne):Ka(ne);return}else we(c)&&(c.allowedTags[X]=!0);if($&&ye&&!ve){if(be((_=ye.attributesForced)!==null&&_!==void 0?_:[],Pe=>{_i(ne,Pe.name,Pe.value==="{$uid}"?`mce_${z5++}`:Pe.value)}),be((A=ye.attributesDefault)!==null&&A!==void 0?A:[],Pe=>{Hd(ne,Pe.name)||_i(ne,Pe.name,Pe.value==="{$uid}"?`mce_${z5++}`:Pe.value)}),ye.attributesRequired&&!Re(ye.attributesRequired,Pe=>Hd(ne,Pe))){Ka(ne);return}if(ye.removeEmptyAttrs&&ci(ne)){Ka(ne);return}ye.outputName&&ye.outputName!==X&&r2(ne,ye.outputName)}},nV=(e,n,o,a,c)=>{const m=e.tagName.toLowerCase(),{attrName:p,attrValue:_}=c;c.keepAttr=Lw(n,o,a,m,p,_),c.keepAttr?(c.allowedAttributes[p]=!0,p4(p,o)&&(c.attrValue=p),n.allow_svg_data_urls&&cr(_,"data:image/svg+xml")&&(c.forceKeepAttr=!0)):h4(e,p)&&(c.forceKeepAttr=!0)},Lw=(e,n,o,a,c,m)=>o!=="html"&&!Gm(a)?!0:!(c in tV&&m4(e,m,a))&&(!e.validate||n.isValid(a,c)||cr(c,"data-")||cr(c,"aria-")),h4=(e,n)=>e.hasAttribute(g4)&&(n==="id"||n==="class"||n==="style"),p4=(e,n)=>e in n.getBoolAttrs(),U5=(e,n,o,a)=>{const{attributes:c}=e;for(let m=c.length-1;m>=0;m--){const p=c[m],_=p.name,A=p.value;!Lw(n,o,a,e.tagName.toLowerCase(),_,A)&&!h4(e,_)?e.removeAttribute(_):p4(_,o)&&e.setAttribute(_,_)}},oV=(e,n,o)=>{const a=f4();return a.addHook("uponSanitizeElement",(c,m)=>{H5(c,e,n,o.track(c),m)}),a.addHook("uponSanitizeAttribute",(c,m)=>{nV(c,e,n,o.current(),m)}),a},sV=(e,n)=>{const a={...{IN_PLACE:!0,ALLOW_UNKNOWN_PROTOCOLS:!0,ALLOWED_TAGS:["#comment","#cdata-section","body"],ALLOWED_ATTR:[]}};return a.PARSER_MEDIA_TYPE=n,e.allow_script_urls?a.ALLOWED_URI_REGEXP=/.*/:e.allow_html_data_urls&&(a.ALLOWED_URI_REGEXP=/^(?!(\w+script|mhtml):)/i),a},W5=e=>{const n=GC(e);if(n==="svg"){const o=["type","href","role","arcrole","title","show","actuate","label","from","to"].map(c=>`xlink:${c}`),a={IN_PLACE:!0,USE_PROFILES:{html:!0,svg:!0,svgFilters:!0},ALLOWED_ATTR:o};f4().sanitize(e,a)}else if(n==="math"){const o={IN_PLACE:!0,USE_PROFILES:{mathMl:!0}};f4().sanitize(e,o)}else throw new Error("Not a namespace element")},rV=(e,n)=>{const o=HE();if(e.sanitize){const a=oV(e,n,o);return{sanitizeHtmlElement:(m,p)=>{a.sanitize(m,sV(e,p)),a.removed=[],o.reset()},sanitizeNamespaceElement:W5}}else return{sanitizeHtmlElement:(m,p)=>{const _=document.createNodeIterator(m,NodeFilter.SHOW_ELEMENT|NodeFilter.SHOW_COMMENT|NodeFilter.SHOW_TEXT);let A;for(;A=_.nextNode();){const $=o.track(A);H5(A,e,n,$),Nn(A)&&U5(A,e,n,$)}o.reset()},sanitizeNamespaceElement:St}},ak=nn.makeMap,b4=nn.extend,K5=(e,n,o,a)=>{const c=e.name,m=c in o&&c!=="title"&&c!=="textarea"&&c!=="noscript",p=n.childNodes;for(let _=0,A=p.length;_<A;_++){const $=p[_],q=new Ma($.nodeName.toLowerCase(),$.nodeType);if(Nn($)){const X=$.attributes;for(let ne=0,ve=X.length;ne<ve;ne++){const Oe=X[ne];q.attr(Oe.name,Oe.value)}Gm(q.name)&&(a($),q.value=$.innerHTML)}else Gt($)?(q.value=$.data,m&&(q.raw=!0)):(No($)||Ox($)||Vf($))&&(q.value=$.data);Gm(q.name)||K5(q,$,o,a),e.append(q)}},Ca=(e,n,o)=>{const a=[];for(let c=e,m=c;c;m=c,c=c.walk()){const p=c;be(n,_=>_(p)),rt(p.parent)&&p!==e?c=m:a.push(p)}for(let c=a.length-1;c>=0;c--){const m=a[c];be(o,p=>p(m))}},Ag=(e,n,o,a)=>{const c=o.validate,m=n.getNonEmptyElements(),p=n.getWhitespaceElements(),_=b4(ak("script,style,head,html,body,title,meta,param"),n.getBlockElements()),A=T1(n),$=/[ \t\r\n]+/g,q=/^[ \t\r\n]+/,X=/[ \t\r\n]+$/,ne=st=>{let nt=st.parent;for(;we(nt);){if(nt.name in p)return!0;nt=nt.parent}return!1},ve=st=>{let nt=st;for(;we(nt);){if(nt.name in A)return Oy(n,m,p,nt);nt=nt.parent}return!1},Oe=st=>st.name in _||Tp(n,st)||Gm(st.name)&&st.parent===e,ye=(st,nt)=>{const bt=nt?st.prev:st.next;return we(bt)||rt(st.parent)?!1:Oe(st.parent)&&(st.parent!==e||a.isRootContent===!0)};return[st=>{var nt;if(st.type===3&&!ne(st)){let bt=(nt=st.value)!==null&&nt!==void 0?nt:"";bt=bt.replace($," "),(IN(st.prev,Oe)||ye(st,!0))&&(bt=bt.replace(q,"")),bt.length===0||bt===" "&&st.prev&&st.prev.type===Of&&st.next&&st.next.type===Of?st.remove():st.value=bt}},st=>{var nt;if(st.type===1){const bt=n.getElementRule(st.name);if(c&&bt){const Ht=Oy(n,m,p,st);bt.paddInEmptyBlock&&Ht&&ve(st)?DS(o,a,Oe,st):bt.removeEmpty&&Ht?Oe(st)?st.remove():st.unwrap():bt.paddEmpty&&(Ht||PS(st))&&DS(o,a,Oe,st)}}else if(st.type===3&&!ne(st)){let bt=(nt=st.value)!==null&&nt!==void 0?nt:"";(st.next&&Oe(st.next)||ye(st,!1))&&(bt=bt.replace(X,"")),bt.length===0?st.remove():st.value=bt}}]},iV=(e,n)=>{var o;const a=(o=n.forced_root_block)!==null&&o!==void 0?o:e.forced_root_block;return a===!1?"":a===!0?"p":a},Ly=(e={},n=Vc())=>{const o=ek(),a=ek(),c={validate:!0,root_name:"body",sanitize:!0,...e},m=new DOMParser,p=rV(c,n),_=(nt,bt,Ht="html")=>{const tn=Ht==="xhtml"?"application/xhtml+xml":"text/html",_n=ho(n.getSpecialElements(),bt.toLowerCase()),Dt=_n?`<${bt}>${nt}</${bt}>`:nt,Ct=()=>Ht==="xhtml"?`<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>${Dt}</body></html>`:/^[\s]*<head/i.test(nt)||/^[\s]*<html/i.test(nt)||/^[\s]*<!DOCTYPE/i.test(nt)?`<html>${Dt}</html>`:`<body>${Dt}</body>`,Vt=m.parseFromString(Ct(),tn).body;return p.sanitizeHtmlElement(Vt,tn),_n?Vt.firstChild:Vt},A=o.addFilter,$=o.getFilters,q=o.removeFilter,X=a.addFilter,ne=a.getFilters,ve=a.removeFilter,Oe=(nt,bt)=>{_w(n,nt)&&bt.push(nt)},ye=(nt,bt)=>{const Ht=ue(bt.attr(g4)),tn=bt.type===1&&!ho(nt,bt.name)&&!Tp(n,bt)&&!Gm(bt.name);return bt.type===3||tn&&!Ht},Pe=(nt,bt)=>{const Ht=b4(ak("script,style,head,html,body,title,meta,param"),n.getBlockElements()),tn=/^[ \t\r\n]+/,_n=/[ \t\r\n]+$/;let Dt=nt.firstChild,Ct=null;const Vt=Dn=>{var Wn,Vo;Dn&&(Dt=Dn.firstChild,Dt&&Dt.type===3&&(Dt.value=(Wn=Dt.value)===null||Wn===void 0?void 0:Wn.replace(tn,"")),Dt=Dn.lastChild,Dt&&Dt.type===3&&(Dt.value=(Vo=Dt.value)===null||Vo===void 0?void 0:Vo.replace(_n,"")))};if(n.isValidChild(nt.name,bt.toLowerCase())){for(;Dt;){const Dn=Dt.next;ye(Ht,Dt)?(Ct||(Ct=new Ma(bt,1),Ct.attr(c.forced_root_block_attrs),nt.insert(Ct,Dt)),Ct.append(Dt)):(Vt(Ct),Ct=null),Dt=Dn}Vt(Ct)}},st={schema:n,addAttributeFilter:X,getAttributeFilters:ne,removeAttributeFilter:ve,addNodeFilter:A,getNodeFilters:$,removeNodeFilter:q,parse:(nt,bt={})=>{var Ht;const tn=c.validate,_n=(Ht=bt.context)!==null&&Ht!==void 0?Ht:c.root_name,Dt=_(nt,_n,bt.format);Kr(n,Dt);const Ct=new Ma(_n,11);K5(Ct,Dt,n.getSpecialElements(),p.sanitizeNamespaceElement),Dt.innerHTML="";const[Vt,Dn]=Ag(Ct,n,c,bt),Wn=[],Vo=tn?fi=>Oe(fi,Wn):St,Go={nodes:{},attributes:{}},Ns=fi=>r3($(),ne(),fi,Go);if(Ca(Ct,[Vt,Ns],[Dn,Vo]),Wn.reverse(),tn&&Wn.length>0)if(bt.context){const{pass:fi,fail:Ml}=Ne(Wn,er=>er.parent===Ct);Ru(Ml,n,Ct,Ns),bt.invalid=fi.length>0}else Ru(Wn,n,Ct,Ns);const Ks=iV(c,bt);return Ks&&(Ct.name==="body"||bt.isRootContent)&&Pe(Ct,Ks),bt.invalid||i3(Go,bt),Ct}};return U$(st,c),B$(st,c,n),st},aV=e=>p0(e)?Bh({validate:!1}).serialize(e):e,v4=(e,n,o)=>{const a=aV(e),c=n(a);if(c.isDefaultPrevented())return c;if(p0(e))if(c.content!==a){const m=Ly({validate:!1,forced_root_block:!1,...o}).parse(c.content,{context:e.name});return{...c,content:m}}else return{...c,content:e};else return c},x0=e=>({sanitize:KI(e),sandbox_iframes:xA(e),sandbox_iframes_exclusions:x_(e)}),j5=(e,n)=>{if(n.no_events)return oo.value(n);{const o=cm(e,n);return o.isDefaultPrevented()?oo.error(GD(e,{content:"",...o}).content):oo.value(o)}},gf=(e,n,o)=>o.no_events?n:v4(n,c=>GD(e,{...o,content:c}),x0(e)).content,y4=(e,n)=>{if(n.no_events)return oo.value(n);{const o=v4(n.content,a=>s7(e,{...n,content:a}),x0(e));return o.isDefaultPrevented()?(gc(e,o),oo.error(void 0)):oo.value(o)}},x4=(e,n,o)=>{o.no_events||gc(e,{...o,content:n})},lk=(e,n,o)=>({element:e,width:n,rows:o}),w4=(e,n)=>({element:e,cells:n}),lV=(e,n)=>({x:e,y:n}),ck=(e,n)=>au(e,n).bind(hn).getOr(1),Tg=(e,n,o,a,c)=>{const m=ck(c,"rowspan"),p=ck(c,"colspan"),_=e.rows;for(let A=o;A<o+m;A++){_[A]||(_[A]=w4(og(a),[]));for(let $=n;$<n+p;$++){const q=_[A].cells;q[$]=A===o&&$===n?c:Zr(c)}}},Z5=(e,n,o)=>{const a=e.rows;return!!(a[o]?a[o].cells:[])[n]},G5=(e,n,o)=>{for(;Z5(e,n,o);)n++;return n},Mw=e=>ln(e,(n,o)=>o.cells.length>n?o.cells.length:n,0),uk=(e,n)=>{const o=e.rows;for(let a=0;a<o.length;a++){const c=o[a].cells;for(let m=0;m<c.length;m++)if(ns(c[m],n))return J.some(lV(m,a))}return J.none()},C4=(e,n,o,a,c)=>{const m=[],p=e.rows;for(let _=o;_<=c;_++){const A=p[_].cells,$=n<a?A.slice(n,a+1):A.slice(a,n+1);m.push(w4(p[_].element,$))}return m},q5=(e,n,o)=>{const a=n.x,c=n.y,m=o.x,p=o.y,_=c<p?C4(e,a,c,m,p):C4(e,a,p,m,c);return lk(e.element,Mw(_),_)},Y5=(e,n)=>{const o=Zr(e.element),a=Ke.fromTag("tbody");return ni(a,n),Hr(o,a),o},cV=e=>Ve(e.rows,n=>{const o=Ve(n.cells,c=>{const m=og(c);return Mo(m,"colspan"),Mo(m,"rowspan"),m}),a=Zr(n.element);return ni(a,o),a}),uV=e=>{const n=lk(Zr(e),0,[]);return be(vi(e,"tr"),(o,a)=>{be(vi(o,"td,th"),(c,m)=>{Tg(n,G5(n,m,a),a,o,c)})}),lk(n.element,Mw(n.rows),n.rows)},dV=e=>Y5(e,cV(e)),X5=(e,n,o)=>uk(e,n).bind(a=>uk(e,o).map(c=>q5(e,a,c))),J5=e=>yn(e,n=>ts(n)==="ul"||ts(n)==="ol"),fV=(e,n)=>yn(e,o=>ts(o)==="li"&&B2(o,n)).fold(dt([]),o=>J5(e).map(a=>{const c=Ke.fromTag(ts(a)),m=Ac(sh(a),(p,_)=>cr(_,"list-style"));return Xo(c,m),[Ke.fromTag("li"),c]}).getOr([])),_4=(e,n)=>{const o=ln(n,(a,c)=>(Hr(c,a),c),e);return n.length>0?Gc([o]):o},Q5=e=>rg(e)?ma(e).filter(Ov).fold(dt([]),n=>[e,n]):Ov(e)?[e]:[],mV=(e,n,o)=>{const a=Ke.fromDom(n.commonAncestorContainer),c=Yc(a,e),m=Ge(c,A=>o.isWrapper(ts(A))),p=fV(c,n),_=m.concat(p.length?p:Q5(a));return Ve(_,Zr)},S4=()=>Gc([]),gV=(e,n,o)=>_4(Ke.fromDom(n.cloneContents()),mV(e,n,o)),hV=(e,n)=>fu(n,"table",et(ns,e)),Nl=(e,n)=>hV(e,n[0]).bind(o=>{const a=n[0],c=n[n.length-1],m=uV(o);return X5(m,a,c).map(p=>Gc([dV(p)]))}).getOrThunk(S4),pV=(e,n,o)=>n.length>0&&n[0].collapsed?S4():gV(e,n[0],o),bV=(e,n,o)=>{const a=OD(n,e);return a.length>0?Nl(e,a):pV(e,n,o)},dk=(e,n)=>n>=0&&n<e.length&&Jv(e.charAt(n)),eL=e=>Il(e.innerText),fk=e=>e.map(n=>n.nodeName).getOr("div").toLowerCase(),vV=e=>J.from(e.selection.getRng()).map(n=>{var o;const a=J.from(e.dom.getParent(n.commonAncestorContainer,e.dom.isBlock)),c=e.getBody(),m=fk(a),p=Ke.fromDom(n.cloneContents());BP(p),FP(p);const _=e.dom.add(c,m,{"data-mce-bogus":"all",style:"overflow: hidden; opacity: 0;"},p.dom),A=eL(_),$=Il((o=_.textContent)!==null&&o!==void 0?o:"");if(e.dom.remove(_),dk($,0)||dk($,$.length-1)){const q=a.getOr(c),X=eL(q),ne=X.indexOf(A);if(ne===-1)return A;{const ve=dk(X,ne-1),Oe=dk(X,ne+A.length);return(ve?" ":"")+A+(Oe?" ":"")}}else return A}).getOr(""),k4=(e,n)=>{const o=e.selection.getRng(),a=e.dom.create("body"),c=e.selection.getSel(),m=iS(e,br(c)),p=n.contextual?bV(Ke.fromDom(e.getBody()),m,e.schema).dom:o.cloneContents();return p&&a.appendChild(p),e.selection.serializer.serialize(a,n)},E4=(e,n)=>{if(n.format==="text")return vV(e);{const o=k4(e,n);return n.format==="tree"?o:e.selection.isCollapsed()?"":o}},yV=(e,n)=>({...e,format:n,get:!0,selection:!0,getInner:!0}),xV=(e,n,o={})=>{const a=yV(o,n);return j5(e,a).fold(An,c=>{const m=E4(e,c);return gf(e,m,c)})},Sd=0,A4=1,tL=2,T4=(e,n)=>{const o=e.length+n.length+2,a=new Array(o),c=new Array(o),m=(q,X,ne)=>({start:q,end:X,diag:ne}),p=(q,X,ne,ve,Oe)=>{const ye=A(q,X,ne,ve);if(ye===null||ye.start===X&&ye.diag===X-ve||ye.end===q&&ye.diag===q-ne){let Pe=q,Ye=ne;for(;Pe<X||Ye<ve;)Pe<X&&Ye<ve&&e[Pe]===n[Ye]?(Oe.push([Sd,e[Pe]]),++Pe,++Ye):X-q>ve-ne?(Oe.push([tL,e[Pe]]),++Pe):(Oe.push([A4,n[Ye]]),++Ye)}else{p(q,ye.start,ne,ye.start-ye.diag,Oe);for(let Pe=ye.start;Pe<ye.end;++Pe)Oe.push([Sd,e[Pe]]);p(ye.end,X,ye.end-ye.diag,ve,Oe)}},_=(q,X,ne,ve)=>{let Oe=q;for(;Oe-X<ve&&Oe<ne&&e[Oe]===n[Oe-X];)++Oe;return m(q,Oe,X)},A=(q,X,ne,ve)=>{const Oe=X-q,ye=ve-ne;if(Oe===0||ye===0)return null;const Pe=Oe-ye,Ye=ye+Oe,st=(Ye%2===0?Ye:Ye+1)/2;a[1+st]=q,c[1+st]=X+1;let nt,bt,Ht,tn,_n;for(nt=0;nt<=st;++nt){for(bt=-nt;bt<=nt;bt+=2){for(Ht=bt+st,bt===-nt||bt!==nt&&a[Ht-1]<a[Ht+1]?a[Ht]=a[Ht+1]:a[Ht]=a[Ht-1]+1,tn=a[Ht],_n=tn-q+ne-bt;tn<X&&_n<ve&&e[tn]===n[_n];)a[Ht]=++tn,++_n;if(Pe%2!==0&&Pe-nt<=bt&&bt<=Pe+nt&&c[Ht-Pe]<=a[Ht])return _(c[Ht-Pe],bt+q-ne,X,ve)}for(bt=Pe-nt;bt<=Pe+nt;bt+=2){for(Ht=bt+st-Pe,bt===Pe-nt||bt!==Pe+nt&&c[Ht+1]<=c[Ht-1]?c[Ht]=c[Ht+1]-1:c[Ht]=c[Ht-1],tn=c[Ht]-1,_n=tn-q+ne-bt;tn>=q&&_n>=ne&&e[tn]===n[_n];)c[Ht]=tn--,_n--;if(Pe%2===0&&-nt<=bt&&bt<=nt&&c[Ht]<=a[Ht+Pe])return _(c[Ht],bt+q-ne,X,ve)}}return null},$=[];return p(0,e.length,0,n.length,$),$},O4=e=>Nn(e)?e.outerHTML:Gt(e)?fh.encodeRaw(e.data,!1):No(e)?"<!--"+e.data+"-->":"",mk=e=>{let n;const o=document.createElement("div"),a=document.createDocumentFragment();for(e&&(o.innerHTML=e);n=o.firstChild;)a.appendChild(n);return a},nL=(e,n,o)=>{const a=mk(n);if(e.hasChildNodes()&&o<e.childNodes.length){const c=e.childNodes[o];e.insertBefore(a,c)}else e.appendChild(a)},oL=(e,n)=>{if(e.hasChildNodes()&&n<e.childNodes.length){const o=e.childNodes[n];e.removeChild(o)}},sL=(e,n)=>{let o=0;be(e,a=>{a[0]===Sd?o++:a[0]===A4?(nL(n,a[1],o),o++):a[0]===tL&&oL(n,o)})},wV=(e,n)=>Ge(Ve(Ro(e.childNodes),Ut(Il,O4)),o=>o.length>0),CV=(e,n)=>{const o=Ve(Ro(n.childNodes),O4);return sL(T4(o,e),n),n},R4=$l(()=>document.implementation.createHTMLDocument("undo")),_V=e=>e.querySelector("iframe")!==null,SV=e=>({type:"fragmented",fragments:e,content:"",bookmark:null,beforeBookmark:null}),gk=e=>({type:"complete",fragments:null,content:e,bookmark:null,beforeBookmark:null}),My=e=>{const n=e.serializer.getTempAttrs(),o=vT(e.getBody(),n);return _V(o)?SV(wV(o)):gk(Il(o.innerHTML))},Bw=(e,n,o)=>{const a=o?n.beforeBookmark:n.bookmark;n.type==="fragmented"?CV(n.fragments,e.getBody()):e.setContent(n.content,{format:"raw",no_selection:we(a)&&wD(a)?!a.isFakeCaret:!0}),a&&(e.selection.moveToBookmark(a),e.selection.scrollIntoView())},hk=e=>e.type==="fragmented"?e.fragments.join(""):e.content,Wh=e=>{const n=Ke.fromTag("body",R4());return Um(n,hk(e)),be(vi(n,"*[data-mce-bogus]"),Ka),Zd(n)},kV=(e,n)=>hk(e)===hk(n),EV=(e,n)=>Wh(e)===Wh(n),By=(e,n)=>!e||!n?!1:kV(e,n)?!0:EV(e,n),pk=e=>e.get()===0,Fw=(e,n,o)=>{pk(o)&&(e.typing=n)},I4=(e,n)=>{e.typing&&(Fw(e,!1,n),e.add())},AV=e=>{e.typing&&(e.typing=!1,e.add())},TV=(e,n,o)=>{pk(n)&&o.set(En(e.selection))},D4=(e,n,o,a,c,m,p)=>{const _=My(e),A=nn.extend(m||{},_);if(!pk(a)||e.removed)return null;const $=n.data[o.get()];if(e.dispatch("BeforeAddUndo",{level:A,lastLevel:$,originalEvent:p}).isDefaultPrevented()||$&&By($,A))return null;n.data[o.get()]&&c.get().each(ne=>{n.data[o.get()].beforeBookmark=ne});const q=FI(e);if(q&&n.data.length>q){for(let ne=0;ne<n.data.length-1;ne++)n.data[ne]=n.data[ne+1];n.data.length--,o.set(n.data.length)}A.bookmark=En(e.selection),o.get()<n.data.length-1&&(n.data.length=o.get()+1),n.data.push(A),o.set(n.data.length-1);const X={level:A,lastLevel:$,originalEvent:p};return o.get()>0?(e.setDirty(!0),e.dispatch("AddUndo",X),e.dispatch("change",X)):e.dispatch("AddUndo",X),A},P4=(e,n,o)=>{n.data=[],o.set(0),n.typing=!1,e.dispatch("ClearUndos")},N4=(e,n,o,a,c)=>{if(n.transact(a)){const m=n.data[o.get()].bookmark,p=n.data[o.get()-1];Bw(e,p,!0),n.transact(c)&&(n.data[o.get()-1].beforeBookmark=m)}},rL=(e,n,o)=>{let a;return n.get()<o.length-1&&(n.set(n.get()+1),a=o[n.get()],Bw(e,a,!1),e.setDirty(!0),e.dispatch("Redo",{level:a})),a},bk=(e,n,o,a)=>{let c;return n.typing&&(n.add(),n.typing=!1,Fw(n,!1,o)),a.get()>0&&(a.set(a.get()-1),c=n.data[a.get()],Bw(e,c,!0),e.setDirty(!0),e.dispatch("Undo",{level:c})),c},iL=e=>{e.clear(),e.add()},aL=(e,n,o)=>o.get()>0||n.typing&&n.data[0]&&!By(My(e),n.data[0]),OV=(e,n)=>n.get()<e.data.length-1&&!e.typing,RV=(e,n,o)=>(I4(e,n),e.beforeChange(),e.ignore(o),e.add()),L4=(e,n)=>{try{e.set(e.get()+1),n()}finally{e.set(e.get()-1)}},lL=(e,n)=>{const o=e.dom,a=we(n)?n:e.getBody();be(o.select("table,a",a),c=>{switch(c.nodeName){case"TABLE":const m=v_(e),p=o.getAttrib(c,"border");(!p||p==="0")&&e.hasVisual?o.addClass(c,m):o.removeClass(c,m);break;case"A":if(!o.getAttrib(c,"href")){const _=o.getAttrib(c,"name")||c.id,A=iy(e);_&&e.hasVisual?o.addClass(c,A):o.removeClass(c,A)}break}}),e.dispatch("VisualAid",{element:n,hasVisual:e.hasVisual})},M4=e=>({init:{bindEvents:St},undoManager:{beforeChange:(n,o)=>TV(e,n,o),add:(n,o,a,c,m,p)=>D4(e,n,o,a,c,m,p),undo:(n,o,a)=>bk(e,n,o,a),redo:(n,o)=>rL(e,n,o),clear:(n,o)=>P4(e,n,o),reset:n=>iL(n),hasUndo:(n,o)=>aL(e,n,o),hasRedo:(n,o)=>OV(n,o),transact:(n,o,a)=>RV(n,o,a),ignore:(n,o)=>L4(n,o),extra:(n,o,a,c)=>N4(e,n,o,a,c)},formatter:{match:(n,o,a,c)=>lb(e,n,o,a,c),matchAll:(n,o)=>KN(e,n,o),matchNode:(n,o,a,c)=>Sg(e,n,o,a,c),canApply:n=>ZN(e,n),closest:n=>jN(e,n),apply:(n,o,a)=>f5(e,n,o,a),remove:(n,o,a,c)=>fb(e,n,o,a,c),toggle:(n,o,a)=>P$(e,n,o,a),formatChanged:(n,o,a,c,m)=>D$(e,n,o,a,c,m)},editor:{getContent:n=>zP(e,n),setContent:(n,o)=>S$(e,n,o),insertContent:(n,o)=>HS(e,n,o),addVisual:n=>lL(e,n)},selection:{getContent:(n,o)=>xV(e,n,o)},autocompleter:{addDecoration:St,removeDecoration:St},raw:{getModel:()=>J.none()}}),IV=e=>{const n=$=>j($)?$:{},{init:o,undoManager:a,formatter:c,editor:m,selection:p,autocompleter:_,raw:A}=e;return{init:{bindEvents:o.bindEvents},undoManager:{beforeChange:a.beforeChange,add:a.add,undo:a.undo,redo:a.redo,clear:a.clear,reset:a.reset,hasUndo:a.hasUndo,hasRedo:a.hasRedo,transact:($,q,X)=>a.transact(X),ignore:($,q)=>a.ignore(q),extra:($,q,X,ne)=>a.extra(X,ne)},formatter:{match:($,q,X,ne)=>c.match($,n(q),ne),matchAll:c.matchAll,matchNode:c.matchNode,canApply:$=>c.canApply($),closest:$=>c.closest($),apply:($,q,X)=>c.apply($,n(q)),remove:($,q,X,ne)=>c.remove($,n(q)),toggle:($,q,X)=>c.toggle($,n(q)),formatChanged:($,q,X,ne,ve)=>c.formatChanged(q,X,ne,ve)},editor:{getContent:$=>m.getContent($),setContent:($,q)=>({content:m.setContent($,q),html:""}),insertContent:($,q)=>(m.insertContent($),""),addVisual:m.addVisual},selection:{getContent:($,q)=>p.getContent(q)},autocompleter:{addDecoration:_.addDecoration,removeDecoration:_.removeDecoration},raw:{getModel:()=>J.some(A.getRawModel())}}},DV=()=>{const e=dt(null),n=dt("");return{init:{bindEvents:St},undoManager:{beforeChange:St,add:e,undo:e,redo:e,clear:St,reset:St,hasUndo:In,hasRedo:In,transact:e,ignore:St,extra:St},formatter:{match:In,matchAll:dt([]),matchNode:dt(void 0),canApply:In,closest:n,apply:St,remove:St,toggle:St,formatChanged:dt({unbind:St})},editor:{getContent:n,setContent:dt({content:"",html:""}),insertContent:dt(""),addVisual:St},selection:{getContent:n},autocompleter:{addDecoration:St,removeDecoration:St},raw:{getModel:dt(J.none())}}},Og=e=>ho(e.plugins,"rtc"),cL=e=>Ds(e.plugins,"rtc").bind(n=>J.from(n.setup)),uL=e=>{const n=e;return cL(e).fold(()=>(n.rtcInstance=M4(e),J.none()),o=>(n.rtcInstance=DV(),J.some(()=>o().then(a=>(n.rtcInstance=IV(a),a.rtc.isRemote)))))},B4=e=>e.rtcInstance?e.rtcInstance:M4(e),_a=e=>{const n=e.rtcInstance;if(n)return n;throw new Error("Failed to get RTC instance not yet initialized.")},Fy=(e,n,o)=>{_a(e).undoManager.beforeChange(n,o)},PV=(e,n,o,a,c,m,p)=>_a(e).undoManager.add(n,o,a,c,m,p),NV=(e,n,o,a)=>_a(e).undoManager.undo(n,o,a),dL=(e,n,o)=>_a(e).undoManager.redo(n,o),fL=(e,n,o)=>{_a(e).undoManager.clear(n,o)},vk=(e,n)=>{_a(e).undoManager.reset(n)},LV=(e,n,o)=>_a(e).undoManager.hasUndo(n,o),MV=(e,n,o)=>_a(e).undoManager.hasRedo(n,o),BV=(e,n,o,a)=>_a(e).undoManager.transact(n,o,a),FV=(e,n,o)=>{_a(e).undoManager.ignore(n,o)},$V=(e,n,o,a,c)=>{_a(e).undoManager.extra(n,o,a,c)},VV=(e,n,o,a,c)=>_a(e).formatter.match(n,o,a,c),zV=(e,n,o)=>_a(e).formatter.matchAll(n,o),HV=(e,n,o,a,c)=>_a(e).formatter.matchNode(n,o,a,c),UV=(e,n)=>_a(e).formatter.canApply(n),WV=(e,n)=>_a(e).formatter.closest(n),sr=(e,n,o,a)=>{_a(e).formatter.apply(n,o,a)},mL=(e,n,o,a,c)=>{_a(e).formatter.remove(n,o,a,c)},F4=(e,n,o,a)=>{_a(e).formatter.toggle(n,o,a)},gL=(e,n,o,a,c,m)=>_a(e).formatter.formatChanged(n,o,a,c,m),hL=(e,n)=>B4(e).editor.getContent(n),$4=(e,n,o)=>B4(e).editor.setContent(n,o),KV=(e,n,o)=>B4(e).editor.insertContent(n,o),jV=(e,n,o)=>_a(e).selection.getContent(n,o),pL=(e,n)=>_a(e).editor.addVisual(n),bL=e=>_a(e).init.bindEvents(),ZV=(e,n={})=>{const o=n.format?n.format:"html";return jV(e,o,n)},w0=e=>e.dom.length===0?(Ps(e),J.none()):J.some(e),GV=(e,n)=>e.filter(o=>Gs.isBookmarkNode(o.dom)).bind(n?qn:Si),$y=(e,n,o,a,c)=>{const m=e.dom,p=n.dom,_=a?m.length:p.length;a?(pw(m,p,c,!1,!a),o.setStart(p,_)):(pw(p,m,c,!1,!a),o.setEnd(p,_))},$w=(e,n,o)=>{ma(e).each(a=>{const c=e.dom;n&&ky(a,kt(c,0),o)?pS(c,0,o):!n&&f0(a,kt(c,c.length),o)&&Fr(c,c.length,o)})},C0=(e,n,o,a,c)=>{e.bind(m=>((a?Fr:pS)(m.dom,a?m.dom.length:0,c),n.filter(ur).map(_=>$y(m,_,o,a,c)))).orThunk(()=>GV(n,a).or(n).filter(ur).map(p=>$w(p,a,c)))},V4=(e,n,o)=>{const a=J.from(n.firstChild).map(Ke.fromDom),c=J.from(n.lastChild).map(Ke.fromDom);e.deleteContents(),e.insertNode(n);const m=a.bind(Si).filter(ur).bind(w0),p=c.bind(qn).filter(ur).bind(w0);C0(m,a,e,!0,o),C0(p,c,e,!1,o),e.collapse(!1)},vL=(e,n)=>({format:"html",...e,set:!0,selection:!0,content:n}),yL=(e,n)=>{if(n.format!=="raw"){const o=e.selection.getRng(),a=e.dom.getParent(o.commonAncestorContainer,e.dom.isBlock),c=a?{context:a.nodeName.toLowerCase()}:{},m=e.parser.parse(n.content,{forced_root_block:!1,...c,...n});return Bh({validate:!1},e.schema).serialize(m)}else return n.content},z4=(e,n,o={})=>{const a=vL(o,n);y4(e,a).each(c=>{const m=yL(e,c),p=e.selection.getRng();V4(p,p.createContextualFragment(m),e.schema),e.selection.setRng(p),hd(e,p),x4(e,m,c)})},H4=(e,n,o)=>{if(ho(e,n)){const a=Ge(e[n],c=>c!==o);a.length===0?delete e[n]:e[n]=a}};var xL=(e,n)=>{let o,a;const c=(_,A)=>yn(A,$=>e.is($,_)),m=_=>e.getParents(_,void 0,e.getRoot()),p=()=>{o={},a={},n.on("NodeChange",_=>{const A=_.element,$=m(A),q={};ds(o,(X,ne)=>{c(ne,$).each(ve=>{a[ne]||(be(X,Oe=>{Oe(!0,{node:ve,selector:ne,parents:$})}),a[ne]=X),q[ne]=X})}),ds(a,(X,ne)=>{q[ne]||(delete a[ne],be(X,ve=>{ve(!1,{node:A,selector:ne,parents:$})}))})})};return{selectorChangedWithUnbind:(_,A)=>(o||p(),o[_]||(o[_]=[]),o[_].push(A),c(_,m(n.selection.getStart())).each(()=>{a[_]=o[_]}),{unbind:()=>{H4(o,_,A),H4(a,_,A)}})}};const U4=e=>!!(e&&e.ownerDocument)&&fa(Ke.fromDom(e.ownerDocument),Ke.fromDom(e)),W4=e=>e?U4(e.startContainer)&&U4(e.endContainer):!1,K4=(e,n,o,a)=>{let c,m;const{selectorChangedWithUnbind:p}=xL(e,a),_=(un,Hn)=>{const Cs=e.createRng();we(un)&&we(Hn)?(Cs.setStart(un,Hn),Cs.setEnd(un,Hn),bt(Cs),Ye(!1)):(F2(e,Cs,a.getBody(),!0),bt(Cs))},A=un=>ZV(a,un),$=(un,Hn)=>z4(a,un,Hn),q=un=>RP(a.getBody(),nt(),un),X=un=>IP(a.getBody(),nt(),un),ne=(un,Hn)=>Ml.getBookmark(un,Hn),ve=un=>Ml.moveToBookmark(un),Oe=(un,Hn)=>(cw(e,un,Hn).each(bt),un),ye=()=>{const un=nt(),Hn=st();return!un||un.item?!1:un.compareEndPoints?un.compareEndPoints("StartToEnd",un)===0:!Hn||un.collapsed},Pe=()=>{const un=nt(),Hn=a.getBody().querySelectorAll('[data-mce-selected="1"]');return Hn.length>0?Do(Hn,Cs=>e.isEditable(Cs.parentElement)):TP(e,un)},Ye=un=>{const Hn=nt();Hn.collapse(!!un),bt(Hn)},st=()=>n.getSelection?n.getSelection():n.document.selection,nt=()=>{let un;const Hn=(gn,eo,jo)=>{try{return eo.compareBoundaryPoints(gn,jo)}catch{return-1}},Cs=n.document;if(we(a.bookmark)&&!vy(a)){const gn=dT(a);if(gn.isSome())return gn.map(eo=>iS(a,[eo])[0]).getOr(Cs.createRange())}try{const gn=st();gn&&!Bf(gn.anchorNode)&&(gn.rangeCount>0?un=gn.getRangeAt(0):un=Cs.createRange(),un=iS(a,[un])[0])}catch{}if(un||(un=Cs.createRange()),$n(un.startContainer)&&un.collapsed){const gn=e.getRoot();un.setStart(gn,0),un.setEnd(gn,0)}return c&&m&&(Hn(un.START_TO_START,un,c)===0&&Hn(un.END_TO_END,un,c)===0?un=m:(c=null,m=null)),un},bt=(un,Hn)=>{if(!W4(un))return;const Cs=st();if(un=a.dispatch("SetSelectionRange",{range:un,forward:Hn}).range,Cs){m=un;try{Cs.removeAllRanges(),Cs.addRange(un)}catch{}Hn===!1&&Cs.extend&&(Cs.collapse(un.endContainer,un.endOffset),Cs.extend(un.startContainer,un.startOffset)),c=Cs.rangeCount>0?Cs.getRangeAt(0):null}if(!un.collapsed&&un.startContainer===un.endContainer&&(Cs!=null&&Cs.setBaseAndExtent)&&un.endOffset-un.startOffset<2&&un.startContainer.hasChildNodes()){const eo=un.startContainer.childNodes[un.startOffset];eo&&eo.nodeName==="IMG"&&(Cs.setBaseAndExtent(un.startContainer,un.startOffset,un.endContainer,un.endOffset),(Cs.anchorNode!==un.startContainer||Cs.focusNode!==un.endContainer)&&Cs.setBaseAndExtent(eo,0,eo,1))}a.dispatch("AfterSetSelectionRange",{range:un,forward:Hn})},Ht=un=>($(e.getOuterHTML(un)),un),tn=()=>F7(a.getBody(),nt()),_n=(un,Hn)=>pT(e,nt(),un,Hn),Dt=()=>{const un=st(),Hn=un==null?void 0:un.anchorNode,Cs=un==null?void 0:un.focusNode;if(!un||!Hn||!Cs||Bf(Hn)||Bf(Cs))return!0;const gn=e.createRng(),eo=e.createRng();try{gn.setStart(Hn,un.anchorOffset),gn.collapse(!0),eo.setStart(Cs,un.focusOffset),eo.collapse(!0)}catch{return!0}return gn.compareBoundaryPoints(gn.START_TO_START,eo)<=0},fi={dom:e,win:n,serializer:o,editor:a,expand:(un={type:"word"})=>bt(Jp(e).expand(nt(),un)),collapse:Ye,setCursorLocation:_,getContent:A,setContent:$,getBookmark:ne,moveToBookmark:ve,select:Oe,isCollapsed:ye,isEditable:Pe,isForward:Dt,setNode:Ht,getNode:tn,getSel:st,setRng:bt,getRng:nt,getStart:q,getEnd:X,getSelectedBlocks:_n,normalize:()=>{const un=nt(),Hn=st();if(!N2(Hn)&&dy(a)){const Cs=bg(e,un);return Cs.each(gn=>{bt(gn,Dt())}),Cs.getOr(un)}return un},selectorChanged:(un,Hn)=>(p(un,Hn),fi),selectorChangedWithUnbind:p,getScrollContainer:()=>{let un,Hn=e.getRoot();for(;Hn&&Hn.nodeName!=="BODY";){if(Hn.scrollHeight>Hn.clientHeight){un=Hn;break}Hn=Hn.parentNode}return un},scrollIntoView:(un,Hn)=>{we(un)?aT(a,un,Hn):hd(a,nt(),Hn)},placeCaretAt:(un,Hn)=>bt(oP(un,Hn,a.getDoc())),getBoundingClientRect:()=>{const un=nt();return un.collapsed?kt.fromRangeStart(un).getClientRects()[0]:un.getBoundingClientRect()},destroy:()=>{n=c=m=null,er.destroy()}},Ml=Gs(fi),er=Hs(fi,a);return fi.bookmarkManager=Ml,fi.controlSelection=er,fi},wL=(e,n,o)=>{n.addNodeFilter("br",(a,c,m)=>{const p=nn.extend({},o.getBlockElements()),_=o.getNonEmptyElements(),A=o.getWhitespaceElements();p.body=1;const $=q=>q.name in p||Tp(o,q);for(let q=0,X=a.length;q<X;q++){let ne=a[q],ve=ne.parent;if(ve&&$(ve)&&ne===ve.lastChild){let Oe=ne.prev;for(;Oe;){const ye=Oe.name;if(ye!=="span"||Oe.attr("data-mce-type")!=="bookmark"){ye==="br"&&(ne=null);break}Oe=Oe.prev}if(ne&&(ne.remove(),Oy(o,_,A,ve))){const ye=o.getElementRule(ve.name);ye&&(ye.removeEmpty?ve.remove():ye.paddEmpty&&DS(e,m,$,ve))}}else{let Oe=ne;for(;ve&&ve.firstChild===Oe&&ve.lastChild===Oe&&(Oe=ve,!p[ve.name]);)ve=ve.parent;if(Oe===ve){const ye=new Ma("#text",3);ye.value=Pi,ne.replace(ye)}}}})},j4=(e,n,o)=>{e.addAttributeFilter("data-mce-tabindex",(a,c)=>{let m=a.length;for(;m--;){const p=a[m];p.attr("tabindex",p.attr("data-mce-tabindex")),p.attr(c,null)}}),e.addAttributeFilter("src,href,style",(a,c)=>{const m="data-mce-"+c,p=n.url_converter,_=n.url_converter_scope;let A=a.length;for(;A--;){const $=a[A];let q=$.attr(m);q!==void 0?($.attr(c,q.length>0?q:null),$.attr(m,null)):(q=$.attr(c),c==="style"?q=o.serializeStyle(o.parseStyle(q),$.name):p&&(q=p.call(_,q,c,$.name)),$.attr(c,q.length>0?q:null))}}),e.addAttributeFilter("class",a=>{let c=a.length;for(;c--;){const m=a[c];let p=m.attr("class");p&&(p=p.replace(/(?:^|\s)mce-item-\w+(?!\S)/g,""),m.attr("class",p.length>0?p:null))}}),e.addAttributeFilter("data-mce-type",(a,c,m)=>{let p=a.length;for(;p--;){const _=a[p];_.attr("data-mce-type")==="bookmark"&&!m.cleanup&&(J.from(_.firstChild).exists($=>{var q;return!Wc((q=$.value)!==null&&q!==void 0?q:"")})?_.unwrap():_.remove())}}),e.addNodeFilter("script,style",(a,c)=>{var m;const p=A=>A.replace(/(<!--\[CDATA\[|\]\]-->)/g,`
`).replace(/^[\r\n]*|[\r\n]*$/g,"").replace(/^\s*((<!--)?(\s*\/\/)?\s*<!\[CDATA\[|(<!--\s*)?\/\*\s*<!\[CDATA\[\s*\*\/|(\/\/)?\s*<!--|\/\*\s*<!--\s*\*\/)\s*[\r\n]*/gi,"").replace(/\s*(\/\*\s*\]\]>\s*\*\/(-->)?|\s*\/\/\s*\]\]>(-->)?|\/\/\s*(-->)?|\]\]>|\/\*\s*-->\s*\*\/|\s*-->\s*)\s*$/g,"");let _=a.length;for(;_--;){const A=a[_],$=A.firstChild,q=(m=$==null?void 0:$.value)!==null&&m!==void 0?m:"";if(c==="script"){const X=A.attr("type");X&&A.attr("type",X==="mce-no/type"?null:X.replace(/^mce\-/,"")),n.element_format==="xhtml"&&$&&q.length>0&&($.value=`// <![CDATA[
`+p(q)+`
// ]]>`)}else n.element_format==="xhtml"&&$&&q.length>0&&($.value=`<!--
`+p(q)+`
-->`)}}),e.addNodeFilter("#comment",a=>{let c=a.length;for(;c--;){const m=a[c],p=m.value;n.preserve_cdata&&(p==null?void 0:p.indexOf("[CDATA["))===0?(m.name="#cdata",m.type=4,m.value=o.decode(p.replace(/^\[CDATA\[|\]\]$/g,""))):(p==null?void 0:p.indexOf("mce:protected "))===0&&(m.name="#text",m.type=3,m.raw=!0,m.value=unescape(p).substr(14))}}),e.addNodeFilter("xml:namespace,input",(a,c)=>{let m=a.length;for(;m--;){const p=a[m];p.type===7?p.remove():p.type===1&&c==="input"&&!p.attr("type")&&p.attr("type","text")}}),e.addAttributeFilter("data-mce-type",a=>{be(a,c=>{c.attr("data-mce-type")==="format-caret"&&(c.isEmpty(e.schema.getNonEmptyElements())?c.remove():c.unwrap())})}),e.addAttributeFilter("data-mce-src,data-mce-href,data-mce-style,data-mce-selected,data-mce-expando,data-mce-block,data-mce-type,data-mce-resize,data-mce-placeholder",(a,c)=>{let m=a.length;for(;m--;)a[m].attr(c,null)}),n.remove_trailing_brs&&wL(n,e,e.schema)},qV=e=>{const n=a=>(a==null?void 0:a.name)==="br",o=e.lastChild;if(n(o)){const a=o.prev;n(a)&&(o.remove(),a.remove())}},CL=(e,n,o)=>{let a;const c=e.dom;let m=n.cloneNode(!0);const p=document.implementation;if(p.createHTMLDocument){const _=p.createHTMLDocument("");nn.each(m.nodeName==="BODY"?m.childNodes:[m],A=>{_.body.appendChild(_.importNode(A,!0))}),m.nodeName!=="BODY"?m=_.body.firstChild:m=_.body,a=c.doc,c.doc=_}return K2(e,{...o,node:m}),a&&(c.doc=a),m},_L=(e,n)=>we(e)&&e.hasEventListeners("PreProcess")&&!n.no_events,SL=(e,n,o)=>_L(e,o)?CL(e,n,o):n,YV=(e,n,o)=>{nn.inArray(n,o)===-1&&(e.addAttributeFilter(o,(a,c)=>{let m=a.length;for(;m--;)a[m].attr(c,null)}),n.push(o))},XV=(e,n,o)=>!n.no_events&&e?j2(e,{...n,content:o}).content:o,yk=(e,n,o)=>{const a=Il(o.getInner?n.innerHTML:e.getOuterHTML(n));return o.selection||Rv(Ke.fromDom(n))?a:nn.trim(a)},kL=(e,n,o)=>{const a=o.selection?{forced_root_block:!1,...o}:o,c=e.parse(n,a);return qV(c),c},EL=(e,n,o)=>Bh(e,n).serialize(o),AL=(e,n,o,a,c)=>{const m=EL(n,o,a);return XV(e,c,m)},JV=(e,n)=>{const o=["data-mce-selected"],a={entity_encoding:"named",remove_trailing_brs:!0,pad_empty_with_br:!1,...e},c=n&&n.dom?n.dom:Js.DOM,m=n&&n.schema?n.schema:Vc(a),p=Ly(a,m);j4(p,a,c);const _=(A,$={})=>{const q={format:"html",...$},X=SL(n,A,q),ne=yk(c,X,q),ve=kL(p,ne,q);return q.format==="tree"?ve:AL(n,a,m,ve,q)};return{schema:m,addNodeFilter:p.addNodeFilter,addAttributeFilter:p.addAttributeFilter,serialize:_,addRules:m.addValidElements,setRules:m.setValidElements,addTempAttr:et(YV,p,o),getTempAttrs:dt(o),getNodeFilters:p.getNodeFilters,getAttributeFilters:p.getAttributeFilters,removeNodeFilter:p.removeNodeFilter,removeAttributeFilter:p.removeAttributeFilter}},TL=(e,n)=>{const o=JV(e,n);return{schema:o.schema,addNodeFilter:o.addNodeFilter,addAttributeFilter:o.addAttributeFilter,serialize:o.serialize,addRules:o.addRules,setRules:o.setRules,addTempAttr:o.addTempAttr,getTempAttrs:o.getTempAttrs,getNodeFilters:o.getNodeFilters,getAttributeFilters:o.getAttributeFilters,removeNodeFilter:o.removeNodeFilter,removeAttributeFilter:o.removeAttributeFilter}},QV="html",ez=(e,n)=>({...e,format:n,get:!0,getInner:!0}),OL=(e,n={})=>{const o=n.format?n.format:QV,a=ez(n,o);return j5(e,a).fold(An,c=>{const m=hL(e,c);return gf(e,m,c)})},RL="html",IL=(e,n)=>({format:RL,...e,set:!0,content:n}),Z4=(e,n,o={})=>{const a=IL(o,n);return y4(e,a).map(c=>{const m=$4(e,c.content,c);return x4(e,m.html,c),m.content}).getOr(n)},tz="autoresize_on_init,content_editable_state,padd_empty_with_br,block_elements,boolean_attributes,editor_deselector,editor_selector,elements,file_browser_callback_types,filepicker_validator_handler,force_hex_style_colors,force_p_newlines,gecko_spellcheck,images_dataimg_filter,media_scripts,mode,move_caret_before_on_enter_elements,non_empty_elements,self_closing_elements,short_ended_elements,special,spellchecker_select_languages,spellchecker_whitelist,tab_focus,tabfocus_elements,table_responsive_width,text_block_elements,text_inline_elements,toolbar_drawer,types,validate,whitespace_elements,paste_enable_default_filters,paste_filter_drop,paste_word_valid_elements,paste_retain_style_properties,paste_convert_word_fake_lists,template_cdate_classes,template_mdate_classes,template_selected_content_classes,template_preview_replace_values,template_replace_values,templates,template_cdate_format,template_mdate_format".split(","),nz=[],oz="bbcode,colorpicker,contextmenu,fullpage,legacyoutput,spellchecker,template,textcolor,rtc".split(","),Vw=[],G4=(e,n)=>{const o=Ge(n,a=>ho(e,a));return xs(o)},sz=e=>{const n=G4(e,tz),o=e.forced_root_block;return(o===!1||o==="")&&n.push("forced_root_block (false only)"),xs(n)},DL=e=>G4(e,nz),q4=(e,n)=>{const o=nn.makeMap(e.plugins," "),c=Ge(n,m=>ho(o,m));return xs(c)},Y4=e=>q4(e,oz),PL=e=>q4(e,Vw.map(n=>n.name)),NL=(e,n)=>{const o=sz(e),a=Y4(n),c=a.length>0,m=o.length>0,p=n.theme==="mobile";if(c||m||p){const _=`
- `,A=p?`

Themes:${_}mobile`:"",$=c?`

Plugins:${_}${a.join(_)}`:"",q=m?`

Options:${_}${o.join(_)}`:"";console.warn("The following deprecated features are currently enabled and have been removed in TinyMCE 7.0. These features will no longer work and should be removed from the TinyMCE configuration. See https://www.tiny.cloud/docs/tinymce/7/migration-from-6x/ for more information."+A+$+q)}},LL=e=>yn(Vw,n=>n.name===e).fold(()=>e,n=>n.replacedWith?`${e}, replaced by ${n.replacedWith}`:e),rz=(e,n)=>{const o=DL(e),a=PL(n),c=a.length>0,m=o.length>0;if(c||m){const p=`
- `,_=c?`

Plugins:${p}${a.map(LL).join(p)}`:"",A=m?`

Options:${p}${o.join(p)}`:"";console.warn("The following deprecated features are currently enabled but will be removed soon."+_+A)}},iz=(e,n)=>{NL(e,n),rz(e,n)},hb=Js.DOM,az=e=>{hb.setStyle(e.id,"display",e.orgDisplay)},zw=e=>J.from(e).each(n=>n.destroy()),xk=e=>{const n=e;n.contentAreaContainer=n.formElement=n.container=n.editorContainer=null,n.bodyElement=n.contentDocument=n.contentWindow=null,n.iframeElement=n.targetElm=null;const o=e.selection;if(o){const a=o.dom;n.selection=o.win=o.dom=a.doc=null}},ML=e=>{const n=e.formElement;n&&(n._mceOldSubmit&&(n.submit=n._mceOldSubmit,delete n._mceOldSubmit),hb.unbind(n,"submit reset",e.formEventDelegate))},BL=e=>{if(!e.removed){const{_selectionOverrides:n,editorUpload:o}=e,a=e.getBody(),c=e.getElement();a&&e.save({is_removing:!0}),e.removed=!0,e.unbindAllNativeEvents(),e.hasHiddenInput&&we(c==null?void 0:c.nextSibling)&&hb.remove(c.nextSibling),Z2(e),e.editorManager.remove(e),!e.inline&&a&&az(e),G2(e),hb.remove(e.getContainer()),zw(n),zw(o),e.destroy()}},lz=(e,n)=>{const{selection:o,dom:a}=e;if(!e.destroyed){if(!n&&!e.removed){e.remove();return}n||(e.editorManager.off("beforeunload",e._beforeUnload),e.theme&&e.theme.destroy&&e.theme.destroy(),zw(o),zw(a)),ML(e),xk(e),e.destroyed=!0}},Hw=(()=>{const e={};return{add:(c,m)=>{e[c]=m},get:c=>e[c]?e[c]:{icons:{}},has:c=>ho(e,c)}})(),pb=fl.ModelManager,Uw=(e,n)=>n.dom[e],X4=(e,n)=>parseInt(zr(n,e),10),J4=et(Uw,"clientWidth"),FL=et(Uw,"clientHeight"),cz=et(X4,"margin-top"),$L=et(X4,"margin-left"),uz=e=>e.dom.getBoundingClientRect(),VL=(e,n,o)=>{const a=J4(e),c=FL(e);return n>=0&&o>=0&&n<=a&&o<=c},zL=(e,n,o,a)=>{const c=uz(n),m=e?c.left+n.dom.clientLeft+$L(n):0,p=e?c.top+n.dom.clientTop+cz(n):0,_=o-m,A=a-p;return{x:_,y:A}},dz=(e,n,o)=>{const a=Ke.fromDom(e.getBody()),c=e.inline?a:Ju(a),m=zL(e.inline,c,n,o);return VL(c,m.x,m.y)},HL=e=>J.from(e).map(Ke.fromDom),Q4=e=>{const n=e.inline?e.getBody():e.getContentAreaContainer();return HL(n).map(Ha).getOr(!1)};var UL=()=>{const e=()=>{throw new Error("Theme did not provide a NotificationManager implementation.")};return{open:e,close:e,getArgs:e}};const eO=e=>{const n=[],o=()=>{const ne=e.theme;return ne&&ne.getNotificationManagerImpl?ne.getNotificationManagerImpl():UL()},a=()=>J.from(n[0]),c=(ne,ve)=>ne.type===ve.type&&ne.text===ve.text&&!ne.progressBar&&!ne.timeout&&!ve.progressBar&&!ve.timeout,m=()=>{a().each(ne=>{ne.reposition()})},p=ne=>{n.push(ne)},_=ne=>{Yn(n,ve=>ve===ne).each(ve=>{n.splice(ve,1)})},A=(ne,ve=!0)=>e.removed||!Q4(e)?{}:(ve&&e.dispatch("BeforeOpenNotification",{notification:ne}),yn(n,Oe=>c(o().getArgs(Oe),ne)).getOrThunk(()=>{e.editorManager.setActive(e);const Oe=o().open(ne,()=>{_(Oe)},()=>i0(e));return p(Oe),m(),e.dispatch("OpenNotification",{notification:{...Oe}}),Oe})),$=()=>{a().each(ne=>{o().close(ne),_(ne),m()})},q=dt(n);return(ne=>{ne.on("SkinLoaded",()=>{const ve=y8(ne);ve&&A({text:ve,type:"warning",timeout:0},!1),m()}),ne.on("show ResizeEditor ResizeWindow NodeChange ToggleView FullscreenStateChanged",()=>{requestAnimationFrame(m)}),ne.on("remove",()=>{be(n.slice(),ve=>{o().close(ve)})}),ne.addShortcut("alt+F12","Focus to notification",()=>a().map(ve=>Ke.fromDom(ve.getEl())).each(ve=>lT(ve)))})(e),{open:A,close:$,getNotifications:q}},_0=fl.PluginManager,bb=fl.ThemeManager;var fz=()=>{const e=()=>{throw new Error("Theme did not provide a WindowManager implementation.")};return{open:e,openUrl:e,alert:e,confirm:e,close:e}};const WL=e=>{let n=[];const o=()=>{const ye=e.theme;return ye&&ye.getWindowManagerImpl?ye.getWindowManagerImpl():fz()},a=(ye,Pe)=>(...Ye)=>Pe?Pe.apply(ye,Ye):void 0,c=ye=>{e.dispatch("OpenWindow",{dialog:ye})},m=ye=>{e.dispatch("CloseWindow",{dialog:ye})},p=ye=>{n.push(ye),c(ye)},_=ye=>{m(ye),n=Ge(n,Pe=>Pe!==ye),n.length===0&&e.focus()},A=()=>J.from(n[n.length-1]),$=ye=>{e.editorManager.setActive(e),by(e),e.ui.show();const Pe=ye();return p(Pe),Pe},q=(ye,Pe)=>$(()=>o().open(ye,Pe,_)),X=ye=>$(()=>o().openUrl(ye,_)),ne=(ye,Pe,Ye)=>{const st=o();st.alert(ye,a(Ye||st,Pe))},ve=(ye,Pe,Ye)=>{const st=o();st.confirm(ye,a(Ye||st,Pe))},Oe=()=>{A().each(ye=>{o().close(ye),_(ye)})};return e.on("remove",()=>{be(n,ye=>{o().close(ye)})}),{open:q,openUrl:X,alert:ne,confirm:ve,close:Oe}},wk=(e,n)=>{e.notificationManager.open({type:"error",text:n})},Ck=(e,n)=>{e._skinLoaded?wk(e,n):e.on("SkinLoaded",()=>{wk(e,n)})},KL=(e,n)=>{Ck(e,zc.translate(["Failed to upload image: {0}",n]))},Vy=(e,n,o)=>{ZA(e,n,{message:o}),console.error(o)},S0=(e,n,o)=>o?`Failed to load ${e}: ${o} from url ${n}`:`Failed to load ${e} url: ${n}`,tO=(e,n,o)=>{Vy(e,"PluginLoadError",S0("plugin",n,o))},nO=(e,n,o)=>{Vy(e,"IconsLoadError",S0("icons",n,o))},mz=(e,n,o)=>{Vy(e,"LanguageLoadError",S0("language",n,o))},jL=(e,n,o)=>{Vy(e,"ThemeLoadError",S0("theme",n,o))},gz=(e,n,o)=>{Vy(e,"ModelLoadError",S0("model",n,o))},hz=(e,n,o)=>{const a=zc.translate(["Failed to initialize plugin: {0}",n]);ZA(e,"PluginLoadError",{message:a}),Ww(a,o),Ck(e,a)},Ww=(e,...n)=>{const o=window.console;o&&(o.error?o.error(e,...n):o.log(e,...n))},oO=e=>/^[a-z0-9\-]+$/i.test(e),sO=e=>"content/"+e+"/content.css",_k=e=>tinymce.Resource.has(sO(e)),pz=e=>ZL(e,Ul(e)),bz=e=>ZL(e,RI(e)),ZL=(e,n)=>{const o=e.editorManager.baseURL+"/skins/content",c=`content${e.editorManager.suffix}.css`;return Ve(n,m=>_k(m)?m:oO(m)&&!e.inline?`${o}/${m}/${c}`:e.documentBaseURI.toAbsolute(m))},GL=e=>{e.contentCSS=e.contentCSS.concat(pz(e),bz(e))},qL=e=>e?Ro(e.getElementsByTagName("img")):[],vz=(e,n)=>{const o={};return{findAll:(c,m=on)=>{const p=Ge(qL(c),A=>{const $=A.src;return A.hasAttribute("data-mce-bogus")||A.hasAttribute("data-mce-placeholder")||!$||$===Uo.transparentSrc?!1:cr($,"blob:")?!e.isUploaded($)&&m(A):cr($,"data:")?m(A):!1}),_=Ve(p,A=>{const $=A.src;if(ho(o,$))return o[$].then(q=>ue(q)?q:{image:A,blobInfo:q.blobInfo});{const q=X3(n,$).then(X=>(delete o[$],{image:A,blobInfo:X})).catch(X=>(delete o[$],X));return o[$]=q,q}});return Promise.all(_)}}},rO=()=>{let o={};const a=(ne,ve)=>({status:ne,resultUri:ve}),c=ne=>ne in o;return{hasBlobUri:c,getResultUri:ne=>{const ve=o[ne];return ve?ve.resultUri:null},isPending:ne=>c(ne)?o[ne].status===1:!1,isUploaded:ne=>c(ne)?o[ne].status===2:!1,markPending:ne=>{o[ne]=a(1,null)},markUploaded:(ne,ve)=>{o[ne]=a(2,ve)},removeFailed:ne=>{delete o[ne]},destroy:()=>{o={}}}};let Kw=0;const YL=()=>{const e=()=>Math.round(Rl()*4294967295).toString(36);return"s"+new Date().getTime().toString(36)+e()+e()+e()},yz=e=>e+Kw+++YL(),XL=()=>{let e=[];const n=X=>({"image/jpeg":"jpg","image/jpg":"jpg","image/gif":"gif","image/png":"png","image/apng":"apng","image/avif":"avif","image/svg+xml":"svg","image/webp":"webp","image/bmp":"bmp","image/tiff":"tiff"})[X.toLowerCase()]||"dat",o=(X,ne,ve,Oe,ye)=>{if(ue(X))return a({id:X,name:Oe,filename:ye,blob:ne,base64:ve});if(j(X))return a(X);throw new Error("Unknown input type")},a=X=>{if(!X.blob||!X.base64)throw new Error("blob and base64 representations of the image are required for BlobInfo to be created");const ne=X.id||yz("blobid"),ve=X.name||ne,Oe=X.blob;return{id:dt(ne),name:dt(ve),filename:dt(X.filename||ve+"."+n(Oe.type)),blob:dt(Oe),base64:dt(X.base64),blobUri:dt(X.blobUri||URL.createObjectURL(Oe)),uri:dt(X.uri)}},c=X=>{p(X.id())||e.push(X)},m=X=>yn(e,X).getOrUndefined(),p=X=>m(ne=>ne.id()===X);return{create:o,add:c,get:p,getByUri:X=>m(ne=>ne.blobUri()===X),getByData:(X,ne)=>m(ve=>ve.base64()===X&&ve.blob().type===ne),findFirst:m,removeByUri:X=>{e=Ge(e,ne=>ne.blobUri()===X?(URL.revokeObjectURL(ne.blobUri()),!1):!0)},destroy:()=>{be(e,X=>{URL.revokeObjectURL(X.blobUri())}),e=[]}}},JL=(e,n)=>{const o={},a=(ye,Pe)=>ye?ye.replace(/\/$/,"")+"/"+Pe.replace(/^\//,""):Pe,c=(ye,Pe)=>new Promise((Ye,st)=>{const nt=new XMLHttpRequest;nt.open("POST",n.url),nt.withCredentials=n.credentials,nt.upload.onprogress=Ht=>{Pe(Ht.loaded/Ht.total*100)},nt.onerror=()=>{st("Image upload failed due to a XHR Transport error. Code: "+nt.status)},nt.onload=()=>{if(nt.status<200||nt.status>=300){st("HTTP Error: "+nt.status);return}const Ht=JSON.parse(nt.responseText);if(!Ht||!ue(Ht.location)){st("Invalid JSON: "+nt.responseText);return}Ye(a(n.basePath,Ht.location))};const bt=new FormData;bt.append("file",ye.blob(),ye.filename()),nt.send(bt)}),m=_e(n.handler)?n.handler:c,p=()=>new Promise(ye=>{ye([])}),_=(ye,Pe)=>({url:Pe,blobInfo:ye,status:!0}),A=(ye,Pe)=>({url:"",blobInfo:ye,status:!1,error:Pe}),$=(ye,Pe)=>{nn.each(o[ye],Ye=>{Ye(Pe)}),delete o[ye]},q=(ye,Pe,Ye)=>(e.markPending(ye.blobUri()),new Promise(st=>{let nt,bt;try{const Ht=()=>{nt&&(nt.close(),bt=St)},tn=Dt=>{Ht(),e.markUploaded(ye.blobUri(),Dt),$(ye.blobUri(),_(ye,Dt)),st(_(ye,Dt))},_n=Dt=>{Ht(),e.removeFailed(ye.blobUri()),$(ye.blobUri(),A(ye,Dt)),st(A(ye,Dt))};bt=Dt=>{Dt<0||Dt>100||J.from(nt).orThunk(()=>J.from(Ye).map(vo)).each(Ct=>{nt=Ct,Ct.progressBar.value(Dt)})},Pe(ye,bt).then(tn,Dt=>{_n(ue(Dt)?{message:Dt}:Dt)})}catch(Ht){st(A(ye,Ht))}})),X=ye=>ye===c,ne=ye=>{const Pe=ye.blobUri();return new Promise(Ye=>{o[Pe]=o[Pe]||[],o[Pe].push(Ye)})},ve=(ye,Pe)=>(ye=nn.grep(ye,Ye=>!e.isUploaded(Ye.blobUri())),Promise.all(nn.map(ye,Ye=>e.isPending(Ye.blobUri())?ne(Ye):q(Ye,m,Pe))));return{upload:(ye,Pe)=>!n.url&&X(m)?p():ve(ye,Pe)}},QL=e=>()=>e.notificationManager.open({text:e.translate("Image uploading..."),type:"info",timeout:-1,progressBar:!0}),eM=(e,n)=>JL(n,{url:cA(e),basePath:AI(e),credentials:uA(e),handler:p8(e)}),xz=e=>{const n=rO(),o=eM(e,n);return{upload:(a,c=!0)=>o.upload(a,c?QL(e):void 0)}},wz=(e,n)=>e.dom.isEmpty(n.dom)&&we(e.schema.getTextBlockElements()[ts(n)]),tM=e=>n=>{wz(e,n)&&Hr(n,Ke.fromHtml('<br data-mce-bogus="1" />'))},iO=e=>{const n=XL();let o,a;const c=rO(),m=[],p=nt=>bt=>e.selection?nt(bt):[],_=nt=>nt+(nt.indexOf("?")===-1?"?":"&")+new Date().getTime(),A=(nt,bt,Ht)=>{let tn=0;do tn=nt.indexOf(bt,tn),tn!==-1&&(nt=nt.substring(0,tn)+Ht+nt.substr(tn+bt.length),tn+=Ht.length-bt.length+1);while(tn!==-1);return nt},$=(nt,bt,Ht)=>{const tn=`src="${Ht}"${Ht===Uo.transparentSrc?' data-mce-placeholder="1"':""}`;return nt=A(nt,`src="${bt}"`,tn),nt=A(nt,'data-mce-src="'+bt+'"','data-mce-src="'+Ht+'"'),nt},q=(nt,bt)=>{be(e.undoManager.data,Ht=>{Ht.type==="fragmented"?Ht.fragments=Ve(Ht.fragments,tn=>$(tn,nt,bt)):Ht.content=$(Ht.content,nt,bt)})},X=(nt,bt)=>{const Ht=e.convertURL(bt,"src");q(nt.src,bt),Va(Ke.fromDom(nt),{src:Rh(e)?_(bt):bt,"data-mce-src":Ht})},ne=()=>(o||(o=eM(e,c)),Pe().then(p(nt=>{const bt=Ve(nt,Ht=>Ht.blobInfo);return o.upload(bt,QL(e)).then(p(Ht=>{const tn=[];let _n=!1;const Dt=Ve(Ht,(Ct,Vt)=>{const{blobInfo:Dn,image:Wn}=nt[Vt];let Vo=!1;return Ct.status&&kI(e)?(Ct.url&&!Ms(Wn.src,Ct.url)&&(_n=!0),n.removeByUri(Wn.src),Og(e)||X(Wn,Ct.url)):Ct.error&&(Ct.error.remove&&(q(Wn.src,Uo.transparentSrc),tn.push(Wn),Vo=!0),KL(e,Ct.error.message)),{element:Wn,status:Ct.status,uploadUri:Ct.url,blobInfo:Dn,removed:Vo}});return tn.length>0&&!Og(e)?e.undoManager.transact(()=>{be(gu(tn),Ct=>{const Vt=ma(Ct);Ps(Ct),Vt.each(tM(e)),n.removeByUri(Ct.dom.src)})}):_n&&e.undoManager.dispatchChange(),Dt}))}))),ve=()=>Qs(e)?ne():Promise.resolve([]),Oe=nt=>Do(m,bt=>bt(nt)),ye=nt=>{m.push(nt)},Pe=()=>(a||(a=vz(c,n)),a.findAll(e.getBody(),Oe).then(p(nt=>{const bt=Ge(nt,Ht=>ue(Ht)?(Ck(e,Ht),!1):Ht.uriType!=="blob");return Og(e)||be(bt,Ht=>{q(Ht.image.src,Ht.blobInfo.blobUri()),Ht.image.src=Ht.blobInfo.blobUri(),Ht.image.removeAttribute("data-mce-src")}),bt}))),Ye=()=>{n.destroy(),c.destroy(),a=o=null},st=nt=>nt.replace(/src="(blob:[^"]+)"/g,(bt,Ht)=>{const tn=c.getResultUri(Ht);if(tn)return'src="'+tn+'"';let _n=n.getByUri(Ht);return _n||(_n=ln(e.editorManager.get(),(Dt,Ct)=>Dt||Ct.editorUpload&&Ct.editorUpload.blobCache.getByUri(Ht),void 0)),_n?'src="data:'+_n.blob().type+";base64,"+_n.base64()+'"':bt});return e.on("SetContent",()=>{Qs(e)?ve():Pe()}),e.on("RawSaveContent",nt=>{nt.content=st(nt.content)}),e.on("GetContent",nt=>{nt.source_view||nt.format==="raw"||nt.format==="tree"||(nt.content=st(nt.content))}),e.on("PostRender",()=>{e.parser.addNodeFilter("img",nt=>{be(nt,bt=>{const Ht=bt.attr("src");if(!Ht||n.getByUri(Ht))return;const tn=c.getResultUri(Ht);tn&&bt.attr("src",tn)})})}),{blobCache:n,addFilter:ye,uploadImages:ne,uploadImagesAuto:ve,scanForImages:Pe,destroy:Ye}},nM=e=>{const n=e.dom,o=e.schema.type,a={valigntop:[{selector:"td,th",styles:{verticalAlign:"top"}}],valignmiddle:[{selector:"td,th",styles:{verticalAlign:"middle"}}],valignbottom:[{selector:"td,th",styles:{verticalAlign:"bottom"}}],alignleft:[{selector:"figure.image",collapsed:!1,classes:"align-left",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"left"},inherit:!1,preview:!1},{selector:"img,audio,video",collapsed:!1,styles:{float:"left"},preview:"font-family font-size"},{selector:"table",collapsed:!1,styles:{marginLeft:"0px",marginRight:"auto"},onformat:c=>{n.setStyle(c,"float",null)},preview:"font-family font-size"},{selector:".mce-preview-object,[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{float:"left"}}],aligncenter:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"center"},inherit:!1,preview:"font-family font-size"},{selector:"figure.image",collapsed:!1,classes:"align-center",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"img,audio,video",collapsed:!1,styles:{display:"block",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"table",collapsed:!1,styles:{marginLeft:"auto",marginRight:"auto"},preview:"font-family font-size"},{selector:".mce-preview-object",ceFalseOverride:!0,styles:{display:"table",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{marginLeft:"auto",marginRight:"auto"},preview:!1}],alignright:[{selector:"figure.image",collapsed:!1,classes:"align-right",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"right"},inherit:!1,preview:"font-family font-size"},{selector:"img,audio,video",collapsed:!1,styles:{float:"right"},preview:"font-family font-size"},{selector:"table",collapsed:!1,styles:{marginRight:"0px",marginLeft:"auto"},onformat:c=>{n.setStyle(c,"float",null)},preview:"font-family font-size"},{selector:".mce-preview-object,[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{float:"right"},preview:!1}],alignjustify:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"justify"},inherit:!1,preview:"font-family font-size"}],bold:[{inline:"strong",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontWeight:"bold"}},{inline:"b",remove:"all",preserve_attributes:["class","style"]}],italic:[{inline:"em",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontStyle:"italic"}},{inline:"i",remove:"all",preserve_attributes:["class","style"]}],underline:[{inline:"span",styles:{textDecoration:"underline"},exact:!0},{inline:"u",remove:"all",preserve_attributes:["class","style"]}],strikethrough:(()=>{const c={inline:"span",styles:{textDecoration:"line-through"},exact:!0},m={inline:"strike",remove:"all",preserve_attributes:["class","style"]},p={inline:"s",remove:"all",preserve_attributes:["class","style"]};return o!=="html4"?[p,c,m]:[c,p,m]})(),forecolor:{inline:"span",styles:{color:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},hilitecolor:{inline:"span",styles:{backgroundColor:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},fontname:{inline:"span",toggle:!1,styles:{fontFamily:"%value"},clear_child_styles:!0},fontsize:{inline:"span",toggle:!1,styles:{fontSize:"%value"},clear_child_styles:!0},lineheight:{selector:"h1,h2,h3,h4,h5,h6,p,li,td,th,div",styles:{lineHeight:"%value"}},fontsize_class:{inline:"span",attributes:{class:"%value"}},blockquote:{block:"blockquote",wrapper:!0,remove:"all"},subscript:{inline:"sub"},superscript:{inline:"sup"},code:{inline:"code"},link:{inline:"a",selector:"a",remove:"all",split:!0,deep:!0,onmatch:(c,m,p)=>Nn(c)&&c.hasAttribute("href"),onformat:(c,m,p)=>{nn.each(p,(_,A)=>{n.setAttrib(c,A,_)})}},lang:{inline:"span",clear_child_styles:!0,remove_similar:!0,attributes:{lang:"%value","data-mce-lang":c=>{var m;return(m=c==null?void 0:c.customValue)!==null&&m!==void 0?m:null}}},removeformat:[{selector:"b,strong,em,i,font,u,strike,s,sub,sup,dfn,code,samp,kbd,var,cite,mark,q,del,ins,small",remove:"all",split:!0,expand:!1,block_expand:!0,deep:!0},{selector:"span",attributes:["style","class"],remove:"empty",split:!0,expand:!1,deep:!0},{selector:"*",attributes:["style","class"],split:!1,expand:!1,deep:!0}]};return nn.each("p h1 h2 h3 h4 h5 h6 div address pre dt dd samp".split(/\s/),c=>{a[c]={block:c,remove:"all"}}),a},aO={remove_similar:!0,inherit:!1},k0={selector:"td,th",...aO},oM={tablecellbackgroundcolor:{styles:{backgroundColor:"%value"},...k0},tablecellverticalalign:{styles:{"vertical-align":"%value"},...k0},tablecellbordercolor:{styles:{borderColor:"%value"},...k0},tablecellclass:{classes:["%value"],...k0},tableclass:{selector:"table",classes:["%value"],...aO},tablecellborderstyle:{styles:{borderStyle:"%value"},...k0},tablecellborderwidth:{styles:{borderWidth:"%value"},...k0}},Cz=dt(oM),lO=e=>{const n={},o=p=>we(p)?n[p]:n,a=p=>ho(n,p),c=(p,_)=>{p&&(ue(p)?(te(_)||(_=[_]),be(_,A=>{Je(A.deep)&&(A.deep=!Zc(A)),Je(A.split)&&(A.split=!Zc(A)||wa(A)),Je(A.remove)&&Zc(A)&&!wa(A)&&(A.remove="none"),Zc(A)&&wa(A)&&(A.mixed=!0,A.block_expand=!0),ue(A.classes)&&(A.classes=A.classes.split(/\s+/))}),n[p]=_):ds(p,(A,$)=>{c($,A)}))},m=p=>(p&&n[p]&&delete n[p],n);return c(nM(e)),c(Cz()),c(w8(e)),{get:o,has:a,register:c,unregister:m}},E0=nn.each,vc=Js.DOM,mm=e=>we(e)&&j(e),jw=(e,n)=>{const o=n&&n.schema||Vc({}),a=(A,$)=>{$.classes.length>0&&vc.addClass(A,$.classes.join(" ")),vc.setAttribs(A,$.attrs)},c=A=>{const $=ue(A)?{name:A,classes:[],attrs:{}}:A,q=vc.create($.name);return a(q,$),q},m=(A,$)=>{const q=o.getElementRule(A.nodeName.toLowerCase()),X=q==null?void 0:q.parentsRequired;return X&&X.length?$&&xe(X,$)?$:X[0]:!1},p=(A,$,q)=>{let X;const ne=$[0],ve=mm(ne)?ne.name:void 0,Oe=m(A,ve);if(Oe)ve===Oe?(X=ne,$=$.slice(1)):X=Oe;else if(ne)X=ne,$=$.slice(1);else if(!q)return A;const ye=X?c(X):vc.create("div");ye.appendChild(A),q&&nn.each(q,Ye=>{const st=c(Ye);ye.insertBefore(st,A)});const Pe=mm(X)?X.siblings:void 0;return p(ye,$,Pe)},_=vc.create("div");if(e.length>0){const A=e[0],$=c(A),q=mm(A)?A.siblings:void 0;_.appendChild(p($,e.slice(1),q))}return _},zy=e=>{e=nn.trim(e);let n="div";const o={name:n,classes:[],attrs:{},selector:e};return e!=="*"&&(n=e.replace(/(?:([#\.]|::?)([\w\-]+)|(\[)([^\]]+)\]?)/g,(a,c,m,p,_)=>{switch(c){case"#":o.attrs.id=m;break;case".":o.classes.push(m);break;case":":nn.inArray("checked disabled enabled read-only required".split(" "),m)!==-1&&(o.attrs[m]=m);break}if(p==="["){const A=_.match(/([\w\-]+)(?:\=\"([^\"]+))?/);A&&(o.attrs[A[1]]=A[2])}return""})),o.name=n||"div",o},sM=e=>ue(e)?(e=e.split(/\s*,\s*/)[0],e=e.replace(/\s*(~\+|~|\+|>)\s*/g,"$1"),nn.map(e.split(/(?:>|\s+(?![^\[\]]+\]))/),n=>{const o=nn.map(n.split(/(?:~\+|~|\+)/),zy),a=o.pop();return o.length&&(a.siblings=o),a}).reverse()):[],rM=(e,n)=>{let o="",a=C8(e);if(a==="")return"";const c=ne=>ue(ne)?ne.replace(/%(\w+)/g,""):"",m=(ne,ve)=>vc.getStyle(ve??e.getBody(),ne,!0);if(ue(n)){const ne=e.formatter.get(n);if(!ne)return"";n=ne[0]}if("preview"in n){const ne=n.preview;if(ne===!1)return"";a=ne||a}let p=n.block||n.inline||"span",_;const A=sM(n.selector);A.length>0?(A[0].name||(A[0].name=p),p=n.selector,_=jw(A,e)):_=jw([p],e);const $=vc.select(p,_)[0]||_.firstChild;E0(n.styles,(ne,ve)=>{const Oe=c(ne);Oe&&vc.setStyle($,ve,Oe)}),E0(n.attributes,(ne,ve)=>{const Oe=c(ne);Oe&&vc.setAttrib($,ve,Oe)}),E0(n.classes,ne=>{const ve=c(ne);vc.hasClass($,ve)||vc.addClass($,ve)}),e.dispatch("PreviewFormats"),vc.setStyles(_,{position:"absolute",left:-65535}),e.getBody().appendChild(_);const q=m("fontSize"),X=/px$/.test(q)?parseInt(q,10):0;return E0(a.split(" "),ne=>{let ve=m(ne,$);if(!(ne==="background-color"&&/transparent|rgba\s*\([^)]+,\s*0\)/.test(ve)&&(ve=m(ne),pv(ve).toLowerCase()==="#ffffff"))&&!(ne==="color"&&pv(ve).toLowerCase()==="#000000")){if(ne==="font-size"&&/em|%$/.test(ve)){if(X===0)return;ve=parseFloat(ve)/(/%$/.test(ve)?100:1)*X+"px"}ne==="border"&&ve&&(o+="padding:0 2px;"),o+=ne+":"+ve+";"}}),e.dispatch("AfterPreviewFormats"),vc.remove(_),o},cO=e=>{e.addShortcut("meta+b","","Bold"),e.addShortcut("meta+i","","Italic"),e.addShortcut("meta+u","","Underline");for(let n=1;n<=6;n++)e.addShortcut("access+"+n,"",["FormatBlock",!1,"h"+n]);e.addShortcut("access+7","",["FormatBlock",!1,"p"]),e.addShortcut("access+8","",["FormatBlock",!1,"div"]),e.addShortcut("access+9","",["FormatBlock",!1,"address"])},Zw=e=>{const n=lO(e),o=Ni({});return cO(e),YN(e),Og(e)||m5(o,e),{get:n.get,has:n.has,register:n.register,unregister:n.unregister,apply:(a,c,m)=>{sr(e,a,c,m)},remove:(a,c,m,p)=>{mL(e,a,c,m,p)},toggle:(a,c,m)=>{F4(e,a,c,m)},match:(a,c,m,p)=>VV(e,a,c,m,p),closest:a=>WV(e,a),matchAll:(a,c)=>zV(e,a,c),matchNode:(a,c,m,p)=>HV(e,a,c,m,p),canApply:a=>UV(e,a),formatChanged:(a,c,m,p)=>gL(e,o,a,c,m,p),getCssText:et(rM,e)}},Kh=e=>{switch(e.toLowerCase()){case"undo":case"redo":case"mcefocus":return!0;default:return!1}},A0=(e,n,o)=>{const a=Ni(!1),c=A=>{Fw(n,!1,o),n.add({},A)};e.on("init",()=>{n.add()}),e.on("BeforeExecCommand",A=>{const $=A.command;Kh($)||(I4(n,o),n.beforeChange())}),e.on("ExecCommand",A=>{const $=A.command;Kh($)||c(A)}),e.on("ObjectResizeStart cut",()=>{n.beforeChange()}),e.on("SaveContent ObjectResized blur",c),e.on("dragend",c),e.on("keyup",A=>{const $=A.keyCode;if(A.isDefaultPrevented())return;const q=Uo.os.isMacOS()&&A.key==="Meta";($>=33&&$<=36||$>=37&&$<=40||$===45||A.ctrlKey||q)&&(c(),e.nodeChanged()),($===46||$===8)&&e.nodeChanged(),a.get()&&n.typing&&!By(My(e),n.data[0])&&(e.isDirty()||e.setDirty(!0),e.dispatch("TypingUndo"),a.set(!1),e.nodeChanged())}),e.on("keydown",A=>{const $=A.keyCode;if(A.isDefaultPrevented())return;if($>=33&&$<=36||$>=37&&$<=40||$===45){n.typing&&c(A);return}const q=A.ctrlKey&&!A.altKey||A.metaKey;if(($<16||$>20)&&$!==224&&$!==91&&!n.typing&&!q){n.beforeChange(),Fw(n,!0,o),n.add({},A),a.set(!0);return}(Uo.os.isMacOS()?A.metaKey:A.ctrlKey&&!A.altKey)&&n.beforeChange()}),e.on("mousedown",A=>{n.typing&&c(A)});const m=A=>A.inputType==="insertReplacementText",p=A=>A.inputType==="insertText"&&A.data===null,_=A=>A.inputType==="insertFromPaste"||A.inputType==="insertFromDrop";e.on("input",A=>{A.inputType&&(m(A)||p(A)||_(A))&&c(A)}),e.on("AddUndo Undo Redo ClearUndos",A=>{A.isDefaultPrevented()||e.nodeChanged()})},iM=e=>{e.addShortcut("meta+z","","Undo"),e.addShortcut("meta+y,meta+shift+z","","Redo")},aM=e=>{const n=Li(),o=Ni(0),a=Ni(0),c={data:[],typing:!1,beforeChange:()=>{Fy(e,o,n)},add:(m,p)=>PV(e,c,a,o,n,m,p),dispatchChange:()=>{e.setDirty(!0);const m=My(e);m.bookmark=En(e.selection),e.dispatch("change",{level:m,lastLevel:ji(c.data,a.get()).getOrUndefined()})},undo:()=>NV(e,c,o,a),redo:()=>dL(e,a,c.data),clear:()=>{fL(e,c,a)},reset:()=>{vk(e,c)},hasUndo:()=>LV(e,c,a),hasRedo:()=>MV(e,c,a),transact:m=>BV(e,c,o,m),ignore:m=>{FV(e,o,m)},extra:(m,p)=>{$V(e,c,a,m,p)}};return Og(e)||A0(e,c,o),iM(e),c},lM=[9,27,bn.HOME,bn.END,19,20,44,144,145,33,34,45,16,17,18,91,92,93,bn.DOWN,bn.UP,bn.LEFT,bn.RIGHT].concat(Uo.browser.isFirefox()?[224]:[]),cM="data-mce-placeholder",uM=e=>e.type==="keydown"||e.type==="keyup",dM=e=>{const n=e.keyCode;return n===bn.BACKSPACE||n===bn.DELETE},uO=e=>{if(uM(e)){const n=e.keyCode;return!dM(e)&&(bn.metaKeyPressed(e)||e.altKey||n>=112&&n<=123||xe(lM,n))}else return!1},fM=e=>uM(e)&&!(dM(e)||e.type==="keyup"&&e.keyCode===229),_z=(e,n,o)=>{if(e.isEmpty(n,void 0,{skipBogus:!1,includeZwsp:!0})){const a=n.firstElementChild;return a?e.getStyle(n.firstElementChild,"padding-left")||e.getStyle(n.firstElementChild,"padding-right")?!1:o===a.nodeName.toLowerCase():!0}else return!1},mM=e=>{var n;const o=e.dom,a=gl(e),c=(n=fA(e))!==null&&n!==void 0?n:"",m=(p,_)=>{if(uO(p))return;const A=e.getBody(),$=fM(p)?!1:_z(o,A,a);(o.getAttrib(A,cM)!==""!==$||_)&&(o.setAttrib(A,cM,$?c:null),KD(e,$),e.on($?"keydown":"keyup",m),e.off($?"keyup":"keydown",m))};ot(c)&&e.on("init",p=>{m(p,!0),e.on("change SetContent ExecCommand",m),e.on("paste",_=>qc.setEditorTimeout(e,()=>m(_)))})},Sz=(e,n)=>({block:e,position:n}),dO=(e,n)=>({from:e,to:n}),fO=(e,n)=>{const o=Ke.fromDom(e),a=Ke.fromDom(n.container());return yw(o,a).map(c=>Sz(c,n))},gM=e=>!(fa(e.to.block,e.from.block)||fa(e.from.block,e.to.block)),mO=e=>!ns(e.from.block,e.to.block),gO=(e,n)=>bi(n,c=>Hc(c)||Mc(c.dom),c=>ns(c,e)).filter(Vr).getOr(e),hO=(e,n)=>{const o=Ke.fromDom(e);return ns(gO(o,n.from.block),gO(o,n.to.block))},kz=e=>wo(e.from.block.dom)===!1&&wo(e.to.block.dom)===!1,hM=e=>{const n=o=>Tv(o)||Xi(o.dom)||rg(o);return n(e.from.block)&&n(e.to.block)},Ez=(e,n,o,a)=>pr(a.position.getNode())&&!Wr(e,a.block)?ly(!1,a.block.dom).bind(c=>c.isEqual(a.position)?Eu(o,n,c).bind(m=>fO(n,m)):J.some(a)).getOr(a):a,pM=(e,n,o,a)=>{const c=fO(n,kt.fromRangeStart(a)),m=c.bind(p=>Eu(o,n,p.position).bind(_=>fO(n,_).map(A=>Ez(e,n,o,A))));return ua(c,m,dO).filter(p=>mO(p)&&hO(n,p)&&kz(p)&&hM(p)&&gM(p))},bM=(e,n,o,a)=>a.collapsed?pM(e,n,o,a):J.none(),Az=(e,n)=>{const o=ga(e);return Yn(o,a=>n.isBlock(ts(a))).fold(dt(o),a=>o.slice(0,a))},vM=(e,n)=>{const o=Az(e,n);return be(o,Ps),o},yM=(e,n,o)=>{const a=Yc(o,n);return yn(a.reverse(),c=>Wr(e,c)).each(Ps)},Tz=(e,n)=>Ge(ed(n),o=>!Wr(e,o)).length===0,Oz=(e,n,o,a,c)=>{if(Wr(a,o))return Uc(o),so(o.dom);Tz(a,c)&&Wr(a,n)&&Tr(c,Ke.fromTag("br"));const m=jc(o.dom,kt.before(c.dom));return be(vM(n,a),p=>{Tr(c,p)}),yM(a,e,n),m},T0=(e,n)=>e.isInline(ts(n)),xM=(e,n,o,a)=>{if(Wr(a,o)){if(Wr(a,n)){const p=ht((_=>{const A=($,q)=>Hl($).fold(()=>q,X=>T0(a,X)?A(X,q.concat(Zr(X))):q);return A(_,[])})(o),(_,A)=>(Yl(_,A),A),nf());or(n),Hr(n,p)}return Ps(o),so(n.dom)}const c=fd(o.dom);return be(vM(n,a),m=>{Hr(o,m)}),yM(a,e,n),c},wM=(e,n)=>{const o=Yc(n,e);return J.from(o[o.length-1])},CM=(e,n)=>fa(n,e)?wM(n,e):J.none(),_M=(e,n)=>{ly(e,n.dom).bind(o=>J.from(o.getNode())).map(Ke.fromDom).filter(ud).each(Ps)},SM=(e,n,o,a)=>(_M(!0,n),_M(!1,o),CM(n,o).fold(et(xM,e,n,o,a),et(Oz,e,n,o,a))),jh=(e,n,o,a,c)=>n?SM(e,a,o,c):SM(e,o,a,c),Sk=(e,n)=>{const o=Ke.fromDom(e.getBody());return bM(e.schema,o.dom,n,e.selection.getRng()).map(c=>()=>{jh(o,n,c.from.block,c.to.block,e.schema).each(m=>{e.selection.setRng(m.toRange())})})},kk=(e,n,o)=>{const a=n.getRng();return ua(yw(e,Ke.fromDom(a.startContainer)),yw(e,Ke.fromDom(a.endContainer)),(c,m)=>ns(c,m)?J.none():J.some(()=>{a.deleteContents(),jh(e,!0,c,m,o).each(p=>{n.setRng(p.toRange())})})).getOr(J.none())},kM=(e,n)=>{const o=Ke.fromDom(n),a=et(ns,e);return ll(o,Hc,a).isSome()},EM=(e,n)=>kM(e,n.startContainer)||kM(e,n.endContainer),Rz=(e,n)=>{const o=jc(e.dom,kt.fromRangeStart(n)).isNone(),a=Ql(e.dom,kt.fromRangeEnd(n)).isNone();return!EM(e,n)&&o&&a},Iz=e=>J.some(()=>{e.setContent(""),e.selection.setCursorLocation()}),pO=e=>{const n=Ke.fromDom(e.getBody()),o=e.selection.getRng();return Rz(n,o)?Iz(e):kk(n,e.selection,e.schema)},bO=(e,n)=>e.selection.isCollapsed()?J.none():pO(e),Pr=(e,n,o,a,c)=>J.from(n._selectionOverrides.showCaret(e,o,a,c)),Dz=e=>{const n=e.ownerDocument.createRange();return n.selectNode(e),n},Gw=(e,n)=>e.dispatch("BeforeObjectSelected",{target:n}).isDefaultPrevented()?J.none():J.some(Dz(n)),vO=(e,n,o)=>{const a=OA(1,e.getBody(),n),c=kt.fromRangeStart(a),m=c.getNode();if(E2(m))return Pr(1,e,m,!c.isAtEnd(),!1);const p=c.getNode(!0);if(E2(p))return Pr(1,e,p,!1,!1);const _=xd(e.dom.getRoot(),c.getNode());return E2(_)?Pr(1,e,_,!1,o):J.none()},Ek=(e,n,o)=>n.collapsed?vO(e,n,o).getOr(n):n,yO=e=>Fi(e)||c0(e),Pz=e=>dm(e)||Cy(e),Nz=(e,n)=>{Gt(n)&&n.data.length===0&&e.remove(n)},AM=(e,n,o,a,c,m)=>{Pr(a,e,m.getNode(!c),c,!0).each(p=>{if(n.collapsed){const _=n.cloneRange();c?_.setEnd(p.startContainer,p.startOffset):_.setStart(p.endContainer,p.endOffset),_.deleteContents()}else n.deleteContents();e.selection.setRng(p)}),Nz(e.dom,o)},Lz=(e,n)=>{const o=e.selection.getRng();if(!Gt(o.commonAncestorContainer))return J.none();const a=n?Ga.Forwards:Ga.Backwards,c=Qn(e.getBody()),m=et(RA,n?c.next:c.prev),p=n?yO:Pz,_=I2(a,e.getBody(),o),A=m(_),$=A&&yd(n,A);if(!$||!T_(_,$))return J.none();if(p($))return J.some(()=>AM(e,o,_.getNode(),a,n,$));const q=m($);return q&&p(q)&&T_($,q)?J.some(()=>AM(e,o,_.getNode(),a,n,q)):J.none()},xO=(e,n)=>Lz(e,n),wO=(e,n)=>{const o=e.getBody();return n?so(o).filter(Fi):fd(o).filter(dm)},CO=e=>{const n=e.selection.getRng();return!n.collapsed&&(wO(e,!0).exists(o=>o.isEqual(kt.fromRangeStart(n)))||wO(e,!1).exists(o=>o.isEqual(kt.fromRangeEnd(n))))},Hy=e=>we(e)&&(Hc(Ke.fromDom(e))||rg(Ke.fromDom(e))),ea=Jo.generate([{remove:["element"]},{moveToElement:["element"]},{moveToPosition:["position"]}]),Mz=(e,n)=>{const o=n.getNode(!e),a=e?"after":"before";return Nn(o)&&o.getAttribute("data-mce-caret")===a},Bz=(e,n,o,a,c)=>{const m=p=>c.isInline(p.nodeName.toLowerCase())&&!mg(o,a,e);return cD(!n,o).fold(()=>cD(n,a).fold(In,m),m)},TM=(e,n,o,a,c)=>{const m=c.getNode(!o);return yw(Ke.fromDom(n),Ke.fromDom(a.getNode())).map(p=>Wr(e,p)?ea.remove(p.dom):ea.moveToElement(m)).orThunk(()=>J.some(ea.moveToElement(m)))},OM=(e,n,o,a)=>Eu(n,e,o).bind(c=>Hy(c.getNode())||Bz(e,n,o,c,a)?J.none():n&&wo(c.getNode())||!n&&wo(c.getNode(!0))?TM(a,e,n,o,c):n&&dm(o)||!n&&Fi(o)?J.some(ea.moveToPosition(c)):J.none()),Fz=(e,n)=>rt(n)?J.none():e&&wo(n.nextSibling)?J.some(ea.moveToElement(n.nextSibling)):!e&&wo(n.previousSibling)?J.some(ea.moveToElement(n.previousSibling)):J.none(),$z=(e,n,o)=>o.fold(a=>J.some(ea.remove(a)),a=>J.some(ea.moveToElement(a)),a=>mg(n,a,e)?J.none():J.some(ea.moveToPosition(a))),Vz=(e,n,o,a)=>Mz(n,o)?Fz(n,o.getNode(!n)).orThunk(()=>OM(e,n,o,a)):OM(e,n,o,a).bind(c=>$z(e,o,c)),zz=(e,n,o,a)=>{const c=OA(n?1:-1,e,o),m=kt.fromRangeStart(c),p=Ke.fromDom(e);return!n&&dm(m)?J.some(ea.remove(m.getNode(!0))):n&&Fi(m)?J.some(ea.remove(m.getNode())):!n&&Fi(m)&&d0(p,m,a)?gS(p,m,a).map(_=>ea.remove(_.getNode())):n&&dm(m)&&gw(p,m,a)?JP(p,m,a).map(_=>ea.remove(_.getNode())):Vz(e,n,m,a)},Hz=(e,n)=>o=>(e._selectionOverrides.hideFakeCaret(),Pl(e,n,Ke.fromDom(o)),!0),Uz=(e,n)=>o=>{const a=n?kt.before(o):kt.after(o);return e.selection.setRng(a.toRange()),!0},Wz=e=>n=>(e.selection.setRng(n.toRange()),!0),RM=(e,n)=>J.from(xd(e.getBody(),n)),Kz=(e,n)=>{const o=e.selection.getNode();return RM(e,o).filter(wo).fold(()=>zz(e.getBody(),n,e.selection.getRng(),e.schema).map(a=>()=>a.fold(Hz(e,n),Uz(e,n),Wz(e))),()=>J.some(St))},jz=e=>{be(vi(e,".mce-offscreen-selection"),Ps)},Zz=(e,n)=>{const o=e.selection.getNode();return wo(o)&&!Sp(o)?RM(e,o.parentNode).filter(wo).fold(()=>J.some(()=>{jz(Ke.fromDom(e.getBody())),Pl(e,n,Ke.fromDom(e.selection.getNode())),yS(e)}),()=>J.some(St)):CO(e)?J.some(()=>{xS(e,e.selection.getRng(),Ke.fromDom(e.getBody()))}):J.none()},IM=e=>{const n=e.dom,o=e.selection,a=xd(e.getBody(),o.getNode());if(Mc(a)&&n.isBlock(a)&&n.isEmpty(a)){const c=n.create("br",{"data-mce-bogus":"1"});n.setHTML(a,""),a.appendChild(c),o.setRng(kt.before(c).toRange())}return!0},_O=(e,n)=>e.selection.isCollapsed()?Kz(e,n):Zz(e,n),DM=e=>e.hasOwnProperty("text"),PM=e=>e.hasOwnProperty("marker"),NM=(e,n)=>{const o=(m,p)=>{if(Gt(m))return{text:m,offset:p};{const _=n(),A=m.childNodes;return p<A.length?(m.insertBefore(_,A[p]),{marker:_,before:!0}):(m.appendChild(_),{marker:_,before:!1})}},a=o(e.endContainer,e.endOffset);return{start:o(e.startContainer,e.startOffset),end:a}},LM=e=>{var n,o;const{start:a,end:c}=e,m=new window.Range;return DM(a)?m.setStart(a.text,a.offset):PM(a)&&(a.before?m.setStartBefore(a.marker):m.setStartAfter(a.marker),(n=a.marker.parentNode)===null||n===void 0||n.removeChild(a.marker)),DM(c)?m.setEnd(c.text,c.offset):PM(c)&&(c.before?m.setEndBefore(c.marker):m.setEndAfter(c.marker),(o=c.marker.parentNode)===null||o===void 0||o.removeChild(c.marker)),m},SO=(e,n)=>{var o;const a=e.dom,c=a.getParent(e.selection.getStart(),a.isBlock),m=a.getParent(e.selection.getEnd(),a.isBlock),p=e.getBody();if(((o=c==null?void 0:c.nodeName)===null||o===void 0?void 0:o.toLowerCase())==="div"&&c&&m&&c===p.firstChild&&m===p.lastChild&&!a.isEmpty(p)){const A=c.cloneNode(!1),$=()=>{if(n?ZT(e):vS(e),p.firstChild!==c){const q=NM(e.selection.getRng(),()=>document.createElement("span"));Array.from(p.childNodes).forEach(X=>A.appendChild(X)),p.appendChild(A),e.selection.setRng(LM(q))}};return J.some($)}return J.none()},Gz=(e,n)=>{const o=kt.fromRangeStart(e.selection.getRng());return Eu(n,e.getBody(),o).filter(a=>n?jP(a):ZP(a)).bind(a=>E_(n?0:-1,a)).map(a=>()=>e.selection.select(a))},kO=(e,n)=>e.selection.isCollapsed()?Gz(e,n):J.none(),Uy=Gt,MM=e=>Uy(e)&&e.data[0]===Ei,BM=e=>Uy(e)&&e.data[e.data.length-1]===Ei,FM=e=>{var n;return((n=e.ownerDocument)!==null&&n!==void 0?n:document).createTextNode(Ei)},qz=e=>{var n;if(Uy(e.previousSibling))return BM(e.previousSibling)||e.previousSibling.appendData(Ei),e.previousSibling;if(Uy(e))return MM(e)||e.insertData(0,Ei),e;{const o=FM(e);return(n=e.parentNode)===null||n===void 0||n.insertBefore(o,e),o}},Yz=e=>{var n,o;if(Uy(e.nextSibling))return MM(e.nextSibling)||e.nextSibling.insertData(0,Ei),e.nextSibling;if(Uy(e))return BM(e)||e.appendData(Ei),e;{const a=FM(e);return e.nextSibling?(n=e.parentNode)===null||n===void 0||n.insertBefore(a,e.nextSibling):(o=e.parentNode)===null||o===void 0||o.appendChild(a),a}},Ak=(e,n)=>e?qz(n):Yz(n),$M=et(Ak,!0),Xz=et(Ak,!1),VM=(e,n)=>Gt(e.container())?Ak(n,e.container()):Ak(n,e.getNode()),zM=(e,n)=>{const o=n.get();return o&&e.container()===o&&ig(o)},EO=(e,n)=>n.fold(o=>{Hp(e.get());const a=$M(o);return e.set(a),J.some(kt(a,a.length-1))},o=>so(o).map(a=>{if(zM(a,e)){const c=e.get();return kt(c,1)}else{Hp(e.get());const c=VM(a,!0);return e.set(c),kt(c,1)}}),o=>fd(o).map(a=>{if(zM(a,e)){const c=e.get();return kt(c,c.length-1)}else{Hp(e.get());const c=VM(a,!1);return e.set(c),kt(c,c.length-1)}}),o=>{Hp(e.get());const a=Xz(o);return e.set(a),J.some(kt(a,1))}),HM=(e,n)=>{for(let o=0;o<e.length;o++){const a=e[o].apply(null,n);if(a.isSome())return a}return J.none()},tc=Jo.generate([{before:["element"]},{start:["element"]},{end:["element"]},{after:["element"]}]),UM=(e,n)=>{const o=Up(n,e);return o||e},Jz=(e,n,o)=>{const a=bN(o),c=UM(n,a.container());return ob(e,c,a).fold(()=>Ql(c,a).bind(et(ob,e,c)).map(m=>tc.before(m)),J.none)},WM=(e,n)=>Wp(e,n)===null,KM=(e,n,o)=>ob(e,n,o).filter(et(WM,n)),Qz=(e,n,o)=>{const a=Ay(o);return KM(e,n,a).bind(c=>jc(c,a).isNone()?J.some(tc.start(c)):J.none())},eH=(e,n,o)=>{const a=bN(o);return KM(e,n,a).bind(c=>Ql(c,a).isNone()?J.some(tc.end(c)):J.none())},tH=(e,n,o)=>{const a=Ay(o),c=UM(n,a.container());return ob(e,c,a).fold(()=>jc(c,a).bind(et(ob,e,c)).map(m=>tc.after(m)),J.none)},jM=e=>!bw(AO(e)),Rg=(e,n,o)=>HM([Jz,Qz,eH,tH],[e,n,o]).filter(jM),AO=e=>e.fold(An,An,An,An),ZM=e=>e.fold(dt("before"),dt("start"),dt("end"),dt("after")),qw=e=>e.fold(tc.before,tc.before,tc.after,tc.after),Tk=e=>e.fold(tc.start,tc.start,tc.end,tc.end),nH=(e,n)=>ZM(e)===ZM(n)&&AO(e)===AO(n),GM=(e,n,o,a,c,m)=>ua(ob(n,o,a),ob(n,o,c),(p,_)=>p!==_&&pN(o,p,_)?tc.after(e?p:_):m).getOr(m),oH=(e,n)=>e.fold(on,o=>!nH(o,n)),sH=(e,n,o,a,c)=>{const m=yd(e,c);return Eu(e,o,m).map(et(yd,e)).fold(()=>a.map(qw),A=>Rg(n,o,A).map(et(GM,e,n,o,m,A)).filter(et(oH,a))).filter(jM)},rH=(e,n)=>e?n.fold(Ut(J.some,tc.start),J.none,Ut(J.some,tc.after),J.none):n.fold(J.none,Ut(J.some,tc.before),J.none,Ut(J.some,tc.end)),iH=(e,n,o,a)=>{const c=yd(e,a),m=Rg(n,o,c);return Rg(n,o,c).bind(et(rH,e)).orThunk(()=>sH(e,n,o,m,a))},aH=e=>_e(e.selection.getSel().modify),qM=(e,n,o)=>{const a=e?1:-1;return n.setRng(kt(o.container(),o.offset()+a).toRange()),n.getSel().modify("move",e?"forward":"backward","word"),!0},TO=(e,n)=>{const o=n.selection.getRng(),a=e?kt.fromRangeEnd(o):kt.fromRangeStart(o);return aH(n)?e&&Iv(a)?qM(!0,n.selection,a):!e&&K1(a)?qM(!1,n.selection,a):!1:!1};var hf;(function(e){e[e.Br=0]="Br",e[e.Block=1]="Block",e[e.Wrap=2]="Wrap",e[e.Eol=3]="Eol"})(hf||(hf={}));const Ok=(e,n)=>e===Ga.Backwards?Zs(n):n,YM=(e,n,o)=>e===Ga.Forwards?n.next(o):n.prev(o),lH=(e,n,o,a)=>pr(a.getNode(n===Ga.Forwards))?hf.Br:mg(o,a)===!1?hf.Block:hf.Wrap,XM=(e,n,o,a)=>{const c=Qn(o);let m=a;const p=[];for(;m;){const _=YM(n,c,m);if(!_)break;if(pr(_.getNode(!1)))return n===Ga.Forwards?{positions:Ok(n,p).concat([_]),breakType:hf.Br,breakAt:J.some(_)}:{positions:Ok(n,p),breakType:hf.Br,breakAt:J.some(_)};if(!_.isVisible()){m=_;continue}if(e(m,_)){const A=lH(o,n,m,_);return{positions:Ok(n,p),breakType:A,breakAt:J.some(_)}}p.push(_),m=_}return{positions:Ok(n,p),breakType:hf.Eol,breakAt:J.none()}},JM=(e,n,o,a)=>n(o,a).breakAt.map(c=>{const m=n(o,c).positions;return e===Ga.Backwards?m.concat(c):[c].concat(m)}).getOr([]),OO=(e,n)=>ln(e,(o,a)=>o.fold(()=>J.some(a),c=>ua(Tn(c.getClientRects()),Tn(a.getClientRects()),(m,p)=>{const _=Math.abs(n-m.left);return Math.abs(n-p.left)<=_?a:c}).or(o)),J.none()),Rk=(e,n)=>Tn(n.getClientRects()).bind(o=>OO(e,o.left)),Yw=et(XM,kt.isAbove,-1),Xw=et(XM,kt.isBelow,1),QM=et(JM,-1,Yw),Ik=et(JM,1,Xw),eB=(e,n)=>Yw(e,n).breakAt.isNone(),tB=(e,n)=>Xw(e,n).breakAt.isNone(),cH=e=>so(e).map(n=>[n].concat(Xw(e,n).positions)).getOr([]),nB=e=>fd(e).map(n=>Yw(e,n).positions.concat(n)).getOr([]),O0=(e,n)=>Rk(QM(e,n),n),uH=(e,n)=>Rk(Ik(e,n),n),dH=wo,oB=(e,n)=>Math.abs(e.left-n),yc=(e,n)=>Math.abs(e.right-n),sB=e=>Zl(e,"node"),rB=(e,n)=>Cl(e,(o,a)=>{const c=Math.min(oB(o,n),yc(o,n)),m=Math.min(oB(a,n),yc(a,n));return m===c&&sB(a)&&dH(a.node)||m<c?a:o}),fH=e=>{const n=o=>Ve(o,a=>{const c=Yf(a);return c.node=e,c});if(Nn(e))return n(e.getClientRects());if(Gt(e)){const o=e.ownerDocument.createRange();return o.setStart(e,0),o.setEnd(e,e.data.length),n(o.getClientRects())}else return[]},iB=e=>$o(e,fH);var Jw;(function(e){e[e.Up=-1]="Up",e[e.Down=1]="Down"})(Jw||(Jw={}));const mH=(e,n,o,a)=>{let c=a;for(;c=T2(c,e,Bv,n);)if(o(c))return},RO=(e,n,o,a,c,m)=>{let p=0;const _=[],A=X=>{let ne=iB([X]);e===-1&&(ne=ne.reverse());for(let ve=0;ve<ne.length;ve++){const Oe=ne[ve];if(!o(Oe,$)){if(_.length>0&&n(Oe,Aa(_))&&p++,Oe.line=p,c(Oe))return!0;_.push(Oe)}}return!1},$=Aa(m.getClientRects());if(!$)return _;const q=m.getNode();return q&&(A(q),mH(e,a,A,q)),_},gH=(e,n)=>n.line>e,hH=(e,n)=>n.line===e,pH=et(RO,Jw.Up,Qf,Ah),bH=et(RO,Jw.Down,Ah,Qf),aB=e=>Aa(e.getClientRects()),Wy=(e,n,o,a)=>{const c=Qn(n);let m,p,_,A;const $=[];let q=0;e===1?(m=c.next,p=Ah,_=Qf,A=kt.after(a)):(m=c.prev,p=Qf,_=Ah,A=kt.before(a));const X=aB(A);do{if(!A.isVisible())continue;const ne=aB(A);if(_(ne,X))continue;$.length>0&&p(ne,Aa($))&&q++;const ve=Yf(ne);if(ve.position=A,ve.line=q,o(ve))return $;$.push(ve)}while(A=m(A));return $},IO=e=>n=>gH(e,n),Ky=e=>n=>hH(e,n),gm=(e,n)=>{e.selection.setRng(n),hd(e,e.selection.getRng())},Dk=(e,n,o)=>J.some(Ek(e,n,o)),DO=(e,n,o,a,c,m)=>{const p=n===Ga.Forwards,_=Qn(e.getBody()),A=et(RA,p?_.next:_.prev),$=p?a:c;if(!o.collapsed){const Oe=Bp(o);if(m(Oe))return Pr(n,e,Oe,n===Ga.Backwards,!1);if(CO(e)){const ye=o.cloneRange();return ye.collapse(n===Ga.Backwards),J.from(ye)}}const q=I2(n,e.getBody(),o);if($(q))return Gw(e,q.getNode(!p));let X=A(q);const ne=Eh(o);if(X)X=yd(p,X);else return ne?J.some(o):J.none();if($(X))return Pr(n,e,X.getNode(!p),p,!1);const ve=A(X);return ve&&$(ve)&&T_(X,ve)?Pr(n,e,ve.getNode(!p),p,!1):ne?Dk(e,X.toRange(),!1):J.none()},lB=(e,n,o,a,c,m)=>{const p=I2(n,e.getBody(),o),_=Aa(p.getClientRects()),A=n===Jw.Down,$=e.getBody();if(!_)return J.none();if(CO(e)){const Pe=A?kt.fromRangeEnd(o):kt.fromRangeStart(o);return(A?uH:O0)($,Pe).orThunk(()=>J.from(Pe)).map(st=>st.toRange())}const X=(A?bH:pH)($,IO(1),p),ne=Ge(X,Ky(1)),ve=_.left,Oe=rB(ne,ve);if(Oe&&m(Oe.node)){const Pe=Math.abs(ve-Oe.left),Ye=Math.abs(ve-Oe.right);return Pr(n,e,Oe.node,Pe<Ye,!1)}let ye;if(a(p)?ye=p.getNode():c(p)?ye=p.getNode(!0):ye=Bp(o),ye){const Pe=Wy(n,$,IO(1),ye);let Ye=rB(Ge(Pe,Ky(1)),ve);if(Ye||(Ye=Aa(Ge(Pe,Ky(0))),Ye))return Dk(e,Ye.position.toRange(),!1)}return ne.length===0?Pk(e,A).filter(A?c:a).map(Pe=>Ek(e,Pe.toRange(),!1)):J.none()},Pk=(e,n)=>{const o=e.selection.getRng(),a=n?kt.fromRangeEnd(o):kt.fromRangeStart(o),c=U8(a.container(),e.getBody());if(n){const m=Xw(c,a);return go(m.positions)}else{const m=Yw(c,a);return Tn(m.positions)}},cB=(e,n,o)=>Pk(e,n).filter(o).exists(a=>(e.selection.setRng(a.toRange()),!0)),Qw=(e,n)=>{const o=e.dom.createRng();o.setStart(n.container(),n.offset()),o.setEnd(n.container(),n.offset()),e.selection.setRng(o)},PO=(e,n)=>{e?n.setAttribute("data-mce-selected","inline-boundary"):n.removeAttribute("data-mce-selected")},NO=(e,n,o)=>EO(n,o).map(a=>(Qw(e,a),o)),uB=(e,n,o)=>{const a=kt.fromRangeStart(e);if(e.collapsed)return a;{const c=kt.fromRangeEnd(e);return o?jc(n,c).getOr(c):Ql(n,a).getOr(a)}},dB=(e,n,o)=>{const a=e.getBody(),c=uB(e.selection.getRng(),a,o),m=et(m0,e);return iH(o,m,a,c).bind(_=>NO(e,n,_))},fB=(e,n,o)=>{const a=Ve(vi(Ke.fromDom(n.getRoot()),'*[data-mce-selected="inline-boundary"]'),p=>p.dom),c=Ge(a,e),m=Ge(o,e);be(us(c,m),et(PO,!1)),be(us(m,c),et(PO,!0))},LO=(e,n)=>{const o=n.get();if(e.selection.isCollapsed()&&!e.composing&&o){const a=kt.fromRangeStart(e.selection.getRng());kt.isTextPosition(a)&&!KT(a)&&(Qw(e,V8(o,a)),n.set(null))}},mB=(e,n,o,a)=>{if(n.selection.isCollapsed()){const c=Ge(a,e);be(c,m=>{const p=kt.fromRangeStart(n.selection.getRng());Rg(e,n.getBody(),p).bind(_=>NO(n,o,_))})}},MO=(e,n,o)=>ry(e)?dB(e,n,o).isSome():!1,BO=(e,n,o)=>ry(n)?TO(e,n):!1,gB=e=>{const n=Ni(null),o=et(m0,e);return e.on("NodeChange",a=>{ry(e)&&(fB(o,e.dom,a.parents),LO(e,n),mB(o,e,n,a.parents))}),n},hB=et(BO,!0),pB=et(BO,!1),eC=(e,n,o)=>{if(ry(e)){const a=Pk(e,n).getOrThunk(()=>{const c=e.selection.getRng();return n?kt.fromRangeEnd(c):kt.fromRangeStart(c)});return Rg(et(m0,e),e.getBody(),a).exists(c=>{const m=qw(c);return EO(o,m).exists(p=>(Qw(e,p),!0))})}else return!1},FO=(e,n)=>{const o=document.createRange();return o.setStart(e.container(),e.offset()),o.setEnd(n.container(),n.offset()),o},$O=e=>ua(so(e),fd(e),(n,o)=>{const a=yd(!0,n),c=yd(!1,o);return Ql(e,a).forall(m=>m.isEqual(c))}).getOr(!0),tC=(e,n)=>o=>EO(n,o).map(a=>()=>Qw(e,a)),VO=(e,n,o,a)=>{const c=e.getBody(),m=et(m0,e);e.undoManager.ignore(()=>{e.selection.setRng(FO(o,a)),vS(e),Rg(m,c,kt.fromRangeStart(e.selection.getRng())).map(Tk).bind(tC(e,n)).each(Wt)}),e.nodeChanged()},bB=(e,n)=>{const o=Up(n,e);return o||e},vB=(e,n,o,a)=>{const c=bB(e.getBody(),a.container()),m=et(m0,e),p=Rg(m,c,a);return p.bind(A=>o?A.fold(dt(J.some(Tk(A))),J.none,dt(J.some(qw(A))),J.none):A.fold(J.none,dt(J.some(qw(A))),J.none,dt(J.some(Tk(A))))).map(tC(e,n)).getOrThunk(()=>{const A=Yv(o,c,a),$=A.bind(q=>Rg(m,c,q));return ua(p,$,()=>ob(m,c,a).bind(q=>$O(q)?J.some(()=>{Pl(e,o,Ke.fromDom(q))}):J.none())).getOrThunk(()=>$.bind(()=>A.map(q=>()=>{o?VO(e,n,a,q):VO(e,n,q,a)})))})},nC=(e,n,o)=>{if(e.selection.isCollapsed()&&ry(e)){const a=kt.fromRangeStart(e.selection.getRng());return vB(e,n,o,a)}return J.none()},yB=e=>jd(e)>1,zO=(e,n)=>{const o=Ke.fromDom(e.getBody()),a=Ke.fromDom(e.selection.getStart()),c=Yc(a,o);return Yn(c,n).fold(dt(c),m=>c.slice(0,m))},xB=e=>jd(e)===1,vH=e=>zO(e,n=>e.schema.isBlock(ts(n))||yB(n)),wB=e=>zO(e,n=>e.schema.isBlock(ts(n))),HO=(e,n)=>{const o=et(Ry,e);return $o(n,a=>o(a)?[a.dom]:[])},oC=e=>{const n=wB(e);return HO(e,n)},CB=(e,n,o,a)=>{const c=HO(n,a);if(c.length===0)Pl(n,e,o);else{const m=O3(o.dom,c);n.selection.setRng(m.toRange())}},_B=(e,n)=>{const o=Ge(vH(e),xB);return go(o).bind(a=>{const c=kt.fromRangeStart(e.selection.getRng());return xN(n,c,a.dom)&&!F_(a)?J.some(()=>CB(n,e,a,o)):J.none()})},UO=(e,n)=>{const o=n.parentElement;return pr(n)&&!ze(o)&&e.dom.isEmpty(o)},yH=e=>F_(Ke.fromDom(e)),WO=(e,n)=>{const o=e.selection.getStart(),a=UO(e,o)||yH(o)?O3(o,n):A$(e.selection.getRng(),n);e.selection.setRng(a.toRange())},xH=(e,n)=>{const o=us(n,oC(e));o.length>0&&WO(e,o)},KO=e=>Gt(e.startContainer),SB=e=>e.startOffset===0&&KO(e),wH=(e,n)=>{const o=n.startContainer.parentElement;return!ze(o)&&Ry(e,Ke.fromDom(o))},CH=e=>{const n=e.startContainer.parentNode,o=e.endContainer.parentNode;return!ze(n)&&!ze(o)&&n.isEqualNode(o)},s=e=>{const n=e.endContainer;return e.endOffset===(Gt(n)?n.length:n.childNodes.length)},l=e=>CH(e)&&s(e),d=e=>!e.endContainer.isEqualNode(e.commonAncestorContainer),f=e=>l(e)||d(e),b=e=>{const n=e.selection.getRng();return SB(n)&&wH(e,n)&&f(n)},v=e=>{if(b(e)){const n=oC(e);return J.some(()=>{vS(e),xH(e,n)})}else return J.none()},w=(e,n)=>e.selection.isCollapsed()?_B(e,n):v(e),k=(e,n)=>KC(e,o=>Au(o.dom),o=>n.isBlock(ts(o))),E=e=>k(Ke.fromDom(e.selection.getStart()),e.schema),P=e=>{const n=e.selection.getRng();return n.collapsed&&(KO(n)||e.dom.isEmpty(n.startContainer))&&!E(e)},F=e=>(P(e)&&WO(e,[]),!0),L=(e,n,o)=>we(o)?J.some(()=>{e._selectionOverrides.hideFakeCaret(),Pl(e,n,Ke.fromDom(o))}):J.none(),H=(e,n)=>{const o=n?c0:Cy,a=n?Ga.Forwards:Ga.Backwards,c=I2(a,e.getBody(),e.selection.getRng());return o(c)?L(e,n,c.getNode(!n)):J.from(yd(n,c)).filter(m=>o(m)&&T_(c,m)).bind(m=>L(e,n,m.getNode(!n)))},Y=(e,n)=>{const o=e.selection.getNode();return Rt(o)?L(e,n,o):J.none()},Q=(e,n)=>e.selection.isCollapsed()?H(e,n):Y(e,n),fe=e=>bi(e,n=>Mc(n.dom)||wo(n.dom)).exists(n=>Mc(n.dom)),pe=e=>hn(e??"").getOr(0),Ee=(e,n)=>{const o=e||Av(n)?"margin":"padding",a=zr(n,"direction")==="rtl"?"-right":"-left";return o+a},ge=(e,n,o,a,c,m)=>{const p=Ee(o,Ke.fromDom(m)),_=pe(e.getStyle(m,p));if(n==="outdent"){const A=Math.max(0,_-a);e.setStyle(m,p,A?A+c:"")}else{const A=_+a+c;e.setStyle(m,p,A)}},me=(e,n)=>Do(n,o=>{const a=Ee(OI(e),o),c=Mr(o,a).map(pe).getOr(0);return e.dom.getContentEditable(o.dom)!=="false"&&c>0}),Ce=e=>{const n=qe(e);return!e.mode.isReadOnly()&&(n.length>1||me(e,n))},Ae=e=>Ov(e)||rg(e),Ie=e=>ma(e).exists(Ae),qe=e=>Ge(gu(e.selection.getSelectedBlocks()),n=>!Ae(n)&&!Ie(n)&&fe(n)),lt=(e,n)=>{var o,a;const{dom:c}=e,m=ku(e),p=(a=(o=/[a-z%]+$/i.exec(m))===null||o===void 0?void 0:o[0])!==null&&a!==void 0?a:"px",_=pe(m),A=OI(e);be(qe(e),$=>{ge(c,n,A,_,p,$.dom)})},Nt=e=>lt(e,"indent"),Ot=e=>lt(e,"outdent"),Et=e=>{if(e.selection.isCollapsed()&&Ce(e)){const n=e.dom,o=e.selection.getRng(),a=kt.fromRangeStart(o),c=n.getParent(o.startContainer,n.isBlock);if(c!==null&&mS(Ke.fromDom(c),a,e.schema))return J.some(()=>Ot(e))}return J.none()},jt=(e,n,o)=>ai([Et,_O,xO,(a,c)=>nC(a,n,c),Sk,Vh,kO,Q,bO,w,SO],a=>a(e,o)).filter(a=>e.selection.isEditable()),xn=(e,n)=>{jt(e,n,!1).fold(()=>{e.selection.isEditable()&&(vS(e),yS(e))},Wt)},Pn=(e,n)=>{jt(e,n,!0).fold(()=>{e.selection.isEditable()&&ZT(e)},Wt)},jn=(e,n)=>{e.addCommand("delete",()=>{xn(e,n)}),e.addCommand("forwardDelete",()=>{Pn(e,n)})},uo=5,Ko=400,rr=e=>e.touches===void 0||e.touches.length!==1?J.none():J.some(e.touches[0]),mr=(e,n)=>{const o=Math.abs(e.clientX-n.x),a=Math.abs(e.clientY-n.y);return o>uo||a>uo},Io=e=>{const n=Li(),o=Ni(!1),a=Pp(c=>{e.dispatch("longpress",{...c,type:"longpress"}),o.set(!0)},Ko);e.on("touchstart",c=>{rr(c).each(m=>{a.cancel();const p={x:m.clientX,y:m.clientY,target:c.target};a.throttle(c),o.set(!1),n.set(p)})},!0),e.on("touchmove",c=>{a.cancel(),rr(c).each(m=>{n.on(p=>{mr(m,p)&&(n.clear(),o.set(!1),e.dispatch("longpresscancel"))})})},!0),e.on("touchend touchcancel",c=>{a.cancel(),c.type!=="touchcancel"&&n.get().filter(m=>m.target.isEqualNode(c.target)).each(()=>{o.get()?c.preventDefault():e.dispatch("tap",{...c,type:"tap"})})},!0)},ss=(e,n)=>ho(e,n.nodeName),Jn=(e,n)=>Gt(n)?!0:Nn(n)?!ss(e.getBlockElements(),n)&&!Tu(n)&&!Uf(e,n)&&!Mi(n):!1,gr=(e,n,o)=>Re(hc(Ke.fromDom(o),Ke.fromDom(n)),a=>ss(e,a.dom)),Vs=(e,n)=>{if(Gt(n)){if(n.data.length===0)return!0;if(/^\s+$/.test(n.data))return!n.nextSibling||ss(e,n.nextSibling)||Mi(n.nextSibling)}return!1},Ya=e=>e.dom.create(gl(e),y2(e)),Xa=e=>{const n=e.dom,o=e.selection,a=e.schema,c=a.getBlockElements(),m=o.getStart(),p=e.getBody();let _,A,$=null;const q=gl(e);if(!m||!Nn(m))return;const X=p.nodeName.toLowerCase();if(!a.isValidChild(X,q.toLowerCase())||gr(c,p,m))return;if(p.firstChild===p.lastChild&&pr(p.firstChild)){_=Ya(e),_.appendChild(nf().dom),p.replaceChild(_,p.firstChild),e.selection.setCursorLocation(_,0),e.nodeChanged();return}let ne=p.firstChild;for(;ne;)if(Nn(ne)&&dc(a,ne),Jn(a,ne)){if(Vs(c,ne)){A=ne,ne=ne.nextSibling,n.remove(A);continue}if(!_){if(!$&&e.hasFocus()&&($=NM(e.selection.getRng(),()=>document.createElement("span"))),!ne.parentNode){ne=null;break}_=Ya(e),p.insertBefore(_,ne)}A=ne,ne=ne.nextSibling,_.appendChild(A)}else _=null,ne=ne.nextSibling;$&&(e.selection.setRng(LM($)),e.nodeChanged())},ta=(e,n,o)=>{const a=Ke.fromDom(Ya(e)),c=nf();Hr(a,c),o(n,a);const m=document.createRange();return m.setStartBefore(c.dom),m.setEndBefore(c.dom),m},$i=e=>{e.on("NodeChange",()=>Xa(e))},Zh=e=>n=>(" "+n.attr("class")+" ").indexOf(e)!==-1,jy=(e,n,o)=>function(a){const c=arguments,m=c[c.length-2],p=m>0?n.charAt(m-1):"";if(p==='"')return a;if(p===">"){const _=n.lastIndexOf("<",m);if(_!==-1&&n.substring(_,m).indexOf('contenteditable="false"')!==-1)return a}return'<span class="'+o+'" data-mce-content="'+e.dom.encode(c[0])+'">'+e.dom.encode(typeof c[1]=="string"?c[1]:c[0])+"</span>"},vb=(e,n,o)=>{let a=n.length,c=o.content;if(o.format!=="raw"){for(;a--;)c=c.replace(n[a],jy(e,c,jv(e)));o.content=c}},Gh=(e,n)=>Do(e,o=>{const a=n.match(o);return a!==null&&a[0].length===n.length}),sC=e=>{const n="contenteditable",o=" "+nn.trim(P8(e))+" ",a=" "+nn.trim(jv(e))+" ",c=Zh(o),m=Zh(a),p=UI(e);p.length>0&&e.on("BeforeSetContent",_=>{vb(e,p,_)}),e.parser.addAttributeFilter("class",_=>{let A=_.length;for(;A--;){const $=_[A];c($)?$.attr(n,"true"):m($)&&$.attr(n,"false")}}),e.serializer.addAttributeFilter(n,_=>{let A=_.length;for(;A--;){const $=_[A];if(!c($)&&!m($))continue;const q=$.attr("data-mce-content");p.length>0&&q?Gh(p,q)?($.name="#text",$.type=3,$.raw=!0,$.value=q):$.remove():$.attr(n,null)}})},yb=e=>Bt(Ke.fromDom(e.getBody()),"*[data-mce-caret]").map(n=>n.dom).getOrNull(),Ig=(e,n)=>{n.hasAttribute("data-mce-caret")&&(kh(n),e.selection.setRng(e.selection.getRng()),e.selection.scrollIntoView(n))},R0=(e,n)=>{const o=yb(e);if(o){if(n.type==="compositionstart"){n.preventDefault(),n.stopPropagation(),Ig(e,o);return}U1(o)&&(Ig(e,o),e.undoManager.add())}},I0=e=>{e.on("keyup compositionstart",et(R0,e))},Zy=wo,Nk=(e,n,o)=>DO(n,e,o,Fi,dm,Zy),rC=(e,n,o)=>lB(n,e,o,m=>Fi(m)||GP(m),m=>dm(m)||_y(m),Zy),xb=e=>{const n=e.dom.create(gl(e));return n.innerHTML='<br data-mce-bogus="1">',n},Dg=(e,n,o)=>{const a=Qn(e.getBody()),c=et(RA,n===1?a.next:a.prev);if(o.collapsed){const m=e.dom.getParent(o.startContainer,"PRE");if(!m)return;if(!c(kt.fromRangeStart(o))){const _=Ke.fromDom(xb(e));n===1?ut(Ke.fromDom(m),_):Tr(Ke.fromDom(m),_),e.selection.select(_.dom,!0),e.selection.collapse()}}},qh=(e,n)=>{const o=n?Ga.Forwards:Ga.Backwards,a=e.selection.getRng();return Nk(o,e,a).orThunk(()=>(Dg(e,o,a),J.none()))},iC=(e,n)=>{const o=n?1:-1,a=e.selection.getRng();return rC(o,e,a).orThunk(()=>(Dg(e,o,a),J.none()))},aC=(e,n)=>{const o=n?e.getEnd(!0):e.getStart(!0);return bw(o)?!n:n},vs=(e,n)=>qh(e,aC(e.selection,n)).exists(o=>(gm(e,o),!0)),Pg=(e,n)=>iC(e,n).exists(o=>(gm(e,o),!0)),pf=(e,n)=>cB(e,n,n?dm:Fi),D0=(e,n)=>wO(e,!n).map(o=>{const a=o.toRange(),c=e.selection.getRng();return n?a.setStart(c.startContainer,c.startOffset):a.setEnd(c.endContainer,c.endOffset),a}).exists(o=>(gm(e,o),!0)),Lk=e=>xe(["figcaption"],ts(e)),Yh=(e,n,o)=>{const a=et(ns,n);return bi(Ke.fromDom(e.container()),c=>o.isBlock(ts(c)),a).filter(Lk)},Gy=(e,n,o)=>n?tB(e.dom,o):eB(e.dom,o),jO=(e,n)=>{const o=Ke.fromDom(e.getBody()),a=kt.fromRangeStart(e.selection.getRng());return Yh(a,o,e.schema).exists(()=>{if(Gy(o,n,a)){const m=ta(e,o,n?Hr:Wa);return e.selection.setRng(m),!0}else return!1})},Mk=(e,n)=>e.selection.isCollapsed()?jO(e,n):!1,_H=(e,n,o)=>{const a=e.selection.getRng(),c=kt.fromRangeStart(a);return e.getBody().firstChild===n&&eB(o,c)?(e.execCommand("InsertNewBlockBefore"),!0):!1},qy=(e,n)=>{const o=e.selection.getRng(),a=kt.fromRangeStart(o);return e.getBody().lastChild===n&&tB(n,a)?(e.execCommand("InsertNewBlockAfter"),!0):!1},SH=(e,n)=>n?J.from(e.dom.getParent(e.selection.getNode(),"details")).map(o=>qy(e,o)).getOr(!1):J.from(e.dom.getParent(e.selection.getNode(),"summary")).bind(o=>J.from(e.dom.getParent(o,"details")).map(a=>_H(e,a,o))).getOr(!1),Ll=(e,n)=>SH(e,n),P0={shiftKey:!1,altKey:!1,ctrlKey:!1,metaKey:!1,keyCode:0},kH=e=>Ve(e,n=>({...P0,...n})),kB=e=>Ve(e,n=>({...P0,...n})),Bk=(e,n)=>n.keyCode===e.keyCode&&n.shiftKey===e.shiftKey&&n.altKey===e.altKey&&n.ctrlKey===e.ctrlKey&&n.metaKey===e.metaKey,EB=(e,n)=>$o(kH(e),o=>Bk(o,n)?[o]:[]),AB=(e,n)=>$o(kB(e),o=>Bk(o,n)?[o]:[]),xo=(e,...n)=>()=>e.apply(null,n),wb=(e,n)=>yn(EB(e,n),o=>o.action()),Fk=(e,n)=>ai(AB(e,n),o=>o.action()),Cb=(e,n)=>{const o=n?Ga.Forwards:Ga.Backwards,a=e.selection.getRng();return DO(e,o,a,c0,Cy,Rt).exists(c=>(gm(e,c),!0))},Yy=(e,n)=>{const o=n?1:-1,a=e.selection.getRng();return lB(e,o,a,c0,Cy,Rt).exists(c=>(gm(e,c),!0))},ZO=(e,n)=>cB(e,n,n?Cy:c0),GO=Jo.generate([{none:["current"]},{first:["current"]},{middle:["current","target"]},{last:["current"]}]),kd={...GO,none:e=>GO.none(e)},TB=(e,n)=>YO(e,n,on),YO=(e,n,o)=>$o(ga(e),a=>Bs(a,n)?o(a)?[a]:[]:YO(a,n,o)),OB=(e,n,o=In)=>{if(o(n))return J.none();if(xe(e,ts(n)))return J.some(n);const a=c=>Bs(c,"table")||o(c);return fu(n,e.join(","),a)},RB=(e,n)=>OB(["td","th"],e,n),EH=e=>TB(e,"th,td"),vt=(e,n)=>Yi(e,"table",n),Zn=(e,n,o,a,c=on)=>{const m=a===1;if(!m&&o<=0)return kd.first(e[0]);if(m&&o>=e.length-1)return kd.last(e[e.length-1]);{const p=o+a,_=e[p];return c(_)?kd.middle(n,_):Zn(e,n,p,a,c)}},Co=(e,n)=>vt(e,n).bind(o=>{const a=EH(o);return Yn(a,m=>ns(e,m)).map(m=>({index:m,all:a}))}),ir=(e,n,o)=>Co(e,o).fold(()=>kd.none(e),c=>Zn(c.all,e,c.index,1,n)),Gr=(e,n,o)=>Co(e,o).fold(()=>kd.none(),c=>Zn(c.all,e,c.index,-1,n)),di=e=>i_(e).filter(n=>n.trim().length!==0||n.indexOf(Pi)>-1).isSome(),ii=e=>$a(e)&&Ia(e,"contenteditable")==="false",Ti=["img","br"],Xy=e=>di(e)||xe(Ti,ts(e))||ii(e),AH=e=>qi(e,Xy),IB=(e,n)=>({left:e.left-n,top:e.top-n,right:e.right+n*2,bottom:e.bottom+n*2,width:e.width+n,height:e.height+n}),DK=(e,n)=>$o(n,o=>{const a=IB(Yf(o.getBoundingClientRect()),-1);return[{x:a.left,y:e(a),cell:o},{x:a.right,y:e(a),cell:o}]}),bne=(e,n,o)=>ln(e,(a,c)=>a.fold(()=>J.some(c),m=>{const p=Math.sqrt(Math.abs(m.x-n)+Math.abs(m.y-o)),_=Math.sqrt(Math.abs(c.x-n)+Math.abs(c.y-o));return J.some(_<p?c:m)}),J.none()),PK=(e,n,o,a,c)=>{const m=vi(Ke.fromDom(o),"td,th,caption").map(_=>_.dom),p=Ge(DK(e,m),_=>n(_,c));return bne(p,a,c).map(_=>_.cell)},vne=e=>e.bottom,yne=e=>e.top,xne=(e,n)=>e.y<n,wne=(e,n)=>e.y>n,Cne=et(PK,vne,xne),_ne=et(PK,yne,wne),Sne=(e,n)=>Tn(n.getClientRects()).bind(o=>Cne(e,o.left,o.top)).bind(o=>Rk(nB(o),n)),kne=(e,n)=>go(n.getClientRects()).bind(o=>_ne(e,o.left,o.top)).bind(o=>Rk(cH(o),n)),Ene=(e,n,o)=>o.breakAt.exists(a=>e(n,a).breakAt.isSome()),Ane=e=>e.breakType===hf.Wrap&&e.positions.length===0,Tne=e=>e.breakType===hf.Br&&e.positions.length===1,NK=(e,n,o)=>{const a=e(n,o);return Ane(a)||!pr(o.getNode())&&Tne(a)?!Ene(e,n,a):a.breakAt.isNone()},One=et(NK,Yw),Rne=et(NK,Xw),Ine=(e,n,o)=>{const a=kt.fromRangeStart(n);return ly(!e,o).exists(c=>c.isEqual(a))},Dne=(e,n,o,a)=>{const c=e.selection.getRng(),m=n?1:-1;return kA()&&Ine(n,c,o)?(Pr(m,e,o,!n,!1).each(p=>{gm(e,p)}),!0):!1},Pne=(e,n,o)=>Sne(n,o).orThunk(()=>Tn(o.getClientRects()).bind(a=>OO(QM(e,kt.before(n)),a.left))).getOr(kt.before(n)),Nne=(e,n,o)=>kne(n,o).orThunk(()=>Tn(o.getClientRects()).bind(a=>OO(Ik(e,kt.after(n)),a.left))).getOr(kt.after(n)),LK=(e,n)=>{const o=n.getNode(e);return pu(o)?J.some(o):J.none()},Lne=(e,n,o)=>{n.undoManager.transact(()=>{const a=e?ut:Tr,c=ta(n,Ke.fromDom(o),a);gm(n,c)})},MK=(e,n,o)=>{const a=LK(!!n,o),c=n===!1;a.fold(()=>gm(e,o.toRange()),m=>ly(c,e.getBody()).filter(p=>p.isEqual(o)).fold(()=>gm(e,o.toRange()),p=>Lne(n,e,m)))},Mne=(e,n,o,a)=>{const c=e.selection.getRng(),m=kt.fromRangeStart(c),p=e.getBody();if(!n&&One(a,m)){const _=Pne(p,o,m);return MK(e,n,_),!0}else if(n&&Rne(a,m)){const _=Nne(p,o,m);return MK(e,n,_),!0}else return!1},BK=(e,n,o)=>J.from(e.dom.getParent(e.selection.getNode(),"td,th")).bind(a=>J.from(e.dom.getParent(a,"table")).map(c=>o(e,n,c,a))).getOr(!1),FK=(e,n)=>BK(e,n,Dne),TH=(e,n)=>BK(e,n,Mne),Bne=e=>{const n=Xp.exact(e,0,e,0);return y7(n)},$K=(e,n,o)=>o.fold(J.none,J.none,(a,c)=>AH(c).map(m=>Bne(m)),a=>(e.execCommand("mceTableInsertRowAfter"),VK(e,n,a))),VK=(e,n,o)=>$K(e,n,ir(o,Cr)),Fne=(e,n,o)=>$K(e,n,Gr(o,Cr)),zK=(e,n)=>{const o=["table","li","dl"],a=Ke.fromDom(e.getBody()),c=_=>{const A=ts(_);return ns(_,a)||xe(o,A)},m=e.selection.getRng(),p=Ke.fromDom(n?m.endContainer:m.startContainer);return RB(p,c).map(_=>(vt(_,c).each(q=>{e.model.table.clearSelectedCells(q.dom)}),e.selection.collapse(!n),(n?VK:Fne)(e,c,_).each(q=>{e.selection.setRng(q)}),!0)).getOr(!1)},$ne=(e,n,o)=>{const a=Uo.os.isMacOS()||Uo.os.isiOS();wb([{keyCode:bn.RIGHT,action:xo(vs,e,!0)},{keyCode:bn.LEFT,action:xo(vs,e,!1)},{keyCode:bn.UP,action:xo(Pg,e,!1)},{keyCode:bn.DOWN,action:xo(Pg,e,!0)},...a?[{keyCode:bn.UP,action:xo(D0,e,!1),metaKey:!0,shiftKey:!0},{keyCode:bn.DOWN,action:xo(D0,e,!0),metaKey:!0,shiftKey:!0}]:[],{keyCode:bn.RIGHT,action:xo(FK,e,!0)},{keyCode:bn.LEFT,action:xo(FK,e,!1)},{keyCode:bn.UP,action:xo(TH,e,!1)},{keyCode:bn.DOWN,action:xo(TH,e,!0)},{keyCode:bn.UP,action:xo(TH,e,!1)},{keyCode:bn.UP,action:xo(Ll,e,!1)},{keyCode:bn.DOWN,action:xo(Ll,e,!0)},{keyCode:bn.RIGHT,action:xo(Cb,e,!0)},{keyCode:bn.LEFT,action:xo(Cb,e,!1)},{keyCode:bn.UP,action:xo(Yy,e,!1)},{keyCode:bn.DOWN,action:xo(Yy,e,!0)},{keyCode:bn.RIGHT,action:xo(MO,e,n,!0)},{keyCode:bn.LEFT,action:xo(MO,e,n,!1)},{keyCode:bn.RIGHT,ctrlKey:!a,altKey:a,action:xo(hB,e,n)},{keyCode:bn.LEFT,ctrlKey:!a,altKey:a,action:xo(pB,e,n)},{keyCode:bn.UP,action:xo(Mk,e,!1)},{keyCode:bn.DOWN,action:xo(Mk,e,!0)}],o).each(c=>{o.preventDefault()})},Vne=(e,n)=>{e.on("keydown",o=>{o.isDefaultPrevented()||$ne(e,n,o)})},Xh=(e,n)=>({container:e,offset:n}),DB=Js.DOM,PB=e=>n=>e===n?-1:0,zne=e=>n=>e.isBlock(n)||xe(["BR","IMG","HR","INPUT"],n.nodeName)||e.getContentEditable(n)==="false",OH=(e,n,o)=>{if(Gt(e)&&n>=0)return J.some(Xh(e,n));{const a=ef(DB);return J.from(a.backwards(e,n,PB(e),o)).map(c=>Xh(c.container,c.container.data.length))}},Hne=(e,n,o)=>{if(Gt(e)&&n>=e.length)return J.some(Xh(e,n));{const a=ef(DB);return J.from(a.forwards(e,n,PB(e),o)).map(c=>Xh(c.container,0))}},RH=(e,n,o)=>{if(!Gt(e))return J.none();const a=e.data;if(n>=0&&n<=a.length)return J.some(Xh(e,n));{const c=ef(DB);return J.from(c.backwards(e,n,PB(e),o)).bind(m=>{const p=m.container.data;return RH(m.container,n+p.length,o)})}},HK=(e,n,o)=>{if(!Gt(e))return J.none();const a=e.data;if(n<=a.length)return J.some(Xh(e,n));{const c=ef(DB);return J.from(c.forwards(e,n,PB(e),o)).bind(m=>HK(m.container,n-a.length,o))}},IH=(e,n,o,a,c)=>{const m=ef(e,zne(e));return J.from(m.backwards(n,o,a,c))},Une=e=>e.collapsed&&Gt(e.startContainer),Wne=e=>Il(e.toString().replace(/\u00A0/g," ")),UK=e=>e!==""&&` \f
\r	\v`.indexOf(e)!==-1,Kne=(e,n)=>e.substring(n.length),jne=(e,n,o,a=!1)=>{let c;const m=o.charAt(0);for(c=n-1;c>=0;c--){const p=e.charAt(c);if(!a&&UK(p))return J.none();if(m===p&&Ms(e,o,c,n))break}return J.some(c)},DH=(e,n,o,a=!1)=>{if(!Une(n))return J.none();const c={text:"",offset:0},m=(_,A,$)=>(c.text=$+c.text,c.offset+=A,jne(c.text,c.offset,o,a).getOr(A)),p=e.getParent(n.startContainer,e.isBlock)||e.getRoot();return IH(e,n.startContainer,n.startOffset,m,p).bind(_=>{const A=n.cloneRange();if(A.setStart(_.container,_.offset),A.setEnd(n.endContainer,n.endOffset),A.collapsed)return J.none();const $=Wne(A);return $.lastIndexOf(o)!==0?J.none():J.some({text:Kne($,o),range:A,trigger:o})})},Zne=e=>e.nodeType===eh,Gne=e=>e.nodeType===kl,WK=e=>{if(Zne(e))return Xh(e,e.data.length);{const n=e.childNodes;return n.length>0?WK(n[n.length-1]):Xh(e,n.length)}},KK=(e,n)=>{const o=e.childNodes;return o.length>0&&n<o.length?KK(o[n],0):o.length>0&&Gne(e)&&o.length===n?WK(o[o.length-1]):Xh(e,n)},qne=(e,n)=>{var o;const a=(o=e.getParent(n.container,e.isBlock))!==null&&o!==void 0?o:e.getRoot();return IH(e,n.container,n.offset,(c,m)=>m===0?-1:m,a).filter(c=>{const m=c.container.data.charAt(c.offset-1);return!UK(m)}).isSome()},Yne=e=>n=>{const o=KK(n.startContainer,n.startOffset);return!qne(e,o)},Xne=(e,n,o)=>ai(o.triggers,a=>DH(e,n,a)),Jne=(e,n)=>{const o=n(),a=e.selection.getRng();return Xne(e.dom,a,o).bind(c=>jK(e,n,c))},jK=(e,n,o,a={})=>{var c;const m=n(),_=(c=e.selection.getRng().startContainer.nodeValue)!==null&&c!==void 0?c:"",A=Ge(m.lookupByTrigger(o.trigger),q=>o.text.length>=q.minChars&&q.matches.getOrThunk(()=>Yne(e.dom))(o.range,_,o.text));if(A.length===0)return J.none();const $=Promise.all(Ve(A,q=>q.fetch(o.text,q.maxResults,a).then(ne=>({matchText:o.text,items:ne,columns:q.columns,onAction:q.onAction,highlightOn:q.highlightOn}))));return J.some({lookupData:$,context:o})};var Jh;(function(e){e[e.Error=0]="Error",e[e.Value=1]="Value"})(Jh||(Jh={}));const PH=(e,n,o)=>e.stype===Jh.Error?n(e.serror):o(e.svalue),Qne=e=>{const n=[],o=[];return be(e,a=>{PH(a,c=>o.push(c),c=>n.push(c))}),{values:n,errors:o}},eoe=(e,n)=>e.stype===Jh.Error?{stype:Jh.Error,serror:n(e.serror)}:e,toe=(e,n)=>e.stype===Jh.Value?{stype:Jh.Value,svalue:n(e.svalue)}:e,noe=(e,n)=>e.stype===Jh.Value?n(e.svalue):e,ooe=(e,n)=>e.stype===Jh.Error?n(e.serror):e,ZK=e=>({stype:Jh.Value,svalue:e}),GK=e=>({stype:Jh.Error,serror:e}),Wl={fromResult:e=>e.fold(GK,ZK),toResult:e=>PH(e,oo.error,oo.value),svalue:ZK,partition:Qne,serror:GK,bind:noe,bindError:ooe,map:toe,mapError:eoe,fold:PH},NH=e=>j(e)&&Jt(e).length>100?" removed due to size":JSON.stringify(e,null,2),soe=e=>{const n=e.length>10?e.slice(0,10).concat([{path:[],getErrorInfo:dt("... (only showing first ten failures)")}]):e;return Ve(n,o=>"Failed path: ("+o.path.join(" > ")+`)
`+o.getErrorInfo())},NB=(e,n)=>Wl.serror([{path:e,getErrorInfo:n}]),roe=(e,n,o)=>NB(e,()=>'Could not find valid *required* value for "'+n+'" in '+NH(o)),ioe=(e,n)=>NB(e,()=>'Choice schema did not contain choice key: "'+n+'"'),aoe=(e,n,o)=>NB(e,()=>'The chosen schema: "'+o+'" did not exist in branches: '+NH(n)),loe=(e,n)=>NB(e,dt(n)),coe=(e,n,o,a)=>Ds(o,a).fold(()=>aoe(e,o,a),m=>m.extract(e.concat(["branch: "+a]),n)),uoe=(e,n)=>({extract:(c,m)=>Ds(m,e).fold(()=>ioe(c,e),_=>coe(c,m,n,_)),toString:()=>"chooseOn("+e+"). Possible values: "+Jt(n)}),doe=(e,n)=>n,foe=(e,n)=>de(e)&&de(n)?LB(e,n):n,qK=e=>(...n)=>{if(n.length===0)throw new Error("Can't merge zero objects");const o={};for(let a=0;a<n.length;a++){const c=n[a];for(const m in c)ho(c,m)&&(o[m]=e(o[m],c[m]))}return o},LB=qK(foe),YK=qK(doe),XK=()=>({tag:"required",process:{}}),moe=e=>({tag:"defaultedThunk",process:e}),JK=e=>moe(dt(e)),goe=()=>({tag:"option",process:{}}),hoe=(e,n)=>e.length>0?Wl.svalue(LB(n,YK.apply(void 0,e))):Wl.svalue(n),QK=e=>Ut(Wl.serror,to)(e),poe={consolidateObj:(e,n)=>{const o=Wl.partition(e);return o.errors.length>0?QK(o.errors):hoe(o.values,n)},consolidateArr:e=>{const n=Wl.partition(e);return n.errors.length>0?QK(n.errors):Wl.svalue(n.values)}},boe=(e,n,o,a)=>({tag:"field",key:e,newKey:n,presence:o,prop:a}),voe=(e,n)=>({tag:"custom",newKey:e,instantiator:n}),ej=(e,n,o)=>{switch(e.tag){case"field":return n(e.key,e.newKey,e.presence,e.prop);case"custom":return o(e.newKey,e.instantiator)}},LH=e=>{const n=(a,c)=>Wl.bindError(e(c),m=>loe(a,m)),o=dt("val");return{extract:n,toString:o}},yoe=LH(Wl.svalue),xoe=(e,n,o,a)=>Ds(n,o).fold(()=>roe(e,o,n),a),tj=(e,n,o,a)=>{const c=Ds(e,n).getOrThunk(()=>o(e));return a(c)},woe=(e,n,o)=>o(Ds(e,n)),Coe=(e,n,o,a)=>{const c=Ds(e,n).map(m=>m===!0?o(e):m);return a(c)},_oe=(e,n,o,a,c)=>{const m=_=>c.extract(n.concat([a]),_),p=_=>_.fold(()=>Wl.svalue(J.none()),A=>{const $=c.extract(n.concat([a]),A);return Wl.map($,J.some)});switch(e.tag){case"required":return xoe(n,o,a,m);case"defaultedThunk":return tj(o,a,e.process,m);case"option":return woe(o,a,p);case"defaultedOptionThunk":return Coe(o,a,e.process,p);case"mergeWithThunk":return tj(o,a,dt({}),_=>{const A=LB(e.process(o),_);return m(A)})}},Soe=(e,n,o)=>{const a={},c=[];for(const m of o)ej(m,(p,_,A,$)=>{const q=_oe(A,e,n,p,$);Wl.fold(q,X=>{c.push(...X)},X=>{a[_]=X})},(p,_)=>{a[p]=_(n)});return c.length>0?Wl.serror(c):Wl.svalue(a)},MH=e=>({extract:(a,c)=>Soe(a,c,e),toString:()=>`obj{
`+Ve(e,c=>ej(c,(m,p,_,A)=>m+" -> "+A.toString(),(m,p)=>"state("+m+")")).join(`
`)+"}"}),nj=e=>({extract:(a,c)=>{const m=Ve(c,(p,_)=>e.extract(a.concat(["["+_+"]"]),p));return poe.consolidateArr(m)},toString:()=>"array("+e.toString()+")"}),koe=e=>LH(n=>e(n).fold(Wl.serror,Wl.svalue)),Eoe=(e,n,o)=>{const a=n.extract([e],o);return Wl.mapError(a,c=>({input:o,errors:c}))},Aoe=(e,n,o)=>Wl.toResult(Eoe(e,n,o)),Toe=e=>`Errors: 
`+soe(e.errors).join(`
`)+`

Input object: `+NH(e.input),oj=(e,n)=>uoe(e,jl(n,MH)),Ooe=dt(yoe),MB=(e,n)=>LH(o=>{const a=typeof o;return e(o)?Wl.svalue(o):Wl.serror(`Expected type: ${n} but got: ${a}`)}),Roe=MB(R,"number"),BB=MB(ue,"string"),Ioe=MB(Fe,"boolean"),BH=MB(_e,"function"),XO=boe,sj=voe,Doe=e=>koe(n=>xe(e,n)?oo.value(n):oo.error(`Unsupported value: "${n}", choose one of "${e.join(", ")}".`)),rj=(e,n)=>XO(e,e,XK(),n),ij=e=>rj(e,BB),aj=e=>rj(e,BH),Poe=(e,n)=>XO(e,e,XK(),nj(n)),FH=(e,n)=>XO(e,e,goe(),n),FB=e=>FH(e,BB),Noe=e=>FH(e,BH),Loe=(e,n)=>XO(e,e,JK(n),Ooe()),$k=(e,n,o)=>XO(e,e,JK(n),o),lj=(e,n)=>$k(e,n,Roe),Moe=(e,n)=>$k(e,n,BB),cj=(e,n,o)=>$k(e,n,Doe(o)),$H=(e,n)=>$k(e,n,Ioe),VH=(e,n)=>$k(e,n,BH),Boe=(e,n,o)=>$k(e,n,nj(o)),Foe=ij("type"),$oe=aj("fetch"),zH=aj("onAction"),Voe=VH("onSetup",()=>St),zoe=FB("text"),Hoe=FB("icon"),Uoe=FB("tooltip"),Woe=FB("label"),Koe=$H("active",!1),joe=$H("enabled",!0),uj=$H("primary",!1),Zoe=e=>Loe("columns",e),JO=e=>Moe("type",e),Goe=MH([Foe,ij("trigger"),lj("minChars",1),Zoe(1),lj("maxResults",10),Noe("matches"),$oe,zH,Boe("highlightOn",[],BB)]),qoe=e=>Aoe("Autocompleter",Goe,e),HH=[joe,Uoe,Hoe,zoe,Voe],dj=[Koe].concat(HH),Yoe=[VH("predicate",In),cj("scope","node",["node","editor"]),cj("position","selection",["node","selection","line"])],Xoe=HH.concat([JO("contextformbutton"),uj,zH,sj("original",An)]),Joe=dj.concat([JO("contextformbutton"),uj,zH,sj("original",An)]),Qoe=HH.concat([JO("contextformbutton")]),ese=dj.concat([JO("contextformtogglebutton")]),tse=oj("type",{contextformbutton:Xoe,contextformtogglebutton:Joe});MH([JO("contextform"),VH("initValue",dt("")),Woe,Poe("commands",tse),FH("launch",oj("type",{contextformbutton:Qoe,contextformtogglebutton:ese}))].concat(Yoe));const nse=e=>{const n=e.ui.registry.getAll().popups,o=jl(n,p=>qoe(p).fold(_=>{throw new Error(Toe(_))},An)),a=Gu(wl(o,p=>p.trigger)),c=Zu(o);return{dataset:o,triggers:a,lookupByTrigger:p=>Ge(c,_=>_.trigger===p)}},ose=(e,n)=>{const o=Pp(n.load,50);e.on("input",a=>{a.inputType==="insertCompositionText"&&!e.composing||o.throttle()}),e.on("keydown",a=>{const c=a.which;c===8?o.throttle():c===27?(o.cancel(),n.cancelIfNecessary()):(c===38||c===40)&&o.cancel()},!0),e.on("remove",o.cancel)},sse=e=>{const n=Li(),o=Ni(!1),a=n.isSet,c=()=>{a()&&(r7(e),o.set(!1),n.clear())},m=X=>{a()||n.set({trigger:X.trigger,matchLength:X.text.length})},p=$l(()=>nse(e)),_=X=>n.get().map(ne=>DH(e.dom,e.selection.getRng(),ne.trigger,!0).bind(ve=>jK(e,p,ve,X))).getOrThunk(()=>Jne(e,p)),A=X=>{_(X).fold(c,ne=>{m(ne.context),ne.lookupData.then(ve=>{n.get().map(Oe=>{const ye=ne.context;Oe.trigger===ye.trigger&&(n.set({...Oe,matchLength:ye.text.length}),o.get()?(YA(e,{range:ye.range}),qA(e,{lookupData:ve})):(o.set(!0),YA(e,{range:ye.range}),GA(e,{lookupData:ve})))})})})},$=(X,ne)=>{const ve=X.compareBoundaryPoints(window.Range.START_TO_START,ne),Oe=X.compareBoundaryPoints(window.Range.END_TO_END,ne);return ve>=0&&Oe<=0},q=()=>n.get().bind(({trigger:X})=>{const ne=e.selection.getRng();return DH(e.dom,ne,X,o.get()).filter(({range:ve})=>$(ne,ve)).map(({range:ve})=>ve)});e.addCommand("mceAutocompleterReload",(X,ne)=>{const ve=j(ne)?ne.fetchOptions:{};A(ve)}),e.addCommand("mceAutocompleterClose",c),e.addCommand("mceAutocompleterRefreshActiveRange",()=>{q().each(X=>{YA(e,{range:X})})}),e.editorCommands.addQueryStateHandler("mceAutoCompleterInRange",()=>q().isSome()),ose(e,{cancelIfNecessary:c,load:A})},rse=la().browser.isSafari(),fj=e=>Uc(Ke.fromDom(e)),mj=(e,n)=>{var o;return e.startOffset===0&&e.endOffset===((o=n.textContent)===null||o===void 0?void 0:o.length)},$B=(e,n)=>J.from(e.getParent(n.container(),"details")),gj=(e,n)=>$B(e,n).isSome(),ise=(e,n)=>{const o=J.from(e.getParent(n.startContainer,"details")),a=J.from(e.getParent(n.endContainer,"details"));if(o.isSome()||a.isSome()){const c=o.bind(m=>J.from(e.select("summary",m)[0]));return J.some({startSummary:c,startDetails:o,endDetails:a})}else return J.none()},ase=(e,n)=>so(n).exists(o=>o.isEqual(e)),lse=(e,n)=>fd(n).exists(o=>pr(o.getNode())&&jc(n,o).exists(a=>a.isEqual(e))||o.isEqual(e)),cse=(e,n)=>n.startSummary.exists(o=>ase(e,o)),use=(e,n)=>n.startSummary.exists(o=>lse(e,o)),dse=(e,n)=>n.startDetails.exists(o=>jc(o,e).forall(a=>n.startSummary.exists(c=>!c.contains(e.container())&&c.contains(a.container())))),fse=(e,n,o)=>o.startDetails.exists(a=>Ql(e,n).forall(c=>!a.contains(c.container()))),hj=(e,n)=>{const o=n.getNode();Je(o)||e.selection.setCursorLocation(o,n.offset())},pj=(e,n,o)=>{const a=e.dom.getParent(n.container(),"details");if(a&&!a.open){const c=e.dom.select("summary",a)[0];c&&(o?so(c):fd(c)).each(p=>hj(e,p))}else hj(e,n)},mse=(e,n)=>{const o=A=>A.contains(e.startContainer),a=A=>A.contains(e.endContainer),c=n.startSummary.exists(o),m=n.startSummary.exists(a),p=n.startDetails.forall(A=>n.endDetails.forall($=>A!==$));return(c||m)&&!(c&&m)||p},bj=(e,n,o)=>{const{dom:a,selection:c}=e,m=e.getBody();if(o==="character"){const p=kt.fromRangeStart(c.getRng()),_=a.getParent(p.container(),a.isBlock),A=$B(a,p),$=_&&a.isEmpty(_),q=ze(_==null?void 0:_.previousSibling),X=ze(_==null?void 0:_.nextSibling);return $&&(n?X:q)&&Yv(!n,m,p).exists(Oe=>gj(a,Oe)&&!Af(A,$B(a,Oe)))?!0:Yv(n,m,p).fold(In,ne=>{const ve=$B(a,ne);if(gj(a,ne)&&!Af(A,ve)){if(n||pj(e,ne,!1),_&&$){if(n&&q)return!0;if(!n&&X)return!0;pj(e,ne,n),e.dom.remove(_)}return!0}else return!1})}else return!1},gse=(e,n,o,a)=>{const m=e.selection.getRng(),p=kt.fromRangeStart(m),_=e.getBody();return a==="selection"?mse(m,n):o?use(p,n)||fse(_,p,n):cse(p,n)||dse(p,n)},hse=(e,n,o)=>ise(e.dom,e.selection.getRng()).fold(()=>bj(e,n,o),a=>gse(e,a,n,o)||bj(e,n,o)),pse=(e,n,o)=>{const a=e.selection,c=a.getNode(),m=a.getRng(),p=kt.fromRangeStart(m);return Ep(c)?(o==="selection"&&mj(m,c)||xN(n,p,c)?fj(c):e.undoManager.transact(()=>{const _=a.getSel();let{anchorNode:A,anchorOffset:$,focusNode:q,focusOffset:X}=_??{};const ne=()=>{we(A)&&we($)&&we(q)&&we(X)&&(_==null||_.setBaseAndExtent(A,$,q,X))},ve=()=>{A=_==null?void 0:_.anchorNode,$=_==null?void 0:_.anchorOffset,q=_==null?void 0:_.focusNode,X=_==null?void 0:_.focusOffset},Oe=(Pe,Ye)=>{be(Pe.childNodes,st=>{my(st)&&Ye.appendChild(st)})},ye=e.dom.create("span",{"data-mce-bogus":"1"});Oe(c,ye),c.appendChild(ye),ne(),(o==="word"||o==="line")&&(_==null||_.modify("extend",n?"right":"left",o)),!a.isCollapsed()&&mj(a.getRng(),ye)?fj(c):(e.execCommand(n?"ForwardDelete":"Delete"),ve(),Oe(ye,c),ne()),e.dom.remove(ye)}),!0):!1},lC=(e,n,o)=>hse(e,n,o)||rse&&pse(e,n,o)?J.some(St):J.none(),vj=e=>(n,o,a={})=>{const c=n.getBody(),m={bubbles:!0,composed:!0,data:null,isComposing:!1,detail:0,view:null,target:c,currentTarget:c,eventPhase:Event.AT_TARGET,originalTarget:c,explicitOriginalTarget:c,isTrusted:!1,srcElement:c,cancelable:!1,preventDefault:St,inputType:o},p=Jm(new InputEvent(e));return n.dispatch(e,{...p,...m,...a})},QO=vj("input"),VB=vj("beforeinput"),yj=la(),xj=yj.os,wj=xj.isMacOS()||xj.isiOS(),bse=yj.browser.isFirefox(),vse=(e,n,o)=>{const a=o.keyCode===bn.BACKSPACE?"deleteContentBackward":"deleteContentForward",c=e.selection.isCollapsed(),m=c?"character":"selection",p=_=>c?_?"word":"line":"selection";Fk([{keyCode:bn.BACKSPACE,action:xo(Et,e)},{keyCode:bn.BACKSPACE,action:xo(_O,e,!1)},{keyCode:bn.DELETE,action:xo(_O,e,!0)},{keyCode:bn.BACKSPACE,action:xo(xO,e,!1)},{keyCode:bn.DELETE,action:xo(xO,e,!0)},{keyCode:bn.BACKSPACE,action:xo(nC,e,n,!1)},{keyCode:bn.DELETE,action:xo(nC,e,n,!0)},{keyCode:bn.BACKSPACE,action:xo(Vh,e,!1)},{keyCode:bn.DELETE,action:xo(Vh,e,!0)},{keyCode:bn.BACKSPACE,action:xo(lC,e,!1,m)},{keyCode:bn.DELETE,action:xo(lC,e,!0,m)},...wj?[{keyCode:bn.BACKSPACE,altKey:!0,action:xo(lC,e,!1,p(!0))},{keyCode:bn.DELETE,altKey:!0,action:xo(lC,e,!0,p(!0))},{keyCode:bn.BACKSPACE,metaKey:!0,action:xo(lC,e,!1,p(!1))}]:[{keyCode:bn.BACKSPACE,ctrlKey:!0,action:xo(lC,e,!1,p(!0))},{keyCode:bn.DELETE,ctrlKey:!0,action:xo(lC,e,!0,p(!0))}],{keyCode:bn.BACKSPACE,action:xo(kO,e,!1)},{keyCode:bn.DELETE,action:xo(kO,e,!0)},{keyCode:bn.BACKSPACE,action:xo(Q,e,!1)},{keyCode:bn.DELETE,action:xo(Q,e,!0)},{keyCode:bn.BACKSPACE,action:xo(bO,e,!1)},{keyCode:bn.DELETE,action:xo(bO,e,!0)},{keyCode:bn.BACKSPACE,action:xo(Sk,e,!1)},{keyCode:bn.DELETE,action:xo(Sk,e,!0)},{keyCode:bn.BACKSPACE,action:xo(w,e,!1)},{keyCode:bn.DELETE,action:xo(w,e,!0)},{keyCode:bn.BACKSPACE,action:xo(SO,e,!1)},{keyCode:bn.DELETE,action:xo(SO,e,!0)}],o).filter(_=>e.selection.isEditable()).each(_=>{o.preventDefault(),VB(e,a).isDefaultPrevented()||(_(),QO(e,a))})},yse=(e,n,o)=>wb([{keyCode:bn.BACKSPACE,action:xo(IM,e)},{keyCode:bn.DELETE,action:xo(IM,e)},...wj?[{keyCode:bn.BACKSPACE,altKey:!0,action:xo(F,e)},{keyCode:bn.DELETE,altKey:!0,action:xo(F,e)},...o?[{keyCode:bse?224:91,action:xo(F,e)}]:[]]:[{keyCode:bn.BACKSPACE,ctrlKey:!0,action:xo(F,e)},{keyCode:bn.DELETE,ctrlKey:!0,action:xo(F,e)}]],n),xse=(e,n)=>{let o=!1;e.on("keydown",a=>{o=a.keyCode===bn.BACKSPACE,a.isDefaultPrevented()||vse(e,n,a)}),e.on("keyup",a=>{a.isDefaultPrevented()||yse(e,a,o),o=!1})},wse=e=>{for(;e;){if(Nn(e)||Gt(e)&&e.data&&/[\r\n\s]/.test(e.data))return e;e=e.nextSibling}return null},Vk=(e,n)=>{const o=e.dom,a=e.schema.getMoveCaretBeforeOnEnterElements();if(!n)return;if(/^(LI|DT|DD)$/.test(n.nodeName)){const m=wse(n.firstChild);m&&/^(UL|OL|DL)$/.test(m.nodeName)&&n.insertBefore(o.doc.createTextNode(Pi),n.firstChild)}const c=o.createRng();if(n.normalize(),n.hasChildNodes()){const m=new ha(n,n);let p=n,_;for(;_=m.current();){if(Gt(_)){c.setStart(_,0),c.setEnd(_,0);break}if(a[_.nodeName.toLowerCase()]){c.setStartBefore(_),c.setEndBefore(_);break}p=_,_=m.next()}_||(c.setStart(p,0),c.setEnd(p,0))}else pr(n)?n.nextSibling&&o.isBlock(n.nextSibling)?(c.setStartBefore(n),c.setEndBefore(n)):(c.setStartAfter(n),c.setEndAfter(n)):(c.setStart(n,0),c.setEnd(n,0));e.selection.setRng(c),hd(e,c)},eR=(e,n)=>{const o=e.getRoot();let a,c=n;for(;c!==o&&c&&e.getContentEditable(c)!=="false";){if(e.getContentEditable(c)==="true"){a=c;break}c=c.parentNode}return c!==o?a:o},UH=e=>J.from(e.dom.getParent(e.selection.getStart(!0),e.dom.isBlock)),Cse=e=>UH(e).fold(dt(""),n=>n.nodeName.toUpperCase()),_se=e=>UH(e).filter(n=>rg(Ke.fromDom(n))).isSome(),WH=e=>{e.innerHTML='<br data-mce-bogus="1">'},Sse=(e,n,o)=>{const a=e.dom;J.from(o.style).map(a.parseStyle).each(A=>{const q={...sh(Ke.fromDom(n)),...A};a.setStyles(n,q)});const c=J.from(o.class).map(A=>A.split(/\s+/)),m=J.from(n.className).map(A=>Ge(A.split(/\s+/),$=>$!==""));ua(c,m,(A,$)=>{const q=Ge($,ne=>!xe(A,ne)),X=[...A,...q];a.setAttrib(n,"class",X.join(" "))});const p=["style","class"],_=Ac(o,(A,$)=>!xe(p,$));a.setAttribs(n,_)},tR=(e,n)=>{if(gl(e).toLowerCase()===n.tagName.toLowerCase()){const a=y2(e);Sse(e,n,a)}},Cj=(e,n,o,a,c=!0,m,p)=>{const _=e.dom,A=e.schema,$=gl(e),q=o?o.nodeName.toUpperCase():"";let X=n;const ne=A.getTextInlineElements();let ve;m||q==="TABLE"||q==="HR"?ve=_.create(m||$,p||{}):ve=o.cloneNode(!1);let Oe=ve;if(!c)_.setAttrib(ve,"style",null),_.setAttrib(ve,"class",null);else do if(ne[X.nodeName]){if(Au(X)||Tu(X))continue;const ye=X.cloneNode(!1);_.setAttrib(ye,"id",""),ve.hasChildNodes()?(ye.appendChild(ve.firstChild),ve.appendChild(ye)):(Oe=ye,ve.appendChild(ye))}while((X=X.parentNode)&&X!==a);return tR(e,ve),WH(Oe),ve},kse=(e,n)=>e.dom.getParent(n,kp),Ese=(e,n,o)=>{let a=n;for(;a&&a!==e&&ze(a.nextSibling);){const c=a.parentElement;if(!c||!o(c))return kp(c);a=c}return!1},Ase=(e,n,o)=>!n&&o.nodeName.toLowerCase()===gl(e)&&e.dom.isEmpty(o)&&Ese(e.getBody(),o,a=>ho(e.schema.getTextBlockElements(),a.nodeName.toLowerCase())),Tse=(e,n,o)=>{var a,c,m;const p=n(gl(e)),_=kse(e,o);_&&(e.dom.insertAfter(p,_),Vk(e,p),((m=(c=(a=o.parentElement)===null||a===void 0?void 0:a.childNodes)===null||c===void 0?void 0:c.length)!==null&&m!==void 0?m:0)>1&&e.dom.remove(o))},Ose=(e,n)=>e.firstChild&&e.firstChild.nodeName===n,Rse=e=>{var n;return((n=e.parentNode)===null||n===void 0?void 0:n.firstChild)===e},_j=(e,n)=>{const o=e==null?void 0:e.parentNode;return we(o)&&o.nodeName===n},Sj=e=>we(e)&&/^(OL|UL|LI)$/.test(e.nodeName),KH=e=>we(e)&&/^(LI|DT|DD)$/.test(e.nodeName),Ise=e=>Sj(e)&&Sj(e.parentNode),zB=e=>{const n=e.parentNode;return KH(n)?n:e},HB=(e,n,o)=>{let a=e[o?"firstChild":"lastChild"];for(;a&&!Nn(a);)a=a[o?"nextSibling":"previousSibling"];return a===n},kj=e=>ln(wl(sh(Ke.fromDom(e)),(n,o)=>`${o}: ${n};`),(n,o)=>n+o,""),Dse=(e,n,o,a,c)=>{const m=e.dom,p=e.selection.getRng(),_=o.parentNode;if(o===e.getBody()||!_)return;Ise(o)&&(c="LI");const A=KH(a)?kj(a):void 0;let $=KH(a)&&A?n(c,{style:kj(a)}):n(c);if(HB(o,a,!0)&&HB(o,a,!1))if(_j(o,"LI")){const q=zB(o);m.insertAfter($,q),Rse(o)?m.remove(q):m.remove(o)}else m.replace($,o);else if(HB(o,a,!0))_j(o,"LI")?(m.insertAfter($,zB(o)),$.appendChild(m.doc.createTextNode(" ")),$.appendChild(o)):_.insertBefore($,o),m.remove(a);else if(HB(o,a,!1))m.insertAfter($,zB(o)),m.remove(a);else{o=zB(o);const q=p.cloneRange();q.setStartAfter(a),q.setEndAfter(o);const X=q.extractContents();if(c==="LI"&&Ose(X,"LI")){const ne=Ge(Ve($.children,Ke.fromDom),Me(If("br")));$=X.firstChild,m.insertAfter(X,o),be(ne,ve=>Wa(Ke.fromDom($),ve)),A&&$.setAttribute("style",A)}else m.insertAfter(X,o),m.insertAfter($,o);m.remove(a)}Vk(e,$)},Pse=e=>{be(Km(Ke.fromDom(e),ur),n=>{const o=n.dom;o.nodeValue=Il(o.data)})},Nse=(e,n)=>{const o=e.dom.getParent(n,"ol,ul,dl");return o!==null&&e.dom.getContentEditableParent(o)==="false"},Lse=(e,n)=>n&&n.nodeName==="A"&&e.isEmpty(n),jH=(e,n)=>e.nodeName===n||e.previousSibling&&e.previousSibling.nodeName===n,ZH=(e,n)=>we(n)&&e.isBlock(n)&&!/^(TD|TH|CAPTION|FORM)$/.test(n.nodeName)&&!/^(fixed|absolute)/i.test(n.style.position)&&e.isEditable(n.parentNode)&&e.getContentEditable(n)!=="false",Mse=(e,n,o)=>{var a;const c=[];if(!o)return;let m=o;for(;m=m.firstChild;){if(e.isBlock(m))return;Nn(m)&&!n[m.nodeName.toLowerCase()]&&c.push(m)}let p=c.length;for(;p--;)m=c[p],(!m.hasChildNodes()||m.firstChild===m.lastChild&&((a=m.firstChild)===null||a===void 0?void 0:a.nodeValue)===""||Lse(e,m))&&e.remove(m)},GH=(e,n,o)=>Gt(n)?e?o===1&&n.data.charAt(o-1)===Ei?0:o:o===n.data.length-1&&n.data.charAt(o)===Ei?n.data.length:o:o,Bse=e=>{const n=e.cloneRange();return n.setStart(e.startContainer,GH(!0,e.startContainer,e.startOffset)),n.setEnd(e.endContainer,GH(!1,e.endContainer,e.endOffset)),n},Fse=e=>{let n=e;do Gt(n)&&(n.data=n.data.replace(/^[\r\n]+/,"")),n=n.firstChild;while(n)},$se=(e,n,o,a,c)=>{var m,p;const _=e.dom,A=(m=eR(_,a))!==null&&m!==void 0?m:_.getRoot();let $=_.getParent(a,_.isBlock);if(!$||!ZH(_,$)){if($=$||A,!$.hasChildNodes()){const ve=_.create(n);return tR(e,ve),$.appendChild(ve),o.setStart(ve,0),o.setEnd(ve,0),ve}let q=a;for(;q&&q.parentNode!==$;)q=q.parentNode;let X;for(;q&&!_.isBlock(q);)X=q,q=q.previousSibling;const ne=(p=X==null?void 0:X.parentElement)===null||p===void 0?void 0:p.nodeName;if(X&&ne&&e.schema.isValidChild(ne,n.toLowerCase())){const ve=X.parentNode,Oe=_.create(n);for(tR(e,Oe),ve.insertBefore(Oe,X),q=X;q&&!_.isBlock(q);){const ye=q.nextSibling;Oe.appendChild(q),q=ye}o.setStart(a,c),o.setEnd(a,c)}}return a},Vse=(e,n)=>{n.normalize();const o=n.lastChild;(!o||Nn(o)&&/^(left|right)$/gi.test(e.getStyle(o,"float",!0)))&&e.add(n,"br")},zse=(e,n)=>{const o=aA(e);return rt(n)?!1:ue(o)?xe(nn.explode(o),n.nodeName.toLowerCase()):o},Ej={insert:(e,n)=>{let o,a,c,m,p=!1;const _=e.dom,A=e.schema,$=A.getNonEmptyElements(),q=e.selection.getRng(),X=gl(e),ne=Ke.fromDom(q.startContainer),ve=td(ne,q.startOffset),Oe=ve.exists(Vt=>$a(Vt)&&!Cr(Vt)),ye=q.collapsed&&Oe,Pe=(Vt,Dn)=>Cj(e,o,tn,Ht,iA(e),Vt,Dn),Ye=Vt=>{const Dn=GH(Vt,o,a);if(Gt(o)&&(Vt?Dn>0:Dn<o.data.length))return!1;if((o.parentNode===tn||o===tn)&&p&&!Vt||Vt&&Nn(o)&&o===tn.firstChild)return!0;if(jH(o,"TABLE")||jH(o,"HR"))return p&&!Vt||!p&&Vt;const Wn=new ha(o,tn);Gt(o)&&(Vt&&Dn===0?Wn.prev():!Vt&&Dn===o.data.length&&Wn.next());let Vo;for(;Vo=Wn.current();){if(Nn(Vo)){if(!Vo.getAttribute("data-mce-bogus")){const Go=Vo.nodeName.toLowerCase();if($[Go]&&Go!=="br")return!1}}else if(Gt(Vo)&&!cc(Vo.data))return!1;Vt?Wn.prev():Wn.next()}return!0},st=()=>{let Vt;return/^(H[1-6]|PRE|FIGURE)$/.test(c)&&_n!=="HGROUP"?Vt=Pe(X):Vt=Pe(),zse(e,m)&&ZH(_,m)&&_.isEmpty(tn,void 0,{includeZwsp:!0})?Vt=_.split(m,tn):_.insertAfter(Vt,tn),Vk(e,Vt),Vt};bg(_,q).each(Vt=>{q.setStart(Vt.startContainer,Vt.startOffset),q.setEnd(Vt.endContainer,Vt.endOffset)}),o=q.startContainer,a=q.startOffset;const nt=!!(n&&n.shiftKey),bt=!!(n&&n.ctrlKey);Nn(o)&&o.hasChildNodes()&&!ye&&(p=a>o.childNodes.length-1,o=o.childNodes[Math.min(a,o.childNodes.length-1)]||o,p&&Gt(o)?a=o.data.length:a=0);const Ht=eR(_,o);if(!Ht||Nse(e,o))return;nt||(o=$se(e,X,q,o,a));let tn=_.getParent(o,_.isBlock)||_.getRoot();m=we(tn==null?void 0:tn.parentNode)?_.getParent(tn.parentNode,_.isBlock):null,c=tn?tn.nodeName.toUpperCase():"";const _n=m?m.nodeName.toUpperCase():"";if(_n==="LI"&&!bt){const Vt=m;tn=Vt,m=Vt.parentNode,c=_n}if(Nn(m)&&Ase(e,nt,tn))return Tse(e,Pe,tn);if(/^(LI|DT|DD)$/.test(c)&&Nn(m)&&_.isEmpty(tn)){Dse(e,Pe,m,tn,X);return}if(!ye&&(tn===e.getBody()||!ZH(_,tn)))return;const Dt=tn.parentNode;let Ct;if(ye)Ct=Pe(X),ve.fold(()=>{Hr(ne,Ke.fromDom(Ct))},Vt=>{Tr(Vt,Ke.fromDom(Ct))}),e.selection.setCursorLocation(Ct,0);else if(Lp(tn))Ct=kh(tn),_.isEmpty(tn)&&WH(tn),tR(e,Ct),Vk(e,Ct);else if(Ye(!1))Ct=st();else if(Ye(!0)&&Dt){const Vt=kt.fromRangeStart(q),Dn=_y(Vt),Wn=Ke.fromDom(tn),Go=d0(Wn,Vt,e.schema)?gS(Wn,Vt,e.schema).bind(Ks=>J.from(Ks.getNode())):J.none();Ct=Dt.insertBefore(Pe(),tn);const Ns=jH(tn,"HR")||Dn?Ct:Go.getOr(tn);Vk(e,Ns)}else{const Vt=Bse(q).cloneRange();Vt.setEndAfter(tn);const Dn=Vt.extractContents();Pse(Dn),Fse(Dn),Ct=Dn.firstChild,_.insertAfter(Dn,tn),Mse(_,$,Ct),Vse(_,tn),_.isEmpty(tn)&&WH(tn),Ct.normalize(),_.isEmpty(Ct)?(_.remove(Ct),st()):(tR(e,Ct),Vk(e,Ct))}_.setAttrib(Ct,"id",""),e.dispatch("NewBlock",{newBlock:Ct})},fakeEventName:"insertParagraph"},Hse=(e,n,o)=>{const a=new ha(n,o);let c;const m=e.getNonEmptyElements();for(;c=a.next();)if(m[c.nodeName.toLowerCase()]||Gt(c)&&c.length>0)return!0;return!1},Aj=(e,n,o)=>{const a=e.dom.createRng();o?(a.setStartBefore(n),a.setEndBefore(n)):(a.setStartAfter(n),a.setEndAfter(n)),e.selection.setRng(a),hd(e,a)},Use=(e,n)=>{const o=e.selection,a=e.dom,c=o.getRng();let m,p=!1;bg(a,c).each(ve=>{c.setStart(ve.startContainer,ve.startOffset),c.setEnd(ve.endContainer,ve.endOffset)});let _=c.startOffset,A=c.startContainer;if(Nn(A)&&A.hasChildNodes()){const ve=_>A.childNodes.length-1;A=A.childNodes[Math.min(_,A.childNodes.length-1)]||A,ve&&Gt(A)?_=A.data.length:_=0}let $=a.getParent(A,a.isBlock);const q=$&&$.parentNode?a.getParent($.parentNode,a.isBlock):null,X=q?q.nodeName.toUpperCase():"",ne=!!(n&&n.ctrlKey);X==="LI"&&!ne&&($=q),Gt(A)&&_>=A.data.length&&(Hse(e.schema,A,$||a.getRoot())||(m=a.create("br"),c.insertNode(m),c.setStartAfter(m),c.setEndAfter(m),p=!0)),m=a.create("br"),ey(a,c,m),Aj(e,m,p),e.undoManager.add()},Wse=(e,n)=>{const o=Ke.fromTag("br");Tr(Ke.fromDom(n),o),e.undoManager.add()},Kse=(e,n)=>{Zse(e.getBody(),n)||ut(Ke.fromDom(n),Ke.fromTag("br"));const o=Ke.fromTag("br");ut(Ke.fromDom(n),o),Aj(e,o.dom,!1),e.undoManager.add()},jse=e=>pr(e.getNode()),Zse=(e,n)=>jse(kt.after(n))?!0:Ql(e,kt.after(n)).map(o=>pr(o.getNode())).getOr(!1),Tj=e=>e&&e.nodeName==="A"&&"href"in e,Gse=e=>e.fold(In,Tj,Tj,In),qse=e=>{const n=et(m0,e),o=kt.fromRangeStart(e.selection.getRng());return Rg(n,e.getBody(),o).filter(Gse)},Yse=(e,n)=>{n.fold(St,et(Wse,e),et(Kse,e),St)},Oj={insert:(e,n)=>{const o=qse(e);o.isSome()?o.each(et(Yse,e)):Use(e,n)},fakeEventName:"insertLineBreak"},Rj=(e,n)=>UH(e).filter(o=>n.length>0&&Bs(Ke.fromDom(o),n)).isSome(),Xse=e=>Rj(e,_I(e)),Jse=e=>Rj(e,SI(e)),bf=Jo.generate([{br:[]},{block:[]},{none:[]}]),Qse=(e,n)=>Jse(e),Ij=e=>(n,o)=>_se(n)===e,Dj=(e,n)=>(o,a)=>Cse(o)===e.toUpperCase()===n,ere=e=>{const n=eR(e.dom,e.selection.getStart());return rt(n)},nR=e=>Dj("pre",e),tre=()=>Dj("summary",!0),UB=e=>(n,o)=>sA(n)===e,nre=(e,n)=>Xse(e),WB=(e,n)=>n,ore=e=>{const n=gl(e),o=eR(e.dom,e.selection.getStart());return we(o)&&e.schema.isValidChild(o.nodeName,n)},sre=e=>{const n=e.selection.getRng(),o=Ke.fromDom(n.startContainer),c=td(o,n.startOffset).map(m=>$a(m)&&!Cr(m));return n.collapsed&&c.getOr(!0)},hm=(e,n)=>(o,a)=>ln(e,(m,p)=>m&&p(o,a),!0)?J.some(n):J.none(),rre=(e,n)=>HM([hm([Qse],bf.none()),hm([nR(!0),ere],bf.none()),hm([tre()],bf.br()),hm([nR(!0),UB(!1),WB],bf.br()),hm([nR(!0),UB(!1)],bf.block()),hm([nR(!0),UB(!0),WB],bf.block()),hm([nR(!0),UB(!0)],bf.br()),hm([Ij(!0),WB],bf.br()),hm([Ij(!0)],bf.block()),hm([nre],bf.br()),hm([WB],bf.br()),hm([ore],bf.block()),hm([sre],bf.block())],[e,!!(n&&n.shiftKey)]).getOr(bf.none()),KB=(e,n,o)=>{n.selection.isCollapsed()||vN(n),!(we(o)&&VB(n,e.fakeEventName).isDefaultPrevented())&&(e.insert(n,o),we(o)&&QO(n,e.fakeEventName))},Pj=(e,n)=>{const o=()=>KB(Oj,e,n),a=()=>KB(Ej,e,n),c=rre(e,n);switch(rA(e)){case"linebreak":c.fold(o,o,St);break;case"block":c.fold(a,a,St);break;case"invert":c.fold(a,o,St);break;default:c.fold(o,a,St);break}},Nj=la(),ire=Nj.os.isiOS()&&Nj.browser.isSafari(),Lj=(e,n)=>{n.isDefaultPrevented()||(n.preventDefault(),AV(e.undoManager),e.undoManager.transact(()=>{Pj(e,n)}))},are=e=>{if(!e.collapsed)return!1;const n=e.startContainer;if(Gt(n)){const o=/^[\uAC00-\uD7AF\u1100-\u11FF\u3130-\u318F\uA960-\uA97F\uD7B0-\uD7FF]$/,a=n.data.charAt(e.startOffset-1);return o.test(a)}else return!1},lre=e=>{let n=J.none();const o=c=>{n=J.some(c.selection.getBookmark()),c.undoManager.add()},a=(c,m)=>{c.undoManager.undo(),n.fold(St,p=>c.selection.moveToBookmark(p)),Lj(c,m),n=J.none()};e.on("keydown",c=>{c.keyCode===bn.ENTER&&(ire&&are(e.selection.getRng())?o(e):Lj(e,c))}),e.on("keyup",c=>{c.keyCode===bn.ENTER&&n.each(()=>a(e,c))})},cre=(e,n,o)=>{const a=Uo.os.isMacOS()||Uo.os.isiOS();wb([{keyCode:bn.END,action:xo(pf,e,!0)},{keyCode:bn.HOME,action:xo(pf,e,!1)},...a?[]:[{keyCode:bn.HOME,action:xo(D0,e,!1),ctrlKey:!0,shiftKey:!0},{keyCode:bn.END,action:xo(D0,e,!0),ctrlKey:!0,shiftKey:!0}],{keyCode:bn.END,action:xo(ZO,e,!0)},{keyCode:bn.HOME,action:xo(ZO,e,!1)},{keyCode:bn.END,action:xo(eC,e,!0,n)},{keyCode:bn.HOME,action:xo(eC,e,!1,n)}],o).each(c=>{o.preventDefault()})},ure=(e,n)=>{e.on("keydown",o=>{o.isDefaultPrevented()||cre(e,n,o)})},dre=e=>{e.on("input",n=>{n.isComposing||W7(e)})},fre=la(),mre=(e,n,o)=>{wb([{keyCode:bn.PAGE_UP,action:xo(eC,e,!1,n)},{keyCode:bn.PAGE_DOWN,action:xo(eC,e,!0,n)}],o)},Mj=e=>e.stopImmediatePropagation(),Bj=e=>e.keyCode===bn.PAGE_UP||e.keyCode===bn.PAGE_DOWN,Fj=(e,n,o)=>{o&&!e.get()?n.on("NodeChange",Mj,!0):!o&&e.get()&&n.off("NodeChange",Mj),e.set(o)},gre=(e,n)=>{if(fre.os.isMacOS())return;const o=Ni(!1);e.on("keydown",a=>{Bj(a)&&Fj(o,e,!0)}),e.on("keyup",a=>{a.isDefaultPrevented()||mre(e,n,a),Bj(a)&&o.get()&&(Fj(o,e,!1),e.nodeChanged())})},hre=e=>{e.on("beforeinput",n=>{(!e.selection.isEditable()||Re(n.getTargetRanges(),o=>!TP(e.dom,o)))&&n.preventDefault()})},$j=(e,n)=>{const o=n.container(),a=n.offset();return Gt(o)?(o.insertData(a,e),J.some(kt(o,a+e.length))):A_(n).map(c=>{const m=Ke.fromText(e);return n.isAtEnd()?ut(c,m):Tr(c,m),kt(m.dom,e.length)})},Vj=et($j,Pi),zj=et($j," "),pre=(e,n,o)=>BT(e,n,o)?Vj(n):zj(n),bre=e=>n=>n.fold(o=>jc(e.dom,kt.before(o)),o=>so(o),o=>fd(o),o=>Ql(e.dom,kt.after(o))),vre=(e,n,o)=>a=>BT(e,a,o)?Vj(n):zj(n),Hj=e=>n=>{e.selection.setRng(n.toRange()),e.nodeChanged()},yre=(e,n)=>e.isEditable(e.getParent(n,"summary")),xre=e=>{const n=kt.fromRangeStart(e.selection.getRng()),o=Ke.fromDom(e.getBody());if(e.selection.isCollapsed()){const a=et(m0,e),c=kt.fromRangeStart(e.selection.getRng());return Rg(a,e.getBody(),c).bind(bre(o)).map(m=>()=>vre(o,n,e.schema)(m).each(Hj(e)))}else return J.none()},wre=e=>{const n=()=>{const o=Ke.fromDom(e.getBody());e.selection.isCollapsed()||e.getDoc().execCommand("Delete");const a=kt.fromRangeStart(e.selection.getRng());pre(o,a,e.schema).each(Hj(e))};return Jg(Uo.browser.isFirefox()&&e.selection.isEditable()&&yre(e.dom,e.selection.getRng().startContainer),n)},Cre=(e,n)=>{Fk([{keyCode:bn.SPACEBAR,action:xo(xre,e)},{keyCode:bn.SPACEBAR,action:xo(wre,e)}],n).each(o=>{n.preventDefault(),VB(e,"insertText",{data:" "}).isDefaultPrevented()||(o(),QO(e,"insertText",{data:" "}))})},_re=e=>{e.on("keydown",n=>{n.isDefaultPrevented()||Cre(e,n)})},Sre=e=>GI(e)?[{keyCode:bn.TAB,action:xo(zK,e,!0)},{keyCode:bn.TAB,shiftKey:!0,action:xo(zK,e,!1)}]:[],kre=(e,n)=>{wb([...Sre(e)],n).each(o=>{n.preventDefault()})},Ere=e=>{e.on("keydown",n=>{n.isDefaultPrevented()||kre(e,n)})},Are=e=>{if(e.addShortcut("Meta+P","","mcePrint"),sse(e),Og(e))return Ni(null);{const n=gB(e);return hre(e),I0(e),Vne(e,n),xse(e,n),lre(e),_re(e),dre(e),Ere(e),ure(e,n),gre(e,n),n}};class Tre{constructor(n){this.lastPath=[],this.editor=n;let o;const a=this;"onselectionchange"in n.getDoc()||n.on("NodeChange click mouseup keyup focus",c=>{const m=n.selection.getRng(),p={startContainer:m.startContainer,startOffset:m.startOffset,endContainer:m.endContainer,endOffset:m.endOffset};(c.type==="nodechange"||!Q2(p,o))&&n.dispatch("SelectionChange"),o=p}),n.on("contextmenu",()=>{by(n),n.dispatch("SelectionChange")}),n.on("SelectionChange",()=>{const c=n.selection.getStart(!0);c&&dy(n)&&!a.isSameElementPath(c)&&n.dom.isChildOf(c,n.getBody())&&n.nodeChanged({selectionChange:!0})}),n.on("mouseup",c=>{!c.isDefaultPrevented()&&dy(n)&&(n.selection.getNode().nodeName==="IMG"?qc.setEditorTimeout(n,()=>{n.nodeChanged()}):n.nodeChanged())})}nodeChanged(n={}){const o=this.editor.selection;let a;if(this.editor.initialized&&o&&!S8(this.editor)&&!this.editor.mode.isReadOnly()){const c=this.editor.getBody();a=o.getStart(!0)||c,(a.ownerDocument!==this.editor.getDoc()||!this.editor.dom.isChildOf(a,c))&&(a=c);const m=[];this.editor.dom.getParent(a,p=>p===c?!0:(m.push(p),!1)),this.editor.dispatch("NodeChange",{...n,element:a,parents:m})}}isSameElementPath(n){let o;const a=this.editor,c=Zs(a.dom.getParents(n,on,a.getBody()));if(c.length===this.lastPath.length){for(o=c.length;o>=0&&c[o]===this.lastPath[o];o--);if(o===-1)return this.lastPath=c,!0}return this.lastPath=c,!1}}const Uj=ja("image"),Ore=e=>{const n=e;return J.from(n[Uj])},Rre=(e,n)=>{const o=e;o[Uj]=n},qH=ja("event"),Ire=e=>{const n=e;return J.from(n[qH])},jB=e=>n=>{const o=n;o[qH]=e},Dre=(e,n)=>jB(n)(e),Wj=jB(0),Pre=jB(2),Nre=jB(1),Lre=(e=>n=>{const o=n;return J.from(o[qH]).exists(a=>a===e)})(0),Mre=()=>Object.freeze({length:0,item:e=>null}),YH=ja("mode"),Bre=e=>{const n=e;return J.from(n[YH])},ZB=e=>n=>{const o=n;o[YH]=e},Kj=(e,n)=>ZB(n)(e),jj=ZB(0),XH=ZB(2),Fre=ZB(1),Zj=e=>n=>{const o=n;return J.from(o[YH]).exists(a=>a===e)},zk=Zj(0),Gj=Zj(1),$re=(e,n)=>({...n,get length(){return n.length},add:(o,a)=>{if(zk(e))if(ue(o)){if(!Je(a))return n.add(o,a)}else return n.add(o);return null},remove:o=>{zk(e)&&n.remove(o)},clear:()=>{zk(e)&&n.clear()}}),Vre=["none","copy","link","move"],zre=["none","copy","copyLink","copyMove","link","linkMove","move","all","uninitialized"],JH=()=>{const e=new window.DataTransfer;let n="move",o="all";const a={get dropEffect(){return n},set dropEffect(c){xe(Vre,c)&&(n=c)},get effectAllowed(){return o},set effectAllowed(c){Lre(a)&&xe(zre,c)&&(o=c)},get items(){return $re(a,e.items)},get files(){return Gj(a)?Mre():e.files},get types(){return e.types},setDragImage:(c,m,p)=>{zk(a)&&(Rre(a,{image:c,x:m,y:p}),e.setDragImage(c,m,p))},getData:c=>Gj(a)?"":e.getData(c),setData:(c,m)=>{zk(a)&&e.setData(c,m)},clearData:c=>{zk(a)&&e.clearData(c)}};return jj(a),a},Hre=e=>{const n=JH(),o=Bre(e);return XH(e),Wj(n),n.dropEffect=e.dropEffect,n.effectAllowed=e.effectAllowed,Ore(e).each(a=>n.setDragImage(a.image,a.x,a.y)),be(e.types,a=>{a!=="Files"&&n.setData(a,e.getData(a))}),be(e.files,a=>n.items.add(a)),Ire(e).each(a=>{Dre(n,a)}),o.each(a=>{Kj(e,a),Kj(n,a)}),n},Ure=e=>{const n=e.getData("text/html");return n===""?J.none():J.some(n)},qj=(e,n)=>e.setData("text/html",n),Yj="x-tinymce/html",GB=dt(Yj),QH="<!-- "+Yj+" -->",Wre=e=>QH+e,Kre=e=>e.replace(QH,""),Xj=e=>e.indexOf(QH)!==-1,jre=e=>!/<(?:\/?(?!(?:div|p|br|span)>)\w+|(?:(?!(?:span style="white-space:\s?pre;?">)|br\s?\/>))\w+\s[^>]+)>/i.test(e),Zre=(e,n)=>{let o="<"+e;const a=wl(n,(c,m)=>m+'="'+fh.encodeAllRaw(c)+'"');return a.length&&(o+=" "+a.join(" ")),o+">"},Gre=(e,n,o)=>{const a=e.split(/\n\n/),c=Zre(n,o),m="</"+n+">",p=Ve(a,A=>A.split(/\n/).join("<br />")),_=A=>c+A+m;return p.length===1?p[0]:Ve(p,_).join("")},Jj="%MCEPASTEBIN%",qre=(e,n)=>{const{dom:o,selection:a}=e,c=e.getBody();n.set(a.getRng());const m=o.add(e.getBody(),"div",{id:"mcepastebin",class:"mce-pastebin",contentEditable:!0,"data-mce-bogus":"all",style:"position: fixed; top: 50%; width: 10px; height: 10px; overflow: hidden; opacity: 0"},Jj);Uo.browser.isFirefox()&&o.setStyle(m,"left",o.getStyle(c,"direction",!0)==="rtl"?65535:-65535),o.bind(m,"beforedeactivate focusin focusout",p=>{p.stopPropagation()}),m.focus(),a.select(m,!0)},Yre=(e,n)=>{const o=e.dom;if(e9(e)){let a;const c=n.get();for(;a=e9(e);)o.remove(a),o.unbind(a);c&&e.selection.setRng(c)}n.set(null)},e9=e=>e.dom.get("mcepastebin"),Xre=e=>we(e)&&e.id==="mcepastebin",Jre=e=>{const n=e.dom,o=(p,_)=>{p.appendChild(_),n.remove(_,!0)},[a,...c]=Ge(e.getBody().childNodes,Xre);be(c,p=>{o(a,p)});const m=n.select("div[id=mcepastebin]",a);for(let p=m.length-1;p>=0;p--){const _=n.create("div");a.insertBefore(_,m[p]),o(_,m[p])}return a?a.innerHTML:""},Qj=e=>e===Jj,Qre=e=>{const n=Ni(null);return{create:()=>qre(e,n),remove:()=>Yre(e,n),getEl:()=>e9(e),getHtml:()=>Jre(e),getLastRng:n.get}},eZ=(e,n)=>(nn.each(n,o=>{he(o,RegExp)?e=e.replace(o,""):e=e.replace(o[0],o[1])}),e),eie=e=>{const n=Vc(),o=Ly({},n);let a="";const c=n.getVoidElements(),m=nn.makeMap("script noscript style textarea video audio iframe object"," "),p=n.getBlockElements(),_=A=>{const $=A.name,q=A;if($==="br"){a+=`
`;return}if($!=="wbr"){if(c[$]&&(a+=" "),m[$]){a+=" ";return}if(A.type===3&&(a+=A.value),!(A.name in n.getVoidElements())){let X=A.firstChild;if(X)do _(X);while(X=X.next)}p[$]&&q.next&&(a+=`
`,$==="p"&&(a+=`
`))}};return e=eZ(e,[/<!\[[^\]]+\]>/g]),_(o.parse(e)),a},tZ=e=>(e=eZ(e,[/^[\s\S]*<body[^>]*>\s*|\s*<\/body[^>]*>[\s\S]*$/ig,/<!--StartFragment-->|<!--EndFragment-->/g,[/( ?)<span class="Apple-converted-space">\u00a0<\/span>( ?)/g,(o,a,c)=>!a&&!c?" ":Pi],/<br class="Apple-interchange-newline">/g,/<br>$/i]),e),tie=e=>{let n=0;return()=>e+n++},nie=e=>{const n=e.toLowerCase(),o={jpg:"jpeg",jpe:"jpeg",jfi:"jpeg",jif:"jpeg",jfif:"jpeg",pjpeg:"jpeg",pjp:"jpeg",svg:"svg+xml"};return nn.hasOwn(o,n)?"image/"+o[n]:"image/"+n},oie=(e,n)=>{const o=Ly({sanitize:KI(e),sandbox_iframes:xA(e),sandbox_iframes_exclusions:x_(e),convert_unsafe_embeds:YI(e)},e.schema);o.addNodeFilter("meta",c=>{nn.each(c,m=>{m.remove()})});const a=o.parse(n,{forced_root_block:!1,isRootContent:!0});return Bh({validate:!0},e.schema).serialize(a)},nZ=(e,n)=>({content:e,cancelled:n}),sie=(e,n,o)=>{const a=e.dom.create("div",{style:"display:none"},n),c=W_(e,a,o);return nZ(c.node.innerHTML,c.isDefaultPrevented())},rie=(e,n,o)=>{const a=q2(e,n,o),c=oie(e,a.content);return e.hasEventListeners("PastePostProcess")&&!a.isDefaultPrevented()?sie(e,c,o):nZ(c,a.isDefaultPrevented())},iie=(e,n,o)=>rie(e,n,o),t9=(e,n)=>(e.insertContent(n,{merge:R8(e),paste:!0}),!0),n9=e=>/^https?:\/\/[\w\-\/+=.,!;:&%@^~(){}?#]+$/i.test(e),aie=(e,n)=>n9(n)&&Re(yA(e),o=>De(n.toLowerCase(),`.${o.toLowerCase()}`)),lie=(e,n,o)=>(e.undoManager.extra(()=>{o(e,n)},()=>{e.insertContent('<img src="'+n+'">')}),!0),cie=(e,n,o)=>(e.undoManager.extra(()=>{o(e,n)},()=>{e.execCommand("mceInsertLink",!1,n)}),!0),uie=(e,n,o)=>!e.selection.isCollapsed()&&n9(n)?cie(e,n,o):!1,die=(e,n,o)=>aie(e,n)?lie(e,n,o):!1,fie=(e,n)=>{nn.each([uie,die,t9],o=>!o(e,n,t9))},mie=(e,n,o)=>{o||!Wv(e)?t9(e,n):fie(e,n)},gie=tie("mceclip"),hie=e=>{const n=JH();return qj(n,e),XH(n),n},oZ=(e,n,o,a,c)=>{const m=iie(e,n,o);if(!m.cancelled){const p=m.content,_=()=>mie(e,p,a);c?VB(e,"insertFromPaste",{dataTransfer:hie(p)}).isDefaultPrevented()||(_(),QO(e,"insertFromPaste")):_()}},qB=(e,n,o,a)=>{const c=o||Xj(n);oZ(e,Kre(n),c,!1,a)},o9=(e,n,o)=>{const a=e.dom.encode(n).replace(/\r\n/g,`
`),c=nv(a,HI(e)),m=Gre(c,gl(e),y2(e));oZ(e,m,!1,!0,o)},sZ=e=>{const n={};if(e&&e.types)for(let o=0;o<e.types.length;o++){const a=e.types[o];try{n[a]=e.getData(a)}catch{n[a]=""}}return n},Jy=(e,n)=>n in e&&e[n].length>0,rZ=e=>Jy(e,"text/html")||Jy(e,"text/plain"),pie=(e,n)=>{const o=n.match(/([\s\S]+?)(?:\.[a-z0-9.]+)$/i);return we(o)?e.dom.encode(o[1]):void 0},bie=(e,n,o,a)=>{const c=gie(),m=Rh(e)&&we(o.name),p=m?pie(e,o.name):c,_=m?o.name:void 0,A=n.create(c,o,a,p,_);return n.add(A),A},vie=(e,n)=>{nk(n.uri).each(({data:o,type:a,base64Encoded:c})=>{const m=c?o:btoa(o),p=n.file,_=e.editorUpload.blobCache,A=_.getByData(m,a),$=A??bie(e,_,p,m);qB(e,`<img src="${$.blobUri()}">`,!1,!0)})},yie=e=>e.type==="paste",xie=e=>Promise.all(Ve(e,n=>v5(n).then(o=>({file:n,uri:o})))),wie=e=>{const n=yA(e);return o=>cr(o.type,"image/")&&Re(n,a=>nie(a)===o.type)},Cie=(e,n)=>{const o=n.items?$o(Ro(n.items),c=>c.kind==="file"?[c.getAsFile()]:[]):[],a=n.files?Ro(n.files):[];return Ge(o.length>0?o:a,wie(e))},iZ=(e,n,o)=>{const a=yie(n)?n.clipboardData:n.dataTransfer;if(fg(e)&&a){const c=Cie(e,a);if(c.length>0)return n.preventDefault(),xie(c).then(m=>{o&&e.selection.setRng(o),be(m,p=>{vie(e,p)})}),!0}return!1},_ie=e=>{var n,o;return Uo.os.isAndroid()&&((o=(n=e.clipboardData)===null||n===void 0?void 0:n.items)===null||o===void 0?void 0:o.length)===0},Sie=e=>bn.metaKeyPressed(e)&&e.keyCode===86||e.shiftKey&&e.keyCode===45,s9=(e,n,o,a,c)=>{let m=tZ(o);const p=Jy(n,GB())||Xj(o),_=!p&&jre(m),A=n9(m);(Qj(m)||!m.length||_&&!A)&&(a=!0),(a||A)&&(Jy(n,"text/plain")&&_?m=n["text/plain"]:m=eie(m)),!Qj(m)&&(a?o9(e,m,c):qB(e,m,p,c))},kie=(e,n,o)=>{let a;const c=()=>n.getLastRng()||e.selection.getRng();e.on("keydown",m=>{Sie(m)&&!m.isDefaultPrevented()&&(a=m.shiftKey&&m.keyCode===86)}),e.on("paste",m=>{if(m.isDefaultPrevented()||_ie(m))return;const p=o.get()==="text"||a;a=!1;const _=sZ(m.clipboardData);!rZ(_)&&iZ(e,m,c())||(Jy(_,"text/html")?(m.preventDefault(),s9(e,_,_["text/html"],p,!0)):Jy(_,"text/plain")&&Jy(_,"text/uri-list")?(m.preventDefault(),s9(e,_,_["text/plain"],p,!0)):(n.create(),qc.setEditorTimeout(e,()=>{const A=n.getHtml();n.remove(),s9(e,_,A,p,!1)},0)))})},Eie=e=>{const n=c=>cr(c,"webkit-fake-url"),o=c=>cr(c,"data:"),a=c=>{var m;return((m=c.data)===null||m===void 0?void 0:m.paste)===!0};e.parser.addNodeFilter("img",(c,m,p)=>{if(!fg(e)&&a(p))for(const _ of c){const A=_.attr("src");ue(A)&&!_.attr("data-mce-object")&&A!==Uo.transparentSrc&&(n(A)||!I8(e)&&o(A))&&_.remove()}})},Aie=(e,n,o)=>{kie(e,n,o),Eie(e)},Tie=(e,n)=>{n.get()==="text"?(n.set("html"),K_(e,!1)):(n.set("text"),K_(e,!0)),e.focus()},Oie=(e,n)=>{e.addCommand("mceTogglePlainTextPaste",()=>{Tie(e,n)}),e.addCommand("mceInsertClipboardContent",(o,a)=>{a.html&&qB(e,a.html,a.internal,!1),a.text&&o9(e,a.text,!1)})},Rie=(e,n,o)=>{if(e)try{return e.clearData(),e.setData("text/html",n),e.setData("text/plain",o),e.setData(GB(),n),!0}catch{return!1}else return!1},aZ=(e,n,o,a)=>{Rie(e.clipboardData,n.html,n.text)?(e.preventDefault(),a()):o(n.html,a)},lZ=e=>(n,o)=>{const{dom:a,selection:c}=e,m=a.create("div",{contenteditable:"false","data-mce-bogus":"all"}),p=a.create("div",{contenteditable:"true"},n);a.setStyles(m,{position:"fixed",top:"0",left:"-3000px",width:"1000px",overflow:"hidden"}),m.appendChild(p),a.add(e.getBody(),m);const _=c.getRng();p.focus();const A=a.createRng();A.selectNodeContents(p),c.setRng(A),qc.setEditorTimeout(e,()=>{c.setRng(_),a.remove(m),o()},0)},cZ=e=>({html:Wre(e.selection.getContent({contextual:!0})),text:e.selection.getContent({format:"text"})}),Iie=e=>!!e.dom.getParent(e.selection.getStart(),"td[data-mce-selected],th[data-mce-selected]",e.getBody()),uZ=e=>!e.selection.isCollapsed()||Iie(e),Die=e=>n=>{!n.isDefaultPrevented()&&uZ(e)&&e.selection.isEditable()&&aZ(n,cZ(e),lZ(e),()=>{if(Uo.browser.isChromium()||Uo.browser.isFirefox()){const o=e.selection.getRng();qc.setEditorTimeout(e,()=>{e.selection.setRng(o),e.execCommand("Delete")},0)}else e.execCommand("Delete")})},Pie=e=>n=>{!n.isDefaultPrevented()&&uZ(e)&&aZ(n,cZ(e),lZ(e),St)},Nie=e=>{e.on("cut",Die(e)),e.on("copy",Pie(e))},dZ=(e,n)=>{var o,a;return Jp.getCaretRangeFromPoint((o=n.clientX)!==null&&o!==void 0?o:0,(a=n.clientY)!==null&&a!==void 0?a:0,e.getDoc())},Lie=e=>{const n=e["text/plain"];return n?n.indexOf("file://")===0:!1},fZ=(e,n)=>{e.focus(),n&&e.selection.setRng(n)},Mie=e=>Re(e.files,n=>/^image\//.test(n.type)),Bie=(e,n,o,a)=>{const c=e.getParent(o,p=>Uf(n,p));if(!ze(e.getParent(o,"summary")))return!0;if(c&&ho(a,"text/html")){const p=new DOMParser().parseFromString(a["text/html"],"text/html").body;return!ze(p.querySelector(c.nodeName.toLowerCase()))}else return!1},Fie=e=>{e.on("input",n=>{const o=a=>ze(a.querySelector("summary"));if(n.inputType==="deleteByDrag"){const a=Ge(e.dom.select("details"),o);be(a,c=>{pr(c.firstChild)&&c.firstChild.remove();const m=e.dom.create("summary");m.appendChild(nf().dom),c.prepend(m)})}})},$ie=(e,n)=>{im(e)&&e.on("dragend dragover draggesture dragdrop drop drag",o=>{o.preventDefault(),o.stopPropagation()}),fg(e)||e.on("drop",o=>{const a=o.dataTransfer;a&&Mie(a)&&o.preventDefault()}),e.on("drop",o=>{if(o.isDefaultPrevented())return;const a=dZ(e,o);if(rt(a))return;const c=sZ(o.dataTransfer),m=Jy(c,GB());if((!rZ(c)||Lie(c))&&iZ(e,o,a))return;const p=c[GB()],_=p||c["text/html"]||c["text/plain"],A=Bie(e.dom,e.schema,a.startContainer,c),$=n.get();$&&!A||_&&(o.preventDefault(),qc.setEditorTimeout(e,()=>{e.undoManager.transact(()=>{(p||$&&A)&&e.execCommand("Delete"),fZ(e,a);const q=tZ(_);c["text/html"]?qB(e,q,m,!0):o9(e,q,!0)})}))}),e.on("dragstart",o=>{n.set(!0)}),e.on("dragover dragend",o=>{fg(e)&&!n.get()&&(o.preventDefault(),fZ(e,dZ(e,o))),o.type==="dragend"&&n.set(!1)}),Fie(e)},Vie=e=>{const n=c=>m=>{c(e,m)},o=O8(e);_e(o)&&e.on("PastePreProcess",n(o));const a=_2(e);_e(a)&&e.on("PastePostProcess",n(a))},zie=(e,n)=>{e.on("PastePreProcess",o=>{o.content=n(e,o.content,o.internal)})},Hie=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi,mZ=e=>nn.trim(e).replace(Hie,pv).toLowerCase(),Uie=(e,n,o)=>{const a=zI(e);if(o||a==="all"||!hA(e))return n;const c=a?a.split(/[, ]/):[];if(c&&a!=="none"){const m=e.dom,p=e.selection.getNode();n=n.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,(_,A,$,q)=>{const X=m.parseStyle(m.decode($)),ne={};for(let Oe=0;Oe<c.length;Oe++){const ye=X[c[Oe]];let Pe=ye,Ye=m.getStyle(p,c[Oe],!0);/color/.test(c[Oe])&&(Pe=mZ(Pe),Ye=mZ(Ye)),Ye!==Pe&&(ne[c[Oe]]=ye)}const ve=m.serializeStyle(ne,"span");return ve?A+' style="'+ve+'"'+q:A+q})}else n=n.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,"$1$3");return n=n.replace(/(<[^>]+) data-mce-style="([^"]+)"([^>]*>)/gi,(m,p,_,A)=>p+' style="'+_+'"'+A),n},Wie=e=>{(Uo.browser.isChromium()||Uo.browser.isSafari())&&zie(e,Uie)},Kie=e=>{const n=Ni(!1),o=Ni(Kv(e)?"text":"html"),a=Qre(e);Wie(e),Oie(e,o),Vie(e),e.addQueryStateHandler("mceTogglePlainTextPaste",()=>o.get()==="text"),e.on("PreInit",()=>{Nie(e),$ie(e,n),Aie(e,a,o)})},jie=e=>{e.on("click",n=>{e.dom.getParent(n.target,"details")&&n.preventDefault()})},Zie=e=>{e.parser.addNodeFilter("details",n=>{const o=y_(e);be(n,a=>{o==="expanded"?a.attr("open","open"):o==="collapsed"&&a.attr("open",null)})}),e.serializer.addNodeFilter("details",n=>{const o=qI(e);be(n,a=>{o==="expanded"?a.attr("open","open"):o==="collapsed"&&a.attr("open",null)})})},Gie=e=>{jie(e),Zie(e)},qie=pr,gZ=Gt,Yie=e=>wo(e.dom),Xie=e=>Mc(e.dom),hZ=e=>n=>ns(Ke.fromDom(e),n),Jie=(e,n,o)=>bi(Ke.fromDom(e),a=>Xie(a)||o.isBlock(ts(a)),hZ(n)).getOr(Ke.fromDom(n)).dom,pZ=(e,n)=>bi(Ke.fromDom(e),Yie,hZ(n)),bZ=(e,n,o)=>{const a=new ha(e,n),c=o?a.next.bind(a):a.prev.bind(a);let m=e;for(let p=o?e:c();p&&!qie(p);p=c())wu(p)&&(m=p);return m},Qie=(e,n,o)=>{const c=kt.fromRangeStart(e).getNode(),m=Jie(c,n,o),p=bZ(c,m,!1),_=bZ(c,m,!0),A=document.createRange();return pZ(p,m).fold(()=>{gZ(p)?A.setStart(p,0):A.setStartBefore(p)},$=>A.setStartBefore($.dom)),pZ(_,m).fold(()=>{gZ(_)?A.setEnd(_,_.data.length):A.setEndAfter(_)},$=>A.setEndAfter($.dom)),A},eae=e=>{const n=Qie(e.selection.getRng(),e.getBody(),e.schema);e.selection.setRng(NS(n))},tae=e=>{e.on("mousedown",n=>{n.detail>=3&&(n.preventDefault(),eae(e))})};var Hk;(function(e){e.Before="before",e.After="after"})(Hk||(Hk={}));const nae=(e,n)=>Math.abs(e.left-n),oae=(e,n)=>Math.abs(e.right-n),sae=(e,n)=>e>=n.top&&e<=n.bottom,rae=(e,n)=>e.top<n.bottom&&e.bottom>n.top,iae=(e,n)=>{const o=l2(e,n)/Math.min(e.height,n.height);return rae(e,n)&&o>.5},aae=(e,n)=>{const o=Ge(e,a=>sae(n,a));return Mp(o).fold(()=>[[],e],a=>{const{pass:c,fail:m}=Ne(e,p=>iae(p,a));return[c,m]})},lae=(e,n)=>({node:e.node,position:nae(e,n)<oae(e,n)?Hk.Before:Hk.After}),cae=(e,n,o)=>n>e.left&&n<e.right?0:Math.min(Math.abs(e.left-n),Math.abs(e.right-n)),r9=(e,n,o,a)=>{const c=X=>wu(X.node)?J.some(X):Nn(X.node)?r9(Ro(X.node.childNodes),n,o,!1):J.none(),m=(X,ne,ve)=>c(ne).filter(Oe=>Math.abs(ve(X,n,o)-ve(Oe,n,o))<2&&Gt(Oe.node)),p=(X,ne)=>{const ve=xs(X,(Oe,ye)=>ne(Oe,n,o)-ne(ye,n,o));return ai(ve,c).map(Oe=>a&&!Gt(Oe.node)&&ve.length>1?m(Oe,ve[1],ne).getOr(Oe):Oe)},[_,A]=aae(iB(e),o),{pass:$,fail:q}=Ne(A,X=>X.top<o);return p(_,cae).orThunk(()=>p(q,Z1)).orThunk(()=>p($,Z1))},uae=(e,n,o,a)=>{const c=(m,p)=>{const _=$=>Nn($)&&$.classList.contains("mce-drag-container"),A=Ge(m.dom.childNodes,Me(_));return p.fold(()=>r9(A,o,a,!0),$=>{const q=Ge(A,X=>X!==$.dom);return r9(q,o,a,!0)}).orThunk(()=>(ns(m,e)?J.none():Pf(m)).bind(q=>c(q,J.some(m))))};return c(n,J.none())},dae=(e,n,o)=>{const a=Ke.fromDom(e),c=ac(a),p=Ke.fromPoint(c,n,o).filter(_=>fa(a,_)).getOr(a);return uae(a,p,n,o)},vZ=(e,n,o)=>dae(e,n,o).filter(a=>A2(a.node)).map(a=>lae(a,n)),yZ=e=>{var n,o;const a=e.getBoundingClientRect(),c=e.ownerDocument,m=c.documentElement,p=c.defaultView;return{top:a.top+((n=p==null?void 0:p.scrollY)!==null&&n!==void 0?n:0)-m.clientTop,left:a.left+((o=p==null?void 0:p.scrollX)!==null&&o!==void 0?o:0)-m.clientLeft}},fae=e=>e.inline?yZ(e.getBody()):{left:0,top:0},mae=e=>{const n=e.getBody();return e.inline?{left:n.scrollLeft,top:n.scrollTop}:{left:0,top:0}},gae=e=>{const n=e.getBody(),o=e.getDoc().documentElement,a={left:n.scrollLeft,top:n.scrollTop},c={left:n.scrollLeft||o.scrollLeft,top:n.scrollTop||o.scrollTop};return e.inline?a:c},hae=(e,n)=>{if(n.target.ownerDocument!==e.getDoc()){const o=yZ(e.getContentAreaContainer()),a=gae(e);return{left:n.pageX-o.left+a.left,top:n.pageY-o.top+a.top}}return{left:n.pageX,top:n.pageY}},pae=(e,n,o)=>({pageX:o.left-e.left+n.left,pageY:o.top-e.top+n.top}),bae=(e,n)=>pae(fae(e),mae(e),hae(e,n)),xZ=e=>({target:e,srcElement:e}),vae=(e,n,o,a)=>({...n,dataTransfer:a,type:e,...xZ(o)}),yae=(e,n,o)=>{const a=mt("Function not supported on simulated event.");return{bubbles:!0,cancelBubble:!1,cancelable:!0,composed:!1,currentTarget:null,defaultPrevented:!1,eventPhase:0,isTrusted:!0,returnValue:!1,timeStamp:0,type:e,composedPath:a,initEvent:a,preventDefault:St,stopImmediatePropagation:St,stopPropagation:St,AT_TARGET:window.Event.AT_TARGET,BUBBLING_PHASE:window.Event.BUBBLING_PHASE,CAPTURING_PHASE:window.Event.CAPTURING_PHASE,NONE:window.Event.NONE,altKey:!1,button:0,buttons:0,clientX:0,clientY:0,ctrlKey:!1,metaKey:!1,movementX:0,movementY:0,offsetX:0,offsetY:0,pageX:0,pageY:0,relatedTarget:null,screenX:0,screenY:0,shiftKey:!1,x:0,y:0,detail:0,view:null,which:0,initUIEvent:a,initMouseEvent:a,getModifierState:a,dataTransfer:o,...xZ(n)}},xae=(e,n)=>{const o=Hre(e);return n==="dragstart"?(Wj(o),jj(o)):n==="drop"?(Pre(o),XH(o)):(Nre(o),Fre(o)),o},wae=(e,n,o,a)=>{const c=xae(o,e);return Je(a)?yae(e,n,c):vae(e,a,n,c)},YB=32,Cae=100,XB=8,JB=16,wZ=wo,_ae=d2(wZ,Mc),Sae=(e,n,o)=>wZ(o)&&o!==n&&e.isEditable(o.parentElement),kae=(e,n,o)=>rt(n)||n===o||e.dom.isChildOf(n,o)?!1:e.dom.isEditable(n),Eae=(e,n,o,a)=>{const c=e.dom,m=n.cloneNode(!0);c.setStyles(m,{width:o,height:a}),c.setAttrib(m,"data-mce-selected",null);const p=c.create("div",{class:"mce-drag-container","data-mce-bogus":"all",unselectable:"on",contenteditable:"false"});return c.setStyles(p,{position:"absolute",opacity:.5,overflow:"hidden",border:0,padding:0,margin:0,width:o,height:a}),c.setStyles(m,{margin:0,boxSizing:"border-box"}),p.appendChild(m),p},Aae=(e,n)=>{e.parentNode!==n&&n.appendChild(e)},QB=(e,n)=>o=>()=>{const a=e==="left"?o.scrollX:o.scrollY;o.scroll({[e]:a+n,behavior:"smooth"})},CZ=QB("left",-YB),_Z=QB("left",YB),SZ=QB("top",-YB),kZ=QB("top",YB),Tae=(e,n,o,a,c,m,p,_,A,$,q,X)=>{let ne=0,ve=0;e.style.left=n.pageX+"px",e.style.top=n.pageY+"px",n.pageX+o>c&&(ne=n.pageX+o-c),n.pageY+a>m&&(ve=n.pageY+a-m),e.style.width=o-ne+"px",e.style.height=a-ve+"px";const Oe=A.clientHeight,ye=A.clientWidth,Pe=p+A.getBoundingClientRect().top,Ye=_+A.getBoundingClientRect().left;q.on(st=>{st.intervalId.clear(),st.dragging&&X&&(p+XB>=Oe?st.intervalId.set(kZ($)):p-XB<=0?st.intervalId.set(SZ($)):_+XB>=ye?st.intervalId.set(_Z($)):_-XB<=0?st.intervalId.set(CZ($)):Pe+JB>=window.innerHeight?st.intervalId.set(kZ(window)):Pe-JB<=0?st.intervalId.set(SZ(window)):Ye+JB>=window.innerWidth?st.intervalId.set(_Z(window)):Ye-JB<=0&&st.intervalId.set(CZ(window)))})},EZ=e=>{e&&e.parentNode&&e.parentNode.removeChild(e)},Oae=(e,n)=>{const o=e.getParent(n.parentNode,e.isBlock);EZ(n),o&&o!==e.getRoot()&&e.isEmpty(o)&&Uc(Ke.fromDom(o))},Rae=e=>e.button===0,Iae=(e,n)=>({pageX:n.pageX-e.relX,pageY:n.pageY+5}),Dae=(e,n)=>o=>{if(Rae(o)){const a=yn(n.dom.getParents(o.target),_ae).getOr(null);if(we(a)&&Sae(n.dom,n.getBody(),a)){const c=n.dom.getPos(a),m=n.getBody(),p=n.getDoc().documentElement;e.set({element:a,dataTransfer:JH(),dragging:!1,screenX:o.screenX,screenY:o.screenY,maxX:(n.inline?m.scrollWidth:p.offsetWidth)-2,maxY:(n.inline?m.scrollHeight:p.offsetHeight)-2,relX:o.pageX-c.x,relY:o.pageY-c.y,width:a.offsetWidth,height:a.offsetHeight,ghost:Eae(n,a,a.offsetWidth,a.offsetHeight),intervalId:Bc(Cae)})}}},Pae=(e,n,o)=>{e._selectionOverrides.hideFakeCaret(),vZ(e.getBody(),n,o).fold(()=>e.selection.placeCaretAt(n,o),a=>{const c=e._selectionOverrides.showCaret(1,a.node,a.position===Hk.Before,!1);c?e.selection.setRng(c):e.selection.placeCaretAt(n,o)})},oR=(e,n,o,a,c)=>{n==="dragstart"&&qj(a,e.dom.getOuterHTML(o));const m=wae(n,o,a,c);return e.dispatch(n,m)},Nae=(e,n)=>{const o=wh((c,m)=>Pae(n,c,m),0);n.on("remove",o.cancel);const a=e;return c=>e.on(m=>{const p=Math.max(Math.abs(c.screenX-m.screenX),Math.abs(c.screenY-m.screenY));if(!m.dragging&&p>10){const _=oR(n,"dragstart",m.element,m.dataTransfer,c);if(we(_.dataTransfer)&&(m.dataTransfer=_.dataTransfer),_.isDefaultPrevented())return;m.dragging=!0,n.focus()}if(m.dragging){const _=c.currentTarget===n.getDoc().documentElement,A=Iae(m,bae(n,c));Aae(m.ghost,n.getBody()),Tae(m.ghost,A,m.width,m.height,m.maxX,m.maxY,c.clientY,c.clientX,n.getContentAreaContainer(),n.getWin(),a,_),o.throttle(c.clientX,c.clientY)}})},Lae=e=>{const n=e.getSel();if(we(n)){const a=n.getRangeAt(0).startContainer;return Gt(a)?a.parentNode:a}else return null},Mae=(e,n)=>o=>{e.on(a=>{var c;if(a.intervalId.clear(),a.dragging){if(kae(n,Lae(n.selection),a.element)){const m=(c=n.getDoc().elementFromPoint(o.clientX,o.clientY))!==null&&c!==void 0?c:n.getBody();oR(n,"drop",m,a.dataTransfer,o).isDefaultPrevented()||n.undoManager.transact(()=>{Oae(n.dom,a.element),Ure(a.dataTransfer).each(_=>n.insertContent(_)),n._selectionOverrides.hideFakeCaret()})}oR(n,"dragend",n.getBody(),a.dataTransfer,o)}}),TZ(e)},AZ=(e,n,o)=>{e.on(a=>{a.intervalId.clear(),a.dragging&&o.fold(()=>oR(n,"dragend",a.element,a.dataTransfer),c=>oR(n,"dragend",a.element,a.dataTransfer,c))}),TZ(e)},Bae=(e,n)=>o=>AZ(e,n,J.some(o)),TZ=e=>{e.on(n=>{n.intervalId.clear(),EZ(n.ghost)}),e.clear()},Fae=e=>{const n=Li(),o=Js.DOM,a=document,c=Dae(n,e),m=Nae(n,e),p=Mae(n,e),_=Bae(n,e);e.on("mousedown",c),e.on("mousemove",m),e.on("mouseup",p),o.bind(a,"mousemove",m),o.bind(a,"mouseup",_),e.on("remove",()=>{o.unbind(a,"mousemove",m),o.unbind(a,"mouseup",_)}),e.on("keydown",A=>{A.keyCode===bn.ESC&&AZ(n,e,J.none())})},$ae=e=>{const n=c=>{if(!c.isDefaultPrevented()){const m=c.dataTransfer;m&&(xe(m.types,"Files")||m.files.length>0)&&(c.preventDefault(),c.type==="drop"&&Ck(e,"Dropped file type is not supported"))}},o=c=>{oS(e,c.target)&&n(c)},a=()=>{const c=Js.DOM,m=e.dom,p=document,_=e.inline?e.getBody():e.getDoc(),A=["drop","dragover"];be(A,$=>{c.bind(p,$,o),m.bind(_,$,n)}),e.on("remove",()=>{be(A,$=>{c.unbind(p,$,o),m.unbind(_,$,n)})})};e.on("init",()=>{qc.setEditorTimeout(e,a,0)})},Vae=e=>{Fae(e),b_(e)&&$ae(e)},zae=e=>{const n=wh(()=>{if(!e.removed&&e.getBody().contains(document.activeElement)){const o=e.selection.getRng();if(o.collapsed){const a=Ek(e,o,!1);e.selection.setRng(a)}}},0);e.on("focus",()=>{n.throttle()}),e.on("blur",()=>{n.cancel()})},Hae=e=>{e.on("init",()=>{e.on("focusin",n=>{const o=n.target;if(Rt(o)){const a=xd(e.getBody(),o),c=wo(a)?a:o;e.selection.getNode()!==c&&Gw(e,c).each(m=>e.selection.setRng(m))}})})},sR=wo,OZ=(e,n)=>xd(e.getBody(),n),Uae=e=>{const n=e.selection,o=e.dom,a=e.getBody(),c=oD(e,a,o.isBlock,()=>vy(e)),m="sel-"+o.uniqueId(),p="data-mce-selected";let _;const A=_n=>we(_n)&&o.hasClass(_n,"mce-offscreen-selection"),$=_n=>_n!==a&&(sR(_n)||Rt(_n))&&o.isChildOf(_n,a)&&o.isEditable(_n.parentNode),q=_n=>{_n&&n.setRng(_n)},X=(_n,Dt,Ct,Vt=!0)=>e.dispatch("ShowCaret",{target:Dt,direction:_n,before:Ct}).isDefaultPrevented()?null:(Vt&&n.scrollIntoView(Dt,_n===-1),c.show(Ct,Dt)),ne=_n=>{_n.hasAttribute("data-mce-caret")&&(kh(_n),n.scrollIntoView(_n))},ve=()=>{e.on("click",Dt=>{o.isEditable(Dt.target)||(Dt.preventDefault(),e.focus())}),e.on("blur NewBlock",bt),e.on("ResizeWindow FullscreenStateChanged",c.reposition),e.on("tap",Dt=>{const Ct=Dt.target,Vt=OZ(e,Ct);sR(Vt)?(Dt.preventDefault(),Gw(e,Vt).each(nt)):$(Ct)&&Gw(e,Ct).each(nt)},!0),e.on("mousedown",Dt=>{const Ct=Dt.target;if(Ct!==a&&Ct.nodeName!=="HTML"&&!o.isChildOf(Ct,a)||!dz(e,Dt.clientX,Dt.clientY))return;bt(),tn();const Vt=OZ(e,Ct);sR(Vt)?(Dt.preventDefault(),Gw(e,Vt).each(nt)):vZ(a,Dt.clientX,Dt.clientY).each(Dn=>{Dt.preventDefault();const Wn=X(1,Dn.node,Dn.position===Hk.Before,!1);q(Wn),hu(Vt)?Vt.focus():e.getBody().focus()})}),e.on("keypress",Dt=>{bn.modifierPressed(Dt)||sR(n.getNode())&&Dt.preventDefault()}),e.on("GetSelectionRange",Dt=>{let Ct=Dt.range;if(_){if(!_.parentNode){_=null;return}Ct=Ct.cloneRange(),Ct.selectNode(_),Dt.range=Ct}}),e.on("SetSelectionRange",Dt=>{Dt.range=Pe(Dt.range);const Ct=nt(Dt.range,Dt.forward);Ct&&(Dt.range=Ct)});const _n=Dt=>Nn(Dt)&&Dt.id==="mcepastebin";e.on("AfterSetSelectionRange",Dt=>{const Ct=Dt.range,Vt=Ct.startContainer.parentElement;!ye(Ct)&&!_n(Vt)&&tn(),A(Vt)||bt()}),Vae(e),zae(e),Hae(e)},Oe=_n=>Jl(_n)||Dv(_n)||sf(_n),ye=_n=>Oe(_n.startContainer)||Oe(_n.endContainer),Pe=_n=>{const Dt=e.schema.getVoidElements(),Ct=o.createRng(),Vt=_n.startContainer,Dn=_n.startOffset,Wn=_n.endContainer,Vo=_n.endOffset;return ho(Dt,Vt.nodeName.toLowerCase())?Dn===0?Ct.setStartBefore(Vt):Ct.setStartAfter(Vt):Ct.setStart(Vt,Dn),ho(Dt,Wn.nodeName.toLowerCase())?Vo===0?Ct.setEndBefore(Wn):Ct.setEndAfter(Wn):Ct.setEnd(Wn,Vo),Ct},Ye=(_n,Dt)=>{const Ct=Ke.fromDom(e.getBody()),Vt=e.getDoc(),Dn=Bt(Ct,"#"+m).getOrThunk(()=>{const Go=Ke.fromHtml('<div data-mce-bogus="all" class="mce-offscreen-selection"></div>',Vt);return _i(Go,"id",m),Hr(Ct,Go),Go}),Wn=o.createRng();or(Dn),ni(Dn,[Ke.fromText(Pi,Vt),Ke.fromDom(Dt),Ke.fromText(Pi,Vt)]),Wn.setStart(Dn.dom.firstChild,1),Wn.setEnd(Dn.dom.lastChild,0),Xo(Dn,{top:o.getPos(_n,e.getBody()).y+"px"}),lT(Dn);const Vo=n.getSel();return Vo&&(Vo.removeAllRanges(),Vo.addRange(Wn)),Wn},st=_n=>{const Dt=_n.cloneNode(!0),Ct=e.dispatch("ObjectSelected",{target:_n,targetClone:Dt});if(Ct.isDefaultPrevented())return null;const Vt=Ye(_n,Ct.targetClone),Dn=Ke.fromDom(_n);return be(vi(Ke.fromDom(e.getBody()),`*[${p}]`),Wn=>{ns(Dn,Wn)||Mo(Wn,p)}),o.getAttrib(_n,p)||_n.setAttribute(p,"1"),_=_n,tn(),Vt},nt=(_n,Dt)=>{if(!_n)return null;if(_n.collapsed){if(!ye(_n)){const Wn=Dt?1:-1,Vo=I2(Wn,a,_n),Go=Vo.getNode(!Dt);if(we(Go)){if(A2(Go))return X(Wn,Go,Dt?!Vo.isAtEnd():!1,!1);if(ig(Go)&&wo(Go.nextSibling)){const Ks=o.createRng();return Ks.setStart(Go,0),Ks.setEnd(Go,0),Ks}}const Ns=Vo.getNode(Dt);if(we(Ns)){if(A2(Ns))return X(Wn,Ns,Dt?!1:!Vo.isAtEnd(),!1);if(ig(Ns)&&wo(Ns.previousSibling)){const Ks=o.createRng();return Ks.setStart(Ns,1),Ks.setEnd(Ns,1),Ks}}}return null}let Ct=_n.startContainer,Vt=_n.startOffset;const Dn=_n.endOffset;if(Gt(Ct)&&Vt===0&&sR(Ct.parentNode)&&(Ct=Ct.parentNode,Vt=o.nodeIndex(Ct),Ct=Ct.parentNode),!Nn(Ct))return null;if(Dn===Vt+1&&Ct===_n.endContainer){const Wn=Ct.childNodes[Vt];if($(Wn))return st(Wn)}return null},bt=()=>{_&&_.removeAttribute(p),Bt(Ke.fromDom(e.getBody()),"#"+m).each(Ps),_=null},Ht=()=>{c.destroy(),_=null},tn=()=>{c.hide()};return Og(e)||ve(),{showCaret:X,showBlockCaretContainer:ne,hideFakeCaret:tn,destroy:Ht}},Wae=(e,n)=>{let o=n;for(let a=e.previousSibling;Gt(a);a=a.previousSibling)o+=a.data.length;return o},RZ=(e,n,o,a,c)=>{if(Gt(o)&&(a<0||a>o.data.length))return[];const m=c&&Gt(o)?[Wae(o,a)]:[a];let p=o;for(;p!==n&&p.parentNode;)m.push(e.nodeIndex(p,c)),p=p.parentNode;return p===n?m.reverse():[]},i9=(e,n,o,a,c,m,p=!1)=>{const _=RZ(e,n,o,a,p),A=RZ(e,n,c,m,p);return{start:_,end:A}},IZ=(e,n)=>{const o=n.slice(),a=o.pop();return R(a)?ln(o,(m,p)=>m.bind(_=>J.from(_.childNodes[p])),J.some(e)).bind(m=>Gt(m)&&(a<0||a>m.data.length)?J.none():J.some({node:m,offset:a})):J.none()},DZ=(e,n)=>IZ(e,n.start).bind(({node:o,offset:a})=>IZ(e,n.end).map(({node:c,offset:m})=>{const p=document.createRange();return p.setStart(o,a),p.setEnd(c,m),p})),Kae=(e,n,o,a=!1)=>i9(e,n,o.startContainer,o.startOffset,o.endContainer,o.endOffset,a),Uk=(e,n,o)=>{if(n&&e.isEmpty(n)&&!o(n)){const a=n.parentNode;e.remove(n,Gt(n.firstChild)&&cc(n.firstChild.data)),Uk(e,a,o)}},e6=(e,n,o,a=!0)=>{const c=n.startContainer.parentNode,m=n.endContainer.parentNode;n.deleteContents(),a&&!o(n.startContainer)&&(Gt(n.startContainer)&&n.startContainer.data.length===0&&e.remove(n.startContainer),Gt(n.endContainer)&&n.endContainer.data.length===0&&e.remove(n.endContainer),Uk(e,c,o),c!==m&&Uk(e,m,o))},t6=(e,n)=>J.from(e.dom.getParent(n.startContainer,e.dom.isBlock)),a9=(e,n,o)=>{const a=e.dynamicPatternsLookup({text:o,block:n});return{...e,blockPatterns:La(a).concat(e.blockPatterns),inlinePatterns:dd(a).concat(e.inlinePatterns)}},l9=(e,n,o,a)=>{const c=e.createRng();return c.setStart(n,0),c.setEnd(o,a),c.toString()},PZ=(e,n)=>e.create("span",{"data-mce-type":"bookmark",id:n}),n6=(e,n)=>{const o=e.createRng();return o.setStartAfter(n.start),o.setEndBefore(n.end),o},NZ=(e,n,o)=>{const a=DZ(e.getRoot(),o).getOrDie("Unable to resolve path range"),c=a.startContainer,m=a.endContainer,p=a.endOffset===0?m:m.splitText(a.endOffset),_=a.startOffset===0?c:c.splitText(a.startOffset),A=_.parentNode,$=p.parentNode;return{prefix:n,end:$.insertBefore(PZ(e,n+"-end"),p),start:A.insertBefore(PZ(e,n+"-start"),_)}},LZ=(e,n,o)=>{Uk(e,e.get(n.prefix+"-end"),o),Uk(e,e.get(n.prefix+"-start"),o)},c9=e=>e.start.length===0,jae=e=>(n,o)=>{const c=n.data.substring(0,o),m=c.lastIndexOf(e.charAt(e.length-1)),p=c.lastIndexOf(e);return p!==-1?p+e.length:m!==-1?m+1:-1},MZ=(e,n,o,a)=>{const c=n.start;return IH(e,a.container,a.offset,jae(c),o).bind(p=>{var _,A;const $=(A=(_=o.textContent)===null||_===void 0?void 0:_.indexOf(c))!==null&&A!==void 0?A:-1;if($!==-1&&p.offset>=$+c.length){const X=e.createRng();return X.setStart(p.container,p.offset-c.length),X.setEnd(p.container,p.offset),J.some(X)}else{const X=p.offset-c.length;return RH(p.container,X,o).map(ne=>{const ve=e.createRng();return ve.setStart(ne.container,ne.offset),ve.setEnd(p.container,p.offset),ve}).filter(ne=>ne.toString()===c).orThunk(()=>MZ(e,n,o,Xh(p.container,0)))}})},Zae=(e,n,o,a,c,m=!1)=>{if(n.start.length===0&&!m){const p=e.createRng();return p.setStart(o,a),p.setEnd(o,a),J.some(p)}return OH(o,a,c).bind(p=>MZ(e,n,c,p).bind(A=>{var $;if(m){if(A.endContainer===p.container&&A.endOffset===p.offset)return J.none();if(p.offset===0&&(($=A.endContainer.textContent)===null||$===void 0?void 0:$.length)===A.endOffset)return J.none()}return J.some(A)}))},Gae=(e,n,o,a)=>{const c=e.dom,m=c.getRoot(),p=o.pattern,_=o.position.container,A=o.position.offset;return RH(_,A-o.pattern.end.length,n).bind($=>{const q=i9(c,m,$.container,$.offset,_,A,a);if(c9(p))return J.some({matches:[{pattern:p,startRng:q,endRng:q}],position:$});{const X=o6(e,o.remainingPatterns,$.container,$.offset,n,a),ne=X.getOr({matches:[],position:$}),ve=ne.position;return Zae(c,p,ve.container,ve.offset,n,X.isNone()).map(ye=>{const Pe=Kae(c,m,ye,a);return{matches:ne.matches.concat([{pattern:p,startRng:Pe,endRng:q}]),position:Xh(ye.startContainer,ye.startOffset)}})}})},o6=(e,n,o,a,c,m)=>{const p=e.dom;return OH(o,a,p.getRoot()).bind(_=>{const A=l9(p,c,o,a);for(let $=0;$<n.length;$++){const q=n[$];if(!De(A,q.end))continue;const X=n.slice();X.splice($,1);const ne=Gae(e,c,{pattern:q,remainingPatterns:X,position:_},m);if(ne.isNone()&&a>0)return o6(e,n,o,a-1,c,m);if(ne.isSome())return ne}return J.none()})},BZ=(e,n,o)=>{e.selection.setRng(o),n.type==="inline-format"?be(n.format,a=>{e.formatter.apply(a)}):e.execCommand(n.cmd,!1,n.value)},qae=(e,n,o,a)=>{const c=n6(e.dom,o);e6(e.dom,c,a),BZ(e,n,c)},Yae=(e,n,o,a,c)=>{const m=e.dom,p=n6(m,a),_=n6(m,o);e6(m,_,c),e6(m,p,c);const A={prefix:o.prefix,start:o.end,end:a.start},$=n6(m,A);BZ(e,n,$)},Xae=(e,n)=>{const o=ja("mce_textpattern"),a=ht(n,(c,m)=>{const p=NZ(e,o+`_end${c.length}`,m.endRng);return c.concat([{...m,endMarker:p}])},[]);return ht(a,(c,m)=>{const p=a.length-c.length-1,_=c9(m.pattern)?m.endMarker:NZ(e,o+`_start${p}`,m.startRng);return c.concat([{...m,startMarker:_}])},[])},Jae=e=>xs(e,(n,o)=>o.end.length-n.end.length),Qae=(e,n)=>{const o=Do(e,a=>Re(n,c=>a.pattern.start===c.pattern.start&&a.pattern.end===c.pattern.end));return e.length===n.length?o?e:n:e.length>n.length?e:n},FZ=(e,n,o,a,c,m)=>{const p=o6(e,c.inlinePatterns,o,a,n,m).fold(()=>[],A=>A.matches),_=o6(e,Jae(c.inlinePatterns),o,a,n,m).fold(()=>[],A=>A.matches);return Qae(p,_)},$Z=(e,n)=>{if(n.length===0)return;const o=e.dom,a=e.selection.getBookmark(),c=Xae(o,n);be(c,m=>{const p=o.getParent(m.startMarker.start,o.isBlock),_=A=>A===p;c9(m.pattern)?qae(e,m.pattern,m.endMarker,_):Yae(e,m.pattern,m.startMarker,m.endMarker,_),LZ(o,m.endMarker,_),LZ(o,m.startMarker,_)}),e.selection.moveToBookmark(a)},VZ=(e,n,o)=>Hne(n,0,n).map(a=>{const c=a.container;return HK(c,o.start.length,n).each(m=>{const p=e.createRng();p.setStart(c,0),p.setEnd(m.container,m.offset),e6(e,p,_=>_===n)}),c}),zZ=e=>(n,o)=>{const a=n.dom,c=o.pattern,m=DZ(a.getRoot(),o.range).getOrDie("Unable to resolve path range"),p=(_,A)=>{const $=A.get(_);return te($)&&Tn($).exists(q=>ho(q,"block"))};return t6(n,m).each(_=>{c.type==="block-format"?p(c.format,n.formatter)&&n.undoManager.transact(()=>{e(n.dom,_,c),n.formatter.apply(c.format)}):c.type==="block-command"&&n.undoManager.transact(()=>{e(n.dom,_,c),n.execCommand(c.cmd,!1,c.value)})}),!0},ele=e=>xs(e,(n,o)=>o.start.length-n.start.length),HZ=e=>(n,o)=>{const a=ele(n),c=o.replace(Pi," ");return yn(a,m=>e(m,o,c))},UZ=(e,n)=>(o,a,c,m,p)=>{var _;p===void 0&&(p=(_=a.textContent)!==null&&_!==void 0?_:"");const A=o.dom,$=gl(o);return A.is(a,$)?e(c.blockPatterns,p).map(q=>n&&nn.trim(p).length===q.start.length?[]:[{pattern:q,range:i9(A,A.getRoot(),a,0,a,0,m)}]).getOr([]):[]},tle=e=>/^\s[^\s]/.test(e),nle=zZ((e,n,o)=>{VZ(e,n,o).each(a=>{const c=Ke.fromDom(a),m=sg(c);tle(m)&&kv(c,m.slice(1))})}),ole=HZ((e,n,o)=>n.indexOf(e.start)===0||o.indexOf(e.start)===0),sle=UZ(ole,!0),rle=(e,n)=>{const o=e.selection.getRng();return t6(e,o).map(a=>{var c;const m=Math.max(0,o.startOffset),p=a9(n,a,(c=a.textContent)!==null&&c!==void 0?c:""),_=FZ(e,a,o.startContainer,m,p,!0),A=sle(e,a,p,!0);return{inlineMatches:_,blockMatches:A}}).filter(({inlineMatches:a,blockMatches:c})=>c.length>0||a.length>0)},ile=(e,n)=>{if(n.length===0)return;const o=e.selection.getBookmark();be(n,a=>nle(e,a)),e.selection.moveToBookmark(o)},ale=zZ(VZ),lle=HZ((e,n,o)=>n===e.start||o===e.start),cle=UZ(lle,!1),ule=(e,n)=>{const o=e.selection.getRng();return t6(e,o).map(a=>{const c=Math.max(0,o.startOffset),m=l9(e.dom,a,o.startContainer,c),p=a9(n,a,m);return cle(e,a,p,!1,m)}).filter(a=>a.length>0)},dle=(e,n)=>{be(n,o=>ale(e,o))},fle=(e,n)=>rle(e,n).fold(In,({inlineMatches:o,blockMatches:a})=>(e.undoManager.add(),e.undoManager.extra(()=>{e.execCommand("mceInsertNewLine")},()=>{JE(e),$Z(e,o),ile(e,a);const c=e.selection.getRng(),m=OH(c.startContainer,c.startOffset,e.dom.getRoot());e.execCommand("mceInsertNewLine"),m.each(p=>{const _=p.container;_.data.charAt(p.offset-1)===Or&&(_.deleteData(p.offset-1,1),Uk(e.dom,_.parentNode,A=>A===e.dom.getRoot()))})}),!0)),mle=(e,n)=>{const o=e.selection.getRng();t6(e,o).map(a=>{const c=Math.max(0,o.startOffset-1),m=l9(e.dom,a,o.startContainer,c),p=a9(n,a,m),_=FZ(e,a,o.startContainer,c,p,!1);_.length>0&&e.undoManager.transact(()=>{$Z(e,_)})})},gle=(e,n)=>ule(e,n).fold(In,o=>(e.undoManager.transact(()=>{dle(e,o)}),!0)),WZ=(e,n,o)=>{for(let a=0;a<e.length;a++)if(o(e[a],n))return!0;return!1},hle=(e,n)=>WZ(e,n,(o,a)=>o===a.keyCode&&!bn.modifierPressed(a)),ple=(e,n)=>WZ(e,n,(o,a)=>o.charCodeAt(0)===a.charCode),ble=e=>{const n=[",",".",";",":","!","?"],o=[32],a=()=>Vp(D8(e).filter(p=>p.type==="inline-command"||p.type==="block-command"?e.queryCommandSupported(p.cmd):!0),S2(e)),c=()=>pA(e);e.on("keydown",p=>{if(p.keyCode===13&&!bn.modifierPressed(p)&&e.selection.isCollapsed()){const _=sm(a(),"enter");(_.inlinePatterns.length>0||_.blockPatterns.length>0||c())&&fle(e,_)&&p.preventDefault()}},!0),e.on("keydown",p=>{if(p.keyCode===32&&e.selection.isCollapsed()){const _=sm(a(),"space");(_.blockPatterns.length>0||c())&&gle(e,_)&&p.preventDefault()}},!0);const m=()=>{if(e.selection.isCollapsed()){const p=sm(a(),"space");(p.inlinePatterns.length>0||c())&&mle(e,p)}};e.on("keyup",p=>{hle(o,p)&&m()}),e.on("keypress",p=>{ple(n,p)&&qc.setEditorTimeout(e,m)})},vle=e=>{ble(e)},yle=e=>{const n=nn.each,o=bn.BACKSPACE,a=bn.DELETE,c=e.dom,m=e.selection,p=e.parser,_=Uo.browser,A=_.isFirefox(),$=_.isChromium()||_.isSafari(),q=Uo.deviceType.isiPhone()||Uo.deviceType.isiPad(),X=Uo.os.isMacOS()||Uo.os.isiOS(),ne=(gn,eo)=>{try{e.getDoc().execCommand(gn,!1,String(eo))}catch{}},ve=gn=>gn.isDefaultPrevented(),Oe=()=>{const gn=jo=>{const wn=c.create("body"),zo=jo.cloneContents();return wn.appendChild(zo),m.serializer.serialize(wn,{format:"html"})},eo=jo=>{const wn=gn(jo),zo=c.createRng();zo.selectNode(e.getBody());const qo=gn(zo);return wn===qo};e.on("keydown",jo=>{const wn=jo.keyCode;if(!ve(jo)&&(wn===a||wn===o)&&e.selection.isEditable()){const zo=e.selection.isCollapsed(),qo=e.getBody();if(zo&&!uc(e.schema,qo)||!zo&&!eo(e.selection.getRng()))return;jo.preventDefault(),e.setContent(""),qo.firstChild&&c.isBlock(qo.firstChild)?e.selection.setCursorLocation(qo.firstChild,0):e.selection.setCursorLocation(qo,0),e.nodeChanged()}})},ye=()=>{e.shortcuts.add("meta+a",null,"SelectAll")},Pe=()=>{e.inline||c.bind(e.getDoc(),"mousedown mouseup",gn=>{let eo;if(gn.target===e.getDoc().documentElement)if(eo=m.getRng(),e.getBody().focus(),gn.type==="mousedown"){if(Jl(eo.startContainer))return;m.placeCaretAt(gn.clientX,gn.clientY)}else m.setRng(eo)})},Ye=()=>{e.on("keydown",gn=>{if(!ve(gn)&&gn.keyCode===o){if(!e.getBody().getElementsByTagName("hr").length)return;if(m.isCollapsed()&&m.getRng().startOffset===0){const eo=m.getNode(),jo=eo.previousSibling;if(eo.nodeName==="HR"){c.remove(eo),gn.preventDefault();return}jo&&jo.nodeName&&jo.nodeName.toLowerCase()==="hr"&&(c.remove(jo),gn.preventDefault())}}})},st=()=>{Range.prototype.getClientRects||e.on("mousedown",gn=>{if(!ve(gn)&&gn.target.nodeName==="HTML"){const eo=e.getBody();eo.blur(),qc.setEditorTimeout(e,()=>{eo.focus()})}})},nt=()=>{const gn=iy(e);e.on("click",eo=>{const jo=eo.target;/^(IMG|HR)$/.test(jo.nodeName)&&c.isEditable(jo)&&(eo.preventDefault(),e.selection.select(jo),e.nodeChanged()),jo.nodeName==="A"&&c.hasClass(jo,gn)&&jo.childNodes.length===0&&c.isEditable(jo.parentNode)&&(eo.preventDefault(),m.select(jo))})},bt=()=>{const gn=()=>{const jo=c.getAttribs(m.getStart().cloneNode(!1));return()=>{const wn=m.getStart();wn!==e.getBody()&&(c.setAttrib(wn,"style",null),n(jo,zo=>{wn.setAttributeNode(zo.cloneNode(!0))}))}},eo=()=>!m.isCollapsed()&&c.getParent(m.getStart(),c.isBlock)!==c.getParent(m.getEnd(),c.isBlock);e.on("keypress",jo=>{let wn;return!ve(jo)&&(jo.keyCode===8||jo.keyCode===46)&&eo()?(wn=gn(),e.getDoc().execCommand("delete",!1),wn(),jo.preventDefault(),!1):!0}),c.bind(e.getDoc(),"cut",jo=>{if(!ve(jo)&&eo()){const wn=gn();qc.setEditorTimeout(e,()=>{wn()})}})},Ht=()=>{e.on("keydown",gn=>{if(!ve(gn)&&gn.keyCode===o&&m.isCollapsed()&&m.getRng().startOffset===0){const eo=m.getNode().previousSibling;if(eo&&eo.nodeName&&eo.nodeName.toLowerCase()==="table")return gn.preventDefault(),!1}return!0})},tn=()=>{e.on("keydown",gn=>{if(ve(gn)||gn.keyCode!==bn.BACKSPACE)return;let eo=m.getRng();const jo=eo.startContainer,wn=eo.startOffset,zo=c.getRoot();let qo=jo;if(!(!eo.collapsed||wn!==0)){for(;qo.parentNode&&qo.parentNode.firstChild===qo&&qo.parentNode!==zo;)qo=qo.parentNode;qo.nodeName==="BLOCKQUOTE"&&(e.formatter.toggle("blockquote",void 0,qo),eo=c.createRng(),eo.setStart(jo,0),eo.setEnd(jo,0),m.setRng(eo))}})},_n=()=>{const gn=()=>{ne("StyleWithCSS",!1),ne("enableInlineTableEditing",!1),II(e)||ne("enableObjectResizing",!1)};$I(e)||e.on("BeforeExecCommand mousedown",gn)},Dt=()=>{const gn=()=>{n(c.select("a:not([data-mce-block])"),eo=>{var jo;let wn=eo.parentNode;const zo=c.getRoot();if((wn==null?void 0:wn.lastChild)===eo){for(;wn&&!c.isBlock(wn);){if(((jo=wn.parentNode)===null||jo===void 0?void 0:jo.lastChild)!==wn||wn===zo)return;wn=wn.parentNode}c.add(wn,"br",{"data-mce-bogus":1})}})};e.on("SetContent ExecCommand",eo=>{(eo.type==="setcontent"||eo.command==="mceInsertLink")&&gn()})},Ct=()=>{e.on("init",()=>{ne("DefaultParagraphSeparator",gl(e))})},Vt=gn=>{const eo=gn.getBody(),jo=gn.selection.getRng();return jo.startContainer===jo.endContainer&&jo.startContainer===eo&&jo.startOffset===0&&jo.endOffset===eo.childNodes.length},Dn=()=>{e.on("keyup focusin mouseup",gn=>{!bn.modifierPressed(gn)&&!Vt(e)&&m.normalize()},!0)},Wn=()=>{e.contentStyles.push("img:-moz-broken {-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}")},Vo=()=>{e.inline||e.on("keydown",()=>{document.activeElement===document.body&&e.getWin().focus()})},Go=()=>{e.inline||(e.contentStyles.push("body {min-height: 150px}"),e.on("click",gn=>{let eo;gn.target.nodeName==="HTML"&&(eo=e.selection.getRng(),e.getBody().focus(),e.selection.setRng(eo),e.selection.normalize(),e.nodeChanged())}))},Ns=()=>{X&&e.on("keydown",gn=>{bn.metaKeyPressed(gn)&&!gn.shiftKey&&(gn.keyCode===37||gn.keyCode===39)&&(gn.preventDefault(),e.selection.getSel().modify("move",gn.keyCode===37?"backward":"forward","lineboundary"))})},Ks=()=>{e.on("click",gn=>{let eo=gn.target;do if(eo.tagName==="A"){gn.preventDefault();return}while(eo=eo.parentNode)}),e.contentStyles.push(".mce-content-body {-webkit-touch-callout: none}")},fi=()=>{e.on("init",()=>{e.dom.bind(e.getBody(),"submit",gn=>{gn.preventDefault()})})},Ml=()=>{p.addNodeFilter("br",gn=>{let eo=gn.length;for(;eo--;)gn[eo].attr("class")==="Apple-interchange-newline"&&gn[eo].remove()})},er=St,un=()=>{if(!A||e.removed)return!1;const gn=e.selection.getSel();return!gn||!gn.rangeCount||gn.rangeCount===0},Hn=()=>{$&&(Pe(),nt(),fi(),ye(),q&&(Vo(),Go(),Ks())),A&&(st(),_n(),Wn(),Ns())},Cs=()=>{tn(),Oe(),Uo.windowsPhone||Dn(),$&&(Pe(),nt(),Ct(),fi(),Ht(),Ml(),q?(Vo(),Go(),Ks()):ye()),A&&(Ye(),st(),bt(),_n(),Dt(),Wn(),Ns(),Ht())};return Og(e)?Hn():Cs(),{refreshContentEditable:er,isHidden:un}},xle=e=>e.toLowerCase()==="gpl",wle=e=>e.length>=64&&e.length<=255,Cle=e=>xle(e)||wle(e)?"VALID":"INVALID",_le=e=>{const n=XI(e);!ue(JI(e))&&(Je(n)||Cle(n)==="INVALID")&&console.warn("TinyMCE is running in evaluation mode. Provide a valid license key or add license_key: 'gpl' to the init config to agree to the open source license terms. Read more at https://www.tiny.cloud/license-key/")},u9=Js.DOM,Sle=(e,n)=>{const o=Ke.fromDom(e.getBody()),a=zm(du(o)),c=Ke.fromTag("style");_i(c,"type","text/css"),Hr(c,Ke.fromText(n)),Hr(a,c),e.on("remove",()=>{Ps(c)})},kle=e=>e.inline?e.getElement().nodeName.toLowerCase():void 0,d9=e=>Ac(e,n=>Je(n)===!1),KZ=e=>{const n=e.options.get,o=e.editorUpload.blobCache;return d9({allow_conditional_comments:n("allow_conditional_comments"),allow_html_data_urls:n("allow_html_data_urls"),allow_svg_data_urls:n("allow_svg_data_urls"),allow_html_in_named_anchor:n("allow_html_in_named_anchor"),allow_script_urls:n("allow_script_urls"),allow_unsafe_link_target:n("allow_unsafe_link_target"),convert_unsafe_embeds:n("convert_unsafe_embeds"),convert_fonts_to_spans:n("convert_fonts_to_spans"),fix_list_elements:n("fix_list_elements"),font_size_legacy_values:n("font_size_legacy_values"),forced_root_block:n("forced_root_block"),forced_root_block_attrs:n("forced_root_block_attrs"),preserve_cdata:n("preserve_cdata"),inline_styles:n("inline_styles"),root_name:kle(e),sandbox_iframes:n("sandbox_iframes"),sandbox_iframes_exclusions:x_(e),sanitize:n("xss_sanitization"),validate:!0,blob_cache:o,document:e.getDoc()})},jZ=e=>{const n=e.options.get;return d9({custom_elements:n("custom_elements"),extended_valid_elements:n("extended_valid_elements"),invalid_elements:n("invalid_elements"),invalid_styles:n("invalid_styles"),schema:n("schema"),valid_children:n("valid_children"),valid_classes:n("valid_classes"),valid_elements:n("valid_elements"),valid_styles:n("valid_styles"),verify_html:n("verify_html"),padd_empty_block_inline_children:n("format_empty_lines")})},Ele=e=>{const n=e.options.get;return{...KZ(e),...jZ(e),...d9({remove_trailing_brs:n("remove_trailing_brs"),pad_empty_with_br:n("pad_empty_with_br"),url_converter:n("url_converter"),url_converter_scope:n("url_converter_scope"),element_format:n("element_format"),entities:n("entities"),entity_encoding:n("entity_encoding"),indent:n("indent"),indent_after:n("indent_after"),indent_before:n("indent_before")})}},Ale=e=>{const n=Ly(KZ(e),e.schema);return n.addAttributeFilter("src,href,style,tabindex",(o,a)=>{const c=e.dom,m="data-mce-"+a;let p=o.length;for(;p--;){const _=o[p];let A=_.attr(a);if(A&&!_.attr(m)){if(A.indexOf("data:")===0||A.indexOf("blob:")===0)continue;a==="style"?(A=c.serializeStyle(c.parseStyle(A),_.name),A.length||(A=null),_.attr(m,A),_.attr(a,A)):a==="tabindex"?(_.attr(m,A),_.attr(a,null)):_.attr(m,e.convertURL(A,a,_.name))}}}),n.addNodeFilter("script",o=>{let a=o.length;for(;a--;){const c=o[a],m=c.attr("type")||"no/type";m.indexOf("mce-")!==0&&c.attr("type","mce-"+m)}}),N8(e)&&n.addNodeFilter("#cdata",o=>{var a;let c=o.length;for(;c--;){const m=o[c];m.type=8,m.name="#comment",m.value="[CDATA["+e.dom.encode((a=m.value)!==null&&a!==void 0?a:"")+"]]"}}),n.addNodeFilter("p,h1,h2,h3,h4,h5,h6,div",o=>{let a=o.length;const c=e.schema.getNonEmptyElements();for(;a--;){const m=o[a];m.isEmpty(c)&&m.getAll("br").length===0&&m.append(new Ma("br",1))}}),n},Tle=e=>{const n=A8(e);n&&qc.setEditorTimeout(e,()=>{let o;n===!0?o=e:o=e.editorManager.get(n),o&&!o.destroyed&&(o.focus(),o.selection.scrollIntoView())},100)},Ole=e=>{const n=e.dom.getRoot();!e.inline&&(!dy(e)||e.selection.getStart(!0)===n)&&so(n).each(o=>{const a=o.getNode(),c=pu(a)?so(a).getOr(o):o;e.selection.setRng(c.toRange())})},Rle=e=>{e.bindPendingEventDelegates(),e.initialized=!0,ri(e),e.focus(!0),Ole(e),e.nodeChanged({initial:!0});const n=k8(e);_e(n)&&n.call(e,e),Tle(e)},f9=e=>e.inline?e.ui.styleSheetLoader:e.dom.styleSheetLoader,Ile=(e,n,o)=>{const{pass:a,fail:c}=Ne(n,_=>tinymce.Resource.has(sO(_))),p=[...a.map(_=>{const A=tinymce.Resource.get(sO(_));return ue(A)?Promise.resolve(f9(e).loadRawCss(_,A)):Promise.resolve()}),f9(e).loadAll(c)];return e.inline?p:p.concat([e.ui.styleSheetLoader.loadAll(o)])},ZZ=e=>{const n=f9(e),o=RI(e),a=e.contentCSS,c=()=>{n.unloadAll(a),e.inline||e.ui.styleSheetLoader.unloadAll(o)},m=()=>{e.removed?c():e.on("remove",c)};if(e.contentStyles.length>0){let A="";nn.each(e.contentStyles,$=>{A+=$+`\r
`}),e.dom.addStyle(A)}const p=Promise.all(Ile(e,a,o)).then(m).catch(m),_=oy(e);return _&&Sle(e,_),p},Dle=e=>{const n=e.getDoc(),o=e.getBody();n7(e),T8(e)||(n.body.spellcheck=!1,u9.setAttrib(o,"spellcheck","false")),e.quirks=yle(e),o7(e);const a=v8(e);a!==void 0&&(o.dir=a);const c=ms(e);c&&e.on("BeforeSetContent",m=>{nn.each(c,p=>{m.content=m.content.replace(p,_=>"<!--mce:protected "+escape(_)+"-->")})}),e.on("SetContent",()=>{e.addVisual(e.getBody())}),e.on("compositionstart compositionend",m=>{e.composing=m.type==="compositionstart"})},Ple=e=>{Og(e)||e.load({initial:!0,format:"html"}),e.startContent=e.getContent({format:"raw"})},m9=e=>{e.removed!==!0&&(Ple(e),Rle(e))},Nle=e=>{let n=!1;const o=setTimeout(()=>{n||e.setProgressState(!0)},500);return()=>{clearTimeout(o),n=!0,e.setProgressState(!1)}},GZ=e=>{const n=e.getElement();let o=e.getDoc();e.inline&&(u9.addClass(n,"mce-content-body"),e.contentDocument=o=document,e.contentWindow=window,e.bodyElement=n,e.contentAreaContainer=n);const a=e.getBody();a.disabled=!0,e.readonly=$I(e),e._editableRoot=Es(e),!e.readonly&&e.hasEditableRoot()&&(e.inline&&u9.getStyle(a,"position",!0)==="static"&&(a.style.position="relative"),a.contentEditable="true"),a.disabled=!1,e.editorUpload=iO(e),e.schema=Vc(jZ(e)),e.dom=Js(o,{keep_values:!0,url_converter:e.convertURL,url_converter_scope:e,update_styles:!0,root_element:e.inline?e.getBody():null,collect:e.inline,schema:e.schema,contentCssCors:TI(e),referrerPolicy:x2(e),onSetAttrib:p=>{e.dispatch("SetAttrib",p)}}),e.parser=Ale(e),e.serializer=TL(Ele(e),e),e.selection=K4(e.dom,e.getWin(),e.serializer,e),e.annotator=UD(e),e.formatter=Zw(e),e.undoManager=aM(e),e._nodeChangeDispatcher=new Tre(e),e._selectionOverrides=Uae(e),Io(e),Gie(e),sC(e),Og(e)||(tae(e),vle(e));const c=Are(e);jn(e,c),$i(e),mM(e),Kie(e);const m=uL(e);Dle(e),_le(e),m.fold(()=>{const p=Nle(e);ZZ(e).then(()=>{m9(e),p()})},p=>{e.setProgressState(!0),ZZ(e).then(()=>{p().then(_=>{e.setProgressState(!1),m9(e),bL(e)},_=>{e.notificationManager.open({type:"error",text:String(_)}),m9(e),bL(e)})})})},Lle=on,Mle=(e,n,o)=>N(e,n,Lle,o),g9=Js.DOM,Ble=(e,n,o,a)=>{const c=Ke.fromTag("iframe");return a.each(m=>_i(c,"tabindex",m)),Va(c,o),Va(c,{id:e+"_ifr",frameBorder:"0",allowTransparency:"true",title:n}),Wd(c,"tox-edit-area__iframe"),c},Fle=e=>{let n=rf(e)+"<html><head>";Su(e)!==e.documentBaseUrl&&(n+='<base href="'+e.documentBaseURI.getURI()+'" />'),n+='<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />';const o=p_(e),a=oA(e),c=e.translate(C2(e));return CI(e)&&(n+='<meta http-equiv="Content-Security-Policy" content="'+CI(e)+'" />'),n+=`</head><body id="${o}" class="mce-content-body ${a}" data-id="${e.id}" aria-label="${c}"><br></body></html>`,n},$le=(e,n)=>{const o=Uo.browser.isFirefox()?C2(e):"Rich Text Area",a=e.translate(o),c=au(Ke.fromDom(e.getElement()),"tabindex").bind(hn),m=Ble(e.id,a,Dl(e),c).dom;m.onload=()=>{m.onload=null,e.dispatch("load")},e.contentAreaContainer=n.iframeContainer,e.iframeElement=m,e.iframeHTML=Fle(e),g9.add(n.iframeContainer,m)},Vle=e=>{const n=e.iframeElement,o=()=>{e.contentDocument=n.contentDocument,GZ(e)};if(jI(e)||Uo.browser.isFirefox()){const a=e.getDoc();a.open(),a.write(e.iframeHTML),a.close(),o()}else{const a=Mle(Ke.fromDom(n),"load",()=>{a.unbind(),o()});n.srcdoc=e.iframeHTML}},zle=(e,n)=>{$le(e,n),n.editorContainer&&(n.editorContainer.style.display=e.orgDisplay,e.hidden=g9.isHidden(n.editorContainer)),e.getElement().style.display="none",g9.setAttrib(e.id,"aria-hidden","true"),e.getElement().style.visibility=e.orgVisibility,Vle(e)},qZ=Js.DOM,Hle=(e,n,o)=>{const a=_0.get(o),c=_0.urls[o]||e.documentBaseUrl.replace(/\/$/,"");if(o=nn.trim(o),a&&nn.inArray(n,o)===-1){if(e.plugins[o])return;try{const m=a(e,c)||{};e.plugins[o]=m,_e(m.init)&&(m.init(e,c),n.push(o))}catch(m){hz(e,o,m)}}},Ule=e=>e.replace(/^\-/,""),Wle=e=>{const n=[];be(af(e),o=>{Hle(e,n,Ule(o))})},Kle=e=>{const n=nn.trim(lA(e)),o=e.ui.registry.getAll().icons,a={...Hw.get("default").icons,...Hw.get(n).icons};ds(a,(c,m)=>{ho(o,m)||e.ui.registry.addIcon(m,c)})},jle=e=>{const n=sy(e);if(ue(n)){const o=bb.get(n);e.theme=o(e,bb.urls[n])||{},_e(e.theme.init)&&e.theme.init(e,bb.urls[n]||e.documentBaseUrl.replace(/\/$/,""))}else e.theme={}},Zle=e=>{const n=w2(e),o=pb.get(n);e.model=o(e,pb.urls[n])},Gle=e=>{const n=e.theme.renderUI;return n?n():XZ(e)},qle=e=>{const n=e.getElement(),a=sy(e)(e,n);return a.editorContainer.nodeType&&(a.editorContainer.id=a.editorContainer.id||e.id+"_parent"),a.iframeContainer&&a.iframeContainer.nodeType&&(a.iframeContainer.id=a.iframeContainer.id||e.id+"_iframecontainer"),a.height=a.iframeHeight?a.iframeHeight:n.offsetHeight,a},YZ=(e,n)=>({editorContainer:e,iframeContainer:n,api:{}}),Yle=e=>{const n=qZ.create("div");return qZ.insertAfter(n,e),YZ(n,n)},XZ=e=>{const n=e.getElement();return e.inline?YZ(null):Yle(n)},Xle=e=>{const n=e.getElement();return e.orgDisplay=n.style.display,ue(sy(e))?Gle(e):_e(sy(e))?qle(e):XZ(e)},Jle=(e,n)=>{const o={show:J.from(n.show).getOr(St),hide:J.from(n.hide).getOr(St),isEnabled:J.from(n.isEnabled).getOr(on),setEnabled:a=>{e.mode.isReadOnly()||J.from(n.setEnabled).each(c=>c(a))}};e.ui={...e.ui,...o}},Qle=async e=>{e.dispatch("ScriptsLoaded"),Kle(e),jle(e),Zle(e),Wle(e);const n=await Xle(e);Jle(e,J.from(n.api).getOr({})),e.editorContainer=n.editorContainer,GL(e),e.inline?GZ(e):zle(e,{editorContainer:n.editorContainer,iframeContainer:n.iframeContainer})},cC=Js.DOM,JZ=e=>e.charAt(0)==="-",ece=(e,n)=>{const o=dA(n),a=b8(n);if(!zc.hasCode(o)&&o!=="en"){const c=ot(a)?a:`${n.editorManager.baseURL}/langs/${o}.js`;e.add(c).catch(()=>{mz(n,c,o)})}},tce=(e,n)=>{const o=sy(e);if(ue(o)&&!JZ(o)&&!ho(bb.urls,o)){const a=x8(e),c=a?e.documentBaseURI.toAbsolute(a):`themes/${o}/theme${n}.js`;bb.load(o,c).catch(()=>{jL(e,c,o)})}},nce=(e,n)=>{const o=w2(e);if(o!=="plugin"&&!ho(pb.urls,o)){const a=mA(e),c=ue(a)?e.documentBaseURI.toAbsolute(a):`models/${o}/model${n}.js`;pb.load(o,c).catch(()=>{gz(e,c,o)})}},oce=e=>J.from(EI(e)).filter(ot).map(n=>({url:n,name:J.none()})),QZ=(e,n,o)=>J.from(n).filter(a=>ot(a)&&!Hw.has(a)).map(a=>({url:`${e.editorManager.baseURL}/icons/${a}/icons${o}.js`,name:J.some(a)})),sce=(e,n,o)=>{const a=QZ(n,"default",o),c=oce(n).orThunk(()=>QZ(n,lA(n),""));be(d1([a,c]),m=>{e.add(m.url).catch(()=>{nO(n,m.url,m.name.getOrUndefined())})})},rce=(e,n)=>{const o=(a,c)=>{_0.load(a,c).catch(()=>{tO(e,c,a)})};ds(dg(e),(a,c)=>{o(c,a),e.options.set("plugins",af(e).concat(c))}),be(af(e),a=>{a=nn.trim(a),a&&!_0.urls[a]&&!JZ(a)&&o(a,`plugins/${a}/plugin${n}.js`)})},ice=e=>{const n=sy(e);return!ue(n)||we(bb.get(n))},ace=e=>{const n=w2(e);return we(pb.get(n))},lce=(e,n)=>{const o=Ol.ScriptLoader,a=()=>{!e.removed&&ice(e)&&ace(e)&&Qle(e)};tce(e,n),nce(e,n),ece(o,e),sce(o,e,n),rce(e,n),o.loadQueue().then(a,a)},cce=(e,n)=>_1.forElement(e,{contentCssCors:VI(n),referrerPolicy:x2(n)}),uce=e=>{const n=e.id;zc.setCode(dA(e));const o=()=>{cC.unbind(window,"ready",o),e.render()};if(!jf.Event.domLoaded){cC.bind(window,"ready",o);return}if(!e.getElement())return;const a=Ke.fromDom(e.getElement()),c=El(a);e.on("remove",()=>{Se(a.dom.attributes,p=>Mo(a,p.name)),Va(a,c)}),e.ui.styleSheetLoader=cce(a,e),Uv(e)?e.inline=!0:(e.orgVisibility=e.getElement().style.visibility,e.getElement().style.visibility="hidden");const m=e.getElement().form||cC.getParent(n,"form");m&&(e.formElement=m,gA(e)&&!_p(e.getElement())&&(cC.insertAfter(cC.create("input",{type:"hidden",name:n}),n),e.hasHiddenInput=!0),e.formEventDelegate=p=>{e.dispatch(p.type,p)},cC.bind(m,"submit reset",e.formEventDelegate),e.on("reset",()=>{e.resetContent()}),LI(e)&&!m.submit.nodeType&&!m.submit.length&&!m._mceOldSubmit&&(m._mceOldSubmit=m.submit,m.submit=()=>(e.editorManager.triggerSave(),e.setDirty(!1),m._mceOldSubmit(m)))),e.windowManager=WL(e),e.notificationManager=eO(e),ZI(e)&&e.on("GetContent",p=>{p.save&&(p.content=cC.encode(p.content))}),MI(e)&&e.on("submit",()=>{e.initialized&&e.save()}),BI(e)&&(e._beforeUnload=()=>{e.initialized&&!e.destroyed&&!e.isHidden()&&e.save({format:"raw",no_events:!0,set_dirty:!1})},e.editorManager.on("BeforeUnload",e._beforeUnload)),e.editorManager.add(e),lce(e,e.suffix)},dce=(e,n)=>{e._editableRoot!==n&&(e._editableRoot=n,e.readonly||(e.getBody().contentEditable=String(e.hasEditableRoot()),e.nodeChanged()),i7(e,n))},fce=e=>e._editableRoot,mce=(e,n)=>({sections:dt(e),options:dt(n)}),eG=la().deviceType,tG=eG.isPhone(),gce=eG.isTablet(),rR=e=>{if(rt(e))return[];{const n=te(e)?e:e.split(/[ ,]/),o=Ve(n,He);return Ge(o,ot)}},hce=(e,n)=>{const o=ju(n,(a,c)=>xe(e,c));return mce(o.t,o.f)},pce=(e,n,o={})=>{const a=e.sections(),c=Ds(a,n).getOr({});return nn.extend({},o,c)},h9=(e,n)=>ho(e.sections(),n),bce=(e,n)=>h9(e,n)?e.sections()[n]:{},vce=(e,n)=>({...{table_grid:!1,object_resizing:!1,resize:!1,toolbar_mode:Ds(e,"toolbar_mode").getOr("scrolling"),toolbar_sticky:!1},...n?{menubar:!1}:{}}),yce=(e,n)=>{var o;const a=(o=n.external_plugins)!==null&&o!==void 0?o:{};return e&&e.external_plugins?nn.extend({},e.external_plugins,a):a},xce=(e,n)=>[...rR(e),...rR(n)],wce=(e,n,o,a)=>e&&h9(n,"mobile")?a:o,Cce=(e,n,o,a)=>{const c=rR(o.forced_plugins),m=rR(a.plugins),p=bce(n,"mobile"),_=p.plugins?rR(p.plugins):m,A=wce(e,n,m,_),$=xce(c,A);return nn.extend(a,{forced_plugins:c,plugins:$})},_ce=(e,n)=>e&&h9(n,"mobile"),Sce=(e,n,o,a,c)=>{var m;const p=e?{mobile:vce((m=c.mobile)!==null&&m!==void 0?m:{},n)}:{},_=hce(["mobile"],LB(p,c)),A=nn.extend(o,a,_.options(),_ce(e,_)?pce(_,"mobile"):{},{external_plugins:yce(a,_.options())});return Cce(e,_,a,A)},kce=(e,n)=>{const o=YK(n);return Sce(tG||gce,tG,o,e,o)},Ece=(e,n)=>pL(e,n),Ace=e=>{const n=(a,c)=>{e.formatter.toggle(a,c),e.nodeChanged()},o=a=>()=>{be("left,center,right,justify".split(","),c=>{a!==c&&e.formatter.remove("align"+c)}),a!=="none"&&n("align"+a)};e.editorCommands.addCommands({JustifyLeft:o("left"),JustifyCenter:o("center"),JustifyRight:o("right"),JustifyFull:o("justify"),JustifyNone:o("none")})},Tce=e=>{const n=o=>()=>{const a=e.selection,c=a.isCollapsed()?[e.dom.getParent(a.getNode(),e.dom.isBlock)]:a.getSelectedBlocks();return Re(c,m=>we(e.formatter.matchNode(m,o)))};e.editorCommands.addCommands({JustifyLeft:n("alignleft"),JustifyCenter:n("aligncenter"),JustifyRight:n("alignright"),JustifyFull:n("alignjustify")},"state")},Oce=e=>{Ace(e),Tce(e)},Rce=e=>{e.editorCommands.addCommands({"Cut,Copy,Paste":n=>{const o=e.getDoc();let a;try{o.execCommand(n)}catch{a=!0}if(n==="paste"&&!o.queryCommandEnabled(n)&&(a=!0),a||!o.queryCommandSupported(n)){let c=e.translate("Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.");(Uo.os.isMacOS()||Uo.os.isiOS())&&(c=c.replace(/Ctrl\+/g,"+")),e.notificationManager.open({text:c,type:"error"})}}})},Ice=(e,n,o,a)=>{const c=Ke.fromDom(e.getRoot());return ky(c,kt.fromRangeStart(n),a)?o=o.replace(/^ /,"&nbsp;"):o=o.replace(/^&nbsp;/," "),f0(c,kt.fromRangeEnd(n),a)?o=o.replace(/(&nbsp;| )(<br( \/)>)?$/,"&nbsp;"):o=o.replace(/&nbsp;(<br( \/)?>)?$/," "),o},Dce=e=>{if(typeof e!="string"){const n=nn.extend({paste:e.paste,data:{paste:e.paste}},e);return{content:e.content,details:n}}return{content:e,details:{}}},Pce=(e,n)=>{const o=e.selection,a=e.dom;return/^ | $/.test(n)?Ice(a,o.getRng(),n,e.schema):n},s6=(e,n)=>{if(e.selection.isEditable()){const{content:o,details:a}=Dce(n);y4(e,{...a,content:Pce(e,o),format:"html",set:!1,selection:!0}).each(c=>{const m=KV(e,c.content,a);x4(e,m,c),e.addVisual()})}},Nce=e=>{e.editorCommands.addCommands({mceCleanup:()=>{const n=e.selection.getBookmark();e.setContent(e.getContent()),e.selection.moveToBookmark(n)},insertImage:(n,o,a)=>{s6(e,e.dom.createHTML("img",{src:a}))},insertHorizontalRule:()=>{e.execCommand("mceInsertContent",!1,"<hr>")},insertText:(n,o,a)=>{s6(e,e.dom.encode(a))},insertHTML:(n,o,a)=>{s6(e,a)},mceInsertContent:(n,o,a)=>{s6(e,a)},mceSetContent:(n,o,a)=>{e.setContent(a)},mceReplaceContent:(n,o,a)=>{e.execCommand("mceInsertContent",!1,a.replace(/\{\$selection\}/g,e.selection.getContent({format:"text"})))},mceNewDocument:()=>{e.setContent(bs(e))}})},Lce={"font-size":"size","font-family":"face"},Mce=If("font"),Bce=(e,n,o)=>{const a=m=>Mr(m,e).orThunk(()=>Mce(m)?Ds(Lce,e).bind(p=>au(m,p)):J.none()),c=m=>ns(Ke.fromDom(n),m);return Sw(Ke.fromDom(o),m=>a(m),c)},Fce=e=>e.replace(/[\'\"\\]/g,"").replace(/,\s+/g,","),$ce=(e,n)=>J.from(Js.DOM.getStyle(n,e,!0)),nG=e=>(n,o)=>J.from(o).map(Ke.fromDom).filter(Vr).bind(a=>Bce(e,n,a.dom).or($ce(e,a.dom))).getOr(""),Vce=nG("font-size"),zce=Ut(Fce,nG("font-family")),Hce=e=>so(e.getBody()).bind(n=>{const o=n.container();return J.from(Gt(o)?o.parentNode:o)}),Uce=e=>J.from(e.selection.getRng()).bind(n=>{const o=e.getBody();return n.startContainer===o&&n.startOffset===0?J.none():J.from(e.selection.getStart(!0))}),Wce=(e,n)=>Uce(e).orThunk(et(Hce,e)).map(Ke.fromDom).filter(Vr).bind(n),p9=(e,n)=>Wce(e,sn(J.some,n)),oG=(e,n)=>{if(/^[0-9.]+$/.test(n)){const o=parseInt(n,10);if(o>=1&&o<=7){const a=bA(e),c=vA(e);return c.length>0?c[o-1]||n:a[o-1]||n}else return n}else return n},Kce=e=>{const n=e.split(/\s*,\s*/);return Ve(n,o=>o.indexOf(" ")!==-1&&!(cr(o,'"')||cr(o,"'"))?`'${o}'`:o).join(",")},jce=(e,n)=>{const o=oG(e,n);e.formatter.toggle("fontname",{value:Kce(o)}),e.nodeChanged()},Zce=e=>p9(e,n=>zce(e.getBody(),n.dom)).getOr(""),Gce=(e,n)=>{e.formatter.toggle("fontsize",{value:oG(e,n)}),e.nodeChanged()},qce=e=>p9(e,n=>Vce(e.getBody(),n.dom)).getOr(""),Yce=e=>p9(e,n=>{const o=Ke.fromDom(e.getBody()),a=Sw(n,m=>Mr(m,"line-height"),et(ns,o)),c=()=>{const m=parseFloat(zr(n,"line-height")),p=parseFloat(zr(n,"font-size"));return String(m/p)};return a.getOrThunk(c)}).getOr(""),Xce=(e,n)=>{e.formatter.toggle("lineheight",{value:String(n)}),e.nodeChanged()},Jce=e=>{const n=(o,a)=>{e.formatter.toggle(o,a),e.nodeChanged()};e.editorCommands.addCommands({"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":o=>{n(o)},"ForeColor,HiliteColor":(o,a,c)=>{n(o,{value:c})},BackColor:(o,a,c)=>{n("hilitecolor",{value:c})},FontName:(o,a,c)=>{jce(e,c)},FontSize:(o,a,c)=>{Gce(e,c)},LineHeight:(o,a,c)=>{Xce(e,c)},Lang:(o,a,c)=>{var m;n(o,{value:c.code,customValue:(m=c.customCode)!==null&&m!==void 0?m:null})},RemoveFormat:o=>{e.formatter.remove(o)},mceBlockQuote:()=>{n("blockquote")},FormatBlock:(o,a,c)=>{n(ue(c)?c:"p")},mceToggleFormat:(o,a,c)=>{n(c)}})},Qce=e=>{const n=o=>e.formatter.match(o);e.editorCommands.addCommands({"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":o=>n(o),mceBlockQuote:()=>n("blockquote")},"state"),e.editorCommands.addQueryValueHandler("FontName",()=>Zce(e)),e.editorCommands.addQueryValueHandler("FontSize",()=>qce(e)),e.editorCommands.addQueryValueHandler("LineHeight",()=>Yce(e))},eue=e=>{Jce(e),Qce(e)},tue=e=>{e.editorCommands.addCommands({mceAddUndoLevel:()=>{e.undoManager.add()},mceEndUndoLevel:()=>{e.undoManager.add()},Undo:()=>{e.undoManager.undo()},Redo:()=>{e.undoManager.redo()}})},nue=e=>{e.editorCommands.addCommands({Indent:()=>{Nt(e)},Outdent:()=>{Ot(e)}}),e.editorCommands.addCommands({Outdent:()=>Ce(e)},"state")},oue=e=>{const n=(o,a,c)=>{const m=ue(c)?{href:c}:c,p=e.dom.getParent(e.selection.getNode(),"a");j(m)&&ue(m.href)&&(m.href=m.href.replace(/ /g,"%20"),(!p||!m.href)&&e.formatter.remove("link"),m.href&&e.formatter.apply("link",m,p))};e.editorCommands.addCommands({unlink:()=>{if(e.selection.isEditable()){if(e.selection.isCollapsed()){const o=e.dom.getParent(e.selection.getStart(),"a");o&&e.dom.remove(o,!0);return}e.formatter.remove("link")}},mceInsertLink:n,createLink:n})},sue=(e,n,o,a)=>{const c=e.dom,m=_=>c.isBlock(_)&&_.parentElement===o,p=m(n)?n:c.getParent(a,m,o);return J.from(p).map(Ke.fromDom)},sG=(e,n)=>{const o=e.dom,a=e.selection.getRng(),c=n?e.selection.getStart():e.selection.getEnd(),m=n?a.startContainer:a.endContainer,p=eR(o,m);if(!p||!p.isContentEditable)return;const _=n?Tr:ut,A=gl(e);sue(e,c,p,m).each($=>{const q=Cj(e,m,$.dom,p,!1,A);_($,Ke.fromDom(q)),e.selection.setCursorLocation(q,0),e.dispatch("NewBlock",{newBlock:q}),QO(e,"insertParagraph")})},rue=e=>sG(e,!0),iue=e=>sG(e,!1),aue=e=>{e.editorCommands.addCommands({InsertNewBlockBefore:()=>{rue(e)},InsertNewBlockAfter:()=>{iue(e)}})},lue=e=>{e.editorCommands.addCommands({insertParagraph:()=>{KB(Ej,e)},mceInsertNewLine:(n,o,a)=>{Pj(e,a)},InsertLineBreak:(n,o,a)=>{KB(Oj,e)}})},cue=e=>{e.editorCommands.addCommands({mceSelectNodeDepth:(n,o,a)=>{let c=0;e.dom.getParent(e.selection.getNode(),m=>Nn(m)&&c++===a?(e.selection.select(m),!1):!0,e.getBody())},mceSelectNode:(n,o,a)=>{e.selection.select(a)},selectAll:()=>{const n=e.dom.getParent(e.selection.getStart(),Mc);if(n){const o=e.dom.createRng();o.selectNodeContents(n),e.selection.setRng(o)}}})},uue=e=>{e.editorCommands.addCommands({mceRemoveNode:(n,o,a)=>{const c=a??e.selection.getNode();if(c!==e.getBody()){const m=e.selection.getBookmark();e.dom.remove(c,!0),e.selection.moveToBookmark(m)}},mcePrint:()=>{e.getWin().print()},mceFocus:(n,o,a)=>{AP(e,a===!0)},mceToggleVisualAid:()=>{e.hasVisual=!e.hasVisual,e.addVisual()}})},due=e=>{Oce(e),Rce(e),tue(e),cue(e),Nce(e),oue(e),nue(e),aue(e),lue(e),eue(e),uue(e)},fue=["toggleview"],rG=e=>xe(fue,e.toLowerCase());class iG{constructor(n){this.commands={state:{},exec:{},value:{}},this.editor=n}execCommand(n,o=!1,a,c){const m=this.editor,p=n.toLowerCase(),_=c==null?void 0:c.skip_focus;if(m.removed||(p!=="mcefocus"&&(!/^(mceAddUndoLevel|mceEndUndoLevel)$/i.test(p)&&!_?m.focus():tS(m)),m.dispatch("BeforeExecCommand",{command:n,ui:o,value:a}).isDefaultPrevented()))return!1;const $=this.commands.exec[p];return _e($)?($(p,o,a),m.dispatch("ExecCommand",{command:n,ui:o,value:a}),!0):!1}queryCommandState(n){if(!rG(n)&&this.editor.quirks.isHidden()||this.editor.removed)return!1;const o=n.toLowerCase(),a=this.commands.state[o];return _e(a)?a(o):!1}queryCommandValue(n){if(!rG(n)&&this.editor.quirks.isHidden()||this.editor.removed)return"";const o=n.toLowerCase(),a=this.commands.value[o];return _e(a)?a(o):""}addCommands(n,o="exec"){const a=this.commands;ds(n,(c,m)=>{be(m.toLowerCase().split(","),p=>{a[o][p]=c})})}addCommand(n,o,a){const c=n.toLowerCase();this.commands.exec[c]=(m,p,_)=>o.call(a??this.editor,p,_)}queryCommandSupported(n){const o=n.toLowerCase();return!!this.commands.exec[o]}addQueryStateHandler(n,o,a){this.commands.state[n.toLowerCase()]=()=>o.call(a??this.editor)}addQueryValueHandler(n,o,a){this.commands.value[n.toLowerCase()]=()=>o.call(a??this.editor)}}const uC="data-mce-contenteditable",mue=(e,n,o)=>{Kd(e,n)&&!o?za(e,n):o&&Wd(e,n)},b9=(e,n,o)=>{try{e.getDoc().execCommand(n,!1,String(o))}catch{}},r6=(e,n)=>{e.dom.contentEditable=n?"true":"false"},gue=e=>{be(vi(e,'*[contenteditable="true"]'),n=>{_i(n,uC,"true"),r6(n,!1)})},hue=e=>{be(vi(e,`*[${uC}="true"]`),n=>{Mo(n,uC),r6(n,!0)})},pue=e=>{J.from(e.selection.getNode()).each(n=>{n.removeAttribute("data-mce-selected")})},bue=e=>{e.selection.setRng(e.selection.getRng())},vue=(e,n)=>{const o=Ke.fromDom(e.getBody());mue(o,"mce-content-readonly",n),n?(e.selection.controlSelection.hideResizeRect(),e._selectionOverrides.hideFakeCaret(),pue(e),e.readonly=!0,r6(o,!1),gue(o)):(e.readonly=!1,e.hasEditableRoot()&&r6(o,!0),hue(o),b9(e,"StyleWithCSS",!1),b9(e,"enableInlineTableEditing",!1),b9(e,"enableObjectResizing",!1),i0(e)&&e.focus(),bue(e),e.nodeChanged())},dC=e=>e.readonly,aG=e=>{e.parser.addAttributeFilter("contenteditable",n=>{dC(e)&&be(n,o=>{o.attr(uC,o.attr("contenteditable")),o.attr("contenteditable","false")})}),e.serializer.addAttributeFilter(uC,n=>{dC(e)&&be(n,o=>{o.attr("contenteditable",o.attr(uC))})}),e.serializer.addTempAttr(uC)},yue=e=>{e.serializer?aG(e):e.on("PreInit",()=>{aG(e)})},xue=e=>e.type==="click",wue=["copy"],Cue=e=>xe(wue,e.type),_ue=(e,n)=>Yi(n,"a",a=>ns(a,Ke.fromDom(e.getBody()))).bind(a=>au(a,"href")),Sue=(e,n)=>{if(xue(n)&&!bn.metaKeyPressed(n)){const o=Ke.fromDom(n.target);_ue(e,o).each(a=>{if(n.preventDefault(),/^#/.test(a)){const c=e.dom.select(`${a},[name="${ru(a,"#")}"]`);c.length&&e.selection.scrollIntoView(c[0],!0)}else window.open(a,"_blank","rel=noopener noreferrer,menubar=yes,toolbar=yes,location=yes,status=yes,resizable=yes,scrollbars=yes")})}else Cue(n)&&e.dispatch(n.type,n)},kue=e=>{e.on("ShowCaret",n=>{dC(e)&&n.preventDefault()}),e.on("ObjectSelected",n=>{dC(e)&&n.preventDefault()})},Eue=nn.makeMap("focus blur focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange mouseout mouseenter mouseleave wheel keydown keypress keyup input beforeinput contextmenu dragstart dragend dragover draggesture dragdrop drop drag submit compositionstart compositionend compositionupdate touchstart touchmove touchend touchcancel"," ");class v9{static isNative(n){return!!Eue[n.toLowerCase()]}constructor(n){this.bindings={},this.settings=n||{},this.scope=this.settings.scope||this,this.toggleEvent=this.settings.toggleEvent||In}fire(n,o){return this.dispatch(n,o)}dispatch(n,o){const a=n.toLowerCase(),c=D1(a,o??{},this.scope);this.settings.beforeFire&&this.settings.beforeFire(c);const m=this.bindings[a];if(m)for(let p=0,_=m.length;p<_;p++){const A=m[p];if(!A.removed){if(A.once&&this.off(a,A.func),c.isImmediatePropagationStopped())return c;if(A.func.call(this.scope,c)===!1)return c.preventDefault(),c}}return c}on(n,o,a,c){if(o===!1&&(o=In),o){const m={func:o,removed:!1};c&&nn.extend(m,c);const p=n.toLowerCase().split(" ");let _=p.length;for(;_--;){const A=p[_];let $=this.bindings[A];$||($=[],this.toggleEvent(A,!0)),a?$=[m,...$]:$=[...$,m],this.bindings[A]=$}}return this}off(n,o){if(n){const a=n.toLowerCase().split(" ");let c=a.length;for(;c--;){const m=a[c];let p=this.bindings[m];if(!m)return ds(this.bindings,(_,A)=>{this.toggleEvent(A,!1),delete this.bindings[A]}),this;if(p){if(!o)p.length=0;else{const _=Ne(p,A=>A.func===o);p=_.fail,this.bindings[m]=p,be(_.pass,A=>{A.removed=!0})}p.length||(this.toggleEvent(n,!1),delete this.bindings[m])}}}else ds(this.bindings,(a,c)=>{this.toggleEvent(c,!1)}),this.bindings={};return this}once(n,o,a){return this.on(n,o,a,{once:!0})}has(n){n=n.toLowerCase();const o=this.bindings[n];return!(!o||o.length===0)}}const iR=e=>(e._eventDispatcher||(e._eventDispatcher=new v9({scope:e,toggleEvent:(n,o)=>{v9.isNative(n)&&e.toggleNativeEvent&&e.toggleNativeEvent(n,o)}})),e._eventDispatcher),y9={fire(e,n,o){return this.dispatch(e,n,o)},dispatch(e,n,o){const a=this;if(a.removed&&e!=="remove"&&e!=="detach")return D1(e.toLowerCase(),n??{},a);const c=iR(a).dispatch(e,n);if(o!==!1&&a.parent){let m=a.parent();for(;m&&!c.isPropagationStopped();)m.dispatch(e,c,!1),m=m.parent?m.parent():void 0}return c},on(e,n,o){return iR(this).on(e,n,o)},off(e,n){return iR(this).off(e,n)},once(e,n){return iR(this).once(e,n)},hasEventListeners(e){return iR(this).has(e)}},i6=Js.DOM;let fC;const a6=(e,n)=>{if(n==="selectionchange")return e.getDoc();if(!e.inline&&/^(?:mouse|touch|click|contextmenu|drop|dragover|dragend)/.test(n))return e.getDoc().documentElement;const o=PI(e);return o?(e.eventRoot||(e.eventRoot=i6.select(o)[0]),e.eventRoot):e.getBody()},Aue=e=>!e.hidden&&!dC(e),lG=(e,n,o)=>{Aue(e)?e.dispatch(n,o):dC(e)&&Sue(e,o)},cG=(e,n)=>{if(e.delegates||(e.delegates={}),e.delegates[n]||e.removed)return;const o=a6(e,n);if(PI(e)){if(fC||(fC={},e.editorManager.on("removeEditor",()=>{e.editorManager.activeEditor||fC&&(ds(fC,(c,m)=>{e.dom.unbind(a6(e,m))}),fC=null)})),fC[n])return;const a=c=>{const m=c.target,p=e.editorManager.get();let _=p.length;for(;_--;){const A=p[_].getBody();(A===m||i6.isChildOf(m,A))&&lG(p[_],n,c)}};fC[n]=a,i6.bind(o,n,a)}else{const a=c=>{lG(e,n,c)};i6.bind(o,n,a),e.delegates[n]=a}},uG={...y9,bindPendingEventDelegates(){const e=this;nn.each(e._pendingNativeEvents,n=>{cG(e,n)})},toggleNativeEvent(e,n){const o=this;e==="focus"||e==="blur"||o.removed||(n?o.initialized?cG(o,e):o._pendingNativeEvents?o._pendingNativeEvents.push(e):o._pendingNativeEvents=[e]:o.initialized&&o.delegates&&(o.dom.unbind(a6(o,e),e,o.delegates[e]),delete o.delegates[e]))},unbindAllNativeEvents(){const e=this,n=e.getBody(),o=e.dom;e.delegates&&(ds(e.delegates,(a,c)=>{e.dom.unbind(a6(e,c),c,a)}),delete e.delegates),!e.inline&&n&&o&&(n.onload=null,o.unbind(e.getWin()),o.unbind(e.getDoc())),o&&(o.unbind(n),o.unbind(e.getContainer()))}},Tue=e=>ue(e)?{value:e.split(/[ ,]/),valid:!0}:it(e,ue)?{value:e,valid:!0}:{valid:!1,message:"The value must be a string[] or a comma/space separated string."},Oue=e=>{const n=(()=>{switch(e){case"array":return te;case"boolean":return Fe;case"function":return _e;case"number":return R;case"object":return j;case"string":return ue;case"string[]":return Tue;case"object[]":return o=>it(o,j);case"regexp":return o=>he(o,RegExp);default:return on}})();return o=>x9(o,n,`The value must be a ${e}.`)},Rue=e=>ue(e.processor),dG=(e,n)=>{const o=Yt(n.message)?"":`. ${n.message}`;return e+o},fG=e=>e.valid,x9=(e,n,o="")=>{const a=n(e);return Fe(a)?a?{value:e,valid:!0}:{valid:!1,message:o}:a},Iue=(e,n,o)=>{if(!Je(n)){const a=x9(n,o);if(fG(a))return a.value;console.error(dG(`Invalid default value passed for the "${e}" option`,a))}},Due=(e,n,o=n)=>{const a={},c={},m=(ve,Oe,ye)=>{const Pe=x9(Oe,ye);return fG(Pe)?(c[ve]=Pe.value,!0):(console.warn(dG(`Invalid value passed for the ${ve} option`,Pe)),!1)},p=(ve,Oe)=>{const ye=Rue(Oe)?Oue(Oe.processor):Oe.processor,Pe=Iue(ve,Oe.default,ye);a[ve]={...Oe,default:Pe,processor:ye},Ds(c,ve).orThunk(()=>Ds(n,ve)).each(st=>m(ve,st,ye))},_=ve=>ho(a,ve);return{register:p,isRegistered:_,get:ve=>Ds(c,ve).orThunk(()=>Ds(a,ve).map(Oe=>Oe.default)).getOrUndefined(),set:(ve,Oe)=>{if(_(ve)){const ye=a[ve];return ye.immutable?(console.error(`"${ve}" is an immutable option and cannot be updated`),!1):m(ve,Oe,ye.processor)}else return console.warn(`"${ve}" is not a registered option. Ensure the option has been registered before setting a value.`),!1},unset:ve=>{const Oe=_(ve);return Oe&&delete c[ve],Oe},isSet:ve=>ho(c,ve),debug:()=>{try{console.log(JSON.parse(JSON.stringify(o,(ve,Oe)=>Fe(Oe)||R(Oe)||ue(Oe)||ze(Oe)||te(Oe)||de(Oe)?Oe:Object.prototype.toString.call(Oe))))}catch(ve){console.error(ve)}}}},Pue=["design","readonly"],mG=(e,n,o,a)=>{const c=o[n.get()],m=o[a];try{m.activate()}catch(p){console.error(`problem while activating editor mode ${a}:`,p);return}c.deactivate(),c.editorReadOnly!==m.editorReadOnly&&vue(e,m.editorReadOnly),n.set(a),WD(e,a)},Nue=(e,n,o,a)=>{if(a!==o.get()){if(!ho(n,a))throw new Error(`Editor mode '${a}' is invalid`);e.initialized?mG(e,o,n,a):e.on("init",()=>mG(e,o,n,a))}},Lue=(e,n,o)=>{if(xe(Pue,n))throw new Error(`Cannot override default mode ${n}`);return{...e,[n]:{...o,deactivate:()=>{try{o.deactivate()}catch(a){console.error(`problem while deactivating editor mode ${n}:`,a)}}}}},Mue=e=>{const n=Ni("design"),o=Ni({design:{activate:St,deactivate:St,editorReadOnly:!1},readonly:{activate:St,deactivate:St,editorReadOnly:!0}});return yue(e),kue(e),{isReadOnly:()=>dC(e),set:a=>Nue(e,o.get(),n,a),get:()=>n.get(),register:(a,c)=>{o.set(Lue(o.get(),a,c))}}},w9=nn.each,C9=nn.explode,Bue={f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123},gG=nn.makeMap("alt,ctrl,shift,meta,access"),Fue=e=>e in gG,$ue=e=>{const n={},o=Uo.os.isMacOS()||Uo.os.isiOS();w9(C9(e.toLowerCase(),"+"),m=>{Fue(m)?n[m]=!0:/^[0-9]{2,}$/.test(m)?n.keyCode=parseInt(m,10):(n.charCode=m.charCodeAt(0),n.keyCode=Bue[m]||m.toUpperCase().charCodeAt(0))});const a=[n.keyCode];let c;for(c in gG)n[c]?a.push(c):n[c]=!1;return n.id=a.join(","),n.access&&(n.alt=!0,o?n.ctrl=!0:n.shift=!0),n.meta&&(o?n.meta=!0:(n.ctrl=!0,n.meta=!1)),n};class hG{constructor(n){this.shortcuts={},this.pendingPatterns=[],this.editor=n;const o=this;n.on("keyup keypress keydown",a=>{(o.hasModifier(a)||o.isFunctionKey(a))&&!a.isDefaultPrevented()&&(w9(o.shortcuts,c=>{o.matchShortcut(a,c)&&(o.pendingPatterns=c.subpatterns.slice(0),a.type==="keydown"&&o.executeShortcutAction(c))}),o.matchShortcut(a,o.pendingPatterns[0])&&(o.pendingPatterns.length===1&&a.type==="keydown"&&o.executeShortcutAction(o.pendingPatterns[0]),o.pendingPatterns.shift()))})}add(n,o,a,c){const m=this,p=m.normalizeCommandFunc(a);return w9(C9(nn.trim(n)),_=>{const A=m.createShortcut(_,o,p,c);m.shortcuts[A.id]=A}),!0}remove(n){const o=this.createShortcut(n);return this.shortcuts[o.id]?(delete this.shortcuts[o.id],!0):!1}normalizeCommandFunc(n){const o=this,a=n;return typeof a=="string"?()=>{o.editor.execCommand(a,!1,null)}:nn.isArray(a)?()=>{o.editor.execCommand(a[0],a[1],a[2])}:a}createShortcut(n,o,a,c){const m=nn.map(C9(n,">"),$ue);return m[m.length-1]=nn.extend(m[m.length-1],{func:a,scope:c||this.editor}),nn.extend(m[0],{desc:this.editor.translate(o),subpatterns:m.slice(1)})}hasModifier(n){return n.altKey||n.ctrlKey||n.metaKey}isFunctionKey(n){return n.type==="keydown"&&n.keyCode>=112&&n.keyCode<=123}matchShortcut(n,o){return!o||o.ctrl!==n.ctrlKey||o.meta!==n.metaKey||o.alt!==n.altKey||o.shift!==n.shiftKey?!1:n.keyCode===o.keyCode||n.charCode&&n.charCode===o.charCode?(n.preventDefault(),!0):!1}executeShortcutAction(n){return n.func?n.func.call(n.scope):null}}const Vue=()=>{const e={},n={},o={},a={},c={},m={},p={},_={},A=(q,X)=>(ne,ve)=>{q[ne.toLowerCase()]={...ve,type:X}},$=(q,X)=>a[q.toLowerCase()]=X;return{addButton:A(e,"button"),addGroupToolbarButton:A(e,"grouptoolbarbutton"),addToggleButton:A(e,"togglebutton"),addMenuButton:A(e,"menubutton"),addSplitButton:A(e,"splitbutton"),addMenuItem:A(n,"menuitem"),addNestedMenuItem:A(n,"nestedmenuitem"),addToggleMenuItem:A(n,"togglemenuitem"),addAutocompleter:A(o,"autocompleter"),addContextMenu:A(c,"contextmenu"),addContextToolbar:A(m,"contexttoolbar"),addContextForm:A(m,"contextform"),addSidebar:A(p,"sidebar"),addView:A(_,"views"),addIcon:$,getAll:()=>({buttons:e,menuItems:n,icons:a,popups:o,contextMenus:c,contextToolbars:m,sidebars:p,views:_})}},zue=()=>{const e=Vue();return{addAutocompleter:e.addAutocompleter,addButton:e.addButton,addContextForm:e.addContextForm,addContextMenu:e.addContextMenu,addContextToolbar:e.addContextToolbar,addIcon:e.addIcon,addMenuButton:e.addMenuButton,addMenuItem:e.addMenuItem,addNestedMenuItem:e.addNestedMenuItem,addSidebar:e.addSidebar,addSplitButton:e.addSplitButton,addToggleButton:e.addToggleButton,addGroupToolbarButton:e.addGroupToolbarButton,addToggleMenuItem:e.addToggleMenuItem,addView:e.addView,getAll:e.getAll}},mC=Js.DOM,pG=nn.extend,Hue=nn.each;class l6{constructor(n,o,a){this.plugins={},this.contentCSS=[],this.contentStyles=[],this.loadedCSS={},this.isNotDirty=!1,this.composing=!1,this.destroyed=!1,this.hasHiddenInput=!1,this.iframeElement=null,this.initialized=!1,this.readonly=!1,this.removed=!1,this.startContent="",this._pendingNativeEvents=[],this._skinLoaded=!1,this._editableRoot=!0,this.editorManager=a,this.documentBaseUrl=a.documentBaseURL,pG(this,uG);const c=this;this.id=n,this.hidden=!1;const m=kce(a.defaultOptions,o);this.options=Due(c,m,o),h_(c);const p=this.options.get;p("deprecation_warnings")&&iz(o,m);const _=p("suffix");_&&(a.suffix=_),this.suffix=a.suffix;const A=p("base_url");A&&a._setBaseUrl(A),this.baseUri=a.baseURI;const $=x2(c);$&&(Ol.ScriptLoader._setReferrerPolicy($),Js.DOM.styleSheetLoader._setReferrerPolicy($));const q=VI(c);we(q)&&Js.DOM.styleSheetLoader._setContentCssCors(q),fl.languageLoad=p("language_load"),fl.baseURL=a.baseURL,this.setDirty(!1),this.documentBaseURI=new _d(Su(c),{base_uri:this.baseUri}),this.baseURI=this.baseUri,this.inline=Uv(c),this.hasVisual=Kc(c),this.shortcuts=new hG(this),this.editorCommands=new iG(this),due(this);const X=p("cache_suffix");X&&(Uo.cacheSuffix=X.replace(/^[\?\&]+/,"")),this.ui={registry:zue(),styleSheetLoader:void 0,show:St,hide:St,setEnabled:St,isEnabled:on},this.mode=Mue(c),a.dispatch("SetupEditor",{editor:this});const ne=ay(c);_e(ne)&&ne.call(c,c)}render(){uce(this)}focus(n){this.execCommand("mceFocus",!1,n)}hasFocus(){return vy(this)}translate(n){return zc.translate(n)}getParam(n,o,a){const c=this.options;return c.isRegistered(n)||(we(a)?c.register(n,{processor:a,default:o}):c.register(n,{processor:on,default:o})),!c.isSet(n)&&!Je(o)?o:c.get(n)}hasPlugin(n,o){return xe(af(this),n)?o?_0.get(n)!==void 0:!0:!1}nodeChanged(n){this._nodeChangeDispatcher.nodeChanged(n)}addCommand(n,o,a){this.editorCommands.addCommand(n,o,a)}addQueryStateHandler(n,o,a){this.editorCommands.addQueryStateHandler(n,o,a)}addQueryValueHandler(n,o,a){this.editorCommands.addQueryValueHandler(n,o,a)}addShortcut(n,o,a,c){this.shortcuts.add(n,o,a,c)}execCommand(n,o,a,c){return this.editorCommands.execCommand(n,o,a,c)}queryCommandState(n){return this.editorCommands.queryCommandState(n)}queryCommandValue(n){return this.editorCommands.queryCommandValue(n)}queryCommandSupported(n){return this.editorCommands.queryCommandSupported(n)}show(){const n=this;n.hidden&&(n.hidden=!1,n.inline?n.getBody().contentEditable="true":(mC.show(n.getContainer()),mC.hide(n.id)),n.load(),n.dispatch("show"))}hide(){const n=this;n.hidden||(n.save(),n.inline?(n.getBody().contentEditable="false",n===n.editorManager.focusedEditor&&(n.editorManager.focusedEditor=null)):(mC.hide(n.getContainer()),mC.setStyle(n.id,"display",n.orgDisplay)),n.hidden=!0,n.dispatch("hide"))}isHidden(){return this.hidden}setProgressState(n,o){this.dispatch("ProgressState",{state:n,time:o})}load(n={}){const o=this,a=o.getElement();if(o.removed)return"";if(a){const c={...n,load:!0},m=_p(a)?a.value:a.innerHTML,p=o.setContent(m,c);return c.no_events||o.dispatch("LoadContent",{...c,element:a}),p}else return""}save(n={}){const o=this;let a=o.getElement();if(!a||!o.initialized||o.removed)return"";const c={...n,save:!0,element:a};let m=o.getContent(c);const p={...c,content:m};if(p.no_events||o.dispatch("SaveContent",p),p.format==="raw"&&o.dispatch("RawSaveContent",p),m=p.content,_p(a))a.value=m;else{(n.is_removing||!o.inline)&&(a.innerHTML=m);const _=mC.getParent(o.id,"form");_&&Hue(_.elements,A=>A.name===o.id?(A.value=m,!1):!0)}return p.element=c.element=a=null,p.set_dirty!==!1&&o.setDirty(!1),m}setContent(n,o){return Z4(this,n,o)}getContent(n){return OL(this,n)}insertContent(n,o){o&&(n=pG({content:n},o)),this.execCommand("mceInsertContent",!1,n)}resetContent(n){n===void 0?Z4(this,this.startContent,{format:"raw"}):Z4(this,n),this.undoManager.reset(),this.setDirty(!1),this.nodeChanged()}isDirty(){return!this.isNotDirty}setDirty(n){const o=!this.isNotDirty;this.isNotDirty=!n,n&&n!==o&&this.dispatch("dirty")}getContainer(){const n=this;return n.container||(n.container=n.editorContainer||mC.get(n.id+"_parent")),n.container}getContentAreaContainer(){return this.contentAreaContainer}getElement(){return this.targetElm||(this.targetElm=mC.get(this.id)),this.targetElm}getWin(){const n=this;if(!n.contentWindow){const o=n.iframeElement;o&&(n.contentWindow=o.contentWindow)}return n.contentWindow}getDoc(){const n=this;if(!n.contentDocument){const o=n.getWin();o&&(n.contentDocument=o.document)}return n.contentDocument}getBody(){var n,o;const a=this.getDoc();return(o=(n=this.bodyElement)!==null&&n!==void 0?n:a==null?void 0:a.body)!==null&&o!==void 0?o:null}convertURL(n,o,a){const c=this,m=c.options.get,p=E8(c);if(_e(p))return p.call(c,n,a,!0,o);if(!m("convert_urls")||a==="link"||j(a)&&a.nodeName==="LINK"||n.indexOf("file:")===0||n.length===0)return n;const _=new _d(n);return _.protocol!=="http"&&_.protocol!=="https"&&_.protocol!==""?n:m("relative_urls")?c.documentBaseURI.toRelative(n):(n=c.documentBaseURI.toAbsolute(n,m("remove_script_host")),n)}addVisual(n){Ece(this,n)}setEditableRoot(n){dce(this,n)}hasEditableRoot(){return fce(this)}remove(){BL(this)}destroy(n){lz(this,n)}uploadImages(){return this.editorUpload.uploadImages()}_scanForImages(){return this.editorUpload.scanForImages()}}const Wk=Js.DOM,c6=nn.each;let bG=!1,u6,Du=[];const d6=e=>{const n=e.type;c6(Qy.get(),o=>{switch(n){case"scroll":o.dispatch("ScrollWindow",e);break;case"resize":o.dispatch("ResizeWindow",e);break}})},vG=e=>{if(e!==bG){const n=Js.DOM;e?(n.bind(window,"resize",d6),n.bind(window,"scroll",d6)):(n.unbind(window,"resize",d6),n.unbind(window,"scroll",d6)),bG=e}},yG=e=>{const n=Du;return Du=Ge(Du,o=>e!==o),Qy.activeEditor===e&&(Qy.activeEditor=Du.length>0?Du[0]:null),Qy.focusedEditor===e&&(Qy.focusedEditor=null),n.length!==Du.length},Uue=e=>{e&&e.initialized&&!(e.getContainer()||e.getBody()).parentNode&&(yG(e),e.unbindAllNativeEvents(),e.destroy(!0),e.removed=!0)},Wue=document.compatMode!=="CSS1Compat",Qy={...y9,baseURI:null,baseURL:null,defaultOptions:{},documentBaseURL:null,suffix:null,majorVersion:"7",minorVersion:"3.0",releaseDate:"2024-08-07",i18n:zc,activeEditor:null,focusedEditor:null,setup(){const e=this;let n="",o="",a=_d.getDocumentBaseUrl(document.location);/^[^:]+:\/\/\/?[^\/]+\//.test(a)&&(a=a.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(a)||(a+="/"));const c=window.tinymce||window.tinyMCEPreInit;if(c)n=c.base||c.baseURL,o=c.suffix;else{const m=document.getElementsByTagName("script");for(let p=0;p<m.length;p++){const _=m[p].src||"";if(_==="")continue;const A=_.substring(_.lastIndexOf("/"));if(/tinymce(\.full|\.jquery|)(\.min|\.dev|)\.js/.test(_)){A.indexOf(".min")!==-1&&(o=".min"),n=_.substring(0,_.lastIndexOf("/"));break}}if(!n&&document.currentScript){const p=document.currentScript.src;p.indexOf(".min")!==-1&&(o=".min"),n=p.substring(0,p.lastIndexOf("/"))}}e.baseURL=new _d(a).toAbsolute(n),e.documentBaseURL=a,e.baseURI=new _d(e.baseURL),e.suffix=o,O7(e)},overrideDefaults(e){const n=e.base_url;n&&this._setBaseUrl(n);const o=e.suffix;o&&(this.suffix=o),this.defaultOptions=e;const a=e.plugin_base_urls;a!==void 0&&ds(a,(c,m)=>{fl.PluginManager.urls[m]=c})},init(e){const n=this;let o;const a=nn.makeMap("area base basefont br col frame hr img input isindex link meta param embed source wbr track colgroup option table tbody tfoot thead tr th td script noscript style textarea video audio iframe object menu"," "),c=(q,X)=>q.inline&&X.tagName.toLowerCase()in a,m=q=>{let X=q.id;return X||(X=Ds(q,"name").filter(ne=>!Wk.get(ne)).getOrThunk(Wk.uniqueId),q.setAttribute("id",X)),X},p=q=>{const X=e[q];if(X)return X.apply(n,[])},_=q=>Uo.browser.isIE()||Uo.browser.isEdge()?(Ww("TinyMCE does not support the browser you are using. For a list of supported browsers please see: https://www.tiny.cloud/docs/tinymce/7/support/#supportedwebbrowsers"),[]):Wue?(Ww("Failed to initialize the editor as the document is not in standards mode. TinyMCE requires standards mode."),[]):ue(q.selector)?Wk.select(q.selector):we(q.target)?[q.target]:[];let A=q=>{o=q};const $=()=>{let q=0;const X=[];let ne;const ve=(Oe,ye,Pe)=>{const Ye=new l6(Oe,ye,n);X.push(Ye),Ye.on("init",()=>{++q===ne.length&&A(X)}),Ye.targetElm=Ye.targetElm||Pe,Ye.render()};Wk.unbind(window,"ready",$),p("onpageload"),ne=nl(_(e)),nn.each(ne,Oe=>{Uue(n.get(Oe.id))}),ne=nn.grep(ne,Oe=>!n.get(Oe.id)),ne.length===0?A([]):c6(ne,Oe=>{c(e,Oe)?Ww("Could not initialize inline editor on invalid inline target element",Oe):ve(m(Oe),e,Oe)})};return Wk.bind(window,"ready",$),new Promise(q=>{o?q(o):A=X=>{q(X)}})},get(e){return arguments.length===0?Du.slice(0):ue(e)?yn(Du,n=>n.id===e).getOr(null):R(e)&&Du[e]?Du[e]:null},add(e){const n=this,o=n.get(e.id);return o===e||(o===null&&Du.push(e),vG(!0),n.activeEditor=e,n.dispatch("AddEditor",{editor:e}),u6||(u6=a=>{const c=n.dispatch("BeforeUnload");if(c.returnValue)return a.preventDefault(),a.returnValue=c.returnValue,c.returnValue},window.addEventListener("beforeunload",u6))),e},createEditor(e,n){return this.add(new l6(e,n,this))},remove(e){const n=this;let o;if(!e){for(let a=Du.length-1;a>=0;a--)n.remove(Du[a]);return}if(ue(e)){c6(Wk.select(e),a=>{o=n.get(a.id),o&&n.remove(o)});return}return o=e,ze(n.get(o.id))?null:(yG(o)&&n.dispatch("RemoveEditor",{editor:o}),Du.length===0&&window.removeEventListener("beforeunload",u6),o.remove(),vG(Du.length>0),o)},execCommand(e,n,o){var a;const c=this,m=j(o)?(a=o.id)!==null&&a!==void 0?a:o.index:o;switch(e){case"mceAddEditor":{if(!c.get(m)){const p=o.options;new l6(m,p,c).render()}return!0}case"mceRemoveEditor":{const p=c.get(m);return p&&p.remove(),!0}case"mceToggleEditor":{const p=c.get(m);return p?(p.isHidden()?p.show():p.hide(),!0):(c.execCommand("mceAddEditor",!1,o),!0)}}return c.activeEditor?c.activeEditor.execCommand(e,n,o):!1},triggerSave:()=>{c6(Du,e=>{e.save()})},addI18n:(e,n)=>{zc.add(e,n)},translate:e=>zc.translate(e),setActive(e){const n=this.activeEditor;this.activeEditor!==e&&(n&&n.dispatch("deactivate",{relatedTarget:e}),e.dispatch("activate",{relatedTarget:n})),this.activeEditor=e},_setBaseUrl(e){this.baseURL=new _d(this.documentBaseURL).toAbsolute(e.replace(/\/+$/,"")),this.baseURI=new _d(this.baseURL)}};Qy.setup();const Kue=(()=>{const e=Li(),n=m=>({items:m,types:Jt(m),getType:p=>Ds(m,p).getOrUndefined()}),o=m=>{e.set(m)},a=()=>e.get().getOrUndefined(),c=e.clear;return{FakeClipboardItem:n,write:o,read:a,clear:c}})(),xG=Math.min,Kk=Math.max,f6=Math.round,wG=(e,n,o)=>{let a=n.x,c=n.y;const m=e.w,p=e.h,_=n.w,A=n.h,$=(o||"").split("");return $[0]==="b"&&(c+=A),$[1]==="r"&&(a+=_),$[0]==="c"&&(c+=f6(A/2)),$[1]==="c"&&(a+=f6(_/2)),$[3]==="b"&&(c-=p),$[4]==="r"&&(a-=m),$[3]==="c"&&(c-=f6(p/2)),$[4]==="c"&&(a-=f6(m/2)),jk(a,c,m,p)},jue=(e,n,o,a)=>{for(let c=0;c<a.length;c++){const m=wG(e,n,a[c]);if(m.x>=o.x&&m.x+m.w<=o.w+o.x&&m.y>=o.y&&m.y+m.h<=o.h+o.y)return a[c]}return null},Zue=(e,n,o)=>jk(e.x-n,e.y-o,e.w+n*2,e.h+o*2),Gue=(e,n)=>{const o=Kk(e.x,n.x),a=Kk(e.y,n.y),c=xG(e.x+e.w,n.x+n.w),m=xG(e.y+e.h,n.y+n.h);return c-o<0||m-a<0?null:jk(o,a,c-o,m-a)},que=(e,n,o)=>{let a=e.x,c=e.y,m=e.x+e.w,p=e.y+e.h;const _=n.x+n.w,A=n.y+n.h,$=Kk(0,n.x-a),q=Kk(0,n.y-c),X=Kk(0,m-_),ne=Kk(0,p-A);return a+=$,c+=q,o&&(m+=$,p+=q,a-=X,c-=ne),m-=X,p-=ne,jk(a,c,m-a,p-c)},jk=(e,n,o,a)=>({x:e,y:n,w:o,h:a}),Yue={inflate:Zue,relativePosition:wG,findBestRelativePosition:jue,intersect:Gue,clamp:que,create:jk,fromClientRect:e=>jk(e.left,e.top,e.width,e.height)},Xue=(e,n,o=1e3)=>{let a=!1,c=null;const m=$=>(...q)=>{a||(a=!0,c!==null&&(clearTimeout(c),c=null),$.apply(null,q))},p=m(e),_=m(n);return{start:(...$)=>{!a&&c===null&&(c=setTimeout(()=>_.apply(null,$),o))},resolve:p,reject:_}},Jue=(()=>{const e={},n={},o={};return{load:(A,$)=>{const q=`Script at URL "${$}" failed to load`,X=`Script at URL "${$}" did not call \`tinymce.Resource.add('${A}', data)\` within 1 second`;if(e[A]!==void 0)return e[A];{const ne=new Promise((ve,Oe)=>{const ye=Xue(ve,Oe);n[A]=ye.resolve,Ol.ScriptLoader.loadScript($).then(()=>ye.start(X),()=>ye.reject(q))});return e[A]=ne,ne}},add:(A,$)=>{n[A]!==void 0&&(n[A]($),delete n[A]),e[A]=Promise.resolve($),o[A]=$},has:A=>A in o,get:A=>o[A],unload:A=>{delete e[A],delete o[A]}}})(),Que=()=>(()=>{let e={},n=[];const o={getItem:a=>{const c=e[a];return c||null},setItem:(a,c)=>{n.push(a),e[a]=String(c)},key:a=>n[a],removeItem:a=>{n=n.filter(c=>c===a),delete e[a]},clear:()=>{n=[],e={}},length:0};return Object.defineProperty(o,"length",{get:()=>n.length,configurable:!1,enumerable:!1}),o})();let aR;try{const e="__storage_test__";aR=window.localStorage,aR.setItem(e,e),aR.removeItem(e)}catch{aR=Que()}var ede=aR;const tde={geom:{Rect:Yue},util:{Delay:qc,Tools:nn,VK:bn,URI:_d,EventDispatcher:v9,Observable:y9,I18n:zc,LocalStorage:ede,ImageUploader:xz},dom:{EventUtils:jf,TreeWalker:ha,TextSeeker:ef,DOMUtils:Js,ScriptLoader:Ol,RangeUtils:Jp,Serializer:TL,StyleSheetLoader:qm,ControlSelection:Hs,BookmarkManager:Gs,Selection:K4,Event:jf.Event},html:{Styles:Gx,Entities:fh,Node:Ma,Schema:Vc,DomParser:Ly,Writer:xT,Serializer:Bh},Env:Uo,AddOnManager:fl,Annotator:UD,Formatter:Zw,UndoManager:aM,EditorCommands:iG,WindowManager:WL,NotificationManager:eO,EditorObservable:uG,Shortcuts:hG,Editor:l6,FocusManager:bd,EditorManager:Qy,DOM:Js.DOM,ScriptLoader:Ol.ScriptLoader,PluginManager:_0,ThemeManager:bb,ModelManager:pb,IconManager:Hw,Resource:Jue,FakeClipboard:Kue,trim:nn.trim,isArray:nn.isArray,is:nn.is,toArray:nn.toArray,makeMap:nn.makeMap,each:nn.each,map:nn.map,grep:nn.grep,inArray:nn.inArray,extend:nn.extend,walk:nn.walk,resolve:nn.resolve,explode:nn.explode,_addCacheSuffix:nn._addCacheSuffix},CG=nn.extend(Qy,tde),nde=e=>{try{t.exports=e}catch{}};(e=>{window.tinymce=e,window.tinyMCE=e})(CG),nde(CG)})()}(bU)),bU.exports}var vCe=bCe();const yCe=QW(vCe);tinymce.IconManager.add("default",{icons:{"accessibility-check":'<svg width="24" height="24"><path d="M12 2a2 2 0 0 1 2 2 2 2 0 0 1-2 2 2 2 0 0 1-2-2c0-1.1.9-2 2-2Zm8 7h-5v12c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-5c0-.6-.4-1-1-1a1 1 0 0 0-1 1v5c0 .6-.4 1-1 1a1 1 0 0 1-1-1V9H4a1 1 0 1 1 0-2h16c.6 0 1 .4 1 1s-.4 1-1 1Z" fill-rule="nonzero"/></svg>',"accordion-toggle":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M12 15c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1h-6a1 1 0 0 1-1-1Z"/><path opacity=".2" fill-rule="evenodd" clip-rule="evenodd" d="M4 15c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1-1-1Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M12 19c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1h-6a1 1 0 0 1-1-1Z"/><path opacity=".2" fill-rule="evenodd" clip-rule="evenodd" d="M4 19c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1-1-1Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M12.3 7.3a1 1 0 0 1 1.4 0L16 9.6l2.3-2.3a1 1 0 1 1 1.4 1.4L16 12.4l-3.7-3.7a1 1 0 0 1 0-1.4ZM4.3 11.7a1 1 0 0 1 0-1.4L6.6 8 4.3 5.7a1 1 0 0 1 1.4-1.4L9.4 8l-3.7 3.7a1 1 0 0 1-1.4 0Z"/></svg>',accordion:'<svg width="24" height="24"><rect x="12" y="7" width="10" height="2" rx="1"/><rect x="12" y="11" width="10" height="2" rx="1"/><rect x="12" y="15" width="6" height="2" rx="1"/><path fill-rule="evenodd" clip-rule="evenodd" d="M2.3 7.3a1 1 0 0 1 1.4 0L6 9.6l2.3-2.3a1 1 0 0 1 1.4 1.4L6 12.4 2.3 8.7a1 1 0 0 1 0-1.4Z"/></svg>',"action-next":'<svg width="24" height="24"><path fill-rule="nonzero" d="M5.7 7.3a1 1 0 0 0-1.4 1.4l7.7 7.7 7.7-7.7a1 1 0 1 0-1.4-1.4L12 13.6 5.7 7.3Z"/></svg>',"action-prev":'<svg width="24" height="24"><path fill-rule="nonzero" d="M18.3 15.7a1 1 0 0 0 1.4-1.4L12 6.6l-7.7 7.7a1 1 0 0 0 1.4 1.4L12 9.4l6.3 6.3Z"/></svg>',addtag:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M15 5a2 2 0 0 1 1.6.8L21 12l-4.4 6.2a2 2 0 0 1-1.6.8h-3v-2h3l3.5-5L15 7H5v3H3V7c0-1.1.9-2 2-2h10Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M6 12a1 1 0 0 0-1 1v2H3a1 1 0 1 0 0 2h2v2a1 1 0 1 0 2 0v-2h2a1 1 0 1 0 0-2H7v-2c0-.6-.4-1-1-1Z"/></svg>',"ai-prompt":'<svg width="24" height="24"><g clip-path="url(#a)"><path fill-rule="evenodd" clip-rule="evenodd" d="M15 6.7a1 1 0 0 0-1.4 0l-9.9 10a1 1 0 0 0 0 1.3l2.1 2.1c.4.4 1 .4 1.4 0l10-9.9c.3-.3.3-1 0-1.4l-2.2-2Zm1.4 2.8-2-2-3 2.7 2.2 2.2 2.8-2.9Z"/><path d="m18.5 7.3-.7-1.5-1.5-.8 1.5-.7.7-1.5.7 1.5 1.5.7-1.5.8-.7 1.5ZM18.5 16.5l-.7-1.6-1.5-.7 1.5-.7.7-1.6.7 1.6 1.5.7-1.5.7-.7 1.6ZM9.7 7.3 9 5.8 7.5 5 9 4.3l.7-1.5.7 1.5L12 5l-1.5.8-.7 1.5Z"/></g><defs><clipPath id="a"><path d="M0 0h24v24H0z"/></clipPath></defs></svg>',ai:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M5 3a3 3 0 0 0-3 3v12a3 3 0 0 0 3 3h14a3 3 0 0 0 3-3V6a3 3 0 0 0-3-3H5Zm6.8 11.5.5 1.2a68.3 68.3 0 0 0 .7 1.1l.4.1c.3 0 .5 0 .7-.3.2-.1.3-.3.3-.6l-.3-1-2.6-6.2a20.4 20.4 0 0 0-.5-1.3l-.5-.4-.7-.2c-.2 0-.5 0-.6.2-.2 0-.4.2-.5.4l-.3.6-.3.7L5.7 15l-.2.6-.1.4c0 .3 0 .5.3.7l.6.2c.3 0 .5 0 .7-.2l.4-1 .5-1.2h3.9ZM9.8 9l1.5 4h-3l1.5-4Zm5.6-.9v7.6c0 .4 0 .7.2 1l.7.2c.3 0 .6 0 .8-.3l.2-.9V8.1c0-.4 0-.7-.2-.9a1 1 0 0 0-.8-.3c-.2 0-.5.1-.7.3l-.2 1Z"/></svg>',"align-center":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm3 4h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 1 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm-3-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"align-justify":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"align-left":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Zm0-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"align-none":'<svg width="24" height="24"><path d="M14.2 5 13 7H5a1 1 0 1 1 0-2h9.2Zm4 0h.8a1 1 0 0 1 0 2h-2l1.2-2Zm-6.4 4-1.2 2H5a1 1 0 0 1 0-2h6.8Zm4 0H19a1 1 0 0 1 0 2h-4.4l1.2-2Zm-6.4 4-1.2 2H5a1 1 0 0 1 0-2h4.4Zm4 0H19a1 1 0 0 1 0 2h-6.8l1.2-2ZM7 17l-1.2 2H5a1 1 0 0 1 0-2h2Zm4 0h8a1 1 0 0 1 0 2H9.8l1.2-2Zm5.2-13.5 1.3.7-9.7 16.3-1.3-.7 9.7-16.3Z" fill-rule="evenodd"/></svg>',"align-right":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm6 4h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm-6-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"arrow-left":'<svg width="24" height="24"><path d="m5.6 13 12 6a1 1 0 0 0 1.4-1V6a1 1 0 0 0-1.4-.9l-12 6a1 1 0 0 0 0 1.8Z" fill-rule="evenodd"/></svg>',"arrow-right":'<svg width="24" height="24"><path d="m18.5 13-12 6A1 1 0 0 1 5 18V6a1 1 0 0 1 1.4-.9l12 6a1 1 0 0 1 0 1.8Z" fill-rule="evenodd"/></svg>',bold:'<svg width="24" height="24"><path d="M7.8 19c-.3 0-.5 0-.6-.2l-.2-.5V5.7c0-.2 0-.4.2-.5l.6-.2h5c1.5 0 2.7.3 3.5 1 .7.6 1.1 1.4 1.1 2.5a3 3 0 0 1-.6 1.9c-.4.6-1 1-1.6 1.2.4.1.9.3 1.3.6s.8.7 1 1.2c.4.4.5 1 .5 1.6 0 1.3-.4 2.3-1.3 3-.8.7-2.1 1-3.8 1H7.8Zm5-8.3c.6 0 1.2-.1 1.6-.5.4-.3.6-.7.6-1.3 0-1.1-.8-1.7-2.3-1.7H9.3v3.5h3.4Zm.5 6c.7 0 1.3-.1 1.7-.4.4-.4.6-.9.6-1.5s-.2-1-.7-1.4c-.4-.3-1-.4-2-.4H9.4v3.8h4Z" fill-rule="evenodd"/></svg>',bookmark:'<svg width="24" height="24"><path d="M6 4v17l6-4 6 4V4c0-.6-.4-1-1-1H7a1 1 0 0 0-1 1Z" fill-rule="nonzero"/></svg>',"border-style":'<svg width="24" height="24"><g fill-rule="evenodd"><rect width="18" height="2" x="3" y="6" rx="1"/><rect width="2.8" height="2" x="3" y="16" rx="1"/><rect width="2.8" height="2" x="6.8" y="16" rx="1"/><rect width="2.8" height="2" x="10.6" y="16" rx="1"/><rect width="2.8" height="2" x="14.4" y="16" rx="1"/><rect width="2.8" height="2" x="18.2" y="16" rx="1"/><rect width="8" height="2" x="3" y="11" rx="1"/><rect width="8" height="2" x="13" y="11" rx="1"/></g></svg>',"border-width":'<svg width="24" height="24"><g fill-rule="evenodd"><rect width="18" height="5" x="3" y="5" rx="1"/><rect width="18" height="3.5" x="3" y="11.5" rx="1"/><rect width="18" height="2" x="3" y="17" rx="1"/></g></svg>',brightness:'<svg width="24" height="24"><path d="M12 17c.3 0 .5.1.7.3.2.2.3.4.3.7v1c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7v-1c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3Zm0-10a1 1 0 0 1-.7-.3A1 1 0 0 1 11 6V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7v1c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3Zm7 4c.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-1a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h1ZM7 12c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3H5a1 1 0 0 1-.7-.3A1 1 0 0 1 4 12c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h1c.3 0 .5.1.7.3.2.2.3.4.3.7Zm10 3.5.7.8c.2.1.3.4.3.6 0 .3-.1.6-.3.8a1 1 0 0 1-.8.3 1 1 0 0 1-.6-.3l-.8-.7a1 1 0 0 1-.3-.8c0-.2.1-.5.3-.7a1 1 0 0 1 1.4 0Zm-10-7-.7-.8a1 1 0 0 1-.3-.6c0-.3.1-.6.3-.8.2-.2.5-.3.8-.3.2 0 .5.1.7.3l.7.7c.2.2.3.5.3.8 0 .2-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.8-.3Zm10 0a1 1 0 0 1-.8.3 1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.3.1-.6.3-.8l.8-.7c.1-.2.4-.3.6-.3.3 0 .6.1.8.3.2.2.3.5.3.8 0 .2-.1.5-.3.7l-.7.7Zm-10 7c.2-.2.5-.3.8-.3.2 0 .5.1.7.3a1 1 0 0 1 0 1.4l-.8.8a1 1 0 0 1-.6.3 1 1 0 0 1-.8-.3 1 1 0 0 1-.3-.8c0-.2.1-.5.3-.6l.7-.8ZM12 8a4 4 0 0 1 3.7 2.4 4 4 0 0 1 0 3.2A4 4 0 0 1 12 16a4 4 0 0 1-3.7-2.4 4 4 0 0 1 0-3.2A4 4 0 0 1 12 8Zm0 6.5c.7 0 1.3-.2 1.8-.7.5-.5.7-1.1.7-1.8s-.2-1.3-.7-1.8c-.5-.5-1.1-.7-1.8-.7s-1.3.2-1.8.7c-.5.5-.7 1.1-.7 1.8s.2 1.3.7 1.8c.5.5 1.1.7 1.8.7Z" fill-rule="evenodd"/></svg>',browse:'<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2h-4v-2h4V8H5v10h4v2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9.4-2.3 2.3a1 1 0 1 1-1.4-1.4l4-4a1 1 0 0 1 1.4 0l4 4a1 1 0 0 1-1.4 1.4L13 13.4V20a1 1 0 0 1-2 0v-6.6Z" fill-rule="nonzero"/></svg>',cancel:'<svg width="24" height="24"><path d="M12 4.6a7.4 7.4 0 1 1 0 14.8 7.4 7.4 0 0 1 0-14.8ZM12 3a9 9 0 1 0 0 18 9 9 0 0 0 0-18Zm0 8L14.8 8l1 1.1-2.7 2.8 2.7 2.7-1.1 1.1-2.7-2.7-2.7 2.7-1-1.1 2.6-2.7-2.7-2.7 1-1.1 2.8 2.7Z" fill-rule="nonzero"/></svg>',"cell-background-color":'<svg width="24" height="24"><path d="m15.7 2 1.6 1.6-2.7 2.6 5.9 5.8c.7.7.7 1.7 0 2.4l-6.3 6.1a1.7 1.7 0 0 1-2.4 0l-6.3-6.1c-.7-.7-.7-1.7 0-2.4L15.7 2ZM18 12l-4.5-4L9 12h9ZM4 16s2 2.4 2 3.8C6 21 5.1 22 4 22s-2-1-2-2.2C2 18.4 4 16 4 16Z"/></svg>',"cell-border-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M5 13v5h2v2H5a2 2 0 0 1-2-2v-5h2zm8-7V4h6a2 2 0 0 1 2 2h-8z" opacity=".2"/><path fill-rule="nonzero" d="M13 4v2H5v7H3V6c0-1.1.9-2 2-2h8zm-2.6 14.1.1-.1.1.1.2.3.2.2.2.2c.4.6.8 1.2.8 1.7 0 .8-.7 1.5-1.5 1.5S9 21.3 9 20.5c0-.5.4-1.1.8-1.7l.2-.2.2-.2.2-.3z"/><path d="m13 11-2 2H5v-2h6V6h2z"/><path fill-rule="nonzero" d="m18.4 8 1 1-1.8 1.9 4 4c.5.4.5 1.1 0 1.6l-4.3 4.2a1.2 1.2 0 0 1-1.6 0l-4.4-4.2c-.4-.5-.4-1.2 0-1.7l7-6.8Zm1.6 7-3-3-3 3h6Z"/></g></svg>',"change-case":'<svg width="24" height="24"><path d="M18.4 18.2v-.6c-.5.8-1.3 1.2-2.4 1.2-2.2 0-3.3-1.6-3.3-4.8 0-3.1 1-4.7 3.3-4.7 1.1 0 1.8.3 2.4 1.1v-.6c0-.5.4-.8.8-.8s.8.3.8.8v8.4c0 .5-.4.8-.8.8a.8.8 0 0 1-.8-.8zm-2-7.4c-1.3 0-1.8.9-1.8 3.2 0 2.4.5 3.3 1.7 3.3 1.3 0 1.8-.9 1.8-3.2 0-2.4-.5-3.3-1.7-3.3zM10 15.7H5.5l-.8 2.6a1 1 0 0 1-1 .7h-.2a.7.7 0 0 1-.7-1l4-12a1 1 0 0 1 2 0l4 12a.7.7 0 0 1-.8 1h-.2a1 1 0 0 1-1-.7l-.8-2.6zm-.3-1.5-2-6.5-1.9 6.5h3.9z" fill-rule="evenodd"/></svg>',"character-count":'<svg width="24" height="24"><path d="M4 11.5h16v1H4v-1Zm4.8-6.8V10H7.7V5.8h-1v-1h2ZM11 8.3V9h2v1h-3V7.7l2-1v-.9h-2v-1h3v2.4l-2 1Zm6.3-3.4V10h-3.1V9h2.1V8h-2.1V6.8h2.1v-1h-2.1v-1h3.1ZM5.8 16.4c0-.5.2-.8.5-1 .2-.2.6-.3 1.2-.3l.8.1c.2 0 .4.2.5.3l.4.4v2.8l.2.3H8.2V18.7l-.6.3H7c-.4 0-.7 0-1-.2a1 1 0 0 1-.3-.9c0-.3 0-.6.3-.8.3-.2.7-.4 1.2-.4l.6-.2h.3v-.2l-.1-.2a.8.8 0 0 0-.5-.1 1 1 0 0 0-.4 0l-.3.4h-1Zm2.3.8h-.2l-.2.1-.4.1a1 1 0 0 0-.4.2l-.2.2.1.3.5.1h.4l.4-.4v-.6Zm2-3.4h1.2v1.7l.5-.3h.5c.5 0 .9.1 1.2.5.3.4.5.8.5 1.4 0 .6-.2 1.1-.5 1.5-.3.4-.7.6-1.3.6l-.6-.1-.4-.4v.4h-1.1v-5.4Zm1.1 3.3c0 .3 0 .6.2.8a.7.7 0 0 0 1.2 0l.2-.8c0-.4 0-.6-.2-.8a.7.7 0 0 0-.6-.3l-.6.3-.2.8Zm6.1-.5c0-.2 0-.3-.2-.4a.8.8 0 0 0-.5-.2c-.3 0-.5.1-.6.3l-.2.9c0 .3 0 .6.2.8.1.2.3.3.6.3.2 0 .4 0 .5-.2l.2-.4h1.1c0 .5-.3.8-.6 1.1a2 2 0 0 1-1.3.4c-.5 0-1-.2-1.3-.6a2 2 0 0 1-.5-1.4c0-.6.1-1.1.5-1.5.3-.4.8-.5 1.4-.5.5 0 1 0 1.2.3.4.3.5.7.5 1.2h-1v-.1Z" fill-rule="evenodd"/></svg>',"checklist-rtl":'<svg width="24" height="24"><path d="M5 17h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2zm14.2 11c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 8c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8z" fill-rule="evenodd"/></svg>',checklist:'<svg width="24" height="24"><path d="M11 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2h-8a1 1 0 0 1 0-2ZM7.2 16c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 8c-.2.3-.7.4-1 0L3.8 6.9a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Z" fill-rule="evenodd"/></svg>',checkmark:'<svg width="24" height="24"><path d="M18.2 5.4a1 1 0 0 1 1.6 1.2l-8 12a1 1 0 0 1-1.5.1l-5-5a1 1 0 1 1 1.4-1.4l4.1 4.1 7.4-11Z" fill-rule="nonzero"/></svg>',"chevron-down":'<svg width="10" height="10"><path d="M8.7 2.2c.3-.3.8-.3 1 0 .4.4.4.9 0 1.2L5.7 7.8c-.3.3-.9.3-1.2 0L.2 3.4a.8.8 0 0 1 0-1.2c.3-.3.8-.3 1.1 0L5 6l3.7-3.8Z" fill-rule="nonzero"/></svg>',"chevron-left":'<svg width="10" height="10"><path d="M7.8 1.3 4 5l3.8 3.7c.3.3.3.8 0 1-.4.4-.9.4-1.2 0L2.2 5.7a.8.8 0 0 1 0-1.2L6.6.2C7 0 7.4 0 7.8.2c.3.3.3.8 0 1.1Z" fill-rule="nonzero"/></svg>',"chevron-right":'<svg width="10" height="10"><path d="M2.2 1.3a.8.8 0 0 1 0-1c.4-.4.9-.4 1.2 0l4.4 4.1c.3.4.3.9 0 1.2L3.4 9.8c-.3.3-.8.3-1.2 0a.8.8 0 0 1 0-1.1L6 5 2.2 1.3Z" fill-rule="nonzero"/></svg>',"chevron-up":'<svg width="10" height="10"><path d="M8.7 7.8 5 4 1.3 7.8c-.3.3-.8.3-1 0a.8.8 0 0 1 0-1.2l4.1-4.4c.3-.3.9-.3 1.2 0l4.2 4.4c.3.3.3.9 0 1.2-.3.3-.8.3-1.1 0Z" fill-rule="nonzero"/></svg>',close:'<svg width="24" height="24"><path d="M17.3 8.2 13.4 12l3.9 3.8a1 1 0 0 1-1.5 1.5L12 13.4l-3.8 3.9a1 1 0 0 1-1.5-1.5l3.9-3.8-3.9-3.8a1 1 0 0 1 1.5-1.5l3.8 3.9 3.8-3.9a1 1 0 0 1 1.5 1.5Z" fill-rule="evenodd"/></svg>',"code-sample":'<svg width="24" height="26"><path d="M7.1 11a2.8 2.8 0 0 1-.8 2 2.8 2.8 0 0 1 .8 2v1.7c0 .3.1.6.4.8.2.3.5.4.8.4.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.7 0-1.4-.3-2-.8-.5-.6-.8-1.3-.8-2V15c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 0 1-.4-.4v-.8c0-.2.2-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V9.3c0-.7.3-1.4.8-2 .6-.5 1.3-.8 2-.8.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8V11Zm9.8 0V9.3c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 0 1-.4-.4V7c0-.2.1-.4.4-.4.7 0 1.4.3 2 .8.5.6.8 1.3.8 2V11c0 .3.1.6.4.8.2.3.5.4.8.4.2 0 .4.2.4.4v.8c0 .2-.2.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8v1.7c0 .7-.3 1.4-.8 2-.6.5-1.3.8-2 .8a.4.4 0 0 1-.4-.4v-.8c0-.2.1-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V15a2.8 2.8 0 0 1 .8-2 2.8 2.8 0 0 1-.8-2Zm-3.3-.4c0 .4-.1.8-.5 1.1-.3.3-.7.5-1.1.5-.4 0-.8-.2-1.1-.5-.4-.3-.5-.7-.5-1.1 0-.5.1-.9.5-1.2.3-.3.7-.4 1.1-.4.4 0 .8.1 1.1.4.4.3.5.7.5 1.2ZM12 13c.4 0 .8.1 1.1.5.4.3.5.7.5 1.1 0 1-.1 1.6-.5 2a3 3 0 0 1-1.1 1c-.4.3-.8.4-1.1.4a.5.5 0 0 1-.5-.5V17a3 3 0 0 0 1-.2l.6-.6c-.6 0-1-.2-1.3-.5-.2-.3-.3-.7-.3-1 0-.5.1-1 .5-1.2.3-.4.7-.5 1.1-.5Z" fill-rule="evenodd"/></svg>',"color-levels":'<svg width="24" height="24"><path d="M17.5 11.4A9 9 0 0 1 18 14c0 .5 0 1-.2 1.4 0 .4-.3.9-.5 1.3a6.2 6.2 0 0 1-3.7 3 5.7 5.7 0 0 1-3.2 0A5.9 5.9 0 0 1 7.6 18a6.2 6.2 0 0 1-1.4-2.6 6.7 6.7 0 0 1 0-2.8c0-.4.1-.9.3-1.3a13.6 13.6 0 0 1 2.3-4A20 20 0 0 1 12 4a26.4 26.4 0 0 1 3.2 3.4 18.2 18.2 0 0 1 2.3 4Zm-2 4.5c.4-.7.5-1.4.5-2a7.3 7.3 0 0 0-1-3.2c.2.6.2 1.2.2 1.9a4.5 4.5 0 0 1-1.3 3 5.3 5.3 0 0 1-2.3 1.5 4.9 4.9 0 0 1-2 .1 4.3 4.3 0 0 0 2.4.8 4 4 0 0 0 2-.6 4 4 0 0 0 1.5-1.5Z" fill-rule="evenodd"/></svg>',"color-picker":'<svg width="24" height="24"><path d="M12 3a9 9 0 0 0 0 18 1.5 1.5 0 0 0 1.1-2.5c-.2-.3-.4-.6-.4-1 0-.8.7-1.5 1.5-1.5H16a5 5 0 0 0 5-5c0-4.4-4-8-9-8Zm-5.5 9a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm3-4a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm5 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm3 4a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Z" fill-rule="nonzero"/></svg>',"color-swatch-remove-color":'<svg width="24" height="24"><path stroke="#000" stroke-width="2" d="M21 3 3 21" fill-rule="evenodd"/></svg>',"color-swatch":'<svg width="24" height="24"><rect x="3" y="3" width="18" height="18" rx="1" fill-rule="evenodd"/></svg>',"comment-add":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="m9 19 3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 0 0-1 1v10c0 .6.4 1 1 1h4v2Zm-2 4v-4H5a3 3 0 0 1-3-3V6a3 3 0 0 1 3-3h14a3 3 0 0 1 3 3v10a3 3 0 0 1-3 3h-6.4L7 23Z"/><path d="M13 10h2a1 1 0 0 1 0 2h-2v2a1 1 0 0 1-2 0v-2H9a1 1 0 0 1 0-2h2V8a1 1 0 0 1 2 0v2Z"/></g></svg>',comment:'<svg width="24" height="24"><path fill-rule="nonzero" d="m9 19 3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 0 0-1 1v10c0 .6.4 1 1 1h4v2Zm-2 4v-4H5a3 3 0 0 1-3-3V6a3 3 0 0 1 3-3h14a3 3 0 0 1 3 3v10a3 3 0 0 1-3 3h-6.4L7 23Z"/></svg>',contrast:'<svg width="24" height="24"><path d="M12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4Zm-6 8a6 6 0 0 0 6 6V6a6 6 0 0 0-6 6Z" fill-rule="evenodd"/></svg>',copy:'<svg width="24" height="24"><path d="M16 3H6a2 2 0 0 0-2 2v11h2V5h10V3Zm1 4a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-7a2 2 0 0 1-2-2V9c0-1.2.9-2 2-2h7Zm0 12V9h-7v10h7Z" fill-rule="nonzero"/></svg>',crop:'<svg width="24" height="24"><path d="M17 8v7h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v2c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-2H7V9H5a1 1 0 1 1 0-2h2V5c0-.6.4-1 1-1s1 .4 1 1v2h7l3-3 1 1-3 3ZM9 9v5l5-5H9Zm1 6h5v-5l-5 5Z" fill-rule="evenodd"/></svg>',"cut-column":'<svg width="24" height="24"><path fill-rule="evenodd" d="M7.2 4.5c.9 0 1.6.4 2.2 1A3.7 3.7 0 0 1 10.5 8v.5l1 1 4-4 1-.5a3.3 3.3 0 0 1 2 0c.4 0 .7.3 1 .5L17 8h4v13h-6V10l-1.5 1.5.5.5v4l-2.5-2.5-1 1v.5c0 .4 0 .8-.3 1.2-.2.5-.4.9-.8 1.2-.6.7-1.3 1-2.2 1-.8.2-1.5 0-2-.6l-.5-.8-.2-1c0-.4 0-.8.3-1.2A3.9 3.9 0 0 1 7 12.7c.5-.2 1-.3 1.5-.2l1-1-1-1c-.5 0-1 0-1.5-.2-.5-.1-1-.4-1.4-.9-.4-.3-.6-.7-.8-1.2L4.5 7c0-.4 0-.7.2-1 0-.3.3-.6.5-.8.5-.5 1.2-.8 2-.7Zm12.3 5h-3v10h3v-10ZM8 13.8h-.3l-.4.2a2.8 2.8 0 0 0-.7.4v.1a2.8 2.8 0 0 0-.6.8l-.1.4v.7l.2.5.5.2h.7a2.6 2.6 0 0 0 .8-.3 2.4 2.4 0 0 0 .7-.7 2.5 2.5 0 0 0 .3-.8 1.5 1.5 0 0 0 0-.8 1 1 0 0 0-.2-.4 1 1 0 0 0-.5-.2H8Zm3.5-3.7c-.4 0-.7.1-1 .4-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4ZM7 5.8h-.4a1 1 0 0 0-.5.3 1 1 0 0 0-.2.5v.7a2.5 2.5 0 0 0 .3.8l.2.3h.1l.4.4.4.2.4.1h.7L9 9l.2-.4a1.6 1.6 0 0 0 0-.8 2.6 2.6 0 0 0-.3-.8A2.5 2.5 0 0 0 7.7 6l-.4-.1H7Z"/></svg>',"cut-row":'<svg width="24" height="24"><path fill-rule="evenodd" d="M22 3v5H9l3 3 2-2h4l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8.7.6 1 1.3 1 2.2.2.8 0 1.5-.6 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 0 1-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 0 1 8.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 0 1 0-2c0-.4.3-.7.5-1l2 2V3h14ZM8.5 15.3h-.3a2.6 2.6 0 0 0-.8.4 2.5 2.5 0 0 0-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 0 0 .8-.3L9 18V18l.4-.4.2-.4.1-.4v-.7a1 1 0 0 0-.2-.5 1 1 0 0 0-.4-.2h-.5Zm7 0H15a1 1 0 0 0-.4.3 1 1 0 0 0-.2.5 1.5 1.5 0 0 0 0 .7v.4a2.8 2.8 0 0 0 .5.7h.1a2.8 2.8 0 0 0 .8.6l.4.1h.7l.5-.2.2-.5v-.7a2.6 2.6 0 0 0-.3-.8 2.4 2.4 0 0 0-.7-.7 2.5 2.5 0 0 0-.8-.3h-.3ZM12 11.6c-.4 0-.7.1-1 .4-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4Zm8.5-7.1h-11v2h11v-2Z"/></svg>',cut:'<svg width="24" height="24"><path d="M18 15c.6.7 1 1.4 1 2.3 0 .8-.2 1.5-.7 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 0 1-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 0 1 8.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 0 1 0-2c0-.4.3-.7.5-1l6 6 6-6 .5 1a3.3 3.3 0 0 1 0 2c0 .4-.3.7-.5 1l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8Zm-8.5 2.2.1-.4v-.7a1 1 0 0 0-.2-.5 1 1 0 0 0-.4-.2 1.6 1.6 0 0 0-.8 0 2.6 2.6 0 0 0-.8.3 2.5 2.5 0 0 0-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 0 0 .8-.3 2.8 2.8 0 0 0 1-1Zm2.5-2.8c.4 0 .7-.1 1-.4.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4s-.7.1-1 .4c-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4Zm5.4 4 .2-.5v-.7a2.6 2.6 0 0 0-.3-.8 2.4 2.4 0 0 0-.7-.7 2.5 2.5 0 0 0-.8-.3 1.5 1.5 0 0 0-.8 0 1 1 0 0 0-.4.2 1 1 0 0 0-.2.5 1.5 1.5 0 0 0 0 .7v.4l.3.4.3.4a2.8 2.8 0 0 0 .8.5l.4.1h.7l.5-.2Z" fill-rule="evenodd"/></svg>',"document-properties":'<svg width="24" height="24"><path d="M14.4 3H7a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h10a2 2 0 0 0 2-2V7.6L14.4 3ZM17 19H7V5h6v4h4v10Z" fill-rule="nonzero"/></svg>',drag:'<svg width="24" height="24"><path d="M13 5h2v2h-2V5Zm0 4h2v2h-2V9ZM9 9h2v2H9V9Zm4 4h2v2h-2v-2Zm-4 0h2v2H9v-2Zm0 4h2v2H9v-2Zm4 0h2v2h-2v-2ZM9 5h2v2H9V5Z" fill-rule="evenodd"/></svg>',"duplicate-column":'<svg width="24" height="24"><path d="M17 6v16h-7V6h7Zm-2 2h-3v12h3V8Zm-2-6v2H8v15H6V2h7Z"/></svg>',"duplicate-row":'<svg width="24" height="24"><path d="M22 11v7H6v-7h16Zm-2 2H8v3h12v-3Zm-1-6v2H4v5H2V7h17Z"/></svg>',duplicate:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M16 3v2H6v11H4V5c0-1.1.9-2 2-2h10Zm3 8h-2V9h-7v10h9a2 2 0 0 1-2 2h-7a2 2 0 0 1-2-2V9c0-1.2.9-2 2-2h7a2 2 0 0 1 2 2v2Z"/><path d="M17 14h1a1 1 0 0 1 0 2h-1v1a1 1 0 0 1-2 0v-1h-1a1 1 0 0 1 0-2h1v-1a1 1 0 0 1 2 0v1Z"/></g></svg>',"edit-block":'<svg width="24" height="24"><path fill-rule="nonzero" d="m19.8 8.8-9.4 9.4c-.2.2-.5.4-.9.4l-5.4 1.2 1.2-5.4.5-.8 9.4-9.4c.7-.7 1.8-.7 2.5 0l2.1 2.1c.7.7.7 1.8 0 2.5Zm-2-.2 1-.9v-.3l-2.2-2.2a.3.3 0 0 0-.3 0l-1 1L18 8.5Zm-1 1-2.5-2.4-6 6 2.5 2.5 6-6Zm-7 7.1-2.6-2.4-.3.3-.1.2-.7 3 3.1-.6h.1l.4-.5Z"/></svg>',"edit-image":'<svg width="24" height="24"><path d="M18 16h2V7a2 2 0 0 0-2-2H7v2h11v9ZM6 17h15a1 1 0 0 1 0 2h-1v1a1 1 0 0 1-2 0v-1H6a2 2 0 0 1-2-2V7H3a1 1 0 1 1 0-2h1V4a1 1 0 1 1 2 0v13Zm3-5.3 1.3 2 3-4.7 3.7 6H7l2-3.3Z" fill-rule="nonzero"/></svg>',"embed-page":'<svg width="24" height="24"><path d="M19 6V5H5v14h2A13 13 0 0 1 19 6Zm0 1.4c-.8.8-1.6 2.4-2.2 4.6H19V7.4Zm0 5.6h-2.4c-.4 1.8-.6 3.8-.6 6h3v-6Zm-4 6c0-2.2.2-4.2.6-6H13c-.7 1.8-1.1 3.8-1.1 6h3Zm-4 0c0-2.2.4-4.2 1-6H9.6A12 12 0 0 0 8 19h3ZM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm11.8 9c.4-1.9 1-3.4 1.8-4.5a9.2 9.2 0 0 0-4 4.5h2.2Zm-3.4 0a12 12 0 0 1 2.8-4 12 12 0 0 0-5 4h2.2Z" fill-rule="nonzero"/></svg>',embed:'<svg width="24" height="24"><path d="M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm1 2v14h14V5H5Zm4.8 2.6 5.6 4a.5.5 0 0 1 0 .8l-5.6 4A.5.5 0 0 1 9 16V8a.5.5 0 0 1 .8-.4Z" fill-rule="nonzero"/></svg>',emoji:'<svg width="24" height="24"><path d="M9 11c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 0 0-1 1c0 .6.4 1 1 1Zm6 0c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 0 0-1 1c0 .6.4 1 1 1Zm-3 5.5c2.1 0 4-1.5 4.4-3.5H7.6c.5 2 2.3 3.5 4.4 3.5ZM12 4a8 8 0 1 0 0 16 8 8 0 0 0 0-16Zm0 14.5a6.5 6.5 0 1 1 0-13 6.5 6.5 0 0 1 0 13Z" fill-rule="nonzero"/></svg>',export:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M14.4 3 18 7v1h-5V5H7v14h9a1 1 0 0 1 2 0c0 1-.8 2-1.9 2H7c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2h7.5Z"/><path d="M18.1 12c.5 0 .9.4.9 1 0 .5-.3 1-.8 1h-7.3c-.5 0-.9-.4-.9-1 0-.5.3-1 .8-1h7.3Z"/><path d="M16.4 9.2a1 1 0 0 1 1.4.2l2.4 3.6-2.4 3.6a1 1 0 0 1-1.7-1v-.2l1.7-2.4-1.6-2.4a1 1 0 0 1 .2-1.4Z"/></g></svg>',fill:'<svg width="24" height="26"><path d="m16.6 12-9-9-1.4 1.4 2.4 2.4-5.2 5.1c-.5.6-.5 1.6 0 2.2L9 19.6a1.5 1.5 0 0 0 2.2 0l5.5-5.5c.5-.6.5-1.6 0-2.2ZM5.2 13 10 8.2l4.8 4.8H5.2ZM19 14.5s-2 2.2-2 3.5c0 1.1.9 2 2 2a2 2 0 0 0 2-2c0-1.3-2-3.5-2-3.5Z" fill-rule="nonzero"/></svg>',"flip-horizontally":'<svg width="24" height="24"><path d="M14 19h2v-2h-2v2Zm4-8h2V9h-2v2ZM4 7v10c0 1.1.9 2 2 2h3v-2H6V7h3V5H6a2 2 0 0 0-2 2Zm14-2v2h2a2 2 0 0 0-2-2Zm-7 16h2V3h-2v18Zm7-6h2v-2h-2v2Zm-4-8h2V5h-2v2Zm4 12a2 2 0 0 0 2-2h-2v2Z" fill-rule="nonzero"/></svg>',"flip-vertically":'<svg width="24" height="24"><path d="M5 14v2h2v-2H5Zm8 4v2h2v-2h-2Zm4-14H7a2 2 0 0 0-2 2v3h2V6h10v3h2V6a2 2 0 0 0-2-2Zm2 14h-2v2a2 2 0 0 0 2-2ZM3 11v2h18v-2H3Zm6 7v2h2v-2H9Zm8-4v2h2v-2h-2ZM5 18c0 1.1.9 2 2 2v-2H5Z" fill-rule="nonzero"/></svg>',footnote:'<svg width="24" height="24"><path d="M19 13c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2h14Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M19 4v6h-1V5h-1.5V4h2.6Z"/><path d="M12 18c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2h7ZM14 8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2h9Z"/></svg>',"format-code":'<svg width="24" height="24"><path d="m10 22 2-7H6l9-13h2l-2 8h7L12 22h-2ZM6 2h7l-1.4 2H6V2Zm4.2 4H4v2h4.8l1.4-2Zm-2.7 4H2v2h4l1.5-2Z"/></svg>',"format-painter":'<svg width="24" height="24"><path d="M18 5V4c0-.5-.4-1-1-1H5a1 1 0 0 0-1 1v4c0 .6.5 1 1 1h12c.6 0 1-.4 1-1V7h1v4H9v9c0 .6.4 1 1 1h2c.6 0 1-.4 1-1v-7h8V5h-3Z" fill-rule="nonzero"/></svg>',format:'<svg width="24" height="24"><path fill-rule="evenodd" d="M17 5a1 1 0 0 1 0 2h-4v11a1 1 0 0 1-2 0V7H7a1 1 0 1 1 0-2h10Z"/></svg>',fullscreen:'<svg width="24" height="24"><path d="m15.3 10-1.2-1.3 2.9-3h-2.3a.9.9 0 1 1 0-1.7H19c.5 0 .9.4.9.9v4.4a.9.9 0 1 1-1.8 0V7l-2.9 3Zm0 4 3 3v-2.3a.9.9 0 1 1 1.7 0V19c0 .5-.4.9-.9.9h-4.4a.9.9 0 1 1 0-1.8H17l-3-2.9 1.3-1.2ZM10 15.4l-2.9 3h2.3a.9.9 0 1 1 0 1.7H5a.9.9 0 0 1-.9-.9v-4.4a.9.9 0 1 1 1.8 0V17l2.9-3 1.2 1.3ZM8.7 10 5.7 7v2.3a.9.9 0 0 1-1.7 0V5c0-.5.4-.9.9-.9h4.4a.9.9 0 0 1 0 1.8H7l3 2.9-1.3 1.2Z" fill-rule="nonzero"/></svg>',gallery:'<svg width="24" height="24"><path fill-rule="nonzero" d="m5 15.7 2.3-2.2c.3-.3.7-.3 1 0L11 16l5.1-5c.3-.4.8-.4 1 0l2 1.9V8H5v7.7ZM5 18V19h3l1.8-1.9-2-2L5 17.9Zm14-3-2.5-2.4-6.4 6.5H19v-4ZM4 6h16c.6 0 1 .4 1 1v13c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V7c0-.6.4-1 1-1Zm6 7a2 2 0 1 1 0-4 2 2 0 0 1 0 4ZM4.5 4h15a.5.5 0 1 1 0 1h-15a.5.5 0 0 1 0-1Zm2-2h11a.5.5 0 1 1 0 1h-11a.5.5 0 0 1 0-1Z"/></svg>',gamma:'<svg width="24" height="24"><path d="M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm1 2v14h14V5H5Zm6.5 11.8V14L9.2 8.7a5.1 5.1 0 0 0-.4-.8l-.1-.2H8v-1l.3-.1.3-.1h.7a1 1 0 0 1 .6.5l.1.3a8.5 8.5 0 0 1 .3.6l1.9 4.6 2-5.2a1 1 0 0 1 1-.6.5.5 0 0 1 .5.6L13 14v2.8a.7.7 0 0 1-1.4 0Z" fill-rule="nonzero"/></svg>',help:'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M12 5.5a6.5 6.5 0 0 0-6 9 6.3 6.3 0 0 0 1.4 2l1 1a6.3 6.3 0 0 0 3.6 1 6.5 6.5 0 0 0 6-9 6.3 6.3 0 0 0-1.4-2l-1-1a6.3 6.3 0 0 0-3.6-1ZM12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4Z"/><path d="M9.6 9.7a.7.7 0 0 1-.7-.8c0-1.1 1.5-1.8 3.2-1.8 1.8 0 3.2.8 3.2 2.4 0 1.4-.4 2.1-1.5 2.8-.2 0-.3.1-.3.2a2 2 0 0 0-.8.8.8.8 0 0 1-1.4-.6c.3-.7.8-1 1.3-1.5l.4-.2c.7-.4.8-.6.8-1.5 0-.5-.6-.9-1.7-.9-.5 0-1 .1-1.4.3-.2 0-.3.1-.3.2v-.2c0 .4-.4.8-.8.8Z" fill-rule="nonzero"/><circle cx="12" cy="16" r="1"/></g></svg>',"highlight-bg-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path class="tox-icon-highlight-bg-color__color" d="M3 18h18v3H3z"/><path fill-rule="nonzero" d="M7.7 16.7H3l3.3-3.3-.7-.8L10.2 8l4 4.1-4 4.2c-.2.2-.6.2-.8 0l-.6-.7-1.1 1.1zm5-7.5L11 7.4l3-2.9a2 2 0 0 1 2.6 0L18 6c.7.7.7 2 0 2.7l-2.9 2.9-1.8-1.8-.5-.6"/></g></svg>',home:'<svg width="24" height="24"><path fill-rule="nonzero" d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/></svg>',"horizontal-rule":'<svg width="24" height="24"><path d="M4 11h16v2H4z" fill-rule="evenodd"/></svg>',"image-options":'<svg width="24" height="24"><path d="M6 10a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm12 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm-6 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Z" fill-rule="nonzero"/></svg>',image:'<svg width="24" height="24"><path d="m5 15.7 3.3-3.2c.3-.3.7-.3 1 0L12 15l4.1-4c.3-.4.8-.4 1 0l2 1.9V5H5v10.7ZM5 18V19h3l2.8-2.9-2-2L5 17.9Zm14-3-2.5-2.4-6.4 6.5H19v-4ZM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm6 8a2 2 0 1 0 0-4 2 2 0 0 0 0 4Z" fill-rule="nonzero"/></svg>',indent:'<svg width="24" height="24"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 1 1 0-2Zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm-5 4h12a1 1 0 0 1 0 2H7a1 1 0 0 1 0-2Zm-2.6-3.8L6.2 12l-1.8-1.2a1 1 0 0 1 1.2-1.6l3 2a1 1 0 0 1 0 1.6l-3 2a1 1 0 1 1-1.2-1.6Z" fill-rule="evenodd"/></svg>',info:'<svg width="24" height="24"><path d="M12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4Zm-1 3v2h2V7h-2Zm3 10v-1h-1v-5h-3v1h1v4h-1v1h4Z" fill-rule="evenodd"/></svg>',"insert-character":'<svg width="24" height="24"><path d="M15 18h4l1-2v4h-6v-3.3l1.4-1a6 6 0 0 0 1.8-2.9 6.3 6.3 0 0 0-.1-4.1 5.8 5.8 0 0 0-3-3.2c-.6-.3-1.3-.5-2.1-.5a5.1 5.1 0 0 0-3.9 1.8 6.3 6.3 0 0 0-1.3 6 6.2 6.2 0 0 0 1.8 3l1.4.9V20H4v-4l1 2h4v-.5l-2-1L5.4 15A6.5 6.5 0 0 1 4 11c0-1 .2-1.9.6-2.7A7 7 0 0 1 6.3 6C7.1 5.4 8 5 9 4.5c1-.3 2-.5 3.1-.5a8.8 8.8 0 0 1 5.7 2 7 7 0 0 1 1.7 2.3 6 6 0 0 1 .2 4.8c-.2.7-.6 1.3-1 1.9a7.6 7.6 0 0 1-3.6 2.5v.5Z" fill-rule="evenodd"/></svg>',"insert-time":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M12 19a7 7 0 1 0 0-14 7 7 0 0 0 0 14Zm0 2a9 9 0 1 1 0-18 9 9 0 0 1 0 18Z"/><path d="M16 12h-3V7c0-.6-.4-1-1-1a1 1 0 0 0-1 1v7h5c.6 0 1-.4 1-1s-.4-1-1-1Z"/></g></svg>',invert:'<svg width="24" height="24"><path d="M18 19.3 16.5 18a5.8 5.8 0 0 1-3.1 1.9 6.1 6.1 0 0 1-5.5-1.6A5.8 5.8 0 0 1 6 14v-.3l.1-1.2A13.9 13.9 0 0 1 7.7 9l-3-3 .7-.8 2.8 2.9 9 8.9 1.5 1.6-.7.6Zm0-5.5v.3l-.1 1.1-.4 1-1.2-1.2a4.3 4.3 0 0 0 .2-1v-.2c0-.4 0-.8-.2-1.3l-.5-1.4a14.8 14.8 0 0 0-3-4.2L12 6a26.1 26.1 0 0 0-2.2 2.5l-1-1a20.9 20.9 0 0 1 2.9-3.3L12 4l1 .8a22.2 22.2 0 0 1 4 5.4c.6 1.2 1 2.4 1 3.6Z" fill-rule="evenodd"/></svg>',italic:'<svg width="24" height="24"><path d="m16.7 4.7-.1.9h-.3c-.6 0-1 0-1.4.3-.3.3-.4.6-.5 1.1l-2.1 9.8v.6c0 .5.4.8 1.4.8h.2l-.2.8H8l.2-.8h.2c1.1 0 1.8-.5 2-1.5l2-9.8.1-.5c0-.6-.4-.8-1.4-.8h-.3l.2-.9h5.8Z" fill-rule="evenodd"/></svg>',language:'<svg width="24" height="24"><path d="M12 3a9 9 0 1 1 0 18 9 9 0 0 1 0-18Zm4.3 13.3c-.5 1-1.2 2-2 2.9a7.5 7.5 0 0 0 3.2-2.1l-.2-.2a6 6 0 0 0-1-.6Zm-8.6 0c-.5.2-.9.5-1.2.8.9 1 2 1.7 3.2 2a10 10 0 0 1-2-2.8Zm3.6-.8c-.8 0-1.6.1-2.2.3.5 1 1.2 1.9 2.1 2.7Zm1.5 0v3c.9-.8 1.6-1.7 2.1-2.7-.6-.2-1.4-.3-2.1-.3Zm-6-2.7H4.5c.2 1 .5 2.1 1 3h.3l1.3-1a10 10 0 0 1-.3-2Zm12.7 0h-2.3c0 .7-.1 1.4-.3 2l1.6 1.1c.5-1 .9-2 1-3.1Zm-3.8 0h-3V14c1 0 2 .1 2.7.4.2-.5.3-1 .3-1.6Zm-4.4 0h-3l.3 1.6c.8-.3 1.7-.4 2.7-.4v-1.3Zm-5.5-5c-.7 1-1.1 2.2-1.3 3.5h2.3c0-1 .2-1.8.5-2.6l-1.5-1Zm2.9 1.4v.1c-.2.6-.4 1.3-.4 2h3V9.4c-1 0-1.8-.1-2.6-.3Zm6.6 0h-.1l-2.4.3v1.8h3l-.5-2.1Zm3-1.4-.3.1-1.3.8c.3.8.5 1.6.5 2.6h2.3a7.5 7.5 0 0 0-1.3-3.5Zm-9 0 2 .2V5.5a9 9 0 0 0-2 2.2Zm3.5-2.3V8c.6 0 1.3 0 1.9-.2a9 9 0 0 0-2-2.3Zm-3-.7h-.1c-1.1.4-2.1 1-3 1.8l1.2.7a10 10 0 0 1 1.9-2.5Zm4.4 0 .1.1a10 10 0 0 1 1.8 2.4l1.1-.7a7.5 7.5 0 0 0-3-1.8Z"/></svg>',"line-height":'<svg width="24" height="24"><path d="M21 5a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zM7 3.6l3.7 3.7a1 1 0 0 1-1.3 1.5h-.1L8 7.3v9.2l1.3-1.3a1 1 0 0 1 1.3 0h.1c.4.4.4 1 0 1.3v.1L7 20.4l-3.7-3.7a1 1 0 0 1 1.3-1.5h.1L6 16.7V7.4L4.7 8.7a1 1 0 0 1-1.3 0h-.1a1 1 0 0 1 0-1.3v-.1L7 3.6z"/></svg>',line:'<svg width="24" height="24"><path d="m15 9-8 8H4v-3l8-8 3 3Zm1-1-3-3 1-1h1c-.2 0 0 0 0 0l2 2s0 .2 0 0v1l-1 1ZM4 18h16v2H4v-2Z" fill-rule="evenodd"/></svg>',link:'<svg width="24" height="24"><path d="M6.2 12.3a1 1 0 0 1 1.4 1.4l-2 2a2 2 0 1 0 2.6 2.8l4.8-4.8a1 1 0 0 0 0-1.4 1 1 0 1 1 1.4-1.3 2.9 2.9 0 0 1 0 4L9.6 20a3.9 3.9 0 0 1-5.5-5.5l2-2Zm11.6-.6a1 1 0 0 1-1.4-1.4l2-2a2 2 0 1 0-2.6-2.8L11 10.3a1 1 0 0 0 0 1.4A1 1 0 1 1 9.6 13a2.9 2.9 0 0 1 0-4L14.4 4a3.9 3.9 0 0 1 5.5 5.5l-2 2Z" fill-rule="nonzero"/></svg>',"list-bull-circle":'<svg width="48" height="48"><g fill-rule="evenodd"><path d="M11 16a2 2 0 1 0 0-4 2 2 0 0 0 0 4Zm0 1a3 3 0 1 1 0-6 3 3 0 0 1 0 6ZM11 26a2 2 0 1 0 0-4 2 2 0 0 0 0 4Zm0 1a3 3 0 1 1 0-6 3 3 0 0 1 0 6ZM11 36a2 2 0 1 0 0-4 2 2 0 0 0 0 4Zm0 1a3 3 0 1 1 0-6 3 3 0 0 1 0 6Z" fill-rule="nonzero"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-bull-default":'<svg width="48" height="48"><g fill-rule="evenodd"><circle cx="11" cy="14" r="3"/><circle cx="11" cy="24" r="3"/><circle cx="11" cy="34" r="3"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-bull-square":'<svg width="48" height="48"><g fill-rule="evenodd"><path d="M8 11h6v6H8zM8 21h6v6H8zM8 31h6v6H8z"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-num-default-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M37.4 17v-4.8h-.1l-1.5 1v-1.1l1.6-1.1h1.2v6zM33.3 17.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm1.7 5.7c0-1.2 1-2 2.2-2 1.3 0 2.1.8 2.1 1.8 0 .7-.3 1.2-1.3 2.2l-1.2 1v.2h2.6v1h-4.3v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H35zm-1.7 4.3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm3.2 7.3v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H35c0-1.1 1-1.8 2.2-1.8 1.2 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.7.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .6 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7zm-3.3 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7z"/></g></svg>',"list-num-default":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10 17v-4.8l-1.5 1v-1.1l1.6-1h1.2V17h-1.2Zm3.6.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm-5 5.7c0-1.2.8-2 2.1-2s2.1.8 2.1 1.8c0 .7-.3 1.2-1.4 2.2l-1.1 1v.2h2.6v1H8.6v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H8.5Zm6.3 4.3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM10 34.4v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H8.6c0-1.1 1-1.8 2.2-1.8 1.3 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.8.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .7 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7Zm4.7 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7Z"/></g></svg>',"list-num-lower-alpha-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M36.5 16c-.9 0-1.5-.5-1.5-1.3s.6-1.3 1.8-1.4h1v-.4c0-.4-.2-.6-.7-.6-.4 0-.7.1-.8.4h-1.1c0-.8.8-1.4 2-1.4S39 12 39 13V16h-1.2v-.6c-.3.4-.8.7-1.4.7Zm.4-.8c.6 0 1-.4 1-.9V14h-1c-.5.1-.7.3-.7.6 0 .4.3.6.7.6ZM33.1 16.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7ZM37.7 26c-.7 0-1.2-.2-1.5-.7v.7H35v-6.3h1.2v2.5c.3-.5.8-.9 1.5-.9 1.1 0 1.8 1 1.8 2.4 0 1.5-.7 2.4-1.8 2.4Zm-.5-3.6c-.6 0-1 .5-1 1.3s.4 1.4 1 1.4c.7 0 1-.6 1-1.4 0-.8-.3-1.3-1-1.3ZM33.2 26.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7zm6 7h-1c-.1-.5-.4-.8-1-.8s-1 .5-1 1.4c0 1 .4 1.4 1 1.4.5 0 .9-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7zm-6.1 3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-lower-alpha":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10.3 15.2c.5 0 1-.4 1-.9V14h-1c-.5.1-.8.3-.8.6 0 .4.3.6.8.6Zm-.4.9c-1 0-1.5-.6-1.5-1.4 0-.8.6-1.3 1.7-1.4h1.1v-.4c0-.4-.2-.6-.7-.6-.5 0-.8.1-.9.4h-1c0-.8.8-1.4 2-1.4 1.1 0 1.8.6 1.8 1.6V16h-1.1v-.6h-.1c-.2.4-.7.7-1.3.7Zm4.6 0c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-3.2 10c-.6 0-1.2-.3-1.4-.8v.7H8.5v-6.3H10v2.5c.3-.5.8-.9 1.4-.9 1.2 0 1.9 1 1.9 2.4 0 1.5-.7 2.4-1.9 2.4Zm-.4-3.7c-.7 0-1 .5-1 1.3s.3 1.4 1 1.4c.6 0 1-.6 1-1.4 0-.8-.4-1.3-1-1.3Zm4 3.7c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-2.2 7h-1.2c0-.5-.4-.8-.9-.8-.6 0-1 .5-1 1.4 0 1 .4 1.4 1 1.4.5 0 .8-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7Zm1.8 3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-lower-greek-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M37.4 16c-1.2 0-2-.8-2-2.3 0-1.5.8-2.4 2-2.4.6 0 1 .4 1.3 1v-.9H40v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1-.7h-.2c-.2.4-.7.8-1.3.8Zm.3-1c.6 0 1-.5 1-1.3s-.4-1.3-1-1.3-1 .5-1 1.3.4 1.4 1 1.4ZM33.3 16.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM36 21.9c0-1.5.8-2.3 2.1-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.9 1.3.9.3 1.3.8 1.3 1.7 0 1.2-.7 1.9-1.8 1.9-.6 0-1.1-.3-1.4-.8v2.2H36V22Zm1.8 1.2v-1h.3c.5 0 .9-.2.9-.7 0-.5-.3-.8-.9-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1 1.3s1-.4 1-1-.4-1-1.2-1h-.3ZM33.3 26.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM37.1 34.6 34.8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.2.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2Zm.7 1a2 2 0 0 0-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1ZM33.3 36.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-lower-greek":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10.5 15c.7 0 1-.5 1-1.3s-.3-1.3-1-1.3c-.5 0-.9.5-.9 1.3s.4 1.4 1 1.4Zm-.3 1c-1.1 0-1.8-.8-1.8-2.3 0-1.5.7-2.4 1.8-2.4.7 0 1.1.4 1.3 1h.1v-.9h1.2v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1.1-.7h-.1c-.2.4-.7.8-1.4.8Zm5 .1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7Zm-4.9 7v-1h.3c.6 0 1-.2 1-.7 0-.5-.4-.8-1-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1.1 1.3.6 0 1-.4 1-1s-.5-1-1.3-1h-.3ZM8.6 22c0-1.5.7-2.3 2-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.8 1.3.8.3 1.3.8 1.3 1.7 0 1.2-.8 1.9-1.9 1.9-.6 0-1.1-.3-1.3-.8v2.2H8.5V22Zm6.2 4.2c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm-4.5 8.5L8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.1.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2Zm.7 1a2 2 0 0 0-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1Zm4.5.5c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-lower-roman-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M32.9 16v-1.2h-1.3V16H33Zm0 10v-1.2h-1.3V26H33Zm0 10v-1.2h-1.3V36H33Z"/><path fill-rule="nonzero" d="M36 21h-1.5v5H36zM36 31h-1.5v5H36zM39 21h-1.5v5H39zM39 31h-1.5v5H39zM42 31h-1.5v5H42zM36 11h-1.5v5H36zM36 19h-1.5v1H36zM36 29h-1.5v1H36zM39 19h-1.5v1H39zM39 29h-1.5v1H39zM42 29h-1.5v1H42zM36 9h-1.5v1H36z"/></g></svg>',"list-num-lower-roman":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M15.1 16v-1.2h1.3V16H15Zm0 10v-1.2h1.3V26H15Zm0 10v-1.2h1.3V36H15Z"/><path fill-rule="nonzero" d="M12 21h1.5v5H12zM12 31h1.5v5H12zM9 21h1.5v5H9zM9 31h1.5v5H9zM6 31h1.5v5H6zM12 11h1.5v5H12zM12 19h1.5v1H12zM12 29h1.5v1H12zM9 19h1.5v1H9zM9 29h1.5v1H9zM6 29h1.5v1H6zM12 9h1.5v1H12z"/></g></svg>',"list-num-upper-alpha-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="m39.3 17-.5-1.4h-2l-.5 1.4H35l2-6h1.6l2 6h-1.3Zm-1.6-4.7-.7 2.3h1.6l-.8-2.3ZM33.4 17c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm4.7 9.9h-2.7v-6H38c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7Zm-1.4-5v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1Zm0 4h1.1c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9h-1.1V26ZM33 27.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm4.9 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2Zm-4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-upper-alpha":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="m12.6 17-.5-1.4h-2L9.5 17H8.3l2-6H12l2 6h-1.3ZM11 12.3l-.7 2.3h1.6l-.8-2.3Zm4.7 4.8c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7ZM11.4 27H8.7v-6h2.6c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7ZM10 22v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1Zm0 4H11c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9H10V26Zm5.4 1.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-4.1 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2Zm4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-upper-roman-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M31.6 17v-1.2H33V17h-1.3Zm0 10v-1.2H33V27h-1.3Zm0 10v-1.2H33V37h-1.3Z"/><path fill-rule="nonzero" d="M34.5 20H36v7h-1.5zM34.5 30H36v7h-1.5zM37.5 20H39v7h-1.5zM37.5 30H39v7h-1.5zM40.5 30H42v7h-1.5zM34.5 10H36v7h-1.5z"/></g></svg>',"list-num-upper-roman":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M15.1 17v-1.2h1.3V17H15Zm0 10v-1.2h1.3V27H15Zm0 10v-1.2h1.3V37H15Z"/><path fill-rule="nonzero" d="M12 20h1.5v7H12zM12 30h1.5v7H12zM9 20h1.5v7H9zM9 30h1.5v7H9zM6 30h1.5v7H6zM12 10h1.5v7H12z"/></g></svg>',lock:'<svg width="24" height="24"><path d="M16.3 11c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H8V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h.3ZM10 8v3h4V8a1 1 0 0 0-.3-.7A1 1 0 0 0 13 7h-2a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7Z" fill-rule="evenodd"/></svg>',ltr:'<svg width="24" height="24"><path d="M11 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 7.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L11 5ZM4.4 16.2 6.2 15l-1.8-1.2a1 1 0 0 1 1.2-1.6l3 2a1 1 0 0 1 0 1.6l-3 2a1 1 0 1 1-1.2-1.6Z" fill-rule="evenodd"/></svg>',"math-equation":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M9 4.8c.1-.5.5-.8 1-.8h10a1 1 0 1 1 0 2h-9.2L8.3 19.2a1 1 0 0 1-1.7.4l-3.4-4.2a1 1 0 0 1 1.6-1.2l2 2.5L9 4.8Zm9.7 5.5c.4.4.4 1 0 1.4L17 13.5l1.8 1.8a1 1 0 1 1-1.4 1.4L15.5 15l-1.8 1.8a1 1 0 0 1-1.4-1.4l1.8-1.8-1.8-1.8a1 1 0 0 1 1.4-1.4l1.8 1.8 1.8-1.8a1 1 0 0 1 1.4 0Z"/></svg>',minus:'<svg width="24" height="24"><path d="M19 11a1 1 0 0 1 .1 2H5a1 1 0 0 1-.1-2H19Z"/></svg>',"more-drawer":'<svg width="24" height="24"><path d="M6 10a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm12 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm-6 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Z" fill-rule="nonzero"/></svg>',"new-document":'<svg width="24" height="24"><path d="M14.4 3H7a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h10a2 2 0 0 0 2-2V7.6L14.4 3ZM17 19H7V5h6v4h4v10Z" fill-rule="nonzero"/></svg>',"new-tab":'<svg width="24" height="24"><path d="m15 13 2-2v8H5V7h8l-2 2H7v8h8v-4Zm4-8v5.5l-2-2-5.6 5.5H10v-1.4L15.5 7l-2-2H19Z" fill-rule="evenodd"/></svg>',"non-breaking":'<svg width="24" height="24"><path d="M11 11H8a1 1 0 1 1 0-2h3V6c0-.6.4-1 1-1s1 .4 1 1v3h3c.6 0 1 .4 1 1s-.4 1-1 1h-3v3c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-3Zm10 4v5H3v-5c0-.6.4-1 1-1s1 .4 1 1v3h14v-3c0-.6.4-1 1-1s1 .4 1 1Z" fill-rule="evenodd"/></svg>',notice:'<svg width="24" height="24"><path d="M15.5 4 20 8.5v7L15.5 20h-7L4 15.5v-7L8.5 4h7ZM13 17v-2h-2v2h2Zm0-4V7h-2v6h2Z" fill-rule="evenodd" clip-rule="evenodd"/></svg>',"ordered-list-rtl":'<svg width="24" height="24"><path d="M6 17h8a1 1 0 0 1 0 2H6a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2H6a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2H6a1 1 0 1 1 0-2Zm13-1v3.5a.5.5 0 1 1-1 0V5h-.5a.5.5 0 1 1 0-1H19Zm-1 8.8.2.2h1.3a.5.5 0 1 1 0 1h-1.6a1 1 0 0 1-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 0 0-.2-.2h-1.3a.5.5 0 0 1-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3Zm2 4.2v2c0 .6-.4 1-1 1h-1.5a.5.5 0 0 1 0-1h1.2a.3.3 0 1 0 0-.6h-1.3a.4.4 0 1 1 0-.8h1.3a.3.3 0 0 0 0-.6h-1.2a.5.5 0 1 1 0-1H19c.6 0 1 .4 1 1Z" fill-rule="evenodd"/></svg>',"ordered-list":'<svg width="24" height="24"><path d="M10 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 1 1 0-2ZM6 4v3.5c0 .3-.2.5-.5.5a.5.5 0 0 1-.5-.5V5h-.5a.5.5 0 0 1 0-1H6Zm-1 8.8.2.2h1.3c.3 0 .5.2.5.5s-.2.5-.5.5H4.9a1 1 0 0 1-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 0 0-.2-.2H4.5a.5.5 0 0 1-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3ZM7 17v2c0 .6-.4 1-1 1H4.5a.5.5 0 0 1 0-1h1.2c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.4a.4.4 0 1 1 0-.8h1.3c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.5a.5.5 0 1 1 0-1H6c.6 0 1 .4 1 1Z" fill-rule="evenodd"/></svg>',orientation:'<svg width="24" height="24"><path d="M7.3 6.4 1 13l6.4 6.5 6.5-6.5-6.5-6.5ZM3.7 13l3.6-3.7L11 13l-3.7 3.7-3.6-3.7ZM12 6l2.8 2.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0L9.2 5.7a.8.8 0 0 1 0-1.2L13.6.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L12 4h1a9 9 0 1 1-4.3 16.9l1.5-1.5A7 7 0 1 0 13 6h-1Z" fill-rule="nonzero"/></svg>',outdent:'<svg width="24" height="24"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 1 1 0-2Zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm-5 4h12a1 1 0 0 1 0 2H7a1 1 0 0 1 0-2Zm1.6-3.8a1 1 0 0 1-1.2 1.6l-3-2a1 1 0 0 1 0-1.6l3-2a1 1 0 0 1 1.2 1.6L6.8 12l1.8 1.2Z" fill-rule="evenodd"/></svg>',"export-pdf":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M7 3h7.4L19 7.6V17h-2V9h-4V5H7v3H5V5c0-1.1.9-2 2-2Z"/><path d="M2.6 15.2v-1.9h1c.6 0 1-.2 1.4-.5.3-.3.5-.7.5-1.2s-.2-.9-.5-1.2a2 2 0 0 0-1.3-.4H1v5.2h1.6Zm.4-3h-.4v-1.1h.5l.6.1.2.5c0 .1 0 .3-.2.4l-.7.1Zm5.7 3 1-.1c.3 0 .5-.2.7-.4l.5-.8c.2-.3.2-.7.2-1.3v-1l-.5-.8c-.2-.3-.4-.5-.7-.6L8.7 10H6.3v5.2h2.4Zm-.4-1.1H8v-3h.4c.5 0 .8.2 1 .4l.2 1.1-.1 1-.3.3-.8.2Zm5.3 1.2V13h2v-1h-2v-1H16V10h-4v5.2h1.6Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M15 17a1 1 0 1 0-2 0v3.1l-1.4-1a1 1 0 1 0-1.2 1.7l3.6 2.4 3.6-2.4a1 1 0 0 0-1.2-1.6l-1.4 1V17Z"/></svg>',"export-word":'<svg width="24" height="24"><path d="M9.5 7A1.5 1.5 0 0 1 11 8.4v7.1A1.5 1.5 0 0 1 9.6 17H2.5A1.5 1.5 0 0 1 1 15.6V8.5A1.5 1.5 0 0 1 2.4 7h7.1Zm-1 2.8-1 2.6-1-2.5v-.1a.6.6 0 0 0-1 0l-.1.1-.9 2.5-1-2.5v-.1a.6.6 0 0 0-1 .4v.1l1.5 4v.1a.6.6 0 0 0 1 0v-.1l1-2.5.9 2.5v.1a.6.6 0 0 0 1 0H8l1.6-4v-.2a.6.6 0 0 0-1.1-.4Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M7 3h7.4L19 7.6V17h-2V9h-4V5H5c0-1.1.9-2 2-2ZM15 17a1 1 0 1 0-2 0v3.1l-1.4-1a1 1 0 1 0-1.2 1.7l3.6 2.4 3.6-2.4a1 1 0 0 0-1.2-1.6l-1.4 1V17Z"/></svg>',"import-word":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M7 3h7.4L19 7.6V15h-2V9h-4V5H5c0-1.1.9-2 2-2Z"/><path d="M9.5 7A1.5 1.5 0 0 1 11 8.4v7.1A1.5 1.5 0 0 1 9.6 17H2.5A1.5 1.5 0 0 1 1 15.6V8.5A1.5 1.5 0 0 1 2.4 7h7.1Zm-1 2.8-1 2.6-1-2.5v-.1a.6.6 0 0 0-1 0l-.1.1-.9 2.5-1-2.5v-.1a.6.6 0 0 0-1 .4v.1l1.5 4v.1a.6.6 0 0 0 1 0v-.1l1-2.5.9 2.5v.1a.6.6 0 0 0 1 0H8l1.6-4v-.2a.6.6 0 0 0-1.1-.4Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M11.4 18.2a1 1 0 0 0 1.2 1.6l1.4-1V22a1 1 0 1 0 2 0v-3.1l1.4 1a1 1 0 0 0 1.2-1.7L15 15.8l-3.6 2.4Z"/></svg>',"page-break":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M5 11c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1h-1a1 1 0 0 1 0-2Zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2ZM7 3v5h10V3c0-.6.4-1 1-1s1 .4 1 1v7H5V3c0-.6.4-1 1-1s1 .4 1 1ZM6 22a1 1 0 0 1-1-1v-7h14v7c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-5H7v5c0 .6-.4 1-1 1Z"/></g></svg>',paragraph:'<svg width="24" height="24"><path fill-rule="evenodd" d="M10 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 6.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L10 5Z"/></svg>',"paste-column-after":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V7h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h7v2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm8 7v12h-6V8h6Zm-1.5 1.5h-3v9h3v-9ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-column-before":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V18c0 1-.8 2-1.9 2H11v-2h7V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v2H4V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm-2 7v12H4V8h6ZM8.5 9.5h-3v9h3v-9ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-row-after":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V11h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h14c0 1-.8 2-1.9 2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm10 11v5H8v-5h14Zm-1.5 1.5h-11v2h11v-2ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-row-before":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V7h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h12v-4h2v4c0 1-.8 2-1.9 2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm10 7v5H8V8h14Zm-1.5 1.5h-11v2h11v-2ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-text":'<svg width="24" height="24"><path d="M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h3V9h9ZM9 20H6a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0 1 12 1a3 3 0 0 1 2.8 2H18a2 2 0 0 1 2 2v4h1v12H9v-1Zm1.5-9.5v9h9v-9h-9ZM12 3a1 1 0 0 0-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1Zm0 9h6v2h-.5l-.5-1h-1v4h.8v1h-3.6v-1h.8v-4h-1l-.5 1H12v-2Z" fill-rule="nonzero"/></svg>',paste:'<svg width="24" height="24"><path d="M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h3V9h9ZM9 20H6a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0 1 12 1a3 3 0 0 1 2.8 2H18a2 2 0 0 1 2 2v4h1v12H9v-1Zm1.5-9.5v9h9v-9h-9ZM12 3a1 1 0 0 0-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1Z" fill-rule="nonzero"/></svg>',"permanent-pen":'<svg width="24" height="24"><path d="M10.5 17.5 8 20H3v-3l3.5-3.5a2 2 0 0 1 0-3L14 3l1 1-7.3 7.3a1 1 0 0 0 0 1.4l3.6 3.6c.4.4 1 .4 1.4 0L20 9l1 1-7.6 7.6a2 2 0 0 1-2.8 0l-.1-.1Z" fill-rule="nonzero"/></svg>',plus:'<svg width="24" height="24"><path d="M12 4c.5 0 1 .4 1 .9V11h6a1 1 0 0 1 .1 2H13v6a1 1 0 0 1-2 .1V13H5a1 1 0 0 1-.1-2H11V5c0-.6.4-1 1-1Z"/></svg>',preferences:'<svg width="24" height="24"><path d="m20.1 13.5-1.9.2a5.8 5.8 0 0 1-.6 1.5l1.2 1.5c.4.4.3 1 0 1.4l-.7.7a1 1 0 0 1-1.4 0l-1.5-1.2a6.2 6.2 0 0 1-1.5.6l-.2 1.9c0 .5-.5.9-1 .9h-1a1 1 0 0 1-1-.9l-.2-1.9a5.8 5.8 0 0 1-1.5-.6l-1.5 1.2a1 1 0 0 1-1.4 0l-.7-.7a1 1 0 0 1 0-1.4l1.2-1.5a6.2 6.2 0 0 1-.6-1.5l-1.9-.2a1 1 0 0 1-.9-1v-1c0-.5.4-1 .9-1l1.9-.2a5.8 5.8 0 0 1 .6-1.5L5.2 7.3a1 1 0 0 1 0-1.4l.7-.7a1 1 0 0 1 1.4 0l1.5 1.2a6.2 6.2 0 0 1 1.5-.6l.2-1.9c0-.5.5-.9 1-.9h1c.5 0 1 .4 1 .9l.2 1.9a5.8 5.8 0 0 1 1.5.6l1.5-1.2a1 1 0 0 1 1.4 0l.7.7c.3.4.4 1 0 1.4l-1.2 1.5a6.2 6.2 0 0 1 .6 1.5l1.9.2c.5 0 .9.5.9 1v1c0 .5-.4 1-.9 1ZM12 15a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z" fill-rule="evenodd"/></svg>',preview:'<svg width="24" height="24"><path d="M3.5 12.5c.5.8 1.1 1.6 1.8 2.3 2 2 4.2 3.2 6.7 3.2s4.7-1.2 6.7-3.2a16.2 16.2 0 0 0 2.1-2.8 15.7 15.7 0 0 0-2.1-2.8c-2-2-4.2-3.2-6.7-3.2a9.3 9.3 0 0 0-6.7 3.2A16.2 16.2 0 0 0 3.2 12c0 .2.2.3.3.5Zm-2.4-1 .7-1.2L4 7.8C6.2 5.4 8.9 4 12 4c3 0 5.8 1.4 8.1 3.8a18.2 18.2 0 0 1 2.8 3.7v1l-.7 1.2-2.1 2.5c-2.3 2.4-5 3.8-8.1 3.8-3 0-5.8-1.4-8.1-3.8a18.2 18.2 0 0 1-2.8-3.7 1 1 0 0 1 0-1Zm12-3.3a2 2 0 1 0 2.7 2.6 4 4 0 1 1-2.6-2.6Z" fill-rule="nonzero"/></svg>',print:'<svg width="24" height="24"><path d="M18 8H6a3 3 0 0 0-3 3v6h2v3h14v-3h2v-6a3 3 0 0 0-3-3Zm-1 10H7v-4h10v4Zm.5-5c-.8 0-1.5-.7-1.5-1.5s.7-1.5 1.5-1.5 1.5.7 1.5 1.5-.7 1.5-1.5 1.5Zm.5-8H6v2h12V5Z" fill-rule="nonzero"/></svg>',quote:'<svg width="24" height="24"><path d="M7.5 17h.9c.4 0 .7-.2.9-.6L11 13V8c0-.6-.4-1-1-1H6a1 1 0 0 0-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 0 0 .8 1.3Zm8 0h.9c.4 0 .7-.2.9-.6L19 13V8c0-.6-.4-1-1-1h-4a1 1 0 0 0-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 0 0 .8 1.3Z" fill-rule="nonzero"/></svg>',redo:'<svg width="24" height="24"><path d="M17.6 10H12c-2.8 0-4.4 1.4-4.9 3.5-.4 2 .3 4 1.4 4.6a1 1 0 1 1-1 1.8c-2-1.2-2.9-4.1-2.3-6.8.6-3 3-5.1 6.8-5.1h5.6l-3.3-3.3a1 1 0 1 1 1.4-1.4l5 5a1 1 0 0 1 0 1.4l-5 5a1 1 0 0 1-1.4-1.4l3.3-3.3Z" fill-rule="nonzero"/></svg>',reload:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="m5 22.1-1.2-4.7v-.2a1 1 0 0 1 1-1l5 .4a1 1 0 1 1-.2 2l-2.2-.2a7.8 7.8 0 0 0 8.4.2 7.5 7.5 0 0 0 3.5-6.4 1 1 0 1 1 2 0 9.5 9.5 0 0 1-4.5 8 9.9 9.9 0 0 1-10.2 0l.4 1.4a1 1 0 1 1-2 .5ZM13.6 7.4c0-.5.5-1 1-.9l2.8.2a8 8 0 0 0-9.5-1 7.5 7.5 0 0 0-3.6 7 1 1 0 0 1-2 0 9.5 9.5 0 0 1 4.5-8.6 10 10 0 0 1 10.9.3l-.3-1a1 1 0 0 1 2-.5l1.1 4.8a1 1 0 0 1-1 1.2l-5-.4a1 1 0 0 1-.9-1Z"/></g></svg>',"remove-formatting":'<svg width="24" height="24"><path d="M13.2 6a1 1 0 0 1 0 .2l-2.6 10a1 1 0 0 1-1 .8h-.2a.8.8 0 0 1-.8-1l2.6-10H8a1 1 0 1 1 0-2h9a1 1 0 0 1 0 2h-3.8ZM5 18h7a1 1 0 0 1 0 2H5a1 1 0 0 1 0-2Zm13 1.5L16.5 18 15 19.5a.7.7 0 0 1-1-1l1.5-1.5-1.5-1.5a.7.7 0 0 1 1-1l1.5 1.5 1.5-1.5a.7.7 0 0 1 1 1L17.5 17l1.5 1.5a.7.7 0 0 1-1 1Z" fill-rule="evenodd"/></svg>',remove:'<svg width="24" height="24"><path d="M16 7h3a1 1 0 0 1 0 2h-1v9a3 3 0 0 1-3 3H9a3 3 0 0 1-3-3V9H5a1 1 0 1 1 0-2h3V6a3 3 0 0 1 3-3h2a3 3 0 0 1 3 3v1Zm-2 0V6c0-.6-.4-1-1-1h-2a1 1 0 0 0-1 1v1h4Zm2 2H8v9c0 .6.4 1 1 1h6c.6 0 1-.4 1-1V9Zm-7 3a1 1 0 0 1 2 0v4a1 1 0 0 1-2 0v-4Zm4 0a1 1 0 0 1 2 0v4a1 1 0 0 1-2 0v-4Z" fill-rule="nonzero"/></svg>',"resize-handle":'<svg width="10" height="10"><g fill-rule="nonzero"><path d="M8.1 1.1A.5.5 0 1 1 9 2l-7 7A.5.5 0 1 1 1 8l7-7ZM8.1 5.1A.5.5 0 1 1 9 6l-3 3A.5.5 0 1 1 5 8l3-3Z"/></g></svg>',resize:'<svg width="24" height="24"><path d="M4 5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h6c.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7a1 1 0 0 1-.7.3H7.4L18 16.6V13c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7v6c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-6a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3.6L6 7.4V11c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.7-.3A1 1 0 0 1 4 11V5Z" fill-rule="evenodd"/></svg>',"restore-draft":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M17 13c0 .6-.4 1-1 1h-4V8c0-.6.4-1 1-1s1 .4 1 1v4h2c.6 0 1 .4 1 1Z"/><path d="M4.7 10H9a1 1 0 0 1 0 2H3a1 1 0 0 1-1-1V5a1 1 0 1 1 2 0v3l2.5-2.4a9.2 9.2 0 0 1 10.8-1.5A9 9 0 0 1 13.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 1 1 1.3-1.5 7.2 7.2 0 0 0 11.6-3.7 7 7 0 0 0-3.5-7.7A7.2 7.2 0 0 0 8 7L4.7 10Z" fill-rule="nonzero"/></g></svg>',"revision-history":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M17 13c0 .6-.4 1-1 1h-4V8c0-.6.4-1 1-1s1 .4 1 1v4h2c.6 0 1 .4 1 1Z"/><path d="M4.7 10H9a1 1 0 0 1 0 2H3a1 1 0 0 1-1-1V5a1 1 0 1 1 2 0v3l2.5-2.4a9.2 9.2 0 0 1 10.8-1.5A9 9 0 0 1 13.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 1 1 1.3-1.5 7.2 7.2 0 0 0 11.6-3.7 7 7 0 0 0-3.5-7.7A7.2 7.2 0 0 0 8 7L4.7 10Z" fill-rule="nonzero"/></g></svg>',"rotate-left":'<svg width="24" height="24"><path d="M4.7 10H9a1 1 0 0 1 0 2H3a1 1 0 0 1-1-1V5a1 1 0 1 1 2 0v3l2.5-2.4a9.2 9.2 0 0 1 10.8-1.5A9 9 0 0 1 13.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 1 1 1.3-1.5 7.2 7.2 0 0 0 11.6-3.7 7 7 0 0 0-3.5-7.7A7.2 7.2 0 0 0 8 7L4.7 10Z" fill-rule="nonzero"/></svg>',"rotate-right":'<svg width="24" height="24"><path d="M20 8V5a1 1 0 0 1 2 0v6c0 .6-.4 1-1 1h-6a1 1 0 0 1 0-2h4.3L16 7A7.2 7.2 0 0 0 7.7 6a7 7 0 0 0 3 13.1c1.9.1 3.7-.5 5-1.7a1 1 0 0 1 1.4 1.5A9.2 9.2 0 0 1 2.2 14c-.9-3.9 1-8 4.5-9.9 3.5-1.9 8-1.3 10.8 1.5L20 8Z" fill-rule="nonzero"/></svg>',rtl:'<svg width="24" height="24"><path d="M8 5h8v2h-2v12h-2V7h-2v12H8v-7c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 4.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L8 5Zm12 11.2a1 1 0 1 1-1 1.6l-3-2a1 1 0 0 1 0-1.6l3-2a1 1 0 1 1 1 1.6L18.4 15l1.8 1.2Z" fill-rule="evenodd"/></svg>',save:'<svg width="24" height="24"><path d="M5 16h14a2 2 0 0 1 2 2v2a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-2c0-1.1.9-2 2-2Zm0 2v2h14v-2H5Zm10 0h2v2h-2v-2Zm-4-6.4L8.7 9.3a1 1 0 1 0-1.4 1.4l4 4c.4.4 1 .4 1.4 0l4-4a1 1 0 1 0-1.4-1.4L13 11.6V4a1 1 0 0 0-2 0v7.6Z" fill-rule="nonzero"/></svg>',search:'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Z" fill-rule="nonzero"/></svg>',"select-all":'<svg width="24" height="24"><path d="M3 5h2V3a2 2 0 0 0-2 2Zm0 8h2v-2H3v2Zm4 8h2v-2H7v2ZM3 9h2V7H3v2Zm10-6h-2v2h2V3Zm6 0v2h2a2 2 0 0 0-2-2ZM5 21v-2H3c0 1.1.9 2 2 2Zm-2-4h2v-2H3v2ZM9 3H7v2h2V3Zm2 18h2v-2h-2v2Zm8-8h2v-2h-2v2Zm0 8a2 2 0 0 0 2-2h-2v2Zm0-12h2V7h-2v2Zm0 8h2v-2h-2v2Zm-4 4h2v-2h-2v2Zm0-16h2V3h-2v2ZM7 17h10V7H7v10Zm2-8h6v6H9V9Z" fill-rule="nonzero"/></svg>',selected:'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2Zm3.6 10.9L7 12.3a.7.7 0 0 0-1 1L9.6 17 18 8.6a.7.7 0 0 0 0-1 .7.7 0 0 0-1 0l-7.4 7.3Z"/></svg>',send:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="m13.3 22 7-18.3-18.3 7L9 15l4.3 7ZM18 6.8l-.7-.7L9.4 14l.7.7L18 6.8Z"/></svg>',settings:'<svg width="24" height="24"><path d="M11 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V8H5a1 1 0 1 1 0-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.5V6ZM8 8h2V6H8v2Zm9 2.8v.2h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v.3c0 .2 0 .3-.2.5l-.6.2h-2.4c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V13H5a1 1 0 0 1 0-2h8v-.3c0-.2 0-.3.2-.5l.6-.2h2.4c.3 0 .4 0 .6.2l.2.6ZM14 13h2v-2h-2v2Zm-3 2.8v.2h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V18H5a1 1 0 0 1 0-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.6ZM8 18h2v-2H8v2Z" fill-rule="evenodd"/></svg>',sharpen:'<svg width="24" height="24"><path d="m16 6 4 4-8 9-8-9 4-4h8Zm-4 10.2 5.5-6.2-.1-.1H12v-.3h5.1l-.2-.2H12V9h4.6l-.2-.2H12v-.3h4.1l-.2-.2H12V8h3.6l-.2-.2H8.7L6.5 10l.1.1H12v.3H6.9l.2.2H12v.3H7.3l.2.2H12v.3H7.7l.3.2h4v.3H8.2l.2.2H12v.3H8.6l.3.2H12v.3H9l.3.2H12v.3H9.5l.2.2H12v.3h-2l.2.2H12v.3h-1.6l.2.2H12v.3h-1.1l.2.2h.9v.3h-.7l.2.2h.5v.3h-.3l.3.2Z" fill-rule="evenodd"/></svg>',sourcecode:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M9.8 15.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0l-4.4-4.1a.8.8 0 0 1 0-1.2l4.4-4.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L6 12l3.8 3.7ZM14.2 15.7c-.3.3-.3.8 0 1 .4.4.9.4 1.2 0l4.4-4.1c.3-.3.3-.9 0-1.2l-4.4-4.2a.8.8 0 0 0-1.2 0c-.3.3-.3.8 0 1.1L18 12l-3.8 3.7Z"/></g></svg>',"spell-check":'<svg width="24" height="24"><path d="M6 8v3H5V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h2c.3 0 .5.1.7.3.2.2.3.4.3.7v6H8V8H6Zm0-3v2h2V5H6Zm13 0h-3v5h3v1h-3a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3v1Zm-5 1.5-.1.7c-.1.2-.3.3-.6.3.3 0 .5.1.6.3l.1.7V10c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-3V4h3c.3 0 .5.1.7.3.2.2.3.4.3.7v1.5ZM13 10V8h-2v2h2Zm0-3V5h-2v2h2Zm3 5 1 1-6.5 7L7 15.5l1.3-1 2.2 2.2L16 12Z" fill-rule="evenodd"/></svg>',"strike-through":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M15.6 8.5c-.5-.7-1-1.1-1.3-1.3-.6-.4-1.3-.6-2-.6-2.7 0-2.8 1.7-2.8 2.1 0 1.6 1.8 2 3.2 2.3 4.4.9 4.6 2.8 4.6 3.9 0 1.4-.7 4.1-5 4.1A6.2 6.2 0 0 1 7 16.4l1.5-1.1c.4.6 1.6 2 3.7 2 1.6 0 2.5-.4 3-1.2.4-.8.3-2-.8-2.6-.7-.4-1.6-.7-2.9-1-1-.2-3.9-.8-3.9-3.6C7.6 6 10.3 5 12.4 5c2.9 0 4.2 1.6 4.7 2.4l-1.5 1.1Z"/><path d="M5 11h14a1 1 0 0 1 0 2H5a1 1 0 0 1 0-2Z" fill-rule="nonzero"/></g></svg>',subscript:'<svg width="24" height="24"><path d="m10.4 10 4.6 4.6-1.4 1.4L9 11.4 4.4 16 3 14.6 7.6 10 3 5.4 4.4 4 9 8.6 13.6 4 15 5.4 10.4 10ZM21 19h-5v-1l1-.8 1.7-1.6c.3-.4.5-.8.5-1.2 0-.3 0-.6-.2-.7-.2-.2-.5-.3-.9-.3a2 2 0 0 0-.8.2l-.7.3-.4-1.1 1-.6 1.2-.2c.8 0 1.4.3 1.8.7.4.4.6.9.6 1.5s-.2 1.1-.5 1.6a8 8 0 0 1-1.3 1.3l-.6.6h2.6V19Z" fill-rule="nonzero"/></svg>',superscript:'<svg width="24" height="24"><path d="M15 9.4 10.4 14l4.6 4.6-1.4 1.4L9 15.4 4.4 20 3 18.6 7.6 14 3 9.4 4.4 8 9 12.6 13.6 8 15 9.4Zm5.9 1.6h-5v-1l1-.8 1.7-1.6c.3-.5.5-.9.5-1.3 0-.3 0-.5-.2-.7-.2-.2-.5-.3-.9-.3l-.8.2-.7.4-.4-1.2c.2-.2.5-.4 1-.5.3-.2.8-.2 1.2-.2.8 0 1.4.2 1.8.6.4.4.6 1 .6 1.6 0 .5-.2 1-.5 1.5l-1.3 1.4-.6.5h2.6V11Z" fill-rule="nonzero"/></svg>',"table-caption":'<svg width="24" height="24"><g fill-rule="nonzero"><rect width="12" height="2" x="3" y="4" rx="1"/><path d="M19 8a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-8c0-1.1.9-2 2-2h14ZM5 15v3h6v-3H5Zm14 0h-6v3h6v-3Zm0-5h-6v3h6v-3ZM5 13h6v-3H5v3Z"/></g></svg>',"table-cell-classes":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M13 4v9H3V6c0-1.1.9-2 2-2h8Zm-2 2H5v5h6V6Z"/><path fill-rule="nonzero" d="M13 4h6a2 2 0 0 1 2 2v7h-8v-2h6V6h-6V4Z" opacity=".2"/><path d="m18 20-2.6 1.6.7-3-2.4-2 3.1-.2 1.2-2.9 1.2 2.9 3.1.2-2.4 2 .7 3z"/><path fill-rule="nonzero" d="M3 13v5c0 1.1.9 2 2 2h8v-7h-2v5H5v-5H3Z" opacity=".2"/></g></svg>',"table-cell-properties":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9H5v5h6v-5Zm8 0h-6v5h6v-5Zm-8-7H5v5h6V6Z"/></svg>',"table-cell-select-all":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v12h14V6Z"/><path d="M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2Z" opacity=".2"/></g></svg>',"table-cell-select-inner":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v12h14V6Z" opacity=".2"/><path d="M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2Z"/></g></svg>',"table-classes":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v7h-8v7H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9H5v5h6v-5Zm8-7h-6v5h6V6Zm-8 0H5v5h6V6Z"/><path d="m18 20-2.6 1.6.7-3-2.4-2 3.1-.2 1.2-2.9 1.2 2.9 3.1.2-2.4 2 .7 3z"/></g></svg>',"table-delete-column":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-4 4h-2V6h-2v2H9V6H5v12h4v-2h2v2h2v-2h2v2h4V6h-4v2Zm.3.5 1 1.2-3 2.3 3 2.3-1 1.2L12 13l-3.3 2.6-1-1.2 3-2.3-3-2.3 1-1.2L12 11l3.3-2.5Z"/></svg>',"table-delete-row":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v3h2.5v2H5v2h2.5v2H5v3h14v-3h-2.5v-2H19v-2h-2.5V9H19V6Zm-4.7 1.8 1.2 1L13 12l2.6 3.3-1.2 1-2.3-3-2.3 3-1.2-1L11 12 8.5 8.7l1.2-1 2.3 3 2.3-3Z"/></svg>',"table-delete-table":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 6v12h14V6H5Z"/><path d="m14.4 8.6 1.1 1-2.4 2.4 2.4 2.4-1.1 1.1-2.4-2.4-2.4 2.4-1-1.1 2.3-2.4-2.3-2.4 1-1 2.4 2.3z"/></g></svg>',"table-insert-column-after":'<svg width="24" height="24"><path fill-rule="nonzero" d="M20 4c.6 0 1 .4 1 1v2a1 1 0 0 1-2 0V6h-8v12h8v-1a1 1 0 0 1 2 0v2c0 .5-.4 1-.9 1H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h15ZM9 13H5v5h4v-5Zm7-5c.5 0 1 .4 1 .9V11h2a1 1 0 0 1 .1 2H17v2a1 1 0 0 1-2 .1V13h-2a1 1 0 0 1-.1-2H15V9c0-.6.4-1 1-1ZM9 6H5v5h4V6Z"/></svg>',"table-insert-column-before":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H4a1 1 0 0 1-1-1v-2a1 1 0 0 1 2 0v1h8V6H5v1a1 1 0 1 1-2 0V5c0-.6.4-1 1-1h15Zm0 9h-4v5h4v-5ZM8 8c.5 0 1 .4 1 .9V11h2a1 1 0 0 1 .1 2H9v2a1 1 0 0 1-2 .1V13H5a1 1 0 0 1-.1-2H7V9c0-.6.4-1 1-1Zm11-2h-4v5h4V6Z"/></svg>',"table-insert-row-above":'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4a1 1 0 1 1 0 2H5v6h14V6h-1a1 1 0 0 1 0-2h2c.6 0 1 .4 1 1v13a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5c0-.6.4-1 1-1h2Zm5 10H5v4h6v-4Zm8 0h-6v4h6v-4ZM12 3c.5 0 1 .4 1 .9V6h2a1 1 0 0 1 0 2h-2v2a1 1 0 0 1-2 .1V8H9a1 1 0 0 1 0-2h2V4c0-.6.4-1 1-1Z"/></svg>',"table-insert-row-after":'<svg width="24" height="24"><path fill-rule="nonzero" d="M12 13c.5 0 1 .4 1 .9V16h2a1 1 0 0 1 .1 2H13v2a1 1 0 0 1-2 .1V18H9a1 1 0 0 1-.1-2H11v-2c0-.6.4-1 1-1Zm6 7a1 1 0 0 1 0-2h1v-6H5v6h1a1 1 0 0 1 0 2H4a1 1 0 0 1-1-1V6c0-1.1.9-2 2-2h14a2 2 0 0 1 2 2v13c0 .5-.4 1-.9 1H18ZM11 6H5v4h6V6Zm8 0h-6v4h6V6Z"/></svg>',"table-left-header":'<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 9h-4v5h4v-5Zm-6 0H9v5h4v-5Zm0-7H9v5h4V6Zm6 0h-4v5h4V6Z"/></svg>',"table-merge-cells":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 15.5V18h3v-2.5H5Zm14-5h-9V18h9v-7.5ZM19 6h-4v2.5h4V6ZM8 6H5v2.5h3V6Zm5 0h-3v2.5h3V6Zm-8 7.5h3v-3H5v3Z"/></svg>',"table-row-numbering-rtl":'<svg width="24" height="24"><path d="M6 4a2 2 0 0 0-2 2v13c0 1.1.9 2 2 2h12a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2H6Zm0 12h8v3H6v-3Zm11 0c.6 0 1 .4 1 1v1a1 1 0 0 1-2 0v-1c0-.6.4-1 1-1ZM6 11h8v3H6v-3Zm11 0c.6 0 1 .4 1 1v1a1 1 0 0 1-2 0v-1c0-.6.4-1 1-1ZM6 6h8v3H6V6Zm11 0c.6 0 1 .4 1 1v1a1 1 0 1 1-2 0V7c0-.6.4-1 1-1Z"/></svg>',"table-row-numbering":'<svg width="24" height="24"><path d="M18 4a2 2 0 0 1 2 2v13a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h12Zm0 12h-8v3h8v-3ZM7 16a1 1 0 0 0-1 1v1a1 1 0 0 0 2 0v-1c0-.6-.4-1-1-1Zm11-5h-8v3h8v-3ZM7 11a1 1 0 0 0-1 1v1a1 1 0 0 0 2 0v-1c0-.6-.4-1-1-1Zm11-5h-8v3h8V6ZM7 6a1 1 0 0 0-1 1v1a1 1 0 1 0 2 0V7c0-.6-.4-1-1-1Z"/></svg>',"table-row-properties":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 15v3h6v-3H5Zm14 0h-6v3h6v-3Zm0-9h-6v3h6V6ZM5 9h6V6H5v3Z"/></svg>',"table-split-cells":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM8 15.5H5V18h3v-2.5Zm11-5h-9V18h9v-7.5Zm-2.5 1 1 1-2 2 2 2-1 1-2-2-2 2-1-1 2-2-2-2 1-1 2 2 2-2Zm-8.5-1H5v3h3v-3ZM19 6h-4v2.5h4V6ZM8 6H5v2.5h3V6Zm5 0h-3v2.5h3V6Z"/></svg>',"table-top-header":'<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 11H5v3h6v-3Zm8 0h-6v3h6v-3Zm0-5h-6v3h6v-3ZM5 13h6v-3H5v3Z"/></svg>',table:'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 14v4h6v-4H5Zm14 0h-6v4h6v-4Zm0-6h-6v4h6V8ZM5 12h6V8H5v4Z"/></svg>',"template-add":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M9 12v4H5a2 2 0 0 0-2 2v3h9.3a6 6 0 0 1-.3-2H5v-1h7a6 6 0 0 1 .8-2H11v-5l-.8-.6a3 3 0 1 1 3.6 0l-.8.6v4.7a6 6 0 0 1 2-1.9V12a5 5 0 1 0-6 0Z"/><path d="M18 15c.5 0 1 .4 1 .9V18h2a1 1 0 0 1 .1 2H19v2a1 1 0 0 1-2 .1V20h-2a1 1 0 0 1-.1-2H17v-2c0-.6.4-1 1-1Z"/></svg>',template:'<svg width="24" height="24"><path d="M19 19v-1H5v1h14ZM9 16v-4a5 5 0 1 1 6 0v4h4a2 2 0 0 1 2 2v3H3v-3c0-1.1.9-2 2-2h4Zm4 0v-5l.8-.6a3 3 0 1 0-3.6 0l.8.6v5h2Z" fill-rule="nonzero"/></svg>',"temporary-placeholder":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M9 7.6V6h2.5V4.5a.5.5 0 1 1 1 0V6H15v1.6a8 8 0 1 1-6 0Zm-2.6 5.3a.5.5 0 0 0 .3.6c.3 0 .6 0 .6-.3l.1-.2a5 5 0 0 1 3.3-2.8c.3-.1.4-.4.4-.6-.1-.3-.4-.5-.6-.4a6 6 0 0 0-4.1 3.7Z"/><circle cx="14" cy="4" r="1"/><circle cx="12" cy="2" r="1"/><circle cx="10" cy="4" r="1"/></g></svg>',"text-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path class="tox-icon-text-color__color" d="M3 18h18v3H3z"/><path d="M8.7 16h-.8a.5.5 0 0 1-.5-.6l2.7-9c.1-.3.3-.4.5-.4h2.8c.2 0 .4.1.5.4l2.7 9a.5.5 0 0 1-.5.6h-.8a.5.5 0 0 1-.4-.4l-.7-2.2c0-.3-.3-.4-.5-.4h-3.4c-.2 0-.4.1-.5.4l-.7 2.2c0 .3-.2.4-.4.4Zm2.6-7.6-.6 2a.5.5 0 0 0 .5.6h1.6a.5.5 0 0 0 .5-.6l-.6-2c0-.3-.3-.4-.5-.4h-.4c-.2 0-.4.1-.5.4Z"/></g></svg>',"text-size-decrease":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M14 5a1 1 0 1 1 0 2h-4v11a1 1 0 1 1-2 0V7H4a1 1 0 0 1 0-2h10ZM14 12a1 1 0 1 0 0 2h6a1 1 0 1 0 0-2h-6Z"/></svg>',"text-size-increase":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M14 5a1 1 0 1 1 0 2h-4v11a1 1 0 1 1-2 0V7H4a1 1 0 0 1 0-2h10ZM17 9a1 1 0 0 0-1 1v2h-2a1 1 0 1 0 0 2h2v2a1 1 0 1 0 2 0v-2h2a1 1 0 1 0 0-2h-2v-2c0-.6-.4-1-1-1Z"/></svg>',toc:'<svg width="24" height="24"><path d="M5 5c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 1 1 0-2Zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 1 1 0-2Zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm0-4c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 1 1 0-2Zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',translate:'<svg width="24" height="24"><path d="m12.7 14.3-.3.7-.4.7-2.2-2.2-3.1 3c-.3.4-.8.4-1 0a.7.7 0 0 1 0-1l3.1-3A12.4 12.4 0 0 1 6.7 9H8a10.1 10.1 0 0 0 1.7 2.4c.5-.5 1-1.1 1.4-1.8l.9-2H4.7a.7.7 0 1 1 0-1.5h4.4v-.7c0-.4.3-.8.7-.8.4 0 .7.4.7.8v.7H15c.4 0 .8.3.8.7 0 .4-.4.8-.8.8h-1.4a12.3 12.3 0 0 1-1 2.4 13.5 13.5 0 0 1-1.7 2.3l1.9 1.8Zm4.3-3 2.7 7.3a.5.5 0 0 1-.4.7 1 1 0 0 1-1-.7l-.6-1.5h-3.4l-.6 1.5a1 1 0 0 1-1 .7.5.5 0 0 1-.4-.7l2.7-7.4a1 1 0 0 1 2 0Zm-2.2 4.4h2.4L16 12.5l-1.2 3.2Z" fill-rule="evenodd"/></svg>',typography:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M17 5a1 1 0 1 1 0 2h-4v11a1 1 0 1 1-2 0V7H7a1 1 0 0 1 0-2h10Z"/><path d="m17.5 14 .8-1.7 1.7-.8-1.7-.8-.8-1.7-.8 1.7-1.7.8 1.7.8.8 1.7ZM7 14l1 2 2 1-2 1-1 2-1-2-2-1 2-1 1-2Z"/></svg>',underline:'<svg width="24" height="24"><path d="M16 5c.6 0 1 .4 1 1v5.5a4 4 0 0 1-.4 1.8l-1 1.4a5.3 5.3 0 0 1-5.5 1 5 5 0 0 1-1.6-1c-.5-.4-.8-.9-1.1-1.4a4 4 0 0 1-.4-1.8V6c0-.6.4-1 1-1s1 .4 1 1v5.5c0 .3 0 .6.2 1l.6.7a3.3 3.3 0 0 0 2.2.8 3.4 3.4 0 0 0 2.2-.8c.3-.2.4-.5.6-.8l.2-.9V6c0-.6.4-1 1-1ZM8 17h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',undo:'<svg width="24" height="24"><path d="M6.4 8H12c3.7 0 6.2 2 6.8 5.1.6 2.7-.4 5.6-2.3 6.8a1 1 0 0 1-1-1.8c1.1-.6 1.8-2.7 1.4-4.6-.5-2.1-2.1-3.5-4.9-3.5H6.4l3.3 3.3a1 1 0 1 1-1.4 1.4l-5-5a1 1 0 0 1 0-1.4l5-5a1 1 0 0 1 1.4 1.4L6.4 8Z" fill-rule="nonzero"/></svg>',unlink:'<svg width="24" height="24"><path d="M6.2 12.3a1 1 0 0 1 1.4 1.4l-2 2a2 2 0 1 0 2.6 2.8l4.8-4.8a1 1 0 0 0 0-1.4 1 1 0 1 1 1.4-1.3 2.9 2.9 0 0 1 0 4L9.6 20a3.9 3.9 0 0 1-5.5-5.5l2-2Zm11.6-.6a1 1 0 0 1-1.4-1.4l2.1-2a2 2 0 1 0-2.7-2.8L11 10.3a1 1 0 0 0 0 1.4A1 1 0 1 1 9.6 13a2.9 2.9 0 0 1 0-4L14.4 4a3.9 3.9 0 0 1 5.5 5.5l-2 2ZM7.6 6.3a.8.8 0 0 1-1 1.1L3.3 4.2a.7.7 0 1 1 1-1l3.2 3.1ZM5.1 8.6a.8.8 0 0 1 0 1.5H3a.8.8 0 0 1 0-1.5H5Zm5-3.5a.8.8 0 0 1-1.5 0V3a.8.8 0 0 1 1.5 0V5Zm6 11.8a.8.8 0 0 1 1-1l3.2 3.2a.8.8 0 0 1-1 1L16 17Zm-2.2 2a.8.8 0 0 1 1.5 0V21a.8.8 0 0 1-1.5 0V19Zm5-3.5a.7.7 0 1 1 0-1.5H21a.8.8 0 0 1 0 1.5H19Z" fill-rule="nonzero"/></svg>',unlock:'<svg width="24" height="24"><path d="M16 5c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h-2V8a1 1 0 0 0-.3-.7A1 1 0 0 0 16 7h-2a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7v3h.3c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H4.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H11V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2Z" fill-rule="evenodd"/></svg>',"unordered-list":'<svg width="24" height="24"><path d="M11 5h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2ZM4.5 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Z" fill-rule="evenodd"/></svg>',unselected:'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2Zm0 1a1 1 0 0 0-1 1v12c0 .6.4 1 1 1h12c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H6Z"/></svg>',upload:'<svg width="24" height="24"><path d="M18 19v-2a1 1 0 0 1 2 0v3c0 .6-.4 1-1 1H5a1 1 0 0 1-1-1v-3a1 1 0 0 1 2 0v2h12ZM11 6.4 8.7 8.7a1 1 0 0 1-1.4-1.4l4-4a1 1 0 0 1 1.4 0l4 4a1 1 0 1 1-1.4 1.4L13 6.4V16a1 1 0 0 1-2 0V6.4Z" fill-rule="nonzero"/></svg>',user:'<svg width="24" height="24"><path d="M12 24a12 12 0 1 1 0-24 12 12 0 0 1 0 24Zm-8.7-5.3a11 11 0 0 0 17.4 0C19.4 16.3 14.6 15 12 15c-2.6 0-7.4 1.3-8.7 3.7ZM12 13c2.2 0 4-2 4-4.5S14.2 4 12 4 8 6 8 8.5 9.8 13 12 13Z" fill-rule="nonzero"/></svg>',"vertical-align":'<svg width="24" height="24"><g fill-rule="nonzero"><rect width="18" height="2" x="3" y="11" rx="1"/><path d="M12 2c.6 0 1 .4 1 1v4l2-1.3a1 1 0 0 1 1.2 1.5l-.1.1-4.1 3-4-3a1 1 0 0 1 1-1.7l2 1.5V3c0-.6.4-1 1-1zm0 11.8 4 2.9a1 1 0 0 1-1 1.7l-2-1.5V21c0 .5-.4 1-.9 1H12a1 1 0 0 1-1-1v-4l-2 1.3a1 1 0 0 1-1.2-.1l-.1-.1a1 1 0 0 1 .1-1.3l.1-.1 4.1-3z"/></g></svg>',visualblocks:'<svg width="24" height="24"><path d="M9 19v2H7v-2h2Zm-4 0v2a2 2 0 0 1-2-2h2Zm8 0v2h-2v-2h2Zm8 0a2 2 0 0 1-2 2v-2h2Zm-4 0v2h-2v-2h2ZM15 7a1 1 0 0 1 0 2v7a1 1 0 0 1-2 0V9h-1v7a1 1 0 0 1-2 0v-4a2.5 2.5 0 0 1-.2-5H15ZM5 15v2H3v-2h2Zm16 0v2h-2v-2h2ZM5 11v2H3v-2h2Zm16 0v2h-2v-2h2ZM5 7v2H3V7h2Zm16 0v2h-2V7h2ZM5 3v2H3c0-1.1.9-2 2-2Zm8 0v2h-2V3h2Zm6 0a2 2 0 0 1 2 2h-2V3ZM9 3v2H7V3h2Zm8 0v2h-2V3h2Z" fill-rule="evenodd"/></svg>',visualchars:'<svg width="24" height="24"><path d="M10 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 6.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L10 5Z" fill-rule="evenodd"/></svg>',warning:'<svg width="24" height="24"><path d="M19.8 18.3c.2.5.3.9 0 1.2-.1.3-.5.5-1 .5H5.2c-.5 0-.9-.2-1-.5-.3-.3-.2-.7 0-1.2L11 4.7l.5-.5.5-.2c.2 0 .3 0 .5.2.2 0 .3.3.5.5l6.8 13.6ZM12 18c.3 0 .5-.1.7-.3.2-.2.3-.4.3-.7a1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3 1 1 0 0 0-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3Zm.7-3 .3-4a1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3 1 1 0 0 0-.3.7l.3 4h1.4Z" fill-rule="evenodd"/></svg>',"zoom-in":'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Zm-1-9a1 1 0 0 1 2 0v6a1 1 0 0 1-2 0V8Zm-2 4a1 1 0 0 1 0-2h6a1 1 0 0 1 0 2H8Z" fill-rule="nonzero"/></svg>',"zoom-out":'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Zm-3-5a1 1 0 0 1 0-2h6a1 1 0 0 1 0 2H8Z" fill-rule="nonzero"/></svg>'}});(function(){const t=Object.getPrototypeOf,r=(s,l,d)=>{var f;return!!d(s,l.prototype)||((f=s.constructor)===null||f===void 0?void 0:f.name)===l.name},i=s=>l=>(d=>{const f=typeof d;return d===null?"null":f==="object"&&Array.isArray(d)?"array":f==="object"&&r(d,String,(b,v)=>v.isPrototypeOf(b))?"string":f})(l)===s,u=s=>l=>typeof l===s,g=s=>l=>s===l,h=i("string"),x=i("object"),C=s=>((l,d)=>x(l)&&r(l,d,(f,b)=>t(f)===b))(s,Object),D=i("array"),I=g(null),O=u("boolean"),B=g(void 0),V=s=>s==null,z=s=>!V(s),Z=u("function"),ee=u("number"),ie=(s,l)=>{if(D(s)){for(let d=0,f=s.length;d<f;++d)if(!l(s[d]))return!1;return!0}return!1},W=()=>{},he=s=>()=>s(),ue=(s,l)=>(...d)=>s(l.apply(null,d)),j=s=>()=>s,de=s=>s,te=(s,l)=>s===l;function ze(s,...l){return(...d)=>{const f=l.concat(d);return s.apply(null,f)}}const Fe=s=>l=>!s(l),Je=s=>()=>{throw new Error(s)},rt=s=>s(),we=j(!1),_e=j(!0);class R{constructor(l,d){this.tag=l,this.value=d}static some(l){return new R(!0,l)}static none(){return R.singletonNone}fold(l,d){return this.tag?d(this.value):l()}isSome(){return this.tag}isNone(){return!this.tag}map(l){return this.tag?R.some(l(this.value)):R.none()}bind(l){return this.tag?l(this.value):R.none()}exists(l){return this.tag&&l(this.value)}forall(l){return!this.tag||l(this.value)}filter(l){return!this.tag||l(this.value)?this:R.none()}getOr(l){return this.tag?this.value:l}or(l){return this.tag?this:l}getOrThunk(l){return this.tag?this.value:l()}orThunk(l){return this.tag?this:l()}getOrDie(l){if(this.tag)return this.value;throw new Error(l??"Called getOrDie on None")}static from(l){return z(l)?R.some(l):R.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(l){this.tag&&l(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}R.singletonNone=new R(!1);const it=Array.prototype.slice,St=Array.prototype.indexOf,Ut=Array.prototype.push,sn=(s,l)=>St.call(s,l),dt=(s,l)=>sn(s,l)>-1,An=(s,l)=>{for(let d=0,f=s.length;d<f;d++)if(l(s[d],d))return!0;return!1},At=(s,l)=>{const d=[];for(let f=0;f<s;f++)d.push(l(f));return d},et=(s,l)=>{const d=[];for(let f=0;f<s.length;f+=l){const b=it.call(s,f,f+l);d.push(b)}return d},Me=(s,l)=>{const d=s.length,f=new Array(d);for(let b=0;b<d;b++){const v=s[b];f[b]=l(v,b)}return f},mt=(s,l)=>{for(let d=0,f=s.length;d<f;d++)l(s[d],d)},vo=(s,l)=>{const d=[],f=[];for(let b=0,v=s.length;b<v;b++){const w=s[b];(l(w,b)?d:f).push(w)}return{pass:d,fail:f}},Wt=(s,l)=>{const d=[];for(let f=0,b=s.length;f<b;f++){const v=s[f];l(v,f)&&d.push(v)}return d},In=(s,l,d)=>(((f,b)=>{for(let v=f.length-1;v>=0;v--)b(f[v],v)})(s,(f,b)=>{d=l(d,f,b)}),d),on=(s,l,d)=>(mt(s,(f,b)=>{d=l(d,f,b)}),d),J=(s,l)=>((d,f,b)=>{for(let v=0,w=d.length;v<w;v++){const k=d[v];if(f(k,v))return R.some(k);if(b(k,v))break}return R.none()})(s,l,we),mo=(s,l)=>{for(let d=0,f=s.length;d<f;d++)if(l(s[d],d))return R.some(d);return R.none()},Zt=s=>{const l=[];for(let d=0,f=s.length;d<f;++d){if(!D(s[d]))throw new Error("Arr.flatten item "+d+" was not an array, input: "+s);Ut.apply(l,s[d])}return l},vn=(s,l)=>Zt(Me(s,l)),je=(s,l)=>{for(let d=0,f=s.length;d<f;++d)if(l(s[d],d)!==!0)return!1;return!0},tt=s=>{const l=it.call(s,0);return l.reverse(),l},xe=(s,l)=>Wt(s,d=>!dt(l,d)),Re=(s,l)=>{const d={};for(let f=0,b=s.length;f<b;f++){const v=s[f];d[String(v)]=l(v,f)}return d},Ve=s=>[s],be=(s,l)=>{const d=it.call(s,0);return d.sort(l),d},Se=(s,l)=>l>=0&&l<s.length?R.some(s[l]):R.none(),Ne=s=>Se(s,0),Ge=s=>Se(s,s.length-1),ht=Z(Array.from)?Array.from:s=>it.call(s),ln=(s,l)=>{for(let d=0;d<s.length;d++){const f=l(s[d],d);if(f.isSome())return f}return R.none()},Kt=Object.keys,yn=Object.hasOwnProperty,Yn=(s,l)=>{const d=Kt(s);for(let f=0,b=d.length;f<b;f++){const v=d[f];l(s[v],v)}},to=(s,l)=>$o(s,(d,f)=>({k:f,v:l(d,f)})),$o=(s,l)=>{const d={};return Yn(s,(f,b)=>{const v=l(f,b);d[v.k]=v.v}),d},Do=s=>(l,d)=>{s[d]=l},Zs=(s,l,d,f)=>{Yn(s,(b,v)=>{(l(b,v)?d:f)(b,v)})},us=(s,l)=>{const d={};return Zs(s,l,Do(d),W),d},Qr=(s,l)=>{const d=[];return Yn(s,(f,b)=>{d.push(l(f,b))}),d},xs=(s,l)=>{const d=Kt(s);for(let f=0,b=d.length;f<b;f++){const v=d[f],w=s[v];if(l(w,v,s))return R.some(w)}return R.none()},ji=s=>Qr(s,de),Tn=(s,l)=>go(s,l)?R.from(s[l]):R.none(),go=(s,l)=>yn.call(s,l),Ro=(s,l)=>go(s,l)&&s[l]!==void 0&&s[l]!==null,ai=(s,l,d=te)=>s.exists(f=>d(f,l)),nl=s=>{const l=[],d=f=>{l.push(f)};for(let f=0;f<s.length;f++)s[f].each(d);return l},Jt=(s,l,d)=>s.isSome()&&l.isSome()?R.some(d(s.getOrDie(),l.getOrDie())):R.none(),pi=(s,l)=>s!=null?R.some(l(s)):R.none(),ds=(s,l)=>s?R.some(l):R.none(),jl=(s,l,d)=>l===""||s.length>=l.length&&s.substr(d,d+l.length)===l,Ws=(s,l)=>Rm(s,l)?((d,f)=>d.substring(f))(s,l.length):s,ei=(s,l,d=0,f)=>{const b=s.indexOf(l,d);return b!==-1&&(!!B(f)||b+l.length<=f)},Rm=(s,l)=>jl(s,l,0),ju=(s,l)=>jl(s,l,s.length-l.length),Ac=(Of=/^\s+|\s+$/g,s=>s.replace(Of,"")),wl=s=>s.length>0,Zu=s=>!wl(s),Ds=s=>s.style!==void 0&&Z(s.style.getPropertyValue),ho=s=>{if(s==null)throw new Error("Node cannot be null or undefined");return{dom:s}},Zl=(s,l)=>{const d=document.createElement("div");if(d.innerHTML=s,!d.hasChildNodes()||d.childNodes.length>1){const f="HTML does not have a single root node";throw console.error(f,s),new Error(f)}return ho(d.childNodes[0])},Ii=(s,l)=>{const d=document.createElement(s);return ho(d)},Gu=(s,l)=>{const d=document.createTextNode(s);return ho(d)},fn=ho,qu=typeof window<"u"?window:Function("return this;")(),Im=(s,l)=>((d,f)=>{let b=f??qu;for(let v=0;v<d.length&&b!=null;++v)b=b[d[v]];return b})(s.split("."),l),hr=Object.getPrototypeOf,Dm=s=>{const l=Im("ownerDocument.defaultView",s);return x(s)&&((d=>((f,b)=>{const v=((w,k)=>Im(w,k))(f,b);if(v==null)throw new Error(f+" not available on this browser");return v})("HTMLElement",d))(l).prototype.isPrototypeOf(s)||/^HTML\w*Element$/.test(hr(s).constructor.name))},ol=s=>s.dom.nodeName.toLowerCase(),Fl=s=>l=>(d=>d.dom.nodeType)(l)===s,Cl=s=>lr(s)&&Dm(s.dom),lr=Fl(1),Aa=Fl(3),$l=Fl(9),Pm=Fl(11),nu=s=>l=>lr(l)&&ol(l)===s,ou=(s,l)=>{const d=s.dom;if(d.nodeType!==1)return!1;{const f=d;if(f.matches!==void 0)return f.matches(l);if(f.msMatchesSelector!==void 0)return f.msMatchesSelector(l);if(f.webkitMatchesSelector!==void 0)return f.webkitMatchesSelector(l);if(f.mozMatchesSelector!==void 0)return f.mozMatchesSelector(l);throw new Error("Browser lacks native selectors")}},Sf=s=>s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11||s.childElementCount===0,Fd=(s,l)=>{const d=l===void 0?document:l.dom;return Sf(d)?R.none():R.from(d.querySelector(s)).map(fn)},fs=(s,l)=>s.dom===l.dom,Nr=(s,l)=>{const d=s.dom,f=l.dom;return d!==f&&d.contains(f)},li=s=>fn(s.dom.ownerDocument),Nm=s=>$l(s)?s:li(s),sl=s=>fn(Nm(s).dom.documentElement),su=s=>fn(Nm(s).dom.defaultView),Ta=s=>R.from(s.dom.parentNode).map(fn),Oa=s=>R.from(s.dom.parentElement).map(fn),ru=s=>R.from(s.dom.offsetParent).map(fn),Ms=s=>Me(s.dom.childNodes,fn),cr=(s,l)=>{const d=s.dom.childNodes;return R.from(d[l]).map(fn)},De=s=>cr(s,0),at=(s,l)=>({element:s,offset:l}),He=(s,l)=>{const d=Ms(s);return d.length>0&&l<d.length?at(d[l],0):at(s,l)},yt=s=>Pm(s)&&z(s.dom.host),pt=s=>fn(s.dom.getRootNode()),ot=s=>yt(s)?s:fn(Nm(s).dom.body),Yt=s=>{const l=pt(s);return yt(l)?R.some(l):R.none()},cn=s=>fn(s.dom.host),hn=s=>{const l=Aa(s)?s.dom.parentNode:s.dom;if(l==null||l.ownerDocument===null)return!1;const d=l.ownerDocument;return Yt(fn(l)).fold(()=>d.body.contains(l),(f=hn,b=cn,v=>f(b(v))));var f,b},Sn=()=>mn(fn(document)),mn=s=>{const l=s.dom.body;if(l==null)throw new Error("Body is not available yet");return fn(l)},So=(s,l,d)=>{if(!(h(d)||O(d)||ee(d)))throw console.error("Invalid call to Attribute.set. Key ",l,":: Value ",d,":: Element ",s),new Error("Attribute value was not simple");s.setAttribute(l,d+"")},dn=(s,l,d)=>{So(s.dom,l,d)},As=(s,l)=>{const d=s.dom;Yn(l,(f,b)=>{So(d,b,f)})},Zo=(s,l)=>{const d=s.dom.getAttribute(l);return d===null?void 0:d},es=(s,l)=>R.from(Zo(s,l)),Lr=(s,l)=>{const d=s.dom;return!(!d||!d.hasAttribute)&&d.hasAttribute(l)},Po=(s,l)=>{s.dom.removeAttribute(l)},Gl=(s,l,d)=>{if(!h(d))throw console.error("Invalid call to CSS.set. Property ",l,":: Value ",d,":: Element ",s),new Error("CSS value must be a string: "+d);Ds(s)&&s.style.setProperty(l,d)},Ra=(s,l)=>{Ds(s)&&s.style.removeProperty(l)},yo=(s,l,d)=>{const f=s.dom;Gl(f,l,d)},rl=(s,l)=>{const d=s.dom;Yn(l,(f,b)=>{Gl(d,b,f)})},_l=(s,l)=>{const d=s.dom;Yn(l,(f,b)=>{f.fold(()=>{Ra(d,b)},v=>{Gl(d,b,v)})})},Er=(s,l)=>{const d=s.dom,f=window.getComputedStyle(d).getPropertyValue(l);return f!==""||hn(s)?f:kf(d,l)},kf=(s,l)=>Ds(s)?s.style.getPropertyValue(l):"",ti=(s,l)=>{const d=s.dom,f=kf(d,l);return R.from(f).filter(b=>b.length>0)},Lm=s=>{const l={},d=s.dom;if(Ds(d))for(let f=0;f<d.style.length;f++){const b=d.style.item(f);l[b]=d.style[b]}return l},ql=(s,l,d)=>{const f=Ii(s);return yo(f,l,d),ti(f,l).isSome()},ks=(s,l)=>{const d=s.dom;Ra(d,l),ai(es(s,"style").map(Ac),"")&&Po(s,"style")},$d=s=>s.dom.offsetWidth,Yg=(s,l)=>{const d=b=>{const v=l(b);if(v<=0||v===null){const w=Er(b,s);return parseFloat(w)||0}return v},f=(b,v)=>on(v,(w,k)=>{const E=Er(b,k),P=E===void 0?0:parseInt(E,10);return isNaN(P)?w:w+P},0);return{set:(b,v)=>{if(!ee(v)&&!v.match(/^[0-9]+$/))throw new Error(s+".set accepts only positive integer values. Value was "+v);const w=b.dom;Ds(w)&&(w.style[s]=v+"px")},get:d,getOuter:d,aggregate:f,max:(b,v,w)=>{const k=f(b,w);return v>k?v-k:0}}},gp=Yg("height",s=>{const l=s.dom;return hn(s)?l.getBoundingClientRect().height:l.offsetHeight}),Ar=s=>gp.get(s),Tc=s=>gp.getOuter(s),Sl=(s,l)=>({left:s,top:l,translate:(d,f)=>Sl(s+d,l+f)}),tr=Sl,Mm=(s,l)=>s!==void 0?s:l!==void 0?l:0,Vl=s=>{const l=s.dom.ownerDocument,d=l.body,f=l.defaultView,b=l.documentElement;if(d===s.dom)return tr(d.offsetLeft,d.offsetTop);const v=Mm(f==null?void 0:f.pageYOffset,b.scrollTop),w=Mm(f==null?void 0:f.pageXOffset,b.scrollLeft),k=Mm(b.clientTop,d.clientTop),E=Mm(b.clientLeft,d.clientLeft);return la(s).translate(w-E,v-k)},la=s=>{const l=s.dom,d=l.ownerDocument.body;return d===l?tr(d.offsetLeft,d.offsetTop):hn(s)?(f=>{const b=f.getBoundingClientRect();return tr(b.left,b.top)})(l):tr(0,0)},Xg=Yg("width",s=>s.dom.offsetWidth),Di=s=>Xg.get(s),il=s=>Xg.getOuter(s),ca=s=>{let l,d=!1;return(...f)=>(d||(d=!0,l=s.apply(null,f)),l)},zl=()=>hp(0,0),hp=(s,l)=>({major:s,minor:l}),Uo={nu:hp,detect:(s,l)=>{const d=String(l).toLowerCase();return s.length===0?zl():((f,b)=>{const v=((k,E)=>{for(let P=0;P<k.length;P++){const F=k[P];if(F.test(E))return F}})(f,b);if(!v)return{major:0,minor:0};const w=k=>Number(b.replace(v,"$"+k));return hp(w(1),w(2))})(s,d)},unknown:zl},iu=(s,l)=>{const d=String(l).toLowerCase();return J(s,f=>f.search(d))},Vd=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,Yu=s=>l=>ei(l,s),Kb=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:s=>ei(s,"edge/")&&ei(s,"chrome")&&ei(s,"safari")&&ei(s,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,Vd],search:s=>ei(s,"chrome")&&!ei(s,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:s=>ei(s,"msie")||ei(s,"trident")},{name:"Opera",versionRegexes:[Vd,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:Yu("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:Yu("firefox")},{name:"Safari",versionRegexes:[Vd,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:s=>(ei(s,"safari")||ei(s,"mobile/"))&&ei(s,"applewebkit")}],_x=[{name:"Windows",search:Yu("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:s=>ei(s,"iphone")||ei(s,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:Yu("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:Yu("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:Yu("linux"),versionRegexes:[]},{name:"Solaris",search:Yu("sunos"),versionRegexes:[]},{name:"FreeBSD",search:Yu("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:Yu("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],l1={browsers:j(Kb),oses:j(_x)},c1="Edge",WC="Chromium",pp="Opera",u1="Firefox",nn="Safari",Ef=s=>{const l=s.current,d=s.version,f=b=>()=>l===b;return{current:l,version:d,isEdge:f(c1),isChromium:f(WC),isIE:f("IE"),isOpera:f(pp),isFirefox:f(u1),isSafari:f(nn)}},Af=()=>Ef({current:void 0,version:Uo.unknown()}),d1=Ef,ua="Windows",Tf="Android",Jg="Linux",Sx="macOS",kx="Solaris",jb="FreeBSD",Ex="ChromeOS",f1=s=>{const l=s.current,d=s.version,f=b=>()=>l===b;return{current:l,version:d,isWindows:f(ua),isiOS:f("iOS"),isAndroid:f(Tf),isMacOS:f(Sx),isLinux:f(Jg),isSolaris:f(kx),isFreeBSD:f(jb),isChromeOS:f(Ex)}},Ax=()=>f1({current:void 0,version:Uo.unknown()}),Qg=f1,m1=s=>window.matchMedia(s).matches;var Of;let Rf=ca(()=>((s,l,d)=>{const f=l1.browsers(),b=l1.oses(),v=l.bind(E=>((P,F)=>ln(F.brands,L=>{const H=L.brand.toLowerCase();return J(P,Y=>{var Q;return H===((Q=Y.brand)===null||Q===void 0?void 0:Q.toLowerCase())}).map(Y=>({current:Y.name,version:Uo.nu(parseInt(L.version,10),0)}))}))(f,E)).orThunk(()=>((E,P)=>iu(E,P).map(F=>{const L=Uo.detect(F.versionRegexes,P);return{current:F.name,version:L}}))(f,s)).fold(Af,d1),w=((E,P)=>iu(E,P).map(F=>{const L=Uo.detect(F.versionRegexes,P);return{current:F.name,version:L}}))(b,s).fold(Ax,Qg),k=((E,P,F,L)=>{const H=E.isiOS()&&/ipad/i.test(F)===!0,Y=E.isiOS()&&!H,Q=E.isiOS()||E.isAndroid(),fe=Q||L("(pointer:coarse)"),pe=H||!Y&&Q&&L("(min-device-width:768px)"),Ee=Y||Q&&!pe,ge=P.isSafari()&&E.isiOS()&&/safari/i.test(F)===!1,me=!Ee&&!pe&&!ge;return{isiPad:j(H),isiPhone:j(Y),isTablet:j(pe),isPhone:j(Ee),isTouch:j(fe),isAndroid:E.isAndroid,isiOS:E.isiOS,isWebView:j(ge),isDesktop:j(me)}})(w,v,s,d);return{browser:v,os:w,deviceType:k}})(window.navigator.userAgent,R.from(window.navigator.userAgentData),m1));const da=()=>Rf(),kl=s=>{const l=fn((v=>{if(z(v.target)){const w=fn(v.target);if(lr(w)&&(k=>z(k.dom.shadowRoot))(w)&&v.composed&&v.composedPath){const k=v.composedPath();if(k)return Ne(k)}}return R.from(v.target)})(s).getOr(s.target)),d=()=>s.stopPropagation(),f=()=>s.preventDefault(),b=ue(f,d);return((v,w,k,E,P,F,L)=>({target:v,x:w,y:k,stop:E,prevent:P,kill:F,raw:L}))(l,s.clientX,s.clientY,d,f,b,s)},eh=(s,l,d,f,b)=>{const v=((w,k)=>E=>{w(E)&&k(kl(E))})(d,f);return s.dom.addEventListener(l,v,b),{unbind:ze(ts,s,l,v,b)}},ts=(s,l,d,f)=>{s.dom.removeEventListener(l,d,f)},zd=(s,l)=>{Ta(s).each(d=>{d.dom.insertBefore(l.dom,s.dom)})},th=(s,l)=>{(f=>R.from(f.dom.nextSibling).map(fn))(s).fold(()=>{Ta(s).each(f=>{$a(f,l)})},f=>{zd(f,l)})},nh=(s,l)=>{De(s).fold(()=>{$a(s,l)},d=>{s.dom.insertBefore(l.dom,d.dom)})},$a=(s,l)=>{s.dom.appendChild(l.dom)},Vr=(s,l)=>{mt(l,d=>{$a(s,d)})},ur=s=>{s.dom.textContent="",mt(Ms(s),l=>{Zi(l)})},Zi=s=>{const l=s.dom;l.parentNode!==null&&l.parentNode.removeChild(l)},nr=s=>{const l=s!==void 0?s.dom:document,d=l.body.scrollLeft||l.documentElement.scrollLeft,f=l.body.scrollTop||l.documentElement.scrollTop;return tr(d,f)},If=(s,l,d)=>{const f=(d!==void 0?d.dom:document).defaultView;f&&f.scrollTo(s,l)},Bm=(s,l,d,f)=>({x:s,y:l,width:d,height:f,right:s+d,bottom:l+f}),_i=s=>{const l=s===void 0?window:s,d=l.document,f=nr(fn(d));return(b=>{const v=b===void 0?window:b;return da().browser.isFirefox()?R.none():R.from(v.visualViewport)})(l).fold(()=>{const b=l.document.documentElement,v=b.clientWidth,w=b.clientHeight;return Bm(f.left,f.top,v,w)},b=>Bm(Math.max(b.pageLeft,f.left),Math.max(b.pageTop,f.top),b.width,b.height))},Va=()=>fn(document),Ia=(s,l)=>s.view(l).fold(j([]),d=>{const f=s.owner(d),b=Ia(s,f);return[d].concat(b)});var au=Object.freeze({__proto__:null,view:s=>{var l;return(s.dom===document?R.none():R.from((l=s.dom.defaultView)===null||l===void 0?void 0:l.frameElement)).map(fn)},owner:s=>li(s)});const Hd=s=>{const l=Va(),d=nr(l);return((b,v)=>{const w=v.owner(b),k=Ia(v,w);return R.some(k)})(s,au).fold(ze(Vl,s),b=>{const v=la(s),w=In(b,(k,E)=>{const P=la(E);return{left:k.left+P.left,top:k.top+P.top}},{left:0,top:0});return tr(w.left+v.left+d.left,w.top+v.top+d.top)})},Mo=(s,l,d,f)=>({x:s,y:l,width:d,height:f,right:s+d,bottom:l+f}),ci=s=>{const l=Vl(s),d=il(s),f=Tc(s);return Mo(l.left,l.top,d,f)},El=s=>{const l=Hd(s),d=il(s),f=Tc(s);return Mo(l.left,l.top,d,f)},Ud=(s,l)=>{const d=Math.max(s.x,l.x),f=Math.max(s.y,l.y),b=Math.min(s.right,l.right),v=Math.min(s.bottom,l.bottom);return Mo(d,f,b-d,v-f)},Gi=()=>_i(window),Un=s=>{let l=s;return{get:()=>l,set:d=>{l=d}}},Oc=s=>{const l=Un(R.none()),d=()=>l.get().each(s);return{clear:()=>{d(),l.set(R.none())},isSet:()=>l.get().isSome(),get:()=>l.get(),set:f=>{d(),l.set(R.some(f))}}},Rc=()=>Oc(s=>s.unbind()),Ts=()=>{const s=Oc(W);return{...s,on:l=>s.get().each(l)}};var bp=tinymce.util.Tools.resolve("tinymce.ThemeManager");const Zb=s=>{const l=v=>v(s),d=j(s),f=()=>b,b={tag:!0,inner:s,fold:(v,w)=>w(s),isValue:_e,isError:we,map:v=>Wo.value(v(s)),mapError:f,bind:l,exists:l,forall:l,getOr:d,or:f,getOrThunk:d,orThunk:f,getOrDie:d,each:v=>{v(s)},toOptional:()=>R.some(s)};return b},Wd=s=>{const l=()=>d,d={tag:!1,inner:s,fold:(f,b)=>f(s),isValue:we,isError:_e,map:l,mapError:f=>Wo.error(f(s)),bind:l,exists:we,forall:_e,getOr:de,or:de,getOrThunk:rt,orThunk:rt,getOrDie:Je(String(s)),each:W,toOptional:R.none};return d},Wo={value:Zb,error:Wd,fromOption:(s,l)=>s.fold(()=>Wd(l),Zb)};var za;(function(s){s[s.Error=0]="Error",s[s.Value=1]="Value"})(za||(za={}));const vp=(s,l,d)=>s.stype===za.Error?l(s.serror):d(s.svalue),Kd=s=>({stype:za.Value,svalue:s}),Gb=s=>({stype:za.Error,serror:s}),lu=Kd,al=Gb,cu=vp,Df=(s,l,d,f)=>({tag:"field",key:s,newKey:l,presence:d,prop:f}),Ke=(s,l,d)=>{switch(s.tag){case"field":return l(s.key,s.newKey,s.presence,s.prop);case"custom":return d(s.newKey,s.instantiator)}},Fm=s=>(...l)=>{if(l.length===0)throw new Error("Can't merge zero objects");const d={};for(let f=0;f<l.length;f++){const b=l[f];for(const v in b)go(b,v)&&(d[v]=s(d[v],b[v]))}return d},Bs=Fm((s,l)=>C(s)&&C(l)?Bs(s,l):l),qb=Fm((s,l)=>l),oh=s=>({tag:"defaultedThunk",process:s}),uu=s=>oh(j(s)),ns=s=>({tag:"mergeWithThunk",process:s}),fa=s=>{const l=(f=>{const b=[],v=[];return mt(f,w=>{vp(w,k=>v.push(k),k=>b.push(k))}),{values:b,errors:v}})(s);return l.errors.length>0?(d=l.errors,ue(al,Zt)(d)):lu(l.values);var d},Xu=s=>x(s)&&Kt(s).length>100?" removed due to size":JSON.stringify(s,null,2),ac=(s,l)=>al([{path:s,getErrorInfo:l}]),Ju=s=>({extract:(l,d)=>((f,b)=>f.stype===za.Error?b(f.serror):f)(s(d),f=>((b,v)=>ac(b,j(v)))(l,f)),toString:j("val")}),Qu=Ju(lu),ma=(s,l,d,f)=>f(Tn(s,l).getOrThunk(()=>d(s))),Pf=(s,l,d,f,b)=>{const v=k=>b.extract(l.concat([f]),k),w=k=>k.fold(()=>lu(R.none()),E=>((P,F)=>P.stype===za.Value?{stype:za.Value,svalue:F(P.svalue)}:P)(b.extract(l.concat([f]),E),R.some));switch(s.tag){case"required":return((k,E,P,F)=>Tn(E,P).fold(()=>((L,H,Y)=>ac(L,()=>'Could not find valid *required* value for "'+H+'" in '+Xu(Y)))(k,P,E),F))(l,d,f,v);case"defaultedThunk":return ma(d,f,s.process,v);case"option":return((k,E,P)=>P(Tn(k,E)))(d,f,w);case"defaultedOptionThunk":return((k,E,P,F)=>F(Tn(k,E).map(L=>L===!0?P(k):L)))(d,f,s.process,w);case"mergeWithThunk":return ma(d,f,j({}),k=>{const E=Bs(s.process(d),k);return v(E)})}},$m=s=>({extract:(l,d)=>s().extract(l,d),toString:()=>s().toString()}),Yb=s=>Kt(us(s,z)),Si=s=>{const l=qn(s),d=In(s,(f,b)=>Ke(b,v=>Bs(f,{[v]:!0}),j(f)),{});return{extract:(f,b)=>{const v=O(b)?[]:Yb(b),w=Wt(v,k=>!Ro(d,k));return w.length===0?l.extract(f,b):((k,E)=>ac(k,()=>"There are unsupported fields: ["+E.join(", ")+"] specified"))(f,w)},toString:l.toString}},qn=s=>({extract:(l,d)=>((f,b,v)=>{const w={},k=[];for(const E of v)Ke(E,(P,F,L,H)=>{const Y=Pf(L,f,b,P,H);cu(Y,Q=>{k.push(...Q)},Q=>{w[F]=Q})},(P,F)=>{w[P]=F(b)});return k.length>0?al(k):lu(w)})(l,d,s),toString:()=>`obj{
`+Me(s,d=>Ke(d,(f,b,v,w)=>f+" -> "+w.toString(),(f,b)=>"state("+f+")")).join(`
`)+"}"}),ed=s=>({extract:(l,d)=>{const f=Me(d,(b,v)=>s.extract(l.concat(["["+v+"]"]),b));return fa(f)},toString:()=>"array("+s.toString()+")"}),Vm=(s,l)=>{const d=l!==void 0?l:de;return{extract:(f,b)=>{const v=[];for(const w of s){const k=w.extract(f,b);if(k.stype===za.Value)return{stype:za.Value,svalue:d(k.svalue)};v.push(k)}return fa(v)},toString:()=>"oneOf("+Me(s,f=>f.toString()).join(", ")+")"}},ga=(s,l)=>({extract:(d,f)=>{const b=Kt(f),v=((w,k)=>ed(Ju(s)).extract(w,k))(d,b);return((w,k)=>w.stype===za.Value?k(w.svalue):w)(v,w=>{const k=Me(w,E=>Df(E,E,{tag:"required",process:{}},l));return qn(k).extract(d,f)})},toString:()=>"setOf("+l.toString()+")"}),td=ue(ed,qn),Hl=j(Qu),nd=(s,l)=>Ju(d=>{const f=typeof d;return s(d)?lu(d):al(`Expected type: ${l} but got: ${f}`)}),jd=nd(ee,"number"),ki=nd(h,"string"),lc=nd(O,"boolean"),du=nd(Z,"function"),zm=s=>{if(Object(s)!==s)return!0;switch({}.toString.call(s).slice(8,-1)){case"Boolean":case"Number":case"String":case"Date":case"RegExp":case"Blob":case"FileList":case"ImageData":case"ImageBitmap":case"ArrayBuffer":return!0;case"Array":case"Object":return Object.keys(s).every(l=>zm(s[l]));default:return!1}},g1=Ju(s=>zm(s)?lu(s):al("Expected value to be acceptable for sending via postMessage")),od=(s,l)=>({extract:(d,f)=>Tn(f,s).fold(()=>((b,v)=>ac(b,()=>'Choice schema did not contain choice key: "'+v+'"'))(d,s),b=>((v,w,k,E)=>Tn(k,E).fold(()=>((P,F,L)=>ac(P,()=>'The chosen schema: "'+L+'" did not exist in branches: '+Xu(F)))(v,k,E),P=>P.extract(v.concat(["branch: "+E]),w)))(d,f,l,b)),toString:()=>"chooseOn("+s+"). Possible values: "+Kt(l)}),Nf=s=>Ju(l=>s(l).fold(al,lu)),Xb=(s,l)=>ga(d=>s(d).fold(Gb,Kd),l),wr=(s,l,d)=>{return f=((b,v,w)=>((k,E)=>k.stype===za.Error?{stype:za.Error,serror:E(k.serror)}:k)(v.extract([b],w),k=>({input:w,errors:k})))(s,l,d),vp(f,Wo.error,Wo.value);var f},Ha=s=>s.fold(l=>{throw new Error(ll(l))},de),Da=(s,l,d)=>Ha(wr(s,l,d)),ll=s=>`Errors: 
`+(l=>{const d=l.length>10?l.slice(0,10).concat([{path:[],getErrorInfo:j("... (only showing first ten failures)")}]):l;return Me(d,f=>"Failed path: ("+f.path.join(" > ")+`)
`+f.getErrorInfo())})(s.errors).join(`
`)+`

Input object: `+Xu(s.input),bi=(s,l)=>od(s,to(l,qn)),yp=(s,l)=>((d,f)=>{const b=ca(f);return{extract:(v,w)=>b().extract(v,w),toString:()=>b().toString()}})(0,l),ui=Df,qi=(s,l)=>({tag:"custom",newKey:s,instantiator:l}),fu=s=>Nf(l=>dt(s,l)?Wo.value(l):Wo.error(`Unsupported value: "${l}", choose one of "${s.join(", ")}".`)),Bt=s=>ui(s,s,{tag:"required",process:{}},Hl()),Yi=(s,l)=>ui(s,s,{tag:"required",process:{}},l),xp=s=>Yi(s,jd),Cr=s=>Yi(s,ki),sd=(s,l)=>ui(s,s,{tag:"required",process:{}},fu(l)),Ua=s=>Yi(s,du),Ic=(s,l)=>ui(s,s,{tag:"required",process:{}},qn(l)),Hm=(s,l)=>ui(s,s,{tag:"required",process:{}},td(l)),cl=(s,l)=>ui(s,s,{tag:"required",process:{}},ed(l)),Xo=s=>ui(s,s,{tag:"option",process:{}},Hl()),zr=(s,l)=>ui(s,s,{tag:"option",process:{}},l),Lf=s=>zr(s,jd),Mr=s=>zr(s,ki),sh=(s,l)=>zr(s,fu(l)),mu=s=>zr(s,du),h1=(s,l)=>zr(s,ed(l)),Tr=(s,l)=>zr(s,qn(l)),ut=(s,l)=>ui(s,s,uu(l),Hl()),Wa=(s,l,d)=>ui(s,s,uu(l),d),Hr=(s,l)=>Wa(s,l,jd),Yl=(s,l)=>Wa(s,l,ki),Dc=(s,l,d)=>Wa(s,l,fu(d)),ni=(s,l)=>Wa(s,l,lc),or=(s,l)=>Wa(s,l,du),Ps=(s,l,d)=>Wa(s,l,ed(d)),Ka=(s,l,d)=>Wa(s,l,qn(d)),Xl=s=>{if(!D(s))throw new Error("cases must be an array");if(s.length===0)throw new Error("there must be at least one case");const l=[],d={};return mt(s,(f,b)=>{const v=Kt(f);if(v.length!==1)throw new Error("one and only one name per case");const w=v[0],k=f[w];if(d[w]!==void 0)throw new Error("duplicate key detected:"+w);if(w==="cata")throw new Error("cannot have a case named cata (sorry)");if(!D(k))throw new Error("case arguments must be an array");l.push(w),d[w]=(...E)=>{const P=E.length;if(P!==k.length)throw new Error("Wrong number of arguments to case "+w+". Expected "+k.length+" ("+k+"), got "+P);return{fold:(...F)=>{if(F.length!==s.length)throw new Error("Wrong number of arguments to fold. Expected "+s.length+", got "+F.length);return F[b].apply(null,E)},match:F=>{const L=Kt(F);if(l.length!==L.length)throw new Error("Wrong number of arguments to match. Expected: "+l.join(",")+`
Actual: `+L.join(","));if(!je(l,H=>dt(L,H)))throw new Error("Not all branches were specified when using match. Specified: "+L.join(", ")+`
Required: `+l.join(", "));return F[w].apply(null,E)},log:F=>{console.log(F,{constructors:l,constructor:w,params:E})}}}}),d};Xl([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]);const gu=(s,l)=>((d,f)=>({[d]:f}))(s,l),Zd=s=>(l=>{const d={};return mt(l,f=>{d[f.key]=f.value}),d})(s),Um=s=>Z(s)?s:we,rh=(s,l,d)=>{let f=s.dom;const b=Um(d);for(;f.parentNode;){f=f.parentNode;const v=fn(f),w=l(v);if(w.isSome())return w;if(b(v))break}return R.none()},ih=(s,l,d)=>{const f=l(s),b=Um(d);return f.orThunk(()=>b(s)?R.none():rh(s,l,b))},Jb=(s,l)=>fs(s.element,l.event.target),Qb={can:_e,abort:we,run:W},rd=s=>{if(!Ro(s,"can")&&!Ro(s,"abort")&&!Ro(s,"run"))throw new Error("EventHandler defined by: "+JSON.stringify(s,null,2)+" does not have can, abort, or run!");return{...Qb,...s}},N=j,G=N("touchstart"),ae=N("touchmove"),Be=N("touchend"),Xe=N("touchcancel"),Ft=N("mousedown"),Xn=N("mousemove"),Eo=N("mouseout"),po=N("mouseup"),Mn=N("mouseover"),ws=N("focusin"),Ur=N("focusout"),_r=N("keydown"),Pc=N("keyup"),Wm=N("input"),Km=N("change"),vi=N("click"),KC=N("transitioncancel"),ev=N("transitionend"),p1=N("transitionstart"),ha=N("selectstart"),Or=s=>j("alloy."+s),Pi={tap:Or("tap")},id=Or("focus"),wp=Or("blur.post"),Tx=Or("paste.post"),cc=Or("receive"),Al=Or("execute"),tv=Or("focus.item"),Mf=Pi.tap,zE=Or("longpress"),nv=Or("sandbox.close"),Gd=Or("typeahead.cancel"),Bf=Or("system.init"),Nn=Or("system.touchmove"),hu=Or("system.touchend"),ov=Or("system.scroll"),Ff=Or("system.resize"),pa=Or("system.attached"),Nc=Or("system.detached"),ah=Or("system.dismissRequested"),$f=Or("system.repositionRequested"),b1=Or("focusmanager.shifted"),pu=Or("slotcontainer.visibility"),Cp=Or("system.external.element.scroll"),_p=Or("change.tab"),Gt=Or("dismiss.tab"),Ox=Or("highlight"),Vf=Or("dehighlight"),No=(s,l)=>{Lc(s,s.element,l,{})},$n=(s,l,d)=>{Lc(s,s.element,l,d)},zf=s=>{No(s,Al())},pr=(s,l,d)=>{Lc(s,l,d,{})},Lc=(s,l,d,f)=>{const b={target:l,...f};s.getSystem().triggerEvent(d,l,b)},Mc=(s,l,d,f)=>{s.getSystem().triggerEvent(d,l,f.event)},wo=s=>Zd(s),Sp=(s,l)=>({key:s,value:rd({abort:l})}),jC=s=>({key:s,value:rd({run:(l,d)=>{d.event.prevent()}})}),Rt=(s,l)=>({key:s,value:rd({run:l})}),Rx=(s,l,d)=>({key:s,value:rd({run:(f,b)=>{l.apply(void 0,[f,b].concat(d))}})}),kp=s=>l=>({key:s,value:rd({run:(d,f)=>{Jb(d,f)&&l(d,f)}})}),Ep=(s,l,d)=>((f,b)=>Rt(f,(v,w)=>{v.getSystem().getByUid(b).each(k=>{Mc(k,k.element,f,w)})}))(s,l.partUids[d]),lh=(s,l)=>Rt(s,(d,f)=>{const b=f.event,v=d.getSystem().getByDom(b.target).getOrThunk(()=>ih(b.target,w=>d.getSystem().getByDom(w).toOptional(),we).getOr(d));l(d,v,f)}),jm=s=>Rt(s,(l,d)=>{d.cut()}),ZC=s=>Rt(s,(l,d)=>{d.stop()}),Hf=(s,l)=>kp(s)(l),ar=kp(pa()),ad=kp(Nc()),v1=kp(Bf()),bu=(Ym=Al(),s=>Rt(Ym,s)),Zm=s=>Me(s,l=>ju(l,"/*")?l.substring(0,l.length-2):l),uc=(s,l)=>{const d=s.toString(),f=d.indexOf(")")+1,b=d.indexOf("("),v=d.substring(b+1,f-1).split(/,\s*/);return s.toFunctionAnnotation=()=>({name:l,parameters:Zm(v)}),s},Wr=s=>({classes:B(s.classes)?[]:s.classes,attributes:B(s.attributes)?{}:s.attributes,styles:B(s.styles)?{}:s.styles}),sv=(s,l,d)=>v1((f,b)=>{d(f,s,l)}),Ni=s=>({key:s,value:void 0}),y1=(s,l,d,f,b,v,w)=>{const k=F=>Ro(F,d)?F[d]():R.none(),E=to(b,(F,L)=>((H,Y,Q)=>((fe,pe,Ee)=>{const ge=Ee.toString(),me=ge.indexOf(")")+1,Ce=ge.indexOf("("),Ae=ge.substring(Ce+1,me-1).split(/,\s*/);return fe.toFunctionAnnotation=()=>({name:pe,parameters:Zm(Ae.slice(0,1).concat(Ae.slice(3)))}),fe})((fe,...pe)=>{const Ee=[fe].concat(pe);return fe.config({name:j(H)}).fold(()=>{throw new Error("We could not find any behaviour configuration for: "+H+". Using API: "+Q)},ge=>{const me=Array.prototype.slice.call(Ee,1);return Y.apply(void 0,[fe,ge.config,ge.state].concat(me))})},Q,Y))(d,F,L)),P={...to(v,(F,L)=>uc(F,L)),...E,revoke:ze(Ni,d),config:F=>{const L=Da(d+"-config",s,F);return{key:d,value:{config:L,me:P,configAsRaw:ca(()=>Da(d+"-config",s,F)),initialConfig:F,state:w}}},schema:j(l),exhibit:(F,L)=>Jt(k(F),Tn(f,"exhibit"),(H,Y)=>Y(L,H.config,H.state)).getOrThunk(()=>Wr({})),name:j(d),handlers:F=>k(F).map(L=>Tn(f,"events").getOr(()=>({}))(L.config,L.state)).getOr({})};return P},Bc={init:()=>Li({readState:j("No State required")})},Li=s=>s,Xt=s=>Zd(s),Gm=Si([Bt("fields"),Bt("name"),ut("active",{}),ut("apis",{}),ut("state",Bc),ut("extra",{})]),Mi=s=>{const l=Da("Creating behaviour: "+s.name,Gm,s);return((d,f,b,v,w,k)=>{const E=Si(d),P=Tr(f,[(F=d,zr("config",Si(F)))]);var F;return y1(E,P,f,b,v,w,k)})(l.fields,l.name,l.active,l.apis,l.extra,l.state)},GC=Si([Bt("branchKey"),Bt("branches"),Bt("name"),ut("active",{}),ut("apis",{}),ut("state",Bc),ut("extra",{})]),qC=s=>{const l=Da("Creating behaviour: "+s.name,GC,s);return((d,f,b,v,w,k)=>{const E=d,P=Tr(f,[zr("config",d)]);return y1(E,P,f,b,v,w,k)})(bi(l.branchKey,l.branches),l.name,l.active,l.apis,l.extra,l.state)},HE=j(void 0),qd=(s,l)=>{const d=Zo(s,l);return d===void 0||d===""?[]:d.split(" ")},ch=s=>s.dom.classList!==void 0,rv=s=>qd(s,"class"),x1=(s,l)=>((d,f,b)=>{const v=qd(d,f).concat([b]);return dn(d,f,v.join(" ")),!0})(s,"class",l),Ix=(s,l)=>((d,f,b)=>{const v=Wt(qd(d,f),w=>w!==b);return v.length>0?dn(d,f,v.join(" ")):Po(d,f),!1})(s,"class",l),Sr=(s,l)=>{ch(s)?s.dom.classList.add(l):x1(s,l)},iv=s=>{(ch(s)?s.dom.classList:rv(s)).length===0&&Po(s,"class")},Rr=(s,l)=>{ch(s)?s.dom.classList.remove(l):Ix(s,l),iv(s)},ul=(s,l)=>ch(s)&&s.dom.classList.contains(l),Kr=(s,l)=>{mt(l,d=>{Sr(s,d)})},dc=(s,l)=>{mt(l,d=>{Rr(s,d)})},Yd=s=>ch(s)?(l=>{const d=l.dom.classList,f=new Array(d.length);for(let b=0;b<d.length;b++){const v=d.item(b);v!==null&&(f[b]=v)}return f})(s):rv(s),Xi=(s,l,d,f,b)=>{const v=w=>w+"px";return{position:s,left:l.map(v),top:d.map(v),right:f.map(v),bottom:b.map(v)}},av=(s,l)=>{_l(s,(d=>({...d,position:R.some(d.position)}))(l))},Ap=s=>(ai(ti(s,"position"),"fixed")?R.none():ru(s)).orThunk(()=>{const l=Ii("span");return Ta(s).bind(d=>{$a(d,l);const f=ru(l);return Zi(l),f})}),Uf=s=>Ap(s).map(Vl).getOrThunk(()=>tr(0,0)),YC=(s,l)=>{const d=s.element;Sr(d,l.transitionClass),Rr(d,l.fadeOutClass),Sr(d,l.fadeInClass),l.onShow(s)},Tp=(s,l)=>{const d=s.element;Sr(d,l.transitionClass),Rr(d,l.fadeInClass),Sr(d,l.fadeOutClass),l.onHide(s)},Dx=(s,l)=>s.y>=l.y,w1=(s,l)=>s.bottom<=l.bottom,lv=(s,l,d)=>({location:"top",leftX:l,topY:d.bounds.y-s.y}),C1=(s,l,d)=>({location:"bottom",leftX:l,bottomY:s.bottom-d.bounds.bottom}),Px=s=>s.box.x-s.win.x,qm=(s,l,d)=>d.getInitialPos().map(f=>{const b=((v,w)=>{const k=w.optScrollEnv.fold(j(v.bounds.y),E=>E.scrollElmTop+(v.bounds.y-E.currentScrollTop));return tr(v.bounds.x,k)})(f,l);return{box:Mo(b.left,b.top,Di(s),Ar(s)),location:f.location}}),UE=(s,l,d,f,b)=>{const v=((k,E)=>{const P=E.optScrollEnv.fold(j(k.y),F=>k.y+F.currentScrollTop-F.scrollElmTop);return tr(k.x,P)})(l,d),w=Mo(v.left,v.top,l.width,l.height);f.setInitialPos({style:Lm(s),position:Er(s,"position")||"static",bounds:w,location:b.location})},_1=(s,l,d)=>d.getInitialPos().bind(f=>{var b;switch(d.clearInitialPos(),f.position){case"static":return R.some({morph:"static"});case"absolute":const v=Ap(s).getOr(Sn()),w=ci(v),k=(b=v.dom.scrollTop)!==null&&b!==void 0?b:0;return R.some({morph:"absolute",positionCss:Xi("absolute",Tn(f.style,"left").map(E=>l.x-w.x),Tn(f.style,"top").map(E=>l.y-w.y+k),Tn(f.style,"right").map(E=>w.right-l.right),Tn(f.style,"bottom").map(E=>w.bottom-l.bottom))});default:return R.none()}}),S1=s=>{switch(s.location){case"top":return R.some({morph:"fixed",positionCss:Xi("fixed",R.some(s.leftX),R.some(s.topY),R.none(),R.none())});case"bottom":return R.some({morph:"fixed",positionCss:Xi("fixed",R.some(s.leftX),R.none(),R.none(),R.some(s.bottomY))});default:return R.none()}},Nx=(s,l,d)=>{const f=s.element;return ai(ti(f,"position"),"fixed")?((b,v,w)=>((k,E,P)=>qm(k,E,P).filter(({box:F})=>((L,H,Y)=>je(L,Q=>{switch(Q){case"bottom":return w1(H,Y.bounds);case"top":return Dx(H,Y.bounds)}}))(P.getModes(),F,E)).bind(({box:F})=>_1(k,F,P)))(b,v,w).orThunk(()=>v.optScrollEnv.bind(k=>qm(b,v,w)).bind(({box:k,location:E})=>{const P=Gi(),F=Px({win:P,box:k}),L=E==="top"?lv(P,F,v):C1(P,F,v);return S1(L)})))(f,l,d):((b,v,w)=>{const k=ci(b),E=Gi(),P=((F,L,H)=>{const Y=L.win,Q=L.box,fe=Px(L);return ln(F,pe=>{switch(pe){case"bottom":return w1(Q,H.bounds)?R.none():R.some(C1(Y,fe,H));case"top":return Dx(Q,H.bounds)?R.none():R.some(lv(Y,fe,H));default:return R.none()}}).getOr({location:"no-dock"})})(w.getModes(),{win:E,box:k},v);return P.location==="top"||P.location==="bottom"?(UE(b,k,v,w,P),S1(P)):R.none()})(f,l,d)},Lx=(s,l,d)=>{d.setDocked(!1),mt(["left","right","top","bottom","position"],f=>ks(s.element,f)),l.onUndocked(s)},cv=(s,l,d,f)=>{const b=f.position==="fixed";d.setDocked(b),av(s.element,f),(b?l.onDocked:l.onUndocked)(s)},Mx=(s,l,d,f,b=!1)=>{l.contextual.each(v=>{v.lazyContext(s).each(w=>{const k=((E,P)=>E.y<P.bottom&&E.bottom>P.y)(w,f.bounds);k!==d.isVisible()&&(d.setVisible(k),b&&!k?(Kr(s.element,[v.fadeOutClass]),v.onHide(s)):(k?YC:Tp)(s,v))})})},Bx=(s,l,d,f,b)=>{Mx(s,l,d,f,!0),cv(s,l,d,b.positionCss)},uv=(s,l,d)=>{s.getSystem().isConnected()&&((f,b,v)=>{const w=b.lazyViewport(f);Mx(f,b,v,w),Nx(f,w,v).each(k=>{((E,P,F,L,H)=>{switch(H.morph){case"static":return Lx(E,P,F);case"absolute":return cv(E,P,F,H.positionCss);case"fixed":Bx(E,P,F,L,H)}})(f,b,v,w,k)})})(s,l,d)},Op=(s,l,d)=>{d.isDocked()&&((f,b,v)=>{const w=f.element;v.setDocked(!1);const k=b.lazyViewport(f);((E,P,F)=>{const L=E.element;return qm(L,P,F).bind(({box:H})=>_1(L,H,F))})(f,k,v).each(E=>{switch(E.morph){case"static":Lx(f,b,v);break;case"absolute":cv(f,b,v,E.positionCss)}}),v.setVisible(!0),b.contextual.each(E=>{dc(w,[E.fadeInClass,E.fadeOutClass,E.transitionClass]),E.onShow(f)}),uv(f,b,v)})(s,l,d)},Fx=s=>(l,d,f)=>{const b=d.lazyViewport(l);((v,w,k,E)=>{const P=ci(v),F=Gi(),L=E(F,Px({win:F,box:P}),w);return L.location==="bottom"||L.location==="top"?(((H,Y,Q,fe,pe)=>{fe.getInitialPos().fold(()=>UE(H,Y,Q,fe,pe),()=>W)})(v,P,w,k,L),S1(L)):R.none()})(l.element,b,f,s).each(v=>{Bx(l,d,f,b,v)})},dv=Fx(lv),fv=Fx(C1);var Ym,Rp=Object.freeze({__proto__:null,refresh:uv,reset:Op,isDocked:(s,l,d)=>d.isDocked(),getModes:(s,l,d)=>d.getModes(),setModes:(s,l,d,f)=>d.setModes(f),forceDockToTop:dv,forceDockToBottom:fv}),$x=Object.freeze({__proto__:null,events:(s,l)=>wo([Hf(ev(),(d,f)=>{s.contextual.each(b=>{ul(d.element,b.transitionClass)&&(dc(d.element,[b.transitionClass,b.fadeInClass]),(l.isVisible()?b.onShown:b.onHidden)(d)),f.stop()})}),Rt(ov(),(d,f)=>{uv(d,s,l)}),Rt(Cp(),(d,f)=>{uv(d,s,l)}),Rt(Ff(),(d,f)=>{Op(d,s,l)})])});const Xd=s=>s.dom.innerHTML,uh=(s,l)=>{const d=li(s).dom,f=fn(d.createDocumentFragment()),b=((v,w)=>{const k=(w||document).createElement("div");return k.innerHTML=v,Ms(fn(k))})(l,d);Vr(f,b),ur(s),$a(s,f)},dh=(s,l)=>fn(s.dom.cloneNode(l)),Jd=s=>(l=>{if(yt(l))return"#shadow-root";{const d=(f=>dh(f,!1))(l);return(f=>{const b=Ii("div"),v=fn(f.dom.cloneNode(!0));return $a(b,v),Xd(b)})(d)}})(s);var Wf;(function(s){s[s.STOP=0]="STOP",s[s.NORMAL=1]="NORMAL",s[s.LOGGING=2]="LOGGING"})(Wf||(Wf={}));const mv=Un({}),WE=["alloy/data/Fields","alloy/debugging/Debugging"],gv=(s,l,d)=>((f,b,v)=>{switch(Tn(mv.get(),f).orThunk(()=>{const w=Kt(mv.get());return ln(w,k=>f.indexOf(k)>-1?R.some(mv.get()[k]):R.none())}).getOr(Wf.NORMAL)){case Wf.NORMAL:return v(Fc());case Wf.LOGGING:{const w=((E,P)=>{const F=[],L=new Date().getTime();return{logEventCut:(H,Y,Q)=>{F.push({outcome:"cut",target:Y,purpose:Q})},logEventStopped:(H,Y,Q)=>{F.push({outcome:"stopped",target:Y,purpose:Q})},logNoParent:(H,Y,Q)=>{F.push({outcome:"no-parent",target:Y,purpose:Q})},logEventNoHandlers:(H,Y)=>{F.push({outcome:"no-handlers-left",target:Y})},logEventResponse:(H,Y,Q)=>{F.push({outcome:"response",purpose:Q,target:Y})},write:()=>{const H=new Date().getTime();dt(["mousemove","mouseover","mouseout",Bf()],E)||console.log(E,{event:E,time:H-L,target:P.dom,sequence:Me(F,Y=>dt(["cut","stopped","response"],Y.outcome)?"{"+Y.purpose+"} "+Y.outcome+" at ("+Jd(Y.target)+")":Y.outcome)})}}})(f,b),k=v(w);return w.write(),k}case Wf.STOP:return!0}})(s,l,d),Fc=j({logEventCut:W,logEventStopped:W,logNoParent:W,logEventNoHandlers:W,logEventResponse:W,write:W}),XC=j([Bt("menu"),Bt("selectedMenu")]),Vx=j([Bt("item"),Bt("selectedItem")]);j(qn(Vx().concat(XC())));const fh=j(qn(Vx())),ba=Ic("initSize",[Bt("numColumns"),Bt("numRows")]),mh=()=>Ic("markers",[Bt("backgroundMenu")].concat(XC()).concat(Vx())),gh=s=>Ic("markers",Me(s,Bt)),k1=(s,l,d)=>((()=>{const f=new Error;if(f.stack!==void 0){const b=f.stack.split(`
`);J(b,v=>v.indexOf("alloy")>0&&!An(WE,w=>v.indexOf(w)>-1)).getOr("unknown")}})(),ui(l,l,d,Nf(f=>Wo.value((...b)=>f.apply(void 0,b))))),os=s=>k1(0,s,uu(W)),Tl=s=>k1(0,s,uu(R.none)),ld=s=>k1(0,s,{tag:"required",process:{}}),Pa=s=>k1(0,s,{tag:"required",process:{}}),Xs=(s,l)=>qi(s,j(l)),hv=s=>qi(s,de),JC=j(ba);var KE=[Tr("contextual",[Cr("fadeInClass"),Cr("fadeOutClass"),Cr("transitionClass"),Ua("lazyContext"),os("onShow"),os("onShown"),os("onHide"),os("onHidden")]),or("lazyViewport",()=>({bounds:Gi(),optScrollEnv:R.none()})),Ps("modes",["top","bottom"],ki),os("onDocked"),os("onUndocked")];const dr=Mi({fields:KE,name:"docking",active:$x,apis:Rp,state:Object.freeze({__proto__:null,init:s=>{const l=Un(!1),d=Un(!0),f=Ts(),b=Un(s.modes);return Li({isDocked:l.get,setDocked:l.set,getInitialPos:f.get,setInitialPos:f.set,clearInitialPos:f.clear,isVisible:d.get,setVisible:d.set,getModes:b.get,setModes:b.set,readState:()=>`docked:  ${l.get()}, visible: ${d.get()}, modes: ${b.get().join(",")}`})}})}),E1=wo([((s,l)=>({key:s,value:rd({can:(d,f)=>{const b=f.event,v=b.originator,w=b.target;return!((k,E,P)=>fs(E,k.element)&&!fs(E,P))(d,v,w)||(console.warn(id()+` did not get interpreted by the desired target. 
Originator: `+Jd(v)+`
Target: `+Jd(w)+`
Check the `+id()+" event handlers"),!1)}})}))(id())]);var zx=Object.freeze({__proto__:null,events:E1});const Xm=(s,l,d,f)=>{const b=s+l;return b>f?d:b<d?f:b},$c=(s,l,d)=>Math.min(Math.max(s,l),d);let Ip=0;const kn=s=>{const l=new Date().getTime(),d=Math.floor(window.crypto.getRandomValues(new Uint32Array(1))[0]/4294967295*1e9);return Ip++,s+"_"+d+Ip+String(l)},vu=j("alloy-id-"),Hx=j("data-alloy-id"),A1=vu(),Dp=Hx(),T1=(s,l)=>{Object.defineProperty(s.dom,Dp,{value:l,writable:!0})},hh=s=>{const l=lr(s)?s.dom[Dp]:null;return R.from(l)},Vc=s=>kn(s),jE=de,O1=s=>{const l=b=>`The component must be in a context to execute: ${b}`+(s?`
`+Jd(s().element)+" is not in context.":""),d=b=>()=>{throw new Error(l(b))},f=b=>()=>{console.warn(l(b))};return{debugInfo:j("fake"),triggerEvent:f("triggerEvent"),triggerFocus:f("triggerFocus"),triggerEscape:f("triggerEscape"),broadcast:f("broadcast"),broadcastOn:f("broadcastOn"),broadcastEvent:f("broadcastEvent"),build:d("build"),buildOrPatch:d("buildOrPatch"),addToWorld:d("addToWorld"),removeFromWorld:d("removeFromWorld"),addToGui:d("addToGui"),removeFromGui:d("removeFromGui"),getByUid:d("getByUid"),getByDom:d("getByDom"),isConnected:we}},Ux=O1(),R1=kn("alloy-premade"),Wx=s=>(Object.defineProperty(s.element.dom,R1,{value:s.uid,writable:!0}),gu(R1,s)),Kx=s=>Tn(s,R1),I1=s=>((l,d)=>{const f=d.toString(),b=f.indexOf(")")+1,v=f.indexOf("("),w=f.substring(v+1,b-1).split(/,\s*/);return l.toFunctionAnnotation=()=>({name:"OVERRIDE",parameters:Zm(w.slice(1))}),l})((l,...d)=>s(l.getApis(),l,...d),s),jx=(s,l)=>{const d={};return Yn(s,(f,b)=>{Yn(f,(v,w)=>{const k=Tn(d,w).getOr([]);d[w]=k.concat([l(b,v)])})}),d},Zx=s=>s.cHandler,QC=(s,l)=>({name:s,handler:l}),ZE=(s,l)=>{const d={};return mt(s,f=>{d[f.name()]=f.handlers(l)}),d},pv=(s,l,d)=>{const f=l[d];return f?((b,v,w,k)=>{try{const E=be(w,(P,F)=>{const L=P[v],H=F[v],Y=k.indexOf(L),Q=k.indexOf(H);if(Y===-1)throw new Error("The ordering for "+b+" does not have an entry for "+L+`.
Order specified: `+JSON.stringify(k,null,2));if(Q===-1)throw new Error("The ordering for "+b+" does not have an entry for "+H+`.
Order specified: `+JSON.stringify(k,null,2));return Y<Q?-1:Q<Y?1:0});return Wo.value(E)}catch(E){return Wo.error([E])}})("Event: "+d,"name",s,f).map(b=>(v=>({can:((E,P)=>(...F)=>on(E,(L,H)=>L&&(Y=>Y.can)(H).apply(void 0,F),!0))(v),abort:((E,P)=>(...F)=>on(E,(L,H)=>L||(Y=>Y.abort)(H).apply(void 0,F),!1))(v),run:(...E)=>{mt(v,P=>{P.run.apply(void 0,E)})}}))(Me(b,v=>v.handler))):((b,v)=>Wo.error(["The event ("+b+`) has more than one behaviour that listens to it.
When this occurs, you must specify an event ordering for the behaviours in your spec (e.g. [ "listing", "toggling" ]).
The behaviours that can trigger it are: `+JSON.stringify(Me(v,w=>w.name),null,2)]))(d,s)},Gx=(s,l)=>((d,f)=>{const b=(w=>{const k=[],E=[];return mt(w,P=>{P.fold(F=>{k.push(F)},F=>{E.push(F)})}),{errors:k,values:E}})(d);return b.errors.length>0?(v=b.errors,Wo.error(Zt(v))):((w,k)=>w.length===0?Wo.value(k):Wo.value(Bs(k,qb.apply(void 0,w))))(b.values,f);var v})(Qr(s,(d,f)=>(d.length===1?Wo.value(d[0].handler):pv(d,l,f)).map(b=>{const v=(k=>{const E=(P=>Z(P)?{can:_e,abort:we,run:P}:P)(k);return(P,F,...L)=>{const H=[P,F].concat(L);E.abort.apply(void 0,H)?F.stop():E.can.apply(void 0,H)&&E.run.apply(void 0,H)}})(b),w=d.length>1?Wt(l[f],k=>An(d,E=>E.name===k)).join(" > "):d[0].name;return gu(f,((k,E)=>({handler:k,purpose:E}))(v,w))})),{}),ph="alloy.base.behaviour",GE=qn([ui("dom","dom",{tag:"required",process:{}},qn([Bt("tag"),ut("styles",{}),ut("classes",[]),ut("attributes",{}),Xo("value"),Xo("innerHtml")])),Bt("components"),Bt("uid"),ut("events",{}),ut("apis",{}),ui("eventOrder","eventOrder",(bh={[Al()]:["disabling",ph,"toggling","typeaheadevents"],[id()]:[ph,"focusing","keying"],[Bf()]:[ph,"disabling","toggling","representing","tooltipping"],[Wm()]:[ph,"representing","streaming","invalidating"],[Nc()]:[ph,"representing","item-events","toolbar-button-events","tooltipping"],[Ft()]:["focusing",ph,"item-type-events"],[G()]:["focusing",ph,"item-type-events"],[Mn()]:["item-type-events","tooltipping"],[cc()]:["receiving","reflecting","tooltipping"]},ns(j(bh))),Hl()),Xo("domModification")]),qE=s=>s.events,Kf=s=>s.dom.value,Jm=(s,l)=>{if(l===void 0)throw new Error("Value.set was undefined");s.dom.value=l},D1=(s,l,d)=>{d.fold(()=>$a(s,l),f=>{fs(f,l)||(zd(f,l),Zi(f))})},e_=(s,l,d)=>{const f=Me(l,d),b=Ms(s);return mt(b.slice(f.length),Zi),f},qx=(s,l,d,f)=>{const b=cr(s,l),v=f(d,b),w=((k,E,P)=>cr(k,E).map(F=>{if(P.exists(L=>!fs(L,F))){const L=P.map(ol).getOr("span"),H=Ii(L);return zd(F,H),H}return F}))(s,l,b);return D1(s,v.element,w),v},bv=(s,l)=>{const d=Kt(s),f=Kt(l),b=xe(f,d),v=((w,k)=>{const E={},P={};return Zs(w,(F,L)=>!go(l,L)||F!==l[L],Do(E),Do(P)),{t:E,f:P}})(s).t;return{toRemove:b,toSet:v}},Qd=(s,l)=>{const d=l.filter(f=>ol(f)===s.tag&&!(b=>b.innerHtml.isSome()&&b.domChildren.length>0)(s)&&!(b=>go(b.dom,R1))(f)).bind(f=>((b,v)=>{try{const w=((k,E)=>{const{class:P,style:F,...L}=(Ce=>on(Ce.dom.attributes,(Ae,Ie)=>(Ae[Ie.name]=Ie.value,Ae),{}))(E),{toSet:H,toRemove:Y}=bv(k.attributes,L),Q=Lm(E),{toSet:fe,toRemove:pe}=bv(k.styles,Q),Ee=Yd(E),ge=xe(Ee,k.classes),me=xe(k.classes,Ee);return mt(Y,Ce=>Po(E,Ce)),As(E,H),Kr(E,me),dc(E,ge),mt(pe,Ce=>ks(E,Ce)),rl(E,fe),k.innerHtml.fold(()=>{const Ce=k.domChildren;((Ae,Ie)=>{e_(Ae,Ie,(qe,lt)=>{const Nt=cr(Ae,lt);return D1(Ae,qe,Nt),qe})})(E,Ce)},Ce=>{uh(E,Ce)}),(()=>{const Ce=E,Ae=k.value.getOrUndefined();Ae!==Kf(Ce)&&Jm(Ce,Ae??"")})(),E})(b,v);return R.some(w)}catch{return R.none()}})(s,f)).getOrThunk(()=>(f=>{const b=Ii(f.tag);As(b,f.attributes),Kr(b,f.classes),rl(b,f.styles),f.innerHtml.each(w=>uh(b,w));const v=f.domChildren;return Vr(b,v),f.value.each(w=>{Jm(b,w)}),b})(s));return T1(d,s.uid),d},P1=s=>{const l=(d=>{const f=Tn(d,"behaviours").getOr({});return vn(Kt(f),b=>{const v=f[b];return z(v)?[v.me]:[]})})(s);return((d,f)=>((b,v)=>{const w=Me(v,E=>Tr(E.name(),[Bt("config"),ut("state",Bc)])),k=wr("component.behaviours",qn(w),b.behaviours).fold(E=>{throw new Error(ll(E)+`
Complete spec:
`+JSON.stringify(b,null,2))},de);return{list:v,data:to(k,E=>{const P=E.map(F=>({config:F.config,state:F.state.init(F.config)}));return j(P)})}})(d,f))(s,l)},yi=(s,l)=>{const d=()=>H,f=Un(Ux),b=Ha((Y=>wr("custom.definition",GE,Y))(s)),v=P1(s),w=(Y=>Y.list)(v),k=(Y=>Y.data)(v),E=((Y,Q,fe)=>{const pe={...(Ee=Y).dom,uid:Ee.uid,domChildren:Me(Ee.components,qe=>qe.element)};var Ee;const ge=(qe=>qe.domModification.fold(()=>Wr({}),Wr))(Y),me={"alloy.base.modification":ge},Ce=Q.length>0?((qe,lt,Nt,Ot)=>{const Et={...lt};mt(Nt,Ko=>{Et[Ko.name()]=Ko.exhibit(qe,Ot)});const jt=jx(Et,(Ko,rr)=>({name:Ko,modification:rr})),xn=Ko=>In(Ko,(rr,mr)=>({...mr.modification,...rr}),{}),Pn=In(jt.classes,(Ko,rr)=>rr.modification.concat(Ko),[]),jn=xn(jt.attributes),uo=xn(jt.styles);return Wr({classes:Pn,attributes:jn,styles:uo})})(fe,me,Q,pe):ge;return Ae=pe,Ie=Ce,{...Ae,attributes:{...Ae.attributes,...Ie.attributes},styles:{...Ae.styles,...Ie.styles},classes:Ae.classes.concat(Ie.classes)};var Ae,Ie})(b,w,k),P=Qd(E,l),F=((Y,Q,fe)=>{const pe={"alloy.base.behaviour":qE(Y)};return((Ee,ge,me,Ce)=>{const Ae=((Ie,qe,lt)=>{const Nt={...lt,...ZE(qe,Ie)};return jx(Nt,QC)})(Ee,me,Ce);return Gx(Ae,ge)})(fe,Y.eventOrder,Q,pe).getOrDie()})(b,w,k),L=Un(b.components),H={uid:s.uid,getSystem:f.get,config:Y=>{const Q=k;return(Z(Q[Y.name()])?Q[Y.name()]:()=>{throw new Error("Could not find "+Y.name()+" in "+JSON.stringify(s,null,2))})()},hasConfigured:Y=>Z(k[Y.name()]),spec:s,readState:Y=>k[Y]().map(Q=>Q.state.readState()).getOr("not enabled"),getApis:()=>b.apis,connect:Y=>{f.set(Y)},disconnect:()=>{f.set(O1(d))},element:P,syncComponents:()=>{const Y=Ms(P),Q=vn(Y,fe=>f.get().getByDom(fe).fold(()=>[],Ve));L.set(Q)},components:L.get,events:F};return H},Br=s=>{const l=Gu(s);return jf({element:l})},jf=s=>{const l=Da("external.component",Si([Bt("element"),Xo("uid")]),s),d=Un(O1()),f=l.uid.getOrThunk(()=>Vc("external"));T1(l.element,f);const b={uid:f,getSystem:d.get,config:R.none,hasConfigured:we,connect:v=>{d.set(v)},disconnect:()=>{d.set(O1(()=>b))},getApis:()=>({}),element:l.element,spec:s,readState:j("No state"),syncComponents:W,components:j([]),events:{}};return Wx(b)},Yx=Vc,N1=(s,l)=>Kx(s).getOrThunk(()=>((d,f)=>{const{events:b,...v}=jE(d),w=((E,P)=>{const F=Tn(E,"components").getOr([]);return P.fold(()=>Me(F,Ji),L=>Me(F,(H,Y)=>N1(H,cr(L,Y))))})(v,f),k={...v,events:{...zx,...b},components:w};return Wo.value(yi(k,f))})((d=>go(d,"uid"))(s)?s:{uid:Yx(""),...s},l).getOrDie()),Ji=s=>N1(s,R.none()),dl=Wx;var bh,Zf=(s,l,d,f,b)=>s(d,f)?R.some(d):Z(b)&&b(d)?R.none():l(d,f,b);const Qm=(s,l,d)=>{let f=s.dom;const b=Z(d)?d:we;for(;f.parentNode;){f=f.parentNode;const v=fn(f);if(l(v))return R.some(v);if(b(v))break}return R.none()},L1=(s,l,d)=>Zf((f,b)=>b(f),Qm,s,l,d),t_=(s,l)=>J(s.dom.childNodes,d=>l(fn(d))).map(fn),Xx=(s,l,d)=>L1(s,l,d).isSome(),eg=(s,l,d)=>Qm(s,f=>ou(f,l),d),Js=(s,l)=>((d,f)=>{const b=d.dom;return b.parentNode?t_(fn(b.parentNode),v=>!fs(d,v)&&ou(v,l)):R.none()})(s),M1=(s,l)=>t_(s,d=>ou(d,l)),fr=(s,l)=>Fd(l,s),cd=(s,l,d)=>Zf((f,b)=>ou(f,b),eg,s,l,d),yu="aria-controls",vh=()=>{const s=kn(yu);return{id:s,link:l=>{dn(l,yu,s)},unlink:l=>{Po(l,yu)}}},Ol=(s,l)=>Xx(l,d=>fs(d,s.element),we)||((d,f)=>(b=>L1(b,v=>{if(!lr(v))return!1;const w=Zo(v,"id");return w!==void 0&&w.indexOf(yu)>-1}).bind(v=>{const w=Zo(v,"id"),k=pt(v);return fr(k,`[${yu}="${w}"]`)}))(f).exists(b=>Ol(d,b)))(s,l),va=(s,l,d,f,b,v,w,k=!1)=>({x:s,y:l,bubble:d,direction:f,placement:b,restriction:v,label:`${w}-${b}`,alwaysFit:k}),tg=Xl([{southeast:[]},{southwest:[]},{northeast:[]},{northwest:[]},{south:[]},{north:[]},{east:[]},{west:[]}]),vv=tg.southeast,yh=tg.southwest,yv=tg.northeast,xh=tg.northwest,n_=tg.south,Jx=tg.north,Qx=tg.east,o_=tg.west,ya=(s,l)=>Re(["left","right","top","bottom"],d=>Tn(l,d).map(f=>((b,v)=>{switch(v){case 1:return b.x;case 0:return b.x+b.width;case 2:return b.y;case 3:return b.y+b.height}})(s,f))),ng="layout",s_=s=>s.x,zc=(s,l)=>s.x+s.width/2-l.width/2,fl=(s,l)=>s.x+s.width-l.width,wh=(s,l)=>s.y-l.height,Pp=s=>s.y+s.height,r_=(s,l)=>s.y+s.height/2-l.height/2,Ir=(s,l,d)=>va(s_(s),Pp(s),d.southeast(),vv(),"southeast",ya(s,{left:1,top:3}),ng),Dr=(s,l,d)=>va(fl(s,l),Pp(s),d.southwest(),yh(),"southwest",ya(s,{right:0,top:3}),ng),oi=(s,l,d)=>va(s_(s),wh(s,l),d.northeast(),yv(),"northeast",ya(s,{left:1,bottom:2}),ng),Fs=(s,l,d)=>va(fl(s,l),wh(s,l),d.northwest(),xh(),"northwest",ya(s,{right:0,bottom:2}),ng),kr=(s,l,d)=>va(zc(s,l),wh(s,l),d.north(),Jx(),"north",ya(s,{bottom:2}),ng),jr=(s,l,d)=>va(zc(s,l),Pp(s),d.south(),n_(),"south",ya(s,{top:3}),ng),B1=(s,l,d)=>va((f=>f.x+f.width)(s),r_(s,l),d.east(),Qx(),"east",ya(s,{left:0}),ng),F1=(s,l,d)=>va(((f,b)=>f.x-b.width)(s,l),r_(s,l),d.west(),o_(),"west",ya(s,{right:1}),ng),e2=()=>[Ir,Dr,oi,Fs,jr,kr,B1,F1],xv=()=>[Dr,Ir,Fs,oi,jr,kr,B1,F1],t2=()=>[oi,Fs,Ir,Dr,kr,jr],Ch=()=>[Fs,oi,Dr,Ir,kr,jr],$1=()=>[Ir,Dr,oi,Fs,jr,kr],V1=()=>[Dr,Ir,Fs,oi,jr,kr];var n2=Object.freeze({__proto__:null,events:s=>wo([Rt(cc(),(l,d)=>{const f=s.channels,b=Kt(f),v=d,w=((k,E)=>E.universal?k:Wt(k,P=>dt(E.channels,P)))(b,v);mt(w,k=>{const E=f[k],P=E.schema,F=Da("channel["+k+`] data
Receiver: `+Jd(l.element),P,v.data);E.onReceive(l,F)})})])}),wv=[Yi("channels",Xb(Wo.value,Si([ld("onReceive"),ut("schema",Hl())])))];const Rl=Mi({fields:wv,name:"receiving",active:n2});var o2=Object.freeze({__proto__:null,exhibit:(s,l)=>Wr({classes:[],styles:l.useFixed()?{}:{position:"relative"}})});const ja=(s,l=!1)=>s.dom.focus({preventScroll:l}),Cv=s=>s.dom.blur(),_h=s=>{const l=pt(s).dom;return s.dom===l.activeElement},xu=(s=Va())=>R.from(s.dom.activeElement).map(fn),Zr=s=>xu(pt(s)).filter(l=>s.dom.contains(l.dom)),og=(s,l)=>{const d=pt(l),f=xu(d).bind(v=>{const w=k=>fs(v,k);return w(l)?R.some(l):((k,E)=>{const P=F=>{for(let L=0;L<F.childNodes.length;L++){const H=fn(F.childNodes[L]);if(E(H))return R.some(H);const Y=P(F.childNodes[L]);if(Y.isSome())return Y}return R.none()};return P(k.dom)})(l,w)}),b=s(l);return f.each(v=>{xu(d).filter(w=>fs(w,v)).fold(()=>{ja(v)},W)}),b},s2=Xl([{none:[]},{relative:["x","y","width","height"]},{fixed:["x","y","width","height"]}]),r2=(s,l,d,f,b,v)=>{const w=l.rect,k=w.x-d,E=w.y-f,P=b-(k+w.width),F=v-(E+w.height),L=R.some(k),H=R.some(E),Y=R.some(P),Q=R.some(F),fe=R.none();return l.direction.fold(()=>Xi(s,L,H,fe,fe),()=>Xi(s,fe,H,Y,fe),()=>Xi(s,L,fe,fe,Q),()=>Xi(s,fe,fe,Y,Q),()=>Xi(s,L,H,fe,fe),()=>Xi(s,L,fe,fe,Q),()=>Xi(s,L,H,fe,fe),()=>Xi(s,fe,H,Y,fe))},_v=(s,l)=>s.fold(()=>{const d=l.rect;return Xi("absolute",R.some(d.x),R.some(d.y),R.none(),R.none())},(d,f,b,v)=>r2("absolute",l,d,f,b,v),(d,f,b,v)=>r2("fixed",l,d,f,b,v)),ef=(s,l)=>{const d=ze(Hd,l),f=s.fold(d,d,()=>{const w=nr();return Hd(l).translate(-w.left,-w.top)}),b=il(l),v=Tc(l);return Mo(f.left,f.top,b,v)},YE=(s,l)=>l.fold(()=>s.fold(Gi,Gi,Mo),d=>s.fold(j(d),j(d),()=>{const f=Sv(s,d.x,d.y);return Mo(f.left,f.top,d.width,d.height)})),Sv=(s,l,d)=>{const f=tr(l,d);return s.fold(j(f),j(f),()=>{const b=nr();return f.translate(-b.left,-b.top)})};s2.none;const sg=s2.relative,i_=s2.fixed,kv="data-alloy-placement",Ev=s=>es(s,kv),z1=Xl([{fit:["reposition"]},{nofit:["reposition","visibleW","visibleH","isVisible"]}]),Np=(s,l,d,f)=>{const b=s.bubble,v=b.offset,w=((Ce,Ae,Ie)=>{const qe=(jt,xn)=>Ae[jt].map(Pn=>{const jn=jt==="top"||jt==="bottom",uo=jn?Ie.top:Ie.left,Ko=(jt==="left"||jt==="top"?Math.max:Math.min)(Pn,xn)+uo;return jn?$c(Ko,Ce.y,Ce.bottom):$c(Ko,Ce.x,Ce.right)}).getOr(xn),lt=qe("left",Ce.x),Nt=qe("top",Ce.y),Ot=qe("right",Ce.right),Et=qe("bottom",Ce.bottom);return Mo(lt,Nt,Ot-lt,Et-Nt)})(f,s.restriction,v),k=s.x+v.left,E=s.y+v.top,P=Mo(k,E,l,d),{originInBounds:F,sizeInBounds:L,visibleW:H,visibleH:Y}=((Ce,Ae)=>{const{x:Ie,y:qe,right:lt,bottom:Nt}=Ae,{x:Ot,y:Et,right:jt,bottom:xn,width:Pn,height:jn}=Ce;return{originInBounds:Ot>=Ie&&Ot<=lt&&Et>=qe&&Et<=Nt,sizeInBounds:jt<=lt&&jt>=Ie&&xn<=Nt&&xn>=qe,visibleW:Math.min(Pn,Ot>=Ie?lt-Ot:jt-Ie),visibleH:Math.min(jn,Et>=qe?Nt-Et:xn-qe)}})(P,w),Q=F&&L,fe=Q?P:((Ce,Ae)=>{const{x:Ie,y:qe,right:lt,bottom:Nt}=Ae,{x:Ot,y:Et,width:jt,height:xn}=Ce,Pn=Math.max(Ie,lt-jt),jn=Math.max(qe,Nt-xn),uo=$c(Ot,Ie,Pn),Ko=$c(Et,qe,jn),rr=Math.min(uo+jt,lt)-uo,mr=Math.min(Ko+xn,Nt)-Ko;return Mo(uo,Ko,rr,mr)})(P,w),pe=fe.width>0&&fe.height>0,{maxWidth:Ee,maxHeight:ge}=((Ce,Ae,Ie)=>{const qe=j(Ae.bottom-Ie.y),lt=j(Ie.bottom-Ae.y),Nt=((xn,Pn,jn,uo)=>xn.fold(Pn,Pn,uo,uo,Pn,uo,jn,jn))(Ce,lt,lt,qe),Ot=j(Ae.right-Ie.x),Et=j(Ie.right-Ae.x);return{maxWidth:((xn,Pn,jn,uo)=>xn.fold(Pn,uo,Pn,uo,jn,jn,Pn,uo))(Ce,Et,Et,Ot),maxHeight:Nt}})(s.direction,fe,f),me={rect:fe,maxHeight:ge,maxWidth:Ee,direction:s.direction,placement:s.placement,classes:{on:b.classesOn,off:b.classesOff},layout:s.label,testY:E};return Q||s.alwaysFit?z1.fit(me):z1.nofit(me,H,Y,pe)},H1=_e,Za=(s,l,d)=>((f,b,v,w)=>eh(f,b,v,w,!1))(s,l,H1,d),i2=(s,l,d)=>((f,b,v,w)=>eh(f,b,v,w,!0))(s,l,H1,d),tf=kl,Av=["top","bottom","right","left"],ud="data-alloy-transition-timer",Tv=(s,l,d,f,b,v)=>{const w=((k,E,P)=>P.exists(F=>{const L=k.mode;return L==="all"||F[L]!==E[L]}))(f,b,v);if(w||((k,E)=>((P,F)=>je(F,L=>ul(P,L)))(k,E.classes))(s,f)){yo(s,"position",d.position);const k=ef(l,s),E=_v(l,{...b,rect:k}),P=Re(Av,F=>E[F]);((F,L)=>{const H=Y=>parseFloat(Y).toFixed(3);return xs(L,(Y,Q)=>!((fe,pe,Ee=te)=>Jt(fe,pe,Ee).getOr(fe.isNone()&&pe.isNone()))(F[Q].map(H),Y.map(H))).isSome()})(d,P)&&(_l(s,P),w&&((F,L)=>{Kr(F,L.classes),es(F,ud).each(H=>{clearTimeout(parseInt(H,10)),Po(F,ud)}),((H,Y)=>{const Q=Rc(),fe=Rc();let pe;const Ee=Ae=>{var Ie;const qe=(Ie=Ae.raw.pseudoElement)!==null&&Ie!==void 0?Ie:"";return fs(Ae.target,H)&&Zu(qe)&&dt(Av,Ae.raw.propertyName)},ge=Ae=>{if(V(Ae)||Ee(Ae)){Q.clear(),fe.clear();const Ie=Ae==null?void 0:Ae.raw.type;(V(Ie)||Ie===ev())&&(clearTimeout(pe),Po(H,ud),dc(H,Y.classes))}},me=Za(H,p1(),Ae=>{Ee(Ae)&&(me.unbind(),Q.set(Za(H,ev(),ge)),fe.set(Za(H,KC(),ge)))}),Ce=(Ae=>{const Ie=Ot=>{const Et=Er(Ae,Ot).split(/\s*,\s*/);return Wt(Et,wl)},qe=Ot=>{if(h(Ot)&&/^[\d.]+/.test(Ot)){const Et=parseFloat(Ot);return ju(Ot,"ms")?Et:1e3*Et}return 0},lt=Ie("transition-delay"),Nt=Ie("transition-duration");return on(Nt,(Ot,Et,jt)=>{const xn=qe(lt[jt])+qe(Et);return Math.max(Ot,xn)},0)})(H);requestAnimationFrame(()=>{pe=setTimeout(ge,Ce+17),dn(H,ud,pe)})})(F,L)})(s,f),$d(s))}else dc(s,f.classes)},Ov=(s,l)=>{((d,f)=>{const b=gp.max(d,f,["margin-top","border-top-width","padding-top","padding-bottom","border-bottom-width","margin-bottom"]);yo(d,"max-height",b+"px")})(s,Math.floor(l))},rg=j((s,l)=>{Ov(s,l),rl(s,{"overflow-x":"hidden","overflow-y":"auto"})}),Sh=j((s,l)=>{Ov(s,l)}),Hc=(s,l,d)=>s[l]===void 0?d:s[l],Rv=(s,l,d,f)=>{const b=((v,w,k,E)=>{ks(w,"max-height"),ks(w,"max-width");const P={width:il(F=w),height:Tc(F)};var F;return((L,H,Y,Q,fe,pe)=>{const Ee=Q.width,ge=Q.height,me=(Ce,Ae,Ie,qe,lt)=>{const Nt=Ce(Y,Q,fe,L,pe),Ot=Np(Nt,Ee,ge,pe);return Ot.fold(j(Ot),(Et,jt,xn,Pn)=>(lt===Pn?xn>qe||jt>Ie:!lt&&Pn)?Ot:z1.nofit(Ae,Ie,qe,lt))};return on(H,(Ce,Ae)=>{const Ie=ze(me,Ae);return Ce.fold(j(Ce),Ie)},z1.nofit({rect:Y,maxHeight:Q.height,maxWidth:Q.width,direction:vv(),placement:"southeast",classes:{on:[],off:[]},layout:"none",testY:Y.y},-1,-1,!1)).fold(de,de)})(w,E.preference,v,P,k,E.bounds)})(s,l,d,f);return((v,w,k)=>{const E=_v(k.origin,w);k.transition.each(P=>{Tv(v,k.origin,E,P,w,k.lastPlacement)}),av(v,E)})(l,b,f),((v,w)=>{((k,E)=>{dn(k,kv,E)})(v,w.placement)})(l,b),((v,w)=>{const k=w.classes;dc(v,k.off),Kr(v,k.on)})(l,b),((v,w,k)=>{(0,k.maxHeightFunction)(v,w.maxHeight)})(l,b,f),((v,w,k)=>{(0,k.maxWidthFunction)(v,w.maxWidth)})(l,b,f),{layout:b.layout,placement:b.placement}},XE=["valignCentre","alignLeft","alignRight","alignCentre","top","bottom","left","right","inset"],fc=(s,l,d,f=1)=>{const b=s*f,v=l*f,w=E=>Tn(d,E).getOr([]),k=(E,P,F)=>{const L=xe(XE,F);return{offset:tr(E,P),classesOn:vn(F,w),classesOff:vn(L,w)}};return{southeast:()=>k(-s,l,["top","alignLeft"]),southwest:()=>k(s,l,["top","alignRight"]),south:()=>k(-s/2,l,["top","alignCentre"]),northeast:()=>k(-s,-l,["bottom","alignLeft"]),northwest:()=>k(s,-l,["bottom","alignRight"]),north:()=>k(-s/2,-l,["bottom","alignCentre"]),east:()=>k(s,-l/2,["valignCentre","left"]),west:()=>k(-s,-l/2,["valignCentre","right"]),insetNortheast:()=>k(b,v,["top","alignLeft","inset"]),insetNorthwest:()=>k(-b,v,["top","alignRight","inset"]),insetNorth:()=>k(-b/2,v,["top","alignCentre","inset"]),insetSoutheast:()=>k(b,-v,["bottom","alignLeft","inset"]),insetSouthwest:()=>k(-b,-v,["bottom","alignRight","inset"]),insetSouth:()=>k(-b/2,-v,["bottom","alignCentre","inset"]),insetEast:()=>k(-b,-v/2,["valignCentre","right","inset"]),insetWest:()=>k(b,-v/2,["valignCentre","left","inset"])}},nf=()=>fc(0,0,{}),Uc=de,a2=(s,l)=>d=>Ei(d)==="rtl"?l:s,Ei=s=>Er(s,"direction")==="rtl"?"rtl":"ltr";var Wc;(function(s){s.TopToBottom="toptobottom",s.BottomToTop="bottomtotop"})(Wc||(Wc={}));const Il="data-alloy-vertical-dir",JE=s=>Xx(s,l=>lr(l)&&Zo(l,"data-alloy-vertical-dir")===Wc.BottomToTop),Gf=()=>Tr("layouts",[Bt("onLtr"),Bt("onRtl"),Xo("onBottomLtr"),Xo("onBottomRtl")]),of=(s,l,d,f,b,v,w)=>{const k=w.map(JE).getOr(!1),E=l.layouts.map(H=>H.onLtr(s)),P=l.layouts.map(H=>H.onRtl(s)),F=k?l.layouts.bind(H=>H.onBottomLtr.map(Y=>Y(s))).or(E).getOr(b):E.getOr(d),L=k?l.layouts.bind(H=>H.onBottomRtl.map(Y=>Y(s))).or(P).getOr(v):P.getOr(f);return a2(F,L)(s)};var Lp=[Bt("hotspot"),Xo("bubble"),ut("overrides",{}),Gf(),Xs("placement",(s,l,d)=>{const f=l.hotspot,b=ef(d,f.element),v=of(s.element,l,$1(),V1(),t2(),Ch(),R.some(l.hotspot.element));return R.some(Uc({anchorBox:b,bubble:l.bubble.getOr(nf()),overrides:l.overrides,layouts:v}))})],ig=[Bt("x"),Bt("y"),ut("height",0),ut("width",0),ut("bubble",nf()),ut("overrides",{}),Gf(),Xs("placement",(s,l,d)=>{const f=Sv(d,l.x,l.y),b=Mo(f.left,f.top,l.width,l.height),v=of(s.element,l,e2(),xv(),e2(),xv(),R.none());return R.some(Uc({anchorBox:b,bubble:l.bubble,overrides:l.overrides,layouts:v}))})];const Jl=Xl([{screen:["point"]},{absolute:["point","scrollLeft","scrollTop"]}]),U1=s=>s.fold(de,(l,d,f)=>l.translate(-d,-f)),W1=s=>s.fold(de,de),Iv=s=>on(s,(l,d)=>l.translate(d.left,d.top),tr(0,0)),K1=s=>{const l=Me(s,W1);return Iv(l)},a_=Jl.screen,Dv=Jl.absolute,sf=(s,l,d)=>{const f=li(s.element),b=nr(f),v=((w,k,E)=>{const P=su(E.root).dom;return R.from(P.frameElement).map(fn).filter(F=>{const L=li(F),H=li(w.element);return fs(L,H)}).map(Vl)})(s,0,d).getOr(b);return Dv(v,b.left,b.top)},Pv=(s,l,d,f)=>{const b=a_(tr(s,l));return R.some(((v,w,k)=>({point:v,width:w,height:k}))(b,d,f))},kh=(s,l,d,f,b)=>s.map(v=>{const w=[l,v.point],k=(E=()=>K1(w),P=()=>K1(w),F=()=>(me=>{const Ce=Me(me,U1);return Iv(Ce)})(w),f.fold(E,P,F));var E,P,F;const L=(fe=k.left,pe=k.top,Ee=v.width,ge=v.height,{x:fe,y:pe,width:Ee,height:ge}),H=d.showAbove?t2():$1(),Y=d.showAbove?Ch():V1(),Q=of(b,d,H,Y,H,Y,R.none());var fe,pe,Ee,ge;return Uc({anchorBox:L,bubble:d.bubble.getOr(nf()),overrides:d.overrides,layouts:Q})});var Eh=[Bt("node"),Bt("root"),Xo("bubble"),Gf(),ut("overrides",{}),ut("showAbove",!1),Xs("placement",(s,l,d)=>{const f=sf(s,0,l);return l.node.filter(hn).bind(b=>{const v=b.dom.getBoundingClientRect(),w=Pv(v.left,v.top,v.width,v.height),k=l.node.getOr(s.element);return kh(w,f,l,d,k)})})];const qf=(s,l,d,f)=>({start:s,soffset:l,finish:d,foffset:f}),Yf=Xl([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),Nv=(Yf.before,Yf.on,Yf.after,s=>s.fold(de,de,de)),Xf=Xl([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),Jf={domRange:Xf.domRange,relative:Xf.relative,exact:Xf.exact,exactFromRange:s=>Xf.exact(s.start,s.soffset,s.finish,s.foffset),getWin:s=>{const l=(d=>d.match({domRange:f=>fn(f.startContainer),relative:(f,b)=>Nv(f),exact:(f,b,v,w)=>f}))(s);return su(l)},range:qf},Qf=(s,l,d)=>{const f=s.document.createRange();var b;return b=f,l.fold(v=>{b.setStartBefore(v.dom)},(v,w)=>{b.setStart(v.dom,w)},v=>{b.setStartAfter(v.dom)}),((v,w)=>{w.fold(k=>{v.setEndBefore(k.dom)},(k,E)=>{v.setEnd(k.dom,E)},k=>{v.setEndAfter(k.dom)})})(f,d),f},Ah=(s,l,d,f,b)=>{const v=s.document.createRange();return v.setStart(l.dom,d),v.setEnd(f.dom,b),v},j1=s=>({left:s.left,top:s.top,right:s.right,bottom:s.bottom,width:s.width,height:s.height}),Mp=Xl([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),Z1=(s,l,d)=>l(fn(d.startContainer),d.startOffset,fn(d.endContainer),d.endOffset),l2=(s,l)=>((d,f)=>{const b=((v,w)=>w.match({domRange:k=>({ltr:j(k),rtl:R.none}),relative:(k,E)=>({ltr:ca(()=>Qf(v,k,E)),rtl:ca(()=>R.some(Qf(v,E,k)))}),exact:(k,E,P,F)=>({ltr:ca(()=>Ah(v,k,E,P,F)),rtl:ca(()=>R.some(Ah(v,P,F,k,E)))})}))(d,f);return((v,w)=>{const k=w.ltr();return k.collapsed?w.rtl().filter(E=>E.collapsed===!1).map(E=>Mp.rtl(fn(E.endContainer),E.endOffset,fn(E.startContainer),E.startOffset)).getOrThunk(()=>Z1(0,Mp.ltr,k)):Z1(0,Mp.ltr,k)})(0,b)})(s,l).match({ltr:(d,f,b,v)=>{const w=s.document.createRange();return w.setStart(d.dom,f),w.setEnd(b.dom,v),w},rtl:(d,f,b,v)=>{const w=s.document.createRange();return w.setStart(b.dom,v),w.setEnd(d.dom,f),w}});Mp.ltr,Mp.rtl;const Bp=(s,l,d)=>Wt(((f,b)=>{const v=Z(b)?b:we;let w=f.dom;const k=[];for(;w.parentNode!==null&&w.parentNode!==void 0;){const E=w.parentNode,P=fn(E);if(k.push(P),v(P)===!0)break;w=E}return k})(s,d),l),Ai=(s,l)=>((d,f)=>{const b=f===void 0?document:f.dom;return Sf(b)?[]:Me(b.querySelectorAll(d),fn)})(l,s),c2=s=>{if(s.rangeCount>0){const l=s.getRangeAt(0),d=s.getRangeAt(s.rangeCount-1);return R.some(qf(fn(l.startContainer),l.startOffset,fn(d.endContainer),d.endOffset))}return R.none()},l_=s=>{if(s.anchorNode===null||s.focusNode===null)return c2(s);{const l=fn(s.anchorNode),d=fn(s.focusNode);return((f,b,v,w)=>{const k=((P,F,L,H)=>{const Y=li(P).dom.createRange();return Y.setStart(P.dom,F),Y.setEnd(L.dom,H),Y})(f,b,v,w),E=fs(f,v)&&b===w;return k.collapsed&&!E})(l,s.anchorOffset,d,s.focusOffset)?R.some(qf(l,s.anchorOffset,d,s.focusOffset)):c2(s)}},u2=(s,l)=>(d=>{const f=d.getClientRects(),b=f.length>0?f[0]:d.getBoundingClientRect();return b.width>0||b.height>0?R.some(b).map(j1):R.none()})(l2(s,l)),d2=((s,l)=>{const d=f=>s(f)?R.from(f.dom.nodeValue):R.none();return{get:f=>{if(!s(f))throw new Error("Can only get text value of a text node");return d(f).getOr("")},getOption:d,set:(f,b)=>{if(!s(f))throw new Error("Can only set raw text value of a text node");f.dom.nodeValue=b}}})(Aa),em=(s,l)=>({element:s,offset:l}),G1=(s,l)=>Aa(s)?em(s,l):((d,f)=>{const b=Ms(d);if(b.length===0)return em(d,f);if(f<b.length)return em(b[f],0);{const v=b[b.length-1],w=Aa(v)?(k=>d2.get(k))(v).length:Ms(v).length;return em(v,w)}})(s,l),Lv=s=>s.foffset!==void 0,f2=(s,l)=>l.getSelection.getOrThunk(()=>()=>(d=>(f=>R.from(f.getSelection()))(d).filter(f=>f.rangeCount>0).bind(l_))(s))().map(d=>{if(Lv(d)){const f=G1(d.start,d.soffset),b=G1(d.finish,d.foffset);return Jf.range(f.element,f.offset,b.element,b.offset)}return d});var QE=[Xo("getSelection"),Bt("root"),Xo("bubble"),Gf(),ut("overrides",{}),ut("showAbove",!1),Xs("placement",(s,l,d)=>{const f=su(l.root).dom,b=sf(s,0,l),v=f2(f,l).bind(k=>{if(Lv(k))return((P,F)=>(L=>{const H=L.getBoundingClientRect();return H.width>0||H.height>0?R.some(H).map(j1):R.none()})(l2(P,F)))(f,Jf.exactFromRange(k)).orThunk(()=>{const P=Gu("\uFEFF");zd(k.start,P);const F=u2(f,Jf.exact(P,0,P,1));return Zi(P),F}).bind(P=>Pv(P.left,P.top,P.width,P.height));{const E=to(k,F=>F.dom.getBoundingClientRect()),P={left:Math.min(E.firstCell.left,E.lastCell.left),right:Math.max(E.firstCell.right,E.lastCell.right),top:Math.min(E.firstCell.top,E.lastCell.top),bottom:Math.max(E.firstCell.bottom,E.lastCell.bottom)};return Pv(P.left,P.top,P.right-P.left,P.bottom-P.top)}}),w=f2(f,l).bind(k=>Lv(k)?lr(k.start)?R.some(k.start):Oa(k.start):R.some(k.firstCell)).getOr(s.element);return kh(v,b,l,d,w)})];const tm="link-layout",Mv=s=>s.x+s.width,c_=(s,l)=>s.x-l.width,u_=(s,l)=>s.y-l.height+s.height,wu=s=>s.y,m2=(s,l,d)=>va(Mv(s),wu(s),d.southeast(),vv(),"southeast",ya(s,{left:0,top:2}),tm),q1=(s,l,d)=>va(c_(s,l),wu(s),d.southwest(),yh(),"southwest",ya(s,{right:1,top:2}),tm),d_=(s,l,d)=>va(Mv(s),u_(s,l),d.northeast(),yv(),"northeast",ya(s,{left:0,bottom:3}),tm),Th=(s,l,d)=>va(c_(s,l),u_(s,l),d.northwest(),xh(),"northwest",ya(s,{right:1,bottom:3}),tm),Fp=()=>[m2,q1,d_,Th],Bv=()=>[q1,m2,Th,d_];var f_=[Bt("item"),Gf(),ut("overrides",{}),Xs("placement",(s,l,d)=>{const f=ef(d,l.item.element),b=of(s.element,l,Fp(),Bv(),Fp(),Bv(),R.none());return R.some(Uc({anchorBox:f,bubble:nf(),overrides:l.overrides,layouts:b}))})],Cu=bi("type",{selection:QE,node:Eh,hotspot:Lp,submenu:f_,makeshift:ig});const ag=[cl("classes",ki),Dc("mode","all",["all","layout","placement"])],Fv=[ut("useFixed",we),Xo("getBounds")],$v=[Yi("anchor",Cu),Tr("transition",ag)],Y1=(s,l,d,f,b,v)=>{const w=Da("placement.info",qn($v),b),k=w.anchor,E=f.element,P=d.get(f.uid);og(()=>{yo(E,"position","fixed");const F=ti(E,"visibility");yo(E,"visibility","hidden");const L=l.useFixed()?(()=>{const H=document.documentElement;return i_(0,0,H.clientWidth,H.clientHeight)})():(H=>{const Y=Vl(H.element),Q=H.element.dom.getBoundingClientRect();return sg(Y.left,Y.top,Q.width,Q.height)})(s);k.placement(s,k,L).each(H=>{const Y=v.orThunk(()=>l.getBounds.map(rt)),Q=((fe,pe,Ee,ge,me,Ce)=>((Ae,Ie,qe,lt,Nt,Ot,Et,jt)=>{const xn=Hc(Et,"maxHeightFunction",rg()),Pn=Hc(Et,"maxWidthFunction",W),jn=Ae.anchorBox,uo=Ae.origin,Ko={bounds:YE(uo,Ot),origin:uo,preference:lt,maxHeightFunction:xn,maxWidthFunction:Pn,lastPlacement:Nt,transition:jt};return Rv(jn,Ie,qe,Ko)})(((Ae,Ie)=>((qe,lt)=>({anchorBox:qe,origin:lt}))(Ae,Ie))(pe.anchorBox,fe),ge.element,pe.bubble,pe.layouts,me,Ee,pe.overrides,Ce))(L,H,Y,f,P,w.transition);d.set(f.uid,Q)}),F.fold(()=>{ks(E,"visibility")},H=>{yo(E,"visibility",H)}),ti(E,"left").isNone()&&ti(E,"top").isNone()&&ti(E,"right").isNone()&&ti(E,"bottom").isNone()&&ai(ti(E,"position"),"fixed")&&ks(E,"position")},E)};var Vv=Object.freeze({__proto__:null,position:(s,l,d,f,b)=>{const v=R.none();Y1(s,l,d,f,b,v)},positionWithinBounds:Y1,getMode:(s,l,d)=>l.useFixed()?"fixed":"absolute",reset:(s,l,d,f)=>{const b=f.element;mt(["position","left","right","top","bottom"],v=>ks(b,v)),(v=>{Po(v,kv)})(b),d.clear(f.uid)}});const xa=Mi({fields:Fv,name:"positioning",active:o2,apis:Vv,state:Object.freeze({__proto__:null,init:()=>{let s={};return Li({readState:()=>s,clear:l=>{z(l)?delete s[l]:s={}},set:(l,d)=>{s[l]=d},get:l=>Tn(s,l)})}})}),X1=s=>s.getSystem().isConnected(),lg=s=>{No(s,Nc());const l=s.components();mt(l,lg)},cg=s=>{const l=s.components();mt(l,cg),No(s,pa())},zv=(s,l)=>{s.getSystem().addToWorld(l),hn(s.element)&&cg(l)},J1=s=>{lg(s),s.getSystem().removeFromWorld(s)},Oh=(s,l)=>{$a(s.element,l.element)},nm=(s,l)=>{g2(s,l,$a)},g2=(s,l,d)=>{s.getSystem().addToWorld(l),d(s.element,l.element),hn(s.element)&&cg(l),s.syncComponents()},Q1=s=>{lg(s),Zi(s.element),s.getSystem().removeFromWorld(s)},ml=s=>{const l=Ta(s.element).bind(d=>s.getSystem().getByDom(d).toOptional());Q1(s),l.each(d=>{d.syncComponents()})},om=s=>{const l=s.components();mt(l,Q1),ur(s.element),s.syncComponents()},h2=(s,l)=>{$p(s,l,$a)},kt=(s,l)=>{$p(s,l,th)},$p=(s,l,d)=>{d(s,l.element);const f=Ms(l.element);mt(f,b=>{l.getByDom(b).each(cg)})},eA=s=>{const l=Ms(s.element);mt(l,d=>{s.getByDom(d).each(lg)}),Zi(s.element)},m_=(s,l,d,f)=>{d.get().each(w=>{om(s)});const b=l.getAttachPoint(s);nm(b,s);const v=s.getSystem().build(f);return nm(s,v),d.set(v),v},ey=(s,l,d,f)=>{const b=m_(s,l,d,f);return l.onOpen(s,b),b},_u=(s,l,d)=>{d.get().each(f=>{om(s),ml(s),l.onClose(s,f),d.clear()})},ty=(s,l,d)=>d.isOpen(),Hv=(s,l,d)=>{const f=l.getAttachPoint(s);yo(s.element,"position",xa.getMode(f)),((b,v,w,k)=>{ti(b.element,v).fold(()=>{Po(b.element,w)},E=>{dn(b.element,w,E)}),yo(b.element,v,"hidden")})(s,"visibility",l.cloakVisibilityAttr)},p2=(s,l,d)=>{(f=>An(["top","left","right","bottom"],b=>ti(f,b).isSome()))(s.element)||ks(s.element,"position"),((f,b,v)=>{es(f.element,v).fold(()=>ks(f.element,b),w=>yo(f.element,b,w))})(s,"visibility",l.cloakVisibilityAttr)};var b2=Object.freeze({__proto__:null,cloak:Hv,decloak:p2,open:ey,openWhileCloaked:(s,l,d,f,b)=>{Hv(s,l),ey(s,l,d,f),b(),p2(s,l)},close:_u,isOpen:ty,isPartOf:(s,l,d,f)=>ty(0,0,d)&&d.get().exists(b=>l.isPartOf(s,b,f)),getState:(s,l,d)=>d.get(),setContent:(s,l,d,f)=>d.get().map(()=>m_(s,l,d,f))}),tA=Object.freeze({__proto__:null,events:(s,l)=>wo([Rt(nv(),(d,f)=>{_u(d,s,l)})])}),y=[os("onOpen"),os("onClose"),Bt("isPartOf"),Bt("getAttachPoint"),ut("cloakVisibilityAttr","data-precloak-visibility")],S=Object.freeze({__proto__:null,init:()=>{const s=Ts(),l=j("not-implemented");return Li({readState:l,isOpen:s.isSet,clear:s.clear,set:s.set,get:s.get})}});const T=Mi({fields:y,name:"sandboxing",active:tA,apis:b2,state:S}),M=j("dismiss.popups"),U=j("reposition.popups"),K=j("mouse.released"),se=Si([ut("isExtraPart",we),Tr("fireEventInstead",[ut("event",ah())])]),le=s=>{const l=Da("Dismissal",se,s);return{[M()]:{schema:Si([Bt("target")]),onReceive:(d,f)=>{T.isOpen(d)&&(T.isPartOf(d,f.target)||l.isExtraPart(d,f.target)||l.fireEventInstead.fold(()=>T.close(d),b=>No(d,b.event)))}}}},ke=Si([Tr("fireEventInstead",[ut("event",$f())]),Ua("doReposition")]),$e=s=>{const l=Da("Reposition",ke,s);return{[U()]:{onReceive:d=>{T.isOpen(d)&&l.fireEventInstead.fold(()=>l.doReposition(d),f=>No(d,f.event))}}}},Qe=(s,l,d)=>{l.store.manager.onLoad(s,l,d)},Le=(s,l,d)=>{l.store.manager.onUnload(s,l,d)};var Ue=Object.freeze({__proto__:null,onLoad:Qe,onUnload:Le,setValue:(s,l,d,f)=>{l.store.manager.setValue(s,l,d,f)},getValue:(s,l,d)=>l.store.manager.getValue(s,l,d),getState:(s,l,d)=>d}),Ze=Object.freeze({__proto__:null,events:(s,l)=>{const d=s.resetOnDom?[ar((f,b)=>{Qe(f,s,l)}),ad((f,b)=>{Le(f,s,l)})]:[sv(s,l,Qe)];return wo(d)}});const ct=()=>{const s=Un(null);return Li({set:s.set,get:s.get,isNotSet:()=>s.get()===null,clear:()=>{s.set(null)},readState:()=>({mode:"memory",value:s.get()})})},ft=()=>{const s=Un({}),l=Un({});return Li({readState:()=>({mode:"dataset",dataByValue:s.get(),dataByText:l.get()}),lookup:d=>Tn(s.get(),d).orThunk(()=>Tn(l.get(),d)),update:d=>{const f=s.get(),b=l.get(),v={},w={};mt(d,k=>{v[k.value]=k,Tn(k,"meta").each(E=>{Tn(E,"text").each(P=>{w[P]=k})})}),s.set({...f,...v}),l.set({...b,...w})},clear:()=>{s.set({}),l.set({})}})};var Mt=Object.freeze({__proto__:null,memory:ct,dataset:ft,manual:()=>Li({readState:W}),init:s=>s.store.manager.state(s)});const $t=(s,l,d,f)=>{const b=l.store;d.update([f]),b.setValue(s,f),l.onSetValue(s,f)};var Lt=[Xo("initialValue"),Bt("getFallbackEntry"),Bt("getDataKey"),Bt("setValue"),Xs("manager",{setValue:$t,getValue:(s,l,d)=>{const f=l.store,b=f.getDataKey(s);return d.lookup(b).getOrThunk(()=>f.getFallbackEntry(b))},onLoad:(s,l,d)=>{l.store.initialValue.each(f=>{$t(s,l,d,f)})},onUnload:(s,l,d)=>{d.clear()},state:ft})],zt=[Bt("getValue"),ut("setValue",W),Xo("initialValue"),Xs("manager",{setValue:(s,l,d,f)=>{l.store.setValue(s,f),l.onSetValue(s,f)},getValue:(s,l,d)=>l.store.getValue(s),onLoad:(s,l,d)=>{l.store.initialValue.each(f=>{l.store.setValue(s,f)})},onUnload:W,state:Bc.init})],Qt=[Xo("initialValue"),Xs("manager",{setValue:(s,l,d,f)=>{d.set(f),l.onSetValue(s,f)},getValue:(s,l,d)=>d.get(),onLoad:(s,l,d)=>{l.store.initialValue.each(f=>{d.isNotSet()&&d.set(f)})},onUnload:(s,l,d)=>{d.clear()},state:ct})],rn=[Wa("store",{mode:"memory"},bi("mode",{memory:Qt,manual:zt,dataset:Lt})),os("onSetValue"),ut("resetOnDom",!1)];const gt=Mi({fields:rn,name:"representing",active:Ze,apis:Ue,extra:{setValueFrom:(s,l)=>{const d=gt.getValue(l);gt.setValue(s,d)}},state:Mt}),En=(s,l)=>Ka(s,{},Me(l,d=>{return f=d.name(),b="Cannot configure "+d.name()+" for "+s,ui(f,f,{tag:"option",process:{}},Ju(v=>al("The field: "+f+" is forbidden. "+b)));var f,b}).concat([qi("dump",de)])),no=s=>s.dump,To=(s,l)=>({...Xt(l),...s.dump}),lo=En,oo=To,Ao="placeholder",Jo=Xl([{single:["required","valueThunk"]},{multiple:["required","valueThunks"]}]),si=s=>go(s,"uiType"),Na=(s,l,d,f)=>((b,v,w,k)=>si(w)&&w.uiType===Ao?((E,P,F,L)=>E.exists(H=>H!==F.owner)?Jo.single(!0,j(F)):Tn(L,F.name).fold(()=>{throw new Error("Unknown placeholder component: "+F.name+`
Known: [`+Kt(L)+`]
Namespace: `+E.getOr("none")+`
Spec: `+JSON.stringify(F,null,2))},H=>H.replace()))(b,0,w,k):Jo.single(!1,j(w)))(s,0,d,f).fold((b,v)=>{const w=si(d)?v(l,d.config,d.validated):v(l),k=Tn(w,"components").getOr([]),E=vn(k,P=>Na(s,l,P,f));return[{...w,components:E}]},(b,v)=>{if(si(d)){const w=v(l,d.config,d.validated);return d.validated.preprocess.getOr(de)(w)}return v(l)}),Qi=Jo.single,mc=Jo.multiple,ug=j(Ao),La=Xl([{required:["data"]},{external:["data"]},{optional:["data"]},{group:["data"]}]),dd=ut("factory",{sketch:de}),Vp=ut("schema",[]),sm=Bt("name"),zp=ui("pname","pname",oh(s=>"<alloy."+kn(s.name)+">"),Hl()),ny=qi("schema",()=>[Xo("preprocess")]),rm=ut("defaults",j({})),g_=ut("overrides",j({})),g8=qn([dd,Vp,sm,zp,rm,g_]),h8=qn([dd,Vp,sm,rm,g_]),wI=qn([dd,Vp,sm,zp,rm,g_]),On=qn([dd,ny,sm,Bt("unit"),zp,rm,g_]),v2=s=>s.fold(R.some,R.none,R.some,R.some),nA=s=>{const l=d=>d.name;return s.fold(l,l,l,l)},h_=(s,l)=>d=>{const f=Da("Converting part type",l,d);return s(f)},Dl=h_(La.required,g8),rf=h_(La.external,h8),Su=h_(La.optional,wI),p_=h_(La.group,On),oA=j("entirety");var CI=Object.freeze({__proto__:null,required:Dl,external:rf,optional:Su,group:p_,asNamedPart:v2,name:nA,asCommon:s=>s.fold(de,de,de,de),original:oA});const sA=(s,l,d,f)=>Bs(l.defaults(s,d,f),d,{uid:s.partUids[l.name]},l.overrides(s,d,f)),gl=(s,l)=>{const d={};return mt(l,f=>{v2(f).each(b=>{const v=y2(s,b.pname);d[b.name]=w=>{const k=Da("Part: "+b.name+" in "+s,qn(b.schema),w);return{...v,config:w,validated:k}}})}),d},y2=(s,l)=>({uiType:ug(),owner:s,name:l}),rA=(s,l,d)=>({uiType:ug(),owner:s,name:l,config:d,validated:{}}),_I=s=>vn(s,l=>l.fold(R.none,R.some,R.none,R.none).map(d=>Ic(d.name,d.schema.concat([hv(oA())]))).toArray()),SI=s=>Me(s,nA),iA=(s,l,d)=>((f,b,v)=>{const w={},k={};return mt(v,E=>{E.fold(P=>{w[P.pname]=Qi(!0,(F,L,H)=>P.factory.sketch(sA(F,P,L,H)))},P=>{const F=b.parts[P.name];k[P.name]=j(P.factory.sketch(sA(b,P,F[oA()]),F))},P=>{w[P.pname]=Qi(!1,(F,L,H)=>P.factory.sketch(sA(F,P,L,H)))},P=>{w[P.pname]=mc(!0,(F,L,H)=>{const Y=F[P.name];return Me(Y,Q=>P.factory.sketch(Bs(P.defaults(F,Q,H),Q,P.overrides(F,Q))))})})}),{internals:j(w),externals:j(k)}})(0,l,d),aA=(s,l,d)=>((f,b,v,w)=>{const k=to(w,(P,F)=>((L,H)=>{let Y=!1;return{name:j(L),required:()=>H.fold((Q,fe)=>Q,(Q,fe)=>Q),used:()=>Y,replace:()=>{if(Y)throw new Error("Trying to use the same placeholder more than once: "+L);return Y=!0,H}}})(F,P)),E=((P,F,L,H)=>vn(L,Y=>Na(P,F,Y,H)))(f,b,v,k);return Yn(k,P=>{if(P.used()===!1&&P.required())throw new Error("Placeholder: "+P.name()+` was not found in components list
Namespace: `+f.getOr("none")+`
Components: `+JSON.stringify(b.components,null,2))}),E})(R.some(s),l,l.components,d),Qs=(s,l,d)=>{const f=l.partUids[d];return s.getSystem().getByUid(f).toOptional()},Rh=(s,l,d)=>Qs(s,l,d).getOrDie("Could not find part: "+d),kI=(s,l,d)=>{const f={},b=l.partUids,v=s.getSystem();return mt(d,w=>{f[w]=j(v.getByUid(b[w]))}),f},lA=(s,l)=>{const d=s.getSystem();return to(l.partUids,(f,b)=>j(d.getByUid(f)))},EI=s=>Kt(s.partUids),cA=(s,l,d)=>{const f={},b=l.partUids,v=s.getSystem();return mt(d,w=>{f[w]=j(v.getByUid(b[w]).getOrDie())}),f},AI=(s,l)=>{const d=SI(l);return Zd(Me(d,f=>({key:f,value:s+"-"+f})))},uA=s=>ui("partUids","partUids",ns(l=>AI(l.uid,s)),Hl());var p8=Object.freeze({__proto__:null,generate:gl,generateOne:rA,schemas:_I,names:SI,substitutes:iA,components:aA,defaultUids:AI,defaultUidsSchema:uA,getAllParts:lA,getAllPartNames:EI,getPart:Qs,getPartOrDie:Rh,getParts:kI,getPartsOrDie:cA});const TI=(s,l,d,f,b)=>{const v=((w,k)=>(w.length>0?[Ic("parts",w)]:[]).concat([Bt("uid"),ut("dom",{}),ut("components",[]),hv("originalSpec"),ut("debug.sketcher",{})]).concat(k))(f,b);return Da(s+" [SpecSchema]",Si(v.concat(l)),d)},x2=(s,l,d,f,b)=>{const v=dA(b),w=_I(d),k=uA(d),E=TI(s,l,v,w,[k]),P=iA(0,E,d);return f(E,aA(s,E,P.internals()),v,P.externals())},dA=s=>(l=>go(l,"uid"))(s)?s:{...s,uid:Vc("uid")},b8=Si([Bt("name"),Bt("factory"),Bt("configFields"),ut("apis",{}),ut("extraApis",{})]),OI=Si([Bt("name"),Bt("factory"),Bt("configFields"),Bt("partFields"),ut("apis",{}),ut("extraApis",{})]),ku=s=>{const l=Da("Sketcher for "+s.name,b8,s),d=to(l.apis,I1),f=to(l.extraApis,(b,v)=>uc(b,v));return{name:l.name,configFields:l.configFields,sketch:b=>((v,w,k,E)=>{const P=dA(E);return k(TI(v,w,P,[],[]),P)})(l.name,l.configFields,l.factory,b),...d,...f}},Ul=s=>{const l=Da("Sketcher for "+s.name,OI,s),d=gl(l.name,l.partFields),f=to(l.apis,I1),b=to(l.extraApis,(v,w)=>uc(v,w));return{name:l.name,partFields:l.partFields,configFields:l.configFields,sketch:v=>x2(l.name,l.configFields,l.partFields,l.factory,v),parts:d,...f,...b}},oy=s=>nu("input")(s)&&Zo(s,"type")!=="radio"||nu("textarea")(s);var RI=Object.freeze({__proto__:null,getCurrent:(s,l,d)=>l.find(s)});const v8=[Bt("find")],ls=Mi({fields:v8,name:"composing",apis:RI}),II=["input","button","textarea","select"],DI=(s,l,d)=>{(l.disabled()?w2:mA)(s,l)},fA=(s,l)=>l.useNative===!0&&dt(II,ol(s.element)),PI=s=>{dn(s.element,"disabled","disabled")},y8=s=>{Po(s.element,"disabled")},sy=s=>{dn(s.element,"aria-disabled","true")},x8=s=>{dn(s.element,"aria-disabled","false")},w2=(s,l,d)=>{l.disableClass.each(f=>{Sr(s.element,f)}),(fA(s,l)?PI:sy)(s),l.onDisabled(s)},mA=(s,l,d)=>{l.disableClass.each(f=>{Rr(s.element,f)}),(fA(s,l)?y8:x8)(s),l.onEnabled(s)},ry=(s,l)=>fA(s,l)?(d=>Lr(d.element,"disabled"))(s):(d=>Zo(d.element,"aria-disabled")==="true")(s);var w8=Object.freeze({__proto__:null,enable:mA,disable:w2,isDisabled:ry,onLoad:DI,set:(s,l,d,f)=>{(f?w2:mA)(s,l)}}),C8=Object.freeze({__proto__:null,exhibit:(s,l)=>Wr({classes:l.disabled()?l.disableClass.toArray():[]}),events:(s,l)=>wo([Sp(Al(),(d,f)=>ry(d,s)),sv(s,l,DI)])}),_8=[or("disabled",we),ut("useNative",!0),Xo("disableClass"),os("onDisabled"),os("onEnabled")];const co=Mi({fields:_8,name:"disabling",active:C8,apis:w8}),NI=(s,l,d,f)=>{const b=Ai(s.element,"."+l.highlightClass);mt(b,v=>{An(f,w=>fs(w.element,v))||(Rr(v,l.highlightClass),s.getSystem().getByDom(v).each(w=>{l.onDehighlight(s,w),No(w,Vf())}))})},Uv=(s,l,d,f)=>{NI(s,l,0,[f]),gA(s,l,d,f)||(Sr(f.element,l.highlightClass),l.onHighlight(s,f),No(f,Ox()))},gA=(s,l,d,f)=>ul(f.element,l.highlightClass),LI=(s,l,d)=>fr(s.element,"."+l.itemClass).bind(f=>s.getSystem().getByDom(f).toOptional()),MI=(s,l,d)=>{const f=Ai(s.element,"."+l.itemClass);return(f.length>0?R.some(f[f.length-1]):R.none()).bind(b=>s.getSystem().getByDom(b).toOptional())},BI=(s,l,d,f)=>{const b=Ai(s.element,"."+l.itemClass);return mo(b,v=>ul(v,l.highlightClass)).bind(v=>{const w=Xm(v,f,0,b.length-1);return s.getSystem().getByDom(b[w]).toOptional()})},FI=(s,l,d)=>{const f=Ai(s.element,"."+l.itemClass);return nl(Me(f,b=>s.getSystem().getByDom(b).toOptional()))};var S8=Object.freeze({__proto__:null,dehighlightAll:(s,l,d)=>NI(s,l,0,[]),dehighlight:(s,l,d,f)=>{gA(s,l,d,f)&&(Rr(f.element,l.highlightClass),l.onDehighlight(s,f),No(f,Vf()))},highlight:Uv,highlightFirst:(s,l,d)=>{LI(s,l).each(f=>{Uv(s,l,d,f)})},highlightLast:(s,l,d)=>{MI(s,l).each(f=>{Uv(s,l,d,f)})},highlightAt:(s,l,d,f)=>{((b,v,w,k)=>{const E=Ai(b.element,"."+v.itemClass);return R.from(E[k]).fold(()=>Wo.error(new Error("No element found with index "+k)),b.getSystem().getByDom)})(s,l,0,f).fold(b=>{throw b},b=>{Uv(s,l,d,b)})},highlightBy:(s,l,d,f)=>{const b=FI(s,l);J(b,f).each(v=>{Uv(s,l,d,v)})},isHighlighted:gA,getHighlighted:(s,l,d)=>fr(s.element,"."+l.highlightClass).bind(f=>s.getSystem().getByDom(f).toOptional()),getFirst:LI,getLast:MI,getPrevious:(s,l,d)=>BI(s,l,0,-1),getNext:(s,l,d)=>BI(s,l,0,1),getCandidates:FI}),$I=[Bt("highlightClass"),Bt("itemClass"),os("onHighlight"),os("onDehighlight")];const Es=Mi({fields:$I,name:"highlighting",apis:S8}),VI=[8],af=[9],dg=[13],b_=[27],Kc=[32],v_=[37],iy=[38],C2=[39],ay=[40],k8=(s,l,d)=>{const f=tt(s.slice(0,l)),b=tt(s.slice(l+1));return J(f.concat(b),d)},E8=(s,l,d)=>{const f=tt(s.slice(0,l));return J(f,d)},A8=(s,l,d)=>{const f=s.slice(0,l),b=s.slice(l+1);return J(b.concat(f),d)},T8=(s,l,d)=>{const f=s.slice(l+1);return J(f,d)},ms=s=>l=>{const d=l.raw;return dt(s,d.which)},im=s=>l=>je(s,d=>d(l)),fg=s=>s.raw.shiftKey===!0,O8=s=>s.raw.ctrlKey===!0,_2=Fe(fg),bs=(s,l)=>({matches:s,classification:l}),zI=(s,l,d)=>{l.exists(f=>d.exists(b=>fs(b,f)))||$n(s,b1(),{prevFocus:l,newFocus:d})},hA=()=>{const s=l=>Zr(l.element);return{get:s,set:(l,d)=>{const f=s(l);l.getSystem().triggerFocus(d,l.element);const b=s(l);zI(l,f,b)}}},R8=()=>{const s=l=>Es.getHighlighted(l).map(d=>d.element);return{get:s,set:(l,d)=>{const f=s(l);l.getSystem().getByDom(d).fold(W,v=>{Es.highlight(l,v)});const b=s(l);zI(l,f,b)}}};var Wv;(function(s){s.OnFocusMode="onFocus",s.OnEnterOrSpaceMode="onEnterOrSpace",s.OnApiMode="onApi"})(Wv||(Wv={}));const Kv=(s,l,d,f,b)=>{const v=(k,E,P,F,L)=>{return(H=P(k,E,F,L),Y=E.event,J(H,Q=>Q.matches(Y)).map(Q=>Q.classification)).bind(Q=>Q(k,E,F,L));var H,Y},w={schema:()=>s.concat([ut("focusManager",hA()),Wa("focusInside","onFocus",Nf(k=>dt(["onFocus","onEnterOrSpace","onApi"],k)?Wo.value(k):Wo.error("Invalid value for focusInside"))),Xs("handler",w),Xs("state",l),Xs("sendFocusIn",b)]),processKey:v,toEvents:(k,E)=>{const P=k.focusInside!==Wv.OnFocusMode?R.none():b(k).map(L=>Rt(id(),(H,Y)=>{L(H,k,E),Y.stop()})),F=[Rt(_r(),(L,H)=>{v(L,H,d,k,E).fold(()=>{((Y,Q)=>{const fe=ms(Kc.concat(dg))(Q.event);k.focusInside===Wv.OnEnterOrSpaceMode&&fe&&Jb(Y,Q)&&b(k).each(pe=>{pe(Y,k,E),Q.stop()})})(L,H)},Y=>{H.stop()})}),Rt(Pc(),(L,H)=>{v(L,H,f,k,E).each(Y=>{H.stop()})})];return wo(P.toArray().concat(F))}};return w},HI=s=>{const l=[Xo("onEscape"),Xo("onEnter"),ut("selector",'[data-alloy-tabstop="true"]:not(:disabled)'),ut("firstTabstop",0),ut("useTabstopAt",_e),Xo("visibilitySelector")].concat([s]),d=(F,L)=>{const H=F.visibilitySelector.bind(Y=>cd(L,Y)).getOr(L);return Ar(H)>0},f=(F,L)=>L.focusManager.get(F).bind(H=>cd(H,L.selector)),b=(F,L,H)=>{((Y,Q)=>{const fe=Ai(Y.element,Q.selector),pe=Wt(fe,Ee=>d(Q,Ee));return R.from(pe[Q.firstTabstop])})(F,L).each(Y=>{L.focusManager.set(F,Y)})},v=(F,L,H,Y)=>{const Q=Ai(F.element,H.selector);return f(F,H).bind(fe=>mo(Q,ze(fs,fe)).bind(pe=>((Ee,ge,me,Ce,Ae)=>Ae(ge,me,Ie=>((qe,lt)=>d(qe,lt)&&qe.useTabstopAt(lt))(Ce,Ie)).fold(()=>Ce.cyclic?R.some(!0):R.none(),Ie=>(Ce.focusManager.set(Ee,Ie),R.some(!0))))(F,Q,pe,H,Y)))},w=(F,L,H)=>{const Y=H.cyclic?k8:E8;return v(F,0,H,Y)},k=(F,L,H)=>{const Y=H.cyclic?A8:T8;return v(F,0,H,Y)},E=j([bs(im([fg,ms(af)]),w),bs(ms(af),k),bs(im([_2,ms(dg)]),(F,L,H)=>H.onEnter.bind(Y=>Y(F,L)))]),P=j([bs(ms(b_),(F,L,H)=>H.onEscape.bind(Y=>Y(F,L))),bs(ms(af),(F,L,H)=>f(F,H).filter(Y=>!H.useTabstopAt(Y)).bind(Y=>((Q=>(fe=>Ta(fe))(Q).bind(De).exists(fe=>fs(fe,Q)))(Y)?w:k)(F,L,H)))]);return Kv(l,Bc.init,E,P,()=>R.some(b))};var I8=HI(qi("cyclic",we)),D8=HI(qi("cyclic",_e));const S2=(s,l,d)=>oy(d)&&ms(Kc)(l.event)?R.none():((f,b,v)=>(pr(f,v,Al()),R.some(!0)))(s,0,d),jv=(s,l)=>R.some(!0),P8=[ut("execute",S2),ut("useSpace",!1),ut("useEnter",!0),ut("useControlEnter",!1),ut("useDown",!1)],UI=(s,l,d)=>d.execute(s,l,s.element);var N8=Kv(P8,Bc.init,(s,l,d,f)=>{const b=d.useSpace&&!oy(s.element)?Kc:[],v=d.useEnter?dg:[],w=d.useDown?ay:[],k=b.concat(v).concat(w);return[bs(ms(k),UI)].concat(d.useControlEnter?[bs(im([O8,ms(dg)]),UI)]:[])},(s,l,d,f)=>d.useSpace&&!oy(s.element)?[bs(ms(Kc),jv)]:[],()=>R.none());const WI=()=>{const s=Ts();return Li({readState:()=>s.get().map(l=>({numRows:String(l.numRows),numColumns:String(l.numColumns)})).getOr({numRows:"?",numColumns:"?"}),setGridSize:(l,d)=>{s.set({numRows:l,numColumns:d})},getNumRows:()=>s.get().map(l=>l.numRows),getNumColumns:()=>s.get().map(l=>l.numColumns)})};var KI=Object.freeze({__proto__:null,flatgrid:WI,init:s=>s.state(s)});const jI=s=>(l,d,f,b)=>{const v=s(l.element);return ZI(v,l,d,f,b)},pA=(s,l)=>{const d=a2(s,l);return jI(d)},bA=(s,l)=>{const d=a2(l,s);return jI(d)},vA=s=>(l,d,f,b)=>ZI(s,l,d,f,b),ZI=(s,l,d,f,b)=>f.focusManager.get(l).bind(v=>s(l.element,v,f,b)).map(v=>(f.focusManager.set(l,v),!0)),yA=vA,GI=vA,y_=vA,qI=s=>!(l=>l.offsetWidth<=0&&l.offsetHeight<=0)(s.dom),xA=(s,l,d)=>{const f=Ai(s,d);return((b,v)=>mo(b,w=>fs(w,l)).map(w=>({index:w,candidates:b})))(Wt(f,qI))},x_=(s,l)=>mo(s,d=>fs(l,d)),YI=(s,l,d,f)=>f(Math.floor(l/d),l%d).bind(b=>{const v=b.row*d+b.column;return v>=0&&v<s.length?R.some(s[v]):R.none()}),XI=(s,l,d,f,b)=>YI(s,l,f,(v,w)=>{const k=v===d-1?s.length-v*f:f,E=Xm(w,b,0,k-1);return R.some({row:v,column:E})}),JI=(s,l,d,f,b)=>YI(s,l,f,(v,w)=>{const k=Xm(v,b,0,d-1),E=k===d-1?s.length-k*f:f,P=$c(w,0,E-1);return R.some({row:k,column:P})}),L8=[Bt("selector"),ut("execute",S2),Tl("onEscape"),ut("captureTab",!1),JC()],QI=(s,l,d)=>{fr(s.element,l.selector).each(f=>{l.focusManager.set(s,f)})},k2=s=>(l,d,f,b)=>xA(l,d,f.selector).bind(v=>s(v.candidates,v.index,b.getNumRows().getOr(f.initSize.numRows),b.getNumColumns().getOr(f.initSize.numColumns))),wA=(s,l,d)=>d.captureTab?R.some(!0):R.none(),CA=k2((s,l,d,f)=>XI(s,l,d,f,-1)),_A=k2((s,l,d,f)=>XI(s,l,d,f,1)),M8=k2((s,l,d,f)=>JI(s,l,d,f,-1)),B8=k2((s,l,d,f)=>JI(s,l,d,f,1)),F8=j([bs(ms(v_),pA(CA,_A)),bs(ms(C2),bA(CA,_A)),bs(ms(iy),yA(M8)),bs(ms(ay),GI(B8)),bs(im([fg,ms(af)]),wA),bs(im([_2,ms(af)]),wA),bs(ms(Kc.concat(dg)),(s,l,d,f)=>((b,v)=>v.focusManager.get(b).bind(w=>cd(w,v.selector)))(s,d).bind(b=>d.execute(s,l,b)))]),$8=j([bs(ms(b_),(s,l,d)=>d.onEscape(s,l)),bs(ms(Kc),jv)]);var V8=Kv(L8,WI,F8,$8,()=>R.some(QI));const Hp=(s,l,d,f,b)=>{const v=(w,k,E)=>b(w,k,f,0,E.length-1,E[k],P=>{return F=E[P],ol(F)==="button"&&Zo(F,"disabled")==="disabled"?v(w,P,E):R.from(E[P]);var F});return xA(s,d,l).bind(w=>{const k=w.index,E=w.candidates;return v(k,k,E)})},eD=(s,l,d,f)=>Hp(s,l,d,f,(b,v,w,k,E,P,F)=>{const L=$c(v+w,k,E);return L===b?R.from(P):F(L)}),w_=(s,l,d,f)=>Hp(s,l,d,f,(b,v,w,k,E,P,F)=>{const L=Xm(v,w,k,E);return L===b?R.none():F(L)}),z8=[Bt("selector"),ut("getInitial",R.none),ut("execute",S2),Tl("onEscape"),ut("executeOnMove",!1),ut("allowVertical",!0),ut("allowHorizontal",!0),ut("cycles",!0)],SA=(s,l,d)=>((f,b)=>b.focusManager.get(f).bind(v=>cd(v,b.selector)))(s,d).bind(f=>d.execute(s,l,f)),tD=(s,l,d)=>{l.getInitial(s).orThunk(()=>fr(s.element,l.selector)).each(f=>{l.focusManager.set(s,f)})},nD=(s,l,d)=>(d.cycles?w_:eD)(s,d.selector,l,-1),oD=(s,l,d)=>(d.cycles?w_:eD)(s,d.selector,l,1),kA=s=>(l,d,f,b)=>s(l,d,f,b).bind(()=>f.executeOnMove?SA(l,d,f):R.some(!0)),E2=j([bs(ms(Kc),jv),bs(ms(b_),(s,l,d)=>d.onEscape(s,l))]);var A2=Kv(z8,Bc.init,(s,l,d,f)=>{const b=[...d.allowHorizontal?v_:[]].concat(d.allowVertical?iy:[]),v=[...d.allowHorizontal?C2:[]].concat(d.allowVertical?ay:[]);return[bs(ms(b),kA(pA(nD,oD))),bs(ms(v),kA(bA(nD,oD))),bs(ms(dg),SA),bs(ms(Kc),SA)]},E2,()=>R.some(tD));const C_=(s,l,d)=>R.from(s[l]).bind(f=>R.from(f[d]).map(b=>({rowIndex:l,columnIndex:d,cell:b}))),__=(s,l,d,f)=>{const b=s[l].length,v=Xm(d,f,0,b-1);return C_(s,l,v)},sD=(s,l,d,f)=>{const b=Xm(d,f,0,s.length-1),v=s[b].length,w=$c(l,0,v-1);return C_(s,b,w)},EA=(s,l,d,f)=>{const b=s[l].length,v=$c(d+f,0,b-1);return C_(s,l,v)},AA=(s,l,d,f)=>{const b=$c(d+f,0,s.length-1),v=s[b].length,w=$c(l,0,v-1);return C_(s,b,w)},rD=[Ic("selectors",[Bt("row"),Bt("cell")]),ut("cycles",!0),ut("previousSelector",R.none),ut("execute",S2)],H8=(s,l,d)=>{l.previousSelector(s).orThunk(()=>{const f=l.selectors;return fr(s.element,f.cell)}).each(f=>{l.focusManager.set(s,f)})},S_=(s,l)=>(d,f,b)=>{const v=b.cycles?s:l;return cd(f,b.selectors.row).bind(w=>{const k=Ai(w,b.selectors.cell);return x_(k,f).bind(E=>{const P=Ai(d,b.selectors.row);return x_(P,w).bind(F=>{const L=((H,Y)=>Me(H,Q=>Ai(Q,Y.selectors.cell)))(P,b);return v(L,F,E).map(H=>H.cell)})})})},iD=S_((s,l,d)=>__(s,l,d,-1),(s,l,d)=>EA(s,l,d,-1)),Zv=S_((s,l,d)=>__(s,l,d,1),(s,l,d)=>EA(s,l,d,1)),Gv=S_((s,l,d)=>sD(s,d,l,-1),(s,l,d)=>AA(s,d,l,-1)),k_=S_((s,l,d)=>sD(s,d,l,1),(s,l,d)=>AA(s,d,l,1)),T2=j([bs(ms(v_),pA(iD,Zv)),bs(ms(C2),bA(iD,Zv)),bs(ms(iy),yA(Gv)),bs(ms(ay),GI(k_)),bs(ms(Kc.concat(dg)),(s,l,d)=>Zr(s.element).bind(f=>d.execute(s,l,f)))]),U8=j([bs(ms(Kc),jv)]);var Up=Kv(rD,Bc.init,T2,U8,()=>R.some(H8));const mg=[Bt("selector"),ut("execute",S2),ut("moveOnTab",!1)],E_=(s,l,d)=>d.focusManager.get(s).bind(f=>d.execute(s,l,f)),aD=(s,l,d)=>{fr(s.element,l.selector).each(f=>{l.focusManager.set(s,f)})},lD=(s,l,d)=>w_(s,d.selector,l,-1),TA=(s,l,d)=>w_(s,d.selector,l,1),O2=j([bs(ms(iy),y_(lD)),bs(ms(ay),y_(TA)),bs(im([fg,ms(af)]),(s,l,d,f)=>d.moveOnTab?y_(lD)(s,l,d,f):R.none()),bs(im([_2,ms(af)]),(s,l,d,f)=>d.moveOnTab?y_(TA)(s,l,d,f):R.none()),bs(ms(dg),E_),bs(ms(Kc),E_)]),R2=j([bs(ms(Kc),jv)]);var OA=Kv(mg,Bc.init,O2,R2,()=>R.some(aD));const cD=[Tl("onSpace"),Tl("onEnter"),Tl("onShiftEnter"),Tl("onLeft"),Tl("onRight"),Tl("onTab"),Tl("onShiftTab"),Tl("onUp"),Tl("onDown"),Tl("onEscape"),ut("stopSpaceKeyup",!1),Xo("focusIn")];var I2=Kv(cD,Bc.init,(s,l,d)=>[bs(ms(Kc),d.onSpace),bs(im([_2,ms(dg)]),d.onEnter),bs(im([fg,ms(dg)]),d.onShiftEnter),bs(im([fg,ms(af)]),d.onShiftTab),bs(im([_2,ms(af)]),d.onTab),bs(ms(iy),d.onUp),bs(ms(ay),d.onDown),bs(ms(v_),d.onLeft),bs(ms(C2),d.onRight),bs(ms(Kc),d.onSpace)],(s,l,d)=>[...d.stopSpaceKeyup?[bs(ms(Kc),jv)]:[],bs(ms(b_),d.onEscape)],s=>s.focusIn);const A_=I8.schema(),W8=D8.schema(),RA=A2.schema(),T_=V8.schema(),Ga=Up.schema(),K8=N8.schema(),gg=OA.schema(),uD=I2.schema(),zn=qC({branchKey:"mode",branches:Object.freeze({__proto__:null,acyclic:A_,cyclic:W8,flow:RA,flatgrid:T_,matrix:Ga,execution:K8,menu:gg,special:uD}),name:"keying",active:{events:(s,l)=>s.handler.toEvents(s,l)},apis:{focusIn:(s,l,d)=>{l.sendFocusIn(l).fold(()=>{s.getSystem().triggerFocus(s.element,s.element)},f=>{f(s,l,d)})},setGridSize:(s,l,d,f,b)=>{(v=>Ro(v,"setGridSize"))(d)?d.setGridSize(f,b):console.error("Layout does not support setGridSize")}},state:KI}),qv=(s,l)=>{og(()=>{((d,f,b)=>{const v=d.components();(E=>{mt(E.components(),P=>Zi(P.element)),ur(E.element),E.syncComponents()})(d);const w=b(f),k=xe(v,w);mt(k,E=>{lg(E),d.getSystem().removeFromWorld(E)}),mt(w,E=>{X1(E)?Oh(d,E):(d.getSystem().addToWorld(E),Oh(d,E),hn(d.element)&&cg(E))}),d.syncComponents()})(s,l,()=>Me(l,s.getSystem().build))},s.element)},IA=(s,l)=>{og(()=>{((d,f,b)=>{const v=d.components(),w=vn(f,P=>Kx(P).toArray());mt(v,P=>{dt(w,P)||J1(P)});const k=((P,F,L)=>e_(P,F,(H,Y)=>qx(P,Y,H,L)))(s.element,l,s.getSystem().buildOrPatch),E=xe(v,k);mt(E,P=>{X1(P)&&J1(P)}),mt(k,P=>{X1(P)||zv(d,P)}),d.syncComponents()})(s,l)},s.element)},O_=(s,l,d,f)=>{J1(l);const b=qx(s.element,d,f,s.getSystem().buildOrPatch);zv(s,b),s.syncComponents()},DA=(s,l,d)=>{const f=s.getSystem().build(d);g2(s,f,l)},dD=(s,l,d,f)=>{ml(l),DA(s,(b,v)=>((w,k,E)=>{cr(w,E).fold(()=>{$a(w,k)},P=>{zd(P,k)})})(b,v,d),f)},D2=(s,l)=>s.components(),fD=(s,l,d,f,b)=>{const v=D2(s);return R.from(v[f]).map(w=>(b.fold(()=>ml(w),k=>{(l.reuseDom?O_:dD)(s,w,f,k)}),w))};var PA=Object.freeze({__proto__:null,append:(s,l,d,f)=>{DA(s,$a,f)},prepend:(s,l,d,f)=>{DA(s,nh,f)},remove:(s,l,d,f)=>{const b=D2(s);J(b,w=>fs(f.element,w.element)).each(ml)},replaceAt:fD,replaceBy:(s,l,d,f,b)=>{const v=D2(s);return mo(v,f).bind(w=>fD(s,l,0,w,b))},set:(s,l,d,f)=>(l.reuseDom?IA:qv)(s,f),contents:D2});const Qn=Mi({fields:[ni("reuseDom",!0)],name:"replacing",apis:PA}),Oo=(s,l)=>{const d=((f,b)=>{const v=wo(b);return Mi({fields:[Bt("enabled")],name:f,active:{events:j(v)}})})(s,l);return{key:s,value:{config:{},me:d,configAsRaw:j({}),initialConfig:{},state:Bc}}},mD=(s,l)=>{l.ignore||(ja(s.element),l.onFocus(s))};var gD=Object.freeze({__proto__:null,focus:mD,blur:(s,l)=>{l.ignore||Cv(s.element)},isFocused:s=>_h(s.element)}),hD=Object.freeze({__proto__:null,exhibit:(s,l)=>{const d=l.ignore?{}:{attributes:{tabindex:"-1"}};return Wr(d)},events:s=>wo([Rt(id(),(l,d)=>{mD(l,s),d.stop()})].concat(s.stopMousedown?[Rt(Ft(),(l,d)=>{d.event.prevent()})]:[]))}),pD=[os("onFocus"),ut("stopMousedown",!1),ut("ignore",!1)];const io=Mi({fields:pD,name:"focusing",active:hD,apis:gD}),P2=(s,l,d,f)=>{const b=d.get();d.set(f),((v,w,k)=>{w.toggleClass.each(E=>{k.get()?Sr(v.element,E):Rr(v.element,E)})})(s,l,d),((v,w,k)=>{const E=w.aria;E.update(v,E,k.get())})(s,l,d),b!==f&&l.onToggled(s,f)},Eu=(s,l,d)=>{P2(s,l,d,!d.get())},Yv=(s,l,d)=>{P2(s,l,d,l.selected)};var bD=Object.freeze({__proto__:null,onLoad:Yv,toggle:Eu,isOn:(s,l,d)=>d.get(),on:(s,l,d)=>{P2(s,l,d,!0)},off:(s,l,d)=>{P2(s,l,d,!1)},set:P2}),ly=Object.freeze({__proto__:null,exhibit:()=>Wr({}),events:(s,l)=>{const d=(f=s,b=l,v=Eu,bu(k=>{v(k,f,b)}));var f,b,v;const w=sv(s,l,Yv);return wo(Zt([s.toggleOnExecute?[d]:[],[w]]))}});const Ql=(s,l,d)=>{dn(s.element,"aria-expanded",d)};var jc=[ut("selected",!1),Xo("toggleClass"),ut("toggleOnExecute",!0),os("onToggled"),Wa("aria",{mode:"none"},bi("mode",{pressed:[ut("syncWithExpanded",!1),Xs("update",(s,l,d)=>{dn(s.element,"aria-pressed",d),l.syncWithExpanded&&Ql(s,0,d)})],checked:[Xs("update",(s,l,d)=>{dn(s.element,"aria-checked",d)})],expanded:[Xs("update",Ql)],selected:[Xs("update",(s,l,d)=>{dn(s.element,"aria-selected",d)})],none:[Xs("update",W)]}))];const so=Mi({fields:jc,name:"toggling",active:ly,apis:bD,state:{init:()=>{const s=Un(!1);return{get:()=>s.get(),set:l=>s.set(l),clear:()=>s.set(!1),readState:()=>s.get()}}}}),fd=()=>{const s=(l,d)=>{d.stop(),zf(l)};return[Rt(vi(),s),Rt(Mf(),s),jm(G()),jm(Ft())]},cy=s=>wo(Zt([s.map(l=>bu((d,f)=>{l(d),f.stop()})).toArray(),fd()])),Au="alloy.item-hover",Wp="alloy.item-focus",vD="alloy.item-toggled",yD=s=>{(Zr(s.element).isNone()||io.isFocused(s))&&(io.isFocused(s)||io.focus(s),$n(s,Au,{item:s}))},xD=s=>{$n(s,Wp,{item:s})},NA=j(Au),wD=j(Wp),R_=j(vD),CD=s=>s.role.fold(()=>s.toggling.map(l=>l.exclusive?"menuitemradio":"menuitemcheckbox").getOr("menuitem"),de),j8=[Bt("data"),Bt("components"),Bt("dom"),ut("hasSubmenu",!1),Xo("toggling"),Xo("role"),lo("itemBehaviours",[so,io,zn,gt]),ut("ignoreFocus",!1),ut("domModification",{}),Xs("builder",s=>({dom:s.dom,domModification:{...s.domModification,attributes:{role:CD(s),...s.domModification.attributes,"aria-haspopup":s.hasSubmenu,...s.hasSubmenu?{"aria-expanded":!1}:{}}},behaviours:oo(s.itemBehaviours,[s.toggling.fold(so.revoke,l=>so.config(((d,f)=>({aria:{mode:f?"selected":"checked"},...us(d,(b,v)=>v!=="exclusive"),onToggled:(b,v)=>{Z(d.onToggled)&&d.onToggled(b,v),((w,k)=>{$n(w,vD,{item:w,state:k})})(b,v)}}))(l,s.role.exists(d=>d==="option")))),io.config({ignore:s.ignoreFocus,stopMousedown:s.ignoreFocus,onFocus:l=>{xD(l)}}),zn.config({mode:"execution"}),gt.config({store:{mode:"memory",initialValue:s.data}}),Oo("item-type-events",[...fd(),Rt(Mn(),yD),Rt(tv(),io.focus)])]),components:s.components,eventOrder:s.eventOrder})),ut("eventOrder",{})],Z8=[Bt("dom"),Bt("components"),Xs("builder",s=>({dom:s.dom,components:s.components,events:wo([ZC(tv())])}))],LA=j("item-widget"),MA=j([Dl({name:"widget",overrides:s=>({behaviours:Xt([gt.config({store:{mode:"manual",getValue:l=>s.data,setValue:W}})])})})]),_D=[Bt("uid"),Bt("data"),Bt("components"),Bt("dom"),ut("autofocus",!1),ut("ignoreFocus",!1),lo("widgetBehaviours",[gt,io,zn]),ut("domModification",{}),uA(MA()),Xs("builder",s=>{const l=iA(LA(),s,MA()),d=aA(LA(),s,l.internals()),f=v=>Qs(v,s,"widget").map(w=>(zn.focusIn(w),w)),b=(v,w)=>(oy(w.event.target)||s.autofocus&&w.setSource(v.element),R.none());return{dom:s.dom,components:d,domModification:s.domModification,events:wo([bu((v,w)=>{f(v).each(k=>{w.stop()})}),Rt(Mn(),yD),Rt(tv(),(v,w)=>{s.autofocus?f(v):io.focus(v)})]),behaviours:oo(s.widgetBehaviours,[gt.config({store:{mode:"memory",initialValue:s.data}}),io.config({ignore:s.ignoreFocus,onFocus:v=>{xD(v)}}),zn.config({mode:"special",focusIn:s.autofocus?v=>{f(v)}:HE(),onLeft:b,onRight:b,onEscape:(v,w)=>io.isFocused(v)||s.autofocus?(s.autofocus&&w.setSource(v.element),R.none()):(io.focus(v),R.some(!0))})])}})],SD=bi("type",{widget:_D,item:j8,separator:Z8}),BA=j([p_({factory:{sketch:s=>{const l=Da("menu.spec item",SD,s);return l.builder(l)}},name:"items",unit:"item",defaults:(s,l)=>go(l,"uid")?l:{...l,uid:Vc("item")},overrides:(s,l)=>({type:l.type,ignoreFocus:s.fakeFocus,domModification:{classes:[s.markers.item]}})})]),kD=j([Mr("role"),Bt("value"),Bt("items"),Bt("dom"),Bt("components"),ut("eventOrder",{}),En("menuBehaviours",[Es,gt,ls,zn]),Wa("movement",{mode:"menu",moveOnTab:!0},bi("mode",{grid:[JC(),Xs("config",(s,l)=>({mode:"flatgrid",selector:"."+s.markers.item,initSize:{numColumns:l.initSize.numColumns,numRows:l.initSize.numRows},focusManager:s.focusManager}))],matrix:[Xs("config",(s,l)=>({mode:"matrix",selectors:{row:l.rowSelector,cell:"."+s.markers.item},previousSelector:l.previousSelector,focusManager:s.focusManager})),Bt("rowSelector"),ut("previousSelector",R.none)],menu:[ut("moveOnTab",!0),Xs("config",(s,l)=>({mode:"menu",selector:"."+s.markers.item,moveOnTab:l.moveOnTab,focusManager:s.focusManager}))]})),Yi("markers",fh()),ut("fakeFocus",!1),ut("focusManager",hA()),os("onHighlight"),os("onDehighlight"),ut("showMenuRole",!0)]),ED=j("alloy.menu-focus"),Xv=Ul({name:"Menu",configFields:kD(),partFields:BA(),factory:(s,l,d,f)=>({uid:s.uid,dom:s.dom,markers:s.markers,behaviours:To(s.menuBehaviours,[Es.config({highlightClass:s.markers.selectedItem,itemClass:s.markers.item,onHighlight:s.onHighlight,onDehighlight:s.onDehighlight}),gt.config({store:{mode:"memory",initialValue:s.value}}),ls.config({find:R.some}),zn.config(s.movement.config(s,s.movement))]),events:wo([Rt(wD(),(b,v)=>{const w=v.event;b.getSystem().getByDom(w.target).each(k=>{Es.highlight(b,k),v.stop(),$n(b,ED(),{menu:b,item:k})})}),Rt(NA(),(b,v)=>{const w=v.event.item;Es.highlight(b,w)}),Rt(R_(),(b,v)=>{const{item:w,state:k}=v.event;k&&Zo(w.element,"role")==="menuitemradio"&&((E,P)=>{const F=Ai(E.element,'[role="menuitemradio"][aria-checked="true"]');mt(F,L=>{fs(L,P.element)||E.getSystem().getByDom(L).each(H=>{so.off(H)})})})(b,w)})]),components:l,eventOrder:s.eventOrder,...s.showMenuRole?{domModification:{attributes:{role:s.role.getOr("menu")}}}:{}})}),AD=(s,l,d,f)=>Tn(d,f).bind(b=>Tn(s,b).bind(v=>{const w=AD(s,l,d,v);return R.some([v].concat(w))})).getOr([]),TD=s=>s.type==="prepared"?R.some(s.menu):R.none(),G8=()=>{const s=Un({}),l=Un({}),d=Un({}),f=Ts(),b=Un({}),v=E=>w(E).bind(TD),w=E=>Tn(l.get(),E),k=E=>Tn(s.get(),E);return{setMenuBuilt:(E,P)=>{l.set({...l.get(),[E]:{type:"prepared",menu:P}})},setContents:(E,P,F,L)=>{f.set(E),s.set(F),l.set(P),b.set(L);const H=((Y,Q)=>{const fe={};Yn(Y,(me,Ce)=>{mt(me,Ae=>{fe[Ae]=Ce})});const pe=Q,Ee=$o(Q,(me,Ce)=>({k:me,v:Ce})),ge=to(Ee,(me,Ce)=>[Ce].concat(AD(fe,pe,Ee,Ce)));return to(fe,me=>Tn(ge,me).getOr([me]))})(L,F);d.set(H)},expand:E=>Tn(s.get(),E).map(P=>{const F=Tn(d.get(),E).getOr([]);return[P].concat(F)}),refresh:E=>Tn(d.get(),E),collapse:E=>Tn(d.get(),E).bind(P=>P.length>1?R.some(P.slice(1)):R.none()),lookupMenu:w,lookupItem:k,otherMenus:E=>{const P=b.get();return xe(Kt(P),E)},getPrimary:()=>f.get().bind(v),getMenus:()=>l.get(),clear:()=>{s.set({}),l.set({}),d.set({}),f.clear()},isClear:()=>f.get().isNone(),getTriggeringPath:(E,P)=>{const F=Wt(k(E).toArray(),L=>v(L).isSome());return Tn(d.get(),E).bind(L=>{const H=tt(F.concat(L));return(Y=>{const Q=[];for(let fe=0;fe<Y.length;fe++){const pe=Y[fe];if(!pe.isSome())return R.none();Q.push(pe.getOrDie())}return R.some(Q)})(vn(H,(Y,Q)=>((fe,pe,Ee)=>v(fe).bind(ge=>(me=>xs(s.get(),(Ce,Ae)=>Ce===me))(fe).bind(me=>pe(me).map(Ce=>({triggeredMenu:ge,triggeringItem:Ce,triggeringPath:Ee})))))(Y,P,H.slice(0,Q+1)).fold(()=>ai(f.get(),Y)?[]:[R.none()],fe=>[R.some(fe)])))})}}},q8=TD,Tu=kn("tiered-menu-item-highlight"),Y8=kn("tiered-menu-item-dehighlight");var hl;(function(s){s[s.HighlightMenuAndItem=0]="HighlightMenuAndItem",s[s.HighlightJustMenu=1]="HighlightJustMenu",s[s.HighlightNone=2]="HighlightNone"})(hl||(hl={}));const Jv=j("collapse-item"),Ih=ku({name:"TieredMenu",configFields:[Pa("onExecute"),Pa("onEscape"),ld("onOpenMenu"),ld("onOpenSubmenu"),os("onRepositionMenu"),os("onCollapseMenu"),ut("highlightOnOpen",hl.HighlightMenuAndItem),Ic("data",[Bt("primary"),Bt("menus"),Bt("expansions")]),ut("fakeFocus",!1),os("onHighlightItem"),os("onDehighlightItem"),os("onHover"),mh(),Bt("dom"),ut("navigateOnHover",!0),ut("stayInDom",!1),En("tmenuBehaviours",[zn,Es,ls,Qn]),ut("eventOrder",{})],apis:{collapseMenu:(s,l)=>{s.collapseMenu(l)},highlightPrimary:(s,l)=>{s.highlightPrimary(l)},repositionMenus:(s,l)=>{s.repositionMenus(l)}},factory:(s,l)=>{const d=Ts(),f=G8(),b=me=>gt.getValue(me).value,v=me=>to(s.data.menus,(Ce,Ae)=>vn(Ce.items,Ie=>Ie.type==="separator"?[]:[Ie.data.value])),w=Es.highlight,k=(me,Ce)=>{w(me,Ce),Es.getHighlighted(Ce).orThunk(()=>Es.getFirst(Ce)).each(Ae=>{s.fakeFocus?Es.highlight(Ce,Ae):pr(me,Ae.element,tv())})},E=(me,Ce)=>nl(Me(Ce,Ae=>me.lookupMenu(Ae).bind(Ie=>Ie.type==="prepared"?R.some(Ie.menu):R.none()))),P=(me,Ce,Ae)=>{const Ie=E(Ce,Ce.otherMenus(Ae));mt(Ie,qe=>{dc(qe.element,[s.markers.backgroundMenu]),s.stayInDom||Qn.remove(me,qe)})},F=(me,Ce)=>{const Ae=(Ie=>d.get().getOrThunk(()=>{const qe={},lt=Ai(Ie.element,`.${s.markers.item}`),Nt=Wt(lt,Ot=>Zo(Ot,"aria-haspopup")==="true");return mt(Nt,Ot=>{Ie.getSystem().getByDom(Ot).each(Et=>{const jt=b(Et);qe[jt]=Et})}),d.set(qe),qe}))(me);Yn(Ae,(Ie,qe)=>{const lt=dt(Ce,qe);dn(Ie.element,"aria-expanded",lt)})},L=(me,Ce,Ae)=>R.from(Ae[0]).bind(Ie=>Ce.lookupMenu(Ie).bind(qe=>{if(qe.type==="notbuilt")return R.none();{const lt=qe.menu,Nt=E(Ce,Ae.slice(1));return mt(Nt,Ot=>{Sr(Ot.element,s.markers.backgroundMenu)}),hn(lt.element)||Qn.append(me,dl(lt)),dc(lt.element,[s.markers.backgroundMenu]),k(me,lt),P(me,Ce,Ae),R.some(lt)}}));let H;(function(me){me[me.HighlightSubmenu=0]="HighlightSubmenu",me[me.HighlightParent=1]="HighlightParent"})(H||(H={}));const Y=(me,Ce,Ae=H.HighlightSubmenu)=>{if(Ce.hasConfigured(co)&&co.isDisabled(Ce))return R.some(Ce);{const Ie=b(Ce);return f.expand(Ie).bind(qe=>(F(me,qe),R.from(qe[0]).bind(lt=>f.lookupMenu(lt).bind(Nt=>{const Ot=((Et,jt,xn)=>{if(xn.type==="notbuilt"){const Pn=Et.getSystem().build(xn.nbMenu());return f.setMenuBuilt(jt,Pn),Pn}return xn.menu})(me,lt,Nt);return hn(Ot.element)||Qn.append(me,dl(Ot)),s.onOpenSubmenu(me,Ce,Ot,tt(qe)),Ae===H.HighlightSubmenu?(Es.highlightFirst(Ot),L(me,f,qe)):(Es.dehighlightAll(Ot),R.some(Ce))}))))}},Q=(me,Ce)=>{const Ae=b(Ce);return f.collapse(Ae).bind(Ie=>(F(me,Ie),L(me,f,Ie).map(qe=>(s.onCollapseMenu(me,Ce,qe),qe))))},fe=me=>(Ce,Ae)=>cd(Ae.getSource(),`.${s.markers.item}`).bind(Ie=>Ce.getSystem().getByDom(Ie).toOptional().bind(qe=>me(Ce,qe).map(_e))),pe=wo([Rt(ED(),(me,Ce)=>{const Ae=Ce.event.item;f.lookupItem(b(Ae)).each(()=>{const Ie=Ce.event.menu;Es.highlight(me,Ie);const qe=b(Ce.event.item);f.refresh(qe).each(lt=>P(me,f,lt))})}),bu((me,Ce)=>{const Ae=Ce.event.target;me.getSystem().getByDom(Ae).each(Ie=>{b(Ie).indexOf("collapse-item")===0&&Q(me,Ie),Y(me,Ie,H.HighlightSubmenu).fold(()=>{s.onExecute(me,Ie)},W)})}),ar((me,Ce)=>{(Ae=>{const Ie=((lt,Nt,Ot)=>to(Ot,(Et,jt)=>{const xn=()=>Xv.sketch({...Et,value:jt,markers:s.markers,fakeFocus:s.fakeFocus,onHighlight:(Pn,jn)=>{$n(Pn,Tu,{menuComp:Pn,itemComp:jn})},onDehighlight:(Pn,jn)=>{$n(Pn,Y8,{menuComp:Pn,itemComp:jn})},focusManager:s.fakeFocus?R8():hA()});return jt===Nt?{type:"prepared",menu:lt.getSystem().build(xn())}:{type:"notbuilt",nbMenu:xn}}))(Ae,s.data.primary,s.data.menus),qe=v();return f.setContents(s.data.primary,Ie,s.data.expansions,qe),f.getPrimary()})(me).each(Ae=>{Qn.append(me,dl(Ae)),s.onOpenMenu(me,Ae),s.highlightOnOpen===hl.HighlightMenuAndItem?k(me,Ae):s.highlightOnOpen===hl.HighlightJustMenu&&w(me,Ae)})}),Rt(Tu,(me,Ce)=>{s.onHighlightItem(me,Ce.event.menuComp,Ce.event.itemComp)}),Rt(Y8,(me,Ce)=>{s.onDehighlightItem(me,Ce.event.menuComp,Ce.event.itemComp)}),...s.navigateOnHover?[Rt(NA(),(me,Ce)=>{const Ae=Ce.event.item;((Ie,qe)=>{const lt=b(qe);f.refresh(lt).bind(Nt=>(F(Ie,Nt),L(Ie,f,Nt)))})(me,Ae),Y(me,Ae,H.HighlightParent),s.onHover(me,Ae)})]:[]]),Ee=me=>Es.getHighlighted(me).bind(Es.getHighlighted),ge={collapseMenu:me=>{Ee(me).each(Ce=>{Q(me,Ce)})},highlightPrimary:me=>{f.getPrimary().each(Ce=>{k(me,Ce)})},repositionMenus:me=>{f.getPrimary().bind(Ae=>Ee(me).bind(Ie=>{const qe=b(Ie),lt=ji(f.getMenus()),Nt=nl(Me(lt,q8));return f.getTriggeringPath(qe,Ot=>((Et,jt,xn)=>ln(jt,Pn=>{if(!Pn.getSystem().isConnected())return R.none();const jn=Es.getCandidates(Pn);return J(jn,uo=>b(uo)===xn)}))(0,Nt,Ot))}).map(Ie=>({primary:Ae,triggeringPath:Ie}))).fold(()=>{(Ae=>R.from(Ae.components()[0]).filter(Ie=>Zo(Ie.element,"role")==="menu"))(me).each(Ae=>{s.onRepositionMenu(me,Ae,[])})},({primary:Ae,triggeringPath:Ie})=>{s.onRepositionMenu(me,Ae,Ie)})}};return{uid:s.uid,dom:s.dom,markers:s.markers,behaviours:To(s.tmenuBehaviours,[zn.config({mode:"special",onRight:fe((me,Ce)=>oy(Ce.element)?R.none():Y(me,Ce,H.HighlightSubmenu)),onLeft:fe((me,Ce)=>oy(Ce.element)?R.none():Q(me,Ce)),onEscape:fe((me,Ce)=>Q(me,Ce).orThunk(()=>s.onEscape(me,Ce).map(()=>me))),focusIn:(me,Ce)=>{f.getPrimary().each(Ae=>{pr(me,Ae.element,tv())})}}),Es.config({highlightClass:s.markers.selectedMenu,itemClass:s.markers.menu}),ls.config({find:me=>Es.getHighlighted(me)}),Qn.config({})]),eventOrder:s.eventOrder,apis:ge,events:pe}},extraApis:{tieredData:(s,l,d)=>({primary:s,menus:l,expansions:d}),singleData:(s,l)=>({primary:s,menus:gu(s,l),expansions:{}}),collapseItem:s=>({value:kn(Jv()),meta:{text:s}})}}),br=ku({name:"InlineView",configFields:[Bt("lazySink"),os("onShow"),os("onHide"),mu("onEscape"),En("inlineBehaviours",[T,gt,Rl]),Tr("fireDismissalEventInstead",[ut("event",ah())]),Tr("fireRepositionEventInstead",[ut("event",$f())]),ut("getRelated",R.none),ut("isExtraPart",we),ut("eventOrder",R.none)],factory:(s,l)=>{const d=(w,k,E,P)=>{const F=s.lazySink(w).getOrDie();T.openWhileCloaked(w,k,()=>xa.positionWithinBounds(F,w,E,P())),gt.setValue(w,R.some({mode:"position",config:E,getBounds:P}))},f=(w,k,E,P)=>{const F=((L,H,Y,Q,fe)=>{const pe=()=>L.lazySink(H),Ee=Q.type==="horizontal"?{layouts:{onLtr:()=>$1(),onRtl:()=>V1()}}:{},ge=me=>(Ce=>Ce.length===2)(me)?Ee:{};return Ih.sketch({dom:{tag:"div"},data:Q.data,markers:Q.menu.markers,highlightOnOpen:Q.menu.highlightOnOpen,fakeFocus:Q.menu.fakeFocus,onEscape:()=>(T.close(H),L.onEscape.map(me=>me(H)),R.some(!0)),onExecute:()=>R.some(!0),onOpenMenu:(me,Ce)=>{xa.positionWithinBounds(pe().getOrDie(),Ce,Y,fe())},onOpenSubmenu:(me,Ce,Ae,Ie)=>{const qe=pe().getOrDie();xa.position(qe,Ae,{anchor:{type:"submenu",item:Ce,...ge(Ie)}})},onRepositionMenu:(me,Ce,Ae)=>{const Ie=pe().getOrDie();xa.positionWithinBounds(Ie,Ce,Y,fe()),mt(Ae,qe=>{const lt=ge(qe.triggeringPath);xa.position(Ie,qe.triggeredMenu,{anchor:{type:"submenu",item:qe.triggeringItem,...lt}})})}})})(s,w,k,E,P);T.open(w,F),gt.setValue(w,R.some({mode:"menu",menu:F}))},b=w=>{T.isOpen(w)&&gt.getValue(w).each(k=>{switch(k.mode){case"menu":T.getState(w).each(Ih.repositionMenus);break;case"position":const E=s.lazySink(w).getOrDie();xa.positionWithinBounds(E,w,k.config,k.getBounds())}})},v={setContent:(w,k)=>{T.setContent(w,k)},showAt:(w,k,E)=>{const P=R.none;d(w,k,E,P)},showWithinBounds:d,showMenuAt:(w,k,E)=>{f(w,k,E,R.none)},showMenuWithinBounds:f,hide:w=>{T.isOpen(w)&&(gt.setValue(w,R.none()),T.close(w))},getContent:w=>T.getState(w),reposition:b,isOpen:T.isOpen};return{uid:s.uid,dom:s.dom,behaviours:To(s.inlineBehaviours,[T.config({isPartOf:(w,k,E)=>Ol(k,E)||((P,F)=>s.getRelated(P).exists(L=>Ol(L,F)))(w,E),getAttachPoint:w=>s.lazySink(w).getOrDie(),onOpen:w=>{s.onShow(w)},onClose:w=>{s.onHide(w)}}),gt.config({store:{mode:"memory",initialValue:R.none()}}),Rl.config({channels:{...le({isExtraPart:l.isExtraPart,...s.fireDismissalEventInstead.map(w=>({fireEventInstead:{event:w.event}})).getOr({})}),...$e({...s.fireRepositionEventInstead.map(w=>({fireEventInstead:{event:w.event}})).getOr({}),doReposition:b})}})]),eventOrder:s.eventOrder,apis:v}},apis:{showAt:(s,l,d,f)=>{s.showAt(l,d,f)},showWithinBounds:(s,l,d,f,b)=>{s.showWithinBounds(l,d,f,b)},showMenuAt:(s,l,d,f)=>{s.showMenuAt(l,d,f)},showMenuWithinBounds:(s,l,d,f,b)=>{s.showMenuWithinBounds(l,d,f,b)},hide:(s,l)=>{s.hide(l)},isOpen:(s,l)=>s.isOpen(l),getContent:(s,l)=>s.getContent(l),setContent:(s,l,d)=>{s.setContent(l,d)},reposition:(s,l)=>{s.reposition(l)}}});var md,N2,I_=tinymce.util.Tools.resolve("tinymce.util.Delay"),uy=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),OD=tinymce.util.Tools.resolve("tinymce.EditorManager"),am=tinymce.util.Tools.resolve("tinymce.Env");(function(s){s.default="wrap",s.floating="floating",s.sliding="sliding",s.scrolling="scrolling"})(md||(md={})),function(s){s.auto="auto",s.top="top",s.bottom="bottom"}(N2||(N2={}));const $s=s=>l=>l.options.get(s),L2=s=>l=>R.from(s(l)),RD=s=>{const l=am.deviceType.isPhone(),d=am.deviceType.isTablet()||l,f=s.options.register,b=w=>h(w)||w===!1,v=w=>h(w)||ee(w);f("skin",{processor:w=>h(w)||w===!1,default:"oxide"}),f("skin_url",{processor:"string"}),f("height",{processor:v,default:Math.max(s.getElement().offsetHeight,400)}),f("width",{processor:v,default:uy.DOM.getStyle(s.getElement(),"width")}),f("min_height",{processor:"number",default:100}),f("min_width",{processor:"number"}),f("max_height",{processor:"number"}),f("max_width",{processor:"number"}),f("style_formats",{processor:"object[]"}),f("style_formats_merge",{processor:"boolean",default:!1}),f("style_formats_autohide",{processor:"boolean",default:!1}),f("line_height_formats",{processor:"string",default:"1 1.1 1.2 1.3 1.4 1.5 2"}),f("font_family_formats",{processor:"string",default:"Andale Mono=andale mono,monospace;Arial=arial,helvetica,sans-serif;Arial Black=arial black,sans-serif;Book Antiqua=book antiqua,palatino,serif;Comic Sans MS=comic sans ms,sans-serif;Courier New=courier new,courier,monospace;Georgia=georgia,palatino,serif;Helvetica=helvetica,arial,sans-serif;Impact=impact,sans-serif;Symbol=symbol;Tahoma=tahoma,arial,helvetica,sans-serif;Terminal=terminal,monaco,monospace;Times New Roman=times new roman,times,serif;Trebuchet MS=trebuchet ms,geneva,sans-serif;Verdana=verdana,geneva,sans-serif;Webdings=webdings;Wingdings=wingdings,zapf dingbats"}),f("font_size_formats",{processor:"string",default:"8pt 10pt 12pt 14pt 18pt 24pt 36pt"}),f("font_size_input_default_unit",{processor:"string",default:"pt"}),f("block_formats",{processor:"string",default:"Paragraph=p;Heading 1=h1;Heading 2=h2;Heading 3=h3;Heading 4=h4;Heading 5=h5;Heading 6=h6;Preformatted=pre"}),f("content_langs",{processor:"object[]"}),f("removed_menuitems",{processor:"string",default:""}),f("menubar",{processor:w=>h(w)||O(w),default:!l}),f("menu",{processor:"object",default:{}}),f("toolbar",{processor:w=>O(w)||h(w)||D(w)?{value:w,valid:!0}:{valid:!1,message:"Must be a boolean, string or array."},default:!0}),At(9,w=>{f("toolbar"+(w+1),{processor:"string"})}),f("toolbar_mode",{processor:"string",default:d?"scrolling":"floating"}),f("toolbar_groups",{processor:"object",default:{}}),f("toolbar_location",{processor:"string",default:N2.auto}),f("toolbar_persist",{processor:"boolean",default:!1}),f("toolbar_sticky",{processor:"boolean",default:s.inline}),f("toolbar_sticky_offset",{processor:"number",default:0}),f("fixed_toolbar_container",{processor:"string",default:""}),f("fixed_toolbar_container_target",{processor:"object"}),f("ui_mode",{processor:"string",default:"combined"}),f("file_picker_callback",{processor:"function"}),f("file_picker_validator_handler",{processor:"function"}),f("file_picker_types",{processor:"string"}),f("typeahead_urls",{processor:"boolean",default:!0}),f("anchor_top",{processor:b,default:"#top"}),f("anchor_bottom",{processor:b,default:"#bottom"}),f("draggable_modal",{processor:"boolean",default:!1}),f("statusbar",{processor:"boolean",default:!0}),f("elementpath",{processor:"boolean",default:!0}),f("branding",{processor:"boolean",default:!0}),f("promotion",{processor:"boolean",default:!0}),f("resize",{processor:w=>w==="both"||O(w),default:!am.deviceType.isTouch()}),f("sidebar_show",{processor:"string"}),f("help_accessibility",{processor:"boolean",default:s.hasPlugin("help")}),f("default_font_stack",{processor:"string[]",default:[]})},FA=$s("readonly"),M2=$s("height"),B2=$s("width"),F2=L2($s("min_width")),dy=L2($s("min_height")),fy=L2($s("max_width")),D_=L2($s("max_height")),my=L2($s("style_formats")),P_=$s("style_formats_merge"),ID=$s("style_formats_autohide"),$A=$s("content_langs"),DD=$s("removed_menuitems"),Qv=$s("toolbar_mode"),N_=$s("toolbar_groups"),Kp=$s("toolbar_location"),VA=$s("fixed_toolbar_container"),X8=$s("fixed_toolbar_container_target"),PD=$s("toolbar_persist"),zA=$s("toolbar_sticky_offset"),Dh=$s("menubar"),gy=$s("toolbar"),L_=$s("file_picker_callback"),$2=$s("file_picker_validator_handler"),HA=$s("font_size_input_default_unit"),V2=$s("file_picker_types"),M_=$s("typeahead_urls"),ND=$s("anchor_top"),LD=$s("anchor_bottom"),lm=$s("draggable_modal"),MD=$s("statusbar"),BD=$s("elementpath"),Zc=$s("branding"),wa=$s("resize"),FD=$s("paste_as_text"),B_=$s("sidebar_show"),$D=$s("promotion"),UA=$s("help_accessibility"),F_=$s("default_font_stack"),jp=s=>s.options.get("skin")===!1,z2=s=>s.options.get("menubar")!==!1,$_=s=>{const l=s.options.get("skin_url");if(jp(s))return l;if(l)return s.documentBaseURI.toAbsolute(l);{const d=s.options.get("skin");return OD.baseURL+"/skins/ui/"+d}},V_=s=>R.from(s.options.get("skin_url")),VD=s=>s.options.get("line_height_formats").split(" "),H2=s=>{const l=gy(s),d=h(l),f=D(l)&&l.length>0;return!U2(s)&&(f||d||l===!0)},z_=s=>{const l=At(9,f=>s.options.get("toolbar"+(f+1))),d=Wt(l,h);return ds(d.length>0,d)},U2=s=>z_(s).fold(()=>{const l=gy(s);return ie(l,h)&&l.length>0},_e),WA=s=>Kp(s)===N2.bottom,KA=s=>{var l;if(!s.inline)return R.none();const d=(l=VA(s))!==null&&l!==void 0?l:"";if(d.length>0)return fr(Sn(),d);const f=X8(s);return z(f)?R.some(fn(f)):R.none()},e0=s=>s.inline&&KA(s).isSome(),H_=s=>KA(s).getOrThunk(()=>ot(pt(fn(s.getElement())))),U_=s=>s.inline&&!z2(s)&&!H2(s)&&!U2(s),Ph=s=>(s.options.get("toolbar_sticky")||s.inline)&&!e0(s)&&!U_(s),Nh=s=>!e0(s)&&s.options.get("ui_mode")==="split",Zp=s=>{const l=s.options.get("menu");return to(l,d=>({...d,items:d.items}))};var W2=Object.freeze({__proto__:null,get ToolbarMode(){return md},get ToolbarLocation(){return N2},register:RD,getSkinUrl:$_,getSkinUrlOption:V_,isReadOnly:FA,isSkinDisabled:jp,getHeightOption:M2,getWidthOption:B2,getMinWidthOption:F2,getMinHeightOption:dy,getMaxWidthOption:fy,getMaxHeightOption:D_,getUserStyleFormats:my,shouldMergeStyleFormats:P_,shouldAutoHideStyleFormats:ID,getLineHeightFormats:VD,getContentLanguages:$A,getRemovedMenuItems:DD,isMenubarEnabled:z2,isMultipleToolbars:U2,isToolbarEnabled:H2,isToolbarPersist:PD,getMultipleToolbarsOption:z_,getUiContainer:H_,useFixedContainer:e0,isSplitUiMode:Nh,getToolbarMode:Qv,isDraggableModal:lm,isDistractionFree:U_,isStickyToolbar:Ph,getStickyToolbarOffset:zA,getToolbarLocation:Kp,isToolbarLocationBottom:WA,getToolbarGroups:N_,getMenus:Zp,getMenubar:Dh,getToolbar:gy,getFilePickerCallback:L_,getFilePickerTypes:V2,useTypeaheadUrls:M_,getAnchorTop:ND,getAnchorBottom:LD,getFilePickerValidatorHandler:$2,getFontSizeInputDefaultUnit:HA,useStatusBar:MD,useElementPath:BD,promotionEnabled:$D,useBranding:Zc,getResize:wa,getPasteAsText:FD,getSidebarShow:B_,useHelpAccessibility:UA,getDefaultFontStack:F_});const J8=["visible","hidden","clip"],zD=s=>Ac(s).length>0&&!dt(J8,s),HD=s=>{if(Cl(s)){const l=Er(s,"overflow-x"),d=Er(s,"overflow-y");return zD(l)||zD(d)}return!1},Gp=(s,l)=>Nh(s)?((d,f)=>{const b=Bp(f,HD),v=b.length===0?Yt(f).map(cn).map(w=>Bp(w,HD)).getOr([]):b;return Ne(v).map(w=>({element:w,others:v.slice(1),isFullscreen:()=>(k=>k.plugins.fullscreen&&k.plugins.fullscreen.isFullscreen())(d)}))})(s,l):R.none(),qp=s=>{const l=[...Me(s.others,ci),Gi()];return s.isFullscreen()?Gi():((d,f)=>on(f,(b,v)=>Ud(b,v),d))(ci(s.element),l)},qa=ku({name:"Button",factory:s=>{const l=cy(s.action),d=s.dom.tag,f=b=>Tn(s.dom,"attributes").bind(v=>Tn(v,b));return{uid:s.uid,dom:s.dom,components:s.components,events:l,behaviours:oo(s.buttonBehaviours,[io.config({}),zn.config({mode:"execution",useSpace:!0,useEnter:!0})]),domModification:{attributes:d==="button"?{type:f("type").getOr("button"),...f("role").map(b=>({role:b})).getOr({})}:{role:s.role.getOr(f("role").getOr("button"))}},eventOrder:s.eventOrder}},configFields:[ut("uid",void 0),Bt("dom"),ut("components",[]),lo("buttonBehaviours",[io,zn]),Xo("action"),Xo("role"),ut("eventOrder",{})]}),hg=s=>{const l=Zl(s),d=Ms(l),f=(w=>{const k=w.dom.attributes!==void 0?w.dom.attributes:[];return on(k,(E,P)=>P.name==="class"?E:{...E,[P.name]:P.value},{})})(l),b=(w=>Array.prototype.slice.call(w.dom.classList,0))(l),v=d.length===0?{}:{innerHtml:Xd(l)};return{tag:ol(l),classes:b,attributes:f,...v}},Ss=s=>{const l=(d=>d.uid!==void 0)(s)&&Ro(s,"uid")?s.uid:Vc("memento");return{get:d=>d.getSystem().getByUid(l).getOrDie(),getOpt:d=>d.getSystem().getByUid(l).toOptional(),asSpec:()=>({...s,uid:l})}};var Q8=Object.freeze({__proto__:null,exhibit:(s,l)=>Wr({attributes:Zd([{key:l.tabAttr,value:"true"}])})}),UD=[ut("tabAttr","data-alloy-tabstop")];const Gs=Mi({fields:UD,name:"tabstopping",active:Q8}),jA=kn("tooltip.exclusive"),K2=kn("tooltip.show"),j2=kn("tooltip.hide"),Z2=kn("tooltip.immediateHide"),G2=kn("tooltip.immediateShow"),WD=(s,l,d)=>{s.getSystem().broadcastOn([jA],{})};var e7=Object.freeze({__proto__:null,hideAllExclusive:WD,immediateOpenClose:(s,l,d,f)=>No(s,f?G2:Z2),isEnabled:(s,l,d)=>d.isEnabled(),setComponents:(s,l,d,f)=>{d.getTooltip().each(b=>{b.getSystem().isConnected()&&Qn.set(b,f)})},setEnabled:(s,l,d,f)=>d.setEnabled(f)}),t7=Object.freeze({__proto__:null,events:(s,l)=>{const d=v=>{l.getTooltip().each(w=>{w.getSystem().isConnected()&&(ml(w),s.onHide(v,w),l.clearTooltip())}),l.clearTimer()},f=v=>{if(!l.isShowing()&&l.isEnabled()){WD(v);const w=s.lazySink(v).getOrDie(),k=v.getSystem().build({dom:s.tooltipDom,components:s.tooltipComponents,events:wo(s.mode==="normal"?[Rt(Mn(),E=>{No(v,K2)}),Rt(Eo(),E=>{No(v,j2)})]:[]),behaviours:Xt([Qn.config({})])});l.setTooltip(k),nm(w,k),s.onShow(v,k),xa.position(w,k,{anchor:s.anchor(v)})}},b=v=>{l.getTooltip().each(w=>{const k=s.lazySink(v).getOrDie();xa.position(k,w,{anchor:s.anchor(v)})})};return wo(Zt([[v1(v=>{s.onSetup(v)}),Rt(K2,v=>{l.resetTimer(()=>{f(v)},s.delayForShow())}),Rt(j2,v=>{l.resetTimer(()=>{d(v)},s.delayForHide())}),Rt(G2,v=>{l.resetTimer(()=>{f(v)},0)}),Rt(Z2,v=>{l.resetTimer(()=>{d(v)},0)}),Rt(cc(),(v,w)=>{const k=w;k.universal||dt(k.channels,jA)&&d(v)}),ad(v=>{d(v)})],(()=>{switch(s.mode){case"normal":return[Rt(ws(),v=>{No(v,G2)}),Rt(wp(),v=>{No(v,Z2)}),Rt(Mn(),v=>{No(v,K2)}),Rt(Eo(),v=>{No(v,j2)})];case"follow-highlight":return[Rt(Ox(),(v,w)=>{No(v,K2)}),Rt(Vf(),v=>{No(v,j2)})];case"children-normal":return[Rt(ws(),(v,w)=>{Zr(v.element).each(k=>{ou(w.event.target,"[data-mce-tooltip]")&&l.getTooltip().fold(()=>{No(v,G2)},E=>{l.isShowing()&&(s.onShow(v,E),b(v))})})}),Rt(wp(),v=>{Zr(v.element).fold(()=>{No(v,Z2)},W)}),Rt(Mn(),v=>{fr(v.element,"[data-mce-tooltip]:hover").each(w=>{l.getTooltip().fold(()=>{No(v,K2)},k=>{l.isShowing()&&(s.onShow(v,k),b(v))})})}),Rt(Eo(),v=>{fr(v.element,"[data-mce-tooltip]:hover").fold(()=>{No(v,j2)},W)})];default:return[Rt(ws(),(v,w)=>{Zr(v.element).each(k=>{ou(w.event.target,"[data-mce-tooltip]")&&l.getTooltip().fold(()=>{No(v,G2)},E=>{l.isShowing()&&(s.onShow(v,E),b(v))})})}),Rt(wp(),v=>{Zr(v.element).fold(()=>{No(v,Z2)},W)})]}})()]))}}),n7=[Bt("lazySink"),Bt("tooltipDom"),ut("exclusive",!0),ut("tooltipComponents",[]),or("delayForShow",j(300)),or("delayForHide",j(300)),or("onSetup",W),Dc("mode","normal",["normal","follow-highlight","children-keyboard-focus","children-normal"]),ut("anchor",s=>({type:"hotspot",hotspot:s,layouts:{onLtr:j([jr,kr,Ir,oi,Dr,Fs]),onRtl:j([jr,kr,Ir,oi,Dr,Fs])},bubble:fc(0,-2,{})})),os("onHide"),os("onShow")],o7=Object.freeze({__proto__:null,init:()=>{const s=Un(!0),l=Ts(),d=Ts(),f=()=>{l.on(clearTimeout)},b=j("not-implemented");return Li({getTooltip:d.get,isShowing:d.isSet,setTooltip:d.set,clearTooltip:d.clear,clearTimer:f,resetTimer:(v,w)=>{f(),l.set(setTimeout(v,w))},readState:b,isEnabled:()=>s.get(),setEnabled:v=>s.set(v)})}});const ri=Mi({fields:n7,name:"tooltipping",active:t7,state:o7,apis:e7}),{entries:KD,setPrototypeOf:ZA,isFrozen:jD,getPrototypeOf:ZD,getOwnPropertyDescriptor:s7}=Object;let{freeze:gc,seal:cm,create:GD}=Object,{apply:GA,construct:qA}=typeof Reflect<"u"&&Reflect;GA||(GA=function(s,l,d){return s.apply(l,d)}),gc||(gc=function(s){return s}),cm||(cm=function(s){return s}),qA||(qA=function(s,l){return new s(...l)});const YA=lf(Array.prototype.forEach),r7=lf(Array.prototype.pop),q2=lf(Array.prototype.push),W_=lf(String.prototype.toLowerCase),K_=lf(String.prototype.toString),i7=lf(String.prototype.match),bn=lf(String.prototype.replace),t0=lf(String.prototype.indexOf),a7=lf(String.prototype.trim),Ou=lf(RegExp.prototype.test),Yp=(j_=TypeError,function(){for(var s=arguments.length,l=new Array(s),d=0;d<s;d++)l[d]=arguments[d];return qA(j_,l)});var j_;function lf(s){return function(l){for(var d=arguments.length,f=new Array(d>1?d-1:0),b=1;b<d;b++)f[b-1]=arguments[b];return GA(s,l,f)}}function Hs(s,l,d){var f;d=(f=d)!==null&&f!==void 0?f:W_,ZA&&ZA(s,null);let b=l.length;for(;b--;){let v=l[b];if(typeof v=="string"){const w=d(v);w!==v&&(jD(l)||(l[b]=w),v=w)}s[v]=!0}return s}function hy(s){const l=GD(null);for(const[d,f]of KD(s))l[d]=f;return l}function Z_(s,l){for(;s!==null;){const d=s7(s,l);if(d){if(d.get)return lf(d.get);if(typeof d.value=="function")return lf(d.value)}s=ZD(s)}return function(d){return console.warn("fallback value for",d),null}}const XA=gc(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),Y2=gc(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),n0=gc(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),qD=gc(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),JA=gc(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),l7=gc(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),YD=gc(["#text"]),c7=gc(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),G_=gc(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),XD=gc(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),q_=gc(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),u7=cm(/\{\{[\w\W]*|[\w\W]*\}\}/gm),d7=cm(/<%[\w\W]*|[\w\W]*%>/gm),QA=cm(/\${[\w\W]*}/gm),f7=cm(/^data-[\-\w.\u00B7-\uFFFF]/),m7=cm(/^aria-[\-\w]+$/),JD=cm(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),g7=cm(/^(?:\w+script|data):/i),h7=cm(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),pg=cm(/^html$/i);var X2=Object.freeze({__proto__:null,MUSTACHE_EXPR:u7,ERB_EXPR:d7,TMPLIT_EXPR:QA,DATA_ATTR:f7,ARIA_ATTR:m7,IS_ALLOWED_URI:JD,IS_SCRIPT_OR_DATA:g7,ATTR_WHITESPACE:h7,DOCTYPE_NAME:pg});const p7=()=>typeof window>"u"?null:window;var b7=function s(){let l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:p7();const d=vt=>s(vt);if(d.version="3.0.5",d.removed=[],!l||!l.document||l.document.nodeType!==9)return d.isSupported=!1,d;const f=l.document,b=f.currentScript;let{document:v}=l;const{DocumentFragment:w,HTMLTemplateElement:k,Node:E,Element:P,NodeFilter:F,NamedNodeMap:L=l.NamedNodeMap||l.MozNamedAttrMap,HTMLFormElement:H,DOMParser:Y,trustedTypes:Q}=l,fe=P.prototype,pe=Z_(fe,"cloneNode"),Ee=Z_(fe,"nextSibling"),ge=Z_(fe,"childNodes"),me=Z_(fe,"parentNode");if(typeof k=="function"){const vt=v.createElement("template");vt.content&&vt.content.ownerDocument&&(v=vt.content.ownerDocument)}let Ce,Ae="";const{implementation:Ie,createNodeIterator:qe,createDocumentFragment:lt,getElementsByTagName:Nt}=v,{importNode:Ot}=f;let Et={};d.isSupported=typeof KD=="function"&&typeof me=="function"&&Ie&&Ie.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:jt,ERB_EXPR:xn,TMPLIT_EXPR:Pn,DATA_ATTR:jn,ARIA_ATTR:uo,IS_SCRIPT_OR_DATA:Ko,ATTR_WHITESPACE:rr}=X2;let{IS_ALLOWED_URI:mr}=X2,Io=null;const ss=Hs({},[...XA,...Y2,...n0,...JA,...YD]);let Jn=null;const gr=Hs({},[...c7,...G_,...XD,...q_]);let Vs=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Ya=null,Xa=null,ta=!0,$i=!0,Zh=!1,jy=!0,vb=!1,Gh=!1,sC=!1,yb=!1,Ig=!1,R0=!1,I0=!1,Zy=!0,Nk=!1,rC=!0,xb=!1,Dg={},qh=null;const iC=Hs({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let aC=null;const vs=Hs({},["audio","video","img","source","image","track"]);let Pg=null;const pf=Hs({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),D0="http://www.w3.org/1998/Math/MathML",Lk="http://www.w3.org/2000/svg",Yh="http://www.w3.org/1999/xhtml";let Gy=Yh,jO=!1,Mk=null;const _H=Hs({},[D0,Lk,Yh],K_);let qy;const SH=["application/xhtml+xml","text/html"];let Ll,P0=null;const kH=v.createElement("form"),kB=function(vt){return vt instanceof RegExp||vt instanceof Function},Bk=function(vt){if(!P0||P0!==vt){if(vt&&typeof vt=="object"||(vt={}),vt=hy(vt),qy=qy=SH.indexOf(vt.PARSER_MEDIA_TYPE)===-1?"text/html":vt.PARSER_MEDIA_TYPE,Ll=qy==="application/xhtml+xml"?K_:W_,Io="ALLOWED_TAGS"in vt?Hs({},vt.ALLOWED_TAGS,Ll):ss,Jn="ALLOWED_ATTR"in vt?Hs({},vt.ALLOWED_ATTR,Ll):gr,Mk="ALLOWED_NAMESPACES"in vt?Hs({},vt.ALLOWED_NAMESPACES,K_):_H,Pg="ADD_URI_SAFE_ATTR"in vt?Hs(hy(pf),vt.ADD_URI_SAFE_ATTR,Ll):pf,aC="ADD_DATA_URI_TAGS"in vt?Hs(hy(vs),vt.ADD_DATA_URI_TAGS,Ll):vs,qh="FORBID_CONTENTS"in vt?Hs({},vt.FORBID_CONTENTS,Ll):iC,Ya="FORBID_TAGS"in vt?Hs({},vt.FORBID_TAGS,Ll):{},Xa="FORBID_ATTR"in vt?Hs({},vt.FORBID_ATTR,Ll):{},Dg="USE_PROFILES"in vt&&vt.USE_PROFILES,ta=vt.ALLOW_ARIA_ATTR!==!1,$i=vt.ALLOW_DATA_ATTR!==!1,Zh=vt.ALLOW_UNKNOWN_PROTOCOLS||!1,jy=vt.ALLOW_SELF_CLOSE_IN_ATTR!==!1,vb=vt.SAFE_FOR_TEMPLATES||!1,Gh=vt.WHOLE_DOCUMENT||!1,Ig=vt.RETURN_DOM||!1,R0=vt.RETURN_DOM_FRAGMENT||!1,I0=vt.RETURN_TRUSTED_TYPE||!1,yb=vt.FORCE_BODY||!1,Zy=vt.SANITIZE_DOM!==!1,Nk=vt.SANITIZE_NAMED_PROPS||!1,rC=vt.KEEP_CONTENT!==!1,xb=vt.IN_PLACE||!1,mr=vt.ALLOWED_URI_REGEXP||JD,Gy=vt.NAMESPACE||Yh,Vs=vt.CUSTOM_ELEMENT_HANDLING||{},vt.CUSTOM_ELEMENT_HANDLING&&kB(vt.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(Vs.tagNameCheck=vt.CUSTOM_ELEMENT_HANDLING.tagNameCheck),vt.CUSTOM_ELEMENT_HANDLING&&kB(vt.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(Vs.attributeNameCheck=vt.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),vt.CUSTOM_ELEMENT_HANDLING&&typeof vt.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(Vs.allowCustomizedBuiltInElements=vt.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),vb&&($i=!1),R0&&(Ig=!0),Dg&&(Io=Hs({},[...YD]),Jn=[],Dg.html===!0&&(Hs(Io,XA),Hs(Jn,c7)),Dg.svg===!0&&(Hs(Io,Y2),Hs(Jn,G_),Hs(Jn,q_)),Dg.svgFilters===!0&&(Hs(Io,n0),Hs(Jn,G_),Hs(Jn,q_)),Dg.mathMl===!0&&(Hs(Io,JA),Hs(Jn,XD),Hs(Jn,q_))),vt.ADD_TAGS&&(Io===ss&&(Io=hy(Io)),Hs(Io,vt.ADD_TAGS,Ll)),vt.ADD_ATTR&&(Jn===gr&&(Jn=hy(Jn)),Hs(Jn,vt.ADD_ATTR,Ll)),vt.ADD_URI_SAFE_ATTR&&Hs(Pg,vt.ADD_URI_SAFE_ATTR,Ll),vt.FORBID_CONTENTS&&(qh===iC&&(qh=hy(qh)),Hs(qh,vt.FORBID_CONTENTS,Ll)),rC&&(Io["#text"]=!0),Gh&&Hs(Io,["html","head","body"]),Io.table&&(Hs(Io,["tbody"]),delete Ya.tbody),vt.TRUSTED_TYPES_POLICY){if(typeof vt.TRUSTED_TYPES_POLICY.createHTML!="function")throw Yp('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof vt.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw Yp('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');Ce=vt.TRUSTED_TYPES_POLICY,Ae=Ce.createHTML("")}else Ce===void 0&&(Ce=function(Zn,Co){if(typeof Zn!="object"||typeof Zn.createPolicy!="function")return null;let ir=null;const Gr="data-tt-policy-suffix";Co&&Co.hasAttribute(Gr)&&(ir=Co.getAttribute(Gr));const di="dompurify"+(ir?"#"+ir:"");try{return Zn.createPolicy(di,{createHTML:ii=>ii,createScriptURL:ii=>ii})}catch{return console.warn("TrustedTypes policy "+di+" could not be created."),null}}(Q,b)),Ce!==null&&typeof Ae=="string"&&(Ae=Ce.createHTML(""));gc&&gc(vt),P0=vt}},EB=Hs({},["mi","mo","mn","ms","mtext"]),AB=Hs({},["foreignobject","desc","title","annotation-xml"]),xo=Hs({},["title","style","font","a","script"]),wb=Hs({},Y2);Hs(wb,n0),Hs(wb,qD);const Fk=Hs({},JA);Hs(Fk,l7);const Cb=function(vt){q2(d.removed,{element:vt});try{vt.parentNode.removeChild(vt)}catch{vt.remove()}},Yy=function(vt,Zn){try{q2(d.removed,{attribute:Zn.getAttributeNode(vt),from:Zn})}catch{q2(d.removed,{attribute:null,from:Zn})}if(Zn.removeAttribute(vt),vt==="is"&&!Jn[vt])if(Ig||R0)try{Cb(Zn)}catch{}else try{Zn.setAttribute(vt,"")}catch{}},ZO=function(vt){let Zn,Co;if(yb)vt="<remove></remove>"+vt;else{const di=i7(vt,/^[\r\n\t ]+/);Co=di&&di[0]}qy==="application/xhtml+xml"&&Gy===Yh&&(vt='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+vt+"</body></html>");const ir=Ce?Ce.createHTML(vt):vt;if(Gy===Yh)try{Zn=new Y().parseFromString(ir,qy)}catch{}if(!Zn||!Zn.documentElement){Zn=Ie.createDocument(Gy,"template",null);try{Zn.documentElement.innerHTML=jO?Ae:ir}catch{}}const Gr=Zn.body||Zn.documentElement;return vt&&Co&&Gr.insertBefore(v.createTextNode(Co),Gr.childNodes[0]||null),Gy===Yh?Nt.call(Zn,Gh?"html":"body")[0]:Gh?Zn.documentElement:Gr},GO=function(vt){return qe.call(vt.ownerDocument||vt,vt,F.SHOW_ELEMENT|F.SHOW_COMMENT|F.SHOW_TEXT,null,!1)},qO=function(vt){return typeof E=="object"?vt instanceof E:vt&&typeof vt=="object"&&typeof vt.nodeType=="number"&&typeof vt.nodeName=="string"},kd=function(vt,Zn,Co){Et[vt]&&YA(Et[vt],ir=>{ir.call(d,Zn,Co,P0)})},TB=function(vt){let Zn;if(kd("beforeSanitizeElements",vt,null),(Co=vt)instanceof H&&(typeof Co.nodeName!="string"||typeof Co.textContent!="string"||typeof Co.removeChild!="function"||!(Co.attributes instanceof L)||typeof Co.removeAttribute!="function"||typeof Co.setAttribute!="function"||typeof Co.namespaceURI!="string"||typeof Co.insertBefore!="function"||typeof Co.hasChildNodes!="function"))return Cb(vt),!0;var Co;const ir=Ll(vt.nodeName);if(kd("uponSanitizeElement",vt,{tagName:ir,allowedTags:Io}),vt.hasChildNodes()&&!qO(vt.firstElementChild)&&(!qO(vt.content)||!qO(vt.content.firstElementChild))&&Ou(/<[/\w]/g,vt.innerHTML)&&Ou(/<[/\w]/g,vt.textContent))return Cb(vt),!0;if(!Io[ir]||Ya[ir]){if(!Ya[ir]&&OB(ir)&&(Vs.tagNameCheck instanceof RegExp&&Ou(Vs.tagNameCheck,ir)||Vs.tagNameCheck instanceof Function&&Vs.tagNameCheck(ir)))return!1;if(rC&&!qh[ir]){const Gr=me(vt)||vt.parentNode,di=ge(vt)||vt.childNodes;if(di&&Gr)for(let ii=di.length-1;ii>=0;--ii)Gr.insertBefore(pe(di[ii],!0),Ee(vt))}return Cb(vt),!0}return vt instanceof P&&!function(Gr){let di=me(Gr);di&&di.tagName||(di={namespaceURI:Gy,tagName:"template"});const ii=W_(Gr.tagName),Ti=W_(di.tagName);return!!Mk[Gr.namespaceURI]&&(Gr.namespaceURI===Lk?di.namespaceURI===Yh?ii==="svg":di.namespaceURI===D0?ii==="svg"&&(Ti==="annotation-xml"||EB[Ti]):!!wb[ii]:Gr.namespaceURI===D0?di.namespaceURI===Yh?ii==="math":di.namespaceURI===Lk?ii==="math"&&AB[Ti]:!!Fk[ii]:Gr.namespaceURI===Yh?!(di.namespaceURI===Lk&&!AB[Ti])&&!(di.namespaceURI===D0&&!EB[Ti])&&!Fk[ii]&&(xo[ii]||!wb[ii]):!(qy!=="application/xhtml+xml"||!Mk[Gr.namespaceURI]))}(vt)?(Cb(vt),!0):ir!=="noscript"&&ir!=="noembed"&&ir!=="noframes"||!Ou(/<\/no(script|embed|frames)/i,vt.innerHTML)?(vb&&vt.nodeType===3&&(Zn=vt.textContent,Zn=bn(Zn,jt," "),Zn=bn(Zn,xn," "),Zn=bn(Zn,Pn," "),vt.textContent!==Zn&&(q2(d.removed,{element:vt.cloneNode()}),vt.textContent=Zn)),kd("afterSanitizeElements",vt,null),!1):(Cb(vt),!0)},YO=function(vt,Zn,Co){if(Zy&&(Zn==="id"||Zn==="name")&&(Co in v||Co in kH))return!1;if(!($i&&!Xa[Zn]&&Ou(jn,Zn))){if(!(ta&&Ou(uo,Zn))){if(!Jn[Zn]||Xa[Zn]){if(!(OB(vt)&&(Vs.tagNameCheck instanceof RegExp&&Ou(Vs.tagNameCheck,vt)||Vs.tagNameCheck instanceof Function&&Vs.tagNameCheck(vt))&&(Vs.attributeNameCheck instanceof RegExp&&Ou(Vs.attributeNameCheck,Zn)||Vs.attributeNameCheck instanceof Function&&Vs.attributeNameCheck(Zn))||Zn==="is"&&Vs.allowCustomizedBuiltInElements&&(Vs.tagNameCheck instanceof RegExp&&Ou(Vs.tagNameCheck,Co)||Vs.tagNameCheck instanceof Function&&Vs.tagNameCheck(Co))))return!1}else if(!Pg[Zn]){if(!Ou(mr,bn(Co,rr,""))){if((Zn!=="src"&&Zn!=="xlink:href"&&Zn!=="href"||vt==="script"||t0(Co,"data:")!==0||!aC[vt])&&!(Zh&&!Ou(Ko,bn(Co,rr,"")))){if(Co)return!1}}}}}return!0},OB=function(vt){return vt.indexOf("-")>0},RB=function(vt){let Zn,Co,ir,Gr;kd("beforeSanitizeAttributes",vt,null);const{attributes:di}=vt;if(!di)return;const ii={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:Jn};for(Gr=di.length;Gr--;){Zn=di[Gr];const{name:Ti,namespaceURI:Xy}=Zn;Co=Ti==="value"?Zn.value:a7(Zn.value);const AH=Co;if(ir=Ll(Ti),ii.attrName=ir,ii.attrValue=Co,ii.keepAttr=!0,ii.forceKeepAttr=void 0,kd("uponSanitizeAttribute",vt,ii),Co=ii.attrValue,ii.forceKeepAttr)continue;if(!ii.keepAttr){Yy(Ti,vt);continue}if(!jy&&Ou(/\/>/i,Co)){Yy(Ti,vt);continue}vb&&(Co=bn(Co,jt," "),Co=bn(Co,xn," "),Co=bn(Co,Pn," "));const IB=Ll(vt.nodeName);if(YO(IB,ir,Co)){if(!Nk||ir!=="id"&&ir!=="name"||(Yy(Ti,vt),Co="user-content-"+Co),Ce&&typeof Q=="object"&&typeof Q.getAttributeType=="function"&&!Xy)switch(Q.getAttributeType(IB,ir)){case"TrustedHTML":Co=Ce.createHTML(Co);break;case"TrustedScriptURL":Co=Ce.createScriptURL(Co)}if(Co!==AH)try{Xy?vt.setAttributeNS(Xy,Ti,Co):vt.setAttribute(Ti,Co)}catch{Yy(Ti,vt)}}else Yy(Ti,vt)}kd("afterSanitizeAttributes",vt,null)},EH=function vt(Zn){let Co;const ir=GO(Zn);for(kd("beforeSanitizeShadowDOM",Zn,null);Co=ir.nextNode();)kd("uponSanitizeShadowNode",Co,null),TB(Co)||(Co.content instanceof w&&vt(Co.content),RB(Co));kd("afterSanitizeShadowDOM",Zn,null)};return d.sanitize=function(vt){let Zn,Co,ir,Gr,di=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(jO=!vt,jO&&(vt="<!-->"),typeof vt!="string"&&!qO(vt)){if(typeof vt.toString!="function")throw Yp("toString is not a function");if(typeof(vt=vt.toString())!="string")throw Yp("dirty is not a string, aborting")}if(!d.isSupported)return vt;if(sC||Bk(di),d.removed=[],typeof vt=="string"&&(xb=!1),xb){if(vt.nodeName){const Xy=Ll(vt.nodeName);if(!Io[Xy]||Ya[Xy])throw Yp("root node is forbidden and cannot be sanitized in-place")}}else if(vt instanceof E)Zn=ZO("<!---->"),Co=Zn.ownerDocument.importNode(vt,!0),Co.nodeType===1&&Co.nodeName==="BODY"||Co.nodeName==="HTML"?Zn=Co:Zn.appendChild(Co);else{if(!Ig&&!vb&&!Gh&&vt.indexOf("<")===-1)return Ce&&I0?Ce.createHTML(vt):vt;if(Zn=ZO(vt),!Zn)return Ig?null:I0?Ae:""}Zn&&yb&&Cb(Zn.firstChild);const ii=GO(xb?vt:Zn);for(;ir=ii.nextNode();)TB(ir)||(ir.content instanceof w&&EH(ir.content),RB(ir));if(xb)return vt;if(Ig){if(R0)for(Gr=lt.call(Zn.ownerDocument);Zn.firstChild;)Gr.appendChild(Zn.firstChild);else Gr=Zn;return(Jn.shadowroot||Jn.shadowrootmode)&&(Gr=Ot.call(f,Gr,!0)),Gr}let Ti=Gh?Zn.outerHTML:Zn.innerHTML;return Gh&&Io["!doctype"]&&Zn.ownerDocument&&Zn.ownerDocument.doctype&&Zn.ownerDocument.doctype.name&&Ou(pg,Zn.ownerDocument.doctype.name)&&(Ti="<!DOCTYPE "+Zn.ownerDocument.doctype.name+`>
`+Ti),vb&&(Ti=bn(Ti,jt," "),Ti=bn(Ti,xn," "),Ti=bn(Ti,Pn," ")),Ce&&I0?Ce.createHTML(Ti):Ti},d.setConfig=function(vt){Bk(vt),sC=!0},d.clearConfig=function(){P0=null,sC=!1},d.isValidAttribute=function(vt,Zn,Co){P0||Bk({});const ir=Ll(vt),Gr=Ll(Zn);return YO(ir,Gr,Co)},d.addHook=function(vt,Zn){typeof Zn=="function"&&(Et[vt]=Et[vt]||[],q2(Et[vt],Zn))},d.removeHook=function(vt){if(Et[vt])return r7(Et[vt])},d.removeHooks=function(vt){Et[vt]&&(Et[vt]=[])},d.removeAllHooks=function(){Et={}},d}();const QD=s=>b7().sanitize(s);var gd=tinymce.util.Tools.resolve("tinymce.util.I18n");const v7={indent:!0,outdent:!0,"table-insert-column-after":!0,"table-insert-column-before":!0,"paste-column-after":!0,"paste-column-before":!0,"unordered-list":!0,"list-bull-circle":!0,"list-bull-default":!0,"list-bull-square":!0},eP="temporary-placeholder",eT=s=>()=>Tn(s,eP).getOr("!not found!"),Xp=(s,l)=>{const d=s.toLowerCase();if(gd.isRtl()){const f=((b,v)=>ju(b,v)?b:((w,k)=>w+k)(b,v))(d,"-rtl");return go(l,f)?f:d}return d},J2=(s,l)=>Tn(l,Xp(s,l)),tP=(s,l)=>{const d=l();return J2(s,d).getOrThunk(eT(d))},Y_=()=>Oo("add-focusable",[ar(s=>{M1(s.element,"svg").each(l=>dn(l,"focusable","false"))})]),nP=(s,l,d,f)=>{var b,v;const w=(E=>!!gd.isRtl()&&go(v7,E))(l)?["tox-icon--flip"]:[],k=Tn(d,Xp(l,d)).or(f).getOrThunk(eT(d));return{dom:{tag:s.tag,attributes:(b=s.attributes)!==null&&b!==void 0?b:{},classes:s.classes.concat(w),innerHtml:k},behaviours:Xt([...(v=s.behaviours)!==null&&v!==void 0?v:[],Y_()])}},Gc=(s,l,d,f=R.none())=>nP(l,s,d(),f),y7={success:"checkmark",error:"warning",err:"error",warning:"warning",warn:"warning",info:"info"},tT=ku({name:"Notification",factory:s=>{const l=kn("notification-text"),d=Ss({dom:hg(`<p id=${l}>${QD(s.backstageProvider.translate(s.text))}</p>`),behaviours:Xt([Qn.config({})])}),f=L=>({dom:{tag:"div",classes:["tox-bar"],styles:{width:`${L}%`}}}),b=L=>({dom:{tag:"div",classes:["tox-text"],innerHtml:`${L}%`}}),v=Ss({dom:{tag:"div",classes:s.progress?["tox-progress-bar","tox-progress-indicator"]:["tox-progress-bar"]},components:[{dom:{tag:"div",classes:["tox-bar-container"]},components:[f(0)]},b(0)],behaviours:Xt([Qn.config({})])}),w={updateProgress:(L,H)=>{L.getSystem().isConnected()&&v.getOpt(L).each(Y=>{Qn.set(Y,[{dom:{tag:"div",classes:["tox-bar-container"]},components:[f(H)]},b(H)])})},updateText:(L,H)=>{if(L.getSystem().isConnected()){const Y=d.get(L);Qn.set(Y,[Br(H)])}}},k=Zt([s.icon.toArray(),s.level.toArray(),s.level.bind(L=>R.from(y7[L])).toArray()]),E=Ss(qa.sketch({dom:{tag:"button",classes:["tox-notification__dismiss","tox-button","tox-button--naked","tox-button--icon"],attributes:{"aria-label":s.backstageProvider.translate("Close")}},components:[Gc("close",{tag:"span",classes:["tox-icon"]},s.iconProvider)],buttonBehaviours:Xt([Gs.config({}),ri.config({...s.backstageProvider.tooltips.getConfig({tooltipText:s.backstageProvider.translate("Close")})})]),action:L=>{s.onAction(L)}})),P=((L,H,Y)=>{const Q=Y(),fe=J(L,pe=>go(Q,Xp(pe,Q)));return nP({tag:"div",classes:["tox-notification__icon"]},fe.getOr(eP),Q,R.none())})(k,0,s.iconProvider),F=[P,{dom:{tag:"div",classes:["tox-notification__body"]},components:[d.asSpec()],behaviours:Xt([Qn.config({})])}];return{uid:s.uid,dom:{tag:"div",attributes:{role:"alert","aria-labelledby":l},classes:s.level.map(L=>["tox-notification","tox-notification--in",`tox-notification--${L}`]).getOr(["tox-notification","tox-notification--in"])},behaviours:Xt([Gs.config({}),io.config({}),zn.config({mode:"special",onEscape:L=>(s.onAction(L),R.some(!0))})]),components:F.concat(s.progress?[v.asSpec()]:[]).concat([E.asSpec()]),apis:w}},configFields:[Xo("level"),Bt("progress"),Xo("icon"),Bt("onAction"),Bt("text"),Bt("iconProvider"),Bt("backstageProvider")],apis:{updateProgress:(s,l,d)=>{s.updateProgress(l,d)},updateText:(s,l,d)=>{s.updateText(l,d)}}});var oP=(s,l,d,f)=>{const b=l.backstage.shared,v=()=>fn(s.queryCommandValue("ToggleView")===""?s.getContentAreaContainer():s.getContainer()),w=()=>{const E=ci(v());return R.some(E)},k=E=>{w().each(P=>{mt(E,F=>{ks(F.element,"width"),Di(F.element)>P.width&&yo(F.element,"width",P.width+"px")})})};return{open:(E,P,F)=>{const L=()=>{f.on(Q=>{P();const fe=F();(pe=>{Qn.remove(pe,H),Y()})(Q),((pe,Ee)=>{Ms(pe.element).length===0?((ge,me)=>{br.hide(ge),f.clear(),me&&s.focus()})(pe,Ee):((ge,me)=>{me&&zn.focusIn(ge)})(pe,Ee)})(Q,fe)})},H=Ji(tT.sketch({text:E.text,level:dt(["success","error","warning","warn","info"],E.type)?E.type:void 0,progress:E.progressBar===!0,icon:E.icon,onAction:L,iconProvider:b.providers.icons,backstageProvider:b.providers}));if(f.isSet()){const Q=dl(H);f.on(fe=>{Qn.append(fe,Q),br.reposition(fe),dr.refresh(fe),k(fe.components())})}else{const Q=Ji(br.sketch({dom:{tag:"div",classes:["tox-notifications-container"],attributes:{"aria-label":"Notifications",role:"region"}},lazySink:b.getSink,fireDismissalEventInstead:{},...b.header.isPositionedAtTop()?{}:{fireRepositionEventInstead:{}},inlineBehaviours:Xt([zn.config({mode:"cyclic",selector:".tox-notification, .tox-notification a, .tox-notification button"}),Qn.config({}),...Ph(s)&&!b.header.isPositionedAtTop()?[]:[dr.config({contextual:{lazyContext:()=>R.some(ci(v())),fadeInClass:"tox-notification-container-dock-fadein",fadeOutClass:"tox-notification-container-dock-fadeout",transitionClass:"tox-notification-container-dock-transition"},modes:["top"],lazyViewport:ge=>Gp(s,ge.element).map(me=>({bounds:qp(me),optScrollEnv:R.some({currentScrollTop:me.element.dom.scrollTop,scrollElmTop:Vl(me.element).top})})).getOrThunk(()=>({bounds:Gi(),optScrollEnv:R.none()}))})]])})),fe=dl(H),pe={maxHeightFunction:Sh()},Ee={...b.anchors.banner(),overrides:pe};f.set(Q),d.add(Q),br.showWithinBounds(Q,fe,{anchor:Ee},w)}ee(E.timeout)&&E.timeout>0&&I_.setEditorTimeout(s,()=>{L()},E.timeout);const Y=()=>{f.on(Q=>{br.reposition(Q),dr.refresh(Q),k(Q.components())})};return{close:L,reposition:Y,text:Q=>{tT.updateText(H,Q)},settings:E,getEl:()=>H.element.dom,progressBar:{value:Q=>{tT.updateProgress(H,Q)}}}},close:E=>{E.close()},getArgs:E=>E.settings}},Q2;(function(s){s[s.CLOSE_ON_EXECUTE=0]="CLOSE_ON_EXECUTE",s[s.BUBBLE_TO_SANDBOX=1]="BUBBLE_TO_SANDBOX"})(Q2||(Q2={}));var um=Q2;const X_="tox-menu-nav__js",J_="tox-collection__item",sP="tox-swatch",rP={normal:X_,color:sP},iP="tox-collection__item--enabled",aP="tox-collection__item-icon",ew="tox-collection__item-label",nT="tox-collection__item-caret",bg="tox-collection__item--active",tw="tox-collection__item-container",nw="tox-collection__item-container--row",Jp=s=>Tn(rP,s).getOr(X_),OK=s=>s==="color"?"tox-swatches":"tox-menu",oT=s=>({backgroundMenu:"tox-background-menu",selectedMenu:"tox-selected-menu",selectedItem:"tox-collection__item--active",hasIcons:"tox-menu--has-icons",menu:OK(s),tieredMenu:"tox-tiered-menu"}),o0=s=>{const l=oT(s);return{backgroundMenu:l.backgroundMenu,selectedMenu:l.selectedMenu,menu:l.menu,selectedItem:l.selectedItem,item:Jp(s)}},lP=(s,l,d)=>{const f=oT(d);return{tag:"div",classes:Zt([[f.menu,`tox-menu-${l}-column`],s?[f.hasIcons]:[]])}},cP=[Xv.parts.items({})],Q_=(s,l,d)=>{const f=oT(d);return{dom:{tag:"div",classes:Zt([[f.tieredMenu]])},markers:o0(d)}},x7=j([Xo("data"),ut("inputAttributes",{}),ut("inputStyles",{}),ut("tag","input"),ut("inputClasses",[]),os("onSetValue"),ut("styles",{}),ut("eventOrder",{}),En("inputBehaviours",[gt,io]),ut("selectOnFocus",!0)]),w7=s=>Xt([io.config({onFocus:s.selectOnFocus?l=>{const d=l.element,f=Kf(d);d.dom.setSelectionRange(0,f.length)}:W})]),C7=s=>({...w7(s),...To(s.inputBehaviours,[gt.config({store:{mode:"manual",...s.data.map(l=>({initialValue:l})).getOr({}),getValue:l=>Kf(l.element),setValue:(l,d)=>{Kf(l.element)!==d&&Jm(l.element,d)}},onSetValue:s.onSetValue})])}),uP=s=>({tag:s.tag,attributes:{type:"text",...s.inputAttributes},styles:s.inputStyles,classes:s.inputClasses}),Lh=ku({name:"Input",configFields:x7(),factory:(s,l)=>({uid:s.uid,dom:uP(s),components:[],behaviours:C7(s),eventOrder:s.eventOrder})}),dP=kn("refetch-trigger-event"),fP=kn("redirect-menu-item-interaction"),mP="tox-menu__searcher",ow=s=>fr(s.element,`.${mP}`).bind(l=>s.getSystem().getByDom(l).toOptional()),gP=ow,hP=s=>({fetchPattern:gt.getValue(s),selectionStart:s.element.dom.selectionStart,selectionEnd:s.element.dom.selectionEnd}),pP=s=>{const l=(b,v)=>(v.cut(),R.none()),d=(b,v)=>{const w={interactionEvent:v.event,eventType:v.event.raw.type};return $n(b,fP,w),R.some(!0)},f="searcher-events";return{dom:{tag:"div",classes:[J_]},components:[Lh.sketch({inputClasses:[mP,"tox-textfield"],inputAttributes:{...s.placeholder.map(b=>({placeholder:s.i18n(b)})).getOr({}),type:"search","aria-autocomplete":"list"},inputBehaviours:Xt([Oo(f,[Rt(Wm(),b=>{No(b,dP)}),Rt(_r(),(b,v)=>{v.event.raw.key==="Escape"&&v.stop()})]),zn.config({mode:"special",onLeft:l,onRight:l,onSpace:l,onEnter:d,onEscape:d,onUp:d,onDown:d})]),eventOrder:{keydown:[f,zn.name()]}})]}},sw="tox-collection--results__js",bP=s=>{var l;return s.dom?{...s,dom:{...s.dom,attributes:{...(l=s.dom.attributes)!==null&&l!==void 0?l:{},id:kn("aria-item-search-result-id"),"aria-selected":"false"}}}:s},eS=(s,l)=>d=>{const f=et(d,l);return Me(f,b=>({dom:s,components:b}))},vP=(s,l)=>{const d=[];let f=[];return mt(s,(b,v)=>{l(b,v)?(f.length>0&&d.push(f),f=[],(go(b.dom,"innerHtml")||b.components&&b.components.length>0)&&f.push(b)):f.push(b)}),f.length>0&&d.push(f),Me(d,b=>({dom:{tag:"div",classes:["tox-collection__group"]},components:b}))},rw=(s,l,d)=>Xv.parts.items({preprocess:f=>{const b=Me(f,d);return s!=="auto"&&s>1?eS({tag:"div",classes:["tox-collection__group"]},s)(b):vP(b,(v,w)=>l[w].type==="separator")}}),sT=(s,l,d=!0)=>({dom:{tag:"div",classes:["tox-menu","tox-collection"].concat(s===1?["tox-collection--list"]:["tox-collection--grid"])},components:[rw(s,l,de)]}),iw=s=>An(s,l=>"icon"in l&&l.icon!==void 0),vg=s=>(console.error(ll(s)),console.log(s),R.none()),_7=(s,l,d,f,b)=>{const v=(w=d,{dom:{tag:"div",classes:["tox-collection","tox-collection--horizontal"]},components:[Xv.parts.items({preprocess:k=>vP(k,(E,P)=>w[P].type==="separator")})]});var w;return{value:s,dom:v.dom,components:v.components,items:d}},rT=(s,l,d,f,b)=>{if(b.menuType==="color"){const v=(w=>({dom:{tag:"div",classes:["tox-menu","tox-swatches-menu"]},components:[{dom:{tag:"div",classes:["tox-swatches"]},components:[Xv.parts.items({preprocess:w!=="auto"?eS({tag:"div",classes:["tox-swatches__row"]},w):de})]}]}))(f);return{value:s,dom:v.dom,components:v.components,items:d}}if(b.menuType==="normal"&&f==="auto"){const v=sT(f,d);return{value:s,dom:v.dom,components:v.components,items:d}}if(b.menuType==="normal"||b.menuType==="searchable"){const v=b.menuType!=="searchable"?sT(f,d):b.searchMode.searchMode==="search-with-field"?((w,k,E)=>{const P=kn("aria-controls-search-results");return{dom:{tag:"div",classes:["tox-menu","tox-collection"].concat(w===1?["tox-collection--list"]:["tox-collection--grid"])},components:[pP({i18n:gd.translate,placeholder:E.placeholder}),{dom:{tag:"div",classes:[...w===1?["tox-collection--list"]:["tox-collection--grid"],sw],attributes:{id:P}},components:[rw(w,k,bP)]}]}})(f,d,b.searchMode):((w,k,E=!0)=>{const P=kn("aria-controls-search-results");return{dom:{tag:"div",classes:["tox-menu","tox-collection",sw].concat(w===1?["tox-collection--list"]:["tox-collection--grid"]),attributes:{id:P}},components:[rw(w,k,bP)]}})(f,d);return{value:s,dom:v.dom,components:v.components,items:d}}if(b.menuType==="listpreview"&&f!=="auto"){const v=(w=>({dom:{tag:"div",classes:["tox-menu","tox-collection","tox-collection--toolbar","tox-collection--toolbar-lg"]},components:[Xv.parts.items({preprocess:eS({tag:"div",classes:["tox-collection__group"]},w)})]}))(f);return{value:s,dom:v.dom,components:v.components,items:d}}return{value:s,dom:lP(l,f,b.menuType),components:cP,items:d}},xi=Cr("type"),iT=Cr("name"),aT=Cr("label"),hd=Cr("text"),lT=Cr("title"),cT=Cr("icon"),s0=Cr("value"),S7=Ua("fetch"),yP=Ua("getSubmenuItems"),py=Ua("onAction"),xP=Ua("onItemAction"),Qp=or("onSetup",()=>W),k7=Mr("name"),eb=Mr("text"),E7=Mr("role"),pd=Mr("icon"),aw=Mr("tooltip"),uT=Mr("label"),by=Mr("shortcut"),dT=mu("select"),tS=ni("active",!1),RK=ni("borderless",!1),bd=ni("enabled",!0),nS=ni("primary",!1),wP=s=>ut("columns",s),qc=ut("meta",{}),fT=or("onAction",W),r0=s=>Yl("type",s),mT=s=>ui("name","name",oh(()=>kn(`${s}-name`)),ki),CP=qn([xi,eb]),A7=qn([r0("autocompleteitem"),tS,bd,qc,s0,eb,pd]),yg=[bd,aw,pd,eb,Qp],gT=qn([xi,py,by].concat(yg)),_P=s=>wr("toolbarbutton",gT,s),lw=[tS].concat(yg),oS=qn(lw.concat([xi,py,by])),sS=s=>wr("ToggleButton",oS,s),SP=[or("predicate",we),Dc("scope","node",["node","editor"]),Dc("position","selection",["node","selection","line"])],T7=yg.concat([r0("contextformbutton"),nS,py,qi("original",de)]),O7=lw.concat([r0("contextformbutton"),nS,py,qi("original",de)]),R7=yg.concat([r0("contextformbutton")]),I7=lw.concat([r0("contextformtogglebutton")]),D7=bi("type",{contextformbutton:T7,contextformtogglebutton:O7}),P7=qn([r0("contextform"),or("initValue",j("")),uT,cl("commands",D7),zr("launch",bi("type",{contextformbutton:R7,contextformtogglebutton:I7}))].concat(SP)),kP=qn([r0("contexttoolbar"),Cr("items")].concat(SP)),rS=[xi,Cr("src"),Mr("alt"),Ps("classes",[],ki)],N7=qn(rS),L7=[xi,hd,k7,Ps("classes",["tox-collection__item-label"],ki)],M7=qn(L7),EP=$m(()=>od("type",{cardimage:N7,cardtext:M7,cardcontainer:vy})),vy=qn([xi,Yl("direction","horizontal"),Yl("align","left"),Yl("valign","middle"),cl("items",EP)]),i0=[bd,eb,E7,by,ui("value","value",oh(()=>kn("menuitem-value")),Hl()),qc],B7=qn([xi,uT,cl("items",EP),Qp,fT].concat(i0)),hT=qn([xi,tS,pd].concat(i0)),AP=[xi,Cr("fancytype"),fT],TP=[ut("initData",{})].concat(AP),OP=[mu("select"),Ka("initData",{},[ni("allowCustomColors",!0),Yl("storageKey","default"),h1("colors",Hl())])].concat(AP),RP=bi("fancytype",{inserttable:TP,colorswatch:OP}),IP=qn([xi,Qp,fT,pd].concat(i0)),DP=qn([xi,yP,Qp,pd].concat(i0)),F7=qn([xi,pd,tS,Qp,py].concat(i0)),pT=(s,l,d)=>{const f=Ai(s.element,"."+d);if(f.length>0){const b=mo(f,v=>{const w=v.dom.getBoundingClientRect().top,k=f[0].dom.getBoundingClientRect().top;return Math.abs(w-k)>l}).getOr(f.length);return R.some({numColumns:b,numRows:Math.ceil(f.length/b)})}return R.none()},cw=s=>((l,d)=>Xt([Oo(l,d)]))(kn("unnamed-events"),s),iS="silver.readonly",$7=qn([Yi("readonly",lc)]),a0=(s,l)=>{const d=s.mainUi.outerContainer.element,f=[s.mainUi.mothership,...s.uiMotherships];l&&mt(f,b=>{b.broadcastOn([M()],{target:d})}),mt(f,b=>{b.broadcastOn([iS],{readonly:l})})},PP=(s,l)=>{s.on("init",()=>{s.mode.isReadOnly()&&a0(l,!0)}),s.on("SwitchMode",()=>a0(l,s.mode.isReadOnly())),FA(s)&&s.mode.set("readonly")},Bi=()=>Rl.config({channels:{[iS]:{schema:$7,onReceive:(s,l)=>{co.set(s,l.readonly)}}}}),Ma=s=>co.config({disabled:s}),NP=s=>co.config({disabled:s,disableClass:"tox-tbtn--disabled"}),aS=s=>co.config({disabled:s,disableClass:"tox-tbtn--disabled",useNative:!1}),uw=(s,l)=>{const d=s.getApi(l);return f=>{f(d)}},tb=(s,l)=>ar(d=>{uw(s,d)(f=>{const b=s.onSetup(f);Z(b)&&l.set(b)})}),Mh=(s,l)=>ad(d=>uw(s,d)(l.get())),LP=(s,l)=>bu((d,f)=>{uw(s,d)(s.onAction),s.triggersSubmenu||l!==um.CLOSE_ON_EXECUTE||(d.getSystem().isConnected()&&No(d,nv()),f.stop())}),V7={[Al()]:["disabling","alloy.base.behaviour","toggling","item-events"]},yy=nl,xy=(s,l,d,f)=>{const b=Un(W);return{type:"item",dom:l.dom,components:yy(l.optComponents),data:s.data,eventOrder:V7,hasSubmenu:s.triggersSubmenu,itemBehaviours:Xt([Oo("item-events",[LP(s,d),tb(s,b),Mh(s,b)]),(v=()=>!s.enabled||f.isDisabled(),co.config({disabled:v,disableClass:"tox-collection__item--state-disabled"})),Bi(),Qn.config({})].concat(s.itemBehaviours))};var v},wy=s=>({value:s.value,meta:{text:s.text.getOr(""),...s.meta}}),lS=s=>{const l=am.os.isMacOS()||am.os.isiOS(),d=l?{alt:"",ctrl:"",shift:"",meta:"",access:""}:{meta:"Ctrl",access:"Shift+Alt"},f=s.split("+"),b=Me(f,v=>{const w=v.toLowerCase().trim();return go(d,w)?d[w]:v});return l?b.join(""):b.join("+")},bT=(s,l,d=[aP])=>Gc(s,{tag:"div",classes:d},l),MP=s=>({dom:{tag:"div",classes:[ew]},components:[Br(gd.translate(s))]}),vT=(s,l)=>({dom:{tag:"div",classes:l,innerHtml:s}}),BP=(s,l)=>({dom:{tag:"div",classes:[ew]},components:[{dom:{tag:s.tag,styles:s.styles},components:[Br(gd.translate(l))]}]}),FP=s=>({dom:{tag:"div",classes:["tox-collection__item-accessory"]},components:[Br(lS(s))]}),$P=s=>bT("checkmark",s,["tox-collection__item-checkmark"]),VP=s=>{const l=s.map(d=>({attributes:{id:kn("menu-item"),"aria-label":gd.translate(d)}})).getOr({});return{tag:"div",classes:[X_,J_],...l}},dw=(s,l,d,f=R.none())=>s.presets==="color"?((b,v,w)=>{const k=b.value,E=b.iconContent.map(F=>((L,H,Y)=>{const Q=H();return J2(L,Q).or(Y).getOrThunk(eT(Q))})(F,v.icons,w)),P=b.ariaLabel.map(F=>({"aria-label":v.translate(F),"data-mce-name":F})).getOr({});return{dom:(()=>{const F=sP,L=E.getOr(""),H={tag:"div",attributes:P,classes:[F]};return k==="custom"?{...H,tag:"button",classes:[...H.classes,"tox-swatches__picker-btn"],innerHtml:L}:k==="remove"?{...H,classes:[...H.classes,"tox-swatch--remove"],innerHtml:L}:z(k)?{...H,attributes:{...H.attributes,"data-mce-color":k},styles:{"background-color":k},innerHtml:L}:H})(),optComponents:[]}})(s,l,f):((b,v,w,k)=>{const E={tag:"div",classes:[aP]},P=w?b.iconContent.map(Y=>Gc(Y,E,v.icons,k)).orThunk(()=>R.some({dom:E})):R.none(),F=b.checkMark,L=R.from(b.meta).fold(()=>MP,Y=>go(Y,"style")?ze(BP,Y.style):MP),H=b.htmlContent.fold(()=>b.textContent.map(L),Y=>R.some(vT(Y,[ew])));return{dom:VP(b.ariaLabel),optComponents:[P,H,b.shortcutContent.map(FP),F,b.caret]}})(s,l,d,f),zP=(s,l,d)=>Tn(s,"tooltipWorker").map(f=>[ri.config({lazySink:l.getSink,tooltipDom:{tag:"div",classes:["tox-tooltip-worker-container"]},tooltipComponents:[],anchor:b=>({type:"submenu",item:b,overrides:{maxHeightFunction:Sh}}),mode:"follow-highlight",onShow:(b,v)=>{f(w=>{ri.setComponents(b,[jf({element:fn(w)})])})}})]).getOrThunk(()=>d.map(f=>[ri.config({...l.providers.tooltips.getConfig({tooltipText:f}),mode:"follow-highlight"})]).getOr([])),yT=(s,l)=>{const d=(f=>uy.DOM.encode(f))(gd.translate(s));if(l.length>0){const f=new RegExp((b=>b.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"))(l),"gi");return d.replace(f,b=>`<span class="tox-autocompleter-highlight">${b}</span>`)}return d},xT=(s,l)=>Me(s,d=>{switch(d.type){case"cardcontainer":return((v,w)=>{const k=v.direction==="vertical"?"tox-collection__item-container--column":nw,E=v.align==="left"?"tox-collection__item-container--align-left":"tox-collection__item-container--align-right";return{dom:{tag:"div",classes:[tw,k,E,(()=>{switch(v.valign){case"top":return"tox-collection__item-container--valign-top";case"middle":return"tox-collection__item-container--valign-middle";case"bottom":return"tox-collection__item-container--valign-bottom"}})()]},components:w}})(d,xT(d.items,l));case"cardimage":return((v,w,k)=>({dom:{tag:"img",classes:w,attributes:{src:v,alt:k.getOr("")}}}))(d.src,d.classes,d.alt);case"cardtext":const f=d.name.exists(v=>dt(l.cardText.highlightOn,v)),b=f?R.from(l.cardText.matchText).getOr(""):"";return vT(yT(d.text,b),d.classes)}}),Bh=gl(LA(),MA()),wT=s=>({value:l0(s)}),CT=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,_T=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,HP=s=>CT.test(s)||_T.test(s),l0=s=>Ws(s,"#").toUpperCase(),ST=s=>{const l=s.toString(16);return(l.length===1?"0"+l:l).toUpperCase()},fw=s=>{const l=ST(s.red)+ST(s.green)+ST(s.blue);return wT(l)},kT=Math.min,UP=Math.max,cS=Math.round,z7=/^\s*rgb\s*\(\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*(\d+)\s*\)\s*$/i,WP=/^\s*rgba\s*\(\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*((?:\d?\.\d+|\d+)%?)\s*\)\s*$/i,Fh=(s,l,d,f)=>({red:s,green:l,blue:d,alpha:f}),mw=s=>{const l=parseInt(s,10);return l.toString()===s&&l>=0&&l<=255},KP=s=>{let l,d,f;const b=(s.hue||0)%360;let v=s.saturation/100,w=s.value/100;if(v=UP(0,kT(v,1)),w=UP(0,kT(w,1)),v===0)return l=d=f=cS(255*w),Fh(l,d,f,1);const k=b/60,E=w*v,P=E*(1-Math.abs(k%2-1)),F=w-E;switch(Math.floor(k)){case 0:l=E,d=P,f=0;break;case 1:l=P,d=E,f=0;break;case 2:l=0,d=E,f=P;break;case 3:l=0,d=P,f=E;break;case 4:l=P,d=0,f=E;break;case 5:l=E,d=0,f=P;break;default:l=d=f=0}return l=cS(255*(l+F)),d=cS(255*(d+F)),f=cS(255*(f+F)),Fh(l,d,f,1)},cf=s=>{const l=(v=>{const w=(E=>({value:E.value.replace(CT,(F,L,H,Y)=>L+L+H+H+Y+Y)}))(v),k=_T.exec(w.value);return k===null?["FFFFFF","FF","FF","FF"]:k})(s),d=parseInt(l[1],16),f=parseInt(l[2],16),b=parseInt(l[3],16);return Fh(d,f,b,1)},ET=(s,l,d,f)=>{const b=parseInt(s,10),v=parseInt(l,10),w=parseInt(d,10),k=parseFloat(f);return Fh(b,v,w,k)},uS=s=>{const l=z7.exec(s);if(l!==null)return R.some(ET(l[1],l[2],l[3],"1"));const d=WP.exec(s);return d!==null?R.some(ET(d[1],d[2],d[3],d[4])):R.none()},jP=s=>`rgba(${s.red},${s.green},${s.blue},${s.alpha})`,ZP=Fh(255,0,0,1),c0=(s,l)=>{s.dispatch("ResizeContent",l)},Cy=(s,l)=>{s.dispatch("TextColorChange",l)},GP=(s,l)=>s.dispatch("ResolveName",{name:l.nodeName.toLowerCase(),target:l}),_y=(s,l)=>()=>{s(),l()},Fi=s=>u0(s,"NodeChange",l=>{l.setEnabled(s.selection.isEditable())}),dm=(s,l)=>d=>{const f=Fi(s)(d),b=((v,w)=>k=>{const E=Rc(),P=()=>{k.setActive(v.formatter.match(w));const F=v.formatter.formatChanged(w,k.setActive);E.set(F)};return v.initialized?P():v.once("init",P),()=>{v.off("init",P),E.clear()}})(s,l)(d);return()=>{f(),b()}},u0=(s,l,d)=>f=>{const b=()=>d(f),v=()=>{d(f),s.on(l,b)};return s.initialized?v():s.once("init",v),()=>{s.off("init",v),s.off(l,b)}},qP=s=>l=>()=>{s.undoManager.transact(()=>{s.focus(),s.execCommand("mceToggleFormat",!1,l.format)})},hc=(s,l)=>()=>s.execCommand(l);var Yc=tinymce.util.Tools.resolve("tinymce.util.LocalStorage");const dS={},YP=s=>Tn(dS,s).getOrThunk(()=>{const l=`tinymce-custom-colors-${s}`,d=Yc.getItem(l);if(V(d)){const b=Yc.getItem("tinymce-custom-colors");Yc.setItem(l,z(b)?b:"[]")}const f=((b,v=10)=>{const w=Yc.getItem(b),k=h(w)?JSON.parse(w):[],E=v-(P=k).length<0?P.slice(0,v):P;var P;const F=L=>{E.splice(L,1)};return{add:L=>{((H,Y)=>{const Q=sn(H,Y);return Q===-1?R.none():R.some(Q)})(E,L).each(F),E.unshift(L),E.length>v&&E.pop(),Yc.setItem(b,JSON.stringify(E))},state:()=>E.slice(0)}})(l,10);return dS[s]=f,f}),AT=(s,l)=>{YP(s).add(l)},Sy=(s,l,d)=>({hue:s,saturation:l,value:d}),fS=s=>{let l=0,d=0,f=0;const b=s.red/255,v=s.green/255,w=s.blue/255,k=Math.min(b,Math.min(v,w)),E=Math.max(b,Math.max(v,w));return k===E?(f=k,Sy(0,0,100*f)):(l=b===k?3:w===k?1:5,l=60*(l-(b===k?v-w:w===k?b-v:w-b)/(E-k)),d=(E-k)/E,f=E,Sy(Math.round(l),Math.round(100*d),Math.round(100*f)))},mS=s=>fw(KP(s)),XP=s=>{return(l=s,HP(l)?R.some({value:l0(l)}):R.none()).orThunk(()=>uS(s).map(fw)).getOrThunk(()=>{const d=document.createElement("canvas");d.height=1,d.width=1;const f=d.getContext("2d");f.clearRect(0,0,d.width,d.height),f.fillStyle="#FFFFFF",f.fillStyle=s,f.fillRect(0,0,1,1);const b=f.getImageData(0,0,1,1).data,v=b[0],w=b[1],k=b[2],E=b[3];return fw(Fh(v,w,k,E))});var l},TT="forecolor",OT="hilitecolor",H7=s=>{const l=[];for(let d=0;d<s.length;d+=2)l.push({text:s[d+1],value:"#"+XP(s[d]).value,icon:"checkmark",type:"choiceitem"});return l},vd=s=>l=>l.options.get(s),gw="#000000",d0=(s,l)=>l===TT&&s.options.isSet("color_map_foreground")?vd("color_map_foreground")(s):l===OT&&s.options.isSet("color_map_background")?vd("color_map_background")(s):vd("color_map")(s),gS=(s,l="default")=>Math.max(5,Math.ceil(Math.sqrt(d0(s,l).length))),JP=(s,l)=>{const d=vd("color_cols")(s),f=gS(s,l);return d===gS(s)?f:d},RT=(s,l="default")=>Math.round(l===TT?vd("color_cols_foreground")(s):l===OT?vd("color_cols_background")(s):vd("color_cols")(s)),IT=vd("custom_colors"),QP=vd("color_default_foreground"),eN=vd("color_default_background"),tN=(s,l)=>{const d=fn(s.selection.getStart()),f=l==="hilitecolor"?ih(d,b=>{if(lr(b)){const v=Er(b,"background-color");return ds(uS(v).exists(w=>w.alpha!==0),v)}return R.none()}).getOr("rgba(0, 0, 0, 0)"):Er(d,"color");return uS(f).map(b=>"#"+fw(b).value)},hS=s=>{const l="choiceitem",d={type:l,text:"Remove color",icon:"color-swatch-remove-color",value:"remove"};return s?[d,{type:l,text:"Custom color",icon:"color-picker",value:"custom"}]:[d]},DT=(s,l,d,f)=>{d==="custom"?sN(s)(b=>{b.each(v=>{AT(l,v),s.execCommand("mceApplyTextcolor",l,v),f(v)})},tN(s,l).getOr(gw)):d==="remove"?(f(""),s.execCommand("mceRemoveTextcolor",l)):(f(d),s.execCommand("mceApplyTextcolor",l,d))},PT=(s,l,d)=>s.concat((f=>Me(YP(f).state(),b=>({type:"choiceitem",text:b,icon:"checkmark",value:b})))(l).concat(hS(d))),nN=(s,l,d)=>f=>{f(PT(s,l,d))},NT=(s,l,d)=>{const f=l==="forecolor"?"tox-icon-text-color__color":"tox-icon-highlight-bg-color__color";s.setIconFill(f,d)},LT=(s,l)=>{s.setTooltip(l)},oN=(s,l)=>d=>{const f=tN(s,l);return ai(f,d.toUpperCase())},MT=(s,l,d)=>{if(Zu(d))return l==="forecolor"?"Text color":"Background color";const f=l==="forecolor"?"Text color {0}":"Background color {0}",b=PT(d0(s,l),l,!1),v=J(b,w=>w.value===d).getOr({text:""}).text;return s.translate([f,s.translate(v)])},BT=(s,l,d,f)=>{s.ui.registry.addSplitButton(l,{tooltip:MT(s,d,f.get()),presets:"color",icon:l==="forecolor"?"text-color":"highlight-bg-color",select:oN(s,d),columns:RT(s,d),fetch:nN(d0(s,d),d,IT(s)),onAction:b=>{DT(s,d,f.get(),W)},onItemAction:(b,v)=>{DT(s,d,v,w=>{f.set(w),Cy(s,{name:l,color:w})})},onSetup:b=>{NT(b,l,f.get());const v=w=>{w.name===l&&(NT(b,w.name,w.color),LT(b,MT(s,d,w.color)))};return s.on("TextColorChange",v),_y(Fi(s)(b),()=>{s.off("TextColorChange",v)})}})},ky=(s,l,d,f,b)=>{s.ui.registry.addNestedMenuItem(l,{text:f,icon:l==="forecolor"?"text-color":"highlight-bg-color",onSetup:v=>(LT(v,MT(s,d,b.get())),NT(v,l,b.get()),Fi(s)(v)),getSubmenuItems:()=>[{type:"fancymenuitem",fancytype:"colorswatch",select:oN(s,d),initData:{storageKey:d},onAction:v=>{DT(s,d,v.value,w=>{b.set(w),Cy(s,{name:l,color:w})})}}]})},sN=s=>(l,d)=>{let f=!1;const b={colorpicker:d};s.windowManager.open({title:"Color Picker",size:"normal",body:{type:"panel",items:[{type:"colorpicker",name:"colorpicker",label:"Color"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:b,onAction:(v,w)=>{w.name==="hex-valid"&&(f=w.value)},onSubmit:v=>{const w=v.getData().colorpicker;f?(l(R.from(w)),v.close()):s.windowManager.alert(s.translate(["Invalid hex color code: {0}",w]))},onClose:W,onCancel:()=>{l(R.none())}})},f0=(s,l,d,f,b,v,w,k)=>{const E=iw(l),P=FT(l,d,f,b!=="color"?"normal":"color",v,w,k);return rT(s,E,P,f,{menuType:b})},FT=(s,l,d,f,b,v,w)=>nl(Me(s,k=>{return k.type==="choiceitem"?(E=k,wr("choicemenuitem",hT,E)).fold(vg,P=>R.some(((F,L,H,Y,Q,fe,pe,Ee=!0)=>{const ge=dw({presets:H,textContent:L?F.text:R.none(),htmlContent:R.none(),ariaLabel:F.text,iconContent:F.icon,shortcutContent:L?F.shortcut:R.none(),checkMark:L?R.some($P(pe.icons)):R.none(),caret:R.none(),value:F.value},pe,Ee),me=F.text.filter(j(!L)).map(Ce=>ri.config(pe.tooltips.getConfig({tooltipText:pe.translate(Ce)})));return Bs(xy({data:wy(F),enabled:F.enabled,getApi:Ce=>({setActive:Ae=>{so.set(Ce,Ae)},isActive:()=>so.isOn(Ce),isEnabled:()=>!co.isDisabled(Ce),setEnabled:Ae=>co.set(Ce,!Ae)}),onAction:Ce=>Y(F.value),onSetup:Ce=>(Ce.setActive(Q),W),triggersSubmenu:!1,itemBehaviours:[...me.toArray()]},ge,fe,pe),{toggling:{toggleClass:iP,toggleOnExecute:!1,selected:F.active,exclusive:!0}})})(P,d===1,f,l,v(P.value),b,w,iw(s)))):R.none();var E})),hw=(s,l)=>{const d=o0(l);return s===1?{mode:"menu",moveOnTab:!0}:s==="auto"?{mode:"grid",selector:"."+d.item,initSize:{numColumns:1,numRows:1}}:{mode:"matrix",rowSelector:"."+(l==="color"?"tox-swatches__row":"tox-collection__group"),previousSelector:f=>l==="color"?fr(f.element,"[aria-checked=true]"):R.none()}},$T=kn("cell-over"),rN=kn("cell-execute"),U7=(s,l,d)=>{const f=v=>$n(v,rN,{row:s,col:l}),b=(v,w)=>{w.stop(),f(v)};return Ji({dom:{tag:"div",attributes:{role:"button","aria-label":d}},behaviours:Xt([Oo("insert-table-picker-cell",[Rt(Mn(),io.focus),Rt(Al(),f),Rt(vi(),b),Rt(Mf(),b)]),so.config({toggleClass:"tox-insert-table-picker__selected",toggleOnExecute:!1}),io.config({onFocus:v=>$n(v,$T,{row:s,col:l})})])})},iN=s=>vn(s,l=>Me(l,dl)),aN=(s,l)=>Br(`${l}x${s}`),lN={inserttable:(s,l)=>{const d=(w=>(k,E)=>w.shared.providers.translate(["{0} columns, {1} rows",E,k]))(l),f=((w,k,E)=>{const P=[];for(let F=0;F<10;F++){const L=[];for(let H=0;H<10;H++){const Y=w(F+1,H+1);L.push(U7(F,H,Y))}P.push(L)}return P})(d),b=aN(0,0),v=Ss({dom:{tag:"span",classes:["tox-insert-table-picker__label"]},components:[b],behaviours:Xt([Qn.config({})])});return{type:"widget",data:{value:kn("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:!0,components:[Bh.widget({dom:{tag:"div",classes:["tox-insert-table-picker"]},components:iN(f).concat(v.asSpec()),behaviours:Xt([Oo("insert-table-picker",[ar(w=>{Qn.set(v.get(w),[b])}),lh($T,(w,k,E)=>{const{row:P,col:F}=E.event;((L,H,Y,Q,fe)=>{for(let pe=0;pe<10;pe++)for(let Ee=0;Ee<10;Ee++)so.set(L[pe][Ee],pe<=H&&Ee<=Y)})(f,P,F),Qn.set(v.get(w),[aN(P+1,F+1)])}),lh(rN,(w,k,E)=>{const{row:P,col:F}=E.event;No(w,nv()),s.onAction({numRows:P+1,numColumns:F+1})})]),zn.config({initSize:{numRows:10,numColumns:10},mode:"flatgrid",selector:'[role="button"]'})])})]}},colorswatch:(s,l)=>{const d=((w,k)=>{const E=w.initData.allowCustomColors&&k.colorinput.hasCustomColors();return w.initData.colors.fold(()=>PT(k.colorinput.getColors(w.initData.storageKey),w.initData.storageKey,E),P=>P.concat(hS(E)))})(s,l),f=l.colorinput.getColorCols(s.initData.storageKey),b="color",v={...f0(kn("menu-value"),d,w=>{s.onAction({value:w})},f,b,um.CLOSE_ON_EXECUTE,s.select.getOr(we),l.shared.providers),markers:o0(b),movement:hw(f,b),showMenuRole:!1};return{type:"widget",data:{value:kn("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:!0,components:[Bh.widget(Xv.sketch(v))]}}},cN=s=>({type:"separator",dom:{tag:"div",classes:[J_,"tox-collection__group-heading"]},components:s.text.map(Br).toArray()});var W7=Object.freeze({__proto__:null,getCoupled:(s,l,d,f)=>d.getOrCreate(s,l,f),getExistingCoupled:(s,l,d,f)=>d.getExisting(s,l,f)}),uN=[Yi("others",Xb(Wo.value,Hl()))],pS=Object.freeze({__proto__:null,init:()=>{const s={},l=(f,b)=>{if(Kt(f.others).length===0)throw new Error("Cannot find any known coupled components");return Tn(s,b)},d=j({});return Li({readState:d,getExisting:(f,b,v)=>l(b,v).orThunk(()=>(Tn(b.others,v).getOrDie("No information found for coupled component: "+v),R.none())),getOrCreate:(f,b,v)=>l(b,v).getOrThunk(()=>{const w=Tn(b.others,v).getOrDie("No information found for coupled component: "+v)(f),k=f.getSystem().build(w);return s[v]=k,k})})}});const Fr=Mi({fields:uN,name:"coupling",apis:W7,state:pS}),pw=s=>{let l=R.none(),d=[];const f=w=>{b()?v(w):d.push(w)},b=()=>l.isSome(),v=w=>{l.each(k=>{setTimeout(()=>{w(k)},0)})};return s(w=>{b()||(l=R.some(w),mt(d,v),d=[])}),{get:f,map:w=>pw(k=>{f(E=>{k(w(E))})}),isReady:b}},K7={nu:pw,pure:s=>pw(l=>{l(s)})},j7=s=>{setTimeout(()=>{throw s},0)},Ey=s=>{const l=d=>{s().then(d,j7)};return{map:d=>Ey(()=>s().then(d)),bind:d=>Ey(()=>s().then(f=>d(f).toPromise())),anonBind:d=>Ey(()=>s().then(()=>d.toPromise())),toLazy:()=>K7.nu(l),toCached:()=>{let d=null;return Ey(()=>(d===null&&(d=s()),d))},toPromise:s,get:l}},nb=s=>Ey(()=>new Promise(s)),xg=s=>Ey(()=>Promise.resolve(s)),VT=j("sink"),dN=j(Su({name:VT(),overrides:j({dom:{tag:"div"},behaviours:Xt([xa.config({useFixed:_e})]),events:wo([jm(_r()),jm(Ft()),jm(vi())])})})),fN=(s,l)=>{const d=s.getHotspot(l).getOr(l),f="hotspot",b=s.getAnchorOverrides();return s.layouts.fold(()=>({type:f,hotspot:d,overrides:b}),v=>({type:f,hotspot:d,overrides:b,layouts:v}))},bS=(s,l,d,f,b,v,w)=>((E,P,F,L,H,Y,Q)=>{const fe=((Ee,ge,me)=>(0,Ee.fetch)(me).map(ge))(E,P,L),pe=mN(L,E);return fe.map(Ee=>Ee.bind(ge=>{const me=ge.menus[ge.primary];return R.from(me).each(Ce=>{E.listRole.each(Ae=>{Ce.role=Ae})}),R.from(Ih.sketch({...Y.menu(),uid:Vc(""),data:ge,highlightOnOpen:Q,onOpenMenu:(Ce,Ae)=>{const Ie=pe().getOrDie();xa.position(Ie,Ae,{anchor:F}),T.decloak(H)},onOpenSubmenu:(Ce,Ae,Ie)=>{const qe=pe().getOrDie();xa.position(qe,Ie,{anchor:{type:"submenu",item:Ae}}),T.decloak(H)},onRepositionMenu:(Ce,Ae,Ie)=>{const qe=pe().getOrDie();xa.position(qe,Ae,{anchor:F}),mt(Ie,lt=>{xa.position(qe,lt.triggeredMenu,{anchor:{type:"submenu",item:lt.triggeringItem}})})},onEscape:()=>(io.focus(L),T.close(H),R.some(!0))}))}))})(s,l,fN(s,d),d,f,b,w).map(E=>(E.fold(()=>{T.isOpen(f)&&T.close(f)},P=>{T.cloak(f),T.open(f,P),v(f)}),f)),Z7=(s,l,d,f,b,v,w)=>(T.close(f),xg(f)),zT=(s,l,d,f,b,v)=>{const w=Fr.getCoupled(d,"sandbox");return(T.isOpen(w)?Z7:bS)(s,l,d,w,f,b,v)},mN=(s,l)=>s.getSystem().getByUid(l.uid+"-"+VT()).map(d=>()=>Wo.value(d)).getOrThunk(()=>l.lazySink.fold(()=>()=>Wo.error(new Error("No internal sink is specified, nor could an external sink be found")),d=>()=>d(s))),HT=s=>{T.getState(s).each(l=>{Ih.repositionMenus(l)})},UT=(s,l,d)=>{const f=vh(),b=mN(l,s);return{dom:{tag:"div",classes:s.sandboxClasses,attributes:{id:f.id}},behaviours:oo(s.sandboxBehaviours,[gt.config({store:{mode:"memory",initialValue:l}}),T.config({onOpen:(v,w)=>{const k=fN(s,l);f.link(l.element),s.matchWidth&&((E,P,F)=>{const L=ls.getCurrent(P).getOr(P),H=Di(E.element);F?yo(L.element,"min-width",H+"px"):((Y,Q)=>{Xg.set(Y,Q)})(L.element,H)})(k.hotspot,w,s.useMinWidth),s.onOpen(k,v,w),d!==void 0&&d.onOpen!==void 0&&d.onOpen(v,w)},onClose:(v,w)=>{f.unlink(l.element),b().getOr(w).element.dom.dispatchEvent(new window.FocusEvent("focusout")),d!==void 0&&d.onClose!==void 0&&d.onClose(v,w)},isPartOf:(v,w,k)=>Ol(w,k)||Ol(l,k),getAttachPoint:()=>b().getOrDie()}),ls.config({find:v=>T.getState(v).bind(w=>ls.getCurrent(w))}),Rl.config({channels:{...le({isExtraPart:we}),...$e({doReposition:HT})}})])}},gN=s=>{const l=Fr.getCoupled(s,"sandbox");HT(l)},WT=()=>[ut("sandboxClasses",[]),lo("sandboxBehaviours",[ls,Rl,T,gt])],G7=j([Bt("dom"),Bt("fetch"),os("onOpen"),Tl("onExecute"),ut("getHotspot",R.some),ut("getAnchorOverrides",j({})),Gf(),En("dropdownBehaviours",[so,Fr,zn,io]),Bt("toggleClass"),ut("eventOrder",{}),Xo("lazySink"),ut("matchWidth",!1),ut("useMinWidth",!1),Xo("role"),Xo("listRole")].concat(WT())),q7=j([rf({schema:[mh(),ut("fakeFocus",!1)],name:"menu",defaults:s=>({onExecute:s.onExecute})}),dN()]),Pl=Ul({name:"Dropdown",configFields:G7(),partFields:q7(),factory:(s,l,d,f)=>{const b=E=>{T.getState(E).each(P=>{Ih.highlightPrimary(P)})},v=(E,P,F)=>zT(s,de,E,f,P,F),w={expand:E=>{so.isOn(E)||v(E,W,hl.HighlightNone).get(W)},open:E=>{so.isOn(E)||v(E,W,hl.HighlightMenuAndItem).get(W)},refetch:E=>Fr.getExistingCoupled(E,"sandbox").fold(()=>v(E,W,hl.HighlightMenuAndItem).map(W),P=>bS(s,de,E,P,f,W,hl.HighlightMenuAndItem).map(W)),isOpen:so.isOn,close:E=>{so.isOn(E)&&v(E,W,hl.HighlightMenuAndItem).get(W)},repositionMenus:E=>{so.isOn(E)&&gN(E)}},k=(E,P)=>(zf(E),R.some(!0));return{uid:s.uid,dom:s.dom,components:l,behaviours:To(s.dropdownBehaviours,[so.config({toggleClass:s.toggleClass,aria:{mode:"expanded"}}),Fr.config({others:{sandbox:E=>UT(s,E,{onOpen:()=>so.on(E),onClose:()=>so.off(E)})}}),zn.config({mode:"special",onSpace:k,onEnter:k,onDown:(E,P)=>{if(Pl.isOpen(E)){const F=Fr.getCoupled(E,"sandbox");b(F)}else Pl.open(E);return R.some(!0)},onEscape:(E,P)=>Pl.isOpen(E)?(Pl.close(E),R.some(!0)):R.none()}),io.config({})]),events:cy(R.some(E=>{v(E,b,hl.HighlightMenuAndItem).get(W)})),eventOrder:{...s.eventOrder,[Al()]:["disabling","toggling","alloy.base.behaviour"]},apis:w,domModification:{attributes:{"aria-haspopup":s.listRole.getOr("true"),...s.role.fold(()=>({}),E=>({role:E})),...s.dom.tag==="button"?{type:Tn(s.dom,"attributes").bind(E=>Tn(E,"type")).getOr("button")}:{}}}}},apis:{open:(s,l)=>s.open(l),refetch:(s,l)=>s.refetch(l),expand:(s,l)=>s.expand(l),close:(s,l)=>s.close(l),isOpen:(s,l)=>s.isOpen(l),repositionMenus:(s,l)=>s.repositionMenus(l)}}),hN=(s,l,d)=>{gP(s).each(f=>{var b;((v,w)=>{es(w.element,"id").each(k=>dn(v.element,"aria-activedescendant",k))})(f,d),(ul((b=l).element,sw)?R.some(b.element):fr(b.element,"."+sw)).each(v=>{es(v,"id").each(w=>dn(f.element,"aria-controls",w))})}),dn(d.element,"aria-selected","true")},Y7=(s,l,d)=>{dn(d.element,"aria-selected","false")},m0=s=>Fr.getExistingCoupled(s,"sandbox").bind(ow).map(hP).map(l=>l.fetchPattern).getOr("");var bw;(function(s){s[s.ContentFocus=0]="ContentFocus",s[s.UiFocus=1]="UiFocus"})(bw||(bw={}));const X7=(s,l,d,f,b)=>{const v=d.shared.providers,w=E=>b?{...E,shortcut:R.none(),icon:E.text.isSome()?R.none():E.icon}:E;switch(s.type){case"menuitem":return(k=s,wr("menuitem",IP,k)).fold(vg,E=>R.some(((P,F,L,H=!0)=>{const Y=dw({presets:"normal",iconContent:P.icon,textContent:P.text,htmlContent:R.none(),ariaLabel:P.text,caret:R.none(),checkMark:R.none(),shortcutContent:P.shortcut},L,H);return xy({data:wy(P),getApi:Q=>({isEnabled:()=>!co.isDisabled(Q),setEnabled:fe=>co.set(Q,!fe)}),enabled:P.enabled,onAction:P.onAction,onSetup:P.onSetup,triggersSubmenu:!1,itemBehaviours:[]},Y,F,L)})(w(E),l,v,f)));case"nestedmenuitem":return(E=>wr("nestedmenuitem",DP,E))(s).fold(vg,E=>R.some(((P,F,L,H=!0,Y=!1)=>{const Q=Y?(fe=L.icons,bT("chevron-down",fe,[nT])):(Ee=>bT("chevron-right",Ee,[nT]))(L.icons);var fe;const pe=dw({presets:"normal",iconContent:P.icon,textContent:P.text,htmlContent:R.none(),ariaLabel:P.text,caret:R.some(Q),checkMark:R.none(),shortcutContent:P.shortcut},L,H);return xy({data:wy(P),getApi:Ee=>({isEnabled:()=>!co.isDisabled(Ee),setEnabled:ge=>co.set(Ee,!ge),setIconFill:(ge,me)=>{fr(Ee.element,`svg path[class="${ge}"], rect[class="${ge}"]`).each(Ce=>{dn(Ce,"fill",me)})},setTooltip:ge=>{const me=L.translate(ge);dn(Ee.element,"aria-label",me)}}),enabled:P.enabled,onAction:W,onSetup:P.onSetup,triggersSubmenu:!0,itemBehaviours:[]},pe,F,L)})(w(E),l,v,f,b)));case"togglemenuitem":return(E=>wr("togglemenuitem",F7,E))(s).fold(vg,E=>R.some(((P,F,L,H=!0)=>{const Y=dw({iconContent:P.icon,textContent:P.text,htmlContent:R.none(),ariaLabel:P.text,checkMark:R.some($P(L.icons)),caret:R.none(),shortcutContent:P.shortcut,presets:"normal",meta:P.meta},L,H);return Bs(xy({data:wy(P),enabled:P.enabled,getApi:Q=>({setActive:fe=>{so.set(Q,fe)},isActive:()=>so.isOn(Q),isEnabled:()=>!co.isDisabled(Q),setEnabled:fe=>co.set(Q,!fe)}),onAction:P.onAction,onSetup:P.onSetup,triggersSubmenu:!1,itemBehaviours:[]},Y,F,L),{toggling:{toggleClass:iP,toggleOnExecute:!1,selected:P.active},role:P.role.getOrUndefined()})})(w(E),l,v,f)));case"separator":return(E=>wr("separatormenuitem",CP,E))(s).fold(vg,E=>R.some(cN(E)));case"fancymenuitem":return(E=>wr("fancymenuitem",RP,E))(s).fold(vg,E=>((P,F)=>Tn(lN,P.fancytype).map(L=>L(P,F)))(E,d));default:return console.error("Unknown item in general menu",s),R.none()}var k},ob=(s,l,d,f,b,v,w)=>{const k=f===1,E=!k||iw(s);return nl(Me(s,P=>{switch(P.type){case"separator":return(F=P,wr("Autocompleter.Separator",CP,F)).fold(vg,L=>R.some(cN(L)));case"cardmenuitem":return(L=>wr("cardmenuitem",B7,L))(P).fold(vg,L=>R.some(((H,Y,Q,fe)=>{const pe={dom:VP(H.label),optComponents:[R.some({dom:{tag:"div",classes:[tw,nw]},components:xT(H.items,fe)})]};return xy({data:wy({text:R.none(),...H}),enabled:H.enabled,getApi:Ee=>({isEnabled:()=>!co.isDisabled(Ee),setEnabled:ge=>{co.set(Ee,!ge),mt(Ai(Ee.element,"*"),me=>{Ee.getSystem().getByDom(me).each(Ce=>{Ce.hasConfigured(co)&&co.set(Ce,!ge)})})}}),onAction:H.onAction,onSetup:H.onSetup,triggersSubmenu:!1,itemBehaviours:R.from(fe.itemBehaviours).getOr([])},pe,Y,Q.providers)})({...L,onAction:H=>{L.onAction(H),d(L.value,L.meta)}},b,v,{itemBehaviours:zP(L.meta,v,R.none()),cardText:{matchText:l,highlightOn:w}})));default:return(L=>wr("Autocompleter.Item",A7,L))(P).fold(vg,L=>R.some(((H,Y,Q,fe,pe,Ee,ge,me=!0)=>{const Ce=dw({presets:fe,textContent:R.none(),htmlContent:Q?H.text.map(Ie=>yT(Ie,Y)):R.none(),ariaLabel:H.text,iconContent:H.icon,shortcutContent:R.none(),checkMark:R.none(),caret:R.none(),value:H.value},ge.providers,me,H.icon),Ae=H.text.filter(Ie=>!Q&&Ie!=="");return xy({data:wy(H),enabled:H.enabled,getApi:j({}),onAction:Ie=>pe(H.value,H.meta),onSetup:j(W),triggersSubmenu:!1,itemBehaviours:zP(H,ge,Ae)},Ce,Ee,ge.providers)})(L,l,k,"normal",d,b,v,E)))}var F}))},pN=(s,l,d,f,b,v)=>{const w=iw(l),k=nl(Me(l,P=>{const F=L=>X7(L,d,f,(H=>b?!go(H,"text"):w)(L),b);return P.type==="nestedmenuitem"&&P.getSubmenuItems().length<=0?F({...P,enabled:!1}):F(P)})),E=(P=>P.searchMode==="no-search"?{menuType:"normal"}:{menuType:"searchable",searchMode:P})(v);return(b?_7:rT)(s,w,k,1,E)},KT=s=>Ih.singleData(s.value,s),yd=s=>qf(fn(s.startContainer),s.startOffset,fn(s.endContainer),s.endOffset),bN=(s,l)=>{const d=kn("autocompleter"),f=Un(!1),b=Un(!1),v=Ts(),w=Ji(br.sketch({dom:{tag:"div",classes:["tox-autocompleter"],attributes:{id:d}},components:[],fireDismissalEventInstead:{},inlineBehaviours:Xt([Oo("dismissAutocompleter",[Rt(ah(),()=>L()),Rt(Ox(),(Q,fe)=>{es(fe.event.target,"id").each(pe=>dn(fn(s.getBody()),"aria-activedescendant",pe))})])]),lazySink:l.getSink})),k=()=>br.isOpen(w),E=b.get,P=()=>{if(k()){br.hide(w),s.dom.remove(d,!1);const Q=fn(s.getBody());es(Q,"aria-owns").filter(fe=>fe===d).each(()=>{Po(Q,"aria-owns"),Po(Q,"aria-activedescendant")})}},F=()=>br.getContent(w).bind(Q=>Se(Q.components(),0)),L=()=>s.execCommand("mceAutocompleterClose"),H=Q=>{const fe=(pe=>{const Ee=ln(pe,ge=>R.from(ge.columns)).getOr(1);return vn(pe,ge=>{const me=ge.items;return ob(me,ge.matchText,(Ce,Ae)=>{const Ie={hide:()=>L(),reload:qe=>{P(),s.execCommand("mceAutocompleterReload",!1,{fetchOptions:qe})}};s.execCommand("mceAutocompleterRefreshActiveRange"),v.get().each(qe=>{f.set(!0),ge.onAction(Ie,qe,Ce,Ae),f.set(!1)})},Ee,um.BUBBLE_TO_SANDBOX,l,ge.highlightOn)})})(Q);fe.length>0?(((pe,Ee)=>{const ge=ln(pe,me=>R.from(me.columns)).getOr(1);br.showMenuAt(w,{anchor:{type:"selection",getSelection:()=>v.get().map(yd),root:fn(s.getBody())}},((me,Ce,Ae,Ie)=>{const qe=hw(Ce,Ie),lt=o0(Ie);return{data:KT({...me,movement:qe,menuBehaviours:cw(Ce!=="auto"?[]:[ar((Nt,Ot)=>{pT(Nt,4,lt.item).each(({numColumns:Et,numRows:jt})=>{zn.setGridSize(Nt,jt,Et)})})])}),menu:{markers:o0(Ie),fakeFocus:Ae===bw.ContentFocus}}})(rT("autocompleter-value",!0,Ee,ge,{menuType:"normal"}),ge,bw.ContentFocus,"normal")),F().each(Es.highlightFirst)})(Q,fe),dn(fn(s.getBody()),"aria-owns",d),s.inline||Y()):P()},Y=()=>{s.dom.get(d)&&s.dom.remove(d,!1);const Q=s.getDoc().documentElement,fe=s.selection.getNode(),pe=(Ee=>dh(Ee,!0))(w.element);rl(pe,{border:"0",clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:"0",position:"absolute",width:"1px",top:`${fe.offsetTop}px`,left:`${fe.offsetLeft}px`}),s.dom.add(Q,pe.dom),fr(pe,'[role="menu"]').each(Ee=>{ks(Ee,"position"),ks(Ee,"max-height")})};s.on("AutocompleterStart",({lookupData:Q})=>{b.set(!0),f.set(!1),H(Q)}),s.on("AutocompleterUpdate",({lookupData:Q})=>H(Q)),s.on("AutocompleterUpdateActiveRange",({range:Q})=>v.set(Q)),s.on("AutocompleterEnd",()=>{P(),b.set(!1),f.set(!1),v.clear()}),((Q,fe)=>{const pe=(ge,me)=>{$n(ge,_r(),{raw:me})},Ee=()=>Q.getMenu().bind(Es.getHighlighted);fe.on("keydown",ge=>{const me=ge.which;Q.isActive()&&(Q.isMenuOpen()?me===13?(Ee().each(zf),ge.preventDefault()):me===40?(Ee().fold(()=>{Q.getMenu().each(Es.highlightFirst)},Ce=>{pe(Ce,ge)}),ge.preventDefault(),ge.stopImmediatePropagation()):me!==37&&me!==38&&me!==39||Ee().each(Ce=>{pe(Ce,ge),ge.preventDefault(),ge.stopImmediatePropagation()}):me!==13&&me!==38&&me!==40||Q.cancelIfNecessary())}),fe.on("NodeChange",()=>{!Q.isActive()||Q.isProcessingAction()||fe.queryCommandState("mceAutoCompleterInRange")||Q.cancelIfNecessary()})})({cancelIfNecessary:L,isMenuOpen:k,isActive:E,isProcessingAction:f.get,getMenu:F},s)},Ay=(s,l,d)=>cd(s,l,d).isSome(),jT=(s,l)=>{let d=null;return{cancel:()=>{d!==null&&(clearTimeout(d),d=null)},schedule:(...f)=>{d=setTimeout(()=>{s.apply(null,f),d=null},l)}}},vN=s=>{const l=s.raw;return l.touches===void 0||l.touches.length!==1?R.none():R.some(l.touches[0])},vS=(s,l)=>{const d={stopBackspace:!0,...l},f=(L=>{const H=Ts(),Y=Un(!1),Q=jT(pe=>{L.triggerEvent(zE(),pe),Y.set(!0)},400),fe=Zd([{key:G(),value:pe=>(vN(pe).each(Ee=>{Q.cancel();const ge={x:Ee.clientX,y:Ee.clientY,target:pe.target};Q.schedule(pe),Y.set(!1),H.set(ge)}),R.none())},{key:ae(),value:pe=>(Q.cancel(),vN(pe).each(Ee=>{H.on(ge=>{((me,Ce)=>{const Ae=Math.abs(me.clientX-Ce.x),Ie=Math.abs(me.clientY-Ce.y);return Ae>5||Ie>5})(Ee,ge)&&H.clear()})}),R.none())},{key:Be(),value:pe=>(Q.cancel(),H.get().filter(Ee=>fs(Ee.target,pe.target)).map(Ee=>Y.get()?(pe.prevent(),!1):L.triggerEvent(Mf(),pe)))}]);return{fireIfReady:(pe,Ee)=>Tn(fe,Ee).bind(ge=>ge(pe))}})(d),b=Me(["touchstart","touchmove","touchend","touchcancel","gesturestart","mousedown","mouseup","mouseover","mousemove","mouseout","click"].concat(["selectstart","input","contextmenu","change","transitionend","transitioncancel","drag","dragstart","dragend","dragenter","dragleave","dragover","drop","keyup"]),L=>Za(s,L,H=>{f.fireIfReady(H,L).each(Y=>{Y&&H.kill()}),d.triggerEvent(L,H)&&H.kill()})),v=Ts(),w=Za(s,"paste",L=>{f.fireIfReady(L,"paste").each(H=>{H&&L.kill()}),d.triggerEvent("paste",L)&&L.kill(),v.set(setTimeout(()=>{d.triggerEvent(Tx(),L)},0))}),k=Za(s,"keydown",L=>{d.triggerEvent("keydown",L)?L.kill():d.stopBackspace&&(H=>H.raw.which===VI[0]&&!dt(["input","textarea"],ol(H.target))&&!Ay(H.target,'[contenteditable="true"]'))(L)&&L.prevent()}),E=Za(s,"focusin",L=>{d.triggerEvent("focusin",L)&&L.kill()}),P=Ts(),F=Za(s,"focusout",L=>{d.triggerEvent("focusout",L)&&L.kill(),P.set(setTimeout(()=>{d.triggerEvent(wp(),L)},0))});return{unbind:()=>{mt(b,L=>{L.unbind()}),k.unbind(),E.unbind(),F.unbind(),w.unbind(),v.on(clearTimeout),P.on(clearTimeout)}}},ZT=(s,l)=>{const d=Tn(s,"target").getOr(l);return Un(d)},vw=Xl([{stopped:[]},{resume:["element"]},{complete:[]}]),yN=(s,l,d,f,b,v)=>{const w=s(l,f),k=((E,P)=>{const F=Un(!1),L=Un(!1);return{stop:()=>{F.set(!0)},cut:()=>{L.set(!0)},isStopped:F.get,isCut:L.get,event:E,setSource:P.set,getSource:P.get}})(d,b);return w.fold(()=>(v.logEventNoHandlers(l,f),vw.complete()),E=>{const P=E.descHandler;return Zx(P)(k),k.isStopped()?(v.logEventStopped(l,E.element,P.purpose),vw.stopped()):k.isCut()?(v.logEventCut(l,E.element,P.purpose),vw.complete()):Ta(E.element).fold(()=>(v.logNoParent(l,E.element,P.purpose),vw.complete()),F=>(v.logEventResponse(l,E.element,P.purpose),vw.resume(F)))})},yw=(s,l,d,f,b,v)=>yN(s,l,d,f,b,v).fold(_e,w=>yw(s,l,d,w,b,v),we),yS=(s,l,d,f,b)=>{const v=ZT(d,f);return yw(s,l,d,f,v,b)},xN=()=>{const s=(()=>{const f={};return{registerId:(b,v,w)=>{Yn(w,(k,E)=>{const P=f[E]!==void 0?f[E]:{};P[v]=((F,L)=>({cHandler:ze.apply(void 0,[F.handler].concat(L)),purpose:F.purpose}))(k,b),f[E]=P})},unregisterId:b=>{Yn(f,(v,w)=>{go(v,b)&&delete v[b]})},filterByType:b=>Tn(f,b).map(v=>Qr(v,(w,k)=>((E,P)=>({id:E,descHandler:P}))(k,w))).getOr([]),find:(b,v,w)=>Tn(f,v).bind(k=>ih(w,E=>((P,F)=>hh(F).bind(L=>Tn(P,L)).map(L=>((H,Y)=>({element:H,descHandler:Y}))(F,L)))(k,E),b))}})(),l={},d=f=>{hh(f.element).each(b=>{delete l[b],s.unregisterId(b)})};return{find:(f,b,v)=>s.find(f,b,v),filter:f=>s.filterByType(f),register:f=>{const b=(w=>{const k=w.element;return hh(k).getOrThunk(()=>((E,P)=>{const F=kn(A1+"uid-");return T1(P,F),F})(0,w.element))})(f);Ro(l,b)&&((w,k)=>{const E=l[k];if(E!==w)throw new Error('The tagId "'+k+'" is already used by: '+Jd(E.element)+`
Cannot use it for: `+Jd(w.element)+`
The conflicting element is`+(hn(E.element)?" ":" not ")+"already in the DOM");d(w)})(f,b);const v=[f];s.registerId(v,b,f.events),l[b]=f},unregister:d,getById:f=>Tn(l,f)}},uf=ku({name:"Container",factory:s=>{const{attributes:l,...d}=s.dom;return{uid:s.uid,dom:{tag:"div",attributes:{role:"presentation",...l},...d},components:s.components,behaviours:no(s.containerBehaviours),events:s.events,domModification:s.domModification,eventOrder:s.eventOrder}},configFields:[ut("components",[]),En("containerBehaviours",[]),ut("events",{}),ut("domModification",{}),ut("eventOrder",{})]}),xS=s=>{const l=pe=>Ta(s.element).fold(_e,Ee=>fs(pe,Ee)),d=xN(),f=(pe,Ee)=>d.find(l,pe,Ee),b=vS(s.element,{triggerEvent:(pe,Ee)=>gv(pe,Ee.target,ge=>((me,Ce,Ae,Ie)=>yS(me,Ce,Ae,Ae.target,Ie))(f,pe,Ee,ge))}),v={debugInfo:j("real"),triggerEvent:(pe,Ee,ge)=>{gv(pe,Ee,me=>yS(f,pe,ge,Ee,me))},triggerFocus:(pe,Ee)=>{hh(pe).fold(()=>{ja(pe)},ge=>{gv(id(),pe,me=>(((Ce,Ae,Ie,qe,lt)=>{const Nt=ZT(Ie,qe);yN(Ce,Ae,Ie,qe,Nt,lt)})(f,id(),{originator:Ee,kill:W,prevent:W,target:pe},pe,me),!1))})},triggerEscape:(pe,Ee)=>{v.triggerEvent("keydown",pe.element,Ee.event)},getByUid:pe=>Q(pe),getByDom:pe=>fe(pe),build:Ji,buildOrPatch:N1,addToGui:pe=>{E(pe)},removeFromGui:pe=>{P(pe)},addToWorld:pe=>{w(pe)},removeFromWorld:pe=>{k(pe)},broadcast:pe=>{L(pe)},broadcastOn:(pe,Ee)=>{H(pe,Ee)},broadcastEvent:(pe,Ee)=>{Y(pe,Ee)},isConnected:_e},w=pe=>{pe.connect(v),Aa(pe.element)||(d.register(pe),mt(pe.components(),w),v.triggerEvent(Bf(),pe.element,{target:pe.element}))},k=pe=>{Aa(pe.element)||(mt(pe.components(),k),d.unregister(pe)),pe.disconnect()},E=pe=>{nm(s,pe)},P=pe=>{ml(pe)},F=pe=>{const Ee=d.filter(cc());mt(Ee,ge=>{const me=ge.descHandler;Zx(me)(pe)})},L=pe=>{F({universal:!0,data:pe})},H=(pe,Ee)=>{F({universal:!1,channels:pe,data:Ee})},Y=(pe,Ee)=>((ge,me,Ce)=>{const Ae=(Ie=>{const qe=Un(!1);return{stop:()=>{qe.set(!0)},cut:W,isStopped:qe.get,isCut:we,event:Ie,setSource:Je("Cannot set source of a broadcasted event"),getSource:Je("Cannot get source of a broadcasted event")}})(me);return mt(ge,Ie=>{const qe=Ie.descHandler;Zx(qe)(Ae)}),Ae.isStopped()})(d.filter(pe),Ee),Q=pe=>d.getById(pe).fold(()=>Wo.error(new Error('Could not find component with uid: "'+pe+'" in system.')),Wo.value),fe=pe=>{const Ee=hh(pe).getOr("not found");return Q(Ee)};return w(s),{root:s,element:s.element,destroy:()=>{b.unbind(),Zi(s.element)},add:E,remove:P,getByUid:Q,getByDom:fe,addToWorld:w,removeFromWorld:k,broadcast:L,broadcastOn:H,broadcastEvent:Y}},J7=j([ut("prefix","form-field"),En("fieldBehaviours",[ls,gt])]),GT=j([Su({schema:[Bt("dom")],name:"label"}),Su({factory:{sketch:s=>({uid:s.uid,dom:{tag:"span",styles:{display:"none"},attributes:{"aria-hidden":"true"},innerHtml:s.text}})},schema:[Bt("text")],name:"aria-descriptor"}),Dl({factory:{sketch:s=>{const l=((d,f)=>{const b={};return Yn(d,(v,w)=>{dt(f,w)||(b[w]=v)}),b})(s,["factory"]);return s.factory.sketch(l)}},schema:[Bt("factory")],name:"field"})]),Os=Ul({name:"FormField",configFields:J7(),partFields:GT(),factory:(s,l,d,f)=>{const b=To(s.fieldBehaviours,[ls.config({find:k=>Qs(k,s,"field")}),gt.config({store:{mode:"manual",getValue:k=>ls.getCurrent(k).bind(gt.getValue),setValue:(k,E)=>{ls.getCurrent(k).each(P=>{gt.setValue(P,E)})}}})]),v=wo([ar((k,E)=>{const P=kI(k,s,["label","field","aria-descriptor"]);P.field().each(F=>{const L=kn(s.prefix);P.label().each(H=>{dn(H.element,"for",L),dn(F.element,"id",L)}),P["aria-descriptor"]().each(H=>{const Y=kn(s.prefix);dn(H.element,"id",Y),dn(F.element,"aria-describedby",Y)})})})]),w={getField:k=>Qs(k,s,"field"),getLabel:k=>Qs(k,s,"label")};return{uid:s.uid,dom:s.dom,components:l,behaviours:b,events:v,apis:w}},apis:{getField:(s,l)=>s.getField(l),getLabel:(s,l)=>s.getLabel(l)}});var Q7=tinymce.util.Tools.resolve("tinymce.html.Entities");const xw=(s,l,d,f)=>{const b=e$(s,l,d,f);return Os.sketch(b)},e$=(s,l,d,f)=>({dom:wS(d),components:s.toArray().concat([l]),fieldBehaviours:Xt(f)}),wS=s=>({tag:"div",classes:["tox-form__group"].concat(s)}),sb=(s,l)=>Os.parts.label({dom:{tag:"label",classes:["tox-label"]},components:[Br(l.translate(s))]}),pl=kn("form-component-change"),rb=kn("form-close"),$h=kn("form-cancel"),fm=kn("form-action"),ww=kn("form-submit"),qT=kn("form-block"),YT=kn("form-unblock"),wN=kn("form-tabchange"),CS=kn("form-resize"),CN=(s,l,d)=>{const f=s.label.map(L=>sb(L,l)),b=l.icons(),v=L=>(H,Y)=>{cd(Y.event.target,"[data-collection-item-value]").each(Q=>{L(H,Y,Q,Zo(Q,"data-collection-item-value"))})},w=v((L,H,Y,Q)=>{H.stop(),l.isDisabled()||$n(L,fm,{name:s.name,value:Q})}),k=[Rt(Mn(),v((L,H,Y)=>{ja(Y)})),Rt(vi(),w),Rt(Mf(),w),Rt(ws(),v((L,H,Y)=>{fr(L.element,"."+bg).each(Q=>{Rr(Q,bg)}),Sr(Y,bg)})),Rt(Ur(),v(L=>{fr(L.element,"."+bg).each(H=>{Rr(H,bg),Cv(H)})})),bu(v((L,H,Y,Q)=>{$n(L,fm,{name:s.name,value:Q})}))],E=(L,H)=>Me(Ai(L.element,".tox-collection__item"),H),P=Os.parts.field({dom:{tag:"div",classes:["tox-collection"].concat(s.columns!==1?["tox-collection--grid"]:["tox-collection--list"])},components:[],factory:{sketch:de},behaviours:Xt([co.config({disabled:l.isDisabled,onDisabled:L=>{E(L,H=>{Sr(H,"tox-collection__item--state-disabled"),dn(H,"aria-disabled",!0)})},onEnabled:L=>{E(L,H=>{Rr(H,"tox-collection__item--state-disabled"),Po(H,"aria-disabled")})}}),Bi(),Qn.config({}),ri.config({...l.tooltips.getConfig({tooltipText:"",onShow:L=>{fr(L.element,"."+bg+"[data-mce-tooltip]").each(H=>{es(H,"data-mce-tooltip").each(Y=>{ri.setComponents(L,l.tooltips.getComponents({tooltipText:Y}))})})}}),mode:"children-keyboard-focus",anchor:L=>({type:"node",node:fr(L.element,"."+bg).orThunk(()=>Fd(".tox-collection__item")),root:L.element,layouts:{onLtr:j([jr,kr,Ir,oi,Dr,Fs]),onRtl:j([jr,kr,Ir,oi,Dr,Fs])},bubble:fc(0,-2,{})})}),gt.config({store:{mode:"memory",initialValue:d.getOr([])},onSetValue:(L,H)=>{((Y,Q)=>{const fe=Me(Q,ge=>{const me=gd.translate(ge.text),Ce=s.columns===1?`<div class="tox-collection__item-label">${me}</div>`:"",Ae=`<div class="tox-collection__item-icon">${(lt=>{var Nt;return(Nt=b[lt])!==null&&Nt!==void 0?Nt:lt})(ge.icon)}</div>`,Ie={_:" "," - ":" ","-":" "},qe=me.replace(/\_| \- |\-/g,lt=>Ie[lt]);return`<div data-mce-tooltip="${qe}" class="tox-collection__item${l.isDisabled()?" tox-collection__item--state-disabled":""}" tabindex="-1" data-collection-item-value="${Q7.encodeAllRaw(ge.value)}" aria-label="${qe}">${Ae}${Ce}</div>`}),pe=s.columns!=="auto"&&s.columns>1?et(fe,s.columns):[fe],Ee=Me(pe,ge=>`<div class="tox-collection__group">${ge.join("")}</div>`);uh(Y.element,Ee.join(""))})(L,H),s.columns==="auto"&&pT(L,5,"tox-collection__item").each(({numRows:Y,numColumns:Q})=>{zn.setGridSize(L,Y,Q)}),No(L,CS)}}),Gs.config({}),zn.config((F=s.columns,F===1?{mode:"menu",moveOnTab:!1,selector:".tox-collection__item"}:F==="auto"?{mode:"flatgrid",selector:".tox-collection__item",initSize:{numColumns:1,numRows:1}}:{mode:"matrix",selectors:{row:".tox-collection__group",cell:`.${J_}`}})),Oo("collection-events",k)]),eventOrder:{[Al()]:["disabling","alloy.base.behaviour","collection-events"],[ws()]:["collection-events","tooltipping"]}});var F;return xw(f,P,["tox-form__group--collection"],[])},_N=["input","textarea"],_S=s=>{const l=ol(s);return dt(_N,l)},SN=(s,l)=>{const d=l.getRoot(s).getOr(s.element);Rr(d,l.invalidClass),l.notify.each(f=>{_S(s.element)&&dn(s.element,"aria-invalid",!1),f.getContainer(s).each(b=>{uh(b,f.validHtml)}),f.onValid(s)})},XT=(s,l,d,f)=>{const b=l.getRoot(s).getOr(s.element);Sr(b,l.invalidClass),l.notify.each(v=>{_S(s.element)&&dn(s.element,"aria-invalid",!0),v.getContainer(s).each(w=>{uh(w,f)}),v.onInvalid(s,f)})},kN=(s,l,d)=>l.validator.fold(()=>xg(Wo.value(!0)),f=>f.validate(s)),JT=(s,l,d)=>(l.notify.each(f=>{f.onValidate(s)}),kN(s,l).map(f=>s.getSystem().isConnected()?f.fold(b=>(XT(s,l,0,b),Wo.error(b)),b=>(SN(s,l),Wo.value(b))):Wo.error("No longer in system")));var t$=Object.freeze({__proto__:null,markValid:SN,markInvalid:XT,query:kN,run:JT,isInvalid:(s,l)=>{const d=l.getRoot(s).getOr(s.element);return ul(d,l.invalidClass)}}),EN=Object.freeze({__proto__:null,events:(s,l)=>s.validator.map(d=>wo([Rt(d.onEvent,f=>{JT(f,s).get(de)})].concat(d.validateOnLoad?[ar(f=>{JT(f,s).get(W)})]:[]))).getOr({})}),n$=[Bt("invalidClass"),ut("getRoot",R.none),Tr("notify",[ut("aria","alert"),ut("getContainer",R.none),ut("validHtml",""),os("onValid"),os("onInvalid"),os("onValidate")]),Tr("validator",[Bt("validate"),ut("onEvent","input"),ut("validateOnLoad",!0)])];const wg=Mi({fields:n$,name:"invalidating",active:EN,apis:t$,extra:{validation:s=>l=>{const d=gt.getValue(l);return xg(s(d))}}}),g0=Mi({fields:[],name:"unselecting",active:Object.freeze({__proto__:null,events:()=>wo([Sp(ha(),_e)]),exhibit:()=>Wr({styles:{"-webkit-user-select":"none","user-select":"none","-ms-user-select":"none","-moz-user-select":"-moz-none"},attributes:{unselectable:"on"}})})}),QT=kn("color-input-change"),e3=kn("color-swatch-change"),AN=kn("color-picker-cancel"),t3=Su({schema:[Bt("dom")],name:"label"}),ib=s=>Su({name:s+"-edge",overrides:l=>l.model.manager.edgeActions[s].fold(()=>({}),d=>({events:wo([Rx(G(),(f,b,v)=>d(f,v),[l]),Rx(Ft(),(f,b,v)=>d(f,v),[l]),Rx(Xn(),(f,b,v)=>{v.mouseIsDown.get()&&d(f,v)},[l])])}))}),o$=ib("top-left"),s$=ib("top"),r$=ib("top-right"),i$=ib("right"),TN=ib("bottom-right"),n3=ib("bottom"),a$=ib("bottom-left"),SS=ib("left"),l$=Dl({name:"thumb",defaults:j({dom:{styles:{position:"absolute"}}}),overrides:s=>({events:wo([Ep(G(),s,"spectrum"),Ep(ae(),s,"spectrum"),Ep(Be(),s,"spectrum"),Ep(Ft(),s,"spectrum"),Ep(Xn(),s,"spectrum"),Ep(po(),s,"spectrum")])})}),kS=s=>fg(s.event);var c$=[t3,SS,i$,s$,n3,o$,r$,a$,TN,l$,Dl({schema:[qi("mouseIsDown",()=>Un(!1))],name:"spectrum",overrides:s=>{const l=s.model.manager,d=(f,b)=>l.getValueFromEvent(b).map(v=>l.setValueFrom(f,s,v));return{behaviours:Xt([zn.config({mode:"special",onLeft:(f,b)=>l.onLeft(f,s,kS(b)),onRight:(f,b)=>l.onRight(f,s,kS(b)),onUp:(f,b)=>l.onUp(f,s,kS(b)),onDown:(f,b)=>l.onDown(f,s,kS(b))}),Gs.config({}),io.config({})]),events:wo([Rt(G(),d),Rt(ae(),d),Rt(Ft(),d),Rt(Xn(),(f,b)=>{s.mouseIsDown.get()&&d(f,b)})])}}})];const Cw=j("slider.change.value"),o3=s=>{const l=s.event.raw;if((d=>d.type.indexOf("touch")!==-1)(l)){const d=l;return d.touches!==void 0&&d.touches.length===1?R.some(d.touches[0]).map(f=>tr(f.clientX,f.clientY)):R.none()}{const d=l;return d.clientX!==void 0?R.some(d).map(f=>tr(f.clientX,f.clientY)):R.none()}},h0=s=>s.model.minX,ab=s=>s.model.minY,ES=s=>s.model.minX-1,AS=s=>s.model.minY-1,Vh=s=>s.model.maxX,xd=s=>s.model.maxY,TS=s=>s.model.maxX+1,OS=s=>s.model.maxY+1,RS=(s,l,d)=>l(s)-d(s),IS=s=>RS(s,Vh,h0),s3=s=>RS(s,xd,ab),ON=s=>IS(s)/2,r3=s=>s3(s)/2,Ty=(s,l)=>l?s.stepSize*s.speedMultiplier:s.stepSize,i3=s=>s.snapToGrid,a3=s=>s.snapStart,DS=s=>s.rounded,PS=(s,l)=>s[l+"-edge"]!==void 0,l3=s=>PS(s,"left"),RN=s=>PS(s,"right"),Oy=s=>PS(s,"top"),IN=s=>PS(s,"bottom"),zh=s=>s.model.value.get(),Cg=(s,l)=>({x:s,y:l}),Ru=(s,l)=>{$n(s,Cw(),{value:l})},c3=(s,l,d,f)=>s<l?s:s>d?d:s===l?l-1:Math.max(l,s-f),_w=(s,l,d,f)=>s>d?s:s<l?l:s===d?d+1:Math.min(d,s+f),DN=(s,l,d)=>Math.max(l,Math.min(d,s)),PN=s=>{const{min:l,max:d,range:f,value:b,step:v,snap:w,snapStart:k,rounded:E,hasMinEdge:P,hasMaxEdge:F,minBound:L,maxBound:H,screenRange:Y}=s,Q=P?l-1:l,fe=F?d+1:d;if(b<L)return Q;if(b>H)return fe;{const pe=((ge,me,Ce)=>Math.min(Ce,Math.max(ge,me))-me)(b,L,H),Ee=DN(pe/Y*f+l,Q,fe);return w&&Ee>=l&&Ee<=d?((ge,me,Ce,Ae,Ie)=>Ie.fold(()=>{const qe=ge-me,lt=Math.round(qe/Ae)*Ae;return DN(me+lt,me-1,Ce+1)},qe=>{const lt=(ge-qe)%Ae,Nt=Math.round(lt/Ae),Ot=Math.floor((ge-qe)/Ae),Et=Math.floor((Ce-qe)/Ae),jt=qe+Math.min(Et,Ot+Nt)*Ae;return Math.max(qe,jt)}))(Ee,l,d,v,k):E?Math.round(Ee):Ee}},NS=s=>{const{min:l,max:d,range:f,value:b,hasMinEdge:v,hasMaxEdge:w,maxBound:k,maxOffset:E,centerMinEdge:P,centerMaxEdge:F}=s;return b<l?v?0:P:b>d?w?k:F:(b-l)/f*E},u3="top",NN="right",LN="bottom",d3="left",_g=s=>s.element.dom.getBoundingClientRect(),df=(s,l)=>s[l],LS=s=>{const l=_g(s);return df(l,d3)},MN=s=>{const l=_g(s);return df(l,NN)},MS=s=>{const l=_g(s);return df(l,u3)},BN=s=>{const l=_g(s);return df(l,LN)},FN=s=>{const l=_g(s);return df(l,"width")},$N=s=>{const l=_g(s);return df(l,"height")},BS=(s,l,d)=>(s+l)/2-d,VN=(s,l)=>{const d=_g(s),f=_g(l),b=df(d,d3),v=df(d,NN),w=df(f,d3);return BS(b,v,w)},zN=(s,l)=>{const d=_g(s),f=_g(l),b=df(d,u3),v=df(d,LN),w=df(f,u3);return BS(b,v,w)},FS=(s,l)=>{$n(s,Cw(),{value:l})},$S=(s,l,d)=>{const f={min:h0(l),max:Vh(l),range:IS(l),value:d,step:Ty(l),snap:i3(l),snapStart:a3(l),rounded:DS(l),hasMinEdge:l3(l),hasMaxEdge:RN(l),minBound:LS(s),maxBound:MN(s),screenRange:FN(s)};return PN(f)},HN=s=>(l,d,f)=>((b,v,w,k)=>{const E=(b>0?_w:c3)(zh(w),h0(w),Vh(w),Ty(w,k));return FS(v,E),R.some(E)})(s,l,d,f).map(_e),f3=(s,l,d,f,b,v)=>{const w=((k,E,P,F,L)=>{const H=FN(k),Y=F.bind(pe=>R.some(VN(pe,k))).getOr(0),Q=L.bind(pe=>R.some(VN(pe,k))).getOr(H),fe={min:h0(E),max:Vh(E),range:IS(E),value:P,hasMinEdge:l3(E),hasMaxEdge:RN(E),minBound:LS(k),maxBound:MN(k),maxOffset:H,centerMinEdge:Y,centerMaxEdge:Q};return NS(fe)})(l,v,d,f,b);return LS(l)-LS(s)+w},u$=HN(-1),d$=HN(1),f$=R.none,m$=R.none,m3={"top-left":R.none(),top:R.none(),"top-right":R.none(),right:R.some((s,l)=>{Ru(s,TS(l))}),"bottom-right":R.none(),bottom:R.none(),"bottom-left":R.none(),left:R.some((s,l)=>{Ru(s,ES(l))})};var g$=Object.freeze({__proto__:null,setValueFrom:(s,l,d)=>{const f=$S(s,l,d);return FS(s,f),f},setToMin:(s,l)=>{const d=h0(l);FS(s,d)},setToMax:(s,l)=>{const d=Vh(l);FS(s,d)},findValueOfOffset:$S,getValueFromEvent:s=>o3(s).map(l=>l.left),findPositionOfValue:f3,setPositionFromValue:(s,l,d,f)=>{const b=zh(d),v=f3(s,f.getSpectrum(s),b,f.getLeftEdge(s),f.getRightEdge(s),d),w=Di(l.element)/2;yo(l.element,"left",v-w+"px")},onLeft:u$,onRight:d$,onUp:f$,onDown:m$,edgeActions:m3});const VS=(s,l)=>{$n(s,Cw(),{value:l})},g3=(s,l,d)=>{const f={min:ab(l),max:xd(l),range:s3(l),value:d,step:Ty(l),snap:i3(l),snapStart:a3(l),rounded:DS(l),hasMinEdge:Oy(l),hasMaxEdge:IN(l),minBound:MS(s),maxBound:BN(s),screenRange:$N(s)};return PN(f)},UN=s=>(l,d,f)=>((b,v,w,k)=>{const E=(b>0?_w:c3)(zh(w),ab(w),xd(w),Ty(w,k));return VS(v,E),R.some(E)})(s,l,d,f).map(_e),h3=(s,l,d,f,b,v)=>{const w=((k,E,P,F,L)=>{const H=$N(k),Y=F.bind(pe=>R.some(zN(pe,k))).getOr(0),Q=L.bind(pe=>R.some(zN(pe,k))).getOr(H),fe={min:ab(E),max:xd(E),range:s3(E),value:P,hasMinEdge:Oy(E),hasMaxEdge:IN(E),minBound:MS(k),maxBound:BN(k),maxOffset:H,centerMinEdge:Y,centerMaxEdge:Q};return NS(fe)})(l,v,d,f,b);return MS(l)-MS(s)+w},h$=R.none,p$=R.none,b$=UN(-1),v$=UN(1),y$={"top-left":R.none(),top:R.some((s,l)=>{Ru(s,AS(l))}),"top-right":R.none(),right:R.none(),"bottom-right":R.none(),bottom:R.some((s,l)=>{Ru(s,OS(l))}),"bottom-left":R.none(),left:R.none()};var x$=Object.freeze({__proto__:null,setValueFrom:(s,l,d)=>{const f=g3(s,l,d);return VS(s,f),f},setToMin:(s,l)=>{const d=ab(l);VS(s,d)},setToMax:(s,l)=>{const d=xd(l);VS(s,d)},findValueOfOffset:g3,getValueFromEvent:s=>o3(s).map(l=>l.top),findPositionOfValue:h3,setPositionFromValue:(s,l,d,f)=>{const b=zh(d),v=h3(s,f.getSpectrum(s),b,f.getTopEdge(s),f.getBottomEdge(s),d),w=Ar(l.element)/2;yo(l.element,"top",v-w+"px")},onLeft:h$,onRight:p$,onUp:b$,onDown:v$,edgeActions:y$});const zS=(s,l)=>{$n(s,Cw(),{value:l})},HS=(s,l)=>({x:s,y:l}),p0=(s,l)=>(d,f,b)=>((v,w,k,E,P)=>{const F=v>0?_w:c3,L=w?zh(E).x:F(zh(E).x,h0(E),Vh(E),Ty(E,P)),H=w?F(zh(E).y,ab(E),xd(E),Ty(E,P)):zh(E).y;return zS(k,HS(L,H)),R.some(L)})(s,l,d,f,b).map(_e),w$=p0(-1,!1),p3=p0(1,!1),C$=p0(-1,!0),_$=p0(1,!0),S$={"top-left":R.some((s,l)=>{Ru(s,Cg(ES(l),AS(l)))}),top:R.some((s,l)=>{Ru(s,Cg(ON(l),AS(l)))}),"top-right":R.some((s,l)=>{Ru(s,Cg(TS(l),AS(l)))}),right:R.some((s,l)=>{Ru(s,Cg(TS(l),r3(l)))}),"bottom-right":R.some((s,l)=>{Ru(s,Cg(TS(l),OS(l)))}),bottom:R.some((s,l)=>{Ru(s,Cg(ON(l),OS(l)))}),"bottom-left":R.some((s,l)=>{Ru(s,Cg(ES(l),OS(l)))}),left:R.some((s,l)=>{Ru(s,Cg(ES(l),r3(l)))})};var WN=Object.freeze({__proto__:null,setValueFrom:(s,l,d)=>{const f=$S(s,l,d.left),b=g3(s,l,d.top),v=HS(f,b);return zS(s,v),v},setToMin:(s,l)=>{const d=h0(l),f=ab(l);zS(s,HS(d,f))},setToMax:(s,l)=>{const d=Vh(l),f=xd(l);zS(s,HS(d,f))},getValueFromEvent:s=>o3(s),setPositionFromValue:(s,l,d,f)=>{const b=zh(d),v=f3(s,f.getSpectrum(s),b.x,f.getLeftEdge(s),f.getRightEdge(s),d),w=h3(s,f.getSpectrum(s),b.y,f.getTopEdge(s),f.getBottomEdge(s),d),k=Di(l.element)/2,E=Ar(l.element)/2;yo(l.element,"left",v-k+"px"),yo(l.element,"top",w-E+"px")},onLeft:w$,onRight:p3,onUp:C$,onDown:_$,edgeActions:S$});const ff=Ul({name:"Slider",configFields:[ut("stepSize",1),ut("speedMultiplier",10),ut("onChange",W),ut("onChoose",W),ut("onInit",W),ut("onDragStart",W),ut("onDragEnd",W),ut("snapToGrid",!1),ut("rounded",!0),Xo("snapStart"),Yi("model",bi("mode",{x:[ut("minX",0),ut("maxX",100),qi("value",s=>Un(s.mode.minX)),Bt("getInitialValue"),Xs("manager",g$)],y:[ut("minY",0),ut("maxY",100),qi("value",s=>Un(s.mode.minY)),Bt("getInitialValue"),Xs("manager",x$)],xy:[ut("minX",0),ut("maxX",100),ut("minY",0),ut("maxY",100),qi("value",s=>Un({x:s.mode.minX,y:s.mode.minY})),Bt("getInitialValue"),Xs("manager",WN)]})),En("sliderBehaviours",[zn,gt]),qi("mouseIsDown",()=>Un(!1))],partFields:c$,factory:(s,l,d,f)=>{const b=ge=>Rh(ge,s,"thumb"),v=ge=>Rh(ge,s,"spectrum"),w=ge=>Qs(ge,s,"left-edge"),k=ge=>Qs(ge,s,"right-edge"),E=ge=>Qs(ge,s,"top-edge"),P=ge=>Qs(ge,s,"bottom-edge"),F=s.model,L=F.manager,H=(ge,me)=>{L.setPositionFromValue(ge,me,s,{getLeftEdge:w,getRightEdge:k,getTopEdge:E,getBottomEdge:P,getSpectrum:v})},Y=(ge,me)=>{F.value.set(me);const Ce=b(ge);H(ge,Ce)},Q=ge=>{const me=s.mouseIsDown.get();s.mouseIsDown.set(!1),me&&Qs(ge,s,"thumb").each(Ce=>{const Ae=F.value.get();s.onChoose(ge,Ce,Ae)})},fe=(ge,me)=>{me.stop(),s.mouseIsDown.set(!0),s.onDragStart(ge,b(ge))},pe=(ge,me)=>{me.stop(),s.onDragEnd(ge,b(ge)),Q(ge)},Ee=ge=>{Qs(ge,s,"spectrum").map(zn.focusIn)};return{uid:s.uid,dom:s.dom,components:l,behaviours:To(s.sliderBehaviours,[zn.config({mode:"special",focusIn:Ee}),gt.config({store:{mode:"manual",getValue:ge=>F.value.get(),setValue:Y}}),Rl.config({channels:{[K()]:{onReceive:Q}}})]),events:wo([Rt(Cw(),(ge,me)=>{((Ce,Ae)=>{Y(Ce,Ae);const Ie=b(Ce);s.onChange(Ce,Ie,Ae)})(ge,me.event.value)}),ar((ge,me)=>{const Ce=F.getInitialValue();F.value.set(Ce);const Ae=b(ge);H(ge,Ae);const Ie=v(ge);s.onInit(ge,Ae,Ie,F.value.get())}),Rt(G(),fe),Rt(Be(),pe),Rt(Ft(),(ge,me)=>{Ee(ge),fe(ge,me)}),Rt(po(),pe)]),apis:{resetToMin:ge=>{L.setToMin(ge,s)},resetToMax:ge=>{L.setToMax(ge,s)},setValue:Y,refresh:H},domModification:{styles:{position:"relative"}}}},apis:{setValue:(s,l,d)=>{s.setValue(l,d)},resetToMin:(s,l)=>{s.resetToMin(l)},resetToMax:(s,l)=>{s.resetToMax(l)},refresh:(s,l)=>{s.refresh(l)}}}),Sw=kn("rgb-hex-update"),US=kn("slider-update"),b3=kn("palette-update"),WS="form",KS=[En("formBehaviours",[gt])],v3=s=>"<alloy.field."+s+">",Sg=(s,l)=>({uid:s.uid,dom:s.dom,components:l,behaviours:To(s.formBehaviours,[gt.config({store:{mode:"manual",getValue:d=>{const f=lA(d,s);return to(f,(b,v)=>b().bind(w=>{return k=ls.getCurrent(w),E=new Error(`Cannot find a current component to extract the value from for form part '${v}': `+Jd(w.element)),k.fold(()=>Wo.error(E),Wo.value);var k,E}).map(gt.getValue))},setValue:(d,f)=>{Yn(f,(b,v)=>{Qs(d,s,v).each(w=>{ls.getCurrent(w).each(k=>{gt.setValue(k,b)})})})}}})]),apis:{getField:(d,f)=>Qs(d,s,f).bind(ls.getCurrent)}}),lb={getField:I1((s,l,d)=>s.getField(l,d)),sketch:s=>{const l=(()=>{const v=[];return{field:(w,k)=>(v.push(w),rA(WS,v3(w),k)),record:j(v)}})(),d=s(l),f=l.record(),b=Me(f,v=>Dl({name:v,pname:v3(v)}));return x2(WS,KS,b,Sg,d)}},KN=kn("valid-input"),jN=kn("invalid-input"),ZN=kn("validating-input"),y3="colorcustom.rgb.",kw={isEnabled:_e,setEnabled:W,immediatelyShow:W,immediatelyHide:W},k$=(s,l,d,f,b,v)=>{const w=(Y,Q)=>{const fe=Q.get();Y!==fe.isEnabled()&&(fe.setEnabled(Y),Y?fe.immediatelyShow():fe.immediatelyHide())},k=(Y,Q,fe)=>wg.config({invalidClass:l("invalid"),notify:{onValidate:pe=>{$n(pe,ZN,{type:Y})},onValid:pe=>{w(!1,fe),$n(pe,KN,{type:Y,value:gt.getValue(pe)})},onInvalid:pe=>{w(!0,fe),$n(pe,jN,{type:Y,value:gt.getValue(pe)})}},validator:{validate:pe=>{const Ee=gt.getValue(pe),ge=Q(Ee)?Wo.value(!0):Wo.error(s("aria.input.invalid"));return xg(ge)},validateOnLoad:!1}}),E=(Y,Q,fe,pe,Ee)=>{const ge=Un(kw),me=s(y3+"range"),Ce=Os.parts.label({dom:{tag:"label",attributes:{"aria-label":pe}},components:[Br(fe)]}),Ae=Os.parts.field({data:Ee,factory:Lh,inputAttributes:{type:"text",...Q==="hex"?{"aria-live":"polite"}:{}},inputClasses:[l("textfield")],inputBehaviours:Xt([k(Q,Y,ge),Gs.config({}),ri.config({...b({tooltipText:"",onSetup:Et=>{ge.set({isEnabled:()=>ri.isEnabled(Et),setEnabled:jt=>ri.setEnabled(Et,jt),immediatelyShow:()=>ri.immediateOpenClose(Et,!0),immediatelyHide:()=>ri.immediateOpenClose(Et,!1)}),ri.setEnabled(Et,!1)},onShow:(Et,jt)=>{ri.setComponents(Et,[{dom:{tag:"p",classes:[l("rgb-warning-note")]},components:[Br(s(Q==="hex"?"colorcustom.rgb.invalidHex":"colorcustom.rgb.invalid"))]}])}})})]),onSetValue:Et=>{wg.isInvalid(Et)&&wg.run(Et).get(W)}}),Ie=kn("aria-invalid"),qe=Ss(v("invalid",R.some(Ie),"warning")),lt=[Ce,Ae,Ss({dom:{tag:"div",classes:[l("invalid-icon")]},components:[qe.asSpec()]}).asSpec()],Nt=Q!=="hex"?[Os.parts["aria-descriptor"]({text:me})]:[],Ot=lt.concat(Nt);return{dom:{tag:"div",attributes:{role:"presentation"},classes:[l("rgb-container")]},components:Ot}},P=(Y,Q)=>{const fe=Q.red,pe=Q.green,Ee=Q.blue;gt.setValue(Y,{red:fe,green:pe,blue:Ee})},F=Ss({dom:{tag:"div",classes:[l("rgba-preview")],styles:{"background-color":"white"},attributes:{role:"presentation"}}}),L=(Y,Q)=>{F.getOpt(Y).each(fe=>{yo(fe.element,"background-color","#"+Q.value)})};return ku({factory:()=>{const Y={red:Un(R.some(255)),green:Un(R.some(255)),blue:Un(R.some(255)),hex:Un(R.some("ffffff"))},Q=lt=>Y[lt].get(),fe=(lt,Nt)=>{Y[lt].set(Nt)},pe=lt=>{const Nt=lt.red,Ot=lt.green,Et=lt.blue;fe("red",R.some(Nt)),fe("green",R.some(Ot)),fe("blue",R.some(Et))},Ee=(lt,Nt)=>{const Ot=Nt.event;Ot.type!=="hex"?fe(Ot.type,R.none()):f(lt)},ge=(lt,Nt)=>{const Ot=Nt.event;(Et=>Et.type==="hex")(Ot)?((Et,jt)=>{d(Et);const xn=wT(jt);fe("hex",R.some(xn.value));const Pn=cf(xn);P(Et,Pn),pe(Pn),$n(Et,Sw,{hex:xn}),L(Et,xn)})(lt,Ot.value):((Et,jt,xn)=>{const Pn=parseInt(xn,10);fe(jt,R.some(Pn)),Q("red").bind(jn=>Q("green").bind(uo=>Q("blue").map(Ko=>Fh(jn,uo,Ko,1)))).each(jn=>{const uo=((Ko,rr)=>{const mr=fw(rr);return lb.getField(Ko,"hex").each(Io=>{io.isFocused(Io)||gt.setValue(Ko,{hex:mr.value})}),mr})(Et,jn);$n(Et,Sw,{hex:uo}),L(Et,uo)})})(lt,Ot.type,Ot.value)},me=lt=>({label:s(y3+lt+".label"),description:s(y3+lt+".description")}),Ce=me("red"),Ae=me("green"),Ie=me("blue"),qe=me("hex");return Bs(lb.sketch(lt=>({dom:{tag:"form",classes:[l("rgb-form")],attributes:{"aria-label":s("aria.color.picker")}},components:[lt.field("red",Os.sketch(E(mw,"red",Ce.label,Ce.description,255))),lt.field("green",Os.sketch(E(mw,"green",Ae.label,Ae.description,255))),lt.field("blue",Os.sketch(E(mw,"blue",Ie.label,Ie.description,255))),lt.field("hex",Os.sketch(E(HP,"hex",qe.label,qe.description,"ffffff"))),F.asSpec()],formBehaviours:Xt([wg.config({invalidClass:l("form-invalid")}),Oo("rgb-form-events",[Rt(KN,ge),Rt(jN,Ee),Rt(ZN,Ee)])])})),{apis:{updateHex:(lt,Nt)=>{gt.setValue(lt,{hex:Nt.value}),((Ot,Et)=>{const jt=cf(Et);P(Ot,jt),pe(jt)})(lt,Nt),L(lt,Nt)}}})},name:"RgbForm",configFields:[],apis:{updateHex:(Y,Q,fe)=>{Y.updateHex(Q,fe)}},extraApis:{}})},GN=(s,l,d,f)=>ku({name:"ColourPicker",configFields:[Bt("dom"),ut("onValidHex",W),ut("onInvalidHex",W)],factory:v=>{const w=k$(s,l,v.onValidHex,v.onInvalidHex,d,f),k=((Ee,ge)=>{const me=ff.parts.spectrum({dom:{tag:"canvas",attributes:{role:"presentation"},classes:[ge("sv-palette-spectrum")]}}),Ce=ff.parts.thumb({dom:{tag:"div",attributes:{role:"presentation"},classes:[ge("sv-palette-thumb")],innerHtml:`<div class=${ge("sv-palette-inner-thumb")} role="presentation"></div>`}}),Ae=(Ie,qe)=>{const{width:lt,height:Nt}=Ie,Ot=Ie.getContext("2d");if(Ot===null)return;Ot.fillStyle=qe,Ot.fillRect(0,0,lt,Nt);const Et=Ot.createLinearGradient(0,0,lt,0);Et.addColorStop(0,"rgba(255,255,255,1)"),Et.addColorStop(1,"rgba(255,255,255,0)"),Ot.fillStyle=Et,Ot.fillRect(0,0,lt,Nt);const jt=Ot.createLinearGradient(0,0,0,Nt);jt.addColorStop(0,"rgba(0,0,0,0)"),jt.addColorStop(1,"rgba(0,0,0,1)"),Ot.fillStyle=jt,Ot.fillRect(0,0,lt,Nt)};return ku({factory:Ie=>{const qe=j({x:0,y:0}),lt=Xt([ls.config({find:R.some}),io.config({})]);return ff.sketch({dom:{tag:"div",attributes:{role:"slider","aria-valuetext":Ee(["Saturation {0}%, Brightness {1}%",0,0])},classes:[ge("sv-palette")]},model:{mode:"xy",getInitialValue:qe},rounded:!1,components:[me,Ce],onChange:(Nt,Ot,Et)=>{ee(Et)||dn(Nt.element,"aria-valuetext",Ee(["Saturation {0}%, Brightness {1}%",Math.floor(Et.x),Math.floor(100-Et.y)])),$n(Nt,b3,{value:Et})},onInit:(Nt,Ot,Et,jt)=>{Ae(Et.element.dom,jP(ZP))},sliderBehaviours:lt})},name:"SaturationBrightnessPalette",configFields:[],apis:{setHue:(Ie,qe,lt)=>{((Nt,Ot)=>{const Et=Nt.components()[0].element.dom,jt=Sy(Ot,100,100),xn=KP(jt);Ae(Et,jP(xn))})(qe,lt)},setThumb:(Ie,qe,lt)=>{((Nt,Ot)=>{const Et=fS(cf(Ot));ff.setValue(Nt,{x:Et.saturation,y:100-Et.value}),dn(Nt.element,"aria-valuetext",Ee(["Saturation {0}%, Brightness {1}%",Et.saturation,Et.value]))})(qe,lt)}},extraApis:{}})})(s,l),E={paletteRgba:Un(ZP),paletteHue:Un(0)},P=Ss(((Ee,ge)=>{const me=ff.parts.spectrum({dom:{tag:"div",classes:[ge("hue-slider-spectrum")],attributes:{role:"presentation"}}}),Ce=ff.parts.thumb({dom:{tag:"div",classes:[ge("hue-slider-thumb")],attributes:{role:"presentation"}}});return ff.sketch({dom:{tag:"div",classes:[ge("hue-slider")],attributes:{role:"slider","aria-valuemin":0,"aria-valuemax":360,"aria-valuenow":120}},rounded:!1,model:{mode:"y",getInitialValue:j(0)},components:[me,Ce],sliderBehaviours:Xt([io.config({})]),onChange:(Ae,Ie,qe)=>{dn(Ae.element,"aria-valuenow",Math.floor(360-3.6*qe)),$n(Ae,US,{value:qe})}})})(0,l)),F=Ss(k.sketch({})),L=Ss(w.sketch({})),H=(Ee,ge,me)=>{F.getOpt(Ee).each(Ce=>{k.setHue(Ce,me)})},Y=(Ee,ge)=>{L.getOpt(Ee).each(me=>{w.updateHex(me,ge)})},Q=(Ee,ge,me)=>{P.getOpt(Ee).each(Ce=>{ff.setValue(Ce,(Ae=>100-Ae/360*100)(me))})},fe=(Ee,ge)=>{F.getOpt(Ee).each(me=>{k.setThumb(me,ge)})},pe=(Ee,ge,me,Ce)=>{((Ae,Ie)=>{const qe=cf(Ae);E.paletteRgba.set(qe),E.paletteHue.set(Ie)})(ge,me),mt(Ce,Ae=>{Ae(Ee,ge,me)})};return{uid:v.uid,dom:v.dom,components:[F.asSpec(),P.asSpec(),L.asSpec()],behaviours:Xt([Oo("colour-picker-events",[Rt(Sw,(()=>{const Ee=[H,Q,fe];return(ge,me)=>{const Ce=me.event.hex,Ae=(Ie=>fS(cf(Ie)))(Ce);pe(ge,Ce,Ae.hue,Ee)}})()),Rt(b3,(()=>{const Ee=[Y];return(ge,me)=>{const Ce=me.event.value,Ae=E.paletteHue.get(),Ie=Sy(Ae,Ce.x,100-Ce.y),qe=mS(Ie);pe(ge,qe,Ae,Ee)}})()),Rt(US,(()=>{const Ee=[H,Y];return(ge,me)=>{const Ce=(Nt=>(100-Nt)/100*360)(me.event.value),Ae=E.paletteRgba.get(),Ie=fS(Ae),qe=Sy(Ce,Ie.saturation,Ie.value),lt=mS(qe);pe(ge,lt,Ce,Ee)}})())]),ls.config({find:Ee=>L.getOpt(Ee)}),zn.config({mode:"acyclic"})])}}}),kg=()=>ls.config({find:R.some}),x3=s=>ls.config({find:l=>cr(l.element,s).bind(d=>l.getSystem().getByDom(d).toOptional())}),w3=qn([ut("preprocess",de),ut("postprocess",de)]),C3=(s,l)=>{const d=Da("RepresentingConfigs.memento processors",w3,l);return gt.config({store:{mode:"manual",getValue:f=>{const b=s.get(f),v=gt.getValue(b);return d.postprocess(v)},setValue:(f,b)=>{const v=d.preprocess(b),w=s.get(f);gt.setValue(w,v)}}})},b0=(s,l,d)=>gt.config({store:{mode:"manual",...s.map(f=>({initialValue:f})).getOr({}),getValue:l,setValue:d}}),_3=(s,l,d)=>b0(s,f=>l(f.element),(f,b)=>d(f.element,b)),Ew=s=>gt.config({store:{mode:"memory",initialValue:s}}),E$={"colorcustom.rgb.red.label":"R","colorcustom.rgb.red.description":"Red component","colorcustom.rgb.green.label":"G","colorcustom.rgb.green.description":"Green component","colorcustom.rgb.blue.label":"B","colorcustom.rgb.blue.description":"Blue component","colorcustom.rgb.hex.label":"#","colorcustom.rgb.hex.description":"Hex color code","colorcustom.rgb.range":"Range 0 to 255","colorcustom.rgb.invalid":"Numbers only, 0 to 255","colorcustom.rgb.invalidHex":"Hexadecimal only, 000000 to FFFFFF","aria.color.picker":"Color Picker","aria.input.invalid":"Invalid input"};var qN=tinymce.util.Tools.resolve("tinymce.Resource");const S3=s=>go(s,"init");var Hh=tinymce.util.Tools.resolve("tinymce.util.Tools");const k3=(s,l)=>{let d=null;const f=()=>{I(d)||(clearTimeout(d),d=null)};return{cancel:f,throttle:(...b)=>{f(),d=setTimeout(()=>{d=null,s.apply(null,b)},l)}}},E3=kn("alloy-fake-before-tabstop"),A3=kn("alloy-fake-after-tabstop"),YN=s=>({dom:{tag:"div",styles:{width:"1px",height:"1px",outline:"none"},attributes:{tabindex:"0"},classes:s},behaviours:Xt([io.config({ignore:!0}),Gs.config({})])}),T3=(s,l)=>({dom:{tag:"div",classes:["tox-navobj",...s.getOr([])]},components:[YN([E3]),l,YN([A3])],behaviours:Xt([x3(1)])}),O3=(s,l)=>{$n(s,_r(),{raw:{which:9,shiftKey:l}})},A$=(s,l)=>{const d=l.element;ul(d,E3)?O3(s,!0):ul(d,A3)&&O3(s,!1)},Ry=s=>Ay(s,["."+E3,"."+A3].join(","),we),cb=kn("update-dialog"),R3=kn("update-title"),XN=kn("update-body"),JN=kn("update-footer"),I3=kn("body-send-message"),jS=kn("dialog-focus-shifted"),D3=da().browser,Iy=D3.isSafari(),QN=D3.isFirefox(),P3=Iy||QN,e5=D3.isChromium(),T$=({scrollTop:s,scrollHeight:l,clientHeight:d})=>Math.ceil(s)+d>=l,t5=(s,l)=>s.scrollTo(0,l==="bottom"?99999999:l),N3=(s,l,d)=>{const f=s.dom;R.from(f.contentDocument).fold(d,b=>{let v=0;const w=((E,P)=>{const F=E.body;return R.from(!/^<!DOCTYPE (html|HTML)/.test(P)&&(!e5&&!Iy||z(F)&&(F.scrollTop!==0||Math.abs(F.scrollHeight-F.clientHeight)>1))?F:E.documentElement)})(b,l).map(E=>(v=E.scrollTop,E)).forall(T$),k=()=>{const E=f.contentWindow;z(E)&&(w?t5(E,"bottom"):!w&&P3&&v!==0&&t5(E,v))};Iy&&f.addEventListener("load",k,{once:!0}),b.open(),b.write(l),b.close(),Iy||k()})},L3=ds(P3,Iy?500:200).map(s=>((l,d)=>{let f=null,b=null;return{cancel:()=>{I(f)||(clearTimeout(f),f=null,b=null)},throttle:(...v)=>{b=v,I(f)&&(f=setTimeout(()=>{const w=b;f=null,b=null,l.apply(null,w)},d))}}})(N3,s)),ZS=kn("toolbar.button.execute"),ub=kn("common-button-display-events"),M3={[Al()]:["disabling","alloy.base.behaviour","toggling","toolbar-button-events","tooltipping"],[pa()]:["toolbar-button-events",ub],[Nc()]:["toolbar-button-events","dropdown-events","tooltipping"],[Ft()]:["focusing","alloy.base.behaviour",ub]},GS=s=>yo(s.element,"width",Er(s.element,"width")),n5=(s,l,d)=>Gc(s,{tag:"span",classes:["tox-icon","tox-tbtn__icon-wrap"],behaviours:d},l),Aw=(s,l)=>n5(s,l,[]),db=(s,l)=>n5(s,l,[Qn.config({})]),B3=(s,l,d)=>({dom:{tag:"span",classes:[`${l}__select-label`]},components:[Br(d.translate(s))],behaviours:Xt([Qn.config({})])}),Iu=kn("update-menu-text"),wd=kn("update-menu-icon"),F3=(s,l,d,f)=>{const b=Un(W),v=s.text.map(fe=>Ss(B3(fe,l,d.providers))),w=s.icon.map(fe=>Ss(db(fe,d.providers.icons))),k=(fe,pe)=>{const Ee=gt.getValue(fe);return io.focus(Ee),$n(Ee,"keydown",{raw:pe.event.raw}),Pl.close(Ee),R.some(!0)},E=s.role.fold(()=>({}),fe=>({role:fe})),P=R.from(s.listRole).map(fe=>({listRole:fe})).getOr({}),F=s.ariaLabel.fold(()=>({}),fe=>({"aria-label":d.providers.translate(fe)})),L=Gc("chevron-down",{tag:"div",classes:[`${l}__select-chevron`]},d.providers.icons),H=kn("common-button-display-events"),Y="dropdown-events";return Ss(Pl.sketch({...s.uid?{uid:s.uid}:{},...E,...P,dom:{tag:"button",classes:[l,`${l}--select`].concat(Me(s.classes,fe=>`${l}--${fe}`)),attributes:{...F,...z(f)?{"data-mce-name":f}:{}}},components:yy([w.map(fe=>fe.asSpec()),v.map(fe=>fe.asSpec()),R.some(L)]),matchWidth:!0,useMinWidth:!0,onOpen:(fe,pe,Ee)=>{s.searchable&&(ge=>{gP(ge).each(me=>io.focus(me))})(Ee)},dropdownBehaviours:Xt([...s.dropdownBehaviours,Ma(()=>s.disabled||d.providers.isDisabled()),Bi(),g0.config({}),Qn.config({}),...s.tooltip.map(fe=>ri.config(d.providers.tooltips.getConfig({tooltipText:d.providers.translate(fe)}))).toArray(),Oo(Y,[tb(s,b),Mh(s,b)]),Oo(H,[ar((fe,pe)=>s.listRole==="listbox"?W:GS(fe))]),Oo("menubutton-update-display-text",[Rt(Iu,(fe,pe)=>{v.bind(Ee=>Ee.getOpt(fe)).each(Ee=>{Qn.set(Ee,[Br(d.providers.translate(pe.event.text))])})}),Rt(wd,(fe,pe)=>{w.bind(Ee=>Ee.getOpt(fe)).each(Ee=>{Qn.set(Ee,[db(pe.event.icon,d.providers.icons)])})})])]),eventOrder:Bs(M3,{[Ft()]:["focusing","alloy.base.behaviour","item-type-events","normal-dropdown-events"],[pa()]:["toolbar-button-events",ri.name(),Y,H]}),sandboxBehaviours:Xt([zn.config({mode:"special",onLeft:k,onRight:k}),Oo("dropdown-sandbox-events",[Rt(dP,(fe,pe)=>{(Ee=>{const ge=gt.getValue(Ee),me=ow(Ee).map(hP);Pl.refetch(ge).get(()=>{const Ce=Fr.getCoupled(ge,"sandbox");me.each(Ae=>ow(Ce).each(Ie=>((qe,lt)=>{gt.setValue(qe,lt.fetchPattern),qe.element.dom.selectionStart=lt.selectionStart,qe.element.dom.selectionEnd=lt.selectionEnd})(Ie,Ae)))})})(fe),pe.stop()}),Rt(fP,(fe,pe)=>{((Ee,ge)=>{(me=>T.getState(me).bind(Es.getHighlighted).bind(Es.getHighlighted))(Ee).each(me=>{((Ce,Ae,Ie,qe)=>{const lt={...qe,target:Ae};Ce.getSystem().triggerEvent(Ie,Ae,lt)})(Ee,me.element,ge.event.eventType,ge.event.interactionEvent)})})(fe,pe),pe.stop()})])]),lazySink:d.getSink,toggleClass:`${l}--active`,parts:{menu:{...Q_(0,s.columns,s.presets),fakeFocus:s.searchable,...s.listRole==="listbox"?{}:{onHighlightItem:hN,onCollapseMenu:(fe,pe,Ee)=>{Es.getHighlighted(Ee).each(ge=>{hN(fe,Ee,ge)})},onDehighlightItem:Y7}}},getAnchorOverrides:()=>({maxHeightFunction:(fe,pe)=>{rg()(fe,pe-10)}}),fetch:fe=>nb(ze(s.fetch,fe))})).asSpec()},qS=s=>s.type==="separator",YS={type:"separator"},o5=(s,l)=>{const d=((f,b)=>{const v=on(f,(w,k)=>(E=>h(E))(k)?k===""?w:k==="|"?w.length>0&&!qS(w[w.length-1])?w.concat([YS]):w:go(b,k.toLowerCase())?w.concat([b[k.toLowerCase()]]):w:w.concat([k]),[]);return v.length>0&&qS(v[v.length-1])&&v.pop(),v})(h(s)?s.split(" "):s,l);return In(d,(f,b)=>{if((v=>go(v,"getSubmenuItems"))(b)){const v=(k=>{const E=Tn(k,"value").getOrThunk(()=>kn("generated-menu-item"));return Bs({value:E},k)})(b),w=((k,E)=>{const P=k.getSubmenuItems(),F=o5(P,E);return{item:k,menus:Bs(F.menus,{[k.value]:F.items}),expansions:Bs(F.expansions,{[k.value]:k.value})}})(v,l);return{menus:Bs(f.menus,w.menus),items:[w.item,...f.items],expansions:Bs(f.expansions,w.expansions)}}return{...f,items:[b,...f.items]}},{menus:{},expansions:{},items:[]})},v0=(s,l,d,f)=>{const b=kn("primary-menu"),v=o5(s,d.shared.providers.menuItems());if(v.items.length===0)return R.none();const w=(L=>L.search.fold(()=>({searchMode:"no-search"}),H=>({searchMode:"search-with-field",placeholder:H.placeholder})))(f),k=pN(b,v.items,l,d,f.isHorizontalMenu,w),E=(L=>L.search.fold(()=>({searchMode:"no-search"}),H=>({searchMode:"search-with-results"})))(f),P=to(v.menus,(L,H)=>pN(H,L,l,d,!1,E)),F=Bs(P,gu(b,k));return R.from(Ih.tieredData(b,F,v.expansions))},Tw=s=>!go(s,"items"),$3="data-value",XS=(s,l,d,f,b)=>Me(d,v=>Tw(v)?{type:"togglemenuitem",...b?{}:{role:"option"},text:v.text,value:v.value,active:v.value===f,onAction:()=>{gt.setValue(s,v.value),$n(s,pl,{name:l}),io.focus(s)}}:{type:"nestedmenuitem",text:v.text,getSubmenuItems:()=>XS(s,l,v.items,f,b)}),JS=(s,l)=>ln(s,d=>Tw(d)?ds(d.value===l,d):JS(d.items,l)),O$=ku({name:"HtmlSelect",configFields:[Bt("options"),En("selectBehaviours",[io,gt]),ut("selectClasses",[]),ut("selectAttributes",{}),Xo("data")],factory:(s,l)=>{const d=Me(s.options,b=>({dom:{tag:"option",value:b.value,innerHtml:b.text}})),f=s.data.map(b=>gu("initialValue",b)).getOr({});return{uid:s.uid,dom:{tag:"select",classes:s.selectClasses,attributes:s.selectAttributes},components:d,behaviours:To(s.selectBehaviours,[io.config({}),gt.config({store:{mode:"manual",getValue:b=>Kf(b.element),setValue:(b,v)=>{const w=Ne(s.options);J(s.options,k=>k.value===v).isSome()?Jm(b.element,v):b.element.dom.selectedIndex===-1&&v===""&&w.each(k=>Jm(b.element,k.value))},...f}})])}}}),s5=j([ut("field1Name","field1"),ut("field2Name","field2"),ld("onLockedChange"),gh(["lockClass"]),ut("locked",!1),lo("coupledFieldBehaviours",[ls,gt])]),V3=(s,l)=>Dl({factory:Os,name:s,overrides:d=>({fieldBehaviours:Xt([Oo("coupled-input-behaviour",[Rt(Wm(),f=>{((b,v,w)=>Qs(b,v,w).bind(ls.getCurrent))(f,d,l).each(b=>{Qs(f,d,"lock").each(v=>{so.isOn(v)&&d.onLockedChange(f,b,v)})})})])])})}),r5=j([V3("field1","field2"),V3("field2","field1"),Dl({factory:qa,schema:[Bt("dom")],name:"lock",overrides:s=>({buttonBehaviours:Xt([so.config({selected:s.locked,toggleClass:s.markers.lockClass,aria:{mode:"pressed"}})])})})]),Xc=Ul({name:"FormCoupledInputs",configFields:s5(),partFields:r5(),factory:(s,l,d,f)=>({uid:s.uid,dom:s.dom,components:l,behaviours:oo(s.coupledFieldBehaviours,[ls.config({find:R.some}),gt.config({store:{mode:"manual",getValue:b=>{const v=cA(b,s,["field1","field2"]);return{[s.field1Name]:gt.getValue(v.field1()),[s.field2Name]:gt.getValue(v.field2())}},setValue:(b,v)=>{const w=cA(b,s,["field1","field2"]);Ro(v,s.field1Name)&&gt.setValue(w.field1(),v[s.field1Name]),Ro(v,s.field2Name)&&gt.setValue(w.field2(),v[s.field2Name])}}})]),apis:{getField1:b=>Qs(b,s,"field1"),getField2:b=>Qs(b,s,"field2"),getLock:b=>Qs(b,s,"lock")}}),apis:{getField1:(s,l)=>s.getField1(l),getField2:(s,l)=>s.getField2(l),getLock:(s,l)=>s.getLock(l)}}),z3=s=>{const l=/^\s*(\d+(?:\.\d+)?)\s*(|cm|mm|in|px|pt|pc|em|ex|ch|rem|vw|vh|vmin|vmax|%)\s*$/.exec(s);if(l!==null){const d=parseFloat(l[1]),f=l[2];return Wo.value({value:d,unit:f})}return Wo.error(s)},H3=(s,l)=>{const d={"":96,px:96,pt:72,cm:2.54,pc:12,mm:25.4,in:1},f=b=>go(d,b);return s.unit===l?R.some(s.value):f(s.unit)&&f(l)?d[s.unit]===d[l]?R.some(s.value):R.some(s.value/d[s.unit]*d[l]):R.none()},U3=s=>R.none(),i5=(s,l)=>{const d=s.label.map(F=>sb(F,l)),f=[co.config({disabled:()=>s.disabled||l.isDisabled()}),Bi(),zn.config({mode:"execution",useEnter:s.multiline!==!0,useControlEnter:s.multiline===!0,execute:F=>(No(F,ww),R.some(!0))}),Oo("textfield-change",[Rt(Wm(),(F,L)=>{$n(F,pl,{name:s.name})}),Rt(Tx(),(F,L)=>{$n(F,pl,{name:s.name})})]),Gs.config({})],b=s.validation.map(F=>wg.config({getRoot:L=>Oa(L.element),invalidClass:"tox-invalid",validator:{validate:L=>{const H=gt.getValue(L),Y=F.validator(H);return xg(Y===!0?Wo.value(H):Wo.error(Y))},validateOnLoad:F.validateOnLoad}})).toArray(),v={...s.placeholder.fold(j({}),F=>({placeholder:l.translate(F)})),...s.inputMode.fold(j({}),F=>({inputmode:F})),"data-mce-name":s.name},w=Os.parts.field({tag:s.multiline===!0?"textarea":"input",...s.data.map(F=>({data:F})).getOr({}),inputAttributes:v,inputClasses:[s.classname],inputBehaviours:Xt(Zt([f,b])),selectOnFocus:!1,factory:Lh}),k=s.multiline?{dom:{tag:"div",classes:["tox-textarea-wrap"]},components:[w]}:w,E=(s.flex?["tox-form__group--stretched"]:[]).concat(s.maximized?["tox-form-group--maximize"]:[]),P=[co.config({disabled:()=>s.disabled||l.isDisabled(),onDisabled:F=>{Os.getField(F).each(co.disable)},onEnabled:F=>{Os.getField(F).each(co.enable)}}),Bi()];return xw(d,k,E,P)},Ow=(s,l)=>l.getAnimationRoot.fold(()=>s.element,d=>d(s)),Uh=s=>s.dimension.property,fb=(s,l)=>s.dimension.getDimension(l),mb=(s,l)=>{const d=Ow(s,l);dc(d,[l.shrinkingClass,l.growingClass])},QS=(s,l)=>{Rr(s.element,l.openClass),Sr(s.element,l.closedClass),yo(s.element,Uh(l),"0px"),$d(s.element)},W3=(s,l)=>{Rr(s.element,l.closedClass),Sr(s.element,l.openClass),ks(s.element,Uh(l))},a5=(s,l,d,f)=>{d.setCollapsed(),yo(s.element,Uh(l),fb(l,s.element)),mb(s,l),QS(s,l),l.onStartShrink(s),l.onShrunk(s)},R$=(s,l,d,f)=>{const b=f.getOrThunk(()=>fb(l,s.element));d.setCollapsed(),yo(s.element,Uh(l),b),$d(s.element);const v=Ow(s,l);Rr(v,l.growingClass),Sr(v,l.shrinkingClass),QS(s,l),l.onStartShrink(s)},l5=(s,l,d)=>{const f=fb(l,s.element);(f==="0px"?a5:R$)(s,l,d,R.some(f))},c5=(s,l,d)=>{const f=Ow(s,l),b=ul(f,l.shrinkingClass),v=fb(l,s.element);W3(s,l);const w=fb(l,s.element);(b?()=>{yo(s.element,Uh(l),v),$d(s.element)}:()=>{QS(s,l)})(),Rr(f,l.shrinkingClass),Sr(f,l.growingClass),W3(s,l),yo(s.element,Uh(l),w),d.setExpanded(),l.onStartGrow(s)},Rw=(s,l,d)=>{const f=Ow(s,l);return ul(f,l.growingClass)===!0},u5=(s,l,d)=>{const f=Ow(s,l);return ul(f,l.shrinkingClass)===!0};var d5=Object.freeze({__proto__:null,refresh:(s,l,d)=>{if(d.isExpanded()){ks(s.element,Uh(l));const f=fb(l,s.element);yo(s.element,Uh(l),f)}},grow:(s,l,d)=>{d.isExpanded()||c5(s,l,d)},shrink:(s,l,d)=>{d.isExpanded()&&l5(s,l,d)},immediateShrink:(s,l,d)=>{d.isExpanded()&&a5(s,l,d)},hasGrown:(s,l,d)=>d.isExpanded(),hasShrunk:(s,l,d)=>d.isCollapsed(),isGrowing:Rw,isShrinking:u5,isTransitioning:(s,l,d)=>Rw(s,l)||u5(s,l),toggleGrow:(s,l,d)=>{(d.isExpanded()?l5:c5)(s,l,d)},disableTransitions:mb,immediateGrow:(s,l,d)=>{d.isExpanded()||(W3(s,l),yo(s.element,Uh(l),fb(l,s.element)),mb(s,l),d.setExpanded(),l.onStartGrow(s),l.onGrown(s))}}),I$=Object.freeze({__proto__:null,exhibit:(s,l,d)=>{const f=l.expanded;return Wr(f?{classes:[l.openClass],styles:{}}:{classes:[l.closedClass],styles:gu(l.dimension.property,"0px")})},events:(s,l)=>wo([Hf(ev(),(d,f)=>{f.event.raw.propertyName===s.dimension.property&&(mb(d,s),l.isExpanded()&&ks(d.element,s.dimension.property),(l.isExpanded()?s.onGrown:s.onShrunk)(d))})])}),f5=[Bt("closedClass"),Bt("openClass"),Bt("shrinkingClass"),Bt("growingClass"),Xo("getAnimationRoot"),os("onShrunk"),os("onStartShrink"),os("onGrown"),os("onStartGrow"),ut("expanded",!1),Yi("dimension",bi("property",{width:[Xs("property","width"),Xs("getDimension",s=>Di(s)+"px")],height:[Xs("property","height"),Xs("getDimension",s=>Ar(s)+"px")]}))];const ec=Mi({fields:f5,name:"sliding",active:I$,apis:d5,state:Object.freeze({__proto__:null,init:s=>{const l=Un(s.expanded);return Li({isExpanded:()=>l.get()===!0,isCollapsed:()=>l.get()===!1,setCollapsed:ze(l.set,!1),setExpanded:ze(l.set,!0),readState:()=>"expanded: "+l.get()})}})}),m5=s=>({isEnabled:()=>!co.isDisabled(s),setEnabled:l=>co.set(s,!l),setActive:l=>{const d=s.element;l?(Sr(d,"tox-tbtn--enabled"),dn(d,"aria-pressed",!0)):(Rr(d,"tox-tbtn--enabled"),Po(d,"aria-pressed"))},isActive:()=>ul(s.element,"tox-tbtn--enabled"),setText:l=>{$n(s,Iu,{text:l})},setIcon:l=>$n(s,wd,{icon:l})}),Dy=(s,l,d,f,b=!0,v)=>F3({text:s.text,icon:s.icon,tooltip:s.tooltip,ariaLabel:s.tooltip,searchable:s.search.isSome(),role:f,fetch:(w,k)=>{const E={pattern:s.search.isSome()?m0(w):""};s.fetch(P=>{k(v0(P,um.CLOSE_ON_EXECUTE,d,{isHorizontalMenu:!1,search:s.search}))},E,m5(w))},onSetup:s.onSetup,getApi:m5,columns:1,presets:"normal",classes:[],dropdownBehaviours:[...b?[Gs.config({})]:[]]},l,d.shared,v),g5=(s,l,d)=>{const f=v=>w=>{const k=!w.isActive();w.setActive(k),v.storage.set(k),d.shared.getSink().each(E=>{l().getOpt(E).each(P=>{ja(P.element),$n(P,fm,{name:v.name,value:v.storage.get()})})})},b=v=>w=>{w.setActive(v.storage.get())};return v=>{v(Me(s,w=>{const k=w.text.fold(()=>({}),E=>({text:E}));return{type:w.type,active:!1,...k,onAction:f(w),onSetup:b(w)}}))}},K3=s=>({dom:{tag:"span",classes:["tox-tree__label"],attributes:{"aria-label":s}},components:[Br(s)]}),j3=kn("leaf-label-event-id"),Z3=({leaf:s,onLeafAction:l,visible:d,treeId:f,selectedId:b,backstage:v})=>{const w=s.menu.map(E=>Dy(E,"tox-mbtn",v,R.none(),d)),k=[K3(s.title)];return w.each(E=>k.push(E)),qa.sketch({dom:{tag:"div",classes:["tox-tree--leaf__label","tox-trbtn"].concat(d?["tox-tree--leaf__label--visible"]:[])},components:k,role:"treeitem",action:E=>{l(s.id),E.getSystem().broadcastOn([`update-active-item-${f}`],{value:s.id})},eventOrder:{[_r()]:[j3,"keying"]},buttonBehaviours:Xt([...d?[Gs.config({})]:[],so.config({toggleClass:"tox-trbtn--enabled",toggleOnExecute:!1,aria:{mode:"selected"}}),Rl.config({channels:{[`update-active-item-${f}`]:{onReceive:(E,P)=>{(P.value===s.id?so.on:so.off)(E)}}}}),Oo(j3,[ar((E,P)=>{b.each(F=>{(F===s.id?so.on:so.off)(E)})}),Rt(_r(),(E,P)=>{const F=P.event.raw.code==="ArrowLeft",L=P.event.raw.code==="ArrowRight";F?(eg(E.element,".tox-tree--directory").each(H=>{E.getSystem().getByDom(H).each(Y=>{M1(H,".tox-tree--directory__label").each(Q=>{Y.getSystem().getByDom(Q).each(io.focus)})})}),P.stop()):L&&P.stop()})])])})},h5=kn("directory-label-event-id"),D$=({directory:s,visible:l,noChildren:d,backstage:f})=>{const b=s.menu.map(P=>Dy(P,"tox-mbtn",f,R.none())),v=[{dom:{tag:"div",classes:["tox-chevron"]},components:[(w="chevron-right",k=f.shared.providers.icons,((P,F,L)=>Gc(P,{tag:"span",classes:["tox-tree__icon-wrap","tox-icon"],behaviours:[]},F))(w,k))]},K3(s.title)];var w,k;b.each(P=>{v.push(P)});const E=P=>{eg(P.element,".tox-tree--directory").each(F=>{P.getSystem().getByDom(F).each(L=>{const H=!so.isOn(L);so.toggle(L),$n(P,"expand-tree-node",{expanded:H,node:s.id})})})};return qa.sketch({dom:{tag:"div",classes:["tox-tree--directory__label","tox-trbtn"].concat(l?["tox-tree--directory__label--visible"]:[])},components:v,action:E,eventOrder:{[_r()]:[h5,"keying"]},buttonBehaviours:Xt([...l?[Gs.config({})]:[],Oo(h5,[Rt(_r(),(P,F)=>{const L=F.event.raw.code==="ArrowRight",H=F.event.raw.code==="ArrowLeft";L&&d&&F.stop(),(L||H)&&eg(P.element,".tox-tree--directory").each(Y=>{P.getSystem().getByDom(Y).each(Q=>{!so.isOn(Q)&&L||so.isOn(Q)&&H?(E(P),F.stop()):H&&!so.isOn(Q)&&(eg(Q.element,".tox-tree--directory").each(fe=>{M1(fe,".tox-tree--directory__label").each(pe=>{Q.getSystem().getByDom(pe).each(io.focus)})}),F.stop())})})})])])})},P$=({children:s,onLeafAction:l,visible:d,treeId:f,expandedIds:b,selectedId:v,backstage:w})=>({dom:{tag:"div",classes:["tox-tree--directory__children"]},components:s.map(k=>k.type==="leaf"?Z3({leaf:k,selectedId:v,onLeafAction:l,visible:d,treeId:f,backstage:w}):ek({directory:k,expandedIds:b,selectedId:v,onLeafAction:l,labelTabstopping:d,treeId:f,backstage:w})),behaviours:Xt([ec.config({dimension:{property:"height"},closedClass:"tox-tree--directory__children--closed",openClass:"tox-tree--directory__children--open",growingClass:"tox-tree--directory__children--growing",shrinkingClass:"tox-tree--directory__children--shrinking",expanded:d}),Qn.config({})])}),p5=kn("directory-event-id"),ek=({directory:s,onLeafAction:l,labelTabstopping:d,treeId:f,backstage:b,expandedIds:v,selectedId:w})=>{const{children:k}=s,E=Un(v),P=v.includes(s.id);return{dom:{tag:"div",classes:["tox-tree--directory"],attributes:{role:"treeitem"}},components:[D$({directory:s,visible:d,noChildren:s.children.length===0,backstage:b}),P$({children:k,expandedIds:v,selectedId:w,onLeafAction:l,visible:P,treeId:f,backstage:b})],behaviours:Xt([Oo(p5,[ar((F,L)=>{so.set(F,P)}),Rt("expand-tree-node",(F,L)=>{const{expanded:H,node:Y}=L.event;E.set(H?[...E.get(),Y]:E.get().filter(Q=>Q!==Y))})]),so.config({...s.children.length>0?{aria:{mode:"expanded"}}:{},toggleClass:"tox-tree--directory--expanded",onToggled:(F,L)=>{const H=F.components()[1],Y=(Q=L,k.map(fe=>fe.type==="leaf"?Z3({leaf:fe,selectedId:w,onLeafAction:l,visible:Q,treeId:f,backstage:b}):ek({directory:fe,expandedIds:E.get(),selectedId:w,onLeafAction:l,labelTabstopping:Q,treeId:f,backstage:b})));var Q;L?ec.grow(H):ec.shrink(H),Qn.set(H,Y)}})])}},N$=kn("tree-event-id");var L$=Object.freeze({__proto__:null,events:(s,l)=>{const d=s.stream.streams.setup(s,l);return wo([Rt(s.event,d),ad(()=>l.cancel())].concat(s.cancelEvent.map(f=>[Rt(f,()=>l.cancel())]).getOr([])))}});const b5=s=>{const l=Un(null);return Li({readState:()=>({timer:l.get()!==null?"set":"unset"}),setTimer:d=>{l.set(d)},cancel:()=>{const d=l.get();d!==null&&d.cancel()}})};var M$=Object.freeze({__proto__:null,throttle:b5,init:s=>s.stream.streams.state(s)}),B$=[Yi("stream",bi("mode",{throttle:[Bt("delay"),ut("stopEvent",!0),Xs("streams",{setup:(s,l)=>{const d=s.stream,f=k3(s.onStream,d.delay);return l.setTimer(f),(b,v)=>{f.throttle(b,v),d.stopEvent&&v.stop()}},state:b5})]})),ut("event","input"),Xo("cancelEvent"),ld("onStream")];const G3=Mi({fields:B$,name:"streaming",active:L$,state:M$}),tk=(s,l,d)=>{const f=gt.getValue(d);gt.setValue(l,f),q3(l)},nk=(s,l)=>{const d=s.element,f=Kf(d),b=d.dom;Zo(d,"type")!=="number"&&l(b,f)},q3=s=>{nk(s,(l,d)=>l.setSelectionRange(d.length,d.length))},Y3=j("alloy.typeahead.itemexecute"),F$=j([Xo("lazySink"),Bt("fetch"),ut("minChars",5),ut("responseTime",1e3),os("onOpen"),ut("getHotspot",R.some),ut("getAnchorOverrides",j({})),ut("layouts",R.none()),ut("eventOrder",{}),Ka("model",{},[ut("getDisplayText",s=>s.meta!==void 0&&s.meta.text!==void 0?s.meta.text:s.value),ut("selectsOver",!0),ut("populateFromBrowse",!0)]),os("onSetValue"),Tl("onExecute"),os("onItemExecute"),ut("inputClasses",[]),ut("inputAttributes",{}),ut("inputStyles",{}),ut("matchWidth",!0),ut("useMinWidth",!1),ut("dismissOnBlur",!0),gh(["openClass"]),Xo("initialData"),Xo("listRole"),En("typeaheadBehaviours",[io,gt,G3,zn,so,Fr]),qi("lazyTypeaheadComp",()=>Un(R.none)),qi("previewing",()=>Un(!0))].concat(x7()).concat(WT())),v5=j([rf({schema:[mh()],name:"menu",overrides:s=>({fakeFocus:!0,onHighlightItem:(l,d,f)=>{s.previewing.get()?s.lazyTypeaheadComp.get().each(b=>{((v,w,k)=>{if(v.selectsOver){const E=gt.getValue(w),P=v.getDisplayText(E),F=gt.getValue(k);return v.getDisplayText(F).indexOf(P)===0?R.some(()=>{tk(0,w,k),((L,H)=>{nk(L,(Y,Q)=>Y.setSelectionRange(H,Q.length))})(w,P.length)}):R.none()}return R.none()})(s.model,b,f).fold(()=>{s.model.selectsOver?(Es.dehighlight(d,f),s.previewing.set(!0)):s.previewing.set(!1)},v=>{v(),s.previewing.set(!1)})}):s.lazyTypeaheadComp.get().each(b=>{s.model.populateFromBrowse&&tk(s.model,b,f),es(f.element,"id").each(v=>dn(b.element,"aria-activedescendant",v))})},onExecute:(l,d)=>s.lazyTypeaheadComp.get().map(f=>($n(f,Y3(),{item:d}),!0)),onHover:(l,d)=>{s.previewing.set(!1),s.lazyTypeaheadComp.get().each(f=>{s.model.populateFromBrowse&&tk(s.model,f,d)})}})})]),$$=Ul({name:"Typeahead",configFields:F$(),partFields:v5(),factory:(s,l,d,f)=>{const b=(L,H,Y)=>{s.previewing.set(!1);const Q=Fr.getCoupled(L,"sandbox");if(T.isOpen(Q))ls.getCurrent(Q).each(fe=>{Es.getHighlighted(fe).fold(()=>{Y(fe)},()=>{Mc(Q,fe.element,"keydown",H)})});else{const fe=pe=>{ls.getCurrent(pe).each(Y)};bS(s,w(L),L,Q,f,fe,hl.HighlightMenuAndItem).get(W)}},v=w7(s),w=L=>H=>H.map(Y=>{const Q=ji(Y.menus),fe=vn(Q,pe=>Wt(pe.items,Ee=>Ee.type==="item"));return gt.getState(L).update(Me(fe,pe=>pe.data)),Y}),k=L=>ls.getCurrent(L),E="typeaheadevents",P=[io.config({}),gt.config({onSetValue:s.onSetValue,store:{mode:"dataset",getDataKey:L=>Kf(L.element),getFallbackEntry:L=>({value:L,meta:{}}),setValue:(L,H)=>{Jm(L.element,s.model.getDisplayText(H))},...s.initialData.map(L=>gu("initialValue",L)).getOr({})}}),G3.config({stream:{mode:"throttle",delay:s.responseTime,stopEvent:!1},onStream:(L,H)=>{const Y=Fr.getCoupled(L,"sandbox");if(io.isFocused(L)&&Kf(L.element).length>=s.minChars){const Q=k(Y).bind(pe=>Es.getHighlighted(pe).map(gt.getValue));s.previewing.set(!0);const fe=pe=>{k(Y).each(Ee=>{Q.fold(()=>{s.model.selectsOver&&Es.highlightFirst(Ee)},ge=>{Es.highlightBy(Ee,me=>gt.getValue(me).value===ge.value),Es.getHighlighted(Ee).orThunk(()=>(Es.highlightFirst(Ee),R.none()))})})};bS(s,w(L),L,Y,f,fe,hl.HighlightJustMenu).get(W)}},cancelEvent:Gd()}),zn.config({mode:"special",onDown:(L,H)=>(b(L,H,Es.highlightFirst),R.some(!0)),onEscape:L=>{const H=Fr.getCoupled(L,"sandbox");return T.isOpen(H)?(T.close(H),R.some(!0)):R.none()},onUp:(L,H)=>(b(L,H,Es.highlightLast),R.some(!0)),onEnter:L=>{const H=Fr.getCoupled(L,"sandbox"),Y=T.isOpen(H);if(Y&&!s.previewing.get())return k(H).bind(Q=>Es.getHighlighted(Q)).map(Q=>($n(L,Y3(),{item:Q}),!0));{const Q=gt.getValue(L);return No(L,Gd()),s.onExecute(H,L,Q),Y&&T.close(H),R.some(!0)}}}),so.config({toggleClass:s.markers.openClass,aria:{mode:"expanded"}}),Fr.config({others:{sandbox:L=>UT(s,L,{onOpen:()=>so.on(L),onClose:()=>{s.lazyTypeaheadComp.get().each(H=>Po(H.element,"aria-activedescendant")),so.off(L)}})}}),Oo(E,[ar(L=>{s.lazyTypeaheadComp.set(R.some(L))}),ad(L=>{s.lazyTypeaheadComp.set(R.none())}),bu(L=>{const H=W;zT(s,w(L),L,f,H,hl.HighlightMenuAndItem).get(W)}),Rt(Y3(),(L,H)=>{const Y=Fr.getCoupled(L,"sandbox");tk(s.model,L,H.event.item),No(L,Gd()),s.onItemExecute(L,Y,H.event.item,gt.getValue(L)),T.close(Y),q3(L)})].concat(s.dismissOnBlur?[Rt(wp(),L=>{const H=Fr.getCoupled(L,"sandbox");Zr(H.element).isNone()&&T.close(H)})]:[]))],F={[Nc()]:[gt.name(),G3.name(),E],...s.eventOrder};return{uid:s.uid,dom:uP(Bs(s,{inputAttributes:{role:"combobox","aria-autocomplete":"list","aria-haspopup":"true"}})),behaviours:{...v,...To(s.typeaheadBehaviours,P)},eventOrder:F}}}),y0=s=>({...s,toCached:()=>y0(s.toCached()),bindFuture:l=>y0(s.bind(d=>d.fold(f=>xg(Wo.error(f)),f=>l(f)))),bindResult:l=>y0(s.map(d=>d.bind(l))),mapResult:l=>y0(s.map(d=>d.map(l))),mapError:l=>y0(s.map(d=>d.mapError(l))),foldResult:(l,d)=>s.map(f=>f.fold(l,d)),withTimeout:(l,d)=>y0(nb(f=>{let b=!1;const v=setTimeout(()=>{b=!0,f(Wo.error(d()))},l);s.get(w=>{b||(clearTimeout(v),f(w))})}))}),y5=s=>y0(nb(s)),Iw=(s,l,d=[],f,b,v,w)=>{const k=l.fold(()=>({}),F=>({action:F})),E={buttonBehaviours:Xt([Ma(()=>!s.enabled||w.isDisabled()),Bi(),Gs.config({}),...v.map(F=>ri.config(w.tooltips.getConfig({tooltipText:w.translate(F)}))).toArray(),Oo("button press",[jC("click")])].concat(d)),eventOrder:{click:["button press","alloy.base.behaviour"],mousedown:["button press","alloy.base.behaviour"]},...k},P=Bs(E,{dom:f});return Bs(P,{components:b})},x5=(s,l,d,f=[],b)=>{const v={tag:"button",classes:["tox-tbtn"],attributes:{...s.tooltip.map(E=>({"aria-label":d.translate(E)})).getOr({}),"data-mce-name":b}},w=s.icon.map(E=>Aw(E,d.icons)),k=yy([w]);return Iw(s,l,f,v,k,s.tooltip,d)},X3=s=>{switch(s){case"primary":return["tox-button"];case"toolbar":return["tox-tbtn"];default:return["tox-button","tox-button--secondary"]}},w5=(s,l,d,f=[],b=[])=>{const v=d.translate(s.text),w=s.icon.map(L=>Aw(L,d.icons)),k=[w.getOrThunk(()=>Br(v))],E=s.buttonType.getOr(s.primary||s.borderless?"primary":"secondary"),P={tag:"button",classes:[...X3(E),...w.isSome()?["tox-button--icon"]:[],...s.borderless?["tox-button--naked"]:[],...b],attributes:{"aria-label":v,"data-mce-name":s.text}},F=s.icon.map(j(v));return Iw(s,l,f,P,k,F,d)},C5=(s,l,d,f=[],b=[])=>{const v=w5(s,R.some(l),d,f,b);return qa.sketch(v)},J3=(s,l)=>d=>{l==="custom"?$n(d,fm,{name:s,value:{}}):l==="submit"?No(d,ww):l==="cancel"?No(d,$h):console.error("Unknown button type: ",l)},Py=(s,l,d)=>{if(((f,b)=>b==="menu")(0,l)){const f=()=>w,b=s,v={...s,type:"menubutton",search:R.none(),onSetup:k=>(k.setEnabled(s.enabled),W),fetch:g5(b.items,f,d)},w=Ss(Dy(v,"tox-tbtn",d,R.none(),!0,s.text.or(s.tooltip).getOrUndefined()));return w.asSpec()}if(((f,b)=>b==="custom"||b==="cancel"||b==="submit")(0,l)){const f=J3(s.name,l),b={...s,borderless:!1};return C5(b,f,d.shared.providers,[])}if(((f,b)=>b==="togglebutton")(0,l))return((f,b,v)=>{var w,k;const E=f.icon.map(me=>db(me,b.icons)).map(Ss),P=f.buttonType.getOr(f.primary?"primary":"secondary"),F={...f,name:(w=f.name)!==null&&w!==void 0?w:"",tooltip:f.tooltip,enabled:(k=f.enabled)!==null&&k!==void 0&&k},L=F.tooltip.or(f.text).map(me=>({"aria-label":b.translate(me)})).getOr({}),H=X3(P??"secondary"),Y=f.icon.isSome()&&f.text.isSome(),Q={tag:"button",classes:[...H.concat(f.icon.isSome()?["tox-button--icon"]:[]),...f.active?["tox-button--enabled"]:[],...Y?["tox-button--icon-and-text"]:[]],attributes:{...L,...z(v)?{"data-mce-name":v}:{}}},fe=b.translate(f.text.getOr("")),pe=Br(fe),Ee=[...yy([E.map(me=>me.asSpec())]),...f.text.isSome()?[pe]:[]],ge=Iw(F,R.some(me=>{$n(me,fm,{name:f.name,value:{setIcon:Ce=>{E.map(Ae=>Ae.getOpt(me).each(Ie=>{Qn.set(Ie,[db(Ce,b.icons)])}))}}})}),[],Q,Ee,f.tooltip,b);return qa.sketch(ge)})(s,d.shared.providers,s.text.or(s.tooltip).getOrUndefined());throw console.error("Unknown footer button type: ",l),new Error("Unknown footer button type")},V$={type:"separator"},z$=s=>({type:"menuitem",value:s.url,text:s.title,meta:{attach:s.attach},onAction:W}),Q3=(s,l)=>({type:"menuitem",value:l,text:s,meta:{attach:void 0},onAction:W}),_5=(s,l)=>(d=>Me(d,z$))(((d,f)=>Wt(f,b=>b.type===d))(s,l)),H$=s=>_5("header",s.targets),U$=s=>_5("anchor",s.targets),S5=s=>R.from(s.anchorTop).map(l=>Q3("<top>",l)).toArray(),k5=s=>R.from(s.anchorBottom).map(l=>Q3("<bottom>",l)).toArray(),e4=(s,l)=>{const d=s.toLowerCase();return Wt(l,f=>{var b;const v=f.meta!==void 0&&f.meta.text!==void 0?f.meta.text:f.text,w=(b=f.value)!==null&&b!==void 0?b:"";return ei(v.toLowerCase(),d)||ei(w.toLowerCase(),d)})},E5=kn("aria-invalid"),W$=(s,l)=>{s.dom.checked=l},Jc=s=>s.dom.checked,vr=s=>(l,d,f,b,v)=>Tn(d,"name").fold(()=>s(d,b,R.none(),v),w=>l.field(w,s(d,b,Tn(f,w),v))),K$={bar:vr((s,l)=>((d,f)=>({dom:{tag:"div",classes:["tox-bar","tox-form__controls-h-stack"]},components:Me(d.items,f.interpreter)}))(s,l.shared)),collection:vr((s,l,d)=>CN(s,l.shared.providers,d)),alertbanner:vr((s,l)=>((d,f)=>{const b=tP(d.icon,f.icons);return uf.sketch({dom:{tag:"div",attributes:{role:"alert"},classes:["tox-notification","tox-notification--in",`tox-notification--${d.level}`]},components:[{dom:{tag:"div",classes:["tox-notification__icon"],innerHtml:d.url?void 0:b},components:d.url?[qa.sketch({dom:{tag:"button",classes:["tox-button","tox-button--naked","tox-button--icon"],innerHtml:b,attributes:{title:f.translate(d.iconTooltip)}},action:v=>$n(v,fm,{name:"alert-banner",value:d.url}),buttonBehaviours:Xt([Y_()])})]:void 0},{dom:{tag:"div",classes:["tox-notification__body"],innerHtml:f.translate(d.text)}}]})})(s,l.shared.providers)),input:vr((s,l,d)=>((f,b,v)=>i5({name:f.name,multiline:!1,label:f.label,inputMode:f.inputMode,placeholder:f.placeholder,flex:!1,disabled:!f.enabled,classname:"tox-textfield",validation:R.none(),maximized:f.maximized,data:v},b))(s,l.shared.providers,d)),textarea:vr((s,l,d)=>((f,b,v)=>i5({name:f.name,multiline:!0,label:f.label,inputMode:R.none(),placeholder:f.placeholder,flex:!0,disabled:!f.enabled,classname:"tox-textarea",validation:R.none(),maximized:f.maximized,data:v},b))(s,l.shared.providers,d)),label:vr((s,l,d,f)=>((b,v,w)=>{const k="tox-label",E=b.align==="center"?[`${k}--center`]:[],P=b.align==="end"?[`${k}--end`]:[],F=Ss({dom:{tag:"label",classes:[k,...E,...P]},components:[Br(v.providers.translate(b.label))]}),L=Me(b.items,v.interpreter);return{dom:{tag:"div",classes:["tox-form__group"]},components:[F.asSpec(),...L],behaviours:Xt([kg(),Qn.config({}),(H=R.none(),_3(H,Xd,uh)),zn.config({mode:"acyclic"}),Oo("label",[ar(Y=>{b.for.each(Q=>{w(Q).each(fe=>{F.getOpt(Y).each(pe=>{var Ee;const ge=(Ee=Zo(fe.element,"id"))!==null&&Ee!==void 0?Ee:kn("form-field");dn(fe.element,"id",ge),dn(pe.element,"for",ge)})})})})])])};var H})(s,l.shared,f)),iframe:(w4=(s,l,d)=>((f,b,v)=>{const w="tox-dialog__iframe",k=f.transparent?[]:[`${w}--opaque`],E=f.border?["tox-navobj-bordered"]:[],P={...f.label.map(Y=>({title:Y})).getOr({}),...v.map(Y=>({srcdoc:Y})).getOr({}),...f.sandboxed?{sandbox:"allow-scripts allow-same-origin"}:{}},F=((Y,Q)=>{const fe=Un(Y.getOr(""));return{getValue:pe=>fe.get(),setValue:(pe,Ee)=>{if(fe.get()!==Ee){const ge=pe.element,me=()=>dn(ge,"srcdoc",Ee);Q?L3.fold(j(N3),Ce=>Ce.throttle)(ge,Ee,me):me()}fe.set(Ee)}}})(v,f.streamContent),L=f.label.map(Y=>sb(Y,b)),H=Os.parts.field({factory:{sketch:Y=>T3(R.from(E),{uid:Y.uid,dom:{tag:"iframe",attributes:P,classes:[w,...k]},behaviours:Xt([Gs.config({}),io.config({}),b0(v,F.getValue,F.setValue),Rl.config({channels:{[jS]:{onReceive:(Q,fe)=>{fe.newFocus.each(pe=>{Oa(Q.element).each(Ee=>{(fs(Q.element,pe)?Sr:Rr)(Ee,"tox-navobj-bordered-focus")})})}}}})])})}});return xw(L,H,["tox-form__group--stretched"],[])})(s,l.shared.providers,d),(s,l,d,f,b)=>{const v=Bs(l,{source:"dynamic"});return vr(w4)(s,v,d,f,b)}),button:vr((s,l)=>((d,f)=>{const b=J3(d.name,"custom");return v=R.none(),w=Os.parts.field({factory:qa,...w5(d,R.some(b),f,[Ew(""),kg()])}),xw(v,w,[],[]);var v,w})(s,l.shared.providers)),checkbox:vr((s,l,d)=>((f,b,v)=>{const w=L=>(L.element.dom.click(),R.some(!0)),k=Os.parts.field({factory:{sketch:de},dom:{tag:"input",classes:["tox-checkbox__input"],attributes:{type:"checkbox"}},behaviours:Xt([kg(),co.config({disabled:()=>!f.enabled||b.isDisabled(),onDisabled:L=>{Oa(L.element).each(H=>Sr(H,"tox-checkbox--disabled"))},onEnabled:L=>{Oa(L.element).each(H=>Rr(H,"tox-checkbox--disabled"))}}),Gs.config({}),io.config({}),_3(v,Jc,W$),zn.config({mode:"special",onEnter:w,onSpace:w,stopSpaceKeyup:!0}),Oo("checkbox-events",[Rt(Km(),(L,H)=>{$n(L,pl,{name:f.name})})])])}),E=Os.parts.label({dom:{tag:"span",classes:["tox-checkbox__label"]},components:[Br(b.translate(f.label))],behaviours:Xt([g0.config({})])}),P=L=>Gc(L==="checked"?"selected":"unselected",{tag:"span",classes:["tox-icon","tox-checkbox-icon__"+L]},b.icons),F=Ss({dom:{tag:"div",classes:["tox-checkbox__icons"]},components:[P("checked"),P("unchecked")]});return Os.sketch({dom:{tag:"label",classes:["tox-checkbox"]},components:[k,F.asSpec(),E],fieldBehaviours:Xt([co.config({disabled:()=>!f.enabled||b.isDisabled()}),Bi()])})})(s,l.shared.providers,d)),colorinput:vr((s,l,d)=>((f,b,v,w)=>{const k=Os.parts.field({factory:Lh,inputClasses:["tox-textfield"],data:w,onSetValue:L=>wg.run(L).get(W),inputBehaviours:Xt([co.config({disabled:b.providers.isDisabled}),Bi(),Gs.config({}),wg.config({invalidClass:"tox-textbox-field-invalid",getRoot:L=>Oa(L.element),notify:{onValid:L=>{const H=gt.getValue(L);$n(L,QT,{color:H})}},validator:{validateOnLoad:!1,validate:L=>{const H=gt.getValue(L);if(H.length===0)return xg(Wo.value(!0));{const Y=Ii("span");yo(Y,"background-color",H);const Q=ti(Y,"background-color").fold(()=>Wo.error("blah"),fe=>Wo.value(H));return xg(Q)}}}})]),selectOnFocus:!1}),E=f.label.map(L=>sb(L,b.providers)),P=(L,H)=>{$n(L,e3,{value:H})},F=Ss(((L,H)=>Pl.sketch({dom:L.dom,components:L.components,toggleClass:"mce-active",dropdownBehaviours:Xt([Ma(H.providers.isDisabled),Bi(),g0.config({}),Gs.config({})]),layouts:L.layouts,sandboxClasses:["tox-dialog__popups"],lazySink:H.getSink,fetch:Y=>nb(Q=>L.fetch(Q)).map(Q=>R.from(KT(Bs(f0(kn("menu-value"),Q,fe=>{L.onItemAction(Y,fe)},L.columns,L.presets,um.CLOSE_ON_EXECUTE,we,H.providers),{movement:hw(L.columns,L.presets)})))),parts:{menu:Q_(0,0,L.presets)}}))({dom:{tag:"span",attributes:{"aria-label":b.providers.translate("Color swatch")}},layouts:{onRtl:()=>[Dr,Ir,jr],onLtr:()=>[Ir,Dr,jr]},components:[],fetch:nN(v.getColors(f.storageKey),f.storageKey,v.hasCustomColors()),columns:v.getColorCols(f.storageKey),presets:"color",onItemAction:(L,H)=>{F.getOpt(L).each(Y=>{H==="custom"?v.colorPicker(Q=>{Q.fold(()=>No(Y,AN),fe=>{P(Y,fe),AT(f.storageKey,fe)})},"#ffffff"):P(Y,H==="remove"?"":H)})}},b));return Os.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:E.toArray().concat([{dom:{tag:"div",classes:["tox-color-input"]},components:[k,F.asSpec()]}]),fieldBehaviours:Xt([Oo("form-field-events",[Rt(QT,(L,H)=>{F.getOpt(L).each(Y=>{yo(Y.element,"background-color",H.event.color)}),$n(L,pl,{name:f.name})}),Rt(e3,(L,H)=>{Os.getField(L).each(Y=>{gt.setValue(Y,H.event.value),ls.getCurrent(L).each(io.focus)})}),Rt(AN,(L,H)=>{Os.getField(L).each(Y=>{ls.getCurrent(L).each(io.focus)})})])])})})(s,l.shared,l.colorinput,d)),colorpicker:vr((s,l,d)=>((f,b,v)=>{const w=P=>"tox-"+P,k=GN((P=>F=>h(F)?P.translate(E$[F]):P.translate(F))(b),w,b.tooltips.getConfig,(P,F,L=P,H=P)=>Gc(L,{tag:"div",classes:["tox-icon","tox-control-wrap__status-icon-"+P],attributes:{title:b.translate(H),"aria-live":"polite",...F.fold(()=>({}),Y=>({id:Y}))}},b.icons)),E=Ss(k.sketch({dom:{tag:"div",classes:[w("color-picker-container")],attributes:{role:"presentation"}},onValidHex:P=>{$n(P,fm,{name:"hex-valid",value:!0})},onInvalidHex:P=>{$n(P,fm,{name:"hex-valid",value:!1})}}));return{dom:{tag:"div"},components:[E.asSpec()],behaviours:Xt([b0(v,P=>{const F=E.get(P);return ls.getCurrent(F).bind(L=>gt.getValue(L).hex).map(L=>"#"+Ws(L,"#")).getOr("")},(P,F)=>{const L=R.from(/^#([a-fA-F0-9]{3}(?:[a-fA-F0-9]{3})?)/.exec(F)).bind(Y=>Se(Y,1)),H=E.get(P);ls.getCurrent(H).fold(()=>{console.log("Can not find form")},Y=>{gt.setValue(Y,{hex:L.getOr("")}),lb.getField(Y,"hex").each(Q=>{No(Q,Wm())})})}),kg()])}})(0,l.shared.providers,d)),dropzone:vr((s,l,d)=>((f,b,v)=>{const w=(Q,fe)=>{fe.stop()},k=Q=>(fe,pe)=>{mt(Q,Ee=>{Ee(fe,pe)})},E=(Q,fe)=>{var pe;if(!co.isDisabled(Q)){const Ee=fe.event.raw;F(Q,(pe=Ee.dataTransfer)===null||pe===void 0?void 0:pe.files)}},P=(Q,fe)=>{const pe=fe.event.raw.target;F(Q,pe.files)},F=(Q,fe)=>{fe&&(gt.setValue(Q,((pe,Ee)=>{const ge=Hh.explode(Ee.getOption("images_file_types"));return Wt(ht(pe),me=>An(ge,Ce=>ju(me.name.toLowerCase(),`.${Ce.toLowerCase()}`)))})(fe,b)),$n(Q,pl,{name:f.name}))},L=Ss({dom:{tag:"input",attributes:{type:"file",accept:"image/*"},styles:{display:"none"}},behaviours:Xt([Oo("input-file-events",[jm(vi()),jm(Mf())])])}),H=f.label.map(Q=>sb(Q,b)),Y=Os.parts.field({factory:{sketch:Q=>({uid:Q.uid,dom:{tag:"div",classes:["tox-dropzone-container"]},behaviours:Xt([Ew(v.getOr([])),kg(),co.config({}),so.config({toggleClass:"dragenter",toggleOnExecute:!1}),Oo("dropzone-events",[Rt("dragenter",k([w,so.toggle])),Rt("dragleave",k([w,so.toggle])),Rt("dragover",w),Rt("drop",k([w,E])),Rt(Km(),P)])]),components:[{dom:{tag:"div",classes:["tox-dropzone"],styles:{}},components:[{dom:{tag:"p"},components:[Br(b.translate("Drop an image here"))]},qa.sketch({dom:{tag:"button",styles:{position:"relative"},classes:["tox-button","tox-button--secondary"]},components:[Br(b.translate("Browse for an image")),L.asSpec()],action:fe=>{L.get(fe).element.dom.click()},buttonBehaviours:Xt([Gs.config({}),Ma(b.isDisabled),Bi()])})]}]})}});return xw(H,Y,["tox-form__group--stretched"],[])})(s,l.shared.providers,d)),grid:vr((s,l)=>((d,f)=>({dom:{tag:"div",classes:["tox-form__grid",`tox-form__grid--${d.columns}col`]},components:Me(d.items,f.interpreter)}))(s,l.shared)),listbox:vr((s,l,d)=>((f,b,v)=>{const w=An(f.items,H=>!Tw(H)),k=b.shared.providers,E=v.bind(H=>JS(f.items,H)).orThunk(()=>Ne(f.items).filter(Tw)),P=f.label.map(H=>sb(H,k)),F=Os.parts.field({dom:{},factory:{sketch:H=>F3({uid:H.uid,text:E.map(Y=>Y.text),icon:R.none(),tooltip:R.none(),role:ds(!w,"combobox"),...w?{}:{listRole:"listbox"},ariaLabel:f.label,fetch:(Y,Q)=>{const fe=XS(Y,f.name,f.items,gt.getValue(Y),w);Q(v0(fe,um.CLOSE_ON_EXECUTE,b,{isHorizontalMenu:!1,search:R.none()}))},onSetup:j(W),getApi:j({}),columns:1,presets:"normal",classes:[],dropdownBehaviours:[Gs.config({}),b0(E.map(Y=>Y.value),Y=>Zo(Y.element,$3),(Y,Q)=>{JS(f.items,Q).each(fe=>{dn(Y.element,$3,fe.value),$n(Y,Iu,{text:fe.text})})})]},"tox-listbox",b.shared)}}),L={dom:{tag:"div",classes:["tox-listboxfield"]},components:[F]};return Os.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:Zt([P.toArray(),[L]]),fieldBehaviours:Xt([co.config({disabled:j(!f.enabled),onDisabled:H=>{Os.getField(H).each(co.disable)},onEnabled:H=>{Os.getField(H).each(co.enable)}})])})})(s,l,d)),selectbox:vr((s,l,d)=>((f,b,v)=>{const w=Me(f.items,L=>({text:b.translate(L.text),value:L.value})),k=f.label.map(L=>sb(L,b)),E=Os.parts.field({dom:{},...v.map(L=>({data:L})).getOr({}),selectAttributes:{size:f.size},options:w,factory:O$,selectBehaviours:Xt([co.config({disabled:()=>!f.enabled||b.isDisabled()}),Gs.config({}),Oo("selectbox-change",[Rt(Km(),(L,H)=>{$n(L,pl,{name:f.name})})])])}),P=f.size>1?R.none():R.some(Gc("chevron-down",{tag:"div",classes:["tox-selectfield__icon-js"]},b.icons)),F={dom:{tag:"div",classes:["tox-selectfield"]},components:Zt([[E],P.toArray()])};return Os.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:Zt([k.toArray(),[F]]),fieldBehaviours:Xt([co.config({disabled:()=>!f.enabled||b.isDisabled(),onDisabled:L=>{Os.getField(L).each(co.disable)},onEnabled:L=>{Os.getField(L).each(co.enable)}}),Bi()])})})(s,l.shared.providers,d)),sizeinput:vr((s,l)=>((d,f)=>{let b=U3;const v=kn("ratio-event"),w=fe=>Gc(fe,{tag:"span",classes:["tox-icon","tox-lock-icon__"+fe]},f.icons),k=d.label.getOr("Constrain proportions"),E=f.translate(k),P=Xc.parts.lock({dom:{tag:"button",classes:["tox-lock","tox-button","tox-button--naked","tox-button--icon"],attributes:{"aria-label":E,"data-mce-name":k}},components:[w("lock"),w("unlock")],buttonBehaviours:Xt([co.config({disabled:()=>!d.enabled||f.isDisabled()}),Bi(),Gs.config({}),ri.config(f.tooltips.getConfig({tooltipText:E}))])}),F=fe=>({dom:{tag:"div",classes:["tox-form__group"]},components:fe}),L=fe=>Os.parts.field({factory:Lh,inputClasses:["tox-textfield"],inputBehaviours:Xt([co.config({disabled:()=>!d.enabled||f.isDisabled()}),Bi(),Gs.config({}),Oo("size-input-events",[Rt(ws(),(pe,Ee)=>{$n(pe,v,{isField1:fe})}),Rt(Km(),(pe,Ee)=>{$n(pe,pl,{name:d.name})})])]),selectOnFocus:!1}),H=fe=>({dom:{tag:"label",classes:["tox-label"]},components:[Br(f.translate(fe))]}),Y=Xc.parts.field1(F([Os.parts.label(H("Width")),L(!0)])),Q=Xc.parts.field2(F([Os.parts.label(H("Height")),L(!1)]));return Xc.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:[{dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:[Y,Q,F([H(""),P])]}],field1Name:"width",field2Name:"height",locked:!0,markers:{lockClass:"tox-locked"},onLockedChange:(fe,pe,Ee)=>{z3(gt.getValue(fe)).each(ge=>{b(ge).each(me=>{gt.setValue(pe,(Ce=>{const Ae={"":0,px:0,pt:1,mm:1,pc:2,ex:2,em:2,ch:2,rem:2,cm:3,in:4,"%":4};let Ie=Ce.value.toFixed((qe=Ce.unit)in Ae?Ae[qe]:1);var qe;return Ie.indexOf(".")!==-1&&(Ie=Ie.replace(/\.?0*$/,"")),Ie+Ce.unit})(me))})})},coupledFieldBehaviours:Xt([co.config({disabled:()=>!d.enabled||f.isDisabled(),onDisabled:fe=>{Xc.getField1(fe).bind(Os.getField).each(co.disable),Xc.getField2(fe).bind(Os.getField).each(co.disable),Xc.getLock(fe).each(co.disable)},onEnabled:fe=>{Xc.getField1(fe).bind(Os.getField).each(co.enable),Xc.getField2(fe).bind(Os.getField).each(co.enable),Xc.getLock(fe).each(co.enable)}}),Bi(),Oo("size-input-events2",[Rt(v,(fe,pe)=>{const Ee=pe.event.isField1,ge=Ee?Xc.getField1(fe):Xc.getField2(fe),me=Ee?Xc.getField2(fe):Xc.getField1(fe),Ce=ge.map(gt.getValue).getOr(""),Ae=me.map(gt.getValue).getOr("");b=((Ie,qe)=>{const lt=z3(Ie).toOptional(),Nt=z3(qe).toOptional();return Jt(lt,Nt,(Ot,Et)=>H3(Ot,Et.unit).map(jt=>Et.value/jt).map(jt=>{return xn=jt,Pn=Et.unit,jn=>H3(jn,Pn).map(uo=>({value:uo*xn,unit:Pn}));var xn,Pn}).getOr(U3)).getOr(U3)})(Ce,Ae)})])])})})(s,l.shared.providers)),slider:vr((s,l,d)=>((f,b,v)=>{const w=ff.parts.label({dom:{tag:"label",classes:["tox-label"]},components:[Br(b.translate(f.label))]}),k=ff.parts.spectrum({dom:{tag:"div",classes:["tox-slider__rail"],attributes:{role:"presentation"}}}),E=ff.parts.thumb({dom:{tag:"div",classes:["tox-slider__handle"],attributes:{role:"presentation"}}});return ff.sketch({dom:{tag:"div",classes:["tox-slider"],attributes:{role:"presentation"}},model:{mode:"x",minX:f.min,maxX:f.max,getInitialValue:j(v.getOrThunk(()=>(Math.abs(f.max)-Math.abs(f.min))/2))},components:[w,k,E],sliderBehaviours:Xt([kg(),io.config({})]),onChoose:(P,F,L)=>{$n(P,pl,{name:f.name,value:L})},onChange:(P,F,L)=>{$n(P,pl,{name:f.name,value:L})}})})(s,l.shared.providers,d)),urlinput:vr((s,l,d)=>((f,b,v,w)=>{const k=b.shared.providers,E=ge=>{const me=gt.getValue(ge);v.addToHistory(me.value,f.filetype)},P={...w.map(ge=>({initialData:ge})).getOr({}),dismissOnBlur:!0,inputClasses:["tox-textfield"],sandboxClasses:["tox-dialog__popups"],inputAttributes:{"aria-errormessage":E5,type:"url"},minChars:0,responseTime:0,fetch:ge=>{const me=((Ae,Ie,qe)=>{var lt,Nt;const Ot=gt.getValue(Ie),Et=(Nt=(lt=Ot==null?void 0:Ot.meta)===null||lt===void 0?void 0:lt.text)!==null&&Nt!==void 0?Nt:Ot.value;return qe.getLinkInformation().fold(()=>[],jt=>{const xn=e4(Et,(jn=>Me(jn,uo=>Q3(uo,uo)))(qe.getHistory(Ae)));return Ae==="file"?(Pn=[xn,e4(Et,H$(jt)),e4(Et,Zt([S5(jt),U$(jt),k5(jt)]))],on(Pn,(jn,uo)=>jn.length===0||uo.length===0?jn.concat(uo):jn.concat(V$,uo),[])):xn;var Pn})})(f.filetype,ge,v),Ce=v0(me,um.BUBBLE_TO_SANDBOX,b,{isHorizontalMenu:!1,search:R.none()});return xg(Ce)},getHotspot:ge=>pe.getOpt(ge),onSetValue:(ge,me)=>{ge.hasConfigured(wg)&&wg.run(ge).get(W)},typeaheadBehaviours:Xt([...v.getValidationHandler().map(ge=>wg.config({getRoot:me=>Oa(me.element),invalidClass:"tox-control-wrap--status-invalid",notify:{onInvalid:(me,Ce)=>{H.getOpt(me).each(Ae=>{dn(Ae.element,"title",k.translate(Ce))})}},validator:{validate:me=>{const Ce=gt.getValue(me);return y5(Ae=>{ge({type:f.filetype,url:Ce.value},Ie=>{if(Ie.status==="invalid"){const qe=Wo.error(Ie.message);Ae(qe)}else{const qe=Wo.value(Ie.message);Ae(qe)}})})},validateOnLoad:!1}})).toArray(),co.config({disabled:()=>!f.enabled||k.isDisabled()}),Gs.config({}),Oo("urlinput-events",[Rt(Wm(),ge=>{const me=Kf(ge.element),Ce=me.trim();Ce!==me&&Jm(ge.element,Ce),f.filetype==="file"&&$n(ge,pl,{name:f.name})}),Rt(Km(),ge=>{$n(ge,pl,{name:f.name}),E(ge)}),Rt(Tx(),ge=>{$n(ge,pl,{name:f.name}),E(ge)})])]),eventOrder:{[Wm()]:["streaming","urlinput-events","invalidating"]},model:{getDisplayText:ge=>ge.value,selectsOver:!1,populateFromBrowse:!1},markers:{openClass:"tox-textfield--popup-open"},lazySink:b.shared.getSink,parts:{menu:Q_(0,0,"normal")},onExecute:(ge,me,Ce)=>{$n(me,ww,{})},onItemExecute:(ge,me,Ce,Ae)=>{E(ge),$n(ge,pl,{name:f.name})}},F=Os.parts.field({...P,factory:$$}),L=f.label.map(ge=>sb(ge,k)),H=Ss(((ge,me,Ce=ge,Ae=ge)=>Gc(Ce,{tag:"div",classes:["tox-icon","tox-control-wrap__status-icon-"+ge],attributes:{title:k.translate(Ae),"aria-live":"polite",...me.fold(()=>({}),Ie=>({id:Ie}))}},k.icons))("invalid",R.some(E5),"warning")),Y=Ss({dom:{tag:"div",classes:["tox-control-wrap__status-icon-wrap"]},components:[H.asSpec()]}),Q=v.getUrlPicker(f.filetype),fe=kn("browser.url.event"),pe=Ss({dom:{tag:"div",classes:["tox-control-wrap"]},components:[F,Y.asSpec()],behaviours:Xt([co.config({disabled:()=>!f.enabled||k.isDisabled()})])}),Ee=Ss(C5({name:f.name,icon:R.some("browse"),text:f.picker_text.or(f.label).getOr(""),enabled:f.enabled,primary:!1,buttonType:R.none(),borderless:!0},ge=>No(ge,fe),k,[],["tox-browse-url"]));return Os.sketch({dom:wS([]),components:L.toArray().concat([{dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:Zt([[pe.asSpec()],Q.map(()=>Ee.asSpec()).toArray()])}]),fieldBehaviours:Xt([co.config({disabled:()=>!f.enabled||k.isDisabled(),onDisabled:ge=>{Os.getField(ge).each(co.disable),Ee.getOpt(ge).each(co.disable)},onEnabled:ge=>{Os.getField(ge).each(co.enable),Ee.getOpt(ge).each(co.enable)}}),Bi(),Oo("url-input-events",[Rt(fe,ge=>{ls.getCurrent(ge).each(me=>{const Ce=gt.getValue(me),Ae={fieldname:f.name,...Ce};Q.each(Ie=>{Ie(Ae).get(qe=>{gt.setValue(me,qe),$n(ge,pl,{name:f.name})})})})})])])})})(s,l,l.urlinput,d)),customeditor:vr(s=>{const l=Ts(),d=Ss({dom:{tag:s.tag}}),f=Ts(),b=!S3(s)&&s.onFocus.isSome()?[io.config({onFocus:v=>{s.onFocus.each(w=>{w(v.element.dom)})}}),Gs.config({})]:[];return{dom:{tag:"div",classes:["tox-custom-editor"]},behaviours:Xt([Oo("custom-editor-events",[ar(v=>{d.getOpt(v).each(w=>{(S3(s)?s.init(w.element.dom):qN.load(s.scriptId,s.scriptUrl).then(k=>k(w.element.dom,s.settings))).then(k=>{f.on(E=>{k.setValue(E)}),f.clear(),l.set(k)})})})]),b0(R.none(),()=>l.get().fold(()=>f.get().getOr(""),v=>v.getValue()),(v,w)=>{l.get().fold(()=>f.set(w),k=>k.setValue(w))}),kg()].concat(b)),components:[d.asSpec()]}}),htmlpanel:vr((s,l)=>((d,f)=>{const b=["tox-form__group",...d.stretched?["tox-form__group--stretched"]:[]],v=Oo("htmlpanel",[ar(w=>{d.onInit(w.element.dom)})]);return d.presets==="presentation"?uf.sketch({dom:{tag:"div",classes:b,innerHtml:d.html},containerBehaviours:Xt([ri.config({...f.tooltips.getConfig({tooltipText:"",onShow:w=>{fr(w.element,"[data-mce-tooltip]:hover").orThunk(()=>Zr(w.element)).each(k=>{es(k,"data-mce-tooltip").each(E=>{ri.setComponents(w,f.tooltips.getComponents({tooltipText:E}))})})}}),mode:"children-normal",anchor:w=>({type:"node",node:fr(w.element,"[data-mce-tooltip]:hover").orThunk(()=>Zr(w.element).filter(k=>es(k,"data-mce-tooltip").isSome())),root:w.element,layouts:{onLtr:j([jr,kr,Ir,oi,Dr,Fs]),onRtl:j([jr,kr,Ir,oi,Dr,Fs])},bubble:fc(0,-2,{})})}),v])}):uf.sketch({dom:{tag:"div",classes:b,innerHtml:d.html,attributes:{role:"document"}},containerBehaviours:Xt([Gs.config({}),io.config({}),v])})})(s,l.shared.providers)),imagepreview:vr((s,l,d)=>((f,b)=>{const v=Un(b.getOr({url:""})),w=Ss({dom:{tag:"img",classes:["tox-imagepreview__image"],attributes:b.map(F=>({src:F.url})).getOr({})}}),k=Ss({dom:{tag:"div",classes:["tox-imagepreview__container"],attributes:{role:"presentation"}},components:[w.asSpec()]}),E={};f.height.each(F=>E.height=F);const P=b.map(F=>({url:F.url,zoom:R.from(F.zoom),cachedWidth:R.from(F.cachedWidth),cachedHeight:R.from(F.cachedHeight)}));return{dom:{tag:"div",classes:["tox-imagepreview"],styles:E,attributes:{role:"presentation"}},components:[k.asSpec()],behaviours:Xt([kg(),b0(P,()=>v.get(),(F,L)=>{const H={url:L.url};L.zoom.each(Q=>H.zoom=Q),L.cachedWidth.each(Q=>H.cachedWidth=Q),L.cachedHeight.each(Q=>H.cachedHeight=Q),v.set(H);const Y=()=>{const{cachedWidth:Q,cachedHeight:fe,zoom:pe}=H;if(!B(Q)&&!B(fe)){if(B(pe)){const ge=((me,Ce,Ae)=>{const Ie=Di(me),qe=Ar(me);return Math.min(Ie/Ce,qe/Ae,1)})(F.element,Q,fe);H.zoom=ge}const Ee=((ge,me,Ce,Ae,Ie)=>{const qe=Ce*Ie,lt=Ae*Ie,Nt=Math.max(0,ge/2-qe/2),Ot=Math.max(0,me/2-lt/2);return{left:Nt.toString()+"px",top:Ot.toString()+"px",width:qe.toString()+"px",height:lt.toString()+"px"}})(Di(F.element),Ar(F.element),Q,fe,H.zoom);k.getOpt(F).each(ge=>{rl(ge.element,Ee)})}};w.getOpt(F).each(Q=>{const fe=Q.element;var pe;L.url!==Zo(fe,"src")&&(dn(fe,"src",L.url),Rr(F.element,"tox-imagepreview__loaded")),Y(),(pe=fe,new Promise((Ee,ge)=>{const me=()=>{Ae(),Ee(pe)},Ce=[Za(pe,"load",me),Za(pe,"error",()=>{Ae(),ge("Unable to load data from image: "+pe.dom.src)})],Ae=()=>mt(Ce,Ie=>Ie.unbind());pe.dom.complete&&me()})).then(Ee=>{F.getSystem().isConnected()&&(Sr(F.element,"tox-imagepreview__loaded"),H.cachedWidth=Ee.dom.naturalWidth,H.cachedHeight=Ee.dom.naturalHeight,Y())})})})])}})(s,d)),table:vr((s,l)=>((d,f)=>{const b=k=>({dom:{tag:"td",innerHtml:f.translate(k)}});return{dom:{tag:"table",classes:["tox-dialog__table"]},components:[(w=d.header,{dom:{tag:"thead"},components:[{dom:{tag:"tr"},components:Me(w,k=>({dom:{tag:"th",innerHtml:f.translate(k)}}))}]}),(v=d.cells,{dom:{tag:"tbody"},components:Me(v,k=>({dom:{tag:"tr"},components:Me(k,b)}))})],behaviours:Xt([Gs.config({}),io.config({})])};var v,w})(s,l.shared.providers)),tree:vr((s,l)=>((d,f)=>{const b=d.onLeafAction.getOr(W),v=d.onToggleExpand.getOr(W),w=d.defaultExpandedIds,k=Un(w),E=Un(d.defaultSelectedId),P=kn("tree-id"),F=(L,H)=>d.items.map(Y=>Y.type==="leaf"?Z3({leaf:Y,selectedId:L,onLeafAction:b,visible:!0,treeId:P,backstage:f}):ek({directory:Y,selectedId:L,onLeafAction:b,expandedIds:H,labelTabstopping:!0,treeId:P,backstage:f}));return{dom:{tag:"div",classes:["tox-tree"],attributes:{role:"tree"}},components:F(E.get(),k.get()),behaviours:Xt([zn.config({mode:"flow",selector:".tox-tree--leaf__label--visible, .tox-tree--directory__label--visible",cycles:!1}),Oo(N$,[Rt("expand-tree-node",(L,H)=>{const{expanded:Y,node:Q}=H.event;k.set(Y?[...k.get(),Q]:k.get().filter(fe=>fe!==Q)),v(k.get(),{expanded:Y,node:Q})})]),Rl.config({channels:{[`update-active-item-${P}`]:{onReceive:(L,H)=>{E.set(R.some(H.value)),Qn.set(L,F(R.some(H.value),k.get()))}}}}),Qn.config({})])}})(s,l)),panel:vr((s,l)=>((d,f)=>({dom:{tag:"div",classes:d.classes},components:Me(d.items,f.shared.interpreter)}))(s,l))},t4={field:(s,l)=>l,record:j([])},ok=(s,l,d,f,b)=>{const v=Bs(f,{shared:{interpreter:w=>n4(s,w,d,v,b)}});return n4(s,l,d,v,b)},n4=(s,l,d,f,b)=>Tn(K$,l.type).fold(()=>(console.error(`Unknown factory type "${l.type}", defaulting to container: `,l),l),v=>v(s,l,d,f,b)),A5=(s,l,d,f)=>n4(t4,s,l,d,f),mf="layout-inset",Ny=s=>s.x,sk=(s,l)=>s.x+s.width/2-l.width/2,o4=(s,l)=>s.x+s.width-l.width,Cd=s=>s.y,s4=(s,l)=>s.y+s.height-l.height,T5=(s,l)=>s.y+s.height/2-l.height/2,pc=(s,l,d)=>va(o4(s,l),s4(s,l),d.insetSouthwest(),xh(),"southwest",ya(s,{right:0,bottom:3}),mf),gb=(s,l,d)=>va(Ny(s),s4(s,l),d.insetSoutheast(),yv(),"southeast",ya(s,{left:1,bottom:3}),mf),bc=(s,l,d)=>va(o4(s,l),Cd(s),d.insetNorthwest(),yh(),"northwest",ya(s,{right:0,top:2}),mf),Dw=(s,l,d)=>va(Ny(s),Cd(s),d.insetNortheast(),vv(),"northeast",ya(s,{left:1,top:2}),mf),cs=(s,l,d)=>va(sk(s,l),Cd(s),d.insetNorth(),n_(),"north",ya(s,{top:2}),mf),Eg=(s,l,d)=>va(sk(s,l),s4(s,l),d.insetSouth(),Jx(),"south",ya(s,{bottom:3}),mf),Pw=(s,l,d)=>va(o4(s,l),T5(s,l),d.insetEast(),o_(),"east",ya(s,{right:0}),mf),r4=(s,l,d)=>va(Ny(s),T5(s,l),d.insetWest(),Qx(),"west",ya(s,{left:1}),mf),i4=s=>{switch(s){case"north":return cs;case"northeast":return Dw;case"northwest":return bc;case"south":return Eg;case"southeast":return gb;case"southwest":return pc;case"east":return Pw;case"west":return r4}},rk=(s,l,d,f,b)=>Ev(f).map(i4).getOr(cs)(s,l,d,f,b),j$=s=>{switch(s){case"north":return Eg;case"northeast":return gb;case"northwest":return pc;case"south":return cs;case"southeast":return Dw;case"southwest":return bc;case"east":return r4;case"west":return Pw}},a4=(s,l,d,f,b)=>Ev(f).map(j$).getOr(cs)(s,l,d,f,b),Nw={valignCentre:[],alignCentre:[],alignLeft:[],alignRight:[],right:[],left:[],bottom:[],top:[]},O5=(s,l,d)=>{const f={maxHeightFunction:Sh()};return()=>d()?{type:"node",root:ot(pt(s())),node:R.from(s()),bubble:fc(12,12,Nw),layouts:{onRtl:()=>[Dw],onLtr:()=>[bc]},overrides:f}:{type:"hotspot",hotspot:l(),bubble:fc(-12,12,Nw),layouts:{onRtl:()=>[Ir,Dr,jr],onLtr:()=>[Dr,Ir,jr]},overrides:f}},R5=(s,l,d,f)=>{const b={maxHeightFunction:Sh()};return()=>f()?{type:"node",root:ot(pt(l())),node:R.from(l()),bubble:fc(12,12,Nw),layouts:{onRtl:()=>[cs],onLtr:()=>[cs]},overrides:b}:s?{type:"node",root:ot(pt(l())),node:R.from(l()),bubble:fc(0,-Tc(l()),Nw),layouts:{onRtl:()=>[kr],onLtr:()=>[kr]},overrides:b}:{type:"hotspot",hotspot:d(),bubble:fc(0,0,Nw),layouts:{onRtl:()=>[kr],onLtr:()=>[kr]},overrides:b}},l4=(s,l,d)=>()=>d()?{type:"node",root:ot(pt(s())),node:R.from(s()),layouts:{onRtl:()=>[cs],onLtr:()=>[cs]}}:{type:"hotspot",hotspot:l(),layouts:{onRtl:()=>[jr],onLtr:()=>[jr]}},I5=(s,l)=>()=>({type:"selection",root:l(),getSelection:()=>{const d=s.selection.getRng(),f=s.model.table.getSelectedCells();if(f.length>1){const b=f[0],v=f[f.length-1],w={firstCell:fn(b),lastCell:fn(v)};return R.some(w)}return R.some(Jf.range(fn(d.startContainer),d.startOffset,fn(d.endContainer),d.endOffset))}}),ik=s=>l=>({type:"node",root:s(),node:l}),Z$=(s,l,d,f)=>{const b=e0(s),v=()=>fn(s.getBody()),w=()=>fn(s.getContentAreaContainer()),k=()=>b||!f();return{inlineDialog:O5(w,l,k),inlineBottomDialog:R5(s.inline,w,d,k),banner:l4(w,l,k),cursor:I5(s,v),node:ik(v)}},G$=s=>(l,d)=>{sN(s)(l,d)},q$=s=>()=>IT(s),Y$=s=>l=>d0(s,l),X$=s=>l=>RT(s,l),D5=s=>()=>lm(s),P5=s=>Ro(s,"items"),N5=s=>Ro(s,"format"),c4=[{title:"Headings",items:[{title:"Heading 1",format:"h1"},{title:"Heading 2",format:"h2"},{title:"Heading 3",format:"h3"},{title:"Heading 4",format:"h4"},{title:"Heading 5",format:"h5"},{title:"Heading 6",format:"h6"}]},{title:"Inline",items:[{title:"Bold",format:"bold"},{title:"Italic",format:"italic"},{title:"Underline",format:"underline"},{title:"Strikethrough",format:"strikethrough"},{title:"Superscript",format:"superscript"},{title:"Subscript",format:"subscript"},{title:"Code",format:"code"}]},{title:"Blocks",items:[{title:"Paragraph",format:"p"},{title:"Blockquote",format:"blockquote"},{title:"Div",format:"div"},{title:"Pre",format:"pre"}]},{title:"Align",items:[{title:"Left",format:"alignleft"},{title:"Center",format:"aligncenter"},{title:"Right",format:"alignright"},{title:"Justify",format:"alignjustify"}]}],u4=s=>on(s,(l,d)=>{if(go(d,"items")){const f=u4(d.items);return{customFormats:l.customFormats.concat(f.customFormats),formats:l.formats.concat([{title:d.title,items:f.formats}])}}if(go(d,"inline")||(f=>go(f,"block"))(d)||(f=>go(f,"selector"))(d)){const f=`custom-${h(d.name)?d.name:d.title.toLowerCase()}`;return{customFormats:l.customFormats.concat([{name:f,format:d}]),formats:l.formats.concat([{title:d.title,format:f,icon:d.icon}])}}return{...l,formats:l.formats.concat(d)}},{customFormats:[],formats:[]}),L5=s=>my(s).map(l=>{const d=((f,b)=>{const v=u4(b),w=k=>{mt(k,E=>{f.formatter.has(E.name)||f.formatter.register(E.name,E.format)})};return f.formatter?w(v.customFormats):f.on("init",()=>{w(v.customFormats)}),v.formats})(s,l);return P_(s)?c4.concat(d):d}).getOr(c4),M5=(s,l,d)=>({...s,type:"formatter",isSelected:l(s.format),getStylePreview:d(s.format)}),d4=(s,l,d,f)=>{const b=v=>Me(v,w=>P5(w)?(k=>{const E=b(k.items);return{...k,type:"submenu",getStyleItems:j(E)}})(w):N5(w)?(k=>M5(k,d,f))(w):(k=>{const E=Kt(k);return E.length===1&&dt(E,"title")})(w)?{...w,type:"separator"}:(k=>{const E=h(k.name)?k.name:kn(k.title),P=`custom-${E}`,F={...k,type:"formatter",format:P,isSelected:d(P),getStylePreview:f(P)};return s.formatter.register(E,F),F})(w));return b(l)},f4=s=>{let l=0;const d=f=>[{dom:{tag:"div",classes:["tox-tooltip__body"]},components:[Br(f.tooltipText)]}];return{getConfig:f=>({delayForShow:()=>l>0?60:300,delayForHide:j(300),exclusive:!0,lazySink:s,tooltipDom:{tag:"div",classes:["tox-tooltip","tox-tooltip--up"]},tooltipComponents:d(f),onShow:(b,v)=>{l++,f.onShow&&f.onShow(b,v)},onHide:(b,v)=>{l--,f.onHide&&f.onHide(b,v)},onSetup:f.onSetup}),getComponents:d}},B5=Hh.trim,F5=s=>l=>!!((d=>z(d)&&d.nodeType===1)(l)&&(l.contentEditable===s||l.getAttribute("data-mce-contenteditable")===s)),J$=F5("true"),Q$=F5("false"),$5=(s,l,d,f,b)=>({type:s,title:l,url:d,level:f,attach:b}),V5=s=>s.innerText||s.textContent,eV=s=>(l=>l&&l.nodeName==="A"&&(l.id||l.name)!==void 0)(s)&&_d(s),m4=s=>s&&/^(H[1-6])$/.test(s.nodeName),_d=s=>(l=>{let d=l;for(;d=d.parentNode;){const f=d.contentEditable;if(f&&f!=="inherit")return J$(d)}return!1})(s)&&!Q$(s),tV=s=>m4(s)&&_d(s),g4=s=>{var l;const d=(f=>f.id?f.id:kn("h"))(s);return $5("header",(l=V5(s))!==null&&l!==void 0?l:"","#"+d,(f=>m4(f)?parseInt(f.nodeName.substr(1),10):0)(s),()=>{s.id=d})},z5=s=>{const l=s.id||s.name,d=V5(s);return $5("anchor",d||"#"+l,"#"+l,0,W)},H5=s=>B5(s.title).length>0,nV=s=>{const l=(d=>Me(Ai(fn(d),"h1,h2,h3,h4,h5,h6,a:not([href])"),b=>b.dom))(s);return Wt((d=>Me(Wt(d,tV),g4))(l).concat((d=>Me(Wt(d,eV),z5))(l)),H5)},Lw="tinymce-url-history",h4=s=>h(s)&&/^https?/.test(s),p4=s=>x(s)&&xs(s,l=>{return!(D(d=l)&&d.length<=5&&je(d,h4));var d}).isNone(),U5=()=>{const s=Yc.getItem(Lw);if(s===null)return{};let l;try{l=JSON.parse(s)}catch(d){if(d instanceof SyntaxError)return console.log("Local storage "+Lw+" was not valid JSON",d),{};throw d}return p4(l)?l:(console.log("Local storage "+Lw+" was not valid format",l),{})},oV=s=>{const l=U5();return Tn(l,s).getOr([])},sV=(s,l)=>{if(!h4(s))return;const d=U5(),f=Tn(d,l).getOr([]),b=Wt(f,v=>v!==s);d[l]=[s].concat(b).slice(0,5),(v=>{if(!p4(v))throw new Error(`Bad format for history:
`+JSON.stringify(v));Yc.setItem(Lw,JSON.stringify(v))})(d)},W5=s=>!!s,rV=s=>to(Hh.makeMap(s,/[, ]/),W5),ak=s=>R.from(L_(s)),b4=s=>R.from(s).filter(h).getOrUndefined(),K5=s=>({getHistory:oV,addToHistory:sV,getLinkInformation:()=>(l=>M_(l)?R.some({targets:nV(l.getBody()),anchorTop:b4(ND(l)),anchorBottom:b4(LD(l))}):R.none())(s),getValidationHandler:()=>(l=>R.from($2(l)))(s),getUrlPicker:l=>((d,f)=>((b,v)=>{const w=(k=>{const E=R.from(V2(k)).filter(W5).map(rV);return ak(k).fold(we,P=>E.fold(_e,F=>Kt(F).length>0&&F))})(b);return O(w)?w?ak(b):R.none():w[v]?ak(b):R.none()})(d,f).map(b=>v=>nb(w=>{const k={filetype:f,fieldname:v.fieldname,...R.from(v.meta).getOr({})};b.call(d,(E,P)=>{if(!h(E))throw new Error("Expected value to be string");if(P!==void 0&&!x(P))throw new Error("Expected meta to be a object");w({value:E,meta:P})},v.value,k)})))(s,l)}),Ca=p8,Ag=CI,iV=j([ut("shell",!1),Bt("makeItem"),ut("setupItem",W),lo("listBehaviours",[Qn])]),Ly=Su({name:"items",overrides:()=>({behaviours:Xt([Qn.config({})])})}),aV=j([Ly]),v4=Ul({name:j("CustomList")(),configFields:iV(),partFields:aV(),factory:(s,l,d,f)=>{const b=s.shell?{behaviours:[Qn.config({})],components:[]}:{behaviours:[],components:l};return{uid:s.uid,dom:s.dom,components:b.components,behaviours:To(s.listBehaviours,b.behaviours),apis:{setItems:(v,w)=>{var k;(k=v,s.shell?R.some(k):Qs(k,s,"items")).fold(()=>{throw console.error("Custom List was defined to not be a shell, but no item container was specified in components"),new Error("Custom List was defined to not be a shell, but no item container was specified in components")},E=>{const P=Qn.contents(E),F=w.length,L=F-P.length,H=L>0?At(L,()=>s.makeItem()):[],Y=P.slice(F);mt(Y,fe=>Qn.remove(E,fe)),mt(H,fe=>Qn.append(E,fe));const Q=Qn.contents(E);mt(Q,(fe,pe)=>{s.setupItem(v,fe,w[pe],pe)})})}}}},apis:{setItems:(s,l,d)=>{s.setItems(l,d)}}}),x0=j([Bt("dom"),ut("shell",!0),En("toolbarBehaviours",[Qn])]),j5=j([Su({name:"groups",overrides:()=>({behaviours:Xt([Qn.config({})])})})]),gf=Ul({name:"Toolbar",configFields:x0(),partFields:j5(),factory:(s,l,d,f)=>{const b=s.shell?{behaviours:[Qn.config({})],components:[]}:{behaviours:[],components:l};return{uid:s.uid,dom:s.dom,components:b.components,behaviours:To(s.toolbarBehaviours,b.behaviours),apis:{setGroups:(v,w)=>{var k;(k=v,s.shell?R.some(k):Qs(k,s,"groups")).fold(()=>{throw console.error("Toolbar was defined to not be a shell, but no groups container was specified in components"),new Error("Toolbar was defined to not be a shell, but no groups container was specified in components")},E=>{Qn.set(E,w)})},refresh:W},domModification:{attributes:{role:"group"}}}},apis:{setGroups:(s,l,d)=>{s.setGroups(l,d)}}}),y4=W,x4=we,lk=j([]);var w4,lV=Object.freeze({__proto__:null,setup:y4,isDocked:x4,getBehaviours:lk});const ck=j(kn("toolbar-height-change")),Tg={fadeInClass:"tox-editor-dock-fadein",fadeOutClass:"tox-editor-dock-fadeout",transitionClass:"tox-editor-dock-transition"},Z5="tox-tinymce--toolbar-sticky-on",G5="tox-tinymce--toolbar-sticky-off",Mw=(s,l)=>dt(dr.getModes(s),l),uk=s=>{const l=s.element;Oa(l).each(d=>{const f="padding-"+dr.getModes(s)[0];if(dr.isDocked(s)){const b=Di(d);yo(l,"width",b+"px"),yo(d,f,(v=>Tc(v)+(parseInt(Er(v,"margin-top"),10)||0)+(parseInt(Er(v,"margin-bottom"),10)||0))(l)+"px")}else ks(l,"width"),ks(d,f)})},C4=(s,l)=>{l?(Rr(s,Tg.fadeOutClass),Kr(s,[Tg.transitionClass,Tg.fadeInClass])):(Rr(s,Tg.fadeInClass),Kr(s,[Tg.fadeOutClass,Tg.transitionClass]))},q5=(s,l)=>{const d=fn(s.getContainer());l?(Sr(d,Z5),Rr(d,G5)):(Sr(d,G5),Rr(d,Z5))},Y5=(s,l)=>{const d=Ts(),f=l.getSink,b=k=>{f().each(E=>k(E.element))},v=k=>{s.inline||uk(k),q5(s,dr.isDocked(k)),k.getSystem().broadcastOn([U()],{}),f().each(E=>E.getSystem().broadcastOn([U()],{}))},w=s.inline?[]:[Rl.config({channels:{[ck()]:{onReceive:uk}}})];return[io.config({}),dr.config({contextual:{lazyContext:k=>{const E=Tc(k.element),P=s.inline?s.getContentAreaContainer():s.getContainer();return R.from(P).map(F=>{const L=ci(fn(F));return Gp(s,k.element).fold(()=>{const H=L.height-E,Y=L.y+(Mw(k,"top")?0:E);return Mo(L.x,Y,L.width,H)},H=>{const Y=Ud(L,qp(H)),Q=Mw(k,"top")?Y.y:Y.y+E;return Mo(Y.x,Q,Y.width,Y.height-E)})})},onShow:()=>{b(k=>C4(k,!0))},onShown:k=>{b(E=>dc(E,[Tg.transitionClass,Tg.fadeInClass])),d.get().each(E=>{((P,F)=>{const L=li(F);xu(L).filter(H=>!fs(F,H)).filter(H=>fs(H,fn(L.dom.body))||Nr(P,H)).each(()=>ja(F))})(k.element,E),d.clear()})},onHide:k=>{((E,P)=>Zr(E).orThunk(()=>P().toOptional().bind(F=>Zr(F.element))))(k.element,f).fold(d.clear,d.set),b(E=>C4(E,!1))},onHidden:()=>{b(k=>dc(k,[Tg.transitionClass]))},...Tg},lazyViewport:k=>Gp(s,k.element).fold(()=>{const E=Gi(),P=zA(s),F=E.y+(Mw(k,"top")?P:0),L=E.height-(Mw(k,"bottom")?P:0);return{bounds:Mo(E.x,F,E.width,L),optScrollEnv:R.none()}},E=>({bounds:qp(E),optScrollEnv:R.some({currentScrollTop:E.element.dom.scrollTop,scrollElmTop:Vl(E.element).top})})),modes:[l.header.getDockingMode()],onDocked:v,onUndocked:v}),...w]};var cV=Object.freeze({__proto__:null,setup:(s,l,d)=>{s.inline||(l.header.isPositionedAtTop()||s.on("ResizeEditor",()=>{d().each(dr.reset)}),s.on("ResizeWindow ResizeEditor",()=>{d().each(uk)}),s.on("SkinLoaded",()=>{d().each(f=>{dr.isDocked(f)?dr.reset(f):dr.refresh(f)})}),s.on("FullscreenStateChanged",()=>{d().each(dr.reset)})),s.on("AfterScrollIntoView",f=>{d().each(b=>{dr.refresh(b);const v=b.element;qI(v)&&((w,k)=>{const E=li(k),P=su(k).dom.innerHeight,F=nr(E),L=fn(w.elm),H=El(L),Y=Ar(L),Q=H.y,fe=Q+Y,pe=Vl(k),Ee=Ar(k),ge=pe.top,me=ge+Ee,Ce=Math.abs(ge-F.top)<2,Ae=Math.abs(me-(F.top+P))<2;if(Ce&&Q<me)If(F.left,Q-Ee,E);else if(Ae&&fe>ge){const Ie=Q-P+Y+Ee;If(F.left,Ie,E)}})(f,v)})}),s.on("PostRender",()=>{q5(s,!1)})},isDocked:s=>s().map(dr.isDocked).getOr(!1),getBehaviours:Y5});const uV=qn([xi,Yi("items",Vm([td([iT,cl("items",ki)]),ki]))].concat(yg)),dV=[Mr("text"),Mr("tooltip"),Mr("icon"),Wa("search",!1,Vm([lc,qn([Mr("placeholder")])],s=>O(s)?s?R.some({placeholder:R.none()}):R.none():R.some(s))),Ua("fetch"),or("onSetup",()=>W)],X5=qn([xi,...dV]),J5=s=>wr("menubutton",X5,s),fV=qn([xi,aw,pd,eb,dT,S7,Qp,Dc("presets","normal",["normal","color","listpreview"]),wP(1),py,xP]);var _4=ku({factory:(s,l)=>{const d={focus:zn.focusIn,setMenus:(f,b)=>{const v=Me(b,w=>{const k={type:"menubutton",text:w.text,fetch:P=>{P(w.getItems())}},E=J5(k).mapError(P=>ll(P)).getOrDie();return Dy(E,"tox-mbtn",l.backstage,R.some("menuitem"))});Qn.set(f,v)}};return{uid:s.uid,dom:s.dom,components:[],behaviours:Xt([Qn.config({}),Oo("menubar-events",[ar(f=>{s.onSetup(f)}),Rt(Mn(),(f,b)=>{fr(f.element,".tox-mbtn--active").each(v=>{cd(b.event.target,".tox-mbtn").each(w=>{fs(v,w)||f.getSystem().getByDom(v).each(k=>{f.getSystem().getByDom(w).each(E=>{Pl.expand(E),Pl.close(k),io.focus(E)})})})})}),Rt(b1(),(f,b)=>{b.event.prevFocus.bind(v=>f.getSystem().getByDom(v).toOptional()).each(v=>{b.event.newFocus.bind(w=>f.getSystem().getByDom(w).toOptional()).each(w=>{Pl.isOpen(v)&&(Pl.expand(w),Pl.close(v))})})})]),zn.config({mode:"flow",selector:".tox-mbtn",onEscape:f=>(s.onEscape(f),R.some(!0))}),Gs.config({})]),apis:d,domModification:{attributes:{role:"menubar"}}}},name:"silver.Menubar",configFields:[Bt("dom"),Bt("uid"),Bt("onEscape"),Bt("backstage"),ut("onSetup",W)],apis:{focus:(s,l)=>{s.focus(l)},setMenus:(s,l,d)=>{s.setMenus(l,d)}}});const Q5="container",mV=[En("slotBehaviours",[])],S4=s=>"<alloy.field."+s+">",gV=(s,l)=>{const d=F=>EI(s),f=(F,L)=>(H,Y)=>Qs(H,s,Y).map(Q=>F(Q,Y)).getOr(L),b=(F,L)=>Zo(F.element,"aria-hidden")!=="true",v=f(b,!1),w=f((F,L)=>{if(b(F)){const H=F.element;yo(H,"display","none"),dn(H,"aria-hidden","true"),$n(F,pu(),{name:L,visible:!1})}}),k=(F=>(L,H)=>{mt(H,Y=>F(L,Y))})(w),E=f((F,L)=>{if(!b(F)){const H=F.element;ks(H,"display"),Po(H,"aria-hidden"),$n(F,pu(),{name:L,visible:!0})}}),P={getSlotNames:d,getSlot:(F,L)=>Qs(F,s,L),isShowing:v,hideSlot:w,hideAllSlots:F=>k(F,d()),showSlot:E};return{uid:s.uid,dom:s.dom,components:l,behaviours:no(s.slotBehaviours),apis:P}},hV=to({getSlotNames:(s,l)=>s.getSlotNames(l),getSlot:(s,l,d)=>s.getSlot(l,d),isShowing:(s,l,d)=>s.isShowing(l,d),hideSlot:(s,l,d)=>s.hideSlot(l,d),hideAllSlots:(s,l)=>s.hideAllSlots(l),showSlot:(s,l,d)=>s.showSlot(l,d)},s=>I1(s)),Nl={...hV,sketch:s=>{const l=(()=>{const v=[];return{slot:(w,k)=>(v.push(w),rA(Q5,S4(w),k)),record:j(v)}})(),d=s(l),f=l.record(),b=Me(f,v=>Dl({name:v,pname:S4(v)}));return x2(Q5,mV,b,gV,d)}},pV=qn([pd,aw,or("onShow",W),or("onHide",W),Qp]),bV=s=>({element:()=>s.element.dom}),dk=(s,l)=>{const d=Me(Kt(l),f=>{const b=l[f],v=Ha((w=>wr("sidebar",pV,w))(b));return{name:f,getApi:bV,onSetup:v.onSetup,onShow:v.onShow,onHide:v.onHide}});return Me(d,f=>{const b=Un(W);return s.slot(f.name,{dom:{tag:"div",classes:["tox-sidebar__pane"]},behaviours:cw([tb(f,b),Mh(f,b),Rt(pu(),(v,w)=>{const k=w.event;J(d,P=>P.name===k.name).each(P=>{(k.visible?P.onShow:P.onHide)(P.getApi(v))})})])})})},eL=s=>Nl.sketch(l=>({dom:{tag:"div",classes:["tox-sidebar__pane-container"]},components:dk(l,s),slotBehaviours:cw([ar(d=>Nl.hideAllSlots(d))])})),fk=(s,l)=>{dn(s,"role",l)},vV=s=>ls.getCurrent(s).bind(l=>ec.isGrowing(l)||ec.hasGrown(l)?ls.getCurrent(l).bind(d=>J(Nl.getSlotNames(d),f=>Nl.isShowing(d,f))):R.none()),k4=kn("FixSizeEvent"),E4=kn("AutoSizeEvent");var yV=Object.freeze({__proto__:null,block:(s,l,d,f)=>{dn(s.element,"aria-busy",!0);const b=l.getRoot(s).getOr(s),v=Xt([zn.config({mode:"special",onTab:()=>R.some(!0),onShiftTab:()=>R.some(!0)}),io.config({})]),w=f(b,v),k=b.getSystem().build(w);Qn.append(b,dl(k)),k.hasConfigured(zn)&&l.focus&&zn.focusIn(k),d.isBlocked()||l.onBlock(s),d.blockWith(()=>Qn.remove(b,k))},unblock:(s,l,d)=>{Po(s.element,"aria-busy"),d.isBlocked()&&l.onUnblock(s),d.clear()},isBlocked:(s,l,d)=>d.isBlocked()}),xV=[or("getRoot",R.none),ni("focus",!0),os("onBlock"),os("onUnblock")];const Sd=Mi({fields:xV,name:"blocking",apis:yV,state:Object.freeze({__proto__:null,init:()=>{const s=Oc(l=>l.destroy());return Li({readState:s.isSet,blockWith:l=>{s.set({destroy:l})},clear:s.clear,isBlocked:s.isSet})}})}),A4=s=>ls.getCurrent(s).each(l=>ja(l.element,!0)),tL=(s,l,d)=>{const f=Un(!1),b=Ts(),v=k=>{var E;f.get()&&(!(P=>P.type==="focusin")(E=k)||!(E.composed?Ne(E.composedPath()):R.from(E.target)).map(fn).filter(lr).exists(P=>ul(P,"mce-pastebin")))&&(k.preventDefault(),A4(l()),s.editorManager.setActive(s))};s.inline||s.on("PreInit",()=>{s.dom.bind(s.getWin(),"focusin",v),s.on("BeforeExecCommand",k=>{k.command.toLowerCase()==="mcefocus"&&k.value!==!0&&v(k)})});const w=k=>{k!==f.get()&&(f.set(k),((E,P,F,L)=>{const H=P.element;if(((Y,Q)=>{const fe="tabindex",pe=`data-mce-${fe}`;R.from(Y.iframeElement).map(fn).each(Ee=>{Q?(es(Ee,fe).each(ge=>dn(Ee,pe,ge)),dn(Ee,fe,-1)):(Po(Ee,fe),es(Ee,pe).each(ge=>{dn(Ee,fe,ge),Po(Ee,pe)}))})})(E,F),F)Sd.block(P,(Y=>(Q,fe)=>({dom:{tag:"div",attributes:{"aria-label":Y.translate("Loading..."),tabindex:"0"},classes:["tox-throbber__busy-spinner"]},components:[{dom:hg('<div class="tox-spinner"><div></div><div></div><div></div></div>')}]}))(L)),ks(H,"display"),Po(H,"aria-hidden"),E.hasFocus()&&A4(P);else{const Y=ls.getCurrent(P).exists(Q=>_h(Q.element));Sd.unblock(P),yo(H,"display","none"),dn(H,"aria-hidden","true"),Y&&E.focus()}})(s,l(),k,d.providers),((E,P)=>{E.dispatch("AfterProgressState",{state:P})})(s,k))};s.on("ProgressState",k=>{if(b.on(clearTimeout),ee(k.time)){const E=I_.setEditorTimeout(s,()=>w(k.state),k.time);b.set(E)}else w(k.state),b.clear()})},T4=(s,l,d)=>({within:s,extra:l,withinWidth:d}),O4=(s,l,d)=>{const f=on(s,(w,k)=>((E,P)=>{const F=d(E);return R.some({element:E,start:P,finish:P+F,width:F})})(k,w.len).fold(j(w),E=>({len:E.finish,list:w.list.concat([E])})),{len:0,list:[]}).list,b=Wt(f,w=>w.finish<=l),v=In(b,(w,k)=>w+k.width,0);return{within:b,extra:f.slice(b.length),withinWidth:v}},mk=s=>Me(s,l=>l.element),nL=(s,l)=>{const d=Me(l,f=>dl(f));gf.setGroups(s,d)},oL=(s,l,d)=>{const f=l.builtGroups.get();if(f.length===0)return;const b=Rh(s,l,"primary"),v=Fr.getCoupled(s,"overflowGroup");yo(b.element,"visibility","hidden");const w=f.concat([v]),k=ln(w,P=>Zr(P.element).bind(F=>P.getSystem().getByDom(F).toOptional()));d([]),nL(b,w);const E=((P,F,L,H)=>{const Y=((Ee,ge,me)=>{const Ce=O4(ge,Ee,me);return Ce.extra.length===0?R.some(Ce):R.none()})(P,F,L).getOrThunk(()=>O4(F,P-L(H),L)),Q=Y.within,fe=Y.extra,pe=Y.withinWidth;return fe.length===1&&fe[0].width<=L(H)?((Ee,ge,me)=>{const Ce=mk(Ee.concat(ge));return T4(Ce,[],me)})(Q,fe,pe):fe.length>=1?((Ee,ge,me,Ce)=>{const Ae=mk(Ee).concat([me]);return T4(Ae,mk(ge),Ce)})(Q,fe,H,pe):((Ee,ge,me)=>T4(mk(Ee),[],me))(Q,0,pe)})(Di(b.element),l.builtGroups.get(),P=>Math.ceil(P.element.dom.getBoundingClientRect().width),v);E.extra.length===0?(Qn.remove(b,v),d([])):(nL(b,E.within),d(E.extra)),ks(b.element,"visibility"),$d(b.element),k.each(io.focus)},sL=j([En("splitToolbarBehaviours",[Fr]),qi("builtGroups",()=>Un([]))]),wV=j([gh(["overflowToggledClass"]),mu("getOverflowBounds"),Bt("lazySink"),qi("overflowGroups",()=>Un([])),os("onOpened"),os("onClosed")].concat(sL())),CV=j([Dl({factory:gf,schema:x0(),name:"primary"}),rf({schema:x0(),name:"overflow"}),rf({name:"overflow-button"}),rf({name:"overflow-group"})]),R4=j((s,l)=>{((d,f)=>{const b=Xg.max(d,f,["margin-left","border-left-width","padding-left","padding-right","border-right-width","margin-right"]);yo(d,"max-width",b+"px")})(s,Math.floor(l))}),_V=j([gh(["toggledClass"]),Bt("lazySink"),Ua("fetch"),mu("getBounds"),Tr("fireDismissalEventInstead",[ut("event",ah())]),Gf(),os("onToggled")]),SV=j([rf({name:"button",overrides:s=>({dom:{attributes:{"aria-haspopup":"true"}},buttonBehaviours:Xt([so.config({toggleClass:s.markers.toggledClass,aria:{mode:"expanded"},toggleOnExecute:!1,onToggled:s.onToggled})])})}),rf({factory:gf,schema:x0(),name:"toolbar",overrides:s=>({toolbarBehaviours:Xt([zn.config({mode:"cyclic",onEscape:l=>(Qs(l,s,"button").each(io.focus),R.none())})])})})]),gk=Ts(),My=(s,l)=>{const d=Fr.getCoupled(s,"toolbarSandbox");T.isOpen(d)?T.close(d):T.open(d,l.toolbar())},Bw=(s,l,d,f)=>{const b=d.getBounds.map(w=>w()),v=d.lazySink(s).getOrDie();xa.positionWithinBounds(v,l,{anchor:{type:"hotspot",hotspot:s,layouts:f,overrides:{maxWidthFunction:R4()}}},b)},hk=(s,l,d,f,b)=>{gf.setGroups(l,b),Bw(s,l,d,f),so.on(s)},Wh=Ul({name:"FloatingToolbarButton",factory:(s,l,d,f)=>({...qa.sketch({...f.button(),action:b=>{My(b,f)},buttonBehaviours:oo({dump:f.button().buttonBehaviours},[Fr.config({others:{toolbarSandbox:b=>((v,w,k)=>{const E=vh();return{dom:{tag:"div",attributes:{id:E.id}},behaviours:Xt([zn.config({mode:"special",onEscape:P=>(T.close(P),R.some(!0))}),T.config({onOpen:(P,F)=>{const L=gk.get().getOr(!1);k.fetch().get(H=>{hk(v,F,k,w.layouts,H),E.link(v.element),L||zn.focusIn(F)})},onClose:()=>{so.off(v),gk.get().getOr(!1)||io.focus(v),E.unlink(v.element)},isPartOf:(P,F,L)=>Ol(F,L)||Ol(v,L),getAttachPoint:()=>k.lazySink(v).getOrDie()}),Rl.config({channels:{...le({isExtraPart:we,...k.fireDismissalEventInstead.map(P=>({fireEventInstead:{event:P.event}})).getOr({})}),...$e({doReposition:()=>{T.getState(Fr.getCoupled(v,"toolbarSandbox")).each(P=>{Bw(v,P,k,w.layouts)})}})}})])}})(b,d,s)}})])}),apis:{setGroups:(b,v)=>{T.getState(Fr.getCoupled(b,"toolbarSandbox")).each(w=>{hk(b,w,s,d.layouts,v)})},reposition:b=>{T.getState(Fr.getCoupled(b,"toolbarSandbox")).each(v=>{Bw(b,v,s,d.layouts)})},toggle:b=>{My(b,f)},toggleWithoutFocusing:b=>{((v,w)=>{gk.set(!0),My(v,w),gk.clear()})(b,f)},getToolbar:b=>T.getState(Fr.getCoupled(b,"toolbarSandbox")),isOpen:b=>T.isOpen(Fr.getCoupled(b,"toolbarSandbox"))}}),configFields:_V(),partFields:SV(),apis:{setGroups:(s,l,d)=>{s.setGroups(l,d)},reposition:(s,l)=>{s.reposition(l)},toggle:(s,l)=>{s.toggle(l)},toggleWithoutFocusing:(s,l)=>{s.toggleWithoutFocusing(l)},getToolbar:(s,l)=>s.getToolbar(l),isOpen:(s,l)=>s.isOpen(l)}}),kV=j([Bt("items"),gh(["itemSelector"]),En("tgroupBehaviours",[zn])]),EV=j([p_({name:"items",unit:"item"})]),By=Ul({name:"ToolbarGroup",configFields:kV(),partFields:EV(),factory:(s,l,d,f)=>({uid:s.uid,dom:s.dom,components:l,behaviours:To(s.tgroupBehaviours,[zn.config({mode:"flow",selector:s.markers.itemSelector})]),domModification:{attributes:{role:"toolbar"}}})}),pk=s=>Me(s,l=>dl(l)),Fw=(s,l,d)=>{oL(s,d,f=>{d.overflowGroups.set(f),l.getOpt(s).each(b=>{Wh.setGroups(b,pk(f))})})},I4=Ul({name:"SplitFloatingToolbar",configFields:wV(),partFields:CV(),factory:(s,l,d,f)=>{const b=Ss(Wh.sketch({fetch:()=>nb(v=>{v(pk(s.overflowGroups.get()))}),layouts:{onLtr:()=>[Dr,Ir],onRtl:()=>[Ir,Dr],onBottomLtr:()=>[Fs,oi],onBottomRtl:()=>[oi,Fs]},getBounds:d.getOverflowBounds,lazySink:s.lazySink,fireDismissalEventInstead:{},markers:{toggledClass:s.markers.overflowToggledClass},parts:{button:f["overflow-button"](),toolbar:f.overflow()},onToggled:(v,w)=>s[w?"onOpened":"onClosed"](v)}));return{uid:s.uid,dom:s.dom,components:l,behaviours:To(s.splitToolbarBehaviours,[Fr.config({others:{overflowGroup:()=>By.sketch({...f["overflow-group"](),items:[b.asSpec()]})}})]),apis:{setGroups:(v,w)=>{s.builtGroups.set(Me(w,v.getSystem().build)),Fw(v,b,s)},refresh:v=>Fw(v,b,s),toggle:v=>{b.getOpt(v).each(w=>{Wh.toggle(w)})},toggleWithoutFocusing:v=>{b.getOpt(v).each(Wh.toggleWithoutFocusing)},isOpen:v=>b.getOpt(v).map(Wh.isOpen).getOr(!1),reposition:v=>{b.getOpt(v).each(w=>{Wh.reposition(w)})},getOverflow:v=>b.getOpt(v).bind(Wh.getToolbar)},domModification:{attributes:{role:"group"}}}},apis:{setGroups:(s,l,d)=>{s.setGroups(l,d)},refresh:(s,l)=>{s.refresh(l)},reposition:(s,l)=>{s.reposition(l)},toggle:(s,l)=>{s.toggle(l)},toggleWithoutFocusing:(s,l)=>{s.toggle(l)},isOpen:(s,l)=>s.isOpen(l),getOverflow:(s,l)=>s.getOverflow(l)}}),AV=j([gh(["closedClass","openClass","shrinkingClass","growingClass","overflowToggledClass"]),os("onOpened"),os("onClosed")].concat(sL())),TV=j([Dl({factory:gf,schema:x0(),name:"primary"}),Dl({factory:gf,schema:x0(),name:"overflow",overrides:s=>({toolbarBehaviours:Xt([ec.config({dimension:{property:"height"},closedClass:s.markers.closedClass,openClass:s.markers.openClass,shrinkingClass:s.markers.shrinkingClass,growingClass:s.markers.growingClass,onShrunk:l=>{Qs(l,s,"overflow-button").each(d=>{so.off(d)}),s.onClosed(l)},onGrown:l=>{s.onOpened(l)},onStartGrow:l=>{Qs(l,s,"overflow-button").each(so.on)}}),zn.config({mode:"acyclic",onEscape:l=>(Qs(l,s,"overflow-button").each(io.focus),R.some(!0))})])})}),rf({name:"overflow-button",overrides:s=>({buttonBehaviours:Xt([so.config({toggleClass:s.markers.overflowToggledClass,aria:{mode:"expanded"},toggleOnExecute:!1})])})}),rf({name:"overflow-group"})]),D4=(s,l,d)=>{Qs(s,l,"overflow-button").each(f=>{Qs(s,l,"overflow").each(b=>{if(P4(s,l),ec.hasShrunk(b)){const v=l.onOpened;l.onOpened=w=>{d||zn.focusIn(b),v(w),l.onOpened=v}}else{const v=l.onClosed;l.onClosed=w=>{d||io.focus(f),v(w),l.onClosed=v}}ec.toggleGrow(b)})})},P4=(s,l)=>{Qs(s,l,"overflow").each(d=>{oL(s,l,f=>{const b=Me(f,v=>dl(v));gf.setGroups(d,b)}),Qs(s,l,"overflow-button").each(f=>{ec.hasGrown(d)&&so.on(f)}),ec.refresh(d)})},N4=Ul({name:"SplitSlidingToolbar",configFields:AV(),partFields:TV(),factory:(s,l,d,f)=>{const b="alloy.toolbar.toggle";return{uid:s.uid,dom:s.dom,components:l,behaviours:To(s.splitToolbarBehaviours,[Fr.config({others:{overflowGroup:v=>By.sketch({...f["overflow-group"](),items:[qa.sketch({...f["overflow-button"](),action:w=>{No(v,b)}})]})}}),Oo("toolbar-toggle-events",[Rt(b,v=>{D4(v,s,!1)})])]),apis:{setGroups:(v,w)=>{((k,E)=>{const P=Me(E,k.getSystem().build);s.builtGroups.set(P)})(v,w),P4(v,s)},refresh:v=>P4(v,s),toggle:v=>{D4(v,s,!1)},toggleWithoutFocusing:v=>{D4(v,s,!0)},isOpen:v=>((w,k)=>Qs(w,k,"overflow").map(ec.hasGrown).getOr(!1))(v,s)},domModification:{attributes:{role:"group"}}}},apis:{setGroups:(s,l,d)=>{s.setGroups(l,d)},refresh:(s,l)=>{s.refresh(l)},toggle:(s,l)=>{s.toggle(l)},isOpen:(s,l)=>s.isOpen(l)}}),rL=s=>{const l=s.title.fold(()=>({}),d=>({attributes:{title:d}}));return{dom:{tag:"div",classes:["tox-toolbar__group"],...l},components:[By.parts.items({})],items:s.items,markers:{itemSelector:"*:not(.tox-split-button) > .tox-tbtn:not([disabled]), .tox-split-button:not([disabled]), .tox-toolbar-nav-js:not([disabled]), .tox-number-input:not([disabled])"},tgroupBehaviours:Xt([Gs.config({}),io.config({})])}},bk=s=>By.sketch(rL(s)),iL=(s,l)=>{const d=ar(f=>{const b=Me(s.initGroups,bk);gf.setGroups(f,b)});return Xt([aS(s.providers.isDisabled),Bi(),zn.config({mode:l,onEscape:s.onEscape,selector:".tox-toolbar__group"}),Oo("toolbar-events",[d])])},aL=s=>{const l=s.cyclicKeying?"cyclic":"acyclic";return{uid:s.uid,dom:{tag:"div",classes:["tox-toolbar-overlord"]},parts:{"overflow-group":rL({title:R.none(),items:[]}),"overflow-button":x5({icon:R.some("more-drawer"),enabled:!0,tooltip:R.some("Reveal or hide additional toolbar items")},R.none(),s.providers,[],"overflow-button")},splitToolbarBehaviours:iL(s,l)}},OV=s=>{const l=aL(s),d=I4.parts.primary({dom:{tag:"div",classes:["tox-toolbar__primary"]}});return I4.sketch({...l,lazySink:s.getSink,getOverflowBounds:()=>{const f=s.moreDrawerData.lazyHeader().element,b=El(f),v=sl(f),w=El(v),k=Math.max(v.dom.scrollHeight,w.height);return Mo(b.x+4,w.y,b.width-8,k)},parts:{...l.parts,overflow:{dom:{tag:"div",classes:["tox-toolbar__overflow"],attributes:s.attributes}}},components:[d],markers:{overflowToggledClass:"tox-tbtn--enabled"},onOpened:f=>s.onToggled(f,!0),onClosed:f=>s.onToggled(f,!1)})},RV=s=>{const l=N4.parts.primary({dom:{tag:"div",classes:["tox-toolbar__primary"]}}),d=N4.parts.overflow({dom:{tag:"div",classes:["tox-toolbar__overflow"]}}),f=aL(s);return N4.sketch({...f,components:[l,d],markers:{openClass:"tox-toolbar__overflow--open",closedClass:"tox-toolbar__overflow--closed",growingClass:"tox-toolbar__overflow--growing",shrinkingClass:"tox-toolbar__overflow--shrinking",overflowToggledClass:"tox-tbtn--enabled"},onOpened:b=>{b.getSystem().broadcastOn([ck()],{type:"opened"}),s.onToggled(b,!0)},onClosed:b=>{b.getSystem().broadcastOn([ck()],{type:"closed"}),s.onToggled(b,!1)}})},L4=s=>{const l=s.cyclicKeying?"cyclic":"acyclic";return gf.sketch({uid:s.uid,dom:{tag:"div",classes:["tox-toolbar"].concat(s.type===md.scrolling?["tox-toolbar--scrolling"]:[])},components:[gf.parts.groups({})],toolbarBehaviours:iL(s,l)})},lL=[eb,pd,Mr("tooltip"),Dc("buttonType","secondary",["primary","secondary"]),ni("borderless",!1),Ua("onAction")],M4={button:[...lL,hd,sd("type",["button"])],togglebutton:[...lL,ni("active",!1),sd("type",["togglebutton"])]},IV=[sd("type",["group"]),Ps("buttons",[],bi("type",M4))],DV=bi("type",{...M4,group:IV}),Og=qn([Ps("buttons",[],DV),Ua("onShow"),Ua("onHide")]),cL=(s,l)=>((d,f)=>{var b,v;const w=d.type==="togglebutton",k=d.icon.map(ge=>db(ge,f.icons)).map(Ss),E={...d,name:w?d.text.getOr(d.icon.getOr("")):(b=d.text)!==null&&b!==void 0?b:d.icon.getOr(""),primary:d.buttonType==="primary",buttonType:R.from(d.buttonType),tooltip:d.tooltip,icon:d.icon,enabled:!0,borderless:d.borderless},P=X3((v=d.buttonType)!==null&&v!==void 0?v:"secondary"),F=w?d.text.map(f.translate):R.some(f.translate(d.text)),L=F.map(Br),H=E.tooltip.or(F).map(ge=>({"aria-label":f.translate(ge)})).getOr({}),Y=k.map(ge=>ge.asSpec()),Q=yy([Y,L]),fe=d.icon.isSome()&&L.isSome(),pe={tag:"button",classes:P.concat(...d.icon.isSome()&&!fe?["tox-button--icon"]:[]).concat(...fe?["tox-button--icon-and-text"]:[]).concat(...d.borderless?["tox-button--naked"]:[]).concat(...d.type==="togglebutton"&&d.active?["tox-button--enabled"]:[]),attributes:H},Ee=Iw(E,R.some(ge=>{const me=Ce=>{k.map(Ae=>Ae.getOpt(ge).each(Ie=>{Qn.set(Ie,[db(Ce,f.icons)])}))};return w?d.onAction({setIcon:me,setActive:Ce=>{const Ae=ge.element;Ce?(Sr(Ae,"tox-button--enabled"),dn(Ae,"aria-pressed",!0)):(Rr(Ae,"tox-button--enabled"),Po(Ae,"aria-pressed"))},isActive:()=>ul(ge.element,"tox-button--enabled")}):d.type==="button"?d.onAction({setIcon:me}):void 0}),[],pe,Q,d.tooltip,f);return qa.sketch(Ee)})(s,l),uL=da().deviceType,B4=uL.isPhone(),_a=uL.isTablet();var Fy=Ul({name:"silver.View",configFields:[Bt("viewConfig")],partFields:[Su({factory:{sketch:s=>{let l=!1;const d=Me(s.buttons,f=>f.type==="group"?(l=!0,((b,v)=>({dom:{tag:"div",classes:["tox-view__toolbar__group"]},components:Me(b.buttons,w=>cL(w,v))}))(f,s.providers)):cL(f,s.providers));return{uid:s.uid,dom:{tag:"div",classes:[l?"tox-view__toolbar":"tox-view__header",...B4||_a?["tox-view--mobile","tox-view--scrolling"]:[]]},behaviours:Xt([io.config({}),zn.config({mode:"flow",selector:"button, .tox-button",focusInside:Wv.OnEnterOrSpaceMode})]),components:l?d:[uf.sketch({dom:{tag:"div",classes:["tox-view__header-start"]},components:[]}),uf.sketch({dom:{tag:"div",classes:["tox-view__header-end"]},components:d})]}}},schema:[Bt("buttons"),Bt("providers")],name:"header"}),Su({factory:{sketch:s=>({uid:s.uid,behaviours:Xt([io.config({}),Gs.config({})]),dom:{tag:"div",classes:["tox-view__pane"]}})},schema:[],name:"pane"})],factory:(s,l,d,f)=>{const b={getPane:v=>Ca.getPart(v,s,"pane"),getOnShow:v=>s.viewConfig.onShow,getOnHide:v=>s.viewConfig.onHide};return{uid:s.uid,dom:s.dom,components:l,behaviours:Xt([io.config({}),zn.config({mode:"cyclic",focusInside:Wv.OnEnterOrSpaceMode})]),apis:b}},apis:{getPane:(s,l)=>s.getPane(l),getOnShow:(s,l)=>s.getOnShow(l),getOnHide:(s,l)=>s.getOnHide(l)}});const PV=(s,l,d)=>Qr(l,(f,b)=>{const v=Ha(wr("view",Og,f));return s.slot(b,Fy.sketch({dom:{tag:"div",classes:["tox-view"]},viewConfig:v,components:[...v.buttons.length>0?[Fy.parts.header({buttons:v.buttons,providers:d})]:[],Fy.parts.pane({})]}))}),NV=(s,l)=>Nl.sketch(d=>({dom:{tag:"div",classes:["tox-view-wrap__slot-container"]},components:PV(d,s,l),slotBehaviours:cw([ar(f=>Nl.hideAllSlots(f))])})),dL=s=>J(Nl.getSlotNames(s),l=>Nl.isShowing(s,l)),fL=(s,l,d)=>{Nl.getSlot(s,l).each(f=>{Fy.getPane(f).each(b=>{var v;d(f)((v=b.element.dom,{getContainer:j(v)}))})})};var vk=ku({factory:(s,l)=>{const d={setViews:(f,b)=>{Qn.set(f,[NV(b,l.backstage.shared.providers)])},whichView:f=>ls.getCurrent(f).bind(dL),toggleView:(f,b,v,w)=>ls.getCurrent(f).exists(k=>{const E=dL(k),P=E.exists(L=>w===L),F=Nl.getSlot(k,w).isSome();return F&&(Nl.hideAllSlots(k),P?((L=>{const H=L.element;yo(H,"display","none"),dn(H,"aria-hidden","true")})(f),b()):(v(),(L=>{const H=L.element;ks(H,"display"),Po(H,"aria-hidden")})(f),Nl.showSlot(k,w),((L,H)=>{fL(L,H,Fy.getOnShow)})(k,w)),E.each(L=>((H,Y)=>fL(H,Y,Fy.getOnHide))(k,L))),F})};return{uid:s.uid,dom:{tag:"div",classes:["tox-view-wrap"],attributes:{"aria-hidden":"true"},styles:{display:"none"}},components:[],behaviours:Xt([Qn.config({}),ls.config({find:f=>{const b=Qn.contents(f);return Ne(b)}})]),apis:d}},name:"silver.ViewWrapper",configFields:[Bt("backstage")],apis:{setViews:(s,l,d)=>s.setViews(l,d),toggleView:(s,l,d,f,b)=>s.toggleView(l,d,f,b),whichView:(s,l)=>s.whichView(l)}});const LV=Ag.optional({factory:_4,name:"menubar",schema:[Bt("backstage")]}),MV=Ag.optional({factory:{sketch:s=>v4.sketch({uid:s.uid,dom:s.dom,listBehaviours:Xt([zn.config({mode:"acyclic",selector:".tox-toolbar"})]),makeItem:()=>L4({type:s.type,uid:kn("multiple-toolbar-item"),cyclicKeying:!1,initGroups:[],providers:s.providers,onEscape:()=>(s.onEscape(),R.some(!0))}),setupItem:(l,d,f,b)=>{gf.setGroups(d,f)},shell:!0})},name:"multiple-toolbar",schema:[Bt("dom"),Bt("onEscape")]}),BV=Ag.optional({factory:{sketch:s=>(d=>d.type===md.sliding?RV:d.type===md.floating?OV:L4)(s)({type:s.type,uid:s.uid,onEscape:()=>(s.onEscape(),R.some(!0)),onToggled:(d,f)=>s.onToolbarToggled(f),cyclicKeying:!1,initGroups:[],getSink:s.getSink,providers:s.providers,moreDrawerData:{lazyToolbar:s.lazyToolbar,lazyMoreButton:s.lazyMoreButton,lazyHeader:s.lazyHeader},attributes:s.attributes})},name:"toolbar",schema:[Bt("dom"),Bt("onEscape"),Bt("getSink")]}),FV=Ag.optional({factory:{sketch:s=>{const l=s.editor,d=s.sticky?Y5:lk;return{uid:s.uid,dom:s.dom,components:s.components,behaviours:Xt(d(l,s.sharedBackstage))}}},name:"header",schema:[Bt("dom")]}),$V=Ag.optional({factory:{sketch:s=>({uid:s.uid,dom:s.dom,components:[{dom:{tag:"a",attributes:{href:"https://www.tiny.cloud/tinymce-self-hosted-premium-features/?utm_campaign=self_hosted_upgrade_promo&utm_source=tiny&utm_medium=referral",rel:"noopener",target:"_blank","aria-hidden":"true"},classes:["tox-promotion-link"],innerHtml:"Upgrade"}}]})},name:"promotion",schema:[Bt("dom")]}),VV=Ag.optional({name:"socket",schema:[Bt("dom")]}),zV=Ag.optional({factory:{sketch:s=>({uid:s.uid,dom:{tag:"div",classes:["tox-sidebar"],attributes:{role:"presentation"}},components:[{dom:{tag:"div",classes:["tox-sidebar__slider"]},components:[],behaviours:Xt([Gs.config({}),io.config({}),ec.config({dimension:{property:"width"},closedClass:"tox-sidebar--sliding-closed",openClass:"tox-sidebar--sliding-open",shrinkingClass:"tox-sidebar--sliding-shrinking",growingClass:"tox-sidebar--sliding-growing",onShrunk:l=>{ls.getCurrent(l).each(Nl.hideAllSlots),No(l,E4)},onGrown:l=>{No(l,E4)},onStartGrow:l=>{$n(l,k4,{width:ti(l.element,"width").getOr("")})},onStartShrink:l=>{$n(l,k4,{width:Di(l.element)+"px"})}}),Qn.config({}),ls.config({find:l=>{const d=Qn.contents(l);return Ne(d)}})])}],behaviours:Xt([x3(0),Oo("sidebar-sliding-events",[Rt(k4,(l,d)=>{yo(l.element,"width",d.event.width)}),Rt(E4,(l,d)=>{ks(l.element,"width")})])])})},name:"sidebar",schema:[Bt("dom")]}),HV=Ag.optional({factory:{sketch:s=>({uid:s.uid,dom:{tag:"div",attributes:{"aria-hidden":"true"},classes:["tox-throbber"],styles:{display:"none"}},behaviours:Xt([Qn.config({}),Sd.config({focus:!1}),ls.config({find:l=>Ne(l.components())})]),components:[]})},name:"throbber",schema:[Bt("dom")]}),UV=Ag.optional({factory:vk,name:"viewWrapper",schema:[Bt("backstage")]}),WV=Ag.optional({factory:{sketch:s=>({uid:s.uid,dom:{tag:"div",classes:["tox-editor-container"]},components:s.components})},name:"editorContainer",schema:[]});var sr=Ul({name:"OuterContainer",factory:(s,l,d)=>{let f=!1;const b=w=>{Js(w,".tox-statusbar").each(k=>{Er(k,"display")==="none"&&Zo(k,"aria-hidden")==="true"?(ks(k,"display"),Po(k,"aria-hidden")):(yo(k,"display","none"),dn(k,"aria-hidden","true"))})},v={getSocket:w=>Ca.getPart(w,s,"socket"),setSidebar:(w,k,E)=>{Ca.getPart(w,s,"sidebar").each(P=>((F,L,H)=>{ls.getCurrent(F).each(Y=>{Qn.set(Y,[eL(L)]);const Q=H==null?void 0:H.toLowerCase();h(Q)&&go(L,Q)&&ls.getCurrent(Y).each(fe=>{Nl.showSlot(fe,Q),ec.immediateGrow(Y),ks(Y.element,"width"),fk(F.element,"region")})})})(P,k,E))},toggleSidebar:(w,k)=>{Ca.getPart(w,s,"sidebar").each(E=>((P,F)=>{ls.getCurrent(P).each(L=>{ls.getCurrent(L).each(H=>{ec.hasGrown(L)?Nl.isShowing(H,F)?(ec.shrink(L),fk(P.element,"presentation")):(Nl.hideAllSlots(H),Nl.showSlot(H,F),fk(P.element,"region")):(Nl.hideAllSlots(H),Nl.showSlot(H,F),ec.grow(L),fk(P.element,"region"))})})})(E,k))},whichSidebar:w=>Ca.getPart(w,s,"sidebar").bind(vV).getOrNull(),getHeader:w=>Ca.getPart(w,s,"header"),getToolbar:w=>Ca.getPart(w,s,"toolbar"),setToolbar:(w,k)=>{Ca.getPart(w,s,"toolbar").each(E=>{const P=Me(k,bk);E.getApis().setGroups(E,P)})},setToolbars:(w,k)=>{Ca.getPart(w,s,"multiple-toolbar").each(E=>{const P=Me(k,F=>Me(F,bk));v4.setItems(E,P)})},refreshToolbar:w=>{Ca.getPart(w,s,"toolbar").each(k=>k.getApis().refresh(k))},toggleToolbarDrawer:w=>{Ca.getPart(w,s,"toolbar").each(k=>{pi(k.getApis().toggle,E=>E(k))})},toggleToolbarDrawerWithoutFocusing:w=>{Ca.getPart(w,s,"toolbar").each(k=>{pi(k.getApis().toggleWithoutFocusing,E=>E(k))})},isToolbarDrawerToggled:w=>Ca.getPart(w,s,"toolbar").bind(k=>R.from(k.getApis().isOpen).map(E=>E(k))).getOr(!1),getThrobber:w=>Ca.getPart(w,s,"throbber"),focusToolbar:w=>{Ca.getPart(w,s,"toolbar").orThunk(()=>Ca.getPart(w,s,"multiple-toolbar")).each(k=>{zn.focusIn(k)})},setMenubar:(w,k)=>{Ca.getPart(w,s,"menubar").each(E=>{_4.setMenus(E,k)})},focusMenubar:w=>{Ca.getPart(w,s,"menubar").each(k=>{_4.focus(k)})},setViews:(w,k)=>{Ca.getPart(w,s,"viewWrapper").each(E=>{vk.setViews(E,k)})},toggleView:(w,k)=>Ca.getPart(w,s,"viewWrapper").exists(E=>vk.toggleView(E,()=>v.showMainView(w),()=>v.hideMainView(w),k)),whichView:w=>Ca.getPart(w,s,"viewWrapper").bind(vk.whichView).getOrNull(),hideMainView:w=>{f=v.isToolbarDrawerToggled(w),f&&v.toggleToolbarDrawer(w),Ca.getPart(w,s,"editorContainer").each(k=>{const E=k.element;b(E),yo(E,"display","none"),dn(E,"aria-hidden","true")})},showMainView:w=>{f&&v.toggleToolbarDrawer(w),Ca.getPart(w,s,"editorContainer").each(k=>{const E=k.element;b(E),ks(E,"display"),Po(E,"aria-hidden")})}};return{uid:s.uid,dom:s.dom,components:l,apis:v,behaviours:s.behaviours}},configFields:[Bt("dom"),Bt("behaviours")],partFields:[FV,LV,BV,MV,VV,zV,$V,HV,UV,WV],apis:{getSocket:(s,l)=>s.getSocket(l),setSidebar:(s,l,d,f)=>{s.setSidebar(l,d,f)},toggleSidebar:(s,l,d)=>{s.toggleSidebar(l,d)},whichSidebar:(s,l)=>s.whichSidebar(l),getHeader:(s,l)=>s.getHeader(l),getToolbar:(s,l)=>s.getToolbar(l),setToolbar:(s,l,d)=>{s.setToolbar(l,d)},setToolbars:(s,l,d)=>{s.setToolbars(l,d)},refreshToolbar:(s,l)=>s.refreshToolbar(l),toggleToolbarDrawer:(s,l)=>{s.toggleToolbarDrawer(l)},toggleToolbarDrawerWithoutFocusing:(s,l)=>{s.toggleToolbarDrawerWithoutFocusing(l)},isToolbarDrawerToggled:(s,l)=>s.isToolbarDrawerToggled(l),getThrobber:(s,l)=>s.getThrobber(l),setMenubar:(s,l,d)=>{s.setMenubar(l,d)},focusMenubar:(s,l)=>{s.focusMenubar(l)},focusToolbar:(s,l)=>{s.focusToolbar(l)},setViews:(s,l,d)=>{s.setViews(l,d)},toggleView:(s,l,d)=>s.toggleView(l,d),whichView:(s,l)=>s.whichView(l)}});const mL={file:{title:"File",items:"newdocument restoredraft | preview | importword exportpdf exportword | export print | deleteallconversations"},edit:{title:"Edit",items:"undo redo | cut copy paste pastetext | selectall | searchreplace"},view:{title:"View",items:"code revisionhistory | visualaid visualchars visualblocks | spellchecker | preview fullscreen | showcomments"},insert:{title:"Insert",items:"image link media addcomment pageembed inserttemplate codesample inserttable accordion math | charmap emoticons hr | pagebreak nonbreaking anchor tableofcontents footnotes | mergetags | insertdatetime"},format:{title:"Format",items:"bold italic underline strikethrough superscript subscript codeformat | styles blocks fontfamily fontsize align lineheight | forecolor backcolor | language | removeformat"},tools:{title:"Tools",items:"aidialog aishortcuts | spellchecker spellcheckerlanguage | autocorrect capitalization | a11ycheck code typography wordcount addtemplate"},table:{title:"Table",items:"inserttable | cell row column | advtablesort | tableprops deletetable"},help:{title:"Help",items:"help"}},F4=s=>s.split(" "),gL=(s,l)=>{const d={...mL,...l.menus},f=Kt(l.menus).length>0,b=l.menubar===void 0||l.menubar===!0?F4("file edit view insert format tools table help"):F4(l.menubar===!1?"":l.menubar),v=Wt(b,k=>{const E=go(mL,k);return f?E||Tn(l.menus,k).exists(P=>go(P,"items")):E}),w=Me(v,k=>{const E=d[k];return((P,F,L)=>{const H=DD(L).split(/[ ,]/);return{text:P.title,getItems:()=>vn(P.items,Y=>{const Q=Y.toLowerCase();return Q.trim().length===0||An(H,fe=>fe===Q)?[]:Q==="separator"||Q==="|"?[{type:"separator"}]:F.menuItems[Q]?[F.menuItems[Q]]:[]})}})({title:E.title,items:F4(E.items)},l,s)});return Wt(w,k=>k.getItems().length>0&&An(k.getItems(),E=>h(E)||E.type!=="separator"))},hL=(s,l,d)=>(s.on("remove",()=>d.unload(l)),d.load(l)),$4=(s,l,d,f)=>(s.on("remove",()=>f.unloadRawCss(l)),f.loadRawCss(l,d)),KV=async(s,l)=>{const d="ui/"+V_(s).getOr("default")+"/skin.css",f=tinymce.Resource.get(d);if(!h(f)){const b=s.editorManager.suffix;return hL(s,l+`/skin${b}.css`,s.ui.styleSheetLoader)}$4(s,d,f,s.ui.styleSheetLoader)},jV=async(s,l)=>{var d;if(d=fn(s.getElement()),Yt(d).isSome()){const f="ui/"+V_(s).getOr("default")+"/skin.shadowdom.css",b=tinymce.Resource.get(f);if(!h(b)){const v=s.editorManager.suffix;return hL(s,l+`/skin.shadowdom${v}.css`,uy.DOM.styleSheetLoader)}$4(s,f,b,uy.DOM.styleSheetLoader)}},pL=(s,l)=>(async(d,f)=>{const b=()=>{const w=$_(f),k=f.editorManager.suffix;w&&f.contentCSS.push(w+(d?"/content.inline":"/content")+`${k}.css`)};V_(f).fold(b,w=>{const k="ui/"+w+(d?"/content.inline":"/content")+".css",E=tinymce.Resource.get(k);h(E)?$4(f,k,E,f.ui.styleSheetLoader):b()});const v=$_(f);if(!jp(f)&&h(v))return Promise.all([KV(f,v),jV(f,v)]).then()})(s,l).then((d=>{const f=()=>{d._skinLoaded=!0,(b=>{b.dispatch("SkinLoaded")})(d)};return()=>{d.initialized?f():d.on("init",f)}})(l),((d,f)=>()=>((b,v)=>{b.dispatch("SkinLoadError",v)})(d,{message:"Skin could not be loaded"}))(l)),bL=ze(pL,!1),ZV=ze(pL,!0),w0=(s,l,d)=>Zu(d)?s.translate(l):s.translate([l,s.translate(d)]),GV=(s,l)=>{const d=(v,w,k,E)=>{const P=s.shared.providers.translate(v.title);if(v.type==="separator")return R.some({type:"separator",text:P});if(v.type==="submenu"){const F=vn(v.getStyleItems(),L=>f(L,w,E));return w===0&&F.length<=0?R.none():R.some({type:"nestedmenuitem",text:P,enabled:F.length>0,getSubmenuItems:()=>vn(v.getStyleItems(),L=>f(L,w,E))})}return R.some({type:"togglemenuitem",text:P,icon:v.icon,active:v.isSelected(E),enabled:!k,onAction:l.onAction(v),...v.getStylePreview().fold(()=>({}),F=>({meta:{style:F}}))})},f=(v,w,k)=>{const E=v.type==="formatter"&&l.isInvalid(v);return w===0?E?[]:d(v,w,!1,k).toArray():d(v,w,E,k).toArray()},b=v=>{const w=l.getCurrentValue(),k=l.shouldHide?0:1;return vn(v,E=>f(E,k,w))};return{validateItems:b,getFetch:(v,w)=>(k,E)=>{const P=w(),F=b(P);E(v0(F,um.CLOSE_ON_EXECUTE,v,{isHorizontalMenu:!1,search:R.none()}))}}},$y=(s,l)=>{const d=l.dataset,f=d.type==="basic"?()=>Me(d.data,b=>M5(b,l.isSelectedFor,l.getPreviewFor)):d.getData;return{items:GV(s,l),getStyleItems:f}},$w=(s,l,d,f,b,v)=>{const{items:w,getStyleItems:k}=$y(l,d),E=Un(d.tooltip);return F3({text:d.icon.isSome()?R.none():d.text,icon:d.icon,ariaLabel:R.some(d.tooltip),tooltip:R.none(),role:R.none(),fetch:w.getFetch(l,k),onSetup:P=>{const F=L=>P.setTooltip(w0(s,f(L.value),L.value));return s.on(b,F),_y(u0(s,"NodeChange",L=>{const H=L.getComponent();d.updateText(H),co.set(L.getComponent(),!s.selection.isEditable())})(P),()=>s.off(b,F))},getApi:P=>({getComponent:j(P),setTooltip:F=>{const L=l.shared.providers.translate(F);dn(P.element,"aria-label",L),E.set(F)}}),columns:1,presets:"normal",classes:d.icon.isSome()?[]:["bespoke"],dropdownBehaviours:[ri.config({...l.shared.providers.tooltips.getConfig({tooltipText:l.shared.providers.translate(d.tooltip),onShow:P=>{if(d.tooltip!==E.get()){const F=l.shared.providers.translate(E.get());ri.setComponents(P,l.shared.providers.tooltips.getComponents({tooltipText:F}))}}})})]},"tox-tbtn",l.shared,v)};var C0;(function(s){s[s.SemiColon=0]="SemiColon",s[s.Space=1]="Space"})(C0||(C0={}));const V4=(s,l,d)=>{const f=(b=((v,w)=>w===C0.SemiColon?v.replace(/;$/,"").split(";"):v.split(" "))(s.options.get(l),d),Me(b,v=>{let w=v,k=v;const E=v.split("=");return E.length>1&&(w=E[0],k=E[1]),{title:w,format:k}}));var b;return{type:"basic",data:f}},vL=j("Alignment {0}"),yL="left",z4=[{title:"Left",icon:"align-left",format:"alignleft",command:"JustifyLeft"},{title:"Center",icon:"align-center",format:"aligncenter",command:"JustifyCenter"},{title:"Right",icon:"align-right",format:"alignright",command:"JustifyRight"},{title:"Justify",icon:"align-justify",format:"alignjustify",command:"JustifyFull"}],H4=s=>{const l={type:"basic",data:z4};return{tooltip:w0(s,vL(),yL),text:R.none(),icon:R.some("align-left"),isSelectedFor:d=>()=>s.formatter.match(d),getCurrentValue:R.none,getPreviewFor:d=>R.none,onAction:d=>()=>J(z4,f=>f.format===d.format).each(f=>s.execCommand(f.command)),updateText:d=>{const f=J(z4,b=>s.formatter.match(b.format)).fold(j(yL),b=>b.title.toLowerCase());$n(d,wd,{icon:`align-${f}`}),((b,v)=>{b.dispatch("AlignTextUpdate",v)})(s,{value:f})},dataset:l,shouldHide:!1,isInvalid:d=>!s.formatter.canApply(d.format)}},xL=(s,l)=>{const d=l(),f=Me(d,b=>b.format);return R.from(s.formatter.closest(f)).bind(b=>J(d,v=>v.format===b))},U4=j("Block {0}"),W4="Paragraph",K4=s=>{const l=V4(s,"block_formats",C0.SemiColon);return{tooltip:w0(s,U4(),W4),text:R.some(W4),icon:R.none(),isSelectedFor:d=>()=>s.formatter.match(d),getCurrentValue:R.none,getPreviewFor:d=>()=>{const f=s.formatter.get(d);return f?R.some({tag:f.length>0&&(f[0].inline||f[0].block)||"div",styles:s.dom.parseStyle(s.formatter.getCssText(d))}):R.none()},onAction:qP(s),updateText:d=>{const f=xL(s,()=>l.data).fold(j(W4),b=>b.title);$n(d,Iu,{text:f}),((b,v)=>{b.dispatch("BlocksTextUpdate",v)})(s,{value:f})},dataset:l,shouldHide:!1,isInvalid:d=>!s.formatter.canApply(d.format)}},wL=j("Font {0}"),j4="System Font",qV=["-apple-system","Segoe UI","Roboto","Helvetica Neue","sans-serif"],CL=s=>{const l=s.split(/\s*,\s*/);return Me(l,d=>d.replace(/^['"]+|['"]+$/g,""))},_L=(s,l)=>l.length>0&&je(l,d=>s.indexOf(d.toLowerCase())>-1),SL=s=>{const l=()=>{const f=P=>P?CL(P)[0]:"",b=s.queryCommandValue("FontName"),v=d.data,w=b?b.toLowerCase():"",k=F_(s);return{matchOpt:J(v,P=>{const F=P.format;return F.toLowerCase()===w||f(F).toLowerCase()===f(w).toLowerCase()}).orThunk(()=>ds(((P,F)=>{if(P.indexOf("-apple-system")===0||F.length>0){const L=CL(P.toLowerCase());return _L(L,qV)||_L(L,F)}return!1})(w,k),{title:j4,format:w})),font:b}},d=V4(s,"font_family_formats",C0.SemiColon);return{tooltip:w0(s,wL(),j4),text:R.some(j4),icon:R.none(),isSelectedFor:f=>b=>b.exists(v=>v.format===f),getCurrentValue:()=>{const{matchOpt:f}=l();return f},getPreviewFor:f=>()=>R.some({tag:"div",styles:f.indexOf("dings")===-1?{"font-family":f}:{}}),onAction:f=>()=>{s.undoManager.transact(()=>{s.focus(),s.execCommand("FontName",!1,f.format)})},updateText:f=>{const{matchOpt:b,font:v}=l(),w=b.fold(j(v),k=>k.title);$n(f,Iu,{text:w}),((k,E)=>{k.dispatch("FontFamilyTextUpdate",E)})(s,{value:w})},dataset:d,shouldHide:!1,isInvalid:we}},YV={unsupportedLength:["em","ex","cap","ch","ic","rem","lh","rlh","vw","vh","vi","vb","vmin","vmax","cm","mm","Q","in","pc","pt","px"],fixed:["px","pt"],relative:["%"],empty:[""]},XV=(()=>{const s="[0-9]+",l="[eE][+-]?"+s,d=b=>`(?:${b})?`,f=["Infinity",s+"\\."+d(s)+d(l),"\\."+s+d(l),s+d(l)].join("|");return new RegExp(`^([+-]?(?:${f}))(.*)$`)})(),yk=(s,l)=>R.from(XV.exec(s)).bind(d=>{const f=Number(d[1]),b=d[2];return((v,w)=>An(w,k=>An(YV[k],E=>v===E)))(b,l)?R.some({value:f,unit:b}):R.none()}),kL={tab:j(9),escape:j(27),enter:j(13),backspace:j(8),delete:j(46),left:j(37),up:j(38),right:j(39),down:j(40),space:j(32),home:j(36),end:j(35),pageUp:j(33),pageDown:j(34)},EL=j("Font size {0}"),AL="12pt",JV={"8pt":"1","10pt":"2","12pt":"3","14pt":"4","18pt":"5","24pt":"6","36pt":"7"},TL={"xx-small":"7pt","x-small":"8pt",small:"10pt",medium:"12pt",large:"14pt","x-large":"18pt","xx-large":"24pt"},QV=(s,l)=>/[0-9.]+px$/.test(s)?((d,f)=>{const b=Math.pow(10,f);return Math.round(d*b)/b})(72*parseInt(s,10)/96,l||0)+"pt":Tn(TL,s).getOr(s),ez=s=>Tn(JV,s).getOr(""),OL=s=>{const l=()=>{let b=R.none();const v=f.data,w=s.queryCommandValue("FontSize");if(w)for(let k=3;b.isNone()&&k>=0;k--){const E=QV(w,k),P=ez(E);b=J(v,F=>F.format===w||F.format===E||F.format===P)}return{matchOpt:b,size:w}},d=j(R.none),f=V4(s,"font_size_formats",C0.Space);return{tooltip:w0(s,EL(),AL),text:R.some(AL),icon:R.none(),isSelectedFor:b=>v=>v.exists(w=>w.format===b),getPreviewFor:d,getCurrentValue:()=>{const{matchOpt:b}=l();return b},onAction:b=>()=>{s.undoManager.transact(()=>{s.focus(),s.execCommand("FontSize",!1,b.format)})},updateText:b=>{const{matchOpt:v,size:w}=l(),k=v.fold(j(w),E=>E.title);$n(b,Iu,{text:k}),((E,P)=>{E.dispatch("FontSizeTextUpdate",P)})(s,{value:k})},dataset:f,shouldHide:!1,isInvalid:we}},RL=s=>Zu(s)?"Formats":"Format {0}",IL=(s,l)=>{const d="Formats";return{tooltip:w0(s,RL(""),""),text:R.some(d),icon:R.none(),isSelectedFor:f=>()=>s.formatter.match(f),getCurrentValue:R.none,getPreviewFor:f=>()=>{const b=s.formatter.get(f);return b!==void 0?R.some({tag:b.length>0&&(b[0].inline||b[0].block)||"div",styles:s.dom.parseStyle(s.formatter.getCssText(f))}):R.none()},onAction:qP(s),updateText:f=>{const b=k=>P5(k)?vn(k.items,b):N5(k)?[{title:k.title,format:k.format}]:[],v=vn(L5(s),b),w=xL(s,j(v)).fold(j({title:d,tooltipLabel:""}),k=>({title:k.title,tooltipLabel:k.title}));$n(f,Iu,{text:w.title}),((k,E)=>{k.dispatch("StylesTextUpdate",E)})(s,{value:w.tooltipLabel})},shouldHide:ID(s),isInvalid:f=>!s.formatter.canApply(f.format),dataset:l}},Z4=j([Bt("toggleClass"),Bt("fetch"),ld("onExecute"),ut("getHotspot",R.some),ut("getAnchorOverrides",j({})),Gf(),ld("onItemExecute"),Xo("lazySink"),Bt("dom"),os("onOpen"),En("splitDropdownBehaviours",[Fr,zn,io]),ut("matchWidth",!1),ut("useMinWidth",!1),ut("eventOrder",{}),Xo("role"),Xo("listRole")].concat(WT())),tz=Dl({factory:qa,schema:[Bt("dom")],name:"arrow",defaults:()=>({buttonBehaviours:Xt([io.revoke()])}),overrides:s=>({dom:{tag:"span",attributes:{role:"presentation"}},action:l=>{l.getSystem().getByUid(s.uid).each(zf)},buttonBehaviours:Xt([so.config({toggleOnExecute:!1,toggleClass:s.toggleClass})])})}),nz=Dl({factory:qa,schema:[Bt("dom")],name:"button",defaults:()=>({buttonBehaviours:Xt([io.revoke()])}),overrides:s=>({dom:{tag:"span",attributes:{role:"presentation"}},action:l=>{l.getSystem().getByUid(s.uid).each(d=>{s.onExecute(d,l)})}})}),oz=j([tz,nz,Su({factory:{sketch:s=>({uid:s.uid,dom:{tag:"span",styles:{display:"none"},attributes:{"aria-hidden":"true"},innerHtml:s.text}})},schema:[Bt("text")],name:"aria-descriptor"}),rf({schema:[mh()],name:"menu",defaults:s=>({onExecute:(l,d)=>{l.getSystem().getByUid(s.uid).each(f=>{s.onItemExecute(f,l,d)})}})}),dN()]),Vw=Ul({name:"SplitDropdown",configFields:Z4(),partFields:oz(),factory:(s,l,d,f)=>{const b=P=>{ls.getCurrent(P).each(F=>{Es.highlightFirst(F),zn.focusIn(F)})},v=P=>{zT(s,de,P,f,b,hl.HighlightMenuAndItem).get(W)},w=P=>{const F=Rh(P,s,"button");return zf(F),R.some(!0)},k={...wo([ar((P,F)=>{Qs(P,s,"aria-descriptor").each(L=>{const H=kn("aria");dn(L.element,"id",H),dn(P.element,"aria-describedby",H)})})]),...cy(R.some(v))},E={repositionMenus:P=>{so.isOn(P)&&gN(P)}};return{uid:s.uid,dom:s.dom,components:l,apis:E,eventOrder:{...s.eventOrder,[Al()]:["disabling","toggling","alloy.base.behaviour"]},events:k,behaviours:To(s.splitDropdownBehaviours,[Fr.config({others:{sandbox:P=>{const F=Rh(P,s,"arrow");return UT(s,P,{onOpen:()=>{so.on(F),so.on(P)},onClose:()=>{so.off(F),so.off(P)}})}}}),zn.config({mode:"special",onSpace:w,onEnter:w,onDown:P=>(v(P),R.some(!0))}),io.config({}),so.config({toggleOnExecute:!1,aria:{mode:"expanded"}})]),domModification:{attributes:{role:s.role.getOr("button"),"aria-haspopup":!0}}}},apis:{repositionMenus:(s,l)=>s.repositionMenus(l)}}),G4=s=>({isEnabled:()=>!co.isDisabled(s),setEnabled:l=>co.set(s,!l),setText:l=>$n(s,Iu,{text:l}),setIcon:l=>$n(s,wd,{icon:l})}),sz=s=>({setActive:l=>{so.set(s,l)},isActive:()=>so.isOn(s),isEnabled:()=>!co.isDisabled(s),setEnabled:l=>co.set(s,!l),setText:l=>$n(s,Iu,{text:l}),setIcon:l=>$n(s,wd,{icon:l})}),DL=(s,l)=>s.map(d=>({"aria-label":l.translate(d)})).getOr({}),q4=kn("focus-button"),Y4=(s,l,d,f,b,v)=>{const w=l.map(E=>Ss(B3(E,"tox-tbtn",b))),k=s.map(E=>Ss(db(E,b.icons)));return{dom:{tag:"button",classes:["tox-tbtn"].concat(l.isSome()?["tox-tbtn--select"]:[]),attributes:{...DL(d,b),...z(v)?{"data-mce-name":v}:{}}},components:yy([k.map(E=>E.asSpec()),w.map(E=>E.asSpec())]),eventOrder:{[Ft()]:["focusing","alloy.base.behaviour",ub],[pa()]:[ub,"toolbar-group-button-events"]},buttonBehaviours:Xt([aS(b.isDisabled),Bi(),Oo(ub,[ar((E,P)=>GS(E)),Rt(Iu,(E,P)=>{w.bind(F=>F.getOpt(E)).each(F=>{Qn.set(F,[Br(b.translate(P.event.text))])})}),Rt(wd,(E,P)=>{k.bind(F=>F.getOpt(E)).each(F=>{Qn.set(F,[db(P.event.icon,b.icons)])})}),Rt(Ft(),(E,P)=>{P.event.prevent(),No(E,q4)})])].concat(f.getOr([])))}},PL=(s,l,d,f)=>{var b;const v=Un(W),w=Y4(s.icon,s.text,s.tooltip,R.none(),d,f);return qa.sketch({dom:w.dom,components:w.components,eventOrder:M3,buttonBehaviours:{...Xt([Oo("toolbar-button-events",[(k={onAction:s.onAction,getApi:l.getApi},bu((E,P)=>{uw(k,E)(F=>{$n(E,ZS,{buttonApi:F}),k.onAction(F)})})),tb(l,v),Mh(l,v)]),...s.tooltip.map(E=>ri.config(d.tooltips.getConfig({tooltipText:d.translate(E)+s.shortcut.map(P=>` (${lS(P)})`).getOr("")}))).toArray(),aS(()=>!s.enabled||d.isDisabled()),Bi()].concat(l.toolbarButtonBehaviours)),[ub]:(b=w.buttonBehaviours)===null||b===void 0?void 0:b[ub]}});var k},NL=(s,l,d,f)=>PL(s,{toolbarButtonBehaviours:d.length>0?[Oo("toolbarButtonWith",d)]:[],getApi:G4,onSetup:s.onSetup},l,f),LL=(s,l,d,f)=>PL(s,{toolbarButtonBehaviours:[Qn.config({}),so.config({toggleClass:"tox-tbtn--enabled",aria:{mode:"pressed"},toggleOnExecute:!1})].concat(d.length>0?[Oo("toolbarToggleButtonWith",d)]:[]),getApi:sz,onSetup:s.onSetup},l,f),rz=(s,l,d)=>f=>nb(b=>l.fetch(b)).map(b=>R.from(KT(Bs(f0(kn("menu-value"),b,v=>{l.onItemAction(s(f),v)},l.columns,l.presets,um.CLOSE_ON_EXECUTE,l.select.getOr(we),d),{movement:hw(l.columns,l.presets),menuBehaviours:cw(l.columns!=="auto"?[]:[ar((v,w)=>{pT(v,4,Jp(l.presets)).each(({numRows:k,numColumns:E})=>{zn.setGridSize(v,k,E)})})])})))),iz=[{name:"history",items:["undo","redo"]},{name:"ai",items:["aidialog","aishortcuts"]},{name:"styles",items:["styles"]},{name:"formatting",items:["bold","italic"]},{name:"alignment",items:["alignleft","aligncenter","alignright","alignjustify"]},{name:"indentation",items:["outdent","indent"]},{name:"permanent pen",items:["permanentpen"]},{name:"comments",items:["addcomment"]}],hb=(s,l)=>(d,f,b,v)=>{const w=s(d).mapError(k=>ll(k)).getOrDie();return l(w,f,b,v)},az={button:hb(_P,(s,l,d,f)=>((b,v,w)=>NL(b,v,[],w))(s,l.shared.providers,f)),togglebutton:hb(sS,(s,l,d,f)=>((b,v,w)=>LL(b,v,[],w))(s,l.shared.providers,f)),menubutton:hb(J5,(s,l,d,f)=>Dy(s,"tox-tbtn",l,R.none(),!1,f)),splitbutton:hb(s=>wr("SplitButton",fV,s),(s,l,d,f)=>((b,v,w)=>{const k=Un(b.tooltip.getOr("")),E=L=>({isEnabled:()=>!co.isDisabled(L),setEnabled:H=>co.set(L,!H),setIconFill:(H,Y)=>{fr(L.element,`svg path[class="${H}"], rect[class="${H}"]`).each(Q=>{dn(Q,"fill",Y)})},setActive:H=>{dn(L.element,"aria-pressed",H),fr(L.element,"span").each(Y=>{L.getSystem().getByDom(Y).each(Q=>so.set(Q,H))})},isActive:()=>fr(L.element,"span").exists(H=>L.getSystem().getByDom(H).exists(so.isOn)),setText:H=>fr(L.element,"span").each(Y=>L.getSystem().getByDom(Y).each(Q=>$n(Q,Iu,{text:H}))),setIcon:H=>fr(L.element,"span").each(Y=>L.getSystem().getByDom(Y).each(Q=>$n(Q,wd,{icon:H}))),setTooltip:H=>{const Y=v.providers.translate(H);dn(L.element,"aria-label",Y),k.set(H)}}),P=Un(W),F={getApi:E,onSetup:b.onSetup};return Vw.sketch({dom:{tag:"div",classes:["tox-split-button"],attributes:{"aria-pressed":!1,...DL(b.tooltip,v.providers),...z(w)?{"data-mce-name":w}:{}}},onExecute:L=>{const H=E(L);H.isEnabled()&&b.onAction(H)},onItemExecute:(L,H,Y)=>{},splitDropdownBehaviours:Xt([NP(v.providers.isDisabled),Bi(),Oo("split-dropdown-events",[ar((L,H)=>GS(L)),Rt(q4,io.focus),tb(F,P),Mh(F,P)]),g0.config({}),...b.tooltip.map(L=>ri.config({...v.providers.tooltips.getConfig({tooltipText:v.providers.translate(L),onShow:H=>{if(k.get()!==L){const Y=v.providers.translate(k.get());ri.setComponents(H,v.providers.tooltips.getComponents({tooltipText:Y}))}}})})).toArray()]),eventOrder:{[pa()]:["alloy.base.behaviour","split-dropdown-events","tooltipping"],[Nc()]:["split-dropdown-events","tooltipping"]},toggleClass:"tox-tbtn--enabled",lazySink:v.getSink,fetch:rz(E,b,v.providers),parts:{menu:Q_(0,b.columns,b.presets)},components:[Vw.parts.button(Y4(b.icon,b.text,R.none(),R.some([so.config({toggleClass:"tox-tbtn--enabled",toggleOnExecute:!1})]),v.providers)),Vw.parts.arrow({dom:{tag:"button",classes:["tox-tbtn","tox-split-button__chevron"],innerHtml:tP("chevron-down",v.providers.icons)},buttonBehaviours:Xt([NP(v.providers.isDisabled),Bi(),Y_()])}),Vw.parts["aria-descriptor"]({text:v.providers.translate("To open the popup, press Shift+Enter")})]})})(s,l.shared,f)),grouptoolbarbutton:hb(s=>wr("GroupToolbarButton",uV,s),(s,l,d,f)=>{const b=d.ui.registry.getAll().buttons,v={[Il]:l.shared.header.isPositionedAtTop()?Wc.TopToBottom:Wc.BottomToTop};if(Qv(d)===md.floating)return((w,k,E,P,F)=>{const L=k.shared,H=Un(W),Y={toolbarButtonBehaviours:[],getApi:G4,onSetup:w.onSetup},Q=[Oo("toolbar-group-button-events",[tb(Y,H),Mh(Y,H)])];return Wh.sketch({lazySink:L.getSink,fetch:()=>nb(fe=>{fe(Me(E(w.items),bk))}),markers:{toggledClass:"tox-tbtn--enabled"},parts:{button:Y4(w.icon,w.text,w.tooltip,R.some(Q),L.providers,F),toolbar:{dom:{tag:"div",classes:["tox-toolbar__overflow"],attributes:P}}}})})(s,l,w=>xk(d,{buttons:b,toolbar:w,allowToolbarGroups:!1},l,R.none()),v,f);throw new Error("Toolbar groups are only supported when using floating toolbar mode")})},zw={styles:(s,l)=>{const d={type:"advanced",...l.styles};return $w(s,l,IL(s,d),RL,"StylesTextUpdate","styles")},fontsize:(s,l)=>$w(s,l,OL(s),EL,"FontSizeTextUpdate","fontsize"),fontsizeinput:(s,l)=>((d,f,b,v)=>{let w=R.none();const k=u0(d,"NodeChange SwitchMode",Ce=>{const Ae=Ce.getComponent();w=R.some(Ae),b.updateInputValue(Ae),co.set(Ae,!d.selection.isEditable())}),E=Ce=>({getComponent:j(Ce)}),P=Un(W),F=kn("custom-number-input-events"),L=(Ce,Ae,Ie)=>{const qe=w.map(jt=>gt.getValue(jt)).getOr(""),lt=b.getNewValue(qe,Ce),Nt=qe.length-`${lt}`.length,Ot=w.map(jt=>jt.element.dom.selectionStart-Nt),Et=w.map(jt=>jt.element.dom.selectionEnd-Nt);b.onAction(lt,Ie),w.each(jt=>{gt.setValue(jt,lt),Ae&&(Ot.each(xn=>jt.element.dom.selectionStart=xn),Et.each(xn=>jt.element.dom.selectionEnd=xn))})},H=(Ce,Ae)=>L((Ie,qe)=>Ie-qe,Ce,Ae),Y=(Ce,Ae)=>L((Ie,qe)=>Ie+qe,Ce,Ae),Q=Ce=>Oa(Ce.element).fold(R.none,Ae=>(ja(Ae),R.some(!0))),fe=Ce=>_h(Ce.element)?(De(Ce.element).each(Ae=>ja(Ae)),R.some(!0)):R.none(),pe=(Ce,Ae,Ie,qe)=>{const lt=Un(W),Nt=f.shared.providers.translate(Ie),Ot=kn("altExecuting"),Et=u0(d,"NodeChange SwitchMode",xn=>{co.set(xn.getComponent(),!d.selection.isEditable())}),jt=xn=>{co.isDisabled(xn)||Ce(!0)};return qa.sketch({dom:{tag:"button",attributes:{"aria-label":Nt,"data-mce-name":Ae},classes:qe.concat(Ae)},components:[Aw(Ae,f.shared.providers.icons)],buttonBehaviours:Xt([co.config({}),ri.config(f.shared.providers.tooltips.getConfig({tooltipText:Nt})),Oo(Ot,[tb({onSetup:Et,getApi:E},lt),Mh({getApi:E},lt),Rt(_r(),(xn,Pn)=>{Pn.event.raw.keyCode!==kL.space()&&Pn.event.raw.keyCode!==kL.enter()||co.isDisabled(xn)||Ce(!1)}),Rt(vi(),jt),Rt(Be(),jt)])]),eventOrder:{[_r()]:[Ot,"keying"],[vi()]:[Ot,"alloy.base.behaviour"],[Be()]:[Ot,"alloy.base.behaviour"],[pa()]:["alloy.base.behaviour",Ot,"tooltipping"],[Nc()]:[Ot,"tooltipping"]}})},Ee=Ss(pe(Ce=>H(!1,Ce),"minus","Decrease font size",[])),ge=Ss(pe(Ce=>Y(!1,Ce),"plus","Increase font size",[])),me=Ss({dom:{tag:"div",classes:["tox-input-wrapper"]},components:[Lh.sketch({inputBehaviours:Xt([co.config({}),Oo(F,[tb({onSetup:k,getApi:E},P),Mh({getApi:E},P)]),Oo("input-update-display-text",[Rt(Iu,(Ce,Ae)=>{gt.setValue(Ce,Ae.event.text)}),Rt(Ur(),Ce=>{b.onAction(gt.getValue(Ce))}),Rt(Km(),Ce=>{b.onAction(gt.getValue(Ce))})]),zn.config({mode:"special",onEnter:Ce=>(L(de,!0,!0),R.some(!0)),onEscape:Q,onUp:Ce=>(Y(!0,!1),R.some(!0)),onDown:Ce=>(H(!0,!1),R.some(!0)),onLeft:(Ce,Ae)=>(Ae.cut(),R.none()),onRight:(Ce,Ae)=>(Ae.cut(),R.none())})])})],behaviours:Xt([io.config({}),zn.config({mode:"special",onEnter:fe,onSpace:fe,onEscape:Q}),Oo("input-wrapper-events",[Rt(Mn(),Ce=>{mt([Ee,ge],Ae=>{const Ie=fn(Ae.get(Ce).element.dom);_h(Ie)&&Cv(Ie)})})])])});return{dom:{tag:"div",classes:["tox-number-input"],attributes:{...z(v)?{"data-mce-name":v}:{}}},components:[Ee.asSpec(),me.asSpec(),ge.asSpec()],behaviours:Xt([io.config({}),zn.config({mode:"flow",focusInside:Wv.OnEnterOrSpaceMode,cycles:!1,selector:"button, .tox-input-wrapper",onEscape:Ce=>_h(Ce.element)?R.none():(ja(Ce.element),R.some(!0))})])}})(s,l,(d=>{const f=()=>d.queryCommandValue("FontSize");return{updateInputValue:b=>$n(b,Iu,{text:f()}),onAction:(b,v)=>d.execCommand("FontSize",!1,b,{skip_focus:!v}),getNewValue:(b,v)=>{yk(b,["unsupportedLength","empty"]);const w=f(),k=yk(b,["unsupportedLength","empty"]).or(yk(w,["unsupportedLength","empty"])),E=k.map(Y=>Y.value).getOr(16),P=HA(d),F=k.map(Y=>Y.unit).filter(Y=>Y!=="").getOr(P),L=v(E,(Y=>{var Q;return(Q={em:{step:.1},cm:{step:.1},in:{step:.1},pc:{step:.1},ch:{step:.1},rem:{step:.1}}[Y])!==null&&Q!==void 0?Q:{step:1}})(F).step),H=`${(Y=>Y>=0)(L)?L:E}${F}`;return H!==w&&((Y,Q)=>{Y.dispatch("FontSizeInputTextUpdate",Q)})(d,{value:H}),H}}})(s),"fontsizeinput"),fontfamily:(s,l)=>$w(s,l,SL(s),wL,"FontFamilyTextUpdate","fontfamily"),blocks:(s,l)=>$w(s,l,K4(s),U4,"BlocksTextUpdate","blocks"),align:(s,l)=>$w(s,l,H4(s),vL,"AlignTextUpdate","align")},xk=(s,l,d,f)=>{const b=(w=>{const k=w.toolbar,E=w.buttons;return k===!1?[]:k===void 0||k===!0?(P=>{const F=Me(iz,L=>{const H=Wt(L.items,Y=>go(P,Y)||go(zw,Y));return{name:L.name,items:H}});return Wt(F,L=>L.items.length>0)})(E):h(k)?(P=>{const F=P.split("|");return Me(F,L=>({items:L.trim().split(" ")}))})(k):(P=>ie(P,F=>go(F,"name")&&go(F,"items")))(k)?k:(console.error("Toolbar type should be string, string[], boolean or ToolbarGroup[]"),[])})(l),v=Me(b,w=>{const k=vn(w.items,E=>E.trim().length===0?[]:((P,F,L,H,Y,Q)=>Tn(F,L.toLowerCase()).orThunk(()=>Q.bind(fe=>ln(fe,pe=>Tn(F,pe+L.toLowerCase())))).fold(()=>Tn(zw,L.toLowerCase()).map(fe=>fe(P,Y)),fe=>fe.type!=="grouptoolbarbutton"||H?((pe,Ee,ge,me)=>Tn(az,pe.type).fold(()=>(console.error("skipping button defined by",pe),R.none()),Ce=>R.some(Ce(pe,Ee,ge,me))))(fe,Y,P,L.toLowerCase()):(console.warn(`Ignoring the '${L}' toolbar button. Group toolbar buttons are only supported when using floating toolbar mode and cannot be nested.`),R.none())))(s,l.buttons,E,l.allowToolbarGroups,d,f).toArray());return{title:R.from(s.translate(w.name)),items:k}});return Wt(v,w=>w.items.length>0)},ML=(s,l,d,f)=>{const b=l.mainUi.outerContainer,v=d.toolbar,w=d.buttons;if(ie(v,h)){const k=v.map(E=>{const P={toolbar:E,buttons:w,allowToolbarGroups:d.allowToolbarGroups};return xk(s,P,f,R.none())});sr.setToolbars(b,k)}else sr.setToolbar(b,xk(s,d,f,R.none()))},BL=da(),lz=BL.os.isiOS()&&BL.os.version.major<=12;var IK=Object.freeze({__proto__:null,render:(s,l,d,f,b)=>{const{mainUi:v,uiMotherships:w}=l,k=Un(0),E=v.outerContainer;bL(s);const P=fn(b.targetNode),F=ot(pt(P));kt(P,v.mothership),((Q,fe,pe)=>{Nh(Q)&&kt(pe.mainUi.mothership.element,pe.popupUi.mothership),h2(fe,pe.dialogUi.mothership)})(s,F,l),s.on("SkinLoaded",()=>{sr.setSidebar(E,d.sidebar,B_(s)),ML(s,l,d,f),k.set(s.getWin().innerWidth),sr.setMenubar(E,gL(s,d)),sr.setViews(E,d.views),((Q,fe)=>{const{uiMotherships:pe}=fe,Ee=Q.dom;let ge=Q.getWin();const me=Q.getDoc().documentElement,Ce=Un(tr(ge.innerWidth,ge.innerHeight)),Ae=Un(tr(me.offsetWidth,me.offsetHeight)),Ie=()=>{const Ot=Ce.get();Ot.left===ge.innerWidth&&Ot.top===ge.innerHeight||(Ce.set(tr(ge.innerWidth,ge.innerHeight)),c0(Q))},qe=()=>{const Ot=Q.getDoc().documentElement,Et=Ae.get();Et.left===Ot.offsetWidth&&Et.top===Ot.offsetHeight||(Ae.set(tr(Ot.offsetWidth,Ot.offsetHeight)),c0(Q))},lt=Ot=>{((Et,jt)=>{Et.dispatch("ScrollContent",jt)})(Q,Ot)};Ee.bind(ge,"resize",Ie),Ee.bind(ge,"scroll",lt);const Nt=i2(fn(Q.getBody()),"load",qe);Q.on("hide",()=>{mt(pe,Ot=>{yo(Ot.element,"display","none")})}),Q.on("show",()=>{mt(pe,Ot=>{ks(Ot.element,"display")})}),Q.on("NodeChange",qe),Q.on("remove",()=>{Nt.unbind(),Ee.unbind(ge,"resize",Ie),Ee.unbind(ge,"scroll",lt),ge=null})})(s,l)});const L=sr.getSocket(E).getOrDie("Could not find expected socket element");if(lz){rl(L.element,{overflow:"scroll","-webkit-overflow-scrolling":"touch"});const Q=((pe,Ee)=>{let ge=null;return{cancel:()=>{I(ge)||(clearTimeout(ge),ge=null)},throttle:(...me)=>{I(ge)&&(ge=setTimeout(()=>{ge=null,pe.apply(null,me)},20))}}})(()=>{s.dispatch("ScrollContent")}),fe=Za(L.element,"scroll",Q.throttle);s.on("remove",fe.unbind)}PP(s,l),s.addCommand("ToggleSidebar",(Q,fe)=>{sr.toggleSidebar(E,fe),(pe=>{pe.dispatch("ToggleSidebar")})(s)}),s.addQueryValueHandler("ToggleSidebar",()=>{var Q;return(Q=sr.whichSidebar(E))!==null&&Q!==void 0?Q:""}),s.addCommand("ToggleView",(Q,fe)=>{if(sr.toggleView(E,fe)){const pe=E.element;v.mothership.broadcastOn([M()],{target:pe}),mt(w,Ee=>{Ee.broadcastOn([M()],{target:pe})}),I(sr.whichView(E))&&(s.focus(),s.nodeChanged(),sr.refreshToolbar(E)),(Ee=>{Ee.dispatch("ToggleView")})(s)}}),s.addQueryValueHandler("ToggleView",()=>{var Q;return(Q=sr.whichView(E))!==null&&Q!==void 0?Q:""});const H=Qv(s);H!==md.sliding&&H!==md.floating||s.on("ResizeWindow ResizeEditor ResizeContent",()=>{const Q=s.getWin().innerWidth;Q!==k.get()&&(sr.refreshToolbar(l.mainUi.outerContainer),k.set(Q))});const Y={setEnabled:Q=>{a0(l,!Q)},isEnabled:()=>!co.isDisabled(E)};return{iframeContainer:L.element.dom,editorContainer:E.element.dom,api:Y}}});const Hw=s=>/^[0-9\.]+(|px)$/i.test(""+s)?R.some(parseInt(""+s,10)):R.none(),pb=s=>ee(s)?s+"px":s,Uw=(s,l,d)=>{const f=l.filter(v=>s<v),b=d.filter(v=>s>v);return f.or(b).getOr(s)},X4=s=>{const l=B2(s),d=F2(s),f=fy(s);return Hw(l).map(b=>Uw(b,d,f))},{ToolbarLocation:J4,ToolbarMode:FL}=W2,cz=(s,l,d,f,b)=>{const{mainUi:v,uiMotherships:w}=d,k=uy.DOM,E=e0(s),P=Ph(s),F=fy(s).or(X4(s)),L=f.shared.header,H=L.isPositionedAtTop,Y=Qv(s),Q=Y===FL.sliding||Y===FL.floating,fe=Un(!1),pe=()=>fe.get()&&!s.removed,Ee=Ae=>Q?Ae.fold(j(0),Ie=>Ie.components().length>1?Ar(Ie.components()[1].element):0):0,ge=()=>{mt(w,Ae=>{Ae.broadcastOn([U()],{})})},me=Ae=>{if(!pe())return;E||b.on(lt=>{const Nt=F.getOrThunk(()=>_i().width-la(l).left-10);yo(lt.element,"max-width",Nt+"px")});const Ie=nr(),qe=!(E||E||!(Vl(v.outerContainer.element).left+il(v.outerContainer.element)>=window.innerWidth-40||ti(v.outerContainer.element,"width").isSome())||(yo(v.outerContainer.element,"position","absolute"),yo(v.outerContainer.element,"left","0px"),ks(v.outerContainer.element,"width"),0));if(Q&&sr.refreshToolbar(v.outerContainer),!E){const lt=nr(),Nt=ds(Ie.left!==lt.left,Ie);((Ot,Et)=>{b.on(jt=>{const xn=sr.getToolbar(v.outerContainer),Pn=Ee(xn),jn=ci(l),uo=((Io,ss)=>Nh(Io)?Ap(ss):R.none())(s,v.outerContainer.element),Ko=uo.fold(()=>jn.x,Io=>{const ss=ci(Io);return fs(Io,Sn())?jn.x:jn.x-ss.x}),rr=ds(Ot,Math.ceil(v.outerContainer.element.dom.getBoundingClientRect().width)).filter(Io=>Io>150).map(Io=>{const ss=Et.getOr(nr()),Jn=window.innerWidth-(Ko-ss.left),gr=Math.max(Math.min(Io,Jn),150);return Jn<Io&&yo(v.outerContainer.element,"width",gr+"px"),{width:gr+"px"}}).getOr({width:"max-content"}),mr={position:"absolute",left:Math.round(Ko)+"px",top:uo.fold(()=>H()?Math.max(jn.y-Ar(jt.element)+Pn,0):jn.bottom,Io=>{var ss;const Jn=ci(Io),gr=(ss=Io.dom.scrollTop)!==null&&ss!==void 0?ss:0,Vs=fs(Io,Sn())?Math.max(jn.y-Ar(jt.element)+Pn,0):jn.y-Jn.y+gr-Ar(jt.element)+Pn;return H()?Vs:jn.bottom})+"px"};rl(v.outerContainer.element,{...mr,...rr})})})(qe,Nt),Nt.each(Ot=>{If(Ot.left,lt.top)})}P&&b.on(Ae),ge()},Ce=()=>!(E||!P||!pe())&&b.get().exists(Ae=>{const Ie=L.getDockingMode(),qe=(Nt=>{switch(Kp(s)){case J4.auto:const Ot=sr.getToolbar(v.outerContainer),Et=Ee(Ot),jt=Ar(Nt.element)-Et,xn=ci(l);if(xn.y>jt)return"top";{const Pn=sl(l),jn=Math.max(Pn.dom.scrollHeight,Ar(Pn));return xn.bottom<jn-jt||Gi().bottom<xn.bottom-jt?"bottom":"top"}case J4.bottom:return"bottom";case J4.top:default:return"top"}})(Ae);return qe!==Ie&&(lt=qe,b.on(Nt=>{dr.setModes(Nt,[lt]),L.setDockingMode(lt);const Ot=H()?Wc.TopToBottom:Wc.BottomToTop;dn(Nt.element,Il,Ot)}),!0);var lt});return{isVisible:pe,isPositionedAtTop:H,show:()=>{fe.set(!0),yo(v.outerContainer.element,"display","flex"),k.addClass(s.getBody(),"mce-edit-focus"),mt(w,Ae=>{ks(Ae.element,"display")}),Ce(),Nh(s)?me(Ae=>dr.isDocked(Ae)?dr.reset(Ae):dr.refresh(Ae)):me(dr.refresh)},hide:()=>{fe.set(!1),yo(v.outerContainer.element,"display","none"),k.removeClass(s.getBody(),"mce-edit-focus"),mt(w,Ae=>{yo(Ae.element,"display","none")})},update:me,updateMode:()=>{Ce()&&me(dr.reset)},repositionPopups:ge}},$L=(s,l)=>{const d=ci(s);return{pos:l?d.y:d.bottom,bounds:d}};var uz=Object.freeze({__proto__:null,render:(s,l,d,f,b)=>{const{mainUi:v}=l,w=Ts(),k=fn(b.targetNode),E=cz(s,k,l,f,w),P=PD(s);ZV(s);const F=()=>{if(w.isSet())return void E.show();w.set(sr.getHeader(v.outerContainer).getOrDie());const H=H_(s);Nh(s)?(kt(k,v.mothership),kt(k,l.popupUi.mothership)):h2(H,v.mothership),h2(H,l.dialogUi.mothership);const Y=()=>{ML(s,l,d,f),sr.setMenubar(v.outerContainer,gL(s,d)),E.show(),((Q,fe,pe,Ee)=>{const ge=Un($L(fe,pe.isPositionedAtTop())),me=qe=>{const{pos:lt,bounds:Nt}=$L(fe,pe.isPositionedAtTop()),{pos:Ot,bounds:Et}=ge.get(),jt=Nt.height!==Et.height||Nt.width!==Et.width;ge.set({pos:lt,bounds:Nt}),jt&&c0(Q,qe),pe.isVisible()&&(Ot!==lt?pe.update(dr.reset):jt&&(pe.updateMode(),pe.repositionPopups()))};Ee||(Q.on("activate",pe.show),Q.on("deactivate",pe.hide)),Q.on("SkinLoaded ResizeWindow",()=>pe.update(dr.reset)),Q.on("NodeChange keydown",qe=>{requestAnimationFrame(()=>me(qe))});let Ce=0;const Ae=k3(()=>pe.update(dr.refresh),33);Q.on("ScrollWindow",()=>{const qe=nr().left;qe!==Ce&&(Ce=qe,Ae.throttle()),pe.updateMode()}),Nh(Q)&&Q.on("ElementScroll",qe=>{pe.update(dr.refresh)});const Ie=Rc();Ie.set(i2(fn(Q.getBody()),"load",qe=>me(qe.raw))),Q.on("remove",()=>{Ie.clear()})})(s,k,E,P),s.nodeChanged()};P?s.once("SkinLoaded",Y):Y()};s.on("show",F),s.on("hide",E.hide),P||(s.on("focus",F),s.on("blur",E.hide)),s.on("init",()=>{(s.hasFocus()||P)&&F()}),PP(s,l);const L={show:F,hide:E.hide,setEnabled:H=>{a0(l,!H)},isEnabled:()=>!co.isDisabled(v.outerContainer)};return{editorContainer:v.outerContainer.element.dom,api:L}}});const VL="contexttoolbar-hide",zL=(s,l)=>Rt(ZS,(d,f)=>{const b=(v=>({hide:()=>No(v,nv()),getValue:()=>gt.getValue(v)}))(s.get(d));l.onAction(b,f.event.buttonApi)}),dz=(s,l)=>{const d=s.label.fold(()=>({}),v=>({"aria-label":v})),f=Ss(Lh.sketch({inputClasses:["tox-toolbar-textfield","tox-toolbar-nav-js"],data:s.initValue(),inputAttributes:d,selectOnFocus:!0,inputBehaviours:Xt([zn.config({mode:"special",onEnter:v=>b.findPrimary(v).map(w=>(zf(w),!0)),onLeft:(v,w)=>(w.cut(),R.none()),onRight:(v,w)=>(w.cut(),R.none())})])})),b=((v,w,k)=>{const E=Me(w,P=>Ss(((F,L,H)=>(Y=>Y.type==="contextformtogglebutton")(L)?((Y,Q,fe)=>{const{primary:pe,...Ee}=Q.original,ge=Ha(sS({...Ee,type:"togglebutton",onAction:W}));return LL(ge,fe,[zL(Y,Q)])})(F,L,H):((Y,Q,fe)=>{const{primary:pe,...Ee}=Q.original,ge=Ha(_P({...Ee,type:"button",onAction:W}));return NL(ge,fe,[zL(Y,Q)])})(F,L,H))(v,P,k)));return{asSpecs:()=>Me(E,P=>P.asSpec()),findPrimary:P=>ln(w,(F,L)=>F.primary?R.from(E[L]).bind(H=>H.getOpt(P)).filter(Fe(co.isDisabled)):R.none())}})(f,s.commands,l);return[{title:R.none(),items:[f.asSpec()]},{title:R.none(),items:b.asSpecs()}]},HL=(s,l,d)=>l.bottom-s.y>=d&&s.bottom-l.y>=d,Q4=s=>{const l=(d=>{const f=d.getBoundingClientRect();if(f.height<=0&&f.width<=0){const b=He(fn(d.startContainer),d.startOffset).element;return(Aa(b)?Ta(b):R.some(b)).filter(lr).map(v=>v.dom.getBoundingClientRect()).getOr(f)}return f})(s.selection.getRng());if(s.inline){const d=nr();return Mo(d.left+l.left,d.top+l.top,l.width,l.height)}{const d=El(fn(s.getBody()));return Mo(d.x+l.left,d.y+l.top,l.width,l.height)}},UL=(s,l,d,f=0)=>{const b=_i(window),v=ci(fn(s.getContentAreaContainer())),w=z2(s)||H2(s)||U2(s),{x:k,width:E}=((P,F,L)=>{const H=Math.max(P.x+L,F.x);return{x:H,width:Math.min(P.right-L,F.right)-H}})(v,b,f);if(s.inline&&!w)return Mo(k,b.y,E,b.height);{const P=l.header.isPositionedAtTop(),{y:F,bottom:L}=((H,Y,Q,fe,pe,Ee)=>{const ge=fn(H.getContainer()),me=fr(ge,".tox-editor-header").getOr(ge),Ce=ci(me),Ae=Ce.y>=Y.bottom,Ie=fe&&!Ae;if(H.inline&&Ie)return{y:Math.max(Ce.bottom+Ee,Q.y),bottom:Q.bottom};if(H.inline&&!Ie)return{y:Q.y,bottom:Math.min(Ce.y-Ee,Q.bottom)};const qe=pe==="line"?ci(ge):Y;return Ie?{y:Math.max(Ce.bottom+Ee,Q.y),bottom:Math.min(qe.bottom-Ee,Q.bottom)}:{y:Math.max(qe.y+Ee,Q.y),bottom:Math.min(Ce.y-Ee,Q.bottom)}})(s,v,b,P,d,f);return Mo(k,F,E,L-F)}},eO={valignCentre:[],alignCentre:[],alignLeft:["tox-pop--align-left"],alignRight:["tox-pop--align-right"],right:["tox-pop--right"],left:["tox-pop--left"],bottom:["tox-pop--bottom"],top:["tox-pop--top"],inset:["tox-pop--inset"]},_0={maxHeightFunction:Sh(),maxWidthFunction:R4()},bb=s=>s==="node",fz=(s,l,d,f,b)=>{const v=Q4(s),w=f.lastElement().exists(k=>fs(d,k));return((k,E)=>{const P=k.selection.getRng(),F=He(fn(P.startContainer),P.startOffset);return P.startContainer===P.endContainer&&P.startOffset===P.endOffset-1&&fs(F.element,E)})(s,d)?w?rk:cs:w?((k,E,P)=>{const F=ti(k,"position");yo(k,"position",E);const L=HL(v,ci(l),-20)&&!f.isReposition()?a4:rk;return F.each(H=>yo(k,"position",H)),L})(l,f.getMode()):(f.getMode()==="fixed"?b.y+nr().top:b.y)+(Ar(l)+12)<=v.y?cs:Eg},WL=(s,l,d,f)=>{const b=w=>(k,E,P,F,L)=>({...fz(s,F,w,d,L)({...k,y:L.y,height:L.height},E,P,F,L),alwaysFit:!0}),v=w=>bb(f)?[b(w)]:[];return l?{onLtr:w=>[jr,Ir,Dr,oi,Fs,kr].concat(v(w)),onRtl:w=>[jr,Dr,Ir,Fs,oi,kr].concat(v(w))}:{onLtr:w=>[kr,jr,oi,Ir,Fs,Dr].concat(v(w)),onRtl:w=>[kr,jr,Fs,Dr,oi,Ir].concat(v(w))}},wk=(s,l)=>{const d=Wt(l,v=>v.predicate(s.dom)),{pass:f,fail:b}=vo(d,v=>v.type==="contexttoolbar");return{contextToolbars:f,contextForms:b}},Ck=(s,l)=>{const d={},f=[],b=[],v={},w={},k=Kt(s);return mt(k,E=>{const P=s[E];P.type==="contextform"?((F,L)=>{const H=Ha(wr("ContextForm",P7,L));d[F]=H,H.launch.map(Y=>{v["form:"+F]={...L.launch,type:Y.type==="contextformtogglebutton"?"togglebutton":"button",onAction:()=>{l(H)}}}),H.scope==="editor"?b.push(H):f.push(H),w[F]=H})(E,P):P.type==="contexttoolbar"&&((F,L)=>{var H;(H=L,wr("ContextToolbar",kP,H)).each(Y=>{L.scope==="editor"?b.push(Y):f.push(Y),w[F]=Y})})(E,P)}),{forms:d,inNodeScope:f,inEditorScope:b,lookupTable:w,formNavigators:v}},KL=kn("forward-slide"),Vy=kn("backward-slide"),S0=kn("change-slide-event"),tO="tox-pop--resizing",nO="tox-pop--transition",mz=(s,l,d,f)=>{const b=f.backstage,v=b.shared,w=da().deviceType.isTouch,k=Ts(),E=Ts(),P=Ts(),F=Ji((Ie=>{const qe=Un([]);return br.sketch({dom:{tag:"div",classes:["tox-pop"]},fireDismissalEventInstead:{event:"doNotDismissYet"},onShow:lt=>{qe.set([]),br.getContent(lt).each(Nt=>{ks(Nt.element,"visibility")}),Rr(lt.element,tO),ks(lt.element,"width")},inlineBehaviours:Xt([Oo("context-toolbar-events",[Hf(ev(),(lt,Nt)=>{Nt.event.raw.propertyName==="width"&&(Rr(lt.element,tO),ks(lt.element,"width"))}),Rt(S0,(lt,Nt)=>{const Ot=lt.element;ks(Ot,"width");const Et=Di(Ot);br.setContent(lt,Nt.event.contents),Sr(Ot,tO);const jt=Di(Ot);yo(Ot,"width",Et+"px"),br.getContent(lt).each(xn=>{Nt.event.focus.bind(Pn=>(ja(Pn),Zr(Ot))).orThunk(()=>(zn.focusIn(xn),xu(pt(Ot))))}),setTimeout(()=>{yo(lt.element,"width",jt+"px")},0)}),Rt(KL,(lt,Nt)=>{br.getContent(lt).each(Ot=>{qe.set(qe.get().concat([{bar:Ot,focus:xu(pt(lt.element))}]))}),$n(lt,S0,{contents:Nt.event.forwardContents,focus:R.none()})}),Rt(Vy,(lt,Nt)=>{Ge(qe.get()).each(Ot=>{qe.set(qe.get().slice(0,qe.get().length-1)),$n(lt,S0,{contents:dl(Ot.bar),focus:Ot.focus})})})]),zn.config({mode:"special",onEscape:lt=>Ge(qe.get()).fold(()=>Ie.onEscape(),Nt=>(No(lt,Vy),R.some(!0)))})]),lazySink:()=>Wo.value(Ie.sink)})})({sink:d,onEscape:()=>(s.focus(),R.some(!0))})),L=()=>{const Ie=P.get().getOr("node"),qe=bb(Ie)?1:0;return UL(s,v,Ie,qe)},H=()=>!(s.removed||w()&&b.isContextMenuOpen()),Y=()=>{if(H()){const Ie=L(),qe=ai(P.get(),"node")?((lt,Nt)=>Nt.filter(Ot=>hn(Ot)&&Cl(Ot)).map(El).getOrThunk(()=>Q4(lt)))(s,k.get()):Q4(s);return Ie.height<=0||!HL(qe,Ie,.01)}return!0},Q=()=>{k.clear(),E.clear(),P.clear(),br.hide(F)},fe=()=>{if(br.isOpen(F)){const Ie=F.element;ks(Ie,"display"),Y()?yo(Ie,"display","none"):(E.set(0),br.reposition(F))}},pe=Ie=>({dom:{tag:"div",classes:["tox-pop__dialog"]},components:[Ie],behaviours:Xt([zn.config({mode:"acyclic"}),Oo("pop-dialog-wrap-events",[ar(qe=>{s.shortcuts.add("ctrl+F9","focus statusbar",()=>zn.focusIn(qe))}),ad(qe=>{s.shortcuts.remove("ctrl+F9")})])])}),Ee=ca(()=>Ck(l,Ie=>{const qe=ge([Ie]);$n(F,KL,{forwardContents:pe(qe)})})),ge=Ie=>{const{buttons:qe}=s.ui.registry.getAll(),lt={...qe,...Ee().formNavigators},Nt=Qv(s)===md.scrolling?md.scrolling:md.default,Ot=Zt(Me(Ie,Et=>Et.type==="contexttoolbar"?((jt,xn)=>xk(s,{buttons:jt,toolbar:xn.items,allowToolbarGroups:!1},f.backstage,R.some(["form:"])))(lt,Et):((jt,xn)=>dz(jt,xn))(Et,v.providers)));return L4({type:Nt,uid:kn("context-toolbar"),initGroups:Ot,onEscape:R.none,cyclicKeying:!0,providers:v.providers})},me=(Ie,qe)=>{if(Ae.cancel(),!H())return;const lt=ge(Ie),Nt=Ie[0].position,Ot=((jt,xn)=>{const Pn=jt==="node"?v.anchors.node(xn):v.anchors.cursor(),jn=((uo,Ko,rr,mr)=>Ko==="line"?{bubble:fc(12,0,eO),layouts:{onLtr:()=>[B1],onRtl:()=>[F1]},overrides:_0}:{bubble:fc(0,12,eO,1/12),layouts:WL(uo,rr,mr,Ko),overrides:_0})(s,jt,w(),{lastElement:k.get,isReposition:()=>ai(E.get(),0),getMode:()=>xa.getMode(d)});return Bs(Pn,jn)})(Nt,qe);P.set(Nt),E.set(1);const Et=F.element;ks(Et,"display"),(jt=>ai(Jt(jt,k.get(),fs),!0))(qe)||(Rr(Et,nO),xa.reset(d,F)),br.showWithinBounds(F,pe(lt),{anchor:Ot,transition:{classes:[nO],mode:"placement"}},()=>R.some(L())),qe.fold(k.clear,k.set),Y()&&yo(Et,"display","none")};let Ce=!1;const Ae=k3(()=>{!s.hasFocus()||s.removed||Ce||(ul(F.element,nO)?Ae.throttle():((Ie,qe)=>{const lt=fn(qe.getBody()),Nt=Et=>fs(Et,lt),Ot=fn(qe.selection.getNode());return(Et=>!Nt(Et)&&!Nr(lt,Et))(Ot)?R.none():((Et,jt,xn)=>{const Pn=wk(Et,jt);if(Pn.contextForms.length>0)return R.some({elem:Et,toolbars:[Pn.contextForms[0]]});{const jn=wk(Et,xn);if(jn.contextForms.length>0)return R.some({elem:Et,toolbars:[jn.contextForms[0]]});if(Pn.contextToolbars.length>0||jn.contextToolbars.length>0){const uo=(Ko=>{if(Ko.length<=1)return Ko;{const rr=Jn=>An(Ko,gr=>gr.position===Jn),mr=Jn=>Wt(Ko,gr=>gr.position===Jn),Io=rr("selection"),ss=rr("node");if(Io||ss){if(ss&&Io){const Jn=mr("node"),gr=Me(mr("selection"),Vs=>({...Vs,position:"node"}));return Jn.concat(gr)}return mr(Io?"selection":"node")}return mr("line")}})(Pn.contextToolbars.concat(jn.contextToolbars));return R.some({elem:Et,toolbars:uo})}return R.none()}})(Ot,Ie.inNodeScope,Ie.inEditorScope).orThunk(()=>((Et,jt,xn)=>Et(jt)?R.none():rh(jt,Pn=>{if(lr(Pn)){const{contextToolbars:jn,contextForms:uo}=wk(Pn,xn.inNodeScope),Ko=uo.length>0?uo:(rr=>{if(rr.length<=1)return rr;{const mr=Io=>J(rr,ss=>ss.position===Io);return mr("selection").orThunk(()=>mr("node")).orThunk(()=>mr("line")).map(Io=>Io.position).fold(()=>[],Io=>Wt(rr,ss=>ss.position===Io))}})(jn);return Ko.length>0?R.some({elem:Pn,toolbars:Ko}):R.none()}return R.none()},Et))(Nt,Ot,Ie))})(Ee(),s).fold(Q,Ie=>{me(Ie.toolbars,R.some(Ie.elem))}))},17);s.on("init",()=>{s.on("remove",Q),s.on("ScrollContent ScrollWindow ObjectResized ResizeEditor longpress",fe),s.on("click keyup focus SetContent",Ae.throttle),s.on(VL,Q),s.on("contexttoolbar-show",Ie=>{const qe=Ee();Tn(qe.lookupTable,Ie.toolbarKey).each(lt=>{me([lt],ds(Ie.target!==s,Ie.target)),br.getContent(F).each(zn.focusIn)})}),s.on("focusout",Ie=>{I_.setEditorTimeout(s,()=>{Zr(d.element).isNone()&&Zr(F.element).isNone()&&Q()},0)}),s.on("SwitchMode",()=>{s.mode.isReadOnly()&&Q()}),s.on("ExecCommand",({command:Ie})=>{Ie.toLowerCase()==="toggleview"&&Q()}),s.on("AfterProgressState",Ie=>{Ie.state?Q():s.hasFocus()&&Ae.throttle()}),s.on("dragstart",()=>{Ce=!0}),s.on("dragend drop",()=>{Ce=!1}),s.on("NodeChange",Ie=>{Zr(F.element).fold(Ae.throttle,W)})})},jL=(s,l)=>{const d=()=>{const f=l.getOptions(s),b=l.getCurrent(s).map(l.hash),v=Ts();return Me(f,w=>({type:"togglemenuitem",text:l.display(w),onSetup:k=>{const E=F=>{F&&(v.on(L=>L.setActive(!1)),v.set(k)),k.setActive(F)};E(ai(b,l.hash(w)));const P=l.watcher(s,w,E);return()=>{v.clear(),P()}},onAction:()=>l.setCurrent(s,w)}))};s.ui.registry.addMenuButton(l.name,{tooltip:l.text,icon:l.icon,fetch:f=>f(d()),onSetup:l.onToolbarSetup}),s.ui.registry.addNestedMenuItem(l.name,{type:"nestedmenuitem",text:l.text,getSubmenuItems:d,onSetup:l.onMenuSetup})},gz=s=>{jL(s,(l=>({name:"lineheight",text:"Line height",icon:"line-height",getOptions:VD,hash:d=>((f,b)=>yk(f,["fixed","relative","empty"]).map(({value:v,unit:w})=>v+w))(d).getOr(d),display:de,watcher:(d,f,b)=>d.formatter.formatChanged("lineheight",b,!1,{value:f}).unbind,getCurrent:d=>R.from(d.queryCommandValue("LineHeight")),setCurrent:(d,f)=>d.execCommand("LineHeight",!1,f),onToolbarSetup:Fi(l),onMenuSetup:Fi(l)}))(s)),(l=>R.from($A(l)).map(d=>({name:"language",text:"Language",icon:"language",getOptions:j(d),hash:f=>B(f.customCode)?f.code:`${f.code}/${f.customCode}`,display:f=>f.title,watcher:(f,b,v)=>{var w;return f.formatter.formatChanged("lang",v,!1,{value:b.code,customValue:(w=b.customCode)!==null&&w!==void 0?w:null}).unbind},getCurrent:f=>{const b=fn(f.selection.getNode());return ih(b,v=>R.some(v).filter(lr).bind(w=>es(w,"lang").map(k=>({code:k,customCode:es(w,"data-mce-lang").getOrUndefined(),title:""}))))},setCurrent:(f,b)=>f.execCommand("Lang",!1,b),onToolbarSetup:f=>{const b=Rc();return f.setActive(l.formatter.match("lang",{},void 0,!0)),b.set(l.formatter.formatChanged("lang",f.setActive,!0)),_y(b.clear,Fi(l)(f))},onMenuSetup:Fi(l)})))(s).each(l=>jL(s,l))},hz=s=>u0(s,"NodeChange",l=>{l.setEnabled(s.queryCommandState("outdent")&&s.selection.isEditable())}),Ww=(s,l)=>d=>{d.setActive(l.get());const f=b=>{l.set(b.state),d.setActive(b.state)};return s.on("PastePlainTextToggle",f),_y(()=>s.off("PastePlainTextToggle",f),Fi(s)(d))},oO=(s,l)=>()=>{s.execCommand("mceToggleFormat",!1,l)},sO=s=>{(l=>{(d=>{Hh.each([{name:"bold",text:"Bold",icon:"bold",shortcut:"Meta+B"},{name:"italic",text:"Italic",icon:"italic",shortcut:"Meta+I"},{name:"underline",text:"Underline",icon:"underline",shortcut:"Meta+U"},{name:"strikethrough",text:"Strikethrough",icon:"strike-through"},{name:"subscript",text:"Subscript",icon:"subscript"},{name:"superscript",text:"Superscript",icon:"superscript"}],(f,b)=>{d.ui.registry.addToggleButton(f.name,{tooltip:f.text,icon:f.icon,onSetup:dm(d,f.name),onAction:oO(d,f.name),shortcut:f.shortcut})});for(let f=1;f<=6;f++){const b="h"+f,v=`Access+${f}`;d.ui.registry.addToggleButton(b,{text:b.toUpperCase(),tooltip:"Heading "+f,onSetup:dm(d,b),onAction:oO(d,b),shortcut:v})}})(l),(d=>{Hh.each([{name:"copy",text:"Copy",action:"Copy",icon:"copy"},{name:"help",text:"Help",action:"mceHelp",icon:"help",shortcut:"Alt+0"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all",shortcut:"Meta+A"},{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document"},{name:"print",text:"Print",action:"mcePrint",icon:"print",shortcut:"Meta+P"}],f=>{d.ui.registry.addButton(f.name,{tooltip:f.text,icon:f.icon,onAction:hc(d,f.action),shortcut:f.shortcut})}),Hh.each([{name:"cut",text:"Cut",action:"Cut",icon:"cut"},{name:"paste",text:"Paste",action:"Paste",icon:"paste"},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting"},{name:"remove",text:"Remove",action:"Delete",icon:"remove"},{name:"hr",text:"Horizontal line",action:"InsertHorizontalRule",icon:"horizontal-rule"}],f=>{d.ui.registry.addButton(f.name,{tooltip:f.text,icon:f.icon,onSetup:Fi(d),onAction:hc(d,f.action)})})})(l),(d=>{Hh.each([{name:"blockquote",text:"Blockquote",action:"mceBlockQuote",icon:"quote"}],f=>{d.ui.registry.addToggleButton(f.name,{tooltip:f.text,icon:f.icon,onAction:hc(d,f.action),onSetup:dm(d,f.name)})})})(l)})(s),(l=>{Hh.each([{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document"},{name:"copy",text:"Copy",action:"Copy",icon:"copy",shortcut:"Meta+C"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all",shortcut:"Meta+A"},{name:"print",text:"Print...",action:"mcePrint",icon:"print",shortcut:"Meta+P"}],d=>{l.ui.registry.addMenuItem(d.name,{text:d.text,icon:d.icon,shortcut:d.shortcut,onAction:hc(l,d.action)})}),Hh.each([{name:"bold",text:"Bold",action:"Bold",icon:"bold",shortcut:"Meta+B"},{name:"italic",text:"Italic",action:"Italic",icon:"italic",shortcut:"Meta+I"},{name:"underline",text:"Underline",action:"Underline",icon:"underline",shortcut:"Meta+U"},{name:"strikethrough",text:"Strikethrough",action:"Strikethrough",icon:"strike-through"},{name:"subscript",text:"Subscript",action:"Subscript",icon:"subscript"},{name:"superscript",text:"Superscript",action:"Superscript",icon:"superscript"},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting"},{name:"cut",text:"Cut",action:"Cut",icon:"cut",shortcut:"Meta+X"},{name:"paste",text:"Paste",action:"Paste",icon:"paste",shortcut:"Meta+V"},{name:"hr",text:"Horizontal line",action:"InsertHorizontalRule",icon:"horizontal-rule"}],d=>{l.ui.registry.addMenuItem(d.name,{text:d.text,icon:d.icon,shortcut:d.shortcut,onSetup:Fi(l),onAction:hc(l,d.action)})}),l.ui.registry.addMenuItem("codeformat",{text:"Code",icon:"sourcecode",onSetup:Fi(l),onAction:oO(l,"code")})})(s)},_k=(s,l)=>u0(s,"Undo Redo AddUndo TypingUndo ClearUndos SwitchMode",d=>{d.setEnabled(!s.mode.isReadOnly()&&s.undoManager[l]())}),pz=s=>u0(s,"VisualAid",l=>{l.setActive(s.hasVisual)}),bz=(s,l)=>{(d=>{mt([{name:"alignleft",text:"Align left",cmd:"JustifyLeft",icon:"align-left"},{name:"aligncenter",text:"Align center",cmd:"JustifyCenter",icon:"align-center"},{name:"alignright",text:"Align right",cmd:"JustifyRight",icon:"align-right"},{name:"alignjustify",text:"Justify",cmd:"JustifyFull",icon:"align-justify"}],f=>{d.ui.registry.addToggleButton(f.name,{tooltip:f.text,icon:f.icon,onAction:hc(d,f.cmd),onSetup:dm(d,f.name)})}),d.ui.registry.addButton("alignnone",{tooltip:"No alignment",icon:"align-none",onSetup:Fi(d),onAction:hc(d,"JustifyNone")})})(s),sO(s),((d,f)=>{((b,v)=>{const w=$y(v,H4(b));b.ui.registry.addNestedMenuItem("align",{text:v.shared.providers.translate("Align"),onSetup:Fi(b),getSubmenuItems:()=>w.items.validateItems(w.getStyleItems())})})(d,f),((b,v)=>{const w=$y(v,SL(b));b.ui.registry.addNestedMenuItem("fontfamily",{text:v.shared.providers.translate("Fonts"),onSetup:Fi(b),getSubmenuItems:()=>w.items.validateItems(w.getStyleItems())})})(d,f),((b,v)=>{const w={type:"advanced",...v.styles},k=$y(v,IL(b,w));b.ui.registry.addNestedMenuItem("styles",{text:"Formats",onSetup:Fi(b),getSubmenuItems:()=>k.items.validateItems(k.getStyleItems())})})(d,f),((b,v)=>{const w=$y(v,K4(b));b.ui.registry.addNestedMenuItem("blocks",{text:"Blocks",onSetup:Fi(b),getSubmenuItems:()=>w.items.validateItems(w.getStyleItems())})})(d,f),((b,v)=>{const w=$y(v,OL(b));b.ui.registry.addNestedMenuItem("fontsize",{text:"Font sizes",onSetup:Fi(b),getSubmenuItems:()=>w.items.validateItems(w.getStyleItems())})})(d,f)})(s,l),(d=>{(f=>{f.ui.registry.addMenuItem("undo",{text:"Undo",icon:"undo",shortcut:"Meta+Z",onSetup:_k(f,"hasUndo"),onAction:hc(f,"undo")}),f.ui.registry.addMenuItem("redo",{text:"Redo",icon:"redo",shortcut:"Meta+Y",onSetup:_k(f,"hasRedo"),onAction:hc(f,"redo")})})(d),(f=>{f.ui.registry.addButton("undo",{tooltip:"Undo",icon:"undo",enabled:!1,onSetup:_k(f,"hasUndo"),onAction:hc(f,"undo"),shortcut:"Meta+Z"}),f.ui.registry.addButton("redo",{tooltip:"Redo",icon:"redo",enabled:!1,onSetup:_k(f,"hasRedo"),onAction:hc(f,"redo"),shortcut:"Meta+Y"})})(d)})(s),(d=>{(k=>{k.addCommand("mceApplyTextcolor",(E,P)=>{((F,L,H)=>{F.undoManager.transact(()=>{F.focus(),F.formatter.apply(L,{value:H}),F.nodeChanged()})})(k,E,P)}),k.addCommand("mceRemoveTextcolor",E=>{((P,F)=>{P.undoManager.transact(()=>{P.focus(),P.formatter.remove(F,{value:null},void 0,!0),P.nodeChanged()})})(k,E)})})(d);const f=QP(d),b=eN(d),v=Un(f),w=Un(b);BT(d,"forecolor","forecolor",v),BT(d,"backcolor","hilitecolor",w),ky(d,"forecolor","forecolor","Text color",v),ky(d,"backcolor","hilitecolor","Background color",w)})(s),(d=>{(f=>{f.ui.registry.addButton("visualaid",{tooltip:"Visual aids",text:"Visual aids",onAction:hc(f,"mceToggleVisualAid")})})(d),(f=>{f.ui.registry.addToggleMenuItem("visualaid",{text:"Visual aids",onSetup:pz(f),onAction:hc(f,"mceToggleVisualAid")})})(d)})(s),(d=>{(f=>{f.ui.registry.addButton("outdent",{tooltip:"Decrease indent",icon:"outdent",onSetup:hz(f),onAction:hc(f,"outdent")}),f.ui.registry.addButton("indent",{tooltip:"Increase indent",icon:"indent",onSetup:Fi(f),onAction:hc(f,"indent")})})(d)})(s),gz(s),(d=>{const f=Un(FD(d)),b=()=>d.execCommand("mceTogglePlainTextPaste");d.ui.registry.addToggleButton("pastetext",{active:!1,icon:"paste-text",tooltip:"Paste as text",onAction:b,onSetup:Ww(d,f)}),d.ui.registry.addToggleMenuItem("pastetext",{text:"Paste as text",icon:"paste-text",onAction:b,onSetup:Ww(d,f)})})(s)},ZL=s=>h(s)?s.split(/[ ,]/):s,GL=s=>l=>l.options.get(s),qL=GL("contextmenu_never_use_native"),vz=GL("contextmenu_avoid_overlap"),rO=s=>{const l=s.ui.registry.getAll().contextMenus,d=s.options.get("contextmenu");return s.options.isSet("contextmenu")?d:Wt(d,f=>go(l,f))},Kw=(s,l)=>({type:"makeshift",x:s,y:l}),YL=s=>s.type==="longpress"||s.type.indexOf("touch")===0,yz=(s,l)=>l.type==="contextmenu"||l.type==="longpress"?s.inline?(d=>{if(YL(d)){const f=d.touches[0];return Kw(f.pageX,f.pageY)}return Kw(d.pageX,d.pageY)})(l):((d,f)=>{const b=uy.DOM.getPos(d);return((v,w,k)=>Kw(v.x+w,v.y+k))(f,b.x,b.y)})(s.getContentAreaContainer(),(d=>{if(YL(d)){const f=d.touches[0];return Kw(f.clientX,f.clientY)}return Kw(d.clientX,d.clientY)})(l)):XL(s),XL=s=>({type:"selection",root:fn(s.selection.getNode())}),JL=(s,l,d)=>{switch(d){case"node":return(f=>({type:"node",node:R.some(fn(f.selection.getNode())),root:fn(f.getBody())}))(s);case"point":return yz(s,l);case"selection":return XL(s)}},QL=(s,l,d,f,b,v)=>{const w=d(),k=JL(s,l,v);v0(w,um.CLOSE_ON_EXECUTE,f,{isHorizontalMenu:!1,search:R.none()}).map(E=>{l.preventDefault(),br.showMenuAt(b,{anchor:k},{menu:{markers:o0("normal")},data:E})})},eM={onLtr:()=>[jr,Ir,Dr,oi,Fs,kr,cs,Eg,Dw,gb,bc,pc],onRtl:()=>[jr,Dr,Ir,Fs,oi,kr,cs,Eg,bc,pc,Dw,gb]},xz={valignCentre:[],alignCentre:[],alignLeft:["tox-pop--align-left"],alignRight:["tox-pop--align-right"],right:["tox-pop--right"],left:["tox-pop--left"],bottom:["tox-pop--bottom"],top:["tox-pop--top"]},wz=(s,l,d,f,b,v)=>{const w=da(),k=w.os.isiOS(),E=w.os.isMacOS(),P=w.os.isAndroid(),F=w.deviceType.isTouch(),L=()=>{const H=d();((Y,Q,fe,pe,Ee,ge,me)=>{const Ce=((Ae,Ie,qe)=>{const lt=JL(Ae,Ie,qe);return{bubble:fc(0,qe==="point"?12:0,xz),layouts:eM,overrides:{maxWidthFunction:R4(),maxHeightFunction:Sh()},...lt}})(Y,Q,ge);v0(fe,um.CLOSE_ON_EXECUTE,pe,{isHorizontalMenu:!0,search:R.none()}).map(Ae=>{Q.preventDefault();const Ie=me?hl.HighlightMenuAndItem:hl.HighlightNone;br.showMenuWithinBounds(Ee,{anchor:Ce},{menu:{markers:o0("normal"),highlightOnOpen:Ie},data:Ae,type:"horizontal"},()=>R.some(UL(Y,pe.shared,ge==="node"?"node":"selection"))),Y.dispatch(VL)})})(s,l,H,f,b,v,!(P||k||E&&F))};if((E||k)&&v!=="node"){const H=()=>{(Y=>{const Q=Y.selection.getRng(),fe=()=>{I_.setEditorTimeout(Y,()=>{Y.selection.setRng(Q)},10),ge()};Y.once("touchend",fe);const pe=me=>{me.preventDefault(),me.stopImmediatePropagation()};Y.on("mousedown",pe,!0);const Ee=()=>ge();Y.once("longpresscancel",Ee);const ge=()=>{Y.off("touchend",fe),Y.off("longpresscancel",Ee),Y.off("mousedown",pe)}})(s),L()};((Y,Q)=>{const fe=Y.selection;if(fe.isCollapsed()||Q.touches.length<1)return!1;{const pe=Q.touches[0],Ee=fe.getRng();return u2(Y.getWin(),Jf.domRange(Ee)).exists(ge=>ge.left<=pe.clientX&&ge.right>=pe.clientX&&ge.top<=pe.clientY&&ge.bottom>=pe.clientY)}})(s,l)?H():(s.once("selectionchange",H),s.once("touchend",()=>s.off("selectionchange",H)))}else L()},tM=s=>h(s)?s==="|":s.type==="separator",iO={type:"separator"},nM=s=>{const l=d=>({text:d.text,icon:d.icon,enabled:d.enabled,shortcut:d.shortcut});if(h(s))return s;switch(s.type){case"separator":return iO;case"submenu":return{type:"nestedmenuitem",...l(s),getSubmenuItems:()=>{const f=s.getSubmenuItems();return h(f)?f:Me(f,nM)}};default:const d=s;return{type:"menuitem",...l(d),onAction:he(d.onAction)}}},aO=(s,l)=>{if(l.length===0)return s;const d=Ge(s).filter(f=>!tM(f)).fold(()=>[],f=>[iO]);return s.concat(d).concat(l).concat([iO])},k0=(s,l)=>!(d=>d.type==="longpress"||go(d,"touches"))(l)&&(l.button!==2||l.target===s.getBody()&&l.pointerType===""),oM=(s,l)=>k0(s,l)?s.selection.getStart(!0):l.target,Cz=(s,l,d)=>{const f=da().deviceType.isTouch,b=Ji(br.sketch({dom:{tag:"div"},lazySink:l,onEscape:()=>s.focus(),onShow:()=>d.setContextMenuState(!0),onHide:()=>d.setContextMenuState(!1),fireDismissalEventInstead:{},inlineBehaviours:Xt([Oo("dismissContextMenu",[Rt(ah(),(k,E)=>{T.close(k),s.focus()})])])})),v=()=>br.hide(b),w=k=>{if(qL(s)&&k.preventDefault(),((P,F)=>F.ctrlKey&&!qL(P))(s,k)||(P=>rO(P).length===0)(s))return;const E=((P,F)=>{const L=vz(P),H=k0(P,F)?"selection":"point";if(wl(L)){const Y=oM(P,F);return Ay(fn(Y),L)?"node":H}return H})(s,k);(f()?wz:QL)(s,k,()=>{const P=oM(s,k),F=s.ui.registry.getAll(),L=rO(s);return((H,Y,Q)=>{const fe=on(Y,(pe,Ee)=>Tn(H,Ee.toLowerCase()).map(ge=>{const me=ge.update(Q);if(h(me)&&wl(Ac(me)))return aO(pe,me.split(" "));if(D(me)&&me.length>0){const Ce=Me(me,nM);return aO(pe,Ce)}return pe}).getOrThunk(()=>pe.concat([Ee])),[]);return fe.length>0&&tM(fe[fe.length-1])&&fe.pop(),fe})(F.contextMenus,L,P)},d,b,E)};s.on("init",()=>{const k="ResizeEditor ScrollContent ScrollWindow longpresscancel"+(f()?"":" ResizeWindow");s.on(k,v),s.on("longpress contextmenu",w)})},lO=Xl([{offset:["x","y"]},{absolute:["x","y"]},{fixed:["x","y"]}]),E0=s=>l=>l.translate(-s.left,-s.top),vc=s=>l=>l.translate(s.left,s.top),mm=s=>(l,d)=>on(s,(f,b)=>b(f),tr(l,d)),jw=(s,l,d)=>s.fold(mm([vc(d),E0(l)]),mm([E0(l)]),mm([])),zy=(s,l,d)=>s.fold(mm([vc(d)]),mm([]),mm([vc(l)])),sM=(s,l,d)=>s.fold(mm([]),mm([E0(d)]),mm([vc(l),E0(d)])),rM=(s,l,d)=>{const f=s.fold((b,v)=>({position:R.some("absolute"),left:R.some(b+"px"),top:R.some(v+"px")}),(b,v)=>({position:R.some("absolute"),left:R.some(b-d.left+"px"),top:R.some(v-d.top+"px")}),(b,v)=>({position:R.some("fixed"),left:R.some(b+"px"),top:R.some(v+"px")}));return{right:R.none(),bottom:R.none(),...f}},cO=(s,l,d,f)=>{const b=(v,w)=>(k,E)=>{const P=v(l,d,f);return w(k.getOr(P.left),E.getOr(P.top))};return s.fold(b(sM,Zw),b(zy,Kh),b(jw,A0))},Zw=lO.offset,Kh=lO.absolute,A0=lO.fixed,iM=(s,l)=>{const d=Zo(s,l);return B(d)?NaN:parseInt(d,10)},aM=(s,l,d,f,b,v)=>{const w=((P,F,L,H)=>((Y,Q)=>{const fe=Y.element,pe=iM(fe,Q.leftAttr),Ee=iM(fe,Q.topAttr);return isNaN(pe)||isNaN(Ee)?R.none():R.some(tr(pe,Ee))})(P,F).fold(()=>L,Y=>A0(Y.left+H.left,Y.top+H.top)))(s,l,d,f),k=l.mustSnap?cM(s,l,w,b,v):uM(s,l,w,b,v),E=jw(w,b,v);return((P,F,L)=>{const H=P.element;dn(H,F.leftAttr,L.left+"px"),dn(H,F.topAttr,L.top+"px")})(s,l,E),k.fold(()=>({coord:A0(E.left,E.top),extra:R.none()}),P=>({coord:P.output,extra:P.extra}))},lM=(s,l,d,f)=>ln(s,b=>{const v=b.sensor;return((k,E,P,F,L,H)=>{const Y=zy(k,L,H),Q=zy(E,L,H);return Math.abs(Y.left-Q.left)<=P&&Math.abs(Y.top-Q.top)<=F})(l,v,b.range.left,b.range.top,d,f)?R.some({output:cO(b.output,l,d,f),extra:b.extra}):R.none()}),cM=(s,l,d,f,b)=>{const v=l.getSnapPoints(s);return lM(v,d,f,b).orThunk(()=>on(v,(k,E)=>{const P=E.sensor,F=((L,H,Y,Q,fe,pe)=>{const Ee=zy(L,fe,pe),ge=zy(H,fe,pe),me=Math.abs(Ee.left-ge.left),Ce=Math.abs(Ee.top-ge.top);return tr(me,Ce)})(d,P,E.range.left,E.range.top,f,b);return k.deltas.fold(()=>({deltas:R.some(F),snap:R.some(E)}),L=>(F.left+F.top)/2<=(L.left+L.top)/2?{deltas:R.some(F),snap:R.some(E)}:k)},{deltas:R.none(),snap:R.none()}).snap.map(k=>({output:cO(k.output,d,f,b),extra:k.extra})))},uM=(s,l,d,f,b)=>{const v=l.getSnapPoints(s);return lM(v,d,f,b)};var dM=Object.freeze({__proto__:null,snapTo:(s,l,d,f)=>{const b=l.getTarget(s.element);if(l.repositionTarget){const v=li(s.element),w=nr(v),k=Uf(b),E=((F,L,H)=>({coord:cO(F.output,F.output,L,H),extra:F.extra}))(f,w,k),P=rM(E.coord,0,k);_l(b,P)}}});const uO="data-initial-z-index",fM=(s,l)=>{s.getSystem().addToGui(l),(d=>{Ta(d.element).filter(lr).each(f=>{ti(f,"z-index").each(b=>{dn(f,uO,b)}),yo(f,"z-index",Er(d.element,"z-index"))})})(l)},_z=s=>{(l=>{Ta(l.element).filter(lr).each(d=>{es(d,uO).fold(()=>ks(d,"z-index"),f=>yo(d,"z-index",f)),Po(d,uO)})})(s),s.getSystem().removeFromGui(s)},mM=(s,l,d)=>s.getSystem().build(uf.sketch({dom:{styles:{left:"0px",top:"0px",width:"100%",height:"100%",position:"fixed","z-index":"1000000000000000"},classes:[l]},events:d}));var Sz=Tr("snaps",[Bt("getSnapPoints"),os("onSensor"),Bt("leftAttr"),Bt("topAttr"),ut("lazyViewport",Gi),ut("mustSnap",!1)]);const dO=[ut("useFixed",we),Bt("blockerClass"),ut("getTarget",de),ut("onDrag",W),ut("repositionTarget",!0),ut("onDrop",W),or("getBounds",Gi),Sz],fO=s=>{return(l=ti(s,"left"),d=ti(s,"top"),f=ti(s,"position"),l.isSome()&&d.isSome()&&f.isSome()?R.some(((b,v,w)=>(w==="fixed"?A0:Zw)(parseInt(b,10),parseInt(v,10)))(l.getOrDie(),d.getOrDie(),f.getOrDie())):R.none()).getOrThunk(()=>{const b=Vl(s);return Kh(b.left,b.top)});var l,d,f},gM=(s,l)=>({bounds:s.getBounds(),height:Tc(l.element),width:il(l.element)}),mO=(s,l,d,f,b)=>{const v=d.update(f,b),w=d.getStartData().getOrThunk(()=>gM(l,s));v.each(k=>{((E,P,F,L)=>{const H=P.getTarget(E.element);if(P.repositionTarget){const Y=li(E.element),Q=nr(Y),fe=Uf(H),pe=fO(H),Ee=((me,Ce,Ae,Ie,qe,lt,Nt)=>((Ot,Et,jt,xn,Pn)=>{const jn=Pn.bounds,uo=zy(Et,jt,xn),Ko=$c(uo.left,jn.x,jn.x+jn.width-Pn.width),rr=$c(uo.top,jn.y,jn.y+jn.height-Pn.height),mr=Kh(Ko,rr);return Et.fold(()=>{const Io=sM(mr,jt,xn);return Zw(Io.left,Io.top)},j(mr),()=>{const Io=jw(mr,jt,xn);return A0(Io.left,Io.top)})})(0,Ce.fold(()=>{const Ot=(Et=Ae,jt=lt.left,xn=lt.top,Et.fold((jn,uo)=>Zw(jn+jt,uo+xn),(jn,uo)=>Kh(jn+jt,uo+xn),(jn,uo)=>A0(jn+jt,uo+xn)));var Et,jt,xn;const Pn=jw(Ot,Ie,qe);return A0(Pn.left,Pn.top)},Ot=>{const Et=aM(me,Ot,Ae,lt,Ie,qe);return Et.extra.each(jt=>{Ot.onSensor(me,jt)}),Et.coord}),Ie,qe,Nt))(E,P.snaps,pe,Q,fe,L,F),ge=rM(Ee,0,fe);_l(H,ge)}P.onDrag(E,H,L)})(s,l,w,k)})},gO=(s,l,d,f)=>{l.each(_z),d.snaps.each(v=>{((w,k)=>{((E,P)=>{const F=E.element;Po(F,P.leftAttr),Po(F,P.topAttr)})(w,k)})(s,v)});const b=d.getTarget(s.element);f.reset(),d.onDrop(s,b)},hO=s=>(l,d)=>{const f=b=>{d.setStartData(gM(l,b))};return wo([Rt(ov(),b=>{d.getStartData().each(()=>f(b))}),...s(l,d,f)])};var kz=Object.freeze({__proto__:null,getData:s=>R.from(tr(s.x,s.y)),getDelta:(s,l)=>tr(l.left-s.left,l.top-s.top)});const hM=(s,l,d)=>[Rt(Ft(),(f,b)=>{if(b.event.raw.button!==0)return;b.stop();const v=()=>gO(f,R.some(E),s,l),w=jT(v,200),k={drop:v,delayDrop:w.schedule,forceDrop:v,move:P=>{w.cancel(),mO(f,s,l,kz,P)}},E=mM(f,s.blockerClass,(P=>wo([Rt(Ft(),P.forceDrop),Rt(po(),P.drop),Rt(Xn(),(F,L)=>{P.move(L.event)}),Rt(Eo(),P.delayDrop)]))(k));d(f),fM(f,E)})],Ez=[...dO,Xs("dragger",{handlers:hO(hM)})];var pM=Object.freeze({__proto__:null,getData:s=>{const l=s.raw.touches;return l.length===1?(d=>{const f=d[0];return R.some(tr(f.clientX,f.clientY))})(l):R.none()},getDelta:(s,l)=>tr(l.left-s.left,l.top-s.top)});const bM=(s,l,d)=>{const f=Ts(),b=v=>{gO(v,f.get(),s,l),f.clear()};return[Rt(G(),(v,w)=>{w.stop();const k=()=>b(v),E={drop:k,delayDrop:W,forceDrop:k,move:F=>{mO(v,s,l,pM,F)}},P=mM(v,s.blockerClass,(F=>wo([Rt(G(),F.forceDrop),Rt(Be(),F.drop),Rt(Xe(),F.drop),Rt(ae(),(L,H)=>{F.move(H.event)})]))(E));f.set(P),d(v),fM(v,P)}),Rt(ae(),(v,w)=>{w.stop(),mO(v,s,l,pM,w.event)}),Rt(Be(),(v,w)=>{w.stop(),b(v)}),Rt(Xe(),b)]},Az=Ez,vM=[...dO,Xs("dragger",{handlers:hO(bM)})],yM=[...dO,Xs("dragger",{handlers:hO((s,l,d)=>[...hM(s,l,d),...bM(s,l,d)])})];var Tz=Object.freeze({__proto__:null,mouse:Az,touch:vM,mouseOrTouch:yM}),Oz=Object.freeze({__proto__:null,init:()=>{let s=R.none(),l=R.none();const d=j({});return Li({readState:d,reset:()=>{s=R.none(),l=R.none()},update:(f,b)=>f.getData(b).bind(v=>((w,k)=>{const E=s.map(P=>w.getDelta(P,k));return s=R.some(k),E})(f,v)),getStartData:()=>l,setStartData:f=>{l=R.some(f)}})}});const T0=qC({branchKey:"mode",branches:Tz,name:"dragging",active:{events:(s,l)=>s.dragger.handlers(s,l)},extra:{snap:s=>({sensor:s.sensor,range:s.range,output:s.output,extra:R.from(s.extra)})},state:Oz,apis:dM}),xM=(s,l,d,f,b,v)=>s.fold(()=>T0.snap({sensor:Kh(d-20,f-20),range:tr(b,v),output:Kh(R.some(d),R.some(f)),extra:{td:l}}),w=>{const k=d-20,E=f-20,P=w.element.dom.getBoundingClientRect();return T0.snap({sensor:Kh(k,E),range:tr(40,40),output:Kh(R.some(d-P.width/2),R.some(f-P.height/2)),extra:{td:l}})}),wM=(s,l,d)=>({getSnapPoints:s,leftAttr:"data-drag-left",topAttr:"data-drag-top",onSensor:(f,b)=>{const v=b.td;((w,k)=>w.exists(E=>fs(E,k)))(l.get(),v)||(l.set(v),d(v))},mustSnap:!0}),CM=s=>Ss(qa.sketch({dom:{tag:"div",classes:["tox-selector"]},buttonBehaviours:Xt([T0.config({mode:"mouseOrTouch",blockerClass:"blocker",snaps:s}),g0.config({})]),eventOrder:{mousedown:["dragging","alloy.base.behaviour"],touchstart:["dragging","alloy.base.behaviour"]}})),_M=(s,l)=>{const d=Un([]),f=Un([]),b=Un(!1),v=Ts(),w=Ts(),k=ge=>{const me=El(ge);return xM(L.getOpt(l),ge,me.x,me.y,me.width,me.height)},E=ge=>{const me=El(ge);return xM(H.getOpt(l),ge,me.right,me.bottom,me.width,me.height)},P=wM(()=>Me(d.get(),ge=>k(ge)),v,ge=>{w.get().each(me=>{s.dispatch("TableSelectorChange",{start:ge,finish:me})})}),F=wM(()=>Me(f.get(),ge=>E(ge)),w,ge=>{v.get().each(me=>{s.dispatch("TableSelectorChange",{start:me,finish:ge})})}),L=CM(P),H=CM(F),Y=Ji(L.asSpec()),Q=Ji(H.asSpec()),fe=(ge,me,Ce,Ae)=>{const Ie=Ce(me);T0.snapTo(ge,Ie),((qe,lt,Nt,Ot)=>{const Et=lt.dom.getBoundingClientRect();ks(qe.element,"display");const jt=su(fn(s.getBody())).dom.innerHeight,xn=Et[Ae]<0,Pn=((jn,uo)=>jn[Ae]>uo)(Et,jt);(xn||Pn)&&yo(qe.element,"display","none")})(ge,me)},pe=ge=>fe(Y,ge,k,"top"),Ee=ge=>fe(Q,ge,E,"bottom");if(da().deviceType.isTouch()){const ge=me=>Me(me,fn);s.on("TableSelectionChange",me=>{b.get()||(nm(l,Y),nm(l,Q),b.set(!0));const Ce=fn(me.start),Ae=fn(me.finish);v.set(Ce),w.set(Ae),R.from(me.otherCells).each(Ie=>{d.set(ge(Ie.upOrLeftCells)),f.set(ge(Ie.downOrRightCells)),pe(Ce),Ee(Ae)})}),s.on("ResizeEditor ResizeWindow ScrollContent",()=>{v.get().each(pe),w.get().each(Ee)}),s.on("TableSelectionClear",()=>{b.get()&&(ml(Y),ml(Q),b.set(!1)),v.clear(),w.clear()})}},SM=(s,l,d)=>{var f;const b=(f=l.delimiter)!==null&&f!==void 0?f:"";return{dom:{tag:"div",classes:["tox-statusbar__path"],attributes:{role:"navigation"}},behaviours:Xt([zn.config({mode:"flow",selector:"div[role=button]"}),co.config({disabled:d.isDisabled}),Bi(),Gs.config({}),Qn.config({}),Oo("elementPathEvents",[ar((v,w)=>{s.shortcuts.add("alt+F11","focus statusbar elementpath",()=>zn.focusIn(v)),s.on("NodeChange",k=>{const E=(F=>{const L=[];let H=F.length;for(;H-- >0;){const Q=F[H];if(Q.nodeType===1&&(Y=Q).nodeName!=="BR"&&!Y.getAttribute("data-mce-bogus")&&Y.getAttribute("data-mce-type")!=="bookmark"){const fe=GP(s,Q);if(fe.isDefaultPrevented()||L.push({name:fe.name,element:Q}),fe.isPropagationStopped())break}}var Y;return L})(k.parents),P=E.length>0?on(E,(F,L,H)=>{const Y=((Q,fe,pe)=>qa.sketch({dom:{tag:"div",classes:["tox-statusbar__path-item"],attributes:{"data-index":pe}},components:[Br(Q)],action:Ee=>{s.focus(),s.selection.select(fe),s.nodeChanged()},buttonBehaviours:Xt([ri.config({...d.tooltips.getConfig({tooltipText:d.translate(["Select the {0} element",fe.nodeName.toLowerCase()]),onShow:(Ee,ge)=>{((me,Ce)=>{const Ae=R.from(Zo(me,"id")).getOrThunk(()=>{const Ie=kn("aria");return dn(Ce,"id",Ie),Ie});dn(me,"aria-describedby",Ae)})(Ee.element,ge.element)},onHide:Ee=>{var ge;ge=Ee.element,Po(ge,"aria-describedby")}})}),Ma(d.isDisabled),Bi()])}))(L.name,L.element,H);return H===0?F.concat([Y]):F.concat([{dom:{tag:"div",classes:["tox-statusbar__path-divider"],attributes:{"aria-hidden":!0}},components:[Br(` ${b} `)]},Y])},[]):[];Qn.set(v,P)})})])]),components:[]}};var jh;(function(s){s[s.None=0]="None",s[s.Both=1]="Both",s[s.Vertical=2]="Vertical"})(jh||(jh={}));const Sk=(s,l,d)=>{const f=fn(s.getContainer()),b=((v,w,k,E,P)=>{const F={height:Uw(E+w.top,dy(v),D_(v))};return k===jh.Both&&(F.width=Uw(P+w.left,F2(v),fy(v))),F})(s,l,d,Ar(f),Di(f));Yn(b,(v,w)=>{ee(v)&&yo(f,w,pb(v))}),(v=>{v.dispatch("ResizeEditor")})(s)},kk=(s,l,d,f)=>{const b=tr(20*d,20*f);return Sk(s,b,l),R.some(!0)},kM=(s,l)=>{const d=()=>{const f=[],b=UA(s),v=BD(s),w=Zc(s)||s.hasPlugin("wordcount");return v&&f.push(SM(s,{},l)),b&&f.push((()=>{const k=lS("Alt+0");return{dom:{tag:"div",classes:["tox-statusbar__help-text"]},components:[Br(gd.translate(["Press {0} for help",k]))]}})()),w&&f.push((()=>{const k=[];return s.hasPlugin("wordcount")&&k.push(((E,P)=>{const F=(L,H,Y)=>Qn.set(L,[Br(P.translate(["{0} "+Y,H[Y]]))]);return qa.sketch({dom:{tag:"button",classes:["tox-statusbar__wordcount"]},components:[],buttonBehaviours:Xt([Ma(P.isDisabled),Bi(),Gs.config({}),Qn.config({}),gt.config({store:{mode:"memory",initialValue:{mode:"words",count:{words:0,characters:0}}}}),Oo("wordcount-events",[bu(L=>{const H=gt.getValue(L),Y=H.mode==="words"?"characters":"words";gt.setValue(L,{mode:Y,count:H.count}),F(L,H.count,Y)}),ar(L=>{E.on("wordCountUpdate",H=>{const{mode:Y}=gt.getValue(L);gt.setValue(L,{mode:Y,count:H.wordCount}),F(L,H.wordCount,Y)})})])]),eventOrder:{[Al()]:["disabling","alloy.base.behaviour","wordcount-events"]}})})(s,l)),Zc(s)&&k.push({dom:{tag:"span",classes:["tox-statusbar__branding"]},components:[{dom:{tag:"a",attributes:{href:"https://www.tiny.cloud/powered-by-tiny?utm_campaign=poweredby&utm_source=tiny&utm_medium=referral&utm_content=v7",rel:"noopener",target:"_blank","aria-label":s.translate(["Build with {0}","TinyMCE"])},innerHtml:s.translate(["Build with {0}",`<svg height="16" viewBox="0 0 80 16" width="80" xmlns="http://www.w3.org/2000/svg"><g opacity=".8"><path d="m80 3.537v-2.202h-7.976v11.585h7.976v-2.25h-5.474v-2.621h4.812v-2.069h-4.812v-2.443zm-10.647 6.929c-.493.217-1.13.337-1.864.337s-1.276-.156-1.805-.47a3.732 3.732 0 0 1 -1.3-1.298c-.324-.554-.48-1.191-.48-1.877s.156-1.335.48-1.877a3.635 3.635 0 0 1 1.3-1.299 3.466 3.466 0 0 1 1.805-.481c.65 0 .914.06 1.263.18.36.12.698.277.986.47.289.192.578.384.842.6l.12.085v-2.586l-.023-.024c-.385-.35-.855-.614-1.384-.818-.53-.205-1.155-.313-1.877-.313-.721 0-1.6.144-2.333.445a5.773 5.773 0 0 0 -1.937 1.251 5.929 5.929 0 0 0 -1.324 1.9c-.324.735-.48 1.565-.48 2.455s.156 1.72.48 2.454c.325.734.758 1.383 1.324 1.913.553.53 1.215.938 1.937 1.25a6.286 6.286 0 0 0 2.333.434c.819 0 1.384-.108 1.961-.313.59-.216 1.083-.505 1.468-.866l.024-.024v-2.49l-.12.096c-.41.337-.878.626-1.396.866zm-14.869-4.15-4.8-5.04-.024-.025h-.902v11.67h2.502v-6.847l2.827 3.08.385.409.397-.41 2.791-3.067v6.845h2.502v-11.679h-.902l-4.788 5.052z"/><path clip-rule="evenodd" d="m15.543 5.137c0-3.032-2.466-5.113-4.957-5.137-.36 0-.745.024-1.094.096-.157.024-3.85.758-3.85.758-3.032.602-4.62 2.466-4.704 4.788-.024.89-.024 4.27-.024 4.27.036 3.165 2.406 5.138 5.017 5.126.337 0 1.119-.109 1.287-.145.144-.024.385-.084.746-.144.661-.12 1.684-.325 3.067-.602 2.37-.409 4.103-2.009 4.44-4.33.156-1.023.084-4.692.084-4.692zm-3.213 3.308-2.346.457v2.31l-5.859 1.143v-5.75l2.346-.458v3.441l3.513-.686v-3.44l-3.513.685v-2.297l5.859-1.143v5.75zm20.09-3.296-.083-1.023h-2.13v8.794h2.346v-4.884c0-1.107.95-1.985 2.057-1.997 1.095 0 1.901.89 1.901 1.997v4.884h2.346v-5.245c-.012-2.105-1.588-3.777-3.67-3.765a3.764 3.764 0 0 0 -2.778 1.25l.012-.011zm-6.014-4.102 2.346-.458v2.298l-2.346.457z" fill-rule="evenodd"/><path d="m28.752 4.126h-2.346v8.794h2.346z"/><path clip-rule="evenodd" d="m43.777 15.483 4.043-11.357h-2.418l-1.54 4.355-.445 1.324-.36-1.324-1.54-4.355h-2.418l3.151 8.794-1.083 3.08zm-21.028-5.51c0 .722.541 1.034.878 1.034s.638-.048.95-.144l.518 1.708c-.217.145-.879.518-2.13.518a2.565 2.565 0 0 1 -2.562-2.587c-.024-1.082-.024-2.49 0-4.21h-1.54v-2.142h1.54v-1.912l2.346-.458v2.37h2.201v2.142h-2.2v3.693-.012z" fill-rule="evenodd"/></g></svg>
`.trim()])},behaviours:Xt([io.config({})])}]}),{dom:{tag:"div",classes:["tox-statusbar__right-container"]},components:k}})()),f.length>0?[{dom:{tag:"div",classes:["tox-statusbar__text-container",...(()=>{const k="tox-statusbar__text-container--flex-start",E="tox-statusbar__text-container--flex-end";if(b){const P="tox-statusbar__text-container-3-cols";return w||v?w&&!v?[P,E]:[P,k]:[P,"tox-statusbar__text-container--space-around"]}return[w&&!v?E:k]})()]},components:f}]:[]};return{dom:{tag:"div",classes:["tox-statusbar"]},components:(()=>{const f=d(),b=((v,w)=>{const k=(P=>{const F=wa(P);return F===!1?jh.None:F==="both"?jh.Both:jh.Vertical})(v);if(k===jh.None)return R.none();const E=k===jh.Both?"Press the arrow keys to resize the editor.":"Press the Up and Down arrow keys to resize the editor.";return R.some(Gc("resize-handle",{tag:"div",classes:["tox-statusbar__resize-handle"],attributes:{"aria-label":w.translate(E),"data-mce-name":"resize-handle"},behaviours:[T0.config({mode:"mouse",repositionTarget:!1,onDrag:(P,F,L)=>Sk(v,L,k),blockerClass:"tox-blocker"}),zn.config({mode:"special",onLeft:()=>kk(v,k,-1,0),onRight:()=>kk(v,k,1,0),onUp:()=>kk(v,k,0,-1),onDown:()=>kk(v,k,0,1)}),Gs.config({}),io.config({}),ri.config(w.tooltips.getConfig({tooltipText:w.translate("Resize")}))]},w.icons))})(s,l);return f.concat(b.toArray())})()}},EM=(s,l)=>l.get().getOrDie(`UI for ${s} has not been rendered`),Rz=(s,l)=>{const d=s.inline,f=d?uz:IK,b=Ph(s)?cV:lV,v=(()=>{const Ie=Ts(),qe=Ts(),lt=Ts();return{dialogUi:Ie,popupUi:qe,mainUi:lt,getUiMotherships:()=>{const Nt=Ie.get().map(Et=>Et.mothership),Ot=qe.get().map(Et=>Et.mothership);return Nt.fold(()=>Ot.toArray(),Et=>Ot.fold(()=>[Et],jt=>fs(Et.element,jt.element)?[Et]:[Et,jt]))},lazyGetInOuterOrDie:(Nt,Ot)=>()=>lt.get().bind(Et=>Ot(Et.outerContainer)).getOrDie(`Could not find ${Nt} element in OuterContainer`)}})(),w=Ts(),k=Ts(),E=Ts(),P=da().deviceType.isTouch()?["tox-platform-touch"]:[],F=WA(s),L=Qv(s),H=Ss({dom:{tag:"div",classes:["tox-anchorbar"]}}),Y=Ss({dom:{tag:"div",classes:["tox-bottom-anchorbar"]}}),Q=()=>v.mainUi.get().map(Ie=>Ie.outerContainer).bind(sr.getHeader),fe=v.lazyGetInOuterOrDie("anchor bar",H.getOpt),pe=v.lazyGetInOuterOrDie("bottom anchor bar",Y.getOpt),Ee=v.lazyGetInOuterOrDie("toolbar",sr.getToolbar),ge=v.lazyGetInOuterOrDie("throbber",sr.getThrobber),me=((Ie,qe,lt,Nt)=>{const Ot=Un(!1),Et=(ss=>{const Jn=Un(WA(ss)?"bottom":"top");return{isPositionedAtTop:()=>Jn.get()==="top",getDockingMode:Jn.get,setDockingMode:Jn.set}})(qe),jt={icons:()=>qe.ui.registry.getAll().icons,menuItems:()=>qe.ui.registry.getAll().menuItems,translate:gd.translate,isDisabled:()=>qe.mode.isReadOnly()||!qe.ui.isEnabled(),getOption:qe.options.get,tooltips:f4(Ie.dialog)},xn=K5(qe),Pn=(ss=>{const Jn=ta=>()=>ss.formatter.match(ta),gr=ta=>()=>{const $i=ss.formatter.get(ta);return $i!==void 0?R.some({tag:$i.length>0&&($i[0].inline||$i[0].block)||"div",styles:ss.dom.parseStyle(ss.formatter.getCssText(ta))}):R.none()},Vs=Un([]),Ya=Un([]),Xa=Un(!1);return ss.on("PreInit",ta=>{const $i=L5(ss),Zh=d4(ss,$i,Jn,gr);Vs.set(Zh)}),ss.on("addStyleModifications",ta=>{const $i=d4(ss,ta.items,Jn,gr);Ya.set($i),Xa.set(ta.replace)}),{getData:()=>{const ta=Xa.get()?[]:Vs.get(),$i=Ya.get();return ta.concat($i)}}})(qe),jn=(ss=>({colorPicker:G$(ss),hasCustomColors:q$(ss),getColors:Y$(ss),getColorCols:X$(ss)}))(qe),uo=(ss=>({isDraggableModal:D5(ss)}))(qe),Ko={shared:{providers:jt,anchors:Z$(qe,lt,Nt,Et.isPositionedAtTop),header:Et},urlinput:xn,styles:Pn,colorinput:jn,dialog:uo,isContextMenuOpen:()=>Ot.get(),setContextMenuState:ss=>Ot.set(ss)},rr=ss=>R.none(),mr={...Ko,shared:{...Ko.shared,interpreter:ss=>A5(ss,{},mr,rr),getSink:Ie.popup}},Io={...Ko,shared:{...Ko.shared,interpreter:ss=>A5(ss,{},Io,rr),getSink:Ie.dialog}};return{popup:mr,dialog:Io}})({popup:()=>Wo.fromOption(v.popupUi.get().map(Ie=>Ie.sink),"(popup) UI has not been rendered"),dialog:()=>Wo.fromOption(v.dialogUi.get().map(Ie=>Ie.sink),"UI has not been rendered")},s,fe,pe),Ce=()=>{const Ie=(()=>{const Ko={attributes:{[Il]:F?Wc.BottomToTop:Wc.TopToBottom}},rr=sr.parts.menubar({dom:{tag:"div",classes:["tox-menubar"]},backstage:me.popup,onEscape:()=>{s.focus()}}),mr=sr.parts.toolbar({dom:{tag:"div",classes:["tox-toolbar"]},getSink:me.popup.shared.getSink,providers:me.popup.shared.providers,onEscape:()=>{s.focus()},onToolbarToggled:$i=>{((Zh,jy)=>{Zh.dispatch("ToggleToolbarDrawer",{state:jy})})(s,$i)},type:L,lazyToolbar:Ee,lazyHeader:()=>Q().getOrDie("Could not find header element"),...Ko}),Io=sr.parts["multiple-toolbar"]({dom:{tag:"div",classes:["tox-toolbar-overlord"]},providers:me.popup.shared.providers,onEscape:()=>{s.focus()},type:L}),ss=U2(s),Jn=H2(s),gr=z2(s),Vs=$D(s),Ya=sr.parts.promotion({dom:{tag:"div",classes:["tox-promotion"]}}),Xa=ss||Jn||gr,ta=Vs?[Ya,rr]:[rr];return sr.parts.header({dom:{tag:"div",classes:["tox-editor-header"].concat(Xa?[]:["tox-editor-header--empty"]),...Ko},components:Zt([gr?ta:[],ss?[Io]:Jn?[mr]:[],e0(s)?[]:[H.asSpec()]]),sticky:Ph(s),editor:s,sharedBackstage:me.popup.shared})})(),qe={dom:{tag:"div",classes:["tox-sidebar-wrap"]},components:[sr.parts.socket({dom:{tag:"div",classes:["tox-edit-area"]}}),sr.parts.sidebar({dom:{tag:"div",classes:["tox-sidebar"]}})]},lt=sr.parts.throbber({dom:{tag:"div",classes:["tox-throbber"]},backstage:me.popup}),Nt=sr.parts.viewWrapper({backstage:me.popup}),Ot=MD(s)&&!d?R.some(kM(s,me.popup.shared.providers)):R.none(),Et=Zt([F?[]:[Ie],d?[]:[qe],F?[Ie]:[]]),jt=sr.parts.editorContainer({components:Zt([Et,d?[]:[Y.asSpec()]])}),xn=U_(s),Pn={role:"application",...gd.isRtl()?{dir:"rtl"}:{},...xn?{"aria-hidden":"true"}:{}},jn=Ji(sr.sketch({dom:{tag:"div",classes:["tox","tox-tinymce"].concat(d?["tox-tinymce-inline"]:[]).concat(F?["tox-tinymce--toolbar-bottom"]:[]).concat(P),styles:{visibility:"hidden",...xn?{opacity:"0",border:"0"}:{}},attributes:Pn},components:[jt,...d?[]:[Nt,...Ot.toArray()],lt],behaviours:Xt([Bi(),co.config({disableClass:"tox-tinymce--disabled"}),zn.config({mode:"cyclic",selector:".tox-menubar, .tox-toolbar, .tox-toolbar__primary, .tox-toolbar__overflow--open, .tox-sidebar__overflow--open, .tox-statusbar__path, .tox-statusbar__wordcount, .tox-statusbar__branding a, .tox-statusbar__resize-handle"})])})),uo=xS(jn);return w.set(uo),{mothership:uo,outerContainer:jn}},Ae=Ie=>{const qe=pb((Nt=>(Et=>{const jt=M2(Et),xn=dy(Et),Pn=D_(Et);return Hw(jt).map(jn=>Uw(jn,xn,Pn))})(Nt).getOr(M2(Nt)))(s)),lt=pb((Nt=>X4(Nt).getOr(B2(Nt)))(s));return s.inline||(ql("div","width",lt)&&yo(Ie.element,"width",lt),ql("div","height",qe)?yo(Ie.element,"height",qe):yo(Ie.element,"height","400px")),qe};return{popups:{backstage:me.popup,getMothership:()=>EM("popups",E)},dialogs:{backstage:me.dialog,getMothership:()=>EM("dialogs",k)},renderUI:()=>{const Ie=Ce(),qe=(()=>{const Nt=H_(s),Ot=fs(Sn(),Nt)&&Er(Nt,"display")==="grid",Et={dom:{tag:"div",classes:["tox","tox-silver-sink","tox-tinymce-aux"].concat(P),attributes:{...gd.isRtl()?{dir:"rtl"}:{}}},behaviours:Xt([xa.config({useFixed:()=>b.isDocked(Q)})])},jt={dom:{styles:{width:document.body.clientWidth+"px"}},events:wo([Rt(Ff(),jn=>{yo(jn.element,"width",document.body.clientWidth+"px")})])},xn=Ji(Bs(Et,Ot?jt:{})),Pn=xS(xn);return k.set(Pn),{sink:xn,mothership:Pn}})(),lt=Nh(s)?(()=>{const Nt={dom:{tag:"div",classes:["tox","tox-silver-sink","tox-silver-popup-sink","tox-tinymce-aux"].concat(P),attributes:{...gd.isRtl()?{dir:"rtl"}:{}}},behaviours:Xt([xa.config({useFixed:()=>b.isDocked(Q),getBounds:()=>l.getPopupSinkBounds()})])},Ot=Ji(Nt),Et=xS(Ot);return E.set(Et),{sink:Ot,mothership:Et}})():(Nt=>(E.set(Nt.mothership),Nt))(qe);return v.dialogUi.set(qe),v.popupUi.set(lt),v.mainUi.set(Ie),(Nt=>{const{mainUi:Ot,popupUi:Et,uiMotherships:jt}=Nt;to(N_(s),(Jn,gr)=>{s.ui.registry.addGroupToolbarButton(gr,Jn)});const{buttons:xn,menuItems:Pn,contextToolbars:jn,sidebars:uo,views:Ko}=s.ui.registry.getAll(),rr=z_(s),mr={menuItems:Pn,menus:Zp(s),menubar:Dh(s),toolbar:rr.getOrThunk(()=>gy(s)),allowToolbarGroups:L===md.floating,buttons:xn,sidebar:uo,views:Ko};var Io;Io=Ot.outerContainer,s.addShortcut("alt+F9","focus menubar",()=>{sr.focusMenubar(Io)}),s.addShortcut("alt+F10","focus toolbar",()=>{sr.focusToolbar(Io)}),s.addCommand("ToggleToolbarDrawer",(Jn,gr)=>{gr!=null&&gr.skipFocus?sr.toggleToolbarDrawerWithoutFocusing(Io):sr.toggleToolbarDrawer(Io)}),s.addQueryStateHandler("ToggleToolbarDrawer",()=>sr.isToolbarDrawerToggled(Io)),((Jn,gr,Vs)=>{const Ya=(vs,Pg)=>{mt([gr,...Vs],pf=>{pf.broadcastEvent(vs,Pg)})},Xa=(vs,Pg)=>{mt([gr,...Vs],pf=>{pf.broadcastOn([vs],Pg)})},ta=vs=>Xa(M(),{target:vs.target}),$i=Va(),Zh=Za($i,"touchstart",ta),jy=Za($i,"touchmove",vs=>Ya(Nn(),vs)),vb=Za($i,"touchend",vs=>Ya(hu(),vs)),Gh=Za($i,"mousedown",ta),sC=Za($i,"mouseup",vs=>{vs.raw.button===0&&Xa(K(),{target:vs.target})}),yb=vs=>Xa(M(),{target:fn(vs.target)}),Ig=vs=>{vs.button===0&&Xa(K(),{target:fn(vs.target)})},R0=()=>{mt(Jn.editorManager.get(),vs=>{Jn!==vs&&vs.dispatch("DismissPopups",{relatedTarget:Jn})})},I0=vs=>Ya(ov(),tf(vs)),Zy=vs=>{Xa(U(),{}),Ya(Ff(),tf(vs))},Nk=pt(fn(Jn.getElement())),rC=i2(Nk,"scroll",vs=>{requestAnimationFrame(()=>{if(Jn.getContainer()!=null){const Pg=Gp(Jn,gr.element).map(pf=>[pf.element,...pf.others]).getOr([]);An(Pg,pf=>fs(pf,vs.target))&&(Jn.dispatch("ElementScroll",{target:vs.target.dom}),Ya(Cp(),vs))}})}),xb=()=>Xa(U(),{}),Dg=vs=>{vs.state&&Xa(M(),{target:fn(Jn.getContainer())})},qh=vs=>{Xa(M(),{target:fn(vs.relatedTarget.getContainer())})},iC=vs=>Jn.dispatch("focusin",vs),aC=vs=>Jn.dispatch("focusout",vs);Jn.on("PostRender",()=>{Jn.on("click",yb),Jn.on("tap",yb),Jn.on("mouseup",Ig),Jn.on("mousedown",R0),Jn.on("ScrollWindow",I0),Jn.on("ResizeWindow",Zy),Jn.on("ResizeEditor",xb),Jn.on("AfterProgressState",Dg),Jn.on("DismissPopups",qh),mt([gr,...Vs],vs=>{vs.element.dom.addEventListener("focusin",iC),vs.element.dom.addEventListener("focusout",aC)})}),Jn.on("remove",()=>{Jn.off("click",yb),Jn.off("tap",yb),Jn.off("mouseup",Ig),Jn.off("mousedown",R0),Jn.off("ScrollWindow",I0),Jn.off("ResizeWindow",Zy),Jn.off("ResizeEditor",xb),Jn.off("AfterProgressState",Dg),Jn.off("DismissPopups",qh),mt([gr,...Vs],vs=>{vs.element.dom.removeEventListener("focusin",iC),vs.element.dom.removeEventListener("focusout",aC)}),Gh.unbind(),Zh.unbind(),jy.unbind(),vb.unbind(),sC.unbind(),rC.unbind()}),Jn.on("detach",()=>{mt([gr,...Vs],eA),mt([gr,...Vs],vs=>vs.destroy())})})(s,Ot.mothership,jt),b.setup(s,me.popup.shared,Q),bz(s,me.popup),Cz(s,me.popup.shared.getSink,me.popup),(Jn=>{const{sidebars:gr}=Jn.ui.registry.getAll();mt(Kt(gr),Vs=>{const Ya=gr[Vs],Xa=()=>ai(R.from(Jn.queryCommandValue("ToggleSidebar")),Vs);Jn.ui.registry.addToggleButton(Vs,{icon:Ya.icon,tooltip:Ya.tooltip,onAction:ta=>{Jn.execCommand("ToggleSidebar",!1,Vs),ta.setActive(Xa())},onSetup:ta=>{ta.setActive(Xa());const $i=()=>ta.setActive(Xa());return Jn.on("ToggleSidebar",$i),()=>{Jn.off("ToggleSidebar",$i)}}})})})(s),tL(s,ge,me.popup.shared),mz(s,jn,Et.sink,{backstage:me.popup}),_M(s,Et.sink);const ss={targetNode:s.getElement(),height:Ae(Ot.outerContainer)};return f.render(s,Nt,mr,me.popup,ss)})({popupUi:lt,dialogUi:qe,mainUi:Ie,uiMotherships:v.getUiMotherships()})}}},Iz=j([Bt("lazySink"),Xo("dragBlockClass"),or("getBounds",Gi),ut("useTabstopAt",_e),ut("firstTabstop",0),ut("eventOrder",{}),En("modalBehaviours",[zn]),Tl("onExecute"),Pa("onEscape")]),pO={sketch:de},bO=j([Su({name:"draghandle",overrides:(s,l)=>({behaviours:Xt([T0.config({mode:"mouse",getTarget:d=>eg(d,'[role="dialog"]').getOr(d),blockerClass:s.dragBlockClass.getOrDie(new Error(`The drag blocker class was not specified for a dialog with a drag handle: 
`+JSON.stringify(l,null,2)).message),getBounds:s.getDragBounds})])})}),Dl({schema:[Bt("dom")],name:"title"}),Dl({factory:pO,schema:[Bt("dom")],name:"close"}),Dl({factory:pO,schema:[Bt("dom")],name:"body"}),Su({factory:pO,schema:[Bt("dom")],name:"footer"}),rf({factory:{sketch:(s,l)=>({...s,dom:l.dom,components:l.components})},schema:[ut("dom",{tag:"div",styles:{position:"fixed",left:"0px",top:"0px",right:"0px",bottom:"0px"}}),ut("components",[])],name:"blocker"})]),Pr=Ul({name:"ModalDialog",configFields:Iz(),partFields:bO(),factory:(s,l,d,f)=>{const b=Ts(),v=kn("modal-events"),w={...s.eventOrder,[pa()]:[v].concat(s.eventOrder["alloy.system.attached"]||[])},k=da();return{uid:s.uid,dom:s.dom,components:l,apis:{show:E=>{b.set(E);const P=s.lazySink(E).getOrDie(),F=f.blocker(),L=P.getSystem().build({...F,components:F.components.concat([dl(E)]),behaviours:Xt([io.config({}),Oo("dialog-blocker-events",[Hf(ws(),()=>{Sd.isBlocked(E)||zn.focusIn(E)})])])});nm(P,L),zn.focusIn(E)},hide:E=>{b.clear(),Ta(E.element).each(P=>{E.getSystem().getByDom(P).each(F=>{ml(F)})})},getBody:E=>Rh(E,s,"body"),getFooter:E=>Qs(E,s,"footer"),setIdle:E=>{Sd.unblock(E)},setBusy:(E,P)=>{Sd.block(E,P)}},eventOrder:w,domModification:{attributes:{role:"dialog","aria-modal":"true"}},behaviours:To(s.modalBehaviours,[Qn.config({}),zn.config({mode:"cyclic",onEnter:s.onExecute,onEscape:s.onEscape,useTabstopAt:s.useTabstopAt,firstTabstop:s.firstTabstop}),Sd.config({getRoot:b.get}),Oo(v,[ar(E=>{const P=Rh(E,s,"title").element,F=(L=>L.dom.textContent)(P);k.os.isMacOS()&&z(F)?dn(E.element,"aria-label",F):((L,H)=>{const Y=es(L,"id").fold(()=>{const Q=kn("dialog-label");return dn(H,"id",Q),Q},de);dn(L,"aria-labelledby",Y)})(E.element,P)})])])}},apis:{show:(s,l)=>{s.show(l)},hide:(s,l)=>{s.hide(l)},getBody:(s,l)=>s.getBody(l),getFooter:(s,l)=>s.getFooter(l),setBusy:(s,l,d)=>{s.setBusy(l,d)},setIdle:(s,l)=>{s.setIdle(l)}}}),Dz=qn([xi,iT].concat(i0)),Gw=lc,vO=[mT("button"),pd,Dc("align","end",["start","end"]),nS,bd,sh("buttonType",["primary","secondary"])],Ek=[...vO,hd],yO=[sd("type",["submit","cancel","custom"]),...Ek],Pz=[sd("type",["menu"]),eb,aw,pd,cl("items",Dz),...vO],Nz=[...vO,sd("type",["togglebutton"]),aw,pd,eb,ni("active",!1)],AM=bi("type",{submit:yO,cancel:yO,custom:yO,menu:Pz,togglebutton:Nz}),Lz=[xi,hd,sd("level",["info","warn","error","success"]),cT,ut("url","")],xO=qn(Lz),wO=[xi,hd,bd,mT("button"),pd,RK,sh("buttonType",["primary","secondary","toolbar"]),nS],CO=qn(wO),Hy=[xi,iT],ea=Hy.concat([uT]),Mz=Hy.concat([aT,bd]),Bz=qn(Mz),TM=lc,OM=ea.concat([wP("auto")]),Fz=qn(OM),$z=td([s0,hd,cT]),Vz=ea.concat([Yl("storageKey","default")]),zz=qn(Vz),Hz=ki,Uz=qn(ea),Wz=ki,RM=Hy.concat([Yl("tag","textarea"),Cr("scriptId"),Cr("scriptUrl"),mu("onFocus"),Wa("settings",void 0,g1)]),Kz=Hy.concat([Yl("tag","textarea"),Ua("init")]),jz=Nf(s=>wr("customeditor.old",Si(Kz),s).orThunk(()=>wr("customeditor.new",Si(RM),s))),Zz=ki,IM=qn(ea),_O=ed(Qu),DM=s=>[xi,xp("columns"),s],PM=[xi,Cr("html"),Dc("presets","presentation",["presentation","document"]),or("onInit",W),ni("stretched",!1)],NM=qn(PM),LM=ea.concat([ni("border",!1),ni("sandboxed",!0),ni("streamContent",!1),ni("transparent",!0)]),SO=qn(LM),Gz=ki,kO=qn(Hy.concat([Mr("height")])),Uy=qn([Cr("url"),Lf("zoom"),Lf("cachedWidth"),Lf("cachedHeight")]),MM=ea.concat([Mr("inputMode"),Mr("placeholder"),ni("maximized",!1),bd]),BM=qn(MM),FM=ki,qz=s=>[xi,aT,s,Dc("align","start",["start","center","end"]),Mr("for")],Yz=[hd,s0],Ak=[hd,cl("items",yp(0,()=>$M))],$M=Vm([qn(Yz),qn(Ak)]),Xz=ea.concat([cl("items",$M),bd]),VM=qn(Xz),zM=ki,EO=ea.concat([Hm("items",[hd,s0]),Hr("size",1),bd]),HM=qn(EO),tc=ki,UM=ea.concat([ni("constrain",!0),bd]),Jz=qn(UM),WM=qn([Cr("width"),Cr("height")]),KM=Hy.concat([aT,Hr("min",0),Hr("max",0)]),Qz=qn(KM),eH=jd,tH=[xi,cl("header",ki),cl("cells",ed(ki))],jM=qn(tH),Rg=ea.concat([Mr("placeholder"),ni("maximized",!1),bd]),AO=qn(Rg),ZM=ki,qw=[sd("type",["directory","leaf"]),lT,Cr("id"),zr("menu",X5)],Tk=qn(qw),nH=qw.concat([cl("children",yp(0,()=>od("type",{directory:GM,leaf:Tk})))]),GM=qn(nH),oH=od("type",{directory:GM,leaf:Tk}),sH=[xi,cl("items",oH),mu("onLeafAction"),mu("onToggleExpand"),Ps("defaultExpandedIds",[],ki),Mr("defaultSelectedId")],rH=qn(sH),iH=ea.concat([Dc("filetype","file",["image","media","file"]),bd,Mr("picker_text")]),aH=qn(iH),qM=qn([s0,qc]),TO=s=>ui("items","items",{tag:"required",process:{}},ed(Nf(l=>wr(`Checking item of ${s}`,hf,l).fold(d=>Wo.error(ll(d)),d=>Wo.value(d))))),hf=$m(()=>{return od("type",{alertbanner:xO,bar:qn((s=TO("bar"),[xi,s])),button:CO,checkbox:Bz,colorinput:zz,colorpicker:Uz,dropzone:IM,grid:qn(DM(TO("grid"))),iframe:SO,input:BM,listbox:VM,selectbox:HM,sizeinput:Jz,slider:Qz,textarea:AO,urlinput:aH,customeditor:jz,htmlpanel:NM,imagepreview:kO,collection:Fz,label:qn(qz(TO("label"))),table:jM,tree:rH,panel:YM});var s}),Ok=[xi,ut("classes",[]),cl("items",hf)],YM=qn(Ok),lH=[mT("tab"),lT,cl("items",hf)],XM=[xi,Hm("tabs",lH)],JM=qn(XM),OO=Ek,Rk=AM,Yw=qn([Cr("title"),Yi("body",od("type",{panel:YM,tabpanel:JM})),Yl("size","normal"),Ps("buttons",[],Rk),ut("initialData",{}),or("onAction",W),or("onChange",W),or("onSubmit",W),or("onClose",W),or("onCancel",W),or("onTabChange",W)]),Xw=qn([sd("type",["cancel","custom"]),...OO]),QM=qn([Cr("title"),Cr("url"),Lf("height"),Lf("width"),h1("buttons",Xw),or("onAction",W),or("onCancel",W),or("onClose",W),or("onMessage",W)]),Ik=s=>x(s)?[s].concat(vn(ji(s),Ik)):D(s)?vn(s,Ik):[],eB=s=>h(s.type)&&h(s.name),tB={checkbox:TM,colorinput:Hz,colorpicker:Wz,dropzone:_O,input:FM,iframe:Gz,imagepreview:Uy,selectbox:tc,sizeinput:WM,slider:eH,listbox:zM,size:WM,textarea:ZM,urlinput:qM,customeditor:Zz,collection:$z,togglemenuitem:Gw},cH=s=>{const l=(f=>Wt(Ik(f),eB))(s),d=vn(l,f=>(b=>R.from(tB[b.type]))(f).fold(()=>[],b=>[Yi(f.name,b)]));return qn(d)},nB=s=>{var l;return{internalDialog:Ha(wr("dialog",Yw,s)),dataValidator:cH(s),initialData:(l=s.initialData)!==null&&l!==void 0?l:{}}},O0={open:(s,l)=>{const d=nB(l);return s(d.internalDialog,d.initialData,d.dataValidator)},openUrl:(s,l)=>s(Ha(wr("dialog",QM,l))),redial:s=>nB(s)};var uH=Object.freeze({__proto__:null,events:(s,l)=>{const d=(f,b)=>{s.updateState.each(v=>{const w=v(f,b);l.set(w)}),s.renderComponents.each(v=>{const w=v(b,l.get());(s.reuseDom?IA:qv)(f,w)})};return wo([Rt(cc(),(f,b)=>{const v=b;if(!v.universal){const w=s.channel;dt(v.channels,w)&&d(f,v.data)}}),ar((f,b)=>{s.initialData.each(v=>{d(f,v)})})])}}),dH=Object.freeze({__proto__:null,getState:(s,l,d)=>d}),oB=[Bt("channel"),Xo("renderComponents"),Xo("updateState"),Xo("initialData"),ni("reuseDom",!0)];const yc=Mi({fields:oB,name:"reflecting",active:uH,apis:dH,state:Object.freeze({__proto__:null,init:()=>{const s=Un(R.none());return{readState:()=>s.get().getOr("none"),get:s.get,set:s.set,clear:()=>s.set(R.none())}}})}),sB=s=>{const l=[],d={};return Yn(s,(f,b)=>{f.fold(()=>{l.push(b)},v=>{d[b]=v})}),l.length>0?Wo.error(l):Wo.value(d)},rB=(s,l,d,f)=>{const b=Ss(lb.sketch(w=>({dom:{tag:"div",classes:["tox-form"].concat(s.classes)},components:Me(s.items,k=>ok(w,k,l,d,f))})));return{dom:{tag:"div",classes:["tox-dialog__body"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:[b.asSpec()]}],behaviours:Xt([zn.config({mode:"acyclic",useTabstopAt:Fe(Ry)}),(v=b,ls.config({find:v.getOpt})),C3(b,{postprocess:w=>sB(w).fold(k=>(console.error(k),{}),de)}),Oo("dialog-body-panel",[Rt(ws(),(w,k)=>{w.getSystem().broadcastOn([jS],{newFocus:R.some(k.event.target)})})])])};var v},fH=ku({name:"TabButton",configFields:[ut("uid",void 0),Bt("value"),ui("dom","dom",ns(()=>({attributes:{role:"tab",id:kn("aria"),"aria-selected":"false"}})),Hl()),Xo("action"),ut("domModification",{}),En("tabButtonBehaviours",[io,zn,gt]),Bt("view")],factory:(s,l)=>({uid:s.uid,dom:s.dom,components:s.components,events:cy(s.action),behaviours:To(s.tabButtonBehaviours,[io.config({}),zn.config({mode:"execution",useSpace:!0,useEnter:!0}),gt.config({store:{mode:"memory",initialValue:s.value}})]),domModification:s.domModification})}),iB=j([Bt("tabs"),Bt("dom"),ut("clickToDismiss",!1),En("tabbarBehaviours",[Es,zn]),gh(["tabClass","selectedClass"])]),Jw=p_({factory:fH,name:"tabs",unit:"tab",overrides:s=>{const l=(f,b)=>{Es.dehighlight(f,b),$n(f,Gt(),{tabbar:f,button:b})},d=(f,b)=>{Es.highlight(f,b),$n(f,_p(),{tabbar:f,button:b})};return{action:f=>{const b=f.getSystem().getByUid(s.uid).getOrDie(),v=Es.isHighlighted(b,f);(v&&s.clickToDismiss?l:v?W:d)(b,f)},domModification:{classes:[s.markers.tabClass]}}}}),mH=j([Jw]),RO=Ul({name:"Tabbar",configFields:iB(),partFields:mH(),factory:(s,l,d,f)=>({uid:s.uid,dom:s.dom,components:l,"debug.sketcher":"Tabbar",domModification:{attributes:{role:"tablist"}},behaviours:To(s.tabbarBehaviours,[Es.config({highlightClass:s.markers.selectedClass,itemClass:s.markers.tabClass,onHighlight:(b,v)=>{dn(v.element,"aria-selected","true")},onDehighlight:(b,v)=>{dn(v.element,"aria-selected","false")}}),zn.config({mode:"flow",getInitial:b=>Es.getHighlighted(b).map(v=>v.element),selector:"."+s.markers.tabClass,executeOnMove:!0})])})}),gH=ku({name:"Tabview",configFields:[En("tabviewBehaviours",[Qn])],factory:(s,l)=>({uid:s.uid,dom:s.dom,behaviours:To(s.tabviewBehaviours,[Qn.config({})]),domModification:{attributes:{role:"tabpanel"}}})}),hH=j([ut("selectFirst",!0),os("onChangeTab"),os("onDismissTab"),ut("tabs",[]),En("tabSectionBehaviours",[])]),pH=Dl({factory:RO,schema:[Bt("dom"),Ic("markers",[Bt("tabClass"),Bt("selectedClass")])],name:"tabbar",defaults:s=>({tabs:s.tabs})}),bH=Dl({factory:gH,name:"tabview"}),aB=j([pH,bH]),Wy=Ul({name:"TabSection",configFields:hH(),partFields:aB(),factory:(s,l,d,f)=>{const b=(v,w)=>{Qs(v,s,"tabbar").each(k=>{w(k).each(zf)})};return{uid:s.uid,dom:s.dom,components:l,behaviours:no(s.tabSectionBehaviours),events:wo(Zt([s.selectFirst?[ar((v,w)=>{b(v,Es.getFirst)})]:[],[Rt(_p(),(v,w)=>{(k=>{const E=gt.getValue(k);Qs(k,s,"tabview").each(P=>{J(s.tabs,F=>F.value===E).each(F=>{const L=F.view();es(k.element,"id").each(H=>{dn(P.element,"aria-labelledby",H)}),Qn.set(P,L),s.onChangeTab(P,k,L)})})})(w.event.button)}),Rt(Gt(),(v,w)=>{const k=w.event.button;s.onDismissTab(v,k)})]])),apis:{getViewItems:v=>Qs(v,s,"tabview").map(w=>Qn.contents(w)).getOr([]),showTab:(v,w)=>{b(v,k=>{const E=Es.getCandidates(k);return J(E,P=>gt.getValue(P)===w).filter(P=>!Es.isHighlighted(k,P))})}}}},apis:{getViewItems:(s,l)=>s.getViewItems(l),showTab:(s,l,d)=>{s.showTab(l,d)}}}),IO=(s,l)=>{yo(s,"height",l+"px"),yo(s,"flex-basis",l+"px")},Ky=(s,l,d)=>{eg(s,'[role="dialog"]').each(f=>{fr(f,'[role="tablist"]').each(b=>{d.get().map(v=>(yo(l,"height","0"),yo(l,"flex-basis","0"),Math.min(v,((w,k,E)=>{const P=sl(w).dom,F=eg(w,".tox-dialog-wrap").getOr(w);let L;L=Er(F,"position")==="fixed"?Math.max(P.clientHeight,window.innerHeight):Math.max(P.offsetHeight,P.scrollHeight);const H=Ar(k),Y=k.dom.offsetLeft>=E.dom.offsetLeft+Di(E)?Math.max(Ar(E),H):H,Q=parseInt(Er(w,"margin-top"),10)||0,fe=parseInt(Er(w,"margin-bottom"),10)||0;return L-(Ar(w)+Q+fe-Y)})(f,l,b)))).each(v=>{IO(l,v)})})})},gm=s=>fr(s,'[role="tabpanel"]'),Dk="send-data-to-section",DO="send-data-to-view",lB=(s,l,d,f)=>{const b=Un({}),v=F=>{const L=gt.getValue(F),H=sB(L).getOr({}),Y=b.get(),Q=Bs(Y,H);b.set(Q)},w=F=>{const L=b.get();gt.setValue(F,L)},k=Un(null),E=Me(s.tabs,F=>({value:F.name,dom:{tag:"div",classes:["tox-dialog__body-nav-item"]},components:[Br(d.shared.providers.translate(F.title))],view:()=>[lb.sketch(L=>({dom:{tag:"div",classes:["tox-form"]},components:Me(F.items,H=>ok(L,H,l,d,f)),formBehaviours:Xt([zn.config({mode:"acyclic",useTabstopAt:Fe(Ry)}),Oo("TabView.form.events",[ar(w),ad(v)]),Rl.config({channels:Zd([{key:Dk,value:{onReceive:v}},{key:DO,value:{onReceive:w}}])})])}))]})),P=(F=>{const L=Ts();return{extraEvents:[ar(Y=>{const Q=Y.element;gm(Q).each(fe=>{yo(fe,"visibility","hidden"),Y.getSystem().getByDom(fe).toOptional().each(pe=>{const Ee=((me,Ce,Ae)=>Me(me,(Ie,qe)=>{Qn.set(Ae,me[qe].view());const lt=Ce.dom.getBoundingClientRect();return Qn.set(Ae,[]),lt.height}))(F,fe,pe);(me=>Ne(be(me,(Ce,Ae)=>Ce>Ae?-1:Ce<Ae?1:0)))(Ee).fold(L.clear,L.set)}),Ky(Q,fe,L),ks(fe,"visibility"),((pe,Ee)=>{Ne(pe).each(ge=>Wy.showTab(Ee,ge.value))})(F,Y),requestAnimationFrame(()=>{Ky(Q,fe,L)})})}),Rt(Ff(),Y=>{const Q=Y.element;gm(Q).each(fe=>{Ky(Q,fe,L)})}),Rt(CS,(Y,Q)=>{const fe=Y.element;gm(fe).each(pe=>{const Ee=xu(pt(pe));yo(pe,"visibility","hidden");const ge=ti(pe,"height").map(Ce=>parseInt(Ce,10));ks(pe,"height"),ks(pe,"flex-basis");const me=pe.dom.getBoundingClientRect().height;ge.forall(Ce=>me>Ce)?(L.set(me),Ky(fe,pe,L)):ge.each(Ce=>{IO(pe,Ce)}),ks(pe,"visibility"),Ee.each(ja)})})],selectFirst:!1}})(E);return Wy.sketch({dom:{tag:"div",classes:["tox-dialog__body"]},onChangeTab:(F,L,H)=>{const Y=gt.getValue(L);$n(F,wN,{name:Y,oldName:k.get()}),k.set(Y)},tabs:E,components:[Wy.parts.tabbar({dom:{tag:"div",classes:["tox-dialog__body-nav"]},components:[RO.parts.tabs({})],markers:{tabClass:"tox-tab",selectedClass:"tox-dialog__body-nav-item--active"},tabbarBehaviours:Xt([Gs.config({})])}),Wy.parts.tabview({dom:{tag:"div",classes:["tox-dialog__body-content"]}})],selectFirst:P.selectFirst,tabSectionBehaviours:Xt([Oo("tabpanel",P.extraEvents),zn.config({mode:"acyclic"}),ls.config({find:F=>Ne(Wy.getViewItems(F))}),b0(R.none(),F=>(F.getSystem().broadcastOn([Dk],{}),b.get()),(F,L)=>{b.set(L),F.getSystem().broadcastOn([DO],{})})])})},Pk=(s,l,d,f,b,v)=>({dom:{tag:"div",classes:["tox-dialog__content-js"],attributes:{...d.map(w=>({id:w})).getOr({}),...b?{"aria-live":"polite"}:{}}},components:[],behaviours:Xt([x3(0),yc.config({channel:`${XN}-${l}`,updateState:(w,k)=>R.some({isTabPanel:()=>k.body.type==="tabpanel"}),renderComponents:w=>{const k=w.body;return k.type==="tabpanel"?[lB(k,w.initialData,f,v)]:[rB(k,w.initialData,f,v)]},initialData:s})])}),cB=am.deviceType.isTouch(),Qw=(s,l)=>({dom:{tag:"div",styles:{display:"none"},classes:["tox-dialog__header"]},components:[s,l]}),PO=(s,l)=>Pr.parts.close(qa.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":l.translate("Close")}},action:s,buttonBehaviours:Xt([Gs.config({})])})),NO=()=>Pr.parts.title({dom:{tag:"div",classes:["tox-dialog__title"],innerHtml:"",styles:{display:"none"}}}),uB=(s,l)=>Pr.parts.body({dom:{tag:"div",classes:["tox-dialog__body"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:[{dom:hg(`<p>${QD(l.translate(s))}</p>`)}]}]}),dB=s=>Pr.parts.footer({dom:{tag:"div",classes:["tox-dialog__footer"]},components:s}),fB=(s,l)=>[uf.sketch({dom:{tag:"div",classes:["tox-dialog__footer-start"]},components:s}),uf.sketch({dom:{tag:"div",classes:["tox-dialog__footer-end"]},components:l})],LO=s=>{const l="tox-dialog",d=l+"-wrap",f=d+"__backdrop",b=l+"__disable-scroll";return Pr.sketch({lazySink:s.lazySink,onEscape:v=>(s.onEscape(v),R.some(!0)),useTabstopAt:v=>!Ry(v),firstTabstop:s.firstTabstop,dom:{tag:"div",classes:[l].concat(s.extraClasses),styles:{position:"relative",...s.extraStyles}},components:[s.header,s.body,...s.footer.toArray()],parts:{blocker:{dom:hg(`<div class="${d}"></div>`),components:[{dom:{tag:"div",classes:cB?[f,f+"--opaque"]:[f]}}]}},dragBlockClass:d,modalBehaviours:Xt([io.config({}),Oo("dialog-events",s.dialogEvents.concat([Hf(ws(),(v,w)=>{Sd.isBlocked(v)||zn.focusIn(v)}),Rt(b1(),(v,w)=>{v.getSystem().broadcastOn([jS],{newFocus:w.event.newFocus})})])),Oo("scroll-lock",[ar(()=>{Sr(Sn(),b)}),ad(()=>{Rr(Sn(),b)})]),...s.extraBehaviours]),eventOrder:{[Al()]:["dialog-events"],[pa()]:["scroll-lock","dialog-events","alloy.base.behaviour"],[Nc()]:["alloy.base.behaviour","dialog-events","scroll-lock"],...s.eventOrder}})},mB=s=>qa.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":s.translate("Close"),"data-mce-name":"close"}},buttonBehaviours:Xt([Gs.config({}),ri.config(s.tooltips.getConfig({tooltipText:s.translate("Close")}))]),components:[Gc("close",{tag:"span",classes:["tox-icon"]},s.icons)],action:l=>{No(l,$h)}}),MO=(s,l,d,f)=>({dom:{tag:"h1",classes:["tox-dialog__title"],attributes:{...d.map(b=>({id:b})).getOr({})}},components:[],behaviours:Xt([yc.config({channel:`${R3}-${l}`,initialData:s,renderComponents:b=>[Br(f.translate(b.title))]})])}),BO=()=>({dom:hg('<div class="tox-dialog__draghandle"></div>')}),gB=(s,l,d)=>((f,b,v)=>{const w=Pr.parts.title(MO(f,b,R.none(),v)),k=Pr.parts.draghandle(BO()),E=Pr.parts.close(mB(v)),P=[w].concat(f.draggable?[k]:[]).concat([E]);return uf.sketch({dom:hg('<div class="tox-dialog__header"></div>'),components:P})})({title:d.shared.providers.translate(s),draggable:d.dialog.isDraggableModal()},l,d.shared.providers),hB=(s,l,d,f)=>({dom:{tag:"div",classes:["tox-dialog__busy-spinner"],attributes:{"aria-label":d.translate(s)},styles:{left:"0px",right:"0px",bottom:"0px",top:`${f.getOr(0)}px`,position:"absolute"}},behaviours:l,components:[{dom:hg('<div class="tox-spinner"><div></div><div></div><div></div></div>')}]}),pB=(s,l,d)=>({onClose:()=>d.closeWindow(),onBlock:f=>{const b=fr(s().element,".tox-dialog__header").map(v=>Ar(v));Pr.setBusy(s(),(v,w)=>hB(f.message,w,l,b))},onUnblock:()=>{Pr.setIdle(s())}}),eC="tox-dialog--fullscreen",FO="tox-dialog--width-lg",$O="tox-dialog--width-md",tC=s=>{switch(s){case"large":return R.some(FO);case"medium":return R.some($O);default:return R.none()}},VO=(s,l)=>{const d=fn(l.element.dom);ul(d,eC)||(dc(d,[FO,$O]),tC(s).each(f=>Sr(d,f)))},bB=(s,l)=>{const d=fn(s.element.dom),f=Yd(d),b=J(f,v=>v===FO||v===$O).or(tC(l));((v,w)=>{mt(w,k=>{((E,P)=>{ch(E)?E.dom.classList.toggle(P):((F,L)=>dt(rv(F),L)?Ix(F,L):x1(F,L))(E,P),iv(E)})(v,k)})})(d,[eC,...b.toArray()])},vB=(s,l,d)=>Ji(LO({...s,firstTabstop:1,lazySink:d.shared.getSink,extraBehaviours:[Ew({}),...s.extraBehaviours],onEscape:f=>{No(f,$h)},dialogEvents:l,eventOrder:{[cc()]:[yc.name(),Rl.name()],[pa()]:["scroll-lock",yc.name(),"messages","dialog-events","alloy.base.behaviour"],[Nc()]:["alloy.base.behaviour","dialog-events","messages",yc.name(),"scroll-lock"]}})),nC=(s,l={})=>Me(s,d=>d.type==="menu"?(f=>{const b=Me(f.items,v=>{const w=Tn(l,v.name).getOr(Un(!1));return{...v,storage:w}});return{...f,items:b}})(d):d),yB=s=>on(s,(l,d)=>d.type==="menu"?on(d.items,(f,b)=>(f[b.name]=b.storage,f),l):l,{}),zO=(s,l)=>[lh(ws(),A$),s(rb,(d,f,b,v)=>{xu(pt(v.element)).fold(W,Cv),l.onClose(),f.onClose()}),s($h,(d,f,b,v)=>{f.onCancel(d),No(v,rb)}),Rt(YT,(d,f)=>l.onUnblock()),Rt(qT,(d,f)=>l.onBlock(f.event))],xB=(s,l,d)=>{const f=(v,w)=>Rt(v,(k,E)=>{b(k,(P,F)=>{w(s(),P,E.event,k)})}),b=(v,w)=>{yc.getState(v).get().each(k=>{w(k.internalDialog,v)})};return[...zO(f,l),f(ww,(v,w)=>w.onSubmit(v)),f(pl,(v,w,k)=>{w.onChange(v,{name:k.name})}),f(fm,(v,w,k,E)=>{const P=()=>E.getSystem().isConnected()?zn.focusIn(E):void 0,F=Y=>Lr(Y,"disabled")||es(Y,"aria-disabled").exists(Q=>Q==="true"),L=pt(E.element),H=xu(L);w.onAction(v,{name:k.name,value:k.value}),xu(L).fold(P,Y=>{F(Y)||H.exists(Q=>Nr(Y,Q)&&F(Q))?P():d().toOptional().filter(Q=>!Nr(Q.element,Y)).each(P)})}),f(wN,(v,w,k)=>{w.onTabChange(v,{newTabName:k.name,oldTabName:k.oldName})}),ad(v=>{const w=s();gt.setValue(v,w.getData())})]},vH=(s,l)=>{const d=l.map(v=>v.footerButtons).getOr([]),f=vo(d,v=>v.align==="start"),b=(v,w)=>uf.sketch({dom:{tag:"div",classes:[`tox-dialog__footer-${v}`]},components:Me(w,k=>k.memento.asSpec())});return[b("start",f.pass),b("end",f.fail)]},wB=(s,l,d)=>({dom:hg('<div class="tox-dialog__footer"></div>'),components:[],behaviours:Xt([yc.config({channel:`${JN}-${l}`,initialData:s,updateState:(f,b)=>{const v=Me(b.buttons,w=>{const k=Ss(((E,P)=>Py(E,E.type,P))(w,d));return{name:w.name,align:w.align,memento:k}});return R.some({lookupByName:w=>((k,E,P)=>J(E,F=>F.name===P).bind(F=>F.memento.getOpt(k)))(f,v,w),footerButtons:v})},renderComponents:vH})])}),HO=(s,l,d)=>Pr.parts.footer(wB(s,l,d)),oC=(s,l)=>{if(s.getRoot().getSystem().isConnected()){const d=ls.getCurrent(s.getFormWrapper()).getOr(s.getFormWrapper());return lb.getField(d,l).orThunk(()=>s.getFooter().bind(b=>yc.getState(b).get()).bind(b=>b.lookupByName(l)))}return R.none()},CB=(s,l,d)=>{const f=v=>{const w=s.getRoot();w.getSystem().isConnected()&&v(w)},b={getData:()=>{const v=s.getRoot(),w=v.getSystem().isConnected()?s.getFormWrapper():v;return{...gt.getValue(w),...to(d,k=>k.get())}},setData:v=>{f(w=>{const k=b.getData(),E=Bs(k,v),P=((L,H)=>{const Y=L.getRoot();return yc.getState(Y).get().map(Q=>Ha(wr("data",Q.dataValidator,H))).getOr(H)})(s,E),F=s.getFormWrapper();gt.setValue(F,P),Yn(d,(L,H)=>{go(E,H)&&L.set(E[H])})})},setEnabled:(v,w)=>{oC(s,v).each(w?co.enable:co.disable)},focus:v=>{oC(s,v).each(io.focus)},block:v=>{if(!h(v))throw new Error("The dialogInstanceAPI.block function should be passed a blocking message of type string as an argument");f(w=>{$n(w,qT,{message:v})})},unblock:()=>{f(v=>{No(v,YT)})},showTab:v=>{f(w=>{const k=s.getBody();yc.getState(k).get().exists(E=>E.isTabPanel())&&ls.getCurrent(k).each(E=>{Wy.showTab(E,v)})})},redial:v=>{f(w=>{const k=s.getId(),E=l(v),P=nC(E.internalDialog.buttons,d);w.getSystem().broadcastOn([`${cb}-${k}`],E),w.getSystem().broadcastOn([`${R3}-${k}`],E.internalDialog),w.getSystem().broadcastOn([`${XN}-${k}`],E.internalDialog),w.getSystem().broadcastOn([`${JN}-${k}`],{...E.internalDialog,buttons:P}),b.setData(E.initialData)})},close:()=>{f(v=>{No(v,rb)})},toggleFullscreen:s.toggleFullscreen};return b},_B=(s,l,d,f=!1,b)=>{const v=kn("dialog"),w=kn("dialog-label"),k=kn("dialog-content"),E=s.internalDialog,P=Un(E.size),F=tC(P.get()).toArray(),L=Ss(((Ae,Ie,qe,lt)=>uf.sketch({dom:hg('<div class="tox-dialog__header"></div>'),components:[MO(Ae,Ie,R.some(qe),lt),BO(),mB(lt)],containerBehaviours:Xt([T0.config({mode:"mouse",blockerClass:"blocker",getTarget:Nt=>cd(Nt,'[role="dialog"]').getOrDie(),snaps:{getSnapPoints:()=>[],leftAttr:"data-drag-left",topAttr:"data-drag-top"}})])}))({title:E.title,draggable:!0},v,w,d.shared.providers)),H=Ss(((Ae,Ie,qe,lt,Nt,Ot)=>Pk(Ae,Ie,R.some(qe),lt,Nt,Ot))({body:E.body,initialData:E.initialData},v,k,d,f,Ae=>oC(me,Ae))),Y=nC(E.buttons),Q=yB(Y),fe=ds(Y.length!==0,Ss(((Ae,Ie,qe)=>wB(Ae,Ie,qe))({buttons:Y},v,d))),pe=xB(()=>Ce,{onBlock:Ae=>{Sd.block(ge,(Ie,qe)=>{const lt=L.getOpt(ge).map(Nt=>Ar(Nt.element));return hB(Ae.message,qe,d.shared.providers,lt)})},onUnblock:()=>{Sd.unblock(ge)},onClose:()=>l.closeWindow()},d.shared.getSink),Ee=da().os,ge=Ji({dom:{tag:"div",classes:["tox-dialog","tox-dialog-inline",...F],attributes:{role:"dialog",...Ee.isMacOS()?{"aria-label":E.title}:{"aria-labelledby":w}}},eventOrder:{[cc()]:[yc.name(),Rl.name()],[Al()]:["execute-on-form"],[pa()]:["reflecting","execute-on-form"]},behaviours:Xt([zn.config({mode:"cyclic",onEscape:Ae=>(No(Ae,rb),R.some(!0)),useTabstopAt:Ae=>!Ry(Ae)&&(ol(Ae)!=="button"||Zo(Ae,"disabled")!=="disabled"),firstTabstop:1}),yc.config({channel:`${cb}-${v}`,updateState:(Ae,Ie)=>(P.set(Ie.internalDialog.size),VO(Ie.internalDialog.size,Ae),b(),R.some(Ie)),initialData:s}),io.config({}),Oo("execute-on-form",pe.concat([Hf(ws(),(Ae,Ie)=>{zn.focusIn(Ae)}),Rt(b1(),(Ae,Ie)=>{Ae.getSystem().broadcastOn([jS],{newFocus:Ie.event.newFocus})})])),Sd.config({getRoot:()=>R.some(ge)}),Qn.config({}),Ew({})]),components:[L.asSpec(),H.asSpec(),...fe.map(Ae=>Ae.asSpec()).toArray()]}),me={getId:j(v),getRoot:j(ge),getFooter:()=>fe.map(Ae=>Ae.get(ge)),getBody:()=>H.get(ge),getFormWrapper:()=>{const Ae=H.get(ge);return ls.getCurrent(Ae).getOr(Ae)},toggleFullscreen:()=>{bB(ge,P.get())}},Ce=CB(me,l.redial,Q);return{dialog:ge,instanceApi:Ce}};var UO=tinymce.util.Tools.resolve("tinymce.util.URI");const yH=["insertContent","setContent","execCommand","close","block","unblock"],WO=s=>x(s)&&yH.indexOf(s.mceAction)!==-1,xH=(s,l,d,f)=>{const b=kn("dialog"),v=gB(s.title,b,f),w=(Ee=>{const ge={dom:{tag:"div",classes:["tox-dialog__content-js"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-iframe"]},components:[T3(R.none(),{dom:{tag:"iframe",attributes:{src:Ee.url}},behaviours:Xt([Gs.config({}),io.config({})])})]}],behaviours:Xt([zn.config({mode:"acyclic",useTabstopAt:Fe(Ry)})])};return Pr.parts.body(ge)})(s),k=s.buttons.bind(Ee=>Ee.length===0?R.none():R.some(HO({buttons:Ee},b,f))),E=((Ee,ge)=>{const me=(Ae,Ie)=>Rt(Ae,(qe,lt)=>{Ce(qe,(Nt,Ot)=>{Ie(pe,Nt,lt.event,qe)})}),Ce=(Ae,Ie)=>{yc.getState(Ae).get().each(qe=>{Ie(qe,Ae)})};return[...zO(me,ge),me(fm,(Ae,Ie,qe)=>{Ie.onAction(Ae,{name:qe.name})})]})(0,pB(()=>fe,f.shared.providers,l)),P={...s.height.fold(()=>({}),Ee=>({height:Ee+"px","max-height":Ee+"px"})),...s.width.fold(()=>({}),Ee=>({width:Ee+"px","max-width":Ee+"px"}))},F=s.width.isNone()&&s.height.isNone()?["tox-dialog--width-lg"]:[],L=new UO(s.url,{base_uri:new UO(window.location.href)}),H=`${L.protocol}://${L.host}${L.port?":"+L.port:""}`,Y=Rc(),Q=[yc.config({channel:`${cb}-${b}`,updateState:(Ee,ge)=>R.some(ge),initialData:s}),Oo("messages",[ar(()=>{const Ee=Za(fn(window),"message",ge=>{if(L.isSameOrigin(new UO(ge.raw.origin))){const me=ge.raw.data;WO(me)?((Ce,Ae,Ie)=>{switch(Ie.mceAction){case"insertContent":Ce.insertContent(Ie.content);break;case"setContent":Ce.setContent(Ie.content);break;case"execCommand":const qe=!!O(Ie.ui)&&Ie.ui;Ce.execCommand(Ie.cmd,qe,Ie.value);break;case"close":Ae.close();break;case"block":Ae.block(Ie.message);break;case"unblock":Ae.unblock()}})(d,pe,me):(Ce=>!WO(Ce)&&x(Ce)&&go(Ce,"mceAction"))(me)&&s.onMessage(pe,me)}});Y.set(Ee)}),ad(Y.clear)]),Rl.config({channels:{[I3]:{onReceive:(Ee,ge)=>{fr(Ee.element,"iframe").each(me=>{const Ce=me.dom.contentWindow;z(Ce)&&Ce.postMessage(ge,H)})}}}})],fe=vB({id:b,header:v,body:w,footer:k,extraClasses:F,extraBehaviours:Q,extraStyles:P},E,f),pe=(Ee=>{const ge=me=>{Ee.getSystem().isConnected()&&me(Ee)};return{block:me=>{if(!h(me))throw new Error("The urlDialogInstanceAPI.block function should be passed a blocking message of type string as an argument");ge(Ce=>{$n(Ce,qT,{message:me})})},unblock:()=>{ge(me=>{No(me,YT)})},close:()=>{ge(me=>{No(me,rb)})},sendMessage:me=>{ge(Ce=>{Ce.getSystem().broadcastOn([I3],me)})}}})(fe);return{dialog:fe,instanceApi:pe}},KO=(s,l)=>Ha(wr("data",l,s)),SB=s=>Ay(s,".tox-alert-dialog")||Ay(s,".tox-confirm-dialog"),wH=(s,l,d)=>l&&d?[]:[dr.config({contextual:{lazyContext:()=>R.some(ci(fn(s.getContentAreaContainer()))),fadeInClass:"tox-dialog-dock-fadein",fadeOutClass:"tox-dialog-dock-fadeout",transitionClass:"tox-dialog-dock-transition"},modes:["top"],lazyViewport:f=>Gp(s,f.element).map(b=>({bounds:qp(b),optScrollEnv:R.some({currentScrollTop:b.element.dom.scrollTop,scrollElmTop:Vl(b.element).top})})).getOrThunk(()=>({bounds:Gi(),optScrollEnv:R.none()}))})],CH=s=>{const l=s.editor,d=Ph(l),f=(E=>{const P=E.shared;return{open:(F,L)=>{const H=()=>{Pr.hide(pe),L()},Y=Ss(Py({name:"close-alert",text:"OK",primary:!0,buttonType:R.some("primary"),align:"end",enabled:!0,icon:R.none()},"cancel",E)),Q=NO(),fe=PO(H,P.providers),pe=Ji(LO({lazySink:()=>P.getSink(),header:Qw(Q,fe),body:uB(F,P.providers),footer:R.some(dB(fB([],[Y.asSpec()]))),onEscape:H,extraClasses:["tox-alert-dialog"],extraBehaviours:[],extraStyles:{},dialogEvents:[Rt($h,H)],eventOrder:{}}));Pr.show(pe);const Ee=Y.get(pe);io.focus(Ee)}}})(s.backstages.dialog),b=(E=>{const P=E.shared;return{open:(F,L)=>{const H=me=>{Pr.hide(Ee),L(me)},Y=Ss(Py({name:"yes",text:"Yes",primary:!0,buttonType:R.some("primary"),align:"end",enabled:!0,icon:R.none()},"submit",E)),Q=Py({name:"no",text:"No",primary:!1,buttonType:R.some("secondary"),align:"end",enabled:!0,icon:R.none()},"cancel",E),fe=NO(),pe=PO(()=>H(!1),P.providers),Ee=Ji(LO({lazySink:()=>P.getSink(),header:Qw(fe,pe),body:uB(F,P.providers),footer:R.some(dB(fB([],[Q,Y.asSpec()]))),onEscape:()=>H(!1),extraClasses:["tox-confirm-dialog"],extraBehaviours:[],extraStyles:{},dialogEvents:[Rt($h,()=>H(!1)),Rt(ww,()=>H(!0))],eventOrder:{}}));Pr.show(Ee);const ge=Y.get(Ee);io.focus(ge)}}})(s.backstages.dialog),v=(E,P)=>O0.open((F,L,H)=>{const Y=L,Q=((fe,pe,Ee)=>{const ge=kn("dialog"),me=fe.internalDialog,Ce=gB(me.title,ge,Ee),Ae=Un(me.size),Ie=tC(Ae.get()).toArray(),qe=((uo,Ko,rr,mr)=>{const Io=Pk(uo,Ko,R.none(),rr,!1,mr);return Pr.parts.body(Io)})({body:me.body,initialData:me.initialData},ge,Ee,uo=>oC(Pn,uo)),lt=nC(me.buttons),Nt=yB(lt),Ot=ds(lt.length!==0,HO({buttons:lt},ge,Ee)),Et=xB(()=>jn,pB(()=>xn,Ee.shared.providers,pe),Ee.shared.getSink),jt={id:ge,header:Ce,body:qe,footer:Ot,extraClasses:Ie,extraBehaviours:[yc.config({channel:`${cb}-${ge}`,updateState:(uo,Ko)=>(Ae.set(Ko.internalDialog.size),VO(Ko.internalDialog.size,uo),R.some(Ko)),initialData:fe})],extraStyles:{}},xn=vB(jt,Et,Ee),Pn={getId:j(ge),getRoot:j(xn),getBody:()=>Pr.getBody(xn),getFooter:()=>Pr.getFooter(xn),getFormWrapper:()=>{const uo=Pr.getBody(xn);return ls.getCurrent(uo).getOr(uo)},toggleFullscreen:()=>{bB(xn,Ae.get())}},jn=CB(Pn,pe.redial,Nt);return{dialog:xn,instanceApi:jn}})({dataValidator:H,initialData:Y,internalDialog:F},{redial:O0.redial,closeWindow:()=>{Pr.hide(Q.dialog),P(Q.instanceApi)}},s.backstages.dialog);return Pr.show(Q.dialog),Q.instanceApi.setData(Y),Q.instanceApi},E),w=(E,P,F,L)=>O0.open((H,Y,Q)=>{const fe=KO(Y,Q),pe=Ts(),Ee=s.backstages.popup.shared.header.isPositionedAtTop(),ge=()=>pe.on(Ae=>{br.reposition(Ae),d&&Ee||dr.refresh(Ae)}),me=_B({dataValidator:Q,initialData:fe,internalDialog:H},{redial:O0.redial,closeWindow:()=>{pe.on(br.hide),l.off("ResizeEditor",ge),pe.clear(),F(me.instanceApi)}},s.backstages.popup,L.ariaAttrs,ge),Ce=Ji(br.sketch({lazySink:s.backstages.popup.shared.getSink,dom:{tag:"div",classes:[]},fireDismissalEventInstead:L.persistent?{event:"doNotDismissYet"}:{},...Ee?{}:{fireRepositionEventInstead:{}},inlineBehaviours:Xt([Oo("window-manager-inline-events",[Rt(ah(),(Ae,Ie)=>{No(me.dialog,$h)})]),...wH(l,d,Ee)]),isExtraPart:(Ae,Ie)=>SB(Ie)}));return pe.set(Ce),br.showWithinBounds(Ce,dl(me.dialog),{anchor:P},()=>{const Ae=l.inline?Sn():fn(l.getContainer()),Ie=ci(Ae);return R.some(Ie)}),d&&Ee||(dr.refresh(Ce),l.on("ResizeEditor",ge)),me.instanceApi.setData(fe),zn.focusIn(me.dialog),me.instanceApi},E),k=(E,P,F,L)=>O0.open((H,Y,Q)=>{const fe=KO(Y,Q),pe=Ts(),Ee=s.backstages.popup.shared.header.isPositionedAtTop(),ge=()=>pe.on(Ae=>{br.reposition(Ae),dr.refresh(Ae)}),me=_B({dataValidator:Q,initialData:fe,internalDialog:H},{redial:O0.redial,closeWindow:()=>{pe.on(br.hide),l.off("ResizeEditor ScrollWindow ElementScroll",ge),pe.clear(),F(me.instanceApi)}},s.backstages.popup,L.ariaAttrs,ge),Ce=Ji(br.sketch({lazySink:s.backstages.popup.shared.getSink,dom:{tag:"div",classes:[]},fireDismissalEventInstead:L.persistent?{event:"doNotDismissYet"}:{},...Ee?{}:{fireRepositionEventInstead:{}},inlineBehaviours:Xt([Oo("window-manager-inline-events",[Rt(ah(),(Ae,Ie)=>{No(me.dialog,$h)})]),dr.config({contextual:{lazyContext:()=>R.some(ci(fn(l.getContentAreaContainer()))),fadeInClass:"tox-dialog-dock-fadein",fadeOutClass:"tox-dialog-dock-fadeout",transitionClass:"tox-dialog-dock-transition"},modes:["top","bottom"],lazyViewport:Ae=>Gp(l,Ae.element).map(Ie=>({bounds:qp(Ie),optScrollEnv:R.some({currentScrollTop:Ie.element.dom.scrollTop,scrollElmTop:Vl(Ie.element).top})})).getOrThunk(()=>({bounds:Gi(),optScrollEnv:R.none()}))})]),isExtraPart:(Ae,Ie)=>SB(Ie)}));return pe.set(Ce),br.showWithinBounds(Ce,dl(me.dialog),{anchor:P},()=>s.backstages.popup.shared.getSink().toOptional().bind(Ae=>{const Ie=Gp(l,Ae.element).map(Nt=>qp(Nt)).getOr(Gi()),qe=ci(fn(l.getContentAreaContainer())),lt=Ud(qe,Ie);return R.some(Mo(lt.x,lt.y,lt.width,lt.height-15))})),dr.refresh(Ce),l.on("ResizeEditor ScrollWindow ElementScroll ResizeWindow",ge),me.instanceApi.setData(fe),zn.focusIn(me.dialog),me.instanceApi},E);return{open:(E,P,F)=>{if(!B(P)){if(P.inline==="toolbar")return w(E,s.backstages.popup.shared.anchors.inlineDialog(),F,P);if(P.inline==="bottom")return k(E,s.backstages.popup.shared.anchors.inlineBottomDialog(),F,P);if(P.inline==="cursor")return w(E,s.backstages.popup.shared.anchors.cursor(),F,P)}return v(E,F)},openUrl:(E,P)=>((F,L)=>O0.openUrl(H=>{const Y=xH(H,{closeWindow:()=>{Pr.hide(Y.dialog),L(Y.instanceApi)}},l,s.backstages.dialog);return Pr.show(Y.dialog),Y.instanceApi},F))(E,P),alert:(E,P)=>{f.open(E,P)},close:E=>{E.close()},confirm:(E,P)=>{b.open(E,P)}}};bp.add("silver",s=>{(k=>{RD(k),(E=>{const P=E.options.register,F=H=>ie(H,h)?{value:H7(H),valid:!0}:{valid:!1,message:"Must be an array of strings."},L=H=>ee(H)&&H>0?{value:H,valid:!0}:{valid:!1,message:"Must be a positive number."};P("color_map",{processor:F,default:["#BFEDD2","Light Green","#FBEEB8","Light Yellow","#F8CAC6","Light Red","#ECCAFA","Light Purple","#C2E0F4","Light Blue","#2DC26B","Green","#F1C40F","Yellow","#E03E2D","Red","#B96AD9","Purple","#3598DB","Blue","#169179","Dark Turquoise","#E67E23","Orange","#BA372A","Dark Red","#843FA1","Dark Purple","#236FA1","Dark Blue","#ECF0F1","Light Gray","#CED4D9","Medium Gray","#95A5A6","Gray","#7E8C8D","Dark Gray","#34495E","Navy Blue","#000000","Black","#ffffff","White"]}),P("color_map_background",{processor:F}),P("color_map_foreground",{processor:F}),P("color_cols",{processor:L,default:gS(E)}),P("color_cols_foreground",{processor:L,default:JP(E,TT)}),P("color_cols_background",{processor:L,default:JP(E,OT)}),P("custom_colors",{processor:"boolean",default:!0}),P("color_default_foreground",{processor:"string",default:gw}),P("color_default_background",{processor:"string",default:gw})})(k),(E=>{const P=E.options.register;P("contextmenu_avoid_overlap",{processor:"string",default:""}),P("contextmenu_never_use_native",{processor:"boolean",default:!1}),P("contextmenu",{processor:F=>F===!1?{value:[],valid:!0}:h(F)||ie(F,h)?{value:ZL(F),valid:!0}:{valid:!1,message:"Must be false or a string."},default:"link linkchecker image editimage table spellchecker configurepermanentpen"})})(k)})(s);let l=()=>Gi();const{dialogs:d,popups:f,renderUI:b}=Rz(s,{getPopupSinkBounds:()=>l()});bN(s,f.backstage.shared);const v=CH({editor:s,backstages:{popup:f.backstage,dialog:d.backstage}}),w=Ts();return{renderUI:()=>{const k=b();return Gp(s,f.getMothership().element).each(E=>{l=()=>qp(E)}),k},getWindowManagerImpl:j(v),getNotificationManagerImpl:()=>oP(s,{backstage:f.backstage},f.getMothership(),w)}})})();(function(){var t=tinymce.util.Tools.resolve("tinymce.ModelManager");const r=y=>S=>(T=>{const M=typeof T;return T===null?"null":M==="object"&&Array.isArray(T)?"array":M==="object"&&(U=K=T,(se=String).prototype.isPrototypeOf(U)||((le=K.constructor)===null||le===void 0?void 0:le.name)===se.name)?"string":M;var U,K,se,le})(S)===y,i=y=>S=>typeof S===y,u=y=>S=>y===S,g=r("string"),h=r("object"),x=r("array"),C=u(null),D=i("boolean"),I=u(void 0),O=y=>!(S=>S==null)(y),B=i("function"),V=i("number"),z=()=>{},Z=y=>()=>y,ee=y=>y,ie=(y,S)=>y===S;function W(y,...S){return(...T)=>{const M=S.concat(T);return y.apply(null,M)}}const he=y=>S=>!y(S),ue=y=>y(),j=Z(!1),de=Z(!0);class te{constructor(S,T){this.tag=S,this.value=T}static some(S){return new te(!0,S)}static none(){return te.singletonNone}fold(S,T){return this.tag?T(this.value):S()}isSome(){return this.tag}isNone(){return!this.tag}map(S){return this.tag?te.some(S(this.value)):te.none()}bind(S){return this.tag?S(this.value):te.none()}exists(S){return this.tag&&S(this.value)}forall(S){return!this.tag||S(this.value)}filter(S){return!this.tag||S(this.value)?this:te.none()}getOr(S){return this.tag?this.value:S}or(S){return this.tag?this:S}getOrThunk(S){return this.tag?this.value:S()}orThunk(S){return this.tag?this:S()}getOrDie(S){if(this.tag)return this.value;throw new Error(S??"Called getOrDie on None")}static from(S){return O(S)?te.some(S):te.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(S){this.tag&&S(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}te.singletonNone=new te(!1);const ze=Array.prototype.slice,Fe=Array.prototype.indexOf,Je=Array.prototype.push,rt=(y,S)=>{return T=y,M=S,Fe.call(T,M)>-1;var T,M},we=(y,S)=>{for(let T=0,M=y.length;T<M;T++)if(S(y[T],T))return!0;return!1},_e=(y,S)=>{const T=[];for(let M=0;M<y;M++)T.push(S(M));return T},R=(y,S)=>{const T=y.length,M=new Array(T);for(let U=0;U<T;U++){const K=y[U];M[U]=S(K,U)}return M},it=(y,S)=>{for(let T=0,M=y.length;T<M;T++)S(y[T],T)},St=(y,S)=>{const T=[],M=[];for(let U=0,K=y.length;U<K;U++){const se=y[U];(S(se,U)?T:M).push(se)}return{pass:T,fail:M}},Ut=(y,S)=>{const T=[];for(let M=0,U=y.length;M<U;M++){const K=y[M];S(K,M)&&T.push(K)}return T},sn=(y,S,T)=>(((M,U)=>{for(let K=M.length-1;K>=0;K--)U(M[K],K)})(y,(M,U)=>{T=S(T,M,U)}),T),dt=(y,S,T)=>(it(y,(M,U)=>{T=S(T,M,U)}),T),An=(y,S)=>((T,M,U)=>{for(let K=0,se=T.length;K<se;K++){const le=T[K];if(M(le,K))return te.some(le);if(U(le,K))break}return te.none()})(y,S,j),At=(y,S)=>{for(let T=0,M=y.length;T<M;T++)if(S(y[T],T))return te.some(T);return te.none()},et=y=>{const S=[];for(let T=0,M=y.length;T<M;++T){if(!x(y[T]))throw new Error("Arr.flatten item "+T+" was not an array, input: "+y);Je.apply(S,y[T])}return S},Me=(y,S)=>et(R(y,S)),mt=(y,S)=>{for(let T=0,M=y.length;T<M;++T)if(S(y[T],T)!==!0)return!1;return!0},vo=(y,S)=>{const T={};for(let M=0,U=y.length;M<U;M++){const K=y[M];T[String(K)]=S(K,M)}return T},Wt=(y,S)=>S>=0&&S<y.length?te.some(y[S]):te.none(),In=y=>Wt(y,0),on=y=>Wt(y,y.length-1),J=(y,S)=>{for(let T=0;T<y.length;T++){const M=S(y[T],T);if(M.isSome())return M}return te.none()},mo=Object.keys,Zt=Object.hasOwnProperty,vn=(y,S)=>{const T=mo(y);for(let M=0,U=T.length;M<U;M++){const K=T[M];S(y[K],K)}},je=(y,S)=>tt(y,(T,M)=>({k:M,v:S(T,M)})),tt=(y,S)=>{const T={};return vn(y,(M,U)=>{const K=S(M,U);T[K.k]=K.v}),T},xe=(y,S)=>{const T=[];return vn(y,(M,U)=>{T.push(S(M,U))}),T},Re=y=>xe(y,ee),Ve=(y,S)=>Zt.call(y,S),be=typeof window<"u"?window:Function("return this;")(),Se=(y,S)=>((T,M)=>{let U=M??be;for(let K=0;K<T.length&&U!=null;++K)U=U[T[K]];return U})(y.split("."),S),Ne=Object.getPrototypeOf,Ge=y=>{const S=Se("ownerDocument.defaultView",y);return h(y)&&((T=>((M,U)=>{const K=((se,le)=>Se(se,le))(M,U);if(K==null)throw new Error(M+" not available on this browser");return K})("HTMLElement",T))(S).prototype.isPrototypeOf(y)||/^HTML\w*Element$/.test(Ne(y).constructor.name))},ht=y=>y.dom.nodeName.toLowerCase(),ln=y=>y.dom.nodeType,Kt=y=>S=>ln(S)===y,yn=y=>ln(y)===8||ht(y)==="#comment",Yn=y=>to(y)&&Ge(y.dom),to=Kt(1),$o=Kt(3),Do=Kt(9),Zs=Kt(11),us=y=>S=>to(S)&&ht(S)===y,Qr=(y,S,T)=>{if(!(g(T)||D(T)||V(T)))throw console.error("Invalid call to Attribute.set. Key ",S,":: Value ",T,":: Element ",y),new Error("Attribute value was not simple");y.setAttribute(S,T+"")},xs=(y,S,T)=>{Qr(y.dom,S,T)},ji=(y,S)=>{const T=y.dom;vn(S,(M,U)=>{Qr(T,U,M)})},Tn=(y,S)=>{const T=y.dom.getAttribute(S);return T===null?void 0:T},go=(y,S)=>te.from(Tn(y,S)),Ro=(y,S)=>{y.dom.removeAttribute(S)},ai=y=>dt(y.dom.attributes,(S,T)=>(S[T.name]=T.value,S),{}),nl=y=>{if(y==null)throw new Error("Node cannot be null or undefined");return{dom:y}},Jt={fromHtml:(y,S)=>{const T=(S||document).createElement("div");if(T.innerHTML=y,!T.hasChildNodes()||T.childNodes.length>1){const M="HTML does not have a single root node";throw console.error(M,y),new Error(M)}return nl(T.childNodes[0])},fromTag:(y,S)=>{const T=(S||document).createElement(y);return nl(T)},fromText:(y,S)=>{const T=(S||document).createTextNode(y);return nl(T)},fromDom:nl,fromPoint:(y,S,T)=>te.from(y.dom.elementFromPoint(S,T)).map(nl)},pi=(y,S)=>{const T=y.dom;if(T.nodeType!==1)return!1;{const M=T;if(M.matches!==void 0)return M.matches(S);if(M.msMatchesSelector!==void 0)return M.msMatchesSelector(S);if(M.webkitMatchesSelector!==void 0)return M.webkitMatchesSelector(S);if(M.mozMatchesSelector!==void 0)return M.mozMatchesSelector(S);throw new Error("Browser lacks native selectors")}},ds=y=>y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11||y.childElementCount===0,jl=(y,S)=>{const T=S===void 0?document:S.dom;return ds(T)?te.none():te.from(T.querySelector(y)).map(Jt.fromDom)},Ws=(y,S)=>y.dom===S.dom,ei=(y,S)=>{const T=y.dom,M=S.dom;return T!==M&&T.contains(M)},Rm=pi,ju=y=>Jt.fromDom(y.dom.ownerDocument),Ac=y=>Do(y)?y:ju(y),wl=y=>te.from(y.dom.parentNode).map(Jt.fromDom),Zu=y=>te.from(y.dom.parentElement).map(Jt.fromDom),Ds=(y,S)=>{const T=B(S)?S:j;let M=y.dom;const U=[];for(;M.parentNode!==null&&M.parentNode!==void 0;){const K=M.parentNode,se=Jt.fromDom(K);if(U.push(se),T(se)===!0)break;M=K}return U},ho=y=>te.from(y.dom.previousSibling).map(Jt.fromDom),Zl=y=>te.from(y.dom.nextSibling).map(Jt.fromDom),Ii=y=>R(y.dom.childNodes,Jt.fromDom),Gu=(y,S)=>{const T=y.dom.childNodes;return te.from(T[S]).map(Jt.fromDom)},fn=(y,S)=>{wl(y).each(T=>{T.dom.insertBefore(S.dom,y.dom)})},qu=(y,S)=>{Zl(y).fold(()=>{wl(y).each(T=>{hr(T,S)})},T=>{fn(T,S)})},Im=(y,S)=>{(M=>Gu(M,0))(y).fold(()=>{hr(y,S)},M=>{y.dom.insertBefore(S.dom,M.dom)})},hr=(y,S)=>{y.dom.appendChild(S.dom)},Dm=(y,S)=>{fn(y,S),hr(S,y)},ol=(y,S)=>{it(S,(T,M)=>{const U=M===0?y:S[M-1];qu(U,T)})},Fl=(y,S)=>{it(S,T=>{hr(y,T)})},Cl=y=>{y.dom.textContent="",it(Ii(y),S=>{lr(S)})},lr=y=>{const S=y.dom;S.parentNode!==null&&S.parentNode.removeChild(S)},Aa=y=>{const S=Ii(y);S.length>0&&ol(y,S),lr(y)},$l=(y,S)=>Jt.fromDom(y.dom.cloneNode(S)),Pm=y=>$l(y,!1),nu=y=>$l(y,!0),ou=(y,S)=>{const T=Jt.fromTag(S),M=ai(y);return ji(T,M),T},Sf=["tfoot","thead","tbody","colgroup"],Fd=(y,S,T)=>({element:y,rowspan:S,colspan:T}),fs=(y,S,T)=>({element:y,cells:S,section:T}),Nr=(y,S,T)=>({element:y,isNew:S,isLocked:T}),li=(y,S,T,M)=>({element:y,cells:S,section:T,isNew:M}),Nm=y=>Jt.fromDom(y.dom.host),sl=y=>{const S=$o(y)?y.dom.parentNode:y.dom;if(S==null||S.ownerDocument===null)return!1;const T=S.ownerDocument;return(K=>{const se=(ke=>Jt.fromDom(ke.dom.getRootNode()))(K);return Zs(le=se)&&O(le.dom.host)?te.some(se):te.none();var le})(Jt.fromDom(S)).fold(()=>T.body.contains(S),(M=sl,U=Nm,K=>M(U(K))));var M,U},su=y=>{const S=y.dom.body;if(S==null)throw new Error("Body is not available yet");return Jt.fromDom(S)},Ta=(y,S)=>{let T=[];return it(Ii(y),M=>{S(M)&&(T=T.concat([M])),T=T.concat(Ta(M,S))}),T},Oa=(y,S,T)=>((M,U,K)=>Ut(Ds(M,K),se=>pi(se,S)))(y,0,T),ru=(y,S)=>((T,M)=>Ut(Ii(T),U=>pi(U,S)))(y),Ms=(y,S)=>((T,M)=>{const U=M===void 0?document:M.dom;return ds(U)?[]:R(U.querySelectorAll(T),Jt.fromDom)})(S,y);var cr=(y,S,T,M,U)=>y(T,M)?te.some(T):B(U)&&U(T)?te.none():S(T,M,U);const De=(y,S,T)=>{let M=y.dom;const U=B(T)?T:j;for(;M.parentNode;){M=M.parentNode;const K=Jt.fromDom(M);if(S(K))return te.some(K);if(U(K))break}return te.none()},at=(y,S,T)=>cr((M,U)=>U(M),De,y,S,T),He=(y,S,T)=>De(y,M=>pi(M,S),T),yt=(y,S)=>((T,M)=>An(T.dom.childNodes,U=>{return K=Jt.fromDom(U),pi(K,S);var K}).map(Jt.fromDom))(y),pt=(y,S)=>jl(S,y),ot=(y,S,T)=>cr((M,U)=>pi(M,U),He,y,S,T),Yt=(y,S,T=ie)=>y.exists(M=>T(M,S)),cn=y=>{const S=[],T=M=>{S.push(M)};for(let M=0;M<y.length;M++)y[M].each(T);return S},hn=(y,S)=>y?te.some(S):te.none(),Sn=(y,S,T)=>S===""||y.length>=S.length&&y.substr(T,T+S.length)===S,mn=(y,S,T=0,M)=>{const U=y.indexOf(S,T);return U!==-1&&(!!I(M)||U+S.length<=M)},So=(y,S)=>Sn(y,S,0),dn=(y,S)=>Sn(y,S,y.length-S.length),As=(y=>S=>S.replace(y,""))(/^\s+|\s+$/g),Zo=y=>y.length>0,es=y=>y.style!==void 0&&B(y.style.getPropertyValue),Lr=(y,S,T)=>{if(!g(T))throw console.error("Invalid call to CSS.set. Property ",S,":: Value ",T,":: Element ",y),new Error("CSS value must be a string: "+T);es(y)&&y.style.setProperty(S,T)},Po=(y,S,T)=>{const M=y.dom;Lr(M,S,T)},Gl=(y,S)=>{const T=y.dom;vn(S,(M,U)=>{Lr(T,U,M)})},Ra=(y,S)=>{const T=y.dom,M=window.getComputedStyle(T).getPropertyValue(S);return M!==""||sl(y)?M:yo(T,S)},yo=(y,S)=>es(y)?y.style.getPropertyValue(S):"",rl=(y,S)=>{const T=y.dom,M=yo(T,S);return te.from(M).filter(U=>U.length>0)},_l=(y,S)=>{((T,M)=>{es(T)&&T.style.removeProperty(M)})(y.dom,S),Yt(go(y,"style").map(As),"")&&Ro(y,"style")},Er=(y,S,T=0)=>go(y,S).map(M=>parseInt(M,10)).getOr(T),kf=(y,S)=>Er(y,S,1),ti=y=>us("col")(y)?Er(y,"span",1)>1:kf(y,"colspan")>1,Lm=(y,S)=>parseInt(Ra(y,S),10),ql=Z(10),ks=Z(10),$d=(y,S)=>Yg(y,S,de),Yg=(y,S,T)=>Me(Ii(y),M=>pi(M,S)?T(M)?[M]:[]:Yg(M,S,T)),gp=(y,S)=>((T,M,U=j)=>U(M)?te.none():rt(T,ht(M))?te.some(M):He(M,T.join(","),K=>pi(K,"table")||U(K)))(["td","th"],y,S),Ar=y=>$d(y,"th,td"),Tc=y=>pi(y,"colgroup")?ru(y,"col"):Me(Mm(y),S=>ru(S,"col")),Sl=(y,S)=>ot(y,"table",S),tr=y=>$d(y,"tr"),Mm=y=>Sl(y).fold(Z([]),S=>ru(S,"colgroup")),Vl=(y,S)=>R(y,T=>{if(ht(T)==="colgroup"){const M=R(Tc(T),U=>{const K=Er(U,"span",1);return Fd(U,1,K)});return fs(T,M,"colgroup")}{const M=R(Ar(T),U=>{const K=Er(U,"rowspan",1),se=Er(U,"colspan",1);return Fd(U,K,se)});return fs(T,M,S(T))}}),la=y=>wl(y).map(S=>{const T=ht(S);return(M=>rt(Sf,M))(T)?T:"tbody"}).getOr("tbody"),Xg=y=>{const S=tr(y),T=[...Mm(y),...S];return Vl(T,la)},Di=y=>{let S,T=!1;return(...M)=>(T||(T=!0,S=y.apply(null,M)),S)},il=()=>ca(0,0),ca=(y,S)=>({major:y,minor:S}),zl={nu:ca,detect:(y,S)=>{const T=String(S).toLowerCase();return y.length===0?il():((M,U)=>{const K=((le,ke)=>{for(let $e=0;$e<le.length;$e++){const Qe=le[$e];if(Qe.test(ke))return Qe}})(M,U);if(!K)return{major:0,minor:0};const se=le=>Number(U.replace(K,"$"+le));return ca(se(1),se(2))})(y,T)},unknown:il},hp=(y,S)=>{const T=String(S).toLowerCase();return An(y,M=>M.search(T))},Uo=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,iu=y=>S=>mn(S,y),Vd=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:y=>mn(y,"edge/")&&mn(y,"chrome")&&mn(y,"safari")&&mn(y,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,Uo],search:y=>mn(y,"chrome")&&!mn(y,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:y=>mn(y,"msie")||mn(y,"trident")},{name:"Opera",versionRegexes:[Uo,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:iu("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:iu("firefox")},{name:"Safari",versionRegexes:[Uo,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:y=>(mn(y,"safari")||mn(y,"mobile/"))&&mn(y,"applewebkit")}],Yu=[{name:"Windows",search:iu("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:y=>mn(y,"iphone")||mn(y,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:iu("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:iu("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:iu("linux"),versionRegexes:[]},{name:"Solaris",search:iu("sunos"),versionRegexes:[]},{name:"FreeBSD",search:iu("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:iu("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],Kb={browsers:Z(Vd),oses:Z(Yu)},_x="Edge",l1="Chromium",c1="Opera",WC="Firefox",pp="Safari",u1=y=>{const S=y.current,T=y.version,M=U=>()=>S===U;return{current:S,version:T,isEdge:M(_x),isChromium:M(l1),isIE:M("IE"),isOpera:M(c1),isFirefox:M(WC),isSafari:M(pp)}},nn=()=>u1({current:void 0,version:zl.unknown()}),Ef=u1,Af="Windows",d1="Android",ua="Linux",Tf="macOS",Jg="Solaris",Sx="FreeBSD",kx="ChromeOS",jb=y=>{const S=y.current,T=y.version,M=U=>()=>S===U;return{current:S,version:T,isWindows:M(Af),isiOS:M("iOS"),isAndroid:M(d1),isMacOS:M(Tf),isLinux:M(ua),isSolaris:M(Jg),isFreeBSD:M(Sx),isChromeOS:M(kx)}},Ex=()=>jb({current:void 0,version:zl.unknown()}),f1=jb,Ax=y=>window.matchMedia(y).matches;let Qg=Di(()=>((y,S,T)=>{const M=Kb.browsers(),U=Kb.oses(),K=S.bind(ke=>(($e,Qe)=>J(Qe.brands,Le=>{const Ue=Le.brand.toLowerCase();return An($e,Ze=>{var ct;return Ue===((ct=Ze.brand)===null||ct===void 0?void 0:ct.toLowerCase())}).map(Ze=>({current:Ze.name,version:zl.nu(parseInt(Le.version,10),0)}))}))(M,ke)).orThunk(()=>((ke,$e)=>hp(ke,$e).map(Qe=>{const Le=zl.detect(Qe.versionRegexes,$e);return{current:Qe.name,version:Le}}))(M,y)).fold(nn,Ef),se=((ke,$e)=>hp(ke,$e).map(Qe=>{const Le=zl.detect(Qe.versionRegexes,$e);return{current:Qe.name,version:Le}}))(U,y).fold(Ex,f1),le=((ke,$e,Qe,Le)=>{const Ue=ke.isiOS()&&/ipad/i.test(Qe)===!0,Ze=ke.isiOS()&&!Ue,ct=ke.isiOS()||ke.isAndroid(),ft=ct||Le("(pointer:coarse)"),Mt=Ue||!Ze&&ct&&Le("(min-device-width:768px)"),$t=Ze||ct&&!Mt,Lt=$e.isSafari()&&ke.isiOS()&&/safari/i.test(Qe)===!1,zt=!$t&&!Mt&&!Lt;return{isiPad:Z(Ue),isiPhone:Z(Ze),isTablet:Z(Mt),isPhone:Z($t),isTouch:Z(ft),isAndroid:ke.isAndroid,isiOS:ke.isiOS,isWebView:Z(Lt),isDesktop:Z(zt)}})(se,K,y,T);return{browser:K,os:se,deviceType:le}})(window.navigator.userAgent,te.from(window.navigator.userAgentData),Ax));const m1=()=>Qg(),Of=(y,S)=>{const T=U=>{const K=S(U);if(K<=0||K===null){const se=Ra(U,y);return parseFloat(se)||0}return K},M=(U,K)=>dt(K,(se,le)=>{const ke=Ra(U,le),$e=ke===void 0?0:parseInt(ke,10);return isNaN($e)?se:se+$e},0);return{set:(U,K)=>{if(!V(K)&&!K.match(/^[0-9]+$/))throw new Error(y+".set accepts only positive integer values. Value was "+K);const se=U.dom;es(se)&&(se.style[y]=K+"px")},get:T,getOuter:T,aggregate:M,max:(U,K,se)=>{const le=M(U,se);return K>le?K-le:0}}},Rf=(y,S,T)=>((M,U)=>(K=>{const se=parseFloat(K);return isNaN(se)?te.none():te.some(se)})(M).getOr(U))(Ra(y,S),T),da=Of("width",y=>y.dom.offsetWidth),kl=y=>da.get(y),eh=y=>da.getOuter(y),ts=y=>((S,T)=>{const M=S.dom,U=M.getBoundingClientRect().width||M.offsetWidth;return((K,se,le,ke)=>se-Rf(K,`padding-${le}`,0)-Rf(K,`padding-${ke}`,0)-Rf(K,`border-${le}-width`,0)-Rf(K,`border-${ke}-width`,0))(S,U,"left","right")})(y),zd=(y,S,T)=>{const M=y.cells,U=M.slice(0,S),K=M.slice(S),se=U.concat(T).concat(K);return $a(y,se)},th=(y,S,T)=>zd(y,S,[T]),nh=(y,S,T)=>{y.cells[S]=T},$a=(y,S)=>li(y.element,S,y.section,y.isNew),Vr=(y,S)=>y.cells[S],ur=(y,S)=>Vr(y,S).element,Zi=y=>y.cells.length,nr=y=>{const S=St(y,T=>T.section==="colgroup");return{rows:S.fail,cols:S.pass}},If=(y,S,T)=>{const M=R(y.cells,T);return li(S(y.element),M,y.section,!0)},Bm="data-snooker-locked-cols",_i=y=>go(y,Bm).bind(S=>te.from(S.match(/\d+/g))).map(S=>vo(S,de)),Va=y=>{const S=dt(nr(y).rows,(M,U)=>(it(U.cells,(K,se)=>{K.isLocked&&(M[se]=!0)}),M),{}),T=xe(S,(M,U)=>parseInt(U,10));return((M,U)=>{const K=ze.call(M,0);return K.sort(void 0),K})(T)},Ia=(y,S)=>y+","+S,au=(y,S)=>{const T=Me(y.all,M=>M.cells);return Ut(T,S)},Hd=y=>{const S={},T=[],M=In(y).map(Ue=>Ue.element).bind(Sl).bind(_i).getOr({});let U=0,K=0,se=0;const{pass:le,fail:ke}=St(y,Ue=>Ue.section==="colgroup");it(ke,Ue=>{const Ze=[];it(Ue.cells,ct=>{let ft=0;for(;S[Ia(se,ft)]!==void 0;)ft++;const Mt=((Lt,zt)=>Ve(Lt,zt)&&Lt[zt]!==void 0&&Lt[zt]!==null)(M,ft.toString()),$t=((Lt,zt,Qt,rn,gt,En)=>({element:Lt,rowspan:zt,colspan:Qt,row:rn,column:gt,isLocked:En}))(ct.element,ct.rowspan,ct.colspan,se,ft,Mt);for(let Lt=0;Lt<ct.colspan;Lt++)for(let zt=0;zt<ct.rowspan;zt++){const Qt=ft+Lt,rn=Ia(se+zt,Qt);S[rn]=$t,K=Math.max(K,Qt+1)}Ze.push($t)}),U++,T.push(fs(Ue.element,Ze,Ue.section)),se++});const{columns:$e,colgroups:Qe}=on(le).map(Ue=>{const Ze=(ft=>{const Mt={};let $t=0;return it(ft.cells,Lt=>{const zt=Lt.colspan;_e(zt,Qt=>{const rn=$t+Qt;Mt[rn]=((gt,En,no)=>({element:gt,colspan:En,column:no}))(Lt.element,zt,rn)}),$t+=zt}),Mt})(Ue);return{colgroups:[((ft,Mt)=>({element:ft,columns:Mt}))(Ue.element,Re(Ze))],columns:Ze}}).getOrThunk(()=>({colgroups:[],columns:{}}));return{grid:((Ue,Ze)=>({rows:Ue,columns:Ze}))(U,K),access:S,all:T,columns:$e,colgroups:Qe}},Mo=y=>{const S=Xg(y);return Hd(S)},ci=Hd,El=(y,S,T)=>te.from(y.access[Ia(S,T)]),Ud=(y,S,T)=>{const M=au(y,U=>T(S,U.element));return M.length>0?te.some(M[0]):te.none()},Gi=au,Un=y=>Me(y.all,S=>S.cells),Oc=y=>Re(y.columns),Rc=y=>mo(y.columns).length>0,Ts=(y,S)=>te.from(y.columns[S]),bp=(y,S=de)=>{const T=y.grid,M=_e(T.columns,ee),U=_e(T.rows,ee);return R(M,K=>Zb(()=>Me(U,se=>El(y,se,K).filter(le=>le.column===K).toArray()),se=>se.colspan===1&&S(se.element),()=>El(y,0,K)))},Zb=(y,S,T)=>{const M=y();return An(M,S).orThunk(()=>te.from(M[0]).orThunk(T)).map(U=>U.element)},Wd=y=>{const S=y.grid,T=_e(S.rows,ee),M=_e(S.columns,ee);return R(T,U=>Zb(()=>Me(M,K=>El(y,U,K).filter(se=>se.row===U).fold(Z([]),se=>[se])),K=>K.rowspan===1,()=>El(y,U,0)))},Wo=(y,S)=>T=>za(T)==="rtl"?S:y,za=y=>Ra(y,"direction")==="rtl"?"rtl":"ltr",vp=Of("height",y=>{const S=y.dom;return sl(y)?S.getBoundingClientRect().height:S.offsetHeight}),Kd=y=>vp.get(y),Gb=y=>vp.getOuter(y),lu=(y,S)=>({left:y,top:S,translate:(T,M)=>lu(y+T,S+M)}),al=lu,cu=(y,S)=>y!==void 0?y:S!==void 0?S:0,Df=y=>{const S=y.dom.ownerDocument,T=S.body,M=S.defaultView,U=S.documentElement;if(T===y.dom)return al(T.offsetLeft,T.offsetTop);const K=cu(M==null?void 0:M.pageYOffset,U.scrollTop),se=cu(M==null?void 0:M.pageXOffset,U.scrollLeft),le=cu(U.clientTop,T.clientTop),ke=cu(U.clientLeft,T.clientLeft);return Ke(y).translate(se-ke,K-le)},Ke=y=>{const S=y.dom,T=S.ownerDocument.body;return T===S?al(T.offsetLeft,T.offsetTop):sl(y)?(M=>{const U=M.getBoundingClientRect();return al(U.left,U.top)})(S):al(0,0)},Fm=(y,S)=>({row:y,y:S}),Bs=(y,S)=>({col:y,x:S}),qb=y=>Df(y).left+eh(y),oh=y=>Df(y).left,uu=(y,S)=>Bs(y,oh(S)),ns=(y,S)=>Bs(y,qb(S)),fa=y=>Df(y).top,Xu=(y,S)=>Fm(y,fa(S)),ac=(y,S)=>Fm(y,fa(S)+Gb(S)),Ju=(y,S,T)=>{if(T.length===0)return[];const M=R(T.slice(1),(K,se)=>K.map(le=>y(se,le))),U=T[T.length-1].map(K=>S(T.length-1,K));return M.concat([U])},Qu={delta:ee,positions:y=>Ju(Xu,ac,y),edge:fa},ma=Wo({delta:ee,edge:oh,positions:y=>Ju(uu,ns,y)},{delta:y=>-y,edge:qb,positions:y=>Ju(ns,uu,y)}),Pf={delta:(y,S)=>ma(S).delta(y,S),positions:(y,S)=>ma(S).positions(y,S),edge:y=>ma(y).edge(y)},$m={unsupportedLength:["em","ex","cap","ch","ic","rem","lh","rlh","vw","vh","vi","vb","vmin","vmax","cm","mm","Q","in","pc","pt","px"],fixed:["px","pt"],relative:["%"],empty:[""]},Yb=(()=>{const y="[0-9]+",S="[eE][+-]?"+y,T=U=>`(?:${U})?`,M=["Infinity",y+"\\."+T(y)+T(S),"\\."+y+T(S),y+T(S)].join("|");return new RegExp(`^([+-]?(?:${M}))(.*)$`)})(),Si=/(\d+(\.\d+)?)%/,qn=/(\d+(\.\d+)?)px|em/,ed=us("col"),Vm=us("tr"),ga=(y,S,T)=>{const M=Zu(y).getOrThunk(()=>su(ju(y)));return S(y)/T(M)*100},td=(y,S)=>{Po(y,"width",S+"px")},Hl=(y,S)=>{Po(y,"width",S+"%")},nd=(y,S)=>{Po(y,"height",S+"px")},jd=y=>{const S=(T=>{return Rf(M=T,"height",M.dom.offsetHeight)+"px";var M})(y);return S?((T,M,U,K)=>{const se=parseFloat(T);return dn(T,"%")&&ht(M)!=="table"?((le,ke,$e,Qe)=>{const Le=Sl(le).map(Ue=>{const Ze=$e(Ue);return Math.floor(ke/100*Ze)}).getOr(ke);return Qe(le,Le),Le})(M,se,U,K):se})(S,y,Kd,nd):Kd(y)},ki=(y,S)=>rl(y,S).orThunk(()=>go(y,S).map(T=>T+"px")),lc=y=>ki(y,"width"),du=y=>ga(y,kl,ts),zm=y=>{return ed(y)?kl(y):Rf(S=y,"width",S.dom.offsetWidth);var S},g1=y=>Vm(y)?Kd(y):((S,T,M)=>M(S)/kf(S,"rowspan"))(y,0,jd),od=(y,S,T)=>{Po(y,"width",S+T)},Nf=y=>ga(y,kl,ts)+"%",Xb=Z(Si),wr=us("col"),Ha=y=>lc(y).getOrThunk(()=>zm(y)+"px"),Da=y=>{return(S=y,ki(S,"height")).getOrThunk(()=>g1(y)+"px");var S},ll=(y,S,T,M,U,K)=>y.filter(M).fold(()=>K(((se,le)=>{if(le<0||le>=se.length-1)return te.none();const ke=se[le].fold(()=>{const Qe=(Le=>{const Ue=ze.call(Le,0);return Ue.reverse(),Ue})(se.slice(0,le));return J(Qe,(Le,Ue)=>Le.map(Ze=>({value:Ze,delta:Ue+1})))},Qe=>te.some({value:Qe,delta:0})),$e=se[le+1].fold(()=>{const Qe=se.slice(le+1);return J(Qe,(Le,Ue)=>Le.map(Ze=>({value:Ze,delta:Ue+1})))},Qe=>te.some({value:Qe,delta:1}));return ke.bind(Qe=>$e.map(Le=>{const Ue=Le.delta+Qe.delta;return Math.abs(Le.value-Qe.value)/Ue}))})(T,S)),se=>U(se)),bi=(y,S,T,M)=>{const U=bp(y),K=Rc(y)?(ke=>R(Oc(ke),$e=>te.from($e.element)))(y):U,se=[te.some(Pf.edge(S))].concat(R(Pf.positions(U,S),ke=>ke.map($e=>$e.x))),le=he(ti);return R(K,(ke,$e)=>ll(ke,$e,se,le,Qe=>{if((Ue=>{const Ze=m1().browser,ct=Ze.isChromium()||Ze.isFirefox();return!wr(Ue)||ct})(Qe))return T(Qe);{const Ue=(Le=U[$e])!=null?ee(Le):te.none();return ll(Ue,$e,se,le,Ze=>M(te.some(kl(Ze))),M)}var Le},M))},yp=y=>y.map(S=>S+"px").getOr(""),ui=(y,S,T)=>bi(y,S,zm,M=>M.getOrThunk(T.minCellWidth)),qi=(y,S,T,M)=>{const U=Wd(y),K=R(y.all,le=>te.some(le.element)),se=[te.some(Qu.edge(S))].concat(R(Qu.positions(U,S),le=>le.map(ke=>ke.y)));return R(K,(le,ke)=>ll(le,ke,se,de,T,M))},fu=(y,S)=>()=>sl(y)?S(y):parseFloat(rl(y,"width").getOr("0")),Bt=y=>{const S=fu(y,M=>parseFloat(Nf(M))),T=fu(y,kl);return{width:S,pixelWidth:T,getWidths:(M,U)=>((K,se,le)=>bi(K,se,du,ke=>ke.fold(()=>le.minCellWidth(),$e=>$e/le.pixelWidth()*100)))(M,y,U),getCellDelta:M=>M/T()*100,singleColumnWidth:(M,U)=>[100-M],minCellWidth:()=>ql()/T()*100,setElementWidth:Hl,adjustTableWidth:M=>{const U=S();Hl(y,U+M/100*U)},isRelative:!0,label:"percent"}},Yi=y=>{const S=fu(y,kl);return{width:S,pixelWidth:S,getWidths:(T,M)=>ui(T,y,M),getCellDelta:ee,singleColumnWidth:(T,M)=>[Math.max(ql(),T+M)-T],minCellWidth:ql,setElementWidth:td,adjustTableWidth:T=>{const M=S()+T;td(y,M)},isRelative:!1,label:"pixel"}},xp=y=>lc(y).fold(()=>(S=>{const T=fu(S,kl),M=Z(0);return{width:T,pixelWidth:T,getWidths:(U,K)=>ui(U,S,K),getCellDelta:M,singleColumnWidth:Z([0]),minCellWidth:M,setElementWidth:z,adjustTableWidth:z,isRelative:!0,label:"none"}})(y),S=>((T,M)=>Xb().exec(M)!==null?Bt(T):Yi(T))(y,S)),Cr=Yi,sd=Bt,Ua=(y,S,T)=>{const M=y[T].element,U=Jt.fromTag("td");hr(U,Jt.fromTag("br")),(S?hr:Im)(M,U)},Ic=((y,S)=>{const T=M=>y(M)?te.from(M.dom.nodeValue):te.none();return{get:M=>{if(!y(M))throw new Error("Can only get text value of a text node");return T(M).getOr("")},getOption:T,set:(M,U)=>{if(!y(M))throw new Error("Can only set raw text value of a text node");M.dom.nodeValue=U}}})($o),Hm=y=>Ic.get(y),cl=y=>Ic.getOption(y),Xo=(y,S)=>Ic.set(y,S),zr=y=>ht(y)==="img"?1:cl(y).fold(()=>Ii(y).length,S=>S.length),Lf=["img","br"],Mr=y=>cl(y).filter(S=>S.trim().length!==0||S.indexOf("")>-1).isSome()||rt(Lf,ht(y))||(S=>Yn(S)&&Tn(S,"contenteditable")==="false")(y),sh=y=>((S,T)=>{const M=U=>{for(let K=0;K<U.childNodes.length;K++){const se=Jt.fromDom(U.childNodes[K]);if(T(se))return te.some(se);const le=M(U.childNodes[K]);if(le.isSome())return le}return te.none()};return M(S.dom)})(y,Mr),mu=y=>h1(y,Mr),h1=(y,S)=>{const T=M=>{const U=Ii(M);for(let K=U.length-1;K>=0;K--){const se=U[K];if(S(se))return te.some(se);const le=T(se);if(le.isSome())return le}return te.none()};return T(y)},Tr={scope:["row","col"]},ut=y=>()=>{const S=Jt.fromTag("td",y.dom);return hr(S,Jt.fromTag("br",y.dom)),S},Wa=y=>()=>Jt.fromTag("col",y.dom),Hr=y=>()=>Jt.fromTag("colgroup",y.dom),Yl=y=>()=>Jt.fromTag("tr",y.dom),Dc=(y,S,T)=>{const M=((U,K)=>{const se=ou(U,K),le=Ii(nu(U));return Fl(se,le),se})(y,S);return vn(T,(U,K)=>{U===null?Ro(M,K):xs(M,K,U)}),M},ni=y=>y,or=(y,S,T)=>{const M=(U,K)=>{((se,le)=>{const ke=se.dom,$e=le.dom;es(ke)&&es($e)&&($e.style.cssText=ke.style.cssText)})(U.element,K),_l(K,"height"),U.colspan!==1&&_l(K,"width")};return{col:U=>{const K=Jt.fromTag(ht(U.element),S.dom);return M(U,K),y(U.element,K),K},colgroup:Hr(S),row:Yl(S),cell:U=>{const K=Jt.fromTag(ht(U.element),S.dom),se=T.getOr(["strong","em","b","i","span","font","h1","h2","h3","h4","h5","h6","p","div"]),le=se.length>0?((ke,$e,Qe)=>sh(ke).map(Le=>{const Ue=Qe.join(","),Ze=Oa(Le,Ue,ct=>Ws(ct,ke));return sn(Ze,(ct,ft)=>{const Mt=Pm(ft);return hr(ct,Mt),Mt},$e)}).getOr($e))(U.element,K,se):K;return hr(le,Jt.fromTag("br")),M(U,K),((ke,$e)=>{vn(Tr,(Qe,Le)=>go(ke,Le).filter(Ue=>rt(Qe,Ue)).each(Ue=>xs($e,Le,Ue)))})(U.element,K),y(U.element,K),K},replace:Dc,colGap:Wa(S),gap:ut(S)}},Ps=y=>({col:Wa(y),colgroup:Hr(y),row:Yl(y),cell:ut(y),replace:ni,colGap:Wa(y),gap:ut(y)}),Ka=y=>S=>S.options.get(y),Xl="100%",gu=y=>{var S;const T=y.dom,M=(S=T.getParent(y.selection.getStart(),T.isBlock))!==null&&S!==void 0?S:y.getBody();return ts(Jt.fromDom(M))+"px"},Zd=y=>te.from(y.options.get("table_clone_elements")),Um=Ka("table_header_type"),rh=Ka("table_column_resizing"),ih=y=>rh(y)==="preservetable",Jb=y=>rh(y)==="resizetable",Qb=Ka("table_sizing_mode"),rd=y=>Qb(y)==="relative",N=y=>Qb(y)==="fixed",G=y=>Qb(y)==="responsive",ae=Ka("table_resize_bars"),Be=Ka("table_style_by_css"),Xe=Ka("table_merge_content_on_paste"),Ft=y=>{const S=y.options,T=S.get("table_default_attributes");return S.isSet("table_default_attributes")?T:((M,U)=>G(M)||Be(M)?U:N(M)?{...U,width:gu(M)}:{...U,width:Xl})(y,T)},Xn=Ka("table_use_colgroups"),Eo=y=>ot(y,"[contenteditable]"),po=(y,S=!1)=>sl(y)?y.dom.isContentEditable:Eo(y).fold(Z(S),T=>Mn(T)==="true"),Mn=y=>y.dom.contentEditable,ws=y=>Jt.fromDom(y.getBody()),Ur=y=>S=>Ws(S,ws(y)),_r=y=>{Ro(y,"data-mce-style");const S=T=>Ro(T,"data-mce-style");it(Ar(y),S),it(Tc(y),S),it(tr(y),S)},Pc=y=>Jt.fromDom(y.selection.getStart()),Wm=y=>y.getBoundingClientRect().width,Km=y=>y.getBoundingClientRect().height,vi=y=>(S,T)=>{const M=S.dom.getStyle(T,y)||S.dom.getAttrib(T,y);return te.from(M).filter(Zo)},KC=vi("width"),ev=vi("height"),p1=y=>at(y,us("table")).exists(po),ha=(y,S)=>{const T=S.column,M=S.column+S.colspan-1,U=S.row,K=S.row+S.rowspan-1;return T<=y.finishCol&&M>=y.startCol&&U<=y.finishRow&&K>=y.startRow},Or=(y,S)=>S.column>=y.startCol&&S.column+S.colspan-1<=y.finishCol&&S.row>=y.startRow&&S.row+S.rowspan-1<=y.finishRow,Pi=(y,S,T)=>{const M=Ud(y,S,Ws),U=Ud(y,T,Ws);return M.bind(K=>U.map(se=>{return le=K,ke=se,{startRow:Math.min(le.row,ke.row),startCol:Math.min(le.column,ke.column),finishRow:Math.max(le.row+le.rowspan-1,ke.row+ke.rowspan-1),finishCol:Math.max(le.column+le.colspan-1,ke.column+ke.colspan-1)};var le,ke}))},id=(y,S,T)=>Pi(y,S,T).map(M=>{const U=Gi(y,W(ha,M));return R(U,K=>K.element)}),wp=(y,S)=>Ud(y,S,(T,M)=>ei(M,T)).map(T=>T.element),Tx=(y,S,T)=>{const M=Al(y);return id(M,S,T)},cc=(y,S,T,M,U)=>{const K=Al(y),se=Ws(y,T)?te.some(S):wp(K,S),le=Ws(y,U)?te.some(M):wp(K,M);return se.bind(ke=>le.bind($e=>id(K,ke,$e)))},Al=Mo;var tv=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","li","table","thead","tbody","tfoot","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],Mf=()=>({up:Z({selector:He,closest:ot,predicate:De,all:Ds}),down:Z({selector:Ms,predicate:Ta}),styles:Z({get:Ra,getRaw:rl,set:Po,remove:_l}),attrs:Z({get:Tn,set:xs,remove:Ro,copyTo:(y,S)=>{const T=ai(y);ji(S,T)}}),insert:Z({before:fn,after:qu,afterAll:ol,append:hr,appendAll:Fl,prepend:Im,wrap:Dm}),remove:Z({unwrap:Aa,remove:lr}),create:Z({nu:Jt.fromTag,clone:y=>Jt.fromDom(y.dom.cloneNode(!1)),text:Jt.fromText}),query:Z({comparePosition:(y,S)=>y.dom.compareDocumentPosition(S.dom),prevSibling:ho,nextSibling:Zl}),property:Z({children:Ii,name:ht,parent:wl,document:y=>Ac(y).dom,isText:$o,isComment:yn,isElement:to,isSpecial:y=>{const S=ht(y);return rt(["script","noscript","iframe","noframes","noembed","title","style","textarea","xmp"],S)},getLanguage:y=>to(y)?go(y,"lang"):te.none(),getText:Hm,setText:Xo,isBoundary:y=>!!to(y)&&(ht(y)==="body"||rt(tv,ht(y))),isEmptyTag:y=>!!to(y)&&rt(["br","img","hr","input"],ht(y)),isNonEditable:y=>to(y)&&Tn(y,"contenteditable")==="false"}),eq:Ws,is:Rm});const zE=(y,S,T,M)=>{const U=S(y,T);return sn(M,(K,se)=>{const le=S(y,se);return nv(y,K,le)},U)},nv=(y,S,T)=>S.bind(M=>T.filter(W(y.eq,M))),Gd=Mf(),Bf=(y,S)=>((T,M,U)=>U.length>0?((K,se,le,ke)=>ke(K,se,le[0],le.slice(1)))(T,M,U,zE):te.none())(Gd,(T,M)=>y(M),S),Nn=y=>He(y,"table"),hu=(y,S,T)=>{const M=U=>K=>T!==void 0&&T(K)||Ws(K,U);return Ws(y,S)?te.some({boxes:te.some([y]),start:y,finish:S}):Nn(y).bind(U=>Nn(S).bind(K=>{if(Ws(U,K))return te.some({boxes:Tx(U,y,S),start:y,finish:S});if(ei(U,K)){const se=Oa(S,"td,th",M(U)),le=se.length>0?se[se.length-1]:S;return te.some({boxes:cc(U,y,U,S,K),start:y,finish:le})}if(ei(K,U)){const se=Oa(y,"td,th",M(K)),le=se.length>0?se[se.length-1]:y;return te.some({boxes:cc(K,y,U,S,K),start:y,finish:le})}return((se,le,ke)=>(($e,Qe,Le,Ue=j)=>{const Ze=[Qe].concat($e.up().all(Qe)),ct=[Le].concat($e.up().all(Le)),ft=zt=>At(zt,Ue).fold(()=>zt,Qt=>zt.slice(0,Qt+1)),Mt=ft(Ze),$t=ft(ct),Lt=An(Mt,zt=>we($t,((Qt,rn)=>W(Qt.eq,rn))($e,zt)));return{firstpath:Mt,secondpath:$t,shared:Lt}})(Gd,se,le,void 0))(y,S).shared.bind(se=>ot(se,"table",T).bind(le=>{const ke=Oa(S,"td,th",M(le)),$e=ke.length>0?ke[ke.length-1]:S,Qe=Oa(y,"td,th",M(le)),Le=Qe.length>0?Qe[Qe.length-1]:y;return te.some({boxes:cc(le,y,U,S,K),start:Le,finish:$e})}))}))},ov=(y,S)=>{const T=Ms(y,S);return T.length>0?te.some(T):te.none()},Ff=(y,S,T)=>pt(y,S).bind(M=>pt(y,T).bind(U=>Bf(Nn,[M,U]).map(K=>({first:M,last:U,table:K})))),pa=(y,S,T,M,U)=>((K,se)=>An(K,le=>pi(le,se)))(y,U).bind(K=>((se,le,ke)=>Sl(se).bind($e=>((Qe,Le,Ue,Ze)=>Ud(Qe,Le,Ws).bind(ct=>{const ft=Ue>0?ct.row+ct.rowspan-1:ct.row,Mt=Ze>0?ct.column+ct.colspan-1:ct.column;return El(Qe,ft+Ue,Mt+Ze).map($t=>$t.element)}))(Al($e),se,le,ke)))(K,S,T).bind(se=>((le,ke)=>He(le,"table").bind($e=>pt($e,ke).bind(Qe=>hu(Qe,le).bind(Le=>Le.boxes.map(Ue=>({boxes:Ue,start:Le.start,finish:Le.finish}))))))(se,M))),Nc=(y,S)=>ov(y,S),ah=(y,S,T)=>Ff(y,S,T).bind(M=>{const U=ke=>Ws(y,ke),K="thead,tfoot,tbody,table",se=He(M.first,K,U),le=He(M.last,K,U);return se.bind(ke=>le.bind($e=>Ws(ke,$e)?((Qe,Le,Ue)=>((Ze,ct,ft)=>Pi(Ze,ct,ft).bind(Mt=>(($t,Lt)=>{let zt=!0;const Qt=W(Or,Lt);for(let rn=Lt.startRow;rn<=Lt.finishRow;rn++)for(let gt=Lt.startCol;gt<=Lt.finishCol;gt++)zt=zt&&El($t,rn,gt).exists(Qt);return zt?te.some(Lt):te.none()})(Ze,Mt)))(Al(Qe),Le,Ue))(M.table,M.first,M.last):te.none()))}),$f=ee,b1=y=>{const S=(T,M)=>go(T,M).exists(U=>parseInt(U,10)>1);return y.length>0&&mt(y,T=>S(T,"rowspan")||S(T,"colspan"))?te.some(y):te.none()},pu=(y,S,T)=>S.length<=1?te.none():ah(y,T.firstSelectedSelector,T.lastSelectedSelector).map(M=>({bounds:M,cells:S})),Cp="data-mce-selected",_p="data-mce-first-selected",Gt="data-mce-last-selected",Ox="["+Cp+"]",Vf={selected:Cp,selectedSelector:"td["+Cp+"],th["+Cp+"]",firstSelected:_p,firstSelectedSelector:"td["+_p+"],th["+_p+"]",lastSelected:Gt,lastSelectedSelector:"td["+Gt+"],th["+Gt+"]"},No=(y,S,T)=>({element:T,mergable:pu(S,y,Vf),unmergable:b1(y),selection:$f(y)}),$n=y=>(S,T)=>{const M=ht(S),U=M==="col"||M==="colgroup"?Sl(K=S).bind(se=>Nc(se,Vf.firstSelectedSelector)).fold(Z(K),se=>se[0]):S;var K;return ot(U,y,T)},zf=$n("th,td,caption"),pr=$n("th,td"),Lc=y=>{return S=y.model.table.getSelectedCells(),R(S,Jt.fromDom);var S},Mc=(y,S)=>{y.on("BeforeGetContent",T=>{const M=U=>{T.preventDefault(),(K=>Sl(K[0]).map(se=>{const le=((ke,$e)=>{const Qe=zt=>pi(zt.element,$e),Le=nu(ke),Ue=Xg(Le),Ze=xp(ke),ct=ci(Ue),ft=((zt,Qt)=>{const rn=zt.grid.columns;let gt=zt.grid.rows,En=rn,no=0,To=0;const lo=[],oo=[];return vn(zt.access,Ao=>{if(lo.push(Ao),Qt(Ao)){oo.push(Ao);const Jo=Ao.row,si=Jo+Ao.rowspan-1,Na=Ao.column,Qi=Na+Ao.colspan-1;Jo<gt?gt=Jo:si>no&&(no=si),Na<En?En=Na:Qi>To&&(To=Qi)}}),((Ao,Jo,si,Na,Qi,mc)=>({minRow:Ao,minCol:Jo,maxRow:si,maxCol:Na,allCells:Qi,selectedCells:mc}))(gt,En,no,To,lo,oo)})(ct,Qe),Mt="th:not("+$e+"),td:not("+$e+")",$t=Yg(Le,"th,td",zt=>pi(zt,Mt));it($t,lr),((zt,Qt,rn,gt)=>{const En=Ut(zt,lo=>lo.section!=="colgroup"),no=Qt.grid.columns,To=Qt.grid.rows;for(let lo=0;lo<To;lo++){let oo=!1;for(let Ao=0;Ao<no;Ao++)lo<rn.minRow||lo>rn.maxRow||Ao<rn.minCol||Ao>rn.maxCol||(El(Qt,lo,Ao).filter(gt).isNone()?Ua(En,oo,lo):oo=!0)}})(Ue,ct,ft,Qe);const Lt=((zt,Qt,rn,gt)=>{if(gt.minCol===0&&Qt.grid.columns===gt.maxCol+1)return 0;const En=ui(Qt,zt,rn),no=dt(En,(oo,Ao)=>oo+Ao,0),To=dt(En.slice(gt.minCol,gt.maxCol+1),(oo,Ao)=>oo+Ao,0),lo=To/no*rn.pixelWidth()-rn.pixelWidth();return rn.getCellDelta(lo)})(ke,Mo(ke),Ze,ft);return((zt,Qt,rn,gt)=>{vn(rn.columns,no=>{(no.column<Qt.minCol||no.column>Qt.maxCol)&&lr(no.element)});const En=Ut($d(zt,"tr"),no=>no.dom.childElementCount===0);it(En,lr),Qt.minCol!==Qt.maxCol&&Qt.minRow!==Qt.maxRow||it($d(zt,"th,td"),no=>{Ro(no,"rowspan"),Ro(no,"colspan")}),Ro(zt,Bm),Ro(zt,"data-snooker-col-series"),xp(zt).adjustTableWidth(gt)})(Le,ft,ct,Lt),Le})(se,Ox);return _r(le),[le]}))(U).each(K=>{T.content=T.format==="text"?(se=>R(se,le=>le.dom.innerText).join(""))(K):((se,le)=>R(le,ke=>se.selection.serializer.serialize(ke.dom,{})).join(""))(y,K)})};if(T.selection===!0){const U=(K=>Ut(Lc(K),se=>pi(se,Vf.selectedSelector)))(y);U.length>=1&&M(U)}}),y.on("BeforeSetContent",T=>{if(T.selection===!0&&T.paste===!0){const M=Lc(y);In(M).each(U=>{Sl(U).each(K=>{const se=Ut(((ke,$e)=>{const Qe=document.createElement("div");return Qe.innerHTML=ke,Ii(Jt.fromDom(Qe))})(T.content),ke=>ht(ke)!=="meta"),le=us("table");if(Xe(y)&&se.length===1&&le(se[0])){T.preventDefault();const ke=Jt.fromDom(y.getDoc()),$e=Ps(ke),Qe=((Le,Ue,Ze)=>({element:Le,clipboard:Ue,generators:Ze}))(U,se[0],$e);S.pasteCells(K,Qe).each(()=>{y.focus()})}})})}})},wo=(y,S)=>({element:y,offset:S}),Sp=(y,S,T)=>y.property().isText(S)&&y.property().getText(S).trim().length===0||y.property().isComment(S)?T(S).bind(M=>Sp(y,M,T).orThunk(()=>te.some(M))):te.none(),jC=(y,S)=>y.property().isText(S)?y.property().getText(S).length:y.property().children(S).length,Rt=(y,S)=>{const T=Sp(y,S,y.query().prevSibling).getOr(S);if(y.property().isText(T))return wo(T,jC(y,T));const M=y.property().children(T);return M.length>0?Rt(y,M[M.length-1]):wo(T,jC(y,T))},Rx=Rt,kp=Mf(),Ep=(y,S)=>{ti(y)||(M=>lc(M).bind(U=>{return K=U,se=["fixed","relative","empty"],te.from(Yb.exec(K)).bind(le=>{const ke=Number(le[1]),$e=le[2];return((Qe,Le)=>we(Le,Ue=>we($m[Ue],Ze=>Qe===Ze)))($e,se)?te.some({value:ke,unit:$e}):te.none()});var K,se}))(y).each(M=>{const U=M.value/2;od(y,U,M.unit),od(S,U,M.unit)})},lh=y=>R(y,Z(0)),jm=(y,S,T,M,U)=>U(y.slice(0,S)).concat(M).concat(U(y.slice(T))),ZC=y=>(S,T,M,U)=>{if(y(M)){const K=Math.max(U,S[T]-Math.abs(M)),se=Math.abs(K-S[T]);return M>=0?se:-se}return M},Hf=ZC(y=>y<0),ar=ZC(de),ad=()=>{const y=(T,M,U,K)=>{const se=(100+U)/100,le=Math.max(K,(T[M]+U)/se);return R(T,(ke,$e)=>($e===M?le:ke/se)-ke)},S=(T,M,U,K,se,le)=>le?y(T,M,K,se):((ke,$e,Qe,Le,Ue)=>{const Ze=Hf(ke,$e,Le,Ue);return jm(ke,$e,Qe+1,[Ze,0],lh)})(T,M,U,K,se);return{resizeTable:(T,M)=>T(M),clampTableDelta:Hf,calcLeftEdgeDeltas:S,calcMiddleDeltas:(T,M,U,K,se,le,ke)=>S(T,U,K,se,le,ke),calcRightEdgeDeltas:(T,M,U,K,se,le)=>{if(le)return y(T,U,K,se);{const ke=Hf(T,U,K,se);return lh(T.slice(0,U)).concat([ke])}},calcRedestributedWidths:(T,M,U,K)=>{if(K){const se=(M+U)/M,le=R(T,ke=>ke/se);return{delta:100*se-100,newSizes:le}}return{delta:U,newSizes:T}}}},v1=()=>{const y=(S,T,M,U,K)=>{const se=ar(S,U>=0?M:T,U,K);return jm(S,T,M+1,[se,-se],lh)};return{resizeTable:(S,T,M)=>{M&&S(T)},clampTableDelta:(S,T,M,U,K)=>{if(K){if(M>=0)return M;{const se=dt(S,(le,ke)=>le+ke-U,0);return Math.max(-se,M)}}return Hf(S,T,M,U)},calcLeftEdgeDeltas:y,calcMiddleDeltas:(S,T,M,U,K,se)=>y(S,M,U,K,se),calcRightEdgeDeltas:(S,T,M,U,K,se)=>{if(se)return lh(S);{const le=U/S.length;return R(S,Z(le))}},calcRedestributedWidths:(S,T,M,U)=>({delta:0,newSizes:S})}},bu=y=>Mo(y).grid,Zm=us("th"),uc=y=>mt(y,S=>Zm(S.element)),Wr=(y,S)=>y&&S?"sectionCells":y?"section":"cells",sv=y=>{const S=y.section==="thead",T=Yt(Ni(y.cells),"th");return y.section==="tfoot"?{type:"footer"}:S||T?{type:"header",subType:Wr(S,T)}:{type:"body"}},Ni=y=>{const S=Ut(y,T=>Zm(T.element));return S.length===0?te.some("td"):S.length===y.length?te.some("th"):te.none()},y1=(y,S,T)=>Nr(T(y.element,S),!0,y.isLocked),Bc=(y,S)=>y.section!==S?li(y.element,y.cells,S,y.isNew):y,Li=()=>({transformRow:Bc,transformCell:(y,S,T)=>{const M=T(y.element,S),U=ht(M)!=="td"?((K,se)=>{const le=ou(K,"td");qu(K,le);const ke=Ii(K);return Fl(le,ke),lr(K),le})(M):M;return Nr(U,y.isNew,y.isLocked)}}),Xt=()=>({transformRow:Bc,transformCell:y1}),Gm=()=>({transformRow:(y,S)=>Bc(y,S==="thead"?"tbody":S),transformCell:y1}),Mi=Li,GC=Xt,qC=Gm,HE=()=>({transformRow:ee,transformCell:y1}),qd=(y,S,T,M)=>{T===M?Ro(y,S):xs(y,S,T)},ch=(y,S,T)=>{on(ru(y,S)).fold(()=>Im(y,T),M=>qu(M,T))},rv=(y,S)=>{const T=[],M=[],U=Ue=>R(Ue,Ze=>{Ze.isNew&&T.push(Ze.element);const ct=Ze.element;return Cl(ct),it(Ze.cells,ft=>{ft.isNew&&M.push(ft.element),qd(ft.element,"colspan",ft.colspan,1),qd(ft.element,"rowspan",ft.rowspan,1),hr(ct,ft.element)}),ct}),K=Ue=>Me(Ue,Ze=>R(Ze.cells,ct=>(qd(ct.element,"span",ct.colspan,1),ct.element))),se=(Ue,Ze)=>{const ct=((Mt,$t)=>{const Lt=yt(Mt,$t).getOrThunk(()=>{const zt=Jt.fromTag($t,ju(Mt).dom);return $t==="thead"?ch(Mt,"caption,colgroup",zt):$t==="colgroup"?ch(Mt,"caption",zt):hr(Mt,zt),zt});return Cl(Lt),Lt})(y,Ze),ft=(Ze==="colgroup"?K:U)(Ue);Fl(ct,ft)},le=(Ue,Ze)=>{Ue.length>0?se(Ue,Ze):(ct=>{yt(y,ct).each(lr)})(Ze)},ke=[],$e=[],Qe=[],Le=[];return it(S,Ue=>{switch(Ue.section){case"thead":ke.push(Ue);break;case"tbody":$e.push(Ue);break;case"tfoot":Qe.push(Ue);break;case"colgroup":Le.push(Ue)}}),le(Le,"colgroup"),le(ke,"thead"),le($e,"tbody"),le(Qe,"tfoot"),{newRows:T,newCells:M}},x1=(y,S)=>{if(y.length===0)return 0;const T=y[0];return At(y,M=>!S(T.element,M.element)).getOr(y.length)},Ix=(y,S)=>{const T=R(y,M=>R(M.cells,j));return R(y,(M,U)=>{const K=Me(M.cells,(se,le)=>{if(T[U][le]===!1){const Ue=((Ze,ct,ft,Mt)=>{const $t=((rn,gt)=>rn[gt])(Ze,ct),Lt=$t.section==="colgroup",zt=x1($t.cells.slice(ft),Mt),Qt=Lt?1:x1(((rn,gt)=>R(rn,En=>Vr(En,gt)))(Ze.slice(ct),ft),Mt);return{colspan:zt,rowspan:Qt}})(y,U,le,S);return((Ze,ct,ft,Mt)=>{for(let $t=Ze;$t<Ze+ft;$t++)for(let Lt=ct;Lt<ct+Mt;Lt++)T[$t][Lt]=!0})(U,le,Ue.rowspan,Ue.colspan),[(ke=se.element,$e=Ue.rowspan,Qe=Ue.colspan,Le=se.isNew,{element:ke,rowspan:$e,colspan:Qe,isNew:Le})]}return[];var ke,$e,Qe,Le});return((se,le,ke,$e)=>({element:se,cells:le,section:ke,isNew:$e}))(M.element,K,M.section,M.isNew)})},Sr=(y,S,T)=>{const M=[];it(y.colgroups,U=>{const K=[];for(let se=0;se<y.grid.columns;se++){const le=Ts(y,se).map(ke=>Nr(ke.element,T,!1)).getOrThunk(()=>Nr(S.colGap(),!0,!1));K.push(le)}M.push(li(U.element,K,"colgroup",T))});for(let U=0;U<y.grid.rows;U++){const K=[];for(let ke=0;ke<y.grid.columns;ke++){const $e=El(y,U,ke).map(Qe=>Nr(Qe.element,T,Qe.isLocked)).getOrThunk(()=>Nr(S.gap(),!0,!1));K.push($e)}const se=y.all[U],le=li(se.element,K,se.section,T);M.push(le)}return M},iv=y=>Ix(y,Ws),Rr=(y,S)=>J(y.all,T=>An(T.cells,M=>Ws(S,M.element))),ul=(y,S,T)=>{const M=R(S.selection,K=>gp(K).bind(se=>Rr(y,se)).filter(T)),U=cn(M);return hn(U.length>0,U)},Kr=(y,S,T,M,U)=>(K,se,le,ke)=>{const $e=Mo(K),Qe=te.from(ke==null?void 0:ke.section).getOrThunk(HE);return S($e,se).map(Le=>{const Ue=((ft,Mt)=>Sr(ft,Mt,!1))($e,le),Ze=y(Ue,Le,Ws,U(le),Qe),ct=Va(Ze.grid);return{info:Le,grid:iv(Ze.grid),cursor:Ze.cursor,lockedColumns:ct}}).bind(Le=>{const Ue=rv(K,Le.grid),Ze=te.from(ke==null?void 0:ke.sizing).getOrThunk(()=>xp(K)),ct=te.from(ke==null?void 0:ke.resize).getOrThunk(v1);return T(K,Le.grid,Le.info,{sizing:Ze,resize:ct,section:Qe}),M(K),Ro(K,Bm),Le.lockedColumns.length>0&&xs(K,Bm,Le.lockedColumns.join(",")),te.some({cursor:Le.cursor,newRows:Ue.newRows,newCells:Ue.newCells})})},dc=(y,S)=>ul(y,S,de).map(T=>({cells:T,generators:S.generators,clipboard:S.clipboard})),Yd=(y,S)=>ul(y,S,de),Xi=(y,S)=>ul(y,S,T=>!T.isLocked),av=(y,S)=>mt(S,T=>((M,U)=>Rr(M,U).exists(K=>!K.isLocked))(y,T)),Ap=(y,S,T,M)=>{const U=nr(y).rows;let K=!0;for(let se=0;se<U.length;se++)for(let le=0;le<Zi(U[0]);le++){const ke=U[se],$e=Vr(ke,le),Qe=T($e.element,S);Qe&&!K?nh(ke,le,Nr(M(),!0,$e.isLocked)):Qe&&(K=!1)}return y},Uf=y=>{const S=K=>K(y),T=Z(y),M=()=>U,U={tag:!0,inner:y,fold:(K,se)=>se(y),isValue:de,isError:j,map:K=>Tp.value(K(y)),mapError:M,bind:S,exists:S,forall:S,getOr:T,or:M,getOrThunk:T,orThunk:M,getOrDie:T,each:K=>{K(y)},toOptional:()=>te.some(y)};return U},YC=y=>{const S=()=>T,T={tag:!1,inner:y,fold:(U,K)=>U(y),isValue:j,isError:de,map:S,mapError:U=>Tp.error(U(y)),bind:S,exists:j,forall:de,getOr:ee,or:ee,getOrThunk:ue,orThunk:ue,getOrDie:(M=String(y),()=>{throw new Error(M)}),each:z,toOptional:te.none};var M;return T},Tp={value:Uf,error:YC,fromOption:(y,S)=>y.fold(()=>YC(S),Uf)},Dx=(y,S)=>({rowDelta:0,colDelta:Zi(y[0])-Zi(S[0])}),w1=(y,S)=>({rowDelta:y.length-S.length,colDelta:0}),lv=(y,S,T,M)=>{const U=S.section==="colgroup"?T.col:T.cell;return _e(y,K=>Nr(U(),!0,M(K)))},C1=(y,S,T,M)=>{const U=y[y.length-1];return y.concat(_e(S,()=>{const K=U.section==="colgroup"?T.colgroup:T.row,se=If(U,K,ee),le=lv(se.cells.length,se,T,ke=>Ve(M,ke.toString()));return $a(se,le)}))},Px=(y,S,T,M)=>R(y,U=>{const K=lv(S,U,T,j);return zd(U,M,K)}),qm=(y,S,T)=>{const M=S.colDelta<0?Px:ee,U=S.rowDelta<0?C1:ee,K=Va(y),se=Zi(y[0]),le=we(K,Qe=>Qe===se-1),ke=M(y,Math.abs(S.colDelta),T,le?se-1:se),$e=Va(ke);return U(ke,Math.abs(S.rowDelta),T,vo($e,de))},UE=(y,S,T,M)=>{const U=W(M,Vr(y[S],T).element),K=y[S];return y.length>1&&Zi(K)>1&&(T>0&&U(ur(K,T-1))||T<K.cells.length-1&&U(ur(K,T+1))||S>0&&U(ur(y[S-1],T))||S<y.length-1&&U(ur(y[S+1],T)))},_1=(y,S,T)=>Ut(T,M=>M>=y.column&&M<=Zi(S[0])+y.column),S1=(y,S,T,M,U)=>{(($e,Qe,Le,Ue)=>{Qe>0&&Qe<$e[0].cells.length&&it($e,Ze=>{const ct=Ze.cells[Qe-1];let ft=0;const Mt=Ue();for(;Ze.cells.length>Qe+ft&&Le(ct.element,Ze.cells[Qe+ft].element);)nh(Ze,Qe+ft,Nr(Mt,!0,Ze.cells[Qe+ft].isLocked)),ft++})})(S,y,U,M.cell);const K=w1(T,S),se=qm(T,K,M),le=w1(S,se),ke=qm(S,le,M);return R(ke,($e,Qe)=>zd($e,y,se[Qe].cells))},Nx=(y,S,T,M,U)=>{((Lt,zt,Qt,rn)=>{const gt=nr(Lt).rows;if(zt>0&&zt<gt.length){const En=((no,To)=>dt(no,(lo,oo)=>we(lo,Ao=>To(Ao.element,oo.element))?lo:lo.concat([oo]),[]))(gt[zt-1].cells,Qt);it(En,no=>{let To=te.none();for(let lo=zt;lo<gt.length;lo++)for(let oo=0;oo<Zi(gt[0]);oo++){const Ao=gt[lo],Jo=Vr(Ao,oo);Qt(Jo.element,no.element)&&(To.isNone()&&(To=te.some(rn())),To.each(si=>{nh(Ao,oo,Nr(si,!0,Jo.isLocked))}))}})}})(S,y,U,M.cell);const K=Va(S),se=Dx(S,T),le={...se,colDelta:se.colDelta-K.length},ke=qm(S,le,M),{cols:$e,rows:Qe}=nr(ke),Le=Va(ke),Ue=Dx(T,S),Ze={...Ue,colDelta:Ue.colDelta+Le.length},ct=(Mt=M,$t=Le,R(T,Lt=>dt($t,(zt,Qt)=>{const rn=lv(1,Lt,Mt,de)[0];return th(zt,Qt,rn)},Lt))),ft=qm(ct,Ze,M);var Mt,$t;return[...$e,...Qe.slice(0,y),...ft,...Qe.slice(y,Qe.length)]},Lx=(y,S,T,M,U)=>{const{rows:K,cols:se}=nr(y),le=K.slice(0,S),ke=K.slice(S);return[...se,...le,(($e,Qe,Le,Ue)=>If($e,Ze=>Ue(Ze,Le),Qe))(K[T],($e,Qe)=>S>0&&S<K.length&&M(ur(K[S-1],Qe),ur(K[S],Qe))?Vr(K[S],Qe):Nr(U($e.element,M),!0,$e.isLocked),M,U),...ke]},cv=(y,S,T,M,U)=>R(y,K=>{const se=S>0&&S<Zi(K)&&M(ur(K,S-1),ur(K,S)),le=((ke,$e,Qe,Le,Ue,Ze,ct)=>{if(Qe!=="colgroup"&&Le)return Vr(ke,$e);{const ft=Vr(ke,Ue);return Nr(ct(ft.element,Ze),!0,!1)}})(K,S,K.section,se,T,M,U);return th(K,S,le)}),Mx=(y,S,T,M)=>((U,K,se,le)=>ur(U[K],se)!==void 0&&K>0&&le(ur(U[K-1],se),ur(U[K],se)))(y,S,T,M)||((U,K,se)=>K>0&&se(ur(U,K-1),ur(U,K)))(y[S],T,M),Bx=(y,S,T,M)=>{const U=K=>(se=>se==="row"?(le=>kf(le,"rowspan")>1)(S):ti(S))(K)?`${K}group`:K;return y?Zm(S)?U(T):null:M&&Zm(S)?U(T==="row"?"col":"row"):null},uv=(y,S,T)=>Nr(T(y.element,S),!0,y.isLocked),Op=(y,S,T,M,U,K,se)=>R(y,(le,ke)=>(($e,Qe)=>{const Le=$e.cells,Ue=R(Le,(Ze,ct)=>{if((ft=>we(S,Mt=>T(ft.element,Mt.element)))(Ze)){const ft=se(Ze,ke,ct)?U(Ze,T,M):Ze;return K(ft,ke,ct).each(Mt=>{var $t,Lt;$t=ft.element,Lt={scope:te.from(Mt)},vn(Lt,(zt,Qt)=>{zt.fold(()=>{Ro($t,Qt)},rn=>{Qr($t.dom,Qt,rn)})})}),ft}return Ze});return li($e.element,Ue,$e.section,$e.isNew)})(le)),Fx=(y,S,T)=>Me(y,(M,U)=>Mx(y,U,S,T)?[]:[Vr(M,S)]),dv=(y,S,T,M,U)=>{const K=nr(y).rows,se=Me(S,Qe=>Fx(K,Qe,M)),le=R(K,Qe=>uc(Qe.cells)),ke=((Qe,Le)=>mt(Le,ee)&&uc(Qe)?de:(Ue,Ze,ct)=>!(ht(Ue.element)==="th"&&Le[Ze]))(se,le);return Op(y,se,M,U,uv,((Qe,Le)=>(Ue,Ze)=>te.some(Bx(Qe,Ue.element,"row",Le[Ze])))(T,le),ke)},fv=(y,S,T,M)=>{const U=nr(y).rows,K=R(S,se=>Vr(U[se.row],se.column));return Op(y,K,T,M,uv,te.none,de)},Ym=y=>{if(!x(y))throw new Error("cases must be an array");if(y.length===0)throw new Error("there must be at least one case");const S=[],T={};return it(y,(M,U)=>{const K=mo(M);if(K.length!==1)throw new Error("one and only one name per case");const se=K[0],le=M[se];if(T[se]!==void 0)throw new Error("duplicate key detected:"+se);if(se==="cata")throw new Error("cannot have a case named cata (sorry)");if(!x(le))throw new Error("case arguments must be an array");S.push(se),T[se]=(...ke)=>{const $e=ke.length;if($e!==le.length)throw new Error("Wrong number of arguments to case "+se+". Expected "+le.length+" ("+le+"), got "+$e);return{fold:(...Qe)=>{if(Qe.length!==y.length)throw new Error("Wrong number of arguments to fold. Expected "+y.length+", got "+Qe.length);return Qe[U].apply(null,ke)},match:Qe=>{const Le=mo(Qe);if(S.length!==Le.length)throw new Error("Wrong number of arguments to match. Expected: "+S.join(",")+`
Actual: `+Le.join(","));if(!mt(S,Ue=>rt(Le,Ue)))throw new Error("Not all branches were specified when using match. Specified: "+Le.join(", ")+`
Required: `+S.join(", "));return Qe[se].apply(null,ke)},log:Qe=>{console.log(Qe,{constructors:S,constructor:se,params:ke})}}}}),T},Rp={...Ym([{none:[]},{only:["index"]},{left:["index","next"]},{middle:["prev","index","next"]},{right:["prev","index"]}])},$x=(y,S,T)=>{const M=((U,K)=>Rc(U)?((se,le)=>{const ke=Oc(se);return R(ke,($e,Qe)=>({element:$e.element,width:le[Qe],colspan:$e.colspan}))})(U,K):((se,le)=>{const ke=Un(se);return R(ke,$e=>{const Qe=((Le,Ue,Ze)=>{let ct=0;for(let ft=Le;ft<Ue;ft++)ct+=Ze[ft]!==void 0?Ze[ft]:0;return ct})($e.column,$e.column+$e.colspan,le);return{element:$e.element,width:Qe,colspan:$e.colspan}})})(U,K))(y,S);it(M,U=>{T.setElementWidth(U.element,U.width)})},Xd=(y,S,T,M,U)=>{const K=Mo(y),se=U.getCellDelta(S),le=U.getWidths(K,U),ke=T===K.grid.columns-1,$e=M.clampTableDelta(le,T,se,U.minCellWidth(),ke),Qe=((Ue,Ze,ct,ft,Mt)=>{const $t=Ue.slice(0),Lt=((Qt,rn)=>Qt.length===0?Rp.none():Qt.length===1?Rp.only(0):rn===0?Rp.left(0,1):rn===Qt.length-1?Rp.right(rn-1,rn):rn>0&&rn<Qt.length-1?Rp.middle(rn-1,rn,rn+1):Rp.none())(Ue,Ze),zt=Z(R($t,Z(0)));return Lt.fold(zt,Qt=>ft.singleColumnWidth($t[Qt],ct),(Qt,rn)=>Mt.calcLeftEdgeDeltas($t,Qt,rn,ct,ft.minCellWidth(),ft.isRelative),(Qt,rn,gt)=>Mt.calcMiddleDeltas($t,Qt,rn,gt,ct,ft.minCellWidth(),ft.isRelative),(Qt,rn)=>Mt.calcRightEdgeDeltas($t,Qt,rn,ct,ft.minCellWidth(),ft.isRelative))})(le,T,$e,U,M),Le=R(Qe,(Ue,Ze)=>Ue+le[Ze]);$x(K,Le,U),M.resizeTable(U.adjustTableWidth,$e,ke)},uh=(y,S,T)=>{const M=Mo(y),U=((ke,$e)=>qi(ke,$e,g1,Qe=>Qe.getOrThunk(ks)))(M,y),K=R(U,(ke,$e)=>T===$e?Math.max(S+ke,ks()):ke),se=((ke,$e)=>R(ke.all,(Qe,Le)=>({element:Qe.element,height:$e[Le]})))(M,K);it(se,ke=>{nd(ke.element,ke.height)}),it(Un(M),ke=>{($e=>{_l($e,"height")})(ke.element)});const le=sn(K,(ke,$e)=>ke+$e,0);nd(y,le)},dh=y=>dt(y,(S,T)=>we(S,M=>M.column===T.column)?S:S.concat([T]),[]).sort((S,T)=>S.column-T.column),Jd=us("col"),Wf=us("colgroup"),mv=y=>ht(y)==="tr"||Wf(y),WE=y=>({element:y,colspan:Er(y,"colspan",1),rowspan:Er(y,"rowspan",1)}),gv=y=>go(y,"scope").map(S=>S.substr(0,3)),Fc=(y,S=WE)=>{const T=U=>{if(mv(U))return Wf((K={element:U}).element)?y.colgroup(K):y.row(K);{const se=U,le=(ke=>Jd(ke.element)?y.col(ke):y.cell(ke))(S(se));return M=te.some({item:se,replacement:le}),le}var K};let M=te.none();return{getOrInit:(U,K)=>M.fold(()=>T(U),se=>K(U,se.item)?se.replacement:T(U))}},XC=y=>S=>{const T=[],M=U=>{const K=y==="td"?{scope:null}:{},se=S.replace(U,y,K);return T.push({item:U,sub:se}),se};return{replaceOrInit:(U,K)=>{if(mv(U)||Jd(U))return U;{const se=U;return((le,ke)=>An(T,$e=>ke($e.item,le)))(se,K).fold(()=>M(se),le=>K(U,le.item)?le.sub:M(se))}}}},Vx=y=>({unmerge:S=>{const T=gv(S);return T.each(M=>xs(S,"scope",M)),()=>{const M=y.cell({element:S,colspan:1,rowspan:1});return _l(M,"width"),_l(S,"width"),T.each(U=>xs(M,"scope",U)),M}},merge:S=>(_l(S[0],"width"),(()=>{const T=cn(R(S,gv));if(T.length===0)return te.none();{const M=T[0],U=["row","col"];return we(T,K=>K!==M&&rt(U,K))?te.none():te.from(M)}})().fold(()=>Ro(S[0],"scope"),T=>xs(S[0],"scope",T+"group")),Z(S[0]))}),fh=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","table","thead","tfoot","tbody","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],ba=Mf(),mh=y=>((S,T)=>{const M=S.property().name(T);return rt(fh,M)})(ba,y),gh=y=>((S,T)=>{const M=S.property().name(T);return rt(["ol","ul"],M)})(ba,y),k1=y=>{const S=us("br"),T=U=>mu(U).bind(K=>{const se=Zl(K).map(le=>!!mh(le)||!!((ke,$e)=>rt(["br","img","hr","input"],ke.property().name($e)))(ba,le)&&ht(le)!=="img").getOr(!1);return wl(K).map(le=>{return se===!0||ht(ke=le)==="li"||De(ke,gh).isSome()||S(K)||mh(le)&&!Ws(U,le)?[]:[Jt.fromTag("br")];var ke})}).getOr([]),M=(()=>{const U=Me(y,K=>{const se=Ii(K);return(le=>mt(le,ke=>S(ke)||$o(ke)&&Hm(ke).trim().length===0))(se)?[]:se.concat(T(K))});return U.length===0?[Jt.fromTag("br")]:U})();Cl(y[0]),Fl(y[0],M)},os=y=>po(y,!0),Tl=y=>{Ar(y).length===0&&lr(y)},ld=(y,S)=>({grid:y,cursor:S}),Pa=(y,S,T)=>{const M=((U,K,se)=>{var le,ke;const $e=nr(U).rows;return te.from((ke=(le=$e[K])===null||le===void 0?void 0:le.cells[se])===null||ke===void 0?void 0:ke.element).filter(os).orThunk(()=>(Qe=>J(Qe,Le=>J(Le.cells,Ue=>{const Ze=Ue.element;return hn(os(Ze),Ze)})))($e))})(y,S,T);return ld(y,M)},Xs=y=>dt(y,(S,T)=>we(S,M=>M.row===T.row)?S:S.concat([T]),[]).sort((S,T)=>S.row-T.row),hv=(y,S)=>(T,M,U,K,se)=>{const le=Xs(M),ke=R(le,Qe=>Qe.row),$e=((Qe,Le,Ue,Ze,ct,ft,Mt)=>{const{cols:$t,rows:Lt}=nr(Qe),zt=Lt[Le[0]],Qt=Me(Le,lo=>((oo,Ao,Jo)=>{const si=oo[Ao];return Me(si.cells,(Na,Qi)=>Mx(oo,Ao,Qi,Jo)?[]:[Na])})(Lt,lo,ct)),rn=R(zt.cells,(lo,oo)=>uc(Fx(Lt,oo,ct))),gt=[...Lt];it(Le,lo=>{gt[lo]=Mt.transformRow(Lt[lo],Ue)});const En=[...$t,...gt],no=((lo,oo)=>mt(oo,ee)&&uc(lo.cells)?de:(Ao,Jo,si)=>!(ht(Ao.element)==="th"&&oo[si]))(zt,rn),To=((lo,oo)=>(Ao,Jo,si)=>te.some(Bx(lo,Ao.element,"col",oo[si])))(Ze,rn);return Op(En,Qt,ct,ft,Mt.transformCell,To,no)})(T,ke,y,S,U,K.replaceOrInit,se);return Pa($e,M[0].row,M[0].column)},JC=hv("thead",!0),KE=hv("tbody",!1),dr=hv("tfoot",!1),E1=(y,S,T)=>{const M=((K,se)=>Vl(K,()=>se))(y,T.section),U=ci(M);return Sr(U,S,!0)},zx=(y,S,T,M)=>((U,K,se,le)=>{const ke=ci(K),$e=le.getWidths(ke,le);$x(ke,$e,le)})(0,S,0,M.sizing),Xm=(y,S,T,M)=>((U,K,se,le,ke)=>{const $e=ci(K),Qe=le.getWidths($e,le),Le=le.pixelWidth(),{newSizes:Ue,delta:Ze}=ke.calcRedestributedWidths(Qe,Le,se.pixelDelta,le.isRelative);$x($e,Ue,le),le.adjustTableWidth(Ze)})(0,S,T,M.sizing,M.resize),$c=(y,S)=>we(S,T=>T.column===0&&T.isLocked),Ip=(y,S)=>we(S,T=>T.column+T.colspan>=y.grid.columns&&T.isLocked),kn=(y,S)=>{const T=bp(y),M=dh(S);return dt(M,(U,K)=>U+T[K.column].map(eh).getOr(0),0)},vu=y=>(S,T)=>Yd(S,T).filter(M=>!(y?$c:Ip)(S,M)).map(M=>({details:M,pixelDelta:kn(S,M)})),Hx=y=>(S,T)=>dc(S,T).filter(M=>!(y?$c:Ip)(S,M.cells)),A1=XC("th"),Dp=XC("td"),T1=Kr((y,S,T,M)=>{const U=S[0].row,K=Xs(S),se=sn(K,(le,ke)=>({grid:Lx(le.grid,U,ke.row+le.delta,T,M.getOrInit),delta:le.delta+1}),{grid:y,delta:0}).grid;return Pa(se,U,S[0].column)},Yd,z,z,Fc),hh=Kr((y,S,T,M)=>{const U=Xs(S),K=U[U.length-1],se=K.row+K.rowspan,le=sn(U,(ke,$e)=>Lx(ke,se,$e.row,T,M.getOrInit),y);return Pa(le,se,S[0].column)},Yd,z,z,Fc),Vc=Kr((y,S,T,M)=>{const U=S.details,K=dh(U),se=K[0].column,le=sn(K,(ke,$e)=>({grid:cv(ke.grid,se,$e.column+ke.delta,T,M.getOrInit),delta:ke.delta+1}),{grid:y,delta:0}).grid;return Pa(le,U[0].row,se)},vu(!0),Xm,z,Fc),jE=Kr((y,S,T,M)=>{const U=S.details,K=U[U.length-1],se=K.column+K.colspan,le=dh(U),ke=sn(le,($e,Qe)=>cv($e,se,Qe.column,T,M.getOrInit),y);return Pa(ke,U[0].row,se)},vu(!1),Xm,z,Fc),O1=Kr((y,S,T,M)=>{const U=dh(S.details),K=((le,ke)=>Me(le,$e=>{const Qe=$e.cells,Le=sn(ke,(Ue,Ze)=>Ze>=0&&Ze<Ue.length?Ue.slice(0,Ze).concat(Ue.slice(Ze+1)):Ue,Qe);return Le.length>0?[li($e.element,Le,$e.section,$e.isNew)]:[]}))(y,R(U,le=>le.column)),se=K.length>0?K[0].cells.length-1:0;return Pa(K,U[0].row,Math.min(U[0].column,se))},(y,S)=>Xi(y,S).map(T=>({details:T,pixelDelta:-kn(y,T)})),Xm,Tl,Fc),Ux=Kr((y,S,T,M)=>{const U=Xs(S),K=((le,ke,$e)=>{const{rows:Qe,cols:Le}=nr(le);return[...Le,...Qe.slice(0,ke),...Qe.slice($e+1)]})(y,U[0].row,U[U.length-1].row),se=Math.max(nr(K).rows.length-1,0);return Pa(K,Math.min(S[0].row,se),S[0].column)},Yd,z,Tl,Fc),R1=Kr((y,S,T,M)=>{const U=dh(S),K=R(U,le=>le.column),se=dv(y,K,!0,T,M.replaceOrInit);return Pa(se,S[0].row,S[0].column)},Xi,z,z,A1),Wx=Kr((y,S,T,M)=>{const U=dh(S),K=R(U,le=>le.column),se=dv(y,K,!1,T,M.replaceOrInit);return Pa(se,S[0].row,S[0].column)},Xi,z,z,Dp),Kx=Kr(JC,Xi,z,z,A1),I1=Kr(KE,Xi,z,z,Dp),jx=Kr(dr,Xi,z,z,Dp),Zx=Kr((y,S,T,M)=>{const U=fv(y,S,T,M.replaceOrInit);return Pa(U,S[0].row,S[0].column)},Xi,z,z,A1),QC=Kr((y,S,T,M)=>{const U=fv(y,S,T,M.replaceOrInit);return Pa(U,S[0].row,S[0].column)},Xi,z,z,Dp),ZE=Kr((y,S,T,M)=>{const U=S.cells;k1(U);const K=((se,le,ke,$e)=>{const Qe=nr(se).rows;if(Qe.length===0)return se;for(let Le=le.startRow;Le<=le.finishRow;Le++)for(let Ue=le.startCol;Ue<=le.finishCol;Ue++){const Ze=Qe[Le],ct=Vr(Ze,Ue).isLocked;nh(Ze,Ue,Nr($e(),!1,ct))}return se})(y,S.bounds,0,M.merge(U));return ld(K,te.from(U[0]))},(y,S)=>((T,M)=>M.mergable)(0,S).filter(T=>av(y,T.cells)),zx,z,Vx),pv=Kr((y,S,T,M)=>{const U=sn(S,(K,se)=>Ap(K,se,T,M.unmerge(se)),y);return ld(U,te.from(S[0]))},(y,S)=>((T,M)=>M.unmergable)(0,S).filter(T=>av(y,T)),zx,z,Vx),Gx=Kr((y,S,T,M)=>{const U=((le,ke)=>{const $e=Mo(le);return Sr($e,ke,!0)})(S.clipboard,S.generators);var K,se;return((le,ke,$e,Qe,Le)=>{const Ue=Va(ke),Ze=(($t,Lt,zt)=>{const Qt=Zi(Lt[0]),rn=nr(Lt).cols.length+$t.row,gt=_e(Qt-$t.column,En=>En+$t.column);return{row:rn,column:An(gt,En=>mt(zt,no=>no!==En)).getOr(Qt-1)}})(le,ke,Ue),ct=nr($e).rows,ft=_1(Ze,ct,Ue);return(($t,Lt,zt)=>{if($t.row>=Lt.length||$t.column>Zi(Lt[0]))return Tp.error("invalid start address out of table bounds, row: "+$t.row+", column: "+$t.column);const Qt=Lt.slice($t.row),rn=Qt[0].cells.slice($t.column),gt=Zi(zt[0]),En=zt.length;return Tp.value({rowDelta:Qt.length-En,colDelta:rn.length-gt})})(Ze,ke,ct).map($t=>{const Lt={...$t,colDelta:$t.colDelta-ft.length},zt=qm(ke,Lt,Qe),Qt=Va(zt),rn=_1(Ze,ct,Qt);return((gt,En,no,To,lo,oo)=>{const Ao=gt.row,Jo=gt.column,si=Ao+no.length,Na=Jo+Zi(no[0])+oo.length,Qi=vo(oo,de);for(let mc=Ao;mc<si;mc++){let ug=0;for(let La=Jo;La<Na;La++){if(Qi[La]){ug++;continue}UE(En,mc,La,lo)&&Ap(En,ur(En[mc],La),lo,To.cell);const dd=La-Jo-ug,Vp=Vr(no[mc-Ao],dd),sm=Vp.element,zp=To.replace(sm);nh(En[mc],La,Nr(zp,!0,Vp.isLocked))}}return En})(Ze,zt,ct,Qe,Le,rn)})})((K=S.row,se=S.column,{row:K,column:se}),y,U,S.generators,T).fold(()=>ld(y,te.some(S.element)),le=>Pa(le,S.row,S.column))},(y,S)=>gp(S.element).bind(T=>Rr(y,T).map(M=>({...M,generators:S.generators,clipboard:S.clipboard}))),zx,z,Fc),ph=Kr((y,S,T,M)=>{const U=nr(y).rows,K=S.cells[0].column,se=U[S.cells[0].row],le=E1(S.clipboard,S.generators,se),ke=S1(K,y,le,S.generators,T);return Pa(ke,S.cells[0].row,S.cells[0].column)},Hx(!0),z,z,Fc),GE=Kr((y,S,T,M)=>{const U=nr(y).rows,K=S.cells[S.cells.length-1].column+S.cells[S.cells.length-1].colspan,se=U[S.cells[0].row],le=E1(S.clipboard,S.generators,se),ke=S1(K,y,le,S.generators,T);return Pa(ke,S.cells[0].row,K)},Hx(!1),z,z,Fc),qE=Kr((y,S,T,M)=>{const U=nr(y).rows,K=S.cells[0].row,se=U[K],le=E1(S.clipboard,S.generators,se),ke=Nx(K,y,le,S.generators,T);return Pa(ke,S.cells[0].row,S.cells[0].column)},dc,z,z,Fc),Kf=Kr((y,S,T,M)=>{const U=nr(y).rows,K=S.cells[S.cells.length-1].row+S.cells[S.cells.length-1].rowspan,se=U[S.cells[0].row],le=E1(S.clipboard,S.generators,se),ke=Nx(K,y,le,S.generators,T);return Pa(ke,K,S.cells[0].column)},dc,z,z,Fc),Jm=(y,S)=>{const T=Mo(y);return Yd(T,S).bind(M=>{const U=M[M.length-1],K=M[0].column,se=U.column+U.colspan,le=et(R(T.all,ke=>Ut(ke.cells,$e=>$e.column>=K&&$e.column<se)));return Ni(le)}).getOr("")},D1=(y,S)=>{const T=Mo(y);return Yd(T,S).bind(Ni).getOr("")},e_=(y,S)=>{const T=Mo(y);return Yd(T,S).bind(M=>{const U=M[M.length-1],K=M[0].row,se=U.row+U.rowspan;return(le=>{const ke=R(le,Le=>sv(Le).type),$e=rt(ke,"header"),Qe=rt(ke,"footer");if($e||Qe){const Le=rt(ke,"body");return!$e||Le||Qe?$e||Le||!Qe?te.none():te.some("footer"):te.some("header")}return te.some("body")})(T.all.slice(K,se))}).getOr("")},qx=(y,S)=>y.dispatch("NewRow",{node:S}),bv=(y,S)=>y.dispatch("NewCell",{node:S}),Qd=(y,S,T)=>{y.dispatch("TableModified",{...T,table:S})},P1={structure:!1,style:!0},yi={structure:!0,style:!1},Br={structure:!0,style:!0},jf=(y,S)=>rd(y)?sd(S):N(y)?Cr(S):xp(S),Yx=(y,S,T)=>{const M=Qe=>ht(ws(Qe))==="table",U=Zd(y),K=Jb(y)?z:Ep,se=Qe=>{switch(Um(y)){case"section":return Mi();case"sectionCells":return GC();case"cells":return qC();default:return((Le,Ue)=>{var Ze;switch((Ze=Mo(Le),J(Ze.all,ct=>{const ft=sv(ct);return ft.type==="header"?te.from(ft.subType):te.none()})).getOr(Ue)){case"section":return Li();case"sectionCells":return Xt();case"cells":return Gm()}})(Qe,"section")}},le=(Qe,Le,Ue,Ze)=>(ct,ft,Mt=!1)=>{_r(ct);const $t=Jt.fromDom(y.getDoc()),Lt=or(Ue,$t,U),zt={sizing:jf(y,ct),resize:Jb(y)?ad():v1(),section:se(ct)};return Le(ct)?Qe(ct,ft,Lt,zt).bind(Qt=>{S.refresh(ct.dom),it(Qt.newRows,gt=>{qx(y,gt.dom)}),it(Qt.newCells,gt=>{bv(y,gt.dom)});const rn=((gt,En)=>En.cursor.fold(()=>{const no=Ar(gt);return In(no).filter(sl).map(To=>{T.clearSelectedCells(gt.dom);const lo=y.dom.createRng();return lo.selectNode(To.dom),y.selection.setRng(lo),xs(To,"data-mce-selected","1"),lo})},no=>{const To=Rx(kp,no),lo=y.dom.createRng();return lo.setStart(To.element.dom,To.offset),lo.setEnd(To.element.dom,To.offset),y.selection.setRng(lo),T.clearSelectedCells(gt.dom),te.some(lo)}))(ct,Qt);return sl(ct)&&(_r(ct),Mt||Qd(y,ct.dom,Ze)),rn.map(gt=>({rng:gt,effect:Ze}))}):te.none()},ke=le(Ux,Qe=>!M(y)||bu(Qe).rows>1,z,yi),$e=le(O1,Qe=>!M(y)||bu(Qe).columns>1,z,yi);return{deleteRow:ke,deleteColumn:$e,insertRowsBefore:le(T1,de,z,yi),insertRowsAfter:le(hh,de,z,yi),insertColumnsBefore:le(Vc,de,K,yi),insertColumnsAfter:le(jE,de,K,yi),mergeCells:le(ZE,de,z,yi),unmergeCells:le(pv,de,z,yi),pasteColsBefore:le(ph,de,z,yi),pasteColsAfter:le(GE,de,z,yi),pasteRowsBefore:le(qE,de,z,yi),pasteRowsAfter:le(Kf,de,z,yi),pasteCells:le(Gx,de,z,Br),makeCellsHeader:le(Zx,de,z,yi),unmakeCellsHeader:le(QC,de,z,yi),makeColumnsHeader:le(R1,de,z,yi),unmakeColumnsHeader:le(Wx,de,z,yi),makeRowsHeader:le(Kx,de,z,yi),makeRowsBody:le(I1,de,z,yi),makeRowsFooter:le(jx,de,z,yi),getTableRowType:e_,getTableCellType:D1,getTableColType:Jm}},N1=(y,S,T)=>{const M=Er(y,S,1);T===1||M<=1?Ro(y,S):xs(y,S,Math.min(T,M))},Ji=(y,S)=>T=>{const M=T.column+T.colspan-1,U=T.column;return M>=y&&U<S},dl=Ym([{invalid:["raw"]},{pixels:["value"]},{percent:["value"]}]),bh=(y,S,T)=>{const M=T.substring(0,T.length-y.length),U=parseFloat(M);return M===U.toString()?S(U):dl.invalid(T)},Zf={...dl,from:y=>dn(y,"%")?bh("%",dl.percent,y):dn(y,"px")?bh("px",dl.pixels,y):dl.invalid(y)},Qm=(y,S,T)=>{const M=Zf.from(T),U=mt(y,K=>K==="0px")?((K,se)=>{const le=K.fold(()=>Z(""),ke=>Z(ke/se+"px"),()=>Z(100/se+"%"));return _e(se,le)})(M,y.length):((K,se,le)=>K.fold(()=>se,ke=>(($e,Qe,Le)=>{const Ue=Le/Qe;return R($e,Ze=>Zf.from(Ze).fold(()=>Ze,ct=>ct*Ue+"px",ct=>ct/100*Le+"px"))})(se,le,ke),ke=>(($e,Qe)=>R($e,Le=>Zf.from(Le).fold(()=>Le,Ue=>Ue/Qe*100+"%",Ue=>Ue+"%")))(se,le)))(M,y,S);return Xx(U)},L1=(y,S)=>y.length===0?S:sn(y,(T,M)=>Zf.from(M).fold(Z(0),ee,ee)+T,0),t_=(y,S)=>Zf.from(y).fold(Z(y),T=>T+S+"px",T=>T+S+"%"),Xx=y=>{if(y.length===0)return y;const S=sn(y,(M,U)=>{const K=Zf.from(U).fold(()=>({value:U,remainder:0}),se=>((le,ke)=>{const $e=Math.floor(le);return{value:$e+"px",remainder:le-$e}})(se),se=>({value:se+"%",remainder:0}));return{output:[K.value].concat(M.output),remainder:M.remainder+K.remainder}},{output:[],remainder:0}),T=S.output;return T.slice(0,T.length-1).concat([t_(T[T.length-1],Math.round(S.remainder))])},eg=Zf.from,Js=(y,S,T)=>{const M=Mo(y),U=M.all,K=Un(M),se=Oc(M);S.each(le=>{const ke=eg(le).fold(Z("px"),Z("px"),Z("%")),$e=kl(y),Qe=((Ue,Ze)=>bi(Ue,Ze,Ha,yp))(M,y),Le=Qm(Qe,$e,le);Rc(M)?((Ue,Ze,ct)=>{it(Ze,(ft,Mt)=>{const $t=L1([Ue[Mt]],ql());Po(ft.element,"width",$t+ct)})})(Le,se,ke):((Ue,Ze,ct)=>{it(Ze,ft=>{const Mt=Ue.slice(ft.column,ft.colspan+ft.column),$t=L1(Mt,ql());Po(ft.element,"width",$t+ct)})})(Le,K,ke),Po(y,"width",le)}),T.each(le=>{const ke=Kd(y),$e=((Qe,Le)=>qi(Qe,Le,Da,yp))(M,y);((Qe,Le,Ue)=>{it(Ue,Ze=>{_l(Ze.element,"height")}),it(Le,(Ze,ct)=>{Po(Ze.element,"height",Qe[ct])})})(Qm($e,ke,le),U,K),Po(y,"height",le)})},M1=y=>lc(y).exists(S=>Si.test(S)),fr=y=>lc(y).exists(S=>qn.test(S)),cd=y=>lc(y).isNone(),yu=y=>{Ro(y,"width"),Ro(y,"height")},vh=y=>{const S=Nf(y);Js(y,te.some(S),te.none()),yu(y)},Ol=y=>{const S=(T=>kl(T)+"px")(y);Js(y,te.some(S),te.none()),yu(y)},va=y=>{_l(y,"width");const S=Tc(y),T=S.length>0?S:Ar(y);it(T,M=>{_l(M,"width"),yu(M)}),yu(y)},tg={styles:{"border-collapse":"collapse",width:"100%"},attributes:{border:"1"},colGroups:!1},vv=(y,S,T,M)=>_e(y,U=>((K,se,le,ke)=>{const $e=Jt.fromTag("tr");for(let Qe=0;Qe<K;Qe++){const Le=Jt.fromTag(ke<se||Qe<le?"th":"td");Qe<le&&xs(Le,"scope","row"),ke<se&&xs(Le,"scope","col"),hr(Le,Jt.fromTag("br")),hr($e,Le)}return $e})(S,T,M,U)),yh=(y,S)=>{y.selection.select(S.dom,!0),y.selection.collapse(!0)},yv=(y,S,T,M,U)=>{const K=(le=>{const ke=le.options,$e=ke.get("table_default_styles");return ke.isSet("table_default_styles")?$e:((Qe,Le)=>G(Qe)||!Be(Qe)?Le:N(Qe)?{...Le,width:gu(Qe)}:{...Le,width:Xl})(le,$e)})(y),se={styles:K,attributes:Ft(y),colGroups:Xn(y)};return y.undoManager.ignore(()=>{const le=(($e,Qe,Le,Ue,Ze,ct=tg)=>{const ft=Jt.fromTag("table"),Mt=Ze!=="cells";Gl(ft,ct.styles),ji(ft,ct.attributes),ct.colGroups&&hr(ft,(Qt=>{const rn=Jt.fromTag("colgroup");return _e(Qt,()=>hr(rn,Jt.fromTag("col"))),rn})(Qe));const $t=Math.min($e,Le);if(Mt&&Le>0){const Qt=Jt.fromTag("thead");hr(ft,Qt);const rn=vv(Le,Qe,Ze==="sectionCells"?$t:0,Ue);Fl(Qt,rn)}const Lt=Jt.fromTag("tbody");hr(ft,Lt);const zt=vv(Mt?$e-$t:$e,Qe,Mt?0:Le,Ue);return Fl(Lt,zt),ft})(T,S,U,M,Um(y),se);xs(le,"data-mce-id","__mce");const ke=($e=>{const Qe=Jt.fromTag("div"),Le=Jt.fromDom($e.dom.cloneNode(!0));return hr(Qe,Le),(Ue=>Ue.dom.innerHTML)(Qe)})(le);y.insertContent(ke),y.addVisual()}),pt(ws(y),'table[data-mce-id="__mce"]').map(le=>(N(y)?Ol(le):G(y)?va(le):(rd(y)||(ke=>g(ke)&&ke.indexOf("%")!==-1)(K.width))&&vh(le),_r(le),Ro(le,"data-mce-id"),((ke,$e)=>{it(Ms($e,"tr"),Qe=>{qx(ke,Qe.dom),it(Ms(Qe,"th,td"),Le=>{bv(ke,Le.dom)})})})(y,le),((ke,$e)=>{pt($e,"td,th").each(W(yh,ke))})(y,le),le.dom)).getOrNull()};var xh=tinymce.util.Tools.resolve("tinymce.FakeClipboard");const n_="x-tinymce/dom-table-",Jx=n_+"rows",Qx=n_+"columns",o_=y=>{const S=xh.FakeClipboardItem(y);xh.write([S])},ya=y=>{var S;const T=(S=xh.read())!==null&&S!==void 0?S:[];return J(T,M=>te.from(M.getType(y)))},ng=y=>{ya(y).isSome()&&xh.clear()},s_=y=>{y.fold(fl,S=>o_({[Jx]:S}))},zc=()=>ya(Jx),fl=()=>ng(Jx),wh=y=>{y.fold(r_,S=>o_({[Qx]:S}))},Pp=()=>ya(Qx),r_=()=>ng(Qx),Ir=y=>zf(Pc(y),Ur(y)).filter(p1),Dr=(y,S)=>{const T=Ur(y),M=Le=>Sl(Le,T),U=Le=>(Ue=>pr(Pc(Ue),Ur(Ue)).filter(p1))(y).bind(Ue=>M(Ue).map(Ze=>Le(Ze,Ue))),K=Le=>{y.focus()},se=(Le,Ue=!1)=>U((Ze,ct)=>{const ft=No(Lc(y),Ze,ct);Le(Ze,ft,Ue).each(K)}),le=()=>U((Le,Ue)=>((Ze,ct,ft)=>{const Mt=Mo(Ze);return Yd(Mt,ct).bind($t=>{const Lt=Sr(Mt,ft,!1),zt=nr(Lt).rows.slice($t[0].row,$t[$t.length-1].row+$t[$t.length-1].rowspan),Qt=Me(zt,gt=>{const En=Ut(gt.cells,no=>!no.isLocked);return En.length>0?[{...gt,cells:En}]:[]}),rn=iv(Qt);return hn(rn.length>0,rn)}).map($t=>R($t,Lt=>{const zt=Pm(Lt.element);return it(Lt.cells,Qt=>{const rn=nu(Qt.element);qd(rn,"colspan",Qt.colspan,1),qd(rn,"rowspan",Qt.rowspan,1),hr(zt,rn)}),zt}))})(Le,No(Lc(y),Le,Ue),or(z,Jt.fromDom(y.getDoc()),te.none()))),ke=()=>U((Le,Ue)=>((Ze,ct)=>{const ft=Mo(Ze);return Xi(ft,ct).map(Mt=>{const $t=Mt[Mt.length-1],Lt=Mt[0].column,zt=$t.column+$t.colspan,Qt=((gt,En,no)=>{if(Rc(gt)){const To=Ut(Oc(gt),Ji(En,no)),lo=R(To,Ao=>{const Jo=nu(Ao.element);return N1(Jo,"span",no-En),Jo}),oo=Jt.fromTag("colgroup");return Fl(oo,lo),[oo]}return[]})(ft,Lt,zt),rn=((gt,En,no)=>R(gt.all,To=>{const lo=Ut(To.cells,Ji(En,no)),oo=R(lo,Jo=>{const si=nu(Jo.element);return N1(si,"colspan",no-En),si}),Ao=Jt.fromTag("tr");return Fl(Ao,oo),Ao}))(ft,Lt,zt);return[...Qt,...rn]})})(Le,No(Lc(y),Le,Ue))),$e=(Le,Ue)=>Ue().each(Ze=>{const ct=R(Ze,ft=>nu(ft));U((ft,Mt)=>{const $t=Ps(Jt.fromDom(y.getDoc())),Lt=((zt,Qt,rn,gt)=>({selection:$f(zt),clipboard:rn,generators:gt}))(Lc(y),0,ct,$t);Le(ft,Lt).each(K)})}),Qe=Le=>(Ue,Ze)=>((ct,ft)=>Ve(ct,ft)?te.from(ct[ft]):te.none())(Ze,"type").each(ct=>{se(Le(ct),Ze.no_events)});vn({mceTableSplitCells:()=>se(S.unmergeCells),mceTableMergeCells:()=>se(S.mergeCells),mceTableInsertRowBefore:()=>se(S.insertRowsBefore),mceTableInsertRowAfter:()=>se(S.insertRowsAfter),mceTableInsertColBefore:()=>se(S.insertColumnsBefore),mceTableInsertColAfter:()=>se(S.insertColumnsAfter),mceTableDeleteCol:()=>se(S.deleteColumn),mceTableDeleteRow:()=>se(S.deleteRow),mceTableCutCol:()=>ke().each(Le=>{wh(Le),se(S.deleteColumn)}),mceTableCutRow:()=>le().each(Le=>{s_(Le),se(S.deleteRow)}),mceTableCopyCol:()=>ke().each(Le=>wh(Le)),mceTableCopyRow:()=>le().each(Le=>s_(Le)),mceTablePasteColBefore:()=>$e(S.pasteColsBefore,Pp),mceTablePasteColAfter:()=>$e(S.pasteColsAfter,Pp),mceTablePasteRowBefore:()=>$e(S.pasteRowsBefore,zc),mceTablePasteRowAfter:()=>$e(S.pasteRowsAfter,zc),mceTableDelete:()=>Ir(y).each(Le=>{Sl(Le,T).filter(he(T)).each(Ue=>{const Ze=Jt.fromText("");if(qu(Ue,Ze),lr(Ue),y.dom.isEmpty(y.getBody()))y.setContent(""),y.selection.setCursorLocation();else{const ct=y.dom.createRng();ct.setStart(Ze.dom,0),ct.setEnd(Ze.dom,0),y.selection.setRng(ct),y.nodeChanged()}})}),mceTableCellToggleClass:(Le,Ue)=>{U(Ze=>{const ct=Lc(y),ft=mt(ct,$t=>y.formatter.match("tablecellclass",{value:Ue},$t.dom)),Mt=ft?y.formatter.remove:y.formatter.apply;it(ct,$t=>Mt("tablecellclass",{value:Ue},$t.dom)),Qd(y,Ze.dom,P1)})},mceTableToggleClass:(Le,Ue)=>{U(Ze=>{y.formatter.toggle("tableclass",{value:Ue},Ze.dom),Qd(y,Ze.dom,P1)})},mceTableToggleCaption:()=>{Ir(y).each(Le=>{Sl(Le,T).each(Ue=>{yt(Ue,"caption").fold(()=>{const Ze=Jt.fromTag("caption");hr(Ze,Jt.fromText("Caption")),((ct,ft,Mt)=>{Gu(ct,0).fold(()=>{hr(ct,ft)},$t=>{fn($t,ft)})})(Ue,Ze),y.selection.setCursorLocation(Ze.dom,0)},Ze=>{us("caption")(Le)&&jl("td",Ue).each(ct=>y.selection.setCursorLocation(ct.dom,0)),lr(Ze)}),Qd(y,Ue.dom,yi)})})},mceTableSizingMode:(Le,Ue)=>(Ze=>Ir(y).each(ct=>{G(y)||N(y)||rd(y)||Sl(ct,T).each(ft=>{Ze!=="relative"||M1(ft)?Ze!=="fixed"||fr(ft)?Ze!=="responsive"||cd(ft)||va(ft):Ol(ft):vh(ft),_r(ft),Qd(y,ft.dom,yi)})}))(Ue),mceTableCellType:Qe(Le=>Le==="th"?S.makeCellsHeader:S.unmakeCellsHeader),mceTableColType:Qe(Le=>Le==="th"?S.makeColumnsHeader:S.unmakeColumnsHeader),mceTableRowType:Qe(Le=>{switch(Le){case"header":return S.makeRowsHeader;case"footer":return S.makeRowsFooter;default:return S.makeRowsBody}})},(Le,Ue)=>y.addCommand(Ue,Le)),y.addCommand("mceInsertTable",(Le,Ue)=>{((Ze,ct,ft,Mt={})=>{const $t=Lt=>V(Lt)&&Lt>0;if($t(ct)&&$t(ft)){const Lt=Mt.headerRows||0,zt=Mt.headerColumns||0;return yv(Ze,ft,ct,zt,Lt)}console.error("Invalid values for mceInsertTable - rows and columns values are required to insert a table.")})(y,Ue.rows,Ue.columns,Ue.options)}),y.addCommand("mceTableApplyCellStyle",(Le,Ue)=>{const Ze=Mt=>"tablecell"+Mt.toLowerCase().replace("-","");if(!h(Ue))return;const ct=Ut(Lc(y),p1);if(ct.length===0)return;const ft=((Mt,$t)=>{const Lt={};return((zt,Qt,rn,gt)=>{vn(zt,(En,no)=>{(Qt(En,no)?rn:gt)(En,no)})})(Mt,$t,(zt=>(Qt,rn)=>{zt[rn]=Qt})(Lt),z),Lt})(Ue,(Mt,$t)=>y.formatter.has(Ze($t))&&g(Mt));(Mt=>{for(const $t in Mt)if(Zt.call(Mt,$t))return!1;return!0})(ft)||(vn(ft,(Mt,$t)=>{const Lt=Ze($t);it(ct,zt=>{Mt===""?y.formatter.remove(Lt,{value:null},zt.dom,!0):y.formatter.apply(Lt,{value:Mt},zt.dom)})}),M(ct[0]).each(Mt=>Qd(y,Mt.dom,P1)))})},oi=Ym([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),Fs={before:oi.before,on:oi.on,after:oi.after,cata:(y,S,T,M)=>y.fold(S,T,M),getStart:y=>y.fold(ee,ee,ee)},kr=(y,S)=>({selection:y,kill:S}),jr=(y,S)=>{const T=y.document.createRange();return T.selectNode(S.dom),T},B1=(y,S)=>{const T=y.document.createRange();return F1(T,S),T},F1=(y,S)=>y.selectNodeContents(S.dom),e2=(y,S,T)=>{const M=y.document.createRange();var U;return U=M,S.fold(K=>{U.setStartBefore(K.dom)},(K,se)=>{U.setStart(K.dom,se)},K=>{U.setStartAfter(K.dom)}),((K,se)=>{se.fold(le=>{K.setEndBefore(le.dom)},(le,ke)=>{K.setEnd(le.dom,ke)},le=>{K.setEndAfter(le.dom)})})(M,T),M},xv=(y,S,T,M,U)=>{const K=y.document.createRange();return K.setStart(S.dom,T),K.setEnd(M.dom,U),K},t2=y=>({left:y.left,top:y.top,right:y.right,bottom:y.bottom,width:y.width,height:y.height}),Ch=Ym([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),$1=(y,S,T)=>S(Jt.fromDom(T.startContainer),T.startOffset,Jt.fromDom(T.endContainer),T.endOffset),V1=(y,S)=>{const T=((M,U)=>U.match({domRange:K=>({ltr:Z(K),rtl:te.none}),relative:(K,se)=>({ltr:Di(()=>e2(M,K,se)),rtl:Di(()=>te.some(e2(M,se,K)))}),exact:(K,se,le,ke)=>({ltr:Di(()=>xv(M,K,se,le,ke)),rtl:Di(()=>te.some(xv(M,le,ke,K,se)))})}))(y,S);return((M,U)=>{const K=U.ltr();return K.collapsed?U.rtl().filter(se=>se.collapsed===!1).map(se=>Ch.rtl(Jt.fromDom(se.endContainer),se.endOffset,Jt.fromDom(se.startContainer),se.startOffset)).getOrThunk(()=>$1(0,Ch.ltr,K)):$1(0,Ch.ltr,K)})(0,T)},n2=(y,S)=>V1(y,S).match({ltr:(T,M,U,K)=>{const se=y.document.createRange();return se.setStart(T.dom,M),se.setEnd(U.dom,K),se},rtl:(T,M,U,K)=>{const se=y.document.createRange();return se.setStart(U.dom,K),se.setEnd(T.dom,M),se}});Ch.ltr,Ch.rtl;const wv=(y,S,T,M)=>({start:y,soffset:S,finish:T,foffset:M}),Rl=(y,S,T,M)=>({start:Fs.on(y,S),finish:Fs.on(T,M)}),o2=(y,S)=>{const T=n2(y,S);return wv(Jt.fromDom(T.startContainer),T.startOffset,Jt.fromDom(T.endContainer),T.endOffset)},ja=Rl,Cv=(y,S,T,M,U)=>Ws(T,M)?te.none():hu(T,M,S).bind(K=>{const se=K.boxes.getOr([]);return se.length>1?(U(y,se,K.start,K.finish),te.some(kr(te.some(ja(T,0,T,zr(T))),!0))):te.none()}),_h=(y,S)=>({item:y,mode:S}),xu=(y,S,T,M=Zr)=>y.property().parent(S).map(U=>_h(U,M)),Zr=(y,S,T,M=og)=>T.sibling(y,S).map(U=>_h(U,M)),og=(y,S,T,M=og)=>{const U=y.property().children(S);return T.first(U).map(K=>_h(K,M))},s2=[{current:xu,next:Zr,fallback:te.none()},{current:Zr,next:og,fallback:te.some(xu)},{current:og,next:og,fallback:te.some(Zr)}],r2=(y,S,T,M,U=s2)=>An(U,K=>K.current===T).bind(K=>K.current(y,S,M,K.next).orThunk(()=>K.fallback.bind(se=>r2(y,S,se,M)))),_v=(y,S,T,M,U,K)=>r2(y,S,M,U).bind(se=>K(se.item)?te.none():T(se.item)?te.some(se.item):_v(y,se.item,T,se.mode,U,K)),ef=y=>S=>y.property().children(S).length===0,YE=(y,S,T,M)=>_v(y,S,T,Zr,{sibling:(U,K)=>U.query().prevSibling(K),first:U=>U.length>0?te.some(U[U.length-1]):te.none()},M),Sv=(y,S,T,M)=>_v(y,S,T,Zr,{sibling:(U,K)=>U.query().nextSibling(K),first:U=>U.length>0?te.some(U[0]):te.none()},M),sg=Mf(),i_=(y,S)=>((T,M,U)=>YE(T,M,ef(T),U))(sg,y,S),kv=(y,S)=>((T,M,U)=>Sv(T,M,ef(T),U))(sg,y,S),Ev=Ym([{none:["message"]},{success:[]},{failedUp:["cell"]},{failedDown:["cell"]}]),z1=y=>ot(y,"tr"),Np={...Ev,verify:(y,S,T,M,U,K,se)=>ot(M,"td,th",se).bind(le=>ot(S,"td,th",se).map(ke=>Ws(le,ke)?Ws(M,le)&&zr(le)===U?K(ke):Ev.none("in same cell"):Bf(z1,[le,ke]).fold(()=>(($e,Qe,Le)=>{const Ue=$e.getRect(Qe),Ze=$e.getRect(Le);return Ze.right>Ue.left&&Ze.left<Ue.right})(y,ke,le)?Ev.success():K(ke),$e=>K(ke)))).getOr(Ev.none("default")),cata:(y,S,T,M,U)=>y.fold(S,T,M,U)},H1=us("br"),Za=(y,S,T)=>S(y,T).bind(M=>$o(M)&&Hm(M).trim().length===0?Za(M,S,T):te.some(M)),i2=(y,S,T,M)=>((U,K)=>Gu(U,K).filter(H1).orThunk(()=>Gu(U,K-1).filter(H1)))(S,T).bind(U=>M.traverse(U).fold(()=>Za(U,M.gather,y).map(M.relative),K=>(se=>wl(se).bind(le=>{const ke=Ii(le);return(($e,Qe)=>At($e,W(Ws,Qe)))(ke,se).map($e=>((Qe,Le,Ue,Ze)=>({parent:Qe,children:Le,element:Ue,index:Ze}))(le,ke,se,$e))}))(K).map(se=>Fs.on(se.parent,se.index)))),tf=(y,S)=>({left:y.left,top:y.top+S,right:y.right,bottom:y.bottom+S}),Av=(y,S)=>({left:y.left,top:y.top-S,right:y.right,bottom:y.bottom-S}),ud=(y,S,T)=>({left:y.left+S,top:y.top+T,right:y.right+S,bottom:y.bottom+T}),Tv=y=>({left:y.left,top:y.top,right:y.right,bottom:y.bottom}),Ov=(y,S)=>te.some(y.getRect(S)),rg=(y,S,T)=>to(S)?Ov(y,S).map(Tv):$o(S)?((M,U,K)=>K>=0&&K<zr(U)?M.getRangedRect(U,K,U,K+1):K>0?M.getRangedRect(U,K-1,U,K):te.none())(y,S,T).map(Tv):te.none(),Sh=(y,S)=>to(S)?Ov(y,S).map(Tv):$o(S)?y.getRangedRect(S,0,S,zr(S)).map(Tv):te.none(),Hc=Ym([{none:[]},{retry:["caret"]}]),Rv=(y,S,T)=>at(S,mh).fold(j,M=>Sh(y,M).exists(U=>((K,se)=>K.left<se.left||Math.abs(se.right-K.left)<1||K.left>se.right)(T,U))),XE={point:y=>y.bottom,adjuster:(y,S,T,M,U)=>{const K=tf(U,5);return Math.abs(T.bottom-M.bottom)<1||T.top>U.bottom?Hc.retry(K):T.top===U.bottom?Hc.retry(tf(U,1)):Rv(y,S,U)?Hc.retry(ud(K,5,0)):Hc.none()},move:tf,gather:kv},fc=(y,S,T,M,U)=>U===0?te.some(M):((K,se,le)=>K.elementFromPoint(se,le).filter(ke=>ht(ke)==="table").isSome())(y,M.left,S.point(M))?((K,se,le,ke,$e)=>fc(K,se,le,se.move(ke,5),$e))(y,S,T,M,U-1):y.situsFromPoint(M.left,S.point(M)).bind(K=>K.start.fold(te.none,se=>Sh(y,se).bind(le=>S.adjuster(y,se,le,T,M).fold(te.none,ke=>fc(y,S,T,ke,U-1))).orThunk(()=>te.some(M)),te.none)),nf=(y,S,T)=>{const M=y.move(T,5),U=fc(S,y,T,M,100).getOr(M);return((K,se,le)=>K.point(se)>le.getInnerHeight()?te.some(K.point(se)-le.getInnerHeight()):K.point(se)<0?te.some(-K.point(se)):te.none())(y,U,S).fold(()=>S.situsFromPoint(U.left,y.point(U)),K=>(S.scrollBy(0,K),S.situsFromPoint(U.left,y.point(U)-K)))},Uc={tryUp:W(nf,{point:y=>y.top,adjuster:(y,S,T,M,U)=>{const K=Av(U,5);return Math.abs(T.top-M.top)<1||T.bottom<U.top?Hc.retry(K):T.bottom===U.top?Hc.retry(Av(U,1)):Rv(y,S,U)?Hc.retry(ud(K,5,0)):Hc.none()},move:Av,gather:i_}),tryDown:W(nf,XE),getJumpSize:Z(5)},a2=(y,S,T)=>y.getSelection().bind(M=>((U,K,se,le)=>(H1(K)?(($e,Qe,Le)=>Le.traverse(Qe).orThunk(()=>Za(Qe,Le.gather,$e)).map(Le.relative))(U,K,le):i2(U,K,se,le)).map($e=>({start:$e,finish:$e})))(S,M.finish,M.foffset,T).fold(()=>te.some(wo(M.finish,M.foffset)),U=>{const K=y.fromSitus(U);return se=Np.verify(y,M.finish,M.foffset,K.finish,K.foffset,T.failure,S),Np.cata(se,le=>te.none(),()=>te.none(),le=>te.some(wo(le,0)),le=>te.some(wo(le,zr(le))));var se})),Ei=(y,S,T,M,U,K)=>K===0?te.none():JE(y,S,T,M,U).bind(se=>{const le=y.fromSitus(se),ke=Np.verify(y,T,M,le.finish,le.foffset,U.failure,S);return Np.cata(ke,()=>te.none(),()=>te.some(se),$e=>Ws(T,$e)&&M===0?Wc(y,T,M,Av,U):Ei(y,S,$e,0,U,K-1),$e=>Ws(T,$e)&&M===zr($e)?Wc(y,T,M,tf,U):Ei(y,S,$e,zr($e),U,K-1))}),Wc=(y,S,T,M,U)=>rg(y,S,T).bind(K=>Il(y,U,M(K,Uc.getJumpSize()))),Il=(y,S,T)=>{const M=m1().browser;return M.isChromium()||M.isSafari()||M.isFirefox()?S.retry(y,T):te.none()},JE=(y,S,T,M,U)=>rg(y,T,M).bind(K=>Il(y,U,K)),Gf=(y,S,T,M,U)=>ot(M,"td,th",S).bind(K=>ot(K,"table",S).bind(se=>((le,ke)=>De(le,$e=>wl($e).exists(Qe=>Ws(Qe,ke)),void 0).isSome())(U,se)?((le,ke,$e)=>a2(le,ke,$e).bind(Qe=>Ei(le,ke,Qe.element,Qe.offset,$e,20).map(le.fromSitus)))(y,S,T).bind(le=>ot(le.finish,"td,th",S).map(ke=>({start:K,finish:ke,range:le}))):te.none())),of=(y,S,T,M,U,K)=>K(M,S).orThunk(()=>Gf(y,S,T,M,U).map(se=>{const le=se.range;return kr(te.some(ja(le.start,le.soffset,le.finish,le.foffset)),!0)})),Lp=(y,S)=>ot(y,"tr",S).bind(T=>ot(T,"table",S).bind(M=>{const U=Ms(M,"tr");return Ws(T,U[0])?((K,se,le)=>YE(sg,K,ke=>mu(ke).isSome(),le))(M,0,S).map(K=>{const se=zr(K);return kr(te.some(ja(K,se,K,se)),!0)}):te.none()})),ig=(y,S)=>ot(y,"tr",S).bind(T=>ot(T,"table",S).bind(M=>{const U=Ms(M,"tr");return Ws(T,U[U.length-1])?((K,se,le)=>Sv(sg,K,ke=>sh(ke).isSome(),le))(M,0,S).map(K=>kr(te.some(ja(K,0,K,0)),!0)):te.none()})),Jl=(y,S,T,M,U,K,se)=>Gf(y,T,M,U,K).bind(le=>Cv(S,T,le.start,le.finish,se)),U1=y=>{let S=y;return{get:()=>S,set:T=>{S=T}}},W1=()=>{const y=(S=>{const T=U1(te.none()),M=()=>T.get().each(S);return{clear:()=>{M(),T.set(te.none())},isSet:()=>T.get().isSome(),get:()=>T.get(),set:U=>{M(),T.set(te.some(U))}}})(z);return{...y,on:S=>y.get().each(S)}},Iv=(y,S)=>ot(y,"td,th",S),K1=y=>Zu(y).exists(po),a_={traverse:Zl,gather:kv,relative:Fs.before,retry:Uc.tryDown,failure:Np.failedDown},Dv={traverse:ho,gather:i_,relative:Fs.before,retry:Uc.tryUp,failure:Np.failedUp},sf=y=>S=>S===y,Pv=sf(38),kh=sf(40),Eh=y=>y>=37&&y<=40,qf={isBackward:sf(37),isForward:sf(39)},Yf={isBackward:sf(39),isForward:sf(37)},Nv=Ym([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),Xf={domRange:Nv.domRange,relative:Nv.relative,exact:Nv.exact,exactFromRange:y=>Nv.exact(y.start,y.soffset,y.finish,y.foffset),getWin:y=>{const S=(T=>T.match({domRange:M=>Jt.fromDom(M.startContainer),relative:(M,U)=>Fs.getStart(M),exact:(M,U,K,se)=>M}))(y);return Jt.fromDom(Ac(S).dom.defaultView)},range:wv},Jf=(y,S)=>{const T=ht(y);return T==="input"?Fs.after(y):rt(["br","img"],T)?S===0?Fs.before(y):Fs.after(y):Fs.on(y,S)},Qf=y=>te.from(y.getSelection()),Ah=(y,S)=>{Qf(y).each(T=>{T.removeAllRanges(),T.addRange(S)})},j1=(y,S,T,M,U)=>{const K=xv(y,S,T,M,U);Ah(y,K)},Mp=(y,S)=>V1(y,S).match({ltr:(T,M,U,K)=>{j1(y,T,M,U,K)},rtl:(T,M,U,K)=>{Qf(y).each(se=>{if(se.setBaseAndExtent)se.setBaseAndExtent(T.dom,M,U.dom,K);else if(se.extend)try{((le,ke,$e,Qe,Le,Ue)=>{ke.collapse($e.dom,Qe),ke.extend(Le.dom,Ue)})(0,se,T,M,U,K)}catch{j1(y,U,K,T,M)}else j1(y,U,K,T,M)})}}),Z1=(y,S,T,M,U)=>{const K=((se,le,ke,$e)=>{const Qe=Jf(se,le),Le=Jf(ke,$e);return Xf.relative(Qe,Le)})(S,T,M,U);Mp(y,K)},l2=(y,S,T)=>{const M=((U,K)=>{const se=U.fold(Fs.before,Jf,Fs.after),le=K.fold(Fs.before,Jf,Fs.after);return Xf.relative(se,le)})(S,T);Mp(y,M)},Bp=y=>{if(y.rangeCount>0){const S=y.getRangeAt(0),T=y.getRangeAt(y.rangeCount-1);return te.some(wv(Jt.fromDom(S.startContainer),S.startOffset,Jt.fromDom(T.endContainer),T.endOffset))}return te.none()},Ai=y=>{if(y.anchorNode===null||y.focusNode===null)return Bp(y);{const S=Jt.fromDom(y.anchorNode),T=Jt.fromDom(y.focusNode);return((M,U,K,se)=>{const le=(($e,Qe,Le,Ue)=>{const Ze=ju($e).dom.createRange();return Ze.setStart($e.dom,Qe),Ze.setEnd(Le.dom,Ue),Ze})(M,U,K,se),ke=Ws(M,K)&&U===se;return le.collapsed&&!ke})(S,y.anchorOffset,T,y.focusOffset)?te.some(wv(S,y.anchorOffset,T,y.focusOffset)):Bp(y)}},c2=(y,S,T=!0)=>{const M=(T?B1:jr)(y,S);Ah(y,M)},l_=y=>(S=>Qf(S).filter(T=>T.rangeCount>0).bind(Ai))(y).map(S=>Xf.exact(S.start,S.soffset,S.finish,S.foffset)),u2=(y,S,T)=>((M,U,K)=>((se,le,ke)=>se.caretPositionFromPoint?(($e,Qe,Le)=>{var Ue;return te.from((Ue=$e.caretPositionFromPoint)===null||Ue===void 0?void 0:Ue.call($e,Qe,Le)).bind(Ze=>{if(Ze.offsetNode===null)return te.none();const ct=$e.createRange();return ct.setStart(Ze.offsetNode,Ze.offset),ct.collapse(),te.some(ct)})})(se,le,ke):se.caretRangeFromPoint?(($e,Qe,Le)=>{var Ue;return te.from((Ue=$e.caretRangeFromPoint)===null||Ue===void 0?void 0:Ue.call($e,Qe,Le))})(se,le,ke):te.none())(M.document,U,K).map(se=>wv(Jt.fromDom(se.startContainer),se.startOffset,Jt.fromDom(se.endContainer),se.endOffset)))(y,S,T),d2=y=>({elementFromPoint:(S,T)=>Jt.fromPoint(Jt.fromDom(y.document),S,T),getRect:S=>S.dom.getBoundingClientRect(),getRangedRect:(S,T,M,U)=>{const K=Xf.exact(S,T,M,U);return((se,le)=>(ke=>{const $e=ke.getClientRects(),Qe=$e.length>0?$e[0]:ke.getBoundingClientRect();return Qe.width>0||Qe.height>0?te.some(Qe).map(t2):te.none()})(n2(se,le)))(y,K)},getSelection:()=>l_(y).map(S=>o2(y,S)),fromSitus:S=>{const T=Xf.relative(S.start,S.finish);return o2(y,T)},situsFromPoint:(S,T)=>u2(y,S,T).map(M=>Rl(M.start,M.soffset,M.finish,M.foffset)),clearSelection:()=>{(S=>{Qf(S).each(T=>T.removeAllRanges())})(y)},collapseSelection:(S=!1)=>{l_(y).each(T=>T.fold(M=>M.collapse(S),(M,U)=>{const K=S?M:U;l2(y,K,K)},(M,U,K,se)=>{const le=S?M:K,ke=S?U:se;Z1(y,le,ke,le,ke)}))},setSelection:S=>{Z1(y,S.start,S.soffset,S.finish,S.foffset)},setRelativeSelection:(S,T)=>{l2(y,S,T)},selectNode:S=>{c2(y,S,!1)},selectContents:S=>{c2(y,S)},getInnerHeight:()=>y.innerHeight,getScrollY:()=>(S=>{const T=S!==void 0?S.dom:document,M=T.body.scrollLeft||T.documentElement.scrollLeft,U=T.body.scrollTop||T.documentElement.scrollTop;return al(M,U)})(Jt.fromDom(y.document)).top,scrollBy:(S,T)=>{((M,U,K)=>{const se=(K!==void 0?K.dom:document).defaultView;se&&se.scrollBy(M,U)})(S,T,Jt.fromDom(y.document))}}),em=(y,S)=>({rows:y,cols:S}),G1=y=>at(y,Yn).exists(po),Lv=(y,S)=>G1(y)||G1(S),f2=y=>y.dom.classList!==void 0,QE=(y,S)=>((T,M,U)=>{const K=((se,le)=>{const ke=Tn(se,le);return ke===void 0||ke===""?[]:ke.split(" ")})(T,M).concat([U]);return xs(T,M,K.join(" ")),!0})(y,"class",S),tm=(y,S)=>{f2(y)?y.dom.classList.add(S):QE(y,S)},Mv=(y,S)=>f2(y)&&y.dom.classList.contains(S),c_=()=>({tag:"none"}),u_=y=>({tag:"multiple",elements:y}),wu=y=>({tag:"single",element:y}),m2=y=>{const S=Jt.fromDom((le=>{if(O(le.target)){const ke=Jt.fromDom(le.target);if(to(ke)&&O(ke.dom.shadowRoot)&&le.composed&&le.composedPath){const $e=le.composedPath();if($e)return In($e)}}return te.from(le.target)})(y).getOr(y.target)),T=()=>y.stopPropagation(),M=()=>y.preventDefault(),U=(K=M,se=T,(...le)=>K(se.apply(null,le)));var K,se;return((le,ke,$e,Qe,Le,Ue,Ze)=>({target:le,x:ke,y:$e,stop:Qe,prevent:Le,kill:Ue,raw:Ze}))(S,y.clientX,y.clientY,T,M,U,y)},q1=(y,S,T,M)=>{y.dom.removeEventListener(S,T,M)},d_=de,Th=(y,S,T)=>((M,U,K,se)=>((le,ke,$e,Qe,Le)=>{const Ue=((Ze,ct)=>ft=>{Ze(ft)&&ct(m2(ft))})($e,Qe);return le.dom.addEventListener(ke,Ue,Le),{unbind:W(q1,le,ke,Ue,Le)}})(M,U,K,se,!1))(y,S,d_,T),Fp=m2,Bv=y=>!Mv(Jt.fromDom(y.target),"ephox-snooker-resizer-bar"),f_=(y,S)=>{const T=(U=Vf.selectedSelector,{get:()=>Nc(Jt.fromDom(y.getBody()),U).fold(()=>pr(Pc(y),Ur(y)).fold(c_,wu),u_)}),M=((K,se,le)=>{const ke=Ue=>{Ro(Ue,K.selected),Ro(Ue,K.firstSelected),Ro(Ue,K.lastSelected)},$e=Ue=>{xs(Ue,K.selected,"1")},Qe=Ue=>{Le(Ue),le()},Le=Ue=>{const Ze=Ms(Ue,`${K.selectedSelector},${K.firstSelectedSelector},${K.lastSelectedSelector}`);it(Ze,ke)};return{clearBeforeUpdate:Le,clear:Qe,selectRange:(Ue,Ze,ct,ft)=>{Qe(Ue),it(Ze,$e),xs(ct,K.firstSelected,"1"),xs(ft,K.lastSelected,"1"),se(Ze,ct,ft)},selectedSelector:K.selectedSelector,firstSelectedSelector:K.firstSelectedSelector,lastSelectedSelector:K.lastSelectedSelector}})(Vf,(K,se,le)=>{Sl(se).each(ke=>{const $e=R(K,Ze=>Ze.dom),Qe=Zd(y),Le=or(z,Jt.fromDom(y.getDoc()),Qe),Ue=((Ze,ct,ft)=>{const Mt=Mo(Ze);return Yd(Mt,ct).map($t=>{const Lt=Sr(Mt,ft,!1),{rows:zt}=nr(Lt),Qt=((gt,En)=>{const no=gt.slice(0,En[En.length-1].row+1),To=iv(no);return Me(To,lo=>{const oo=lo.cells.slice(0,En[En.length-1].column+1);return R(oo,Ao=>Ao.element)})})(zt,$t),rn=((gt,En)=>{const no=gt.slice(En[0].row+En[0].rowspan-1,gt.length),To=iv(no);return Me(To,lo=>{const oo=lo.cells.slice(En[0].column+En[0].colspan-1,lo.cells.length);return R(oo,Ao=>Ao.element)})})(zt,$t);return{upOrLeftCells:Qt,downOrRightCells:rn}})})(ke,{selection:Lc(y)},Le).map(Ze=>je(Ze,ct=>R(ct,ft=>ft.dom))).getOrUndefined();((Ze,ct,ft,Mt,$t)=>{Ze.dispatch("TableSelectionChange",{cells:ct,start:ft,finish:Mt,otherCells:$t})})(y,$e,se.dom,le.dom,Ue)})},()=>(K=>{K.dispatch("TableSelectionClear")})(y));var U;return y.on("init",K=>{const se=y.getWin(),le=ws(y),ke=Ur(y),$e=((ft,Mt,$t,Lt)=>{const zt=((Qt,rn,gt,En)=>{const no=W1(),To=no.clear,lo=oo=>{no.on(Ao=>{En.clearBeforeUpdate(rn),Iv(oo.target,gt).each(Jo=>{hu(Ao,Jo,gt).each(si=>{const Na=si.boxes.getOr([]);if(Na.length===1){const Qi=Na[0],mc=Mn(Qi)==="false",ug=Yt(Eo(oo.target),Qi,Ws);mc&&ug&&En.selectRange(rn,Na,Qi,Qi)}else Na.length>1&&(En.selectRange(rn,Na,si.start,si.finish),Qt.selectContents(Jo))})})})};return{clearstate:To,mousedown:oo=>{En.clear(rn),Iv(oo.target,gt).filter(K1).each(no.set)},mouseover:oo=>{lo(oo)},mouseup:oo=>{lo(oo),To()}}})(d2(ft),Mt,$t,Lt);return{clearstate:zt.clearstate,mousedown:zt.mousedown,mouseover:zt.mouseover,mouseup:zt.mouseup}})(se,le,ke,M),Qe=((ft,Mt,$t,Lt)=>{const zt=d2(ft),Qt=()=>(Lt.clear(Mt),te.none());return{keydown:(rn,gt,En,no,To,lo)=>{const oo=rn.raw,Ao=oo.which,Jo=oo.shiftKey===!0;return ov(Mt,Lt.selectedSelector).fold(()=>(Eh(Ao)&&!Jo&&Lt.clearBeforeUpdate(Mt),Eh(Ao)&&Jo&&!Lv(gt,no)?te.none:kh(Ao)&&Jo?W(Jl,zt,Mt,$t,a_,no,gt,Lt.selectRange):Pv(Ao)&&Jo?W(Jl,zt,Mt,$t,Dv,no,gt,Lt.selectRange):kh(Ao)?W(of,zt,$t,a_,no,gt,ig):Pv(Ao)?W(of,zt,$t,Dv,no,gt,Lp):te.none),Na=>{const Qi=mc=>()=>J(mc,La=>((dd,Vp,sm,zp,ny)=>pa(zp,dd,Vp,ny.firstSelectedSelector,ny.lastSelectedSelector).map(rm=>(ny.clearBeforeUpdate(sm),ny.selectRange(sm,rm.boxes,rm.start,rm.finish),rm.boxes)))(La.rows,La.cols,Mt,Na,Lt)).fold(()=>Ff(Mt,Lt.firstSelectedSelector,Lt.lastSelectedSelector).map(La=>{const dd=kh(Ao)||lo.isForward(Ao)?Fs.after:Fs.before;return zt.setRelativeSelection(Fs.on(La.first,0),dd(La.table)),Lt.clear(Mt),kr(te.none(),!0)}),La=>te.some(kr(te.none(),!0)));return Eh(Ao)&&Jo&&!Lv(gt,no)?te.none:kh(Ao)&&Jo?Qi([em(1,0)]):Pv(Ao)&&Jo?Qi([em(-1,0)]):lo.isBackward(Ao)&&Jo?Qi([em(0,-1),em(-1,0)]):lo.isForward(Ao)&&Jo?Qi([em(0,1),em(1,0)]):Eh(Ao)&&!Jo?Qt:te.none})()},keyup:(rn,gt,En,no,To)=>ov(Mt,Lt.selectedSelector).fold(()=>{const lo=rn.raw,oo=lo.which;return lo.shiftKey===!0&&Eh(oo)&&Lv(gt,no)?((Ao,Jo,si,Na,Qi,mc,ug)=>Ws(si,Qi)&&Na===mc?te.none():ot(si,"td,th",Jo).bind(La=>ot(Qi,"td,th",Jo).bind(dd=>Cv(Ao,Jo,La,dd,ug))))(Mt,$t,gt,En,no,To,Lt.selectRange):te.none()},te.none)}})(se,le,ke,M),Le=((ft,Mt,$t,Lt)=>{const zt=d2(ft);return(Qt,rn)=>{Lt.clearBeforeUpdate(Mt),hu(Qt,rn,$t).each(gt=>{const En=gt.boxes.getOr([]);Lt.selectRange(Mt,En,gt.start,gt.finish),zt.selectContents(rn),zt.collapseSelection()})}})(se,le,ke,M);y.on("TableSelectorChange",ft=>Le(ft.start,ft.finish));const Ue=(ft,Mt)=>{($t=>$t.raw.shiftKey===!0)(ft)&&(Mt.kill&&ft.kill(),Mt.selection.each($t=>{const Lt=Xf.relative($t.start,$t.finish),zt=n2(se,Lt);y.selection.setRng(zt)}))},Ze=ft=>ft.button===0,ct=(()=>{const ft=U1(Jt.fromDom(le)),Mt=U1(0);return{touchEnd:$t=>{const Lt=Jt.fromDom($t.target);if(us("td")(Lt)||us("th")(Lt)){const zt=ft.get(),Qt=Mt.get();Ws(zt,Lt)&&$t.timeStamp-Qt<300&&($t.preventDefault(),Le(Lt,Lt))}ft.set(Lt),Mt.set($t.timeStamp)}}})();y.on("dragstart",ft=>{$e.clearstate()}),y.on("mousedown",ft=>{Ze(ft)&&Bv(ft)&&$e.mousedown(Fp(ft))}),y.on("mouseover",ft=>{var Mt;(Mt=ft).buttons!==void 0&&(1&Mt.buttons)==0||!Bv(ft)||$e.mouseover(Fp(ft))}),y.on("mouseup",ft=>{Ze(ft)&&Bv(ft)&&$e.mouseup(Fp(ft))}),y.on("touchend",ct.touchEnd),y.on("keyup",ft=>{const Mt=Fp(ft);if(Mt.raw.shiftKey&&Eh(Mt.raw.which)){const $t=y.selection.getRng(),Lt=Jt.fromDom($t.startContainer),zt=Jt.fromDom($t.endContainer);Qe.keyup(Mt,Lt,$t.startOffset,zt,$t.endOffset).each(Qt=>{Ue(Mt,Qt)})}}),y.on("keydown",ft=>{const Mt=Fp(ft);S.hide();const $t=y.selection.getRng(),Lt=Jt.fromDom($t.startContainer),zt=Jt.fromDom($t.endContainer),Qt=Wo(qf,Yf)(Jt.fromDom(y.selection.getStart()));Qe.keydown(Mt,Lt,$t.startOffset,zt,$t.endOffset,Qt).each(rn=>{Ue(Mt,rn)}),S.show()}),y.on("NodeChange",()=>{const ft=y.selection,Mt=Jt.fromDom(ft.getStart()),$t=Jt.fromDom(ft.getEnd());Bf(Sl,[Mt,$t]).fold(()=>M.clear(le),z)})}),y.on("PreInit",()=>{y.serializer.addTempAttr(Vf.firstSelected),y.serializer.addTempAttr(Vf.lastSelected)}),{getSelectedCells:()=>((K,se,le,ke)=>{switch(K.tag){case"none":return se();case"single":return($e=>[$e.dom])(K.element);case"multiple":return($e=>R($e,Qe=>Qe.dom))(K.elements)}})(T.get(),Z([])),clearSelectedCells:K=>M.clear(Jt.fromDom(K))}},Cu=y=>{let S=[];return{bind:T=>{if(T===void 0)throw new Error("Event bind error: undefined handler");S.push(T)},unbind:T=>{S=Ut(S,M=>M!==T)},trigger:(...T)=>{const M={};it(y,(U,K)=>{M[U]=T[K]}),it(S,U=>{U(M)})}}},ag=y=>({registry:je(y,S=>({bind:S.bind,unbind:S.unbind})),trigger:je(y,S=>S.trigger)}),Fv=y=>y.slice(0).sort(),$v=(y,S)=>{const T=Ut(S,M=>!rt(y,M));T.length>0&&(M=>{throw new Error("Unsupported keys for object: "+Fv(M).join(", "))})(T)},Y1=y=>((S,T)=>((M,U,K)=>{if(U.length===0)throw new Error("You must specify at least one required field.");return((se,le)=>{if(!x(le))throw new Error("The "+se+" fields must be an array. Was: "+le+".");it(le,ke=>{if(!g(ke))throw new Error("The value "+ke+" in the "+se+" fields was not a string.")})})("required",U),(se=>{const le=Fv(se);An(le,(ke,$e)=>$e<le.length-1&&ke===le[$e+1]).each(ke=>{throw new Error("The field: "+ke+" occurs more than once in the combined fields: ["+le.join(", ")+"].")})})(U),se=>{const le=mo(se);mt(U,$e=>rt(le,$e))||(($e,Qe)=>{throw new Error("All required keys ("+Fv($e).join(", ")+") were not specified. Specified keys were: "+Fv(Qe).join(", ")+".")})(U,le),M(U,le);const ke=Ut(U,$e=>!K.validate(se[$e],$e));return ke.length>0&&(($e,Qe)=>{throw new Error("All values need to be of type: "+Qe+". Keys ("+Fv($e).join(", ")+") were not.")})(ke,K.label),se}})(S,T,{validate:B,label:"function"}))($v,y),Vv=Y1(["compare","extract","mutate","sink"]),xa=Y1(["element","start","stop","destroy"]),X1=Y1(["forceDrop","drop","move","delayDrop"]),lg=()=>{const y=(()=>{const M=ag({move:Cu(["info"])});return{onEvent:z,reset:z,events:M.registry}})(),S=(()=>{let M=te.none();const U=ag({move:Cu(["info"])});return{onEvent:(K,se)=>{se.extract(K).each(le=>{(($e,Qe)=>{const Le=M.map(Ue=>$e.compare(Ue,Qe));return M=te.some(Qe),Le})(se,le).each($e=>{U.trigger.move($e)})})},reset:()=>{M=te.none()},events:U.registry}})();let T=y;return{on:()=>{T.reset(),T=S},off:()=>{T.reset(),T=y},isOn:()=>T===S,onEvent:(M,U)=>{T.onEvent(M,U)},events:S.events}},cg=y=>{const S=y.replace(/\./g,"-");return{resolve:T=>S+"-"+T}},zv=cg("ephox-dragster").resolve;var J1=Vv({compare:(y,S)=>al(S.left-y.left,S.top-y.top),extract:y=>te.some(al(y.x,y.y)),sink:(y,S)=>{const T=(le=>{const ke={layerClass:zv("blocker"),...le},$e=Jt.fromTag("div");return xs($e,"role","presentation"),Gl($e,{position:"fixed",left:"0px",top:"0px",width:"100%",height:"100%"}),tm($e,zv("blocker")),tm($e,ke.layerClass),{element:Z($e),destroy:()=>{lr($e)}}})(S),M=Th(T.element(),"mousedown",y.forceDrop),U=Th(T.element(),"mouseup",y.drop),K=Th(T.element(),"mousemove",y.move),se=Th(T.element(),"mouseout",y.delayDrop);return xa({element:T.element,start:le=>{hr(le,T.element())},stop:()=>{lr(T.element())},destroy:()=>{T.destroy(),U.unbind(),K.unbind(),se.unbind(),M.unbind()}})},mutate:(y,S)=>{y.mutate(S.left,S.top)}});const Oh=cg("ephox-snooker").resolve,nm=Oh("resizer-bar"),g2=Oh("resizer-rows"),Q1=Oh("resizer-cols"),ml=y=>{const S=Ms(y.parent(),"."+nm);it(S,lr)},om=(y,S,T)=>{const M=y.origin();it(S,U=>{U.each(K=>{const se=T(M,K);tm(se,nm),hr(y.parent(),se)})})},h2=(y,S,T,M,U)=>{const K=Df(T),se=S.isResizable,le=M.length>0?Qu.positions(M,T):[],ke=le.length>0?((Le,Ue)=>Me(Le.all,(Ze,ct)=>Ue(Ze.element)?[ct]:[]))(y,se):[];((Le,Ue,Ze,ct)=>{om(Le,Ue,(ft,Mt)=>{const $t=((Lt,zt,Qt,rn,gt)=>{const En=Jt.fromTag("div");return Gl(En,{position:"absolute",left:zt+"px",top:Qt-3.5+"px",height:"7px",width:rn+"px"}),ji(En,{"data-row":Lt,role:"presentation"}),En})(Mt.row,Ze.left-ft.left,Mt.y-ft.top,ct);return tm($t,g2),$t})})(S,Ut(le,(Le,Ue)=>we(ke,Ze=>Ue===Ze)),K,eh(T));const $e=U.length>0?Pf.positions(U,T):[],Qe=$e.length>0?((Le,Ue)=>{const Ze=[];return _e(Le.grid.columns,ct=>{Ts(Le,ct).map(ft=>ft.element).forall(Ue)&&Ze.push(ct)}),Ut(Ze,ct=>{const ft=Gi(Le,Mt=>Mt.column===ct);return mt(ft,Mt=>Ue(Mt.element))})})(y,se):[];((Le,Ue,Ze,ct)=>{om(Le,Ue,(ft,Mt)=>{const $t=((Lt,zt,Qt,rn,gt)=>{const En=Jt.fromTag("div");return Gl(En,{position:"absolute",left:zt-3.5+"px",top:Qt+"px",height:gt+"px",width:"7px"}),ji(En,{"data-column":Lt,role:"presentation"}),En})(Mt.col,Mt.x-ft.left,Ze.top-ft.top,0,ct);return tm($t,Q1),$t})})(S,Ut($e,(Le,Ue)=>we(Qe,Ze=>Ue===Ze)),K,Gb(T))},kt=(y,S)=>{if(ml(y),y.isResizable(S)){const T=Mo(S),M=Wd(T),U=bp(T);h2(T,y,S,M,U)}},$p=(y,S)=>{const T=Ms(y.parent(),"."+nm);it(T,S)},eA=y=>{$p(y,S=>{Po(S,"display","none")})},m_=y=>{$p(y,S=>{Po(S,"display","block")})},ey=Oh("resizer-bar-dragging"),_u=y=>{const S=(()=>{const Le=ag({drag:Cu(["xDelta","yDelta","target"])});let Ue=te.none();const Ze=(()=>{const ct=ag({drag:Cu(["xDelta","yDelta"])});return{mutate:(ft,Mt)=>{ct.trigger.drag(ft,Mt)},events:ct.registry}})();return Ze.events.drag.bind(ct=>{Ue.each(ft=>{Le.trigger.drag(ct.xDelta,ct.yDelta,ft)})}),{assign:ct=>{Ue=te.some(ct)},get:()=>Ue,mutate:Ze.mutate,events:Le.registry}})(),T=((Le,Ue={})=>{var Ze;return((ct,ft,Mt)=>{let $t=!1;const Lt=ag({start:Cu([]),stop:Cu([])}),zt=lg(),Qt=()=>{En.stop(),zt.isOn()&&(zt.off(),Lt.trigger.stop())},rn=((no,To)=>{let lo=null;const oo=()=>{C(lo)||(clearTimeout(lo),lo=null)};return{cancel:oo,throttle:(...Ao)=>{oo(),lo=setTimeout(()=>{lo=null,no.apply(null,Ao)},200)}}})(Qt);zt.events.move.bind(no=>{ft.mutate(ct,no.info)});const gt=no=>(...To)=>{$t&&no.apply(null,To)},En=ft.sink(X1({forceDrop:Qt,drop:gt(Qt),move:gt(no=>{rn.cancel(),zt.onEvent(no,ft)}),delayDrop:gt(rn.throttle)}),Mt);return{element:En.element,go:no=>{En.start(no),zt.on(),Lt.trigger.start()},on:()=>{$t=!0},off:()=>{$t=!1},isActive:()=>$t,destroy:()=>{En.destroy()},events:Lt.registry}})(Le,(Ze=Ue.mode)!==null&&Ze!==void 0?Ze:J1,Ue)})(S,{});let M=te.none();const U=(Le,Ue)=>te.from(Tn(Le,Ue));S.events.drag.bind(Le=>{U(Le.target,"data-row").each(Ue=>{const Ze=Lm(Le.target,"top");Po(Le.target,"top",Ze+Le.yDelta+"px")}),U(Le.target,"data-column").each(Ue=>{const Ze=Lm(Le.target,"left");Po(Le.target,"left",Ze+Le.xDelta+"px")})});const K=(Le,Ue)=>Lm(Le,Ue)-Er(Le,"data-initial-"+Ue,0);T.events.stop.bind(()=>{S.get().each(Le=>{M.each(Ue=>{U(Le,"data-row").each(Ze=>{const ct=K(Le,"top");Ro(Le,"data-initial-top"),Qe.trigger.adjustHeight(Ue,ct,parseInt(Ze,10))}),U(Le,"data-column").each(Ze=>{const ct=K(Le,"left");Ro(Le,"data-initial-left"),Qe.trigger.adjustWidth(Ue,ct,parseInt(Ze,10))}),kt(y,Ue)})})});const se=(Le,Ue)=>{Qe.trigger.startAdjust(),S.assign(Le),xs(Le,"data-initial-"+Ue,Lm(Le,Ue)),tm(Le,ey),Po(Le,"opacity","0.2"),T.go(y.parent())},le=Th(y.parent(),"mousedown",Le=>{var Ue;Ue=Le.target,Mv(Ue,g2)&&se(Le.target,"top"),(Ze=>Mv(Ze,Q1))(Le.target)&&se(Le.target,"left")}),ke=Le=>Ws(Le,y.view()),$e=Th(y.view(),"mouseover",Le=>{var Ue;(Ue=Le.target,ot(Ue,"table",ke).filter(po)).fold(()=>{sl(Le.target)&&ml(y)},Ze=>{T.isActive()&&(M=te.some(Ze),kt(y,Ze))})}),Qe=ag({adjustHeight:Cu(["table","delta","row"]),adjustWidth:Cu(["table","delta","column"]),startAdjust:Cu([])});return{destroy:()=>{le.unbind(),$e.unbind(),T.destroy(),ml(y)},refresh:Le=>{kt(y,Le)},on:T.on,off:T.off,hideBars:W(eA,y),showBars:W(m_,y),events:Qe.registry}},ty=y=>O(y)&&y.nodeName==="TABLE",Hv="bar-",p2=y=>Tn(y,"data-mce-resize")!=="false",b2=y=>{const S=W1(),T=W1(),M=W1();let U,K,se,le;const ke=Le=>jf(y,Le),$e=()=>ih(y)?v1():ad(),Qe=(Le,Ue,Ze,ct)=>{const ft=(Lt=>{return So(zt=Lt,"corner-")?((Qt,rn)=>Qt.substring(7))(zt):zt;var zt})(Ue),Mt=dn(ft,"e"),$t=So(ft,"n");if(K===""&&vh(Le),le===""&&(Lt=>{const zt=(Qt=>Kd(Qt)+"px")(Lt);Js(Lt,te.none(),te.some(zt)),yu(Lt)})(Le),Ze!==U&&K!==""){Po(Le,"width",K);const Lt=$e(),zt=ke(Le),Qt=ih(y)||Mt?(rn=>bu(rn).columns)(Le)-1:0;Xd(Le,Ze-U,Qt,Lt,zt)}else if((Lt=>/^(\d+(\.\d+)?)%$/.test(Lt))(K)){const Lt=parseFloat(K.replace("%",""));Po(Le,"width",Ze*Lt/U+"%")}if((Lt=>/^(\d+(\.\d+)?)px$/.test(Lt))(K)&&(Lt=>{const zt=Mo(Lt);Rc(zt)||it(Ar(Lt),Qt=>{const rn=Ra(Qt,"width");Po(Qt,"width",rn),Ro(Qt,"width")})})(Le),ct!==se&&le!==""){Po(Le,"height",le);const Lt=$t?0:(zt=>bu(zt).rows)(Le)-1;uh(Le,ct-se,Lt)}};return y.on("init",()=>{const Le=((Ue,Ze)=>Ue.inline?((ct,ft,Mt)=>({parent:Z(ft),view:Z(ct),origin:Z(al(0,0)),isResizable:Mt}))(Jt.fromDom(Ue.getBody()),(()=>{const ct=Jt.fromTag("div");return Gl(ct,{position:"static",height:"0",width:"0",padding:"0",margin:"0",border:"0"}),hr(su(Jt.fromDom(document)),ct),ct})(),Ze):((ct,ft)=>{const Mt=Do(ct)?($t=>Jt.fromDom(Ac($t).dom.documentElement))(ct):ct;return{parent:Z(Mt),view:Z(ct),origin:Z(al(0,0)),isResizable:ft}})(Jt.fromDom(Ue.getDoc()),Ze))(y,p2);if(M.set(Le),(Ue=>{const Ze=Ue.options.get("object_resizing");return rt(Ze.split(","),"table")})(y)&&ae(y)){const Ue=((Ze,ct,ft)=>{const Mt=Qu,$t=Pf,Lt=_u(Ze),zt=ag({beforeResize:Cu(["table","type"]),afterResize:Cu(["table","type"]),startDrag:Cu([])});return Lt.events.adjustHeight.bind(Qt=>{const rn=Qt.table;zt.trigger.beforeResize(rn,"row");const gt=Mt.delta(Qt.delta,rn);uh(rn,gt,Qt.row),zt.trigger.afterResize(rn,"row")}),Lt.events.startAdjust.bind(Qt=>{zt.trigger.startDrag()}),Lt.events.adjustWidth.bind(Qt=>{const rn=Qt.table;zt.trigger.beforeResize(rn,"col");const gt=$t.delta(Qt.delta,rn),En=ft(rn);Xd(rn,gt,Qt.column,ct,En),zt.trigger.afterResize(rn,"col")}),{on:Lt.on,off:Lt.off,refreshBars:Lt.refresh,hideBars:Lt.hideBars,showBars:Lt.showBars,destroy:Lt.destroy,events:zt.registry}})(Le,$e(),ke);Ue.on(),Ue.events.startDrag.bind(Ze=>{S.set(y.selection.getRng())}),Ue.events.beforeResize.bind(Ze=>{const ct=Ze.table.dom;((ft,Mt,$t,Lt,zt)=>{ft.dispatch("ObjectResizeStart",{target:Mt,width:$t,height:Lt,origin:zt})})(y,ct,Wm(ct),Km(ct),Hv+Ze.type)}),Ue.events.afterResize.bind(Ze=>{const ct=Ze.table,ft=ct.dom;_r(ct),S.on(Mt=>{y.selection.setRng(Mt),y.focus()}),((Mt,$t,Lt,zt,Qt)=>{Mt.dispatch("ObjectResized",{target:$t,width:Lt,height:zt,origin:Qt})})(y,ft,Wm(ft),Km(ft),Hv+Ze.type),y.undoManager.add()}),T.set(Ue)}}),y.on("ObjectResizeStart",Le=>{const Ue=Le.target;if(ty(Ue)){const Ze=Jt.fromDom(Ue);it(y.dom.select(".mce-clonedresizable"),ct=>{y.dom.addClass(ct,"mce-"+rh(y)+"-columns")}),!fr(Ze)&&N(y)?Ol(Ze):!M1(Ze)&&rd(y)&&vh(Ze),cd(Ze)&&So(Le.origin,Hv)&&vh(Ze),U=Le.width,K=G(y)?"":KC(y,Ue).getOr(""),se=Le.height,le=ev(y,Ue).getOr("")}}),y.on("ObjectResized",Le=>{const Ue=Le.target;if(ty(Ue)){const Ze=Jt.fromDom(Ue),ct=Le.origin;(ft=>So(ft,"corner-"))(ct)&&Qe(Ze,ct,Le.width,Le.height),_r(Ze),Qd(y,Ze.dom,P1)}}),y.on("SwitchMode",()=>{T.on(Le=>{y.mode.isReadOnly()?Le.hideBars():Le.showBars()})}),y.on("dragstart dragend",Le=>{T.on(Ue=>{Le.type==="dragstart"?(Ue.hideBars(),Ue.off()):(Ue.on(),Ue.showBars())})}),y.on("remove",()=>{T.on(Le=>{Le.destroy()}),M.on(Le=>{((Ue,Ze)=>{Ue.inline&&lr(Ze.parent())})(y,Le)})}),{refresh:Le=>{T.on(Ue=>Ue.refreshBars(Jt.fromDom(Le)))},hide:()=>{T.on(Le=>Le.hideBars())},show:()=>{T.on(Le=>Le.showBars())}}},tA=y=>{(U=>{const K=U.options.register;K("table_clone_elements",{processor:"string[]"}),K("table_use_colgroups",{processor:"boolean",default:!0}),K("table_header_type",{processor:se=>{const le=rt(["section","cells","sectionCells","auto"],se);return le?{value:se,valid:le}:{valid:!1,message:"Must be one of: section, cells, sectionCells or auto."}},default:"section"}),K("table_sizing_mode",{processor:"string",default:"auto"}),K("table_default_attributes",{processor:"object",default:{border:"1"}}),K("table_default_styles",{processor:"object",default:{"border-collapse":"collapse"}}),K("table_column_resizing",{processor:se=>{const le=rt(["preservetable","resizetable"],se);return le?{value:se,valid:le}:{valid:!1,message:"Must be preservetable, or resizetable."}},default:"preservetable"}),K("table_resize_bars",{processor:"boolean",default:!0}),K("table_style_by_css",{processor:"boolean",default:!0}),K("table_merge_content_on_paste",{processor:"boolean",default:!0})})(y);const S=b2(y),T=f_(y,S),M=Yx(y,S,T);return Dr(y,M),((U,K)=>{const se=Ur(U),le=ke=>pr(Pc(U)).bind($e=>Sl($e,se).map(Qe=>{const Le=No(Lc(U),Qe,$e);return ke(Qe,Le)})).getOr("");vn({mceTableRowType:()=>le(K.getTableRowType),mceTableCellType:()=>le(K.getTableCellType),mceTableColType:()=>le(K.getTableColType)},(ke,$e)=>U.addQueryValueHandler($e,ke))})(y,M),Mc(y,M),{getSelectedCells:T.getSelectedCells,clearSelectedCells:T.clearSelectedCells}};t.add("dom",y=>({table:tA(y)}))})();tinymce.Resource.add("ui/default/skin.css",`.tox{box-shadow:none;box-sizing:content-box;color:#222f3e;cursor:auto;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:16px;font-style:normal;font-weight:400;line-height:normal;-webkit-tap-highlight-color:transparent;-webkit-text-decoration:none;text-decoration:none;text-shadow:none;text-transform:none;vertical-align:initial;white-space:normal}.tox :not(svg):not(rect){box-sizing:inherit;color:inherit;cursor:inherit;direction:inherit;font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;line-height:inherit;-webkit-tap-highlight-color:inherit;text-align:inherit;text-decoration:inherit;text-shadow:inherit;text-transform:inherit;vertical-align:inherit;white-space:inherit}.tox :not(svg):not(rect){background:0 0;border:0;box-shadow:none;float:none;height:auto;margin:0;max-width:none;outline:0;padding:0;position:static;width:auto}.tox:not([dir=rtl]){direction:ltr;text-align:left}.tox[dir=rtl]{direction:rtl;text-align:right}.tox-tinymce{border:2px solid #eee;border-radius:10px;box-shadow:none;box-sizing:border-box;display:flex;flex-direction:column;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;overflow:hidden;position:relative;visibility:inherit!important}.tox.tox-tinymce-inline{border:none;box-shadow:none;overflow:initial}.tox.tox-tinymce-inline .tox-editor-container{overflow:initial}.tox.tox-tinymce-inline .tox-editor-header{background-color:#fff;border:2px solid #eee;border-radius:10px;box-shadow:none;overflow:hidden}.tox-tinymce-aux{font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;z-index:1300}.tox-tinymce :focus,.tox-tinymce-aux :focus{outline:0}button::-moz-focus-inner{border:0}.tox[dir=rtl] .tox-icon--flip svg{transform:rotateY(180deg)}.tox .accessibility-issue__header{align-items:center;display:flex;margin-bottom:4px}.tox .accessibility-issue__description{align-items:stretch;border-radius:6px;display:flex;justify-content:space-between}.tox .accessibility-issue__description>div{padding-bottom:4px}.tox .accessibility-issue__description>div>div{align-items:center;display:flex;margin-bottom:4px}.tox .accessibility-issue__description>div>div .tox-icon svg{display:block}.tox .accessibility-issue__repair{margin-top:16px}.tox .tox-dialog__body-content .accessibility-issue--info .accessibility-issue__description{background-color:rgba(0,101,216,.1);color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--info .tox-form__group h2{color:#006ce7}.tox .tox-dialog__body-content .accessibility-issue--info .tox-icon svg{fill:#006ce7}.tox .tox-dialog__body-content .accessibility-issue--info a.tox-button--naked.tox-button--icon{background-color:#006ce7;color:#fff}.tox .tox-dialog__body-content .accessibility-issue--info a.tox-button--naked.tox-button--icon:focus,.tox .tox-dialog__body-content .accessibility-issue--info a.tox-button--naked.tox-button--icon:hover{background-color:#0060ce}.tox .tox-dialog__body-content .accessibility-issue--info a.tox-button--naked.tox-button--icon:active{background-color:#0054b4}.tox .tox-dialog__body-content .accessibility-issue--warn .accessibility-issue__description{background-color:rgba(255,165,0,.08);color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--warn .tox-form__group h2{color:#8f5d00}.tox .tox-dialog__body-content .accessibility-issue--warn .tox-icon svg{fill:#8f5d00}.tox .tox-dialog__body-content .accessibility-issue--warn a.tox-button--naked.tox-button--icon{background-color:#ffe89d;color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--warn a.tox-button--naked.tox-button--icon:focus,.tox .tox-dialog__body-content .accessibility-issue--warn a.tox-button--naked.tox-button--icon:hover{background-color:#f2d574;color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--warn a.tox-button--naked.tox-button--icon:active{background-color:#e8c657;color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--error .accessibility-issue__description{background-color:rgba(204,0,0,.1);color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--error .tox-form__group h2{color:#c00}.tox .tox-dialog__body-content .accessibility-issue--error .tox-icon svg{fill:#c00}.tox .tox-dialog__body-content .accessibility-issue--error a.tox-button--naked.tox-button--icon{background-color:#f2bfbf;color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--error a.tox-button--naked.tox-button--icon:focus,.tox .tox-dialog__body-content .accessibility-issue--error a.tox-button--naked.tox-button--icon:hover{background-color:#e9a4a4;color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--error a.tox-button--naked.tox-button--icon:active{background-color:#ee9494;color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--success .accessibility-issue__description{background-color:rgba(120,171,70,.1);color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--success .accessibility-issue__description>:last-child{display:none}.tox .tox-dialog__body-content .accessibility-issue--success .tox-form__group h2{color:#527530}.tox .tox-dialog__body-content .accessibility-issue--success .tox-icon svg{fill:#527530}.tox .tox-dialog__body-content .accessibility-issue__header .tox-form__group h1,.tox .tox-dialog__body-content .tox-form__group .accessibility-issue__description h2{font-size:14px;margin-top:0}.tox:not([dir=rtl]) .tox-dialog__body-content .accessibility-issue__header .tox-button{margin-left:4px}.tox:not([dir=rtl]) .tox-dialog__body-content .accessibility-issue__header>:nth-last-child(2){margin-left:auto}.tox:not([dir=rtl]) .tox-dialog__body-content .accessibility-issue__description{padding:4px 4px 4px 8px}.tox[dir=rtl] .tox-dialog__body-content .accessibility-issue__header .tox-button{margin-right:4px}.tox[dir=rtl] .tox-dialog__body-content .accessibility-issue__header>:nth-last-child(2){margin-right:auto}.tox[dir=rtl] .tox-dialog__body-content .accessibility-issue__description{padding:4px 8px 4px 4px}.tox .mce-codemirror{background:#fff;bottom:0;font-size:13px;left:0;position:absolute;right:0;top:0;z-index:1}.tox .mce-codemirror.tox-inline-codemirror{margin:8px;position:absolute}.tox .tox-advtemplate .tox-form__grid{flex:1}.tox .tox-advtemplate .tox-form__grid>div:first-child{display:flex;flex-direction:column;width:30%}.tox .tox-advtemplate .tox-form__grid>div:first-child>div:nth-child(2){flex-basis:0;flex-grow:1;overflow:auto}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox .tox-advtemplate .tox-form__grid>div:first-child{width:100%}}.tox .tox-advtemplate iframe{border-color:#eee;border-radius:10px;border-style:solid;border-width:1px;margin:0 10px}.tox .tox-anchorbar{display:flex;flex:0 0 auto}.tox .tox-bottom-anchorbar{display:flex;flex:0 0 auto}.tox .tox-bar{display:flex;flex:0 0 auto}.tox .tox-button{background-color:#006ce7;background-image:none;background-position:0 0;background-repeat:repeat;border-color:#006ce7;border-radius:6px;border-style:solid;border-width:1px;box-shadow:none;box-sizing:border-box;color:#fff;cursor:pointer;display:inline-block;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:14px;font-style:normal;font-weight:700;letter-spacing:normal;line-height:24px;margin:0;outline:0;padding:4px 16px;position:relative;text-align:center;-webkit-text-decoration:none;text-decoration:none;text-transform:none;white-space:nowrap}.tox .tox-button::before{border-radius:6px;bottom:-1px;box-shadow:inset 0 0 0 1px #fff,0 0 0 2px #006ce7;content:'';left:-1px;opacity:0;pointer-events:none;position:absolute;right:-1px;top:-1px}.tox .tox-button[disabled]{background-color:#006ce7;background-image:none;border-color:#006ce7;box-shadow:none;color:rgba(255,255,255,.5);cursor:not-allowed}.tox .tox-button:focus:not(:disabled){background-color:#0060ce;background-image:none;border-color:#0060ce;box-shadow:none;color:#fff}.tox .tox-button:focus:not(:disabled)::before{opacity:1}.tox .tox-button:hover:not(:disabled){background-color:#0060ce;background-image:none;border-color:#0060ce;box-shadow:none;color:#fff}.tox .tox-button:active:not(:disabled){background-color:#0054b4;background-image:none;border-color:#0054b4;box-shadow:none;color:#fff}.tox .tox-button.tox-button--enabled{background-color:#0054b4;background-image:none;border-color:#0054b4;box-shadow:none;color:#fff}.tox .tox-button.tox-button--enabled[disabled]{background-color:#0054b4;background-image:none;border-color:#0054b4;box-shadow:none;color:rgba(255,255,255,.5);cursor:not-allowed}.tox .tox-button.tox-button--enabled:focus:not(:disabled){background-color:#00489b;background-image:none;border-color:#00489b;box-shadow:none;color:#fff}.tox .tox-button.tox-button--enabled:hover:not(:disabled){background-color:#00489b;background-image:none;border-color:#00489b;box-shadow:none;color:#fff}.tox .tox-button.tox-button--enabled:active:not(:disabled){background-color:#003c81;background-image:none;border-color:#003c81;box-shadow:none;color:#fff}.tox .tox-button--icon-and-text,.tox .tox-button.tox-button--icon-and-text,.tox .tox-button.tox-button--secondary.tox-button--icon-and-text{display:flex;padding:5px 4px}.tox .tox-button--icon-and-text .tox-icon svg,.tox .tox-button.tox-button--icon-and-text .tox-icon svg,.tox .tox-button.tox-button--secondary.tox-button--icon-and-text .tox-icon svg{display:block;fill:currentColor}.tox .tox-button--secondary{background-color:#f0f0f0;background-image:none;background-position:0 0;background-repeat:repeat;border-color:#f0f0f0;border-radius:6px;border-style:solid;border-width:1px;box-shadow:none;color:#222f3e;font-size:14px;font-style:normal;font-weight:700;letter-spacing:normal;outline:0;padding:4px 16px;-webkit-text-decoration:none;text-decoration:none;text-transform:none}.tox .tox-button--secondary[disabled]{background-color:#f0f0f0;background-image:none;border-color:#f0f0f0;box-shadow:none;color:rgba(34,47,62,.5)}.tox .tox-button--secondary:focus:not(:disabled){background-color:#e3e3e3;background-image:none;border-color:#e3e3e3;box-shadow:none;color:#222f3e}.tox .tox-button--secondary:hover:not(:disabled){background-color:#e3e3e3;background-image:none;border-color:#e3e3e3;box-shadow:none;color:#222f3e}.tox .tox-button--secondary:active:not(:disabled){background-color:#d6d6d6;background-image:none;border-color:#d6d6d6;box-shadow:none;color:#222f3e}.tox .tox-button--secondary.tox-button--enabled{background-color:#a8c8ed;background-image:none;border-color:#a8c8ed;box-shadow:none;color:#222f3e}.tox .tox-button--secondary.tox-button--enabled[disabled]{background-color:#a8c8ed;background-image:none;border-color:#a8c8ed;box-shadow:none;color:rgba(34,47,62,.5)}.tox .tox-button--secondary.tox-button--enabled:focus:not(:disabled){background-color:#93bbe9;background-image:none;border-color:#93bbe9;box-shadow:none;color:#222f3e}.tox .tox-button--secondary.tox-button--enabled:hover:not(:disabled){background-color:#93bbe9;background-image:none;border-color:#93bbe9;box-shadow:none;color:#222f3e}.tox .tox-button--secondary.tox-button--enabled:active:not(:disabled){background-color:#7daee4;background-image:none;border-color:#7daee4;box-shadow:none;color:#222f3e}.tox .tox-button--icon,.tox .tox-button.tox-button--icon,.tox .tox-button.tox-button--secondary.tox-button--icon{padding:4px}.tox .tox-button--icon .tox-icon svg,.tox .tox-button.tox-button--icon .tox-icon svg,.tox .tox-button.tox-button--secondary.tox-button--icon .tox-icon svg{display:block;fill:currentColor}.tox .tox-button-link{background:0;border:none;box-sizing:border-box;cursor:pointer;display:inline-block;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:16px;font-weight:400;line-height:1.3;margin:0;padding:0;white-space:nowrap}.tox .tox-button-link--sm{font-size:14px}.tox .tox-button--naked{background-color:transparent;border-color:transparent;box-shadow:unset;color:#222f3e}.tox .tox-button--naked[disabled]{background-color:rgba(34,47,62,.12);border-color:transparent;box-shadow:unset;color:rgba(34,47,62,.5)}.tox .tox-button--naked:hover:not(:disabled){background-color:rgba(34,47,62,.12);border-color:transparent;box-shadow:unset;color:#222f3e}.tox .tox-button--naked:focus:not(:disabled){background-color:rgba(34,47,62,.12);border-color:transparent;box-shadow:unset;color:#222f3e}.tox .tox-button--naked:active:not(:disabled){background-color:rgba(34,47,62,.18);border-color:transparent;box-shadow:unset;color:#222f3e}.tox .tox-button--naked .tox-icon svg{fill:currentColor}.tox .tox-button--naked.tox-button--icon:hover:not(:disabled){color:#222f3e}.tox .tox-checkbox{align-items:center;border-radius:6px;cursor:pointer;display:flex;height:36px;min-width:36px}.tox .tox-checkbox__input{height:1px;overflow:hidden;position:absolute;top:auto;width:1px}.tox .tox-checkbox__icons{align-items:center;border-radius:6px;box-shadow:0 0 0 2px transparent;box-sizing:content-box;display:flex;height:24px;justify-content:center;padding:calc(4px - 1px);width:24px}.tox .tox-checkbox__icons .tox-checkbox-icon__unchecked svg{display:block;fill:rgba(34,47,62,0.3)}@media (forced-colors:active){.tox .tox-checkbox__icons .tox-checkbox-icon__unchecked svg{fill:currentColor!important}}.tox .tox-checkbox__icons .tox-checkbox-icon__indeterminate svg{display:none;fill:#006ce7}.tox .tox-checkbox__icons .tox-checkbox-icon__checked svg{display:none;fill:#006ce7}.tox .tox-checkbox--disabled{color:rgba(34,47,62,.5);cursor:not-allowed}.tox .tox-checkbox--disabled .tox-checkbox__icons .tox-checkbox-icon__checked svg{fill:rgba(34,47,62,0.5)}.tox .tox-checkbox--disabled .tox-checkbox__icons .tox-checkbox-icon__unchecked svg{fill:rgba(34,47,62,0.5)}.tox .tox-checkbox--disabled .tox-checkbox__icons .tox-checkbox-icon__indeterminate svg{fill:rgba(34,47,62,0.5)}.tox input.tox-checkbox__input:checked+.tox-checkbox__icons .tox-checkbox-icon__unchecked svg{display:none}.tox input.tox-checkbox__input:checked+.tox-checkbox__icons .tox-checkbox-icon__checked svg{display:block}.tox input.tox-checkbox__input:indeterminate+.tox-checkbox__icons .tox-checkbox-icon__unchecked svg{display:none}.tox input.tox-checkbox__input:indeterminate+.tox-checkbox__icons .tox-checkbox-icon__indeterminate svg{display:block}.tox input.tox-checkbox__input:focus+.tox-checkbox__icons{border-radius:6px;box-shadow:inset 0 0 0 1px #006ce7;padding:calc(4px - 1px)}.tox:not([dir=rtl]) .tox-checkbox__label{margin-left:4px}.tox:not([dir=rtl]) .tox-checkbox__input{left:-10000px}.tox:not([dir=rtl]) .tox-bar .tox-checkbox{margin-left:4px}.tox[dir=rtl] .tox-checkbox__label{margin-right:4px}.tox[dir=rtl] .tox-checkbox__input{right:-10000px}.tox[dir=rtl] .tox-bar .tox-checkbox{margin-right:4px}.tox .tox-collection--toolbar .tox-collection__group{display:flex;padding:0}.tox .tox-collection--grid .tox-collection__group{display:flex;flex-wrap:wrap;max-height:208px;overflow-x:hidden;overflow-y:auto;padding:0}.tox .tox-collection--list .tox-collection__group{border-bottom-width:0;border-color:#e3e3e3;border-left-width:0;border-right-width:0;border-style:solid;border-top-width:1px;padding:4px 0}.tox .tox-collection--list .tox-collection__group:first-child{border-top-width:0}.tox .tox-collection__group-heading{background-color:#fcfcfc;color:rgba(34,47,62,.7);cursor:default;font-size:12px;font-style:normal;font-weight:400;margin-bottom:4px;margin-top:-4px;padding:4px 8px;text-transform:none;-webkit-touch-callout:none;-webkit-user-select:none;user-select:none}.tox .tox-collection__item{align-items:center;border-radius:3px;color:#222f3e;display:flex;-webkit-touch-callout:none;-webkit-user-select:none;user-select:none}.tox .tox-collection--list .tox-collection__item{padding:4px 8px}.tox .tox-collection--toolbar .tox-collection__item{border-radius:3px;padding:4px}.tox .tox-collection--grid .tox-collection__item{border-radius:3px;padding:4px}.tox .tox-collection--list .tox-collection__item--enabled{background-color:#fff;color:#222f3e}.tox .tox-collection--list .tox-collection__item--active{background-color:#006ce7}.tox .tox-collection--toolbar .tox-collection__item--enabled,.tox .tox-collection--toolbar .tox-collection__item--enabled.tox-collection__item--active,.tox .tox-collection--toolbar .tox-collection__item--enabled.tox-collection__item--active:hover{background-color:#a6ccf7;color:#222f3e}@media (forced-colors:active){.tox .tox-collection--toolbar .tox-collection__item--enabled,.tox .tox-collection--toolbar .tox-collection__item--enabled.tox-collection__item--active,.tox .tox-collection--toolbar .tox-collection__item--enabled.tox-collection__item--active:hover{border-radius:3px;outline:solid 1px}}.tox .tox-collection--toolbar .tox-collection__item--active{background-color:#fff;position:relative}.tox .tox-collection--toolbar .tox-collection__item--active:hover{background-color:#f0f0f0;color:#222f3e}.tox .tox-collection--toolbar .tox-collection__item--active:focus{background-color:#f0f0f0;color:#222f3e}.tox .tox-collection--toolbar .tox-collection__item--active:focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-collection--toolbar .tox-collection__item--active:focus::after{border:2px solid highlight}}.tox .tox-collection--grid .tox-collection__item--enabled{background-color:#a6ccf7;color:#222f3e}.tox .tox-collection--grid .tox-collection__item--active:not(.tox-collection__item--state-disabled){background-color:#f0f0f0;color:#222f3e;position:relative;z-index:1}.tox .tox-collection--grid .tox-collection__item--active:not(.tox-collection__item--state-disabled):focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7 inset;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-collection--grid .tox-collection__item--active:not(.tox-collection__item--state-disabled):focus::after{border:2px solid highlight}}.tox .tox-collection--list .tox-collection__item--active:not(.tox-collection__item--state-disabled){color:#fff}@media (forced-colors:active){.tox .tox-collection--list .tox-collection__item--active:not(.tox-collection__item--state-disabled){border:solid 1px}}.tox .tox-collection--toolbar .tox-collection__item--active:not(.tox-collection__item--state-disabled){color:#222f3e}@media (forced-colors:active){.tox .tox-collection--toolbar .tox-collection__item--active:not(.tox-collection__item--state-disabled):hover{border-radius:3px;outline:solid 1px}}.tox .tox-collection__item-checkmark,.tox .tox-collection__item-icon{align-items:center;display:flex;height:24px;justify-content:center;width:24px}.tox .tox-collection__item-checkmark svg,.tox .tox-collection__item-icon svg{fill:currentColor}.tox .tox-collection--toolbar-lg .tox-collection__item-icon{height:48px;width:48px}.tox .tox-collection__item-label{color:currentColor;display:inline-block;flex:1;font-size:14px;font-style:normal;font-weight:400;line-height:24px;max-width:100%;text-transform:none;word-break:break-all}.tox .tox-collection__item-accessory{color:currentColor;display:inline-block;font-size:14px;height:24px;line-height:24px;text-transform:none}.tox .tox-collection__item-caret{align-items:center;display:flex;min-height:24px}.tox .tox-collection__item-caret::after{content:'';font-size:0;min-height:inherit}.tox .tox-collection__item-caret svg{fill:currentColor}.tox .tox-collection__item--state-disabled{background-color:transparent;color:rgba(34,47,62,.5);cursor:not-allowed}.tox .tox-collection__item--state-disabled .tox-collection__item-caret svg{fill:rgba(34,47,62,0.5)}.tox .tox-collection--list .tox-collection__item:not(.tox-collection__item--enabled) .tox-collection__item-checkmark svg{display:none}.tox .tox-collection--list .tox-collection__item:not(.tox-collection__item--enabled) .tox-collection__item-accessory+.tox-collection__item-checkmark{display:none}.tox .tox-collection--horizontal{background-color:#fff;border:1px solid #e3e3e3;border-radius:6px;box-shadow:0 0 2px 0 rgba(34,47,62,.2),0 4px 8px 0 rgba(34,47,62,.15);display:flex;flex:0 0 auto;flex-shrink:0;flex-wrap:nowrap;margin-bottom:0;overflow-x:auto;padding:0}.tox .tox-collection--horizontal .tox-collection__group{align-items:center;display:flex;flex-wrap:nowrap;margin:0;padding:0 4px}.tox .tox-collection--horizontal .tox-collection__item{height:28px;margin:6px 1px 5px 0;padding:0 4px}.tox .tox-collection--horizontal .tox-collection__item-label{white-space:nowrap}.tox .tox-collection--horizontal .tox-collection__item-caret{margin-left:4px}.tox .tox-collection__item-container{display:flex}.tox .tox-collection__item-container--row{align-items:center;flex:1 1 auto;flex-direction:row}.tox .tox-collection__item-container--row.tox-collection__item-container--align-left{margin-right:auto}.tox .tox-collection__item-container--row.tox-collection__item-container--align-right{justify-content:flex-end;margin-left:auto}.tox .tox-collection__item-container--row.tox-collection__item-container--valign-top{align-items:flex-start;margin-bottom:auto}.tox .tox-collection__item-container--row.tox-collection__item-container--valign-middle{align-items:center}.tox .tox-collection__item-container--row.tox-collection__item-container--valign-bottom{align-items:flex-end;margin-top:auto}.tox .tox-collection__item-container--column{align-self:center;flex:1 1 auto;flex-direction:column}.tox .tox-collection__item-container--column.tox-collection__item-container--align-left{align-items:flex-start}.tox .tox-collection__item-container--column.tox-collection__item-container--align-right{align-items:flex-end}.tox .tox-collection__item-container--column.tox-collection__item-container--valign-top{align-self:flex-start}.tox .tox-collection__item-container--column.tox-collection__item-container--valign-middle{align-self:center}.tox .tox-collection__item-container--column.tox-collection__item-container--valign-bottom{align-self:flex-end}.tox:not([dir=rtl]) .tox-collection--horizontal .tox-collection__group:not(:last-of-type){border-right:1px solid transparent}.tox:not([dir=rtl]) .tox-collection--list .tox-collection__item>:not(:first-child){margin-left:8px}.tox:not([dir=rtl]) .tox-collection--list .tox-collection__item>.tox-collection__item-label:first-child{margin-left:4px}.tox:not([dir=rtl]) .tox-collection__item-accessory{margin-left:16px;text-align:right}.tox:not([dir=rtl]) .tox-collection .tox-collection__item-caret{margin-left:16px}.tox[dir=rtl] .tox-collection--horizontal .tox-collection__group:not(:last-of-type){border-left:1px solid transparent}.tox[dir=rtl] .tox-collection--list .tox-collection__item>:not(:first-child){margin-right:8px}.tox[dir=rtl] .tox-collection--list .tox-collection__item>.tox-collection__item-label:first-child{margin-right:4px}.tox[dir=rtl] .tox-collection__item-accessory{margin-right:16px;text-align:left}.tox[dir=rtl] .tox-collection .tox-collection__item-caret{margin-right:16px;transform:rotateY(180deg)}.tox[dir=rtl] .tox-collection--horizontal .tox-collection__item-caret{margin-right:4px}@media (forced-colors:active){.tox .tox-hue-slider,.tox .tox-rgb-form .tox-rgba-preview{background-color:currentColor!important;border:1px solid highlight!important;forced-color-adjust:none}}.tox .tox-color-picker-container{display:flex;flex-direction:row;height:225px;margin:0}.tox .tox-sv-palette{box-sizing:border-box;display:flex;height:100%}.tox .tox-sv-palette-spectrum{height:100%}.tox .tox-sv-palette,.tox .tox-sv-palette-spectrum{width:225px}.tox .tox-sv-palette-thumb{background:0 0;border:1px solid #000;border-radius:50%;box-sizing:content-box;height:12px;position:absolute;width:12px}.tox .tox-sv-palette-inner-thumb{border:1px solid #fff;border-radius:50%;height:10px;position:absolute;width:10px}.tox .tox-hue-slider{box-sizing:border-box;height:100%;width:25px}.tox .tox-hue-slider-spectrum{background:linear-gradient(to bottom,red,#ff0080,#f0f,#8000ff,#00f,#0080ff,#0ff,#00ff80,#0f0,#80ff00,#ff0,#ff8000,red);height:100%;width:100%}.tox .tox-hue-slider,.tox .tox-hue-slider-spectrum{width:20px}.tox .tox-hue-slider-spectrum:focus,.tox .tox-sv-palette-spectrum:focus{outline:#08f solid}.tox .tox-hue-slider-thumb{background:#fff;border:1px solid #000;box-sizing:content-box;height:4px;width:100%}.tox .tox-rgb-form{display:flex;flex-direction:column;justify-content:space-between}.tox .tox-rgb-form div{align-items:center;display:flex;justify-content:space-between;margin-bottom:5px;width:inherit}.tox .tox-rgb-form input{min-width:6em}.tox .tox-rgb-form input.tox-invalid{border:1px solid red!important;box-shadow:0 0 0 1px red}.tox .tox-rgb-container{position:relative}.tox .tox-rgb-form .tox-invalid-icon{align-content:center;align-items:center;display:none;height:100%;position:absolute;right:0;top:0}.tox .tox-rgb-form .tox-invalid-icon .tox-control-wrap__status-icon-invalid{margin:0}.tox .tox-rgb-warning-note{background-color:#f5cccc;border:1px solid #f0b3b3;border-radius:3px;color:#77181f;padding:3px}.tox input.tox-invalid+.tox-invalid-icon{display:flex}.tox .tox-rgb-form .tox-rgba-preview{border:1px solid #000;flex-grow:2;margin-bottom:0}.tox:not([dir=rtl]) .tox-sv-palette{margin-right:15px}.tox:not([dir=rtl]) .tox-hue-slider{margin-right:15px}.tox:not([dir=rtl]) .tox-hue-slider-thumb{margin-left:-1px}.tox:not([dir=rtl]) .tox-rgb-form label{margin-right:.5em}.tox[dir=rtl] .tox-sv-palette{margin-left:15px}.tox[dir=rtl] .tox-hue-slider{margin-left:15px}.tox[dir=rtl] .tox-hue-slider-thumb{margin-right:-1px}.tox[dir=rtl] .tox-rgb-form label{margin-left:.5em}.tox .tox-toolbar .tox-swatches,.tox .tox-toolbar__overflow .tox-swatches,.tox .tox-toolbar__primary .tox-swatches{margin:5px 0 6px 11px}.tox .tox-collection--list .tox-collection__group .tox-swatches-menu{border:0;margin:-4px -4px}.tox .tox-swatches__row{display:flex}@media (forced-colors:active){.tox .tox-swatches__row{forced-color-adjust:none}}.tox .tox-swatch{height:30px;transition:transform .15s,box-shadow .15s;width:30px}.tox .tox-swatch:focus,.tox .tox-swatch:hover{box-shadow:0 0 0 1px rgba(127,127,127,.3) inset;transform:scale(.8)}.tox .tox-swatch--remove{align-items:center;display:flex;justify-content:center}.tox .tox-swatch--remove svg path{stroke:#e74c3c}.tox .tox-swatches__picker-btn{align-items:center;background-color:transparent;border:0;cursor:pointer;display:flex;height:30px;justify-content:center;outline:0;padding:0;width:30px}.tox .tox-swatches__picker-btn svg{fill:#222f3e;height:24px;width:24px}.tox .tox-swatches__picker-btn:hover{background:#f0f0f0}.tox div.tox-swatch:not(.tox-swatch--remove) svg{display:none;fill:#222f3e;height:24px;margin:calc((30px - 24px)/ 2) calc((30px - 24px)/ 2);width:24px}.tox div.tox-swatch:not(.tox-swatch--remove) svg path{fill:#fff;paint-order:stroke;stroke:#222f3e;stroke-width:2px}.tox div.tox-swatch:not(.tox-swatch--remove).tox-collection__item--enabled svg{display:block}.tox:not([dir=rtl]) .tox-swatches__picker-btn{margin-left:auto}.tox[dir=rtl] .tox-swatches__picker-btn{margin-right:auto}.tox .tox-comment-thread{background:#fff;position:relative}.tox .tox-comment-thread>:not(:first-child){margin-top:8px}.tox .tox-comment{background:#fff;border:1px solid #eee;border-radius:6px;box-shadow:0 4px 8px 0 rgba(34,47,62,.1);padding:8px 8px 16px 8px;position:relative}.tox .tox-comment__header{align-items:center;color:#222f3e;display:flex;justify-content:space-between}.tox .tox-comment__date{color:#222f3e;font-size:12px;line-height:18px}.tox .tox-comment__body{color:#222f3e;font-size:14px;font-style:normal;font-weight:400;line-height:1.3;margin-top:8px;position:relative;text-transform:initial}.tox .tox-comment__body textarea{resize:none;white-space:normal;width:100%}.tox .tox-comment__expander{padding-top:8px}.tox .tox-comment__expander p{color:rgba(34,47,62,.7);font-size:14px;font-style:normal}.tox .tox-comment__body p{margin:0}.tox .tox-comment__buttonspacing{padding-top:16px;text-align:center}.tox .tox-comment-thread__overlay::after{background:#fff;bottom:0;content:"";display:flex;left:0;opacity:.9;position:absolute;right:0;top:0;z-index:5}.tox .tox-comment__reply{display:flex;flex-shrink:0;flex-wrap:wrap;justify-content:flex-end;margin-top:8px}.tox .tox-comment__reply>:first-child{margin-bottom:8px;width:100%}.tox .tox-comment__edit{display:flex;flex-wrap:wrap;justify-content:flex-end;margin-top:16px}.tox .tox-comment__gradient::after{background:linear-gradient(rgba(255,255,255,0),#fff);bottom:0;content:"";display:block;height:5em;margin-top:-40px;position:absolute;width:100%}.tox .tox-comment__overlay{background:#fff;bottom:0;display:flex;flex-direction:column;flex-grow:1;left:0;opacity:.9;position:absolute;right:0;text-align:center;top:0;z-index:5}.tox .tox-comment__loading-text{align-items:center;color:#222f3e;display:flex;flex-direction:column;position:relative}.tox .tox-comment__loading-text>div{padding-bottom:16px}.tox .tox-comment__overlaytext{bottom:0;flex-direction:column;font-size:14px;left:0;padding:1em;position:absolute;right:0;top:0;z-index:10}.tox .tox-comment__overlaytext p{background-color:#fff;box-shadow:0 0 8px 8px #fff;color:#222f3e;text-align:center}.tox .tox-comment__overlaytext div:nth-of-type(2){font-size:.8em}.tox .tox-comment__busy-spinner{align-items:center;background-color:#fff;bottom:0;display:flex;justify-content:center;left:0;position:absolute;right:0;top:0;z-index:20}.tox .tox-comment__scroll{display:flex;flex-direction:column;flex-shrink:1;overflow:auto}.tox .tox-conversations{margin:8px}.tox:not([dir=rtl]) .tox-comment__edit{margin-left:8px}.tox:not([dir=rtl]) .tox-comment__buttonspacing>:last-child,.tox:not([dir=rtl]) .tox-comment__edit>:last-child,.tox:not([dir=rtl]) .tox-comment__reply>:last-child{margin-left:8px}.tox[dir=rtl] .tox-comment__edit{margin-right:8px}.tox[dir=rtl] .tox-comment__buttonspacing>:last-child,.tox[dir=rtl] .tox-comment__edit>:last-child,.tox[dir=rtl] .tox-comment__reply>:last-child{margin-right:8px}.tox .tox-user{align-items:center;display:flex}.tox .tox-user__avatar svg{fill:rgba(34,47,62,0.7)}.tox .tox-user__avatar img{border-radius:50%;height:36px;object-fit:cover;vertical-align:middle;width:36px}.tox .tox-user__name{color:#222f3e;font-size:14px;font-style:normal;font-weight:700;line-height:18px;text-transform:none}.tox:not([dir=rtl]) .tox-user__avatar img,.tox:not([dir=rtl]) .tox-user__avatar svg{margin-right:8px}.tox:not([dir=rtl]) .tox-user__avatar+.tox-user__name{margin-left:8px}.tox[dir=rtl] .tox-user__avatar img,.tox[dir=rtl] .tox-user__avatar svg{margin-left:8px}.tox[dir=rtl] .tox-user__avatar+.tox-user__name{margin-right:8px}.tox .tox-dialog-wrap{align-items:center;bottom:0;display:flex;justify-content:center;left:0;position:fixed;right:0;top:0;z-index:1100}.tox .tox-dialog-wrap__backdrop{background-color:rgba(255,255,255,.75);bottom:0;left:0;position:absolute;right:0;top:0;z-index:1}.tox .tox-dialog-wrap__backdrop--opaque{background-color:#fff}.tox .tox-dialog{background-color:#fff;border-color:#eee;border-radius:10px;border-style:solid;border-width:0;box-shadow:0 16px 16px -10px rgba(34,47,62,.15),0 0 40px 1px rgba(34,47,62,.15);display:flex;flex-direction:column;max-height:100%;max-width:480px;overflow:hidden;position:relative;width:95vw;z-index:2}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox .tox-dialog{align-self:flex-start;margin:8px auto;max-height:calc(100vh - 8px * 2);width:calc(100vw - 16px)}}.tox .tox-dialog-inline{z-index:1100}.tox .tox-dialog__header{align-items:center;background-color:#fff;border-bottom:none;color:#222f3e;display:flex;font-size:16px;justify-content:space-between;padding:8px 16px 0 16px;position:relative}.tox .tox-dialog__header .tox-button{z-index:1}.tox .tox-dialog__draghandle{cursor:grab;height:100%;left:0;position:absolute;top:0;width:100%}.tox .tox-dialog__draghandle:active{cursor:grabbing}.tox .tox-dialog__dismiss{margin-left:auto}.tox .tox-dialog__title{font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:20px;font-style:normal;font-weight:400;line-height:1.3;margin:0;text-transform:none}.tox .tox-dialog__body{color:#222f3e;display:flex;flex:1;font-size:16px;font-style:normal;font-weight:400;line-height:1.3;min-width:0;text-align:left;text-transform:none}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox .tox-dialog__body{flex-direction:column}}.tox .tox-dialog__body-nav{align-items:flex-start;display:flex;flex-direction:column;flex-shrink:0;padding:16px 16px}@media only screen and (min-width:768px){.tox .tox-dialog__body-nav{max-width:11em}}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox .tox-dialog__body-nav{flex-direction:row;-webkit-overflow-scrolling:touch;overflow-x:auto;padding-bottom:0}}.tox .tox-dialog__body-nav-item{border-bottom:2px solid transparent;color:rgba(34,47,62,.7);display:inline-block;flex-shrink:0;font-size:14px;line-height:1.3;margin-bottom:8px;max-width:13em;-webkit-text-decoration:none;text-decoration:none}.tox .tox-dialog__body-nav-item:focus{background-color:rgba(0,108,231,.1)}.tox .tox-dialog__body-nav-item--active{border-bottom:2px solid #006ce7;color:#006ce7}@media (forced-colors:active){.tox .tox-dialog__body-nav-item--active{border-bottom:2px solid highlight;color:highlight}}.tox .tox-dialog__body-content{box-sizing:border-box;display:flex;flex:1;flex-direction:column;max-height:min(650px,calc(100vh - 110px));overflow:auto;-webkit-overflow-scrolling:touch;padding:16px 16px}.tox .tox-dialog__body-content>*{margin-bottom:0;margin-top:16px}.tox .tox-dialog__body-content>:first-child{margin-top:0}.tox .tox-dialog__body-content>:last-child{margin-bottom:0}.tox .tox-dialog__body-content>:only-child{margin-bottom:0;margin-top:0}.tox .tox-dialog__body-content a{color:#006ce7;cursor:pointer;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-dialog__body-content a:focus,.tox .tox-dialog__body-content a:hover{color:#003c81;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-dialog__body-content a:focus-visible{border-radius:1px;outline:2px solid #006ce7;outline-offset:2px}.tox .tox-dialog__body-content a:active{color:#00244e;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-dialog__body-content svg{fill:#222f3e}.tox .tox-dialog__body-content strong{font-weight:700}.tox .tox-dialog__body-content ul{list-style-type:disc}.tox .tox-dialog__body-content dd,.tox .tox-dialog__body-content ol,.tox .tox-dialog__body-content ul{padding-inline-start:2.5rem}.tox .tox-dialog__body-content dl,.tox .tox-dialog__body-content ol,.tox .tox-dialog__body-content ul{margin-bottom:16px}.tox .tox-dialog__body-content dd,.tox .tox-dialog__body-content dl,.tox .tox-dialog__body-content dt,.tox .tox-dialog__body-content ol,.tox .tox-dialog__body-content ul{display:block;margin-inline-end:0;margin-inline-start:0}.tox .tox-dialog__body-content .tox-form__group h1{color:#222f3e;font-size:20px;font-style:normal;font-weight:700;letter-spacing:normal;margin-bottom:16px;margin-top:2rem;text-transform:none}.tox .tox-dialog__body-content .tox-form__group h2{color:#222f3e;font-size:16px;font-style:normal;font-weight:700;letter-spacing:normal;margin-bottom:16px;margin-top:2rem;text-transform:none}.tox .tox-dialog__body-content .tox-form__group p{margin-bottom:16px}.tox .tox-dialog__body-content .tox-form__group h1:first-child,.tox .tox-dialog__body-content .tox-form__group h2:first-child,.tox .tox-dialog__body-content .tox-form__group p:first-child{margin-top:0}.tox .tox-dialog__body-content .tox-form__group h1:last-child,.tox .tox-dialog__body-content .tox-form__group h2:last-child,.tox .tox-dialog__body-content .tox-form__group p:last-child{margin-bottom:0}.tox .tox-dialog__body-content .tox-form__group h1:only-child,.tox .tox-dialog__body-content .tox-form__group h2:only-child,.tox .tox-dialog__body-content .tox-form__group p:only-child{margin-bottom:0;margin-top:0}.tox .tox-dialog__body-content .tox-form__group .tox-label.tox-label--center{text-align:center}.tox .tox-dialog__body-content .tox-form__group .tox-label.tox-label--end{text-align:end}.tox .tox-dialog--width-lg{height:650px;max-width:1200px}.tox .tox-dialog--fullscreen{height:100%;max-width:100%}.tox .tox-dialog--fullscreen .tox-dialog__body-content{max-height:100%}.tox .tox-dialog--width-md{max-width:800px}.tox .tox-dialog--width-md .tox-dialog__body-content{overflow:auto}.tox .tox-dialog__body-content--centered{text-align:center}.tox .tox-dialog__footer{align-items:center;background-color:#fff;border-top:none;display:flex;justify-content:space-between;padding:8px 16px}.tox .tox-dialog__footer-end,.tox .tox-dialog__footer-start{display:flex}.tox .tox-dialog__busy-spinner{align-items:center;background-color:rgba(255,255,255,.75);bottom:0;display:flex;justify-content:center;left:0;position:absolute;right:0;top:0;z-index:3}.tox .tox-dialog__table{border-collapse:collapse;width:100%}.tox .tox-dialog__table thead th{font-weight:700;padding-bottom:8px}.tox .tox-dialog__table thead th:first-child{padding-right:8px}.tox .tox-dialog__table tbody tr{border-bottom:1px solid #626262}.tox .tox-dialog__table tbody tr:last-child{border-bottom:none}.tox .tox-dialog__table td{padding-bottom:8px;padding-top:8px}.tox .tox-dialog__table td:first-child{padding-right:8px}.tox .tox-dialog__iframe{min-height:200px}.tox .tox-dialog__iframe.tox-dialog__iframe--opaque{background:#fff}.tox .tox-navobj-bordered{position:relative}.tox .tox-navobj-bordered::before{border:1px solid #eee;border-radius:6px;content:'';inset:0;opacity:1;pointer-events:none;position:absolute;z-index:1}.tox .tox-navobj-bordered iframe{border-radius:6px}.tox .tox-navobj-bordered-focus.tox-navobj-bordered::before{border-color:#006ce7;box-shadow:0 0 0 1px #006ce7;outline:0}.tox .tox-dialog__popups{position:absolute;width:100%;z-index:1100}.tox .tox-dialog__body-iframe{display:flex;flex:1;flex-direction:column}.tox .tox-dialog__body-iframe .tox-navobj{display:flex;flex:1}.tox .tox-dialog__body-iframe .tox-navobj :nth-child(2){flex:1;height:100%}.tox .tox-dialog-dock-fadeout{opacity:0;visibility:hidden}.tox .tox-dialog-dock-fadein{opacity:1;visibility:visible}.tox .tox-dialog-dock-transition{transition:visibility 0s linear .3s,opacity .3s ease}.tox .tox-dialog-dock-transition.tox-dialog-dock-fadein{transition-delay:0s}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox:not([dir=rtl]) .tox-dialog__body-nav{margin-right:0}}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox:not([dir=rtl]) .tox-dialog__body-nav-item:not(:first-child){margin-left:8px}}.tox:not([dir=rtl]) .tox-dialog__footer .tox-dialog__footer-end>*,.tox:not([dir=rtl]) .tox-dialog__footer .tox-dialog__footer-start>*{margin-left:8px}.tox[dir=rtl] .tox-dialog__body{text-align:right}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox[dir=rtl] .tox-dialog__body-nav{margin-left:0}}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox[dir=rtl] .tox-dialog__body-nav-item:not(:first-child){margin-right:8px}}.tox[dir=rtl] .tox-dialog__footer .tox-dialog__footer-end>*,.tox[dir=rtl] .tox-dialog__footer .tox-dialog__footer-start>*{margin-right:8px}body.tox-dialog__disable-scroll{overflow:hidden}.tox .tox-dropzone-container{display:flex;flex:1}.tox .tox-dropzone{align-items:center;background:#fff;border:2px dashed #eee;box-sizing:border-box;display:flex;flex-direction:column;flex-grow:1;justify-content:center;min-height:100px;padding:10px}.tox .tox-dropzone p{color:rgba(34,47,62,.7);margin:0 0 16px 0}.tox .tox-edit-area{display:flex;flex:1;overflow:hidden;position:relative}.tox .tox-edit-area::before{border:2px solid #006ce7;border-radius:4px;content:'';inset:0;opacity:0;pointer-events:none;position:absolute;transition:opacity .15s;z-index:1}@media (forced-colors:active){.tox .tox-edit-area::before{border:2px solid highlight}}.tox .tox-edit-area__iframe{background-color:#fff;border:0;box-sizing:border-box;flex:1;height:100%;position:absolute;width:100%}.tox.tox-edit-focus .tox-edit-area::before{opacity:1}.tox.tox-inline-edit-area{border:1px dotted #eee}.tox .tox-editor-container{display:flex;flex:1 1 auto;flex-direction:column;overflow:hidden}.tox .tox-editor-header{display:grid;grid-template-columns:1fr min-content;z-index:2}.tox:not(.tox-tinymce-inline) .tox-editor-header{background-color:#fff;border-bottom:none;box-shadow:0 2px 2px -2px rgba(34,47,62,.1),0 8px 8px -4px rgba(34,47,62,.07);padding:4px 0}.tox:not(.tox-tinymce-inline) .tox-editor-header:not(.tox-editor-dock-transition){transition:box-shadow .5s}.tox:not(.tox-tinymce-inline).tox-tinymce--toolbar-bottom .tox-editor-header{border-top:1px solid #e3e3e3;box-shadow:none}.tox:not(.tox-tinymce-inline).tox-tinymce--toolbar-sticky-on .tox-editor-header{background-color:#fff;box-shadow:0 2px 2px -2px rgba(34,47,62,.2),0 8px 8px -4px rgba(34,47,62,.15);padding:4px 0}.tox:not(.tox-tinymce-inline).tox-tinymce--toolbar-sticky-on.tox-tinymce--toolbar-bottom .tox-editor-header{box-shadow:0 2px 2px -2px rgba(34,47,62,.2),0 8px 8px -4px rgba(34,47,62,.15)}.tox.tox:not(.tox-tinymce-inline) .tox-editor-header.tox-editor-header--empty{background:0 0;border:none;box-shadow:none;padding:0}.tox-editor-dock-fadeout{opacity:0;visibility:hidden}.tox-editor-dock-fadein{opacity:1;visibility:visible}.tox-editor-dock-transition{transition:visibility 0s linear .25s,opacity .25s ease}.tox-editor-dock-transition.tox-editor-dock-fadein{transition-delay:0s}.tox .tox-control-wrap{flex:1;position:relative}.tox .tox-control-wrap:not(.tox-control-wrap--status-invalid) .tox-control-wrap__status-icon-invalid,.tox .tox-control-wrap:not(.tox-control-wrap--status-unknown) .tox-control-wrap__status-icon-unknown,.tox .tox-control-wrap:not(.tox-control-wrap--status-valid) .tox-control-wrap__status-icon-valid{display:none}.tox .tox-control-wrap svg{display:block}.tox .tox-control-wrap__status-icon-wrap{position:absolute;top:50%;transform:translateY(-50%)}.tox .tox-control-wrap__status-icon-invalid svg{fill:#c00}.tox .tox-control-wrap__status-icon-unknown svg{fill:orange}.tox .tox-control-wrap__status-icon-valid svg{fill:green}.tox:not([dir=rtl]) .tox-control-wrap--status-invalid .tox-textfield,.tox:not([dir=rtl]) .tox-control-wrap--status-unknown .tox-textfield,.tox:not([dir=rtl]) .tox-control-wrap--status-valid .tox-textfield{padding-right:32px}.tox:not([dir=rtl]) .tox-control-wrap__status-icon-wrap{right:4px}.tox[dir=rtl] .tox-control-wrap--status-invalid .tox-textfield,.tox[dir=rtl] .tox-control-wrap--status-unknown .tox-textfield,.tox[dir=rtl] .tox-control-wrap--status-valid .tox-textfield{padding-left:32px}.tox[dir=rtl] .tox-control-wrap__status-icon-wrap{left:4px}.tox .tox-custom-preview{border-color:#eee;border-radius:6px;border-style:solid;border-width:1px;flex:1;padding:8px}.tox .tox-autocompleter{max-width:25em}.tox .tox-autocompleter .tox-menu{box-sizing:border-box;max-width:25em}.tox .tox-autocompleter .tox-autocompleter-highlight{font-weight:700}.tox .tox-color-input{display:flex;position:relative;z-index:1}.tox .tox-color-input .tox-textfield{z-index:-1}.tox .tox-color-input span{border-color:rgba(34 47 3.1%);border-radius:6px;border-style:solid;border-width:1px;box-shadow:none;box-sizing:border-box;height:24px;position:absolute;top:6px;width:24px}@media (forced-colors:active){.tox .tox-color-input span{border-color:currentColor;border-width:2px!important;forced-color-adjust:none}}.tox .tox-color-input span:focus:not([aria-disabled=true]),.tox .tox-color-input span:hover:not([aria-disabled=true]){border-color:#006ce7;cursor:pointer}.tox .tox-color-input span::before{background-image:linear-gradient(45deg,rgba(0,0,0,.25) 25%,transparent 25%),linear-gradient(-45deg,rgba(0,0,0,.25) 25%,transparent 25%),linear-gradient(45deg,transparent 75%,rgba(0,0,0,.25) 75%),linear-gradient(-45deg,transparent 75%,rgba(0,0,0,.25) 75%);background-position:0 0,0 6px,6px -6px,-6px 0;background-size:12px 12px;border:1px solid #fff;border-radius:6px;box-sizing:border-box;content:'';height:24px;left:-1px;position:absolute;top:-1px;width:24px;z-index:-1}@media (forced-colors:active){.tox .tox-color-input span::before{border:none}}.tox .tox-color-input span[aria-disabled=true]{cursor:not-allowed}.tox:not([dir=rtl]) .tox-color-input .tox-textfield{padding-left:36px}.tox:not([dir=rtl]) .tox-color-input span{left:6px}.tox[dir=rtl] .tox-color-input .tox-textfield{padding-right:36px}.tox[dir=rtl] .tox-color-input span{right:6px}.tox .tox-label,.tox .tox-toolbar-label{color:rgba(34,47,62,.7);display:block;font-size:14px;font-style:normal;font-weight:400;line-height:1.3;padding:0 8px 0 0;text-transform:none;white-space:nowrap}.tox .tox-toolbar-label{padding:0 8px}.tox[dir=rtl] .tox-label{padding:0 0 0 8px}.tox .tox-form{display:flex;flex:1;flex-direction:column}.tox .tox-form__group{box-sizing:border-box;margin-bottom:4px}.tox .tox-form-group--maximize{flex:1}.tox .tox-form__group--error{color:#c00}.tox .tox-form__group--collection{display:flex}.tox .tox-form__grid{display:flex;flex-direction:row;flex-wrap:wrap;justify-content:space-between}.tox .tox-form__grid--2col>.tox-form__group{width:calc(50% - (8px / 2))}.tox .tox-form__grid--3col>.tox-form__group{width:calc(100% / 3 - (8px / 2))}.tox .tox-form__grid--4col>.tox-form__group{width:calc(25% - (8px / 2))}.tox .tox-form__controls-h-stack{align-items:center;display:flex}.tox .tox-form__group--inline{align-items:center;display:flex}.tox .tox-form__group--stretched{display:flex;flex:1;flex-direction:column}.tox .tox-form__group--stretched .tox-textarea{flex:1}.tox .tox-form__group--stretched .tox-navobj{display:flex;flex:1}.tox .tox-form__group--stretched .tox-navobj :nth-child(2){flex:1;height:100%}.tox:not([dir=rtl]) .tox-form__controls-h-stack>:not(:first-child){margin-left:4px}.tox[dir=rtl] .tox-form__controls-h-stack>:not(:first-child){margin-right:4px}.tox .tox-lock.tox-locked .tox-lock-icon__unlock,.tox .tox-lock:not(.tox-locked) .tox-lock-icon__lock{display:none}.tox .tox-listboxfield .tox-listbox--select,.tox .tox-textarea,.tox .tox-textarea-wrap .tox-textarea:focus,.tox .tox-textfield,.tox .tox-toolbar-textfield{appearance:none;background-color:#fff;border-color:#eee;border-radius:6px;border-style:solid;border-width:1px;box-shadow:none;box-sizing:border-box;color:#222f3e;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:16px;line-height:24px;margin:0;min-height:34px;outline:0;padding:5px 5.5px;resize:none;width:100%}.tox .tox-textarea[disabled],.tox .tox-textfield[disabled]{background-color:#f2f2f2;color:rgba(34,47,62,.85);cursor:not-allowed}.tox .tox-custom-editor:focus-within,.tox .tox-listboxfield .tox-listbox--select:focus,.tox .tox-textarea-wrap:focus-within,.tox .tox-textarea:focus,.tox .tox-textfield:focus{background-color:#fff;border-color:#006ce7;box-shadow:0 0 0 1px #006ce7;outline:0}.tox .tox-toolbar-textfield{border-width:0;margin-bottom:3px;margin-top:2px;max-width:250px}.tox .tox-naked-btn{background-color:transparent;border:0;border-color:transparent;box-shadow:unset;color:#006ce7;cursor:pointer;display:block;margin:0;padding:0}.tox .tox-naked-btn svg{display:block;fill:#222f3e}.tox:not([dir=rtl]) .tox-toolbar-textfield+*{margin-left:4px}.tox[dir=rtl] .tox-toolbar-textfield+*{margin-right:4px}.tox .tox-listboxfield{cursor:pointer;position:relative}.tox .tox-listboxfield .tox-listbox--select[disabled]{background-color:#f2f2f2;color:rgba(34,47,62,.85);cursor:not-allowed}.tox .tox-listbox__select-label{cursor:default;flex:1;margin:0 4px}.tox .tox-listbox__select-chevron{align-items:center;display:flex;justify-content:center;width:16px}.tox .tox-listbox__select-chevron svg{fill:#222f3e}@media (forced-colors:active){.tox .tox-listbox__select-chevron svg{fill:currentColor!important}}.tox .tox-listboxfield .tox-listbox--select{align-items:center;display:flex}.tox:not([dir=rtl]) .tox-listboxfield svg{right:8px}.tox[dir=rtl] .tox-listboxfield svg{left:8px}.tox .tox-selectfield{cursor:pointer;position:relative}.tox .tox-selectfield select{appearance:none;background-color:#fff;border-color:#eee;border-radius:6px;border-style:solid;border-width:1px;box-shadow:none;box-sizing:border-box;color:#222f3e;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:16px;line-height:24px;margin:0;min-height:34px;outline:0;padding:5px 5.5px;resize:none;width:100%}.tox .tox-selectfield select[disabled]{background-color:#f2f2f2;color:rgba(34,47,62,.85);cursor:not-allowed}.tox .tox-selectfield select::-ms-expand{display:none}.tox .tox-selectfield select:focus{background-color:#fff;border-color:#006ce7;box-shadow:0 0 0 1px #006ce7;outline:0}.tox .tox-selectfield svg{pointer-events:none;position:absolute;top:50%;transform:translateY(-50%)}.tox:not([dir=rtl]) .tox-selectfield select[size="0"],.tox:not([dir=rtl]) .tox-selectfield select[size="1"]{padding-right:24px}.tox:not([dir=rtl]) .tox-selectfield svg{right:8px}.tox[dir=rtl] .tox-selectfield select[size="0"],.tox[dir=rtl] .tox-selectfield select[size="1"]{padding-left:24px}.tox[dir=rtl] .tox-selectfield svg{left:8px}.tox .tox-textarea-wrap{border-color:#eee;border-radius:6px;border-style:solid;border-width:1px;display:flex;flex:1;overflow:hidden}.tox .tox-textarea{appearance:textarea;white-space:pre-wrap}.tox .tox-textarea-wrap .tox-textarea{border:none}.tox .tox-textarea-wrap .tox-textarea:focus{border:none}.tox-fullscreen{border:0;height:100%;margin:0;overflow:hidden;overscroll-behavior:none;padding:0;touch-action:pinch-zoom;width:100%}.tox.tox-tinymce.tox-fullscreen .tox-statusbar__resize-handle{display:none}.tox-shadowhost.tox-fullscreen,.tox.tox-tinymce.tox-fullscreen{left:0;position:fixed;top:0;z-index:1200}.tox.tox-tinymce.tox-fullscreen{background-color:transparent}.tox-fullscreen .tox.tox-tinymce-aux,.tox-fullscreen~.tox.tox-tinymce-aux{z-index:1201}.tox .tox-help__more-link{list-style:none;margin-top:1em}.tox .tox-imagepreview{background-color:#666;height:380px;overflow:hidden;position:relative;width:100%}.tox .tox-imagepreview.tox-imagepreview__loaded{overflow:auto}.tox .tox-imagepreview__container{display:flex;left:100vw;position:absolute;top:100vw}.tox .tox-imagepreview__image{background:url(data:image/gif;base64,R0lGODdhDAAMAIABAMzMzP///ywAAAAADAAMAAACFoQfqYeabNyDMkBQb81Uat85nxguUAEAOw==)}.tox .tox-image-tools .tox-spacer{flex:1}.tox .tox-image-tools .tox-bar{align-items:center;display:flex;height:60px;justify-content:center}.tox .tox-image-tools .tox-imagepreview,.tox .tox-image-tools .tox-imagepreview+.tox-bar{margin-top:8px}.tox .tox-image-tools .tox-croprect-block{background:#000;opacity:.5;position:absolute;zoom:1}.tox .tox-image-tools .tox-croprect-handle{border:2px solid #fff;height:20px;left:0;position:absolute;top:0;width:20px}.tox .tox-image-tools .tox-croprect-handle-move{border:0;cursor:move;position:absolute}.tox .tox-image-tools .tox-croprect-handle-nw{border-width:2px 0 0 2px;cursor:nw-resize;left:100px;margin:-2px 0 0 -2px;top:100px}.tox .tox-image-tools .tox-croprect-handle-ne{border-width:2px 2px 0 0;cursor:ne-resize;left:200px;margin:-2px 0 0 -20px;top:100px}.tox .tox-image-tools .tox-croprect-handle-sw{border-width:0 0 2px 2px;cursor:sw-resize;left:100px;margin:-20px 2px 0 -2px;top:200px}.tox .tox-image-tools .tox-croprect-handle-se{border-width:0 2px 2px 0;cursor:se-resize;left:200px;margin:-20px 0 0 -20px;top:200px}.tox .tox-insert-table-picker{background-color:#fff;display:flex;flex-wrap:wrap;width:170px}.tox .tox-insert-table-picker>div{border-color:#eee;border-style:solid;border-width:0 1px 1px 0;box-sizing:border-box;height:17px;width:17px}.tox .tox-collection--list .tox-collection__group .tox-insert-table-picker{margin:-4px -4px}.tox .tox-insert-table-picker .tox-insert-table-picker__selected{background-color:#006ce7;border-color:#eee}@media (forced-colors:active){.tox .tox-insert-table-picker .tox-insert-table-picker__selected{border-color:Highlight;filter:contrast(50%)}}.tox .tox-insert-table-picker__label{color:rgba(34,47,62,.7);display:block;font-size:14px;padding:4px;text-align:center;width:100%}.tox:not([dir=rtl]) .tox-insert-table-picker>div:nth-child(10n){border-right:0}.tox[dir=rtl] .tox-insert-table-picker>div:nth-child(10n+1){border-right:0}.tox .tox-menu{background-color:#fff;border:1px solid transparent;border-radius:6px;box-shadow:0 0 2px 0 rgba(34,47,62,.2),0 4px 8px 0 rgba(34,47,62,.15);display:inline-block;overflow:hidden;vertical-align:top;z-index:1150}.tox .tox-menu.tox-collection.tox-collection--list{padding:0 4px}.tox .tox-menu.tox-collection.tox-collection--toolbar{padding:8px}.tox .tox-menu.tox-collection.tox-collection--grid{padding:8px}@media only screen and (min-width:768px){.tox .tox-menu .tox-collection__item-label{overflow-wrap:break-word;word-break:normal}.tox .tox-dialog__popups .tox-menu .tox-collection__item-label{word-break:break-all}}.tox .tox-menu__label blockquote,.tox .tox-menu__label code,.tox .tox-menu__label h1,.tox .tox-menu__label h2,.tox .tox-menu__label h3,.tox .tox-menu__label h4,.tox .tox-menu__label h5,.tox .tox-menu__label h6,.tox .tox-menu__label p{margin:0}.tox .tox-menubar{background:repeating-linear-gradient(transparent 0 1px,transparent 1px 39px) center top 39px/100% calc(100% - 39px) no-repeat;background-color:#fff;display:flex;flex:0 0 auto;flex-shrink:0;flex-wrap:wrap;grid-column:1/-1;grid-row:1;padding:0 11px 0 12px}.tox .tox-promotion+.tox-menubar{grid-column:1}.tox .tox-promotion{background:repeating-linear-gradient(transparent 0 1px,transparent 1px 39px) center top 39px/100% calc(100% - 39px) no-repeat;background-color:#fff;grid-column:2;grid-row:1;padding-inline-end:8px;padding-inline-start:4px;padding-top:5px}.tox .tox-promotion-link{align-items:unsafe center;background-color:#e8f1f8;border-radius:5px;color:#086be6;cursor:pointer;display:flex;font-size:14px;height:26.6px;padding:4px 8px;white-space:nowrap}.tox .tox-promotion-link:hover{background-color:#b4d7ff}.tox .tox-promotion-link:focus{background-color:#d9edf7}.tox .tox-mbtn{align-items:center;background:#fff;border:0;border-radius:3px;box-shadow:none;color:#222f3e;display:flex;flex:0 0 auto;font-size:14px;font-style:normal;font-weight:400;height:28px;justify-content:center;margin:5px 1px 6px 0;outline:0;padding:0 4px;text-transform:none;width:auto}.tox .tox-mbtn[disabled]{background-color:#fff;border:0;box-shadow:none;color:rgba(34,47,62,.5);cursor:not-allowed}.tox .tox-mbtn:focus:not(:disabled){background:#fff;border:0;box-shadow:none;color:#222f3e;position:relative;z-index:1}.tox .tox-mbtn:focus:not(:disabled)::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-mbtn:focus:not(:disabled)::after{border:2px solid highlight}}.tox .tox-mbtn--active,.tox .tox-mbtn:not(:disabled).tox-mbtn--active:focus{background:#a6ccf7;border:0;box-shadow:none;color:#222f3e}.tox .tox-mbtn:hover:not(:disabled):not(.tox-mbtn--active){background:#f0f0f0;border:0;box-shadow:none;color:#222f3e}.tox .tox-mbtn__select-label{cursor:default;font-weight:400;margin:0 4px}.tox .tox-mbtn[disabled] .tox-mbtn__select-label{cursor:not-allowed}.tox .tox-mbtn__select-chevron{align-items:center;display:flex;justify-content:center;width:16px;display:none}.tox .tox-notification{border-radius:6px;border-style:solid;border-width:1px;box-shadow:none;box-sizing:border-box;display:grid;font-size:14px;font-weight:400;grid-template-columns:minmax(40px,1fr) auto minmax(40px,1fr);margin-left:auto;margin-right:auto;margin-top:4px;opacity:0;padding:4px;transition:transform .1s ease-in,opacity 150ms ease-in;width:max-content}.tox .tox-notification a{cursor:pointer;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification p{font-size:14px;font-weight:400}.tox .tox-notification:focus{border-color:#006ce7;box-shadow:0 0 0 1px #006ce7}.tox .tox-notification--in{opacity:1}.tox .tox-notification--success{background-color:#e4eeda;border-color:#d7e6c8;color:#222f3e}.tox .tox-notification--success p{color:#222f3e}.tox .tox-notification--success a{color:#517342}.tox .tox-notification--success a:focus,.tox .tox-notification--success a:hover{color:#24321d;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification--success a:focus-visible{border-radius:1px;outline:2px solid #517342;outline-offset:2px}.tox .tox-notification--success a:active{color:#0d120a;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification--success svg{fill:#222f3e}.tox .tox-notification--error{background-color:#f5cccc;border-color:#f0b3b3;color:#222f3e}.tox .tox-notification--error p{color:#222f3e}.tox .tox-notification--error a{color:#77181f}.tox .tox-notification--error a:focus,.tox .tox-notification--error a:hover{color:#220709;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification--error a:focus-visible{border-radius:1px;outline:2px solid #77181f;outline-offset:2px}.tox .tox-notification--error a:active{color:#000;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification--error svg{fill:#222f3e}.tox .tox-notification--warn,.tox .tox-notification--warning{background-color:#fff5cc;border-color:#fff0b3;color:#222f3e}.tox .tox-notification--warn p,.tox .tox-notification--warning p{color:#222f3e}.tox .tox-notification--warn a,.tox .tox-notification--warning a{color:#7a6e25}.tox .tox-notification--warn a:focus,.tox .tox-notification--warn a:hover,.tox .tox-notification--warning a:focus,.tox .tox-notification--warning a:hover{color:#2c280d;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification--warn a:focus-visible,.tox .tox-notification--warning a:focus-visible{border-radius:1px;outline:2px solid #7a6e25;outline-offset:2px}.tox .tox-notification--warn a:active,.tox .tox-notification--warning a:active{color:#050502;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification--warn svg,.tox .tox-notification--warning svg{fill:#222f3e}.tox .tox-notification--info{background-color:#d6e7fb;border-color:#c1dbf9;color:#222f3e}.tox .tox-notification--info p{color:#222f3e}.tox .tox-notification--info a{color:#2a64a6}.tox .tox-notification--info a:focus,.tox .tox-notification--info a:hover{color:#163355;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification--info a:focus-visible{border-radius:1px;outline:2px solid #2a64a6;outline-offset:2px}.tox .tox-notification--info a:active{color:#0b1a2c;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification--info svg{fill:#222f3e}.tox .tox-notification__body{align-self:center;color:#222f3e;font-size:14px;grid-column-end:3;grid-column-start:2;grid-row-end:2;grid-row-start:1;text-align:center;white-space:normal;word-break:break-all;word-break:break-word}.tox .tox-notification__body>*{margin:0}.tox .tox-notification__body>*+*{margin-top:1rem}.tox .tox-notification__icon{align-self:center;grid-column-end:2;grid-column-start:1;grid-row-end:2;grid-row-start:1;justify-self:end}.tox .tox-notification__icon svg{display:block}.tox .tox-notification__dismiss{align-self:start;grid-column-end:4;grid-column-start:3;grid-row-end:2;grid-row-start:1;justify-self:end}.tox .tox-notification .tox-progress-bar{grid-column-end:4;grid-column-start:1;grid-row-end:3;grid-row-start:2;justify-self:center}.tox .tox-notification-container-dock-fadeout{opacity:0;visibility:hidden}.tox .tox-notification-container-dock-fadein{opacity:1;visibility:visible}.tox .tox-notification-container-dock-transition{transition:visibility 0s linear .3s,opacity .3s ease}.tox .tox-notification-container-dock-transition.tox-notification-container-dock-fadein{transition-delay:0s}.tox .tox-pop{display:inline-block;position:relative}.tox .tox-pop--resizing{transition:width .1s ease}.tox .tox-pop--resizing .tox-toolbar,.tox .tox-pop--resizing .tox-toolbar__group{flex-wrap:nowrap}.tox .tox-pop--transition{transition:.15s ease;transition-property:left,right,top,bottom}.tox .tox-pop--transition::after,.tox .tox-pop--transition::before{transition:all .15s,visibility 0s,opacity 75ms ease 75ms}.tox .tox-pop__dialog{background-color:#fff;border:1px solid #eee;border-radius:6px;box-shadow:0 0 2px 0 rgba(34,47,62,.2),0 4px 8px 0 rgba(34,47,62,.15);min-width:0;overflow:hidden}.tox .tox-pop__dialog>:not(.tox-toolbar){margin:4px 4px 4px 8px}.tox .tox-pop__dialog .tox-toolbar{background-color:transparent;margin-bottom:-1px}.tox .tox-pop::after,.tox .tox-pop::before{border-style:solid;content:'';display:block;height:0;opacity:1;position:absolute;width:0}@media (forced-colors:active){.tox .tox-pop::after,.tox .tox-pop::before{content:none}}.tox .tox-pop.tox-pop--inset::after,.tox .tox-pop.tox-pop--inset::before{opacity:0;transition:all 0s .15s,visibility 0s,opacity 75ms ease}.tox .tox-pop.tox-pop--bottom::after,.tox .tox-pop.tox-pop--bottom::before{left:50%;top:100%}.tox .tox-pop.tox-pop--bottom::after{border-color:#fff transparent transparent transparent;border-width:8px;margin-left:-8px;margin-top:-1px}.tox .tox-pop.tox-pop--bottom::before{border-color:#eee transparent transparent transparent;border-width:9px;margin-left:-9px}.tox .tox-pop.tox-pop--top::after,.tox .tox-pop.tox-pop--top::before{left:50%;top:0;transform:translateY(-100%)}.tox .tox-pop.tox-pop--top::after{border-color:transparent transparent #fff transparent;border-width:8px;margin-left:-8px;margin-top:1px}.tox .tox-pop.tox-pop--top::before{border-color:transparent transparent #eee transparent;border-width:9px;margin-left:-9px}.tox .tox-pop.tox-pop--left::after,.tox .tox-pop.tox-pop--left::before{left:0;top:calc(50% - 1px);transform:translateY(-50%)}.tox .tox-pop.tox-pop--left::after{border-color:transparent #fff transparent transparent;border-width:8px;margin-left:-15px}.tox .tox-pop.tox-pop--left::before{border-color:transparent #eee transparent transparent;border-width:10px;margin-left:-19px}.tox .tox-pop.tox-pop--right::after,.tox .tox-pop.tox-pop--right::before{left:100%;top:calc(50% + 1px);transform:translateY(-50%)}.tox .tox-pop.tox-pop--right::after{border-color:transparent transparent transparent #fff;border-width:8px;margin-left:-1px}.tox .tox-pop.tox-pop--right::before{border-color:transparent transparent transparent #eee;border-width:10px;margin-left:-1px}.tox .tox-pop.tox-pop--align-left::after,.tox .tox-pop.tox-pop--align-left::before{left:20px}.tox .tox-pop.tox-pop--align-right::after,.tox .tox-pop.tox-pop--align-right::before{left:calc(100% - 20px)}.tox .tox-sidebar-wrap{display:flex;flex-direction:row;flex-grow:1;min-height:0}.tox .tox-sidebar{background-color:#fff;display:flex;flex-direction:row;justify-content:flex-end}.tox .tox-sidebar__slider{display:flex;overflow:hidden}.tox .tox-sidebar__pane-container{display:flex}.tox .tox-sidebar__pane{display:flex}.tox .tox-sidebar--sliding-closed{opacity:0}.tox .tox-sidebar--sliding-open{opacity:1}.tox .tox-sidebar--sliding-growing,.tox .tox-sidebar--sliding-shrinking{transition:width .5s ease,opacity .5s ease}.tox .tox-selector{background-color:#4099ff;border-color:#4099ff;border-style:solid;border-width:1px;box-sizing:border-box;display:inline-block;height:10px;position:absolute;width:10px}.tox.tox-platform-touch .tox-selector{height:12px;width:12px}.tox .tox-slider{align-items:center;display:flex;flex:1;height:24px;justify-content:center;position:relative}.tox .tox-slider__rail{background-color:transparent;border:1px solid #eee;border-radius:6px;height:10px;min-width:120px;width:100%}.tox .tox-slider__handle{background-color:#006ce7;border:2px solid #0054b4;border-radius:6px;box-shadow:none;height:24px;left:50%;position:absolute;top:50%;transform:translateX(-50%) translateY(-50%);width:14px}.tox .tox-form__controls-h-stack>.tox-slider:not(:first-of-type){margin-inline-start:8px}.tox .tox-form__controls-h-stack>.tox-form__group+.tox-slider{margin-inline-start:32px}.tox .tox-form__controls-h-stack>.tox-slider+.tox-form__group{margin-inline-start:32px}.tox .tox-source-code{overflow:auto}.tox .tox-spinner{display:flex}.tox .tox-spinner>div{animation:tam-bouncing-dots 1.5s ease-in-out 0s infinite both;background-color:rgba(34,47,62,.7);border-radius:100%;height:8px;width:8px}.tox .tox-spinner>div:first-child{animation-delay:-.32s}.tox .tox-spinner>div:nth-child(2){animation-delay:-.16s}@keyframes tam-bouncing-dots{0%,100%,80%{transform:scale(0)}40%{transform:scale(1)}}.tox:not([dir=rtl]) .tox-spinner>div:not(:first-child){margin-left:4px}.tox[dir=rtl] .tox-spinner>div:not(:first-child){margin-right:4px}.tox .tox-statusbar{align-items:center;background-color:#fff;border-top:1px solid #e3e3e3;color:rgba(34,47,62,.7);display:flex;flex:0 0 auto;font-size:14px;font-weight:400;height:25px;overflow:hidden;padding:0 8px;position:relative;text-transform:none}.tox .tox-statusbar__path{display:flex;flex:1 1 auto;text-overflow:ellipsis;white-space:nowrap}.tox .tox-statusbar__right-container{display:flex;justify-content:flex-end;white-space:nowrap}.tox .tox-statusbar__help-text{text-align:center}.tox .tox-statusbar__text-container{align-items:flex-start;display:flex;flex:1 1 auto;height:16px;justify-content:space-between;overflow:hidden}@media only screen and (min-width:768px){.tox .tox-statusbar__text-container.tox-statusbar__text-container-3-cols>.tox-statusbar__help-text,.tox .tox-statusbar__text-container.tox-statusbar__text-container-3-cols>.tox-statusbar__path,.tox .tox-statusbar__text-container.tox-statusbar__text-container-3-cols>.tox-statusbar__right-container{flex:0 0 calc(100% / 3)}}.tox .tox-statusbar__text-container.tox-statusbar__text-container--flex-end{justify-content:flex-end}.tox .tox-statusbar__text-container.tox-statusbar__text-container--flex-start{justify-content:flex-start}.tox .tox-statusbar__text-container.tox-statusbar__text-container--space-around{justify-content:space-around}.tox .tox-statusbar__path>*{display:inline;white-space:nowrap}.tox .tox-statusbar__wordcount{flex:0 0 auto;margin-left:1ch}@media only screen and (max-width:767px){.tox .tox-statusbar__text-container .tox-statusbar__help-text{display:none}.tox .tox-statusbar__text-container .tox-statusbar__help-text:only-child{display:block}}.tox .tox-statusbar a,.tox .tox-statusbar__path-item,.tox .tox-statusbar__wordcount{color:rgba(34,47,62,.7);position:relative;-webkit-text-decoration:none;text-decoration:none}.tox .tox-statusbar a:focus:not(:disabled):not([aria-disabled=true]),.tox .tox-statusbar a:hover:not(:disabled):not([aria-disabled=true]),.tox .tox-statusbar__path-item:focus:not(:disabled):not([aria-disabled=true]),.tox .tox-statusbar__path-item:hover:not(:disabled):not([aria-disabled=true]),.tox .tox-statusbar__wordcount:focus:not(:disabled):not([aria-disabled=true]),.tox .tox-statusbar__wordcount:hover:not(:disabled):not([aria-disabled=true]){color:#222f3e;cursor:pointer}.tox .tox-statusbar a:focus-visible::after,.tox .tox-statusbar__path-item:focus-visible::after,.tox .tox-statusbar__wordcount:focus-visible::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-statusbar a:focus-visible::after,.tox .tox-statusbar__path-item:focus-visible::after,.tox .tox-statusbar__wordcount:focus-visible::after{border:2px solid highlight}}.tox .tox-statusbar__branding svg{fill:rgba(34,47,62,0.8);height:1em;margin-left:.3em;width:auto}@media (forced-colors:active){.tox .tox-statusbar__branding svg{fill:currentColor}}.tox .tox-statusbar__branding a{align-items:center;display:inline-flex}.tox .tox-statusbar__branding a:focus:not(:disabled):not([aria-disabled=true]) svg,.tox .tox-statusbar__branding a:hover:not(:disabled):not([aria-disabled=true]) svg{fill:#222f3e}.tox .tox-statusbar__resize-handle{align-items:flex-end;align-self:stretch;cursor:nwse-resize;display:flex;flex:0 0 auto;justify-content:flex-end;margin-bottom:3px;margin-left:4px;margin-right:calc(3px - 8px);margin-top:3px;padding-bottom:0;padding-left:0;padding-right:0;position:relative}.tox .tox-statusbar__resize-handle svg{display:block;fill:rgba(34,47,62,0.5)}.tox .tox-statusbar__resize-handle:focus svg,.tox .tox-statusbar__resize-handle:hover svg{fill:#222f3e}.tox .tox-statusbar__resize-handle:focus-visible{background-color:transparent;border-radius:1px 1px 5px 1px;box-shadow:0 0 0 2px transparent}.tox .tox-statusbar__resize-handle:focus-visible::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-statusbar__resize-handle:focus-visible::after{border:2px solid highlight}}.tox:not([dir=rtl]) .tox-statusbar__path>*{margin-right:4px}.tox:not([dir=rtl]) .tox-statusbar__branding{margin-left:2ch}.tox[dir=rtl] .tox-statusbar{flex-direction:row-reverse}.tox[dir=rtl] .tox-statusbar__path>*{margin-left:4px}.tox[dir=rtl] .tox-statusbar__branding svg{margin-left:0;margin-right:.3em}.tox .tox-throbber{z-index:1299}.tox .tox-throbber__busy-spinner{align-items:center;background-color:rgba(255,255,255,.6);bottom:0;display:flex;justify-content:center;left:0;position:absolute;right:0;top:0}.tox .tox-tbtn{align-items:center;background:#fff;border:0;border-radius:3px;box-shadow:none;color:#222f3e;display:flex;flex:0 0 auto;font-size:14px;font-style:normal;font-weight:400;height:28px;justify-content:center;margin:6px 1px 5px 0;outline:0;padding:0;text-transform:none;width:34px}@media (forced-colors:active){.tox .tox-tbtn.tox-tbtn:hover,.tox .tox-tbtn:hover{outline:1px dashed currentColor}.tox .tox-tbtn.tox-tbtn--active,.tox .tox-tbtn.tox-tbtn--enabled,.tox .tox-tbtn.tox-tbtn--enabled:focus,.tox .tox-tbtn.tox-tbtn--enabled:hover,.tox .tox-tbtn:focus:not(.tox-tbtn--disabled){outline:1px solid currentColor;position:relative}}.tox .tox-tbtn svg{display:block;fill:#222f3e}@media (forced-colors:active){.tox .tox-tbtn svg{fill:currentColor!important}.tox .tox-tbtn svg.tox-tbtn--enabled,.tox .tox-tbtn svg:focus:not(.tox-tbtn--disabled){fill:currentColor!important}.tox .tox-tbtn svg .tox-tbtn:disabled,.tox .tox-tbtn svg .tox-tbtn:disabled:hover,.tox .tox-tbtn svg.tox-tbtn--disabled,.tox .tox-tbtn svg.tox-tbtn--disabled:hover{filter:contrast(0%)}}.tox .tox-tbtn.tox-tbtn-more{padding-left:5px;padding-right:5px;width:inherit}.tox .tox-tbtn:focus{background:#fff;border:0;box-shadow:none;position:relative;z-index:1}.tox .tox-tbtn:focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-tbtn:focus::after{border:2px solid highlight}}.tox .tox-tbtn:hover{background:#f0f0f0;border:0;box-shadow:none;color:#222f3e}.tox .tox-tbtn:hover svg{fill:#222f3e}.tox .tox-tbtn:active{background:#a6ccf7;border:0;box-shadow:none;color:#222f3e}.tox .tox-tbtn:active svg{fill:#222f3e}.tox .tox-tbtn--disabled .tox-tbtn--enabled svg{fill:rgba(34,47,62,0.5)}.tox .tox-tbtn--disabled,.tox .tox-tbtn--disabled:hover,.tox .tox-tbtn:disabled,.tox .tox-tbtn:disabled:hover{background:#fff;border:0;box-shadow:none;color:rgba(34,47,62,.5);cursor:not-allowed}.tox .tox-tbtn--disabled svg,.tox .tox-tbtn--disabled:hover svg,.tox .tox-tbtn:disabled svg,.tox .tox-tbtn:disabled:hover svg{fill:rgba(34,47,62,0.5)}.tox .tox-tbtn--active,.tox .tox-tbtn--enabled,.tox .tox-tbtn--enabled:focus,.tox .tox-tbtn--enabled:hover{background:#a6ccf7;border:0;box-shadow:none;color:#222f3e;position:relative}.tox .tox-tbtn--active>*,.tox .tox-tbtn--enabled:focus>*,.tox .tox-tbtn--enabled:hover>*,.tox .tox-tbtn--enabled>*{transform:none}.tox .tox-tbtn--active svg,.tox .tox-tbtn--enabled svg,.tox .tox-tbtn--enabled:focus svg,.tox .tox-tbtn--enabled:hover svg{fill:#222f3e}.tox .tox-tbtn--active.tox-tbtn--disabled svg,.tox .tox-tbtn--enabled.tox-tbtn--disabled svg,.tox .tox-tbtn--enabled:focus.tox-tbtn--disabled svg,.tox .tox-tbtn--enabled:hover.tox-tbtn--disabled svg{fill:rgba(34,47,62,0.5)}.tox .tox-tbtn--enabled:focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-tbtn--enabled:focus::after{border:2px solid highlight}}.tox .tox-tbtn:focus:not(.tox-tbtn--disabled){color:#222f3e}.tox .tox-tbtn:focus:not(.tox-tbtn--disabled) svg{fill:#222f3e}.tox .tox-tbtn:active>*{transform:none}.tox .tox-tbtn--md{height:42px;width:51px}.tox .tox-tbtn--lg{flex-direction:column;height:56px;width:68px}.tox .tox-tbtn--return{align-self:stretch;height:unset;width:16px}.tox .tox-tbtn--labeled{padding:0 4px;width:unset}.tox .tox-tbtn__vlabel{display:block;font-size:10px;font-weight:400;letter-spacing:-.025em;margin-bottom:4px;white-space:nowrap}.tox .tox-number-input{background:#f7f7f7;border-radius:3px;display:flex;margin:6px 1px 5px 0;position:relative;width:auto}.tox .tox-number-input:focus{background:#f7f7f7}.tox .tox-number-input:focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-number-input:focus::after{border:2px solid highlight}}.tox .tox-number-input .tox-input-wrapper{display:flex;pointer-events:none;position:relative;text-align:center}.tox .tox-number-input .tox-input-wrapper:focus{background-color:#f7f7f7;z-index:1}.tox .tox-number-input .tox-input-wrapper:focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-number-input .tox-input-wrapper:focus::after{border:2px solid highlight}}.tox .tox-number-input .tox-input-wrapper:has(input:focus)::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-number-input .tox-input-wrapper:has(input:focus)::after{border:2px solid highlight}}.tox .tox-number-input input{border-radius:3px;color:#222f3e;font-size:14px;margin:2px 0;pointer-events:all;position:relative;width:60px}.tox .tox-number-input input:hover{background:#f0f0f0;color:#222f3e}.tox .tox-number-input input:focus{background-color:#f7f7f7}.tox .tox-number-input input:disabled{background:#fff;border:0;box-shadow:none;color:rgba(34,47,62,.5);cursor:not-allowed}.tox .tox-number-input button{color:#222f3e;height:28px;position:relative;text-align:center;width:24px}@media (forced-colors:active){.tox .tox-number-input button:active,.tox .tox-number-input button:focus,.tox .tox-number-input button:hover{outline:1px solid currentColor!important}}.tox .tox-number-input button svg{display:block;fill:#222f3e;margin:0 auto;transform:scale(.67)}@media (forced-colors:active){.tox .tox-number-input button svg,.tox .tox-number-input button svg:active,.tox .tox-number-input button svg:hover{fill:currentColor!important}.tox .tox-number-input button svg:disabled{filter:contrast(0)}}.tox .tox-number-input button:focus{background:#f7f7f7;z-index:1}.tox .tox-number-input button:focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-number-input button:focus::after{border:2px solid highlight}}.tox .tox-number-input button:hover{background:#f0f0f0;border:0;box-shadow:none;color:#222f3e}.tox .tox-number-input button:hover svg{fill:#222f3e}.tox .tox-number-input button:active{background:#a6ccf7;border:0;box-shadow:none;color:#222f3e}.tox .tox-number-input button:active svg{fill:#222f3e}.tox .tox-number-input button:disabled{background:#fff;border:0;box-shadow:none;color:rgba(34,47,62,.5);cursor:not-allowed}.tox .tox-number-input button:disabled svg{fill:rgba(34,47,62,0.5)}.tox .tox-number-input button.minus{border-radius:3px 0 0 3px}.tox .tox-number-input button.plus{border-radius:0 3px 3px 0}.tox .tox-number-input:focus:not(:active)>.tox-input-wrapper,.tox .tox-number-input:focus:not(:active)>button{background:#f7f7f7}.tox .tox-tbtn--select{margin:6px 1px 5px 0;padding:0 4px;width:auto}.tox .tox-tbtn__select-label{cursor:default;font-weight:400;height:initial;margin:0 4px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.tox .tox-tbtn__select-chevron{align-items:center;display:flex;justify-content:center;width:16px}.tox .tox-tbtn__select-chevron svg{fill:rgba(34,47,62,0.5)}@media (forced-colors:active){.tox .tox-tbtn__select-chevron svg{fill:currentColor}}.tox .tox-tbtn--bespoke{background:#f7f7f7}.tox .tox-tbtn--bespoke:focus{background:#f7f7f7}.tox .tox-tbtn--bespoke+.tox-tbtn--bespoke{margin-inline-start:4px}.tox .tox-tbtn--bespoke .tox-tbtn__select-label{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;width:7em}.tox .tox-tbtn--disabled .tox-tbtn__select-label,.tox .tox-tbtn--select:disabled .tox-tbtn__select-label{cursor:not-allowed}.tox .tox-split-button{border:0;border-radius:3px;box-sizing:border-box;display:flex;margin:6px 1px 5px 0}.tox .tox-split-button:hover{box-shadow:0 0 0 1px #f0f0f0 inset}.tox .tox-split-button:focus{background:#fff;box-shadow:none;color:#222f3e;position:relative;z-index:1}.tox .tox-split-button:focus::after{pointer-events:none;border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-split-button:focus::after{border:2px solid highlight}}.tox .tox-split-button>*{border-radius:0}.tox .tox-split-button>:first-child{border-bottom-left-radius:3px;border-top-left-radius:3px}.tox .tox-split-button>:nth-child(2){border-bottom-right-radius:3px;border-top-right-radius:3px}.tox .tox-split-button__chevron{width:16px}.tox .tox-split-button__chevron svg{fill:rgba(34,47,62,0.5)}@media (forced-colors:active){.tox .tox-split-button__chevron svg{fill:currentColor}}.tox .tox-split-button .tox-tbtn{margin:0}.tox .tox-split-button:focus .tox-tbtn{background-color:transparent}.tox .tox-split-button.tox-tbtn--disabled .tox-tbtn:focus,.tox .tox-split-button.tox-tbtn--disabled .tox-tbtn:hover,.tox .tox-split-button.tox-tbtn--disabled:focus,.tox .tox-split-button.tox-tbtn--disabled:hover{background:#fff;box-shadow:none;color:rgba(34,47,62,.5)}.tox.tox-platform-touch .tox-split-button .tox-tbtn--select{padding:0 0}.tox.tox-platform-touch .tox-split-button .tox-tbtn:not(.tox-tbtn--select):first-child{width:30px}.tox.tox-platform-touch .tox-split-button__chevron{width:20px}.tox .tox-split-button.tox-tbtn--disabled svg #tox-icon-highlight-bg-color__color,.tox .tox-split-button.tox-tbtn--disabled svg #tox-icon-text-color__color{opacity:.6}.tox .tox-toolbar-overlord{background-color:#fff}.tox .tox-toolbar,.tox .tox-toolbar__overflow,.tox .tox-toolbar__primary{background-attachment:local;background-color:#fff;background-image:repeating-linear-gradient(#e3e3e3 0 1px,transparent 1px 39px);background-position:center top 40px;background-repeat:no-repeat;background-size:calc(100% - 11px * 2) calc(100% - 41px);display:flex;flex:0 0 auto;flex-shrink:0;flex-wrap:wrap;padding:0 0;transform:perspective(1px)}.tox .tox-toolbar-overlord>.tox-toolbar,.tox .tox-toolbar-overlord>.tox-toolbar__overflow,.tox .tox-toolbar-overlord>.tox-toolbar__primary{background-position:center top 0;background-size:calc(100% - 11px * 2) calc(100% - 0)}.tox .tox-toolbar__overflow.tox-toolbar__overflow--closed{height:0;opacity:0;padding-bottom:0;padding-top:0;visibility:hidden}.tox .tox-toolbar__overflow--growing{transition:height .3s ease,opacity .2s linear .1s}.tox .tox-toolbar__overflow--shrinking{transition:opacity .3s ease,height .2s linear .1s,visibility 0s linear .3s}.tox .tox-anchorbar,.tox .tox-toolbar-overlord{grid-column:1/-1}.tox .tox-menubar+.tox-toolbar,.tox .tox-menubar+.tox-toolbar-overlord{border-top:1px solid transparent;margin-top:-1px;padding-bottom:1px;padding-top:1px}@media (forced-colors:active){.tox .tox-menubar+.tox-toolbar,.tox .tox-menubar+.tox-toolbar-overlord{outline:1px solid currentColor}}.tox .tox-toolbar--scrolling{flex-wrap:nowrap;overflow-x:auto}.tox .tox-pop .tox-toolbar{border-width:0}.tox .tox-toolbar--no-divider{background-image:none}.tox .tox-toolbar-overlord .tox-toolbar:not(.tox-toolbar--scrolling):first-child,.tox .tox-toolbar-overlord .tox-toolbar__primary{background-position:center top 39px}.tox .tox-editor-header>.tox-toolbar--scrolling,.tox .tox-toolbar-overlord .tox-toolbar--scrolling:first-child{background-image:none}.tox.tox-tinymce-aux .tox-toolbar__overflow{background-color:#fff;background-position:center top 43px;background-size:calc(100% - 8px * 2) calc(100% - 51px);border:none;border-radius:6px;box-shadow:0 0 2px 0 rgba(34,47,62,.2),0 4px 8px 0 rgba(34,47,62,.15);overscroll-behavior:none;padding:4px 0}@media (forced-colors:active){.tox.tox-tinymce-aux .tox-toolbar__overflow{border:solid}}.tox-pop .tox-pop__dialog .tox-toolbar{background-position:center top 43px;background-size:calc(100% - 11px * 2) calc(100% - 51px);padding:4px 0}.tox .tox-toolbar__group{align-items:center;display:flex;flex-wrap:wrap;margin:0 0;padding:0 11px 0 12px}.tox .tox-toolbar__group--pull-right{margin-left:auto}.tox .tox-toolbar--scrolling .tox-toolbar__group{flex-shrink:0;flex-wrap:nowrap}.tox:not([dir=rtl]) .tox-toolbar__group:not(:last-of-type){border-right:1px solid transparent}.tox[dir=rtl] .tox-toolbar__group:not(:last-of-type){border-left:1px solid transparent}.tox .tox-tooltip{display:inline-block;max-width:15em;padding:8px;pointer-events:none;position:relative;width:max-content;z-index:1150}.tox .tox-tooltip__body{background-color:#222f3e;border-radius:6px;box-shadow:none;color:#fff;font-size:12px;font-style:normal;font-weight:600;overflow-wrap:break-word;padding:4px 6px;text-transform:none}@media (forced-colors:active){.tox .tox-tooltip__body{outline:outset 1px}}.tox .tox-tooltip__arrow{position:absolute}.tox .tox-tooltip--down .tox-tooltip__arrow{border-left:8px solid transparent;border-right:8px solid transparent;border-top:8px solid #222f3e;bottom:0;left:50%;position:absolute;transform:translateX(-50%)}.tox .tox-tooltip--up .tox-tooltip__arrow{border-bottom:8px solid #222f3e;border-left:8px solid transparent;border-right:8px solid transparent;left:50%;position:absolute;top:0;transform:translateX(-50%)}.tox .tox-tooltip--right .tox-tooltip__arrow{border-bottom:8px solid transparent;border-left:8px solid #222f3e;border-top:8px solid transparent;position:absolute;right:0;top:50%;transform:translateY(-50%)}.tox .tox-tooltip--left .tox-tooltip__arrow{border-bottom:8px solid transparent;border-right:8px solid #222f3e;border-top:8px solid transparent;left:0;position:absolute;top:50%;transform:translateY(-50%)}.tox .tox-tree{display:flex;flex-direction:column}.tox .tox-tree .tox-trbtn{align-items:center;background:0 0;border:0;border-radius:4px;box-shadow:none;color:#222f3e;display:flex;flex:0 0 auto;font-size:14px;font-style:normal;font-weight:400;height:28px;margin-bottom:4px;margin-top:4px;outline:0;overflow:hidden;padding:0;padding-left:8px;text-transform:none}.tox .tox-tree .tox-trbtn .tox-tree__label{cursor:default;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.tox .tox-tree .tox-trbtn svg{display:block;fill:#222f3e}.tox .tox-tree .tox-trbtn:focus{background:#f0f0f0;border:0;box-shadow:none}.tox .tox-tree .tox-trbtn:hover{background:#f0f0f0;border:0;box-shadow:none;color:#222f3e}.tox .tox-tree .tox-trbtn:hover svg{fill:#222f3e}.tox .tox-tree .tox-trbtn:active{background:#a6ccf7;border:0;box-shadow:none;color:#222f3e}.tox .tox-tree .tox-trbtn:active svg{fill:#222f3e}.tox .tox-tree .tox-trbtn--disabled,.tox .tox-tree .tox-trbtn--disabled:hover,.tox .tox-tree .tox-trbtn:disabled,.tox .tox-tree .tox-trbtn:disabled:hover{background:0 0;border:0;box-shadow:none;color:rgba(34,47,62,.5);cursor:not-allowed}.tox .tox-tree .tox-trbtn--disabled svg,.tox .tox-tree .tox-trbtn--disabled:hover svg,.tox .tox-tree .tox-trbtn:disabled svg,.tox .tox-tree .tox-trbtn:disabled:hover svg{fill:rgba(34,47,62,0.5)}.tox .tox-tree .tox-trbtn--enabled,.tox .tox-tree .tox-trbtn--enabled:hover{background:#a6ccf7;border:0;box-shadow:none;color:#222f3e}.tox .tox-tree .tox-trbtn--enabled:hover>*,.tox .tox-tree .tox-trbtn--enabled>*{transform:none}.tox .tox-tree .tox-trbtn--enabled svg,.tox .tox-tree .tox-trbtn--enabled:hover svg{fill:#222f3e}.tox .tox-tree .tox-trbtn:focus:not(.tox-trbtn--disabled){color:#222f3e}.tox .tox-tree .tox-trbtn:focus:not(.tox-trbtn--disabled) svg{fill:#222f3e}.tox .tox-tree .tox-trbtn:active>*{transform:none}.tox .tox-tree .tox-trbtn--return{align-self:stretch;height:unset;width:16px}.tox .tox-tree .tox-trbtn--labeled{padding:0 4px;width:unset}.tox .tox-tree .tox-trbtn__vlabel{display:block;font-size:10px;font-weight:400;letter-spacing:-.025em;margin-bottom:4px;white-space:nowrap}.tox .tox-tree .tox-tree--directory{display:flex;flex-direction:column}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label{font-weight:700}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label .tox-mbtn{margin-left:auto}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label .tox-mbtn svg{fill:transparent}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label .tox-mbtn.tox-mbtn--active svg,.tox .tox-tree .tox-tree--directory .tox-tree--directory__label .tox-mbtn:focus svg{fill:#222f3e}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:focus .tox-mbtn svg,.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:hover .tox-mbtn svg{fill:#222f3e}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:hover:has(.tox-mbtn:hover){background-color:transparent;color:#222f3e}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:hover:has(.tox-mbtn:hover) .tox-chevron svg{fill:#222f3e}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label .tox-chevron{margin-right:6px}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:has(+ .tox-tree--directory__children--growing) .tox-chevron,.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:has(+ .tox-tree--directory__children--shrinking) .tox-chevron{transition:transform .5s ease-in-out}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:has(+ .tox-tree--directory__children--growing) .tox-chevron,.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:has(+ .tox-tree--directory__children--open) .tox-chevron{transform:rotate(90deg)}.tox .tox-tree .tox-tree--leaf__label{font-weight:400}.tox .tox-tree .tox-tree--leaf__label .tox-mbtn{margin-left:auto}.tox .tox-tree .tox-tree--leaf__label .tox-mbtn svg{fill:transparent}.tox .tox-tree .tox-tree--leaf__label .tox-mbtn.tox-mbtn--active svg,.tox .tox-tree .tox-tree--leaf__label .tox-mbtn:focus svg{fill:#222f3e}.tox .tox-tree .tox-tree--leaf__label:hover .tox-mbtn svg{fill:#222f3e}.tox .tox-tree .tox-tree--leaf__label:hover:has(.tox-mbtn:hover){background-color:transparent;color:#222f3e}.tox .tox-tree .tox-tree--leaf__label:hover:has(.tox-mbtn:hover) .tox-chevron svg{fill:#222f3e}.tox .tox-tree .tox-tree--directory__children{overflow:hidden;padding-left:16px}.tox .tox-tree .tox-tree--directory__children.tox-tree--directory__children--growing,.tox .tox-tree .tox-tree--directory__children.tox-tree--directory__children--shrinking{transition:height .5s ease-in-out}.tox .tox-tree .tox-trbtn.tox-tree--leaf__label{display:flex;justify-content:space-between}.tox .tox-revisionhistory__pane{padding:0!important}.tox .tox-revisionhistory__container{display:flex;flex-direction:column;height:100%}.tox .tox-revisionhistory{background-color:#fff;border-top:1px solid #f0f0f0;display:flex;flex:1;height:100%;margin-top:8px;overflow-x:auto;overflow-y:hidden;position:relative;width:100%}.tox .tox-revisionhistory--align-right{margin-left:auto}.tox .tox-revisionhistory__iframe{flex:1}.tox .tox-revisionhistory__sidebar{display:flex;flex-direction:column;height:100%;min-width:248px;width:316px}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__sidebar-title{background-color:#fff;box-shadow:0 4px 8px 0 rgba(34,47,62,.1);color:#222f3e;font-size:20px;font-weight:400;line-height:28px;padding:12px;z-index:1}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions{background-color:#f0f0f0;display:flex;flex:1;flex-direction:column;gap:12px;overflow-y:auto;padding:10px 12px}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions:focus{height:100%;position:relative;z-index:1}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions:focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0;border-radius:6px;bottom:1px;left:1px;right:1px;top:1px}@media (forced-colors:active){.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions:focus::after{border:2px solid highlight}}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card{background-color:#fff;border:1px solid #f0f0f0;border-radius:6px;color:#222f3e;cursor:pointer;display:flex;flex-direction:column;font-size:14px;gap:12px;padding:12px;width:100%}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card:hover{box-shadow:0 4px 8px 0 rgba(34,47,62,.1)}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card:focus{position:relative;z-index:1}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card:focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7 #006ce7;content:'';left:0;position:absolute;right:0;top:0;border-radius:6px;box-shadow:0 0 0 2px #006ce7;box-shadow:0 0 0 2px #006ce7!important}@media (forced-colors:active){.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card:focus::after{border:2px solid highlight}}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card.tox-revisionhistory__card--selected{background-color:#fff5cc;box-shadow:0 4px 8px 0 rgba(34,47,62,.1);position:relative}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card.tox-revisionhistory__card--selected::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7 #e3b82a;content:'';left:0;position:absolute;right:0;top:0;border-radius:6px;box-shadow:0 0 0 2px #e3b82a}@media (forced-colors:active){.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card.tox-revisionhistory__card--selected::after{border:2px solid highlight}}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card-date{display:flex;gap:12px;justify-content:space-between}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card-date-label{font-size:16px;line-height:24px}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card-label{font-size:12px;font-weight:600;line-height:24px;padding:0}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card-author{align-items:center;display:flex;flex:1 0 0;gap:8px;height:36px}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card-author-name{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;font-size:14px;font-weight:700;line-height:18px}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__avatar{border-radius:50%;height:36px;object-fit:cover;vertical-align:middle;width:36px}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__norevision{color:rgba(34,47,62,.7);font-size:16px;line-height:24px;padding:5px 5.5px}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card-check-icon{color:#222f3e;height:24px}.tox .tox-view-wrap,.tox .tox-view-wrap__slot-container{background-color:#fff;display:flex;flex:1;flex-direction:column;height:100%}.tox .tox-view{display:flex;flex:1 1 auto;flex-direction:column;overflow:hidden}.tox .tox-view__header{align-items:center;display:flex;font-size:16px;justify-content:space-between;padding:10px 10px 2px 10px;position:relative}.tox .tox-view__label{color:#222f3e;font-weight:700;line-height:24px;padding:4px 16px;text-align:center;white-space:nowrap}.tox .tox-view__label--normal{font-size:16px}.tox .tox-view__label--large{font-size:20px}.tox .tox-view--mobile.tox-view__header,.tox .tox-view--mobile.tox-view__toolbar{padding:8px}.tox .tox-view--scrolling{flex-wrap:nowrap;overflow-x:auto}.tox .tox-view__toolbar{display:flex;flex-direction:row;gap:8px;justify-content:space-between;overflow-x:auto;padding:10px 10px 2px 10px}.tox .tox-view__toolbar__group{display:flex;flex-direction:row;gap:12px}.tox .tox-view__header-end,.tox .tox-view__header-start{display:flex}.tox .tox-view__pane{height:100%;padding:8px;position:relative;width:100%}.tox .tox-view__pane_panel{border:1px solid #eee;border-radius:6px}.tox:not([dir=rtl]) .tox-view__header .tox-view__header-end>*,.tox:not([dir=rtl]) .tox-view__header .tox-view__header-start>*{margin-left:8px}.tox[dir=rtl] .tox-view__header .tox-view__header-end>*,.tox[dir=rtl] .tox-view__header .tox-view__header-start>*{margin-right:8px}.tox .tox-well{border:1px solid #eee;border-radius:6px;padding:8px;width:100%}.tox .tox-well>:first-child{margin-top:0}.tox .tox-well>:last-child{margin-bottom:0}.tox .tox-well>:only-child{margin:0}.tox .tox-custom-editor{border:1px solid #eee;border-radius:6px;display:flex;flex:1;overflow:hidden;position:relative}.tox .tox-dialog-loading::before{background-color:rgba(0,0,0,.5);content:"";height:100%;position:absolute;width:100%;z-index:1000}.tox .tox-tab{cursor:pointer}.tox .tox-dialog__content-js{display:flex;flex:1}.tox .tox-dialog__body-content .tox-collection{display:flex;flex:1}`);tinymce.addI18n("de",{"#":"#",Accessibility:"Barrierefreiheit",Accordion:"","Accordion body...":"","Accordion summary...":"",Action:"Aktion",Activity:"Aktivitt",Address:"Adresse",Advanced:"Erweitert",Align:"Ausrichtung","Align center":"Zentrieren","Align left":"Linksbndig ausrichten","Align right":"Rechtsbndig ausrichten",Alignment:"Ausrichtung","Alignment {0}":"",All:"Alle","Alternative description":"Alternative Beschreibung","Alternative source":"Alternative Quelle","Alternative source URL":"URL der alternativen Quelle",Anchor:"Anker","Anchor...":"Textmarke",Anchors:"Anker","Animals and Nature":"Tiere und Natur",Arrows:"Pfeile",B:"B","Background color":"Hintergrundfarbe","Background color {0}":"",Black:"Schwarz",Block:"Blocksatz","Block {0}":"",Blockquote:"Blockzitat",Blocks:"Blcke",Blue:"Blau","Blue component":"Blauanteil",Body:"Inhalt",Bold:"Fett",Border:"Rahmen","Border color":"Rahmenfarbe","Border style":"Rahmenstil","Border width":"Rahmenbreite",Bottom:"Unten","Browse files":"","Browse for an image":"Bild...","Browse links":"","Bullet list":"Aufzhlung",Cancel:"Abbrechen",Caption:"Beschriftung",Cell:"Zelle","Cell padding":"Zelleninnenabstand","Cell properties":"Zelleigenschaften","Cell spacing":"Zellenabstand","Cell styles":"Zellstil","Cell type":"Zelltyp",Center:"Zentriert",Characters:"Zeichen","Characters (no spaces)":"Zeichen (ohne Leerzeichen)",Circle:"Kreis",Class:"Klasse","Clear formatting":"Formatierung entfernen",Close:"Schlieen",Code:"Code","Code sample...":"Codebeispiel...","Code view":"Code Ansicht","Color Picker":"Farbwahl","Color swatch":"Farbpalette",Cols:"Spalten",Column:"Spalte","Column clipboard actions":"Spalten-Zwischenablage-Aktionen","Column group":"Spaltengruppe","Column header":"Spaltenkopf","Constrain proportions":"Seitenverhltnis beibehalten",Copy:"Kopieren","Copy column":"Spalte kopieren","Copy row":"Zeile kopieren","Could not find the specified string.":"Die angegebene Zeichenfolge wurde nicht gefunden.","Could not load emojis":"Emojis konnten nicht geladen werden",Count:"Anzahl",Currency:"Whrung","Current window":"Aktuelles Fenster","Custom color":"Benutzerdefinierte Farbe","Custom...":"Benutzerdefiniert...",Cut:"Ausschneiden","Cut column":"Spalte ausschneiden","Cut row":"Zeile ausschneiden","Dark Blue":"Dunkelblau","Dark Gray":"Dunkelgrau","Dark Green":"Dunkelgrn","Dark Orange":"Dunkelorange","Dark Purple":"Dunkellila","Dark Red":"Dunkelrot","Dark Turquoise":"Dunkeltrkis","Dark Yellow":"Dunkelgelb",Dashed:"Gestrichelt","Date/time":"Datum/Uhrzeit","Decrease indent":"Einzug verkleinern",Default:"Standard","Delete accordion":"","Delete column":"Spalte lschen","Delete row":"Zeile lschen","Delete table":"Tabelle lschen",Dimensions:"Abmessungen",Disc:"Scheibe",Div:"Div",Document:"Dokument",Dotted:"Gepunktet",Double:"Doppelt","Drop an image here":"Bild hier ablegen","Dropped file type is not supported":"Hereingezogener Dateityp wird nicht untersttzt",Edit:"Bearbeiten",Embed:"Einbettung",Emojis:"Emojis","Emojis...":"Emojis...",Error:"Fehler","Error: Form submit field collision.":"Fehler: Kollision der Formularbesttigungsfelder.","Error: No form element found.":"Fehler: Kein Formularelement gefunden.","Extended Latin":"Erweitertes Latein","Failed to initialize plugin: {0}":"Plugin konnte nicht initialisiert werden: {0}","Failed to load plugin url: {0}":"Plugin-URL konnte nicht geladen werden: {0}","Failed to load plugin: {0} from url {1}":"Plugin konnte nicht geladen werden: {0} von URL {1}","Failed to upload image: {0}":"Bild konnte nicht hochgeladen werden: {0}",File:"Datei",Find:"Suchen","Find (if searchreplace plugin activated)":"Suchen (wenn Suchen/Ersetzen-Plugin aktiviert ist)","Find and Replace":"Suchen und Ersetzen","Find and replace...":"Suchen und ersetzen...","Find in selection":"In Auswahl suchen","Find whole words only":"Nur ganze Wrter suchen",Flags:"Flaggen","Focus to contextual toolbar":"Fokus auf kontextbezogene Symbolleiste","Focus to element path":"Fokus auf Elementpfad","Focus to menubar":"Fokus auf Menleiste","Focus to toolbar":"Fokus auf Symbolleiste",Font:"Schriftart","Font size {0}":"","Font sizes":"Schriftgren","Font {0}":"",Fonts:"Schriftarten","Food and Drink":"Essen und Trinken",Footer:"Fuzeile",Format:"Format","Format {0}":"",Formats:"Formate",Fullscreen:"Vollbild",G:"G",General:"Allgemein",Gray:"Grau",Green:"Grn","Green component":"Grnanteil",Groove:"Gekantet","Handy Shortcuts":"Praktische Tastenkombinationen",Header:"Kopfzeile","Header cell":"Kopfzelle","Heading 1":"berschrift 1","Heading 2":"berschrift 2","Heading 3":"berschrift 3","Heading 4":"berschrift 4","Heading 5":"berschrift 5","Heading 6":"berschrift 6",Headings:"berschriften",Height:"Hhe",Help:"Hilfe","Hex color code":"Hexadezimal-Farbwert",Hidden:"Unsichtbar","Horizontal align":"Horizontal ausrichten","Horizontal line":"Horizontale Linie","Horizontal space":"Horizontaler Raum",ID:"ID","ID should start with a letter, followed only by letters, numbers, dashes, dots, colons or underscores.":"Die ID muss mit einem Buchstaben beginnen gefolgt von Buchstaben, Zahlen, Bindestrichen, Punkten, Doppelpunkten oder Unterstrichen.","Image is decorative":"Bild ist dekorativ","Image list":"Bildliste","Image title":"Bildtitel","Image...":"Bild...","ImageProxy HTTP error: Could not find Image Proxy":"Image Proxy HTTP Fehler: Kann Image Proxy nicht finden","ImageProxy HTTP error: Incorrect Image Proxy URL":"Image Proxy HTTP Fehler: Falsche Image Proxy URL","ImageProxy HTTP error: Rejected request":"Image Proxy HTTP Fehler: Abgewiesene Anfrage","ImageProxy HTTP error: Unknown ImageProxy error":"Image Proxy HTTP Fehler: Unbekannter Image Proxy Fehler","Increase indent":"Einzug vergrern",Inline:"Zeichenformate",Insert:"Einfgen","Insert Template":"Vorlage einfgen","Insert accordion":"","Insert column after":"Neue Spalte danach einfgen","Insert column before":"Neue Spalte davor einfgen","Insert date/time":"Datum/Uhrzeit einfgen","Insert image":"Bild einfgen","Insert link (if link plugin activated)":"Link einfgen (wenn Link-Plugin aktiviert ist)","Insert row after":"Neue Zeile danach einfgen","Insert row before":"Neue Zeile davor einfgen","Insert table":"Tabelle einfgen","Insert template...":"Vorlage einfgen...","Insert video":"Video einfgen","Insert/Edit code sample":"Codebeispiel einfgen/bearbeiten","Insert/edit image":"Bild einfgen/bearbeiten","Insert/edit link":"Link einfgen/bearbeiten","Insert/edit media":"Medien einfgen/bearbeiten","Insert/edit video":"Video einfgen/bearbeiten",Inset:"Eingelassen","Invalid hex color code: {0}":"Ungltiger Hexadezimal-Farbwert: {0}","Invalid input":"Ungltige Eingabe",Italic:"Kursiv",Justify:"Blocksatz","Keyboard Navigation":"Tastaturnavigation",Language:"Sprache","Learn more...":"Erfahren Sie mehr dazu...",Left:"Links","Left to right":"Von links nach rechts","Light Blue":"Hellblau","Light Gray":"Hellgrau","Light Green":"Hellgrn","Light Purple":"Helllila","Light Red":"Hellrot","Light Yellow":"Hellgelb","Line height":"Liniendicke","Link list":"Linkliste","Link...":"Link...","List Properties":"Liste Eigenschaften","List properties...":"Liste Eigenschaften","Loading emojis...":"Lade Emojis...","Loading...":"Wird geladen...","Lower Alpha":"Lateinisches Alphabet in Kleinbuchstaben","Lower Greek":"Griechische Kleinbuchstaben","Lower Roman":"Kleiner rmischer Buchstabe","Match case":"Gro-/Kleinschreibung beachten",Mathematical:"Mathematisch","Media poster (Image URL)":"Medienposter (Bild-URL)","Media...":"Medien...","Medium Blue":"Mittleres Blau","Medium Gray":"Mittelgrau","Medium Purple":"Mittelviolett","Merge cells":"Zellen verbinden",Middle:"Mitte","Midnight Blue":"Mitternachtsblau","More...":"Mehr...",Name:"Name","Navy Blue":"Marineblau","New document":"Neues Dokument","New window":"Neues Fenster",Next:"Nchste",No:"Nein","No alignment":"Keine Ausrichtung","No color":"Keine Farbe","Nonbreaking space":"Geschtztes Leerzeichen",None:"Keine","Numbered list":"Nummerierte Liste",OR:"ODER",Objects:"Objekte",Ok:"Ok","Open help dialog":"Hilfe-Dialog ffnen","Open link":"Link ffnen","Open link in...":"Link ffnen in...","Open popup menu for split buttons":"ffne Popup Menge um Buttons zu trennen",Orange:"Orange",Outset:"Hervorstehend","Page break":"Seitenumbruch",Paragraph:"Absatz",Paste:"Einfgen","Paste as text":"Als Text einfgen","Paste column after":"Spalte danach einfgen","Paste column before":"Spalte davor einfgen","Paste is now in plain text mode. Contents will now be pasted as plain text until you toggle this option off.":"Einfgen ist nun im unformatierten Textmodus. Inhalte werden ab jetzt als unformatierter Text eingefgt, bis Sie diese Einstellung wieder deaktivieren.","Paste or type a link":"Link einfgen oder eingeben","Paste row after":"Zeile danach einfgen","Paste row before":"Zeile davor einfgen","Paste your embed code below:":"Fgen Sie Ihren Einbettungscode unten ein:",People:"Menschen",Plugins:"Plugins","Plugins installed ({0}):":"Installierte Plugins ({0}):","Powered by {0}":"Betrieben von {0}",Pre:"Pre",Preferences:"Einstellungen",Preformatted:"Vorformatiert","Premium plugins:":"Premium-Plugins:","Press the Up and Down arrow keys to resize the editor.":"","Press the arrow keys to resize the editor.":"","Press {0} for help":"",Preview:"Vorschau",Previous:"Vorherige",Print:"Drucken","Print...":"Drucken...",Purple:"Violett",Quotations:"Anfhrungszeichen",R:"R","Range 0 to 255":"Spanne 0 bis 255",Red:"Rot","Red component":"Rotanteil",Redo:"Wiederholen",Remove:"Entfernen","Remove color":"Farbauswahl aufheben","Remove link":"Link entfernen",Replace:"Ersetzen","Replace all":"Alle ersetzen","Replace with":"Ersetzen durch",Resize:"Skalieren","Restore last draft":"Letzten Entwurf wiederherstellen","Reveal or hide additional toolbar items":"","Rich Text Area":"Rich-Text-Area","Rich Text Area. Press ALT-0 for help.":"Rich-Text-Bereich. Drcken Sie Alt+0 fr Hilfe.","Rich Text Area. Press ALT-F9 for menu. Press ALT-F10 for toolbar. Press ALT-0 for help":"Rich-Text-Bereich. Drcken Sie Alt+F9 fr das Men. Drcken Sie Alt+F10 fr die Symbolleiste. Drcken Sie Alt+0 fr Hilfe.",Ridge:"Eingeritzt",Right:"Rechts","Right to left":"Von rechts nach links",Row:"Zeile","Row clipboard actions":"Zeilen-Zwischenablage-Aktionen","Row group":"Zeilengruppe","Row header":"Zeilenkopf","Row properties":"Zeileneigenschaften","Row type":"Zeilentyp",Rows:"Zeilen",Save:"Speichern","Save (if save plugin activated)":"Speichern (wenn Save-Plugin aktiviert ist)",Scope:"Bereich",Search:"Suchen","Select all":"Alles auswhlen","Select...":"Auswahl...",Selection:"Auswahl",Shortcut:"Tastenkombination","Show blocks":"Blcke anzeigen","Show caption":"Beschriftung anzeigen","Show invisible characters":"Unsichtbare Zeichen anzeigen",Size:"Schriftgre",Solid:"Durchgezogen",Source:"Quelle","Source code":"Quellcode","Special Character":"Sonderzeichen","Special character...":"Sonderzeichen...","Split cell":"Zelle aufteilen",Square:"Rechteck","Start list at number":"Beginne Liste mit Nummer",Strikethrough:"Durchgestrichen",Style:"Formatvorlage",Subscript:"Tiefgestellt",Superscript:"Hochgestellt","Switch to or from fullscreen mode":"Vollbildmodus umschalten",Symbols:"Symbole","System Font":"Betriebssystemschriftart",Table:"Tabelle","Table caption":"Tabellenbeschriftung","Table properties":"Tabelleneigenschaften","Table styles":"Tabellenstil",Template:"Vorlage",Templates:"Vorlagen",Text:"Text","Text color":"Textfarbe","Text color {0}":"","Text to display":"Anzuzeigender Text","The URL you entered seems to be an email address. Do you want to add the required mailto: prefix?":"Diese URL scheint eine E-Mail-Adresse zu sein. Mchten Sie das dazu bentigte mailto: voranstellen?","The URL you entered seems to be an external link. Do you want to add the required http:// prefix?":"Diese URL scheint ein externer Link zu sein. Mchten Sie das dazu bentigte http:// voranstellen?","The URL you entered seems to be an external link. Do you want to add the required https:// prefix?":"Die eingegebene URL scheint ein externer Link zu sein. Soll das fehlende https:// davor ergnzt werden?",Title:"Titel","To open the popup, press Shift+Enter":"Drcken Sie Umschalt+Eingabe, um das Popup-Fenster zu ffnen.","Toggle accordion":"",Tools:"Werkzeuge",Top:"Oben","Travel and Places":"Reisen und Orte",Turquoise:"Trkis",Underline:"Unterstrichen",Undo:"Rckgngig machen",Upload:"Hochladen","Uploading image":"Bild wird hochgeladen","Upper Alpha":"Lateinisches Alphabet in Grobuchstaben","Upper Roman":"Groer rmischer Buchstabe",Url:"URL","User Defined":"Benutzerdefiniert",Valid:"Gltig",Version:"Version","Vertical align":"Vertikal ausrichten","Vertical space":"Vertikaler Raum",View:"Ansicht","Visual aids":"Visuelle Hilfen",Warn:"Warnung",White:"Wei",Width:"Breite","Word count":"Anzahl der Wrter",Words:"Wrter","Words: {0}":"Wortzahl: {0}",Yellow:"Gelb",Yes:"Ja","You are using {0}":"Sie verwenden {0}","You have unsaved changes are you sure you want to navigate away?":"Die nderungen wurden noch nicht gespeichert. Sind Sie sicher, dass Sie diese Seite verlassen wollen?","Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.":"Ihr Browser untersttzt leider keinen direkten Zugriff auf die Zwischenablage. Bitte benutzen Sie die Tastenkombinationen Strg+X/C/V.",alignment:"Ausrichtung","austral sign":"Australzeichen","cedi sign":"Cedizeichen","colon sign":"Doppelpunkt","cruzeiro sign":"Cruzeirozeichen","currency sign":"Whrungssymbol","dollar sign":"Dollarzeichen","dong sign":"Dongzeichen","drachma sign":"Drachmezeichen","euro-currency sign":"Eurozeichen",example:"Beispiel",formatting:"Formatierung","french franc sign":"Franczeichen","german penny symbol":"Pfennigzeichen","guarani sign":"Guaranizeichen",history:"Historie","hryvnia sign":"Hrywnjazeichen",indentation:"Einrckungen","indian rupee sign":"Indisches Rupiezeichen","kip sign":"Kipzeichen","lira sign":"Lirezeichen","livre tournois sign":"Livrezeichen","manat sign":"Manatzeichen","mill sign":"Millzeichen","naira sign":"Nairazeichen","new sheqel sign":"Schekelzeichen","nordic mark sign":"Zeichen nordische Mark","peseta sign":"Pesetazeichen","peso sign":"Pesozeichen","ruble sign":"Rubelzeichen","rupee sign":"Rupiezeichen","spesmilo sign":"Spesmilozeichen",styles:"Stile","tenge sign":"Tengezeichen","tugrik sign":"Tugrikzeichen","turkish lira sign":"Trkisches Lirazeichen","won sign":"Wonzeichen","yen character":"Yenzeichen","yen/yuan character variant one":"Yen-/Yuanzeichen Variante 1","yuan character":"Yuanzeichen","yuan character, in hong kong and taiwan":"Yuanzeichen in Hongkong und Taiwan","{0} characters":"{0}Zeichen","{0} columns, {1} rows":"","{0} words":"{0} Wrter"});var uX={},dX={},fX;function xCe(){return fX||(fX=1,function(){var t=tinymce.util.Tools.resolve("tinymce.PluginManager");const r=(N,G,ae)=>{var Be;return ae(N,G.prototype)?!0:((Be=N.constructor)===null||Be===void 0?void 0:Be.name)===G.name},i=N=>{const G=typeof N;return N===null?"null":G==="object"&&Array.isArray(N)?"array":G==="object"&&r(N,String,(ae,Be)=>Be.isPrototypeOf(ae))?"string":G},u=N=>G=>i(G)===N,g=N=>G=>typeof G===N,h=u("string"),x=u("object"),C=u("array"),D=g("boolean"),I=N=>N==null,O=N=>!I(N),B=g("function"),V=g("number"),z=()=>{},Z=(N,G)=>ae=>N(G(ae)),ee=N=>()=>N,ie=(N,G)=>N===G;function W(N,...G){return(...ae)=>{const Be=G.concat(ae);return N.apply(null,Be)}}const he=N=>G=>!N(G),ue=ee(!1);class j{constructor(G,ae){this.tag=G,this.value=ae}static some(G){return new j(!0,G)}static none(){return j.singletonNone}fold(G,ae){return this.tag?ae(this.value):G()}isSome(){return this.tag}isNone(){return!this.tag}map(G){return this.tag?j.some(G(this.value)):j.none()}bind(G){return this.tag?G(this.value):j.none()}exists(G){return this.tag&&G(this.value)}forall(G){return!this.tag||G(this.value)}filter(G){return!this.tag||G(this.value)?this:j.none()}getOr(G){return this.tag?this.value:G}or(G){return this.tag?this:G}getOrThunk(G){return this.tag?this.value:G()}orThunk(G){return this.tag?this:G()}getOrDie(G){if(this.tag)return this.value;throw new Error(G??"Called getOrDie on None")}static from(G){return O(G)?j.some(G):j.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(G){this.tag&&G(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}j.singletonNone=new j(!1);const de=Array.prototype.slice,te=Array.prototype.indexOf,ze=Array.prototype.push,Fe=(N,G)=>te.call(N,G),Je=(N,G)=>Fe(N,G)>-1,rt=(N,G)=>{for(let ae=0,Be=N.length;ae<Be;ae++){const Xe=N[ae];if(G(Xe,ae))return!0}return!1},we=(N,G)=>{const ae=N.length,Be=new Array(ae);for(let Xe=0;Xe<ae;Xe++){const Ft=N[Xe];Be[Xe]=G(Ft,Xe)}return Be},_e=(N,G)=>{for(let ae=0,Be=N.length;ae<Be;ae++){const Xe=N[ae];G(Xe,ae)}},R=(N,G)=>{const ae=[];for(let Be=0,Xe=N.length;Be<Xe;Be++){const Ft=N[Be];G(Ft,Be)&&ae.push(Ft)}return ae},it=(N,G)=>{if(N.length===0)return[];{let ae=G(N[0]);const Be=[];let Xe=[];for(let Ft=0,Xn=N.length;Ft<Xn;Ft++){const Eo=N[Ft],po=G(Eo);po!==ae&&(Be.push(Xe),Xe=[]),ae=po,Xe.push(Eo)}return Xe.length!==0&&Be.push(Xe),Be}},St=(N,G,ae)=>(_e(N,(Be,Xe)=>{ae=G(ae,Be,Xe)}),ae),Ut=(N,G,ae)=>{for(let Be=0,Xe=N.length;Be<Xe;Be++){const Ft=N[Be];if(G(Ft,Be))return j.some(Ft);if(ae(Ft,Be))break}return j.none()},sn=(N,G)=>Ut(N,G,ue),dt=N=>{const G=[];for(let ae=0,Be=N.length;ae<Be;++ae){if(!C(N[ae]))throw new Error("Arr.flatten item "+ae+" was not an array, input: "+N);ze.apply(G,N[ae])}return G},An=(N,G)=>dt(we(N,G)),At=N=>{const G=de.call(N,0);return G.reverse(),G},et=(N,G)=>G>=0&&G<N.length?j.some(N[G]):j.none(),Me=N=>et(N,0),mt=N=>et(N,N.length-1),vo=(N,G)=>{const ae=[],Be=B(G)?Xe=>rt(ae,Ft=>G(Ft,Xe)):Xe=>Je(ae,Xe);for(let Xe=0,Ft=N.length;Xe<Ft;Xe++){const Xn=N[Xe];Be(Xn)||ae.push(Xn)}return ae},Wt=(N,G,ae=ie)=>N.exists(Be=>ae(Be,G)),In=(N,G,ae=ie)=>on(N,G,ae).getOr(N.isNone()&&G.isNone()),on=(N,G,ae)=>N.isSome()&&G.isSome()?j.some(ae(N.getOrDie(),G.getOrDie())):j.none(),J=8,mo=11,Zt=1,vn=3,je=(N,G)=>{const Be=(G||document).createElement("div");if(Be.innerHTML=N,!Be.hasChildNodes()||Be.childNodes.length>1){const Xe="HTML does not have a single root node";throw console.error(Xe,N),new Error(Xe)}return Re(Be.childNodes[0])},tt=(N,G)=>{const Be=(G||document).createElement(N);return Re(Be)},xe=(N,G)=>{const Be=(G||document).createTextNode(N);return Re(Be)},Re=N=>{if(N==null)throw new Error("Node cannot be null or undefined");return{dom:N}},be={fromHtml:je,fromTag:tt,fromText:xe,fromDom:Re,fromPoint:(N,G,ae)=>j.from(N.dom.elementFromPoint(G,ae)).map(Re)},Se=(N,G)=>{const ae=N.dom;if(ae.nodeType!==Zt)return!1;{const Be=ae;if(Be.matches!==void 0)return Be.matches(G);if(Be.msMatchesSelector!==void 0)return Be.msMatchesSelector(G);if(Be.webkitMatchesSelector!==void 0)return Be.webkitMatchesSelector(G);if(Be.mozMatchesSelector!==void 0)return Be.mozMatchesSelector(G);throw new Error("Browser lacks native selectors")}},Ne=(N,G)=>N.dom===G.dom,Ge=(N,G)=>{const ae=N.dom,Be=G.dom;return ae===Be?!1:ae.contains(Be)},ht=Se,ln=typeof window<"u"?window:Function("return this;")(),Kt=(N,G)=>{let ae=G??ln;for(let Be=0;Be<N.length&&ae!==void 0&&ae!==null;++Be)ae=ae[N[Be]];return ae},yn=(N,G)=>{const ae=N.split(".");return Kt(ae,G)},Yn=(N,G)=>yn(N,G),to=(N,G)=>{const ae=Yn(N,G);if(ae==null)throw new Error(N+" not available on this browser");return ae},$o=Object.getPrototypeOf,Do=N=>to("HTMLElement",N),Zs=N=>{const G=yn("ownerDocument.defaultView",N);return x(N)&&(Do(G).prototype.isPrototypeOf(N)||/^HTML\w*Element$/.test($o(N).constructor.name))},us=N=>N.dom.nodeName.toLowerCase(),Qr=N=>N.dom.nodeType,xs=N=>G=>Qr(G)===N,ji=N=>Qr(N)===J||us(N)==="#comment",Tn=N=>go(N)&&Zs(N.dom),go=xs(Zt),Ro=xs(vn),ai=xs(mo),nl=N=>G=>go(G)&&us(G)===N,Jt=N=>j.from(N.dom.parentNode).map(be.fromDom),pi=N=>j.from(N.dom.parentElement).map(be.fromDom),ds=N=>j.from(N.dom.nextSibling).map(be.fromDom),jl=N=>we(N.dom.childNodes,be.fromDom),Ws=(N,G)=>{const ae=N.dom.childNodes;return j.from(ae[G]).map(be.fromDom)},ei=N=>Ws(N,0),Rm=N=>Ws(N,N.dom.childNodes.length-1),ju=N=>ai(N)&&O(N.dom.host),Ac=N=>be.fromDom(N.dom.getRootNode()),wl=N=>{const G=Ac(N);return ju(G)?j.some(G):j.none()},Zu=N=>be.fromDom(N.dom.host),Ds=N=>{const G=Ro(N)?N.dom.parentNode:N.dom;if(G==null||G.ownerDocument===null)return!1;const ae=G.ownerDocument;return wl(be.fromDom(G)).fold(()=>ae.body.contains(G),Z(Ds,Zu))};var ho=(N,G,ae,Be,Xe)=>N(ae,Be)?j.some(ae):B(Xe)&&Xe(ae)?j.none():G(ae,Be,Xe);const Zl=(N,G,ae)=>{let Be=N.dom;const Xe=B(ae)?ae:ue;for(;Be.parentNode;){Be=Be.parentNode;const Ft=be.fromDom(Be);if(G(Ft))return j.some(Ft);if(Xe(Ft))break}return j.none()},Ii=(N,G,ae)=>ho((Xe,Ft)=>Ft(Xe),Zl,N,G,ae),Gu=(N,G,ae)=>Zl(N,Be=>Se(Be,G),ae),fn=(N,G,ae)=>ho((Xe,Ft)=>Se(Xe,Ft),Gu,N,G,ae),qu=N=>fn(N,"[contenteditable]"),Im=(N,G=!1)=>Ds(N)?N.dom.isContentEditable:qu(N).fold(ee(G),ae=>hr(ae)==="true"),hr=N=>N.dom.contentEditable,Dm=(N,G)=>{Jt(N).each(Be=>{Be.dom.insertBefore(G.dom,N.dom)})},ol=(N,G)=>{ds(N).fold(()=>{Jt(N).each(Xe=>{Cl(Xe,G)})},Be=>{Dm(Be,G)})},Fl=(N,G)=>{ei(N).fold(()=>{Cl(N,G)},Be=>{N.dom.insertBefore(G.dom,Be.dom)})},Cl=(N,G)=>{N.dom.appendChild(G.dom)},lr=(N,G)=>{_e(G,ae=>{Dm(N,ae)})},Aa=(N,G)=>{_e(G,ae=>{Cl(N,ae)})},$l=N=>{N.dom.textContent="",_e(jl(N),G=>{Pm(G)})},Pm=N=>{const G=N.dom;G.parentNode!==null&&G.parentNode.removeChild(G)};var nu=tinymce.util.Tools.resolve("tinymce.dom.RangeUtils"),ou=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker"),Sf=tinymce.util.Tools.resolve("tinymce.util.VK");const Fd=N=>we(N,be.fromDom),fs=Object.keys,Nr=(N,G)=>{const ae=fs(N);for(let Be=0,Xe=ae.length;Be<Xe;Be++){const Ft=ae[Be],Xn=N[Ft];G(Xn,Ft)}},li=N=>(G,ae)=>{N[ae]=G},Nm=(N,G,ae,Be)=>{Nr(N,(Xe,Ft)=>{(G(Xe,Ft)?ae:Be)(Xe,Ft)})},sl=(N,G)=>{const ae={};return Nm(N,G,li(ae),z),ae},su=(N,G,ae)=>{if(h(ae)||D(ae)||V(ae))N.setAttribute(G,ae+"");else throw console.error("Invalid call to Attribute.set. Key ",G,":: Value ",ae,":: Element ",N),new Error("Attribute value was not simple")},Ta=(N,G)=>{const ae=N.dom;Nr(G,(Be,Xe)=>{su(ae,Xe,Be)})},Oa=N=>St(N.dom.attributes,(G,ae)=>(G[ae.name]=ae.value,G),{}),ru=(N,G)=>be.fromDom(N.dom.cloneNode(G)),Ms=N=>ru(N,!0),cr=(N,G)=>{const ae=be.fromTag(G),Be=Oa(N);return Ta(ae,Be),ae},De=(N,G)=>{const ae=cr(N,G);ol(N,ae);const Be=jl(N);return Aa(ae,Be),Pm(N),ae};var at=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),He=tinymce.util.Tools.resolve("tinymce.util.Tools");const yt=N=>G=>O(G)&&G.nodeName.toLowerCase()===N,pt=N=>G=>O(G)&&N.test(G.nodeName),ot=N=>O(N)&&N.nodeType===3,Yt=N=>O(N)&&N.nodeType===1,cn=pt(/^(OL|UL|DL)$/),hn=pt(/^(OL|UL)$/),Sn=yt("ol"),mn=pt(/^(LI|DT|DD)$/),So=pt(/^(DT|DD)$/),dn=pt(/^(TH|TD)$/),As=yt("br"),Zo=N=>{var G;return((G=N.parentNode)===null||G===void 0?void 0:G.firstChild)===N},es=(N,G)=>O(G)&&G.nodeName in N.schema.getTextBlockElements(),Lr=(N,G)=>O(N)&&N.nodeName in G,Po=(N,G)=>O(G)&&G.nodeName in N.schema.getVoidElements(),Gl=(N,G)=>As(G)?N.isBlock(G.nextSibling)&&!As(G.previousSibling):!1,Ra=(N,G,ae)=>{const Be=N.isEmpty(G);return ae&&N.select("span[data-mce-type=bookmark]",G).length>0?!1:Be},yo=(N,G)=>N.isChildOf(G,N.getRoot()),rl=N=>G=>G.options.get(N),_l=N=>{const G=N.options.register;G("lists_indent_on_tab",{processor:"boolean",default:!0})},Er=rl("lists_indent_on_tab"),kf=rl("forced_root_block"),ti=rl("forced_root_block_attrs"),Lm=(N,G,ae={})=>{const Be=N.dom,Xe=N.schema.getBlockElements(),Ft=Be.createFragment(),Xn=kf(N),Eo=ti(N);let po,Mn,ws=!1;for(Mn=Be.create(Xn,{...Eo,...ae.style?{style:ae.style}:{}}),Lr(G.firstChild,Xe)||Ft.appendChild(Mn);po=G.firstChild;){const Ur=po.nodeName;!ws&&(Ur!=="SPAN"||po.getAttribute("data-mce-type")!=="bookmark")&&(ws=!0),Lr(po,Xe)?(Ft.appendChild(po),Mn=null):(Mn||(Mn=Be.create(Xn,Eo),Ft.appendChild(Mn)),Mn.appendChild(po))}return!ws&&Mn&&Mn.appendChild(Be.create("br",{"data-mce-bogus":"1"})),Ft},ql=at.DOM,ks=(N,G,ae)=>{const Be=Mn=>{const ws=Mn.parentNode;ws&&He.each(Xe,Ur=>{ws.insertBefore(Ur,ae.parentNode)}),ql.remove(Mn)},Xe=ql.select('span[data-mce-type="bookmark"]',G),Ft=Lm(N,ae),Xn=ql.createRng();Xn.setStartAfter(ae),Xn.setEndAfter(G);const Eo=Xn.extractContents();for(let Mn=Eo.firstChild;Mn;Mn=Mn.firstChild)if(Mn.nodeName==="LI"&&N.dom.isEmpty(Mn)){ql.remove(Mn);break}N.dom.isEmpty(Eo)||ql.insertAfter(Eo,G),ql.insertAfter(Ft,G);const po=ae.parentElement;po&&Ra(N.dom,po)&&Be(po),ql.remove(ae),Ra(N.dom,G)&&ql.remove(G)},$d=nl("dd"),Yg=nl("dt"),gp=(N,G)=>{$d(G)?De(G,"dt"):Yg(G)&&pi(G).each(ae=>ks(N,ae.dom,G.dom))},Ar=N=>{Yg(N)&&De(N,"dd")},Tc=(N,G,ae)=>{G==="Indent"?_e(ae,Ar):_e(ae,Be=>gp(N,Be))},Sl=(N,G)=>{if(ot(N))return{container:N,offset:G};const ae=nu.getNode(N,G);return ot(ae)?{container:ae,offset:G>=N.childNodes.length?ae.data.length:0}:ae.previousSibling&&ot(ae.previousSibling)?{container:ae.previousSibling,offset:ae.previousSibling.data.length}:ae.nextSibling&&ot(ae.nextSibling)?{container:ae.nextSibling,offset:0}:{container:N,offset:G}},tr=N=>{const G=N.cloneRange(),ae=Sl(N.startContainer,N.startOffset);G.setStart(ae.container,ae.offset);const Be=Sl(N.endContainer,N.endOffset);return G.setEnd(Be.container,Be.offset),G},Mm=["OL","UL","DL"],Vl=Mm.join(","),la=(N,G)=>{const ae=G||N.selection.getStart(!0);return N.dom.getParent(ae,Vl,Vd(N,ae))},Xg=(N,G)=>O(N)&&G.length===1&&G[0]===N,Di=N=>R(N.querySelectorAll(Vl),cn),il=N=>{const G=la(N),ae=N.selection.getSelectedBlocks();return Xg(G,ae)?Di(G):R(ae,Be=>cn(Be)&&G!==Be)},ca=(N,G)=>{const ae=He.map(G,Be=>{const Xe=N.dom.getParent(Be,"li,dd,dt",Vd(N,Be));return Xe||Be});return vo(ae)},zl=N=>{const G=N.selection.getSelectedBlocks();return R(ca(N,G),mn)},hp=N=>R(zl(N),So),Uo=(N,G)=>{const ae=N.dom.getParents(G,"TD,TH");return ae.length>0?ae[0]:N.getBody()},iu=(N,G)=>!cn(G)&&!mn(G)&&rt(Mm,ae=>N.isValidChild(G.nodeName,ae)),Vd=(N,G)=>{const ae=N.dom.getParents(G,N.dom.isBlock),Be=Ft=>Ft.nodeName.toLowerCase()!==kf(N);return sn(ae,Ft=>Be(Ft)&&iu(N.schema,Ft)).getOr(N.getBody())},Yu=N=>Jt(N).exists(G=>mn(G.dom)&&ei(G).exists(ae=>!cn(ae.dom))&&Rm(G).exists(ae=>!cn(ae.dom))),Kb=(N,G)=>{const ae=N.dom.getParents(G,"ol,ul",Vd(N,G));return mt(ae)},_x=N=>{const G=Kb(N,N.selection.getStart()),ae=R(N.selection.getSelectedBlocks(),hn);return G.toArray().concat(ae)},l1=N=>{const G=N.selection.getStart();return N.dom.getParents(G,"ol,ul",Vd(N,G))},c1=N=>{const G=_x(N),ae=l1(N);return sn(ae,Be=>Yu(be.fromDom(Be))).fold(()=>WC(N,G),Be=>[Be])},WC=(N,G)=>{const ae=we(G,Be=>Kb(N,Be).getOr(Be));return vo(ae)},pp=N=>/\btox\-/.test(N.className),u1=(N,G)=>Ut(N,cn,dn).exists(ae=>ae.nodeName===G&&!pp(ae)),nn=(N,G)=>G!==null&&!N.dom.isEditable(G),Ef=N=>{const G=la(N);return nn(N,G)},Af=(N,G)=>{const ae=N.dom.getParent(G,"ol,ul,dl");return nn(N,ae)},d1=(N,G)=>{const ae=N.selection.getNode();return G({parents:N.dom.getParents(ae),element:ae}),N.on("NodeChange",G),()=>N.off("NodeChange",G)},ua=(N,G)=>{const Be=document.createDocumentFragment();return _e(N,Xe=>{Be.appendChild(Xe.dom)}),be.fromDom(Be)},Tf=(N,G,ae)=>N.dispatch("ListMutation",{action:G,element:ae}),Sx=(N=>G=>G.replace(N,""))(/^\s+|\s+$/g),kx=N=>N.length>0,jb=N=>!kx(N),Ex=N=>N.style!==void 0&&B(N.style.getPropertyValue),f1=(N,G,ae)=>{if(!h(ae))throw console.error("Invalid call to CSS.set. Property ",G,":: Value ",ae,":: Element ",N),new Error("CSS value must be a string: "+ae);Ex(N)&&N.style.setProperty(G,ae)},Ax=(N,G,ae)=>{const Be=N.dom;f1(Be,G,ae)},Qg=N=>ht(N,"OL,UL"),m1=N=>ht(N,"LI"),Of=N=>ei(N).exists(Qg),Rf=N=>Rm(N).exists(Qg),da=N=>"listAttributes"in N,kl=N=>"isComment"in N,eh=N=>"isFragment"in N,ts=N=>N.depth>0,zd=N=>N.isSelected,th=N=>{const G=jl(N),ae=Rf(N)?G.slice(0,-1):G;return we(ae,Ms)},nh=(N,G,ae)=>Jt(N).filter(go).map(Be=>({depth:G,dirty:!1,isSelected:ae,content:th(N),itemAttributes:Oa(N),listAttributes:Oa(Be),listType:us(Be),isInPreviousLi:!1})),$a=(N,G)=>{Cl(N.item,G.list)},Vr=N=>{for(let G=1;G<N.length;G++)$a(N[G-1],N[G])},ur=(N,G)=>{on(mt(N),Me(G),$a)},Zi=(N,G)=>{const ae={list:be.fromTag(G,N),item:be.fromTag("li",N)};return Cl(ae.list,ae.item),ae},nr=(N,G,ae)=>{const Be=[];for(let Xe=0;Xe<ae;Xe++)Be.push(Zi(N,da(G)?G.listType:G.parentListType));return Be},If=(N,G)=>{for(let ae=0;ae<N.length-1;ae++)Ax(N[ae].item,"list-style-type","none");mt(N).each(ae=>{da(G)&&(Ta(ae.list,G.listAttributes),Ta(ae.item,G.itemAttributes)),Aa(ae.item,G.content)})},Bm=(N,G)=>{us(N.list)!==G.listType&&(N.list=De(N.list,G.listType)),Ta(N.list,G.listAttributes)},_i=(N,G,ae)=>{const Be=be.fromTag("li",N);return Ta(Be,G),Aa(Be,ae),Be},Va=(N,G)=>{Cl(N.list,G),N.item=G},Ia=(N,G,ae)=>{const Be=G.slice(0,ae.depth);return mt(Be).each(Xe=>{if(da(ae)){const Ft=_i(N,ae.itemAttributes,ae.content);Va(Xe,Ft),Bm(Xe,ae)}else if(eh(ae))Aa(Xe.item,ae.content);else{const Ft=be.fromHtml(`<!--${ae.content}-->`);Cl(Xe.list,Ft)}}),Be},au=(N,G,ae)=>{const Be=nr(N,ae,ae.depth-G.length);return Vr(Be),If(Be,ae),ur(G,Be),G.concat(Be)},Hd=(N,G)=>{let ae=j.none();const Be=St(G,(Xe,Ft,Xn)=>kl(Ft)?Xn===0?(ae=j.some(Ft),Xe):Ia(N,Xe,Ft):Ft.depth>Xe.length?au(N,Xe,Ft):Ia(N,Xe,Ft),[]);return ae.each(Xe=>{const Ft=be.fromHtml(`<!--${Xe.content}-->`);Me(Be).each(Xn=>{Fl(Xn.list,Ft)})}),Me(Be).map(Xe=>Xe.list)},Mo=(N,G)=>{switch(N){case"Indent":G.depth++;break;case"Outdent":G.depth--;break;case"Flatten":G.depth=0}G.dirty=!0},ci=(N,G)=>{da(N)&&da(G)&&(N.listType=G.listType,N.listAttributes={...G.listAttributes})},El=N=>{N.listAttributes=sl(N.listAttributes,(G,ae)=>ae!=="start")},Ud=(N,G)=>{const ae=N[G].depth,Be=Ft=>Ft.depth===ae&&!Ft.dirty,Xe=Ft=>Ft.depth<ae;return Ut(At(N.slice(0,G)),Be,Xe).orThunk(()=>Ut(N.slice(G+1),Be,Xe))},Gi=N=>(_e(N,(G,ae)=>{Ud(N,ae).fold(()=>{G.dirty&&da(G)&&El(G)},Be=>ci(G,Be))}),N),Un=N=>{let G=N;return{get:()=>G,set:Xe=>{G=Xe}}},Oc=(N,G,ae,Be)=>{var Xe;if(ji(Be))return[{depth:N+1,content:(Xe=Be.dom.nodeValue)!==null&&Xe!==void 0?Xe:"",dirty:!1,isSelected:!1,isComment:!0}];G.each(Eo=>{Ne(Eo.start,Be)&&ae.set(!0)});const Ft=nh(Be,N,ae.get());G.each(Eo=>{Ne(Eo.end,Be)&&ae.set(!1)});const Xn=Rm(Be).filter(Qg).map(Eo=>Ts(N,G,ae,Eo)).getOr([]);return Ft.toArray().concat(Xn)},Rc=(N,G,ae,Be)=>ei(Be).filter(Qg).fold(()=>Oc(N,G,ae,Be),Xe=>{const Ft=St(jl(Be),(Xn,Eo,po)=>{if(po===0)return Xn;if(m1(Eo))return Xn.concat(Oc(N,G,ae,Eo));{const Mn={isFragment:!0,depth:N,content:[Eo],isSelected:!1,dirty:!1,parentListType:us(Xe)};return Xn.concat(Mn)}},[]);return Ts(N,G,ae,Xe).concat(Ft)}),Ts=(N,G,ae,Be)=>An(jl(Be),Xe=>{const Ft=Qg(Xe)?Ts:Rc,Xn=N+1;return Ft(Xn,G,ae,Xe)}),bp=(N,G)=>{const ae=Un(!1),Be=0;return we(N,Xe=>({sourceList:Xe,entries:Ts(Be,G,ae,Xe)}))},Zb=(N,G)=>{const ae=Gi(G);return we(ae,Be=>{const Xe=kl(Be)?ua([be.fromHtml(`<!--${Be.content}-->`)]):ua(Be.content),Ft=da(Be)?Be.itemAttributes:{};return be.fromDom(Lm(N,Xe.dom,Ft))})},Wd=(N,G)=>{const ae=Gi(G);return Hd(N.contentDocument,ae).toArray()},Wo=(N,G)=>An(it(G,ts),ae=>Me(ae).exists(ts)?Wd(N,ae):Zb(N,ae)),za=(N,G)=>{_e(R(N,zd),ae=>Mo(G,ae))},vp=N=>{const G=we(zl(N),be.fromDom);return on(sn(G,he(Of)),sn(At(G),he(Of)),(ae,Be)=>({start:ae,end:Be}))},Kd=(N,G,ae)=>{const Be=bp(G,vp(N));_e(Be,Xe=>{za(Xe.entries,ae);const Ft=Wo(N,Xe.entries);_e(Ft,Xn=>{Tf(N,ae==="Indent"?"IndentList":"OutdentList",Xn.dom)}),lr(Xe.sourceList,Ft),Pm(Xe.sourceList)})},Gb=(N,G)=>{const ae=Fd(c1(N)),Be=Fd(hp(N));let Xe=!1;if(ae.length||Be.length){const Ft=N.selection.getBookmark();Kd(N,ae,G),Tc(N,G,Be),N.selection.moveToBookmark(Ft),N.selection.setRng(tr(N.selection.getRng())),N.nodeChanged(),Xe=!0}return Xe},lu=(N,G)=>!Ef(N)&&Gb(N,G),al=N=>lu(N,"Indent"),cu=N=>lu(N,"Outdent"),Df=N=>lu(N,"Flatten"),Ke="\uFEFF",Fm=N=>N===Ke,Bs=(N,G,ae)=>Zl(N,G,ae).isSome(),qb=(N,G)=>Bs(N,W(Ne,G));var oh=tinymce.util.Tools.resolve("tinymce.dom.BookmarkManager");const uu=at.DOM,ns=N=>{const G={},ae=Be=>{let Xe=N[Be?"startContainer":"endContainer"],Ft=N[Be?"startOffset":"endOffset"];if(Yt(Xe)){const Xn=uu.create("span",{"data-mce-type":"bookmark"});Xe.hasChildNodes()?(Ft=Math.min(Ft,Xe.childNodes.length-1),Be?Xe.insertBefore(Xn,Xe.childNodes[Ft]):uu.insertAfter(Xn,Xe.childNodes[Ft])):Xe.appendChild(Xn),Xe=Xn,Ft=0}G[Be?"startContainer":"endContainer"]=Xe,G[Be?"startOffset":"endOffset"]=Ft};return ae(!0),N.collapsed||ae(),G},fa=N=>{const G=Be=>{const Xe=Eo=>{var po;let Mn=(po=Eo.parentNode)===null||po===void 0?void 0:po.firstChild,ws=0;for(;Mn;){if(Mn===Eo)return ws;(!Yt(Mn)||Mn.getAttribute("data-mce-type")!=="bookmark")&&ws++,Mn=Mn.nextSibling}return-1};let Ft=N[Be?"startContainer":"endContainer"],Xn=N[Be?"startOffset":"endOffset"];if(Ft){if(Yt(Ft)&&Ft.parentNode){const Eo=Ft;Xn=Xe(Ft),Ft=Ft.parentNode,uu.remove(Eo),!Ft.hasChildNodes()&&uu.isBlock(Ft)&&Ft.appendChild(uu.create("br"))}N[Be?"startContainer":"endContainer"]=Ft,N[Be?"startOffset":"endOffset"]=Xn}};G(!0),G();const ae=uu.createRng();return ae.setStart(N.startContainer,N.startOffset),N.endContainer&&ae.setEnd(N.endContainer,N.endOffset),tr(ae)},Xu=N=>{switch(N){case"UL":return"ToggleUlList";case"OL":return"ToggleOlList";case"DL":return"ToggleDLList"}},ac=(N,G,ae)=>{const Be=ae["list-style-type"]?ae["list-style-type"]:null;N.setStyle(G,"list-style-type",Be)},Ju=(N,G)=>{He.each(G,(ae,Be)=>{N.setAttribute(Be,ae)})},Qu=(N,G,ae)=>{Ju(G,ae["list-attributes"]),He.each(N.select("li",G),Be=>{Ju(Be,ae["list-item-attributes"])})},ma=(N,G,ae)=>{ac(N,G,ae),Qu(N,G,ae)},Pf=(N,G,ae)=>{He.each(ae,Be=>N.setStyle(G,Be,""))},$m=(N,G)=>O(G)&&!Lr(G,N.schema.getBlockElements()),Yb=(N,G,ae,Be)=>{let Xe=G[ae?"startContainer":"endContainer"];const Ft=G[ae?"startOffset":"endOffset"];Yt(Xe)&&(Xe=Xe.childNodes[Math.min(Ft,Xe.childNodes.length-1)]||Xe),!ae&&As(Xe.nextSibling)&&(Xe=Xe.nextSibling);const Xn=po=>{for(;!N.dom.isBlock(po)&&po.parentNode&&Be!==po;)po=po.parentNode;return po},Eo=(po,Mn)=>{var ws;const Ur=new ou(po,Xn(po)),_r=Mn?"next":"prev";let Pc;for(;Pc=Ur[_r]();)if(!(Po(N,Pc)||Fm(Pc.textContent)||((ws=Pc.textContent)===null||ws===void 0?void 0:ws.length)===0))return j.some(Pc);return j.none()};if(ae&&ot(Xe))if(Fm(Xe.textContent))Xe=Eo(Xe,!1).getOr(Xe);else for(Xe.parentNode!==null&&$m(N,Xe.parentNode)&&(Xe=Xe.parentNode);Xe.previousSibling!==null&&($m(N,Xe.previousSibling)||ot(Xe.previousSibling));)Xe=Xe.previousSibling;if(!ae&&ot(Xe))if(Fm(Xe.textContent))Xe=Eo(Xe,!0).getOr(Xe);else for(Xe.parentNode!==null&&$m(N,Xe.parentNode)&&(Xe=Xe.parentNode);Xe.nextSibling!==null&&($m(N,Xe.nextSibling)||ot(Xe.nextSibling));)Xe=Xe.nextSibling;for(;Xe.parentNode!==Be;){const po=Xe.parentNode;if(es(N,Xe)||/^(TD|TH)$/.test(po.nodeName))return Xe;Xe=po}return Xe},Si=(N,G,ae)=>{const Be=[],Xe=N.dom,Ft=Yb(N,G,!0,ae),Xn=Yb(N,G,!1,ae);let Eo;const po=[];for(let Mn=Ft;Mn&&(po.push(Mn),Mn!==Xn);Mn=Mn.nextSibling);return He.each(po,Mn=>{var ws;if(es(N,Mn)){Be.push(Mn),Eo=null;return}if(Xe.isBlock(Mn)||As(Mn)){As(Mn)&&Xe.remove(Mn),Eo=null;return}const Ur=Mn.nextSibling;if(oh.isBookmarkNode(Mn)&&(cn(Ur)||es(N,Ur)||!Ur&&Mn.parentNode===ae)){Eo=null;return}Eo||(Eo=Xe.create("p"),(ws=Mn.parentNode)===null||ws===void 0||ws.insertBefore(Eo,Mn),Be.push(Eo)),Eo.appendChild(Mn)}),Be},qn=(N,G,ae)=>{const Be=N.getStyle(G,"list-style-type");let Xe=ae?ae["list-style-type"]:"";return Xe=Xe===null?"":Xe,Be===Xe},ed=(N,G)=>{const ae=N.selection.getStart(!0),Be=Yb(N,G,!0,N.getBody());return qb(be.fromDom(Be),be.fromDom(G.commonAncestorContainer))?G.commonAncestorContainer:ae},Vm=(N,G,ae)=>{const Be=N.selection.getRng();let Xe="LI";const Ft=Vd(N,ed(N,Be)),Xn=N.dom;if(Xn.getContentEditable(N.selection.getNode())==="false")return;G=G.toUpperCase(),G==="DL"&&(Xe="DT");const Eo=ns(Be),po=R(Si(N,Be,Ft),N.dom.isEditable);He.each(po,Mn=>{let ws;const Ur=Mn.previousSibling,_r=Mn.parentNode;mn(_r)||(Ur&&cn(Ur)&&Ur.nodeName===G&&qn(Xn,Ur,ae)?(ws=Ur,Mn=Xn.rename(Mn,Xe),Ur.appendChild(Mn)):(ws=Xn.create(G),_r.insertBefore(ws,Mn),ws.appendChild(Mn),Mn=Xn.rename(Mn,Xe)),Pf(Xn,Mn,["margin","margin-right","margin-bottom","margin-left","margin-top","padding","padding-right","padding-bottom","padding-left","padding-top"]),ma(Xn,ws,ae),jd(N.dom,ws))}),N.selection.setRng(fa(Eo))},ga=(N,G)=>cn(N)&&N.nodeName===(G==null?void 0:G.nodeName),td=(N,G,ae)=>{const Be=N.getStyle(G,"list-style-type",!0),Xe=N.getStyle(ae,"list-style-type",!0);return Be===Xe},Hl=(N,G)=>N.className===G.className,nd=(N,G,ae)=>ga(G,ae)&&td(N,G,ae)&&Hl(G,ae),jd=(N,G)=>{let ae,Be=G.nextSibling;if(nd(N,G,Be)){const Xe=Be;for(;ae=Xe.firstChild;)G.appendChild(ae);N.remove(Xe)}if(Be=G.previousSibling,nd(N,G,Be)){const Xe=Be;for(;ae=Xe.lastChild;)G.insertBefore(ae,G.firstChild);N.remove(Xe)}},ki=(N,G,ae,Be)=>{if(G.nodeName!==ae){const Xe=N.dom.rename(G,ae);ma(N.dom,Xe,Be),Tf(N,Xu(ae),Xe)}else ma(N.dom,G,Be),Tf(N,Xu(ae),G)},lc=(N,G,ae,Be)=>{if(G.classList.forEach((Xe,Ft,Xn)=>{Xe.startsWith("tox-")&&(Xn.remove(Xe),Xn.length===0&&G.removeAttribute("class"))}),G.nodeName!==ae){const Xe=N.dom.rename(G,ae);ma(N.dom,Xe,Be),Tf(N,Xu(ae),Xe)}else ma(N.dom,G,Be),Tf(N,Xu(ae),G)},du=(N,G,ae,Be,Xe)=>{const Ft=cn(G);if(Ft&&G.nodeName===Be&&!zm(Xe)&&!pp(G))Df(N);else{Vm(N,Be,Xe);const Xn=ns(N.selection.getRng()),Eo=Ft?[G,...ae]:ae,po=Ft&&pp(G)?lc:ki;He.each(Eo,Mn=>{po(N,Mn,Be,Xe)}),N.selection.setRng(fa(Xn))}},zm=N=>"list-style-type"in N,g1=(N,G,ae,Be)=>{if(G!==N.getBody())if(G)if(G.nodeName===ae&&!zm(Be)&&!pp(G))Df(N);else{const Xe=ns(N.selection.getRng());pp(G)&&G.classList.forEach((Xn,Eo,po)=>{Xn.startsWith("tox-")&&(po.remove(Xn),po.length===0&&G.removeAttribute("class"))}),ma(N.dom,G,Be);const Ft=N.dom.rename(G,ae);jd(N.dom,Ft),N.selection.setRng(fa(Xe)),Vm(N,ae,Be),Tf(N,Xu(ae),Ft)}else Vm(N,ae,Be),Tf(N,Xu(ae),G)},od=(N,G,ae)=>{const Be=la(N);if(Af(N,Be))return;const Xe=il(N),Ft=x(ae)?ae:{};Xe.length>0?du(N,Be,Xe,G,Ft):g1(N,Be,G,Ft)},Nf=at.DOM,Xb=(N,G)=>{const ae=G.parentElement;if(ae&&ae.nodeName==="LI"&&ae.firstChild===G){const Be=ae.previousSibling;Be&&Be.nodeName==="LI"?(Be.appendChild(G),Ra(N,ae)&&Nf.remove(ae)):Nf.setStyle(ae,"listStyleType","none")}if(cn(ae)){const Be=ae.previousSibling;Be&&Be.nodeName==="LI"&&Be.appendChild(G)}},wr=(N,G)=>{const ae=He.grep(N.select("ol,ul",G));He.each(ae,Be=>{Xb(N,Be)})},Ha=(N,G,ae,Be)=>{let Xe=G.startContainer;const Ft=G.startOffset;if(ot(Xe)&&(ae?Ft<Xe.data.length:Ft>0))return Xe;const Xn=N.schema.getNonEmptyElements();Yt(Xe)&&(Xe=nu.getNode(Xe,Ft));const Eo=new ou(Xe,Be);ae&&Gl(N.dom,Xe)&&Eo.next();const po=ae?Eo.next.bind(Eo):Eo.prev2.bind(Eo);for(;Xe=po();)if(Xe.nodeName==="LI"&&!Xe.hasChildNodes()||Xn[Xe.nodeName]||ot(Xe)&&Xe.data.length>0)return Xe;return null},Da=(N,G)=>{const ae=G.childNodes;return ae.length===1&&!cn(ae[0])&&N.isBlock(ae[0])},ll=N=>j.from(N).map(be.fromDom).filter(Tn).exists(G=>Im(G)&&!Je(["details"],us(G))),bi=(N,G)=>{Da(N,G)&&ll(G.firstChild)&&N.remove(G.firstChild,!0)},yp=(N,G,ae)=>{let Be;const Xe=Da(N,ae)?ae.firstChild:ae;if(bi(N,G),!Ra(N,G,!0))for(;Be=G.firstChild;)Xe.appendChild(Be)},ui=(N,G,ae)=>{let Be;const Xe=G.parentNode;if(!yo(N,G)||!yo(N,ae))return;cn(ae.lastChild)&&(Be=ae.lastChild),Xe===ae.lastChild&&As(Xe.previousSibling)&&N.remove(Xe.previousSibling);const Ft=ae.lastChild;Ft&&As(Ft)&&G.hasChildNodes()&&N.remove(Ft),Ra(N,ae,!0)&&$l(be.fromDom(ae)),yp(N,G,ae),Be&&ae.appendChild(Be);const Eo=Ge(be.fromDom(ae),be.fromDom(G))?N.getParents(G,cn,ae):[];N.remove(G),_e(Eo,po=>{Ra(N,po)&&po!==N.getRoot()&&N.remove(po)})},qi=(N,G,ae)=>{$l(be.fromDom(ae)),ui(N.dom,G,ae),N.selection.setCursorLocation(ae,0)},fu=(N,G,ae,Be)=>{const Xe=N.dom;if(Xe.isEmpty(Be))qi(N,ae,Be);else{const Ft=ns(G);ui(Xe,ae,Be),N.selection.setRng(fa(Ft))}},Bt=(N,G,ae,Be)=>{const Xe=ns(G);ui(N.dom,ae,Be);const Ft=fa(Xe);N.selection.setRng(Ft)},Yi=(N,G)=>{const ae=N.dom,Be=N.selection,Xe=Be.getStart(),Ft=Uo(N,Xe),Xn=ae.getParent(Be.getStart(),"LI",Ft);if(Xn){const Eo=Xn.parentElement;if(Eo===N.getBody()&&Ra(ae,Eo))return!0;const po=tr(Be.getRng()),Mn=ae.getParent(Ha(N,po,G,Ft),"LI",Ft),ws=Mn&&(G?ae.isChildOf(Xn,Mn):ae.isChildOf(Mn,Xn));if(Mn&&Mn!==Xn&&!ws)return N.undoManager.transact(()=>{G?fu(N,po,Mn,Xn):Zo(Xn)?cu(N):Bt(N,po,Xn,Mn)}),!0;if(ws&&!G&&Mn!==Xn)return N.undoManager.transact(()=>{if(po.commonAncestorContainer.parentElement){const Ur=ns(po),_r=po.commonAncestorContainer.parentElement;yp(ae,po.commonAncestorContainer.parentElement,Mn),_r.remove();const Pc=fa(Ur);N.selection.setRng(Pc)}}),!0;if(!Mn&&!G&&po.startOffset===0&&po.endOffset===0)return N.undoManager.transact(()=>{Df(N)}),!0}return!1},xp=(N,G,ae)=>{const Be=N.getParent(G.parentNode,N.isBlock,ae);N.remove(G),Be&&N.isEmpty(Be)&&N.remove(Be)},Cr=(N,G)=>{const ae=N.dom,Be=N.selection.getStart(),Xe=Uo(N,Be),Ft=ae.getParent(Be,ae.isBlock,Xe);if(Ft&&ae.isEmpty(Ft,void 0,{checkRootAsContent:!0})){const Xn=tr(N.selection.getRng()),Eo=ae.getParent(Ha(N,Xn,G,Xe),"LI",Xe);if(Eo){const po=_r=>Je(["td","th","caption"],us(_r)),Mn=_r=>_r.dom===Xe,ws=Ii(be.fromDom(Eo),po,Mn),Ur=Ii(be.fromDom(Xn.startContainer),po,Mn);return In(ws,Ur,Ne)?(N.undoManager.transact(()=>{const _r=Eo.parentNode;xp(ae,Ft,Xe),jd(ae,_r),N.selection.select(Eo,!0),N.selection.collapse(G)}),!0):!1}}return!1},sd=(N,G)=>Yi(N,G)||Cr(N,G),Ua=N=>{const G=N.selection.getStart(),ae=Uo(N,G);return N.dom.getParent(G,"LI,DT,DD",ae)||zl(N).length>0},Ic=N=>Ua(N)?(N.undoManager.transact(()=>{N.execCommand("Delete"),wr(N.dom,N.getBody())}),!0):!1,Hm=(N,G)=>{const ae=N.selection;return!Af(N,ae.getNode())&&(ae.isCollapsed()?sd(N,G):Ic(N))},cl=N=>{N.on("ExecCommand",G=>{const ae=G.command.toLowerCase();(ae==="delete"||ae==="forwarddelete")&&Ua(N)&&wr(N.dom,N.getBody())}),N.on("keydown",G=>{G.keyCode===Sf.BACKSPACE?Hm(N,!1)&&G.preventDefault():G.keyCode===Sf.DELETE&&Hm(N,!0)&&G.preventDefault()})},Xo=N=>({backspaceDelete:G=>{Hm(N,G)}}),zr=(N,G)=>{const ae=la(N);ae===null||Af(N,ae)||N.undoManager.transact(()=>{x(G.styles)&&N.dom.setStyles(ae,G.styles),x(G.attrs)&&Nr(G.attrs,(Be,Xe)=>N.dom.setAttrib(ae,Xe,Be))})},Lf=N=>{const G=At(Sx(N).split("")),ae=we(G,(Be,Xe)=>{const Ft=Be.toUpperCase().charCodeAt(0)-65+1;return Math.pow(26,Xe)*Ft});return St(ae,(Be,Xe)=>Be+Xe,0)},Mr=N=>{if(N--,N<0)return"";{const G=N%26,ae=Math.floor(N/26),Be=Mr(ae),Xe=String.fromCharCode(65+G);return Be+Xe}},sh=N=>/^[A-Z]+$/.test(N),mu=N=>/^[a-z]+$/.test(N),h1=N=>/^[0-9]+$/.test(N),Tr=N=>h1(N)?2:sh(N)?0:mu(N)?1:jb(N)?3:4,ut=N=>{switch(Tr(N)){case 2:return j.some({listStyleType:j.none(),start:N});case 0:return j.some({listStyleType:j.some("upper-alpha"),start:Lf(N).toString()});case 1:return j.some({listStyleType:j.some("lower-alpha"),start:Lf(N).toString()});case 3:return j.some({listStyleType:j.none(),start:""});case 4:return j.none()}},Wa=N=>{const G=parseInt(N.start,10);return Wt(N.listStyleType,"upper-alpha")?Mr(G):Wt(N.listStyleType,"lower-alpha")?Mr(G).toLowerCase():N.start},Hr=N=>{const G=la(N);!Sn(G)||Af(N,G)||N.windowManager.open({title:"List Properties",body:{type:"panel",items:[{type:"input",name:"start",label:"Start list at number",inputMode:"numeric"}]},initialData:{start:Wa({start:N.dom.getAttrib(G,"start","1"),listStyleType:j.from(N.dom.getStyle(G,"list-style-type"))})},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],onSubmit:ae=>{const Be=ae.getData();ut(Be.start).each(Xe=>{N.execCommand("mceListUpdate",!1,{attrs:{start:Xe.start==="1"?"":Xe.start},styles:{"list-style-type":Xe.listStyleType.getOr("")}})}),ae.close()}})},Yl=(N,G)=>()=>{const ae=la(N);return O(ae)&&ae.nodeName===G},Dc=N=>{N.addCommand("mceListProps",()=>{Hr(N)})},ni=N=>{N.on("BeforeExecCommand",G=>{const ae=G.command.toLowerCase();ae==="indent"?al(N):ae==="outdent"&&cu(N)}),N.addCommand("InsertUnorderedList",(G,ae)=>{od(N,"UL",ae)}),N.addCommand("InsertOrderedList",(G,ae)=>{od(N,"OL",ae)}),N.addCommand("InsertDefinitionList",(G,ae)=>{od(N,"DL",ae)}),N.addCommand("RemoveList",()=>{Df(N)}),Dc(N),N.addCommand("mceListUpdate",(G,ae)=>{x(ae)&&zr(N,ae)}),N.addQueryStateHandler("InsertUnorderedList",Yl(N,"UL")),N.addQueryStateHandler("InsertOrderedList",Yl(N,"OL")),N.addQueryStateHandler("InsertDefinitionList",Yl(N,"DL"))};var or=tinymce.util.Tools.resolve("tinymce.html.Node");const Ps=N=>N.type===3,Ka=N=>N.length===0,Xl=N=>{const G=(Xe,Ft)=>{const Xn=or.create("li");_e(Xe,Eo=>Xn.append(Eo)),Ft?N.insert(Xn,Ft,!0):N.append(Xn)},ae=(Xe,Ft)=>Ps(Ft)?[...Xe,Ft]:!Ka(Xe)&&!Ps(Ft)?(G(Xe,Ft),[]):Xe,Be=St(N.children(),ae,[]);Ka(Be)||G(Be)},gu=N=>{N.on("PreInit",()=>{const{parser:G}=N;G.addNodeFilter("ul,ol",ae=>_e(ae,Xl))})},Zd=N=>{N.on("keydown",G=>{G.keyCode!==Sf.TAB||Sf.metaKeyPressed(G)||N.undoManager.transact(()=>{(G.shiftKey?cu(N):al(N))&&G.preventDefault()})})},Um=N=>{Er(N)&&Zd(N),cl(N)},rh=(N,G)=>ae=>{const Be=Xe=>{ae.setActive(u1(Xe.parents,G)),ae.setEnabled(!Af(N,Xe.element)&&N.selection.isEditable())};return ae.setEnabled(N.selection.isEditable()),d1(N,Be)},ih=N=>{const G=ae=>()=>N.execCommand(ae);N.hasPlugin("advlist")||(N.ui.registry.addToggleButton("numlist",{icon:"ordered-list",active:!1,tooltip:"Numbered list",onAction:G("InsertOrderedList"),onSetup:rh(N,"OL")}),N.ui.registry.addToggleButton("bullist",{icon:"unordered-list",active:!1,tooltip:"Bullet list",onAction:G("InsertUnorderedList"),onSetup:rh(N,"UL")}))},Jb=(N,G)=>ae=>d1(N,Xe=>ae.setEnabled(u1(Xe.parents,G)&&!Af(N,Xe.element))),Qb=N=>{const G={text:"List properties...",icon:"ordered-list",onAction:()=>N.execCommand("mceListProps"),onSetup:Jb(N,"OL")};N.ui.registry.addMenuItem("listprops",G),N.ui.registry.addContextMenu("lists",{update:ae=>{const Be=la(N,ae);return Sn(Be)?["listprops"]:[]}})};var rd=()=>{t.add("lists",N=>(_l(N),gu(N),N.hasPlugin("rtc",!0)?Dc(N):(Um(N),ni(N)),ih(N),Qb(N),Xo(N)))};rd()}()),dX}var mX;function wCe(){return mX||(mX=1,xCe()),uX}wCe();var gX={},hX={},pX;function CCe(){return pX||(pX=1,function(){var t=tinymce.util.Tools.resolve("tinymce.PluginManager");const r=(xe,Re)=>xe.dispatch("insertCustomChar",{chr:Re}),i=(xe,Re)=>{const Ve=r(xe,Re).chr;xe.execCommand("mceInsertContent",!1,Ve)},u=(xe,Re,Ve)=>{var be;return Ve(xe,Re.prototype)?!0:((be=xe.constructor)===null||be===void 0?void 0:be.name)===Re.name},g=xe=>{const Re=typeof xe;return xe===null?"null":Re==="object"&&Array.isArray(xe)?"array":Re==="object"&&u(xe,String,(Ve,be)=>be.isPrototypeOf(Ve))?"string":Re},h=xe=>Re=>g(Re)===xe,x=xe=>Re=>typeof Re===xe,C=xe=>Re=>xe===Re,D=h("array"),I=C(null),O=C(void 0),B=xe=>xe==null,V=xe=>!B(xe),z=x("function"),ee=(xe=>()=>xe)(!1);class ie{constructor(Re,Ve){this.tag=Re,this.value=Ve}static some(Re){return new ie(!0,Re)}static none(){return ie.singletonNone}fold(Re,Ve){return this.tag?Ve(this.value):Re()}isSome(){return this.tag}isNone(){return!this.tag}map(Re){return this.tag?ie.some(Re(this.value)):ie.none()}bind(Re){return this.tag?Re(this.value):ie.none()}exists(Re){return this.tag&&Re(this.value)}forall(Re){return!this.tag||Re(this.value)}filter(Re){return!this.tag||Re(this.value)?this:ie.none()}getOr(Re){return this.tag?this.value:Re}or(Re){return this.tag?this:Re}getOrThunk(Re){return this.tag?this.value:Re()}orThunk(Re){return this.tag?this:Re()}getOrDie(Re){if(this.tag)return this.value;throw new Error(Re??"Called getOrDie on None")}static from(Re){return V(Re)?ie.some(Re):ie.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(Re){this.tag&&Re(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}ie.singletonNone=new ie(!1);const W=Array.prototype.push,he=(xe,Re)=>{const Ve=xe.length,be=new Array(Ve);for(let Se=0;Se<Ve;Se++){const Ne=xe[Se];be[Se]=Re(Ne,Se)}return be},ue=(xe,Re)=>{for(let Ve=0,be=xe.length;Ve<be;Ve++){const Se=xe[Ve];Re(Se,Ve)}},j=(xe,Re,Ve)=>{for(let be=0,Se=xe.length;be<Se;be++){const Ne=xe[be];if(Re(Ne,be))return ie.some(Ne);if(Ve(Ne,be))break}return ie.none()},de=(xe,Re)=>j(xe,Re,ee),te=xe=>{const Re=[];for(let Ve=0,be=xe.length;Ve<be;++Ve){if(!D(xe[Ve]))throw new Error("Arr.flatten item "+Ve+" was not an array, input: "+xe);W.apply(Re,xe[Ve])}return Re},ze=(xe,Re)=>te(he(xe,Re));var Fe=tinymce.util.Tools.resolve("tinymce.util.Tools");const Je=xe=>Re=>Re.options.get(xe),rt=xe=>{const Re=xe.options.register,Ve=be=>z(be)||D(be);Re("charmap",{processor:Ve}),Re("charmap_append",{processor:Ve})},we=Je("charmap"),_e=Je("charmap_append"),R=Fe.isArray,it="User Defined",St=()=>[{name:"Currency",characters:[[36,"dollar sign"],[162,"cent sign"],[8364,"euro sign"],[163,"pound sign"],[165,"yen sign"],[164,"currency sign"],[8352,"euro-currency sign"],[8353,"colon sign"],[8354,"cruzeiro sign"],[8355,"french franc sign"],[8356,"lira sign"],[8357,"mill sign"],[8358,"naira sign"],[8359,"peseta sign"],[8360,"rupee sign"],[8361,"won sign"],[8362,"new sheqel sign"],[8363,"dong sign"],[8365,"kip sign"],[8366,"tugrik sign"],[8367,"drachma sign"],[8368,"german penny symbol"],[8369,"peso sign"],[8370,"guarani sign"],[8371,"austral sign"],[8372,"hryvnia sign"],[8373,"cedi sign"],[8374,"livre tournois sign"],[8375,"spesmilo sign"],[8376,"tenge sign"],[8377,"indian rupee sign"],[8378,"turkish lira sign"],[8379,"nordic mark sign"],[8380,"manat sign"],[8381,"ruble sign"],[20870,"yen character"],[20803,"yuan character"],[22291,"yuan character, in hong kong and taiwan"],[22278,"yen/yuan character variant one"]]},{name:"Text",characters:[[169,"copyright sign"],[174,"registered sign"],[8482,"trade mark sign"],[8240,"per mille sign"],[181,"micro sign"],[183,"middle dot"],[8226,"bullet"],[8230,"three dot leader"],[8242,"minutes / feet"],[8243,"seconds / inches"],[167,"section sign"],[182,"paragraph sign"],[223,"sharp s / ess-zed"]]},{name:"Quotations",characters:[[8249,"single left-pointing angle quotation mark"],[8250,"single right-pointing angle quotation mark"],[171,"left pointing guillemet"],[187,"right pointing guillemet"],[8216,"left single quotation mark"],[8217,"right single quotation mark"],[8220,"left double quotation mark"],[8221,"right double quotation mark"],[8218,"single low-9 quotation mark"],[8222,"double low-9 quotation mark"],[60,"less-than sign"],[62,"greater-than sign"],[8804,"less-than or equal to"],[8805,"greater-than or equal to"],[8211,"en dash"],[8212,"em dash"],[175,"macron"],[8254,"overline"],[164,"currency sign"],[166,"broken bar"],[168,"diaeresis"],[161,"inverted exclamation mark"],[191,"turned question mark"],[710,"circumflex accent"],[732,"small tilde"],[176,"degree sign"],[8722,"minus sign"],[177,"plus-minus sign"],[247,"division sign"],[8260,"fraction slash"],[215,"multiplication sign"],[185,"superscript one"],[178,"superscript two"],[179,"superscript three"],[188,"fraction one quarter"],[189,"fraction one half"],[190,"fraction three quarters"]]},{name:"Mathematical",characters:[[402,"function / florin"],[8747,"integral"],[8721,"n-ary sumation"],[8734,"infinity"],[8730,"square root"],[8764,"similar to"],[8773,"approximately equal to"],[8776,"almost equal to"],[8800,"not equal to"],[8801,"identical to"],[8712,"element of"],[8713,"not an element of"],[8715,"contains as member"],[8719,"n-ary product"],[8743,"logical and"],[8744,"logical or"],[172,"not sign"],[8745,"intersection"],[8746,"union"],[8706,"partial differential"],[8704,"for all"],[8707,"there exists"],[8709,"diameter"],[8711,"backward difference"],[8727,"asterisk operator"],[8733,"proportional to"],[8736,"angle"]]},{name:"Extended Latin",characters:[[192,"A - grave"],[193,"A - acute"],[194,"A - circumflex"],[195,"A - tilde"],[196,"A - diaeresis"],[197,"A - ring above"],[256,"A - macron"],[198,"ligature AE"],[199,"C - cedilla"],[200,"E - grave"],[201,"E - acute"],[202,"E - circumflex"],[203,"E - diaeresis"],[274,"E - macron"],[204,"I - grave"],[205,"I - acute"],[206,"I - circumflex"],[207,"I - diaeresis"],[298,"I - macron"],[208,"ETH"],[209,"N - tilde"],[210,"O - grave"],[211,"O - acute"],[212,"O - circumflex"],[213,"O - tilde"],[214,"O - diaeresis"],[216,"O - slash"],[332,"O - macron"],[338,"ligature OE"],[352,"S - caron"],[217,"U - grave"],[218,"U - acute"],[219,"U - circumflex"],[220,"U - diaeresis"],[362,"U - macron"],[221,"Y - acute"],[376,"Y - diaeresis"],[562,"Y - macron"],[222,"THORN"],[224,"a - grave"],[225,"a - acute"],[226,"a - circumflex"],[227,"a - tilde"],[228,"a - diaeresis"],[229,"a - ring above"],[257,"a - macron"],[230,"ligature ae"],[231,"c - cedilla"],[232,"e - grave"],[233,"e - acute"],[234,"e - circumflex"],[235,"e - diaeresis"],[275,"e - macron"],[236,"i - grave"],[237,"i - acute"],[238,"i - circumflex"],[239,"i - diaeresis"],[299,"i - macron"],[240,"eth"],[241,"n - tilde"],[242,"o - grave"],[243,"o - acute"],[244,"o - circumflex"],[245,"o - tilde"],[246,"o - diaeresis"],[248,"o slash"],[333,"o macron"],[339,"ligature oe"],[353,"s - caron"],[249,"u - grave"],[250,"u - acute"],[251,"u - circumflex"],[252,"u - diaeresis"],[363,"u - macron"],[253,"y - acute"],[254,"thorn"],[255,"y - diaeresis"],[563,"y - macron"],[913,"Alpha"],[914,"Beta"],[915,"Gamma"],[916,"Delta"],[917,"Epsilon"],[918,"Zeta"],[919,"Eta"],[920,"Theta"],[921,"Iota"],[922,"Kappa"],[923,"Lambda"],[924,"Mu"],[925,"Nu"],[926,"Xi"],[927,"Omicron"],[928,"Pi"],[929,"Rho"],[931,"Sigma"],[932,"Tau"],[933,"Upsilon"],[934,"Phi"],[935,"Chi"],[936,"Psi"],[937,"Omega"],[945,"alpha"],[946,"beta"],[947,"gamma"],[948,"delta"],[949,"epsilon"],[950,"zeta"],[951,"eta"],[952,"theta"],[953,"iota"],[954,"kappa"],[955,"lambda"],[956,"mu"],[957,"nu"],[958,"xi"],[959,"omicron"],[960,"pi"],[961,"rho"],[962,"final sigma"],[963,"sigma"],[964,"tau"],[965,"upsilon"],[966,"phi"],[967,"chi"],[968,"psi"],[969,"omega"]]},{name:"Symbols",characters:[[8501,"alef symbol"],[982,"pi symbol"],[8476,"real part symbol"],[978,"upsilon - hook symbol"],[8472,"Weierstrass p"],[8465,"imaginary part"]]},{name:"Arrows",characters:[[8592,"leftwards arrow"],[8593,"upwards arrow"],[8594,"rightwards arrow"],[8595,"downwards arrow"],[8596,"left right arrow"],[8629,"carriage return"],[8656,"leftwards double arrow"],[8657,"upwards double arrow"],[8658,"rightwards double arrow"],[8659,"downwards double arrow"],[8660,"left right double arrow"],[8756,"therefore"],[8834,"subset of"],[8835,"superset of"],[8836,"not a subset of"],[8838,"subset of or equal to"],[8839,"superset of or equal to"],[8853,"circled plus"],[8855,"circled times"],[8869,"perpendicular"],[8901,"dot operator"],[8968,"left ceiling"],[8969,"right ceiling"],[8970,"left floor"],[8971,"right floor"],[9001,"left-pointing angle bracket"],[9002,"right-pointing angle bracket"],[9674,"lozenge"],[9824,"black spade suit"],[9827,"black club suit"],[9829,"black heart suit"],[9830,"black diamond suit"],[8194,"en space"],[8195,"em space"],[8201,"thin space"],[8204,"zero width non-joiner"],[8205,"zero width joiner"],[8206,"left-to-right mark"],[8207,"right-to-left mark"]]}],Ut=xe=>Fe.grep(xe,Re=>R(Re)&&Re.length===2),sn=xe=>R(xe)?Ut(xe):typeof xe=="function"?xe():[],dt=(xe,Re)=>{const Ve=we(xe);Ve&&(Re=[{name:it,characters:sn(Ve)}]);const be=_e(xe);if(be){const Se=Fe.grep(Re,Ne=>Ne.name===it);return Se.length?(Se[0].characters=[...Se[0].characters,...sn(be)],Re):Re.concat({name:it,characters:sn(be)})}return Re},An=xe=>{const Re=dt(xe,St());return Re.length>1?[{name:"All",characters:ze(Re,Ve=>Ve.characters)}].concat(Re):Re},At=xe=>({getCharMap:()=>An(xe),insertChar:be=>{i(xe,be)}}),et=xe=>{let Re=xe;return{get:()=>Re,set:Se=>{Re=Se}}},Me=(xe,Re)=>{let Ve=null;const be=()=>{I(Ve)||(clearTimeout(Ve),Ve=null)};return{cancel:be,throttle:(...Ne)=>{be(),Ve=setTimeout(()=>{Ve=null,xe.apply(null,Ne)},Re)}}},mt=(xe,Re,Ve=0,be)=>{const Se=xe.indexOf(Re,Ve);return Se!==-1?O(be)?!0:Se+Re.length<=be:!1},vo=String.fromCodePoint,Wt=(xe,Re,Ve)=>mt(vo(xe).toLowerCase(),Ve)?!0:mt(Re.toLowerCase(),Ve)||mt(Re.toLowerCase().replace(/\s+/g,""),Ve),In=(xe,Re)=>{const Ve=[],be=Re.toLowerCase();return ue(xe.characters,Se=>{Wt(Se[0],Se[1],be)&&Ve.push(Se)}),he(Ve,Se=>({text:Se[1],value:vo(Se[0]),icon:vo(Se[0])}))},on="pattern",J=(xe,Re)=>{const Ve=()=>[{label:"Search",type:"input",name:on},{type:"collection",name:"results"}],be=()=>he(Re,Do=>({title:Do.name,name:Do.name,items:Ve()})),Se=()=>({type:"panel",items:Ve()}),Ne=()=>({type:"tabpanel",tabs:be()}),Ge=Re.length===1?et(it):et("All"),ht=(Do,Zs)=>{de(Re,us=>us.name===Ge.get()).each(us=>{const Qr=In(us,Zs);Do.setData({results:Qr})})},Kt=Me(Do=>{const Zs=Do.getData().pattern;ht(Do,Zs)},40),yn=Re.length===1?Se():Ne(),Yn={pattern:"",results:In(Re[0],"")},to={title:"Special Character",size:"normal",body:yn,buttons:[{type:"cancel",name:"close",text:"Close",primary:!0}],initialData:Yn,onAction:(Do,Zs)=>{Zs.name==="results"&&(i(xe,Zs.value),Do.close())},onTabChange:(Do,Zs)=>{Ge.set(Zs.newTabName),Kt.throttle(Do)},onChange:(Do,Zs)=>{Zs.name===on&&Kt.throttle(Do)}};xe.windowManager.open(to).focus(on)},mo=(xe,Re)=>{xe.addCommand("mceShowCharmap",()=>{J(xe,Re)})},Zt=(xe,Re)=>{xe.ui.registry.addAutocompleter("charmap",{trigger:":",columns:"auto",minChars:2,fetch:(Ve,be)=>new Promise((Se,Ne)=>{Se(In(Re,Ve))}),onAction:(Ve,be,Se)=>{xe.selection.setRng(be),xe.insertContent(Se),Ve.hide()}})},vn=xe=>Re=>{const Ve=()=>{Re.setEnabled(xe.selection.isEditable())};return xe.on("NodeChange",Ve),Ve(),()=>{xe.off("NodeChange",Ve)}},je=xe=>{const Re=()=>xe.execCommand("mceShowCharmap");xe.ui.registry.addButton("charmap",{icon:"insert-character",tooltip:"Special character",onAction:Re,onSetup:vn(xe)}),xe.ui.registry.addMenuItem("charmap",{icon:"insert-character",text:"Special character...",onAction:Re,onSetup:vn(xe)})};var tt=()=>{t.add("charmap",xe=>{rt(xe);const Re=An(xe);return mo(xe,Re),je(xe),Zt(xe,Re[0]),At(xe)})};tt()}()),hX}var bX;function _Ce(){return bX||(bX=1,CCe()),gX}_Ce();var vX={},yX={},xX;function SCe(){return xX||(xX=1,function(){var t=tinymce.util.Tools.resolve("tinymce.PluginManager");const i=(xe=>Re=>xe===Re)(null),u=xe=>xe,g=(xe,Re)=>{const Ve=xe.length,be=new Array(Ve);for(let Se=0;Se<Ve;Se++){const Ne=xe[Se];be[Se]=Re(Ne,Se)}return be},x={aletter:"[A-Za-z---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------]",midnumlet:"[-'\\.]",midletter:"[:]",midnum:"[+*/,;;]",numeric:"[0-9---------------------------------]",cr:"\\r",lf:"\\n",newline:"[\v\f\u2028\u2029]",extend:"[------------------------------------------------------------------------------------------------------]",format:"[----\uFEFF-]",katakana:"[-------]",extendnumlet:"[=_--<>]",punctuation:"[~|!-*+-\\/:;?@\\[-`{};----------------------------------------------]"},C={ALETTER:0,MIDNUMLET:1,MIDLETTER:2,MIDNUM:3,NUMERIC:4,CR:5,LF:6,NEWLINE:7,EXTEND:8,FORMAT:9,KATAKANA:10,EXTENDNUMLET:11,AT:12,OTHER:13},D=[new RegExp(x.aletter),new RegExp(x.midnumlet),new RegExp(x.midletter),new RegExp(x.midnum),new RegExp(x.numeric),new RegExp(x.cr),new RegExp(x.lf),new RegExp(x.newline),new RegExp(x.extend),new RegExp(x.format),new RegExp(x.katakana),new RegExp(x.extendnumlet),new RegExp("@")],I="",O=new RegExp("^"+x.punctuation+"$"),B=/^\s+$/,V=D,z=C.OTHER,Z=xe=>{let Re=z;const Ve=V.length;for(let be=0;be<Ve;++be){const Se=V[be];if(Se&&Se.test(xe)){Re=be;break}}return Re},ee=xe=>{const Re={};return Ve=>{if(Re[Ve])return Re[Ve];{const be=xe(Ve);return Re[Ve]=be,be}}},ie=xe=>{const Re=ee(Z);return g(xe,Re)},W=(xe,Re)=>{const Ve=xe[Re],be=xe[Re+1];if(Re<0||Re>xe.length-1&&Re!==0||Ve===C.ALETTER&&be===C.ALETTER)return!1;const Se=xe[Re+2];if(Ve===C.ALETTER&&(be===C.MIDLETTER||be===C.MIDNUMLET||be===C.AT)&&Se===C.ALETTER)return!1;const Ne=xe[Re-1];return(Ve===C.MIDLETTER||Ve===C.MIDNUMLET||be===C.AT)&&be===C.ALETTER&&Ne===C.ALETTER||(Ve===C.NUMERIC||Ve===C.ALETTER)&&(be===C.NUMERIC||be===C.ALETTER)||(Ve===C.MIDNUM||Ve===C.MIDNUMLET)&&be===C.NUMERIC&&Ne===C.NUMERIC||Ve===C.NUMERIC&&(be===C.MIDNUM||be===C.MIDNUMLET)&&Se===C.NUMERIC||(Ve===C.EXTEND||Ve===C.FORMAT)&&(be===C.ALETTER||be===C.NUMERIC||be===C.KATAKANA||be===C.EXTEND||be===C.FORMAT)||(be===C.EXTEND||be===C.FORMAT&&(Se===C.ALETTER||Se===C.NUMERIC||Se===C.KATAKANA||Se===C.EXTEND||Se===C.FORMAT))&&(Ve===C.ALETTER||Ve===C.NUMERIC||Ve===C.KATAKANA||Ve===C.EXTEND||Ve===C.FORMAT)||Ve===C.CR&&be===C.LF?!1:Ve===C.NEWLINE||Ve===C.CR||Ve===C.LF||be===C.NEWLINE||be===C.CR||be===C.LF?!0:!(Ve===C.KATAKANA&&be===C.KATAKANA||be===C.EXTENDNUMLET&&(Ve===C.ALETTER||Ve===C.NUMERIC||Ve===C.KATAKANA||Ve===C.EXTENDNUMLET)||Ve===C.EXTENDNUMLET&&(be===C.ALETTER||be===C.NUMERIC||be===C.KATAKANA)||Ve===C.AT)},he=I,ue=B,j=O,de=xe=>xe==="http"||xe==="https",te=(xe,Re)=>{let Ve;for(Ve=Re;Ve<xe.length&&!ue.test(xe[Ve]);Ve++);return Ve},ze=(xe,Re)=>{const Ve=te(xe,Re+1);return xe.slice(Re+1,Ve).join(he).substr(0,3)==="://"?Ve:Re},Fe=(xe,Re,Ve,be)=>{const Se=[],Ne=[];let Ge=[];for(let ht=0;ht<Ve.length;++ht)if(Ge.push(xe[ht]),W(Ve,ht)){const ln=Re[ht];if((be.includeWhitespace||!ue.test(ln))&&(be.includePunctuation||!j.test(ln))){const Kt=ht-Ge.length+1,yn=ht+1,Yn=Re.slice(Kt,yn).join(he);if(de(Yn)){const to=ze(Re,ht),$o=xe.slice(yn,to);Array.prototype.push.apply(Ge,$o),ht=to}Re[ht+1]==="."&&/^([a-zA-Z]\.)+$/.test(Yn+".")?(Ge.push(xe[ht+1]),Ne.push({start:Kt,end:yn+1})):Ne.push({start:Kt,end:yn}),Se.push(Ge)}Ge=[]}return{words:Se,indices:Ne}},Je=()=>({includeWhitespace:!1,includePunctuation:!1}),rt=(xe,Re,Ve)=>{Ve={...Je(),...Ve};const be=g(xe,Re),Se=ie(be);return Fe(xe,be,Se,Ve)},_e=(xe,Re,Ve)=>rt(xe,Re,Ve).words,R=xe=>xe.replace(/\uFEFF/g,"");var it=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker");const St=(xe,Re)=>{const Ve=Re.getBlockElements(),be=Re.getVoidElements(),Se=Kt=>Ve[Kt.nodeName]||be[Kt.nodeName],Ne=[];let Ge="";const ht=new it(xe,xe);let ln;for(;ln=ht.next();)ln.nodeType===3?Ge+=R(ln.data):Se(ln)&&Ge.length&&(Ne.push(Ge),Ge="");return Ge.length&&Ne.push(Ge),Ne},Ut=xe=>xe.replace(/\u200B/g,""),sn=xe=>xe.replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"_").length,dt=(xe,Re)=>{const Ve=Ut(St(xe,Re).join(`
`));return _e(Ve.split(""),u).length},An=(xe,Re)=>{const Ve=St(xe,Re).join("");return sn(Ve)},At=(xe,Re)=>{const Ve=St(xe,Re).join("").replace(/\s/g,"");return sn(Ve)},et=(xe,Re)=>()=>Re(xe.getBody(),xe.schema),Me=(xe,Re)=>()=>Re(xe.selection.getRng().cloneContents(),xe.schema),mt=xe=>et(xe,dt),vo=xe=>({body:{getWordCount:mt(xe),getCharacterCount:et(xe,An),getCharacterCountWithoutSpaces:et(xe,At)},selection:{getWordCount:Me(xe,dt),getCharacterCount:Me(xe,An),getCharacterCountWithoutSpaces:Me(xe,At)},getCount:mt(xe)}),Wt=(xe,Re)=>{xe.windowManager.open({title:"Word Count",body:{type:"panel",items:[{type:"table",header:["Count","Document","Selection"],cells:[["Words",String(Re.body.getWordCount()),String(Re.selection.getWordCount())],["Characters (no spaces)",String(Re.body.getCharacterCountWithoutSpaces()),String(Re.selection.getCharacterCountWithoutSpaces())],["Characters",String(Re.body.getCharacterCount()),String(Re.selection.getCharacterCount())]]}]},buttons:[{type:"cancel",name:"close",text:"Close",primary:!0}]})},In=(xe,Re)=>{xe.addCommand("mceWordCount",()=>Wt(xe,Re))},on=(xe,Re)=>{let Ve=null;return{cancel:()=>{i(Ve)||(clearTimeout(Ve),Ve=null)},throttle:(...Ne)=>{i(Ve)&&(Ve=setTimeout(()=>{Ve=null,xe.apply(null,Ne)},Re))}}};var J=tinymce.util.Tools.resolve("tinymce.util.Delay");const mo=(xe,Re)=>{xe.dispatch("wordCountUpdate",{wordCount:{words:Re.body.getWordCount(),characters:Re.body.getCharacterCount(),charactersWithoutSpaces:Re.body.getCharacterCountWithoutSpaces()}})},Zt=(xe,Re)=>{mo(xe,Re)},vn=(xe,Re,Ve)=>{const be=on(()=>Zt(xe,Re),Ve);xe.on("init",()=>{Zt(xe,Re),J.setEditorTimeout(xe,()=>{xe.on("SetContent BeforeAddUndo Undo Redo ViewUpdate keyup",be.throttle)},0),xe.on("remove",be.cancel)})},je=xe=>{const Re=()=>xe.execCommand("mceWordCount");xe.ui.registry.addButton("wordcount",{tooltip:"Word count",icon:"character-count",onAction:Re}),xe.ui.registry.addMenuItem("wordcount",{text:"Word count",icon:"character-count",onAction:Re})};var tt=(xe=300)=>{t.add("wordcount",Re=>{const Ve=vo(Re);return In(Re,Ve),je(Re),vn(Re,Ve,xe),Ve})};tt()}()),yX}var wX;function kCe(){return wX||(wX=1,SCe()),vX}kCe();tinymce.Resource.add("ui/default/content.css",`.mce-content-body .mce-item-anchor{background:transparent url("data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D'8'%20height%3D'12'%20xmlns%3D'http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg'%3E%3Cpath%20d%3D'M0%200L8%200%208%2012%204.09117821%209%200%2012z'%2F%3E%3C%2Fsvg%3E%0A") no-repeat center}.mce-content-body .mce-item-anchor:empty{cursor:default;display:inline-block;height:12px!important;padding:0 2px;-webkit-user-modify:read-only;-moz-user-modify:read-only;-webkit-user-select:all;user-select:all;width:8px!important}.mce-content-body .mce-item-anchor:not(:empty){background-position-x:2px;display:inline-block;padding-left:12px}.mce-content-body .mce-item-anchor[data-mce-selected]{outline-offset:1px}.tox-comments-visible .tox-comment[contenteditable=false]:not([data-mce-selected]),.tox-comments-visible span.tox-comment img:not([data-mce-selected]),.tox-comments-visible span.tox-comment span.mce-preview-object:not([data-mce-selected]),.tox-comments-visible span.tox-comment>audio:not([data-mce-selected]),.tox-comments-visible span.tox-comment>video:not([data-mce-selected]){outline:3px solid #ffe89d}.tox-comments-visible .tox-comment[contenteditable=false][data-mce-annotation-active=true]:not([data-mce-selected]){outline:3px solid #fed635}.tox-comments-visible span.tox-comment[data-mce-annotation-active=true] img:not([data-mce-selected]),.tox-comments-visible span.tox-comment[data-mce-annotation-active=true] span.mce-preview-object:not([data-mce-selected]),.tox-comments-visible span.tox-comment[data-mce-annotation-active=true]>audio:not([data-mce-selected]),.tox-comments-visible span.tox-comment[data-mce-annotation-active=true]>video:not([data-mce-selected]){outline:3px solid #fed635}.tox-comments-visible span.tox-comment:not([data-mce-selected]){background-color:#ffe89d;outline:0}.tox-comments-visible span.tox-comment[data-mce-annotation-active=true]:not([data-mce-selected=inline-boundary]){background-color:#fed635}.tox-checklist>li:not(.tox-checklist--hidden){list-style:none;margin:.25em 0}.tox-checklist>li:not(.tox-checklist--hidden)::before{content:url("data:image/svg+xml;charset=UTF-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2216%22%20height%3D%2216%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cg%20id%3D%22checklist-unchecked%22%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%3E%3Crect%20id%3D%22Rectangle%22%20width%3D%2215%22%20height%3D%2215%22%20x%3D%22.5%22%20y%3D%22.5%22%20fill-rule%3D%22nonzero%22%20stroke%3D%22%234C4C4C%22%20rx%3D%222%22%2F%3E%3C%2Fg%3E%3C%2Fsvg%3E%0A");cursor:pointer;height:1em;margin-left:-1.5em;margin-top:.125em;position:absolute;width:1em}.tox-checklist li:not(.tox-checklist--hidden).tox-checklist--checked::before{content:url("data:image/svg+xml;charset=UTF-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2216%22%20height%3D%2216%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cg%20id%3D%22checklist-checked%22%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%3E%3Crect%20id%3D%22Rectangle%22%20width%3D%2216%22%20height%3D%2216%22%20fill%3D%22%234099FF%22%20fill-rule%3D%22nonzero%22%20rx%3D%222%22%2F%3E%3Cpath%20id%3D%22Path%22%20fill%3D%22%23FFF%22%20fill-rule%3D%22nonzero%22%20d%3D%22M11.5703186%2C3.14417309%20C11.8516238%2C2.73724603%2012.4164781%2C2.62829933%2012.83558%2C2.89774797%20C13.260121%2C3.17069355%2013.3759736%2C3.72932262%2013.0909105%2C4.14168582%20L7.7580587%2C11.8560195%20C7.43776896%2C12.3193404%206.76483983%2C12.3852142%206.35607322%2C11.9948725%20L3.02491697%2C8.8138662%20C2.66090143%2C8.46625845%202.65798871%2C7.89594698%203.01850234%2C7.54483354%20C3.373942%2C7.19866177%203.94940006%2C7.19592841%204.30829608%2C7.5386474%20L6.85276923%2C9.9684299%20L11.5703186%2C3.14417309%20Z%22%2F%3E%3C%2Fg%3E%3C%2Fsvg%3E%0A")}[dir=rtl] .tox-checklist>li:not(.tox-checklist--hidden)::before{margin-left:0;margin-right:-1.5em}code[class*=language-],pre[class*=language-]{color:#000;background:0 0;text-shadow:0 1px #fff;font-family:Consolas,Monaco,'Andale Mono','Ubuntu Mono',monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;tab-size:4;-webkit-hyphens:none;hyphens:none}code[class*=language-] ::selection,code[class*=language-]::selection,pre[class*=language-] ::selection,pre[class*=language-]::selection{text-shadow:none;background:#b3d4fc}@media print{code[class*=language-],pre[class*=language-]{text-shadow:none}}pre[class*=language-]{padding:1em;margin:.5em 0;overflow:auto}:not(pre)>code[class*=language-],pre[class*=language-]{background:#f5f2f0}:not(pre)>code[class*=language-]{padding:.1em;border-radius:.3em;white-space:normal}.token.cdata,.token.comment,.token.doctype,.token.prolog{color:#708090}.token.punctuation{color:#999}.token.namespace{opacity:.7}.token.boolean,.token.constant,.token.deleted,.token.number,.token.property,.token.symbol,.token.tag{color:#905}.token.attr-name,.token.builtin,.token.char,.token.inserted,.token.selector,.token.string{color:#690}.language-css .token.string,.style .token.string,.token.entity,.token.operator,.token.url{color:#9a6e3a;background:hsla(0,0%,100%,.5)}.token.atrule,.token.attr-value,.token.keyword{color:#07a}.token.class-name,.token.function{color:#dd4a68}.token.important,.token.regex,.token.variable{color:#e90}.token.bold,.token.important{font-weight:700}.token.italic{font-style:italic}.token.entity{cursor:help}.mce-content-body{overflow-wrap:break-word;word-wrap:break-word}.mce-content-body .mce-visual-caret{background-color:#000;background-color:currentColor;position:absolute}.mce-content-body .mce-visual-caret-hidden{display:none}.mce-content-body [data-mce-caret]{left:-1000px;margin:0;padding:0;position:absolute;right:auto;top:0}.mce-content-body .mce-offscreen-selection{left:-2000000px;max-width:1000000px;position:absolute}.mce-content-body [contentEditable=false]{cursor:default}.mce-content-body [contentEditable=true]{cursor:text}.tox-cursor-format-painter{cursor:url("data:image/svg+xml;charset=UTF-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2224%22%20height%3D%2224%22%20viewBox%3D%220%200%2024%2024%22%3E%0A%20%20%3Cg%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%3E%0A%20%20%20%20%3Cpath%20fill%3D%22%23000%22%20fill-rule%3D%22nonzero%22%20d%3D%22M15%2C6%20C15%2C5.45%2014.55%2C5%2014%2C5%20L6%2C5%20C5.45%2C5%205%2C5.45%205%2C6%20L5%2C10%20C5%2C10.55%205.45%2C11%206%2C11%20L14%2C11%20C14.55%2C11%2015%2C10.55%2015%2C10%20L15%2C9%20L16%2C9%20L16%2C12%20L9%2C12%20L9%2C19%20C9%2C19.55%209.45%2C20%2010%2C20%20L11%2C20%20C11.55%2C20%2012%2C19.55%2012%2C19%20L12%2C14%20L18%2C14%20L18%2C7%20L15%2C7%20L15%2C6%20Z%22%2F%3E%0A%20%20%20%20%3Cpath%20fill%3D%22%23000%22%20fill-rule%3D%22nonzero%22%20d%3D%22M1%2C1%20L8.25%2C1%20C8.66421356%2C1%209%2C1.33578644%209%2C1.75%20L9%2C1.75%20C9%2C2.16421356%208.66421356%2C2.5%208.25%2C2.5%20L2.5%2C2.5%20L2.5%2C8.25%20C2.5%2C8.66421356%202.16421356%2C9%201.75%2C9%20L1.75%2C9%20C1.33578644%2C9%201%2C8.66421356%201%2C8.25%20L1%2C1%20Z%22%2F%3E%0A%20%20%3C%2Fg%3E%0A%3C%2Fsvg%3E%0A"),default}div.mce-footnotes hr{margin-inline:0 auto;width:25%}div.mce-footnotes li>a.mce-footnotes-backlink{-webkit-text-decoration:none;text-decoration:none}@media print{sup.mce-footnote a{color:#000;-webkit-text-decoration:none;text-decoration:none}div.mce-footnotes{page-break-inside:avoid;break-inside:avoid;width:100%}div.mce-footnotes li>a.mce-footnotes-backlink{display:none}}tiny-math-block{display:flex;justify-content:center;margin:16px 0 16px 0}tiny-math-inline{display:inline-block}.mce-content-body figure.align-left{float:left}.mce-content-body figure.align-right{float:right}.mce-content-body figure.image.align-center{display:table;margin-left:auto;margin-right:auto}.mce-preview-object{border:1px solid gray;display:inline-block;line-height:0;margin:0 2px;position:relative}.mce-preview-object .mce-shim{background:url("data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7");height:100%;left:0;position:absolute;top:0;width:100%}.mce-preview-object[data-mce-selected="2"] .mce-shim{display:none}.mce-content-body .mce-mergetag{cursor:default!important;-webkit-user-select:none;user-select:none}.mce-content-body .mce-mergetag:hover{background-color:rgba(0,108,231,.1)}.mce-content-body .mce-mergetag-affix{background-color:rgba(0,108,231,.1);color:#006ce7}.mce-object{background:transparent url("data:image/svg+xml;charset=UTF-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2224%22%20height%3D%2224%22%3E%3Cpath%20d%3D%22M4%203h16a1%201%200%200%201%201%201v16a1%201%200%200%201-1%201H4a1%201%200%200%201-1-1V4a1%201%200%200%201%201-1zm1%202v14h14V5H5zm4.79%202.565l5.64%204.028a.5.5%200%200%201%200%20.814l-5.64%204.028a.5.5%200%200%201-.79-.407V7.972a.5.5%200%200%201%20.79-.407z%22%2F%3E%3C%2Fsvg%3E%0A") no-repeat center;border:1px dashed #aaa}.mce-pagebreak{border:1px dashed #aaa;cursor:default;display:block;height:5px;margin-top:15px;page-break-before:always;width:100%}@media print{.mce-pagebreak{border:0}}.tiny-pageembed .mce-shim{background:url(data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7);height:100%;left:0;position:absolute;top:0;width:100%}.tiny-pageembed[data-mce-selected="2"] .mce-shim{display:none}.tiny-pageembed{display:inline-block;position:relative}.tiny-pageembed--16by9,.tiny-pageembed--1by1,.tiny-pageembed--21by9,.tiny-pageembed--4by3{display:block;overflow:hidden;padding:0;position:relative;width:100%}.tiny-pageembed--21by9{padding-top:42.857143%}.tiny-pageembed--16by9{padding-top:56.25%}.tiny-pageembed--4by3{padding-top:75%}.tiny-pageembed--1by1{padding-top:100%}.tiny-pageembed--16by9 iframe,.tiny-pageembed--1by1 iframe,.tiny-pageembed--21by9 iframe,.tiny-pageembed--4by3 iframe{border:0;height:100%;left:0;position:absolute;top:0;width:100%}.mce-content-body[data-mce-placeholder]{position:relative}.mce-content-body[data-mce-placeholder]:not(.mce-visualblocks)::before{color:rgba(34,47,62,.7);content:attr(data-mce-placeholder);position:absolute}@media (forced-colors:active){.mce-content-body[data-mce-placeholder]:not(.mce-visualblocks)::before{color:highlight;filter:brightness(30%);z-index:-1}}.mce-content-body:not([dir=rtl])[data-mce-placeholder]:not(.mce-visualblocks)::before{left:1px}.mce-content-body[dir=rtl][data-mce-placeholder]:not(.mce-visualblocks)::before{right:1px}.mce-content-body div.mce-resizehandle{background-color:#4099ff;border-color:#4099ff;border-style:solid;border-width:1px;box-sizing:border-box;height:10px;position:absolute;width:10px;z-index:1298}.mce-content-body div.mce-resizehandle:hover{background-color:#4099ff}.mce-content-body div.mce-resizehandle:first-of-type{cursor:nwse-resize}.mce-content-body div.mce-resizehandle:nth-of-type(2){cursor:nesw-resize}.mce-content-body div.mce-resizehandle:nth-of-type(3){cursor:nwse-resize}.mce-content-body div.mce-resizehandle:nth-of-type(4){cursor:nesw-resize}.mce-content-body .mce-resize-backdrop{z-index:10000}.mce-content-body .mce-clonedresizable{cursor:default;opacity:.5;outline:1px dashed black;position:absolute;z-index:10001}.mce-content-body .mce-clonedresizable.mce-resizetable-columns td,.mce-content-body .mce-clonedresizable.mce-resizetable-columns th{border:0}.mce-content-body .mce-resize-helper{background:#555;background:rgba(0 0 0%);border:1px;border-radius:3px;color:#fff;display:none;font-family:sans-serif;font-size:12px;line-height:14px;margin:5px 10px;padding:5px;position:absolute;white-space:nowrap;z-index:10002}.tox-rtc-user-selection{position:relative}.tox-rtc-user-cursor{bottom:0;cursor:default;position:absolute;top:0;width:2px}.tox-rtc-user-cursor::before{background-color:inherit;border-radius:50%;content:'';display:block;height:8px;position:absolute;right:-3px;top:-3px;width:8px}.tox-rtc-user-cursor:hover::after{background-color:inherit;border-radius:100px;box-sizing:border-box;color:#fff;content:attr(data-user);display:block;font-size:12px;font-weight:700;left:-5px;min-height:8px;min-width:8px;padding:0 12px;position:absolute;top:-11px;white-space:nowrap;z-index:1000}.tox-rtc-user-selection--1 .tox-rtc-user-cursor{background-color:#2dc26b}.tox-rtc-user-selection--2 .tox-rtc-user-cursor{background-color:#e03e2d}.tox-rtc-user-selection--3 .tox-rtc-user-cursor{background-color:#f1c40f}.tox-rtc-user-selection--4 .tox-rtc-user-cursor{background-color:#3598db}.tox-rtc-user-selection--5 .tox-rtc-user-cursor{background-color:#b96ad9}.tox-rtc-user-selection--6 .tox-rtc-user-cursor{background-color:#e67e23}.tox-rtc-user-selection--7 .tox-rtc-user-cursor{background-color:#aaa69d}.tox-rtc-user-selection--8 .tox-rtc-user-cursor{background-color:#f368e0}.tox-rtc-remote-image{background:#eaeaea url("data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D%2236%22%20height%3D%2212%22%20viewBox%3D%220%200%2036%2012%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%0A%20%20%3Ccircle%20cx%3D%226%22%20cy%3D%226%22%20r%3D%223%22%20fill%3D%22rgba(0%2C%200%2C%200%2C%20.2)%22%3E%0A%20%20%20%20%3Canimate%20attributeName%3D%22r%22%20values%3D%223%3B5%3B3%22%20calcMode%3D%22linear%22%20dur%3D%221s%22%20repeatCount%3D%22indefinite%22%20%2F%3E%0A%20%20%3C%2Fcircle%3E%0A%20%20%3Ccircle%20cx%3D%2218%22%20cy%3D%226%22%20r%3D%223%22%20fill%3D%22rgba(0%2C%200%2C%200%2C%20.2)%22%3E%0A%20%20%20%20%3Canimate%20attributeName%3D%22r%22%20values%3D%223%3B5%3B3%22%20calcMode%3D%22linear%22%20begin%3D%22.33s%22%20dur%3D%221s%22%20repeatCount%3D%22indefinite%22%20%2F%3E%0A%20%20%3C%2Fcircle%3E%0A%20%20%3Ccircle%20cx%3D%2230%22%20cy%3D%226%22%20r%3D%223%22%20fill%3D%22rgba(0%2C%200%2C%200%2C%20.2)%22%3E%0A%20%20%20%20%3Canimate%20attributeName%3D%22r%22%20values%3D%223%3B5%3B3%22%20calcMode%3D%22linear%22%20begin%3D%22.66s%22%20dur%3D%221s%22%20repeatCount%3D%22indefinite%22%20%2F%3E%0A%20%20%3C%2Fcircle%3E%0A%3C%2Fsvg%3E%0A") no-repeat center center;border:1px solid #ccc;min-height:240px;min-width:320px}.mce-match-marker{background:#aaa;color:#fff}.mce-match-marker-selected{background:#39f;color:#fff}.mce-match-marker-selected::selection{background:#39f;color:#fff}.mce-content-body audio[data-mce-selected],.mce-content-body details[data-mce-selected],.mce-content-body embed[data-mce-selected],.mce-content-body img[data-mce-selected],.mce-content-body object[data-mce-selected],.mce-content-body table[data-mce-selected],.mce-content-body video[data-mce-selected]{outline:3px solid #b4d7ff}.mce-content-body hr[data-mce-selected]{outline:3px solid #b4d7ff;outline-offset:1px}.mce-content-body [contentEditable=false] [contentEditable=true]:focus{outline:3px solid #b4d7ff}.mce-content-body [contentEditable=false] [contentEditable=true]:hover{outline:3px solid #b4d7ff}.mce-content-body [contentEditable=false][data-mce-selected]{cursor:not-allowed;outline:3px solid #b4d7ff}.mce-content-body.mce-content-readonly [contentEditable=true]:focus,.mce-content-body.mce-content-readonly [contentEditable=true]:hover{outline:0}.mce-content-body [data-mce-selected=inline-boundary]{background-color:#b4d7ff}.mce-content-body .mce-edit-focus{outline:3px solid #b4d7ff}.mce-content-body td[data-mce-selected],.mce-content-body th[data-mce-selected]{position:relative}.mce-content-body td[data-mce-selected]::selection,.mce-content-body th[data-mce-selected]::selection{background:0 0}.mce-content-body td[data-mce-selected] *,.mce-content-body th[data-mce-selected] *{outline:0;-webkit-touch-callout:none;-webkit-user-select:none;user-select:none}.mce-content-body td[data-mce-selected]::after,.mce-content-body th[data-mce-selected]::after{background-color:rgba(180,215,255,.7);border:1px solid rgba(180,215,255,.7);bottom:-1px;content:'';left:-1px;mix-blend-mode:multiply;position:absolute;right:-1px;top:-1px}@media screen and (-ms-high-contrast:active),(-ms-high-contrast:none){.mce-content-body td[data-mce-selected]::after,.mce-content-body th[data-mce-selected]::after{border-color:rgba(0,84,180,.7)}}.mce-content-body img[data-mce-selected]::selection{background:0 0}.ephox-snooker-resizer-bar{background-color:#b4d7ff;opacity:0;-webkit-user-select:none;user-select:none}.ephox-snooker-resizer-cols{cursor:col-resize}.ephox-snooker-resizer-rows{cursor:row-resize}.ephox-snooker-resizer-bar.ephox-snooker-resizer-bar-dragging{opacity:1}.mce-spellchecker-word{background-image:url("data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D'4'%20height%3D'4'%20xmlns%3D'http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg'%3E%3Cpath%20stroke%3D'%23ff0000'%20fill%3D'none'%20stroke-linecap%3D'round'%20stroke-opacity%3D'.75'%20d%3D'M0%203L2%201%204%203'%2F%3E%3C%2Fsvg%3E%0A");background-position:0 calc(100% + 1px);background-repeat:repeat-x;background-size:auto 6px;cursor:default;height:2rem}.mce-spellchecker-grammar{background-image:url("data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D'4'%20height%3D'4'%20xmlns%3D'http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg'%3E%3Cpath%20stroke%3D'%2300A835'%20fill%3D'none'%20stroke-linecap%3D'round'%20d%3D'M0%203L2%201%204%203'%2F%3E%3C%2Fsvg%3E%0A");background-position:0 calc(100% + 1px);background-repeat:repeat-x;background-size:auto 6px;cursor:default}.mce-toc{border:1px solid gray}.mce-toc h2{margin:4px}.mce-toc ul>li{list-style-type:none}[data-mce-block]{display:block}.mce-item-table:not([border]),.mce-item-table:not([border]) caption,.mce-item-table:not([border]) td,.mce-item-table:not([border]) th,.mce-item-table[border="0"],.mce-item-table[border="0"] caption,.mce-item-table[border="0"] td,.mce-item-table[border="0"] th,table[style*="border-width: 0px"],table[style*="border-width: 0px"] caption,table[style*="border-width: 0px"] td,table[style*="border-width: 0px"] th{border:1px dashed #bbb}.mce-visualblocks address,.mce-visualblocks article,.mce-visualblocks aside,.mce-visualblocks blockquote,.mce-visualblocks div:not([data-mce-bogus]),.mce-visualblocks dl,.mce-visualblocks figcaption,.mce-visualblocks figure,.mce-visualblocks h1,.mce-visualblocks h2,.mce-visualblocks h3,.mce-visualblocks h4,.mce-visualblocks h5,.mce-visualblocks h6,.mce-visualblocks hgroup,.mce-visualblocks ol,.mce-visualblocks p,.mce-visualblocks pre,.mce-visualblocks section,.mce-visualblocks ul{background-repeat:no-repeat;border:1px dashed #bbb;margin-left:3px;padding-top:10px}.mce-visualblocks p{background-image:url(data:image/gif;base64,R0lGODlhCQAJAJEAAAAAAP///7u7u////yH5BAEAAAMALAAAAAAJAAkAAAIQnG+CqCN/mlyvsRUpThG6AgA7)}.mce-visualblocks h1{background-image:url(data:image/gif;base64,R0lGODlhDQAKAIABALu7u////yH5BAEAAAEALAAAAAANAAoAAAIXjI8GybGu1JuxHoAfRNRW3TWXyF2YiRUAOw==)}.mce-visualblocks h2{background-image:url(data:image/gif;base64,R0lGODlhDgAKAIABALu7u////yH5BAEAAAEALAAAAAAOAAoAAAIajI8Hybbx4oOuqgTynJd6bGlWg3DkJzoaUAAAOw==)}.mce-visualblocks h3{background-image:url(data:image/gif;base64,R0lGODlhDgAKAIABALu7u////yH5BAEAAAEALAAAAAAOAAoAAAIZjI8Hybbx4oOuqgTynJf2Ln2NOHpQpmhAAQA7)}.mce-visualblocks h4{background-image:url(data:image/gif;base64,R0lGODlhDgAKAIABALu7u////yH5BAEAAAEALAAAAAAOAAoAAAIajI8HybbxInR0zqeAdhtJlXwV1oCll2HaWgAAOw==)}.mce-visualblocks h5{background-image:url(data:image/gif;base64,R0lGODlhDgAKAIABALu7u////yH5BAEAAAEALAAAAAAOAAoAAAIajI8HybbxIoiuwjane4iq5GlW05GgIkIZUAAAOw==)}.mce-visualblocks h6{background-image:url(data:image/gif;base64,R0lGODlhDgAKAIABALu7u////yH5BAEAAAEALAAAAAAOAAoAAAIajI8HybbxIoiuwjan04jep1iZ1XRlAo5bVgAAOw==)}.mce-visualblocks div:not([data-mce-bogus]){background-image:url(data:image/gif;base64,R0lGODlhEgAKAIABALu7u////yH5BAEAAAEALAAAAAASAAoAAAIfjI9poI0cgDywrhuxfbrzDEbQM2Ei5aRjmoySW4pAAQA7)}.mce-visualblocks section{background-image:url(data:image/gif;base64,R0lGODlhKAAKAIABALu7u////yH5BAEAAAEALAAAAAAoAAoAAAI5jI+pywcNY3sBWHdNrplytD2ellDeSVbp+GmWqaDqDMepc8t17Y4vBsK5hDyJMcI6KkuYU+jpjLoKADs=)}.mce-visualblocks article{background-image:url(data:image/gif;base64,R0lGODlhKgAKAIABALu7u////yH5BAEAAAEALAAAAAAqAAoAAAI6jI+pywkNY3wG0GBvrsd2tXGYSGnfiF7ikpXemTpOiJScasYoDJJrjsG9gkCJ0ag6KhmaIe3pjDYBBQA7)}.mce-visualblocks blockquote{background-image:url(data:image/gif;base64,R0lGODlhPgAKAIABALu7u////yH5BAEAAAEALAAAAAA+AAoAAAJPjI+py+0Knpz0xQDyuUhvfoGgIX5iSKZYgq5uNL5q69asZ8s5rrf0yZmpNkJZzFesBTu8TOlDVAabUyatguVhWduud3EyiUk45xhTTgMBBQA7)}.mce-visualblocks address{background-image:url(data:image/gif;base64,R0lGODlhLQAKAIABALu7u////yH5BAEAAAEALAAAAAAtAAoAAAI/jI+pywwNozSP1gDyyZcjb3UaRpXkWaXmZW4OqKLhBmLs+K263DkJK7OJeifh7FicKD9A1/IpGdKkyFpNmCkAADs=)}.mce-visualblocks pre{background-image:url(data:image/gif;base64,R0lGODlhFQAKAIABALu7uwAAACH5BAEAAAEALAAAAAAVAAoAAAIjjI+ZoN0cgDwSmnpz1NCueYERhnibZVKLNnbOq8IvKpJtVQAAOw==)}.mce-visualblocks figure{background-image:url(data:image/gif;base64,R0lGODlhJAAKAIAAALu7u////yH5BAEAAAEALAAAAAAkAAoAAAI0jI+py+2fwAHUSFvD3RlvG4HIp4nX5JFSpnZUJ6LlrM52OE7uSWosBHScgkSZj7dDKnWAAgA7)}.mce-visualblocks figcaption{border:1px dashed #bbb}.mce-visualblocks hgroup{background-image:url(data:image/gif;base64,R0lGODlhJwAKAIABALu7uwAAACH5BAEAAAEALAAAAAAnAAoAAAI3jI+pywYNI3uB0gpsRtt5fFnfNZaVSYJil4Wo03Hv6Z62uOCgiXH1kZIIJ8NiIxRrAZNMZAtQAAA7)}.mce-visualblocks aside{background-image:url(data:image/gif;base64,R0lGODlhHgAKAIABAKqqqv///yH5BAEAAAEALAAAAAAeAAoAAAItjI+pG8APjZOTzgtqy7I3f1yehmQcFY4WKZbqByutmW4aHUd6vfcVbgudgpYCADs=)}.mce-visualblocks ul{background-image:url(data:image/gif;base64,R0lGODlhDQAKAIAAALu7u////yH5BAEAAAEALAAAAAANAAoAAAIXjI8GybGuYnqUVSjvw26DzzXiqIDlVwAAOw==)}.mce-visualblocks ol{background-image:url(data:image/gif;base64,R0lGODlhDQAKAIABALu7u////yH5BAEAAAEALAAAAAANAAoAAAIXjI8GybH6HHt0qourxC6CvzXieHyeWQAAOw==)}.mce-visualblocks dl{background-image:url(data:image/gif;base64,R0lGODlhDQAKAIABALu7u////yH5BAEAAAEALAAAAAANAAoAAAIXjI8GybEOnmOvUoWznTqeuEjNSCqeGRUAOw==)}.mce-visualblocks:not([dir=rtl]) address,.mce-visualblocks:not([dir=rtl]) article,.mce-visualblocks:not([dir=rtl]) aside,.mce-visualblocks:not([dir=rtl]) blockquote,.mce-visualblocks:not([dir=rtl]) div:not([data-mce-bogus]),.mce-visualblocks:not([dir=rtl]) dl,.mce-visualblocks:not([dir=rtl]) figcaption,.mce-visualblocks:not([dir=rtl]) figure,.mce-visualblocks:not([dir=rtl]) h1,.mce-visualblocks:not([dir=rtl]) h2,.mce-visualblocks:not([dir=rtl]) h3,.mce-visualblocks:not([dir=rtl]) h4,.mce-visualblocks:not([dir=rtl]) h5,.mce-visualblocks:not([dir=rtl]) h6,.mce-visualblocks:not([dir=rtl]) hgroup,.mce-visualblocks:not([dir=rtl]) ol,.mce-visualblocks:not([dir=rtl]) p,.mce-visualblocks:not([dir=rtl]) pre,.mce-visualblocks:not([dir=rtl]) section,.mce-visualblocks:not([dir=rtl]) ul{margin-left:3px}.mce-visualblocks[dir=rtl] address,.mce-visualblocks[dir=rtl] article,.mce-visualblocks[dir=rtl] aside,.mce-visualblocks[dir=rtl] blockquote,.mce-visualblocks[dir=rtl] div:not([data-mce-bogus]),.mce-visualblocks[dir=rtl] dl,.mce-visualblocks[dir=rtl] figcaption,.mce-visualblocks[dir=rtl] figure,.mce-visualblocks[dir=rtl] h1,.mce-visualblocks[dir=rtl] h2,.mce-visualblocks[dir=rtl] h3,.mce-visualblocks[dir=rtl] h4,.mce-visualblocks[dir=rtl] h5,.mce-visualblocks[dir=rtl] h6,.mce-visualblocks[dir=rtl] hgroup,.mce-visualblocks[dir=rtl] ol,.mce-visualblocks[dir=rtl] p,.mce-visualblocks[dir=rtl] pre,.mce-visualblocks[dir=rtl] section,.mce-visualblocks[dir=rtl] ul{background-position-x:right;margin-right:3px}.mce-nbsp,.mce-shy{background:#aaa}.mce-shy::after{content:'-'}body{font-family:sans-serif}table{border-collapse:collapse}`);tinymce.Resource.add("content/default/content.css",`body{font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,Oxygen,Ubuntu,Cantarell,'Open Sans','Helvetica Neue',sans-serif;line-height:1.4;margin:1rem}table{border-collapse:collapse}table:not([cellpadding]) td,table:not([cellpadding]) th{padding:.4rem}table[border]:not([border="0"]):not([style*=border-width]) td,table[border]:not([border="0"]):not([style*=border-width]) th{border-width:1px}table[border]:not([border="0"]):not([style*=border-style]) td,table[border]:not([border="0"]):not([style*=border-style]) th{border-style:solid}table[border]:not([border="0"]):not([style*=border-color]) td,table[border]:not([border="0"]):not([style*=border-color]) th{border-color:#ccc}figure{display:table;margin:1rem auto}figure figcaption{color:#999;display:block;margin-top:.25rem;text-align:center}hr{border-color:#ccc;border-style:solid;border-width:1px 0 0 0}code{background-color:#e8e8e8;border-radius:3px;padding:.1rem .2rem}.mce-content-body:not([dir=rtl]) blockquote{border-left:2px solid #ccc;margin-left:1.5rem;padding-left:1rem}.mce-content-body[dir=rtl] blockquote{border-right:2px solid #ccc;margin-right:1.5rem;padding-right:1rem}`);var ECe=["onActivate","onAddUndo","onBeforeAddUndo","onBeforeExecCommand","onBeforeGetContent","onBeforeRenderUI","onBeforeSetContent","onBeforePaste","onBlur","onChange","onClearUndos","onClick","onContextMenu","onCommentChange","onCompositionEnd","onCompositionStart","onCompositionUpdate","onCopy","onCut","onDblclick","onDeactivate","onDirty","onDrag","onDragDrop","onDragEnd","onDragGesture","onDragOver","onDrop","onExecCommand","onFocus","onFocusIn","onFocusOut","onGetContent","onHide","onInit","onInput","onKeyDown","onKeyPress","onKeyUp","onLoadContent","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp","onNodeChange","onObjectResizeStart","onObjectResized","onObjectSelected","onPaste","onPostProcess","onPostRender","onPreProcess","onProgressState","onRedo","onRemove","onReset","onSaveContent","onSelectionChange","onSetAttrib","onSetContent","onShow","onSubmit","onUndo","onVisualAid"],ACe=function(t){return ECe.map(function(r){return r.toLowerCase()}).indexOf(t.toLowerCase())!==-1},TCe=function(t,r,i){Object.keys(r).filter(ACe).forEach(function(u){var g=r[u];typeof g=="function"&&(u==="onInit"?g(t,i):i.on(u.substring(2),function(h){return g(h,i)}))})},OCe=function(t,r,i,u){var g=t.modelEvents?t.modelEvents:null,h=Array.isArray(g)?g.join(" "):g;Rn(u,function(x,C){i&&typeof x=="string"&&x!==C&&x!==i.getContent({format:t.outputFormat})&&i.setContent(x)}),i.on(h||"change input undo redo",function(){r.emit("update:modelValue",i.getContent({format:t.outputFormat}))})},RCe=function(t,r,i,u,g,h){u.setContent(h()),i.attrs["onUpdate:modelValue"]&&OCe(r,i,u,g),TCe(t,i.attrs,u)},CX=0,une=function(t){var r=Date.now(),i=Math.floor(Math.random()*1e9);return CX++,t+"_"+i+CX+String(r)},ICe=function(t){return t!==null&&t.tagName.toLowerCase()==="textarea"},_X=function(t){return typeof t>"u"||t===""?[]:Array.isArray(t)?t:t.split(" ")},DCe=function(t,r){return _X(t).concat(_X(r))},PCe=function(t){return t==null},SX=function(t){var r;return typeof((r=t.options)===null||r===void 0?void 0:r.set)=="function"&&t.options.isRegistered("disabled")},kX=function(){return{listeners:[],scriptId:une("tiny-script"),scriptLoaded:!1}},NCe=function(){var t=kX(),r=function(g,h,x,C){var D=h.createElement("script");D.referrerPolicy="origin",D.type="application/javascript",D.id=g,D.src=x;var I=function(){D.removeEventListener("load",I),C()};D.addEventListener("load",I),h.head&&h.head.appendChild(D)},i=function(g,h,x){t.scriptLoaded?x():(t.listeners.push(x),g.getElementById(t.scriptId)||r(t.scriptId,g,h,function(){t.listeners.forEach(function(C){return C()}),t.scriptLoaded=!0}))},u=function(){t=kX()};return{load:i,reinitialize:u}},LCe=NCe(),MCe=function(){return typeof window<"u"?window:global},wC=function(){var t=MCe();return t&&t.tinymce?t.tinymce:null},BCe={apiKey:String,licenseKey:String,cloudChannel:String,id:String,init:Object,initialValue:String,inline:Boolean,modelEvents:[String,Array],plugins:[String,Array],tagName:String,toolbar:[String,Array],modelValue:String,disabled:Boolean,readonly:Boolean,tinymceScriptSrc:String,outputFormat:{type:String,validator:function(t){return t==="html"||t==="text"}}},Ib=function(){return Ib=Object.assign||function(t){for(var r,i=1,u=arguments.length;i<u;i++){r=arguments[i];for(var g in r)Object.prototype.hasOwnProperty.call(r,g)&&(t[g]=r[g])}return t},Ib.apply(this,arguments)},FCe=function(t,r,i,u){return t(u||"div",{id:r,ref:i})},$Ce=function(t,r,i){return t("textarea",{id:r,visibility:"hidden",ref:i})},vU={selector:void 0,target:void 0},yU=function(t,r){var i;typeof((i=t.mode)===null||i===void 0?void 0:i.set)=="function"?t.mode.set(r):t.setMode(r)},dne=fJ({props:BCe,setup:function(t,r){var i=t.init?Ib(Ib({},t.init),vU):Ib({},vU),u=IF(t),g=u.disabled,h=u.readonly,x=u.modelValue,C=u.tagName,D=Ln(null),I=null,O=t.id||une("tiny-vue"),B=t.init&&t.init.inline||t.inline,V=!!r.attrs["onUpdate:modelValue"],z=!0,Z=t.initialValue?t.initialValue:"",ee="",ie=function(ue){return V?function(){return x!=null&&x.value?x.value:""}:function(){return ue?Z:ee}},W=function(){var ue=ie(z),j=Ib(Ib({},i),{disabled:t.disabled,readonly:t.readonly,target:D.value,plugins:DCe(i.plugins,t.plugins),toolbar:t.toolbar||i.toolbar,inline:B,license_key:t.licenseKey,setup:function(de){I=de,!SX(I)&&t.disabled===!0&&yU(I,"readonly"),de.on("init",function(te){return RCe(te,t,r,de,x,ue)}),typeof i.setup=="function"&&i.setup(de)}});ICe(D.value)&&(D.value.style.visibility=""),wC().init(j),z=!1};Rn(h,function(ue){I!==null&&yU(I,ue?"readonly":"design")}),Rn(g,function(ue){I!==null&&(SX(I)?I.options.set("disabled",ue):yU(I,ue?"readonly":"design"))}),Rn(C,function(ue){var j;I&&(V||(ee=I.getContent()),(j=wC())===null||j===void 0||j.remove(I),Qo(function(){return W()}))}),Wu(function(){if(wC()!==null)W();else if(D.value&&D.value.ownerDocument){var ue=t.cloudChannel?t.cloudChannel:"7",j=t.apiKey?t.apiKey:"no-api-key",de=PCe(t.tinymceScriptSrc)?"https://cdn.tiny.cloud/1/".concat(j,"/tinymce/").concat(ue,"/tinymce.min.js"):t.tinymceScriptSrc;LCe.load(D.value.ownerDocument,de,W)}}),Ec(function(){wC()!==null&&wC().remove(I)}),B||(TW(function(){z||W()}),NF(function(){var ue;I&&(V||(ee=I.getContent()),(ue=wC())===null||ue===void 0||ue.remove(I))}));var he=function(ue){var j;I&&(ee=I.getContent(),(j=wC())===null||j===void 0||j.remove(I),i=Ib(Ib(Ib({},i),ue),vU),Qo(function(){return W()}))};return r.expose({rerender:he,getEditor:function(){return I}}),function(){return B?FCe(Vb,O,D,t.tagName):$Ce(Vb,O,D)}}});const VCe=".mce-content-body,.long-essay-content{font-family:serif;font-size:1em;max-width:60em;line-height:150%}.mce-content-body h1,.long-essay-content h1,.mce-content-body h2,.long-essay-content h2,.mce-content-body h3,.long-essay-content h3,.mce-content-body h4,.long-essay-content h4,.mce-content-body h5,.long-essay-content h5,.mce-content-body h6,.long-essay-content h6{font-size:1em;font-weight:700;padding:0;margin-top:0;margin-bottom:10px;min-height:1.5em}.mce-content-body ol,.long-essay-content ol,.mce-content-body ul,.long-essay-content ul{margin-left:10px;margin-bottom:20px}.mce-content-body li,.long-essay-content li{margin-left:20px;margin-bottom:5px;min-height:1.5em}.mce-content-body p,.long-essay-content p,.mce-content-body pre,.long-essay-content pre{margin-top:0;margin-bottom:10px;min-height:1.5em}.mce-content-body,.long-essay-content,.tox-menu{counter-reset:h1 h2 h3 h4 h5 h6}.mce-content-body h1,.long-essay-content h1,.tox-menu h1{counter-increment:h1;counter-reset:h2 h3 h4 h5 h6}.mce-content-body h2,.long-essay-content h2,.tox-menu h2{counter-increment:h2;counter-reset:h3 h4 h5 h6}.mce-content-body h3,.long-essay-content h3,.tox-menu h3{counter-increment:h3;counter-reset:h4 h5 h6}.mce-content-body h4,.long-essay-content h4,.tox-menu h4{counter-increment:h4;counter-reset:h5 h6}.mce-content-body h5,.long-essay-content h5,.tox-menu h5{counter-increment:h5;counter-reset:h6}.mce-content-body h6,.long-essay-content h6,.tox-menu h6{counter-increment:h6}.tox-menu p,.tox-menu h1,.tox-menu h2,.tox-menu h3,.tox-menu h4,.tox-menu h5,.tox-menu h6,.tox-menu pre,.tox-menu li{font-size:1rem!important}.long-essay-content-row{display:flex;flex-direction:row;width:100%}.long-essay-counter-column{display:block;min-width:40px!important;flex-shrink:0}.long-essay-content-column{display:block}",zCe=".headlines-three h1{font-size:1.3em!important}.headlines-three h2{font-size:1.15em!important}.headlines-three h3{font-size:1em!important}";let Tb,EX;const{t:aE}=Em.global;class fne{constructor(r){wt(this,"editor_id",null);wt(this,"editor",null);wt(this,"scroll_top",0);wt(this,"scroll_left",0);wt(this,"wordCount",Ln(0));wt(this,"characterCount",Ln(0));this.editor_id=r,Te.settings(),Tb=Te.preferences(),EX=Te.snippets()}getInit(){return{license_key:"gpl",language:"de",height:"100%",menubar:!1,statusbar:!1,elementpath:!1,plugins:"lists charmap wordcount",toolbar:this.toolbar(),valid_elements:this.validElements(),formats:this.formats(),style_formats:this.styleFormats(),custom_undo_redo_levels:10,text_patterns:!1,skin_url:"default",content_css:"default",content_style:VCe.toString()+`
`+zCe.toString(),browser_spellcheck:!0,highlight_on_focus:!0,iframe_aria_text:aE("tinyHelperIframeAriaText"),paste_as_text:!1,paste_block_drop:!0,paste_merge_formats:!0,paste_tab_spaces:4,smart_paste:!1,paste_data_images:!1,paste_remove_styles_if_webkit:!0,paste_webkit_styles:"none",setup:(function(r){r.ui.registry.addButton("zoomOut",{tooltip:"Verkleinern",icon:"zoom-out",onAction:this.zoomOut.bind(this)}),r.ui.registry.addButton("zoomIn",{tooltip:"Vergrern",icon:"zoom-in",onAction:this.zoomIn.bind(this)}),r.ui.registry.addButton("openSnippets",{tooltip:"Textbausteine",icon:"plus",onAction:this.openSnippets.bind(this)})}).bind(this)}}toolbar(){return"zoomOut zoomIn undo redo styles bold italic underline bullist numlist removeformat charmap openSnippets"}validElements(){return"p/div,br,strong/b,em/i,u,ol,ul,li,h1,h2,h3,h4,h5,h6,pre"}formats(){return{underline:{inline:"u",remove:"all"}}}styleFormats(){return[{title:aE("settingsParagraph"),format:"p"},{title:aE("settingsHeading1"),format:"h1"},{title:aE("settingsHeading2"),format:"h2"},{title:aE("settingsHeading3"),format:"h3"},{title:aE("settingsTypewriter"),format:"pre"}]}init(){this.editor=yCe.get(this.editor_id),this.editor.getWin().addEventListener("scroll",this.saveScrolling.bind(this)),this.applyZoom(),this.applyFormat()}zoomIn(){Tb.zoomSummaryTextIn(),this.applyZoom()}zoomOut(){Tb.zoomSummaryTextOut(),this.applyZoom()}openSnippets(){EX.openSelection(Sc.FOR_SUMMARY,null,this.editor.selection.getContent())}async applyFocus(){try{await Qo(),this.editor.focus()}catch{}}applyFormat(){for(const r of document.getElementsByClassName("tox-tinymce-aux"))r.classList.add("headlines-three")}applyZoom(){try{const r=this.editor;r&&(r.dom.setStyle(r.dom.doc.body,"font-size",Tb.summary_text_zoom+"rem"),r.dom.setStyle(r.dom.select("h1"),"font-size",Tb.summary_text_zoom*1.3+"rem"),r.dom.setStyle(r.dom.select("h2"),"font-size",Tb.summary_text_zoom*1.15+"rem"),r.dom.setStyle(r.dom.select("h3"),"font-size",Tb.summary_text_zoom+"rem"),r.dom.setStyle(r.dom.select("h4"),"font-size",Tb.summary_text_zoom+"rem"),r.dom.setStyle(r.dom.select("h5"),"font-size",Tb.summary_text_zoom+"rem"),r.dom.setStyle(r.dom.select("h6"),"font-size",Tb.summary_text_zoom+"rem"))}catch{}}saveScrolling(){const r=this.editor.getWin();(r.scrollX>0||r.scrollY>0)&&(this.scroll_left=r.scrollX,this.scroll_top=r.scrollY)}restoreScrolling(){try{this.editor.getWin().scroll({left:this.scroll_left,top:this.scroll_top})}catch(r){console.log(r)}}applyScrolling(){try{const r=this.editor.selection.getNode(),i=r.getBoundingClientRect(),u=this.editor.getContentAreaContainer().getBoundingClientRect();(i.top<u.top||i.bottom>u.bottom||i.right>u.right||i.left<u.left)&&r.scrollIntoView({behavior:"smooth",block:"nearest"})}catch(r){console.log(r)}}insertContent(r){try{this.editor.insertContent(r)}catch(i){console.log(i)}}}const HCe={class:"app-own-summary-text-wrapper"},UCe=["for"],mne={__name:"OwnSummaryText",props:["editorId"],setup(t){const r=Te.summaries();Te.preferences();const i=Te.layout(),u=Te.snippets(),g=t,h=new fne(g.editorId);Rn(()=>i.focusChange,C);function x(){h.init()}async function C(){i.focusTarget=="ownSummary"&&(h.applyFocus(),await Qo(),h.restoreScrolling())}function D(){r.updateContent(!0),h.applyZoom()}function I(){r.updateContent(!0)}function O(){switch(event.key){case"F1":event.preventDefault(),h.openSnippets();break;default:i.handleKeyDown(event)}}async function B(){if(!u.selection_open&&u.open_for_purpose==Sc.FOR_SUMMARY&&(await C(),u.insert_text)){const V=u.insert_text;u.insert_text="",h.insertContent(V)}}return Rn(()=>u.selection_open,B),(V,z)=>(Cn(),Lo("div",HCe,[oe("label",{for:g.editorId,class:"hidden"},We(V.$t("ownSummaryTextHiddenField")),9,UCe),re(r).isOwnDisabled?Ho("",!0):(Cn(),Rs(re(dne),{key:0,id:g.editorId,modelValue:re(r).editSummary.text,"onUpdate:modelValue":z[0]||(z[0]=Z=>re(r).editSummary.text=Z),onInit:x,onChange:D,onKeyup:I,onKeydown:O,onScroll:re(h).saveScrolling,licenseKey:"gpl",init:re(h).getInit()},null,8,["id","modelValue","onScroll","init"]))]))}},WCe={id:"app-authorization-wrapper"},KCe={key:0,class:"appRow"},jCe=["innerHTML"],ZCe={class:"appRow"},GCe={key:0},qCe={class:"appRow"},YCe={class:"appRow"},XCe={key:0,class:"appRow"},JCe={__name:"ConfirmRevision",setup(t){const r=Te.api(),i=Te.items(),u=Te.settings(),g=Te.summaries(),h=Te.levels(),x=Te.corrections(),C=Te.layout(),{t:D}=Em.global;function I(){switch(u.Assessment.procedure){case rp.APPROXIMATION:return D("revisionFixApproximationTitle");case rp.CONSULTING:return D("revisionFixConsultingTitle");default:return""}}function O(){return g.editSummary.revision_text!=""&&g.pointsOutsideCorridorText==""&&!Number.isNaN(g.editSummary.revision_points)}function B(){var z;return u.Assessment.procedure===rp.APPROXIMATION&&((z=x.ownCorrection)==null?void 0:z.position)===Ui.POSITION_FIRST}async function V(){if(await g.setOwnRevised(),await r.saveChangesToBackend(!0)){C.showRevision=!1;let z=i.nextKey;z!=""&&r.loadItemFromBackend(z)}else C.showRevision=!1,C.showSendFailure=!0}return(z,Z)=>(Cn(),Lo("div",WCe,[re(i).canRevise?(Cn(),Rs(ko,{key:0,class:"app-header-item",disabled:re(r).isLoading,onClick:Z[0]||(Z[0]=ee=>{re(C).showRevision=!0})},{default:Pt(()=>[ce(Kn,{left:"",icon:"mdi-file-certificate-outline"}),oe("span",null,We(z.$t("revisionButton")),1)]),_:1},8,["disabled"])):Ho("",!0),ce(j0,{"max-width":"60em",persistent:"",modelValue:re(C).showRevision,"onUpdate:modelValue":Z[4]||(Z[4]=ee=>re(C).showRevision=ee)},{default:Pt(()=>[ce(K0,null,{default:Pt(()=>[ce(o8,null,{default:Pt(()=>[qs(We(I()),1)]),_:1}),ce(Lb,null,{default:Pt(()=>{var ee,ie;return[re(g).editSummary.revision_text!=""?(Cn(),Lo("div",KCe,[oe("strong",null,We(z.$t("revisionTextLabel")),1),oe("div",{class:"appText long-essay-content headlines-three",innerHTML:re(g).editSummary.revision_text},null,8,jCe)])):Ho("",!0),oe("div",ZCe,[Number.isNaN(re(g).editSummary.revision_points)?Ho("",!0):(Cn(),Lo("span",GCe,[oe("strong",null,We(z.$t("revisionPointsLabel")),1),qs(" "+We(re(g).editSummary.revision_points)+" "+We(z.$t("allPoints",re(g).editSummary.revision_points))+" ",1),oe("strong",null,We(z.$t("allGrade")),1),qs(" "+We((ee=re(h).getLevelForPoints(re(g).editSummary.revision_points))==null?void 0:ee.title),1)])),oe("p",null,We((ie=re(h).getLevelForPoints(re(g).editSummary.revision_points))==null?void 0:ie.statement),1)]),oe("div",qCe,[Bn(ce(U0,{color:"#0000A0",type:"info",variant:"text",density:"compact"},{default:Pt(()=>[qs(We(z.$t("revisionPleaseEnterPoints")),1)]),_:1},512),[[fo,Number.isNaN(re(g).editSummary.revision_points)]]),Bn(ce(U0,{color:"#0000A0",type:"info",variant:"text",density:"compact"},{default:Pt(()=>[qs(We(z.$t("revisionPleaseEnterText")),1)]),_:1},512),[[fo,re(g).editSummary.revision_text==""]]),Bn(ce(U0,{color:"#0000A0",type:"info",variant:"text",density:"compact"},{default:Pt(()=>[qs(We(re(g).pointsOutsideCorridorText),1)]),_:1},512),[[fo,re(g).pointsOutsideCorridorText!==""]]),Bn(ce(U0,{color:"#0000A0",type:"info",variant:"text",density:"compact"},{default:Pt(()=>[qs(We(re(g).stitchNeededAfterRevisionText),1)]),_:1},512),[[fo,re(g).stitchNeededAfterRevisionText!==""]]),oe("div",YCe,[B()?(Cn(),Rs(oye,{key:0,modelValue:re(g).editSummary.require_other_revision,"onUpdate:modelValue":Z[1]||(Z[1]=W=>re(g).editSummary.require_other_revision=W),label:re(D)("revisionRequireOtherRevision")},null,8,["modelValue","label"])):Ho("",!0)]),O()?(Cn(),Lo("div",XCe,We(z.$t("revisionWarnFinalize")),1)):Ho("",!0)])]}),_:1}),ce(Nb,null,{default:Pt(()=>[ce(ko,{disabled:!O(),onClick:Z[2]||(Z[2]=ee=>V())},{default:Pt(()=>[ce(Kn,{left:"",icon:"mdi-check"}),oe("span",null,We(z.$t("revisionFix")),1)]),_:1},8,["disabled"]),ce(ko,{onClick:Z[3]||(Z[3]=ee=>{re(C).showRevision=!1})},{default:Pt(()=>[ce(Kn,{left:"",icon:"mdi-close"}),oe("span",null,We(z.$t("allCancel")),1)]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]))}},QCe=tl(JCe,[["__scopeId","data-v-fb58f68e"]]),e_e={class:"app-own-summary-text-wrapper"},t_e={class:"app-summary-editor"},n_e=["for"],o_e=["innerHTML"],s_e={for:"appOwnSummaryPoints"},r_e=["disabled","min","max"],i_e={key:0},a_e={__name:"OwnSummaryRevision",props:["editorId"],setup(t){const r=Te.summaries();Te.preferences();const i=Te.layout(),u=Te.snippets(),g=Te.items();Te.settings();const h=Te.levels(),x=t,C=new fne(x.editorId);function D(){C.init()}function I(){r.updateContent(!0),C.applyZoom()}function O(){r.updateContent(!0)}function B(){switch(event.key){case"F1":event.preventDefault(),C.openSnippets();break;default:i.handleKeyDown(event)}}async function V(){if(!u.selection_open&&u.open_for_purpose==Sc.FOR_SUMMARY&&(await handleFocusChange(),u.insert_text)){const z=u.insert_text;u.insert_text="",C.insertContent(z)}}return Rn(()=>u.selection_open,V),(z,Z)=>(Cn(),Lo("div",e_e,[oe("div",t_e,[oe("label",{for:x.editorId,class:"hidden"},We(z.$t("ownSummaryRevisionTextHiddenField")),9,n_e),re(g).canRevise?(Cn(),Rs(re(dne),{key:0,id:x.editorId,modelValue:re(r).editSummary.revision_text,"onUpdate:modelValue":Z[0]||(Z[0]=ee=>re(r).editSummary.revision_text=ee),onInit:D,onChange:I,onKeyup:O,onKeydown:B,onScroll:re(C).saveScrolling,licenseKey:"gpl",init:re(C).getInit()},null,8,["id","modelValue","onScroll","init"])):Ho("",!0)]),re(g).canRevise?Ho("",!0):(Cn(),Lo("div",{key:0,class:"app-summary-text-display long-essay-content correction-summary",innerHTML:re(r).editSummary.revision_text},null,8,o_e)),ce(CF,{class:"app-summary-points"},{default:Pt(()=>[ce(kC,{dense:""},{default:Pt(()=>[ce(Qc,{cols:"10"},{default:Pt(()=>{var ee,ie;return[oe("label",s_e,[oe("strong",null,We(z.$t("summaryRevisionRating")),1)]),Z[2]||(Z[2]=qs("  ")),Bn(oe("input",{disabled:!re(g).canRevise,id:"appOwnSummaryPoints",class:"appPoints",type:"number",min:re(r).pointsCorridor.min,max:re(r).pointsCorridor.max,"onUpdate:modelValue":Z[1]||(Z[1]=W=>re(r).editSummary.revision_points=W)},null,8,r_e),[[MC,re(r).editSummary.revision_points]]),qs(" "+We(z.$t("allPoints",Number.isNaN(re(r).editSummary.revision_points)?0:re(r).editSummary.revision_points))+"  ",1),Number.isNaN(re(r).editSummary.revision_points)?Ho("",!0):(Cn(),Lo("span",i_e,[oe("strong",null,We(z.$t("allGrade")),1),qs(" "+We((ee=re(h).getLevelForPoints(re(r).editSummary.revision_points))==null?void 0:ee.title),1)])),oe("p",null,We((ie=re(h).getLevelForPoints(re(r).editSummary.revision_points))==null?void 0:ie.statement),1)]}),_:1,__:[2]}),ce(Qc,{cols:"2"},{default:Pt(()=>[ce(QCe)]),_:1})]),_:1})]),_:1})]))}},l_e=tl(a_e,[["__scopeId","data-v-b6913fae"]]),c_e={id:"app-summary-wrapper"},u_e={class:"headline"},d_e={class:"headline"},f_e={class:"headline"},m_e={key:3,id:"app-own-summary-points"},g_e={class:"headline"},h_e={key:4,id:"app-summary-points"},p_e={class:"headline"},b_e={class:"headline"},v_e={class:"headline"},y_e={key:7},x_e={__name:"SummaryColumn",props:["correction_key","showCriteria","showText","showRevision"],setup(t){const r=t;let i,u,g,h,x,C;function D(){i=r.correction_key==Te.corrections().ownKey,u=i&&Te.items().canCorrect,g=i&&Te.items().canRevise,h=i?Te.summaries().editSummary:Te.summaries().getForCorrection(r.correction_key),x=h.isAuthorized(),C=h.isRevised()}Rn(()=>r.correction_key,D),D();function I(){switch((r.showCriteria?1:0)+(r.showText&&(i||x)?1:0)+(r.showRevision&&(i&&g||C)?1:0)){case 0:return"hidden";case 1:return"full";case 2:return"half";case 3:return"third"}}return(O,B)=>(Cn(),Lo("div",c_e,[r.showCriteria&&(re(u)||re(x))?(Cn(),Lo("div",{key:0,class:ao(I())},[oe("h2",u_e,We(O.$t("allOverview")),1),ce(eCe,{class:"content",correction_key:r.correction_key},null,8,["correction_key"])],2)):Ho("",!0),r.showText&&re(u)?(Cn(),Lo("div",{key:1,class:ao(I())},[oe("h2",d_e,We(O.$t("allSummary")),1),ce(mne,{class:"content",editorId:"summary"})],2)):Ho("",!0),r.showText&&!re(u)&&re(x)?(Cn(),Lo("div",{key:2,class:ao(I())},[oe("h2",f_e,We(O.$t("allSummary")),1),ce(oCe,{class:"content",correction_key:r.correction_key},null,8,["correction_key"])],2)):Ho("",!0),re(u)?(Cn(),Lo("div",m_e,[oe("h2",g_e,We(O.$t("allTotalRating")),1),ce(pCe,{class:"content"})])):Ho("",!0),!re(u)&&re(x)?(Cn(),Lo("div",h_e,[oe("h2",p_e,We(O.$t("allTotalRating")),1),ce(iCe,{class:"content",correction_key:r.correction_key},null,8,["correction_key"])])):Ho("",!0),r.showRevision&&re(g)?(Cn(),Lo("div",{key:5,class:ao(I())},[oe("h2",b_e,We(re(Te).settings().procedureText),1),ce(l_e,{class:"content",editorId:"revision"})],2)):Ho("",!0),r.showRevision&&!re(g)&&re(C)?(Cn(),Lo("div",{key:6,class:ao(I())},[oe("h2",v_e,We(re(Te).settings().procedureText),1),ce(dCe,{class:"content",correction_key:r.correction_key},null,8,["correction_key"])],2)):Ho("",!0),!re(u)&&!re(x)?(Cn(),Lo("div",y_e,We(O.$t("otherSummaryNotAuthorized")),1)):Ho("",!0)]))}},xU=tl(x_e,[["__scopeId","data-v-8a14ab96"]]),w_e=Fn({autoGrow:Boolean,autofocus:Boolean,counter:[Boolean,Number,String],counterValue:Function,prefix:String,placeholder:String,persistentPlaceholder:Boolean,persistentCounter:Boolean,noResize:Boolean,rows:{type:[Number,String],default:5,validator:t=>!isNaN(parseFloat(t))},maxRows:{type:[Number,String],validator:t=>!isNaN(parseFloat(t))},suffix:String,modelModifiers:Object,...i8(),...mK()},"VTextarea"),gne=Fo()({name:"VTextarea",directives:{vIntersect:AE},inheritAttrs:!1,props:w_e(),emits:{"click:control":t=>!0,"mousedown:control":t=>!0,"update:focused":t=>!0,"update:modelValue":t=>!0,"update:rows":t=>!0},setup(t,r){let{attrs:i,emit:u,slots:g}=r;const h=Ki(t,"modelValue"),{isFocused:x,focus:C,blur:D}=r8(t),{onIntersect:I}=xte(t),O=It(()=>typeof t.counterValue=="function"?t.counterValue(h.value):(h.value||"").toString().length),B=It(()=>{if(i.maxlength)return i.maxlength;if(!(!t.counter||typeof t.counter!="number"&&typeof t.counter!="string"))return t.counter}),V=Ln(),z=Ln(),Z=bo(""),ee=Ln(),ie=It(()=>t.persistentPlaceholder||x.value||t.active);function W(){var we;ee.value!==document.activeElement&&((we=ee.value)==null||we.focus()),x.value||C()}function he(we){W(),u("click:control",we)}function ue(we){u("mousedown:control",we)}function j(we){we.stopPropagation(),W(),Qo(()=>{h.value="",FW(t["onClick:clear"],we)})}function de(we){var R;const _e=we.target;if(h.value=_e.value,(R=t.modelModifiers)!=null&&R.trim){const it=[_e.selectionStart,_e.selectionEnd];Qo(()=>{_e.selectionStart=it[0],_e.selectionEnd=it[1]})}}const te=Ln(),ze=Ln(Number(t.rows)),Fe=It(()=>["plain","underlined"].includes(t.variant));Md(()=>{t.autoGrow||(ze.value=Number(t.rows))});function Je(){t.autoGrow&&Qo(()=>{if(!te.value||!z.value)return;const we=getComputedStyle(te.value),_e=getComputedStyle(z.value.$el),R=parseFloat(we.getPropertyValue("--v-field-padding-top"))+parseFloat(we.getPropertyValue("--v-input-padding-top"))+parseFloat(we.getPropertyValue("--v-field-padding-bottom")),it=te.value.scrollHeight,St=parseFloat(we.lineHeight),Ut=Math.max(parseFloat(t.rows)*St+R,parseFloat(_e.getPropertyValue("--v-input-control-height"))),sn=parseFloat(t.maxRows)*St+R||1/0,dt=xf(it??0,Ut,sn);ze.value=Math.floor((dt-R)/St),Z.value=ys(dt)})}Wu(Je),Rn(h,Je),Rn(()=>t.rows,Je),Rn(()=>t.maxRows,Je),Rn(()=>t.density,Je),Rn(ze,we=>{u("update:rows",we)});let rt;return Rn(te,we=>{we?(rt=new ResizeObserver(Je),rt.observe(te.value)):rt==null||rt.disconnect()}),Ec(()=>{rt==null||rt.disconnect()}),_s(()=>{const we=!!(g.counter||t.counter||t.counterValue),_e=!!(we||g.details),[R,it]=$F(i),{modelValue:St,...Ut}=TE.filterProps(t),sn=wF.filterProps(t);return ce(TE,Bo({ref:V,modelValue:h.value,"onUpdate:modelValue":dt=>h.value=dt,class:["v-textarea v-text-field",{"v-textarea--prefixed":t.prefix,"v-textarea--suffixed":t.suffix,"v-text-field--prefixed":t.prefix,"v-text-field--suffixed":t.suffix,"v-textarea--auto-grow":t.autoGrow,"v-textarea--no-resize":t.noResize||t.autoGrow,"v-input--plain-underlined":Fe.value},t.class],style:t.style},R,Ut,{centerAffix:ze.value===1&&!Fe.value,focused:x.value}),{...g,default:dt=>{let{id:An,isDisabled:At,isDirty:et,isReadonly:Me,isValid:mt}=dt;return ce(wF,Bo({ref:z,style:{"--v-textarea-control-height":Z.value},onClick:he,onMousedown:ue,"onClick:clear":j,"onClick:prependInner":t["onClick:prependInner"],"onClick:appendInner":t["onClick:appendInner"]},sn,{id:An.value,active:ie.value||et.value,centerAffix:ze.value===1&&!Fe.value,dirty:et.value||t.dirty,disabled:At.value,focused:x.value,error:mt.value===!1}),{...g,default:vo=>{let{props:{class:Wt,...In}}=vo;return oe(is,null,[t.prefix&&oe("span",{class:"v-text-field__prefix"},[t.prefix]),Bn(oe("textarea",Bo({ref:ee,class:Wt,value:h.value,onInput:de,autofocus:t.autofocus,readonly:Me.value,disabled:At.value,placeholder:t.placeholder,rows:t.rows,name:t.name,onFocus:W,onBlur:D},In,it),null),[[AE,{handler:I},null,{once:!0}]]),t.autoGrow&&Bn(oe("textarea",{class:ao([Wt,"v-textarea__sizer"]),id:`${In.id}-sizer`,"onUpdate:modelValue":on=>h.value=on,ref:te,readonly:!0,"aria-hidden":"true"},null),[[MC,h.value]]),t.suffix&&oe("span",{class:"v-text-field__suffix"},[t.suffix])])}})},details:_e?dt=>{var An;return oe(is,null,[(An=g.details)==null?void 0:An.call(g,dt),we&&oe(is,null,[oe("span",null,null),ce(yte,{active:t.persistentCounter||x.value,value:O.value,max:B.value,disabled:t.disabled},g.counter)])])}:void 0})}),VC({},V,z,ee)}}),C_e={class:"sr-only"},__e=["id"],S_e=["id","disabled"],k_e=["for"],E_e=["id","disabled"],A_e=["for"],T_e={class:"pointsSum"},O_e={class:"sr-only"},R_e={__name:"MarkingComment",props:["comment"],setup(t){Te.api();const r=Te.comments(),i=Te.summaries(),u=Te.settings();Te.criteria();const g=Te.points(),h=Te.layout(),x=Te.snippets(),{t:C}=Em.global,I=t.comment,O=Ln();let B=Ln(0);const V=g.getObjectByData(I.correction_key,I.key,"");B.value=V?V.points:0;function z(we){return we.key==r.selectedKey}function Z(we){return we.correction_key==Te.corrections().ownKey&&!i.isOwnDisabled}function ee(we){return we.rating_excellent||we.rating_cardinal||g.getSumOfPointsForComment(we.key)>0}Wu(()=>{const we=document.getElementById("appCommentContainer"+I.key);for(const _e of we.getElementsByTagName("label"))_e.getAttribute("for").includes("app-comment-")&&(_e.classList.add("sr-only"),_e.getAttribute("aria-hidden")=="true"?_e.getAttribute("for").includes("-sizer")||_e.setAttribute("for",_e.getAttribute("for")+"-sizer"):_e.setAttribute("id","app-comment-"+I.key+"-messages"));for(const _e of we.getElementsByTagName("textarea"))_e.style.marginTop="-15px",_e.style.fontSize="0.9rem";for(const _e of we.getElementsByClassName("v-input__details"))_e.style.display="none"});function ie(we){return we.key==r.selectedKey?we.rating_excellent?"#BBEBA5":we.rating_cardinal?"#FCB494":"#94C3FC":we.prefix=="own"?we.rating_excellent?"#E3EFDD":we.rating_cardinal?"#FBDED1":"#D8E5F4":we.rating_excellent?"#F7F9F7":we.rating_cardinal?"#FCF6F4":"#F5F7FB"}function W(we){return g.getSumOfPointsForComment(we.key)}function he(we){return C("allPoints",W(we))}async function ue(we){we.rating_excellent&&(we.rating_cardinal=!1),r.setMarkerChange(),r.updateComment(we)}async function j(we){we.rating_cardinal&&(we.rating_excellent=!1),r.setMarkerChange(),r.updateComment(we)}async function de(we){r.selectedKey!==we.key&&r.selectComment(we.key)}async function te(){if(event.altKey)switch(event.key){case"Enter":event.preventDefault(),h.showEssay(),await Qo(),r.setCaretRequest();break;case"Delete":event.preventDefault(),r.deleteComment(r.selectedKey);break}else switch(event.key){case"F1":event.preventDefault(),Je();break}}async function ze(){switch(te(),event.key){case"Enter":event.preventDefault(),h.focusMarkingCommentPoints();break}}async function Fe(){h.focusTarget=="MarkingCommentPointsSum"&&(await Qo(),I.key==r.selectedKey&&document.getElementById("pointsInput"+I.key).focus())}Rn(()=>h.focusChange,Fe);function Je(){const we=O.value;x.openSelection(Sc.FOR_COMMENT,r.selectedKey,we.value.substring(we.selectionStart,we.selectionEnd))}async function rt(){if(!x.selection_open&&x.open_for_purpose==Sc.FOR_COMMENT&&x.open_for_key==I.key){const we=O.value;if(await Qo(),we.focus(),x.insert_text){const _e=x.insert_text;x.insert_text="";const R=we.selectionStart,it=we.selectionEnd;I.comment=I.comment.slice(0,R)+_e+I.comment.slice(it),await Qo(),we.setSelectionRange(R,R+_e.length)}}}return Rn(()=>x.selection_open,rt),(we,_e)=>(Cn(),Rs(CF,{id:"appCommentContainer"+re(I).key,key:re(I).key,class:"commentContainer"},{default:Pt(()=>[ce(kC,{dense:"",onClick:_e[14]||(_e[14]=R=>de(re(I)))},{default:Pt(()=>[ce(Qc,{cols:"2"},{default:Pt(()=>[ce(Kn,{size:"small",icon:re(I).getMarkIcon()},null,8,["icon"]),_e[15]||(_e[15]=qs("  ")),oe("button",{tabindex:"0",class:ao("v-btn commentLabel "+(re(I).key==re(r).selectedKey?"selected":""))},We(re(I).label),3)]),_:1,__:[15]}),ce(Qc,{cols:"9"},{default:Pt(()=>[ce(CF,null,{default:Pt(()=>[Bn(ce(kC,{dense:""},{default:Pt(()=>[ce(Qc,{cols:"12"},{default:Pt(()=>[ce(gne,{class:"commentInput","bg-color":ie(re(I)),rounded:"0",density:"compact",variant:"solo",ref_key:"textRef",ref:O,id:"app-comment-"+re(I).key,label:we.$t("markingCommentsCommentForLabel",[re(I).label]),rows:"1","auto-grow":"",readonly:re(i).isOwnDisabled||re(I).correction_key!=re(Te).corrections().ownKey,onChange:_e[0]||(_e[0]=R=>re(r).updateComment(re(I))),onKeyup:_e[1]||(_e[1]=R=>re(r).updateComment(re(I))),onKeydown:_e[2]||(_e[2]=R=>te()),modelValue:re(I).comment,"onUpdate:modelValue":_e[3]||(_e[3]=R=>re(I).comment=R)},null,8,["bg-color","id","label","readonly","modelValue"])]),_:1})]),_:1},512),[[fo,z(re(I))]]),Bn(ce(kC,{dense:""},{default:Pt(()=>[ce(Qc,{cols:"3"},{default:Pt(()=>[ce(ko,{class:"snippetsButton",density:"compact",variant:"plain","prepend-icon":"mdi-plus",tabindex:z(re(I))?0:-1,onKeydown:_e[4]||(_e[4]=R=>te()),onClick:Je},{default:Pt(()=>[oe("span",C_e,We(we.$t("markingOpenSnippets")),1)]),_:1},8,["tabindex"])]),_:1}),ce(Qc,{cols:"3"},{default:Pt(()=>[oe("span",{tabindex:"0",class:"pointsSum",id:"pointsInput"+re(I).key,onKeydown:_e[5]||(_e[5]=R=>ze())},We(we.$t("markingCommentSum"))+" "+We(W(re(I)))+" "+We(he(re(I))),41,__e)]),_:1}),ce(Qc,{cols:"3"},{default:Pt(()=>[Bn(oe("span",null,[Bn(oe("input",{type:"checkbox",class:"ratingInput","onUpdate:modelValue":_e[6]||(_e[6]=R=>re(I).rating_excellent=R),id:"ratingExcellent"+re(I).key,disabled:re(i).isOwnDisabled||re(I).correction_key!=re(Te).corrections().ownKey,onChange:_e[7]||(_e[7]=R=>ue(re(I))),onKeydown:_e[8]||(_e[8]=R=>te())},null,40,S_e),[[gq,re(I).rating_excellent]]),oe("label",{for:"ratingExcellent"+re(I).key},""+We(re(u).Task.positive_rating),9,k_e)],512),[[fo,re(I).rating_excellent||re(I).key==re(r).selectedKey]])]),_:1}),ce(Qc,{cols:"3"},{default:Pt(()=>[Bn(oe("span",null,[Bn(oe("input",{type:"checkbox",class:"ratingInput","onUpdate:modelValue":_e[9]||(_e[9]=R=>re(I).rating_cardinal=R),id:"ratingCardinal"+re(I).key,disabled:re(i).isOwnDisabled||re(I).correction_key!=re(Te).corrections().ownKey,onChange:_e[10]||(_e[10]=R=>j(re(I))),onKeydown:_e[11]||(_e[11]=R=>te())},null,40,E_e),[[gq,re(I).rating_cardinal]]),oe("label",{for:"ratingCardinal"+re(I).key},""+We(re(u).Task.negative_rating),9,A_e)],512),[[fo,re(I).rating_cardinal||re(I).key==re(r).selectedKey]])]),_:1})]),_:1},512),[[fo,z(re(I))]]),ce(kC,{dense:""},{default:Pt(()=>[Bn(ce(Qc,{cols:"12"},{default:Pt(()=>[Bn(oe("div",{class:"commentDisplay",style:Ls("background-color: "+ie(re(I))+";")},We(re(I).comment),5),[[fo,re(I).comment]])]),_:1},512),[[fo,!z(re(I))]])]),_:1}),Bn(ce(kC,{dense:"",class:"detailsDisplay"},{default:Pt(()=>[ce(Qc,{cols:"3"}),ce(Qc,{cols:"3"},{default:Pt(()=>[Bn(oe("span",null,[oe("span",T_e,We(we.$t("markingCommentSum"))+" "+We(W(re(I)))+" "+We(he(re(I))),1)],512),[[fo,W(re(I))>0]])]),_:1}),ce(Qc,{cols:"3"},{default:Pt(()=>[Bn(oe("span",null,[ce(Kn,{icon:"mdi-checkbox-outline"}),qs(" "+We(re(u).Task.positive_rating),1)],512),[[fo,re(I).rating_excellent]])]),_:1}),ce(Qc,{cols:"3"},{default:Pt(()=>[Bn(oe("span",null,[ce(Kn,{icon:"mdi-checkbox-outline"}),qs(" "+We(re(u).Task.negative_rating),1)],512),[[fo,re(I).rating_cardinal]])]),_:1})]),_:1},512),[[fo,!z(re(I))&&ee(re(I))]])]),_:1})]),_:1}),ce(Qc,{cols:"1",class:"trashColumn"},{default:Pt(()=>[Bn(ce(ko,{class:"trashButton",density:"compact",size:"small",variant:"text","prepend-icon":"mdi-delete-outline",tabindex:z(re(I))?0:-1,onKeydown:_e[12]||(_e[12]=R=>te()),onClick:_e[13]||(_e[13]=R=>{re(r).deleteComment(re(I).key)})},{default:Pt(()=>[oe("span",O_e,We(we.$t("markingCommentsDelete")),1)]),_:1},8,["tabindex"]),[[fo,Z(re(I))]])]),_:1})]),_:1})]),_:1},8,["id"]))}},I_e=tl(R_e,[["__scopeId","data-v-3098d53b"]]),D_e={id:"appMarkingComments"},P_e={__name:"MarkingComments",setup(t){const r=Te.comments();async function i(){await Qo();let g=document.getElementById("appCommentContainer"+r.selectedKey);if(g){let h=g.querySelector("textarea");h&&h.focus()}}Rn(()=>r.selectionChange,i);async function u(){await Qo();let g=document.getElementById("appCommentContainer"+r.firstVisibleKey);g&&g.scrollIntoView()}return Rn(()=>r.firstVisibleKey,u),(g,h)=>(Cn(),Lo("div",D_e,[(Cn(!0),Lo(is,null,Y0(re(r).activeComments,x=>(Cn(),Rs(I_e,{key:x.key,comment:x},null,8,["comment"]))),128))]))}},N_e={key:0,class:"info"},L_e={class:"col-left"},M_e={class:"col-mid text-right"},B_e={class:"col-right text-right"},F_e={class:"col-left"},$_e={class:"col-mid text-right"},V_e=["disabled","max"],z_e={class:"col-left"},H_e=["for"],U_e={class:"col-mid text-right"},W_e=["onUpdate:modelValue","id","disabled","max","onChange"],K_e={__name:"MarkingCommentPoints",setup(t){const r=Te.criteria(),i=Te.comments(),u=Te.points();Te.api();const g=Te.settings(),h=Te.summaries(),x=Te.layout();let C=Ln(""),D=Ln(""),I=Ln({});async function O(){const Z=i.getComment(i.selectedKey);C.value=Z?Z.key:"",D.value=Z?Z.correction_key:Te.corrections().ownKey,I.value={};for(const ie of r.getCorrectionCommentCriteria(D.value)){const W=u.getObjectByData(D.value,C.value,ie.key);I.value[ie.key]=(W==null?void 0:W.points)??0}const ee=u.getObjectByData(D.value,C.value,"");I.value[""]=(ee==null?void 0:ee.points)??0}O(),Rn(()=>i.selectionChange,O);function B(Z){u.setValueByCommentOrCriterion(i.selectedKey,Z,I.value[Z])}async function V(){x.focusTarget=="MarkingCommentPoints"&&(await Qo(),document.getElementById("appMarkingCommentPointsStart").focus())}Rn(()=>x.focusChange,V);async function z(Z){switch(Z.key){case"Escape":Z.preventDefault(),x.focusMarkingCommentPointsSum();break}}return(Z,ee)=>(Cn(),Lo("div",null,[re(C)==""?(Cn(),Lo("p",N_e,We(Z.$t("markingCommentPointsPleaseSelect")),1)):Ho("",!0),re(C)!=""?(Cn(),Rs(np,{key:1,density:"compact"},{default:Pt(()=>[oe("thead",null,[oe("tr",null,[oe("th",L_e,[oe("span",{id:"appMarkingCommentPointsStart",tabindex:"0",onKeydown:z},We(Z.$t("markingCommentPointsCriterion")),33)]),oe("th",M_e,We(Z.$t("allPoints",0)),1),oe("th",B_e,We(Z.$t("markingCommentPointsSumOfMax")),1)])]),oe("tbody",null,[oe("tr",null,[oe("td",F_e,[oe("label",{tabindex:"0",onKeydown:z,for:"app-points-input-without"},We(Z.$t("markingCommentPointsWithoutCriterion")),33)]),oe("td",$_e,[Bn(oe("input",{class:"appPoints",type:"number","onUpdate:modelValue":ee[0]||(ee[0]=ie=>re(I)[""]=ie),id:"pp-points-input-without",disabled:re(h).isOwnDisabled||re(C)==""||re(D)!=re(Te).corrections().ownKey,max:re(g).Assessment.max_points,onChange:ee[1]||(ee[1]=ie=>B("")),onKeydown:z},null,40,V_e),[[MC,re(I)[""]]])]),oe("td",{class:ao("col-right text-right "+(re(u).getPointsOfCriterionExceeded(null,re(D))?"red":""))},We(re(u).getSumOfPointsForCorrection(re(D),!0,!1))+" / "+We(re(g).Assessment.max_points),3)]),(Cn(!0),Lo(is,null,Y0(re(r).getCorrectionCommentCriteria(re(D)),ie=>(Cn(),Lo("tr",{key:ie.key},[oe("td",z_e,[oe("label",{tabindex:"0",onKeydown:z,for:"app-points-input-"+ie.key},We(ie.title),41,H_e)]),oe("td",U_e,[Bn(oe("input",{class:"appPoints",type:"number","onUpdate:modelValue":W=>re(I)[ie.key]=W,id:"app-points-input-"+ie.key,disabled:re(h).isOwnDisabled||re(C)==""||re(D)!=re(Te).corrections().ownKey,max:ie.points,onChange:W=>B(ie.key),onKeydown:z},null,40,W_e),[[MC,re(I)[ie.key]]])]),oe("td",{class:ao("col-right text-right "+(re(u).getPointsOfCriterionExceeded(ie,re(D))?"red":""))},We(re(u).getSumOfPointsForCriterion(ie,re(D)))+" / "+We(ie.points),3)]))),128))])]),_:1})):Ho("",!0)]))}},j_e=tl(K_e,[["__scopeId","data-v-d8ab7885"]]),Z_e={class:"col-left"},G_e={class:"col-mid text-right"},q_e={class:"col-right text-right"},Y_e={class:"col-left"},X_e=["for"],J_e={class:"col-mid text-right"},Q_e=["onUpdate:modelValue","id","disabled","max","onChange"],eSe={class:"col-right text-right"},tSe={__name:"MarkingGeneralPoints",setup(t){const r=Te.criteria();Te.comments();const i=Te.points();Te.api(),Te.settings();const u=Te.summaries(),g=Te.layout();let h=Ln(""),x=Ln({});async function C(){h.value=Te.corrections().ownKey,x.value={};for(const B of r.getCorrectionGeneralCriteria(h.value)){const V=i.getObjectByData(h.value,"",B.key);x.value[B.key]=V?V.points:0}}C();function D(B){i.setValueByCommentOrCriterion("",B,x.value[B])}async function I(){g.focusTarget=="markingGeneralPoints"&&(await Qo(),document.getElementById("appMarkingGeneralPointsStart").focus())}Rn(()=>g.focusChange,I);async function O(B){switch(B.key){case"Escape":B.preventDefault(),g.focusMarkingCommentPointsSum();break}}return(B,V)=>(Cn(),Lo("div",null,[ce(np,{density:"compact"},{default:Pt(()=>[oe("thead",null,[oe("tr",null,[oe("th",Z_e,[oe("span",{id:"appMarkingCommentPointsStart",tabindex:"0",onKeydown:O},We(B.$t("markingGeneralPointsCriterion")),33)]),oe("th",G_e,We(B.$t("allPoints",0)),1),oe("th",q_e,We(B.$t("markingGeneralPointsMax")),1)])]),oe("tbody",null,[(Cn(!0),Lo(is,null,Y0(re(r).getCorrectionGeneralCriteria(re(h)),z=>(Cn(),Lo("tr",{key:z.key},[oe("td",Y_e,[oe("label",{tabindex:"0",onKeydown:O,for:"app-points-input-"+z.key},We(z.title),41,X_e)]),oe("td",J_e,[Bn(oe("input",{class:"appPoints",type:"number","onUpdate:modelValue":Z=>re(x)[z.key]=Z,id:"app-points-input-"+z.key,disabled:re(u).isOwnDisabled||re(h)!=re(Te).corrections().ownKey,max:z.points,onChange:Z=>D(z.key),onKeydown:O},null,40,Q_e),[[MC,re(x)[z.key]]])]),oe("td",eSe,We(z.points),1)]))),128))])]),_:1})]))}},nSe=tl(tSe,[["__scopeId","data-v-f5c5c1de"]]),oSe={id:"app-marking-wrapper"},sSe={class:"headline"},rSe={class:"headline"},iSe={class:"headline"},aSe={class:"headline"},lSe={key:4},cSe={__name:"Marking",setup(t){Te.api();const r=Te.layout(),i=Te.items(),u=Te.comments(),g=Te.criteria(),h=Te.summaries(),x=Te.settings();function C(){return r.showMarkingComments&&(i.canAct||h.isOneAuthorized)}function D(){return x.Task.enable_partial_points&&r.showMarkingGeneralPoints&&g.hasOwnGeneralCriteria&&(i.canAct||h.isOneAuthorized)}function I(){return x.Task.enable_partial_points&&r.showMarkingCommentPoints&&(i.canAct||h.isOneAuthorized)}function O(){return r.showMarkingText&&(i.canAct||h.isOneAuthorized)}function B(){switch((C()?1:0)+(D()?1:0)+(I()?1:0)+(O()?1:0)){case 0:return"hidden";case 1:return"full";case 2:return"half";case 3:return"third";case 4:return"quart"}}return(V,z)=>(Cn(),Lo("div",oSe,[C()?(Cn(),Lo("div",{key:0,class:ao(B())},[oe("h2",sSe,We(V.$t("allComments")),1),ce(P_e,{class:"content"})],2)):Ho("",!0),I()?(Cn(),Lo("div",{key:1,class:ao(B())},[oe("h2",rSe,[qs(We(V.$t("allPartialPointsLong")),1),Bn(oe("span",{class:"commentLabel"},We(re(u).selectedLabel),513),[[fo,re(u).selectedKey!=""]])]),ce(j_e,{class:"content"})],2)):Ho("",!0),D()?(Cn(),Lo("div",{key:2,class:ao(B())},[oe("h2",iSe,We(V.$t("allGeneralPointsLong")),1),ce(nSe,{class:"content"})],2)):Ho("",!0),O()?(Cn(),Lo("div",{key:3,class:ao(B())},[oe("h2",aSe,We(V.$t("allOwnSummary")),1),ce(mne,{class:"content",editorId:"marking"})],2)):Ho("",!0),!re(i).canAct&&!re(h).isOneAuthorized?(Cn(),Lo("div",lSe,We(V.$t("allEssayNoCorrectionAuthorized")),1)):Ho("",!0)]))}},uSe=tl(cSe,[["__scopeId","data-v-a5354ace"]]),dSe={id:"app-snippets"},fSe={__name:"Snippets",setup(t){const{t:r}=Em.global,i=Te.snippets(),u=Ln(),g=Ln();let h=[];function x(){switch(h=[],i.open_for_purpose){case Sc.FOR_COMMENT:for(const ie of i.forComment)h.push(ie);break;case Sc.FOR_SUMMARY:for(const ie of i.forSummary)h.push(ie);break}h.push(new Sc({key:"new",text:r("snippetsNewSnippet"),purpose:i.open_for_purpose}))}function C(){i.edit=new Sc({text:"",purpose:i.open_for_purpose})}async function D(){i.selection_open&&(x(),C(),await Qo(),u.value.focus(),await Qo(),u.value.search=i.open_text)}Rn(()=>i.selection_open,D);async function I(){const ie=u.value.search?u.value.search:"";if(i.select=="new")i.edit=new Sc({text:ie,purpose:i.open_for_purpose}),i.edit.text&&(await i.createSnippet(i.edit),x());else{const W=h.find(he=>he.key===i.select);W&&W.key!==i.edit.key&&(i.edit=W)}i.select=null,await Qo(),g.value.focus()}async function O(){i.has(i.edit.key)?i.updateSnippet(i.edit):i.edit.text&&(await i.createSnippet(i.edit),x())}function B(){i.selection_open=!1}function V(){i.selection_open=!1,i.insert_text=i.edit.text}async function z(){i.deleteSnippet(i.edit.key),i.select=null,x(),C(),await Qo(),u.value.focus()}async function Z(){switch(event.key){case"F1":event.preventDefault(),V();break}}function ee(ie,W,he){const ue=he.raw.text.toLowerCase(),j=W.toLowerCase();return he.raw.key==="new"||ue.indexOf(j)>-1}return(ie,W)=>(Cn(),Lo("div",dSe,[ce(j0,{"max-width":"60em",modelValue:re(i).selection_open,"onUpdate:modelValue":W[10]||(W[10]=he=>re(i).selection_open=he)},{default:Pt(()=>[ce(K0,null,{default:Pt(()=>[ce(o8,null,{default:Pt(()=>[qs(We(ie.$t("snippetsSnippet")),1)]),_:1}),ce(Lb,null,{default:Pt(()=>[qs(We(ie.$t("snippetsSelect"))+" ",1),ce(hK,{ref_key:"appSelect",ref:u,id:"appSnippetSelect",modelValue:re(i).select,"onUpdate:modelValue":[W[0]||(W[0]=he=>re(i).select=he),W[1]||(W[1]=he=>I())],"custom-filter":ee,items:re(h),onKeydown:W[2]||(W[2]=he=>Z()),"base-color":"white","item-title":"text","item-value":"key"},null,8,["modelValue","items"]),qs(" "+We(ie.$t("snippetsEdit"))+" ",1),ce(gne,{ref_key:"appEdit",ref:g,modelValue:re(i).edit.text,"onUpdate:modelValue":W[3]||(W[3]=he=>re(i).edit.text=he),onChange:W[4]||(W[4]=he=>O()),onKeyup:W[5]||(W[5]=he=>O()),onKeydown:W[6]||(W[6]=he=>Z())},null,8,["modelValue"])]),_:1}),ce(Nb,null,{default:Pt(()=>[ce(ko,{disabled:re(i).edit.text=="",onClick:W[7]||(W[7]=he=>V())},{default:Pt(()=>[ce(Kn,{left:"",icon:"mdi-ok"}),oe("span",null,We(ie.$t("allApply")),1)]),_:1},8,["disabled"]),ce(ko,{disabled:!re(i).has(re(i).edit.key),onClick:W[8]||(W[8]=he=>z())},{default:Pt(()=>[ce(Kn,{left:"",icon:"mdi-ok"}),oe("span",null,We(ie.$t("allDelete")),1)]),_:1},8,["disabled"]),ce(vK),ce(ko,{onClick:W[9]||(W[9]=he=>B())},{default:Pt(()=>[ce(Kn,{left:"",icon:"mdi-close"}),oe("span",null,We(ie.$t("allClose")),1)]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]))}},mSe=Fn({scrollable:Boolean,...zs(),...fp(),...aa({tag:"main"})},"VMain"),hne=Fo()({name:"VMain",props:mSe(),setup(t,r){let{slots:i}=r;const{dimensionStyles:u}=mp(t),{mainStyles:g}=Phe(),{ssrBootStyles:h}=a8();return _s(()=>ce(t.tag,{class:ao(["v-main",{"v-main--scrollable":t.scrollable},t.class]),style:Ls([g.value,h.value,u.value,t.style])},{default:()=>{var x,C;return[t.scrollable?oe("div",{class:"v-main__scroller"},[(x=i.default)==null?void 0:x.call(i)]):(C=i.default)==null?void 0:C.call(i)]}})),{}}}),gSe={id:"app-main-container"},hSe={class:"col-header"},pSe={id:"appHeadLeft",tabindex:"0",class:"headline"},bSe={class:"sr-only"},vSe={"aria-hidden":"true"},ySe={id:"app-expand-left-column",class:"sr-only"},xSe={class:"col-content"},wSe={class:"col-header"},CSe={id:"appHeadRight",tabindex:"0",class:"headline"},_Se={class:"sr-only"},SSe={class:"sr-only"},kSe={class:"sr-only"},ESe={class:"sr-only"},ASe={class:"sr-only"},TSe={class:"sr-only"},OSe={class:"sr-only"},RSe={class:"sr-only"},ISe={class:"sr-only"},DSe={"aria-hidden":"true"},PSe={id:"app-expand-right-column",class:"sr-only"},NSe={class:"col-content"},LSe={__name:"MainContent",setup(t){const r=Te.api(),i=Te.layout(),u=Te.items(),g=Te.resources(),h=Te.comments(),x=Te.criteria(),C=Te.pages(),D=Te.settings();async function I(){i.focusTarget=="appHeadLeft"&&(await Qo(),document.getElementById("appHeadLeft").focus()),i.focusTarget=="appHeadRight"&&(await Qo(),document.getElementById("appHeadRight").focus())}return Rn(()=>i.focusChange,I),document.addEventListener("keydown",i.handleKeyDown),(O,B)=>(Cn(),Lo(is,null,[ce(hne,{"fill-height":""},{default:Pt(()=>{var V;return[oe("div",gSe,[Bn(oe("section",{class:ao(["column",{colExpanded:re(i).isLeftExpanded,colNormal:!re(i).isLeftExpanded}])},[oe("div",hSe,[oe("h1",pSe,We(re(i).isInstructionsVisible?O.$t("allInstructions"):re(i).isInstructionsPdfVisible?O.$t("allInstructionsPdf"):re(i).isSolutionVisible?O.$t("allSolution"):re(i).isSolutionPdfVisible?O.$t("allSolutionPdf"):re(i).isEssayVisible?O.$t("allEssay"):re(i).isResourcesVisible?(V=re(g).activeResource)==null?void 0:V.title:re(i).isLeftCorrectionVisible?re(i).leftCorrectionTitle:O.$t("mainContentLeftColumn")),1),ce(W0,{density:"comfortable"},{default:Pt(()=>{var z;return[Bn(ce(ko,{size:"small",onClick:B[0]||(B[0]=Z=>re(i).toggleLeftSummaryCriteria())},{default:Pt(()=>[Bn(ce(Kn,{icon:"mdi-checkbox-outline"},null,512),[[fo,re(i).showLeftSummaryCriteria]]),Bn(ce(Kn,{icon:"mdi-checkbox-blank-outline"},null,512),[[fo,!re(i).showLeftSummaryCriteria]]),oe("span",null,We(O.$t("allOverview")),1)]),_:1},512),[[fo,re(i).isLeftCorrectionVisible]]),Bn(ce(ko,{size:"small",onClick:B[1]||(B[1]=Z=>re(i).toggleLeftSummaryText())},{default:Pt(()=>[Bn(ce(Kn,{icon:"mdi-checkbox-outline"},null,512),[[fo,re(i).showLeftSummaryText]]),Bn(ce(Kn,{icon:"mdi-checkbox-blank-outline"},null,512),[[fo,!re(i).showLeftSummaryText]]),oe("span",null,We(O.$t("allSummary")),1)]),_:1},512),[[fo,re(i).isLeftCorrectionVisible]]),(z=re(Te).summaries().getForCorrection(re(i).leftCorrectionKey))!=null&&z.isRevised()?Bn((Cn(),Rs(ko,{key:0,size:"small",onClick:B[2]||(B[2]=Z=>re(i).toggleLeftSummaryRevision())},{default:Pt(()=>[Bn(ce(Kn,{icon:"mdi-checkbox-outline"},null,512),[[fo,re(i).showLeftSummaryRevision]]),Bn(ce(Kn,{icon:"mdi-checkbox-blank-outline"},null,512),[[fo,!re(i).showLeftSummaryRevision]]),oe("span",null,We(re(D).procedureText),1),oe("span",bSe,We(O.$t("allShow")+(re(i).showLeftSummaryRevision?O.$t("allIsSelected"):"")),1)]),_:1},512)),[[fo,re(i).isLeftCorrectionVisible]]):Ho("",!0),Bn(ce(ko,{size:"small",onClick:B[3]||(B[3]=Z=>re(i).setLeftExpanded(!1))},{default:Pt(()=>[ce(Kn,{icon:"mdi-chevron-left"}),oe("span",null,We(re(i).isMarkingSelected?O.$t("allCorrection"):re(i).isSummarySelected?O.$t("allSummary"):re(i).isRightCorrectionSelected?re(i).rightCorrectionTitle:O.$t("mainContentExpandRightColumn")),1)]),_:1},512),[[fo,re(i).isLeftExpanded]]),Bn(ce(ko,{size:"small",onClick:B[4]||(B[4]=Z=>re(i).setLeftExpanded(!0))},{default:Pt(()=>[oe("span",vSe,We(O.$t("mainContentExpand")),1),oe("span",ySe,We(O.$t("mainContentExpandLeftColumn")),1),ce(Kn,{icon:"mdi-chevron-right"})]),_:1},512),[[fo,!re(i).isLeftExpanded]])]}),_:1})]),oe("div",xSe,[re(i).isInstructionsVisible?(Cn(),Rs(Qxe,{key:0})):Ho("",!0),re(i).isInstructionsPdfVisible?(Cn(),Rs(n2e,{key:1})):Ho("",!0),re(i).isSolutionVisible?(Cn(),Rs(r2e,{key:2})):Ho("",!0),re(i).isSolutionPdfVisible?(Cn(),Rs(l2e,{key:3})):Ho("",!0),re(i).isEssayVisible&&!re(C).hasPages?(Cn(),Rs(x2e,{key:4})):Ho("",!0),re(i).isEssayVisible&&re(C).hasPages?(Cn(),Rs(Nwe,{key:5})):Ho("",!0),re(i).isResourcesVisible?(Cn(),Rs(h2e,{key:6})):Ho("",!0),re(i).isLeftCorrectionVisible?(Cn(),Rs(xU,{key:7,correction_key:re(i).leftCorrectionKey,showCriteria:re(i).showLeftSummaryCriteria,showText:re(i).showLeftSummaryText,showRevision:re(i).showLeftSummaryRevision},null,8,["correction_key","showCriteria","showText","showRevision"])):Ho("",!0)])],2),[[fo,re(i).isLeftVisible]]),Bn(oe("section",{class:ao(["column",{colExpanded:re(i).isRightExpanded,colNormal:!re(i).isRightExpanded}])},[oe("div",wSe,[oe("h1",CSe,We(re(i).isMarkingVisible?O.$t("allCorrection"):re(i).isSummaryVisible?O.$t("allOwnSummaryAndRating"):re(i).isRightCorrectionVisible?re(i).rightCorrectionTitle:O.$t("mainContentRightColumn")),1),ce(W0,{density:"comfortable"},{default:Pt(()=>[re(i).isMarkingVisible?(Cn(),Rs(ko,{key:0,size:"small",variant:"plain",onClick:B[5]||(B[5]=z=>re(h).setShowOtherCorrections(!re(h).isOtherCorrectionsShown))},{default:Pt(()=>[ce(Kn,{icon:re(h).isOtherCorrectionsShown?"mdi-account-school":"mdi-account-school-outline"},null,8,["icon"]),oe("span",_Se,We(O.$t("mainContentShowOtherCorrections")+(re(h).isOtherCorrectionsShown?O.$t("allIsSelected"):"")),1)]),_:1})):Ho("",!0),re(i).isMarkingVisible?(Cn(),Rs(ko,{key:1,size:"small",variant:"plain",disabled:!re(h).isFilterActive,onClick:B[6]||(B[6]=z=>re(h).resetFilter())},{default:Pt(()=>[ce(Kn,{icon:re(h).isFilterActive?"mdi-filter":"mdi-filter-outline"},null,8,["icon"]),oe("span",SSe,We("Filter aktiv"+(re(h).isFilterActive?O.$t("allIsSelected"):"")),1)]),_:1},8,["disabled"])):Ho("",!0),re(u).canAct?Bn((Cn(),Rs(ko,{key:2,size:"small",onClick:B[7]||(B[7]=z=>re(i).toggleMarkingComments())},{default:Pt(()=>[Bn(ce(Kn,{icon:"mdi-checkbox-outline"},null,512),[[fo,re(i).showMarkingComments]]),Bn(ce(Kn,{icon:"mdi-checkbox-blank-outline"},null,512),[[fo,!re(i).showMarkingComments]]),oe("span",null,We(O.$t("allComments")),1),oe("span",kSe,We(O.$t("allShow")+(re(i).showMarkingComments?O.$t("allIsSelected"):"")),1)]),_:1},512)),[[fo,re(i).isMarkingVisible]]):Ho("",!0),re(u).canAct&&re(D).Task.enable_partial_points?Bn((Cn(),Rs(ko,{key:3,size:"small",onClick:B[8]||(B[8]=z=>re(i).toggleMarkingCommentPoints())},{default:Pt(()=>[Bn(ce(Kn,{icon:"mdi-checkbox-outline"},null,512),[[fo,re(i).showMarkingCommentPoints]]),Bn(ce(Kn,{icon:"mdi-checkbox-blank-outline"},null,512),[[fo,!re(i).showMarkingCommentPoints]]),oe("span",null,We(O.$t("allPartialPoints")),1),oe("span",ESe,We(O.$t("allShow")+(re(i).showMarkingCommentPoints?O.$t("allIsSelected"):"")),1)]),_:1},512)),[[fo,re(i).isMarkingVisible]]):Ho("",!0),re(D).Task.enable_partial_points&&re(x).hasOwnGeneralCriteria?Bn((Cn(),Rs(ko,{key:4,size:"small",onClick:B[9]||(B[9]=z=>re(i).toggleMarkingGeneralPoints())},{default:Pt(()=>[Bn(ce(Kn,{icon:"mdi-checkbox-outline"},null,512),[[fo,re(i).showMarkingGeneralPoints]]),Bn(ce(Kn,{icon:"mdi-checkbox-blank-outline"},null,512),[[fo,!re(i).showMarkingGeneralPoints]]),oe("span",null,We(O.$t("allGeneralPoints")),1),oe("span",ASe,We(O.$t("allShow")+(re(i).showMarkingGeneralPoints?O.$t("allIsSelected"):"")),1)]),_:1},512)),[[fo,re(i).isMarkingVisible]]):Ho("",!0),re(u).canAct?Bn((Cn(),Rs(ko,{key:5,size:"small",onClick:B[10]||(B[10]=z=>re(i).toggleMarkingText())},{default:Pt(()=>[Bn(ce(Kn,{icon:"mdi-checkbox-outline"},null,512),[[fo,re(i).showMarkingText]]),Bn(ce(Kn,{icon:"mdi-checkbox-blank-outline"},null,512),[[fo,!re(i).showMarkingText]]),oe("span",null,We(O.$t("allSummary")),1),oe("span",TSe,We(O.$t("allShow")+(re(i).showMarkingText?O.$t("allIsSelected"):"")),1)]),_:1},512)),[[fo,re(i).isMarkingVisible]]):Ho("",!0),Bn(ce(ko,{size:"small",onClick:B[11]||(B[11]=z=>re(i).toggleRightSummaryCriteria())},{default:Pt(()=>[Bn(ce(Kn,{icon:"mdi-checkbox-outline"},null,512),[[fo,re(i).showRightSummaryCriteria]]),Bn(ce(Kn,{icon:"mdi-checkbox-blank-outline"},null,512),[[fo,!re(i).showRightSummaryCriteria]]),oe("span",null,We(O.$t("allOverview")),1),oe("span",OSe,We(O.$t("allShow")+(re(i).showRightSummaryCriteria?O.$t("allIsSelected"):"")),1)]),_:1},512),[[fo,re(i).isSummaryVisible||re(i).isRightCorrectionVisible]]),Bn(ce(ko,{size:"small",onClick:B[12]||(B[12]=z=>re(i).toggleRightSummaryText())},{default:Pt(()=>[Bn(ce(Kn,{icon:"mdi-checkbox-outline"},null,512),[[fo,re(i).showRightSummaryText]]),Bn(ce(Kn,{icon:"mdi-checkbox-blank-outline"},null,512),[[fo,!re(i).showRightSummaryText]]),oe("span",null,We(O.$t("allSummary")),1),oe("span",RSe,We(O.$t("allShow")+(re(i).showRightSummaryText?O.$t("allIsSelected"):"")),1)]),_:1},512),[[fo,re(i).isSummaryVisible||re(i).isRightCorrectionVisible]]),re(Te).summaries().isOwnRevised||re(Te).items().canRevise?Bn((Cn(),Rs(ko,{key:6,size:"small",onClick:B[13]||(B[13]=z=>re(i).toggleRightSummaryRevision())},{default:Pt(()=>[Bn(ce(Kn,{icon:"mdi-checkbox-outline"},null,512),[[fo,re(i).showRightSummaryRevision]]),Bn(ce(Kn,{icon:"mdi-checkbox-blank-outline"},null,512),[[fo,!re(i).showRightSummaryRevision]]),oe("span",null,We(re(D).procedureText),1),oe("span",ISe,We(O.$t("allShow")+(re(i).showRightSummaryRevision?O.$t("allIsSelected"):"")),1)]),_:1},512)),[[fo,re(i).isSummaryVisible||re(i).isRightCorrectionVisible]]):Ho("",!0),Bn(ce(ko,{size:"small",onClick:B[14]||(B[14]=z=>re(i).setRightExpanded(!1))},{default:Pt(()=>{var z;return[oe("span",null,We(re(i).isInstructionsSelected?O.$t("allInstructions"):re(i).isEssaySelected?O.$t("allEssay"):re(i).isResourcesSelected?(z=re(g).activeResource)==null?void 0:z.title:re(i).isLeftCorrectionSelected?re(i).leftCorrectionTitle:O.$t("mainContentExpandLeftColumn")),1),ce(Kn,{icon:"mdi-chevron-right"})]}),_:1},512),[[fo,re(i).isRightExpanded]]),Bn(ce(ko,{size:"small",onClick:B[15]||(B[15]=z=>re(i).setRightExpanded(!0))},{default:Pt(()=>[ce(Kn,{icon:"mdi-chevron-left"}),oe("span",DSe,We(O.$t("mainContentExpand")),1),oe("span",PSe,We(O.$t("mainContentExpandRightColumn")),1)]),_:1},512),[[fo,!re(i).isRightExpanded]])]),_:1})]),oe("div",NSe,[re(i).isSummaryVisible?(Cn(),Rs(xU,{key:0,correction_key:re(Te).corrections().ownKey,showCriteria:re(i).showRightSummaryCriteria,showText:re(i).showRightSummaryText,showRevision:re(i).showRightSummaryRevision},null,8,["correction_key","showCriteria","showText","showRevision"])):Ho("",!0),re(i).isRightCorrectionVisible?(Cn(),Rs(xU,{key:1,correction_key:re(i).rightCorrectionKey,showCriteria:re(i).showRightSummaryCriteria,showText:re(i).showRightSummaryText,showRevision:re(i).showRightSummaryRevision},null,8,["correction_key","showCriteria","showText","showRevision"])):Ho("",!0),re(i).isMarkingVisible?(Cn(),Rs(uSe,{key:2})):Ho("",!0)])],2),[[fo,re(i).isRightVisible]])])]}),_:1}),ce(j0,{persistent:"",modelValue:re(Te).layout().showSendFailure,"onUpdate:modelValue":B[17]||(B[17]=V=>re(Te).layout().showSendFailure=V)},{default:Pt(()=>[ce(K0,null,{default:Pt(()=>[ce(Lb,null,{default:Pt(()=>[oe("p",null,We(O.$t("mainContentSendFailureLine1")),1),oe("p",null,We(O.$t("mainContentSendFailureLine2")),1),oe("p",null,We(O.$t("mainContentSendFailureLine3")),1)]),_:1}),ce(Nb,null,{default:Pt(()=>[ce(ko,{onClick:B[16]||(B[16]=V=>{re(Te).layout().showSendFailure=!1})},{default:Pt(()=>[ce(Kn,{left:"",icon:"mdi-close"}),oe("span",null,We(O.$t("allCloseMessage")),1)]),_:1}),ce(ko,{href:re(r).returnUrl},{default:Pt(()=>[ce(Kn,{left:"",icon:"mdi-logout-variant"}),oe("span",null,We(O.$t("mainContentStopCorrection")),1)]),_:1},8,["href"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),ce(fSe)],64))}},MSe=tl(LSe,[["__scopeId","data-v-39c98be2"]]),BSe={__name:"StartupContent",setup(t){return(r,i)=>(Cn(),Rs(hne,{"fill-height":""},{default:Pt(()=>[ce(Ete,{elevation:"1",color:"white",density:"compact"},{default:Pt(()=>[oe("p",null,We(r.$t("startupContentLoadData")),1),ce(vK),ce(ko,{href:re(Te).api().returnUrl},{default:Pt(()=>[ce(Kn,{left:"",icon:"mdi-logout-variant"}),oe("span",null,We(r.$t("startupContentMyCorrections")),1)]),_:1},8,["href"])]),_:1}),ce(j0,{persistent:"",modelValue:re(Te).layout().showInitFailure,"onUpdate:modelValue":i[0]||(i[0]=u=>re(Te).layout().showInitFailure=u)},{default:Pt(()=>[ce(K0,null,{default:Pt(()=>[ce(Lb,null,{default:Pt(()=>[oe("p",null,We(r.$t("startupContentLoadError")),1)]),_:1}),ce(Nb,null,{default:Pt(()=>[ce(ko,{href:re(Te).api().returnUrl},{default:Pt(()=>[ce(Kn,{left:"",icon:"mdi-logout-variant"}),oe("span",null,We(r.$t("allEnd")),1)]),_:1},8,["href"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),ce(j0,{persistent:"",modelValue:re(Te).layout().showItemLoadFailure,"onUpdate:modelValue":i[1]||(i[1]=u=>re(Te).layout().showItemLoadFailure=u)},{default:Pt(()=>[ce(K0,null,{default:Pt(()=>[ce(Lb,null,{default:Pt(()=>[oe("p",null,We(r.$t("startupContentLoadItemError")),1)]),_:1}),ce(Nb,null,{default:Pt(()=>[ce(ko,{href:re(Te).api().returnUrl},{default:Pt(()=>[ce(Kn,{left:"",icon:"mdi-logout-variant"}),oe("span",null,We(r.$t("allEnd")),1)]),_:1},8,["href"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),ce(j0,{persistent:"",modelValue:re(Te).layout().showDataReplaceConfirmation,"onUpdate:modelValue":i[2]||(i[2]=u=>re(Te).layout().showDataReplaceConfirmation=u)},{default:Pt(()=>[ce(K0,null,{default:Pt(()=>[ce(Lb,null,{default:Pt(()=>[oe("p",null,We(r.$t("startupContentDataReplaceInfo1")),1),oe("p",null,[oe("strong",null,We(re(Te).tasks().currentTitle)+": "+We(re(Te).items().getItem(re(Te).api().storedItemKey,{key:0,title:"Unbekannt"}).title),1)]),oe("p",null,We(r.$t("startupContentDataReplaceInfo2")),1)]),_:1}),ce(Nb,null,{default:Pt(()=>[ce(ko,{onClick:re(Te).api().initAfterReplaceDataConfirmed},{default:Pt(()=>[ce(Kn,{left:"",icon:"mdi-reload"}),oe("span",null,We(r.$t("startupContentDeleteAndLoad")),1)]),_:1},8,["onClick"]),ce(ko,{href:re(Te).api().returnUrl},{default:Pt(()=>[ce(Kn,{left:"",icon:"mdi-logout-variant"}),oe("span",null,We(r.$t("allCancel")),1)]),_:1},8,["href"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),ce(j0,{persistent:"",modelValue:re(Te).layout().showItemReplaceConfirmation,"onUpdate:modelValue":i[3]||(i[3]=u=>re(Te).layout().showItemReplaceConfirmation=u)},{default:Pt(()=>[ce(K0,null,{default:Pt(()=>[ce(Lb,null,{default:Pt(()=>[oe("p",null,We(r.$t("startupContentItemReplaceInfo1")),1),oe("p",null,[oe("strong",null,We(re(Te).tasks().currentTitle)+": "+We(re(Te).items().getItem(re(Te).api().storedItemKey,{key:0,title:"Unbekannt"}).title),1)]),oe("p",null,We(r.$t("startupContentItemReplaceInfo2")),1)]),_:1}),ce(Nb,null,{default:Pt(()=>[ce(ko,{onClick:re(Te).api().initAfterKeepDataConfirmed},{default:Pt(()=>[ce(Kn,{left:"",icon:"mdi-pencil-outline"}),oe("span",null,We(r.$t("startupContentKeepLocalData")),1)]),_:1},8,["onClick"]),ce(ko,{onClick:re(Te).api().initAfterReplaceDataConfirmed},{default:Pt(()=>[ce(Kn,{left:"",icon:"mdi-trash-can-outline"}),oe("span",null,We(r.$t("startupContentDeleteLocalData")),1)]),_:1},8,["onClick"]),ce(ko,{href:re(Te).api().returnUrl},{default:Pt(()=>[ce(Kn,{left:"",icon:"mdi-logout-variant"}),oe("span",null,We(r.$t("allCancel")),1)]),_:1},8,["href"])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1}))}},FSe=Fn({...zs(),...Dhe({fullHeight:!0}),...xl()},"VApp"),$Se=Fo()({name:"VApp",props:FSe(),setup(t,r){let{slots:i}=r;const u=ic(t),{layoutClasses:g,getLayoutItem:h,items:x,layoutRef:C}=Lhe(t),{rtlClasses:D}=Gg();return _s(()=>{var I;return oe("div",{ref:C,class:ao(["v-application",u.themeClasses.value,g.value,D.value,t.class]),style:Ls([t.style])},[oe("div",{class:"v-application__wrap"},[(I=i.default)==null?void 0:I.call(i)])])}),{getLayoutItem:h,items:x,theme:u}}}),VSe={__name:"App",setup(t){return Te.api().init(),(r,i)=>(Cn(),Rs($Se,{"fill-height":""},{default:Pt(()=>[re(Te).layout().initialized?Ho("",!0):(Cn(),Rs(BSe,{key:0})),re(Te).layout().initialized?(Cn(),Rs(Fxe,{key:1})):Ho("",!0),re(Te).layout().initialized?(Cn(),Rs(Yxe,{key:2})):Ho("",!0),re(Te).layout().initialized?(Cn(),Rs(MSe,{key:3})):Ho("",!0)]),_:1}))}},pne=Rme(VSe);Sbe(pne);pne.mount("#app");
