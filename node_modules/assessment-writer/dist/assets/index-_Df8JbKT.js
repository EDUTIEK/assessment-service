var mce=Object.defineProperty;var gce=(n,r,l)=>r in n?mce(n,r,{enumerable:!0,configurable:!0,writable:!0,value:l}):n[r]=l;var Yn=(n,r,l)=>gce(n,typeof r!="symbol"?r+"":r,l);(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const h of document.querySelectorAll('link[rel="modulepreload"]'))d(h);new MutationObserver(h=>{for(const g of h)if(g.type==="childList")for(const y of g.addedNodes)y.tagName==="LINK"&&y.rel==="modulepreload"&&d(y)}).observe(document,{childList:!0,subtree:!0});function l(h){const g={};return h.integrity&&(g.integrity=h.integrity),h.referrerPolicy&&(g.referrerPolicy=h.referrerPolicy),h.crossOrigin==="use-credentials"?g.credentials="include":h.crossOrigin==="anonymous"?g.credentials="omit":g.credentials="same-origin",g}function d(h){if(h.ep)return;h.ep=!0;const g=l(h);fetch(h.href,g)}})();/**
* @vue/shared v3.5.16
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function Y9(n){const r=Object.create(null);for(const l of n.split(","))r[l]=1;return l=>l in r}const gi={},Dk=[],ov=()=>{},hce=()=>!1,hL=n=>n.charCodeAt(0)===111&&n.charCodeAt(1)===110&&(n.charCodeAt(2)>122||n.charCodeAt(2)<97),X9=n=>n.startsWith("onUpdate:"),Hc=Object.assign,J9=(n,r)=>{const l=n.indexOf(r);l>-1&&n.splice(l,1)},pce=Object.prototype.hasOwnProperty,Pa=(n,r)=>pce.call(n,r),Ds=Array.isArray,Nk=n=>pL(n)==="[object Map]",nY=n=>pL(n)==="[object Set]",Zs=n=>typeof n=="function",Pl=n=>typeof n=="string",mx=n=>typeof n=="symbol",Ii=n=>n!==null&&typeof n=="object",oY=n=>(Ii(n)||Zs(n))&&Zs(n.then)&&Zs(n.catch),sY=Object.prototype.toString,pL=n=>sY.call(n),bce=n=>pL(n).slice(8,-1),rY=n=>pL(n)==="[object Object]",Q9=n=>Pl(n)&&n!=="NaN"&&n[0]!=="-"&&""+parseInt(n,10)===n,EO=Y9(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),bL=n=>{const r=Object.create(null);return l=>r[l]||(r[l]=n(l))},vce=/-(\w)/g,kf=bL(n=>n.replace(vce,(r,l)=>l?l.toUpperCase():"")),yce=/\B([A-Z])/g,hC=bL(n=>n.replace(yce,"-$1").toLowerCase()),a1=bL(n=>n.charAt(0).toUpperCase()+n.slice(1)),lz=bL(n=>n?`on${a1(n)}`:""),sx=(n,r)=>!Object.is(n,r),EM=(n,...r)=>{for(let l=0;l<n.length;l++)n[l](...r)},aY=(n,r,l,d=!1)=>{Object.defineProperty(n,r,{configurable:!0,enumerable:!1,writable:d,value:l})},o9=n=>{const r=parseFloat(n);return isNaN(r)?n:r},xce=n=>{const r=Pl(n)?Number(n):NaN;return isNaN(r)?n:r};let nK;const vL=()=>nK||(nK=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Rs(n){if(Ds(n)){const r={};for(let l=0;l<n.length;l++){const d=n[l],h=Pl(d)?_ce(d):Rs(d);if(h)for(const g in h)r[g]=h[g]}return r}else if(Pl(n)||Ii(n))return n}const wce=/;(?![^(]*\))/g,Cce=/:([^]+)/,Sce=/\/\*[^]*?\*\//g;function _ce(n){const r={};return n.replace(Sce,"").split(wce).forEach(l=>{if(l){const d=l.split(Cce);d.length>1&&(r[d[0].trim()]=d[1].trim())}}),r}function zo(n){let r="";if(Pl(n))r=n;else if(Ds(n))for(let l=0;l<n.length;l++){const d=zo(n[l]);d&&(r+=d+" ")}else if(Ii(n))for(const l in n)n[l]&&(r+=l+" ");return r.trim()}const kce="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Ece=Y9(kce);function iY(n){return!!n||n===""}const lY=n=>!!(n&&n.__v_isRef===!0),jt=n=>Pl(n)?n:n==null?"":Ds(n)||Ii(n)&&(n.toString===sY||!Zs(n.toString))?lY(n)?jt(n.value):JSON.stringify(n,cY,2):String(n),cY=(n,r)=>lY(r)?cY(n,r.value):Nk(r)?{[`Map(${r.size})`]:[...r.entries()].reduce((l,[d,h],g)=>(l[cz(d,g)+" =>"]=h,l),{})}:nY(r)?{[`Set(${r.size})`]:[...r.values()].map(l=>cz(l))}:mx(r)?cz(r):Ii(r)&&!Ds(r)&&!rY(r)?String(r):r,cz=(n,r="")=>{var l;return mx(n)?`Symbol(${(l=n.description)!=null?l:r})`:n};/**
* @vue/reactivity v3.5.16
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Cd;class uY{constructor(r=!1){this.detached=r,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Cd,!r&&Cd&&(this.index=(Cd.scopes||(Cd.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let r,l;if(this.scopes)for(r=0,l=this.scopes.length;r<l;r++)this.scopes[r].pause();for(r=0,l=this.effects.length;r<l;r++)this.effects[r].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let r,l;if(this.scopes)for(r=0,l=this.scopes.length;r<l;r++)this.scopes[r].resume();for(r=0,l=this.effects.length;r<l;r++)this.effects[r].resume()}}run(r){if(this._active){const l=Cd;try{return Cd=this,r()}finally{Cd=l}}}on(){++this._on===1&&(this.prevScope=Cd,Cd=this)}off(){this._on>0&&--this._on===0&&(Cd=this.prevScope,this.prevScope=void 0)}stop(r){if(this._active){this._active=!1;let l,d;for(l=0,d=this.effects.length;l<d;l++)this.effects[l].stop();for(this.effects.length=0,l=0,d=this.cleanups.length;l<d;l++)this.cleanups[l]();if(this.cleanups.length=0,this.scopes){for(l=0,d=this.scopes.length;l<d;l++)this.scopes[l].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!r){const h=this.parent.scopes.pop();h&&h!==this&&(this.parent.scopes[this.index]=h,h.index=this.index)}this.parent=void 0}}}function ix(n){return new uY(n)}function dY(){return Cd}function Gu(n,r=!1){Cd&&Cd.cleanups.push(n)}let Ri;const uz=new WeakSet;class fY{constructor(r){this.fn=r,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Cd&&Cd.active&&Cd.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,uz.has(this)&&(uz.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||gY(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,oK(this),hY(this);const r=Ri,l=Bp;Ri=this,Bp=!0;try{return this.fn()}finally{pY(this),Ri=r,Bp=l,this.flags&=-3}}stop(){if(this.flags&1){for(let r=this.deps;r;r=r.nextDep)nU(r);this.deps=this.depsTail=void 0,oK(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?uz.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){s9(this)&&this.run()}get dirty(){return s9(this)}}let mY=0,AO,TO;function gY(n,r=!1){if(n.flags|=8,r){n.next=TO,TO=n;return}n.next=AO,AO=n}function eU(){mY++}function tU(){if(--mY>0)return;if(TO){let r=TO;for(TO=void 0;r;){const l=r.next;r.next=void 0,r.flags&=-9,r=l}}let n;for(;AO;){let r=AO;for(AO=void 0;r;){const l=r.next;if(r.next=void 0,r.flags&=-9,r.flags&1)try{r.trigger()}catch(d){n||(n=d)}r=l}}if(n)throw n}function hY(n){for(let r=n.deps;r;r=r.nextDep)r.version=-1,r.prevActiveLink=r.dep.activeLink,r.dep.activeLink=r}function pY(n){let r,l=n.depsTail,d=l;for(;d;){const h=d.prevDep;d.version===-1?(d===l&&(l=h),nU(d),Ace(d)):r=d,d.dep.activeLink=d.prevActiveLink,d.prevActiveLink=void 0,d=h}n.deps=r,n.depsTail=l}function s9(n){for(let r=n.deps;r;r=r.nextDep)if(r.dep.version!==r.version||r.dep.computed&&(bY(r.dep.computed)||r.dep.version!==r.version))return!0;return!!n._dirty}function bY(n){if(n.flags&4&&!(n.flags&16)||(n.flags&=-17,n.globalVersion===BO)||(n.globalVersion=BO,!n.isSSR&&n.flags&128&&(!n.deps&&!n._dirty||!s9(n))))return;n.flags|=2;const r=n.dep,l=Ri,d=Bp;Ri=n,Bp=!0;try{hY(n);const h=n.fn(n._value);(r.version===0||sx(h,n._value))&&(n.flags|=128,n._value=h,r.version++)}catch(h){throw r.version++,h}finally{Ri=l,Bp=d,pY(n),n.flags&=-3}}function nU(n,r=!1){const{dep:l,prevSub:d,nextSub:h}=n;if(d&&(d.nextSub=h,n.prevSub=void 0),h&&(h.prevSub=d,n.nextSub=void 0),l.subs===n&&(l.subs=d,!d&&l.computed)){l.computed.flags&=-5;for(let g=l.computed.deps;g;g=g.nextDep)nU(g,!0)}!r&&!--l.sc&&l.map&&l.map.delete(l.key)}function Ace(n){const{prevDep:r,nextDep:l}=n;r&&(r.nextDep=l,n.prevDep=void 0),l&&(l.prevDep=r,n.nextDep=void 0)}let Bp=!0;const vY=[];function Q0(){vY.push(Bp),Bp=!1}function e1(){const n=vY.pop();Bp=n===void 0?!0:n}function oK(n){const{cleanup:r}=n;if(n.cleanup=void 0,r){const l=Ri;Ri=void 0;try{r()}finally{Ri=l}}}let BO=0;class Tce{constructor(r,l){this.sub=r,this.dep=l,this.version=l.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class oU{constructor(r){this.computed=r,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(r){if(!Ri||!Bp||Ri===this.computed)return;let l=this.activeLink;if(l===void 0||l.sub!==Ri)l=this.activeLink=new Tce(Ri,this),Ri.deps?(l.prevDep=Ri.depsTail,Ri.depsTail.nextDep=l,Ri.depsTail=l):Ri.deps=Ri.depsTail=l,yY(l);else if(l.version===-1&&(l.version=this.version,l.nextDep)){const d=l.nextDep;d.prevDep=l.prevDep,l.prevDep&&(l.prevDep.nextDep=d),l.prevDep=Ri.depsTail,l.nextDep=void 0,Ri.depsTail.nextDep=l,Ri.depsTail=l,Ri.deps===l&&(Ri.deps=d)}return l}trigger(r){this.version++,BO++,this.notify(r)}notify(r){eU();try{for(let l=this.subs;l;l=l.prevSub)l.sub.notify()&&l.sub.dep.notify()}finally{tU()}}}function yY(n){if(n.dep.sc++,n.sub.flags&4){const r=n.dep.computed;if(r&&!n.dep.subs){r.flags|=20;for(let d=r.deps;d;d=d.nextDep)yY(d)}const l=n.dep.subs;l!==n&&(n.prevSub=l,l&&(l.nextSub=n)),n.dep.subs=n}}const VM=new WeakMap,cC=Symbol(""),r9=Symbol(""),MO=Symbol("");function Sd(n,r,l){if(Bp&&Ri){let d=VM.get(n);d||VM.set(n,d=new Map);let h=d.get(l);h||(d.set(l,h=new oU),h.map=d,h.key=l),h.track()}}function Y0(n,r,l,d,h,g){const y=VM.get(n);if(!y){BO++;return}const w=A=>{A&&A.trigger()};if(eU(),r==="clear")y.forEach(w);else{const A=Ds(n),R=A&&Q9(l);if(A&&l==="length"){const O=Number(d);y.forEach((N,V)=>{(V==="length"||V===MO||!mx(V)&&V>=O)&&w(N)})}else switch((l!==void 0||y.has(void 0))&&w(y.get(l)),R&&w(y.get(MO)),r){case"add":A?R&&w(y.get("length")):(w(y.get(cC)),Nk(n)&&w(y.get(r9)));break;case"delete":A||(w(y.get(cC)),Nk(n)&&w(y.get(r9)));break;case"set":Nk(n)&&w(y.get(cC));break}}tU()}function Oce(n,r){const l=VM.get(n);return l&&l.get(r)}function hk(n){const r=ws(n);return r===n?r:(Sd(r,"iterate",MO),kh(n)?r:r.map(qu))}function yL(n){return Sd(n=ws(n),"iterate",MO),n}const Rce={__proto__:null,[Symbol.iterator](){return dz(this,Symbol.iterator,qu)},concat(...n){return hk(this).concat(...n.map(r=>Ds(r)?hk(r):r))},entries(){return dz(this,"entries",n=>(n[1]=qu(n[1]),n))},every(n,r){return W0(this,"every",n,r,void 0,arguments)},filter(n,r){return W0(this,"filter",n,r,l=>l.map(qu),arguments)},find(n,r){return W0(this,"find",n,r,qu,arguments)},findIndex(n,r){return W0(this,"findIndex",n,r,void 0,arguments)},findLast(n,r){return W0(this,"findLast",n,r,qu,arguments)},findLastIndex(n,r){return W0(this,"findLastIndex",n,r,void 0,arguments)},forEach(n,r){return W0(this,"forEach",n,r,void 0,arguments)},includes(...n){return fz(this,"includes",n)},indexOf(...n){return fz(this,"indexOf",n)},join(n){return hk(this).join(n)},lastIndexOf(...n){return fz(this,"lastIndexOf",n)},map(n,r){return W0(this,"map",n,r,void 0,arguments)},pop(){return yO(this,"pop")},push(...n){return yO(this,"push",n)},reduce(n,...r){return sK(this,"reduce",n,r)},reduceRight(n,...r){return sK(this,"reduceRight",n,r)},shift(){return yO(this,"shift")},some(n,r){return W0(this,"some",n,r,void 0,arguments)},splice(...n){return yO(this,"splice",n)},toReversed(){return hk(this).toReversed()},toSorted(n){return hk(this).toSorted(n)},toSpliced(...n){return hk(this).toSpliced(...n)},unshift(...n){return yO(this,"unshift",n)},values(){return dz(this,"values",qu)}};function dz(n,r,l){const d=yL(n),h=d[r]();return d!==n&&!kh(n)&&(h._next=h.next,h.next=()=>{const g=h._next();return g.value&&(g.value=l(g.value)),g}),h}const Dce=Array.prototype;function W0(n,r,l,d,h,g){const y=yL(n),w=y!==n&&!kh(n),A=y[r];if(A!==Dce[r]){const N=A.apply(n,g);return w?qu(N):N}let R=l;y!==n&&(w?R=function(N,V){return l.call(this,qu(N),V,n)}:l.length>2&&(R=function(N,V){return l.call(this,N,V,n)}));const O=A.call(y,R,d);return w&&h?h(O):O}function sK(n,r,l,d){const h=yL(n);let g=l;return h!==n&&(kh(n)?l.length>3&&(g=function(y,w,A){return l.call(this,y,w,A,n)}):g=function(y,w,A){return l.call(this,y,qu(w),A,n)}),h[r](g,...d)}function fz(n,r,l){const d=ws(n);Sd(d,"iterate",MO);const h=d[r](...l);return(h===-1||h===!1)&&aU(l[0])?(l[0]=ws(l[0]),d[r](...l)):h}function yO(n,r,l=[]){Q0(),eU();const d=ws(n)[r].apply(n,l);return tU(),e1(),d}const Nce=Y9("__proto__,__v_isRef,__isVue"),xY=new Set(Object.getOwnPropertyNames(Symbol).filter(n=>n!=="arguments"&&n!=="caller").map(n=>Symbol[n]).filter(mx));function Ice(n){mx(n)||(n=String(n));const r=ws(this);return Sd(r,"has",n),r.hasOwnProperty(n)}class wY{constructor(r=!1,l=!1){this._isReadonly=r,this._isShallow=l}get(r,l,d){if(l==="__v_skip")return r.__v_skip;const h=this._isReadonly,g=this._isShallow;if(l==="__v_isReactive")return!h;if(l==="__v_isReadonly")return h;if(l==="__v_isShallow")return g;if(l==="__v_raw")return d===(h?g?Uce:kY:g?_Y:SY).get(r)||Object.getPrototypeOf(r)===Object.getPrototypeOf(d)?r:void 0;const y=Ds(r);if(!h){let A;if(y&&(A=Rce[l]))return A;if(l==="hasOwnProperty")return Ice}const w=Reflect.get(r,l,Di(r)?r:d);return(mx(l)?xY.has(l):Nce(l))||(h||Sd(r,"get",l),g)?w:Di(w)?y&&Q9(l)?w:w.value:Ii(w)?h?Wk(w):hu(w):w}}class CY extends wY{constructor(r=!1){super(!1,r)}set(r,l,d,h){let g=r[l];if(!this._isShallow){const A=lx(g);if(!kh(d)&&!lx(d)&&(g=ws(g),d=ws(d)),!Ds(r)&&Di(g)&&!Di(d))return A?!1:(g.value=d,!0)}const y=Ds(r)&&Q9(l)?Number(l)<r.length:Pa(r,l),w=Reflect.set(r,l,d,Di(r)?r:h);return r===ws(h)&&(y?sx(d,g)&&Y0(r,"set",l,d):Y0(r,"add",l,d)),w}deleteProperty(r,l){const d=Pa(r,l);r[l];const h=Reflect.deleteProperty(r,l);return h&&d&&Y0(r,"delete",l,void 0),h}has(r,l){const d=Reflect.has(r,l);return(!mx(l)||!xY.has(l))&&Sd(r,"has",l),d}ownKeys(r){return Sd(r,"iterate",Ds(r)?"length":cC),Reflect.ownKeys(r)}}class Pce extends wY{constructor(r=!1){super(!0,r)}set(r,l){return!0}deleteProperty(r,l){return!0}}const Bce=new CY,Mce=new Pce,Lce=new CY(!0);const a9=n=>n,aM=n=>Reflect.getPrototypeOf(n);function Fce(n,r,l){return function(...d){const h=this.__v_raw,g=ws(h),y=Nk(g),w=n==="entries"||n===Symbol.iterator&&y,A=n==="keys"&&y,R=h[n](...d),O=l?a9:r?HM:qu;return!r&&Sd(g,"iterate",A?r9:cC),{next(){const{value:N,done:V}=R.next();return V?{value:N,done:V}:{value:w?[O(N[0]),O(N[1])]:O(N),done:V}},[Symbol.iterator](){return this}}}}function iM(n){return function(...r){return n==="delete"?!1:n==="clear"?void 0:this}}function $ce(n,r){const l={get(h){const g=this.__v_raw,y=ws(g),w=ws(h);n||(sx(h,w)&&Sd(y,"get",h),Sd(y,"get",w));const{has:A}=aM(y),R=r?a9:n?HM:qu;if(A.call(y,h))return R(g.get(h));if(A.call(y,w))return R(g.get(w));g!==y&&g.get(h)},get size(){const h=this.__v_raw;return!n&&Sd(ws(h),"iterate",cC),Reflect.get(h,"size",h)},has(h){const g=this.__v_raw,y=ws(g),w=ws(h);return n||(sx(h,w)&&Sd(y,"has",h),Sd(y,"has",w)),h===w?g.has(h):g.has(h)||g.has(w)},forEach(h,g){const y=this,w=y.__v_raw,A=ws(w),R=r?a9:n?HM:qu;return!n&&Sd(A,"iterate",cC),w.forEach((O,N)=>h.call(g,R(O),R(N),y))}};return Hc(l,n?{add:iM("add"),set:iM("set"),delete:iM("delete"),clear:iM("clear")}:{add(h){!r&&!kh(h)&&!lx(h)&&(h=ws(h));const g=ws(this);return aM(g).has.call(g,h)||(g.add(h),Y0(g,"add",h,h)),this},set(h,g){!r&&!kh(g)&&!lx(g)&&(g=ws(g));const y=ws(this),{has:w,get:A}=aM(y);let R=w.call(y,h);R||(h=ws(h),R=w.call(y,h));const O=A.call(y,h);return y.set(h,g),R?sx(g,O)&&Y0(y,"set",h,g):Y0(y,"add",h,g),this},delete(h){const g=ws(this),{has:y,get:w}=aM(g);let A=y.call(g,h);A||(h=ws(h),A=y.call(g,h)),w&&w.call(g,h);const R=g.delete(h);return A&&Y0(g,"delete",h,void 0),R},clear(){const h=ws(this),g=h.size!==0,y=h.clear();return g&&Y0(h,"clear",void 0,void 0),y}}),["keys","values","entries",Symbol.iterator].forEach(h=>{l[h]=Fce(h,n,r)}),l}function sU(n,r){const l=$ce(n,r);return(d,h,g)=>h==="__v_isReactive"?!n:h==="__v_isReadonly"?n:h==="__v_raw"?d:Reflect.get(Pa(l,h)&&h in d?l:d,h,g)}const Vce={get:sU(!1,!1)},Hce={get:sU(!1,!0)},zce={get:sU(!0,!1)};const SY=new WeakMap,_Y=new WeakMap,kY=new WeakMap,Uce=new WeakMap;function Wce(n){switch(n){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function jce(n){return n.__v_skip||!Object.isExtensible(n)?0:Wce(bce(n))}function hu(n){return lx(n)?n:rU(n,!1,Bce,Vce,SY)}function Zce(n){return rU(n,!1,Lce,Hce,_Y)}function Wk(n){return rU(n,!0,Mce,zce,kY)}function rU(n,r,l,d,h){if(!Ii(n)||n.__v_raw&&!(r&&n.__v_isReactive))return n;const g=jce(n);if(g===0)return n;const y=h.get(n);if(y)return y;const w=new Proxy(n,g===2?d:l);return h.set(n,w),w}function rx(n){return lx(n)?rx(n.__v_raw):!!(n&&n.__v_isReactive)}function lx(n){return!!(n&&n.__v_isReadonly)}function kh(n){return!!(n&&n.__v_isShallow)}function aU(n){return n?!!n.__v_raw:!1}function ws(n){const r=n&&n.__v_raw;return r?ws(r):n}function iU(n){return!Pa(n,"__v_skip")&&Object.isExtensible(n)&&aY(n,"__v_skip",!0),n}const qu=n=>Ii(n)?hu(n):n,HM=n=>Ii(n)?Wk(n):n;function Di(n){return n?n.__v_isRef===!0:!1}function go(n){return EY(n,!1)}function Oo(n){return EY(n,!0)}function EY(n,r){return Di(n)?n:new Kce(n,r)}class Kce{constructor(r,l){this.dep=new oU,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=l?r:ws(r),this._value=l?r:qu(r),this.__v_isShallow=l}get value(){return this.dep.track(),this._value}set value(r){const l=this._rawValue,d=this.__v_isShallow||kh(r)||lx(r);r=d?r:ws(r),sx(r,l)&&(this._rawValue=r,this._value=d?r:qu(r),this.dep.trigger())}}function tt(n){return Di(n)?n.value:n}function t1(n){return Zs(n)?n():tt(n)}const qce={get:(n,r,l)=>r==="__v_raw"?n:tt(Reflect.get(n,r,l)),set:(n,r,l,d)=>{const h=n[r];return Di(h)&&!Di(l)?(h.value=l,!0):Reflect.set(n,r,l,d)}};function AY(n){return rx(n)?n:new Proxy(n,qce)}function xL(n){const r=Ds(n)?new Array(n.length):{};for(const l in n)r[l]=TY(n,l);return r}class Gce{constructor(r,l,d){this._object=r,this._key=l,this._defaultValue=d,this.__v_isRef=!0,this._value=void 0}get value(){const r=this._object[this._key];return this._value=r===void 0?this._defaultValue:r}set value(r){this._object[this._key]=r}get dep(){return Oce(ws(this._object),this._key)}}class Yce{constructor(r){this._getter=r,this.__v_isRef=!0,this.__v_isReadonly=!0,this._value=void 0}get value(){return this._value=this._getter()}}function Rn(n,r,l){return Di(n)?n:Zs(n)?new Yce(n):Ii(n)&&arguments.length>1?TY(n,r,l):go(n)}function TY(n,r,l){const d=n[r];return Di(d)?d:new Gce(n,r,l)}class Xce{constructor(r,l,d){this.fn=r,this.setter=l,this._value=void 0,this.dep=new oU(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=BO-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!l,this.isSSR=d}notify(){if(this.flags|=16,!(this.flags&8)&&Ri!==this)return gY(this,!0),!0}get value(){const r=this.dep.track();return bY(this),r&&(r.version=this.dep.version),this._value}set value(r){this.setter&&this.setter(r)}}function Jce(n,r,l=!1){let d,h;return Zs(n)?d=n:(d=n.get,h=n.set),new Xce(d,h,l)}const lM={},zM=new WeakMap;let rC;function Qce(n,r=!1,l=rC){if(l){let d=zM.get(l);d||zM.set(l,d=[]),d.push(n)}}function eue(n,r,l=gi){const{immediate:d,deep:h,once:g,scheduler:y,augmentJob:w,call:A}=l,R=q=>h?q:kh(q)||h===!1||h===0?X0(q,1):X0(q);let O,N,V,z,W=!1,X=!1;if(Di(n)?(N=()=>n.value,W=kh(n)):rx(n)?(N=()=>R(n),W=!0):Ds(n)?(X=!0,W=n.some(q=>rx(q)||kh(q)),N=()=>n.map(q=>{if(Di(q))return q.value;if(rx(q))return R(q);if(Zs(q))return A?A(q,2):q()})):Zs(n)?r?N=A?()=>A(n,2):n:N=()=>{if(V){Q0();try{V()}finally{e1()}}const q=rC;rC=O;try{return A?A(n,3,[z]):n(z)}finally{rC=q}}:N=ov,r&&h){const q=N,de=h===!0?1/0:h;N=()=>X0(q(),de)}const oe=dY(),j=()=>{O.stop(),oe&&oe.active&&J9(oe.effects,O)};if(g&&r){const q=r;r=(...de)=>{q(...de),j()}}let fe=X?new Array(n.length).fill(lM):lM;const le=q=>{if(!(!(O.flags&1)||!O.dirty&&!q))if(r){const de=O.run();if(h||W||(X?de.some((ne,be)=>sx(ne,fe[be])):sx(de,fe))){V&&V();const ne=rC;rC=O;try{const be=[de,fe===lM?void 0:X&&fe[0]===lM?[]:fe,z];fe=de,A?A(r,3,be):r(...be)}finally{rC=ne}}}else O.run()};return w&&w(le),O=new fY(N),O.scheduler=y?()=>y(le,!1):le,z=q=>Qce(q,!1,O),V=O.onStop=()=>{const q=zM.get(O);if(q){if(A)A(q,4);else for(const de of q)de();zM.delete(O)}},r?d?le(!0):fe=O.run():y?y(le.bind(null,!0),!0):O.run(),j.pause=O.pause.bind(O),j.resume=O.resume.bind(O),j.stop=j,j}function X0(n,r=1/0,l){if(r<=0||!Ii(n)||n.__v_skip||(l=l||new Set,l.has(n)))return n;if(l.add(n),r--,Di(n))X0(n.value,r,l);else if(Ds(n))for(let d=0;d<n.length;d++)X0(n[d],r,l);else if(nY(n)||Nk(n))n.forEach(d=>{X0(d,r,l)});else if(rY(n)){for(const d in n)X0(n[d],r,l);for(const d of Object.getOwnPropertySymbols(n))Object.prototype.propertyIsEnumerable.call(n,d)&&X0(n[d],r,l)}return n}/**
* @vue/runtime-core v3.5.16
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function eR(n,r,l,d){try{return d?n(...d):n()}catch(h){wL(h,r,l)}}function $p(n,r,l,d){if(Zs(n)){const h=eR(n,r,l,d);return h&&oY(h)&&h.catch(g=>{wL(g,r,l)}),h}if(Ds(n)){const h=[];for(let g=0;g<n.length;g++)h.push($p(n[g],r,l,d));return h}}function wL(n,r,l,d=!0){const h=r?r.vnode:null,{errorHandler:g,throwUnhandledErrorInProduction:y}=r&&r.appContext.config||gi;if(r){let w=r.parent;const A=r.proxy,R=`https://vuejs.org/error-reference/#runtime-${l}`;for(;w;){const O=w.ec;if(O){for(let N=0;N<O.length;N++)if(O[N](n,A,R)===!1)return}w=w.parent}if(g){Q0(),eR(g,null,10,[n,A,R]),e1();return}}tue(n,l,h,d,y)}function tue(n,r,l,d=!0,h=!1){if(h)throw n;console.error(n)}const xf=[];let Jb=-1;const Ik=[];let ex=null,kk=0;const OY=Promise.resolve();let UM=null;function gr(n){const r=UM||OY;return n?r.then(this?n.bind(this):n):r}function nue(n){let r=Jb+1,l=xf.length;for(;r<l;){const d=r+l>>>1,h=xf[d],g=LO(h);g<n||g===n&&h.flags&2?r=d+1:l=d}return r}function lU(n){if(!(n.flags&1)){const r=LO(n),l=xf[xf.length-1];!l||!(n.flags&2)&&r>=LO(l)?xf.push(n):xf.splice(nue(r),0,n),n.flags|=1,RY()}}function RY(){UM||(UM=OY.then(NY))}function oue(n){Ds(n)?Ik.push(...n):ex&&n.id===-1?ex.splice(kk+1,0,n):n.flags&1||(Ik.push(n),n.flags|=1),RY()}function rK(n,r,l=Jb+1){for(;l<xf.length;l++){const d=xf[l];if(d&&d.flags&2){if(n&&d.id!==n.uid)continue;xf.splice(l,1),l--,d.flags&4&&(d.flags&=-2),d(),d.flags&4||(d.flags&=-2)}}}function DY(n){if(Ik.length){const r=[...new Set(Ik)].sort((l,d)=>LO(l)-LO(d));if(Ik.length=0,ex){ex.push(...r);return}for(ex=r,kk=0;kk<ex.length;kk++){const l=ex[kk];l.flags&4&&(l.flags&=-2),l.flags&8||l(),l.flags&=-2}ex=null,kk=0}}const LO=n=>n.id==null?n.flags&2?-1:1/0:n.id;function NY(n){try{for(Jb=0;Jb<xf.length;Jb++){const r=xf[Jb];r&&!(r.flags&8)&&(r.flags&4&&(r.flags&=-2),eR(r,r.i,r.i?15:14),r.flags&4||(r.flags&=-2))}}finally{for(;Jb<xf.length;Jb++){const r=xf[Jb];r&&(r.flags&=-2)}Jb=-1,xf.length=0,DY(),UM=null,(xf.length||Ik.length)&&NY()}}let _f=null,IY=null;function WM(n){const r=_f;return _f=n,IY=n&&n.type.__scopeId||null,r}function pn(n,r=_f,l){if(!r||n._n)return n;const d=(...h)=>{d._d&&yK(-1);const g=WM(r);let y;try{y=n(...h)}finally{WM(g),d._d&&yK(1)}return y};return d._n=!0,d._c=!0,d._d=!0,d}function ns(n,r){if(_f===null)return n;const l=EL(_f),d=n.dirs||(n.dirs=[]);for(let h=0;h<r.length;h++){let[g,y,w,A=gi]=r[h];g&&(Zs(g)&&(g={mounted:g,updated:g}),g.deep&&X0(y),d.push({dir:g,instance:l,value:y,oldValue:void 0,arg:w,modifiers:A}))}return n}function Yw(n,r,l,d){const h=n.dirs,g=r&&r.dirs;for(let y=0;y<h.length;y++){const w=h[y];g&&(w.oldValue=g[y].value);let A=w.dir[d];A&&(Q0(),$p(A,l,8,[n.el,w,n,r]),e1())}}const PY=Symbol("_vte"),BY=n=>n.__isTeleport,OO=n=>n&&(n.disabled||n.disabled===""),aK=n=>n&&(n.defer||n.defer===""),iK=n=>typeof SVGElement<"u"&&n instanceof SVGElement,lK=n=>typeof MathMLElement=="function"&&n instanceof MathMLElement,i9=(n,r)=>{const l=n&&n.to;return Pl(l)?r?r(l):null:l},MY={name:"Teleport",__isTeleport:!0,process(n,r,l,d,h,g,y,w,A,R){const{mc:O,pc:N,pbc:V,o:{insert:z,querySelector:W,createText:X,createComment:oe}}=R,j=OO(r.props);let{shapeFlag:fe,children:le,dynamicChildren:q}=r;if(n==null){const de=r.el=X(""),ne=r.anchor=X("");z(de,l,d),z(ne,l,d);const be=(Ze,rt)=>{fe&16&&(h&&h.isCE&&(h.ce._teleportTarget=Ze),O(le,Ze,rt,h,g,y,w,A))},Fe=()=>{const Ze=r.target=i9(r.props,W),rt=LY(Ze,r,X,z);Ze&&(y!=="svg"&&iK(Ze)?y="svg":y!=="mathml"&&lK(Ze)&&(y="mathml"),j||(be(Ze,rt),AM(r,!1)))};j&&(be(l,ne),AM(r,!0)),aK(r.props)?(r.el.__isMounted=!1,yf(()=>{Fe(),delete r.el.__isMounted},g)):Fe()}else{if(aK(r.props)&&n.el.__isMounted===!1){yf(()=>{MY.process(n,r,l,d,h,g,y,w,A,R)},g);return}r.el=n.el,r.targetStart=n.targetStart;const de=r.anchor=n.anchor,ne=r.target=n.target,be=r.targetAnchor=n.targetAnchor,Fe=OO(n.props),Ze=Fe?l:ne,rt=Fe?de:be;if(y==="svg"||iK(ne)?y="svg":(y==="mathml"||lK(ne))&&(y="mathml"),q?(V(n.dynamicChildren,q,Ze,h,g,y,w),gU(n,r,!0)):A||N(n,r,Ze,rt,h,g,y,w,!1),j)Fe?r.props&&n.props&&r.props.to!==n.props.to&&(r.props.to=n.props.to):cM(r,l,de,R,1);else if((r.props&&r.props.to)!==(n.props&&n.props.to)){const Oe=r.target=i9(r.props,W);Oe&&cM(r,Oe,null,R,0)}else Fe&&cM(r,ne,be,R,1);AM(r,j)}},remove(n,r,l,{um:d,o:{remove:h}},g){const{shapeFlag:y,children:w,anchor:A,targetStart:R,targetAnchor:O,target:N,props:V}=n;if(N&&(h(R),h(O)),g&&h(A),y&16){const z=g||!OO(V);for(let W=0;W<w.length;W++){const X=w[W];d(X,r,l,z,!!X.dynamicChildren)}}},move:cM,hydrate:sue};function cM(n,r,l,{o:{insert:d},m:h},g=2){g===0&&d(n.targetAnchor,r,l);const{el:y,anchor:w,shapeFlag:A,children:R,props:O}=n,N=g===2;if(N&&d(y,r,l),(!N||OO(O))&&A&16)for(let V=0;V<R.length;V++)h(R[V],r,l,2);N&&d(w,r,l)}function sue(n,r,l,d,h,g,{o:{nextSibling:y,parentNode:w,querySelector:A,insert:R,createText:O}},N){const V=r.target=i9(r.props,A);if(V){const z=OO(r.props),W=V._lpa||V.firstChild;if(r.shapeFlag&16)if(z)r.anchor=N(y(n),r,w(n),l,d,h,g),r.targetStart=W,r.targetAnchor=W&&y(W);else{r.anchor=y(n);let X=W;for(;X;){if(X&&X.nodeType===8){if(X.data==="teleport start anchor")r.targetStart=X;else if(X.data==="teleport anchor"){r.targetAnchor=X,V._lpa=r.targetAnchor&&y(r.targetAnchor);break}}X=y(X)}r.targetAnchor||LY(V,r,O,R),N(W&&y(W),r,V,l,d,h,g)}AM(r,z)}return r.anchor&&y(r.anchor)}const rue=MY;function AM(n,r){const l=n.ctx;if(l&&l.ut){let d,h;for(r?(d=n.el,h=n.anchor):(d=n.targetStart,h=n.targetAnchor);d&&d!==h;)d.nodeType===1&&d.setAttribute("data-v-owner",l.uid),d=d.nextSibling;l.ut()}}function LY(n,r,l,d){const h=r.targetStart=l(""),g=r.targetAnchor=l("");return h[PY]=g,n&&(d(h,n),d(g,n)),g}const tx=Symbol("_leaveCb"),uM=Symbol("_enterCb");function FY(){const n={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return bu(()=>{n.isMounted=!0}),zc(()=>{n.isUnmounting=!0}),n}const Sh=[Function,Array],$Y={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Sh,onEnter:Sh,onAfterEnter:Sh,onEnterCancelled:Sh,onBeforeLeave:Sh,onLeave:Sh,onAfterLeave:Sh,onLeaveCancelled:Sh,onBeforeAppear:Sh,onAppear:Sh,onAfterAppear:Sh,onAppearCancelled:Sh},VY=n=>{const r=n.subTree;return r.component?VY(r.component):r},aue={name:"BaseTransition",props:$Y,setup(n,{slots:r}){const l=jk(),d=FY();return()=>{const h=r.default&&cU(r.default(),!0);if(!h||!h.length)return;const g=HY(h),y=ws(n),{mode:w}=y;if(d.isLeaving)return mz(g);const A=cK(g);if(!A)return mz(g);let R=FO(A,y,d,l,N=>R=N);A.type!==_d&&mC(A,R);let O=l.subTree&&cK(l.subTree);if(O&&O.type!==_d&&!aC(A,O)&&VY(l).type!==_d){let N=FO(O,y,d,l);if(mC(O,N),w==="out-in"&&A.type!==_d)return d.isLeaving=!0,N.afterLeave=()=>{d.isLeaving=!1,l.job.flags&8||l.update(),delete N.afterLeave,O=void 0},mz(g);w==="in-out"&&A.type!==_d?N.delayLeave=(V,z,W)=>{const X=zY(d,O);X[String(O.key)]=O,V[tx]=()=>{z(),V[tx]=void 0,delete R.delayedLeave,O=void 0},R.delayedLeave=()=>{W(),delete R.delayedLeave,O=void 0}}:O=void 0}else O&&(O=void 0);return g}}};function HY(n){let r=n[0];if(n.length>1){for(const l of n)if(l.type!==_d){r=l;break}}return r}const iue=aue;function zY(n,r){const{leavingVNodes:l}=n;let d=l.get(r.type);return d||(d=Object.create(null),l.set(r.type,d)),d}function FO(n,r,l,d,h){const{appear:g,mode:y,persisted:w=!1,onBeforeEnter:A,onEnter:R,onAfterEnter:O,onEnterCancelled:N,onBeforeLeave:V,onLeave:z,onAfterLeave:W,onLeaveCancelled:X,onBeforeAppear:oe,onAppear:j,onAfterAppear:fe,onAppearCancelled:le}=r,q=String(n.key),de=zY(l,n),ne=(Ze,rt)=>{Ze&&$p(Ze,d,9,rt)},be=(Ze,rt)=>{const Oe=rt[1];ne(Ze,rt),Ds(Ze)?Ze.every(Ve=>Ve.length<=1)&&Oe():Ze.length<=1&&Oe()},Fe={mode:y,persisted:w,beforeEnter(Ze){let rt=A;if(!l.isMounted)if(g)rt=oe||A;else return;Ze[tx]&&Ze[tx](!0);const Oe=de[q];Oe&&aC(n,Oe)&&Oe.el[tx]&&Oe.el[tx](),ne(rt,[Ze])},enter(Ze){let rt=R,Oe=O,Ve=N;if(!l.isMounted)if(g)rt=j||R,Oe=fe||O,Ve=le||N;else return;let P=!1;const wt=Ze[uM]=Nt=>{P||(P=!0,Nt?ne(Ve,[Ze]):ne(Oe,[Ze]),Fe.delayedLeave&&Fe.delayedLeave(),Ze[uM]=void 0)};rt?be(rt,[Ze,wt]):wt()},leave(Ze,rt){const Oe=String(n.key);if(Ze[uM]&&Ze[uM](!0),l.isUnmounting)return rt();ne(V,[Ze]);let Ve=!1;const P=Ze[tx]=wt=>{Ve||(Ve=!0,rt(),wt?ne(X,[Ze]):ne(W,[Ze]),Ze[tx]=void 0,de[Oe]===n&&delete de[Oe])};de[Oe]=n,z?be(z,[Ze,P]):P()},clone(Ze){const rt=FO(Ze,r,l,d,h);return h&&h(rt),rt}};return Fe}function mz(n){if(CL(n))return n=n1(n),n.children=null,n}function cK(n){if(!CL(n))return BY(n.type)&&n.children?HY(n.children):n;if(n.component)return n.component.subTree;const{shapeFlag:r,children:l}=n;if(l){if(r&16)return l[0];if(r&32&&Zs(l.default))return l.default()}}function mC(n,r){n.shapeFlag&6&&n.component?(n.transition=r,mC(n.component.subTree,r)):n.shapeFlag&128?(n.ssContent.transition=r.clone(n.ssContent),n.ssFallback.transition=r.clone(n.ssFallback)):n.transition=r}function cU(n,r=!1,l){let d=[],h=0;for(let g=0;g<n.length;g++){let y=n[g];const w=l==null?y.key:String(l)+String(y.key!=null?y.key:g);y.type===hs?(y.patchFlag&128&&h++,d=d.concat(cU(y.children,r,w))):(r||y.type!==_d)&&d.push(w!=null?n1(y,{key:w}):y)}if(h>1)for(let g=0;g<d.length;g++)d[g].patchFlag=-2;return d}/*! #__NO_SIDE_EFFECTS__ */function UY(n,r){return Zs(n)?Hc({name:n.name},r,{setup:n}):n}function gx(){const n=jk();return n?(n.appContext.config.idPrefix||"v")+"-"+n.ids[0]+n.ids[1]++:""}function WY(n){n.ids=[n.ids[0]+n.ids[2]+++"-",0,0]}function jM(n,r,l,d,h=!1){if(Ds(n)){n.forEach((W,X)=>jM(W,r&&(Ds(r)?r[X]:r),l,d,h));return}if(RO(d)&&!h){d.shapeFlag&512&&d.type.__asyncResolved&&d.component.subTree.component&&jM(n,r,l,d.component.subTree);return}const g=d.shapeFlag&4?EL(d.component):d.el,y=h?null:g,{i:w,r:A}=n,R=r&&r.r,O=w.refs===gi?w.refs={}:w.refs,N=w.setupState,V=ws(N),z=N===gi?()=>!1:W=>Pa(V,W);if(R!=null&&R!==A&&(Pl(R)?(O[R]=null,z(R)&&(N[R]=null)):Di(R)&&(R.value=null)),Zs(A))eR(A,w,12,[y,O]);else{const W=Pl(A),X=Di(A);if(W||X){const oe=()=>{if(n.f){const j=W?z(A)?N[A]:O[A]:A.value;h?Ds(j)&&J9(j,g):Ds(j)?j.includes(g)||j.push(g):W?(O[A]=[g],z(A)&&(N[A]=O[A])):(A.value=[g],n.k&&(O[n.k]=A.value))}else W?(O[A]=y,z(A)&&(N[A]=y)):X&&(A.value=y,n.k&&(O[n.k]=y))};y?(oe.id=-1,yf(oe,l)):oe()}}}vL().requestIdleCallback;vL().cancelIdleCallback;const RO=n=>!!n.type.__asyncLoader,CL=n=>n.type.__isKeepAlive;function uU(n,r){jY(n,"a",r)}function SL(n,r){jY(n,"da",r)}function jY(n,r,l=pu){const d=n.__wdc||(n.__wdc=()=>{let h=l;for(;h;){if(h.isDeactivated)return;h=h.parent}return n()});if(_L(r,d,l),l){let h=l.parent;for(;h&&h.parent;)CL(h.parent.vnode)&&lue(d,r,l,h),h=h.parent}}function lue(n,r,l,d){const h=_L(r,n,d,!0);ZY(()=>{J9(d[r],h)},l)}function _L(n,r,l=pu,d=!1){if(l){const h=l[n]||(l[n]=[]),g=r.__weh||(r.__weh=(...y)=>{Q0();const w=oR(l),A=$p(r,l,n,y);return w(),e1(),A});return d?h.unshift(g):h.push(g),g}}const i1=n=>(r,l=pu)=>{(!HO||n==="sp")&&_L(n,(...d)=>r(...d),l)},tR=i1("bm"),bu=i1("m"),cue=i1("bu"),dU=i1("u"),zc=i1("bum"),ZY=i1("um"),uue=i1("sp"),due=i1("rtg"),fue=i1("rtc");function mue(n,r=pu){_L("ec",n,r)}const gue="components",hue=Symbol.for("v-ndc");function pue(n){return Pl(n)&&bue(gue,n,!1)||n}function bue(n,r,l=!0,d=!1){const h=_f||pu;if(h){const g=h.type;{const w=ode(g,!1);if(w&&(w===r||w===kf(r)||w===a1(kf(r))))return g}const y=uK(h[n]||g[n],r)||uK(h.appContext[n],r);return!y&&d?g:y}}function uK(n,r){return n&&(n[r]||n[kf(r)]||n[a1(kf(r))])}function Mp(n,r,l,d){let h;const g=l,y=Ds(n);if(y||Pl(n)){const w=y&&rx(n);let A=!1,R=!1;w&&(A=!kh(n),R=lx(n),n=yL(n)),h=new Array(n.length);for(let O=0,N=n.length;O<N;O++)h[O]=r(A?R?HM(qu(n[O])):qu(n[O]):n[O],O,void 0,g)}else if(typeof n=="number"){h=new Array(n);for(let w=0;w<n;w++)h[w]=r(w+1,w,void 0,g)}else if(Ii(n))if(n[Symbol.iterator])h=Array.from(n,(w,A)=>r(w,A,void 0,g));else{const w=Object.keys(n);h=new Array(w.length);for(let A=0,R=w.length;A<R;A++){const O=w[A];h[A]=r(n[O],O,A,g)}}else h=[];return h}const l9=n=>n?uX(n)?EL(n):l9(n.parent):null,DO=Hc(Object.create(null),{$:n=>n,$el:n=>n.vnode.el,$data:n=>n.data,$props:n=>n.props,$attrs:n=>n.attrs,$slots:n=>n.slots,$refs:n=>n.refs,$parent:n=>l9(n.parent),$root:n=>l9(n.root),$host:n=>n.ce,$emit:n=>n.emit,$options:n=>qY(n),$forceUpdate:n=>n.f||(n.f=()=>{lU(n.update)}),$nextTick:n=>n.n||(n.n=gr.bind(n.proxy)),$watch:n=>$ue.bind(n)}),gz=(n,r)=>n!==gi&&!n.__isScriptSetup&&Pa(n,r),vue={get({_:n},r){if(r==="__v_skip")return!0;const{ctx:l,setupState:d,data:h,props:g,accessCache:y,type:w,appContext:A}=n;let R;if(r[0]!=="$"){const z=y[r];if(z!==void 0)switch(z){case 1:return d[r];case 2:return h[r];case 4:return l[r];case 3:return g[r]}else{if(gz(d,r))return y[r]=1,d[r];if(h!==gi&&Pa(h,r))return y[r]=2,h[r];if((R=n.propsOptions[0])&&Pa(R,r))return y[r]=3,g[r];if(l!==gi&&Pa(l,r))return y[r]=4,l[r];c9&&(y[r]=0)}}const O=DO[r];let N,V;if(O)return r==="$attrs"&&Sd(n.attrs,"get",""),O(n);if((N=w.__cssModules)&&(N=N[r]))return N;if(l!==gi&&Pa(l,r))return y[r]=4,l[r];if(V=A.config.globalProperties,Pa(V,r))return V[r]},set({_:n},r,l){const{data:d,setupState:h,ctx:g}=n;return gz(h,r)?(h[r]=l,!0):d!==gi&&Pa(d,r)?(d[r]=l,!0):Pa(n.props,r)||r[0]==="$"&&r.slice(1)in n?!1:(g[r]=l,!0)},has({_:{data:n,setupState:r,accessCache:l,ctx:d,appContext:h,propsOptions:g}},y){let w;return!!l[y]||n!==gi&&Pa(n,y)||gz(r,y)||(w=g[0])&&Pa(w,y)||Pa(d,y)||Pa(DO,y)||Pa(h.config.globalProperties,y)},defineProperty(n,r,l){return l.get!=null?n._.accessCache[r]=0:Pa(l,"value")&&this.set(n,r,l.value,null),Reflect.defineProperty(n,r,l)}};function dK(n){return Ds(n)?n.reduce((r,l)=>(r[l]=null,r),{}):n}let c9=!0;function yue(n){const r=qY(n),l=n.proxy,d=n.ctx;c9=!1,r.beforeCreate&&fK(r.beforeCreate,n,"bc");const{data:h,computed:g,methods:y,watch:w,provide:A,inject:R,created:O,beforeMount:N,mounted:V,beforeUpdate:z,updated:W,activated:X,deactivated:oe,beforeDestroy:j,beforeUnmount:fe,destroyed:le,unmounted:q,render:de,renderTracked:ne,renderTriggered:be,errorCaptured:Fe,serverPrefetch:Ze,expose:rt,inheritAttrs:Oe,components:Ve,directives:P,filters:wt}=r;if(R&&xue(R,d,null),y)for(const rn in y){const ct=y[rn];Zs(ct)&&(d[rn]=ct.bind(l))}if(h){const rn=h.call(l,l);Ii(rn)&&(n.data=hu(rn))}if(c9=!0,g)for(const rn in g){const ct=g[rn],Tn=Zs(ct)?ct.bind(l,l):Zs(ct.get)?ct.get.bind(l,l):ov,Tt=!Zs(ct)&&Zs(ct.set)?ct.set.bind(l):ov,ot=Mt({get:Tn,set:Tt});Object.defineProperty(d,rn,{enumerable:!0,configurable:!0,get:()=>ot.value,set:$e=>ot.value=$e})}if(w)for(const rn in w)KY(w[rn],d,l,rn);if(A){const rn=Zs(A)?A.call(l):A;Reflect.ownKeys(rn).forEach(ct=>{Af(ct,rn[ct])})}O&&fK(O,n,"c");function Kt(rn,ct){Ds(ct)?ct.forEach(Tn=>rn(Tn.bind(l))):ct&&rn(ct.bind(l))}if(Kt(tR,N),Kt(bu,V),Kt(cue,z),Kt(dU,W),Kt(uU,X),Kt(SL,oe),Kt(mue,Fe),Kt(fue,ne),Kt(due,be),Kt(zc,fe),Kt(ZY,q),Kt(uue,Ze),Ds(rt))if(rt.length){const rn=n.exposed||(n.exposed={});rt.forEach(ct=>{Object.defineProperty(rn,ct,{get:()=>l[ct],set:Tn=>l[ct]=Tn})})}else n.exposed||(n.exposed={});de&&n.render===ov&&(n.render=de),Oe!=null&&(n.inheritAttrs=Oe),Ve&&(n.components=Ve),P&&(n.directives=P),Ze&&WY(n)}function xue(n,r,l=ov){Ds(n)&&(n=u9(n));for(const d in n){const h=n[d];let g;Ii(h)?"default"in h?g=hi(h.from||d,h.default,!0):g=hi(h.from||d):g=hi(h),Di(g)?Object.defineProperty(r,d,{enumerable:!0,configurable:!0,get:()=>g.value,set:y=>g.value=y}):r[d]=g}}function fK(n,r,l){$p(Ds(n)?n.map(d=>d.bind(r.proxy)):n.bind(r.proxy),r,l)}function KY(n,r,l,d){let h=d.includes(".")?rX(l,d):()=>l[d];if(Pl(n)){const g=r[n];Zs(g)&&Wn(h,g)}else if(Zs(n))Wn(h,n.bind(l));else if(Ii(n))if(Ds(n))n.forEach(g=>KY(g,r,l,d));else{const g=Zs(n.handler)?n.handler.bind(l):r[n.handler];Zs(g)&&Wn(h,g,n)}}function qY(n){const r=n.type,{mixins:l,extends:d}=r,{mixins:h,optionsCache:g,config:{optionMergeStrategies:y}}=n.appContext,w=g.get(r);let A;return w?A=w:!h.length&&!l&&!d?A=r:(A={},h.length&&h.forEach(R=>ZM(A,R,y,!0)),ZM(A,r,y)),Ii(r)&&g.set(r,A),A}function ZM(n,r,l,d=!1){const{mixins:h,extends:g}=r;g&&ZM(n,g,l,!0),h&&h.forEach(y=>ZM(n,y,l,!0));for(const y in r)if(!(d&&y==="expose")){const w=wue[y]||l&&l[y];n[y]=w?w(n[y],r[y]):r[y]}return n}const wue={data:mK,props:gK,emits:gK,methods:kO,computed:kO,beforeCreate:bf,created:bf,beforeMount:bf,mounted:bf,beforeUpdate:bf,updated:bf,beforeDestroy:bf,beforeUnmount:bf,destroyed:bf,unmounted:bf,activated:bf,deactivated:bf,errorCaptured:bf,serverPrefetch:bf,components:kO,directives:kO,watch:Sue,provide:mK,inject:Cue};function mK(n,r){return r?n?function(){return Hc(Zs(n)?n.call(this,this):n,Zs(r)?r.call(this,this):r)}:r:n}function Cue(n,r){return kO(u9(n),u9(r))}function u9(n){if(Ds(n)){const r={};for(let l=0;l<n.length;l++)r[n[l]]=n[l];return r}return n}function bf(n,r){return n?[...new Set([].concat(n,r))]:r}function kO(n,r){return n?Hc(Object.create(null),n,r):r}function gK(n,r){return n?Ds(n)&&Ds(r)?[...new Set([...n,...r])]:Hc(Object.create(null),dK(n),dK(r??{})):r}function Sue(n,r){if(!n)return r;if(!r)return n;const l=Hc(Object.create(null),n);for(const d in r)l[d]=bf(n[d],r[d]);return l}function GY(){return{app:null,config:{isNativeTag:hce,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let _ue=0;function kue(n,r){return function(d,h=null){Zs(d)||(d=Hc({},d)),h!=null&&!Ii(h)&&(h=null);const g=GY(),y=new WeakSet,w=[];let A=!1;const R=g.app={_uid:_ue++,_component:d,_props:h,_container:null,_context:g,_instance:null,version:rde,get config(){return g.config},set config(O){},use(O,...N){return y.has(O)||(O&&Zs(O.install)?(y.add(O),O.install(R,...N)):Zs(O)&&(y.add(O),O(R,...N))),R},mixin(O){return g.mixins.includes(O)||g.mixins.push(O),R},component(O,N){return N?(g.components[O]=N,R):g.components[O]},directive(O,N){return N?(g.directives[O]=N,R):g.directives[O]},mount(O,N,V){if(!A){const z=R._ceVNode||Ne(d,h);return z.appContext=g,V===!0?V="svg":V===!1&&(V=void 0),n(z,O,V),A=!0,R._container=O,O.__vue_app__=R,EL(z.component)}},onUnmount(O){w.push(O)},unmount(){A&&($p(w,R._instance,16),n(null,R._container),delete R._container.__vue_app__)},provide(O,N){return g.provides[O]=N,R},runWithContext(O){const N=uC;uC=R;try{return O()}finally{uC=N}}};return R}}let uC=null;function Af(n,r){if(pu){let l=pu.provides;const d=pu.parent&&pu.parent.provides;d===l&&(l=pu.provides=Object.create(d)),l[n]=r}}function hi(n,r,l=!1){const d=pu||_f;if(d||uC){let h=uC?uC._context.provides:d?d.parent==null||d.ce?d.vnode.appContext&&d.vnode.appContext.provides:d.parent.provides:void 0;if(h&&n in h)return h[n];if(arguments.length>1)return l&&Zs(r)?r.call(d&&d.proxy):r}}function Eue(){return!!(pu||_f||uC)}const YY={},XY=()=>Object.create(YY),JY=n=>Object.getPrototypeOf(n)===YY;function Aue(n,r,l,d=!1){const h={},g=XY();n.propsDefaults=Object.create(null),QY(n,r,h,g);for(const y in n.propsOptions[0])y in h||(h[y]=void 0);l?n.props=d?h:Zce(h):n.type.props?n.props=h:n.props=g,n.attrs=g}function Tue(n,r,l,d){const{props:h,attrs:g,vnode:{patchFlag:y}}=n,w=ws(h),[A]=n.propsOptions;let R=!1;if((d||y>0)&&!(y&16)){if(y&8){const O=n.vnode.dynamicProps;for(let N=0;N<O.length;N++){let V=O[N];if(kL(n.emitsOptions,V))continue;const z=r[V];if(A)if(Pa(g,V))z!==g[V]&&(g[V]=z,R=!0);else{const W=kf(V);h[W]=d9(A,w,W,z,n,!1)}else z!==g[V]&&(g[V]=z,R=!0)}}}else{QY(n,r,h,g)&&(R=!0);let O;for(const N in w)(!r||!Pa(r,N)&&((O=hC(N))===N||!Pa(r,O)))&&(A?l&&(l[N]!==void 0||l[O]!==void 0)&&(h[N]=d9(A,w,N,void 0,n,!0)):delete h[N]);if(g!==w)for(const N in g)(!r||!Pa(r,N))&&(delete g[N],R=!0)}R&&Y0(n.attrs,"set","")}function QY(n,r,l,d){const[h,g]=n.propsOptions;let y=!1,w;if(r)for(let A in r){if(EO(A))continue;const R=r[A];let O;h&&Pa(h,O=kf(A))?!g||!g.includes(O)?l[O]=R:(w||(w={}))[O]=R:kL(n.emitsOptions,A)||(!(A in d)||R!==d[A])&&(d[A]=R,y=!0)}if(g){const A=ws(l),R=w||gi;for(let O=0;O<g.length;O++){const N=g[O];l[N]=d9(h,A,N,R[N],n,!Pa(R,N))}}return y}function d9(n,r,l,d,h,g){const y=n[l];if(y!=null){const w=Pa(y,"default");if(w&&d===void 0){const A=y.default;if(y.type!==Function&&!y.skipFactory&&Zs(A)){const{propsDefaults:R}=h;if(l in R)d=R[l];else{const O=oR(h);d=R[l]=A.call(null,r),O()}}else d=A;h.ce&&h.ce._setProp(l,d)}y[0]&&(g&&!w?d=!1:y[1]&&(d===""||d===hC(l))&&(d=!0))}return d}const Oue=new WeakMap;function eX(n,r,l=!1){const d=l?Oue:r.propsCache,h=d.get(n);if(h)return h;const g=n.props,y={},w=[];let A=!1;if(!Zs(n)){const O=N=>{A=!0;const[V,z]=eX(N,r,!0);Hc(y,V),z&&w.push(...z)};!l&&r.mixins.length&&r.mixins.forEach(O),n.extends&&O(n.extends),n.mixins&&n.mixins.forEach(O)}if(!g&&!A)return Ii(n)&&d.set(n,Dk),Dk;if(Ds(g))for(let O=0;O<g.length;O++){const N=kf(g[O]);hK(N)&&(y[N]=gi)}else if(g)for(const O in g){const N=kf(O);if(hK(N)){const V=g[O],z=y[N]=Ds(V)||Zs(V)?{type:V}:Hc({},V),W=z.type;let X=!1,oe=!0;if(Ds(W))for(let j=0;j<W.length;++j){const fe=W[j],le=Zs(fe)&&fe.name;if(le==="Boolean"){X=!0;break}else le==="String"&&(oe=!1)}else X=Zs(W)&&W.name==="Boolean";z[0]=X,z[1]=oe,(X||Pa(z,"default"))&&w.push(N)}}const R=[y,w];return Ii(n)&&d.set(n,R),R}function hK(n){return n[0]!=="$"&&!EO(n)}const fU=n=>n[0]==="_"||n==="$stable",mU=n=>Ds(n)?n.map(ev):[ev(n)],Rue=(n,r,l)=>{if(r._n)return r;const d=pn((...h)=>mU(r(...h)),l);return d._c=!1,d},tX=(n,r,l)=>{const d=n._ctx;for(const h in n){if(fU(h))continue;const g=n[h];if(Zs(g))r[h]=Rue(h,g,d);else if(g!=null){const y=mU(g);r[h]=()=>y}}},nX=(n,r)=>{const l=mU(r);n.slots.default=()=>l},oX=(n,r,l)=>{for(const d in r)(l||!fU(d))&&(n[d]=r[d])},Due=(n,r,l)=>{const d=n.slots=XY();if(n.vnode.shapeFlag&32){const h=r._;h?(oX(d,r,l),l&&aY(d,"_",h,!0)):tX(r,d)}else r&&nX(n,r)},Nue=(n,r,l)=>{const{vnode:d,slots:h}=n;let g=!0,y=gi;if(d.shapeFlag&32){const w=r._;w?l&&w===1?g=!1:oX(h,r,l):(g=!r.$stable,tX(r,h)),y=r}else r&&(nX(n,r),y={default:1});if(g)for(const w in h)!fU(w)&&y[w]==null&&delete h[w]},yf=Zue;function Iue(n){return Pue(n)}function Pue(n,r){const l=vL();l.__VUE__=!0;const{insert:d,remove:h,patchProp:g,createElement:y,createText:w,createComment:A,setText:R,setElementText:O,parentNode:N,nextSibling:V,setScopeId:z=ov,insertStaticContent:W}=n,X=(qe,st,xe,Re=null,Ue=null,ye=null,_e=void 0,Be=null,Ye=!!st.dynamicChildren)=>{if(qe===st)return;qe&&!aC(qe,st)&&(Re=Gt(qe),$e(qe,Ue,ye,!0),qe=null),st.patchFlag===-2&&(Ye=!1,st.dynamicChildren=null);const{type:pt,ref:fn,shapeFlag:qt}=st;switch(pt){case nR:oe(qe,st,xe,Re);break;case _d:j(qe,st,xe,Re);break;case pz:qe==null&&fe(st,xe,Re,_e);break;case hs:Ve(qe,st,xe,Re,Ue,ye,_e,Be,Ye);break;default:qt&1?de(qe,st,xe,Re,Ue,ye,_e,Be,Ye):qt&6?P(qe,st,xe,Re,Ue,ye,_e,Be,Ye):(qt&64||qt&128)&&pt.process(qe,st,xe,Re,Ue,ye,_e,Be,Ye,tn)}fn!=null&&Ue&&jM(fn,qe&&qe.ref,ye,st||qe,!st)},oe=(qe,st,xe,Re)=>{if(qe==null)d(st.el=w(st.children),xe,Re);else{const Ue=st.el=qe.el;st.children!==qe.children&&R(Ue,st.children)}},j=(qe,st,xe,Re)=>{qe==null?d(st.el=A(st.children||""),xe,Re):st.el=qe.el},fe=(qe,st,xe,Re)=>{[qe.el,qe.anchor]=W(qe.children,st,xe,Re,qe.el,qe.anchor)},le=({el:qe,anchor:st},xe,Re)=>{let Ue;for(;qe&&qe!==st;)Ue=V(qe),d(qe,xe,Re),qe=Ue;d(st,xe,Re)},q=({el:qe,anchor:st})=>{let xe;for(;qe&&qe!==st;)xe=V(qe),h(qe),qe=xe;h(st)},de=(qe,st,xe,Re,Ue,ye,_e,Be,Ye)=>{st.type==="svg"?_e="svg":st.type==="math"&&(_e="mathml"),qe==null?ne(st,xe,Re,Ue,ye,_e,Be,Ye):Ze(qe,st,Ue,ye,_e,Be,Ye)},ne=(qe,st,xe,Re,Ue,ye,_e,Be)=>{let Ye,pt;const{props:fn,shapeFlag:qt,transition:Nn,dirs:no}=qe;if(Ye=qe.el=y(qe.type,ye,fn&&fn.is,fn),qt&8?O(Ye,qe.children):qt&16&&Fe(qe.children,Ye,null,Re,Ue,hz(qe,ye),_e,Be),no&&Yw(qe,null,Re,"created"),be(Ye,qe,qe.scopeId,_e,Re),fn){for(const Wo in fn)Wo!=="value"&&!EO(Wo)&&g(Ye,Wo,null,fn[Wo],ye,Re);"value"in fn&&g(Ye,"value",null,fn.value,ye),(pt=fn.onVnodeBeforeMount)&&Kb(pt,Re,qe)}no&&Yw(qe,null,Re,"beforeMount");const so=Bue(Ue,Nn);so&&Nn.beforeEnter(Ye),d(Ye,st,xe),((pt=fn&&fn.onVnodeMounted)||so||no)&&yf(()=>{pt&&Kb(pt,Re,qe),so&&Nn.enter(Ye),no&&Yw(qe,null,Re,"mounted")},Ue)},be=(qe,st,xe,Re,Ue)=>{if(xe&&z(qe,xe),Re)for(let ye=0;ye<Re.length;ye++)z(qe,Re[ye]);if(Ue){let ye=Ue.subTree;if(st===ye||iX(ye.type)&&(ye.ssContent===st||ye.ssFallback===st)){const _e=Ue.vnode;be(qe,_e,_e.scopeId,_e.slotScopeIds,Ue.parent)}}},Fe=(qe,st,xe,Re,Ue,ye,_e,Be,Ye=0)=>{for(let pt=Ye;pt<qe.length;pt++){const fn=qe[pt]=Be?nx(qe[pt]):ev(qe[pt]);X(null,fn,st,xe,Re,Ue,ye,_e,Be)}},Ze=(qe,st,xe,Re,Ue,ye,_e)=>{const Be=st.el=qe.el;let{patchFlag:Ye,dynamicChildren:pt,dirs:fn}=st;Ye|=qe.patchFlag&16;const qt=qe.props||gi,Nn=st.props||gi;let no;if(xe&&Xw(xe,!1),(no=Nn.onVnodeBeforeUpdate)&&Kb(no,xe,st,qe),fn&&Yw(st,qe,xe,"beforeUpdate"),xe&&Xw(xe,!0),(qt.innerHTML&&Nn.innerHTML==null||qt.textContent&&Nn.textContent==null)&&O(Be,""),pt?rt(qe.dynamicChildren,pt,Be,xe,Re,hz(st,Ue),ye):_e||ct(qe,st,Be,null,xe,Re,hz(st,Ue),ye,!1),Ye>0){if(Ye&16)Oe(Be,qt,Nn,xe,Ue);else if(Ye&2&&qt.class!==Nn.class&&g(Be,"class",null,Nn.class,Ue),Ye&4&&g(Be,"style",qt.style,Nn.style,Ue),Ye&8){const so=st.dynamicProps;for(let Wo=0;Wo<so.length;Wo++){const Po=so[Wo],or=qt[Po],ps=Nn[Po];(ps!==or||Po==="value")&&g(Be,Po,or,ps,Ue,xe)}}Ye&1&&qe.children!==st.children&&O(Be,st.children)}else!_e&&pt==null&&Oe(Be,qt,Nn,xe,Ue);((no=Nn.onVnodeUpdated)||fn)&&yf(()=>{no&&Kb(no,xe,st,qe),fn&&Yw(st,qe,xe,"updated")},Re)},rt=(qe,st,xe,Re,Ue,ye,_e)=>{for(let Be=0;Be<st.length;Be++){const Ye=qe[Be],pt=st[Be],fn=Ye.el&&(Ye.type===hs||!aC(Ye,pt)||Ye.shapeFlag&198)?N(Ye.el):xe;X(Ye,pt,fn,null,Re,Ue,ye,_e,!0)}},Oe=(qe,st,xe,Re,Ue)=>{if(st!==xe){if(st!==gi)for(const ye in st)!EO(ye)&&!(ye in xe)&&g(qe,ye,st[ye],null,Ue,Re);for(const ye in xe){if(EO(ye))continue;const _e=xe[ye],Be=st[ye];_e!==Be&&ye!=="value"&&g(qe,ye,Be,_e,Ue,Re)}"value"in xe&&g(qe,"value",st.value,xe.value,Ue)}},Ve=(qe,st,xe,Re,Ue,ye,_e,Be,Ye)=>{const pt=st.el=qe?qe.el:w(""),fn=st.anchor=qe?qe.anchor:w("");let{patchFlag:qt,dynamicChildren:Nn,slotScopeIds:no}=st;no&&(Be=Be?Be.concat(no):no),qe==null?(d(pt,xe,Re),d(fn,xe,Re),Fe(st.children||[],xe,fn,Ue,ye,_e,Be,Ye)):qt>0&&qt&64&&Nn&&qe.dynamicChildren?(rt(qe.dynamicChildren,Nn,xe,Ue,ye,_e,Be),(st.key!=null||Ue&&st===Ue.subTree)&&gU(qe,st,!0)):ct(qe,st,xe,fn,Ue,ye,_e,Be,Ye)},P=(qe,st,xe,Re,Ue,ye,_e,Be,Ye)=>{st.slotScopeIds=Be,qe==null?st.shapeFlag&512?Ue.ctx.activate(st,xe,Re,_e,Ye):wt(st,xe,Re,Ue,ye,_e,Ye):Nt(qe,st,Ye)},wt=(qe,st,xe,Re,Ue,ye,_e)=>{const Be=qe.component=Jue(qe,Re,Ue);if(CL(qe)&&(Be.ctx.renderer=tn),Que(Be,!1,_e),Be.asyncDep){if(Ue&&Ue.registerDep(Be,Kt,_e),!qe.el){const Ye=Be.subTree=Ne(_d);j(null,Ye,st,xe)}}else Kt(Be,qe,st,xe,Ue,ye,_e)},Nt=(qe,st,xe)=>{const Re=st.component=qe.component;if(Wue(qe,st,xe))if(Re.asyncDep&&!Re.asyncResolved){rn(Re,st,xe);return}else Re.next=st,Re.update();else st.el=qe.el,Re.vnode=st},Kt=(qe,st,xe,Re,Ue,ye,_e)=>{const Be=()=>{if(qe.isMounted){let{next:qt,bu:Nn,u:no,parent:so,vnode:Wo}=qe;{const ms=sX(qe);if(ms){qt&&(qt.el=Wo.el,rn(qe,qt,_e)),ms.asyncDep.then(()=>{qe.isUnmounted||Be()});return}}let Po=qt,or;Xw(qe,!1),qt?(qt.el=Wo.el,rn(qe,qt,_e)):qt=Wo,Nn&&EM(Nn),(or=qt.props&&qt.props.onVnodeBeforeUpdate)&&Kb(or,so,qt,Wo),Xw(qe,!0);const ps=bK(qe),Qr=qe.subTree;qe.subTree=ps,X(Qr,ps,N(Qr.el),Gt(Qr),qe,Ue,ye),qt.el=ps.el,Po===null&&jue(qe,ps.el),no&&yf(no,Ue),(or=qt.props&&qt.props.onVnodeUpdated)&&yf(()=>Kb(or,so,qt,Wo),Ue)}else{let qt;const{el:Nn,props:no}=st,{bm:so,m:Wo,parent:Po,root:or,type:ps}=qe,Qr=RO(st);Xw(qe,!1),so&&EM(so),!Qr&&(qt=no&&no.onVnodeBeforeMount)&&Kb(qt,Po,st),Xw(qe,!0);{or.ce&&or.ce._injectChildStyle(ps);const ms=qe.subTree=bK(qe);X(null,ms,xe,Re,qe,Ue,ye),st.el=ms.el}if(Wo&&yf(Wo,Ue),!Qr&&(qt=no&&no.onVnodeMounted)){const ms=st;yf(()=>Kb(qt,Po,ms),Ue)}(st.shapeFlag&256||Po&&RO(Po.vnode)&&Po.vnode.shapeFlag&256)&&qe.a&&yf(qe.a,Ue),qe.isMounted=!0,st=xe=Re=null}};qe.scope.on();const Ye=qe.effect=new fY(Be);qe.scope.off();const pt=qe.update=Ye.run.bind(Ye),fn=qe.job=Ye.runIfDirty.bind(Ye);fn.i=qe,fn.id=qe.uid,Ye.scheduler=()=>lU(fn),Xw(qe,!0),pt()},rn=(qe,st,xe)=>{st.component=qe;const Re=qe.vnode.props;qe.vnode=st,qe.next=null,Tue(qe,st.props,Re,xe),Nue(qe,st.children,xe),Q0(),rK(qe),e1()},ct=(qe,st,xe,Re,Ue,ye,_e,Be,Ye=!1)=>{const pt=qe&&qe.children,fn=qe?qe.shapeFlag:0,qt=st.children,{patchFlag:Nn,shapeFlag:no}=st;if(Nn>0){if(Nn&128){Tt(pt,qt,xe,Re,Ue,ye,_e,Be,Ye);return}else if(Nn&256){Tn(pt,qt,xe,Re,Ue,ye,_e,Be,Ye);return}}no&8?(fn&16&&Fn(pt,Ue,ye),qt!==pt&&O(xe,qt)):fn&16?no&16?Tt(pt,qt,xe,Re,Ue,ye,_e,Be,Ye):Fn(pt,Ue,ye,!0):(fn&8&&O(xe,""),no&16&&Fe(qt,xe,Re,Ue,ye,_e,Be,Ye))},Tn=(qe,st,xe,Re,Ue,ye,_e,Be,Ye)=>{qe=qe||Dk,st=st||Dk;const pt=qe.length,fn=st.length,qt=Math.min(pt,fn);let Nn;for(Nn=0;Nn<qt;Nn++){const no=st[Nn]=Ye?nx(st[Nn]):ev(st[Nn]);X(qe[Nn],no,xe,null,Ue,ye,_e,Be,Ye)}pt>fn?Fn(qe,Ue,ye,!0,!1,qt):Fe(st,xe,Re,Ue,ye,_e,Be,Ye,qt)},Tt=(qe,st,xe,Re,Ue,ye,_e,Be,Ye)=>{let pt=0;const fn=st.length;let qt=qe.length-1,Nn=fn-1;for(;pt<=qt&&pt<=Nn;){const no=qe[pt],so=st[pt]=Ye?nx(st[pt]):ev(st[pt]);if(aC(no,so))X(no,so,xe,null,Ue,ye,_e,Be,Ye);else break;pt++}for(;pt<=qt&&pt<=Nn;){const no=qe[qt],so=st[Nn]=Ye?nx(st[Nn]):ev(st[Nn]);if(aC(no,so))X(no,so,xe,null,Ue,ye,_e,Be,Ye);else break;qt--,Nn--}if(pt>qt){if(pt<=Nn){const no=Nn+1,so=no<fn?st[no].el:Re;for(;pt<=Nn;)X(null,st[pt]=Ye?nx(st[pt]):ev(st[pt]),xe,so,Ue,ye,_e,Be,Ye),pt++}}else if(pt>Nn)for(;pt<=qt;)$e(qe[pt],Ue,ye,!0),pt++;else{const no=pt,so=pt,Wo=new Map;for(pt=so;pt<=Nn;pt++){const ro=st[pt]=Ye?nx(st[pt]):ev(st[pt]);ro.key!=null&&Wo.set(ro.key,pt)}let Po,or=0;const ps=Nn-so+1;let Qr=!1,ms=0;const Qa=new Array(ps);for(pt=0;pt<ps;pt++)Qa[pt]=0;for(pt=no;pt<=qt;pt++){const ro=qe[pt];if(or>=ps){$e(ro,Ue,ye,!0);continue}let Do;if(ro.key!=null)Do=Wo.get(ro.key);else for(Po=so;Po<=Nn;Po++)if(Qa[Po-so]===0&&aC(ro,st[Po])){Do=Po;break}Do===void 0?$e(ro,Ue,ye,!0):(Qa[Do-so]=pt+1,Do>=ms?ms=Do:Qr=!0,X(ro,st[Do],xe,null,Ue,ye,_e,Be,Ye),or++)}const on=Qr?Mue(Qa):Dk;for(Po=on.length-1,pt=ps-1;pt>=0;pt--){const ro=so+pt,Do=st[ro],ia=ro+1<fn?st[ro+1].el:Re;Qa[pt]===0?X(null,Do,xe,ia,Ue,ye,_e,Be,Ye):Qr&&(Po<0||pt!==on[Po]?ot(Do,xe,ia,2):Po--)}}},ot=(qe,st,xe,Re,Ue=null)=>{const{el:ye,type:_e,transition:Be,children:Ye,shapeFlag:pt}=qe;if(pt&6){ot(qe.component.subTree,st,xe,Re);return}if(pt&128){qe.suspense.move(st,xe,Re);return}if(pt&64){_e.move(qe,st,xe,tn);return}if(_e===hs){d(ye,st,xe);for(let qt=0;qt<Ye.length;qt++)ot(Ye[qt],st,xe,Re);d(qe.anchor,st,xe);return}if(_e===pz){le(qe,st,xe);return}if(Re!==2&&pt&1&&Be)if(Re===0)Be.beforeEnter(ye),d(ye,st,xe),yf(()=>Be.enter(ye),Ue);else{const{leave:qt,delayLeave:Nn,afterLeave:no}=Be,so=()=>{qe.ctx.isUnmounted?h(ye):d(ye,st,xe)},Wo=()=>{qt(ye,()=>{so(),no&&no()})};Nn?Nn(ye,so,Wo):Wo()}else d(ye,st,xe)},$e=(qe,st,xe,Re=!1,Ue=!1)=>{const{type:ye,props:_e,ref:Be,children:Ye,dynamicChildren:pt,shapeFlag:fn,patchFlag:qt,dirs:Nn,cacheIndex:no}=qe;if(qt===-2&&(Ue=!1),Be!=null&&(Q0(),jM(Be,null,xe,qe,!0),e1()),no!=null&&(st.renderCache[no]=void 0),fn&256){st.ctx.deactivate(qe);return}const so=fn&1&&Nn,Wo=!RO(qe);let Po;if(Wo&&(Po=_e&&_e.onVnodeBeforeUnmount)&&Kb(Po,st,qe),fn&6)mn(qe.component,xe,Re);else{if(fn&128){qe.suspense.unmount(xe,Re);return}so&&Yw(qe,null,st,"beforeUnmount"),fn&64?qe.type.remove(qe,st,xe,tn,Re):pt&&!pt.hasOnce&&(ye!==hs||qt>0&&qt&64)?Fn(pt,st,xe,!1,!0):(ye===hs&&qt&384||!Ue&&fn&16)&&Fn(Ye,st,xe),Re&&ht(qe)}(Wo&&(Po=_e&&_e.onVnodeUnmounted)||so)&&yf(()=>{Po&&Kb(Po,st,qe),so&&Yw(qe,null,st,"unmounted")},xe)},ht=qe=>{const{type:st,el:xe,anchor:Re,transition:Ue}=qe;if(st===hs){Dn(xe,Re);return}if(st===pz){q(qe);return}const ye=()=>{h(xe),Ue&&!Ue.persisted&&Ue.afterLeave&&Ue.afterLeave()};if(qe.shapeFlag&1&&Ue&&!Ue.persisted){const{leave:_e,delayLeave:Be}=Ue,Ye=()=>_e(xe,ye);Be?Be(qe.el,ye,Ye):Ye()}else ye()},Dn=(qe,st)=>{let xe;for(;qe!==st;)xe=V(qe),h(qe),qe=xe;h(st)},mn=(qe,st,xe)=>{const{bum:Re,scope:Ue,job:ye,subTree:_e,um:Be,m:Ye,a:pt,parent:fn,slots:{__:qt}}=qe;pK(Ye),pK(pt),Re&&EM(Re),fn&&Ds(qt)&&qt.forEach(Nn=>{fn.renderCache[Nn]=void 0}),Ue.stop(),ye&&(ye.flags|=8,$e(_e,qe,st,xe)),Be&&yf(Be,st),yf(()=>{qe.isUnmounted=!0},st),st&&st.pendingBranch&&!st.isUnmounted&&qe.asyncDep&&!qe.asyncResolved&&qe.suspenseId===st.pendingId&&(st.deps--,st.deps===0&&st.resolve())},Fn=(qe,st,xe,Re=!1,Ue=!1,ye=0)=>{for(let _e=ye;_e<qe.length;_e++)$e(qe[_e],st,xe,Re,Ue)},Gt=qe=>{if(qe.shapeFlag&6)return Gt(qe.component.subTree);if(qe.shapeFlag&128)return qe.suspense.next();const st=V(qe.anchor||qe.el),xe=st&&st[PY];return xe?V(xe):st};let te=!1;const So=(qe,st,xe)=>{qe==null?st._vnode&&$e(st._vnode,null,null,!0):X(st._vnode||null,qe,st,null,null,null,xe),st._vnode=qe,te||(te=!0,rK(),DY(),te=!1)},tn={p:X,um:$e,m:ot,r:ht,mt:wt,mc:Fe,pc:ct,pbc:rt,n:Gt,o:n};return{render:So,hydrate:void 0,createApp:kue(So)}}function hz({type:n,props:r},l){return l==="svg"&&n==="foreignObject"||l==="mathml"&&n==="annotation-xml"&&r&&r.encoding&&r.encoding.includes("html")?void 0:l}function Xw({effect:n,job:r},l){l?(n.flags|=32,r.flags|=4):(n.flags&=-33,r.flags&=-5)}function Bue(n,r){return(!n||n&&!n.pendingBranch)&&r&&!r.persisted}function gU(n,r,l=!1){const d=n.children,h=r.children;if(Ds(d)&&Ds(h))for(let g=0;g<d.length;g++){const y=d[g];let w=h[g];w.shapeFlag&1&&!w.dynamicChildren&&((w.patchFlag<=0||w.patchFlag===32)&&(w=h[g]=nx(h[g]),w.el=y.el),!l&&w.patchFlag!==-2&&gU(y,w)),w.type===nR&&(w.el=y.el),w.type===_d&&!w.el&&(w.el=y.el)}}function Mue(n){const r=n.slice(),l=[0];let d,h,g,y,w;const A=n.length;for(d=0;d<A;d++){const R=n[d];if(R!==0){if(h=l[l.length-1],n[h]<R){r[d]=h,l.push(d);continue}for(g=0,y=l.length-1;g<y;)w=g+y>>1,n[l[w]]<R?g=w+1:y=w;R<n[l[g]]&&(g>0&&(r[d]=l[g-1]),l[g]=d)}}for(g=l.length,y=l[g-1];g-- >0;)l[g]=y,y=r[y];return l}function sX(n){const r=n.subTree.component;if(r)return r.asyncDep&&!r.asyncResolved?r:sX(r)}function pK(n){if(n)for(let r=0;r<n.length;r++)n[r].flags|=8}const Lue=Symbol.for("v-scx"),Fue=()=>hi(Lue);function Ef(n,r){return hU(n,null,r)}function Wn(n,r,l){return hU(n,r,l)}function hU(n,r,l=gi){const{immediate:d,deep:h,flush:g,once:y}=l,w=Hc({},l),A=r&&d||!r&&g!=="post";let R;if(HO){if(g==="sync"){const z=Fue();R=z.__watcherHandles||(z.__watcherHandles=[])}else if(!A){const z=()=>{};return z.stop=ov,z.resume=ov,z.pause=ov,z}}const O=pu;w.call=(z,W,X)=>$p(z,O,W,X);let N=!1;g==="post"?w.scheduler=z=>{yf(z,O&&O.suspense)}:g!=="sync"&&(N=!0,w.scheduler=(z,W)=>{W?z():lU(z)}),w.augmentJob=z=>{r&&(z.flags|=4),N&&(z.flags|=2,O&&(z.id=O.uid,z.i=O))};const V=eue(n,r,w);return HO&&(R?R.push(V):A&&V()),V}function $ue(n,r,l){const d=this.proxy,h=Pl(n)?n.includes(".")?rX(d,n):()=>d[n]:n.bind(d,d);let g;Zs(r)?g=r:(g=r.handler,l=r);const y=oR(this),w=hU(h,g.bind(d),l);return y(),w}function rX(n,r){const l=r.split(".");return()=>{let d=n;for(let h=0;h<l.length&&d;h++)d=d[l[h]];return d}}const Vue=(n,r)=>r==="modelValue"||r==="model-value"?n.modelModifiers:n[`${r}Modifiers`]||n[`${kf(r)}Modifiers`]||n[`${hC(r)}Modifiers`];function Hue(n,r,...l){if(n.isUnmounted)return;const d=n.vnode.props||gi;let h=l;const g=r.startsWith("update:"),y=g&&Vue(d,r.slice(7));y&&(y.trim&&(h=l.map(O=>Pl(O)?O.trim():O)),y.number&&(h=l.map(o9)));let w,A=d[w=lz(r)]||d[w=lz(kf(r))];!A&&g&&(A=d[w=lz(hC(r))]),A&&$p(A,n,6,h);const R=d[w+"Once"];if(R){if(!n.emitted)n.emitted={};else if(n.emitted[w])return;n.emitted[w]=!0,$p(R,n,6,h)}}function aX(n,r,l=!1){const d=r.emitsCache,h=d.get(n);if(h!==void 0)return h;const g=n.emits;let y={},w=!1;if(!Zs(n)){const A=R=>{const O=aX(R,r,!0);O&&(w=!0,Hc(y,O))};!l&&r.mixins.length&&r.mixins.forEach(A),n.extends&&A(n.extends),n.mixins&&n.mixins.forEach(A)}return!g&&!w?(Ii(n)&&d.set(n,null),null):(Ds(g)?g.forEach(A=>y[A]=null):Hc(y,g),Ii(n)&&d.set(n,y),y)}function kL(n,r){return!n||!hL(r)?!1:(r=r.slice(2).replace(/Once$/,""),Pa(n,r[0].toLowerCase()+r.slice(1))||Pa(n,hC(r))||Pa(n,r))}function bK(n){const{type:r,vnode:l,proxy:d,withProxy:h,propsOptions:[g],slots:y,attrs:w,emit:A,render:R,renderCache:O,props:N,data:V,setupState:z,ctx:W,inheritAttrs:X}=n,oe=WM(n);let j,fe;try{if(l.shapeFlag&4){const q=h||d,de=q;j=ev(R.call(de,q,O,N,z,V,W)),fe=w}else{const q=r;j=ev(q.length>1?q(N,{attrs:w,slots:y,emit:A}):q(N,null)),fe=r.props?w:zue(w)}}catch(q){NO.length=0,wL(q,n,1),j=Ne(_d)}let le=j;if(fe&&X!==!1){const q=Object.keys(fe),{shapeFlag:de}=le;q.length&&de&7&&(g&&q.some(X9)&&(fe=Uue(fe,g)),le=n1(le,fe,!1,!0))}return l.dirs&&(le=n1(le,null,!1,!0),le.dirs=le.dirs?le.dirs.concat(l.dirs):l.dirs),l.transition&&mC(le,l.transition),j=le,WM(oe),j}const zue=n=>{let r;for(const l in n)(l==="class"||l==="style"||hL(l))&&((r||(r={}))[l]=n[l]);return r},Uue=(n,r)=>{const l={};for(const d in n)(!X9(d)||!(d.slice(9)in r))&&(l[d]=n[d]);return l};function Wue(n,r,l){const{props:d,children:h,component:g}=n,{props:y,children:w,patchFlag:A}=r,R=g.emitsOptions;if(r.dirs||r.transition)return!0;if(l&&A>=0){if(A&1024)return!0;if(A&16)return d?vK(d,y,R):!!y;if(A&8){const O=r.dynamicProps;for(let N=0;N<O.length;N++){const V=O[N];if(y[V]!==d[V]&&!kL(R,V))return!0}}}else return(h||w)&&(!w||!w.$stable)?!0:d===y?!1:d?y?vK(d,y,R):!0:!!y;return!1}function vK(n,r,l){const d=Object.keys(r);if(d.length!==Object.keys(n).length)return!0;for(let h=0;h<d.length;h++){const g=d[h];if(r[g]!==n[g]&&!kL(l,g))return!0}return!1}function jue({vnode:n,parent:r},l){for(;r;){const d=r.subTree;if(d.suspense&&d.suspense.activeBranch===n&&(d.el=n.el),d===n)(n=r.vnode).el=l,r=r.parent;else break}}const iX=n=>n.__isSuspense;function Zue(n,r){r&&r.pendingBranch?Ds(n)?r.effects.push(...n):r.effects.push(n):oue(n)}const hs=Symbol.for("v-fgt"),nR=Symbol.for("v-txt"),_d=Symbol.for("v-cmt"),pz=Symbol.for("v-stc"),NO=[];let mg=null;function Uo(n=!1){NO.push(mg=n?null:[])}function Kue(){NO.pop(),mg=NO[NO.length-1]||null}let $O=1;function yK(n,r=!1){$O+=n,n<0&&mg&&r&&(mg.hasOnce=!0)}function lX(n){return n.dynamicChildren=$O>0?mg||Dk:null,Kue(),$O>0&&mg&&mg.push(n),n}function Ba(n,r,l,d,h,g){return lX(De(n,r,l,d,h,g,!0))}function Jr(n,r,l,d,h){return lX(Ne(n,r,l,d,h,!0))}function VO(n){return n?n.__v_isVNode===!0:!1}function aC(n,r){return n.type===r.type&&n.key===r.key}const cX=({key:n})=>n??null,TM=({ref:n,ref_key:r,ref_for:l})=>(typeof n=="number"&&(n=""+n),n!=null?Pl(n)||Di(n)||Zs(n)?{i:_f,r:n,k:r,f:!!l}:n:null);function De(n,r=null,l=null,d=0,h=null,g=n===hs?0:1,y=!1,w=!1){const A={__v_isVNode:!0,__v_skip:!0,type:n,props:r,key:r&&cX(r),ref:r&&TM(r),scopeId:IY,slotScopeIds:null,children:l,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:g,patchFlag:d,dynamicProps:h,dynamicChildren:null,appContext:null,ctx:_f};return w?(pU(A,l),g&128&&n.normalize(A)):l&&(A.shapeFlag|=Pl(l)?8:16),$O>0&&!y&&mg&&(A.patchFlag>0||g&6)&&A.patchFlag!==32&&mg.push(A),A}const Ne=que;function que(n,r=null,l=null,d=0,h=null,g=!1){if((!n||n===hue)&&(n=_d),VO(n)){const w=n1(n,r,!0);return l&&pU(w,l),$O>0&&!g&&mg&&(w.shapeFlag&6?mg[mg.indexOf(n)]=w:mg.push(w)),w.patchFlag=-2,w}if(sde(n)&&(n=n.__vccOpts),r){r=Gue(r);let{class:w,style:A}=r;w&&!Pl(w)&&(r.class=zo(w)),Ii(A)&&(aU(A)&&!Ds(A)&&(A=Hc({},A)),r.style=Rs(A))}const y=Pl(n)?1:iX(n)?128:BY(n)?64:Ii(n)?4:Zs(n)?2:0;return De(n,r,l,d,h,y,g,!0)}function Gue(n){return n?aU(n)||JY(n)?Hc({},n):n:null}function n1(n,r,l=!1,d=!1){const{props:h,ref:g,patchFlag:y,children:w,transition:A}=n,R=r?fs(h||{},r):h,O={__v_isVNode:!0,__v_skip:!0,type:n.type,props:R,key:R&&cX(R),ref:r&&r.ref?l&&g?Ds(g)?g.concat(TM(r)):[g,TM(r)]:TM(r):g,scopeId:n.scopeId,slotScopeIds:n.slotScopeIds,children:w,target:n.target,targetStart:n.targetStart,targetAnchor:n.targetAnchor,staticCount:n.staticCount,shapeFlag:n.shapeFlag,patchFlag:r&&n.type!==hs?y===-1?16:y|16:y,dynamicProps:n.dynamicProps,dynamicChildren:n.dynamicChildren,appContext:n.appContext,dirs:n.dirs,transition:A,component:n.component,suspense:n.suspense,ssContent:n.ssContent&&n1(n.ssContent),ssFallback:n.ssFallback&&n1(n.ssFallback),el:n.el,anchor:n.anchor,ctx:n.ctx,ce:n.ce};return A&&d&&mC(O,A.clone(O)),O}function ja(n=" ",r=0){return Ne(nR,null,n,r)}function ql(n="",r=!1){return r?(Uo(),Jr(_d,null,n)):Ne(_d,null,n)}function ev(n){return n==null||typeof n=="boolean"?Ne(_d):Ds(n)?Ne(hs,null,n.slice()):VO(n)?nx(n):Ne(nR,null,String(n))}function nx(n){return n.el===null&&n.patchFlag!==-1||n.memo?n:n1(n)}function pU(n,r){let l=0;const{shapeFlag:d}=n;if(r==null)r=null;else if(Ds(r))l=16;else if(typeof r=="object")if(d&65){const h=r.default;h&&(h._c&&(h._d=!1),pU(n,h()),h._c&&(h._d=!0));return}else{l=32;const h=r._;!h&&!JY(r)?r._ctx=_f:h===3&&_f&&(_f.slots._===1?r._=1:(r._=2,n.patchFlag|=1024))}else Zs(r)?(r={default:r,_ctx:_f},l=32):(r=String(r),d&64?(l=16,r=[ja(r)]):l=8);n.children=r,n.shapeFlag|=l}function fs(...n){const r={};for(let l=0;l<n.length;l++){const d=n[l];for(const h in d)if(h==="class")r.class!==d.class&&(r.class=zo([r.class,d.class]));else if(h==="style")r.style=Rs([r.style,d.style]);else if(hL(h)){const g=r[h],y=d[h];y&&g!==y&&!(Ds(g)&&g.includes(y))&&(r[h]=g?[].concat(g,y):y)}else h!==""&&(r[h]=d[h])}return r}function Kb(n,r,l,d=null){$p(n,r,7,[l,d])}const Yue=GY();let Xue=0;function Jue(n,r,l){const d=n.type,h=(r?r.appContext:n.appContext)||Yue,g={uid:Xue++,vnode:n,type:d,parent:r,appContext:h,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new uY(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:r?r.provides:Object.create(h.provides),ids:r?r.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:eX(d,h),emitsOptions:aX(d,h),emit:null,emitted:null,propsDefaults:gi,inheritAttrs:d.inheritAttrs,ctx:gi,data:gi,props:gi,attrs:gi,slots:gi,refs:gi,setupState:gi,setupContext:null,suspense:l,suspenseId:l?l.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return g.ctx={_:g},g.root=r?r.root:g,g.emit=Hue.bind(null,g),n.ce&&n.ce(g),g}let pu=null;const jk=()=>pu||_f;let KM,f9;{const n=vL(),r=(l,d)=>{let h;return(h=n[l])||(h=n[l]=[]),h.push(d),g=>{h.length>1?h.forEach(y=>y(g)):h[0](g)}};KM=r("__VUE_INSTANCE_SETTERS__",l=>pu=l),f9=r("__VUE_SSR_SETTERS__",l=>HO=l)}const oR=n=>{const r=pu;return KM(n),n.scope.on(),()=>{n.scope.off(),KM(r)}},xK=()=>{pu&&pu.scope.off(),KM(null)};function uX(n){return n.vnode.shapeFlag&4}let HO=!1;function Que(n,r=!1,l=!1){r&&f9(r);const{props:d,children:h}=n.vnode,g=uX(n);Aue(n,d,g,r),Due(n,h,l||r);const y=g?ede(n,r):void 0;return r&&f9(!1),y}function ede(n,r){const l=n.type;n.accessCache=Object.create(null),n.proxy=new Proxy(n.ctx,vue);const{setup:d}=l;if(d){Q0();const h=n.setupContext=d.length>1?nde(n):null,g=oR(n),y=eR(d,n,0,[n.props,h]),w=oY(y);if(e1(),g(),(w||n.sp)&&!RO(n)&&WY(n),w){if(y.then(xK,xK),r)return y.then(A=>{wK(n,A)}).catch(A=>{wL(A,n,0)});n.asyncDep=y}else wK(n,y)}else dX(n)}function wK(n,r,l){Zs(r)?n.type.__ssrInlineRender?n.ssrRender=r:n.render=r:Ii(r)&&(n.setupState=AY(r)),dX(n)}function dX(n,r,l){const d=n.type;n.render||(n.render=d.render||ov);{const h=oR(n);Q0();try{yue(n)}finally{e1(),h()}}}const tde={get(n,r){return Sd(n,"get",""),n[r]}};function nde(n){const r=l=>{n.exposed=l||{}};return{attrs:new Proxy(n.attrs,tde),slots:n.slots,emit:n.emit,expose:r}}function EL(n){return n.exposed?n.exposeProxy||(n.exposeProxy=new Proxy(AY(iU(n.exposed)),{get(r,l){if(l in r)return r[l];if(l in DO)return DO[l](n)},has(r,l){return l in r||l in DO}})):n.proxy}function ode(n,r=!0){return Zs(n)?n.displayName||n.name:n.name||r&&n.__name}function sde(n){return Zs(n)&&"__vccOpts"in n}const Mt=(n,r)=>Jce(n,r,HO);function rv(n,r,l){const d=arguments.length;return d===2?Ii(r)&&!Ds(r)?VO(r)?Ne(n,null,[r]):Ne(n,r):Ne(n,null,r):(d>3?l=Array.prototype.slice.call(arguments,2):d===3&&VO(l)&&(l=[l]),Ne(n,r,l))}const rde="3.5.16";/**
* @vue/runtime-dom v3.5.16
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let m9;const CK=typeof window<"u"&&window.trustedTypes;if(CK)try{m9=CK.createPolicy("vue",{createHTML:n=>n})}catch{}const fX=m9?n=>m9.createHTML(n):n=>n,ade="http://www.w3.org/2000/svg",ide="http://www.w3.org/1998/Math/MathML",q0=typeof document<"u"?document:null,SK=q0&&q0.createElement("template"),lde={insert:(n,r,l)=>{r.insertBefore(n,l||null)},remove:n=>{const r=n.parentNode;r&&r.removeChild(n)},createElement:(n,r,l,d)=>{const h=r==="svg"?q0.createElementNS(ade,n):r==="mathml"?q0.createElementNS(ide,n):l?q0.createElement(n,{is:l}):q0.createElement(n);return n==="select"&&d&&d.multiple!=null&&h.setAttribute("multiple",d.multiple),h},createText:n=>q0.createTextNode(n),createComment:n=>q0.createComment(n),setText:(n,r)=>{n.nodeValue=r},setElementText:(n,r)=>{n.textContent=r},parentNode:n=>n.parentNode,nextSibling:n=>n.nextSibling,querySelector:n=>q0.querySelector(n),setScopeId(n,r){n.setAttribute(r,"")},insertStaticContent(n,r,l,d,h,g){const y=l?l.previousSibling:r.lastChild;if(h&&(h===g||h.nextSibling))for(;r.insertBefore(h.cloneNode(!0),l),!(h===g||!(h=h.nextSibling)););else{SK.innerHTML=fX(d==="svg"?`<svg>${n}</svg>`:d==="mathml"?`<math>${n}</math>`:n);const w=SK.content;if(d==="svg"||d==="mathml"){const A=w.firstChild;for(;A.firstChild;)w.appendChild(A.firstChild);w.removeChild(A)}r.insertBefore(w,l)}return[y?y.nextSibling:r.firstChild,l?l.previousSibling:r.lastChild]}},qy="transition",xO="animation",Bk=Symbol("_vtc"),mX={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},gX=Hc({},$Y,mX),cde=n=>(n.displayName="Transition",n.props=gX,n),cx=cde((n,{slots:r})=>rv(iue,hX(n),r)),Jw=(n,r=[])=>{Ds(n)?n.forEach(l=>l(...r)):n&&n(...r)},_K=n=>n?Ds(n)?n.some(r=>r.length>1):n.length>1:!1;function hX(n){const r={};for(const Ve in n)Ve in mX||(r[Ve]=n[Ve]);if(n.css===!1)return r;const{name:l="v",type:d,duration:h,enterFromClass:g=`${l}-enter-from`,enterActiveClass:y=`${l}-enter-active`,enterToClass:w=`${l}-enter-to`,appearFromClass:A=g,appearActiveClass:R=y,appearToClass:O=w,leaveFromClass:N=`${l}-leave-from`,leaveActiveClass:V=`${l}-leave-active`,leaveToClass:z=`${l}-leave-to`}=n,W=ude(h),X=W&&W[0],oe=W&&W[1],{onBeforeEnter:j,onEnter:fe,onEnterCancelled:le,onLeave:q,onLeaveCancelled:de,onBeforeAppear:ne=j,onAppear:be=fe,onAppearCancelled:Fe=le}=r,Ze=(Ve,P,wt,Nt)=>{Ve._enterCancelled=Nt,Jy(Ve,P?O:w),Jy(Ve,P?R:y),wt&&wt()},rt=(Ve,P)=>{Ve._isLeaving=!1,Jy(Ve,N),Jy(Ve,z),Jy(Ve,V),P&&P()},Oe=Ve=>(P,wt)=>{const Nt=Ve?be:fe,Kt=()=>Ze(P,Ve,wt);Jw(Nt,[P,Kt]),kK(()=>{Jy(P,Ve?A:g),Xb(P,Ve?O:w),_K(Nt)||EK(P,d,X,Kt)})};return Hc(r,{onBeforeEnter(Ve){Jw(j,[Ve]),Xb(Ve,g),Xb(Ve,y)},onBeforeAppear(Ve){Jw(ne,[Ve]),Xb(Ve,A),Xb(Ve,R)},onEnter:Oe(!1),onAppear:Oe(!0),onLeave(Ve,P){Ve._isLeaving=!0;const wt=()=>rt(Ve,P);Xb(Ve,N),Ve._enterCancelled?(Xb(Ve,V),g9()):(g9(),Xb(Ve,V)),kK(()=>{Ve._isLeaving&&(Jy(Ve,N),Xb(Ve,z),_K(q)||EK(Ve,d,oe,wt))}),Jw(q,[Ve,wt])},onEnterCancelled(Ve){Ze(Ve,!1,void 0,!0),Jw(le,[Ve])},onAppearCancelled(Ve){Ze(Ve,!0,void 0,!0),Jw(Fe,[Ve])},onLeaveCancelled(Ve){rt(Ve),Jw(de,[Ve])}})}function ude(n){if(n==null)return null;if(Ii(n))return[bz(n.enter),bz(n.leave)];{const r=bz(n);return[r,r]}}function bz(n){return xce(n)}function Xb(n,r){r.split(/\s+/).forEach(l=>l&&n.classList.add(l)),(n[Bk]||(n[Bk]=new Set)).add(r)}function Jy(n,r){r.split(/\s+/).forEach(d=>d&&n.classList.remove(d));const l=n[Bk];l&&(l.delete(r),l.size||(n[Bk]=void 0))}function kK(n){requestAnimationFrame(()=>{requestAnimationFrame(n)})}let dde=0;function EK(n,r,l,d){const h=n._endId=++dde,g=()=>{h===n._endId&&d()};if(l!=null)return setTimeout(g,l);const{type:y,timeout:w,propCount:A}=pX(n,r);if(!y)return d();const R=y+"end";let O=0;const N=()=>{n.removeEventListener(R,V),g()},V=z=>{z.target===n&&++O>=A&&N()};setTimeout(()=>{O<A&&N()},w+1),n.addEventListener(R,V)}function pX(n,r){const l=window.getComputedStyle(n),d=W=>(l[W]||"").split(", "),h=d(`${qy}Delay`),g=d(`${qy}Duration`),y=AK(h,g),w=d(`${xO}Delay`),A=d(`${xO}Duration`),R=AK(w,A);let O=null,N=0,V=0;r===qy?y>0&&(O=qy,N=y,V=g.length):r===xO?R>0&&(O=xO,N=R,V=A.length):(N=Math.max(y,R),O=N>0?y>R?qy:xO:null,V=O?O===qy?g.length:A.length:0);const z=O===qy&&/\b(transform|all)(,|$)/.test(d(`${qy}Property`).toString());return{type:O,timeout:N,propCount:V,hasTransform:z}}function AK(n,r){for(;n.length<r.length;)n=n.concat(n);return Math.max(...r.map((l,d)=>TK(l)+TK(n[d])))}function TK(n){return n==="auto"?0:Number(n.slice(0,-1).replace(",","."))*1e3}function g9(){return document.body.offsetHeight}function fde(n,r,l){const d=n[Bk];d&&(r=(r?[r,...d]:[...d]).join(" ")),r==null?n.removeAttribute("class"):l?n.setAttribute("class",r):n.className=r}const qM=Symbol("_vod"),bX=Symbol("_vsh"),Ms={beforeMount(n,{value:r},{transition:l}){n[qM]=n.style.display==="none"?"":n.style.display,l&&r?l.beforeEnter(n):wO(n,r)},mounted(n,{value:r},{transition:l}){l&&r&&l.enter(n)},updated(n,{value:r,oldValue:l},{transition:d}){!r!=!l&&(d?r?(d.beforeEnter(n),wO(n,!0),d.enter(n)):d.leave(n,()=>{wO(n,!1)}):wO(n,r))},beforeUnmount(n,{value:r}){wO(n,r)}};function wO(n,r){n.style.display=r?n[qM]:"none",n[bX]=!r}const mde=Symbol(""),gde=/(^|;)\s*display\s*:/;function hde(n,r,l){const d=n.style,h=Pl(l);let g=!1;if(l&&!h){if(r)if(Pl(r))for(const y of r.split(";")){const w=y.slice(0,y.indexOf(":")).trim();l[w]==null&&OM(d,w,"")}else for(const y in r)l[y]==null&&OM(d,y,"");for(const y in l)y==="display"&&(g=!0),OM(d,y,l[y])}else if(h){if(r!==l){const y=d[mde];y&&(l+=";"+y),d.cssText=l,g=gde.test(l)}}else r&&n.removeAttribute("style");qM in n&&(n[qM]=g?d.display:"",n[bX]&&(d.display="none"))}const OK=/\s*!important$/;function OM(n,r,l){if(Ds(l))l.forEach(d=>OM(n,r,d));else if(l==null&&(l=""),r.startsWith("--"))n.setProperty(r,l);else{const d=pde(n,r);OK.test(l)?n.setProperty(hC(d),l.replace(OK,""),"important"):n[d]=l}}const RK=["Webkit","Moz","ms"],vz={};function pde(n,r){const l=vz[r];if(l)return l;let d=kf(r);if(d!=="filter"&&d in n)return vz[r]=d;d=a1(d);for(let h=0;h<RK.length;h++){const g=RK[h]+d;if(g in n)return vz[r]=g}return r}const DK="http://www.w3.org/1999/xlink";function NK(n,r,l,d,h,g=Ece(r)){d&&r.startsWith("xlink:")?l==null?n.removeAttributeNS(DK,r.slice(6,r.length)):n.setAttributeNS(DK,r,l):l==null||g&&!iY(l)?n.removeAttribute(r):n.setAttribute(r,g?"":mx(l)?String(l):l)}function IK(n,r,l,d,h){if(r==="innerHTML"||r==="textContent"){l!=null&&(n[r]=r==="innerHTML"?fX(l):l);return}const g=n.tagName;if(r==="value"&&g!=="PROGRESS"&&!g.includes("-")){const w=g==="OPTION"?n.getAttribute("value")||"":n.value,A=l==null?n.type==="checkbox"?"on":"":String(l);(w!==A||!("_value"in n))&&(n.value=A),l==null&&n.removeAttribute(r),n._value=l;return}let y=!1;if(l===""||l==null){const w=typeof n[r];w==="boolean"?l=iY(l):l==null&&w==="string"?(l="",y=!0):w==="number"&&(l=0,y=!0)}try{n[r]=l}catch{}y&&n.removeAttribute(h||r)}function Ek(n,r,l,d){n.addEventListener(r,l,d)}function bde(n,r,l,d){n.removeEventListener(r,l,d)}const PK=Symbol("_vei");function vde(n,r,l,d,h=null){const g=n[PK]||(n[PK]={}),y=g[r];if(d&&y)y.value=d;else{const[w,A]=yde(r);if(d){const R=g[r]=Cde(d,h);Ek(n,w,R,A)}else y&&(bde(n,w,y,A),g[r]=void 0)}}const BK=/(?:Once|Passive|Capture)$/;function yde(n){let r;if(BK.test(n)){r={};let d;for(;d=n.match(BK);)n=n.slice(0,n.length-d[0].length),r[d[0].toLowerCase()]=!0}return[n[2]===":"?n.slice(3):hC(n.slice(2)),r]}let yz=0;const xde=Promise.resolve(),wde=()=>yz||(xde.then(()=>yz=0),yz=Date.now());function Cde(n,r){const l=d=>{if(!d._vts)d._vts=Date.now();else if(d._vts<=l.attached)return;$p(Sde(d,l.value),r,5,[d])};return l.value=n,l.attached=wde(),l}function Sde(n,r){if(Ds(r)){const l=n.stopImmediatePropagation;return n.stopImmediatePropagation=()=>{l.call(n),n._stopped=!0},r.map(d=>h=>!h._stopped&&d&&d(h))}else return r}const MK=n=>n.charCodeAt(0)===111&&n.charCodeAt(1)===110&&n.charCodeAt(2)>96&&n.charCodeAt(2)<123,_de=(n,r,l,d,h,g)=>{const y=h==="svg";r==="class"?fde(n,d,y):r==="style"?hde(n,l,d):hL(r)?X9(r)||vde(n,r,l,d,g):(r[0]==="."?(r=r.slice(1),!0):r[0]==="^"?(r=r.slice(1),!1):kde(n,r,d,y))?(IK(n,r,d),!n.tagName.includes("-")&&(r==="value"||r==="checked"||r==="selected")&&NK(n,r,d,y,g,r!=="value")):n._isVueCE&&(/[A-Z]/.test(r)||!Pl(d))?IK(n,kf(r),d,g,r):(r==="true-value"?n._trueValue=d:r==="false-value"&&(n._falseValue=d),NK(n,r,d,y))};function kde(n,r,l,d){if(d)return!!(r==="innerHTML"||r==="textContent"||r in n&&MK(r)&&Zs(l));if(r==="spellcheck"||r==="draggable"||r==="translate"||r==="autocorrect"||r==="form"||r==="list"&&n.tagName==="INPUT"||r==="type"&&n.tagName==="TEXTAREA")return!1;if(r==="width"||r==="height"){const h=n.tagName;if(h==="IMG"||h==="VIDEO"||h==="CANVAS"||h==="SOURCE")return!1}return MK(r)&&Pl(l)?!1:r in n}const vX=new WeakMap,yX=new WeakMap,GM=Symbol("_moveCb"),LK=Symbol("_enterCb"),Ede=n=>(delete n.props.mode,n),Ade=Ede({name:"TransitionGroup",props:Hc({},gX,{tag:String,moveClass:String}),setup(n,{slots:r}){const l=jk(),d=FY();let h,g;return dU(()=>{if(!h.length)return;const y=n.moveClass||`${n.name||"v"}-move`;if(!Dde(h[0].el,l.vnode.el,y)){h=[];return}h.forEach(Tde),h.forEach(Ode);const w=h.filter(Rde);g9(),w.forEach(A=>{const R=A.el,O=R.style;Xb(R,y),O.transform=O.webkitTransform=O.transitionDuration="";const N=R[GM]=V=>{V&&V.target!==R||(!V||/transform$/.test(V.propertyName))&&(R.removeEventListener("transitionend",N),R[GM]=null,Jy(R,y))};R.addEventListener("transitionend",N)}),h=[]}),()=>{const y=ws(n),w=hX(y);let A=y.tag||hs;if(h=[],g)for(let R=0;R<g.length;R++){const O=g[R];O.el&&O.el instanceof Element&&(h.push(O),mC(O,FO(O,w,d,l)),vX.set(O,O.el.getBoundingClientRect()))}g=r.default?cU(r.default()):[];for(let R=0;R<g.length;R++){const O=g[R];O.key!=null&&mC(O,FO(O,w,d,l))}return Ne(A,null,g)}}}),bU=Ade;function Tde(n){const r=n.el;r[GM]&&r[GM](),r[LK]&&r[LK]()}function Ode(n){yX.set(n,n.el.getBoundingClientRect())}function Rde(n){const r=vX.get(n),l=yX.get(n),d=r.left-l.left,h=r.top-l.top;if(d||h){const g=n.el.style;return g.transform=g.webkitTransform=`translate(${d}px,${h}px)`,g.transitionDuration="0s",n}}function Dde(n,r,l){const d=n.cloneNode(),h=n[Bk];h&&h.forEach(w=>{w.split(/\s+/).forEach(A=>A&&d.classList.remove(A))}),l.split(/\s+/).forEach(w=>w&&d.classList.add(w)),d.style.display="none";const g=r.nodeType===1?r:r.parentNode;g.appendChild(d);const{hasTransform:y}=pX(d);return g.removeChild(d),y}const FK=n=>{const r=n.props["onUpdate:modelValue"]||!1;return Ds(r)?l=>EM(r,l):r};function Nde(n){n.target.composing=!0}function $K(n){const r=n.target;r.composing&&(r.composing=!1,r.dispatchEvent(new Event("input")))}const xz=Symbol("_assign"),Ide={created(n,{modifiers:{lazy:r,trim:l,number:d}},h){n[xz]=FK(h);const g=d||h.props&&h.props.type==="number";Ek(n,r?"change":"input",y=>{if(y.target.composing)return;let w=n.value;l&&(w=w.trim()),g&&(w=o9(w)),n[xz](w)}),l&&Ek(n,"change",()=>{n.value=n.value.trim()}),r||(Ek(n,"compositionstart",Nde),Ek(n,"compositionend",$K),Ek(n,"change",$K))},mounted(n,{value:r}){n.value=r??""},beforeUpdate(n,{value:r,oldValue:l,modifiers:{lazy:d,trim:h,number:g}},y){if(n[xz]=FK(y),n.composing)return;const w=(g||n.type==="number")&&!/^0\d/.test(n.value)?o9(n.value):n.value,A=r??"";w!==A&&(document.activeElement===n&&n.type!=="range"&&(d&&r===l||h&&n.value.trim()===A)||(n.value=A))}},Pde=Hc({patchProp:_de},lde);let VK;function Bde(){return VK||(VK=Iue(Pde))}const Mde=(...n)=>{const r=Bde().createApp(...n),{mount:l}=r;return r.mount=d=>{const h=Fde(d);if(!h)return;const g=r._component;!Zs(g)&&!g.render&&!g.template&&(g.template=h.innerHTML),h.nodeType===1&&(h.textContent="");const y=l(h,!1,Lde(h));return h instanceof Element&&(h.removeAttribute("v-cloak"),h.setAttribute("data-v-app","")),y},r};function Lde(n){if(n instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&n instanceof MathMLElement)return"mathml"}function Fde(n){return Pl(n)?document.querySelector(n):n}function Eh(n,r){let l;function d(){l=ix(),l.run(()=>r.length?r(()=>{l==null||l.stop(),d()}):r())}Wn(n,h=>{h&&!l?d():h||(l==null||l.stop(),l=void 0)},{immediate:!0}),Gu(()=>{l==null||l.stop()})}const ka=typeof window<"u",vU=ka&&"IntersectionObserver"in window,$de=ka&&("ontouchstart"in window||window.navigator.maxTouchPoints>0);function HK(n,r,l){Vde(n,r),r.set(n,l)}function Vde(n,r){if(r.has(n))throw new TypeError("Cannot initialize the same private elements twice on an object")}function zK(n,r,l){return n.set(xX(n,r),l),l}function j0(n,r){return n.get(xX(n,r))}function xX(n,r,l){if(typeof n=="function"?n===r:n.has(r))return arguments.length<3?r:l;throw new TypeError("Private element is not present on this object")}function wX(n,r,l){const d=r.length-1;if(d<0)return n===void 0?l:n;for(let h=0;h<d;h++){if(n==null)return l;n=n[r[h]]}return n==null||n[r[d]]===void 0?l:n[r[d]]}function Lp(n,r){if(n===r)return!0;if(n instanceof Date&&r instanceof Date&&n.getTime()!==r.getTime()||n!==Object(n)||r!==Object(r))return!1;const l=Object.keys(n);return l.length!==Object.keys(r).length?!1:l.every(d=>Lp(n[d],r[d]))}function h9(n,r,l){return n==null||!r||typeof r!="string"?l:n[r]!==void 0?n[r]:(r=r.replace(/\[(\w+)\]/g,".$1"),r=r.replace(/^\./,""),wX(n,r.split("."),l))}function Ip(n,r,l){if(r===!0)return n===void 0?l:n;if(r==null||typeof r=="boolean")return l;if(n!==Object(n)){if(typeof r!="function")return l;const h=r(n,l);return typeof h>"u"?l:h}if(typeof r=="string")return h9(n,r,l);if(Array.isArray(r))return wX(n,r,l);if(typeof r!="function")return l;const d=r(n,l);return typeof d>"u"?l:d}function CX(n){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return Array.from({length:n},(l,d)=>r+d)}function Os(n){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"px";if(n==null||n==="")return;const l=Number(n);return isNaN(l)?String(n):isFinite(l)?`${l}${r}`:void 0}function p9(n){return n!==null&&typeof n=="object"&&!Array.isArray(n)}function UK(n){let r;return n!==null&&typeof n=="object"&&((r=Object.getPrototypeOf(n))===Object.prototype||r===null)}function SX(n){if(n&&"$el"in n){const r=n.$el;return(r==null?void 0:r.nodeType)===Node.TEXT_NODE?r.nextElementSibling:r}return n}const WK=Object.freeze({enter:13,tab:9,delete:46,esc:27,space:32,up:38,down:40,left:37,right:39,end:35,home:36,del:46,backspace:8,insert:45,pageup:33,pagedown:34,shift:16});function wz(n,r){return r.every(l=>n.hasOwnProperty(l))}function AL(n,r){const l={};for(const d of r)Object.prototype.hasOwnProperty.call(n,d)&&(l[d]=n[d]);return l}function jK(n,r,l){const d=Object.create(null),h=Object.create(null);for(const g in n)r.some(y=>y instanceof RegExp?y.test(g):y===g)?d[g]=n[g]:h[g]=n[g];return[d,h]}function pC(n,r){const l={...n};return r.forEach(d=>delete l[d]),l}const _X=/^on[^a-z]/,kX=n=>_X.test(n),Hde=["onAfterscriptexecute","onAnimationcancel","onAnimationend","onAnimationiteration","onAnimationstart","onAuxclick","onBeforeinput","onBeforescriptexecute","onChange","onClick","onCompositionend","onCompositionstart","onCompositionupdate","onContextmenu","onCopy","onCut","onDblclick","onFocusin","onFocusout","onFullscreenchange","onFullscreenerror","onGesturechange","onGestureend","onGesturestart","onGotpointercapture","onInput","onKeydown","onKeypress","onKeyup","onLostpointercapture","onMousedown","onMousemove","onMouseout","onMouseover","onMouseup","onMousewheel","onPaste","onPointercancel","onPointerdown","onPointerenter","onPointerleave","onPointermove","onPointerout","onPointerover","onPointerup","onReset","onSelect","onSubmit","onTouchcancel","onTouchend","onTouchmove","onTouchstart","onTransitioncancel","onTransitionend","onTransitionrun","onTransitionstart","onWheel"];function yU(n){const[r,l]=jK(n,[_X]),d=pC(r,Hde),[h,g]=jK(l,["class","style","id",/^data-/]);return Object.assign(h,r),Object.assign(g,d),[h,g]}function bm(n){return n==null?[]:Array.isArray(n)?n:[n]}function zde(n,r){let l=0;const d=function(){for(var h=arguments.length,g=new Array(h),y=0;y<h;y++)g[y]=arguments[y];clearTimeout(l),l=setTimeout(()=>n(...g),tt(r))};return d.clear=()=>{clearTimeout(l)},d.immediate=n,d}function vm(n){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;return Math.max(r,Math.min(l,n))}function ZK(n,r){let l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"0";return n+l.repeat(Math.max(0,r-n.length))}function KK(n,r){return(arguments.length>2&&arguments[2]!==void 0?arguments[2]:"0").repeat(Math.max(0,r-n.length))+n}function Ude(n){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;const l=[];let d=0;for(;d<n.length;)l.push(n.substr(d,r)),d+=r;return l}function Ad(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},l=arguments.length>2?arguments[2]:void 0;const d={};for(const h in n)d[h]=n[h];for(const h in r){const g=n[h],y=r[h];if(UK(g)&&UK(y)){d[h]=Ad(g,y,l);continue}if(l&&Array.isArray(g)&&Array.isArray(y)){d[h]=l(g,y);continue}d[h]=y}return d}function EX(n){return n.map(r=>r.type===hs?EX(r.children):r).flat()}function dC(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";if(dC.cache.has(n))return dC.cache.get(n);const r=n.replace(/[^a-z]/gi,"-").replace(/\B([A-Z])/g,"-$1").toLowerCase();return dC.cache.set(n,r),r}dC.cache=new Map;function Tk(n,r){if(!r||typeof r!="object")return[];if(Array.isArray(r))return r.map(l=>Tk(n,l)).flat(1);if(r.suspense)return Tk(n,r.ssContent);if(Array.isArray(r.children))return r.children.map(l=>Tk(n,l)).flat(1);if(r.component){if(Object.getOwnPropertySymbols(r.component.provides).includes(n))return[r.component];if(r.component.subTree)return Tk(n,r.component.subTree).flat(1)}return[]}var pk=new WeakMap,Qw=new WeakMap;class AX{constructor(r){HK(this,pk,[]),HK(this,Qw,0),this.size=r}get isFull(){return j0(pk,this).length===this.size}push(r){j0(pk,this)[j0(Qw,this)]=r,zK(Qw,this,(j0(Qw,this)+1)%this.size)}values(){return j0(pk,this).slice(j0(Qw,this)).concat(j0(pk,this).slice(0,j0(Qw,this)))}clear(){j0(pk,this).length=0,zK(Qw,this,0)}}function xU(n){const r=hu({});Ef(()=>{const d=n();for(const h in d)r[h]=d[h]},{flush:"sync"});const l={};for(const d in r)l[d]=Rn(()=>r[d]);return l}function YM(n,r){return n.includes(r)}function TX(n){return n[2].toLowerCase()+n.slice(3)}const ym=()=>[Function,Array];function qK(n,r){return r="on"+a1(r),!!(n[r]||n[`${r}Once`]||n[`${r}Capture`]||n[`${r}OnceCapture`]||n[`${r}CaptureOnce`])}function wU(n){for(var r=arguments.length,l=new Array(r>1?r-1:0),d=1;d<r;d++)l[d-1]=arguments[d];if(Array.isArray(n))for(const h of n)h(...l);else typeof n=="function"&&n(...l)}function zO(n){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const l=["button","[href]",'input:not([type="hidden"])',"select","textarea","[tabindex]"].map(d=>`${d}${r?':not([tabindex="-1"])':""}:not([disabled])`).join(", ");return[...n.querySelectorAll(l)]}function OX(n,r,l){let d,h=n.indexOf(document.activeElement);const g=r==="next"?1:-1;do h+=g,d=n[h];while((!d||d.offsetParent==null||!((l==null?void 0:l(d))??!0))&&h<n.length&&h>=0);return d}function IO(n,r){var d,h,g,y;const l=zO(n);if(r==null)(n===document.activeElement||!n.contains(document.activeElement))&&((d=l[0])==null||d.focus());else if(r==="first")(h=l[0])==null||h.focus();else if(r==="last")(g=l.at(-1))==null||g.focus();else if(typeof r=="number")(y=l[r])==null||y.focus();else{const w=OX(l,r);w?w.focus():IO(n,r==="next"?"first":"last")}}function Wde(){}function Mk(n,r){if(!(ka&&typeof CSS<"u"&&typeof CSS.supports<"u"&&CSS.supports(`selector(${r})`)))return null;try{return!!n&&n.matches(r)}catch{return null}}function CU(n){return n.some(r=>VO(r)?r.type===_d?!1:r.type!==hs||CU(r.children):!0)?n:null}function jde(n,r){if(!ka||n===0)return r(),()=>{};const l=window.setTimeout(r,n);return()=>window.clearTimeout(l)}function Zde(n,r){const l=n.clientX,d=n.clientY,h=r.getBoundingClientRect(),g=h.left,y=h.top,w=h.right,A=h.bottom;return l>=g&&l<=w&&d>=y&&d<=A}function b9(){const n=Oo(),r=l=>{n.value=l};return Object.defineProperty(r,"value",{enumerable:!0,get:()=>n.value,set:l=>n.value=l}),Object.defineProperty(r,"el",{enumerable:!0,get:()=>SX(n.value)}),r}function XM(n){const r=n.key.length===1,l=!n.ctrlKey&&!n.metaKey&&!n.altKey;return r&&l}function RX(n){return typeof n=="string"||typeof n=="number"||typeof n=="boolean"||typeof n=="bigint"}function Kde(n){if(!n)return;const r={};for(const l in n)r[kf(l)]=n[l];return r}const DX=["top","bottom"],qde=["start","end","left","right"];function v9(n,r){let[l,d]=n.split(" ");return d||(d=YM(DX,l)?"start":YM(qde,l)?"top":"center"),{side:y9(l,r),align:y9(d,r)}}function y9(n,r){return n==="start"?r?"right":"left":n==="end"?r?"left":"right":n}function Cz(n){return{side:{center:"center",top:"bottom",bottom:"top",left:"right",right:"left"}[n.side],align:n.align}}function Sz(n){return{side:n.side,align:{center:"center",top:"bottom",bottom:"top",left:"right",right:"left"}[n.align]}}function GK(n){return{side:n.align,align:n.side}}function YK(n){return YM(DX,n.side)?"y":"x"}class sv{constructor(r){let{x:l,y:d,width:h,height:g}=r;this.x=l,this.y=d,this.width=h,this.height=g}get top(){return this.y}get bottom(){return this.y+this.height}get left(){return this.x}get right(){return this.x+this.width}}function XK(n,r){return{x:{before:Math.max(0,r.left-n.left),after:Math.max(0,n.right-r.right)},y:{before:Math.max(0,r.top-n.top),after:Math.max(0,n.bottom-r.bottom)}}}function NX(n){return Array.isArray(n)?new sv({x:n[0],y:n[1],width:0,height:0}):n.getBoundingClientRect()}function Gde(n){if(n===document.documentElement)return visualViewport?new sv({x:visualViewport.scale>1?0:visualViewport.offsetLeft,y:visualViewport.scale>1?0:visualViewport.offsetTop,width:visualViewport.width*visualViewport.scale,height:visualViewport.height*visualViewport.scale}):new sv({x:0,y:0,width:document.documentElement.clientWidth,height:document.documentElement.clientHeight});{const r=n.getBoundingClientRect();return new sv({x:r.x,y:r.y,width:n.clientWidth,height:n.clientHeight})}}function SU(n){const r=n.getBoundingClientRect(),l=getComputedStyle(n),d=l.transform;if(d){let h,g,y,w,A;if(d.startsWith("matrix3d("))h=d.slice(9,-1).split(/, /),g=Number(h[0]),y=Number(h[5]),w=Number(h[12]),A=Number(h[13]);else if(d.startsWith("matrix("))h=d.slice(7,-1).split(/, /),g=Number(h[0]),y=Number(h[3]),w=Number(h[4]),A=Number(h[5]);else return new sv(r);const R=l.transformOrigin,O=r.x-w-(1-g)*parseFloat(R),N=r.y-A-(1-y)*parseFloat(R.slice(R.indexOf(" ")+1)),V=g?r.width/g:n.offsetWidth+1,z=y?r.height/y:n.offsetHeight+1;return new sv({x:O,y:N,width:V,height:z})}else return new sv(r)}function Ok(n,r,l){if(typeof n.animate>"u")return{finished:Promise.resolve()};let d;try{d=n.animate(r,l)}catch{return{finished:Promise.resolve()}}return typeof d.finished>"u"&&(d.finished=new Promise(h=>{d.onfinish=()=>{h(d)}})),d}const RM=new WeakMap;function Yde(n,r){Object.keys(r).forEach(l=>{if(kX(l)){const d=TX(l),h=RM.get(n);if(r[l]==null)h==null||h.forEach(g=>{const[y,w]=g;y===d&&(n.removeEventListener(d,w),h.delete(g))});else if(!h||![...h].some(g=>g[0]===d&&g[1]===r[l])){n.addEventListener(d,r[l]);const g=h||new Set;g.add([d,r[l]]),RM.has(n)||RM.set(n,g)}}else r[l]==null?n.removeAttribute(l):n.setAttribute(l,r[l])})}function Xde(n,r){Object.keys(r).forEach(l=>{if(kX(l)){const d=TX(l),h=RM.get(n);h==null||h.forEach(g=>{const[y,w]=g;y===d&&(n.removeEventListener(d,w),h.delete(g))})}else n.removeAttribute(l)})}const bk=2.4,JK=.2126729,QK=.7151522,eq=.072175,Jde=.55,Qde=.58,efe=.57,tfe=.62,dM=.03,tq=1.45,nfe=5e-4,ofe=1.25,sfe=1.25,nq=.078,oq=12.82051282051282,fM=.06,sq=.001;function rq(n,r){const l=(n.r/255)**bk,d=(n.g/255)**bk,h=(n.b/255)**bk,g=(r.r/255)**bk,y=(r.g/255)**bk,w=(r.b/255)**bk;let A=l*JK+d*QK+h*eq,R=g*JK+y*QK+w*eq;if(A<=dM&&(A+=(dM-A)**tq),R<=dM&&(R+=(dM-R)**tq),Math.abs(R-A)<nfe)return 0;let O;if(R>A){const N=(R**Jde-A**Qde)*ofe;O=N<sq?0:N<nq?N-N*oq*fM:N-fM}else{const N=(R**tfe-A**efe)*sfe;O=N>-sq?0:N>-nq?N-N*oq*fM:N+fM}return O*100}function rfe(n,r){r=Array.isArray(r)?r.slice(0,-1).map(l=>`'${l}'`).join(", ")+` or '${r.at(-1)}'`:`'${r}'`}const JM=.20689655172413793,afe=n=>n>JM**3?Math.cbrt(n):n/(3*JM**2)+4/29,ife=n=>n>JM?n**3:3*JM**2*(n-4/29);function IX(n){const r=afe,l=r(n[1]);return[116*l-16,500*(r(n[0]/.95047)-l),200*(l-r(n[2]/1.08883))]}function PX(n){const r=ife,l=(n[0]+16)/116;return[r(l+n[1]/500)*.95047,r(l),r(l-n[2]/200)*1.08883]}const lfe=[[3.2406,-1.5372,-.4986],[-.9689,1.8758,.0415],[.0557,-.204,1.057]],cfe=n=>n<=.0031308?n*12.92:1.055*n**(1/2.4)-.055,ufe=[[.4124,.3576,.1805],[.2126,.7152,.0722],[.0193,.1192,.9505]],dfe=n=>n<=.04045?n/12.92:((n+.055)/1.055)**2.4;function BX(n){const r=Array(3),l=cfe,d=lfe;for(let h=0;h<3;++h)r[h]=Math.round(vm(l(d[h][0]*n[0]+d[h][1]*n[1]+d[h][2]*n[2]))*255);return{r:r[0],g:r[1],b:r[2]}}function _U(n){let{r,g:l,b:d}=n;const h=[0,0,0],g=dfe,y=ufe;r=g(r/255),l=g(l/255),d=g(d/255);for(let w=0;w<3;++w)h[w]=y[w][0]*r+y[w][1]*l+y[w][2]*d;return h}function x9(n){return!!n&&/^(#|var\(--|(rgb|hsl)a?\()/.test(n)}function ffe(n){return x9(n)&&!/^((rgb|hsl)a?\()?var\(--/.test(n)}const aq=/^(?<fn>(?:rgb|hsl)a?)\((?<values>.+)\)/,mfe={rgb:(n,r,l,d)=>({r:n,g:r,b:l,a:d}),rgba:(n,r,l,d)=>({r:n,g:r,b:l,a:d}),hsl:(n,r,l,d)=>iq({h:n,s:r,l,a:d}),hsla:(n,r,l,d)=>iq({h:n,s:r,l,a:d}),hsv:(n,r,l,d)=>UO({h:n,s:r,v:l,a:d}),hsva:(n,r,l,d)=>UO({h:n,s:r,v:l,a:d})};function nv(n){if(typeof n=="number")return{r:(n&16711680)>>16,g:(n&65280)>>8,b:n&255};if(typeof n=="string"&&aq.test(n)){const{groups:r}=n.match(aq),{fn:l,values:d}=r,h=d.split(/,\s*|\s*\/\s*|\s+/).map((g,y)=>g.endsWith("%")||y>0&&y<3&&["hsl","hsla","hsv","hsva"].includes(l)?parseFloat(g)/100:parseFloat(g));return mfe[l](...h)}else if(typeof n=="string"){let r=n.startsWith("#")?n.slice(1):n;return[3,4].includes(r.length)?r=r.split("").map(l=>l+l).join(""):[6,8].includes(r.length),hfe(r)}else if(typeof n=="object"){if(wz(n,["r","g","b"]))return n;if(wz(n,["h","s","l"]))return UO(MX(n));if(wz(n,["h","s","v"]))return UO(n)}throw new TypeError(`Invalid color: ${n==null?n:String(n)||n.constructor.name}
Expected #hex, #hexa, rgb(), rgba(), hsl(), hsla(), object or number`)}function UO(n){const{h:r,s:l,v:d,a:h}=n,g=w=>{const A=(w+r/60)%6;return d-d*l*Math.max(Math.min(A,4-A,1),0)},y=[g(5),g(3),g(1)].map(w=>Math.round(w*255));return{r:y[0],g:y[1],b:y[2],a:h}}function iq(n){return UO(MX(n))}function MX(n){const{h:r,s:l,l:d,a:h}=n,g=d+l*Math.min(d,1-d),y=g===0?0:2-2*d/g;return{h:r,s:y,v:g,a:h}}function mM(n){const r=Math.round(n).toString(16);return("00".substr(0,2-r.length)+r).toUpperCase()}function gfe(n){let{r,g:l,b:d,a:h}=n;return`#${[mM(r),mM(l),mM(d),h!==void 0?mM(Math.round(h*255)):""].join("")}`}function hfe(n){n=pfe(n);let[r,l,d,h]=Ude(n,2).map(g=>parseInt(g,16));return h=h===void 0?h:h/255,{r,g:l,b:d,a:h}}function pfe(n){return n.startsWith("#")&&(n=n.slice(1)),n=n.replace(/([^0-9a-f])/gi,"F"),(n.length===3||n.length===4)&&(n=n.split("").map(r=>r+r).join("")),n.length!==6&&(n=ZK(ZK(n,6),8,"F")),n}function bfe(n,r){const l=IX(_U(n));return l[0]=l[0]+r*10,BX(PX(l))}function vfe(n,r){const l=IX(_U(n));return l[0]=l[0]-r*10,BX(PX(l))}function yfe(n){const r=nv(n);return _U(r)[1]}function LX(n){const r=Math.abs(rq(nv(0),nv(n)));return Math.abs(rq(nv(16777215),nv(n)))>Math.min(r,50)?"#fff":"#000"}function Kn(n,r){return l=>Object.keys(n).reduce((d,h)=>{const y=typeof n[h]=="object"&&n[h]!=null&&!Array.isArray(n[h])?n[h]:{type:n[h]};return l&&h in l?d[h]={...y,default:l[h]}:d[h]=y,r&&!d[h].source&&(d[h].source=r),d},{})}const Js=Kn({class:[String,Array,Object],style:{type:[String,Array,Object],default:null}},"component");function dc(n,r){const l=jk();if(!l)throw new Error(`[Vuetify] ${n} must be called from inside a setup function`);return l}function iv(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"composables";const r=dc(n).type;return dC((r==null?void 0:r.aliasName)||(r==null?void 0:r.name))}function xfe(n){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:dc("injectSelf");const{provides:l}=r;if(l&&n in l)return l[n]}const Lk=Symbol.for("vuetify:defaults");function wfe(n){return go(n)}function kU(){const n=hi(Lk);if(!n)throw new Error("[Vuetify] Could not find defaults instance");return n}function hx(n,r){const l=kU(),d=go(n),h=Mt(()=>{if(tt(r==null?void 0:r.disabled))return l.value;const y=tt(r==null?void 0:r.scoped),w=tt(r==null?void 0:r.reset),A=tt(r==null?void 0:r.root);if(d.value==null&&!(y||w||A))return l.value;let R=Ad(d.value,{prev:l.value});if(y)return R;if(w||A){const O=Number(w||1/0);for(let N=0;N<=O&&!(!R||!("prev"in R));N++)R=R.prev;return R&&typeof A=="string"&&A in R&&(R=Ad(Ad(R,{prev:R}),R[A])),R}return R.prev?Ad(R.prev,R):R});return Af(Lk,h),h}function Cfe(n,r){return n.props&&(typeof n.props[r]<"u"||typeof n.props[dC(r)]<"u")}function Sfe(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0,l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:kU();const d=dc("useDefaults");if(r=r??d.type.name??d.type.__name,!r)throw new Error("[Vuetify] Could not determine component name");const h=Mt(()=>{var A;return(A=l.value)==null?void 0:A[n._as??r]}),g=new Proxy(n,{get(A,R){var z,W,X,oe;const O=Reflect.get(A,R);if(R==="class"||R==="style")return[(z=h.value)==null?void 0:z[R],O].filter(j=>j!=null);if(Cfe(d.vnode,R))return O;const N=(W=h.value)==null?void 0:W[R];if(N!==void 0)return N;const V=(oe=(X=l.value)==null?void 0:X.global)==null?void 0:oe[R];return V!==void 0?V:O}}),y=Oo();Ef(()=>{if(h.value){const A=Object.entries(h.value).filter(R=>{let[O]=R;return O.startsWith(O[0].toUpperCase())});y.value=A.length?Object.fromEntries(A):void 0}else y.value=void 0});function w(){const A=xfe(Lk,d);Af(Lk,Mt(()=>y.value?Ad((A==null?void 0:A.value)??{},y.value):A==null?void 0:A.value))}return{props:g,provideSubDefaults:w}}function Zk(n){if(n._setup=n._setup??n.setup,!n.name)return n;if(n._setup){n.props=Kn(n.props??{},n.name)();const r=Object.keys(n.props).filter(l=>l!=="class"&&l!=="style");n.filterProps=function(d){return AL(d,r)},n.props._as=String,n.setup=function(d,h){const g=kU();if(!g.value)return n._setup(d,h);const{props:y,provideSubDefaults:w}=Sfe(d,d._as??n.name,g),A=n._setup(y,h);return w(),A}}return n}function Xo(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return r=>(n?Zk:UY)(r)}function TL(n){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"div",l=arguments.length>2?arguments[2]:void 0;return Xo()({name:l??a1(kf(n.replace(/__/g,"-"))),props:{tag:{type:String,default:r},...Js()},setup(d,h){let{slots:g}=h;return()=>{var y;return rv(d.tag,{class:[n,d.class],style:d.style},(y=g.default)==null?void 0:y.call(g))}}})}function FX(n){if(typeof n.getRootNode!="function"){for(;n.parentNode;)n=n.parentNode;return n!==document?null:document}const r=n.getRootNode();return r!==document&&r.getRootNode({composed:!0})!==document?null:r}const QM="cubic-bezier(0.4, 0, 0.2, 1)",_fe="cubic-bezier(0.0, 0, 0.2, 1)",kfe="cubic-bezier(0.4, 0, 1, 1)";function $X(n){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;for(;n;){if(r?Efe(n):EU(n))return n;n=n.parentElement}return document.scrollingElement}function eL(n,r){const l=[];if(r&&n&&!r.contains(n))return l;for(;n&&(EU(n)&&l.push(n),n!==r);)n=n.parentElement;return l}function EU(n){if(!n||n.nodeType!==Node.ELEMENT_NODE)return!1;const r=window.getComputedStyle(n);return r.overflowY==="scroll"||r.overflowY==="auto"&&n.scrollHeight>n.clientHeight}function Efe(n){if(!n||n.nodeType!==Node.ELEMENT_NODE)return!1;const r=window.getComputedStyle(n);return["scroll","auto"].includes(r.overflowY)}function Afe(n){for(;n;){if(window.getComputedStyle(n).position==="fixed")return!0;n=n.offsetParent}return!1}function Ls(n){const r=dc("useRender");r.render=n}function Ni(n,r,l){let d=arguments.length>3&&arguments[3]!==void 0?arguments[3]:N=>N,h=arguments.length>4&&arguments[4]!==void 0?arguments[4]:N=>N;const g=dc("useProxiedModel"),y=go(n[r]!==void 0?n[r]:l),w=dC(r),R=Mt(w!==r?()=>{var N,V,z,W;return n[r],!!(((N=g.vnode.props)!=null&&N.hasOwnProperty(r)||(V=g.vnode.props)!=null&&V.hasOwnProperty(w))&&((z=g.vnode.props)!=null&&z.hasOwnProperty(`onUpdate:${r}`)||(W=g.vnode.props)!=null&&W.hasOwnProperty(`onUpdate:${w}`)))}:()=>{var N,V;return n[r],!!((N=g.vnode.props)!=null&&N.hasOwnProperty(r)&&((V=g.vnode.props)!=null&&V.hasOwnProperty(`onUpdate:${r}`)))});Eh(()=>!R.value,()=>{Wn(()=>n[r],N=>{y.value=N})});const O=Mt({get(){const N=n[r];return d(R.value?N:y.value)},set(N){const V=h(N),z=ws(R.value?n[r]:y.value);z===V||d(z)===N||(y.value=V,g==null||g.emit(`update:${r}`,V))}});return Object.defineProperty(O,"externalValue",{get:()=>R.value?n[r]:y.value}),O}const Tfe={badge:"Badge",open:"Open",close:"Close",dismiss:"Dismiss",confirmEdit:{ok:"OK",cancel:"Cancel"},dataIterator:{noResultsText:"No matching records found",loadingText:"Loading items..."},dataTable:{itemsPerPageText:"Rows per page:",ariaLabel:{sortDescending:"Sorted descending.",sortAscending:"Sorted ascending.",sortNone:"Not sorted.",activateNone:"Activate to remove sorting.",activateDescending:"Activate to sort descending.",activateAscending:"Activate to sort ascending."},sortBy:"Sort by"},dataFooter:{itemsPerPageText:"Items per page:",itemsPerPageAll:"All",nextPage:"Next page",prevPage:"Previous page",firstPage:"First page",lastPage:"Last page",pageText:"{0}-{1} of {2}"},dateRangeInput:{divider:"to"},datePicker:{itemsSelected:"{0} selected",range:{title:"Select dates",header:"Enter dates"},title:"Select date",header:"Enter date",input:{placeholder:"Enter date"}},noDataText:"No data available",carousel:{prev:"Previous visual",next:"Next visual",ariaLabel:{delimiter:"Carousel slide {0} of {1}"}},calendar:{moreEvents:"{0} more",today:"Today"},input:{clear:"Clear {0}",prependAction:"{0} prepended action",appendAction:"{0} appended action",otp:"Please enter OTP character {0}"},fileInput:{counter:"{0} files",counterSize:"{0} files ({1} in total)"},fileUpload:{title:"Drag and drop files here",divider:"or",browse:"Browse Files"},timePicker:{am:"AM",pm:"PM",title:"Select Time"},pagination:{ariaLabel:{root:"Pagination Navigation",next:"Next page",previous:"Previous page",page:"Go to page {0}",currentPage:"Page {0}, Current page",first:"First page",last:"Last page"}},stepper:{next:"Next",prev:"Previous"},rating:{ariaLabel:{item:"Rating {0} of {1}"}},loading:"Loading...",infiniteScroll:{loadMore:"Load more",empty:"No more"},rules:{required:"This field is required",email:"Please enter a valid email",number:"This field can only contain numbers",integer:"This field can only contain integer values",capital:"This field can only contain uppercase letters",maxLength:"You must enter a maximum of {0} characters",minLength:"You must enter a minimum of {0} characters",strictLength:"The length of the entered field is invalid",exclude:"The {0} character is not allowed",notEmpty:"Please choose at least one value",pattern:"Invalid format"}},lq="$vuetify.",cq=(n,r)=>n.replace(/\{(\d+)\}/g,(l,d)=>String(r[Number(d)])),VX=(n,r,l)=>function(d){for(var h=arguments.length,g=new Array(h>1?h-1:0),y=1;y<h;y++)g[y-1]=arguments[y];if(!d.startsWith(lq))return cq(d,g);const w=d.replace(lq,""),A=n.value&&l.value[n.value],R=r.value&&l.value[r.value];let O=h9(A,w,null);return O||(`${d}${n.value}`,O=h9(R,w,null)),O||(O=d),typeof O!="string"&&(O=d),cq(O,g)};function HX(n,r){return(l,d)=>new Intl.NumberFormat([n.value,r.value],d).format(l)}function _z(n,r,l){const d=Ni(n,r,n[r]??l.value);return d.value=n[r]??l.value,Wn(l,h=>{n[r]==null&&(d.value=l.value)}),d}function zX(n){return r=>{const l=_z(r,"locale",n.current),d=_z(r,"fallback",n.fallback),h=_z(r,"messages",n.messages);return{name:"vuetify",current:l,fallback:d,messages:h,t:VX(l,d,h),n:HX(l,d),provide:zX({current:l,fallback:d,messages:h})}}}function Ofe(n){const r=Oo((n==null?void 0:n.locale)??"en"),l=Oo((n==null?void 0:n.fallback)??"en"),d=go({en:Tfe,...n==null?void 0:n.messages});return{name:"vuetify",current:r,fallback:l,messages:d,t:VX(r,l,d),n:HX(r,l),provide:zX({current:r,fallback:l,messages:d})}}const tL=Symbol.for("vuetify:locale");function Rfe(n){return n.name!=null}function Dfe(n){const r=n!=null&&n.adapter&&Rfe(n==null?void 0:n.adapter)?n==null?void 0:n.adapter:Ofe(n),l=Ife(r,n);return{...r,...l}}function sR(){const n=hi(tL);if(!n)throw new Error("[Vuetify] Could not find injected locale instance");return n}function Nfe(){return{af:!1,ar:!0,bg:!1,ca:!1,ckb:!1,cs:!1,de:!1,el:!1,en:!1,es:!1,et:!1,fa:!0,fi:!1,fr:!1,hr:!1,hu:!1,he:!0,id:!1,it:!1,ja:!1,km:!1,ko:!1,lv:!1,lt:!1,nl:!1,no:!1,pl:!1,pt:!1,ro:!1,ru:!1,sk:!1,sl:!1,srCyrl:!1,srLatn:!1,sv:!1,th:!1,tr:!1,az:!1,uk:!1,vi:!1,zhHans:!1,zhHant:!1}}function Ife(n,r){const l=go((r==null?void 0:r.rtl)??Nfe()),d=Mt(()=>l.value[n.current.value]??!1);return{isRtl:d,rtl:l,rtlClasses:Rn(()=>`v-locale--is-${d.value?"rtl":"ltr"}`)}}function Ah(){const n=hi(tL);if(!n)throw new Error("[Vuetify] Could not find injected rtl instance");return{isRtl:n.isRtl,rtlClasses:n.rtlClasses}}function rR(n){const r=n.slice(-2).toUpperCase();switch(!0){case n==="GB-alt-variant":return{firstDay:0,firstWeekSize:4};case n==="001":return{firstDay:1,firstWeekSize:1};case`AG AS BD BR BS BT BW BZ CA CO DM DO ET GT GU HK HN ID IL IN JM JP KE
    KH KR LA MH MM MO MT MX MZ NI NP PA PE PH PK PR PY SA SG SV TH TT TW UM US
    VE VI WS YE ZA ZW`.includes(r):return{firstDay:0,firstWeekSize:1};case`AI AL AM AR AU AZ BA BM BN BY CL CM CN CR CY EC GE HR KG KZ LB LK LV
    MD ME MK MN MY NZ RO RS SI TJ TM TR UA UY UZ VN XK`.includes(r):return{firstDay:1,firstWeekSize:1};case`AD AN AT AX BE BG CH CZ DE DK EE ES FI FJ FO FR GB GF GP GR HU IE IS
    IT LI LT LU MC MQ NL NO PL RE RU SE SK SM VA`.includes(r):return{firstDay:1,firstWeekSize:4};case"AE AF BH DJ DZ EG IQ IR JO KW LY OM QA SD SY".includes(r):return{firstDay:6,firstWeekSize:1};case r==="MV":return{firstDay:5,firstWeekSize:1};case r==="PT":return{firstDay:0,firstWeekSize:4};default:return null}}function Pfe(n,r,l){var O;const d=[];let h=[];const g=UX(n),y=WX(n),w=l??((O=rR(r))==null?void 0:O.firstDay)??0,A=(g.getDay()-w+7)%7,R=(y.getDay()-w+7)%7;for(let N=0;N<A;N++){const V=new Date(g);V.setDate(V.getDate()-(A-N)),h.push(V)}for(let N=1;N<=y.getDate();N++){const V=new Date(n.getFullYear(),n.getMonth(),N);h.push(V),h.length===7&&(d.push(h),h=[])}for(let N=1;N<7-R;N++){const V=new Date(y);V.setDate(V.getDate()+N),h.push(V)}return h.length>0&&d.push(h),d}function w9(n,r,l){var g;const d=l??((g=rR(r))==null?void 0:g.firstDay)??0,h=new Date(n);for(;h.getDay()!==d;)h.setDate(h.getDate()-1);return h}function Bfe(n,r){var h;const l=new Date(n),d=((((h=rR(r))==null?void 0:h.firstDay)??0)+6)%7;for(;l.getDay()!==d;)l.setDate(l.getDate()+1);return l}function UX(n){return new Date(n.getFullYear(),n.getMonth(),1)}function WX(n){return new Date(n.getFullYear(),n.getMonth()+1,0)}function Mfe(n){const r=n.split("-").map(Number);return new Date(r[0],r[1]-1,r[2])}const Lfe=/^([12]\d{3}-([1-9]|0[1-9]|1[0-2])-([1-9]|0[1-9]|[12]\d|3[01]))$/;function jX(n){if(n==null)return new Date;if(n instanceof Date)return n;if(typeof n=="string"){let r;if(Lfe.test(n))return Mfe(n);if(r=Date.parse(n),!isNaN(r))return new Date(r)}return null}const uq=new Date(2e3,0,2);function Ffe(n,r){var d;const l=r??((d=rR(n))==null?void 0:d.firstDay)??0;return CX(7).map(h=>{const g=new Date(uq);return g.setDate(uq.getDate()+l+h),new Intl.DateTimeFormat(n,{weekday:"narrow"}).format(g)})}function $fe(n,r,l,d){const h=jX(n)??new Date,g=d==null?void 0:d[r];if(typeof g=="function")return g(h,r,l);let y={};switch(r){case"fullDate":y={year:"numeric",month:"long",day:"numeric"};break;case"fullDateWithWeekday":y={weekday:"long",year:"numeric",month:"long",day:"numeric"};break;case"normalDate":const w=h.getDate(),A=new Intl.DateTimeFormat(l,{month:"long"}).format(h);return`${w} ${A}`;case"normalDateWithWeekday":y={weekday:"short",day:"numeric",month:"short"};break;case"shortDate":y={month:"short",day:"numeric"};break;case"year":y={year:"numeric"};break;case"month":y={month:"long"};break;case"monthShort":y={month:"short"};break;case"monthAndYear":y={month:"long",year:"numeric"};break;case"monthAndDate":y={month:"long",day:"numeric"};break;case"weekday":y={weekday:"long"};break;case"weekdayShort":y={weekday:"short"};break;case"dayOfMonth":return new Intl.NumberFormat(l).format(h.getDate());case"hours12h":y={hour:"numeric",hour12:!0};break;case"hours24h":y={hour:"numeric",hour12:!1};break;case"minutes":y={minute:"numeric"};break;case"seconds":y={second:"numeric"};break;case"fullTime":y={hour:"numeric",minute:"numeric"};break;case"fullTime12h":y={hour:"numeric",minute:"numeric",hour12:!0};break;case"fullTime24h":y={hour:"numeric",minute:"numeric",hour12:!1};break;case"fullDateTime":y={year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"numeric"};break;case"fullDateTime12h":y={year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"numeric",hour12:!0};break;case"fullDateTime24h":y={year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"numeric",hour12:!1};break;case"keyboardDate":y={year:"numeric",month:"2-digit",day:"2-digit"};break;case"keyboardDateTime":return y={year:"numeric",month:"2-digit",day:"2-digit",hour:"numeric",minute:"numeric"},new Intl.DateTimeFormat(l,y).format(h).replace(/, /g," ");case"keyboardDateTime12h":return y={year:"numeric",month:"2-digit",day:"2-digit",hour:"numeric",minute:"numeric",hour12:!0},new Intl.DateTimeFormat(l,y).format(h).replace(/, /g," ");case"keyboardDateTime24h":return y={year:"numeric",month:"2-digit",day:"2-digit",hour:"numeric",minute:"numeric",hour12:!1},new Intl.DateTimeFormat(l,y).format(h).replace(/, /g," ");default:y=g??{timeZone:"UTC",timeZoneName:"short"}}return new Intl.DateTimeFormat(l,y).format(h)}function Vfe(n,r){const l=n.toJsDate(r),d=l.getFullYear(),h=KK(String(l.getMonth()+1),2,"0"),g=KK(String(l.getDate()),2,"0");return`${d}-${h}-${g}`}function Hfe(n){const[r,l,d]=n.split("-").map(Number);return new Date(r,l-1,d)}function zfe(n,r){const l=new Date(n);return l.setMinutes(l.getMinutes()+r),l}function Ufe(n,r){const l=new Date(n);return l.setHours(l.getHours()+r),l}function DM(n,r){const l=new Date(n);return l.setDate(l.getDate()+r),l}function Wfe(n,r){const l=new Date(n);return l.setDate(l.getDate()+r*7),l}function jfe(n,r){const l=new Date(n);return l.setDate(1),l.setMonth(l.getMonth()+r),l}function C9(n){return n.getFullYear()}function Zfe(n){return n.getMonth()}function Kfe(n,r,l,d){const h=rR(r),g=l??(h==null?void 0:h.firstDay)??0,y=d??(h==null?void 0:h.firstWeekSize)??1;function w(z){const W=new Date(z,0,1);return 7-S9(W,w9(W,r,g),"days")}let A=C9(n);const R=DM(w9(n,r,g),6);A<C9(R)&&w(A+1)>=y&&A++;const O=new Date(A,0,1),N=w(A),V=N>=y?DM(O,N-7):DM(O,N);return 1+S9(n,V,"weeks")}function qfe(n){return n.getDate()}function Gfe(n){return new Date(n.getFullYear(),n.getMonth()+1,1)}function Yfe(n){return new Date(n.getFullYear(),n.getMonth()-1,1)}function Xfe(n){return n.getHours()}function Jfe(n){return n.getMinutes()}function Qfe(n){return new Date(n.getFullYear(),0,1)}function eme(n){return new Date(n.getFullYear(),11,31)}function tme(n,r){return nL(n,r[0])&&sme(n,r[1])}function nme(n){const r=new Date(n);return r instanceof Date&&!isNaN(r.getTime())}function nL(n,r){return n.getTime()>r.getTime()}function ome(n,r){return nL(_9(n),_9(r))}function sme(n,r){return n.getTime()<r.getTime()}function dq(n,r){return n.getTime()===r.getTime()}function rme(n,r){return n.getDate()===r.getDate()&&n.getMonth()===r.getMonth()&&n.getFullYear()===r.getFullYear()}function ame(n,r){return n.getMonth()===r.getMonth()&&n.getFullYear()===r.getFullYear()}function ime(n,r){return n.getFullYear()===r.getFullYear()}function S9(n,r,l){const d=new Date(n),h=new Date(r);switch(l){case"years":return d.getFullYear()-h.getFullYear();case"quarters":return Math.floor((d.getMonth()-h.getMonth()+(d.getFullYear()-h.getFullYear())*12)/4);case"months":return d.getMonth()-h.getMonth()+(d.getFullYear()-h.getFullYear())*12;case"weeks":return Math.floor((d.getTime()-h.getTime())/(1e3*60*60*24*7));case"days":return Math.floor((d.getTime()-h.getTime())/(1e3*60*60*24));case"hours":return Math.floor((d.getTime()-h.getTime())/(1e3*60*60));case"minutes":return Math.floor((d.getTime()-h.getTime())/(1e3*60));case"seconds":return Math.floor((d.getTime()-h.getTime())/1e3);default:return d.getTime()-h.getTime()}}function lme(n,r){const l=new Date(n);return l.setHours(r),l}function cme(n,r){const l=new Date(n);return l.setMinutes(r),l}function ume(n,r){const l=new Date(n);return l.setMonth(r),l}function dme(n,r){const l=new Date(n);return l.setDate(r),l}function fme(n,r){const l=new Date(n);return l.setFullYear(r),l}function _9(n){return new Date(n.getFullYear(),n.getMonth(),n.getDate(),0,0,0,0)}function mme(n){return new Date(n.getFullYear(),n.getMonth(),n.getDate(),23,59,59,999)}class gme{constructor(r){this.locale=r.locale,this.formats=r.formats}date(r){return jX(r)}toJsDate(r){return r}toISO(r){return Vfe(this,r)}parseISO(r){return Hfe(r)}addMinutes(r,l){return zfe(r,l)}addHours(r,l){return Ufe(r,l)}addDays(r,l){return DM(r,l)}addWeeks(r,l){return Wfe(r,l)}addMonths(r,l){return jfe(r,l)}getWeekArray(r,l){const d=l!==void 0?Number(l):void 0;return Pfe(r,this.locale,d)}startOfWeek(r,l){const d=l!==void 0?Number(l):void 0;return w9(r,this.locale,d)}endOfWeek(r){return Bfe(r,this.locale)}startOfMonth(r){return UX(r)}endOfMonth(r){return WX(r)}format(r,l){return $fe(r,l,this.locale,this.formats)}isEqual(r,l){return dq(r,l)}isValid(r){return nme(r)}isWithinRange(r,l){return tme(r,l)}isAfter(r,l){return nL(r,l)}isAfterDay(r,l){return ome(r,l)}isBefore(r,l){return!nL(r,l)&&!dq(r,l)}isSameDay(r,l){return rme(r,l)}isSameMonth(r,l){return ame(r,l)}isSameYear(r,l){return ime(r,l)}setMinutes(r,l){return cme(r,l)}setHours(r,l){return lme(r,l)}setMonth(r,l){return ume(r,l)}setDate(r,l){return dme(r,l)}setYear(r,l){return fme(r,l)}getDiff(r,l,d){return S9(r,l,d)}getWeekdays(r){const l=r!==void 0?Number(r):void 0;return Ffe(this.locale,l)}getYear(r){return C9(r)}getMonth(r){return Zfe(r)}getWeek(r,l,d){const h=l!==void 0?Number(l):void 0;return Kfe(r,this.locale,h,d)}getDate(r){return qfe(r)}getNextMonth(r){return Gfe(r)}getPreviousMonth(r){return Yfe(r)}getHours(r){return Xfe(r)}getMinutes(r){return Jfe(r)}startOfDay(r){return _9(r)}endOfDay(r){return mme(r)}startOfYear(r){return Qfe(r)}endOfYear(r){return eme(r)}}const hme=Symbol.for("vuetify:date-options"),fq=Symbol.for("vuetify:date-adapter");function pme(n,r){const l=Ad({adapter:gme,locale:{af:"af-ZA",bg:"bg-BG",ca:"ca-ES",ckb:"",cs:"cs-CZ",de:"de-DE",el:"el-GR",en:"en-US",et:"et-EE",fa:"fa-IR",fi:"fi-FI",hr:"hr-HR",hu:"hu-HU",he:"he-IL",id:"id-ID",it:"it-IT",ja:"ja-JP",ko:"ko-KR",lv:"lv-LV",lt:"lt-LT",nl:"nl-NL",no:"no-NO",pl:"pl-PL",pt:"pt-PT",ro:"ro-RO",ru:"ru-RU",sk:"sk-SK",sl:"sl-SI",srCyrl:"sr-SP",srLatn:"sr-SP",sv:"sv-SE",th:"th-TH",tr:"tr-TR",az:"az-AZ",uk:"uk-UA",vi:"vi-VN",zhHans:"zh-CN",zhHant:"zh-TW"}},n);return{options:l,instance:bme(l,r)}}function bme(n,r){const l=hu(typeof n.adapter=="function"?new n.adapter({locale:n.locale[r.current.value]??r.current.value,formats:n.formats}):n.adapter);return Wn(r.current,d=>{l.locale=n.locale[d]??d??l.locale}),Object.assign(l,{createDateRange(d,h){const g=l.getDiff(h??d,d,"days"),y=[d];for(let w=1;w<g;w++){const A=l.addDays(d,w);y.push(A)}return h&&y.push(l.endOfDay(h)),y}})}const OL=["sm","md","lg","xl","xxl"],k9=Symbol.for("vuetify:display"),mq={mobileBreakpoint:"lg",thresholds:{xs:0,sm:600,md:960,lg:1280,xl:1920,xxl:2560}},vme=function(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:mq;return Ad(mq,n)};function gq(n){return ka&&!n?window.innerWidth:typeof n=="object"&&n.clientWidth||0}function hq(n){return ka&&!n?window.innerHeight:typeof n=="object"&&n.clientHeight||0}function pq(n){const r=ka&&!n?window.navigator.userAgent:"ssr";function l(W){return!!r.match(W)}const d=l(/android/i),h=l(/iphone|ipad|ipod/i),g=l(/cordova/i),y=l(/electron/i),w=l(/chrome/i),A=l(/edge/i),R=l(/firefox/i),O=l(/opera/i),N=l(/win/i),V=l(/mac/i),z=l(/linux/i);return{android:d,ios:h,cordova:g,electron:y,chrome:w,edge:A,firefox:R,opera:O,win:N,mac:V,linux:z,touch:$de,ssr:r==="ssr"}}function yme(n,r){const{thresholds:l,mobileBreakpoint:d}=vme(n),h=Oo(hq(r)),g=Oo(pq(r)),y=hu({}),w=Oo(gq(r));function A(){h.value=hq(),w.value=gq()}function R(){A(),g.value=pq()}return Ef(()=>{const O=w.value<l.sm,N=w.value<l.md&&!O,V=w.value<l.lg&&!(N||O),z=w.value<l.xl&&!(V||N||O),W=w.value<l.xxl&&!(z||V||N||O),X=w.value>=l.xxl,oe=O?"xs":N?"sm":V?"md":z?"lg":W?"xl":"xxl",j=typeof d=="number"?d:l[d],fe=w.value<j;y.xs=O,y.sm=N,y.md=V,y.lg=z,y.xl=W,y.xxl=X,y.smAndUp=!O,y.mdAndUp=!(O||N),y.lgAndUp=!(O||N||V),y.xlAndUp=!(O||N||V||z),y.smAndDown=!(V||z||W||X),y.mdAndDown=!(z||W||X),y.lgAndDown=!(W||X),y.xlAndDown=!X,y.name=oe,y.height=h.value,y.width=w.value,y.mobile=fe,y.mobileBreakpoint=d,y.platform=g.value,y.thresholds=l}),ka&&(window.addEventListener("resize",A,{passive:!0}),Gu(()=>{window.removeEventListener("resize",A)},!0)),{...xL(y),update:R,ssr:!!r}}const ZX=Kn({mobile:{type:Boolean,default:!1},mobileBreakpoint:[Number,String]},"display");function RL(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{mobile:null},r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:iv();const l=hi(k9);if(!l)throw new Error("Could not find Vuetify display injection");const d=Mt(()=>n.mobile?!0:typeof n.mobileBreakpoint=="number"?l.width.value<n.mobileBreakpoint:n.mobileBreakpoint?l.width.value<l.thresholds.value[n.mobileBreakpoint]:n.mobile===null?l.mobile.value:!1),h=Rn(()=>r?{[`${r}--mobile`]:d.value}:{});return{...l,displayClasses:h,mobile:d}}const KX=Symbol.for("vuetify:goto");function qX(){return{container:void 0,duration:300,layout:!1,offset:0,easing:"easeInOutCubic",patterns:{linear:n=>n,easeInQuad:n=>n**2,easeOutQuad:n=>n*(2-n),easeInOutQuad:n=>n<.5?2*n**2:-1+(4-2*n)*n,easeInCubic:n=>n**3,easeOutCubic:n=>--n**3+1,easeInOutCubic:n=>n<.5?4*n**3:(n-1)*(2*n-2)*(2*n-2)+1,easeInQuart:n=>n**4,easeOutQuart:n=>1- --n**4,easeInOutQuart:n=>n<.5?8*n**4:1-8*--n**4,easeInQuint:n=>n**5,easeOutQuint:n=>1+--n**5,easeInOutQuint:n=>n<.5?16*n**5:1+16*--n**5}}}function xme(n){return AU(n)??(document.scrollingElement||document.body)}function AU(n){return typeof n=="string"?document.querySelector(n):SX(n)}function kz(n,r,l){if(typeof n=="number")return r&&l?-n:n;let d=AU(n),h=0;for(;d;)h+=r?d.offsetLeft:d.offsetTop,d=d.offsetParent;return h}function wme(n,r){return{rtl:r.isRtl,options:Ad(qX(),n)}}async function bq(n,r,l,d){const h=l?"scrollLeft":"scrollTop",g=Ad((d==null?void 0:d.options)??qX(),r),y=d==null?void 0:d.rtl.value,w=(typeof n=="number"?n:AU(n))??0,A=g.container==="parent"&&w instanceof HTMLElement?w.parentElement:xme(g.container),R=typeof g.easing=="function"?g.easing:g.patterns[g.easing];if(!R)throw new TypeError(`Easing function "${g.easing}" not found.`);let O;if(typeof w=="number")O=kz(w,l,y);else if(O=kz(w,l,y)-kz(A,l,y),g.layout){const W=window.getComputedStyle(w).getPropertyValue("--v-layout-top");W&&(O-=parseInt(W,10))}O+=g.offset,O=Sme(A,O,!!y,!!l);const N=A[h]??0;if(O===N)return Promise.resolve(O);const V=performance.now();return new Promise(z=>requestAnimationFrame(function W(X){const j=(X-V)/g.duration,fe=Math.floor(N+(O-N)*R(vm(j,0,1)));if(A[h]=fe,j>=1&&Math.abs(fe-A[h])<10)return z(O);if(j>2)return z(A[h]);requestAnimationFrame(W)}))}function Cme(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const r=hi(KX),{isRtl:l}=Ah();if(!r)throw new Error("[Vuetify] Could not find injected goto instance");const d={...r,rtl:Rn(()=>r.rtl.value||l.value)};async function h(g,y){return bq(g,Ad(n,y),!1,d)}return h.horizontal=async(g,y)=>bq(g,Ad(n,y),!0,d),h}function Sme(n,r,l,d){const{scrollWidth:h,scrollHeight:g}=n,[y,w]=n===document.scrollingElement?[window.innerWidth,window.innerHeight]:[n.offsetWidth,n.offsetHeight];let A,R;return d?l?(A=-(h-y),R=0):(A=0,R=h-y):(A=0,R=g+-w),vm(r,A,R)}const _me={collapse:"mdi-chevron-up",complete:"mdi-check",cancel:"mdi-close-circle",close:"mdi-close",delete:"mdi-close-circle",clear:"mdi-close-circle",success:"mdi-check-circle",info:"mdi-information",warning:"mdi-alert-circle",error:"mdi-close-circle",prev:"mdi-chevron-left",next:"mdi-chevron-right",checkboxOn:"mdi-checkbox-marked",checkboxOff:"mdi-checkbox-blank-outline",checkboxIndeterminate:"mdi-minus-box",delimiter:"mdi-circle",sortAsc:"mdi-arrow-up",sortDesc:"mdi-arrow-down",expand:"mdi-chevron-down",menu:"mdi-menu",subgroup:"mdi-menu-down",dropdown:"mdi-menu-down",radioOn:"mdi-radiobox-marked",radioOff:"mdi-radiobox-blank",edit:"mdi-pencil",ratingEmpty:"mdi-star-outline",ratingFull:"mdi-star",ratingHalf:"mdi-star-half-full",loading:"mdi-cached",first:"mdi-page-first",last:"mdi-page-last",unfold:"mdi-unfold-more-horizontal",file:"mdi-paperclip",plus:"mdi-plus",minus:"mdi-minus",calendar:"mdi-calendar",treeviewCollapse:"mdi-menu-down",treeviewExpand:"mdi-menu-right",eyeDropper:"mdi-eyedropper",upload:"mdi-cloud-upload",color:"mdi-palette"},kme={component:n=>rv(YX,{...n,class:"mdi"})},aa=[String,Function,Object,Array],E9=Symbol.for("vuetify:icons"),DL=Kn({icon:{type:aa},tag:{type:[String,Object,Function],required:!0}},"icon"),vq=Xo()({name:"VComponentIcon",props:DL(),setup(n,r){let{slots:l}=r;return()=>{const d=n.icon;return Ne(n.tag,null,{default:()=>{var h;return[n.icon?Ne(d,null,null):(h=l.default)==null?void 0:h.call(l)]}})}}}),GX=Zk({name:"VSvgIcon",inheritAttrs:!1,props:DL(),setup(n,r){let{attrs:l}=r;return()=>Ne(n.tag,fs(l,{style:null}),{default:()=>[De("svg",{class:"v-icon__svg",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",role:"img","aria-hidden":"true"},[Array.isArray(n.icon)?n.icon.map(d=>Array.isArray(d)?De("path",{d:d[0],"fill-opacity":d[1]},null):De("path",{d},null)):De("path",{d:n.icon},null)])]})}});Zk({name:"VLigatureIcon",props:DL(),setup(n){return()=>Ne(n.tag,null,{default:()=>[n.icon]})}});const YX=Zk({name:"VClassIcon",props:DL(),setup(n){return()=>Ne(n.tag,{class:zo(n.icon)},null)}});function Eme(){return{svg:{component:GX},class:{component:YX}}}function Ame(n){const r=Eme(),l=(n==null?void 0:n.defaultSet)??"mdi";return l==="mdi"&&!r.mdi&&(r.mdi=kme),Ad({defaultSet:l,sets:r,aliases:{..._me,vuetify:["M8.2241 14.2009L12 21L22 3H14.4459L8.2241 14.2009Z",["M7.26303 12.4733L7.00113 12L2 3H12.5261C12.5261 3 12.5261 3 12.5261 3L7.26303 12.4733Z",.6]],"vuetify-outline":"svg:M7.26 12.47 12.53 3H2L7.26 12.47ZM14.45 3 8.22 14.2 12 21 22 3H14.45ZM18.6 5 12 16.88 10.51 14.2 15.62 5ZM7.26 8.35 5.4 5H9.13L7.26 8.35Z","vuetify-play":["m6.376 13.184-4.11-7.192C1.505 4.66 2.467 3 4.003 3h8.532l-.953 1.576-.006.01-.396.677c-.429.732-.214 1.507.194 2.015.404.503 1.092.878 1.869.806a3.72 3.72 0 0 1 1.005.022c.276.053.434.143.523.237.138.146.38.635-.25 2.09-.893 1.63-1.553 1.722-1.847 1.677-.213-.033-.468-.158-.756-.406a4.95 4.95 0 0 1-.8-.927c-.39-.564-1.04-.84-1.66-.846-.625-.006-1.316.27-1.693.921l-.478.826-.911 1.506Z",["M9.093 11.552c.046-.079.144-.15.32-.148a.53.53 0 0 1 .43.207c.285.414.636.847 1.046 1.2.405.35.914.662 1.516.754 1.334.205 2.502-.698 3.48-2.495l.014-.028.013-.03c.687-1.574.774-2.852-.005-3.675-.37-.391-.861-.586-1.333-.676a5.243 5.243 0 0 0-1.447-.044c-.173.016-.393-.073-.54-.257-.145-.18-.127-.316-.082-.392l.393-.672L14.287 3h5.71c1.536 0 2.499 1.659 1.737 2.992l-7.997 13.996c-.768 1.344-2.706 1.344-3.473 0l-3.037-5.314 1.377-2.278.004-.006.004-.007.481-.831Z",.6]]}},n)}const Tme=n=>{const r=hi(E9);if(!r)throw new Error("Missing Vuetify Icons provide!");return{iconData:Mt(()=>{var A;const d=t1(n);if(!d)return{component:vq};let h=d;if(typeof h=="string"&&(h=h.trim(),h.startsWith("$")&&(h=(A=r.aliases)==null?void 0:A[h.slice(1)])),Array.isArray(h))return{component:GX,icon:h};if(typeof h!="string")return{component:vq,icon:h};const g=Object.keys(r.sets).find(R=>typeof h=="string"&&h.startsWith(`${R}:`)),y=g?h.slice(g.length+1):h;return{component:r.sets[g??r.defaultSet].component,icon:y}})}},WO=Symbol.for("vuetify:theme"),Gl=Kn({theme:String},"theme");function yq(){return{defaultTheme:"light",variations:{colors:[],lighten:0,darken:0},themes:{light:{dark:!1,colors:{background:"#FFFFFF",surface:"#FFFFFF","surface-bright":"#FFFFFF","surface-light":"#EEEEEE","surface-variant":"#424242","on-surface-variant":"#EEEEEE",primary:"#1867C0","primary-darken-1":"#1F5592",secondary:"#48A9A6","secondary-darken-1":"#018786",error:"#B00020",info:"#2196F3",success:"#4CAF50",warning:"#FB8C00"},variables:{"border-color":"#000000","border-opacity":.12,"high-emphasis-opacity":.87,"medium-emphasis-opacity":.6,"disabled-opacity":.38,"idle-opacity":.04,"hover-opacity":.04,"focus-opacity":.12,"selected-opacity":.08,"activated-opacity":.12,"pressed-opacity":.12,"dragged-opacity":.08,"theme-kbd":"#212529","theme-on-kbd":"#FFFFFF","theme-code":"#F5F5F5","theme-on-code":"#000000"}},dark:{dark:!0,colors:{background:"#121212",surface:"#212121","surface-bright":"#ccbfd6","surface-light":"#424242","surface-variant":"#c8c8c8","on-surface-variant":"#000000",primary:"#2196F3","primary-darken-1":"#277CC1",secondary:"#54B6B2","secondary-darken-1":"#48A9A6",error:"#CF6679",info:"#2196F3",success:"#4CAF50",warning:"#FB8C00"},variables:{"border-color":"#FFFFFF","border-opacity":.12,"high-emphasis-opacity":1,"medium-emphasis-opacity":.7,"disabled-opacity":.5,"idle-opacity":.1,"hover-opacity":.04,"focus-opacity":.12,"selected-opacity":.08,"activated-opacity":.12,"pressed-opacity":.16,"dragged-opacity":.08,"theme-kbd":"#212529","theme-on-kbd":"#FFFFFF","theme-code":"#343434","theme-on-code":"#CCCCCC"}}},stylesheetId:"vuetify-theme-stylesheet"}}function Ome(){var d,h;let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:yq();const r=yq();if(!n)return{...r,isDisabled:!0};const l={};for(const[g,y]of Object.entries(n.themes??{})){const w=y.dark||g==="dark"?(d=r.themes)==null?void 0:d.dark:(h=r.themes)==null?void 0:h.light;l[g]=Ad(w,y)}return Ad(r,{...n,themes:l})}function eC(n,r,l,d){n.push(`${Ime(r,d)} {
`,...l.map(h=>`  ${h};
`),`}
`)}function xq(n){const r=n.dark?2:1,l=n.dark?1:2,d=[];for(const[h,g]of Object.entries(n.colors)){const y=nv(g);d.push(`--v-theme-${h}: ${y.r},${y.g},${y.b}`),h.startsWith("on-")||d.push(`--v-theme-${h}-overlay-multiplier: ${yfe(g)>.18?r:l}`)}for(const[h,g]of Object.entries(n.variables)){const y=typeof g=="string"&&g.startsWith("#")?nv(g):void 0,w=y?`${y.r}, ${y.g}, ${y.b}`:void 0;d.push(`--v-${h}: ${w??g}`)}return d}function Rme(n,r,l){const d={};if(l)for(const h of["lighten","darken"]){const g=h==="lighten"?bfe:vfe;for(const y of CX(l[h],1))d[`${n}-${h}-${y}`]=gfe(g(nv(r),y))}return d}function Dme(n,r){if(!r)return{};let l={};for(const d of r.colors){const h=n[d];h&&(l={...l,...Rme(d,h,r)})}return l}function Nme(n){const r={};for(const l of Object.keys(n)){if(l.startsWith("on-")||n[`on-${l}`])continue;const d=`on-${l}`,h=nv(n[l]);r[d]=LX(h)}return r}function Ime(n,r){if(!r)return n;const l=`:where(${r})`;return n===":root"?l:`${l} ${n}`}function Pme(n,r){n&&(n.innerHTML=r)}function Bme(n,r){if(!ka)return null;let l=document.getElementById(n);return l||(l=document.createElement("style"),l.id=n,l.type="text/css",r&&l.setAttribute("nonce",r),document.head.appendChild(l)),l}function Mme(n){const r=Ome(n),l=Oo(r.defaultTheme),d=go(r.themes),h=Mt(()=>{const R={};for(const[O,N]of Object.entries(d.value)){const V={...N.colors,...Dme(N.colors,r.variations)};R[O]={...N,colors:{...V,...Nme(V)}}}return R}),g=Rn(()=>h.value[l.value]),y=Mt(()=>{var z;const R=[];(z=g.value)!=null&&z.dark&&eC(R,":root",["color-scheme: dark"],r.scope),eC(R,":root",xq(g.value),r.scope);for(const[W,X]of Object.entries(h.value))eC(R,`.v-theme--${W}`,[`color-scheme: ${X.dark?"dark":"normal"}`,...xq(X)],r.scope);const O=[],N=[],V=new Set(Object.values(h.value).flatMap(W=>Object.keys(W.colors)));for(const W of V)W.startsWith("on-")?eC(N,`.${W}`,[`color: rgb(var(--v-theme-${W})) !important`],r.scope):(eC(O,`.bg-${W}`,[`--v-theme-overlay-multiplier: var(--v-theme-${W}-overlay-multiplier)`,`background-color: rgb(var(--v-theme-${W})) !important`,`color: rgb(var(--v-theme-on-${W})) !important`],r.scope),eC(N,`.text-${W}`,[`color: rgb(var(--v-theme-${W})) !important`],r.scope),eC(N,`.border-${W}`,[`--v-border-color: var(--v-theme-${W})`],r.scope));return R.push(...O,...N),R.map((W,X)=>X===0?W:`    ${W}`).join("")});function w(R){if(r.isDisabled)return;const O=R._context.provides.usehead;if(O){let z=function(){return{style:[{textContent:y.value,id:r.stylesheetId,nonce:r.cspNonce||!1}]}};var N=z;if(O.push){const W=O.push(z);ka&&Wn(y,()=>{W.patch(z)})}else ka?(O.addHeadObjs(Rn(z)),Ef(()=>O.updateDOM())):O.addHeadObjs(z())}else{let z=function(){Pme(Bme(r.stylesheetId,r.cspNonce),y.value)};var V=z;ka?Wn(y,z,{immediate:!0}):z()}}const A=Rn(()=>r.isDisabled?void 0:`v-theme--${l.value}`);return{install:w,isDisabled:r.isDisabled,name:l,themes:d,current:g,computedThemes:h,themeClasses:A,styles:y,global:{name:l,current:g}}}function Uc(n){dc("provideTheme");const r=hi(WO,null);if(!r)throw new Error("Could not find Vuetify theme injection");const l=Rn(()=>n.theme??r.name.value),d=Rn(()=>r.themes.value[l.value]),h=Rn(()=>r.isDisabled?void 0:`v-theme--${l.value}`),g={...r,name:l,current:d,themeClasses:h};return Af(WO,g),g}function Lme(){dc("useTheme");const n=hi(WO,null);if(!n)throw new Error("Could not find Vuetify theme injection");return n}function Fk(n){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"content";const l=b9(),d=go();if(ka){const h=new ResizeObserver(g=>{g.length&&(r==="content"?d.value=g[0].contentRect:d.value=g[0].target.getBoundingClientRect())});zc(()=>{h.disconnect()}),Wn(()=>l.el,(g,y)=>{y&&(h.unobserve(y),d.value=void 0),g&&h.observe(g)},{flush:"post"})}return{resizeRef:l,contentRect:Wk(d)}}const oL=Symbol.for("vuetify:layout"),XX=Symbol.for("vuetify:layout-item"),wq=1e3,Fme=Kn({overlaps:{type:Array,default:()=>[]},fullHeight:Boolean},"layout"),JX=Kn({name:{type:String},order:{type:[Number,String],default:0},absolute:Boolean},"layout-item");function $me(){const n=hi(oL);if(!n)throw new Error("[Vuetify] Could not find injected layout");return{getLayoutItem:n.getLayoutItem,mainRect:n.mainRect,mainStyles:n.mainStyles}}function QX(n){const r=hi(oL);if(!r)throw new Error("[Vuetify] Could not find injected layout");const l=n.id??`layout-item-${gx()}`,d=dc("useLayoutItem");Af(XX,{id:l});const h=Oo(!1);SL(()=>h.value=!0),uU(()=>h.value=!1);const{layoutItemStyles:g,layoutItemScrimStyles:y}=r.register(d,{...n,active:Mt(()=>h.value?!1:n.active.value),id:l});return zc(()=>r.unregister(l)),{layoutItemStyles:g,layoutRect:r.layoutRect,layoutItemScrimStyles:y}}const Vme=(n,r,l,d)=>{let h={top:0,left:0,right:0,bottom:0};const g=[{id:"",layer:{...h}}];for(const y of n){const w=r.get(y),A=l.get(y),R=d.get(y);if(!w||!A||!R)continue;const O={...h,[w.value]:parseInt(h[w.value],10)+(R.value?parseInt(A.value,10):0)};g.push({id:y,layer:O}),h=O}return g};function Hme(n){const r=hi(oL,null),l=Mt(()=>r?r.rootZIndex.value-100:wq),d=go([]),h=hu(new Map),g=hu(new Map),y=hu(new Map),w=hu(new Map),A=hu(new Map),{resizeRef:R,contentRect:O}=Fk(),N=Mt(()=>{const ne=new Map,be=n.overlaps??[];for(const Fe of be.filter(Ze=>Ze.includes(":"))){const[Ze,rt]=Fe.split(":");if(!d.value.includes(Ze)||!d.value.includes(rt))continue;const Oe=h.get(Ze),Ve=h.get(rt),P=g.get(Ze),wt=g.get(rt);!Oe||!Ve||!P||!wt||(ne.set(rt,{position:Oe.value,amount:parseInt(P.value,10)}),ne.set(Ze,{position:Ve.value,amount:-parseInt(wt.value,10)}))}return ne}),V=Mt(()=>{const ne=[...new Set([...y.values()].map(Fe=>Fe.value))].sort((Fe,Ze)=>Fe-Ze),be=[];for(const Fe of ne){const Ze=d.value.filter(rt=>{var Oe;return((Oe=y.get(rt))==null?void 0:Oe.value)===Fe});be.push(...Ze)}return Vme(be,h,g,w)}),z=Mt(()=>!Array.from(A.values()).some(ne=>ne.value)),W=Mt(()=>V.value[V.value.length-1].layer),X=Rn(()=>({"--v-layout-left":Os(W.value.left),"--v-layout-right":Os(W.value.right),"--v-layout-top":Os(W.value.top),"--v-layout-bottom":Os(W.value.bottom),...z.value?void 0:{transition:"none"}})),oe=Mt(()=>V.value.slice(1).map((ne,be)=>{let{id:Fe}=ne;const{layer:Ze}=V.value[be],rt=g.get(Fe),Oe=h.get(Fe);return{id:Fe,...Ze,size:Number(rt.value),position:Oe.value}})),j=ne=>oe.value.find(be=>be.id===ne),fe=dc("createLayout"),le=Oo(!1);bu(()=>{le.value=!0}),Af(oL,{register:(ne,be)=>{let{id:Fe,order:Ze,position:rt,layoutSize:Oe,elementSize:Ve,active:P,disableTransitions:wt,absolute:Nt}=be;y.set(Fe,Ze),h.set(Fe,rt),g.set(Fe,Oe),w.set(Fe,P),wt&&A.set(Fe,wt);const rn=Tk(XX,fe==null?void 0:fe.vnode).indexOf(ne);rn>-1?d.value.splice(rn,0,Fe):d.value.push(Fe);const ct=Mt(()=>oe.value.findIndex($e=>$e.id===Fe)),Tn=Mt(()=>l.value+V.value.length*2-ct.value*2),Tt=Mt(()=>{const $e=rt.value==="left"||rt.value==="right",ht=rt.value==="right",Dn=rt.value==="bottom",mn=Ve.value??Oe.value,Fn=mn===0?"%":"px",Gt={[rt.value]:0,zIndex:Tn.value,transform:`translate${$e?"X":"Y"}(${(P.value?0:-(mn===0?100:mn))*(ht||Dn?-1:1)}${Fn})`,position:Nt.value||l.value!==wq?"absolute":"fixed",...z.value?void 0:{transition:"none"}};if(!le.value)return Gt;const te=oe.value[ct.value];if(!te)throw new Error(`[Vuetify] Could not find layout item "${Fe}"`);const So=N.value.get(Fe);return So&&(te[So.position]+=So.amount),{...Gt,height:$e?`calc(100% - ${te.top}px - ${te.bottom}px)`:Ve.value?`${Ve.value}px`:void 0,left:ht?void 0:`${te.left}px`,right:ht?`${te.right}px`:void 0,top:rt.value!=="bottom"?`${te.top}px`:void 0,bottom:rt.value!=="top"?`${te.bottom}px`:void 0,width:$e?Ve.value?`${Ve.value}px`:void 0:`calc(100% - ${te.left}px - ${te.right}px)`}}),ot=Mt(()=>({zIndex:Tn.value-1}));return{layoutItemStyles:Tt,layoutItemScrimStyles:ot,zIndex:Tn}},unregister:ne=>{y.delete(ne),h.delete(ne),g.delete(ne),w.delete(ne),A.delete(ne),d.value=d.value.filter(be=>be!==ne)},mainRect:W,mainStyles:X,getLayoutItem:j,items:oe,layoutRect:O,rootZIndex:l});const q=Rn(()=>["v-layout",{"v-layout--full-height":n.fullHeight}]),de=Rn(()=>({zIndex:r?l.value:void 0,position:r?"relative":void 0,overflow:r?"hidden":void 0}));return{layoutClasses:q,layoutStyles:de,getLayoutItem:j,items:oe,layoutRect:O,layoutRef:R}}function eJ(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{blueprint:r,...l}=n,d=Ad(r,l),{aliases:h={},components:g={},directives:y={}}=d,w=ix();return w.run(()=>{const A=wfe(d.defaults),R=yme(d.display,d.ssr),O=Mme(d.theme),N=Ame(d.icons),V=Dfe(d.locale),z=pme(d.date,V),W=wme(d.goTo,V);function X(j){for(const le in y)j.directive(le,y[le]);for(const le in g)j.component(le,g[le]);for(const le in h)j.component(le,Zk({...h[le],name:le,aliasName:h[le].name}));const fe=ix();if(fe.run(()=>{O.install(j)}),j.onUnmount(()=>fe.stop()),j.provide(Lk,A),j.provide(k9,R),j.provide(WO,O),j.provide(E9,N),j.provide(tL,V),j.provide(hme,z.options),j.provide(fq,z.instance),j.provide(KX,W),ka&&d.ssr)if(j.$nuxt)j.$nuxt.hook("app:suspense:resolve",()=>{R.update()});else{const{mount:le}=j;j.mount=function(){const q=le(...arguments);return gr(()=>R.update()),j.mount=le,q}}j.mixin({computed:{$vuetify(){return hu({defaults:vk.call(this,Lk),display:vk.call(this,k9),theme:vk.call(this,WO),icons:vk.call(this,E9),locale:vk.call(this,tL),date:vk.call(this,fq)})}}})}function oe(){w.stop()}return{install:X,unmount:oe,defaults:A,display:R,theme:O,icons:N,locale:V,date:z,goTo:W}})}const zme="3.8.8";eJ.version=zme;function vk(n){var d,h;const r=this.$,l=((d=r.parent)==null?void 0:d.provides)??((h=r.vnode.appContext)==null?void 0:h.provides);if(l&&n in l)return l[n]}const Ume=eJ({theme:{themes:{light:{colors:{primary:"#1867C0",secondary:"#5CBBF6"}}}}});/*!
 * pinia v2.3.1
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */let tJ;const NL=n=>tJ=n,nJ=Symbol();function A9(n){return n&&typeof n=="object"&&Object.prototype.toString.call(n)==="[object Object]"&&typeof n.toJSON!="function"}var PO;(function(n){n.direct="direct",n.patchObject="patch object",n.patchFunction="patch function"})(PO||(PO={}));function Wme(){const n=ix(!0),r=n.run(()=>go({}));let l=[],d=[];const h=iU({install(g){NL(h),h._a=g,g.provide(nJ,h),g.config.globalProperties.$pinia=h,d.forEach(y=>l.push(y)),d=[]},use(g){return this._a?l.push(g):d.push(g),this},_p:l,_a:null,_e:n,_s:new Map,state:r});return h}const oJ=()=>{};function Cq(n,r,l,d=oJ){n.push(r);const h=()=>{const g=n.indexOf(r);g>-1&&(n.splice(g,1),d())};return!l&&dY()&&Gu(h),h}function yk(n,...r){n.slice().forEach(l=>{l(...r)})}const jme=n=>n(),Sq=Symbol(),Ez=Symbol();function T9(n,r){n instanceof Map&&r instanceof Map?r.forEach((l,d)=>n.set(d,l)):n instanceof Set&&r instanceof Set&&r.forEach(n.add,n);for(const l in r){if(!r.hasOwnProperty(l))continue;const d=r[l],h=n[l];A9(h)&&A9(d)&&n.hasOwnProperty(l)&&!Di(d)&&!rx(d)?n[l]=T9(h,d):n[l]=d}return n}const Zme=Symbol();function Kme(n){return!A9(n)||!n.hasOwnProperty(Zme)}const{assign:Qy}=Object;function qme(n){return!!(Di(n)&&n.effect)}function Gme(n,r,l,d){const{state:h,actions:g,getters:y}=r,w=l.state.value[n];let A;function R(){w||(l.state.value[n]=h?h():{});const O=xL(l.state.value[n]);return Qy(O,g,Object.keys(y||{}).reduce((N,V)=>(N[V]=iU(Mt(()=>{NL(l);const z=l._s.get(n);return y[V].call(z,z)})),N),{}))}return A=sJ(n,R,r,l,d,!0),A}function sJ(n,r,l={},d,h,g){let y;const w=Qy({actions:{}},l),A={deep:!0};let R,O,N=[],V=[],z;const W=d.state.value[n];!g&&!W&&(d.state.value[n]={}),go({});let X;function oe(Fe){let Ze;R=O=!1,typeof Fe=="function"?(Fe(d.state.value[n]),Ze={type:PO.patchFunction,storeId:n,events:z}):(T9(d.state.value[n],Fe),Ze={type:PO.patchObject,payload:Fe,storeId:n,events:z});const rt=X=Symbol();gr().then(()=>{X===rt&&(R=!0)}),O=!0,yk(N,Ze,d.state.value[n])}const j=g?function(){const{state:Ze}=l,rt=Ze?Ze():{};this.$patch(Oe=>{Qy(Oe,rt)})}:oJ;function fe(){y.stop(),N=[],V=[],d._s.delete(n)}const le=(Fe,Ze="")=>{if(Sq in Fe)return Fe[Ez]=Ze,Fe;const rt=function(){NL(d);const Oe=Array.from(arguments),Ve=[],P=[];function wt(rn){Ve.push(rn)}function Nt(rn){P.push(rn)}yk(V,{args:Oe,name:rt[Ez],store:de,after:wt,onError:Nt});let Kt;try{Kt=Fe.apply(this&&this.$id===n?this:de,Oe)}catch(rn){throw yk(P,rn),rn}return Kt instanceof Promise?Kt.then(rn=>(yk(Ve,rn),rn)).catch(rn=>(yk(P,rn),Promise.reject(rn))):(yk(Ve,Kt),Kt)};return rt[Sq]=!0,rt[Ez]=Ze,rt},q={_p:d,$id:n,$onAction:Cq.bind(null,V),$patch:oe,$reset:j,$subscribe(Fe,Ze={}){const rt=Cq(N,Fe,Ze.detached,()=>Oe()),Oe=y.run(()=>Wn(()=>d.state.value[n],Ve=>{(Ze.flush==="sync"?O:R)&&Fe({storeId:n,type:PO.direct,events:z},Ve)},Qy({},A,Ze)));return rt},$dispose:fe},de=hu(q);d._s.set(n,de);const be=(d._a&&d._a.runWithContext||jme)(()=>d._e.run(()=>(y=ix()).run(()=>r({action:le}))));for(const Fe in be){const Ze=be[Fe];if(Di(Ze)&&!qme(Ze)||rx(Ze))g||(W&&Kme(Ze)&&(Di(Ze)?Ze.value=W[Fe]:T9(Ze,W[Fe])),d.state.value[n][Fe]=Ze);else if(typeof Ze=="function"){const rt=le(Ze,Fe);be[Fe]=rt,w.actions[Fe]=Ze}}return Qy(de,be),Qy(ws(de),be),Object.defineProperty(de,"$state",{get:()=>d.state.value[n],set:Fe=>{oe(Ze=>{Qy(Ze,Fe)})}}),d._p.forEach(Fe=>{Qy(de,y.run(()=>Fe({store:de,app:d._a,pinia:d,options:w})))}),W&&g&&l.hydrate&&l.hydrate(de.$state,W),R=!0,O=!0,de}/*! #__NO_SIDE_EFFECTS__ */function Tf(n,r,l){let d,h;const g=typeof r=="function";typeof n=="string"?(d=n,h=g?l:r):(h=n,d=n.id);function y(w,A){const R=Eue();return w=w||(R?hi(nJ,null):null),w&&NL(w),w=tJ,w._s.has(d)||(g?sJ(d,r,h,w):Gme(d,h,w)),w._s.get(d)}return y.$id=d,y}const Yme=Wme();/*!
  * shared v11.1.5
  * (c) 2025 kazuya kawaguchi
  * Released under the MIT License.
  */const _q=typeof window<"u",rJ=(n,r=!1)=>r?Symbol.for(n):Symbol(n),Xme=(n,r,l)=>Jme({l:n,k:r,s:l}),Jme=n=>JSON.stringify(n).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029").replace(/\u0027/g,"\\u0027"),pm=n=>typeof n=="number"&&isFinite(n),sL=n=>iJ(n)==="[object RegExp]",Qme=n=>kd(n)&&Object.keys(n).length===0,Kk=Object.assign,ege=Object.create,Td=(n=null)=>ege(n);let kq;const TU=()=>kq||(kq=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:Td());function Eq(n){return n.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")}const tge=Object.prototype.hasOwnProperty;function Pp(n,r){return tge.call(n,r)}const av=Array.isArray,Kl=n=>typeof n=="function",Fr=n=>typeof n=="string",Cf=n=>typeof n=="boolean",Il=n=>n!==null&&typeof n=="object",nge=n=>Il(n)&&Kl(n.then)&&Kl(n.catch),aJ=Object.prototype.toString,iJ=n=>aJ.call(n),kd=n=>iJ(n)==="[object Object]",oge=n=>n==null?"":av(n)||kd(n)&&n.toString===aJ?JSON.stringify(n,null,2):String(n);function OU(n,r=""){return n.reduce((l,d,h)=>h===0?l+d:l+r+d,"")}function sge(n,r){typeof console<"u"&&(console.warn("[intlify] "+n),r&&console.warn(r.stack))}const gM=n=>!Il(n)||av(n);function NM(n,r){if(gM(n)||gM(r))throw new Error("Invalid value");const l=[{src:n,des:r}];for(;l.length;){const{src:d,des:h}=l.pop();Object.keys(d).forEach(g=>{g!=="__proto__"&&(Il(d[g])&&!Il(h[g])&&(h[g]=Array.isArray(d[g])?[]:Td()),gM(h[g])||gM(d[g])?h[g]=d[g]:l.push({src:d[g],des:h[g]}))})}}/*!
  * message-compiler v11.1.5
  * (c) 2025 kazuya kawaguchi
  * Released under the MIT License.
  */function rge(n,r,l){return{line:n,column:r,offset:l}}function O9(n,r,l){return{start:n,end:r}}const Wa={EXPECTED_TOKEN:1,INVALID_TOKEN_IN_PLACEHOLDER:2,UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER:3,UNKNOWN_ESCAPE_SEQUENCE:4,INVALID_UNICODE_ESCAPE_SEQUENCE:5,UNBALANCED_CLOSING_BRACE:6,UNTERMINATED_CLOSING_BRACE:7,EMPTY_PLACEHOLDER:8,NOT_ALLOW_NEST_PLACEHOLDER:9,INVALID_LINKED_FORMAT:10,MUST_HAVE_MESSAGES_IN_PLURAL:11,UNEXPECTED_EMPTY_LINKED_MODIFIER:12,UNEXPECTED_EMPTY_LINKED_KEY:13,UNEXPECTED_LEXICAL_ANALYSIS:14},age=17;function IL(n,r,l={}){const{domain:d,messages:h,args:g}=l,y=n,w=new SyntaxError(String(y));return w.code=n,r&&(w.location=r),w.domain=d,w}function ige(n){throw n}const Z0=" ",lge="\r",vf=`
`,cge="\u2028",uge="\u2029";function dge(n){const r=n;let l=0,d=1,h=1,g=0;const y=be=>r[be]===lge&&r[be+1]===vf,w=be=>r[be]===vf,A=be=>r[be]===uge,R=be=>r[be]===cge,O=be=>y(be)||w(be)||A(be)||R(be),N=()=>l,V=()=>d,z=()=>h,W=()=>g,X=be=>y(be)||A(be)||R(be)?vf:r[be],oe=()=>X(l),j=()=>X(l+g);function fe(){return g=0,O(l)&&(d++,h=0),y(l)&&l++,l++,h++,r[l]}function le(){return y(l+g)&&g++,g++,r[l+g]}function q(){l=0,d=1,h=1,g=0}function de(be=0){g=be}function ne(){const be=l+g;for(;be!==l;)fe();g=0}return{index:N,line:V,column:z,peekOffset:W,charAt:X,currentChar:oe,currentPeek:j,next:fe,peek:le,reset:q,resetPeek:de,skipToPeek:ne}}const Gy=void 0,fge=".",Aq="'",mge="tokenizer";function gge(n,r={}){const l=r.location!==!1,d=dge(n),h=()=>d.index(),g=()=>rge(d.line(),d.column(),d.index()),y=g(),w=h(),A={currentType:13,offset:w,startLoc:y,endLoc:y,lastType:13,lastOffset:w,lastStartLoc:y,lastEndLoc:y,braceNest:0,inLinked:!1,text:""},R=()=>A,{onError:O}=r;function N(_e,Be,Ye,...pt){const fn=R();if(Be.column+=Ye,Be.offset+=Ye,O){const qt=l?O9(fn.startLoc,Be):null,Nn=IL(_e,qt,{domain:mge,args:pt});O(Nn)}}function V(_e,Be,Ye){_e.endLoc=g(),_e.currentType=Be;const pt={type:Be};return l&&(pt.loc=O9(_e.startLoc,_e.endLoc)),Ye!=null&&(pt.value=Ye),pt}const z=_e=>V(_e,13);function W(_e,Be){return _e.currentChar()===Be?(_e.next(),Be):(N(Wa.EXPECTED_TOKEN,g(),0,Be),"")}function X(_e){let Be="";for(;_e.currentPeek()===Z0||_e.currentPeek()===vf;)Be+=_e.currentPeek(),_e.peek();return Be}function oe(_e){const Be=X(_e);return _e.skipToPeek(),Be}function j(_e){if(_e===Gy)return!1;const Be=_e.charCodeAt(0);return Be>=97&&Be<=122||Be>=65&&Be<=90||Be===95}function fe(_e){if(_e===Gy)return!1;const Be=_e.charCodeAt(0);return Be>=48&&Be<=57}function le(_e,Be){const{currentType:Ye}=Be;if(Ye!==2)return!1;X(_e);const pt=j(_e.currentPeek());return _e.resetPeek(),pt}function q(_e,Be){const{currentType:Ye}=Be;if(Ye!==2)return!1;X(_e);const pt=_e.currentPeek()==="-"?_e.peek():_e.currentPeek(),fn=fe(pt);return _e.resetPeek(),fn}function de(_e,Be){const{currentType:Ye}=Be;if(Ye!==2)return!1;X(_e);const pt=_e.currentPeek()===Aq;return _e.resetPeek(),pt}function ne(_e,Be){const{currentType:Ye}=Be;if(Ye!==7)return!1;X(_e);const pt=_e.currentPeek()===".";return _e.resetPeek(),pt}function be(_e,Be){const{currentType:Ye}=Be;if(Ye!==8)return!1;X(_e);const pt=j(_e.currentPeek());return _e.resetPeek(),pt}function Fe(_e,Be){const{currentType:Ye}=Be;if(!(Ye===7||Ye===11))return!1;X(_e);const pt=_e.currentPeek()===":";return _e.resetPeek(),pt}function Ze(_e,Be){const{currentType:Ye}=Be;if(Ye!==9)return!1;const pt=()=>{const qt=_e.currentPeek();return qt==="{"?j(_e.peek()):qt==="@"||qt==="|"||qt===":"||qt==="."||qt===Z0||!qt?!1:qt===vf?(_e.peek(),pt()):Oe(_e,!1)},fn=pt();return _e.resetPeek(),fn}function rt(_e){X(_e);const Be=_e.currentPeek()==="|";return _e.resetPeek(),Be}function Oe(_e,Be=!0){const Ye=(fn=!1,qt="")=>{const Nn=_e.currentPeek();return Nn==="{"||Nn==="@"||!Nn?fn:Nn==="|"?!(qt===Z0||qt===vf):Nn===Z0?(_e.peek(),Ye(!0,Z0)):Nn===vf?(_e.peek(),Ye(!0,vf)):!0},pt=Ye();return Be&&_e.resetPeek(),pt}function Ve(_e,Be){const Ye=_e.currentChar();return Ye===Gy?Gy:Be(Ye)?(_e.next(),Ye):null}function P(_e){const Be=_e.charCodeAt(0);return Be>=97&&Be<=122||Be>=65&&Be<=90||Be>=48&&Be<=57||Be===95||Be===36}function wt(_e){return Ve(_e,P)}function Nt(_e){const Be=_e.charCodeAt(0);return Be>=97&&Be<=122||Be>=65&&Be<=90||Be>=48&&Be<=57||Be===95||Be===36||Be===45}function Kt(_e){return Ve(_e,Nt)}function rn(_e){const Be=_e.charCodeAt(0);return Be>=48&&Be<=57}function ct(_e){return Ve(_e,rn)}function Tn(_e){const Be=_e.charCodeAt(0);return Be>=48&&Be<=57||Be>=65&&Be<=70||Be>=97&&Be<=102}function Tt(_e){return Ve(_e,Tn)}function ot(_e){let Be="",Ye="";for(;Be=ct(_e);)Ye+=Be;return Ye}function $e(_e){let Be="";for(;;){const Ye=_e.currentChar();if(Ye==="{"||Ye==="}"||Ye==="@"||Ye==="|"||!Ye)break;if(Ye===Z0||Ye===vf)if(Oe(_e))Be+=Ye,_e.next();else{if(rt(_e))break;Be+=Ye,_e.next()}else Be+=Ye,_e.next()}return Be}function ht(_e){oe(_e);let Be="",Ye="";for(;Be=Kt(_e);)Ye+=Be;return _e.currentChar()===Gy&&N(Wa.UNTERMINATED_CLOSING_BRACE,g(),0),Ye}function Dn(_e){oe(_e);let Be="";return _e.currentChar()==="-"?(_e.next(),Be+=`-${ot(_e)}`):Be+=ot(_e),_e.currentChar()===Gy&&N(Wa.UNTERMINATED_CLOSING_BRACE,g(),0),Be}function mn(_e){return _e!==Aq&&_e!==vf}function Fn(_e){oe(_e),W(_e,"'");let Be="",Ye="";for(;Be=Ve(_e,mn);)Be==="\\"?Ye+=Gt(_e):Ye+=Be;const pt=_e.currentChar();return pt===vf||pt===Gy?(N(Wa.UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER,g(),0),pt===vf&&(_e.next(),W(_e,"'")),Ye):(W(_e,"'"),Ye)}function Gt(_e){const Be=_e.currentChar();switch(Be){case"\\":case"'":return _e.next(),`\\${Be}`;case"u":return te(_e,Be,4);case"U":return te(_e,Be,6);default:return N(Wa.UNKNOWN_ESCAPE_SEQUENCE,g(),0,Be),""}}function te(_e,Be,Ye){W(_e,Be);let pt="";for(let fn=0;fn<Ye;fn++){const qt=Tt(_e);if(!qt){N(Wa.INVALID_UNICODE_ESCAPE_SEQUENCE,g(),0,`\\${Be}${pt}${_e.currentChar()}`);break}pt+=qt}return`\\${Be}${pt}`}function So(_e){return _e!=="{"&&_e!=="}"&&_e!==Z0&&_e!==vf}function tn(_e){oe(_e);let Be="",Ye="";for(;Be=Ve(_e,So);)Ye+=Be;return Ye}function Cn(_e){let Be="",Ye="";for(;Be=wt(_e);)Ye+=Be;return Ye}function qe(_e){const Be=Ye=>{const pt=_e.currentChar();return pt==="{"||pt==="@"||pt==="|"||pt==="("||pt===")"||!pt||pt===Z0?Ye:(Ye+=pt,_e.next(),Be(Ye))};return Be("")}function st(_e){oe(_e);const Be=W(_e,"|");return oe(_e),Be}function xe(_e,Be){let Ye=null;switch(_e.currentChar()){case"{":return Be.braceNest>=1&&N(Wa.NOT_ALLOW_NEST_PLACEHOLDER,g(),0),_e.next(),Ye=V(Be,2,"{"),oe(_e),Be.braceNest++,Ye;case"}":return Be.braceNest>0&&Be.currentType===2&&N(Wa.EMPTY_PLACEHOLDER,g(),0),_e.next(),Ye=V(Be,3,"}"),Be.braceNest--,Be.braceNest>0&&oe(_e),Be.inLinked&&Be.braceNest===0&&(Be.inLinked=!1),Ye;case"@":return Be.braceNest>0&&N(Wa.UNTERMINATED_CLOSING_BRACE,g(),0),Ye=Re(_e,Be)||z(Be),Be.braceNest=0,Ye;default:{let fn=!0,qt=!0,Nn=!0;if(rt(_e))return Be.braceNest>0&&N(Wa.UNTERMINATED_CLOSING_BRACE,g(),0),Ye=V(Be,1,st(_e)),Be.braceNest=0,Be.inLinked=!1,Ye;if(Be.braceNest>0&&(Be.currentType===4||Be.currentType===5||Be.currentType===6))return N(Wa.UNTERMINATED_CLOSING_BRACE,g(),0),Be.braceNest=0,Ue(_e,Be);if(fn=le(_e,Be))return Ye=V(Be,4,ht(_e)),oe(_e),Ye;if(qt=q(_e,Be))return Ye=V(Be,5,Dn(_e)),oe(_e),Ye;if(Nn=de(_e,Be))return Ye=V(Be,6,Fn(_e)),oe(_e),Ye;if(!fn&&!qt&&!Nn)return Ye=V(Be,12,tn(_e)),N(Wa.INVALID_TOKEN_IN_PLACEHOLDER,g(),0,Ye.value),oe(_e),Ye;break}}return Ye}function Re(_e,Be){const{currentType:Ye}=Be;let pt=null;const fn=_e.currentChar();switch((Ye===7||Ye===8||Ye===11||Ye===9)&&(fn===vf||fn===Z0)&&N(Wa.INVALID_LINKED_FORMAT,g(),0),fn){case"@":return _e.next(),pt=V(Be,7,"@"),Be.inLinked=!0,pt;case".":return oe(_e),_e.next(),V(Be,8,".");case":":return oe(_e),_e.next(),V(Be,9,":");default:return rt(_e)?(pt=V(Be,1,st(_e)),Be.braceNest=0,Be.inLinked=!1,pt):ne(_e,Be)||Fe(_e,Be)?(oe(_e),Re(_e,Be)):be(_e,Be)?(oe(_e),V(Be,11,Cn(_e))):Ze(_e,Be)?(oe(_e),fn==="{"?xe(_e,Be)||pt:V(Be,10,qe(_e))):(Ye===7&&N(Wa.INVALID_LINKED_FORMAT,g(),0),Be.braceNest=0,Be.inLinked=!1,Ue(_e,Be))}}function Ue(_e,Be){let Ye={type:13};if(Be.braceNest>0)return xe(_e,Be)||z(Be);if(Be.inLinked)return Re(_e,Be)||z(Be);switch(_e.currentChar()){case"{":return xe(_e,Be)||z(Be);case"}":return N(Wa.UNBALANCED_CLOSING_BRACE,g(),0),_e.next(),V(Be,3,"}");case"@":return Re(_e,Be)||z(Be);default:{if(rt(_e))return Ye=V(Be,1,st(_e)),Be.braceNest=0,Be.inLinked=!1,Ye;if(Oe(_e))return V(Be,0,$e(_e));break}}return Ye}function ye(){const{currentType:_e,offset:Be,startLoc:Ye,endLoc:pt}=A;return A.lastType=_e,A.lastOffset=Be,A.lastStartLoc=Ye,A.lastEndLoc=pt,A.offset=h(),A.startLoc=g(),d.currentChar()===Gy?V(A,13):Ue(d,A)}return{nextToken:ye,currentOffset:h,currentPosition:g,context:R}}const hge="parser",pge=/(?:\\\\|\\'|\\u([0-9a-fA-F]{4})|\\U([0-9a-fA-F]{6}))/g;function bge(n,r,l){switch(n){case"\\\\":return"\\";case"\\'":return"'";default:{const d=parseInt(r||l,16);return d<=55295||d>=57344?String.fromCodePoint(d):""}}}function vge(n={}){const r=n.location!==!1,{onError:l}=n;function d(j,fe,le,q,...de){const ne=j.currentPosition();if(ne.offset+=q,ne.column+=q,l){const be=r?O9(le,ne):null,Fe=IL(fe,be,{domain:hge,args:de});l(Fe)}}function h(j,fe,le){const q={type:j};return r&&(q.start=fe,q.end=fe,q.loc={start:le,end:le}),q}function g(j,fe,le,q){r&&(j.end=fe,j.loc&&(j.loc.end=le))}function y(j,fe){const le=j.context(),q=h(3,le.offset,le.startLoc);return q.value=fe,g(q,j.currentOffset(),j.currentPosition()),q}function w(j,fe){const le=j.context(),{lastOffset:q,lastStartLoc:de}=le,ne=h(5,q,de);return ne.index=parseInt(fe,10),j.nextToken(),g(ne,j.currentOffset(),j.currentPosition()),ne}function A(j,fe){const le=j.context(),{lastOffset:q,lastStartLoc:de}=le,ne=h(4,q,de);return ne.key=fe,j.nextToken(),g(ne,j.currentOffset(),j.currentPosition()),ne}function R(j,fe){const le=j.context(),{lastOffset:q,lastStartLoc:de}=le,ne=h(9,q,de);return ne.value=fe.replace(pge,bge),j.nextToken(),g(ne,j.currentOffset(),j.currentPosition()),ne}function O(j){const fe=j.nextToken(),le=j.context(),{lastOffset:q,lastStartLoc:de}=le,ne=h(8,q,de);return fe.type!==11?(d(j,Wa.UNEXPECTED_EMPTY_LINKED_MODIFIER,le.lastStartLoc,0),ne.value="",g(ne,q,de),{nextConsumeToken:fe,node:ne}):(fe.value==null&&d(j,Wa.UNEXPECTED_LEXICAL_ANALYSIS,le.lastStartLoc,0,qb(fe)),ne.value=fe.value||"",g(ne,j.currentOffset(),j.currentPosition()),{node:ne})}function N(j,fe){const le=j.context(),q=h(7,le.offset,le.startLoc);return q.value=fe,g(q,j.currentOffset(),j.currentPosition()),q}function V(j){const fe=j.context(),le=h(6,fe.offset,fe.startLoc);let q=j.nextToken();if(q.type===8){const de=O(j);le.modifier=de.node,q=de.nextConsumeToken||j.nextToken()}switch(q.type!==9&&d(j,Wa.UNEXPECTED_LEXICAL_ANALYSIS,fe.lastStartLoc,0,qb(q)),q=j.nextToken(),q.type===2&&(q=j.nextToken()),q.type){case 10:q.value==null&&d(j,Wa.UNEXPECTED_LEXICAL_ANALYSIS,fe.lastStartLoc,0,qb(q)),le.key=N(j,q.value||"");break;case 4:q.value==null&&d(j,Wa.UNEXPECTED_LEXICAL_ANALYSIS,fe.lastStartLoc,0,qb(q)),le.key=A(j,q.value||"");break;case 5:q.value==null&&d(j,Wa.UNEXPECTED_LEXICAL_ANALYSIS,fe.lastStartLoc,0,qb(q)),le.key=w(j,q.value||"");break;case 6:q.value==null&&d(j,Wa.UNEXPECTED_LEXICAL_ANALYSIS,fe.lastStartLoc,0,qb(q)),le.key=R(j,q.value||"");break;default:{d(j,Wa.UNEXPECTED_EMPTY_LINKED_KEY,fe.lastStartLoc,0);const de=j.context(),ne=h(7,de.offset,de.startLoc);return ne.value="",g(ne,de.offset,de.startLoc),le.key=ne,g(le,de.offset,de.startLoc),{nextConsumeToken:q,node:le}}}return g(le,j.currentOffset(),j.currentPosition()),{node:le}}function z(j){const fe=j.context(),le=fe.currentType===1?j.currentOffset():fe.offset,q=fe.currentType===1?fe.endLoc:fe.startLoc,de=h(2,le,q);de.items=[];let ne=null;do{const Ze=ne||j.nextToken();switch(ne=null,Ze.type){case 0:Ze.value==null&&d(j,Wa.UNEXPECTED_LEXICAL_ANALYSIS,fe.lastStartLoc,0,qb(Ze)),de.items.push(y(j,Ze.value||""));break;case 5:Ze.value==null&&d(j,Wa.UNEXPECTED_LEXICAL_ANALYSIS,fe.lastStartLoc,0,qb(Ze)),de.items.push(w(j,Ze.value||""));break;case 4:Ze.value==null&&d(j,Wa.UNEXPECTED_LEXICAL_ANALYSIS,fe.lastStartLoc,0,qb(Ze)),de.items.push(A(j,Ze.value||""));break;case 6:Ze.value==null&&d(j,Wa.UNEXPECTED_LEXICAL_ANALYSIS,fe.lastStartLoc,0,qb(Ze)),de.items.push(R(j,Ze.value||""));break;case 7:{const rt=V(j);de.items.push(rt.node),ne=rt.nextConsumeToken||null;break}}}while(fe.currentType!==13&&fe.currentType!==1);const be=fe.currentType===1?fe.lastOffset:j.currentOffset(),Fe=fe.currentType===1?fe.lastEndLoc:j.currentPosition();return g(de,be,Fe),de}function W(j,fe,le,q){const de=j.context();let ne=q.items.length===0;const be=h(1,fe,le);be.cases=[],be.cases.push(q);do{const Fe=z(j);ne||(ne=Fe.items.length===0),be.cases.push(Fe)}while(de.currentType!==13);return ne&&d(j,Wa.MUST_HAVE_MESSAGES_IN_PLURAL,le,0),g(be,j.currentOffset(),j.currentPosition()),be}function X(j){const fe=j.context(),{offset:le,startLoc:q}=fe,de=z(j);return fe.currentType===13?de:W(j,le,q,de)}function oe(j){const fe=gge(j,Kk({},n)),le=fe.context(),q=h(0,le.offset,le.startLoc);return r&&q.loc&&(q.loc.source=j),q.body=X(fe),n.onCacheKey&&(q.cacheKey=n.onCacheKey(j)),le.currentType!==13&&d(fe,Wa.UNEXPECTED_LEXICAL_ANALYSIS,le.lastStartLoc,0,j[le.offset]||""),g(q,fe.currentOffset(),fe.currentPosition()),q}return{parse:oe}}function qb(n){if(n.type===13)return"EOF";const r=(n.value||"").replace(/\r?\n/gu,"\\n");return r.length>10?r.slice(0,9)+"":r}function yge(n,r={}){const l={ast:n,helpers:new Set};return{context:()=>l,helper:g=>(l.helpers.add(g),g)}}function Tq(n,r){for(let l=0;l<n.length;l++)RU(n[l],r)}function RU(n,r){switch(n.type){case 1:Tq(n.cases,r),r.helper("plural");break;case 2:Tq(n.items,r);break;case 6:{RU(n.key,r),r.helper("linked"),r.helper("type");break}case 5:r.helper("interpolate"),r.helper("list");break;case 4:r.helper("interpolate"),r.helper("named");break}}function xge(n,r={}){const l=yge(n);l.helper("normalize"),n.body&&RU(n.body,l);const d=l.context();n.helpers=Array.from(d.helpers)}function wge(n){const r=n.body;return r.type===2?Oq(r):r.cases.forEach(l=>Oq(l)),n}function Oq(n){if(n.items.length===1){const r=n.items[0];(r.type===3||r.type===9)&&(n.static=r.value,delete r.value)}else{const r=[];for(let l=0;l<n.items.length;l++){const d=n.items[l];if(!(d.type===3||d.type===9)||d.value==null)break;r.push(d.value)}if(r.length===n.items.length){n.static=OU(r);for(let l=0;l<n.items.length;l++){const d=n.items[l];(d.type===3||d.type===9)&&delete d.value}}}}function Ak(n){switch(n.t=n.type,n.type){case 0:{const r=n;Ak(r.body),r.b=r.body,delete r.body;break}case 1:{const r=n,l=r.cases;for(let d=0;d<l.length;d++)Ak(l[d]);r.c=l,delete r.cases;break}case 2:{const r=n,l=r.items;for(let d=0;d<l.length;d++)Ak(l[d]);r.i=l,delete r.items,r.static&&(r.s=r.static,delete r.static);break}case 3:case 9:case 8:case 7:{const r=n;r.value&&(r.v=r.value,delete r.value);break}case 6:{const r=n;Ak(r.key),r.k=r.key,delete r.key,r.modifier&&(Ak(r.modifier),r.m=r.modifier,delete r.modifier);break}case 5:{const r=n;r.i=r.index,delete r.index;break}case 4:{const r=n;r.k=r.key,delete r.key;break}}delete n.type}function Cge(n,r){const{filename:l,breakLineCode:d,needIndent:h}=r,g=r.location!==!1,y={filename:l,code:"",column:1,line:1,offset:0,map:void 0,breakLineCode:d,needIndent:h,indentLevel:0};g&&n.loc&&(y.source=n.loc.source);const w=()=>y;function A(X,oe){y.code+=X}function R(X,oe=!0){const j=oe?d:"";A(h?j+"  ".repeat(X):j)}function O(X=!0){const oe=++y.indentLevel;X&&R(oe)}function N(X=!0){const oe=--y.indentLevel;X&&R(oe)}function V(){R(y.indentLevel)}return{context:w,push:A,indent:O,deindent:N,newline:V,helper:X=>`_${X}`,needIndent:()=>y.needIndent}}function Sge(n,r){const{helper:l}=n;n.push(`${l("linked")}(`),$k(n,r.key),r.modifier?(n.push(", "),$k(n,r.modifier),n.push(", _type")):n.push(", undefined, _type"),n.push(")")}function _ge(n,r){const{helper:l,needIndent:d}=n;n.push(`${l("normalize")}([`),n.indent(d());const h=r.items.length;for(let g=0;g<h&&($k(n,r.items[g]),g!==h-1);g++)n.push(", ");n.deindent(d()),n.push("])")}function kge(n,r){const{helper:l,needIndent:d}=n;if(r.cases.length>1){n.push(`${l("plural")}([`),n.indent(d());const h=r.cases.length;for(let g=0;g<h&&($k(n,r.cases[g]),g!==h-1);g++)n.push(", ");n.deindent(d()),n.push("])")}}function Ege(n,r){r.body?$k(n,r.body):n.push("null")}function $k(n,r){const{helper:l}=n;switch(r.type){case 0:Ege(n,r);break;case 1:kge(n,r);break;case 2:_ge(n,r);break;case 6:Sge(n,r);break;case 8:n.push(JSON.stringify(r.value),r);break;case 7:n.push(JSON.stringify(r.value),r);break;case 5:n.push(`${l("interpolate")}(${l("list")}(${r.index}))`,r);break;case 4:n.push(`${l("interpolate")}(${l("named")}(${JSON.stringify(r.key)}))`,r);break;case 9:n.push(JSON.stringify(r.value),r);break;case 3:n.push(JSON.stringify(r.value),r);break}}const Age=(n,r={})=>{const l=Fr(r.mode)?r.mode:"normal",d=Fr(r.filename)?r.filename:"message.intl";r.sourceMap;const h=r.breakLineCode!=null?r.breakLineCode:l==="arrow"?";":`
`,g=r.needIndent?r.needIndent:l!=="arrow",y=n.helpers||[],w=Cge(n,{filename:d,breakLineCode:h,needIndent:g});w.push(l==="normal"?"function __msg__ (ctx) {":"(ctx) => {"),w.indent(g),y.length>0&&(w.push(`const { ${OU(y.map(O=>`${O}: _${O}`),", ")} } = ctx`),w.newline()),w.push("return "),$k(w,n),w.deindent(g),w.push("}"),delete n.helpers;const{code:A,map:R}=w.context();return{ast:n,code:A,map:R?R.toJSON():void 0}};function Tge(n,r={}){const l=Kk({},r),d=!!l.jit,h=!!l.minify,g=l.optimize==null?!0:l.optimize,w=vge(l).parse(n);return d?(g&&wge(w),h&&Ak(w),{ast:w,code:""}):(xge(w,l),Age(w,l))}/*!
  * core-base v11.1.5
  * (c) 2025 kazuya kawaguchi
  * Released under the MIT License.
  */function Oge(){typeof __INTLIFY_PROD_DEVTOOLS__!="boolean"&&(TU().__INTLIFY_PROD_DEVTOOLS__=!1)}function ax(n){return Il(n)&&DU(n)===0&&(Pp(n,"b")||Pp(n,"body"))}const lJ=["b","body"];function Rge(n){return px(n,lJ)}const cJ=["c","cases"];function Dge(n){return px(n,cJ,[])}const uJ=["s","static"];function Nge(n){return px(n,uJ)}const dJ=["i","items"];function Ige(n){return px(n,dJ,[])}const fJ=["t","type"];function DU(n){return px(n,fJ)}const mJ=["v","value"];function hM(n,r){const l=px(n,mJ);if(l!=null)return l;throw jO(r)}const gJ=["m","modifier"];function Pge(n){return px(n,gJ)}const hJ=["k","key"];function Bge(n){const r=px(n,hJ);if(r)return r;throw jO(6)}function px(n,r,l){for(let d=0;d<r.length;d++){const h=r[d];if(Pp(n,h)&&n[h]!=null)return n[h]}return l}const Mge=[...lJ,...cJ,...uJ,...dJ,...hJ,...gJ,...mJ,...fJ];function jO(n){return new Error(`unhandled node type: ${n}`)}function Az(n){return l=>Lge(l,n)}function Lge(n,r){const l=Rge(r);if(l==null)throw jO(0);if(DU(l)===1){const g=Dge(l);return n.plural(g.reduce((y,w)=>[...y,Rq(n,w)],[]))}else return Rq(n,l)}function Rq(n,r){const l=Nge(r);if(l!=null)return n.type==="text"?l:n.normalize([l]);{const d=Ige(r).reduce((h,g)=>[...h,R9(n,g)],[]);return n.normalize(d)}}function R9(n,r){const l=DU(r);switch(l){case 3:return hM(r,l);case 9:return hM(r,l);case 4:{const d=r;if(Pp(d,"k")&&d.k)return n.interpolate(n.named(d.k));if(Pp(d,"key")&&d.key)return n.interpolate(n.named(d.key));throw jO(l)}case 5:{const d=r;if(Pp(d,"i")&&pm(d.i))return n.interpolate(n.list(d.i));if(Pp(d,"index")&&pm(d.index))return n.interpolate(n.list(d.index));throw jO(l)}case 6:{const d=r,h=Pge(d),g=Bge(d);return n.linked(R9(n,g),h?R9(n,h):void 0,n.type)}case 7:return hM(r,l);case 8:return hM(r,l);default:throw new Error(`unhandled node on format message part: ${l}`)}}const Fge=n=>n;let pM=Td();function $ge(n,r={}){let l=!1;const d=r.onError||ige;return r.onError=h=>{l=!0,d(h)},{...Tge(n,r),detectError:l}}function Vge(n,r){if(Fr(n)){Cf(r.warnHtmlMessage)&&r.warnHtmlMessage;const d=(r.onCacheKey||Fge)(n),h=pM[d];if(h)return h;const{ast:g,detectError:y}=$ge(n,{...r,location:!1,jit:!0}),w=Az(g);return y?w:pM[d]=w}else{const l=n.cacheKey;if(l){const d=pM[l];return d||(pM[l]=Az(n))}else return Az(n)}}let ZO=null;function Hge(n){ZO=n}function zge(n,r,l){ZO&&ZO.emit("i18n:init",{timestamp:Date.now(),i18n:n,version:r,meta:l})}const Uge=Wge("function:translate");function Wge(n){return r=>ZO&&ZO.emit(n,r)}const IM={INVALID_ARGUMENT:age,NOT_SUPPORT_LOCALE_PROMISE_VALUE:21,NOT_SUPPORT_LOCALE_ASYNC_FUNCTION:22,NOT_SUPPORT_LOCALE_TYPE:23},jge=24;function PM(n){return IL(n,null,void 0)}function Zge(n,r){return r.locale!=null?Dq(r.locale):Dq(n.locale)}let Tz;function Dq(n){if(Fr(n))return n;if(Kl(n)){if(n.resolvedOnce&&Tz!=null)return Tz;if(n.constructor.name==="Function"){const r=n();if(nge(r))throw PM(IM.NOT_SUPPORT_LOCALE_PROMISE_VALUE);return Tz=r}else throw PM(IM.NOT_SUPPORT_LOCALE_ASYNC_FUNCTION)}else throw PM(IM.NOT_SUPPORT_LOCALE_TYPE)}function Kge(n,r,l){return[...new Set([l,...av(r)?r:Il(r)?Object.keys(r):Fr(r)?[r]:[l]])]}function qge(n,r){return Il(n)?n[r]:null}const Gge="11.1.5",pJ=-1,D9="en-US",Nq=n=>`${n.charAt(0).toLocaleUpperCase()}${n.substr(1)}`;function Yge(){return{upper:(n,r)=>r==="text"&&Fr(n)?n.toUpperCase():r==="vnode"&&Il(n)&&"__v_isVNode"in n?n.children.toUpperCase():n,lower:(n,r)=>r==="text"&&Fr(n)?n.toLowerCase():r==="vnode"&&Il(n)&&"__v_isVNode"in n?n.children.toLowerCase():n,capitalize:(n,r)=>r==="text"&&Fr(n)?Nq(n):r==="vnode"&&Il(n)&&"__v_isVNode"in n?Nq(n.children):n}}let bJ;function Xge(n){bJ=n}let vJ=null;const Jge=n=>{vJ=n},Qge=()=>vJ;let yJ=null;const Iq=n=>{yJ=n},ehe=()=>yJ;let Pq=0;function the(n={}){const r=Kl(n.onWarn)?n.onWarn:sge,l=Fr(n.version)?n.version:Gge,d=Fr(n.locale)||Kl(n.locale)?n.locale:D9,h=Kl(d)?D9:d,g=av(n.fallbackLocale)||kd(n.fallbackLocale)||Fr(n.fallbackLocale)||n.fallbackLocale===!1?n.fallbackLocale:h,y=kd(n.messages)?n.messages:Oz(h),w=kd(n.datetimeFormats)?n.datetimeFormats:Oz(h),A=kd(n.numberFormats)?n.numberFormats:Oz(h),R=Kk(Td(),n.modifiers,Yge()),O=n.pluralRules||Td(),N=Kl(n.missing)?n.missing:null,V=Cf(n.missingWarn)||sL(n.missingWarn)?n.missingWarn:!0,z=Cf(n.fallbackWarn)||sL(n.fallbackWarn)?n.fallbackWarn:!0,W=!!n.fallbackFormat,X=!!n.unresolving,oe=Kl(n.postTranslation)?n.postTranslation:null,j=kd(n.processor)?n.processor:null,fe=Cf(n.warnHtmlMessage)?n.warnHtmlMessage:!0,le=!!n.escapeParameter,q=Kl(n.messageCompiler)?n.messageCompiler:bJ,de=Kl(n.messageResolver)?n.messageResolver:qge,ne=Kl(n.localeFallbacker)?n.localeFallbacker:Kge,be=Il(n.fallbackContext)?n.fallbackContext:void 0,Fe=n,Ze=Il(Fe.__datetimeFormatters)?Fe.__datetimeFormatters:new Map,rt=Il(Fe.__numberFormatters)?Fe.__numberFormatters:new Map,Oe=Il(Fe.__meta)?Fe.__meta:{};Pq++;const Ve={version:l,cid:Pq,locale:d,fallbackLocale:g,messages:y,modifiers:R,pluralRules:O,missing:N,missingWarn:V,fallbackWarn:z,fallbackFormat:W,unresolving:X,postTranslation:oe,processor:j,warnHtmlMessage:fe,escapeParameter:le,messageCompiler:q,messageResolver:de,localeFallbacker:ne,fallbackContext:be,onWarn:r,__meta:Oe};return Ve.datetimeFormats=w,Ve.numberFormats=A,Ve.__datetimeFormatters=Ze,Ve.__numberFormatters=rt,__INTLIFY_PROD_DEVTOOLS__&&zge(Ve,l,Oe),Ve}const Oz=n=>({[n]:Td()});function nhe(n,r,l,d,h){const{missing:g,onWarn:y}=n;if(g!==null){const w=g(n,l,r,h);return Fr(w)?w:r}else return r}function CO(n,r,l){const d=n;d.__localeChainCache=new Map,n.localeFallbacker(n,l,r)}function ohe(n,r){return n===r?!1:n.split("-")[0]===r.split("-")[0]}function she(n,r){const l=r.indexOf(n);if(l===-1)return!1;for(let d=l+1;d<r.length;d++)if(ohe(n,r[d]))return!0;return!1}const rhe=n=>n,ahe=n=>"",ihe="text",lhe=n=>n.length===0?"":OU(n),che=oge;function Bq(n,r){return n=Math.abs(n),r===2?n?n>1?1:0:1:n?Math.min(n,2):0}function uhe(n){const r=pm(n.pluralIndex)?n.pluralIndex:-1;return n.named&&(pm(n.named.count)||pm(n.named.n))?pm(n.named.count)?n.named.count:pm(n.named.n)?n.named.n:r:r}function dhe(n,r){r.count||(r.count=n),r.n||(r.n=n)}function fhe(n={}){const r=n.locale,l=uhe(n),d=Il(n.pluralRules)&&Fr(r)&&Kl(n.pluralRules[r])?n.pluralRules[r]:Bq,h=Il(n.pluralRules)&&Fr(r)&&Kl(n.pluralRules[r])?Bq:void 0,g=j=>j[d(l,j.length,h)],y=n.list||[],w=j=>y[j],A=n.named||Td();pm(n.pluralIndex)&&dhe(l,A);const R=j=>A[j];function O(j,fe){const le=Kl(n.messages)?n.messages(j,!!fe):Il(n.messages)?n.messages[j]:!1;return le||(n.parent?n.parent.message(j):ahe)}const N=j=>n.modifiers?n.modifiers[j]:rhe,V=kd(n.processor)&&Kl(n.processor.normalize)?n.processor.normalize:lhe,z=kd(n.processor)&&Kl(n.processor.interpolate)?n.processor.interpolate:che,W=kd(n.processor)&&Fr(n.processor.type)?n.processor.type:ihe,oe={list:w,named:R,plural:g,linked:(j,...fe)=>{const[le,q]=fe;let de="text",ne="";fe.length===1?Il(le)?(ne=le.modifier||ne,de=le.type||de):Fr(le)&&(ne=le||ne):fe.length===2&&(Fr(le)&&(ne=le||ne),Fr(q)&&(de=q||de));const be=O(j,!0)(oe),Fe=de==="vnode"&&av(be)&&ne?be[0]:be;return ne?N(ne)(Fe,de):Fe},message:O,type:W,interpolate:z,normalize:V,values:Kk(Td(),y,A)};return oe}const Mq=()=>"",Np=n=>Kl(n);function mhe(n,...r){const{fallbackFormat:l,postTranslation:d,unresolving:h,messageCompiler:g,fallbackLocale:y,messages:w}=n,[A,R]=CJ(...r),O=Cf(R.missingWarn)?R.missingWarn:n.missingWarn,N=Cf(R.fallbackWarn)?R.fallbackWarn:n.fallbackWarn,V=Cf(R.escapeParameter)?R.escapeParameter:n.escapeParameter,z=!!R.resolvedMessage,W=Fr(R.default)||Cf(R.default)?Cf(R.default)?g?A:()=>A:R.default:l?g?A:()=>A:null,X=l||W!=null&&(Fr(W)||Kl(W)),oe=Zge(n,R);V&&ghe(R);let[j,fe,le]=z?[A,oe,w[oe]||Td()]:xJ(n,A,oe,y,N,O),q=j,de=A;if(!z&&!(Fr(q)||ax(q)||Np(q))&&X&&(q=W,de=q),!z&&(!(Fr(q)||ax(q)||Np(q))||!Fr(fe)))return h?pJ:A;let ne=!1;const be=()=>{ne=!0},Fe=Np(q)?q:wJ(n,A,fe,q,de,be);if(ne)return q;const Ze=bhe(n,fe,le,R),rt=fhe(Ze),Oe=hhe(n,Fe,rt),Ve=d?d(Oe,A):Oe;if(__INTLIFY_PROD_DEVTOOLS__){const P={timestamp:Date.now(),key:Fr(A)?A:Np(q)?q.key:"",locale:fe||(Np(q)?q.locale:""),format:Fr(q)?q:Np(q)?q.source:"",message:Ve};P.meta=Kk({},n.__meta,Qge()||{}),Uge(P)}return Ve}function ghe(n){av(n.list)?n.list=n.list.map(r=>Fr(r)?Eq(r):r):Il(n.named)&&Object.keys(n.named).forEach(r=>{Fr(n.named[r])&&(n.named[r]=Eq(n.named[r]))})}function xJ(n,r,l,d,h,g){const{messages:y,onWarn:w,messageResolver:A,localeFallbacker:R}=n,O=R(n,d,l);let N=Td(),V,z=null;const W="translate";for(let X=0;X<O.length&&(V=O[X],N=y[V]||Td(),(z=A(N,r))===null&&(z=N[r]),!(Fr(z)||ax(z)||Np(z)));X++)if(!she(V,O)){const oe=nhe(n,r,V,g,W);oe!==r&&(z=oe)}return[z,V,N]}function wJ(n,r,l,d,h,g){const{messageCompiler:y,warnHtmlMessage:w}=n;if(Np(d)){const R=d;return R.locale=R.locale||l,R.key=R.key||r,R}if(y==null){const R=()=>d;return R.locale=l,R.key=r,R}const A=y(d,phe(n,l,h,d,w,g));return A.locale=l,A.key=r,A.source=d,A}function hhe(n,r,l){return r(l)}function CJ(...n){const[r,l,d]=n,h=Td();if(!Fr(r)&&!pm(r)&&!Np(r)&&!ax(r))throw PM(IM.INVALID_ARGUMENT);const g=pm(r)?String(r):(Np(r),r);return pm(l)?h.plural=l:Fr(l)?h.default=l:kd(l)&&!Qme(l)?h.named=l:av(l)&&(h.list=l),pm(d)?h.plural=d:Fr(d)?h.default=d:kd(d)&&Kk(h,d),[g,h]}function phe(n,r,l,d,h,g){return{locale:r,key:l,warnHtmlMessage:h,onError:y=>{throw g&&g(y),y},onCacheKey:y=>Xme(r,l,y)}}function bhe(n,r,l,d){const{modifiers:h,pluralRules:g,messageResolver:y,fallbackLocale:w,fallbackWarn:A,missingWarn:R,fallbackContext:O}=n,V={locale:r,modifiers:h,pluralRules:g,messages:(z,W)=>{let X=y(l,z);if(X==null&&(O||W)){const[,,oe]=xJ(O||n,z,r,w,A,R);X=y(oe,z)}if(Fr(X)||ax(X)){let oe=!1;const fe=wJ(n,z,r,X,z,()=>{oe=!0});return oe?Mq:fe}else return Np(X)?X:Mq}};return n.processor&&(V.processor=n.processor),d.list&&(V.list=d.list),d.named&&(V.named=d.named),pm(d.plural)&&(V.pluralIndex=d.plural),V}Oge();/*!
  * petite-vue-i18n v11.1.5
  * (c) 2025 kazuya kawaguchi
  * Released under the MIT License.
  */const vhe="11.1.5";function yhe(){typeof __INTLIFY_PROD_DEVTOOLS__!="boolean"&&(TU().__INTLIFY_PROD_DEVTOOLS__=!1)}const rL={UNEXPECTED_RETURN_TYPE:jge,UNEXPECTED_ERROR:32};function aL(n,...r){return IL(n,null,void 0)}const xhe=rJ("__setPluralRules");function KO(n){if(!Il(n)||ax(n))return n;for(const r in n)if(Pp(n,r))if(!r.includes("."))Il(n[r])&&KO(n[r]);else{const l=r.split("."),d=l.length-1;let h=n,g=!1;for(let y=0;y<d;y++){if(l[y]==="__proto__")throw new Error(`unsafe key: ${l[y]}`);if(l[y]in h||(h[l[y]]=Td()),!Il(h[l[y]])){g=!0;break}h=h[l[y]]}if(g||(ax(h)?Mge.includes(l[d])||delete n[r]:(h[l[d]]=n[r],delete n[r])),!ax(h)){const y=h[l[d]];Il(y)&&KO(y)}}return n}function whe(n,r){const{messages:l,__i18n:d,messageResolver:h,flatJson:g}=r,y=kd(l)?l:av(d)?Td():{[n]:Td()};if(av(d)&&d.forEach(w=>{if("locale"in w&&"resource"in w){const{locale:A,resource:R}=w;A?(y[A]=y[A]||Td(),NM(R,y[A])):NM(R,y)}else Fr(w)&&NM(JSON.parse(w),y)}),h==null&&g)for(const w in y)Pp(y,w)&&KO(y[w]);return y}function Che(n){return n.type}const Lq="__INTLIFY_META__";let Fq=0;function $q(n){return(r,l,d,h)=>n(l,d,jk()||void 0,h)}const She=()=>{const n=jk();let r=null;return n&&(r=Che(n)[Lq])?{[Lq]:r}:null};function _he(n={}){const{__root:r,__injectWithOption:l}=n,d=r===void 0,h=n.flatJson,g=_q?go:Oo;let y=Cf(n.inheritLocale)?n.inheritLocale:!0;const w=g(r&&y?r.locale.value:Fr(n.locale)?n.locale:D9),A=g(r&&y?r.fallbackLocale.value:Fr(n.fallbackLocale)||av(n.fallbackLocale)||kd(n.fallbackLocale)||n.fallbackLocale===!1?n.fallbackLocale:w.value),R=g(whe(w.value,n));let O=r?r.missingWarn:Cf(n.missingWarn)||sL(n.missingWarn)?n.missingWarn:!0,N=r?r.fallbackWarn:Cf(n.fallbackWarn)||sL(n.fallbackWarn)?n.fallbackWarn:!0,V=r?r.fallbackRoot:Cf(n.fallbackRoot)?n.fallbackRoot:!0,z=!!n.fallbackFormat,W=Kl(n.missing)?n.missing:null,X=Kl(n.missing)?$q(n.missing):null,oe=Kl(n.postTranslation)?n.postTranslation:null,j=r?r.warnHtmlMessage:Cf(n.warnHtmlMessage)?n.warnHtmlMessage:!0,fe=!!n.escapeParameter;const le=r?r.modifiers:kd(n.modifiers)?n.modifiers:{};let q=n.pluralRules||r&&r.pluralRules,de;de=(()=>{d&&Iq(null);const $e={version:vhe,locale:w.value,fallbackLocale:A.value,messages:R.value,modifiers:le,pluralRules:q,missing:X===null?void 0:X,missingWarn:O,fallbackWarn:N,fallbackFormat:z,unresolving:!0,postTranslation:oe===null?void 0:oe,warnHtmlMessage:j,escapeParameter:fe,messageResolver:n.messageResolver,messageCompiler:n.messageCompiler,__meta:{framework:"vue"}},ht=the($e);return d&&Iq(ht),ht})(),CO(de,w.value,A.value);function be(){return[w.value,A.value,R.value]}const Fe=Mt({get:()=>w.value,set:$e=>{de.locale=$e,w.value=$e}}),Ze=Mt({get:()=>A.value,set:$e=>{de.fallbackLocale=$e,A.value=$e,CO(de,w.value,$e)}}),rt=Mt(()=>R.value);function Oe(){return Kl(oe)?oe:null}function Ve($e){oe=$e,de.postTranslation=$e}function P(){return W}function wt($e){$e!==null&&(X=$q($e)),W=$e,de.missing=X}const Nt=($e,ht,Dn,mn,Fn,Gt)=>{be();let te;try{__INTLIFY_PROD_DEVTOOLS__,d||(de.fallbackContext=r?ehe():void 0),te=$e(de)}finally{__INTLIFY_PROD_DEVTOOLS__,d||(de.fallbackContext=void 0)}if(pm(te)&&te===pJ||Dn==="translate exists"){const[So,tn]=ht();return r&&V?mn(r):Fn(So)}else{if(Gt(te))return te;throw aL(rL.UNEXPECTED_RETURN_TYPE)}};function Kt(...$e){return Nt(ht=>Reflect.apply(mhe,null,[ht,...$e]),()=>CJ(...$e),"translate",ht=>Reflect.apply(ht.t,ht,[...$e]),ht=>ht,ht=>Fr(ht))}function rn($e){q=$e,de.pluralRules=q}function ct($e){return R.value[$e]||{}}function Tn($e,ht){if(h){const Dn={[$e]:ht};for(const mn in Dn)Pp(Dn,mn)&&KO(Dn[mn]);ht=Dn[$e]}R.value[$e]=ht,de.messages=R.value}function Tt($e,ht){R.value[$e]=R.value[$e]||{};const Dn={[$e]:ht};if(h)for(const mn in Dn)Pp(Dn,mn)&&KO(Dn[mn]);ht=Dn[$e],NM(ht,R.value[$e]),de.messages=R.value}return Fq++,r&&_q&&(Wn(r.locale,$e=>{y&&(w.value=$e,de.locale=$e,CO(de,w.value,A.value))}),Wn(r.fallbackLocale,$e=>{y&&(A.value=$e,de.fallbackLocale=$e,CO(de,w.value,A.value))})),{id:Fq,locale:Fe,fallbackLocale:Ze,get inheritLocale(){return y},set inheritLocale($e){y=$e,$e&&r&&(w.value=r.locale.value,A.value=r.fallbackLocale.value,CO(de,w.value,A.value))},get availableLocales(){return Object.keys(R.value).sort()},messages:rt,get modifiers(){return le},get pluralRules(){return q||{}},get isGlobal(){return d},get missingWarn(){return O},set missingWarn($e){O=$e,de.missingWarn=O},get fallbackWarn(){return N},set fallbackWarn($e){N=$e,de.fallbackWarn=N},get fallbackRoot(){return V},set fallbackRoot($e){V=$e},get fallbackFormat(){return z},set fallbackFormat($e){z=$e,de.fallbackFormat=z},get warnHtmlMessage(){return j},set warnHtmlMessage($e){j=$e,de.warnHtmlMessage=$e},get escapeParameter(){return fe},set escapeParameter($e){fe=$e,de.escapeParameter=$e},t:Kt,getLocaleMessage:ct,setLocaleMessage:Tn,mergeLocaleMessage:Tt,getPostTranslationHandler:Oe,setPostTranslationHandler:Ve,getMissingHandler:P,setMissingHandler:wt,[xhe]:rn}}function khe(n={}){const r=Cf(n.globalInjection)?n.globalInjection:!0,l=new Map,[d,h]=Ehe(n),g=rJ("");function y(O){return l.get(O)||null}function w(O,N){l.set(O,N)}function A(O){l.delete(O)}const R={get mode(){return"composition"},async install(O,...N){if(O.__VUE_I18N_SYMBOL__=g,O.provide(O.__VUE_I18N_SYMBOL__,R),kd(N[0])){const W=N[0];R.__composerExtend=W.__composerExtend,R.__vueI18nExtend=W.__vueI18nExtend}let V=null;r&&(V=The(O,R.global));const z=O.unmount;O.unmount=()=>{V&&V(),R.dispose(),z()}},get global(){return h},dispose(){d.stop()},__instances:l,__getInstance:y,__setInstance:w,__deleteInstance:A};return R}function Ehe(n,r){const l=ix(),d=l.run(()=>_he(n));if(d==null)throw aL(rL.UNEXPECTED_ERROR);return[l,d]}const Ahe=["locale","fallbackLocale","availableLocales"],Vq=["t"];function The(n,r){const l=Object.create(null);return Ahe.forEach(h=>{const g=Object.getOwnPropertyDescriptor(r,h);if(!g)throw aL(rL.UNEXPECTED_ERROR);const y=Di(g.value)?{get(){return g.value.value},set(w){g.value.value=w}}:{get(){return g.get&&g.get()}};Object.defineProperty(l,h,y)}),n.config.globalProperties.$i18n=l,Vq.forEach(h=>{const g=Object.getOwnPropertyDescriptor(r,h);if(!g||!g.value)throw aL(rL.UNEXPECTED_ERROR);Object.defineProperty(n.config.globalProperties,`$${h}`,g)}),()=>{delete n.config.globalProperties.$i18n,Vq.forEach(h=>{delete n.config.globalProperties[`$${h}`]})}}yhe();Xge(Vge);if(__INTLIFY_PROD_DEVTOOLS__){const n=TU();n.__INTLIFY__=!0,Hge(n.__INTLIFY_DEVTOOLS_GLOBAL_HOOK__)}const Rz=n=>n&&typeof n=="object"&&!Array.isArray(n),N9=(n,...r)=>{if(!r.length)return n;const l=r.shift();if(Rz(n)&&Rz(l))for(const d in l)Rz(l[d])?(n[d]||Object.assign(n,{[d]:{}}),N9(n[d],l[d])):Object.assign(n,{[d]:l[d]});return N9(n,...r)},Ohe=N9({},{de:{allAnnotations:{t:0,b:{t:2,i:[{t:3}],s:"Anmerkungen"}},allCancel:{t:0,b:{t:2,i:[{t:3}],s:"Abbrechen"}},allClose:{t:0,b:{t:2,i:[{t:3}],s:"Schlieen"}},allCloseMessage:{t:0,b:{t:2,i:[{t:3}],s:"Meldung schlieen"}},allEnd:{t:0,b:{t:2,i:[{t:3}],s:"Beenden"}},allEssay:{t:0,b:{t:2,i:[{t:3}],s:"Abgabe-Text"}},allInstructions:{t:0,b:{t:2,i:[{t:3}],s:"Aufgabenstellung"}},allInstructionsPdf:{t:0,b:{t:2,i:[{t:3}],s:"Aufgabenstellung als PDF"}},allLoad:{t:0,b:{t:2,i:[{t:3}],s:"Laden"}},allMark:{t:0,b:{t:2,i:[{t:3}],s:"Markieren"}},allNotes:{t:0,b:{t:2,i:[{t:3}],s:"Notizen"}},allNotesWillPurged:{t:0,b:{t:2,i:[{t:3}],s:"Notizen, werden bei der Abgabe verworfen"}},allNumCharacters:{t:0,b:{t:2,i:[{t:4,k:"n"},{t:3,v:" Zeichen"}]}},allNumWords:{t:0,b:{t:1,c:[{t:2,i:[{t:4,k:"n"},{t:3,v:" Wort"}]},{t:2,i:[{t:4,k:"n"},{t:3,v:" Wrter"}]}]}},allOk:{t:0,b:{t:2,i:[{t:3}],s:"Ok"}},allOr:{t:0,b:{t:2,i:[{t:3}],s:"or"}},allSelect:{t:0,b:{t:2,i:[{t:3}],s:"Auswhlen"}},alertsMessage:{t:0,b:{t:1,c:[{t:2,i:[{t:4,k:"n"},{t:3,v:" Nachricht"}]},{t:2,i:[{t:4,k:"n"},{t:3,v:" Nachrichten"}]}]}},alertsSupervisionMessage:{t:0,b:{t:1,c:[{t:2,i:[{t:3}],s:"Nachricht der Aufsicht"},{t:2,i:[{t:3}],s:"Nachrichten der Aufsicht"}]}},annotationDelete:{t:0,b:{t:2,i:[{t:3,v:"Anmerkung "},{t:5,i:0},{t:3,v:" lschen"}]}},annotationForMark:{t:0,b:{t:2,i:[{t:3,v:"Anmerkung zur Markierung "},{t:5,i:0}]}},annotationsNoContentSelected:{t:0,b:{t:2,i:[{t:3}],s:"Das angezeigte Hilfsmittel kann nicht mit Anmerkungen versehen werden."}},appBarInterrupt:{t:0,b:{t:2,i:[{t:3}],s:"Unterbrechen"}},appBarReview:{t:0,b:{t:2,i:[{t:3}],s:"Vorschau zur Abgabe"}},editEssayHiddenField:{t:0,b:{t:2,i:[{t:3}],s:"Verborgenes Feld zum Abgabe-Text"}},editNoteHiddenField:{t:0,b:{t:2,i:[{t:3,v:"Verborgenes Feld zu "},{t:5,i:0}]}},editSelectCounterHide:{t:0,b:{t:2,i:[{t:3}],s:"Zhler verbergen"}},editSelectCounterShow:{t:0,b:{t:2,i:[{t:3}],s:"Zhler anzeigen"}},editSelectEditNotes:{t:0,b:{t:2,i:[{t:3}],s:"Notizen bearbeiten"}},editSelectEditNote:{t:0,b:{t:2,i:[{t:3,v:"Notiz "},{t:5,i:0},{t:3,v:" bearbeiten"}]}},editSelectEditText:{t:0,b:{t:2,i:[{t:3}],s:"Abgabe-Text bearbeiten"}},editSelectNotes:{t:0,b:{t:2,i:[{t:3}],s:"Notizen"}},editSelectText:{t:0,b:{t:2,i:[{t:3}],s:"Text"}},editSelectZoomOut:{t:0,b:{t:2,i:[{t:3}],s:"Text im Editor verkleinern"}},editSelectZoomIn:{t:0,b:{t:2,i:[{t:3}],s:"Text im Editor vergrern"}},helpAction:{t:0,b:{t:2,i:[{t:3}],s:"Aktion"}},helpButton:{t:0,b:{t:2,i:[{t:3}],s:"Tastenbefehle"}},helpCloseHelp:{t:0,b:{t:2,i:[{t:3}],s:"Hilfe schlieen"}},helpCommandBold:{t:0,b:{t:2,i:[{t:3}],s:"Fett"}},helpCommandH1:{t:0,b:{t:2,i:[{t:3}],s:"berschrift 1"}},helpCommandH2:{t:0,b:{t:2,i:[{t:3}],s:"berschrift 2"}},helpCommandH3:{t:0,b:{t:2,i:[{t:3}],s:"berschrift 3"}},helpCommandH4:{t:0,b:{t:2,i:[{t:3}],s:"berschrift 4"}},helpCommandH5:{t:0,b:{t:2,i:[{t:3}],s:"berschrift 5"}},helpCommandH6:{t:0,b:{t:2,i:[{t:3}],s:"berschrift 6"}},helpCommandItalic:{t:0,b:{t:2,i:[{t:3}],s:"Kursiv"}},helpCommandParagraph:{t:0,b:{t:2,i:[{t:3}],s:"Absatz"}},helpCommandRedo:{t:0,b:{t:2,i:[{t:3}],s:"Wiederholen"}},helpCommandSelectAll:{t:0,b:{t:2,i:[{t:3}],s:"Alles auswhlen"}},helpCommundUnderline:{t:0,b:{t:2,i:[{t:3}],s:"Unterstrichen"}},helpCommandUndo:{t:0,b:{t:2,i:[{t:3}],s:"Rckgngig machen"}},helpContentLeftColumn:{t:0,b:{t:2,i:[{t:3}],s:"Inhalt der linken Spalte"}},helpContentRightColumn:{t:0,b:{t:2,i:[{t:3}],s:"Inhalt der rechten Spalte"}},helpEditorCommands:{t:0,b:{t:2,i:[{t:3}],s:"Tastenbefehle im Editor"}},helpEditorNavigation:{t:0,b:{t:2,i:[{t:3}],s:"Navigation im Editor"}},helpGeneralNavigation:{t:0,b:{t:2,i:[{t:3}],s:"Allgemeine Navigation"}},helpHeaderButtons:{t:0,b:{t:2,i:[{t:3}],s:"Schaltflchen der Kopfzeile"}},helpNavigationButtons:{t:0,b:{t:2,i:[{t:3}],s:"Schaltflchen der Navigationsleiste"}},helpKeyEsc:{t:0,b:{t:2,i:[{t:3}],s:"Esc"}},helpKeyAlt0:{t:0,b:{t:2,i:[{t:3}],s:"Alt + 0"}},helpKeyAlt1:{t:0,b:{t:2,i:[{t:3}],s:"Alt + 1"}},helpKeyAlt2:{t:0,b:{t:2,i:[{t:3}],s:"Alt + 2"}},helpKeyAltF10:{t:0,b:{t:2,i:[{t:3}],s:"Alt + F10"}},helpKeyAltNum:{t:0,b:{t:2,i:[{t:3}],s:"Alt + #"}},helpKeyCtrlA:{t:0,b:{t:2,i:[{t:3}],s:"Ctrl + A"}},helpKeyCtrlB:{t:0,b:{t:2,i:[{t:3}],s:"Ctrl + B"}},helpKeyCtrlI:{t:0,b:{t:2,i:[{t:3}],s:"Ctrl + I"}},helpKeyCtrlU:{t:0,b:{t:2,i:[{t:3}],s:"Ctrl + U"}},helpKeyCtrlYOrCtrlShiftZ:{t:0,b:{t:2,i:[{t:3}],s:"Ctrl + Y oder Ctrl + Shift + Z"}},helpKeyCtrlZ:{t:0,b:{t:2,i:[{t:3}],s:"Ctrl + Z"}},helpKeyReturn:{t:0,b:{t:2,i:[{t:3}],s:"Eingabetaste"}},helpKeyShiftAlt1:{t:0,b:{t:2,i:[{t:3}],s:"Shift + Alt + 1"}},helpKeyShiftAlt2:{t:0,b:{t:2,i:[{t:3}],s:"Shift + Alt + 2"}},helpKeyShiftAlt3:{t:0,b:{t:2,i:[{t:3}],s:"Shift + Alt + 3"}},helpKeyShiftAlt4:{t:0,b:{t:2,i:[{t:3}],s:"Shift + Alt + 4"}},helpKeyShiftAlt5:{t:0,b:{t:2,i:[{t:3}],s:"Shift + Alt + 5"}},helpKeyShiftAlt6:{t:0,b:{t:2,i:[{t:3}],s:"Shift + Alt + 6"}},helpKeyShiftAlt7:{t:0,b:{t:2,i:[{t:3}],s:"Shift + Alt + 7"}},helpKeyShiftTab:{t:0,b:{t:2,i:[{t:3}],s:"Shift + Tab"}},helpKeysLeftRight:{t:0,b:{t:2,i:[{t:3}],s:"Pfeil links und rechts"}},helpKeyTab:{t:0,b:{t:2,i:[{t:3}],s:"Tab"}},helpKeysUpDown:{t:0,b:{t:2,i:[{t:3}],s:"Pfeil abwrts und aufwrts"}},helpNextElement:{t:0,b:{t:2,i:[{t:3}],s:"Nchstes Element"}},helpPopupBlockFormatsClose:{t:0,b:{t:2,i:[{t:3}],s:"Popup der Absatzformate schlieen"}},helpPopupBlockFormatsNavigate:{t:0,b:{t:2,i:[{t:3}],s:"Im Popup zwischen Absatzformaten wechseln"}},helpPopupBlockFormatsSelect:{t:0,b:{t:2,i:[{t:3}],s:"Im Popup ein Absatzformat whlen"}},helpPopupBlockFormatsShow:{t:0,b:{t:2,i:[{t:3}],s:"Popup der Absatzformate aufklappen"}},helpPreviousElement:{t:0,b:{t:2,i:[{t:3}],s:"Vorheriges Element"}},helpShortcut:{t:0,b:{t:2,i:[{t:3}],s:"Tastenbefehl"}},helpToolbarFocusIn:{t:0,b:{t:2,i:[{t:3}],s:"In Symbolleiste wechseln"}},helpToolbarFocusOut:{t:0,b:{t:2,i:[{t:3}],s:"Symbolleiste verlassen"}},helpToolbarNavigate:{t:0,b:{t:2,i:[{t:3}],s:"In Symbolleiste zwischen Schaltflchen wechseln"}},instructionsZoomOut:{t:0,b:{t:2,i:[{t:3}],s:"Aufgabenstellung Text verkleinern"}},instructionsZoomIn:{t:0,b:{t:2,i:[{t:3}],s:"Aufgabenstellung Text vergrern"}},mainContentCopyPrevented:{t:0,b:{t:2,i:[{t:3}],s:"Sie knnen nur selbst geschriebenen Text oder Teile aus der Aufgabenstellung kopieren und einfgen."}},mainContentExpand:{t:0,b:{t:2,i:[{t:3}],s:"Erweitern"}},mainContentExpandLeftColumn:{t:0,b:{t:2,i:[{t:3}],s:"Linke Spalte erweitern"}},mainContentExpandRightColumn:{t:0,b:{t:2,i:[{t:3}],s:"Rechte Spalte erweitern"}},mainContentLeftColumn:{t:0,b:{t:2,i:[{t:3}],s:"Linke Spalte"}},mainContentRightColumn:{t:0,b:{t:2,i:[{t:3}],s:"Rechte Spalte"}},navBarSelected:{t:0,b:{t:2,i:[{t:3}],s:" (ausgewhlt)"}},navBarSelectedAria:{t:0,b:{t:2,i:[{t:3}],s:", ist ausgewhlt"}},reviewContentAuthorize:{t:0,b:{t:1,c:[{t:2,i:[{t:3}],s:"Zur Bewertung freigeben"},{t:2,i:[{t:3}],s:"Alle Teilaufgaben zur Bewertung freigeben"}]}},reviewContentCallSupervisionForHelp:{t:0,b:{t:2,i:[{t:3}],s:"Melden Sie sich bei der Aufsicht, um Hilfe zu erhalten."}},reviewContentCallSupervisionToAuthorize:{t:0,b:{t:2,i:[{t:3}],s:"Melden Sie sich bei der Aufsicht, um Ihren Text zur Bewertung freizugeben."}},reviewContentContinueEditing:{t:0,b:{t:2,i:[{t:3}],s:"Weiter bearbeiten"}},reviewContentDontAuthorize:{t:0,b:{t:2,i:[{t:3}],s:"Ohne Freigabe beenden"}},reviewContentAuthorizationFinishes:{t:0,b:{t:2,i:[{t:3}],s:"Nach der Freigabe ist keine weitere Bearbeitung mehr mglich."}},reviewContentEditingPrevented:{t:0,b:{t:2,i:[{t:3}],s:"Es ist keine weitere Eingabe mglich."}},reviewContentExcluded:{t:0,b:{t:2,i:[{t:3}],s:"Sie wurden von der Bearbeitung ausgeschlossen."}},reviewContentLeaveAndTryLater:{t:0,b:{t:2,i:[{t:3}],s:"Sie knnen die Schreiboberflche auch ohne bertragung verlassen und spter wieder aufrufen, um die bertragung nachzuholen."}},reviewContentLeaveWithoutSending:{t:0,b:{t:2,i:[{t:3}],s:"Ohne bertragung verlassen"}},reviewContentNetworkProblem:{t:0,b:{t:2,i:[{t:3}],s:"Bei der bertragung ihres Texts ist ein Netzwerkproblem aufgetreten. Ihre Eingaben sind lokal gesichert."}},reviewContentNotesWillBePurged:{t:0,b:{t:2,i:[{t:3}],s:"Ihre Notizen werden verworfen. Falls Teile davon bewertet werden sollen, kopieren Sie sie bitte in den Abgabetext."}},reviewContentNotYetSent:{t:0,b:{t:2,i:[{t:3}],s:"Ihre letzten Eingaben wurden noch nicht bertragen, sind aber lokal gesichert!"}},reviewContentPleaseCheckText:{t:0,b:{t:2,i:[{t:3}],s:"Bitte berprfen Sie, ob Sie den Text in dieser Form zur Bewertung freigeben mchten."}},reviewContentYouMayScroll:{t:0,b:{t:2,i:[{t:3}],s:"Eventuell mssen Sie scrollen um alle Teile ihres Textes sehen zu knnen!"}},reviewContentTimeOver:{t:0,b:{t:2,i:[{t:3}],s:"Ihre Bearbeitungszeit ist beendet"}},reviewContentTryAgain:{t:0,b:{t:2,i:[{t:3}],s:"Erneut versuchen"}},reviewContentTryAgainLater:{t:0,b:{t:2,i:[{t:3}],s:"Bitte versuchen Sie die bertragung nach einer Minute erneut. Wenden Sie sich gegebenenfalls an die Aufsicht."}},sendingStatusAnnotations:{t:0,b:{t:2,i:[{t:3}],s:"Anmerkungen"}},sendingStatusError:{t:0,b:{t:2,i:[{t:3}],s:"Beim bertragen ist ein Fehler aufgetreten!"}},sendingStatusExport:{t:0,b:{t:2,i:[{t:3}],s:"Exportieren"}},sendingStatusLastBrowserSave:{t:0,b:{t:2,i:[{t:3}],s:"Letzte Speicherung im Browser:"}},sendingStatusLastSending:{t:0,b:{t:2,i:[{t:3}],s:"Letzte bertragung ins System:"}},sendingStatusNone:{t:0,b:{t:2,i:[{t:3}],s:"keine"}},sendingStatusNotes:{t:0,b:{t:2,i:[{t:3}],s:"Notizen"}},sendingStatusNumNotSent:{t:0,b:{t:2,i:[{t:4,k:"n"},{t:3,v:" noch nicht bertragen"}]}},sendingStatusOpenSendings:{t:0,b:{t:2,i:[{t:3}],s:"Noch nderungen zu senden"}},sendingStatusPreferences:{t:0,b:{t:2,i:[{t:3}],s:"Einstellungen"}},sendingStatusSend:{t:0,b:{t:2,i:[{t:3}],s:"bertragen"}},sendingStatusSending:{t:0,b:{t:2,i:[{t:3}],s:"bertrage..."}},sendingStatusAllSent:{t:0,b:{t:2,i:[{t:3}],s:"Alles gesendet"}},sendingStatusStatus:{t:0,b:{t:2,i:[{t:3}],s:"Status:"}},sendingStatusWritingSteps:{t:0,b:{t:2,i:[{t:3}],s:"Bearbeitungsschritte im Abgabe-Text"}},settingsHeading:{t:0,b:{t:2,i:[{t:3}],s:"berschrift"}},settingsHeading1:{t:0,b:{t:2,i:[{t:3}],s:"berschrift 1"}},settingsHeading2:{t:0,b:{t:2,i:[{t:3}],s:"berschrift 2"}},settingsHeading3:{t:0,b:{t:2,i:[{t:3}],s:"berschrift 3"}},settingsHeading4:{t:0,b:{t:2,i:[{t:3}],s:"berschrift 4"}},settingsHeading5:{t:0,b:{t:2,i:[{t:3}],s:"berschrift 5"}},settingsHeading6:{t:0,b:{t:2,i:[{t:3}],s:"berschrift 6"}},settingsListElement:{t:0,b:{t:2,i:[{t:3}],s:"Listenelement"}},settingsParagraph:{t:0,b:{t:2,i:[{t:3}],s:"Absatz"}},settingsTypewriter:{t:0,b:{t:2,i:[{t:3}],s:"Maschinenschrift"}},startupPageLoadData:{t:0,b:{t:2,i:[{t:3}],s:"Lade Daten..."}},startupPageLoadError:{t:0,b:{t:2,i:[{t:3}],s:"Beim Laden der Daten ist ein Fehler aufgetreten. Die Schreiboberflche kann nicht gestartet werden."}},startupPageOverwriteInfo:{t:0,b:{t:2,i:[{t:3}],s:"In Ihrem Browser sind Eingaben eines anderen Benutzers oder einer anderen Aufgabe vorhanden, die noch nicht bertragen wurden. Durch das Laden werden diese Eingaben gelscht."}},startupPageOverwriteQuestion:{t:0,b:{t:2,i:[{t:3}],s:"Mchten Sie die neue Aufgabe laden?"}},startupPageReloadInfo:{t:0,b:{t:2,i:[{t:3}],s:"In Ihrem Browser sind Eingaben vorhanden, die noch nicht bertragen wurden. Die letzte im System gespeicherte Eingabe scheint aber nicht aus diesem Browser zu stammen. Das kann z.B. passieren, wenn Ihre Netzverbindung unterbrochen wurde und Sie anschlieend in einem anderen Browser weitergearbeitet haben. Durch das Laden werden Ihre Eingaben im Browser berschrieben."}},startupPageReloadQuestion:{t:0,b:{t:2,i:[{t:3}],s:"Mchten Sie die Eingabe vom System laden?"}},tasksNextTask:{t:0,b:{t:2,i:[{t:3}],s:"Nchste Teilaufgabe"}},tasksPreviousTask:{t:0,b:{t:2,i:[{t:3}],s:"Vorherige Teilaufgabe"}},tasksTasks:{t:0,b:{t:2,i:[{t:3}],s:"Teilaufgaben"}},tinyHelperIframeAriaText:{t:0,b:{t:2,i:[{t:3}],s:"Editor"}}}}),aR=khe({locale:"de",messages:Ohe});function Rhe(n){n.use(Ume).use(Yme).use(aR)}class Dz{constructor(r={}){Yn(this,"id",null);Yn(this,"time",0);Yn(this,"message",null);r.id!==void 0&&r.id!==null&&(this.id=parseInt(r.id)),r.time!==void 0&&r.time!==null&&(this.time=parseInt(r.time)),r.message!==void 0&&r.message!==null&&(this.message=r.message.toString())}static order(r,l){return r.time>l.time?-1:r.time<l.time?1:0}formatTime(){return new Date(this.time*1e3).toLocaleString()}getKey(){return"A"+this.id.toString()}getData(){return Object.assign({},this)}}var bM=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function PL(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function vM(n){throw new Error('Could not dynamically require "'+n+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Nz={exports:{}};/*!
    localForage -- Offline Storage, Improved
    Version 1.10.0
    https://localforage.github.io/localForage
    (c) 2013-2017 Mozilla, Apache License 2.0
*/var Hq;function Dhe(){return Hq||(Hq=1,function(n,r){(function(l){n.exports=l()})(function(){return function l(d,h,g){function y(R,O){if(!h[R]){if(!d[R]){var N=typeof vM=="function"&&vM;if(!O&&N)return N(R,!0);if(w)return w(R,!0);var V=new Error("Cannot find module '"+R+"'");throw V.code="MODULE_NOT_FOUND",V}var z=h[R]={exports:{}};d[R][0].call(z.exports,function(W){var X=d[R][1][W];return y(X||W)},z,z.exports,l,d,h,g)}return h[R].exports}for(var w=typeof vM=="function"&&vM,A=0;A<g.length;A++)y(g[A]);return y}({1:[function(l,d,h){(function(g){var y=g.MutationObserver||g.WebKitMutationObserver,w;if(y){var A=0,R=new y(W),O=g.document.createTextNode("");R.observe(O,{characterData:!0}),w=function(){O.data=A=++A%2}}else if(!g.setImmediate&&typeof g.MessageChannel<"u"){var N=new g.MessageChannel;N.port1.onmessage=W,w=function(){N.port2.postMessage(0)}}else"document"in g&&"onreadystatechange"in g.document.createElement("script")?w=function(){var oe=g.document.createElement("script");oe.onreadystatechange=function(){W(),oe.onreadystatechange=null,oe.parentNode.removeChild(oe),oe=null},g.document.documentElement.appendChild(oe)}:w=function(){setTimeout(W,0)};var V,z=[];function W(){V=!0;for(var oe,j,fe=z.length;fe;){for(j=z,z=[],oe=-1;++oe<fe;)j[oe]();fe=z.length}V=!1}d.exports=X;function X(oe){z.push(oe)===1&&!V&&w()}}).call(this,typeof bM<"u"?bM:typeof self<"u"?self:typeof window<"u"?window:{})},{}],2:[function(l,d,h){var g=l(1);function y(){}var w={},A=["REJECTED"],R=["FULFILLED"],O=["PENDING"];d.exports=N;function N(de){if(typeof de!="function")throw new TypeError("resolver must be a function");this.state=O,this.queue=[],this.outcome=void 0,de!==y&&X(this,de)}N.prototype.catch=function(de){return this.then(null,de)},N.prototype.then=function(de,ne){if(typeof de!="function"&&this.state===R||typeof ne!="function"&&this.state===A)return this;var be=new this.constructor(y);if(this.state!==O){var Fe=this.state===R?de:ne;z(be,Fe,this.outcome)}else this.queue.push(new V(be,de,ne));return be};function V(de,ne,be){this.promise=de,typeof ne=="function"&&(this.onFulfilled=ne,this.callFulfilled=this.otherCallFulfilled),typeof be=="function"&&(this.onRejected=be,this.callRejected=this.otherCallRejected)}V.prototype.callFulfilled=function(de){w.resolve(this.promise,de)},V.prototype.otherCallFulfilled=function(de){z(this.promise,this.onFulfilled,de)},V.prototype.callRejected=function(de){w.reject(this.promise,de)},V.prototype.otherCallRejected=function(de){z(this.promise,this.onRejected,de)};function z(de,ne,be){g(function(){var Fe;try{Fe=ne(be)}catch(Ze){return w.reject(de,Ze)}Fe===de?w.reject(de,new TypeError("Cannot resolve promise with itself")):w.resolve(de,Fe)})}w.resolve=function(de,ne){var be=oe(W,ne);if(be.status==="error")return w.reject(de,be.value);var Fe=be.value;if(Fe)X(de,Fe);else{de.state=R,de.outcome=ne;for(var Ze=-1,rt=de.queue.length;++Ze<rt;)de.queue[Ze].callFulfilled(ne)}return de},w.reject=function(de,ne){de.state=A,de.outcome=ne;for(var be=-1,Fe=de.queue.length;++be<Fe;)de.queue[be].callRejected(ne);return de};function W(de){var ne=de&&de.then;if(de&&(typeof de=="object"||typeof de=="function")&&typeof ne=="function")return function(){ne.apply(de,arguments)}}function X(de,ne){var be=!1;function Fe(Ve){be||(be=!0,w.reject(de,Ve))}function Ze(Ve){be||(be=!0,w.resolve(de,Ve))}function rt(){ne(Ze,Fe)}var Oe=oe(rt);Oe.status==="error"&&Fe(Oe.value)}function oe(de,ne){var be={};try{be.value=de(ne),be.status="success"}catch(Fe){be.status="error",be.value=Fe}return be}N.resolve=j;function j(de){return de instanceof this?de:w.resolve(new this(y),de)}N.reject=fe;function fe(de){var ne=new this(y);return w.reject(ne,de)}N.all=le;function le(de){var ne=this;if(Object.prototype.toString.call(de)!=="[object Array]")return this.reject(new TypeError("must be an array"));var be=de.length,Fe=!1;if(!be)return this.resolve([]);for(var Ze=new Array(be),rt=0,Oe=-1,Ve=new this(y);++Oe<be;)P(de[Oe],Oe);return Ve;function P(wt,Nt){ne.resolve(wt).then(Kt,function(rn){Fe||(Fe=!0,w.reject(Ve,rn))});function Kt(rn){Ze[Nt]=rn,++rt===be&&!Fe&&(Fe=!0,w.resolve(Ve,Ze))}}}N.race=q;function q(de){var ne=this;if(Object.prototype.toString.call(de)!=="[object Array]")return this.reject(new TypeError("must be an array"));var be=de.length,Fe=!1;if(!be)return this.resolve([]);for(var Ze=-1,rt=new this(y);++Ze<be;)Oe(de[Ze]);return rt;function Oe(Ve){ne.resolve(Ve).then(function(P){Fe||(Fe=!0,w.resolve(rt,P))},function(P){Fe||(Fe=!0,w.reject(rt,P))})}}},{1:1}],3:[function(l,d,h){(function(g){typeof g.Promise!="function"&&(g.Promise=l(2))}).call(this,typeof bM<"u"?bM:typeof self<"u"?self:typeof window<"u"?window:{})},{2:2}],4:[function(l,d,h){var g=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Pe){return typeof Pe}:function(Pe){return Pe&&typeof Symbol=="function"&&Pe.constructor===Symbol&&Pe!==Symbol.prototype?"symbol":typeof Pe};function y(Pe,ut){if(!(Pe instanceof ut))throw new TypeError("Cannot call a class as a function")}function w(){try{if(typeof indexedDB<"u")return indexedDB;if(typeof webkitIndexedDB<"u")return webkitIndexedDB;if(typeof mozIndexedDB<"u")return mozIndexedDB;if(typeof OIndexedDB<"u")return OIndexedDB;if(typeof msIndexedDB<"u")return msIndexedDB}catch{return}}var A=w();function R(){try{if(!A||!A.open)return!1;var Pe=typeof openDatabase<"u"&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),ut=typeof fetch=="function"&&fetch.toString().indexOf("[native code")!==-1;return(!Pe||ut)&&typeof indexedDB<"u"&&typeof IDBKeyRange<"u"}catch{return!1}}function O(Pe,ut){Pe=Pe||[],ut=ut||{};try{return new Blob(Pe,ut)}catch(it){if(it.name!=="TypeError")throw it;for(var We=typeof BlobBuilder<"u"?BlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:WebKitBlobBuilder,yt=new We,bt=0;bt<Pe.length;bt+=1)yt.append(Pe[bt]);return yt.getBlob(ut.type)}}typeof Promise>"u"&&l(3);var N=Promise;function V(Pe,ut){ut&&Pe.then(function(We){ut(null,We)},function(We){ut(We)})}function z(Pe,ut,We){typeof ut=="function"&&Pe.then(ut),typeof We=="function"&&Pe.catch(We)}function W(Pe){return typeof Pe!="string"&&(console.warn(Pe+" used as a key, but it is not a string."),Pe=String(Pe)),Pe}function X(){if(arguments.length&&typeof arguments[arguments.length-1]=="function")return arguments[arguments.length-1]}var oe="local-forage-detect-blob-support",j=void 0,fe={},le=Object.prototype.toString,q="readonly",de="readwrite";function ne(Pe){for(var ut=Pe.length,We=new ArrayBuffer(ut),yt=new Uint8Array(We),bt=0;bt<ut;bt++)yt[bt]=Pe.charCodeAt(bt);return We}function be(Pe){return new N(function(ut){var We=Pe.transaction(oe,de),yt=O([""]);We.objectStore(oe).put(yt,"key"),We.onabort=function(bt){bt.preventDefault(),bt.stopPropagation(),ut(!1)},We.oncomplete=function(){var bt=navigator.userAgent.match(/Chrome\/(\d+)/),it=navigator.userAgent.match(/Edge\//);ut(it||!bt||parseInt(bt[1],10)>=43)}}).catch(function(){return!1})}function Fe(Pe){return typeof j=="boolean"?N.resolve(j):be(Pe).then(function(ut){return j=ut,j})}function Ze(Pe){var ut=fe[Pe.name],We={};We.promise=new N(function(yt,bt){We.resolve=yt,We.reject=bt}),ut.deferredOperations.push(We),ut.dbReady?ut.dbReady=ut.dbReady.then(function(){return We.promise}):ut.dbReady=We.promise}function rt(Pe){var ut=fe[Pe.name],We=ut.deferredOperations.pop();if(We)return We.resolve(),We.promise}function Oe(Pe,ut){var We=fe[Pe.name],yt=We.deferredOperations.pop();if(yt)return yt.reject(ut),yt.promise}function Ve(Pe,ut){return new N(function(We,yt){if(fe[Pe.name]=fe[Pe.name]||$e(),Pe.db)if(ut)Ze(Pe),Pe.db.close();else return We(Pe.db);var bt=[Pe.name];ut&&bt.push(Pe.version);var it=A.open.apply(A,bt);ut&&(it.onupgradeneeded=function(Qt){var gn=it.result;try{gn.createObjectStore(Pe.storeName),Qt.oldVersion<=1&&gn.createObjectStore(oe)}catch(yn){if(yn.name==="ConstraintError")console.warn('The database "'+Pe.name+'" has been upgraded from version '+Qt.oldVersion+" to version "+Qt.newVersion+', but the storage "'+Pe.storeName+'" already exists.');else throw yn}}),it.onerror=function(Qt){Qt.preventDefault(),yt(it.error)},it.onsuccess=function(){var Qt=it.result;Qt.onversionchange=function(gn){gn.target.close()},We(Qt),rt(Pe)}})}function P(Pe){return Ve(Pe,!1)}function wt(Pe){return Ve(Pe,!0)}function Nt(Pe,ut){if(!Pe.db)return!0;var We=!Pe.db.objectStoreNames.contains(Pe.storeName),yt=Pe.version<Pe.db.version,bt=Pe.version>Pe.db.version;if(yt&&(Pe.version!==ut&&console.warn('The database "'+Pe.name+`" can't be downgraded from version `+Pe.db.version+" to version "+Pe.version+"."),Pe.version=Pe.db.version),bt||We){if(We){var it=Pe.db.version+1;it>Pe.version&&(Pe.version=it)}return!0}return!1}function Kt(Pe){return new N(function(ut,We){var yt=new FileReader;yt.onerror=We,yt.onloadend=function(bt){var it=btoa(bt.target.result||"");ut({__local_forage_encoded_blob:!0,data:it,type:Pe.type})},yt.readAsBinaryString(Pe)})}function rn(Pe){var ut=ne(atob(Pe.data));return O([ut],{type:Pe.type})}function ct(Pe){return Pe&&Pe.__local_forage_encoded_blob}function Tn(Pe){var ut=this,We=ut._initReady().then(function(){var yt=fe[ut._dbInfo.name];if(yt&&yt.dbReady)return yt.dbReady});return z(We,Pe,Pe),We}function Tt(Pe){Ze(Pe);for(var ut=fe[Pe.name],We=ut.forages,yt=0;yt<We.length;yt++){var bt=We[yt];bt._dbInfo.db&&(bt._dbInfo.db.close(),bt._dbInfo.db=null)}return Pe.db=null,P(Pe).then(function(it){return Pe.db=it,Nt(Pe)?wt(Pe):it}).then(function(it){Pe.db=ut.db=it;for(var Qt=0;Qt<We.length;Qt++)We[Qt]._dbInfo.db=it}).catch(function(it){throw Oe(Pe,it),it})}function ot(Pe,ut,We,yt){yt===void 0&&(yt=1);try{var bt=Pe.db.transaction(Pe.storeName,ut);We(null,bt)}catch(it){if(yt>0&&(!Pe.db||it.name==="InvalidStateError"||it.name==="NotFoundError"))return N.resolve().then(function(){if(!Pe.db||it.name==="NotFoundError"&&!Pe.db.objectStoreNames.contains(Pe.storeName)&&Pe.version<=Pe.db.version)return Pe.db&&(Pe.version=Pe.db.version+1),wt(Pe)}).then(function(){return Tt(Pe).then(function(){ot(Pe,ut,We,yt-1)})}).catch(We);We(it)}}function $e(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function ht(Pe){var ut=this,We={db:null};if(Pe)for(var yt in Pe)We[yt]=Pe[yt];var bt=fe[We.name];bt||(bt=$e(),fe[We.name]=bt),bt.forages.push(ut),ut._initReady||(ut._initReady=ut.ready,ut.ready=Tn);var it=[];function Qt(){return N.resolve()}for(var gn=0;gn<bt.forages.length;gn++){var yn=bt.forages[gn];yn!==ut&&it.push(yn._initReady().catch(Qt))}var _n=bt.forages.slice(0);return N.all(it).then(function(){return We.db=bt.db,P(We)}).then(function(wn){return We.db=wn,Nt(We,ut._defaultConfig.version)?wt(We):wn}).then(function(wn){We.db=bt.db=wn,ut._dbInfo=We;for(var _o=0;_o<_n.length;_o++){var bn=_n[_o];bn!==ut&&(bn._dbInfo.db=We.db,bn._dbInfo.version=We.version)}})}function Dn(Pe,ut){var We=this;Pe=W(Pe);var yt=new N(function(bt,it){We.ready().then(function(){ot(We._dbInfo,q,function(Qt,gn){if(Qt)return it(Qt);try{var yn=gn.objectStore(We._dbInfo.storeName),_n=yn.get(Pe);_n.onsuccess=function(){var wn=_n.result;wn===void 0&&(wn=null),ct(wn)&&(wn=rn(wn)),bt(wn)},_n.onerror=function(){it(_n.error)}}catch(wn){it(wn)}})}).catch(it)});return V(yt,ut),yt}function mn(Pe,ut){var We=this,yt=new N(function(bt,it){We.ready().then(function(){ot(We._dbInfo,q,function(Qt,gn){if(Qt)return it(Qt);try{var yn=gn.objectStore(We._dbInfo.storeName),_n=yn.openCursor(),wn=1;_n.onsuccess=function(){var _o=_n.result;if(_o){var bn=_o.value;ct(bn)&&(bn=rn(bn));var Fs=Pe(bn,_o.key,wn++);Fs!==void 0?bt(Fs):_o.continue()}else bt()},_n.onerror=function(){it(_n.error)}}catch(_o){it(_o)}})}).catch(it)});return V(yt,ut),yt}function Fn(Pe,ut,We){var yt=this;Pe=W(Pe);var bt=new N(function(it,Qt){var gn;yt.ready().then(function(){return gn=yt._dbInfo,le.call(ut)==="[object Blob]"?Fe(gn.db).then(function(yn){return yn?ut:Kt(ut)}):ut}).then(function(yn){ot(yt._dbInfo,de,function(_n,wn){if(_n)return Qt(_n);try{var _o=wn.objectStore(yt._dbInfo.storeName);yn===null&&(yn=void 0);var bn=_o.put(yn,Pe);wn.oncomplete=function(){yn===void 0&&(yn=null),it(yn)},wn.onabort=wn.onerror=function(){var Fs=bn.error?bn.error:bn.transaction.error;Qt(Fs)}}catch(Fs){Qt(Fs)}})}).catch(Qt)});return V(bt,We),bt}function Gt(Pe,ut){var We=this;Pe=W(Pe);var yt=new N(function(bt,it){We.ready().then(function(){ot(We._dbInfo,de,function(Qt,gn){if(Qt)return it(Qt);try{var yn=gn.objectStore(We._dbInfo.storeName),_n=yn.delete(Pe);gn.oncomplete=function(){bt()},gn.onerror=function(){it(_n.error)},gn.onabort=function(){var wn=_n.error?_n.error:_n.transaction.error;it(wn)}}catch(wn){it(wn)}})}).catch(it)});return V(yt,ut),yt}function te(Pe){var ut=this,We=new N(function(yt,bt){ut.ready().then(function(){ot(ut._dbInfo,de,function(it,Qt){if(it)return bt(it);try{var gn=Qt.objectStore(ut._dbInfo.storeName),yn=gn.clear();Qt.oncomplete=function(){yt()},Qt.onabort=Qt.onerror=function(){var _n=yn.error?yn.error:yn.transaction.error;bt(_n)}}catch(_n){bt(_n)}})}).catch(bt)});return V(We,Pe),We}function So(Pe){var ut=this,We=new N(function(yt,bt){ut.ready().then(function(){ot(ut._dbInfo,q,function(it,Qt){if(it)return bt(it);try{var gn=Qt.objectStore(ut._dbInfo.storeName),yn=gn.count();yn.onsuccess=function(){yt(yn.result)},yn.onerror=function(){bt(yn.error)}}catch(_n){bt(_n)}})}).catch(bt)});return V(We,Pe),We}function tn(Pe,ut){var We=this,yt=new N(function(bt,it){if(Pe<0){bt(null);return}We.ready().then(function(){ot(We._dbInfo,q,function(Qt,gn){if(Qt)return it(Qt);try{var yn=gn.objectStore(We._dbInfo.storeName),_n=!1,wn=yn.openKeyCursor();wn.onsuccess=function(){var _o=wn.result;if(!_o){bt(null);return}Pe===0||_n?bt(_o.key):(_n=!0,_o.advance(Pe))},wn.onerror=function(){it(wn.error)}}catch(_o){it(_o)}})}).catch(it)});return V(yt,ut),yt}function Cn(Pe){var ut=this,We=new N(function(yt,bt){ut.ready().then(function(){ot(ut._dbInfo,q,function(it,Qt){if(it)return bt(it);try{var gn=Qt.objectStore(ut._dbInfo.storeName),yn=gn.openKeyCursor(),_n=[];yn.onsuccess=function(){var wn=yn.result;if(!wn){yt(_n);return}_n.push(wn.key),wn.continue()},yn.onerror=function(){bt(yn.error)}}catch(wn){bt(wn)}})}).catch(bt)});return V(We,Pe),We}function qe(Pe,ut){ut=X.apply(this,arguments);var We=this.config();Pe=typeof Pe!="function"&&Pe||{},Pe.name||(Pe.name=Pe.name||We.name,Pe.storeName=Pe.storeName||We.storeName);var yt=this,bt;if(!Pe.name)bt=N.reject("Invalid arguments");else{var it=Pe.name===We.name&&yt._dbInfo.db,Qt=it?N.resolve(yt._dbInfo.db):P(Pe).then(function(gn){var yn=fe[Pe.name],_n=yn.forages;yn.db=gn;for(var wn=0;wn<_n.length;wn++)_n[wn]._dbInfo.db=gn;return gn});Pe.storeName?bt=Qt.then(function(gn){if(gn.objectStoreNames.contains(Pe.storeName)){var yn=gn.version+1;Ze(Pe);var _n=fe[Pe.name],wn=_n.forages;gn.close();for(var _o=0;_o<wn.length;_o++){var bn=wn[_o];bn._dbInfo.db=null,bn._dbInfo.version=yn}var Fs=new N(function(Ko,is){var Vr=A.open(Pe.name,yn);Vr.onerror=function(Bo){var Xl=Vr.result;Xl.close(),is(Bo)},Vr.onupgradeneeded=function(){var Bo=Vr.result;Bo.deleteObjectStore(Pe.storeName)},Vr.onsuccess=function(){var Bo=Vr.result;Bo.close(),Ko(Bo)}});return Fs.then(function(Ko){_n.db=Ko;for(var is=0;is<wn.length;is++){var Vr=wn[is];Vr._dbInfo.db=Ko,rt(Vr._dbInfo)}}).catch(function(Ko){throw(Oe(Pe,Ko)||N.resolve()).catch(function(){}),Ko})}}):bt=Qt.then(function(gn){Ze(Pe);var yn=fe[Pe.name],_n=yn.forages;gn.close();for(var wn=0;wn<_n.length;wn++){var _o=_n[wn];_o._dbInfo.db=null}var bn=new N(function(Fs,Ko){var is=A.deleteDatabase(Pe.name);is.onerror=function(){var Vr=is.result;Vr&&Vr.close(),Ko(is.error)},is.onblocked=function(){console.warn('dropInstance blocked for database "'+Pe.name+'" until all open connections are closed')},is.onsuccess=function(){var Vr=is.result;Vr&&Vr.close(),Fs(Vr)}});return bn.then(function(Fs){yn.db=Fs;for(var Ko=0;Ko<_n.length;Ko++){var is=_n[Ko];rt(is._dbInfo)}}).catch(function(Fs){throw(Oe(Pe,Fs)||N.resolve()).catch(function(){}),Fs})})}return V(bt,ut),bt}var st={_driver:"asyncStorage",_initStorage:ht,_support:R(),iterate:mn,getItem:Dn,setItem:Fn,removeItem:Gt,clear:te,length:So,key:tn,keys:Cn,dropInstance:qe};function xe(){return typeof openDatabase=="function"}var Re="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Ue="~~local_forage_type~",ye=/^~~local_forage_type~([^~]+)~/,_e="__lfsc__:",Be=_e.length,Ye="arbf",pt="blob",fn="si08",qt="ui08",Nn="uic8",no="si16",so="si32",Wo="ur16",Po="ui32",or="fl32",ps="fl64",Qr=Be+Ye.length,ms=Object.prototype.toString;function Qa(Pe){var ut=Pe.length*.75,We=Pe.length,yt,bt=0,it,Qt,gn,yn;Pe[Pe.length-1]==="="&&(ut--,Pe[Pe.length-2]==="="&&ut--);var _n=new ArrayBuffer(ut),wn=new Uint8Array(_n);for(yt=0;yt<We;yt+=4)it=Re.indexOf(Pe[yt]),Qt=Re.indexOf(Pe[yt+1]),gn=Re.indexOf(Pe[yt+2]),yn=Re.indexOf(Pe[yt+3]),wn[bt++]=it<<2|Qt>>4,wn[bt++]=(Qt&15)<<4|gn>>2,wn[bt++]=(gn&3)<<6|yn&63;return _n}function on(Pe){var ut=new Uint8Array(Pe),We="",yt;for(yt=0;yt<ut.length;yt+=3)We+=Re[ut[yt]>>2],We+=Re[(ut[yt]&3)<<4|ut[yt+1]>>4],We+=Re[(ut[yt+1]&15)<<2|ut[yt+2]>>6],We+=Re[ut[yt+2]&63];return ut.length%3===2?We=We.substring(0,We.length-1)+"=":ut.length%3===1&&(We=We.substring(0,We.length-2)+"=="),We}function ro(Pe,ut){var We="";if(Pe&&(We=ms.call(Pe)),Pe&&(We==="[object ArrayBuffer]"||Pe.buffer&&ms.call(Pe.buffer)==="[object ArrayBuffer]")){var yt,bt=_e;Pe instanceof ArrayBuffer?(yt=Pe,bt+=Ye):(yt=Pe.buffer,We==="[object Int8Array]"?bt+=fn:We==="[object Uint8Array]"?bt+=qt:We==="[object Uint8ClampedArray]"?bt+=Nn:We==="[object Int16Array]"?bt+=no:We==="[object Uint16Array]"?bt+=Wo:We==="[object Int32Array]"?bt+=so:We==="[object Uint32Array]"?bt+=Po:We==="[object Float32Array]"?bt+=or:We==="[object Float64Array]"?bt+=ps:ut(new Error("Failed to get type for BinaryArray"))),ut(bt+on(yt))}else if(We==="[object Blob]"){var it=new FileReader;it.onload=function(){var Qt=Ue+Pe.type+"~"+on(this.result);ut(_e+pt+Qt)},it.readAsArrayBuffer(Pe)}else try{ut(JSON.stringify(Pe))}catch(Qt){console.error("Couldn't convert value into a JSON string: ",Pe),ut(null,Qt)}}function Do(Pe){if(Pe.substring(0,Be)!==_e)return JSON.parse(Pe);var ut=Pe.substring(Qr),We=Pe.substring(Be,Qr),yt;if(We===pt&&ye.test(ut)){var bt=ut.match(ye);yt=bt[1],ut=ut.substring(bt[0].length)}var it=Qa(ut);switch(We){case Ye:return it;case pt:return O([it],{type:yt});case fn:return new Int8Array(it);case qt:return new Uint8Array(it);case Nn:return new Uint8ClampedArray(it);case no:return new Int16Array(it);case Wo:return new Uint16Array(it);case so:return new Int32Array(it);case Po:return new Uint32Array(it);case or:return new Float32Array(it);case ps:return new Float64Array(it);default:throw new Error("Unkown type: "+We)}}var ia={serialize:ro,deserialize:Do,stringToBuffer:Qa,bufferToString:on};function tl(Pe,ut,We,yt){Pe.executeSql("CREATE TABLE IF NOT EXISTS "+ut.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],We,yt)}function Yt(Pe){var ut=this,We={db:null};if(Pe)for(var yt in Pe)We[yt]=typeof Pe[yt]!="string"?Pe[yt].toString():Pe[yt];var bt=new N(function(it,Qt){try{We.db=openDatabase(We.name,String(We.version),We.description,We.size)}catch(gn){return Qt(gn)}We.db.transaction(function(gn){tl(gn,We,function(){ut._dbInfo=We,it()},function(yn,_n){Qt(_n)})},Qt)});return We.serializer=ia,bt}function ba(Pe,ut,We,yt,bt,it){Pe.executeSql(We,yt,bt,function(Qt,gn){gn.code===gn.SYNTAX_ERR?Qt.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[ut.storeName],function(yn,_n){_n.rows.length?it(yn,gn):tl(yn,ut,function(){yn.executeSql(We,yt,bt,it)},it)},it):it(Qt,gn)},it)}function Vo(Pe,ut){var We=this;Pe=W(Pe);var yt=new N(function(bt,it){We.ready().then(function(){var Qt=We._dbInfo;Qt.db.transaction(function(gn){ba(gn,Qt,"SELECT * FROM "+Qt.storeName+" WHERE key = ? LIMIT 1",[Pe],function(yn,_n){var wn=_n.rows.length?_n.rows.item(0).value:null;wn&&(wn=Qt.serializer.deserialize(wn)),bt(wn)},function(yn,_n){it(_n)})})}).catch(it)});return V(yt,ut),yt}function Bl(Pe,ut){var We=this,yt=new N(function(bt,it){We.ready().then(function(){var Qt=We._dbInfo;Qt.db.transaction(function(gn){ba(gn,Qt,"SELECT * FROM "+Qt.storeName,[],function(yn,_n){for(var wn=_n.rows,_o=wn.length,bn=0;bn<_o;bn++){var Fs=wn.item(bn),Ko=Fs.value;if(Ko&&(Ko=Qt.serializer.deserialize(Ko)),Ko=Pe(Ko,Fs.key,bn+1),Ko!==void 0){bt(Ko);return}}bt()},function(yn,_n){it(_n)})})}).catch(it)});return V(yt,ut),yt}function Vs(Pe,ut,We,yt){var bt=this;Pe=W(Pe);var it=new N(function(Qt,gn){bt.ready().then(function(){ut===void 0&&(ut=null);var yn=ut,_n=bt._dbInfo;_n.serializer.serialize(ut,function(wn,_o){_o?gn(_o):_n.db.transaction(function(bn){ba(bn,_n,"INSERT OR REPLACE INTO "+_n.storeName+" (key, value) VALUES (?, ?)",[Pe,wn],function(){Qt(yn)},function(Fs,Ko){gn(Ko)})},function(bn){if(bn.code===bn.QUOTA_ERR){if(yt>0){Qt(Vs.apply(bt,[Pe,yn,We,yt-1]));return}gn(bn)}})})}).catch(gn)});return V(it,We),it}function ea(Pe,ut,We){return Vs.apply(this,[Pe,ut,We,1])}function vc(Pe,ut){var We=this;Pe=W(Pe);var yt=new N(function(bt,it){We.ready().then(function(){var Qt=We._dbInfo;Qt.db.transaction(function(gn){ba(gn,Qt,"DELETE FROM "+Qt.storeName+" WHERE key = ?",[Pe],function(){bt()},function(yn,_n){it(_n)})})}).catch(it)});return V(yt,ut),yt}function yc(Pe){var ut=this,We=new N(function(yt,bt){ut.ready().then(function(){var it=ut._dbInfo;it.db.transaction(function(Qt){ba(Qt,it,"DELETE FROM "+it.storeName,[],function(){yt()},function(gn,yn){bt(yn)})})}).catch(bt)});return V(We,Pe),We}function xc(Pe){var ut=this,We=new N(function(yt,bt){ut.ready().then(function(){var it=ut._dbInfo;it.db.transaction(function(Qt){ba(Qt,it,"SELECT COUNT(key) as c FROM "+it.storeName,[],function(gn,yn){var _n=yn.rows.item(0).c;yt(_n)},function(gn,yn){bt(yn)})})}).catch(bt)});return V(We,Pe),We}function pl(Pe,ut){var We=this,yt=new N(function(bt,it){We.ready().then(function(){var Qt=We._dbInfo;Qt.db.transaction(function(gn){ba(gn,Qt,"SELECT key FROM "+Qt.storeName+" WHERE id = ? LIMIT 1",[Pe+1],function(yn,_n){var wn=_n.rows.length?_n.rows.item(0).key:null;bt(wn)},function(yn,_n){it(_n)})})}).catch(it)});return V(yt,ut),yt}function wc(Pe){var ut=this,We=new N(function(yt,bt){ut.ready().then(function(){var it=ut._dbInfo;it.db.transaction(function(Qt){ba(Qt,it,"SELECT key FROM "+it.storeName,[],function(gn,yn){for(var _n=[],wn=0;wn<yn.rows.length;wn++)_n.push(yn.rows.item(wn).key);yt(_n)},function(gn,yn){bt(yn)})})}).catch(bt)});return V(We,Pe),We}function Hs(Pe){return new N(function(ut,We){Pe.transaction(function(yt){yt.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(bt,it){for(var Qt=[],gn=0;gn<it.rows.length;gn++)Qt.push(it.rows.item(gn).name);ut({db:Pe,storeNames:Qt})},function(bt,it){We(it)})},function(yt){We(yt)})})}function ho(Pe,ut){ut=X.apply(this,arguments);var We=this.config();Pe=typeof Pe!="function"&&Pe||{},Pe.name||(Pe.name=Pe.name||We.name,Pe.storeName=Pe.storeName||We.storeName);var yt=this,bt;return Pe.name?bt=new N(function(it){var Qt;Pe.name===We.name?Qt=yt._dbInfo.db:Qt=openDatabase(Pe.name,"","",0),Pe.storeName?it({db:Qt,storeNames:[Pe.storeName]}):it(Hs(Qt))}).then(function(it){return new N(function(Qt,gn){it.db.transaction(function(yn){function _n(Fs){return new N(function(Ko,is){yn.executeSql("DROP TABLE IF EXISTS "+Fs,[],function(){Ko()},function(Vr,Bo){is(Bo)})})}for(var wn=[],_o=0,bn=it.storeNames.length;_o<bn;_o++)wn.push(_n(it.storeNames[_o]));N.all(wn).then(function(){Qt()}).catch(function(Fs){gn(Fs)})},function(yn){gn(yn)})})}):bt=N.reject("Invalid arguments"),V(bt,ut),bt}var nl={_driver:"webSQLStorage",_initStorage:Yt,_support:xe(),iterate:Bl,getItem:Vo,setItem:ea,removeItem:vc,clear:yc,length:xc,key:pl,keys:wc,dropInstance:ho};function Ma(){try{return typeof localStorage<"u"&&"setItem"in localStorage&&!!localStorage.setItem}catch{return!1}}function vu(Pe,ut){var We=Pe.name+"/";return Pe.storeName!==ut.storeName&&(We+=Pe.storeName+"/"),We}function xn(){var Pe="_localforage_support_test";try{return localStorage.setItem(Pe,!0),localStorage.removeItem(Pe),!1}catch{return!0}}function Yl(){return!xn()||localStorage.length>0}function Of(Pe){var ut=this,We={};if(Pe)for(var yt in Pe)We[yt]=Pe[yt];return We.keyPrefix=vu(Pe,ut._defaultConfig),Yl()?(ut._dbInfo=We,We.serializer=ia,N.resolve()):N.reject()}function wr(Pe){var ut=this,We=ut.ready().then(function(){for(var yt=ut._dbInfo.keyPrefix,bt=localStorage.length-1;bt>=0;bt--){var it=localStorage.key(bt);it.indexOf(yt)===0&&localStorage.removeItem(it)}});return V(We,Pe),We}function Rf(Pe,ut){var We=this;Pe=W(Pe);var yt=We.ready().then(function(){var bt=We._dbInfo,it=localStorage.getItem(bt.keyPrefix+Pe);return it&&(it=bt.serializer.deserialize(it)),it});return V(yt,ut),yt}function ol(Pe,ut){var We=this,yt=We.ready().then(function(){for(var bt=We._dbInfo,it=bt.keyPrefix,Qt=it.length,gn=localStorage.length,yn=1,_n=0;_n<gn;_n++){var wn=localStorage.key(_n);if(wn.indexOf(it)===0){var _o=localStorage.getItem(wn);if(_o&&(_o=bt.serializer.deserialize(_o)),_o=Pe(_o,wn.substring(Qt),yn++),_o!==void 0)return _o}}});return V(yt,ut),yt}function Ml(Pe,ut){var We=this,yt=We.ready().then(function(){var bt=We._dbInfo,it;try{it=localStorage.key(Pe)}catch{it=null}return it&&(it=it.substring(bt.keyPrefix.length)),it});return V(yt,ut),yt}function bl(Pe){var ut=this,We=ut.ready().then(function(){for(var yt=ut._dbInfo,bt=localStorage.length,it=[],Qt=0;Qt<bt;Qt++){var gn=localStorage.key(Qt);gn.indexOf(yt.keyPrefix)===0&&it.push(gn.substring(yt.keyPrefix.length))}return it});return V(We,Pe),We}function ar(Pe){var ut=this,We=ut.keys().then(function(yt){return yt.length});return V(We,Pe),We}function ei(Pe,ut){var We=this;Pe=W(Pe);var yt=We.ready().then(function(){var bt=We._dbInfo;localStorage.removeItem(bt.keyPrefix+Pe)});return V(yt,ut),yt}function sl(Pe,ut,We){var yt=this;Pe=W(Pe);var bt=yt.ready().then(function(){ut===void 0&&(ut=null);var it=ut;return new N(function(Qt,gn){var yn=yt._dbInfo;yn.serializer.serialize(ut,function(_n,wn){if(wn)gn(wn);else try{localStorage.setItem(yn.keyPrefix+Pe,_n),Qt(it)}catch(_o){(_o.name==="QuotaExceededError"||_o.name==="NS_ERROR_DOM_QUOTA_REACHED")&&gn(_o),gn(_o)}})})});return V(bt,We),bt}function Df(Pe,ut){if(ut=X.apply(this,arguments),Pe=typeof Pe!="function"&&Pe||{},!Pe.name){var We=this.config();Pe.name=Pe.name||We.name,Pe.storeName=Pe.storeName||We.storeName}var yt=this,bt;return Pe.name?bt=new N(function(it){Pe.storeName?it(vu(Pe,yt._defaultConfig)):it(Pe.name+"/")}).then(function(it){for(var Qt=localStorage.length-1;Qt>=0;Qt--){var gn=localStorage.key(Qt);gn.indexOf(it)===0&&localStorage.removeItem(gn)}}):bt=N.reject("Invalid arguments"),V(bt,ut),bt}var Wc={_driver:"localStorageWrapper",_initStorage:Of,_support:Ma(),iterate:ol,getItem:Rf,setItem:sl,removeItem:ei,clear:wr,length:ar,key:Ml,keys:bl,dropInstance:Df},vl=function(ut,We){return ut===We||typeof ut=="number"&&typeof We=="number"&&isNaN(ut)&&isNaN(We)},Od=function(ut,We){for(var yt=ut.length,bt=0;bt<yt;){if(vl(ut[bt],We))return!0;bt++}return!1},yu=Array.isArray||function(Pe){return Object.prototype.toString.call(Pe)==="[object Array]"},os={},$r={},la={INDEXEDDB:st,WEBSQL:nl,LOCALSTORAGE:Wc},Nf=[la.INDEXEDDB._driver,la.WEBSQL._driver,la.LOCALSTORAGE._driver],rl=["dropInstance"],jc=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(rl),Ea={description:"",driver:Nf.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function pi(Pe,ut){Pe[ut]=function(){var We=arguments;return Pe.ready().then(function(){return Pe[ut].apply(Pe,We)})}}function bi(){for(var Pe=1;Pe<arguments.length;Pe++){var ut=arguments[Pe];if(ut)for(var We in ut)ut.hasOwnProperty(We)&&(yu(ut[We])?arguments[0][We]=ut[We].slice():arguments[0][We]=ut[We])}return arguments[0]}var Ns=function(){function Pe(ut){y(this,Pe);for(var We in la)if(la.hasOwnProperty(We)){var yt=la[We],bt=yt._driver;this[We]=bt,os[bt]||this.defineDriver(yt)}this._defaultConfig=bi({},Ea),this._config=bi({},this._defaultConfig,ut),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return Pe.prototype.config=function(We){if((typeof We>"u"?"undefined":g(We))==="object"){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var yt in We){if(yt==="storeName"&&(We[yt]=We[yt].replace(/\W/g,"_")),yt==="version"&&typeof We[yt]!="number")return new Error("Database version must be a number.");this._config[yt]=We[yt]}return"driver"in We&&We.driver?this.setDriver(this._config.driver):!0}else return typeof We=="string"?this._config[We]:this._config},Pe.prototype.defineDriver=function(We,yt,bt){var it=new N(function(Qt,gn){try{var yn=We._driver,_n=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!We._driver){gn(_n);return}for(var wn=jc.concat("_initStorage"),_o=0,bn=wn.length;_o<bn;_o++){var Fs=wn[_o],Ko=!Od(rl,Fs);if((Ko||We[Fs])&&typeof We[Fs]!="function"){gn(_n);return}}var is=function(){for(var Xl=function(Sr){return function(){var Rd=new Error("Method "+Sr+" is not implemented by the current driver"),jr=N.reject(Rd);return V(jr,arguments[arguments.length-1]),jr}},vi=0,po=rl.length;vi<po;vi++){var yl=rl[vi];We[yl]||(We[yl]=Xl(yl))}};is();var Vr=function(Xl){os[yn]&&console.info("Redefining LocalForage driver: "+yn),os[yn]=We,$r[yn]=Xl,Qt()};"_support"in We?We._support&&typeof We._support=="function"?We._support().then(Vr,gn):Vr(!!We._support):Vr(!0)}catch(Bo){gn(Bo)}});return z(it,yt,bt),it},Pe.prototype.driver=function(){return this._driver||null},Pe.prototype.getDriver=function(We,yt,bt){var it=os[We]?N.resolve(os[We]):N.reject(new Error("Driver not found."));return z(it,yt,bt),it},Pe.prototype.getSerializer=function(We){var yt=N.resolve(ia);return z(yt,We),yt},Pe.prototype.ready=function(We){var yt=this,bt=yt._driverSet.then(function(){return yt._ready===null&&(yt._ready=yt._initDriver()),yt._ready});return z(bt,We,We),bt},Pe.prototype.setDriver=function(We,yt,bt){var it=this;yu(We)||(We=[We]);var Qt=this._getSupportedDrivers(We);function gn(){it._config.driver=it.driver()}function yn(_o){return it._extend(_o),gn(),it._ready=it._initStorage(it._config),it._ready}function _n(_o){return function(){var bn=0;function Fs(){for(;bn<_o.length;){var Ko=_o[bn];return bn++,it._dbInfo=null,it._ready=null,it.getDriver(Ko).then(yn).catch(Fs)}gn();var is=new Error("No available storage method found.");return it._driverSet=N.reject(is),it._driverSet}return Fs()}}var wn=this._driverSet!==null?this._driverSet.catch(function(){return N.resolve()}):N.resolve();return this._driverSet=wn.then(function(){var _o=Qt[0];return it._dbInfo=null,it._ready=null,it.getDriver(_o).then(function(bn){it._driver=bn._driver,gn(),it._wrapLibraryMethodsWithReady(),it._initDriver=_n(Qt)})}).catch(function(){gn();var _o=new Error("No available storage method found.");return it._driverSet=N.reject(_o),it._driverSet}),z(this._driverSet,yt,bt),this._driverSet},Pe.prototype.supports=function(We){return!!$r[We]},Pe.prototype._extend=function(We){bi(this,We)},Pe.prototype._getSupportedDrivers=function(We){for(var yt=[],bt=0,it=We.length;bt<it;bt++){var Qt=We[bt];this.supports(Qt)&&yt.push(Qt)}return yt},Pe.prototype._wrapLibraryMethodsWithReady=function(){for(var We=0,yt=jc.length;We<yt;We++)pi(this,jc[We])},Pe.prototype.createInstance=function(We){return new Pe(We)},Pe}(),hr=new Ns;d.exports=hr},{3:3}]},{},[4])(4)})}(Nz)),Nz.exports}var Nhe=Dhe();const Ihe=PL(Nhe);function gg(n){return Ihe.createInstance({name:"xlas-assessment-writer",storeName:n})}const xk=gg("alerts"),Phe={alerts:{},activeKey:"",showAllAlerts:!1},Bhe=Tf("alerts",{state:()=>Phe,getters:{countAlerts:n=>Object.keys(n.alerts).length,hasAlerts:n=>n.countAlerts>0,hasActiveAlert:n=>n.activeKey!=="",activeMessage:n=>{var r;return((r=n.alerts[n.activeKey])==null?void 0:r.message)??""},sortedAlerts:n=>Object.values(n.alerts).toSorted(Dz.order)},actions:{showAlerts(){this.showAllAlerts=!0},hideAlert(){this.activeKey="",this.showAllAlerts=!1},async clearStorage(){try{this.$reset(),await xk.clear()}catch(n){console.log(n)}},async loadFromStorage(){try{this.$reset();const n=await xk.getItem("keys")??[];for(const r of n)this.alerts[r]=new Dz(await xk.getItem(r))}catch(n){console.log(n)}},async loadFromBackend(n=[]){try{await xk.clear(),this.$reset();for(const r of n){const l=new Dz(r);this.alerts[l.getKey()]=l,await xk.setItem(l.getKey(),l.getData())}await xk.setItem("keys",Object.keys(this.alerts))}catch(r){console.log(r)}}}}),Lr=class Lr{constructor(r={}){Yn(this,"action",null);Yn(this,"type",null);Yn(this,"key","");Yn(this,"last_change",null);Yn(this,"payload",null);r.action!==void 0&&Lr.ALLOWED_ACTIONS.includes(r.action)&&(this.action=r.action.toString()),r.type!==void 0&&Lr.ALLOWED_TYPES.includes(r.type)&&(this.type=r.type.toString()),r.key!==void 0&&r.key!==null&&(this.key=r.key.toString()),r.last_change!==void 0&&r.last_change!==null&&(this.last_change=parseInt(r.last_change)),r.payload!==void 0&&r.payload!==null&&(this.payload=r.payload),this.last_change===null&&(this.last_change=Date.now())}static buildChangeKey(r,l){return r+"_"+l}getData(){return Object.assign({},this)}getChangeKey(){return Lr.buildChangeKey(this.type,this.key)}isValid(){return Lr.ALLOWED_TYPES.includes(this.type)&&Lr.ALLOWED_ACTIONS.includes(this.action)&&this.key!=""}};Yn(Lr,"ACTION_SAVE","save"),Yn(Lr,"ACTION_DELETE","delete"),Yn(Lr,"ALLOWED_ACTIONS",[Lr.ACTION_SAVE,Lr.ACTION_DELETE]),Yn(Lr,"TYPE_ANNOTATIONS","anno"),Yn(Lr,"TYPE_NOTES","note"),Yn(Lr,"TYPE_PREFERENCES","pref"),Yn(Lr,"TYPE_STEPS","step"),Yn(Lr,"TYPE_ESSAY","essay"),Yn(Lr,"TYPE_WRITER","writer"),Yn(Lr,"ALLOWED_TYPES",[Lr.TYPE_ANNOTATIONS,Lr.TYPE_NOTES,Lr.TYPE_PREFERENCES,Lr.TYPE_STEPS,Lr.TYPE_ESSAY,Lr.TYPE_WRITER]),Yn(Lr,"STORED_TYPES",[Lr.TYPE_ANNOTATIONS,Lr.TYPE_PREFERENCES,Lr.TYPE_STEPS,Lr.TYPE_NOTES]),Yn(Lr,"WRITING_TYPES",[Lr.TYPE_STEPS]),Yn(Lr,"OTHER_TYPES",[Lr.TYPE_ANNOTATIONS,Lr.TYPE_NOTES,Lr.TYPE_PREFERENCES]);let Us=Lr;const Rk=class Rk{constructor(r={}){Yn(this,"resource_id",null);Yn(this,"task_id",null);Yn(this,"mark_key","");Yn(this,"mark_value",null);Yn(this,"parent_number",0);Yn(this,"start_position",0);Yn(this,"end_position",0);Yn(this,"comment",null);Yn(this,"label","");r.resource_id!==void 0&&r.resource_id!==null&&(this.resource_id=parseInt(r.resource_id)),r.task_id!==void 0&&r.task_id!==null&&(this.task_id=parseInt(r.task_id)),r.mark_key!==void 0&&r.mark_key!==null?this.mark_key=r.mark_key:this.mark_key=Rk.newMarkKey(),r.mark_value!==void 0&&r.mark_value!==null&&(this.mark_value=r.mark_value),r.parent_number!==void 0&&r.parent_number!==null&&(this.parent_number=r.parent_number),r.start_position!==void 0&&r.start_position!==null&&(this.start_position=r.start_position),r.end_position!==void 0&&r.end_position!==null&&(this.end_position=r.end_position),r.comment!==void 0&&r.comment!==null&&(this.comment=r.comment)}static buildKey(r,l){return"A_"+r.toString()+"_"+l}static getFromKey(r){const l=r.split("_");return new Rk({resource_id:parseInt(l[1]),mark_key:l[2]})}static order(r,l){return r.resource_id<l.resource_id?-1:r.resource_id>l.resource_id?1:r.parent_number<l.parent_number?-1:r.parent_number>l.parent_number?1:r.start_position<l.start_position?-1:r.start_position>l.start_position?1:0}static newMarkKey(){return Math.floor(Math.random()*899999999+1e8)}getData(){return Object.assign({},this)}getChange(r){return new Us({type:Us.TYPE_ANNOTATIONS,action:r,key:this.getKey(),payload:r===Us.ACTION_DELETE?{resource_id:this.resource_id,mark_key:this.mark_key}:null})}getKey(){return Rk.buildKey(this.resource_id,this.mark_key)}};Yn(Rk,"RESOURCE_ID_INSTRUCTIONS",0);let Sf=Rk;const _h=gg("annotations"),Mhe={annotations:{},markerChange:0,selectionChange:0,caretRequest:0,selectedKey:"",deletedKey:"",firstVisibleKey:""},Lhe=Tf("annotations",{state:()=>Mhe,getters:{activeAnnotations(n){const r=Bt.layout(),l=Bt.tasks(),d=r.selectedResourceId;return d!==null?Object.values(n.annotations).filter(h=>{var g;return h.resource_id===d&&h.task_id==((g=l.currentTask)==null?void 0:g.task_id)}).sort(Sf.order):[]},getAnnotation(n){return function(l){return n.annotations[l]??null}},getAnnotationsForResourceId(n){return function(l){return Object.values(n.annotations).filter(d=>d.resource_id===l)}},getActiveAnotationsInRange(n){return function(l,d){return n.activeAnnotations.filter(h=>h.start_position<=d&&h.end_position>=l)}},getActiveAnnotationsByStartPosition(n){return function(l){return n.activeAnnotations.filter(d=>d.start_position===l)}},getActiveAnnotationsByParentNumber(n){return function(l){return n.activeAnnotations.filter(d=>d.parent_number===l)}}},actions:{setFirstVisibleAnnotation(n){this.firstVisibleKey=n},setMarkerChange(){this.markerChange=Date.now()},setCaretRequest(){this.caretRequest=Date.now()},selectAnnotation(n){this.selectedKey=n,this.selectionChange=Date.now()},async createAnnotation(n){Bt.api();const r=Bt.changes();this.annotations[n.getKey()]=n,await this.labelAnnotations(),this.setMarkerChange(),this.selectAnnotation(n.getKey()),await _h.setItem(n.getKey(),n.getData()),await _h.setItem("keys",Object.keys(this.annotations)),await r.setChange(n.getChange(Us.ACTION_SAVE))},async updateAnnotation(n,r=!1){Bt.api();const l=Bt.changes();Object.keys(this.annotations).includes(n.getKey())&&(await _h.setItem(n.getKey(),n.getData()),await l.setChange(n.getChange(Us.ACTION_SAVE)),r&&(await this.labelAnnotations(),this.setMarkerChange()))},async deleteAnnotation(n){this.selectedKey===n&&this.selectAnnotation("");const r=this.annotations[n];r&&(delete this.annotations[n],await _h.removeItem(n),await _h.setItem("keys",Object.keys(this.annotations)),this.deletedKey=n,await Bt.changes().setChange(r.getChange(Us.ACTION_DELETE)),await this.labelAnnotations(),this.setMarkerChange())},async labelAnnotations(){const n=Object.values(this.annotations).sort(Sf.order);let r="",l=0,d=0;for(const h of n)h.resource_key!==r?(r=h.resource_key,l=0,d=1):h.parent_number>l?(l=h.parent_number,d=1):d++,h.label=(l+1).toString()+"."+d.toString()},async clearStorage(){try{this.$reset(),await _h.clear()}catch(n){console.log(n)}},async loadFromStorage(){try{this.$reset();const n=await _h.getItem("keys")??[];for(const r of n)this.annotations[r]=new Sf(await _h.getItem(r));await this.labelAnnotations()}catch(n){console.log(n)}},async loadFromBackend(n){try{await _h.clear(),this.$reset();for(const r of n){const l=new Sf(r);this.annotations[l.getKey()]=l,await _h.setItem(l.getKey(),l.getData())}await _h.setItem("keys",Object.keys(this.annotations)),await this.labelAnnotations()}catch(r){console.log(r)}},async getChangedData(n=0){Bt.api();const r=Bt.changes(),l=[];for(const d of r.getChangesFor(Us.TYPE_ANNOTATIONS,n)){const h=await _h.getItem(d.key)??null;l.push(r.getChangeDataToSend(d,h))}return l}}});class Pk{constructor(r={}){Yn(this,"success",!0);Yn(this,"message","");Yn(this,"details","");this.setData(r)}setData(r){r.success!==void 0&&r.success!==null&&(this.success=!!r.success),r.message!==void 0&&r.message!==null&&(this.message=r.message.toString()),r.details!==void 0&&r.details!==null&&(this.details=r.details.toString())}getData(){return{success:this.success,message:this.message,details:this.details}}}function SJ(n,r){return function(){return n.apply(r,arguments)}}const{toString:Fhe}=Object.prototype,{getPrototypeOf:NU}=Object,{iterator:BL,toStringTag:_J}=Symbol,ML=(n=>r=>{const l=Fhe.call(r);return n[l]||(n[l]=l.slice(8,-1).toLowerCase())})(Object.create(null)),Hp=n=>(n=n.toLowerCase(),r=>ML(r)===n),LL=n=>r=>typeof r===n,{isArray:qk}=Array,qO=LL("undefined");function $he(n){return n!==null&&!qO(n)&&n.constructor!==null&&!qO(n.constructor)&&xm(n.constructor.isBuffer)&&n.constructor.isBuffer(n)}const kJ=Hp("ArrayBuffer");function Vhe(n){let r;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?r=ArrayBuffer.isView(n):r=n&&n.buffer&&kJ(n.buffer),r}const Hhe=LL("string"),xm=LL("function"),EJ=LL("number"),FL=n=>n!==null&&typeof n=="object",zhe=n=>n===!0||n===!1,BM=n=>{if(ML(n)!=="object")return!1;const r=NU(n);return(r===null||r===Object.prototype||Object.getPrototypeOf(r)===null)&&!(_J in n)&&!(BL in n)},Uhe=Hp("Date"),Whe=Hp("File"),jhe=Hp("Blob"),Zhe=Hp("FileList"),Khe=n=>FL(n)&&xm(n.pipe),qhe=n=>{let r;return n&&(typeof FormData=="function"&&n instanceof FormData||xm(n.append)&&((r=ML(n))==="formdata"||r==="object"&&xm(n.toString)&&n.toString()==="[object FormData]"))},Ghe=Hp("URLSearchParams"),[Yhe,Xhe,Jhe,Qhe]=["ReadableStream","Request","Response","Headers"].map(Hp),epe=n=>n.trim?n.trim():n.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function iR(n,r,{allOwnKeys:l=!1}={}){if(n===null||typeof n>"u")return;let d,h;if(typeof n!="object"&&(n=[n]),qk(n))for(d=0,h=n.length;d<h;d++)r.call(null,n[d],d,n);else{const g=l?Object.getOwnPropertyNames(n):Object.keys(n),y=g.length;let w;for(d=0;d<y;d++)w=g[d],r.call(null,n[w],w,n)}}function AJ(n,r){r=r.toLowerCase();const l=Object.keys(n);let d=l.length,h;for(;d-- >0;)if(h=l[d],r===h.toLowerCase())return h;return null}const lC=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,TJ=n=>!qO(n)&&n!==lC;function I9(){const{caseless:n}=TJ(this)&&this||{},r={},l=(d,h)=>{const g=n&&AJ(r,h)||h;BM(r[g])&&BM(d)?r[g]=I9(r[g],d):BM(d)?r[g]=I9({},d):qk(d)?r[g]=d.slice():r[g]=d};for(let d=0,h=arguments.length;d<h;d++)arguments[d]&&iR(arguments[d],l);return r}const tpe=(n,r,l,{allOwnKeys:d}={})=>(iR(r,(h,g)=>{l&&xm(h)?n[g]=SJ(h,l):n[g]=h},{allOwnKeys:d}),n),npe=n=>(n.charCodeAt(0)===65279&&(n=n.slice(1)),n),ope=(n,r,l,d)=>{n.prototype=Object.create(r.prototype,d),n.prototype.constructor=n,Object.defineProperty(n,"super",{value:r.prototype}),l&&Object.assign(n.prototype,l)},spe=(n,r,l,d)=>{let h,g,y;const w={};if(r=r||{},n==null)return r;do{for(h=Object.getOwnPropertyNames(n),g=h.length;g-- >0;)y=h[g],(!d||d(y,n,r))&&!w[y]&&(r[y]=n[y],w[y]=!0);n=l!==!1&&NU(n)}while(n&&(!l||l(n,r))&&n!==Object.prototype);return r},rpe=(n,r,l)=>{n=String(n),(l===void 0||l>n.length)&&(l=n.length),l-=r.length;const d=n.indexOf(r,l);return d!==-1&&d===l},ape=n=>{if(!n)return null;if(qk(n))return n;let r=n.length;if(!EJ(r))return null;const l=new Array(r);for(;r-- >0;)l[r]=n[r];return l},ipe=(n=>r=>n&&r instanceof n)(typeof Uint8Array<"u"&&NU(Uint8Array)),lpe=(n,r)=>{const d=(n&&n[BL]).call(n);let h;for(;(h=d.next())&&!h.done;){const g=h.value;r.call(n,g[0],g[1])}},cpe=(n,r)=>{let l;const d=[];for(;(l=n.exec(r))!==null;)d.push(l);return d},upe=Hp("HTMLFormElement"),dpe=n=>n.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(l,d,h){return d.toUpperCase()+h}),zq=(({hasOwnProperty:n})=>(r,l)=>n.call(r,l))(Object.prototype),fpe=Hp("RegExp"),OJ=(n,r)=>{const l=Object.getOwnPropertyDescriptors(n),d={};iR(l,(h,g)=>{let y;(y=r(h,g,n))!==!1&&(d[g]=y||h)}),Object.defineProperties(n,d)},mpe=n=>{OJ(n,(r,l)=>{if(xm(n)&&["arguments","caller","callee"].indexOf(l)!==-1)return!1;const d=n[l];if(xm(d)){if(r.enumerable=!1,"writable"in r){r.writable=!1;return}r.set||(r.set=()=>{throw Error("Can not rewrite read-only method '"+l+"'")})}})},gpe=(n,r)=>{const l={},d=h=>{h.forEach(g=>{l[g]=!0})};return qk(n)?d(n):d(String(n).split(r)),l},hpe=()=>{},ppe=(n,r)=>n!=null&&Number.isFinite(n=+n)?n:r;function bpe(n){return!!(n&&xm(n.append)&&n[_J]==="FormData"&&n[BL])}const vpe=n=>{const r=new Array(10),l=(d,h)=>{if(FL(d)){if(r.indexOf(d)>=0)return;if(!("toJSON"in d)){r[h]=d;const g=qk(d)?[]:{};return iR(d,(y,w)=>{const A=l(y,h+1);!qO(A)&&(g[w]=A)}),r[h]=void 0,g}}return d};return l(n,0)},ype=Hp("AsyncFunction"),xpe=n=>n&&(FL(n)||xm(n))&&xm(n.then)&&xm(n.catch),RJ=((n,r)=>n?setImmediate:r?((l,d)=>(lC.addEventListener("message",({source:h,data:g})=>{h===lC&&g===l&&d.length&&d.shift()()},!1),h=>{d.push(h),lC.postMessage(l,"*")}))(`axios@${Math.random()}`,[]):l=>setTimeout(l))(typeof setImmediate=="function",xm(lC.postMessage)),wpe=typeof queueMicrotask<"u"?queueMicrotask.bind(lC):typeof process<"u"&&process.nextTick||RJ,Cpe=n=>n!=null&&xm(n[BL]),nn={isArray:qk,isArrayBuffer:kJ,isBuffer:$he,isFormData:qhe,isArrayBufferView:Vhe,isString:Hhe,isNumber:EJ,isBoolean:zhe,isObject:FL,isPlainObject:BM,isReadableStream:Yhe,isRequest:Xhe,isResponse:Jhe,isHeaders:Qhe,isUndefined:qO,isDate:Uhe,isFile:Whe,isBlob:jhe,isRegExp:fpe,isFunction:xm,isStream:Khe,isURLSearchParams:Ghe,isTypedArray:ipe,isFileList:Zhe,forEach:iR,merge:I9,extend:tpe,trim:epe,stripBOM:npe,inherits:ope,toFlatObject:spe,kindOf:ML,kindOfTest:Hp,endsWith:rpe,toArray:ape,forEachEntry:lpe,matchAll:cpe,isHTMLForm:upe,hasOwnProperty:zq,hasOwnProp:zq,reduceDescriptors:OJ,freezeMethods:mpe,toObjectSet:gpe,toCamelCase:dpe,noop:hpe,toFiniteNumber:ppe,findKey:AJ,global:lC,isContextDefined:TJ,isSpecCompliantForm:bpe,toJSONObject:vpe,isAsyncFn:ype,isThenable:xpe,setImmediate:RJ,asap:wpe,isIterable:Cpe};function rr(n,r,l,d,h){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=n,this.name="AxiosError",r&&(this.code=r),l&&(this.config=l),d&&(this.request=d),h&&(this.response=h,this.status=h.status?h.status:null)}nn.inherits(rr,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:nn.toJSONObject(this.config),code:this.code,status:this.status}}});const DJ=rr.prototype,NJ={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(n=>{NJ[n]={value:n}});Object.defineProperties(rr,NJ);Object.defineProperty(DJ,"isAxiosError",{value:!0});rr.from=(n,r,l,d,h,g)=>{const y=Object.create(DJ);return nn.toFlatObject(n,y,function(A){return A!==Error.prototype},w=>w!=="isAxiosError"),rr.call(y,n.message,r,l,d,h),y.cause=n,y.name=n.name,g&&Object.assign(y,g),y};const Spe=null;function P9(n){return nn.isPlainObject(n)||nn.isArray(n)}function IJ(n){return nn.endsWith(n,"[]")?n.slice(0,-2):n}function Uq(n,r,l){return n?n.concat(r).map(function(h,g){return h=IJ(h),!l&&g?"["+h+"]":h}).join(l?".":""):r}function _pe(n){return nn.isArray(n)&&!n.some(P9)}const kpe=nn.toFlatObject(nn,{},null,function(r){return/^is[A-Z]/.test(r)});function $L(n,r,l){if(!nn.isObject(n))throw new TypeError("target must be an object");r=r||new FormData,l=nn.toFlatObject(l,{metaTokens:!0,dots:!1,indexes:!1},!1,function(X,oe){return!nn.isUndefined(oe[X])});const d=l.metaTokens,h=l.visitor||O,g=l.dots,y=l.indexes,A=(l.Blob||typeof Blob<"u"&&Blob)&&nn.isSpecCompliantForm(r);if(!nn.isFunction(h))throw new TypeError("visitor must be a function");function R(W){if(W===null)return"";if(nn.isDate(W))return W.toISOString();if(!A&&nn.isBlob(W))throw new rr("Blob is not supported. Use a Buffer instead.");return nn.isArrayBuffer(W)||nn.isTypedArray(W)?A&&typeof Blob=="function"?new Blob([W]):Buffer.from(W):W}function O(W,X,oe){let j=W;if(W&&!oe&&typeof W=="object"){if(nn.endsWith(X,"{}"))X=d?X:X.slice(0,-2),W=JSON.stringify(W);else if(nn.isArray(W)&&_pe(W)||(nn.isFileList(W)||nn.endsWith(X,"[]"))&&(j=nn.toArray(W)))return X=IJ(X),j.forEach(function(le,q){!(nn.isUndefined(le)||le===null)&&r.append(y===!0?Uq([X],q,g):y===null?X:X+"[]",R(le))}),!1}return P9(W)?!0:(r.append(Uq(oe,X,g),R(W)),!1)}const N=[],V=Object.assign(kpe,{defaultVisitor:O,convertValue:R,isVisitable:P9});function z(W,X){if(!nn.isUndefined(W)){if(N.indexOf(W)!==-1)throw Error("Circular reference detected in "+X.join("."));N.push(W),nn.forEach(W,function(j,fe){(!(nn.isUndefined(j)||j===null)&&h.call(r,j,nn.isString(fe)?fe.trim():fe,X,V))===!0&&z(j,X?X.concat(fe):[fe])}),N.pop()}}if(!nn.isObject(n))throw new TypeError("data must be an object");return z(n),r}function Wq(n){const r={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(n).replace(/[!'()~]|%20|%00/g,function(d){return r[d]})}function IU(n,r){this._pairs=[],n&&$L(n,this,r)}const PJ=IU.prototype;PJ.append=function(r,l){this._pairs.push([r,l])};PJ.toString=function(r){const l=r?function(d){return r.call(this,d,Wq)}:Wq;return this._pairs.map(function(h){return l(h[0])+"="+l(h[1])},"").join("&")};function Epe(n){return encodeURIComponent(n).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function BJ(n,r,l){if(!r)return n;const d=l&&l.encode||Epe;nn.isFunction(l)&&(l={serialize:l});const h=l&&l.serialize;let g;if(h?g=h(r,l):g=nn.isURLSearchParams(r)?r.toString():new IU(r,l).toString(d),g){const y=n.indexOf("#");y!==-1&&(n=n.slice(0,y)),n+=(n.indexOf("?")===-1?"?":"&")+g}return n}class jq{constructor(){this.handlers=[]}use(r,l,d){return this.handlers.push({fulfilled:r,rejected:l,synchronous:d?d.synchronous:!1,runWhen:d?d.runWhen:null}),this.handlers.length-1}eject(r){this.handlers[r]&&(this.handlers[r]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(r){nn.forEach(this.handlers,function(d){d!==null&&r(d)})}}const MJ={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Ape=typeof URLSearchParams<"u"?URLSearchParams:IU,Tpe=typeof FormData<"u"?FormData:null,Ope=typeof Blob<"u"?Blob:null,Rpe={isBrowser:!0,classes:{URLSearchParams:Ape,FormData:Tpe,Blob:Ope},protocols:["http","https","file","blob","url","data"]},PU=typeof window<"u"&&typeof document<"u",B9=typeof navigator=="object"&&navigator||void 0,Dpe=PU&&(!B9||["ReactNative","NativeScript","NS"].indexOf(B9.product)<0),Npe=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Ipe=PU&&window.location.href||"http://localhost",Ppe=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:PU,hasStandardBrowserEnv:Dpe,hasStandardBrowserWebWorkerEnv:Npe,navigator:B9,origin:Ipe},Symbol.toStringTag,{value:"Module"})),Ed={...Ppe,...Rpe};function Bpe(n,r){return $L(n,new Ed.classes.URLSearchParams,Object.assign({visitor:function(l,d,h,g){return Ed.isNode&&nn.isBuffer(l)?(this.append(d,l.toString("base64")),!1):g.defaultVisitor.apply(this,arguments)}},r))}function Mpe(n){return nn.matchAll(/\w+|\[(\w*)]/g,n).map(r=>r[0]==="[]"?"":r[1]||r[0])}function Lpe(n){const r={},l=Object.keys(n);let d;const h=l.length;let g;for(d=0;d<h;d++)g=l[d],r[g]=n[g];return r}function LJ(n){function r(l,d,h,g){let y=l[g++];if(y==="__proto__")return!0;const w=Number.isFinite(+y),A=g>=l.length;return y=!y&&nn.isArray(h)?h.length:y,A?(nn.hasOwnProp(h,y)?h[y]=[h[y],d]:h[y]=d,!w):((!h[y]||!nn.isObject(h[y]))&&(h[y]=[]),r(l,d,h[y],g)&&nn.isArray(h[y])&&(h[y]=Lpe(h[y])),!w)}if(nn.isFormData(n)&&nn.isFunction(n.entries)){const l={};return nn.forEachEntry(n,(d,h)=>{r(Mpe(d),h,l,0)}),l}return null}function Fpe(n,r,l){if(nn.isString(n))try{return(r||JSON.parse)(n),nn.trim(n)}catch(d){if(d.name!=="SyntaxError")throw d}return(l||JSON.stringify)(n)}const lR={transitional:MJ,adapter:["xhr","http","fetch"],transformRequest:[function(r,l){const d=l.getContentType()||"",h=d.indexOf("application/json")>-1,g=nn.isObject(r);if(g&&nn.isHTMLForm(r)&&(r=new FormData(r)),nn.isFormData(r))return h?JSON.stringify(LJ(r)):r;if(nn.isArrayBuffer(r)||nn.isBuffer(r)||nn.isStream(r)||nn.isFile(r)||nn.isBlob(r)||nn.isReadableStream(r))return r;if(nn.isArrayBufferView(r))return r.buffer;if(nn.isURLSearchParams(r))return l.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),r.toString();let w;if(g){if(d.indexOf("application/x-www-form-urlencoded")>-1)return Bpe(r,this.formSerializer).toString();if((w=nn.isFileList(r))||d.indexOf("multipart/form-data")>-1){const A=this.env&&this.env.FormData;return $L(w?{"files[]":r}:r,A&&new A,this.formSerializer)}}return g||h?(l.setContentType("application/json",!1),Fpe(r)):r}],transformResponse:[function(r){const l=this.transitional||lR.transitional,d=l&&l.forcedJSONParsing,h=this.responseType==="json";if(nn.isResponse(r)||nn.isReadableStream(r))return r;if(r&&nn.isString(r)&&(d&&!this.responseType||h)){const y=!(l&&l.silentJSONParsing)&&h;try{return JSON.parse(r)}catch(w){if(y)throw w.name==="SyntaxError"?rr.from(w,rr.ERR_BAD_RESPONSE,this,null,this.response):w}}return r}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Ed.classes.FormData,Blob:Ed.classes.Blob},validateStatus:function(r){return r>=200&&r<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};nn.forEach(["delete","get","head","post","put","patch"],n=>{lR.headers[n]={}});const $pe=nn.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Vpe=n=>{const r={};let l,d,h;return n&&n.split(`
`).forEach(function(y){h=y.indexOf(":"),l=y.substring(0,h).trim().toLowerCase(),d=y.substring(h+1).trim(),!(!l||r[l]&&$pe[l])&&(l==="set-cookie"?r[l]?r[l].push(d):r[l]=[d]:r[l]=r[l]?r[l]+", "+d:d)}),r},Zq=Symbol("internals");function SO(n){return n&&String(n).trim().toLowerCase()}function MM(n){return n===!1||n==null?n:nn.isArray(n)?n.map(MM):String(n)}function Hpe(n){const r=Object.create(null),l=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let d;for(;d=l.exec(n);)r[d[1]]=d[2];return r}const zpe=n=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(n.trim());function Iz(n,r,l,d,h){if(nn.isFunction(d))return d.call(this,r,l);if(h&&(r=l),!!nn.isString(r)){if(nn.isString(d))return r.indexOf(d)!==-1;if(nn.isRegExp(d))return d.test(r)}}function Upe(n){return n.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(r,l,d)=>l.toUpperCase()+d)}function Wpe(n,r){const l=nn.toCamelCase(" "+r);["get","set","has"].forEach(d=>{Object.defineProperty(n,d+l,{value:function(h,g,y){return this[d].call(this,r,h,g,y)},configurable:!0})})}let wm=class{constructor(r){r&&this.set(r)}set(r,l,d){const h=this;function g(w,A,R){const O=SO(A);if(!O)throw new Error("header name must be a non-empty string");const N=nn.findKey(h,O);(!N||h[N]===void 0||R===!0||R===void 0&&h[N]!==!1)&&(h[N||A]=MM(w))}const y=(w,A)=>nn.forEach(w,(R,O)=>g(R,O,A));if(nn.isPlainObject(r)||r instanceof this.constructor)y(r,l);else if(nn.isString(r)&&(r=r.trim())&&!zpe(r))y(Vpe(r),l);else if(nn.isObject(r)&&nn.isIterable(r)){let w={},A,R;for(const O of r){if(!nn.isArray(O))throw TypeError("Object iterator must return a key-value pair");w[R=O[0]]=(A=w[R])?nn.isArray(A)?[...A,O[1]]:[A,O[1]]:O[1]}y(w,l)}else r!=null&&g(l,r,d);return this}get(r,l){if(r=SO(r),r){const d=nn.findKey(this,r);if(d){const h=this[d];if(!l)return h;if(l===!0)return Hpe(h);if(nn.isFunction(l))return l.call(this,h,d);if(nn.isRegExp(l))return l.exec(h);throw new TypeError("parser must be boolean|regexp|function")}}}has(r,l){if(r=SO(r),r){const d=nn.findKey(this,r);return!!(d&&this[d]!==void 0&&(!l||Iz(this,this[d],d,l)))}return!1}delete(r,l){const d=this;let h=!1;function g(y){if(y=SO(y),y){const w=nn.findKey(d,y);w&&(!l||Iz(d,d[w],w,l))&&(delete d[w],h=!0)}}return nn.isArray(r)?r.forEach(g):g(r),h}clear(r){const l=Object.keys(this);let d=l.length,h=!1;for(;d--;){const g=l[d];(!r||Iz(this,this[g],g,r,!0))&&(delete this[g],h=!0)}return h}normalize(r){const l=this,d={};return nn.forEach(this,(h,g)=>{const y=nn.findKey(d,g);if(y){l[y]=MM(h),delete l[g];return}const w=r?Upe(g):String(g).trim();w!==g&&delete l[g],l[w]=MM(h),d[w]=!0}),this}concat(...r){return this.constructor.concat(this,...r)}toJSON(r){const l=Object.create(null);return nn.forEach(this,(d,h)=>{d!=null&&d!==!1&&(l[h]=r&&nn.isArray(d)?d.join(", "):d)}),l}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([r,l])=>r+": "+l).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(r){return r instanceof this?r:new this(r)}static concat(r,...l){const d=new this(r);return l.forEach(h=>d.set(h)),d}static accessor(r){const d=(this[Zq]=this[Zq]={accessors:{}}).accessors,h=this.prototype;function g(y){const w=SO(y);d[w]||(Wpe(h,y),d[w]=!0)}return nn.isArray(r)?r.forEach(g):g(r),this}};wm.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);nn.reduceDescriptors(wm.prototype,({value:n},r)=>{let l=r[0].toUpperCase()+r.slice(1);return{get:()=>n,set(d){this[l]=d}}});nn.freezeMethods(wm);function Pz(n,r){const l=this||lR,d=r||l,h=wm.from(d.headers);let g=d.data;return nn.forEach(n,function(w){g=w.call(l,g,h.normalize(),r?r.status:void 0)}),h.normalize(),g}function FJ(n){return!!(n&&n.__CANCEL__)}function Gk(n,r,l){rr.call(this,n??"canceled",rr.ERR_CANCELED,r,l),this.name="CanceledError"}nn.inherits(Gk,rr,{__CANCEL__:!0});function $J(n,r,l){const d=l.config.validateStatus;!l.status||!d||d(l.status)?n(l):r(new rr("Request failed with status code "+l.status,[rr.ERR_BAD_REQUEST,rr.ERR_BAD_RESPONSE][Math.floor(l.status/100)-4],l.config,l.request,l))}function jpe(n){const r=/^([-+\w]{1,25})(:?\/\/|:)/.exec(n);return r&&r[1]||""}function Zpe(n,r){n=n||10;const l=new Array(n),d=new Array(n);let h=0,g=0,y;return r=r!==void 0?r:1e3,function(A){const R=Date.now(),O=d[g];y||(y=R),l[h]=A,d[h]=R;let N=g,V=0;for(;N!==h;)V+=l[N++],N=N%n;if(h=(h+1)%n,h===g&&(g=(g+1)%n),R-y<r)return;const z=O&&R-O;return z?Math.round(V*1e3/z):void 0}}function Kpe(n,r){let l=0,d=1e3/r,h,g;const y=(R,O=Date.now())=>{l=O,h=null,g&&(clearTimeout(g),g=null),n.apply(null,R)};return[(...R)=>{const O=Date.now(),N=O-l;N>=d?y(R,O):(h=R,g||(g=setTimeout(()=>{g=null,y(h)},d-N)))},()=>h&&y(h)]}const iL=(n,r,l=3)=>{let d=0;const h=Zpe(50,250);return Kpe(g=>{const y=g.loaded,w=g.lengthComputable?g.total:void 0,A=y-d,R=h(A),O=y<=w;d=y;const N={loaded:y,total:w,progress:w?y/w:void 0,bytes:A,rate:R||void 0,estimated:R&&w&&O?(w-y)/R:void 0,event:g,lengthComputable:w!=null,[r?"download":"upload"]:!0};n(N)},l)},Kq=(n,r)=>{const l=n!=null;return[d=>r[0]({lengthComputable:l,total:n,loaded:d}),r[1]]},qq=n=>(...r)=>nn.asap(()=>n(...r)),qpe=Ed.hasStandardBrowserEnv?((n,r)=>l=>(l=new URL(l,Ed.origin),n.protocol===l.protocol&&n.host===l.host&&(r||n.port===l.port)))(new URL(Ed.origin),Ed.navigator&&/(msie|trident)/i.test(Ed.navigator.userAgent)):()=>!0,Gpe=Ed.hasStandardBrowserEnv?{write(n,r,l,d,h,g){const y=[n+"="+encodeURIComponent(r)];nn.isNumber(l)&&y.push("expires="+new Date(l).toGMTString()),nn.isString(d)&&y.push("path="+d),nn.isString(h)&&y.push("domain="+h),g===!0&&y.push("secure"),document.cookie=y.join("; ")},read(n){const r=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return r?decodeURIComponent(r[3]):null},remove(n){this.write(n,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Ype(n){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(n)}function Xpe(n,r){return r?n.replace(/\/?\/$/,"")+"/"+r.replace(/^\/+/,""):n}function VJ(n,r,l){let d=!Ype(r);return n&&(d||l==!1)?Xpe(n,r):r}const Gq=n=>n instanceof wm?{...n}:n;function gC(n,r){r=r||{};const l={};function d(R,O,N,V){return nn.isPlainObject(R)&&nn.isPlainObject(O)?nn.merge.call({caseless:V},R,O):nn.isPlainObject(O)?nn.merge({},O):nn.isArray(O)?O.slice():O}function h(R,O,N,V){if(nn.isUndefined(O)){if(!nn.isUndefined(R))return d(void 0,R,N,V)}else return d(R,O,N,V)}function g(R,O){if(!nn.isUndefined(O))return d(void 0,O)}function y(R,O){if(nn.isUndefined(O)){if(!nn.isUndefined(R))return d(void 0,R)}else return d(void 0,O)}function w(R,O,N){if(N in r)return d(R,O);if(N in n)return d(void 0,R)}const A={url:g,method:g,data:g,baseURL:y,transformRequest:y,transformResponse:y,paramsSerializer:y,timeout:y,timeoutMessage:y,withCredentials:y,withXSRFToken:y,adapter:y,responseType:y,xsrfCookieName:y,xsrfHeaderName:y,onUploadProgress:y,onDownloadProgress:y,decompress:y,maxContentLength:y,maxBodyLength:y,beforeRedirect:y,transport:y,httpAgent:y,httpsAgent:y,cancelToken:y,socketPath:y,responseEncoding:y,validateStatus:w,headers:(R,O,N)=>h(Gq(R),Gq(O),N,!0)};return nn.forEach(Object.keys(Object.assign({},n,r)),function(O){const N=A[O]||h,V=N(n[O],r[O],O);nn.isUndefined(V)&&N!==w||(l[O]=V)}),l}const HJ=n=>{const r=gC({},n);let{data:l,withXSRFToken:d,xsrfHeaderName:h,xsrfCookieName:g,headers:y,auth:w}=r;r.headers=y=wm.from(y),r.url=BJ(VJ(r.baseURL,r.url,r.allowAbsoluteUrls),n.params,n.paramsSerializer),w&&y.set("Authorization","Basic "+btoa((w.username||"")+":"+(w.password?unescape(encodeURIComponent(w.password)):"")));let A;if(nn.isFormData(l)){if(Ed.hasStandardBrowserEnv||Ed.hasStandardBrowserWebWorkerEnv)y.setContentType(void 0);else if((A=y.getContentType())!==!1){const[R,...O]=A?A.split(";").map(N=>N.trim()).filter(Boolean):[];y.setContentType([R||"multipart/form-data",...O].join("; "))}}if(Ed.hasStandardBrowserEnv&&(d&&nn.isFunction(d)&&(d=d(r)),d||d!==!1&&qpe(r.url))){const R=h&&g&&Gpe.read(g);R&&y.set(h,R)}return r},Jpe=typeof XMLHttpRequest<"u",Qpe=Jpe&&function(n){return new Promise(function(l,d){const h=HJ(n);let g=h.data;const y=wm.from(h.headers).normalize();let{responseType:w,onUploadProgress:A,onDownloadProgress:R}=h,O,N,V,z,W;function X(){z&&z(),W&&W(),h.cancelToken&&h.cancelToken.unsubscribe(O),h.signal&&h.signal.removeEventListener("abort",O)}let oe=new XMLHttpRequest;oe.open(h.method.toUpperCase(),h.url,!0),oe.timeout=h.timeout;function j(){if(!oe)return;const le=wm.from("getAllResponseHeaders"in oe&&oe.getAllResponseHeaders()),de={data:!w||w==="text"||w==="json"?oe.responseText:oe.response,status:oe.status,statusText:oe.statusText,headers:le,config:n,request:oe};$J(function(be){l(be),X()},function(be){d(be),X()},de),oe=null}"onloadend"in oe?oe.onloadend=j:oe.onreadystatechange=function(){!oe||oe.readyState!==4||oe.status===0&&!(oe.responseURL&&oe.responseURL.indexOf("file:")===0)||setTimeout(j)},oe.onabort=function(){oe&&(d(new rr("Request aborted",rr.ECONNABORTED,n,oe)),oe=null)},oe.onerror=function(){d(new rr("Network Error",rr.ERR_NETWORK,n,oe)),oe=null},oe.ontimeout=function(){let q=h.timeout?"timeout of "+h.timeout+"ms exceeded":"timeout exceeded";const de=h.transitional||MJ;h.timeoutErrorMessage&&(q=h.timeoutErrorMessage),d(new rr(q,de.clarifyTimeoutError?rr.ETIMEDOUT:rr.ECONNABORTED,n,oe)),oe=null},g===void 0&&y.setContentType(null),"setRequestHeader"in oe&&nn.forEach(y.toJSON(),function(q,de){oe.setRequestHeader(de,q)}),nn.isUndefined(h.withCredentials)||(oe.withCredentials=!!h.withCredentials),w&&w!=="json"&&(oe.responseType=h.responseType),R&&([V,W]=iL(R,!0),oe.addEventListener("progress",V)),A&&oe.upload&&([N,z]=iL(A),oe.upload.addEventListener("progress",N),oe.upload.addEventListener("loadend",z)),(h.cancelToken||h.signal)&&(O=le=>{oe&&(d(!le||le.type?new Gk(null,n,oe):le),oe.abort(),oe=null)},h.cancelToken&&h.cancelToken.subscribe(O),h.signal&&(h.signal.aborted?O():h.signal.addEventListener("abort",O)));const fe=jpe(h.url);if(fe&&Ed.protocols.indexOf(fe)===-1){d(new rr("Unsupported protocol "+fe+":",rr.ERR_BAD_REQUEST,n));return}oe.send(g||null)})},ebe=(n,r)=>{const{length:l}=n=n?n.filter(Boolean):[];if(r||l){let d=new AbortController,h;const g=function(R){if(!h){h=!0,w();const O=R instanceof Error?R:this.reason;d.abort(O instanceof rr?O:new Gk(O instanceof Error?O.message:O))}};let y=r&&setTimeout(()=>{y=null,g(new rr(`timeout ${r} of ms exceeded`,rr.ETIMEDOUT))},r);const w=()=>{n&&(y&&clearTimeout(y),y=null,n.forEach(R=>{R.unsubscribe?R.unsubscribe(g):R.removeEventListener("abort",g)}),n=null)};n.forEach(R=>R.addEventListener("abort",g));const{signal:A}=d;return A.unsubscribe=()=>nn.asap(w),A}},tbe=function*(n,r){let l=n.byteLength;if(l<r){yield n;return}let d=0,h;for(;d<l;)h=d+r,yield n.slice(d,h),d=h},nbe=async function*(n,r){for await(const l of obe(n))yield*tbe(l,r)},obe=async function*(n){if(n[Symbol.asyncIterator]){yield*n;return}const r=n.getReader();try{for(;;){const{done:l,value:d}=await r.read();if(l)break;yield d}}finally{await r.cancel()}},Yq=(n,r,l,d)=>{const h=nbe(n,r);let g=0,y,w=A=>{y||(y=!0,d&&d(A))};return new ReadableStream({async pull(A){try{const{done:R,value:O}=await h.next();if(R){w(),A.close();return}let N=O.byteLength;if(l){let V=g+=N;l(V)}A.enqueue(new Uint8Array(O))}catch(R){throw w(R),R}},cancel(A){return w(A),h.return()}},{highWaterMark:2})},VL=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",zJ=VL&&typeof ReadableStream=="function",sbe=VL&&(typeof TextEncoder=="function"?(n=>r=>n.encode(r))(new TextEncoder):async n=>new Uint8Array(await new Response(n).arrayBuffer())),UJ=(n,...r)=>{try{return!!n(...r)}catch{return!1}},rbe=zJ&&UJ(()=>{let n=!1;const r=new Request(Ed.origin,{body:new ReadableStream,method:"POST",get duplex(){return n=!0,"half"}}).headers.has("Content-Type");return n&&!r}),Xq=64*1024,M9=zJ&&UJ(()=>nn.isReadableStream(new Response("").body)),lL={stream:M9&&(n=>n.body)};VL&&(n=>{["text","arrayBuffer","blob","formData","stream"].forEach(r=>{!lL[r]&&(lL[r]=nn.isFunction(n[r])?l=>l[r]():(l,d)=>{throw new rr(`Response type '${r}' is not supported`,rr.ERR_NOT_SUPPORT,d)})})})(new Response);const abe=async n=>{if(n==null)return 0;if(nn.isBlob(n))return n.size;if(nn.isSpecCompliantForm(n))return(await new Request(Ed.origin,{method:"POST",body:n}).arrayBuffer()).byteLength;if(nn.isArrayBufferView(n)||nn.isArrayBuffer(n))return n.byteLength;if(nn.isURLSearchParams(n)&&(n=n+""),nn.isString(n))return(await sbe(n)).byteLength},ibe=async(n,r)=>{const l=nn.toFiniteNumber(n.getContentLength());return l??abe(r)},lbe=VL&&(async n=>{let{url:r,method:l,data:d,signal:h,cancelToken:g,timeout:y,onDownloadProgress:w,onUploadProgress:A,responseType:R,headers:O,withCredentials:N="same-origin",fetchOptions:V}=HJ(n);R=R?(R+"").toLowerCase():"text";let z=ebe([h,g&&g.toAbortSignal()],y),W;const X=z&&z.unsubscribe&&(()=>{z.unsubscribe()});let oe;try{if(A&&rbe&&l!=="get"&&l!=="head"&&(oe=await ibe(O,d))!==0){let de=new Request(r,{method:"POST",body:d,duplex:"half"}),ne;if(nn.isFormData(d)&&(ne=de.headers.get("content-type"))&&O.setContentType(ne),de.body){const[be,Fe]=Kq(oe,iL(qq(A)));d=Yq(de.body,Xq,be,Fe)}}nn.isString(N)||(N=N?"include":"omit");const j="credentials"in Request.prototype;W=new Request(r,{...V,signal:z,method:l.toUpperCase(),headers:O.normalize().toJSON(),body:d,duplex:"half",credentials:j?N:void 0});let fe=await fetch(W);const le=M9&&(R==="stream"||R==="response");if(M9&&(w||le&&X)){const de={};["status","statusText","headers"].forEach(Ze=>{de[Ze]=fe[Ze]});const ne=nn.toFiniteNumber(fe.headers.get("content-length")),[be,Fe]=w&&Kq(ne,iL(qq(w),!0))||[];fe=new Response(Yq(fe.body,Xq,be,()=>{Fe&&Fe(),X&&X()}),de)}R=R||"text";let q=await lL[nn.findKey(lL,R)||"text"](fe,n);return!le&&X&&X(),await new Promise((de,ne)=>{$J(de,ne,{data:q,headers:wm.from(fe.headers),status:fe.status,statusText:fe.statusText,config:n,request:W})})}catch(j){throw X&&X(),j&&j.name==="TypeError"&&/Load failed|fetch/i.test(j.message)?Object.assign(new rr("Network Error",rr.ERR_NETWORK,n,W),{cause:j.cause||j}):rr.from(j,j&&j.code,n,W)}}),L9={http:Spe,xhr:Qpe,fetch:lbe};nn.forEach(L9,(n,r)=>{if(n){try{Object.defineProperty(n,"name",{value:r})}catch{}Object.defineProperty(n,"adapterName",{value:r})}});const Jq=n=>`- ${n}`,cbe=n=>nn.isFunction(n)||n===null||n===!1,WJ={getAdapter:n=>{n=nn.isArray(n)?n:[n];const{length:r}=n;let l,d;const h={};for(let g=0;g<r;g++){l=n[g];let y;if(d=l,!cbe(l)&&(d=L9[(y=String(l)).toLowerCase()],d===void 0))throw new rr(`Unknown adapter '${y}'`);if(d)break;h[y||"#"+g]=d}if(!d){const g=Object.entries(h).map(([w,A])=>`adapter ${w} `+(A===!1?"is not supported by the environment":"is not available in the build"));let y=r?g.length>1?`since :
`+g.map(Jq).join(`
`):" "+Jq(g[0]):"as no adapter specified";throw new rr("There is no suitable adapter to dispatch the request "+y,"ERR_NOT_SUPPORT")}return d},adapters:L9};function Bz(n){if(n.cancelToken&&n.cancelToken.throwIfRequested(),n.signal&&n.signal.aborted)throw new Gk(null,n)}function Qq(n){return Bz(n),n.headers=wm.from(n.headers),n.data=Pz.call(n,n.transformRequest),["post","put","patch"].indexOf(n.method)!==-1&&n.headers.setContentType("application/x-www-form-urlencoded",!1),WJ.getAdapter(n.adapter||lR.adapter)(n).then(function(d){return Bz(n),d.data=Pz.call(n,n.transformResponse,d),d.headers=wm.from(d.headers),d},function(d){return FJ(d)||(Bz(n),d&&d.response&&(d.response.data=Pz.call(n,n.transformResponse,d.response),d.response.headers=wm.from(d.response.headers))),Promise.reject(d)})}const jJ="1.9.0",HL={};["object","boolean","number","function","string","symbol"].forEach((n,r)=>{HL[n]=function(d){return typeof d===n||"a"+(r<1?"n ":" ")+n}});const eG={};HL.transitional=function(r,l,d){function h(g,y){return"[Axios v"+jJ+"] Transitional option '"+g+"'"+y+(d?". "+d:"")}return(g,y,w)=>{if(r===!1)throw new rr(h(y," has been removed"+(l?" in "+l:"")),rr.ERR_DEPRECATED);return l&&!eG[y]&&(eG[y]=!0,console.warn(h(y," has been deprecated since v"+l+" and will be removed in the near future"))),r?r(g,y,w):!0}};HL.spelling=function(r){return(l,d)=>(console.warn(`${d} is likely a misspelling of ${r}`),!0)};function ube(n,r,l){if(typeof n!="object")throw new rr("options must be an object",rr.ERR_BAD_OPTION_VALUE);const d=Object.keys(n);let h=d.length;for(;h-- >0;){const g=d[h],y=r[g];if(y){const w=n[g],A=w===void 0||y(w,g,n);if(A!==!0)throw new rr("option "+g+" must be "+A,rr.ERR_BAD_OPTION_VALUE);continue}if(l!==!0)throw new rr("Unknown option "+g,rr.ERR_BAD_OPTION)}}const LM={assertOptions:ube,validators:HL},Gb=LM.validators;let fC=class{constructor(r){this.defaults=r||{},this.interceptors={request:new jq,response:new jq}}async request(r,l){try{return await this._request(r,l)}catch(d){if(d instanceof Error){let h={};Error.captureStackTrace?Error.captureStackTrace(h):h=new Error;const g=h.stack?h.stack.replace(/^.+\n/,""):"";try{d.stack?g&&!String(d.stack).endsWith(g.replace(/^.+\n.+\n/,""))&&(d.stack+=`
`+g):d.stack=g}catch{}}throw d}}_request(r,l){typeof r=="string"?(l=l||{},l.url=r):l=r||{},l=gC(this.defaults,l);const{transitional:d,paramsSerializer:h,headers:g}=l;d!==void 0&&LM.assertOptions(d,{silentJSONParsing:Gb.transitional(Gb.boolean),forcedJSONParsing:Gb.transitional(Gb.boolean),clarifyTimeoutError:Gb.transitional(Gb.boolean)},!1),h!=null&&(nn.isFunction(h)?l.paramsSerializer={serialize:h}:LM.assertOptions(h,{encode:Gb.function,serialize:Gb.function},!0)),l.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?l.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:l.allowAbsoluteUrls=!0),LM.assertOptions(l,{baseUrl:Gb.spelling("baseURL"),withXsrfToken:Gb.spelling("withXSRFToken")},!0),l.method=(l.method||this.defaults.method||"get").toLowerCase();let y=g&&nn.merge(g.common,g[l.method]);g&&nn.forEach(["delete","get","head","post","put","patch","common"],W=>{delete g[W]}),l.headers=wm.concat(y,g);const w=[];let A=!0;this.interceptors.request.forEach(function(X){typeof X.runWhen=="function"&&X.runWhen(l)===!1||(A=A&&X.synchronous,w.unshift(X.fulfilled,X.rejected))});const R=[];this.interceptors.response.forEach(function(X){R.push(X.fulfilled,X.rejected)});let O,N=0,V;if(!A){const W=[Qq.bind(this),void 0];for(W.unshift.apply(W,w),W.push.apply(W,R),V=W.length,O=Promise.resolve(l);N<V;)O=O.then(W[N++],W[N++]);return O}V=w.length;let z=l;for(N=0;N<V;){const W=w[N++],X=w[N++];try{z=W(z)}catch(oe){X.call(this,oe);break}}try{O=Qq.call(this,z)}catch(W){return Promise.reject(W)}for(N=0,V=R.length;N<V;)O=O.then(R[N++],R[N++]);return O}getUri(r){r=gC(this.defaults,r);const l=VJ(r.baseURL,r.url,r.allowAbsoluteUrls);return BJ(l,r.params,r.paramsSerializer)}};nn.forEach(["delete","get","head","options"],function(r){fC.prototype[r]=function(l,d){return this.request(gC(d||{},{method:r,url:l,data:(d||{}).data}))}});nn.forEach(["post","put","patch"],function(r){function l(d){return function(g,y,w){return this.request(gC(w||{},{method:r,headers:d?{"Content-Type":"multipart/form-data"}:{},url:g,data:y}))}}fC.prototype[r]=l(),fC.prototype[r+"Form"]=l(!0)});let dbe=class ZJ{constructor(r){if(typeof r!="function")throw new TypeError("executor must be a function.");let l;this.promise=new Promise(function(g){l=g});const d=this;this.promise.then(h=>{if(!d._listeners)return;let g=d._listeners.length;for(;g-- >0;)d._listeners[g](h);d._listeners=null}),this.promise.then=h=>{let g;const y=new Promise(w=>{d.subscribe(w),g=w}).then(h);return y.cancel=function(){d.unsubscribe(g)},y},r(function(g,y,w){d.reason||(d.reason=new Gk(g,y,w),l(d.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(r){if(this.reason){r(this.reason);return}this._listeners?this._listeners.push(r):this._listeners=[r]}unsubscribe(r){if(!this._listeners)return;const l=this._listeners.indexOf(r);l!==-1&&this._listeners.splice(l,1)}toAbortSignal(){const r=new AbortController,l=d=>{r.abort(d)};return this.subscribe(l),r.signal.unsubscribe=()=>this.unsubscribe(l),r.signal}static source(){let r;return{token:new ZJ(function(h){r=h}),cancel:r}}};function fbe(n){return function(l){return n.apply(null,l)}}function mbe(n){return nn.isObject(n)&&n.isAxiosError===!0}const F9={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(F9).forEach(([n,r])=>{F9[r]=n});function KJ(n){const r=new fC(n),l=SJ(fC.prototype.request,r);return nn.extend(l,fC.prototype,r,{allOwnKeys:!0}),nn.extend(l,r,null,{allOwnKeys:!0}),l.create=function(h){return KJ(gC(n,h))},l}const Qi=KJ(lR);Qi.Axios=fC;Qi.CanceledError=Gk;Qi.CancelToken=dbe;Qi.isCancel=FJ;Qi.VERSION=jJ;Qi.toFormData=$L;Qi.AxiosError=rr;Qi.Cancel=Qi.CanceledError;Qi.all=function(r){return Promise.all(r)};Qi.spread=fbe;Qi.isAxiosError=mbe;Qi.mergeConfig=gC;Qi.AxiosHeaders=wm;Qi.formToJSON=n=>LJ(nn.isHTMLForm(n)?new FormData(n):n);Qi.getAdapter=WJ.getAdapter;Qi.HttpStatusCode=F9;Qi.default=Qi;const{Axios:R2e,AxiosError:D2e,CanceledError:N2e,isCancel:I2e,CancelToken:P2e,VERSION:B2e,all:M2e,Cancel:L2e,isAxiosError:F2e,spread:$2e,toFormData:V2e,AxiosHeaders:H2e,HttpStatusCode:z2e,formToJSON:U2e,getAdapter:W2e,mergeConfig:j2e}=Qi;/*! js-cookie v3.0.5 | MIT */function yM(n){for(var r=1;r<arguments.length;r++){var l=arguments[r];for(var d in l)n[d]=l[d]}return n}var gbe={read:function(n){return n[0]==='"'&&(n=n.slice(1,-1)),n.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(n){return encodeURIComponent(n).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}};function $9(n,r){function l(h,g,y){if(!(typeof document>"u")){y=yM({},r,y),typeof y.expires=="number"&&(y.expires=new Date(Date.now()+y.expires*864e5)),y.expires&&(y.expires=y.expires.toUTCString()),h=encodeURIComponent(h).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var w="";for(var A in y)y[A]&&(w+="; "+A,y[A]!==!0&&(w+="="+y[A].split(";")[0]));return document.cookie=h+"="+n.write(g,h)+w}}function d(h){if(!(typeof document>"u"||arguments.length&&!h)){for(var g=document.cookie?document.cookie.split("; "):[],y={},w=0;w<g.length;w++){var A=g[w].split("="),R=A.slice(1).join("=");try{var O=decodeURIComponent(A[0]);if(y[O]=n.read(R,O),h===O)break}catch{}}return h?y[h]:y}}return Object.create({set:l,get:d,remove:function(h,g){l(h,"",yM({},g,{expires:-1}))},withAttributes:function(h){return $9(this.converter,yM({},this.attributes,h))},withConverter:function(h){return $9(yM({},this.converter,h),this.attributes)}},{attributes:{value:Object.freeze(r)},converter:{value:Object.freeze(n)}})}var hl=$9(gbe,{path:"/"}),Mz={exports:{}},Lz={exports:{}},tG;function hbe(){return tG||(tG=1,function(){var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",r={rotl:function(l,d){return l<<d|l>>>32-d},rotr:function(l,d){return l<<32-d|l>>>d},endian:function(l){if(l.constructor==Number)return r.rotl(l,8)&16711935|r.rotl(l,24)&4278255360;for(var d=0;d<l.length;d++)l[d]=r.endian(l[d]);return l},randomBytes:function(l){for(var d=[];l>0;l--)d.push(Math.floor(Math.random()*256));return d},bytesToWords:function(l){for(var d=[],h=0,g=0;h<l.length;h++,g+=8)d[g>>>5]|=l[h]<<24-g%32;return d},wordsToBytes:function(l){for(var d=[],h=0;h<l.length*32;h+=8)d.push(l[h>>>5]>>>24-h%32&255);return d},bytesToHex:function(l){for(var d=[],h=0;h<l.length;h++)d.push((l[h]>>>4).toString(16)),d.push((l[h]&15).toString(16));return d.join("")},hexToBytes:function(l){for(var d=[],h=0;h<l.length;h+=2)d.push(parseInt(l.substr(h,2),16));return d},bytesToBase64:function(l){for(var d=[],h=0;h<l.length;h+=3)for(var g=l[h]<<16|l[h+1]<<8|l[h+2],y=0;y<4;y++)h*8+y*6<=l.length*8?d.push(n.charAt(g>>>6*(3-y)&63)):d.push("=");return d.join("")},base64ToBytes:function(l){l=l.replace(/[^A-Z0-9+\/]/ig,"");for(var d=[],h=0,g=0;h<l.length;g=++h%4)g!=0&&d.push((n.indexOf(l.charAt(h-1))&Math.pow(2,-2*g+8)-1)<<g*2|n.indexOf(l.charAt(h))>>>6-g*2);return d}};Lz.exports=r}()),Lz.exports}var Fz,nG;function oG(){if(nG)return Fz;nG=1;var n={utf8:{stringToBytes:function(r){return n.bin.stringToBytes(unescape(encodeURIComponent(r)))},bytesToString:function(r){return decodeURIComponent(escape(n.bin.bytesToString(r)))}},bin:{stringToBytes:function(r){for(var l=[],d=0;d<r.length;d++)l.push(r.charCodeAt(d)&255);return l},bytesToString:function(r){for(var l=[],d=0;d<r.length;d++)l.push(String.fromCharCode(r[d]));return l.join("")}}};return Fz=n,Fz}/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var $z,sG;function pbe(){if(sG)return $z;sG=1,$z=function(l){return l!=null&&(n(l)||r(l)||!!l._isBuffer)};function n(l){return!!l.constructor&&typeof l.constructor.isBuffer=="function"&&l.constructor.isBuffer(l)}function r(l){return typeof l.readFloatLE=="function"&&typeof l.slice=="function"&&n(l.slice(0,0))}return $z}var rG;function bbe(){return rG||(rG=1,function(){var n=hbe(),r=oG().utf8,l=pbe(),d=oG().bin,h=function(g,y){g.constructor==String?y&&y.encoding==="binary"?g=d.stringToBytes(g):g=r.stringToBytes(g):l(g)?g=Array.prototype.slice.call(g,0):!Array.isArray(g)&&g.constructor!==Uint8Array&&(g=g.toString());for(var w=n.bytesToWords(g),A=g.length*8,R=1732584193,O=-271733879,N=-1732584194,V=271733878,z=0;z<w.length;z++)w[z]=(w[z]<<8|w[z]>>>24)&16711935|(w[z]<<24|w[z]>>>8)&4278255360;w[A>>>5]|=128<<A%32,w[(A+64>>>9<<4)+14]=A;for(var W=h._ff,X=h._gg,oe=h._hh,j=h._ii,z=0;z<w.length;z+=16){var fe=R,le=O,q=N,de=V;R=W(R,O,N,V,w[z+0],7,-680876936),V=W(V,R,O,N,w[z+1],12,-389564586),N=W(N,V,R,O,w[z+2],17,606105819),O=W(O,N,V,R,w[z+3],22,-1044525330),R=W(R,O,N,V,w[z+4],7,-176418897),V=W(V,R,O,N,w[z+5],12,1200080426),N=W(N,V,R,O,w[z+6],17,-1473231341),O=W(O,N,V,R,w[z+7],22,-45705983),R=W(R,O,N,V,w[z+8],7,1770035416),V=W(V,R,O,N,w[z+9],12,-1958414417),N=W(N,V,R,O,w[z+10],17,-42063),O=W(O,N,V,R,w[z+11],22,-1990404162),R=W(R,O,N,V,w[z+12],7,1804603682),V=W(V,R,O,N,w[z+13],12,-40341101),N=W(N,V,R,O,w[z+14],17,-1502002290),O=W(O,N,V,R,w[z+15],22,1236535329),R=X(R,O,N,V,w[z+1],5,-165796510),V=X(V,R,O,N,w[z+6],9,-1069501632),N=X(N,V,R,O,w[z+11],14,643717713),O=X(O,N,V,R,w[z+0],20,-373897302),R=X(R,O,N,V,w[z+5],5,-701558691),V=X(V,R,O,N,w[z+10],9,38016083),N=X(N,V,R,O,w[z+15],14,-660478335),O=X(O,N,V,R,w[z+4],20,-405537848),R=X(R,O,N,V,w[z+9],5,568446438),V=X(V,R,O,N,w[z+14],9,-1019803690),N=X(N,V,R,O,w[z+3],14,-187363961),O=X(O,N,V,R,w[z+8],20,1163531501),R=X(R,O,N,V,w[z+13],5,-1444681467),V=X(V,R,O,N,w[z+2],9,-51403784),N=X(N,V,R,O,w[z+7],14,1735328473),O=X(O,N,V,R,w[z+12],20,-1926607734),R=oe(R,O,N,V,w[z+5],4,-378558),V=oe(V,R,O,N,w[z+8],11,-2022574463),N=oe(N,V,R,O,w[z+11],16,1839030562),O=oe(O,N,V,R,w[z+14],23,-35309556),R=oe(R,O,N,V,w[z+1],4,-1530992060),V=oe(V,R,O,N,w[z+4],11,1272893353),N=oe(N,V,R,O,w[z+7],16,-155497632),O=oe(O,N,V,R,w[z+10],23,-1094730640),R=oe(R,O,N,V,w[z+13],4,681279174),V=oe(V,R,O,N,w[z+0],11,-358537222),N=oe(N,V,R,O,w[z+3],16,-722521979),O=oe(O,N,V,R,w[z+6],23,76029189),R=oe(R,O,N,V,w[z+9],4,-640364487),V=oe(V,R,O,N,w[z+12],11,-421815835),N=oe(N,V,R,O,w[z+15],16,530742520),O=oe(O,N,V,R,w[z+2],23,-995338651),R=j(R,O,N,V,w[z+0],6,-198630844),V=j(V,R,O,N,w[z+7],10,1126891415),N=j(N,V,R,O,w[z+14],15,-1416354905),O=j(O,N,V,R,w[z+5],21,-57434055),R=j(R,O,N,V,w[z+12],6,1700485571),V=j(V,R,O,N,w[z+3],10,-1894986606),N=j(N,V,R,O,w[z+10],15,-1051523),O=j(O,N,V,R,w[z+1],21,-2054922799),R=j(R,O,N,V,w[z+8],6,1873313359),V=j(V,R,O,N,w[z+15],10,-30611744),N=j(N,V,R,O,w[z+6],15,-1560198380),O=j(O,N,V,R,w[z+13],21,1309151649),R=j(R,O,N,V,w[z+4],6,-145523070),V=j(V,R,O,N,w[z+11],10,-1120210379),N=j(N,V,R,O,w[z+2],15,718787259),O=j(O,N,V,R,w[z+9],21,-343485551),R=R+fe>>>0,O=O+le>>>0,N=N+q>>>0,V=V+de>>>0}return n.endian([R,O,N,V])};h._ff=function(g,y,w,A,R,O,N){var V=g+(y&w|~y&A)+(R>>>0)+N;return(V<<O|V>>>32-O)+y},h._gg=function(g,y,w,A,R,O,N){var V=g+(y&A|w&~A)+(R>>>0)+N;return(V<<O|V>>>32-O)+y},h._hh=function(g,y,w,A,R,O,N){var V=g+(y^w^A)+(R>>>0)+N;return(V<<O|V>>>32-O)+y},h._ii=function(g,y,w,A,R,O,N){var V=g+(w^(y|~A))+(R>>>0)+N;return(V<<O|V>>>32-O)+y},h._blocksize=16,h._digestsize=16,Mz.exports=function(g,y){if(g==null)throw new Error("Illegal argument "+g);var w=n.wordsToBytes(h(g,y));return y&&y.asBytes?w:y&&y.asString?d.bytesToString(w):n.bytesToHex(w)}}()),Mz.exports}var vbe=bbe();const qJ=PL(vbe),ybe=1e3,xbe=5e3,wbe=Tf("api",{state:()=>({backendUrl:"",returnUrl:"",userId:"",assId:"",contextId:"",dataToken:"",fileToken:"",timeOffset:0,intervals:{},lastChangesTry:0,lastUpdateTry:0,lastUpdateDone:0}),getters:{isAllSent(n){return!n.isSending&&Bt.changes().countChanges==0},isSending(n){return n.lastChangesTry>0},getRequestConfig(n){return function(l){let d=n.backendUrl,h=new URLSearchParams,g=d.search(/\?+/);return g!=-1&&(h=new URLSearchParams(d.substr(g)),d=d.substr(0,g)),h.append("user_id",n.userId),h.append("ass_id",n.assId),h.append("context_id",n.contextId),h.append("signature",qJ(n.userId+n.assId+n.contextId+l)),{baseURL:d,params:h,timeout:3e4,responseType:"json",responseEncoding:"utf8"}}},getResourceUrl(n){return function(l){const d=this.getRequestConfig(this.fileToken);return d.baseURL+"/writer/file/task/resource/"+l.id+"?"+d.params.toString()}},getServerTime(n){return function(l){return l==0?0:Math.floor((l-n.timeOffset)/1e3)}}},actions:{async clearStorage(){localStorage.clear()},async init(){let n=!1;if(this.backendUrl=localStorage.getItem("xlasWriterBackendUrl"),this.returnUrl=localStorage.getItem("xlasWriterReturnUrl"),this.userId=localStorage.getItem("xlasWriterUserId"),this.assId=localStorage.getItem("xlasWriterAssId"),this.contextId=localStorage.getItem("xlasWriterContextId"),this.dataToken=localStorage.getItem("xlasWriterDataToken"),this.fileToken=localStorage.getItem("xlasWriterFileToken"),this.timeOffset=Math.floor(localStorage.getItem("xlasWriterTimeOffset")??0),hl.get("xlasUserId")&&hl.get("xlasUserId")!==this.userId&&(this.userId=hl.get("xlasUserId"),n=!0),hl.get("xlasAssId")&&hl.get("xlasAssId")!==this.assId&&(this.assId=hl.get("xlasAssId"),n=!0),hl.get("xlasContextId")&&hl.get("xlasContextId")!==this.contextId&&(this.contextId=hl.get("xlasContextId"),n=!0),hl.get("xlasBackendUrl")&&hl.get("xlasBackendUrl")!==this.backendUrl&&(this.backendUrl=hl.get("xlasBackendUrl")),hl.get("xlasReturnUrl")&&hl.get("xlasReturnUrl")!==this.returnUrl&&(this.returnUrl=hl.get("xlasReturnUrl")),hl.get("xlasToken")&&hl.get("xlasToken")!==this.dataToken&&(this.dataToken=hl.get("xlasToken")),!this.backendUrl||!this.returnUrl||!this.userId||!this.assId||!this.contextId||!this.dataToken){Bt.layout().showInitFailure=!0;return}const r=Bt.changes();await r.loadFromStorage(),n?r.countChanges>0?(console.log("init: new context, open savings"),Bt.layout().showReplaceConfirmation=!0):(console.log("init: new context, no open savings"),await this.loadDataFromBackend()):r.countChanges>0?(console.log("init: same context, open savings"),await this.loadDataFromStorage()):(console.log("init: same context, no open savings"),await this.loadDataFromBackend()),this.setInterval("apiStore.timedSync",this.timedSync,ybe)},async timedSync(){await this.saveChangesToBackend(),await this.loadUpdateFromBackend()},async loadDataFromStorage(){console.log("loadDataFromStorage..."),this.updateConfig(),await Bt.settings().loadFromStorage(),await Bt.preferences().loadFromStorage(),await Bt.tasks().loadFromStorage(),await Bt.alert().loadFromStorage(),await Bt.resources().loadFromStorage(),await Bt.essay().loadFromStorage(),await Bt.notes().loadFromStorage(),await Bt.notes().prepareNotes(Bt.settings().notice_boards),await Bt.layout().loadFromStorage(),await Bt.changes().loadFromStorage(),await Bt.annotations().loadFromStorage(),await this.loadUpdateFromBackend(),await Bt.layout().initialize()},async loadDataFromBackend(){console.log("loadDataFromBackend..."),await XJ(),this.updateConfig();let n={};try{n=await Qi.get("/writer/data",this.getRequestConfig(this.dataToken)),this.setTimeOffset(n),this.refreshToken(n)}catch(r){console.error(r),Bt.layout().showInitFailure=!0;return}await Bt.config().loadFromBackend(n.data.Assessment.Config),await Bt.writer().loadFromBackend(n.data.Assessment.Writer),await Bt.alert().loadFromBackend(n.data.Assessment.Alerts),await Bt.tasks().loadFromBackend(n.data.Task.Tasks),await Bt.resources().loadFromBackend(n.data.Task.Resources),await Bt.annotations().loadFromBackend(n.data.Task.Annotations),await Bt.settings().loadFromBackend(n.data.EssayTask.WritingSettings),await Bt.preferences().loadFromBackend(n.data.EssayTask.WriterPrefs),await Bt.essay().loadFromBackend(n.data.EssayTask.Essays),await Bt.notes().loadFromBackend(n.data.EssayTask.WriterNotices),await Bt.notes().prepareNotes(Bt.settings().notice_boards),await Bt.layout().initialize()},async loadUpdateFromBackend(){if(!(this.lastUpdateTry>0||this.lastUpdateDone>Date.now()-xbe)){this.lastUpdateTry=Date.now();try{const n=await Qi.get("/writer/update",this.getRequestConfig(this.dataToken));this.setTimeOffset(n),this.refreshToken(n),await Bt.config().loadFromBackend(n.data.Assessment.Config),await Bt.writer().loadFromBackend(n.data.Assessment.Writer),await Bt.alert().loadFromBackend(n.data.Assessment.Alerts),await Bt.settings().loadFromBackend(n.data.EssayTask.WritingSettings),this.lastUpdateTry=0,this.lastUpdateDone=Date.now();return}catch(n){console.error(n),this.lastUpdateTry=0;return}}},async saveChangesToBackend(n=!1){if(n){let l=0;for(;l<5&&this.lastChangesTry>0;)l++,await new Promise(d=>setTimeout(d,1e3))}if(this.lastChangesTry>0)return null;const r=Bt.changes();if(r.countChanges>0){this.lastChangesTry=Date.now();try{const l={Task:{},EssayTask:{}};l.Task[Us.TYPE_ANNOTATIONS]=await Bt.annotations().getChangedData(this.lastChangesTry),l.EssayTask[Us.TYPE_PREFERENCES]=await Bt.preferences().getChangedData(this.lastChangesTry),l.EssayTask[Us.TYPE_NOTES]=await Bt.notes().getChangedData(this.lastChangesTry),l.EssayTask[Us.TYPE_STEPS]=await Bt.steps().getChangedData(this.lastChangesTry);const d=await Qi.put("/writer/changes",l,this.getRequestConfig(this.dataToken));this.setTimeOffset(d),this.refreshToken(d);for(const h in d.data??[]){const g=d.data[h];for(const y in g??[])await r.setChangesSent(y,g[y],this.lastChangesTry)}return this.lastChangesTry=0,aG(d)}catch(l){return this.lastChangesTry=0,console.log(l),iG(l)}}return null},async saveFinalContentToBackend(n){const r={EssayTask:{},Assessment:{}};r.EssayTask[Us.TYPE_STEPS]=await Bt.steps().getChangedData(0),r.EssayTask[Us.TYPE_ESSAY]=await Bt.essay().getFinalData(),r.Assessment[Us.TYPE_WRITER]=await Bt.writer().getStatusToSend(n);try{const l=await Qi.put("/writer/final",r,this.getRequestConfig(this.dataToken));this.refreshToken(l);const d=Bt.changes();for(const h in l.data??[]){const g=l.data[h];for(const y in g??[])d.setChangesSent(y,g[y],this.lastChangesTry)}return l.data.Assessment&&await Bt.writer().setStatusResponses(l.data.Assessment[Us.TYPE_WRITER]??[]),aG(l)}catch(l){return console.error(l),iG(l)}},updateConfig(){hl.remove("xlasBackendUrl"),hl.remove("xlasReturnUrl"),hl.remove("xlasUserId"),hl.remove("xlasAssId"),hl.remove("xlasContextId"),hl.remove("xlasToken"),localStorage.setItem("xlasWriterBackendUrl",this.backendUrl),localStorage.setItem("xlasWriterReturnUrl",this.returnUrl),localStorage.setItem("xlasWriterUserId",this.userId),localStorage.setItem("xlasWriterAssId",this.assId),localStorage.setItem("xlasWriterContextId",this.contextId),localStorage.setItem("xlasWriterDataToken",this.dataToken),localStorage.setItem("xlasWriterFileToken",this.fileToken)},setTimeOffset(n){if(n.headers.longessaytime){const r=n.headers.longessaytime*1e3,l=Date.now();this.timeOffset=l-r,localStorage.setItem("xlasWriterTimeOffset",this.timeOffset)}},refreshToken(n){n.headers.xlasdatatoken&&(this.dataToken=n.headers.xlasdatatoken,localStorage.setItem("xlasWriterDataToken",this.dataToken)),n.headers.xlasfiletoken&&(this.fileToken=n.headers.xlasfiletoken,localStorage.setItem("xlasWriterFileToken",this.fileToken))},setInterval(n,r,l){n in this.intervals&&clearInterval(this.intervals[n]),this.intervals[n]=setInterval(r,l)},clearAllIntervals(){for(const n in this.intervals)clearInterval(this.intervals[n]),delete this.intervals[n]}}});function aG(n){return new Pk({success:!0,message:n.statusText,details:n.data})}function iG(n=null){return n.response?new Pk({success:!1,message:n.response.statusText,details:n.response.data}):n.message?new Pk({success:!1,message:n.message,details:""}):new Pk({success:!1,message:"Unknown error",details:""})}class GJ{constructor(r={}){Yn(this,"action",null);Yn(this,"type",null);Yn(this,"key","");Yn(this,"done",!1);Yn(this,"result",null);r.action!==void 0&&Us.ALLOWED_ACTIONS.includes(r.action)&&(this.action=r.action.toString()),r.type!==void 0&&Us.ALLOWED_TYPES.includes(r.type)&&(this.type=r.type.toString()),r.key!==void 0&&r.key!==null&&(this.key=r.key.toString()),r.done!==void 0&&r.done!==null&&(this.done=!!r.done),r.result!==void 0&&r.result!==null&&(this.result=r.result),this.last_change==0&&(this.last_change=Date.now())}getData(){return Object.assign({},this)}}const yd=gg("changes");function Cbe(){const n={changes:{},lastSave:0,lastSendingSuccess:0};for(const r of Us.STORED_TYPES)n.changes[r]={};return n}const Sbe=Tf("changes",{state:()=>Cbe(),getters:{hasWritingChanges(n){for(const r of Us.WRITING_TYPES)if(Object.keys(n.changes[r]).length>0)return!0;return!1},countChanges(n){let r=0;for(const l of Us.STORED_TYPES)r+=Object.keys(n.changes[l]).length;return r},getChangesCount(n){return function(l){return Object.keys(n.changes[l]??[]).length}},getChangesFor(n){return function(l,d=0){if(!Us.STORED_TYPES.includes(l))return[];const h=[];for(const g in n.changes[l]){const y=n.changes[l][g];(d==0||y.last_change<=d)&&h.push(y)}return h}},getChangeDataToSend(n){return function(l,d=null){const h=l.getData();return d&&(h.payload=d),h.last_change=Bt.api().getServerTime(l.last_change),h}}},actions:{async clearStorage(){try{this.$reset(),await yd.clear()}catch(n){console.log(n)}},async loadFromStorage(){this.$reset();try{for(const n in this.changes){const r=await yd.getItem(n)??[];for(const l of r){const d=await yd.getItem(Us.buildChangeKey(n,l)),h=JSON.parse(d);typeof h=="object"&&h!==null&&(this.changes[n][l]=new Us(h))}}this.lastSave=parseInt(await yd.getItem("lastSave")),this.lastSendingSuccess=parseInt(await yd.getItem("lastSendingSuccess"))}catch(n){console.log(n)}},async hasChangesInStorage(){for(const n in this.changes)return(await yd.getItem(n)??[]).length>0},async setChange(n){n.isValid()&&(this.changes[n.type][n.key]=n,await yd.setItem(n.getChangeKey(),JSON.stringify(n.getData())),await yd.setItem(n.type,Object.keys(this.changes[n.type])),this.lastSave=Date.now(),await yd.setItem("lastSave",this.lastSave))},async unsetChange(n){n.isValid()&&(delete this.changes[n.type][n.key],await yd.removeItem(n.getChangeKey()),await yd.setItem(n.type,Object.keys(this.changes[n.type])),this.lastSave=Date.now(),await yd.setItem("lastSave",this.lastSave))},async setChangesSent(n,r=[],l){let d=!1;if(this.changes[n])for(const h of r){const g=new GJ(h),y=this.changes[n][g.key];y&&g.done&&y.last_change<=l&&(delete this.changes[n][g.key],await yd.removeItem(y.getChangeKey()),d=!0)}d&&(this.lastSave=Date.now(),await yd.setItem(n,Object.keys(this.changes[n])),await yd.setItem("lastSave",this.lastSave)),this.lastSendingSuccess=Date.now(),await yd.setItem("lastSendingSuccess",this.lastSendingSuccess)}}});function YJ(n){const r=document.createElement("div");return r.innerHTML=n,(r.innerText||r.textContent).trim()}function xM(n){return YJ(n).replace(/[\s\n\r]+/g,"")}const _be=Tf("clipboard",{state:()=>({content:"",show_warning:!1}),getters:{getPasteAllowed:n=>function(l){return Bt.settings().copy_allowed?!0:l==""?!1:(console.log("content:",l),console.log("normalized content:",xM(l)),console.log("state.content:",n.content),console.log("normalized state.content:",xM(n.content)),xM(l)==xM(n.content)?(console.log("paste allowed"),!0):(console.log("paste forbidden"),!1))},getTextContent:n=>function(l){return YJ(l)}},actions:{async clearStorage(){this.$reset()},setContent(n){console.log("copy: ",n),this.content=n},showWarning(){this.show_warning=!0},hideWarning(){this.show_warning=!1}}}),Vz=gg("config"),{t:Z2e}=aR.global,kbe={primary_color:null,primary_text_color:null},Ebe=Tf("config",{state:()=>kbe,getters:{primaryColorCss(n){return n.primary_color?"#"+n.primary_color:""},primaryTextColorCss(n){return n.primary_text_color?"#"+n.primary_text_color:""},primaryTextColorFullCss(n){return n.primary_text_color?"color: #"+n.primary_text_color+";":""}},actions:{async clearStorage(){try{this.$reset(),await Vz.clear()}catch(n){console.log(n)}},async loadFromStorage(){try{this.$patch(await Vz.getItem("config"))}catch(n){console.log(n)}},async loadFromBackend(n={}){try{this.$patch({primary_color:n.primary_color??null,primary_text_color:n.primary_text_color??null}),await Vz.setItem("config",Object.assign({},this.$state))}catch(r){console.log(r)}}}});class Vk{constructor(r={}){Yn(this,"task_id",0);Yn(this,"content","");Yn(this,"hash","");Yn(this,"sum_of_distances",0);Yn(this,"last_check",0);Yn(this,"last_save",0);this.setData(r)}static buildKey(r){return"E"+r}setData(r){r.task_id!==void 0&&r.task_id!==null&&(this.task_id=parseInt(r.task_id)),r.content!==void 0&&r.content!==null&&(this.content=r.content.toString()),r.hash!==void 0&&r.hash!==null&&(this.hash=r.hash.toString()),r.sum_of_distances!==void 0&&r.sum_of_distances!==null&&(this.sum_of_distances=parseInt(r.sum_of_distances)),r.last_check!==void 0&&r.last_check!==null&&(this.last_check=parseInt(r.last_check)),r.last_save!==void 0&&r.last_save!==null&&(this.last_save=parseInt(r.last_save))}getData(){return Object.assign({},this)}getKey(){return Vk.buildKey(this.task_id)}getClone(){return new Vk(this.getData())}isEqual(r){for(const l in this)if(this[l]!==r[l])return!1;return!0}}class Hk{constructor(r={}){Yn(this,"task_id",0);Yn(this,"index",0);Yn(this,"is_delta",!0);Yn(this,"timestamp",0);Yn(this,"content","");Yn(this,"hash_before","");Yn(this,"hash_after","");Yn(this,"distance",0);this.setData(r)}static buildKey(r,l){return"S"+r+"_"+l}setData(r){r.task_id!==void 0&&r.task_id!==null&&(this.task_id=parseInt(r.task_id)),r.index!==void 0&&r.index!==null&&(this.index=parseInt(r.index)),r.is_delta!==void 0&&r.is_delta!==null&&(this.is_delta=!!r.is_delta),r.timestamp!==void 0&&r.timestamp!==null&&(this.timestamp=parseInt(r.timestamp)),r.content!==void 0&&r.content!==null&&(this.content=r.content.toString()),r.hash_before!==void 0&&r.hash_before!==null&&(this.hash_before=r.hash_before.toString()),r.hash_after!==void 0&&r.hash_after!==null&&(this.hash_after=r.hash_after.toString()),r.distance!==void 0&&r.distance!==null&&(this.distance=parseInt(r.distance))}getData(){return Object.assign({},this)}getKey(){return Hk.buildKey(this.index,this.task_id)}}var Hz={exports:{}},lG;function Abe(){return lG||(lG=1,function(n){var r=function(){this.Diff_Timeout=1,this.Diff_EditCost=4,this.Match_Threshold=.5,this.Match_Distance=1e3,this.Patch_DeleteThreshold=.5,this.Patch_Margin=4,this.Match_MaxBits=32},l=-1,d=1,h=0;r.Diff=function(g,y){return[g,y]},r.prototype.diff_main=function(g,y,w,A){typeof A>"u"&&(this.Diff_Timeout<=0?A=Number.MAX_VALUE:A=new Date().getTime()+this.Diff_Timeout*1e3);var R=A;if(g==null||y==null)throw new Error("Null input. (diff_main)");if(g==y)return g?[new r.Diff(h,g)]:[];typeof w>"u"&&(w=!0);var O=w,N=this.diff_commonPrefix(g,y),V=g.substring(0,N);g=g.substring(N),y=y.substring(N),N=this.diff_commonSuffix(g,y);var z=g.substring(g.length-N);g=g.substring(0,g.length-N),y=y.substring(0,y.length-N);var W=this.diff_compute_(g,y,O,R);return V&&W.unshift(new r.Diff(h,V)),z&&W.push(new r.Diff(h,z)),this.diff_cleanupMerge(W),W},r.prototype.diff_compute_=function(g,y,w,A){var R;if(!g)return[new r.Diff(d,y)];if(!y)return[new r.Diff(l,g)];var O=g.length>y.length?g:y,N=g.length>y.length?y:g,V=O.indexOf(N);if(V!=-1)return R=[new r.Diff(d,O.substring(0,V)),new r.Diff(h,N),new r.Diff(d,O.substring(V+N.length))],g.length>y.length&&(R[0][0]=R[2][0]=l),R;if(N.length==1)return[new r.Diff(l,g),new r.Diff(d,y)];var z=this.diff_halfMatch_(g,y);if(z){var W=z[0],X=z[1],oe=z[2],j=z[3],fe=z[4],le=this.diff_main(W,oe,w,A),q=this.diff_main(X,j,w,A);return le.concat([new r.Diff(h,fe)],q)}return w&&g.length>100&&y.length>100?this.diff_lineMode_(g,y,A):this.diff_bisect_(g,y,A)},r.prototype.diff_lineMode_=function(g,y,w){var A=this.diff_linesToChars_(g,y);g=A.chars1,y=A.chars2;var R=A.lineArray,O=this.diff_main(g,y,!1,w);this.diff_charsToLines_(O,R),this.diff_cleanupSemantic(O),O.push(new r.Diff(h,""));for(var N=0,V=0,z=0,W="",X="";N<O.length;){switch(O[N][0]){case d:z++,X+=O[N][1];break;case l:V++,W+=O[N][1];break;case h:if(V>=1&&z>=1){O.splice(N-V-z,V+z),N=N-V-z;for(var oe=this.diff_main(W,X,!1,w),j=oe.length-1;j>=0;j--)O.splice(N,0,oe[j]);N=N+oe.length}z=0,V=0,W="",X="";break}N++}return O.pop(),O},r.prototype.diff_bisect_=function(g,y,w){for(var A=g.length,R=y.length,O=Math.ceil((A+R)/2),N=O,V=2*O,z=new Array(V),W=new Array(V),X=0;X<V;X++)z[X]=-1,W[X]=-1;z[N+1]=0,W[N+1]=0;for(var oe=A-R,j=oe%2!=0,fe=0,le=0,q=0,de=0,ne=0;ne<O&&!(new Date().getTime()>w);ne++){for(var be=-ne+fe;be<=ne-le;be+=2){var Fe=N+be,Ze;be==-ne||be!=ne&&z[Fe-1]<z[Fe+1]?Ze=z[Fe+1]:Ze=z[Fe-1]+1;for(var rt=Ze-be;Ze<A&&rt<R&&g.charAt(Ze)==y.charAt(rt);)Ze++,rt++;if(z[Fe]=Ze,Ze>A)le+=2;else if(rt>R)fe+=2;else if(j){var Oe=N+oe-be;if(Oe>=0&&Oe<V&&W[Oe]!=-1){var Ve=A-W[Oe];if(Ze>=Ve)return this.diff_bisectSplit_(g,y,Ze,rt,w)}}}for(var P=-ne+q;P<=ne-de;P+=2){var Oe=N+P,Ve;P==-ne||P!=ne&&W[Oe-1]<W[Oe+1]?Ve=W[Oe+1]:Ve=W[Oe-1]+1;for(var wt=Ve-P;Ve<A&&wt<R&&g.charAt(A-Ve-1)==y.charAt(R-wt-1);)Ve++,wt++;if(W[Oe]=Ve,Ve>A)de+=2;else if(wt>R)q+=2;else if(!j){var Fe=N+oe-P;if(Fe>=0&&Fe<V&&z[Fe]!=-1){var Ze=z[Fe],rt=N+Ze-Fe;if(Ve=A-Ve,Ze>=Ve)return this.diff_bisectSplit_(g,y,Ze,rt,w)}}}}return[new r.Diff(l,g),new r.Diff(d,y)]},r.prototype.diff_bisectSplit_=function(g,y,w,A,R){var O=g.substring(0,w),N=y.substring(0,A),V=g.substring(w),z=y.substring(A),W=this.diff_main(O,N,!1,R),X=this.diff_main(V,z,!1,R);return W.concat(X)},r.prototype.diff_linesToChars_=function(g,y){var w=[],A={};w[0]="";function R(z){for(var W="",X=0,oe=-1,j=w.length;oe<z.length-1;){oe=z.indexOf(`
`,X),oe==-1&&(oe=z.length-1);var fe=z.substring(X,oe+1);(A.hasOwnProperty?A.hasOwnProperty(fe):A[fe]!==void 0)?W+=String.fromCharCode(A[fe]):(j==O&&(fe=z.substring(X),oe=z.length),W+=String.fromCharCode(j),A[fe]=j,w[j++]=fe),X=oe+1}return W}var O=4e4,N=R(g);O=65535;var V=R(y);return{chars1:N,chars2:V,lineArray:w}},r.prototype.diff_charsToLines_=function(g,y){for(var w=0;w<g.length;w++){for(var A=g[w][1],R=[],O=0;O<A.length;O++)R[O]=y[A.charCodeAt(O)];g[w][1]=R.join("")}},r.prototype.diff_commonPrefix=function(g,y){if(!g||!y||g.charAt(0)!=y.charAt(0))return 0;for(var w=0,A=Math.min(g.length,y.length),R=A,O=0;w<R;)g.substring(O,R)==y.substring(O,R)?(w=R,O=w):A=R,R=Math.floor((A-w)/2+w);return R},r.prototype.diff_commonSuffix=function(g,y){if(!g||!y||g.charAt(g.length-1)!=y.charAt(y.length-1))return 0;for(var w=0,A=Math.min(g.length,y.length),R=A,O=0;w<R;)g.substring(g.length-R,g.length-O)==y.substring(y.length-R,y.length-O)?(w=R,O=w):A=R,R=Math.floor((A-w)/2+w);return R},r.prototype.diff_commonOverlap_=function(g,y){var w=g.length,A=y.length;if(w==0||A==0)return 0;w>A?g=g.substring(w-A):w<A&&(y=y.substring(0,w));var R=Math.min(w,A);if(g==y)return R;for(var O=0,N=1;;){var V=g.substring(R-N),z=y.indexOf(V);if(z==-1)return O;N+=z,(z==0||g.substring(R-N)==y.substring(0,N))&&(O=N,N++)}},r.prototype.diff_halfMatch_=function(g,y){if(this.Diff_Timeout<=0)return null;var w=g.length>y.length?g:y,A=g.length>y.length?y:g;if(w.length<4||A.length*2<w.length)return null;var R=this;function O(le,q,de){for(var ne=le.substring(de,de+Math.floor(le.length/4)),be=-1,Fe="",Ze,rt,Oe,Ve;(be=q.indexOf(ne,be+1))!=-1;){var P=R.diff_commonPrefix(le.substring(de),q.substring(be)),wt=R.diff_commonSuffix(le.substring(0,de),q.substring(0,be));Fe.length<wt+P&&(Fe=q.substring(be-wt,be)+q.substring(be,be+P),Ze=le.substring(0,de-wt),rt=le.substring(de+P),Oe=q.substring(0,be-wt),Ve=q.substring(be+P))}return Fe.length*2>=le.length?[Ze,rt,Oe,Ve,Fe]:null}var N=O(w,A,Math.ceil(w.length/4)),V=O(w,A,Math.ceil(w.length/2)),z;if(!N&&!V)return null;V?N?z=N[4].length>V[4].length?N:V:z=V:z=N;var W,X,oe,j;g.length>y.length?(W=z[0],X=z[1],oe=z[2],j=z[3]):(oe=z[0],j=z[1],W=z[2],X=z[3]);var fe=z[4];return[W,X,oe,j,fe]},r.prototype.diff_cleanupSemantic=function(g){for(var y=!1,w=[],A=0,R=null,O=0,N=0,V=0,z=0,W=0;O<g.length;)g[O][0]==h?(w[A++]=O,N=z,V=W,z=0,W=0,R=g[O][1]):(g[O][0]==d?z+=g[O][1].length:W+=g[O][1].length,R&&R.length<=Math.max(N,V)&&R.length<=Math.max(z,W)&&(g.splice(w[A-1],0,new r.Diff(l,R)),g[w[A-1]+1][0]=d,A--,A--,O=A>0?w[A-1]:-1,N=0,V=0,z=0,W=0,R=null,y=!0)),O++;for(y&&this.diff_cleanupMerge(g),this.diff_cleanupSemanticLossless(g),O=1;O<g.length;){if(g[O-1][0]==l&&g[O][0]==d){var X=g[O-1][1],oe=g[O][1],j=this.diff_commonOverlap_(X,oe),fe=this.diff_commonOverlap_(oe,X);j>=fe?(j>=X.length/2||j>=oe.length/2)&&(g.splice(O,0,new r.Diff(h,oe.substring(0,j))),g[O-1][1]=X.substring(0,X.length-j),g[O+1][1]=oe.substring(j),O++):(fe>=X.length/2||fe>=oe.length/2)&&(g.splice(O,0,new r.Diff(h,X.substring(0,fe))),g[O-1][0]=d,g[O-1][1]=oe.substring(0,oe.length-fe),g[O+1][0]=l,g[O+1][1]=X.substring(fe),O++),O++}O++}},r.prototype.diff_cleanupSemanticLossless=function(g){function y(fe,le){if(!fe||!le)return 6;var q=fe.charAt(fe.length-1),de=le.charAt(0),ne=q.match(r.nonAlphaNumericRegex_),be=de.match(r.nonAlphaNumericRegex_),Fe=ne&&q.match(r.whitespaceRegex_),Ze=be&&de.match(r.whitespaceRegex_),rt=Fe&&q.match(r.linebreakRegex_),Oe=Ze&&de.match(r.linebreakRegex_),Ve=rt&&fe.match(r.blanklineEndRegex_),P=Oe&&le.match(r.blanklineStartRegex_);return Ve||P?5:rt||Oe?4:ne&&!Fe&&Ze?3:Fe||Ze?2:ne||be?1:0}for(var w=1;w<g.length-1;){if(g[w-1][0]==h&&g[w+1][0]==h){var A=g[w-1][1],R=g[w][1],O=g[w+1][1],N=this.diff_commonSuffix(A,R);if(N){var V=R.substring(R.length-N);A=A.substring(0,A.length-N),R=V+R.substring(0,R.length-N),O=V+O}for(var z=A,W=R,X=O,oe=y(A,R)+y(R,O);R.charAt(0)===O.charAt(0);){A+=R.charAt(0),R=R.substring(1)+O.charAt(0),O=O.substring(1);var j=y(A,R)+y(R,O);j>=oe&&(oe=j,z=A,W=R,X=O)}g[w-1][1]!=z&&(z?g[w-1][1]=z:(g.splice(w-1,1),w--),g[w][1]=W,X?g[w+1][1]=X:(g.splice(w+1,1),w--))}w++}},r.nonAlphaNumericRegex_=/[^a-zA-Z0-9]/,r.whitespaceRegex_=/\s/,r.linebreakRegex_=/[\r\n]/,r.blanklineEndRegex_=/\n\r?\n$/,r.blanklineStartRegex_=/^\r?\n\r?\n/,r.prototype.diff_cleanupEfficiency=function(g){for(var y=!1,w=[],A=0,R=null,O=0,N=!1,V=!1,z=!1,W=!1;O<g.length;)g[O][0]==h?(g[O][1].length<this.Diff_EditCost&&(z||W)?(w[A++]=O,N=z,V=W,R=g[O][1]):(A=0,R=null),z=W=!1):(g[O][0]==l?W=!0:z=!0,R&&(N&&V&&z&&W||R.length<this.Diff_EditCost/2&&N+V+z+W==3)&&(g.splice(w[A-1],0,new r.Diff(l,R)),g[w[A-1]+1][0]=d,A--,R=null,N&&V?(z=W=!0,A=0):(A--,O=A>0?w[A-1]:-1,z=W=!1),y=!0)),O++;y&&this.diff_cleanupMerge(g)},r.prototype.diff_cleanupMerge=function(g){g.push(new r.Diff(h,""));for(var y=0,w=0,A=0,R="",O="",N;y<g.length;)switch(g[y][0]){case d:A++,O+=g[y][1],y++;break;case l:w++,R+=g[y][1],y++;break;case h:w+A>1?(w!==0&&A!==0&&(N=this.diff_commonPrefix(O,R),N!==0&&(y-w-A>0&&g[y-w-A-1][0]==h?g[y-w-A-1][1]+=O.substring(0,N):(g.splice(0,0,new r.Diff(h,O.substring(0,N))),y++),O=O.substring(N),R=R.substring(N)),N=this.diff_commonSuffix(O,R),N!==0&&(g[y][1]=O.substring(O.length-N)+g[y][1],O=O.substring(0,O.length-N),R=R.substring(0,R.length-N))),y-=w+A,g.splice(y,w+A),R.length&&(g.splice(y,0,new r.Diff(l,R)),y++),O.length&&(g.splice(y,0,new r.Diff(d,O)),y++),y++):y!==0&&g[y-1][0]==h?(g[y-1][1]+=g[y][1],g.splice(y,1)):y++,A=0,w=0,R="",O="";break}g[g.length-1][1]===""&&g.pop();var V=!1;for(y=1;y<g.length-1;)g[y-1][0]==h&&g[y+1][0]==h&&(g[y][1].substring(g[y][1].length-g[y-1][1].length)==g[y-1][1]?(g[y][1]=g[y-1][1]+g[y][1].substring(0,g[y][1].length-g[y-1][1].length),g[y+1][1]=g[y-1][1]+g[y+1][1],g.splice(y-1,1),V=!0):g[y][1].substring(0,g[y+1][1].length)==g[y+1][1]&&(g[y-1][1]+=g[y+1][1],g[y][1]=g[y][1].substring(g[y+1][1].length)+g[y+1][1],g.splice(y+1,1),V=!0)),y++;V&&this.diff_cleanupMerge(g)},r.prototype.diff_xIndex=function(g,y){var w=0,A=0,R=0,O=0,N;for(N=0;N<g.length&&(g[N][0]!==d&&(w+=g[N][1].length),g[N][0]!==l&&(A+=g[N][1].length),!(w>y));N++)R=w,O=A;return g.length!=N&&g[N][0]===l?O:O+(y-R)},r.prototype.diff_prettyHtml=function(g){for(var y=[],w=/&/g,A=/</g,R=/>/g,O=/\n/g,N=0;N<g.length;N++){var V=g[N][0],z=g[N][1],W=z.replace(w,"&amp;").replace(A,"&lt;").replace(R,"&gt;").replace(O,"&para;<br>");switch(V){case d:y[N]='<ins style="background:#e6ffe6;">'+W+"</ins>";break;case l:y[N]='<del style="background:#ffe6e6;">'+W+"</del>";break;case h:y[N]="<span>"+W+"</span>";break}}return y.join("")},r.prototype.diff_text1=function(g){for(var y=[],w=0;w<g.length;w++)g[w][0]!==d&&(y[w]=g[w][1]);return y.join("")},r.prototype.diff_text2=function(g){for(var y=[],w=0;w<g.length;w++)g[w][0]!==l&&(y[w]=g[w][1]);return y.join("")},r.prototype.diff_levenshtein=function(g){for(var y=0,w=0,A=0,R=0;R<g.length;R++){var O=g[R][0],N=g[R][1];switch(O){case d:w+=N.length;break;case l:A+=N.length;break;case h:y+=Math.max(w,A),w=0,A=0;break}}return y+=Math.max(w,A),y},r.prototype.diff_toDelta=function(g){for(var y=[],w=0;w<g.length;w++)switch(g[w][0]){case d:y[w]="+"+encodeURI(g[w][1]);break;case l:y[w]="-"+g[w][1].length;break;case h:y[w]="="+g[w][1].length;break}return y.join("	").replace(/%20/g," ")},r.prototype.diff_fromDelta=function(g,y){for(var w=[],A=0,R=0,O=y.split(/\t/g),N=0;N<O.length;N++){var V=O[N].substring(1);switch(O[N].charAt(0)){case"+":try{w[A++]=new r.Diff(d,decodeURI(V))}catch{throw new Error("Illegal escape in diff_fromDelta: "+V)}break;case"-":case"=":var z=parseInt(V,10);if(isNaN(z)||z<0)throw new Error("Invalid number in diff_fromDelta: "+V);var W=g.substring(R,R+=z);O[N].charAt(0)=="="?w[A++]=new r.Diff(h,W):w[A++]=new r.Diff(l,W);break;default:if(O[N])throw new Error("Invalid diff operation in diff_fromDelta: "+O[N])}}if(R!=g.length)throw new Error("Delta length ("+R+") does not equal source text length ("+g.length+").");return w},r.prototype.match_main=function(g,y,w){if(g==null||y==null||w==null)throw new Error("Null input. (match_main)");return w=Math.max(0,Math.min(w,g.length)),g==y?0:g.length?g.substring(w,w+y.length)==y?w:this.match_bitap_(g,y,w):-1},r.prototype.match_bitap_=function(g,y,w){if(y.length>this.Match_MaxBits)throw new Error("Pattern too long for this browser.");var A=this.match_alphabet_(y),R=this;function O(Ze,rt){var Oe=Ze/y.length,Ve=Math.abs(w-rt);return R.Match_Distance?Oe+Ve/R.Match_Distance:Ve?1:Oe}var N=this.Match_Threshold,V=g.indexOf(y,w);V!=-1&&(N=Math.min(O(0,V),N),V=g.lastIndexOf(y,w+y.length),V!=-1&&(N=Math.min(O(0,V),N)));var z=1<<y.length-1;V=-1;for(var W,X,oe=y.length+g.length,j,fe=0;fe<y.length;fe++){for(W=0,X=oe;W<X;)O(fe,w+X)<=N?W=X:oe=X,X=Math.floor((oe-W)/2+W);oe=X;var le=Math.max(1,w-X+1),q=Math.min(w+X,g.length)+y.length,de=Array(q+2);de[q+1]=(1<<fe)-1;for(var ne=q;ne>=le;ne--){var be=A[g.charAt(ne-1)];if(fe===0?de[ne]=(de[ne+1]<<1|1)&be:de[ne]=(de[ne+1]<<1|1)&be|((j[ne+1]|j[ne])<<1|1)|j[ne+1],de[ne]&z){var Fe=O(fe,ne-1);if(Fe<=N)if(N=Fe,V=ne-1,V>w)le=Math.max(1,2*w-V);else break}}if(O(fe+1,w)>N)break;j=de}return V},r.prototype.match_alphabet_=function(g){for(var y={},w=0;w<g.length;w++)y[g.charAt(w)]=0;for(var w=0;w<g.length;w++)y[g.charAt(w)]|=1<<g.length-w-1;return y},r.prototype.patch_addContext_=function(g,y){if(y.length!=0){if(g.start2===null)throw Error("patch not initialized");for(var w=y.substring(g.start2,g.start2+g.length1),A=0;y.indexOf(w)!=y.lastIndexOf(w)&&w.length<this.Match_MaxBits-this.Patch_Margin-this.Patch_Margin;)A+=this.Patch_Margin,w=y.substring(g.start2-A,g.start2+g.length1+A);A+=this.Patch_Margin;var R=y.substring(g.start2-A,g.start2);R&&g.diffs.unshift(new r.Diff(h,R));var O=y.substring(g.start2+g.length1,g.start2+g.length1+A);O&&g.diffs.push(new r.Diff(h,O)),g.start1-=R.length,g.start2-=R.length,g.length1+=R.length+O.length,g.length2+=R.length+O.length}},r.prototype.patch_make=function(g,y,w){var A,R;if(typeof g=="string"&&typeof y=="string"&&typeof w>"u")A=g,R=this.diff_main(A,y,!0),R.length>2&&(this.diff_cleanupSemantic(R),this.diff_cleanupEfficiency(R));else if(g&&typeof g=="object"&&typeof y>"u"&&typeof w>"u")R=g,A=this.diff_text1(R);else if(typeof g=="string"&&y&&typeof y=="object"&&typeof w>"u")A=g,R=y;else if(typeof g=="string"&&typeof y=="string"&&w&&typeof w=="object")A=g,R=w;else throw new Error("Unknown call format to patch_make.");if(R.length===0)return[];for(var O=[],N=new r.patch_obj,V=0,z=0,W=0,X=A,oe=A,j=0;j<R.length;j++){var fe=R[j][0],le=R[j][1];switch(!V&&fe!==h&&(N.start1=z,N.start2=W),fe){case d:N.diffs[V++]=R[j],N.length2+=le.length,oe=oe.substring(0,W)+le+oe.substring(W);break;case l:N.length1+=le.length,N.diffs[V++]=R[j],oe=oe.substring(0,W)+oe.substring(W+le.length);break;case h:le.length<=2*this.Patch_Margin&&V&&R.length!=j+1?(N.diffs[V++]=R[j],N.length1+=le.length,N.length2+=le.length):le.length>=2*this.Patch_Margin&&V&&(this.patch_addContext_(N,X),O.push(N),N=new r.patch_obj,V=0,X=oe,z=W);break}fe!==d&&(z+=le.length),fe!==l&&(W+=le.length)}return V&&(this.patch_addContext_(N,X),O.push(N)),O},r.prototype.patch_deepCopy=function(g){for(var y=[],w=0;w<g.length;w++){var A=g[w],R=new r.patch_obj;R.diffs=[];for(var O=0;O<A.diffs.length;O++)R.diffs[O]=new r.Diff(A.diffs[O][0],A.diffs[O][1]);R.start1=A.start1,R.start2=A.start2,R.length1=A.length1,R.length2=A.length2,y[w]=R}return y},r.prototype.patch_apply=function(g,y){if(g.length==0)return[y,[]];g=this.patch_deepCopy(g);var w=this.patch_addPadding(g);y=w+y+w,this.patch_splitMax(g);for(var A=0,R=[],O=0;O<g.length;O++){var N=g[O].start2+A,V=this.diff_text1(g[O].diffs),z,W=-1;if(V.length>this.Match_MaxBits?(z=this.match_main(y,V.substring(0,this.Match_MaxBits),N),z!=-1&&(W=this.match_main(y,V.substring(V.length-this.Match_MaxBits),N+V.length-this.Match_MaxBits),(W==-1||z>=W)&&(z=-1))):z=this.match_main(y,V,N),z==-1)R[O]=!1,A-=g[O].length2-g[O].length1;else{R[O]=!0,A=z-N;var X;if(W==-1?X=y.substring(z,z+V.length):X=y.substring(z,W+this.Match_MaxBits),V==X)y=y.substring(0,z)+this.diff_text2(g[O].diffs)+y.substring(z+V.length);else{var oe=this.diff_main(V,X,!1);if(V.length>this.Match_MaxBits&&this.diff_levenshtein(oe)/V.length>this.Patch_DeleteThreshold)R[O]=!1;else{this.diff_cleanupSemanticLossless(oe);for(var j=0,fe,le=0;le<g[O].diffs.length;le++){var q=g[O].diffs[le];q[0]!==h&&(fe=this.diff_xIndex(oe,j)),q[0]===d?y=y.substring(0,z+fe)+q[1]+y.substring(z+fe):q[0]===l&&(y=y.substring(0,z+fe)+y.substring(z+this.diff_xIndex(oe,j+q[1].length))),q[0]!==l&&(j+=q[1].length)}}}}}return y=y.substring(w.length,y.length-w.length),[y,R]},r.prototype.patch_addPadding=function(g){for(var y=this.Patch_Margin,w="",A=1;A<=y;A++)w+=String.fromCharCode(A);for(var A=0;A<g.length;A++)g[A].start1+=y,g[A].start2+=y;var R=g[0],O=R.diffs;if(O.length==0||O[0][0]!=h)O.unshift(new r.Diff(h,w)),R.start1-=y,R.start2-=y,R.length1+=y,R.length2+=y;else if(y>O[0][1].length){var N=y-O[0][1].length;O[0][1]=w.substring(O[0][1].length)+O[0][1],R.start1-=N,R.start2-=N,R.length1+=N,R.length2+=N}if(R=g[g.length-1],O=R.diffs,O.length==0||O[O.length-1][0]!=h)O.push(new r.Diff(h,w)),R.length1+=y,R.length2+=y;else if(y>O[O.length-1][1].length){var N=y-O[O.length-1][1].length;O[O.length-1][1]+=w.substring(0,N),R.length1+=N,R.length2+=N}return w},r.prototype.patch_splitMax=function(g){for(var y=this.Match_MaxBits,w=0;w<g.length;w++)if(!(g[w].length1<=y)){var A=g[w];g.splice(w--,1);for(var R=A.start1,O=A.start2,N="";A.diffs.length!==0;){var V=new r.patch_obj,z=!0;for(V.start1=R-N.length,V.start2=O-N.length,N!==""&&(V.length1=V.length2=N.length,V.diffs.push(new r.Diff(h,N)));A.diffs.length!==0&&V.length1<y-this.Patch_Margin;){var W=A.diffs[0][0],X=A.diffs[0][1];W===d?(V.length2+=X.length,O+=X.length,V.diffs.push(A.diffs.shift()),z=!1):W===l&&V.diffs.length==1&&V.diffs[0][0]==h&&X.length>2*y?(V.length1+=X.length,R+=X.length,z=!1,V.diffs.push(new r.Diff(W,X)),A.diffs.shift()):(X=X.substring(0,y-V.length1-this.Patch_Margin),V.length1+=X.length,R+=X.length,W===h?(V.length2+=X.length,O+=X.length):z=!1,V.diffs.push(new r.Diff(W,X)),X==A.diffs[0][1]?A.diffs.shift():A.diffs[0][1]=A.diffs[0][1].substring(X.length))}N=this.diff_text2(V.diffs),N=N.substring(N.length-this.Patch_Margin);var oe=this.diff_text1(A.diffs).substring(0,this.Patch_Margin);oe!==""&&(V.length1+=oe.length,V.length2+=oe.length,V.diffs.length!==0&&V.diffs[V.diffs.length-1][0]===h?V.diffs[V.diffs.length-1][1]+=oe:V.diffs.push(new r.Diff(h,oe))),z||g.splice(++w,0,V)}}},r.prototype.patch_toText=function(g){for(var y=[],w=0;w<g.length;w++)y[w]=g[w];return y.join("")},r.prototype.patch_fromText=function(g){var y=[];if(!g)return y;for(var w=g.split(`
`),A=0,R=/^@@ -(\d+),?(\d*) \+(\d+),?(\d*) @@$/;A<w.length;){var O=w[A].match(R);if(!O)throw new Error("Invalid patch string: "+w[A]);var N=new r.patch_obj;for(y.push(N),N.start1=parseInt(O[1],10),O[2]===""?(N.start1--,N.length1=1):O[2]=="0"?N.length1=0:(N.start1--,N.length1=parseInt(O[2],10)),N.start2=parseInt(O[3],10),O[4]===""?(N.start2--,N.length2=1):O[4]=="0"?N.length2=0:(N.start2--,N.length2=parseInt(O[4],10)),A++;A<w.length;){var V=w[A].charAt(0);try{var z=decodeURI(w[A].substring(1))}catch{throw new Error("Illegal escape in patch_fromText: "+z)}if(V=="-")N.diffs.push(new r.Diff(l,z));else if(V=="+")N.diffs.push(new r.Diff(d,z));else if(V==" ")N.diffs.push(new r.Diff(h,z));else{if(V=="@")break;if(V!=="")throw new Error('Invalid patch mode "'+V+'" in: '+z)}A++}}return y},r.patch_obj=function(){this.diffs=[],this.start1=null,this.start2=null,this.length1=0,this.length2=0},r.patch_obj.prototype.toString=function(){var g,y;this.length1===0?g=this.start1+",0":this.length1==1?g=this.start1+1:g=this.start1+1+","+this.length1,this.length2===0?y=this.start2+",0":this.length2==1?y=this.start2+1:y=this.start2+1+","+this.length2;for(var w=["@@ -"+g+" +"+y+` @@
`],A,R=0;R<this.diffs.length;R++){switch(this.diffs[R][0]){case d:A="+";break;case l:A="-";break;case h:A=" ";break}w[R+1]=A+encodeURI(this.diffs[R][1])+`
`}return w.join("").replace(/%20/g," ")},n.exports=r,n.exports.diff_match_patch=r,n.exports.DIFF_DELETE=l,n.exports.DIFF_INSERT=d,n.exports.DIFF_EQUAL=h}(Hz)),Hz.exports}var Tbe=Abe();const Obe=PL(Tbe),tC=gg("essay"),nC=new Obe,wM=200,Rbe=1e3,Dbe=10,Nbe=1e3,Ibe={essays:{},editEssays:{},lastCheck:0};let wk=0;const Pbe=Tf("essay",{state:()=>Ibe,getters:{formatTimestamp(){return n=>new Date(n).toISOString().slice(0,19).replace("T"," ")},formatIndex(){return n=>n.toString().padStart(9,"0")},makeHash(){return(n,r)=>qJ(n+r)}},actions:{async clearStorage(){try{await tC.clear()}catch(n){console.log(n)}this.$reset()},async loadFromStorage(){wk=1;try{this.$reset();const n=await tC.getItem("keys");for(const r of n){const l=await tC.getItem(r);if(l&&typeof l=="object"&&l!==null){const d=new Vk(l);this.essays[r]=d,this.editEssays[r]=d.getClone()}}}catch(n){console.log(n)}wk=0,Bt.api().setInterval("essayStore.checkUpdates",this.checkUpdates,wM)},async loadFromBackend(n={}){wk=1;try{await tC.clear(),this.$reset();for(const r of n){const l=new Vk(r);this.essays[l.getKey()]=l,this.editEssays[l.getKey()]=l.getClone(),await tC.setItem(l.getKey(),l.getData())}await tC.setItem("keys",Object.keys(this.essays))}catch(r){console.log(r)}wk=0,Bt.api().setInterval("essayStore.checkUpdates",this.checkUpdates,wM)},async checkUpdates(n=!1){for(const r in this.essays)await this.updateContent(r,n);Bt.api().setInterval("essayStore.checkUpdates",this.checkUpdates,wM)},async updateContent(n,r=!1){const l=Bt.api(),d=Bt.writer(),h=Bt.steps(),g=this.essays[n];if(!g)return console.log("essay with key "+n+" not found!"),!1;const y=Date.now();if(!r&&y-g.last_check<wM||d.writingEndReached||wk++)return!1;try{const w=this.editEssays[n].content+"",A=g.content;let R=null;if(w!=A){const O=this.makeHash(w,l.getServerTime(y));let N=nC.diff_main(A,w);nC.diff_cleanupEfficiency(N);const V=nC.diff_levenshtein(N),z=nC.patch_toText(nC.patch_make(A,N)),W=nC.patch_apply(nC.patch_fromText(z),A);!(h.counts[g.task_id]??0)||r||z.length>w.length||g.sum_of_distances+V>Nbe||W[0]!=w?R=new Hk({task_id:g.task_id,is_delta:0,timestamp:l.getServerTime(y),content:w,hash_before:g.hash,hash_after:O,distance:V}):(V>=Dbe||y-this.lastSave>Rbe)&&(R=new Hk({task_id:g.task_id,is_delta:1,timestamp:l.getServerTime(y),content:z,hash_before:g.hash,hash_after:O,distance:V})),R!==null&&(g.content=w,g.hash=O,g.last_change=y,g.last_check=y,g.sum_of_distances=R.is_delta?R.distance:0,this.essays[n]=g,this.editEssays[n].setData(g.getData()),await tC.setItem(g.getKey(),g.getData()),await h.addStep(R,!0),console.log("Delta:",R.is_delta,"| Distance (sum): ",V,"(",g.sum_of_distances,")","| Duration:",Date.now()-y,"ms"))}}catch(w){console.error(w)}g.last_check=y,wk=0},async getFinalData(){const n=[];for(const r of Object.values(this.essays)){const l=new Us({action:Us.ACTION_SAVE,type:Us.TYPE_ESSAY,key:r.getKey()}),d=r.getData();d.last_change=Bt.api().getServerTime(d.last_change),n.push(Bt.changes().getChangeDataToSend(l,d))}return n}}}),Oi=class Oi{constructor(r={}){Yn(this,"id","");Yn(this,"task_id",null);Yn(this,"title","");Yn(this,"type",null);Yn(this,"embedded",!0);Yn(this,"source","");Yn(this,"url","");Yn(this,"mimetype","");Yn(this,"size",null);Yn(this,"key",null);r.id!==void 0&&r.id!==null&&(this.id=parseInt(r.id)),r.task_id!==void 0&&r.task_id!==null&&(this.task_id=parseInt(r.task_id)),r.title!==void 0&&r.title!==null&&(this.title=r.title.toString()),r.type!==void 0&&Oi.ALLOWED_TYPES.includes(r.type)&&(this.type=r.type.toString()),r.embedded!==void 0&&r.embedded!==null&&(this.embedded=!!r.embedded),r.source!==void 0&&r.source!==null&&(this.source=r.source.toString()),r.url!==void 0&&r.url!==null&&(this.url=r.url.toString()),r.mimetype!==void 0&&r.mimetype!==null&&(this.mimetype=r.mimetype),r.size!==void 0&&r.size!==null&&(this.size=parseInt(r.size)),this.key=Oi.buildKey(this.id)}static buildKey(r){return"R"+r.toString()}static order(r,l){return r.title<l.title?-1:r.title>l.title?1:0}getKey(){return this.key}getData(){return Object.assign({},this)}isPdf(){return[Oi.TYPE_FILE,Oi.TYPE_SOLUTION,Oi.TYPE_INSTRUCTION].includes(this.type)}isExternalUrl(){return this.type==Oi.TYPE_URL&&!this.embedded}isEmbeddedUrl(){return this.type==Oi.TYPE_URL&&this.embedded}isEmbeddedSelectable(){return this.type==Oi.TYPE_FILE||this.type==Oi.TYPE_URL&&this.embedded}canBeAnnoteted(){return[Oi.TYPE_FILE,Oi.TYPE_SOLUTION,Oi.TYPE_INSTRUCTION].includes(this.type)}hasFileToLoad(){return[Oi.TYPE_FILE,Oi.TYPE_SOLUTION,Oi.TYPE_INSTRUCTION].includes(this.type)}};Yn(Oi,"TYPE_FILE","file"),Yn(Oi,"TYPE_URL","url"),Yn(Oi,"TYPE_INSTRUCTION","instruct"),Yn(Oi,"TYPE_SOLUTION","solution"),Yn(Oi,"ALLOWED_TYPES",[Oi.TYPE_FILE,Oi.TYPE_URL,Oi.TYPE_INSTRUCTION,Oi.TYPE_SOLUTION]);let wd=Oi;const zz=gg("layout"),Bbe=Tf("layout",{state:()=>({expandedColumn:"none",leftContent:"instructions",rightContent:"essay",showTimer:!1,showHelp:!1,showSendingStatus:!1,initialized:!1,review:!1,showInitFailure:!1,showReplaceConfirmation:!1,focusTarget:"",focusChange:0}),getters:{isInitialized:n=>n.initialized,isReview:n=>n.review,isLeftExpanded:n=>n.expandedColumn=="left",isRightExpanded:n=>n.expandedColumn=="right",isLeftVisible:n=>n.expandedColumn!="right",isRightVisible:n=>n.expandedColumn!="left",isInstructionsSelected:n=>n.leftContent=="instructions",isInstructionsPdfSelected:n=>n.leftContent=="instructionsPdf",isResourcesSelected:n=>n.leftContent=="resources",isAnnotationsSelected:n=>n.rightContent=="annotations",isEssaySelected:n=>n.rightContent=="essay",isNotesSelected:n=>n.rightContent=="notes",isInstructionsVisible:n=>n.expandedColumn!="right"&&n.leftContent=="instructions",isInstructionsPdfVisible:n=>n.isInstructionsPdfSelected&&n.isLeftVisible,isResourcesVisible:n=>n.expandedColumn!="right"&&n.leftContent=="resources",isAnnotationsVisible:n=>n.expandedColumn!="left"&&n.rightContent=="annotations",isEssayVisible:n=>n.expandedColumn!="left"&&n.rightContent=="essay",isNotesVisible:n=>n.expandedColumn!="left"&&n.rightContent=="notes",isResourceShown(n){const r=Bt.resources();return function(d){return n.isInstructionsPdfVisible&&d.type===wd.TYPE_INSTRUCTION||n.isResourcesVisible&&r.isActive(d)}},selectedResourceId(n){var l,d;const r=Bt.resources();return n.isInstructionsSelected?Sf.RESOURCE_ID_INSTRUCTIONS:n.isInstructionsPdfSelected?((l=r.getInstruction)==null?void 0:l.id)??null:n.isResourcesSelected?((d=r.activeResource)==null?void 0:d.id)??null:null}},actions:{async initialize(){await this.clearStorage();const n=Bt.resources(),r=Bt.tasks();this.leftContent=r.hasInstructions?"instructions":n.hasInstruction?"instructionsPdf":n.hasEmbeddedFileOrUrlResources?"resources":"",this.leftContent||(this.expandedColumn="right"),this.initialized=!0},async clearStorage(){try{this.$reset(),await zz.clear()}catch(n){console.log(n)}},async loadFromStorage(){try{const n=await zz.getItem("layout");n&&(this.expandedColumn=n.expandedColumn,this.showTimer=n.showTimer)}catch(n){console.log(n)}},async saveToStorage(){try{await zz.setItem("layout",{expandedColumn:this.expandedColumn,showTimer:this.showTimer})}catch(n){console.log(n)}},setReview(n){this.review=!!n},showInstructions(){this.leftContent="instructions",this.setLeftVisible(),this.saveToStorage()},showInstructionsPdf(){this.leftContent="instructionsPdf",this.setLeftVisible(),this.saveToStorage()},showResources(){this.leftContent="resources",this.setLeftVisible(),this.saveToStorage()},showResourceForId(n){const r=Bt.resources(),l=r.getResourceById(n);l&&(l.type==wd.TYPE_INSTRUCTION?this.showInstructionsPdf():(r.selectResource(l),this.showResources()))},showAnnotations(){this.rightContent="annotations",this.setRightVisible(),this.saveToStorage()},showEssay(){this.rightContent="essay",this.setRightVisible(),this.saveToStorage()},showNotes(){this.rightContent="notes",this.setRightVisible(),this.saveToStorage()},setLeftVisible(){this.isLeftVisible||(this.expandedColumn="left",this.saveToStorage()),this.setFocusChange("left")},setRightVisible(){this.isRightVisible||(this.expandedColumn="right",this.saveToStorage()),this.setFocusChange("right")},setLeftExpanded(n){this.expandedColumn=n?"left":"none",this.setFocusChange("left"),this.saveToStorage()},setRightExpanded(n){this.expandedColumn=n?"right":"none",this.setFocusChange("right"),this.saveToStorage()},setFocusChange(n){this.focusTarget=n,this.focusChange=Date.now()},toggleTimer(){this.showTimer=!this.showTimer,this.saveToStorage()},handleKeyDown(n){if(n.altKey)switch(n.key){case"0":this.setFocusChange("header");break;case"1":this.setLeftVisible();break;case"2":this.setRightVisible();break;case"#":this.setFocusChange("navigation");break}}}});class G0{constructor(r={}){Yn(this,"task_id",0);Yn(this,"note_no",0);Yn(this,"note_text","");Yn(this,"last_change",null);this.setData(r)}static buildKey(r,l){return"N"+r+"_"+l}setData(r){r.task_id!==void 0&&r.task_id!==null&&(this.task_id=parseInt(r.task_id)),r.note_no!==void 0&&r.note_no!==null&&(this.note_no=parseInt(r.note_no)),r.note_text!==void 0&&r.note_text!==null&&(this.note_text=r.note_text.toString()),r.last_change!==void 0&&r.last_change!==null&&(this.last_change=parseInt(r.last_change))}getData(){return Object.assign({},this)}getKey(){return G0.buildKey(this.note_no,this.task_id)}getClone(){return new G0(this.getData())}isEqual(r){for(const l in this)if(this[l]!==r[l])return!1;return!0}}const Yb=gg("notes"),CM=200,Mbe={notes:{},editNotes:{},lastCheck:0,activeKey:null};let Ck=0;const Lbe=Tf("notes",{state:()=>Mbe,getters:{currentNotes(n){var d;const l=(d=Bt.tasks().currentTask)==null?void 0:d.task_id;return Object.values(n.notes).filter(h=>h.task_id===l)},hasWrittenNotes(n){for(const r in n.notes)if(n.notes[r].note_text.length>0)return!0;return!1}},actions:{async clearStorage(){try{await Yb.clear()}catch(n){console.log(n)}this.$reset()},async loadFromStorage(){Ck=1;try{this.$reset();const n=await Yb.getItem("keys");for(const r of this.keys){const l=await Yb.getItem(r);if(l&&typeof l=="object"&&l!==null){const d=new G0(l);this.notes[r]=d,this.editNotes[r]=d.getClone()}}this.prepareNotes(),this.handleTaskChange()}catch(n){console.log(n)}Ck=0,Bt.api().setInterval("notesStore.checkUpdates",this.checkUpdates,CM)},async loadFromBackend(n=[]){Ck=1;try{await Yb.clear(),this.$reset();for(const r of n){const l=new G0(r);this.notes[l.getKey()]=l,this.editNotes[l.getKey()]=l.getClone(),await Yb.setItem(l.getKey(),l.getData())}await Yb.setItem("keys",Object.keys(this.notes)),this.prepareNotes(),this.handleTaskChange()}catch(r){console.log(r)}Ck=0,Bt.api().setInterval("notesStore.checkUpdates",this.checkUpdates,CM)},async prepareNotes(){const n=Bt.settings(),r=Bt.tasks();for(const l of r.taskIds)for(let d=0;d<n.notice_boards;d++){const h=G0.buildKey(d,l);if(!(h in this.notes)){const g=new G0({task_id:l,note_no:d});this.notes[h]=g,this.editNotes[h]=g.getClone(),await Yb.setItem(h,g.getData())}}await Yb.setItem("keys",Object.keys(this.notes))},handleTaskChange(){var l;const n=Bt.settings(),r=Bt.tasks();n.notice_boards>0&&(this.activeKey=G0.buildKey(0,(l=r.currentTask)==null?void 0:l.task_id))},async checkUpdates(n=!1){for(const r in this.notes)await this.updateContent(r,n);Bt.api().setInterval("notesStore.checkUpdates",this.checkUpdates,CM)},async updateContent(n,r=!1){const l=Bt.api(),d=Bt.changes(),h=Bt.writer(),g=Date.now();if(!(g-this.lastCheck<CM&&!r)&&!(Ck++&&!r)){if(h.writingEndReached)return!1;try{const y=this.editNotes[n].getClone(),w=this.notes[n]??new G0;y.isEqual(w)||(y.last_change=l.getServerTime(Date.now()),this.editNotes[n].setData(y.getData()),this.notes[n]=y,await Yb.setItem(n,y.getData()),await d.setChange(new Us({type:Us.TYPE_NOTES,action:Us.ACTION_SAVE,key:n})))}catch(y){console.error(y)}this.lastCheck=g,Ck=0}},async getChangedData(n=0){const r=Bt.changes(),l=[];for(const d of r.getChangesFor(Us.TYPE_NOTES,n)){const h=await Yb.getItem(d.key);l.push(r.getChangeDataToSend(d,h))}return l}}}),Uz=gg("preferences"),Fbe={instructions_zoom:1,editor_zoom:1,word_count_enabled:!1,word_count_characters:!1},$be=Tf("preferences",{state:()=>Fbe,getters:{},actions:{async clearStorage(){try{this.$reset(),await Uz.clear()}catch(n){console.log(n)}},async loadFromStorage(){try{this.$patch(await Uz.getItem("preferences"))}catch(n){console.log(n)}},async saveToStorage(){try{await Uz.setItem("preferences",Object.assign({},this.$state))}catch(n){console.log(n)}},loadFromBackend(n={}){try{this.$patch({instructions_zoom:n.instructions_zoom??1,editor_zoom:n.editor_zoom??1,word_count_enabled:n.word_count_enabled??!1,word_count_characters:n.word_count_characters??!1}),this.saveToStorage()}catch(r){console.log(r)}},async update(){const n=Bt.changes();Bt.api(),await this.saveToStorage(),await n.setChange(new Us({type:Us.TYPE_PREFERENCES,action:Us.ACTION_SAVE,key:"preferences"}))},async getChangedData(n=0){const r=Bt.changes(),l=[];for(const d of r.getChangesFor(Us.TYPE_PREFERENCES,n)){l.push(r.getChangeDataToSend(d,Object.assign({},this.$state)));break}return l},zoomInstructionsIn(){this.instructions_zoom=this.instructions_zoom*1.1,this.update()},zoomInstructionsOut(){this.instructions_zoom=this.instructions_zoom*.9,this.update()},zoomEditorIn(){this.editor_zoom=this.editor_zoom*1.1,this.update()},zoomEditorOut(){this.editor_zoom=this.editor_zoom*.9,this.update()},toggleWordCountEnabled(){this.word_count_enabled=!this.word_count_enabled,this.update()},toggleWordCountCharacters(){this.word_count_characters=!this.word_count_characters,this.update()}}}),Yy=gg("resources"),Vbe={resources:{},activeKey:""},Hbe=Tf("resources",{state:()=>Vbe,getters:{currentResources(n){const r=Bt.tasks();return Object.values(n.resources).filter(l=>{var d;return l.task_id===((d=r.currentTask)==null?void 0:d.task_id)||l.task_id===null}).sort(wd.order)},hasResources(n){return n.currentResources.length>0},hasInstruction(n){return!!n.currentResources.find(r=>r.type===wd.TYPE_INSTRUCTION)},getInstruction(n){return n.currentResources.find(r=>r.type===wd.TYPE_INSTRUCTION)},hasAnnotatableResource(n){return!!n.currentResources.find(r=>r.type===wd.TYPE_INSTRUCTION||r.type===wd.TYPE_FILE)},hasEmbeddedFileOrUrlResources(n){return!!n.currentResources.find(r=>(r.type===wd.TYPE_FILE||r.type===wd.TYPE_URL)&&r.embedded===!0)},getFileOrUrlResources(n){return n.currentResources.filter(r=>r.type==wd.TYPE_FILE||r.type===wd.TYPE_URL)},activeResource(n){return n.currentResources.find(r=>r.key===n.activeKey)},getResourceById(n){return r=>n.currentResources.find(l=>l.id===r)},isActive(n){return r=>{var l;return r.key===((l=n.activeResource)==null?void 0:l.key)}},isAvailable(n){return r=>!!n.currentResources.find(l=>l.key===r.key)}},actions:{async clearStorage(){try{this.$reset(),await Yy.clear()}catch(n){console.log(n)}},async loadFromStorage(){try{this.$reset();const n=await Yy.getItem("keys")??[];for(const r of n)this.resources[r]=new wd(await Yy.getItem(r));this.activeKey=await Yy.getItem("activeKey")??"",await this.loadFiles()}catch(n){console.log(n)}},async loadFromBackend(n=[]){const r=Bt.api();try{await Yy.clear(),this.$reset();for(const l of n){const d=new wd(l);d.hasFileToLoad()&&(d.url=r.getResourceUrl(d)),this.resources[d.getKey()]=d,await Yy.setItem(d.getKey(),d.getData())}await Yy.setItem("keys",Object.keys(this.resources)),this.loadFiles(),this.selectFirstEmbeddedResource()}catch(l){console.log(l)}},async selectResource(n){this.isAvailable(n)&&(this.activeKey=n.key,await Yy.setItem("activeKey",this.activeKey))},async selectFirstEmbeddedResource(){if(!this.activeResource)for(const n of this.currentResources)n.isEmbeddedSelectable&&await this.selectResource(n)},async loadFiles(){for(const n of Object.values(this.resources)){let r=null;if(n.hasFileToLoad())try{console.log("preload "+n.title+"..."),r=await Qi(n.url,{responseType:"blob",timeout:6e4}),console.log("finished. ")}catch(l){console.error(l)}}}}}),zbe=".mce-content-body,.long-essay-content{font-family:serif;font-size:1em;max-width:60em;line-height:150%}.mce-content-body h1,.long-essay-content h1,.mce-content-body h2,.long-essay-content h2,.mce-content-body h3,.long-essay-content h3,.mce-content-body h4,.long-essay-content h4,.mce-content-body h5,.long-essay-content h5,.mce-content-body h6,.long-essay-content h6{font-size:1em;font-weight:700;padding:0;margin-top:0;margin-bottom:10px;min-height:1.5em}.mce-content-body ol,.long-essay-content ol,.mce-content-body ul,.long-essay-content ul{margin-left:10px;margin-bottom:20px}.mce-content-body li,.long-essay-content li{margin-left:20px;margin-bottom:5px;min-height:1.5em}.mce-content-body p,.long-essay-content p,.mce-content-body pre,.long-essay-content pre{margin-top:0;margin-bottom:10px;min-height:1.5em}.mce-content-body,.long-essay-content,.tox-menu{counter-reset:h1 h2 h3 h4 h5 h6}.mce-content-body h1,.long-essay-content h1,.tox-menu h1{counter-increment:h1;counter-reset:h2 h3 h4 h5 h6}.mce-content-body h2,.long-essay-content h2,.tox-menu h2{counter-increment:h2;counter-reset:h3 h4 h5 h6}.mce-content-body h3,.long-essay-content h3,.tox-menu h3{counter-increment:h3;counter-reset:h4 h5 h6}.mce-content-body h4,.long-essay-content h4,.tox-menu h4{counter-increment:h4;counter-reset:h5 h6}.mce-content-body h5,.long-essay-content h5,.tox-menu h5{counter-increment:h5;counter-reset:h6}.mce-content-body h6,.long-essay-content h6,.tox-menu h6{counter-increment:h6}.mce-pagebreak{width:100%;height:1px;border:1px solid gray}.tox-menu p,.tox-menu h1,.tox-menu h2,.tox-menu h3,.tox-menu h4,.tox-menu h5,.tox-menu h6,.tox-menu pre,.tox-menu li{font-size:1rem!important}",Ube="",Wbe=".headlines-three h1{font-size:1.3em!important}.headlines-three h2{font-size:1.15em!important}.headlines-three h3{font-size:1em!important}",jbe='.mce-content-body h1:before,.headlines-numeric h1:before{content:counter(h1,decimal) " "}.mce-content-body h2:before,.headlines-numeric h2:before{content:counter(h1,decimal) "." counter(h2,decimal) " "}.mce-content-body h3:before,.headlines-numeric h3:before{content:counter(h1,decimal) "." counter(h2,decimal) "." counter(h3,decimal) " "}.mce-content-body h4:before,.headlines-numeric h4:before{content:counter(h1,decimal) "." counter(h2,decimal) "." counter(h3,decimal) "." counter(h4,decimal) " "}.mce-content-body h5:before,.headlines-numeric h5:before{content:counter(h1,decimal) "." counter(h2,decimal) "." counter(h3,decimal) "." counter(h4,decimal) "." counter(h5,decimal) " "}.mce-content-body h6:before,.headlines-numeric h6:before{content:counter(h1,decimal) "." counter(h2,decimal) "." counter(h3,decimal) "." counter(h4,decimal) "." counter(h5,decimal) "." counter(h6,decimal) " "}',Zbe='.mce-content-body h1:before,.headlines-edutiek h1:before{content:counter(h1,upper-latin) ". "}.mce-content-body h2:before,.headlines-edutiek h2:before{content:counter(h2,upper-roman) ". "}.mce-content-body h3:before,.headlines-edutiek h3:before{content:counter(h3,decimal) ". "}.mce-content-body h4:before,.headlines-edutiek h4:before{content:counter(h4,lower-latin) ". "}.mce-content-body h5:before,.headlines-edutiek h5:before{content:counter(h5,lower-latin) counter(h5,lower-latin) ". "}.mce-content-body h6:before,.headlines-edutiek h6:before{content:"(" counter(h6,decimal) ") "}',Wz=gg("settings"),{t:xd}=aR.global,Kbe={headline_scheme:null,formatting_options:null,notice_boards:0,copy_allowed:!1,allow_spellcheck:!1},qbe=Tf("settings",{state:()=>Kbe,getters:{hasNotes(n){return n.notice_boards>0},tinyToolbar(n){switch(n.formatting_options){case"full":return"undo redo styles bold italic underline bullist numlist removeformat charmap wordcount";case"medium":return"undo redo bold italic underline bullist numlistremoveformat charmap wordcount";case"minimal":return"undo redo bold italic underline removeformat charmap wordcount";case"none":default:return"undo redo charmap wordcount"}},tinyValidElements(n){switch(n.formatting_options){case"full":return"p/div,br,strong/b,em/i,u,ol,ul,li,h1,h2,h3,h4,h5,h6,pre";case"medium":return"p/div,br,strong/b,em/i,u,ol,ul,li";case"minimal":return"p/div,p/li,br,strong/b,em/i,u";case"none":default:return"p/div,p/li,br"}},tinyH1Size(n){return n.headline_scheme=="three"?1.3:1},tinyH2Size(n){return n.headline_scheme=="three"?1.15:1},tinyStyles(n){switch(n.headline_scheme){case"single":return[{title:xd("settingsParagraph"),format:"p"},{title:xd("settingsHeading"),format:"h1"},{title:xd("settingsTypewriter"),format:"pre"}];case"three":return[{title:xd("settingsParagraph"),format:"p"},{title:xd("settingsHeading1"),format:"h1"},{title:xd("settingsHeading2"),format:"h2"},{title:xd("settingsHeading3"),format:"h3"},{title:xd("settingsTypewriter"),format:"pre"}];default:return[{title:xd("settingsParagraph"),format:"p"},{title:xd("settingsHeading1"),format:"h1"},{title:xd("settingsHeading2"),format:"h2"},{title:xd("settingsHeading3"),format:"h3"},{title:xd("settingsHeading4"),format:"h4"},{title:xd("settingsHeading5"),format:"h5"},{title:xd("settingsHeading6"),format:"h6"},{title:xd("settingsTypewriter"),format:"pre"}]}},tinyFormats(n){return{underline:{inline:"u",remove:"all"}}},tinyContentStyle(n){const r=zbe.toString();switch(n.headline_scheme){case"single":return r+`
`+Ube.toString();case"three":return r+`
`+Wbe.toString();case"numeric":return r+`
`+jbe.toString();case"edutiek":return r+`
`+Zbe.toString();default:return r}},contentClass(n){switch(n.headline_scheme){case"single":return"headlines-single";case"three":return"headlines-three";case"numeric":return"headlines-numeric";case"edutiek":return"headlines-edutiek";default:return""}}},actions:{async clearStorage(){try{this.$reset(),await Wz.clear()}catch(n){console.log(n)}},async loadFromStorage(){try{this.$patch(await Wz.getItem("settings"))}catch(n){console.log(n)}},async loadFromBackend(n={}){try{this.$patch({headline_scheme:n.headline_scheme??"",formatting_options:n.formatting_options??null,notice_boards:n.notice_boards??0,copy_allowed:n.copy_allowed??!1,allow_spellcheck:n.allow_spellcheck??!1}),await Wz.setItem("settings",Object.assign({},this.$state))}catch(r){console.log(r)}}}}),K0=gg("steps"),Gbe={steps:{},counts:{}},Ybe=Tf("steps",{state:()=>Gbe,getters:{},actions:{async clearStorage(){try{await K0.clear()}catch(n){console.log(n)}this.$reset()},async loadFromStorage(){try{this.$reset();const n=await K0.getItem("keys");for(const r of n){const l=await K0.getItem(r);if(l&&typeof l=="object"&&l!==null){const d=new Hk(l);await this.addStep(!1)}}}catch(n){console.log(n)}},async loadFromBackend(n=[]){try{await K0.clear(),this.$reset();for(const r of n){const l=new Hk(r);await this.addStep(l,!1),await K0.setItem(l.getKey(),l.getData())}await K0.setItem("keys",Object.keys(this.steps))}catch(r){console.log(r)}},async addStep(n,r=!0){n.index=this.counts[n.task_id]??0,this.counts[n.task_id]=n.index+1,this.steps[n.getKey()]=n,r&&(await K0.setItem(n.getKey(),n.getData()),await K0.setItem("keys",Object.keys(this.steps)),await Bt.changes().setChange(new Us({type:Us.TYPE_STEPS,action:Us.ACTION_SAVE,key:n.getKey()})))},async getChangedData(n=0){Bt.api();const r=Bt.changes(),l=[];for(const d of r.getChangesFor(Us.TYPE_STEPS,n)){const h=await K0.getItem(d.key);l.push(r.getChangeDataToSend(d,h))}return l}}}),iC=class iC{constructor(r={}){Yn(this,"task_id",null);Yn(this,"position",0);Yn(this,"type",null);Yn(this,"title",null);Yn(this,"instructions",null);Yn(this,"key",null);r.task_id!==void 0&&r.task_id!==null&&(this.task_id=parseInt(r.task_id)),r.position!==void 0&&r.position!==null&&(this.position=parseInt(r.position)),r.type!==void 0&&iC.ALLOWED_TYPES.includes(r.type)&&(this.type=r.type.toString()),r.title!==void 0&&r.title!==null&&(this.title=r.title.toString()),r.instructions!==void 0&&r.instructions!==null&&(this.instructions=r.instructions.toString()),this.key=iC.buildKey(this.task_id)}static order(r,l){return r.position<l.position?-1:r.position>l.position?1:0}static buildKey(r){return"T"+r}getKey(){return this.key}getData(){return Object.assign({},this)}};Yn(iC,"TYPE_ESSAY","essay"),Yn(iC,"ALLOWED_TYPES",[iC.TYPE_ESSAY]);let J0=iC;const Sk=gg("tasks"),Xbe={tasks:{},firstKey:null,lastKey:null,currentKey:null,previousKey:null,nextKey:null},Jbe=Tf("tasks",{state:()=>Xbe,getters:{countTasks(n){return Object.keys(n.tasks).length},currentTask(n){return n.tasks[n.currentKey]},currentTitle(n){var r;return(r=n.currentTask)==null?void 0:r.title},hasInstructions(n){var r;return!!((r=n.currentTask)!=null&&r.instructions)},sortedTasks(n){return Object.values(n.tasks).toSorted(J0.order)},taskIds(n){let r=[];for(const l of n.sortedTasks)r.push(l.task_id);return r}},actions:{async clearStorage(){try{this.$reset(),await Sk.clear()}catch(n){console.log(n)}},async loadFromStorage(){try{this.$reset();const n=await Sk.getItem("keys")??[];for(const r of n)this.tasks[r]=new J0(await Sk.getItem(r));this.updateCurrentKeys()}catch(n){console.log(n)}},async loadFromBackend(n=[]){try{await Sk.clear(),this.$reset();for(const r of n){const l=new J0(r);this.tasks[l.getKey()]=l,await Sk.setItem(l.getKey(),l.getData())}await Sk.setItem("keys",Object.keys(this.tasks)),this.updateCurrentKeys()}catch(r){console.log(r)}},selectTask(n){this.currentKey=n,this.updateCurrentKeys()},updateCurrentKeys(){if(this.countTasks){const n=this.sortedTasks,r=0,l=n.length-1;this.firstKey=n[r].getKey(),this.lastKey=n[l].getKey(),this.currentKey===null&&(this.currentKey=this.firstKey);for(let d=r;d<=l;d++)if(n[d].getKey()==this.currentKey){this.previousKey=d>r?n[d-1].getKey():null,this.nextKey=d<l?n[d+1].getKey():null;break}}}}}),SM=gg("writer"),Qbe={writer_name:null,working_start:null,working_deadline:null,is_authorized:!1,is_excluded:!1,remaining_time:null},eve=Tf("writer",{state:()=>Qbe,getters:{hasWritingEnd(n){return!!n.working_deadline},writingEndReached(n){return n.remaining_time===0},isAuthorized(n){return n.is_authorized>0},isExcluded(n){return n.is_excluded>0}},actions:{async clearStorage(){try{this.$reset(),await SM.clear()}catch(n){console.log(n)}},async loadFromStorage(){try{const r=await SM.getItem("writer");this.$patch(r)}catch(r){console.log(r)}this.updateRemainingTime(),Bt.api().setInterval("writerStore.updateRemainingTime",this.updateRemainingTime,1e3)},async loadFromBackend(n={}){try{this.$patch({writer_name:n.writer_name??null,working_start:n.working_start??null,working_deadline:n.working_deadline??null,is_authorized:n.is_authorized??!1,is_excluded:n.is_excluded??!1}),await SM.setItem("writer",Object.assign({},this.$state))}catch(l){console.log(l)}this.updateRemainingTime(),Bt.api().setInterval("writerStore.updateRemainingTime",this.updateRemainingTime,1e3)},updateRemainingTime(){const n=Bt.api();this.working_deadline?this.remaining_time=Math.max(0,this.working_deadline-n.getServerTime(Date.now())):this.remaining_time=null,(this.writingEndReached||this.isExcluded||this.isAuthorized)&&(n.review=!0)},async getStatusToSend(n){const r=new Us({action:Us.ACTION_SAVE,type:Us.TYPE_WRITER,key:"W"});return[Bt.changes().getChangeDataToSend(r,{is_authorized:n})]},async setStatusResponses(n=[]){var r;for(const l of n){const d=new GJ(l);d.done&&((r=d.result)!=null&&r.is_authorized)&&(this.is_authorized=!0,await SM.setItem("writer",Object.assign({},this.$state)))}}}}),Bt={alert:()=>Bhe(),annotations:()=>Lhe(),api:()=>wbe(),changes:()=>Sbe(),clipboard:()=>_be(),config:()=>Ebe(),essay:()=>Pbe(),layout:()=>Bbe(),notes:()=>Lbe(),preferences:()=>$be(),resources:()=>Hbe(),settings:()=>qbe(),steps:()=>Ybe(),tasks:()=>Jbe(),writer:()=>eve()};async function XJ(){for(const n of Object.values(Bt))n().clearStorage()}const l1=Kn({border:[Boolean,Number,String]},"border");function c1(n){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:iv();return{borderClasses:Mt(()=>{const d=n.border;return d===!0||d===""?`${r}--border`:typeof d=="string"||d===0?String(d).split(" ").map(h=>`border-${h}`):[]})}}const tve=[null,"default","comfortable","compact"],Th=Kn({density:{type:String,default:"default",validator:n=>tve.includes(n)}},"density");function zp(n){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:iv();return{densityClasses:Rn(()=>`${r}--density-${n.density}`)}}const u1=Kn({elevation:{type:[Number,String],validator(n){const r=parseInt(n);return!isNaN(r)&&r>=0&&r<=24}}},"elevation");function d1(n){return{elevationClasses:Rn(()=>{const l=Di(n)?n.value:n.elevation;return l==null?[]:[`elevation-${l}`]})}}const hg=Kn({rounded:{type:[Boolean,Number,String],default:void 0},tile:Boolean},"rounded");function pg(n){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:iv();return{roundedClasses:Mt(()=>{const d=Di(n)?n.value:n.rounded,h=Di(n)?n.value:n.tile,g=[];if(d===!0||d==="")g.push(`${r}--rounded`);else if(typeof d=="string"||d===0)for(const y of String(d).split(" "))g.push(`rounded-${y}`);else(h||d===!1)&&g.push("rounded-0");return g})}}const Pi=Kn({tag:{type:[String,Object,Function],default:"div"}},"tag");function BU(n){return xU(()=>{const r=t1(n),l=[],d={};if(r.background)if(x9(r.background)){if(d.backgroundColor=r.background,!r.text&&ffe(r.background)){const h=nv(r.background);if(h.a==null||h.a===1){const g=LX(h);d.color=g,d.caretColor=g}}}else l.push(`bg-${r.background}`);return r.text&&(x9(r.text)?(d.color=r.text,d.caretColor=r.text):l.push(`text-${r.text}`)),{colorClasses:l,colorStyles:d}})}function Vp(n){const{colorClasses:r,colorStyles:l}=BU(()=>({text:t1(n)}));return{textColorClasses:r,textColorStyles:l}}function Fp(n){const{colorClasses:r,colorStyles:l}=BU(()=>({background:t1(n)}));return{backgroundColorClasses:r,backgroundColorStyles:l}}const nve=["elevated","flat","tonal","outlined","text","plain"];function Yk(n,r){return De(hs,null,[n&&De("span",{key:"overlay",class:zo(`${r}__overlay`)},null),De("span",{key:"underlay",class:zo(`${r}__underlay`)},null)])}const f1=Kn({color:String,variant:{type:String,default:"elevated",validator:n=>nve.includes(n)}},"variant");function Xk(n){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:iv();const l=Rn(()=>{const{variant:g}=t1(n);return`${r}--variant-${g}`}),{colorClasses:d,colorStyles:h}=BU(()=>{const{variant:g,color:y}=t1(n);return{[["elevated","flat"].includes(g)?"background":"text"]:y}});return{colorClasses:d,colorStyles:h,variantClasses:l}}const JJ=Kn({baseColor:String,divided:Boolean,...l1(),...Js(),...Th(),...u1(),...hg(),...Pi(),...Gl(),...f1()},"VBtnGroup"),zk=Xo()({name:"VBtnGroup",props:JJ(),setup(n,r){let{slots:l}=r;const{themeClasses:d}=Uc(n),{densityClasses:h}=zp(n),{borderClasses:g}=c1(n),{elevationClasses:y}=d1(n),{roundedClasses:w}=pg(n);hx({VBtn:{height:"auto",baseColor:Rn(()=>n.baseColor),color:Rn(()=>n.color),density:Rn(()=>n.density),flat:!0,variant:Rn(()=>n.variant)}}),Ls(()=>Ne(n.tag,{class:zo(["v-btn-group",{"v-btn-group--divided":n.divided},d.value,g.value,h.value,y.value,w.value,n.class]),style:Rs(n.style)},l))}}),MU=Kn({modelValue:{type:null,default:void 0},multiple:Boolean,mandatory:[Boolean,String],max:Number,selectedClass:String,disabled:Boolean},"group"),QJ=Kn({value:null,disabled:Boolean,selectedClass:String},"group-item");function eQ(n,r){let l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;const d=dc("useGroupItem");if(!d)throw new Error("[Vuetify] useGroupItem composable must be used inside a component setup function");const h=gx();Af(Symbol.for(`${r.description}:id`),h);const g=hi(r,null);if(!g){if(!l)return g;throw new Error(`[Vuetify] Could not find useGroup injection with symbol ${r.description}`)}const y=Rn(()=>n.value),w=Mt(()=>!!(g.disabled.value||n.disabled));g.register({id:h,value:y,disabled:w},d),zc(()=>{g.unregister(h)});const A=Mt(()=>g.isSelected(h)),R=Mt(()=>g.items.value[0].id===h),O=Mt(()=>g.items.value[g.items.value.length-1].id===h),N=Mt(()=>A.value&&[g.selectedClass.value,n.selectedClass]);return Wn(A,V=>{d.emit("group:selected",{value:V})},{flush:"sync"}),{id:h,isSelected:A,isFirst:R,isLast:O,toggle:()=>g.select(h,!A.value),select:V=>g.select(h,V),selectedClass:N,value:y,disabled:w,group:g}}function LU(n,r){let l=!1;const d=hu([]),h=Ni(n,"modelValue",[],V=>V==null?[]:tQ(d,bm(V)),V=>{const z=sve(d,V);return n.multiple?z:z[0]}),g=dc("useGroup");function y(V,z){const W=V,X=Symbol.for(`${r.description}:id`),j=Tk(X,g==null?void 0:g.vnode).indexOf(z);tt(W.value)==null&&(W.value=j,W.useIndexAsValue=!0),j>-1?d.splice(j,0,W):d.push(W)}function w(V){if(l)return;A();const z=d.findIndex(W=>W.id===V);d.splice(z,1)}function A(){const V=d.find(z=>!z.disabled);V&&n.mandatory==="force"&&!h.value.length&&(h.value=[V.id])}bu(()=>{A()}),zc(()=>{l=!0}),dU(()=>{for(let V=0;V<d.length;V++)d[V].useIndexAsValue&&(d[V].value=V)});function R(V,z){const W=d.find(X=>X.id===V);if(!(z&&(W!=null&&W.disabled)))if(n.multiple){const X=h.value.slice(),oe=X.findIndex(fe=>fe===V),j=~oe;if(z=z??!j,j&&n.mandatory&&X.length<=1||!j&&n.max!=null&&X.length+1>n.max)return;oe<0&&z?X.push(V):oe>=0&&!z&&X.splice(oe,1),h.value=X}else{const X=h.value.includes(V);if(n.mandatory&&X)return;h.value=z??!X?[V]:[]}}function O(V){if(n.multiple,h.value.length){const z=h.value[0],W=d.findIndex(j=>j.id===z);let X=(W+V)%d.length,oe=d[X];for(;oe.disabled&&X!==W;)X=(X+V)%d.length,oe=d[X];if(oe.disabled)return;h.value=[d[X].id]}else{const z=d.find(W=>!W.disabled);z&&(h.value=[z.id])}}const N={register:y,unregister:w,selected:h,select:R,disabled:Rn(()=>n.disabled),prev:()=>O(d.length-1),next:()=>O(1),isSelected:V=>h.value.includes(V),selectedClass:Rn(()=>n.selectedClass),items:Rn(()=>d),getItemIndex:V=>ove(d,V)};return Af(r,N),N}function ove(n,r){const l=tQ(n,[r]);return l.length?n.findIndex(d=>d.id===l[0]):-1}function tQ(n,r){const l=[];return r.forEach(d=>{const h=n.find(y=>Lp(d,y.value)),g=n[d];(h==null?void 0:h.value)!=null?l.push(h.id):g!=null&&l.push(g.id)}),l}function sve(n,r){const l=[];return r.forEach(d=>{const h=n.findIndex(g=>g.id===d);if(~h){const g=n[h];l.push(g.value!=null?g.value:h)}}),l}const nQ=Symbol.for("vuetify:v-btn-toggle"),rve=Kn({...JJ(),...MU()},"VBtnToggle"),oQ=Xo()({name:"VBtnToggle",props:rve(),emits:{"update:modelValue":n=>!0},setup(n,r){let{slots:l}=r;const{isSelected:d,next:h,prev:g,select:y,selected:w}=LU(n,nQ);return Ls(()=>{const A=zk.filterProps(n);return Ne(zk,fs({class:["v-btn-toggle",n.class]},A,{style:n.style}),{default:()=>{var R;return[(R=l.default)==null?void 0:R.call(l,{isSelected:d,next:h,prev:g,select:y,selected:w})]}})}),{next:h,prev:g,select:y}}}),ave=Kn({defaults:Object,disabled:Boolean,reset:[Number,String],root:[Boolean,String],scoped:Boolean},"VDefaultsProvider"),el=Xo(!1)({name:"VDefaultsProvider",props:ave(),setup(n,r){let{slots:l}=r;const{defaults:d,disabled:h,reset:g,root:y,scoped:w}=xL(n);return hx(d,{reset:g,root:y,scoped:w,disabled:h}),()=>{var A;return(A=l.default)==null?void 0:A.call(l)}}}),ive=["x-small","small","default","large","x-large"],cR=Kn({size:{type:[String,Number],default:"default"}},"size");function uR(n){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:iv();return xU(()=>{const l=n.size;let d,h;return YM(ive,l)?d=`${r}--size-${l}`:l&&(h={width:Os(l),height:Os(l)}),{sizeClasses:d,sizeStyles:h}})}const lve=Kn({color:String,disabled:Boolean,start:Boolean,end:Boolean,icon:aa,opacity:[String,Number],...Js(),...cR(),...Pi({tag:"i"}),...Gl()},"VIcon"),Yo=Xo()({name:"VIcon",props:lve(),setup(n,r){let{attrs:l,slots:d}=r;const h=Oo(),{themeClasses:g}=Lme(),{iconData:y}=Tme(()=>h.value||n.icon),{sizeClasses:w}=uR(n),{textColorClasses:A,textColorStyles:R}=Vp(()=>n.color);return Ls(()=>{var V,z;const O=(V=d.default)==null?void 0:V.call(d);O&&(h.value=(z=EX(O).filter(W=>W.type===nR&&W.children&&typeof W.children=="string")[0])==null?void 0:z.children);const N=!!(l.onClick||l.onClickOnce);return Ne(y.value.component,{tag:n.tag,icon:y.value.icon,class:zo(["v-icon","notranslate",g.value,w.value,A.value,{"v-icon--clickable":N,"v-icon--disabled":n.disabled,"v-icon--start":n.start,"v-icon--end":n.end},n.class]),style:Rs([{"--v-icon-opacity":n.opacity},w.value?void 0:{fontSize:Os(n.size),height:Os(n.size),width:Os(n.size)},R.value,n.style]),role:N?"button":void 0,"aria-hidden":!N,tabindex:N?n.disabled?-1:0:void 0},{default:()=>[O]})}),{}}});function sQ(n,r){const l=go(),d=Oo(!1);if(vU){const h=new IntersectionObserver(g=>{d.value=!!g.find(y=>y.isIntersecting)},r);zc(()=>{h.disconnect()}),Wn(l,(g,y)=>{y&&(h.unobserve(y),d.value=!1),g&&h.observe(g)},{flush:"post"})}return{intersectionRef:l,isIntersecting:d}}const cve=Kn({bgColor:String,color:String,indeterminate:[Boolean,String],modelValue:{type:[Number,String],default:0},rotate:{type:[Number,String],default:0},width:{type:[Number,String],default:4},...Js(),...cR(),...Pi({tag:"div"}),...Gl()},"VProgressCircular"),uve=Xo()({name:"VProgressCircular",props:cve(),setup(n,r){let{slots:l}=r;const d=20,h=2*Math.PI*d,g=go(),{themeClasses:y}=Uc(n),{sizeClasses:w,sizeStyles:A}=uR(n),{textColorClasses:R,textColorStyles:O}=Vp(()=>n.color),{textColorClasses:N,textColorStyles:V}=Vp(()=>n.bgColor),{intersectionRef:z,isIntersecting:W}=sQ(),{resizeRef:X,contentRect:oe}=Fk(),j=Rn(()=>vm(parseFloat(n.modelValue),0,100)),fe=Rn(()=>Number(n.width)),le=Rn(()=>A.value?Number(n.size):oe.value?oe.value.width:Math.max(fe.value,32)),q=Rn(()=>d/(1-fe.value/le.value)*2),de=Rn(()=>fe.value/le.value*q.value),ne=Rn(()=>Os((100-j.value)/100*h));return Ef(()=>{z.value=g.value,X.value=g.value}),Ls(()=>Ne(n.tag,{ref:g,class:zo(["v-progress-circular",{"v-progress-circular--indeterminate":!!n.indeterminate,"v-progress-circular--visible":W.value,"v-progress-circular--disable-shrink":n.indeterminate==="disable-shrink"},y.value,w.value,R.value,n.class]),style:Rs([A.value,O.value,n.style]),role:"progressbar","aria-valuemin":"0","aria-valuemax":"100","aria-valuenow":n.indeterminate?void 0:j.value},{default:()=>[De("svg",{style:{transform:`rotate(calc(-90deg + ${Number(n.rotate)}deg))`},xmlns:"http://www.w3.org/2000/svg",viewBox:`0 0 ${q.value} ${q.value}`},[De("circle",{class:zo(["v-progress-circular__underlay",N.value]),style:Rs(V.value),fill:"transparent",cx:"50%",cy:"50%",r:d,"stroke-width":de.value,"stroke-dasharray":h,"stroke-dashoffset":0},null),De("circle",{class:"v-progress-circular__overlay",fill:"transparent",cx:"50%",cy:"50%",r:d,"stroke-width":de.value,"stroke-dasharray":h,"stroke-dashoffset":ne.value},null)]),l.default&&De("div",{class:"v-progress-circular__content"},[l.default({value:j.value})])]})),{}}}),Up=Kn({height:[Number,String],maxHeight:[Number,String],maxWidth:[Number,String],minHeight:[Number,String],minWidth:[Number,String],width:[Number,String]},"dimension");function Wp(n){return{dimensionStyles:Mt(()=>{const l={},d=Os(n.height),h=Os(n.maxHeight),g=Os(n.maxWidth),y=Os(n.minHeight),w=Os(n.minWidth),A=Os(n.width);return d!=null&&(l.height=d),h!=null&&(l.maxHeight=h),g!=null&&(l.maxWidth=g),y!=null&&(l.minHeight=y),w!=null&&(l.minWidth=w),A!=null&&(l.width=A),l})}}const cG={center:"center",top:"bottom",bottom:"top",left:"right",right:"left"},zL=Kn({location:String},"location");function UL(n){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,l=arguments.length>2?arguments[2]:void 0;const{isRtl:d}=Ah();return{locationStyles:Mt(()=>{if(!n.location)return{};const{side:g,align:y}=v9(n.location.split(" ").length>1?n.location:`${n.location} center`,d.value);function w(R){return l?l(R):0}const A={};return g!=="center"&&(r?A[cG[g]]=`calc(100% - ${w(g)}px)`:A[g]=0),y!=="center"?r?A[cG[y]]=`calc(100% - ${w(y)}px)`:A[y]=0:(g==="center"?A.top=A.left="50%":A[{top:"left",bottom:"left",left:"top",right:"top"}[g]]="50%",A.transform={top:"translateX(-50%)",bottom:"translateX(-50%)",left:"translateY(-50%)",right:"translateY(-50%)",center:"translate(-50%, -50%)"}[g]),A})}}const dve=Kn({absolute:Boolean,active:{type:Boolean,default:!0},bgColor:String,bgOpacity:[Number,String],bufferValue:{type:[Number,String],default:0},bufferColor:String,bufferOpacity:[Number,String],clickable:Boolean,color:String,height:{type:[Number,String],default:4},indeterminate:Boolean,max:{type:[Number,String],default:100},modelValue:{type:[Number,String],default:0},opacity:[Number,String],reverse:Boolean,stream:Boolean,striped:Boolean,roundedBar:Boolean,...Js(),...zL({location:"top"}),...hg(),...Pi(),...Gl()},"VProgressLinear"),fve=Xo()({name:"VProgressLinear",props:dve(),emits:{"update:modelValue":n=>!0},setup(n,r){var Oe;let{slots:l}=r;const d=Ni(n,"modelValue"),{isRtl:h,rtlClasses:g}=Ah(),{themeClasses:y}=Uc(n),{locationStyles:w}=UL(n),{textColorClasses:A,textColorStyles:R}=Vp(()=>n.color),{backgroundColorClasses:O,backgroundColorStyles:N}=Fp(()=>n.bgColor||n.color),{backgroundColorClasses:V,backgroundColorStyles:z}=Fp(()=>n.bufferColor||n.bgColor||n.color),{backgroundColorClasses:W,backgroundColorStyles:X}=Fp(()=>n.color),{roundedClasses:oe}=pg(n),{intersectionRef:j,isIntersecting:fe}=sQ(),le=Mt(()=>parseFloat(n.max)),q=Mt(()=>parseFloat(n.height)),de=Mt(()=>vm(parseFloat(n.bufferValue)/le.value*100,0,100)),ne=Mt(()=>vm(parseFloat(d.value)/le.value*100,0,100)),be=Mt(()=>h.value!==n.reverse),Fe=Mt(()=>n.indeterminate?"fade-transition":"slide-x-transition"),Ze=ka&&((Oe=window.matchMedia)==null?void 0:Oe.call(window,"(forced-colors: active)").matches);function rt(Ve){if(!j.value)return;const{left:P,right:wt,width:Nt}=j.value.getBoundingClientRect(),Kt=be.value?Nt-Ve.clientX+(wt-Nt):Ve.clientX-P;d.value=Math.round(Kt/Nt*le.value)}return Ls(()=>Ne(n.tag,{ref:j,class:zo(["v-progress-linear",{"v-progress-linear--absolute":n.absolute,"v-progress-linear--active":n.active&&fe.value,"v-progress-linear--reverse":be.value,"v-progress-linear--rounded":n.rounded,"v-progress-linear--rounded-bar":n.roundedBar,"v-progress-linear--striped":n.striped},oe.value,y.value,g.value,n.class]),style:Rs([{bottom:n.location==="bottom"?0:void 0,top:n.location==="top"?0:void 0,height:n.active?Os(q.value):0,"--v-progress-linear-height":Os(q.value),...n.absolute?w.value:{}},n.style]),role:"progressbar","aria-hidden":n.active?"false":"true","aria-valuemin":"0","aria-valuemax":n.max,"aria-valuenow":n.indeterminate?void 0:Math.min(parseFloat(d.value),le.value),onClick:n.clickable&&rt},{default:()=>[n.stream&&De("div",{key:"stream",class:zo(["v-progress-linear__stream",A.value]),style:{...R.value,[be.value?"left":"right"]:Os(-q.value),borderTop:`${Os(q.value/2)} dotted`,opacity:parseFloat(n.bufferOpacity),top:`calc(50% - ${Os(q.value/4)})`,width:Os(100-de.value,"%"),"--v-progress-linear-stream-to":Os(q.value*(be.value?1:-1))}},null),De("div",{class:zo(["v-progress-linear__background",Ze?void 0:O.value]),style:Rs([N.value,{opacity:parseFloat(n.bgOpacity),width:n.stream?0:void 0}])},null),De("div",{class:zo(["v-progress-linear__buffer",Ze?void 0:V.value]),style:Rs([z.value,{opacity:parseFloat(n.bufferOpacity),width:Os(de.value,"%")}])},null),Ne(cx,{name:Fe.value},{default:()=>[n.indeterminate?De("div",{class:"v-progress-linear__indeterminate"},[["long","short"].map(Ve=>De("div",{key:Ve,class:zo(["v-progress-linear__indeterminate",Ve,Ze?void 0:W.value]),style:Rs(X.value)},null))]):De("div",{class:zo(["v-progress-linear__determinate",Ze?void 0:W.value]),style:Rs([X.value,{width:Os(ne.value,"%")}])},null)]}),l.default&&De("div",{class:"v-progress-linear__content"},[l.default({value:ne.value,buffer:de.value})])]})),{}}}),FU=Kn({loading:[Boolean,String]},"loader");function $U(n){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:iv();return{loaderClasses:Rn(()=>({[`${r}--loading`]:n.loading}))}}function rQ(n,r){var d;let{slots:l}=r;return De("div",{class:zo(`${n.name}__loader`)},[((d=l.default)==null?void 0:d.call(l,{color:n.color,isActive:n.active}))||Ne(fve,{absolute:n.absolute,active:n.active,color:n.color,height:"2",indeterminate:!0},null)])}const mve=["static","relative","fixed","absolute","sticky"],VU=Kn({position:{type:String,validator:n=>mve.includes(n)}},"position");function HU(n){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:iv();return{positionClasses:Rn(()=>n.position?`${r}--${n.position}`:void 0)}}function gve(){const n=dc("useRoute");return Mt(()=>{var r;return(r=n==null?void 0:n.proxy)==null?void 0:r.$route})}function aQ(){var n,r;return(r=(n=dc("useRouter"))==null?void 0:n.proxy)==null?void 0:r.$router}function WL(n,r){var O,N;const l=pue("RouterLink"),d=Rn(()=>!!(n.href||n.to)),h=Mt(()=>(d==null?void 0:d.value)||qK(r,"click")||qK(n,"click"));if(typeof l=="string"||!("useLink"in l)){const V=Rn(()=>n.href);return{isLink:d,isClickable:h,href:V,linkProps:hu({href:V})}}const g=l.useLink({to:Rn(()=>n.to||""),replace:Rn(()=>n.replace)}),y=Mt(()=>n.to?g:void 0),w=gve(),A=Mt(()=>{var V,z,W;return y.value?n.exact?w.value?((W=y.value.isExactActive)==null?void 0:W.value)&&Lp(y.value.route.value.query,w.value.query):((z=y.value.isExactActive)==null?void 0:z.value)??!1:((V=y.value.isActive)==null?void 0:V.value)??!1:!1}),R=Mt(()=>{var V;return n.to?(V=y.value)==null?void 0:V.route.value.href:n.href});return{isLink:d,isClickable:h,isActive:A,route:(O=y.value)==null?void 0:O.route,navigate:(N=y.value)==null?void 0:N.navigate,href:R,linkProps:hu({href:R,"aria-current":Rn(()=>A.value?"page":void 0)})}}const jL=Kn({href:String,replace:Boolean,to:[String,Object],exact:Boolean},"router");let jz=!1;function hve(n,r){let l=!1,d,h;ka&&(n!=null&&n.beforeEach)&&(gr(()=>{window.addEventListener("popstate",g),d=n.beforeEach((y,w,A)=>{jz?l?r(A):A():setTimeout(()=>l?r(A):A()),jz=!0}),h=n==null?void 0:n.afterEach(()=>{jz=!1})}),Gu(()=>{window.removeEventListener("popstate",g),d==null||d(),h==null||h()}));function g(y){var w;(w=y.state)!=null&&w.replaced||(l=!0,setTimeout(()=>l=!1))}}function pve(n,r){Wn(()=>{var l;return(l=n.isActive)==null?void 0:l.value},l=>{n.isLink.value&&l&&r&&gr(()=>{r(!0)})},{immediate:!0})}const V9=Symbol("rippleStop"),bve=80;function uG(n,r){n.style.transform=r,n.style.webkitTransform=r}function H9(n){return n.constructor.name==="TouchEvent"}function iQ(n){return n.constructor.name==="KeyboardEvent"}const vve=function(n,r){var N;let l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},d=0,h=0;if(!iQ(n)){const V=r.getBoundingClientRect(),z=H9(n)?n.touches[n.touches.length-1]:n;d=z.clientX-V.left,h=z.clientY-V.top}let g=0,y=.3;(N=r._ripple)!=null&&N.circle?(y=.15,g=r.clientWidth/2,g=l.center?g:g+Math.sqrt((d-g)**2+(h-g)**2)/4):g=Math.sqrt(r.clientWidth**2+r.clientHeight**2)/2;const w=`${(r.clientWidth-g*2)/2}px`,A=`${(r.clientHeight-g*2)/2}px`,R=l.center?w:`${d-g}px`,O=l.center?A:`${h-g}px`;return{radius:g,scale:y,x:R,y:O,centerX:w,centerY:A}},cL={show(n,r){var z;let l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!((z=r==null?void 0:r._ripple)!=null&&z.enabled))return;const d=document.createElement("span"),h=document.createElement("span");d.appendChild(h),d.className="v-ripple__container",l.class&&(d.className+=` ${l.class}`);const{radius:g,scale:y,x:w,y:A,centerX:R,centerY:O}=vve(n,r,l),N=`${g*2}px`;h.className="v-ripple__animation",h.style.width=N,h.style.height=N,r.appendChild(d);const V=window.getComputedStyle(r);V&&V.position==="static"&&(r.style.position="relative",r.dataset.previousPosition="static"),h.classList.add("v-ripple__animation--enter"),h.classList.add("v-ripple__animation--visible"),uG(h,`translate(${w}, ${A}) scale3d(${y},${y},${y})`),h.dataset.activated=String(performance.now()),requestAnimationFrame(()=>{requestAnimationFrame(()=>{h.classList.remove("v-ripple__animation--enter"),h.classList.add("v-ripple__animation--in"),uG(h,`translate(${R}, ${O}) scale3d(1,1,1)`)})})},hide(n){var g;if(!((g=n==null?void 0:n._ripple)!=null&&g.enabled))return;const r=n.getElementsByClassName("v-ripple__animation");if(r.length===0)return;const l=r[r.length-1];if(l.dataset.isHiding)return;l.dataset.isHiding="true";const d=performance.now()-Number(l.dataset.activated),h=Math.max(250-d,0);setTimeout(()=>{l.classList.remove("v-ripple__animation--in"),l.classList.add("v-ripple__animation--out"),setTimeout(()=>{var w;n.getElementsByClassName("v-ripple__animation").length===1&&n.dataset.previousPosition&&(n.style.position=n.dataset.previousPosition,delete n.dataset.previousPosition),((w=l.parentNode)==null?void 0:w.parentNode)===n&&n.removeChild(l.parentNode)},300)},h)}};function lQ(n){return typeof n>"u"||!!n}function GO(n){const r={},l=n.currentTarget;if(!(!(l!=null&&l._ripple)||l._ripple.touched||n[V9])){if(n[V9]=!0,H9(n))l._ripple.touched=!0,l._ripple.isTouch=!0;else if(l._ripple.isTouch)return;if(r.center=l._ripple.centered||iQ(n),l._ripple.class&&(r.class=l._ripple.class),H9(n)){if(l._ripple.showTimerCommit)return;l._ripple.showTimerCommit=()=>{cL.show(n,l,r)},l._ripple.showTimer=window.setTimeout(()=>{var d;(d=l==null?void 0:l._ripple)!=null&&d.showTimerCommit&&(l._ripple.showTimerCommit(),l._ripple.showTimerCommit=null)},bve)}else cL.show(n,l,r)}}function dG(n){n[V9]=!0}function fg(n){const r=n.currentTarget;if(r!=null&&r._ripple){if(window.clearTimeout(r._ripple.showTimer),n.type==="touchend"&&r._ripple.showTimerCommit){r._ripple.showTimerCommit(),r._ripple.showTimerCommit=null,r._ripple.showTimer=window.setTimeout(()=>{fg(n)});return}window.setTimeout(()=>{r._ripple&&(r._ripple.touched=!1)}),cL.hide(r)}}function cQ(n){const r=n.currentTarget;r!=null&&r._ripple&&(r._ripple.showTimerCommit&&(r._ripple.showTimerCommit=null),window.clearTimeout(r._ripple.showTimer))}let YO=!1;function uQ(n){!YO&&(n.keyCode===WK.enter||n.keyCode===WK.space)&&(YO=!0,GO(n))}function dQ(n){YO=!1,fg(n)}function fQ(n){YO&&(YO=!1,fg(n))}function mQ(n,r,l){const{value:d,modifiers:h}=r,g=lQ(d);if(g||cL.hide(n),n._ripple=n._ripple??{},n._ripple.enabled=g,n._ripple.centered=h.center,n._ripple.circle=h.circle,p9(d)&&d.class&&(n._ripple.class=d.class),g&&!l){if(h.stop){n.addEventListener("touchstart",dG,{passive:!0}),n.addEventListener("mousedown",dG);return}n.addEventListener("touchstart",GO,{passive:!0}),n.addEventListener("touchend",fg,{passive:!0}),n.addEventListener("touchmove",cQ,{passive:!0}),n.addEventListener("touchcancel",fg),n.addEventListener("mousedown",GO),n.addEventListener("mouseup",fg),n.addEventListener("mouseleave",fg),n.addEventListener("keydown",uQ),n.addEventListener("keyup",dQ),n.addEventListener("blur",fQ),n.addEventListener("dragstart",fg,{passive:!0})}else!g&&l&&gQ(n)}function gQ(n){n.removeEventListener("mousedown",GO),n.removeEventListener("touchstart",GO),n.removeEventListener("touchend",fg),n.removeEventListener("touchmove",cQ),n.removeEventListener("touchcancel",fg),n.removeEventListener("mouseup",fg),n.removeEventListener("mouseleave",fg),n.removeEventListener("keydown",uQ),n.removeEventListener("keyup",dQ),n.removeEventListener("dragstart",fg),n.removeEventListener("blur",fQ)}function yve(n,r){mQ(n,r,!1)}function xve(n){delete n._ripple,gQ(n)}function wve(n,r){if(r.value===r.oldValue)return;const l=lQ(r.oldValue);mQ(n,r,l)}const o1={mounted:yve,unmounted:xve,updated:wve},Cve=Kn({active:{type:Boolean,default:void 0},activeColor:String,baseColor:String,symbol:{type:null,default:nQ},flat:Boolean,icon:[Boolean,String,Function,Object],prependIcon:aa,appendIcon:aa,block:Boolean,readonly:Boolean,slim:Boolean,stacked:Boolean,ripple:{type:[Boolean,Object],default:!0},text:{type:[String,Number,Boolean],default:void 0},...l1(),...Js(),...Th(),...Up(),...u1(),...QJ(),...FU(),...zL(),...VU(),...hg(),...jL(),...cR(),...Pi({tag:"button"}),...Gl(),...f1({variant:"elevated"})},"VBtn"),Xs=Xo()({name:"VBtn",props:Cve(),emits:{"group:selected":n=>!0},setup(n,r){let{attrs:l,slots:d}=r;const{themeClasses:h}=Uc(n),{borderClasses:g}=c1(n),{densityClasses:y}=zp(n),{dimensionStyles:w}=Wp(n),{elevationClasses:A}=d1(n),{loaderClasses:R}=$U(n),{locationStyles:O}=UL(n),{positionClasses:N}=HU(n),{roundedClasses:V}=pg(n),{sizeClasses:z,sizeStyles:W}=uR(n),X=eQ(n,n.symbol,!1),oe=WL(n,l),j=Mt(()=>{var Oe;return n.active!==void 0?n.active:oe.isLink.value?(Oe=oe.isActive)==null?void 0:Oe.value:X==null?void 0:X.isSelected.value}),fe=Rn(()=>j.value?n.activeColor??n.color:n.color),le=Mt(()=>{var Ve,P;return{color:(X==null?void 0:X.isSelected.value)&&(!oe.isLink.value||((Ve=oe.isActive)==null?void 0:Ve.value))||!X||((P=oe.isActive)==null?void 0:P.value)?fe.value??n.baseColor:n.baseColor,variant:n.variant}}),{colorClasses:q,colorStyles:de,variantClasses:ne}=Xk(le),be=Mt(()=>(X==null?void 0:X.disabled.value)||n.disabled),Fe=Rn(()=>n.variant==="elevated"&&!(n.disabled||n.flat||n.border)),Ze=Mt(()=>{if(!(n.value===void 0||typeof n.value=="symbol"))return Object(n.value)===n.value?JSON.stringify(n.value,null,0):n.value});function rt(Oe){var Ve;be.value||oe.isLink.value&&(Oe.metaKey||Oe.ctrlKey||Oe.shiftKey||Oe.button!==0||l.target==="_blank")||((Ve=oe.navigate)==null||Ve.call(oe,Oe),X==null||X.toggle())}return pve(oe,X==null?void 0:X.select),Ls(()=>{const Oe=oe.isLink.value?"a":n.tag,Ve=!!(n.prependIcon||d.prepend),P=!!(n.appendIcon||d.append),wt=!!(n.icon&&n.icon!==!0);return ns(Ne(Oe,fs({type:Oe==="a"?void 0:"button",class:["v-btn",X==null?void 0:X.selectedClass.value,{"v-btn--active":j.value,"v-btn--block":n.block,"v-btn--disabled":be.value,"v-btn--elevated":Fe.value,"v-btn--flat":n.flat,"v-btn--icon":!!n.icon,"v-btn--loading":n.loading,"v-btn--readonly":n.readonly,"v-btn--slim":n.slim,"v-btn--stacked":n.stacked},h.value,g.value,q.value,y.value,A.value,R.value,N.value,V.value,z.value,ne.value,n.class],style:[de.value,w.value,O.value,W.value,n.style],"aria-busy":n.loading?!0:void 0,disabled:be.value||void 0,tabindex:n.loading||n.readonly?-1:void 0,onClick:rt,value:Ze.value},oe.linkProps),{default:()=>{var Nt;return[Yk(!0,"v-btn"),!n.icon&&Ve&&De("span",{key:"prepend",class:"v-btn__prepend"},[d.prepend?Ne(el,{key:"prepend-defaults",disabled:!n.prependIcon,defaults:{VIcon:{icon:n.prependIcon}}},d.prepend):Ne(Yo,{key:"prepend-icon",icon:n.prependIcon},null)]),De("span",{class:"v-btn__content","data-no-activator":""},[!d.default&&wt?Ne(Yo,{key:"content-icon",icon:n.icon},null):Ne(el,{key:"content-defaults",disabled:!wt,defaults:{VIcon:{icon:n.icon}}},{default:()=>{var Kt;return[((Kt=d.default)==null?void 0:Kt.call(d))??jt(n.text)]}})]),!n.icon&&P&&De("span",{key:"append",class:"v-btn__append"},[d.append?Ne(el,{key:"append-defaults",disabled:!n.appendIcon,defaults:{VIcon:{icon:n.appendIcon}}},d.append):Ne(Yo,{key:"append-icon",icon:n.appendIcon},null)]),!!n.loading&&De("span",{key:"loader",class:"v-btn__loader"},[((Nt=d.loader)==null?void 0:Nt.call(d))??Ne(uve,{color:typeof n.loading=="boolean"?void 0:n.loading,indeterminate:!0,width:"2"},null)])]}}),[[o1,!be.value&&n.ripple,"",{center:!!n.icon}]])}),{group:X}}}),s1=Xo()({name:"VCardActions",props:Js(),setup(n,r){let{slots:l}=r;return hx({VBtn:{slim:!0,variant:"text"}}),Ls(()=>{var d;return De("div",{class:zo(["v-card-actions",n.class]),style:Rs(n.style)},[(d=l.default)==null?void 0:d.call(l)])}),{}}}),Sve=Kn({opacity:[Number,String],...Js(),...Pi()},"VCardSubtitle"),_ve=Xo()({name:"VCardSubtitle",props:Sve(),setup(n,r){let{slots:l}=r;return Ls(()=>Ne(n.tag,{class:zo(["v-card-subtitle",n.class]),style:Rs([{"--v-card-subtitle-opacity":n.opacity},n.style])},l)),{}}}),z9=TL("v-card-title");function kve(n){return{aspectStyles:Mt(()=>{const r=Number(n.aspectRatio);return r?{paddingBottom:String(1/r*100)+"%"}:void 0})}}const hQ=Kn({aspectRatio:[String,Number],contentClass:null,inline:Boolean,...Js(),...Up()},"VResponsive"),fG=Xo()({name:"VResponsive",props:hQ(),setup(n,r){let{slots:l}=r;const{aspectStyles:d}=kve(n),{dimensionStyles:h}=Wp(n);return Ls(()=>{var g;return De("div",{class:zo(["v-responsive",{"v-responsive--inline":n.inline},n.class]),style:Rs([h.value,n.style])},[De("div",{class:"v-responsive__sizer",style:Rs(d.value)},null),(g=l.additional)==null?void 0:g.call(l),l.default&&De("div",{class:zo(["v-responsive__content",n.contentClass])},[l.default()])])}),{}}}),Jk=Kn({transition:{type:null,default:"fade-transition",validator:n=>n!==!0}},"transition"),ox=(n,r)=>{let{slots:l}=r;const{transition:d,disabled:h,group:g,...y}=n,{component:w=g?bU:cx,...A}=p9(d)?d:{};let R;return p9(d)?R=fs(A,JSON.parse(JSON.stringify({disabled:h,group:g})),y):R=fs({name:h||!d?"":d},y),rv(w,R,l)};function Eve(n,r){if(!vU)return;const l=r.modifiers||{},d=r.value,{handler:h,options:g}=typeof d=="object"?d:{handler:d,options:{}},y=new IntersectionObserver(function(){var N;let w=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],A=arguments.length>1?arguments[1]:void 0;const R=(N=n._observe)==null?void 0:N[r.instance.$.uid];if(!R)return;const O=w.some(V=>V.isIntersecting);h&&(!l.quiet||R.init)&&(!l.once||O||R.init)&&h(O,w,A),O&&l.once?pQ(n,r):R.init=!0},g);n._observe=Object(n._observe),n._observe[r.instance.$.uid]={init:!1,observer:y},y.observe(n)}function pQ(n,r){var d;const l=(d=n._observe)==null?void 0:d[r.instance.$.uid];l&&(l.observer.unobserve(n),delete n._observe[r.instance.$.uid])}const Uk={mounted:Eve,unmounted:pQ},Ave=Kn({absolute:Boolean,alt:String,cover:Boolean,color:String,draggable:{type:[Boolean,String],default:void 0},eager:Boolean,gradient:String,lazySrc:String,options:{type:Object,default:()=>({root:void 0,rootMargin:void 0,threshold:void 0})},sizes:String,src:{type:[String,Object],default:""},crossorigin:String,referrerpolicy:String,srcset:String,position:String,...hQ(),...Js(),...hg(),...Jk()},"VImg"),ZL=Xo()({name:"VImg",directives:{vIntersect:Uk},props:Ave(),emits:{loadstart:n=>!0,load:n=>!0,error:n=>!0},setup(n,r){let{emit:l,slots:d}=r;const{backgroundColorClasses:h,backgroundColorStyles:g}=Fp(()=>n.color),{roundedClasses:y}=pg(n),w=dc("VImg"),A=Oo(""),R=go(),O=Oo(n.eager?"loading":"idle"),N=Oo(),V=Oo(),z=Mt(()=>n.src&&typeof n.src=="object"?{src:n.src.src,srcset:n.srcset||n.src.srcset,lazySrc:n.lazySrc||n.src.lazySrc,aspect:Number(n.aspectRatio||n.src.aspect||0)}:{src:n.src,srcset:n.srcset,lazySrc:n.lazySrc,aspect:Number(n.aspectRatio||0)}),W=Mt(()=>z.value.aspect||N.value/V.value||0);Wn(()=>n.src,()=>{X(O.value!=="idle")}),Wn(W,(Ve,P)=>{!Ve&&P&&R.value&&q(R.value)}),tR(()=>X());function X(Ve){if(!(n.eager&&Ve)&&!(vU&&!Ve&&!n.eager)){if(O.value="loading",z.value.lazySrc){const P=new Image;P.src=z.value.lazySrc,q(P,null)}z.value.src&&gr(()=>{var P;l("loadstart",((P=R.value)==null?void 0:P.currentSrc)||z.value.src),setTimeout(()=>{var wt;if(!w.isUnmounted)if((wt=R.value)!=null&&wt.complete){if(R.value.naturalWidth||j(),O.value==="error")return;W.value||q(R.value,null),O.value==="loading"&&oe()}else W.value||q(R.value),fe()})})}}function oe(){var Ve;w.isUnmounted||(fe(),q(R.value),O.value="loaded",l("load",((Ve=R.value)==null?void 0:Ve.currentSrc)||z.value.src))}function j(){var Ve;w.isUnmounted||(O.value="error",l("error",((Ve=R.value)==null?void 0:Ve.currentSrc)||z.value.src))}function fe(){const Ve=R.value;Ve&&(A.value=Ve.currentSrc||Ve.src)}let le=-1;zc(()=>{clearTimeout(le)});function q(Ve){let P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:100;const wt=()=>{if(clearTimeout(le),w.isUnmounted)return;const{naturalHeight:Nt,naturalWidth:Kt}=Ve;Nt||Kt?(N.value=Kt,V.value=Nt):!Ve.complete&&O.value==="loading"&&P!=null?le=window.setTimeout(wt,P):(Ve.currentSrc.endsWith(".svg")||Ve.currentSrc.startsWith("data:image/svg+xml"))&&(N.value=1,V.value=1)};wt()}const de=Rn(()=>({"v-img__img--cover":n.cover,"v-img__img--contain":!n.cover})),ne=()=>{var wt;if(!z.value.src||O.value==="idle")return null;const Ve=De("img",{class:zo(["v-img__img",de.value]),style:{objectPosition:n.position},crossorigin:n.crossorigin,src:z.value.src,srcset:z.value.srcset,alt:n.alt,referrerpolicy:n.referrerpolicy,draggable:n.draggable,sizes:n.sizes,ref:R,onLoad:oe,onError:j},null),P=(wt=d.sources)==null?void 0:wt.call(d);return Ne(ox,{transition:n.transition,appear:!0},{default:()=>[ns(P?De("picture",{class:"v-img__picture"},[P,Ve]):Ve,[[Ms,O.value==="loaded"]])]})},be=()=>Ne(ox,{transition:n.transition},{default:()=>[z.value.lazySrc&&O.value!=="loaded"&&De("img",{class:zo(["v-img__img","v-img__img--preload",de.value]),style:{objectPosition:n.position},crossorigin:n.crossorigin,src:z.value.lazySrc,alt:n.alt,referrerpolicy:n.referrerpolicy,draggable:n.draggable},null)]}),Fe=()=>d.placeholder?Ne(ox,{transition:n.transition,appear:!0},{default:()=>[(O.value==="loading"||O.value==="error"&&!d.error)&&De("div",{class:"v-img__placeholder"},[d.placeholder()])]}):null,Ze=()=>d.error?Ne(ox,{transition:n.transition,appear:!0},{default:()=>[O.value==="error"&&De("div",{class:"v-img__error"},[d.error()])]}):null,rt=()=>n.gradient?De("div",{class:"v-img__gradient",style:{backgroundImage:`linear-gradient(${n.gradient})`}},null):null,Oe=Oo(!1);{const Ve=Wn(W,P=>{P&&(requestAnimationFrame(()=>{requestAnimationFrame(()=>{Oe.value=!0})}),Ve())})}return Ls(()=>{const Ve=fG.filterProps(n);return ns(Ne(fG,fs({class:["v-img",{"v-img--absolute":n.absolute,"v-img--booting":!Oe.value},h.value,y.value,n.class],style:[{width:Os(n.width==="auto"?N.value:n.width)},g.value,n.style]},Ve,{aspectRatio:W.value,"aria-label":n.alt,role:n.alt?"img":void 0}),{additional:()=>De(hs,null,[Ne(ne,null,null),Ne(be,null,null),Ne(rt,null,null),Ne(Fe,null,null),Ne(Ze,null,null)]),default:d.default}),[[Uk,{handler:X,options:n.options},null,{once:!0}]])}),{currentSrc:A,image:R,state:O,naturalWidth:N,naturalHeight:V}}}),Tve=Kn({start:Boolean,end:Boolean,icon:aa,image:String,text:String,...l1(),...Js(),...Th(),...hg(),...cR(),...Pi(),...Gl(),...f1({variant:"flat"})},"VAvatar"),ux=Xo()({name:"VAvatar",props:Tve(),setup(n,r){let{slots:l}=r;const{themeClasses:d}=Uc(n),{borderClasses:h}=c1(n),{colorClasses:g,colorStyles:y,variantClasses:w}=Xk(n),{densityClasses:A}=zp(n),{roundedClasses:R}=pg(n),{sizeClasses:O,sizeStyles:N}=uR(n);return Ls(()=>Ne(n.tag,{class:zo(["v-avatar",{"v-avatar--start":n.start,"v-avatar--end":n.end},d.value,h.value,g.value,A.value,R.value,O.value,w.value,n.class]),style:Rs([y.value,N.value,n.style])},{default:()=>[l.default?Ne(el,{key:"content-defaults",defaults:{VImg:{cover:!0,src:n.image},VIcon:{icon:n.icon}}},{default:()=>[l.default()]}):n.image?Ne(ZL,{key:"image",src:n.image,alt:"",cover:!0},null):n.icon?Ne(Yo,{key:"icon",icon:n.icon},null):n.text,Yk(!1,"v-avatar")]})),{}}}),Ove=Kn({appendAvatar:String,appendIcon:aa,prependAvatar:String,prependIcon:aa,subtitle:{type:[String,Number,Boolean],default:void 0},title:{type:[String,Number,Boolean],default:void 0},...Js(),...Th()},"VCardItem"),Rve=Xo()({name:"VCardItem",props:Ove(),setup(n,r){let{slots:l}=r;return Ls(()=>{var R;const d=!!(n.prependAvatar||n.prependIcon),h=!!(d||l.prepend),g=!!(n.appendAvatar||n.appendIcon),y=!!(g||l.append),w=!!(n.title!=null||l.title),A=!!(n.subtitle!=null||l.subtitle);return De("div",{class:zo(["v-card-item",n.class]),style:Rs(n.style)},[h&&De("div",{key:"prepend",class:"v-card-item__prepend"},[l.prepend?Ne(el,{key:"prepend-defaults",disabled:!d,defaults:{VAvatar:{density:n.density,image:n.prependAvatar},VIcon:{density:n.density,icon:n.prependIcon}}},l.prepend):De(hs,null,[n.prependAvatar&&Ne(ux,{key:"prepend-avatar",density:n.density,image:n.prependAvatar},null),n.prependIcon&&Ne(Yo,{key:"prepend-icon",density:n.density,icon:n.prependIcon},null)])]),De("div",{class:"v-card-item__content"},[w&&Ne(z9,{key:"title"},{default:()=>{var O;return[((O=l.title)==null?void 0:O.call(l))??jt(n.title)]}}),A&&Ne(_ve,{key:"subtitle"},{default:()=>{var O;return[((O=l.subtitle)==null?void 0:O.call(l))??jt(n.subtitle)]}}),(R=l.default)==null?void 0:R.call(l)]),y&&De("div",{key:"append",class:"v-card-item__append"},[l.append?Ne(el,{key:"append-defaults",disabled:!g,defaults:{VAvatar:{density:n.density,image:n.appendAvatar},VIcon:{density:n.density,icon:n.appendIcon}}},l.append):De(hs,null,[n.appendIcon&&Ne(Yo,{key:"append-icon",density:n.density,icon:n.appendIcon},null),n.appendAvatar&&Ne(ux,{key:"append-avatar",density:n.density,image:n.appendAvatar},null)])])])}),{}}}),Dve=Kn({opacity:[Number,String],...Js(),...Pi()},"VCardText"),r1=Xo()({name:"VCardText",props:Dve(),setup(n,r){let{slots:l}=r;return Ls(()=>Ne(n.tag,{class:zo(["v-card-text",n.class]),style:Rs([{"--v-card-text-opacity":n.opacity},n.style])},l)),{}}}),Nve=Kn({appendAvatar:String,appendIcon:aa,disabled:Boolean,flat:Boolean,hover:Boolean,image:String,link:{type:Boolean,default:void 0},prependAvatar:String,prependIcon:aa,ripple:{type:[Boolean,Object],default:!0},subtitle:{type:[String,Number,Boolean],default:void 0},text:{type:[String,Number,Boolean],default:void 0},title:{type:[String,Number,Boolean],default:void 0},...l1(),...Js(),...Th(),...Up(),...u1(),...FU(),...zL(),...VU(),...hg(),...jL(),...Pi(),...Gl(),...f1({variant:"elevated"})},"VCard"),dx=Xo()({name:"VCard",directives:{vRipple:o1},props:Nve(),setup(n,r){let{attrs:l,slots:d}=r;const{themeClasses:h}=Uc(n),{borderClasses:g}=c1(n),{colorClasses:y,colorStyles:w,variantClasses:A}=Xk(n),{densityClasses:R}=zp(n),{dimensionStyles:O}=Wp(n),{elevationClasses:N}=d1(n),{loaderClasses:V}=$U(n),{locationStyles:z}=UL(n),{positionClasses:W}=HU(n),{roundedClasses:X}=pg(n),oe=WL(n,l);return Ls(()=>{const j=n.link!==!1&&oe.isLink.value,fe=!n.disabled&&n.link!==!1&&(n.link||oe.isClickable.value),le=j?"a":n.tag,q=!!(d.title||n.title!=null),de=!!(d.subtitle||n.subtitle!=null),ne=q||de,be=!!(d.append||n.appendAvatar||n.appendIcon),Fe=!!(d.prepend||n.prependAvatar||n.prependIcon),Ze=!!(d.image||n.image),rt=ne||Fe||be,Oe=!!(d.text||n.text!=null);return ns(Ne(le,fs({class:["v-card",{"v-card--disabled":n.disabled,"v-card--flat":n.flat,"v-card--hover":n.hover&&!(n.disabled||n.flat),"v-card--link":fe},h.value,g.value,y.value,R.value,N.value,V.value,W.value,X.value,A.value,n.class],style:[w.value,O.value,z.value,n.style],onClick:fe&&oe.navigate,tabindex:n.disabled?-1:void 0},oe.linkProps),{default:()=>{var Ve;return[Ze&&De("div",{key:"image",class:"v-card__image"},[d.image?Ne(el,{key:"image-defaults",disabled:!n.image,defaults:{VImg:{cover:!0,src:n.image}}},d.image):Ne(ZL,{key:"image-img",cover:!0,src:n.image},null)]),Ne(rQ,{name:"v-card",active:!!n.loading,color:typeof n.loading=="boolean"?void 0:n.loading},{default:d.loader}),rt&&Ne(Rve,{key:"item",prependAvatar:n.prependAvatar,prependIcon:n.prependIcon,title:n.title,subtitle:n.subtitle,appendAvatar:n.appendAvatar,appendIcon:n.appendIcon},{default:d.item,prepend:d.prepend,title:d.title,subtitle:d.subtitle,append:d.append}),Oe&&Ne(r1,{key:"text"},{default:()=>{var P;return[((P=d.text)==null?void 0:P.call(d))??n.text]}}),(Ve=d.default)==null?void 0:Ve.call(d),d.actions&&Ne(s1,null,{default:d.actions}),Yk(fe,"v-card")]}}),[[o1,fe&&n.ripple]])}),{}}}),Ive=Kn({disabled:Boolean,group:Boolean,hideOnLeave:Boolean,leaveAbsolute:Boolean,mode:String,origin:String},"transition");function bg(n,r,l){return Xo()({name:n,props:Ive({mode:l,origin:r}),setup(d,h){let{slots:g}=h;const y={onBeforeEnter(w){d.origin&&(w.style.transformOrigin=d.origin)},onLeave(w){if(d.leaveAbsolute){const{offsetTop:A,offsetLeft:R,offsetWidth:O,offsetHeight:N}=w;w._transitionInitialStyles={position:w.style.position,top:w.style.top,left:w.style.left,width:w.style.width,height:w.style.height},w.style.position="absolute",w.style.top=`${A}px`,w.style.left=`${R}px`,w.style.width=`${O}px`,w.style.height=`${N}px`}d.hideOnLeave&&w.style.setProperty("display","none","important")},onAfterLeave(w){if(d.leaveAbsolute&&(w!=null&&w._transitionInitialStyles)){const{position:A,top:R,left:O,width:N,height:V}=w._transitionInitialStyles;delete w._transitionInitialStyles,w.style.position=A||"",w.style.top=R||"",w.style.left=O||"",w.style.width=N||"",w.style.height=V||""}}};return()=>{const w=d.group?bU:cx;return rv(w,{name:d.disabled?"":n,css:!d.disabled,...d.group?void 0:{mode:d.mode},...d.disabled?{}:y},g.default)}}})}function bQ(n,r){let l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"in-out";return Xo()({name:n,props:{mode:{type:String,default:l},disabled:Boolean,group:Boolean},setup(d,h){let{slots:g}=h;const y=d.group?bU:cx;return()=>rv(y,{name:d.disabled?"":n,css:!d.disabled,...d.disabled?{}:r},g.default)}})}function vQ(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";const l=(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1)?"width":"height",d=kf(`offset-${l}`);return{onBeforeEnter(y){y._parent=y.parentNode,y._initialStyle={transition:y.style.transition,overflow:y.style.overflow,[l]:y.style[l]}},onEnter(y){const w=y._initialStyle;if(!w)return;y.style.setProperty("transition","none","important"),y.style.overflow="hidden";const A=`${y[d]}px`;y.style[l]="0",y.offsetHeight,y.style.transition=w.transition,n&&y._parent&&y._parent.classList.add(n),requestAnimationFrame(()=>{y.style[l]=A})},onAfterEnter:g,onEnterCancelled:g,onLeave(y){y._initialStyle={transition:"",overflow:y.style.overflow,[l]:y.style[l]},y.style.overflow="hidden",y.style[l]=`${y[d]}px`,y.offsetHeight,requestAnimationFrame(()=>y.style[l]="0")},onAfterLeave:h,onLeaveCancelled:h};function h(y){n&&y._parent&&y._parent.classList.remove(n),g(y)}function g(y){if(!y._initialStyle)return;const w=y._initialStyle[l];y.style.overflow=y._initialStyle.overflow,w!=null&&(y.style[l]=w),delete y._initialStyle}}const Pve=Kn({target:[Object,Array]},"v-dialog-transition"),Zz=new WeakMap,zU=Xo()({name:"VDialogTransition",props:Pve(),setup(n,r){let{slots:l}=r;const d={onBeforeEnter(h){h.style.pointerEvents="none",h.style.visibility="hidden"},async onEnter(h,g){var z;await new Promise(W=>requestAnimationFrame(W)),await new Promise(W=>requestAnimationFrame(W)),h.style.visibility="";const y=gG(n.target,h),{x:w,y:A,sx:R,sy:O,speed:N}=y;Zz.set(h,y);const V=Ok(h,[{transform:`translate(${w}px, ${A}px) scale(${R}, ${O})`,opacity:0},{}],{duration:225*N,easing:_fe});(z=mG(h))==null||z.forEach(W=>{Ok(W,[{opacity:0},{opacity:0,offset:.33},{}],{duration:225*2*N,easing:QM})}),V.finished.then(()=>g())},onAfterEnter(h){h.style.removeProperty("pointer-events")},onBeforeLeave(h){h.style.pointerEvents="none"},async onLeave(h,g){var z;await new Promise(W=>requestAnimationFrame(W));let y;!Zz.has(h)||Array.isArray(n.target)||n.target.offsetParent||n.target.getClientRects().length?y=gG(n.target,h):y=Zz.get(h);const{x:w,y:A,sx:R,sy:O,speed:N}=y;Ok(h,[{},{transform:`translate(${w}px, ${A}px) scale(${R}, ${O})`,opacity:0}],{duration:125*N,easing:kfe}).finished.then(()=>g()),(z=mG(h))==null||z.forEach(W=>{Ok(W,[{},{opacity:0,offset:.2},{opacity:0}],{duration:125*2*N,easing:QM})})},onAfterLeave(h){h.style.removeProperty("pointer-events")}};return()=>n.target?Ne(cx,fs({name:"dialog-transition"},d,{css:!1}),l):Ne(cx,{name:"dialog-transition"},l)}});function mG(n){var l;const r=(l=n.querySelector(":scope > .v-card, :scope > .v-sheet, :scope > .v-list"))==null?void 0:l.children;return r&&[...r]}function gG(n,r){const l=NX(n),d=SU(r),[h,g]=getComputedStyle(r).transformOrigin.split(" ").map(j=>parseFloat(j)),[y,w]=getComputedStyle(r).getPropertyValue("--v-overlay-anchor-origin").split(" ");let A=l.left+l.width/2;y==="left"||w==="left"?A-=l.width/2:(y==="right"||w==="right")&&(A+=l.width/2);let R=l.top+l.height/2;y==="top"||w==="top"?R-=l.height/2:(y==="bottom"||w==="bottom")&&(R+=l.height/2);const O=l.width/d.width,N=l.height/d.height,V=Math.max(1,O,N),z=O/V||0,W=N/V||0,X=d.width*d.height/(window.innerWidth*window.innerHeight),oe=X>.12?Math.min(1.5,(X-.12)*10+1):1;return{x:A-(h+d.left),y:R-(g+d.top),sx:z,sy:W,speed:oe}}bg("fab-transition","center center","out-in");bg("dialog-bottom-transition");bg("dialog-top-transition");const hG=bg("fade-transition");bg("scale-transition");bg("scroll-x-transition");bg("scroll-x-reverse-transition");bg("scroll-y-transition");bg("scroll-y-reverse-transition");bg("slide-x-transition");bg("slide-x-reverse-transition");const yQ=bg("slide-y-transition");bg("slide-y-reverse-transition");const xQ=bQ("expand-transition",vQ()),wQ=bQ("expand-x-transition",vQ("",!0));function Kz(n,r){return{x:n.x+r.x,y:n.y+r.y}}function Bve(n,r){return{x:n.x-r.x,y:n.y-r.y}}function pG(n,r){if(n.side==="top"||n.side==="bottom"){const{side:l,align:d}=n,h=d==="left"?0:d==="center"?r.width/2:d==="right"?r.width:d,g=l==="top"?0:l==="bottom"?r.height:l;return Kz({x:h,y:g},r)}else if(n.side==="left"||n.side==="right"){const{side:l,align:d}=n,h=l==="left"?0:l==="right"?r.width:l,g=d==="top"?0:d==="center"?r.height/2:d==="bottom"?r.height:d;return Kz({x:h,y:g},r)}return Kz({x:r.width/2,y:r.height/2},r)}const CQ={static:Fve,connected:Vve},Mve=Kn({locationStrategy:{type:[String,Function],default:"static",validator:n=>typeof n=="function"||n in CQ},location:{type:String,default:"bottom"},origin:{type:String,default:"auto"},offset:[Number,String,Array]},"VOverlay-location-strategies");function Lve(n,r){const l=go({}),d=go();ka&&Eh(()=>!!(r.isActive.value&&n.locationStrategy),w=>{var A,R;Wn(()=>n.locationStrategy,w),Gu(()=>{window.removeEventListener("resize",h),visualViewport==null||visualViewport.removeEventListener("resize",g),visualViewport==null||visualViewport.removeEventListener("scroll",y),d.value=void 0}),window.addEventListener("resize",h,{passive:!0}),visualViewport==null||visualViewport.addEventListener("resize",g,{passive:!0}),visualViewport==null||visualViewport.addEventListener("scroll",y,{passive:!0}),typeof n.locationStrategy=="function"?d.value=(A=n.locationStrategy(r,n,l))==null?void 0:A.updateLocation:d.value=(R=CQ[n.locationStrategy](r,n,l))==null?void 0:R.updateLocation});function h(w){var A;(A=d.value)==null||A.call(d,w)}function g(w){var A;(A=d.value)==null||A.call(d,w)}function y(w){var A;(A=d.value)==null||A.call(d,w)}return{contentStyles:l,updateLocation:d}}function Fve(){}function $ve(n,r){const l=SU(n);return r?l.x+=parseFloat(n.style.right||0):l.x-=parseFloat(n.style.left||0),l.y-=parseFloat(n.style.top||0),l}function Vve(n,r,l){(Array.isArray(n.target.value)||Afe(n.target.value))&&Object.assign(l.value,{position:"fixed",top:0,[n.isRtl.value?"right":"left"]:0});const{preferredAnchor:h,preferredOrigin:g}=xU(()=>{const j=v9(r.location,n.isRtl.value),fe=r.origin==="overlap"?j:r.origin==="auto"?Cz(j):v9(r.origin,n.isRtl.value);return j.side===fe.side&&j.align===Sz(fe).align?{preferredAnchor:GK(j),preferredOrigin:GK(fe)}:{preferredAnchor:j,preferredOrigin:fe}}),[y,w,A,R]=["minWidth","minHeight","maxWidth","maxHeight"].map(j=>Mt(()=>{const fe=parseFloat(r[j]);return isNaN(fe)?1/0:fe})),O=Mt(()=>{if(Array.isArray(r.offset))return r.offset;if(typeof r.offset=="string"){const j=r.offset.split(" ").map(parseFloat);return j.length<2&&j.push(0),j}return typeof r.offset=="number"?[r.offset,0]:[0,0]});let N=!1,V=-1;const z=new AX(4),W=new ResizeObserver(()=>{if(!N)return;if(requestAnimationFrame(fe=>{fe!==V&&z.clear(),requestAnimationFrame(le=>{V=le})}),z.isFull){const fe=z.values();if(Lp(fe.at(-1),fe.at(-3)))return}const j=oe();j&&z.push(j.flipped)});Wn([n.target,n.contentEl],(j,fe)=>{let[le,q]=j,[de,ne]=fe;de&&!Array.isArray(de)&&W.unobserve(de),le&&!Array.isArray(le)&&W.observe(le),ne&&W.unobserve(ne),q&&W.observe(q)},{immediate:!0}),Gu(()=>{W.disconnect()});let X=new sv({x:0,y:0,width:0,height:0});function oe(){if(N=!1,requestAnimationFrame(()=>N=!0),!n.target.value||!n.contentEl.value)return;(Array.isArray(n.target.value)||n.target.value.offsetParent||n.target.value.getClientRects().length)&&(X=NX(n.target.value));const j=$ve(n.contentEl.value,n.isRtl.value),fe=eL(n.contentEl.value),le=12;fe.length||(fe.push(document.documentElement),n.contentEl.value.style.top&&n.contentEl.value.style.left||(j.x-=parseFloat(document.documentElement.style.getPropertyValue("--v-body-scroll-x")||0),j.y-=parseFloat(document.documentElement.style.getPropertyValue("--v-body-scroll-y")||0)));const q=fe.reduce((P,wt)=>{const Nt=Gde(wt);return P?new sv({x:Math.max(P.left,Nt.left),y:Math.max(P.top,Nt.top),width:Math.min(P.right,Nt.right)-Math.max(P.left,Nt.left),height:Math.min(P.bottom,Nt.bottom)-Math.max(P.top,Nt.top)}):Nt},void 0);q.x+=le,q.y+=le,q.width-=le*2,q.height-=le*2;let de={anchor:h.value,origin:g.value};function ne(P){const wt=new sv(j),Nt=pG(P.anchor,X),Kt=pG(P.origin,wt);let{x:rn,y:ct}=Bve(Nt,Kt);switch(P.anchor.side){case"top":ct-=O.value[0];break;case"bottom":ct+=O.value[0];break;case"left":rn-=O.value[0];break;case"right":rn+=O.value[0];break}switch(P.anchor.align){case"top":ct-=O.value[1];break;case"bottom":ct+=O.value[1];break;case"left":rn-=O.value[1];break;case"right":rn+=O.value[1];break}return wt.x+=rn,wt.y+=ct,wt.width=Math.min(wt.width,A.value),wt.height=Math.min(wt.height,R.value),{overflows:XK(wt,q),x:rn,y:ct}}let be=0,Fe=0;const Ze={x:0,y:0},rt={x:!1,y:!1};let Oe=-1;for(;!(Oe++>10);){const{x:P,y:wt,overflows:Nt}=ne(de);be+=P,Fe+=wt,j.x+=P,j.y+=wt;{const Kt=YK(de.anchor),rn=Nt.x.before||Nt.x.after,ct=Nt.y.before||Nt.y.after;let Tn=!1;if(["x","y"].forEach(Tt=>{if(Tt==="x"&&rn&&!rt.x||Tt==="y"&&ct&&!rt.y){const ot={anchor:{...de.anchor},origin:{...de.origin}},$e=Tt==="x"?Kt==="y"?Sz:Cz:Kt==="y"?Cz:Sz;ot.anchor=$e(ot.anchor),ot.origin=$e(ot.origin);const{overflows:ht}=ne(ot);(ht[Tt].before<=Nt[Tt].before&&ht[Tt].after<=Nt[Tt].after||ht[Tt].before+ht[Tt].after<(Nt[Tt].before+Nt[Tt].after)/2)&&(de=ot,Tn=rt[Tt]=!0)}}),Tn)continue}Nt.x.before&&(be+=Nt.x.before,j.x+=Nt.x.before),Nt.x.after&&(be-=Nt.x.after,j.x-=Nt.x.after),Nt.y.before&&(Fe+=Nt.y.before,j.y+=Nt.y.before),Nt.y.after&&(Fe-=Nt.y.after,j.y-=Nt.y.after);{const Kt=XK(j,q);Ze.x=q.width-Kt.x.before-Kt.x.after,Ze.y=q.height-Kt.y.before-Kt.y.after,be+=Kt.x.before,j.x+=Kt.x.before,Fe+=Kt.y.before,j.y+=Kt.y.before}break}const Ve=YK(de.anchor);return Object.assign(l.value,{"--v-overlay-anchor-origin":`${de.anchor.side} ${de.anchor.align}`,transformOrigin:`${de.origin.side} ${de.origin.align}`,top:Os(qz(Fe)),left:n.isRtl.value?void 0:Os(qz(be)),right:n.isRtl.value?Os(qz(-be)):void 0,minWidth:Os(Ve==="y"?Math.min(y.value,X.width):y.value),maxWidth:Os(bG(vm(Ze.x,y.value===1/0?0:y.value,A.value))),maxHeight:Os(bG(vm(Ze.y,w.value===1/0?0:w.value,R.value)))}),{available:Ze,contentBox:j,flipped:rt}}return Wn(()=>[h.value,g.value,r.offset,r.minWidth,r.minHeight,r.maxWidth,r.maxHeight],()=>oe()),gr(()=>{const j=oe();if(!j)return;const{available:fe,contentBox:le}=j;le.height>fe.y&&requestAnimationFrame(()=>{oe(),requestAnimationFrame(()=>{oe()})})}),{updateLocation:oe}}function qz(n){return Math.round(n*devicePixelRatio)/devicePixelRatio}function bG(n){return Math.ceil(n*devicePixelRatio)/devicePixelRatio}let U9=!0;const uL=[];function Hve(n){!U9||uL.length?(uL.push(n),W9()):(U9=!1,n(),W9())}let vG=-1;function W9(){cancelAnimationFrame(vG),vG=requestAnimationFrame(()=>{const n=uL.shift();n&&n(),uL.length?W9():U9=!0})}const FM={none:null,close:Wve,block:jve,reposition:Zve},zve=Kn({scrollStrategy:{type:[String,Function],default:"block",validator:n=>typeof n=="function"||n in FM}},"VOverlay-scroll-strategies");function Uve(n,r){if(!ka)return;let l;Ef(async()=>{l==null||l.stop(),r.isActive.value&&n.scrollStrategy&&(l=ix(),await new Promise(d=>setTimeout(d)),l.active&&l.run(()=>{var d;typeof n.scrollStrategy=="function"?n.scrollStrategy(r,n,l):(d=FM[n.scrollStrategy])==null||d.call(FM,r,n,l)}))}),Gu(()=>{l==null||l.stop()})}function Wve(n){function r(l){n.isActive.value=!1}SQ(n.targetEl.value??n.contentEl.value,r)}function jve(n,r){var y;const l=(y=n.root.value)==null?void 0:y.offsetParent,d=[...new Set([...eL(n.targetEl.value,r.contained?l:void 0),...eL(n.contentEl.value,r.contained?l:void 0)])].filter(w=>!w.classList.contains("v-overlay-scroll-blocked")),h=window.innerWidth-document.documentElement.offsetWidth,g=(w=>EU(w)&&w)(l||document.documentElement);g&&n.root.value.classList.add("v-overlay--scroll-blocked"),d.forEach((w,A)=>{w.style.setProperty("--v-body-scroll-x",Os(-w.scrollLeft)),w.style.setProperty("--v-body-scroll-y",Os(-w.scrollTop)),w!==document.documentElement&&w.style.setProperty("--v-scrollbar-offset",Os(h)),w.classList.add("v-overlay-scroll-blocked")}),Gu(()=>{d.forEach((w,A)=>{const R=parseFloat(w.style.getPropertyValue("--v-body-scroll-x")),O=parseFloat(w.style.getPropertyValue("--v-body-scroll-y")),N=w.style.scrollBehavior;w.style.scrollBehavior="auto",w.style.removeProperty("--v-body-scroll-x"),w.style.removeProperty("--v-body-scroll-y"),w.style.removeProperty("--v-scrollbar-offset"),w.classList.remove("v-overlay-scroll-blocked"),w.scrollLeft=-R,w.scrollTop=-O,w.style.scrollBehavior=N}),g&&n.root.value.classList.remove("v-overlay--scroll-blocked")})}function Zve(n,r,l){let d=!1,h=-1,g=-1;function y(w){Hve(()=>{var O,N;const A=performance.now();(N=(O=n.updateLocation).value)==null||N.call(O,w),d=(performance.now()-A)/(1e3/60)>2})}g=(typeof requestIdleCallback>"u"?w=>w():requestIdleCallback)(()=>{l.run(()=>{SQ(n.targetEl.value??n.contentEl.value,w=>{d?(cancelAnimationFrame(h),h=requestAnimationFrame(()=>{h=requestAnimationFrame(()=>{y(w)})})):y(w)})})}),Gu(()=>{typeof cancelIdleCallback<"u"&&cancelIdleCallback(g),cancelAnimationFrame(h)})}function SQ(n,r){const l=[document,...eL(n)];l.forEach(d=>{d.addEventListener("scroll",r,{passive:!0})}),Gu(()=>{l.forEach(d=>{d.removeEventListener("scroll",r)})})}const j9=Symbol.for("vuetify:v-menu"),_Q=Kn({closeDelay:[Number,String],openDelay:[Number,String]},"delay");function kQ(n,r){let l=()=>{};function d(y){l==null||l();const w=Number(y?n.openDelay:n.closeDelay);return new Promise(A=>{l=jde(w,()=>{r==null||r(y),A(y)})})}function h(){return d(!0)}function g(){return d(!1)}return{clearDelay:l,runOpenDelay:h,runCloseDelay:g}}const Kve=Kn({target:[String,Object],activator:[String,Object],activatorProps:{type:Object,default:()=>({})},openOnClick:{type:Boolean,default:void 0},openOnHover:Boolean,openOnFocus:{type:Boolean,default:void 0},closeOnContentClick:Boolean,..._Q()},"VOverlay-activator");function qve(n,r){let{isActive:l,isTop:d,contentEl:h}=r;const g=dc("useActivator"),y=go();let w=!1,A=!1,R=!0;const O=Mt(()=>n.openOnFocus||n.openOnFocus==null&&n.openOnHover),N=Mt(()=>n.openOnClick||n.openOnClick==null&&!n.openOnHover&&!O.value),{runOpenDelay:V,runCloseDelay:z}=kQ(n,Fe=>{Fe===(n.openOnHover&&w||O.value&&A)&&!(n.openOnHover&&l.value&&!d.value)&&(l.value!==Fe&&(R=!0),l.value=Fe)}),W=go(),X={onClick:Fe=>{Fe.stopPropagation(),y.value=Fe.currentTarget||Fe.target,l.value||(W.value=[Fe.clientX,Fe.clientY]),l.value=!l.value},onMouseenter:Fe=>{var Ze;(Ze=Fe.sourceCapabilities)!=null&&Ze.firesTouchEvents||(w=!0,y.value=Fe.currentTarget||Fe.target,V())},onMouseleave:Fe=>{w=!1,z()},onFocus:Fe=>{Mk(Fe.target,":focus-visible")!==!1&&(A=!0,Fe.stopPropagation(),y.value=Fe.currentTarget||Fe.target,V())},onBlur:Fe=>{A=!1,Fe.stopPropagation(),z()}},oe=Mt(()=>{const Fe={};return N.value&&(Fe.onClick=X.onClick),n.openOnHover&&(Fe.onMouseenter=X.onMouseenter,Fe.onMouseleave=X.onMouseleave),O.value&&(Fe.onFocus=X.onFocus,Fe.onBlur=X.onBlur),Fe}),j=Mt(()=>{const Fe={};if(n.openOnHover&&(Fe.onMouseenter=()=>{w=!0,V()},Fe.onMouseleave=()=>{w=!1,z()}),O.value&&(Fe.onFocusin=()=>{A=!0,V()},Fe.onFocusout=()=>{A=!1,z()}),n.closeOnContentClick){const Ze=hi(j9,null);Fe.onClick=()=>{l.value=!1,Ze==null||Ze.closeParents()}}return Fe}),fe=Mt(()=>{const Fe={};return n.openOnHover&&(Fe.onMouseenter=()=>{R&&(w=!0,R=!1,V())},Fe.onMouseleave=()=>{w=!1,z()}),Fe});Wn(d,Fe=>{var Ze;Fe&&(n.openOnHover&&!w&&(!O.value||!A)||O.value&&!A&&(!n.openOnHover||!w))&&!((Ze=h.value)!=null&&Ze.contains(document.activeElement))&&(l.value=!1)}),Wn(l,Fe=>{Fe||setTimeout(()=>{W.value=void 0})},{flush:"post"});const le=b9();Ef(()=>{le.value&&gr(()=>{y.value=le.el})});const q=b9(),de=Mt(()=>n.target==="cursor"&&W.value?W.value:q.value?q.el:EQ(n.target,g)||y.value),ne=Mt(()=>Array.isArray(de.value)?void 0:de.value);let be;return Wn(()=>!!n.activator,Fe=>{Fe&&ka?(be=ix(),be.run(()=>{Gve(n,g,{activatorEl:y,activatorEvents:oe})})):be&&be.stop()},{flush:"post",immediate:!0}),Gu(()=>{be==null||be.stop()}),{activatorEl:y,activatorRef:le,target:de,targetEl:ne,targetRef:q,activatorEvents:oe,contentEvents:j,scrimEvents:fe}}function Gve(n,r,l){let{activatorEl:d,activatorEvents:h}=l;Wn(()=>n.activator,(A,R)=>{if(R&&A!==R){const O=w(R);O&&y(O)}A&&gr(()=>g())},{immediate:!0}),Wn(()=>n.activatorProps,()=>{g()}),Gu(()=>{y()});function g(){let A=arguments.length>0&&arguments[0]!==void 0?arguments[0]:w(),R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:n.activatorProps;A&&Yde(A,fs(h.value,R))}function y(){let A=arguments.length>0&&arguments[0]!==void 0?arguments[0]:w(),R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:n.activatorProps;A&&Xde(A,fs(h.value,R))}function w(){let A=arguments.length>0&&arguments[0]!==void 0?arguments[0]:n.activator;const R=EQ(A,r);return d.value=(R==null?void 0:R.nodeType)===Node.ELEMENT_NODE?R:void 0,d.value}}function EQ(n,r){var d,h;if(!n)return;let l;if(n==="parent"){let g=(h=(d=r==null?void 0:r.proxy)==null?void 0:d.$el)==null?void 0:h.parentNode;for(;g!=null&&g.hasAttribute("data-no-activator");)g=g.parentNode;l=g}else typeof n=="string"?l=document.querySelector(n):"$el"in n?l=n.$el:l=n;return l}function Yve(){if(!ka)return Oo(!1);const{ssr:n}=RL();if(n){const r=Oo(!1);return bu(()=>{r.value=!0}),r}else return Oo(!0)}const Xve=Kn({eager:Boolean},"lazy");function Jve(n,r){const l=Oo(!1),d=Rn(()=>l.value||n.eager||r.value);Wn(r,()=>l.value=!0);function h(){n.eager||(l.value=!1)}return{isBooted:l,hasContent:d,onAfterLeave:h}}function KL(){const r=dc("useScopeId").vnode.scopeId;return{scopeId:r?{[r]:""}:void 0}}const yG=Symbol.for("vuetify:stack"),_O=hu([]);function Qve(n,r,l){const d=dc("useStack"),h=!l,g=hi(yG,void 0),y=hu({activeChildren:new Set});Af(yG,y);const w=Oo(Number(t1(r)));Eh(n,()=>{var N;const O=(N=_O.at(-1))==null?void 0:N[1];w.value=O?O+10:Number(t1(r)),h&&_O.push([d.uid,w.value]),g==null||g.activeChildren.add(d.uid),Gu(()=>{if(h){const V=ws(_O).findIndex(z=>z[0]===d.uid);_O.splice(V,1)}g==null||g.activeChildren.delete(d.uid)})});const A=Oo(!0);h&&Ef(()=>{var N;const O=((N=_O.at(-1))==null?void 0:N[0])===d.uid;setTimeout(()=>A.value=O)});const R=Rn(()=>!y.activeChildren.size);return{globalTop:Wk(A),localTop:R,stackStyles:Rn(()=>({zIndex:w.value}))}}function e0e(n){return{teleportTarget:Mt(()=>{const l=n();if(l===!0||!ka)return;const d=l===!1?document.body:typeof l=="string"?document.querySelector(l):l;if(d==null)return;let h=[...d.children].find(g=>g.matches(".v-overlay-container"));return h||(h=document.createElement("div"),h.className="v-overlay-container",d.appendChild(h)),h})}}function t0e(){return!0}function AQ(n,r,l){if(!n||TQ(n,l)===!1)return!1;const d=FX(r);if(typeof ShadowRoot<"u"&&d instanceof ShadowRoot&&d.host===n.target)return!1;const h=(typeof l.value=="object"&&l.value.include||(()=>[]))();return h.push(r),!h.some(g=>g==null?void 0:g.contains(n.target))}function TQ(n,r){return(typeof r.value=="object"&&r.value.closeConditional||t0e)(n)}function n0e(n,r,l){const d=typeof l.value=="function"?l.value:l.value.handler;n.shadowTarget=n.target,r._clickOutside.lastMousedownWasOutside&&AQ(n,r,l)&&setTimeout(()=>{TQ(n,l)&&d&&d(n)},0)}function xG(n,r){const l=FX(n);r(document),typeof ShadowRoot<"u"&&l instanceof ShadowRoot&&r(l)}const wG={mounted(n,r){const l=h=>n0e(h,n,r),d=h=>{n._clickOutside.lastMousedownWasOutside=AQ(h,n,r)};xG(n,h=>{h.addEventListener("click",l,!0),h.addEventListener("mousedown",d,!0)}),n._clickOutside||(n._clickOutside={lastMousedownWasOutside:!1}),n._clickOutside[r.instance.$.uid]={onClick:l,onMousedown:d}},beforeUnmount(n,r){n._clickOutside&&(xG(n,l=>{var g;if(!l||!((g=n._clickOutside)!=null&&g[r.instance.$.uid]))return;const{onClick:d,onMousedown:h}=n._clickOutside[r.instance.$.uid];l.removeEventListener("click",d,!0),l.removeEventListener("mousedown",h,!0)}),delete n._clickOutside[r.instance.$.uid])}};function o0e(n){const{modelValue:r,color:l,...d}=n;return Ne(cx,{name:"fade-transition",appear:!0},{default:()=>[n.modelValue&&De("div",fs({class:["v-overlay__scrim",n.color.backgroundColorClasses.value],style:n.color.backgroundColorStyles.value},d),null)]})}const UU=Kn({absolute:Boolean,attach:[Boolean,String,Object],closeOnBack:{type:Boolean,default:!0},contained:Boolean,contentClass:null,contentProps:null,disabled:Boolean,opacity:[Number,String],noClickAnimation:Boolean,modelValue:Boolean,persistent:Boolean,scrim:{type:[Boolean,String],default:!0},zIndex:{type:[Number,String],default:2e3},...Kve(),...Js(),...Up(),...Xve(),...Mve(),...zve(),...Gl(),...Jk()},"VOverlay"),dL=Xo()({name:"VOverlay",directives:{vClickOutside:wG},inheritAttrs:!1,props:{_disableGlobalStack:Boolean,...UU()},emits:{"click:outside":n=>!0,"update:modelValue":n=>!0,keydown:n=>!0,afterEnter:()=>!0,afterLeave:()=>!0},setup(n,r){let{slots:l,attrs:d,emit:h}=r;const g=dc("VOverlay"),y=go(),w=go(),A=go(),R=Ni(n,"modelValue"),O=Mt({get:()=>R.value,set:Gt=>{Gt&&n.disabled||(R.value=Gt)}}),{themeClasses:N}=Uc(n),{rtlClasses:V,isRtl:z}=Ah(),{hasContent:W,onAfterLeave:X}=Jve(n,O),oe=Fp(()=>typeof n.scrim=="string"?n.scrim:null),{globalTop:j,localTop:fe,stackStyles:le}=Qve(O,()=>n.zIndex,n._disableGlobalStack),{activatorEl:q,activatorRef:de,target:ne,targetEl:be,targetRef:Fe,activatorEvents:Ze,contentEvents:rt,scrimEvents:Oe}=qve(n,{isActive:O,isTop:fe,contentEl:A}),{teleportTarget:Ve}=e0e(()=>{var So,tn,Cn;const Gt=n.attach||n.contained;if(Gt)return Gt;const te=((So=q==null?void 0:q.value)==null?void 0:So.getRootNode())||((Cn=(tn=g.proxy)==null?void 0:tn.$el)==null?void 0:Cn.getRootNode());return te instanceof ShadowRoot?te:!1}),{dimensionStyles:P}=Wp(n),wt=Yve(),{scopeId:Nt}=KL();Wn(()=>n.disabled,Gt=>{Gt&&(O.value=!1)});const{contentStyles:Kt,updateLocation:rn}=Lve(n,{isRtl:z,contentEl:A,target:ne,isActive:O});Uve(n,{root:y,contentEl:A,targetEl:be,isActive:O,updateLocation:rn});function ct(Gt){h("click:outside",Gt),n.persistent?Dn():O.value=!1}function Tn(Gt){return O.value&&j.value&&(!n.scrim||Gt.target===w.value||Gt instanceof MouseEvent&&Gt.shadowTarget===w.value)}ka&&Wn(O,Gt=>{Gt?window.addEventListener("keydown",Tt):window.removeEventListener("keydown",Tt)},{immediate:!0}),zc(()=>{ka&&window.removeEventListener("keydown",Tt)});function Tt(Gt){var te,So,tn;Gt.key==="Escape"&&j.value&&((te=A.value)!=null&&te.contains(document.activeElement)||h("keydown",Gt),n.persistent?Dn():(O.value=!1,(So=A.value)!=null&&So.contains(document.activeElement)&&((tn=q.value)==null||tn.focus())))}function ot(Gt){Gt.key==="Escape"&&!j.value||h("keydown",Gt)}const $e=aQ();Eh(()=>n.closeOnBack,()=>{hve($e,Gt=>{j.value&&O.value?(Gt(!1),n.persistent?Dn():O.value=!1):Gt()})});const ht=go();Wn(()=>O.value&&(n.absolute||n.contained)&&Ve.value==null,Gt=>{if(Gt){const te=$X(y.value);te&&te!==document.scrollingElement&&(ht.value=te.scrollTop)}});function Dn(){n.noClickAnimation||A.value&&Ok(A.value,[{transformOrigin:"center"},{transform:"scale(1.03)"},{transformOrigin:"center"}],{duration:150,easing:QM})}function mn(){h("afterEnter")}function Fn(){X(),h("afterLeave")}return Ls(()=>{var Gt;return De(hs,null,[(Gt=l.activator)==null?void 0:Gt.call(l,{isActive:O.value,targetRef:Fe,props:fs({ref:de},Ze.value,n.activatorProps)}),wt.value&&W.value&&Ne(rue,{disabled:!Ve.value,to:Ve.value},{default:()=>[De("div",fs({class:["v-overlay",{"v-overlay--absolute":n.absolute||n.contained,"v-overlay--active":O.value,"v-overlay--contained":n.contained},N.value,V.value,n.class],style:[le.value,{"--v-overlay-opacity":n.opacity,top:Os(ht.value)},n.style],ref:y,onKeydown:ot},Nt,d),[Ne(o0e,fs({color:oe,modelValue:O.value&&!!n.scrim,ref:w},Oe.value),null),Ne(ox,{appear:!0,persisted:!0,transition:n.transition,target:ne.value,onAfterEnter:mn,onAfterLeave:Fn},{default:()=>{var te;return[ns(De("div",fs({ref:A,class:["v-overlay__content",n.contentClass],style:[P.value,Kt.value]},rt.value,n.contentProps),[(te=l.default)==null?void 0:te.call(l,{isActive:O})]),[[Ms,O.value],[wG,{handler:ct,closeConditional:Tn,include:()=>[q.value]}]])]}})])]})])}),{activatorEl:q,scrimEl:w,target:ne,animateClick:Dn,contentEl:A,globalTop:j,localTop:fe,updateLocation:rn}}}),Gz=Symbol("Forwarded refs");function Yz(n,r){let l=n;for(;l;){const d=Reflect.getOwnPropertyDescriptor(l,r);if(d)return d;l=Object.getPrototypeOf(l)}}function Qk(n){for(var r=arguments.length,l=new Array(r>1?r-1:0),d=1;d<r;d++)l[d-1]=arguments[d];return n[Gz]=l,new Proxy(n,{get(h,g){if(Reflect.has(h,g))return Reflect.get(h,g);if(!(typeof g=="symbol"||g.startsWith("$")||g.startsWith("__"))){for(const y of l)if(y.value&&Reflect.has(y.value,g)){const w=Reflect.get(y.value,g);return typeof w=="function"?w.bind(y.value):w}}},has(h,g){if(Reflect.has(h,g))return!0;if(typeof g=="symbol"||g.startsWith("$")||g.startsWith("__"))return!1;for(const y of l)if(y.value&&Reflect.has(y.value,g))return!0;return!1},set(h,g,y){if(Reflect.has(h,g))return Reflect.set(h,g,y);if(typeof g=="symbol"||g.startsWith("$")||g.startsWith("__"))return!1;for(const w of l)if(w.value&&Reflect.has(w.value,g))return Reflect.set(w.value,g,y);return!1},getOwnPropertyDescriptor(h,g){var w;const y=Reflect.getOwnPropertyDescriptor(h,g);if(y)return y;if(!(typeof g=="symbol"||g.startsWith("$")||g.startsWith("__"))){for(const A of l){if(!A.value)continue;const R=Yz(A.value,g)??("_"in A.value?Yz((w=A.value._)==null?void 0:w.setupState,g):void 0);if(R)return R}for(const A of l){const R=A.value&&A.value[Gz];if(!R)continue;const O=R.slice();for(;O.length;){const N=O.shift(),V=Yz(N.value,g);if(V)return V;const z=N.value&&N.value[Gz];z&&O.push(...z)}}}}})}const s0e=Kn({fullscreen:Boolean,retainFocus:{type:Boolean,default:!0},scrollable:Boolean,...UU({origin:"center center",scrollStrategy:"block",transition:{component:zU},zIndex:2400})},"VDialog"),fx=Xo()({name:"VDialog",props:s0e(),emits:{"update:modelValue":n=>!0,afterEnter:()=>!0,afterLeave:()=>!0},setup(n,r){let{emit:l,slots:d}=r;const h=Ni(n,"modelValue"),{scopeId:g}=KL(),y=go();function w(O){var z,W;const N=O.relatedTarget,V=O.target;if(N!==V&&((z=y.value)!=null&&z.contentEl)&&((W=y.value)!=null&&W.globalTop)&&![document,y.value.contentEl].includes(V)&&!y.value.contentEl.contains(V)){const X=zO(y.value.contentEl);if(!X.length)return;const oe=X[0],j=X[X.length-1];N===oe?j.focus():oe.focus()}}zc(()=>{document.removeEventListener("focusin",w)}),ka&&Wn(()=>h.value&&n.retainFocus,O=>{O?document.addEventListener("focusin",w):document.removeEventListener("focusin",w)},{immediate:!0});function A(){var O;l("afterEnter"),(n.scrim||n.retainFocus)&&((O=y.value)!=null&&O.contentEl)&&!y.value.contentEl.contains(document.activeElement)&&y.value.contentEl.focus({preventScroll:!0})}function R(){l("afterLeave")}return Wn(h,async O=>{var N;O||(await gr(),(N=y.value.activatorEl)==null||N.focus({preventScroll:!0}))}),Ls(()=>{const O=dL.filterProps(n),N=fs({"aria-haspopup":"dialog"},n.activatorProps),V=fs({tabindex:-1},n.contentProps);return Ne(dL,fs({ref:y,class:["v-dialog",{"v-dialog--fullscreen":n.fullscreen,"v-dialog--scrollable":n.scrollable},n.class],style:n.style},O,{modelValue:h.value,"onUpdate:modelValue":z=>h.value=z,"aria-modal":"true",activatorProps:N,contentProps:V,height:n.fullscreen?void 0:n.height,width:n.fullscreen?void 0:n.width,maxHeight:n.fullscreen?void 0:n.maxHeight,maxWidth:n.fullscreen?void 0:n.maxWidth,role:"dialog",onAfterEnter:A,onAfterLeave:R},g),{activator:d.activator,default:function(){for(var z=arguments.length,W=new Array(z),X=0;X<z;X++)W[X]=arguments[X];return Ne(el,{root:"VDialog"},{default:()=>{var oe;return[(oe=d.default)==null?void 0:oe.call(d,...W)]}})}})}),Qk({},y)}}),Z9=Symbol.for("vuetify:list");function OQ(){const n=hi(Z9,{hasPrepend:Oo(!1),updateHasPrepend:()=>null}),r={hasPrepend:Oo(!1),updateHasPrepend:l=>{l&&(r.hasPrepend.value=l)}};return Af(Z9,r),n}function RQ(){return hi(Z9,null)}const WU=n=>{const r={activate:l=>{let{id:d,value:h,activated:g}=l;return d=ws(d),n&&!h&&g.size===1&&g.has(d)||(h?g.add(d):g.delete(d)),g},in:(l,d,h)=>{let g=new Set;if(l!=null)for(const y of bm(l))g=r.activate({id:y,value:!0,activated:new Set(g),children:d,parents:h});return g},out:l=>Array.from(l)};return r},DQ=n=>{const r=WU(n);return{activate:d=>{let{activated:h,id:g,...y}=d;g=ws(g);const w=h.has(g)?new Set([g]):new Set;return r.activate({...y,id:g,activated:w})},in:(d,h,g)=>{let y=new Set;if(d!=null){const w=bm(d);w.length&&(y=r.in(w.slice(0,1),h,g))}return y},out:(d,h,g)=>r.out(d,h,g)}},r0e=n=>{const r=WU(n);return{activate:d=>{let{id:h,activated:g,children:y,...w}=d;return h=ws(h),y.has(h)?g:r.activate({id:h,activated:g,children:y,...w})},in:r.in,out:r.out}},a0e=n=>{const r=DQ(n);return{activate:d=>{let{id:h,activated:g,children:y,...w}=d;return h=ws(h),y.has(h)?g:r.activate({id:h,activated:g,children:y,...w})},in:r.in,out:r.out}},i0e={open:n=>{let{id:r,value:l,opened:d,parents:h}=n;if(l){const g=new Set;g.add(r);let y=h.get(r);for(;y!=null;)g.add(y),y=h.get(y);return g}else return d.delete(r),d},select:()=>null},NQ={open:n=>{let{id:r,value:l,opened:d,parents:h}=n;if(l){let g=h.get(r);for(d.add(r);g!=null&&g!==r;)d.add(g),g=h.get(g);return d}else d.delete(r);return d},select:()=>null},l0e={open:NQ.open,select:n=>{let{id:r,value:l,opened:d,parents:h}=n;if(!l)return d;const g=[];let y=h.get(r);for(;y!=null;)g.push(y),y=h.get(y);return new Set(g)}},jU=n=>{const r={select:l=>{let{id:d,value:h,selected:g}=l;if(d=ws(d),n&&!h){const y=Array.from(g.entries()).reduce((w,A)=>{let[R,O]=A;return O==="on"&&w.push(R),w},[]);if(y.length===1&&y[0]===d)return g}return g.set(d,h?"on":"off"),g},in:(l,d,h)=>{const g=new Map;for(const y of l||[])r.select({id:y,value:!0,selected:g,children:d,parents:h});return g},out:l=>{const d=[];for(const[h,g]of l.entries())g==="on"&&d.push(h);return d}};return r},IQ=n=>{const r=jU(n);return{select:d=>{let{selected:h,id:g,...y}=d;g=ws(g);const w=h.has(g)?new Map([[g,h.get(g)]]):new Map;return r.select({...y,id:g,selected:w})},in:(d,h,g)=>d!=null&&d.length?r.in(d.slice(0,1),h,g):new Map,out:(d,h,g)=>r.out(d,h,g)}},c0e=n=>{const r=jU(n);return{select:d=>{let{id:h,selected:g,children:y,...w}=d;return h=ws(h),y.has(h)?g:r.select({id:h,selected:g,children:y,...w})},in:r.in,out:r.out}},u0e=n=>{const r=IQ(n);return{select:d=>{let{id:h,selected:g,children:y,...w}=d;return h=ws(h),y.has(h)?g:r.select({id:h,selected:g,children:y,...w})},in:r.in,out:r.out}},PQ=n=>{const r={select:l=>{let{id:d,value:h,selected:g,children:y,parents:w}=l;d=ws(d);const A=new Map(g),R=[d];for(;R.length;){const N=R.shift();g.set(ws(N),h?"on":"off"),y.has(N)&&R.push(...y.get(N))}let O=ws(w.get(d));for(;O;){const N=y.get(O),V=N.every(W=>g.get(ws(W))==="on"),z=N.every(W=>!g.has(ws(W))||g.get(ws(W))==="off");g.set(O,V?"on":z?"off":"indeterminate"),O=ws(w.get(O))}return n&&!h&&Array.from(g.entries()).reduce((V,z)=>{let[W,X]=z;return X==="on"&&V.push(W),V},[]).length===0?A:g},in:(l,d,h)=>{let g=new Map;for(const y of l||[])g=r.select({id:y,value:!0,selected:g,children:d,parents:h});return g},out:(l,d)=>{const h=[];for(const[g,y]of l.entries())y==="on"&&!d.has(g)&&h.push(g);return h}};return r},d0e=n=>{const r=PQ(n);return{select:r.select,in:r.in,out:(d,h,g)=>{const y=[];for(const[w,A]of d.entries())if(A==="on"){if(g.has(w)){const R=g.get(w);if(d.get(R)==="on")continue}y.push(w)}return y}}},XO=Symbol.for("vuetify:nested"),BQ={id:Oo(),root:{register:()=>null,unregister:()=>null,parents:go(new Map),children:go(new Map),open:()=>null,openOnSelect:()=>null,activate:()=>null,select:()=>null,activatable:go(!1),selectable:go(!1),opened:go(new Set),activated:go(new Set),selected:go(new Map),selectedValues:go([]),getPath:()=>[]}},f0e=Kn({activatable:Boolean,selectable:Boolean,activeStrategy:[String,Function,Object],selectStrategy:[String,Function,Object],openStrategy:[String,Object],opened:null,activated:null,selected:null,mandatory:Boolean},"nested"),m0e=n=>{let r=!1;const l=go(new Map),d=go(new Map),h=Ni(n,"opened",n.opened,W=>new Set(W),W=>[...W.values()]),g=Mt(()=>{if(typeof n.activeStrategy=="object")return n.activeStrategy;if(typeof n.activeStrategy=="function")return n.activeStrategy(n.mandatory);switch(n.activeStrategy){case"leaf":return r0e(n.mandatory);case"single-leaf":return a0e(n.mandatory);case"independent":return WU(n.mandatory);case"single-independent":default:return DQ(n.mandatory)}}),y=Mt(()=>{if(typeof n.selectStrategy=="object")return n.selectStrategy;if(typeof n.selectStrategy=="function")return n.selectStrategy(n.mandatory);switch(n.selectStrategy){case"single-leaf":return u0e(n.mandatory);case"leaf":return c0e(n.mandatory);case"independent":return jU(n.mandatory);case"single-independent":return IQ(n.mandatory);case"trunk":return d0e(n.mandatory);case"classic":default:return PQ(n.mandatory)}}),w=Mt(()=>{if(typeof n.openStrategy=="object")return n.openStrategy;switch(n.openStrategy){case"list":return l0e;case"single":return i0e;case"multiple":default:return NQ}}),A=Ni(n,"activated",n.activated,W=>g.value.in(W,l.value,d.value),W=>g.value.out(W,l.value,d.value)),R=Ni(n,"selected",n.selected,W=>y.value.in(W,l.value,d.value),W=>y.value.out(W,l.value,d.value));zc(()=>{r=!0});function O(W){const X=[];let oe=W;for(;oe!=null;)X.unshift(oe),oe=d.value.get(oe);return X}const N=dc("nested"),V=new Set,z={id:Oo(),root:{opened:h,activatable:Rn(()=>n.activatable),selectable:Rn(()=>n.selectable),activated:A,selected:R,selectedValues:Mt(()=>{const W=[];for(const[X,oe]of R.value.entries())oe==="on"&&W.push(X);return W}),register:(W,X,oe)=>{if(V.has(W)){O(W).map(String).join(" -> "),O(X).concat(W).map(String).join(" -> ");return}else V.add(W);X&&W!==X&&d.value.set(W,X),oe&&l.value.set(W,[]),X!=null&&l.value.set(X,[...l.value.get(X)||[],W])},unregister:W=>{if(r)return;V.delete(W),l.value.delete(W);const X=d.value.get(W);if(X){const oe=l.value.get(X)??[];l.value.set(X,oe.filter(j=>j!==W))}d.value.delete(W)},open:(W,X,oe)=>{N.emit("click:open",{id:W,value:X,path:O(W),event:oe});const j=w.value.open({id:W,value:X,opened:new Set(h.value),children:l.value,parents:d.value,event:oe});j&&(h.value=j)},openOnSelect:(W,X,oe)=>{const j=w.value.select({id:W,value:X,selected:new Map(R.value),opened:new Set(h.value),children:l.value,parents:d.value,event:oe});j&&(h.value=j)},select:(W,X,oe)=>{N.emit("click:select",{id:W,value:X,path:O(W),event:oe});const j=y.value.select({id:W,value:X,selected:new Map(R.value),children:l.value,parents:d.value,event:oe});j&&(R.value=j),z.root.openOnSelect(W,X,oe)},activate:(W,X,oe)=>{if(!n.activatable)return z.root.select(W,!0,oe);N.emit("click:activate",{id:W,value:X,path:O(W),event:oe});const j=g.value.activate({id:W,value:X,activated:new Set(A.value),children:l.value,parents:d.value,event:oe});if(j.size!==A.value.size)A.value=j;else{for(const fe of j)if(!A.value.has(fe)){A.value=j;return}for(const fe of A.value)if(!j.has(fe)){A.value=j;return}}},children:l,parents:d,getPath:O}};return Af(XO,z),z.root},MQ=(n,r)=>{const l=hi(XO,BQ),d=Symbol("nested item"),h=Mt(()=>t1(n)??d),g={...l,id:h,open:(y,w)=>l.root.open(h.value,y,w),openOnSelect:(y,w)=>l.root.openOnSelect(h.value,y,w),isOpen:Mt(()=>l.root.opened.value.has(h.value)),parent:Mt(()=>l.root.parents.value.get(h.value)),activate:(y,w)=>l.root.activate(h.value,y,w),isActivated:Mt(()=>l.root.activated.value.has(ws(h.value))),select:(y,w)=>l.root.select(h.value,y,w),isSelected:Mt(()=>l.root.selected.value.get(ws(h.value))==="on"),isIndeterminate:Mt(()=>l.root.selected.value.get(ws(h.value))==="indeterminate"),isLeaf:Mt(()=>!l.root.children.value.get(h.value)),isGroupActivator:l.isGroupActivator};return tR(()=>{!l.isGroupActivator&&l.root.register(h.value,l.id.value,r)}),zc(()=>{!l.isGroupActivator&&l.root.unregister(h.value)}),r&&Af(XO,g),g},g0e=()=>{const n=hi(XO,BQ);Af(XO,{...n,isGroupActivator:!0})};function qL(){const n=Oo(!1);return bu(()=>{window.requestAnimationFrame(()=>{n.value=!0})}),{ssrBootStyles:Rn(()=>n.value?void 0:{transition:"none !important"}),isBooted:Wk(n)}}const h0e=Zk({name:"VListGroupActivator",setup(n,r){let{slots:l}=r;return g0e(),()=>{var d;return(d=l.default)==null?void 0:d.call(l)}}}),p0e=Kn({activeColor:String,baseColor:String,color:String,collapseIcon:{type:aa,default:"$collapse"},expandIcon:{type:aa,default:"$expand"},prependIcon:aa,appendIcon:aa,fluid:Boolean,subgroup:Boolean,title:String,value:null,...Js(),...Pi()},"VListGroup"),CG=Xo()({name:"VListGroup",props:p0e(),setup(n,r){let{slots:l}=r;const{isOpen:d,open:h,id:g}=MQ(()=>n.value,!0),y=Mt(()=>`v-list-group--id-${String(g.value)}`),w=RQ(),{isBooted:A}=qL();function R(z){var W;z.stopPropagation(),!["INPUT","TEXTAREA"].includes((W=z.target)==null?void 0:W.tagName)&&h(!d.value,z)}const O=Mt(()=>({onClick:R,class:"v-list-group__header",id:y.value})),N=Mt(()=>d.value?n.collapseIcon:n.expandIcon),V=Mt(()=>({VListItem:{active:d.value,activeColor:n.activeColor,baseColor:n.baseColor,color:n.color,prependIcon:n.prependIcon||n.subgroup&&N.value,appendIcon:n.appendIcon||!n.subgroup&&N.value,title:n.title,value:n.value}}));return Ls(()=>Ne(n.tag,{class:zo(["v-list-group",{"v-list-group--prepend":w==null?void 0:w.hasPrepend.value,"v-list-group--fluid":n.fluid,"v-list-group--subgroup":n.subgroup,"v-list-group--open":d.value},n.class]),style:Rs(n.style)},{default:()=>[l.activator&&Ne(el,{defaults:V.value},{default:()=>[Ne(h0e,null,{default:()=>[l.activator({props:O.value,isOpen:d.value})]})]}),Ne(ox,{transition:{component:xQ},disabled:!A.value},{default:()=>{var z;return[ns(De("div",{class:"v-list-group__items",role:"group","aria-labelledby":y.value},[(z=l.default)==null?void 0:z.call(l)]),[[Ms,d.value]])]}})]})),{isOpen:d}}}),b0e=Kn({opacity:[Number,String],...Js(),...Pi()},"VListItemSubtitle"),v0e=Xo()({name:"VListItemSubtitle",props:b0e(),setup(n,r){let{slots:l}=r;return Ls(()=>Ne(n.tag,{class:zo(["v-list-item-subtitle",n.class]),style:Rs([{"--v-list-item-subtitle-opacity":n.opacity},n.style])},l)),{}}}),LQ=TL("v-list-item-title"),y0e=Kn({active:{type:Boolean,default:void 0},activeClass:String,activeColor:String,appendAvatar:String,appendIcon:aa,baseColor:String,disabled:Boolean,lines:[Boolean,String],link:{type:Boolean,default:void 0},nav:Boolean,prependAvatar:String,prependIcon:aa,ripple:{type:[Boolean,Object],default:!0},slim:Boolean,subtitle:{type:[String,Number,Boolean],default:void 0},title:{type:[String,Number,Boolean],default:void 0},value:null,onClick:ym(),onClickOnce:ym(),...l1(),...Js(),...Th(),...Up(),...u1(),...hg(),...jL(),...Pi(),...Gl(),...f1({variant:"text"})},"VListItem"),wf=Xo()({name:"VListItem",directives:{vRipple:o1},props:y0e(),emits:{click:n=>!0},setup(n,r){let{attrs:l,slots:d,emit:h}=r;const g=WL(n,l),y=Mt(()=>n.value===void 0?g.href.value:n.value),{activate:w,isActivated:A,select:R,isOpen:O,isSelected:N,isIndeterminate:V,isGroupActivator:z,root:W,parent:X,openOnSelect:oe,id:j}=MQ(y,!1),fe=RQ(),le=Mt(()=>{var Dn;return n.active!==!1&&(n.active||((Dn=g.isActive)==null?void 0:Dn.value)||(W.activatable.value?A.value:N.value))}),q=Rn(()=>n.link!==!1&&g.isLink.value),de=Mt(()=>!!fe&&(W.selectable.value||W.activatable.value||n.value!=null)),ne=Mt(()=>!n.disabled&&n.link!==!1&&(n.link||g.isClickable.value||de.value)),be=Rn(()=>n.rounded||n.nav),Fe=Rn(()=>n.color??n.activeColor),Ze=Rn(()=>({color:le.value?Fe.value??n.baseColor:n.baseColor,variant:n.variant}));Wn(()=>{var Dn;return(Dn=g.isActive)==null?void 0:Dn.value},Dn=>{Dn&&rt()}),tR(()=>{var Dn;(Dn=g.isActive)!=null&&Dn.value&&rt()});function rt(){X.value!=null&&W.open(X.value,!0),oe(!0)}const{themeClasses:Oe}=Uc(n),{borderClasses:Ve}=c1(n),{colorClasses:P,colorStyles:wt,variantClasses:Nt}=Xk(Ze),{densityClasses:Kt}=zp(n),{dimensionStyles:rn}=Wp(n),{elevationClasses:ct}=d1(n),{roundedClasses:Tn}=pg(be),Tt=Rn(()=>n.lines?`v-list-item--${n.lines}-line`:void 0),ot=Mt(()=>({isActive:le.value,select:R,isOpen:O.value,isSelected:N.value,isIndeterminate:V.value}));function $e(Dn){var mn,Fn;h("click",Dn),!["INPUT","TEXTAREA"].includes((mn=Dn.target)==null?void 0:mn.tagName)&&ne.value&&((Fn=g.navigate)==null||Fn.call(g,Dn),!z&&(W.activatable.value?w(!A.value,Dn):(W.selectable.value||n.value!=null)&&R(!N.value,Dn)))}function ht(Dn){const mn=Dn.target;["INPUT","TEXTAREA"].includes(mn.tagName)||(Dn.key==="Enter"||Dn.key===" ")&&(Dn.preventDefault(),Dn.target.dispatchEvent(new MouseEvent("click",Dn)))}return Ls(()=>{const Dn=q.value?"a":n.tag,mn=d.title||n.title!=null,Fn=d.subtitle||n.subtitle!=null,Gt=!!(n.appendAvatar||n.appendIcon),te=!!(Gt||d.append),So=!!(n.prependAvatar||n.prependIcon),tn=!!(So||d.prepend);return fe==null||fe.updateHasPrepend(tn),n.activeColor&&rfe("active-color",["color","base-color"]),ns(Ne(Dn,fs({class:["v-list-item",{"v-list-item--active":le.value,"v-list-item--disabled":n.disabled,"v-list-item--link":ne.value,"v-list-item--nav":n.nav,"v-list-item--prepend":!tn&&(fe==null?void 0:fe.hasPrepend.value),"v-list-item--slim":n.slim,[`${n.activeClass}`]:n.activeClass&&le.value},Oe.value,Ve.value,P.value,Kt.value,ct.value,Tt.value,Tn.value,Nt.value,n.class],style:[wt.value,rn.value,n.style],tabindex:ne.value?fe?-2:0:void 0,"aria-selected":de.value?W.activatable.value?A.value:W.selectable.value?N.value:le.value:void 0,onClick:$e,onKeydown:ne.value&&!q.value&&ht},g.linkProps),{default:()=>{var Cn;return[Yk(ne.value||le.value,"v-list-item"),tn&&De("div",{key:"prepend",class:"v-list-item__prepend"},[d.prepend?Ne(el,{key:"prepend-defaults",disabled:!So,defaults:{VAvatar:{density:n.density,image:n.prependAvatar},VIcon:{density:n.density,icon:n.prependIcon},VListItemAction:{start:!0}}},{default:()=>{var qe;return[(qe=d.prepend)==null?void 0:qe.call(d,ot.value)]}}):De(hs,null,[n.prependAvatar&&Ne(ux,{key:"prepend-avatar",density:n.density,image:n.prependAvatar},null),n.prependIcon&&Ne(Yo,{key:"prepend-icon",density:n.density,icon:n.prependIcon},null)]),De("div",{class:"v-list-item__spacer"},null)]),De("div",{class:"v-list-item__content","data-no-activator":""},[mn&&Ne(LQ,{key:"title"},{default:()=>{var qe;return[((qe=d.title)==null?void 0:qe.call(d,{title:n.title}))??jt(n.title)]}}),Fn&&Ne(v0e,{key:"subtitle"},{default:()=>{var qe;return[((qe=d.subtitle)==null?void 0:qe.call(d,{subtitle:n.subtitle}))??jt(n.subtitle)]}}),(Cn=d.default)==null?void 0:Cn.call(d,ot.value)]),te&&De("div",{key:"append",class:"v-list-item__append"},[d.append?Ne(el,{key:"append-defaults",disabled:!Gt,defaults:{VAvatar:{density:n.density,image:n.appendAvatar},VIcon:{density:n.density,icon:n.appendIcon},VListItemAction:{end:!0}}},{default:()=>{var qe;return[(qe=d.append)==null?void 0:qe.call(d,ot.value)]}}):De(hs,null,[n.appendIcon&&Ne(Yo,{key:"append-icon",density:n.density,icon:n.appendIcon},null),n.appendAvatar&&Ne(ux,{key:"append-avatar",density:n.density,image:n.appendAvatar},null)]),De("div",{class:"v-list-item__spacer"},null)])]}}),[[o1,ne.value&&n.ripple]])}),{activate:w,isActivated:A,isGroupActivator:z,isSelected:N,list:fe,select:R,root:W,id:j,link:g}}}),x0e=Kn({color:String,inset:Boolean,sticky:Boolean,title:String,...Js(),...Pi()},"VListSubheader"),w0e=Xo()({name:"VListSubheader",props:x0e(),setup(n,r){let{slots:l}=r;const{textColorClasses:d,textColorStyles:h}=Vp(()=>n.color);return Ls(()=>{const g=!!(l.default||n.title);return Ne(n.tag,{class:zo(["v-list-subheader",{"v-list-subheader--inset":n.inset,"v-list-subheader--sticky":n.sticky},d.value,n.class]),style:Rs([{textColorStyles:h},n.style])},{default:()=>{var y;return[g&&De("div",{class:"v-list-subheader__text"},[((y=l.default)==null?void 0:y.call(l))??n.title])]}})}),{}}}),C0e=Kn({color:String,inset:Boolean,length:[Number,String],opacity:[Number,String],thickness:[Number,String],vertical:Boolean,...Js(),...Gl()},"VDivider"),K9=Xo()({name:"VDivider",props:C0e(),setup(n,r){let{attrs:l,slots:d}=r;const{themeClasses:h}=Uc(n),{textColorClasses:g,textColorStyles:y}=Vp(()=>n.color),w=Mt(()=>{const A={};return n.length&&(A[n.vertical?"height":"width"]=Os(n.length)),n.thickness&&(A[n.vertical?"borderRightWidth":"borderTopWidth"]=Os(n.thickness)),A});return Ls(()=>{const A=De("hr",{class:zo([{"v-divider":!0,"v-divider--inset":n.inset,"v-divider--vertical":n.vertical},h.value,g.value,n.class]),style:Rs([w.value,y.value,{"--v-border-opacity":n.opacity},n.style]),"aria-orientation":!l.role||l.role==="separator"?n.vertical?"vertical":"horizontal":void 0,role:`${l.role||"separator"}`},null);return d.default?De("div",{class:zo(["v-divider__wrapper",{"v-divider__wrapper--vertical":n.vertical,"v-divider__wrapper--inset":n.inset}])},[A,De("div",{class:"v-divider__content"},[d.default()]),A]):A}),{}}}),S0e=Kn({items:Array,returnObject:Boolean},"VListChildren"),FQ=Xo()({name:"VListChildren",props:S0e(),setup(n,r){let{slots:l}=r;return OQ(),()=>{var d,h;return((d=l.default)==null?void 0:d.call(l))??((h=n.items)==null?void 0:h.map(g=>{var V,z;let{children:y,props:w,type:A,raw:R}=g;if(A==="divider")return((V=l.divider)==null?void 0:V.call(l,{props:w}))??Ne(K9,w,null);if(A==="subheader")return((z=l.subheader)==null?void 0:z.call(l,{props:w}))??Ne(w0e,w,null);const O={subtitle:l.subtitle?W=>{var X;return(X=l.subtitle)==null?void 0:X.call(l,{...W,item:R})}:void 0,prepend:l.prepend?W=>{var X;return(X=l.prepend)==null?void 0:X.call(l,{...W,item:R})}:void 0,append:l.append?W=>{var X;return(X=l.append)==null?void 0:X.call(l,{...W,item:R})}:void 0,title:l.title?W=>{var X;return(X=l.title)==null?void 0:X.call(l,{...W,item:R})}:void 0},N=CG.filterProps(w);return y?Ne(CG,fs({value:w==null?void 0:w.value},N),{activator:W=>{let{props:X}=W;const oe={...w,...X,value:n.returnObject?R:w.value};return l.header?l.header({props:oe}):Ne(wf,oe,O)},default:()=>Ne(FQ,{items:y,returnObject:n.returnObject},l)}):l.item?l.item({props:w}):Ne(wf,fs(w,{value:n.returnObject?R:w.value}),O)}))}}}),$Q=Kn({items:{type:Array,default:()=>[]},itemTitle:{type:[String,Array,Function],default:"title"},itemValue:{type:[String,Array,Function],default:"value"},itemChildren:{type:[Boolean,String,Array,Function],default:"children"},itemProps:{type:[Boolean,String,Array,Function],default:"props"},returnObject:Boolean,valueComparator:Function},"list-items");function q9(n,r){const l=Ip(r,n.itemTitle,r),d=Ip(r,n.itemValue,l),h=Ip(r,n.itemChildren),g=n.itemProps===!0?typeof r=="object"&&r!=null&&!Array.isArray(r)?"children"in r?pC(r,["children"]):r:void 0:Ip(r,n.itemProps),y={title:l,value:d,...Kde(g)};return{title:String(y.title??""),value:y.value,props:y,children:Array.isArray(h)?VQ(n,h):void 0,raw:r}}function VQ(n,r){const l=AL(n,["itemTitle","itemValue","itemChildren","itemProps","returnObject","valueComparator"]),d=[];for(const h of r)d.push(q9(l,h));return d}function HQ(n){const r=Mt(()=>VQ(n,n.items)),l=Mt(()=>r.value.some(w=>w.value===null)),d=Oo(new Map),h=Oo([]);Ef(()=>{const w=r.value,A=new Map,R=[];for(let O=0;O<w.length;O++){const N=w[O];if(RX(N.value)||N.value===null){let V=A.get(N.value);V||(V=[],A.set(N.value,V)),V.push(N)}else R.push(N)}d.value=A,h.value=R});function g(w){const A=d.value,R=r.value,O=h.value,N=l.value,V=n.returnObject,z=!!n.valueComparator,W=n.valueComparator||Lp,X=AL(n,["itemTitle","itemValue","itemChildren","itemProps","returnObject","valueComparator"]),oe=[];e:for(const j of w){if(!N&&j===null)continue;if(V&&typeof j=="string"){oe.push(q9(X,j));continue}const fe=A.get(j);if(z||!fe){for(const le of z?R:O)if(W(j,le.value)){oe.push(le);continue e}oe.push(q9(X,j));continue}oe.push(...fe)}return oe}function y(w){return n.returnObject?w.map(A=>{let{raw:R}=A;return R}):w.map(A=>{let{value:R}=A;return R})}return{items:r,transformIn:g,transformOut:y}}function _0e(n,r){const l=Ip(r,n.itemType,"item"),d=RX(r)?r:Ip(r,n.itemTitle),h=Ip(r,n.itemValue,void 0),g=Ip(r,n.itemChildren),y=n.itemProps===!0?pC(r,["children"]):Ip(r,n.itemProps),w={title:d,value:h,...y};return{type:l,title:w.title,value:w.value,props:w,children:l==="item"&&g?zQ(n,g):void 0,raw:r}}function zQ(n,r){const l=[];for(const d of r)l.push(_0e(n,d));return l}function k0e(n){return{items:Mt(()=>zQ(n,n.items))}}const E0e=Kn({baseColor:String,activeColor:String,activeClass:String,bgColor:String,disabled:Boolean,expandIcon:aa,collapseIcon:aa,lines:{type:[Boolean,String],default:"one"},slim:Boolean,nav:Boolean,"onClick:open":ym(),"onClick:select":ym(),"onUpdate:opened":ym(),...f0e({selectStrategy:"single-leaf",openStrategy:"list"}),...l1(),...Js(),...Th(),...Up(),...u1(),itemType:{type:String,default:"type"},...$Q(),...hg(),...Pi(),...Gl(),...f1({variant:"text"})},"VList"),JO=Xo()({name:"VList",props:E0e(),emits:{"update:selected":n=>!0,"update:activated":n=>!0,"update:opened":n=>!0,"click:open":n=>!0,"click:activate":n=>!0,"click:select":n=>!0},setup(n,r){let{slots:l}=r;const{items:d}=k0e(n),{themeClasses:h}=Uc(n),{backgroundColorClasses:g,backgroundColorStyles:y}=Fp(()=>n.bgColor),{borderClasses:w}=c1(n),{densityClasses:A}=zp(n),{dimensionStyles:R}=Wp(n),{elevationClasses:O}=d1(n),{roundedClasses:N}=pg(n),{children:V,open:z,parents:W,select:X,getPath:oe}=m0e(n),j=Rn(()=>n.lines?`v-list--${n.lines}-line`:void 0),fe=Rn(()=>n.activeColor),le=Rn(()=>n.baseColor),q=Rn(()=>n.color);OQ(),hx({VListGroup:{activeColor:fe,baseColor:le,color:q,expandIcon:Rn(()=>n.expandIcon),collapseIcon:Rn(()=>n.collapseIcon)},VListItem:{activeClass:Rn(()=>n.activeClass),activeColor:fe,baseColor:le,color:q,density:Rn(()=>n.density),disabled:Rn(()=>n.disabled),lines:Rn(()=>n.lines),nav:Rn(()=>n.nav),slim:Rn(()=>n.slim),variant:Rn(()=>n.variant)}});const de=Oo(!1),ne=go();function be(P){de.value=!0}function Fe(P){de.value=!1}function Ze(P){var wt;!de.value&&!(P.relatedTarget&&((wt=ne.value)!=null&&wt.contains(P.relatedTarget)))&&Ve()}function rt(P){const wt=P.target;if(!(!ne.value||["INPUT","TEXTAREA"].includes(wt.tagName))){if(P.key==="ArrowDown")Ve("next");else if(P.key==="ArrowUp")Ve("prev");else if(P.key==="Home")Ve("first");else if(P.key==="End")Ve("last");else return;P.preventDefault()}}function Oe(P){de.value=!0}function Ve(P){if(ne.value)return IO(ne.value,P)}return Ls(()=>Ne(n.tag,{ref:ne,class:zo(["v-list",{"v-list--disabled":n.disabled,"v-list--nav":n.nav,"v-list--slim":n.slim},h.value,g.value,w.value,A.value,O.value,j.value,N.value,n.class]),style:Rs([y.value,R.value,n.style]),tabindex:n.disabled?-1:0,role:"listbox","aria-activedescendant":void 0,onFocusin:be,onFocusout:Fe,onFocus:Ze,onKeydown:rt,onMousedown:Oe},{default:()=>[Ne(FQ,{items:d.value,returnObject:n.returnObject},l)]})),{open:z,select:X,focus:Ve,children:V,parents:W,getPath:oe}}}),A0e={__name:"Alerts",setup(n){const r=Bt.alert();return(l,d)=>(Uo(),Ba(hs,null,[ns(Ne(Xs,{onClick:d[0]||(d[0]=h=>tt(r).showAlerts())},{default:pn(()=>[Ne(Yo,{left:"",icon:"mdi-bell-outline"}),ja(" "+jt(l.$t("alertsMessage",tt(r).countAlerts)),1)]),_:1},512),[[Ms,tt(r).hasAlerts]]),Ne(fx,{persistent:"",modelValue:tt(r).hasActiveAlert,"onUpdate:modelValue":d[2]||(d[2]=h=>tt(r).hasActiveAlert=h),"max-width":"1000"},{default:pn(()=>[Ne(dx,null,{default:pn(()=>[Ne(z9,null,{default:pn(()=>[ja(jt(l.$t("alertsSupervisionMessage",1)),1)]),_:1}),Ne(r1,null,{default:pn(()=>[De("p",null,jt(tt(r).activeMessage),1)]),_:1}),Ne(s1,null,{default:pn(()=>[Ne(Xs,{onClick:d[1]||(d[1]=h=>tt(r).hideAlert())},{default:pn(()=>[Ne(Yo,{left:"",icon:"mdi-check"}),De("span",null,jt(l.$t("allOk")),1)]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),Ne(fx,{modelValue:tt(r).showAllAlerts,"onUpdate:modelValue":d[4]||(d[4]=h=>tt(r).showAllAlerts=h),"max-width":"1000"},{default:pn(()=>[Ne(dx,null,{default:pn(()=>[Ne(z9,null,{default:pn(()=>[ja(jt(l.$t("alertsSupervisionMessage",tt(r).countAlerts)),1)]),_:1}),Ne(r1,null,{default:pn(()=>[(Uo(!0),Ba(hs,null,Mp(tt(r).sortedAlerts,h=>(Uo(),Jr(wf,{key:h.key,title:h.formatTime(),subtitle:h.message},null,8,["title","subtitle"]))),128))]),_:1}),Ne(s1,null,{default:pn(()=>[Ne(Xs,{onClick:d[3]||(d[3]=h=>tt(r).hideAlert())},{default:pn(()=>[Ne(Yo,{left:"",icon:"mdi-check"}),De("span",null,jt(l.$t("allOk")),1)]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}},Oh=(n,r)=>{const l=n.__vccOpts||n;for(const[d,h]of r)l[d]=h;return l},T0e=Kn({fixedHeader:Boolean,fixedFooter:Boolean,height:[Number,String],hover:Boolean,...Js(),...Th(),...Pi(),...Gl()},"VTable"),Xz=Xo()({name:"VTable",props:T0e(),setup(n,r){let{slots:l,emit:d}=r;const{themeClasses:h}=Uc(n),{densityClasses:g}=zp(n);return Ls(()=>Ne(n.tag,{class:zo(["v-table",{"v-table--fixed-height":!!n.height,"v-table--fixed-header":n.fixedHeader,"v-table--fixed-footer":n.fixedFooter,"v-table--has-top":!!l.top,"v-table--has-bottom":!!l.bottom,"v-table--hover":n.hover},h.value,g.value,n.class]),style:Rs(n.style)},{default:()=>{var y,w,A;return[(y=l.top)==null?void 0:y.call(l),l.default?De("div",{class:"v-table__wrapper",style:{height:Os(n.height)}},[De("table",null,[l.default()])]):(w=l.wrapper)==null?void 0:w.call(l),(A=l.bottom)==null?void 0:A.call(l)]}})),{}}}),O0e={width:"50%"},R0e={width:"50%"},D0e={width:"50%"},N0e={width:"50%"},I0e={width:"50%"},P0e={width:"50%"},B0e={__name:"Help",setup(n){const r=Bt.layout();return(l,d)=>(Uo(),Ba(hs,null,[Ne(Xs,{class:"app-header-item",onClick:d[0]||(d[0]=h=>tt(r).showHelp=!0)},{default:pn(()=>[Ne(Yo,{left:"",icon:"mdi-keyboard-outline"}),ja(" "+jt(l.$t("helpButton")),1)]),_:1}),Ne(fx,{modelValue:tt(r).showHelp,"onUpdate:modelValue":d[2]||(d[2]=h=>tt(r).showHelp=h),"max-width":"1000"},{default:pn(()=>[Ne(dx,null,{default:pn(()=>[Ne(r1,null,{default:pn(()=>[De("h1",null,jt(l.$t("helpGeneralNavigation")),1),Ne(Xz,null,{default:pn(()=>[De("thead",null,[De("tr",null,[De("th",O0e,jt(l.$t("helpAction")),1),De("th",R0e,jt(l.$t("helpShortcut")),1)])]),De("tbody",null,[De("tr",null,[De("td",null,jt(l.$t("helpNextElement")),1),De("td",null,jt(l.$t("helpKeyTab")),1)]),De("tr",null,[De("td",null,jt(l.$t("helpPreviousElement")),1),De("td",null,jt(l.$t("helpKeyShiftTab")),1)]),De("tr",null,[De("td",null,jt(l.$t("helpHeaderButtons")),1),De("td",null,jt(l.$t("helpKeyAlt0")),1)]),De("tr",null,[De("td",null,jt(l.$t("helpNavigationButtons")),1),De("td",null,jt(l.$t("helpKeyAltNum")),1)]),De("tr",null,[De("td",null,jt(l.$t("helpContentLeftColumn")),1),De("td",null,jt(l.$t("helpKeyAlt1")),1)]),De("tr",null,[De("td",null,jt(l.$t("helpContentRightColumn")),1),De("td",null,jt(l.$t("helpKeyAlt2")),1)])])]),_:1}),De("h1",null,jt(l.$t("helpEditorNavigation")),1),Ne(Xz,null,{default:pn(()=>[De("thead",null,[De("tr",null,[De("th",D0e,jt(l.$t("helpAction")),1),De("th",N0e,jt(l.$t("helpShortcut")),1)])]),De("tbody",null,[De("tr",null,[De("td",null,jt(l.$t("helpToolbarFocusIn")),1),De("td",null,jt(l.$t("helpKeyAltF10")),1)]),De("tr",null,[De("td",null,jt(l.$t("helpToolbarFocusOut")),1),De("td",null,jt(l.$t("helpKeyEsc")),1)]),De("tr",null,[De("td",null,jt(l.$t("helpToolbarNavigate")),1),De("td",null,jt(l.$t("helpKeysLeftRight")),1)]),De("tr",null,[De("td",null,jt(l.$t("helpPopupBlockFormatsShow")),1),De("td",null,jt(l.$t("helpKeyReturn")),1)]),De("tr",null,[De("td",null,jt(l.$t("helpPopupBlockFormatsNavigate")),1),De("td",null,jt(l.$t("helpKeysUpDown")),1)]),De("tr",null,[De("td",null,jt(l.$t("helpPopupBlockFormatsSelect")),1),De("td",null,jt(l.$t("helpKeyReturn")),1)]),De("tr",null,[De("td",null,jt(l.$t("helpPopupBlockFormatsClose")),1),De("td",null,jt(l.$t("helpKeyEsc")),1)])])]),_:1}),De("h1",null,jt(l.$t("helpEditorCommands")),1),Ne(Xz,null,{default:pn(()=>[De("thead",null,[De("tr",null,[De("th",I0e,jt(l.$t("helpAction")),1),De("th",P0e,jt(l.$t("helpShortcut")),1)])]),De("tbody",null,[De("tr",null,[De("td",null,jt(l.$t("helpCommandBold")),1),De("td",null,jt(l.$t("Ctrl + B")),1)]),De("tr",null,[De("td",null,jt(l.$t("helpCommandItalic")),1),De("td",null,jt(l.$t("helpKeyCtrlI")),1)]),De("tr",null,[De("td",null,jt(l.$t("helpCommundUnderline")),1),De("td",null,jt(l.$t("Ctrl + U")),1)]),De("tr",null,[De("td",null,jt(l.$t("helpCommandSelectAll")),1),De("td",null,jt(l.$t("Ctrl + A")),1)]),De("tr",null,[De("td",null,jt(l.$t("helpCommandRedo")),1),De("td",null,jt(l.$t("helpKeyCtrlYOrCtrlShiftZ")),1)]),De("tr",null,[De("td",null,jt(l.$t("Rckgngig machen")),1),De("td",null,jt(l.$t("Ctrl + Z")),1)]),De("tr",null,[De("td",null,jt(l.$t("helpCommandH1")),1),De("td",null,jt(l.$t("helpKeyShiftAlt1")),1)]),De("tr",null,[De("td",null,jt(l.$t("helpCommandH2")),1),De("td",null,jt(l.$t("helpKeyShiftAlt2")),1)]),De("tr",null,[De("td",null,jt(l.$t("helpCommandH3")),1),De("td",null,jt(l.$t("helpKeyShiftAlt3")),1)]),De("tr",null,[De("td",null,jt(l.$t("helpCommandH4")),1),De("td",null,jt(l.$t("helpKeyShiftAlt4")),1)]),De("tr",null,[De("td",null,jt(l.$t("helpCommandH5")),1),De("td",null,jt(l.$t("helpKeyShiftAlt5")),1)]),De("tr",null,[De("td",null,jt(l.$t("helpCommandH6")),1),De("td",null,jt(l.$t("helpKeyShiftAlt6")),1)]),De("tr",null,[De("td",null,jt(l.$t("helpCommandParagraph")),1),De("td",null,jt(l.$t("helpKeyShiftAlt7")),1)])])]),_:1})]),_:1}),Ne(s1,null,{default:pn(()=>[Ne(Xs,{onClick:d[1]||(d[1]=h=>tt(r).showHelp=!1)},{default:pn(()=>[De("span",null,jt(l.$t("helpCloseHelp")),1)]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}},M0e=Oh(B0e,[["__scopeId","data-v-75c30dc8"]]),L0e=Kn({text:String,onClick:ym(),...Js(),...Gl()},"VLabel"),UQ=Xo()({name:"VLabel",props:L0e(),setup(n,r){let{slots:l}=r;return Ls(()=>{var d;return De("label",{class:zo(["v-label",{"v-label--clickable":!!n.onClick},n.class]),style:Rs(n.style),onClick:n.onClick},[n.text,(d=l.default)==null?void 0:d.call(l)])}),{}}}),WQ=Symbol.for("vuetify:selection-control-group"),jQ=Kn({color:String,disabled:{type:Boolean,default:null},defaultsTarget:String,error:Boolean,id:String,inline:Boolean,falseIcon:aa,trueIcon:aa,ripple:{type:[Boolean,Object],default:!0},multiple:{type:Boolean,default:null},name:String,readonly:{type:Boolean,default:null},modelValue:null,type:String,valueComparator:{type:Function,default:Lp},...Js(),...Th(),...Gl()},"SelectionControlGroup"),F0e=Kn({...jQ({defaultsTarget:"VSelectionControl"})},"VSelectionControlGroup");Xo()({name:"VSelectionControlGroup",props:F0e(),emits:{"update:modelValue":n=>!0},setup(n,r){let{slots:l}=r;const d=Ni(n,"modelValue"),h=gx(),g=Rn(()=>n.id||`v-selection-control-group-${h}`),y=Rn(()=>n.name||g.value),w=new Set;return Af(WQ,{modelValue:d,forceUpdate:()=>{w.forEach(A=>A())},onForceUpdate:A=>{w.add(A),Gu(()=>{w.delete(A)})}}),hx({[n.defaultsTarget]:{color:Rn(()=>n.color),disabled:Rn(()=>n.disabled),density:Rn(()=>n.density),error:Rn(()=>n.error),inline:Rn(()=>n.inline),modelValue:d,multiple:Rn(()=>!!n.multiple||n.multiple==null&&Array.isArray(d.value)),name:y,falseIcon:Rn(()=>n.falseIcon),trueIcon:Rn(()=>n.trueIcon),readonly:Rn(()=>n.readonly),ripple:Rn(()=>n.ripple),type:Rn(()=>n.type),valueComparator:Rn(()=>n.valueComparator)}}),Ls(()=>{var A;return De("div",{class:zo(["v-selection-control-group",{"v-selection-control-group--inline":n.inline},n.class]),style:Rs(n.style),role:n.type==="radio"?"radiogroup":void 0},[(A=l.default)==null?void 0:A.call(l)])}),{}}});const ZQ=Kn({label:String,baseColor:String,trueValue:null,falseValue:null,value:null,...Js(),...jQ()},"VSelectionControl");function $0e(n){const r=hi(WQ,void 0),{densityClasses:l}=zp(n),d=Ni(n,"modelValue"),h=Mt(()=>n.trueValue!==void 0?n.trueValue:n.value!==void 0?n.value:!0),g=Mt(()=>n.falseValue!==void 0?n.falseValue:!1),y=Mt(()=>!!n.multiple||n.multiple==null&&Array.isArray(d.value)),w=Mt({get(){const z=r?r.modelValue.value:d.value;return y.value?bm(z).some(W=>n.valueComparator(W,h.value)):n.valueComparator(z,h.value)},set(z){if(n.readonly)return;const W=z?h.value:g.value;let X=W;y.value&&(X=z?[...bm(d.value),W]:bm(d.value).filter(oe=>!n.valueComparator(oe,h.value))),r?r.modelValue.value=X:d.value=X}}),{textColorClasses:A,textColorStyles:R}=Vp(()=>{if(!(n.error||n.disabled))return w.value?n.color:n.baseColor}),{backgroundColorClasses:O,backgroundColorStyles:N}=Fp(()=>w.value&&!n.error&&!n.disabled?n.color:n.baseColor),V=Mt(()=>w.value?n.trueIcon:n.falseIcon);return{group:r,densityClasses:l,trueValue:h,falseValue:g,model:w,textColorClasses:A,textColorStyles:R,backgroundColorClasses:O,backgroundColorStyles:N,icon:V}}const SG=Xo()({name:"VSelectionControl",directives:{vRipple:o1},inheritAttrs:!1,props:ZQ(),emits:{"update:modelValue":n=>!0},setup(n,r){let{attrs:l,slots:d}=r;const{group:h,densityClasses:g,icon:y,model:w,textColorClasses:A,textColorStyles:R,backgroundColorClasses:O,backgroundColorStyles:N,trueValue:V}=$0e(n),z=gx(),W=Oo(!1),X=Oo(!1),oe=go(),j=Rn(()=>n.id||`input-${z}`),fe=Rn(()=>!n.disabled&&!n.readonly);h==null||h.onForceUpdate(()=>{oe.value&&(oe.value.checked=w.value)});function le(be){fe.value&&(W.value=!0,Mk(be.target,":focus-visible")!==!1&&(X.value=!0))}function q(){W.value=!1,X.value=!1}function de(be){be.stopPropagation()}function ne(be){if(!fe.value){oe.value&&(oe.value.checked=w.value);return}n.readonly&&h&&gr(()=>h.forceUpdate()),w.value=be.target.checked}return Ls(()=>{var Oe,Ve;const be=d.label?d.label({label:n.label,props:{for:j.value}}):n.label,[Fe,Ze]=yU(l),rt=De("input",fs({ref:oe,checked:w.value,disabled:!!n.disabled,id:j.value,onBlur:q,onFocus:le,onInput:ne,"aria-disabled":!!n.disabled,"aria-label":n.label,type:n.type,value:V.value,name:n.name,"aria-checked":n.type==="checkbox"?w.value:void 0},Ze),null);return De("div",fs({class:["v-selection-control",{"v-selection-control--dirty":w.value,"v-selection-control--disabled":n.disabled,"v-selection-control--error":n.error,"v-selection-control--focused":W.value,"v-selection-control--focus-visible":X.value,"v-selection-control--inline":n.inline},g.value,n.class]},Fe,{style:n.style}),[De("div",{class:zo(["v-selection-control__wrapper",A.value]),style:Rs(R.value)},[(Oe=d.default)==null?void 0:Oe.call(d,{backgroundColorClasses:O,backgroundColorStyles:N}),ns(De("div",{class:zo(["v-selection-control__input"])},[((Ve=d.input)==null?void 0:Ve.call(d,{model:w,textColorClasses:A,textColorStyles:R,backgroundColorClasses:O,backgroundColorStyles:N,inputNode:rt,icon:y.value,props:{onFocus:le,onBlur:q,id:j.value}}))??De(hs,null,[y.value&&Ne(Yo,{key:"icon",icon:y.value},null),rt])]),[[o1,n.ripple&&[!n.disabled&&!n.readonly,null,["center","circle"]]]])]),be&&Ne(UQ,{for:j.value,onClick:de},{default:()=>[be]})])}),{isFocused:W,input:oe}}}),V0e=Kn({indeterminate:Boolean,indeterminateIcon:{type:aa,default:"$checkboxIndeterminate"},...ZQ({falseIcon:"$checkboxOff",trueIcon:"$checkboxOn"})},"VCheckboxBtn"),KQ=Xo()({name:"VCheckboxBtn",props:V0e(),emits:{"update:modelValue":n=>!0,"update:indeterminate":n=>!0},setup(n,r){let{slots:l}=r;const d=Ni(n,"indeterminate"),h=Ni(n,"modelValue");function g(A){d.value&&(d.value=!1)}const y=Rn(()=>d.value?n.indeterminateIcon:n.falseIcon),w=Rn(()=>d.value?n.indeterminateIcon:n.trueIcon);return Ls(()=>{const A=pC(SG.filterProps(n),["modelValue"]);return Ne(SG,fs(A,{modelValue:h.value,"onUpdate:modelValue":[R=>h.value=R,g],class:["v-checkbox-btn",n.class],style:n.style,type:"checkbox",falseIcon:y.value,trueIcon:w.value,"aria-checked":d.value?"mixed":void 0}),l)}),{}}});function qQ(n){const{t:r}=sR();function l(d){let{name:h,color:g,...y}=d;const w={prepend:"prependAction",prependInner:"prependAction",append:"appendAction",appendInner:"appendAction",clear:"clear"}[h],A=n[`onClick:${h}`];function R(N){N.key!=="Enter"&&N.key!==" "||(N.preventDefault(),N.stopPropagation(),wU(A,new PointerEvent("click",N)))}const O=A&&w?r(`$vuetify.input.${w}`,n.label??""):void 0;return Ne(Yo,fs({icon:n[`${h}Icon`],"aria-label":O,onClick:A,onKeydown:R,color:g},y),null)}return{InputIcon:l}}const H0e=Kn({active:Boolean,color:String,messages:{type:[Array,String],default:()=>[]},...Js(),...Jk({transition:{component:yQ,leaveAbsolute:!0,group:!0}})},"VMessages"),z0e=Xo()({name:"VMessages",props:H0e(),setup(n,r){let{slots:l}=r;const d=Mt(()=>bm(n.messages)),{textColorClasses:h,textColorStyles:g}=Vp(()=>n.color);return Ls(()=>Ne(ox,{transition:n.transition,tag:"div",class:zo(["v-messages",h.value,n.class]),style:Rs([g.value,n.style])},{default:()=>[n.active&&d.value.map((y,w)=>De("div",{class:"v-messages__message",key:`${w}-${d.value}`},[l.message?l.message({message:y}):y]))]})),{}}}),GQ=Kn({focused:Boolean,"onUpdate:focused":ym()},"focus");function ZU(n){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:iv();const l=Ni(n,"focused"),d=Rn(()=>({[`${r}--focused`]:l.value}));function h(){l.value=!0}function g(){l.value=!1}return{focusClasses:d,isFocused:l,focus:h,blur:g}}const U0e=Symbol.for("vuetify:form");function KU(n){const r=hi(U0e,null);return{...r,isReadonly:Mt(()=>!!((n==null?void 0:n.readonly)??(r==null?void 0:r.isReadonly.value))),isDisabled:Mt(()=>!!((n==null?void 0:n.disabled)??(r==null?void 0:r.isDisabled.value)))}}const W0e=Symbol.for("vuetify:rules");function j0e(n){const r=hi(W0e,null);return r?r(n):Rn(n)}const Z0e=Kn({disabled:{type:Boolean,default:null},error:Boolean,errorMessages:{type:[Array,String],default:()=>[]},maxErrors:{type:[Number,String],default:1},name:String,label:String,readonly:{type:Boolean,default:null},rules:{type:Array,default:()=>[]},modelValue:null,validateOn:String,validationValue:null,...GQ()},"validation");function K0e(n){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:iv(),l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:gx();const d=Ni(n,"modelValue"),h=Mt(()=>n.validationValue===void 0?d.value:n.validationValue),g=KU(n),y=j0e(()=>n.rules),w=go([]),A=Oo(!0),R=Mt(()=>!!(bm(d.value===""?null:d.value).length||bm(h.value===""?null:h.value).length)),O=Mt(()=>{var q;return(q=n.errorMessages)!=null&&q.length?bm(n.errorMessages).concat(w.value).slice(0,Math.max(0,Number(n.maxErrors))):w.value}),N=Mt(()=>{var ne;let q=(n.validateOn??((ne=g.validateOn)==null?void 0:ne.value))||"input";q==="lazy"&&(q="input lazy"),q==="eager"&&(q="input eager");const de=new Set((q==null?void 0:q.split(" "))??[]);return{input:de.has("input"),blur:de.has("blur")||de.has("input")||de.has("invalid-input"),invalidInput:de.has("invalid-input"),lazy:de.has("lazy"),eager:de.has("eager")}}),V=Mt(()=>{var q;return n.error||(q=n.errorMessages)!=null&&q.length?!1:n.rules.length?A.value?w.value.length||N.value.lazy?null:!0:!w.value.length:!0}),z=Oo(!1),W=Mt(()=>({[`${r}--error`]:V.value===!1,[`${r}--dirty`]:R.value,[`${r}--disabled`]:g.isDisabled.value,[`${r}--readonly`]:g.isReadonly.value})),X=dc("validation"),oe=Mt(()=>n.name??tt(l));tR(()=>{var q;(q=g.register)==null||q.call(g,{id:oe.value,vm:X,validate:le,reset:j,resetValidation:fe})}),zc(()=>{var q;(q=g.unregister)==null||q.call(g,oe.value)}),bu(async()=>{var q;N.value.lazy||await le(!N.value.eager),(q=g.update)==null||q.call(g,oe.value,V.value,O.value)}),Eh(()=>N.value.input||N.value.invalidInput&&V.value===!1,()=>{Wn(h,()=>{if(h.value!=null)le();else if(n.focused){const q=Wn(()=>n.focused,de=>{de||le(),q()})}})}),Eh(()=>N.value.blur,()=>{Wn(()=>n.focused,q=>{q||le()})}),Wn([V,O],()=>{var q;(q=g.update)==null||q.call(g,oe.value,V.value,O.value)});async function j(){d.value=null,await gr(),await fe()}async function fe(){A.value=!0,N.value.lazy?w.value=[]:await le(!N.value.eager)}async function le(){let q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;const de=[];z.value=!0;for(const ne of y.value){if(de.length>=Number(n.maxErrors??1))break;const Fe=await(typeof ne=="function"?ne:()=>ne)(h.value);if(Fe!==!0){if(Fe!==!1&&typeof Fe!="string"){console.warn(`${Fe} is not a valid value. Rule functions must return boolean true or a string.`);continue}de.push(Fe||"")}}return w.value=de,z.value=!1,A.value=q,w.value}return{errorMessages:O,isDirty:R,isDisabled:g.isDisabled,isReadonly:g.isReadonly,isPristine:A,isValid:V,isValidating:z,reset:j,resetValidation:fe,validate:le,validationClasses:W}}const qU=Kn({id:String,appendIcon:aa,baseColor:String,centerAffix:{type:Boolean,default:!0},color:String,glow:Boolean,iconColor:[Boolean,String],prependIcon:aa,hideDetails:[Boolean,String],hideSpinButtons:Boolean,hint:String,persistentHint:Boolean,messages:{type:[Array,String],default:()=>[]},direction:{type:String,default:"horizontal",validator:n=>["horizontal","vertical"].includes(n)},"onClick:prepend":ym(),"onClick:append":ym(),...Js(),...Th(),...AL(Up(),["maxWidth","minWidth","width"]),...Gl(),...Z0e()},"VInput"),fL=Xo()({name:"VInput",props:{...qU()},emits:{"update:modelValue":n=>!0},setup(n,r){let{attrs:l,slots:d,emit:h}=r;const{densityClasses:g}=zp(n),{dimensionStyles:y}=Wp(n),{themeClasses:w}=Uc(n),{rtlClasses:A}=Ah(),{InputIcon:R}=qQ(n),O=gx(),N=Mt(()=>n.id||`input-${O}`),V=Mt(()=>`${N.value}-messages`),{errorMessages:z,isDirty:W,isDisabled:X,isReadonly:oe,isPristine:j,isValid:fe,isValidating:le,reset:q,resetValidation:de,validate:ne,validationClasses:be}=K0e(n,"v-input",N),Fe=Mt(()=>({id:N,messagesId:V,isDirty:W,isDisabled:X,isReadonly:oe,isPristine:j,isValid:fe,isValidating:le,reset:q,resetValidation:de,validate:ne})),Ze=Rn(()=>n.error||n.disabled?void 0:n.focused?n.color:n.baseColor),rt=Rn(()=>{if(n.iconColor)return n.iconColor===!0?Ze.value:n.iconColor}),Oe=Mt(()=>{var Ve;return(Ve=n.errorMessages)!=null&&Ve.length||!j.value&&z.value.length?z.value:n.hint&&(n.persistentHint||n.focused)?n.hint:n.messages});return Ls(()=>{var Kt,rn,ct,Tn;const Ve=!!(d.prepend||n.prependIcon),P=!!(d.append||n.appendIcon),wt=Oe.value.length>0,Nt=!n.hideDetails||n.hideDetails==="auto"&&(wt||!!d.details);return De("div",{class:zo(["v-input",`v-input--${n.direction}`,{"v-input--center-affix":n.centerAffix,"v-input--focused":n.focused,"v-input--glow":n.glow,"v-input--hide-spin-buttons":n.hideSpinButtons},g.value,w.value,A.value,be.value,n.class]),style:Rs([y.value,n.style])},[Ve&&De("div",{key:"prepend",class:"v-input__prepend"},[(Kt=d.prepend)==null?void 0:Kt.call(d,Fe.value),n.prependIcon&&Ne(R,{key:"prepend-icon",name:"prepend",color:rt.value},null)]),d.default&&De("div",{class:"v-input__control"},[(rn=d.default)==null?void 0:rn.call(d,Fe.value)]),P&&De("div",{key:"append",class:"v-input__append"},[n.appendIcon&&Ne(R,{key:"append-icon",name:"append",color:rt.value},null),(ct=d.append)==null?void 0:ct.call(d,Fe.value)]),Nt&&De("div",{id:V.value,class:"v-input__details",role:"alert","aria-live":"polite"},[Ne(z0e,{active:wt,messages:Oe.value},{message:d.message}),(Tn=d.details)==null?void 0:Tn.call(d,Fe.value)])])}),{reset:q,resetValidation:de,validate:ne,isValid:fe,errorMessages:z}}});function q0e(n){let{selectedElement:r,containerElement:l,isRtl:d,isHorizontal:h}=n;const g=QO(h,l),y=YQ(h,d,l),w=QO(h,r),A=XQ(h,r),R=w*.4;return y>A?A-R:y+g<A+w?A-g+w+R:y}function G0e(n){let{selectedElement:r,containerElement:l,isHorizontal:d}=n;const h=QO(d,l),g=XQ(d,r),y=QO(d,r);return g-h/2+y/2}function _G(n,r){const l=n?"scrollWidth":"scrollHeight";return(r==null?void 0:r[l])||0}function Y0e(n,r){const l=n?"clientWidth":"clientHeight";return(r==null?void 0:r[l])||0}function YQ(n,r,l){if(!l)return 0;const{scrollLeft:d,offsetWidth:h,scrollWidth:g}=l;return n?r?g-h+d:d:l.scrollTop}function QO(n,r){const l=n?"offsetWidth":"offsetHeight";return(r==null?void 0:r[l])||0}function XQ(n,r){const l=n?"offsetLeft":"offsetTop";return(r==null?void 0:r[l])||0}const X0e=Symbol.for("vuetify:v-slide-group"),JQ=Kn({centerActive:Boolean,direction:{type:String,default:"horizontal"},symbol:{type:null,default:X0e},nextIcon:{type:aa,default:"$next"},prevIcon:{type:aa,default:"$prev"},showArrows:{type:[Boolean,String],validator:n=>typeof n=="boolean"||["always","desktop","mobile"].includes(n)},...Js(),...ZX({mobile:null}),...Pi(),...MU({selectedClass:"v-slide-group-item--active"})},"VSlideGroup"),kG=Xo()({name:"VSlideGroup",props:JQ(),emits:{"update:modelValue":n=>!0},setup(n,r){let{slots:l}=r;const{isRtl:d}=Ah(),{displayClasses:h,mobile:g}=RL(n),y=LU(n,n.symbol),w=Oo(!1),A=Oo(0),R=Oo(0),O=Oo(0),N=Mt(()=>n.direction==="horizontal"),{resizeRef:V,contentRect:z}=Fk(),{resizeRef:W,contentRect:X}=Fk(),oe=Cme(),j=Mt(()=>({container:V.el,duration:200,easing:"easeOutQuart"})),fe=Mt(()=>y.selected.value.length?y.items.value.findIndex(ot=>ot.id===y.selected.value[0]):-1),le=Mt(()=>y.selected.value.length?y.items.value.findIndex(ot=>ot.id===y.selected.value[y.selected.value.length-1]):-1);if(ka){let ot=-1;Wn(()=>[y.selected.value,z.value,X.value,N.value],()=>{cancelAnimationFrame(ot),ot=requestAnimationFrame(()=>{if(z.value&&X.value){const $e=N.value?"width":"height";R.value=z.value[$e],O.value=X.value[$e],w.value=R.value+1<O.value}if(fe.value>=0&&W.el){const $e=W.el.children[le.value];de($e,n.centerActive)}})})}const q=Oo(!1);function de(ot,$e){let ht=0;$e?ht=G0e({containerElement:V.el,isHorizontal:N.value,selectedElement:ot}):ht=q0e({containerElement:V.el,isHorizontal:N.value,isRtl:d.value,selectedElement:ot}),ne(ht)}function ne(ot){if(!ka||!V.el)return;const $e=QO(N.value,V.el),ht=YQ(N.value,d.value,V.el);if(!(_G(N.value,V.el)<=$e||Math.abs(ot-ht)<16)){if(N.value&&d.value&&V.el){const{scrollWidth:mn,offsetWidth:Fn}=V.el;ot=mn-Fn-ot}N.value?oe.horizontal(ot,j.value):oe(ot,j.value)}}function be(ot){const{scrollTop:$e,scrollLeft:ht}=ot.target;A.value=N.value?ht:$e}function Fe(ot){if(q.value=!0,!(!w.value||!W.el)){for(const $e of ot.composedPath())for(const ht of W.el.children)if(ht===$e){de(ht);return}}}function Ze(ot){q.value=!1}let rt=!1;function Oe(ot){var $e;!rt&&!q.value&&!(ot.relatedTarget&&(($e=W.el)!=null&&$e.contains(ot.relatedTarget)))&&Nt(),rt=!1}function Ve(){rt=!0}function P(ot){if(!W.el)return;function $e(ht){ot.preventDefault(),Nt(ht)}N.value?ot.key==="ArrowRight"?$e(d.value?"prev":"next"):ot.key==="ArrowLeft"&&$e(d.value?"next":"prev"):ot.key==="ArrowDown"?$e("next"):ot.key==="ArrowUp"&&$e("prev"),ot.key==="Home"?$e("first"):ot.key==="End"&&$e("last")}function wt(ot,$e){if(!ot)return;let ht=ot;do ht=ht==null?void 0:ht[$e==="next"?"nextElementSibling":"previousElementSibling"];while(ht!=null&&ht.hasAttribute("disabled"));return ht}function Nt(ot){if(!W.el)return;let $e;if(!ot)$e=zO(W.el)[0];else if(ot==="next"){if($e=wt(W.el.querySelector(":focus"),ot),!$e)return Nt("first")}else if(ot==="prev"){if($e=wt(W.el.querySelector(":focus"),ot),!$e)return Nt("last")}else ot==="first"?($e=W.el.firstElementChild,$e!=null&&$e.hasAttribute("disabled")&&($e=wt($e,"next"))):ot==="last"&&($e=W.el.lastElementChild,$e!=null&&$e.hasAttribute("disabled")&&($e=wt($e,"prev")));$e&&$e.focus({preventScroll:!0})}function Kt(ot){const $e=N.value&&d.value?-1:1,ht=(ot==="prev"?-$e:$e)*R.value;let Dn=A.value+ht;if(N.value&&d.value&&V.el){const{scrollWidth:mn,offsetWidth:Fn}=V.el;Dn+=mn-Fn}ne(Dn)}const rn=Mt(()=>({next:y.next,prev:y.prev,select:y.select,isSelected:y.isSelected})),ct=Mt(()=>{switch(n.showArrows){case"always":return!0;case"desktop":return!g.value;case!0:return w.value||Math.abs(A.value)>0;case"mobile":return g.value||w.value||Math.abs(A.value)>0;default:return!g.value&&(w.value||Math.abs(A.value)>0)}}),Tn=Mt(()=>Math.abs(A.value)>1),Tt=Mt(()=>{if(!V.value)return!1;const ot=_G(N.value,V.el),$e=Y0e(N.value,V.el);return ot-$e-Math.abs(A.value)>1});return Ls(()=>Ne(n.tag,{class:zo(["v-slide-group",{"v-slide-group--vertical":!N.value,"v-slide-group--has-affixes":ct.value,"v-slide-group--is-overflowing":w.value},h.value,n.class]),style:Rs(n.style),tabindex:q.value||y.selected.value.length?-1:0,onFocus:Oe},{default:()=>{var ot,$e,ht;return[ct.value&&De("div",{key:"prev",class:zo(["v-slide-group__prev",{"v-slide-group__prev--disabled":!Tn.value}]),onMousedown:Ve,onClick:()=>Tn.value&&Kt("prev")},[((ot=l.prev)==null?void 0:ot.call(l,rn.value))??Ne(hG,null,{default:()=>[Ne(Yo,{icon:d.value?n.nextIcon:n.prevIcon},null)]})]),De("div",{key:"container",ref:V,class:"v-slide-group__container",onScroll:be},[De("div",{ref:W,class:"v-slide-group__content",onFocusin:Fe,onFocusout:Ze,onKeydown:P},[($e=l.default)==null?void 0:$e.call(l,rn.value)])]),ct.value&&De("div",{key:"next",class:zo(["v-slide-group__next",{"v-slide-group__next--disabled":!Tt.value}]),onMousedown:Ve,onClick:()=>Tt.value&&Kt("next")},[((ht=l.next)==null?void 0:ht.call(l,rn.value))??Ne(hG,null,{default:()=>[Ne(Yo,{icon:d.value?n.prevIcon:n.nextIcon},null)]})])]}})),{selected:y.selected,scrollTo:Kt,scrollOffset:A,focus:Nt,hasPrev:Tn,hasNext:Tt}}}),QQ=Symbol.for("vuetify:v-chip-group"),J0e=Kn({baseColor:String,column:Boolean,filter:Boolean,valueComparator:{type:Function,default:Lp},...JQ(),...Js(),...MU({selectedClass:"v-chip--selected"}),...Pi(),...Gl(),...f1({variant:"tonal"})},"VChipGroup");Xo()({name:"VChipGroup",props:J0e(),emits:{"update:modelValue":n=>!0},setup(n,r){let{slots:l}=r;const{themeClasses:d}=Uc(n),{isSelected:h,select:g,next:y,prev:w,selected:A}=LU(n,QQ);return hx({VChip:{baseColor:Rn(()=>n.baseColor),color:Rn(()=>n.color),disabled:Rn(()=>n.disabled),filter:Rn(()=>n.filter),variant:Rn(()=>n.variant)}}),Ls(()=>{const R=kG.filterProps(n);return Ne(kG,fs(R,{class:["v-chip-group",{"v-chip-group--column":n.column},d.value,n.class],style:n.style}),{default:()=>{var O;return[(O=l.default)==null?void 0:O.call(l,{isSelected:h,select:g,next:y,prev:w,selected:A.value})]}})}),{}}});const Q0e=Kn({activeClass:String,appendAvatar:String,appendIcon:aa,baseColor:String,closable:Boolean,closeIcon:{type:aa,default:"$delete"},closeLabel:{type:String,default:"$vuetify.close"},draggable:Boolean,filter:Boolean,filterIcon:{type:aa,default:"$complete"},label:Boolean,link:{type:Boolean,default:void 0},pill:Boolean,prependAvatar:String,prependIcon:aa,ripple:{type:[Boolean,Object],default:!0},text:{type:[String,Number,Boolean],default:void 0},modelValue:{type:Boolean,default:!0},onClick:ym(),onClickOnce:ym(),...l1(),...Js(),...Th(),...u1(),...QJ(),...hg(),...jL(),...cR(),...Pi({tag:"span"}),...Gl(),...f1({variant:"tonal"})},"VChip"),eee=Xo()({name:"VChip",directives:{vRipple:o1},props:Q0e(),emits:{"click:close":n=>!0,"update:modelValue":n=>!0,"group:selected":n=>!0,click:n=>!0},setup(n,r){let{attrs:l,emit:d,slots:h}=r;const{t:g}=sR(),{borderClasses:y}=c1(n),{densityClasses:w}=zp(n),{elevationClasses:A}=d1(n),{roundedClasses:R}=pg(n),{sizeClasses:O}=uR(n),{themeClasses:N}=Uc(n),V=Ni(n,"modelValue"),z=eQ(n,QQ,!1),W=WL(n,l),X=Rn(()=>n.link!==!1&&W.isLink.value),oe=Mt(()=>!n.disabled&&n.link!==!1&&(!!z||n.link||W.isClickable.value)),j=Rn(()=>({"aria-label":g(n.closeLabel),disabled:n.disabled,onClick(be){be.preventDefault(),be.stopPropagation(),V.value=!1,d("click:close",be)}})),{colorClasses:fe,colorStyles:le,variantClasses:q}=Xk(()=>({color:!z||z.isSelected.value?n.color??n.baseColor:n.baseColor,variant:n.variant}));function de(be){var Fe;d("click",be),oe.value&&((Fe=W.navigate)==null||Fe.call(W,be),z==null||z.toggle())}function ne(be){(be.key==="Enter"||be.key===" ")&&(be.preventDefault(),de(be))}return()=>{var wt;const be=W.isLink.value?"a":n.tag,Fe=!!(n.appendIcon||n.appendAvatar),Ze=!!(Fe||h.append),rt=!!(h.close||n.closable),Oe=!!(h.filter||n.filter)&&z,Ve=!!(n.prependIcon||n.prependAvatar),P=!!(Ve||h.prepend);return V.value&&ns(Ne(be,fs({class:["v-chip",{"v-chip--disabled":n.disabled,"v-chip--label":n.label,"v-chip--link":oe.value,"v-chip--filter":Oe,"v-chip--pill":n.pill,[`${n.activeClass}`]:n.activeClass&&((wt=W.isActive)==null?void 0:wt.value)},N.value,y.value,fe.value,w.value,A.value,R.value,O.value,q.value,z==null?void 0:z.selectedClass.value,n.class],style:[le.value,n.style],disabled:n.disabled||void 0,draggable:n.draggable,tabindex:oe.value?0:void 0,onClick:de,onKeydown:oe.value&&!X.value&&ne},W.linkProps),{default:()=>{var Nt;return[Yk(oe.value,"v-chip"),Oe&&Ne(wQ,{key:"filter"},{default:()=>[ns(De("div",{class:"v-chip__filter"},[h.filter?Ne(el,{key:"filter-defaults",disabled:!n.filterIcon,defaults:{VIcon:{icon:n.filterIcon}}},h.filter):Ne(Yo,{key:"filter-icon",icon:n.filterIcon},null)]),[[Ms,z.isSelected.value]])]}),P&&De("div",{key:"prepend",class:"v-chip__prepend"},[h.prepend?Ne(el,{key:"prepend-defaults",disabled:!Ve,defaults:{VAvatar:{image:n.prependAvatar,start:!0},VIcon:{icon:n.prependIcon,start:!0}}},h.prepend):De(hs,null,[n.prependIcon&&Ne(Yo,{key:"prepend-icon",icon:n.prependIcon,start:!0},null),n.prependAvatar&&Ne(ux,{key:"prepend-avatar",image:n.prependAvatar,start:!0},null)])]),De("div",{class:"v-chip__content","data-no-activator":""},[((Nt=h.default)==null?void 0:Nt.call(h,{isSelected:z==null?void 0:z.isSelected.value,selectedClass:z==null?void 0:z.selectedClass.value,select:z==null?void 0:z.select,toggle:z==null?void 0:z.toggle,value:z==null?void 0:z.value.value,disabled:n.disabled}))??jt(n.text)]),Ze&&De("div",{key:"append",class:"v-chip__append"},[h.append?Ne(el,{key:"append-defaults",disabled:!Fe,defaults:{VAvatar:{end:!0,image:n.appendAvatar},VIcon:{end:!0,icon:n.appendIcon}}},h.append):De(hs,null,[n.appendIcon&&Ne(Yo,{key:"append-icon",end:!0,icon:n.appendIcon},null),n.appendAvatar&&Ne(ux,{key:"append-avatar",end:!0,image:n.appendAvatar},null)])]),rt&&De("button",fs({key:"close",class:"v-chip__close",type:"button","data-testid":"close-chip"},j.value),[h.close?Ne(el,{key:"close-defaults",defaults:{VIcon:{icon:n.closeIcon,size:"x-small"}}},h.close):Ne(Yo,{key:"close-icon",icon:n.closeIcon,size:"x-small"},null)])]}}),[[o1,oe.value&&n.ripple,null]])}}}),e1e=Kn({id:String,submenu:Boolean,...pC(UU({closeDelay:250,closeOnContentClick:!0,locationStrategy:"connected",location:void 0,openDelay:300,scrim:!1,scrollStrategy:"reposition",transition:{component:zU}}),["absolute"])},"VMenu"),GL=Xo()({name:"VMenu",props:e1e(),emits:{"update:modelValue":n=>!0},setup(n,r){let{slots:l}=r;const d=Ni(n,"modelValue"),{scopeId:h}=KL(),{isRtl:g}=Ah(),y=gx(),w=Rn(()=>n.id||`v-menu-${y}`),A=go(),R=hi(j9,null),O=Oo(new Set);Af(j9,{register(){O.value.add(y)},unregister(){O.value.delete(y)},closeParents(oe){setTimeout(()=>{var j;!O.value.size&&!n.persistent&&(oe==null||(j=A.value)!=null&&j.contentEl&&!Zde(oe,A.value.contentEl))&&(d.value=!1,R==null||R.closeParents())},40)}}),zc(()=>{R==null||R.unregister(),document.removeEventListener("focusin",N)}),SL(()=>d.value=!1);async function N(oe){var le,q,de;const j=oe.relatedTarget,fe=oe.target;await gr(),d.value&&j!==fe&&((le=A.value)!=null&&le.contentEl)&&((q=A.value)!=null&&q.globalTop)&&![document,A.value.contentEl].includes(fe)&&!A.value.contentEl.contains(fe)&&((de=zO(A.value.contentEl)[0])==null||de.focus())}Wn(d,oe=>{oe?(R==null||R.register(),ka&&document.addEventListener("focusin",N,{once:!0})):(R==null||R.unregister(),ka&&document.removeEventListener("focusin",N))},{immediate:!0});function V(oe){R==null||R.closeParents(oe)}function z(oe){var j,fe,le,q,de;if(!n.disabled)if(oe.key==="Tab"||oe.key==="Enter"&&!n.closeOnContentClick){if(oe.key==="Enter"&&(oe.target instanceof HTMLTextAreaElement||oe.target instanceof HTMLInputElement&&oe.target.closest("form")))return;oe.key==="Enter"&&oe.preventDefault(),OX(zO((j=A.value)==null?void 0:j.contentEl,!1),oe.shiftKey?"prev":"next",be=>be.tabIndex>=0)||(d.value=!1,(le=(fe=A.value)==null?void 0:fe.activatorEl)==null||le.focus())}else n.submenu&&oe.key===(g.value?"ArrowRight":"ArrowLeft")&&(d.value=!1,(de=(q=A.value)==null?void 0:q.activatorEl)==null||de.focus())}function W(oe){var fe;if(n.disabled)return;const j=(fe=A.value)==null?void 0:fe.contentEl;j&&d.value?oe.key==="ArrowDown"?(oe.preventDefault(),oe.stopImmediatePropagation(),IO(j,"next")):oe.key==="ArrowUp"?(oe.preventDefault(),oe.stopImmediatePropagation(),IO(j,"prev")):n.submenu&&(oe.key===(g.value?"ArrowRight":"ArrowLeft")?d.value=!1:oe.key===(g.value?"ArrowLeft":"ArrowRight")&&(oe.preventDefault(),IO(j,"first"))):(n.submenu?oe.key===(g.value?"ArrowLeft":"ArrowRight"):["ArrowDown","ArrowUp"].includes(oe.key))&&(d.value=!0,oe.preventDefault(),setTimeout(()=>setTimeout(()=>W(oe))))}const X=Mt(()=>fs({"aria-haspopup":"menu","aria-expanded":String(d.value),"aria-controls":w.value,onKeydown:W},n.activatorProps));return Ls(()=>{const oe=dL.filterProps(n);return Ne(dL,fs({ref:A,id:w.value,class:["v-menu",n.class],style:n.style},oe,{modelValue:d.value,"onUpdate:modelValue":j=>d.value=j,absolute:!0,activatorProps:X.value,location:n.location??(n.submenu?"end":"bottom"),"onClick:outside":V,onKeydown:z},h),{activator:l.activator,default:function(){for(var j=arguments.length,fe=new Array(j),le=0;le<j;le++)fe[le]=arguments[le];return Ne(el,{root:"VMenu"},{default:()=>{var q;return[(q=l.default)==null?void 0:q.call(l,...fe)]}})}})}),Qk({id:w,openChildren:O},A)}}),t1e=Kn({active:Boolean,disabled:Boolean,max:[Number,String],value:{type:[Number,String],default:0},...Js(),...Jk({transition:{component:yQ}})},"VCounter"),tee=Xo()({name:"VCounter",functional:!0,props:t1e(),setup(n,r){let{slots:l}=r;const d=Rn(()=>n.max?`${n.value} / ${n.max}`:String(n.value));return Ls(()=>Ne(ox,{transition:n.transition},{default:()=>[ns(De("div",{class:zo(["v-counter",{"text-error":n.max&&!n.disabled&&parseFloat(n.value)>parseFloat(n.max)},n.class]),style:Rs(n.style)},[l.default?l.default({counter:d.value,max:n.max,value:n.value}):d.value]),[[Ms,n.active]])]})),{}}}),n1e=Kn({floating:Boolean,...Js()},"VFieldLabel"),_M=Xo()({name:"VFieldLabel",props:n1e(),setup(n,r){let{slots:l}=r;return Ls(()=>Ne(UQ,{class:zo(["v-field-label",{"v-field-label--floating":n.floating},n.class]),style:Rs(n.style),"aria-hidden":n.floating||void 0},l)),{}}}),o1e=["underlined","outlined","filled","solo","solo-inverted","solo-filled","plain"],GU=Kn({appendInnerIcon:aa,bgColor:String,clearable:Boolean,clearIcon:{type:aa,default:"$clear"},active:Boolean,centerAffix:{type:Boolean,default:void 0},color:String,baseColor:String,dirty:Boolean,disabled:{type:Boolean,default:null},glow:Boolean,error:Boolean,flat:Boolean,iconColor:[Boolean,String],label:String,persistentClear:Boolean,prependInnerIcon:aa,reverse:Boolean,singleLine:Boolean,variant:{type:String,default:"filled",validator:n=>o1e.includes(n)},"onClick:clear":ym(),"onClick:appendInner":ym(),"onClick:prependInner":ym(),...Js(),...FU(),...hg(),...Gl()},"VField"),mL=Xo()({name:"VField",inheritAttrs:!1,props:{id:String,...GQ(),...GU()},emits:{"update:focused":n=>!0,"update:modelValue":n=>!0},setup(n,r){let{attrs:l,emit:d,slots:h}=r;const{themeClasses:g}=Uc(n),{loaderClasses:y}=$U(n),{focusClasses:w,isFocused:A,focus:R,blur:O}=ZU(n),{InputIcon:N}=qQ(n),{roundedClasses:V}=pg(n),{rtlClasses:z}=Ah(),W=Rn(()=>n.dirty||n.active),X=Rn(()=>!!(n.label||h.label)),oe=Rn(()=>!n.singleLine&&X.value),j=gx(),fe=Mt(()=>n.id||`input-${j}`),le=Rn(()=>`${fe.value}-messages`),q=go(),de=go(),ne=go(),be=Mt(()=>["plain","underlined"].includes(n.variant)),Fe=Mt(()=>n.error||n.disabled?void 0:W.value&&A.value?n.color:n.baseColor),Ze=Mt(()=>{if(!(!n.iconColor||n.glow&&!A.value))return n.iconColor===!0?Fe.value:n.iconColor}),{backgroundColorClasses:rt,backgroundColorStyles:Oe}=Fp(()=>n.bgColor),{textColorClasses:Ve,textColorStyles:P}=Vp(Fe);Wn(W,Kt=>{if(oe.value){const rn=q.value.$el,ct=de.value.$el;requestAnimationFrame(()=>{const Tn=SU(rn),Tt=ct.getBoundingClientRect(),ot=Tt.x-Tn.x,$e=Tt.y-Tn.y-(Tn.height/2-Tt.height/2),ht=Tt.width/.75,Dn=Math.abs(ht-Tn.width)>1?{maxWidth:Os(ht)}:void 0,mn=getComputedStyle(rn),Fn=getComputedStyle(ct),Gt=parseFloat(mn.transitionDuration)*1e3||150,te=parseFloat(Fn.getPropertyValue("--v-field-label-scale")),So=Fn.getPropertyValue("color");rn.style.visibility="visible",ct.style.visibility="hidden",Ok(rn,{transform:`translate(${ot}px, ${$e}px) scale(${te})`,color:So,...Dn},{duration:Gt,easing:QM,direction:Kt?"normal":"reverse"}).finished.then(()=>{rn.style.removeProperty("visibility"),ct.style.removeProperty("visibility")})})}},{flush:"post"});const wt=Mt(()=>({isActive:W,isFocused:A,controlRef:ne,blur:O,focus:R}));function Nt(Kt){Kt.target!==document.activeElement&&Kt.preventDefault()}return Ls(()=>{var ot,$e,ht;const Kt=n.variant==="outlined",rn=!!(h["prepend-inner"]||n.prependInnerIcon),ct=!!(n.clearable||h.clear)&&!n.disabled,Tn=!!(h["append-inner"]||n.appendInnerIcon||ct),Tt=()=>h.label?h.label({...wt.value,label:n.label,props:{for:fe.value}}):n.label;return De("div",fs({class:["v-field",{"v-field--active":W.value,"v-field--appended":Tn,"v-field--center-affix":n.centerAffix??!be.value,"v-field--disabled":n.disabled,"v-field--dirty":n.dirty,"v-field--error":n.error,"v-field--glow":n.glow,"v-field--flat":n.flat,"v-field--has-background":!!n.bgColor,"v-field--persistent-clear":n.persistentClear,"v-field--prepended":rn,"v-field--reverse":n.reverse,"v-field--single-line":n.singleLine,"v-field--no-label":!Tt(),[`v-field--variant-${n.variant}`]:!0},g.value,rt.value,w.value,y.value,V.value,z.value,n.class],style:[Oe.value,n.style],onClick:Nt},l),[De("div",{class:"v-field__overlay"},null),Ne(rQ,{name:"v-field",active:!!n.loading,color:n.error?"error":typeof n.loading=="string"?n.loading:n.color},{default:h.loader}),rn&&De("div",{key:"prepend",class:"v-field__prepend-inner"},[n.prependInnerIcon&&Ne(N,{key:"prepend-icon",name:"prependInner",color:Ze.value},null),(ot=h["prepend-inner"])==null?void 0:ot.call(h,wt.value)]),De("div",{class:"v-field__field","data-no-activator":""},[["filled","solo","solo-inverted","solo-filled"].includes(n.variant)&&oe.value&&Ne(_M,{key:"floating-label",ref:de,class:zo([Ve.value]),floating:!0,for:fe.value,style:Rs(P.value)},{default:()=>[Tt()]}),X.value&&Ne(_M,{key:"label",ref:q,for:fe.value},{default:()=>[Tt()]}),(($e=h.default)==null?void 0:$e.call(h,{...wt.value,props:{id:fe.value,class:"v-field__input","aria-describedby":le.value},focus:R,blur:O}))??De("div",{id:fe.value,class:"v-field__input","aria-describedby":le.value},null)]),ct&&Ne(wQ,{key:"clear"},{default:()=>[ns(De("div",{class:"v-field__clearable",onMousedown:Dn=>{Dn.preventDefault(),Dn.stopPropagation()}},[Ne(el,{defaults:{VIcon:{icon:n.clearIcon}}},{default:()=>[h.clear?h.clear({...wt.value,props:{onFocus:R,onBlur:O,onClick:n["onClick:clear"],tabindex:-1}}):Ne(N,{name:"clear",onFocus:R,onBlur:O,tabindex:-1},null)]})]),[[Ms,n.dirty]])]}),Tn&&De("div",{key:"append",class:"v-field__append-inner"},[(ht=h["append-inner"])==null?void 0:ht.call(h,wt.value),n.appendInnerIcon&&Ne(N,{key:"append-icon",name:"appendInner",color:Ze.value},null)]),De("div",{class:zo(["v-field__outline",Ve.value]),style:Rs(P.value)},[Kt&&De(hs,null,[De("div",{class:"v-field__outline__start"},null),oe.value&&De("div",{class:"v-field__outline__notch"},[Ne(_M,{ref:de,floating:!0,for:fe.value},{default:()=>[Tt()]})]),De("div",{class:"v-field__outline__end"},null)]),be.value&&oe.value&&Ne(_M,{ref:de,floating:!0,for:fe.value},{default:()=>[Tt()]})])])}),{controlRef:ne,fieldIconColor:Ze}}}),s1e=["color","file","time","date","datetime-local","week","month"],YU=Kn({autofocus:Boolean,counter:[Boolean,Number,String],counterValue:[Number,Function],prefix:String,placeholder:String,persistentPlaceholder:Boolean,persistentCounter:Boolean,suffix:String,role:String,type:{type:String,default:"text"},modelModifiers:Object,...qU(),...GU()},"VTextField"),gL=Xo()({name:"VTextField",directives:{vIntersect:Uk},inheritAttrs:!1,props:YU(),emits:{"click:control":n=>!0,"mousedown:control":n=>!0,"update:focused":n=>!0,"update:modelValue":n=>!0},setup(n,r){let{attrs:l,emit:d,slots:h}=r;const g=Ni(n,"modelValue"),{isFocused:y,focus:w,blur:A}=ZU(n),R=Mt(()=>typeof n.counterValue=="function"?n.counterValue(g.value):typeof n.counterValue=="number"?n.counterValue:(g.value??"").toString().length),O=Mt(()=>{if(l.maxlength)return l.maxlength;if(!(!n.counter||typeof n.counter!="number"&&typeof n.counter!="string"))return n.counter}),N=Mt(()=>["plain","underlined"].includes(n.variant));function V(ne,be){var Fe,Ze;!n.autofocus||!ne||(Ze=(Fe=be[0].target)==null?void 0:Fe.focus)==null||Ze.call(Fe)}const z=go(),W=go(),X=go(),oe=Mt(()=>s1e.includes(n.type)||n.persistentPlaceholder||y.value||n.active);function j(){var ne;X.value!==document.activeElement&&((ne=X.value)==null||ne.focus()),y.value||w()}function fe(ne){d("mousedown:control",ne),ne.target!==X.value&&(j(),ne.preventDefault())}function le(ne){j(),d("click:control",ne)}function q(ne,be){ne.stopPropagation(),j(),gr(()=>{g.value=null,be(),wU(n["onClick:clear"],ne)})}function de(ne){var Fe;const be=ne.target;if(g.value=be.value,(Fe=n.modelModifiers)!=null&&Fe.trim&&["text","search","password","tel","url"].includes(n.type)){const Ze=[be.selectionStart,be.selectionEnd];gr(()=>{be.selectionStart=Ze[0],be.selectionEnd=Ze[1]})}}return Ls(()=>{const ne=!!(h.counter||n.counter!==!1&&n.counter!=null),be=!!(ne||h.details),[Fe,Ze]=yU(l),{modelValue:rt,...Oe}=fL.filterProps(n),Ve=mL.filterProps(n);return Ne(fL,fs({ref:z,modelValue:g.value,"onUpdate:modelValue":P=>g.value=P,class:["v-text-field",{"v-text-field--prefixed":n.prefix,"v-text-field--suffixed":n.suffix,"v-input--plain-underlined":N.value},n.class],style:n.style},Fe,Oe,{centerAffix:!N.value,focused:y.value}),{...h,default:P=>{let{id:wt,isDisabled:Nt,isDirty:Kt,isReadonly:rn,isValid:ct,reset:Tn}=P;return Ne(mL,fs({ref:W,onMousedown:fe,onClick:le,"onClick:clear":Tt=>q(Tt,Tn),"onClick:prependInner":n["onClick:prependInner"],"onClick:appendInner":n["onClick:appendInner"],role:n.role},Ve,{id:wt.value,active:oe.value||Kt.value,dirty:Kt.value||n.dirty,disabled:Nt.value,focused:y.value,error:ct.value===!1}),{...h,default:Tt=>{let{props:{class:ot,...$e}}=Tt;const ht=ns(De("input",fs({ref:X,value:g.value,onInput:de,autofocus:n.autofocus,readonly:rn.value,disabled:Nt.value,name:n.name,placeholder:n.placeholder,size:1,type:n.type,onFocus:j,onBlur:A},$e,Ze),null),[[Uk,{handler:V},null,{once:!0}]]);return De(hs,null,[n.prefix&&De("span",{class:"v-text-field__prefix"},[De("span",{class:"v-text-field__prefix__text"},[n.prefix])]),h.default?De("div",{class:zo(ot),"data-no-activator":""},[h.default(),ht]):n1(ht,{class:ot}),n.suffix&&De("span",{class:"v-text-field__suffix"},[De("span",{class:"v-text-field__suffix__text"},[n.suffix])])])}})},details:be?P=>{var wt;return De(hs,null,[(wt=h.details)==null?void 0:wt.call(h,P),ne&&De(hs,null,[De("span",null,null),Ne(tee,{active:n.persistentCounter||y.value,value:R.value,max:O.value,disabled:n.disabled},h.counter)])])}:void 0})}),Qk({},z,W,X)}}),r1e=Kn({renderless:Boolean,...Js()},"VVirtualScrollItem"),a1e=Xo()({name:"VVirtualScrollItem",inheritAttrs:!1,props:r1e(),emits:{"update:height":n=>!0},setup(n,r){let{attrs:l,emit:d,slots:h}=r;const{resizeRef:g,contentRect:y}=Fk(void 0,"border");Wn(()=>{var w;return(w=y.value)==null?void 0:w.height},w=>{w!=null&&d("update:height",w)}),Ls(()=>{var w,A;return n.renderless?De(hs,null,[(w=h.default)==null?void 0:w.call(h,{itemRef:g})]):De("div",fs({ref:g,class:["v-virtual-scroll__item",n.class],style:n.style},l),[(A=h.default)==null?void 0:A.call(h)])})}}),i1e=-1,l1e=1,Jz=100,c1e=Kn({itemHeight:{type:[Number,String],default:null},itemKey:{type:[String,Array,Function],default:null},height:[Number,String]},"virtual");function u1e(n,r){const l=RL(),d=Oo(0);Ef(()=>{d.value=parseFloat(n.itemHeight||0)});const h=Oo(0),g=Oo(Math.ceil((parseInt(n.height)||l.height.value)/(d.value||16))||1),y=Oo(0),w=Oo(0),A=go(),R=go();let O=0;const{resizeRef:N,contentRect:V}=Fk();Ef(()=>{N.value=A.value});const z=Mt(()=>{var Tt;return A.value===document.documentElement?l.height.value:((Tt=V.value)==null?void 0:Tt.height)||parseInt(n.height)||0}),W=Mt(()=>!!(A.value&&R.value&&z.value&&d.value));let X=Array.from({length:r.value.length}),oe=Array.from({length:r.value.length});const j=Oo(0);let fe=-1;function le(Tt){return X[Tt]||d.value}const q=zde(()=>{const Tt=performance.now();oe[0]=0;const ot=r.value.length;for(let $e=1;$e<=ot-1;$e++)oe[$e]=(oe[$e-1]||0)+le($e-1);j.value=Math.max(j.value,performance.now()-Tt)},j),de=Wn(W,Tt=>{Tt&&(de(),O=R.value.offsetTop,q.immediate(),Kt(),~fe&&gr(()=>{ka&&window.requestAnimationFrame(()=>{ct(fe),fe=-1})}))});Gu(()=>{q.clear()});function ne(Tt,ot){const $e=X[Tt],ht=d.value;d.value=ht?Math.min(d.value,ot):ot,($e!==ot||ht!==d.value)&&(X[Tt]=ot,q())}function be(Tt){return Tt=vm(Tt,0,r.value.length-1),oe[Tt]||0}function Fe(Tt){return d1e(oe,Tt)}let Ze=0,rt=0,Oe=0;Wn(z,(Tt,ot)=>{ot&&(Kt(),Tt<ot&&requestAnimationFrame(()=>{rt=0,Kt()}))});let Ve=-1;function P(){if(!A.value||!R.value)return;const Tt=A.value.scrollTop,ot=performance.now();ot-Oe>500?(rt=Math.sign(Tt-Ze),O=R.value.offsetTop):rt=Tt-Ze,Ze=Tt,Oe=ot,window.clearTimeout(Ve),Ve=window.setTimeout(wt,500),Kt()}function wt(){!A.value||!R.value||(rt=0,Oe=0,window.clearTimeout(Ve),Kt())}let Nt=-1;function Kt(){cancelAnimationFrame(Nt),Nt=requestAnimationFrame(rn)}function rn(){if(!A.value||!z.value)return;const Tt=Ze-O,ot=Math.sign(rt),$e=Math.max(0,Tt-Jz),ht=vm(Fe($e),0,r.value.length),Dn=Tt+z.value+Jz,mn=vm(Fe(Dn)+1,ht+1,r.value.length);if((ot!==i1e||ht<h.value)&&(ot!==l1e||mn>g.value)){const Fn=be(h.value)-be(ht),Gt=be(mn)-be(g.value);Math.max(Fn,Gt)>Jz?(h.value=ht,g.value=mn):(ht<=0&&(h.value=ht),mn>=r.value.length&&(g.value=mn))}y.value=be(h.value),w.value=be(r.value.length)-be(g.value)}function ct(Tt){const ot=be(Tt);!A.value||Tt&&!ot?fe=Tt:A.value.scrollTop=ot}const Tn=Mt(()=>r.value.slice(h.value,g.value).map((Tt,ot)=>{const $e=ot+h.value;return{raw:Tt,index:$e,key:Ip(Tt,n.itemKey,$e)}}));return Wn(r,()=>{X=Array.from({length:r.value.length}),oe=Array.from({length:r.value.length}),q.immediate(),Kt()},{deep:1}),{calculateVisibleItems:Kt,containerRef:A,markerRef:R,computedItems:Tn,paddingTop:y,paddingBottom:w,scrollToIndex:ct,handleScroll:P,handleScrollend:wt,handleItemResize:ne}}function d1e(n,r){let l=n.length-1,d=0,h=0,g=null,y=-1;if(n[l]<r)return l;for(;d<=l;)if(h=d+l>>1,g=n[h],g>r)l=h-1;else if(g<r)y=h,d=h+1;else return g===r?h:d;return y}const f1e=Kn({items:{type:Array,default:()=>[]},renderless:Boolean,...c1e(),...Js(),...Up()},"VVirtualScroll"),nee=Xo()({name:"VVirtualScroll",props:f1e(),setup(n,r){let{slots:l}=r;const d=dc("VVirtualScroll"),{dimensionStyles:h}=Wp(n),{calculateVisibleItems:g,containerRef:y,markerRef:w,handleScroll:A,handleScrollend:R,handleItemResize:O,scrollToIndex:N,paddingTop:V,paddingBottom:z,computedItems:W}=u1e(n,Rn(()=>n.items));return Eh(()=>n.renderless,()=>{function X(){var fe,le;const j=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1)?"addEventListener":"removeEventListener";y.value===document.documentElement?(document[j]("scroll",A,{passive:!0}),document[j]("scrollend",R)):((fe=y.value)==null||fe[j]("scroll",A,{passive:!0}),(le=y.value)==null||le[j]("scrollend",R))}bu(()=>{y.value=$X(d.vnode.el,!0),X(!0)}),Gu(X)}),Ls(()=>{const X=W.value.map(oe=>Ne(a1e,{key:oe.key,renderless:n.renderless,"onUpdate:height":j=>O(oe.index,j)},{default:j=>{var fe;return(fe=l.default)==null?void 0:fe.call(l,{item:oe.raw,index:oe.index,...j})}}));return n.renderless?De(hs,null,[De("div",{ref:w,class:"v-virtual-scroll__spacer",style:{paddingTop:Os(V.value)}},null),X,De("div",{class:"v-virtual-scroll__spacer",style:{paddingBottom:Os(z.value)}},null)]):De("div",{ref:y,class:zo(["v-virtual-scroll",n.class]),onScrollPassive:A,onScrollend:R,style:Rs([h.value,n.style])},[De("div",{ref:w,class:"v-virtual-scroll__container",style:{paddingTop:Os(V.value),paddingBottom:Os(z.value)}},[X])])}),{calculateVisibleItems:g,scrollToIndex:N}}});function oee(n,r){const l=Oo(!1);let d;function h(w){cancelAnimationFrame(d),l.value=!0,d=requestAnimationFrame(()=>{d=requestAnimationFrame(()=>{l.value=!1})})}async function g(){await new Promise(w=>requestAnimationFrame(w)),await new Promise(w=>requestAnimationFrame(w)),await new Promise(w=>requestAnimationFrame(w)),await new Promise(w=>{if(l.value){const A=Wn(l,()=>{A(),w()})}else w()})}async function y(w){var O,N;if(w.key==="Tab"&&((O=r.value)==null||O.focus()),!["PageDown","PageUp","Home","End"].includes(w.key))return;const A=(N=n.value)==null?void 0:N.$el;if(!A)return;(w.key==="Home"||w.key==="End")&&A.scrollTo({top:w.key==="Home"?0:A.scrollHeight,behavior:"smooth"}),await g();const R=A.querySelectorAll(":scope > :not(.v-virtual-scroll__spacer)");if(w.key==="PageDown"||w.key==="Home"){const V=A.getBoundingClientRect().top;for(const z of R)if(z.getBoundingClientRect().top>=V){z.focus();break}}else{const V=A.getBoundingClientRect().bottom;for(const z of[...R].reverse())if(z.getBoundingClientRect().bottom<=V){z.focus();break}}}return{onScrollPassive:h,onKeydown:y}}const see=Kn({chips:Boolean,closableChips:Boolean,closeText:{type:String,default:"$vuetify.close"},openText:{type:String,default:"$vuetify.open"},eager:Boolean,hideNoData:Boolean,hideSelected:Boolean,listProps:{type:Object},menu:Boolean,menuIcon:{type:aa,default:"$dropdown"},menuProps:{type:Object},multiple:Boolean,noDataText:{type:String,default:"$vuetify.noDataText"},openOnClear:Boolean,itemColor:String,...$Q({itemChildren:!1})},"Select"),m1e=Kn({...see(),...pC(YU({modelValue:null,role:"combobox"}),["validationValue","dirty","appendInnerIcon"]),...Jk({transition:{component:zU}})},"VSelect");Xo()({name:"VSelect",props:m1e(),emits:{"update:focused":n=>!0,"update:modelValue":n=>!0,"update:menu":n=>!0},setup(n,r){let{slots:l}=r;const{t:d}=sR(),h=go(),g=go(),y=go(),{items:w,transformIn:A,transformOut:R}=HQ(n),O=Ni(n,"modelValue",[],Tt=>A(Tt===null?[null]:bm(Tt)),Tt=>{const ot=R(Tt);return n.multiple?ot:ot[0]??null}),N=Mt(()=>typeof n.counterValue=="function"?n.counterValue(O.value):typeof n.counterValue=="number"?n.counterValue:O.value.length),V=KU(n),z=Mt(()=>O.value.map(Tt=>Tt.value)),W=Oo(!1);let X="",oe=-1,j;const fe=Mt(()=>n.hideSelected?w.value.filter(Tt=>!O.value.some(ot=>(n.valueComparator||Lp)(ot,Tt))):w.value),le=Mt(()=>n.hideNoData&&!fe.value.length||V.isReadonly.value||V.isDisabled.value),q=Ni(n,"menu"),de=Mt({get:()=>q.value,set:Tt=>{var ot;q.value&&!Tt&&((ot=g.value)!=null&&ot.openChildren.size)||Tt&&le.value||(q.value=Tt)}}),ne=Rn(()=>de.value?n.closeText:n.openText),be=Mt(()=>{var Tt;return{...n.menuProps,activatorProps:{...((Tt=n.menuProps)==null?void 0:Tt.activatorProps)||{},"aria-haspopup":"listbox"}}}),Fe=go(),Ze=oee(Fe,h);function rt(Tt){n.openOnClear&&(de.value=!0)}function Oe(){le.value||(de.value=!de.value)}function Ve(Tt){XM(Tt)&&P(Tt)}function P(Tt){var So,tn,Cn;if(!Tt.key||V.isReadonly.value)return;["Enter"," ","ArrowDown","ArrowUp","Home","End"].includes(Tt.key)&&Tt.preventDefault(),["Enter","ArrowDown"," "].includes(Tt.key)&&(de.value=!0),["Escape","Tab"].includes(Tt.key)&&(de.value=!1),Tt.key==="Home"?(So=Fe.value)==null||So.focus("first"):Tt.key==="End"&&((tn=Fe.value)==null||tn.focus("last"));const ot=1e3;if(!XM(Tt))return;const $e=performance.now();$e-j>ot&&(X="",oe=-1),X+=Tt.key.toLowerCase(),j=$e;const ht=fe.value;function Dn(){let qe=mn();return qe||X.at(-1)===X.at(-2)&&(X=X.slice(0,-1),qe=mn(),qe)||(oe=-1,qe=mn(),qe)?qe:(X=Tt.key.toLowerCase(),mn())}function mn(){for(let qe=oe+1;qe<ht.length;qe++){const st=ht[qe];if(st.title.toLowerCase().startsWith(X))return[st,qe]}}const Fn=Dn();if(!Fn)return;const[Gt,te]=Fn;oe=te,(Cn=Fe.value)==null||Cn.focus(te),n.multiple||(O.value=[Gt])}function wt(Tt){let ot=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(!Tt.props.disabled)if(n.multiple){const $e=O.value.findIndex(Dn=>(n.valueComparator||Lp)(Dn.value,Tt.value)),ht=ot??!~$e;if(~$e){const Dn=ht?[...O.value,Tt]:[...O.value];Dn.splice($e,1),O.value=Dn}else ht&&(O.value=[...O.value,Tt])}else{const $e=ot!==!1;O.value=$e?[Tt]:[],gr(()=>{de.value=!1})}}function Nt(Tt){var ot;(ot=Fe.value)!=null&&ot.$el.contains(Tt.relatedTarget)||(de.value=!1)}function Kt(){var Tt;n.eager&&((Tt=y.value)==null||Tt.calculateVisibleItems())}function rn(){var Tt;W.value&&((Tt=h.value)==null||Tt.focus())}function ct(Tt){W.value=!0}function Tn(Tt){if(Tt==null)O.value=[];else if(Mk(h.value,":autofill")||Mk(h.value,":-webkit-autofill")){const ot=w.value.find($e=>$e.title===Tt);ot&&wt(ot)}else h.value&&(h.value.value="")}return Wn(de,()=>{if(!n.hideSelected&&de.value&&O.value.length){const Tt=fe.value.findIndex(ot=>O.value.some($e=>(n.valueComparator||Lp)($e.value,ot.value)));ka&&window.requestAnimationFrame(()=>{var ot;Tt>=0&&((ot=y.value)==null||ot.scrollToIndex(Tt))})}}),Wn(()=>n.items,(Tt,ot)=>{de.value||W.value&&!ot.length&&Tt.length&&(de.value=!0)}),Ls(()=>{const Tt=!!(n.chips||l.chip),ot=!!(!n.hideNoData||fe.value.length||l["prepend-item"]||l["append-item"]||l["no-data"]),$e=O.value.length>0,ht=gL.filterProps(n),Dn=$e||!W.value&&n.label&&!n.persistentPlaceholder?void 0:n.placeholder;return Ne(gL,fs({ref:h},ht,{modelValue:O.value.map(mn=>mn.props.value).join(", "),"onUpdate:modelValue":Tn,focused:W.value,"onUpdate:focused":mn=>W.value=mn,validationValue:O.externalValue,counterValue:N.value,dirty:$e,class:["v-select",{"v-select--active-menu":de.value,"v-select--chips":!!n.chips,[`v-select--${n.multiple?"multiple":"single"}`]:!0,"v-select--selected":O.value.length,"v-select--selection-slot":!!l.selection},n.class],style:n.style,inputmode:"none",placeholder:Dn,"onClick:clear":rt,"onMousedown:control":Oe,onBlur:Nt,onKeydown:P,"aria-label":d(ne.value),title:d(ne.value)}),{...l,default:()=>De(hs,null,[Ne(GL,fs({ref:g,modelValue:de.value,"onUpdate:modelValue":mn=>de.value=mn,activator:"parent",contentClass:"v-select__content",disabled:le.value,eager:n.eager,maxHeight:310,openOnClick:!1,closeOnContentClick:!1,transition:n.transition,onAfterEnter:Kt,onAfterLeave:rn},be.value),{default:()=>[ot&&Ne(JO,fs({ref:Fe,selected:z.value,selectStrategy:n.multiple?"independent":"single-independent",onMousedown:mn=>mn.preventDefault(),onKeydown:Ve,onFocusin:ct,tabindex:"-1","aria-live":"polite","aria-label":`${n.label}-list`,color:n.itemColor??n.color},Ze,n.listProps),{default:()=>{var mn,Fn,Gt;return[(mn=l["prepend-item"])==null?void 0:mn.call(l),!fe.value.length&&!n.hideNoData&&(((Fn=l["no-data"])==null?void 0:Fn.call(l))??Ne(wf,{key:"no-data",title:d(n.noDataText)},null)),Ne(nee,{ref:y,renderless:!0,items:fe.value,itemKey:"value"},{default:te=>{var st;let{item:So,index:tn,itemRef:Cn}=te;const qe=fs(So.props,{ref:Cn,key:So.value,onClick:()=>wt(So,null)});return((st=l.item)==null?void 0:st.call(l,{item:So,index:tn,props:qe}))??Ne(wf,fs(qe,{role:"option"}),{prepend:xe=>{let{isSelected:Re}=xe;return De(hs,null,[n.multiple&&!n.hideSelected?Ne(KQ,{key:So.value,modelValue:Re,ripple:!1,tabindex:"-1"},null):void 0,So.props.prependAvatar&&Ne(ux,{image:So.props.prependAvatar},null),So.props.prependIcon&&Ne(Yo,{icon:So.props.prependIcon},null)])}})}}),(Gt=l["append-item"])==null?void 0:Gt.call(l)]}})]}),O.value.map((mn,Fn)=>{function Gt(Cn){Cn.stopPropagation(),Cn.preventDefault(),wt(mn,!1)}const te={"onClick:close":Gt,onKeydown(Cn){Cn.key!=="Enter"&&Cn.key!==" "||(Cn.preventDefault(),Cn.stopPropagation(),Gt(Cn))},onMousedown(Cn){Cn.preventDefault(),Cn.stopPropagation()},modelValue:!0,"onUpdate:modelValue":void 0},So=Tt?!!l.chip:!!l.selection,tn=So?CU(Tt?l.chip({item:mn,index:Fn,props:te}):l.selection({item:mn,index:Fn})):void 0;if(!(So&&!tn))return De("div",{key:mn.value,class:"v-select__selection"},[Tt?l.chip?Ne(el,{key:"chip-defaults",defaults:{VChip:{closable:n.closableChips,size:"small",text:mn.title}}},{default:()=>[tn]}):Ne(eee,fs({key:"chip",closable:n.closableChips,size:"small",text:mn.title,disabled:mn.props.disabled},te),null):tn??De("span",{class:"v-select__selection-text"},[mn.title,n.multiple&&Fn<O.value.length-1&&De("span",{class:"v-select__selection-comma"},[ja(",")])])])})]),"append-inner":function(){var te,So;for(var mn=arguments.length,Fn=new Array(mn),Gt=0;Gt<mn;Gt++)Fn[Gt]=arguments[Gt];return De(hs,null,[(te=l["append-inner"])==null?void 0:te.call(l,...Fn),n.menuIcon?Ne(Yo,{class:"v-select__menu-icon",color:(So=h.value)==null?void 0:So.fieldIconColor,icon:n.menuIcon},null):void 0])}})}),Qk({isFocused:W,menu:de,select:wt},h)}});const g1e=(n,r,l)=>{if(n==null||r==null)return-1;if(!r.length)return 0;n=n.toString().toLocaleLowerCase(),r=r.toString().toLocaleLowerCase();const d=[];let h=n.indexOf(r);for(;~h;)d.push([h,h+r.length]),h=n.indexOf(r,h+r.length);return d.length?d:-1};function Qz(n,r){if(!(n==null||typeof n=="boolean"||n===-1))return typeof n=="number"?[[n,n+r.length]]:Array.isArray(n[0])?n:[n]}const h1e=Kn({customFilter:Function,customKeyFilter:Object,filterKeys:[Array,String],filterMode:{type:String,default:"intersection"},noFilter:Boolean},"filter");function p1e(n,r,l){var w;const d=[],h=(l==null?void 0:l.default)??g1e,g=l!=null&&l.filterKeys?bm(l.filterKeys):!1,y=Object.keys((l==null?void 0:l.customKeyFilter)??{}).length;if(!(n!=null&&n.length))return d;e:for(let A=0;A<n.length;A++){const[R,O=R]=bm(n[A]),N={},V={};let z=-1;if((r||y>0)&&!(l!=null&&l.noFilter)){if(typeof R=="object"){const oe=g||Object.keys(O);for(const j of oe){const fe=Ip(O,j),le=(w=l==null?void 0:l.customKeyFilter)==null?void 0:w[j];if(z=le?le(fe,r,R):h(fe,r,R),z!==-1&&z!==!1)le?N[j]=Qz(z,r):V[j]=Qz(z,r);else if((l==null?void 0:l.filterMode)==="every")continue e}}else z=h(R,r,R),z!==-1&&z!==!1&&(V.title=Qz(z,r));const W=Object.keys(V).length,X=Object.keys(N).length;if(!W&&!X||(l==null?void 0:l.filterMode)==="union"&&X!==y&&!W||(l==null?void 0:l.filterMode)==="intersection"&&(X!==y||!W))continue}d.push({index:A,matches:{...V,...N}})}return d}function b1e(n,r,l,d){const h=Oo([]),g=Oo(new Map),y=Mt(()=>tt(r));Ef(()=>{const A=typeof l=="function"?l():tt(l),R=typeof A!="string"&&typeof A!="number"?"":String(A),O=p1e(y.value,R,{customKeyFilter:{...n.customKeyFilter,...tt(d==null?void 0:d.customKeyFilter)},default:n.customFilter,filterKeys:n.filterKeys,filterMode:n.filterMode,noFilter:n.noFilter}),N=tt(r),V=[],z=new Map;O.forEach(W=>{let{index:X,matches:oe}=W;const j=N[X];V.push(j),z.set(j.value,oe)}),h.value=V,g.value=z});function w(A){return g.value.get(A.value)}return{filteredItems:h,filteredMatches:g,getMatches:w}}function v1e(n,r,l){return l==null||!l.length?r:l.map((d,h)=>{const g=h===0?0:l[h-1][1],y=[De("span",{class:zo(`${n}__unmask`)},[r.slice(g,d[0])]),De("span",{class:zo(`${n}__mask`)},[r.slice(d[0],d[1])])];return h===l.length-1&&y.push(De("span",{class:zo(`${n}__unmask`)},[r.slice(d[1])])),De(hs,null,[y])})}const y1e=Kn({autoSelectFirst:{type:[Boolean,String]},clearOnSelect:Boolean,search:String,...h1e({filterKeys:["title"]}),...see(),...pC(YU({modelValue:null,role:"combobox"}),["validationValue","dirty","appendInnerIcon"]),...Jk({transition:!1})},"VAutocomplete"),x1e=Xo()({name:"VAutocomplete",props:y1e(),emits:{"update:focused":n=>!0,"update:search":n=>!0,"update:modelValue":n=>!0,"update:menu":n=>!0},setup(n,r){let{slots:l}=r;const{t:d}=sR(),h=go(),g=Oo(!1),y=Oo(!0),w=Oo(!1),A=go(),R=go(),O=Oo(-1),{items:N,transformIn:V,transformOut:z}=HQ(n),{textColorClasses:W,textColorStyles:X}=Vp(()=>{var tn;return(tn=h.value)==null?void 0:tn.color}),oe=Ni(n,"search",""),j=Ni(n,"modelValue",[],tn=>V(tn===null?[null]:bm(tn)),tn=>{const Cn=z(tn);return n.multiple?Cn:Cn[0]??null}),fe=Mt(()=>typeof n.counterValue=="function"?n.counterValue(j.value):typeof n.counterValue=="number"?n.counterValue:j.value.length),le=KU(n),{filteredItems:q,getMatches:de}=b1e(n,N,()=>y.value?"":oe.value),ne=Mt(()=>n.hideSelected?q.value.filter(tn=>!j.value.some(Cn=>Cn.value===tn.value)):q.value),be=Mt(()=>!!(n.chips||l.chip)),Fe=Mt(()=>be.value||!!l.selection),Ze=Mt(()=>j.value.map(tn=>tn.props.value)),rt=Mt(()=>{var Cn;return(n.autoSelectFirst===!0||n.autoSelectFirst==="exact"&&oe.value===((Cn=ne.value[0])==null?void 0:Cn.title))&&ne.value.length>0&&!y.value&&!w.value}),Oe=Mt(()=>n.hideNoData&&!ne.value.length||le.isReadonly.value||le.isDisabled.value),Ve=Ni(n,"menu"),P=Mt({get:()=>Ve.value,set:tn=>{var Cn;Ve.value&&!tn&&((Cn=A.value)!=null&&Cn.openChildren.size)||tn&&Oe.value||(Ve.value=tn)}}),wt=Mt(()=>P.value?n.closeText:n.openText),Nt=go(),Kt=oee(Nt,h);function rn(tn){n.openOnClear&&(P.value=!0),oe.value=""}function ct(){Oe.value||(P.value=!0)}function Tn(tn){Oe.value||(g.value&&(tn.preventDefault(),tn.stopPropagation()),P.value=!P.value)}function Tt(tn){var Cn;tn.key!==" "&&XM(tn)&&((Cn=h.value)==null||Cn.focus())}function ot(tn){var st,xe,Re,Ue,ye;if(le.isReadonly.value)return;const Cn=(st=h.value)==null?void 0:st.selectionStart,qe=j.value.length;if(["Enter","ArrowDown","ArrowUp"].includes(tn.key)&&tn.preventDefault(),["Enter","ArrowDown"].includes(tn.key)&&(P.value=!0),["Escape"].includes(tn.key)&&(P.value=!1),rt.value&&["Enter","Tab"].includes(tn.key)&&!j.value.some(_e=>{let{value:Be}=_e;return Be===ne.value[0].value})&&So(ne.value[0]),tn.key==="ArrowDown"&&rt.value&&((xe=Nt.value)==null||xe.focus("next")),["Backspace","Delete"].includes(tn.key)){if(!n.multiple&&Fe.value&&j.value.length>0&&!oe.value)return So(j.value[0],!1);if(~O.value){tn.preventDefault();const _e=O.value;So(j.value[O.value],!1),O.value=_e>=qe-1?qe-2:_e}else tn.key==="Backspace"&&!oe.value&&(O.value=qe-1);return}if(n.multiple)if(tn.key==="ArrowLeft"){if(O.value<0&&Cn&&Cn>0)return;const _e=O.value>-1?O.value-1:qe-1;if(j.value[_e])O.value=_e;else{const Be=((Re=oe.value)==null?void 0:Re.length)??null;O.value=-1,(Ue=h.value)==null||Ue.setSelectionRange(Be,Be)}}else if(tn.key==="ArrowRight"){if(O.value<0)return;const _e=O.value+1;j.value[_e]?O.value=_e:(O.value=-1,(ye=h.value)==null||ye.setSelectionRange(0,0))}else~O.value&&XM(tn)&&(O.value=-1)}function $e(tn){if(Mk(h.value,":autofill")||Mk(h.value,":-webkit-autofill")){const Cn=N.value.find(qe=>qe.title===tn.target.value);Cn&&So(Cn)}}function ht(){var tn;n.eager&&((tn=R.value)==null||tn.calculateVisibleItems())}function Dn(){var tn;g.value&&(y.value=!0,(tn=h.value)==null||tn.focus())}function mn(tn){g.value=!0,setTimeout(()=>{w.value=!0})}function Fn(tn){w.value=!1}function Gt(tn){(tn==null||tn===""&&!n.multiple&&!Fe.value)&&(j.value=[])}const te=Oo(!1);function So(tn){let Cn=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(!(!tn||tn.props.disabled))if(n.multiple){const qe=j.value.findIndex(xe=>(n.valueComparator||Lp)(xe.value,tn.value)),st=Cn??!~qe;if(~qe){const xe=st?[...j.value,tn]:[...j.value];xe.splice(qe,1),j.value=xe}else st&&(j.value=[...j.value,tn]);n.clearOnSelect&&(oe.value="")}else{const qe=Cn!==!1;j.value=qe?[tn]:[],oe.value=qe&&!Fe.value?tn.title:"",gr(()=>{P.value=!1,y.value=!0})}}return Wn(g,(tn,Cn)=>{var qe;tn!==Cn&&(tn?(te.value=!0,oe.value=n.multiple||Fe.value?"":String(((qe=j.value.at(-1))==null?void 0:qe.props.title)??""),y.value=!0,gr(()=>te.value=!1)):(!n.multiple&&oe.value==null&&(j.value=[]),P.value=!1,(n.multiple||Fe.value)&&(oe.value=""),O.value=-1))}),Wn(oe,tn=>{!g.value||te.value||(tn&&(P.value=!0),y.value=!tn)}),Wn(P,()=>{if(!n.hideSelected&&P.value&&j.value.length){const tn=ne.value.findIndex(Cn=>j.value.some(qe=>Cn.value===qe.value));ka&&window.requestAnimationFrame(()=>{var Cn;tn>=0&&((Cn=R.value)==null||Cn.scrollToIndex(tn))})}}),Wn(()=>n.items,(tn,Cn)=>{P.value||g.value&&!Cn.length&&tn.length&&(P.value=!0)}),Ls(()=>{const tn=!!(!n.hideNoData||ne.value.length||l["prepend-item"]||l["append-item"]||l["no-data"]),Cn=j.value.length>0,qe=gL.filterProps(n);return Ne(gL,fs({ref:h},qe,{modelValue:oe.value,"onUpdate:modelValue":[st=>oe.value=st,Gt],focused:g.value,"onUpdate:focused":st=>g.value=st,validationValue:j.externalValue,counterValue:fe.value,dirty:Cn,onChange:$e,class:["v-autocomplete",`v-autocomplete--${n.multiple?"multiple":"single"}`,{"v-autocomplete--active-menu":P.value,"v-autocomplete--chips":!!n.chips,"v-autocomplete--selection-slot":!!Fe.value,"v-autocomplete--selecting-index":O.value>-1},n.class],style:n.style,readonly:le.isReadonly.value,placeholder:Cn?void 0:n.placeholder,"onClick:clear":rn,"onMousedown:control":ct,onKeydown:ot}),{...l,default:()=>De(hs,null,[Ne(GL,fs({ref:A,modelValue:P.value,"onUpdate:modelValue":st=>P.value=st,activator:"parent",contentClass:"v-autocomplete__content",disabled:Oe.value,eager:n.eager,maxHeight:310,openOnClick:!1,closeOnContentClick:!1,transition:n.transition,onAfterEnter:ht,onAfterLeave:Dn},n.menuProps),{default:()=>[tn&&Ne(JO,fs({ref:Nt,selected:Ze.value,selectStrategy:n.multiple?"independent":"single-independent",onMousedown:st=>st.preventDefault(),onKeydown:Tt,onFocusin:mn,onFocusout:Fn,tabindex:"-1","aria-live":"polite",color:n.itemColor??n.color},Kt,n.listProps),{default:()=>{var st,xe,Re;return[(st=l["prepend-item"])==null?void 0:st.call(l),!ne.value.length&&!n.hideNoData&&(((xe=l["no-data"])==null?void 0:xe.call(l))??Ne(wf,{key:"no-data",title:d(n.noDataText)},null)),Ne(nee,{ref:R,renderless:!0,items:ne.value,itemKey:"value"},{default:Ue=>{var pt;let{item:ye,index:_e,itemRef:Be}=Ue;const Ye=fs(ye.props,{ref:Be,key:ye.value,active:rt.value&&_e===0?!0:void 0,onClick:()=>So(ye,null)});return((pt=l.item)==null?void 0:pt.call(l,{item:ye,index:_e,props:Ye}))??Ne(wf,fs(Ye,{role:"option"}),{prepend:fn=>{let{isSelected:qt}=fn;return De(hs,null,[n.multiple&&!n.hideSelected?Ne(KQ,{key:ye.value,modelValue:qt,ripple:!1,tabindex:"-1"},null):void 0,ye.props.prependAvatar&&Ne(ux,{image:ye.props.prependAvatar},null),ye.props.prependIcon&&Ne(Yo,{icon:ye.props.prependIcon},null)])},title:()=>{var fn;return y.value?ye.title:v1e("v-autocomplete",ye.title,(fn=de(ye))==null?void 0:fn.title)}})}}),(Re=l["append-item"])==null?void 0:Re.call(l)]}})]}),j.value.map((st,xe)=>{function Re(Be){Be.stopPropagation(),Be.preventDefault(),So(st,!1)}const Ue={"onClick:close":Re,onKeydown(Be){Be.key!=="Enter"&&Be.key!==" "||(Be.preventDefault(),Be.stopPropagation(),Re(Be))},onMousedown(Be){Be.preventDefault(),Be.stopPropagation()},modelValue:!0,"onUpdate:modelValue":void 0},ye=be.value?!!l.chip:!!l.selection,_e=ye?CU(be.value?l.chip({item:st,index:xe,props:Ue}):l.selection({item:st,index:xe})):void 0;if(!(ye&&!_e))return De("div",{key:st.value,class:zo(["v-autocomplete__selection",xe===O.value&&["v-autocomplete__selection--selected",W.value]]),style:Rs(xe===O.value?X.value:{})},[be.value?l.chip?Ne(el,{key:"chip-defaults",defaults:{VChip:{closable:n.closableChips,size:"small",text:st.title}}},{default:()=>[_e]}):Ne(eee,fs({key:"chip",closable:n.closableChips,size:"small",text:st.title,disabled:st.props.disabled},Ue),null):_e??De("span",{class:"v-autocomplete__selection-text"},[st.title,n.multiple&&xe<j.value.length-1&&De("span",{class:"v-autocomplete__selection-comma"},[ja(",")])])])})]),"append-inner":function(){var Ue,ye;for(var st=arguments.length,xe=new Array(st),Re=0;Re<st;Re++)xe[Re]=arguments[Re];return De(hs,null,[(Ue=l["append-inner"])==null?void 0:Ue.call(l,...xe),n.menuIcon?Ne(Yo,{class:"v-autocomplete__menu-icon",color:(ye=h.value)==null?void 0:ye.fieldIconColor,icon:n.menuIcon,onMousedown:Tn,onClick:Wde,"aria-label":d(wt.value),title:d(wt.value),tabindex:"-1"},null):void 0])}})}),Qk({isFocused:g,isPristine:y,menu:P,search:oe,filteredItems:q,select:So},h)}}),w1e={class:"sr-only"},C1e={class:"sr-only"},S1e={__name:"Tasks",setup(n){const r=Bt.tasks(),l=go(!1),d=go(!1),h=go("");async function g(){await gr(),l.value&&(d.value=!0,h.value="")}async function y(){l.value=!1,r.selectTask(h.value)}return(w,A)=>(Uo(),Ba(hs,null,[Ne(Xs,{class:"app-header-item",disabled:tt(r).currentKey==tt(r).firstKey,onClick:A[0]||(A[0]=R=>tt(r).selectTask(tt(r).previousKey))},{default:pn(()=>[Ne(Yo,{left:"",icon:"mdi-arrow-left-bold"}),De("span",w1e,jt(w.$t("tasksPreviousTask")),1)]),_:1},8,["disabled"]),Ne(Xs,{class:"app-header-item",id:"app-tasks-menu-activator"},{default:pn(()=>[ns(De("span",null,jt(tt(r).currentTask.title),513),[[Ms,tt(r).currentKey!==null]])]),_:1}),Ne(GL,{modelValue:l.value,"onUpdate:modelValue":[A[3]||(A[3]=R=>l.value=R),A[4]||(A[4]=R=>g())],activator:"#app-tasks-menu-activator","close-on-content-click":!1},{default:pn(()=>[d.value?(Uo(),Jr(x1e,{key:0,id:"app-items-autocomplete",modelValue:h.value,"onUpdate:modelValue":[A[1]||(A[1]=R=>h.value=R),A[2]||(A[2]=R=>y())],items:tt(r).sortedTasks,menu:!0,"item-title":"title","item-value":"key",autofocus:"","auto-select-first":"",class:"flex-full-width",density:"comfortable","item-props":"","menu-icon":"",placeholder:w.$t("tasksTasks"),"prepend-inner-icon":"mdi-magnify",theme:"light",variant:"solo"},null,8,["modelValue","items","placeholder"])):ql("",!0)]),_:1},8,["modelValue"]),Ne(Xs,{class:"app-header-item",disabled:tt(r).currentKey==tt(r).lastKey,onClick:A[5]||(A[5]=R=>tt(r).selectTask(tt(r).nextKey))},{default:pn(()=>[Ne(Yo,{left:"",icon:"mdi-arrow-right-bold"}),De("span",C1e,jt(w.$t("tasksNextTask")),1)]),_:1},8,["disabled"])],64))}},_1e={__name:"Timer",setup(n){const r=Bt.writer(),l=Bt.layout();function d(h){const g=("00"+Math.floor(h)%60).slice(-2),y=("00"+Math.floor(h/60)%60).slice(-2),w=("00"+Math.floor(h/3600)%24).slice(-2),A=Math.floor(h/86400);return A>1?A+" Tage "+w+" Stunden":A>0?A+" Tag "+w+" Stunden":w!="00"?w+":"+y+":"+g+" Stunden":y!="00"?y+":"+g+" Minuten":g+" Sekunden"}return(h,g)=>ns((Uo(),Jr(Xs,{class:"app-header-item",onClick:g[0]||(g[0]=y=>tt(l).toggleTimer())},{default:pn(()=>[Ne(Yo,{left:"",icon:"mdi-clock-outline"}),ns(De("span",null,jt(d(tt(r).remaining_time)),513),[[Ms,tt(l).showTimer]]),ns(De("span",null,"Restzeit",512),[[Ms,!tt(l).showTimer]])]),_:1},512)),[[Ms,!tt(r).writingEndReached]])}},ree=Kn({text:String,...Js(),...Pi()},"VToolbarTitle"),aee=Xo()({name:"VToolbarTitle",props:ree(),setup(n,r){let{slots:l}=r;return Ls(()=>{const d=!!(l.default||l.text||n.text);return Ne(n.tag,{class:zo(["v-toolbar-title",n.class]),style:Rs(n.style)},{default:()=>{var h;return[d&&De("div",{class:"v-toolbar-title__placeholder"},[l.text?l.text():n.text,(h=l.default)==null?void 0:h.call(l)])]}})}),{}}}),k1e=[null,"prominent","default","comfortable","compact"],iee=Kn({absolute:Boolean,collapse:Boolean,color:String,density:{type:String,default:"default",validator:n=>k1e.includes(n)},extended:Boolean,extensionHeight:{type:[Number,String],default:48},flat:Boolean,floating:Boolean,height:{type:[Number,String],default:64},image:String,title:String,...l1(),...Js(),...u1(),...hg(),...Pi({tag:"header"}),...Gl()},"VToolbar"),EG=Xo()({name:"VToolbar",props:iee(),setup(n,r){var z;let{slots:l}=r;const{backgroundColorClasses:d,backgroundColorStyles:h}=Fp(()=>n.color),{borderClasses:g}=c1(n),{elevationClasses:y}=d1(n),{roundedClasses:w}=pg(n),{themeClasses:A}=Uc(n),{rtlClasses:R}=Ah(),O=Oo(!!(n.extended||(z=l.extension)!=null&&z.call(l))),N=Mt(()=>parseInt(Number(n.height)+(n.density==="prominent"?Number(n.height):0)-(n.density==="comfortable"?8:0)-(n.density==="compact"?16:0),10)),V=Mt(()=>O.value?parseInt(Number(n.extensionHeight)+(n.density==="prominent"?Number(n.extensionHeight):0)-(n.density==="comfortable"?4:0)-(n.density==="compact"?8:0),10):0);return hx({VBtn:{variant:"text"}}),Ls(()=>{var j;const W=!!(n.title||l.title),X=!!(l.image||n.image),oe=(j=l.extension)==null?void 0:j.call(l);return O.value=!!(n.extended||oe),Ne(n.tag,{class:zo(["v-toolbar",{"v-toolbar--absolute":n.absolute,"v-toolbar--collapse":n.collapse,"v-toolbar--flat":n.flat,"v-toolbar--floating":n.floating,[`v-toolbar--density-${n.density}`]:!0},d.value,g.value,y.value,w.value,A.value,R.value,n.class]),style:Rs([h.value,n.style])},{default:()=>[X&&De("div",{key:"image",class:"v-toolbar__image"},[l.image?Ne(el,{key:"image-defaults",disabled:!n.image,defaults:{VImg:{cover:!0,src:n.image}}},l.image):Ne(ZL,{key:"image-img",cover:!0,src:n.image},null)]),Ne(el,{defaults:{VTabs:{height:Os(N.value)}}},{default:()=>{var fe,le,q;return[De("div",{class:"v-toolbar__content",style:{height:Os(N.value)}},[l.prepend&&De("div",{class:"v-toolbar__prepend"},[(fe=l.prepend)==null?void 0:fe.call(l)]),W&&Ne(aee,{key:"title",text:n.title},{text:l.title}),(le=l.default)==null?void 0:le.call(l),l.append&&De("div",{class:"v-toolbar__append"},[(q=l.append)==null?void 0:q.call(l)])])]}}),Ne(el,{defaults:{VTabs:{height:Os(V.value)}}},{default:()=>[Ne(xQ,null,{default:()=>[O.value&&De("div",{class:"v-toolbar__extension",style:{height:Os(V.value)}},[oe])]})]})]})}),{contentHeight:N,extensionHeight:V}}}),E1e=Kn({scrollTarget:{type:String},scrollThreshold:{type:[String,Number],default:300}},"scroll");function A1e(n){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{canScroll:l}=r;let d=0,h=0;const g=go(null),y=Oo(0),w=Oo(0),A=Oo(0),R=Oo(!1),O=Oo(!1),N=Mt(()=>Number(n.scrollThreshold)),V=Mt(()=>vm((N.value-y.value)/N.value||0)),z=()=>{const W=g.value;if(!W||l&&!l.value)return;d=y.value,y.value="window"in W?W.pageYOffset:W.scrollTop;const X=W instanceof Window?document.documentElement.scrollHeight:W.scrollHeight;if(h!==X){h=X;return}O.value=y.value<d,A.value=Math.abs(y.value-N.value)};return Wn(O,()=>{w.value=w.value||y.value}),Wn(R,()=>{w.value=0}),bu(()=>{Wn(()=>n.scrollTarget,W=>{var oe;const X=W?document.querySelector(W):window;X&&X!==g.value&&((oe=g.value)==null||oe.removeEventListener("scroll",z),g.value=X,g.value.addEventListener("scroll",z,{passive:!0}))},{immediate:!0})}),zc(()=>{var W;(W=g.value)==null||W.removeEventListener("scroll",z)}),l&&Wn(l,z,{immediate:!0}),{scrollThreshold:N,currentScroll:y,currentThreshold:A,isScrollActive:R,scrollRatio:V,isScrollingUp:O,savedScroll:w}}const T1e=Kn({scrollBehavior:String,modelValue:{type:Boolean,default:!0},location:{type:String,default:"top",validator:n=>["top","bottom"].includes(n)},...iee(),...JX(),...E1e(),height:{type:[Number,String],default:64}},"VAppBar"),lee=Xo()({name:"VAppBar",props:T1e(),emits:{"update:modelValue":n=>!0},setup(n,r){let{slots:l}=r;const d=go(),h=Ni(n,"modelValue"),g=Mt(()=>{var le;const fe=new Set(((le=n.scrollBehavior)==null?void 0:le.split(" "))??[]);return{hide:fe.has("hide"),fullyHide:fe.has("fully-hide"),inverted:fe.has("inverted"),collapse:fe.has("collapse"),elevate:fe.has("elevate"),fadeImage:fe.has("fade-image")}}),y=Mt(()=>{const fe=g.value;return fe.hide||fe.fullyHide||fe.inverted||fe.collapse||fe.elevate||fe.fadeImage||!h.value}),{currentScroll:w,scrollThreshold:A,isScrollingUp:R,scrollRatio:O}=A1e(n,{canScroll:y}),N=Rn(()=>g.value.hide||g.value.fullyHide),V=Mt(()=>n.collapse||g.value.collapse&&(g.value.inverted?O.value>0:O.value===0)),z=Mt(()=>n.flat||g.value.fullyHide&&!h.value||g.value.elevate&&(g.value.inverted?w.value>0:w.value===0)),W=Mt(()=>g.value.fadeImage?g.value.inverted?1-O.value:O.value:void 0),X=Mt(()=>{var q,de;if(g.value.hide&&g.value.inverted)return 0;const fe=((q=d.value)==null?void 0:q.contentHeight)??0,le=((de=d.value)==null?void 0:de.extensionHeight)??0;return N.value?w.value<A.value||g.value.fullyHide?fe+le:fe:fe+le});Eh(()=>!!n.scrollBehavior,()=>{Ef(()=>{N.value?g.value.inverted?h.value=w.value>A.value:h.value=R.value||w.value<A.value:h.value=!0})});const{ssrBootStyles:oe}=qL(),{layoutItemStyles:j}=QX({id:n.name,order:Mt(()=>parseInt(n.order,10)),position:Rn(()=>n.location),layoutSize:X,elementSize:Oo(void 0),active:h,absolute:Rn(()=>n.absolute)});return Ls(()=>{const fe=EG.filterProps(n);return Ne(EG,fs({ref:d,class:["v-app-bar",{"v-app-bar--bottom":n.location==="bottom"},n.class],style:[{...j.value,"--v-toolbar-image-opacity":W.value,height:void 0,...oe.value},n.style]},fe,{collapse:V.value,flat:z.value}),l)}),{}}}),O1e=Xo()({name:"VAppBarTitle",props:ree(),setup(n,r){let{slots:l}=r;return Ls(()=>Ne(aee,fs(n,{class:"v-app-bar-title"}),l)),{}}}),R1e=Kn({fluid:{type:Boolean,default:!1},...Js(),...Up(),...Pi()},"VContainer"),cee=Xo()({name:"VContainer",props:R1e(),setup(n,r){let{slots:l}=r;const{rtlClasses:d}=Ah(),{dimensionStyles:h}=Wp(n);return Ls(()=>Ne(n.tag,{class:zo(["v-container",{"v-container--fluid":n.fluid},d.value,n.class]),style:Rs([h.value,n.style])},l)),{}}}),uee=OL.reduce((n,r)=>(n[r]={type:[Boolean,String,Number],default:!1},n),{}),dee=OL.reduce((n,r)=>{const l="offset"+a1(r);return n[l]={type:[String,Number],default:null},n},{}),fee=OL.reduce((n,r)=>{const l="order"+a1(r);return n[l]={type:[String,Number],default:null},n},{}),AG={col:Object.keys(uee),offset:Object.keys(dee),order:Object.keys(fee)};function D1e(n,r,l){let d=n;if(!(l==null||l===!1)){if(r){const h=r.replace(n,"");d+=`-${h}`}return n==="col"&&(d="v-"+d),n==="col"&&(l===""||l===!0)||(d+=`-${l}`),d.toLowerCase()}}const N1e=["auto","start","end","center","baseline","stretch"],I1e=Kn({cols:{type:[Boolean,String,Number],default:!1},...uee,offset:{type:[String,Number],default:null},...dee,order:{type:[String,Number],default:null},...fee,alignSelf:{type:String,default:null,validator:n=>N1e.includes(n)},...Js(),...Pi()},"VCol"),tv=Xo()({name:"VCol",props:I1e(),setup(n,r){let{slots:l}=r;const d=Mt(()=>{const h=[];let g;for(g in AG)AG[g].forEach(w=>{const A=n[w],R=D1e(g,w,A);R&&h.push(R)});const y=h.some(w=>w.startsWith("v-col-"));return h.push({"v-col":!y||!n.cols,[`v-col-${n.cols}`]:n.cols,[`offset-${n.offset}`]:n.offset,[`order-${n.order}`]:n.order,[`align-self-${n.alignSelf}`]:n.alignSelf}),h});return()=>{var h;return rv(n.tag,{class:[d.value,n.class],style:n.style},(h=l.default)==null?void 0:h.call(l))}}}),XU=["start","end","center"],mee=["space-between","space-around","space-evenly"];function JU(n,r){return OL.reduce((l,d)=>{const h=n+a1(d);return l[h]=r(),l},{})}const P1e=[...XU,"baseline","stretch"],gee=n=>P1e.includes(n),hee=JU("align",()=>({type:String,default:null,validator:gee})),B1e=[...XU,...mee],pee=n=>B1e.includes(n),bee=JU("justify",()=>({type:String,default:null,validator:pee})),M1e=[...XU,...mee,"stretch"],vee=n=>M1e.includes(n),yee=JU("alignContent",()=>({type:String,default:null,validator:vee})),TG={align:Object.keys(hee),justify:Object.keys(bee),alignContent:Object.keys(yee)},L1e={align:"align",justify:"justify",alignContent:"align-content"};function F1e(n,r,l){let d=L1e[n];if(l!=null){if(r){const h=r.replace(n,"");d+=`-${h}`}return d+=`-${l}`,d.toLowerCase()}}const $1e=Kn({dense:Boolean,noGutters:Boolean,align:{type:String,default:null,validator:gee},...hee,justify:{type:String,default:null,validator:pee},...bee,alignContent:{type:String,default:null,validator:vee},...yee,...Js(),...Pi()},"VRow"),$M=Xo()({name:"VRow",props:$1e(),setup(n,r){let{slots:l}=r;const d=Mt(()=>{const h=[];let g;for(g in TG)TG[g].forEach(y=>{const w=n[y],A=F1e(g,y,w);A&&h.push(A)});return h.push({"v-row--no-gutters":n.noGutters,"v-row--dense":n.dense,[`align-${n.align}`]:n.align,[`justify-${n.justify}`]:n.justify,[`align-content-${n.alignContent}`]:n.alignContent}),h});return()=>{var h;return rv(n.tag,{class:["v-row",d.value,n.class],style:n.style},(h=l.default)==null?void 0:h.call(l))}}}),QU=TL("v-spacer","div","VSpacer"),V1e={__name:"AppBar",setup(n){const r=Bt.api(),l=Bt.writer(),d=Bt.alert(),h=Bt.essay(),g=Bt.layout();async function y(){if(g.focusTarget=="header"){await gr();for(const O of document.getElementsByClassName("app-header-item")){O.focus();break}}}Wn(()=>g.focusChange,y);function w(){return l.writer_name==null?"":l.writer_name}async function A(){await h.checkUpdates(!0),await r.saveChangesToBackend(!0),window.location=r.returnUrl}async function R(){await h.checkUpdates(!0),await gr(),g.setReview(!0)}return(O,N)=>(Uo(),Jr(lee,{elevation:"1",color:"white",density:"compact"},{default:pn(()=>[Ne(O1e,null,{default:pn(()=>[ja(jt(w()),1)]),_:1}),Ne(S1e),Ne(QU),Ne(M0e),tt(d).hasAlerts?(Uo(),Jr(A0e,{key:0})):ql("",!0),tt(l).hasWritingEnd?(Uo(),Jr(_1e,{key:1})):ql("",!0),ns(Ne(Xs,{class:"app-header-item",onClick:A},{default:pn(()=>[Ne(Yo,{left:"",icon:"mdi-pause"}),De("span",null,jt(O.$t("appBarInterrupt")),1)]),_:1},512),[[Ms,!tt(g).isReview]]),ns(Ne(Xs,{class:"app-header-item",onClick:R},{default:pn(()=>[Ne(Yo,{left:"",icon:"mdi-eye"}),De("span",null,jt(O.$t("appBarReview")),1)]),_:1},512),[[Ms,!tt(g).isReview]])]),_:1}))}};class H1e{async saveFile(r,l){if("showSaveFilePicker"in window&&(()=>{try{return window.self===window.top}catch{return!1}})())try{const w=await(await showSaveFilePicker({suggestedName:l})).createWritable();await w.write(r),await w.close();return}catch(y){if(y.name!=="AbortError"){console.error(y.name,y.message);return}}const h=URL.createObjectURL(r),g=document.createElement("a");g.href=h,g.download=l,g.style.display="none",document.body.append(g),g.click(),setTimeout(()=>{URL.revokeObjectURL(h),g.remove()},1e3)}}const z1e=TL("v-alert-title"),U1e=["success","info","warning","error"],W1e=Kn({border:{type:[Boolean,String],validator:n=>typeof n=="boolean"||["top","end","bottom","start"].includes(n)},borderColor:String,closable:Boolean,closeIcon:{type:aa,default:"$close"},closeLabel:{type:String,default:"$vuetify.close"},icon:{type:[Boolean,String,Function,Object],default:null},modelValue:{type:Boolean,default:!0},prominent:Boolean,title:String,text:String,type:{type:String,validator:n=>U1e.includes(n)},...Js(),...Th(),...Up(),...u1(),...zL(),...VU(),...hg(),...Pi(),...Gl(),...f1({variant:"flat"})},"VAlert"),G9=Xo()({name:"VAlert",props:W1e(),emits:{"click:close":n=>!0,"update:modelValue":n=>!0},setup(n,r){let{emit:l,slots:d}=r;const h=Ni(n,"modelValue"),g=Rn(()=>{if(n.icon!==!1)return n.type?n.icon??`$${n.type}`:n.icon}),{themeClasses:y}=Uc(n),{colorClasses:w,colorStyles:A,variantClasses:R}=Xk(()=>({color:n.color??n.type,variant:n.variant})),{densityClasses:O}=zp(n),{dimensionStyles:N}=Wp(n),{elevationClasses:V}=d1(n),{locationStyles:z}=UL(n),{positionClasses:W}=HU(n),{roundedClasses:X}=pg(n),{textColorClasses:oe,textColorStyles:j}=Vp(()=>n.borderColor),{t:fe}=sR(),le=Rn(()=>({"aria-label":fe(n.closeLabel),onClick(q){h.value=!1,l("click:close",q)}}));return()=>{const q=!!(d.prepend||g.value),de=!!(d.title||n.title),ne=!!(d.close||n.closable);return h.value&&Ne(n.tag,{class:zo(["v-alert",n.border&&{"v-alert--border":!!n.border,[`v-alert--border-${n.border===!0?"start":n.border}`]:!0},{"v-alert--prominent":n.prominent},y.value,w.value,O.value,V.value,W.value,X.value,R.value,n.class]),style:Rs([A.value,N.value,z.value,n.style]),role:"alert"},{default:()=>{var be,Fe;return[Yk(!1,"v-alert"),n.border&&De("div",{key:"border",class:zo(["v-alert__border",oe.value]),style:Rs(j.value)},null),q&&De("div",{key:"prepend",class:"v-alert__prepend"},[d.prepend?Ne(el,{key:"prepend-defaults",disabled:!g.value,defaults:{VIcon:{density:n.density,icon:g.value,size:n.prominent?44:28}}},d.prepend):Ne(Yo,{key:"prepend-icon",density:n.density,icon:g.value,size:n.prominent?44:28},null)]),De("div",{class:"v-alert__content"},[de&&Ne(z1e,{key:"title"},{default:()=>{var Ze;return[((Ze=d.title)==null?void 0:Ze.call(d))??n.title]}}),((be=d.text)==null?void 0:be.call(d))??n.text,(Fe=d.default)==null?void 0:Fe.call(d)]),d.append&&De("div",{key:"append",class:"v-alert__append"},[d.append()]),ne&&De("div",{key:"close",class:"v-alert__close"},[d.close?Ne(el,{key:"close-defaults",defaults:{VBtn:{icon:n.closeIcon,size:"x-small",variant:"text"}}},{default:()=>{var Ze;return[(Ze=d.close)==null?void 0:Ze.call(d,{props:le.value})]}}):Ne(Xs,fs({key:"close-btn",icon:n.closeIcon,size:"x-small",variant:"text"},le.value),null)])]}})}}}),j1e={__name:"SendingStatus",setup(n){const r=Bt.api(),l=Bt.layout(),d=Bt.essay();Bt.tasks();const h=Bt.writer(),g=Bt.changes(),y=go(!1),w=go(!1),A=go(new Pk),R=go({});R.value[Us.TYPE_STEPS]="sendingStatusWritingSteps",R.value[Us.TYPE_NOTES]="sendingStatusNotes",R.value[Us.TYPE_ANNOTATIONS]="sendingStatusAnnotations",R.value[Us.TYPE_PREFERENCES]="sendingStatusPreferences";function O(X){return new Date(X).toLocaleString()}function N(){y.value=!1,w.value=!1,A.value=new Pk,l.showSendingStatus=!0}function V(){l.showSendingStatus=!1}async function z(){w.value=!1,y.value=!0;const X=await r.saveChangesToBackend(!0);if(X&&!X.success){A.value=X,y.value=!1,w.value=!0;return}y.value=!1}async function W(X){const oe=new H1e,j=new Blob([d.editEssays[Vk.buildKey(X.task_id)].content],{type:"text/html"});await oe.saveFile(j,X.title+"-"+h.writer_name+".html")}return(X,oe)=>(Uo(),Jr(JO,{tabindex:"-1"},{default:pn(()=>[Ne(wf,{tabindex:"-1",onClick:oe[0]||(oe[0]=j=>N()),"aria-label":tt(r).isSending?X.$t("sendingStatusSending"):tt(r).isAllSent?X.$t("sendingStatusAllSent"):X.$t("sendingStatusOpenSendings"),title:tt(r).isSending?X.$t("sendingStatusSending"):tt(r).isAllSent?X.$t("sendingStatusAllSent"):X.$t("sendingStatusOpenSendings")},{prepend:pn(()=>[Ne(Yo,{"aria-role":"hidden",icon:tt(r).isSending?"mdi-cloud-upload":tt(r).isAllSent?"mdi-cloud-check-outline":"mdi-cloud-outline"},null,8,["icon"])]),_:1},8,["aria-label","title"]),Ne(fx,{modelValue:tt(l).showSendingStatus,"onUpdate:modelValue":oe[4]||(oe[4]=j=>tt(l).showSendingStatus=j),"max-width":"1000"},{default:pn(()=>[Ne(dx,null,{default:pn(()=>[Ne(r1,null,{default:pn(()=>[ns(Ne(G9,null,{default:pn(()=>[ja(jt(X.$t("sendingStatusSending")),1)]),_:1},512),[[Ms,y.value]]),ns(Ne(G9,null,{default:pn(()=>[ja(jt(X.$t("sendingStatusError"))+" ",1),oe[5]||(oe[5]=De("br",null,null,-1)),ja(jt(A.value.message)+" ",1),oe[6]||(oe[6]=De("br",null,null,-1)),ja(jt(A.value.details),1)]),_:1,__:[5,6]},512),[[Ms,w.value]]),Ne(cee,null,{default:pn(()=>[Ne($M,null,{default:pn(()=>[Ne(tv,{cols:"6"},{default:pn(()=>[ja(jt(X.$t("sendingStatusLastBrowserSave")),1)]),_:1}),Ne(tv,{cols:"6"},{default:pn(()=>[ja(jt(tt(g).lastSave>0?O(tt(g).lastSave):X.$t("sendingStatusNone")),1)]),_:1})]),_:1}),Ne($M,null,{default:pn(()=>[Ne(tv,{cols:"6"},{default:pn(()=>[ja(jt(X.$t("sendingStatusLastSending")),1)]),_:1}),Ne(tv,{cols:"6"},{default:pn(()=>[ja(jt(tt(g).lastSendingSuccess>0?O(tt(g).lastSendingSuccess):X.$t("sendingStatusNone")),1)]),_:1})]),_:1}),(Uo(!0),Ba(hs,null,Mp(Object.keys(R.value),j=>(Uo(),Jr($M,null,{default:pn(()=>[Ne(tv,{cols:"6"},{default:pn(()=>[ja(jt(X.$t(R.value[j])),1)]),_:2},1024),Ne(tv,{cols:"6"},{default:pn(()=>[ja(jt(tt(g).hasWritingChanges?X.$t("sendingStatusNumNotSent",tt(g).getChangesCount(j)):X.$t("sendingStatusAllSent")),1)]),_:2},1024)]),_:2},1024))),256))]),_:1})]),_:1}),Ne(s1,null,{default:pn(()=>[Ne(Xs,{onClick:oe[1]||(oe[1]=j=>z())},{default:pn(()=>[Ne(Yo,{left:"",icon:"mdi-file-send-outline"}),De("span",null,jt(X.$t("sendingStatusSend")),1)]),_:1}),Ne(Xs,{onClick:oe[2]||(oe[2]=j=>W()),id:"app-export-menu-activator"},{default:pn(()=>[Ne(Yo,{left:"",icon:"mdi-file-download-outline"}),De("span",null,jt(X.$t("sendingStatusExport")),1)]),_:1}),Ne(GL,{activator:"#app-export-menu-activator"},{default:pn(()=>[Ne(JO,null,{default:pn(()=>[(Uo(!0),Ba(hs,null,Mp(tt(Bt).tasks().sortedTasks,j=>(Uo(),Jr(wf,{key:j.task_id,value:j.task_id},{default:pn(()=>[Ne(LQ,{onClick:fe=>W(j)},{default:pn(()=>[ja(jt(j.title),1)]),_:2},1032,["onClick"])]),_:2},1032,["value"]))),128))]),_:1})]),_:1}),Ne(Xs,{onClick:oe[3]||(oe[3]=j=>V())},{default:pn(()=>[Ne(Yo,{left:"",icon:"mdi-close"}),De("span",null,jt(X.$t("allClose")),1)]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1}))}};function Z1e(n){let{rootEl:r,isSticky:l,layoutItemStyles:d}=n;const h=Oo(!1),g=Oo(0),y=Mt(()=>{const R=typeof h.value=="boolean"?"top":h.value;return[l.value?{top:"auto",bottom:"auto",height:void 0}:void 0,h.value?{[R]:Os(g.value)}:{top:d.value.top}]});bu(()=>{Wn(l,R=>{R?window.addEventListener("scroll",A,{passive:!0}):window.removeEventListener("scroll",A)},{immediate:!0})}),zc(()=>{window.removeEventListener("scroll",A)});let w=0;function A(){const R=w>window.scrollY?"up":"down",O=r.value.getBoundingClientRect(),N=parseFloat(d.value.top??0),V=window.scrollY-Math.max(0,g.value-N),z=O.height+Math.max(g.value,N)-window.scrollY-window.innerHeight,W=parseFloat(getComputedStyle(r.value).getPropertyValue("--v-body-scroll-y"))||0;O.height<window.innerHeight-N?(h.value="top",g.value=N):R==="up"&&h.value==="bottom"||R==="down"&&h.value==="top"?(g.value=window.scrollY+O.top-W,h.value=!0):R==="down"&&z<=0?(g.value=0,h.value="bottom"):R==="up"&&V<=0&&(W?h.value!=="top"&&(g.value=-V+W+N,h.value="top"):(g.value=O.top+V,h.value="top")),w=window.scrollY}return{isStuck:h,stickyStyles:y}}const K1e=100,q1e=20;function OG(n){return(n<0?-1:1)*Math.sqrt(Math.abs(n))*1.41421356237}function RG(n){if(n.length<2)return 0;if(n.length===2)return n[1].t===n[0].t?0:(n[1].d-n[0].d)/(n[1].t-n[0].t);let r=0;for(let l=n.length-1;l>0;l--){if(n[l].t===n[l-1].t)continue;const d=OG(r),h=(n[l].d-n[l-1].d)/(n[l].t-n[l-1].t);r+=(h-d)*Math.abs(h),l===n.length-1&&(r*=.5)}return OG(r)*1e3}function G1e(){const n={};function r(h){Array.from(h.changedTouches).forEach(g=>{(n[g.identifier]??(n[g.identifier]=new AX(q1e))).push([h.timeStamp,g])})}function l(h){Array.from(h.changedTouches).forEach(g=>{delete n[g.identifier]})}function d(h){var R;const g=(R=n[h])==null?void 0:R.values().reverse();if(!g)throw new Error(`No samples for touch id ${h}`);const y=g[0],w=[],A=[];for(const O of g){if(y[0]-O[0]>K1e)break;w.push({t:O[0],d:O[1].clientX}),A.push({t:O[0],d:O[1].clientY})}return{x:RG(w),y:RG(A),get direction(){const{x:O,y:N}=this,[V,z]=[Math.abs(O),Math.abs(N)];return V>z&&O>=0?"right":V>z&&O<=0?"left":z>V&&N>=0?"down":z>V&&N<=0?"up":Y1e()}}}return{addMovement:r,endTouch:l,getVelocity:d}}function Y1e(){throw new Error}function X1e(n){let{el:r,isActive:l,isTemporary:d,width:h,touchless:g,position:y}=n;bu(()=>{window.addEventListener("touchstart",fe,{passive:!0}),window.addEventListener("touchmove",le,{passive:!1}),window.addEventListener("touchend",q,{passive:!0})}),zc(()=>{window.removeEventListener("touchstart",fe),window.removeEventListener("touchmove",le),window.removeEventListener("touchend",q)});const w=Mt(()=>["left","right"].includes(y.value)),{addMovement:A,endTouch:R,getVelocity:O}=G1e();let N=!1;const V=Oo(!1),z=Oo(0),W=Oo(0);let X;function oe(ne,be){return(y.value==="left"?ne:y.value==="right"?document.documentElement.clientWidth-ne:y.value==="top"?ne:y.value==="bottom"?document.documentElement.clientHeight-ne:_k())-(be?h.value:0)}function j(ne){let be=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const Fe=y.value==="left"?(ne-W.value)/h.value:y.value==="right"?(document.documentElement.clientWidth-ne-W.value)/h.value:y.value==="top"?(ne-W.value)/h.value:y.value==="bottom"?(document.documentElement.clientHeight-ne-W.value)/h.value:_k();return be?vm(Fe):Fe}function fe(ne){if(g.value)return;const be=ne.changedTouches[0].clientX,Fe=ne.changedTouches[0].clientY,Ze=25,rt=y.value==="left"?be<Ze:y.value==="right"?be>document.documentElement.clientWidth-Ze:y.value==="top"?Fe<Ze:y.value==="bottom"?Fe>document.documentElement.clientHeight-Ze:_k(),Oe=l.value&&(y.value==="left"?be<h.value:y.value==="right"?be>document.documentElement.clientWidth-h.value:y.value==="top"?Fe<h.value:y.value==="bottom"?Fe>document.documentElement.clientHeight-h.value:_k());(rt||Oe||l.value&&d.value)&&(X=[be,Fe],W.value=oe(w.value?be:Fe,l.value),z.value=j(w.value?be:Fe),N=W.value>-20&&W.value<80,R(ne),A(ne))}function le(ne){const be=ne.changedTouches[0].clientX,Fe=ne.changedTouches[0].clientY;if(N){if(!ne.cancelable){N=!1;return}const rt=Math.abs(be-X[0]),Oe=Math.abs(Fe-X[1]);(w.value?rt>Oe&&rt>3:Oe>rt&&Oe>3)?(V.value=!0,N=!1):(w.value?Oe:rt)>3&&(N=!1)}if(!V.value)return;ne.preventDefault(),A(ne);const Ze=j(w.value?be:Fe,!1);z.value=Math.max(0,Math.min(1,Ze)),Ze>1?W.value=oe(w.value?be:Fe,!0):Ze<0&&(W.value=oe(w.value?be:Fe,!1))}function q(ne){if(N=!1,!V.value)return;A(ne),V.value=!1;const be=O(ne.changedTouches[0].identifier),Fe=Math.abs(be.x),Ze=Math.abs(be.y);(w.value?Fe>Ze&&Fe>400:Ze>Fe&&Ze>3)?l.value=be.direction===({left:"right",right:"left",top:"down",bottom:"up"}[y.value]||_k()):l.value=z.value>.5}const de=Mt(()=>V.value?{transform:y.value==="left"?`translateX(calc(-100% + ${z.value*h.value}px))`:y.value==="right"?`translateX(calc(100% - ${z.value*h.value}px))`:y.value==="top"?`translateY(calc(-100% + ${z.value*h.value}px))`:y.value==="bottom"?`translateY(calc(100% - ${z.value*h.value}px))`:_k(),transition:"none"}:void 0);return Eh(V,()=>{var Fe,Ze;const ne=((Fe=r.value)==null?void 0:Fe.style.transform)??null,be=((Ze=r.value)==null?void 0:Ze.style.transition)??null;Ef(()=>{var rt,Oe,Ve,P;(Oe=r.value)==null||Oe.style.setProperty("transform",((rt=de.value)==null?void 0:rt.transform)||"none"),(P=r.value)==null||P.style.setProperty("transition",((Ve=de.value)==null?void 0:Ve.transition)||null)}),Gu(()=>{var rt,Oe;(rt=r.value)==null||rt.style.setProperty("transform",ne),(Oe=r.value)==null||Oe.style.setProperty("transition",be)})}),{isDragging:V,dragProgress:z,dragStyles:de}}function _k(){throw new Error}const J1e=["start","end","left","right","top","bottom"],Q1e=Kn({color:String,disableResizeWatcher:Boolean,disableRouteWatcher:Boolean,expandOnHover:Boolean,floating:Boolean,modelValue:{type:Boolean,default:null},permanent:Boolean,rail:{type:Boolean,default:null},railWidth:{type:[Number,String],default:56},scrim:{type:[Boolean,String],default:!0},image:String,temporary:Boolean,persistent:Boolean,touchless:Boolean,width:{type:[Number,String],default:256},location:{type:String,default:"start",validator:n=>J1e.includes(n)},sticky:Boolean,...l1(),...Js(),..._Q(),...ZX({mobile:null}),...u1(),...JX(),...hg(),...Pi({tag:"nav"}),...Gl()},"VNavigationDrawer"),eye=Xo()({name:"VNavigationDrawer",props:Q1e(),emits:{"update:modelValue":n=>!0,"update:rail":n=>!0},setup(n,r){let{attrs:l,emit:d,slots:h}=r;const{isRtl:g}=Ah(),{themeClasses:y}=Uc(n),{borderClasses:w}=c1(n),{backgroundColorClasses:A,backgroundColorStyles:R}=Fp(()=>n.color),{elevationClasses:O}=d1(n),{displayClasses:N,mobile:V}=RL(n),{roundedClasses:z}=pg(n),W=aQ(),X=Ni(n,"modelValue",null,Tt=>!!Tt),{ssrBootStyles:oe}=qL(),{scopeId:j}=KL(),fe=go(),le=Oo(!1),{runOpenDelay:q,runCloseDelay:de}=kQ(n,Tt=>{le.value=Tt}),ne=Mt(()=>n.rail&&n.expandOnHover&&le.value?Number(n.width):Number(n.rail?n.railWidth:n.width)),be=Mt(()=>y9(n.location,g.value)),Fe=Rn(()=>n.persistent),Ze=Mt(()=>!n.permanent&&(V.value||n.temporary)),rt=Mt(()=>n.sticky&&!Ze.value&&be.value!=="bottom");Eh(()=>n.expandOnHover&&n.rail!=null,()=>{Wn(le,Tt=>d("update:rail",!Tt))}),Eh(()=>!n.disableResizeWatcher,()=>{Wn(Ze,Tt=>!n.permanent&&gr(()=>X.value=!Tt))}),Eh(()=>!n.disableRouteWatcher&&!!W,()=>{Wn(W.currentRoute,()=>Ze.value&&(X.value=!1))}),Wn(()=>n.permanent,Tt=>{Tt&&(X.value=!0)}),n.modelValue==null&&!Ze.value&&(X.value=n.permanent||!V.value);const{isDragging:Oe,dragProgress:Ve}=X1e({el:fe,isActive:X,isTemporary:Ze,width:ne,touchless:Rn(()=>n.touchless),position:be}),P=Mt(()=>{const Tt=Ze.value?0:n.rail&&n.expandOnHover?Number(n.railWidth):ne.value;return Oe.value?Tt*Ve.value:Tt}),{layoutItemStyles:wt,layoutItemScrimStyles:Nt}=QX({id:n.name,order:Mt(()=>parseInt(n.order,10)),position:be,layoutSize:P,elementSize:ne,active:Wk(X),disableTransitions:Rn(()=>Oe.value),absolute:Mt(()=>n.absolute||rt.value&&typeof Kt.value!="string")}),{isStuck:Kt,stickyStyles:rn}=Z1e({rootEl:fe,isSticky:rt,layoutItemStyles:wt}),ct=Fp(()=>typeof n.scrim=="string"?n.scrim:null),Tn=Mt(()=>({...Oe.value?{opacity:Ve.value*.2,transition:"none"}:void 0,...Nt.value}));return hx({VList:{bgColor:"transparent"}}),Ls(()=>{const Tt=h.image||n.image;return De(hs,null,[Ne(n.tag,fs({ref:fe,onMouseenter:q,onMouseleave:de,class:["v-navigation-drawer",`v-navigation-drawer--${be.value}`,{"v-navigation-drawer--expand-on-hover":n.expandOnHover,"v-navigation-drawer--floating":n.floating,"v-navigation-drawer--is-hovering":le.value,"v-navigation-drawer--rail":n.rail,"v-navigation-drawer--temporary":Ze.value,"v-navigation-drawer--persistent":Fe.value,"v-navigation-drawer--active":X.value,"v-navigation-drawer--sticky":rt.value},y.value,A.value,w.value,N.value,O.value,z.value,n.class],style:[R.value,wt.value,oe.value,rn.value,n.style]},j,l),{default:()=>{var ot,$e,ht;return[Tt&&De("div",{key:"image",class:"v-navigation-drawer__img"},[h.image?Ne(el,{key:"image-defaults",disabled:!n.image,defaults:{VImg:{alt:"",cover:!0,height:"inherit",src:n.image}}},h.image):Ne(ZL,{key:"image-img",alt:"",cover:!0,height:"inherit",src:n.image},null)]),h.prepend&&De("div",{class:"v-navigation-drawer__prepend"},[(ot=h.prepend)==null?void 0:ot.call(h)]),De("div",{class:"v-navigation-drawer__content"},[($e=h.default)==null?void 0:$e.call(h)]),h.append&&De("div",{class:"v-navigation-drawer__append"},[(ht=h.append)==null?void 0:ht.call(h)])]}}),Ne(cx,{name:"fade-transition"},{default:()=>[Ze.value&&(Oe.value||X.value)&&!!n.scrim&&De("div",fs({class:["v-navigation-drawer__scrim",ct.backgroundColorClasses.value],style:[Tn.value,ct.backgroundColorStyles.value],onClick:()=>{Fe.value||(X.value=!1)}},j),null)]})])}),{isStuck:Kt}}}),tye={__name:"NavBar",setup(n){const r=Bt.layout(),l=Bt.resources(),d=Bt.tasks(),h=Bt.settings();Bt.api();async function g(){if(r.focusTarget=="navigation"){await gr();for(const N of document.getElementsByClassName("app-navigation-item")){N.focus();break}}}Wn(()=>r.focusChange,g);function y(N){document.getElementById("app-navigation-drawer").dispatchEvent(new Event("mouseenter"))}function w(N){document.getElementById("app-navigation-drawer").dispatchEvent(new Event("mouseleave"))}function A(N){N.type==wd.TYPE_URL&&!N.embedded?window.open(N.source,"long-essay-writer-resource-"+N.key):(l.selectResource(N),r.showResources())}function R(N){N.keyCode==27?w():r.handleKeyDown(N)}function O(N){return N.isExternalUrl()?"mdi-link":N.isEmbeddedUrl()?l.isActive(N)&&r.isResourcesVisible?"mdi-link-box":"mdi-link-box-outline":l.isActive(N)&&r.isResourcesVisible?"mdi-file":"mdi-file-outline"}return(N,V)=>(Uo(),Jr(eye,{id:"app-navigation-drawer",elevation:"2",width:"500",permanent:"",rail:"","expand-on-hover":"",onFocusin:y,onFocusout:w,onKeydown:R},{append:pn(()=>[Ne(j1e)]),default:pn(()=>[Ne(JO,{tabindex:"-1"},{default:pn(()=>[tt(d).hasInstructions?(Uo(),Jr(wf,{key:0,"aria-role":"button",class:"app-navigation-item",tabindex:"0",onClick:V[0]||(V[0]=z=>{tt(r).showInstructions()}),"aria-label":N.$t("allInstructions")+(tt(r).isInstructionsVisible?N.$t("navBarSelectedAria"):""),title:N.$t("allInstructions")+(tt(r).isInstructionsVisible?N.$t("navBarSelected"):""),ripple:!1},{prepend:pn(()=>[Ne(Yo,{"aria-role":"hidden",icon:tt(r).isInstructionsVisible?"mdi-text-box":"mdi-text-box-outline"},null,8,["icon"])]),_:1},8,["aria-label","title"])):ql("",!0),tt(l).hasInstruction?(Uo(),Jr(wf,{key:1,"aria-role":"button",class:"app-navigation-item",tabindex:"0",onClick:V[1]||(V[1]=z=>{tt(r).showInstructionsPdf()}),"aria-label":N.$t("allInstructionsPdf")+(tt(r).isInstructionsPdfVisible?N.$t("navBarSelectedAria"):""),title:N.$t("allInstructionsPdf")+(tt(r).isInstructionsPdfVisible?N.$t("navBarSelected"):""),ripple:!1},{prepend:pn(()=>[Ne(Yo,{"aria-role":"hidden",icon:tt(r).isInstructionsPdfVisible?"mdi-file-document":"mdi-file-document-outline"},null,8,["icon"])]),_:1},8,["aria-label","title"])):ql("",!0),(Uo(!0),Ba(hs,null,Mp(tt(l).getFileOrUrlResources,z=>(Uo(),Jr(wf,{"aria-role":"button",class:"app-navigation-item",tabindex:"0",onClick:W=>{A(z)},"aria-label":z.title+(tt(l).isActive(z)&&tt(r).isResourcesVisible?N.$t("navBarSelectedAria"):""),title:z.title+(tt(l).isActive(z)&&tt(r).isResourcesVisible?N.$t("navBarSelected"):""),key:z.key,ripple:!1},{prepend:pn(()=>[Ne(Yo,{"aria-role":"hidden",icon:O(z)},null,8,["icon"])]),_:2},1032,["onClick","aria-label","title"]))),128)),ns(Ne(K9,{class:"border-opacity-75"},null,512),[[Ms,tt(d).hasInstructions||tt(l).hasResources]]),tt(d).hasInstructions||tt(l).hasAnnotatableResource?(Uo(),Jr(wf,{key:2,"aria-role":"button",class:"app-navigation-item",tabindex:"0",onClick:V[2]||(V[2]=z=>{tt(r).showAnnotations()}),"aria-label":N.$t("allAnnotations")+(tt(r).isAnnotationsVisible?N.$t("navBarSelectedAria"):""),title:N.$t("allAnnotations")+(tt(r).isAnnotationsVisible?N.$t("navBarSelected"):""),ripple:!1},{prepend:pn(()=>[Ne(Yo,{"aria-role":"hidden",icon:tt(r).isAnnotationsVisible?"mdi-pencil-box":"mdi-pencil-box-outline"},null,8,["icon"])]),_:1},8,["aria-label","title"])):ql("",!0),Ne(wf,{"aria-role":"button",class:"app-navigation-item",tabindex:"0",onClick:V[3]||(V[3]=z=>{tt(r).showEssay()}),"aria-label":N.$t("allEssay")+(tt(r).isEssayVisible?N.$t("navBarSelectedAria"):""),title:N.$t("allEssay")+(tt(r).isEssayVisible?N.$t("navBarSelected"):""),ripple:!1},{prepend:pn(()=>[Ne(Yo,{"aria-role":"hidden",icon:tt(r).isEssayVisible?"mdi-file-edit":"mdi-file-edit-outline"},null,8,["icon"])]),_:1},8,["aria-label","title"]),tt(h).hasNotes?(Uo(),Jr(wf,{key:3,"aria-role":"button",class:"app-navigation-item",tabindex:"0",onClick:V[4]||(V[4]=z=>{tt(r).showNotes()}),"aria-label":N.$t("allNotesWillPurged")+(tt(r).isNotesVisible?N.$t("navBarSelectedAria"):""),title:N.$t("allNotesWillPurged")+(tt(r).isNotesVisible?N.$t("navBarSelected"):""),ripple:!1},{prepend:pn(()=>[Ne(Yo,{"aria-role":"hidden",icon:tt(r).isNotesVisible?"mdi-clipboard":"mdi-clipboard-outline"},null,8,["icon"])]),_:1},8,["aria-label","title"])):ql("",!0),Ne(K9,{class:"border-opacity-75"})]),_:1})]),_:1}))}},nye=Oh(tye,[["__scopeId","data-v-8c3e137c"]]),oye=Kn({autoGrow:Boolean,autofocus:Boolean,counter:[Boolean,Number,String],counterValue:Function,prefix:String,placeholder:String,persistentPlaceholder:Boolean,persistentCounter:Boolean,noResize:Boolean,rows:{type:[Number,String],default:5,validator:n=>!isNaN(parseFloat(n))},maxRows:{type:[Number,String],validator:n=>!isNaN(parseFloat(n))},suffix:String,modelModifiers:Object,...qU(),...GU()},"VTextarea"),sye=Xo()({name:"VTextarea",directives:{vIntersect:Uk},inheritAttrs:!1,props:oye(),emits:{"click:control":n=>!0,"mousedown:control":n=>!0,"update:focused":n=>!0,"update:modelValue":n=>!0},setup(n,r){let{attrs:l,emit:d,slots:h}=r;const g=Ni(n,"modelValue"),{isFocused:y,focus:w,blur:A}=ZU(n),R=Mt(()=>typeof n.counterValue=="function"?n.counterValue(g.value):(g.value||"").toString().length),O=Mt(()=>{if(l.maxlength)return l.maxlength;if(!(!n.counter||typeof n.counter!="number"&&typeof n.counter!="string"))return n.counter});function N(Oe,Ve){var P,wt;!n.autofocus||!Oe||(wt=(P=Ve[0].target)==null?void 0:P.focus)==null||wt.call(P)}const V=go(),z=go(),W=Oo(""),X=go(),oe=Mt(()=>n.persistentPlaceholder||y.value||n.active);function j(){var Oe;X.value!==document.activeElement&&((Oe=X.value)==null||Oe.focus()),y.value||w()}function fe(Oe){j(),d("click:control",Oe)}function le(Oe){d("mousedown:control",Oe)}function q(Oe){Oe.stopPropagation(),j(),gr(()=>{g.value="",wU(n["onClick:clear"],Oe)})}function de(Oe){var P;const Ve=Oe.target;if(g.value=Ve.value,(P=n.modelModifiers)!=null&&P.trim){const wt=[Ve.selectionStart,Ve.selectionEnd];gr(()=>{Ve.selectionStart=wt[0],Ve.selectionEnd=wt[1]})}}const ne=go(),be=go(Number(n.rows)),Fe=Mt(()=>["plain","underlined"].includes(n.variant));Ef(()=>{n.autoGrow||(be.value=Number(n.rows))});function Ze(){n.autoGrow&&gr(()=>{if(!ne.value||!z.value)return;const Oe=getComputedStyle(ne.value),Ve=getComputedStyle(z.value.$el),P=parseFloat(Oe.getPropertyValue("--v-field-padding-top"))+parseFloat(Oe.getPropertyValue("--v-input-padding-top"))+parseFloat(Oe.getPropertyValue("--v-field-padding-bottom")),wt=ne.value.scrollHeight,Nt=parseFloat(Oe.lineHeight),Kt=Math.max(parseFloat(n.rows)*Nt+P,parseFloat(Ve.getPropertyValue("--v-input-control-height"))),rn=parseFloat(n.maxRows)*Nt+P||1/0,ct=vm(wt??0,Kt,rn);be.value=Math.floor((ct-P)/Nt),W.value=Os(ct)})}bu(Ze),Wn(g,Ze),Wn(()=>n.rows,Ze),Wn(()=>n.maxRows,Ze),Wn(()=>n.density,Ze);let rt;return Wn(ne,Oe=>{Oe?(rt=new ResizeObserver(Ze),rt.observe(ne.value)):rt==null||rt.disconnect()}),zc(()=>{rt==null||rt.disconnect()}),Ls(()=>{const Oe=!!(h.counter||n.counter||n.counterValue),Ve=!!(Oe||h.details),[P,wt]=yU(l),{modelValue:Nt,...Kt}=fL.filterProps(n),rn=mL.filterProps(n);return Ne(fL,fs({ref:V,modelValue:g.value,"onUpdate:modelValue":ct=>g.value=ct,class:["v-textarea v-text-field",{"v-textarea--prefixed":n.prefix,"v-textarea--suffixed":n.suffix,"v-text-field--prefixed":n.prefix,"v-text-field--suffixed":n.suffix,"v-textarea--auto-grow":n.autoGrow,"v-textarea--no-resize":n.noResize||n.autoGrow,"v-input--plain-underlined":Fe.value},n.class],style:n.style},P,Kt,{centerAffix:be.value===1&&!Fe.value,focused:y.value}),{...h,default:ct=>{let{id:Tn,isDisabled:Tt,isDirty:ot,isReadonly:$e,isValid:ht}=ct;return Ne(mL,fs({ref:z,style:{"--v-textarea-control-height":W.value},onClick:fe,onMousedown:le,"onClick:clear":q,"onClick:prependInner":n["onClick:prependInner"],"onClick:appendInner":n["onClick:appendInner"]},rn,{id:Tn.value,active:oe.value||ot.value,centerAffix:be.value===1&&!Fe.value,dirty:ot.value||n.dirty,disabled:Tt.value,focused:y.value,error:ht.value===!1}),{...h,default:Dn=>{let{props:{class:mn,...Fn}}=Dn;return De(hs,null,[n.prefix&&De("span",{class:"v-text-field__prefix"},[n.prefix]),ns(De("textarea",fs({ref:X,class:mn,value:g.value,onInput:de,autofocus:n.autofocus,readonly:$e.value,disabled:Tt.value,placeholder:n.placeholder,rows:n.rows,name:n.name,onFocus:j,onBlur:A},Fn,wt),null),[[Uk,{handler:N},null,{once:!0}]]),n.autoGrow&&ns(De("textarea",{class:zo([mn,"v-textarea__sizer"]),id:`${Fn.id}-sizer`,"onUpdate:modelValue":Gt=>g.value=Gt,ref:ne,readonly:!0,"aria-hidden":"true"},null),[[Ide,g.value]]),n.suffix&&De("span",{class:"v-text-field__suffix"},[n.suffix])])}})},details:Ve?ct=>{var Tn;return De(hs,null,[(Tn=h.details)==null?void 0:Tn.call(h,ct),Oe&&De(hs,null,[De("span",null,null),Ne(tee,{active:n.persistentCounter||y.value,value:R.value,max:O.value,disabled:n.disabled},h.counter)])])}:void 0})}),Qk({},V,z,X)}}),rye={class:"sr-only"},aye={__name:"AnnotationInput",props:["annotation"],setup(n){Bt.api();const r=Bt.annotations(),l=Bt.layout(),d=Bt.clipboard(),g=n.annotation;function y(N){return N.getKey()==r.selectedKey}bu(()=>{const N=document.getElementById("appAnnotationContainer"+g.getKey());for(const V of N.getElementsByTagName("label"))V.getAttribute("for").includes("app-annotation-")&&(V.classList.add("sr-only"),V.getAttribute("aria-hidden")=="true"?V.getAttribute("for").includes("-sizer")||V.setAttribute("for",V.getAttribute("for")+"-sizer"):V.setAttribute("id","app-annotation-"+g.getKey()+"-messages"));for(const V of N.getElementsByTagName("textarea"))V.style.marginTop="-15px",V.style.fontSize="0.9rem";for(const V of N.getElementsByClassName("v-input__details"))V.style.display="none"});function w(N){return"#F5F7FB"}async function A(){if(event.altKey)switch(event.key){case"Enter":event.preventDefault(),l.showResourceForId(g.resource_id),await gr(),r.setCaretRequest();break;case"Delete":event.preventDefault(),r.deleteAnnotation(r.selectedKey);break}}function R(N){const V=document.getElementById("app-annotation-"+g.getKey()),z=V.value.substring(V.selectionStart,V.selectionEnd);d.setContent(z),N.clipboardData.setData("text/html",z),N.preventDefault()}function O(N){const V=(N.clipboardData||window.clipboardData).getData("text/html");if(!d.getPasteAllowed(V)){N.preventDefault(),d.showWarning();return}const z=d.getTextContent(V),W=document.getElementById("app-annotation-"+g.getKey()),X=W.value,oe=W.selectionStart,j=W.selectionEnd;W.value=X.slice(0,oe)+z+X.slice(j),W.focus(),W.selectionStart=oe+z.length,W.selectionEnd=oe+z.length}return(N,V)=>(Uo(),Jr(cee,{id:"appAnnotationContainer"+tt(g).getKey(),key:tt(g).getKey(),class:"annotationContainer"},{default:pn(()=>[Ne($M,{dense:"",onClick:V[6]||(V[6]=z=>tt(r).selectAnnotation(tt(g).getKey()))},{default:pn(()=>[Ne(tv,{cols:"1"},{default:pn(()=>[De("button",{tabindex:"0",class:zo("v-btn annotationLabel "+(y(tt(g))?"selected":""))},jt(tt(g).label),3)]),_:1}),ns(Ne(tv,{cols:"10"},{default:pn(()=>[Ne(sye,{class:"annotationInput","bg-color":w(tt(g)),rounded:"0",density:"compact",variant:"solo",id:"app-annotation-"+tt(g).getKey(),label:N.$t("annotationForMark",[tt(g).label]),rows:"1","auto-grow":"",onChange:V[0]||(V[0]=z=>tt(r).updateAnnotation(tt(g))),onKeyup:V[1]||(V[1]=z=>tt(r).updateAnnotation(tt(g))),onKeydown:V[2]||(V[2]=z=>A()),onCopy:R,onCut:R,onPaste:O,modelValue:tt(g).comment,"onUpdate:modelValue":V[3]||(V[3]=z=>tt(g).comment=z)},null,8,["bg-color","id","label","modelValue"])]),_:1},512),[[Ms,y(tt(g))]]),ns(Ne(tv,{cols:"10"},{default:pn(()=>[ns(De("div",{class:"annotationDisplay",style:Rs("background-color: "+w(tt(g))+";")},jt(tt(g).comment),5),[[Ms,tt(g).comment]])]),_:1},512),[[Ms,!y(tt(g))]]),Ne(tv,{cols:"1",class:"trashColumn"},{default:pn(()=>[Ne(Xs,{class:"trashButton",density:"compact",size:"small",variant:"text","prepend-icon":"mdi-delete-outline",tabindex:y(tt(g))?0:-1,onClick:V[4]||(V[4]=z=>tt(r).deleteAnnotation(tt(g).getKey())),onKeydown:V[5]||(V[5]=z=>A())},{default:pn(()=>[De("span",rye,jt(N.$t("annotationDelete",[tt(g).label])),1)]),_:1},8,["tabindex"])]),_:1})]),_:1})]),_:1},8,["id"]))}},iye=Oh(aye,[["__scopeId","data-v-38b8bfd0"]]),lye={id:"appAnnotations"},cye={__name:"Annotations",setup(n){const r=Bt.annotations(),l=Bt.layout(),d=Bt.resources();function h(){const w=l.selectedResourceId;if(w===Sf.RESOURCE_ID_INSTRUCTIONS)return!0;const A=d.getResourceById(w);return!!(A&&A.canBeAnnoteted())}async function g(){await gr();let w=document.getElementById("appAnnotationContainer"+r.selectedKey);if(w){let A=w.querySelector("textarea");A&&A.focus()}}Wn(()=>r.selectionChange,g),Wn(()=>l.focusChange,g);async function y(){await gr();let w=document.getElementById("appAnnotationContainer"+r.firstVisibleKey);w&&w.scrollIntoView()}return Wn(()=>r.firstVisibleKey,y),(w,A)=>(Uo(),Ba("div",lye,[ns(De("div",null,[A[0]||(A[0]=De("br",null,null,-1)),Ne(G9,null,{default:pn(()=>[ja(jt(w.$t("annotationsNoContentSelected")),1)]),_:1})],512),[[Ms,tt(l).isAnnotationsSelected&&!h()]]),(Uo(!0),Ba(hs,null,Mp(tt(r).activeAnnotations,R=>ns((Uo(),Jr(iye,{key:R.getKey(),annotation:R},null,8,["annotation"])),[[Ms,tt(l).isAnnotationsSelected&&h()]])),128))]))}},uye=Oh(cye,[["__scopeId","data-v-794db4d0"]]);var e9={exports:{}},DG;function dye(){return DG||(DG=1,function(n){(function(){var r=function(e){if(e===null)return"null";if(e===void 0)return"undefined";var t=typeof e;return t==="object"&&(Array.prototype.isPrototypeOf(e)||e.constructor&&e.constructor.name==="Array")?"array":t==="object"&&(String.prototype.isPrototypeOf(e)||e.constructor&&e.constructor.name==="String")?"string":t},l=function(e){return["undefined","boolean","number","string","function","xml","null"].indexOf(e)!==-1},d=function(e,t){var o=Array.prototype.slice.call(e);return o.sort(t)},h=function(e,t){return g(function(o,a){return e.eq(t(o),t(a))})},g=function(e){return{eq:e}},y=g(function(e,t){return e===t}),w=y,A=function(e){return g(function(t,o){if(t.length!==o.length)return!1;for(var a=t.length,c=0;c<a;c++)if(!e.eq(t[c],o[c]))return!1;return!0})},R=function(e,t){return h(A(e),function(o){return d(o,t)})},O=function(e){return g(function(t,o){var a=Object.keys(t),c=Object.keys(o);if(!R(w).eq(a,c))return!1;for(var m=a.length,p=0;p<m;p++){var S=a[p];if(!e.eq(t[S],o[S]))return!1}return!0})},N=g(function(e,t){if(e===t)return!0;var o=r(e),a=r(t);return o!==a?!1:l(o)?e===t:o==="array"?A(N).eq(e,t):o==="object"?O(N).eq(e,t):!1});const V=Object.getPrototypeOf,z=(e,t,o)=>{var a;return o(e,t.prototype)?!0:((a=e.constructor)===null||a===void 0?void 0:a.name)===t.name},W=e=>{const t=typeof e;return e===null?"null":t==="object"&&Array.isArray(e)?"array":t==="object"&&z(e,String,(o,a)=>a.isPrototypeOf(o))?"string":t},X=e=>t=>W(t)===e,oe=e=>t=>typeof t===e,j=e=>t=>e===t,fe=(e,t)=>q(e)&&z(e,t,(o,a)=>V(o)===a),le=X("string"),q=X("object"),de=e=>fe(e,Object),ne=X("array"),be=j(null),Fe=oe("boolean"),Ze=j(void 0),rt=e=>e==null,Oe=e=>!rt(e),Ve=oe("function"),P=oe("number"),wt=(e,t)=>{if(ne(e)){for(let o=0,a=e.length;o<a;++o)if(!t(e[o]))return!1;return!0}return!1},Nt=()=>{},Kt=(e,t)=>(...o)=>e(t.apply(null,o)),rn=(e,t)=>o=>e(t(o)),ct=e=>()=>e,Tn=e=>e,Tt=(e,t)=>e===t;function ot(e,...t){return(...o)=>{const a=t.concat(o);return e.apply(null,a)}}const $e=e=>t=>!e(t),ht=e=>()=>{throw new Error(e)},Dn=e=>e(),mn=e=>{e()},Fn=ct(!1),Gt=ct(!0);class te{constructor(t,o){this.tag=t,this.value=o}static some(t){return new te(!0,t)}static none(){return te.singletonNone}fold(t,o){return this.tag?o(this.value):t()}isSome(){return this.tag}isNone(){return!this.tag}map(t){return this.tag?te.some(t(this.value)):te.none()}bind(t){return this.tag?t(this.value):te.none()}exists(t){return this.tag&&t(this.value)}forall(t){return!this.tag||t(this.value)}filter(t){return!this.tag||t(this.value)?this:te.none()}getOr(t){return this.tag?this.value:t}or(t){return this.tag?this:t}getOrThunk(t){return this.tag?this.value:t()}orThunk(t){return this.tag?this:t()}getOrDie(t){if(this.tag)return this.value;throw new Error(t??"Called getOrDie on None")}static from(t){return Oe(t)?te.some(t):te.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(t){this.tag&&t(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}te.singletonNone=new te(!1);const So=Array.prototype.slice,tn=Array.prototype.indexOf,Cn=Array.prototype.push,qe=(e,t)=>tn.call(e,t),st=(e,t)=>{const o=qe(e,t);return o===-1?te.none():te.some(o)},xe=(e,t)=>qe(e,t)>-1,Re=(e,t)=>{for(let o=0,a=e.length;o<a;o++){const c=e[o];if(t(c,o))return!0}return!1},Ue=(e,t)=>{const o=e.length,a=new Array(o);for(let c=0;c<o;c++){const m=e[c];a[c]=t(m,c)}return a},ye=(e,t)=>{for(let o=0,a=e.length;o<a;o++){const c=e[o];t(c,o)}},_e=(e,t)=>{for(let o=e.length-1;o>=0;o--){const a=e[o];t(a,o)}},Be=(e,t)=>{const o=[],a=[];for(let c=0,m=e.length;c<m;c++){const p=e[c];(t(p,c)?o:a).push(p)}return{pass:o,fail:a}},Ye=(e,t)=>{const o=[];for(let a=0,c=e.length;a<c;a++){const m=e[a];t(m,a)&&o.push(m)}return o},pt=(e,t,o)=>(_e(e,(a,c)=>{o=t(o,a,c)}),o),fn=(e,t,o)=>(ye(e,(a,c)=>{o=t(o,a,c)}),o),qt=(e,t,o)=>{for(let a=0,c=e.length;a<c;a++){const m=e[a];if(t(m,a))return te.some(m);if(o(m,a))break}return te.none()},Nn=(e,t)=>qt(e,t,Fn),no=(e,t)=>{for(let o=0,a=e.length;o<a;o++){const c=e[o];if(t(c,o))return te.some(o)}return te.none()},so=e=>{const t=[];for(let o=0,a=e.length;o<a;++o){if(!ne(e[o]))throw new Error("Arr.flatten item "+o+" was not an array, input: "+e);Cn.apply(t,e[o])}return t},Wo=(e,t)=>so(Ue(e,t)),Po=(e,t)=>{for(let o=0,a=e.length;o<a;++o){const c=e[o];if(t(c,o)!==!0)return!1}return!0},or=e=>{const t=So.call(e,0);return t.reverse(),t},ps=(e,t)=>Ye(e,o=>!xe(t,o)),Qr=(e,t)=>{const o={};for(let a=0,c=e.length;a<c;a++){const m=e[a];o[String(m)]=t(m,a)}return o},ms=(e,t)=>{const o=So.call(e,0);return o.sort(t),o},Qa=(e,t)=>t>=0&&t<e.length?te.some(e[t]):te.none(),on=e=>Qa(e,0),ro=e=>Qa(e,e.length-1),Do=Ve(Array.from)?Array.from:e=>So.call(e),ia=(e,t)=>{for(let o=0;o<e.length;o++){const a=t(e[o],o);if(a.isSome())return a}return te.none()},tl=(e,t)=>{const o=[],a=Ve(t)?c=>Re(o,m=>t(m,c)):c=>xe(o,c);for(let c=0,m=e.length;c<m;c++){const p=e[c];a(p)||o.push(p)}return o},Yt=Object.keys,ba=Object.hasOwnProperty,Vo=(e,t)=>{const o=Yt(e);for(let a=0,c=o.length;a<c;a++){const m=o[a],p=e[m];t(p,m)}},Bl=(e,t)=>Vs(e,(o,a)=>({k:a,v:t(o,a)})),Vs=(e,t)=>{const o={};return Vo(e,(a,c)=>{const m=t(a,c);o[m.k]=m.v}),o},ea=e=>(t,o)=>{e[o]=t},vc=(e,t,o,a)=>{Vo(e,(c,m)=>{(t(c,m)?o:a)(c,m)})},yc=(e,t)=>{const o={},a={};return vc(e,t,ea(o),ea(a)),{t:o,f:a}},xc=(e,t)=>{const o={};return vc(e,t,ea(o),Nt),o},pl=(e,t)=>{const o=[];return Vo(e,(a,c)=>{o.push(t(a,c))}),o},wc=e=>pl(e,Tn),Hs=(e,t)=>ho(e,t)?te.from(e[t]):te.none(),ho=(e,t)=>ba.call(e,t),nl=(e,t)=>ho(e,t)&&e[t]!==void 0&&e[t]!==null,Ma=(e,t,o=N)=>O(o).eq(e,t),vu=e=>{const t={};return ye(e,o=>{t[o]={}}),Yt(t)},xn=e=>e.length!==void 0,Yl=Array.isArray,Of=e=>{if(Yl(e))return e;{const t=[];for(let o=0,a=e.length;o<a;o++)t[o]=e[o];return t}},wr=(e,t,o)=>{if(!e)return!1;if(o=o||e,xn(e)){for(let a=0,c=e.length;a<c;a++)if(t.call(o,e[a],a,e)===!1)return!1}else for(const a in e)if(ho(e,a)&&t.call(o,e[a],a,e)===!1)return!1;return!0},Rf=(e,t)=>{const o=[];return wr(e,(a,c)=>{o.push(t(a,c,e))}),o},ol=(e,t)=>{const o=[];return wr(e,(a,c)=>{(!t||t(a,c,e))&&o.push(a)}),o},Ml=(e,t)=>{if(e){for(let o=0,a=e.length;o<a;o++)if(e[o]===t)return o}return-1},bl=(e,t,o,a)=>{let c=Ze(o)?e[0]:o;for(let m=0;m<e.length;m++)c=t.call(a,c,e[m],m);return c},ar=(e,t,o)=>{for(let a=0,c=e.length;a<c;a++)if(t.call(o,e[a],a,e))return a;return-1},ei=e=>e[e.length-1],sl=e=>{let t=!1,o;return(...a)=>(t||(t=!0,o=e.apply(null,a)),o)},Df=(e,t,o,a)=>{const c=e.isiOS()&&/ipad/i.test(o)===!0,m=e.isiOS()&&!c,p=e.isiOS()||e.isAndroid(),S=p||a("(pointer:coarse)"),T=c||!m&&p&&a("(min-device-width:768px)"),H=m||p&&!T,J=t.isSafari()&&e.isiOS()&&/safari/i.test(o)===!1,ee=!H&&!T&&!J;return{isiPad:ct(c),isiPhone:ct(m),isTablet:ct(T),isPhone:ct(H),isTouch:ct(S),isAndroid:e.isAndroid,isiOS:e.isiOS,isWebView:ct(J),isDesktop:ct(ee)}},Wc=(e,t)=>{for(let o=0;o<e.length;o++){const a=e[o];if(a.test(t))return a}},vl=(e,t)=>{const o=Wc(e,t);if(!o)return{major:0,minor:0};const a=c=>Number(t.replace(o,"$"+c));return os(a(1),a(2))},Od=(e,t)=>{const o=String(t).toLowerCase();return e.length===0?yu():vl(e,o)},yu=()=>os(0,0),os=(e,t)=>({major:e,minor:t}),$r={nu:os,detect:Od,unknown:yu},la=(e,t)=>ia(t.brands,o=>{const a=o.brand.toLowerCase();return Nn(e,c=>{var m;return a===((m=c.brand)===null||m===void 0?void 0:m.toLowerCase())}).map(c=>({current:c.name,version:$r.nu(parseInt(o.version,10),0)}))}),Nf=(e,t)=>{const o=String(t).toLowerCase();return Nn(e,a=>a.search(o))},rl=(e,t)=>Nf(e,t).map(o=>{const a=$r.detect(o.versionRegexes,t);return{current:o.name,version:a}}),jc=(e,t)=>Nf(e,t).map(o=>{const a=$r.detect(o.versionRegexes,t);return{current:o.name,version:a}}),Ea=(e,t)=>e.substring(t),pi=(e,t,o)=>t===""||e.length>=t.length&&e.substr(o,o+t.length)===t,bi=(e,t)=>hr(e,t)?Ea(e,t.length):e,Ns=(e,t,o=0,a)=>{const c=e.indexOf(t,o);return c!==-1?Ze(a)?!0:c+t.length<=a:!1},hr=(e,t)=>pi(e,t,0),Pe=(e,t)=>pi(e,t,e.length-t.length),ut=e=>t=>t.replace(e,""),We=ut(/^\s+|\s+$/g),yt=ut(/^\s+/g),bt=ut(/\s+$/g),it=e=>e.length>0,Qt=e=>!it(e),gn=(e,t)=>t<=0?"":new Array(t+1).join(e),yn=(e,t=10)=>{const o=parseInt(e,t);return isNaN(o)?te.none():te.some(o)},_n=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,wn=e=>t=>Ns(t,e),_o=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:e=>Ns(e,"edge/")&&Ns(e,"chrome")&&Ns(e,"safari")&&Ns(e,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,_n],search:e=>Ns(e,"chrome")&&!Ns(e,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:e=>Ns(e,"msie")||Ns(e,"trident")},{name:"Opera",versionRegexes:[_n,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:wn("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:wn("firefox")},{name:"Safari",versionRegexes:[_n,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:e=>(Ns(e,"safari")||Ns(e,"mobile/"))&&Ns(e,"applewebkit")}],bn=[{name:"Windows",search:wn("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:e=>Ns(e,"iphone")||Ns(e,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:wn("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:wn("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:wn("linux"),versionRegexes:[]},{name:"Solaris",search:wn("sunos"),versionRegexes:[]},{name:"FreeBSD",search:wn("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:wn("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],Fs={browsers:ct(_o),oses:ct(bn)},Ko="Edge",is="Chromium",Vr="IE",Bo="Opera",Xl="Firefox",vi="Safari",po=()=>yl({current:void 0,version:$r.unknown()}),yl=e=>{const t=e.current,o=e.version,a=c=>()=>t===c;return{current:t,version:o,isEdge:a(Ko),isChromium:a(is),isIE:a(Vr),isOpera:a(Bo),isFirefox:a(Xl),isSafari:a(vi)}},xl={unknown:po,nu:yl},Sr="Windows",Rd="iOS",jr="Android",If="Linux",wl="macOS",Is="Solaris",Yu="FreeBSD",Cm="ChromeOS",Sm=()=>_r({current:void 0,version:$r.unknown()}),_r=e=>{const t=e.current,o=e.version,a=c=>()=>t===c;return{current:t,version:o,isWindows:a(Sr),isiOS:a(Rd),isAndroid:a(jr),isMacOS:a(wl),isLinux:a(If),isSolaris:a(Is),isFreeBSD:a(Yu),isChromeOS:a(Cm)}},al={unknown:Sm,nu:_r},Qs={detect:(e,t,o)=>{const a=Fs.browsers(),c=Fs.oses(),m=t.bind(T=>la(a,T)).orThunk(()=>rl(a,e)).fold(xl.unknown,xl.nu),p=jc(c,e).fold(al.unknown,al.nu),S=Df(p,m,e,o);return{browser:m,os:p,deviceType:S}}},Dd=e=>window.matchMedia(e).matches;let Sl=sl(()=>Qs.detect(window.navigator.userAgent,te.from(window.navigator.userAgentData),Dd));const ti=()=>Sl(),_m=window.navigator.userAgent,La=ti(),Bi=La.browser,ni=La.os,il=La.deviceType,vg=_m.indexOf("Windows Phone")!==-1,qo={transparentSrc:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",documentMode:Bi.isIE()?document.documentMode||7:10,cacheSuffix:null,container:null,canHaveCSP:!Bi.isIE(),windowsPhone:vg,browser:{current:Bi.current,version:Bi.version,isChromium:Bi.isChromium,isEdge:Bi.isEdge,isFirefox:Bi.isFirefox,isIE:Bi.isIE,isOpera:Bi.isOpera,isSafari:Bi.isSafari},os:{current:ni.current,version:ni.version,isAndroid:ni.isAndroid,isChromeOS:ni.isChromeOS,isFreeBSD:ni.isFreeBSD,isiOS:ni.isiOS,isLinux:ni.isLinux,isMacOS:ni.isMacOS,isSolaris:ni.isSolaris,isWindows:ni.isWindows},deviceType:{isDesktop:il.isDesktop,isiPad:il.isiPad,isiPhone:il.isiPhone,isPhone:il.isPhone,isTablet:il.isTablet,isTouch:il.isTouch,isWebView:il.isWebView}},Zc=/^\s*|\s*$/g,Xu=e=>rt(e)?"":(""+e).replace(Zc,""),xu=(e,t)=>t?t==="array"&&Yl(e)?!0:typeof e===t:e!==void 0,Rh=(e,t,o={})=>{const a=le(e)?e.split(t||","):e||[];let c=a.length;for(;c--;)o[a[c]]={};return o},lv=ho,Ll=(e,...t)=>{for(let o=0;o<t.length;o++){const a=t[o];for(const c in a)if(ho(a,c)){const m=a[c];m!==void 0&&(e[c]=m)}}return e},Dh=function(e,t,o,a){a=a||this,e&&(o&&(e=e[o]),wr(e,(c,m)=>t.call(a,c,m,o)===!1?!1:(Dh(c,t,o,a),!0)))},an={trim:Xu,isArray:Yl,is:xu,toArray:Of,makeMap:Rh,each:wr,map:Rf,grep:ol,inArray:Ml,hasOwn:lv,extend:Ll,walk:Dh,resolve:(e,t=window)=>{const o=e.split(".");for(let a=0,c=o.length;a<c&&(t=t[o[a]],!!t);a++);return t},explode:(e,t)=>ne(e)?e:e===""?[]:Rf(e.split(t||","),Xu),_addCacheSuffix:e=>{const t=qo.cacheSuffix;return t&&(e+=(e.indexOf("?")===-1?"?":"&")+t),e}},Nd=(e,t,o=Tt)=>e.exists(a=>o(a,t)),Id=(e,t,o=Tt)=>oi(e,t,o).getOr(e.isNone()&&t.isNone()),xg=e=>{const t=[],o=a=>{t.push(a)};for(let a=0;a<e.length;a++)e[a].each(o);return t},oi=(e,t,o)=>e.isSome()&&t.isSome()?te.some(o(e.getOrDie(),t.getOrDie())):te.none(),Pd=(e,t,o,a)=>e.isSome()&&t.isSome()&&o.isSome()?te.some(a(e.getOrDie(),t.getOrDie(),o.getOrDie())):te.none(),Pf=(e,t)=>e?te.some(t):te.none(),uv=typeof window<"u"?window:Function("return this;")(),Zp=(e,t)=>{let o=t??uv;for(let a=0;a<e.length&&o!==void 0&&o!==null;++a)o=o[e[a]];return o},Kp=(e,t)=>{const o=e.split(".");return Zp(o,t)},m1=(e,t)=>Kp(e,t),dv=(e,t)=>{const o=m1(e,t);if(o==null)throw new Error(e+" not available on this browser");return o},g1=Object.getPrototypeOf,wg=e=>dv("HTMLElement",e),Kc=e=>{const t=Kp("ownerDocument.defaultView",e);return q(e)&&(wg(t).prototype.isPrototypeOf(e)||/^HTML\w*Element$/.test(g1(e).constructor.name))},Ju=8,qc=9,Fa=11,_l=1,Bd=3,ls=e=>e.dom.nodeName.toLowerCase(),Cc=e=>e.dom.nodeType,km=e=>t=>Cc(t)===e,Em=e=>Cc(e)===Ju||ls(e)==="#comment",ll=e=>Zr(e)&&Kc(e.dom),Zr=km(_l),pr=km(Bd),Za=km(qc),ir=km(Fa),Md=e=>t=>Zr(t)&&ls(t)===e,Ld=(e,t,o)=>{if(le(o)||Fe(o)||P(o))e.setAttribute(t,o+"");else throw console.error("Invalid call to Attribute.set. Key ",t,":: Value ",o,":: Element ",e),new Error("Attribute value was not simple")},va=(e,t,o)=>{Ld(e.dom,t,o)},Mi=(e,t)=>{const o=e.dom;Vo(t,(a,c)=>{Ld(o,c,a)})},yi=(e,t)=>{const o=e.dom.getAttribute(t);return o===null?void 0:o},ca=(e,t)=>te.from(yi(e,t)),Qu=(e,t)=>{const o=e.dom;return o&&o.hasAttribute?o.hasAttribute(t):!1},Ho=(e,t)=>{e.dom.removeAttribute(t)},ta=e=>{const t=e.dom.attributes;return t==null||t.length===0},Li=e=>fn(e.dom.attributes,(t,o)=>(t[o.name]=o.value,t),{}),Gc=(e,t)=>{const o=yi(e,t);return o===void 0||o===""?[]:o.split(" ")},Aa=(e,t,o)=>{const c=Gc(e,t).concat([o]);return va(e,t,c.join(" ")),!0},Hn=(e,t,o)=>{const a=Ye(Gc(e,t),c=>c!==o);return a.length>0?va(e,t,a.join(" ")):Ho(e,t),!1},Sc=e=>e.dom.classList!==void 0,_c=e=>Gc(e,"class"),bs=(e,t)=>Aa(e,"class",t),Bf=(e,t)=>Hn(e,"class",t),Nh=(e,t)=>xe(_c(e),t)?Bf(e,t):bs(e,t),Yc=(e,t)=>{Sc(e)?e.dom.classList.add(t):bs(e,t)},Go=e=>{(Sc(e)?e.dom.classList:_c(e)).length===0&&Ho(e,"class")},xi=(e,t)=>{Sc(e)?e.dom.classList.remove(t):Bf(e,t),Go(e)},Am=(e,t)=>{const o=Sc(e)?e.dom.classList.toggle(t):Nh(e,t);return Go(e),o},wu=(e,t)=>Sc(e)&&e.dom.classList.contains(t),Cg=(e,t)=>{const a=(t||document).createElement("div");if(a.innerHTML=e,!a.hasChildNodes()||a.childNodes.length>1){const c="HTML does not have a single root node";throw console.error(c,e),new Error(c)}return Xc(a.childNodes[0])},kc=(e,t)=>{const a=(t||document).createElement(e);return Xc(a)},Fi=(e,t)=>{const a=(t||document).createTextNode(e);return Xc(a)},Xc=e=>{if(e==null)throw new Error("Node cannot be null or undefined");return{dom:e}},Ke={fromHtml:Cg,fromTag:kc,fromText:Fi,fromDom:Xc,fromPoint:(e,t,o)=>te.from(e.dom.elementFromPoint(t,o)).map(Xc)},Mf=(e,t)=>{const o=[],a=m=>(o.push(m),t(m));let c=t(e);do c=c.bind(a);while(c.isSome());return o},Ws=(e,t)=>{const o=e.dom;if(o.nodeType!==_l)return!1;{const a=o;if(a.matches!==void 0)return a.matches(t);if(a.msMatchesSelector!==void 0)return a.msMatchesSelector(t);if(a.webkitMatchesSelector!==void 0)return a.webkitMatchesSelector(t);if(a.mozMatchesSelector!==void 0)return a.mozMatchesSelector(t);throw new Error("Browser lacks native selectors")}},Ih=e=>e.nodeType!==_l&&e.nodeType!==qc&&e.nodeType!==Fa||e.childElementCount===0,Tm=(e,t)=>{const o=t===void 0?document:t.dom;return Ih(o)?[]:Ue(o.querySelectorAll(e),Ke.fromDom)},fc=(e,t)=>{const o=t===void 0?document:t.dom;return Ih(o)?te.none():te.from(o.querySelector(e)).map(Ke.fromDom)},ss=(e,t)=>e.dom===t.dom,si=(e,t)=>{const o=e.dom,a=t.dom;return o===a?!1:o.contains(a)},Jl=e=>Ke.fromDom(e.dom.ownerDocument),mc=e=>Za(e)?e:Jl(e),Jc=e=>Ke.fromDom(mc(e).dom.documentElement),Cu=e=>Ke.fromDom(mc(e).dom.defaultView),Ka=e=>te.from(e.dom.parentNode).map(Ke.fromDom),$d=e=>te.from(e.dom.parentElement).map(Ke.fromDom),Om=(e,t)=>{const o=Ve(t)?t:Fn;let a=e.dom;const c=[];for(;a.parentNode!==null&&a.parentNode!==void 0;){const m=a.parentNode,p=Ke.fromDom(m);if(c.push(p),o(p)===!0)break;a=m}return c},Sg=e=>{const t=o=>Ye(o,a=>!ss(e,a));return Ka(e).map(ri).map(t).getOr([])},Ta=e=>te.from(e.dom.previousSibling).map(Ke.fromDom),Xn=e=>te.from(e.dom.nextSibling).map(Ke.fromDom),Su=e=>or(Mf(e,Ta)),Lf=e=>Mf(e,Xn),ri=e=>Ue(e.dom.childNodes,Ke.fromDom),_u=(e,t)=>{const o=e.dom.childNodes;return te.from(o[t]).map(Ke.fromDom)},Fl=e=>_u(e,0),ku=e=>_u(e,e.dom.childNodes.length-1),ed=e=>e.dom.childNodes.length,Oa=e=>{const t=e.dom.head;if(t==null)throw new Error("Head is not available yet");return Ke.fromDom(t)},gc=e=>ir(e)&&Oe(e.dom.host),Qc=e=>Ke.fromDom(e.dom.getRootNode()),Ff=e=>gc(e)?e:Oa(mc(e)),qp=e=>gc(e)?e:Ke.fromDom(mc(e).dom.body),Eu=e=>{const t=Qc(e);return gc(t)?te.some(t):te.none()},Vd=e=>Ke.fromDom(e.dom.host),Rm=e=>{if(Oe(e.target)){const t=Ke.fromDom(e.target);if(Zr(t)&&kr(t)&&e.composed&&e.composedPath){const o=e.composedPath();if(o)return on(o)}}return te.from(e.target)},kr=e=>Oe(e.dom.shadowRoot),wi=e=>{const t=pr(e)?e.dom.parentNode:e.dom;if(t==null||t.ownerDocument===null)return!1;const o=t.ownerDocument;return Eu(Ke.fromDom(t)).fold(()=>o.body.contains(t),rn(wi,Vd))};var Ci=(e,t,o,a,c)=>e(o,a)?te.some(o):Ve(c)&&c(o)?te.none():t(o,a,c);const $i=(e,t,o)=>{let a=e.dom;const c=Ve(o)?o:Fn;for(;a.parentNode;){a=a.parentNode;const m=Ke.fromDom(a);if(t(m))return te.some(m);if(c(m))break}return te.none()},ya=(e,t,o)=>Ci((c,m)=>m(c),$i,e,t,o),$f=(e,t)=>{const o=e.dom;return o.parentNode?ua(Ke.fromDom(o.parentNode),a=>!ss(e,a)&&t(a)):te.none()},ua=(e,t)=>{const o=c=>t(Ke.fromDom(c));return Nn(e.dom.childNodes,o).map(Ke.fromDom)},$a=(e,t)=>{const o=a=>{for(let c=0;c<a.childNodes.length;c++){const m=Ke.fromDom(a.childNodes[c]);if(t(m))return te.some(m);const p=o(a.childNodes[c]);if(p.isSome())return p}return te.none()};return o(e.dom)},Ec=(e,t,o)=>$i(e,a=>Ws(a,t),o),Ft=(e,t)=>fc(t,e),Ra=(e,t,o)=>Ci((c,m)=>Ws(c,m),Ec,e,t,o),_g=e=>Ra(e,"[contenteditable]"),br=(e,t=!1)=>wi(e)?e.dom.isContentEditable:_g(e).fold(ct(t),o=>Au(o)==="true"),Au=e=>e.dom.contentEditable,Vi=e=>e.style!==void 0&&Ve(e.style.getPropertyValue),Ac=(e,t,o)=>{if(!le(o))throw console.error("Invalid call to CSS.set. Property ",t,":: Value ",o,":: Element ",e),new Error("CSS value must be a string: "+o);Vi(e)&&e.style.setProperty(t,o)},Vf=(e,t)=>{Vi(e)&&e.style.removeProperty(t)},Hi=(e,t,o)=>{const a=e.dom;Ac(a,t,o)},rs=(e,t)=>{const o=e.dom;Vo(t,(a,c)=>{Ac(o,c,a)})},Ir=(e,t)=>{const o=e.dom,c=window.getComputedStyle(o).getPropertyValue(t);return c===""&&!wi(e)?Tu(o,t):c},Tu=(e,t)=>Vi(e)?e.style.getPropertyValue(t):"",Hr=(e,t)=>{const o=e.dom,a=Tu(o,t);return te.from(a).filter(c=>c.length>0)},Dm=e=>{const t={},o=e.dom;if(Vi(o))for(let a=0;a<o.style.length;a++){const c=o.style.item(a);t[c]=o.style[c]}return t},Tc=(e,t)=>{const o=e.dom;Vf(o,t),Nd(ca(e,"style").map(We),"")&&Ho(e,"style")},Ph=e=>e.dom.offsetWidth,Er=(e,t)=>{Ka(e).each(a=>{a.dom.insertBefore(t.dom,e.dom)})},mt=(e,t)=>{Xn(e).fold(()=>{Ka(e).each(c=>{Pr(c,t)})},a=>{Er(a,t)})},zi=(e,t)=>{Fl(e).fold(()=>{Pr(e,t)},a=>{e.dom.insertBefore(t.dom,a.dom)})},Pr=(e,t)=>{e.dom.appendChild(t.dom)},Ql=(e,t)=>{Er(e,t),Pr(t,e)},Oc=(e,t)=>{ye(t,(o,a)=>{const c=a===0?e:t[a-1];mt(c,o)})},na=(e,t)=>{ye(t,o=>{Pr(e,o)})},er=e=>{e.dom.textContent="",ye(ri(e),t=>{Ps(t)})},Ps=e=>{const t=e.dom;t.parentNode!==null&&t.parentNode.removeChild(t)},ai=e=>{const t=ri(e);t.length>0&&Oc(e,t),Ps(e)},ii=(e,t)=>{const a=(t||document).createElement("div");return a.innerHTML=e,ri(Ke.fromDom(a))},kl=e=>Ue(e,Ke.fromDom),hc=e=>e.dom.innerHTML,eu=(e,t)=>{const a=Jl(e).dom,c=Ke.fromDom(a.createDocumentFragment()),m=ii(t,a);na(c,m),er(e),Pr(e,c)},td=e=>{const t=Ke.fromTag("div"),o=Ke.fromDom(e.dom.cloneNode(!0));return Pr(t,o),hc(t)},Hf=(e,t,o,a,c,m,p)=>({target:e,x:t,y:o,stop:a,prevent:c,kill:m,raw:p}),kg=e=>{const t=Ke.fromDom(Rm(e).getOr(e.target)),o=()=>e.stopPropagation(),a=()=>e.preventDefault(),c=Kt(a,o);return Hf(t,e.clientX,e.clientY,o,a,c,e)},Bh=(e,t)=>o=>{e(o)&&t(kg(o))},Ou=(e,t,o,a,c)=>{const m=Bh(o,a);return e.dom.addEventListener(t,m,c),{unbind:ot(Y,e,t,m,c)}},M=(e,t,o,a)=>Ou(e,t,o,a,!1),Y=(e,t,o,a)=>{e.dom.removeEventListener(t,o,a)},ce=(e,t)=>({left:e,top:t,translate:(a,c)=>ce(e+a,t+c)}),He=ce,Je=e=>{const t=e.getBoundingClientRect();return He(t.left,t.top)},$t=(e,t)=>e!==void 0?e:t!==void 0?t:0,oo=e=>{const t=e.dom.ownerDocument,o=t.body,a=t.defaultView,c=t.documentElement;if(o===e.dom)return He(o.offsetLeft,o.offsetTop);const m=$t(a==null?void 0:a.pageYOffset,c.scrollTop),p=$t(a==null?void 0:a.pageXOffset,c.scrollLeft),S=$t(c.clientTop,o.clientTop),T=$t(c.clientLeft,o.clientLeft);return Eo(e).translate(p-T,m-S)},Eo=e=>{const t=e.dom,a=t.ownerDocument.body;return a===t?He(a.offsetLeft,a.offsetTop):wi(e)?Je(t):He(0,0)},bo=e=>{const t=e!==void 0?e.dom:document,o=t.body.scrollLeft||t.documentElement.scrollLeft,a=t.body.scrollTop||t.documentElement.scrollTop;return He(o,a)},Un=(e,t,o)=>{const c=(o!==void 0?o.dom:document).defaultView;c&&c.scrollTo(e,t)},_s=(e,t)=>{ti().browser.isSafari()&&Ve(e.dom.scrollIntoViewIfNeeded)?e.dom.scrollIntoViewIfNeeded(!1):e.dom.scrollIntoView(t)},Kr=e=>{const t=e===void 0?window:e;return ti().browser.isFirefox()?te.none():te.from(t.visualViewport)},Ar=(e,t,o,a)=>({x:e,y:t,width:o,height:a,right:e+o,bottom:t+a}),Rc=e=>{const t=e===void 0?window:e,o=t.document,a=bo(Ke.fromDom(o));return Kr(t).fold(()=>{const c=t.document.documentElement,m=c.clientWidth,p=c.clientHeight;return Ar(a.left,a.top,m,p)},c=>Ar(Math.max(c.pageLeft,a.left),Math.max(c.pageTop,a.top),c.width,c.height))},Hd=(e,t)=>Ye(ri(e),t),zf=(e,t)=>{let o=[];return ye(ri(e),a=>{t(a)&&(o=o.concat([a])),o=o.concat(zf(a,t))}),o},da=(e,t)=>Tm(t,e),h1=(e,t,o)=>$i(e,t,o).isSome(),Mh=(e,t)=>$f(e,t).isSome(),fv=(e,t)=>$a(e,t).isSome();class Si{constructor(t,o){this.node=t,this.rootNode=o,this.current=this.current.bind(this),this.next=this.next.bind(this),this.prev=this.prev.bind(this),this.prev2=this.prev2.bind(this)}current(){return this.node}next(t){return this.node=this.findSibling(this.node,"firstChild","nextSibling",t),this.node}prev(t){return this.node=this.findSibling(this.node,"lastChild","previousSibling",t),this.node}prev2(t){return this.node=this.findPreviousNode(this.node,t),this.node}findSibling(t,o,a,c){if(t){if(!c&&t[o])return t[o];if(t!==this.rootNode){let m=t[a];if(m)return m;for(let p=t.parentNode;p&&p!==this.rootNode;p=p.parentNode)if(m=p[a],m)return m}}}findPreviousNode(t,o){if(t){const a=t.previousSibling;if(this.rootNode&&a===this.rootNode)return;if(a){if(!o){for(let m=a.lastChild;m;m=m.lastChild)if(!m.lastChild)return m}return a}const c=t.parentNode;if(c&&c!==this.rootNode)return c}}}const zr="\uFEFF",qa="",Ru=e=>e===zr,zd=e=>e.replace(/\uFEFF/g,""),Lh=/^[ \t\r\n]*$/,ec=e=>Lh.test(e),cl=e=>{for(const t of e)if(!Ru(t))return!1;return!0},Nm=e=>" \f	\v".indexOf(e)!==-1,Ud=e=>e===`
`||e==="\r",bx=(e,t)=>t<e.length&&t>=0?Ud(e[t]):!1,Fh=(e,t=4,o=!0,a=!0)=>{const c=gn(" ",t),m=e.replace(/\t/g,c);return fn(m,(S,T)=>Nm(T)||T===qa?S.pcIsSpace||S.str===""&&o||S.str.length===m.length-1&&a||bx(m,S.str.length+1)?{pcIsSpace:!1,str:S.str+qa}:{pcIsSpace:!0,str:S.str+" "}:{pcIsSpace:Ud(T),str:S.str+T},{pcIsSpace:!1,str:""}).str},nd=e=>t=>!!t&&t.nodeType===e,Wd=e=>!!e&&!Object.getPrototypeOf(e),Vn=nd(1),Dc=e=>Vn(e)&&ll(Ke.fromDom(e)),$h=e=>Vn(e)&&e.namespaceURI==="http://www.w3.org/2000/svg",jd=e=>{const t=e.toLowerCase();return o=>Oe(o)&&o.nodeName.toLowerCase()===t},li=e=>{const t=e.map(o=>o.toLowerCase());return o=>{if(o&&o.nodeName){const a=o.nodeName.toLowerCase();return xe(t,a)}return!1}},Nc=(e,t)=>{const o=t.toLowerCase().split(" ");return a=>{if(Vn(a)){const c=a.ownerDocument.defaultView;if(c)for(let m=0;m<o.length;m++){const p=c.getComputedStyle(a,null);if((p?p.getPropertyValue(e):null)===o[m])return!0}}return!1}},Im=e=>t=>Vn(t)&&t.hasAttribute(e),Zd=e=>Vn(e)&&e.hasAttribute("data-mce-bogus"),Gp=e=>Vn(e)&&e.getAttribute("data-mce-bogus")==="all",tu=e=>Vn(e)&&e.tagName==="TABLE",Eg=e=>t=>!!(Dc(t)&&(t.contentEditable===e||t.getAttribute("data-mce-contenteditable")===e)),Ag=li(["textarea","input"]),Xt=nd(3),mv=nd(4),Kd=nd(7),Mo=nd(8),jn=nd(9),qd=nd(11),Cr=jd("br"),Ic=jd("img"),Pc=Eg("true"),yo=Eg("false"),Tg=li(["td","th"]),p1=li(["td","th","caption"]),Rt=li(["video","audio","object","embed"]),gv=jd("li"),Og=jd("details"),Rg=jd("summary"),Pm={skipBogus:!0,includeZwsp:!1,checkRootAsContent:!1},Uf=(e,t,o)=>{const a=Ke.fromDom(t),c=Ke.fromDom(e),m=o.getWhitespaceElements();return h1(c,S=>ho(m,ls(S)),ot(ss,a))},b1=e=>Vn(e)&&e.nodeName==="A"&&!e.hasAttribute("href")&&(e.hasAttribute("name")||e.hasAttribute("id")),Gd=(e,t)=>Vn(e)&&ho(t.getNonEmptyElements(),e.nodeName),cr=Im("data-mce-bookmark"),Du=e=>$d(Ke.fromDom(e)).exists(t=>!br(t)),Vh=(e,t,o)=>ec(e.data)&&!Uf(e,t,o),nu=(e,t,o,a)=>Xt(e)&&!Vh(e,t,o)&&(!a.includeZwsp||!cl(e.data)),Wf=(e,t,o,a)=>Ve(a.isContent)&&a.isContent(t)||Gd(t,e)||cr(t)||b1(t)||nu(t,o,e,a)||yo(t)||Pc(t)&&Du(t),tc=(e,t,o)=>{const a={...Pm,...o};if(a.checkRootAsContent&&Wf(e,t,t,a))return!1;let c=t.firstChild,m=0;if(!c)return!0;const p=new Si(c,t);do{if(a.skipBogus&&Vn(c)){const S=c.getAttribute("data-mce-bogus");if(S){c=p.next(S==="all");continue}}if(Mo(c)){c=p.next(!0);continue}if(Cr(c)){m++,c=p.next();continue}if(Wf(e,c,t,a))return!1;c=p.next()}while(c);return m<=1},Tr=(e,t,o)=>tc(e,t.dom,{checkRootAsContent:!0,...o}),jf=(e,t,o)=>Wf(e,t,t,{includeZwsp:Pm.includeZwsp,...o}),Da=e=>{let t=e;return{get:()=>t,set:c=>{t=c}}},Yp=e=>{const t=Da(te.none()),o=()=>t.get().each(e);return{clear:()=>{o(),t.set(te.none())},isSet:()=>t.get().isSome(),get:()=>t.get(),set:S=>{o(),t.set(te.some(S))}}},Bc=e=>{const t=Da(te.none()),o=()=>t.get().each(S=>clearInterval(S));return{clear:()=>{o(),t.set(te.none())},isSet:()=>t.get().isSome(),get:()=>t.get(),set:S=>{o(),t.set(te.some(setInterval(S,e)))}}},xa=()=>{const e=Yp(Nt);return{...e,on:o=>e.get().each(o)}},en=e=>{const t=e.toLowerCase();return t==="svg"?"svg":t==="math"?"math":"html"},Zf=e=>en(e)!=="html",Va=e=>Zf(e.nodeName),I=e=>en(e.nodeName),U=["svg","math"],ie=()=>{const e=xa(),t=()=>e.get().map(I).getOr("html");return{track:c=>(Va(c)?e.set(c):e.get().exists(m=>!m.contains(c))&&e.clear(),t()),current:t,reset:()=>{e.clear()}}},Se="data-mce-block",et=e=>Ye(Yt(e),t=>!/[A-Z]/.test(t)),Pt=e=>Ue(et(e),t=>{const o=CSS.escape(t);return`${o}:`+Ue(U,a=>`not(${a} ${o})`).join(":")}).join(","),sn=(e,t)=>Oe(t.querySelector(e))?(t.setAttribute(Se,"true"),t.getAttribute("data-mce-selected")==="inline-boundary"&&t.removeAttribute("data-mce-selected"),!0):(t.removeAttribute(Se),!1),Bn=(e,t)=>{const o=Pt(e.getTransparentElements()),a=Pt(e.getBlockElements());return Ye(t.querySelectorAll(o),c=>sn(a,c))},Mn=(e,t,o)=>{var a;const c=o?"lastChild":"firstChild";for(let m=t[c];m;m=m[c])if(tc(e,m,{checkRootAsContent:!0})){(a=m.parentNode)===null||a===void 0||a.removeChild(m);return}},Lo=(e,t,o)=>{const a=document.createRange(),c=t.parentNode;if(c){a.setStartBefore(t),a.setEndBefore(o);const m=a.extractContents();Mn(e,m,!0),a.setStartAfter(o),a.setEndAfter(t);const p=a.extractContents();Mn(e,p,!1),tc(e,m,{checkRootAsContent:!0})||c.insertBefore(m,t),tc(e,o,{checkRootAsContent:!0})||c.insertBefore(o,t),tc(e,p,{checkRootAsContent:!0})||c.insertBefore(p,t),c.removeChild(t)}},Ro=(e,t,o)=>{const a=e.getBlockElements(),c=Ke.fromDom(t),m=S=>ls(S)in a,p=S=>ss(S,c);ye(kl(o),S=>{$i(S,m,p).each(T=>{const H=Hd(S,J=>m(J)&&!e.isValidChild(ls(T),ls(J)));if(H.length>0){const J=$d(T);ye(H,ee=>{$i(ee,m,p).each(re=>{Lo(e,re.dom,ee.dom)})}),J.each(ee=>Bn(e,ee.dom))}})})},Zo=(e,t,o)=>{ye([...o,...ou(e,t)?[t]:[]],a=>ye(da(Ke.fromDom(a),a.nodeName.toLowerCase()),c=>{Dg(e,c.dom)&&ai(c)}))},jo=(e,t)=>{const o=Bn(e,t);Ro(e,t,o),Zo(e,t,o)},oa=(e,t)=>{if(Kf(e,t)){const o=Pt(e.getBlockElements());sn(o,t)}},Ui=(e,t,o)=>{const a=m=>ss(m,Ke.fromDom(t)),c=Om(Ke.fromDom(o),a);Qa(c,c.length-2).filter(Zr).fold(()=>jo(e,t),m=>jo(e,m.dom))},Ur=e=>e.hasAttribute(Se),Nu=(e,t)=>ho(e.getTransparentElements(),t),Kf=(e,t)=>Vn(t)&&Nu(e,t.nodeName),ou=(e,t)=>Kf(e,t)&&Ur(t),Dg=(e,t)=>Kf(e,t)&&!Ur(t),od=(e,t)=>t.type===1&&Nu(e,t.name)&&le(t.attr(Se)),Hh=ti().browser,Bm=e=>Nn(e,Zr),qf=e=>Hh.isFirefox()&&ls(e)==="table"?Bm(ri(e)).filter(t=>ls(t)==="caption").bind(t=>Bm(Lf(t)).map(o=>{const a=o.dom.offsetTop,c=t.dom.offsetTop,m=t.dom.offsetHeight;return a<=c?-m:0})).getOr(0):0,Xp=(e,t)=>e.children&&xe(e.children,t),hv=(e,t,o)=>{let a=0,c=0;const m=e.ownerDocument;if(o=o||e,t){if(o===e&&t.getBoundingClientRect&&Ir(Ke.fromDom(e),"position")==="static"){const S=t.getBoundingClientRect();return a=S.left+(m.documentElement.scrollLeft||e.scrollLeft)-m.documentElement.clientLeft,c=S.top+(m.documentElement.scrollTop||e.scrollTop)-m.documentElement.clientTop,{x:a,y:c}}let p=t;for(;p&&p!==o&&p.nodeType&&!Xp(p,o);){const S=p;a+=S.offsetLeft||0,c+=S.offsetTop||0,p=S.offsetParent}for(p=t.parentNode;p&&p!==o&&p.nodeType&&!Xp(p,o);)a-=p.scrollLeft||0,c-=p.scrollTop||0,p=p.parentNode;c+=qf(Ke.fromDom(t))}return{x:a,y:c}},cs=(e,t={})=>{let o=0;const a={},c=Ke.fromDom(e),m=mc(c),p=Qe=>{t.referrerPolicy=Qe},S=Qe=>{t.contentCssCors=Qe},T=Qe=>{Pr(Ff(c),Qe)},H=Qe=>{const lt=Ff(c);Ft(lt,"#"+Qe).each(Ps)},J=Qe=>Hs(a,Qe).getOrThunk(()=>({id:"mce-u"+o++,passed:[],failed:[],count:0})),ee=Qe=>new Promise((lt,at)=>{let xt;const Zt=an._addCacheSuffix(Qe),un=J(Zt);a[Zt]=un,un.count++;const On=($n,Jn)=>{ye($n,mn),un.status=Jn,un.passed=[],un.failed=[],xt&&(xt.onload=null,xt.onerror=null,xt=null)},It=()=>On(un.passed,2),_t=()=>On(un.failed,3);if(lt&&un.passed.push(lt),at&&un.failed.push(at),un.status===1)return;if(un.status===2){It();return}if(un.status===3){_t();return}un.status=1;const Ut=Ke.fromTag("link",m.dom);Mi(Ut,{rel:"stylesheet",type:"text/css",id:un.id}),t.contentCssCors&&va(Ut,"crossOrigin","anonymous"),t.referrerPolicy&&va(Ut,"referrerpolicy",t.referrerPolicy),xt=Ut.dom,xt.onload=It,xt.onerror=_t,T(Ut),va(Ut,"href",Zt)}),re=(Qe,lt)=>{const at=J(Qe);a[Qe]=at,at.count++;const xt=Ke.fromTag("style",m.dom);Mi(xt,{rel:"stylesheet",type:"text/css",id:at.id}),xt.dom.innerHTML=lt,T(xt)},ve=Qe=>Promise.allSettled(Ue(Qe,at=>ee(at).then(ct(at)))).then(at=>{const xt=Be(at,Zt=>Zt.status==="fulfilled");return xt.fail.length>0?Promise.reject(Ue(xt.fail,Zt=>Zt.reason)):Ue(xt.pass,Zt=>Zt.value)}),Te=Qe=>{const lt=an._addCacheSuffix(Qe);Hs(a,lt).each(at=>{--at.count===0&&(delete a[lt],H(at.id))})};return{load:ee,loadRawCss:re,loadAll:ve,unload:Te,unloadRawCss:Qe=>{Hs(a,Qe).each(lt=>{--lt.count===0&&(delete a[Qe],H(lt.id))})},unloadAll:Qe=>{ye(Qe,lt=>{Te(lt)})},_setReferrerPolicy:p,_setContentCssCors:S}},Wi=(()=>{const e=new WeakMap;return{forElement:(o,a)=>{const m=Qc(o).dom;return te.from(e.get(m)).getOrThunk(()=>{const p=cs(m,a);return e.set(m,p),p})}}})(),$l=e=>e.nodeName.toLowerCase()==="span",pv=(e,t)=>Oe(e)&&(jf(t,e)||t.isInline(e.nodeName.toLowerCase())),bv=(e,t,o)=>{const a=new Si(e,t).prev(!1),c=new Si(e,t).next(!1),m=Ze(a)||pv(a,o),p=Ze(c)||pv(c,o);return m&&p},Gf=e=>$l(e)&&e.getAttribute("data-mce-type")==="bookmark",Ng=(e,t,o)=>Xt(e)&&e.data.length>0&&bv(e,t,o),vx=e=>Vn(e)?e.childNodes.length>0:!1,vv=e=>qd(e)||jn(e),Jp=(e,t,o,a)=>{var c;const m=a||t;if(Vn(t)&&Gf(t))return t;const p=t.childNodes;for(let S=p.length-1;S>=0;S--)Jp(e,p[S],o,m);if(Vn(t)){const S=t.childNodes;S.length===1&&Gf(S[0])&&((c=t.parentNode)===null||c===void 0||c.insertBefore(S[0],t))}return!vv(t)&&!jf(o,t)&&!vx(t)&&!Ng(t,m,o)&&e.remove(t),t},yx=an.makeMap,yv=/[&<>\"\u0060\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,xv=/[<>&\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Ig=/[<>&\"\']/g,Qp=/&#([a-z0-9]+);?|&([a-z0-9]+);/gi,xx={128:"",130:"",131:"",132:"",133:"",134:"",135:"",136:"",137:"",138:"",139:"",140:"",142:"",145:"",146:"",147:"",148:"",149:"",150:"",151:"",152:"",153:"",154:"",155:"",156:"",158:"",159:""},Yf={'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;","&":"&amp;","`":"&#96;"},zh={"&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"',"&apos;":"'"},Uh=e=>{const t=Ke.fromTag("div").dom;return t.innerHTML=e,t.textContent||t.innerText||e},Xf=(e,t)=>{const o={};if(e){const a=e.split(",");t=t||10;for(let c=0;c<a.length;c+=2){const m=String.fromCharCode(parseInt(a[c],t));if(!Yf[m]){const p="&"+a[c+1]+";";o[m]=p,o[p]=m}}return o}else return},Mm=Xf("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32),wv=(e,t)=>e.replace(t?yv:xv,o=>Yf[o]||o),eE=e=>(""+e).replace(Ig,t=>Yf[t]||t),Cv=(e,t)=>e.replace(t?yv:xv,o=>o.length>1?"&#"+((o.charCodeAt(0)-55296)*1024+(o.charCodeAt(1)-56320)+65536)+";":Yf[o]||"&#"+o.charCodeAt(0)+";"),Iu=(e,t,o)=>{const a=o||Mm;return e.replace(t?yv:xv,c=>Yf[c]||a[c]||c)},Wh={encodeRaw:wv,encodeAllRaw:eE,encodeNumeric:Cv,encodeNamed:Iu,getEncodeFunc:(e,t)=>{const o=Xf(t)||Mm,a=(p,S)=>p.replace(S?yv:xv,T=>Yf[T]!==void 0?Yf[T]:o[T]!==void 0?o[T]:T.length>1?"&#"+((T.charCodeAt(0)-55296)*1024+(T.charCodeAt(1)-56320)+65536)+";":"&#"+T.charCodeAt(0)+";"),c=(p,S)=>Iu(p,S,o),m=yx(e.replace(/\+/g,","));return m.named&&m.numeric?a:m.named?t?c:Iu:m.numeric?Cv:wv},decode:e=>e.replace(Qp,(t,o)=>o?(o.charAt(0).toLowerCase()==="x"?o=parseInt(o.substr(1),16):o=parseInt(o,10),o>65535?(o-=65536,String.fromCharCode(55296+(o>>10),56320+(o&1023))):xx[o]||String.fromCharCode(o)):zh[t]||Mm[t]||Uh(t))},ji=(e,t)=>(e=an.trim(e),e?e.split(t||" "):[]),jh=e=>new RegExp("^"+e.replace(/([?+*])/g,".$1")+"$"),Zh=e=>q(e)&&e.source&&Object.prototype.toString.call(e)==="[object RegExp]",v1=e=>{const t=o=>ne(o)?Ue(o,t):Zh(o)?new RegExp(o.source,o.flags):q(o)?Bl(o,t):o;return t(e)},vs=e=>{const t=/^(~)?(.+)$/;return Wo(ji(e,","),o=>{const a=t.exec(o);if(a){const m=a[1]==="~"?"span":"div",p=a[2];return[{cloneName:m,name:p}]}else return[]})},nc=e=>Object.freeze(["id","accesskey","class","dir","lang","style","tabindex","title","role",...e!=="html4"?["contenteditable","contextmenu","draggable","dropzone","hidden","spellcheck","translate","itemprop","itemscope","itemtype"]:[],...e!=="html5-strict"?["xml:lang"]:[]]),Yd=e=>{let t,o;t="address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul",o="a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd label map noscript object q s samp script select small span strong sub sup textarea u var #text #comment",e!=="html4"&&(t+=" article aside details dialog figure main header footer hgroup section nav "+"a ins del canvas map",o+=" audio canvas command data datalist mark meter output picture progress time wbr video ruby bdi keygen svg"),e!=="html5-strict"&&(o=[o,"acronym applet basefont big font strike tt"].join(" "),t=[t,"center dir isindex noframes"].join(" "));const a=[t,o].join(" ");return{blockContent:t,phrasingContent:o,flowContent:a}},ul=e=>{const{blockContent:t,phrasingContent:o,flowContent:a}=Yd(e),c=m=>Object.freeze(m.split(" "));return Object.freeze({blockContent:c(t),phrasingContent:c(o),flowContent:c(a)})},ur={html4:sl(()=>ul("html4")),html5:sl(()=>ul("html5")),"html5-strict":sl(()=>ul("html5-strict"))},Sv=(e,t)=>{const{blockContent:o,phrasingContent:a,flowContent:c}=ur[e]();return t==="blocks"?te.some(o):t==="phrasing"?te.some(a):t==="flow"?te.some(c):te.none()},vC=e=>{const t=nc(e),{phrasingContent:o,flowContent:a}=Yd(e),c={},m=(T,H,J)=>{c[T]={attributes:Qr(H,ct({})),attributesOrder:H,children:Qr(J,ct({}))}},p=(T,H="",J="")=>{const ee=ji(J),re=ji(T);let ve=re.length;const Te=[...t,...ji(H)];for(;ve--;)m(re[ve],Te.slice(),ee)},S=(T,H)=>{const J=ji(T),ee=ji(H);let re=J.length;for(;re--;){const ve=c[J[re]];for(let Te=0,we=ee.length;Te<we;Te++)ve.attributes[ee[Te]]={},ve.attributesOrder.push(ee[Te])}};return e!=="html5-strict"&&(ye(ji("acronym applet basefont big font strike tt"),J=>{p(J,"",o)}),ye(ji("center dir isindex noframes"),J=>{p(J,"",a)})),p("html","manifest","head body"),p("head","","base command link meta noscript script style title"),p("title hr noscript br"),p("base","href target"),p("link","href rel media hreflang type sizes hreflang"),p("meta","name http-equiv content charset"),p("style","media type scoped"),p("script","src async defer type charset"),p("body","onafterprint onbeforeprint onbeforeunload onblur onerror onfocus onhashchange onload onmessage onoffline ononline onpagehide onpageshow onpopstate onresize onscroll onstorage onunload",a),p("dd div","",a),p("address dt caption","",e==="html4"?o:a),p("h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn","",o),p("blockquote","cite",a),p("ol","reversed start type","li"),p("ul","","li"),p("li","value",a),p("dl","","dt dd"),p("a","href target rel media hreflang type",e==="html4"?o:a),p("q","cite",o),p("ins del","cite datetime",a),p("img","src sizes srcset alt usemap ismap width height"),p("iframe","src name width height",a),p("embed","src type width height"),p("object","data type typemustmatch name usemap form width height",[a,"param"].join(" ")),p("param","name value"),p("map","name",[a,"area"].join(" ")),p("area","alt coords shape href target rel media hreflang type"),p("table","border","caption colgroup thead tfoot tbody tr"+(e==="html4"?" col":"")),p("colgroup","span","col"),p("col","span"),p("tbody thead tfoot","","tr"),p("tr","","td th"),p("td","colspan rowspan headers",a),p("th","colspan rowspan headers scope abbr",a),p("form","accept-charset action autocomplete enctype method name novalidate target",a),p("fieldset","disabled form name",[a,"legend"].join(" ")),p("label","form for",o),p("input","accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate formtarget height list max maxlength min multiple name pattern readonly required size src step type value width"),p("button","disabled form formaction formenctype formmethod formnovalidate formtarget name type value",e==="html4"?a:o),p("select","disabled form multiple name required size","option optgroup"),p("optgroup","disabled label","option"),p("option","disabled label selected value"),p("textarea","cols dirname disabled form maxlength name readonly required rows wrap"),p("menu","type label",[a,"li"].join(" ")),p("noscript","",a),e!=="html4"&&(p("wbr"),p("ruby","",[o,"rt rp"].join(" ")),p("figcaption","",a),p("mark rt rp bdi","",o),p("summary","",[o,"h1 h2 h3 h4 h5 h6"].join(" ")),p("canvas","width height",a),p("data","value",o),p("video","src crossorigin poster preload autoplay mediagroup loop muted controls width height buffered",[a,"track source"].join(" ")),p("audio","src crossorigin preload autoplay mediagroup loop muted controls buffered volume",[a,"track source"].join(" ")),p("picture","","img source"),p("source","src srcset type media sizes"),p("track","kind src srclang label default"),p("datalist","",[o,"option"].join(" ")),p("article section nav aside main header footer","",a),p("hgroup","","h1 h2 h3 h4 h5 h6"),p("figure","",[a,"figcaption"].join(" ")),p("time","datetime",o),p("dialog","open",a),p("command","type label icon disabled checked radiogroup command"),p("output","for form name",o),p("progress","value max",o),p("meter","value min max low high optimum",o),p("details","open",[a,"summary"].join(" ")),p("keygen","autofocus challenge disabled form keytype name"),m("svg","id tabindex lang xml:space class style x y width height viewBox preserveAspectRatio zoomAndPan transform".split(" "),[])),e!=="html5-strict"&&(S("script","language xml:space"),S("style","xml:space"),S("object","declare classid code codebase codetype archive standby align border hspace vspace"),S("embed","align name hspace vspace"),S("param","valuetype type"),S("a","charset name rev shape coords"),S("br","clear"),S("applet","codebase archive code object alt name width height align hspace vspace"),S("img","name longdesc align border hspace vspace"),S("iframe","longdesc frameborder marginwidth marginheight scrolling align"),S("font basefont","size color face"),S("input","usemap align"),S("select"),S("textarea"),S("h1 h2 h3 h4 h5 h6 div p legend caption","align"),S("ul","type compact"),S("li","type"),S("ol dl menu dir","compact"),S("pre","width xml:space"),S("hr","align noshade size width"),S("isindex","prompt"),S("table","summary width frame rules cellspacing cellpadding align bgcolor"),S("col","width align char charoff valign"),S("colgroup","width align char charoff valign"),S("thead","align char charoff valign"),S("tr","align char charoff valign bgcolor"),S("th","axis align char charoff valign nowrap bgcolor width height"),S("form","accept"),S("td","abbr axis scope align char charoff valign nowrap bgcolor width height"),S("tfoot","align char charoff valign"),S("tbody","align char charoff valign"),S("area","nohref"),S("body","background bgcolor text link vlink alink")),e!=="html4"&&(S("input button select textarea","autofocus"),S("input textarea","placeholder"),S("a","download"),S("link script img","crossorigin"),S("img","loading"),S("iframe","sandbox seamless allow allowfullscreen loading referrerpolicy")),e!=="html4"&&ye([c.video,c.audio],T=>{delete T.children.audio,delete T.children.video}),ye(ji("a form meter progress dfn"),T=>{c[T]&&delete c[T].children[T]}),delete c.caption.children.table,delete c.script,c},tE=e=>e==="-"?"remove":"add",Or=e=>{const t=/^(@?)([A-Za-z0-9_\-.\u00b7\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u037d\u037f-\u1fff\u200c-\u200d\u203f-\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]+)$/;return te.from(t.exec(e)).map(o=>({preset:o[1]==="@",name:o[2]}))},y1=e=>{const t=/^([+\-]?)([A-Za-z0-9_\-.\u00b7\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u037d\u037f-\u1fff\u200c-\u200d\u203f-\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]+)\[([^\]]+)]$/;return Wo(ji(e,","),o=>{const a=t.exec(o);if(a){const c=a[1],m=c?tE(c):"replace",p=a[2],S=Wo(ji(a[3],"|"),T=>Or(T).toArray());return[{operation:m,name:p,validChildren:S}]}else return[]})},Cx=(e,t)=>{const o=/^([!\-])?(\w+[\\:]:\w+|[^=~<]+)?(?:([=~<])(.*))?$/,a=/[*?+]/,{attributes:c,attributesOrder:m}=t;return ye(ji(e,"|"),p=>{const S=o.exec(p);if(S){const T={},H=S[1],J=S[2].replace(/[\\:]:/g,":"),ee=S[3],re=S[4];if(H==="!"&&(t.attributesRequired=t.attributesRequired||[],t.attributesRequired.push(J),T.required=!0),H==="-"){delete c[J],m.splice(an.inArray(m,J),1);return}if(ee&&(ee==="="?(t.attributesDefault=t.attributesDefault||[],t.attributesDefault.push({name:J,value:re}),T.defaultValue=re):ee==="~"?(t.attributesForced=t.attributesForced||[],t.attributesForced.push({name:J,value:re}),T.forcedValue=re):ee==="<"&&(T.validValues=an.makeMap(re,"?"))),a.test(J)){const ve=T;t.attributePatterns=t.attributePatterns||[],ve.pattern=jh(J),t.attributePatterns.push(ve)}else c[J]||m.push(J),c[J]=T}})},Pg=(e,t)=>{Vo(e.attributes,(o,a)=>{t.attributes[a]=o}),t.attributesOrder.push(...e.attributesOrder)},Pu=(e,t)=>{const o=/^([#+\-])?([^\[!\/]+)(?:\/([^\[!]+))?(?:(!?)\[([^\]]+)])?$/;return Wo(ji(t,","),a=>{const c=o.exec(a);if(c){const m=c[1],p=c[2],S=c[3],T=c[4],H=c[5],J={attributes:{},attributesOrder:[]};if(e.each(ee=>Pg(ee,J)),m==="#"?J.paddEmpty=!0:m==="-"&&(J.removeEmpty=!0),T==="!"&&(J.removeEmptyAttrs=!0),H&&Cx(H,J),S&&(J.outputName=p),p==="@")if(e.isNone())e=te.some(J);else return[];return[S?{name:p,element:J,aliasName:S}:{name:p,element:J}]}else return[]})},eb={},In=an.makeMap,sd=an.each,Sx=an.extend,x1=an.explode,tb=(e,t={})=>{const o=In(e," ",In(e.toUpperCase()," "));return Sx(o,t)},w1=e=>tb("td th li dt dd figcaption caption details summary",e.getTextBlockElements()),Kh=(e,t)=>{if(e){const o={};return le(e)&&(e={"*":e}),sd(e,(a,c)=>{o[c]=o[c.toUpperCase()]=t==="map"?In(a,/[, ]/):x1(a,/[, ]/)}),o}else return},Bu=(e={})=>{var t;const o={},a={};let c=[];const m={},p={},S=(to,Es,ha)=>{const Ua=e[to];if(Ua)return In(Ua,/[, ]/,In(Ua.toUpperCase(),/[, ]/));{let Ti=eb[to];return Ti||(Ti=tb(Es,ha),eb[to]=Ti),Ti}},T=(t=e.schema)!==null&&t!==void 0?t:"html5",H=vC(T);e.verify_html===!1&&(e.valid_elements="*[*]");const J=Kh(e.valid_styles),ee=Kh(e.invalid_styles,"map"),re=Kh(e.valid_classes,"map"),ve=S("whitespace_elements","pre script noscript style textarea video audio iframe object code"),Te=S("self_closing_elements","colgroup dd dt li option p td tfoot th thead tr"),we=S("void_elements","area base basefont br col frame hr img input isindex link meta param embed source wbr track"),Me=S("boolean_attributes","checked compact declare defer disabled ismap multiple nohref noresize noshade nowrap readonly selected autoplay loop controls allowfullscreen"),Qe="td th iframe video audio object script code",lt=S("non_empty_elements",Qe+" pre svg textarea summary",we),at=S("move_caret_before_on_enter_elements",Qe+" table",we),xt="h1 h2 h3 h4 h5 h6",Zt=S("text_block_elements",xt+" p div address pre form blockquote center dir fieldset header footer article section hgroup aside main nav figure"),un=S("block_elements","hr table tbody thead tfoot th tr td li ol ul caption dl dt dd noscript menu isindex option datalist select optgroup figcaption details summary html body multicol listing",Zt),On=S("text_inline_elements","span strong b em i font s strike u var cite dfn code mark q sup sub samp"),It=S("transparent_elements","a ins del canvas map"),_t=S("wrap_block_elements","pre "+xt);sd("script noscript iframe noframes noembed title style textarea xmp plaintext".split(" "),to=>{p[to]=new RegExp("</"+to+"[^>]*>","gi")});const Ut=to=>{const Es=te.from(o["@"]),ha=/[*?+]/;ye(Pu(Es,to??""),({name:Ua,element:Ti,aliasName:Zl})=>{if(Zl&&(o[Zl]=Ti),ha.test(Ua)){const fi=Ti;fi.pattern=jh(Ua),c.push(fi)}else o[Ua]=Ti})},$n=to=>{c=[],ye(Yt(o),Es=>{delete o[Es]}),Ut(to)},Jn=(to,Es)=>{var ha,Ua;delete eb.text_block_elements,delete eb.block_elements;const Ti=Es.extends?!hf(Es.extends):!1,Zl=Es.extends;if(a[to]=Zl?a[Zl]:{},m[to]=Zl??to,lt[to.toUpperCase()]={},lt[to]={},Ti||(un[to.toUpperCase()]={},un[to]={}),Zl&&!o[to]&&o[Zl]){const fi=v1(o[Zl]);delete fi.removeEmptyAttrs,delete fi.removeEmpty,o[to]=fi}else o[to]={attributesOrder:[],attributes:{}};if(ne(Es.attributes)){const fi=mu=>{mi.attributesOrder.push(mu),mi.attributes[mu]={}},mi=(ha=o[to])!==null&&ha!==void 0?ha:{};delete mi.attributesDefault,delete mi.attributesForced,delete mi.attributePatterns,delete mi.attributesRequired,mi.attributesOrder=[],mi.attributes={},ye(Es.attributes,mu=>{const bh=nc(T);Or(mu).each(({preset:vh,name:yh})=>{vh?yh==="global"&&ye(bh,fi):fi(yh)})}),o[to]=mi}if(Fe(Es.padEmpty)){const fi=(Ua=o[to])!==null&&Ua!==void 0?Ua:{};fi.paddEmpty=Es.padEmpty,o[to]=fi}if(ne(Es.children)){const fi={},mi=bh=>{fi[bh]={}},mu=bh=>{Sv(T,bh).each(vh=>{ye(vh,mi)})};ye(Es.children,bh=>{Or(bh).each(({preset:vh,name:yh})=>{vh?mu(yh):mi(yh)})}),a[to]=fi}Zl&&Vo(a,(fi,mi)=>{fi[Zl]&&(a[mi]=fi=Sx({},a[mi]),fi[to]=fi[Zl])})},Jo=to=>{ye(vs(to??""),({name:Es,cloneName:ha})=>{Jn(Es,{extends:ha})})},as=to=>{q(to)?Vo(to,(Es,ha)=>Jn(ha,Es)):le(to)&&Jo(to)},Ks=to=>{ye(y1(to??""),({operation:Es,name:ha,validChildren:Ua})=>{const Ti=Es==="replace"?{"#comment":{}}:a[ha],Zl=mi=>{Es==="remove"?delete Ti[mi]:Ti[mi]={}},fi=mi=>{Sv(T,mi).each(mu=>{ye(mu,Zl)})};ye(Ua,({preset:mi,name:mu})=>{mi?fi(mu):Zl(mu)}),a[ha]=Ti})},sr=to=>{const Es=o[to];if(Es)return Es;let ha=c.length;for(;ha--;){const Ua=c[ha];if(Ua.pattern.test(to))return Ua}},Ia=()=>{e.valid_elements?($n(e.valid_elements),sd(H,(to,Es)=>{a[Es]=to.children})):(sd(H,(to,Es)=>{o[Es]={attributes:to.attributes,attributesOrder:to.attributesOrder},a[Es]=to.children}),sd(ji("strong/b em/i"),to=>{const Es=ji(to,"/");o[Es[1]].outputName=Es[0]}),sd(On,(to,Es)=>{o[Es]&&(e.padd_empty_block_inline_children&&(o[Es].paddInEmptyBlock=!0),o[Es].removeEmpty=!0)}),sd(ji("ol ul blockquote a table tbody"),to=>{o[to]&&(o[to].removeEmpty=!0)}),sd(ji("p h1 h2 h3 h4 h5 h6 th td pre div address caption li summary"),to=>{o[to]&&(o[to].paddEmpty=!0)}),sd(ji("span"),to=>{o[to].removeEmptyAttrs=!0})),delete o.svg,as(e.custom_elements),Ks(e.valid_children),Ut(e.extended_valid_elements),Ks("+ol[ul|ol],+ul[ul|ol]"),sd({dd:"dl",dt:"dl",li:"ul ol",td:"tr",th:"tr",tr:"tbody thead tfoot",tbody:"table",thead:"table",tfoot:"table",legend:"fieldset",area:"map",param:"video audio object"},(to,Es)=>{o[Es]&&(o[Es].parentsRequired=ji(to))}),e.invalid_elements&&sd(x1(e.invalid_elements),to=>{o[to]&&delete o[to]}),sr("span")||Ut("span[!data-mce-type|*]")},uc=ct(J),mr=ct(ee),vn=ct(re),Gn=ct(Me),Bs=ct(un),Sn=ct(Zt),lo=ct(On),ts=ct(Object.seal(we)),An=ct(Te),Qo=ct(lt),us=ct(at),gl=ct(ve),nr=ct(It),Ji=ct(_t),lg=ct(Object.seal(p)),Dp=(to,Es)=>{const ha=a[to.toLowerCase()];return!!(ha&&ha[Es.toLowerCase()])},fu=(to,Es)=>{const ha=sr(to);if(ha)if(Es){if(ha.attributes[Es])return!0;const Ua=ha.attributePatterns;if(Ua){let Ti=Ua.length;for(;Ti--;)if(Ua[Ti].pattern.test(Es))return!0}}else return!0;return!1},hf=to=>ho(Bs(),to),cg=to=>!hr(to,"#")&&fu(to)&&!hf(to),pf=to=>ho(Ji(),to)||cg(to),ug=ct(m);return Ia(),{type:T,children:a,elements:o,getValidStyles:uc,getValidClasses:vn,getBlockElements:Bs,getInvalidStyles:mr,getVoidElements:ts,getTextBlockElements:Sn,getTextInlineElements:lo,getBoolAttrs:Gn,getElementRule:sr,getSelfClosingElements:An,getNonEmptyElements:Qo,getMoveCaretBeforeOnEnterElements:us,getWhitespaceElements:gl,getTransparentElements:nr,getSpecialElements:lg,isValidChild:Dp,isValid:fu,isBlock:hf,isInline:cg,isWrapper:pf,getCustomElements:ug,addValidElements:Ut,setValidElements:$n,addCustomElements:as,addValidChildren:Ks}},nE=e=>({value:C1(e)}),C1=e=>bi(e,"#").toUpperCase(),_x=e=>{const t=e.toString(16);return(t.length===1?"0"+t:t).toUpperCase()},S1=e=>{const t=_x(e.red)+_x(e.green)+_x(e.blue);return nE(t)},kx=/^\s*rgb\s*\(\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*(\d+)\s*\)\s*$/i,Ex=/^\s*rgba\s*\(\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*((?:\d?\.\d+|\d+)%?)\s*\)\s*$/i,_1=(e,t,o,a)=>({red:e,green:t,blue:o,alpha:a}),Ax=(e,t,o,a)=>{const c=parseInt(e,10),m=parseInt(t,10),p=parseInt(o,10),S=parseFloat(a);return _1(c,m,p,S)},Tx=e=>kx.test(e)?"rgb":Ex.test(e)?"rgba":"other",yC=e=>{const t=kx.exec(e);if(t!==null)return te.some(Ax(t[1],t[2],t[3],"1"));const o=Ex.exec(e);return o!==null?te.some(Ax(o[1],o[2],o[3],o[4])):te.none()},oE=e=>`rgba(${e.red},${e.green},${e.blue},${e.alpha})`,_v=e=>yC(e).map(S1).map(t=>"#"+t.value).getOr(e),Ox=(e={},t)=>{const o=/(?:url(?:(?:\(\s*\"([^\"]+)\"\s*\))|(?:\(\s*\'([^\']+)\'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:\'([^\']+)\')|(?:\"([^\"]+)\")/gi,a=/\s*([^:]+):\s*([^;]+);?/g,c=/\s+$/,m={};let p,S;const T=zr;t&&(p=t.getValidStyles(),S=t.getInvalidStyles());const H=(`\\" \\' \\; \\: ; : `+T).split(" ");for(let ee=0;ee<H.length;ee++)m[H[ee]]=T+ee,m[T+ee]=H[ee];const J={parse:ee=>{const re={};let ve=!1;const Te=e.url_converter,we=e.url_converter_scope||J,Me=(It,_t,Ut)=>{const $n=re[It+"-top"+_t];if(!$n)return;const Jn=re[It+"-right"+_t];if(!Jn)return;const Jo=re[It+"-bottom"+_t];if(!Jo)return;const as=re[It+"-left"+_t];if(!as)return;const Ks=[$n,Jn,Jo,as];let sr=Ks.length-1;for(;sr--&&Ks[sr]===Ks[sr+1];);sr>-1&&Ut||(re[It+_t]=sr===-1?Ks[0]:Ks.join(" "),delete re[It+"-top"+_t],delete re[It+"-right"+_t],delete re[It+"-bottom"+_t],delete re[It+"-left"+_t])},Qe=It=>{const _t=re[It];if(!_t)return;const Ut=_t.indexOf(",")>-1?[_t]:_t.split(" ");let $n=Ut.length;for(;$n--;)if(Ut[$n]!==Ut[0])return!1;return re[It]=Ut[0],!0},lt=(It,_t,Ut,$n)=>{Qe(_t)&&Qe(Ut)&&Qe($n)&&(re[It]=re[_t]+" "+re[Ut]+" "+re[$n],delete re[_t],delete re[Ut],delete re[$n])},at=It=>(ve=!0,m[It]),xt=(It,_t)=>(ve&&(It=It.replace(/\uFEFF[0-9]/g,Ut=>m[Ut])),_t||(It=It.replace(/\\([\'\";:])/g,"$1")),It),Zt=It=>String.fromCharCode(parseInt(It.slice(1),16)),un=It=>It.replace(/\\[0-9a-f]+/gi,Zt),On=(It,_t,Ut,$n,Jn,Jo)=>{if(Jn=Jn||Jo,Jn)return Jn=xt(Jn),"'"+Jn.replace(/\'/g,"\\'")+"'";if(_t=xt(_t||Ut||$n||""),!e.allow_script_urls){const as=_t.replace(/[\s\r\n]+/g,"");if(/(java|vb)script:/i.test(as)||!e.allow_svg_data_urls&&/^data:image\/svg/i.test(as))return""}return Te&&(_t=Te.call(we,_t,"style")),"url('"+_t.replace(/\'/g,"\\'")+"')"};if(ee){ee=ee.replace(/[\u0000-\u001F]/g,""),ee=ee.replace(/\\[\"\';:\uFEFF]/g,at).replace(/\"[^\"]+\"|\'[^\']+\'/g,_t=>_t.replace(/[;:]/g,at));let It;for(;It=a.exec(ee);){a.lastIndex=It.index+It[0].length;let _t=It[1].replace(c,"").toLowerCase(),Ut=It[2].replace(c,"");if(_t&&Ut){if(_t=un(_t),Ut=un(Ut),_t.indexOf(T)!==-1||_t.indexOf('"')!==-1||!e.allow_script_urls&&(_t==="behavior"||/expression\s*\(|\/\*|\*\//.test(Ut)))continue;_t==="font-weight"&&Ut==="700"?Ut="bold":(_t==="color"||_t==="background-color")&&(Ut=Ut.toLowerCase()),Tx(Ut)==="rgb"&&yC(Ut).each($n=>{Ut=_v(oE($n)).toLowerCase()}),Ut=Ut.replace(o,On),re[_t]=ve?xt(Ut,!0):Ut}}Me("border","",!0),Me("border","-width"),Me("border","-color"),Me("border","-style"),Me("padding",""),Me("margin",""),lt("border","border-width","border-style","border-color"),re.border==="medium none"&&delete re.border,re["border-image"]==="none"&&delete re["border-image"]}return re},serialize:(ee,re)=>{let ve="";const Te=(Me,Qe)=>{const lt=Qe[Me];if(lt)for(let at=0,xt=lt.length;at<xt;at++){const Zt=lt[at],un=ee[Zt];un&&(ve+=(ve.length>0?" ":"")+Zt+": "+un+";")}},we=(Me,Qe)=>{if(!S||!Qe)return!0;let lt=S["*"];return lt&&lt[Me]?!1:(lt=S[Qe],!(lt&&lt[Me]))};return re&&p?(Te("*",p),Te(re,p)):Vo(ee,(Me,Qe)=>{Me&&we(Qe,re)&&(ve+=(ve.length>0?" ":"")+Qe+": "+Me+";")}),ve}};return J},qh={keyLocation:!0,layerX:!0,layerY:!0,returnValue:!0,webkitMovementX:!0,webkitMovementY:!0,keyIdentifier:!0,mozPressure:!0},sE=e=>e instanceof Event||Ve(e.initEvent),rE=e=>e.isDefaultPrevented===Gt||e.isDefaultPrevented===Fn,Lm=e=>rt(e.preventDefault)||sE(e),Bg=(e,t)=>{const o=t??{};for(const a in e)ho(qh,a)||(o[a]=e[a]);return Oe(e.composedPath)&&(o.composedPath=()=>e.composedPath()),Oe(e.getModifierState)&&(o.getModifierState=a=>e.getModifierState(a)),Oe(e.getTargetRanges)&&(o.getTargetRanges=()=>e.getTargetRanges()),o},k1=(e,t,o,a)=>{var c;const m=Bg(t,a);return m.type=e,rt(m.target)&&(m.target=(c=m.srcElement)!==null&&c!==void 0?c:o),Lm(t)&&(m.preventDefault=()=>{m.defaultPrevented=!0,m.isDefaultPrevented=Gt,Ve(t.preventDefault)&&t.preventDefault()},m.stopPropagation=()=>{m.cancelBubble=!0,m.isPropagationStopped=Gt,Ve(t.stopPropagation)&&t.stopPropagation()},m.stopImmediatePropagation=()=>{m.isImmediatePropagationStopped=Gt,m.stopPropagation()},rE(m)||(m.isDefaultPrevented=m.defaultPrevented===!0?Gt:Fn,m.isPropagationStopped=m.cancelBubble===!0?Gt:Fn,m.isImmediatePropagationStopped=Fn)),m},xC="mce-data-",Rx=/^(?:mouse|contextmenu)|click/,kv=(e,t,o,a)=>{e.addEventListener(t,o,a||!1)},Jf=(e,t,o,a)=>{e.removeEventListener(t,o,a||!1)},E1=e=>Oe(e)&&Rx.test(e.type),Ha=(e,t)=>{const o=k1(e.type,e,document,t);if(E1(e)&&Ze(e.pageX)&&!Ze(e.clientX)){const a=o.target.ownerDocument||document,c=a.documentElement,m=a.body,p=o;p.pageX=e.clientX+(c&&c.scrollLeft||m&&m.scrollLeft||0)-(c&&c.clientLeft||m&&m.clientLeft||0),p.pageY=e.clientY+(c&&c.scrollTop||m&&m.scrollTop||0)-(c&&c.clientTop||m&&m.clientTop||0)}return o},sa=(e,t,o)=>{const a=e.document,c={type:"ready"};if(o.domLoaded){t(c);return}const m=()=>a.readyState==="complete"||a.readyState==="interactive"&&a.body,p=()=>{Jf(e,"DOMContentLoaded",p),Jf(e,"load",p),o.domLoaded||(o.domLoaded=!0,t(c)),e=null};m()?p():kv(e,"DOMContentLoaded",p),o.domLoaded||kv(e,"load",p)};class Fm{constructor(){this.domLoaded=!1,this.events={},this.count=1,this.expando=xC+(+new Date).toString(32),this.hasFocusIn="onfocusin"in document.documentElement,this.count=1}bind(t,o,a,c){const m=this;let p;const S=window,T=re=>{m.executeHandlers(Ha(re||S.event),H)};if(!t||Xt(t)||Mo(t))return a;let H;t[m.expando]?H=t[m.expando]:(H=m.count++,t[m.expando]=H,m.events[H]={}),c=c||t;const J=o.split(" ");let ee=J.length;for(;ee--;){let re=J[ee],ve=T,Te=!1,we=!1;if(re==="DOMContentLoaded"&&(re="ready"),m.domLoaded&&re==="ready"&&t.readyState==="complete"){a.call(c,Ha({type:re}));continue}!m.hasFocusIn&&(re==="focusin"||re==="focusout")&&(Te=!0,we=re==="focusin"?"focus":"blur",ve=Me=>{const Qe=Ha(Me||S.event);Qe.type=Qe.type==="focus"?"focusin":"focusout",m.executeHandlers(Qe,H)}),p=m.events[H][re],p?re==="ready"&&m.domLoaded?a(Ha({type:re})):p.push({func:a,scope:c}):(m.events[H][re]=p=[{func:a,scope:c}],p.fakeName=we,p.capture=Te,p.nativeHandler=ve,re==="ready"?sa(t,ve,m):kv(t,we||re,ve,Te))}return t=p=null,a}unbind(t,o,a){if(!t||Xt(t)||Mo(t))return this;const c=t[this.expando];if(c){let m=this.events[c];if(o){const p=o.split(" ");let S=p.length;for(;S--;){const T=p[S],H=m[T];if(H){if(a){let J=H.length;for(;J--;)if(H[J].func===a){const ee=H.nativeHandler,re=H.fakeName,ve=H.capture,Te=H.slice(0,J).concat(H.slice(J+1));Te.nativeHandler=ee,Te.fakeName=re,Te.capture=ve,m[T]=Te}}(!a||H.length===0)&&(delete m[T],Jf(t,H.fakeName||T,H.nativeHandler,H.capture))}}}else Vo(m,(p,S)=>{Jf(t,p.fakeName||S,p.nativeHandler,p.capture)}),m={};for(const p in m)if(ho(m,p))return this;delete this.events[c];try{delete t[this.expando]}catch{t[this.expando]=null}}return this}fire(t,o,a){return this.dispatch(t,o,a)}dispatch(t,o,a){if(!t||Xt(t)||Mo(t))return this;const c=Ha({type:o,target:t},a);do{const m=t[this.expando];m&&this.executeHandlers(c,m),t=t.parentNode||t.ownerDocument||t.defaultView||t.parentWindow}while(t&&!c.isPropagationStopped());return this}clean(t){if(!t||Xt(t)||Mo(t))return this;if(t[this.expando]&&this.unbind(t),t.getElementsByTagName||(t=t.document),t&&t.getElementsByTagName){this.unbind(t);const o=t.getElementsByTagName("*");let a=o.length;for(;a--;)t=o[a],t[this.expando]&&this.unbind(t)}return this}destroy(){this.events={}}cancel(t){return t&&(t.preventDefault(),t.stopImmediatePropagation()),!1}executeHandlers(t,o){const a=this.events[o],c=a&&a[t.type];if(c)for(let m=0,p=c.length;m<p;m++){const S=c[m];if(S&&S.func.call(S.scope,t)===!1&&t.preventDefault(),t.isImmediatePropagationStopped())return}}}Fm.Event=new Fm;const Dx=an.each,A1=an.grep,_i="data-mce-style",Vl=an.makeMap("fill-opacity font-weight line-height opacity orphans widows z-index zoom"," "),Gh=(e,t,o)=>{rt(o)||o===""?Ho(e,t):va(e,t,o)},$m=e=>e.replace(/[A-Z]/g,t=>"-"+t.toLowerCase()),Mg=(e,t)=>{let o=0;if(e)for(let a=e.nodeType,c=e.previousSibling;c;c=c.previousSibling){const m=c.nodeType;t&&Xt(c)&&(m===a||!c.data.length)||(o++,a=m)}return o},T1=(e,t)=>{const o=yi(t,"style"),a=e.serialize(e.parse(o),ls(t));Gh(t,_i,a)},wC=(e,t)=>P(e)?ho(Vl,t)?e+"":e+"px":e,Nx=(e,t,o)=>{const a=$m(t);rt(o)||o===""?Tc(e,a):Hi(e,a,wC(o,a))},Lg=(e,t,o)=>{const a=t.keep_values,c={set:(p,S,T)=>{const H=Ke.fromDom(p);Ve(t.url_converter)&&Oe(S)&&(S=t.url_converter.call(t.url_converter_scope||o(),String(S),T,p));const J="data-mce-"+T;Gh(H,J,S),Gh(H,T,S)},get:(p,S)=>{const T=Ke.fromDom(p);return yi(T,"data-mce-"+S)||yi(T,S)}},m={style:{set:(p,S)=>{const T=Ke.fromDom(p);a&&Gh(T,_i,S),Ho(T,"style"),le(S)&&rs(T,e.parse(S))},get:p=>{const S=Ke.fromDom(p),T=yi(S,_i)||yi(S,"style");return e.serialize(e.parse(T),ls(S))}}};return a&&(m.href=m.src=c),m},dr=(e,t={})=>{const o={},a=window,c={};let m=0;const p=!0,S=!0,T=Wi.forElement(Ke.fromDom(e),{contentCssCors:t.contentCssCors,referrerPolicy:t.referrerPolicy}),H=[],J=t.schema?t.schema:Bu({}),ee=Ox({url_converter:t.url_converter,url_converter_scope:t.url_converter_scope},t.schema),re=t.ownEvents?new Fm:Fm.Event,ve=J.getBlockElements(),Te=St=>le(St)?ho(ve,St):Vn(St)&&(ho(ve,St.nodeName)||ou(J,St)),we=St=>St&&e&&le(St)?e.getElementById(St):St,Me=St=>{const kt=we(St);return Oe(kt)?Ke.fromDom(kt):null},Qe=(St,kt,hn="")=>{let cn;const mo=Me(St);if(Oe(mo)&&Zr(mo)){const xs=vO[kt];xs&&xs.get?cn=xs.get(mo.dom,kt):cn=yi(mo,kt)}return Oe(cn)?cn:hn},lt=St=>{const kt=we(St);return rt(kt)?[]:kt.attributes},at=(St,kt,hn)=>{Gn(St,cn=>{if(Vn(cn)){const mo=Ke.fromDom(cn),xs=hn===""?null:hn,pa=yi(mo,kt),xh=vO[kt];xh&&xh.set?xh.set(mo.dom,xs,kt):Gh(mo,kt,xs),pa!==xs&&t.onSetAttrib&&t.onSetAttrib({attrElm:mo.dom,attrName:kt,attrValue:xs})}})},xt=(St,kt)=>St.cloneNode(kt),Zt=()=>t.root_element||e.body,un=St=>{const kt=Rc(St);return{x:kt.x,y:kt.y,w:kt.width,h:kt.height}},On=(St,kt)=>hv(e.body,we(St),kt),It=(St,kt,hn)=>{Gn(St,cn=>{const mo=Ke.fromDom(cn);Nx(mo,kt,hn),t.update_styles&&T1(ee,mo)})},_t=(St,kt)=>{Gn(St,hn=>{const cn=Ke.fromDom(hn);Vo(kt,(mo,xs)=>{Nx(cn,xs,mo)}),t.update_styles&&T1(ee,cn)})},Ut=(St,kt,hn)=>{const cn=we(St);if(!(rt(cn)||!Dc(cn)&&!$h(cn)))return hn?Ir(Ke.fromDom(cn),$m(kt)):(kt=kt.replace(/-(\D)/g,(mo,xs)=>xs.toUpperCase()),kt==="float"&&(kt="cssFloat"),cn.style?cn.style[kt]:void 0)},$n=St=>{const kt=we(St);if(!kt)return{w:0,h:0};let hn=Ut(kt,"width"),cn=Ut(kt,"height");return(!hn||hn.indexOf("px")===-1)&&(hn="0"),(!cn||cn.indexOf("px")===-1)&&(cn="0"),{w:parseInt(hn,10)||kt.offsetWidth||kt.clientWidth,h:parseInt(cn,10)||kt.offsetHeight||kt.clientHeight}},Jn=St=>{const kt=we(St),hn=On(kt),cn=$n(kt);return{x:hn.x,y:hn.y,w:cn.w,h:cn.h}},Jo=(St,kt)=>{if(!St)return!1;const hn=ne(St)?St:[St];return Re(hn,cn=>Ws(Ke.fromDom(cn),kt))},as=(St,kt,hn,cn)=>{const mo=[];let xs=we(St);cn=cn===void 0;const pa=hn||(Zt().nodeName!=="BODY"?Zt().parentNode:null);if(le(kt))if(kt==="*")kt=Vn;else{const xh=kt;kt=sM=>Jo(sM,xh)}for(;xs&&!(xs===pa||rt(xs.nodeType)||jn(xs)||qd(xs));){if(!kt||kt(xs))if(cn)mo.push(xs);else return[xs];xs=xs.parentNode}return cn?mo:null},Ks=(St,kt,hn)=>{const cn=as(St,kt,hn,!1);return cn&&cn.length>0?cn[0]:null},sr=(St,kt,hn)=>{let cn=kt;if(St){le(kt)&&(cn=mo=>Jo(mo,kt));for(let mo=St[hn];mo;mo=mo[hn])if(Ve(cn)&&cn(mo))return mo}return null},Ia=(St,kt)=>sr(St,kt,"nextSibling"),uc=(St,kt)=>sr(St,kt,"previousSibling"),mr=St=>Ve(St.querySelectorAll),vn=(St,kt)=>{var hn,cn;const mo=(cn=(hn=we(kt))!==null&&hn!==void 0?hn:t.root_element)!==null&&cn!==void 0?cn:e;return mr(mo)?Do(mo.querySelectorAll(St)):[]},Gn=function(St,kt,hn){const cn=hn??this;if(ne(St)){const mo=[];return Dx(St,(xs,pa)=>{const xh=we(xs);xh&&mo.push(kt.call(cn,xh,pa))}),mo}else{const mo=we(St);return mo?kt.call(cn,mo):!1}},Bs=(St,kt)=>{Gn(St,hn=>{Vo(kt,(cn,mo)=>{at(hn,mo,cn)})})},Sn=(St,kt)=>{Gn(St,hn=>{const cn=Ke.fromDom(hn);eu(cn,kt)})},lo=(St,kt,hn,cn,mo)=>Gn(St,xs=>{const pa=le(kt)?e.createElement(kt):kt;return Oe(hn)&&Bs(pa,hn),cn&&(!le(cn)&&cn.nodeType?pa.appendChild(cn):le(cn)&&Sn(pa,cn)),mo?pa:xs.appendChild(pa)}),ts=(St,kt,hn)=>lo(e.createElement(St),St,kt,hn,!0),An=Wh.decode,Qo=Wh.encodeAllRaw,us=(St,kt,hn="")=>{let cn="<"+St;for(const mo in kt)nl(kt,mo)&&(cn+=" "+mo+'="'+Qo(kt[mo])+'"');return Qt(hn)&&ho(J.getVoidElements(),St)?cn+" />":cn+">"+hn+"</"+St+">"},gl=St=>{const kt=e.createElement("div"),hn=e.createDocumentFragment();hn.appendChild(kt),St&&(kt.innerHTML=St);let cn;for(;cn=kt.firstChild;)hn.appendChild(cn);return hn.removeChild(kt),hn},nr=(St,kt)=>Gn(St,hn=>{const cn=Ke.fromDom(hn);return kt&&ye(ri(cn),mo=>{pr(mo)&&mo.dom.length===0?Ps(mo):Er(cn,mo)}),Ps(cn),cn.dom}),Ji=St=>Gn(St,kt=>{const hn=kt.attributes;for(let cn=hn.length-1;cn>=0;cn--)kt.removeAttributeNode(hn.item(cn))}),lg=St=>ee.parse(St),Dp=(St,kt)=>ee.serialize(St,kt),fu=St=>{if(Zb!==dr.DOM&&e===document){if(o[St])return;o[St]=!0}let kt=e.getElementById("mceDefaultStyles");if(!kt){kt=e.createElement("style"),kt.id="mceDefaultStyles",kt.type="text/css";const hn=e.head;hn.firstChild?hn.insertBefore(kt,hn.firstChild):hn.appendChild(kt)}kt.styleSheet?kt.styleSheet.cssText+=St:kt.appendChild(e.createTextNode(St))},hf=St=>{St||(St=""),ye(St.split(","),kt=>{c[kt]=!0,T.load(kt).catch(Nt)})},cg=(St,kt,hn)=>{Gn(St,cn=>{if(Vn(cn)){const mo=Ke.fromDom(cn),xs=kt.split(" ");ye(xs,pa=>{Oe(hn)?(hn?Yc:xi)(mo,pa):Am(mo,pa)})}})},pf=(St,kt)=>{cg(St,kt,!0)},ug=(St,kt)=>{cg(St,kt,!1)},to=(St,kt)=>{const hn=Me(St),cn=kt.split(" ");return Oe(hn)&&Po(cn,mo=>wu(hn,mo))},Es=St=>{Gn(St,kt=>Tc(Ke.fromDom(kt),"display"))},ha=St=>{Gn(St,kt=>Hi(Ke.fromDom(kt),"display","none"))},Ua=St=>{const kt=Me(St);return Oe(kt)&&Nd(Hr(kt,"display"),"none")},Ti=St=>(St||"mce_")+m++,Zl=St=>{const kt=Me(St);return Oe(kt)?Vn(kt.dom)?kt.dom.outerHTML:td(kt):""},fi=(St,kt)=>{Gn(St,hn=>{Vn(hn)&&(hn.outerHTML=kt)})},mi=(St,kt)=>{const hn=we(kt);return Gn(St,cn=>{const mo=hn==null?void 0:hn.parentNode,xs=hn==null?void 0:hn.nextSibling;return mo&&(xs?mo.insertBefore(cn,xs):mo.appendChild(cn)),cn})},mu=(St,kt,hn)=>Gn(kt,cn=>{var mo;const xs=ne(kt)?St.cloneNode(!0):St;return hn&&Dx(A1(cn.childNodes),pa=>{xs.appendChild(pa)}),(mo=cn.parentNode)===null||mo===void 0||mo.replaceChild(xs,cn),cn}),bh=(St,kt)=>{if(St.nodeName!==kt.toUpperCase()){const hn=ts(kt);return Dx(lt(St),cn=>{at(hn,cn.nodeName,Qe(St,cn.nodeName))}),mu(hn,St,!0),hn}else return St},vh=(St,kt)=>{let hn=St;for(;hn;){let cn=kt;for(;cn&&hn!==cn;)cn=cn.parentNode;if(hn===cn)break;hn=hn.parentNode}return!hn&&St.ownerDocument?St.ownerDocument.documentElement:hn},yh=(St,kt,hn)=>de(kt)?tc(J,St,{...hn,isContent:mo=>{const xs=mo.nodeName.toLowerCase();return!!kt[xs]}}):tc(J,St,hn),dg=()=>e.createRange(),Ky=(St,kt,hn)=>{let cn=dg(),mo,xs;if(St&&kt&&St.parentNode&&kt.parentNode){const pa=St.parentNode;return cn.setStart(pa,Mg(St)),cn.setEnd(kt.parentNode,Mg(kt)),mo=cn.extractContents(),cn=dg(),cn.setStart(kt.parentNode,Mg(kt)+1),cn.setEnd(pa,Mg(St)+1),xs=cn.extractContents(),pa.insertBefore(Jp(Zb,mo,J),St),hn?pa.insertBefore(hn,St):pa.insertBefore(kt,St),pa.insertBefore(Jp(Zb,xs,J),St),nr(St),hn||kt}else return},mk=(St,kt,hn,cn)=>{if(ne(St)){let mo=St.length;const xs=[];for(;mo--;)xs[mo]=mk(St[mo],kt,hn,cn);return xs}else return t.collect&&(St===e||St===a)&&H.push([St,kt,hn,cn]),re.bind(St,kt,hn,cn||Zb)},gk=(St,kt,hn)=>{if(ne(St)){let cn=St.length;const mo=[];for(;cn--;)mo[cn]=gk(St[cn],kt,hn);return mo}else{if(H.length>0&&(St===e||St===a)){let cn=H.length;for(;cn--;){const[mo,xs,pa]=H[cn];St===mo&&(!kt||kt===xs)&&(!hn||hn===pa)&&re.unbind(mo,xs,pa)}}return re.unbind(St,kt,hn)}},rz=(St,kt,hn)=>re.dispatch(St,kt,hn),z0=(St,kt,hn)=>re.dispatch(St,kt,hn),oM=St=>{if(St&&Dc(St)){const kt=St.getAttribute("data-mce-contenteditable");return kt&&kt!=="inherit"?kt:St.contentEditable!=="inherit"?St.contentEditable:null}else return null},Zb={doc:e,settings:t,win:a,files:c,stdMode:p,boxModel:S,styleSheetLoader:T,boundEvents:H,styles:ee,schema:J,events:re,isBlock:Te,root:null,clone:xt,getRoot:Zt,getViewPort:un,getRect:Jn,getSize:$n,getParent:Ks,getParents:as,get:we,getNext:Ia,getPrev:uc,select:vn,is:Jo,add:lo,create:ts,createHTML:us,createFragment:gl,remove:nr,setStyle:It,getStyle:Ut,setStyles:_t,removeAllAttribs:Ji,setAttrib:at,setAttribs:Bs,getAttrib:Qe,getPos:On,parseStyle:lg,serializeStyle:Dp,addStyle:fu,loadCSS:hf,addClass:pf,removeClass:ug,hasClass:to,toggleClass:cg,show:Es,hide:ha,isHidden:Ua,uniqueId:Ti,setHTML:Sn,getOuterHTML:Zl,setOuterHTML:fi,decode:An,encode:Qo,insertAfter:mi,replace:mu,rename:bh,findCommonAncestor:vh,run:Gn,getAttribs:lt,isEmpty:yh,createRng:dg,nodeIndex:Mg,split:Ky,bind:mk,unbind:gk,fire:z0,dispatch:rz,getContentEditable:oM,getContentEditableParent:St=>{const kt=Zt();let hn=null;for(let cn=St;cn&&cn!==kt&&(hn=oM(cn),hn===null);cn=cn.parentNode);return hn},isEditable:St=>{if(Oe(St)){const kt=Vn(St)?St:St.parentElement;return Oe(kt)&&Dc(kt)&&br(Ke.fromDom(kt))}else return!1},destroy:()=>{if(H.length>0){let St=H.length;for(;St--;){const[kt,hn,cn]=H[St];re.unbind(kt,hn,cn)}}Vo(c,(St,kt)=>{T.unload(kt),delete c[kt]})},isChildOf:(St,kt)=>St===kt||kt.contains(St),dumpRng:St=>"startContainer: "+St.startContainer.nodeName+", startOffset: "+St.startOffset+", endContainer: "+St.endContainer.nodeName+", endOffset: "+St.endOffset},vO=Lg(ee,t,ct(Zb));return Zb};dr.DOM=dr(document),dr.nodeIndex=Mg;const O1=dr.DOM,Rr=0,Xd=1,rd=2,Yh=3;class oc{constructor(t={}){this.states={},this.queue=[],this.scriptLoadedCallbacks={},this.queueLoadedCallbacks=[],this.loading=!1,this.settings=t}_setReferrerPolicy(t){this.settings.referrerPolicy=t}loadScript(t){return new Promise((o,a)=>{const c=O1;let m;const p=()=>{c.remove(H),m&&(m.onerror=m.onload=m=null)},S=()=>{p(),o()},T=()=>{p(),a("Failed to load script: "+t)},H=c.uniqueId();m=document.createElement("script"),m.id=H,m.type="text/javascript",m.src=an._addCacheSuffix(t),this.settings.referrerPolicy&&c.setAttrib(m,"referrerpolicy",this.settings.referrerPolicy),m.onload=S,m.onerror=T,(document.getElementsByTagName("head")[0]||document.body).appendChild(m)})}isDone(t){return this.states[t]===rd}markDone(t){this.states[t]=rd}add(t){const o=this;return o.queue.push(t),o.states[t]===void 0&&(o.states[t]=Rr),new Promise((c,m)=>{o.scriptLoadedCallbacks[t]||(o.scriptLoadedCallbacks[t]=[]),o.scriptLoadedCallbacks[t].push({resolve:c,reject:m})})}load(t){return this.add(t)}remove(t){delete this.states[t],delete this.scriptLoadedCallbacks[t]}loadQueue(){const t=this.queue;return this.queue=[],this.loadScripts(t)}loadScripts(t){const o=this,a=(T,H)=>{Hs(o.scriptLoadedCallbacks,H).each(J=>{ye(J,ee=>ee[T](H))}),delete o.scriptLoadedCallbacks[H]},c=T=>{const H=Ye(T,J=>J.status==="rejected");return H.length>0?Promise.reject(Wo(H,({reason:J})=>ne(J)?J:[J])):Promise.resolve()},m=T=>Promise.allSettled(Ue(T,H=>o.states[H]===rd?(a("resolve",H),Promise.resolve()):o.states[H]===Yh?(a("reject",H),Promise.reject(H)):(o.states[H]=Xd,o.loadScript(H).then(()=>{o.states[H]=rd,a("resolve",H);const J=o.queue;return J.length>0?(o.queue=[],m(J).then(c)):Promise.resolve()},()=>(o.states[H]=Yh,a("reject",H),Promise.reject(H)))))),p=T=>(o.loading=!0,m(T).then(H=>{o.loading=!1;const J=o.queueLoadedCallbacks.shift();return te.from(J).each(mn),c(H)})),S=vu(t);return o.loading?new Promise((T,H)=>{o.queueLoadedCallbacks.push(()=>{p(S).then(T,H)})}):p(S)}}oc.ScriptLoader=new oc;const Zi=(e,t)=>{const o=e.indexOf(t);return o!==-1&&e.indexOf(t,o+1)>o},Fg=e=>q(e)&&ho(e,"raw"),Ev=e=>ne(e)&&e.length>1,Xh={},Av=Da("en"),Jh=()=>Hs(Xh,Av.get()),Mu={getData:()=>Bl(Xh,e=>({...e})),setCode:e=>{e&&Av.set(e)},getCode:()=>Av.get(),add:(e,t)=>{let o=Xh[e];o||(Xh[e]=o={});const a=Ue(Yt(t),c=>c.toLowerCase());Vo(t,(c,m)=>{const p=m.toLowerCase();p!==m&&Zi(a,p)?(ho(t,p)||(o[p]=c),o[m]=c):o[p]=c})},translate:e=>{const t=Jh().getOr({}),o=p=>Ve(p)?Object.prototype.toString.call(p):a(p)?"":""+p,a=p=>p===""||p===null||p===void 0,c=p=>{const S=o(p);return ho(t,S)?o(t[S]):Hs(t,S.toLowerCase()).map(o).getOr(S)},m=p=>p.replace(/{context:\w+}$/,"");if(a(e))return"";if(Fg(e))return o(e.raw);if(Ev(e)){const p=e.slice(1),S=c(e[0]).replace(/\{([0-9]+)\}/g,(T,H)=>ho(p,H)?o(p[H]):T);return m(S)}return m(c(e))},isRtl:()=>Jh().bind(e=>Hs(e,"_dir")).exists(e=>e==="rtl"),hasCode:e=>ho(Xh,e)},Hl=()=>{const e=[],t={},o={},a=[],c=(we,Me)=>{const Qe=Ye(a,lt=>lt.name===we&&lt.state===Me);ye(Qe,lt=>lt.resolve())},m=we=>ho(t,we),p=we=>ho(o,we),S=we=>{if(o[we])return o[we].instance},T=(we,Me)=>{const Qe=Mu.getCode(),lt=","+(Me||"")+",";!Qe||Me&&lt.indexOf(","+Qe+",")===-1||oc.ScriptLoader.add(t[we]+"/langs/"+Qe+".js")},H=(we,Me)=>{Hl.languageLoad!==!1&&(m(we)?T(we,Me):Te(we,"loaded").then(()=>T(we,Me)))},J=(we,Me)=>(e.push(Me),o[we]={instance:Me},c(we,"added"),Me),ee=we=>{delete t[we],delete o[we]},re=(we,Me)=>le(Me)?le(we)?{prefix:"",resource:Me,suffix:""}:{prefix:we.prefix,resource:Me,suffix:we.suffix}:Me,ve=(we,Me)=>{if(t[we])return Promise.resolve();let Qe=le(Me)?Me:Me.prefix+Me.resource+Me.suffix;Qe.indexOf("/")!==0&&Qe.indexOf("://")===-1&&(Qe=Hl.baseURL+"/"+Qe),t[we]=Qe.substring(0,Qe.lastIndexOf("/"));const lt=()=>(c(we,"loaded"),Promise.resolve());return o[we]?lt():oc.ScriptLoader.add(Qe).then(lt)},Te=(we,Me="added")=>Me==="added"&&p(we)||Me==="loaded"&&m(we)?Promise.resolve():new Promise(Qe=>{a.push({name:we,state:Me,resolve:Qe})});return{items:e,urls:t,lookup:o,get:S,requireLangPack:H,add:J,remove:ee,createUrl:re,load:ve,waitFor:Te}};Hl.languageLoad=!0,Hl.baseURL="",Hl.PluginManager=Hl(),Hl.ThemeManager=Hl(),Hl.ModelManager=Hl();const Qh=(e,t)=>{let o=null;return{cancel:()=>{be(o)||(clearTimeout(o),o=null)},throttle:(...m)=>{be(o)&&(o=setTimeout(()=>{o=null,e.apply(null,m)},t))}}},nb=(e,t)=>{let o=null;const a=()=>{be(o)||(clearTimeout(o),o=null)};return{cancel:a,throttle:(...m)=>{a(),o=setTimeout(()=>{o=null,e.apply(null,m)},t)}}},kC=(e,t,o)=>Ec(e,t,o).isSome(),Gr=ct("mce-annotation"),Yr=ct("data-mce-annotation"),wa=ct("data-mce-annotation-uid"),qs=ct("data-mce-annotation-active"),Wr=ct("data-mce-annotation-classes"),fa=ct("data-mce-annotation-attrs"),R1=e=>t=>ss(t,e),D1=(e,t)=>{const o=e.selection.getRng(),a=Ke.fromDom(o.startContainer),c=Ke.fromDom(e.getBody()),m=t.fold(()=>"."+Gr(),T=>`[${Yr()}="${T}"]`),p=_u(a,o.startOffset).getOr(a);return Ra(p,m,R1(c)).bind(T=>ca(T,`${wa()}`).bind(H=>ca(T,`${Yr()}`).map(J=>{const ee=Mx(e,H);return{uid:H,name:J,elements:ee}})))},Bx=e=>Zr(e)&&wu(e,Gr()),Tv=(e,t)=>Qu(e,"data-mce-bogus")||kC(e,'[data-mce-bogus="all"]',R1(t)),Mx=(e,t)=>{const o=Ke.fromDom(e.getBody()),a=da(o,`[${wa()}="${t}"]`);return Ye(a,c=>!Tv(c,o))},ep=(e,t)=>{const o=Ke.fromDom(e.getBody()),a=da(o,`[${Yr()}="${t}"]`),c={};return ye(a,m=>{if(!Tv(m,o)){const p=yi(m,wa()),S=Hs(c,p).getOr([]);c[p]=S.concat([m])}}),c},N1=(e,t)=>{const o=Da({}),a=()=>({listeners:[],previous:xa()}),c=(ee,re)=>{m(ee,ve=>(re(ve),ve))},m=(ee,re)=>{const ve=o.get(),Te=Hs(ve,ee).getOrThunk(a),we=re(Te);ve[ee]=we,o.set(ve)},p=(ee,re,ve)=>{c(ee,Te=>{ye(Te.listeners,we=>we(!0,ee,{uid:re,nodes:Ue(ve,Me=>Me.dom)}))})},S=ee=>{c(ee,re=>{ye(re.listeners,ve=>ve(!1,ee))})},T=(ee,re)=>{ye(Mx(e,ee),ve=>{re?va(ve,qs(),"true"):Ho(ve,qs())})},H=nb(()=>{const ee=ms(t.getNames());ye(ee,re=>{m(re,ve=>{const Te=ve.previous.get();return D1(e,te.some(re)).fold(()=>{Te.each(we=>{S(re),ve.previous.clear(),T(we,!1)})},({uid:we,name:Me,elements:Qe})=>{Nd(Te,we)||(Te.each(lt=>T(lt,!1)),p(Me,we,Qe),ve.previous.set(we),T(we,!0))}),{previous:ve.previous,listeners:ve.listeners}})})},30);return e.on("remove",()=>{H.cancel()}),e.on("NodeChange",()=>{H.throttle()}),{addListener:(ee,re)=>{m(ee,ve=>({previous:ve.previous,listeners:ve.listeners.concat([re])}))}}},I1=(e,t)=>{const o=Yr(),a=m=>te.from(m.attr(o)).bind(t.lookup),c=m=>{var p,S;m.attr(wa(),null),m.attr(Yr(),null),m.attr(qs(),null);const T=te.from(m.attr(fa())).map(re=>re.split(",")).getOr([]),H=te.from(m.attr(Wr())).map(re=>re.split(",")).getOr([]);ye(T,re=>m.attr(re,null));const J=(S=(p=m.attr("class"))===null||p===void 0?void 0:p.split(" "))!==null&&S!==void 0?S:[],ee=ps(J,[Gr()].concat(H));m.attr("class",ee.length>0?ee.join(" "):null),m.attr(Wr(),null),m.attr(fa(),null)};e.serializer.addTempAttr(qs()),e.serializer.addAttributeFilter(o,m=>{for(const p of m)a(p).each(S=>{S.persistent===!1&&(p.name==="span"?p.unwrap():c(p))})})},Lx=()=>{const e={};return{register:(c,m)=>{e[c]={name:c,settings:m}},lookup:c=>Hs(e,c).map(m=>m.settings),getNames:()=>Yt(e)}},Ov=(e,t,o)=>Math.min(Math.max(e,t),o),sc=()=>window.crypto.getRandomValues(new Uint32Array(1))[0]/4294967295;let Fx=0;const El=e=>{const o=new Date().getTime(),a=Math.floor(sc()*1e9);return Fx++,e+"_"+a+Fx+String(o)},Rv=(e,t)=>{ye(t,o=>{Yc(e,o)})},tp=(e,t)=>{ye(t,o=>{xi(e,o)})},ad=(e,t)=>Ke.fromDom(e.dom.cloneNode(t)),ma=e=>ad(e,!1),Vg=e=>ad(e,!0),$x=(e,t)=>{const o=Ke.fromTag(t),a=Li(e);return Mi(o,a),o},Vx=(e,t)=>{const o=$x(e,t);mt(e,o);const a=ri(e);return na(o,a),Ps(e),o},Dv=(e,t,o=Fn)=>{const a=new Si(e,t),c=m=>{let p;do p=a[m]();while(p&&!Xt(p)&&!o(p));return te.from(p).filter(Xt)};return{current:()=>te.from(a.current()).filter(Xt),next:()=>c("next"),prev:()=>c("prev"),prev2:()=>c("prev2")}},Qf=(e,t)=>{const o=t||(p=>e.isBlock(p)||Cr(p)||yo(p)),a=(p,S,T,H)=>{if(Xt(p)){const J=H(p,S,p.data);if(J!==-1)return te.some({container:p,offset:J})}return T().bind(J=>a(J.container,J.offset,T,H))};return{backwards:(p,S,T,H)=>{const J=Dv(p,H??e.getRoot(),o);return a(p,S,()=>J.prev().map(ee=>({container:ee,offset:ee.length})),T).getOrNull()},forwards:(p,S,T,H)=>{const J=Dv(p,H??e.getRoot(),o);return a(p,S,()=>J.next().map(ee=>({container:ee,offset:0})),T).getOrNull()}}},Nv=((e,t)=>{const o=m=>{if(!e(m))throw new Error("Can only get "+t+" value of a "+t+" node");return a(m).getOr("")},a=m=>e(m)?te.from(m.dom.nodeValue):te.none();return{get:o,getOption:a,set:(m,p)=>{if(!e(m))throw new Error("Can only set raw "+t+" value of a "+t+" node");m.dom.nodeValue=p}}})(pr,"text"),Hg=e=>Nv.get(e),EC=e=>Nv.getOption(e),Iv=(e,t)=>Nv.set(e,t),Pv=["td","th"],P1=["thead","tbody","tfoot"],ob=["h1","h2","h3","h4","h5","h6","p","div","address","pre","form","blockquote","center","dir","fieldset","header","footer","article","section","hgroup","aside","nav","figure"],B1=["li","dd","dt"],Al=["ul","ol","dl"],Hx=["pre","script","textarea","style"],em=e=>{let t;return o=>(t=t||Qr(e,Gt),ho(t,ls(o)))},Bv=e=>ls(e)==="table",Jd=e=>Zr(e)&&ls(e)==="br",Mv=em(ob),Lv=em(Al),zg=em(B1),np=em(P1),Lu=em(Pv),Fv=em(Hx),iE=e=>{const t=[];let o=e.dom;for(;o;)t.push(Ke.fromDom(o)),o=o.lastChild;return t},su=e=>{const t=da(e,"br"),o=Ye(iE(e).slice(-1),Jd);t.length===o.length&&ye(o,Ps)},tm=()=>{const e=Ke.fromTag("br");return va(e,"data-mce-bogus","1"),e},Fu=e=>{er(e),Pr(e,tm())},zx=(e,t)=>{ku(e).each(o=>{Ta(o).each(a=>{t.isBlock(ls(e))&&Jd(o)&&t.isBlock(ls(a))&&Ps(o)})})},Ga=zr,$u=Ru,rc=zd,lE=e=>e.insertContent(Ga,{preserve_zwsp:!0}),Vm=Vn,nm=Xt,sb=e=>(nm(e)&&(e=e.parentNode),Vm(e)&&e.hasAttribute("data-mce-caret")),Ug=e=>nm(e)&&$u(e.data),Mc=e=>sb(e)||Ug(e),M1=e=>e.firstChild!==e.lastChild||!Cr(e.firstChild),L1=(e,t)=>{var o;const c=((o=e.ownerDocument)!==null&&o!==void 0?o:document).createTextNode(Ga),m=e.parentNode;if(t){const p=e.previousSibling;if(nm(p)){if(Mc(p))return p;if(om(p))return p.splitText(p.data.length-1)}m==null||m.insertBefore(c,e)}else{const p=e.nextSibling;if(nm(p)){if(Mc(p))return p;if(Vv(p))return p.splitText(1),p}e.nextSibling?m==null||m.insertBefore(c,e.nextSibling):m==null||m.appendChild(c)}return c},$v=e=>{const t=e.container();return Xt(t)?t.data.charAt(e.offset())===Ga||e.isAtStart()&&Ug(t.previousSibling):!1},F1=e=>{const t=e.container();return Xt(t)?t.data.charAt(e.offset()-1)===Ga||e.isAtEnd()&&Ug(t.nextSibling):!1},AC=(e,t,o)=>{var a;const m=((a=t.ownerDocument)!==null&&a!==void 0?a:document).createElement(e);m.setAttribute("data-mce-caret",o?"before":"after"),m.setAttribute("data-mce-bogus","all"),m.appendChild(tm().dom);const p=t.parentNode;return o?p==null||p.insertBefore(m,t):t.nextSibling?p==null||p.insertBefore(m,t.nextSibling):p==null||p.appendChild(m),m},Vv=e=>nm(e)&&e.data[0]===Ga,om=e=>nm(e)&&e.data[e.data.length-1]===Ga,Hv=e=>{var t;const o=e.getElementsByTagName("br"),a=o[o.length-1];Zd(a)&&((t=a.parentNode)===null||t===void 0||t.removeChild(a))},op=e=>e&&e.hasAttribute("data-mce-caret")?(Hv(e),e.removeAttribute("data-mce-caret"),e.removeAttribute("data-mce-bogus"),e.removeAttribute("style"),e.removeAttribute("data-mce-style"),e.removeAttribute("_moz_abspos"),e):null,sp=e=>sb(e.startContainer),Hm=Math.round,zm=e=>e?{left:Hm(e.left),top:Hm(e.top),bottom:Hm(e.bottom),right:Hm(e.right),width:Hm(e.width),height:Hm(e.height)}:{left:0,top:0,bottom:0,right:0,width:0,height:0},zv=(e,t)=>(e=zm(e),t||(e.left=e.left+e.width),e.right=e.left,e.width=0,e),Um=(e,t)=>e.left===t.left&&e.top===t.top&&e.bottom===t.bottom&&e.right===t.right,Wm=(e,t,o)=>e>=0&&e<=Math.min(t.height,o.height)/2,jm=(e,t)=>{const o=Math.min(t.height/2,e.height/2);return e.bottom-o<t.top?!0:e.top>t.bottom?!1:Wm(t.top-e.bottom,e,t)},rp=(e,t)=>e.top>t.bottom?!0:e.bottom<t.top?!1:Wm(t.bottom-e.top,e,t),$1=(e,t,o)=>t>=e.left&&t<=e.right&&o>=e.top&&o<=e.bottom,rb=e=>fn(e,(t,o)=>t.fold(()=>te.some(o),a=>{const c=Math.min(o.left,a.left),m=Math.min(o.top,a.top),p=Math.max(o.right,a.right),S=Math.max(o.bottom,a.bottom);return te.some({top:m,right:p,bottom:S,left:c,width:p-c,height:S-m})}),te.none()),V1=(e,t,o)=>{const a=Math.max(Math.min(t,e.left+e.width),e.left),c=Math.max(Math.min(o,e.top+e.height),e.top);return Math.sqrt((t-a)*(t-a)+(o-c)*(o-c))},Ux=(e,t)=>Math.max(0,Math.min(e.bottom,t.bottom)-Math.max(e.top,t.top)),ab=e=>{const t=e.startContainer,o=e.startOffset;return t===e.endContainer&&t.hasChildNodes()&&e.endOffset===o+1?t.childNodes[o]:null},Ya=(e,t)=>{if(Vn(e)&&e.hasChildNodes()){const o=e.childNodes,a=Ov(t,0,o.length-1);return o[a]}else return e},Wx=(e,t)=>{if(!(t<0&&Vn(e)&&e.hasChildNodes()))return Ya(e,t)},TC=new RegExp("[-----------------------------------------------------------------------------------------------------------------------------------]"),jx=e=>le(e)&&e.charCodeAt(0)>=768&&TC.test(e),Zx=(...e)=>t=>{for(let o=0;o<e.length;o++)if(e[o](t))return!0;return!1},Zm=(...e)=>t=>{for(let o=0;o<e.length;o++)if(!e[o](t))return!1;return!0},H1=Pc,Uv=yo,Kx=Cr,cE=Xt,Km=li(["script","style","textarea"]),Wv=li(["img","input","textarea","hr","iframe","video","audio","object","embed"]),OC=li(["table"]),RC=Mc,id=e=>RC(e)?!1:cE(e)?!Km(e.parentNode):Wv(e)||Kx(e)||OC(e)||z1(e),qx=e=>Vn(e)&&e.getAttribute("unselectable")==="true",z1=e=>!qx(e)&&Uv(e),DC=(e,t)=>{for(let o=e.parentNode;o&&o!==t;o=o.parentNode){if(z1(o))return!1;if(H1(o))return!0}return!0},ap=e=>z1(e)?!fn(Do(e.getElementsByTagName("*")),(t,o)=>t||H1(o),!1):!1,ib=e=>Wv(e)||ap(e),jv=(e,t)=>id(e)&&DC(e,t),NC=Vn,ld=id,Wg=Nc("display","block table"),Zv=Nc("float","left right"),Kv=Zm(NC,ld,$e(Zv)),U1=$e(Nc("white-space","pre pre-line pre-wrap")),qv=Xt,qi=Cr,W1=dr.nodeIndex,jg=Wx,Zg=e=>e?e.createRange():dr.DOM.createRng(),Gv=e=>le(e)&&/[\r\n\t ]/.test(e),j1=e=>!!e.setStart&&!!e.setEnd,ip=e=>{const t=e.startContainer,o=e.startOffset;if(Gv(e.toString())&&U1(t.parentNode)&&Xt(t)){const a=t.data;if(Gv(a[o-1])||Gv(a[o+1]))return!0}return!1},qm=e=>{const t=e.ownerDocument,o=Zg(t),a=t.createTextNode(qa),c=e.parentNode;c.insertBefore(a,e),o.setStart(a,0),o.setEnd(a,1);const m=zm(o.getBoundingClientRect());return c.removeChild(a),m},Gx=e=>{const t=e.startContainer,o=e.endContainer,a=e.startOffset,c=e.endOffset;if(t===o&&Xt(o)&&a===0&&c===1){const m=e.cloneRange();return m.setEndAfter(o),zl(m)}else return null},Z1=e=>e.left===0&&e.right===0&&e.top===0&&e.bottom===0,zl=e=>{var t;let o;const a=e.getClientRects();return a.length>0?o=zm(a[0]):o=zm(e.getBoundingClientRect()),!j1(e)&&qi(e)&&Z1(o)?qm(e):Z1(o)&&j1(e)&&(t=Gx(e))!==null&&t!==void 0?t:o},Gm=(e,t)=>{const o=zv(e,t);return o.width=1,o.right=o.left+1,o},Yx=e=>{const t=[],o=p=>{p.height!==0&&(t.length>0&&Um(p,t[t.length-1])||t.push(p))},a=(p,S)=>{const T=Zg(p.ownerDocument);if(S<p.data.length){if(jx(p.data[S]))return;if(jx(p.data[S-1])&&(T.setStart(p,S),T.setEnd(p,S+1),!ip(T))){o(Gm(zl(T),!1));return}}S>0&&(T.setStart(p,S-1),T.setEnd(p,S),ip(T)||o(Gm(zl(T),!1))),S<p.data.length&&(T.setStart(p,S),T.setEnd(p,S+1),ip(T)||o(Gm(zl(T),!0)))},c=e.container(),m=e.offset();if(qv(c))return a(c,m),t;if(NC(c))if(e.isAtEnd()){const p=jg(c,m);qv(p)&&a(p,p.data.length),Kv(p)&&!qi(p)&&o(Gm(zl(p),!1))}else{const p=jg(c,m);if(qv(p)&&a(p,0),Kv(p)&&e.isAtEnd())return o(Gm(zl(p),!1)),t;const S=jg(e.container(),e.offset()-1);Kv(S)&&!qi(S)&&(Wg(S)||Wg(p)||!Kv(p))&&o(Gm(zl(S),!1)),Kv(p)&&o(Gm(zl(p),!0))}return t},Et=(e,t,o)=>{const a=()=>(qv(e),t===0),c=()=>qv(e)?t>=e.data.length:t>=e.childNodes.length,m=()=>{const J=Zg(e.ownerDocument);return J.setStart(e,t),J.setEnd(e,t),J},p=()=>(o||(o=Yx(Et(e,t))),o),S=()=>p().length>0,T=J=>J&&e===J.container()&&t===J.offset(),H=J=>jg(e,J?t-1:t);return{container:ct(e),offset:ct(t),toRange:m,getClientRects:p,isVisible:S,isAtStart:a,isAtEnd:c,isEqual:T,getNode:H}};Et.fromRangeStart=e=>Et(e.startContainer,e.startOffset),Et.fromRangeEnd=e=>Et(e.endContainer,e.endOffset),Et.after=e=>Et(e.parentNode,W1(e)+1),Et.before=e=>Et(e.parentNode,W1(e)),Et.isAbove=(e,t)=>oi(on(t.getClientRects()),ro(e.getClientRects()),jm).getOr(!1),Et.isBelow=(e,t)=>oi(ro(t.getClientRects()),on(e.getClientRects()),rp).getOr(!1),Et.isAtStart=e=>e?e.isAtStart():!1,Et.isAtEnd=e=>e?e.isAtEnd():!1,Et.isTextPosition=e=>e?Xt(e.container()):!1,Et.isElementPosition=e=>!Et.isTextPosition(e);const lb=(e,t)=>{Xt(t)&&t.data.length===0&&e.remove(t)},uE=(e,t,o)=>{t.insertNode(o),lb(e,o.previousSibling),lb(e,o.nextSibling)},IC=(e,t,o)=>{const a=te.from(o.firstChild),c=te.from(o.lastChild);t.insertNode(o),a.each(m=>lb(e,m.previousSibling)),c.each(m=>lb(e,m.nextSibling))},K1=(e,t,o)=>{qd(o)?IC(e,t,o):uE(e,t,o)},cd=Xt,q1=Zd,Yv=dr.nodeIndex,Xx=e=>{const t=e.parentNode;return q1(t)?Xx(t):t},Jx=e=>e?bl(e.childNodes,(t,o)=>(q1(o)&&o.nodeName!=="BR"?t=t.concat(Jx(o)):t.push(o),t),[]):[],dE=(e,t)=>{let o=e;for(;(o=o.previousSibling)&&cd(o);)t+=o.data.length;return t},x=e=>t=>e===t,_=e=>{let t,o;t=Jx(Xx(e)),o=ar(t,x(e),e),t=t.slice(0,o+1);const a=bl(t,(c,m,p)=>(cd(m)&&cd(t[p-1])&&c++,c),0);return t=ol(t,li([e.nodeName])),o=ar(t,x(e),e),o-a},D=e=>(cd(e)?"text()":e.nodeName.toLowerCase())+"["+_(e)+"]",F=(e,t,o)=>{const a=[];for(let c=t.parentNode;c&&c!==e;c=c.parentNode)a.push(c);return a},K=(e,t)=>{let o=[],a=t.container(),c=t.offset(),m;if(cd(a))m=dE(a,c);else{const S=a.childNodes;c>=S.length?(m="after",c=S.length-1):m="before",a=S[c]}o.push(D(a));let p=F(e,a);return p=ol(p,$e(Zd)),o=o.concat(Rf(p,S=>D(S))),o.reverse().join("/")+","+m},G=(e,t,o)=>{let a=Jx(e);return a=ol(a,(c,m)=>!cd(c)||!cd(a[m-1])),a=ol(a,li([t])),a[o]},ae=(e,t)=>{let o=e,a=0;for(;cd(o);){const c=o.data.length;if(t>=a&&t<=a+c){e=o,t=t-a;break}if(!cd(o.nextSibling)){e=o,t=c;break}a+=c,o=o.nextSibling}return cd(e)&&t>e.data.length&&(t=e.data.length),Et(e,t)},ue=(e,t)=>{if(!t)return null;const o=t.split(","),a=o[0].split("/"),c=o.length>1?o[1]:"before",m=bl(a,(p,S)=>{const T=/([\w\-\(\)]+)\[([0-9]+)\]/.exec(S);return T?(T[1]==="text()"&&(T[1]="#text"),G(p,T[1],parseInt(T[2],10))):null},e);if(!m)return null;if(!cd(m)&&m.parentNode){let p;return c==="after"?p=Yv(m)+1:p=Yv(m),Et(m.parentNode,p)}return ae(m,parseInt(c,10))},ke=yo,ze=(e,t,o)=>{let a=e(t.data.slice(0,o)).length;for(let c=t.previousSibling;c&&Xt(c);c=c.previousSibling)a+=e(c.data).length;return a},nt=(e,t,o,a,c)=>{const m=c?a.startContainer:a.endContainer;let p=c?a.startOffset:a.endOffset;const S=[],T=e.getRoot();if(Xt(m))S.push(o?ze(t,m,p):p);else{let H=0;const J=m.childNodes;p>=J.length&&J.length&&(H=1,p=Math.max(0,J.length-1)),S.push(e.nodeIndex(J[p],o)+H)}for(let H=m;H&&H!==T;H=H.parentNode)S.push(e.nodeIndex(H,o));return S},Le=(e,t,o,a)=>{const c=t.dom,m=nt(c,e,o,a,!0),p=t.isForward(),S=sp(a)?{isFakeCaret:!0}:{};if(t.isCollapsed())return{start:m,forward:p,...S};{const T=nt(c,e,o,a,!1);return{start:m,end:T,forward:p,...S}}},je=(e,t,o)=>{let a=0;return an.each(e.select(t),c=>{if(c.getAttribute("data-mce-bogus")!=="all"){if(c===o)return!1;a++;return}}),a},Ge=(e,t)=>{let o=t?e.startContainer:e.endContainer,a=t?e.startOffset:e.endOffset;if(Vn(o)&&o.nodeName==="TR"){const c=o.childNodes;o=c[Math.min(t?a:a-1,c.length-1)],o&&(a=t?0:o.childNodes.length,t?e.setStart(o,a):e.setEnd(o,a))}},ft=e=>(Ge(e,!0),Ge(e,!1),e),gt=(e,t)=>{if(Vn(e)&&(e=Ya(e,t),ke(e)))return e;if(Mc(e)){Xt(e)&&sb(e)&&(e=e.parentNode);let o=e.previousSibling;if(ke(o)||(o=e.nextSibling,ke(o)))return o}},Ht=e=>gt(e.startContainer,e.startOffset)||gt(e.endContainer,e.endOffset),zt=(e,t,o)=>{const a=o.getNode(),c=o.getRng();if(a.nodeName==="IMG"||ke(a)){const p=a.nodeName;return{name:p,index:je(o.dom,p,a)}}const m=Ht(c);if(m){const p=m.tagName;return{name:p,index:je(o.dom,p,m)}}return Le(e,o,t,c)},Vt=e=>{const t=e.getRng();return{start:K(e.dom.getRoot(),Et.fromRangeStart(t)),end:K(e.dom.getRoot(),Et.fromRangeEnd(t)),forward:e.isForward()}},Wt=e=>({rng:e.getRng(),forward:e.isForward()}),ln=(e,t,o)=>{const a={"data-mce-type":"bookmark",id:t,style:"overflow:hidden;line-height:0px"};return o?e.create("span",a,"&#xFEFF;"):e.create("span",a)},dn=(e,t)=>{const o=e.dom;let a=e.getRng();const c=o.uniqueId(),m=e.isCollapsed(),p=e.getNode(),S=p.nodeName,T=e.isForward();if(S==="IMG")return{name:S,index:je(o,S,p)};const H=ft(a.cloneRange());if(!m){H.collapse(!1);const ee=ln(o,c+"_end",t);K1(o,H,ee)}a=ft(a),a.collapse(!0);const J=ln(o,c+"_start",t);return K1(o,a,J),e.moveToBookmark({id:c,keep:!0,forward:T}),{id:c,forward:T}},vt=(e,t,o=!1)=>t===2?zt(rc,o,e):t===3?Vt(e):t?Wt(e):dn(e,!1),Pn=ot(zt,Tn,!0),co=e=>{const t=m=>m(e),o=ct(e),a=()=>c,c={tag:!0,inner:e,fold:(m,p)=>p(e),isValue:Gt,isError:Fn,map:m=>uo.value(m(e)),mapError:a,bind:t,exists:t,forall:t,getOr:o,or:a,getOrThunk:o,orThunk:a,getOrDie:o,each:m=>{m(e)},toOptional:()=>te.some(e)};return c},Io=e=>{const t=()=>o,o={tag:!1,inner:e,fold:(a,c)=>a(e),isValue:Fn,isError:Gt,map:t,mapError:a=>uo.error(a(e)),bind:t,exists:Fn,forall:Gt,getOr:Tn,or:Tn,getOrThunk:Dn,orThunk:Dn,getOrDie:ht(String(e)),each:Nt,toOptional:te.none};return o},uo={value:co,error:Io,fromOption:(e,t)=>e.fold(()=>Io(t),co)},gs={generate:e=>{if(!ne(e))throw new Error("cases must be an array");if(e.length===0)throw new Error("there must be at least one case");const t=[],o={};return ye(e,(a,c)=>{const m=Yt(a);if(m.length!==1)throw new Error("one and only one name per case");const p=m[0],S=a[p];if(o[p]!==void 0)throw new Error("duplicate key detected:"+p);if(p==="cata")throw new Error("cannot have a case named cata (sorry)");if(!ne(S))throw new Error("case arguments must be an array");t.push(p),o[p]=(...T)=>{const H=T.length;if(H!==S.length)throw new Error("Wrong number of arguments to case "+p+". Expected "+S.length+" ("+S+"), got "+H);return{fold:(...ee)=>{if(ee.length!==e.length)throw new Error("Wrong number of arguments to fold. Expected "+e.length+", got "+ee.length);return ee[c].apply(null,T)},match:ee=>{const re=Yt(ee);if(t.length!==re.length)throw new Error("Wrong number of arguments to match. Expected: "+t.join(",")+`
Actual: `+re.join(","));if(!Po(t,Te=>xe(re,Te)))throw new Error("Not all branches were specified when using match. Specified: "+re.join(", ")+`
Required: `+t.join(", "));return ee[p].apply(null,T)},log:ee=>{console.log(ee,{constructors:t,constructor:p,params:T})}}}}),o}};gs.generate([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]);const Ca=e=>{const t=[],o=[];return ye(e,a=>{a.fold(c=>{t.push(c)},c=>{o.push(c)})}),{errors:t,values:o}},dl=e=>e.type==="inline-command"||e.type==="inline-format",ki=e=>e.type==="block-command"||e.type==="block-format",ru=(e,t)=>(e.type==="block-command"||e.type==="block-format")&&e.trigger===t,Kg=e=>{var t;const o=c=>uo.error({message:c,pattern:e}),a=(c,m,p)=>{if(e.format!==void 0){let S;if(ne(e.format)){if(!Po(e.format,le))return o(c+" pattern has non-string items in the `format` array");S=e.format}else if(le(e.format))S=[e.format];else return o(c+" pattern has non-string `format` parameter");return uo.value(m(S))}else return e.cmd!==void 0?le(e.cmd)?uo.value(p(e.cmd,e.value)):o(c+" pattern has non-string `cmd` parameter"):o(c+" pattern is missing both `format` and `cmd` parameters")};if(!q(e))return o("Raw pattern is not an object");if(!le(e.start))return o("Raw pattern is missing `start` parameter");if(e.end!==void 0){if(!le(e.end))return o("Inline pattern has non-string `end` parameter");if(e.start.length===0&&e.end.length===0)return o("Inline pattern has empty `start` and `end` parameters");let c=e.start,m=e.end;return m.length===0&&(m=c,c=""),a("Inline",p=>({type:"inline-format",start:c,end:m,format:p}),(p,S)=>({type:"inline-command",start:c,end:m,cmd:p,value:S}))}else{if(e.replacement!==void 0)return le(e.replacement)?e.start.length===0?o("Replacement pattern has empty `start` parameter"):uo.value({type:"inline-command",start:"",end:e.start,cmd:"mceInsertContent",value:e.replacement}):o("Replacement pattern has non-string `replacement` parameter");{const c=(t=e.trigger)!==null&&t!==void 0?t:"space";return e.start.length===0?o("Block pattern has empty `start` parameter"):a("Block",m=>({type:"block-format",start:e.start,format:m[0],trigger:c}),(m,p)=>({type:"block-command",start:e.start,cmd:m,value:p,trigger:c}))}}},fl=e=>Ye(e,ki),Qd=e=>Ye(e,dl),cb=(e,t)=>({inlinePatterns:Qd(e),blockPatterns:fl(e),dynamicPatternsLookup:t}),Ym=(e,t)=>({...e,blockPatterns:Ye(e.blockPatterns,o=>ru(o,t))}),ub=e=>{const t=Ca(Ue(e,Kg));return ye(t.errors,o=>console.error(o.message,o.pattern)),t.values},G1=e=>t=>{const o=e(t);return ub(o)},Xm=ti().deviceType,PC=Xm.isTouch(),YL=dr.DOM,XL=e=>{const t=e.indexOf("=")>0?e.split(/[;,](?![^=;,]*(?:[;,]|$))/):e.split(",");return fn(t,(o,a)=>{const c=a.split("="),m=c[0],p=c.length>1?c[1]:m;return o[We(m)]=We(p),o},{})},dR=e=>fe(e,RegExp),Ln=e=>t=>t.options.get(e),Qx=e=>le(e)||q(e),fE=(e,t="")=>o=>{const a=le(o);if(a)if(o.indexOf("=")!==-1){const c=XL(o);return{value:Hs(c,e.id).getOr(t),valid:a}}else return{value:o,valid:a};else return{valid:!1,message:"Must be a string."}},BC=e=>{const t=e.options.register;t("id",{processor:"string",default:e.id}),t("selector",{processor:"string"}),t("target",{processor:"object"}),t("suffix",{processor:"string"}),t("cache_suffix",{processor:"string"}),t("base_url",{processor:"string"}),t("referrer_policy",{processor:"string",default:""}),t("language_load",{processor:"boolean",default:!0}),t("inline",{processor:"boolean",default:!1}),t("iframe_attrs",{processor:"object",default:{}}),t("doctype",{processor:"string",default:"<!DOCTYPE html>"}),t("document_base_url",{processor:"string",default:e.documentBaseUrl}),t("body_id",{processor:fE(e,"tinymce"),default:"tinymce"}),t("body_class",{processor:fE(e),default:""}),t("content_security_policy",{processor:"string",default:""}),t("br_in_pre",{processor:"boolean",default:!0}),t("forced_root_block",{processor:o=>{const a=le(o)&&it(o);return a?{value:o,valid:a}:{valid:!1,message:"Must be a non-empty string."}},default:"p"}),t("forced_root_block_attrs",{processor:"object",default:{}}),t("newline_behavior",{processor:o=>{const a=xe(["block","linebreak","invert","default"],o);return a?{value:o,valid:a}:{valid:!1,message:"Must be one of: block, linebreak, invert or default."}},default:"default"}),t("br_newline_selector",{processor:"string",default:".mce-toc h2,figcaption,caption"}),t("no_newline_selector",{processor:"string",default:""}),t("keep_styles",{processor:"boolean",default:!0}),t("end_container_on_empty_block",{processor:o=>Fe(o)?{valid:!0,value:o}:le(o)?{valid:!0,value:o}:{valid:!1,message:"Must be boolean or a string"},default:"blockquote"}),t("font_size_style_values",{processor:"string",default:"xx-small,x-small,small,medium,large,x-large,xx-large"}),t("font_size_legacy_values",{processor:"string",default:"xx-small,small,medium,large,x-large,xx-large,300%"}),t("font_size_classes",{processor:"string",default:""}),t("automatic_uploads",{processor:"boolean",default:!0}),t("images_reuse_filename",{processor:"boolean",default:!1}),t("images_replace_blob_uris",{processor:"boolean",default:!0}),t("icons",{processor:"string",default:""}),t("icons_url",{processor:"string",default:""}),t("images_upload_url",{processor:"string",default:""}),t("images_upload_base_path",{processor:"string",default:""}),t("images_upload_credentials",{processor:"boolean",default:!1}),t("images_upload_handler",{processor:"function"}),t("language",{processor:"string",default:"en"}),t("language_url",{processor:"string",default:""}),t("entity_encoding",{processor:"string",default:"named"}),t("indent",{processor:"boolean",default:!0}),t("indent_before",{processor:"string",default:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,details,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist"}),t("indent_after",{processor:"string",default:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,details,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist"}),t("indent_use_margin",{processor:"boolean",default:!1}),t("indentation",{processor:"string",default:"40px"}),t("content_css",{processor:o=>{const a=o===!1||le(o)||wt(o,le);return a?le(o)?{value:Ue(o.split(","),We),valid:a}:ne(o)?{value:o,valid:a}:o===!1?{value:[],valid:a}:{value:o,valid:a}:{valid:!1,message:"Must be false, a string or an array of strings."}},default:Xv(e)?[]:["default"]}),t("content_style",{processor:"string"}),t("content_css_cors",{processor:"boolean",default:!1}),t("font_css",{processor:o=>{const a=le(o)||wt(o,le);return a?{value:ne(o)?o:Ue(o.split(","),We),valid:a}:{valid:!1,message:"Must be a string or an array of strings."}},default:[]}),t("inline_boundaries",{processor:"boolean",default:!0}),t("inline_boundaries_selector",{processor:"string",default:"a[href],code,span.mce-annotation"}),t("object_resizing",{processor:o=>{const a=Fe(o)||le(o);return a?o===!1||Xm.isiPhone()||Xm.isiPad()?{value:"",valid:a}:{value:o===!0?"table,img,figure.image,div,video,iframe":o,valid:a}:{valid:!1,message:"Must be boolean or a string"}},default:!PC}),t("resize_img_proportional",{processor:"boolean",default:!0}),t("event_root",{processor:"string"}),t("service_message",{processor:"string"}),t("theme",{processor:o=>o===!1||le(o)||Ve(o),default:"silver"}),t("theme_url",{processor:"string"}),t("formats",{processor:"object"}),t("format_empty_lines",{processor:"boolean",default:!1}),t("format_noneditable_selector",{processor:"string",default:""}),t("preview_styles",{processor:o=>{const a=o===!1||le(o);return a?{value:o===!1?"":o,valid:a}:{valid:!1,message:"Must be false or a string"}},default:"font-family font-size font-weight font-style text-decoration text-transform color background-color border border-radius outline text-shadow"}),t("custom_ui_selector",{processor:"string",default:""}),t("hidden_input",{processor:"boolean",default:!0}),t("submit_patch",{processor:"boolean",default:!0}),t("encoding",{processor:"string"}),t("add_form_submit_trigger",{processor:"boolean",default:!0}),t("add_unload_trigger",{processor:"boolean",default:!0}),t("custom_undo_redo_levels",{processor:"number",default:0}),t("disable_nodechange",{processor:"boolean",default:!1}),t("readonly",{processor:"boolean",default:!1}),t("editable_root",{processor:"boolean",default:!0}),t("plugins",{processor:"string[]",default:[]}),t("external_plugins",{processor:"object"}),t("forced_plugins",{processor:"string[]"}),t("model",{processor:"string",default:e.hasPlugin("rtc")?"plugin":"dom"}),t("model_url",{processor:"string"}),t("block_unsupported_drop",{processor:"boolean",default:!0}),t("visual",{processor:"boolean",default:!0}),t("visual_table_class",{processor:"string",default:"mce-item-table"}),t("visual_anchor_class",{processor:"string",default:"mce-item-anchor"}),t("iframe_aria_text",{processor:"string",default:"Rich Text Area. Press ALT-0 for help."}),t("setup",{processor:"function"}),t("init_instance_callback",{processor:"function"}),t("url_converter",{processor:"function",default:e.convertURL}),t("url_converter_scope",{processor:"object",default:e}),t("urlconverter_callback",{processor:"function"}),t("allow_conditional_comments",{processor:"boolean",default:!1}),t("allow_html_data_urls",{processor:"boolean",default:!1}),t("allow_svg_data_urls",{processor:"boolean"}),t("allow_html_in_named_anchor",{processor:"boolean",default:!1}),t("allow_script_urls",{processor:"boolean",default:!1}),t("allow_unsafe_link_target",{processor:"boolean",default:!1}),t("convert_fonts_to_spans",{processor:"boolean",default:!0,deprecated:!0}),t("fix_list_elements",{processor:"boolean",default:!1}),t("preserve_cdata",{processor:"boolean",default:!1}),t("remove_trailing_brs",{processor:"boolean",default:!0}),t("pad_empty_with_br",{processor:"boolean",default:!1}),t("inline_styles",{processor:"boolean",default:!0,deprecated:!0}),t("element_format",{processor:"string",default:"html"}),t("entities",{processor:"string"}),t("schema",{processor:"string",default:"html5"}),t("convert_urls",{processor:"boolean",default:!0}),t("relative_urls",{processor:"boolean",default:!0}),t("remove_script_host",{processor:"boolean",default:!0}),t("custom_elements",{processor:Qx}),t("extended_valid_elements",{processor:"string"}),t("invalid_elements",{processor:"string"}),t("invalid_styles",{processor:Qx}),t("valid_children",{processor:"string"}),t("valid_classes",{processor:Qx}),t("valid_elements",{processor:"string"}),t("valid_styles",{processor:Qx}),t("verify_html",{processor:"boolean",default:!0}),t("auto_focus",{processor:o=>le(o)||o===!0}),t("browser_spellcheck",{processor:"boolean",default:!1}),t("protect",{processor:"array"}),t("images_file_types",{processor:"string",default:"jpeg,jpg,jpe,jfi,jif,jfif,png,gif,bmp,webp"}),t("deprecation_warnings",{processor:"boolean",default:!0}),t("a11y_advanced_options",{processor:"boolean",default:!1}),t("api_key",{processor:"string"}),t("license_key",{processor:"string"}),t("paste_block_drop",{processor:"boolean",default:!1}),t("paste_data_images",{processor:"boolean",default:!0}),t("paste_preprocess",{processor:"function"}),t("paste_postprocess",{processor:"function"}),t("paste_webkit_styles",{processor:"string",default:"none"}),t("paste_remove_styles_if_webkit",{processor:"boolean",default:!0}),t("paste_merge_formats",{processor:"boolean",default:!0}),t("smart_paste",{processor:"boolean",default:!0}),t("paste_as_text",{processor:"boolean",default:!1}),t("paste_tab_spaces",{processor:"number",default:4}),t("text_patterns",{processor:o=>wt(o,q)||o===!1?{value:ub(o===!1?[]:o),valid:!0}:{valid:!1,message:"Must be an array of objects or false."},default:[{start:"*",end:"*",format:"italic"},{start:"**",end:"**",format:"bold"},{start:"#",format:"h1",trigger:"space"},{start:"##",format:"h2",trigger:"space"},{start:"###",format:"h3",trigger:"space"},{start:"####",format:"h4",trigger:"space"},{start:"#####",format:"h5",trigger:"space"},{start:"######",format:"h6",trigger:"space"},{start:"1.",cmd:"InsertOrderedList",trigger:"space"},{start:"*",cmd:"InsertUnorderedList",trigger:"space"},{start:"-",cmd:"InsertUnorderedList",trigger:"space"},{start:">",cmd:"mceBlockQuote",trigger:"space"},{start:"---",cmd:"InsertHorizontalRule",trigger:"space"}]}),t("text_patterns_lookup",{processor:o=>Ve(o)?{value:G1(o),valid:!0}:{valid:!1,message:"Must be a single function"},default:o=>[]}),t("noneditable_class",{processor:"string",default:"mceNonEditable"}),t("editable_class",{processor:"string",default:"mceEditable"}),t("noneditable_regexp",{processor:o=>wt(o,dR)?{value:o,valid:!0}:dR(o)?{value:[o],valid:!0}:{valid:!1,message:"Must be a RegExp or an array of RegExp."},default:[]}),t("table_tab_navigation",{processor:"boolean",default:!0}),t("highlight_on_focus",{processor:"boolean",default:!0}),t("xss_sanitization",{processor:"boolean",default:!0}),t("details_initial_state",{processor:o=>{const a=xe(["inherited","collapsed","expanded"],o);return a?{value:o,valid:a}:{valid:!1,message:"Must be one of: inherited, collapsed, or expanded."}},default:"inherited"}),t("details_serialized_state",{processor:o=>{const a=xe(["inherited","collapsed","expanded"],o);return a?{value:o,valid:a}:{valid:!1,message:"Must be one of: inherited, collapsed, or expanded."}},default:"inherited"}),t("init_content_sync",{processor:"boolean",default:!1}),t("newdocument_content",{processor:"string",default:""}),t("sandbox_iframes",{processor:"boolean",default:!0}),t("sandbox_iframes_exclusions",{processor:"string[]",default:["youtube.com","youtu.be","vimeo.com","player.vimeo.com","dailymotion.com","embed.music.apple.com","open.spotify.com","giphy.com","dai.ly","codepen.io"]}),t("convert_unsafe_embeds",{processor:"boolean",default:!0}),e.on("ScriptsLoaded",()=>{t("directionality",{processor:"string",default:Mu.isRtl()?"rtl":void 0}),t("placeholder",{processor:"string",default:YL.getAttrib(e.getElement(),"placeholder")})})},ac=Ln("iframe_attrs"),sm=Ln("doctype"),ud=Ln("document_base_url"),MC=Ln("body_id"),mE=Ln("body_class"),fR=Ln("content_security_policy"),gE=Ln("br_in_pre"),Ul=Ln("forced_root_block"),e2=Ln("forced_root_block_attrs"),hE=Ln("newline_behavior"),mR=Ln("br_newline_selector"),gR=Ln("no_newline_selector"),pE=Ln("keep_styles"),bE=Ln("end_container_on_empty_block"),fr=Ln("automatic_uploads"),lp=Ln("images_reuse_filename"),hR=Ln("images_replace_blob_uris"),vE=Ln("icons"),pR=Ln("icons_url"),yE=Ln("images_upload_url"),bR=Ln("images_upload_base_path"),xE=Ln("images_upload_credentials"),JL=Ln("images_upload_handler"),vR=Ln("content_css_cors"),t2=Ln("referrer_policy"),wE=Ln("language"),QL=Ln("language_url"),yR=Ln("indent_use_margin"),dd=Ln("indentation"),pc=Ln("content_css"),Y1=Ln("content_style"),xR=Ln("font_css"),e8=Ln("directionality"),Cs=Ln("inline_boundaries_selector"),wR=Ln("object_resizing"),CR=Ln("resize_img_proportional"),CE=Ln("placeholder"),SR=Ln("event_root"),t8=Ln("service_message"),X1=Ln("theme"),n8=Ln("theme_url"),n2=Ln("model"),SE=Ln("model_url"),J1=Ln("inline_boundaries"),o8=Ln("formats"),s8=Ln("preview_styles"),r8=Ln("format_empty_lines"),wo=Ln("format_noneditable_selector"),_R=Ln("custom_ui_selector"),Xv=Ln("inline"),_E=Ln("hidden_input"),kR=Ln("submit_patch"),ER=Ln("add_form_submit_trigger"),AR=Ln("add_unload_trigger"),TR=Ln("custom_undo_redo_levels"),a8=Ln("disable_nodechange"),OR=Ln("readonly"),zs=Ln("editable_root"),RR=Ln("content_css_cors"),rm=Ln("plugins"),qg=Ln("external_plugins"),LC=Ln("block_unsupported_drop"),Vu=Ln("visual"),FC=Ln("visual_table_class"),Q1=Ln("visual_anchor_class"),o2=Ln("iframe_aria_text"),ey=Ln("setup"),i8=Ln("init_instance_callback"),l8=Ln("urlconverter_callback"),c8=Ln("auto_focus"),u8=Ln("browser_spellcheck"),ks=Ln("protect"),Jm=Ln("paste_block_drop"),Gg=Ln("paste_data_images"),d8=Ln("paste_preprocess"),s2=Ln("paste_postprocess"),As=Ln("newdocument_content"),DR=Ln("paste_webkit_styles"),kE=Ln("paste_remove_styles_if_webkit"),f8=Ln("paste_merge_formats"),Jv=Ln("smart_paste"),Qv=Ln("paste_as_text"),NR=Ln("paste_tab_spaces"),m8=Ln("allow_html_data_urls"),g8=Ln("text_patterns"),r2=Ln("text_patterns_lookup"),e0=Ln("noneditable_class"),h8=Ln("editable_class"),IR=Ln("noneditable_regexp"),p8=Ln("preserve_cdata"),PR=Ln("highlight_on_focus"),BR=Ln("xss_sanitization"),MR=Ln("init_content_sync"),EE=e=>e.options.isSet("text_patterns_lookup"),AE=e=>an.explode(e.options.get("font_size_style_values")),TE=e=>an.explode(e.options.get("font_size_classes")),LR=e=>e.options.get("encoding")==="xml",OE=e=>an.explode(e.options.get("images_file_types")),FR=Ln("table_tab_navigation"),$C=Ln("details_initial_state"),$R=Ln("details_serialized_state"),RE=Ln("sandbox_iframes"),VC=e=>e.options.get("sandbox_iframes_exclusions"),VR=Ln("convert_unsafe_embeds"),HR=Ln("license_key"),zR=Ln("api_key"),b8=Vn,UR=Xt,a2=e=>{const t=e.parentNode;t&&t.removeChild(e)},DE=e=>{const t=rc(e);return{count:e.length-t.length,text:t}},NE=e=>{let t;for(;(t=e.data.lastIndexOf(Ga))!==-1;)e.deleteData(t,1)},IE=(e,t)=>(db(e),t),v8=(e,t)=>{const o=DE(e.data.substr(0,t.offset())),a=DE(e.data.substr(t.offset()));return(o.text+a.text).length>0?(NE(e),Et(e,t.offset()-o.count)):t},y8=(e,t)=>{const o=t.container(),a=st(Do(o.childNodes),e).map(c=>c<t.offset()?Et(o,t.offset()-1):t).getOr(t);return db(e),a},x8=(e,t)=>UR(e)&&t.container()===e?v8(e,t):IE(e,t),w8=(e,t)=>t.container()===e.parentNode?y8(e,t):IE(e,t),C8=(e,t)=>Et.isTextPosition(t)?x8(e,t):w8(e,t),db=e=>{b8(e)&&Mc(e)&&(M1(e)?e.removeAttribute("data-mce-caret"):a2(e)),UR(e)&&(NE(e),e.data.length===0&&a2(e))},WR=yo,HC=Rt,S8=Tg,PE="*[contentEditable=false],video,audio,embed,object",jR=(e,t,o)=>{const a=zv(t.getBoundingClientRect(),o);let c,m;if(e.tagName==="BODY"){const S=e.ownerDocument.documentElement;c=e.scrollLeft||S.scrollLeft,m=e.scrollTop||S.scrollTop}else{const S=e.getBoundingClientRect();c=e.scrollLeft-S.left,m=e.scrollTop-S.top}a.left+=c,a.right+=c,a.top+=m,a.bottom+=m,a.width=1;let p=t.offsetWidth-t.clientWidth;return p>0&&(o&&(p*=-1),a.left+=p,a.right+=p),a},ZR=e=>{var t,o;const a=da(Ke.fromDom(e),PE);for(let c=0;c<a.length;c++){const m=a[c].dom;let p=m.previousSibling;if(om(p)){const S=p.data;S.length===1?(t=p.parentNode)===null||t===void 0||t.removeChild(p):p.deleteData(S.length-1,1)}p=m.nextSibling,Vv(p)&&(p.data.length===1?(o=p.parentNode)===null||o===void 0||o.removeChild(p):p.deleteData(0,1))}},KR=(e,t,o,a)=>{const c=xa();let m,p;const S=Ul(e),T=e.dom,H=(we,Me)=>{let Qe;if(J(),S8(Me))return null;if(o(Me)){const lt=AC(S,Me,we),at=jR(t,Me,we);T.setStyle(lt,"top",at.top),T.setStyle(lt,"caret-color","transparent"),p=lt;const xt=T.create("div",{class:"mce-visual-caret","data-mce-bogus":"all"});T.setStyles(xt,{...at}),T.add(t,xt),c.set({caret:xt,element:Me,before:we}),we&&T.addClass(xt,"mce-visual-caret-before"),ee(),Qe=Me.ownerDocument.createRange(),Qe.setStart(lt,0),Qe.setEnd(lt,0)}else return p=L1(Me,we),Qe=Me.ownerDocument.createRange(),i2(p.nextSibling)?(Qe.setStart(p,0),Qe.setEnd(p,0)):(Qe.setStart(p,1),Qe.setEnd(p,1)),Qe;return Qe},J=()=>{ZR(t),p&&(db(p),p=null),c.on(we=>{T.remove(we.caret),c.clear()}),m&&(clearInterval(m),m=void 0)},ee=()=>{m=setInterval(()=>{c.on(we=>{a()?T.toggleClass(we.caret,"mce-visual-caret-hidden"):T.addClass(we.caret,"mce-visual-caret-hidden")})},500)};return{show:H,hide:J,getCss:()=>".mce-visual-caret {position: absolute;background-color: black;background-color: currentcolor;}.mce-visual-caret-hidden {display: none;}*[data-mce-caret] {position: absolute;left: -1000px;right: auto;top: 0;margin: 0;padding: 0;}",reposition:()=>{c.on(we=>{const Me=jR(t,we.element,we.before);T.setStyles(we.caret,{...Me})})},destroy:()=>clearInterval(m)}},BE=()=>qo.browser.isFirefox(),i2=e=>WR(e)||HC(e),l2=e=>(i2(e)||tu(e)&&BE())&&$d(Ke.fromDom(e)).exists(br),zC=Pc,UC=yo,qR=Rt,ME=Nc("display","block table table-cell table-caption list-item"),LE=Mc,GR=sb,_8=Vn,WC=Xt,YR=id,t0=e=>e>0,n0=e=>e<0,jC=(e,t)=>{let o;for(;o=e(t);)if(!GR(o))return o;return null},c2=(e,t,o,a,c)=>{const m=new Si(e,a),p=UC(e)||GR(e);let S;if(n0(t)){if(p&&(S=jC(m.prev.bind(m),!0),o(S)))return S;for(;S=jC(m.prev.bind(m),c);)if(o(S))return S}if(t0(t)){if(p&&(S=jC(m.next.bind(m),!0),o(S)))return S;for(;S=jC(m.next.bind(m),c);)if(o(S))return S}return null},k8=(e,t)=>{const o=c=>zC(c.dom),a=c=>c.dom===t;return $i(Ke.fromDom(e),o,a).map(c=>c.dom).getOr(t)},fb=(e,t)=>{for(;e&&e!==t;){if(ME(e))return e;e=e.parentNode}return null},Yg=(e,t,o)=>fb(e.container(),o)===fb(t.container(),o),ZC=(e,t)=>{if(!t)return te.none();const o=t.container(),a=t.offset();return _8(o)?te.from(o.childNodes[a+e]):te.none()},XR=(e,t)=>{var o;const c=((o=t.ownerDocument)!==null&&o!==void 0?o:document).createRange();return e?(c.setStartBefore(t),c.setEndBefore(t)):(c.setStartAfter(t),c.setEndAfter(t)),c},JR=(e,t,o)=>fb(t,e)===fb(o,e),FE=(e,t,o)=>{const a=e?"previousSibling":"nextSibling";let c=o;for(;c&&c!==t;){let m=c[a];if(m&&LE(m)&&(m=m[a]),UC(m)||qR(m)){if(JR(t,m,c))return m;break}if(YR(m))break;c=c.parentNode}return null},u2=ot(XR,!0),d2=ot(XR,!1),$E=(e,t,o)=>{let a;const c=ot(FE,!0,t),m=ot(FE,!1,t),p=o.startContainer,S=o.startOffset;if(sb(p)){const T=WC(p)?p.parentNode:p,H=T.getAttribute("data-mce-caret");if(H==="before"&&(a=T.nextSibling,l2(a)))return u2(a);if(H==="after"&&(a=T.previousSibling,l2(a)))return d2(a)}if(!o.collapsed)return o;if(Xt(p)){if(LE(p)){if(e===1){if(a=m(p),a)return u2(a);if(a=c(p),a)return d2(a)}if(e===-1){if(a=c(p),a)return d2(a);if(a=m(p),a)return u2(a)}return o}if(om(p)&&S>=p.data.length-1)return e===1&&(a=m(p),a)?u2(a):o;if(Vv(p)&&S<=1)return e===-1&&(a=c(p),a)?d2(a):o;if(S===p.data.length)return a=m(p),a?u2(a):o;if(S===0)return a=c(p),a?d2(a):o}return o},QR=(e,t)=>ZC(e?0:-1,t).filter(UC),f2=(e,t,o)=>{const a=$E(e,t,o);return e===-1?Et.fromRangeStart(a):Et.fromRangeEnd(a)},KC=e=>te.from(e.getNode()).map(Ke.fromDom),E8=e=>te.from(e.getNode(!0)).map(Ke.fromDom),VE=(e,t)=>{let o=t;for(;o=e(o);)if(o.isVisible())return o;return o},qC=(e,t)=>{const o=Yg(e,t);return!o&&Cr(e.getNode())?!0:o};var Tl;(function(e){e[e.Backwards=-1]="Backwards",e[e.Forwards=1]="Forwards"})(Tl||(Tl={}));const A8=yo,Xg=Xt,eD=Vn,qn=Cr,o0=id,HE=ib,GC=jv,zE=(e,t)=>{const o=[];let a=e;for(;a&&a!==t;)o.push(a),a=a.parentNode;return o},tD=(e,t)=>e.hasChildNodes()&&t<e.childNodes.length?e.childNodes[t]:null,m2=(e,t)=>{if(t0(e)){if(o0(t.previousSibling)&&!Xg(t.previousSibling))return Et.before(t);if(Xg(t))return Et(t,0)}if(n0(e)){if(o0(t.nextSibling)&&!Xg(t.nextSibling))return Et.after(t);if(Xg(t))return Et(t,t.data.length)}return n0(e)?qn(t)?Et.before(t):Et.after(t):Et.before(t)},nD=(e,t)=>{const o=t.nextSibling;return o&&o0(o)?Xg(o)?Et(o,0):Et.before(o):UE(Tl.Forwards,Et.after(t),e)},UE=(e,t,o)=>{let a,c,m,p;if(!eD(o)||!t)return null;if(t.isEqual(Et.after(o))&&o.lastChild){if(p=Et.after(o.lastChild),n0(e)&&o0(o.lastChild)&&eD(o.lastChild))return qn(o.lastChild)?Et.before(o.lastChild):p}else p=t;const S=p.container();let T=p.offset();if(Xg(S)){if(n0(e)&&T>0)return Et(S,--T);if(t0(e)&&T<S.length)return Et(S,++T);a=S}else{if(n0(e)&&T>0&&(c=tD(S,T-1),o0(c)))return!HE(c)&&(m=c2(c,e,GC,c),m)?Xg(m)?Et(m,m.data.length):Et.after(m):Xg(c)?Et(c,c.data.length):Et.before(c);if(t0(e)&&T<S.childNodes.length&&(c=tD(S,T),o0(c)))return qn(c)?nD(o,c):!HE(c)&&(m=c2(c,e,GC,c),m)?Xg(m)?Et(m,0):Et.before(m):Xg(c)?Et(c,0):Et.after(c);a=c||p.getNode()}if(a&&(t0(e)&&p.isAtEnd()||n0(e)&&p.isAtStart())&&(a=c2(a,e,Gt,o,!0),GC(a,o)))return m2(e,a);c=a&&c2(a,e,GC,o);const H=ei(Ye(zE(S,o),A8));return H&&(!c||!H.contains(c))?(t0(e)?p=Et.after(H):p=Et.before(H),p):c?m2(e,c):null},io=e=>({next:t=>UE(Tl.Forwards,t,e),prev:t=>UE(Tl.Backwards,t,e)}),Fo=(e,t,o)=>{const a=e?Et.before(o):Et.after(o);return fd(e,t,a)},oD=e=>Cr(e)?Et.before(e):Et.after(e),sD=e=>Et.isTextPosition(e)?e.offset()===0:id(e.getNode()),rD=e=>{if(Et.isTextPosition(e)){const t=e.container();return e.offset()===t.data.length}else return id(e.getNode(!0))},aD=(e,t)=>!Et.isTextPosition(e)&&!Et.isTextPosition(t)&&e.getNode()===t.getNode(!0),vo=e=>!Et.isTextPosition(e)&&Cr(e.getNode()),g2=(e,t,o)=>e?!aD(t,o)&&!vo(t)&&rD(t)&&sD(o):!aD(o,t)&&sD(t)&&rD(o),fd=(e,t,o)=>{const a=io(t);return te.from(e?a.next(o):a.prev(o))},s0=(e,t,o)=>fd(e,t,o).bind(a=>Yg(o,a,t)&&g2(e,o,a)?fd(e,t,a):te.some(a)),iD=(e,t,o,a)=>s0(e,t,o).bind(c=>a(c)?iD(e,t,c,a):te.some(c)),ty=(e,t)=>{const o=e?t.firstChild:t.lastChild;return Xt(o)?te.some(Et(o,e?0:o.data.length)):o?id(o)?te.some(e?Et.before(o):oD(o)):Fo(e,t,o):te.none()},Lc=ot(fd,!0),Hu=ot(fd,!1),fo=ot(ty,!0),ef=ot(ty,!1),ny="_mce_caret",md=e=>Vn(e)&&e.id===ny,mb=(e,t)=>{let o=t;for(;o&&o!==e;){if(md(o))return o;o=o.parentNode}return null},lD=e=>le(e.start),cD=e=>ho(e,"rng"),uD=e=>ho(e,"id"),WE=e=>ho(e,"name"),dD=e=>an.isArray(e.start),YC=e=>!WE(e)&&Fe(e.forward)?e.forward:!0,fD=(e,t)=>(Vn(t)&&e.isBlock(t)&&!t.innerHTML&&(t.innerHTML='<br data-mce-bogus="1" />'),t),T8=(e,t)=>{const o=te.from(ue(e.getRoot(),t.start)),a=te.from(ue(e.getRoot(),t.end));return oi(o,a,(c,m)=>{const p=e.createRng();return p.setStart(c.container(),c.offset()),p.setEnd(m.container(),m.offset()),{range:p,forward:YC(t)}})},O8=(e,t)=>{var o;const c=((o=e.ownerDocument)!==null&&o!==void 0?o:document).createTextNode(Ga);e.appendChild(c),t.setStart(c,0),t.setEnd(c,0)},jE=e=>!e.hasChildNodes(),ZE=(e,t)=>ef(e).fold(Fn,o=>(t.setStart(o.container(),o.offset()),t.setEnd(o.container(),o.offset()),!0)),mD=(e,t,o)=>jE(t)&&mb(e,t)?(O8(t,o),!0):!1,gD=(e,t,o,a)=>{const c=o[t?"start":"end"],m=e.getRoot();if(c){let p=m,S=c[0];for(let T=c.length-1;p&&T>=1;T--){const H=p.childNodes;if(mD(m,p,a))return!0;if(c[T]>H.length-1)return mD(m,p,a)?!0:ZE(p,a);p=H[c[T]]}Xt(p)&&(S=Math.min(c[0],p.data.length)),Vn(p)&&(S=Math.min(c[0],p.childNodes.length)),t?a.setStart(p,S):a.setEnd(p,S)}return!0},KE=e=>Xt(e)&&e.data.length>0,hD=(e,t,o)=>{const a=e.get(o.id+"_"+t),c=a==null?void 0:a.parentNode,m=o.keep;if(a&&c){let p,S;if(t==="start"?m?a.hasChildNodes()?(p=a.firstChild,S=1):KE(a.nextSibling)?(p=a.nextSibling,S=0):KE(a.previousSibling)?(p=a.previousSibling,S=a.previousSibling.data.length):(p=c,S=e.nodeIndex(a)+1):(p=c,S=e.nodeIndex(a)):m?a.hasChildNodes()?(p=a.firstChild,S=1):KE(a.previousSibling)?(p=a.previousSibling,S=a.previousSibling.data.length):(p=c,S=e.nodeIndex(a)):(p=c,S=e.nodeIndex(a)),!m){const T=a.previousSibling,H=a.nextSibling;an.each(an.grep(a.childNodes),ee=>{Xt(ee)&&(ee.data=ee.data.replace(/\uFEFF/g,""))});let J;for(;J=e.get(o.id+"_"+t);)e.remove(J,!0);if(Xt(H)&&Xt(T)&&!qo.browser.isOpera()){const ee=T.data.length;T.appendData(H.data),e.remove(H),p=T,S=ee}}return te.some(Et(p,S))}else return te.none()},pD=(e,t)=>{const o=e.createRng();return gD(e,!0,t,o)&&gD(e,!1,t,o)?te.some({range:o,forward:YC(t)}):te.none()},r0=(e,t)=>{const o=hD(e,"start",t),a=hD(e,"end",t);return oi(o,a.or(o),(c,m)=>{const p=e.createRng();return p.setStart(fD(e,c.container()),c.offset()),p.setEnd(fD(e,m.container()),m.offset()),{range:p,forward:YC(t)}})},bD=(e,t)=>te.from(e.select(t.name)[t.index]).map(o=>{const a=e.createRng();return a.selectNode(o),{range:a,forward:!0}}),vD=(e,t)=>{const o=e.dom;if(t){if(dD(t))return pD(o,t);if(lD(t))return T8(o,t);if(uD(t))return r0(o,t);if(WE(t))return bD(o,t);if(cD(t))return te.some({range:t.rng,forward:YC(t)})}return te.none()},R8=(e,t,o)=>vt(e,t,o),D8=(e,t)=>{vD(e,t).each(({range:o,forward:a})=>{e.setRng(o,a)})},gd=e=>Vn(e)&&e.tagName==="SPAN"&&e.getAttribute("data-mce-type")==="bookmark",Wl=(e=>t=>e===t)(qa),a0=e=>e!==""&&` \f
\r	\v`.indexOf(e)!==-1,cp=e=>!a0(e)&&!Wl(e)&&!Ru(e),Br=e=>{const t=[];if(e)for(let o=0;o<e.rangeCount;o++)t.push(e.getRangeAt(o));return t},tf=e=>Wo(e,t=>{const o=ab(t);return o?[Ke.fromDom(o)]:[]}),h2=e=>Br(e).length>1,XC=e=>Ye(tf(e),Lu),oy=e=>da(e,"td[data-mce-selected],th[data-mce-selected]"),yD=(e,t)=>{const o=oy(t);return o.length>0?o:XC(e)},Qm=e=>yD(Br(e.selection.getSel()),Ke.fromDom(e.getBody())),Gs=(e,t)=>Ec(e,"table",t),p2=e=>{const t=e.startContainer,o=e.startOffset;return Xt(t)?o===0?te.some(Ke.fromDom(t)):te.none():te.from(t.childNodes[o]).map(Ke.fromDom)},xD=e=>{const t=e.endContainer,o=e.endOffset;return Xt(t)?o===t.data.length?te.some(Ke.fromDom(t)):te.none():te.from(t.childNodes[o-1]).map(Ke.fromDom)},qE=e=>Fl(e).fold(ct([e]),t=>[e].concat(qE(t))),b2=e=>ku(e).fold(ct([e]),t=>ls(t)==="br"?Ta(t).map(o=>[e].concat(b2(o))).getOr([]):[e].concat(b2(t))),v2=(e,t)=>oi(p2(t),xD(t),(o,a)=>{const c=Nn(qE(e),ot(ss,o)),m=Nn(b2(e),ot(ss,a));return c.isSome()&&m.isSome()}).getOr(!1),y2=(e,t,o,a)=>{const c=o,m=new Si(o,c),p=xc(e.schema.getMoveCaretBeforeOnEnterElements(),(T,H)=>!xe(["td","th","table"],H.toLowerCase()));let S=o;do{if(Xt(S)&&an.trim(S.data).length!==0){a?t.setStart(S,0):t.setEnd(S,S.data.length);return}if(p[S.nodeName]){a?t.setStartBefore(S):S.nodeName==="BR"?t.setEndBefore(S):t.setEndAfter(S);return}}while(S=a?m.next():m.prev());c.nodeName==="BODY"&&(a?t.setStart(c,0):t.setEnd(c,c.childNodes.length))},sy=e=>{const t=e.selection.getSel();return Oe(t)&&t.rangeCount>0},ry=(e,t)=>{const o=Qm(e);o.length>0?ye(o,a=>{const c=a.dom,m=e.dom.createRng();m.setStartBefore(c),m.setEndAfter(c),t(m,!0)}):t(e.selection.getRng(),!1)},JC=(e,t,o)=>{const a=dn(e,t);o(a),e.moveToBookmark(a)},ay=e=>P(e==null?void 0:e.nodeType),QC=e=>Vn(e)&&!gd(e)&&!md(e)&&!Zd(e),wD=(e,t)=>{if(QC(t)&&!/^(TD|TH)$/.test(t.nodeName)){const o=e.getAttrib(t,"data-mce-selected"),a=parseInt(o,10);return!isNaN(a)&&a>0}else return!1},GE=(e,t,o)=>{const{selection:a,dom:c}=e,m=a.getNode(),p=yo(m);JC(a,!0,()=>{t()}),p&&yo(m)&&c.isChildOf(m,e.getBody())?e.selection.select(m):o(a.getStart())&&CD(c,a)},CD=(e,t)=>{var o,a;const c=t.getRng(),{startContainer:m,startOffset:p}=c,S=t.getNode();if(!wD(e,S)&&Vn(m)){const T=m.childNodes,H=e.getRoot();let J;if(p<T.length){const ee=T[p];J=new Si(ee,(o=e.getParent(ee,e.isBlock))!==null&&o!==void 0?o:H)}else{const ee=T[T.length-1];J=new Si(ee,(a=e.getParent(ee,e.isBlock))!==null&&a!==void 0?a:H),J.next(!0)}for(let ee=J.current();ee;ee=J.next()){if(e.getContentEditable(ee)==="false")return;if(Xt(ee)&&!YE(ee)){c.setStart(ee,0),t.setRng(c);return}}}},i0=(e,t,o)=>{if(e){const a=t?"nextSibling":"previousSibling";for(e=e[a];e;e=e[a])if(Vn(e)||!YE(e))return e}},eS=(e,t)=>!!e.getTextBlockElements()[t.nodeName.toLowerCase()]||ou(e,t),gb=(e,t,o)=>e.schema.isValidChild(t,o),YE=(e,t=!1)=>{if(Oe(e)&&Xt(e)){const o=t?e.data.replace(/ /g,""):e.data;return ec(o)}else return!1},I8=e=>Oe(e)&&Xt(e)&&e.length===0,SD=(e,t)=>{const o="[data-mce-cef-wrappable]",a=wo(e),c=Qt(a)?o:`${o},${a}`;return Ws(Ke.fromDom(t),c)},XE=(e,t)=>{const o=e.dom;return QC(t)&&o.getContentEditable(t)==="false"&&SD(e,t)&&o.select('[contenteditable="true"]',t).length===0},up=(e,t)=>Ve(e)?e(t):(Oe(t)&&(e=e.replace(/%(\w+)/g,(o,a)=>t[a]||o)),e),iy=(e,t)=>(e=e||"",t=t||"",e=""+(e.nodeName||e),t=""+(t.nodeName||t),e.toLowerCase()===t.toLowerCase()),tS=(e,t)=>{if(rt(e))return null;{let o=String(e);return(t==="color"||t==="backgroundColor")&&(o=_v(o)),t==="fontWeight"&&e===700&&(o="bold"),t==="fontFamily"&&(o=o.replace(/[\'\"]/g,"").replace(/,\s+/g,",")),o}},x2=(e,t,o)=>{const a=e.getStyle(t,o);return tS(a,o)},JE=(e,t)=>{let o;return e.getParent(t,a=>Vn(a)?(o=e.getStyle(a,"text-decoration"),!!o&&o!=="none"):!1),o},w2=(e,t,o)=>e.getParents(t,o,e.getRoot()),nS=(e,t,o)=>{const a=e.formatter.get(t);return Oe(a)&&Re(a,o)},_D=(e,t)=>nS(e,t,a=>{const c=m=>Ve(m)||m.length>1&&m.charAt(0)==="%";return Re(["styles","attributes"],m=>Hs(a,m).exists(p=>{const S=ne(p)?p:wc(p);return Re(S,c)}))}),kD=(e,t,o)=>{const a=["inline","block","selector","attributes","styles","classes"],c=m=>xc(m,(p,S)=>Re(a,T=>T===S));return nS(e,t,m=>{const p=c(m);return nS(e,o,S=>{const T=c(S);return Ma(p,T)})})},eg=e=>nl(e,"block"),ED=e=>eg(e)&&e.wrapper===!0,AD=e=>eg(e)&&e.wrapper!==!0,zu=e=>nl(e,"selector"),Gi=e=>nl(e,"inline"),TD=e=>zu(e)&&Gi(e)&&Nd(Hs(e,"mixed"),!0),oS=e=>zu(e)&&e.expand!==!1&&!Gi(e),OD=e=>{const t=[];let o=e;for(;o;){if(Xt(o)&&o.data!==Ga||o.childNodes.length>1)return[];Vn(o)&&t.push(o),o=o.firstChild}return t},QE=e=>OD(e).length>0,sS=e=>md(e.dom)&&QE(e.dom),hb=gd,C2=w2,rS=YE,aS=eS,RD=e=>Cr(e)&&e.getAttribute("data-mce-bogus")&&!e.nextSibling,S2=(e,t)=>{let o=t;for(;o;){if(Vn(o)&&e.getContentEditable(o))return e.getContentEditable(o)==="false"?o:t;o=o.parentNode}return t},iS=(e,t,o,a)=>{const c=t.data;if(e){for(let m=o;m>0;m--)if(a(c.charAt(m-1)))return m}else for(let m=o;m<c.length;m++)if(a(c.charAt(m)))return m;return-1},_2=(e,t,o)=>iS(e,t,o,a=>Wl(a)||a0(a)),eA=(e,t,o)=>iS(e,t,o,cp),tA=(e,t,o,a,c,m)=>{let p;const S=e.getParent(o,e.isBlock)||t,T=(J,ee,re)=>{const ve=Qf(e),Te=c?ve.backwards:ve.forwards;return te.from(Te(J,ee,(we,Me)=>hb(we.parentNode)?-1:(p=we,re(c,we,Me)),S))};return T(o,a,_2).bind(J=>m?T(J.container,J.offset+(c?-1:0),eA):te.some(J)).orThunk(()=>p?te.some({container:p,offset:c?0:p.length}):te.none())},l0=(e,t,o,a,c)=>{const m=a[c];Xt(a)&&Qt(a.data)&&m&&(a=m);const p=C2(e,a);for(let S=0;S<p.length;S++)for(let T=0;T<t.length;T++){const H=t[T];if(!(Oe(H.collapsed)&&H.collapsed!==o.collapsed)&&zu(H)&&e.is(p[S],H.selector))return p[S]}return a},lS=(e,t,o,a)=>{var c;let m=o;const p=e.getRoot(),S=t[0];if(eg(S)&&(m=S.wrapper?null:e.getParent(o,S.block,p)),!m){const T=(c=e.getParent(o,"LI,TD,TH,SUMMARY"))!==null&&c!==void 0?c:p;m=e.getParent(Xt(o)?o.parentNode:o,H=>H!==p&&aS(e.schema,H),T)}if(m&&eg(S)&&S.wrapper&&(m=C2(e,m,"ul,ol").reverse()[0]||m),!m)for(m=o;m&&m[a]&&!e.isBlock(m[a])&&(m=m[a],!iy(m,"br")););return m||o},cS=(e,t,o,a)=>{const c=o.parentNode;return Oe(o[a])?!1:c===t||rt(c)||e.isBlock(c)?!0:cS(e,t,c,a)},dp=(e,t,o,a,c)=>{let m=o;const p=c?"previousSibling":"nextSibling",S=e.getRoot();if(Xt(o)&&!rS(o)&&(c?a>0:a<o.data.length))return o;for(;m;){if(!t[0].block_expand&&e.isBlock(m))return m;for(let T=m[p];T;T=T[p]){const H=Xt(T)&&!cS(e,S,T,p);if(!hb(T)&&!RD(T)&&!rS(T,H))return m}if(m===S||m.parentNode===S){o=m;break}m=m.parentNode}return o},fp=e=>hb(e.parentNode)||hb(e),pb=(e,t,o,a=!1)=>{let{startContainer:c,startOffset:m,endContainer:p,endOffset:S}=t;const T=o[0];return Vn(c)&&c.hasChildNodes()&&(c=Ya(c,m),Xt(c)&&(m=0)),Vn(p)&&p.hasChildNodes()&&(p=Ya(p,t.collapsed?S:S-1),Xt(p)&&(S=p.data.length)),c=S2(e,c),p=S2(e,p),fp(c)&&(c=hb(c)?c:c.parentNode,t.collapsed?c=c.previousSibling||c:c=c.nextSibling||c,Xt(c)&&(m=t.collapsed?c.length:0)),fp(p)&&(p=hb(p)?p:p.parentNode,t.collapsed?p=p.nextSibling||p:p=p.previousSibling||p,Xt(p)&&(S=t.collapsed?0:p.length)),t.collapsed&&(tA(e,e.getRoot(),c,m,!0,a).each(({container:ee,offset:re})=>{c=ee,m=re}),tA(e,e.getRoot(),p,S,!1,a).each(({container:ee,offset:re})=>{p=ee,S=re})),(Gi(T)||T.block_expand)&&((!Gi(T)||!Xt(c)||m===0)&&(c=dp(e,o,c,m,!0)),(!Gi(T)||!Xt(p)||S===p.data.length)&&(p=dp(e,o,p,S,!1))),oS(T)&&(c=l0(e,o,t,c,"previousSibling"),p=l0(e,o,t,p,"nextSibling")),(eg(T)||zu(T))&&(c=lS(e,o,c,"previousSibling"),p=lS(e,o,p,"nextSibling"),eg(T)&&(e.isBlock(c)||(c=dp(e,o,c,m,!0),Xt(c)&&(m=0)),e.isBlock(p)||(p=dp(e,o,p,S,!1),Xt(p)&&(S=p.data.length)))),Vn(c)&&c.parentNode&&(m=e.nodeIndex(c),c=c.parentNode),Vn(p)&&p.parentNode&&(S=e.nodeIndex(p)+1,p=p.parentNode),{startContainer:c,startOffset:m,endContainer:p,endOffset:S}},k2=(e,t,o)=>{var a;const c=t.startOffset,m=Ya(t.startContainer,c),p=t.endOffset,S=Ya(t.endContainer,p-1),T=Me=>{const Qe=Me[0];Xt(Qe)&&Qe===m&&c>=Qe.data.length&&Me.splice(0,1);const lt=Me[Me.length-1];return p===0&&Me.length>0&&lt===S&&Xt(lt)&&Me.splice(Me.length-1,1),Me},H=(Me,Qe,lt)=>{const at=[];for(;Me&&Me!==lt;Me=Me[Qe])at.push(Me);return at},J=(Me,Qe)=>e.getParent(Me,lt=>lt.parentNode===Qe,Qe),ee=(Me,Qe,lt)=>{const at=lt?"nextSibling":"previousSibling";for(let xt=Me,Zt=xt.parentNode;xt&&xt!==Qe;xt=Zt){Zt=xt.parentNode;const un=H(xt===Me?xt:xt[at],at);un.length&&(lt||un.reverse(),o(T(un)))}};if(m===S)return o(T([m]));const re=(a=e.findCommonAncestor(m,S))!==null&&a!==void 0?a:e.getRoot();if(e.isChildOf(m,S))return ee(m,re,!0);if(e.isChildOf(S,m))return ee(S,re);const ve=J(m,re)||m,Te=J(S,re)||S;ee(m,ve,!0);const we=H(ve===m?ve:ve.nextSibling,"nextSibling",Te===S?Te.nextSibling:Te);we.length&&o(T(we)),ee(S,Te)},P8=['pre[class*=language-][contenteditable="false"]',"figure.image","div[data-ephox-embed-iri]","div.tiny-pageembed","div.mce-toc","div[data-mce-toc]"],DD=e=>pr(e)&&Hg(e)===Ga,ND=(e,t,o,a)=>Ka(t).fold(()=>"skipping",c=>a==="br"||DD(t)?"valid":Bx(t)?"existing":md(t.dom)?"caret":Re(P8,m=>Ws(t,m))?"valid-block":!gb(e,o,a)||!gb(e,ls(c),o)?"invalid-child":"valid"),bb=(e,t)=>{const o=pb(e.dom,t,[{inline:"span"}]);t.setStart(o.startContainer,o.startOffset),t.setEnd(o.endContainer,o.endOffset),e.selection.setRng(t)},vb=(e,t,o,a,c,m)=>{const{uid:p=t,...S}=o;Yc(e,Gr()),va(e,`${wa()}`,p),va(e,`${Yr()}`,a);const{attributes:T={},classes:H=[]}=c(p,S);if(Mi(e,T),Rv(e,H),m){H.length>0&&va(e,`${Wr()}`,H.join(","));const J=Yt(T);J.length>0&&va(e,`${fa()}`,J.join(","))}},Ol=e=>{xi(e,Gr()),Ho(e,`${wa()}`),Ho(e,`${Yr()}`),Ho(e,`${qs()}`);const t=ca(e,`${fa()}`).map(a=>a.split(",")).getOr([]),o=ca(e,`${Wr()}`).map(a=>a.split(",")).getOr([]);ye(t,a=>Ho(e,a)),tp(e,o),Ho(e,`${Wr()}`),Ho(e,`${fa()}`)},Jg=(e,t,o,a,c)=>{const m=Ke.fromTag("span",e);return vb(m,t,o,a,c,!1),m},$s=(e,t,o,a,c,m)=>{const p=[],S=Jg(e.getDoc(),o,m,a,c),T=xa(),H=()=>{T.clear()},J=()=>T.get().getOrThunk(()=>{const Te=ma(S);return p.push(Te),T.set(Te),Te}),ee=Te=>{ye(Te,re)},re=Te=>{switch(ND(e,Te,"span",ls(Te))){case"invalid-child":{H();const Me=ri(Te);ee(Me),H();break}case"valid-block":{H(),vb(Te,o,m,a,c,!0);break}case"valid":{const Me=J();Ql(Te,Me);break}}},ve=Te=>{const we=Ue(Te,Ke.fromDom);ee(we)};return k2(e.dom,t,Te=>{H(),ve(Te)}),p},B8=(e,t,o,a)=>{e.undoManager.transact(()=>{const c=e.selection,m=c.getRng(),p=Qm(e).length>0,S=El("mce-annotation");if(m.collapsed&&!p&&bb(e,m),c.getRng().collapsed&&!p){const T=Jg(e.getDoc(),S,a,t,o.decorate);eu(T,qa),c.getRng().insertNode(T.dom),c.select(T.dom)}else JC(c,!1,()=>{ry(e,T=>{$s(e,T,S,t,o.decorate,a)})})})},ID=e=>{const t=Lx();I1(e,t);const o=N1(e,t),a=Md("span"),c=m=>{ye(m,p=>{a(p)?ai(p):Ol(p)})};return{register:(m,p)=>{t.register(m,p)},annotate:(m,p)=>{t.lookup(m).each(S=>{B8(e,m,S,p)})},annotationChanged:(m,p)=>{o.addListener(m,p)},remove:m=>{D1(e,te.some(m)).each(({elements:p})=>{const S=e.selection.getBookmark();c(p),e.selection.moveToBookmark(S)})},removeAll:m=>{const p=e.selection.getBookmark();Vo(ep(e,m),(S,T)=>{c(S)}),e.selection.moveToBookmark(p)},getAll:m=>{const p=ep(e,m);return Bl(p,S=>Ue(S,T=>T.dom))}}},lr=e=>({getBookmark:ot(R8,e),moveToBookmark:ot(D8,e)});lr.isBookmarkNode=gd;const nA=(e,t,o)=>o.collapsed?!1:Re(o.getClientRects(),a=>$1(a,e,t)),E2=(e,t)=>e.dispatch("PreProcess",t),A2=(e,t)=>e.dispatch("PostProcess",t),T2=e=>{e.dispatch("remove")},O2=e=>{e.dispatch("detach")},PD=(e,t)=>{e.dispatch("SwitchMode",{mode:t})},M8=(e,t,o,a,c)=>{e.dispatch("ObjectResizeStart",{target:t,width:o,height:a,origin:c})},L8=(e,t,o,a,c)=>{e.dispatch("ObjectResized",{target:t,width:o,height:a,origin:c})},F8=e=>{e.dispatch("PreInit")},$8=e=>{e.dispatch("PostRender")},Sa=e=>{e.dispatch("Init")},BD=(e,t)=>{e.dispatch("PlaceholderToggle",{state:t})},oA=(e,t,o)=>{e.dispatch(t,o)},MD=(e,t,o,a)=>{e.dispatch("FormatApply",{format:t,node:o,vars:a})},LD=(e,t,o,a)=>{e.dispatch("FormatRemove",{format:t,node:o,vars:a})},V8=(e,t)=>e.dispatch("BeforeSetContent",t),au=(e,t)=>e.dispatch("SetContent",t),tg=(e,t)=>e.dispatch("BeforeGetContent",t),FD=(e,t)=>e.dispatch("GetContent",t),sA=(e,t)=>{e.dispatch("AutocompleterStart",t)},rA=(e,t)=>{e.dispatch("AutocompleterUpdate",t)},aA=(e,t)=>{e.dispatch("AutocompleterUpdateActiveRange",t)},H8=e=>{e.dispatch("AutocompleterEnd")},R2=(e,t,o)=>e.dispatch("PastePreProcess",{content:t,internal:o}),uS=(e,t,o)=>e.dispatch("PastePostProcess",{node:t,internal:o}),dS=(e,t)=>e.dispatch("PastePlainTextToggle",{state:t}),z8=(e,t)=>e.dispatch("EditableRootStateChange",{state:t}),kn={BACKSPACE:8,DELETE:46,DOWN:40,ENTER:13,ESC:27,LEFT:37,RIGHT:39,SPACEBAR:32,TAB:9,UP:38,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,modifierPressed:e=>e.shiftKey||e.ctrlKey||e.altKey||kn.metaKeyPressed(e),metaKeyPressed:e=>qo.os.isMacOS()||qo.os.isiOS()?e.metaKey:e.ctrlKey&&!e.altKey},c0="data-mce-selected",U8="table,img,figure.image,hr,video,span.mce-preview-object,details",hd=Math.abs,yb=Math.round,fS={nw:[0,0,-1,-1],ne:[1,0,1,-1],se:[1,1,1,1],sw:[0,1,-1,1]},am=e=>e.type==="longpress"||e.type.indexOf("touch")===0,tr=(e,t)=>{const o=t.dom,a=t.getDoc(),c=document,m=t.getBody();let p,S,T,H,J,ee,re,ve,Te,we,Me,Qe,lt,at,xt,Zt,un;const On=An=>Oe(An)&&(Ic(An)||o.is(An,"figure.image")),It=An=>Rt(An)||o.hasClass(An,"mce-preview-object"),_t=(An,Qo)=>{if(am(An)){const us=An.touches[0];return On(An.target)&&!nA(us.clientX,us.clientY,Qo)}else return On(An.target)&&!nA(An.clientX,An.clientY,Qo)},Ut=An=>{const Qo=An.target;_t(An,t.selection.getRng())&&!An.isDefaultPrevented()&&t.selection.select(Qo)},$n=An=>o.hasClass(An,"mce-preview-object")&&Oe(An.firstElementChild)?[An,An.firstElementChild]:o.is(An,"figure.image")?[An.querySelector("img")]:[An],Jn=An=>{const Qo=wR(t);return!Qo||An.getAttribute("data-mce-resize")==="false"||An===t.getBody()?!1:o.hasClass(An,"mce-preview-object")&&Oe(An.firstElementChild)?Ws(Ke.fromDom(An.firstElementChild),Qo):Ws(Ke.fromDom(An),Qo)},Jo=(An,Qo)=>{if(It(Qo))return An.create("img",{src:qo.transparentSrc});if(tu(Qo)){const gl=hr(H.name,"n")?on:ro,nr=Qo.cloneNode(!0);return gl(An.select("tr",nr)).each(Ji=>{const lg=An.select("td,th",Ji);An.setStyle(Ji,"height",null),ye(lg,Dp=>An.setStyle(Dp,"height",null))}),nr}else return Qo.cloneNode(!0)},as=(An,Qo,us)=>{if(Oe(us)){const gl=$n(An);ye(gl,nr=>{nr.style[Qo]||!t.schema.isValid(nr.nodeName.toLowerCase(),Qo)?o.setStyle(nr,Qo,us):o.setAttrib(nr,Qo,""+us)})}},Ks=(An,Qo,us)=>{as(An,"width",Qo),as(An,"height",us)},sr=An=>{let Qo,us,gl,nr,Ji;Qo=An.screenX-ee,us=An.screenY-re,at=Qo*H[2]+we,xt=us*H[3]+Me,at=at<5?5:at,xt=xt<5?5:xt,(On(p)||It(p))&&CR(t)!==!1?gl=!kn.modifierPressed(An):gl=kn.modifierPressed(An),gl&&(hd(Qo)>hd(us)?(xt=yb(at*Qe),at=yb(xt/Qe)):(at=yb(xt/Qe),xt=yb(at*Qe))),Ks(S,at,xt),nr=H.startPos.x+Qo,Ji=H.startPos.y+us,nr=nr>0?nr:0,Ji=Ji>0?Ji:0,o.setStyles(T,{left:nr,top:Ji,display:"block"}),T.innerHTML=at+" &times; "+xt,H[2]<0&&S.clientWidth<=at&&o.setStyle(S,"left",ve+(we-at)),H[3]<0&&S.clientHeight<=xt&&o.setStyle(S,"top",Te+(Me-xt)),Qo=m.scrollWidth-Zt,us=m.scrollHeight-un,Qo+us!==0&&o.setStyles(T,{left:nr-Qo,top:Ji-us}),lt||(M8(t,p,we,Me,"corner-"+H.name),lt=!0)},Ia=()=>{const An=lt;lt=!1,An&&(as(p,"width",at),as(p,"height",xt)),o.unbind(a,"mousemove",sr),o.unbind(a,"mouseup",Ia),c!==a&&(o.unbind(c,"mousemove",sr),o.unbind(c,"mouseup",Ia)),o.remove(S),o.remove(T),o.remove(J),uc(p),An&&(L8(t,p,at,xt,"corner-"+H.name),o.setAttrib(p,"style",o.getAttrib(p,"style"))),t.nodeChanged()},uc=An=>{Sn();const Qo=o.getPos(An,m),us=Qo.x,gl=Qo.y,nr=An.getBoundingClientRect(),Ji=nr.width||nr.right-nr.left,lg=nr.height||nr.bottom-nr.top;p!==An&&(vn(),p=An,at=xt=0);const Dp=t.dispatch("ObjectSelected",{target:An});Jn(An)&&!Dp.isDefaultPrevented()?Vo(fS,(fu,hf)=>{const cg=ug=>{const to=$n(p)[0];ee=ug.screenX,re=ug.screenY,we=to.clientWidth,Me=to.clientHeight,Qe=Me/we,H=fu,H.name=hf,H.startPos={x:Ji*fu[0]+us,y:lg*fu[1]+gl},Zt=m.scrollWidth,un=m.scrollHeight,J=o.add(m,"div",{class:"mce-resize-backdrop","data-mce-bogus":"all"}),o.setStyles(J,{position:"fixed",left:"0",top:"0",width:"100%",height:"100%"}),S=Jo(o,p),o.addClass(S,"mce-clonedresizable"),o.setAttrib(S,"data-mce-bogus","all"),S.contentEditable="false",o.setStyles(S,{left:us,top:gl,margin:0}),Ks(S,Ji,lg),S.removeAttribute(c0),m.appendChild(S),o.bind(a,"mousemove",sr),o.bind(a,"mouseup",Ia),c!==a&&(o.bind(c,"mousemove",sr),o.bind(c,"mouseup",Ia)),T=o.add(m,"div",{class:"mce-resize-helper","data-mce-bogus":"all"},we+" &times; "+Me)};let pf=o.get("mceResizeHandle"+hf);pf&&o.remove(pf),pf=o.add(m,"div",{id:"mceResizeHandle"+hf,"data-mce-bogus":"all",class:"mce-resizehandle",unselectable:!0,style:"cursor:"+hf+"-resize; margin:0; padding:0"}),o.bind(pf,"mousedown",ug=>{ug.stopImmediatePropagation(),ug.preventDefault(),cg(ug)}),fu.elm=pf,o.setStyles(pf,{left:Ji*fu[0]+us-pf.offsetWidth/2,top:lg*fu[1]+gl-pf.offsetHeight/2})}):vn(!1)},mr=Qh(uc,0),vn=(An=!0)=>{mr.cancel(),Sn(),p&&An&&p.removeAttribute(c0),Vo(fS,(Qo,us)=>{const gl=o.get("mceResizeHandle"+us);gl&&(o.unbind(gl),o.remove(gl))})},Gn=(An,Qo)=>o.isChildOf(An,Qo),Bs=An=>{if(lt||t.removed||t.composing)return;const Qo=An.type==="mousedown"?An.target:e.getNode(),us=Ra(Ke.fromDom(Qo),U8).map(nr=>nr.dom).filter(nr=>o.isEditable(nr.parentElement)||nr.nodeName==="IMG"&&o.isEditable(nr)).getOrUndefined(),gl=Oe(us)?o.getAttrib(us,c0,"1"):"1";if(ye(o.select(`img[${c0}],hr[${c0}]`),nr=>{nr.removeAttribute(c0)}),Oe(us)&&Gn(us,m)&&t.hasFocus()){lo();const nr=e.getStart(!0);if(Gn(nr,us)&&Gn(e.getEnd(!0),us)){o.setAttrib(us,c0,gl),mr.throttle(us);return}}vn()},Sn=()=>{Vo(fS,An=>{An.elm&&(o.unbind(An.elm),delete An.elm)})},lo=()=>{try{t.getDoc().execCommand("enableObjectResizing",!1,"false")}catch{}};return t.on("init",()=>{lo(),t.on("NodeChange ResizeEditor ResizeWindow ResizeContent drop",Bs),t.on("keyup compositionend",An=>{p&&p.nodeName==="TABLE"&&Bs(An)}),t.on("hide blur",vn),t.on("contextmenu longpress",Ut,!0)}),t.on("remove",Sn),{isResizable:Jn,showResizeRect:uc,hideResizeRect:vn,updateResizeRect:Bs,destroy:()=>{mr.cancel(),p=S=J=null}}},ly=(e,t)=>{t.fold(o=>{e.setStartBefore(o.dom)},(o,a)=>{e.setStart(o.dom,a)},o=>{e.setStartAfter(o.dom)})},mS=(e,t)=>{t.fold(o=>{e.setEndBefore(o.dom)},(o,a)=>{e.setEnd(o.dom,a)},o=>{e.setEndAfter(o.dom)})},iA=(e,t,o)=>{const a=e.document.createRange();return ly(a,t),mS(a,o),a},D2=(e,t,o,a,c)=>{const m=e.document.createRange();return m.setStart(t.dom,o),m.setEnd(a.dom,c),m},u0=gs.generate([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),$D=(e,t,o)=>t(Ke.fromDom(o.startContainer),o.startOffset,Ke.fromDom(o.endContainer),o.endOffset),lA=(e,t)=>t.match({domRange:o=>({ltr:ct(o),rtl:te.none}),relative:(o,a)=>({ltr:sl(()=>iA(e,o,a)),rtl:sl(()=>te.some(iA(e,a,o)))}),exact:(o,a,c,m)=>({ltr:sl(()=>D2(e,o,a,c,m)),rtl:sl(()=>te.some(D2(e,c,m,o,a)))})}),W8=(e,t)=>{const o=t.ltr();return o.collapsed?t.rtl().filter(c=>c.collapsed===!1).map(c=>u0.rtl(Ke.fromDom(c.endContainer),c.endOffset,Ke.fromDom(c.startContainer),c.startOffset)).getOrThunk(()=>$D(e,u0.ltr,o)):$D(e,u0.ltr,o)},VD=(e,t)=>{const o=lA(e,t);return W8(e,o)};u0.ltr,u0.rtl;const gS={create:(e,t,o,a)=>({start:e,soffset:t,finish:o,foffset:a})},HD=(e,t,o)=>{var a;return te.from((a=e.caretPositionFromPoint)===null||a===void 0?void 0:a.call(e,t,o)).bind(c=>{if(c.offsetNode===null)return te.none();const m=e.createRange();return m.setStart(c.offsetNode,c.offset),m.collapse(),te.some(m)})},hS=(e,t,o)=>{var a;return te.from((a=e.caretRangeFromPoint)===null||a===void 0?void 0:a.call(e,t,o))},Z8=(e,t,o)=>e.caretPositionFromPoint?HD(e,t,o):e.caretRangeFromPoint?hS(e,t,o):te.none(),K8=(e,t,o)=>{const a=e.document;return Z8(a,t,o).map(c=>gS.create(Ke.fromDom(c.startContainer),c.startOffset,Ke.fromDom(c.endContainer),c.endOffset))},cA=gs.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),q8=(e,t,o,a)=>e.fold(t,o,a),G8=e=>e.fold(Tn,Tn,Tn),zD=cA.before,Y8=cA.on,X8=cA.after,Qg={before:zD,on:Y8,after:X8,cata:q8,getStart:G8},N2=gs.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),J8=e=>N2.exact(e.start,e.soffset,e.finish,e.foffset),Q8=e=>e.match({domRange:t=>Ke.fromDom(t.startContainer),relative:(t,o)=>Qg.getStart(t),exact:(t,o,a,c)=>t}),UD=N2.domRange,nf=N2.relative,eF=N2.exact,WD=e=>{const t=Q8(e);return Cu(t)},uA=gS.create,xb={domRange:UD,relative:nf,exact:eF,exactFromRange:J8,getWin:WD,range:uA},I2=(e,t)=>{const o=ls(e);return o==="input"?Qg.after(e):xe(["br","img"],o)?t===0?Qg.before(e):Qg.after(e):Qg.on(e,t)},jD=(e,t)=>{const o=e.fold(Qg.before,I2,Qg.after),a=t.fold(Qg.before,I2,Qg.after);return xb.relative(o,a)},pS=(e,t,o,a)=>{const c=I2(e,t),m=I2(o,a);return xb.relative(c,m)},ZD=e=>e.match({domRange:t=>{const o=Ke.fromDom(t.startContainer),a=Ke.fromDom(t.endContainer);return pS(o,t.startOffset,a,t.endOffset)},relative:jD,exact:pS}),Uu=(e,t)=>{const a=document.createDocumentFragment();return ye(e,c=>{a.appendChild(c.dom)}),Ke.fromDom(a)},tF=e=>{const t=xb.getWin(e).dom,o=(c,m,p,S)=>D2(t,c,m,p,S),a=ZD(e);return VD(t,a).match({ltr:o,rtl:o})},dA=(e,t,o)=>K8(e,t,o),KD=(e,t,o)=>{const a=Cu(Ke.fromDom(o));return dA(a.dom,e,t).map(c=>{const m=o.createRange();return m.setStart(c.start.dom,c.soffset),m.setEnd(c.finish.dom,c.foffset),m}).getOrUndefined()},P2=(e,t)=>Oe(e)&&Oe(t)&&e.startContainer===t.startContainer&&e.startOffset===t.startOffset&&e.endContainer===t.endContainer&&e.endOffset===t.endOffset,ng=(e,t,o)=>{let a=e;for(;a&&a!==t;){if(o(a))return a;a=a.parentNode}return null},bS=(e,t,o)=>ng(e,t,o)!==null,vS=(e,t,o)=>bS(e,t,a=>a.nodeName===o),qD=(e,t)=>Mc(e)&&!bS(e,t,md),GD=(e,t,o)=>{const a=t.parentNode;if(a){const c=new Si(t,e.getParent(a,e.isBlock)||e.getRoot());let m;for(;m=c[o?"prev":"next"]();)if(Cr(m))return!0}return!1},YD=(e,t)=>{var o;return((o=e.previousSibling)===null||o===void 0?void 0:o.nodeName)===t},XD=(e,t)=>{let o=t;for(;o&&o!==e;){if(yo(o))return!0;o=o.parentNode}return!1},B2=(e,t,o,a,c)=>{const m=e.getRoot(),p=e.schema.getNonEmptyElements(),S=c.parentNode;let T,H;if(!S)return te.none();const J=e.getParent(S,e.isBlock)||m;if(a&&Cr(c)&&t&&e.isEmpty(J))return te.some(Et(S,e.nodeIndex(c)));const ee=new Si(c,J);for(;H=ee[a?"prev":"next"]();){if(e.getContentEditableParent(H)==="false"||qD(H,m))return te.none();if(Xt(H)&&H.data.length>0)return vS(H,m,"A")?te.none():te.some(Et(H,a?H.data.length:0));if(e.isBlock(H)||p[H.nodeName.toLowerCase()])return te.none();T=H}return Mo(T)?te.none():o&&T?te.some(Et(T,0)):te.none()},fA=(e,t,o,a)=>{const c=e.getRoot();let m,p=!1,S=o?a.startContainer:a.endContainer,T=o?a.startOffset:a.endOffset;const H=Vn(S)&&T===S.childNodes.length,J=e.schema.getNonEmptyElements();let ee=o;if(Mc(S))return te.none();if(Vn(S)&&T>S.childNodes.length-1&&(ee=!1),jn(S)&&(S=c,T=0),S===c){if(ee&&(m=S.childNodes[T>0?T-1:0],m&&(Mc(m)||J[m.nodeName]||tu(m))))return te.none();if(S.hasChildNodes()){if(T=Math.min(!ee&&T>0?T-1:T,S.childNodes.length-1),S=S.childNodes[T],T=Xt(S)&&H?S.data.length:0,!t&&S===c.lastChild&&tu(S)||XD(c,S)||Mc(S)||Og(S))return te.none();if(S.hasChildNodes()&&!tu(S)){m=S;const re=new Si(S,c);do{if(yo(m)||Mc(m)){p=!1;break}if(Xt(m)&&m.data.length>0){T=ee?0:m.data.length,S=m,p=!0;break}if(J[m.nodeName.toLowerCase()]&&!p1(m)){T=e.nodeIndex(m),S=m.parentNode,ee||T++,p=!0;break}}while(m=ee?re.next():re.prev())}}}return t&&(Xt(S)&&T===0&&B2(e,H,t,!0,S).each(re=>{S=re.container(),T=re.offset(),p=!0}),Vn(S)&&(m=S.childNodes[T],m||(m=S.childNodes[T-1]),m&&Cr(m)&&!YD(m,"A")&&!GD(e,m,!1)&&!GD(e,m,!0)&&B2(e,H,t,!0,m).each(re=>{S=re.container(),T=re.offset(),p=!0}))),ee&&!t&&Xt(S)&&T===S.data.length&&B2(e,H,t,!1,S).each(re=>{S=re.container(),T=re.offset(),p=!0}),p&&S?te.some(Et(S,T)):te.none()},eh=(e,t)=>{const o=t.collapsed,a=t.cloneRange(),c=Et.fromRangeStart(t);return fA(e,o,!0,a).each(m=>{(!o||!Et.isAbove(c,m))&&a.setStart(m.container(),m.offset())}),o||fA(e,o,!1,a).each(m=>{a.setEnd(m.container(),m.offset())}),o&&a.collapse(!0),P2(t,a)?te.none():te.some(a)},M2=(e,t)=>e.splitText(t),L2=e=>{let t=e.startContainer,o=e.startOffset,a=e.endContainer,c=e.endOffset;if(t===a&&Xt(t)){if(o>0&&o<t.data.length)if(a=M2(t,o),t=a.previousSibling,c>o){c=c-o;const m=M2(a,c).previousSibling;t=a=m,c=m.data.length,o=0}else c=0}else if(Xt(t)&&o>0&&o<t.data.length&&(t=M2(t,o),o=0),Xt(a)&&c>0&&c<a.data.length){const m=M2(a,c).previousSibling;a=m,c=m.data.length}return{startContainer:t,startOffset:o,endContainer:a,endOffset:c}},wb=e=>({walk:(m,p)=>k2(e,m,p),split:L2,expand:(m,p={type:"word"})=>{if(p.type==="word"){const S=pb(e,m,[{inline:"span"}]),T=e.createRng();return T.setStart(S.startContainer,S.startOffset),T.setEnd(S.endContainer,S.endOffset),T}return m},normalize:m=>eh(e,m).fold(Fn,p=>(m.setStart(p.startContainer,p.startOffset),m.setEnd(p.endContainer,p.endOffset),!0))});wb.compareRanges=P2,wb.getCaretRangeFromPoint=KD,wb.getSelectedNode=ab,wb.getNode=Ya;const mA=((e,t)=>{const o=(S,T)=>{if(!P(T)&&!T.match(/^[0-9]+$/))throw new Error(e+".set accepts only positive integer values. Value was "+T);const H=S.dom;Vi(H)&&(H.style[e]=T+"px")},a=S=>{const T=t(S);if(T<=0||T===null){const H=Ir(S,e);return parseFloat(H)||0}return T},c=a,m=(S,T)=>fn(T,(H,J)=>{const ee=Ir(S,J),re=ee===void 0?0:parseInt(ee,10);return isNaN(re)?H:H+re},0);return{set:o,get:a,getOuter:c,aggregate:m,max:(S,T,H)=>{const J=m(S,H);return T>J?T-J:0}}})("height",e=>{const t=e.dom;return wi(e)?t.getBoundingClientRect().height:t.offsetHeight}),d0=e=>mA.get(e),JD=()=>Ke.fromDom(document),QD=(e,t)=>e.view(t).fold(ct([]),a=>{const c=e.owner(a),m=QD(e,c);return[a].concat(m)}),yS=(e,t)=>{const o=t.owner(e);return QD(t,o)};var sF=Object.freeze({__proto__:null,view:e=>{var t;return(e.dom===document?te.none():te.from((t=e.dom.defaultView)===null||t===void 0?void 0:t.frameElement)).map(Ke.fromDom)},owner:e=>mc(e)});const eN=e=>{const t=JD(),o=bo(t),a=yS(e,sF),c=Eo(e),m=pt(a,(p,S)=>{const T=Eo(S);return{left:p.left+T.left,top:p.top+T.top}},{left:0,top:0});return He(m.left+c.left+o.left,m.top+c.top+o.top)},mp=e=>ls(e)==="textarea",tN=(e,t)=>e.dispatch("ScrollIntoView",t).isDefaultPrevented(),nN=(e,t)=>{e.dispatch("AfterScrollIntoView",t)},oN=(e,t)=>{const o=ri(e);if(o.length===0||mp(e))return{element:e,offset:t};if(t<o.length&&!mp(o[t]))return{element:o[t],offset:0};{const a=o[o.length-1];return mp(a)?{element:e,offset:t}:ls(a)==="img"?{element:a,offset:1}:pr(a)?{element:a,offset:Hg(a).length}:{element:a,offset:ri(a).length}}},F2=(e,t)=>{const o=oo(e),a=d0(e);return{element:e,bottom:o.top+a,height:a,pos:o,cleanup:t}},sN=(e,t)=>{const o=oN(e,t),a=Ke.fromHtml('<span data-mce-bogus="all" style="display: inline-block;">'+Ga+"</span>");return Er(o.element,a),F2(a,()=>Ps(a))},rN=e=>F2(Ke.fromDom(e),Nt),aN=(e,t,o,a)=>{lN(e,(c,m)=>iN(e,t,o,a),o)},$2=(e,t,o,a,c)=>{const m={elm:a.element.dom,alignToTop:c};if(tN(e,m))return;const p=bo(t).top;o(e,t,p,a,c),nN(e,m)},iN=(e,t,o,a)=>{const c=Ke.fromDom(e.getBody()),m=Ke.fromDom(e.getDoc());Ph(c);const p=sN(Ke.fromDom(o.startContainer),o.startOffset);$2(e,m,t,p,a),p.cleanup()},xS=(e,t,o,a)=>{const c=Ke.fromDom(e.getDoc());$2(e,c,o,rN(t),a)},lN=(e,t,o)=>{const a=o.startContainer,c=o.startOffset,m=o.endContainer,p=o.endOffset;t(Ke.fromDom(a),Ke.fromDom(m));const S=e.dom.createRng();S.setStart(a,c),S.setEnd(m,p),e.selection.setRng(o)},V2=(e,t,o,a,c)=>{const m=t.pos;if(a)Un(m.left,m.top,c);else{const p=m.top-o+t.height;Un(-e.getBody().getBoundingClientRect().left,p,c)}},gA=(e,t,o,a,c,m)=>{const p=a+o,S=c.pos.top,T=c.bottom,H=T-S>=a;S<o?V2(e,c,a,m!==!1,t):S>p?V2(e,c,a,H?m!==!1:m===!0,t):T>p&&!H&&V2(e,c,a,m===!0,t)},H2=(e,t,o,a,c)=>{const m=Cu(t).dom.innerHeight;gA(e,t,o,m,a,c)},th=(e,t,o,a,c)=>{const m=Cu(t).dom.innerHeight;gA(e,t,o,m,a,c);const p=eN(a.element),S=Rc(window);p.top<S.y?_s(a.element,c!==!1):p.top>S.bottom&&_s(a.element,c===!0)},rF=(e,t,o)=>aN(e,H2,t,o),hA=(e,t,o)=>xS(e,t,H2,o),za=(e,t,o)=>aN(e,th,t,o),pA=(e,t,o)=>xS(e,t,th,o),bA=(e,t,o)=>{(e.inline?hA:pA)(e,t,o)},of=(e,t,o)=>{(e.inline?rF:za)(e,t,o)},vA=(e,t=!1)=>e.dom.focus({preventScroll:t}),yA=e=>{const t=Qc(e).dom;return e.dom===t.activeElement},f0=(e=JD())=>te.from(e.dom.activeElement).map(Ke.fromDom),aF=e=>f0(Qc(e)).filter(t=>e.dom.contains(t.dom)),cN=(e,t)=>{const o=pr(t)?Hg(t).length:ri(t).length+1;return e>o?o:e<0?0:e},cy=e=>xb.range(e.start,cN(e.soffset,e.start),e.finish,cN(e.foffset,e.finish)),uN=(e,t)=>!Wd(t.dom)&&(si(e,t)||ss(e,t)),Cb=e=>t=>uN(e,t.start)&&uN(e,t.finish),iF=e=>e.inline||qo.browser.isFirefox(),Sb=e=>xb.range(Ke.fromDom(e.startContainer),e.startOffset,Ke.fromDom(e.endContainer),e.endOffset),lF=e=>{const t=e.getSelection();return(!t||t.rangeCount===0?te.none():te.from(t.getRangeAt(0))).map(Sb)},sf=e=>{const t=Cu(e);return lF(t.dom).filter(Cb(e))},z2=(e,t)=>te.from(t).filter(Cb(e)).map(cy),xA=e=>{const t=document.createRange();try{return t.setStart(e.start.dom,e.soffset),t.setEnd(e.finish.dom,e.foffset),te.some(t)}catch{return te.none()}},uy=e=>{const t=iF(e)?sf(Ke.fromDom(e.getBody())):te.none();e.bookmark=t.isSome()?t:e.bookmark},wA=e=>(e.bookmark?e.bookmark:te.none()).bind(o=>z2(Ke.fromDom(e.getBody()),o)).bind(xA),wS=e=>{wA(e).each(t=>e.selection.setRng(t))},rf={isEditorUIElement:e=>{const t=e.className.toString();return t.indexOf("tox-")!==-1||t.indexOf("mce-")!==-1}},CS=(e,t)=>(P(t)||(t=0),setTimeout(e,t)),dN=(e,t)=>(P(t)||(t=0),setInterval(e,t)),Wu={setEditorTimeout:(e,t,o)=>CS(()=>{e.removed||t()},o),setEditorInterval:(e,t,o)=>{const a=dN(()=>{e.removed?clearInterval(a):t()},o);return a}},CA=e=>e.type==="nodechange"&&e.selectionChange,m0=(e,t)=>{const o=()=>{t.throttle()};dr.DOM.bind(document,"mouseup",o),e.on("remove",()=>{dr.DOM.unbind(document,"mouseup",o)})},SA=(e,t)=>{e.on("mouseup touchend",o=>{t.throttle()})},fN=(e,t)=>{SA(e,t),e.on("keyup NodeChange AfterSetSelectionRange",o=>{CA(o)||uy(e)})},cF=e=>{const t=Qh(()=>{uy(e)},0);e.on("init",()=>{e.inline&&m0(e,t),fN(e,t)}),e.on("remove",()=>{t.cancel()})};let nh;const _A=dr.DOM,mN=e=>Vn(e)&&rf.isEditorUIElement(e),U2=e=>{const t=e.classList;return t!==void 0?t.contains("tox-edit-area")||t.contains("tox-edit-area__iframe")||t.contains("mce-content-body"):!1},SS=(e,t)=>{const o=_R(e);return _A.getParent(t,c=>mN(c)||(o?e.dom.is(c,o):!1))!==null},_S=e=>{try{const t=Qc(Ke.fromDom(e.getElement()));return f0(t).fold(()=>document.body,o=>o.dom)}catch{return document.body}},gN=(e,t)=>{const o=t.editor;cF(o);const a=(c,m)=>{if(PR(c)&&c.inline!==!0){const p=Ke.fromDom(c.getContainer());m(p,"tox-edit-focus")}};o.on("focusin",()=>{const c=e.focusedEditor;U2(_S(o))&&a(o,Yc),c!==o&&(c&&c.dispatch("blur",{focusedEditor:o}),e.setActive(o),e.focusedEditor=o,o.dispatch("focus",{blurredEditor:c}),o.focus(!0))}),o.on("focusout",()=>{Wu.setEditorTimeout(o,()=>{const c=e.focusedEditor;(!U2(_S(o))||c!==o)&&a(o,xi),!SS(o,_S(o))&&c===o&&(o.dispatch("blur",{focusedEditor:null}),e.focusedEditor=null)})}),nh||(nh=c=>{const m=e.activeEditor;m&&Rm(c).each(p=>{const S=p;S.ownerDocument===document&&S!==document.body&&!SS(m,S)&&e.focusedEditor===m&&(m.dispatch("blur",{focusedEditor:null}),e.focusedEditor=null)})},_A.bind(document,"focusin",nh))},uF=(e,t)=>{e.focusedEditor===t.editor&&(e.focusedEditor=null),!e.activeEditor&&nh&&(_A.unbind(document,"focusin",nh),nh=null)},dF=e=>{e.on("AddEditor",ot(gN,e)),e.on("RemoveEditor",ot(uF,e))},fF=(e,t)=>e.dom.getParent(t,o=>e.dom.getContentEditable(o)==="true"),mF=(e,t)=>e.dom.getParent(t,o=>e.dom.getContentEditable(o)==="false")!==null,gF=e=>e.collapsed?te.from(Ya(e.startContainer,e.startOffset)).map(Ke.fromDom):te.none(),hF=(e,t)=>gF(t).bind(o=>np(o)?te.some(o):si(e,o)?te.none():te.some(e)),hN=(e,t)=>{hF(Ke.fromDom(e.getBody()),t).bind(o=>fo(o.dom)).fold(()=>{e.selection.normalize()},o=>e.selection.setRng(o.toRange()))},kS=e=>{if(e.setActive)try{e.setActive()}catch{e.focus()}else e.focus()},pF=e=>yA(e)||aF(e).isSome(),bF=e=>Oe(e.iframeElement)&&yA(Ke.fromDom(e.iframeElement)),vF=e=>{const t=e.getBody();return t&&pF(Ke.fromDom(t))},pN=e=>{const t=Qc(Ke.fromDom(e.getElement()));return f0(t).filter(o=>!U2(o.dom)&&SS(e,o.dom)).isSome()},dy=e=>e.inline?vF(e):bF(e),g0=e=>dy(e)||pN(e),yF=e=>{const t=e.selection,o=e.getBody();let a=t.getRng();e.quirks.refreshContentEditable();const c=p=>{wA(p).each(S=>{p.selection.setRng(S),a=S})};!dy(e)&&e.hasEditableRoot()&&c(e);const m=fF(e,t.getNode());if(m&&e.dom.isChildOf(m,o)){mF(e,m)||kS(o),kS(m),e.hasEditableRoot()||c(e),hN(e,a),kA(e);return}e.inline||(qo.browser.isOpera()||kS(o),e.getWin().focus()),(qo.browser.isFirefox()||e.inline)&&(kS(o),hN(e,a)),kA(e)},kA=e=>e.editorManager.setActive(e),bN=(e,t)=>{e.removed||(t?kA(e):yF(e))},vN=(e,t)=>t.collapsed?e.isEditable(t.startContainer):e.isEditable(t.startContainer)&&e.isEditable(t.endContainer),yN=(e,t,o,a,c)=>{const m=o?t.startContainer:t.endContainer,p=o?t.startOffset:t.endOffset;return te.from(m).map(Ke.fromDom).map(S=>!a||!t.collapsed?_u(S,c(S,p)).getOr(S):S).bind(S=>Zr(S)?te.some(S):Ka(S).filter(Zr)).map(S=>S.dom).getOr(e)},xN=(e,t,o=!1)=>yN(e,t,!0,o,(a,c)=>Math.min(ed(a),c)),wN=(e,t,o=!1)=>yN(e,t,!1,o,(a,c)=>c>0?c-1:c),CN=(e,t)=>{const o=e;for(;e&&Xt(e)&&e.length===0;)e=t?e.nextSibling:e.previousSibling;return e||o},xF=(e,t)=>{if(!t)return e;let o=t.startContainer,a=t.endContainer;const c=t.startOffset,m=t.endOffset;let p=t.commonAncestorContainer;t.collapsed||(o===a&&m-c<2&&o.hasChildNodes()&&(p=o.childNodes[c]),Xt(o)&&Xt(a)&&(o.length===c?o=CN(o.nextSibling,!0):o=o.parentNode,m===0?a=CN(a.previousSibling,!1):a=a.parentNode,o&&o===a&&(p=o)));const S=Xt(p)?p.parentNode:p;return Dc(S)?S:e},EA=(e,t,o,a)=>{const c=[],m=e.getRoot(),p=e.getParent(o||xN(m,t,t.collapsed),e.isBlock),S=e.getParent(a||wN(m,t,t.collapsed),e.isBlock);if(p&&p!==m&&c.push(p),p&&S&&p!==S){let T;const H=new Si(p,m);for(;(T=H.next())&&T!==S;)e.isBlock(T)&&c.push(T)}return S&&p!==S&&S!==m&&c.push(S),c},W2=(e,t,o)=>te.from(t).bind(a=>te.from(a.parentNode).map(c=>{const m=e.nodeIndex(a),p=e.createRng();return p.setStart(c,m),p.setEnd(c,m+1),o&&(y2(e,p,a,!0),y2(e,p,a,!1)),p})),ES=(e,t)=>Ue(t,o=>{const a=e.dispatch("GetSelectionRange",{range:o});return a.range!==o?a.range:o}),wF={"#text":3,"#comment":8,"#cdata":4,"#pi":7,"#doctype":10,"#document-fragment":11},h0=(e,t,o)=>{const a=o?"lastChild":"firstChild",c=o?"prev":"next";if(e[a])return e[a];if(e!==t){let m=e[c];if(m)return m;for(let p=e.parent;p&&p!==t;p=p.parent)if(m=p[c],m)return m}},SN=e=>{var t;const o=(t=e.value)!==null&&t!==void 0?t:"";if(!ec(o))return!1;const a=e.parent;return!(a&&(a.name!=="span"||a.attr("style"))&&/^[ ]+$/.test(o))},ci=e=>{const t=e.name==="a"&&!e.attr("href")&&e.attr("id");return e.attr("name")||e.attr("id")&&!e.firstChild||e.attr("data-mce-bookmark")||t};class ml{static create(t,o){const a=new ml(t,wF[t]||1);return o&&Vo(o,(c,m)=>{a.attr(m,c)}),a}constructor(t,o){this.name=t,this.type=o,o===1&&(this.attributes=[],this.attributes.map={})}replace(t){const o=this;return t.parent&&t.remove(),o.insert(t,o),o.remove(),o}attr(t,o){const a=this;if(!le(t))return Oe(t)&&Vo(t,(m,p)=>{a.attr(p,m)}),a;const c=a.attributes;if(c){if(o!==void 0){if(o===null){if(t in c.map){delete c.map[t];let m=c.length;for(;m--;)if(c[m].name===t)return c.splice(m,1),a}return a}if(t in c.map){let m=c.length;for(;m--;)if(c[m].name===t){c[m].value=o;break}}else c.push({name:t,value:o});return c.map[t]=o,a}return c.map[t]}}clone(){const t=this,o=new ml(t.name,t.type),a=t.attributes;if(a){const c=[];c.map={};for(let m=0,p=a.length;m<p;m++){const S=a[m];S.name!=="id"&&(c[c.length]={name:S.name,value:S.value},c.map[S.name]=S.value)}o.attributes=c}return o.value=t.value,o}wrap(t){const o=this;return o.parent&&(o.parent.insert(t,o),t.append(o)),o}unwrap(){const t=this;for(let o=t.firstChild;o;){const a=o.next;t.insert(o,t,!0),o=a}t.remove()}remove(){const t=this,o=t.parent,a=t.next,c=t.prev;return o&&(o.firstChild===t?(o.firstChild=a,a&&(a.prev=null)):c&&(c.next=a),o.lastChild===t?(o.lastChild=c,c&&(c.next=null)):a&&(a.prev=c),t.parent=t.next=t.prev=null),t}append(t){const o=this;t.parent&&t.remove();const a=o.lastChild;return a?(a.next=t,t.prev=a,o.lastChild=t):o.lastChild=o.firstChild=t,t.parent=o,t}insert(t,o,a){t.parent&&t.remove();const c=o.parent||this;return a?(o===c.firstChild?c.firstChild=t:o.prev&&(o.prev.next=t),t.prev=o.prev,t.next=o,o.prev=t):(o===c.lastChild?c.lastChild=t:o.next&&(o.next.prev=t),t.next=o.next,t.prev=o,o.next=t),t.parent=c,t}getAll(t){const o=this,a=[];for(let c=o.firstChild;c;c=h0(c,o))c.name===t&&a.push(c);return a}children(){const t=this,o=[];for(let a=t.firstChild;a;a=a.next)o.push(a);return o}empty(){const t=this;if(t.firstChild){const o=[];for(let c=t.firstChild;c;c=h0(c,t))o.push(c);let a=o.length;for(;a--;){const c=o[a];c.parent=c.firstChild=c.lastChild=c.next=c.prev=null}}return t.firstChild=t.lastChild=null,t}isEmpty(t,o={},a){var c;const m=this;let p=m.firstChild;if(ci(m))return!1;if(p)do{if(p.type===1){if(p.attr("data-mce-bogus"))continue;if(t[p.name]||ci(p))return!1}if(p.type===8||p.type===3&&!SN(p)||p.type===3&&p.parent&&o[p.parent.name]&&ec((c=p.value)!==null&&c!==void 0?c:"")||a&&a(p))return!1}while(p=h0(p,m));return!0}walk(t){return h0(this,null,t)}}const _N=an.makeMap("NOSCRIPT STYLE SCRIPT XMP IFRAME NOEMBED NOFRAMES PLAINTEXT"," "),AS=e=>le(e.nodeValue)&&e.nodeValue.includes(Ga),j2=e=>`${e.length===0?"":`${Ue(e,t=>`[${t}]`).join(",")},`}[data-mce-bogus="all"]`,_b=(e,t)=>t.querySelectorAll(j2(e)),gp=e=>document.createTreeWalker(e,NodeFilter.SHOW_COMMENT,t=>AS(t)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP),kN=e=>document.createTreeWalker(e,NodeFilter.SHOW_TEXT,t=>{if(AS(t)){const o=t.parentNode;return o&&ho(_N,o.nodeName)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}else return NodeFilter.FILTER_SKIP}),CF=e=>gp(e).nextNode()!==null,fy=e=>kN(e).nextNode()!==null,my=(e,t)=>t.querySelector(j2(e))!==null,gy=(e,t)=>{ye(_b(e,t),o=>{const a=Ke.fromDom(o);yi(a,"data-mce-bogus")==="all"?Ps(a):ye(e,c=>{Qu(a,c)&&Ho(a,c)})})},TS=e=>{let t=e.nextNode();for(;t!==null;)t.nodeValue=null,t=e.nextNode()},AA=Kt(TS,gp),EN=Kt(TS,kN),TA=(e,t)=>{const o=[{condition:ot(my,t),action:ot(gy,t)},{condition:CF,action:AA},{condition:fy,action:EN}];let a=e,c=!1;return ye(o,({condition:m,action:p})=>{m(a)&&(c||(a=e.cloneNode(!0),c=!0),p(a))}),a},AN=e=>{const t=da(e,"[data-mce-bogus]");ye(t,o=>{yi(o,"data-mce-bogus")==="all"?Ps(o):Jd(o)?(Er(o,Ke.fromText(zr)),Ps(o)):ai(o)})},TN=e=>{const t=da(e,"input");ye(t,o=>{Ho(o,"name")})},ON=(e,t)=>{const o=Ul(e),a=new RegExp(`^(<${o}[^>]*>(&nbsp;|&#160;|\\s||<br \\/>|)<\\/${o}>[\r
]*|<br \\/>[\r
]*)$`);return t.replace(a,"")},RN=(e,t)=>{const o=e.getDoc(),a=Qc(Ke.fromDom(e.getBody())),c=Ke.fromTag("div",o);va(c,"data-mce-bogus","all"),rs(c,{position:"fixed",left:"-9999999px",top:"0"}),eu(c,t.innerHTML),AN(c),TN(c);const m=qp(a);Pr(m,c);const p=rc(c.dom.innerText);return Ps(c),p},Z2=(e,t,o)=>{let a;return t.format==="raw"?a=an.trim(rc(TA(o,e.serializer.getTempAttrs()).innerHTML)):t.format==="text"?a=RN(e,o):t.format==="tree"?a=e.serializer.serialize(o,t):a=ON(e,e.serializer.serialize(o,t)),t.format!=="text"&&!Fv(Ke.fromDom(o))&&le(a)?an.trim(a):a},DN=(e,t)=>te.from(e.getBody()).fold(ct(t.format==="tree"?new ml("body",11):""),o=>Z2(e,t,o)),OA=an.makeMap,RA=e=>{const t=[];e=e||{};const o=e.indent,a=OA(e.indent_before||""),c=OA(e.indent_after||""),m=Wh.getEncodeFunc(e.entity_encoding||"raw",e.entities),p=e.element_format!=="xhtml";return{start:(S,T,H)=>{if(o&&a[S]&&t.length>0){const J=t[t.length-1];J.length>0&&J!==`
`&&t.push(`
`)}if(t.push("<",S),T)for(let J=0,ee=T.length;J<ee;J++){const re=T[J];t.push(" ",re.name,'="',m(re.value,!0),'"')}if(!H||p?t[t.length]=">":t[t.length]=" />",H&&o&&c[S]&&t.length>0){const J=t[t.length-1];J.length>0&&J!==`
`&&t.push(`
`)}},end:S=>{let T;t.push("</",S,">"),o&&c[S]&&t.length>0&&(T=t[t.length-1],T.length>0&&T!==`
`&&t.push(`
`))},text:(S,T)=>{S.length>0&&(t[t.length]=T?S:m(S))},cdata:S=>{t.push("<![CDATA[",S,"]]>")},comment:S=>{t.push("<!--",S,"-->")},pi:(S,T)=>{T?t.push("<?",S," ",m(T),"?>"):t.push("<?",S,"?>"),o&&t.push(`
`)},doctype:S=>{t.push("<!DOCTYPE",S,">",o?`
`:"")},reset:()=>{t.length=0},getContent:()=>t.join("").replace(/\n$/,"")}},hp=(e={},t=Bu())=>{const o=RA(e);return e.validate="validate"in e?e.validate:!0,{serialize:c=>{const m=e.validate,p={3:T=>{var H;o.text((H=T.value)!==null&&H!==void 0?H:"",T.raw)},8:T=>{var H;o.comment((H=T.value)!==null&&H!==void 0?H:"")},7:T=>{o.pi(T.name,T.value)},10:T=>{var H;o.doctype((H=T.value)!==null&&H!==void 0?H:"")},4:T=>{var H;o.cdata((H=T.value)!==null&&H!==void 0?H:"")},11:T=>{let H=T;if(H=H.firstChild)do S(H);while(H=H.next)}};o.reset();const S=T=>{var H;const J=p[T.type];if(J)J(T);else{const ee=T.name,re=ee in t.getVoidElements();let ve=T.attributes;if(m&&ve&&ve.length>1){const Te=[];Te.map={};const we=t.getElementRule(T.name);if(we){for(let Me=0,Qe=we.attributesOrder.length;Me<Qe;Me++){const lt=we.attributesOrder[Me];if(lt in ve.map){const at=ve.map[lt];Te.map[lt]=at,Te.push({name:lt,value:at})}}for(let Me=0,Qe=ve.length;Me<Qe;Me++){const lt=ve[Me].name;if(!(lt in Te.map)){const at=ve.map[lt];Te.map[lt]=at,Te.push({name:lt,value:at})}}ve=Te}}if(o.start(ee,ve,re),Zf(ee))le(T.value)&&o.text(T.value,!0),o.end(ee);else if(!re){let Te=T.firstChild;if(Te){(ee==="pre"||ee==="textarea")&&Te.type===3&&((H=Te.value)===null||H===void 0?void 0:H[0])===`
`&&o.text(`
`,!0);do S(Te);while(Te=Te.next)}o.end(ee)}}};return c.type===1&&!e.inner?S(c):c.type===3?p[3](c):p[11](c),o.getContent()}}},DA=new Set;ye(["margin","margin-left","margin-right","margin-top","margin-bottom","padding","padding-left","padding-right","padding-top","padding-bottom","border","border-width","border-style","border-color","background","background-attachment","background-clip","background-image","background-origin","background-position","background-repeat","background-size","float","position","left","right","top","bottom","z-index","display","transform","width","max-width","min-width","height","max-height","min-height","overflow","overflow-x","overflow-y","text-overflow","vertical-align","transition","transition-delay","transition-duration","transition-property","transition-timing-function"],t=>{DA.add(t)});const NA=new Set;ye(["background-color"],t=>{NA.add(t)});const IA=["font","text-decoration","text-emphasis"],NN=(e,t)=>e.parseStyle(e.getAttrib(t,"style")),p0=(e,t)=>Yt(NN(e,t)),PA=e=>DA.has(e),K2=e=>NA.has(e),BA=(e,t)=>Re(p0(e,t),o=>PA(o)),IN=(e,t)=>BA(e,t)&&Re(p0(e,t),o=>K2(o)),OS=e=>Ye(e,t=>Re(IA,o=>hr(t,o))),SF=(e,t,o)=>{const a=p0(e,t),c=p0(e,o),m=p=>{var S,T;const H=(S=e.getStyle(t,p))!==null&&S!==void 0?S:"",J=(T=e.getStyle(o,p))!==null&&T!==void 0?T:"";return it(H)&&it(J)&&H!==J};return Re(a,p=>{const S=T=>Re(T,H=>H===p);if(!S(c)&&S(IA)){const T=OS(c);return Re(T,m)}else return m(p)})},PN=(e,t,o)=>te.from(o.container()).filter(Xt).exists(a=>{const c=e?0:-1;return t(a.data.charAt(o.offset()+c))}),pp=ot(PN,!0,a0),q2=ot(PN,!1,a0),BN=e=>{const t=e.container();return Xt(t)&&(t.data.length===0||$u(t.data)&&lr.isBookmarkNode(t.parentNode))},im=(e,t)=>o=>ZC(e?0:-1,o).filter(t).isSome(),MA=e=>Ic(e)&&Ir(Ke.fromDom(e),"display")==="block",RS=e=>yo(e)&&!Gp(e),MN=im(!0,MA),LN=im(!1,MA),b0=im(!0,Rt),hy=im(!1,Rt),FN=im(!0,tu),py=im(!1,tu),ui=im(!0,RS),og=im(!1,RS),v0=e=>e.slice(0,-1),$N=(e,t,o)=>si(t,e)?v0(Om(e,a=>o(a)||ss(a,t))):[],iu=(e,t)=>$N(e,t,Fn),ju=(e,t)=>[e].concat(iu(e,t)),DS=(e,t,o)=>iD(e,t,o,BN),VN=e=>t=>e.isBlock(ls(t)),LA=(e,t,o)=>Nn(ju(Ke.fromDom(t.container()),e),VN(o)),by=(e,t,o,a)=>DS(e,t.dom,o).forall(c=>LA(t,o,a).fold(()=>!Yg(c,o,t.dom),m=>!Yg(c,o,t.dom)&&si(m,Ke.fromDom(c.container())))),NS=(e,t,o,a)=>LA(t,o,a).fold(()=>DS(e,t.dom,o).forall(c=>!Yg(c,o,t.dom)),c=>DS(e,c.dom,o).isNone()),IS=ot(NS,!1),HN=ot(NS,!0),FA=ot(by,!1),$A=ot(by,!0),_F=e=>KC(e).exists(Jd),af=(e,t,o,a)=>{const c=Ye(ju(Ke.fromDom(o.container()),t),p=>a.isBlock(ls(p))),m=on(c).getOr(t);return fd(e,m.dom,o).filter(_F)},G2=(e,t,o)=>KC(t).exists(Jd)||af(!0,e,t,o).isSome(),y0=(e,t,o)=>E8(t).exists(Jd)||af(!1,e,t,o).isSome(),PS=ot(af,!1),zN=ot(af,!0),VA=e=>Et.isTextPosition(e)&&!e.isAtStart()&&!e.isAtEnd(),HA=(e,t,o)=>{const a=Ye(ju(Ke.fromDom(t.container()),e),c=>o.isBlock(ls(c)));return on(a).getOr(e)},UN=(e,t,o)=>VA(t)?q2(t):q2(t)||Hu(HA(e,t,o).dom,t).exists(q2),WN=(e,t,o)=>VA(t)?pp(t):pp(t)||Lc(HA(e,t,o).dom,t).exists(pp),jN=e=>xe(["pre","pre-wrap"],e),BS=e=>KC(e).bind(t=>ya(t,Zr)).exists(t=>jN(Ir(t,"white-space"))),zA=(e,t)=>Hu(e.dom,t).isNone(),UA=(e,t)=>Lc(e.dom,t).isNone(),ZN=(e,t,o)=>zA(e,t)||UA(e,t)||IS(e,t,o)||HN(e,t,o)||y0(e,t,o)||G2(e,t,o),WA=e=>Oe(e)&&yo(e)&&ME(e),jA=(e,t)=>o=>WA(new Si(o,e)[t]()),KN=(e,t)=>{const o=Lc(e.dom,t).getOr(t),a=jA(e.dom,"next");return t.isAtEnd()&&(a(t.container())||a(o.container()))},ZA=(e,t)=>{const o=Hu(e.dom,t).getOr(t),a=jA(e.dom,"prev");return t.isAtStart()&&(a(t.container())||a(o.container()))},KA=(e,t,o)=>BS(t)?!1:ZN(e,t,o)||UN(e,t,o)||WN(e,t,o),vy=(e,t,o)=>BS(t)?!1:IS(e,t,o)||FA(e,t,o)||y0(e,t,o)||UN(e,t,o)||ZA(e,t),qN=e=>{const t=e.container(),o=e.offset();return Xt(t)&&o<t.data.length?Et(t,o+1):e},x0=(e,t,o)=>BS(t)?!1:HN(e,t,o)||$A(e,t,o)||G2(e,t,o)||WN(e,t,o)||KN(e,t),qA=(e,t,o)=>vy(e,t,o)||x0(e,qN(t),o),Y2=(e,t)=>Wl(e.charAt(t)),GA=(e,t)=>a0(e.charAt(t)),GN=e=>{const t=e.container();return Xt(t)&&Ns(t.data,qa)},kF=e=>{const t=e.split("");return Ue(t,(o,a)=>Wl(o)&&a>0&&a<t.length-1&&cp(t[a-1])&&cp(t[a+1])?" ":o).join("")},YN=(e,t,o,a)=>{const c=t.data,m=Et(t,0);return!o&&Y2(c,0)&&!qA(e,m,a)?(t.data=" "+c.slice(1),!0):o&&GA(c,0)&&vy(e,m,a)?(t.data=qa+c.slice(1),!0):!1},XN=e=>{const t=e.data,o=kF(t);return o!==t?(e.data=o,!0):!1},JN=(e,t,o,a)=>{const c=t.data,m=Et(t,c.length-1);return!o&&Y2(c,c.length-1)&&!qA(e,m,a)?(t.data=c.slice(0,-1)+" ",!0):o&&GA(c,c.length-1)&&x0(e,m,a)?(t.data=c.slice(0,-1)+qa,!0):!1},QN=(e,t,o)=>{const a=t.container();if(!Xt(a))return te.none();if(GN(t)){const c=YN(e,a,!1,o)||XN(a)||JN(e,a,!1,o);return Pf(c,t)}else if(qA(e,t,o)){const c=YN(e,a,!0,o)||JN(e,a,!0,o);return Pf(c,t)}else return te.none()},EF=e=>{const t=Ke.fromDom(e.getBody());e.selection.isCollapsed()&&QN(t,Et.fromRangeStart(e.selection.getRng()),e.schema).each(o=>{e.selection.setRng(o.toRange())})},eI=(e,t,o,a)=>{if(o===0)return;const c=Ke.fromDom(e),m=$i(c,H=>a.isBlock(ls(H))).getOr(c),p=e.data.slice(t,t+o),S=t+o>=e.data.length&&x0(m,Et(e,e.data.length),a),T=t===0&&vy(m,Et(e,0),a);e.replaceData(t,o,Fh(p,4,T,S))},MS=(e,t,o)=>{const a=e.data.slice(t),c=a.length-yt(a).length;eI(e,t,c,o)},ra=(e,t,o)=>{const a=e.data.slice(0,t),c=a.length-bt(a).length;eI(e,t-c,c,o)},X2=(e,t,o,a,c=!0)=>{const m=bt(e.data).length,p=c?e:t,S=c?t:e;return c?p.appendData(S.data):p.insertData(0,S.data),Ps(Ke.fromDom(S)),a&&MS(p,m,o),p},AF=(e,t)=>{const o=e.container(),a=e.offset();return!Et.isTextPosition(e)&&o===t.parentNode&&a>Et.before(t).offset()},TF=(e,t)=>AF(t,e)?Et(t.container(),t.offset()-1):t,yy=e=>Xt(e)?Et(e,0):Et.before(e),kb=e=>Xt(e)?Et(e,e.data.length):Et.after(e),oh=e=>id(e.previousSibling)?te.some(kb(e.previousSibling)):e.previousSibling?ef(e.previousSibling):te.none(),YA=e=>id(e.nextSibling)?te.some(yy(e.nextSibling)):e.nextSibling?fo(e.nextSibling):te.none(),tI=(e,t)=>te.from(t.previousSibling?t.previousSibling:t.parentNode).bind(o=>Hu(e,Et.before(o))).orThunk(()=>Lc(e,Et.after(t))),nI=(e,t)=>Lc(e,Et.after(t)).orThunk(()=>Hu(e,Et.before(t))),LS=(e,t)=>oh(t).orThunk(()=>YA(t)).orThunk(()=>tI(e,t)),OF=(e,t)=>YA(t).orThunk(()=>oh(t)).orThunk(()=>nI(e,t)),XA=(e,t,o)=>e?OF(t,o):LS(t,o),oI=(e,t,o)=>XA(e,t,o).map(ot(TF,o)),JA=(e,t,o)=>{o.fold(()=>{e.focus()},a=>{e.selection.setRng(a.toRange(),t)})},QA=e=>t=>t.dom===e,sI=(e,t)=>t&&ho(e.schema.getBlockElements(),ls(t)),eT=(e,t,o)=>{if(Tr(e,t)){const a=Ke.fromHtml('<br data-mce-bogus="1">');return o?ye(ri(t),c=>{sS(c)||Ps(c)}):er(t),Pr(t,a),te.some(Et.before(a.dom))}else return te.none()},RF=(e,t,o,a)=>{const c=Ta(e).filter(pr),m=Xn(e).filter(pr);return Ps(e),Pd(c,m,t,(p,S,T)=>{const H=p.dom,J=S.dom,ee=H.data.length;return X2(H,J,o,a),T.container()===J?Et(H,ee):T}).orThunk(()=>(a&&(c.each(p=>ra(p.dom,p.dom.length,o)),m.each(p=>MS(p.dom,0,o))),t))},DF=(e,t)=>ho(e.schema.getTextInlineElements(),ls(t)),ic=(e,t,o,a=!0,c=!1)=>{const m=oI(t,e.getBody(),o.dom),p=$i(o,ot(sI,e),QA(e.getBody())),S=RF(o,m,e.schema,DF(e,o));e.dom.isEmpty(e.getBody())?(e.setContent(""),e.selection.setCursorLocation()):p.bind(T=>eT(e.schema,T,c)).fold(()=>{a&&JA(e,t,S)},T=>{a&&JA(e,t,te.some(T))})},rI=/[\u0591-\u07FF\uFB1D-\uFDFF\uFE70-\uFEFC]/,NF=e=>rI.test(e),w0=(e,t)=>Ws(Ke.fromDom(t),Cs(e))&&!ou(e.schema,t)&&e.dom.isEditable(t),J2=e=>{var t;return dr.DOM.getStyle(e,"direction",!0)==="rtl"||NF((t=e.textContent)!==null&&t!==void 0?t:"")},IF=(e,t,o)=>Ye(dr.DOM.getParents(o.container(),"*",t),e),Eb=(e,t,o)=>{const a=IF(e,t,o);return te.from(a[a.length-1])},aI=(e,t,o)=>{const a=fb(t,e),c=fb(o,e);return Oe(a)&&a===c},tT=e=>$v(e)||F1(e),lf=(e,t)=>{const o=t.container(),a=t.offset();return e?Ug(o)?Xt(o.nextSibling)?Et(o.nextSibling,0):Et.after(o):$v(t)?Et(o,a+1):t:Ug(o)?Xt(o.previousSibling)?Et(o.previousSibling,o.previousSibling.data.length):Et.before(o):F1(t)?Et(o,a-1):t},iI=ot(lf,!0),xy=ot(lf,!1),nT=(e,t)=>{const o=a=>a.stopImmediatePropagation();e.on("beforeinput input",o,!0),e.getDoc().execCommand(t),e.off("beforeinput input",o)},lI=e=>{e.execCommand("delete")},FS=e=>nT(e,"Delete"),oT=e=>nT(e,"ForwardDelete"),Q2=e=>t=>Nd(Ka(t),e,ss),cI=e=>Mv(e)||zg(e),ew=(e,t)=>si(e,t)?ya(t,cI,Q2(e)):te.none(),$S=(e,t=!0)=>{e.dom.isEmpty(e.getBody())&&e.setContent("",{no_selection:!t})},uI=(e,t,o)=>oi(fo(o),ef(o),(a,c)=>{const m=lf(!0,a),p=lf(!1,c),S=lf(!1,t);return e?Lc(o,S).exists(T=>T.isEqual(p)&&t.isEqual(m)):Hu(o,S).exists(T=>T.isEqual(m)&&t.isEqual(p))}).getOr(!0),lm=e=>(Em(e)?Ta(e):ku(e)).bind(lm).orThunk(()=>te.some(e)),VS=(e,t,o,a=!0)=>{var c;t.deleteContents();const m=lm(o).getOr(o),p=Ke.fromDom((c=e.dom.getParent(m.dom,e.dom.isBlock))!==null&&c!==void 0?c:o.dom);if(p.dom===e.getBody()?$S(e,a):Tr(e.schema,p,{checkRootAsContent:!1})&&(Fu(p),a&&e.selection.setCursorLocation(p.dom,0)),!ss(o,p)){const S=Nd(Ka(p),o)?[]:Sg(p);ye(S.concat(ri(o)),T=>{!ss(T,p)&&!si(T,p)&&Tr(e.schema,T)&&Ps(T)})}},PF=e=>t=>ss(e,t),sT=e=>da(e,"td,th"),js=(e,t)=>Gs(Ke.fromDom(e),t),BF=e=>oi(e.startTable,e.endTable,(t,o)=>{const a=fv(t,m=>ss(m,o)),c=fv(o,m=>ss(m,t));return!a&&!c?e:{...e,startTable:a?te.none():e.startTable,endTable:c?te.none():e.endTable,isSameTable:!1,isMultiTable:!1}}).getOr(e),tw=e=>BF(e),MF=(e,t)=>{const o=js(e.startContainer,t),a=js(e.endContainer,t),c=o.isSome(),m=a.isSome(),p=oi(o,a,ss).getOr(!1);return tw({startTable:o,endTable:a,isStartInTable:c,isEndInTable:m,isSameTable:p,isMultiTable:!p&&c&&m})},HS=(e,t)=>({start:e,end:t}),Ab=(e,t,o)=>({rng:e,table:t,cells:o}),jl=gs.generate([{singleCellTable:["rng","cell"]},{fullTable:["table"]},{partialTable:["cells","outsideDetails"]},{multiTable:["startTableCells","endTableCells","betweenRng"]}]),Tb=(e,t)=>Ra(Ke.fromDom(e),"td,th",t),bp=e=>!ss(e.start,e.end),sg=(e,t)=>Gs(e.start,t).bind(o=>Gs(e.end,t).bind(a=>Pf(ss(o,a),o))),nw=(e,t)=>!bp(e)&&sg(e,t).exists(o=>{const a=o.dom.rows;return a.length===1&&a[0].cells.length===1}),rT=(e,t)=>{const o=Tb(e.startContainer,t),a=Tb(e.endContainer,t);return oi(o,a,HS)},aT=e=>t=>Gs(t,e).bind(o=>ro(sT(o)).map(a=>HS(t,a))),dI=e=>t=>Gs(t,e).bind(o=>on(sT(o)).map(a=>HS(a,t))),zS=e=>t=>sg(t,e).map(o=>Ab(t,o,sT(o))),fI=(e,t,o,a)=>{if(o.collapsed||!e.forall(bp))return te.none();if(t.isSameTable){const c=e.bind(zS(a));return te.some({start:c,end:c})}else{const c=Tb(o.startContainer,a),m=Tb(o.endContainer,a),p=c.bind(aT(a)).bind(zS(a)),S=m.bind(dI(a)).bind(zS(a));return te.some({start:p,end:S})}},mI=(e,t)=>no(e,o=>ss(o,t)),US=e=>oi(mI(e.cells,e.rng.start),mI(e.cells,e.rng.end),(t,o)=>e.cells.slice(t,o+1)),gI=(e,t,o)=>e.exists(a=>nw(a,o)&&v2(a.start,t)),iT=(e,t)=>{const{startTable:o,endTable:a}=t,c=e.cloneRange();return o.each(m=>c.setStartAfter(m.dom)),a.each(m=>c.setEndBefore(m.dom)),c},hI=(e,t,o,a)=>fI(e,t,o,a).bind(({start:c,end:m})=>c.or(m)).bind(c=>{const{isSameTable:m}=t,p=US(c).getOr([]);if(m&&c.cells.length===p.length)return te.some(jl.fullTable(c.table));if(p.length>0){if(m)return te.some(jl.partialTable(p,te.none()));{const S=iT(o,t);return te.some(jl.partialTable(p,te.some({...t,rng:S})))}}else return te.none()}),lT=(e,t,o,a)=>fI(e,t,o,a).bind(({start:c,end:m})=>{const p=c.bind(US).getOr([]),S=m.bind(US).getOr([]);if(p.length>0&&S.length>0){const T=iT(o,t);return te.some(jl.multiTable(p,S,T))}else return te.none()}),LF=(e,t)=>{const o=PF(e),a=rT(t,o),c=MF(t,o);return gI(a,t,o)?a.map(m=>jl.singleCellTable(t,m.start)):c.isMultiTable?lT(a,c,t,o):hI(a,c,t,o)},pI=e=>ye(e,t=>{Ho(t,"contenteditable"),Fu(t)}),FF=(e,t)=>te.from(e.dom.getParent(t,e.dom.isBlock)).map(Ke.fromDom),sh=(e,t,o)=>{o.each(a=>{t?Ps(a):(Fu(a),e.selection.setCursorLocation(a.dom,0))})},C0=(e,t,o,a)=>{const c=o.cloneRange();a?(c.setStart(o.startContainer,o.startOffset),c.setEndAfter(t.dom.lastChild)):(c.setStartBefore(t.dom.firstChild),c.setEnd(o.endContainer,o.endOffset)),dT(e,c,t,!1).each(m=>m())},cT=e=>{const t=Qm(e),o=Ke.fromDom(e.selection.getNode());Tg(o.dom)&&Tr(e.schema,o)?e.selection.setCursorLocation(o.dom,0):e.selection.collapse(!0),t.length>1&&Re(t,a=>ss(a,o))&&va(o,"data-mce-selected","1")},uT=(e,t,o)=>te.some(()=>{const a=e.selection.getRng(),c=o.bind(({rng:m,isStartInTable:p})=>{const S=FF(e,p?m.endContainer:m.startContainer);m.deleteContents(),sh(e,p,S.filter(ot(Tr,e.schema)));const T=p?t[0]:t[t.length-1];return C0(e,T,a,p),Tr(e.schema,T)?te.none():te.some(p?t.slice(1):t.slice(0,-1))}).getOr(t);pI(c),cT(e)}),bI=(e,t,o,a)=>te.some(()=>{const c=e.selection.getRng(),m=t[0],p=o[o.length-1];C0(e,m,c,!0),C0(e,p,c,!1);const S=Tr(e.schema,m)?t:t.slice(1),T=Tr(e.schema,p)?o:o.slice(0,-1);pI(S.concat(T)),a.deleteContents(),cT(e)}),dT=(e,t,o,a=!0)=>te.some(()=>{VS(e,t,o,a)}),Ob=(e,t)=>te.some(()=>ic(e,!1,t)),$F=(e,t,o)=>LF(t,o).bind(a=>a.fold(ot(dT,e),ot(Ob,e),ot(uT,e),ot(bI,e))),VF=(e,t)=>WS(e,t),HF=(e,t,o,a)=>fT(t,a).fold(()=>$F(e,t,o),c=>VF(e,c)),zF=(e,t,o)=>{const a=Ke.fromDom(e.getBody()),c=e.selection.getRng();return o.length!==0?uT(e,o,te.none()):HF(e,a,c,t)},vI=(e,t)=>Nn(ju(t,e),Lu),fT=(e,t)=>Nn(ju(t,e),Md("caption")),UF=(e,t,o,a,c)=>s0(o,e.getBody(),c).bind(m=>vI(t,Ke.fromDom(m.getNode())).bind(p=>ss(p,a)?te.none():te.some(Nt))),WS=(e,t)=>te.some(()=>{Fu(t),e.selection.setCursorLocation(t.dom,0)}),WF=(e,t,o,a)=>fo(e.dom).bind(c=>ef(e.dom).map(m=>t?o.isEqual(c)&&a.isEqual(m):o.isEqual(m)&&a.isEqual(c))).getOr(!0),jS=(e,t)=>WS(e,t),jF=(e,t,o)=>fT(e,Ke.fromDom(o.getNode())).fold(()=>te.some(Nt),a=>Pf(!ss(a,t),Nt)),ow=(e,t,o,a,c)=>s0(o,e.getBody(),c).fold(()=>te.some(Nt),m=>WF(a,o,c,m)?jS(e,a):jF(t,a,m)),mT=(e,t,o,a)=>{const c=Et.fromRangeStart(e.selection.getRng());return vI(o,a).bind(m=>Tr(e.schema,m,{checkRootAsContent:!1})?WS(e,m):UF(e,o,t,m,c))},S0=(e,t,o,a)=>{const c=Et.fromRangeStart(e.selection.getRng());return Tr(e.schema,a)?WS(e,a):ow(e,o,t,a,c)},Rb=(e,t)=>e?FN(t):py(t),ZS=(e,t)=>{const o=Et.fromRangeStart(e.selection.getRng());return Rb(t,o)||fd(t,e.getBody(),o).exists(a=>Rb(t,a))},KS=(e,t,o)=>{const a=Ke.fromDom(e.getBody());return fT(a,o).fold(()=>mT(e,t,a,o).orThunk(()=>Pf(ZS(e,t),Nt)),c=>S0(e,t,a,c))},vp=(e,t)=>{const o=Ke.fromDom(e.selection.getStart(!0)),a=Qm(e);return e.selection.isCollapsed()&&a.length===0?KS(e,t,o):zF(e,o,a)},cf=(e,t)=>{let o=t;for(;o&&o!==e;){if(Pc(o)||yo(o))return o;o=o.parentNode}return null},qS=["data-ephox-","data-mce-","data-alloy-","data-snooker-","_"],GS=an.each,YS=e=>{const t=e.dom,o=new Set(e.serializer.getTempAttrs()),a=(m,p)=>{if(m.nodeName!==p.nodeName||m.nodeType!==p.nodeType)return!1;const S=H=>{const J={};return GS(t.getAttribs(H),ee=>{const re=ee.nodeName.toLowerCase();re!=="style"&&!c(re)&&(J[re]=t.getAttrib(H,re))}),J},T=(H,J)=>{for(const ee in H)if(ho(H,ee)){const re=J[ee];if(Ze(re)||H[ee]!==re)return!1;delete J[ee]}for(const ee in J)if(ho(J,ee))return!1;return!0};return Vn(m)&&Vn(p)&&(!T(S(m),S(p))||!T(t.parseStyle(t.getAttrib(m,"style")),t.parseStyle(t.getAttrib(p,"style"))))?!1:!gd(m)&&!gd(p)},c=m=>Re(qS,p=>hr(m,p))||o.has(m);return{compare:a,isAttributeInternal:c}},XS=e=>["h1","h2","h3","h4","h5","h6"].includes(e.name),gT=e=>e.name==="summary",yI=(e,t)=>{let o=e;for(;o=o.walk();)t(o)},hT=(e,t,o,a)=>{const c=o.name;for(let m=0,p=e.length;m<p;m++){const S=e[m];if(S.name===c){const T=a.nodes[c];T?T.nodes.push(o):a.nodes[c]={filter:S,nodes:[o]}}}if(o.attributes)for(let m=0,p=t.length;m<p;m++){const S=t[m],T=S.name;if(T in o.attributes.map){const H=a.attributes[T];H?H.nodes.push(o):a.attributes[T]={filter:S,nodes:[o]}}}},wy=(e,t,o)=>{const a={nodes:{},attributes:{}};return o.firstChild&&yI(o,c=>{hT(e,t,c,a)}),a},pT=(e,t)=>{const o=(a,c)=>{Vo(a,m=>{const p=Do(m.nodes);ye(m.filter.callbacks,S=>{for(let T=p.length-1;T>=0;T--){const H=p[T];(!(c?H.attr(m.filter.name)!==void 0:H.name===m.filter.name)||rt(H.parent))&&p.splice(T,1)}p.length>0&&S(p,m.filter.name,t)})})};o(e.nodes,!1),o(e.attributes,!0)},bT=(e,t,o,a={})=>{const c=wy(e,t,o);pT(c,a)},JS=(e,t,o,a)=>{if((e.pad_empty_with_br||t.insert)&&o(a)){const m=new ml("br",1);t.insert&&m.attr("data-mce-bogus","1"),a.empty().append(m)}else a.empty().append(new ml("#text",3)).value=qa},QS=e=>{var t;return vT(e,"#text")&&((t=e==null?void 0:e.firstChild)===null||t===void 0?void 0:t.value)===qa},vT=(e,t)=>{const o=e==null?void 0:e.firstChild;return Oe(o)&&o===e.lastChild&&o.name===t},xI=(e,t)=>{const o=e.getElementRule(t.name);return(o==null?void 0:o.paddEmpty)===!0},Cy=(e,t,o,a)=>a.isEmpty(t,o,c=>xI(e,c)),wI=(e,t)=>Oe(e)&&(t(e)||e.name==="br"),yp=e=>{let t;for(let o=e;o;o=o.parent){const a=o.attr("contenteditable");if(a==="false")break;a==="true"&&(t=o)}return te.from(t)},rh=(e,t,o=e.parent)=>{if(t.getSpecialElements()[e.name])e.empty().remove();else{const a=e.children();for(const c of a)o&&!t.isValidChild(o.name,c.name)&&rh(c,t,o);e.unwrap()}},pd=(e,t,o,a=Nt)=>{const c=t.getTextBlockElements(),m=t.getNonEmptyElements(),p=t.getWhitespaceElements(),S=an.makeMap("tr,td,th,tbody,thead,tfoot,table,summary"),T=new Set,H=J=>J!==o&&!S[J.name];for(let J=0;J<e.length;J++){const ee=e[J];let re,ve,Te;if(!ee.parent||T.has(ee))continue;if(c[ee.name]&&ee.parent.name==="li"){let Me=ee.next;for(;Me&&c[Me.name];){Me.name="li",T.add(Me),ee.parent.insert(Me,ee.parent);Me=Me.next}ee.unwrap();continue}const we=[ee];for(re=ee.parent;re&&!t.isValidChild(re.name,ee.name)&&H(re);re=re.parent)we.push(re);if(re&&we.length>1)if(sw(t,ee,re))rh(ee,t);else{we.reverse(),ve=we[0].clone(),a(ve);let Me=ve;for(let Qe=0;Qe<we.length-1;Qe++){t.isValidChild(Me.name,we[Qe].name)&&Qe>0?(Te=we[Qe].clone(),a(Te),Me.append(Te)):Te=Me;for(let lt=we[Qe].firstChild;lt&&lt!==we[Qe+1];){const at=lt.next;Te.append(lt),lt=at}Me=Te}Cy(t,m,p,ve)?re.insert(ee,we[0],!0):(re.insert(ve,we[0],!0),re.insert(ee,ve)),re=we[0],(Cy(t,m,p,re)||vT(re,"br"))&&re.empty().remove()}else if(ee.parent){if(ee.name==="li"){let Me=ee.prev;if(Me&&(Me.name==="ul"||Me.name==="ol")){Me.append(ee);continue}if(Me=ee.next,Me&&(Me.name==="ul"||Me.name==="ol")&&Me.firstChild){Me.insert(ee,Me.firstChild,!0);continue}const Qe=new ml("ul",1);a(Qe),ee.wrap(Qe);continue}if(t.isValidChild(ee.parent.name,"div")&&t.isValidChild("div",ee.name)){const Me=new ml("div",1);a(Me),ee.wrap(Me)}else rh(ee,t)}}},yT=(e,t)=>{let o=e;for(;o;){if(o.name===t)return!0;o=o.parent}return!1},sw=(e,t,o=t.parent)=>o?e.children[t.name]&&!e.isValidChild(o.name,t.name)||t.name==="a"&&yT(o,"a")?!0:gT(o)&&XS(t)?!((o==null?void 0:o.firstChild)===t&&(o==null?void 0:o.lastChild)===t):!1:!1,CI=(e,t,o,a)=>{const c=document.createRange();return c.setStart(e,t),c.setEnd(o,a),c},SI=e=>{const t=Et.fromRangeStart(e),o=Et.fromRangeEnd(e),a=e.commonAncestorContainer;return fd(!1,a,o).map(c=>!Yg(t,o,a)&&Yg(t,c,a)?CI(t.container(),t.offset(),c.container(),c.offset()):e).getOr(e)},e_=e=>e.collapsed?e:SI(e),xT=e=>Oe(e.firstChild)&&e.firstChild===e.lastChild,_I=e=>e.name==="br"||e.value===qa,kI=(e,t)=>e.getBlockElements()[t.name]&&xT(t)&&_I(t.firstChild),wT=(e,t)=>{const o=e.getNonEmptyElements();return Oe(t)&&(t.isEmpty(o)||kI(e,t))},ah=(e,t)=>{let o=t.firstChild,a=t.lastChild;return o&&o.name==="meta"&&(o=o.next),a&&a.attr("id")==="mce_marker"&&(a=a.prev),wT(e,a)&&(a=a==null?void 0:a.prev),!o||o!==a?!1:o.name==="ul"||o.name==="ol"},cm=e=>{var t,o;const a=e.firstChild,c=e.lastChild;return a&&a.nodeName==="META"&&((t=a.parentNode)===null||t===void 0||t.removeChild(a)),c&&c.id==="mce_marker"&&((o=c.parentNode)===null||o===void 0||o.removeChild(c)),e},t_=(e,t,o)=>{const a=t.serialize(o),c=e.createFragment(a);return cm(c)},EI=e=>{var t;return Ye((t=e==null?void 0:e.childNodes)!==null&&t!==void 0?t:[],o=>o.nodeName==="LI")},n_=e=>e.data===qa||Cr(e),AI=e=>Oe(e==null?void 0:e.firstChild)&&e.firstChild===e.lastChild&&n_(e.firstChild),TI=e=>!e.firstChild||AI(e),OI=e=>e.length>0&&TI(e[e.length-1])?e.slice(0,-1):e,o_=(e,t)=>{const o=e.getParent(t,e.isBlock);return o&&o.nodeName==="LI"?o:null},RI=(e,t)=>!!o_(e,t),DI=(e,t)=>{const o=t.cloneRange(),a=t.cloneRange();return o.setStartBefore(e),a.setEndAfter(e),[o.cloneContents(),a.cloneContents()]},s_=(e,t)=>{const o=Et.before(e),c=io(t).next(o);return c?c.toRange():null},r_=(e,t)=>{const o=Et.after(e),c=io(t).prev(o);return c?c.toRange():null},NI=(e,t,o,a)=>{const c=DI(e,a),m=e.parentNode;return m&&(m.insertBefore(c[0],e),an.each(t,p=>{m.insertBefore(p,e)}),m.insertBefore(c[1],e),m.removeChild(e)),r_(t[t.length-1],o)},CT=(e,t,o)=>{const a=e.parentNode;return a&&an.each(t,c=>{a.insertBefore(c,e)}),s_(e,o)},ZF=(e,t,o,a)=>(a.insertAfter(t.reverse(),e),r_(t[0],o)),KF=(e,t,o,a)=>{const c=t_(t,e,a),m=o_(t,o.startContainer),p=OI(EI(c.firstChild)),S=1,T=2,H=t.getRoot(),J=ee=>{const re=Et.fromRangeStart(o),ve=io(t.getRoot()),Te=ee===S?ve.prev(re):ve.next(re),we=Te==null?void 0:Te.getNode();return we?o_(t,we)!==m:!0};return m?J(S)?CT(m,p,H):J(T)?ZF(m,p,H,t):NI(m,p,H,o):null},qF=["pre"],GF=(e,t,o,a)=>{var c;const m=t.firstChild,p=t.lastChild,S=p.attr("data-mce-type")==="bookmark"?p.prev:p,T=m===S,H=xe(qF,m.name);if(T&&H){const J=m.attr("contenteditable")!=="false",ee=((c=e.getParent(o,e.isBlock))===null||c===void 0?void 0:c.nodeName.toLowerCase())===m.name,re=te.from(cf(a,o)).forall(Pc);return J&&ee&&re}else return!1},ST=Tg,YF=(e,t,o)=>{if(Oe(o)){const a=e.getParent(t.endContainer,ST);return o===a&&v2(Ke.fromDom(o),t)}else return!1},a_=(e,t,o)=>{var a;if(o.getAttribute("data-mce-bogus")==="all")(a=o.parentNode)===null||a===void 0||a.insertBefore(e.dom.createFragment(t),o);else{const c=o.firstChild,m=o.lastChild;!c||c===m&&c.nodeName==="BR"?e.dom.setHTML(o,t):e.selection.setContent(t,{no_events:!0})}},_T=(e,t,o)=>{te.from(e.getParent(t,"td,th")).map(Ke.fromDom).each(a=>zx(a,o))},II=(e,t)=>{const o=e.schema.getTextInlineElements(),a=e.dom;if(t){const c=e.getBody(),m=YS(e),p="*[data-mce-fragment]",S=a.select(p);an.each(S,T=>{const H=re=>Oe(o[re.nodeName.toLowerCase()]),J=re=>re.childNodes.length===1;if((re=>!(BA(a,re)||IN(a,re)))(T)&&H(T)&&J(T)){const re=p0(a,T),ve=(Qe,lt)=>Po(Qe,at=>xe(lt,at)),Te=Qe=>J(T)&&a.is(Qe,p)&&H(Qe)&&(Qe.nodeName===T.nodeName&&ve(re,p0(a,Qe))||Te(Qe.children[0])),we=Qe=>Oe(Qe)&&Qe!==c&&(m.compare(T,Qe)||we(Qe.parentElement)),Me=Qe=>Oe(Qe)&&Qe!==c&&a.is(Qe,p)&&(SF(a,T,Qe)||Me(Qe.parentElement));(Te(T.children[0])||we(T.parentElement)&&!Me(T.parentElement))&&a.remove(T,!0)}})}},kT=e=>{let t=e;for(;t=t.walk();)t.type===1&&t.attr("data-mce-fragment","1")},XF=e=>{an.each(e.getElementsByTagName("*"),t=>{t.removeAttribute("data-mce-fragment")})},JF=e=>!!e.getAttribute("data-mce-fragment"),QF=(e,t)=>Oe(t)&&!e.schema.getVoidElements()[t.nodeName],e7=(e,t)=>{var o,a,c;let m;const p=e.dom,S=e.selection;if(!t)return;S.scrollIntoView(t);const T=cf(e.getBody(),t);if(T&&p.getContentEditable(T)==="false"){p.remove(t),S.select(T);return}let H=p.createRng();const J=t.previousSibling;if(Xt(J)){H.setStart(J,(a=(o=J.nodeValue)===null||o===void 0?void 0:o.length)!==null&&a!==void 0?a:0);const ve=t.nextSibling;Xt(ve)&&(J.appendData(ve.data),(c=ve.parentNode)===null||c===void 0||c.removeChild(ve))}else H.setStartBefore(t),H.setEndBefore(t);const ee=ve=>{let Te=Et.fromRangeStart(ve);return Te=io(e.getBody()).next(Te),Te==null?void 0:Te.toRange()},re=p.getParent(t,p.isBlock);if(p.remove(t),re&&p.isEmpty(re)){const ve=ST(re);er(Ke.fromDom(re)),H.setStart(re,0),H.setEnd(re,0),!ve&&!JF(re)&&(m=ee(H))?(H=m,p.remove(re)):p.add(re,p.create("br",ve?{}:{"data-mce-bogus":"1"}))}S.setRng(H)},t7=e=>{const t=e.dom,o=e_(e.selection.getRng());e.selection.setRng(o);const a=t.getParent(o.startContainer,ST);YF(t,o,a)?dT(e,o,Ke.fromDom(a)):o.startContainer===o.endContainer&&o.endOffset-o.startOffset===1&&Xt(o.startContainer.childNodes[o.startOffset])?o.deleteContents():e.getDoc().execCommand("Delete",!1)},n7=e=>{for(let t=e;t;t=t.walk())if(t.attr("id")==="mce_marker")return te.some(t);return te.none()},i_=(e,t,o)=>{var a;return Re(o.children(),XS)&&((a=e.getParent(t,e.isBlock))===null||a===void 0?void 0:a.nodeName)==="SUMMARY"},l_=(e,t,o)=>{var a,c;const m=e.selection,p=e.dom,S=e.parser,T=o.merge,H=hp({validate:!0},e.schema),J='<span id="mce_marker" data-mce-type="bookmark">&#xFEFF;</span>';o.preserve_zwsp||(t=rc(t)),t.indexOf("{$caret}")===-1&&(t+="{$caret}"),t=t.replace(/\{\$caret\}/,J);let ee=m.getRng();const re=ee.startContainer,ve=e.getBody();re===ve&&m.isCollapsed()&&p.isBlock(ve.firstChild)&&QF(e,ve.firstChild)&&p.isEmpty(ve.firstChild)&&(ee=p.createRng(),ee.setStart(ve.firstChild,0),ee.setEnd(ve.firstChild,0),m.setRng(ee)),m.isCollapsed()||t7(e);const Te=m.getNode(),we={context:Te.nodeName.toLowerCase(),data:o.data,insert:!0},Me=S.parse(t,we);if(o.paste===!0&&ah(e.schema,Me)&&RI(p,Te))return ee=KF(H,p,m.getRng(),Me),ee&&m.setRng(ee),t;o.paste===!0&&GF(p,Me,Te,e.getBody())&&((a=Me.firstChild)===null||a===void 0||a.unwrap()),kT(Me);let Qe=Me.lastChild;if(Qe&&Qe.attr("id")==="mce_marker"){const lt=Qe;for(Qe=Qe.prev;Qe;Qe=Qe.walk(!0))if(Qe.type===3||!p.isBlock(Qe.name)){Qe.parent&&e.schema.isValidChild(Qe.parent.name,"span")&&Qe.parent.insert(lt,Qe,Qe.name==="br");break}}if(e._selectionOverrides.showBlockCaretContainer(Te),!we.invalid&&!i_(p,Te,Me))t=H.serialize(Me),a_(e,t,Te);else{e.selection.setContent(J);let lt=m.getNode(),at;const xt=e.getBody();for(jn(lt)?lt=at=xt:at=lt;at&&at!==xt;)lt=at,at=at.parentNode;t=lt===xt?xt.innerHTML:p.getOuterHTML(lt);const Zt=S.parse(t),un=n7(Zt),On=un.bind(yp).getOr(Zt);un.each($n=>$n.replace(Me));const It=Me.children(),_t=(c=Me.parent)!==null&&c!==void 0?c:Zt;Me.unwrap();const Ut=Ye(It,$n=>sw(e.schema,$n,_t));pd(Ut,e.schema,On),bT(S.getNodeFilters(),S.getAttributeFilters(),Zt),t=H.serialize(Zt),lt===xt?p.setHTML(xt,t):p.setOuterHTML(lt,t)}return II(e,T),e7(e,p.get("mce_marker")),XF(e.getBody()),_T(p,m.getStart(),e.schema),Ui(e.schema,e.getBody(),m.getStart()),t},_0=e=>e instanceof ml,o7=e=>{dy(e)&&fo(e.getBody()).each(t=>{const o=t.getNode(),a=tu(o)?fo(o).getOr(t):t;e.selection.setRng(a.toRange())})},ET=(e,t,o)=>{e.dom.setHTML(e.getBody(),t),o!==!0&&o7(e)},s7=(e,t,o,a)=>{if(o=rc(o),o.length===0||/^\s+$/.test(o)){const c='<br data-mce-bogus="1">';t.nodeName==="TABLE"?o="<tr><td>"+c+"</td></tr>":/^(UL|OL)$/.test(t.nodeName)&&(o="<li>"+c+"</li>");const m=Ul(e);return e.schema.isValidChild(t.nodeName.toLowerCase(),m.toLowerCase())?(o=c,o=e.dom.createHTML(m,e2(e),o)):o||(o=c),ET(e,o,a.no_selection),{content:o,html:o}}else{a.format!=="raw"&&(o=hp({validate:!1},e.schema).serialize(e.parser.parse(o,{isRootContent:!0,insert:!0})));const c=Fv(Ke.fromDom(t))?o:an.trim(o);return ET(e,c,a.no_selection),{content:c,html:c}}},r7=(e,t,o,a)=>{bT(e.parser.getNodeFilters(),e.parser.getAttributeFilters(),o);const c=hp({validate:!1},e.schema).serialize(o),m=rc(Fv(Ke.fromDom(t))?c:an.trim(c));return ET(e,m,a.no_selection),{content:o,html:m}},a7=(e,t,o)=>te.from(e.getBody()).map(a=>_0(t)?r7(e,a,t,o):s7(e,a,t,o)).getOr({content:t,html:_0(o.content)?"":o.content}),PI=e=>Ve(e)?e:Fn,um=(e,t,o)=>{let a=e.dom;const c=PI(o);for(;a.parentNode;){a=a.parentNode;const m=Ke.fromDom(a),p=t(m);if(p.isSome())return p;if(c(m))break}return te.none()},rw=(e,t,o)=>{const a=t(e),c=PI(o);return a.orThunk(()=>c(e)?te.none():um(e,t,c))},c_=iy,AT=(e,t,o)=>{const a=e.formatter.get(o);if(a)for(let c=0;c<a.length;c++){const m=a[c];if(zu(m)&&m.inherit===!1&&e.dom.is(t,m.selector))return!0}return!1},u_=(e,t,o,a,c)=>{const m=e.dom.getRoot();if(t===m)return!1;const p=e.dom.getParent(t,S=>AT(e,S,o)?!0:S.parentNode===m||!!ih(e,S,o,a,!0));return!!ih(e,p,o,a,c)},d_=(e,t,o)=>Gi(o)&&c_(t,o.inline)||eg(o)&&c_(t,o.block)?!0:zu(o)?Vn(t)&&e.is(t,o.selector):!1,TT=(e,t,o,a,c,m)=>{const p=o[a],S=a==="attributes";if(Ve(o.onmatch))return o.onmatch(t,o,a);if(p){if(xn(p)){for(let T=0;T<p.length;T++)if(S?e.getAttrib(t,p[T]):x2(e,t,p[T]))return!0}else for(const T in p)if(ho(p,T)){const H=S?e.getAttrib(t,T):x2(e,t,T),J=up(p[T],m),ee=rt(H)||Qt(H);if(ee&&rt(J))continue;if(c&&ee&&!o.exact||(!c||o.exact)&&!c_(H,tS(J,T)))return!1}}return!0},ih=(e,t,o,a,c)=>{const m=e.formatter.get(o),p=e.dom;if(m&&Vn(t))for(let S=0;S<m.length;S++){const T=m[S];if(d_(e.dom,t,T)&&TT(p,t,T,"attributes",c,a)&&TT(p,t,T,"styles",c,a)){const H=T.classes;if(H){for(let J=0;J<H.length;J++)if(!e.dom.hasClass(t,up(H[J],a)))return}return T}}},Db=(e,t,o,a,c)=>{if(a)return u_(e,a,t,o,c);if(a=e.selection.getNode(),u_(e,a,t,o,c))return!0;const m=e.selection.getStart();return!!(m!==a&&u_(e,m,t,o,c))},BI=(e,t,o)=>{const a=[],c={},m=e.selection.getStart();return e.dom.getParent(m,p=>{for(let S=0;S<t.length;S++){const T=t[S];!c[T]&&ih(e,p,T,o)&&(c[T]=!0,a.push(T))}},e.dom.getRoot()),a},MI=(e,t)=>{const o=c=>ss(c,Ke.fromDom(e.getBody())),a=(c,m)=>ih(e,c.dom,m)?te.some(m):te.none();return te.from(e.selection.getStart(!0)).bind(c=>rw(Ke.fromDom(c),m=>ia(t,p=>a(m,p)),o)).getOrNull()},LI=(e,t)=>{const o=e.formatter.get(t),a=e.dom;if(o&&e.selection.isEditable()){const c=e.selection.getStart(),m=w2(a,c);for(let p=o.length-1;p>=0;p--){const S=o[p];if(!zu(S))return!0;for(let T=m.length-1;T>=0;T--)if(a.is(m[T],S.selector))return!0}}return!1},OT=(e,t,o)=>fn(o,(a,c)=>{const m=_D(e,c);return e.formatter.matchNode(t,c,{},m)?a.concat([c]):a},[]),aw=Ga,i7=(e,t)=>e.importNode(t,!0),FI=e=>{if(e){const t=new Si(e,e);for(let o=t.current();o;o=t.next())if(Xt(o))return o}return null},lh=e=>{const t=Ke.fromTag("span");return Mi(t,{id:ny,"data-mce-bogus":"1","data-mce-type":"format-caret"}),e&&Pr(t,Ke.fromText(aw)),t},RT=e=>{const t=FI(e);return t&&t.data.charAt(0)===aw&&t.deleteData(0,1),t},DT=(e,t,o)=>{const a=e.dom,c=e.selection;if(QE(t))ic(e,!1,Ke.fromDom(t),o,!0);else{const m=c.getRng(),p=a.getParent(t,a.isBlock),S=m.startContainer,T=m.startOffset,H=m.endContainer,J=m.endOffset,ee=RT(t);a.remove(t,!0),S===ee&&T>0&&m.setStart(ee,T-1),H===ee&&J>0&&m.setEnd(ee,J-1),p&&a.isEmpty(p)&&Fu(Ke.fromDom(p)),c.setRng(m)}},NT=(e,t,o)=>{const a=e.dom,c=e.selection;if(t)DT(e,t,o);else if(t=mb(e.getBody(),c.getStart()),!t)for(;t=a.get(ny);)DT(e,t,o)},k0=(e,t,o)=>{var a,c;const m=e.dom,p=m.getParent(o,ot(eS,e.schema));p&&m.isEmpty(p)?(a=o.parentNode)===null||a===void 0||a.replaceChild(t,o):(su(Ke.fromDom(o)),m.isEmpty(o)?(c=o.parentNode)===null||c===void 0||c.replaceChild(t,o):m.insertAfter(t,o))},IT=(e,t)=>(e.appendChild(t),t),iw=(e,t)=>{var o;const a=pt(e,(m,p)=>IT(m,p.cloneNode(!1)),t),c=(o=a.ownerDocument)!==null&&o!==void 0?o:document;return IT(a,c.createTextNode(aw))},l7=(e,t,o,a,c,m)=>{const p=e.formatter,S=e.dom,T=Ye(Yt(p.get()),ee=>ee!==a&&!Ns(ee,"removeformat")),H=OT(e,o,T);if(Ye(H,ee=>!kD(e,ee,a)).length>0){const ee=o.cloneNode(!1);return S.add(t,ee),p.remove(a,c,ee,m),S.remove(ee),te.some(ee)}else return te.none()},$I=e=>Iv(e,Hg(e).replace(new RegExp(`${qa}$`)," ")),PT=(e,t)=>{const o=()=>{t!==null&&!e.dom.isEmpty(t)&&Ta(Ke.fromDom(t)).each(a=>{pr(a)?$I(a):$a(a,c=>pr(c)).each(c=>{pr(c)&&$I(c)})})};e.once("input",a=>{a.data&&!a0(a.data)&&(a.isComposing?e.once("compositionend",()=>{o()}):o())})},xp=(e,t,o)=>{let a;const c=e.selection,m=e.formatter.get(t);if(!m)return;const p=c.getRng();let S=p.startOffset;const H=p.startContainer.nodeValue;a=mb(e.getBody(),c.getStart());const J=/[^\s\u00a0\u00ad\u200b\ufeff]/;if(H&&S>0&&S<H.length&&J.test(H.charAt(S))&&J.test(H.charAt(S-1))){const ee=c.getBookmark();p.collapse(!0);let re=pb(e.dom,p,m);re=L2(re),e.formatter.apply(t,o,re),c.moveToBookmark(ee)}else{let ee=a?FI(a):null;(!a||(ee==null?void 0:ee.data)!==aw)&&(a=i7(e.getDoc(),lh(!0).dom),ee=a.firstChild,p.insertNode(a),S=1,PT(e,a)),e.formatter.apply(t,o,a),c.setCursorLocation(ee,S)}},BT=(e,t,o,a)=>{const c=e.dom,m=e.selection;let p=!1;const S=e.formatter.get(t);if(!S)return;const T=m.getRng(),H=T.startContainer,J=T.startOffset;let ee=H;Xt(H)&&(J!==H.data.length&&(p=!0),ee=ee.parentNode);const re=[];let ve;for(;ee;){if(ih(e,ee,t,o,a)){ve=ee;break}ee.nextSibling&&(p=!0),re.push(ee),ee=ee.parentNode}if(ve)if(p){const Te=m.getBookmark();T.collapse(!0);let we=pb(c,T,S,!0);we=L2(we),e.formatter.remove(t,o,we,a),m.moveToBookmark(Te)}else{const Te=mb(e.getBody(),ve),we=Oe(Te)?c.getParents(ve.parentNode,Gt,Te):[],Me=lh(!1).dom;k0(e,Me,Te??ve);const Qe=l7(e,Me,ve,t,o,a),lt=iw([...re,...Qe.toArray(),...we],Me);Te&&DT(e,Te,Oe(Te)),m.setCursorLocation(lt,1),PT(e,Me),c.isEmpty(ve)&&c.remove(ve)}},MT=(e,t,o)=>{const a=e.selection,c=e.getBody();NT(e,null,o),(t===8||t===46)&&a.isCollapsed()&&a.getStart().innerHTML===aw&&NT(e,mb(c,a.getStart()),!0),(t===37||t===39)&&NT(e,mb(c,a.getStart()),!0)},LT=e=>Xt(e)&&Pe(e.data,qa),VI=e=>{e.on("mouseup keydown",t=>{MT(e,t.keyCode,LT(e.selection.getRng().endContainer))})},FT=e=>{const t=lh(!1),o=iw(e,t.dom);return{caretContainer:t,caretPosition:Et(o,0)}},$T=(e,t)=>{const{caretContainer:o,caretPosition:a}=FT(t);return Er(Ke.fromDom(e),o),Ps(Ke.fromDom(e)),a},c7=(e,t)=>{const{caretContainer:o,caretPosition:a}=FT(t);return e.insertNode(o.dom),a},Sy=(e,t)=>{if(md(t.dom))return!1;const o=e.schema.getTextInlineElements();return ho(o,ls(t))&&!md(t.dom)&&!Zd(t.dom)},Nb={},VT=li(["pre"]),HI=(e,t)=>{Nb[e]||(Nb[e]=[]),Nb[e].push(t)},zI=(e,t)=>{ho(Nb,e)&&ye(Nb[e],o=>{o(t)})};HI("pre",e=>{const t=e.selection.getRng(),o=c=>m=>{const p=m.previousSibling;return VT(p)&&xe(c,p)},a=(c,m)=>{const p=Ke.fromDom(m),S=mc(p).dom;Ps(p),na(Ke.fromDom(c),[Ke.fromTag("br",S),Ke.fromTag("br",S),...ri(p)])};if(!t.collapsed){const c=e.selection.getSelectedBlocks(),m=Ye(Ye(c,VT),o(c));ye(m,p=>{a(p.previousSibling,p)})}});const HT=["fontWeight","fontStyle","color","fontSize","fontFamily"],f_=e=>q(e.styles)&&Re(Yt(e.styles),t=>xe(HT,t)),zT=e=>Nn(e,t=>Gi(t)&&t.inline==="span"&&f_(t)),_y=(e,t)=>{const o=e.get(t);return ne(o)?zT(o):te.none()},UI=(e,t)=>Hu(t,Et.fromRangeStart(e)).isNone(),UT=(e,t)=>Lc(t,Et.fromRangeEnd(e)).exists(o=>!Cr(o.getNode())||Lc(t,o).isSome())===!1,WI=e=>t=>gv(t)&&e.isEditable(t),u7=e=>{const t=e.getSelectedBlocks(),o=e.getRng();if(e.isCollapsed())return[];if(t.length===1)return UI(o,t[0])&&UT(o,t[0])?t:[];{const a=on(t).filter(p=>UI(o,p)).toArray(),c=ro(t).filter(p=>UT(o,p)).toArray(),m=t.slice(1,-1);return a.concat(m).concat(c)}},jI=e=>Ye(u7(e),WI(e.dom)),WT=e=>Ye(e.getSelectedBlocks(),WI(e.dom)),jT=an.each,m_=e=>Vn(e)&&!gd(e)&&!md(e)&&!Zd(e),Ib=(e,t)=>{for(let o=e;o;o=o[t]){if(Xt(o)&&it(o.data))return e;if(Vn(o)&&!gd(o))return o}return e},ZT=(e,t,o)=>{const a=YS(e),c=Dc(t)&&e.dom.isEditable(t),m=Dc(o)&&e.dom.isEditable(o);if(c&&m){const p=Ib(t,"previousSibling"),S=Ib(o,"nextSibling");if(a.compare(p,S)){for(let T=p.nextSibling;T&&T!==S;){const H=T;T=T.nextSibling,p.appendChild(H)}return e.dom.remove(S),an.each(an.grep(S.childNodes),T=>{p.appendChild(T)}),p}}return o},g_=(e,t,o,a)=>{var c;if(a&&t.merge_siblings!==!1){const m=(c=ZT(e,i0(a),a))!==null&&c!==void 0?c:a;ZT(e,m,i0(m,!0))}},ZI=(e,t,o)=>{if(t.clear_child_styles){const a=t.links?"*:not(a)":"*";jT(e.select(a,o),c=>{m_(c)&&e.isEditable(c)&&jT(t.styles,(m,p)=>{e.setStyle(c,p,"")})})}},lw=(e,t,o)=>{jT(e.childNodes,a=>{m_(a)&&(t(a)&&o(a),a.hasChildNodes()&&lw(a,t,o))})},Pb=(e,t)=>{t.nodeName==="SPAN"&&e.getAttribs(t).length===0&&e.remove(t,!0)},KT=(e,t)=>o=>!!(o&&x2(e,o,t)),bd=(e,t,o)=>a=>{e.setStyle(a,t,o),a.getAttribute("style")===""&&a.removeAttribute("style"),Pb(e,a)},uf=gs.generate([{keep:[]},{rename:["name"]},{removed:[]}]),qT=/^(src|href|style)$/,h_=an.each,p_=iy,KI=e=>/^(TR|TH|TD)$/.test(e.nodeName),E0=(e,t,o)=>e.isChildOf(t,o)&&t!==o&&!e.isBlock(o),cw=(e,t,o)=>{let a=t[o?"startContainer":"endContainer"],c=t[o?"startOffset":"endOffset"];if(Vn(a)){const m=a.childNodes.length-1;!o&&c&&c--,a=a.childNodes[c>m?m:c]}return Xt(a)&&o&&c>=a.data.length&&(a=new Si(a,e.getBody()).next()||a),Xt(a)&&!o&&c===0&&(a=new Si(a,e.getBody()).prev()||a),a},GT=(e,t)=>{const o=t?"firstChild":"lastChild",a=e[o];return KI(e)&&a?e.nodeName==="TR"&&a[o]||a:e},b_=(e,t,o,a)=>{var c;const m=e.create(o,a);return(c=t.parentNode)===null||c===void 0||c.insertBefore(m,t),m.appendChild(t),m},v_=(e,t,o,a,c)=>{const m=Ke.fromDom(t),p=Ke.fromDom(e.create(a,c)),S=o?Lf(m):Su(m);return na(p,S),o?(Er(m,p),zi(p,m)):(mt(m,p),Pr(p,m)),p.dom},d7=(e,t)=>t.links&&e.nodeName==="A",qI=(e,t,o)=>{const a=t.parentNode;let c;const m=e.dom,p=Ul(e);eg(o)&&a===m.getRoot()&&(!o.list_block||!p_(t,o.list_block))&&ye(Do(t.childNodes),S=>{gb(e,p,S.nodeName.toLowerCase())?c?c.appendChild(S):(c=b_(m,S,p),m.setAttribs(c,e2(e))):c=null}),!(TD(o)&&!p_(o.inline,t))&&m.remove(t,!0)},YT=(e,t,o)=>P(e)?{name:t,value:null}:{name:e,value:up(t,o)},GI=(e,t)=>{e.getAttrib(t,"style")===""&&(t.removeAttribute("style"),t.removeAttribute("data-mce-style"))},Zu=(e,t,o,a,c)=>{let m=!1;h_(o.styles,(p,S)=>{const{name:T,value:H}=YT(S,p,a),J=tS(H,T);(o.remove_similar||be(H)||!Vn(c)||p_(x2(e,c,T),J))&&e.setStyle(t,T,""),m=!0}),m&&GI(e,t)},XT=(e,t,o)=>{t==="removeformat"?ye(WT(e.selection),a=>{ye(HT,c=>e.dom.setStyle(a,c,"")),GI(e.dom,a)}):_y(e.formatter,t).each(a=>{ye(WT(e.selection),c=>Zu(e.dom,c,a,o,null))})},JT=(e,t,o,a,c)=>{const m=e.dom,p=YS(e),S=e.schema;if(Gi(t)&&Nu(S,t.inline)&&ou(S,a)&&a.parentElement===e.getBody())return qI(e,a,t),uf.removed();if(!t.ceFalseOverride&&a&&m.getContentEditableParent(a)==="false"||a&&!d_(m,a,t)&&!d7(a,t))return uf.keep();const T=a,H=t.preserve_attributes;if(Gi(t)&&t.remove==="all"&&ne(H)){const J=Ye(m.getAttribs(T),ee=>xe(H,ee.name.toLowerCase()));if(m.removeAllAttribs(T),ye(J,ee=>m.setAttrib(T,ee.name,ee.value)),J.length>0)return uf.rename("span")}if(t.remove!=="all"){Zu(m,T,t,o,c),h_(t.attributes,(ee,re)=>{const{name:ve,value:Te}=YT(re,ee,o);if(t.remove_similar||be(Te)||!Vn(c)||p_(m.getAttrib(c,ve),Te)){if(ve==="class"){const we=m.getAttrib(T,ve);if(we){let Me="";if(ye(we.split(/\s+/),Qe=>{/mce\-\w+/.test(Qe)&&(Me+=(Me?" ":"")+Qe)}),Me){m.setAttrib(T,ve,Me);return}}}if(qT.test(ve)&&T.removeAttribute("data-mce-"+ve),ve==="style"&&li(["li"])(T)&&m.getStyle(T,"list-style-type")==="none"){T.removeAttribute(ve),m.setStyle(T,"list-style-type","none");return}ve==="class"&&T.removeAttribute("className"),T.removeAttribute(ve)}}),h_(t.classes,ee=>{ee=up(ee,o),(!Vn(c)||m.hasClass(c,ee))&&m.removeClass(T,ee)});const J=m.getAttribs(T);for(let ee=0;ee<J.length;ee++){const re=J[ee].nodeName;if(!p.isAttributeInternal(re))return uf.keep()}}return t.remove!=="none"?(qI(e,T,t),uf.removed()):uf.keep()},QT=(e,t,o,a,c)=>{let m;return t.parentNode&&ye(w2(e.dom,t.parentNode).reverse(),p=>{if(!m&&Vn(p)&&p.id!=="_start"&&p.id!=="_end"){const S=ih(e,p,o,a,c);S&&S.split!==!1&&(m=p)}}),m},YI=(e,t,o,a)=>JT(e,t,o,a,a).fold(ct(a),c=>(e.dom.createFragment().appendChild(a),e.dom.rename(a,c)),ct(null)),uw=(e,t,o,a,c,m,p,S)=>{var T,H;let J,ee;const re=e.dom;if(o){const ve=o.parentNode;for(let Te=a.parentNode;Te&&Te!==ve;Te=Te.parentNode){let we=re.clone(Te,!1);for(let Me=0;Me<t.length&&(we=YI(e,t[Me],S,we),we!==null);Me++);we&&(J&&we.appendChild(J),ee||(ee=we),J=we)}(!p.mixed||!re.isBlock(o))&&(a=(T=re.split(o,a))!==null&&T!==void 0?T:a),J&&ee&&((H=c.parentNode)===null||H===void 0||H.insertBefore(J,c),ee.appendChild(c),Gi(p)&&g_(e,p,S,J))}return a},wp=(e,t,o,a,c)=>{const m=e.formatter.get(t),p=m[0],S=e.dom,T=e.selection,H=we=>{const Me=QT(e,we,t,o,c);return uw(e,m,Me,we,we,!0,p,o)},J=we=>gd(we)&&Vn(we)&&(we.id==="_start"||we.id==="_end"),ee=we=>Re(m,Me=>Mb(e,Me,o,we,we)),re=we=>{const Me=Do(we.childNodes),lt=ee(we)||Re(m,Zt=>d_(S,we,Zt)),at=we.parentNode;if(!lt&&Oe(at)&&oS(p)&&ee(at),p.deep&&Me.length)for(let Zt=0;Zt<Me.length;Zt++)re(Me[Zt]);ye(["underline","line-through","overline"],Zt=>{Vn(we)&&e.dom.getStyle(we,"text-decoration")===Zt&&we.parentNode&&JE(S,we.parentNode)===Zt&&Mb(e,{deep:!1,exact:!0,inline:"span",styles:{textDecoration:Zt}},void 0,we)})},ve=we=>{const Me=S.get(we?"_start":"_end");if(Me){let Qe=Me[we?"firstChild":"lastChild"];return J(Qe)&&(Qe=Qe[we?"firstChild":"lastChild"]),Xt(Qe)&&Qe.data.length===0&&(Qe=we?Me.previousSibling||Me.nextSibling:Me.nextSibling||Me.previousSibling),S.remove(Me,!0),Qe}else return null},Te=we=>{let Me,Qe,lt=pb(S,we,m,we.collapsed);if(p.split){if(lt=L2(lt),Me=cw(e,lt,!0),Qe=cw(e,lt),Me!==Qe){if(Me=GT(Me,!0),Qe=GT(Qe,!1),E0(S,Me,Qe)){const xt=te.from(Me.firstChild).getOr(Me);H(v_(S,xt,!0,"span",{id:"_start","data-mce-type":"bookmark"})),ve(!0);return}if(E0(S,Qe,Me)){const xt=te.from(Qe.lastChild).getOr(Qe);H(v_(S,xt,!1,"span",{id:"_end","data-mce-type":"bookmark"})),ve(!1);return}Me=b_(S,Me,"span",{id:"_start","data-mce-type":"bookmark"}),Qe=b_(S,Qe,"span",{id:"_end","data-mce-type":"bookmark"});const at=S.createRng();at.setStartAfter(Me),at.setEndBefore(Qe),k2(S,at,xt=>{ye(xt,Zt=>{!gd(Zt)&&!gd(Zt.parentNode)&&H(Zt)})}),H(Me),H(Qe),Me=ve(!0),Qe=ve()}else Me=Qe=H(Me);lt.startContainer=Me.parentNode?Me.parentNode:Me,lt.startOffset=S.nodeIndex(Me),lt.endContainer=Qe.parentNode?Qe.parentNode:Qe,lt.endOffset=S.nodeIndex(Qe)+1}k2(S,lt,at=>{ye(at,re)})};if(a){if(ay(a)){const we=S.createRng();we.setStartBefore(a),we.setEndAfter(a),Te(we)}else Te(a);LD(e,t,a,o);return}!T.isCollapsed()||!Gi(p)||Qm(e).length?(GE(e,()=>ry(e,Te),we=>Gi(p)&&Db(e,t,o,we)),e.nodeChanged()):BT(e,t,o,c),XT(e,t,o),LD(e,t,a,o)},Bb=(e,t,o,a,c)=>{(a||e.selection.isEditable())&&wp(e,t,o,a,c)},Mb=(e,t,o,a,c)=>JT(e,t,o,a,c).fold(Fn,m=>(e.dom.rename(a,m),!0),Gt),y_=an.each,e3=(e,t,o,a)=>{const c=m=>{if(Dc(m)&&Vn(m.parentNode)&&e.isEditable(m)){const p=JE(e,m.parentNode);e.getStyle(m,"color")&&p?e.setStyle(m,"text-decoration",p):e.getStyle(m,"text-decoration")===p&&e.setStyle(m,"text-decoration",null)}};t.styles&&(t.styles.color||t.styles.textDecoration)&&(an.walk(a,c,"childNodes"),c(a))},XI=(e,t,o,a)=>{if(t.styles&&t.styles.backgroundColor){const c=KT(e,"fontSize");lw(a,m=>c(m)&&e.isEditable(m),bd(e,"backgroundColor",up(t.styles.backgroundColor,o)))}},f7=(e,t,o,a)=>{if(Gi(t)&&(t.inline==="sub"||t.inline==="sup")){const c=KT(e,"fontSize");lw(a,p=>c(p)&&e.isEditable(p),bd(e,"fontSize",""));const m=Ye(e.select(t.inline==="sup"?"sub":"sup",a),e.isEditable);e.remove(m,!0)}},JI=(e,t,o,a)=>{y_(t,c=>{Gi(c)&&y_(e.dom.select(c.inline,a),m=>{m_(m)&&Mb(e,c,o,m,c.exact?m:null)}),ZI(e.dom,c,a)})},QI=(e,t,o,a,c)=>{const m=c.parentNode;ih(e,m,o,a)&&Mb(e,t,a,c)||t.merge_with_parents&&m&&e.dom.getParent(m,p=>ih(e,p,o,a)?(Mb(e,t,a,c),!0):!1)},dw=an.each,e5=(e,t,o,a)=>{if(r8(e)&&Gi(t)&&o.parentNode){const c=w1(e.schema),m=Mh(Ke.fromDom(o),p=>md(p.dom));return nl(c,a)&&tc(e.schema,o.parentNode,{skipBogus:!1,includeZwsp:!0})&&!m}else return!1},t5=(e,t,o,a)=>{if(dw(o.styles,(c,m)=>{e.setStyle(t,m,up(c,a))}),o.styles){const c=e.getAttrib(t,"style");c&&e.setAttrib(t,"data-mce-style",c)}},m7=(e,t,o,a)=>{const c=e.formatter.get(t),m=c[0],p=!a&&e.selection.isCollapsed(),S=e.dom,T=e.selection,H=(Te,we=m)=>{Ve(we.onformat)&&we.onformat(Te,we,o,a),t5(S,Te,we,o),dw(we.attributes,(Me,Qe)=>{S.setAttrib(Te,Qe,up(Me,o))}),dw(we.classes,Me=>{const Qe=up(Me,o);S.hasClass(Te,Qe)||S.addClass(Te,Qe)})},J=(Te,we)=>{let Me=!1;return dw(Te,Qe=>zu(Qe)?S.getContentEditable(we)==="false"&&!Qe.ceFalseOverride||Oe(Qe.collapsed)&&Qe.collapsed!==p?!0:S.is(we,Qe.selector)&&!md(we)?(H(we,Qe),Me=!0,!1):!0:!1),Me},ee=Te=>{if(le(Te)){const we=S.create(Te);return H(we),we}else return null},re=(Te,we,Me)=>{const Qe=[];let lt=!0;const at=m.inline||m.block,xt=ee(at),Zt=It=>ED(m)&&ih(e,It,t,o),un=(It,_t,Ut)=>{const $n=AD(m)&&eS(e.schema,It)&&gb(e,_t,at);return Ut&&$n},On=(It,_t,Ut,$n)=>{const Jn=It.nodeName.toLowerCase(),Jo=gb(e,at,Jn)&&gb(e,_t,at),as=!Me&&Xt(It)&&$u(It.data),Ks=md(It),sr=!Gi(m)||!Te.isBlock(It);return(Ut||$n)&&Jo&&!as&&!Ks&&sr};k2(Te,we,It=>{let _t;const Ut=$n=>{let Jn=!1,Jo=lt,as=!1;const Ks=$n.parentNode,sr=Ks.nodeName.toLowerCase(),Ia=Te.getContentEditable($n);Oe(Ia)&&(Jo=lt,lt=Ia==="true",Jn=!0,as=XE(e,$n));const uc=lt&&!Jn;if(Cr($n)&&!e5(e,m,$n,sr)){_t=null,eg(m)&&Te.remove($n);return}if(Zt($n)){_t=null;return}if(un($n,sr,uc)){const mr=Te.rename($n,at);H(mr),Qe.push(mr),_t=null;return}if(zu(m)){let mr=J(c,$n);if(!mr&&Oe(Ks)&&oS(m)&&(mr=J(c,Ks)),!Gi(m)||mr){_t=null;return}}Oe(xt)&&On($n,sr,uc,as)?(_t||(_t=Te.clone(xt,!1),Ks.insertBefore(_t,$n),Qe.push(_t)),as&&Jn&&(lt=Jo),_t.appendChild($n)):(_t=null,ye(Do($n.childNodes),Ut),Jn&&(lt=Jo),_t=null)};ye(It,Ut)}),m.links===!0&&ye(Qe,It=>{const _t=Ut=>{Ut.nodeName==="A"&&H(Ut,m),ye(Do(Ut.childNodes),_t)};_t(It)}),ye(Qe,It=>{const _t=Jn=>{let Jo=0;return ye(Jn.childNodes,as=>{!I8(as)&&!gd(as)&&Jo++}),Jo},Ut=Jn=>Nn(Jn.childNodes,QC).filter(as=>Te.getContentEditable(as)!=="false"&&d_(Te,as,m)).map(as=>{const Ks=Te.clone(as,!1);return H(Ks),Te.replace(Ks,Jn,!0),Te.remove(as,!0),Ks}).getOr(Jn),$n=_t(It);if((Qe.length>1||!Te.isBlock(It))&&$n===0){Te.remove(It,!0);return}(Gi(m)||eg(m)&&m.wrapper)&&(!m.exact&&$n===1&&(It=Ut(It)),JI(e,c,o,It),QI(e,m,t,o,It),XI(Te,m,o,It),e3(Te,m,o,It),f7(Te,m,o,It),g_(e,m,o,It))})},ve=ay(a)?a:T.getNode();if(S.getContentEditable(ve)==="false"&&!XE(e,ve)){a=ve,J(c,a),MD(e,t,a,o);return}if(m){if(a)if(ay(a)){if(!J(c,a)){const Te=S.createRng();Te.setStartBefore(a),Te.setEndAfter(a),re(S,pb(S,Te,c),!0)}}else re(S,a,!0);else!p||!Gi(m)||Qm(e).length?(T.setRng(e_(T.getRng())),GE(e,()=>{ry(e,(Te,we)=>{const Me=we?Te:pb(S,Te,c);re(S,Me,!1)})},Gt),e.nodeChanged()):xp(e,t,o),_y(e.formatter,t).each(Te=>{ye(jI(e.selection),we=>t5(S,we,Te,o))});zI(t,e)}MD(e,t,a,o)},n5=(e,t,o,a)=>{(a||e.selection.isEditable())&&m7(e,t,o,a)},Fc=e=>ho(e,"vars"),o5=(e,t)=>{e.set({}),t.on("NodeChange",o=>{n3(t,o.element,e.get())}),t.on("FormatApply FormatRemove",o=>{const a=te.from(o.node).map(c=>ay(c)?c:c.startContainer).bind(c=>Vn(c)?te.some(c):te.from(c.parentElement)).getOrThunk(()=>ky(t));n3(t,a,e.get())})},ky=e=>e.selection.getStart(),s5=(e,t,o,a,c)=>qt(t,S=>{const T=e.formatter.matchNode(S,o,c??{},a);return!Ze(T)},S=>AT(e,S,o)?!0:a?!1:Oe(e.formatter.matchNode(S,o,c,!0))),t3=(e,t)=>{const o=t??ky(e);return Ye(w2(e.dom,o),a=>Vn(a)&&!Zd(a))},n3=(e,t,o)=>{const a=t3(e,t);Vo(o,(c,m)=>{const p=S=>{const T=s5(e,a,m,S.similar,Fc(S)?S.vars:void 0),H=T.isSome();if(S.state.get()!==H){S.state.set(H);const J=T.getOr(t);Fc(S)?S.callback(H,{node:J,format:m,parents:a}):ye(S.callbacks,ee=>ee(H,{node:J,format:m,parents:a}))}};ye([c.withSimilar,c.withoutSimilar],p),ye(c.withVars,p)})},o3=(e,t,o,a,c,m)=>{const p=t.get();ye(o.split(","),S=>{const T=Hs(p,S).getOrThunk(()=>{const J={withSimilar:{state:Da(!1),similar:!0,callbacks:[]},withoutSimilar:{state:Da(!1),similar:!1,callbacks:[]},withVars:[]};return p[S]=J,J}),H=()=>{const J=t3(e);return s5(e,J,S,c,m).isSome()};if(Ze(m)){const J=c?T.withSimilar:T.withoutSimilar;J.callbacks.push(a),J.callbacks.length===1&&J.state.set(H())}else T.withVars.push({state:Da(H()),similar:c,vars:m,callback:a})}),t.set(p)},r5=(e,t,o)=>{const a=e.get();ye(t.split(","),c=>Hs(a,c).each(m=>{a[c]={withSimilar:{...m.withSimilar,callbacks:Ye(m.withSimilar.callbacks,p=>p!==o)},withoutSimilar:{...m.withoutSimilar,callbacks:Ye(m.withoutSimilar.callbacks,p=>p!==o)},withVars:Ye(m.withVars,p=>p.callback!==o)}})),e.set(a)},g7=(e,t,o,a,c,m)=>(o3(e,t,o,a,c,m),{unbind:()=>r5(t,o,a)}),h7=(e,t,o,a)=>{const c=e.formatter.get(t);c&&(Db(e,t,o,a)&&(!("toggle"in c[0])||c[0].toggle)?Bb(e,t,o,a):n5(e,t,o,a))},a5=an.explode,x_=()=>{const e={};return{addFilter:(c,m)=>{ye(a5(c),p=>{ho(e,p)||(e[p]={name:p,callbacks:[]}),e[p].callbacks.push(m)})},getFilters:()=>wc(e),removeFilter:(c,m)=>{ye(a5(c),p=>{if(ho(e,p))if(Oe(m)){const S=e[p],T=Ye(S.callbacks,H=>H!==m);T.length>0?S.callbacks=T:delete e[p]}else delete e[p]})}}},p7=(e,t)=>{ye(t,o=>{e.attr(o,null)})},b7=(e,t,o)=>{e.addNodeFilter("font",a=>{ye(a,c=>{const m=t.parse(c.attr("style")),p=c.attr("color"),S=c.attr("face"),T=c.attr("size");p&&(m.color=p),S&&(m["font-family"]=S),T&&yn(T).each(H=>{m["font-size"]=o[H-1]}),c.name="span",c.attr("style",t.serialize(m)),p7(c,["color","face","size"])})})},i5=(e,t,o)=>{e.addNodeFilter("strike",a=>{const c=t.type!=="html4";ye(a,m=>{if(c)m.name="s";else{const p=o.parse(m.attr("style"));p["text-decoration"]="line-through",m.name="span",m.attr("style",o.serialize(p))}})})},v7=(e,t,o)=>{var a;const c=Ox();t.convert_fonts_to_spans&&b7(e,c,an.explode((a=t.font_size_legacy_values)!==null&&a!==void 0?a:"")),i5(e,o,c)},y7=(e,t,o)=>{t.inline_styles&&v7(e,t,o)},s3=e=>fetch(e).then(t=>t.ok?t.blob():Promise.reject()).catch(()=>Promise.reject({message:`Cannot convert ${e} to Blob. Resource might not exist or is inaccessible.`,uriType:"blob"})),w_=e=>{const t=/([a-z0-9+\/=\s]+)/i.exec(e);return t?t[1]:""},C_=e=>{const[t,...o]=e.split(","),a=o.join(","),c=/data:([^/]+\/[^;]+)(;.+)?/.exec(t);if(c){const m=c[2]===";base64",p=m?w_(a):decodeURIComponent(a);return te.some({type:c[1],data:p,base64Encoded:m})}else return te.none()},r3=(e,t,o=!0)=>{let a=t;if(o)try{a=atob(t)}catch{return te.none()}const c=new Uint8Array(a.length);for(let m=0;m<c.length;m++)c[m]=a.charCodeAt(m);return te.some(new Blob([c],{type:e}))},a3=e=>new Promise((t,o)=>{C_(e).bind(({type:a,data:c,base64Encoded:m})=>r3(a,c,m)).fold(()=>o("Invalid data URI"),t)}),x7=e=>hr(e,"blob:")?s3(e):hr(e,"data:")?a3(e):Promise.reject("Unknown URI format"),l5=e=>new Promise((t,o)=>{const a=new FileReader;a.onloadend=()=>{t(a.result)},a.onerror=()=>{var c;o((c=a.error)===null||c===void 0?void 0:c.message)},a.readAsDataURL(e)});let w7=0;const A0=e=>"blobid"+w7++,c5=(e,t,o)=>C_(e).bind(({data:a,type:c,base64Encoded:m})=>{if(t&&!m)return te.none();{const p=m?a:btoa(a);return o(p,c)}}),fw=(e,t,o)=>{const a=e.create(A0(),t,o);return e.add(a),a},u5=(e,t,o=!1)=>c5(t,o,(a,c)=>te.from(e.getByData(a,c)).orThunk(()=>r3(c,a).map(m=>fw(e,m,a)))),i3=(e,t)=>{const o=()=>Promise.reject("Invalid data URI");if(hr(t,"blob:")){const a=e.getByUri(t);return Oe(a)?Promise.resolve(a):x7(t).then(c=>l5(c).then(m=>c5(m,!1,p=>te.some(fw(e,c,p))).getOrThunk(o)))}else return hr(t,"data:")?u5(e,t).fold(o,a=>Promise.resolve(a)):Promise.reject("Unknown image data format")},d5=/^(?:(?:(?:[A-Za-z][A-Za-z\d.+-]{0,14}:\/\/(?:[-.~*+=!&;:'%@?^${}(),\w]+@)?|www\.|[-;:&=+$,.\w]+@)([A-Za-z\d-]+(?:\.[A-Za-z\d-]+)*))(?::\d+)?(?:\/(?:[-.~*+=!;:'%@$(),\/\w]*[-~*+=%@$()\/\w])?)?(?:\?(?:[-.~*+=!&;:'%@?^${}(),\/\w]+)?)?(?:#(?:[-.~*+=!&;:'%@?^${}(),\/\w]+)?)?)$/,f5=e=>te.from(e.match(d5)).bind(t=>Qa(t,1)).map(t=>hr(t,"www.")?t.substring(4):t),l3=(e,t)=>{te.from(e.attr("src")).bind(f5).forall(o=>!xe(t,o))&&e.attr("sandbox","")},Ey=(e,t)=>hr(e,`${t}/`),C7=e=>Ze(e)?"iframe":Ey(e,"image")?"img":Ey(e,"video")?"video":Ey(e,"audio")?"audio":"iframe",S7=({type:e,src:t,width:o,height:a}={},c,m)=>{const p=C7(e),S=new ml(p,1);return S.attr(p==="audio"?{src:t}:{src:t,width:o,height:a}),(p==="audio"||p==="video")&&S.attr("controls",""),p==="iframe"&&c&&l3(S,m),S},c3=e=>Oe(e.attr("data-mce-bogus")),m5=e=>e.attr("src")===qo.transparentSrc||Oe(e.attr("data-mce-placeholder")),_7=(e,t)=>{const{blob_cache:o}=t;if(o){const a=c=>{const m=c.attr("src");m5(c)||c3(c)||rt(m)||u5(o,m,!0).each(p=>{c.attr("src",p.blobUri())})};e.addAttributeFilter("src",c=>ye(c,a))}},k7=(e,t)=>{var o,a;const c=e.schema;e.addAttributeFilter("href",T=>{let H=T.length;const J=re=>re.split(" ").filter(Te=>Te.length>0).concat(["noopener"]).sort().join(" "),ee=re=>{const ve=re?an.trim(re):"";return/\b(noopener)\b/g.test(ve)?ve:J(ve)};if(!t.allow_unsafe_link_target)for(;H--;){const re=T[H];re.name==="a"&&re.attr("target")==="_blank"&&re.attr("rel",ee(re.attr("rel")))}}),t.allow_html_in_named_anchor||e.addAttributeFilter("id,name",T=>{let H=T.length,J,ee,re,ve;for(;H--;)if(ve=T[H],ve.name==="a"&&ve.firstChild&&!ve.attr("href"))for(re=ve.parent,J=ve.lastChild;J&&re;)ee=J.prev,re.insert(J,ve),J=ee}),t.fix_list_elements&&e.addNodeFilter("ul,ol",T=>{let H=T.length,J,ee;for(;H--;)if(J=T[H],ee=J.parent,ee&&(ee.name==="ul"||ee.name==="ol"))if(J.prev&&J.prev.name==="li")J.prev.append(J);else{const re=new ml("li",1);re.attr("style","list-style-type: none"),J.wrap(re)}});const m=c.getValidClasses();t.validate&&m&&e.addAttributeFilter("class",T=>{var H;let J=T.length;for(;J--;){const ee=T[J],re=(H=ee.attr("class"))!==null&&H!==void 0?H:"",ve=an.explode(re," ");let Te="";for(let we=0;we<ve.length;we++){const Me=ve[we];let Qe=!1,lt=m["*"];lt&&lt[Me]&&(Qe=!0),lt=m[ee.name],!Qe&&lt&&lt[Me]&&(Qe=!0),Qe&&(Te&&(Te+=" "),Te+=Me)}Te.length||(Te=null),ee.attr("class",Te)}}),_7(e,t);const p=(o=t.sandbox_iframes)!==null&&o!==void 0?o:!1,S=tl((a=t.sandbox_iframes_exclusions)!==null&&a!==void 0?a:[]);t.convert_unsafe_embeds&&e.addNodeFilter("object,embed",T=>ye(T,H=>{H.replace(S7({type:H.attr("type"),src:H.name==="object"?H.attr("data"):H.attr("src"),width:H.attr("width"),height:H.attr("height")},p,S))})),p&&e.addNodeFilter("iframe",T=>ye(T,H=>l3(H,S)))},{entries:g5,setPrototypeOf:h5,isFrozen:u3,getPrototypeOf:p5,getOwnPropertyDescriptor:E7}=Object;let{freeze:Ku,seal:Mr,create:A7}=Object,{apply:d3,construct:S_}=typeof Reflect<"u"&&Reflect;d3||(d3=function(t,o,a){return t.apply(o,a)}),Ku||(Ku=function(t){return t}),Mr||(Mr=function(t){return t}),S_||(S_=function(t,o){return new t(...o)});const f3=cu(Array.prototype.forEach),b5=cu(Array.prototype.pop),dm=cu(Array.prototype.push),Ay=cu(String.prototype.toLowerCase),__=cu(String.prototype.toString),m3=cu(String.prototype.match),df=cu(String.prototype.replace),g3=cu(String.prototype.indexOf),v5=cu(String.prototype.trim),lu=cu(RegExp.prototype.test),Lb=mw(TypeError);function cu(e){return function(t){for(var o=arguments.length,a=new Array(o>1?o-1:0),c=1;c<o;c++)a[c-1]=arguments[c];return d3(e,t,a)}}function mw(e){return function(){for(var t=arguments.length,o=new Array(t),a=0;a<t;a++)o[a]=arguments[a];return S_(e,o)}}function Ss(e,t,o){var a;o=(a=o)!==null&&a!==void 0?a:Ay,h5&&h5(e,null);let c=t.length;for(;c--;){let m=t[c];if(typeof m=="string"){const p=o(m);p!==m&&(u3(t)||(t[c]=p),m=p)}e[m]=!0}return e}function ch(e){const t=A7(null);for(const[o,a]of g5(e))t[o]=a;return t}function gw(e,t){for(;e!==null;){const a=E7(e,t);if(a){if(a.get)return cu(a.get);if(typeof a.value=="function")return cu(a.value)}e=p5(e)}function o(a){return console.warn("fallback value for",a),null}return o}const h3=Ku(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),p3=Ku(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),k_=Ku(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),T7=Ku(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),b3=Ku(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),hw=Ku(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),y5=Ku(["#text"]),x5=Ku(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),v3=Ku(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),w5=Ku(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),E_=Ku(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),O7=Mr(/\{\{[\w\W]*|[\w\W]*\}\}/gm),R7=Mr(/<%[\w\W]*|[\w\W]*%>/gm),D7=Mr(/\${[\w\W]*}/gm),N7=Mr(/^data-[\-\w.\u00B7-\uFFFF]/),I7=Mr(/^aria-[\-\w]+$/),C5=Mr(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),S5=Mr(/^(?:\w+script|data):/i),_5=Mr(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),y3=Mr(/^html$/i);var x3=Object.freeze({__proto__:null,MUSTACHE_EXPR:O7,ERB_EXPR:R7,TMPLIT_EXPR:D7,DATA_ATTR:N7,ARIA_ATTR:I7,IS_ALLOWED_URI:C5,IS_SCRIPT_OR_DATA:S5,ATTR_WHITESPACE:_5,DOCTYPE_NAME:y3});const k5=()=>typeof window>"u"?null:window,E5=function(t,o){if(typeof t!="object"||typeof t.createPolicy!="function")return null;let a=null;const c="data-tt-policy-suffix";o&&o.hasAttribute(c)&&(a=o.getAttribute(c));const m="dompurify"+(a?"#"+a:"");try{return t.createPolicy(m,{createHTML(p){return p},createScriptURL(p){return p}})}catch{return console.warn("TrustedTypes policy "+m+" could not be created."),null}};function w3(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:k5();const t=ds=>w3(ds);if(t.version="3.0.5",t.removed=[],!e||!e.document||e.document.nodeType!==9)return t.isSupported=!1,t;const o=e.document,a=o.currentScript;let{document:c}=e;const{DocumentFragment:m,HTMLTemplateElement:p,Node:S,Element:T,NodeFilter:H,NamedNodeMap:J=e.NamedNodeMap||e.MozNamedAttrMap,HTMLFormElement:ee,DOMParser:re,trustedTypes:ve}=e,Te=T.prototype,we=gw(Te,"cloneNode"),Me=gw(Te,"nextSibling"),Qe=gw(Te,"childNodes"),lt=gw(Te,"parentNode");if(typeof p=="function"){const ds=c.createElement("template");ds.content&&ds.content.ownerDocument&&(c=ds.content.ownerDocument)}let at,xt="";const{implementation:Zt,createNodeIterator:un,createDocumentFragment:On,getElementsByTagName:It}=c,{importNode:_t}=o;let Ut={};t.isSupported=typeof g5=="function"&&typeof lt=="function"&&Zt&&Zt.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:$n,ERB_EXPR:Jn,TMPLIT_EXPR:Jo,DATA_ATTR:as,ARIA_ATTR:Ks,IS_SCRIPT_OR_DATA:sr,ATTR_WHITESPACE:Ia}=x3;let{IS_ALLOWED_URI:uc}=x3,mr=null;const vn=Ss({},[...h3,...p3,...k_,...b3,...y5]);let Gn=null;const Bs=Ss({},[...x5,...v3,...w5,...E_]);let Sn=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),lo=null,ts=null,An=!0,Qo=!0,us=!1,gl=!0,nr=!1,Ji=!1,lg=!1,Dp=!1,fu=!1,hf=!1,cg=!1,pf=!0,ug=!1;const to="user-content-";let Es=!0,ha=!1,Ua={},Ti=null;const Zl=Ss({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let fi=null;const mi=Ss({},["audio","video","img","source","image","track"]);let mu=null;const bh=Ss({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),vh="http://www.w3.org/1998/Math/MathML",yh="http://www.w3.org/2000/svg",dg="http://www.w3.org/1999/xhtml";let Ky=dg,mk=!1,gk=null;const rz=Ss({},[vh,yh,dg],__);let z0;const oM=["application/xhtml+xml","text/html"],GZ="text/html";let Vc,Gw=null;const YZ=c.createElement("form"),az=function(Ot){return Ot instanceof RegExp||Ot instanceof Function},Zb=function(Ot){if(!(Gw&&Gw===Ot)){if((!Ot||typeof Ot!="object")&&(Ot={}),Ot=ch(Ot),z0=oM.indexOf(Ot.PARSER_MEDIA_TYPE)===-1?z0=GZ:z0=Ot.PARSER_MEDIA_TYPE,Vc=z0==="application/xhtml+xml"?__:Ay,mr="ALLOWED_TAGS"in Ot?Ss({},Ot.ALLOWED_TAGS,Vc):vn,Gn="ALLOWED_ATTR"in Ot?Ss({},Ot.ALLOWED_ATTR,Vc):Bs,gk="ALLOWED_NAMESPACES"in Ot?Ss({},Ot.ALLOWED_NAMESPACES,__):rz,mu="ADD_URI_SAFE_ATTR"in Ot?Ss(ch(bh),Ot.ADD_URI_SAFE_ATTR,Vc):bh,fi="ADD_DATA_URI_TAGS"in Ot?Ss(ch(mi),Ot.ADD_DATA_URI_TAGS,Vc):mi,Ti="FORBID_CONTENTS"in Ot?Ss({},Ot.FORBID_CONTENTS,Vc):Zl,lo="FORBID_TAGS"in Ot?Ss({},Ot.FORBID_TAGS,Vc):{},ts="FORBID_ATTR"in Ot?Ss({},Ot.FORBID_ATTR,Vc):{},Ua="USE_PROFILES"in Ot?Ot.USE_PROFILES:!1,An=Ot.ALLOW_ARIA_ATTR!==!1,Qo=Ot.ALLOW_DATA_ATTR!==!1,us=Ot.ALLOW_UNKNOWN_PROTOCOLS||!1,gl=Ot.ALLOW_SELF_CLOSE_IN_ATTR!==!1,nr=Ot.SAFE_FOR_TEMPLATES||!1,Ji=Ot.WHOLE_DOCUMENT||!1,fu=Ot.RETURN_DOM||!1,hf=Ot.RETURN_DOM_FRAGMENT||!1,cg=Ot.RETURN_TRUSTED_TYPE||!1,Dp=Ot.FORCE_BODY||!1,pf=Ot.SANITIZE_DOM!==!1,ug=Ot.SANITIZE_NAMED_PROPS||!1,Es=Ot.KEEP_CONTENT!==!1,ha=Ot.IN_PLACE||!1,uc=Ot.ALLOWED_URI_REGEXP||C5,Ky=Ot.NAMESPACE||dg,Sn=Ot.CUSTOM_ELEMENT_HANDLING||{},Ot.CUSTOM_ELEMENT_HANDLING&&az(Ot.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(Sn.tagNameCheck=Ot.CUSTOM_ELEMENT_HANDLING.tagNameCheck),Ot.CUSTOM_ELEMENT_HANDLING&&az(Ot.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(Sn.attributeNameCheck=Ot.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),Ot.CUSTOM_ELEMENT_HANDLING&&typeof Ot.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(Sn.allowCustomizedBuiltInElements=Ot.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),nr&&(Qo=!1),hf&&(fu=!0),Ua&&(mr=Ss({},[...y5]),Gn=[],Ua.html===!0&&(Ss(mr,h3),Ss(Gn,x5)),Ua.svg===!0&&(Ss(mr,p3),Ss(Gn,v3),Ss(Gn,E_)),Ua.svgFilters===!0&&(Ss(mr,k_),Ss(Gn,v3),Ss(Gn,E_)),Ua.mathMl===!0&&(Ss(mr,b3),Ss(Gn,w5),Ss(Gn,E_))),Ot.ADD_TAGS&&(mr===vn&&(mr=ch(mr)),Ss(mr,Ot.ADD_TAGS,Vc)),Ot.ADD_ATTR&&(Gn===Bs&&(Gn=ch(Gn)),Ss(Gn,Ot.ADD_ATTR,Vc)),Ot.ADD_URI_SAFE_ATTR&&Ss(mu,Ot.ADD_URI_SAFE_ATTR,Vc),Ot.FORBID_CONTENTS&&(Ti===Zl&&(Ti=ch(Ti)),Ss(Ti,Ot.FORBID_CONTENTS,Vc)),Es&&(mr["#text"]=!0),Ji&&Ss(mr,["html","head","body"]),mr.table&&(Ss(mr,["tbody"]),delete lo.tbody),Ot.TRUSTED_TYPES_POLICY){if(typeof Ot.TRUSTED_TYPES_POLICY.createHTML!="function")throw Lb('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof Ot.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw Lb('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');at=Ot.TRUSTED_TYPES_POLICY,xt=at.createHTML("")}else at===void 0&&(at=E5(ve,a)),at!==null&&typeof xt=="string"&&(xt=at.createHTML(""));Ku&&Ku(Ot),Gw=Ot}},vO=Ss({},["mi","mo","mn","ms","mtext"]),St=Ss({},["foreignobject","desc","title","annotation-xml"]),kt=Ss({},["title","style","font","a","script"]),hn=Ss({},p3);Ss(hn,k_),Ss(hn,T7);const cn=Ss({},b3);Ss(cn,hw);const mo=function(Ot){let Zn=lt(Ot);(!Zn||!Zn.tagName)&&(Zn={namespaceURI:Ky,tagName:"template"});const To=Ay(Ot.tagName),Ja=Ay(Zn.tagName);return gk[Ot.namespaceURI]?Ot.namespaceURI===yh?Zn.namespaceURI===dg?To==="svg":Zn.namespaceURI===vh?To==="svg"&&(Ja==="annotation-xml"||vO[Ja]):!!hn[To]:Ot.namespaceURI===vh?Zn.namespaceURI===dg?To==="math":Zn.namespaceURI===yh?To==="math"&&St[Ja]:!!cn[To]:Ot.namespaceURI===dg?Zn.namespaceURI===yh&&!St[Ja]||Zn.namespaceURI===vh&&!vO[Ja]?!1:!cn[To]&&(kt[To]||!hn[To]):!!(z0==="application/xhtml+xml"&&gk[Ot.namespaceURI]):!1},xs=function(Ot){dm(t.removed,{element:Ot});try{Ot.parentNode.removeChild(Ot)}catch{Ot.remove()}},pa=function(Ot,Zn){try{dm(t.removed,{attribute:Zn.getAttributeNode(Ot),from:Zn})}catch{dm(t.removed,{attribute:null,from:Zn})}if(Zn.removeAttribute(Ot),Ot==="is"&&!Gn[Ot])if(fu||hf)try{xs(Zn)}catch{}else try{Zn.setAttribute(Ot,"")}catch{}},xh=function(Ot){let Zn,To;if(Dp)Ot="<remove></remove>"+Ot;else{const wh=m3(Ot,/^[\r\n\t ]+/);To=wh&&wh[0]}z0==="application/xhtml+xml"&&Ky===dg&&(Ot='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+Ot+"</body></html>");const Ja=at?at.createHTML(Ot):Ot;if(Ky===dg)try{Zn=new re().parseFromString(Ja,z0)}catch{}if(!Zn||!Zn.documentElement){Zn=Zt.createDocument(Ky,"template",null);try{Zn.documentElement.innerHTML=mk?xt:Ja}catch{}}const gu=Zn.body||Zn.documentElement;return Ot&&To&&gu.insertBefore(c.createTextNode(To),gu.childNodes[0]||null),Ky===dg?It.call(Zn,Ji?"html":"body")[0]:Ji?Zn.documentElement:gu},sM=function(Ot){return un.call(Ot.ownerDocument||Ot,Ot,H.SHOW_ELEMENT|H.SHOW_COMMENT|H.SHOW_TEXT,null,!1)},uce=function(Ot){return Ot instanceof ee&&(typeof Ot.nodeName!="string"||typeof Ot.textContent!="string"||typeof Ot.removeChild!="function"||!(Ot.attributes instanceof J)||typeof Ot.removeAttribute!="function"||typeof Ot.setAttribute!="function"||typeof Ot.namespaceURI!="string"||typeof Ot.insertBefore!="function"||typeof Ot.hasChildNodes!="function")},rM=function(Ot){return typeof S=="object"?Ot instanceof S:Ot&&typeof Ot=="object"&&typeof Ot.nodeType=="number"&&typeof Ot.nodeName=="string"},U0=function(Ot,Zn,To){Ut[Ot]&&f3(Ut[Ot],Ja=>{Ja.call(t,Zn,To,Gw)})},XZ=function(Ot){let Zn;if(U0("beforeSanitizeElements",Ot,null),uce(Ot))return xs(Ot),!0;const To=Vc(Ot.nodeName);if(U0("uponSanitizeElement",Ot,{tagName:To,allowedTags:mr}),Ot.hasChildNodes()&&!rM(Ot.firstElementChild)&&(!rM(Ot.content)||!rM(Ot.content.firstElementChild))&&lu(/<[/\w]/g,Ot.innerHTML)&&lu(/<[/\w]/g,Ot.textContent))return xs(Ot),!0;if(!mr[To]||lo[To]){if(!lo[To]&&QZ(To)&&(Sn.tagNameCheck instanceof RegExp&&lu(Sn.tagNameCheck,To)||Sn.tagNameCheck instanceof Function&&Sn.tagNameCheck(To)))return!1;if(Es&&!Ti[To]){const Ja=lt(Ot)||Ot.parentNode,gu=Qe(Ot)||Ot.childNodes;if(gu&&Ja){const wh=gu.length;for(let Nl=wh-1;Nl>=0;--Nl)Ja.insertBefore(we(gu[Nl],!0),Me(Ot))}}return xs(Ot),!0}return Ot instanceof T&&!mo(Ot)||(To==="noscript"||To==="noembed"||To==="noframes")&&lu(/<\/no(script|embed|frames)/i,Ot.innerHTML)?(xs(Ot),!0):(nr&&Ot.nodeType===3&&(Zn=Ot.textContent,Zn=df(Zn,$n," "),Zn=df(Zn,Jn," "),Zn=df(Zn,Jo," "),Ot.textContent!==Zn&&(dm(t.removed,{element:Ot.cloneNode()}),Ot.textContent=Zn)),U0("afterSanitizeElements",Ot,null),!1)},JZ=function(Ot,Zn,To){if(pf&&(Zn==="id"||Zn==="name")&&(To in c||To in YZ))return!1;if(!(Qo&&!ts[Zn]&&lu(as,Zn))){if(!(An&&lu(Ks,Zn))){if(!Gn[Zn]||ts[Zn]){if(!(QZ(Ot)&&(Sn.tagNameCheck instanceof RegExp&&lu(Sn.tagNameCheck,Ot)||Sn.tagNameCheck instanceof Function&&Sn.tagNameCheck(Ot))&&(Sn.attributeNameCheck instanceof RegExp&&lu(Sn.attributeNameCheck,Zn)||Sn.attributeNameCheck instanceof Function&&Sn.attributeNameCheck(Zn))||Zn==="is"&&Sn.allowCustomizedBuiltInElements&&(Sn.tagNameCheck instanceof RegExp&&lu(Sn.tagNameCheck,To)||Sn.tagNameCheck instanceof Function&&Sn.tagNameCheck(To))))return!1}else if(!mu[Zn]){if(!lu(uc,df(To,Ia,""))){if(!((Zn==="src"||Zn==="xlink:href"||Zn==="href")&&Ot!=="script"&&g3(To,"data:")===0&&fi[Ot])){if(!(us&&!lu(sr,df(To,Ia,"")))){if(To)return!1}}}}}}return!0},QZ=function(Ot){return Ot.indexOf("-")>0},eK=function(Ot){let Zn,To,Ja,gu;U0("beforeSanitizeAttributes",Ot,null);const{attributes:wh}=Ot;if(!wh)return;const Nl={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:Gn};for(gu=wh.length;gu--;){Zn=wh[gu];const{name:Ch,namespaceURI:iz}=Zn;To=Ch==="value"?Zn.value:v5(Zn.value);const fce=To;if(Ja=Vc(Ch),Nl.attrName=Ja,Nl.attrValue=To,Nl.keepAttr=!0,Nl.forceKeepAttr=void 0,U0("uponSanitizeAttribute",Ot,Nl),To=Nl.attrValue,Nl.forceKeepAttr)continue;if(!Nl.keepAttr){pa(Ch,Ot);continue}if(!gl&&lu(/\/>/i,To)){pa(Ch,Ot);continue}nr&&(To=df(To,$n," "),To=df(To,Jn," "),To=df(To,Jo," "));const tK=Vc(Ot.nodeName);if(!JZ(tK,Ja,To)){pa(Ch,Ot);continue}if(ug&&(Ja==="id"||Ja==="name")&&(pa(Ch,Ot),To=to+To),at&&typeof ve=="object"&&typeof ve.getAttributeType=="function"&&!iz)switch(ve.getAttributeType(tK,Ja)){case"TrustedHTML":{To=at.createHTML(To);break}case"TrustedScriptURL":{To=at.createScriptURL(To);break}}if(To!==fce)try{iz?Ot.setAttributeNS(iz,Ch,To):Ot.setAttribute(Ch,To)}catch{pa(Ch,Ot)}}U0("afterSanitizeAttributes",Ot,null)},dce=function ds(Ot){let Zn;const To=sM(Ot);for(U0("beforeSanitizeShadowDOM",Ot,null);Zn=To.nextNode();)U0("uponSanitizeShadowNode",Zn,null),!XZ(Zn)&&(Zn.content instanceof m&&ds(Zn.content),eK(Zn));U0("afterSanitizeShadowDOM",Ot,null)};return t.sanitize=function(ds){let Ot=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Zn,To,Ja,gu;if(mk=!ds,mk&&(ds="<!-->"),typeof ds!="string"&&!rM(ds))if(typeof ds.toString=="function"){if(ds=ds.toString(),typeof ds!="string")throw Lb("dirty is not a string, aborting")}else throw Lb("toString is not a function");if(!t.isSupported)return ds;if(lg||Zb(Ot),t.removed=[],typeof ds=="string"&&(ha=!1),ha){if(ds.nodeName){const Ch=Vc(ds.nodeName);if(!mr[Ch]||lo[Ch])throw Lb("root node is forbidden and cannot be sanitized in-place")}}else if(ds instanceof S)Zn=xh("<!---->"),To=Zn.ownerDocument.importNode(ds,!0),To.nodeType===1&&To.nodeName==="BODY"||To.nodeName==="HTML"?Zn=To:Zn.appendChild(To);else{if(!fu&&!nr&&!Ji&&ds.indexOf("<")===-1)return at&&cg?at.createHTML(ds):ds;if(Zn=xh(ds),!Zn)return fu?null:cg?xt:""}Zn&&Dp&&xs(Zn.firstChild);const wh=sM(ha?ds:Zn);for(;Ja=wh.nextNode();)XZ(Ja)||(Ja.content instanceof m&&dce(Ja.content),eK(Ja));if(ha)return ds;if(fu){if(hf)for(gu=On.call(Zn.ownerDocument);Zn.firstChild;)gu.appendChild(Zn.firstChild);else gu=Zn;return(Gn.shadowroot||Gn.shadowrootmode)&&(gu=_t.call(o,gu,!0)),gu}let Nl=Ji?Zn.outerHTML:Zn.innerHTML;return Ji&&mr["!doctype"]&&Zn.ownerDocument&&Zn.ownerDocument.doctype&&Zn.ownerDocument.doctype.name&&lu(y3,Zn.ownerDocument.doctype.name)&&(Nl="<!DOCTYPE "+Zn.ownerDocument.doctype.name+`>
`+Nl),nr&&(Nl=df(Nl,$n," "),Nl=df(Nl,Jn," "),Nl=df(Nl,Jo," ")),at&&cg?at.createHTML(Nl):Nl},t.setConfig=function(ds){Zb(ds),lg=!0},t.clearConfig=function(){Gw=null,lg=!1},t.isValidAttribute=function(ds,Ot,Zn){Gw||Zb({});const To=Vc(ds),Ja=Vc(Ot);return JZ(To,Ja,Zn)},t.addHook=function(ds,Ot){typeof Ot=="function"&&(Ut[ds]=Ut[ds]||[],dm(Ut[ds],Ot))},t.removeHook=function(ds){if(Ut[ds])return b5(Ut[ds])},t.removeHooks=function(ds){Ut[ds]&&(Ut[ds]=[])},t.removeAllHooks=function(){Ut={}},t}var C3=w3();const A5=an.each,T5=an.trim,P7=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],B7={ftp:21,http:80,https:443,mailto:25},O5=["img","video"],R5=(e,t)=>Oe(e)?!e:Oe(t)?!xe(O5,t):!0,M7=e=>{try{return decodeURIComponent(e)}catch{return unescape(e)}},S3=(e,t,o)=>{const a=M7(t).replace(/\s/g,"");return e.allow_script_urls?!1:/((java|vb)script|mhtml):/i.test(a)?!0:e.allow_html_data_urls?!1:/^data:image\//i.test(a)?R5(e.allow_svg_data_urls,o)&&/^data:image\/svg\+xml/i.test(a):/^data:/i.test(a)};class ff{static parseDataUri(t){let o;const a=decodeURIComponent(t).split(","),c=/data:([^;]+)/.exec(a[0]);return c&&(o=c[1]),{type:o,data:a[1]}}static isDomSafe(t,o,a={}){if(a.allow_script_urls)return!0;{const c=Wh.decode(t).replace(/[\s\u0000-\u001F]+/g,"");return!S3(a,c,o)}}static getDocumentBaseUrl(t){var o;let a;return t.protocol.indexOf("http")!==0&&t.protocol!=="file:"?a=(o=t.href)!==null&&o!==void 0?o:"":a=t.protocol+"//"+t.host+t.pathname,/^[^:]+:\/\/\/?[^\/]+\//.test(a)&&(a=a.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(a)||(a+="/")),a}constructor(t,o={}){this.path="",this.directory="",t=T5(t),this.settings=o;const a=o.base_uri,c=this;if(/^([\w\-]+):([^\/]{2})/i.test(t)||/^\s*#/.test(t)){c.source=t;return}const m=t.indexOf("//")===0;if(t.indexOf("/")===0&&!m&&(t=(a&&a.protocol||"http")+"://mce_host"+t),!/^[\w\-]*:?\/\//.test(t)){const S=a?a.path:new ff(document.location.href).directory;if((a==null?void 0:a.protocol)==="")t="//mce_host"+c.toAbsPath(S,t);else{const T=/([^#?]*)([#?]?.*)/.exec(t);T&&(t=(a&&a.protocol||"http")+"://mce_host"+c.toAbsPath(S,T[1])+T[2])}}t=t.replace(/@@/g,"(mce_at)");const p=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*):?([^:@\/]*))?@)?(\[[a-zA-Z0-9:.%]+\]|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(t);p&&A5(P7,(S,T)=>{let H=p[T];H&&(H=H.replace(/\(mce_at\)/g,"@@")),c[S]=H}),a&&(c.protocol||(c.protocol=a.protocol),c.userInfo||(c.userInfo=a.userInfo),!c.port&&c.host==="mce_host"&&(c.port=a.port),(!c.host||c.host==="mce_host")&&(c.host=a.host),c.source=""),m&&(c.protocol="")}setPath(t){const o=/^(.*?)\/?(\w+)?$/.exec(t);o&&(this.path=o[0],this.directory=o[1],this.file=o[2]),this.source="",this.getURI()}toRelative(t){if(t==="./")return t;const o=new ff(t,{base_uri:this});if(o.host!=="mce_host"&&this.host!==o.host&&o.host||this.port!==o.port||this.protocol!==o.protocol&&o.protocol!=="")return o.getURI();const a=this.getURI(),c=o.getURI();if(a===c||a.charAt(a.length-1)==="/"&&a.substr(0,a.length-1)===c)return a;let m=this.toRelPath(this.path,o.path);return o.query&&(m+="?"+o.query),o.anchor&&(m+="#"+o.anchor),m}toAbsolute(t,o){const a=new ff(t,{base_uri:this});return a.getURI(o&&this.isSameOrigin(a))}isSameOrigin(t){if(this.host==t.host&&this.protocol==t.protocol){if(this.port==t.port)return!0;const o=this.protocol?B7[this.protocol]:null;if(o&&(this.port||o)==(t.port||o))return!0}return!1}toRelPath(t,o){let a=0,c="",m,p;const S=t.substring(0,t.lastIndexOf("/")).split("/"),T=o.split("/");if(S.length>=T.length){for(m=0,p=S.length;m<p;m++)if(m>=T.length||S[m]!==T[m]){a=m+1;break}}if(S.length<T.length){for(m=0,p=T.length;m<p;m++)if(m>=S.length||S[m]!==T[m]){a=m+1;break}}if(a===1)return o;for(m=0,p=S.length-(a-1);m<p;m++)c+="../";for(m=a-1,p=T.length;m<p;m++)m!==a-1?c+="/"+T[m]:c+=T[m];return c}toAbsPath(t,o){let a=0;const c=/\/$/.test(o)?"/":"",m=t.split("/"),p=o.split("/"),S=[];A5(m,ee=>{ee&&S.push(ee)});const T=[];for(let ee=p.length-1;ee>=0;ee--)if(!(p[ee].length===0||p[ee]===".")){if(p[ee]===".."){a++;continue}if(a>0){a--;continue}T.push(p[ee])}const H=S.length-a;let J;return H<=0?J=or(T).join("/"):J=S.slice(0,H).join("/")+"/"+or(T).join("/"),J.indexOf("/")!==0&&(J="/"+J),c&&J.lastIndexOf("/")!==J.length-1&&(J+=c),J}getURI(t=!1){let o;return(!this.source||t)&&(o="",t||(this.protocol?o+=this.protocol+"://":o+="//",this.userInfo&&(o+=this.userInfo+"@"),this.host&&(o+=this.host),this.port&&(o+=":"+this.port)),this.path&&(o+=this.path),this.query&&(o+="?"+this.query),this.anchor&&(o+="#"+this.anchor),this.source=o),this.source}}const L7=an.makeMap("src,href,data,background,action,formaction,poster,xlink:href"),_3="data-mce-type";let D5=0;const N5=(e,t,o,a,c)=>{var m,p,S,T;const H=t.validate,J=o.getSpecialElements();e.nodeType===Ju&&!t.allow_conditional_comments&&/^\[if/i.test((m=e.nodeValue)!==null&&m!==void 0?m:"")&&(e.nodeValue=" "+e.nodeValue);const ee=(p=c==null?void 0:c.tagName)!==null&&p!==void 0?p:e.nodeName.toLowerCase();if(a!=="html"&&o.isValid(a)){Oe(c)&&(c.allowedTags[ee]=!0);return}if(e.nodeType!==_l||ee==="body")return;const re=Ke.fromDom(e),ve=Qu(re,_3),Te=yi(re,"data-mce-bogus");if(!ve&&le(Te)){Te==="all"?Ps(re):ai(re);return}const we=o.getElementRule(ee);if(H&&!we){ho(J,ee)?Ps(re):ai(re);return}else Oe(c)&&(c.allowedTags[ee]=!0);if(H&&we&&!ve){if(ye((S=we.attributesForced)!==null&&S!==void 0?S:[],Me=>{va(re,Me.name,Me.value==="{$uid}"?`mce_${D5++}`:Me.value)}),ye((T=we.attributesDefault)!==null&&T!==void 0?T:[],Me=>{Qu(re,Me.name)||va(re,Me.name,Me.value==="{$uid}"?`mce_${D5++}`:Me.value)}),we.attributesRequired&&!Re(we.attributesRequired,Me=>Qu(re,Me))){ai(re);return}if(we.removeEmptyAttrs&&ta(re)){ai(re);return}we.outputName&&we.outputName!==ee&&Vx(re,we.outputName)}},F7=(e,t,o,a,c)=>{const m=e.tagName.toLowerCase(),{attrName:p,attrValue:S}=c;c.keepAttr=pw(t,o,a,m,p,S),c.keepAttr?(c.allowedAttributes[p]=!0,E3(p,o)&&(c.attrValue=p),t.allow_svg_data_urls&&hr(S,"data:image/svg+xml")&&(c.forceKeepAttr=!0)):k3(e,p)&&(c.forceKeepAttr=!0)},pw=(e,t,o,a,c,m)=>o!=="html"&&!Zf(a)?!0:!(c in L7&&S3(e,m,a))&&(!e.validate||t.isValid(a,c)||hr(c,"data-")||hr(c,"aria-")),k3=(e,t)=>e.hasAttribute(_3)&&(t==="id"||t==="class"||t==="style"),E3=(e,t)=>e in t.getBoolAttrs(),I5=(e,t,o,a)=>{const{attributes:c}=e;for(let m=c.length-1;m>=0;m--){const p=c[m],S=p.name,T=p.value;!pw(t,o,a,e.tagName.toLowerCase(),S,T)&&!k3(e,S)?e.removeAttribute(S):E3(S,o)&&e.setAttribute(S,S)}},$7=(e,t,o)=>{const a=C3();return a.addHook("uponSanitizeElement",(c,m)=>{N5(c,e,t,o.track(c),m)}),a.addHook("uponSanitizeAttribute",(c,m)=>{F7(c,e,t,o.current(),m)}),a},V7=(e,t)=>{const a={...{IN_PLACE:!0,ALLOW_UNKNOWN_PROTOCOLS:!0,ALLOWED_TAGS:["#comment","#cdata-section","body"],ALLOWED_ATTR:[]}};return a.PARSER_MEDIA_TYPE=t,e.allow_script_urls?a.ALLOWED_URI_REGEXP=/.*/:e.allow_html_data_urls&&(a.ALLOWED_URI_REGEXP=/^(?!(\w+script|mhtml):)/i),a},P5=e=>{const t=I(e);if(t==="svg"){const o=["type","href","role","arcrole","title","show","actuate","label","from","to"].map(c=>`xlink:${c}`),a={IN_PLACE:!0,USE_PROFILES:{html:!0,svg:!0,svgFilters:!0},ALLOWED_ATTR:o};C3().sanitize(e,a)}else if(t==="math"){const o={IN_PLACE:!0,USE_PROFILES:{mathMl:!0}};C3().sanitize(e,o)}else throw new Error("Not a namespace element")},H7=(e,t)=>{const o=ie();if(e.sanitize){const a=$7(e,t,o);return{sanitizeHtmlElement:(m,p)=>{a.sanitize(m,V7(e,p)),a.removed=[],o.reset()},sanitizeNamespaceElement:P5}}else return{sanitizeHtmlElement:(m,p)=>{const S=document.createNodeIterator(m,NodeFilter.SHOW_ELEMENT|NodeFilter.SHOW_COMMENT|NodeFilter.SHOW_TEXT);let T;for(;T=S.nextNode();){const H=o.track(T);N5(T,e,t,H),Vn(T)&&I5(T,e,t,H)}o.reset()},sanitizeNamespaceElement:Nt}},A_=an.makeMap,A3=an.extend,B5=(e,t,o,a)=>{const c=e.name,m=c in o&&c!=="title"&&c!=="textarea"&&c!=="noscript",p=t.childNodes;for(let S=0,T=p.length;S<T;S++){const H=p[S],J=new ml(H.nodeName.toLowerCase(),H.nodeType);if(Vn(H)){const ee=H.attributes;for(let re=0,ve=ee.length;re<ve;re++){const Te=ee[re];J.attr(Te.name,Te.value)}Zf(J.name)&&(a(H),J.value=H.innerHTML)}else Xt(H)?(J.value=H.data,m&&(J.raw=!0)):(Mo(H)||mv(H)||Kd(H))&&(J.value=H.data);Zf(J.name)||B5(J,H,o,a),e.append(J)}},Yi=(e,t,o)=>{const a=[];for(let c=e,m=c;c;m=c,c=c.walk()){const p=c;ye(t,S=>S(p)),rt(p.parent)&&p!==e?c=m:a.push(p)}for(let c=a.length-1;c>=0;c--){const m=a[c];ye(o,p=>p(m))}},uh=(e,t,o,a)=>{const c=o.validate,m=t.getNonEmptyElements(),p=t.getWhitespaceElements(),S=A3(A_("script,style,head,html,body,title,meta,param"),t.getBlockElements()),T=w1(t),H=/[ \t\r\n]+/g,J=/^[ \t\r\n]+/,ee=/[ \t\r\n]+$/,re=lt=>{let at=lt.parent;for(;Oe(at);){if(at.name in p)return!0;at=at.parent}return!1},ve=lt=>{let at=lt;for(;Oe(at);){if(at.name in T)return Cy(t,m,p,at);at=at.parent}return!1},Te=lt=>lt.name in S||od(t,lt)||Zf(lt.name)&&lt.parent===e,we=(lt,at)=>{const xt=at?lt.prev:lt.next;return Oe(xt)||rt(lt.parent)?!1:Te(lt.parent)&&(lt.parent!==e||a.isRootContent===!0)};return[lt=>{var at;if(lt.type===3&&!re(lt)){let xt=(at=lt.value)!==null&&at!==void 0?at:"";xt=xt.replace(H," "),(wI(lt.prev,Te)||we(lt,!0))&&(xt=xt.replace(J,"")),xt.length===0||xt===" "&&lt.prev&&lt.prev.type===Ju&&lt.next&&lt.next.type===Ju?lt.remove():lt.value=xt}},lt=>{var at;if(lt.type===1){const xt=t.getElementRule(lt.name);if(c&&xt){const Zt=Cy(t,m,p,lt);xt.paddInEmptyBlock&&Zt&&ve(lt)?JS(o,a,Te,lt):xt.removeEmpty&&Zt?Te(lt)?lt.remove():lt.unwrap():xt.paddEmpty&&(Zt||QS(lt))&&JS(o,a,Te,lt)}}else if(lt.type===3&&!re(lt)){let xt=(at=lt.value)!==null&&at!==void 0?at:"";(lt.next&&Te(lt.next)||we(lt,!1))&&(xt=xt.replace(ee,"")),xt.length===0?lt.remove():lt.value=xt}}]},z7=(e,t)=>{var o;const a=(o=t.forced_root_block)!==null&&o!==void 0?o:e.forced_root_block;return a===!1?"":a===!0?"p":a},Ty=(e={},t=Bu())=>{const o=x_(),a=x_(),c={validate:!0,root_name:"body",sanitize:!0,...e},m=new DOMParser,p=H7(c,t),S=(at,xt,Zt="html")=>{const un=Zt==="xhtml"?"application/xhtml+xml":"text/html",On=ho(t.getSpecialElements(),xt.toLowerCase()),It=On?`<${xt}>${at}</${xt}>`:at,_t=()=>Zt==="xhtml"?`<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>${It}</body></html>`:/^[\s]*<head/i.test(at)||/^[\s]*<html/i.test(at)||/^[\s]*<!DOCTYPE/i.test(at)?`<html>${It}</html>`:`<body>${It}</body>`,Ut=m.parseFromString(_t(),un).body;return p.sanitizeHtmlElement(Ut,un),On?Ut.firstChild:Ut},T=o.addFilter,H=o.getFilters,J=o.removeFilter,ee=a.addFilter,re=a.getFilters,ve=a.removeFilter,Te=(at,xt)=>{sw(t,at)&&xt.push(at)},we=(at,xt)=>{const Zt=le(xt.attr(_3)),un=xt.type===1&&!ho(at,xt.name)&&!od(t,xt)&&!Zf(xt.name);return xt.type===3||un&&!Zt},Me=(at,xt)=>{const Zt=A3(A_("script,style,head,html,body,title,meta,param"),t.getBlockElements()),un=/^[ \t\r\n]+/,On=/[ \t\r\n]+$/;let It=at.firstChild,_t=null;const Ut=$n=>{var Jn,Jo;$n&&(It=$n.firstChild,It&&It.type===3&&(It.value=(Jn=It.value)===null||Jn===void 0?void 0:Jn.replace(un,"")),It=$n.lastChild,It&&It.type===3&&(It.value=(Jo=It.value)===null||Jo===void 0?void 0:Jo.replace(On,"")))};if(t.isValidChild(at.name,xt.toLowerCase())){for(;It;){const $n=It.next;we(Zt,It)?(_t||(_t=new ml(xt,1),_t.attr(c.forced_root_block_attrs),at.insert(_t,It)),_t.append(It)):(Ut(_t),_t=null),It=$n}Ut(_t)}},lt={schema:t,addAttributeFilter:ee,getAttributeFilters:re,removeAttributeFilter:ve,addNodeFilter:T,getNodeFilters:H,removeNodeFilter:J,parse:(at,xt={})=>{var Zt;const un=c.validate,On=(Zt=xt.context)!==null&&Zt!==void 0?Zt:c.root_name,It=S(at,On,xt.format);jo(t,It);const _t=new ml(On,11);B5(_t,It,t.getSpecialElements(),p.sanitizeNamespaceElement),It.innerHTML="";const[Ut,$n]=uh(_t,t,c,xt),Jn=[],Jo=un?Ia=>Te(Ia,Jn):Nt,as={nodes:{},attributes:{}},Ks=Ia=>hT(H(),re(),Ia,as);if(Yi(_t,[Ut,Ks],[$n,Jo]),Jn.reverse(),un&&Jn.length>0)if(xt.context){const{pass:Ia,fail:uc}=Be(Jn,mr=>mr.parent===_t);pd(uc,t,_t,Ks),xt.invalid=Ia.length>0}else pd(Jn,t,_t,Ks);const sr=z7(c,xt);return sr&&(_t.name==="body"||xt.isRootContent)&&Me(_t,sr),xt.invalid||pT(as,xt),_t}};return k7(lt,c),y7(lt,c,t),lt},U7=e=>_0(e)?hp({validate:!1}).serialize(e):e,T3=(e,t,o)=>{const a=U7(e),c=t(a);if(c.isDefaultPrevented())return c;if(_0(e))if(c.content!==a){const m=Ty({validate:!1,forced_root_block:!1,...o}).parse(c.content,{context:e.name});return{...c,content:m}}else return{...c,content:e};else return c},T0=e=>({sanitize:BR(e),sandbox_iframes:RE(e),sandbox_iframes_exclusions:VC(e)}),M5=(e,t)=>{if(t.no_events)return uo.value(t);{const o=tg(e,t);return o.isDefaultPrevented()?uo.error(FD(e,{content:"",...o}).content):uo.value(o)}},fm=(e,t,o)=>o.no_events?t:T3(t,c=>FD(e,{...o,content:c}),T0(e)).content,O3=(e,t)=>{if(t.no_events)return uo.value(t);{const o=T3(t.content,a=>V8(e,{...t,content:a}),T0(e));return o.isDefaultPrevented()?(au(e,o),uo.error(void 0)):uo.value(o)}},R3=(e,t,o)=>{o.no_events||au(e,{...o,content:t})},T_=(e,t,o)=>({element:e,width:t,rows:o}),D3=(e,t)=>({element:e,cells:t}),W7=(e,t)=>({x:e,y:t}),O_=(e,t)=>ca(e,t).bind(yn).getOr(1),dh=(e,t,o,a,c)=>{const m=O_(c,"rowspan"),p=O_(c,"colspan"),S=e.rows;for(let T=o;T<o+m;T++){S[T]||(S[T]=D3(Vg(a),[]));for(let H=t;H<t+p;H++){const J=S[T].cells;J[H]=T===o&&H===t?c:ma(c)}}},L5=(e,t,o)=>{const a=e.rows;return!!(a[o]?a[o].cells:[])[t]},F5=(e,t,o)=>{for(;L5(e,t,o);)t++;return t},bw=e=>fn(e,(t,o)=>o.cells.length>t?o.cells.length:t,0),R_=(e,t)=>{const o=e.rows;for(let a=0;a<o.length;a++){const c=o[a].cells;for(let m=0;m<c.length;m++)if(ss(c[m],t))return te.some(W7(m,a))}return te.none()},N3=(e,t,o,a,c)=>{const m=[],p=e.rows;for(let S=o;S<=c;S++){const T=p[S].cells,H=t<a?T.slice(t,a+1):T.slice(a,t+1);m.push(D3(p[S].element,H))}return m},$5=(e,t,o)=>{const a=t.x,c=t.y,m=o.x,p=o.y,S=c<p?N3(e,a,c,m,p):N3(e,a,p,m,c);return T_(e.element,bw(S),S)},V5=(e,t)=>{const o=ma(e.element),a=Ke.fromTag("tbody");return na(a,t),Pr(o,a),o},j7=e=>Ue(e.rows,t=>{const o=Ue(t.cells,c=>{const m=Vg(c);return Ho(m,"colspan"),Ho(m,"rowspan"),m}),a=ma(t.element);return na(a,o),a}),Z7=e=>{const t=T_(ma(e),0,[]);return ye(da(e,"tr"),(o,a)=>{ye(da(o,"td,th"),(c,m)=>{dh(t,F5(t,m,a),a,o,c)})}),T_(t.element,bw(t.rows),t.rows)},K7=e=>V5(e,j7(e)),H5=(e,t,o)=>R_(e,t).bind(a=>R_(e,o).map(c=>$5(e,a,c))),z5=e=>Nn(e,t=>ls(t)==="ul"||ls(t)==="ol"),q7=(e,t)=>Nn(e,o=>ls(o)==="li"&&v2(o,t)).fold(ct([]),o=>z5(e).map(a=>{const c=Ke.fromTag(ls(a)),m=xc(Dm(a),(p,S)=>hr(S,"list-style"));return rs(c,m),[Ke.fromTag("li"),c]}).getOr([])),I3=(e,t)=>{const o=fn(t,(a,c)=>(Pr(c,a),c),e);return t.length>0?Uu([o]):o},U5=e=>zg(e)?Ka(e).filter(Lv).fold(ct([]),t=>[e,t]):Lv(e)?[e]:[],G7=(e,t,o)=>{const a=Ke.fromDom(t.commonAncestorContainer),c=ju(a,e),m=Ye(c,T=>o.isWrapper(ls(T))),p=q7(c,t),S=m.concat(p.length?p:U5(a));return Ue(S,ma)},P3=()=>Uu([]),Y7=(e,t,o)=>I3(Ke.fromDom(t.cloneContents()),G7(e,t,o)),X7=(e,t)=>Ec(t,"table",ot(ss,e)),lc=(e,t)=>X7(e,t[0]).bind(o=>{const a=t[0],c=t[t.length-1],m=Z7(o);return H5(m,a,c).map(p=>Uu([K7(p)]))}).getOrThunk(P3),J7=(e,t,o)=>t.length>0&&t[0].collapsed?P3():Y7(e,t[0],o),Q7=(e,t,o)=>{const a=yD(t,e);return a.length>0?lc(e,a):J7(e,t,o)},D_=(e,t)=>t>=0&&t<e.length&&a0(e.charAt(t)),W5=e=>rc(e.innerText),N_=e=>e.map(t=>t.nodeName).getOr("div").toLowerCase(),e$=e=>te.from(e.selection.getRng()).map(t=>{var o;const a=te.from(e.dom.getParent(t.commonAncestorContainer,e.dom.isBlock)),c=e.getBody(),m=N_(a),p=Ke.fromDom(t.cloneContents());AN(p),TN(p);const S=e.dom.add(c,m,{"data-mce-bogus":"all",style:"overflow: hidden; opacity: 0;"},p.dom),T=W5(S),H=rc((o=S.textContent)!==null&&o!==void 0?o:"");if(e.dom.remove(S),D_(H,0)||D_(H,H.length-1)){const J=a.getOr(c),ee=W5(J),re=ee.indexOf(T);if(re===-1)return T;{const ve=D_(ee,re-1),Te=D_(ee,re+T.length);return(ve?" ":"")+T+(Te?" ":"")}}else return T}).getOr(""),B3=(e,t)=>{const o=e.selection.getRng(),a=e.dom.create("body"),c=e.selection.getSel(),m=ES(e,Br(c)),p=t.contextual?Q7(Ke.fromDom(e.getBody()),m,e.schema).dom:o.cloneContents();return p&&a.appendChild(p),e.selection.serializer.serialize(a,t)},M3=(e,t)=>{if(t.format==="text")return e$(e);{const o=B3(e,t);return t.format==="tree"?o:e.selection.isCollapsed()?"":o}},t$=(e,t)=>({...e,format:t,get:!0,selection:!0,getInner:!0}),n$=(e,t,o={})=>{const a=t$(o,t);return M5(e,a).fold(Tn,c=>{const m=M3(e,c);return fm(e,m,c)})},mf=0,L3=1,j5=2,F3=(e,t)=>{const o=e.length+t.length+2,a=new Array(o),c=new Array(o),m=(J,ee,re)=>({start:J,end:ee,diag:re}),p=(J,ee,re,ve,Te)=>{const we=T(J,ee,re,ve);if(we===null||we.start===ee&&we.diag===ee-ve||we.end===J&&we.diag===J-re){let Me=J,Qe=re;for(;Me<ee||Qe<ve;)Me<ee&&Qe<ve&&e[Me]===t[Qe]?(Te.push([mf,e[Me]]),++Me,++Qe):ee-J>ve-re?(Te.push([j5,e[Me]]),++Me):(Te.push([L3,t[Qe]]),++Qe)}else{p(J,we.start,re,we.start-we.diag,Te);for(let Me=we.start;Me<we.end;++Me)Te.push([mf,e[Me]]);p(we.end,ee,we.end-we.diag,ve,Te)}},S=(J,ee,re,ve)=>{let Te=J;for(;Te-ee<ve&&Te<re&&e[Te]===t[Te-ee];)++Te;return m(J,Te,ee)},T=(J,ee,re,ve)=>{const Te=ee-J,we=ve-re;if(Te===0||we===0)return null;const Me=Te-we,Qe=we+Te,lt=(Qe%2===0?Qe:Qe+1)/2;a[1+lt]=J,c[1+lt]=ee+1;let at,xt,Zt,un,On;for(at=0;at<=lt;++at){for(xt=-at;xt<=at;xt+=2){for(Zt=xt+lt,xt===-at||xt!==at&&a[Zt-1]<a[Zt+1]?a[Zt]=a[Zt+1]:a[Zt]=a[Zt-1]+1,un=a[Zt],On=un-J+re-xt;un<ee&&On<ve&&e[un]===t[On];)a[Zt]=++un,++On;if(Me%2!==0&&Me-at<=xt&&xt<=Me+at&&c[Zt-Me]<=a[Zt])return S(c[Zt-Me],xt+J-re,ee,ve)}for(xt=Me-at;xt<=Me+at;xt+=2){for(Zt=xt+lt-Me,xt===Me-at||xt!==Me+at&&c[Zt+1]<=c[Zt-1]?c[Zt]=c[Zt+1]-1:c[Zt]=c[Zt-1],un=c[Zt]-1,On=un-J+re-xt;un>=J&&On>=re&&e[un]===t[On];)c[Zt]=un--,On--;if(Me%2===0&&-at<=xt&&xt<=at&&c[Zt]<=a[Zt+Me])return S(c[Zt],xt+J-re,ee,ve)}}return null},H=[];return p(0,e.length,0,t.length,H),H},$3=e=>Vn(e)?e.outerHTML:Xt(e)?Wh.encodeRaw(e.data,!1):Mo(e)?"<!--"+e.data+"-->":"",I_=e=>{let t;const o=document.createElement("div"),a=document.createDocumentFragment();for(e&&(o.innerHTML=e);t=o.firstChild;)a.appendChild(t);return a},Z5=(e,t,o)=>{const a=I_(t);if(e.hasChildNodes()&&o<e.childNodes.length){const c=e.childNodes[o];e.insertBefore(a,c)}else e.appendChild(a)},K5=(e,t)=>{if(e.hasChildNodes()&&t<e.childNodes.length){const o=e.childNodes[t];e.removeChild(o)}},q5=(e,t)=>{let o=0;ye(e,a=>{a[0]===mf?o++:a[0]===L3?(Z5(t,a[1],o),o++):a[0]===j5&&K5(t,o)})},o$=(e,t)=>Ye(Ue(Do(e.childNodes),Kt(rc,$3)),o=>o.length>0),s$=(e,t)=>{const o=Ue(Do(t.childNodes),$3);return q5(F3(o,e),t),t},V3=sl(()=>document.implementation.createHTMLDocument("undo")),r$=e=>e.querySelector("iframe")!==null,a$=e=>({type:"fragmented",fragments:e,content:"",bookmark:null,beforeBookmark:null}),P_=e=>({type:"complete",fragments:null,content:e,bookmark:null,beforeBookmark:null}),Oy=e=>{const t=e.serializer.getTempAttrs(),o=TA(e.getBody(),t);return r$(o)?a$(o$(o)):P_(rc(o.innerHTML))},vw=(e,t,o)=>{const a=o?t.beforeBookmark:t.bookmark;t.type==="fragmented"?s$(t.fragments,e.getBody()):e.setContent(t.content,{format:"raw",no_selection:Oe(a)&&dD(a)?!a.isFakeCaret:!0}),a&&(e.selection.moveToBookmark(a),e.selection.scrollIntoView())},B_=e=>e.type==="fragmented"?e.fragments.join(""):e.content,Cp=e=>{const t=Ke.fromTag("body",V3());return eu(t,B_(e)),ye(da(t,"*[data-mce-bogus]"),ai),hc(t)},i$=(e,t)=>B_(e)===B_(t),l$=(e,t)=>Cp(e)===Cp(t),Ry=(e,t)=>!e||!t?!1:i$(e,t)?!0:l$(e,t),M_=e=>e.get()===0,yw=(e,t,o)=>{M_(o)&&(e.typing=t)},H3=(e,t)=>{e.typing&&(yw(e,!1,t),e.add())},c$=e=>{e.typing&&(e.typing=!1,e.add())},u$=(e,t,o)=>{M_(t)&&o.set(Pn(e.selection))},z3=(e,t,o,a,c,m,p)=>{const S=Oy(e),T=an.extend(m||{},S);if(!M_(a)||e.removed)return null;const H=t.data[o.get()];if(e.dispatch("BeforeAddUndo",{level:T,lastLevel:H,originalEvent:p}).isDefaultPrevented()||H&&Ry(H,T))return null;t.data[o.get()]&&c.get().each(re=>{t.data[o.get()].beforeBookmark=re});const J=TR(e);if(J&&t.data.length>J){for(let re=0;re<t.data.length-1;re++)t.data[re]=t.data[re+1];t.data.length--,o.set(t.data.length)}T.bookmark=Pn(e.selection),o.get()<t.data.length-1&&(t.data.length=o.get()+1),t.data.push(T),o.set(t.data.length-1);const ee={level:T,lastLevel:H,originalEvent:p};return o.get()>0?(e.setDirty(!0),e.dispatch("AddUndo",ee),e.dispatch("change",ee)):e.dispatch("AddUndo",ee),T},U3=(e,t,o)=>{t.data=[],o.set(0),t.typing=!1,e.dispatch("ClearUndos")},W3=(e,t,o,a,c)=>{if(t.transact(a)){const m=t.data[o.get()].bookmark,p=t.data[o.get()-1];vw(e,p,!0),t.transact(c)&&(t.data[o.get()-1].beforeBookmark=m)}},G5=(e,t,o)=>{let a;return t.get()<o.length-1&&(t.set(t.get()+1),a=o[t.get()],vw(e,a,!1),e.setDirty(!0),e.dispatch("Redo",{level:a})),a},L_=(e,t,o,a)=>{let c;return t.typing&&(t.add(),t.typing=!1,yw(t,!1,o)),a.get()>0&&(a.set(a.get()-1),c=t.data[a.get()],vw(e,c,!0),e.setDirty(!0),e.dispatch("Undo",{level:c})),c},Y5=e=>{e.clear(),e.add()},X5=(e,t,o)=>o.get()>0||t.typing&&t.data[0]&&!Ry(Oy(e),t.data[0]),d$=(e,t)=>t.get()<e.data.length-1&&!e.typing,f$=(e,t,o)=>(H3(e,t),e.beforeChange(),e.ignore(o),e.add()),j3=(e,t)=>{try{e.set(e.get()+1),t()}finally{e.set(e.get()-1)}},J5=(e,t)=>{const o=e.dom,a=Oe(t)?t:e.getBody();ye(o.select("table,a",a),c=>{switch(c.nodeName){case"TABLE":const m=FC(e),p=o.getAttrib(c,"border");(!p||p==="0")&&e.hasVisual?o.addClass(c,m):o.removeClass(c,m);break;case"A":if(!o.getAttrib(c,"href")){const S=o.getAttrib(c,"name")||c.id,T=Q1(e);S&&e.hasVisual?o.addClass(c,T):o.removeClass(c,T)}break}}),e.dispatch("VisualAid",{element:t,hasVisual:e.hasVisual})},Z3=e=>({init:{bindEvents:Nt},undoManager:{beforeChange:(t,o)=>u$(e,t,o),add:(t,o,a,c,m,p)=>z3(e,t,o,a,c,m,p),undo:(t,o,a)=>L_(e,t,o,a),redo:(t,o)=>G5(e,t,o),clear:(t,o)=>U3(e,t,o),reset:t=>Y5(t),hasUndo:(t,o)=>X5(e,t,o),hasRedo:(t,o)=>d$(t,o),transact:(t,o,a)=>f$(t,o,a),ignore:(t,o)=>j3(t,o),extra:(t,o,a,c)=>W3(e,t,o,a,c)},formatter:{match:(t,o,a,c)=>Db(e,t,o,a,c),matchAll:(t,o)=>BI(e,t,o),matchNode:(t,o,a,c)=>ih(e,t,o,a,c),canApply:t=>LI(e,t),closest:t=>MI(e,t),apply:(t,o,a)=>n5(e,t,o,a),remove:(t,o,a,c)=>Bb(e,t,o,a,c),toggle:(t,o,a)=>h7(e,t,o,a),formatChanged:(t,o,a,c,m)=>g7(e,t,o,a,c,m)},editor:{getContent:t=>DN(e,t),setContent:(t,o)=>a7(e,t,o),insertContent:(t,o)=>l_(e,t,o),addVisual:t=>J5(e,t)},selection:{getContent:(t,o)=>n$(e,t,o)},autocompleter:{addDecoration:Nt,removeDecoration:Nt},raw:{getModel:()=>te.none()}}),m$=e=>{const t=H=>q(H)?H:{},{init:o,undoManager:a,formatter:c,editor:m,selection:p,autocompleter:S,raw:T}=e;return{init:{bindEvents:o.bindEvents},undoManager:{beforeChange:a.beforeChange,add:a.add,undo:a.undo,redo:a.redo,clear:a.clear,reset:a.reset,hasUndo:a.hasUndo,hasRedo:a.hasRedo,transact:(H,J,ee)=>a.transact(ee),ignore:(H,J)=>a.ignore(J),extra:(H,J,ee,re)=>a.extra(ee,re)},formatter:{match:(H,J,ee,re)=>c.match(H,t(J),re),matchAll:c.matchAll,matchNode:c.matchNode,canApply:H=>c.canApply(H),closest:H=>c.closest(H),apply:(H,J,ee)=>c.apply(H,t(J)),remove:(H,J,ee,re)=>c.remove(H,t(J)),toggle:(H,J,ee)=>c.toggle(H,t(J)),formatChanged:(H,J,ee,re,ve)=>c.formatChanged(J,ee,re,ve)},editor:{getContent:H=>m.getContent(H),setContent:(H,J)=>({content:m.setContent(H,J),html:""}),insertContent:(H,J)=>(m.insertContent(H),""),addVisual:m.addVisual},selection:{getContent:(H,J)=>p.getContent(J)},autocompleter:{addDecoration:S.addDecoration,removeDecoration:S.removeDecoration},raw:{getModel:()=>te.some(T.getRawModel())}}},g$=()=>{const e=ct(null),t=ct("");return{init:{bindEvents:Nt},undoManager:{beforeChange:Nt,add:e,undo:e,redo:e,clear:Nt,reset:Nt,hasUndo:Fn,hasRedo:Fn,transact:e,ignore:Nt,extra:Nt},formatter:{match:Fn,matchAll:ct([]),matchNode:ct(void 0),canApply:Fn,closest:t,apply:Nt,remove:Nt,toggle:Nt,formatChanged:ct({unbind:Nt})},editor:{getContent:t,setContent:ct({content:"",html:""}),insertContent:ct(""),addVisual:Nt},selection:{getContent:t},autocompleter:{addDecoration:Nt,removeDecoration:Nt},raw:{getModel:ct(te.none())}}},fh=e=>ho(e.plugins,"rtc"),Q5=e=>Hs(e.plugins,"rtc").bind(t=>te.from(t.setup)),eP=e=>{const t=e;return Q5(e).fold(()=>(t.rtcInstance=Z3(e),te.none()),o=>(t.rtcInstance=g$(),te.some(()=>o().then(a=>(t.rtcInstance=m$(a),a.rtc.isRemote)))))},K3=e=>e.rtcInstance?e.rtcInstance:Z3(e),Xi=e=>{const t=e.rtcInstance;if(t)return t;throw new Error("Failed to get RTC instance not yet initialized.")},Dy=(e,t,o)=>{Xi(e).undoManager.beforeChange(t,o)},h$=(e,t,o,a,c,m,p)=>Xi(e).undoManager.add(t,o,a,c,m,p),p$=(e,t,o,a)=>Xi(e).undoManager.undo(t,o,a),tP=(e,t,o)=>Xi(e).undoManager.redo(t,o),nP=(e,t,o)=>{Xi(e).undoManager.clear(t,o)},F_=(e,t)=>{Xi(e).undoManager.reset(t)},b$=(e,t,o)=>Xi(e).undoManager.hasUndo(t,o),v$=(e,t,o)=>Xi(e).undoManager.hasRedo(t,o),y$=(e,t,o,a)=>Xi(e).undoManager.transact(t,o,a),x$=(e,t,o)=>{Xi(e).undoManager.ignore(t,o)},w$=(e,t,o,a,c)=>{Xi(e).undoManager.extra(t,o,a,c)},C$=(e,t,o,a,c)=>Xi(e).formatter.match(t,o,a,c),S$=(e,t,o)=>Xi(e).formatter.matchAll(t,o),_$=(e,t,o,a,c)=>Xi(e).formatter.matchNode(t,o,a,c),k$=(e,t)=>Xi(e).formatter.canApply(t),E$=(e,t)=>Xi(e).formatter.closest(t),vr=(e,t,o,a)=>{Xi(e).formatter.apply(t,o,a)},oP=(e,t,o,a,c)=>{Xi(e).formatter.remove(t,o,a,c)},q3=(e,t,o,a)=>{Xi(e).formatter.toggle(t,o,a)},sP=(e,t,o,a,c,m)=>Xi(e).formatter.formatChanged(t,o,a,c,m),rP=(e,t)=>K3(e).editor.getContent(t),G3=(e,t,o)=>K3(e).editor.setContent(t,o),A$=(e,t,o)=>K3(e).editor.insertContent(t,o),T$=(e,t,o)=>Xi(e).selection.getContent(t,o),aP=(e,t)=>Xi(e).editor.addVisual(t),iP=e=>Xi(e).init.bindEvents(),O$=(e,t={})=>{const o=t.format?t.format:"html";return T$(e,o,t)},O0=e=>e.dom.length===0?(Ps(e),te.none()):te.some(e),R$=(e,t)=>e.filter(o=>lr.isBookmarkNode(o.dom)).bind(t?Xn:Ta),Ny=(e,t,o,a,c)=>{const m=e.dom,p=t.dom,S=a?m.length:p.length;a?(X2(m,p,c,!1,!a),o.setStart(p,S)):(X2(p,m,c,!1,!a),o.setEnd(p,S))},xw=(e,t,o)=>{Ka(e).each(a=>{const c=e.dom;t&&vy(a,Et(c,0),o)?MS(c,0,o):!t&&x0(a,Et(c,c.length),o)&&ra(c,c.length,o)})},R0=(e,t,o,a,c)=>{e.bind(m=>((a?ra:MS)(m.dom,a?m.dom.length:0,c),t.filter(pr).map(S=>Ny(m,S,o,a,c)))).orThunk(()=>R$(t,a).or(t).filter(pr).map(p=>xw(p,a,c)))},Y3=(e,t,o)=>{const a=te.from(t.firstChild).map(Ke.fromDom),c=te.from(t.lastChild).map(Ke.fromDom);e.deleteContents(),e.insertNode(t);const m=a.bind(Ta).filter(pr).bind(O0),p=c.bind(Xn).filter(pr).bind(O0);R0(m,a,e,!0,o),R0(p,c,e,!1,o),e.collapse(!1)},lP=(e,t)=>({format:"html",...e,set:!0,selection:!0,content:t}),cP=(e,t)=>{if(t.format!=="raw"){const o=e.selection.getRng(),a=e.dom.getParent(o.commonAncestorContainer,e.dom.isBlock),c=a?{context:a.nodeName.toLowerCase()}:{},m=e.parser.parse(t.content,{forced_root_block:!1,...c,...t});return hp({validate:!1},e.schema).serialize(m)}else return t.content},X3=(e,t,o={})=>{const a=lP(o,t);O3(e,a).each(c=>{const m=cP(e,c),p=e.selection.getRng();Y3(p,p.createContextualFragment(m),e.schema),e.selection.setRng(p),of(e,p),R3(e,m,c)})},J3=(e,t,o)=>{if(ho(e,t)){const a=Ye(e[t],c=>c!==o);a.length===0?delete e[t]:e[t]=a}};var uP=(e,t)=>{let o,a;const c=(S,T)=>Nn(T,H=>e.is(H,S)),m=S=>e.getParents(S,void 0,e.getRoot()),p=()=>{o={},a={},t.on("NodeChange",S=>{const T=S.element,H=m(T),J={};Vo(o,(ee,re)=>{c(re,H).each(ve=>{a[re]||(ye(ee,Te=>{Te(!0,{node:ve,selector:re,parents:H})}),a[re]=ee),J[re]=ee})}),Vo(a,(ee,re)=>{J[re]||(delete a[re],ye(ee,ve=>{ve(!1,{node:T,selector:re,parents:H})}))})})};return{selectorChangedWithUnbind:(S,T)=>(o||p(),o[S]||(o[S]=[]),o[S].push(T),c(S,m(t.selection.getStart())).each(()=>{a[S]=o[S]}),{unbind:()=>{J3(o,S,T),J3(a,S,T)}})}};const Q3=e=>!!(e&&e.ownerDocument)&&si(Ke.fromDom(e.ownerDocument),Ke.fromDom(e)),e4=e=>e?Q3(e.startContainer)&&Q3(e.endContainer):!1,t4=(e,t,o,a)=>{let c,m;const{selectorChangedWithUnbind:p}=uP(e,a),S=(vn,Gn)=>{const Bs=e.createRng();Oe(vn)&&Oe(Gn)?(Bs.setStart(vn,Gn),Bs.setEnd(vn,Gn),xt(Bs),Qe(!1)):(y2(e,Bs,a.getBody(),!0),xt(Bs))},T=vn=>O$(a,vn),H=(vn,Gn)=>X3(a,vn,Gn),J=vn=>xN(a.getBody(),at(),vn),ee=vn=>wN(a.getBody(),at(),vn),re=(vn,Gn)=>uc.getBookmark(vn,Gn),ve=vn=>uc.moveToBookmark(vn),Te=(vn,Gn)=>(W2(e,vn,Gn).each(xt),vn),we=()=>{const vn=at(),Gn=lt();return!vn||vn.item?!1:vn.compareEndPoints?vn.compareEndPoints("StartToEnd",vn)===0:!Gn||vn.collapsed},Me=()=>{const vn=at(),Gn=a.getBody().querySelectorAll('[data-mce-selected="1"]');return Gn.length>0?Po(Gn,Bs=>e.isEditable(Bs.parentElement)):vN(e,vn)},Qe=vn=>{const Gn=at();Gn.collapse(!!vn),xt(Gn)},lt=()=>t.getSelection?t.getSelection():t.document.selection,at=()=>{let vn;const Gn=(Sn,lo,ts)=>{try{return lo.compareBoundaryPoints(Sn,ts)}catch{return-1}},Bs=t.document;if(Oe(a.bookmark)&&!dy(a)){const Sn=wA(a);if(Sn.isSome())return Sn.map(lo=>ES(a,[lo])[0]).getOr(Bs.createRange())}try{const Sn=lt();Sn&&!Wd(Sn.anchorNode)&&(Sn.rangeCount>0?vn=Sn.getRangeAt(0):vn=Bs.createRange(),vn=ES(a,[vn])[0])}catch{}if(vn||(vn=Bs.createRange()),jn(vn.startContainer)&&vn.collapsed){const Sn=e.getRoot();vn.setStart(Sn,0),vn.setEnd(Sn,0)}return c&&m&&(Gn(vn.START_TO_START,vn,c)===0&&Gn(vn.END_TO_END,vn,c)===0?vn=m:(c=null,m=null)),vn},xt=(vn,Gn)=>{if(!e4(vn))return;const Bs=lt();if(vn=a.dispatch("SetSelectionRange",{range:vn,forward:Gn}).range,Bs){m=vn;try{Bs.removeAllRanges(),Bs.addRange(vn)}catch{}Gn===!1&&Bs.extend&&(Bs.collapse(vn.endContainer,vn.endOffset),Bs.extend(vn.startContainer,vn.startOffset)),c=Bs.rangeCount>0?Bs.getRangeAt(0):null}if(!vn.collapsed&&vn.startContainer===vn.endContainer&&(Bs!=null&&Bs.setBaseAndExtent)&&vn.endOffset-vn.startOffset<2&&vn.startContainer.hasChildNodes()){const lo=vn.startContainer.childNodes[vn.startOffset];lo&&lo.nodeName==="IMG"&&(Bs.setBaseAndExtent(vn.startContainer,vn.startOffset,vn.endContainer,vn.endOffset),(Bs.anchorNode!==vn.startContainer||Bs.focusNode!==vn.endContainer)&&Bs.setBaseAndExtent(lo,0,lo,1))}a.dispatch("AfterSetSelectionRange",{range:vn,forward:Gn})},Zt=vn=>(H(e.getOuterHTML(vn)),vn),un=()=>xF(a.getBody(),at()),On=(vn,Gn)=>EA(e,at(),vn,Gn),It=()=>{const vn=lt(),Gn=vn==null?void 0:vn.anchorNode,Bs=vn==null?void 0:vn.focusNode;if(!vn||!Gn||!Bs||Wd(Gn)||Wd(Bs))return!0;const Sn=e.createRng(),lo=e.createRng();try{Sn.setStart(Gn,vn.anchorOffset),Sn.collapse(!0),lo.setStart(Bs,vn.focusOffset),lo.collapse(!0)}catch{return!0}return Sn.compareBoundaryPoints(Sn.START_TO_START,lo)<=0},Ia={dom:e,win:t,serializer:o,editor:a,expand:(vn={type:"word"})=>xt(wb(e).expand(at(),vn)),collapse:Qe,setCursorLocation:S,getContent:T,setContent:H,getBookmark:re,moveToBookmark:ve,select:Te,isCollapsed:we,isEditable:Me,isForward:It,setNode:Zt,getNode:un,getSel:lt,setRng:xt,getRng:at,getStart:J,getEnd:ee,getSelectedBlocks:On,normalize:()=>{const vn=at(),Gn=lt();if(!h2(Gn)&&sy(a)){const Bs=eh(e,vn);return Bs.each(Sn=>{xt(Sn,It())}),Bs.getOr(vn)}return vn},selectorChanged:(vn,Gn)=>(p(vn,Gn),Ia),selectorChangedWithUnbind:p,getScrollContainer:()=>{let vn,Gn=e.getRoot();for(;Gn&&Gn.nodeName!=="BODY";){if(Gn.scrollHeight>Gn.clientHeight){vn=Gn;break}Gn=Gn.parentNode}return vn},scrollIntoView:(vn,Gn)=>{Oe(vn)?bA(a,vn,Gn):of(a,at(),Gn)},placeCaretAt:(vn,Gn)=>xt(KD(vn,Gn,a.getDoc())),getBoundingClientRect:()=>{const vn=at();return vn.collapsed?Et.fromRangeStart(vn).getClientRects()[0]:vn.getBoundingClientRect()},destroy:()=>{t=c=m=null,mr.destroy()}},uc=lr(Ia),mr=tr(Ia,a);return Ia.bookmarkManager=uc,Ia.controlSelection=mr,Ia},dP=(e,t,o)=>{t.addNodeFilter("br",(a,c,m)=>{const p=an.extend({},o.getBlockElements()),S=o.getNonEmptyElements(),T=o.getWhitespaceElements();p.body=1;const H=J=>J.name in p||od(o,J);for(let J=0,ee=a.length;J<ee;J++){let re=a[J],ve=re.parent;if(ve&&H(ve)&&re===ve.lastChild){let Te=re.prev;for(;Te;){const we=Te.name;if(we!=="span"||Te.attr("data-mce-type")!=="bookmark"){we==="br"&&(re=null);break}Te=Te.prev}if(re&&(re.remove(),Cy(o,S,T,ve))){const we=o.getElementRule(ve.name);we&&(we.removeEmpty?ve.remove():we.paddEmpty&&JS(e,m,H,ve))}}else{let Te=re;for(;ve&&ve.firstChild===Te&&ve.lastChild===Te&&(Te=ve,!p[ve.name]);)ve=ve.parent;if(Te===ve){const we=new ml("#text",3);we.value=qa,re.replace(we)}}}})},n4=(e,t,o)=>{e.addAttributeFilter("data-mce-tabindex",(a,c)=>{let m=a.length;for(;m--;){const p=a[m];p.attr("tabindex",p.attr("data-mce-tabindex")),p.attr(c,null)}}),e.addAttributeFilter("src,href,style",(a,c)=>{const m="data-mce-"+c,p=t.url_converter,S=t.url_converter_scope;let T=a.length;for(;T--;){const H=a[T];let J=H.attr(m);J!==void 0?(H.attr(c,J.length>0?J:null),H.attr(m,null)):(J=H.attr(c),c==="style"?J=o.serializeStyle(o.parseStyle(J),H.name):p&&(J=p.call(S,J,c,H.name)),H.attr(c,J.length>0?J:null))}}),e.addAttributeFilter("class",a=>{let c=a.length;for(;c--;){const m=a[c];let p=m.attr("class");p&&(p=p.replace(/(?:^|\s)mce-item-\w+(?!\S)/g,""),m.attr("class",p.length>0?p:null))}}),e.addAttributeFilter("data-mce-type",(a,c,m)=>{let p=a.length;for(;p--;){const S=a[p];S.attr("data-mce-type")==="bookmark"&&!m.cleanup&&(te.from(S.firstChild).exists(H=>{var J;return!$u((J=H.value)!==null&&J!==void 0?J:"")})?S.unwrap():S.remove())}}),e.addNodeFilter("script,style",(a,c)=>{var m;const p=T=>T.replace(/(<!--\[CDATA\[|\]\]-->)/g,`
`).replace(/^[\r\n]*|[\r\n]*$/g,"").replace(/^\s*((<!--)?(\s*\/\/)?\s*<!\[CDATA\[|(<!--\s*)?\/\*\s*<!\[CDATA\[\s*\*\/|(\/\/)?\s*<!--|\/\*\s*<!--\s*\*\/)\s*[\r\n]*/gi,"").replace(/\s*(\/\*\s*\]\]>\s*\*\/(-->)?|\s*\/\/\s*\]\]>(-->)?|\/\/\s*(-->)?|\]\]>|\/\*\s*-->\s*\*\/|\s*-->\s*)\s*$/g,"");let S=a.length;for(;S--;){const T=a[S],H=T.firstChild,J=(m=H==null?void 0:H.value)!==null&&m!==void 0?m:"";if(c==="script"){const ee=T.attr("type");ee&&T.attr("type",ee==="mce-no/type"?null:ee.replace(/^mce\-/,"")),t.element_format==="xhtml"&&H&&J.length>0&&(H.value=`// <![CDATA[
`+p(J)+`
// ]]>`)}else t.element_format==="xhtml"&&H&&J.length>0&&(H.value=`<!--
`+p(J)+`
-->`)}}),e.addNodeFilter("#comment",a=>{let c=a.length;for(;c--;){const m=a[c],p=m.value;t.preserve_cdata&&(p==null?void 0:p.indexOf("[CDATA["))===0?(m.name="#cdata",m.type=4,m.value=o.decode(p.replace(/^\[CDATA\[|\]\]$/g,""))):(p==null?void 0:p.indexOf("mce:protected "))===0&&(m.name="#text",m.type=3,m.raw=!0,m.value=unescape(p).substr(14))}}),e.addNodeFilter("xml:namespace,input",(a,c)=>{let m=a.length;for(;m--;){const p=a[m];p.type===7?p.remove():p.type===1&&c==="input"&&!p.attr("type")&&p.attr("type","text")}}),e.addAttributeFilter("data-mce-type",a=>{ye(a,c=>{c.attr("data-mce-type")==="format-caret"&&(c.isEmpty(e.schema.getNonEmptyElements())?c.remove():c.unwrap())})}),e.addAttributeFilter("data-mce-src,data-mce-href,data-mce-style,data-mce-selected,data-mce-expando,data-mce-block,data-mce-type,data-mce-resize,data-mce-placeholder",(a,c)=>{let m=a.length;for(;m--;)a[m].attr(c,null)}),t.remove_trailing_brs&&dP(t,e,e.schema)},D$=e=>{const t=a=>(a==null?void 0:a.name)==="br",o=e.lastChild;if(t(o)){const a=o.prev;t(a)&&(o.remove(),a.remove())}},fP=(e,t,o)=>{let a;const c=e.dom;let m=t.cloneNode(!0);const p=document.implementation;if(p.createHTMLDocument){const S=p.createHTMLDocument("");an.each(m.nodeName==="BODY"?m.childNodes:[m],T=>{S.body.appendChild(S.importNode(T,!0))}),m.nodeName!=="BODY"?m=S.body.firstChild:m=S.body,a=c.doc,c.doc=S}return E2(e,{...o,node:m}),a&&(c.doc=a),m},mP=(e,t)=>Oe(e)&&e.hasEventListeners("PreProcess")&&!t.no_events,gP=(e,t,o)=>mP(e,o)?fP(e,t,o):t,N$=(e,t,o)=>{an.inArray(t,o)===-1&&(e.addAttributeFilter(o,(a,c)=>{let m=a.length;for(;m--;)a[m].attr(c,null)}),t.push(o))},I$=(e,t,o)=>!t.no_events&&e?A2(e,{...t,content:o}).content:o,$_=(e,t,o)=>{const a=rc(o.getInner?t.innerHTML:e.getOuterHTML(t));return o.selection||Fv(Ke.fromDom(t))?a:an.trim(a)},hP=(e,t,o)=>{const a=o.selection?{forced_root_block:!1,...o}:o,c=e.parse(t,a);return D$(c),c},pP=(e,t,o)=>hp(e,t).serialize(o),bP=(e,t,o,a,c)=>{const m=pP(t,o,a);return I$(e,c,m)},P$=(e,t)=>{const o=["data-mce-selected"],a={entity_encoding:"named",remove_trailing_brs:!0,pad_empty_with_br:!1,...e},c=t&&t.dom?t.dom:dr.DOM,m=t&&t.schema?t.schema:Bu(a),p=Ty(a,m);n4(p,a,c);const S=(T,H={})=>{const J={format:"html",...H},ee=gP(t,T,J),re=$_(c,ee,J),ve=hP(p,re,J);return J.format==="tree"?ve:bP(t,a,m,ve,J)};return{schema:m,addNodeFilter:p.addNodeFilter,addAttributeFilter:p.addAttributeFilter,serialize:S,addRules:m.addValidElements,setRules:m.setValidElements,addTempAttr:ot(N$,p,o),getTempAttrs:ct(o),getNodeFilters:p.getNodeFilters,getAttributeFilters:p.getAttributeFilters,removeNodeFilter:p.removeNodeFilter,removeAttributeFilter:p.removeAttributeFilter}},vP=(e,t)=>{const o=P$(e,t);return{schema:o.schema,addNodeFilter:o.addNodeFilter,addAttributeFilter:o.addAttributeFilter,serialize:o.serialize,addRules:o.addRules,setRules:o.setRules,addTempAttr:o.addTempAttr,getTempAttrs:o.getTempAttrs,getNodeFilters:o.getNodeFilters,getAttributeFilters:o.getAttributeFilters,removeNodeFilter:o.removeNodeFilter,removeAttributeFilter:o.removeAttributeFilter}},B$="html",M$=(e,t)=>({...e,format:t,get:!0,getInner:!0}),yP=(e,t={})=>{const o=t.format?t.format:B$,a=M$(t,o);return M5(e,a).fold(Tn,c=>{const m=rP(e,c);return fm(e,m,c)})},xP="html",wP=(e,t)=>({format:xP,...e,set:!0,content:t}),o4=(e,t,o={})=>{const a=wP(o,t);return O3(e,a).map(c=>{const m=G3(e,c.content,c);return R3(e,m.html,c),m.content}).getOr(t)},L$="autoresize_on_init,content_editable_state,padd_empty_with_br,block_elements,boolean_attributes,editor_deselector,editor_selector,elements,file_browser_callback_types,filepicker_validator_handler,force_hex_style_colors,force_p_newlines,gecko_spellcheck,images_dataimg_filter,media_scripts,mode,move_caret_before_on_enter_elements,non_empty_elements,self_closing_elements,short_ended_elements,special,spellchecker_select_languages,spellchecker_whitelist,tab_focus,tabfocus_elements,table_responsive_width,text_block_elements,text_inline_elements,toolbar_drawer,types,validate,whitespace_elements,paste_enable_default_filters,paste_filter_drop,paste_word_valid_elements,paste_retain_style_properties,paste_convert_word_fake_lists,template_cdate_classes,template_mdate_classes,template_selected_content_classes,template_preview_replace_values,template_replace_values,templates,template_cdate_format,template_mdate_format".split(","),F$=[],$$="bbcode,colorpicker,contextmenu,fullpage,legacyoutput,spellchecker,template,textcolor,rtc".split(","),ww=[],s4=(e,t)=>{const o=Ye(t,a=>ho(e,a));return ms(o)},V$=e=>{const t=s4(e,L$),o=e.forced_root_block;return(o===!1||o==="")&&t.push("forced_root_block (false only)"),ms(t)},CP=e=>s4(e,F$),r4=(e,t)=>{const o=an.makeMap(e.plugins," "),c=Ye(t,m=>ho(o,m));return ms(c)},a4=e=>r4(e,$$),SP=e=>r4(e,ww.map(t=>t.name)),_P=(e,t)=>{const o=V$(e),a=a4(t),c=a.length>0,m=o.length>0,p=t.theme==="mobile";if(c||m||p){const S=`
- `,T=p?`

Themes:${S}mobile`:"",H=c?`

Plugins:${S}${a.join(S)}`:"",J=m?`

Options:${S}${o.join(S)}`:"";console.warn("The following deprecated features are currently enabled and have been removed in TinyMCE 7.0. These features will no longer work and should be removed from the TinyMCE configuration. See https://www.tiny.cloud/docs/tinymce/7/migration-from-6x/ for more information."+T+H+J)}},kP=e=>Nn(ww,t=>t.name===e).fold(()=>e,t=>t.replacedWith?`${e}, replaced by ${t.replacedWith}`:e),H$=(e,t)=>{const o=CP(e),a=SP(t),c=a.length>0,m=o.length>0;if(c||m){const p=`
- `,S=c?`

Plugins:${p}${a.map(kP).join(p)}`:"",T=m?`

Options:${p}${o.join(p)}`:"";console.warn("The following deprecated features are currently enabled but will be removed soon."+S+T)}},z$=(e,t)=>{_P(e,t),H$(e,t)},Fb=dr.DOM,U$=e=>{Fb.setStyle(e.id,"display",e.orgDisplay)},Cw=e=>te.from(e).each(t=>t.destroy()),V_=e=>{const t=e;t.contentAreaContainer=t.formElement=t.container=t.editorContainer=null,t.bodyElement=t.contentDocument=t.contentWindow=null,t.iframeElement=t.targetElm=null;const o=e.selection;if(o){const a=o.dom;t.selection=o.win=o.dom=a.doc=null}},EP=e=>{const t=e.formElement;t&&(t._mceOldSubmit&&(t.submit=t._mceOldSubmit,delete t._mceOldSubmit),Fb.unbind(t,"submit reset",e.formEventDelegate))},AP=e=>{if(!e.removed){const{_selectionOverrides:t,editorUpload:o}=e,a=e.getBody(),c=e.getElement();a&&e.save({is_removing:!0}),e.removed=!0,e.unbindAllNativeEvents(),e.hasHiddenInput&&Oe(c==null?void 0:c.nextSibling)&&Fb.remove(c.nextSibling),T2(e),e.editorManager.remove(e),!e.inline&&a&&U$(e),O2(e),Fb.remove(e.getContainer()),Cw(t),Cw(o),e.destroy()}},W$=(e,t)=>{const{selection:o,dom:a}=e;if(!e.destroyed){if(!t&&!e.removed){e.remove();return}t||(e.editorManager.off("beforeunload",e._beforeUnload),e.theme&&e.theme.destroy&&e.theme.destroy(),Cw(o),Cw(a)),EP(e),V_(e),e.destroyed=!0}},Sw=(()=>{const e={};return{add:(c,m)=>{e[c]=m},get:c=>e[c]?e[c]:{icons:{}},has:c=>ho(e,c)}})(),$b=Hl.ModelManager,_w=(e,t)=>t.dom[e],i4=(e,t)=>parseInt(Ir(t,e),10),l4=ot(_w,"clientWidth"),TP=ot(_w,"clientHeight"),j$=ot(i4,"margin-top"),OP=ot(i4,"margin-left"),Z$=e=>e.dom.getBoundingClientRect(),RP=(e,t,o)=>{const a=l4(e),c=TP(e);return t>=0&&o>=0&&t<=a&&o<=c},DP=(e,t,o,a)=>{const c=Z$(t),m=e?c.left+t.dom.clientLeft+OP(t):0,p=e?c.top+t.dom.clientTop+j$(t):0,S=o-m,T=a-p;return{x:S,y:T}},K$=(e,t,o)=>{const a=Ke.fromDom(e.getBody()),c=e.inline?a:Jc(a),m=DP(e.inline,c,t,o);return RP(c,m.x,m.y)},NP=e=>te.from(e).map(Ke.fromDom),c4=e=>{const t=e.inline?e.getBody():e.getContentAreaContainer();return NP(t).map(wi).getOr(!1)};var IP=()=>{const e=()=>{throw new Error("Theme did not provide a NotificationManager implementation.")};return{open:e,close:e,getArgs:e}};const u4=e=>{const t=[],o=()=>{const re=e.theme;return re&&re.getNotificationManagerImpl?re.getNotificationManagerImpl():IP()},a=()=>te.from(t[0]),c=(re,ve)=>re.type===ve.type&&re.text===ve.text&&!re.progressBar&&!re.timeout&&!ve.progressBar&&!ve.timeout,m=()=>{a().each(re=>{re.reposition()})},p=re=>{t.push(re)},S=re=>{no(t,ve=>ve===re).each(ve=>{t.splice(ve,1)})},T=(re,ve=!0)=>e.removed||!c4(e)?{}:(ve&&e.dispatch("BeforeOpenNotification",{notification:re}),Nn(t,Te=>c(o().getArgs(Te),re)).getOrThunk(()=>{e.editorManager.setActive(e);const Te=o().open(re,()=>{S(Te)},()=>g0(e));return p(Te),m(),e.dispatch("OpenNotification",{notification:{...Te}}),Te})),H=()=>{a().each(re=>{o().close(re),S(re),m()})},J=ct(t);return(re=>{re.on("SkinLoaded",()=>{const ve=t8(re);ve&&T({text:ve,type:"warning",timeout:0},!1),m()}),re.on("show ResizeEditor ResizeWindow NodeChange ToggleView FullscreenStateChanged",()=>{requestAnimationFrame(m)}),re.on("remove",()=>{ye(t.slice(),ve=>{o().close(ve)})}),re.addShortcut("alt+F12","Focus to notification",()=>a().map(ve=>Ke.fromDom(ve.getEl())).each(ve=>vA(ve)))})(e),{open:T,close:H,getNotifications:J}},D0=Hl.PluginManager,Vb=Hl.ThemeManager;var q$=()=>{const e=()=>{throw new Error("Theme did not provide a WindowManager implementation.")};return{open:e,openUrl:e,alert:e,confirm:e,close:e}};const PP=e=>{let t=[];const o=()=>{const we=e.theme;return we&&we.getWindowManagerImpl?we.getWindowManagerImpl():q$()},a=(we,Me)=>(...Qe)=>Me?Me.apply(we,Qe):void 0,c=we=>{e.dispatch("OpenWindow",{dialog:we})},m=we=>{e.dispatch("CloseWindow",{dialog:we})},p=we=>{t.push(we),c(we)},S=we=>{m(we),t=Ye(t,Me=>Me!==we),t.length===0&&e.focus()},T=()=>te.from(t[t.length-1]),H=we=>{e.editorManager.setActive(e),uy(e),e.ui.show();const Me=we();return p(Me),Me},J=(we,Me)=>H(()=>o().open(we,Me,S)),ee=we=>H(()=>o().openUrl(we,S)),re=(we,Me,Qe)=>{const lt=o();lt.alert(we,a(Qe||lt,Me))},ve=(we,Me,Qe)=>{const lt=o();lt.confirm(we,a(Qe||lt,Me))},Te=()=>{T().each(we=>{o().close(we),S(we)})};return e.on("remove",()=>{ye(t,we=>{o().close(we)})}),{open:J,openUrl:ee,alert:re,confirm:ve,close:Te}},H_=(e,t)=>{e.notificationManager.open({type:"error",text:t})},z_=(e,t)=>{e._skinLoaded?H_(e,t):e.on("SkinLoaded",()=>{H_(e,t)})},BP=(e,t)=>{z_(e,Mu.translate(["Failed to upload image: {0}",t]))},Iy=(e,t,o)=>{oA(e,t,{message:o}),console.error(o)},N0=(e,t,o)=>o?`Failed to load ${e}: ${o} from url ${t}`:`Failed to load ${e} url: ${t}`,d4=(e,t,o)=>{Iy(e,"PluginLoadError",N0("plugin",t,o))},f4=(e,t,o)=>{Iy(e,"IconsLoadError",N0("icons",t,o))},G$=(e,t,o)=>{Iy(e,"LanguageLoadError",N0("language",t,o))},MP=(e,t,o)=>{Iy(e,"ThemeLoadError",N0("theme",t,o))},Y$=(e,t,o)=>{Iy(e,"ModelLoadError",N0("model",t,o))},X$=(e,t,o)=>{const a=Mu.translate(["Failed to initialize plugin: {0}",t]);oA(e,"PluginLoadError",{message:a}),kw(a,o),z_(e,a)},kw=(e,...t)=>{const o=window.console;o&&(o.error?o.error(e,...t):o.log(e,...t))},m4=e=>/^[a-z0-9\-]+$/i.test(e),g4=e=>"content/"+e+"/content.css",U_=e=>tinymce.Resource.has(g4(e)),J$=e=>LP(e,pc(e)),Q$=e=>LP(e,xR(e)),LP=(e,t)=>{const o=e.editorManager.baseURL+"/skins/content",c=`content${e.editorManager.suffix}.css`;return Ue(t,m=>U_(m)?m:m4(m)&&!e.inline?`${o}/${m}/${c}`:e.documentBaseURI.toAbsolute(m))},FP=e=>{e.contentCSS=e.contentCSS.concat(J$(e),Q$(e))},$P=e=>e?Do(e.getElementsByTagName("img")):[],eV=(e,t)=>{const o={};return{findAll:(c,m=Gt)=>{const p=Ye($P(c),T=>{const H=T.src;return T.hasAttribute("data-mce-bogus")||T.hasAttribute("data-mce-placeholder")||!H||H===qo.transparentSrc?!1:hr(H,"blob:")?!e.isUploaded(H)&&m(T):hr(H,"data:")?m(T):!1}),S=Ue(p,T=>{const H=T.src;if(ho(o,H))return o[H].then(J=>le(J)?J:{image:T,blobInfo:J.blobInfo});{const J=i3(t,H).then(ee=>(delete o[H],{image:T,blobInfo:ee})).catch(ee=>(delete o[H],ee));return o[H]=J,J}});return Promise.all(S)}}},h4=()=>{let o={};const a=(re,ve)=>({status:re,resultUri:ve}),c=re=>re in o;return{hasBlobUri:c,getResultUri:re=>{const ve=o[re];return ve?ve.resultUri:null},isPending:re=>c(re)?o[re].status===1:!1,isUploaded:re=>c(re)?o[re].status===2:!1,markPending:re=>{o[re]=a(1,null)},markUploaded:(re,ve)=>{o[re]=a(2,ve)},removeFailed:re=>{delete o[re]},destroy:()=>{o={}}}};let Ew=0;const VP=()=>{const e=()=>Math.round(sc()*4294967295).toString(36);return"s"+new Date().getTime().toString(36)+e()+e()+e()},tV=e=>e+Ew+++VP(),HP=()=>{let e=[];const t=ee=>({"image/jpeg":"jpg","image/jpg":"jpg","image/gif":"gif","image/png":"png","image/apng":"apng","image/avif":"avif","image/svg+xml":"svg","image/webp":"webp","image/bmp":"bmp","image/tiff":"tiff"})[ee.toLowerCase()]||"dat",o=(ee,re,ve,Te,we)=>{if(le(ee))return a({id:ee,name:Te,filename:we,blob:re,base64:ve});if(q(ee))return a(ee);throw new Error("Unknown input type")},a=ee=>{if(!ee.blob||!ee.base64)throw new Error("blob and base64 representations of the image are required for BlobInfo to be created");const re=ee.id||tV("blobid"),ve=ee.name||re,Te=ee.blob;return{id:ct(re),name:ct(ve),filename:ct(ee.filename||ve+"."+t(Te.type)),blob:ct(Te),base64:ct(ee.base64),blobUri:ct(ee.blobUri||URL.createObjectURL(Te)),uri:ct(ee.uri)}},c=ee=>{p(ee.id())||e.push(ee)},m=ee=>Nn(e,ee).getOrUndefined(),p=ee=>m(re=>re.id()===ee);return{create:o,add:c,get:p,getByUri:ee=>m(re=>re.blobUri()===ee),getByData:(ee,re)=>m(ve=>ve.base64()===ee&&ve.blob().type===re),findFirst:m,removeByUri:ee=>{e=Ye(e,re=>re.blobUri()===ee?(URL.revokeObjectURL(re.blobUri()),!1):!0)},destroy:()=>{ye(e,ee=>{URL.revokeObjectURL(ee.blobUri())}),e=[]}}},zP=(e,t)=>{const o={},a=(we,Me)=>we?we.replace(/\/$/,"")+"/"+Me.replace(/^\//,""):Me,c=(we,Me)=>new Promise((Qe,lt)=>{const at=new XMLHttpRequest;at.open("POST",t.url),at.withCredentials=t.credentials,at.upload.onprogress=Zt=>{Me(Zt.loaded/Zt.total*100)},at.onerror=()=>{lt("Image upload failed due to a XHR Transport error. Code: "+at.status)},at.onload=()=>{if(at.status<200||at.status>=300){lt("HTTP Error: "+at.status);return}const Zt=JSON.parse(at.responseText);if(!Zt||!le(Zt.location)){lt("Invalid JSON: "+at.responseText);return}Qe(a(t.basePath,Zt.location))};const xt=new FormData;xt.append("file",we.blob(),we.filename()),at.send(xt)}),m=Ve(t.handler)?t.handler:c,p=()=>new Promise(we=>{we([])}),S=(we,Me)=>({url:Me,blobInfo:we,status:!0}),T=(we,Me)=>({url:"",blobInfo:we,status:!1,error:Me}),H=(we,Me)=>{an.each(o[we],Qe=>{Qe(Me)}),delete o[we]},J=(we,Me,Qe)=>(e.markPending(we.blobUri()),new Promise(lt=>{let at,xt;try{const Zt=()=>{at&&(at.close(),xt=Nt)},un=It=>{Zt(),e.markUploaded(we.blobUri(),It),H(we.blobUri(),S(we,It)),lt(S(we,It))},On=It=>{Zt(),e.removeFailed(we.blobUri()),H(we.blobUri(),T(we,It)),lt(T(we,It))};xt=It=>{It<0||It>100||te.from(at).orThunk(()=>te.from(Qe).map(Dn)).each(_t=>{at=_t,_t.progressBar.value(It)})},Me(we,xt).then(un,It=>{On(le(It)?{message:It}:It)})}catch(Zt){lt(T(we,Zt))}})),ee=we=>we===c,re=we=>{const Me=we.blobUri();return new Promise(Qe=>{o[Me]=o[Me]||[],o[Me].push(Qe)})},ve=(we,Me)=>(we=an.grep(we,Qe=>!e.isUploaded(Qe.blobUri())),Promise.all(an.map(we,Qe=>e.isPending(Qe.blobUri())?re(Qe):J(Qe,m,Me))));return{upload:(we,Me)=>!t.url&&ee(m)?p():ve(we,Me)}},UP=e=>()=>e.notificationManager.open({text:e.translate("Image uploading..."),type:"info",timeout:-1,progressBar:!0}),WP=(e,t)=>zP(t,{url:yE(e),basePath:bR(e),credentials:xE(e),handler:JL(e)}),nV=e=>{const t=h4(),o=WP(e,t);return{upload:(a,c=!0)=>o.upload(a,c?UP(e):void 0)}},oV=(e,t)=>e.dom.isEmpty(t.dom)&&Oe(e.schema.getTextBlockElements()[ls(t)]),jP=e=>t=>{oV(e,t)&&Pr(t,Ke.fromHtml('<br data-mce-bogus="1" />'))},p4=e=>{const t=HP();let o,a;const c=h4(),m=[],p=at=>xt=>e.selection?at(xt):[],S=at=>at+(at.indexOf("?")===-1?"?":"&")+new Date().getTime(),T=(at,xt,Zt)=>{let un=0;do un=at.indexOf(xt,un),un!==-1&&(at=at.substring(0,un)+Zt+at.substr(un+xt.length),un+=Zt.length-xt.length+1);while(un!==-1);return at},H=(at,xt,Zt)=>{const un=`src="${Zt}"${Zt===qo.transparentSrc?' data-mce-placeholder="1"':""}`;return at=T(at,`src="${xt}"`,un),at=T(at,'data-mce-src="'+xt+'"','data-mce-src="'+Zt+'"'),at},J=(at,xt)=>{ye(e.undoManager.data,Zt=>{Zt.type==="fragmented"?Zt.fragments=Ue(Zt.fragments,un=>H(un,at,xt)):Zt.content=H(Zt.content,at,xt)})},ee=(at,xt)=>{const Zt=e.convertURL(xt,"src");J(at.src,xt),Mi(Ke.fromDom(at),{src:lp(e)?S(xt):xt,"data-mce-src":Zt})},re=()=>(o||(o=WP(e,c)),Me().then(p(at=>{const xt=Ue(at,Zt=>Zt.blobInfo);return o.upload(xt,UP(e)).then(p(Zt=>{const un=[];let On=!1;const It=Ue(Zt,(_t,Ut)=>{const{blobInfo:$n,image:Jn}=at[Ut];let Jo=!1;return _t.status&&hR(e)?(_t.url&&!Ns(Jn.src,_t.url)&&(On=!0),t.removeByUri(Jn.src),fh(e)||ee(Jn,_t.url)):_t.error&&(_t.error.remove&&(J(Jn.src,qo.transparentSrc),un.push(Jn),Jo=!0),BP(e,_t.error.message)),{element:Jn,status:_t.status,uploadUri:_t.url,blobInfo:$n,removed:Jo}});return un.length>0&&!fh(e)?e.undoManager.transact(()=>{ye(kl(un),_t=>{const Ut=Ka(_t);Ps(_t),Ut.each(jP(e)),t.removeByUri(_t.dom.src)})}):On&&e.undoManager.dispatchChange(),It}))}))),ve=()=>fr(e)?re():Promise.resolve([]),Te=at=>Po(m,xt=>xt(at)),we=at=>{m.push(at)},Me=()=>(a||(a=eV(c,t)),a.findAll(e.getBody(),Te).then(p(at=>{const xt=Ye(at,Zt=>le(Zt)?(z_(e,Zt),!1):Zt.uriType!=="blob");return fh(e)||ye(xt,Zt=>{J(Zt.image.src,Zt.blobInfo.blobUri()),Zt.image.src=Zt.blobInfo.blobUri(),Zt.image.removeAttribute("data-mce-src")}),xt}))),Qe=()=>{t.destroy(),c.destroy(),a=o=null},lt=at=>at.replace(/src="(blob:[^"]+)"/g,(xt,Zt)=>{const un=c.getResultUri(Zt);if(un)return'src="'+un+'"';let On=t.getByUri(Zt);return On||(On=fn(e.editorManager.get(),(It,_t)=>It||_t.editorUpload&&_t.editorUpload.blobCache.getByUri(Zt),void 0)),On?'src="data:'+On.blob().type+";base64,"+On.base64()+'"':xt});return e.on("SetContent",()=>{fr(e)?ve():Me()}),e.on("RawSaveContent",at=>{at.content=lt(at.content)}),e.on("GetContent",at=>{at.source_view||at.format==="raw"||at.format==="tree"||(at.content=lt(at.content))}),e.on("PostRender",()=>{e.parser.addNodeFilter("img",at=>{ye(at,xt=>{const Zt=xt.attr("src");if(!Zt||t.getByUri(Zt))return;const un=c.getResultUri(Zt);un&&xt.attr("src",un)})})}),{blobCache:t,addFilter:we,uploadImages:re,uploadImagesAuto:ve,scanForImages:Me,destroy:Qe}},ZP=e=>{const t=e.dom,o=e.schema.type,a={valigntop:[{selector:"td,th",styles:{verticalAlign:"top"}}],valignmiddle:[{selector:"td,th",styles:{verticalAlign:"middle"}}],valignbottom:[{selector:"td,th",styles:{verticalAlign:"bottom"}}],alignleft:[{selector:"figure.image",collapsed:!1,classes:"align-left",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"left"},inherit:!1,preview:!1},{selector:"img,audio,video",collapsed:!1,styles:{float:"left"},preview:"font-family font-size"},{selector:"table",collapsed:!1,styles:{marginLeft:"0px",marginRight:"auto"},onformat:c=>{t.setStyle(c,"float",null)},preview:"font-family font-size"},{selector:".mce-preview-object,[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{float:"left"}}],aligncenter:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"center"},inherit:!1,preview:"font-family font-size"},{selector:"figure.image",collapsed:!1,classes:"align-center",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"img,audio,video",collapsed:!1,styles:{display:"block",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"table",collapsed:!1,styles:{marginLeft:"auto",marginRight:"auto"},preview:"font-family font-size"},{selector:".mce-preview-object",ceFalseOverride:!0,styles:{display:"table",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{marginLeft:"auto",marginRight:"auto"},preview:!1}],alignright:[{selector:"figure.image",collapsed:!1,classes:"align-right",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"right"},inherit:!1,preview:"font-family font-size"},{selector:"img,audio,video",collapsed:!1,styles:{float:"right"},preview:"font-family font-size"},{selector:"table",collapsed:!1,styles:{marginRight:"0px",marginLeft:"auto"},onformat:c=>{t.setStyle(c,"float",null)},preview:"font-family font-size"},{selector:".mce-preview-object,[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{float:"right"},preview:!1}],alignjustify:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"justify"},inherit:!1,preview:"font-family font-size"}],bold:[{inline:"strong",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontWeight:"bold"}},{inline:"b",remove:"all",preserve_attributes:["class","style"]}],italic:[{inline:"em",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontStyle:"italic"}},{inline:"i",remove:"all",preserve_attributes:["class","style"]}],underline:[{inline:"span",styles:{textDecoration:"underline"},exact:!0},{inline:"u",remove:"all",preserve_attributes:["class","style"]}],strikethrough:(()=>{const c={inline:"span",styles:{textDecoration:"line-through"},exact:!0},m={inline:"strike",remove:"all",preserve_attributes:["class","style"]},p={inline:"s",remove:"all",preserve_attributes:["class","style"]};return o!=="html4"?[p,c,m]:[c,p,m]})(),forecolor:{inline:"span",styles:{color:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},hilitecolor:{inline:"span",styles:{backgroundColor:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},fontname:{inline:"span",toggle:!1,styles:{fontFamily:"%value"},clear_child_styles:!0},fontsize:{inline:"span",toggle:!1,styles:{fontSize:"%value"},clear_child_styles:!0},lineheight:{selector:"h1,h2,h3,h4,h5,h6,p,li,td,th,div",styles:{lineHeight:"%value"}},fontsize_class:{inline:"span",attributes:{class:"%value"}},blockquote:{block:"blockquote",wrapper:!0,remove:"all"},subscript:{inline:"sub"},superscript:{inline:"sup"},code:{inline:"code"},link:{inline:"a",selector:"a",remove:"all",split:!0,deep:!0,onmatch:(c,m,p)=>Vn(c)&&c.hasAttribute("href"),onformat:(c,m,p)=>{an.each(p,(S,T)=>{t.setAttrib(c,T,S)})}},lang:{inline:"span",clear_child_styles:!0,remove_similar:!0,attributes:{lang:"%value","data-mce-lang":c=>{var m;return(m=c==null?void 0:c.customValue)!==null&&m!==void 0?m:null}}},removeformat:[{selector:"b,strong,em,i,font,u,strike,s,sub,sup,dfn,code,samp,kbd,var,cite,mark,q,del,ins,small",remove:"all",split:!0,expand:!1,block_expand:!0,deep:!0},{selector:"span",attributes:["style","class"],remove:"empty",split:!0,expand:!1,deep:!0},{selector:"*",attributes:["style","class"],split:!1,expand:!1,deep:!0}]};return an.each("p h1 h2 h3 h4 h5 h6 div address pre dt dd samp".split(/\s/),c=>{a[c]={block:c,remove:"all"}}),a},b4={remove_similar:!0,inherit:!1},I0={selector:"td,th",...b4},KP={tablecellbackgroundcolor:{styles:{backgroundColor:"%value"},...I0},tablecellverticalalign:{styles:{"vertical-align":"%value"},...I0},tablecellbordercolor:{styles:{borderColor:"%value"},...I0},tablecellclass:{classes:["%value"],...I0},tableclass:{selector:"table",classes:["%value"],...b4},tablecellborderstyle:{styles:{borderStyle:"%value"},...I0},tablecellborderwidth:{styles:{borderWidth:"%value"},...I0}},sV=ct(KP),v4=e=>{const t={},o=p=>Oe(p)?t[p]:t,a=p=>ho(t,p),c=(p,S)=>{p&&(le(p)?(ne(S)||(S=[S]),ye(S,T=>{Ze(T.deep)&&(T.deep=!zu(T)),Ze(T.split)&&(T.split=!zu(T)||Gi(T)),Ze(T.remove)&&zu(T)&&!Gi(T)&&(T.remove="none"),zu(T)&&Gi(T)&&(T.mixed=!0,T.block_expand=!0),le(T.classes)&&(T.classes=T.classes.split(/\s+/))}),t[p]=S):Vo(p,(T,H)=>{c(H,T)}))},m=p=>(p&&t[p]&&delete t[p],t);return c(ZP(e)),c(sV()),c(o8(e)),{get:o,has:a,register:c,unregister:m}},P0=an.each,uu=dr.DOM,rg=e=>Oe(e)&&q(e),Aw=(e,t)=>{const o=t&&t.schema||Bu({}),a=(T,H)=>{H.classes.length>0&&uu.addClass(T,H.classes.join(" ")),uu.setAttribs(T,H.attrs)},c=T=>{const H=le(T)?{name:T,classes:[],attrs:{}}:T,J=uu.create(H.name);return a(J,H),J},m=(T,H)=>{const J=o.getElementRule(T.nodeName.toLowerCase()),ee=J==null?void 0:J.parentsRequired;return ee&&ee.length?H&&xe(ee,H)?H:ee[0]:!1},p=(T,H,J)=>{let ee;const re=H[0],ve=rg(re)?re.name:void 0,Te=m(T,ve);if(Te)ve===Te?(ee=re,H=H.slice(1)):ee=Te;else if(re)ee=re,H=H.slice(1);else if(!J)return T;const we=ee?c(ee):uu.create("div");we.appendChild(T),J&&an.each(J,Qe=>{const lt=c(Qe);we.insertBefore(lt,T)});const Me=rg(ee)?ee.siblings:void 0;return p(we,H,Me)},S=uu.create("div");if(e.length>0){const T=e[0],H=c(T),J=rg(T)?T.siblings:void 0;S.appendChild(p(H,e.slice(1),J))}return S},Py=e=>{e=an.trim(e);let t="div";const o={name:t,classes:[],attrs:{},selector:e};return e!=="*"&&(t=e.replace(/(?:([#\.]|::?)([\w\-]+)|(\[)([^\]]+)\]?)/g,(a,c,m,p,S)=>{switch(c){case"#":o.attrs.id=m;break;case".":o.classes.push(m);break;case":":an.inArray("checked disabled enabled read-only required".split(" "),m)!==-1&&(o.attrs[m]=m);break}if(p==="["){const T=S.match(/([\w\-]+)(?:\=\"([^\"]+))?/);T&&(o.attrs[T[1]]=T[2])}return""})),o.name=t||"div",o},qP=e=>le(e)?(e=e.split(/\s*,\s*/)[0],e=e.replace(/\s*(~\+|~|\+|>)\s*/g,"$1"),an.map(e.split(/(?:>|\s+(?![^\[\]]+\]))/),t=>{const o=an.map(t.split(/(?:~\+|~|\+)/),Py),a=o.pop();return o.length&&(a.siblings=o),a}).reverse()):[],GP=(e,t)=>{let o="",a=s8(e);if(a==="")return"";const c=re=>le(re)?re.replace(/%(\w+)/g,""):"",m=(re,ve)=>uu.getStyle(ve??e.getBody(),re,!0);if(le(t)){const re=e.formatter.get(t);if(!re)return"";t=re[0]}if("preview"in t){const re=t.preview;if(re===!1)return"";a=re||a}let p=t.block||t.inline||"span",S;const T=qP(t.selector);T.length>0?(T[0].name||(T[0].name=p),p=t.selector,S=Aw(T,e)):S=Aw([p],e);const H=uu.select(p,S)[0]||S.firstChild;P0(t.styles,(re,ve)=>{const Te=c(re);Te&&uu.setStyle(H,ve,Te)}),P0(t.attributes,(re,ve)=>{const Te=c(re);Te&&uu.setAttrib(H,ve,Te)}),P0(t.classes,re=>{const ve=c(re);uu.hasClass(H,ve)||uu.addClass(H,ve)}),e.dispatch("PreviewFormats"),uu.setStyles(S,{position:"absolute",left:-65535}),e.getBody().appendChild(S);const J=m("fontSize"),ee=/px$/.test(J)?parseInt(J,10):0;return P0(a.split(" "),re=>{let ve=m(re,H);if(!(re==="background-color"&&/transparent|rgba\s*\([^)]+,\s*0\)/.test(ve)&&(ve=m(re),_v(ve).toLowerCase()==="#ffffff"))&&!(re==="color"&&_v(ve).toLowerCase()==="#000000")){if(re==="font-size"&&/em|%$/.test(ve)){if(ee===0)return;ve=parseFloat(ve)/(/%$/.test(ve)?100:1)*ee+"px"}re==="border"&&ve&&(o+="padding:0 2px;"),o+=re+":"+ve+";"}}),e.dispatch("AfterPreviewFormats"),uu.remove(S),o},y4=e=>{e.addShortcut("meta+b","","Bold"),e.addShortcut("meta+i","","Italic"),e.addShortcut("meta+u","","Underline");for(let t=1;t<=6;t++)e.addShortcut("access+"+t,"",["FormatBlock",!1,"h"+t]);e.addShortcut("access+7","",["FormatBlock",!1,"p"]),e.addShortcut("access+8","",["FormatBlock",!1,"div"]),e.addShortcut("access+9","",["FormatBlock",!1,"address"])},Tw=e=>{const t=v4(e),o=Da({});return y4(e),VI(e),fh(e)||o5(o,e),{get:t.get,has:t.has,register:t.register,unregister:t.unregister,apply:(a,c,m)=>{vr(e,a,c,m)},remove:(a,c,m,p)=>{oP(e,a,c,m,p)},toggle:(a,c,m)=>{q3(e,a,c,m)},match:(a,c,m,p)=>C$(e,a,c,m,p),closest:a=>E$(e,a),matchAll:(a,c)=>S$(e,a,c),matchNode:(a,c,m,p)=>_$(e,a,c,m,p),canApply:a=>k$(e,a),formatChanged:(a,c,m,p)=>sP(e,o,a,c,m,p),getCssText:ot(GP,e)}},Sp=e=>{switch(e.toLowerCase()){case"undo":case"redo":case"mcefocus":return!0;default:return!1}},B0=(e,t,o)=>{const a=Da(!1),c=T=>{yw(t,!1,o),t.add({},T)};e.on("init",()=>{t.add()}),e.on("BeforeExecCommand",T=>{const H=T.command;Sp(H)||(H3(t,o),t.beforeChange())}),e.on("ExecCommand",T=>{const H=T.command;Sp(H)||c(T)}),e.on("ObjectResizeStart cut",()=>{t.beforeChange()}),e.on("SaveContent ObjectResized blur",c),e.on("dragend",c),e.on("keyup",T=>{const H=T.keyCode;if(T.isDefaultPrevented())return;const J=qo.os.isMacOS()&&T.key==="Meta";(H>=33&&H<=36||H>=37&&H<=40||H===45||T.ctrlKey||J)&&(c(),e.nodeChanged()),(H===46||H===8)&&e.nodeChanged(),a.get()&&t.typing&&!Ry(Oy(e),t.data[0])&&(e.isDirty()||e.setDirty(!0),e.dispatch("TypingUndo"),a.set(!1),e.nodeChanged())}),e.on("keydown",T=>{const H=T.keyCode;if(T.isDefaultPrevented())return;if(H>=33&&H<=36||H>=37&&H<=40||H===45){t.typing&&c(T);return}const J=T.ctrlKey&&!T.altKey||T.metaKey;if((H<16||H>20)&&H!==224&&H!==91&&!t.typing&&!J){t.beforeChange(),yw(t,!0,o),t.add({},T),a.set(!0);return}(qo.os.isMacOS()?T.metaKey:T.ctrlKey&&!T.altKey)&&t.beforeChange()}),e.on("mousedown",T=>{t.typing&&c(T)});const m=T=>T.inputType==="insertReplacementText",p=T=>T.inputType==="insertText"&&T.data===null,S=T=>T.inputType==="insertFromPaste"||T.inputType==="insertFromDrop";e.on("input",T=>{T.inputType&&(m(T)||p(T)||S(T))&&c(T)}),e.on("AddUndo Undo Redo ClearUndos",T=>{T.isDefaultPrevented()||e.nodeChanged()})},YP=e=>{e.addShortcut("meta+z","","Undo"),e.addShortcut("meta+y,meta+shift+z","","Redo")},XP=e=>{const t=xa(),o=Da(0),a=Da(0),c={data:[],typing:!1,beforeChange:()=>{Dy(e,o,t)},add:(m,p)=>h$(e,c,a,o,t,m,p),dispatchChange:()=>{e.setDirty(!0);const m=Oy(e);m.bookmark=Pn(e.selection),e.dispatch("change",{level:m,lastLevel:Qa(c.data,a.get()).getOrUndefined()})},undo:()=>p$(e,c,o,a),redo:()=>tP(e,a,c.data),clear:()=>{nP(e,c,a)},reset:()=>{F_(e,c)},hasUndo:()=>b$(e,c,a),hasRedo:()=>v$(e,c,a),transact:m=>y$(e,c,o,m),ignore:m=>{x$(e,o,m)},extra:(m,p)=>{w$(e,c,a,m,p)}};return fh(e)||B0(e,c,o),YP(e),c},JP=[9,27,kn.HOME,kn.END,19,20,44,144,145,33,34,45,16,17,18,91,92,93,kn.DOWN,kn.UP,kn.LEFT,kn.RIGHT].concat(qo.browser.isFirefox()?[224]:[]),QP="data-mce-placeholder",e6=e=>e.type==="keydown"||e.type==="keyup",t6=e=>{const t=e.keyCode;return t===kn.BACKSPACE||t===kn.DELETE},x4=e=>{if(e6(e)){const t=e.keyCode;return!t6(e)&&(kn.metaKeyPressed(e)||e.altKey||t>=112&&t<=123||xe(JP,t))}else return!1},n6=e=>e6(e)&&!(t6(e)||e.type==="keyup"&&e.keyCode===229),rV=(e,t,o)=>{if(e.isEmpty(t,void 0,{skipBogus:!1,includeZwsp:!0})){const a=t.firstElementChild;return a?e.getStyle(t.firstElementChild,"padding-left")||e.getStyle(t.firstElementChild,"padding-right")?!1:o===a.nodeName.toLowerCase():!0}else return!1},o6=e=>{var t;const o=e.dom,a=Ul(e),c=(t=CE(e))!==null&&t!==void 0?t:"",m=(p,S)=>{if(x4(p))return;const T=e.getBody(),H=n6(p)?!1:rV(o,T,a);(o.getAttrib(T,QP)!==""!==H||S)&&(o.setAttrib(T,QP,H?c:null),BD(e,H),e.on(H?"keydown":"keyup",m),e.off(H?"keyup":"keydown",m))};it(c)&&e.on("init",p=>{m(p,!0),e.on("change SetContent ExecCommand",m),e.on("paste",S=>Wu.setEditorTimeout(e,()=>m(S)))})},aV=(e,t)=>({block:e,position:t}),w4=(e,t)=>({from:e,to:t}),C4=(e,t)=>{const o=Ke.fromDom(e),a=Ke.fromDom(t.container());return ew(o,a).map(c=>aV(c,t))},s6=e=>!(si(e.to.block,e.from.block)||si(e.from.block,e.to.block)),S4=e=>!ss(e.from.block,e.to.block),_4=(e,t)=>ya(t,c=>Lu(c)||Pc(c.dom),c=>ss(c,e)).filter(Zr).getOr(e),k4=(e,t)=>{const o=Ke.fromDom(e);return ss(_4(o,t.from.block),_4(o,t.to.block))},iV=e=>yo(e.from.block.dom)===!1&&yo(e.to.block.dom)===!1,r6=e=>{const t=o=>Mv(o)||Ur(o.dom)||zg(o);return t(e.from.block)&&t(e.to.block)},lV=(e,t,o,a)=>Cr(a.position.getNode())&&!Tr(e,a.block)?ty(!1,a.block.dom).bind(c=>c.isEqual(a.position)?fd(o,t,c).bind(m=>C4(t,m)):te.some(a)).getOr(a):a,a6=(e,t,o,a)=>{const c=C4(t,Et.fromRangeStart(a)),m=c.bind(p=>fd(o,t,p.position).bind(S=>C4(t,S).map(T=>lV(e,t,o,T))));return oi(c,m,w4).filter(p=>S4(p)&&k4(t,p)&&iV(p)&&r6(p)&&s6(p))},i6=(e,t,o,a)=>a.collapsed?a6(e,t,o,a):te.none(),cV=(e,t)=>{const o=ri(e);return no(o,a=>t.isBlock(ls(a))).fold(ct(o),a=>o.slice(0,a))},l6=(e,t)=>{const o=cV(e,t);return ye(o,Ps),o},c6=(e,t,o)=>{const a=ju(o,t);return Nn(a.reverse(),c=>Tr(e,c)).each(Ps)},uV=(e,t)=>Ye(Su(t),o=>!Tr(e,o)).length===0,dV=(e,t,o,a,c)=>{if(Tr(a,o))return Fu(o),fo(o.dom);uV(a,c)&&Tr(a,t)&&Er(c,Ke.fromTag("br"));const m=Hu(o.dom,Et.before(c.dom));return ye(l6(t,a),p=>{Er(c,p)}),c6(a,e,t),m},M0=(e,t)=>e.isInline(ls(t)),u6=(e,t,o,a)=>{if(Tr(a,o)){if(Tr(a,t)){const p=pt((S=>{const T=(H,J)=>Fl(H).fold(()=>J,ee=>M0(a,ee)?T(ee,J.concat(ma(ee))):J);return T(S,[])})(o),(S,T)=>(Ql(S,T),T),tm());er(t),Pr(t,p)}return Ps(o),fo(t.dom)}const c=ef(o.dom);return ye(l6(t,a),m=>{Pr(o,m)}),c6(a,e,t),c},d6=(e,t)=>{const o=ju(t,e);return te.from(o[o.length-1])},f6=(e,t)=>si(t,e)?d6(t,e):te.none(),m6=(e,t)=>{ty(e,t.dom).bind(o=>te.from(o.getNode())).map(Ke.fromDom).filter(Jd).each(Ps)},g6=(e,t,o,a)=>(m6(!0,t),m6(!1,o),f6(t,o).fold(ot(u6,e,t,o,a),ot(dV,e,t,o,a))),_p=(e,t,o,a,c)=>t?g6(e,a,o,c):g6(e,o,a,c),W_=(e,t)=>{const o=Ke.fromDom(e.getBody());return i6(e.schema,o.dom,t,e.selection.getRng()).map(c=>()=>{_p(o,t,c.from.block,c.to.block,e.schema).each(m=>{e.selection.setRng(m.toRange())})})},j_=(e,t,o)=>{const a=t.getRng();return oi(ew(e,Ke.fromDom(a.startContainer)),ew(e,Ke.fromDom(a.endContainer)),(c,m)=>ss(c,m)?te.none():te.some(()=>{a.deleteContents(),_p(e,!0,c,m,o).each(p=>{t.setRng(p.toRange())})})).getOr(te.none())},h6=(e,t)=>{const o=Ke.fromDom(t),a=ot(ss,e);return $i(o,Lu,a).isSome()},p6=(e,t)=>h6(e,t.startContainer)||h6(e,t.endContainer),fV=(e,t)=>{const o=Hu(e.dom,Et.fromRangeStart(t)).isNone(),a=Lc(e.dom,Et.fromRangeEnd(t)).isNone();return!p6(e,t)&&o&&a},mV=e=>te.some(()=>{e.setContent(""),e.selection.setCursorLocation()}),E4=e=>{const t=Ke.fromDom(e.getBody()),o=e.selection.getRng();return fV(t,o)?mV(e):j_(t,e.selection,e.schema)},A4=(e,t)=>e.selection.isCollapsed()?te.none():E4(e),Xr=(e,t,o,a,c)=>te.from(t._selectionOverrides.showCaret(e,o,a,c)),gV=e=>{const t=e.ownerDocument.createRange();return t.selectNode(e),t},Ow=(e,t)=>e.dispatch("BeforeObjectSelected",{target:t}).isDefaultPrevented()?te.none():te.some(gV(t)),T4=(e,t,o)=>{const a=$E(1,e.getBody(),t),c=Et.fromRangeStart(a),m=c.getNode();if(i2(m))return Xr(1,e,m,!c.isAtEnd(),!1);const p=c.getNode(!0);if(i2(p))return Xr(1,e,p,!1,!1);const S=cf(e.dom.getRoot(),c.getNode());return i2(S)?Xr(1,e,S,!1,o):te.none()},Z_=(e,t,o)=>t.collapsed?T4(e,t,o).getOr(t):t,O4=e=>ui(e)||b0(e),hV=e=>og(e)||hy(e),pV=(e,t)=>{Xt(t)&&t.data.length===0&&e.remove(t)},b6=(e,t,o,a,c,m)=>{Xr(a,e,m.getNode(!c),c,!0).each(p=>{if(t.collapsed){const S=t.cloneRange();c?S.setEnd(p.startContainer,p.startOffset):S.setStart(p.endContainer,p.endOffset),S.deleteContents()}else t.deleteContents();e.selection.setRng(p)}),pV(e.dom,o)},bV=(e,t)=>{const o=e.selection.getRng();if(!Xt(o.commonAncestorContainer))return te.none();const a=t?Tl.Forwards:Tl.Backwards,c=io(e.getBody()),m=ot(VE,t?c.next:c.prev),p=t?O4:hV,S=f2(a,e.getBody(),o),T=m(S),H=T&&lf(t,T);if(!H||!qC(S,H))return te.none();if(p(H))return te.some(()=>b6(e,o,S.getNode(),a,t,H));const J=m(H);return J&&p(J)&&qC(H,J)?te.some(()=>b6(e,o,S.getNode(),a,t,J)):te.none()},R4=(e,t)=>bV(e,t),D4=(e,t)=>{const o=e.getBody();return t?fo(o).filter(ui):ef(o).filter(og)},N4=e=>{const t=e.selection.getRng();return!t.collapsed&&(D4(e,!0).exists(o=>o.isEqual(Et.fromRangeStart(t)))||D4(e,!1).exists(o=>o.isEqual(Et.fromRangeEnd(t))))},By=e=>Oe(e)&&(Lu(Ke.fromDom(e))||zg(Ke.fromDom(e))),Ei=gs.generate([{remove:["element"]},{moveToElement:["element"]},{moveToPosition:["position"]}]),vV=(e,t)=>{const o=t.getNode(!e),a=e?"after":"before";return Vn(o)&&o.getAttribute("data-mce-caret")===a},yV=(e,t,o,a,c)=>{const m=p=>c.isInline(p.nodeName.toLowerCase())&&!Yg(o,a,e);return QR(!t,o).fold(()=>QR(t,a).fold(Fn,m),m)},v6=(e,t,o,a,c)=>{const m=c.getNode(!o);return ew(Ke.fromDom(t),Ke.fromDom(a.getNode())).map(p=>Tr(e,p)?Ei.remove(p.dom):Ei.moveToElement(m)).orThunk(()=>te.some(Ei.moveToElement(m)))},y6=(e,t,o,a)=>fd(t,e,o).bind(c=>By(c.getNode())||yV(e,t,o,c,a)?te.none():t&&yo(c.getNode())||!t&&yo(c.getNode(!0))?v6(a,e,t,o,c):t&&og(o)||!t&&ui(o)?te.some(Ei.moveToPosition(c)):te.none()),xV=(e,t)=>rt(t)?te.none():e&&yo(t.nextSibling)?te.some(Ei.moveToElement(t.nextSibling)):!e&&yo(t.previousSibling)?te.some(Ei.moveToElement(t.previousSibling)):te.none(),wV=(e,t,o)=>o.fold(a=>te.some(Ei.remove(a)),a=>te.some(Ei.moveToElement(a)),a=>Yg(t,a,e)?te.none():te.some(Ei.moveToPosition(a))),CV=(e,t,o,a)=>vV(t,o)?xV(t,o.getNode(!t)).orThunk(()=>y6(e,t,o,a)):y6(e,t,o,a).bind(c=>wV(e,o,c)),SV=(e,t,o,a)=>{const c=$E(t?1:-1,e,o),m=Et.fromRangeStart(c),p=Ke.fromDom(e);return!t&&og(m)?te.some(Ei.remove(m.getNode(!0))):t&&ui(m)?te.some(Ei.remove(m.getNode())):!t&&ui(m)&&y0(p,m,a)?PS(p,m,a).map(S=>Ei.remove(S.getNode())):t&&og(m)&&G2(p,m,a)?zN(p,m,a).map(S=>Ei.remove(S.getNode())):CV(e,t,m,a)},_V=(e,t)=>o=>(e._selectionOverrides.hideFakeCaret(),ic(e,t,Ke.fromDom(o)),!0),kV=(e,t)=>o=>{const a=t?Et.before(o):Et.after(o);return e.selection.setRng(a.toRange()),!0},EV=e=>t=>(e.selection.setRng(t.toRange()),!0),x6=(e,t)=>te.from(cf(e.getBody(),t)),AV=(e,t)=>{const o=e.selection.getNode();return x6(e,o).filter(yo).fold(()=>SV(e.getBody(),t,e.selection.getRng(),e.schema).map(a=>()=>a.fold(_V(e,t),kV(e,t),EV(e))),()=>te.some(Nt))},TV=e=>{ye(da(e,".mce-offscreen-selection"),Ps)},OV=(e,t)=>{const o=e.selection.getNode();return yo(o)&&!Tg(o)?x6(e,o.parentNode).filter(yo).fold(()=>te.some(()=>{TV(Ke.fromDom(e.getBody())),ic(e,t,Ke.fromDom(e.selection.getNode())),$S(e)}),()=>te.some(Nt)):N4(e)?te.some(()=>{VS(e,e.selection.getRng(),Ke.fromDom(e.getBody()))}):te.none()},w6=e=>{const t=e.dom,o=e.selection,a=cf(e.getBody(),o.getNode());if(Pc(a)&&t.isBlock(a)&&t.isEmpty(a)){const c=t.create("br",{"data-mce-bogus":"1"});t.setHTML(a,""),a.appendChild(c),o.setRng(Et.before(c).toRange())}return!0},I4=(e,t)=>e.selection.isCollapsed()?AV(e,t):OV(e,t),C6=e=>e.hasOwnProperty("text"),S6=e=>e.hasOwnProperty("marker"),_6=(e,t)=>{const o=(m,p)=>{if(Xt(m))return{text:m,offset:p};{const S=t(),T=m.childNodes;return p<T.length?(m.insertBefore(S,T[p]),{marker:S,before:!0}):(m.appendChild(S),{marker:S,before:!1})}},a=o(e.endContainer,e.endOffset);return{start:o(e.startContainer,e.startOffset),end:a}},k6=e=>{var t,o;const{start:a,end:c}=e,m=new window.Range;return C6(a)?m.setStart(a.text,a.offset):S6(a)&&(a.before?m.setStartBefore(a.marker):m.setStartAfter(a.marker),(t=a.marker.parentNode)===null||t===void 0||t.removeChild(a.marker)),C6(c)?m.setEnd(c.text,c.offset):S6(c)&&(c.before?m.setEndBefore(c.marker):m.setEndAfter(c.marker),(o=c.marker.parentNode)===null||o===void 0||o.removeChild(c.marker)),m},P4=(e,t)=>{var o;const a=e.dom,c=a.getParent(e.selection.getStart(),a.isBlock),m=a.getParent(e.selection.getEnd(),a.isBlock),p=e.getBody();if(((o=c==null?void 0:c.nodeName)===null||o===void 0?void 0:o.toLowerCase())==="div"&&c&&m&&c===p.firstChild&&m===p.lastChild&&!a.isEmpty(p)){const T=c.cloneNode(!1),H=()=>{if(t?oT(e):FS(e),p.firstChild!==c){const J=_6(e.selection.getRng(),()=>document.createElement("span"));Array.from(p.childNodes).forEach(ee=>T.appendChild(ee)),p.appendChild(T),e.selection.setRng(k6(J))}};return te.some(H)}return te.none()},RV=(e,t)=>{const o=Et.fromRangeStart(e.selection.getRng());return fd(t,e.getBody(),o).filter(a=>t?MN(a):LN(a)).bind(a=>ZC(t?0:-1,a)).map(a=>()=>e.selection.select(a))},B4=(e,t)=>e.selection.isCollapsed()?RV(e,t):te.none(),My=Xt,E6=e=>My(e)&&e.data[0]===Ga,A6=e=>My(e)&&e.data[e.data.length-1]===Ga,T6=e=>{var t;return((t=e.ownerDocument)!==null&&t!==void 0?t:document).createTextNode(Ga)},DV=e=>{var t;if(My(e.previousSibling))return A6(e.previousSibling)||e.previousSibling.appendData(Ga),e.previousSibling;if(My(e))return E6(e)||e.insertData(0,Ga),e;{const o=T6(e);return(t=e.parentNode)===null||t===void 0||t.insertBefore(o,e),o}},NV=e=>{var t,o;if(My(e.nextSibling))return E6(e.nextSibling)||e.nextSibling.insertData(0,Ga),e.nextSibling;if(My(e))return A6(e)||e.appendData(Ga),e;{const a=T6(e);return e.nextSibling?(t=e.parentNode)===null||t===void 0||t.insertBefore(a,e.nextSibling):(o=e.parentNode)===null||o===void 0||o.appendChild(a),a}},K_=(e,t)=>e?DV(t):NV(t),O6=ot(K_,!0),IV=ot(K_,!1),R6=(e,t)=>Xt(e.container())?K_(t,e.container()):K_(t,e.getNode()),D6=(e,t)=>{const o=t.get();return o&&e.container()===o&&Ug(o)},M4=(e,t)=>t.fold(o=>{db(e.get());const a=O6(o);return e.set(a),te.some(Et(a,a.length-1))},o=>fo(o).map(a=>{if(D6(a,e)){const c=e.get();return Et(c,1)}else{db(e.get());const c=R6(a,!0);return e.set(c),Et(c,1)}}),o=>ef(o).map(a=>{if(D6(a,e)){const c=e.get();return Et(c,c.length-1)}else{db(e.get());const c=R6(a,!1);return e.set(c),Et(c,c.length-1)}}),o=>{db(e.get());const a=IV(o);return e.set(a),te.some(Et(a,1))}),N6=(e,t)=>{for(let o=0;o<e.length;o++){const a=e[o].apply(null,t);if(a.isSome())return a}return te.none()},$c=gs.generate([{before:["element"]},{start:["element"]},{end:["element"]},{after:["element"]}]),I6=(e,t)=>{const o=fb(t,e);return o||e},PV=(e,t,o)=>{const a=iI(o),c=I6(t,a.container());return Eb(e,c,a).fold(()=>Lc(c,a).bind(ot(Eb,e,c)).map(m=>$c.before(m)),te.none)},P6=(e,t)=>mb(e,t)===null,B6=(e,t,o)=>Eb(e,t,o).filter(ot(P6,t)),BV=(e,t,o)=>{const a=xy(o);return B6(e,t,a).bind(c=>Hu(c,a).isNone()?te.some($c.start(c)):te.none())},MV=(e,t,o)=>{const a=iI(o);return B6(e,t,a).bind(c=>Lc(c,a).isNone()?te.some($c.end(c)):te.none())},LV=(e,t,o)=>{const a=xy(o),c=I6(t,a.container());return Eb(e,c,a).fold(()=>Hu(c,a).bind(ot(Eb,e,c)).map(m=>$c.after(m)),te.none)},M6=e=>!J2(L4(e)),mh=(e,t,o)=>N6([PV,BV,MV,LV],[e,t,o]).filter(M6),L4=e=>e.fold(Tn,Tn,Tn,Tn),L6=e=>e.fold(ct("before"),ct("start"),ct("end"),ct("after")),Rw=e=>e.fold($c.before,$c.before,$c.after,$c.after),q_=e=>e.fold($c.start,$c.start,$c.end,$c.end),FV=(e,t)=>L6(e)===L6(t)&&L4(e)===L4(t),F6=(e,t,o,a,c,m)=>oi(Eb(t,o,a),Eb(t,o,c),(p,S)=>p!==S&&aI(o,p,S)?$c.after(e?p:S):m).getOr(m),$V=(e,t)=>e.fold(Gt,o=>!FV(o,t)),VV=(e,t,o,a,c)=>{const m=lf(e,c);return fd(e,o,m).map(ot(lf,e)).fold(()=>a.map(Rw),T=>mh(t,o,T).map(ot(F6,e,t,o,m,T)).filter(ot($V,a))).filter(M6)},HV=(e,t)=>e?t.fold(Kt(te.some,$c.start),te.none,Kt(te.some,$c.after),te.none):t.fold(te.none,Kt(te.some,$c.before),te.none,Kt(te.some,$c.end)),zV=(e,t,o,a)=>{const c=lf(e,a),m=mh(t,o,c);return mh(t,o,c).bind(ot(HV,e)).orThunk(()=>VV(e,t,o,m,a))},UV=e=>Ve(e.selection.getSel().modify),$6=(e,t,o)=>{const a=e?1:-1;return t.setRng(Et(o.container(),o.offset()+a).toRange()),t.getSel().modify("move",e?"forward":"backward","word"),!0},F4=(e,t)=>{const o=t.selection.getRng(),a=e?Et.fromRangeEnd(o):Et.fromRangeStart(o);return UV(t)?e&&$v(a)?$6(!0,t.selection,a):!e&&F1(a)?$6(!1,t.selection,a):!1:!1};var mm;(function(e){e[e.Br=0]="Br",e[e.Block=1]="Block",e[e.Wrap=2]="Wrap",e[e.Eol=3]="Eol"})(mm||(mm={}));const G_=(e,t)=>e===Tl.Backwards?or(t):t,V6=(e,t,o)=>e===Tl.Forwards?t.next(o):t.prev(o),WV=(e,t,o,a)=>Cr(a.getNode(t===Tl.Forwards))?mm.Br:Yg(o,a)===!1?mm.Block:mm.Wrap,H6=(e,t,o,a)=>{const c=io(o);let m=a;const p=[];for(;m;){const S=V6(t,c,m);if(!S)break;if(Cr(S.getNode(!1)))return t===Tl.Forwards?{positions:G_(t,p).concat([S]),breakType:mm.Br,breakAt:te.some(S)}:{positions:G_(t,p),breakType:mm.Br,breakAt:te.some(S)};if(!S.isVisible()){m=S;continue}if(e(m,S)){const T=WV(o,t,m,S);return{positions:G_(t,p),breakType:T,breakAt:te.some(S)}}p.push(S),m=S}return{positions:G_(t,p),breakType:mm.Eol,breakAt:te.none()}},z6=(e,t,o,a)=>t(o,a).breakAt.map(c=>{const m=t(o,c).positions;return e===Tl.Backwards?m.concat(c):[c].concat(m)}).getOr([]),$4=(e,t)=>fn(e,(o,a)=>o.fold(()=>te.some(a),c=>oi(on(c.getClientRects()),on(a.getClientRects()),(m,p)=>{const S=Math.abs(t-m.left);return Math.abs(t-p.left)<=S?a:c}).or(o)),te.none()),Y_=(e,t)=>on(t.getClientRects()).bind(o=>$4(e,o.left)),Dw=ot(H6,Et.isAbove,-1),Nw=ot(H6,Et.isBelow,1),U6=ot(z6,-1,Dw),X_=ot(z6,1,Nw),W6=(e,t)=>Dw(e,t).breakAt.isNone(),j6=(e,t)=>Nw(e,t).breakAt.isNone(),jV=e=>fo(e).map(t=>[t].concat(Nw(e,t).positions)).getOr([]),Z6=e=>ef(e).map(t=>Dw(e,t).positions.concat(t)).getOr([]),L0=(e,t)=>Y_(U6(e,t),t),ZV=(e,t)=>Y_(X_(e,t),t),KV=yo,K6=(e,t)=>Math.abs(e.left-t),du=(e,t)=>Math.abs(e.right-t),q6=e=>nl(e,"node"),G6=(e,t)=>bl(e,(o,a)=>{const c=Math.min(K6(o,t),du(o,t)),m=Math.min(K6(a,t),du(a,t));return m===c&&q6(a)&&KV(a.node)||m<c?a:o}),qV=e=>{const t=o=>Ue(o,a=>{const c=zm(a);return c.node=e,c});if(Vn(e))return t(e.getClientRects());if(Xt(e)){const o=e.ownerDocument.createRange();return o.setStart(e,0),o.setEnd(e,e.data.length),t(o.getClientRects())}else return[]},Y6=e=>Wo(e,qV);var Iw;(function(e){e[e.Up=-1]="Up",e[e.Down=1]="Down"})(Iw||(Iw={}));const GV=(e,t,o,a)=>{let c=a;for(;c=c2(c,e,jv,t);)if(o(c))return},V4=(e,t,o,a,c,m)=>{let p=0;const S=[],T=ee=>{let re=Y6([ee]);e===-1&&(re=re.reverse());for(let ve=0;ve<re.length;ve++){const Te=re[ve];if(!o(Te,H)){if(S.length>0&&t(Te,ei(S))&&p++,Te.line=p,c(Te))return!0;S.push(Te)}}return!1},H=ei(m.getClientRects());if(!H)return S;const J=m.getNode();return J&&(T(J),GV(e,a,T,J)),S},YV=(e,t)=>t.line>e,XV=(e,t)=>t.line===e,JV=ot(V4,Iw.Up,jm,rp),QV=ot(V4,Iw.Down,rp,jm),X6=e=>ei(e.getClientRects()),Ly=(e,t,o,a)=>{const c=io(t);let m,p,S,T;const H=[];let J=0;e===1?(m=c.next,p=rp,S=jm,T=Et.after(a)):(m=c.prev,p=jm,S=rp,T=Et.before(a));const ee=X6(T);do{if(!T.isVisible())continue;const re=X6(T);if(S(re,ee))continue;H.length>0&&p(re,ei(H))&&J++;const ve=zm(re);if(ve.position=T,ve.line=J,o(ve))return H;H.push(ve)}while(T=m(T));return H},H4=e=>t=>YV(e,t),Fy=e=>t=>XV(e,t),ag=(e,t)=>{e.selection.setRng(t),of(e,e.selection.getRng())},J_=(e,t,o)=>te.some(Z_(e,t,o)),z4=(e,t,o,a,c,m)=>{const p=t===Tl.Forwards,S=io(e.getBody()),T=ot(VE,p?S.next:S.prev),H=p?a:c;if(!o.collapsed){const Te=ab(o);if(m(Te))return Xr(t,e,Te,t===Tl.Backwards,!1);if(N4(e)){const we=o.cloneRange();return we.collapse(t===Tl.Backwards),te.from(we)}}const J=f2(t,e.getBody(),o);if(H(J))return Ow(e,J.getNode(!p));let ee=T(J);const re=sp(o);if(ee)ee=lf(p,ee);else return re?te.some(o):te.none();if(H(ee))return Xr(t,e,ee.getNode(!p),p,!1);const ve=T(ee);return ve&&H(ve)&&qC(ee,ve)?Xr(t,e,ve.getNode(!p),p,!1):re?J_(e,ee.toRange(),!1):te.none()},J6=(e,t,o,a,c,m)=>{const p=f2(t,e.getBody(),o),S=ei(p.getClientRects()),T=t===Iw.Down,H=e.getBody();if(!S)return te.none();if(N4(e)){const Me=T?Et.fromRangeEnd(o):Et.fromRangeStart(o);return(T?ZV:L0)(H,Me).orThunk(()=>te.from(Me)).map(lt=>lt.toRange())}const ee=(T?QV:JV)(H,H4(1),p),re=Ye(ee,Fy(1)),ve=S.left,Te=G6(re,ve);if(Te&&m(Te.node)){const Me=Math.abs(ve-Te.left),Qe=Math.abs(ve-Te.right);return Xr(t,e,Te.node,Me<Qe,!1)}let we;if(a(p)?we=p.getNode():c(p)?we=p.getNode(!0):we=ab(o),we){const Me=Ly(t,H,H4(1),we);let Qe=G6(Ye(Me,Fy(1)),ve);if(Qe||(Qe=ei(Ye(Me,Fy(0))),Qe))return J_(e,Qe.position.toRange(),!1)}return re.length===0?Q_(e,T).filter(T?c:a).map(Me=>Z_(e,Me.toRange(),!1)):te.none()},Q_=(e,t)=>{const o=e.selection.getRng(),a=t?Et.fromRangeEnd(o):Et.fromRangeStart(o),c=k8(a.container(),e.getBody());if(t){const m=Nw(c,a);return ro(m.positions)}else{const m=Dw(c,a);return on(m.positions)}},Q6=(e,t,o)=>Q_(e,t).filter(o).exists(a=>(e.selection.setRng(a.toRange()),!0)),Pw=(e,t)=>{const o=e.dom.createRng();o.setStart(t.container(),t.offset()),o.setEnd(t.container(),t.offset()),e.selection.setRng(o)},U4=(e,t)=>{e?t.setAttribute("data-mce-selected","inline-boundary"):t.removeAttribute("data-mce-selected")},W4=(e,t,o)=>M4(t,o).map(a=>(Pw(e,a),o)),eB=(e,t,o)=>{const a=Et.fromRangeStart(e);if(e.collapsed)return a;{const c=Et.fromRangeEnd(e);return o?Hu(t,c).getOr(c):Lc(t,a).getOr(a)}},tB=(e,t,o)=>{const a=e.getBody(),c=eB(e.selection.getRng(),a,o),m=ot(w0,e);return zV(o,m,a,c).bind(S=>W4(e,t,S))},nB=(e,t,o)=>{const a=Ue(da(Ke.fromDom(t.getRoot()),'*[data-mce-selected="inline-boundary"]'),p=>p.dom),c=Ye(a,e),m=Ye(o,e);ye(ps(c,m),ot(U4,!1)),ye(ps(m,c),ot(U4,!0))},j4=(e,t)=>{const o=t.get();if(e.selection.isCollapsed()&&!e.composing&&o){const a=Et.fromRangeStart(e.selection.getRng());Et.isTextPosition(a)&&!tT(a)&&(Pw(e,C8(o,a)),t.set(null))}},oB=(e,t,o,a)=>{if(t.selection.isCollapsed()){const c=Ye(a,e);ye(c,m=>{const p=Et.fromRangeStart(t.selection.getRng());mh(e,t.getBody(),p).bind(S=>W4(t,o,S))})}},Z4=(e,t,o)=>J1(e)?tB(e,t,o).isSome():!1,K4=(e,t,o)=>J1(t)?F4(e,t):!1,sB=e=>{const t=Da(null),o=ot(w0,e);return e.on("NodeChange",a=>{J1(e)&&(nB(o,e.dom,a.parents),j4(e,t),oB(o,e,t,a.parents))}),t},rB=ot(K4,!0),aB=ot(K4,!1),Bw=(e,t,o)=>{if(J1(e)){const a=Q_(e,t).getOrThunk(()=>{const c=e.selection.getRng();return t?Et.fromRangeEnd(c):Et.fromRangeStart(c)});return mh(ot(w0,e),e.getBody(),a).exists(c=>{const m=Rw(c);return M4(o,m).exists(p=>(Pw(e,p),!0))})}else return!1},q4=(e,t)=>{const o=document.createRange();return o.setStart(e.container(),e.offset()),o.setEnd(t.container(),t.offset()),o},G4=e=>oi(fo(e),ef(e),(t,o)=>{const a=lf(!0,t),c=lf(!1,o);return Lc(e,a).forall(m=>m.isEqual(c))}).getOr(!0),Mw=(e,t)=>o=>M4(t,o).map(a=>()=>Pw(e,a)),Y4=(e,t,o,a)=>{const c=e.getBody(),m=ot(w0,e);e.undoManager.ignore(()=>{e.selection.setRng(q4(o,a)),FS(e),mh(m,c,Et.fromRangeStart(e.selection.getRng())).map(q_).bind(Mw(e,t)).each(mn)}),e.nodeChanged()},iB=(e,t)=>{const o=fb(t,e);return o||e},lB=(e,t,o,a)=>{const c=iB(e.getBody(),a.container()),m=ot(w0,e),p=mh(m,c,a);return p.bind(T=>o?T.fold(ct(te.some(q_(T))),te.none,ct(te.some(Rw(T))),te.none):T.fold(te.none,ct(te.some(Rw(T))),te.none,ct(te.some(q_(T))))).map(Mw(e,t)).getOrThunk(()=>{const T=s0(o,c,a),H=T.bind(J=>mh(m,c,J));return oi(p,H,()=>Eb(m,c,a).bind(J=>G4(J)?te.some(()=>{ic(e,o,Ke.fromDom(J))}):te.none())).getOrThunk(()=>H.bind(()=>T.map(J=>()=>{o?Y4(e,t,a,J):Y4(e,t,J,a)})))})},Lw=(e,t,o)=>{if(e.selection.isCollapsed()&&J1(e)){const a=Et.fromRangeStart(e.selection.getRng());return lB(e,t,o,a)}return te.none()},cB=e=>ed(e)>1,X4=(e,t)=>{const o=Ke.fromDom(e.getBody()),a=Ke.fromDom(e.selection.getStart()),c=ju(a,o);return no(c,t).fold(ct(c),m=>c.slice(0,m))},uB=e=>ed(e)===1,eH=e=>X4(e,t=>e.schema.isBlock(ls(t))||cB(t)),dB=e=>X4(e,t=>e.schema.isBlock(ls(t))),J4=(e,t)=>{const o=ot(Sy,e);return Wo(t,a=>o(a)?[a.dom]:[])},Fw=e=>{const t=dB(e);return J4(e,t)},fB=(e,t,o,a)=>{const c=J4(t,a);if(c.length===0)ic(t,e,o);else{const m=$T(o.dom,c);t.selection.setRng(m.toRange())}},mB=(e,t)=>{const o=Ye(eH(e),uB);return ro(o).bind(a=>{const c=Et.fromRangeStart(e.selection.getRng());return uI(t,c,a.dom)&&!sS(a)?te.some(()=>fB(t,e,a,o)):te.none()})},Q4=(e,t)=>{const o=t.parentElement;return Cr(t)&&!be(o)&&e.dom.isEmpty(o)},tH=e=>sS(Ke.fromDom(e)),eO=(e,t)=>{const o=e.selection.getStart(),a=Q4(e,o)||tH(o)?$T(o,t):c7(e.selection.getRng(),t);e.selection.setRng(a.toRange())},nH=(e,t)=>{const o=ps(t,Fw(e));o.length>0&&eO(e,o)},tO=e=>Xt(e.startContainer),gB=e=>e.startOffset===0&&tO(e),oH=(e,t)=>{const o=t.startContainer.parentElement;return!be(o)&&Sy(e,Ke.fromDom(o))},sH=e=>{const t=e.startContainer.parentNode,o=e.endContainer.parentNode;return!be(t)&&!be(o)&&t.isEqualNode(o)},s=e=>{const t=e.endContainer;return e.endOffset===(Xt(t)?t.length:t.childNodes.length)},i=e=>sH(e)&&s(e),u=e=>!e.endContainer.isEqualNode(e.commonAncestorContainer),f=e=>i(e)||u(e),b=e=>{const t=e.selection.getRng();return gB(t)&&oH(e,t)&&f(t)},v=e=>{if(b(e)){const t=Fw(e);return te.some(()=>{FS(e),nH(e,t)})}else return te.none()},C=(e,t)=>e.selection.isCollapsed()?mB(e,t):v(e),k=(e,t)=>h1(e,o=>md(o.dom),o=>t.isBlock(ls(o))),E=e=>k(Ke.fromDom(e.selection.getStart()),e.schema),B=e=>{const t=e.selection.getRng();return t.collapsed&&(tO(t)||e.dom.isEmpty(t.startContainer))&&!E(e)},$=e=>(B(e)&&eO(e,[]),!0),L=(e,t,o)=>Oe(o)?te.some(()=>{e._selectionOverrides.hideFakeCaret(),ic(e,t,Ke.fromDom(o))}):te.none(),Z=(e,t)=>{const o=t?b0:hy,a=t?Tl.Forwards:Tl.Backwards,c=f2(a,e.getBody(),e.selection.getRng());return o(c)?L(e,t,c.getNode(!t)):te.from(lf(t,c)).filter(m=>o(m)&&qC(c,m)).bind(m=>L(e,t,m.getNode(!t)))},Q=(e,t)=>{const o=e.selection.getNode();return Rt(o)?L(e,t,o):te.none()},se=(e,t)=>e.selection.isCollapsed()?Z(e,t):Q(e,t),me=e=>ya(e,t=>Pc(t.dom)||yo(t.dom)).exists(t=>Pc(t.dom)),pe=e=>yn(e??"").getOr(0),Ee=(e,t)=>{const o=e||Bv(t)?"margin":"padding",a=Ir(t,"direction")==="rtl"?"-right":"-left";return o+a},he=(e,t,o,a,c,m)=>{const p=Ee(o,Ke.fromDom(m)),S=pe(e.getStyle(m,p));if(t==="outdent"){const T=Math.max(0,S-a);e.setStyle(m,p,T?T+c:"")}else{const T=S+a+c;e.setStyle(m,p,T)}},ge=(e,t)=>Po(t,o=>{const a=Ee(yR(e),o),c=Hr(o,a).map(pe).getOr(0);return e.dom.getContentEditable(o.dom)!=="false"&&c>0}),Ce=e=>{const t=Xe(e);return!e.mode.isReadOnly()&&(t.length>1||ge(e,t))},Ae=e=>Lv(e)||zg(e),Ie=e=>Ka(e).exists(Ae),Xe=e=>Ye(kl(e.selection.getSelectedBlocks()),t=>!Ae(t)&&!Ie(t)&&me(t)),dt=(e,t)=>{var o,a;const{dom:c}=e,m=dd(e),p=(a=(o=/[a-z%]+$/i.exec(m))===null||o===void 0?void 0:o[0])!==null&&a!==void 0?a:"px",S=pe(m),T=yR(e);ye(Xe(e),H=>{he(c,t,T,S,p,H.dom)})},Lt=e=>dt(e,"indent"),Dt=e=>dt(e,"outdent"),At=e=>{if(e.selection.isCollapsed()&&Ce(e)){const t=e.dom,o=e.selection.getRng(),a=Et.fromRangeStart(o),c=t.getParent(o.startContainer,t.isBlock);if(c!==null&&IS(Ke.fromDom(c),a,e.schema))return te.some(()=>Dt(e))}return te.none()},Jt=(e,t,o)=>ia([At,I4,R4,(a,c)=>Lw(a,t,c),W_,vp,B4,se,A4,C,P4],a=>a(e,o)).filter(a=>e.selection.isEditable()),En=(e,t)=>{Jt(e,t,!1).fold(()=>{e.selection.isEditable()&&(FS(e),$S(e))},mn)},zn=(e,t)=>{Jt(e,t,!0).fold(()=>{e.selection.isEditable()&&oT(e)},mn)},Qn=(e,t)=>{e.addCommand("delete",()=>{En(e,t)}),e.addCommand("forwardDelete",()=>{zn(e,t)})},Co=5,es=400,yr=e=>e.touches===void 0||e.touches.length!==1?te.none():te.some(e.touches[0]),Dr=(e,t)=>{const o=Math.abs(e.clientX-t.x),a=Math.abs(e.clientY-t.y);return o>Co||a>Co},$o=e=>{const t=xa(),o=Da(!1),a=nb(c=>{e.dispatch("longpress",{...c,type:"longpress"}),o.set(!0)},es);e.on("touchstart",c=>{yr(c).each(m=>{a.cancel();const p={x:m.clientX,y:m.clientY,target:c.target};a.throttle(c),o.set(!1),t.set(p)})},!0),e.on("touchmove",c=>{a.cancel(),yr(c).each(m=>{t.on(p=>{Dr(m,p)&&(t.clear(),o.set(!1),e.dispatch("longpresscancel"))})})},!0),e.on("touchend touchcancel",c=>{a.cancel(),c.type!=="touchcancel"&&t.get().filter(m=>m.target.isEqualNode(c.target)).each(()=>{o.get()?c.preventDefault():e.dispatch("tap",{...c,type:"tap"})})},!0)},ys=(e,t)=>ho(e,t.nodeName),ao=(e,t)=>Xt(t)?!0:Vn(t)?!ys(e.getBlockElements(),t)&&!gd(t)&&!ou(e,t)&&!Va(t):!1,Nr=(e,t,o)=>Re(iu(Ke.fromDom(o),Ke.fromDom(t)),a=>ys(e,a.dom)),Ys=(e,t)=>{if(Xt(t)){if(t.data.length===0)return!0;if(/^\s+$/.test(t.data))return!t.nextSibling||ys(e,t.nextSibling)||Va(t.nextSibling)}return!1},Rl=e=>e.dom.create(Ul(e),e2(e)),Dl=e=>{const t=e.dom,o=e.selection,a=e.schema,c=a.getBlockElements(),m=o.getStart(),p=e.getBody();let S,T,H=null;const J=Ul(e);if(!m||!Vn(m))return;const ee=p.nodeName.toLowerCase();if(!a.isValidChild(ee,J.toLowerCase())||Nr(c,p,m))return;if(p.firstChild===p.lastChild&&Cr(p.firstChild)){S=Rl(e),S.appendChild(tm().dom),p.replaceChild(S,p.firstChild),e.selection.setCursorLocation(S,0),e.nodeChanged();return}let re=p.firstChild;for(;re;)if(Vn(re)&&oa(a,re),ao(a,re)){if(Ys(c,re)){T=re,re=re.nextSibling,t.remove(T);continue}if(!S){if(!H&&e.hasFocus()&&(H=_6(e.selection.getRng(),()=>document.createElement("span"))),!re.parentNode){re=null;break}S=Rl(e),p.insertBefore(S,re)}T=re,re=re.nextSibling,S.appendChild(T)}else S=null,re=re.nextSibling;H&&(e.selection.setRng(k6(H)),e.nodeChanged())},Ai=(e,t,o)=>{const a=Ke.fromDom(Rl(e)),c=tm();Pr(a,c),o(t,a);const m=document.createRange();return m.setStartBefore(c.dom),m.setEndBefore(c.dom),m},di=e=>{e.on("NodeChange",()=>Dl(e))},kp=e=>t=>(" "+t.attr("class")+" ").indexOf(e)!==-1,$y=(e,t,o)=>function(a){const c=arguments,m=c[c.length-2],p=m>0?t.charAt(m-1):"";if(p==='"')return a;if(p===">"){const S=t.lastIndexOf("<",m);if(S!==-1&&t.substring(S,m).indexOf('contenteditable="false"')!==-1)return a}return'<span class="'+o+'" data-mce-content="'+e.dom.encode(c[0])+'">'+e.dom.encode(typeof c[1]=="string"?c[1]:c[0])+"</span>"},Hb=(e,t,o)=>{let a=t.length,c=o.content;if(o.format!=="raw"){for(;a--;)c=c.replace(t[a],$y(e,c,e0(e)));o.content=c}},Ep=(e,t)=>Po(e,o=>{const a=t.match(o);return a!==null&&a[0].length===t.length}),$w=e=>{const t="contenteditable",o=" "+an.trim(h8(e))+" ",a=" "+an.trim(e0(e))+" ",c=kp(o),m=kp(a),p=IR(e);p.length>0&&e.on("BeforeSetContent",S=>{Hb(e,p,S)}),e.parser.addAttributeFilter("class",S=>{let T=S.length;for(;T--;){const H=S[T];c(H)?H.attr(t,"true"):m(H)&&H.attr(t,"false")}}),e.serializer.addAttributeFilter(t,S=>{let T=S.length;for(;T--;){const H=S[T];if(!c(H)&&!m(H))continue;const J=H.attr("data-mce-content");p.length>0&&J?Ep(p,J)?(H.name="#text",H.type=3,H.raw=!0,H.value=J):H.remove():H.attr(t,null)}})},zb=e=>Ft(Ke.fromDom(e.getBody()),"*[data-mce-caret]").map(t=>t.dom).getOrNull(),gh=(e,t)=>{t.hasAttribute("data-mce-caret")&&(op(t),e.selection.setRng(e.selection.getRng()),e.selection.scrollIntoView(t))},F0=(e,t)=>{const o=zb(e);if(o){if(t.type==="compositionstart"){t.preventDefault(),t.stopPropagation(),gh(e,o);return}M1(o)&&(gh(e,o),e.undoManager.add())}},$0=e=>{e.on("keyup compositionstart",ot(F0,e))},Vy=yo,ek=(e,t,o)=>z4(t,e,o,ui,og,Vy),Vw=(e,t,o)=>J6(t,e,o,m=>ui(m)||FN(m),m=>og(m)||py(m),Vy),Ub=e=>{const t=e.dom.create(Ul(e));return t.innerHTML='<br data-mce-bogus="1">',t},hh=(e,t,o)=>{const a=io(e.getBody()),c=ot(VE,t===1?a.next:a.prev);if(o.collapsed){const m=e.dom.getParent(o.startContainer,"PRE");if(!m)return;if(!c(Et.fromRangeStart(o))){const S=Ke.fromDom(Ub(e));t===1?mt(Ke.fromDom(m),S):Er(Ke.fromDom(m),S),e.selection.select(S.dom,!0),e.selection.collapse()}}},Ap=(e,t)=>{const o=t?Tl.Forwards:Tl.Backwards,a=e.selection.getRng();return ek(o,e,a).orThunk(()=>(hh(e,o,a),te.none()))},Hw=(e,t)=>{const o=t?1:-1,a=e.selection.getRng();return Vw(o,e,a).orThunk(()=>(hh(e,o,a),te.none()))},zw=(e,t)=>{const o=t?e.getEnd(!0):e.getStart(!0);return J2(o)?!t:t},Ts=(e,t)=>Ap(e,zw(e.selection,t)).exists(o=>(ag(e,o),!0)),ph=(e,t)=>Hw(e,t).exists(o=>(ag(e,o),!0)),gm=(e,t)=>Q6(e,t,t?og:ui),V0=(e,t)=>D4(e,!t).map(o=>{const a=o.toRange(),c=e.selection.getRng();return t?a.setStart(c.startContainer,c.startOffset):a.setEnd(c.endContainer,c.endOffset),a}).exists(o=>(ag(e,o),!0)),tk=e=>xe(["figcaption"],ls(e)),Tp=(e,t,o)=>{const a=ot(ss,t);return ya(Ke.fromDom(e.container()),c=>o.isBlock(ls(c)),a).filter(tk)},Hy=(e,t,o)=>t?j6(e.dom,o):W6(e.dom,o),nO=(e,t)=>{const o=Ke.fromDom(e.getBody()),a=Et.fromRangeStart(e.selection.getRng());return Tp(a,o,e.schema).exists(()=>{if(Hy(o,t,a)){const m=Ai(e,o,t?Pr:zi);return e.selection.setRng(m),!0}else return!1})},nk=(e,t)=>e.selection.isCollapsed()?nO(e,t):!1,rH=(e,t,o)=>{const a=e.selection.getRng(),c=Et.fromRangeStart(a);return e.getBody().firstChild===t&&W6(o,c)?(e.execCommand("InsertNewBlockBefore"),!0):!1},zy=(e,t)=>{const o=e.selection.getRng(),a=Et.fromRangeStart(o);return e.getBody().lastChild===t&&j6(t,a)?(e.execCommand("InsertNewBlockAfter"),!0):!1},aH=(e,t)=>t?te.from(e.dom.getParent(e.selection.getNode(),"details")).map(o=>zy(e,o)).getOr(!1):te.from(e.dom.getParent(e.selection.getNode(),"summary")).bind(o=>te.from(e.dom.getParent(o,"details")).map(a=>rH(e,a,o))).getOr(!1),cc=(e,t)=>aH(e,t),H0={shiftKey:!1,altKey:!1,ctrlKey:!1,metaKey:!1,keyCode:0},iH=e=>Ue(e,t=>({...H0,...t})),hB=e=>Ue(e,t=>({...H0,...t})),ok=(e,t)=>t.keyCode===e.keyCode&&t.shiftKey===e.shiftKey&&t.altKey===e.altKey&&t.ctrlKey===e.ctrlKey&&t.metaKey===e.metaKey,pB=(e,t)=>Wo(iH(e),o=>ok(o,t)?[o]:[]),bB=(e,t)=>Wo(hB(e),o=>ok(o,t)?[o]:[]),ko=(e,...t)=>()=>e.apply(null,t),Wb=(e,t)=>Nn(pB(e,t),o=>o.action()),sk=(e,t)=>ia(bB(e,t),o=>o.action()),jb=(e,t)=>{const o=t?Tl.Forwards:Tl.Backwards,a=e.selection.getRng();return z4(e,o,a,b0,hy,Rt).exists(c=>(ag(e,c),!0))},Uy=(e,t)=>{const o=t?1:-1,a=e.selection.getRng();return J6(e,o,a,b0,hy,Rt).exists(c=>(ag(e,c),!0))},oO=(e,t)=>Q6(e,t,t?hy:b0),sO=gs.generate([{none:["current"]},{first:["current"]},{middle:["current","target"]},{last:["current"]}]),gf={...sO,none:e=>sO.none(e)},vB=(e,t)=>aO(e,t,Gt),aO=(e,t,o)=>Wo(ri(e),a=>Ws(a,t)?o(a)?[a]:[]:aO(a,t,o)),yB=(e,t,o=Fn)=>{if(o(t))return te.none();if(xe(e,ls(t)))return te.some(t);const a=c=>Ws(c,"table")||o(c);return Ec(t,e.join(","),a)},xB=(e,t)=>yB(["td","th"],e,t),lH=e=>vB(e,"th,td"),Ct=(e,t)=>Ra(e,"table",t),eo=(e,t,o,a,c=Gt)=>{const m=a===1;if(!m&&o<=0)return gf.first(e[0]);if(m&&o>=e.length-1)return gf.last(e[e.length-1]);{const p=o+a,S=e[p];return c(S)?gf.middle(t,S):eo(e,t,p,a,c)}},Ao=(e,t)=>Ct(e,t).bind(o=>{const a=lH(o);return no(a,m=>ss(e,m)).map(m=>({index:m,all:a}))}),xr=(e,t,o)=>Ao(e,o).fold(()=>gf.none(e),c=>eo(c.all,e,c.index,1,t)),ga=(e,t,o)=>Ao(e,o).fold(()=>gf.none(),c=>eo(c.all,e,c.index,-1,t)),Na=e=>EC(e).filter(t=>t.trim().length!==0||t.indexOf(qa)>-1).isSome(),_a=e=>ll(e)&&yi(e,"contenteditable")==="false",Xa=["img","br"],Wy=e=>Na(e)||xe(Xa,ls(e))||_a(e),cH=e=>$a(e,Wy),wB=(e,t)=>({left:e.left-t,top:e.top-t,right:e.right+t*2,bottom:e.bottom+t*2,width:e.width+t,height:e.height+t}),sW=(e,t)=>Wo(t,o=>{const a=wB(zm(o.getBoundingClientRect()),-1);return[{x:a.left,y:e(a),cell:o},{x:a.right,y:e(a),cell:o}]}),_ee=(e,t,o)=>fn(e,(a,c)=>a.fold(()=>te.some(c),m=>{const p=Math.sqrt(Math.abs(m.x-t)+Math.abs(m.y-o)),S=Math.sqrt(Math.abs(c.x-t)+Math.abs(c.y-o));return te.some(S<p?c:m)}),te.none()),rW=(e,t,o,a,c)=>{const m=da(Ke.fromDom(o),"td,th,caption").map(S=>S.dom),p=Ye(sW(e,m),S=>t(S,c));return _ee(p,a,c).map(S=>S.cell)},kee=e=>e.bottom,Eee=e=>e.top,Aee=(e,t)=>e.y<t,Tee=(e,t)=>e.y>t,Oee=ot(rW,kee,Aee),Ree=ot(rW,Eee,Tee),Dee=(e,t)=>on(t.getClientRects()).bind(o=>Oee(e,o.left,o.top)).bind(o=>Y_(Z6(o),t)),Nee=(e,t)=>ro(t.getClientRects()).bind(o=>Ree(e,o.left,o.top)).bind(o=>Y_(jV(o),t)),Iee=(e,t,o)=>o.breakAt.exists(a=>e(t,a).breakAt.isSome()),Pee=e=>e.breakType===mm.Wrap&&e.positions.length===0,Bee=e=>e.breakType===mm.Br&&e.positions.length===1,aW=(e,t,o)=>{const a=e(t,o);return Pee(a)||!Cr(o.getNode())&&Bee(a)?!Iee(e,t,a):a.breakAt.isNone()},Mee=ot(aW,Dw),Lee=ot(aW,Nw),Fee=(e,t,o)=>{const a=Et.fromRangeStart(t);return ty(!e,o).exists(c=>c.isEqual(a))},$ee=(e,t,o,a)=>{const c=e.selection.getRng(),m=t?1:-1;return BE()&&Fee(t,c,o)?(Xr(m,e,o,!t,!1).each(p=>{ag(e,p)}),!0):!1},Vee=(e,t,o)=>Dee(t,o).orThunk(()=>on(o.getClientRects()).bind(a=>$4(U6(e,Et.before(t)),a.left))).getOr(Et.before(t)),Hee=(e,t,o)=>Nee(t,o).orThunk(()=>on(o.getClientRects()).bind(a=>$4(X_(e,Et.after(t)),a.left))).getOr(Et.after(t)),iW=(e,t)=>{const o=t.getNode(e);return tu(o)?te.some(o):te.none()},zee=(e,t,o)=>{t.undoManager.transact(()=>{const a=e?mt:Er,c=Ai(t,Ke.fromDom(o),a);ag(t,c)})},lW=(e,t,o)=>{const a=iW(!!t,o),c=t===!1;a.fold(()=>ag(e,o.toRange()),m=>ty(c,e.getBody()).filter(p=>p.isEqual(o)).fold(()=>ag(e,o.toRange()),p=>zee(t,e,m)))},Uee=(e,t,o,a)=>{const c=e.selection.getRng(),m=Et.fromRangeStart(c),p=e.getBody();if(!t&&Mee(a,m)){const S=Vee(p,o,m);return lW(e,t,S),!0}else if(t&&Lee(a,m)){const S=Hee(p,o,m);return lW(e,t,S),!0}else return!1},cW=(e,t,o)=>te.from(e.dom.getParent(e.selection.getNode(),"td,th")).bind(a=>te.from(e.dom.getParent(a,"table")).map(c=>o(e,t,c,a))).getOr(!1),uW=(e,t)=>cW(e,t,$ee),uH=(e,t)=>cW(e,t,Uee),Wee=e=>{const t=xb.exact(e,0,e,0);return tF(t)},dW=(e,t,o)=>o.fold(te.none,te.none,(a,c)=>cH(c).map(m=>Wee(m)),a=>(e.execCommand("mceTableInsertRowAfter"),fW(e,t,a))),fW=(e,t,o)=>dW(e,t,xr(o,br)),jee=(e,t,o)=>dW(e,t,ga(o,br)),mW=(e,t)=>{const o=["table","li","dl"],a=Ke.fromDom(e.getBody()),c=S=>{const T=ls(S);return ss(S,a)||xe(o,T)},m=e.selection.getRng(),p=Ke.fromDom(t?m.endContainer:m.startContainer);return xB(p,c).map(S=>(Ct(S,c).each(J=>{e.model.table.clearSelectedCells(J.dom)}),e.selection.collapse(!t),(t?fW:jee)(e,c,S).each(J=>{e.selection.setRng(J)}),!0)).getOr(!1)},Zee=(e,t,o)=>{const a=qo.os.isMacOS()||qo.os.isiOS();Wb([{keyCode:kn.RIGHT,action:ko(Ts,e,!0)},{keyCode:kn.LEFT,action:ko(Ts,e,!1)},{keyCode:kn.UP,action:ko(ph,e,!1)},{keyCode:kn.DOWN,action:ko(ph,e,!0)},...a?[{keyCode:kn.UP,action:ko(V0,e,!1),metaKey:!0,shiftKey:!0},{keyCode:kn.DOWN,action:ko(V0,e,!0),metaKey:!0,shiftKey:!0}]:[],{keyCode:kn.RIGHT,action:ko(uW,e,!0)},{keyCode:kn.LEFT,action:ko(uW,e,!1)},{keyCode:kn.UP,action:ko(uH,e,!1)},{keyCode:kn.DOWN,action:ko(uH,e,!0)},{keyCode:kn.UP,action:ko(uH,e,!1)},{keyCode:kn.UP,action:ko(cc,e,!1)},{keyCode:kn.DOWN,action:ko(cc,e,!0)},{keyCode:kn.RIGHT,action:ko(jb,e,!0)},{keyCode:kn.LEFT,action:ko(jb,e,!1)},{keyCode:kn.UP,action:ko(Uy,e,!1)},{keyCode:kn.DOWN,action:ko(Uy,e,!0)},{keyCode:kn.RIGHT,action:ko(Z4,e,t,!0)},{keyCode:kn.LEFT,action:ko(Z4,e,t,!1)},{keyCode:kn.RIGHT,ctrlKey:!a,altKey:a,action:ko(rB,e,t)},{keyCode:kn.LEFT,ctrlKey:!a,altKey:a,action:ko(aB,e,t)},{keyCode:kn.UP,action:ko(nk,e,!1)},{keyCode:kn.DOWN,action:ko(nk,e,!0)}],o).each(c=>{o.preventDefault()})},Kee=(e,t)=>{e.on("keydown",o=>{o.isDefaultPrevented()||Zee(e,t,o)})},Op=(e,t)=>({container:e,offset:t}),CB=dr.DOM,SB=e=>t=>e===t?-1:0,qee=e=>t=>e.isBlock(t)||xe(["BR","IMG","HR","INPUT"],t.nodeName)||e.getContentEditable(t)==="false",dH=(e,t,o)=>{if(Xt(e)&&t>=0)return te.some(Op(e,t));{const a=Qf(CB);return te.from(a.backwards(e,t,SB(e),o)).map(c=>Op(c.container,c.container.data.length))}},Gee=(e,t,o)=>{if(Xt(e)&&t>=e.length)return te.some(Op(e,t));{const a=Qf(CB);return te.from(a.forwards(e,t,SB(e),o)).map(c=>Op(c.container,0))}},fH=(e,t,o)=>{if(!Xt(e))return te.none();const a=e.data;if(t>=0&&t<=a.length)return te.some(Op(e,t));{const c=Qf(CB);return te.from(c.backwards(e,t,SB(e),o)).bind(m=>{const p=m.container.data;return fH(m.container,t+p.length,o)})}},gW=(e,t,o)=>{if(!Xt(e))return te.none();const a=e.data;if(t<=a.length)return te.some(Op(e,t));{const c=Qf(CB);return te.from(c.forwards(e,t,SB(e),o)).bind(m=>gW(m.container,t-a.length,o))}},mH=(e,t,o,a,c)=>{const m=Qf(e,qee(e));return te.from(m.backwards(t,o,a,c))},Yee=e=>e.collapsed&&Xt(e.startContainer),Xee=e=>rc(e.toString().replace(/\u00A0/g," ")),hW=e=>e!==""&&` \f
\r	\v`.indexOf(e)!==-1,Jee=(e,t)=>e.substring(t.length),Qee=(e,t,o,a=!1)=>{let c;const m=o.charAt(0);for(c=t-1;c>=0;c--){const p=e.charAt(c);if(!a&&hW(p))return te.none();if(m===p&&Ns(e,o,c,t))break}return te.some(c)},gH=(e,t,o,a=!1)=>{if(!Yee(t))return te.none();const c={text:"",offset:0},m=(S,T,H)=>(c.text=H+c.text,c.offset+=T,Qee(c.text,c.offset,o,a).getOr(T)),p=e.getParent(t.startContainer,e.isBlock)||e.getRoot();return mH(e,t.startContainer,t.startOffset,m,p).bind(S=>{const T=t.cloneRange();if(T.setStart(S.container,S.offset),T.setEnd(t.endContainer,t.endOffset),T.collapsed)return te.none();const H=Xee(T);return H.lastIndexOf(o)!==0?te.none():te.some({text:Jee(H,o),range:T,trigger:o})})},ete=e=>e.nodeType===Bd,tte=e=>e.nodeType===_l,pW=e=>{if(ete(e))return Op(e,e.data.length);{const t=e.childNodes;return t.length>0?pW(t[t.length-1]):Op(e,t.length)}},bW=(e,t)=>{const o=e.childNodes;return o.length>0&&t<o.length?bW(o[t],0):o.length>0&&tte(e)&&o.length===t?pW(o[o.length-1]):Op(e,t)},nte=(e,t)=>{var o;const a=(o=e.getParent(t.container,e.isBlock))!==null&&o!==void 0?o:e.getRoot();return mH(e,t.container,t.offset,(c,m)=>m===0?-1:m,a).filter(c=>{const m=c.container.data.charAt(c.offset-1);return!hW(m)}).isSome()},ote=e=>t=>{const o=bW(t.startContainer,t.startOffset);return!nte(e,o)},ste=(e,t,o)=>ia(o.triggers,a=>gH(e,t,a)),rte=(e,t)=>{const o=t(),a=e.selection.getRng();return ste(e.dom,a,o).bind(c=>vW(e,t,c))},vW=(e,t,o,a={})=>{var c;const m=t(),S=(c=e.selection.getRng().startContainer.nodeValue)!==null&&c!==void 0?c:"",T=Ye(m.lookupByTrigger(o.trigger),J=>o.text.length>=J.minChars&&J.matches.getOrThunk(()=>ote(e.dom))(o.range,S,o.text));if(T.length===0)return te.none();const H=Promise.all(Ue(T,J=>J.fetch(o.text,J.maxResults,a).then(re=>({matchText:o.text,items:re,columns:J.columns,onAction:J.onAction,highlightOn:J.highlightOn}))));return te.some({lookupData:H,context:o})};var Rp;(function(e){e[e.Error=0]="Error",e[e.Value=1]="Value"})(Rp||(Rp={}));const hH=(e,t,o)=>e.stype===Rp.Error?t(e.serror):o(e.svalue),ate=e=>{const t=[],o=[];return ye(e,a=>{hH(a,c=>o.push(c),c=>t.push(c))}),{values:t,errors:o}},ite=(e,t)=>e.stype===Rp.Error?{stype:Rp.Error,serror:t(e.serror)}:e,lte=(e,t)=>e.stype===Rp.Value?{stype:Rp.Value,svalue:t(e.svalue)}:e,cte=(e,t)=>e.stype===Rp.Value?t(e.svalue):e,ute=(e,t)=>e.stype===Rp.Error?t(e.serror):e,yW=e=>({stype:Rp.Value,svalue:e}),xW=e=>({stype:Rp.Error,serror:e}),bc={fromResult:e=>e.fold(xW,yW),toResult:e=>hH(e,uo.error,uo.value),svalue:yW,partition:ate,serror:xW,bind:cte,bindError:ute,map:lte,mapError:ite,fold:hH},pH=e=>q(e)&&Yt(e).length>100?" removed due to size":JSON.stringify(e,null,2),dte=e=>{const t=e.length>10?e.slice(0,10).concat([{path:[],getErrorInfo:ct("... (only showing first ten failures)")}]):e;return Ue(t,o=>"Failed path: ("+o.path.join(" > ")+`)
`+o.getErrorInfo())},_B=(e,t)=>bc.serror([{path:e,getErrorInfo:t}]),fte=(e,t,o)=>_B(e,()=>'Could not find valid *required* value for "'+t+'" in '+pH(o)),mte=(e,t)=>_B(e,()=>'Choice schema did not contain choice key: "'+t+'"'),gte=(e,t,o)=>_B(e,()=>'The chosen schema: "'+o+'" did not exist in branches: '+pH(t)),hte=(e,t)=>_B(e,ct(t)),pte=(e,t,o,a)=>Hs(o,a).fold(()=>gte(e,o,a),m=>m.extract(e.concat(["branch: "+a]),t)),bte=(e,t)=>({extract:(c,m)=>Hs(m,e).fold(()=>mte(c,e),S=>pte(c,m,t,S)),toString:()=>"chooseOn("+e+"). Possible values: "+Yt(t)}),vte=(e,t)=>t,yte=(e,t)=>de(e)&&de(t)?kB(e,t):t,wW=e=>(...t)=>{if(t.length===0)throw new Error("Can't merge zero objects");const o={};for(let a=0;a<t.length;a++){const c=t[a];for(const m in c)ho(c,m)&&(o[m]=e(o[m],c[m]))}return o},kB=wW(yte),CW=wW(vte),SW=()=>({tag:"required",process:{}}),xte=e=>({tag:"defaultedThunk",process:e}),_W=e=>xte(ct(e)),wte=()=>({tag:"option",process:{}}),Cte=(e,t)=>e.length>0?bc.svalue(kB(t,CW.apply(void 0,e))):bc.svalue(t),kW=e=>Kt(bc.serror,so)(e),Ste={consolidateObj:(e,t)=>{const o=bc.partition(e);return o.errors.length>0?kW(o.errors):Cte(o.values,t)},consolidateArr:e=>{const t=bc.partition(e);return t.errors.length>0?kW(t.errors):bc.svalue(t.values)}},_te=(e,t,o,a)=>({tag:"field",key:e,newKey:t,presence:o,prop:a}),kte=(e,t)=>({tag:"custom",newKey:e,instantiator:t}),EW=(e,t,o)=>{switch(e.tag){case"field":return t(e.key,e.newKey,e.presence,e.prop);case"custom":return o(e.newKey,e.instantiator)}},bH=e=>{const t=(a,c)=>bc.bindError(e(c),m=>hte(a,m)),o=ct("val");return{extract:t,toString:o}},Ete=bH(bc.svalue),Ate=(e,t,o,a)=>Hs(t,o).fold(()=>fte(e,o,t),a),AW=(e,t,o,a)=>{const c=Hs(e,t).getOrThunk(()=>o(e));return a(c)},Tte=(e,t,o)=>o(Hs(e,t)),Ote=(e,t,o,a)=>{const c=Hs(e,t).map(m=>m===!0?o(e):m);return a(c)},Rte=(e,t,o,a,c)=>{const m=S=>c.extract(t.concat([a]),S),p=S=>S.fold(()=>bc.svalue(te.none()),T=>{const H=c.extract(t.concat([a]),T);return bc.map(H,te.some)});switch(e.tag){case"required":return Ate(t,o,a,m);case"defaultedThunk":return AW(o,a,e.process,m);case"option":return Tte(o,a,p);case"defaultedOptionThunk":return Ote(o,a,e.process,p);case"mergeWithThunk":return AW(o,a,ct({}),S=>{const T=kB(e.process(o),S);return m(T)})}},Dte=(e,t,o)=>{const a={},c=[];for(const m of o)EW(m,(p,S,T,H)=>{const J=Rte(T,e,t,p,H);bc.fold(J,ee=>{c.push(...ee)},ee=>{a[S]=ee})},(p,S)=>{a[p]=S(t)});return c.length>0?bc.serror(c):bc.svalue(a)},vH=e=>({extract:(a,c)=>Dte(a,c,e),toString:()=>`obj{
`+Ue(e,c=>EW(c,(m,p,S,T)=>m+" -> "+T.toString(),(m,p)=>"state("+m+")")).join(`
`)+"}"}),TW=e=>({extract:(a,c)=>{const m=Ue(c,(p,S)=>e.extract(a.concat(["["+S+"]"]),p));return Ste.consolidateArr(m)},toString:()=>"array("+e.toString()+")"}),Nte=e=>bH(t=>e(t).fold(bc.serror,bc.svalue)),Ite=(e,t,o)=>{const a=t.extract([e],o);return bc.mapError(a,c=>({input:o,errors:c}))},Pte=(e,t,o)=>bc.toResult(Ite(e,t,o)),Bte=e=>`Errors: 
`+dte(e.errors).join(`
`)+`

Input object: `+pH(e.input),OW=(e,t)=>bte(e,Bl(t,vH)),Mte=ct(Ete),EB=(e,t)=>bH(o=>{const a=typeof o;return e(o)?bc.svalue(o):bc.serror(`Expected type: ${t} but got: ${a}`)}),Lte=EB(P,"number"),AB=EB(le,"string"),Fte=EB(Fe,"boolean"),yH=EB(Ve,"function"),iO=_te,RW=kte,$te=e=>Nte(t=>xe(e,t)?uo.value(t):uo.error(`Unsupported value: "${t}", choose one of "${e.join(", ")}".`)),DW=(e,t)=>iO(e,e,SW(),t),NW=e=>DW(e,AB),IW=e=>DW(e,yH),Vte=(e,t)=>iO(e,e,SW(),TW(t)),xH=(e,t)=>iO(e,e,wte(),t),TB=e=>xH(e,AB),Hte=e=>xH(e,yH),zte=(e,t)=>iO(e,e,_W(t),Mte()),rk=(e,t,o)=>iO(e,e,_W(t),o),PW=(e,t)=>rk(e,t,Lte),Ute=(e,t)=>rk(e,t,AB),BW=(e,t,o)=>rk(e,t,$te(o)),wH=(e,t)=>rk(e,t,Fte),CH=(e,t)=>rk(e,t,yH),Wte=(e,t,o)=>rk(e,t,TW(o)),jte=NW("type"),Zte=IW("fetch"),SH=IW("onAction"),Kte=CH("onSetup",()=>Nt),qte=TB("text"),Gte=TB("icon"),Yte=TB("tooltip"),Xte=TB("label"),Jte=wH("active",!1),Qte=wH("enabled",!0),MW=wH("primary",!1),ene=e=>zte("columns",e),lO=e=>Ute("type",e),tne=vH([jte,NW("trigger"),PW("minChars",1),ene(1),PW("maxResults",10),Hte("matches"),Zte,SH,Wte("highlightOn",[],AB)]),nne=e=>Pte("Autocompleter",tne,e),_H=[Qte,Yte,Gte,qte,Kte],LW=[Jte].concat(_H),one=[CH("predicate",Fn),BW("scope","node",["node","editor"]),BW("position","selection",["node","selection","line"])],sne=_H.concat([lO("contextformbutton"),MW,SH,RW("original",Tn)]),rne=LW.concat([lO("contextformbutton"),MW,SH,RW("original",Tn)]),ane=_H.concat([lO("contextformbutton")]),ine=LW.concat([lO("contextformtogglebutton")]),lne=OW("type",{contextformbutton:sne,contextformtogglebutton:rne});vH([lO("contextform"),CH("initValue",ct("")),Xte,Vte("commands",lne),xH("launch",OW("type",{contextformbutton:ane,contextformtogglebutton:ine}))].concat(one));const cne=e=>{const t=e.ui.registry.getAll().popups,o=Bl(t,p=>nne(p).fold(S=>{throw new Error(Bte(S))},Tn)),a=vu(pl(o,p=>p.trigger)),c=wc(o);return{dataset:o,triggers:a,lookupByTrigger:p=>Ye(c,S=>S.trigger===p)}},une=(e,t)=>{const o=nb(t.load,50);e.on("input",a=>{a.inputType==="insertCompositionText"&&!e.composing||o.throttle()}),e.on("keydown",a=>{const c=a.which;c===8?o.throttle():c===27?(o.cancel(),t.cancelIfNecessary()):(c===38||c===40)&&o.cancel()},!0),e.on("remove",o.cancel)},dne=e=>{const t=xa(),o=Da(!1),a=t.isSet,c=()=>{a()&&(H8(e),o.set(!1),t.clear())},m=ee=>{a()||t.set({trigger:ee.trigger,matchLength:ee.text.length})},p=sl(()=>cne(e)),S=ee=>t.get().map(re=>gH(e.dom,e.selection.getRng(),re.trigger,!0).bind(ve=>vW(e,p,ve,ee))).getOrThunk(()=>rte(e,p)),T=ee=>{S(ee).fold(c,re=>{m(re.context),re.lookupData.then(ve=>{t.get().map(Te=>{const we=re.context;Te.trigger===we.trigger&&(t.set({...Te,matchLength:we.text.length}),o.get()?(aA(e,{range:we.range}),rA(e,{lookupData:ve})):(o.set(!0),aA(e,{range:we.range}),sA(e,{lookupData:ve})))})})})},H=(ee,re)=>{const ve=ee.compareBoundaryPoints(window.Range.START_TO_START,re),Te=ee.compareBoundaryPoints(window.Range.END_TO_END,re);return ve>=0&&Te<=0},J=()=>t.get().bind(({trigger:ee})=>{const re=e.selection.getRng();return gH(e.dom,re,ee,o.get()).filter(({range:ve})=>H(re,ve)).map(({range:ve})=>ve)});e.addCommand("mceAutocompleterReload",(ee,re)=>{const ve=q(re)?re.fetchOptions:{};T(ve)}),e.addCommand("mceAutocompleterClose",c),e.addCommand("mceAutocompleterRefreshActiveRange",()=>{J().each(ee=>{aA(e,{range:ee})})}),e.editorCommands.addQueryStateHandler("mceAutoCompleterInRange",()=>J().isSome()),une(e,{cancelIfNecessary:c,load:T})},fne=ti().browser.isSafari(),FW=e=>Fu(Ke.fromDom(e)),$W=(e,t)=>{var o;return e.startOffset===0&&e.endOffset===((o=t.textContent)===null||o===void 0?void 0:o.length)},OB=(e,t)=>te.from(e.getParent(t.container(),"details")),VW=(e,t)=>OB(e,t).isSome(),mne=(e,t)=>{const o=te.from(e.getParent(t.startContainer,"details")),a=te.from(e.getParent(t.endContainer,"details"));if(o.isSome()||a.isSome()){const c=o.bind(m=>te.from(e.select("summary",m)[0]));return te.some({startSummary:c,startDetails:o,endDetails:a})}else return te.none()},gne=(e,t)=>fo(t).exists(o=>o.isEqual(e)),hne=(e,t)=>ef(t).exists(o=>Cr(o.getNode())&&Hu(t,o).exists(a=>a.isEqual(e))||o.isEqual(e)),pne=(e,t)=>t.startSummary.exists(o=>gne(e,o)),bne=(e,t)=>t.startSummary.exists(o=>hne(e,o)),vne=(e,t)=>t.startDetails.exists(o=>Hu(o,e).forall(a=>t.startSummary.exists(c=>!c.contains(e.container())&&c.contains(a.container())))),yne=(e,t,o)=>o.startDetails.exists(a=>Lc(e,t).forall(c=>!a.contains(c.container()))),HW=(e,t)=>{const o=t.getNode();Ze(o)||e.selection.setCursorLocation(o,t.offset())},zW=(e,t,o)=>{const a=e.dom.getParent(t.container(),"details");if(a&&!a.open){const c=e.dom.select("summary",a)[0];c&&(o?fo(c):ef(c)).each(p=>HW(e,p))}else HW(e,t)},xne=(e,t)=>{const o=T=>T.contains(e.startContainer),a=T=>T.contains(e.endContainer),c=t.startSummary.exists(o),m=t.startSummary.exists(a),p=t.startDetails.forall(T=>t.endDetails.forall(H=>T!==H));return(c||m)&&!(c&&m)||p},UW=(e,t,o)=>{const{dom:a,selection:c}=e,m=e.getBody();if(o==="character"){const p=Et.fromRangeStart(c.getRng()),S=a.getParent(p.container(),a.isBlock),T=OB(a,p),H=S&&a.isEmpty(S),J=be(S==null?void 0:S.previousSibling),ee=be(S==null?void 0:S.nextSibling);return H&&(t?ee:J)&&s0(!t,m,p).exists(Te=>VW(a,Te)&&!Id(T,OB(a,Te)))?!0:s0(t,m,p).fold(Fn,re=>{const ve=OB(a,re);if(VW(a,re)&&!Id(T,ve)){if(t||zW(e,re,!1),S&&H){if(t&&J)return!0;if(!t&&ee)return!0;zW(e,re,t),e.dom.remove(S)}return!0}else return!1})}else return!1},wne=(e,t,o,a)=>{const m=e.selection.getRng(),p=Et.fromRangeStart(m),S=e.getBody();return a==="selection"?xne(m,t):o?bne(p,t)||yne(S,p,t):pne(p,t)||vne(p,t)},Cne=(e,t,o)=>mne(e.dom,e.selection.getRng()).fold(()=>UW(e,t,o),a=>wne(e,a,t,o)||UW(e,t,o)),Sne=(e,t,o)=>{const a=e.selection,c=a.getNode(),m=a.getRng(),p=Et.fromRangeStart(m);return Rg(c)?(o==="selection"&&$W(m,c)||uI(t,p,c)?FW(c):e.undoManager.transact(()=>{const S=a.getSel();let{anchorNode:T,anchorOffset:H,focusNode:J,focusOffset:ee}=S??{};const re=()=>{Oe(T)&&Oe(H)&&Oe(J)&&Oe(ee)&&(S==null||S.setBaseAndExtent(T,H,J,ee))},ve=()=>{T=S==null?void 0:S.anchorNode,H=S==null?void 0:S.anchorOffset,J=S==null?void 0:S.focusNode,ee=S==null?void 0:S.focusOffset},Te=(Me,Qe)=>{ye(Me.childNodes,lt=>{ay(lt)&&Qe.appendChild(lt)})},we=e.dom.create("span",{"data-mce-bogus":"1"});Te(c,we),c.appendChild(we),re(),(o==="word"||o==="line")&&(S==null||S.modify("extend",t?"right":"left",o)),!a.isCollapsed()&&$W(a.getRng(),we)?FW(c):(e.execCommand(t?"ForwardDelete":"Delete"),ve(),Te(we,c),re()),e.dom.remove(we)}),!0):!1},Uw=(e,t,o)=>Cne(e,t,o)||fne&&Sne(e,t,o)?te.some(Nt):te.none(),WW=e=>(t,o,a={})=>{const c=t.getBody(),m={bubbles:!0,composed:!0,data:null,isComposing:!1,detail:0,view:null,target:c,currentTarget:c,eventPhase:Event.AT_TARGET,originalTarget:c,explicitOriginalTarget:c,isTrusted:!1,srcElement:c,cancelable:!1,preventDefault:Nt,inputType:o},p=Bg(new InputEvent(e));return t.dispatch(e,{...p,...m,...a})},cO=WW("input"),RB=WW("beforeinput"),jW=ti(),ZW=jW.os,KW=ZW.isMacOS()||ZW.isiOS(),_ne=jW.browser.isFirefox(),kne=(e,t,o)=>{const a=o.keyCode===kn.BACKSPACE?"deleteContentBackward":"deleteContentForward",c=e.selection.isCollapsed(),m=c?"character":"selection",p=S=>c?S?"word":"line":"selection";sk([{keyCode:kn.BACKSPACE,action:ko(At,e)},{keyCode:kn.BACKSPACE,action:ko(I4,e,!1)},{keyCode:kn.DELETE,action:ko(I4,e,!0)},{keyCode:kn.BACKSPACE,action:ko(R4,e,!1)},{keyCode:kn.DELETE,action:ko(R4,e,!0)},{keyCode:kn.BACKSPACE,action:ko(Lw,e,t,!1)},{keyCode:kn.DELETE,action:ko(Lw,e,t,!0)},{keyCode:kn.BACKSPACE,action:ko(vp,e,!1)},{keyCode:kn.DELETE,action:ko(vp,e,!0)},{keyCode:kn.BACKSPACE,action:ko(Uw,e,!1,m)},{keyCode:kn.DELETE,action:ko(Uw,e,!0,m)},...KW?[{keyCode:kn.BACKSPACE,altKey:!0,action:ko(Uw,e,!1,p(!0))},{keyCode:kn.DELETE,altKey:!0,action:ko(Uw,e,!0,p(!0))},{keyCode:kn.BACKSPACE,metaKey:!0,action:ko(Uw,e,!1,p(!1))}]:[{keyCode:kn.BACKSPACE,ctrlKey:!0,action:ko(Uw,e,!1,p(!0))},{keyCode:kn.DELETE,ctrlKey:!0,action:ko(Uw,e,!0,p(!0))}],{keyCode:kn.BACKSPACE,action:ko(B4,e,!1)},{keyCode:kn.DELETE,action:ko(B4,e,!0)},{keyCode:kn.BACKSPACE,action:ko(se,e,!1)},{keyCode:kn.DELETE,action:ko(se,e,!0)},{keyCode:kn.BACKSPACE,action:ko(A4,e,!1)},{keyCode:kn.DELETE,action:ko(A4,e,!0)},{keyCode:kn.BACKSPACE,action:ko(W_,e,!1)},{keyCode:kn.DELETE,action:ko(W_,e,!0)},{keyCode:kn.BACKSPACE,action:ko(C,e,!1)},{keyCode:kn.DELETE,action:ko(C,e,!0)},{keyCode:kn.BACKSPACE,action:ko(P4,e,!1)},{keyCode:kn.DELETE,action:ko(P4,e,!0)}],o).filter(S=>e.selection.isEditable()).each(S=>{o.preventDefault(),RB(e,a).isDefaultPrevented()||(S(),cO(e,a))})},Ene=(e,t,o)=>Wb([{keyCode:kn.BACKSPACE,action:ko(w6,e)},{keyCode:kn.DELETE,action:ko(w6,e)},...KW?[{keyCode:kn.BACKSPACE,altKey:!0,action:ko($,e)},{keyCode:kn.DELETE,altKey:!0,action:ko($,e)},...o?[{keyCode:_ne?224:91,action:ko($,e)}]:[]]:[{keyCode:kn.BACKSPACE,ctrlKey:!0,action:ko($,e)},{keyCode:kn.DELETE,ctrlKey:!0,action:ko($,e)}]],t),Ane=(e,t)=>{let o=!1;e.on("keydown",a=>{o=a.keyCode===kn.BACKSPACE,a.isDefaultPrevented()||kne(e,t,a)}),e.on("keyup",a=>{a.isDefaultPrevented()||Ene(e,a,o),o=!1})},Tne=e=>{for(;e;){if(Vn(e)||Xt(e)&&e.data&&/[\r\n\s]/.test(e.data))return e;e=e.nextSibling}return null},ak=(e,t)=>{const o=e.dom,a=e.schema.getMoveCaretBeforeOnEnterElements();if(!t)return;if(/^(LI|DT|DD)$/.test(t.nodeName)){const m=Tne(t.firstChild);m&&/^(UL|OL|DL)$/.test(m.nodeName)&&t.insertBefore(o.doc.createTextNode(qa),t.firstChild)}const c=o.createRng();if(t.normalize(),t.hasChildNodes()){const m=new Si(t,t);let p=t,S;for(;S=m.current();){if(Xt(S)){c.setStart(S,0),c.setEnd(S,0);break}if(a[S.nodeName.toLowerCase()]){c.setStartBefore(S),c.setEndBefore(S);break}p=S,S=m.next()}S||(c.setStart(p,0),c.setEnd(p,0))}else Cr(t)?t.nextSibling&&o.isBlock(t.nextSibling)?(c.setStartBefore(t),c.setEndBefore(t)):(c.setStartAfter(t),c.setEndAfter(t)):(c.setStart(t,0),c.setEnd(t,0));e.selection.setRng(c),of(e,c)},uO=(e,t)=>{const o=e.getRoot();let a,c=t;for(;c!==o&&c&&e.getContentEditable(c)!=="false";){if(e.getContentEditable(c)==="true"){a=c;break}c=c.parentNode}return c!==o?a:o},kH=e=>te.from(e.dom.getParent(e.selection.getStart(!0),e.dom.isBlock)),One=e=>kH(e).fold(ct(""),t=>t.nodeName.toUpperCase()),Rne=e=>kH(e).filter(t=>zg(Ke.fromDom(t))).isSome(),EH=e=>{e.innerHTML='<br data-mce-bogus="1">'},Dne=(e,t,o)=>{const a=e.dom;te.from(o.style).map(a.parseStyle).each(T=>{const J={...Dm(Ke.fromDom(t)),...T};a.setStyles(t,J)});const c=te.from(o.class).map(T=>T.split(/\s+/)),m=te.from(t.className).map(T=>Ye(T.split(/\s+/),H=>H!==""));oi(c,m,(T,H)=>{const J=Ye(H,re=>!xe(T,re)),ee=[...T,...J];a.setAttrib(t,"class",ee.join(" "))});const p=["style","class"],S=xc(o,(T,H)=>!xe(p,H));a.setAttribs(t,S)},dO=(e,t)=>{if(Ul(e).toLowerCase()===t.tagName.toLowerCase()){const a=e2(e);Dne(e,t,a)}},qW=(e,t,o,a,c=!0,m,p)=>{const S=e.dom,T=e.schema,H=Ul(e),J=o?o.nodeName.toUpperCase():"";let ee=t;const re=T.getTextInlineElements();let ve;m||J==="TABLE"||J==="HR"?ve=S.create(m||H,p||{}):ve=o.cloneNode(!1);let Te=ve;if(!c)S.setAttrib(ve,"style",null),S.setAttrib(ve,"class",null);else do if(re[ee.nodeName]){if(md(ee)||gd(ee))continue;const we=ee.cloneNode(!1);S.setAttrib(we,"id",""),ve.hasChildNodes()?(we.appendChild(ve.firstChild),ve.appendChild(we)):(Te=we,ve.appendChild(we))}while((ee=ee.parentNode)&&ee!==a);return dO(e,ve),EH(Te),ve},Nne=(e,t)=>e.dom.getParent(t,Og),Ine=(e,t,o)=>{let a=t;for(;a&&a!==e&&be(a.nextSibling);){const c=a.parentElement;if(!c||!o(c))return Og(c);a=c}return!1},Pne=(e,t,o)=>!t&&o.nodeName.toLowerCase()===Ul(e)&&e.dom.isEmpty(o)&&Ine(e.getBody(),o,a=>ho(e.schema.getTextBlockElements(),a.nodeName.toLowerCase())),Bne=(e,t,o)=>{var a,c,m;const p=t(Ul(e)),S=Nne(e,o);S&&(e.dom.insertAfter(p,S),ak(e,p),((m=(c=(a=o.parentElement)===null||a===void 0?void 0:a.childNodes)===null||c===void 0?void 0:c.length)!==null&&m!==void 0?m:0)>1&&e.dom.remove(o))},Mne=(e,t)=>e.firstChild&&e.firstChild.nodeName===t,Lne=e=>{var t;return((t=e.parentNode)===null||t===void 0?void 0:t.firstChild)===e},GW=(e,t)=>{const o=e==null?void 0:e.parentNode;return Oe(o)&&o.nodeName===t},YW=e=>Oe(e)&&/^(OL|UL|LI)$/.test(e.nodeName),AH=e=>Oe(e)&&/^(LI|DT|DD)$/.test(e.nodeName),Fne=e=>YW(e)&&YW(e.parentNode),DB=e=>{const t=e.parentNode;return AH(t)?t:e},NB=(e,t,o)=>{let a=e[o?"firstChild":"lastChild"];for(;a&&!Vn(a);)a=a[o?"nextSibling":"previousSibling"];return a===t},XW=e=>fn(pl(Dm(Ke.fromDom(e)),(t,o)=>`${o}: ${t};`),(t,o)=>t+o,""),$ne=(e,t,o,a,c)=>{const m=e.dom,p=e.selection.getRng(),S=o.parentNode;if(o===e.getBody()||!S)return;Fne(o)&&(c="LI");const T=AH(a)?XW(a):void 0;let H=AH(a)&&T?t(c,{style:XW(a)}):t(c);if(NB(o,a,!0)&&NB(o,a,!1))if(GW(o,"LI")){const J=DB(o);m.insertAfter(H,J),Lne(o)?m.remove(J):m.remove(o)}else m.replace(H,o);else if(NB(o,a,!0))GW(o,"LI")?(m.insertAfter(H,DB(o)),H.appendChild(m.doc.createTextNode(" ")),H.appendChild(o)):S.insertBefore(H,o),m.remove(a);else if(NB(o,a,!1))m.insertAfter(H,DB(o)),m.remove(a);else{o=DB(o);const J=p.cloneRange();J.setStartAfter(a),J.setEndAfter(o);const ee=J.extractContents();if(c==="LI"&&Mne(ee,"LI")){const re=Ye(Ue(H.children,Ke.fromDom),$e(Md("br")));H=ee.firstChild,m.insertAfter(ee,o),ye(re,ve=>zi(Ke.fromDom(H),ve)),T&&H.setAttribute("style",T)}else m.insertAfter(ee,o),m.insertAfter(H,o);m.remove(a)}ak(e,H)},Vne=e=>{ye(zf(Ke.fromDom(e),pr),t=>{const o=t.dom;o.nodeValue=rc(o.data)})},Hne=(e,t)=>{const o=e.dom.getParent(t,"ol,ul,dl");return o!==null&&e.dom.getContentEditableParent(o)==="false"},zne=(e,t)=>t&&t.nodeName==="A"&&e.isEmpty(t),TH=(e,t)=>e.nodeName===t||e.previousSibling&&e.previousSibling.nodeName===t,OH=(e,t)=>Oe(t)&&e.isBlock(t)&&!/^(TD|TH|CAPTION|FORM)$/.test(t.nodeName)&&!/^(fixed|absolute)/i.test(t.style.position)&&e.isEditable(t.parentNode)&&e.getContentEditable(t)!=="false",Une=(e,t,o)=>{var a;const c=[];if(!o)return;let m=o;for(;m=m.firstChild;){if(e.isBlock(m))return;Vn(m)&&!t[m.nodeName.toLowerCase()]&&c.push(m)}let p=c.length;for(;p--;)m=c[p],(!m.hasChildNodes()||m.firstChild===m.lastChild&&((a=m.firstChild)===null||a===void 0?void 0:a.nodeValue)===""||zne(e,m))&&e.remove(m)},RH=(e,t,o)=>Xt(t)?e?o===1&&t.data.charAt(o-1)===Ga?0:o:o===t.data.length-1&&t.data.charAt(o)===Ga?t.data.length:o:o,Wne=e=>{const t=e.cloneRange();return t.setStart(e.startContainer,RH(!0,e.startContainer,e.startOffset)),t.setEnd(e.endContainer,RH(!1,e.endContainer,e.endOffset)),t},jne=e=>{let t=e;do Xt(t)&&(t.data=t.data.replace(/^[\r\n]+/,"")),t=t.firstChild;while(t)},Zne=(e,t,o,a,c)=>{var m,p;const S=e.dom,T=(m=uO(S,a))!==null&&m!==void 0?m:S.getRoot();let H=S.getParent(a,S.isBlock);if(!H||!OH(S,H)){if(H=H||T,!H.hasChildNodes()){const ve=S.create(t);return dO(e,ve),H.appendChild(ve),o.setStart(ve,0),o.setEnd(ve,0),ve}let J=a;for(;J&&J.parentNode!==H;)J=J.parentNode;let ee;for(;J&&!S.isBlock(J);)ee=J,J=J.previousSibling;const re=(p=ee==null?void 0:ee.parentElement)===null||p===void 0?void 0:p.nodeName;if(ee&&re&&e.schema.isValidChild(re,t.toLowerCase())){const ve=ee.parentNode,Te=S.create(t);for(dO(e,Te),ve.insertBefore(Te,ee),J=ee;J&&!S.isBlock(J);){const we=J.nextSibling;Te.appendChild(J),J=we}o.setStart(a,c),o.setEnd(a,c)}}return a},Kne=(e,t)=>{t.normalize();const o=t.lastChild;(!o||Vn(o)&&/^(left|right)$/gi.test(e.getStyle(o,"float",!0)))&&e.add(t,"br")},qne=(e,t)=>{const o=bE(e);return rt(t)?!1:le(o)?xe(an.explode(o),t.nodeName.toLowerCase()):o},JW={insert:(e,t)=>{let o,a,c,m,p=!1;const S=e.dom,T=e.schema,H=T.getNonEmptyElements(),J=e.selection.getRng(),ee=Ul(e),re=Ke.fromDom(J.startContainer),ve=_u(re,J.startOffset),Te=ve.exists(Ut=>ll(Ut)&&!br(Ut)),we=J.collapsed&&Te,Me=(Ut,$n)=>qW(e,o,un,Zt,pE(e),Ut,$n),Qe=Ut=>{const $n=RH(Ut,o,a);if(Xt(o)&&(Ut?$n>0:$n<o.data.length))return!1;if((o.parentNode===un||o===un)&&p&&!Ut||Ut&&Vn(o)&&o===un.firstChild)return!0;if(TH(o,"TABLE")||TH(o,"HR"))return p&&!Ut||!p&&Ut;const Jn=new Si(o,un);Xt(o)&&(Ut&&$n===0?Jn.prev():!Ut&&$n===o.data.length&&Jn.next());let Jo;for(;Jo=Jn.current();){if(Vn(Jo)){if(!Jo.getAttribute("data-mce-bogus")){const as=Jo.nodeName.toLowerCase();if(H[as]&&as!=="br")return!1}}else if(Xt(Jo)&&!ec(Jo.data))return!1;Ut?Jn.prev():Jn.next()}return!0},lt=()=>{let Ut;return/^(H[1-6]|PRE|FIGURE)$/.test(c)&&On!=="HGROUP"?Ut=Me(ee):Ut=Me(),qne(e,m)&&OH(S,m)&&S.isEmpty(un,void 0,{includeZwsp:!0})?Ut=S.split(m,un):S.insertAfter(Ut,un),ak(e,Ut),Ut};eh(S,J).each(Ut=>{J.setStart(Ut.startContainer,Ut.startOffset),J.setEnd(Ut.endContainer,Ut.endOffset)}),o=J.startContainer,a=J.startOffset;const at=!!(t&&t.shiftKey),xt=!!(t&&t.ctrlKey);Vn(o)&&o.hasChildNodes()&&!we&&(p=a>o.childNodes.length-1,o=o.childNodes[Math.min(a,o.childNodes.length-1)]||o,p&&Xt(o)?a=o.data.length:a=0);const Zt=uO(S,o);if(!Zt||Hne(e,o))return;at||(o=Zne(e,ee,J,o,a));let un=S.getParent(o,S.isBlock)||S.getRoot();m=Oe(un==null?void 0:un.parentNode)?S.getParent(un.parentNode,S.isBlock):null,c=un?un.nodeName.toUpperCase():"";const On=m?m.nodeName.toUpperCase():"";if(On==="LI"&&!xt){const Ut=m;un=Ut,m=Ut.parentNode,c=On}if(Vn(m)&&Pne(e,at,un))return Bne(e,Me,un);if(/^(LI|DT|DD)$/.test(c)&&Vn(m)&&S.isEmpty(un)){$ne(e,Me,m,un,ee);return}if(!we&&(un===e.getBody()||!OH(S,un)))return;const It=un.parentNode;let _t;if(we)_t=Me(ee),ve.fold(()=>{Pr(re,Ke.fromDom(_t))},Ut=>{Er(Ut,Ke.fromDom(_t))}),e.selection.setCursorLocation(_t,0);else if(sb(un))_t=op(un),S.isEmpty(un)&&EH(un),dO(e,_t),ak(e,_t);else if(Qe(!1))_t=lt();else if(Qe(!0)&&It){const Ut=Et.fromRangeStart(J),$n=py(Ut),Jn=Ke.fromDom(un),as=y0(Jn,Ut,e.schema)?PS(Jn,Ut,e.schema).bind(sr=>te.from(sr.getNode())):te.none();_t=It.insertBefore(Me(),un);const Ks=TH(un,"HR")||$n?_t:as.getOr(un);ak(e,Ks)}else{const Ut=Wne(J).cloneRange();Ut.setEndAfter(un);const $n=Ut.extractContents();Vne($n),jne($n),_t=$n.firstChild,S.insertAfter($n,un),Une(S,H,_t),Kne(S,un),S.isEmpty(un)&&EH(un),_t.normalize(),S.isEmpty(_t)?(S.remove(_t),lt()):(dO(e,_t),ak(e,_t))}S.setAttrib(_t,"id",""),e.dispatch("NewBlock",{newBlock:_t})},fakeEventName:"insertParagraph"},Gne=(e,t,o)=>{const a=new Si(t,o);let c;const m=e.getNonEmptyElements();for(;c=a.next();)if(m[c.nodeName.toLowerCase()]||Xt(c)&&c.length>0)return!0;return!1},QW=(e,t,o)=>{const a=e.dom.createRng();o?(a.setStartBefore(t),a.setEndBefore(t)):(a.setStartAfter(t),a.setEndAfter(t)),e.selection.setRng(a),of(e,a)},Yne=(e,t)=>{const o=e.selection,a=e.dom,c=o.getRng();let m,p=!1;eh(a,c).each(ve=>{c.setStart(ve.startContainer,ve.startOffset),c.setEnd(ve.endContainer,ve.endOffset)});let S=c.startOffset,T=c.startContainer;if(Vn(T)&&T.hasChildNodes()){const ve=S>T.childNodes.length-1;T=T.childNodes[Math.min(S,T.childNodes.length-1)]||T,ve&&Xt(T)?S=T.data.length:S=0}let H=a.getParent(T,a.isBlock);const J=H&&H.parentNode?a.getParent(H.parentNode,a.isBlock):null,ee=J?J.nodeName.toUpperCase():"",re=!!(t&&t.ctrlKey);ee==="LI"&&!re&&(H=J),Xt(T)&&S>=T.data.length&&(Gne(e.schema,T,H||a.getRoot())||(m=a.create("br"),c.insertNode(m),c.setStartAfter(m),c.setEndAfter(m),p=!0)),m=a.create("br"),K1(a,c,m),QW(e,m,p),e.undoManager.add()},Xne=(e,t)=>{const o=Ke.fromTag("br");Er(Ke.fromDom(t),o),e.undoManager.add()},Jne=(e,t)=>{eoe(e.getBody(),t)||mt(Ke.fromDom(t),Ke.fromTag("br"));const o=Ke.fromTag("br");mt(Ke.fromDom(t),o),QW(e,o.dom,!1),e.undoManager.add()},Qne=e=>Cr(e.getNode()),eoe=(e,t)=>Qne(Et.after(t))?!0:Lc(e,Et.after(t)).map(o=>Cr(o.getNode())).getOr(!1),ej=e=>e&&e.nodeName==="A"&&"href"in e,toe=e=>e.fold(Fn,ej,ej,Fn),noe=e=>{const t=ot(w0,e),o=Et.fromRangeStart(e.selection.getRng());return mh(t,e.getBody(),o).filter(toe)},ooe=(e,t)=>{t.fold(Nt,ot(Xne,e),ot(Jne,e),Nt)},tj={insert:(e,t)=>{const o=noe(e);o.isSome()?o.each(ot(ooe,e)):Yne(e,t)},fakeEventName:"insertLineBreak"},nj=(e,t)=>kH(e).filter(o=>t.length>0&&Ws(Ke.fromDom(o),t)).isSome(),soe=e=>nj(e,mR(e)),roe=e=>nj(e,gR(e)),hm=gs.generate([{br:[]},{block:[]},{none:[]}]),aoe=(e,t)=>roe(e),oj=e=>(t,o)=>Rne(t)===e,sj=(e,t)=>(o,a)=>One(o)===e.toUpperCase()===t,ioe=e=>{const t=uO(e.dom,e.selection.getStart());return rt(t)},fO=e=>sj("pre",e),loe=()=>sj("summary",!0),IB=e=>(t,o)=>gE(t)===e,coe=(e,t)=>soe(e),PB=(e,t)=>t,uoe=e=>{const t=Ul(e),o=uO(e.dom,e.selection.getStart());return Oe(o)&&e.schema.isValidChild(o.nodeName,t)},doe=e=>{const t=e.selection.getRng(),o=Ke.fromDom(t.startContainer),c=_u(o,t.startOffset).map(m=>ll(m)&&!br(m));return t.collapsed&&c.getOr(!0)},ig=(e,t)=>(o,a)=>fn(e,(m,p)=>m&&p(o,a),!0)?te.some(t):te.none(),foe=(e,t)=>N6([ig([aoe],hm.none()),ig([fO(!0),ioe],hm.none()),ig([loe()],hm.br()),ig([fO(!0),IB(!1),PB],hm.br()),ig([fO(!0),IB(!1)],hm.block()),ig([fO(!0),IB(!0),PB],hm.block()),ig([fO(!0),IB(!0)],hm.br()),ig([oj(!0),PB],hm.br()),ig([oj(!0)],hm.block()),ig([coe],hm.br()),ig([PB],hm.br()),ig([uoe],hm.block()),ig([doe],hm.block())],[e,!!(t&&t.shiftKey)]).getOr(hm.none()),BB=(e,t,o)=>{t.selection.isCollapsed()||lI(t),!(Oe(o)&&RB(t,e.fakeEventName).isDefaultPrevented())&&(e.insert(t,o),Oe(o)&&cO(t,e.fakeEventName))},rj=(e,t)=>{const o=()=>BB(tj,e,t),a=()=>BB(JW,e,t),c=foe(e,t);switch(hE(e)){case"linebreak":c.fold(o,o,Nt);break;case"block":c.fold(a,a,Nt);break;case"invert":c.fold(a,o,Nt);break;default:c.fold(o,a,Nt);break}},aj=ti(),moe=aj.os.isiOS()&&aj.browser.isSafari(),ij=(e,t)=>{t.isDefaultPrevented()||(t.preventDefault(),c$(e.undoManager),e.undoManager.transact(()=>{rj(e,t)}))},goe=e=>{if(!e.collapsed)return!1;const t=e.startContainer;if(Xt(t)){const o=/^[\uAC00-\uD7AF\u1100-\u11FF\u3130-\u318F\uA960-\uA97F\uD7B0-\uD7FF]$/,a=t.data.charAt(e.startOffset-1);return o.test(a)}else return!1},hoe=e=>{let t=te.none();const o=c=>{t=te.some(c.selection.getBookmark()),c.undoManager.add()},a=(c,m)=>{c.undoManager.undo(),t.fold(Nt,p=>c.selection.moveToBookmark(p)),ij(c,m),t=te.none()};e.on("keydown",c=>{c.keyCode===kn.ENTER&&(moe&&goe(e.selection.getRng())?o(e):ij(e,c))}),e.on("keyup",c=>{c.keyCode===kn.ENTER&&t.each(()=>a(e,c))})},poe=(e,t,o)=>{const a=qo.os.isMacOS()||qo.os.isiOS();Wb([{keyCode:kn.END,action:ko(gm,e,!0)},{keyCode:kn.HOME,action:ko(gm,e,!1)},...a?[]:[{keyCode:kn.HOME,action:ko(V0,e,!1),ctrlKey:!0,shiftKey:!0},{keyCode:kn.END,action:ko(V0,e,!0),ctrlKey:!0,shiftKey:!0}],{keyCode:kn.END,action:ko(oO,e,!0)},{keyCode:kn.HOME,action:ko(oO,e,!1)},{keyCode:kn.END,action:ko(Bw,e,!0,t)},{keyCode:kn.HOME,action:ko(Bw,e,!1,t)}],o).each(c=>{o.preventDefault()})},boe=(e,t)=>{e.on("keydown",o=>{o.isDefaultPrevented()||poe(e,t,o)})},voe=e=>{e.on("input",t=>{t.isComposing||EF(e)})},yoe=ti(),xoe=(e,t,o)=>{Wb([{keyCode:kn.PAGE_UP,action:ko(Bw,e,!1,t)},{keyCode:kn.PAGE_DOWN,action:ko(Bw,e,!0,t)}],o)},lj=e=>e.stopImmediatePropagation(),cj=e=>e.keyCode===kn.PAGE_UP||e.keyCode===kn.PAGE_DOWN,uj=(e,t,o)=>{o&&!e.get()?t.on("NodeChange",lj,!0):!o&&e.get()&&t.off("NodeChange",lj),e.set(o)},woe=(e,t)=>{if(yoe.os.isMacOS())return;const o=Da(!1);e.on("keydown",a=>{cj(a)&&uj(o,e,!0)}),e.on("keyup",a=>{a.isDefaultPrevented()||xoe(e,t,a),cj(a)&&o.get()&&(uj(o,e,!1),e.nodeChanged())})},Coe=e=>{e.on("beforeinput",t=>{(!e.selection.isEditable()||Re(t.getTargetRanges(),o=>!vN(e.dom,o)))&&t.preventDefault()})},dj=(e,t)=>{const o=t.container(),a=t.offset();return Xt(o)?(o.insertData(a,e),te.some(Et(o,a+e.length))):KC(t).map(c=>{const m=Ke.fromText(e);return t.isAtEnd()?mt(c,m):Er(c,m),Et(m.dom,e.length)})},fj=ot(dj,qa),mj=ot(dj," "),Soe=(e,t,o)=>KA(e,t,o)?fj(t):mj(t),_oe=e=>t=>t.fold(o=>Hu(e.dom,Et.before(o)),o=>fo(o),o=>ef(o),o=>Lc(e.dom,Et.after(o))),koe=(e,t,o)=>a=>KA(e,a,o)?fj(t):mj(t),gj=e=>t=>{e.selection.setRng(t.toRange()),e.nodeChanged()},Eoe=(e,t)=>e.isEditable(e.getParent(t,"summary")),Aoe=e=>{const t=Et.fromRangeStart(e.selection.getRng()),o=Ke.fromDom(e.getBody());if(e.selection.isCollapsed()){const a=ot(w0,e),c=Et.fromRangeStart(e.selection.getRng());return mh(a,e.getBody(),c).bind(_oe(o)).map(m=>()=>koe(o,t,e.schema)(m).each(gj(e)))}else return te.none()},Toe=e=>{const t=()=>{const o=Ke.fromDom(e.getBody());e.selection.isCollapsed()||e.getDoc().execCommand("Delete");const a=Et.fromRangeStart(e.selection.getRng());Soe(o,a,e.schema).each(gj(e))};return Pf(qo.browser.isFirefox()&&e.selection.isEditable()&&Eoe(e.dom,e.selection.getRng().startContainer),t)},Ooe=(e,t)=>{sk([{keyCode:kn.SPACEBAR,action:ko(Aoe,e)},{keyCode:kn.SPACEBAR,action:ko(Toe,e)}],t).each(o=>{t.preventDefault(),RB(e,"insertText",{data:" "}).isDefaultPrevented()||(o(),cO(e,"insertText",{data:" "}))})},Roe=e=>{e.on("keydown",t=>{t.isDefaultPrevented()||Ooe(e,t)})},Doe=e=>FR(e)?[{keyCode:kn.TAB,action:ko(mW,e,!0)},{keyCode:kn.TAB,shiftKey:!0,action:ko(mW,e,!1)}]:[],Noe=(e,t)=>{Wb([...Doe(e)],t).each(o=>{t.preventDefault()})},Ioe=e=>{e.on("keydown",t=>{t.isDefaultPrevented()||Noe(e,t)})},Poe=e=>{if(e.addShortcut("Meta+P","","mcePrint"),dne(e),fh(e))return Da(null);{const t=sB(e);return Coe(e),$0(e),Kee(e,t),Ane(e,t),hoe(e),Roe(e),voe(e),Ioe(e),boe(e,t),woe(e,t),t}};class Boe{constructor(t){this.lastPath=[],this.editor=t;let o;const a=this;"onselectionchange"in t.getDoc()||t.on("NodeChange click mouseup keyup focus",c=>{const m=t.selection.getRng(),p={startContainer:m.startContainer,startOffset:m.startOffset,endContainer:m.endContainer,endOffset:m.endOffset};(c.type==="nodechange"||!P2(p,o))&&t.dispatch("SelectionChange"),o=p}),t.on("contextmenu",()=>{uy(t),t.dispatch("SelectionChange")}),t.on("SelectionChange",()=>{const c=t.selection.getStart(!0);c&&sy(t)&&!a.isSameElementPath(c)&&t.dom.isChildOf(c,t.getBody())&&t.nodeChanged({selectionChange:!0})}),t.on("mouseup",c=>{!c.isDefaultPrevented()&&sy(t)&&(t.selection.getNode().nodeName==="IMG"?Wu.setEditorTimeout(t,()=>{t.nodeChanged()}):t.nodeChanged())})}nodeChanged(t={}){const o=this.editor.selection;let a;if(this.editor.initialized&&o&&!a8(this.editor)&&!this.editor.mode.isReadOnly()){const c=this.editor.getBody();a=o.getStart(!0)||c,(a.ownerDocument!==this.editor.getDoc()||!this.editor.dom.isChildOf(a,c))&&(a=c);const m=[];this.editor.dom.getParent(a,p=>p===c?!0:(m.push(p),!1)),this.editor.dispatch("NodeChange",{...t,element:a,parents:m})}}isSameElementPath(t){let o;const a=this.editor,c=or(a.dom.getParents(t,Gt,a.getBody()));if(c.length===this.lastPath.length){for(o=c.length;o>=0&&c[o]===this.lastPath[o];o--);if(o===-1)return this.lastPath=c,!0}return this.lastPath=c,!1}}const hj=El("image"),Moe=e=>{const t=e;return te.from(t[hj])},Loe=(e,t)=>{const o=e;o[hj]=t},DH=El("event"),Foe=e=>{const t=e;return te.from(t[DH])},MB=e=>t=>{const o=t;o[DH]=e},$oe=(e,t)=>MB(t)(e),pj=MB(0),Voe=MB(2),Hoe=MB(1),zoe=(e=>t=>{const o=t;return te.from(o[DH]).exists(a=>a===e)})(0),Uoe=()=>Object.freeze({length:0,item:e=>null}),NH=El("mode"),Woe=e=>{const t=e;return te.from(t[NH])},LB=e=>t=>{const o=t;o[NH]=e},bj=(e,t)=>LB(t)(e),vj=LB(0),IH=LB(2),joe=LB(1),yj=e=>t=>{const o=t;return te.from(o[NH]).exists(a=>a===e)},ik=yj(0),xj=yj(1),Zoe=(e,t)=>({...t,get length(){return t.length},add:(o,a)=>{if(ik(e))if(le(o)){if(!Ze(a))return t.add(o,a)}else return t.add(o);return null},remove:o=>{ik(e)&&t.remove(o)},clear:()=>{ik(e)&&t.clear()}}),Koe=["none","copy","link","move"],qoe=["none","copy","copyLink","copyMove","link","linkMove","move","all","uninitialized"],PH=()=>{const e=new window.DataTransfer;let t="move",o="all";const a={get dropEffect(){return t},set dropEffect(c){xe(Koe,c)&&(t=c)},get effectAllowed(){return o},set effectAllowed(c){zoe(a)&&xe(qoe,c)&&(o=c)},get items(){return Zoe(a,e.items)},get files(){return xj(a)?Uoe():e.files},get types(){return e.types},setDragImage:(c,m,p)=>{ik(a)&&(Loe(a,{image:c,x:m,y:p}),e.setDragImage(c,m,p))},getData:c=>xj(a)?"":e.getData(c),setData:(c,m)=>{ik(a)&&e.setData(c,m)},clearData:c=>{ik(a)&&e.clearData(c)}};return vj(a),a},Goe=e=>{const t=PH(),o=Woe(e);return IH(e),pj(t),t.dropEffect=e.dropEffect,t.effectAllowed=e.effectAllowed,Moe(e).each(a=>t.setDragImage(a.image,a.x,a.y)),ye(e.types,a=>{a!=="Files"&&t.setData(a,e.getData(a))}),ye(e.files,a=>t.items.add(a)),Foe(e).each(a=>{$oe(t,a)}),o.each(a=>{bj(e,a),bj(t,a)}),t},Yoe=e=>{const t=e.getData("text/html");return t===""?te.none():te.some(t)},wj=(e,t)=>e.setData("text/html",t),Cj="x-tinymce/html",FB=ct(Cj),BH="<!-- "+Cj+" -->",Xoe=e=>BH+e,Joe=e=>e.replace(BH,""),Sj=e=>e.indexOf(BH)!==-1,Qoe=e=>!/<(?:\/?(?!(?:div|p|br|span)>)\w+|(?:(?!(?:span style="white-space:\s?pre;?">)|br\s?\/>))\w+\s[^>]+)>/i.test(e),ese=(e,t)=>{let o="<"+e;const a=pl(t,(c,m)=>m+'="'+Wh.encodeAllRaw(c)+'"');return a.length&&(o+=" "+a.join(" ")),o+">"},tse=(e,t,o)=>{const a=e.split(/\n\n/),c=ese(t,o),m="</"+t+">",p=Ue(a,T=>T.split(/\n/).join("<br />")),S=T=>c+T+m;return p.length===1?p[0]:Ue(p,S).join("")},_j="%MCEPASTEBIN%",nse=(e,t)=>{const{dom:o,selection:a}=e,c=e.getBody();t.set(a.getRng());const m=o.add(e.getBody(),"div",{id:"mcepastebin",class:"mce-pastebin",contentEditable:!0,"data-mce-bogus":"all",style:"position: fixed; top: 50%; width: 10px; height: 10px; overflow: hidden; opacity: 0"},_j);qo.browser.isFirefox()&&o.setStyle(m,"left",o.getStyle(c,"direction",!0)==="rtl"?65535:-65535),o.bind(m,"beforedeactivate focusin focusout",p=>{p.stopPropagation()}),m.focus(),a.select(m,!0)},ose=(e,t)=>{const o=e.dom;if(MH(e)){let a;const c=t.get();for(;a=MH(e);)o.remove(a),o.unbind(a);c&&e.selection.setRng(c)}t.set(null)},MH=e=>e.dom.get("mcepastebin"),sse=e=>Oe(e)&&e.id==="mcepastebin",rse=e=>{const t=e.dom,o=(p,S)=>{p.appendChild(S),t.remove(S,!0)},[a,...c]=Ye(e.getBody().childNodes,sse);ye(c,p=>{o(a,p)});const m=t.select("div[id=mcepastebin]",a);for(let p=m.length-1;p>=0;p--){const S=t.create("div");a.insertBefore(S,m[p]),o(S,m[p])}return a?a.innerHTML:""},kj=e=>e===_j,ase=e=>{const t=Da(null);return{create:()=>nse(e,t),remove:()=>ose(e,t),getEl:()=>MH(e),getHtml:()=>rse(e),getLastRng:t.get}},Ej=(e,t)=>(an.each(t,o=>{fe(o,RegExp)?e=e.replace(o,""):e=e.replace(o[0],o[1])}),e),ise=e=>{const t=Bu(),o=Ty({},t);let a="";const c=t.getVoidElements(),m=an.makeMap("script noscript style textarea video audio iframe object"," "),p=t.getBlockElements(),S=T=>{const H=T.name,J=T;if(H==="br"){a+=`
`;return}if(H!=="wbr"){if(c[H]&&(a+=" "),m[H]){a+=" ";return}if(T.type===3&&(a+=T.value),!(T.name in t.getVoidElements())){let ee=T.firstChild;if(ee)do S(ee);while(ee=ee.next)}p[H]&&J.next&&(a+=`
`,H==="p"&&(a+=`
`))}};return e=Ej(e,[/<!\[[^\]]+\]>/g]),S(o.parse(e)),a},Aj=e=>(e=Ej(e,[/^[\s\S]*<body[^>]*>\s*|\s*<\/body[^>]*>[\s\S]*$/ig,/<!--StartFragment-->|<!--EndFragment-->/g,[/( ?)<span class="Apple-converted-space">\u00a0<\/span>( ?)/g,(o,a,c)=>!a&&!c?" ":qa],/<br class="Apple-interchange-newline">/g,/<br>$/i]),e),lse=e=>{let t=0;return()=>e+t++},cse=e=>{const t=e.toLowerCase(),o={jpg:"jpeg",jpe:"jpeg",jfi:"jpeg",jif:"jpeg",jfif:"jpeg",pjpeg:"jpeg",pjp:"jpeg",svg:"svg+xml"};return an.hasOwn(o,t)?"image/"+o[t]:"image/"+t},use=(e,t)=>{const o=Ty({sanitize:BR(e),sandbox_iframes:RE(e),sandbox_iframes_exclusions:VC(e),convert_unsafe_embeds:VR(e)},e.schema);o.addNodeFilter("meta",c=>{an.each(c,m=>{m.remove()})});const a=o.parse(t,{forced_root_block:!1,isRootContent:!0});return hp({validate:!0},e.schema).serialize(a)},Tj=(e,t)=>({content:e,cancelled:t}),dse=(e,t,o)=>{const a=e.dom.create("div",{style:"display:none"},t),c=uS(e,a,o);return Tj(c.node.innerHTML,c.isDefaultPrevented())},fse=(e,t,o)=>{const a=R2(e,t,o),c=use(e,a.content);return e.hasEventListeners("PastePostProcess")&&!a.isDefaultPrevented()?dse(e,c,o):Tj(c,a.isDefaultPrevented())},mse=(e,t,o)=>fse(e,t,o),LH=(e,t)=>(e.insertContent(t,{merge:f8(e),paste:!0}),!0),FH=e=>/^https?:\/\/[\w\-\/+=.,!;:&%@^~(){}?#]+$/i.test(e),gse=(e,t)=>FH(t)&&Re(OE(e),o=>Pe(t.toLowerCase(),`.${o.toLowerCase()}`)),hse=(e,t,o)=>(e.undoManager.extra(()=>{o(e,t)},()=>{e.insertContent('<img src="'+t+'">')}),!0),pse=(e,t,o)=>(e.undoManager.extra(()=>{o(e,t)},()=>{e.execCommand("mceInsertLink",!1,t)}),!0),bse=(e,t,o)=>!e.selection.isCollapsed()&&FH(t)?pse(e,t,o):!1,vse=(e,t,o)=>gse(e,t)?hse(e,t,o):!1,yse=(e,t)=>{an.each([bse,vse,LH],o=>!o(e,t,LH))},xse=(e,t,o)=>{o||!Jv(e)?LH(e,t):yse(e,t)},wse=lse("mceclip"),Cse=e=>{const t=PH();return wj(t,e),IH(t),t},Oj=(e,t,o,a,c)=>{const m=mse(e,t,o);if(!m.cancelled){const p=m.content,S=()=>xse(e,p,a);c?RB(e,"insertFromPaste",{dataTransfer:Cse(p)}).isDefaultPrevented()||(S(),cO(e,"insertFromPaste")):S()}},$B=(e,t,o,a)=>{const c=o||Sj(t);Oj(e,Joe(t),c,!1,a)},$H=(e,t,o)=>{const a=e.dom.encode(t).replace(/\r\n/g,`
`),c=Fh(a,NR(e)),m=tse(c,Ul(e),e2(e));Oj(e,m,!1,!0,o)},Rj=e=>{const t={};if(e&&e.types)for(let o=0;o<e.types.length;o++){const a=e.types[o];try{t[a]=e.getData(a)}catch{t[a]=""}}return t},jy=(e,t)=>t in e&&e[t].length>0,Dj=e=>jy(e,"text/html")||jy(e,"text/plain"),Sse=(e,t)=>{const o=t.match(/([\s\S]+?)(?:\.[a-z0-9.]+)$/i);return Oe(o)?e.dom.encode(o[1]):void 0},_se=(e,t,o,a)=>{const c=wse(),m=lp(e)&&Oe(o.name),p=m?Sse(e,o.name):c,S=m?o.name:void 0,T=t.create(c,o,a,p,S);return t.add(T),T},kse=(e,t)=>{C_(t.uri).each(({data:o,type:a,base64Encoded:c})=>{const m=c?o:btoa(o),p=t.file,S=e.editorUpload.blobCache,T=S.getByData(m,a),H=T??_se(e,S,p,m);$B(e,`<img src="${H.blobUri()}">`,!1,!0)})},Ese=e=>e.type==="paste",Ase=e=>Promise.all(Ue(e,t=>l5(t).then(o=>({file:t,uri:o})))),Tse=e=>{const t=OE(e);return o=>hr(o.type,"image/")&&Re(t,a=>cse(a)===o.type)},Ose=(e,t)=>{const o=t.items?Wo(Do(t.items),c=>c.kind==="file"?[c.getAsFile()]:[]):[],a=t.files?Do(t.files):[];return Ye(o.length>0?o:a,Tse(e))},Nj=(e,t,o)=>{const a=Ese(t)?t.clipboardData:t.dataTransfer;if(Gg(e)&&a){const c=Ose(e,a);if(c.length>0)return t.preventDefault(),Ase(c).then(m=>{o&&e.selection.setRng(o),ye(m,p=>{kse(e,p)})}),!0}return!1},Rse=e=>{var t,o;return qo.os.isAndroid()&&((o=(t=e.clipboardData)===null||t===void 0?void 0:t.items)===null||o===void 0?void 0:o.length)===0},Dse=e=>kn.metaKeyPressed(e)&&e.keyCode===86||e.shiftKey&&e.keyCode===45,VH=(e,t,o,a,c)=>{let m=Aj(o);const p=jy(t,FB())||Sj(o),S=!p&&Qoe(m),T=FH(m);(kj(m)||!m.length||S&&!T)&&(a=!0),(a||T)&&(jy(t,"text/plain")&&S?m=t["text/plain"]:m=ise(m)),!kj(m)&&(a?$H(e,m,c):$B(e,m,p,c))},Nse=(e,t,o)=>{let a;const c=()=>t.getLastRng()||e.selection.getRng();e.on("keydown",m=>{Dse(m)&&!m.isDefaultPrevented()&&(a=m.shiftKey&&m.keyCode===86)}),e.on("paste",m=>{if(m.isDefaultPrevented()||Rse(m))return;const p=o.get()==="text"||a;a=!1;const S=Rj(m.clipboardData);!Dj(S)&&Nj(e,m,c())||(jy(S,"text/html")?(m.preventDefault(),VH(e,S,S["text/html"],p,!0)):jy(S,"text/plain")&&jy(S,"text/uri-list")?(m.preventDefault(),VH(e,S,S["text/plain"],p,!0)):(t.create(),Wu.setEditorTimeout(e,()=>{const T=t.getHtml();t.remove(),VH(e,S,T,p,!1)},0)))})},Ise=e=>{const t=c=>hr(c,"webkit-fake-url"),o=c=>hr(c,"data:"),a=c=>{var m;return((m=c.data)===null||m===void 0?void 0:m.paste)===!0};e.parser.addNodeFilter("img",(c,m,p)=>{if(!Gg(e)&&a(p))for(const S of c){const T=S.attr("src");le(T)&&!S.attr("data-mce-object")&&T!==qo.transparentSrc&&(t(T)||!m8(e)&&o(T))&&S.remove()}})},Pse=(e,t,o)=>{Nse(e,t,o),Ise(e)},Bse=(e,t)=>{t.get()==="text"?(t.set("html"),dS(e,!1)):(t.set("text"),dS(e,!0)),e.focus()},Mse=(e,t)=>{e.addCommand("mceTogglePlainTextPaste",()=>{Bse(e,t)}),e.addCommand("mceInsertClipboardContent",(o,a)=>{a.html&&$B(e,a.html,a.internal,!1),a.text&&$H(e,a.text,!1)})},Lse=(e,t,o)=>{if(e)try{return e.clearData(),e.setData("text/html",t),e.setData("text/plain",o),e.setData(FB(),t),!0}catch{return!1}else return!1},Ij=(e,t,o,a)=>{Lse(e.clipboardData,t.html,t.text)?(e.preventDefault(),a()):o(t.html,a)},Pj=e=>(t,o)=>{const{dom:a,selection:c}=e,m=a.create("div",{contenteditable:"false","data-mce-bogus":"all"}),p=a.create("div",{contenteditable:"true"},t);a.setStyles(m,{position:"fixed",top:"0",left:"-3000px",width:"1000px",overflow:"hidden"}),m.appendChild(p),a.add(e.getBody(),m);const S=c.getRng();p.focus();const T=a.createRng();T.selectNodeContents(p),c.setRng(T),Wu.setEditorTimeout(e,()=>{c.setRng(S),a.remove(m),o()},0)},Bj=e=>({html:Xoe(e.selection.getContent({contextual:!0})),text:e.selection.getContent({format:"text"})}),Fse=e=>!!e.dom.getParent(e.selection.getStart(),"td[data-mce-selected],th[data-mce-selected]",e.getBody()),Mj=e=>!e.selection.isCollapsed()||Fse(e),$se=e=>t=>{!t.isDefaultPrevented()&&Mj(e)&&e.selection.isEditable()&&Ij(t,Bj(e),Pj(e),()=>{if(qo.browser.isChromium()||qo.browser.isFirefox()){const o=e.selection.getRng();Wu.setEditorTimeout(e,()=>{e.selection.setRng(o),e.execCommand("Delete")},0)}else e.execCommand("Delete")})},Vse=e=>t=>{!t.isDefaultPrevented()&&Mj(e)&&Ij(t,Bj(e),Pj(e),Nt)},Hse=e=>{e.on("cut",$se(e)),e.on("copy",Vse(e))},Lj=(e,t)=>{var o,a;return wb.getCaretRangeFromPoint((o=t.clientX)!==null&&o!==void 0?o:0,(a=t.clientY)!==null&&a!==void 0?a:0,e.getDoc())},zse=e=>{const t=e["text/plain"];return t?t.indexOf("file://")===0:!1},Fj=(e,t)=>{e.focus(),t&&e.selection.setRng(t)},Use=e=>Re(e.files,t=>/^image\//.test(t.type)),Wse=(e,t,o,a)=>{const c=e.getParent(o,p=>ou(t,p));if(!be(e.getParent(o,"summary")))return!0;if(c&&ho(a,"text/html")){const p=new DOMParser().parseFromString(a["text/html"],"text/html").body;return!be(p.querySelector(c.nodeName.toLowerCase()))}else return!1},jse=e=>{e.on("input",t=>{const o=a=>be(a.querySelector("summary"));if(t.inputType==="deleteByDrag"){const a=Ye(e.dom.select("details"),o);ye(a,c=>{Cr(c.firstChild)&&c.firstChild.remove();const m=e.dom.create("summary");m.appendChild(tm().dom),c.prepend(m)})}})},Zse=(e,t)=>{Jm(e)&&e.on("dragend dragover draggesture dragdrop drop drag",o=>{o.preventDefault(),o.stopPropagation()}),Gg(e)||e.on("drop",o=>{const a=o.dataTransfer;a&&Use(a)&&o.preventDefault()}),e.on("drop",o=>{if(o.isDefaultPrevented())return;const a=Lj(e,o);if(rt(a))return;const c=Rj(o.dataTransfer),m=jy(c,FB());if((!Dj(c)||zse(c))&&Nj(e,o,a))return;const p=c[FB()],S=p||c["text/html"]||c["text/plain"],T=Wse(e.dom,e.schema,a.startContainer,c),H=t.get();H&&!T||S&&(o.preventDefault(),Wu.setEditorTimeout(e,()=>{e.undoManager.transact(()=>{(p||H&&T)&&e.execCommand("Delete"),Fj(e,a);const J=Aj(S);c["text/html"]?$B(e,J,m,!0):$H(e,J,!0)})}))}),e.on("dragstart",o=>{t.set(!0)}),e.on("dragover dragend",o=>{Gg(e)&&!t.get()&&(o.preventDefault(),Fj(e,Lj(e,o))),o.type==="dragend"&&t.set(!1)}),jse(e)},Kse=e=>{const t=c=>m=>{c(e,m)},o=d8(e);Ve(o)&&e.on("PastePreProcess",t(o));const a=s2(e);Ve(a)&&e.on("PastePostProcess",t(a))},qse=(e,t)=>{e.on("PastePreProcess",o=>{o.content=t(e,o.content,o.internal)})},Gse=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi,$j=e=>an.trim(e).replace(Gse,_v).toLowerCase(),Yse=(e,t,o)=>{const a=DR(e);if(o||a==="all"||!kE(e))return t;const c=a?a.split(/[, ]/):[];if(c&&a!=="none"){const m=e.dom,p=e.selection.getNode();t=t.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,(S,T,H,J)=>{const ee=m.parseStyle(m.decode(H)),re={};for(let Te=0;Te<c.length;Te++){const we=ee[c[Te]];let Me=we,Qe=m.getStyle(p,c[Te],!0);/color/.test(c[Te])&&(Me=$j(Me),Qe=$j(Qe)),Qe!==Me&&(re[c[Te]]=we)}const ve=m.serializeStyle(re,"span");return ve?T+' style="'+ve+'"'+J:T+J})}else t=t.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,"$1$3");return t=t.replace(/(<[^>]+) data-mce-style="([^"]+)"([^>]*>)/gi,(m,p,S,T)=>p+' style="'+S+'"'+T),t},Xse=e=>{(qo.browser.isChromium()||qo.browser.isSafari())&&qse(e,Yse)},Jse=e=>{const t=Da(!1),o=Da(Qv(e)?"text":"html"),a=ase(e);Xse(e),Mse(e,o),Kse(e),e.addQueryStateHandler("mceTogglePlainTextPaste",()=>o.get()==="text"),e.on("PreInit",()=>{Hse(e),Zse(e,t),Pse(e,a,o)})},Qse=e=>{e.on("click",t=>{e.dom.getParent(t.target,"details")&&t.preventDefault()})},ere=e=>{e.parser.addNodeFilter("details",t=>{const o=$C(e);ye(t,a=>{o==="expanded"?a.attr("open","open"):o==="collapsed"&&a.attr("open",null)})}),e.serializer.addNodeFilter("details",t=>{const o=$R(e);ye(t,a=>{o==="expanded"?a.attr("open","open"):o==="collapsed"&&a.attr("open",null)})})},tre=e=>{Qse(e),ere(e)},nre=Cr,Vj=Xt,ore=e=>yo(e.dom),sre=e=>Pc(e.dom),Hj=e=>t=>ss(Ke.fromDom(e),t),rre=(e,t,o)=>ya(Ke.fromDom(e),a=>sre(a)||o.isBlock(ls(a)),Hj(t)).getOr(Ke.fromDom(t)).dom,zj=(e,t)=>ya(Ke.fromDom(e),ore,Hj(t)),Uj=(e,t,o)=>{const a=new Si(e,t),c=o?a.next.bind(a):a.prev.bind(a);let m=e;for(let p=o?e:c();p&&!nre(p);p=c())id(p)&&(m=p);return m},are=(e,t,o)=>{const c=Et.fromRangeStart(e).getNode(),m=rre(c,t,o),p=Uj(c,m,!1),S=Uj(c,m,!0),T=document.createRange();return zj(p,m).fold(()=>{Vj(p)?T.setStart(p,0):T.setStartBefore(p)},H=>T.setStartBefore(H.dom)),zj(S,m).fold(()=>{Vj(S)?T.setEnd(S,S.data.length):T.setEndAfter(S)},H=>T.setEndAfter(H.dom)),T},ire=e=>{const t=are(e.selection.getRng(),e.getBody(),e.schema);e.selection.setRng(e_(t))},lre=e=>{e.on("mousedown",t=>{t.detail>=3&&(t.preventDefault(),ire(e))})};var lk;(function(e){e.Before="before",e.After="after"})(lk||(lk={}));const cre=(e,t)=>Math.abs(e.left-t),ure=(e,t)=>Math.abs(e.right-t),dre=(e,t)=>e>=t.top&&e<=t.bottom,fre=(e,t)=>e.top<t.bottom&&e.bottom>t.top,mre=(e,t)=>{const o=Ux(e,t)/Math.min(e.height,t.height);return fre(e,t)&&o>.5},gre=(e,t)=>{const o=Ye(e,a=>dre(t,a));return rb(o).fold(()=>[[],e],a=>{const{pass:c,fail:m}=Be(e,p=>mre(p,a));return[c,m]})},hre=(e,t)=>({node:e.node,position:cre(e,t)<ure(e,t)?lk.Before:lk.After}),pre=(e,t,o)=>t>e.left&&t<e.right?0:Math.min(Math.abs(e.left-t),Math.abs(e.right-t)),HH=(e,t,o,a)=>{const c=ee=>id(ee.node)?te.some(ee):Vn(ee.node)?HH(Do(ee.node.childNodes),t,o,!1):te.none(),m=(ee,re,ve)=>c(re).filter(Te=>Math.abs(ve(ee,t,o)-ve(Te,t,o))<2&&Xt(Te.node)),p=(ee,re)=>{const ve=ms(ee,(Te,we)=>re(Te,t,o)-re(we,t,o));return ia(ve,c).map(Te=>a&&!Xt(Te.node)&&ve.length>1?m(Te,ve[1],re).getOr(Te):Te)},[S,T]=gre(Y6(e),o),{pass:H,fail:J}=Be(T,ee=>ee.top<o);return p(S,pre).orThunk(()=>p(J,V1)).orThunk(()=>p(H,V1))},bre=(e,t,o,a)=>{const c=(m,p)=>{const S=H=>Vn(H)&&H.classList.contains("mce-drag-container"),T=Ye(m.dom.childNodes,$e(S));return p.fold(()=>HH(T,o,a,!0),H=>{const J=Ye(T,ee=>ee!==H.dom);return HH(J,o,a,!0)}).orThunk(()=>(ss(m,e)?te.none():$d(m)).bind(J=>c(J,te.some(m))))};return c(t,te.none())},vre=(e,t,o)=>{const a=Ke.fromDom(e),c=mc(a),p=Ke.fromPoint(c,t,o).filter(S=>si(a,S)).getOr(a);return bre(a,p,t,o)},Wj=(e,t,o)=>vre(e,t,o).filter(a=>l2(a.node)).map(a=>hre(a,t)),jj=e=>{var t,o;const a=e.getBoundingClientRect(),c=e.ownerDocument,m=c.documentElement,p=c.defaultView;return{top:a.top+((t=p==null?void 0:p.scrollY)!==null&&t!==void 0?t:0)-m.clientTop,left:a.left+((o=p==null?void 0:p.scrollX)!==null&&o!==void 0?o:0)-m.clientLeft}},yre=e=>e.inline?jj(e.getBody()):{left:0,top:0},xre=e=>{const t=e.getBody();return e.inline?{left:t.scrollLeft,top:t.scrollTop}:{left:0,top:0}},wre=e=>{const t=e.getBody(),o=e.getDoc().documentElement,a={left:t.scrollLeft,top:t.scrollTop},c={left:t.scrollLeft||o.scrollLeft,top:t.scrollTop||o.scrollTop};return e.inline?a:c},Cre=(e,t)=>{if(t.target.ownerDocument!==e.getDoc()){const o=jj(e.getContentAreaContainer()),a=wre(e);return{left:t.pageX-o.left+a.left,top:t.pageY-o.top+a.top}}return{left:t.pageX,top:t.pageY}},Sre=(e,t,o)=>({pageX:o.left-e.left+t.left,pageY:o.top-e.top+t.top}),_re=(e,t)=>Sre(yre(e),xre(e),Cre(e,t)),Zj=e=>({target:e,srcElement:e}),kre=(e,t,o,a)=>({...t,dataTransfer:a,type:e,...Zj(o)}),Ere=(e,t,o)=>{const a=ht("Function not supported on simulated event.");return{bubbles:!0,cancelBubble:!1,cancelable:!0,composed:!1,currentTarget:null,defaultPrevented:!1,eventPhase:0,isTrusted:!0,returnValue:!1,timeStamp:0,type:e,composedPath:a,initEvent:a,preventDefault:Nt,stopImmediatePropagation:Nt,stopPropagation:Nt,AT_TARGET:window.Event.AT_TARGET,BUBBLING_PHASE:window.Event.BUBBLING_PHASE,CAPTURING_PHASE:window.Event.CAPTURING_PHASE,NONE:window.Event.NONE,altKey:!1,button:0,buttons:0,clientX:0,clientY:0,ctrlKey:!1,metaKey:!1,movementX:0,movementY:0,offsetX:0,offsetY:0,pageX:0,pageY:0,relatedTarget:null,screenX:0,screenY:0,shiftKey:!1,x:0,y:0,detail:0,view:null,which:0,initUIEvent:a,initMouseEvent:a,getModifierState:a,dataTransfer:o,...Zj(t)}},Are=(e,t)=>{const o=Goe(e);return t==="dragstart"?(pj(o),vj(o)):t==="drop"?(Voe(o),IH(o)):(Hoe(o),joe(o)),o},Tre=(e,t,o,a)=>{const c=Are(o,e);return Ze(a)?Ere(e,t,c):kre(e,a,t,c)},VB=32,Ore=100,HB=8,zB=16,Kj=yo,Rre=Zx(Kj,Pc),Dre=(e,t,o)=>Kj(o)&&o!==t&&e.isEditable(o.parentElement),Nre=(e,t,o)=>rt(t)||t===o||e.dom.isChildOf(t,o)?!1:e.dom.isEditable(t),Ire=(e,t,o,a)=>{const c=e.dom,m=t.cloneNode(!0);c.setStyles(m,{width:o,height:a}),c.setAttrib(m,"data-mce-selected",null);const p=c.create("div",{class:"mce-drag-container","data-mce-bogus":"all",unselectable:"on",contenteditable:"false"});return c.setStyles(p,{position:"absolute",opacity:.5,overflow:"hidden",border:0,padding:0,margin:0,width:o,height:a}),c.setStyles(m,{margin:0,boxSizing:"border-box"}),p.appendChild(m),p},Pre=(e,t)=>{e.parentNode!==t&&t.appendChild(e)},UB=(e,t)=>o=>()=>{const a=e==="left"?o.scrollX:o.scrollY;o.scroll({[e]:a+t,behavior:"smooth"})},qj=UB("left",-VB),Gj=UB("left",VB),Yj=UB("top",-VB),Xj=UB("top",VB),Bre=(e,t,o,a,c,m,p,S,T,H,J,ee)=>{let re=0,ve=0;e.style.left=t.pageX+"px",e.style.top=t.pageY+"px",t.pageX+o>c&&(re=t.pageX+o-c),t.pageY+a>m&&(ve=t.pageY+a-m),e.style.width=o-re+"px",e.style.height=a-ve+"px";const Te=T.clientHeight,we=T.clientWidth,Me=p+T.getBoundingClientRect().top,Qe=S+T.getBoundingClientRect().left;J.on(lt=>{lt.intervalId.clear(),lt.dragging&&ee&&(p+HB>=Te?lt.intervalId.set(Xj(H)):p-HB<=0?lt.intervalId.set(Yj(H)):S+HB>=we?lt.intervalId.set(Gj(H)):S-HB<=0?lt.intervalId.set(qj(H)):Me+zB>=window.innerHeight?lt.intervalId.set(Xj(window)):Me-zB<=0?lt.intervalId.set(Yj(window)):Qe+zB>=window.innerWidth?lt.intervalId.set(Gj(window)):Qe-zB<=0&&lt.intervalId.set(qj(window)))})},Jj=e=>{e&&e.parentNode&&e.parentNode.removeChild(e)},Mre=(e,t)=>{const o=e.getParent(t.parentNode,e.isBlock);Jj(t),o&&o!==e.getRoot()&&e.isEmpty(o)&&Fu(Ke.fromDom(o))},Lre=e=>e.button===0,Fre=(e,t)=>({pageX:t.pageX-e.relX,pageY:t.pageY+5}),$re=(e,t)=>o=>{if(Lre(o)){const a=Nn(t.dom.getParents(o.target),Rre).getOr(null);if(Oe(a)&&Dre(t.dom,t.getBody(),a)){const c=t.dom.getPos(a),m=t.getBody(),p=t.getDoc().documentElement;e.set({element:a,dataTransfer:PH(),dragging:!1,screenX:o.screenX,screenY:o.screenY,maxX:(t.inline?m.scrollWidth:p.offsetWidth)-2,maxY:(t.inline?m.scrollHeight:p.offsetHeight)-2,relX:o.pageX-c.x,relY:o.pageY-c.y,width:a.offsetWidth,height:a.offsetHeight,ghost:Ire(t,a,a.offsetWidth,a.offsetHeight),intervalId:Bc(Ore)})}}},Vre=(e,t,o)=>{e._selectionOverrides.hideFakeCaret(),Wj(e.getBody(),t,o).fold(()=>e.selection.placeCaretAt(t,o),a=>{const c=e._selectionOverrides.showCaret(1,a.node,a.position===lk.Before,!1);c?e.selection.setRng(c):e.selection.placeCaretAt(t,o)})},mO=(e,t,o,a,c)=>{t==="dragstart"&&wj(a,e.dom.getOuterHTML(o));const m=Tre(t,o,a,c);return e.dispatch(t,m)},Hre=(e,t)=>{const o=Qh((c,m)=>Vre(t,c,m),0);t.on("remove",o.cancel);const a=e;return c=>e.on(m=>{const p=Math.max(Math.abs(c.screenX-m.screenX),Math.abs(c.screenY-m.screenY));if(!m.dragging&&p>10){const S=mO(t,"dragstart",m.element,m.dataTransfer,c);if(Oe(S.dataTransfer)&&(m.dataTransfer=S.dataTransfer),S.isDefaultPrevented())return;m.dragging=!0,t.focus()}if(m.dragging){const S=c.currentTarget===t.getDoc().documentElement,T=Fre(m,_re(t,c));Pre(m.ghost,t.getBody()),Bre(m.ghost,T,m.width,m.height,m.maxX,m.maxY,c.clientY,c.clientX,t.getContentAreaContainer(),t.getWin(),a,S),o.throttle(c.clientX,c.clientY)}})},zre=e=>{const t=e.getSel();if(Oe(t)){const a=t.getRangeAt(0).startContainer;return Xt(a)?a.parentNode:a}else return null},Ure=(e,t)=>o=>{e.on(a=>{var c;if(a.intervalId.clear(),a.dragging){if(Nre(t,zre(t.selection),a.element)){const m=(c=t.getDoc().elementFromPoint(o.clientX,o.clientY))!==null&&c!==void 0?c:t.getBody();mO(t,"drop",m,a.dataTransfer,o).isDefaultPrevented()||t.undoManager.transact(()=>{Mre(t.dom,a.element),Yoe(a.dataTransfer).each(S=>t.insertContent(S)),t._selectionOverrides.hideFakeCaret()})}mO(t,"dragend",t.getBody(),a.dataTransfer,o)}}),eZ(e)},Qj=(e,t,o)=>{e.on(a=>{a.intervalId.clear(),a.dragging&&o.fold(()=>mO(t,"dragend",a.element,a.dataTransfer),c=>mO(t,"dragend",a.element,a.dataTransfer,c))}),eZ(e)},Wre=(e,t)=>o=>Qj(e,t,te.some(o)),eZ=e=>{e.on(t=>{t.intervalId.clear(),Jj(t.ghost)}),e.clear()},jre=e=>{const t=xa(),o=dr.DOM,a=document,c=$re(t,e),m=Hre(t,e),p=Ure(t,e),S=Wre(t,e);e.on("mousedown",c),e.on("mousemove",m),e.on("mouseup",p),o.bind(a,"mousemove",m),o.bind(a,"mouseup",S),e.on("remove",()=>{o.unbind(a,"mousemove",m),o.unbind(a,"mouseup",S)}),e.on("keydown",T=>{T.keyCode===kn.ESC&&Qj(t,e,te.none())})},Zre=e=>{const t=c=>{if(!c.isDefaultPrevented()){const m=c.dataTransfer;m&&(xe(m.types,"Files")||m.files.length>0)&&(c.preventDefault(),c.type==="drop"&&z_(e,"Dropped file type is not supported"))}},o=c=>{SS(e,c.target)&&t(c)},a=()=>{const c=dr.DOM,m=e.dom,p=document,S=e.inline?e.getBody():e.getDoc(),T=["drop","dragover"];ye(T,H=>{c.bind(p,H,o),m.bind(S,H,t)}),e.on("remove",()=>{ye(T,H=>{c.unbind(p,H,o),m.unbind(S,H,t)})})};e.on("init",()=>{Wu.setEditorTimeout(e,a,0)})},Kre=e=>{jre(e),LC(e)&&Zre(e)},qre=e=>{const t=Qh(()=>{if(!e.removed&&e.getBody().contains(document.activeElement)){const o=e.selection.getRng();if(o.collapsed){const a=Z_(e,o,!1);e.selection.setRng(a)}}},0);e.on("focus",()=>{t.throttle()}),e.on("blur",()=>{t.cancel()})},Gre=e=>{e.on("init",()=>{e.on("focusin",t=>{const o=t.target;if(Rt(o)){const a=cf(e.getBody(),o),c=yo(a)?a:o;e.selection.getNode()!==c&&Ow(e,c).each(m=>e.selection.setRng(m))}})})},gO=yo,tZ=(e,t)=>cf(e.getBody(),t),Yre=e=>{const t=e.selection,o=e.dom,a=e.getBody(),c=KR(e,a,o.isBlock,()=>dy(e)),m="sel-"+o.uniqueId(),p="data-mce-selected";let S;const T=On=>Oe(On)&&o.hasClass(On,"mce-offscreen-selection"),H=On=>On!==a&&(gO(On)||Rt(On))&&o.isChildOf(On,a)&&o.isEditable(On.parentNode),J=On=>{On&&t.setRng(On)},ee=(On,It,_t,Ut=!0)=>e.dispatch("ShowCaret",{target:It,direction:On,before:_t}).isDefaultPrevented()?null:(Ut&&t.scrollIntoView(It,On===-1),c.show(_t,It)),re=On=>{On.hasAttribute("data-mce-caret")&&(op(On),t.scrollIntoView(On))},ve=()=>{e.on("click",It=>{o.isEditable(It.target)||(It.preventDefault(),e.focus())}),e.on("blur NewBlock",xt),e.on("ResizeWindow FullscreenStateChanged",c.reposition),e.on("tap",It=>{const _t=It.target,Ut=tZ(e,_t);gO(Ut)?(It.preventDefault(),Ow(e,Ut).each(at)):H(_t)&&Ow(e,_t).each(at)},!0),e.on("mousedown",It=>{const _t=It.target;if(_t!==a&&_t.nodeName!=="HTML"&&!o.isChildOf(_t,a)||!K$(e,It.clientX,It.clientY))return;xt(),un();const Ut=tZ(e,_t);gO(Ut)?(It.preventDefault(),Ow(e,Ut).each(at)):Wj(a,It.clientX,It.clientY).each($n=>{It.preventDefault();const Jn=ee(1,$n.node,$n.position===lk.Before,!1);J(Jn),Dc(Ut)?Ut.focus():e.getBody().focus()})}),e.on("keypress",It=>{kn.modifierPressed(It)||gO(t.getNode())&&It.preventDefault()}),e.on("GetSelectionRange",It=>{let _t=It.range;if(S){if(!S.parentNode){S=null;return}_t=_t.cloneRange(),_t.selectNode(S),It.range=_t}}),e.on("SetSelectionRange",It=>{It.range=Me(It.range);const _t=at(It.range,It.forward);_t&&(It.range=_t)});const On=It=>Vn(It)&&It.id==="mcepastebin";e.on("AfterSetSelectionRange",It=>{const _t=It.range,Ut=_t.startContainer.parentElement;!we(_t)&&!On(Ut)&&un(),T(Ut)||xt()}),Kre(e),qre(e),Gre(e)},Te=On=>Mc(On)||Vv(On)||om(On),we=On=>Te(On.startContainer)||Te(On.endContainer),Me=On=>{const It=e.schema.getVoidElements(),_t=o.createRng(),Ut=On.startContainer,$n=On.startOffset,Jn=On.endContainer,Jo=On.endOffset;return ho(It,Ut.nodeName.toLowerCase())?$n===0?_t.setStartBefore(Ut):_t.setStartAfter(Ut):_t.setStart(Ut,$n),ho(It,Jn.nodeName.toLowerCase())?Jo===0?_t.setEndBefore(Jn):_t.setEndAfter(Jn):_t.setEnd(Jn,Jo),_t},Qe=(On,It)=>{const _t=Ke.fromDom(e.getBody()),Ut=e.getDoc(),$n=Ft(_t,"#"+m).getOrThunk(()=>{const as=Ke.fromHtml('<div data-mce-bogus="all" class="mce-offscreen-selection"></div>',Ut);return va(as,"id",m),Pr(_t,as),as}),Jn=o.createRng();er($n),na($n,[Ke.fromText(qa,Ut),Ke.fromDom(It),Ke.fromText(qa,Ut)]),Jn.setStart($n.dom.firstChild,1),Jn.setEnd($n.dom.lastChild,0),rs($n,{top:o.getPos(On,e.getBody()).y+"px"}),vA($n);const Jo=t.getSel();return Jo&&(Jo.removeAllRanges(),Jo.addRange(Jn)),Jn},lt=On=>{const It=On.cloneNode(!0),_t=e.dispatch("ObjectSelected",{target:On,targetClone:It});if(_t.isDefaultPrevented())return null;const Ut=Qe(On,_t.targetClone),$n=Ke.fromDom(On);return ye(da(Ke.fromDom(e.getBody()),`*[${p}]`),Jn=>{ss($n,Jn)||Ho(Jn,p)}),o.getAttrib(On,p)||On.setAttribute(p,"1"),S=On,un(),Ut},at=(On,It)=>{if(!On)return null;if(On.collapsed){if(!we(On)){const Jn=It?1:-1,Jo=f2(Jn,a,On),as=Jo.getNode(!It);if(Oe(as)){if(l2(as))return ee(Jn,as,It?!Jo.isAtEnd():!1,!1);if(Ug(as)&&yo(as.nextSibling)){const sr=o.createRng();return sr.setStart(as,0),sr.setEnd(as,0),sr}}const Ks=Jo.getNode(It);if(Oe(Ks)){if(l2(Ks))return ee(Jn,Ks,It?!1:!Jo.isAtEnd(),!1);if(Ug(Ks)&&yo(Ks.previousSibling)){const sr=o.createRng();return sr.setStart(Ks,1),sr.setEnd(Ks,1),sr}}}return null}let _t=On.startContainer,Ut=On.startOffset;const $n=On.endOffset;if(Xt(_t)&&Ut===0&&gO(_t.parentNode)&&(_t=_t.parentNode,Ut=o.nodeIndex(_t),_t=_t.parentNode),!Vn(_t))return null;if($n===Ut+1&&_t===On.endContainer){const Jn=_t.childNodes[Ut];if(H(Jn))return lt(Jn)}return null},xt=()=>{S&&S.removeAttribute(p),Ft(Ke.fromDom(e.getBody()),"#"+m).each(Ps),S=null},Zt=()=>{c.destroy(),S=null},un=()=>{c.hide()};return fh(e)||ve(),{showCaret:ee,showBlockCaretContainer:re,hideFakeCaret:un,destroy:Zt}},Xre=(e,t)=>{let o=t;for(let a=e.previousSibling;Xt(a);a=a.previousSibling)o+=a.data.length;return o},nZ=(e,t,o,a,c)=>{if(Xt(o)&&(a<0||a>o.data.length))return[];const m=c&&Xt(o)?[Xre(o,a)]:[a];let p=o;for(;p!==t&&p.parentNode;)m.push(e.nodeIndex(p,c)),p=p.parentNode;return p===t?m.reverse():[]},zH=(e,t,o,a,c,m,p=!1)=>{const S=nZ(e,t,o,a,p),T=nZ(e,t,c,m,p);return{start:S,end:T}},oZ=(e,t)=>{const o=t.slice(),a=o.pop();return P(a)?fn(o,(m,p)=>m.bind(S=>te.from(S.childNodes[p])),te.some(e)).bind(m=>Xt(m)&&(a<0||a>m.data.length)?te.none():te.some({node:m,offset:a})):te.none()},sZ=(e,t)=>oZ(e,t.start).bind(({node:o,offset:a})=>oZ(e,t.end).map(({node:c,offset:m})=>{const p=document.createRange();return p.setStart(o,a),p.setEnd(c,m),p})),Jre=(e,t,o,a=!1)=>zH(e,t,o.startContainer,o.startOffset,o.endContainer,o.endOffset,a),ck=(e,t,o)=>{if(t&&e.isEmpty(t)&&!o(t)){const a=t.parentNode;e.remove(t,Xt(t.firstChild)&&ec(t.firstChild.data)),ck(e,a,o)}},WB=(e,t,o,a=!0)=>{const c=t.startContainer.parentNode,m=t.endContainer.parentNode;t.deleteContents(),a&&!o(t.startContainer)&&(Xt(t.startContainer)&&t.startContainer.data.length===0&&e.remove(t.startContainer),Xt(t.endContainer)&&t.endContainer.data.length===0&&e.remove(t.endContainer),ck(e,c,o),c!==m&&ck(e,m,o))},jB=(e,t)=>te.from(e.dom.getParent(t.startContainer,e.dom.isBlock)),UH=(e,t,o)=>{const a=e.dynamicPatternsLookup({text:o,block:t});return{...e,blockPatterns:fl(a).concat(e.blockPatterns),inlinePatterns:Qd(a).concat(e.inlinePatterns)}},WH=(e,t,o,a)=>{const c=e.createRng();return c.setStart(t,0),c.setEnd(o,a),c.toString()},rZ=(e,t)=>e.create("span",{"data-mce-type":"bookmark",id:t}),ZB=(e,t)=>{const o=e.createRng();return o.setStartAfter(t.start),o.setEndBefore(t.end),o},aZ=(e,t,o)=>{const a=sZ(e.getRoot(),o).getOrDie("Unable to resolve path range"),c=a.startContainer,m=a.endContainer,p=a.endOffset===0?m:m.splitText(a.endOffset),S=a.startOffset===0?c:c.splitText(a.startOffset),T=S.parentNode,H=p.parentNode;return{prefix:t,end:H.insertBefore(rZ(e,t+"-end"),p),start:T.insertBefore(rZ(e,t+"-start"),S)}},iZ=(e,t,o)=>{ck(e,e.get(t.prefix+"-end"),o),ck(e,e.get(t.prefix+"-start"),o)},jH=e=>e.start.length===0,Qre=e=>(t,o)=>{const c=t.data.substring(0,o),m=c.lastIndexOf(e.charAt(e.length-1)),p=c.lastIndexOf(e);return p!==-1?p+e.length:m!==-1?m+1:-1},lZ=(e,t,o,a)=>{const c=t.start;return mH(e,a.container,a.offset,Qre(c),o).bind(p=>{var S,T;const H=(T=(S=o.textContent)===null||S===void 0?void 0:S.indexOf(c))!==null&&T!==void 0?T:-1;if(H!==-1&&p.offset>=H+c.length){const ee=e.createRng();return ee.setStart(p.container,p.offset-c.length),ee.setEnd(p.container,p.offset),te.some(ee)}else{const ee=p.offset-c.length;return fH(p.container,ee,o).map(re=>{const ve=e.createRng();return ve.setStart(re.container,re.offset),ve.setEnd(p.container,p.offset),ve}).filter(re=>re.toString()===c).orThunk(()=>lZ(e,t,o,Op(p.container,0)))}})},eae=(e,t,o,a,c,m=!1)=>{if(t.start.length===0&&!m){const p=e.createRng();return p.setStart(o,a),p.setEnd(o,a),te.some(p)}return dH(o,a,c).bind(p=>lZ(e,t,c,p).bind(T=>{var H;if(m){if(T.endContainer===p.container&&T.endOffset===p.offset)return te.none();if(p.offset===0&&((H=T.endContainer.textContent)===null||H===void 0?void 0:H.length)===T.endOffset)return te.none()}return te.some(T)}))},tae=(e,t,o,a)=>{const c=e.dom,m=c.getRoot(),p=o.pattern,S=o.position.container,T=o.position.offset;return fH(S,T-o.pattern.end.length,t).bind(H=>{const J=zH(c,m,H.container,H.offset,S,T,a);if(jH(p))return te.some({matches:[{pattern:p,startRng:J,endRng:J}],position:H});{const ee=KB(e,o.remainingPatterns,H.container,H.offset,t,a),re=ee.getOr({matches:[],position:H}),ve=re.position;return eae(c,p,ve.container,ve.offset,t,ee.isNone()).map(we=>{const Me=Jre(c,m,we,a);return{matches:re.matches.concat([{pattern:p,startRng:Me,endRng:J}]),position:Op(we.startContainer,we.startOffset)}})}})},KB=(e,t,o,a,c,m)=>{const p=e.dom;return dH(o,a,p.getRoot()).bind(S=>{const T=WH(p,c,o,a);for(let H=0;H<t.length;H++){const J=t[H];if(!Pe(T,J.end))continue;const ee=t.slice();ee.splice(H,1);const re=tae(e,c,{pattern:J,remainingPatterns:ee,position:S},m);if(re.isNone()&&a>0)return KB(e,t,o,a-1,c,m);if(re.isSome())return re}return te.none()})},cZ=(e,t,o)=>{e.selection.setRng(o),t.type==="inline-format"?ye(t.format,a=>{e.formatter.apply(a)}):e.execCommand(t.cmd,!1,t.value)},nae=(e,t,o,a)=>{const c=ZB(e.dom,o);WB(e.dom,c,a),cZ(e,t,c)},oae=(e,t,o,a,c)=>{const m=e.dom,p=ZB(m,a),S=ZB(m,o);WB(m,S,c),WB(m,p,c);const T={prefix:o.prefix,start:o.end,end:a.start},H=ZB(m,T);cZ(e,t,H)},sae=(e,t)=>{const o=El("mce_textpattern"),a=pt(t,(c,m)=>{const p=aZ(e,o+`_end${c.length}`,m.endRng);return c.concat([{...m,endMarker:p}])},[]);return pt(a,(c,m)=>{const p=a.length-c.length-1,S=jH(m.pattern)?m.endMarker:aZ(e,o+`_start${p}`,m.startRng);return c.concat([{...m,startMarker:S}])},[])},rae=e=>ms(e,(t,o)=>o.end.length-t.end.length),aae=(e,t)=>{const o=Po(e,a=>Re(t,c=>a.pattern.start===c.pattern.start&&a.pattern.end===c.pattern.end));return e.length===t.length?o?e:t:e.length>t.length?e:t},uZ=(e,t,o,a,c,m)=>{const p=KB(e,c.inlinePatterns,o,a,t,m).fold(()=>[],T=>T.matches),S=KB(e,rae(c.inlinePatterns),o,a,t,m).fold(()=>[],T=>T.matches);return aae(p,S)},dZ=(e,t)=>{if(t.length===0)return;const o=e.dom,a=e.selection.getBookmark(),c=sae(o,t);ye(c,m=>{const p=o.getParent(m.startMarker.start,o.isBlock),S=T=>T===p;jH(m.pattern)?nae(e,m.pattern,m.endMarker,S):oae(e,m.pattern,m.startMarker,m.endMarker,S),iZ(o,m.endMarker,S),iZ(o,m.startMarker,S)}),e.selection.moveToBookmark(a)},fZ=(e,t,o)=>Gee(t,0,t).map(a=>{const c=a.container;return gW(c,o.start.length,t).each(m=>{const p=e.createRng();p.setStart(c,0),p.setEnd(m.container,m.offset),WB(e,p,S=>S===t)}),c}),mZ=e=>(t,o)=>{const a=t.dom,c=o.pattern,m=sZ(a.getRoot(),o.range).getOrDie("Unable to resolve path range"),p=(S,T)=>{const H=T.get(S);return ne(H)&&on(H).exists(J=>ho(J,"block"))};return jB(t,m).each(S=>{c.type==="block-format"?p(c.format,t.formatter)&&t.undoManager.transact(()=>{e(t.dom,S,c),t.formatter.apply(c.format)}):c.type==="block-command"&&t.undoManager.transact(()=>{e(t.dom,S,c),t.execCommand(c.cmd,!1,c.value)})}),!0},iae=e=>ms(e,(t,o)=>o.start.length-t.start.length),gZ=e=>(t,o)=>{const a=iae(t),c=o.replace(qa," ");return Nn(a,m=>e(m,o,c))},hZ=(e,t)=>(o,a,c,m,p)=>{var S;p===void 0&&(p=(S=a.textContent)!==null&&S!==void 0?S:"");const T=o.dom,H=Ul(o);return T.is(a,H)?e(c.blockPatterns,p).map(J=>t&&an.trim(p).length===J.start.length?[]:[{pattern:J,range:zH(T,T.getRoot(),a,0,a,0,m)}]).getOr([]):[]},lae=e=>/^\s[^\s]/.test(e),cae=mZ((e,t,o)=>{fZ(e,t,o).each(a=>{const c=Ke.fromDom(a),m=Hg(c);lae(m)&&Iv(c,m.slice(1))})}),uae=gZ((e,t,o)=>t.indexOf(e.start)===0||o.indexOf(e.start)===0),dae=hZ(uae,!0),fae=(e,t)=>{const o=e.selection.getRng();return jB(e,o).map(a=>{var c;const m=Math.max(0,o.startOffset),p=UH(t,a,(c=a.textContent)!==null&&c!==void 0?c:""),S=uZ(e,a,o.startContainer,m,p,!0),T=dae(e,a,p,!0);return{inlineMatches:S,blockMatches:T}}).filter(({inlineMatches:a,blockMatches:c})=>c.length>0||a.length>0)},mae=(e,t)=>{if(t.length===0)return;const o=e.selection.getBookmark();ye(t,a=>cae(e,a)),e.selection.moveToBookmark(o)},gae=mZ(fZ),hae=gZ((e,t,o)=>t===e.start||o===e.start),pae=hZ(hae,!1),bae=(e,t)=>{const o=e.selection.getRng();return jB(e,o).map(a=>{const c=Math.max(0,o.startOffset),m=WH(e.dom,a,o.startContainer,c),p=UH(t,a,m);return pae(e,a,p,!1,m)}).filter(a=>a.length>0)},vae=(e,t)=>{ye(t,o=>gae(e,o))},yae=(e,t)=>fae(e,t).fold(Fn,({inlineMatches:o,blockMatches:a})=>(e.undoManager.add(),e.undoManager.extra(()=>{e.execCommand("mceInsertNewLine")},()=>{lE(e),dZ(e,o),mae(e,a);const c=e.selection.getRng(),m=dH(c.startContainer,c.startOffset,e.dom.getRoot());e.execCommand("mceInsertNewLine"),m.each(p=>{const S=p.container;S.data.charAt(p.offset-1)===zr&&(S.deleteData(p.offset-1,1),ck(e.dom,S.parentNode,T=>T===e.dom.getRoot()))})}),!0)),xae=(e,t)=>{const o=e.selection.getRng();jB(e,o).map(a=>{const c=Math.max(0,o.startOffset-1),m=WH(e.dom,a,o.startContainer,c),p=UH(t,a,m),S=uZ(e,a,o.startContainer,c,p,!1);S.length>0&&e.undoManager.transact(()=>{dZ(e,S)})})},wae=(e,t)=>bae(e,t).fold(Fn,o=>(e.undoManager.transact(()=>{vae(e,o)}),!0)),pZ=(e,t,o)=>{for(let a=0;a<e.length;a++)if(o(e[a],t))return!0;return!1},Cae=(e,t)=>pZ(e,t,(o,a)=>o===a.keyCode&&!kn.modifierPressed(a)),Sae=(e,t)=>pZ(e,t,(o,a)=>o.charCodeAt(0)===a.charCode),_ae=e=>{const t=[",",".",";",":","!","?"],o=[32],a=()=>cb(g8(e).filter(p=>p.type==="inline-command"||p.type==="block-command"?e.queryCommandSupported(p.cmd):!0),r2(e)),c=()=>EE(e);e.on("keydown",p=>{if(p.keyCode===13&&!kn.modifierPressed(p)&&e.selection.isCollapsed()){const S=Ym(a(),"enter");(S.inlinePatterns.length>0||S.blockPatterns.length>0||c())&&yae(e,S)&&p.preventDefault()}},!0),e.on("keydown",p=>{if(p.keyCode===32&&e.selection.isCollapsed()){const S=Ym(a(),"space");(S.blockPatterns.length>0||c())&&wae(e,S)&&p.preventDefault()}},!0);const m=()=>{if(e.selection.isCollapsed()){const p=Ym(a(),"space");(p.inlinePatterns.length>0||c())&&xae(e,p)}};e.on("keyup",p=>{Cae(o,p)&&m()}),e.on("keypress",p=>{Sae(t,p)&&Wu.setEditorTimeout(e,m)})},kae=e=>{_ae(e)},Eae=e=>{const t=an.each,o=kn.BACKSPACE,a=kn.DELETE,c=e.dom,m=e.selection,p=e.parser,S=qo.browser,T=S.isFirefox(),H=S.isChromium()||S.isSafari(),J=qo.deviceType.isiPhone()||qo.deviceType.isiPad(),ee=qo.os.isMacOS()||qo.os.isiOS(),re=(Sn,lo)=>{try{e.getDoc().execCommand(Sn,!1,String(lo))}catch{}},ve=Sn=>Sn.isDefaultPrevented(),Te=()=>{const Sn=ts=>{const An=c.create("body"),Qo=ts.cloneContents();return An.appendChild(Qo),m.serializer.serialize(An,{format:"html"})},lo=ts=>{const An=Sn(ts),Qo=c.createRng();Qo.selectNode(e.getBody());const us=Sn(Qo);return An===us};e.on("keydown",ts=>{const An=ts.keyCode;if(!ve(ts)&&(An===a||An===o)&&e.selection.isEditable()){const Qo=e.selection.isCollapsed(),us=e.getBody();if(Qo&&!tc(e.schema,us)||!Qo&&!lo(e.selection.getRng()))return;ts.preventDefault(),e.setContent(""),us.firstChild&&c.isBlock(us.firstChild)?e.selection.setCursorLocation(us.firstChild,0):e.selection.setCursorLocation(us,0),e.nodeChanged()}})},we=()=>{e.shortcuts.add("meta+a",null,"SelectAll")},Me=()=>{e.inline||c.bind(e.getDoc(),"mousedown mouseup",Sn=>{let lo;if(Sn.target===e.getDoc().documentElement)if(lo=m.getRng(),e.getBody().focus(),Sn.type==="mousedown"){if(Mc(lo.startContainer))return;m.placeCaretAt(Sn.clientX,Sn.clientY)}else m.setRng(lo)})},Qe=()=>{e.on("keydown",Sn=>{if(!ve(Sn)&&Sn.keyCode===o){if(!e.getBody().getElementsByTagName("hr").length)return;if(m.isCollapsed()&&m.getRng().startOffset===0){const lo=m.getNode(),ts=lo.previousSibling;if(lo.nodeName==="HR"){c.remove(lo),Sn.preventDefault();return}ts&&ts.nodeName&&ts.nodeName.toLowerCase()==="hr"&&(c.remove(ts),Sn.preventDefault())}}})},lt=()=>{Range.prototype.getClientRects||e.on("mousedown",Sn=>{if(!ve(Sn)&&Sn.target.nodeName==="HTML"){const lo=e.getBody();lo.blur(),Wu.setEditorTimeout(e,()=>{lo.focus()})}})},at=()=>{const Sn=Q1(e);e.on("click",lo=>{const ts=lo.target;/^(IMG|HR)$/.test(ts.nodeName)&&c.isEditable(ts)&&(lo.preventDefault(),e.selection.select(ts),e.nodeChanged()),ts.nodeName==="A"&&c.hasClass(ts,Sn)&&ts.childNodes.length===0&&c.isEditable(ts.parentNode)&&(lo.preventDefault(),m.select(ts))})},xt=()=>{const Sn=()=>{const ts=c.getAttribs(m.getStart().cloneNode(!1));return()=>{const An=m.getStart();An!==e.getBody()&&(c.setAttrib(An,"style",null),t(ts,Qo=>{An.setAttributeNode(Qo.cloneNode(!0))}))}},lo=()=>!m.isCollapsed()&&c.getParent(m.getStart(),c.isBlock)!==c.getParent(m.getEnd(),c.isBlock);e.on("keypress",ts=>{let An;return!ve(ts)&&(ts.keyCode===8||ts.keyCode===46)&&lo()?(An=Sn(),e.getDoc().execCommand("delete",!1),An(),ts.preventDefault(),!1):!0}),c.bind(e.getDoc(),"cut",ts=>{if(!ve(ts)&&lo()){const An=Sn();Wu.setEditorTimeout(e,()=>{An()})}})},Zt=()=>{e.on("keydown",Sn=>{if(!ve(Sn)&&Sn.keyCode===o&&m.isCollapsed()&&m.getRng().startOffset===0){const lo=m.getNode().previousSibling;if(lo&&lo.nodeName&&lo.nodeName.toLowerCase()==="table")return Sn.preventDefault(),!1}return!0})},un=()=>{e.on("keydown",Sn=>{if(ve(Sn)||Sn.keyCode!==kn.BACKSPACE)return;let lo=m.getRng();const ts=lo.startContainer,An=lo.startOffset,Qo=c.getRoot();let us=ts;if(!(!lo.collapsed||An!==0)){for(;us.parentNode&&us.parentNode.firstChild===us&&us.parentNode!==Qo;)us=us.parentNode;us.nodeName==="BLOCKQUOTE"&&(e.formatter.toggle("blockquote",void 0,us),lo=c.createRng(),lo.setStart(ts,0),lo.setEnd(ts,0),m.setRng(lo))}})},On=()=>{const Sn=()=>{re("StyleWithCSS",!1),re("enableInlineTableEditing",!1),wR(e)||re("enableObjectResizing",!1)};OR(e)||e.on("BeforeExecCommand mousedown",Sn)},It=()=>{const Sn=()=>{t(c.select("a:not([data-mce-block])"),lo=>{var ts;let An=lo.parentNode;const Qo=c.getRoot();if((An==null?void 0:An.lastChild)===lo){for(;An&&!c.isBlock(An);){if(((ts=An.parentNode)===null||ts===void 0?void 0:ts.lastChild)!==An||An===Qo)return;An=An.parentNode}c.add(An,"br",{"data-mce-bogus":1})}})};e.on("SetContent ExecCommand",lo=>{(lo.type==="setcontent"||lo.command==="mceInsertLink")&&Sn()})},_t=()=>{e.on("init",()=>{re("DefaultParagraphSeparator",Ul(e))})},Ut=Sn=>{const lo=Sn.getBody(),ts=Sn.selection.getRng();return ts.startContainer===ts.endContainer&&ts.startContainer===lo&&ts.startOffset===0&&ts.endOffset===lo.childNodes.length},$n=()=>{e.on("keyup focusin mouseup",Sn=>{!kn.modifierPressed(Sn)&&!Ut(e)&&m.normalize()},!0)},Jn=()=>{e.contentStyles.push("img:-moz-broken {-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}")},Jo=()=>{e.inline||e.on("keydown",()=>{document.activeElement===document.body&&e.getWin().focus()})},as=()=>{e.inline||(e.contentStyles.push("body {min-height: 150px}"),e.on("click",Sn=>{let lo;Sn.target.nodeName==="HTML"&&(lo=e.selection.getRng(),e.getBody().focus(),e.selection.setRng(lo),e.selection.normalize(),e.nodeChanged())}))},Ks=()=>{ee&&e.on("keydown",Sn=>{kn.metaKeyPressed(Sn)&&!Sn.shiftKey&&(Sn.keyCode===37||Sn.keyCode===39)&&(Sn.preventDefault(),e.selection.getSel().modify("move",Sn.keyCode===37?"backward":"forward","lineboundary"))})},sr=()=>{e.on("click",Sn=>{let lo=Sn.target;do if(lo.tagName==="A"){Sn.preventDefault();return}while(lo=lo.parentNode)}),e.contentStyles.push(".mce-content-body {-webkit-touch-callout: none}")},Ia=()=>{e.on("init",()=>{e.dom.bind(e.getBody(),"submit",Sn=>{Sn.preventDefault()})})},uc=()=>{p.addNodeFilter("br",Sn=>{let lo=Sn.length;for(;lo--;)Sn[lo].attr("class")==="Apple-interchange-newline"&&Sn[lo].remove()})},mr=Nt,vn=()=>{if(!T||e.removed)return!1;const Sn=e.selection.getSel();return!Sn||!Sn.rangeCount||Sn.rangeCount===0},Gn=()=>{H&&(Me(),at(),Ia(),we(),J&&(Jo(),as(),sr())),T&&(lt(),On(),Jn(),Ks())},Bs=()=>{un(),Te(),qo.windowsPhone||$n(),H&&(Me(),at(),_t(),Ia(),Zt(),uc(),J?(Jo(),as(),sr()):we()),T&&(Qe(),lt(),xt(),On(),It(),Jn(),Ks(),Zt())};return fh(e)?Gn():Bs(),{refreshContentEditable:mr,isHidden:vn}},Aae=e=>e.toLowerCase()==="gpl",Tae=e=>e.length>=64&&e.length<=255,Oae=e=>Aae(e)||Tae(e)?"VALID":"INVALID",Rae=e=>{const t=HR(e);!le(zR(e))&&(Ze(t)||Oae(t)==="INVALID")&&console.warn("TinyMCE is running in evaluation mode. Provide a valid license key or add license_key: 'gpl' to the init config to agree to the open source license terms. Read more at https://www.tiny.cloud/license-key/")},ZH=dr.DOM,Dae=(e,t)=>{const o=Ke.fromDom(e.getBody()),a=Ff(Qc(o)),c=Ke.fromTag("style");va(c,"type","text/css"),Pr(c,Ke.fromText(t)),Pr(a,c),e.on("remove",()=>{Ps(c)})},Nae=e=>e.inline?e.getElement().nodeName.toLowerCase():void 0,KH=e=>xc(e,t=>Ze(t)===!1),bZ=e=>{const t=e.options.get,o=e.editorUpload.blobCache;return KH({allow_conditional_comments:t("allow_conditional_comments"),allow_html_data_urls:t("allow_html_data_urls"),allow_svg_data_urls:t("allow_svg_data_urls"),allow_html_in_named_anchor:t("allow_html_in_named_anchor"),allow_script_urls:t("allow_script_urls"),allow_unsafe_link_target:t("allow_unsafe_link_target"),convert_unsafe_embeds:t("convert_unsafe_embeds"),convert_fonts_to_spans:t("convert_fonts_to_spans"),fix_list_elements:t("fix_list_elements"),font_size_legacy_values:t("font_size_legacy_values"),forced_root_block:t("forced_root_block"),forced_root_block_attrs:t("forced_root_block_attrs"),preserve_cdata:t("preserve_cdata"),inline_styles:t("inline_styles"),root_name:Nae(e),sandbox_iframes:t("sandbox_iframes"),sandbox_iframes_exclusions:VC(e),sanitize:t("xss_sanitization"),validate:!0,blob_cache:o,document:e.getDoc()})},vZ=e=>{const t=e.options.get;return KH({custom_elements:t("custom_elements"),extended_valid_elements:t("extended_valid_elements"),invalid_elements:t("invalid_elements"),invalid_styles:t("invalid_styles"),schema:t("schema"),valid_children:t("valid_children"),valid_classes:t("valid_classes"),valid_elements:t("valid_elements"),valid_styles:t("valid_styles"),verify_html:t("verify_html"),padd_empty_block_inline_children:t("format_empty_lines")})},Iae=e=>{const t=e.options.get;return{...bZ(e),...vZ(e),...KH({remove_trailing_brs:t("remove_trailing_brs"),pad_empty_with_br:t("pad_empty_with_br"),url_converter:t("url_converter"),url_converter_scope:t("url_converter_scope"),element_format:t("element_format"),entities:t("entities"),entity_encoding:t("entity_encoding"),indent:t("indent"),indent_after:t("indent_after"),indent_before:t("indent_before")})}},Pae=e=>{const t=Ty(bZ(e),e.schema);return t.addAttributeFilter("src,href,style,tabindex",(o,a)=>{const c=e.dom,m="data-mce-"+a;let p=o.length;for(;p--;){const S=o[p];let T=S.attr(a);if(T&&!S.attr(m)){if(T.indexOf("data:")===0||T.indexOf("blob:")===0)continue;a==="style"?(T=c.serializeStyle(c.parseStyle(T),S.name),T.length||(T=null),S.attr(m,T),S.attr(a,T)):a==="tabindex"?(S.attr(m,T),S.attr(a,null)):S.attr(m,e.convertURL(T,a,S.name))}}}),t.addNodeFilter("script",o=>{let a=o.length;for(;a--;){const c=o[a],m=c.attr("type")||"no/type";m.indexOf("mce-")!==0&&c.attr("type","mce-"+m)}}),p8(e)&&t.addNodeFilter("#cdata",o=>{var a;let c=o.length;for(;c--;){const m=o[c];m.type=8,m.name="#comment",m.value="[CDATA["+e.dom.encode((a=m.value)!==null&&a!==void 0?a:"")+"]]"}}),t.addNodeFilter("p,h1,h2,h3,h4,h5,h6,div",o=>{let a=o.length;const c=e.schema.getNonEmptyElements();for(;a--;){const m=o[a];m.isEmpty(c)&&m.getAll("br").length===0&&m.append(new ml("br",1))}}),t},Bae=e=>{const t=c8(e);t&&Wu.setEditorTimeout(e,()=>{let o;t===!0?o=e:o=e.editorManager.get(t),o&&!o.destroyed&&(o.focus(),o.selection.scrollIntoView())},100)},Mae=e=>{const t=e.dom.getRoot();!e.inline&&(!sy(e)||e.selection.getStart(!0)===t)&&fo(t).each(o=>{const a=o.getNode(),c=tu(a)?fo(a).getOr(o):o;e.selection.setRng(c.toRange())})},Lae=e=>{e.bindPendingEventDelegates(),e.initialized=!0,Sa(e),e.focus(!0),Mae(e),e.nodeChanged({initial:!0});const t=i8(e);Ve(t)&&t.call(e,e),Bae(e)},qH=e=>e.inline?e.ui.styleSheetLoader:e.dom.styleSheetLoader,Fae=(e,t,o)=>{const{pass:a,fail:c}=Be(t,S=>tinymce.Resource.has(g4(S))),p=[...a.map(S=>{const T=tinymce.Resource.get(g4(S));return le(T)?Promise.resolve(qH(e).loadRawCss(S,T)):Promise.resolve()}),qH(e).loadAll(c)];return e.inline?p:p.concat([e.ui.styleSheetLoader.loadAll(o)])},yZ=e=>{const t=qH(e),o=xR(e),a=e.contentCSS,c=()=>{t.unloadAll(a),e.inline||e.ui.styleSheetLoader.unloadAll(o)},m=()=>{e.removed?c():e.on("remove",c)};if(e.contentStyles.length>0){let T="";an.each(e.contentStyles,H=>{T+=H+`\r
`}),e.dom.addStyle(T)}const p=Promise.all(Fae(e,a,o)).then(m).catch(m),S=Y1(e);return S&&Dae(e,S),p},$ae=e=>{const t=e.getDoc(),o=e.getBody();F8(e),u8(e)||(t.body.spellcheck=!1,ZH.setAttrib(o,"spellcheck","false")),e.quirks=Eae(e),$8(e);const a=e8(e);a!==void 0&&(o.dir=a);const c=ks(e);c&&e.on("BeforeSetContent",m=>{an.each(c,p=>{m.content=m.content.replace(p,S=>"<!--mce:protected "+escape(S)+"-->")})}),e.on("SetContent",()=>{e.addVisual(e.getBody())}),e.on("compositionstart compositionend",m=>{e.composing=m.type==="compositionstart"})},Vae=e=>{fh(e)||e.load({initial:!0,format:"html"}),e.startContent=e.getContent({format:"raw"})},GH=e=>{e.removed!==!0&&(Vae(e),Lae(e))},Hae=e=>{let t=!1;const o=setTimeout(()=>{t||e.setProgressState(!0)},500);return()=>{clearTimeout(o),t=!0,e.setProgressState(!1)}},xZ=e=>{const t=e.getElement();let o=e.getDoc();e.inline&&(ZH.addClass(t,"mce-content-body"),e.contentDocument=o=document,e.contentWindow=window,e.bodyElement=t,e.contentAreaContainer=t);const a=e.getBody();a.disabled=!0,e.readonly=OR(e),e._editableRoot=zs(e),!e.readonly&&e.hasEditableRoot()&&(e.inline&&ZH.getStyle(a,"position",!0)==="static"&&(a.style.position="relative"),a.contentEditable="true"),a.disabled=!1,e.editorUpload=p4(e),e.schema=Bu(vZ(e)),e.dom=dr(o,{keep_values:!0,url_converter:e.convertURL,url_converter_scope:e,update_styles:!0,root_element:e.inline?e.getBody():null,collect:e.inline,schema:e.schema,contentCssCors:vR(e),referrerPolicy:t2(e),onSetAttrib:p=>{e.dispatch("SetAttrib",p)}}),e.parser=Pae(e),e.serializer=vP(Iae(e),e),e.selection=t4(e.dom,e.getWin(),e.serializer,e),e.annotator=ID(e),e.formatter=Tw(e),e.undoManager=XP(e),e._nodeChangeDispatcher=new Boe(e),e._selectionOverrides=Yre(e),$o(e),tre(e),$w(e),fh(e)||(lre(e),kae(e));const c=Poe(e);Qn(e,c),di(e),o6(e),Jse(e);const m=eP(e);$ae(e),Rae(e),m.fold(()=>{const p=Hae(e);yZ(e).then(()=>{GH(e),p()})},p=>{e.setProgressState(!0),yZ(e).then(()=>{p().then(S=>{e.setProgressState(!1),GH(e),iP(e)},S=>{e.notificationManager.open({type:"error",text:String(S)}),GH(e),iP(e)})})})},zae=Gt,Uae=(e,t,o)=>M(e,t,zae,o),YH=dr.DOM,Wae=(e,t,o,a)=>{const c=Ke.fromTag("iframe");return a.each(m=>va(c,"tabindex",m)),Mi(c,o),Mi(c,{id:e+"_ifr",frameBorder:"0",allowTransparency:"true",title:t}),Yc(c,"tox-edit-area__iframe"),c},jae=e=>{let t=sm(e)+"<html><head>";ud(e)!==e.documentBaseUrl&&(t+='<base href="'+e.documentBaseURI.getURI()+'" />'),t+='<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />';const o=MC(e),a=mE(e),c=e.translate(o2(e));return fR(e)&&(t+='<meta http-equiv="Content-Security-Policy" content="'+fR(e)+'" />'),t+=`</head><body id="${o}" class="mce-content-body ${a}" data-id="${e.id}" aria-label="${c}"><br></body></html>`,t},Zae=(e,t)=>{const o=qo.browser.isFirefox()?o2(e):"Rich Text Area",a=e.translate(o),c=ca(Ke.fromDom(e.getElement()),"tabindex").bind(yn),m=Wae(e.id,a,ac(e),c).dom;m.onload=()=>{m.onload=null,e.dispatch("load")},e.contentAreaContainer=t.iframeContainer,e.iframeElement=m,e.iframeHTML=jae(e),YH.add(t.iframeContainer,m)},Kae=e=>{const t=e.iframeElement,o=()=>{e.contentDocument=t.contentDocument,xZ(e)};if(MR(e)||qo.browser.isFirefox()){const a=e.getDoc();a.open(),a.write(e.iframeHTML),a.close(),o()}else{const a=Uae(Ke.fromDom(t),"load",()=>{a.unbind(),o()});t.srcdoc=e.iframeHTML}},qae=(e,t)=>{Zae(e,t),t.editorContainer&&(t.editorContainer.style.display=e.orgDisplay,e.hidden=YH.isHidden(t.editorContainer)),e.getElement().style.display="none",YH.setAttrib(e.id,"aria-hidden","true"),e.getElement().style.visibility=e.orgVisibility,Kae(e)},wZ=dr.DOM,Gae=(e,t,o)=>{const a=D0.get(o),c=D0.urls[o]||e.documentBaseUrl.replace(/\/$/,"");if(o=an.trim(o),a&&an.inArray(t,o)===-1){if(e.plugins[o])return;try{const m=a(e,c)||{};e.plugins[o]=m,Ve(m.init)&&(m.init(e,c),t.push(o))}catch(m){X$(e,o,m)}}},Yae=e=>e.replace(/^\-/,""),Xae=e=>{const t=[];ye(rm(e),o=>{Gae(e,t,Yae(o))})},Jae=e=>{const t=an.trim(vE(e)),o=e.ui.registry.getAll().icons,a={...Sw.get("default").icons,...Sw.get(t).icons};Vo(a,(c,m)=>{ho(o,m)||e.ui.registry.addIcon(m,c)})},Qae=e=>{const t=X1(e);if(le(t)){const o=Vb.get(t);e.theme=o(e,Vb.urls[t])||{},Ve(e.theme.init)&&e.theme.init(e,Vb.urls[t]||e.documentBaseUrl.replace(/\/$/,""))}else e.theme={}},eie=e=>{const t=n2(e),o=$b.get(t);e.model=o(e,$b.urls[t])},tie=e=>{const t=e.theme.renderUI;return t?t():SZ(e)},nie=e=>{const t=e.getElement(),a=X1(e)(e,t);return a.editorContainer.nodeType&&(a.editorContainer.id=a.editorContainer.id||e.id+"_parent"),a.iframeContainer&&a.iframeContainer.nodeType&&(a.iframeContainer.id=a.iframeContainer.id||e.id+"_iframecontainer"),a.height=a.iframeHeight?a.iframeHeight:t.offsetHeight,a},CZ=(e,t)=>({editorContainer:e,iframeContainer:t,api:{}}),oie=e=>{const t=wZ.create("div");return wZ.insertAfter(t,e),CZ(t,t)},SZ=e=>{const t=e.getElement();return e.inline?CZ(null):oie(t)},sie=e=>{const t=e.getElement();return e.orgDisplay=t.style.display,le(X1(e))?tie(e):Ve(X1(e))?nie(e):SZ(e)},rie=(e,t)=>{const o={show:te.from(t.show).getOr(Nt),hide:te.from(t.hide).getOr(Nt),isEnabled:te.from(t.isEnabled).getOr(Gt),setEnabled:a=>{e.mode.isReadOnly()||te.from(t.setEnabled).each(c=>c(a))}};e.ui={...e.ui,...o}},aie=async e=>{e.dispatch("ScriptsLoaded"),Jae(e),Qae(e),eie(e),Xae(e);const t=await sie(e);rie(e,te.from(t.api).getOr({})),e.editorContainer=t.editorContainer,FP(e),e.inline?xZ(e):qae(e,{editorContainer:t.editorContainer,iframeContainer:t.iframeContainer})},Ww=dr.DOM,_Z=e=>e.charAt(0)==="-",iie=(e,t)=>{const o=wE(t),a=QL(t);if(!Mu.hasCode(o)&&o!=="en"){const c=it(a)?a:`${t.editorManager.baseURL}/langs/${o}.js`;e.add(c).catch(()=>{G$(t,c,o)})}},lie=(e,t)=>{const o=X1(e);if(le(o)&&!_Z(o)&&!ho(Vb.urls,o)){const a=n8(e),c=a?e.documentBaseURI.toAbsolute(a):`themes/${o}/theme${t}.js`;Vb.load(o,c).catch(()=>{MP(e,c,o)})}},cie=(e,t)=>{const o=n2(e);if(o!=="plugin"&&!ho($b.urls,o)){const a=SE(e),c=le(a)?e.documentBaseURI.toAbsolute(a):`models/${o}/model${t}.js`;$b.load(o,c).catch(()=>{Y$(e,c,o)})}},uie=e=>te.from(pR(e)).filter(it).map(t=>({url:t,name:te.none()})),kZ=(e,t,o)=>te.from(t).filter(a=>it(a)&&!Sw.has(a)).map(a=>({url:`${e.editorManager.baseURL}/icons/${a}/icons${o}.js`,name:te.some(a)})),die=(e,t,o)=>{const a=kZ(t,"default",o),c=uie(t).orThunk(()=>kZ(t,vE(t),""));ye(xg([a,c]),m=>{e.add(m.url).catch(()=>{f4(t,m.url,m.name.getOrUndefined())})})},fie=(e,t)=>{const o=(a,c)=>{D0.load(a,c).catch(()=>{d4(e,c,a)})};Vo(qg(e),(a,c)=>{o(c,a),e.options.set("plugins",rm(e).concat(c))}),ye(rm(e),a=>{a=an.trim(a),a&&!D0.urls[a]&&!_Z(a)&&o(a,`plugins/${a}/plugin${t}.js`)})},mie=e=>{const t=X1(e);return!le(t)||Oe(Vb.get(t))},gie=e=>{const t=n2(e);return Oe($b.get(t))},hie=(e,t)=>{const o=oc.ScriptLoader,a=()=>{!e.removed&&mie(e)&&gie(e)&&aie(e)};lie(e,t),cie(e,t),iie(o,e),die(o,e,t),fie(e,t),o.loadQueue().then(a,a)},pie=(e,t)=>Wi.forElement(e,{contentCssCors:RR(t),referrerPolicy:t2(t)}),bie=e=>{const t=e.id;Mu.setCode(wE(e));const o=()=>{Ww.unbind(window,"ready",o),e.render()};if(!Fm.Event.domLoaded){Ww.bind(window,"ready",o);return}if(!e.getElement())return;const a=Ke.fromDom(e.getElement()),c=Li(a);e.on("remove",()=>{_e(a.dom.attributes,p=>Ho(a,p.name)),Mi(a,c)}),e.ui.styleSheetLoader=pie(a,e),Xv(e)?e.inline=!0:(e.orgVisibility=e.getElement().style.visibility,e.getElement().style.visibility="hidden");const m=e.getElement().form||Ww.getParent(t,"form");m&&(e.formElement=m,_E(e)&&!Ag(e.getElement())&&(Ww.insertAfter(Ww.create("input",{type:"hidden",name:t}),t),e.hasHiddenInput=!0),e.formEventDelegate=p=>{e.dispatch(p.type,p)},Ww.bind(m,"submit reset",e.formEventDelegate),e.on("reset",()=>{e.resetContent()}),kR(e)&&!m.submit.nodeType&&!m.submit.length&&!m._mceOldSubmit&&(m._mceOldSubmit=m.submit,m.submit=()=>(e.editorManager.triggerSave(),e.setDirty(!1),m._mceOldSubmit(m)))),e.windowManager=PP(e),e.notificationManager=u4(e),LR(e)&&e.on("GetContent",p=>{p.save&&(p.content=Ww.encode(p.content))}),ER(e)&&e.on("submit",()=>{e.initialized&&e.save()}),AR(e)&&(e._beforeUnload=()=>{e.initialized&&!e.destroyed&&!e.isHidden()&&e.save({format:"raw",no_events:!0,set_dirty:!1})},e.editorManager.on("BeforeUnload",e._beforeUnload)),e.editorManager.add(e),hie(e,e.suffix)},vie=(e,t)=>{e._editableRoot!==t&&(e._editableRoot=t,e.readonly||(e.getBody().contentEditable=String(e.hasEditableRoot()),e.nodeChanged()),z8(e,t))},yie=e=>e._editableRoot,xie=(e,t)=>({sections:ct(e),options:ct(t)}),EZ=ti().deviceType,AZ=EZ.isPhone(),wie=EZ.isTablet(),hO=e=>{if(rt(e))return[];{const t=ne(e)?e:e.split(/[ ,]/),o=Ue(t,We);return Ye(o,it)}},Cie=(e,t)=>{const o=yc(t,(a,c)=>xe(e,c));return xie(o.t,o.f)},Sie=(e,t,o={})=>{const a=e.sections(),c=Hs(a,t).getOr({});return an.extend({},o,c)},XH=(e,t)=>ho(e.sections(),t),_ie=(e,t)=>XH(e,t)?e.sections()[t]:{},kie=(e,t)=>({...{table_grid:!1,object_resizing:!1,resize:!1,toolbar_mode:Hs(e,"toolbar_mode").getOr("scrolling"),toolbar_sticky:!1},...t?{menubar:!1}:{}}),Eie=(e,t)=>{var o;const a=(o=t.external_plugins)!==null&&o!==void 0?o:{};return e&&e.external_plugins?an.extend({},e.external_plugins,a):a},Aie=(e,t)=>[...hO(e),...hO(t)],Tie=(e,t,o,a)=>e&&XH(t,"mobile")?a:o,Oie=(e,t,o,a)=>{const c=hO(o.forced_plugins),m=hO(a.plugins),p=_ie(t,"mobile"),S=p.plugins?hO(p.plugins):m,T=Tie(e,t,m,S),H=Aie(c,T);return an.extend(a,{forced_plugins:c,plugins:H})},Rie=(e,t)=>e&&XH(t,"mobile"),Die=(e,t,o,a,c)=>{var m;const p=e?{mobile:kie((m=c.mobile)!==null&&m!==void 0?m:{},t)}:{},S=Cie(["mobile"],kB(p,c)),T=an.extend(o,a,S.options(),Rie(e,S)?Sie(S,"mobile"):{},{external_plugins:Eie(a,S.options())});return Oie(e,S,a,T)},Nie=(e,t)=>{const o=CW(t);return Die(AZ||wie,AZ,o,e,o)},Iie=(e,t)=>aP(e,t),Pie=e=>{const t=(a,c)=>{e.formatter.toggle(a,c),e.nodeChanged()},o=a=>()=>{ye("left,center,right,justify".split(","),c=>{a!==c&&e.formatter.remove("align"+c)}),a!=="none"&&t("align"+a)};e.editorCommands.addCommands({JustifyLeft:o("left"),JustifyCenter:o("center"),JustifyRight:o("right"),JustifyFull:o("justify"),JustifyNone:o("none")})},Bie=e=>{const t=o=>()=>{const a=e.selection,c=a.isCollapsed()?[e.dom.getParent(a.getNode(),e.dom.isBlock)]:a.getSelectedBlocks();return Re(c,m=>Oe(e.formatter.matchNode(m,o)))};e.editorCommands.addCommands({JustifyLeft:t("alignleft"),JustifyCenter:t("aligncenter"),JustifyRight:t("alignright"),JustifyFull:t("alignjustify")},"state")},Mie=e=>{Pie(e),Bie(e)},Lie=e=>{e.editorCommands.addCommands({"Cut,Copy,Paste":t=>{const o=e.getDoc();let a;try{o.execCommand(t)}catch{a=!0}if(t==="paste"&&!o.queryCommandEnabled(t)&&(a=!0),a||!o.queryCommandSupported(t)){let c=e.translate("Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.");(qo.os.isMacOS()||qo.os.isiOS())&&(c=c.replace(/Ctrl\+/g,"+")),e.notificationManager.open({text:c,type:"error"})}}})},Fie=(e,t,o,a)=>{const c=Ke.fromDom(e.getRoot());return vy(c,Et.fromRangeStart(t),a)?o=o.replace(/^ /,"&nbsp;"):o=o.replace(/^&nbsp;/," "),x0(c,Et.fromRangeEnd(t),a)?o=o.replace(/(&nbsp;| )(<br( \/)>)?$/,"&nbsp;"):o=o.replace(/&nbsp;(<br( \/)?>)?$/," "),o},$ie=e=>{if(typeof e!="string"){const t=an.extend({paste:e.paste,data:{paste:e.paste}},e);return{content:e.content,details:t}}return{content:e,details:{}}},Vie=(e,t)=>{const o=e.selection,a=e.dom;return/^ | $/.test(t)?Fie(a,o.getRng(),t,e.schema):t},qB=(e,t)=>{if(e.selection.isEditable()){const{content:o,details:a}=$ie(t);O3(e,{...a,content:Vie(e,o),format:"html",set:!1,selection:!0}).each(c=>{const m=A$(e,c.content,a);R3(e,m,c),e.addVisual()})}},Hie=e=>{e.editorCommands.addCommands({mceCleanup:()=>{const t=e.selection.getBookmark();e.setContent(e.getContent()),e.selection.moveToBookmark(t)},insertImage:(t,o,a)=>{qB(e,e.dom.createHTML("img",{src:a}))},insertHorizontalRule:()=>{e.execCommand("mceInsertContent",!1,"<hr>")},insertText:(t,o,a)=>{qB(e,e.dom.encode(a))},insertHTML:(t,o,a)=>{qB(e,a)},mceInsertContent:(t,o,a)=>{qB(e,a)},mceSetContent:(t,o,a)=>{e.setContent(a)},mceReplaceContent:(t,o,a)=>{e.execCommand("mceInsertContent",!1,a.replace(/\{\$selection\}/g,e.selection.getContent({format:"text"})))},mceNewDocument:()=>{e.setContent(As(e))}})},zie={"font-size":"size","font-family":"face"},Uie=Md("font"),Wie=(e,t,o)=>{const a=m=>Hr(m,e).orThunk(()=>Uie(m)?Hs(zie,e).bind(p=>ca(m,p)):te.none()),c=m=>ss(Ke.fromDom(t),m);return rw(Ke.fromDom(o),m=>a(m),c)},jie=e=>e.replace(/[\'\"\\]/g,"").replace(/,\s+/g,","),Zie=(e,t)=>te.from(dr.DOM.getStyle(t,e,!0)),TZ=e=>(t,o)=>te.from(o).map(Ke.fromDom).filter(Zr).bind(a=>Wie(e,t,a.dom).or(Zie(e,a.dom))).getOr(""),Kie=TZ("font-size"),qie=Kt(jie,TZ("font-family")),Gie=e=>fo(e.getBody()).bind(t=>{const o=t.container();return te.from(Xt(o)?o.parentNode:o)}),Yie=e=>te.from(e.selection.getRng()).bind(t=>{const o=e.getBody();return t.startContainer===o&&t.startOffset===0?te.none():te.from(e.selection.getStart(!0))}),Xie=(e,t)=>Yie(e).orThunk(ot(Gie,e)).map(Ke.fromDom).filter(Zr).bind(t),JH=(e,t)=>Xie(e,rn(te.some,t)),OZ=(e,t)=>{if(/^[0-9.]+$/.test(t)){const o=parseInt(t,10);if(o>=1&&o<=7){const a=AE(e),c=TE(e);return c.length>0?c[o-1]||t:a[o-1]||t}else return t}else return t},Jie=e=>{const t=e.split(/\s*,\s*/);return Ue(t,o=>o.indexOf(" ")!==-1&&!(hr(o,'"')||hr(o,"'"))?`'${o}'`:o).join(",")},Qie=(e,t)=>{const o=OZ(e,t);e.formatter.toggle("fontname",{value:Jie(o)}),e.nodeChanged()},ele=e=>JH(e,t=>qie(e.getBody(),t.dom)).getOr(""),tle=(e,t)=>{e.formatter.toggle("fontsize",{value:OZ(e,t)}),e.nodeChanged()},nle=e=>JH(e,t=>Kie(e.getBody(),t.dom)).getOr(""),ole=e=>JH(e,t=>{const o=Ke.fromDom(e.getBody()),a=rw(t,m=>Hr(m,"line-height"),ot(ss,o)),c=()=>{const m=parseFloat(Ir(t,"line-height")),p=parseFloat(Ir(t,"font-size"));return String(m/p)};return a.getOrThunk(c)}).getOr(""),sle=(e,t)=>{e.formatter.toggle("lineheight",{value:String(t)}),e.nodeChanged()},rle=e=>{const t=(o,a)=>{e.formatter.toggle(o,a),e.nodeChanged()};e.editorCommands.addCommands({"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":o=>{t(o)},"ForeColor,HiliteColor":(o,a,c)=>{t(o,{value:c})},BackColor:(o,a,c)=>{t("hilitecolor",{value:c})},FontName:(o,a,c)=>{Qie(e,c)},FontSize:(o,a,c)=>{tle(e,c)},LineHeight:(o,a,c)=>{sle(e,c)},Lang:(o,a,c)=>{var m;t(o,{value:c.code,customValue:(m=c.customCode)!==null&&m!==void 0?m:null})},RemoveFormat:o=>{e.formatter.remove(o)},mceBlockQuote:()=>{t("blockquote")},FormatBlock:(o,a,c)=>{t(le(c)?c:"p")},mceToggleFormat:(o,a,c)=>{t(c)}})},ale=e=>{const t=o=>e.formatter.match(o);e.editorCommands.addCommands({"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":o=>t(o),mceBlockQuote:()=>t("blockquote")},"state"),e.editorCommands.addQueryValueHandler("FontName",()=>ele(e)),e.editorCommands.addQueryValueHandler("FontSize",()=>nle(e)),e.editorCommands.addQueryValueHandler("LineHeight",()=>ole(e))},ile=e=>{rle(e),ale(e)},lle=e=>{e.editorCommands.addCommands({mceAddUndoLevel:()=>{e.undoManager.add()},mceEndUndoLevel:()=>{e.undoManager.add()},Undo:()=>{e.undoManager.undo()},Redo:()=>{e.undoManager.redo()}})},cle=e=>{e.editorCommands.addCommands({Indent:()=>{Lt(e)},Outdent:()=>{Dt(e)}}),e.editorCommands.addCommands({Outdent:()=>Ce(e)},"state")},ule=e=>{const t=(o,a,c)=>{const m=le(c)?{href:c}:c,p=e.dom.getParent(e.selection.getNode(),"a");q(m)&&le(m.href)&&(m.href=m.href.replace(/ /g,"%20"),(!p||!m.href)&&e.formatter.remove("link"),m.href&&e.formatter.apply("link",m,p))};e.editorCommands.addCommands({unlink:()=>{if(e.selection.isEditable()){if(e.selection.isCollapsed()){const o=e.dom.getParent(e.selection.getStart(),"a");o&&e.dom.remove(o,!0);return}e.formatter.remove("link")}},mceInsertLink:t,createLink:t})},dle=(e,t,o,a)=>{const c=e.dom,m=S=>c.isBlock(S)&&S.parentElement===o,p=m(t)?t:c.getParent(a,m,o);return te.from(p).map(Ke.fromDom)},RZ=(e,t)=>{const o=e.dom,a=e.selection.getRng(),c=t?e.selection.getStart():e.selection.getEnd(),m=t?a.startContainer:a.endContainer,p=uO(o,m);if(!p||!p.isContentEditable)return;const S=t?Er:mt,T=Ul(e);dle(e,c,p,m).each(H=>{const J=qW(e,m,H.dom,p,!1,T);S(H,Ke.fromDom(J)),e.selection.setCursorLocation(J,0),e.dispatch("NewBlock",{newBlock:J}),cO(e,"insertParagraph")})},fle=e=>RZ(e,!0),mle=e=>RZ(e,!1),gle=e=>{e.editorCommands.addCommands({InsertNewBlockBefore:()=>{fle(e)},InsertNewBlockAfter:()=>{mle(e)}})},hle=e=>{e.editorCommands.addCommands({insertParagraph:()=>{BB(JW,e)},mceInsertNewLine:(t,o,a)=>{rj(e,a)},InsertLineBreak:(t,o,a)=>{BB(tj,e)}})},ple=e=>{e.editorCommands.addCommands({mceSelectNodeDepth:(t,o,a)=>{let c=0;e.dom.getParent(e.selection.getNode(),m=>Vn(m)&&c++===a?(e.selection.select(m),!1):!0,e.getBody())},mceSelectNode:(t,o,a)=>{e.selection.select(a)},selectAll:()=>{const t=e.dom.getParent(e.selection.getStart(),Pc);if(t){const o=e.dom.createRng();o.selectNodeContents(t),e.selection.setRng(o)}}})},ble=e=>{e.editorCommands.addCommands({mceRemoveNode:(t,o,a)=>{const c=a??e.selection.getNode();if(c!==e.getBody()){const m=e.selection.getBookmark();e.dom.remove(c,!0),e.selection.moveToBookmark(m)}},mcePrint:()=>{e.getWin().print()},mceFocus:(t,o,a)=>{bN(e,a===!0)},mceToggleVisualAid:()=>{e.hasVisual=!e.hasVisual,e.addVisual()}})},vle=e=>{Mie(e),Lie(e),lle(e),ple(e),Hie(e),ule(e),cle(e),gle(e),hle(e),ile(e),ble(e)},yle=["toggleview"],DZ=e=>xe(yle,e.toLowerCase());class NZ{constructor(t){this.commands={state:{},exec:{},value:{}},this.editor=t}execCommand(t,o=!1,a,c){const m=this.editor,p=t.toLowerCase(),S=c==null?void 0:c.skip_focus;if(m.removed||(p!=="mcefocus"&&(!/^(mceAddUndoLevel|mceEndUndoLevel)$/i.test(p)&&!S?m.focus():wS(m)),m.dispatch("BeforeExecCommand",{command:t,ui:o,value:a}).isDefaultPrevented()))return!1;const H=this.commands.exec[p];return Ve(H)?(H(p,o,a),m.dispatch("ExecCommand",{command:t,ui:o,value:a}),!0):!1}queryCommandState(t){if(!DZ(t)&&this.editor.quirks.isHidden()||this.editor.removed)return!1;const o=t.toLowerCase(),a=this.commands.state[o];return Ve(a)?a(o):!1}queryCommandValue(t){if(!DZ(t)&&this.editor.quirks.isHidden()||this.editor.removed)return"";const o=t.toLowerCase(),a=this.commands.value[o];return Ve(a)?a(o):""}addCommands(t,o="exec"){const a=this.commands;Vo(t,(c,m)=>{ye(m.toLowerCase().split(","),p=>{a[o][p]=c})})}addCommand(t,o,a){const c=t.toLowerCase();this.commands.exec[c]=(m,p,S)=>o.call(a??this.editor,p,S)}queryCommandSupported(t){const o=t.toLowerCase();return!!this.commands.exec[o]}addQueryStateHandler(t,o,a){this.commands.state[t.toLowerCase()]=()=>o.call(a??this.editor)}addQueryValueHandler(t,o,a){this.commands.value[t.toLowerCase()]=()=>o.call(a??this.editor)}}const jw="data-mce-contenteditable",xle=(e,t,o)=>{wu(e,t)&&!o?xi(e,t):o&&Yc(e,t)},QH=(e,t,o)=>{try{e.getDoc().execCommand(t,!1,String(o))}catch{}},GB=(e,t)=>{e.dom.contentEditable=t?"true":"false"},wle=e=>{ye(da(e,'*[contenteditable="true"]'),t=>{va(t,jw,"true"),GB(t,!1)})},Cle=e=>{ye(da(e,`*[${jw}="true"]`),t=>{Ho(t,jw),GB(t,!0)})},Sle=e=>{te.from(e.selection.getNode()).each(t=>{t.removeAttribute("data-mce-selected")})},_le=e=>{e.selection.setRng(e.selection.getRng())},kle=(e,t)=>{const o=Ke.fromDom(e.getBody());xle(o,"mce-content-readonly",t),t?(e.selection.controlSelection.hideResizeRect(),e._selectionOverrides.hideFakeCaret(),Sle(e),e.readonly=!0,GB(o,!1),wle(o)):(e.readonly=!1,e.hasEditableRoot()&&GB(o,!0),Cle(o),QH(e,"StyleWithCSS",!1),QH(e,"enableInlineTableEditing",!1),QH(e,"enableObjectResizing",!1),g0(e)&&e.focus(),_le(e),e.nodeChanged())},Zw=e=>e.readonly,IZ=e=>{e.parser.addAttributeFilter("contenteditable",t=>{Zw(e)&&ye(t,o=>{o.attr(jw,o.attr("contenteditable")),o.attr("contenteditable","false")})}),e.serializer.addAttributeFilter(jw,t=>{Zw(e)&&ye(t,o=>{o.attr("contenteditable",o.attr(jw))})}),e.serializer.addTempAttr(jw)},Ele=e=>{e.serializer?IZ(e):e.on("PreInit",()=>{IZ(e)})},Ale=e=>e.type==="click",Tle=["copy"],Ole=e=>xe(Tle,e.type),Rle=(e,t)=>Ra(t,"a",a=>ss(a,Ke.fromDom(e.getBody()))).bind(a=>ca(a,"href")),Dle=(e,t)=>{if(Ale(t)&&!kn.metaKeyPressed(t)){const o=Ke.fromDom(t.target);Rle(e,o).each(a=>{if(t.preventDefault(),/^#/.test(a)){const c=e.dom.select(`${a},[name="${bi(a,"#")}"]`);c.length&&e.selection.scrollIntoView(c[0],!0)}else window.open(a,"_blank","rel=noopener noreferrer,menubar=yes,toolbar=yes,location=yes,status=yes,resizable=yes,scrollbars=yes")})}else Ole(t)&&e.dispatch(t.type,t)},Nle=e=>{e.on("ShowCaret",t=>{Zw(e)&&t.preventDefault()}),e.on("ObjectSelected",t=>{Zw(e)&&t.preventDefault()})},Ile=an.makeMap("focus blur focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange mouseout mouseenter mouseleave wheel keydown keypress keyup input beforeinput contextmenu dragstart dragend dragover draggesture dragdrop drop drag submit compositionstart compositionend compositionupdate touchstart touchmove touchend touchcancel"," ");class ez{static isNative(t){return!!Ile[t.toLowerCase()]}constructor(t){this.bindings={},this.settings=t||{},this.scope=this.settings.scope||this,this.toggleEvent=this.settings.toggleEvent||Fn}fire(t,o){return this.dispatch(t,o)}dispatch(t,o){const a=t.toLowerCase(),c=k1(a,o??{},this.scope);this.settings.beforeFire&&this.settings.beforeFire(c);const m=this.bindings[a];if(m)for(let p=0,S=m.length;p<S;p++){const T=m[p];if(!T.removed){if(T.once&&this.off(a,T.func),c.isImmediatePropagationStopped())return c;if(T.func.call(this.scope,c)===!1)return c.preventDefault(),c}}return c}on(t,o,a,c){if(o===!1&&(o=Fn),o){const m={func:o,removed:!1};c&&an.extend(m,c);const p=t.toLowerCase().split(" ");let S=p.length;for(;S--;){const T=p[S];let H=this.bindings[T];H||(H=[],this.toggleEvent(T,!0)),a?H=[m,...H]:H=[...H,m],this.bindings[T]=H}}return this}off(t,o){if(t){const a=t.toLowerCase().split(" ");let c=a.length;for(;c--;){const m=a[c];let p=this.bindings[m];if(!m)return Vo(this.bindings,(S,T)=>{this.toggleEvent(T,!1),delete this.bindings[T]}),this;if(p){if(!o)p.length=0;else{const S=Be(p,T=>T.func===o);p=S.fail,this.bindings[m]=p,ye(S.pass,T=>{T.removed=!0})}p.length||(this.toggleEvent(t,!1),delete this.bindings[m])}}}else Vo(this.bindings,(a,c)=>{this.toggleEvent(c,!1)}),this.bindings={};return this}once(t,o,a){return this.on(t,o,a,{once:!0})}has(t){t=t.toLowerCase();const o=this.bindings[t];return!(!o||o.length===0)}}const pO=e=>(e._eventDispatcher||(e._eventDispatcher=new ez({scope:e,toggleEvent:(t,o)=>{ez.isNative(t)&&e.toggleNativeEvent&&e.toggleNativeEvent(t,o)}})),e._eventDispatcher),tz={fire(e,t,o){return this.dispatch(e,t,o)},dispatch(e,t,o){const a=this;if(a.removed&&e!=="remove"&&e!=="detach")return k1(e.toLowerCase(),t??{},a);const c=pO(a).dispatch(e,t);if(o!==!1&&a.parent){let m=a.parent();for(;m&&!c.isPropagationStopped();)m.dispatch(e,c,!1),m=m.parent?m.parent():void 0}return c},on(e,t,o){return pO(this).on(e,t,o)},off(e,t){return pO(this).off(e,t)},once(e,t){return pO(this).once(e,t)},hasEventListeners(e){return pO(this).has(e)}},YB=dr.DOM;let Kw;const XB=(e,t)=>{if(t==="selectionchange")return e.getDoc();if(!e.inline&&/^(?:mouse|touch|click|contextmenu|drop|dragover|dragend)/.test(t))return e.getDoc().documentElement;const o=SR(e);return o?(e.eventRoot||(e.eventRoot=YB.select(o)[0]),e.eventRoot):e.getBody()},Ple=e=>!e.hidden&&!Zw(e),PZ=(e,t,o)=>{Ple(e)?e.dispatch(t,o):Zw(e)&&Dle(e,o)},BZ=(e,t)=>{if(e.delegates||(e.delegates={}),e.delegates[t]||e.removed)return;const o=XB(e,t);if(SR(e)){if(Kw||(Kw={},e.editorManager.on("removeEditor",()=>{e.editorManager.activeEditor||Kw&&(Vo(Kw,(c,m)=>{e.dom.unbind(XB(e,m))}),Kw=null)})),Kw[t])return;const a=c=>{const m=c.target,p=e.editorManager.get();let S=p.length;for(;S--;){const T=p[S].getBody();(T===m||YB.isChildOf(m,T))&&PZ(p[S],t,c)}};Kw[t]=a,YB.bind(o,t,a)}else{const a=c=>{PZ(e,t,c)};YB.bind(o,t,a),e.delegates[t]=a}},MZ={...tz,bindPendingEventDelegates(){const e=this;an.each(e._pendingNativeEvents,t=>{BZ(e,t)})},toggleNativeEvent(e,t){const o=this;e==="focus"||e==="blur"||o.removed||(t?o.initialized?BZ(o,e):o._pendingNativeEvents?o._pendingNativeEvents.push(e):o._pendingNativeEvents=[e]:o.initialized&&o.delegates&&(o.dom.unbind(XB(o,e),e,o.delegates[e]),delete o.delegates[e]))},unbindAllNativeEvents(){const e=this,t=e.getBody(),o=e.dom;e.delegates&&(Vo(e.delegates,(a,c)=>{e.dom.unbind(XB(e,c),c,a)}),delete e.delegates),!e.inline&&t&&o&&(t.onload=null,o.unbind(e.getWin()),o.unbind(e.getDoc())),o&&(o.unbind(t),o.unbind(e.getContainer()))}},Ble=e=>le(e)?{value:e.split(/[ ,]/),valid:!0}:wt(e,le)?{value:e,valid:!0}:{valid:!1,message:"The value must be a string[] or a comma/space separated string."},Mle=e=>{const t=(()=>{switch(e){case"array":return ne;case"boolean":return Fe;case"function":return Ve;case"number":return P;case"object":return q;case"string":return le;case"string[]":return Ble;case"object[]":return o=>wt(o,q);case"regexp":return o=>fe(o,RegExp);default:return Gt}})();return o=>nz(o,t,`The value must be a ${e}.`)},Lle=e=>le(e.processor),LZ=(e,t)=>{const o=Qt(t.message)?"":`. ${t.message}`;return e+o},FZ=e=>e.valid,nz=(e,t,o="")=>{const a=t(e);return Fe(a)?a?{value:e,valid:!0}:{valid:!1,message:o}:a},Fle=(e,t,o)=>{if(!Ze(t)){const a=nz(t,o);if(FZ(a))return a.value;console.error(LZ(`Invalid default value passed for the "${e}" option`,a))}},$le=(e,t,o=t)=>{const a={},c={},m=(ve,Te,we)=>{const Me=nz(Te,we);return FZ(Me)?(c[ve]=Me.value,!0):(console.warn(LZ(`Invalid value passed for the ${ve} option`,Me)),!1)},p=(ve,Te)=>{const we=Lle(Te)?Mle(Te.processor):Te.processor,Me=Fle(ve,Te.default,we);a[ve]={...Te,default:Me,processor:we},Hs(c,ve).orThunk(()=>Hs(t,ve)).each(lt=>m(ve,lt,we))},S=ve=>ho(a,ve);return{register:p,isRegistered:S,get:ve=>Hs(c,ve).orThunk(()=>Hs(a,ve).map(Te=>Te.default)).getOrUndefined(),set:(ve,Te)=>{if(S(ve)){const we=a[ve];return we.immutable?(console.error(`"${ve}" is an immutable option and cannot be updated`),!1):m(ve,Te,we.processor)}else return console.warn(`"${ve}" is not a registered option. Ensure the option has been registered before setting a value.`),!1},unset:ve=>{const Te=S(ve);return Te&&delete c[ve],Te},isSet:ve=>ho(c,ve),debug:()=>{try{console.log(JSON.parse(JSON.stringify(o,(ve,Te)=>Fe(Te)||P(Te)||le(Te)||be(Te)||ne(Te)||de(Te)?Te:Object.prototype.toString.call(Te))))}catch(ve){console.error(ve)}}}},Vle=["design","readonly"],$Z=(e,t,o,a)=>{const c=o[t.get()],m=o[a];try{m.activate()}catch(p){console.error(`problem while activating editor mode ${a}:`,p);return}c.deactivate(),c.editorReadOnly!==m.editorReadOnly&&kle(e,m.editorReadOnly),t.set(a),PD(e,a)},Hle=(e,t,o,a)=>{if(a!==o.get()){if(!ho(t,a))throw new Error(`Editor mode '${a}' is invalid`);e.initialized?$Z(e,o,t,a):e.on("init",()=>$Z(e,o,t,a))}},zle=(e,t,o)=>{if(xe(Vle,t))throw new Error(`Cannot override default mode ${t}`);return{...e,[t]:{...o,deactivate:()=>{try{o.deactivate()}catch(a){console.error(`problem while deactivating editor mode ${t}:`,a)}}}}},Ule=e=>{const t=Da("design"),o=Da({design:{activate:Nt,deactivate:Nt,editorReadOnly:!1},readonly:{activate:Nt,deactivate:Nt,editorReadOnly:!0}});return Ele(e),Nle(e),{isReadOnly:()=>Zw(e),set:a=>Hle(e,o.get(),t,a),get:()=>t.get(),register:(a,c)=>{o.set(zle(o.get(),a,c))}}},oz=an.each,sz=an.explode,Wle={f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123},VZ=an.makeMap("alt,ctrl,shift,meta,access"),jle=e=>e in VZ,Zle=e=>{const t={},o=qo.os.isMacOS()||qo.os.isiOS();oz(sz(e.toLowerCase(),"+"),m=>{jle(m)?t[m]=!0:/^[0-9]{2,}$/.test(m)?t.keyCode=parseInt(m,10):(t.charCode=m.charCodeAt(0),t.keyCode=Wle[m]||m.toUpperCase().charCodeAt(0))});const a=[t.keyCode];let c;for(c in VZ)t[c]?a.push(c):t[c]=!1;return t.id=a.join(","),t.access&&(t.alt=!0,o?t.ctrl=!0:t.shift=!0),t.meta&&(o?t.meta=!0:(t.ctrl=!0,t.meta=!1)),t};class HZ{constructor(t){this.shortcuts={},this.pendingPatterns=[],this.editor=t;const o=this;t.on("keyup keypress keydown",a=>{(o.hasModifier(a)||o.isFunctionKey(a))&&!a.isDefaultPrevented()&&(oz(o.shortcuts,c=>{o.matchShortcut(a,c)&&(o.pendingPatterns=c.subpatterns.slice(0),a.type==="keydown"&&o.executeShortcutAction(c))}),o.matchShortcut(a,o.pendingPatterns[0])&&(o.pendingPatterns.length===1&&a.type==="keydown"&&o.executeShortcutAction(o.pendingPatterns[0]),o.pendingPatterns.shift()))})}add(t,o,a,c){const m=this,p=m.normalizeCommandFunc(a);return oz(sz(an.trim(t)),S=>{const T=m.createShortcut(S,o,p,c);m.shortcuts[T.id]=T}),!0}remove(t){const o=this.createShortcut(t);return this.shortcuts[o.id]?(delete this.shortcuts[o.id],!0):!1}normalizeCommandFunc(t){const o=this,a=t;return typeof a=="string"?()=>{o.editor.execCommand(a,!1,null)}:an.isArray(a)?()=>{o.editor.execCommand(a[0],a[1],a[2])}:a}createShortcut(t,o,a,c){const m=an.map(sz(t,">"),Zle);return m[m.length-1]=an.extend(m[m.length-1],{func:a,scope:c||this.editor}),an.extend(m[0],{desc:this.editor.translate(o),subpatterns:m.slice(1)})}hasModifier(t){return t.altKey||t.ctrlKey||t.metaKey}isFunctionKey(t){return t.type==="keydown"&&t.keyCode>=112&&t.keyCode<=123}matchShortcut(t,o){return!o||o.ctrl!==t.ctrlKey||o.meta!==t.metaKey||o.alt!==t.altKey||o.shift!==t.shiftKey?!1:t.keyCode===o.keyCode||t.charCode&&t.charCode===o.charCode?(t.preventDefault(),!0):!1}executeShortcutAction(t){return t.func?t.func.call(t.scope):null}}const Kle=()=>{const e={},t={},o={},a={},c={},m={},p={},S={},T=(J,ee)=>(re,ve)=>{J[re.toLowerCase()]={...ve,type:ee}},H=(J,ee)=>a[J.toLowerCase()]=ee;return{addButton:T(e,"button"),addGroupToolbarButton:T(e,"grouptoolbarbutton"),addToggleButton:T(e,"togglebutton"),addMenuButton:T(e,"menubutton"),addSplitButton:T(e,"splitbutton"),addMenuItem:T(t,"menuitem"),addNestedMenuItem:T(t,"nestedmenuitem"),addToggleMenuItem:T(t,"togglemenuitem"),addAutocompleter:T(o,"autocompleter"),addContextMenu:T(c,"contextmenu"),addContextToolbar:T(m,"contexttoolbar"),addContextForm:T(m,"contextform"),addSidebar:T(p,"sidebar"),addView:T(S,"views"),addIcon:H,getAll:()=>({buttons:e,menuItems:t,icons:a,popups:o,contextMenus:c,contextToolbars:m,sidebars:p,views:S})}},qle=()=>{const e=Kle();return{addAutocompleter:e.addAutocompleter,addButton:e.addButton,addContextForm:e.addContextForm,addContextMenu:e.addContextMenu,addContextToolbar:e.addContextToolbar,addIcon:e.addIcon,addMenuButton:e.addMenuButton,addMenuItem:e.addMenuItem,addNestedMenuItem:e.addNestedMenuItem,addSidebar:e.addSidebar,addSplitButton:e.addSplitButton,addToggleButton:e.addToggleButton,addGroupToolbarButton:e.addGroupToolbarButton,addToggleMenuItem:e.addToggleMenuItem,addView:e.addView,getAll:e.getAll}},qw=dr.DOM,zZ=an.extend,Gle=an.each;class JB{constructor(t,o,a){this.plugins={},this.contentCSS=[],this.contentStyles=[],this.loadedCSS={},this.isNotDirty=!1,this.composing=!1,this.destroyed=!1,this.hasHiddenInput=!1,this.iframeElement=null,this.initialized=!1,this.readonly=!1,this.removed=!1,this.startContent="",this._pendingNativeEvents=[],this._skinLoaded=!1,this._editableRoot=!0,this.editorManager=a,this.documentBaseUrl=a.documentBaseURL,zZ(this,MZ);const c=this;this.id=t,this.hidden=!1;const m=Nie(a.defaultOptions,o);this.options=$le(c,m,o),BC(c);const p=this.options.get;p("deprecation_warnings")&&z$(o,m);const S=p("suffix");S&&(a.suffix=S),this.suffix=a.suffix;const T=p("base_url");T&&a._setBaseUrl(T),this.baseUri=a.baseURI;const H=t2(c);H&&(oc.ScriptLoader._setReferrerPolicy(H),dr.DOM.styleSheetLoader._setReferrerPolicy(H));const J=RR(c);Oe(J)&&dr.DOM.styleSheetLoader._setContentCssCors(J),Hl.languageLoad=p("language_load"),Hl.baseURL=a.baseURL,this.setDirty(!1),this.documentBaseURI=new ff(ud(c),{base_uri:this.baseUri}),this.baseURI=this.baseUri,this.inline=Xv(c),this.hasVisual=Vu(c),this.shortcuts=new HZ(this),this.editorCommands=new NZ(this),vle(this);const ee=p("cache_suffix");ee&&(qo.cacheSuffix=ee.replace(/^[\?\&]+/,"")),this.ui={registry:qle(),styleSheetLoader:void 0,show:Nt,hide:Nt,setEnabled:Nt,isEnabled:Gt},this.mode=Ule(c),a.dispatch("SetupEditor",{editor:this});const re=ey(c);Ve(re)&&re.call(c,c)}render(){bie(this)}focus(t){this.execCommand("mceFocus",!1,t)}hasFocus(){return dy(this)}translate(t){return Mu.translate(t)}getParam(t,o,a){const c=this.options;return c.isRegistered(t)||(Oe(a)?c.register(t,{processor:a,default:o}):c.register(t,{processor:Gt,default:o})),!c.isSet(t)&&!Ze(o)?o:c.get(t)}hasPlugin(t,o){return xe(rm(this),t)?o?D0.get(t)!==void 0:!0:!1}nodeChanged(t){this._nodeChangeDispatcher.nodeChanged(t)}addCommand(t,o,a){this.editorCommands.addCommand(t,o,a)}addQueryStateHandler(t,o,a){this.editorCommands.addQueryStateHandler(t,o,a)}addQueryValueHandler(t,o,a){this.editorCommands.addQueryValueHandler(t,o,a)}addShortcut(t,o,a,c){this.shortcuts.add(t,o,a,c)}execCommand(t,o,a,c){return this.editorCommands.execCommand(t,o,a,c)}queryCommandState(t){return this.editorCommands.queryCommandState(t)}queryCommandValue(t){return this.editorCommands.queryCommandValue(t)}queryCommandSupported(t){return this.editorCommands.queryCommandSupported(t)}show(){const t=this;t.hidden&&(t.hidden=!1,t.inline?t.getBody().contentEditable="true":(qw.show(t.getContainer()),qw.hide(t.id)),t.load(),t.dispatch("show"))}hide(){const t=this;t.hidden||(t.save(),t.inline?(t.getBody().contentEditable="false",t===t.editorManager.focusedEditor&&(t.editorManager.focusedEditor=null)):(qw.hide(t.getContainer()),qw.setStyle(t.id,"display",t.orgDisplay)),t.hidden=!0,t.dispatch("hide"))}isHidden(){return this.hidden}setProgressState(t,o){this.dispatch("ProgressState",{state:t,time:o})}load(t={}){const o=this,a=o.getElement();if(o.removed)return"";if(a){const c={...t,load:!0},m=Ag(a)?a.value:a.innerHTML,p=o.setContent(m,c);return c.no_events||o.dispatch("LoadContent",{...c,element:a}),p}else return""}save(t={}){const o=this;let a=o.getElement();if(!a||!o.initialized||o.removed)return"";const c={...t,save:!0,element:a};let m=o.getContent(c);const p={...c,content:m};if(p.no_events||o.dispatch("SaveContent",p),p.format==="raw"&&o.dispatch("RawSaveContent",p),m=p.content,Ag(a))a.value=m;else{(t.is_removing||!o.inline)&&(a.innerHTML=m);const S=qw.getParent(o.id,"form");S&&Gle(S.elements,T=>T.name===o.id?(T.value=m,!1):!0)}return p.element=c.element=a=null,p.set_dirty!==!1&&o.setDirty(!1),m}setContent(t,o){return o4(this,t,o)}getContent(t){return yP(this,t)}insertContent(t,o){o&&(t=zZ({content:t},o)),this.execCommand("mceInsertContent",!1,t)}resetContent(t){t===void 0?o4(this,this.startContent,{format:"raw"}):o4(this,t),this.undoManager.reset(),this.setDirty(!1),this.nodeChanged()}isDirty(){return!this.isNotDirty}setDirty(t){const o=!this.isNotDirty;this.isNotDirty=!t,t&&t!==o&&this.dispatch("dirty")}getContainer(){const t=this;return t.container||(t.container=t.editorContainer||qw.get(t.id+"_parent")),t.container}getContentAreaContainer(){return this.contentAreaContainer}getElement(){return this.targetElm||(this.targetElm=qw.get(this.id)),this.targetElm}getWin(){const t=this;if(!t.contentWindow){const o=t.iframeElement;o&&(t.contentWindow=o.contentWindow)}return t.contentWindow}getDoc(){const t=this;if(!t.contentDocument){const o=t.getWin();o&&(t.contentDocument=o.document)}return t.contentDocument}getBody(){var t,o;const a=this.getDoc();return(o=(t=this.bodyElement)!==null&&t!==void 0?t:a==null?void 0:a.body)!==null&&o!==void 0?o:null}convertURL(t,o,a){const c=this,m=c.options.get,p=l8(c);if(Ve(p))return p.call(c,t,a,!0,o);if(!m("convert_urls")||a==="link"||q(a)&&a.nodeName==="LINK"||t.indexOf("file:")===0||t.length===0)return t;const S=new ff(t);return S.protocol!=="http"&&S.protocol!=="https"&&S.protocol!==""?t:m("relative_urls")?c.documentBaseURI.toRelative(t):(t=c.documentBaseURI.toAbsolute(t,m("remove_script_host")),t)}addVisual(t){Iie(this,t)}setEditableRoot(t){vie(this,t)}hasEditableRoot(){return yie(this)}remove(){AP(this)}destroy(t){W$(this,t)}uploadImages(){return this.editorUpload.uploadImages()}_scanForImages(){return this.editorUpload.scanForImages()}}const uk=dr.DOM,QB=an.each;let UZ=!1,eM,vd=[];const tM=e=>{const t=e.type;QB(Zy.get(),o=>{switch(t){case"scroll":o.dispatch("ScrollWindow",e);break;case"resize":o.dispatch("ResizeWindow",e);break}})},WZ=e=>{if(e!==UZ){const t=dr.DOM;e?(t.bind(window,"resize",tM),t.bind(window,"scroll",tM)):(t.unbind(window,"resize",tM),t.unbind(window,"scroll",tM)),UZ=e}},jZ=e=>{const t=vd;return vd=Ye(vd,o=>e!==o),Zy.activeEditor===e&&(Zy.activeEditor=vd.length>0?vd[0]:null),Zy.focusedEditor===e&&(Zy.focusedEditor=null),t.length!==vd.length},Yle=e=>{e&&e.initialized&&!(e.getContainer()||e.getBody()).parentNode&&(jZ(e),e.unbindAllNativeEvents(),e.destroy(!0),e.removed=!0)},Xle=document.compatMode!=="CSS1Compat",Zy={...tz,baseURI:null,baseURL:null,defaultOptions:{},documentBaseURL:null,suffix:null,majorVersion:"7",minorVersion:"3.0",releaseDate:"2024-08-07",i18n:Mu,activeEditor:null,focusedEditor:null,setup(){const e=this;let t="",o="",a=ff.getDocumentBaseUrl(document.location);/^[^:]+:\/\/\/?[^\/]+\//.test(a)&&(a=a.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(a)||(a+="/"));const c=window.tinymce||window.tinyMCEPreInit;if(c)t=c.base||c.baseURL,o=c.suffix;else{const m=document.getElementsByTagName("script");for(let p=0;p<m.length;p++){const S=m[p].src||"";if(S==="")continue;const T=S.substring(S.lastIndexOf("/"));if(/tinymce(\.full|\.jquery|)(\.min|\.dev|)\.js/.test(S)){T.indexOf(".min")!==-1&&(o=".min"),t=S.substring(0,S.lastIndexOf("/"));break}}if(!t&&document.currentScript){const p=document.currentScript.src;p.indexOf(".min")!==-1&&(o=".min"),t=p.substring(0,p.lastIndexOf("/"))}}e.baseURL=new ff(a).toAbsolute(t),e.documentBaseURL=a,e.baseURI=new ff(e.baseURL),e.suffix=o,dF(e)},overrideDefaults(e){const t=e.base_url;t&&this._setBaseUrl(t);const o=e.suffix;o&&(this.suffix=o),this.defaultOptions=e;const a=e.plugin_base_urls;a!==void 0&&Vo(a,(c,m)=>{Hl.PluginManager.urls[m]=c})},init(e){const t=this;let o;const a=an.makeMap("area base basefont br col frame hr img input isindex link meta param embed source wbr track colgroup option table tbody tfoot thead tr th td script noscript style textarea video audio iframe object menu"," "),c=(J,ee)=>J.inline&&ee.tagName.toLowerCase()in a,m=J=>{let ee=J.id;return ee||(ee=Hs(J,"name").filter(re=>!uk.get(re)).getOrThunk(uk.uniqueId),J.setAttribute("id",ee)),ee},p=J=>{const ee=e[J];if(ee)return ee.apply(t,[])},S=J=>qo.browser.isIE()||qo.browser.isEdge()?(kw("TinyMCE does not support the browser you are using. For a list of supported browsers please see: https://www.tiny.cloud/docs/tinymce/7/support/#supportedwebbrowsers"),[]):Xle?(kw("Failed to initialize the editor as the document is not in standards mode. TinyMCE requires standards mode."),[]):le(J.selector)?uk.select(J.selector):Oe(J.target)?[J.target]:[];let T=J=>{o=J};const H=()=>{let J=0;const ee=[];let re;const ve=(Te,we,Me)=>{const Qe=new JB(Te,we,t);ee.push(Qe),Qe.on("init",()=>{++J===re.length&&T(ee)}),Qe.targetElm=Qe.targetElm||Me,Qe.render()};uk.unbind(window,"ready",H),p("onpageload"),re=tl(S(e)),an.each(re,Te=>{Yle(t.get(Te.id))}),re=an.grep(re,Te=>!t.get(Te.id)),re.length===0?T([]):QB(re,Te=>{c(e,Te)?kw("Could not initialize inline editor on invalid inline target element",Te):ve(m(Te),e,Te)})};return uk.bind(window,"ready",H),new Promise(J=>{o?J(o):T=ee=>{J(ee)}})},get(e){return arguments.length===0?vd.slice(0):le(e)?Nn(vd,t=>t.id===e).getOr(null):P(e)&&vd[e]?vd[e]:null},add(e){const t=this,o=t.get(e.id);return o===e||(o===null&&vd.push(e),WZ(!0),t.activeEditor=e,t.dispatch("AddEditor",{editor:e}),eM||(eM=a=>{const c=t.dispatch("BeforeUnload");if(c.returnValue)return a.preventDefault(),a.returnValue=c.returnValue,c.returnValue},window.addEventListener("beforeunload",eM))),e},createEditor(e,t){return this.add(new JB(e,t,this))},remove(e){const t=this;let o;if(!e){for(let a=vd.length-1;a>=0;a--)t.remove(vd[a]);return}if(le(e)){QB(uk.select(e),a=>{o=t.get(a.id),o&&t.remove(o)});return}return o=e,be(t.get(o.id))?null:(jZ(o)&&t.dispatch("RemoveEditor",{editor:o}),vd.length===0&&window.removeEventListener("beforeunload",eM),o.remove(),WZ(vd.length>0),o)},execCommand(e,t,o){var a;const c=this,m=q(o)?(a=o.id)!==null&&a!==void 0?a:o.index:o;switch(e){case"mceAddEditor":{if(!c.get(m)){const p=o.options;new JB(m,p,c).render()}return!0}case"mceRemoveEditor":{const p=c.get(m);return p&&p.remove(),!0}case"mceToggleEditor":{const p=c.get(m);return p?(p.isHidden()?p.show():p.hide(),!0):(c.execCommand("mceAddEditor",!1,o),!0)}}return c.activeEditor?c.activeEditor.execCommand(e,t,o):!1},triggerSave:()=>{QB(vd,e=>{e.save()})},addI18n:(e,t)=>{Mu.add(e,t)},translate:e=>Mu.translate(e),setActive(e){const t=this.activeEditor;this.activeEditor!==e&&(t&&t.dispatch("deactivate",{relatedTarget:e}),e.dispatch("activate",{relatedTarget:t})),this.activeEditor=e},_setBaseUrl(e){this.baseURL=new ff(this.documentBaseURL).toAbsolute(e.replace(/\/+$/,"")),this.baseURI=new ff(this.baseURL)}};Zy.setup();const Jle=(()=>{const e=xa(),t=m=>({items:m,types:Yt(m),getType:p=>Hs(m,p).getOrUndefined()}),o=m=>{e.set(m)},a=()=>e.get().getOrUndefined(),c=e.clear;return{FakeClipboardItem:t,write:o,read:a,clear:c}})(),ZZ=Math.min,dk=Math.max,nM=Math.round,KZ=(e,t,o)=>{let a=t.x,c=t.y;const m=e.w,p=e.h,S=t.w,T=t.h,H=(o||"").split("");return H[0]==="b"&&(c+=T),H[1]==="r"&&(a+=S),H[0]==="c"&&(c+=nM(T/2)),H[1]==="c"&&(a+=nM(S/2)),H[3]==="b"&&(c-=p),H[4]==="r"&&(a-=m),H[3]==="c"&&(c-=nM(p/2)),H[4]==="c"&&(a-=nM(m/2)),fk(a,c,m,p)},Qle=(e,t,o,a)=>{for(let c=0;c<a.length;c++){const m=KZ(e,t,a[c]);if(m.x>=o.x&&m.x+m.w<=o.w+o.x&&m.y>=o.y&&m.y+m.h<=o.h+o.y)return a[c]}return null},ece=(e,t,o)=>fk(e.x-t,e.y-o,e.w+t*2,e.h+o*2),tce=(e,t)=>{const o=dk(e.x,t.x),a=dk(e.y,t.y),c=ZZ(e.x+e.w,t.x+t.w),m=ZZ(e.y+e.h,t.y+t.h);return c-o<0||m-a<0?null:fk(o,a,c-o,m-a)},nce=(e,t,o)=>{let a=e.x,c=e.y,m=e.x+e.w,p=e.y+e.h;const S=t.x+t.w,T=t.y+t.h,H=dk(0,t.x-a),J=dk(0,t.y-c),ee=dk(0,m-S),re=dk(0,p-T);return a+=H,c+=J,o&&(m+=H,p+=J,a-=ee,c-=re),m-=ee,p-=re,fk(a,c,m-a,p-c)},fk=(e,t,o,a)=>({x:e,y:t,w:o,h:a}),oce={inflate:ece,relativePosition:KZ,findBestRelativePosition:Qle,intersect:tce,clamp:nce,create:fk,fromClientRect:e=>fk(e.left,e.top,e.width,e.height)},sce=(e,t,o=1e3)=>{let a=!1,c=null;const m=H=>(...J)=>{a||(a=!0,c!==null&&(clearTimeout(c),c=null),H.apply(null,J))},p=m(e),S=m(t);return{start:(...H)=>{!a&&c===null&&(c=setTimeout(()=>S.apply(null,H),o))},resolve:p,reject:S}},rce=(()=>{const e={},t={},o={};return{load:(T,H)=>{const J=`Script at URL "${H}" failed to load`,ee=`Script at URL "${H}" did not call \`tinymce.Resource.add('${T}', data)\` within 1 second`;if(e[T]!==void 0)return e[T];{const re=new Promise((ve,Te)=>{const we=sce(ve,Te);t[T]=we.resolve,oc.ScriptLoader.loadScript(H).then(()=>we.start(ee),()=>we.reject(J))});return e[T]=re,re}},add:(T,H)=>{t[T]!==void 0&&(t[T](H),delete t[T]),e[T]=Promise.resolve(H),o[T]=H},has:T=>T in o,get:T=>o[T],unload:T=>{delete e[T],delete o[T]}}})(),ace=()=>(()=>{let e={},t=[];const o={getItem:a=>{const c=e[a];return c||null},setItem:(a,c)=>{t.push(a),e[a]=String(c)},key:a=>t[a],removeItem:a=>{t=t.filter(c=>c===a),delete e[a]},clear:()=>{t=[],e={}},length:0};return Object.defineProperty(o,"length",{get:()=>t.length,configurable:!1,enumerable:!1}),o})();let bO;try{const e="__storage_test__";bO=window.localStorage,bO.setItem(e,e),bO.removeItem(e)}catch{bO=ace()}var ice=bO;const lce={geom:{Rect:oce},util:{Delay:Wu,Tools:an,VK:kn,URI:ff,EventDispatcher:ez,Observable:tz,I18n:Mu,LocalStorage:ice,ImageUploader:nV},dom:{EventUtils:Fm,TreeWalker:Si,TextSeeker:Qf,DOMUtils:dr,ScriptLoader:oc,RangeUtils:wb,Serializer:vP,StyleSheetLoader:cs,ControlSelection:tr,BookmarkManager:lr,Selection:t4,Event:Fm.Event},html:{Styles:Ox,Entities:Wh,Node:ml,Schema:Bu,DomParser:Ty,Writer:RA,Serializer:hp},Env:qo,AddOnManager:Hl,Annotator:ID,Formatter:Tw,UndoManager:XP,EditorCommands:NZ,WindowManager:PP,NotificationManager:u4,EditorObservable:MZ,Shortcuts:HZ,Editor:JB,FocusManager:rf,EditorManager:Zy,DOM:dr.DOM,ScriptLoader:oc.ScriptLoader,PluginManager:D0,ThemeManager:Vb,ModelManager:$b,IconManager:Sw,Resource:rce,FakeClipboard:Jle,trim:an.trim,isArray:an.isArray,is:an.is,toArray:an.toArray,makeMap:an.makeMap,each:an.each,map:an.map,grep:an.grep,inArray:an.inArray,extend:an.extend,walk:an.walk,resolve:an.resolve,explode:an.explode,_addCacheSuffix:an._addCacheSuffix},qZ=an.extend(Zy,lce),cce=e=>{try{n.exports=e}catch{}};(e=>{window.tinymce=e,window.tinyMCE=e})(qZ),cce(qZ)})()}(e9)),e9.exports}var fye=dye();const mye=PL(fye);tinymce.IconManager.add("default",{icons:{"accessibility-check":'<svg width="24" height="24"><path d="M12 2a2 2 0 0 1 2 2 2 2 0 0 1-2 2 2 2 0 0 1-2-2c0-1.1.9-2 2-2Zm8 7h-5v12c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-5c0-.6-.4-1-1-1a1 1 0 0 0-1 1v5c0 .6-.4 1-1 1a1 1 0 0 1-1-1V9H4a1 1 0 1 1 0-2h16c.6 0 1 .4 1 1s-.4 1-1 1Z" fill-rule="nonzero"/></svg>',"accordion-toggle":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M12 15c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1h-6a1 1 0 0 1-1-1Z"/><path opacity=".2" fill-rule="evenodd" clip-rule="evenodd" d="M4 15c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1-1-1Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M12 19c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1h-6a1 1 0 0 1-1-1Z"/><path opacity=".2" fill-rule="evenodd" clip-rule="evenodd" d="M4 19c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1-1-1Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M12.3 7.3a1 1 0 0 1 1.4 0L16 9.6l2.3-2.3a1 1 0 1 1 1.4 1.4L16 12.4l-3.7-3.7a1 1 0 0 1 0-1.4ZM4.3 11.7a1 1 0 0 1 0-1.4L6.6 8 4.3 5.7a1 1 0 0 1 1.4-1.4L9.4 8l-3.7 3.7a1 1 0 0 1-1.4 0Z"/></svg>',accordion:'<svg width="24" height="24"><rect x="12" y="7" width="10" height="2" rx="1"/><rect x="12" y="11" width="10" height="2" rx="1"/><rect x="12" y="15" width="6" height="2" rx="1"/><path fill-rule="evenodd" clip-rule="evenodd" d="M2.3 7.3a1 1 0 0 1 1.4 0L6 9.6l2.3-2.3a1 1 0 0 1 1.4 1.4L6 12.4 2.3 8.7a1 1 0 0 1 0-1.4Z"/></svg>',"action-next":'<svg width="24" height="24"><path fill-rule="nonzero" d="M5.7 7.3a1 1 0 0 0-1.4 1.4l7.7 7.7 7.7-7.7a1 1 0 1 0-1.4-1.4L12 13.6 5.7 7.3Z"/></svg>',"action-prev":'<svg width="24" height="24"><path fill-rule="nonzero" d="M18.3 15.7a1 1 0 0 0 1.4-1.4L12 6.6l-7.7 7.7a1 1 0 0 0 1.4 1.4L12 9.4l6.3 6.3Z"/></svg>',addtag:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M15 5a2 2 0 0 1 1.6.8L21 12l-4.4 6.2a2 2 0 0 1-1.6.8h-3v-2h3l3.5-5L15 7H5v3H3V7c0-1.1.9-2 2-2h10Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M6 12a1 1 0 0 0-1 1v2H3a1 1 0 1 0 0 2h2v2a1 1 0 1 0 2 0v-2h2a1 1 0 1 0 0-2H7v-2c0-.6-.4-1-1-1Z"/></svg>',"ai-prompt":'<svg width="24" height="24"><g clip-path="url(#a)"><path fill-rule="evenodd" clip-rule="evenodd" d="M15 6.7a1 1 0 0 0-1.4 0l-9.9 10a1 1 0 0 0 0 1.3l2.1 2.1c.4.4 1 .4 1.4 0l10-9.9c.3-.3.3-1 0-1.4l-2.2-2Zm1.4 2.8-2-2-3 2.7 2.2 2.2 2.8-2.9Z"/><path d="m18.5 7.3-.7-1.5-1.5-.8 1.5-.7.7-1.5.7 1.5 1.5.7-1.5.8-.7 1.5ZM18.5 16.5l-.7-1.6-1.5-.7 1.5-.7.7-1.6.7 1.6 1.5.7-1.5.7-.7 1.6ZM9.7 7.3 9 5.8 7.5 5 9 4.3l.7-1.5.7 1.5L12 5l-1.5.8-.7 1.5Z"/></g><defs><clipPath id="a"><path d="M0 0h24v24H0z"/></clipPath></defs></svg>',ai:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M5 3a3 3 0 0 0-3 3v12a3 3 0 0 0 3 3h14a3 3 0 0 0 3-3V6a3 3 0 0 0-3-3H5Zm6.8 11.5.5 1.2a68.3 68.3 0 0 0 .7 1.1l.4.1c.3 0 .5 0 .7-.3.2-.1.3-.3.3-.6l-.3-1-2.6-6.2a20.4 20.4 0 0 0-.5-1.3l-.5-.4-.7-.2c-.2 0-.5 0-.6.2-.2 0-.4.2-.5.4l-.3.6-.3.7L5.7 15l-.2.6-.1.4c0 .3 0 .5.3.7l.6.2c.3 0 .5 0 .7-.2l.4-1 .5-1.2h3.9ZM9.8 9l1.5 4h-3l1.5-4Zm5.6-.9v7.6c0 .4 0 .7.2 1l.7.2c.3 0 .6 0 .8-.3l.2-.9V8.1c0-.4 0-.7-.2-.9a1 1 0 0 0-.8-.3c-.2 0-.5.1-.7.3l-.2 1Z"/></svg>',"align-center":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm3 4h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 1 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm-3-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"align-justify":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"align-left":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Zm0-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"align-none":'<svg width="24" height="24"><path d="M14.2 5 13 7H5a1 1 0 1 1 0-2h9.2Zm4 0h.8a1 1 0 0 1 0 2h-2l1.2-2Zm-6.4 4-1.2 2H5a1 1 0 0 1 0-2h6.8Zm4 0H19a1 1 0 0 1 0 2h-4.4l1.2-2Zm-6.4 4-1.2 2H5a1 1 0 0 1 0-2h4.4Zm4 0H19a1 1 0 0 1 0 2h-6.8l1.2-2ZM7 17l-1.2 2H5a1 1 0 0 1 0-2h2Zm4 0h8a1 1 0 0 1 0 2H9.8l1.2-2Zm5.2-13.5 1.3.7-9.7 16.3-1.3-.7 9.7-16.3Z" fill-rule="evenodd"/></svg>',"align-right":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm6 4h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm-6-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"arrow-left":'<svg width="24" height="24"><path d="m5.6 13 12 6a1 1 0 0 0 1.4-1V6a1 1 0 0 0-1.4-.9l-12 6a1 1 0 0 0 0 1.8Z" fill-rule="evenodd"/></svg>',"arrow-right":'<svg width="24" height="24"><path d="m18.5 13-12 6A1 1 0 0 1 5 18V6a1 1 0 0 1 1.4-.9l12 6a1 1 0 0 1 0 1.8Z" fill-rule="evenodd"/></svg>',bold:'<svg width="24" height="24"><path d="M7.8 19c-.3 0-.5 0-.6-.2l-.2-.5V5.7c0-.2 0-.4.2-.5l.6-.2h5c1.5 0 2.7.3 3.5 1 .7.6 1.1 1.4 1.1 2.5a3 3 0 0 1-.6 1.9c-.4.6-1 1-1.6 1.2.4.1.9.3 1.3.6s.8.7 1 1.2c.4.4.5 1 .5 1.6 0 1.3-.4 2.3-1.3 3-.8.7-2.1 1-3.8 1H7.8Zm5-8.3c.6 0 1.2-.1 1.6-.5.4-.3.6-.7.6-1.3 0-1.1-.8-1.7-2.3-1.7H9.3v3.5h3.4Zm.5 6c.7 0 1.3-.1 1.7-.4.4-.4.6-.9.6-1.5s-.2-1-.7-1.4c-.4-.3-1-.4-2-.4H9.4v3.8h4Z" fill-rule="evenodd"/></svg>',bookmark:'<svg width="24" height="24"><path d="M6 4v17l6-4 6 4V4c0-.6-.4-1-1-1H7a1 1 0 0 0-1 1Z" fill-rule="nonzero"/></svg>',"border-style":'<svg width="24" height="24"><g fill-rule="evenodd"><rect width="18" height="2" x="3" y="6" rx="1"/><rect width="2.8" height="2" x="3" y="16" rx="1"/><rect width="2.8" height="2" x="6.8" y="16" rx="1"/><rect width="2.8" height="2" x="10.6" y="16" rx="1"/><rect width="2.8" height="2" x="14.4" y="16" rx="1"/><rect width="2.8" height="2" x="18.2" y="16" rx="1"/><rect width="8" height="2" x="3" y="11" rx="1"/><rect width="8" height="2" x="13" y="11" rx="1"/></g></svg>',"border-width":'<svg width="24" height="24"><g fill-rule="evenodd"><rect width="18" height="5" x="3" y="5" rx="1"/><rect width="18" height="3.5" x="3" y="11.5" rx="1"/><rect width="18" height="2" x="3" y="17" rx="1"/></g></svg>',brightness:'<svg width="24" height="24"><path d="M12 17c.3 0 .5.1.7.3.2.2.3.4.3.7v1c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7v-1c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3Zm0-10a1 1 0 0 1-.7-.3A1 1 0 0 1 11 6V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7v1c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3Zm7 4c.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-1a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h1ZM7 12c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3H5a1 1 0 0 1-.7-.3A1 1 0 0 1 4 12c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h1c.3 0 .5.1.7.3.2.2.3.4.3.7Zm10 3.5.7.8c.2.1.3.4.3.6 0 .3-.1.6-.3.8a1 1 0 0 1-.8.3 1 1 0 0 1-.6-.3l-.8-.7a1 1 0 0 1-.3-.8c0-.2.1-.5.3-.7a1 1 0 0 1 1.4 0Zm-10-7-.7-.8a1 1 0 0 1-.3-.6c0-.3.1-.6.3-.8.2-.2.5-.3.8-.3.2 0 .5.1.7.3l.7.7c.2.2.3.5.3.8 0 .2-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.8-.3Zm10 0a1 1 0 0 1-.8.3 1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.3.1-.6.3-.8l.8-.7c.1-.2.4-.3.6-.3.3 0 .6.1.8.3.2.2.3.5.3.8 0 .2-.1.5-.3.7l-.7.7Zm-10 7c.2-.2.5-.3.8-.3.2 0 .5.1.7.3a1 1 0 0 1 0 1.4l-.8.8a1 1 0 0 1-.6.3 1 1 0 0 1-.8-.3 1 1 0 0 1-.3-.8c0-.2.1-.5.3-.6l.7-.8ZM12 8a4 4 0 0 1 3.7 2.4 4 4 0 0 1 0 3.2A4 4 0 0 1 12 16a4 4 0 0 1-3.7-2.4 4 4 0 0 1 0-3.2A4 4 0 0 1 12 8Zm0 6.5c.7 0 1.3-.2 1.8-.7.5-.5.7-1.1.7-1.8s-.2-1.3-.7-1.8c-.5-.5-1.1-.7-1.8-.7s-1.3.2-1.8.7c-.5.5-.7 1.1-.7 1.8s.2 1.3.7 1.8c.5.5 1.1.7 1.8.7Z" fill-rule="evenodd"/></svg>',browse:'<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2h-4v-2h4V8H5v10h4v2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9.4-2.3 2.3a1 1 0 1 1-1.4-1.4l4-4a1 1 0 0 1 1.4 0l4 4a1 1 0 0 1-1.4 1.4L13 13.4V20a1 1 0 0 1-2 0v-6.6Z" fill-rule="nonzero"/></svg>',cancel:'<svg width="24" height="24"><path d="M12 4.6a7.4 7.4 0 1 1 0 14.8 7.4 7.4 0 0 1 0-14.8ZM12 3a9 9 0 1 0 0 18 9 9 0 0 0 0-18Zm0 8L14.8 8l1 1.1-2.7 2.8 2.7 2.7-1.1 1.1-2.7-2.7-2.7 2.7-1-1.1 2.6-2.7-2.7-2.7 1-1.1 2.8 2.7Z" fill-rule="nonzero"/></svg>',"cell-background-color":'<svg width="24" height="24"><path d="m15.7 2 1.6 1.6-2.7 2.6 5.9 5.8c.7.7.7 1.7 0 2.4l-6.3 6.1a1.7 1.7 0 0 1-2.4 0l-6.3-6.1c-.7-.7-.7-1.7 0-2.4L15.7 2ZM18 12l-4.5-4L9 12h9ZM4 16s2 2.4 2 3.8C6 21 5.1 22 4 22s-2-1-2-2.2C2 18.4 4 16 4 16Z"/></svg>',"cell-border-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M5 13v5h2v2H5a2 2 0 0 1-2-2v-5h2zm8-7V4h6a2 2 0 0 1 2 2h-8z" opacity=".2"/><path fill-rule="nonzero" d="M13 4v2H5v7H3V6c0-1.1.9-2 2-2h8zm-2.6 14.1.1-.1.1.1.2.3.2.2.2.2c.4.6.8 1.2.8 1.7 0 .8-.7 1.5-1.5 1.5S9 21.3 9 20.5c0-.5.4-1.1.8-1.7l.2-.2.2-.2.2-.3z"/><path d="m13 11-2 2H5v-2h6V6h2z"/><path fill-rule="nonzero" d="m18.4 8 1 1-1.8 1.9 4 4c.5.4.5 1.1 0 1.6l-4.3 4.2a1.2 1.2 0 0 1-1.6 0l-4.4-4.2c-.4-.5-.4-1.2 0-1.7l7-6.8Zm1.6 7-3-3-3 3h6Z"/></g></svg>',"change-case":'<svg width="24" height="24"><path d="M18.4 18.2v-.6c-.5.8-1.3 1.2-2.4 1.2-2.2 0-3.3-1.6-3.3-4.8 0-3.1 1-4.7 3.3-4.7 1.1 0 1.8.3 2.4 1.1v-.6c0-.5.4-.8.8-.8s.8.3.8.8v8.4c0 .5-.4.8-.8.8a.8.8 0 0 1-.8-.8zm-2-7.4c-1.3 0-1.8.9-1.8 3.2 0 2.4.5 3.3 1.7 3.3 1.3 0 1.8-.9 1.8-3.2 0-2.4-.5-3.3-1.7-3.3zM10 15.7H5.5l-.8 2.6a1 1 0 0 1-1 .7h-.2a.7.7 0 0 1-.7-1l4-12a1 1 0 0 1 2 0l4 12a.7.7 0 0 1-.8 1h-.2a1 1 0 0 1-1-.7l-.8-2.6zm-.3-1.5-2-6.5-1.9 6.5h3.9z" fill-rule="evenodd"/></svg>',"character-count":'<svg width="24" height="24"><path d="M4 11.5h16v1H4v-1Zm4.8-6.8V10H7.7V5.8h-1v-1h2ZM11 8.3V9h2v1h-3V7.7l2-1v-.9h-2v-1h3v2.4l-2 1Zm6.3-3.4V10h-3.1V9h2.1V8h-2.1V6.8h2.1v-1h-2.1v-1h3.1ZM5.8 16.4c0-.5.2-.8.5-1 .2-.2.6-.3 1.2-.3l.8.1c.2 0 .4.2.5.3l.4.4v2.8l.2.3H8.2V18.7l-.6.3H7c-.4 0-.7 0-1-.2a1 1 0 0 1-.3-.9c0-.3 0-.6.3-.8.3-.2.7-.4 1.2-.4l.6-.2h.3v-.2l-.1-.2a.8.8 0 0 0-.5-.1 1 1 0 0 0-.4 0l-.3.4h-1Zm2.3.8h-.2l-.2.1-.4.1a1 1 0 0 0-.4.2l-.2.2.1.3.5.1h.4l.4-.4v-.6Zm2-3.4h1.2v1.7l.5-.3h.5c.5 0 .9.1 1.2.5.3.4.5.8.5 1.4 0 .6-.2 1.1-.5 1.5-.3.4-.7.6-1.3.6l-.6-.1-.4-.4v.4h-1.1v-5.4Zm1.1 3.3c0 .3 0 .6.2.8a.7.7 0 0 0 1.2 0l.2-.8c0-.4 0-.6-.2-.8a.7.7 0 0 0-.6-.3l-.6.3-.2.8Zm6.1-.5c0-.2 0-.3-.2-.4a.8.8 0 0 0-.5-.2c-.3 0-.5.1-.6.3l-.2.9c0 .3 0 .6.2.8.1.2.3.3.6.3.2 0 .4 0 .5-.2l.2-.4h1.1c0 .5-.3.8-.6 1.1a2 2 0 0 1-1.3.4c-.5 0-1-.2-1.3-.6a2 2 0 0 1-.5-1.4c0-.6.1-1.1.5-1.5.3-.4.8-.5 1.4-.5.5 0 1 0 1.2.3.4.3.5.7.5 1.2h-1v-.1Z" fill-rule="evenodd"/></svg>',"checklist-rtl":'<svg width="24" height="24"><path d="M5 17h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2zm14.2 11c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 8c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8z" fill-rule="evenodd"/></svg>',checklist:'<svg width="24" height="24"><path d="M11 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2h-8a1 1 0 0 1 0-2ZM7.2 16c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 8c-.2.3-.7.4-1 0L3.8 6.9a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Z" fill-rule="evenodd"/></svg>',checkmark:'<svg width="24" height="24"><path d="M18.2 5.4a1 1 0 0 1 1.6 1.2l-8 12a1 1 0 0 1-1.5.1l-5-5a1 1 0 1 1 1.4-1.4l4.1 4.1 7.4-11Z" fill-rule="nonzero"/></svg>',"chevron-down":'<svg width="10" height="10"><path d="M8.7 2.2c.3-.3.8-.3 1 0 .4.4.4.9 0 1.2L5.7 7.8c-.3.3-.9.3-1.2 0L.2 3.4a.8.8 0 0 1 0-1.2c.3-.3.8-.3 1.1 0L5 6l3.7-3.8Z" fill-rule="nonzero"/></svg>',"chevron-left":'<svg width="10" height="10"><path d="M7.8 1.3 4 5l3.8 3.7c.3.3.3.8 0 1-.4.4-.9.4-1.2 0L2.2 5.7a.8.8 0 0 1 0-1.2L6.6.2C7 0 7.4 0 7.8.2c.3.3.3.8 0 1.1Z" fill-rule="nonzero"/></svg>',"chevron-right":'<svg width="10" height="10"><path d="M2.2 1.3a.8.8 0 0 1 0-1c.4-.4.9-.4 1.2 0l4.4 4.1c.3.4.3.9 0 1.2L3.4 9.8c-.3.3-.8.3-1.2 0a.8.8 0 0 1 0-1.1L6 5 2.2 1.3Z" fill-rule="nonzero"/></svg>',"chevron-up":'<svg width="10" height="10"><path d="M8.7 7.8 5 4 1.3 7.8c-.3.3-.8.3-1 0a.8.8 0 0 1 0-1.2l4.1-4.4c.3-.3.9-.3 1.2 0l4.2 4.4c.3.3.3.9 0 1.2-.3.3-.8.3-1.1 0Z" fill-rule="nonzero"/></svg>',close:'<svg width="24" height="24"><path d="M17.3 8.2 13.4 12l3.9 3.8a1 1 0 0 1-1.5 1.5L12 13.4l-3.8 3.9a1 1 0 0 1-1.5-1.5l3.9-3.8-3.9-3.8a1 1 0 0 1 1.5-1.5l3.8 3.9 3.8-3.9a1 1 0 0 1 1.5 1.5Z" fill-rule="evenodd"/></svg>',"code-sample":'<svg width="24" height="26"><path d="M7.1 11a2.8 2.8 0 0 1-.8 2 2.8 2.8 0 0 1 .8 2v1.7c0 .3.1.6.4.8.2.3.5.4.8.4.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.7 0-1.4-.3-2-.8-.5-.6-.8-1.3-.8-2V15c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 0 1-.4-.4v-.8c0-.2.2-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V9.3c0-.7.3-1.4.8-2 .6-.5 1.3-.8 2-.8.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8V11Zm9.8 0V9.3c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 0 1-.4-.4V7c0-.2.1-.4.4-.4.7 0 1.4.3 2 .8.5.6.8 1.3.8 2V11c0 .3.1.6.4.8.2.3.5.4.8.4.2 0 .4.2.4.4v.8c0 .2-.2.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8v1.7c0 .7-.3 1.4-.8 2-.6.5-1.3.8-2 .8a.4.4 0 0 1-.4-.4v-.8c0-.2.1-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V15a2.8 2.8 0 0 1 .8-2 2.8 2.8 0 0 1-.8-2Zm-3.3-.4c0 .4-.1.8-.5 1.1-.3.3-.7.5-1.1.5-.4 0-.8-.2-1.1-.5-.4-.3-.5-.7-.5-1.1 0-.5.1-.9.5-1.2.3-.3.7-.4 1.1-.4.4 0 .8.1 1.1.4.4.3.5.7.5 1.2ZM12 13c.4 0 .8.1 1.1.5.4.3.5.7.5 1.1 0 1-.1 1.6-.5 2a3 3 0 0 1-1.1 1c-.4.3-.8.4-1.1.4a.5.5 0 0 1-.5-.5V17a3 3 0 0 0 1-.2l.6-.6c-.6 0-1-.2-1.3-.5-.2-.3-.3-.7-.3-1 0-.5.1-1 .5-1.2.3-.4.7-.5 1.1-.5Z" fill-rule="evenodd"/></svg>',"color-levels":'<svg width="24" height="24"><path d="M17.5 11.4A9 9 0 0 1 18 14c0 .5 0 1-.2 1.4 0 .4-.3.9-.5 1.3a6.2 6.2 0 0 1-3.7 3 5.7 5.7 0 0 1-3.2 0A5.9 5.9 0 0 1 7.6 18a6.2 6.2 0 0 1-1.4-2.6 6.7 6.7 0 0 1 0-2.8c0-.4.1-.9.3-1.3a13.6 13.6 0 0 1 2.3-4A20 20 0 0 1 12 4a26.4 26.4 0 0 1 3.2 3.4 18.2 18.2 0 0 1 2.3 4Zm-2 4.5c.4-.7.5-1.4.5-2a7.3 7.3 0 0 0-1-3.2c.2.6.2 1.2.2 1.9a4.5 4.5 0 0 1-1.3 3 5.3 5.3 0 0 1-2.3 1.5 4.9 4.9 0 0 1-2 .1 4.3 4.3 0 0 0 2.4.8 4 4 0 0 0 2-.6 4 4 0 0 0 1.5-1.5Z" fill-rule="evenodd"/></svg>',"color-picker":'<svg width="24" height="24"><path d="M12 3a9 9 0 0 0 0 18 1.5 1.5 0 0 0 1.1-2.5c-.2-.3-.4-.6-.4-1 0-.8.7-1.5 1.5-1.5H16a5 5 0 0 0 5-5c0-4.4-4-8-9-8Zm-5.5 9a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm3-4a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm5 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm3 4a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Z" fill-rule="nonzero"/></svg>',"color-swatch-remove-color":'<svg width="24" height="24"><path stroke="#000" stroke-width="2" d="M21 3 3 21" fill-rule="evenodd"/></svg>',"color-swatch":'<svg width="24" height="24"><rect x="3" y="3" width="18" height="18" rx="1" fill-rule="evenodd"/></svg>',"comment-add":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="m9 19 3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 0 0-1 1v10c0 .6.4 1 1 1h4v2Zm-2 4v-4H5a3 3 0 0 1-3-3V6a3 3 0 0 1 3-3h14a3 3 0 0 1 3 3v10a3 3 0 0 1-3 3h-6.4L7 23Z"/><path d="M13 10h2a1 1 0 0 1 0 2h-2v2a1 1 0 0 1-2 0v-2H9a1 1 0 0 1 0-2h2V8a1 1 0 0 1 2 0v2Z"/></g></svg>',comment:'<svg width="24" height="24"><path fill-rule="nonzero" d="m9 19 3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 0 0-1 1v10c0 .6.4 1 1 1h4v2Zm-2 4v-4H5a3 3 0 0 1-3-3V6a3 3 0 0 1 3-3h14a3 3 0 0 1 3 3v10a3 3 0 0 1-3 3h-6.4L7 23Z"/></svg>',contrast:'<svg width="24" height="24"><path d="M12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4Zm-6 8a6 6 0 0 0 6 6V6a6 6 0 0 0-6 6Z" fill-rule="evenodd"/></svg>',copy:'<svg width="24" height="24"><path d="M16 3H6a2 2 0 0 0-2 2v11h2V5h10V3Zm1 4a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-7a2 2 0 0 1-2-2V9c0-1.2.9-2 2-2h7Zm0 12V9h-7v10h7Z" fill-rule="nonzero"/></svg>',crop:'<svg width="24" height="24"><path d="M17 8v7h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v2c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-2H7V9H5a1 1 0 1 1 0-2h2V5c0-.6.4-1 1-1s1 .4 1 1v2h7l3-3 1 1-3 3ZM9 9v5l5-5H9Zm1 6h5v-5l-5 5Z" fill-rule="evenodd"/></svg>',"cut-column":'<svg width="24" height="24"><path fill-rule="evenodd" d="M7.2 4.5c.9 0 1.6.4 2.2 1A3.7 3.7 0 0 1 10.5 8v.5l1 1 4-4 1-.5a3.3 3.3 0 0 1 2 0c.4 0 .7.3 1 .5L17 8h4v13h-6V10l-1.5 1.5.5.5v4l-2.5-2.5-1 1v.5c0 .4 0 .8-.3 1.2-.2.5-.4.9-.8 1.2-.6.7-1.3 1-2.2 1-.8.2-1.5 0-2-.6l-.5-.8-.2-1c0-.4 0-.8.3-1.2A3.9 3.9 0 0 1 7 12.7c.5-.2 1-.3 1.5-.2l1-1-1-1c-.5 0-1 0-1.5-.2-.5-.1-1-.4-1.4-.9-.4-.3-.6-.7-.8-1.2L4.5 7c0-.4 0-.7.2-1 0-.3.3-.6.5-.8.5-.5 1.2-.8 2-.7Zm12.3 5h-3v10h3v-10ZM8 13.8h-.3l-.4.2a2.8 2.8 0 0 0-.7.4v.1a2.8 2.8 0 0 0-.6.8l-.1.4v.7l.2.5.5.2h.7a2.6 2.6 0 0 0 .8-.3 2.4 2.4 0 0 0 .7-.7 2.5 2.5 0 0 0 .3-.8 1.5 1.5 0 0 0 0-.8 1 1 0 0 0-.2-.4 1 1 0 0 0-.5-.2H8Zm3.5-3.7c-.4 0-.7.1-1 .4-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4ZM7 5.8h-.4a1 1 0 0 0-.5.3 1 1 0 0 0-.2.5v.7a2.5 2.5 0 0 0 .3.8l.2.3h.1l.4.4.4.2.4.1h.7L9 9l.2-.4a1.6 1.6 0 0 0 0-.8 2.6 2.6 0 0 0-.3-.8A2.5 2.5 0 0 0 7.7 6l-.4-.1H7Z"/></svg>',"cut-row":'<svg width="24" height="24"><path fill-rule="evenodd" d="M22 3v5H9l3 3 2-2h4l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8.7.6 1 1.3 1 2.2.2.8 0 1.5-.6 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 0 1-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 0 1 8.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 0 1 0-2c0-.4.3-.7.5-1l2 2V3h14ZM8.5 15.3h-.3a2.6 2.6 0 0 0-.8.4 2.5 2.5 0 0 0-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 0 0 .8-.3L9 18V18l.4-.4.2-.4.1-.4v-.7a1 1 0 0 0-.2-.5 1 1 0 0 0-.4-.2h-.5Zm7 0H15a1 1 0 0 0-.4.3 1 1 0 0 0-.2.5 1.5 1.5 0 0 0 0 .7v.4a2.8 2.8 0 0 0 .5.7h.1a2.8 2.8 0 0 0 .8.6l.4.1h.7l.5-.2.2-.5v-.7a2.6 2.6 0 0 0-.3-.8 2.4 2.4 0 0 0-.7-.7 2.5 2.5 0 0 0-.8-.3h-.3ZM12 11.6c-.4 0-.7.1-1 .4-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4Zm8.5-7.1h-11v2h11v-2Z"/></svg>',cut:'<svg width="24" height="24"><path d="M18 15c.6.7 1 1.4 1 2.3 0 .8-.2 1.5-.7 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 0 1-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 0 1 8.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 0 1 0-2c0-.4.3-.7.5-1l6 6 6-6 .5 1a3.3 3.3 0 0 1 0 2c0 .4-.3.7-.5 1l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8Zm-8.5 2.2.1-.4v-.7a1 1 0 0 0-.2-.5 1 1 0 0 0-.4-.2 1.6 1.6 0 0 0-.8 0 2.6 2.6 0 0 0-.8.3 2.5 2.5 0 0 0-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 0 0 .8-.3 2.8 2.8 0 0 0 1-1Zm2.5-2.8c.4 0 .7-.1 1-.4.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4s-.7.1-1 .4c-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4Zm5.4 4 .2-.5v-.7a2.6 2.6 0 0 0-.3-.8 2.4 2.4 0 0 0-.7-.7 2.5 2.5 0 0 0-.8-.3 1.5 1.5 0 0 0-.8 0 1 1 0 0 0-.4.2 1 1 0 0 0-.2.5 1.5 1.5 0 0 0 0 .7v.4l.3.4.3.4a2.8 2.8 0 0 0 .8.5l.4.1h.7l.5-.2Z" fill-rule="evenodd"/></svg>',"document-properties":'<svg width="24" height="24"><path d="M14.4 3H7a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h10a2 2 0 0 0 2-2V7.6L14.4 3ZM17 19H7V5h6v4h4v10Z" fill-rule="nonzero"/></svg>',drag:'<svg width="24" height="24"><path d="M13 5h2v2h-2V5Zm0 4h2v2h-2V9ZM9 9h2v2H9V9Zm4 4h2v2h-2v-2Zm-4 0h2v2H9v-2Zm0 4h2v2H9v-2Zm4 0h2v2h-2v-2ZM9 5h2v2H9V5Z" fill-rule="evenodd"/></svg>',"duplicate-column":'<svg width="24" height="24"><path d="M17 6v16h-7V6h7Zm-2 2h-3v12h3V8Zm-2-6v2H8v15H6V2h7Z"/></svg>',"duplicate-row":'<svg width="24" height="24"><path d="M22 11v7H6v-7h16Zm-2 2H8v3h12v-3Zm-1-6v2H4v5H2V7h17Z"/></svg>',duplicate:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M16 3v2H6v11H4V5c0-1.1.9-2 2-2h10Zm3 8h-2V9h-7v10h9a2 2 0 0 1-2 2h-7a2 2 0 0 1-2-2V9c0-1.2.9-2 2-2h7a2 2 0 0 1 2 2v2Z"/><path d="M17 14h1a1 1 0 0 1 0 2h-1v1a1 1 0 0 1-2 0v-1h-1a1 1 0 0 1 0-2h1v-1a1 1 0 0 1 2 0v1Z"/></g></svg>',"edit-block":'<svg width="24" height="24"><path fill-rule="nonzero" d="m19.8 8.8-9.4 9.4c-.2.2-.5.4-.9.4l-5.4 1.2 1.2-5.4.5-.8 9.4-9.4c.7-.7 1.8-.7 2.5 0l2.1 2.1c.7.7.7 1.8 0 2.5Zm-2-.2 1-.9v-.3l-2.2-2.2a.3.3 0 0 0-.3 0l-1 1L18 8.5Zm-1 1-2.5-2.4-6 6 2.5 2.5 6-6Zm-7 7.1-2.6-2.4-.3.3-.1.2-.7 3 3.1-.6h.1l.4-.5Z"/></svg>',"edit-image":'<svg width="24" height="24"><path d="M18 16h2V7a2 2 0 0 0-2-2H7v2h11v9ZM6 17h15a1 1 0 0 1 0 2h-1v1a1 1 0 0 1-2 0v-1H6a2 2 0 0 1-2-2V7H3a1 1 0 1 1 0-2h1V4a1 1 0 1 1 2 0v13Zm3-5.3 1.3 2 3-4.7 3.7 6H7l2-3.3Z" fill-rule="nonzero"/></svg>',"embed-page":'<svg width="24" height="24"><path d="M19 6V5H5v14h2A13 13 0 0 1 19 6Zm0 1.4c-.8.8-1.6 2.4-2.2 4.6H19V7.4Zm0 5.6h-2.4c-.4 1.8-.6 3.8-.6 6h3v-6Zm-4 6c0-2.2.2-4.2.6-6H13c-.7 1.8-1.1 3.8-1.1 6h3Zm-4 0c0-2.2.4-4.2 1-6H9.6A12 12 0 0 0 8 19h3ZM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm11.8 9c.4-1.9 1-3.4 1.8-4.5a9.2 9.2 0 0 0-4 4.5h2.2Zm-3.4 0a12 12 0 0 1 2.8-4 12 12 0 0 0-5 4h2.2Z" fill-rule="nonzero"/></svg>',embed:'<svg width="24" height="24"><path d="M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm1 2v14h14V5H5Zm4.8 2.6 5.6 4a.5.5 0 0 1 0 .8l-5.6 4A.5.5 0 0 1 9 16V8a.5.5 0 0 1 .8-.4Z" fill-rule="nonzero"/></svg>',emoji:'<svg width="24" height="24"><path d="M9 11c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 0 0-1 1c0 .6.4 1 1 1Zm6 0c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 0 0-1 1c0 .6.4 1 1 1Zm-3 5.5c2.1 0 4-1.5 4.4-3.5H7.6c.5 2 2.3 3.5 4.4 3.5ZM12 4a8 8 0 1 0 0 16 8 8 0 0 0 0-16Zm0 14.5a6.5 6.5 0 1 1 0-13 6.5 6.5 0 0 1 0 13Z" fill-rule="nonzero"/></svg>',export:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M14.4 3 18 7v1h-5V5H7v14h9a1 1 0 0 1 2 0c0 1-.8 2-1.9 2H7c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2h7.5Z"/><path d="M18.1 12c.5 0 .9.4.9 1 0 .5-.3 1-.8 1h-7.3c-.5 0-.9-.4-.9-1 0-.5.3-1 .8-1h7.3Z"/><path d="M16.4 9.2a1 1 0 0 1 1.4.2l2.4 3.6-2.4 3.6a1 1 0 0 1-1.7-1v-.2l1.7-2.4-1.6-2.4a1 1 0 0 1 .2-1.4Z"/></g></svg>',fill:'<svg width="24" height="26"><path d="m16.6 12-9-9-1.4 1.4 2.4 2.4-5.2 5.1c-.5.6-.5 1.6 0 2.2L9 19.6a1.5 1.5 0 0 0 2.2 0l5.5-5.5c.5-.6.5-1.6 0-2.2ZM5.2 13 10 8.2l4.8 4.8H5.2ZM19 14.5s-2 2.2-2 3.5c0 1.1.9 2 2 2a2 2 0 0 0 2-2c0-1.3-2-3.5-2-3.5Z" fill-rule="nonzero"/></svg>',"flip-horizontally":'<svg width="24" height="24"><path d="M14 19h2v-2h-2v2Zm4-8h2V9h-2v2ZM4 7v10c0 1.1.9 2 2 2h3v-2H6V7h3V5H6a2 2 0 0 0-2 2Zm14-2v2h2a2 2 0 0 0-2-2Zm-7 16h2V3h-2v18Zm7-6h2v-2h-2v2Zm-4-8h2V5h-2v2Zm4 12a2 2 0 0 0 2-2h-2v2Z" fill-rule="nonzero"/></svg>',"flip-vertically":'<svg width="24" height="24"><path d="M5 14v2h2v-2H5Zm8 4v2h2v-2h-2Zm4-14H7a2 2 0 0 0-2 2v3h2V6h10v3h2V6a2 2 0 0 0-2-2Zm2 14h-2v2a2 2 0 0 0 2-2ZM3 11v2h18v-2H3Zm6 7v2h2v-2H9Zm8-4v2h2v-2h-2ZM5 18c0 1.1.9 2 2 2v-2H5Z" fill-rule="nonzero"/></svg>',footnote:'<svg width="24" height="24"><path d="M19 13c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2h14Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M19 4v6h-1V5h-1.5V4h2.6Z"/><path d="M12 18c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2h7ZM14 8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2h9Z"/></svg>',"format-code":'<svg width="24" height="24"><path d="m10 22 2-7H6l9-13h2l-2 8h7L12 22h-2ZM6 2h7l-1.4 2H6V2Zm4.2 4H4v2h4.8l1.4-2Zm-2.7 4H2v2h4l1.5-2Z"/></svg>',"format-painter":'<svg width="24" height="24"><path d="M18 5V4c0-.5-.4-1-1-1H5a1 1 0 0 0-1 1v4c0 .6.5 1 1 1h12c.6 0 1-.4 1-1V7h1v4H9v9c0 .6.4 1 1 1h2c.6 0 1-.4 1-1v-7h8V5h-3Z" fill-rule="nonzero"/></svg>',format:'<svg width="24" height="24"><path fill-rule="evenodd" d="M17 5a1 1 0 0 1 0 2h-4v11a1 1 0 0 1-2 0V7H7a1 1 0 1 1 0-2h10Z"/></svg>',fullscreen:'<svg width="24" height="24"><path d="m15.3 10-1.2-1.3 2.9-3h-2.3a.9.9 0 1 1 0-1.7H19c.5 0 .9.4.9.9v4.4a.9.9 0 1 1-1.8 0V7l-2.9 3Zm0 4 3 3v-2.3a.9.9 0 1 1 1.7 0V19c0 .5-.4.9-.9.9h-4.4a.9.9 0 1 1 0-1.8H17l-3-2.9 1.3-1.2ZM10 15.4l-2.9 3h2.3a.9.9 0 1 1 0 1.7H5a.9.9 0 0 1-.9-.9v-4.4a.9.9 0 1 1 1.8 0V17l2.9-3 1.2 1.3ZM8.7 10 5.7 7v2.3a.9.9 0 0 1-1.7 0V5c0-.5.4-.9.9-.9h4.4a.9.9 0 0 1 0 1.8H7l3 2.9-1.3 1.2Z" fill-rule="nonzero"/></svg>',gallery:'<svg width="24" height="24"><path fill-rule="nonzero" d="m5 15.7 2.3-2.2c.3-.3.7-.3 1 0L11 16l5.1-5c.3-.4.8-.4 1 0l2 1.9V8H5v7.7ZM5 18V19h3l1.8-1.9-2-2L5 17.9Zm14-3-2.5-2.4-6.4 6.5H19v-4ZM4 6h16c.6 0 1 .4 1 1v13c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V7c0-.6.4-1 1-1Zm6 7a2 2 0 1 1 0-4 2 2 0 0 1 0 4ZM4.5 4h15a.5.5 0 1 1 0 1h-15a.5.5 0 0 1 0-1Zm2-2h11a.5.5 0 1 1 0 1h-11a.5.5 0 0 1 0-1Z"/></svg>',gamma:'<svg width="24" height="24"><path d="M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm1 2v14h14V5H5Zm6.5 11.8V14L9.2 8.7a5.1 5.1 0 0 0-.4-.8l-.1-.2H8v-1l.3-.1.3-.1h.7a1 1 0 0 1 .6.5l.1.3a8.5 8.5 0 0 1 .3.6l1.9 4.6 2-5.2a1 1 0 0 1 1-.6.5.5 0 0 1 .5.6L13 14v2.8a.7.7 0 0 1-1.4 0Z" fill-rule="nonzero"/></svg>',help:'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M12 5.5a6.5 6.5 0 0 0-6 9 6.3 6.3 0 0 0 1.4 2l1 1a6.3 6.3 0 0 0 3.6 1 6.5 6.5 0 0 0 6-9 6.3 6.3 0 0 0-1.4-2l-1-1a6.3 6.3 0 0 0-3.6-1ZM12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4Z"/><path d="M9.6 9.7a.7.7 0 0 1-.7-.8c0-1.1 1.5-1.8 3.2-1.8 1.8 0 3.2.8 3.2 2.4 0 1.4-.4 2.1-1.5 2.8-.2 0-.3.1-.3.2a2 2 0 0 0-.8.8.8.8 0 0 1-1.4-.6c.3-.7.8-1 1.3-1.5l.4-.2c.7-.4.8-.6.8-1.5 0-.5-.6-.9-1.7-.9-.5 0-1 .1-1.4.3-.2 0-.3.1-.3.2v-.2c0 .4-.4.8-.8.8Z" fill-rule="nonzero"/><circle cx="12" cy="16" r="1"/></g></svg>',"highlight-bg-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path class="tox-icon-highlight-bg-color__color" d="M3 18h18v3H3z"/><path fill-rule="nonzero" d="M7.7 16.7H3l3.3-3.3-.7-.8L10.2 8l4 4.1-4 4.2c-.2.2-.6.2-.8 0l-.6-.7-1.1 1.1zm5-7.5L11 7.4l3-2.9a2 2 0 0 1 2.6 0L18 6c.7.7.7 2 0 2.7l-2.9 2.9-1.8-1.8-.5-.6"/></g></svg>',home:'<svg width="24" height="24"><path fill-rule="nonzero" d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/></svg>',"horizontal-rule":'<svg width="24" height="24"><path d="M4 11h16v2H4z" fill-rule="evenodd"/></svg>',"image-options":'<svg width="24" height="24"><path d="M6 10a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm12 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm-6 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Z" fill-rule="nonzero"/></svg>',image:'<svg width="24" height="24"><path d="m5 15.7 3.3-3.2c.3-.3.7-.3 1 0L12 15l4.1-4c.3-.4.8-.4 1 0l2 1.9V5H5v10.7ZM5 18V19h3l2.8-2.9-2-2L5 17.9Zm14-3-2.5-2.4-6.4 6.5H19v-4ZM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm6 8a2 2 0 1 0 0-4 2 2 0 0 0 0 4Z" fill-rule="nonzero"/></svg>',indent:'<svg width="24" height="24"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 1 1 0-2Zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm-5 4h12a1 1 0 0 1 0 2H7a1 1 0 0 1 0-2Zm-2.6-3.8L6.2 12l-1.8-1.2a1 1 0 0 1 1.2-1.6l3 2a1 1 0 0 1 0 1.6l-3 2a1 1 0 1 1-1.2-1.6Z" fill-rule="evenodd"/></svg>',info:'<svg width="24" height="24"><path d="M12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4Zm-1 3v2h2V7h-2Zm3 10v-1h-1v-5h-3v1h1v4h-1v1h4Z" fill-rule="evenodd"/></svg>',"insert-character":'<svg width="24" height="24"><path d="M15 18h4l1-2v4h-6v-3.3l1.4-1a6 6 0 0 0 1.8-2.9 6.3 6.3 0 0 0-.1-4.1 5.8 5.8 0 0 0-3-3.2c-.6-.3-1.3-.5-2.1-.5a5.1 5.1 0 0 0-3.9 1.8 6.3 6.3 0 0 0-1.3 6 6.2 6.2 0 0 0 1.8 3l1.4.9V20H4v-4l1 2h4v-.5l-2-1L5.4 15A6.5 6.5 0 0 1 4 11c0-1 .2-1.9.6-2.7A7 7 0 0 1 6.3 6C7.1 5.4 8 5 9 4.5c1-.3 2-.5 3.1-.5a8.8 8.8 0 0 1 5.7 2 7 7 0 0 1 1.7 2.3 6 6 0 0 1 .2 4.8c-.2.7-.6 1.3-1 1.9a7.6 7.6 0 0 1-3.6 2.5v.5Z" fill-rule="evenodd"/></svg>',"insert-time":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M12 19a7 7 0 1 0 0-14 7 7 0 0 0 0 14Zm0 2a9 9 0 1 1 0-18 9 9 0 0 1 0 18Z"/><path d="M16 12h-3V7c0-.6-.4-1-1-1a1 1 0 0 0-1 1v7h5c.6 0 1-.4 1-1s-.4-1-1-1Z"/></g></svg>',invert:'<svg width="24" height="24"><path d="M18 19.3 16.5 18a5.8 5.8 0 0 1-3.1 1.9 6.1 6.1 0 0 1-5.5-1.6A5.8 5.8 0 0 1 6 14v-.3l.1-1.2A13.9 13.9 0 0 1 7.7 9l-3-3 .7-.8 2.8 2.9 9 8.9 1.5 1.6-.7.6Zm0-5.5v.3l-.1 1.1-.4 1-1.2-1.2a4.3 4.3 0 0 0 .2-1v-.2c0-.4 0-.8-.2-1.3l-.5-1.4a14.8 14.8 0 0 0-3-4.2L12 6a26.1 26.1 0 0 0-2.2 2.5l-1-1a20.9 20.9 0 0 1 2.9-3.3L12 4l1 .8a22.2 22.2 0 0 1 4 5.4c.6 1.2 1 2.4 1 3.6Z" fill-rule="evenodd"/></svg>',italic:'<svg width="24" height="24"><path d="m16.7 4.7-.1.9h-.3c-.6 0-1 0-1.4.3-.3.3-.4.6-.5 1.1l-2.1 9.8v.6c0 .5.4.8 1.4.8h.2l-.2.8H8l.2-.8h.2c1.1 0 1.8-.5 2-1.5l2-9.8.1-.5c0-.6-.4-.8-1.4-.8h-.3l.2-.9h5.8Z" fill-rule="evenodd"/></svg>',language:'<svg width="24" height="24"><path d="M12 3a9 9 0 1 1 0 18 9 9 0 0 1 0-18Zm4.3 13.3c-.5 1-1.2 2-2 2.9a7.5 7.5 0 0 0 3.2-2.1l-.2-.2a6 6 0 0 0-1-.6Zm-8.6 0c-.5.2-.9.5-1.2.8.9 1 2 1.7 3.2 2a10 10 0 0 1-2-2.8Zm3.6-.8c-.8 0-1.6.1-2.2.3.5 1 1.2 1.9 2.1 2.7Zm1.5 0v3c.9-.8 1.6-1.7 2.1-2.7-.6-.2-1.4-.3-2.1-.3Zm-6-2.7H4.5c.2 1 .5 2.1 1 3h.3l1.3-1a10 10 0 0 1-.3-2Zm12.7 0h-2.3c0 .7-.1 1.4-.3 2l1.6 1.1c.5-1 .9-2 1-3.1Zm-3.8 0h-3V14c1 0 2 .1 2.7.4.2-.5.3-1 .3-1.6Zm-4.4 0h-3l.3 1.6c.8-.3 1.7-.4 2.7-.4v-1.3Zm-5.5-5c-.7 1-1.1 2.2-1.3 3.5h2.3c0-1 .2-1.8.5-2.6l-1.5-1Zm2.9 1.4v.1c-.2.6-.4 1.3-.4 2h3V9.4c-1 0-1.8-.1-2.6-.3Zm6.6 0h-.1l-2.4.3v1.8h3l-.5-2.1Zm3-1.4-.3.1-1.3.8c.3.8.5 1.6.5 2.6h2.3a7.5 7.5 0 0 0-1.3-3.5Zm-9 0 2 .2V5.5a9 9 0 0 0-2 2.2Zm3.5-2.3V8c.6 0 1.3 0 1.9-.2a9 9 0 0 0-2-2.3Zm-3-.7h-.1c-1.1.4-2.1 1-3 1.8l1.2.7a10 10 0 0 1 1.9-2.5Zm4.4 0 .1.1a10 10 0 0 1 1.8 2.4l1.1-.7a7.5 7.5 0 0 0-3-1.8Z"/></svg>',"line-height":'<svg width="24" height="24"><path d="M21 5a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zM7 3.6l3.7 3.7a1 1 0 0 1-1.3 1.5h-.1L8 7.3v9.2l1.3-1.3a1 1 0 0 1 1.3 0h.1c.4.4.4 1 0 1.3v.1L7 20.4l-3.7-3.7a1 1 0 0 1 1.3-1.5h.1L6 16.7V7.4L4.7 8.7a1 1 0 0 1-1.3 0h-.1a1 1 0 0 1 0-1.3v-.1L7 3.6z"/></svg>',line:'<svg width="24" height="24"><path d="m15 9-8 8H4v-3l8-8 3 3Zm1-1-3-3 1-1h1c-.2 0 0 0 0 0l2 2s0 .2 0 0v1l-1 1ZM4 18h16v2H4v-2Z" fill-rule="evenodd"/></svg>',link:'<svg width="24" height="24"><path d="M6.2 12.3a1 1 0 0 1 1.4 1.4l-2 2a2 2 0 1 0 2.6 2.8l4.8-4.8a1 1 0 0 0 0-1.4 1 1 0 1 1 1.4-1.3 2.9 2.9 0 0 1 0 4L9.6 20a3.9 3.9 0 0 1-5.5-5.5l2-2Zm11.6-.6a1 1 0 0 1-1.4-1.4l2-2a2 2 0 1 0-2.6-2.8L11 10.3a1 1 0 0 0 0 1.4A1 1 0 1 1 9.6 13a2.9 2.9 0 0 1 0-4L14.4 4a3.9 3.9 0 0 1 5.5 5.5l-2 2Z" fill-rule="nonzero"/></svg>',"list-bull-circle":'<svg width="48" height="48"><g fill-rule="evenodd"><path d="M11 16a2 2 0 1 0 0-4 2 2 0 0 0 0 4Zm0 1a3 3 0 1 1 0-6 3 3 0 0 1 0 6ZM11 26a2 2 0 1 0 0-4 2 2 0 0 0 0 4Zm0 1a3 3 0 1 1 0-6 3 3 0 0 1 0 6ZM11 36a2 2 0 1 0 0-4 2 2 0 0 0 0 4Zm0 1a3 3 0 1 1 0-6 3 3 0 0 1 0 6Z" fill-rule="nonzero"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-bull-default":'<svg width="48" height="48"><g fill-rule="evenodd"><circle cx="11" cy="14" r="3"/><circle cx="11" cy="24" r="3"/><circle cx="11" cy="34" r="3"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-bull-square":'<svg width="48" height="48"><g fill-rule="evenodd"><path d="M8 11h6v6H8zM8 21h6v6H8zM8 31h6v6H8z"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-num-default-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M37.4 17v-4.8h-.1l-1.5 1v-1.1l1.6-1.1h1.2v6zM33.3 17.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm1.7 5.7c0-1.2 1-2 2.2-2 1.3 0 2.1.8 2.1 1.8 0 .7-.3 1.2-1.3 2.2l-1.2 1v.2h2.6v1h-4.3v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H35zm-1.7 4.3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm3.2 7.3v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H35c0-1.1 1-1.8 2.2-1.8 1.2 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.7.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .6 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7zm-3.3 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7z"/></g></svg>',"list-num-default":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10 17v-4.8l-1.5 1v-1.1l1.6-1h1.2V17h-1.2Zm3.6.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm-5 5.7c0-1.2.8-2 2.1-2s2.1.8 2.1 1.8c0 .7-.3 1.2-1.4 2.2l-1.1 1v.2h2.6v1H8.6v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H8.5Zm6.3 4.3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM10 34.4v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H8.6c0-1.1 1-1.8 2.2-1.8 1.3 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.8.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .7 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7Zm4.7 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7Z"/></g></svg>',"list-num-lower-alpha-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M36.5 16c-.9 0-1.5-.5-1.5-1.3s.6-1.3 1.8-1.4h1v-.4c0-.4-.2-.6-.7-.6-.4 0-.7.1-.8.4h-1.1c0-.8.8-1.4 2-1.4S39 12 39 13V16h-1.2v-.6c-.3.4-.8.7-1.4.7Zm.4-.8c.6 0 1-.4 1-.9V14h-1c-.5.1-.7.3-.7.6 0 .4.3.6.7.6ZM33.1 16.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7ZM37.7 26c-.7 0-1.2-.2-1.5-.7v.7H35v-6.3h1.2v2.5c.3-.5.8-.9 1.5-.9 1.1 0 1.8 1 1.8 2.4 0 1.5-.7 2.4-1.8 2.4Zm-.5-3.6c-.6 0-1 .5-1 1.3s.4 1.4 1 1.4c.7 0 1-.6 1-1.4 0-.8-.3-1.3-1-1.3ZM33.2 26.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7zm6 7h-1c-.1-.5-.4-.8-1-.8s-1 .5-1 1.4c0 1 .4 1.4 1 1.4.5 0 .9-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7zm-6.1 3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-lower-alpha":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10.3 15.2c.5 0 1-.4 1-.9V14h-1c-.5.1-.8.3-.8.6 0 .4.3.6.8.6Zm-.4.9c-1 0-1.5-.6-1.5-1.4 0-.8.6-1.3 1.7-1.4h1.1v-.4c0-.4-.2-.6-.7-.6-.5 0-.8.1-.9.4h-1c0-.8.8-1.4 2-1.4 1.1 0 1.8.6 1.8 1.6V16h-1.1v-.6h-.1c-.2.4-.7.7-1.3.7Zm4.6 0c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-3.2 10c-.6 0-1.2-.3-1.4-.8v.7H8.5v-6.3H10v2.5c.3-.5.8-.9 1.4-.9 1.2 0 1.9 1 1.9 2.4 0 1.5-.7 2.4-1.9 2.4Zm-.4-3.7c-.7 0-1 .5-1 1.3s.3 1.4 1 1.4c.6 0 1-.6 1-1.4 0-.8-.4-1.3-1-1.3Zm4 3.7c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-2.2 7h-1.2c0-.5-.4-.8-.9-.8-.6 0-1 .5-1 1.4 0 1 .4 1.4 1 1.4.5 0 .8-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7Zm1.8 3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-lower-greek-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M37.4 16c-1.2 0-2-.8-2-2.3 0-1.5.8-2.4 2-2.4.6 0 1 .4 1.3 1v-.9H40v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1-.7h-.2c-.2.4-.7.8-1.3.8Zm.3-1c.6 0 1-.5 1-1.3s-.4-1.3-1-1.3-1 .5-1 1.3.4 1.4 1 1.4ZM33.3 16.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM36 21.9c0-1.5.8-2.3 2.1-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.9 1.3.9.3 1.3.8 1.3 1.7 0 1.2-.7 1.9-1.8 1.9-.6 0-1.1-.3-1.4-.8v2.2H36V22Zm1.8 1.2v-1h.3c.5 0 .9-.2.9-.7 0-.5-.3-.8-.9-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1 1.3s1-.4 1-1-.4-1-1.2-1h-.3ZM33.3 26.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM37.1 34.6 34.8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.2.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2Zm.7 1a2 2 0 0 0-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1ZM33.3 36.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-lower-greek":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10.5 15c.7 0 1-.5 1-1.3s-.3-1.3-1-1.3c-.5 0-.9.5-.9 1.3s.4 1.4 1 1.4Zm-.3 1c-1.1 0-1.8-.8-1.8-2.3 0-1.5.7-2.4 1.8-2.4.7 0 1.1.4 1.3 1h.1v-.9h1.2v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1.1-.7h-.1c-.2.4-.7.8-1.4.8Zm5 .1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7Zm-4.9 7v-1h.3c.6 0 1-.2 1-.7 0-.5-.4-.8-1-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1.1 1.3.6 0 1-.4 1-1s-.5-1-1.3-1h-.3ZM8.6 22c0-1.5.7-2.3 2-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.8 1.3.8.3 1.3.8 1.3 1.7 0 1.2-.8 1.9-1.9 1.9-.6 0-1.1-.3-1.3-.8v2.2H8.5V22Zm6.2 4.2c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm-4.5 8.5L8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.1.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2Zm.7 1a2 2 0 0 0-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1Zm4.5.5c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-lower-roman-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M32.9 16v-1.2h-1.3V16H33Zm0 10v-1.2h-1.3V26H33Zm0 10v-1.2h-1.3V36H33Z"/><path fill-rule="nonzero" d="M36 21h-1.5v5H36zM36 31h-1.5v5H36zM39 21h-1.5v5H39zM39 31h-1.5v5H39zM42 31h-1.5v5H42zM36 11h-1.5v5H36zM36 19h-1.5v1H36zM36 29h-1.5v1H36zM39 19h-1.5v1H39zM39 29h-1.5v1H39zM42 29h-1.5v1H42zM36 9h-1.5v1H36z"/></g></svg>',"list-num-lower-roman":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M15.1 16v-1.2h1.3V16H15Zm0 10v-1.2h1.3V26H15Zm0 10v-1.2h1.3V36H15Z"/><path fill-rule="nonzero" d="M12 21h1.5v5H12zM12 31h1.5v5H12zM9 21h1.5v5H9zM9 31h1.5v5H9zM6 31h1.5v5H6zM12 11h1.5v5H12zM12 19h1.5v1H12zM12 29h1.5v1H12zM9 19h1.5v1H9zM9 29h1.5v1H9zM6 29h1.5v1H6zM12 9h1.5v1H12z"/></g></svg>',"list-num-upper-alpha-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="m39.3 17-.5-1.4h-2l-.5 1.4H35l2-6h1.6l2 6h-1.3Zm-1.6-4.7-.7 2.3h1.6l-.8-2.3ZM33.4 17c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm4.7 9.9h-2.7v-6H38c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7Zm-1.4-5v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1Zm0 4h1.1c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9h-1.1V26ZM33 27.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm4.9 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2Zm-4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-upper-alpha":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="m12.6 17-.5-1.4h-2L9.5 17H8.3l2-6H12l2 6h-1.3ZM11 12.3l-.7 2.3h1.6l-.8-2.3Zm4.7 4.8c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7ZM11.4 27H8.7v-6h2.6c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7ZM10 22v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1Zm0 4H11c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9H10V26Zm5.4 1.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-4.1 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2Zm4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-upper-roman-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M31.6 17v-1.2H33V17h-1.3Zm0 10v-1.2H33V27h-1.3Zm0 10v-1.2H33V37h-1.3Z"/><path fill-rule="nonzero" d="M34.5 20H36v7h-1.5zM34.5 30H36v7h-1.5zM37.5 20H39v7h-1.5zM37.5 30H39v7h-1.5zM40.5 30H42v7h-1.5zM34.5 10H36v7h-1.5z"/></g></svg>',"list-num-upper-roman":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M15.1 17v-1.2h1.3V17H15Zm0 10v-1.2h1.3V27H15Zm0 10v-1.2h1.3V37H15Z"/><path fill-rule="nonzero" d="M12 20h1.5v7H12zM12 30h1.5v7H12zM9 20h1.5v7H9zM9 30h1.5v7H9zM6 30h1.5v7H6zM12 10h1.5v7H12z"/></g></svg>',lock:'<svg width="24" height="24"><path d="M16.3 11c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H8V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h.3ZM10 8v3h4V8a1 1 0 0 0-.3-.7A1 1 0 0 0 13 7h-2a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7Z" fill-rule="evenodd"/></svg>',ltr:'<svg width="24" height="24"><path d="M11 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 7.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L11 5ZM4.4 16.2 6.2 15l-1.8-1.2a1 1 0 0 1 1.2-1.6l3 2a1 1 0 0 1 0 1.6l-3 2a1 1 0 1 1-1.2-1.6Z" fill-rule="evenodd"/></svg>',"math-equation":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M9 4.8c.1-.5.5-.8 1-.8h10a1 1 0 1 1 0 2h-9.2L8.3 19.2a1 1 0 0 1-1.7.4l-3.4-4.2a1 1 0 0 1 1.6-1.2l2 2.5L9 4.8Zm9.7 5.5c.4.4.4 1 0 1.4L17 13.5l1.8 1.8a1 1 0 1 1-1.4 1.4L15.5 15l-1.8 1.8a1 1 0 0 1-1.4-1.4l1.8-1.8-1.8-1.8a1 1 0 0 1 1.4-1.4l1.8 1.8 1.8-1.8a1 1 0 0 1 1.4 0Z"/></svg>',minus:'<svg width="24" height="24"><path d="M19 11a1 1 0 0 1 .1 2H5a1 1 0 0 1-.1-2H19Z"/></svg>',"more-drawer":'<svg width="24" height="24"><path d="M6 10a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm12 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm-6 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Z" fill-rule="nonzero"/></svg>',"new-document":'<svg width="24" height="24"><path d="M14.4 3H7a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h10a2 2 0 0 0 2-2V7.6L14.4 3ZM17 19H7V5h6v4h4v10Z" fill-rule="nonzero"/></svg>',"new-tab":'<svg width="24" height="24"><path d="m15 13 2-2v8H5V7h8l-2 2H7v8h8v-4Zm4-8v5.5l-2-2-5.6 5.5H10v-1.4L15.5 7l-2-2H19Z" fill-rule="evenodd"/></svg>',"non-breaking":'<svg width="24" height="24"><path d="M11 11H8a1 1 0 1 1 0-2h3V6c0-.6.4-1 1-1s1 .4 1 1v3h3c.6 0 1 .4 1 1s-.4 1-1 1h-3v3c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-3Zm10 4v5H3v-5c0-.6.4-1 1-1s1 .4 1 1v3h14v-3c0-.6.4-1 1-1s1 .4 1 1Z" fill-rule="evenodd"/></svg>',notice:'<svg width="24" height="24"><path d="M15.5 4 20 8.5v7L15.5 20h-7L4 15.5v-7L8.5 4h7ZM13 17v-2h-2v2h2Zm0-4V7h-2v6h2Z" fill-rule="evenodd" clip-rule="evenodd"/></svg>',"ordered-list-rtl":'<svg width="24" height="24"><path d="M6 17h8a1 1 0 0 1 0 2H6a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2H6a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2H6a1 1 0 1 1 0-2Zm13-1v3.5a.5.5 0 1 1-1 0V5h-.5a.5.5 0 1 1 0-1H19Zm-1 8.8.2.2h1.3a.5.5 0 1 1 0 1h-1.6a1 1 0 0 1-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 0 0-.2-.2h-1.3a.5.5 0 0 1-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3Zm2 4.2v2c0 .6-.4 1-1 1h-1.5a.5.5 0 0 1 0-1h1.2a.3.3 0 1 0 0-.6h-1.3a.4.4 0 1 1 0-.8h1.3a.3.3 0 0 0 0-.6h-1.2a.5.5 0 1 1 0-1H19c.6 0 1 .4 1 1Z" fill-rule="evenodd"/></svg>',"ordered-list":'<svg width="24" height="24"><path d="M10 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 1 1 0-2ZM6 4v3.5c0 .3-.2.5-.5.5a.5.5 0 0 1-.5-.5V5h-.5a.5.5 0 0 1 0-1H6Zm-1 8.8.2.2h1.3c.3 0 .5.2.5.5s-.2.5-.5.5H4.9a1 1 0 0 1-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 0 0-.2-.2H4.5a.5.5 0 0 1-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3ZM7 17v2c0 .6-.4 1-1 1H4.5a.5.5 0 0 1 0-1h1.2c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.4a.4.4 0 1 1 0-.8h1.3c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.5a.5.5 0 1 1 0-1H6c.6 0 1 .4 1 1Z" fill-rule="evenodd"/></svg>',orientation:'<svg width="24" height="24"><path d="M7.3 6.4 1 13l6.4 6.5 6.5-6.5-6.5-6.5ZM3.7 13l3.6-3.7L11 13l-3.7 3.7-3.6-3.7ZM12 6l2.8 2.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0L9.2 5.7a.8.8 0 0 1 0-1.2L13.6.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L12 4h1a9 9 0 1 1-4.3 16.9l1.5-1.5A7 7 0 1 0 13 6h-1Z" fill-rule="nonzero"/></svg>',outdent:'<svg width="24" height="24"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 1 1 0-2Zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm-5 4h12a1 1 0 0 1 0 2H7a1 1 0 0 1 0-2Zm1.6-3.8a1 1 0 0 1-1.2 1.6l-3-2a1 1 0 0 1 0-1.6l3-2a1 1 0 0 1 1.2 1.6L6.8 12l1.8 1.2Z" fill-rule="evenodd"/></svg>',"export-pdf":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M7 3h7.4L19 7.6V17h-2V9h-4V5H7v3H5V5c0-1.1.9-2 2-2Z"/><path d="M2.6 15.2v-1.9h1c.6 0 1-.2 1.4-.5.3-.3.5-.7.5-1.2s-.2-.9-.5-1.2a2 2 0 0 0-1.3-.4H1v5.2h1.6Zm.4-3h-.4v-1.1h.5l.6.1.2.5c0 .1 0 .3-.2.4l-.7.1Zm5.7 3 1-.1c.3 0 .5-.2.7-.4l.5-.8c.2-.3.2-.7.2-1.3v-1l-.5-.8c-.2-.3-.4-.5-.7-.6L8.7 10H6.3v5.2h2.4Zm-.4-1.1H8v-3h.4c.5 0 .8.2 1 .4l.2 1.1-.1 1-.3.3-.8.2Zm5.3 1.2V13h2v-1h-2v-1H16V10h-4v5.2h1.6Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M15 17a1 1 0 1 0-2 0v3.1l-1.4-1a1 1 0 1 0-1.2 1.7l3.6 2.4 3.6-2.4a1 1 0 0 0-1.2-1.6l-1.4 1V17Z"/></svg>',"export-word":'<svg width="24" height="24"><path d="M9.5 7A1.5 1.5 0 0 1 11 8.4v7.1A1.5 1.5 0 0 1 9.6 17H2.5A1.5 1.5 0 0 1 1 15.6V8.5A1.5 1.5 0 0 1 2.4 7h7.1Zm-1 2.8-1 2.6-1-2.5v-.1a.6.6 0 0 0-1 0l-.1.1-.9 2.5-1-2.5v-.1a.6.6 0 0 0-1 .4v.1l1.5 4v.1a.6.6 0 0 0 1 0v-.1l1-2.5.9 2.5v.1a.6.6 0 0 0 1 0H8l1.6-4v-.2a.6.6 0 0 0-1.1-.4Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M7 3h7.4L19 7.6V17h-2V9h-4V5H5c0-1.1.9-2 2-2ZM15 17a1 1 0 1 0-2 0v3.1l-1.4-1a1 1 0 1 0-1.2 1.7l3.6 2.4 3.6-2.4a1 1 0 0 0-1.2-1.6l-1.4 1V17Z"/></svg>',"import-word":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M7 3h7.4L19 7.6V15h-2V9h-4V5H5c0-1.1.9-2 2-2Z"/><path d="M9.5 7A1.5 1.5 0 0 1 11 8.4v7.1A1.5 1.5 0 0 1 9.6 17H2.5A1.5 1.5 0 0 1 1 15.6V8.5A1.5 1.5 0 0 1 2.4 7h7.1Zm-1 2.8-1 2.6-1-2.5v-.1a.6.6 0 0 0-1 0l-.1.1-.9 2.5-1-2.5v-.1a.6.6 0 0 0-1 .4v.1l1.5 4v.1a.6.6 0 0 0 1 0v-.1l1-2.5.9 2.5v.1a.6.6 0 0 0 1 0H8l1.6-4v-.2a.6.6 0 0 0-1.1-.4Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M11.4 18.2a1 1 0 0 0 1.2 1.6l1.4-1V22a1 1 0 1 0 2 0v-3.1l1.4 1a1 1 0 0 0 1.2-1.7L15 15.8l-3.6 2.4Z"/></svg>',"page-break":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M5 11c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1h-1a1 1 0 0 1 0-2Zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2ZM7 3v5h10V3c0-.6.4-1 1-1s1 .4 1 1v7H5V3c0-.6.4-1 1-1s1 .4 1 1ZM6 22a1 1 0 0 1-1-1v-7h14v7c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-5H7v5c0 .6-.4 1-1 1Z"/></g></svg>',paragraph:'<svg width="24" height="24"><path fill-rule="evenodd" d="M10 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 6.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L10 5Z"/></svg>',"paste-column-after":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V7h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h7v2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm8 7v12h-6V8h6Zm-1.5 1.5h-3v9h3v-9ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-column-before":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V18c0 1-.8 2-1.9 2H11v-2h7V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v2H4V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm-2 7v12H4V8h6ZM8.5 9.5h-3v9h3v-9ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-row-after":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V11h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h14c0 1-.8 2-1.9 2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm10 11v5H8v-5h14Zm-1.5 1.5h-11v2h11v-2ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-row-before":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V7h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h12v-4h2v4c0 1-.8 2-1.9 2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm10 7v5H8V8h14Zm-1.5 1.5h-11v2h11v-2ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-text":'<svg width="24" height="24"><path d="M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h3V9h9ZM9 20H6a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0 1 12 1a3 3 0 0 1 2.8 2H18a2 2 0 0 1 2 2v4h1v12H9v-1Zm1.5-9.5v9h9v-9h-9ZM12 3a1 1 0 0 0-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1Zm0 9h6v2h-.5l-.5-1h-1v4h.8v1h-3.6v-1h.8v-4h-1l-.5 1H12v-2Z" fill-rule="nonzero"/></svg>',paste:'<svg width="24" height="24"><path d="M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h3V9h9ZM9 20H6a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0 1 12 1a3 3 0 0 1 2.8 2H18a2 2 0 0 1 2 2v4h1v12H9v-1Zm1.5-9.5v9h9v-9h-9ZM12 3a1 1 0 0 0-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1Z" fill-rule="nonzero"/></svg>',"permanent-pen":'<svg width="24" height="24"><path d="M10.5 17.5 8 20H3v-3l3.5-3.5a2 2 0 0 1 0-3L14 3l1 1-7.3 7.3a1 1 0 0 0 0 1.4l3.6 3.6c.4.4 1 .4 1.4 0L20 9l1 1-7.6 7.6a2 2 0 0 1-2.8 0l-.1-.1Z" fill-rule="nonzero"/></svg>',plus:'<svg width="24" height="24"><path d="M12 4c.5 0 1 .4 1 .9V11h6a1 1 0 0 1 .1 2H13v6a1 1 0 0 1-2 .1V13H5a1 1 0 0 1-.1-2H11V5c0-.6.4-1 1-1Z"/></svg>',preferences:'<svg width="24" height="24"><path d="m20.1 13.5-1.9.2a5.8 5.8 0 0 1-.6 1.5l1.2 1.5c.4.4.3 1 0 1.4l-.7.7a1 1 0 0 1-1.4 0l-1.5-1.2a6.2 6.2 0 0 1-1.5.6l-.2 1.9c0 .5-.5.9-1 .9h-1a1 1 0 0 1-1-.9l-.2-1.9a5.8 5.8 0 0 1-1.5-.6l-1.5 1.2a1 1 0 0 1-1.4 0l-.7-.7a1 1 0 0 1 0-1.4l1.2-1.5a6.2 6.2 0 0 1-.6-1.5l-1.9-.2a1 1 0 0 1-.9-1v-1c0-.5.4-1 .9-1l1.9-.2a5.8 5.8 0 0 1 .6-1.5L5.2 7.3a1 1 0 0 1 0-1.4l.7-.7a1 1 0 0 1 1.4 0l1.5 1.2a6.2 6.2 0 0 1 1.5-.6l.2-1.9c0-.5.5-.9 1-.9h1c.5 0 1 .4 1 .9l.2 1.9a5.8 5.8 0 0 1 1.5.6l1.5-1.2a1 1 0 0 1 1.4 0l.7.7c.3.4.4 1 0 1.4l-1.2 1.5a6.2 6.2 0 0 1 .6 1.5l1.9.2c.5 0 .9.5.9 1v1c0 .5-.4 1-.9 1ZM12 15a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z" fill-rule="evenodd"/></svg>',preview:'<svg width="24" height="24"><path d="M3.5 12.5c.5.8 1.1 1.6 1.8 2.3 2 2 4.2 3.2 6.7 3.2s4.7-1.2 6.7-3.2a16.2 16.2 0 0 0 2.1-2.8 15.7 15.7 0 0 0-2.1-2.8c-2-2-4.2-3.2-6.7-3.2a9.3 9.3 0 0 0-6.7 3.2A16.2 16.2 0 0 0 3.2 12c0 .2.2.3.3.5Zm-2.4-1 .7-1.2L4 7.8C6.2 5.4 8.9 4 12 4c3 0 5.8 1.4 8.1 3.8a18.2 18.2 0 0 1 2.8 3.7v1l-.7 1.2-2.1 2.5c-2.3 2.4-5 3.8-8.1 3.8-3 0-5.8-1.4-8.1-3.8a18.2 18.2 0 0 1-2.8-3.7 1 1 0 0 1 0-1Zm12-3.3a2 2 0 1 0 2.7 2.6 4 4 0 1 1-2.6-2.6Z" fill-rule="nonzero"/></svg>',print:'<svg width="24" height="24"><path d="M18 8H6a3 3 0 0 0-3 3v6h2v3h14v-3h2v-6a3 3 0 0 0-3-3Zm-1 10H7v-4h10v4Zm.5-5c-.8 0-1.5-.7-1.5-1.5s.7-1.5 1.5-1.5 1.5.7 1.5 1.5-.7 1.5-1.5 1.5Zm.5-8H6v2h12V5Z" fill-rule="nonzero"/></svg>',quote:'<svg width="24" height="24"><path d="M7.5 17h.9c.4 0 .7-.2.9-.6L11 13V8c0-.6-.4-1-1-1H6a1 1 0 0 0-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 0 0 .8 1.3Zm8 0h.9c.4 0 .7-.2.9-.6L19 13V8c0-.6-.4-1-1-1h-4a1 1 0 0 0-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 0 0 .8 1.3Z" fill-rule="nonzero"/></svg>',redo:'<svg width="24" height="24"><path d="M17.6 10H12c-2.8 0-4.4 1.4-4.9 3.5-.4 2 .3 4 1.4 4.6a1 1 0 1 1-1 1.8c-2-1.2-2.9-4.1-2.3-6.8.6-3 3-5.1 6.8-5.1h5.6l-3.3-3.3a1 1 0 1 1 1.4-1.4l5 5a1 1 0 0 1 0 1.4l-5 5a1 1 0 0 1-1.4-1.4l3.3-3.3Z" fill-rule="nonzero"/></svg>',reload:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="m5 22.1-1.2-4.7v-.2a1 1 0 0 1 1-1l5 .4a1 1 0 1 1-.2 2l-2.2-.2a7.8 7.8 0 0 0 8.4.2 7.5 7.5 0 0 0 3.5-6.4 1 1 0 1 1 2 0 9.5 9.5 0 0 1-4.5 8 9.9 9.9 0 0 1-10.2 0l.4 1.4a1 1 0 1 1-2 .5ZM13.6 7.4c0-.5.5-1 1-.9l2.8.2a8 8 0 0 0-9.5-1 7.5 7.5 0 0 0-3.6 7 1 1 0 0 1-2 0 9.5 9.5 0 0 1 4.5-8.6 10 10 0 0 1 10.9.3l-.3-1a1 1 0 0 1 2-.5l1.1 4.8a1 1 0 0 1-1 1.2l-5-.4a1 1 0 0 1-.9-1Z"/></g></svg>',"remove-formatting":'<svg width="24" height="24"><path d="M13.2 6a1 1 0 0 1 0 .2l-2.6 10a1 1 0 0 1-1 .8h-.2a.8.8 0 0 1-.8-1l2.6-10H8a1 1 0 1 1 0-2h9a1 1 0 0 1 0 2h-3.8ZM5 18h7a1 1 0 0 1 0 2H5a1 1 0 0 1 0-2Zm13 1.5L16.5 18 15 19.5a.7.7 0 0 1-1-1l1.5-1.5-1.5-1.5a.7.7 0 0 1 1-1l1.5 1.5 1.5-1.5a.7.7 0 0 1 1 1L17.5 17l1.5 1.5a.7.7 0 0 1-1 1Z" fill-rule="evenodd"/></svg>',remove:'<svg width="24" height="24"><path d="M16 7h3a1 1 0 0 1 0 2h-1v9a3 3 0 0 1-3 3H9a3 3 0 0 1-3-3V9H5a1 1 0 1 1 0-2h3V6a3 3 0 0 1 3-3h2a3 3 0 0 1 3 3v1Zm-2 0V6c0-.6-.4-1-1-1h-2a1 1 0 0 0-1 1v1h4Zm2 2H8v9c0 .6.4 1 1 1h6c.6 0 1-.4 1-1V9Zm-7 3a1 1 0 0 1 2 0v4a1 1 0 0 1-2 0v-4Zm4 0a1 1 0 0 1 2 0v4a1 1 0 0 1-2 0v-4Z" fill-rule="nonzero"/></svg>',"resize-handle":'<svg width="10" height="10"><g fill-rule="nonzero"><path d="M8.1 1.1A.5.5 0 1 1 9 2l-7 7A.5.5 0 1 1 1 8l7-7ZM8.1 5.1A.5.5 0 1 1 9 6l-3 3A.5.5 0 1 1 5 8l3-3Z"/></g></svg>',resize:'<svg width="24" height="24"><path d="M4 5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h6c.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7a1 1 0 0 1-.7.3H7.4L18 16.6V13c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7v6c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-6a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3.6L6 7.4V11c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.7-.3A1 1 0 0 1 4 11V5Z" fill-rule="evenodd"/></svg>',"restore-draft":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M17 13c0 .6-.4 1-1 1h-4V8c0-.6.4-1 1-1s1 .4 1 1v4h2c.6 0 1 .4 1 1Z"/><path d="M4.7 10H9a1 1 0 0 1 0 2H3a1 1 0 0 1-1-1V5a1 1 0 1 1 2 0v3l2.5-2.4a9.2 9.2 0 0 1 10.8-1.5A9 9 0 0 1 13.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 1 1 1.3-1.5 7.2 7.2 0 0 0 11.6-3.7 7 7 0 0 0-3.5-7.7A7.2 7.2 0 0 0 8 7L4.7 10Z" fill-rule="nonzero"/></g></svg>',"revision-history":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M17 13c0 .6-.4 1-1 1h-4V8c0-.6.4-1 1-1s1 .4 1 1v4h2c.6 0 1 .4 1 1Z"/><path d="M4.7 10H9a1 1 0 0 1 0 2H3a1 1 0 0 1-1-1V5a1 1 0 1 1 2 0v3l2.5-2.4a9.2 9.2 0 0 1 10.8-1.5A9 9 0 0 1 13.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 1 1 1.3-1.5 7.2 7.2 0 0 0 11.6-3.7 7 7 0 0 0-3.5-7.7A7.2 7.2 0 0 0 8 7L4.7 10Z" fill-rule="nonzero"/></g></svg>',"rotate-left":'<svg width="24" height="24"><path d="M4.7 10H9a1 1 0 0 1 0 2H3a1 1 0 0 1-1-1V5a1 1 0 1 1 2 0v3l2.5-2.4a9.2 9.2 0 0 1 10.8-1.5A9 9 0 0 1 13.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 1 1 1.3-1.5 7.2 7.2 0 0 0 11.6-3.7 7 7 0 0 0-3.5-7.7A7.2 7.2 0 0 0 8 7L4.7 10Z" fill-rule="nonzero"/></svg>',"rotate-right":'<svg width="24" height="24"><path d="M20 8V5a1 1 0 0 1 2 0v6c0 .6-.4 1-1 1h-6a1 1 0 0 1 0-2h4.3L16 7A7.2 7.2 0 0 0 7.7 6a7 7 0 0 0 3 13.1c1.9.1 3.7-.5 5-1.7a1 1 0 0 1 1.4 1.5A9.2 9.2 0 0 1 2.2 14c-.9-3.9 1-8 4.5-9.9 3.5-1.9 8-1.3 10.8 1.5L20 8Z" fill-rule="nonzero"/></svg>',rtl:'<svg width="24" height="24"><path d="M8 5h8v2h-2v12h-2V7h-2v12H8v-7c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 4.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L8 5Zm12 11.2a1 1 0 1 1-1 1.6l-3-2a1 1 0 0 1 0-1.6l3-2a1 1 0 1 1 1 1.6L18.4 15l1.8 1.2Z" fill-rule="evenodd"/></svg>',save:'<svg width="24" height="24"><path d="M5 16h14a2 2 0 0 1 2 2v2a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-2c0-1.1.9-2 2-2Zm0 2v2h14v-2H5Zm10 0h2v2h-2v-2Zm-4-6.4L8.7 9.3a1 1 0 1 0-1.4 1.4l4 4c.4.4 1 .4 1.4 0l4-4a1 1 0 1 0-1.4-1.4L13 11.6V4a1 1 0 0 0-2 0v7.6Z" fill-rule="nonzero"/></svg>',search:'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Z" fill-rule="nonzero"/></svg>',"select-all":'<svg width="24" height="24"><path d="M3 5h2V3a2 2 0 0 0-2 2Zm0 8h2v-2H3v2Zm4 8h2v-2H7v2ZM3 9h2V7H3v2Zm10-6h-2v2h2V3Zm6 0v2h2a2 2 0 0 0-2-2ZM5 21v-2H3c0 1.1.9 2 2 2Zm-2-4h2v-2H3v2ZM9 3H7v2h2V3Zm2 18h2v-2h-2v2Zm8-8h2v-2h-2v2Zm0 8a2 2 0 0 0 2-2h-2v2Zm0-12h2V7h-2v2Zm0 8h2v-2h-2v2Zm-4 4h2v-2h-2v2Zm0-16h2V3h-2v2ZM7 17h10V7H7v10Zm2-8h6v6H9V9Z" fill-rule="nonzero"/></svg>',selected:'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2Zm3.6 10.9L7 12.3a.7.7 0 0 0-1 1L9.6 17 18 8.6a.7.7 0 0 0 0-1 .7.7 0 0 0-1 0l-7.4 7.3Z"/></svg>',send:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="m13.3 22 7-18.3-18.3 7L9 15l4.3 7ZM18 6.8l-.7-.7L9.4 14l.7.7L18 6.8Z"/></svg>',settings:'<svg width="24" height="24"><path d="M11 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V8H5a1 1 0 1 1 0-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.5V6ZM8 8h2V6H8v2Zm9 2.8v.2h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v.3c0 .2 0 .3-.2.5l-.6.2h-2.4c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V13H5a1 1 0 0 1 0-2h8v-.3c0-.2 0-.3.2-.5l.6-.2h2.4c.3 0 .4 0 .6.2l.2.6ZM14 13h2v-2h-2v2Zm-3 2.8v.2h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V18H5a1 1 0 0 1 0-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.6ZM8 18h2v-2H8v2Z" fill-rule="evenodd"/></svg>',sharpen:'<svg width="24" height="24"><path d="m16 6 4 4-8 9-8-9 4-4h8Zm-4 10.2 5.5-6.2-.1-.1H12v-.3h5.1l-.2-.2H12V9h4.6l-.2-.2H12v-.3h4.1l-.2-.2H12V8h3.6l-.2-.2H8.7L6.5 10l.1.1H12v.3H6.9l.2.2H12v.3H7.3l.2.2H12v.3H7.7l.3.2h4v.3H8.2l.2.2H12v.3H8.6l.3.2H12v.3H9l.3.2H12v.3H9.5l.2.2H12v.3h-2l.2.2H12v.3h-1.6l.2.2H12v.3h-1.1l.2.2h.9v.3h-.7l.2.2h.5v.3h-.3l.3.2Z" fill-rule="evenodd"/></svg>',sourcecode:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M9.8 15.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0l-4.4-4.1a.8.8 0 0 1 0-1.2l4.4-4.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L6 12l3.8 3.7ZM14.2 15.7c-.3.3-.3.8 0 1 .4.4.9.4 1.2 0l4.4-4.1c.3-.3.3-.9 0-1.2l-4.4-4.2a.8.8 0 0 0-1.2 0c-.3.3-.3.8 0 1.1L18 12l-3.8 3.7Z"/></g></svg>',"spell-check":'<svg width="24" height="24"><path d="M6 8v3H5V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h2c.3 0 .5.1.7.3.2.2.3.4.3.7v6H8V8H6Zm0-3v2h2V5H6Zm13 0h-3v5h3v1h-3a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3v1Zm-5 1.5-.1.7c-.1.2-.3.3-.6.3.3 0 .5.1.6.3l.1.7V10c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-3V4h3c.3 0 .5.1.7.3.2.2.3.4.3.7v1.5ZM13 10V8h-2v2h2Zm0-3V5h-2v2h2Zm3 5 1 1-6.5 7L7 15.5l1.3-1 2.2 2.2L16 12Z" fill-rule="evenodd"/></svg>',"strike-through":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M15.6 8.5c-.5-.7-1-1.1-1.3-1.3-.6-.4-1.3-.6-2-.6-2.7 0-2.8 1.7-2.8 2.1 0 1.6 1.8 2 3.2 2.3 4.4.9 4.6 2.8 4.6 3.9 0 1.4-.7 4.1-5 4.1A6.2 6.2 0 0 1 7 16.4l1.5-1.1c.4.6 1.6 2 3.7 2 1.6 0 2.5-.4 3-1.2.4-.8.3-2-.8-2.6-.7-.4-1.6-.7-2.9-1-1-.2-3.9-.8-3.9-3.6C7.6 6 10.3 5 12.4 5c2.9 0 4.2 1.6 4.7 2.4l-1.5 1.1Z"/><path d="M5 11h14a1 1 0 0 1 0 2H5a1 1 0 0 1 0-2Z" fill-rule="nonzero"/></g></svg>',subscript:'<svg width="24" height="24"><path d="m10.4 10 4.6 4.6-1.4 1.4L9 11.4 4.4 16 3 14.6 7.6 10 3 5.4 4.4 4 9 8.6 13.6 4 15 5.4 10.4 10ZM21 19h-5v-1l1-.8 1.7-1.6c.3-.4.5-.8.5-1.2 0-.3 0-.6-.2-.7-.2-.2-.5-.3-.9-.3a2 2 0 0 0-.8.2l-.7.3-.4-1.1 1-.6 1.2-.2c.8 0 1.4.3 1.8.7.4.4.6.9.6 1.5s-.2 1.1-.5 1.6a8 8 0 0 1-1.3 1.3l-.6.6h2.6V19Z" fill-rule="nonzero"/></svg>',superscript:'<svg width="24" height="24"><path d="M15 9.4 10.4 14l4.6 4.6-1.4 1.4L9 15.4 4.4 20 3 18.6 7.6 14 3 9.4 4.4 8 9 12.6 13.6 8 15 9.4Zm5.9 1.6h-5v-1l1-.8 1.7-1.6c.3-.5.5-.9.5-1.3 0-.3 0-.5-.2-.7-.2-.2-.5-.3-.9-.3l-.8.2-.7.4-.4-1.2c.2-.2.5-.4 1-.5.3-.2.8-.2 1.2-.2.8 0 1.4.2 1.8.6.4.4.6 1 .6 1.6 0 .5-.2 1-.5 1.5l-1.3 1.4-.6.5h2.6V11Z" fill-rule="nonzero"/></svg>',"table-caption":'<svg width="24" height="24"><g fill-rule="nonzero"><rect width="12" height="2" x="3" y="4" rx="1"/><path d="M19 8a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-8c0-1.1.9-2 2-2h14ZM5 15v3h6v-3H5Zm14 0h-6v3h6v-3Zm0-5h-6v3h6v-3ZM5 13h6v-3H5v3Z"/></g></svg>',"table-cell-classes":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M13 4v9H3V6c0-1.1.9-2 2-2h8Zm-2 2H5v5h6V6Z"/><path fill-rule="nonzero" d="M13 4h6a2 2 0 0 1 2 2v7h-8v-2h6V6h-6V4Z" opacity=".2"/><path d="m18 20-2.6 1.6.7-3-2.4-2 3.1-.2 1.2-2.9 1.2 2.9 3.1.2-2.4 2 .7 3z"/><path fill-rule="nonzero" d="M3 13v5c0 1.1.9 2 2 2h8v-7h-2v5H5v-5H3Z" opacity=".2"/></g></svg>',"table-cell-properties":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9H5v5h6v-5Zm8 0h-6v5h6v-5Zm-8-7H5v5h6V6Z"/></svg>',"table-cell-select-all":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v12h14V6Z"/><path d="M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2Z" opacity=".2"/></g></svg>',"table-cell-select-inner":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v12h14V6Z" opacity=".2"/><path d="M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2Z"/></g></svg>',"table-classes":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v7h-8v7H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9H5v5h6v-5Zm8-7h-6v5h6V6Zm-8 0H5v5h6V6Z"/><path d="m18 20-2.6 1.6.7-3-2.4-2 3.1-.2 1.2-2.9 1.2 2.9 3.1.2-2.4 2 .7 3z"/></g></svg>',"table-delete-column":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-4 4h-2V6h-2v2H9V6H5v12h4v-2h2v2h2v-2h2v2h4V6h-4v2Zm.3.5 1 1.2-3 2.3 3 2.3-1 1.2L12 13l-3.3 2.6-1-1.2 3-2.3-3-2.3 1-1.2L12 11l3.3-2.5Z"/></svg>',"table-delete-row":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v3h2.5v2H5v2h2.5v2H5v3h14v-3h-2.5v-2H19v-2h-2.5V9H19V6Zm-4.7 1.8 1.2 1L13 12l2.6 3.3-1.2 1-2.3-3-2.3 3-1.2-1L11 12 8.5 8.7l1.2-1 2.3 3 2.3-3Z"/></svg>',"table-delete-table":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 6v12h14V6H5Z"/><path d="m14.4 8.6 1.1 1-2.4 2.4 2.4 2.4-1.1 1.1-2.4-2.4-2.4 2.4-1-1.1 2.3-2.4-2.3-2.4 1-1 2.4 2.3z"/></g></svg>',"table-insert-column-after":'<svg width="24" height="24"><path fill-rule="nonzero" d="M20 4c.6 0 1 .4 1 1v2a1 1 0 0 1-2 0V6h-8v12h8v-1a1 1 0 0 1 2 0v2c0 .5-.4 1-.9 1H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h15ZM9 13H5v5h4v-5Zm7-5c.5 0 1 .4 1 .9V11h2a1 1 0 0 1 .1 2H17v2a1 1 0 0 1-2 .1V13h-2a1 1 0 0 1-.1-2H15V9c0-.6.4-1 1-1ZM9 6H5v5h4V6Z"/></svg>',"table-insert-column-before":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H4a1 1 0 0 1-1-1v-2a1 1 0 0 1 2 0v1h8V6H5v1a1 1 0 1 1-2 0V5c0-.6.4-1 1-1h15Zm0 9h-4v5h4v-5ZM8 8c.5 0 1 .4 1 .9V11h2a1 1 0 0 1 .1 2H9v2a1 1 0 0 1-2 .1V13H5a1 1 0 0 1-.1-2H7V9c0-.6.4-1 1-1Zm11-2h-4v5h4V6Z"/></svg>',"table-insert-row-above":'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4a1 1 0 1 1 0 2H5v6h14V6h-1a1 1 0 0 1 0-2h2c.6 0 1 .4 1 1v13a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5c0-.6.4-1 1-1h2Zm5 10H5v4h6v-4Zm8 0h-6v4h6v-4ZM12 3c.5 0 1 .4 1 .9V6h2a1 1 0 0 1 0 2h-2v2a1 1 0 0 1-2 .1V8H9a1 1 0 0 1 0-2h2V4c0-.6.4-1 1-1Z"/></svg>',"table-insert-row-after":'<svg width="24" height="24"><path fill-rule="nonzero" d="M12 13c.5 0 1 .4 1 .9V16h2a1 1 0 0 1 .1 2H13v2a1 1 0 0 1-2 .1V18H9a1 1 0 0 1-.1-2H11v-2c0-.6.4-1 1-1Zm6 7a1 1 0 0 1 0-2h1v-6H5v6h1a1 1 0 0 1 0 2H4a1 1 0 0 1-1-1V6c0-1.1.9-2 2-2h14a2 2 0 0 1 2 2v13c0 .5-.4 1-.9 1H18ZM11 6H5v4h6V6Zm8 0h-6v4h6V6Z"/></svg>',"table-left-header":'<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 9h-4v5h4v-5Zm-6 0H9v5h4v-5Zm0-7H9v5h4V6Zm6 0h-4v5h4V6Z"/></svg>',"table-merge-cells":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 15.5V18h3v-2.5H5Zm14-5h-9V18h9v-7.5ZM19 6h-4v2.5h4V6ZM8 6H5v2.5h3V6Zm5 0h-3v2.5h3V6Zm-8 7.5h3v-3H5v3Z"/></svg>',"table-row-numbering-rtl":'<svg width="24" height="24"><path d="M6 4a2 2 0 0 0-2 2v13c0 1.1.9 2 2 2h12a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2H6Zm0 12h8v3H6v-3Zm11 0c.6 0 1 .4 1 1v1a1 1 0 0 1-2 0v-1c0-.6.4-1 1-1ZM6 11h8v3H6v-3Zm11 0c.6 0 1 .4 1 1v1a1 1 0 0 1-2 0v-1c0-.6.4-1 1-1ZM6 6h8v3H6V6Zm11 0c.6 0 1 .4 1 1v1a1 1 0 1 1-2 0V7c0-.6.4-1 1-1Z"/></svg>',"table-row-numbering":'<svg width="24" height="24"><path d="M18 4a2 2 0 0 1 2 2v13a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h12Zm0 12h-8v3h8v-3ZM7 16a1 1 0 0 0-1 1v1a1 1 0 0 0 2 0v-1c0-.6-.4-1-1-1Zm11-5h-8v3h8v-3ZM7 11a1 1 0 0 0-1 1v1a1 1 0 0 0 2 0v-1c0-.6-.4-1-1-1Zm11-5h-8v3h8V6ZM7 6a1 1 0 0 0-1 1v1a1 1 0 1 0 2 0V7c0-.6-.4-1-1-1Z"/></svg>',"table-row-properties":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 15v3h6v-3H5Zm14 0h-6v3h6v-3Zm0-9h-6v3h6V6ZM5 9h6V6H5v3Z"/></svg>',"table-split-cells":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM8 15.5H5V18h3v-2.5Zm11-5h-9V18h9v-7.5Zm-2.5 1 1 1-2 2 2 2-1 1-2-2-2 2-1-1 2-2-2-2 1-1 2 2 2-2Zm-8.5-1H5v3h3v-3ZM19 6h-4v2.5h4V6ZM8 6H5v2.5h3V6Zm5 0h-3v2.5h3V6Z"/></svg>',"table-top-header":'<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 11H5v3h6v-3Zm8 0h-6v3h6v-3Zm0-5h-6v3h6v-3ZM5 13h6v-3H5v3Z"/></svg>',table:'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 14v4h6v-4H5Zm14 0h-6v4h6v-4Zm0-6h-6v4h6V8ZM5 12h6V8H5v4Z"/></svg>',"template-add":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M9 12v4H5a2 2 0 0 0-2 2v3h9.3a6 6 0 0 1-.3-2H5v-1h7a6 6 0 0 1 .8-2H11v-5l-.8-.6a3 3 0 1 1 3.6 0l-.8.6v4.7a6 6 0 0 1 2-1.9V12a5 5 0 1 0-6 0Z"/><path d="M18 15c.5 0 1 .4 1 .9V18h2a1 1 0 0 1 .1 2H19v2a1 1 0 0 1-2 .1V20h-2a1 1 0 0 1-.1-2H17v-2c0-.6.4-1 1-1Z"/></svg>',template:'<svg width="24" height="24"><path d="M19 19v-1H5v1h14ZM9 16v-4a5 5 0 1 1 6 0v4h4a2 2 0 0 1 2 2v3H3v-3c0-1.1.9-2 2-2h4Zm4 0v-5l.8-.6a3 3 0 1 0-3.6 0l.8.6v5h2Z" fill-rule="nonzero"/></svg>',"temporary-placeholder":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M9 7.6V6h2.5V4.5a.5.5 0 1 1 1 0V6H15v1.6a8 8 0 1 1-6 0Zm-2.6 5.3a.5.5 0 0 0 .3.6c.3 0 .6 0 .6-.3l.1-.2a5 5 0 0 1 3.3-2.8c.3-.1.4-.4.4-.6-.1-.3-.4-.5-.6-.4a6 6 0 0 0-4.1 3.7Z"/><circle cx="14" cy="4" r="1"/><circle cx="12" cy="2" r="1"/><circle cx="10" cy="4" r="1"/></g></svg>',"text-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path class="tox-icon-text-color__color" d="M3 18h18v3H3z"/><path d="M8.7 16h-.8a.5.5 0 0 1-.5-.6l2.7-9c.1-.3.3-.4.5-.4h2.8c.2 0 .4.1.5.4l2.7 9a.5.5 0 0 1-.5.6h-.8a.5.5 0 0 1-.4-.4l-.7-2.2c0-.3-.3-.4-.5-.4h-3.4c-.2 0-.4.1-.5.4l-.7 2.2c0 .3-.2.4-.4.4Zm2.6-7.6-.6 2a.5.5 0 0 0 .5.6h1.6a.5.5 0 0 0 .5-.6l-.6-2c0-.3-.3-.4-.5-.4h-.4c-.2 0-.4.1-.5.4Z"/></g></svg>',"text-size-decrease":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M14 5a1 1 0 1 1 0 2h-4v11a1 1 0 1 1-2 0V7H4a1 1 0 0 1 0-2h10ZM14 12a1 1 0 1 0 0 2h6a1 1 0 1 0 0-2h-6Z"/></svg>',"text-size-increase":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M14 5a1 1 0 1 1 0 2h-4v11a1 1 0 1 1-2 0V7H4a1 1 0 0 1 0-2h10ZM17 9a1 1 0 0 0-1 1v2h-2a1 1 0 1 0 0 2h2v2a1 1 0 1 0 2 0v-2h2a1 1 0 1 0 0-2h-2v-2c0-.6-.4-1-1-1Z"/></svg>',toc:'<svg width="24" height="24"><path d="M5 5c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 1 1 0-2Zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 1 1 0-2Zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm0-4c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 1 1 0-2Zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',translate:'<svg width="24" height="24"><path d="m12.7 14.3-.3.7-.4.7-2.2-2.2-3.1 3c-.3.4-.8.4-1 0a.7.7 0 0 1 0-1l3.1-3A12.4 12.4 0 0 1 6.7 9H8a10.1 10.1 0 0 0 1.7 2.4c.5-.5 1-1.1 1.4-1.8l.9-2H4.7a.7.7 0 1 1 0-1.5h4.4v-.7c0-.4.3-.8.7-.8.4 0 .7.4.7.8v.7H15c.4 0 .8.3.8.7 0 .4-.4.8-.8.8h-1.4a12.3 12.3 0 0 1-1 2.4 13.5 13.5 0 0 1-1.7 2.3l1.9 1.8Zm4.3-3 2.7 7.3a.5.5 0 0 1-.4.7 1 1 0 0 1-1-.7l-.6-1.5h-3.4l-.6 1.5a1 1 0 0 1-1 .7.5.5 0 0 1-.4-.7l2.7-7.4a1 1 0 0 1 2 0Zm-2.2 4.4h2.4L16 12.5l-1.2 3.2Z" fill-rule="evenodd"/></svg>',typography:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M17 5a1 1 0 1 1 0 2h-4v11a1 1 0 1 1-2 0V7H7a1 1 0 0 1 0-2h10Z"/><path d="m17.5 14 .8-1.7 1.7-.8-1.7-.8-.8-1.7-.8 1.7-1.7.8 1.7.8.8 1.7ZM7 14l1 2 2 1-2 1-1 2-1-2-2-1 2-1 1-2Z"/></svg>',underline:'<svg width="24" height="24"><path d="M16 5c.6 0 1 .4 1 1v5.5a4 4 0 0 1-.4 1.8l-1 1.4a5.3 5.3 0 0 1-5.5 1 5 5 0 0 1-1.6-1c-.5-.4-.8-.9-1.1-1.4a4 4 0 0 1-.4-1.8V6c0-.6.4-1 1-1s1 .4 1 1v5.5c0 .3 0 .6.2 1l.6.7a3.3 3.3 0 0 0 2.2.8 3.4 3.4 0 0 0 2.2-.8c.3-.2.4-.5.6-.8l.2-.9V6c0-.6.4-1 1-1ZM8 17h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',undo:'<svg width="24" height="24"><path d="M6.4 8H12c3.7 0 6.2 2 6.8 5.1.6 2.7-.4 5.6-2.3 6.8a1 1 0 0 1-1-1.8c1.1-.6 1.8-2.7 1.4-4.6-.5-2.1-2.1-3.5-4.9-3.5H6.4l3.3 3.3a1 1 0 1 1-1.4 1.4l-5-5a1 1 0 0 1 0-1.4l5-5a1 1 0 0 1 1.4 1.4L6.4 8Z" fill-rule="nonzero"/></svg>',unlink:'<svg width="24" height="24"><path d="M6.2 12.3a1 1 0 0 1 1.4 1.4l-2 2a2 2 0 1 0 2.6 2.8l4.8-4.8a1 1 0 0 0 0-1.4 1 1 0 1 1 1.4-1.3 2.9 2.9 0 0 1 0 4L9.6 20a3.9 3.9 0 0 1-5.5-5.5l2-2Zm11.6-.6a1 1 0 0 1-1.4-1.4l2.1-2a2 2 0 1 0-2.7-2.8L11 10.3a1 1 0 0 0 0 1.4A1 1 0 1 1 9.6 13a2.9 2.9 0 0 1 0-4L14.4 4a3.9 3.9 0 0 1 5.5 5.5l-2 2ZM7.6 6.3a.8.8 0 0 1-1 1.1L3.3 4.2a.7.7 0 1 1 1-1l3.2 3.1ZM5.1 8.6a.8.8 0 0 1 0 1.5H3a.8.8 0 0 1 0-1.5H5Zm5-3.5a.8.8 0 0 1-1.5 0V3a.8.8 0 0 1 1.5 0V5Zm6 11.8a.8.8 0 0 1 1-1l3.2 3.2a.8.8 0 0 1-1 1L16 17Zm-2.2 2a.8.8 0 0 1 1.5 0V21a.8.8 0 0 1-1.5 0V19Zm5-3.5a.7.7 0 1 1 0-1.5H21a.8.8 0 0 1 0 1.5H19Z" fill-rule="nonzero"/></svg>',unlock:'<svg width="24" height="24"><path d="M16 5c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h-2V8a1 1 0 0 0-.3-.7A1 1 0 0 0 16 7h-2a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7v3h.3c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H4.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H11V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2Z" fill-rule="evenodd"/></svg>',"unordered-list":'<svg width="24" height="24"><path d="M11 5h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2ZM4.5 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Z" fill-rule="evenodd"/></svg>',unselected:'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2Zm0 1a1 1 0 0 0-1 1v12c0 .6.4 1 1 1h12c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H6Z"/></svg>',upload:'<svg width="24" height="24"><path d="M18 19v-2a1 1 0 0 1 2 0v3c0 .6-.4 1-1 1H5a1 1 0 0 1-1-1v-3a1 1 0 0 1 2 0v2h12ZM11 6.4 8.7 8.7a1 1 0 0 1-1.4-1.4l4-4a1 1 0 0 1 1.4 0l4 4a1 1 0 1 1-1.4 1.4L13 6.4V16a1 1 0 0 1-2 0V6.4Z" fill-rule="nonzero"/></svg>',user:'<svg width="24" height="24"><path d="M12 24a12 12 0 1 1 0-24 12 12 0 0 1 0 24Zm-8.7-5.3a11 11 0 0 0 17.4 0C19.4 16.3 14.6 15 12 15c-2.6 0-7.4 1.3-8.7 3.7ZM12 13c2.2 0 4-2 4-4.5S14.2 4 12 4 8 6 8 8.5 9.8 13 12 13Z" fill-rule="nonzero"/></svg>',"vertical-align":'<svg width="24" height="24"><g fill-rule="nonzero"><rect width="18" height="2" x="3" y="11" rx="1"/><path d="M12 2c.6 0 1 .4 1 1v4l2-1.3a1 1 0 0 1 1.2 1.5l-.1.1-4.1 3-4-3a1 1 0 0 1 1-1.7l2 1.5V3c0-.6.4-1 1-1zm0 11.8 4 2.9a1 1 0 0 1-1 1.7l-2-1.5V21c0 .5-.4 1-.9 1H12a1 1 0 0 1-1-1v-4l-2 1.3a1 1 0 0 1-1.2-.1l-.1-.1a1 1 0 0 1 .1-1.3l.1-.1 4.1-3z"/></g></svg>',visualblocks:'<svg width="24" height="24"><path d="M9 19v2H7v-2h2Zm-4 0v2a2 2 0 0 1-2-2h2Zm8 0v2h-2v-2h2Zm8 0a2 2 0 0 1-2 2v-2h2Zm-4 0v2h-2v-2h2ZM15 7a1 1 0 0 1 0 2v7a1 1 0 0 1-2 0V9h-1v7a1 1 0 0 1-2 0v-4a2.5 2.5 0 0 1-.2-5H15ZM5 15v2H3v-2h2Zm16 0v2h-2v-2h2ZM5 11v2H3v-2h2Zm16 0v2h-2v-2h2ZM5 7v2H3V7h2Zm16 0v2h-2V7h2ZM5 3v2H3c0-1.1.9-2 2-2Zm8 0v2h-2V3h2Zm6 0a2 2 0 0 1 2 2h-2V3ZM9 3v2H7V3h2Zm8 0v2h-2V3h2Z" fill-rule="evenodd"/></svg>',visualchars:'<svg width="24" height="24"><path d="M10 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 6.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L10 5Z" fill-rule="evenodd"/></svg>',warning:'<svg width="24" height="24"><path d="M19.8 18.3c.2.5.3.9 0 1.2-.1.3-.5.5-1 .5H5.2c-.5 0-.9-.2-1-.5-.3-.3-.2-.7 0-1.2L11 4.7l.5-.5.5-.2c.2 0 .3 0 .5.2.2 0 .3.3.5.5l6.8 13.6ZM12 18c.3 0 .5-.1.7-.3.2-.2.3-.4.3-.7a1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3 1 1 0 0 0-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3Zm.7-3 .3-4a1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3 1 1 0 0 0-.3.7l.3 4h1.4Z" fill-rule="evenodd"/></svg>',"zoom-in":'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Zm-1-9a1 1 0 0 1 2 0v6a1 1 0 0 1-2 0V8Zm-2 4a1 1 0 0 1 0-2h6a1 1 0 0 1 0 2H8Z" fill-rule="nonzero"/></svg>',"zoom-out":'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Zm-3-5a1 1 0 0 1 0-2h6a1 1 0 0 1 0 2H8Z" fill-rule="nonzero"/></svg>'}});(function(){const n=Object.getPrototypeOf,r=(s,i,u)=>{var f;return!!u(s,i.prototype)||((f=s.constructor)===null||f===void 0?void 0:f.name)===i.name},l=s=>i=>(u=>{const f=typeof u;return u===null?"null":f==="object"&&Array.isArray(u)?"array":f==="object"&&r(u,String,(b,v)=>v.isPrototypeOf(b))?"string":f})(i)===s,d=s=>i=>typeof i===s,h=s=>i=>s===i,g=l("string"),y=l("object"),w=s=>((i,u)=>y(i)&&r(i,u,(f,b)=>n(f)===b))(s,Object),A=l("array"),R=h(null),O=d("boolean"),N=h(void 0),V=s=>s==null,z=s=>!V(s),W=d("function"),X=d("number"),oe=(s,i)=>{if(A(s)){for(let u=0,f=s.length;u<f;++u)if(!i(s[u]))return!1;return!0}return!1},j=()=>{},fe=s=>()=>s(),le=(s,i)=>(...u)=>s(i.apply(null,u)),q=s=>()=>s,de=s=>s,ne=(s,i)=>s===i;function be(s,...i){return(...u)=>{const f=i.concat(u);return s.apply(null,f)}}const Fe=s=>i=>!s(i),Ze=s=>()=>{throw new Error(s)},rt=s=>s(),Oe=q(!1),Ve=q(!0);class P{constructor(i,u){this.tag=i,this.value=u}static some(i){return new P(!0,i)}static none(){return P.singletonNone}fold(i,u){return this.tag?u(this.value):i()}isSome(){return this.tag}isNone(){return!this.tag}map(i){return this.tag?P.some(i(this.value)):P.none()}bind(i){return this.tag?i(this.value):P.none()}exists(i){return this.tag&&i(this.value)}forall(i){return!this.tag||i(this.value)}filter(i){return!this.tag||i(this.value)?this:P.none()}getOr(i){return this.tag?this.value:i}or(i){return this.tag?this:i}getOrThunk(i){return this.tag?this.value:i()}orThunk(i){return this.tag?this:i()}getOrDie(i){if(this.tag)return this.value;throw new Error(i??"Called getOrDie on None")}static from(i){return z(i)?P.some(i):P.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(i){this.tag&&i(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}P.singletonNone=new P(!1);const wt=Array.prototype.slice,Nt=Array.prototype.indexOf,Kt=Array.prototype.push,rn=(s,i)=>Nt.call(s,i),ct=(s,i)=>rn(s,i)>-1,Tn=(s,i)=>{for(let u=0,f=s.length;u<f;u++)if(i(s[u],u))return!0;return!1},Tt=(s,i)=>{const u=[];for(let f=0;f<s;f++)u.push(i(f));return u},ot=(s,i)=>{const u=[];for(let f=0;f<s.length;f+=i){const b=wt.call(s,f,f+i);u.push(b)}return u},$e=(s,i)=>{const u=s.length,f=new Array(u);for(let b=0;b<u;b++){const v=s[b];f[b]=i(v,b)}return f},ht=(s,i)=>{for(let u=0,f=s.length;u<f;u++)i(s[u],u)},Dn=(s,i)=>{const u=[],f=[];for(let b=0,v=s.length;b<v;b++){const C=s[b];(i(C,b)?u:f).push(C)}return{pass:u,fail:f}},mn=(s,i)=>{const u=[];for(let f=0,b=s.length;f<b;f++){const v=s[f];i(v,f)&&u.push(v)}return u},Fn=(s,i,u)=>(((f,b)=>{for(let v=f.length-1;v>=0;v--)b(f[v],v)})(s,(f,b)=>{u=i(u,f,b)}),u),Gt=(s,i,u)=>(ht(s,(f,b)=>{u=i(u,f,b)}),u),te=(s,i)=>((u,f,b)=>{for(let v=0,C=u.length;v<C;v++){const k=u[v];if(f(k,v))return P.some(k);if(b(k,v))break}return P.none()})(s,i,Oe),So=(s,i)=>{for(let u=0,f=s.length;u<f;u++)if(i(s[u],u))return P.some(u);return P.none()},tn=s=>{const i=[];for(let u=0,f=s.length;u<f;++u){if(!A(s[u]))throw new Error("Arr.flatten item "+u+" was not an array, input: "+s);Kt.apply(i,s[u])}return i},Cn=(s,i)=>tn($e(s,i)),qe=(s,i)=>{for(let u=0,f=s.length;u<f;++u)if(i(s[u],u)!==!0)return!1;return!0},st=s=>{const i=wt.call(s,0);return i.reverse(),i},xe=(s,i)=>mn(s,u=>!ct(i,u)),Re=(s,i)=>{const u={};for(let f=0,b=s.length;f<b;f++){const v=s[f];u[String(v)]=i(v,f)}return u},Ue=s=>[s],ye=(s,i)=>{const u=wt.call(s,0);return u.sort(i),u},_e=(s,i)=>i>=0&&i<s.length?P.some(s[i]):P.none(),Be=s=>_e(s,0),Ye=s=>_e(s,s.length-1),pt=W(Array.from)?Array.from:s=>wt.call(s),fn=(s,i)=>{for(let u=0;u<s.length;u++){const f=i(s[u],u);if(f.isSome())return f}return P.none()},qt=Object.keys,Nn=Object.hasOwnProperty,no=(s,i)=>{const u=qt(s);for(let f=0,b=u.length;f<b;f++){const v=u[f];i(s[v],v)}},so=(s,i)=>Wo(s,(u,f)=>({k:f,v:i(u,f)})),Wo=(s,i)=>{const u={};return no(s,(f,b)=>{const v=i(f,b);u[v.k]=v.v}),u},Po=s=>(i,u)=>{s[u]=i},or=(s,i,u,f)=>{no(s,(b,v)=>{(i(b,v)?u:f)(b,v)})},ps=(s,i)=>{const u={};return or(s,i,Po(u),j),u},Qr=(s,i)=>{const u=[];return no(s,(f,b)=>{u.push(i(f,b))}),u},ms=(s,i)=>{const u=qt(s);for(let f=0,b=u.length;f<b;f++){const v=u[f],C=s[v];if(i(C,v,s))return P.some(C)}return P.none()},Qa=s=>Qr(s,de),on=(s,i)=>ro(s,i)?P.from(s[i]):P.none(),ro=(s,i)=>Nn.call(s,i),Do=(s,i)=>ro(s,i)&&s[i]!==void 0&&s[i]!==null,ia=(s,i,u=ne)=>s.exists(f=>u(f,i)),tl=s=>{const i=[],u=f=>{i.push(f)};for(let f=0;f<s.length;f++)s[f].each(u);return i},Yt=(s,i,u)=>s.isSome()&&i.isSome()?P.some(u(s.getOrDie(),i.getOrDie())):P.none(),ba=(s,i)=>s!=null?P.some(i(s)):P.none(),Vo=(s,i)=>s?P.some(i):P.none(),Bl=(s,i,u)=>i===""||s.length>=i.length&&s.substr(u,u+i.length)===i,Vs=(s,i)=>vc(s,i)?((u,f)=>u.substring(f))(s,i.length):s,ea=(s,i,u=0,f)=>{const b=s.indexOf(i,u);return b!==-1&&(!!N(f)||b+i.length<=f)},vc=(s,i)=>Bl(s,i,0),yc=(s,i)=>Bl(s,i,s.length-i.length),xc=(Ju=/^\s+|\s+$/g,s=>s.replace(Ju,"")),pl=s=>s.length>0,wc=s=>!pl(s),Hs=s=>s.style!==void 0&&W(s.style.getPropertyValue),ho=s=>{if(s==null)throw new Error("Node cannot be null or undefined");return{dom:s}},nl=(s,i)=>{const u=document.createElement("div");if(u.innerHTML=s,!u.hasChildNodes()||u.childNodes.length>1){const f="HTML does not have a single root node";throw console.error(f,s),new Error(f)}return ho(u.childNodes[0])},Ma=(s,i)=>{const u=document.createElement(s);return ho(u)},vu=(s,i)=>{const u=document.createTextNode(s);return ho(u)},xn=ho,Yl=typeof window<"u"?window:Function("return this;")(),Of=(s,i)=>((u,f)=>{let b=f??Yl;for(let v=0;v<u.length&&b!=null;++v)b=b[u[v]];return b})(s.split("."),i),wr=Object.getPrototypeOf,Rf=s=>{const i=Of("ownerDocument.defaultView",s);return y(s)&&((u=>((f,b)=>{const v=((C,k)=>Of(C,k))(f,b);if(v==null)throw new Error(f+" not available on this browser");return v})("HTMLElement",u))(i).prototype.isPrototypeOf(s)||/^HTML\w*Element$/.test(wr(s).constructor.name))},ol=s=>s.dom.nodeName.toLowerCase(),Ml=s=>i=>(u=>u.dom.nodeType)(i)===s,bl=s=>ar(s)&&Rf(s.dom),ar=Ml(1),ei=Ml(3),sl=Ml(9),Df=Ml(11),Wc=s=>i=>ar(i)&&ol(i)===s,vl=(s,i)=>{const u=s.dom;if(u.nodeType!==1)return!1;{const f=u;if(f.matches!==void 0)return f.matches(i);if(f.msMatchesSelector!==void 0)return f.msMatchesSelector(i);if(f.webkitMatchesSelector!==void 0)return f.webkitMatchesSelector(i);if(f.mozMatchesSelector!==void 0)return f.mozMatchesSelector(i);throw new Error("Browser lacks native selectors")}},Od=s=>s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11||s.childElementCount===0,yu=(s,i)=>{const u=i===void 0?document:i.dom;return Od(u)?P.none():P.from(u.querySelector(s)).map(xn)},os=(s,i)=>s.dom===i.dom,$r=(s,i)=>{const u=s.dom,f=i.dom;return u!==f&&u.contains(f)},la=s=>xn(s.dom.ownerDocument),Nf=s=>sl(s)?s:la(s),rl=s=>xn(Nf(s).dom.documentElement),jc=s=>xn(Nf(s).dom.defaultView),Ea=s=>P.from(s.dom.parentNode).map(xn),pi=s=>P.from(s.dom.parentElement).map(xn),bi=s=>P.from(s.dom.offsetParent).map(xn),Ns=s=>$e(s.dom.childNodes,xn),hr=(s,i)=>{const u=s.dom.childNodes;return P.from(u[i]).map(xn)},Pe=s=>hr(s,0),ut=(s,i)=>({element:s,offset:i}),We=(s,i)=>{const u=Ns(s);return u.length>0&&i<u.length?ut(u[i],0):ut(s,i)},yt=s=>Df(s)&&z(s.dom.host),bt=s=>xn(s.dom.getRootNode()),it=s=>yt(s)?s:xn(Nf(s).dom.body),Qt=s=>{const i=bt(s);return yt(i)?P.some(i):P.none()},gn=s=>xn(s.dom.host),yn=s=>{const i=ei(s)?s.dom.parentNode:s.dom;if(i==null||i.ownerDocument===null)return!1;const u=i.ownerDocument;return Qt(xn(i)).fold(()=>u.body.contains(i),(f=yn,b=gn,v=>f(b(v))));var f,b},_n=()=>wn(xn(document)),wn=s=>{const i=s.dom.body;if(i==null)throw new Error("Body is not available yet");return xn(i)},_o=(s,i,u)=>{if(!(g(u)||O(u)||X(u)))throw console.error("Invalid call to Attribute.set. Key ",i,":: Value ",u,":: Element ",s),new Error("Attribute value was not simple");s.setAttribute(i,u+"")},bn=(s,i,u)=>{_o(s.dom,i,u)},Fs=(s,i)=>{const u=s.dom;no(i,(f,b)=>{_o(u,b,f)})},Ko=(s,i)=>{const u=s.dom.getAttribute(i);return u===null?void 0:u},is=(s,i)=>P.from(Ko(s,i)),Vr=(s,i)=>{const u=s.dom;return!(!u||!u.hasAttribute)&&u.hasAttribute(i)},Bo=(s,i)=>{s.dom.removeAttribute(i)},Xl=(s,i,u)=>{if(!g(u))throw console.error("Invalid call to CSS.set. Property ",i,":: Value ",u,":: Element ",s),new Error("CSS value must be a string: "+u);Hs(s)&&s.style.setProperty(i,u)},vi=(s,i)=>{Hs(s)&&s.style.removeProperty(i)},po=(s,i,u)=>{const f=s.dom;Xl(f,i,u)},yl=(s,i)=>{const u=s.dom;no(i,(f,b)=>{Xl(u,b,f)})},xl=(s,i)=>{const u=s.dom;no(i,(f,b)=>{f.fold(()=>{vi(u,b)},v=>{Xl(u,b,v)})})},Sr=(s,i)=>{const u=s.dom,f=window.getComputedStyle(u).getPropertyValue(i);return f!==""||yn(s)?f:Rd(u,i)},Rd=(s,i)=>Hs(s)?s.style.getPropertyValue(i):"",jr=(s,i)=>{const u=s.dom,f=Rd(u,i);return P.from(f).filter(b=>b.length>0)},If=s=>{const i={},u=s.dom;if(Hs(u))for(let f=0;f<u.style.length;f++){const b=u.style.item(f);i[b]=u.style[b]}return i},wl=(s,i,u)=>{const f=Ma(s);return po(f,i,u),jr(f,i).isSome()},Is=(s,i)=>{const u=s.dom;vi(u,i),ia(is(s,"style").map(xc),"")&&Bo(s,"style")},Yu=s=>s.dom.offsetWidth,Cm=(s,i)=>{const u=b=>{const v=i(b);if(v<=0||v===null){const C=Sr(b,s);return parseFloat(C)||0}return v},f=(b,v)=>Gt(v,(C,k)=>{const E=Sr(b,k),B=E===void 0?0:parseInt(E,10);return isNaN(B)?C:C+B},0);return{set:(b,v)=>{if(!X(v)&&!v.match(/^[0-9]+$/))throw new Error(s+".set accepts only positive integer values. Value was "+v);const C=b.dom;Hs(C)&&(C.style[s]=v+"px")},get:u,getOuter:u,aggregate:f,max:(b,v,C)=>{const k=f(b,C);return v>k?v-k:0}}},Sm=Cm("height",s=>{const i=s.dom;return yn(s)?i.getBoundingClientRect().height:i.offsetHeight}),_r=s=>Sm.get(s),al=s=>Sm.getOuter(s),Cl=(s,i)=>({left:s,top:i,translate:(u,f)=>Cl(s+u,i+f)}),Qs=Cl,Dd=(s,i)=>s!==void 0?s:i!==void 0?i:0,Sl=s=>{const i=s.dom.ownerDocument,u=i.body,f=i.defaultView,b=i.documentElement;if(u===s.dom)return Qs(u.offsetLeft,u.offsetTop);const v=Dd(f==null?void 0:f.pageYOffset,b.scrollTop),C=Dd(f==null?void 0:f.pageXOffset,b.scrollLeft),k=Dd(b.clientTop,u.clientTop),E=Dd(b.clientLeft,u.clientLeft);return ti(s).translate(C-E,v-k)},ti=s=>{const i=s.dom,u=i.ownerDocument.body;return u===i?Qs(u.offsetLeft,u.offsetTop):yn(s)?(f=>{const b=f.getBoundingClientRect();return Qs(b.left,b.top)})(i):Qs(0,0)},_m=Cm("width",s=>s.dom.offsetWidth),La=s=>_m.get(s),Bi=s=>_m.getOuter(s),ni=s=>{let i,u=!1;return(...f)=>(u||(u=!0,i=s.apply(null,f)),i)},il=()=>vg(0,0),vg=(s,i)=>({major:s,minor:i}),qo={nu:vg,detect:(s,i)=>{const u=String(i).toLowerCase();return s.length===0?il():((f,b)=>{const v=((k,E)=>{for(let B=0;B<k.length;B++){const $=k[B];if($.test(E))return $}})(f,b);if(!v)return{major:0,minor:0};const C=k=>Number(b.replace(v,"$"+k));return vg(C(1),C(2))})(s,u)},unknown:il},Zc=(s,i)=>{const u=String(i).toLowerCase();return te(s,f=>f.search(u))},Xu=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,xu=s=>i=>ea(i,s),Rh=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:s=>ea(s,"edge/")&&ea(s,"chrome")&&ea(s,"safari")&&ea(s,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,Xu],search:s=>ea(s,"chrome")&&!ea(s,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:s=>ea(s,"msie")||ea(s,"trident")},{name:"Opera",versionRegexes:[Xu,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:xu("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:xu("firefox")},{name:"Safari",versionRegexes:[Xu,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:s=>(ea(s,"safari")||ea(s,"mobile/"))&&ea(s,"applewebkit")}],lv=[{name:"Windows",search:xu("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:s=>ea(s,"iphone")||ea(s,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:xu("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:xu("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:xu("linux"),versionRegexes:[]},{name:"Solaris",search:xu("sunos"),versionRegexes:[]},{name:"FreeBSD",search:xu("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:xu("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],Ll={browsers:q(Rh),oses:q(lv)},Dh="Edge",cv="Chromium",yg="Opera",jp="Firefox",an="Safari",Nd=s=>{const i=s.current,u=s.version,f=b=>()=>i===b;return{current:i,version:u,isEdge:f(Dh),isChromium:f(cv),isIE:f("IE"),isOpera:f(yg),isFirefox:f(jp),isSafari:f(an)}},Id=()=>Nd({current:void 0,version:qo.unknown()}),xg=Nd,oi="Windows",Pd="Android",Pf="Linux",uv="macOS",Zp="Solaris",Kp="FreeBSD",m1="ChromeOS",dv=s=>{const i=s.current,u=s.version,f=b=>()=>i===b;return{current:i,version:u,isWindows:f(oi),isiOS:f("iOS"),isAndroid:f(Pd),isMacOS:f(uv),isLinux:f(Pf),isSolaris:f(Zp),isFreeBSD:f(Kp),isChromeOS:f(m1)}},g1=()=>dv({current:void 0,version:qo.unknown()}),wg=dv,Kc=s=>window.matchMedia(s).matches;var Ju;let qc=ni(()=>((s,i,u)=>{const f=Ll.browsers(),b=Ll.oses(),v=i.bind(E=>((B,$)=>fn($.brands,L=>{const Z=L.brand.toLowerCase();return te(B,Q=>{var se;return Z===((se=Q.brand)===null||se===void 0?void 0:se.toLowerCase())}).map(Q=>({current:Q.name,version:qo.nu(parseInt(L.version,10),0)}))}))(f,E)).orThunk(()=>((E,B)=>Zc(E,B).map($=>{const L=qo.detect($.versionRegexes,B);return{current:$.name,version:L}}))(f,s)).fold(Id,xg),C=((E,B)=>Zc(E,B).map($=>{const L=qo.detect($.versionRegexes,B);return{current:$.name,version:L}}))(b,s).fold(g1,wg),k=((E,B,$,L)=>{const Z=E.isiOS()&&/ipad/i.test($)===!0,Q=E.isiOS()&&!Z,se=E.isiOS()||E.isAndroid(),me=se||L("(pointer:coarse)"),pe=Z||!Q&&se&&L("(min-device-width:768px)"),Ee=Q||se&&!pe,he=B.isSafari()&&E.isiOS()&&/safari/i.test($)===!1,ge=!Ee&&!pe&&!he;return{isiPad:q(Z),isiPhone:q(Q),isTablet:q(pe),isPhone:q(Ee),isTouch:q(me),isAndroid:E.isAndroid,isiOS:E.isiOS,isWebView:q(he),isDesktop:q(ge)}})(C,v,s,u);return{browser:v,os:C,deviceType:k}})(window.navigator.userAgent,P.from(window.navigator.userAgentData),Kc));const Fa=()=>qc(),_l=s=>{const i=xn((v=>{if(z(v.target)){const C=xn(v.target);if(ar(C)&&(k=>z(k.dom.shadowRoot))(C)&&v.composed&&v.composedPath){const k=v.composedPath();if(k)return Be(k)}}return P.from(v.target)})(s).getOr(s.target)),u=()=>s.stopPropagation(),f=()=>s.preventDefault(),b=le(f,u);return((v,C,k,E,B,$,L)=>({target:v,x:C,y:k,stop:E,prevent:B,kill:$,raw:L}))(i,s.clientX,s.clientY,u,f,b,s)},Bd=(s,i,u,f,b)=>{const v=((C,k)=>E=>{C(E)&&k(_l(E))})(u,f);return s.dom.addEventListener(i,v,b),{unbind:be(ls,s,i,v,b)}},ls=(s,i,u,f)=>{s.dom.removeEventListener(i,u,f)},Cc=(s,i)=>{Ea(s).each(u=>{u.dom.insertBefore(i.dom,s.dom)})},km=(s,i)=>{(f=>P.from(f.dom.nextSibling).map(xn))(s).fold(()=>{Ea(s).each(f=>{ll(f,i)})},f=>{Cc(f,i)})},Em=(s,i)=>{Pe(s).fold(()=>{ll(s,i)},u=>{s.dom.insertBefore(i.dom,u.dom)})},ll=(s,i)=>{s.dom.appendChild(i.dom)},Zr=(s,i)=>{ht(i,u=>{ll(s,u)})},pr=s=>{s.dom.textContent="",ht(Ns(s),i=>{Za(i)})},Za=s=>{const i=s.dom;i.parentNode!==null&&i.parentNode.removeChild(i)},ir=s=>{const i=s!==void 0?s.dom:document,u=i.body.scrollLeft||i.documentElement.scrollLeft,f=i.body.scrollTop||i.documentElement.scrollTop;return Qs(u,f)},Md=(s,i,u)=>{const f=(u!==void 0?u.dom:document).defaultView;f&&f.scrollTo(s,i)},Ld=(s,i,u,f)=>({x:s,y:i,width:u,height:f,right:s+u,bottom:i+f}),va=s=>{const i=s===void 0?window:s,u=i.document,f=ir(xn(u));return(b=>{const v=b===void 0?window:b;return Fa().browser.isFirefox()?P.none():P.from(v.visualViewport)})(i).fold(()=>{const b=i.document.documentElement,v=b.clientWidth,C=b.clientHeight;return Ld(f.left,f.top,v,C)},b=>Ld(Math.max(b.pageLeft,f.left),Math.max(b.pageTop,f.top),b.width,b.height))},Mi=()=>xn(document),yi=(s,i)=>s.view(i).fold(q([]),u=>{const f=s.owner(u),b=yi(s,f);return[u].concat(b)});var ca=Object.freeze({__proto__:null,view:s=>{var i;return(s.dom===document?P.none():P.from((i=s.dom.defaultView)===null||i===void 0?void 0:i.frameElement)).map(xn)},owner:s=>la(s)});const Qu=s=>{const i=Mi(),u=ir(i);return((b,v)=>{const C=v.owner(b),k=yi(v,C);return P.some(k)})(s,ca).fold(be(Sl,s),b=>{const v=ti(s),C=Fn(b,(k,E)=>{const B=ti(E);return{left:k.left+B.left,top:k.top+B.top}},{left:0,top:0});return Qs(C.left+v.left+u.left,C.top+v.top+u.top)})},Ho=(s,i,u,f)=>({x:s,y:i,width:u,height:f,right:s+u,bottom:i+f}),ta=s=>{const i=Sl(s),u=Bi(s),f=al(s);return Ho(i.left,i.top,u,f)},Li=s=>{const i=Qu(s),u=Bi(s),f=al(s);return Ho(i.left,i.top,u,f)},Gc=(s,i)=>{const u=Math.max(s.x,i.x),f=Math.max(s.y,i.y),b=Math.min(s.right,i.right),v=Math.min(s.bottom,i.bottom);return Ho(u,f,b-u,v-f)},Aa=()=>va(window),Hn=s=>{let i=s;return{get:()=>i,set:u=>{i=u}}},Sc=s=>{const i=Hn(P.none()),u=()=>i.get().each(s);return{clear:()=>{u(),i.set(P.none())},isSet:()=>i.get().isSome(),get:()=>i.get(),set:f=>{u(),i.set(P.some(f))}}},_c=()=>Sc(s=>s.unbind()),bs=()=>{const s=Sc(j);return{...s,on:i=>s.get().each(i)}};var Bf=tinymce.util.Tools.resolve("tinymce.ThemeManager");const Nh=s=>{const i=v=>v(s),u=q(s),f=()=>b,b={tag:!0,inner:s,fold:(v,C)=>C(s),isValue:Ve,isError:Oe,map:v=>Go.value(v(s)),mapError:f,bind:i,exists:i,forall:i,getOr:u,or:f,getOrThunk:u,orThunk:f,getOrDie:u,each:v=>{v(s)},toOptional:()=>P.some(s)};return b},Yc=s=>{const i=()=>u,u={tag:!1,inner:s,fold:(f,b)=>f(s),isValue:Oe,isError:Ve,map:i,mapError:f=>Go.error(f(s)),bind:i,exists:Oe,forall:Ve,getOr:de,or:de,getOrThunk:rt,orThunk:rt,getOrDie:Ze(String(s)),each:j,toOptional:P.none};return u},Go={value:Nh,error:Yc,fromOption:(s,i)=>s.fold(()=>Yc(i),Nh)};var xi;(function(s){s[s.Error=0]="Error",s[s.Value=1]="Value"})(xi||(xi={}));const Am=(s,i,u)=>s.stype===xi.Error?i(s.serror):u(s.svalue),wu=s=>({stype:xi.Value,svalue:s}),Cg=s=>({stype:xi.Error,serror:s}),kc=wu,Fi=Cg,Xc=Am,Fd=(s,i,u,f)=>({tag:"field",key:s,newKey:i,presence:u,prop:f}),Ke=(s,i,u)=>{switch(s.tag){case"field":return i(s.key,s.newKey,s.presence,s.prop);case"custom":return u(s.newKey,s.instantiator)}},Mf=s=>(...i)=>{if(i.length===0)throw new Error("Can't merge zero objects");const u={};for(let f=0;f<i.length;f++){const b=i[f];for(const v in b)ro(b,v)&&(u[v]=s(u[v],b[v]))}return u},Ws=Mf((s,i)=>w(s)&&w(i)?Ws(s,i):i),Ih=Mf((s,i)=>i),Tm=s=>({tag:"defaultedThunk",process:s}),fc=s=>Tm(q(s)),ss=s=>({tag:"mergeWithThunk",process:s}),si=s=>{const i=(f=>{const b=[],v=[];return ht(f,C=>{Am(C,k=>v.push(k),k=>b.push(k))}),{values:b,errors:v}})(s);return i.errors.length>0?(u=i.errors,le(Fi,tn)(u)):kc(i.values);var u},Jl=s=>y(s)&&qt(s).length>100?" removed due to size":JSON.stringify(s,null,2),mc=(s,i)=>Fi([{path:s,getErrorInfo:i}]),Jc=s=>({extract:(i,u)=>((f,b)=>f.stype===xi.Error?b(f.serror):f)(s(u),f=>((b,v)=>mc(b,q(v)))(i,f)),toString:q("val")}),Cu=Jc(kc),Ka=(s,i,u,f)=>f(on(s,i).getOrThunk(()=>u(s))),$d=(s,i,u,f,b)=>{const v=k=>b.extract(i.concat([f]),k),C=k=>k.fold(()=>kc(P.none()),E=>((B,$)=>B.stype===xi.Value?{stype:xi.Value,svalue:$(B.svalue)}:B)(b.extract(i.concat([f]),E),P.some));switch(s.tag){case"required":return((k,E,B,$)=>on(E,B).fold(()=>((L,Z,Q)=>mc(L,()=>'Could not find valid *required* value for "'+Z+'" in '+Jl(Q)))(k,B,E),$))(i,u,f,v);case"defaultedThunk":return Ka(u,f,s.process,v);case"option":return((k,E,B)=>B(on(k,E)))(u,f,C);case"defaultedOptionThunk":return((k,E,B,$)=>$(on(k,E).map(L=>L===!0?B(k):L)))(u,f,s.process,C);case"mergeWithThunk":return Ka(u,f,q({}),k=>{const E=Ws(s.process(u),k);return v(E)})}},Om=s=>({extract:(i,u)=>s().extract(i,u),toString:()=>s().toString()}),Sg=s=>qt(ps(s,z)),Ta=s=>{const i=Xn(s),u=Fn(s,(f,b)=>Ke(b,v=>Ws(f,{[v]:!0}),q(f)),{});return{extract:(f,b)=>{const v=O(b)?[]:Sg(b),C=mn(v,k=>!Do(u,k));return C.length===0?i.extract(f,b):((k,E)=>mc(k,()=>"There are unsupported fields: ["+E.join(", ")+"] specified"))(f,C)},toString:i.toString}},Xn=s=>({extract:(i,u)=>((f,b,v)=>{const C={},k=[];for(const E of v)Ke(E,(B,$,L,Z)=>{const Q=$d(L,f,b,B,Z);Xc(Q,se=>{k.push(...se)},se=>{C[$]=se})},(B,$)=>{C[B]=$(b)});return k.length>0?Fi(k):kc(C)})(i,u,s),toString:()=>`obj{
`+$e(s,u=>Ke(u,(f,b,v,C)=>f+" -> "+C.toString(),(f,b)=>"state("+f+")")).join(`
`)+"}"}),Su=s=>({extract:(i,u)=>{const f=$e(u,(b,v)=>s.extract(i.concat(["["+v+"]"]),b));return si(f)},toString:()=>"array("+s.toString()+")"}),Lf=(s,i)=>{const u=i!==void 0?i:de;return{extract:(f,b)=>{const v=[];for(const C of s){const k=C.extract(f,b);if(k.stype===xi.Value)return{stype:xi.Value,svalue:u(k.svalue)};v.push(k)}return si(v)},toString:()=>"oneOf("+$e(s,f=>f.toString()).join(", ")+")"}},ri=(s,i)=>({extract:(u,f)=>{const b=qt(f),v=((C,k)=>Su(Jc(s)).extract(C,k))(u,b);return((C,k)=>C.stype===xi.Value?k(C.svalue):C)(v,C=>{const k=$e(C,E=>Fd(E,E,{tag:"required",process:{}},i));return Xn(k).extract(u,f)})},toString:()=>"setOf("+i.toString()+")"}),_u=le(Su,Xn),Fl=q(Cu),ku=(s,i)=>Jc(u=>{const f=typeof u;return s(u)?kc(u):Fi(`Expected type: ${i} but got: ${f}`)}),ed=ku(X,"number"),Oa=ku(g,"string"),gc=ku(O,"boolean"),Qc=ku(W,"function"),Ff=s=>{if(Object(s)!==s)return!0;switch({}.toString.call(s).slice(8,-1)){case"Boolean":case"Number":case"String":case"Date":case"RegExp":case"Blob":case"FileList":case"ImageData":case"ImageBitmap":case"ArrayBuffer":return!0;case"Array":case"Object":return Object.keys(s).every(i=>Ff(s[i]));default:return!1}},qp=Jc(s=>Ff(s)?kc(s):Fi("Expected value to be acceptable for sending via postMessage")),Eu=(s,i)=>({extract:(u,f)=>on(f,s).fold(()=>((b,v)=>mc(b,()=>'Choice schema did not contain choice key: "'+v+'"'))(u,s),b=>((v,C,k,E)=>on(k,E).fold(()=>((B,$,L)=>mc(B,()=>'The chosen schema: "'+L+'" did not exist in branches: '+Jl($)))(v,k,E),B=>B.extract(v.concat(["branch: "+E]),C)))(u,f,i,b)),toString:()=>"chooseOn("+s+"). Possible values: "+qt(i)}),Vd=s=>Jc(i=>s(i).fold(Fi,kc)),Rm=(s,i)=>ri(u=>s(u).fold(Cg,wu),i),kr=(s,i,u)=>{return f=((b,v,C)=>((k,E)=>k.stype===xi.Error?{stype:xi.Error,serror:E(k.serror)}:k)(v.extract([b],C),k=>({input:C,errors:k})))(s,i,u),Am(f,Go.error,Go.value);var f},wi=s=>s.fold(i=>{throw new Error($i(i))},de),Ci=(s,i,u)=>wi(kr(s,i,u)),$i=s=>`Errors: 
`+(i=>{const u=i.length>10?i.slice(0,10).concat([{path:[],getErrorInfo:q("... (only showing first ten failures)")}]):i;return $e(u,f=>"Failed path: ("+f.path.join(" > ")+`)
`+f.getErrorInfo())})(s.errors).join(`
`)+`

Input object: `+Jl(s.input),ya=(s,i)=>Eu(s,so(i,Xn)),$f=(s,i)=>((u,f)=>{const b=ni(f);return{extract:(v,C)=>b().extract(v,C),toString:()=>b().toString()}})(0,i),ua=Fd,$a=(s,i)=>({tag:"custom",newKey:s,instantiator:i}),Ec=s=>Vd(i=>ct(s,i)?Go.value(i):Go.error(`Unsupported value: "${i}", choose one of "${s.join(", ")}".`)),Ft=s=>ua(s,s,{tag:"required",process:{}},Fl()),Ra=(s,i)=>ua(s,s,{tag:"required",process:{}},i),_g=s=>Ra(s,ed),br=s=>Ra(s,Oa),Au=(s,i)=>ua(s,s,{tag:"required",process:{}},Ec(i)),Vi=s=>Ra(s,Qc),Ac=(s,i)=>ua(s,s,{tag:"required",process:{}},Xn(i)),Vf=(s,i)=>ua(s,s,{tag:"required",process:{}},_u(i)),Hi=(s,i)=>ua(s,s,{tag:"required",process:{}},Su(i)),rs=s=>ua(s,s,{tag:"option",process:{}},Fl()),Ir=(s,i)=>ua(s,s,{tag:"option",process:{}},i),Tu=s=>Ir(s,ed),Hr=s=>Ir(s,Oa),Dm=(s,i)=>Ir(s,Ec(i)),Tc=s=>Ir(s,Qc),Ph=(s,i)=>Ir(s,Su(i)),Er=(s,i)=>Ir(s,Xn(i)),mt=(s,i)=>ua(s,s,fc(i),Fl()),zi=(s,i,u)=>ua(s,s,fc(i),u),Pr=(s,i)=>zi(s,i,ed),Ql=(s,i)=>zi(s,i,Oa),Oc=(s,i,u)=>zi(s,i,Ec(u)),na=(s,i)=>zi(s,i,gc),er=(s,i)=>zi(s,i,Qc),Ps=(s,i,u)=>zi(s,i,Su(u)),ai=(s,i,u)=>zi(s,i,Xn(u)),ii=s=>{if(!A(s))throw new Error("cases must be an array");if(s.length===0)throw new Error("there must be at least one case");const i=[],u={};return ht(s,(f,b)=>{const v=qt(f);if(v.length!==1)throw new Error("one and only one name per case");const C=v[0],k=f[C];if(u[C]!==void 0)throw new Error("duplicate key detected:"+C);if(C==="cata")throw new Error("cannot have a case named cata (sorry)");if(!A(k))throw new Error("case arguments must be an array");i.push(C),u[C]=(...E)=>{const B=E.length;if(B!==k.length)throw new Error("Wrong number of arguments to case "+C+". Expected "+k.length+" ("+k+"), got "+B);return{fold:(...$)=>{if($.length!==s.length)throw new Error("Wrong number of arguments to fold. Expected "+s.length+", got "+$.length);return $[b].apply(null,E)},match:$=>{const L=qt($);if(i.length!==L.length)throw new Error("Wrong number of arguments to match. Expected: "+i.join(",")+`
Actual: `+L.join(","));if(!qe(i,Z=>ct(L,Z)))throw new Error("Not all branches were specified when using match. Specified: "+L.join(", ")+`
Required: `+i.join(", "));return $[C].apply(null,E)},log:$=>{console.log($,{constructors:i,constructor:C,params:E})}}}}),u};ii([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]);const kl=(s,i)=>((u,f)=>({[u]:f}))(s,i),hc=s=>(i=>{const u={};return ht(i,f=>{u[f.key]=f.value}),u})(s),eu=s=>W(s)?s:Oe,td=(s,i,u)=>{let f=s.dom;const b=eu(u);for(;f.parentNode;){f=f.parentNode;const v=xn(f),C=i(v);if(C.isSome())return C;if(b(v))break}return P.none()},Hf=(s,i,u)=>{const f=i(s),b=eu(u);return f.orThunk(()=>b(s)?P.none():td(s,i,b))},kg=(s,i)=>os(s.element,i.event.target),Bh={can:Ve,abort:Oe,run:j},Ou=s=>{if(!Do(s,"can")&&!Do(s,"abort")&&!Do(s,"run"))throw new Error("EventHandler defined by: "+JSON.stringify(s,null,2)+" does not have can, abort, or run!");return{...Bh,...s}},M=q,Y=M("touchstart"),ce=M("touchmove"),He=M("touchend"),Je=M("touchcancel"),$t=M("mousedown"),oo=M("mousemove"),Eo=M("mouseout"),bo=M("mouseup"),Un=M("mouseover"),_s=M("focusin"),Kr=M("focusout"),Ar=M("keydown"),Rc=M("keyup"),Hd=M("input"),zf=M("change"),da=M("click"),h1=M("transitioncancel"),Mh=M("transitionend"),fv=M("transitionstart"),Si=M("selectstart"),zr=s=>q("alloy."+s),qa={tap:zr("tap")},Ru=zr("focus"),zd=zr("blur.post"),Lh=zr("paste.post"),ec=zr("receive"),cl=zr("execute"),Nm=zr("focus.item"),Ud=qa.tap,bx=zr("longpress"),Fh=zr("sandbox.close"),nd=zr("typeahead.cancel"),Wd=zr("system.init"),Vn=zr("system.touchmove"),Dc=zr("system.touchend"),$h=zr("system.scroll"),jd=zr("system.resize"),li=zr("system.attached"),Nc=zr("system.detached"),Im=zr("system.dismissRequested"),Zd=zr("system.repositionRequested"),Gp=zr("focusmanager.shifted"),tu=zr("slotcontainer.visibility"),Eg=zr("system.external.element.scroll"),Ag=zr("change.tab"),Xt=zr("dismiss.tab"),mv=zr("highlight"),Kd=zr("dehighlight"),Mo=(s,i)=>{Ic(s,s.element,i,{})},jn=(s,i,u)=>{Ic(s,s.element,i,u)},qd=s=>{Mo(s,cl())},Cr=(s,i,u)=>{Ic(s,i,u,{})},Ic=(s,i,u,f)=>{const b={target:i,...f};s.getSystem().triggerEvent(u,i,b)},Pc=(s,i,u,f)=>{s.getSystem().triggerEvent(u,i,f.event)},yo=s=>hc(s),Tg=(s,i)=>({key:s,value:Ou({abort:i})}),p1=s=>({key:s,value:Ou({run:(i,u)=>{u.event.prevent()}})}),Rt=(s,i)=>({key:s,value:Ou({run:i})}),gv=(s,i,u)=>({key:s,value:Ou({run:(f,b)=>{i.apply(void 0,[f,b].concat(u))}})}),Og=s=>i=>({key:s,value:Ou({run:(u,f)=>{kg(u,f)&&i(u,f)}})}),Rg=(s,i,u)=>((f,b)=>Rt(f,(v,C)=>{v.getSystem().getByUid(b).each(k=>{Pc(k,k.element,f,C)})}))(s,i.partUids[u]),Pm=(s,i)=>Rt(s,(u,f)=>{const b=f.event,v=u.getSystem().getByDom(b.target).getOrThunk(()=>Hf(b.target,C=>u.getSystem().getByDom(C).toOptional(),Oe).getOr(u));i(u,v,f)}),Uf=s=>Rt(s,(i,u)=>{u.cut()}),b1=s=>Rt(s,(i,u)=>{u.stop()}),Gd=(s,i)=>Og(s)(i),cr=Og(li()),Du=Og(Nc()),Vh=Og(Wd()),nu=(Ig=cl(),s=>Rt(Ig,s)),Wf=s=>$e(s,i=>yc(i,"/*")?i.substring(0,i.length-2):i),tc=(s,i)=>{const u=s.toString(),f=u.indexOf(")")+1,b=u.indexOf("("),v=u.substring(b+1,f-1).split(/,\s*/);return s.toFunctionAnnotation=()=>({name:i,parameters:Wf(v)}),s},Tr=s=>({classes:N(s.classes)?[]:s.classes,attributes:N(s.attributes)?{}:s.attributes,styles:N(s.styles)?{}:s.styles}),jf=(s,i,u)=>Vh((f,b)=>{u(f,s,i)}),Da=s=>({key:s,value:void 0}),Yp=(s,i,u,f,b,v,C)=>{const k=$=>Do($,u)?$[u]():P.none(),E=so(b,($,L)=>((Z,Q,se)=>((me,pe,Ee)=>{const he=Ee.toString(),ge=he.indexOf(")")+1,Ce=he.indexOf("("),Ae=he.substring(Ce+1,ge-1).split(/,\s*/);return me.toFunctionAnnotation=()=>({name:pe,parameters:Wf(Ae.slice(0,1).concat(Ae.slice(3)))}),me})((me,...pe)=>{const Ee=[me].concat(pe);return me.config({name:q(Z)}).fold(()=>{throw new Error("We could not find any behaviour configuration for: "+Z+". Using API: "+se)},he=>{const ge=Array.prototype.slice.call(Ee,1);return Q.apply(void 0,[me,he.config,he.state].concat(ge))})},se,Q))(u,$,L)),B={...so(v,($,L)=>tc($,L)),...E,revoke:be(Da,u),config:$=>{const L=Ci(u+"-config",s,$);return{key:u,value:{config:L,me:B,configAsRaw:ni(()=>Ci(u+"-config",s,$)),initialConfig:$,state:C}}},schema:q(i),exhibit:($,L)=>Yt(k($),on(f,"exhibit"),(Z,Q)=>Q(L,Z.config,Z.state)).getOrThunk(()=>Tr({})),name:q(u),handlers:$=>k($).map(L=>on(f,"events").getOr(()=>({}))(L.config,L.state)).getOr({})};return B},Bc={init:()=>xa({readState:q("No State required")})},xa=s=>s,en=s=>hc(s),Zf=Ta([Ft("fields"),Ft("name"),mt("active",{}),mt("apis",{}),mt("state",Bc),mt("extra",{})]),Va=s=>{const i=Ci("Creating behaviour: "+s.name,Zf,s);return((u,f,b,v,C,k)=>{const E=Ta(u),B=Er(f,[($=u,Ir("config",Ta($)))]);var $;return Yp(E,B,f,b,v,C,k)})(i.fields,i.name,i.active,i.apis,i.extra,i.state)},I=Ta([Ft("branchKey"),Ft("branches"),Ft("name"),mt("active",{}),mt("apis",{}),mt("state",Bc),mt("extra",{})]),U=s=>{const i=Ci("Creating behaviour: "+s.name,I,s);return((u,f,b,v,C,k)=>{const E=u,B=Er(f,[Ir("config",u)]);return Yp(E,B,f,b,v,C,k)})(ya(i.branchKey,i.branches),i.name,i.active,i.apis,i.extra,i.state)},ie=q(void 0),Se=(s,i)=>{const u=Ko(s,i);return u===void 0||u===""?[]:u.split(" ")},et=s=>s.dom.classList!==void 0,Pt=s=>Se(s,"class"),sn=(s,i)=>((u,f,b)=>{const v=Se(u,f).concat([b]);return bn(u,f,v.join(" ")),!0})(s,"class",i),Bn=(s,i)=>((u,f,b)=>{const v=mn(Se(u,f),C=>C!==b);return v.length>0?bn(u,f,v.join(" ")):Bo(u,f),!1})(s,"class",i),Mn=(s,i)=>{et(s)?s.dom.classList.add(i):sn(s,i)},Lo=s=>{(et(s)?s.dom.classList:Pt(s)).length===0&&Bo(s,"class")},Ro=(s,i)=>{et(s)?s.dom.classList.remove(i):Bn(s,i),Lo(s)},Zo=(s,i)=>et(s)&&s.dom.classList.contains(i),jo=(s,i)=>{ht(i,u=>{Mn(s,u)})},oa=(s,i)=>{ht(i,u=>{Ro(s,u)})},Ui=s=>et(s)?(i=>{const u=i.dom.classList,f=new Array(u.length);for(let b=0;b<u.length;b++){const v=u.item(b);v!==null&&(f[b]=v)}return f})(s):Pt(s),Ur=(s,i,u,f,b)=>{const v=C=>C+"px";return{position:s,left:i.map(v),top:u.map(v),right:f.map(v),bottom:b.map(v)}},Nu=(s,i)=>{xl(s,(u=>({...u,position:P.some(u.position)}))(i))},Kf=s=>(ia(jr(s,"position"),"fixed")?P.none():bi(s)).orThunk(()=>{const i=Ma("span");return Ea(s).bind(u=>{ll(u,i);const f=bi(i);return Za(i),f})}),ou=s=>Kf(s).map(Sl).getOrThunk(()=>Qs(0,0)),Dg=(s,i)=>{const u=s.element;Mn(u,i.transitionClass),Ro(u,i.fadeOutClass),Mn(u,i.fadeInClass),i.onShow(s)},od=(s,i)=>{const u=s.element;Mn(u,i.transitionClass),Ro(u,i.fadeInClass),Mn(u,i.fadeOutClass),i.onHide(s)},Hh=(s,i)=>s.y>=i.y,Bm=(s,i)=>s.bottom<=i.bottom,qf=(s,i,u)=>({location:"top",leftX:i,topY:u.bounds.y-s.y}),Xp=(s,i,u)=>({location:"bottom",leftX:i,bottomY:s.bottom-u.bounds.bottom}),hv=s=>s.box.x-s.win.x,cs=(s,i,u)=>u.getInitialPos().map(f=>{const b=((v,C)=>{const k=C.optScrollEnv.fold(q(v.bounds.y),E=>E.scrollElmTop+(v.bounds.y-E.currentScrollTop));return Qs(v.bounds.x,k)})(f,i);return{box:Ho(b.left,b.top,La(s),_r(s)),location:f.location}}),qr=(s,i,u,f,b)=>{const v=((k,E)=>{const B=E.optScrollEnv.fold(q(k.y),$=>k.y+$.currentScrollTop-$.scrollElmTop);return Qs(k.x,B)})(i,u),C=Ho(v.left,v.top,i.width,i.height);f.setInitialPos({style:If(s),position:Sr(s,"position")||"static",bounds:C,location:b.location})},Wi=(s,i,u)=>u.getInitialPos().bind(f=>{var b;switch(u.clearInitialPos(),f.position){case"static":return P.some({morph:"static"});case"absolute":const v=Kf(s).getOr(_n()),C=ta(v),k=(b=v.dom.scrollTop)!==null&&b!==void 0?b:0;return P.some({morph:"absolute",positionCss:Ur("absolute",on(f.style,"left").map(E=>i.x-C.x),on(f.style,"top").map(E=>i.y-C.y+k),on(f.style,"right").map(E=>C.right-i.right),on(f.style,"bottom").map(E=>C.bottom-i.bottom))});default:return P.none()}}),$l=s=>{switch(s.location){case"top":return P.some({morph:"fixed",positionCss:Ur("fixed",P.some(s.leftX),P.some(s.topY),P.none(),P.none())});case"bottom":return P.some({morph:"fixed",positionCss:Ur("fixed",P.some(s.leftX),P.none(),P.none(),P.some(s.bottomY))});default:return P.none()}},pv=(s,i,u)=>{const f=s.element;return ia(jr(f,"position"),"fixed")?((b,v,C)=>((k,E,B)=>cs(k,E,B).filter(({box:$})=>((L,Z,Q)=>qe(L,se=>{switch(se){case"bottom":return Bm(Z,Q.bounds);case"top":return Hh(Z,Q.bounds)}}))(B.getModes(),$,E)).bind(({box:$})=>Wi(k,$,B)))(b,v,C).orThunk(()=>v.optScrollEnv.bind(k=>cs(b,v,C)).bind(({box:k,location:E})=>{const B=Aa(),$=hv({win:B,box:k}),L=E==="top"?qf(B,$,v):Xp(B,$,v);return $l(L)})))(f,i,u):((b,v,C)=>{const k=ta(b),E=Aa(),B=(($,L,Z)=>{const Q=L.win,se=L.box,me=hv(L);return fn($,pe=>{switch(pe){case"bottom":return Bm(se,Z.bounds)?P.none():P.some(Xp(Q,me,Z));case"top":return Hh(se,Z.bounds)?P.none():P.some(qf(Q,me,Z));default:return P.none()}}).getOr({location:"no-dock"})})(C.getModes(),{win:E,box:k},v);return B.location==="top"||B.location==="bottom"?(qr(b,k,v,C,B),$l(B)):P.none()})(f,i,u)},bv=(s,i,u)=>{u.setDocked(!1),ht(["left","right","top","bottom","position"],f=>Is(s.element,f)),i.onUndocked(s)},Gf=(s,i,u,f)=>{const b=f.position==="fixed";u.setDocked(b),Nu(s.element,f),(b?i.onDocked:i.onUndocked)(s)},Ng=(s,i,u,f,b=!1)=>{i.contextual.each(v=>{v.lazyContext(s).each(C=>{const k=((E,B)=>E.y<B.bottom&&E.bottom>B.y)(C,f.bounds);k!==u.isVisible()&&(u.setVisible(k),b&&!k?(jo(s.element,[v.fadeOutClass]),v.onHide(s)):(k?Dg:od)(s,v))})})},vx=(s,i,u,f,b)=>{Ng(s,i,u,f,!0),Gf(s,i,u,b.positionCss)},vv=(s,i,u)=>{s.getSystem().isConnected()&&((f,b,v)=>{const C=b.lazyViewport(f);Ng(f,b,v,C),pv(f,C,v).each(k=>{((E,B,$,L,Z)=>{switch(Z.morph){case"static":return bv(E,B,$);case"absolute":return Gf(E,B,$,Z.positionCss);case"fixed":vx(E,B,$,L,Z)}})(f,b,v,C,k)})})(s,i,u)},Jp=(s,i,u)=>{u.isDocked()&&((f,b,v)=>{const C=f.element;v.setDocked(!1);const k=b.lazyViewport(f);((E,B,$)=>{const L=E.element;return cs(L,B,$).bind(({box:Z})=>Wi(L,Z,$))})(f,k,v).each(E=>{switch(E.morph){case"static":bv(f,b,v);break;case"absolute":Gf(f,b,v,E.positionCss)}}),v.setVisible(!0),b.contextual.each(E=>{oa(C,[E.fadeInClass,E.fadeOutClass,E.transitionClass]),E.onShow(f)}),vv(f,b,v)})(s,i,u)},yx=s=>(i,u,f)=>{const b=u.lazyViewport(i);((v,C,k,E)=>{const B=ta(v),$=Aa(),L=E($,hv({win:$,box:B}),C);return L.location==="bottom"||L.location==="top"?(((Z,Q,se,me,pe)=>{me.getInitialPos().fold(()=>qr(Z,Q,se,me,pe),()=>j)})(v,B,C,k,L),$l(L)):P.none()})(i.element,b,f,s).each(v=>{vx(i,u,f,b,v)})},yv=yx(qf),xv=yx(Xp);var Ig,Qp=Object.freeze({__proto__:null,refresh:vv,reset:Jp,isDocked:(s,i,u)=>u.isDocked(),getModes:(s,i,u)=>u.getModes(),setModes:(s,i,u,f)=>u.setModes(f),forceDockToTop:yv,forceDockToBottom:xv}),xx=Object.freeze({__proto__:null,events:(s,i)=>yo([Gd(Mh(),(u,f)=>{s.contextual.each(b=>{Zo(u.element,b.transitionClass)&&(oa(u.element,[b.transitionClass,b.fadeInClass]),(i.isVisible()?b.onShown:b.onHidden)(u)),f.stop()})}),Rt($h(),(u,f)=>{vv(u,s,i)}),Rt(Eg(),(u,f)=>{vv(u,s,i)}),Rt(jd(),(u,f)=>{Jp(u,s,i)})])});const Yf=s=>s.dom.innerHTML,zh=(s,i)=>{const u=la(s).dom,f=xn(u.createDocumentFragment()),b=((v,C)=>{const k=(C||document).createElement("div");return k.innerHTML=v,Ns(xn(k))})(i,u);Zr(f,b),pr(s),ll(s,f)},Uh=(s,i)=>xn(s.dom.cloneNode(i)),Xf=s=>(i=>{if(yt(i))return"#shadow-root";{const u=(f=>Uh(f,!1))(i);return(f=>{const b=Ma("div"),v=xn(f.dom.cloneNode(!0));return ll(b,v),Yf(b)})(u)}})(s);var Mm;(function(s){s[s.STOP=0]="STOP",s[s.NORMAL=1]="NORMAL",s[s.LOGGING=2]="LOGGING"})(Mm||(Mm={}));const wv=Hn({}),eE=["alloy/data/Fields","alloy/debugging/Debugging"],Cv=(s,i,u)=>((f,b,v)=>{switch(on(wv.get(),f).orThunk(()=>{const C=qt(wv.get());return fn(C,k=>f.indexOf(k)>-1?P.some(wv.get()[k]):P.none())}).getOr(Mm.NORMAL)){case Mm.NORMAL:return v(Iu());case Mm.LOGGING:{const C=((E,B)=>{const $=[],L=new Date().getTime();return{logEventCut:(Z,Q,se)=>{$.push({outcome:"cut",target:Q,purpose:se})},logEventStopped:(Z,Q,se)=>{$.push({outcome:"stopped",target:Q,purpose:se})},logNoParent:(Z,Q,se)=>{$.push({outcome:"no-parent",target:Q,purpose:se})},logEventNoHandlers:(Z,Q)=>{$.push({outcome:"no-handlers-left",target:Q})},logEventResponse:(Z,Q,se)=>{$.push({outcome:"response",purpose:se,target:Q})},write:()=>{const Z=new Date().getTime();ct(["mousemove","mouseover","mouseout",Wd()],E)||console.log(E,{event:E,time:Z-L,target:B.dom,sequence:$e($,Q=>ct(["cut","stopped","response"],Q.outcome)?"{"+Q.purpose+"} "+Q.outcome+" at ("+Xf(Q.target)+")":Q.outcome)})}}})(f,b),k=v(C);return C.write(),k}case Mm.STOP:return!0}})(s,i,u),Iu=q({logEventCut:j,logEventStopped:j,logNoParent:j,logEventNoHandlers:j,logEventResponse:j,write:j}),bC=q([Ft("menu"),Ft("selectedMenu")]),wx=q([Ft("item"),Ft("selectedItem")]);q(Xn(wx().concat(bC())));const Wh=q(Xn(wx())),ji=Ac("initSize",[Ft("numColumns"),Ft("numRows")]),jh=()=>Ac("markers",[Ft("backgroundMenu")].concat(bC()).concat(wx())),Zh=s=>Ac("markers",$e(s,Ft)),v1=(s,i,u)=>((()=>{const f=new Error;if(f.stack!==void 0){const b=f.stack.split(`
`);te(b,v=>v.indexOf("alloy")>0&&!Tn(eE,C=>v.indexOf(C)>-1)).getOr("unknown")}})(),ua(i,i,u,Vd(f=>Go.value((...b)=>f.apply(void 0,b))))),vs=s=>v1(0,s,fc(j)),nc=s=>v1(0,s,fc(P.none)),Yd=s=>v1(0,s,{tag:"required",process:{}}),ul=s=>v1(0,s,{tag:"required",process:{}}),ur=(s,i)=>$a(s,q(i)),Sv=s=>$a(s,de),vC=q(ji);var tE=[Er("contextual",[br("fadeInClass"),br("fadeOutClass"),br("transitionClass"),Vi("lazyContext"),vs("onShow"),vs("onShown"),vs("onHide"),vs("onHidden")]),er("lazyViewport",()=>({bounds:Aa(),optScrollEnv:P.none()})),Ps("modes",["top","bottom"],Oa),vs("onDocked"),vs("onUndocked")];const Or=Va({fields:tE,name:"docking",active:xx,apis:Qp,state:Object.freeze({__proto__:null,init:s=>{const i=Hn(!1),u=Hn(!0),f=bs(),b=Hn(s.modes);return xa({isDocked:i.get,setDocked:i.set,getInitialPos:f.get,setInitialPos:f.set,clearInitialPos:f.clear,isVisible:u.get,setVisible:u.set,getModes:b.get,setModes:b.set,readState:()=>`docked:  ${i.get()}, visible: ${u.get()}, modes: ${b.get().join(",")}`})}})}),y1=yo([((s,i)=>({key:s,value:Ou({can:(u,f)=>{const b=f.event,v=b.originator,C=b.target;return!((k,E,B)=>os(E,k.element)&&!os(E,B))(u,v,C)||(console.warn(Ru()+` did not get interpreted by the desired target. 
Originator: `+Xf(v)+`
Target: `+Xf(C)+`
Check the `+Ru()+" event handlers"),!1)}})}))(Ru())]);var Cx=Object.freeze({__proto__:null,events:y1});const Pg=(s,i,u,f)=>{const b=s+i;return b>f?u:b<u?f:b},Pu=(s,i,u)=>Math.min(Math.max(s,i),u);let eb=0;const In=s=>{const i=new Date().getTime(),u=Math.floor(window.crypto.getRandomValues(new Uint32Array(1))[0]/4294967295*1e9);return eb++,s+"_"+u+eb+String(i)},sd=q("alloy-id-"),Sx=q("data-alloy-id"),x1=sd(),tb=Sx(),w1=(s,i)=>{Object.defineProperty(s.dom,tb,{value:i,writable:!0})},Kh=s=>{const i=ar(s)?s.dom[tb]:null;return P.from(i)},Bu=s=>In(s),nE=de,C1=s=>{const i=b=>`The component must be in a context to execute: ${b}`+(s?`
`+Xf(s().element)+" is not in context.":""),u=b=>()=>{throw new Error(i(b))},f=b=>()=>{console.warn(i(b))};return{debugInfo:q("fake"),triggerEvent:f("triggerEvent"),triggerFocus:f("triggerFocus"),triggerEscape:f("triggerEscape"),broadcast:f("broadcast"),broadcastOn:f("broadcastOn"),broadcastEvent:f("broadcastEvent"),build:u("build"),buildOrPatch:u("buildOrPatch"),addToWorld:u("addToWorld"),removeFromWorld:u("removeFromWorld"),addToGui:u("addToGui"),removeFromGui:u("removeFromGui"),getByUid:u("getByUid"),getByDom:u("getByDom"),isConnected:Oe}},_x=C1(),S1=In("alloy-premade"),kx=s=>(Object.defineProperty(s.element.dom,S1,{value:s.uid,writable:!0}),kl(S1,s)),Ex=s=>on(s,S1),_1=s=>((i,u)=>{const f=u.toString(),b=f.indexOf(")")+1,v=f.indexOf("("),C=f.substring(v+1,b-1).split(/,\s*/);return i.toFunctionAnnotation=()=>({name:"OVERRIDE",parameters:Wf(C.slice(1))}),i})((i,...u)=>s(i.getApis(),i,...u),s),Ax=(s,i)=>{const u={};return no(s,(f,b)=>{no(f,(v,C)=>{const k=on(u,C).getOr([]);u[C]=k.concat([i(b,v)])})}),u},Tx=s=>s.cHandler,yC=(s,i)=>({name:s,handler:i}),oE=(s,i)=>{const u={};return ht(s,f=>{u[f.name()]=f.handlers(i)}),u},_v=(s,i,u)=>{const f=i[u];return f?((b,v,C,k)=>{try{const E=ye(C,(B,$)=>{const L=B[v],Z=$[v],Q=k.indexOf(L),se=k.indexOf(Z);if(Q===-1)throw new Error("The ordering for "+b+" does not have an entry for "+L+`.
Order specified: `+JSON.stringify(k,null,2));if(se===-1)throw new Error("The ordering for "+b+" does not have an entry for "+Z+`.
Order specified: `+JSON.stringify(k,null,2));return Q<se?-1:se<Q?1:0});return Go.value(E)}catch(E){return Go.error([E])}})("Event: "+u,"name",s,f).map(b=>(v=>({can:((E,B)=>(...$)=>Gt(E,(L,Z)=>L&&(Q=>Q.can)(Z).apply(void 0,$),!0))(v),abort:((E,B)=>(...$)=>Gt(E,(L,Z)=>L||(Q=>Q.abort)(Z).apply(void 0,$),!1))(v),run:(...E)=>{ht(v,B=>{B.run.apply(void 0,E)})}}))($e(b,v=>v.handler))):((b,v)=>Go.error(["The event ("+b+`) has more than one behaviour that listens to it.
When this occurs, you must specify an event ordering for the behaviours in your spec (e.g. [ "listing", "toggling" ]).
The behaviours that can trigger it are: `+JSON.stringify($e(v,C=>C.name),null,2)]))(u,s)},Ox=(s,i)=>((u,f)=>{const b=(C=>{const k=[],E=[];return ht(C,B=>{B.fold($=>{k.push($)},$=>{E.push($)})}),{errors:k,values:E}})(u);return b.errors.length>0?(v=b.errors,Go.error(tn(v))):((C,k)=>C.length===0?Go.value(k):Go.value(Ws(k,Ih.apply(void 0,C))))(b.values,f);var v})(Qr(s,(u,f)=>(u.length===1?Go.value(u[0].handler):_v(u,i,f)).map(b=>{const v=(k=>{const E=(B=>W(B)?{can:Ve,abort:Oe,run:B}:B)(k);return(B,$,...L)=>{const Z=[B,$].concat(L);E.abort.apply(void 0,Z)?$.stop():E.can.apply(void 0,Z)&&E.run.apply(void 0,Z)}})(b),C=u.length>1?mn(i[f],k=>Tn(u,E=>E.name===k)).join(" > "):u[0].name;return kl(f,((k,E)=>({handler:k,purpose:E}))(v,C))})),{}),qh="alloy.base.behaviour",sE=Xn([ua("dom","dom",{tag:"required",process:{}},Xn([Ft("tag"),mt("styles",{}),mt("classes",[]),mt("attributes",{}),rs("value"),rs("innerHtml")])),Ft("components"),Ft("uid"),mt("events",{}),mt("apis",{}),ua("eventOrder","eventOrder",(Gh={[cl()]:["disabling",qh,"toggling","typeaheadevents"],[Ru()]:[qh,"focusing","keying"],[Wd()]:[qh,"disabling","toggling","representing","tooltipping"],[Hd()]:[qh,"representing","streaming","invalidating"],[Nc()]:[qh,"representing","item-events","toolbar-button-events","tooltipping"],[$t()]:["focusing",qh,"item-type-events"],[Y()]:["focusing",qh,"item-type-events"],[Un()]:["item-type-events","tooltipping"],[ec()]:["receiving","reflecting","tooltipping"]},ss(q(Gh))),Fl()),rs("domModification")]),rE=s=>s.events,Lm=s=>s.dom.value,Bg=(s,i)=>{if(i===void 0)throw new Error("Value.set was undefined");s.dom.value=i},k1=(s,i,u)=>{u.fold(()=>ll(s,i),f=>{os(f,i)||(Cc(f,i),Za(f))})},xC=(s,i,u)=>{const f=$e(i,u),b=Ns(s);return ht(b.slice(f.length),Za),f},Rx=(s,i,u,f)=>{const b=hr(s,i),v=f(u,b),C=((k,E,B)=>hr(k,E).map($=>{if(B.exists(L=>!os(L,$))){const L=B.map(ol).getOr("span"),Z=Ma(L);return Cc($,Z),Z}return $}))(s,i,b);return k1(s,v.element,C),v},kv=(s,i)=>{const u=qt(s),f=qt(i),b=xe(f,u),v=((C,k)=>{const E={},B={};return or(C,($,L)=>!ro(i,L)||$!==i[L],Po(E),Po(B)),{t:E,f:B}})(s).t;return{toRemove:b,toSet:v}},Jf=(s,i)=>{const u=i.filter(f=>ol(f)===s.tag&&!(b=>b.innerHtml.isSome()&&b.domChildren.length>0)(s)&&!(b=>ro(b.dom,S1))(f)).bind(f=>((b,v)=>{try{const C=((k,E)=>{const{class:B,style:$,...L}=(Ce=>Gt(Ce.dom.attributes,(Ae,Ie)=>(Ae[Ie.name]=Ie.value,Ae),{}))(E),{toSet:Z,toRemove:Q}=kv(k.attributes,L),se=If(E),{toSet:me,toRemove:pe}=kv(k.styles,se),Ee=Ui(E),he=xe(Ee,k.classes),ge=xe(k.classes,Ee);return ht(Q,Ce=>Bo(E,Ce)),Fs(E,Z),jo(E,ge),oa(E,he),ht(pe,Ce=>Is(E,Ce)),yl(E,me),k.innerHtml.fold(()=>{const Ce=k.domChildren;((Ae,Ie)=>{xC(Ae,Ie,(Xe,dt)=>{const Lt=hr(Ae,dt);return k1(Ae,Xe,Lt),Xe})})(E,Ce)},Ce=>{zh(E,Ce)}),(()=>{const Ce=E,Ae=k.value.getOrUndefined();Ae!==Lm(Ce)&&Bg(Ce,Ae??"")})(),E})(b,v);return P.some(C)}catch{return P.none()}})(s,f)).getOrThunk(()=>(f=>{const b=Ma(f.tag);Fs(b,f.attributes),jo(b,f.classes),yl(b,f.styles),f.innerHtml.each(C=>zh(b,C));const v=f.domChildren;return Zr(b,v),f.value.each(C=>{Bg(b,C)}),b})(s));return w1(u,s.uid),u},E1=s=>{const i=(u=>{const f=on(u,"behaviours").getOr({});return Cn(qt(f),b=>{const v=f[b];return z(v)?[v.me]:[]})})(s);return((u,f)=>((b,v)=>{const C=$e(v,E=>Er(E.name(),[Ft("config"),mt("state",Bc)])),k=kr("component.behaviours",Xn(C),b.behaviours).fold(E=>{throw new Error($i(E)+`
Complete spec:
`+JSON.stringify(b,null,2))},de);return{list:v,data:so(k,E=>{const B=E.map($=>({config:$.config,state:$.state.init($.config)}));return q(B)})}})(u,f))(s,i)},Ha=(s,i)=>{const u=()=>Z,f=Hn(_x),b=wi((Q=>kr("custom.definition",sE,Q))(s)),v=E1(s),C=(Q=>Q.list)(v),k=(Q=>Q.data)(v),E=((Q,se,me)=>{const pe={...(Ee=Q).dom,uid:Ee.uid,domChildren:$e(Ee.components,Xe=>Xe.element)};var Ee;const he=(Xe=>Xe.domModification.fold(()=>Tr({}),Tr))(Q),ge={"alloy.base.modification":he},Ce=se.length>0?((Xe,dt,Lt,Dt)=>{const At={...dt};ht(Lt,es=>{At[es.name()]=es.exhibit(Xe,Dt)});const Jt=Ax(At,(es,yr)=>({name:es,modification:yr})),En=es=>Fn(es,(yr,Dr)=>({...Dr.modification,...yr}),{}),zn=Fn(Jt.classes,(es,yr)=>yr.modification.concat(es),[]),Qn=En(Jt.attributes),Co=En(Jt.styles);return Tr({classes:zn,attributes:Qn,styles:Co})})(me,ge,se,pe):he;return Ae=pe,Ie=Ce,{...Ae,attributes:{...Ae.attributes,...Ie.attributes},styles:{...Ae.styles,...Ie.styles},classes:Ae.classes.concat(Ie.classes)};var Ae,Ie})(b,C,k),B=Jf(E,i),$=((Q,se,me)=>{const pe={"alloy.base.behaviour":rE(Q)};return((Ee,he,ge,Ce)=>{const Ae=((Ie,Xe,dt)=>{const Lt={...dt,...oE(Xe,Ie)};return Ax(Lt,yC)})(Ee,ge,Ce);return Ox(Ae,he)})(me,Q.eventOrder,se,pe).getOrDie()})(b,C,k),L=Hn(b.components),Z={uid:s.uid,getSystem:f.get,config:Q=>{const se=k;return(W(se[Q.name()])?se[Q.name()]:()=>{throw new Error("Could not find "+Q.name()+" in "+JSON.stringify(s,null,2))})()},hasConfigured:Q=>W(k[Q.name()]),spec:s,readState:Q=>k[Q]().map(se=>se.state.readState()).getOr("not enabled"),getApis:()=>b.apis,connect:Q=>{f.set(Q)},disconnect:()=>{f.set(C1(u))},element:B,syncComponents:()=>{const Q=Ns(B),se=Cn(Q,me=>f.get().getByDom(me).fold(()=>[],Ue));L.set(se)},components:L.get,events:$};return Z},sa=s=>{const i=vu(s);return Fm({element:i})},Fm=s=>{const i=Ci("external.component",Ta([Ft("element"),rs("uid")]),s),u=Hn(C1()),f=i.uid.getOrThunk(()=>Bu("external"));w1(i.element,f);const b={uid:f,getSystem:u.get,config:P.none,hasConfigured:Oe,connect:v=>{u.set(v)},disconnect:()=>{u.set(C1(()=>b))},getApis:()=>({}),element:i.element,spec:s,readState:q("No state"),syncComponents:j,components:q([]),events:{}};return kx(b)},Dx=Bu,A1=(s,i)=>Ex(s).getOrThunk(()=>((u,f)=>{const{events:b,...v}=nE(u),C=((E,B)=>{const $=on(E,"components").getOr([]);return B.fold(()=>$e($,_i),L=>$e($,(Z,Q)=>A1(Z,hr(L,Q))))})(v,f),k={...v,events:{...Cx,...b},components:C};return Go.value(Ha(k,f))})((u=>ro(u,"uid"))(s)?s:{uid:Dx(""),...s},i).getOrDie()),_i=s=>A1(s,P.none()),Vl=kx;var Gh,$m=(s,i,u,f,b)=>s(u,f)?P.some(u):W(b)&&b(u)?P.none():i(u,f,b);const Mg=(s,i,u)=>{let f=s.dom;const b=W(u)?u:Oe;for(;f.parentNode;){f=f.parentNode;const v=xn(f);if(i(v))return P.some(v);if(b(v))break}return P.none()},T1=(s,i,u)=>$m((f,b)=>b(f),Mg,s,i,u),wC=(s,i)=>te(s.dom.childNodes,u=>i(xn(u))).map(xn),Nx=(s,i,u)=>T1(s,i,u).isSome(),Lg=(s,i,u)=>Mg(s,f=>vl(f,i),u),dr=(s,i)=>((u,f)=>{const b=u.dom;return b.parentNode?wC(xn(b.parentNode),v=>!os(u,v)&&vl(v,i)):P.none()})(s),O1=(s,i)=>wC(s,u=>vl(u,i)),Rr=(s,i)=>yu(i,s),Xd=(s,i,u)=>$m((f,b)=>vl(f,b),Lg,s,i,u),rd="aria-controls",Yh=()=>{const s=In(rd);return{id:s,link:i=>{bn(i,rd,s)},unlink:i=>{Bo(i,rd)}}},oc=(s,i)=>Nx(i,u=>os(u,s.element),Oe)||((u,f)=>(b=>T1(b,v=>{if(!ar(v))return!1;const C=Ko(v,"id");return C!==void 0&&C.indexOf(rd)>-1}).bind(v=>{const C=Ko(v,"id"),k=bt(v);return Rr(k,`[${rd}="${C}"]`)}))(f).exists(b=>oc(u,b)))(s,i),Zi=(s,i,u,f,b,v,C,k=!1)=>({x:s,y:i,bubble:u,direction:f,placement:b,restriction:v,label:`${C}-${b}`,alwaysFit:k}),Fg=ii([{southeast:[]},{southwest:[]},{northeast:[]},{northwest:[]},{south:[]},{north:[]},{east:[]},{west:[]}]),Ev=Fg.southeast,Xh=Fg.southwest,Av=Fg.northeast,Jh=Fg.northwest,CC=Fg.south,Ix=Fg.north,Px=Fg.east,SC=Fg.west,Ki=(s,i)=>Re(["left","right","top","bottom"],u=>on(i,u).map(f=>((b,v)=>{switch(v){case 1:return b.x;case 0:return b.x+b.width;case 2:return b.y;case 3:return b.y+b.height}})(s,f))),$g="layout",_C=s=>s.x,Mu=(s,i)=>s.x+s.width/2-i.width/2,Hl=(s,i)=>s.x+s.width-i.width,Qh=(s,i)=>s.y-i.height,nb=s=>s.y+s.height,kC=(s,i)=>s.y+s.height/2-i.height/2,Gr=(s,i,u)=>Zi(_C(s),nb(s),u.southeast(),Ev(),"southeast",Ki(s,{left:1,top:3}),$g),Yr=(s,i,u)=>Zi(Hl(s,i),nb(s),u.southwest(),Xh(),"southwest",Ki(s,{right:0,top:3}),$g),wa=(s,i,u)=>Zi(_C(s),Qh(s,i),u.northeast(),Av(),"northeast",Ki(s,{left:1,bottom:2}),$g),qs=(s,i,u)=>Zi(Hl(s,i),Qh(s,i),u.northwest(),Jh(),"northwest",Ki(s,{right:0,bottom:2}),$g),Wr=(s,i,u)=>Zi(Mu(s,i),Qh(s,i),u.north(),Ix(),"north",Ki(s,{bottom:2}),$g),fa=(s,i,u)=>Zi(Mu(s,i),nb(s),u.south(),CC(),"south",Ki(s,{top:3}),$g),R1=(s,i,u)=>Zi((f=>f.x+f.width)(s),kC(s,i),u.east(),Px(),"east",Ki(s,{left:0}),$g),D1=(s,i,u)=>Zi(((f,b)=>f.x-b.width)(s,i),kC(s,i),u.west(),SC(),"west",Ki(s,{right:1}),$g),Bx=()=>[Gr,Yr,wa,qs,fa,Wr,R1,D1],Tv=()=>[Yr,Gr,qs,wa,fa,Wr,R1,D1],Mx=()=>[wa,qs,Gr,Yr,Wr,fa],ep=()=>[qs,wa,Yr,Gr,Wr,fa],N1=()=>[Gr,Yr,wa,qs,fa,Wr],I1=()=>[Yr,Gr,qs,wa,fa,Wr];var Lx=Object.freeze({__proto__:null,events:s=>yo([Rt(ec(),(i,u)=>{const f=s.channels,b=qt(f),v=u,C=((k,E)=>E.universal?k:mn(k,B=>ct(E.channels,B)))(b,v);ht(C,k=>{const E=f[k],B=E.schema,$=Ci("channel["+k+`] data
Receiver: `+Xf(i.element),B,v.data);E.onReceive(i,$)})})])}),Ov=[Ra("channels",Rm(Go.value,Ta([Yd("onReceive"),mt("schema",Fl())])))];const sc=Va({fields:Ov,name:"receiving",active:Lx});var Fx=Object.freeze({__proto__:null,exhibit:(s,i)=>Tr({classes:[],styles:i.useFixed()?{}:{position:"relative"}})});const El=(s,i=!1)=>s.dom.focus({preventScroll:i}),Rv=s=>s.dom.blur(),tp=s=>{const i=bt(s).dom;return s.dom===i.activeElement},ad=(s=Mi())=>P.from(s.dom.activeElement).map(xn),ma=s=>ad(bt(s)).filter(i=>s.dom.contains(i.dom)),Vg=(s,i)=>{const u=bt(i),f=ad(u).bind(v=>{const C=k=>os(v,k);return C(i)?P.some(i):((k,E)=>{const B=$=>{for(let L=0;L<$.childNodes.length;L++){const Z=xn($.childNodes[L]);if(E(Z))return P.some(Z);const Q=B($.childNodes[L]);if(Q.isSome())return Q}return P.none()};return B(k.dom)})(i,C)}),b=s(i);return f.each(v=>{ad(u).filter(C=>os(C,v)).fold(()=>{El(v)},j)}),b},$x=ii([{none:[]},{relative:["x","y","width","height"]},{fixed:["x","y","width","height"]}]),Vx=(s,i,u,f,b,v)=>{const C=i.rect,k=C.x-u,E=C.y-f,B=b-(k+C.width),$=v-(E+C.height),L=P.some(k),Z=P.some(E),Q=P.some(B),se=P.some($),me=P.none();return i.direction.fold(()=>Ur(s,L,Z,me,me),()=>Ur(s,me,Z,Q,me),()=>Ur(s,L,me,me,se),()=>Ur(s,me,me,Q,se),()=>Ur(s,L,Z,me,me),()=>Ur(s,L,me,me,se),()=>Ur(s,L,Z,me,me),()=>Ur(s,me,Z,Q,me))},Dv=(s,i)=>s.fold(()=>{const u=i.rect;return Ur("absolute",P.some(u.x),P.some(u.y),P.none(),P.none())},(u,f,b,v)=>Vx("absolute",i,u,f,b,v),(u,f,b,v)=>Vx("fixed",i,u,f,b,v)),Qf=(s,i)=>{const u=be(Qu,i),f=s.fold(u,u,()=>{const C=ir();return Qu(i).translate(-C.left,-C.top)}),b=Bi(i),v=al(i);return Ho(f.left,f.top,b,v)},aE=(s,i)=>i.fold(()=>s.fold(Aa,Aa,Ho),u=>s.fold(q(u),q(u),()=>{const f=Nv(s,u.x,u.y);return Ho(f.left,f.top,u.width,u.height)})),Nv=(s,i,u)=>{const f=Qs(i,u);return s.fold(q(f),q(f),()=>{const b=ir();return f.translate(-b.left,-b.top)})};$x.none;const Hg=$x.relative,EC=$x.fixed,Iv="data-alloy-placement",Pv=s=>is(s,Iv),P1=ii([{fit:["reposition"]},{nofit:["reposition","visibleW","visibleH","isVisible"]}]),ob=(s,i,u,f)=>{const b=s.bubble,v=b.offset,C=((Ce,Ae,Ie)=>{const Xe=(Jt,En)=>Ae[Jt].map(zn=>{const Qn=Jt==="top"||Jt==="bottom",Co=Qn?Ie.top:Ie.left,es=(Jt==="left"||Jt==="top"?Math.max:Math.min)(zn,En)+Co;return Qn?Pu(es,Ce.y,Ce.bottom):Pu(es,Ce.x,Ce.right)}).getOr(En),dt=Xe("left",Ce.x),Lt=Xe("top",Ce.y),Dt=Xe("right",Ce.right),At=Xe("bottom",Ce.bottom);return Ho(dt,Lt,Dt-dt,At-Lt)})(f,s.restriction,v),k=s.x+v.left,E=s.y+v.top,B=Ho(k,E,i,u),{originInBounds:$,sizeInBounds:L,visibleW:Z,visibleH:Q}=((Ce,Ae)=>{const{x:Ie,y:Xe,right:dt,bottom:Lt}=Ae,{x:Dt,y:At,right:Jt,bottom:En,width:zn,height:Qn}=Ce;return{originInBounds:Dt>=Ie&&Dt<=dt&&At>=Xe&&At<=Lt,sizeInBounds:Jt<=dt&&Jt>=Ie&&En<=Lt&&En>=Xe,visibleW:Math.min(zn,Dt>=Ie?dt-Dt:Jt-Ie),visibleH:Math.min(Qn,At>=Xe?Lt-At:En-Xe)}})(B,C),se=$&&L,me=se?B:((Ce,Ae)=>{const{x:Ie,y:Xe,right:dt,bottom:Lt}=Ae,{x:Dt,y:At,width:Jt,height:En}=Ce,zn=Math.max(Ie,dt-Jt),Qn=Math.max(Xe,Lt-En),Co=Pu(Dt,Ie,zn),es=Pu(At,Xe,Qn),yr=Math.min(Co+Jt,dt)-Co,Dr=Math.min(es+En,Lt)-es;return Ho(Co,es,yr,Dr)})(B,C),pe=me.width>0&&me.height>0,{maxWidth:Ee,maxHeight:he}=((Ce,Ae,Ie)=>{const Xe=q(Ae.bottom-Ie.y),dt=q(Ie.bottom-Ae.y),Lt=((En,zn,Qn,Co)=>En.fold(zn,zn,Co,Co,zn,Co,Qn,Qn))(Ce,dt,dt,Xe),Dt=q(Ae.right-Ie.x),At=q(Ie.right-Ae.x);return{maxWidth:((En,zn,Qn,Co)=>En.fold(zn,Co,zn,Co,Qn,Qn,zn,Co))(Ce,At,At,Dt),maxHeight:Lt}})(s.direction,me,f),ge={rect:me,maxHeight:he,maxWidth:Ee,direction:s.direction,placement:s.placement,classes:{on:b.classesOn,off:b.classesOff},layout:s.label,testY:E};return se||s.alwaysFit?P1.fit(ge):P1.nofit(ge,Z,Q,pe)},B1=Ve,Al=(s,i,u)=>((f,b,v,C)=>Bd(f,b,v,C,!1))(s,i,B1,u),Hx=(s,i,u)=>((f,b,v,C)=>Bd(f,b,v,C,!0))(s,i,B1,u),em=_l,Bv=["top","bottom","right","left"],Jd="data-alloy-transition-timer",Mv=(s,i,u,f,b,v)=>{const C=((k,E,B)=>B.exists($=>{const L=k.mode;return L==="all"||$[L]!==E[L]}))(f,b,v);if(C||((k,E)=>((B,$)=>qe($,L=>Zo(B,L)))(k,E.classes))(s,f)){po(s,"position",u.position);const k=Qf(i,s),E=Dv(i,{...b,rect:k}),B=Re(Bv,$=>E[$]);(($,L)=>{const Z=Q=>parseFloat(Q).toFixed(3);return ms(L,(Q,se)=>!((me,pe,Ee=ne)=>Yt(me,pe,Ee).getOr(me.isNone()&&pe.isNone()))($[se].map(Z),Q.map(Z))).isSome()})(u,B)&&(xl(s,B),C&&(($,L)=>{jo($,L.classes),is($,Jd).each(Z=>{clearTimeout(parseInt(Z,10)),Bo($,Jd)}),((Z,Q)=>{const se=_c(),me=_c();let pe;const Ee=Ae=>{var Ie;const Xe=(Ie=Ae.raw.pseudoElement)!==null&&Ie!==void 0?Ie:"";return os(Ae.target,Z)&&wc(Xe)&&ct(Bv,Ae.raw.propertyName)},he=Ae=>{if(V(Ae)||Ee(Ae)){se.clear(),me.clear();const Ie=Ae==null?void 0:Ae.raw.type;(V(Ie)||Ie===Mh())&&(clearTimeout(pe),Bo(Z,Jd),oa(Z,Q.classes))}},ge=Al(Z,fv(),Ae=>{Ee(Ae)&&(ge.unbind(),se.set(Al(Z,Mh(),he)),me.set(Al(Z,h1(),he)))}),Ce=(Ae=>{const Ie=Dt=>{const At=Sr(Ae,Dt).split(/\s*,\s*/);return mn(At,pl)},Xe=Dt=>{if(g(Dt)&&/^[\d.]+/.test(Dt)){const At=parseFloat(Dt);return yc(Dt,"ms")?At:1e3*At}return 0},dt=Ie("transition-delay"),Lt=Ie("transition-duration");return Gt(Lt,(Dt,At,Jt)=>{const En=Xe(dt[Jt])+Xe(At);return Math.max(Dt,En)},0)})(Z);requestAnimationFrame(()=>{pe=setTimeout(he,Ce+17),bn(Z,Jd,pe)})})($,L)})(s,f),Yu(s))}else oa(s,f.classes)},Lv=(s,i)=>{((u,f)=>{const b=Sm.max(u,f,["margin-top","border-top-width","padding-top","padding-bottom","border-bottom-width","margin-bottom"]);po(u,"max-height",b+"px")})(s,Math.floor(i))},zg=q((s,i)=>{Lv(s,i),yl(s,{"overflow-x":"hidden","overflow-y":"auto"})}),np=q((s,i)=>{Lv(s,i)}),Lu=(s,i,u)=>s[i]===void 0?u:s[i],Fv=(s,i,u,f)=>{const b=((v,C,k,E)=>{Is(C,"max-height"),Is(C,"max-width");const B={width:Bi($=C),height:al($)};var $;return((L,Z,Q,se,me,pe)=>{const Ee=se.width,he=se.height,ge=(Ce,Ae,Ie,Xe,dt)=>{const Lt=Ce(Q,se,me,L,pe),Dt=ob(Lt,Ee,he,pe);return Dt.fold(q(Dt),(At,Jt,En,zn)=>(dt===zn?En>Xe||Jt>Ie:!dt&&zn)?Dt:P1.nofit(Ae,Ie,Xe,dt))};return Gt(Z,(Ce,Ae)=>{const Ie=be(ge,Ae);return Ce.fold(q(Ce),Ie)},P1.nofit({rect:Q,maxHeight:se.height,maxWidth:se.width,direction:Ev(),placement:"southeast",classes:{on:[],off:[]},layout:"none",testY:Q.y},-1,-1,!1)).fold(de,de)})(C,E.preference,v,B,k,E.bounds)})(s,i,u,f);return((v,C,k)=>{const E=Dv(k.origin,C);k.transition.each(B=>{Mv(v,k.origin,E,B,C,k.lastPlacement)}),Nu(v,E)})(i,b,f),((v,C)=>{((k,E)=>{bn(k,Iv,E)})(v,C.placement)})(i,b),((v,C)=>{const k=C.classes;oa(v,k.off),jo(v,k.on)})(i,b),((v,C,k)=>{(0,k.maxHeightFunction)(v,C.maxHeight)})(i,b,f),((v,C,k)=>{(0,k.maxWidthFunction)(v,C.maxWidth)})(i,b,f),{layout:b.layout,placement:b.placement}},iE=["valignCentre","alignLeft","alignRight","alignCentre","top","bottom","left","right","inset"],su=(s,i,u,f=1)=>{const b=s*f,v=i*f,C=E=>on(u,E).getOr([]),k=(E,B,$)=>{const L=xe(iE,$);return{offset:Qs(E,B),classesOn:Cn($,C),classesOff:Cn(L,C)}};return{southeast:()=>k(-s,i,["top","alignLeft"]),southwest:()=>k(s,i,["top","alignRight"]),south:()=>k(-s/2,i,["top","alignCentre"]),northeast:()=>k(-s,-i,["bottom","alignLeft"]),northwest:()=>k(s,-i,["bottom","alignRight"]),north:()=>k(-s/2,-i,["bottom","alignCentre"]),east:()=>k(s,-i/2,["valignCentre","left"]),west:()=>k(-s,-i/2,["valignCentre","right"]),insetNortheast:()=>k(b,v,["top","alignLeft","inset"]),insetNorthwest:()=>k(-b,v,["top","alignRight","inset"]),insetNorth:()=>k(-b/2,v,["top","alignCentre","inset"]),insetSoutheast:()=>k(b,-v,["bottom","alignLeft","inset"]),insetSouthwest:()=>k(-b,-v,["bottom","alignRight","inset"]),insetSouth:()=>k(-b/2,-v,["bottom","alignCentre","inset"]),insetEast:()=>k(-b,-v/2,["valignCentre","right","inset"]),insetWest:()=>k(b,-v/2,["valignCentre","left","inset"])}},tm=()=>su(0,0,{}),Fu=de,zx=(s,i)=>u=>Ga(u)==="rtl"?i:s,Ga=s=>Sr(s,"direction")==="rtl"?"rtl":"ltr";var $u;(function(s){s.TopToBottom="toptobottom",s.BottomToTop="bottomtotop"})($u||($u={}));const rc="data-alloy-vertical-dir",lE=s=>Nx(s,i=>ar(i)&&Ko(i,"data-alloy-vertical-dir")===$u.BottomToTop),Vm=()=>Er("layouts",[Ft("onLtr"),Ft("onRtl"),rs("onBottomLtr"),rs("onBottomRtl")]),nm=(s,i,u,f,b,v,C)=>{const k=C.map(lE).getOr(!1),E=i.layouts.map(Z=>Z.onLtr(s)),B=i.layouts.map(Z=>Z.onRtl(s)),$=k?i.layouts.bind(Z=>Z.onBottomLtr.map(Q=>Q(s))).or(E).getOr(b):E.getOr(u),L=k?i.layouts.bind(Z=>Z.onBottomRtl.map(Q=>Q(s))).or(B).getOr(v):B.getOr(f);return zx($,L)(s)};var sb=[Ft("hotspot"),rs("bubble"),mt("overrides",{}),Vm(),ur("placement",(s,i,u)=>{const f=i.hotspot,b=Qf(u,f.element),v=nm(s.element,i,N1(),I1(),Mx(),ep(),P.some(i.hotspot.element));return P.some(Fu({anchorBox:b,bubble:i.bubble.getOr(tm()),overrides:i.overrides,layouts:v}))})],Ug=[Ft("x"),Ft("y"),mt("height",0),mt("width",0),mt("bubble",tm()),mt("overrides",{}),Vm(),ur("placement",(s,i,u)=>{const f=Nv(u,i.x,i.y),b=Ho(f.left,f.top,i.width,i.height),v=nm(s.element,i,Bx(),Tv(),Bx(),Tv(),P.none());return P.some(Fu({anchorBox:b,bubble:i.bubble,overrides:i.overrides,layouts:v}))})];const Mc=ii([{screen:["point"]},{absolute:["point","scrollLeft","scrollTop"]}]),M1=s=>s.fold(de,(i,u,f)=>i.translate(-u,-f)),L1=s=>s.fold(de,de),$v=s=>Gt(s,(i,u)=>i.translate(u.left,u.top),Qs(0,0)),F1=s=>{const i=$e(s,L1);return $v(i)},AC=Mc.screen,Vv=Mc.absolute,om=(s,i,u)=>{const f=la(s.element),b=ir(f),v=((C,k,E)=>{const B=jc(E.root).dom;return P.from(B.frameElement).map(xn).filter($=>{const L=la($),Z=la(C.element);return os(L,Z)}).map(Sl)})(s,0,u).getOr(b);return Vv(v,b.left,b.top)},Hv=(s,i,u,f)=>{const b=AC(Qs(s,i));return P.some(((v,C,k)=>({point:v,width:C,height:k}))(b,u,f))},op=(s,i,u,f,b)=>s.map(v=>{const C=[i,v.point],k=(E=()=>F1(C),B=()=>F1(C),$=()=>(ge=>{const Ce=$e(ge,M1);return $v(Ce)})(C),f.fold(E,B,$));var E,B,$;const L=(me=k.left,pe=k.top,Ee=v.width,he=v.height,{x:me,y:pe,width:Ee,height:he}),Z=u.showAbove?Mx():N1(),Q=u.showAbove?ep():I1(),se=nm(b,u,Z,Q,Z,Q,P.none());var me,pe,Ee,he;return Fu({anchorBox:L,bubble:u.bubble.getOr(tm()),overrides:u.overrides,layouts:se})});var sp=[Ft("node"),Ft("root"),rs("bubble"),Vm(),mt("overrides",{}),mt("showAbove",!1),ur("placement",(s,i,u)=>{const f=om(s,0,i);return i.node.filter(yn).bind(b=>{const v=b.dom.getBoundingClientRect(),C=Hv(v.left,v.top,v.width,v.height),k=i.node.getOr(s.element);return op(C,f,i,u,k)})})];const Hm=(s,i,u,f)=>({start:s,soffset:i,finish:u,foffset:f}),zm=ii([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),zv=(zm.before,zm.on,zm.after,s=>s.fold(de,de,de)),Um=ii([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),Wm={domRange:Um.domRange,relative:Um.relative,exact:Um.exact,exactFromRange:s=>Um.exact(s.start,s.soffset,s.finish,s.foffset),getWin:s=>{const i=(u=>u.match({domRange:f=>xn(f.startContainer),relative:(f,b)=>zv(f),exact:(f,b,v,C)=>f}))(s);return jc(i)},range:Hm},jm=(s,i,u)=>{const f=s.document.createRange();var b;return b=f,i.fold(v=>{b.setStartBefore(v.dom)},(v,C)=>{b.setStart(v.dom,C)},v=>{b.setStartAfter(v.dom)}),((v,C)=>{C.fold(k=>{v.setEndBefore(k.dom)},(k,E)=>{v.setEnd(k.dom,E)},k=>{v.setEndAfter(k.dom)})})(f,u),f},rp=(s,i,u,f,b)=>{const v=s.document.createRange();return v.setStart(i.dom,u),v.setEnd(f.dom,b),v},$1=s=>({left:s.left,top:s.top,right:s.right,bottom:s.bottom,width:s.width,height:s.height}),rb=ii([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),V1=(s,i,u)=>i(xn(u.startContainer),u.startOffset,xn(u.endContainer),u.endOffset),Ux=(s,i)=>((u,f)=>{const b=((v,C)=>C.match({domRange:k=>({ltr:q(k),rtl:P.none}),relative:(k,E)=>({ltr:ni(()=>jm(v,k,E)),rtl:ni(()=>P.some(jm(v,E,k)))}),exact:(k,E,B,$)=>({ltr:ni(()=>rp(v,k,E,B,$)),rtl:ni(()=>P.some(rp(v,B,$,k,E)))})}))(u,f);return((v,C)=>{const k=C.ltr();return k.collapsed?C.rtl().filter(E=>E.collapsed===!1).map(E=>rb.rtl(xn(E.endContainer),E.endOffset,xn(E.startContainer),E.startOffset)).getOrThunk(()=>V1(0,rb.ltr,k)):V1(0,rb.ltr,k)})(0,b)})(s,i).match({ltr:(u,f,b,v)=>{const C=s.document.createRange();return C.setStart(u.dom,f),C.setEnd(b.dom,v),C},rtl:(u,f,b,v)=>{const C=s.document.createRange();return C.setStart(b.dom,v),C.setEnd(u.dom,f),C}});rb.ltr,rb.rtl;const ab=(s,i,u)=>mn(((f,b)=>{const v=W(b)?b:Oe;let C=f.dom;const k=[];for(;C.parentNode!==null&&C.parentNode!==void 0;){const E=C.parentNode,B=xn(E);if(k.push(B),v(B)===!0)break;C=E}return k})(s,u),i),Ya=(s,i)=>((u,f)=>{const b=f===void 0?document:f.dom;return Od(b)?[]:$e(b.querySelectorAll(u),xn)})(i,s),Wx=s=>{if(s.rangeCount>0){const i=s.getRangeAt(0),u=s.getRangeAt(s.rangeCount-1);return P.some(Hm(xn(i.startContainer),i.startOffset,xn(u.endContainer),u.endOffset))}return P.none()},TC=s=>{if(s.anchorNode===null||s.focusNode===null)return Wx(s);{const i=xn(s.anchorNode),u=xn(s.focusNode);return((f,b,v,C)=>{const k=((B,$,L,Z)=>{const Q=la(B).dom.createRange();return Q.setStart(B.dom,$),Q.setEnd(L.dom,Z),Q})(f,b,v,C),E=os(f,v)&&b===C;return k.collapsed&&!E})(i,s.anchorOffset,u,s.focusOffset)?P.some(Hm(i,s.anchorOffset,u,s.focusOffset)):Wx(s)}},jx=(s,i)=>(u=>{const f=u.getClientRects(),b=f.length>0?f[0]:u.getBoundingClientRect();return b.width>0||b.height>0?P.some(b).map($1):P.none()})(Ux(s,i)),Zx=((s,i)=>{const u=f=>s(f)?P.from(f.dom.nodeValue):P.none();return{get:f=>{if(!s(f))throw new Error("Can only get text value of a text node");return u(f).getOr("")},getOption:u,set:(f,b)=>{if(!s(f))throw new Error("Can only set raw text value of a text node");f.dom.nodeValue=b}}})(ei),Zm=(s,i)=>({element:s,offset:i}),H1=(s,i)=>ei(s)?Zm(s,i):((u,f)=>{const b=Ns(u);if(b.length===0)return Zm(u,f);if(f<b.length)return Zm(b[f],0);{const v=b[b.length-1],C=ei(v)?(k=>Zx.get(k))(v).length:Ns(v).length;return Zm(v,C)}})(s,i),Uv=s=>s.foffset!==void 0,Kx=(s,i)=>i.getSelection.getOrThunk(()=>()=>(u=>(f=>P.from(f.getSelection()))(u).filter(f=>f.rangeCount>0).bind(TC))(s))().map(u=>{if(Uv(u)){const f=H1(u.start,u.soffset),b=H1(u.finish,u.foffset);return Wm.range(f.element,f.offset,b.element,b.offset)}return u});var cE=[rs("getSelection"),Ft("root"),rs("bubble"),Vm(),mt("overrides",{}),mt("showAbove",!1),ur("placement",(s,i,u)=>{const f=jc(i.root).dom,b=om(s,0,i),v=Kx(f,i).bind(k=>{if(Uv(k))return((B,$)=>(L=>{const Z=L.getBoundingClientRect();return Z.width>0||Z.height>0?P.some(Z).map($1):P.none()})(Ux(B,$)))(f,Wm.exactFromRange(k)).orThunk(()=>{const B=vu("\uFEFF");Cc(k.start,B);const $=jx(f,Wm.exact(B,0,B,1));return Za(B),$}).bind(B=>Hv(B.left,B.top,B.width,B.height));{const E=so(k,$=>$.dom.getBoundingClientRect()),B={left:Math.min(E.firstCell.left,E.lastCell.left),right:Math.max(E.firstCell.right,E.lastCell.right),top:Math.min(E.firstCell.top,E.lastCell.top),bottom:Math.max(E.firstCell.bottom,E.lastCell.bottom)};return Hv(B.left,B.top,B.right-B.left,B.bottom-B.top)}}),C=Kx(f,i).bind(k=>Uv(k)?ar(k.start)?P.some(k.start):pi(k.start):P.some(k.firstCell)).getOr(s.element);return op(v,b,i,u,C)})];const Km="link-layout",Wv=s=>s.x+s.width,OC=(s,i)=>s.x-i.width,RC=(s,i)=>s.y-i.height+s.height,id=s=>s.y,qx=(s,i,u)=>Zi(Wv(s),id(s),u.southeast(),Ev(),"southeast",Ki(s,{left:0,top:2}),Km),z1=(s,i,u)=>Zi(OC(s,i),id(s),u.southwest(),Xh(),"southwest",Ki(s,{right:1,top:2}),Km),DC=(s,i,u)=>Zi(Wv(s),RC(s,i),u.northeast(),Av(),"northeast",Ki(s,{left:0,bottom:3}),Km),ap=(s,i,u)=>Zi(OC(s,i),RC(s,i),u.northwest(),Jh(),"northwest",Ki(s,{right:1,bottom:3}),Km),ib=()=>[qx,z1,DC,ap],jv=()=>[z1,qx,ap,DC];var NC=[Ft("item"),Vm(),mt("overrides",{}),ur("placement",(s,i,u)=>{const f=Qf(u,i.item.element),b=nm(s.element,i,ib(),jv(),ib(),jv(),P.none());return P.some(Fu({anchorBox:f,bubble:tm(),overrides:i.overrides,layouts:b}))})],ld=ya("type",{selection:cE,node:sp,hotspot:sb,submenu:NC,makeshift:Ug});const Wg=[Hi("classes",Oa),Oc("mode","all",["all","layout","placement"])],Zv=[mt("useFixed",Oe),rs("getBounds")],Kv=[Ra("anchor",ld),Er("transition",Wg)],U1=(s,i,u,f,b,v)=>{const C=Ci("placement.info",Xn(Kv),b),k=C.anchor,E=f.element,B=u.get(f.uid);Vg(()=>{po(E,"position","fixed");const $=jr(E,"visibility");po(E,"visibility","hidden");const L=i.useFixed()?(()=>{const Z=document.documentElement;return EC(0,0,Z.clientWidth,Z.clientHeight)})():(Z=>{const Q=Sl(Z.element),se=Z.element.dom.getBoundingClientRect();return Hg(Q.left,Q.top,se.width,se.height)})(s);k.placement(s,k,L).each(Z=>{const Q=v.orThunk(()=>i.getBounds.map(rt)),se=((me,pe,Ee,he,ge,Ce)=>((Ae,Ie,Xe,dt,Lt,Dt,At,Jt)=>{const En=Lu(At,"maxHeightFunction",zg()),zn=Lu(At,"maxWidthFunction",j),Qn=Ae.anchorBox,Co=Ae.origin,es={bounds:aE(Co,Dt),origin:Co,preference:dt,maxHeightFunction:En,maxWidthFunction:zn,lastPlacement:Lt,transition:Jt};return Fv(Qn,Ie,Xe,es)})(((Ae,Ie)=>((Xe,dt)=>({anchorBox:Xe,origin:dt}))(Ae,Ie))(pe.anchorBox,me),he.element,pe.bubble,pe.layouts,ge,Ee,pe.overrides,Ce))(L,Z,Q,f,B,C.transition);u.set(f.uid,se)}),$.fold(()=>{Is(E,"visibility")},Z=>{po(E,"visibility",Z)}),jr(E,"left").isNone()&&jr(E,"top").isNone()&&jr(E,"right").isNone()&&jr(E,"bottom").isNone()&&ia(jr(E,"position"),"fixed")&&Is(E,"position")},E)};var qv=Object.freeze({__proto__:null,position:(s,i,u,f,b)=>{const v=P.none();U1(s,i,u,f,b,v)},positionWithinBounds:U1,getMode:(s,i,u)=>i.useFixed()?"fixed":"absolute",reset:(s,i,u,f)=>{const b=f.element;ht(["position","left","right","top","bottom"],v=>Is(b,v)),(v=>{Bo(v,Iv)})(b),u.clear(f.uid)}});const qi=Va({fields:Zv,name:"positioning",active:Fx,apis:qv,state:Object.freeze({__proto__:null,init:()=>{let s={};return xa({readState:()=>s,clear:i=>{z(i)?delete s[i]:s={}},set:(i,u)=>{s[i]=u},get:i=>on(s,i)})}})}),W1=s=>s.getSystem().isConnected(),jg=s=>{Mo(s,Nc());const i=s.components();ht(i,jg)},Zg=s=>{const i=s.components();ht(i,Zg),Mo(s,li())},Gv=(s,i)=>{s.getSystem().addToWorld(i),yn(s.element)&&Zg(i)},j1=s=>{jg(s),s.getSystem().removeFromWorld(s)},ip=(s,i)=>{ll(s.element,i.element)},qm=(s,i)=>{Gx(s,i,ll)},Gx=(s,i,u)=>{s.getSystem().addToWorld(i),u(s.element,i.element),yn(s.element)&&Zg(i),s.syncComponents()},Z1=s=>{jg(s),Za(s.element),s.getSystem().removeFromWorld(s)},zl=s=>{const i=Ea(s.element).bind(u=>s.getSystem().getByDom(u).toOptional());Z1(s),i.each(u=>{u.syncComponents()})},Gm=s=>{const i=s.components();ht(i,Z1),pr(s.element),s.syncComponents()},Yx=(s,i)=>{lb(s,i,ll)},Et=(s,i)=>{lb(s,i,km)},lb=(s,i,u)=>{u(s,i.element);const f=Ns(i.element);ht(f,b=>{i.getByDom(b).each(Zg)})},uE=s=>{const i=Ns(s.element);ht(i,u=>{s.getByDom(u).each(jg)}),Za(s.element)},IC=(s,i,u,f)=>{u.get().each(C=>{Gm(s)});const b=i.getAttachPoint(s);qm(b,s);const v=s.getSystem().build(f);return qm(s,v),u.set(v),v},K1=(s,i,u,f)=>{const b=IC(s,i,u,f);return i.onOpen(s,b),b},cd=(s,i,u)=>{u.get().each(f=>{Gm(s),zl(s),i.onClose(s,f),u.clear()})},q1=(s,i,u)=>u.isOpen(),Yv=(s,i,u)=>{const f=i.getAttachPoint(s);po(s.element,"position",qi.getMode(f)),((b,v,C,k)=>{jr(b.element,v).fold(()=>{Bo(b.element,C)},E=>{bn(b.element,C,E)}),po(b.element,v,"hidden")})(s,"visibility",i.cloakVisibilityAttr)},Xx=(s,i,u)=>{(f=>Tn(["top","left","right","bottom"],b=>jr(f,b).isSome()))(s.element)||Is(s.element,"position"),((f,b,v)=>{is(f.element,v).fold(()=>Is(f.element,b),C=>po(f.element,b,C))})(s,"visibility",i.cloakVisibilityAttr)};var Jx=Object.freeze({__proto__:null,cloak:Yv,decloak:Xx,open:K1,openWhileCloaked:(s,i,u,f,b)=>{Yv(s,i),K1(s,i,u,f),b(),Xx(s,i)},close:cd,isOpen:q1,isPartOf:(s,i,u,f)=>q1(0,0,u)&&u.get().exists(b=>i.isPartOf(s,b,f)),getState:(s,i,u)=>u.get(),setContent:(s,i,u,f)=>u.get().map(()=>IC(s,i,u,f))}),dE=Object.freeze({__proto__:null,events:(s,i)=>yo([Rt(Fh(),(u,f)=>{cd(u,s,i)})])}),x=[vs("onOpen"),vs("onClose"),Ft("isPartOf"),Ft("getAttachPoint"),mt("cloakVisibilityAttr","data-precloak-visibility")],_=Object.freeze({__proto__:null,init:()=>{const s=bs(),i=q("not-implemented");return xa({readState:i,isOpen:s.isSet,clear:s.clear,set:s.set,get:s.get})}});const D=Va({fields:x,name:"sandboxing",active:dE,apis:Jx,state:_}),F=q("dismiss.popups"),K=q("reposition.popups"),G=q("mouse.released"),ae=Ta([mt("isExtraPart",Oe),Er("fireEventInstead",[mt("event",Im())])]),ue=s=>{const i=Ci("Dismissal",ae,s);return{[F()]:{schema:Ta([Ft("target")]),onReceive:(u,f)=>{D.isOpen(u)&&(D.isPartOf(u,f.target)||i.isExtraPart(u,f.target)||i.fireEventInstead.fold(()=>D.close(u),b=>Mo(u,b.event)))}}}},ke=Ta([Er("fireEventInstead",[mt("event",Zd())]),Vi("doReposition")]),ze=s=>{const i=Ci("Reposition",ke,s);return{[K()]:{onReceive:u=>{D.isOpen(u)&&i.fireEventInstead.fold(()=>i.doReposition(u),f=>Mo(u,f.event))}}}},nt=(s,i,u)=>{i.store.manager.onLoad(s,i,u)},Le=(s,i,u)=>{i.store.manager.onUnload(s,i,u)};var je=Object.freeze({__proto__:null,onLoad:nt,onUnload:Le,setValue:(s,i,u,f)=>{i.store.manager.setValue(s,i,u,f)},getValue:(s,i,u)=>i.store.manager.getValue(s,i,u),getState:(s,i,u)=>u}),Ge=Object.freeze({__proto__:null,events:(s,i)=>{const u=s.resetOnDom?[cr((f,b)=>{nt(f,s,i)}),Du((f,b)=>{Le(f,s,i)})]:[jf(s,i,nt)];return yo(u)}});const ft=()=>{const s=Hn(null);return xa({set:s.set,get:s.get,isNotSet:()=>s.get()===null,clear:()=>{s.set(null)},readState:()=>({mode:"memory",value:s.get()})})},gt=()=>{const s=Hn({}),i=Hn({});return xa({readState:()=>({mode:"dataset",dataByValue:s.get(),dataByText:i.get()}),lookup:u=>on(s.get(),u).orThunk(()=>on(i.get(),u)),update:u=>{const f=s.get(),b=i.get(),v={},C={};ht(u,k=>{v[k.value]=k,on(k,"meta").each(E=>{on(E,"text").each(B=>{C[B]=k})})}),s.set({...f,...v}),i.set({...b,...C})},clear:()=>{s.set({}),i.set({})}})};var Ht=Object.freeze({__proto__:null,memory:ft,dataset:gt,manual:()=>xa({readState:j}),init:s=>s.store.manager.state(s)});const zt=(s,i,u,f)=>{const b=i.store;u.update([f]),b.setValue(s,f),i.onSetValue(s,f)};var Vt=[rs("initialValue"),Ft("getFallbackEntry"),Ft("getDataKey"),Ft("setValue"),ur("manager",{setValue:zt,getValue:(s,i,u)=>{const f=i.store,b=f.getDataKey(s);return u.lookup(b).getOrThunk(()=>f.getFallbackEntry(b))},onLoad:(s,i,u)=>{i.store.initialValue.each(f=>{zt(s,i,u,f)})},onUnload:(s,i,u)=>{u.clear()},state:gt})],Wt=[Ft("getValue"),mt("setValue",j),rs("initialValue"),ur("manager",{setValue:(s,i,u,f)=>{i.store.setValue(s,f),i.onSetValue(s,f)},getValue:(s,i,u)=>i.store.getValue(s),onLoad:(s,i,u)=>{i.store.initialValue.each(f=>{i.store.setValue(s,f)})},onUnload:j,state:Bc.init})],ln=[rs("initialValue"),ur("manager",{setValue:(s,i,u,f)=>{u.set(f),i.onSetValue(s,f)},getValue:(s,i,u)=>u.get(),onLoad:(s,i,u)=>{i.store.initialValue.each(f=>{u.isNotSet()&&u.set(f)})},onUnload:(s,i,u)=>{u.clear()},state:ft})],dn=[zi("store",{mode:"memory"},ya("mode",{memory:ln,manual:Wt,dataset:Vt})),vs("onSetValue"),mt("resetOnDom",!1)];const vt=Va({fields:dn,name:"representing",active:Ge,apis:je,extra:{setValueFrom:(s,i)=>{const u=vt.getValue(i);vt.setValue(s,u)}},state:Ht}),Pn=(s,i)=>ai(s,{},$e(i,u=>{return f=u.name(),b="Cannot configure "+u.name()+" for "+s,ua(f,f,{tag:"option",process:{}},Jc(v=>Fi("The field: "+f+" is forbidden. "+b)));var f,b}).concat([$a("dump",de)])),co=s=>s.dump,Io=(s,i)=>({...en(i),...s.dump}),xo=Pn,uo=Io,No="placeholder",gs=ii([{single:["required","valueThunk"]},{multiple:["required","valueThunks"]}]),Ca=s=>ro(s,"uiType"),dl=(s,i,u,f)=>((b,v,C,k)=>Ca(C)&&C.uiType===No?((E,B,$,L)=>E.exists(Z=>Z!==$.owner)?gs.single(!0,q($)):on(L,$.name).fold(()=>{throw new Error("Unknown placeholder component: "+$.name+`
Known: [`+qt(L)+`]
Namespace: `+E.getOr("none")+`
Spec: `+JSON.stringify($,null,2))},Z=>Z.replace()))(b,0,C,k):gs.single(!1,q(C)))(s,0,u,f).fold((b,v)=>{const C=Ca(u)?v(i,u.config,u.validated):v(i),k=on(C,"components").getOr([]),E=Cn(k,B=>dl(s,i,B,f));return[{...C,components:E}]},(b,v)=>{if(Ca(u)){const C=v(i,u.config,u.validated);return u.validated.preprocess.getOr(de)(C)}return v(i)}),ki=gs.single,ru=gs.multiple,Kg=q(No),fl=ii([{required:["data"]},{external:["data"]},{optional:["data"]},{group:["data"]}]),Qd=mt("factory",{sketch:de}),cb=mt("schema",[]),Ym=Ft("name"),ub=ua("pname","pname",Tm(s=>"<alloy."+In(s.name)+">"),Fl()),G1=$a("schema",()=>[rs("preprocess")]),Xm=mt("defaults",q({})),PC=mt("overrides",q({})),YL=Xn([Qd,cb,Ym,ub,Xm,PC]),XL=Xn([Qd,cb,Ym,Xm,PC]),dR=Xn([Qd,cb,Ym,ub,Xm,PC]),Ln=Xn([Qd,G1,Ym,Ft("unit"),ub,Xm,PC]),Qx=s=>s.fold(P.some,P.none,P.some,P.some),fE=s=>{const i=u=>u.name;return s.fold(i,i,i,i)},BC=(s,i)=>u=>{const f=Ci("Converting part type",i,u);return s(f)},ac=BC(fl.required,YL),sm=BC(fl.external,XL),ud=BC(fl.optional,dR),MC=BC(fl.group,Ln),mE=q("entirety");var fR=Object.freeze({__proto__:null,required:ac,external:sm,optional:ud,group:MC,asNamedPart:Qx,name:fE,asCommon:s=>s.fold(de,de,de,de),original:mE});const gE=(s,i,u,f)=>Ws(i.defaults(s,u,f),u,{uid:s.partUids[i.name]},i.overrides(s,u,f)),Ul=(s,i)=>{const u={};return ht(i,f=>{Qx(f).each(b=>{const v=e2(s,b.pname);u[b.name]=C=>{const k=Ci("Part: "+b.name+" in "+s,Xn(b.schema),C);return{...v,config:C,validated:k}}})}),u},e2=(s,i)=>({uiType:Kg(),owner:s,name:i}),hE=(s,i,u)=>({uiType:Kg(),owner:s,name:i,config:u,validated:{}}),mR=s=>Cn(s,i=>i.fold(P.none,P.some,P.none,P.none).map(u=>Ac(u.name,u.schema.concat([Sv(mE())]))).toArray()),gR=s=>$e(s,fE),pE=(s,i,u)=>((f,b,v)=>{const C={},k={};return ht(v,E=>{E.fold(B=>{C[B.pname]=ki(!0,($,L,Z)=>B.factory.sketch(gE($,B,L,Z)))},B=>{const $=b.parts[B.name];k[B.name]=q(B.factory.sketch(gE(b,B,$[mE()]),$))},B=>{C[B.pname]=ki(!1,($,L,Z)=>B.factory.sketch(gE($,B,L,Z)))},B=>{C[B.pname]=ru(!0,($,L,Z)=>{const Q=$[B.name];return $e(Q,se=>B.factory.sketch(Ws(B.defaults($,se,Z),se,B.overrides($,se))))})})}),{internals:q(C),externals:q(k)}})(0,i,u),bE=(s,i,u)=>((f,b,v,C)=>{const k=so(C,(B,$)=>((L,Z)=>{let Q=!1;return{name:q(L),required:()=>Z.fold((se,me)=>se,(se,me)=>se),used:()=>Q,replace:()=>{if(Q)throw new Error("Trying to use the same placeholder more than once: "+L);return Q=!0,Z}}})($,B)),E=((B,$,L,Z)=>Cn(L,Q=>dl(B,$,Q,Z)))(f,b,v,k);return no(k,B=>{if(B.used()===!1&&B.required())throw new Error("Placeholder: "+B.name()+` was not found in components list
Namespace: `+f.getOr("none")+`
Components: `+JSON.stringify(b.components,null,2))}),E})(P.some(s),i,i.components,u),fr=(s,i,u)=>{const f=i.partUids[u];return s.getSystem().getByUid(f).toOptional()},lp=(s,i,u)=>fr(s,i,u).getOrDie("Could not find part: "+u),hR=(s,i,u)=>{const f={},b=i.partUids,v=s.getSystem();return ht(u,C=>{f[C]=q(v.getByUid(b[C]))}),f},vE=(s,i)=>{const u=s.getSystem();return so(i.partUids,(f,b)=>q(u.getByUid(f)))},pR=s=>qt(s.partUids),yE=(s,i,u)=>{const f={},b=i.partUids,v=s.getSystem();return ht(u,C=>{f[C]=q(v.getByUid(b[C]).getOrDie())}),f},bR=(s,i)=>{const u=gR(i);return hc($e(u,f=>({key:f,value:s+"-"+f})))},xE=s=>ua("partUids","partUids",ss(i=>bR(i.uid,s)),Fl());var JL=Object.freeze({__proto__:null,generate:Ul,generateOne:hE,schemas:mR,names:gR,substitutes:pE,components:bE,defaultUids:bR,defaultUidsSchema:xE,getAllParts:vE,getAllPartNames:pR,getPart:fr,getPartOrDie:lp,getParts:hR,getPartsOrDie:yE});const vR=(s,i,u,f,b)=>{const v=((C,k)=>(C.length>0?[Ac("parts",C)]:[]).concat([Ft("uid"),mt("dom",{}),mt("components",[]),Sv("originalSpec"),mt("debug.sketcher",{})]).concat(k))(f,b);return Ci(s+" [SpecSchema]",Ta(v.concat(i)),u)},t2=(s,i,u,f,b)=>{const v=wE(b),C=mR(u),k=xE(u),E=vR(s,i,v,C,[k]),B=pE(0,E,u);return f(E,bE(s,E,B.internals()),v,B.externals())},wE=s=>(i=>ro(i,"uid"))(s)?s:{...s,uid:Bu("uid")},QL=Ta([Ft("name"),Ft("factory"),Ft("configFields"),mt("apis",{}),mt("extraApis",{})]),yR=Ta([Ft("name"),Ft("factory"),Ft("configFields"),Ft("partFields"),mt("apis",{}),mt("extraApis",{})]),dd=s=>{const i=Ci("Sketcher for "+s.name,QL,s),u=so(i.apis,_1),f=so(i.extraApis,(b,v)=>tc(b,v));return{name:i.name,configFields:i.configFields,sketch:b=>((v,C,k,E)=>{const B=wE(E);return k(vR(v,C,B,[],[]),B)})(i.name,i.configFields,i.factory,b),...u,...f}},pc=s=>{const i=Ci("Sketcher for "+s.name,yR,s),u=Ul(i.name,i.partFields),f=so(i.apis,_1),b=so(i.extraApis,(v,C)=>tc(v,C));return{name:i.name,partFields:i.partFields,configFields:i.configFields,sketch:v=>t2(i.name,i.configFields,i.partFields,i.factory,v),parts:u,...f,...b}},Y1=s=>Wc("input")(s)&&Ko(s,"type")!=="radio"||Wc("textarea")(s);var xR=Object.freeze({__proto__:null,getCurrent:(s,i,u)=>i.find(s)});const e8=[Ft("find")],Cs=Va({fields:e8,name:"composing",apis:xR}),wR=["input","button","textarea","select"],CR=(s,i,u)=>{(i.disabled()?n2:SE)(s,i)},CE=(s,i)=>i.useNative===!0&&ct(wR,ol(s.element)),SR=s=>{bn(s.element,"disabled","disabled")},t8=s=>{Bo(s.element,"disabled")},X1=s=>{bn(s.element,"aria-disabled","true")},n8=s=>{bn(s.element,"aria-disabled","false")},n2=(s,i,u)=>{i.disableClass.each(f=>{Mn(s.element,f)}),(CE(s,i)?SR:X1)(s),i.onDisabled(s)},SE=(s,i,u)=>{i.disableClass.each(f=>{Ro(s.element,f)}),(CE(s,i)?t8:n8)(s),i.onEnabled(s)},J1=(s,i)=>CE(s,i)?(u=>Vr(u.element,"disabled"))(s):(u=>Ko(u.element,"aria-disabled")==="true")(s);var o8=Object.freeze({__proto__:null,enable:SE,disable:n2,isDisabled:J1,onLoad:CR,set:(s,i,u,f)=>{(f?n2:SE)(s,i)}}),s8=Object.freeze({__proto__:null,exhibit:(s,i)=>Tr({classes:i.disabled()?i.disableClass.toArray():[]}),events:(s,i)=>yo([Tg(cl(),(u,f)=>J1(u,s)),jf(s,i,CR)])}),r8=[er("disabled",Oe),mt("useNative",!0),rs("disableClass"),vs("onDisabled"),vs("onEnabled")];const wo=Va({fields:r8,name:"disabling",active:s8,apis:o8}),_R=(s,i,u,f)=>{const b=Ya(s.element,"."+i.highlightClass);ht(b,v=>{Tn(f,C=>os(C.element,v))||(Ro(v,i.highlightClass),s.getSystem().getByDom(v).each(C=>{i.onDehighlight(s,C),Mo(C,Kd())}))})},Xv=(s,i,u,f)=>{_R(s,i,0,[f]),_E(s,i,u,f)||(Mn(f.element,i.highlightClass),i.onHighlight(s,f),Mo(f,mv()))},_E=(s,i,u,f)=>Zo(f.element,i.highlightClass),kR=(s,i,u)=>Rr(s.element,"."+i.itemClass).bind(f=>s.getSystem().getByDom(f).toOptional()),ER=(s,i,u)=>{const f=Ya(s.element,"."+i.itemClass);return(f.length>0?P.some(f[f.length-1]):P.none()).bind(b=>s.getSystem().getByDom(b).toOptional())},AR=(s,i,u,f)=>{const b=Ya(s.element,"."+i.itemClass);return So(b,v=>Zo(v,i.highlightClass)).bind(v=>{const C=Pg(v,f,0,b.length-1);return s.getSystem().getByDom(b[C]).toOptional()})},TR=(s,i,u)=>{const f=Ya(s.element,"."+i.itemClass);return tl($e(f,b=>s.getSystem().getByDom(b).toOptional()))};var a8=Object.freeze({__proto__:null,dehighlightAll:(s,i,u)=>_R(s,i,0,[]),dehighlight:(s,i,u,f)=>{_E(s,i,u,f)&&(Ro(f.element,i.highlightClass),i.onDehighlight(s,f),Mo(f,Kd()))},highlight:Xv,highlightFirst:(s,i,u)=>{kR(s,i).each(f=>{Xv(s,i,u,f)})},highlightLast:(s,i,u)=>{ER(s,i).each(f=>{Xv(s,i,u,f)})},highlightAt:(s,i,u,f)=>{((b,v,C,k)=>{const E=Ya(b.element,"."+v.itemClass);return P.from(E[k]).fold(()=>Go.error(new Error("No element found with index "+k)),b.getSystem().getByDom)})(s,i,0,f).fold(b=>{throw b},b=>{Xv(s,i,u,b)})},highlightBy:(s,i,u,f)=>{const b=TR(s,i);te(b,f).each(v=>{Xv(s,i,u,v)})},isHighlighted:_E,getHighlighted:(s,i,u)=>Rr(s.element,"."+i.highlightClass).bind(f=>s.getSystem().getByDom(f).toOptional()),getFirst:kR,getLast:ER,getPrevious:(s,i,u)=>AR(s,i,0,-1),getNext:(s,i,u)=>AR(s,i,0,1),getCandidates:TR}),OR=[Ft("highlightClass"),Ft("itemClass"),vs("onHighlight"),vs("onDehighlight")];const zs=Va({fields:OR,name:"highlighting",apis:a8}),RR=[8],rm=[9],qg=[13],LC=[27],Vu=[32],FC=[37],Q1=[38],o2=[39],ey=[40],i8=(s,i,u)=>{const f=st(s.slice(0,i)),b=st(s.slice(i+1));return te(f.concat(b),u)},l8=(s,i,u)=>{const f=st(s.slice(0,i));return te(f,u)},c8=(s,i,u)=>{const f=s.slice(0,i),b=s.slice(i+1);return te(b.concat(f),u)},u8=(s,i,u)=>{const f=s.slice(i+1);return te(f,u)},ks=s=>i=>{const u=i.raw;return ct(s,u.which)},Jm=s=>i=>qe(s,u=>u(i)),Gg=s=>s.raw.shiftKey===!0,d8=s=>s.raw.ctrlKey===!0,s2=Fe(Gg),As=(s,i)=>({matches:s,classification:i}),DR=(s,i,u)=>{i.exists(f=>u.exists(b=>os(b,f)))||jn(s,Gp(),{prevFocus:i,newFocus:u})},kE=()=>{const s=i=>ma(i.element);return{get:s,set:(i,u)=>{const f=s(i);i.getSystem().triggerFocus(u,i.element);const b=s(i);DR(i,f,b)}}},f8=()=>{const s=i=>zs.getHighlighted(i).map(u=>u.element);return{get:s,set:(i,u)=>{const f=s(i);i.getSystem().getByDom(u).fold(j,v=>{zs.highlight(i,v)});const b=s(i);DR(i,f,b)}}};var Jv;(function(s){s.OnFocusMode="onFocus",s.OnEnterOrSpaceMode="onEnterOrSpace",s.OnApiMode="onApi"})(Jv||(Jv={}));const Qv=(s,i,u,f,b)=>{const v=(k,E,B,$,L)=>{return(Z=B(k,E,$,L),Q=E.event,te(Z,se=>se.matches(Q)).map(se=>se.classification)).bind(se=>se(k,E,$,L));var Z,Q},C={schema:()=>s.concat([mt("focusManager",kE()),zi("focusInside","onFocus",Vd(k=>ct(["onFocus","onEnterOrSpace","onApi"],k)?Go.value(k):Go.error("Invalid value for focusInside"))),ur("handler",C),ur("state",i),ur("sendFocusIn",b)]),processKey:v,toEvents:(k,E)=>{const B=k.focusInside!==Jv.OnFocusMode?P.none():b(k).map(L=>Rt(Ru(),(Z,Q)=>{L(Z,k,E),Q.stop()})),$=[Rt(Ar(),(L,Z)=>{v(L,Z,u,k,E).fold(()=>{((Q,se)=>{const me=ks(Vu.concat(qg))(se.event);k.focusInside===Jv.OnEnterOrSpaceMode&&me&&kg(Q,se)&&b(k).each(pe=>{pe(Q,k,E),se.stop()})})(L,Z)},Q=>{Z.stop()})}),Rt(Rc(),(L,Z)=>{v(L,Z,f,k,E).each(Q=>{Z.stop()})})];return yo(B.toArray().concat($))}};return C},NR=s=>{const i=[rs("onEscape"),rs("onEnter"),mt("selector",'[data-alloy-tabstop="true"]:not(:disabled)'),mt("firstTabstop",0),mt("useTabstopAt",Ve),rs("visibilitySelector")].concat([s]),u=($,L)=>{const Z=$.visibilitySelector.bind(Q=>Xd(L,Q)).getOr(L);return _r(Z)>0},f=($,L)=>L.focusManager.get($).bind(Z=>Xd(Z,L.selector)),b=($,L,Z)=>{((Q,se)=>{const me=Ya(Q.element,se.selector),pe=mn(me,Ee=>u(se,Ee));return P.from(pe[se.firstTabstop])})($,L).each(Q=>{L.focusManager.set($,Q)})},v=($,L,Z,Q)=>{const se=Ya($.element,Z.selector);return f($,Z).bind(me=>So(se,be(os,me)).bind(pe=>((Ee,he,ge,Ce,Ae)=>Ae(he,ge,Ie=>((Xe,dt)=>u(Xe,dt)&&Xe.useTabstopAt(dt))(Ce,Ie)).fold(()=>Ce.cyclic?P.some(!0):P.none(),Ie=>(Ce.focusManager.set(Ee,Ie),P.some(!0))))($,se,pe,Z,Q)))},C=($,L,Z)=>{const Q=Z.cyclic?i8:l8;return v($,0,Z,Q)},k=($,L,Z)=>{const Q=Z.cyclic?c8:u8;return v($,0,Z,Q)},E=q([As(Jm([Gg,ks(rm)]),C),As(ks(rm),k),As(Jm([s2,ks(qg)]),($,L,Z)=>Z.onEnter.bind(Q=>Q($,L)))]),B=q([As(ks(LC),($,L,Z)=>Z.onEscape.bind(Q=>Q($,L))),As(ks(rm),($,L,Z)=>f($,Z).filter(Q=>!Z.useTabstopAt(Q)).bind(Q=>((se=>(me=>Ea(me))(se).bind(Pe).exists(me=>os(me,se)))(Q)?C:k)($,L,Z)))]);return Qv(i,Bc.init,E,B,()=>P.some(b))};var m8=NR($a("cyclic",Oe)),g8=NR($a("cyclic",Ve));const r2=(s,i,u)=>Y1(u)&&ks(Vu)(i.event)?P.none():((f,b,v)=>(Cr(f,v,cl()),P.some(!0)))(s,0,u),e0=(s,i)=>P.some(!0),h8=[mt("execute",r2),mt("useSpace",!1),mt("useEnter",!0),mt("useControlEnter",!1),mt("useDown",!1)],IR=(s,i,u)=>u.execute(s,i,s.element);var p8=Qv(h8,Bc.init,(s,i,u,f)=>{const b=u.useSpace&&!Y1(s.element)?Vu:[],v=u.useEnter?qg:[],C=u.useDown?ey:[],k=b.concat(v).concat(C);return[As(ks(k),IR)].concat(u.useControlEnter?[As(Jm([d8,ks(qg)]),IR)]:[])},(s,i,u,f)=>u.useSpace&&!Y1(s.element)?[As(ks(Vu),e0)]:[],()=>P.none());const PR=()=>{const s=bs();return xa({readState:()=>s.get().map(i=>({numRows:String(i.numRows),numColumns:String(i.numColumns)})).getOr({numRows:"?",numColumns:"?"}),setGridSize:(i,u)=>{s.set({numRows:i,numColumns:u})},getNumRows:()=>s.get().map(i=>i.numRows),getNumColumns:()=>s.get().map(i=>i.numColumns)})};var BR=Object.freeze({__proto__:null,flatgrid:PR,init:s=>s.state(s)});const MR=s=>(i,u,f,b)=>{const v=s(i.element);return LR(v,i,u,f,b)},EE=(s,i)=>{const u=zx(s,i);return MR(u)},AE=(s,i)=>{const u=zx(i,s);return MR(u)},TE=s=>(i,u,f,b)=>LR(s,i,u,f,b),LR=(s,i,u,f,b)=>f.focusManager.get(i).bind(v=>s(i.element,v,f,b)).map(v=>(f.focusManager.set(i,v),!0)),OE=TE,FR=TE,$C=TE,$R=s=>!(i=>i.offsetWidth<=0&&i.offsetHeight<=0)(s.dom),RE=(s,i,u)=>{const f=Ya(s,u);return((b,v)=>So(b,C=>os(C,i)).map(C=>({index:C,candidates:b})))(mn(f,$R))},VC=(s,i)=>So(s,u=>os(i,u)),VR=(s,i,u,f)=>f(Math.floor(i/u),i%u).bind(b=>{const v=b.row*u+b.column;return v>=0&&v<s.length?P.some(s[v]):P.none()}),HR=(s,i,u,f,b)=>VR(s,i,f,(v,C)=>{const k=v===u-1?s.length-v*f:f,E=Pg(C,b,0,k-1);return P.some({row:v,column:E})}),zR=(s,i,u,f,b)=>VR(s,i,f,(v,C)=>{const k=Pg(v,b,0,u-1),E=k===u-1?s.length-k*f:f,B=Pu(C,0,E-1);return P.some({row:k,column:B})}),b8=[Ft("selector"),mt("execute",r2),nc("onEscape"),mt("captureTab",!1),vC()],UR=(s,i,u)=>{Rr(s.element,i.selector).each(f=>{i.focusManager.set(s,f)})},a2=s=>(i,u,f,b)=>RE(i,u,f.selector).bind(v=>s(v.candidates,v.index,b.getNumRows().getOr(f.initSize.numRows),b.getNumColumns().getOr(f.initSize.numColumns))),DE=(s,i,u)=>u.captureTab?P.some(!0):P.none(),NE=a2((s,i,u,f)=>HR(s,i,u,f,-1)),IE=a2((s,i,u,f)=>HR(s,i,u,f,1)),v8=a2((s,i,u,f)=>zR(s,i,u,f,-1)),y8=a2((s,i,u,f)=>zR(s,i,u,f,1)),x8=q([As(ks(FC),EE(NE,IE)),As(ks(o2),AE(NE,IE)),As(ks(Q1),OE(v8)),As(ks(ey),FR(y8)),As(Jm([Gg,ks(rm)]),DE),As(Jm([s2,ks(rm)]),DE),As(ks(Vu.concat(qg)),(s,i,u,f)=>((b,v)=>v.focusManager.get(b).bind(C=>Xd(C,v.selector)))(s,u).bind(b=>u.execute(s,i,b)))]),w8=q([As(ks(LC),(s,i,u)=>u.onEscape(s,i)),As(ks(Vu),e0)]);var C8=Qv(b8,PR,x8,w8,()=>P.some(UR));const db=(s,i,u,f,b)=>{const v=(C,k,E)=>b(C,k,f,0,E.length-1,E[k],B=>{return $=E[B],ol($)==="button"&&Ko($,"disabled")==="disabled"?v(C,B,E):P.from(E[B]);var $});return RE(s,u,i).bind(C=>{const k=C.index,E=C.candidates;return v(k,k,E)})},WR=(s,i,u,f)=>db(s,i,u,f,(b,v,C,k,E,B,$)=>{const L=Pu(v+C,k,E);return L===b?P.from(B):$(L)}),HC=(s,i,u,f)=>db(s,i,u,f,(b,v,C,k,E,B,$)=>{const L=Pg(v,C,k,E);return L===b?P.none():$(L)}),S8=[Ft("selector"),mt("getInitial",P.none),mt("execute",r2),nc("onEscape"),mt("executeOnMove",!1),mt("allowVertical",!0),mt("allowHorizontal",!0),mt("cycles",!0)],PE=(s,i,u)=>((f,b)=>b.focusManager.get(f).bind(v=>Xd(v,b.selector)))(s,u).bind(f=>u.execute(s,i,f)),jR=(s,i,u)=>{i.getInitial(s).orThunk(()=>Rr(s.element,i.selector)).each(f=>{i.focusManager.set(s,f)})},ZR=(s,i,u)=>(u.cycles?HC:WR)(s,u.selector,i,-1),KR=(s,i,u)=>(u.cycles?HC:WR)(s,u.selector,i,1),BE=s=>(i,u,f,b)=>s(i,u,f,b).bind(()=>f.executeOnMove?PE(i,u,f):P.some(!0)),i2=q([As(ks(Vu),e0),As(ks(LC),(s,i,u)=>u.onEscape(s,i))]);var l2=Qv(S8,Bc.init,(s,i,u,f)=>{const b=[...u.allowHorizontal?FC:[]].concat(u.allowVertical?Q1:[]),v=[...u.allowHorizontal?o2:[]].concat(u.allowVertical?ey:[]);return[As(ks(b),BE(EE(ZR,KR))),As(ks(v),BE(AE(ZR,KR))),As(ks(qg),PE),As(ks(Vu),PE)]},i2,()=>P.some(jR));const zC=(s,i,u)=>P.from(s[i]).bind(f=>P.from(f[u]).map(b=>({rowIndex:i,columnIndex:u,cell:b}))),UC=(s,i,u,f)=>{const b=s[i].length,v=Pg(u,f,0,b-1);return zC(s,i,v)},qR=(s,i,u,f)=>{const b=Pg(u,f,0,s.length-1),v=s[b].length,C=Pu(i,0,v-1);return zC(s,b,C)},ME=(s,i,u,f)=>{const b=s[i].length,v=Pu(u+f,0,b-1);return zC(s,i,v)},LE=(s,i,u,f)=>{const b=Pu(u+f,0,s.length-1),v=s[b].length,C=Pu(i,0,v-1);return zC(s,b,C)},GR=[Ac("selectors",[Ft("row"),Ft("cell")]),mt("cycles",!0),mt("previousSelector",P.none),mt("execute",r2)],_8=(s,i,u)=>{i.previousSelector(s).orThunk(()=>{const f=i.selectors;return Rr(s.element,f.cell)}).each(f=>{i.focusManager.set(s,f)})},WC=(s,i)=>(u,f,b)=>{const v=b.cycles?s:i;return Xd(f,b.selectors.row).bind(C=>{const k=Ya(C,b.selectors.cell);return VC(k,f).bind(E=>{const B=Ya(u,b.selectors.row);return VC(B,C).bind($=>{const L=((Z,Q)=>$e(Z,se=>Ya(se,Q.selectors.cell)))(B,b);return v(L,$,E).map(Z=>Z.cell)})})})},YR=WC((s,i,u)=>UC(s,i,u,-1),(s,i,u)=>ME(s,i,u,-1)),t0=WC((s,i,u)=>UC(s,i,u,1),(s,i,u)=>ME(s,i,u,1)),n0=WC((s,i,u)=>qR(s,u,i,-1),(s,i,u)=>LE(s,u,i,-1)),jC=WC((s,i,u)=>qR(s,u,i,1),(s,i,u)=>LE(s,u,i,1)),c2=q([As(ks(FC),EE(YR,t0)),As(ks(o2),AE(YR,t0)),As(ks(Q1),OE(n0)),As(ks(ey),FR(jC)),As(ks(Vu.concat(qg)),(s,i,u)=>ma(s.element).bind(f=>u.execute(s,i,f)))]),k8=q([As(ks(Vu),e0)]);var fb=Qv(GR,Bc.init,c2,k8,()=>P.some(_8));const Yg=[Ft("selector"),mt("execute",r2),mt("moveOnTab",!1)],ZC=(s,i,u)=>u.focusManager.get(s).bind(f=>u.execute(s,i,f)),XR=(s,i,u)=>{Rr(s.element,i.selector).each(f=>{i.focusManager.set(s,f)})},JR=(s,i,u)=>HC(s,u.selector,i,-1),FE=(s,i,u)=>HC(s,u.selector,i,1),u2=q([As(ks(Q1),$C(JR)),As(ks(ey),$C(FE)),As(Jm([Gg,ks(rm)]),(s,i,u,f)=>u.moveOnTab?$C(JR)(s,i,u,f):P.none()),As(Jm([s2,ks(rm)]),(s,i,u,f)=>u.moveOnTab?$C(FE)(s,i,u,f):P.none()),As(ks(qg),ZC),As(ks(Vu),ZC)]),d2=q([As(ks(Vu),e0)]);var $E=Qv(Yg,Bc.init,u2,d2,()=>P.some(XR));const QR=[nc("onSpace"),nc("onEnter"),nc("onShiftEnter"),nc("onLeft"),nc("onRight"),nc("onTab"),nc("onShiftTab"),nc("onUp"),nc("onDown"),nc("onEscape"),mt("stopSpaceKeyup",!1),rs("focusIn")];var f2=Qv(QR,Bc.init,(s,i,u)=>[As(ks(Vu),u.onSpace),As(Jm([s2,ks(qg)]),u.onEnter),As(Jm([Gg,ks(qg)]),u.onShiftEnter),As(Jm([Gg,ks(rm)]),u.onShiftTab),As(Jm([s2,ks(rm)]),u.onTab),As(ks(Q1),u.onUp),As(ks(ey),u.onDown),As(ks(FC),u.onLeft),As(ks(o2),u.onRight),As(ks(Vu),u.onSpace)],(s,i,u)=>[...u.stopSpaceKeyup?[As(ks(Vu),e0)]:[],As(ks(LC),u.onEscape)],s=>s.focusIn);const KC=m8.schema(),E8=g8.schema(),VE=l2.schema(),qC=C8.schema(),Tl=fb.schema(),A8=p8.schema(),Xg=$E.schema(),eD=f2.schema(),qn=U({branchKey:"mode",branches:Object.freeze({__proto__:null,acyclic:KC,cyclic:E8,flow:VE,flatgrid:qC,matrix:Tl,execution:A8,menu:Xg,special:eD}),name:"keying",active:{events:(s,i)=>s.handler.toEvents(s,i)},apis:{focusIn:(s,i,u)=>{i.sendFocusIn(i).fold(()=>{s.getSystem().triggerFocus(s.element,s.element)},f=>{f(s,i,u)})},setGridSize:(s,i,u,f,b)=>{(v=>Do(v,"setGridSize"))(u)?u.setGridSize(f,b):console.error("Layout does not support setGridSize")}},state:BR}),o0=(s,i)=>{Vg(()=>{((u,f,b)=>{const v=u.components();(E=>{ht(E.components(),B=>Za(B.element)),pr(E.element),E.syncComponents()})(u);const C=b(f),k=xe(v,C);ht(k,E=>{jg(E),u.getSystem().removeFromWorld(E)}),ht(C,E=>{W1(E)?ip(u,E):(u.getSystem().addToWorld(E),ip(u,E),yn(u.element)&&Zg(E))}),u.syncComponents()})(s,i,()=>$e(i,s.getSystem().build))},s.element)},HE=(s,i)=>{Vg(()=>{((u,f,b)=>{const v=u.components(),C=Cn(f,B=>Ex(B).toArray());ht(v,B=>{ct(C,B)||j1(B)});const k=((B,$,L)=>xC(B,$,(Z,Q)=>Rx(B,Q,Z,L)))(s.element,i,s.getSystem().buildOrPatch),E=xe(v,k);ht(E,B=>{W1(B)&&j1(B)}),ht(k,B=>{W1(B)||Gv(u,B)}),u.syncComponents()})(s,i)},s.element)},GC=(s,i,u,f)=>{j1(i);const b=Rx(s.element,u,f,s.getSystem().buildOrPatch);Gv(s,b),s.syncComponents()},zE=(s,i,u)=>{const f=s.getSystem().build(u);Gx(s,f,i)},tD=(s,i,u,f)=>{zl(i),zE(s,(b,v)=>((C,k,E)=>{hr(C,E).fold(()=>{ll(C,k)},B=>{Cc(B,k)})})(b,v,u),f)},m2=(s,i)=>s.components(),nD=(s,i,u,f,b)=>{const v=m2(s);return P.from(v[f]).map(C=>(b.fold(()=>zl(C),k=>{(i.reuseDom?GC:tD)(s,C,f,k)}),C))};var UE=Object.freeze({__proto__:null,append:(s,i,u,f)=>{zE(s,ll,f)},prepend:(s,i,u,f)=>{zE(s,Em,f)},remove:(s,i,u,f)=>{const b=m2(s);te(b,C=>os(f.element,C.element)).each(zl)},replaceAt:nD,replaceBy:(s,i,u,f,b)=>{const v=m2(s);return So(v,f).bind(C=>nD(s,i,0,C,b))},set:(s,i,u,f)=>(i.reuseDom?HE:o0)(s,f),contents:m2});const io=Va({fields:[na("reuseDom",!0)],name:"replacing",apis:UE}),Fo=(s,i)=>{const u=((f,b)=>{const v=yo(b);return Va({fields:[Ft("enabled")],name:f,active:{events:q(v)}})})(s,i);return{key:s,value:{config:{},me:u,configAsRaw:q({}),initialConfig:{},state:Bc}}},oD=(s,i)=>{i.ignore||(El(s.element),i.onFocus(s))};var sD=Object.freeze({__proto__:null,focus:oD,blur:(s,i)=>{i.ignore||Rv(s.element)},isFocused:s=>tp(s.element)}),rD=Object.freeze({__proto__:null,exhibit:(s,i)=>{const u=i.ignore?{}:{attributes:{tabindex:"-1"}};return Tr(u)},events:s=>yo([Rt(Ru(),(i,u)=>{oD(i,s),u.stop()})].concat(s.stopMousedown?[Rt($t(),(i,u)=>{u.event.prevent()})]:[]))}),aD=[vs("onFocus"),mt("stopMousedown",!1),mt("ignore",!1)];const vo=Va({fields:aD,name:"focusing",active:rD,apis:sD}),g2=(s,i,u,f)=>{const b=u.get();u.set(f),((v,C,k)=>{C.toggleClass.each(E=>{k.get()?Mn(v.element,E):Ro(v.element,E)})})(s,i,u),((v,C,k)=>{const E=C.aria;E.update(v,E,k.get())})(s,i,u),b!==f&&i.onToggled(s,f)},fd=(s,i,u)=>{g2(s,i,u,!u.get())},s0=(s,i,u)=>{g2(s,i,u,i.selected)};var iD=Object.freeze({__proto__:null,onLoad:s0,toggle:fd,isOn:(s,i,u)=>u.get(),on:(s,i,u)=>{g2(s,i,u,!0)},off:(s,i,u)=>{g2(s,i,u,!1)},set:g2}),ty=Object.freeze({__proto__:null,exhibit:()=>Tr({}),events:(s,i)=>{const u=(f=s,b=i,v=fd,nu(k=>{v(k,f,b)}));var f,b,v;const C=jf(s,i,s0);return yo(tn([s.toggleOnExecute?[u]:[],[C]]))}});const Lc=(s,i,u)=>{bn(s.element,"aria-expanded",u)};var Hu=[mt("selected",!1),rs("toggleClass"),mt("toggleOnExecute",!0),vs("onToggled"),zi("aria",{mode:"none"},ya("mode",{pressed:[mt("syncWithExpanded",!1),ur("update",(s,i,u)=>{bn(s.element,"aria-pressed",u),i.syncWithExpanded&&Lc(s,0,u)})],checked:[ur("update",(s,i,u)=>{bn(s.element,"aria-checked",u)})],expanded:[ur("update",Lc)],selected:[ur("update",(s,i,u)=>{bn(s.element,"aria-selected",u)})],none:[ur("update",j)]}))];const fo=Va({fields:Hu,name:"toggling",active:ty,apis:iD,state:{init:()=>{const s=Hn(!1);return{get:()=>s.get(),set:i=>s.set(i),clear:()=>s.set(!1),readState:()=>s.get()}}}}),ef=()=>{const s=(i,u)=>{u.stop(),qd(i)};return[Rt(da(),s),Rt(Ud(),s),Uf(Y()),Uf($t())]},ny=s=>yo(tn([s.map(i=>nu((u,f)=>{i(u),f.stop()})).toArray(),ef()])),md="alloy.item-hover",mb="alloy.item-focus",lD="alloy.item-toggled",cD=s=>{(ma(s.element).isNone()||vo.isFocused(s))&&(vo.isFocused(s)||vo.focus(s),jn(s,md,{item:s}))},uD=s=>{jn(s,mb,{item:s})},WE=q(md),dD=q(mb),YC=q(lD),fD=s=>s.role.fold(()=>s.toggling.map(i=>i.exclusive?"menuitemradio":"menuitemcheckbox").getOr("menuitem"),de),T8=[Ft("data"),Ft("components"),Ft("dom"),mt("hasSubmenu",!1),rs("toggling"),rs("role"),xo("itemBehaviours",[fo,vo,qn,vt]),mt("ignoreFocus",!1),mt("domModification",{}),ur("builder",s=>({dom:s.dom,domModification:{...s.domModification,attributes:{role:fD(s),...s.domModification.attributes,"aria-haspopup":s.hasSubmenu,...s.hasSubmenu?{"aria-expanded":!1}:{}}},behaviours:uo(s.itemBehaviours,[s.toggling.fold(fo.revoke,i=>fo.config(((u,f)=>({aria:{mode:f?"selected":"checked"},...ps(u,(b,v)=>v!=="exclusive"),onToggled:(b,v)=>{W(u.onToggled)&&u.onToggled(b,v),((C,k)=>{jn(C,lD,{item:C,state:k})})(b,v)}}))(i,s.role.exists(u=>u==="option")))),vo.config({ignore:s.ignoreFocus,stopMousedown:s.ignoreFocus,onFocus:i=>{uD(i)}}),qn.config({mode:"execution"}),vt.config({store:{mode:"memory",initialValue:s.data}}),Fo("item-type-events",[...ef(),Rt(Un(),cD),Rt(Nm(),vo.focus)])]),components:s.components,eventOrder:s.eventOrder})),mt("eventOrder",{})],O8=[Ft("dom"),Ft("components"),ur("builder",s=>({dom:s.dom,components:s.components,events:yo([b1(Nm())])}))],jE=q("item-widget"),ZE=q([ac({name:"widget",overrides:s=>({behaviours:en([vt.config({store:{mode:"manual",getValue:i=>s.data,setValue:j}})])})})]),mD=[Ft("uid"),Ft("data"),Ft("components"),Ft("dom"),mt("autofocus",!1),mt("ignoreFocus",!1),xo("widgetBehaviours",[vt,vo,qn]),mt("domModification",{}),xE(ZE()),ur("builder",s=>{const i=pE(jE(),s,ZE()),u=bE(jE(),s,i.internals()),f=v=>fr(v,s,"widget").map(C=>(qn.focusIn(C),C)),b=(v,C)=>(Y1(C.event.target)||s.autofocus&&C.setSource(v.element),P.none());return{dom:s.dom,components:u,domModification:s.domModification,events:yo([nu((v,C)=>{f(v).each(k=>{C.stop()})}),Rt(Un(),cD),Rt(Nm(),(v,C)=>{s.autofocus?f(v):vo.focus(v)})]),behaviours:uo(s.widgetBehaviours,[vt.config({store:{mode:"memory",initialValue:s.data}}),vo.config({ignore:s.ignoreFocus,onFocus:v=>{uD(v)}}),qn.config({mode:"special",focusIn:s.autofocus?v=>{f(v)}:ie(),onLeft:b,onRight:b,onEscape:(v,C)=>vo.isFocused(v)||s.autofocus?(s.autofocus&&C.setSource(v.element),P.none()):(vo.focus(v),P.some(!0))})])}})],gD=ya("type",{widget:mD,item:T8,separator:O8}),KE=q([MC({factory:{sketch:s=>{const i=Ci("menu.spec item",gD,s);return i.builder(i)}},name:"items",unit:"item",defaults:(s,i)=>ro(i,"uid")?i:{...i,uid:Bu("item")},overrides:(s,i)=>({type:i.type,ignoreFocus:s.fakeFocus,domModification:{classes:[s.markers.item]}})})]),hD=q([Hr("role"),Ft("value"),Ft("items"),Ft("dom"),Ft("components"),mt("eventOrder",{}),Pn("menuBehaviours",[zs,vt,Cs,qn]),zi("movement",{mode:"menu",moveOnTab:!0},ya("mode",{grid:[vC(),ur("config",(s,i)=>({mode:"flatgrid",selector:"."+s.markers.item,initSize:{numColumns:i.initSize.numColumns,numRows:i.initSize.numRows},focusManager:s.focusManager}))],matrix:[ur("config",(s,i)=>({mode:"matrix",selectors:{row:i.rowSelector,cell:"."+s.markers.item},previousSelector:i.previousSelector,focusManager:s.focusManager})),Ft("rowSelector"),mt("previousSelector",P.none)],menu:[mt("moveOnTab",!0),ur("config",(s,i)=>({mode:"menu",selector:"."+s.markers.item,moveOnTab:i.moveOnTab,focusManager:s.focusManager}))]})),Ra("markers",Wh()),mt("fakeFocus",!1),mt("focusManager",kE()),vs("onHighlight"),vs("onDehighlight"),mt("showMenuRole",!0)]),pD=q("alloy.menu-focus"),r0=pc({name:"Menu",configFields:hD(),partFields:KE(),factory:(s,i,u,f)=>({uid:s.uid,dom:s.dom,markers:s.markers,behaviours:Io(s.menuBehaviours,[zs.config({highlightClass:s.markers.selectedItem,itemClass:s.markers.item,onHighlight:s.onHighlight,onDehighlight:s.onDehighlight}),vt.config({store:{mode:"memory",initialValue:s.value}}),Cs.config({find:P.some}),qn.config(s.movement.config(s,s.movement))]),events:yo([Rt(dD(),(b,v)=>{const C=v.event;b.getSystem().getByDom(C.target).each(k=>{zs.highlight(b,k),v.stop(),jn(b,pD(),{menu:b,item:k})})}),Rt(WE(),(b,v)=>{const C=v.event.item;zs.highlight(b,C)}),Rt(YC(),(b,v)=>{const{item:C,state:k}=v.event;k&&Ko(C.element,"role")==="menuitemradio"&&((E,B)=>{const $=Ya(E.element,'[role="menuitemradio"][aria-checked="true"]');ht($,L=>{os(L,B.element)||E.getSystem().getByDom(L).each(Z=>{fo.off(Z)})})})(b,C)})]),components:i,eventOrder:s.eventOrder,...s.showMenuRole?{domModification:{attributes:{role:s.role.getOr("menu")}}}:{}})}),bD=(s,i,u,f)=>on(u,f).bind(b=>on(s,b).bind(v=>{const C=bD(s,i,u,v);return P.some([v].concat(C))})).getOr([]),vD=s=>s.type==="prepared"?P.some(s.menu):P.none(),R8=()=>{const s=Hn({}),i=Hn({}),u=Hn({}),f=bs(),b=Hn({}),v=E=>C(E).bind(vD),C=E=>on(i.get(),E),k=E=>on(s.get(),E);return{setMenuBuilt:(E,B)=>{i.set({...i.get(),[E]:{type:"prepared",menu:B}})},setContents:(E,B,$,L)=>{f.set(E),s.set($),i.set(B),b.set(L);const Z=((Q,se)=>{const me={};no(Q,(ge,Ce)=>{ht(ge,Ae=>{me[Ae]=Ce})});const pe=se,Ee=Wo(se,(ge,Ce)=>({k:ge,v:Ce})),he=so(Ee,(ge,Ce)=>[Ce].concat(bD(me,pe,Ee,Ce)));return so(me,ge=>on(he,ge).getOr([ge]))})(L,$);u.set(Z)},expand:E=>on(s.get(),E).map(B=>{const $=on(u.get(),E).getOr([]);return[B].concat($)}),refresh:E=>on(u.get(),E),collapse:E=>on(u.get(),E).bind(B=>B.length>1?P.some(B.slice(1)):P.none()),lookupMenu:C,lookupItem:k,otherMenus:E=>{const B=b.get();return xe(qt(B),E)},getPrimary:()=>f.get().bind(v),getMenus:()=>i.get(),clear:()=>{s.set({}),i.set({}),u.set({}),f.clear()},isClear:()=>f.get().isNone(),getTriggeringPath:(E,B)=>{const $=mn(k(E).toArray(),L=>v(L).isSome());return on(u.get(),E).bind(L=>{const Z=st($.concat(L));return(Q=>{const se=[];for(let me=0;me<Q.length;me++){const pe=Q[me];if(!pe.isSome())return P.none();se.push(pe.getOrDie())}return P.some(se)})(Cn(Z,(Q,se)=>((me,pe,Ee)=>v(me).bind(he=>(ge=>ms(s.get(),(Ce,Ae)=>Ce===ge))(me).bind(ge=>pe(ge).map(Ce=>({triggeredMenu:he,triggeringItem:Ce,triggeringPath:Ee})))))(Q,B,Z.slice(0,se+1)).fold(()=>ia(f.get(),Q)?[]:[P.none()],me=>[P.some(me)])))})}}},D8=vD,gd=In("tiered-menu-item-highlight"),N8=In("tiered-menu-item-dehighlight");var Wl;(function(s){s[s.HighlightMenuAndItem=0]="HighlightMenuAndItem",s[s.HighlightJustMenu=1]="HighlightJustMenu",s[s.HighlightNone=2]="HighlightNone"})(Wl||(Wl={}));const a0=q("collapse-item"),cp=dd({name:"TieredMenu",configFields:[ul("onExecute"),ul("onEscape"),Yd("onOpenMenu"),Yd("onOpenSubmenu"),vs("onRepositionMenu"),vs("onCollapseMenu"),mt("highlightOnOpen",Wl.HighlightMenuAndItem),Ac("data",[Ft("primary"),Ft("menus"),Ft("expansions")]),mt("fakeFocus",!1),vs("onHighlightItem"),vs("onDehighlightItem"),vs("onHover"),jh(),Ft("dom"),mt("navigateOnHover",!0),mt("stayInDom",!1),Pn("tmenuBehaviours",[qn,zs,Cs,io]),mt("eventOrder",{})],apis:{collapseMenu:(s,i)=>{s.collapseMenu(i)},highlightPrimary:(s,i)=>{s.highlightPrimary(i)},repositionMenus:(s,i)=>{s.repositionMenus(i)}},factory:(s,i)=>{const u=bs(),f=R8(),b=ge=>vt.getValue(ge).value,v=ge=>so(s.data.menus,(Ce,Ae)=>Cn(Ce.items,Ie=>Ie.type==="separator"?[]:[Ie.data.value])),C=zs.highlight,k=(ge,Ce)=>{C(ge,Ce),zs.getHighlighted(Ce).orThunk(()=>zs.getFirst(Ce)).each(Ae=>{s.fakeFocus?zs.highlight(Ce,Ae):Cr(ge,Ae.element,Nm())})},E=(ge,Ce)=>tl($e(Ce,Ae=>ge.lookupMenu(Ae).bind(Ie=>Ie.type==="prepared"?P.some(Ie.menu):P.none()))),B=(ge,Ce,Ae)=>{const Ie=E(Ce,Ce.otherMenus(Ae));ht(Ie,Xe=>{oa(Xe.element,[s.markers.backgroundMenu]),s.stayInDom||io.remove(ge,Xe)})},$=(ge,Ce)=>{const Ae=(Ie=>u.get().getOrThunk(()=>{const Xe={},dt=Ya(Ie.element,`.${s.markers.item}`),Lt=mn(dt,Dt=>Ko(Dt,"aria-haspopup")==="true");return ht(Lt,Dt=>{Ie.getSystem().getByDom(Dt).each(At=>{const Jt=b(At);Xe[Jt]=At})}),u.set(Xe),Xe}))(ge);no(Ae,(Ie,Xe)=>{const dt=ct(Ce,Xe);bn(Ie.element,"aria-expanded",dt)})},L=(ge,Ce,Ae)=>P.from(Ae[0]).bind(Ie=>Ce.lookupMenu(Ie).bind(Xe=>{if(Xe.type==="notbuilt")return P.none();{const dt=Xe.menu,Lt=E(Ce,Ae.slice(1));return ht(Lt,Dt=>{Mn(Dt.element,s.markers.backgroundMenu)}),yn(dt.element)||io.append(ge,Vl(dt)),oa(dt.element,[s.markers.backgroundMenu]),k(ge,dt),B(ge,Ce,Ae),P.some(dt)}}));let Z;(function(ge){ge[ge.HighlightSubmenu=0]="HighlightSubmenu",ge[ge.HighlightParent=1]="HighlightParent"})(Z||(Z={}));const Q=(ge,Ce,Ae=Z.HighlightSubmenu)=>{if(Ce.hasConfigured(wo)&&wo.isDisabled(Ce))return P.some(Ce);{const Ie=b(Ce);return f.expand(Ie).bind(Xe=>($(ge,Xe),P.from(Xe[0]).bind(dt=>f.lookupMenu(dt).bind(Lt=>{const Dt=((At,Jt,En)=>{if(En.type==="notbuilt"){const zn=At.getSystem().build(En.nbMenu());return f.setMenuBuilt(Jt,zn),zn}return En.menu})(ge,dt,Lt);return yn(Dt.element)||io.append(ge,Vl(Dt)),s.onOpenSubmenu(ge,Ce,Dt,st(Xe)),Ae===Z.HighlightSubmenu?(zs.highlightFirst(Dt),L(ge,f,Xe)):(zs.dehighlightAll(Dt),P.some(Ce))}))))}},se=(ge,Ce)=>{const Ae=b(Ce);return f.collapse(Ae).bind(Ie=>($(ge,Ie),L(ge,f,Ie).map(Xe=>(s.onCollapseMenu(ge,Ce,Xe),Xe))))},me=ge=>(Ce,Ae)=>Xd(Ae.getSource(),`.${s.markers.item}`).bind(Ie=>Ce.getSystem().getByDom(Ie).toOptional().bind(Xe=>ge(Ce,Xe).map(Ve))),pe=yo([Rt(pD(),(ge,Ce)=>{const Ae=Ce.event.item;f.lookupItem(b(Ae)).each(()=>{const Ie=Ce.event.menu;zs.highlight(ge,Ie);const Xe=b(Ce.event.item);f.refresh(Xe).each(dt=>B(ge,f,dt))})}),nu((ge,Ce)=>{const Ae=Ce.event.target;ge.getSystem().getByDom(Ae).each(Ie=>{b(Ie).indexOf("collapse-item")===0&&se(ge,Ie),Q(ge,Ie,Z.HighlightSubmenu).fold(()=>{s.onExecute(ge,Ie)},j)})}),cr((ge,Ce)=>{(Ae=>{const Ie=((dt,Lt,Dt)=>so(Dt,(At,Jt)=>{const En=()=>r0.sketch({...At,value:Jt,markers:s.markers,fakeFocus:s.fakeFocus,onHighlight:(zn,Qn)=>{jn(zn,gd,{menuComp:zn,itemComp:Qn})},onDehighlight:(zn,Qn)=>{jn(zn,N8,{menuComp:zn,itemComp:Qn})},focusManager:s.fakeFocus?f8():kE()});return Jt===Lt?{type:"prepared",menu:dt.getSystem().build(En())}:{type:"notbuilt",nbMenu:En}}))(Ae,s.data.primary,s.data.menus),Xe=v();return f.setContents(s.data.primary,Ie,s.data.expansions,Xe),f.getPrimary()})(ge).each(Ae=>{io.append(ge,Vl(Ae)),s.onOpenMenu(ge,Ae),s.highlightOnOpen===Wl.HighlightMenuAndItem?k(ge,Ae):s.highlightOnOpen===Wl.HighlightJustMenu&&C(ge,Ae)})}),Rt(gd,(ge,Ce)=>{s.onHighlightItem(ge,Ce.event.menuComp,Ce.event.itemComp)}),Rt(N8,(ge,Ce)=>{s.onDehighlightItem(ge,Ce.event.menuComp,Ce.event.itemComp)}),...s.navigateOnHover?[Rt(WE(),(ge,Ce)=>{const Ae=Ce.event.item;((Ie,Xe)=>{const dt=b(Xe);f.refresh(dt).bind(Lt=>($(Ie,Lt),L(Ie,f,Lt)))})(ge,Ae),Q(ge,Ae,Z.HighlightParent),s.onHover(ge,Ae)})]:[]]),Ee=ge=>zs.getHighlighted(ge).bind(zs.getHighlighted),he={collapseMenu:ge=>{Ee(ge).each(Ce=>{se(ge,Ce)})},highlightPrimary:ge=>{f.getPrimary().each(Ce=>{k(ge,Ce)})},repositionMenus:ge=>{f.getPrimary().bind(Ae=>Ee(ge).bind(Ie=>{const Xe=b(Ie),dt=Qa(f.getMenus()),Lt=tl($e(dt,D8));return f.getTriggeringPath(Xe,Dt=>((At,Jt,En)=>fn(Jt,zn=>{if(!zn.getSystem().isConnected())return P.none();const Qn=zs.getCandidates(zn);return te(Qn,Co=>b(Co)===En)}))(0,Lt,Dt))}).map(Ie=>({primary:Ae,triggeringPath:Ie}))).fold(()=>{(Ae=>P.from(Ae.components()[0]).filter(Ie=>Ko(Ie.element,"role")==="menu"))(ge).each(Ae=>{s.onRepositionMenu(ge,Ae,[])})},({primary:Ae,triggeringPath:Ie})=>{s.onRepositionMenu(ge,Ae,Ie)})}};return{uid:s.uid,dom:s.dom,markers:s.markers,behaviours:Io(s.tmenuBehaviours,[qn.config({mode:"special",onRight:me((ge,Ce)=>Y1(Ce.element)?P.none():Q(ge,Ce,Z.HighlightSubmenu)),onLeft:me((ge,Ce)=>Y1(Ce.element)?P.none():se(ge,Ce)),onEscape:me((ge,Ce)=>se(ge,Ce).orThunk(()=>s.onEscape(ge,Ce).map(()=>ge))),focusIn:(ge,Ce)=>{f.getPrimary().each(Ae=>{Cr(ge,Ae.element,Nm())})}}),zs.config({highlightClass:s.markers.selectedMenu,itemClass:s.markers.menu}),Cs.config({find:ge=>zs.getHighlighted(ge)}),io.config({})]),eventOrder:s.eventOrder,apis:he,events:pe}},extraApis:{tieredData:(s,i,u)=>({primary:s,menus:i,expansions:u}),singleData:(s,i)=>({primary:s,menus:kl(s,i),expansions:{}}),collapseItem:s=>({value:In(a0()),meta:{text:s}})}}),Br=dd({name:"InlineView",configFields:[Ft("lazySink"),vs("onShow"),vs("onHide"),Tc("onEscape"),Pn("inlineBehaviours",[D,vt,sc]),Er("fireDismissalEventInstead",[mt("event",Im())]),Er("fireRepositionEventInstead",[mt("event",Zd())]),mt("getRelated",P.none),mt("isExtraPart",Oe),mt("eventOrder",P.none)],factory:(s,i)=>{const u=(C,k,E,B)=>{const $=s.lazySink(C).getOrDie();D.openWhileCloaked(C,k,()=>qi.positionWithinBounds($,C,E,B())),vt.setValue(C,P.some({mode:"position",config:E,getBounds:B}))},f=(C,k,E,B)=>{const $=((L,Z,Q,se,me)=>{const pe=()=>L.lazySink(Z),Ee=se.type==="horizontal"?{layouts:{onLtr:()=>N1(),onRtl:()=>I1()}}:{},he=ge=>(Ce=>Ce.length===2)(ge)?Ee:{};return cp.sketch({dom:{tag:"div"},data:se.data,markers:se.menu.markers,highlightOnOpen:se.menu.highlightOnOpen,fakeFocus:se.menu.fakeFocus,onEscape:()=>(D.close(Z),L.onEscape.map(ge=>ge(Z)),P.some(!0)),onExecute:()=>P.some(!0),onOpenMenu:(ge,Ce)=>{qi.positionWithinBounds(pe().getOrDie(),Ce,Q,me())},onOpenSubmenu:(ge,Ce,Ae,Ie)=>{const Xe=pe().getOrDie();qi.position(Xe,Ae,{anchor:{type:"submenu",item:Ce,...he(Ie)}})},onRepositionMenu:(ge,Ce,Ae)=>{const Ie=pe().getOrDie();qi.positionWithinBounds(Ie,Ce,Q,me()),ht(Ae,Xe=>{const dt=he(Xe.triggeringPath);qi.position(Ie,Xe.triggeredMenu,{anchor:{type:"submenu",item:Xe.triggeringItem,...dt}})})}})})(s,C,k,E,B);D.open(C,$),vt.setValue(C,P.some({mode:"menu",menu:$}))},b=C=>{D.isOpen(C)&&vt.getValue(C).each(k=>{switch(k.mode){case"menu":D.getState(C).each(cp.repositionMenus);break;case"position":const E=s.lazySink(C).getOrDie();qi.positionWithinBounds(E,C,k.config,k.getBounds())}})},v={setContent:(C,k)=>{D.setContent(C,k)},showAt:(C,k,E)=>{const B=P.none;u(C,k,E,B)},showWithinBounds:u,showMenuAt:(C,k,E)=>{f(C,k,E,P.none)},showMenuWithinBounds:f,hide:C=>{D.isOpen(C)&&(vt.setValue(C,P.none()),D.close(C))},getContent:C=>D.getState(C),reposition:b,isOpen:D.isOpen};return{uid:s.uid,dom:s.dom,behaviours:Io(s.inlineBehaviours,[D.config({isPartOf:(C,k,E)=>oc(k,E)||((B,$)=>s.getRelated(B).exists(L=>oc(L,$)))(C,E),getAttachPoint:C=>s.lazySink(C).getOrDie(),onOpen:C=>{s.onShow(C)},onClose:C=>{s.onHide(C)}}),vt.config({store:{mode:"memory",initialValue:P.none()}}),sc.config({channels:{...ue({isExtraPart:i.isExtraPart,...s.fireDismissalEventInstead.map(C=>({fireEventInstead:{event:C.event}})).getOr({})}),...ze({...s.fireRepositionEventInstead.map(C=>({fireEventInstead:{event:C.event}})).getOr({}),doReposition:b})}})]),eventOrder:s.eventOrder,apis:v}},apis:{showAt:(s,i,u,f)=>{s.showAt(i,u,f)},showWithinBounds:(s,i,u,f,b)=>{s.showWithinBounds(i,u,f,b)},showMenuAt:(s,i,u,f)=>{s.showMenuAt(i,u,f)},showMenuWithinBounds:(s,i,u,f,b)=>{s.showMenuWithinBounds(i,u,f,b)},hide:(s,i)=>{s.hide(i)},isOpen:(s,i)=>s.isOpen(i),getContent:(s,i)=>s.getContent(i),setContent:(s,i,u)=>{s.setContent(i,u)},reposition:(s,i)=>{s.reposition(i)}}});var tf,h2,XC=tinymce.util.Tools.resolve("tinymce.util.Delay"),oy=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),yD=tinymce.util.Tools.resolve("tinymce.EditorManager"),Qm=tinymce.util.Tools.resolve("tinymce.Env");(function(s){s.default="wrap",s.floating="floating",s.sliding="sliding",s.scrolling="scrolling"})(tf||(tf={})),function(s){s.auto="auto",s.top="top",s.bottom="bottom"}(h2||(h2={}));const Gs=s=>i=>i.options.get(s),p2=s=>i=>P.from(s(i)),xD=s=>{const i=Qm.deviceType.isPhone(),u=Qm.deviceType.isTablet()||i,f=s.options.register,b=C=>g(C)||C===!1,v=C=>g(C)||X(C);f("skin",{processor:C=>g(C)||C===!1,default:"oxide"}),f("skin_url",{processor:"string"}),f("height",{processor:v,default:Math.max(s.getElement().offsetHeight,400)}),f("width",{processor:v,default:oy.DOM.getStyle(s.getElement(),"width")}),f("min_height",{processor:"number",default:100}),f("min_width",{processor:"number"}),f("max_height",{processor:"number"}),f("max_width",{processor:"number"}),f("style_formats",{processor:"object[]"}),f("style_formats_merge",{processor:"boolean",default:!1}),f("style_formats_autohide",{processor:"boolean",default:!1}),f("line_height_formats",{processor:"string",default:"1 1.1 1.2 1.3 1.4 1.5 2"}),f("font_family_formats",{processor:"string",default:"Andale Mono=andale mono,monospace;Arial=arial,helvetica,sans-serif;Arial Black=arial black,sans-serif;Book Antiqua=book antiqua,palatino,serif;Comic Sans MS=comic sans ms,sans-serif;Courier New=courier new,courier,monospace;Georgia=georgia,palatino,serif;Helvetica=helvetica,arial,sans-serif;Impact=impact,sans-serif;Symbol=symbol;Tahoma=tahoma,arial,helvetica,sans-serif;Terminal=terminal,monaco,monospace;Times New Roman=times new roman,times,serif;Trebuchet MS=trebuchet ms,geneva,sans-serif;Verdana=verdana,geneva,sans-serif;Webdings=webdings;Wingdings=wingdings,zapf dingbats"}),f("font_size_formats",{processor:"string",default:"8pt 10pt 12pt 14pt 18pt 24pt 36pt"}),f("font_size_input_default_unit",{processor:"string",default:"pt"}),f("block_formats",{processor:"string",default:"Paragraph=p;Heading 1=h1;Heading 2=h2;Heading 3=h3;Heading 4=h4;Heading 5=h5;Heading 6=h6;Preformatted=pre"}),f("content_langs",{processor:"object[]"}),f("removed_menuitems",{processor:"string",default:""}),f("menubar",{processor:C=>g(C)||O(C),default:!i}),f("menu",{processor:"object",default:{}}),f("toolbar",{processor:C=>O(C)||g(C)||A(C)?{value:C,valid:!0}:{valid:!1,message:"Must be a boolean, string or array."},default:!0}),Tt(9,C=>{f("toolbar"+(C+1),{processor:"string"})}),f("toolbar_mode",{processor:"string",default:u?"scrolling":"floating"}),f("toolbar_groups",{processor:"object",default:{}}),f("toolbar_location",{processor:"string",default:h2.auto}),f("toolbar_persist",{processor:"boolean",default:!1}),f("toolbar_sticky",{processor:"boolean",default:s.inline}),f("toolbar_sticky_offset",{processor:"number",default:0}),f("fixed_toolbar_container",{processor:"string",default:""}),f("fixed_toolbar_container_target",{processor:"object"}),f("ui_mode",{processor:"string",default:"combined"}),f("file_picker_callback",{processor:"function"}),f("file_picker_validator_handler",{processor:"function"}),f("file_picker_types",{processor:"string"}),f("typeahead_urls",{processor:"boolean",default:!0}),f("anchor_top",{processor:b,default:"#top"}),f("anchor_bottom",{processor:b,default:"#bottom"}),f("draggable_modal",{processor:"boolean",default:!1}),f("statusbar",{processor:"boolean",default:!0}),f("elementpath",{processor:"boolean",default:!0}),f("branding",{processor:"boolean",default:!0}),f("promotion",{processor:"boolean",default:!0}),f("resize",{processor:C=>C==="both"||O(C),default:!Qm.deviceType.isTouch()}),f("sidebar_show",{processor:"string"}),f("help_accessibility",{processor:"boolean",default:s.hasPlugin("help")}),f("default_font_stack",{processor:"string[]",default:[]})},qE=Gs("readonly"),b2=Gs("height"),v2=Gs("width"),y2=p2(Gs("min_width")),sy=p2(Gs("min_height")),ry=p2(Gs("max_width")),JC=p2(Gs("max_height")),ay=p2(Gs("style_formats")),QC=Gs("style_formats_merge"),wD=Gs("style_formats_autohide"),GE=Gs("content_langs"),CD=Gs("removed_menuitems"),i0=Gs("toolbar_mode"),eS=Gs("toolbar_groups"),gb=Gs("toolbar_location"),YE=Gs("fixed_toolbar_container"),I8=Gs("fixed_toolbar_container_target"),SD=Gs("toolbar_persist"),XE=Gs("toolbar_sticky_offset"),up=Gs("menubar"),iy=Gs("toolbar"),tS=Gs("file_picker_callback"),x2=Gs("file_picker_validator_handler"),JE=Gs("font_size_input_default_unit"),w2=Gs("file_picker_types"),nS=Gs("typeahead_urls"),_D=Gs("anchor_top"),kD=Gs("anchor_bottom"),eg=Gs("draggable_modal"),ED=Gs("statusbar"),AD=Gs("elementpath"),zu=Gs("branding"),Gi=Gs("resize"),TD=Gs("paste_as_text"),oS=Gs("sidebar_show"),OD=Gs("promotion"),QE=Gs("help_accessibility"),sS=Gs("default_font_stack"),hb=s=>s.options.get("skin")===!1,C2=s=>s.options.get("menubar")!==!1,rS=s=>{const i=s.options.get("skin_url");if(hb(s))return i;if(i)return s.documentBaseURI.toAbsolute(i);{const u=s.options.get("skin");return yD.baseURL+"/skins/ui/"+u}},aS=s=>P.from(s.options.get("skin_url")),RD=s=>s.options.get("line_height_formats").split(" "),S2=s=>{const i=iy(s),u=g(i),f=A(i)&&i.length>0;return!_2(s)&&(f||u||i===!0)},iS=s=>{const i=Tt(9,f=>s.options.get("toolbar"+(f+1))),u=mn(i,g);return Vo(u.length>0,u)},_2=s=>iS(s).fold(()=>{const i=iy(s);return oe(i,g)&&i.length>0},Ve),eA=s=>gb(s)===h2.bottom,tA=s=>{var i;if(!s.inline)return P.none();const u=(i=YE(s))!==null&&i!==void 0?i:"";if(u.length>0)return Rr(_n(),u);const f=I8(s);return z(f)?P.some(xn(f)):P.none()},l0=s=>s.inline&&tA(s).isSome(),lS=s=>tA(s).getOrThunk(()=>it(bt(xn(s.getElement())))),cS=s=>s.inline&&!C2(s)&&!S2(s)&&!_2(s),dp=s=>(s.options.get("toolbar_sticky")||s.inline)&&!l0(s)&&!cS(s),fp=s=>!l0(s)&&s.options.get("ui_mode")==="split",pb=s=>{const i=s.options.get("menu");return so(i,u=>({...u,items:u.items}))};var k2=Object.freeze({__proto__:null,get ToolbarMode(){return tf},get ToolbarLocation(){return h2},register:xD,getSkinUrl:rS,getSkinUrlOption:aS,isReadOnly:qE,isSkinDisabled:hb,getHeightOption:b2,getWidthOption:v2,getMinWidthOption:y2,getMinHeightOption:sy,getMaxWidthOption:ry,getMaxHeightOption:JC,getUserStyleFormats:ay,shouldMergeStyleFormats:QC,shouldAutoHideStyleFormats:wD,getLineHeightFormats:RD,getContentLanguages:GE,getRemovedMenuItems:CD,isMenubarEnabled:C2,isMultipleToolbars:_2,isToolbarEnabled:S2,isToolbarPersist:SD,getMultipleToolbarsOption:iS,getUiContainer:lS,useFixedContainer:l0,isSplitUiMode:fp,getToolbarMode:i0,isDraggableModal:eg,isDistractionFree:cS,isStickyToolbar:dp,getStickyToolbarOffset:XE,getToolbarLocation:gb,isToolbarLocationBottom:eA,getToolbarGroups:eS,getMenus:pb,getMenubar:up,getToolbar:iy,getFilePickerCallback:tS,getFilePickerTypes:w2,useTypeaheadUrls:nS,getAnchorTop:_D,getAnchorBottom:kD,getFilePickerValidatorHandler:x2,getFontSizeInputDefaultUnit:JE,useStatusBar:ED,useElementPath:AD,promotionEnabled:OD,useBranding:zu,getResize:Gi,getPasteAsText:TD,getSidebarShow:oS,useHelpAccessibility:QE,getDefaultFontStack:sS});const P8=["visible","hidden","clip"],DD=s=>xc(s).length>0&&!ct(P8,s),ND=s=>{if(bl(s)){const i=Sr(s,"overflow-x"),u=Sr(s,"overflow-y");return DD(i)||DD(u)}return!1},bb=(s,i)=>fp(s)?((u,f)=>{const b=ab(f,ND),v=b.length===0?Qt(f).map(gn).map(C=>ab(C,ND)).getOr([]):b;return Be(v).map(C=>({element:C,others:v.slice(1),isFullscreen:()=>(k=>k.plugins.fullscreen&&k.plugins.fullscreen.isFullscreen())(u)}))})(s,i):P.none(),vb=s=>{const i=[...$e(s.others,ta),Aa()];return s.isFullscreen()?Aa():((u,f)=>Gt(f,(b,v)=>Gc(b,v),u))(ta(s.element),i)},Ol=dd({name:"Button",factory:s=>{const i=ny(s.action),u=s.dom.tag,f=b=>on(s.dom,"attributes").bind(v=>on(v,b));return{uid:s.uid,dom:s.dom,components:s.components,events:i,behaviours:uo(s.buttonBehaviours,[vo.config({}),qn.config({mode:"execution",useSpace:!0,useEnter:!0})]),domModification:{attributes:u==="button"?{type:f("type").getOr("button"),...f("role").map(b=>({role:b})).getOr({})}:{role:s.role.getOr(f("role").getOr("button"))}},eventOrder:s.eventOrder}},configFields:[mt("uid",void 0),Ft("dom"),mt("components",[]),xo("buttonBehaviours",[vo,qn]),rs("action"),rs("role"),mt("eventOrder",{})]}),Jg=s=>{const i=nl(s),u=Ns(i),f=(C=>{const k=C.dom.attributes!==void 0?C.dom.attributes:[];return Gt(k,(E,B)=>B.name==="class"?E:{...E,[B.name]:B.value},{})})(i),b=(C=>Array.prototype.slice.call(C.dom.classList,0))(i),v=u.length===0?{}:{innerHtml:Yf(i)};return{tag:ol(i),classes:b,attributes:f,...v}},$s=s=>{const i=(u=>u.uid!==void 0)(s)&&Do(s,"uid")?s.uid:Bu("memento");return{get:u=>u.getSystem().getByUid(i).getOrDie(),getOpt:u=>u.getSystem().getByUid(i).toOptional(),asSpec:()=>({...s,uid:i})}};var B8=Object.freeze({__proto__:null,exhibit:(s,i)=>Tr({attributes:hc([{key:i.tabAttr,value:"true"}])})}),ID=[mt("tabAttr","data-alloy-tabstop")];const lr=Va({fields:ID,name:"tabstopping",active:B8}),nA=In("tooltip.exclusive"),E2=In("tooltip.show"),A2=In("tooltip.hide"),T2=In("tooltip.immediateHide"),O2=In("tooltip.immediateShow"),PD=(s,i,u)=>{s.getSystem().broadcastOn([nA],{})};var M8=Object.freeze({__proto__:null,hideAllExclusive:PD,immediateOpenClose:(s,i,u,f)=>Mo(s,f?O2:T2),isEnabled:(s,i,u)=>u.isEnabled(),setComponents:(s,i,u,f)=>{u.getTooltip().each(b=>{b.getSystem().isConnected()&&io.set(b,f)})},setEnabled:(s,i,u,f)=>u.setEnabled(f)}),L8=Object.freeze({__proto__:null,events:(s,i)=>{const u=v=>{i.getTooltip().each(C=>{C.getSystem().isConnected()&&(zl(C),s.onHide(v,C),i.clearTooltip())}),i.clearTimer()},f=v=>{if(!i.isShowing()&&i.isEnabled()){PD(v);const C=s.lazySink(v).getOrDie(),k=v.getSystem().build({dom:s.tooltipDom,components:s.tooltipComponents,events:yo(s.mode==="normal"?[Rt(Un(),E=>{Mo(v,E2)}),Rt(Eo(),E=>{Mo(v,A2)})]:[]),behaviours:en([io.config({})])});i.setTooltip(k),qm(C,k),s.onShow(v,k),qi.position(C,k,{anchor:s.anchor(v)})}},b=v=>{i.getTooltip().each(C=>{const k=s.lazySink(v).getOrDie();qi.position(k,C,{anchor:s.anchor(v)})})};return yo(tn([[Vh(v=>{s.onSetup(v)}),Rt(E2,v=>{i.resetTimer(()=>{f(v)},s.delayForShow())}),Rt(A2,v=>{i.resetTimer(()=>{u(v)},s.delayForHide())}),Rt(O2,v=>{i.resetTimer(()=>{f(v)},0)}),Rt(T2,v=>{i.resetTimer(()=>{u(v)},0)}),Rt(ec(),(v,C)=>{const k=C;k.universal||ct(k.channels,nA)&&u(v)}),Du(v=>{u(v)})],(()=>{switch(s.mode){case"normal":return[Rt(_s(),v=>{Mo(v,O2)}),Rt(zd(),v=>{Mo(v,T2)}),Rt(Un(),v=>{Mo(v,E2)}),Rt(Eo(),v=>{Mo(v,A2)})];case"follow-highlight":return[Rt(mv(),(v,C)=>{Mo(v,E2)}),Rt(Kd(),v=>{Mo(v,A2)})];case"children-normal":return[Rt(_s(),(v,C)=>{ma(v.element).each(k=>{vl(C.event.target,"[data-mce-tooltip]")&&i.getTooltip().fold(()=>{Mo(v,O2)},E=>{i.isShowing()&&(s.onShow(v,E),b(v))})})}),Rt(zd(),v=>{ma(v.element).fold(()=>{Mo(v,T2)},j)}),Rt(Un(),v=>{Rr(v.element,"[data-mce-tooltip]:hover").each(C=>{i.getTooltip().fold(()=>{Mo(v,E2)},k=>{i.isShowing()&&(s.onShow(v,k),b(v))})})}),Rt(Eo(),v=>{Rr(v.element,"[data-mce-tooltip]:hover").fold(()=>{Mo(v,A2)},j)})];default:return[Rt(_s(),(v,C)=>{ma(v.element).each(k=>{vl(C.event.target,"[data-mce-tooltip]")&&i.getTooltip().fold(()=>{Mo(v,O2)},E=>{i.isShowing()&&(s.onShow(v,E),b(v))})})}),Rt(zd(),v=>{ma(v.element).fold(()=>{Mo(v,T2)},j)})]}})()]))}}),F8=[Ft("lazySink"),Ft("tooltipDom"),mt("exclusive",!0),mt("tooltipComponents",[]),er("delayForShow",q(300)),er("delayForHide",q(300)),er("onSetup",j),Oc("mode","normal",["normal","follow-highlight","children-keyboard-focus","children-normal"]),mt("anchor",s=>({type:"hotspot",hotspot:s,layouts:{onLtr:q([fa,Wr,Gr,wa,Yr,qs]),onRtl:q([fa,Wr,Gr,wa,Yr,qs])},bubble:su(0,-2,{})})),vs("onHide"),vs("onShow")],$8=Object.freeze({__proto__:null,init:()=>{const s=Hn(!0),i=bs(),u=bs(),f=()=>{i.on(clearTimeout)},b=q("not-implemented");return xa({getTooltip:u.get,isShowing:u.isSet,setTooltip:u.set,clearTooltip:u.clear,clearTimer:f,resetTimer:(v,C)=>{f(),i.set(setTimeout(v,C))},readState:b,isEnabled:()=>s.get(),setEnabled:v=>s.set(v)})}});const Sa=Va({fields:F8,name:"tooltipping",active:L8,state:$8,apis:M8}),{entries:BD,setPrototypeOf:oA,isFrozen:MD,getPrototypeOf:LD,getOwnPropertyDescriptor:V8}=Object;let{freeze:au,seal:tg,create:FD}=Object,{apply:sA,construct:rA}=typeof Reflect<"u"&&Reflect;sA||(sA=function(s,i,u){return s.apply(i,u)}),au||(au=function(s){return s}),tg||(tg=function(s){return s}),rA||(rA=function(s,i){return new s(...i)});const aA=am(Array.prototype.forEach),H8=am(Array.prototype.pop),R2=am(Array.prototype.push),uS=am(String.prototype.toLowerCase),dS=am(String.prototype.toString),z8=am(String.prototype.match),kn=am(String.prototype.replace),c0=am(String.prototype.indexOf),U8=am(String.prototype.trim),hd=am(RegExp.prototype.test),yb=(fS=TypeError,function(){for(var s=arguments.length,i=new Array(s),u=0;u<s;u++)i[u]=arguments[u];return rA(fS,i)});var fS;function am(s){return function(i){for(var u=arguments.length,f=new Array(u>1?u-1:0),b=1;b<u;b++)f[b-1]=arguments[b];return sA(s,i,f)}}function tr(s,i,u){var f;u=(f=u)!==null&&f!==void 0?f:uS,oA&&oA(s,null);let b=i.length;for(;b--;){let v=i[b];if(typeof v=="string"){const C=u(v);C!==v&&(MD(i)||(i[b]=C),v=C)}s[v]=!0}return s}function ly(s){const i=FD(null);for(const[u,f]of BD(s))i[u]=f;return i}function mS(s,i){for(;s!==null;){const u=V8(s,i);if(u){if(u.get)return am(u.get);if(typeof u.value=="function")return am(u.value)}s=LD(s)}return function(u){return console.warn("fallback value for",u),null}}const iA=au(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),D2=au(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),u0=au(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),$D=au(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),lA=au(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),W8=au(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),VD=au(["#text"]),j8=au(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),gS=au(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),HD=au(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),hS=au(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),Z8=tg(/\{\{[\w\W]*|[\w\W]*\}\}/gm),K8=tg(/<%[\w\W]*|[\w\W]*%>/gm),cA=tg(/\${[\w\W]*}/gm),q8=tg(/^data-[\-\w.\u00B7-\uFFFF]/),G8=tg(/^aria-[\-\w]+$/),zD=tg(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),Y8=tg(/^(?:\w+script|data):/i),X8=tg(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),Qg=tg(/^html$/i);var N2=Object.freeze({__proto__:null,MUSTACHE_EXPR:Z8,ERB_EXPR:K8,TMPLIT_EXPR:cA,DATA_ATTR:q8,ARIA_ATTR:G8,IS_ALLOWED_URI:zD,IS_SCRIPT_OR_DATA:Y8,ATTR_WHITESPACE:X8,DOCTYPE_NAME:Qg});const J8=()=>typeof window>"u"?null:window;var Q8=function s(){let i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:J8();const u=Ct=>s(Ct);if(u.version="3.0.5",u.removed=[],!i||!i.document||i.document.nodeType!==9)return u.isSupported=!1,u;const f=i.document,b=f.currentScript;let{document:v}=i;const{DocumentFragment:C,HTMLTemplateElement:k,Node:E,Element:B,NodeFilter:$,NamedNodeMap:L=i.NamedNodeMap||i.MozNamedAttrMap,HTMLFormElement:Z,DOMParser:Q,trustedTypes:se}=i,me=B.prototype,pe=mS(me,"cloneNode"),Ee=mS(me,"nextSibling"),he=mS(me,"childNodes"),ge=mS(me,"parentNode");if(typeof k=="function"){const Ct=v.createElement("template");Ct.content&&Ct.content.ownerDocument&&(v=Ct.content.ownerDocument)}let Ce,Ae="";const{implementation:Ie,createNodeIterator:Xe,createDocumentFragment:dt,getElementsByTagName:Lt}=v,{importNode:Dt}=f;let At={};u.isSupported=typeof BD=="function"&&typeof ge=="function"&&Ie&&Ie.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:Jt,ERB_EXPR:En,TMPLIT_EXPR:zn,DATA_ATTR:Qn,ARIA_ATTR:Co,IS_SCRIPT_OR_DATA:es,ATTR_WHITESPACE:yr}=N2;let{IS_ALLOWED_URI:Dr}=N2,$o=null;const ys=tr({},[...iA,...D2,...u0,...lA,...VD]);let ao=null;const Nr=tr({},[...j8,...gS,...HD,...hS]);let Ys=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Rl=null,Dl=null,Ai=!0,di=!0,kp=!1,$y=!0,Hb=!1,Ep=!1,$w=!1,zb=!1,gh=!1,F0=!1,$0=!1,Vy=!0,ek=!1,Vw=!0,Ub=!1,hh={},Ap=null;const Hw=tr({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let zw=null;const Ts=tr({},["audio","video","img","source","image","track"]);let ph=null;const gm=tr({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),V0="http://www.w3.org/1998/Math/MathML",tk="http://www.w3.org/2000/svg",Tp="http://www.w3.org/1999/xhtml";let Hy=Tp,nO=!1,nk=null;const rH=tr({},[V0,tk,Tp],dS);let zy;const aH=["application/xhtml+xml","text/html"];let cc,H0=null;const iH=v.createElement("form"),hB=function(Ct){return Ct instanceof RegExp||Ct instanceof Function},ok=function(Ct){if(!H0||H0!==Ct){if(Ct&&typeof Ct=="object"||(Ct={}),Ct=ly(Ct),zy=zy=aH.indexOf(Ct.PARSER_MEDIA_TYPE)===-1?"text/html":Ct.PARSER_MEDIA_TYPE,cc=zy==="application/xhtml+xml"?dS:uS,$o="ALLOWED_TAGS"in Ct?tr({},Ct.ALLOWED_TAGS,cc):ys,ao="ALLOWED_ATTR"in Ct?tr({},Ct.ALLOWED_ATTR,cc):Nr,nk="ALLOWED_NAMESPACES"in Ct?tr({},Ct.ALLOWED_NAMESPACES,dS):rH,ph="ADD_URI_SAFE_ATTR"in Ct?tr(ly(gm),Ct.ADD_URI_SAFE_ATTR,cc):gm,zw="ADD_DATA_URI_TAGS"in Ct?tr(ly(Ts),Ct.ADD_DATA_URI_TAGS,cc):Ts,Ap="FORBID_CONTENTS"in Ct?tr({},Ct.FORBID_CONTENTS,cc):Hw,Rl="FORBID_TAGS"in Ct?tr({},Ct.FORBID_TAGS,cc):{},Dl="FORBID_ATTR"in Ct?tr({},Ct.FORBID_ATTR,cc):{},hh="USE_PROFILES"in Ct&&Ct.USE_PROFILES,Ai=Ct.ALLOW_ARIA_ATTR!==!1,di=Ct.ALLOW_DATA_ATTR!==!1,kp=Ct.ALLOW_UNKNOWN_PROTOCOLS||!1,$y=Ct.ALLOW_SELF_CLOSE_IN_ATTR!==!1,Hb=Ct.SAFE_FOR_TEMPLATES||!1,Ep=Ct.WHOLE_DOCUMENT||!1,gh=Ct.RETURN_DOM||!1,F0=Ct.RETURN_DOM_FRAGMENT||!1,$0=Ct.RETURN_TRUSTED_TYPE||!1,zb=Ct.FORCE_BODY||!1,Vy=Ct.SANITIZE_DOM!==!1,ek=Ct.SANITIZE_NAMED_PROPS||!1,Vw=Ct.KEEP_CONTENT!==!1,Ub=Ct.IN_PLACE||!1,Dr=Ct.ALLOWED_URI_REGEXP||zD,Hy=Ct.NAMESPACE||Tp,Ys=Ct.CUSTOM_ELEMENT_HANDLING||{},Ct.CUSTOM_ELEMENT_HANDLING&&hB(Ct.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(Ys.tagNameCheck=Ct.CUSTOM_ELEMENT_HANDLING.tagNameCheck),Ct.CUSTOM_ELEMENT_HANDLING&&hB(Ct.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(Ys.attributeNameCheck=Ct.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),Ct.CUSTOM_ELEMENT_HANDLING&&typeof Ct.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(Ys.allowCustomizedBuiltInElements=Ct.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Hb&&(di=!1),F0&&(gh=!0),hh&&($o=tr({},[...VD]),ao=[],hh.html===!0&&(tr($o,iA),tr(ao,j8)),hh.svg===!0&&(tr($o,D2),tr(ao,gS),tr(ao,hS)),hh.svgFilters===!0&&(tr($o,u0),tr(ao,gS),tr(ao,hS)),hh.mathMl===!0&&(tr($o,lA),tr(ao,HD),tr(ao,hS))),Ct.ADD_TAGS&&($o===ys&&($o=ly($o)),tr($o,Ct.ADD_TAGS,cc)),Ct.ADD_ATTR&&(ao===Nr&&(ao=ly(ao)),tr(ao,Ct.ADD_ATTR,cc)),Ct.ADD_URI_SAFE_ATTR&&tr(ph,Ct.ADD_URI_SAFE_ATTR,cc),Ct.FORBID_CONTENTS&&(Ap===Hw&&(Ap=ly(Ap)),tr(Ap,Ct.FORBID_CONTENTS,cc)),Vw&&($o["#text"]=!0),Ep&&tr($o,["html","head","body"]),$o.table&&(tr($o,["tbody"]),delete Rl.tbody),Ct.TRUSTED_TYPES_POLICY){if(typeof Ct.TRUSTED_TYPES_POLICY.createHTML!="function")throw yb('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof Ct.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw yb('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');Ce=Ct.TRUSTED_TYPES_POLICY,Ae=Ce.createHTML("")}else Ce===void 0&&(Ce=function(eo,Ao){if(typeof eo!="object"||typeof eo.createPolicy!="function")return null;let xr=null;const ga="data-tt-policy-suffix";Ao&&Ao.hasAttribute(ga)&&(xr=Ao.getAttribute(ga));const Na="dompurify"+(xr?"#"+xr:"");try{return eo.createPolicy(Na,{createHTML:_a=>_a,createScriptURL:_a=>_a})}catch{return console.warn("TrustedTypes policy "+Na+" could not be created."),null}}(se,b)),Ce!==null&&typeof Ae=="string"&&(Ae=Ce.createHTML(""));au&&au(Ct),H0=Ct}},pB=tr({},["mi","mo","mn","ms","mtext"]),bB=tr({},["foreignobject","desc","title","annotation-xml"]),ko=tr({},["title","style","font","a","script"]),Wb=tr({},D2);tr(Wb,u0),tr(Wb,$D);const sk=tr({},lA);tr(sk,W8);const jb=function(Ct){R2(u.removed,{element:Ct});try{Ct.parentNode.removeChild(Ct)}catch{Ct.remove()}},Uy=function(Ct,eo){try{R2(u.removed,{attribute:eo.getAttributeNode(Ct),from:eo})}catch{R2(u.removed,{attribute:null,from:eo})}if(eo.removeAttribute(Ct),Ct==="is"&&!ao[Ct])if(gh||F0)try{jb(eo)}catch{}else try{eo.setAttribute(Ct,"")}catch{}},oO=function(Ct){let eo,Ao;if(zb)Ct="<remove></remove>"+Ct;else{const Na=z8(Ct,/^[\r\n\t ]+/);Ao=Na&&Na[0]}zy==="application/xhtml+xml"&&Hy===Tp&&(Ct='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+Ct+"</body></html>");const xr=Ce?Ce.createHTML(Ct):Ct;if(Hy===Tp)try{eo=new Q().parseFromString(xr,zy)}catch{}if(!eo||!eo.documentElement){eo=Ie.createDocument(Hy,"template",null);try{eo.documentElement.innerHTML=nO?Ae:xr}catch{}}const ga=eo.body||eo.documentElement;return Ct&&Ao&&ga.insertBefore(v.createTextNode(Ao),ga.childNodes[0]||null),Hy===Tp?Lt.call(eo,Ep?"html":"body")[0]:Ep?eo.documentElement:ga},sO=function(Ct){return Xe.call(Ct.ownerDocument||Ct,Ct,$.SHOW_ELEMENT|$.SHOW_COMMENT|$.SHOW_TEXT,null,!1)},rO=function(Ct){return typeof E=="object"?Ct instanceof E:Ct&&typeof Ct=="object"&&typeof Ct.nodeType=="number"&&typeof Ct.nodeName=="string"},gf=function(Ct,eo,Ao){At[Ct]&&aA(At[Ct],xr=>{xr.call(u,eo,Ao,H0)})},vB=function(Ct){let eo;if(gf("beforeSanitizeElements",Ct,null),(Ao=Ct)instanceof Z&&(typeof Ao.nodeName!="string"||typeof Ao.textContent!="string"||typeof Ao.removeChild!="function"||!(Ao.attributes instanceof L)||typeof Ao.removeAttribute!="function"||typeof Ao.setAttribute!="function"||typeof Ao.namespaceURI!="string"||typeof Ao.insertBefore!="function"||typeof Ao.hasChildNodes!="function"))return jb(Ct),!0;var Ao;const xr=cc(Ct.nodeName);if(gf("uponSanitizeElement",Ct,{tagName:xr,allowedTags:$o}),Ct.hasChildNodes()&&!rO(Ct.firstElementChild)&&(!rO(Ct.content)||!rO(Ct.content.firstElementChild))&&hd(/<[/\w]/g,Ct.innerHTML)&&hd(/<[/\w]/g,Ct.textContent))return jb(Ct),!0;if(!$o[xr]||Rl[xr]){if(!Rl[xr]&&yB(xr)&&(Ys.tagNameCheck instanceof RegExp&&hd(Ys.tagNameCheck,xr)||Ys.tagNameCheck instanceof Function&&Ys.tagNameCheck(xr)))return!1;if(Vw&&!Ap[xr]){const ga=ge(Ct)||Ct.parentNode,Na=he(Ct)||Ct.childNodes;if(Na&&ga)for(let _a=Na.length-1;_a>=0;--_a)ga.insertBefore(pe(Na[_a],!0),Ee(Ct))}return jb(Ct),!0}return Ct instanceof B&&!function(ga){let Na=ge(ga);Na&&Na.tagName||(Na={namespaceURI:Hy,tagName:"template"});const _a=uS(ga.tagName),Xa=uS(Na.tagName);return!!nk[ga.namespaceURI]&&(ga.namespaceURI===tk?Na.namespaceURI===Tp?_a==="svg":Na.namespaceURI===V0?_a==="svg"&&(Xa==="annotation-xml"||pB[Xa]):!!Wb[_a]:ga.namespaceURI===V0?Na.namespaceURI===Tp?_a==="math":Na.namespaceURI===tk?_a==="math"&&bB[Xa]:!!sk[_a]:ga.namespaceURI===Tp?!(Na.namespaceURI===tk&&!bB[Xa])&&!(Na.namespaceURI===V0&&!pB[Xa])&&!sk[_a]&&(ko[_a]||!Wb[_a]):!(zy!=="application/xhtml+xml"||!nk[ga.namespaceURI]))}(Ct)?(jb(Ct),!0):xr!=="noscript"&&xr!=="noembed"&&xr!=="noframes"||!hd(/<\/no(script|embed|frames)/i,Ct.innerHTML)?(Hb&&Ct.nodeType===3&&(eo=Ct.textContent,eo=kn(eo,Jt," "),eo=kn(eo,En," "),eo=kn(eo,zn," "),Ct.textContent!==eo&&(R2(u.removed,{element:Ct.cloneNode()}),Ct.textContent=eo)),gf("afterSanitizeElements",Ct,null),!1):(jb(Ct),!0)},aO=function(Ct,eo,Ao){if(Vy&&(eo==="id"||eo==="name")&&(Ao in v||Ao in iH))return!1;if(!(di&&!Dl[eo]&&hd(Qn,eo))){if(!(Ai&&hd(Co,eo))){if(!ao[eo]||Dl[eo]){if(!(yB(Ct)&&(Ys.tagNameCheck instanceof RegExp&&hd(Ys.tagNameCheck,Ct)||Ys.tagNameCheck instanceof Function&&Ys.tagNameCheck(Ct))&&(Ys.attributeNameCheck instanceof RegExp&&hd(Ys.attributeNameCheck,eo)||Ys.attributeNameCheck instanceof Function&&Ys.attributeNameCheck(eo))||eo==="is"&&Ys.allowCustomizedBuiltInElements&&(Ys.tagNameCheck instanceof RegExp&&hd(Ys.tagNameCheck,Ao)||Ys.tagNameCheck instanceof Function&&Ys.tagNameCheck(Ao))))return!1}else if(!ph[eo]){if(!hd(Dr,kn(Ao,yr,""))){if((eo!=="src"&&eo!=="xlink:href"&&eo!=="href"||Ct==="script"||c0(Ao,"data:")!==0||!zw[Ct])&&!(kp&&!hd(es,kn(Ao,yr,"")))){if(Ao)return!1}}}}}return!0},yB=function(Ct){return Ct.indexOf("-")>0},xB=function(Ct){let eo,Ao,xr,ga;gf("beforeSanitizeAttributes",Ct,null);const{attributes:Na}=Ct;if(!Na)return;const _a={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:ao};for(ga=Na.length;ga--;){eo=Na[ga];const{name:Xa,namespaceURI:Wy}=eo;Ao=Xa==="value"?eo.value:U8(eo.value);const cH=Ao;if(xr=cc(Xa),_a.attrName=xr,_a.attrValue=Ao,_a.keepAttr=!0,_a.forceKeepAttr=void 0,gf("uponSanitizeAttribute",Ct,_a),Ao=_a.attrValue,_a.forceKeepAttr)continue;if(!_a.keepAttr){Uy(Xa,Ct);continue}if(!$y&&hd(/\/>/i,Ao)){Uy(Xa,Ct);continue}Hb&&(Ao=kn(Ao,Jt," "),Ao=kn(Ao,En," "),Ao=kn(Ao,zn," "));const wB=cc(Ct.nodeName);if(aO(wB,xr,Ao)){if(!ek||xr!=="id"&&xr!=="name"||(Uy(Xa,Ct),Ao="user-content-"+Ao),Ce&&typeof se=="object"&&typeof se.getAttributeType=="function"&&!Wy)switch(se.getAttributeType(wB,xr)){case"TrustedHTML":Ao=Ce.createHTML(Ao);break;case"TrustedScriptURL":Ao=Ce.createScriptURL(Ao)}if(Ao!==cH)try{Wy?Ct.setAttributeNS(Wy,Xa,Ao):Ct.setAttribute(Xa,Ao)}catch{Uy(Xa,Ct)}}else Uy(Xa,Ct)}gf("afterSanitizeAttributes",Ct,null)},lH=function Ct(eo){let Ao;const xr=sO(eo);for(gf("beforeSanitizeShadowDOM",eo,null);Ao=xr.nextNode();)gf("uponSanitizeShadowNode",Ao,null),vB(Ao)||(Ao.content instanceof C&&Ct(Ao.content),xB(Ao));gf("afterSanitizeShadowDOM",eo,null)};return u.sanitize=function(Ct){let eo,Ao,xr,ga,Na=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(nO=!Ct,nO&&(Ct="<!-->"),typeof Ct!="string"&&!rO(Ct)){if(typeof Ct.toString!="function")throw yb("toString is not a function");if(typeof(Ct=Ct.toString())!="string")throw yb("dirty is not a string, aborting")}if(!u.isSupported)return Ct;if($w||ok(Na),u.removed=[],typeof Ct=="string"&&(Ub=!1),Ub){if(Ct.nodeName){const Wy=cc(Ct.nodeName);if(!$o[Wy]||Rl[Wy])throw yb("root node is forbidden and cannot be sanitized in-place")}}else if(Ct instanceof E)eo=oO("<!---->"),Ao=eo.ownerDocument.importNode(Ct,!0),Ao.nodeType===1&&Ao.nodeName==="BODY"||Ao.nodeName==="HTML"?eo=Ao:eo.appendChild(Ao);else{if(!gh&&!Hb&&!Ep&&Ct.indexOf("<")===-1)return Ce&&$0?Ce.createHTML(Ct):Ct;if(eo=oO(Ct),!eo)return gh?null:$0?Ae:""}eo&&zb&&jb(eo.firstChild);const _a=sO(Ub?Ct:eo);for(;xr=_a.nextNode();)vB(xr)||(xr.content instanceof C&&lH(xr.content),xB(xr));if(Ub)return Ct;if(gh){if(F0)for(ga=dt.call(eo.ownerDocument);eo.firstChild;)ga.appendChild(eo.firstChild);else ga=eo;return(ao.shadowroot||ao.shadowrootmode)&&(ga=Dt.call(f,ga,!0)),ga}let Xa=Ep?eo.outerHTML:eo.innerHTML;return Ep&&$o["!doctype"]&&eo.ownerDocument&&eo.ownerDocument.doctype&&eo.ownerDocument.doctype.name&&hd(Qg,eo.ownerDocument.doctype.name)&&(Xa="<!DOCTYPE "+eo.ownerDocument.doctype.name+`>
`+Xa),Hb&&(Xa=kn(Xa,Jt," "),Xa=kn(Xa,En," "),Xa=kn(Xa,zn," ")),Ce&&$0?Ce.createHTML(Xa):Xa},u.setConfig=function(Ct){ok(Ct),$w=!0},u.clearConfig=function(){H0=null,$w=!1},u.isValidAttribute=function(Ct,eo,Ao){H0||ok({});const xr=cc(Ct),ga=cc(eo);return aO(xr,ga,Ao)},u.addHook=function(Ct,eo){typeof eo=="function"&&(At[Ct]=At[Ct]||[],R2(At[Ct],eo))},u.removeHook=function(Ct){if(At[Ct])return H8(At[Ct])},u.removeHooks=function(Ct){At[Ct]&&(At[Ct]=[])},u.removeAllHooks=function(){At={}},u}();const UD=s=>Q8().sanitize(s);var nf=tinymce.util.Tools.resolve("tinymce.util.I18n");const eF={indent:!0,outdent:!0,"table-insert-column-after":!0,"table-insert-column-before":!0,"paste-column-after":!0,"paste-column-before":!0,"unordered-list":!0,"list-bull-circle":!0,"list-bull-default":!0,"list-bull-square":!0},WD="temporary-placeholder",uA=s=>()=>on(s,WD).getOr("!not found!"),xb=(s,i)=>{const u=s.toLowerCase();if(nf.isRtl()){const f=((b,v)=>yc(b,v)?b:((C,k)=>C+k)(b,v))(u,"-rtl");return ro(i,f)?f:u}return u},I2=(s,i)=>on(i,xb(s,i)),jD=(s,i)=>{const u=i();return I2(s,u).getOrThunk(uA(u))},pS=()=>Fo("add-focusable",[cr(s=>{O1(s.element,"svg").each(i=>bn(i,"focusable","false"))})]),ZD=(s,i,u,f)=>{var b,v;const C=(E=>!!nf.isRtl()&&ro(eF,E))(i)?["tox-icon--flip"]:[],k=on(u,xb(i,u)).or(f).getOrThunk(uA(u));return{dom:{tag:s.tag,attributes:(b=s.attributes)!==null&&b!==void 0?b:{},classes:s.classes.concat(C),innerHtml:k},behaviours:en([...(v=s.behaviours)!==null&&v!==void 0?v:[],pS()])}},Uu=(s,i,u,f=P.none())=>ZD(i,s,u(),f),tF={success:"checkmark",error:"warning",err:"error",warning:"warning",warn:"warning",info:"info"},dA=dd({name:"Notification",factory:s=>{const i=In("notification-text"),u=$s({dom:Jg(`<p id=${i}>${UD(s.backstageProvider.translate(s.text))}</p>`),behaviours:en([io.config({})])}),f=L=>({dom:{tag:"div",classes:["tox-bar"],styles:{width:`${L}%`}}}),b=L=>({dom:{tag:"div",classes:["tox-text"],innerHtml:`${L}%`}}),v=$s({dom:{tag:"div",classes:s.progress?["tox-progress-bar","tox-progress-indicator"]:["tox-progress-bar"]},components:[{dom:{tag:"div",classes:["tox-bar-container"]},components:[f(0)]},b(0)],behaviours:en([io.config({})])}),C={updateProgress:(L,Z)=>{L.getSystem().isConnected()&&v.getOpt(L).each(Q=>{io.set(Q,[{dom:{tag:"div",classes:["tox-bar-container"]},components:[f(Z)]},b(Z)])})},updateText:(L,Z)=>{if(L.getSystem().isConnected()){const Q=u.get(L);io.set(Q,[sa(Z)])}}},k=tn([s.icon.toArray(),s.level.toArray(),s.level.bind(L=>P.from(tF[L])).toArray()]),E=$s(Ol.sketch({dom:{tag:"button",classes:["tox-notification__dismiss","tox-button","tox-button--naked","tox-button--icon"],attributes:{"aria-label":s.backstageProvider.translate("Close")}},components:[Uu("close",{tag:"span",classes:["tox-icon"]},s.iconProvider)],buttonBehaviours:en([lr.config({}),Sa.config({...s.backstageProvider.tooltips.getConfig({tooltipText:s.backstageProvider.translate("Close")})})]),action:L=>{s.onAction(L)}})),B=((L,Z,Q)=>{const se=Q(),me=te(L,pe=>ro(se,xb(pe,se)));return ZD({tag:"div",classes:["tox-notification__icon"]},me.getOr(WD),se,P.none())})(k,0,s.iconProvider),$=[B,{dom:{tag:"div",classes:["tox-notification__body"]},components:[u.asSpec()],behaviours:en([io.config({})])}];return{uid:s.uid,dom:{tag:"div",attributes:{role:"alert","aria-labelledby":i},classes:s.level.map(L=>["tox-notification","tox-notification--in",`tox-notification--${L}`]).getOr(["tox-notification","tox-notification--in"])},behaviours:en([lr.config({}),vo.config({}),qn.config({mode:"special",onEscape:L=>(s.onAction(L),P.some(!0))})]),components:$.concat(s.progress?[v.asSpec()]:[]).concat([E.asSpec()]),apis:C}},configFields:[rs("level"),Ft("progress"),rs("icon"),Ft("onAction"),Ft("text"),Ft("iconProvider"),Ft("backstageProvider")],apis:{updateProgress:(s,i,u)=>{s.updateProgress(i,u)},updateText:(s,i,u)=>{s.updateText(i,u)}}});var KD=(s,i,u,f)=>{const b=i.backstage.shared,v=()=>xn(s.queryCommandValue("ToggleView")===""?s.getContentAreaContainer():s.getContainer()),C=()=>{const E=ta(v());return P.some(E)},k=E=>{C().each(B=>{ht(E,$=>{Is($.element,"width"),La($.element)>B.width&&po($.element,"width",B.width+"px")})})};return{open:(E,B,$)=>{const L=()=>{f.on(se=>{B();const me=$();(pe=>{io.remove(pe,Z),Q()})(se),((pe,Ee)=>{Ns(pe.element).length===0?((he,ge)=>{Br.hide(he),f.clear(),ge&&s.focus()})(pe,Ee):((he,ge)=>{ge&&qn.focusIn(he)})(pe,Ee)})(se,me)})},Z=_i(dA.sketch({text:E.text,level:ct(["success","error","warning","warn","info"],E.type)?E.type:void 0,progress:E.progressBar===!0,icon:E.icon,onAction:L,iconProvider:b.providers.icons,backstageProvider:b.providers}));if(f.isSet()){const se=Vl(Z);f.on(me=>{io.append(me,se),Br.reposition(me),Or.refresh(me),k(me.components())})}else{const se=_i(Br.sketch({dom:{tag:"div",classes:["tox-notifications-container"],attributes:{"aria-label":"Notifications",role:"region"}},lazySink:b.getSink,fireDismissalEventInstead:{},...b.header.isPositionedAtTop()?{}:{fireRepositionEventInstead:{}},inlineBehaviours:en([qn.config({mode:"cyclic",selector:".tox-notification, .tox-notification a, .tox-notification button"}),io.config({}),...dp(s)&&!b.header.isPositionedAtTop()?[]:[Or.config({contextual:{lazyContext:()=>P.some(ta(v())),fadeInClass:"tox-notification-container-dock-fadein",fadeOutClass:"tox-notification-container-dock-fadeout",transitionClass:"tox-notification-container-dock-transition"},modes:["top"],lazyViewport:he=>bb(s,he.element).map(ge=>({bounds:vb(ge),optScrollEnv:P.some({currentScrollTop:ge.element.dom.scrollTop,scrollElmTop:Sl(ge.element).top})})).getOrThunk(()=>({bounds:Aa(),optScrollEnv:P.none()}))})]])})),me=Vl(Z),pe={maxHeightFunction:np()},Ee={...b.anchors.banner(),overrides:pe};f.set(se),u.add(se),Br.showWithinBounds(se,me,{anchor:Ee},C)}X(E.timeout)&&E.timeout>0&&XC.setEditorTimeout(s,()=>{L()},E.timeout);const Q=()=>{f.on(se=>{Br.reposition(se),Or.refresh(se),k(se.components())})};return{close:L,reposition:Q,text:se=>{dA.updateText(Z,se)},settings:E,getEl:()=>Z.element.dom,progressBar:{value:se=>{dA.updateProgress(Z,se)}}}},close:E=>{E.close()},getArgs:E=>E.settings}},P2;(function(s){s[s.CLOSE_ON_EXECUTE=0]="CLOSE_ON_EXECUTE",s[s.BUBBLE_TO_SANDBOX=1]="BUBBLE_TO_SANDBOX"})(P2||(P2={}));var ng=P2;const bS="tox-menu-nav__js",vS="tox-collection__item",qD="tox-swatch",GD={normal:bS,color:qD},YD="tox-collection__item--enabled",XD="tox-collection__item-icon",B2="tox-collection__item-label",fA="tox-collection__item-caret",eh="tox-collection__item--active",M2="tox-collection__item-container",L2="tox-collection__item-container--row",wb=s=>on(GD,s).getOr(bS),tW=s=>s==="color"?"tox-swatches":"tox-menu",mA=s=>({backgroundMenu:"tox-background-menu",selectedMenu:"tox-selected-menu",selectedItem:"tox-collection__item--active",hasIcons:"tox-menu--has-icons",menu:tW(s),tieredMenu:"tox-tiered-menu"}),d0=s=>{const i=mA(s);return{backgroundMenu:i.backgroundMenu,selectedMenu:i.selectedMenu,menu:i.menu,selectedItem:i.selectedItem,item:wb(s)}},JD=(s,i,u)=>{const f=mA(u);return{tag:"div",classes:tn([[f.menu,`tox-menu-${i}-column`],s?[f.hasIcons]:[]])}},QD=[r0.parts.items({})],yS=(s,i,u)=>{const f=mA(u);return{dom:{tag:"div",classes:tn([[f.tieredMenu]])},markers:d0(u)}},nF=q([rs("data"),mt("inputAttributes",{}),mt("inputStyles",{}),mt("tag","input"),mt("inputClasses",[]),vs("onSetValue"),mt("styles",{}),mt("eventOrder",{}),Pn("inputBehaviours",[vt,vo]),mt("selectOnFocus",!0)]),oF=s=>en([vo.config({onFocus:s.selectOnFocus?i=>{const u=i.element,f=Lm(u);u.dom.setSelectionRange(0,f.length)}:j})]),sF=s=>({...oF(s),...Io(s.inputBehaviours,[vt.config({store:{mode:"manual",...s.data.map(i=>({initialValue:i})).getOr({}),getValue:i=>Lm(i.element),setValue:(i,u)=>{Lm(i.element)!==u&&Bg(i.element,u)}},onSetValue:s.onSetValue})])}),eN=s=>({tag:s.tag,attributes:{type:"text",...s.inputAttributes},styles:s.inputStyles,classes:s.inputClasses}),mp=dd({name:"Input",configFields:nF(),factory:(s,i)=>({uid:s.uid,dom:eN(s),components:[],behaviours:sF(s),eventOrder:s.eventOrder})}),tN=In("refetch-trigger-event"),nN=In("redirect-menu-item-interaction"),oN="tox-menu__searcher",F2=s=>Rr(s.element,`.${oN}`).bind(i=>s.getSystem().getByDom(i).toOptional()),sN=F2,rN=s=>({fetchPattern:vt.getValue(s),selectionStart:s.element.dom.selectionStart,selectionEnd:s.element.dom.selectionEnd}),aN=s=>{const i=(b,v)=>(v.cut(),P.none()),u=(b,v)=>{const C={interactionEvent:v.event,eventType:v.event.raw.type};return jn(b,nN,C),P.some(!0)},f="searcher-events";return{dom:{tag:"div",classes:[vS]},components:[mp.sketch({inputClasses:[oN,"tox-textfield"],inputAttributes:{...s.placeholder.map(b=>({placeholder:s.i18n(b)})).getOr({}),type:"search","aria-autocomplete":"list"},inputBehaviours:en([Fo(f,[Rt(Hd(),b=>{Mo(b,tN)}),Rt(Ar(),(b,v)=>{v.event.raw.key==="Escape"&&v.stop()})]),qn.config({mode:"special",onLeft:i,onRight:i,onSpace:i,onEnter:u,onEscape:u,onUp:u,onDown:u})]),eventOrder:{keydown:[f,qn.name()]}})]}},$2="tox-collection--results__js",iN=s=>{var i;return s.dom?{...s,dom:{...s.dom,attributes:{...(i=s.dom.attributes)!==null&&i!==void 0?i:{},id:In("aria-item-search-result-id"),"aria-selected":"false"}}}:s},xS=(s,i)=>u=>{const f=ot(u,i);return $e(f,b=>({dom:s,components:b}))},lN=(s,i)=>{const u=[];let f=[];return ht(s,(b,v)=>{i(b,v)?(f.length>0&&u.push(f),f=[],(ro(b.dom,"innerHtml")||b.components&&b.components.length>0)&&f.push(b)):f.push(b)}),f.length>0&&u.push(f),$e(u,b=>({dom:{tag:"div",classes:["tox-collection__group"]},components:b}))},V2=(s,i,u)=>r0.parts.items({preprocess:f=>{const b=$e(f,u);return s!=="auto"&&s>1?xS({tag:"div",classes:["tox-collection__group"]},s)(b):lN(b,(v,C)=>i[C].type==="separator")}}),gA=(s,i,u=!0)=>({dom:{tag:"div",classes:["tox-menu","tox-collection"].concat(s===1?["tox-collection--list"]:["tox-collection--grid"])},components:[V2(s,i,de)]}),H2=s=>Tn(s,i=>"icon"in i&&i.icon!==void 0),th=s=>(console.error($i(s)),console.log(s),P.none()),rF=(s,i,u,f,b)=>{const v=(C=u,{dom:{tag:"div",classes:["tox-collection","tox-collection--horizontal"]},components:[r0.parts.items({preprocess:k=>lN(k,(E,B)=>C[B].type==="separator")})]});var C;return{value:s,dom:v.dom,components:v.components,items:u}},hA=(s,i,u,f,b)=>{if(b.menuType==="color"){const v=(C=>({dom:{tag:"div",classes:["tox-menu","tox-swatches-menu"]},components:[{dom:{tag:"div",classes:["tox-swatches"]},components:[r0.parts.items({preprocess:C!=="auto"?xS({tag:"div",classes:["tox-swatches__row"]},C):de})]}]}))(f);return{value:s,dom:v.dom,components:v.components,items:u}}if(b.menuType==="normal"&&f==="auto"){const v=gA(f,u);return{value:s,dom:v.dom,components:v.components,items:u}}if(b.menuType==="normal"||b.menuType==="searchable"){const v=b.menuType!=="searchable"?gA(f,u):b.searchMode.searchMode==="search-with-field"?((C,k,E)=>{const B=In("aria-controls-search-results");return{dom:{tag:"div",classes:["tox-menu","tox-collection"].concat(C===1?["tox-collection--list"]:["tox-collection--grid"])},components:[aN({i18n:nf.translate,placeholder:E.placeholder}),{dom:{tag:"div",classes:[...C===1?["tox-collection--list"]:["tox-collection--grid"],$2],attributes:{id:B}},components:[V2(C,k,iN)]}]}})(f,u,b.searchMode):((C,k,E=!0)=>{const B=In("aria-controls-search-results");return{dom:{tag:"div",classes:["tox-menu","tox-collection",$2].concat(C===1?["tox-collection--list"]:["tox-collection--grid"]),attributes:{id:B}},components:[V2(C,k,iN)]}})(f,u);return{value:s,dom:v.dom,components:v.components,items:u}}if(b.menuType==="listpreview"&&f!=="auto"){const v=(C=>({dom:{tag:"div",classes:["tox-menu","tox-collection","tox-collection--toolbar","tox-collection--toolbar-lg"]},components:[r0.parts.items({preprocess:xS({tag:"div",classes:["tox-collection__group"]},C)})]}))(f);return{value:s,dom:v.dom,components:v.components,items:u}}return{value:s,dom:JD(i,f,b.menuType),components:QD,items:u}},za=br("type"),pA=br("name"),bA=br("label"),of=br("text"),vA=br("title"),yA=br("icon"),f0=br("value"),aF=Vi("fetch"),cN=Vi("getSubmenuItems"),cy=Vi("onAction"),uN=Vi("onItemAction"),Cb=er("onSetup",()=>j),iF=Hr("name"),Sb=Hr("text"),lF=Hr("role"),sf=Hr("icon"),z2=Hr("tooltip"),xA=Hr("label"),uy=Hr("shortcut"),wA=Tc("select"),wS=na("active",!1),nW=na("borderless",!1),rf=na("enabled",!0),CS=na("primary",!1),dN=s=>mt("columns",s),Wu=mt("meta",{}),CA=er("onAction",j),m0=s=>Ql("type",s),SA=s=>ua("name","name",Tm(()=>In(`${s}-name`)),Oa),fN=Xn([za,Sb]),cF=Xn([m0("autocompleteitem"),wS,rf,Wu,f0,Sb,sf]),nh=[rf,z2,sf,Sb,Cb],_A=Xn([za,cy,uy].concat(nh)),mN=s=>kr("toolbarbutton",_A,s),U2=[wS].concat(nh),SS=Xn(U2.concat([za,cy,uy])),_S=s=>kr("ToggleButton",SS,s),gN=[er("predicate",Oe),Oc("scope","node",["node","editor"]),Oc("position","selection",["node","selection","line"])],uF=nh.concat([m0("contextformbutton"),CS,cy,$a("original",de)]),dF=U2.concat([m0("contextformbutton"),CS,cy,$a("original",de)]),fF=nh.concat([m0("contextformbutton")]),mF=U2.concat([m0("contextformtogglebutton")]),gF=ya("type",{contextformbutton:uF,contextformtogglebutton:dF}),hF=Xn([m0("contextform"),er("initValue",q("")),xA,Hi("commands",gF),Ir("launch",ya("type",{contextformbutton:fF,contextformtogglebutton:mF}))].concat(gN)),hN=Xn([m0("contexttoolbar"),br("items")].concat(gN)),kS=[za,br("src"),Hr("alt"),Ps("classes",[],Oa)],pF=Xn(kS),bF=[za,of,iF,Ps("classes",["tox-collection__item-label"],Oa)],vF=Xn(bF),pN=Om(()=>Eu("type",{cardimage:pF,cardtext:vF,cardcontainer:dy})),dy=Xn([za,Ql("direction","horizontal"),Ql("align","left"),Ql("valign","middle"),Hi("items",pN)]),g0=[rf,Sb,lF,uy,ua("value","value",Tm(()=>In("menuitem-value")),Fl()),Wu],yF=Xn([za,xA,Hi("items",pN),Cb,CA].concat(g0)),kA=Xn([za,wS,sf].concat(g0)),bN=[za,br("fancytype"),CA],vN=[mt("initData",{})].concat(bN),yN=[Tc("select"),ai("initData",{},[na("allowCustomColors",!0),Ql("storageKey","default"),Ph("colors",Fl())])].concat(bN),xN=ya("fancytype",{inserttable:vN,colorswatch:yN}),wN=Xn([za,Cb,CA,sf].concat(g0)),CN=Xn([za,cN,Cb,sf].concat(g0)),xF=Xn([za,sf,wS,Cb,cy].concat(g0)),EA=(s,i,u)=>{const f=Ya(s.element,"."+u);if(f.length>0){const b=So(f,v=>{const C=v.dom.getBoundingClientRect().top,k=f[0].dom.getBoundingClientRect().top;return Math.abs(C-k)>i}).getOr(f.length);return P.some({numColumns:b,numRows:Math.ceil(f.length/b)})}return P.none()},W2=s=>((i,u)=>en([Fo(i,u)]))(In("unnamed-events"),s),ES="silver.readonly",wF=Xn([Ra("readonly",gc)]),h0=(s,i)=>{const u=s.mainUi.outerContainer.element,f=[s.mainUi.mothership,...s.uiMotherships];i&&ht(f,b=>{b.broadcastOn([F()],{target:u})}),ht(f,b=>{b.broadcastOn([ES],{readonly:i})})},SN=(s,i)=>{s.on("init",()=>{s.mode.isReadOnly()&&h0(i,!0)}),s.on("SwitchMode",()=>h0(i,s.mode.isReadOnly())),qE(s)&&s.mode.set("readonly")},ci=()=>sc.config({channels:{[ES]:{schema:wF,onReceive:(s,i)=>{wo.set(s,i.readonly)}}}}),ml=s=>wo.config({disabled:s}),_N=s=>wo.config({disabled:s,disableClass:"tox-tbtn--disabled"}),AS=s=>wo.config({disabled:s,disableClass:"tox-tbtn--disabled",useNative:!1}),j2=(s,i)=>{const u=s.getApi(i);return f=>{f(u)}},_b=(s,i)=>cr(u=>{j2(s,u)(f=>{const b=s.onSetup(f);W(b)&&i.set(b)})}),gp=(s,i)=>Du(u=>j2(s,u)(i.get())),kN=(s,i)=>nu((u,f)=>{j2(s,u)(s.onAction),s.triggersSubmenu||i!==ng.CLOSE_ON_EXECUTE||(u.getSystem().isConnected()&&Mo(u,Fh()),f.stop())}),CF={[cl()]:["disabling","alloy.base.behaviour","toggling","item-events"]},fy=tl,my=(s,i,u,f)=>{const b=Hn(j);return{type:"item",dom:i.dom,components:fy(i.optComponents),data:s.data,eventOrder:CF,hasSubmenu:s.triggersSubmenu,itemBehaviours:en([Fo("item-events",[kN(s,u),_b(s,b),gp(s,b)]),(v=()=>!s.enabled||f.isDisabled(),wo.config({disabled:v,disableClass:"tox-collection__item--state-disabled"})),ci(),io.config({})].concat(s.itemBehaviours))};var v},gy=s=>({value:s.value,meta:{text:s.text.getOr(""),...s.meta}}),TS=s=>{const i=Qm.os.isMacOS()||Qm.os.isiOS(),u=i?{alt:"",ctrl:"",shift:"",meta:"",access:""}:{meta:"Ctrl",access:"Shift+Alt"},f=s.split("+"),b=$e(f,v=>{const C=v.toLowerCase().trim();return ro(u,C)?u[C]:v});return i?b.join(""):b.join("+")},AA=(s,i,u=[XD])=>Uu(s,{tag:"div",classes:u},i),EN=s=>({dom:{tag:"div",classes:[B2]},components:[sa(nf.translate(s))]}),TA=(s,i)=>({dom:{tag:"div",classes:i,innerHtml:s}}),AN=(s,i)=>({dom:{tag:"div",classes:[B2]},components:[{dom:{tag:s.tag,styles:s.styles},components:[sa(nf.translate(i))]}]}),TN=s=>({dom:{tag:"div",classes:["tox-collection__item-accessory"]},components:[sa(TS(s))]}),ON=s=>AA("checkmark",s,["tox-collection__item-checkmark"]),RN=s=>{const i=s.map(u=>({attributes:{id:In("menu-item"),"aria-label":nf.translate(u)}})).getOr({});return{tag:"div",classes:[bS,vS],...i}},Z2=(s,i,u,f=P.none())=>s.presets==="color"?((b,v,C)=>{const k=b.value,E=b.iconContent.map($=>((L,Z,Q)=>{const se=Z();return I2(L,se).or(Q).getOrThunk(uA(se))})($,v.icons,C)),B=b.ariaLabel.map($=>({"aria-label":v.translate($),"data-mce-name":$})).getOr({});return{dom:(()=>{const $=qD,L=E.getOr(""),Z={tag:"div",attributes:B,classes:[$]};return k==="custom"?{...Z,tag:"button",classes:[...Z.classes,"tox-swatches__picker-btn"],innerHtml:L}:k==="remove"?{...Z,classes:[...Z.classes,"tox-swatch--remove"],innerHtml:L}:z(k)?{...Z,attributes:{...Z.attributes,"data-mce-color":k},styles:{"background-color":k},innerHtml:L}:Z})(),optComponents:[]}})(s,i,f):((b,v,C,k)=>{const E={tag:"div",classes:[XD]},B=C?b.iconContent.map(Q=>Uu(Q,E,v.icons,k)).orThunk(()=>P.some({dom:E})):P.none(),$=b.checkMark,L=P.from(b.meta).fold(()=>EN,Q=>ro(Q,"style")?be(AN,Q.style):EN),Z=b.htmlContent.fold(()=>b.textContent.map(L),Q=>P.some(TA(Q,[B2])));return{dom:RN(b.ariaLabel),optComponents:[B,Z,b.shortcutContent.map(TN),$,b.caret]}})(s,i,u,f),DN=(s,i,u)=>on(s,"tooltipWorker").map(f=>[Sa.config({lazySink:i.getSink,tooltipDom:{tag:"div",classes:["tox-tooltip-worker-container"]},tooltipComponents:[],anchor:b=>({type:"submenu",item:b,overrides:{maxHeightFunction:np}}),mode:"follow-highlight",onShow:(b,v)=>{f(C=>{Sa.setComponents(b,[Fm({element:xn(C)})])})}})]).getOrThunk(()=>u.map(f=>[Sa.config({...i.providers.tooltips.getConfig({tooltipText:f}),mode:"follow-highlight"})]).getOr([])),OA=(s,i)=>{const u=(f=>oy.DOM.encode(f))(nf.translate(s));if(i.length>0){const f=new RegExp((b=>b.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"))(i),"gi");return u.replace(f,b=>`<span class="tox-autocompleter-highlight">${b}</span>`)}return u},RA=(s,i)=>$e(s,u=>{switch(u.type){case"cardcontainer":return((v,C)=>{const k=v.direction==="vertical"?"tox-collection__item-container--column":L2,E=v.align==="left"?"tox-collection__item-container--align-left":"tox-collection__item-container--align-right";return{dom:{tag:"div",classes:[M2,k,E,(()=>{switch(v.valign){case"top":return"tox-collection__item-container--valign-top";case"middle":return"tox-collection__item-container--valign-middle";case"bottom":return"tox-collection__item-container--valign-bottom"}})()]},components:C}})(u,RA(u.items,i));case"cardimage":return((v,C,k)=>({dom:{tag:"img",classes:C,attributes:{src:v,alt:k.getOr("")}}}))(u.src,u.classes,u.alt);case"cardtext":const f=u.name.exists(v=>ct(i.cardText.highlightOn,v)),b=f?P.from(i.cardText.matchText).getOr(""):"";return TA(OA(u.text,b),u.classes)}}),hp=Ul(jE(),ZE()),DA=s=>({value:p0(s)}),NA=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,IA=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,NN=s=>NA.test(s)||IA.test(s),p0=s=>Vs(s,"#").toUpperCase(),PA=s=>{const i=s.toString(16);return(i.length===1?"0"+i:i).toUpperCase()},K2=s=>{const i=PA(s.red)+PA(s.green)+PA(s.blue);return DA(i)},BA=Math.min,IN=Math.max,OS=Math.round,SF=/^\s*rgb\s*\(\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*(\d+)\s*\)\s*$/i,PN=/^\s*rgba\s*\(\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*((?:\d?\.\d+|\d+)%?)\s*\)\s*$/i,pp=(s,i,u,f)=>({red:s,green:i,blue:u,alpha:f}),q2=s=>{const i=parseInt(s,10);return i.toString()===s&&i>=0&&i<=255},BN=s=>{let i,u,f;const b=(s.hue||0)%360;let v=s.saturation/100,C=s.value/100;if(v=IN(0,BA(v,1)),C=IN(0,BA(C,1)),v===0)return i=u=f=OS(255*C),pp(i,u,f,1);const k=b/60,E=C*v,B=E*(1-Math.abs(k%2-1)),$=C-E;switch(Math.floor(k)){case 0:i=E,u=B,f=0;break;case 1:i=B,u=E,f=0;break;case 2:i=0,u=E,f=B;break;case 3:i=0,u=B,f=E;break;case 4:i=B,u=0,f=E;break;case 5:i=E,u=0,f=B;break;default:i=u=f=0}return i=OS(255*(i+$)),u=OS(255*(u+$)),f=OS(255*(f+$)),pp(i,u,f,1)},im=s=>{const i=(v=>{const C=(E=>({value:E.value.replace(NA,($,L,Z,Q)=>L+L+Z+Z+Q+Q)}))(v),k=IA.exec(C.value);return k===null?["FFFFFF","FF","FF","FF"]:k})(s),u=parseInt(i[1],16),f=parseInt(i[2],16),b=parseInt(i[3],16);return pp(u,f,b,1)},MA=(s,i,u,f)=>{const b=parseInt(s,10),v=parseInt(i,10),C=parseInt(u,10),k=parseFloat(f);return pp(b,v,C,k)},RS=s=>{const i=SF.exec(s);if(i!==null)return P.some(MA(i[1],i[2],i[3],"1"));const u=PN.exec(s);return u!==null?P.some(MA(u[1],u[2],u[3],u[4])):P.none()},MN=s=>`rgba(${s.red},${s.green},${s.blue},${s.alpha})`,LN=pp(255,0,0,1),b0=(s,i)=>{s.dispatch("ResizeContent",i)},hy=(s,i)=>{s.dispatch("TextColorChange",i)},FN=(s,i)=>s.dispatch("ResolveName",{name:i.nodeName.toLowerCase(),target:i}),py=(s,i)=>()=>{s(),i()},ui=s=>v0(s,"NodeChange",i=>{i.setEnabled(s.selection.isEditable())}),og=(s,i)=>u=>{const f=ui(s)(u),b=((v,C)=>k=>{const E=_c(),B=()=>{k.setActive(v.formatter.match(C));const $=v.formatter.formatChanged(C,k.setActive);E.set($)};return v.initialized?B():v.once("init",B),()=>{v.off("init",B),E.clear()}})(s,i)(u);return()=>{f(),b()}},v0=(s,i,u)=>f=>{const b=()=>u(f),v=()=>{u(f),s.on(i,b)};return s.initialized?v():s.once("init",v),()=>{s.off("init",v),s.off(i,b)}},$N=s=>i=>()=>{s.undoManager.transact(()=>{s.focus(),s.execCommand("mceToggleFormat",!1,i.format)})},iu=(s,i)=>()=>s.execCommand(i);var ju=tinymce.util.Tools.resolve("tinymce.util.LocalStorage");const DS={},VN=s=>on(DS,s).getOrThunk(()=>{const i=`tinymce-custom-colors-${s}`,u=ju.getItem(i);if(V(u)){const b=ju.getItem("tinymce-custom-colors");ju.setItem(i,z(b)?b:"[]")}const f=((b,v=10)=>{const C=ju.getItem(b),k=g(C)?JSON.parse(C):[],E=v-(B=k).length<0?B.slice(0,v):B;var B;const $=L=>{E.splice(L,1)};return{add:L=>{((Z,Q)=>{const se=rn(Z,Q);return se===-1?P.none():P.some(se)})(E,L).each($),E.unshift(L),E.length>v&&E.pop(),ju.setItem(b,JSON.stringify(E))},state:()=>E.slice(0)}})(i,10);return DS[s]=f,f}),LA=(s,i)=>{VN(s).add(i)},by=(s,i,u)=>({hue:s,saturation:i,value:u}),NS=s=>{let i=0,u=0,f=0;const b=s.red/255,v=s.green/255,C=s.blue/255,k=Math.min(b,Math.min(v,C)),E=Math.max(b,Math.max(v,C));return k===E?(f=k,by(0,0,100*f)):(i=b===k?3:C===k?1:5,i=60*(i-(b===k?v-C:C===k?b-v:C-b)/(E-k)),u=(E-k)/E,f=E,by(Math.round(i),Math.round(100*u),Math.round(100*f)))},IS=s=>K2(BN(s)),HN=s=>{return(i=s,NN(i)?P.some({value:p0(i)}):P.none()).orThunk(()=>RS(s).map(K2)).getOrThunk(()=>{const u=document.createElement("canvas");u.height=1,u.width=1;const f=u.getContext("2d");f.clearRect(0,0,u.width,u.height),f.fillStyle="#FFFFFF",f.fillStyle=s,f.fillRect(0,0,1,1);const b=f.getImageData(0,0,1,1).data,v=b[0],C=b[1],k=b[2],E=b[3];return K2(pp(v,C,k,E))});var i},FA="forecolor",$A="hilitecolor",_F=s=>{const i=[];for(let u=0;u<s.length;u+=2)i.push({text:s[u+1],value:"#"+HN(s[u]).value,icon:"checkmark",type:"choiceitem"});return i},af=s=>i=>i.options.get(s),G2="#000000",y0=(s,i)=>i===FA&&s.options.isSet("color_map_foreground")?af("color_map_foreground")(s):i===$A&&s.options.isSet("color_map_background")?af("color_map_background")(s):af("color_map")(s),PS=(s,i="default")=>Math.max(5,Math.ceil(Math.sqrt(y0(s,i).length))),zN=(s,i)=>{const u=af("color_cols")(s),f=PS(s,i);return u===PS(s)?f:u},VA=(s,i="default")=>Math.round(i===FA?af("color_cols_foreground")(s):i===$A?af("color_cols_background")(s):af("color_cols")(s)),HA=af("custom_colors"),UN=af("color_default_foreground"),WN=af("color_default_background"),jN=(s,i)=>{const u=xn(s.selection.getStart()),f=i==="hilitecolor"?Hf(u,b=>{if(ar(b)){const v=Sr(b,"background-color");return Vo(RS(v).exists(C=>C.alpha!==0),v)}return P.none()}).getOr("rgba(0, 0, 0, 0)"):Sr(u,"color");return RS(f).map(b=>"#"+K2(b).value)},BS=s=>{const i="choiceitem",u={type:i,text:"Remove color",icon:"color-swatch-remove-color",value:"remove"};return s?[u,{type:i,text:"Custom color",icon:"color-picker",value:"custom"}]:[u]},zA=(s,i,u,f)=>{u==="custom"?qN(s)(b=>{b.each(v=>{LA(i,v),s.execCommand("mceApplyTextcolor",i,v),f(v)})},jN(s,i).getOr(G2)):u==="remove"?(f(""),s.execCommand("mceRemoveTextcolor",i)):(f(u),s.execCommand("mceApplyTextcolor",i,u))},UA=(s,i,u)=>s.concat((f=>$e(VN(f).state(),b=>({type:"choiceitem",text:b,icon:"checkmark",value:b})))(i).concat(BS(u))),ZN=(s,i,u)=>f=>{f(UA(s,i,u))},WA=(s,i,u)=>{const f=i==="forecolor"?"tox-icon-text-color__color":"tox-icon-highlight-bg-color__color";s.setIconFill(f,u)},jA=(s,i)=>{s.setTooltip(i)},KN=(s,i)=>u=>{const f=jN(s,i);return ia(f,u.toUpperCase())},ZA=(s,i,u)=>{if(wc(u))return i==="forecolor"?"Text color":"Background color";const f=i==="forecolor"?"Text color {0}":"Background color {0}",b=UA(y0(s,i),i,!1),v=te(b,C=>C.value===u).getOr({text:""}).text;return s.translate([f,s.translate(v)])},KA=(s,i,u,f)=>{s.ui.registry.addSplitButton(i,{tooltip:ZA(s,u,f.get()),presets:"color",icon:i==="forecolor"?"text-color":"highlight-bg-color",select:KN(s,u),columns:VA(s,u),fetch:ZN(y0(s,u),u,HA(s)),onAction:b=>{zA(s,u,f.get(),j)},onItemAction:(b,v)=>{zA(s,u,v,C=>{f.set(C),hy(s,{name:i,color:C})})},onSetup:b=>{WA(b,i,f.get());const v=C=>{C.name===i&&(WA(b,C.name,C.color),jA(b,ZA(s,u,C.color)))};return s.on("TextColorChange",v),py(ui(s)(b),()=>{s.off("TextColorChange",v)})}})},vy=(s,i,u,f,b)=>{s.ui.registry.addNestedMenuItem(i,{text:f,icon:i==="forecolor"?"text-color":"highlight-bg-color",onSetup:v=>(jA(v,ZA(s,u,b.get())),WA(v,i,b.get()),ui(s)(v)),getSubmenuItems:()=>[{type:"fancymenuitem",fancytype:"colorswatch",select:KN(s,u),initData:{storageKey:u},onAction:v=>{zA(s,u,v.value,C=>{b.set(C),hy(s,{name:i,color:C})})}}]})},qN=s=>(i,u)=>{let f=!1;const b={colorpicker:u};s.windowManager.open({title:"Color Picker",size:"normal",body:{type:"panel",items:[{type:"colorpicker",name:"colorpicker",label:"Color"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:b,onAction:(v,C)=>{C.name==="hex-valid"&&(f=C.value)},onSubmit:v=>{const C=v.getData().colorpicker;f?(i(P.from(C)),v.close()):s.windowManager.alert(s.translate(["Invalid hex color code: {0}",C]))},onClose:j,onCancel:()=>{i(P.none())}})},x0=(s,i,u,f,b,v,C,k)=>{const E=H2(i),B=qA(i,u,f,b!=="color"?"normal":"color",v,C,k);return hA(s,E,B,f,{menuType:b})},qA=(s,i,u,f,b,v,C)=>tl($e(s,k=>{return k.type==="choiceitem"?(E=k,kr("choicemenuitem",kA,E)).fold(th,B=>P.some((($,L,Z,Q,se,me,pe,Ee=!0)=>{const he=Z2({presets:Z,textContent:L?$.text:P.none(),htmlContent:P.none(),ariaLabel:$.text,iconContent:$.icon,shortcutContent:L?$.shortcut:P.none(),checkMark:L?P.some(ON(pe.icons)):P.none(),caret:P.none(),value:$.value},pe,Ee),ge=$.text.filter(q(!L)).map(Ce=>Sa.config(pe.tooltips.getConfig({tooltipText:pe.translate(Ce)})));return Ws(my({data:gy($),enabled:$.enabled,getApi:Ce=>({setActive:Ae=>{fo.set(Ce,Ae)},isActive:()=>fo.isOn(Ce),isEnabled:()=>!wo.isDisabled(Ce),setEnabled:Ae=>wo.set(Ce,!Ae)}),onAction:Ce=>Q($.value),onSetup:Ce=>(Ce.setActive(se),j),triggersSubmenu:!1,itemBehaviours:[...ge.toArray()]},he,me,pe),{toggling:{toggleClass:YD,toggleOnExecute:!1,selected:$.active,exclusive:!0}})})(B,u===1,f,i,v(B.value),b,C,H2(s)))):P.none();var E})),Y2=(s,i)=>{const u=d0(i);return s===1?{mode:"menu",moveOnTab:!0}:s==="auto"?{mode:"grid",selector:"."+u.item,initSize:{numColumns:1,numRows:1}}:{mode:"matrix",rowSelector:"."+(i==="color"?"tox-swatches__row":"tox-collection__group"),previousSelector:f=>i==="color"?Rr(f.element,"[aria-checked=true]"):P.none()}},GA=In("cell-over"),GN=In("cell-execute"),kF=(s,i,u)=>{const f=v=>jn(v,GN,{row:s,col:i}),b=(v,C)=>{C.stop(),f(v)};return _i({dom:{tag:"div",attributes:{role:"button","aria-label":u}},behaviours:en([Fo("insert-table-picker-cell",[Rt(Un(),vo.focus),Rt(cl(),f),Rt(da(),b),Rt(Ud(),b)]),fo.config({toggleClass:"tox-insert-table-picker__selected",toggleOnExecute:!1}),vo.config({onFocus:v=>jn(v,GA,{row:s,col:i})})])})},YN=s=>Cn(s,i=>$e(i,Vl)),XN=(s,i)=>sa(`${i}x${s}`),JN={inserttable:(s,i)=>{const u=(C=>(k,E)=>C.shared.providers.translate(["{0} columns, {1} rows",E,k]))(i),f=((C,k,E)=>{const B=[];for(let $=0;$<10;$++){const L=[];for(let Z=0;Z<10;Z++){const Q=C($+1,Z+1);L.push(kF($,Z,Q))}B.push(L)}return B})(u),b=XN(0,0),v=$s({dom:{tag:"span",classes:["tox-insert-table-picker__label"]},components:[b],behaviours:en([io.config({})])});return{type:"widget",data:{value:In("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:!0,components:[hp.widget({dom:{tag:"div",classes:["tox-insert-table-picker"]},components:YN(f).concat(v.asSpec()),behaviours:en([Fo("insert-table-picker",[cr(C=>{io.set(v.get(C),[b])}),Pm(GA,(C,k,E)=>{const{row:B,col:$}=E.event;((L,Z,Q,se,me)=>{for(let pe=0;pe<10;pe++)for(let Ee=0;Ee<10;Ee++)fo.set(L[pe][Ee],pe<=Z&&Ee<=Q)})(f,B,$),io.set(v.get(C),[XN(B+1,$+1)])}),Pm(GN,(C,k,E)=>{const{row:B,col:$}=E.event;Mo(C,Fh()),s.onAction({numRows:B+1,numColumns:$+1})})]),qn.config({initSize:{numRows:10,numColumns:10},mode:"flatgrid",selector:'[role="button"]'})])})]}},colorswatch:(s,i)=>{const u=((C,k)=>{const E=C.initData.allowCustomColors&&k.colorinput.hasCustomColors();return C.initData.colors.fold(()=>UA(k.colorinput.getColors(C.initData.storageKey),C.initData.storageKey,E),B=>B.concat(BS(E)))})(s,i),f=i.colorinput.getColorCols(s.initData.storageKey),b="color",v={...x0(In("menu-value"),u,C=>{s.onAction({value:C})},f,b,ng.CLOSE_ON_EXECUTE,s.select.getOr(Oe),i.shared.providers),markers:d0(b),movement:Y2(f,b),showMenuRole:!1};return{type:"widget",data:{value:In("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:!0,components:[hp.widget(r0.sketch(v))]}}},QN=s=>({type:"separator",dom:{tag:"div",classes:[vS,"tox-collection__group-heading"]},components:s.text.map(sa).toArray()});var EF=Object.freeze({__proto__:null,getCoupled:(s,i,u,f)=>u.getOrCreate(s,i,f),getExistingCoupled:(s,i,u,f)=>u.getExisting(s,i,f)}),eI=[Ra("others",Rm(Go.value,Fl()))],MS=Object.freeze({__proto__:null,init:()=>{const s={},i=(f,b)=>{if(qt(f.others).length===0)throw new Error("Cannot find any known coupled components");return on(s,b)},u=q({});return xa({readState:u,getExisting:(f,b,v)=>i(b,v).orThunk(()=>(on(b.others,v).getOrDie("No information found for coupled component: "+v),P.none())),getOrCreate:(f,b,v)=>i(b,v).getOrThunk(()=>{const C=on(b.others,v).getOrDie("No information found for coupled component: "+v)(f),k=f.getSystem().build(C);return s[v]=k,k})})}});const ra=Va({fields:eI,name:"coupling",apis:EF,state:MS}),X2=s=>{let i=P.none(),u=[];const f=C=>{b()?v(C):u.push(C)},b=()=>i.isSome(),v=C=>{i.each(k=>{setTimeout(()=>{C(k)},0)})};return s(C=>{b()||(i=P.some(C),ht(u,v),u=[])}),{get:f,map:C=>X2(k=>{f(E=>{k(C(E))})}),isReady:b}},AF={nu:X2,pure:s=>X2(i=>{i(s)})},TF=s=>{setTimeout(()=>{throw s},0)},yy=s=>{const i=u=>{s().then(u,TF)};return{map:u=>yy(()=>s().then(u)),bind:u=>yy(()=>s().then(f=>u(f).toPromise())),anonBind:u=>yy(()=>s().then(()=>u.toPromise())),toLazy:()=>AF.nu(i),toCached:()=>{let u=null;return yy(()=>(u===null&&(u=s()),u))},toPromise:s,get:i}},kb=s=>yy(()=>new Promise(s)),oh=s=>yy(()=>Promise.resolve(s)),YA=q("sink"),tI=q(ud({name:YA(),overrides:q({dom:{tag:"div"},behaviours:en([qi.config({useFixed:Ve})]),events:yo([Uf(Ar()),Uf($t()),Uf(da())])})})),nI=(s,i)=>{const u=s.getHotspot(i).getOr(i),f="hotspot",b=s.getAnchorOverrides();return s.layouts.fold(()=>({type:f,hotspot:u,overrides:b}),v=>({type:f,hotspot:u,overrides:b,layouts:v}))},LS=(s,i,u,f,b,v,C)=>((E,B,$,L,Z,Q,se)=>{const me=((Ee,he,ge)=>(0,Ee.fetch)(ge).map(he))(E,B,L),pe=oI(L,E);return me.map(Ee=>Ee.bind(he=>{const ge=he.menus[he.primary];return P.from(ge).each(Ce=>{E.listRole.each(Ae=>{Ce.role=Ae})}),P.from(cp.sketch({...Q.menu(),uid:Bu(""),data:he,highlightOnOpen:se,onOpenMenu:(Ce,Ae)=>{const Ie=pe().getOrDie();qi.position(Ie,Ae,{anchor:$}),D.decloak(Z)},onOpenSubmenu:(Ce,Ae,Ie)=>{const Xe=pe().getOrDie();qi.position(Xe,Ie,{anchor:{type:"submenu",item:Ae}}),D.decloak(Z)},onRepositionMenu:(Ce,Ae,Ie)=>{const Xe=pe().getOrDie();qi.position(Xe,Ae,{anchor:$}),ht(Ie,dt=>{qi.position(Xe,dt.triggeredMenu,{anchor:{type:"submenu",item:dt.triggeringItem}})})},onEscape:()=>(vo.focus(L),D.close(Z),P.some(!0))}))}))})(s,i,nI(s,u),u,f,b,C).map(E=>(E.fold(()=>{D.isOpen(f)&&D.close(f)},B=>{D.cloak(f),D.open(f,B),v(f)}),f)),OF=(s,i,u,f,b,v,C)=>(D.close(f),oh(f)),XA=(s,i,u,f,b,v)=>{const C=ra.getCoupled(u,"sandbox");return(D.isOpen(C)?OF:LS)(s,i,u,C,f,b,v)},oI=(s,i)=>s.getSystem().getByUid(i.uid+"-"+YA()).map(u=>()=>Go.value(u)).getOrThunk(()=>i.lazySink.fold(()=>()=>Go.error(new Error("No internal sink is specified, nor could an external sink be found")),u=>()=>u(s))),JA=s=>{D.getState(s).each(i=>{cp.repositionMenus(i)})},QA=(s,i,u)=>{const f=Yh(),b=oI(i,s);return{dom:{tag:"div",classes:s.sandboxClasses,attributes:{id:f.id}},behaviours:uo(s.sandboxBehaviours,[vt.config({store:{mode:"memory",initialValue:i}}),D.config({onOpen:(v,C)=>{const k=nI(s,i);f.link(i.element),s.matchWidth&&((E,B,$)=>{const L=Cs.getCurrent(B).getOr(B),Z=La(E.element);$?po(L.element,"min-width",Z+"px"):((Q,se)=>{_m.set(Q,se)})(L.element,Z)})(k.hotspot,C,s.useMinWidth),s.onOpen(k,v,C),u!==void 0&&u.onOpen!==void 0&&u.onOpen(v,C)},onClose:(v,C)=>{f.unlink(i.element),b().getOr(C).element.dom.dispatchEvent(new window.FocusEvent("focusout")),u!==void 0&&u.onClose!==void 0&&u.onClose(v,C)},isPartOf:(v,C,k)=>oc(C,k)||oc(i,k),getAttachPoint:()=>b().getOrDie()}),Cs.config({find:v=>D.getState(v).bind(C=>Cs.getCurrent(C))}),sc.config({channels:{...ue({isExtraPart:Oe}),...ze({doReposition:JA})}})])}},sI=s=>{const i=ra.getCoupled(s,"sandbox");JA(i)},eT=()=>[mt("sandboxClasses",[]),xo("sandboxBehaviours",[Cs,sc,D,vt])],RF=q([Ft("dom"),Ft("fetch"),vs("onOpen"),nc("onExecute"),mt("getHotspot",P.some),mt("getAnchorOverrides",q({})),Vm(),Pn("dropdownBehaviours",[fo,ra,qn,vo]),Ft("toggleClass"),mt("eventOrder",{}),rs("lazySink"),mt("matchWidth",!1),mt("useMinWidth",!1),rs("role"),rs("listRole")].concat(eT())),DF=q([sm({schema:[jh(),mt("fakeFocus",!1)],name:"menu",defaults:s=>({onExecute:s.onExecute})}),tI()]),ic=pc({name:"Dropdown",configFields:RF(),partFields:DF(),factory:(s,i,u,f)=>{const b=E=>{D.getState(E).each(B=>{cp.highlightPrimary(B)})},v=(E,B,$)=>XA(s,de,E,f,B,$),C={expand:E=>{fo.isOn(E)||v(E,j,Wl.HighlightNone).get(j)},open:E=>{fo.isOn(E)||v(E,j,Wl.HighlightMenuAndItem).get(j)},refetch:E=>ra.getExistingCoupled(E,"sandbox").fold(()=>v(E,j,Wl.HighlightMenuAndItem).map(j),B=>LS(s,de,E,B,f,j,Wl.HighlightMenuAndItem).map(j)),isOpen:fo.isOn,close:E=>{fo.isOn(E)&&v(E,j,Wl.HighlightMenuAndItem).get(j)},repositionMenus:E=>{fo.isOn(E)&&sI(E)}},k=(E,B)=>(qd(E),P.some(!0));return{uid:s.uid,dom:s.dom,components:i,behaviours:Io(s.dropdownBehaviours,[fo.config({toggleClass:s.toggleClass,aria:{mode:"expanded"}}),ra.config({others:{sandbox:E=>QA(s,E,{onOpen:()=>fo.on(E),onClose:()=>fo.off(E)})}}),qn.config({mode:"special",onSpace:k,onEnter:k,onDown:(E,B)=>{if(ic.isOpen(E)){const $=ra.getCoupled(E,"sandbox");b($)}else ic.open(E);return P.some(!0)},onEscape:(E,B)=>ic.isOpen(E)?(ic.close(E),P.some(!0)):P.none()}),vo.config({})]),events:ny(P.some(E=>{v(E,b,Wl.HighlightMenuAndItem).get(j)})),eventOrder:{...s.eventOrder,[cl()]:["disabling","toggling","alloy.base.behaviour"]},apis:C,domModification:{attributes:{"aria-haspopup":s.listRole.getOr("true"),...s.role.fold(()=>({}),E=>({role:E})),...s.dom.tag==="button"?{type:on(s.dom,"attributes").bind(E=>on(E,"type")).getOr("button")}:{}}}}},apis:{open:(s,i)=>s.open(i),refetch:(s,i)=>s.refetch(i),expand:(s,i)=>s.expand(i),close:(s,i)=>s.close(i),isOpen:(s,i)=>s.isOpen(i),repositionMenus:(s,i)=>s.repositionMenus(i)}}),rI=(s,i,u)=>{sN(s).each(f=>{var b;((v,C)=>{is(C.element,"id").each(k=>bn(v.element,"aria-activedescendant",k))})(f,u),(Zo((b=i).element,$2)?P.some(b.element):Rr(b.element,"."+$2)).each(v=>{is(v,"id").each(C=>bn(f.element,"aria-controls",C))})}),bn(u.element,"aria-selected","true")},NF=(s,i,u)=>{bn(u.element,"aria-selected","false")},w0=s=>ra.getExistingCoupled(s,"sandbox").bind(F2).map(rN).map(i=>i.fetchPattern).getOr("");var J2;(function(s){s[s.ContentFocus=0]="ContentFocus",s[s.UiFocus=1]="UiFocus"})(J2||(J2={}));const IF=(s,i,u,f,b)=>{const v=u.shared.providers,C=E=>b?{...E,shortcut:P.none(),icon:E.text.isSome()?P.none():E.icon}:E;switch(s.type){case"menuitem":return(k=s,kr("menuitem",wN,k)).fold(th,E=>P.some(((B,$,L,Z=!0)=>{const Q=Z2({presets:"normal",iconContent:B.icon,textContent:B.text,htmlContent:P.none(),ariaLabel:B.text,caret:P.none(),checkMark:P.none(),shortcutContent:B.shortcut},L,Z);return my({data:gy(B),getApi:se=>({isEnabled:()=>!wo.isDisabled(se),setEnabled:me=>wo.set(se,!me)}),enabled:B.enabled,onAction:B.onAction,onSetup:B.onSetup,triggersSubmenu:!1,itemBehaviours:[]},Q,$,L)})(C(E),i,v,f)));case"nestedmenuitem":return(E=>kr("nestedmenuitem",CN,E))(s).fold(th,E=>P.some(((B,$,L,Z=!0,Q=!1)=>{const se=Q?(me=L.icons,AA("chevron-down",me,[fA])):(Ee=>AA("chevron-right",Ee,[fA]))(L.icons);var me;const pe=Z2({presets:"normal",iconContent:B.icon,textContent:B.text,htmlContent:P.none(),ariaLabel:B.text,caret:P.some(se),checkMark:P.none(),shortcutContent:B.shortcut},L,Z);return my({data:gy(B),getApi:Ee=>({isEnabled:()=>!wo.isDisabled(Ee),setEnabled:he=>wo.set(Ee,!he),setIconFill:(he,ge)=>{Rr(Ee.element,`svg path[class="${he}"], rect[class="${he}"]`).each(Ce=>{bn(Ce,"fill",ge)})},setTooltip:he=>{const ge=L.translate(he);bn(Ee.element,"aria-label",ge)}}),enabled:B.enabled,onAction:j,onSetup:B.onSetup,triggersSubmenu:!0,itemBehaviours:[]},pe,$,L)})(C(E),i,v,f,b)));case"togglemenuitem":return(E=>kr("togglemenuitem",xF,E))(s).fold(th,E=>P.some(((B,$,L,Z=!0)=>{const Q=Z2({iconContent:B.icon,textContent:B.text,htmlContent:P.none(),ariaLabel:B.text,checkMark:P.some(ON(L.icons)),caret:P.none(),shortcutContent:B.shortcut,presets:"normal",meta:B.meta},L,Z);return Ws(my({data:gy(B),enabled:B.enabled,getApi:se=>({setActive:me=>{fo.set(se,me)},isActive:()=>fo.isOn(se),isEnabled:()=>!wo.isDisabled(se),setEnabled:me=>wo.set(se,!me)}),onAction:B.onAction,onSetup:B.onSetup,triggersSubmenu:!1,itemBehaviours:[]},Q,$,L),{toggling:{toggleClass:YD,toggleOnExecute:!1,selected:B.active},role:B.role.getOrUndefined()})})(C(E),i,v,f)));case"separator":return(E=>kr("separatormenuitem",fN,E))(s).fold(th,E=>P.some(QN(E)));case"fancymenuitem":return(E=>kr("fancymenuitem",xN,E))(s).fold(th,E=>((B,$)=>on(JN,B.fancytype).map(L=>L(B,$)))(E,u));default:return console.error("Unknown item in general menu",s),P.none()}var k},Eb=(s,i,u,f,b,v,C)=>{const k=f===1,E=!k||H2(s);return tl($e(s,B=>{switch(B.type){case"separator":return($=B,kr("Autocompleter.Separator",fN,$)).fold(th,L=>P.some(QN(L)));case"cardmenuitem":return(L=>kr("cardmenuitem",yF,L))(B).fold(th,L=>P.some(((Z,Q,se,me)=>{const pe={dom:RN(Z.label),optComponents:[P.some({dom:{tag:"div",classes:[M2,L2]},components:RA(Z.items,me)})]};return my({data:gy({text:P.none(),...Z}),enabled:Z.enabled,getApi:Ee=>({isEnabled:()=>!wo.isDisabled(Ee),setEnabled:he=>{wo.set(Ee,!he),ht(Ya(Ee.element,"*"),ge=>{Ee.getSystem().getByDom(ge).each(Ce=>{Ce.hasConfigured(wo)&&wo.set(Ce,!he)})})}}),onAction:Z.onAction,onSetup:Z.onSetup,triggersSubmenu:!1,itemBehaviours:P.from(me.itemBehaviours).getOr([])},pe,Q,se.providers)})({...L,onAction:Z=>{L.onAction(Z),u(L.value,L.meta)}},b,v,{itemBehaviours:DN(L.meta,v,P.none()),cardText:{matchText:i,highlightOn:C}})));default:return(L=>kr("Autocompleter.Item",cF,L))(B).fold(th,L=>P.some(((Z,Q,se,me,pe,Ee,he,ge=!0)=>{const Ce=Z2({presets:me,textContent:P.none(),htmlContent:se?Z.text.map(Ie=>OA(Ie,Q)):P.none(),ariaLabel:Z.text,iconContent:Z.icon,shortcutContent:P.none(),checkMark:P.none(),caret:P.none(),value:Z.value},he.providers,ge,Z.icon),Ae=Z.text.filter(Ie=>!se&&Ie!=="");return my({data:gy(Z),enabled:Z.enabled,getApi:q({}),onAction:Ie=>pe(Z.value,Z.meta),onSetup:q(j),triggersSubmenu:!1,itemBehaviours:DN(Z,he,Ae)},Ce,Ee,he.providers)})(L,i,k,"normal",u,b,v,E)))}var $}))},aI=(s,i,u,f,b,v)=>{const C=H2(i),k=tl($e(i,B=>{const $=L=>IF(L,u,f,(Z=>b?!ro(Z,"text"):C)(L),b);return B.type==="nestedmenuitem"&&B.getSubmenuItems().length<=0?$({...B,enabled:!1}):$(B)})),E=(B=>B.searchMode==="no-search"?{menuType:"normal"}:{menuType:"searchable",searchMode:B})(v);return(b?rF:hA)(s,C,k,1,E)},tT=s=>cp.singleData(s.value,s),lf=s=>Hm(xn(s.startContainer),s.startOffset,xn(s.endContainer),s.endOffset),iI=(s,i)=>{const u=In("autocompleter"),f=Hn(!1),b=Hn(!1),v=bs(),C=_i(Br.sketch({dom:{tag:"div",classes:["tox-autocompleter"],attributes:{id:u}},components:[],fireDismissalEventInstead:{},inlineBehaviours:en([Fo("dismissAutocompleter",[Rt(Im(),()=>L()),Rt(mv(),(se,me)=>{is(me.event.target,"id").each(pe=>bn(xn(s.getBody()),"aria-activedescendant",pe))})])]),lazySink:i.getSink})),k=()=>Br.isOpen(C),E=b.get,B=()=>{if(k()){Br.hide(C),s.dom.remove(u,!1);const se=xn(s.getBody());is(se,"aria-owns").filter(me=>me===u).each(()=>{Bo(se,"aria-owns"),Bo(se,"aria-activedescendant")})}},$=()=>Br.getContent(C).bind(se=>_e(se.components(),0)),L=()=>s.execCommand("mceAutocompleterClose"),Z=se=>{const me=(pe=>{const Ee=fn(pe,he=>P.from(he.columns)).getOr(1);return Cn(pe,he=>{const ge=he.items;return Eb(ge,he.matchText,(Ce,Ae)=>{const Ie={hide:()=>L(),reload:Xe=>{B(),s.execCommand("mceAutocompleterReload",!1,{fetchOptions:Xe})}};s.execCommand("mceAutocompleterRefreshActiveRange"),v.get().each(Xe=>{f.set(!0),he.onAction(Ie,Xe,Ce,Ae),f.set(!1)})},Ee,ng.BUBBLE_TO_SANDBOX,i,he.highlightOn)})})(se);me.length>0?(((pe,Ee)=>{const he=fn(pe,ge=>P.from(ge.columns)).getOr(1);Br.showMenuAt(C,{anchor:{type:"selection",getSelection:()=>v.get().map(lf),root:xn(s.getBody())}},((ge,Ce,Ae,Ie)=>{const Xe=Y2(Ce,Ie),dt=d0(Ie);return{data:tT({...ge,movement:Xe,menuBehaviours:W2(Ce!=="auto"?[]:[cr((Lt,Dt)=>{EA(Lt,4,dt.item).each(({numColumns:At,numRows:Jt})=>{qn.setGridSize(Lt,Jt,At)})})])}),menu:{markers:d0(Ie),fakeFocus:Ae===J2.ContentFocus}}})(hA("autocompleter-value",!0,Ee,he,{menuType:"normal"}),he,J2.ContentFocus,"normal")),$().each(zs.highlightFirst)})(se,me),bn(xn(s.getBody()),"aria-owns",u),s.inline||Q()):B()},Q=()=>{s.dom.get(u)&&s.dom.remove(u,!1);const se=s.getDoc().documentElement,me=s.selection.getNode(),pe=(Ee=>Uh(Ee,!0))(C.element);yl(pe,{border:"0",clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:"0",position:"absolute",width:"1px",top:`${me.offsetTop}px`,left:`${me.offsetLeft}px`}),s.dom.add(se,pe.dom),Rr(pe,'[role="menu"]').each(Ee=>{Is(Ee,"position"),Is(Ee,"max-height")})};s.on("AutocompleterStart",({lookupData:se})=>{b.set(!0),f.set(!1),Z(se)}),s.on("AutocompleterUpdate",({lookupData:se})=>Z(se)),s.on("AutocompleterUpdateActiveRange",({range:se})=>v.set(se)),s.on("AutocompleterEnd",()=>{B(),b.set(!1),f.set(!1),v.clear()}),((se,me)=>{const pe=(he,ge)=>{jn(he,Ar(),{raw:ge})},Ee=()=>se.getMenu().bind(zs.getHighlighted);me.on("keydown",he=>{const ge=he.which;se.isActive()&&(se.isMenuOpen()?ge===13?(Ee().each(qd),he.preventDefault()):ge===40?(Ee().fold(()=>{se.getMenu().each(zs.highlightFirst)},Ce=>{pe(Ce,he)}),he.preventDefault(),he.stopImmediatePropagation()):ge!==37&&ge!==38&&ge!==39||Ee().each(Ce=>{pe(Ce,he),he.preventDefault(),he.stopImmediatePropagation()}):ge!==13&&ge!==38&&ge!==40||se.cancelIfNecessary())}),me.on("NodeChange",()=>{!se.isActive()||se.isProcessingAction()||me.queryCommandState("mceAutoCompleterInRange")||se.cancelIfNecessary()})})({cancelIfNecessary:L,isMenuOpen:k,isActive:E,isProcessingAction:f.get,getMenu:$},s)},xy=(s,i,u)=>Xd(s,i,u).isSome(),nT=(s,i)=>{let u=null;return{cancel:()=>{u!==null&&(clearTimeout(u),u=null)},schedule:(...f)=>{u=setTimeout(()=>{s.apply(null,f),u=null},i)}}},lI=s=>{const i=s.raw;return i.touches===void 0||i.touches.length!==1?P.none():P.some(i.touches[0])},FS=(s,i)=>{const u={stopBackspace:!0,...i},f=(L=>{const Z=bs(),Q=Hn(!1),se=nT(pe=>{L.triggerEvent(bx(),pe),Q.set(!0)},400),me=hc([{key:Y(),value:pe=>(lI(pe).each(Ee=>{se.cancel();const he={x:Ee.clientX,y:Ee.clientY,target:pe.target};se.schedule(pe),Q.set(!1),Z.set(he)}),P.none())},{key:ce(),value:pe=>(se.cancel(),lI(pe).each(Ee=>{Z.on(he=>{((ge,Ce)=>{const Ae=Math.abs(ge.clientX-Ce.x),Ie=Math.abs(ge.clientY-Ce.y);return Ae>5||Ie>5})(Ee,he)&&Z.clear()})}),P.none())},{key:He(),value:pe=>(se.cancel(),Z.get().filter(Ee=>os(Ee.target,pe.target)).map(Ee=>Q.get()?(pe.prevent(),!1):L.triggerEvent(Ud(),pe)))}]);return{fireIfReady:(pe,Ee)=>on(me,Ee).bind(he=>he(pe))}})(u),b=$e(["touchstart","touchmove","touchend","touchcancel","gesturestart","mousedown","mouseup","mouseover","mousemove","mouseout","click"].concat(["selectstart","input","contextmenu","change","transitionend","transitioncancel","drag","dragstart","dragend","dragenter","dragleave","dragover","drop","keyup"]),L=>Al(s,L,Z=>{f.fireIfReady(Z,L).each(Q=>{Q&&Z.kill()}),u.triggerEvent(L,Z)&&Z.kill()})),v=bs(),C=Al(s,"paste",L=>{f.fireIfReady(L,"paste").each(Z=>{Z&&L.kill()}),u.triggerEvent("paste",L)&&L.kill(),v.set(setTimeout(()=>{u.triggerEvent(Lh(),L)},0))}),k=Al(s,"keydown",L=>{u.triggerEvent("keydown",L)?L.kill():u.stopBackspace&&(Z=>Z.raw.which===RR[0]&&!ct(["input","textarea"],ol(Z.target))&&!xy(Z.target,'[contenteditable="true"]'))(L)&&L.prevent()}),E=Al(s,"focusin",L=>{u.triggerEvent("focusin",L)&&L.kill()}),B=bs(),$=Al(s,"focusout",L=>{u.triggerEvent("focusout",L)&&L.kill(),B.set(setTimeout(()=>{u.triggerEvent(zd(),L)},0))});return{unbind:()=>{ht(b,L=>{L.unbind()}),k.unbind(),E.unbind(),$.unbind(),C.unbind(),v.on(clearTimeout),B.on(clearTimeout)}}},oT=(s,i)=>{const u=on(s,"target").getOr(i);return Hn(u)},Q2=ii([{stopped:[]},{resume:["element"]},{complete:[]}]),cI=(s,i,u,f,b,v)=>{const C=s(i,f),k=((E,B)=>{const $=Hn(!1),L=Hn(!1);return{stop:()=>{$.set(!0)},cut:()=>{L.set(!0)},isStopped:$.get,isCut:L.get,event:E,setSource:B.set,getSource:B.get}})(u,b);return C.fold(()=>(v.logEventNoHandlers(i,f),Q2.complete()),E=>{const B=E.descHandler;return Tx(B)(k),k.isStopped()?(v.logEventStopped(i,E.element,B.purpose),Q2.stopped()):k.isCut()?(v.logEventCut(i,E.element,B.purpose),Q2.complete()):Ea(E.element).fold(()=>(v.logNoParent(i,E.element,B.purpose),Q2.complete()),$=>(v.logEventResponse(i,E.element,B.purpose),Q2.resume($)))})},ew=(s,i,u,f,b,v)=>cI(s,i,u,f,b,v).fold(Ve,C=>ew(s,i,u,C,b,v),Oe),$S=(s,i,u,f,b)=>{const v=oT(u,f);return ew(s,i,u,f,v,b)},uI=()=>{const s=(()=>{const f={};return{registerId:(b,v,C)=>{no(C,(k,E)=>{const B=f[E]!==void 0?f[E]:{};B[v]=(($,L)=>({cHandler:be.apply(void 0,[$.handler].concat(L)),purpose:$.purpose}))(k,b),f[E]=B})},unregisterId:b=>{no(f,(v,C)=>{ro(v,b)&&delete v[b]})},filterByType:b=>on(f,b).map(v=>Qr(v,(C,k)=>((E,B)=>({id:E,descHandler:B}))(k,C))).getOr([]),find:(b,v,C)=>on(f,v).bind(k=>Hf(C,E=>((B,$)=>Kh($).bind(L=>on(B,L)).map(L=>((Z,Q)=>({element:Z,descHandler:Q}))($,L)))(k,E),b))}})(),i={},u=f=>{Kh(f.element).each(b=>{delete i[b],s.unregisterId(b)})};return{find:(f,b,v)=>s.find(f,b,v),filter:f=>s.filterByType(f),register:f=>{const b=(C=>{const k=C.element;return Kh(k).getOrThunk(()=>((E,B)=>{const $=In(x1+"uid-");return w1(B,$),$})(0,C.element))})(f);Do(i,b)&&((C,k)=>{const E=i[k];if(E!==C)throw new Error('The tagId "'+k+'" is already used by: '+Xf(E.element)+`
Cannot use it for: `+Xf(C.element)+`
The conflicting element is`+(yn(E.element)?" ":" not ")+"already in the DOM");u(C)})(f,b);const v=[f];s.registerId(v,b,f.events),i[b]=f},unregister:u,getById:f=>on(i,f)}},lm=dd({name:"Container",factory:s=>{const{attributes:i,...u}=s.dom;return{uid:s.uid,dom:{tag:"div",attributes:{role:"presentation",...i},...u},components:s.components,behaviours:co(s.containerBehaviours),events:s.events,domModification:s.domModification,eventOrder:s.eventOrder}},configFields:[mt("components",[]),Pn("containerBehaviours",[]),mt("events",{}),mt("domModification",{}),mt("eventOrder",{})]}),VS=s=>{const i=pe=>Ea(s.element).fold(Ve,Ee=>os(pe,Ee)),u=uI(),f=(pe,Ee)=>u.find(i,pe,Ee),b=FS(s.element,{triggerEvent:(pe,Ee)=>Cv(pe,Ee.target,he=>((ge,Ce,Ae,Ie)=>$S(ge,Ce,Ae,Ae.target,Ie))(f,pe,Ee,he))}),v={debugInfo:q("real"),triggerEvent:(pe,Ee,he)=>{Cv(pe,Ee,ge=>$S(f,pe,he,Ee,ge))},triggerFocus:(pe,Ee)=>{Kh(pe).fold(()=>{El(pe)},he=>{Cv(Ru(),pe,ge=>(((Ce,Ae,Ie,Xe,dt)=>{const Lt=oT(Ie,Xe);cI(Ce,Ae,Ie,Xe,Lt,dt)})(f,Ru(),{originator:Ee,kill:j,prevent:j,target:pe},pe,ge),!1))})},triggerEscape:(pe,Ee)=>{v.triggerEvent("keydown",pe.element,Ee.event)},getByUid:pe=>se(pe),getByDom:pe=>me(pe),build:_i,buildOrPatch:A1,addToGui:pe=>{E(pe)},removeFromGui:pe=>{B(pe)},addToWorld:pe=>{C(pe)},removeFromWorld:pe=>{k(pe)},broadcast:pe=>{L(pe)},broadcastOn:(pe,Ee)=>{Z(pe,Ee)},broadcastEvent:(pe,Ee)=>{Q(pe,Ee)},isConnected:Ve},C=pe=>{pe.connect(v),ei(pe.element)||(u.register(pe),ht(pe.components(),C),v.triggerEvent(Wd(),pe.element,{target:pe.element}))},k=pe=>{ei(pe.element)||(ht(pe.components(),k),u.unregister(pe)),pe.disconnect()},E=pe=>{qm(s,pe)},B=pe=>{zl(pe)},$=pe=>{const Ee=u.filter(ec());ht(Ee,he=>{const ge=he.descHandler;Tx(ge)(pe)})},L=pe=>{$({universal:!0,data:pe})},Z=(pe,Ee)=>{$({universal:!1,channels:pe,data:Ee})},Q=(pe,Ee)=>((he,ge,Ce)=>{const Ae=(Ie=>{const Xe=Hn(!1);return{stop:()=>{Xe.set(!0)},cut:j,isStopped:Xe.get,isCut:Oe,event:Ie,setSource:Ze("Cannot set source of a broadcasted event"),getSource:Ze("Cannot get source of a broadcasted event")}})(ge);return ht(he,Ie=>{const Xe=Ie.descHandler;Tx(Xe)(Ae)}),Ae.isStopped()})(u.filter(pe),Ee),se=pe=>u.getById(pe).fold(()=>Go.error(new Error('Could not find component with uid: "'+pe+'" in system.')),Go.value),me=pe=>{const Ee=Kh(pe).getOr("not found");return se(Ee)};return C(s),{root:s,element:s.element,destroy:()=>{b.unbind(),Za(s.element)},add:E,remove:B,getByUid:se,getByDom:me,addToWorld:C,removeFromWorld:k,broadcast:L,broadcastOn:Z,broadcastEvent:Q}},PF=q([mt("prefix","form-field"),Pn("fieldBehaviours",[Cs,vt])]),sT=q([ud({schema:[Ft("dom")],name:"label"}),ud({factory:{sketch:s=>({uid:s.uid,dom:{tag:"span",styles:{display:"none"},attributes:{"aria-hidden":"true"},innerHtml:s.text}})},schema:[Ft("text")],name:"aria-descriptor"}),ac({factory:{sketch:s=>{const i=((u,f)=>{const b={};return no(u,(v,C)=>{ct(f,C)||(b[C]=v)}),b})(s,["factory"]);return s.factory.sketch(i)}},schema:[Ft("factory")],name:"field"})]),js=pc({name:"FormField",configFields:PF(),partFields:sT(),factory:(s,i,u,f)=>{const b=Io(s.fieldBehaviours,[Cs.config({find:k=>fr(k,s,"field")}),vt.config({store:{mode:"manual",getValue:k=>Cs.getCurrent(k).bind(vt.getValue),setValue:(k,E)=>{Cs.getCurrent(k).each(B=>{vt.setValue(B,E)})}}})]),v=yo([cr((k,E)=>{const B=hR(k,s,["label","field","aria-descriptor"]);B.field().each($=>{const L=In(s.prefix);B.label().each(Z=>{bn(Z.element,"for",L),bn($.element,"id",L)}),B["aria-descriptor"]().each(Z=>{const Q=In(s.prefix);bn(Z.element,"id",Q),bn($.element,"aria-describedby",Q)})})})]),C={getField:k=>fr(k,s,"field"),getLabel:k=>fr(k,s,"label")};return{uid:s.uid,dom:s.dom,components:i,behaviours:b,events:v,apis:C}},apis:{getField:(s,i)=>s.getField(i),getLabel:(s,i)=>s.getLabel(i)}});var BF=tinymce.util.Tools.resolve("tinymce.html.Entities");const tw=(s,i,u,f)=>{const b=MF(s,i,u,f);return js.sketch(b)},MF=(s,i,u,f)=>({dom:HS(u),components:s.toArray().concat([i]),fieldBehaviours:en(f)}),HS=s=>({tag:"div",classes:["tox-form__group"].concat(s)}),Ab=(s,i)=>js.parts.label({dom:{tag:"label",classes:["tox-label"]},components:[sa(i.translate(s))]}),jl=In("form-component-change"),Tb=In("form-close"),bp=In("form-cancel"),sg=In("form-action"),nw=In("form-submit"),rT=In("form-block"),aT=In("form-unblock"),dI=In("form-tabchange"),zS=In("form-resize"),fI=(s,i,u)=>{const f=s.label.map(L=>Ab(L,i)),b=i.icons(),v=L=>(Z,Q)=>{Xd(Q.event.target,"[data-collection-item-value]").each(se=>{L(Z,Q,se,Ko(se,"data-collection-item-value"))})},C=v((L,Z,Q,se)=>{Z.stop(),i.isDisabled()||jn(L,sg,{name:s.name,value:se})}),k=[Rt(Un(),v((L,Z,Q)=>{El(Q)})),Rt(da(),C),Rt(Ud(),C),Rt(_s(),v((L,Z,Q)=>{Rr(L.element,"."+eh).each(se=>{Ro(se,eh)}),Mn(Q,eh)})),Rt(Kr(),v(L=>{Rr(L.element,"."+eh).each(Z=>{Ro(Z,eh),Rv(Z)})})),nu(v((L,Z,Q,se)=>{jn(L,sg,{name:s.name,value:se})}))],E=(L,Z)=>$e(Ya(L.element,".tox-collection__item"),Z),B=js.parts.field({dom:{tag:"div",classes:["tox-collection"].concat(s.columns!==1?["tox-collection--grid"]:["tox-collection--list"])},components:[],factory:{sketch:de},behaviours:en([wo.config({disabled:i.isDisabled,onDisabled:L=>{E(L,Z=>{Mn(Z,"tox-collection__item--state-disabled"),bn(Z,"aria-disabled",!0)})},onEnabled:L=>{E(L,Z=>{Ro(Z,"tox-collection__item--state-disabled"),Bo(Z,"aria-disabled")})}}),ci(),io.config({}),Sa.config({...i.tooltips.getConfig({tooltipText:"",onShow:L=>{Rr(L.element,"."+eh+"[data-mce-tooltip]").each(Z=>{is(Z,"data-mce-tooltip").each(Q=>{Sa.setComponents(L,i.tooltips.getComponents({tooltipText:Q}))})})}}),mode:"children-keyboard-focus",anchor:L=>({type:"node",node:Rr(L.element,"."+eh).orThunk(()=>yu(".tox-collection__item")),root:L.element,layouts:{onLtr:q([fa,Wr,Gr,wa,Yr,qs]),onRtl:q([fa,Wr,Gr,wa,Yr,qs])},bubble:su(0,-2,{})})}),vt.config({store:{mode:"memory",initialValue:u.getOr([])},onSetValue:(L,Z)=>{((Q,se)=>{const me=$e(se,he=>{const ge=nf.translate(he.text),Ce=s.columns===1?`<div class="tox-collection__item-label">${ge}</div>`:"",Ae=`<div class="tox-collection__item-icon">${(dt=>{var Lt;return(Lt=b[dt])!==null&&Lt!==void 0?Lt:dt})(he.icon)}</div>`,Ie={_:" "," - ":" ","-":" "},Xe=ge.replace(/\_| \- |\-/g,dt=>Ie[dt]);return`<div data-mce-tooltip="${Xe}" class="tox-collection__item${i.isDisabled()?" tox-collection__item--state-disabled":""}" tabindex="-1" data-collection-item-value="${BF.encodeAllRaw(he.value)}" aria-label="${Xe}">${Ae}${Ce}</div>`}),pe=s.columns!=="auto"&&s.columns>1?ot(me,s.columns):[me],Ee=$e(pe,he=>`<div class="tox-collection__group">${he.join("")}</div>`);zh(Q.element,Ee.join(""))})(L,Z),s.columns==="auto"&&EA(L,5,"tox-collection__item").each(({numRows:Q,numColumns:se})=>{qn.setGridSize(L,Q,se)}),Mo(L,zS)}}),lr.config({}),qn.config(($=s.columns,$===1?{mode:"menu",moveOnTab:!1,selector:".tox-collection__item"}:$==="auto"?{mode:"flatgrid",selector:".tox-collection__item",initSize:{numColumns:1,numRows:1}}:{mode:"matrix",selectors:{row:".tox-collection__group",cell:`.${vS}`}})),Fo("collection-events",k)]),eventOrder:{[cl()]:["disabling","alloy.base.behaviour","collection-events"],[_s()]:["collection-events","tooltipping"]}});var $;return tw(f,B,["tox-form__group--collection"],[])},mI=["input","textarea"],US=s=>{const i=ol(s);return ct(mI,i)},gI=(s,i)=>{const u=i.getRoot(s).getOr(s.element);Ro(u,i.invalidClass),i.notify.each(f=>{US(s.element)&&bn(s.element,"aria-invalid",!1),f.getContainer(s).each(b=>{zh(b,f.validHtml)}),f.onValid(s)})},iT=(s,i,u,f)=>{const b=i.getRoot(s).getOr(s.element);Mn(b,i.invalidClass),i.notify.each(v=>{US(s.element)&&bn(s.element,"aria-invalid",!0),v.getContainer(s).each(C=>{zh(C,f)}),v.onInvalid(s,f)})},hI=(s,i,u)=>i.validator.fold(()=>oh(Go.value(!0)),f=>f.validate(s)),lT=(s,i,u)=>(i.notify.each(f=>{f.onValidate(s)}),hI(s,i).map(f=>s.getSystem().isConnected()?f.fold(b=>(iT(s,i,0,b),Go.error(b)),b=>(gI(s,i),Go.value(b))):Go.error("No longer in system")));var LF=Object.freeze({__proto__:null,markValid:gI,markInvalid:iT,query:hI,run:lT,isInvalid:(s,i)=>{const u=i.getRoot(s).getOr(s.element);return Zo(u,i.invalidClass)}}),pI=Object.freeze({__proto__:null,events:(s,i)=>s.validator.map(u=>yo([Rt(u.onEvent,f=>{lT(f,s).get(de)})].concat(u.validateOnLoad?[cr(f=>{lT(f,s).get(j)})]:[]))).getOr({})}),FF=[Ft("invalidClass"),mt("getRoot",P.none),Er("notify",[mt("aria","alert"),mt("getContainer",P.none),mt("validHtml",""),vs("onValid"),vs("onInvalid"),vs("onValidate")]),Er("validator",[Ft("validate"),mt("onEvent","input"),mt("validateOnLoad",!0)])];const sh=Va({fields:FF,name:"invalidating",active:pI,apis:LF,extra:{validation:s=>i=>{const u=vt.getValue(i);return oh(s(u))}}}),C0=Va({fields:[],name:"unselecting",active:Object.freeze({__proto__:null,events:()=>yo([Tg(Si(),Ve)]),exhibit:()=>Tr({styles:{"-webkit-user-select":"none","user-select":"none","-ms-user-select":"none","-moz-user-select":"-moz-none"},attributes:{unselectable:"on"}})})}),cT=In("color-input-change"),uT=In("color-swatch-change"),bI=In("color-picker-cancel"),dT=ud({schema:[Ft("dom")],name:"label"}),Ob=s=>ud({name:s+"-edge",overrides:i=>i.model.manager.edgeActions[s].fold(()=>({}),u=>({events:yo([gv(Y(),(f,b,v)=>u(f,v),[i]),gv($t(),(f,b,v)=>u(f,v),[i]),gv(oo(),(f,b,v)=>{v.mouseIsDown.get()&&u(f,v)},[i])])}))}),$F=Ob("top-left"),VF=Ob("top"),HF=Ob("top-right"),zF=Ob("right"),vI=Ob("bottom-right"),fT=Ob("bottom"),UF=Ob("bottom-left"),WS=Ob("left"),WF=ac({name:"thumb",defaults:q({dom:{styles:{position:"absolute"}}}),overrides:s=>({events:yo([Rg(Y(),s,"spectrum"),Rg(ce(),s,"spectrum"),Rg(He(),s,"spectrum"),Rg($t(),s,"spectrum"),Rg(oo(),s,"spectrum"),Rg(bo(),s,"spectrum")])})}),jS=s=>Gg(s.event);var jF=[dT,WS,zF,VF,fT,$F,HF,UF,vI,WF,ac({schema:[$a("mouseIsDown",()=>Hn(!1))],name:"spectrum",overrides:s=>{const i=s.model.manager,u=(f,b)=>i.getValueFromEvent(b).map(v=>i.setValueFrom(f,s,v));return{behaviours:en([qn.config({mode:"special",onLeft:(f,b)=>i.onLeft(f,s,jS(b)),onRight:(f,b)=>i.onRight(f,s,jS(b)),onUp:(f,b)=>i.onUp(f,s,jS(b)),onDown:(f,b)=>i.onDown(f,s,jS(b))}),lr.config({}),vo.config({})]),events:yo([Rt(Y(),u),Rt(ce(),u),Rt($t(),u),Rt(oo(),(f,b)=>{s.mouseIsDown.get()&&u(f,b)})])}}})];const ow=q("slider.change.value"),mT=s=>{const i=s.event.raw;if((u=>u.type.indexOf("touch")!==-1)(i)){const u=i;return u.touches!==void 0&&u.touches.length===1?P.some(u.touches[0]).map(f=>Qs(f.clientX,f.clientY)):P.none()}{const u=i;return u.clientX!==void 0?P.some(u).map(f=>Qs(f.clientX,f.clientY)):P.none()}},S0=s=>s.model.minX,Rb=s=>s.model.minY,ZS=s=>s.model.minX-1,KS=s=>s.model.minY-1,vp=s=>s.model.maxX,cf=s=>s.model.maxY,qS=s=>s.model.maxX+1,GS=s=>s.model.maxY+1,YS=(s,i,u)=>i(s)-u(s),XS=s=>YS(s,vp,S0),gT=s=>YS(s,cf,Rb),yI=s=>XS(s)/2,hT=s=>gT(s)/2,wy=(s,i)=>i?s.stepSize*s.speedMultiplier:s.stepSize,pT=s=>s.snapToGrid,bT=s=>s.snapStart,JS=s=>s.rounded,QS=(s,i)=>s[i+"-edge"]!==void 0,vT=s=>QS(s,"left"),xI=s=>QS(s,"right"),Cy=s=>QS(s,"top"),wI=s=>QS(s,"bottom"),yp=s=>s.model.value.get(),rh=(s,i)=>({x:s,y:i}),pd=(s,i)=>{jn(s,ow(),{value:i})},yT=(s,i,u,f)=>s<i?s:s>u?u:s===i?i-1:Math.max(i,s-f),sw=(s,i,u,f)=>s>u?s:s<i?i:s===u?u+1:Math.min(u,s+f),CI=(s,i,u)=>Math.max(i,Math.min(u,s)),SI=s=>{const{min:i,max:u,range:f,value:b,step:v,snap:C,snapStart:k,rounded:E,hasMinEdge:B,hasMaxEdge:$,minBound:L,maxBound:Z,screenRange:Q}=s,se=B?i-1:i,me=$?u+1:u;if(b<L)return se;if(b>Z)return me;{const pe=((he,ge,Ce)=>Math.min(Ce,Math.max(he,ge))-ge)(b,L,Z),Ee=CI(pe/Q*f+i,se,me);return C&&Ee>=i&&Ee<=u?((he,ge,Ce,Ae,Ie)=>Ie.fold(()=>{const Xe=he-ge,dt=Math.round(Xe/Ae)*Ae;return CI(ge+dt,ge-1,Ce+1)},Xe=>{const dt=(he-Xe)%Ae,Lt=Math.round(dt/Ae),Dt=Math.floor((he-Xe)/Ae),At=Math.floor((Ce-Xe)/Ae),Jt=Xe+Math.min(At,Dt+Lt)*Ae;return Math.max(Xe,Jt)}))(Ee,i,u,v,k):E?Math.round(Ee):Ee}},e_=s=>{const{min:i,max:u,range:f,value:b,hasMinEdge:v,hasMaxEdge:C,maxBound:k,maxOffset:E,centerMinEdge:B,centerMaxEdge:$}=s;return b<i?v?0:B:b>u?C?k:$:(b-i)/f*E},xT="top",_I="right",kI="bottom",wT="left",ah=s=>s.element.dom.getBoundingClientRect(),cm=(s,i)=>s[i],t_=s=>{const i=ah(s);return cm(i,wT)},EI=s=>{const i=ah(s);return cm(i,_I)},n_=s=>{const i=ah(s);return cm(i,xT)},AI=s=>{const i=ah(s);return cm(i,kI)},TI=s=>{const i=ah(s);return cm(i,"width")},OI=s=>{const i=ah(s);return cm(i,"height")},o_=(s,i,u)=>(s+i)/2-u,RI=(s,i)=>{const u=ah(s),f=ah(i),b=cm(u,wT),v=cm(u,_I),C=cm(f,wT);return o_(b,v,C)},DI=(s,i)=>{const u=ah(s),f=ah(i),b=cm(u,xT),v=cm(u,kI),C=cm(f,xT);return o_(b,v,C)},s_=(s,i)=>{jn(s,ow(),{value:i})},r_=(s,i,u)=>{const f={min:S0(i),max:vp(i),range:XS(i),value:u,step:wy(i),snap:pT(i),snapStart:bT(i),rounded:JS(i),hasMinEdge:vT(i),hasMaxEdge:xI(i),minBound:t_(s),maxBound:EI(s),screenRange:TI(s)};return SI(f)},NI=s=>(i,u,f)=>((b,v,C,k)=>{const E=(b>0?sw:yT)(yp(C),S0(C),vp(C),wy(C,k));return s_(v,E),P.some(E)})(s,i,u,f).map(Ve),CT=(s,i,u,f,b,v)=>{const C=((k,E,B,$,L)=>{const Z=TI(k),Q=$.bind(pe=>P.some(RI(pe,k))).getOr(0),se=L.bind(pe=>P.some(RI(pe,k))).getOr(Z),me={min:S0(E),max:vp(E),range:XS(E),value:B,hasMinEdge:vT(E),hasMaxEdge:xI(E),minBound:t_(k),maxBound:EI(k),maxOffset:Z,centerMinEdge:Q,centerMaxEdge:se};return e_(me)})(i,v,u,f,b);return t_(i)-t_(s)+C},ZF=NI(-1),KF=NI(1),qF=P.none,GF=P.none,ST={"top-left":P.none(),top:P.none(),"top-right":P.none(),right:P.some((s,i)=>{pd(s,qS(i))}),"bottom-right":P.none(),bottom:P.none(),"bottom-left":P.none(),left:P.some((s,i)=>{pd(s,ZS(i))})};var YF=Object.freeze({__proto__:null,setValueFrom:(s,i,u)=>{const f=r_(s,i,u);return s_(s,f),f},setToMin:(s,i)=>{const u=S0(i);s_(s,u)},setToMax:(s,i)=>{const u=vp(i);s_(s,u)},findValueOfOffset:r_,getValueFromEvent:s=>mT(s).map(i=>i.left),findPositionOfValue:CT,setPositionFromValue:(s,i,u,f)=>{const b=yp(u),v=CT(s,f.getSpectrum(s),b,f.getLeftEdge(s),f.getRightEdge(s),u),C=La(i.element)/2;po(i.element,"left",v-C+"px")},onLeft:ZF,onRight:KF,onUp:qF,onDown:GF,edgeActions:ST});const a_=(s,i)=>{jn(s,ow(),{value:i})},_T=(s,i,u)=>{const f={min:Rb(i),max:cf(i),range:gT(i),value:u,step:wy(i),snap:pT(i),snapStart:bT(i),rounded:JS(i),hasMinEdge:Cy(i),hasMaxEdge:wI(i),minBound:n_(s),maxBound:AI(s),screenRange:OI(s)};return SI(f)},II=s=>(i,u,f)=>((b,v,C,k)=>{const E=(b>0?sw:yT)(yp(C),Rb(C),cf(C),wy(C,k));return a_(v,E),P.some(E)})(s,i,u,f).map(Ve),kT=(s,i,u,f,b,v)=>{const C=((k,E,B,$,L)=>{const Z=OI(k),Q=$.bind(pe=>P.some(DI(pe,k))).getOr(0),se=L.bind(pe=>P.some(DI(pe,k))).getOr(Z),me={min:Rb(E),max:cf(E),range:gT(E),value:B,hasMinEdge:Cy(E),hasMaxEdge:wI(E),minBound:n_(k),maxBound:AI(k),maxOffset:Z,centerMinEdge:Q,centerMaxEdge:se};return e_(me)})(i,v,u,f,b);return n_(i)-n_(s)+C},XF=P.none,JF=P.none,QF=II(-1),e7=II(1),t7={"top-left":P.none(),top:P.some((s,i)=>{pd(s,KS(i))}),"top-right":P.none(),right:P.none(),"bottom-right":P.none(),bottom:P.some((s,i)=>{pd(s,GS(i))}),"bottom-left":P.none(),left:P.none()};var n7=Object.freeze({__proto__:null,setValueFrom:(s,i,u)=>{const f=_T(s,i,u);return a_(s,f),f},setToMin:(s,i)=>{const u=Rb(i);a_(s,u)},setToMax:(s,i)=>{const u=cf(i);a_(s,u)},findValueOfOffset:_T,getValueFromEvent:s=>mT(s).map(i=>i.top),findPositionOfValue:kT,setPositionFromValue:(s,i,u,f)=>{const b=yp(u),v=kT(s,f.getSpectrum(s),b,f.getTopEdge(s),f.getBottomEdge(s),u),C=_r(i.element)/2;po(i.element,"top",v-C+"px")},onLeft:XF,onRight:JF,onUp:QF,onDown:e7,edgeActions:t7});const i_=(s,i)=>{jn(s,ow(),{value:i})},l_=(s,i)=>({x:s,y:i}),_0=(s,i)=>(u,f,b)=>((v,C,k,E,B)=>{const $=v>0?sw:yT,L=C?yp(E).x:$(yp(E).x,S0(E),vp(E),wy(E,B)),Z=C?$(yp(E).y,Rb(E),cf(E),wy(E,B)):yp(E).y;return i_(k,l_(L,Z)),P.some(L)})(s,i,u,f,b).map(Ve),o7=_0(-1,!1),ET=_0(1,!1),s7=_0(-1,!0),r7=_0(1,!0),a7={"top-left":P.some((s,i)=>{pd(s,rh(ZS(i),KS(i)))}),top:P.some((s,i)=>{pd(s,rh(yI(i),KS(i)))}),"top-right":P.some((s,i)=>{pd(s,rh(qS(i),KS(i)))}),right:P.some((s,i)=>{pd(s,rh(qS(i),hT(i)))}),"bottom-right":P.some((s,i)=>{pd(s,rh(qS(i),GS(i)))}),bottom:P.some((s,i)=>{pd(s,rh(yI(i),GS(i)))}),"bottom-left":P.some((s,i)=>{pd(s,rh(ZS(i),GS(i)))}),left:P.some((s,i)=>{pd(s,rh(ZS(i),hT(i)))})};var PI=Object.freeze({__proto__:null,setValueFrom:(s,i,u)=>{const f=r_(s,i,u.left),b=_T(s,i,u.top),v=l_(f,b);return i_(s,v),v},setToMin:(s,i)=>{const u=S0(i),f=Rb(i);i_(s,l_(u,f))},setToMax:(s,i)=>{const u=vp(i),f=cf(i);i_(s,l_(u,f))},getValueFromEvent:s=>mT(s),setPositionFromValue:(s,i,u,f)=>{const b=yp(u),v=CT(s,f.getSpectrum(s),b.x,f.getLeftEdge(s),f.getRightEdge(s),u),C=kT(s,f.getSpectrum(s),b.y,f.getTopEdge(s),f.getBottomEdge(s),u),k=La(i.element)/2,E=_r(i.element)/2;po(i.element,"left",v-k+"px"),po(i.element,"top",C-E+"px")},onLeft:o7,onRight:ET,onUp:s7,onDown:r7,edgeActions:a7});const um=pc({name:"Slider",configFields:[mt("stepSize",1),mt("speedMultiplier",10),mt("onChange",j),mt("onChoose",j),mt("onInit",j),mt("onDragStart",j),mt("onDragEnd",j),mt("snapToGrid",!1),mt("rounded",!0),rs("snapStart"),Ra("model",ya("mode",{x:[mt("minX",0),mt("maxX",100),$a("value",s=>Hn(s.mode.minX)),Ft("getInitialValue"),ur("manager",YF)],y:[mt("minY",0),mt("maxY",100),$a("value",s=>Hn(s.mode.minY)),Ft("getInitialValue"),ur("manager",n7)],xy:[mt("minX",0),mt("maxX",100),mt("minY",0),mt("maxY",100),$a("value",s=>Hn({x:s.mode.minX,y:s.mode.minY})),Ft("getInitialValue"),ur("manager",PI)]})),Pn("sliderBehaviours",[qn,vt]),$a("mouseIsDown",()=>Hn(!1))],partFields:jF,factory:(s,i,u,f)=>{const b=he=>lp(he,s,"thumb"),v=he=>lp(he,s,"spectrum"),C=he=>fr(he,s,"left-edge"),k=he=>fr(he,s,"right-edge"),E=he=>fr(he,s,"top-edge"),B=he=>fr(he,s,"bottom-edge"),$=s.model,L=$.manager,Z=(he,ge)=>{L.setPositionFromValue(he,ge,s,{getLeftEdge:C,getRightEdge:k,getTopEdge:E,getBottomEdge:B,getSpectrum:v})},Q=(he,ge)=>{$.value.set(ge);const Ce=b(he);Z(he,Ce)},se=he=>{const ge=s.mouseIsDown.get();s.mouseIsDown.set(!1),ge&&fr(he,s,"thumb").each(Ce=>{const Ae=$.value.get();s.onChoose(he,Ce,Ae)})},me=(he,ge)=>{ge.stop(),s.mouseIsDown.set(!0),s.onDragStart(he,b(he))},pe=(he,ge)=>{ge.stop(),s.onDragEnd(he,b(he)),se(he)},Ee=he=>{fr(he,s,"spectrum").map(qn.focusIn)};return{uid:s.uid,dom:s.dom,components:i,behaviours:Io(s.sliderBehaviours,[qn.config({mode:"special",focusIn:Ee}),vt.config({store:{mode:"manual",getValue:he=>$.value.get(),setValue:Q}}),sc.config({channels:{[G()]:{onReceive:se}}})]),events:yo([Rt(ow(),(he,ge)=>{((Ce,Ae)=>{Q(Ce,Ae);const Ie=b(Ce);s.onChange(Ce,Ie,Ae)})(he,ge.event.value)}),cr((he,ge)=>{const Ce=$.getInitialValue();$.value.set(Ce);const Ae=b(he);Z(he,Ae);const Ie=v(he);s.onInit(he,Ae,Ie,$.value.get())}),Rt(Y(),me),Rt(He(),pe),Rt($t(),(he,ge)=>{Ee(he),me(he,ge)}),Rt(bo(),pe)]),apis:{resetToMin:he=>{L.setToMin(he,s)},resetToMax:he=>{L.setToMax(he,s)},setValue:Q,refresh:Z},domModification:{styles:{position:"relative"}}}},apis:{setValue:(s,i,u)=>{s.setValue(i,u)},resetToMin:(s,i)=>{s.resetToMin(i)},resetToMax:(s,i)=>{s.resetToMax(i)},refresh:(s,i)=>{s.refresh(i)}}}),rw=In("rgb-hex-update"),c_=In("slider-update"),AT=In("palette-update"),u_="form",d_=[Pn("formBehaviours",[vt])],TT=s=>"<alloy.field."+s+">",ih=(s,i)=>({uid:s.uid,dom:s.dom,components:i,behaviours:Io(s.formBehaviours,[vt.config({store:{mode:"manual",getValue:u=>{const f=vE(u,s);return so(f,(b,v)=>b().bind(C=>{return k=Cs.getCurrent(C),E=new Error(`Cannot find a current component to extract the value from for form part '${v}': `+Xf(C.element)),k.fold(()=>Go.error(E),Go.value);var k,E}).map(vt.getValue))},setValue:(u,f)=>{no(f,(b,v)=>{fr(u,s,v).each(C=>{Cs.getCurrent(C).each(k=>{vt.setValue(k,b)})})})}}})]),apis:{getField:(u,f)=>fr(u,s,f).bind(Cs.getCurrent)}}),Db={getField:_1((s,i,u)=>s.getField(i,u)),sketch:s=>{const i=(()=>{const v=[];return{field:(C,k)=>(v.push(C),hE(u_,TT(C),k)),record:q(v)}})(),u=s(i),f=i.record(),b=$e(f,v=>ac({name:v,pname:TT(v)}));return t2(u_,d_,b,ih,u)}},BI=In("valid-input"),MI=In("invalid-input"),LI=In("validating-input"),OT="colorcustom.rgb.",aw={isEnabled:Ve,setEnabled:j,immediatelyShow:j,immediatelyHide:j},i7=(s,i,u,f,b,v)=>{const C=(Q,se)=>{const me=se.get();Q!==me.isEnabled()&&(me.setEnabled(Q),Q?me.immediatelyShow():me.immediatelyHide())},k=(Q,se,me)=>sh.config({invalidClass:i("invalid"),notify:{onValidate:pe=>{jn(pe,LI,{type:Q})},onValid:pe=>{C(!1,me),jn(pe,BI,{type:Q,value:vt.getValue(pe)})},onInvalid:pe=>{C(!0,me),jn(pe,MI,{type:Q,value:vt.getValue(pe)})}},validator:{validate:pe=>{const Ee=vt.getValue(pe),he=se(Ee)?Go.value(!0):Go.error(s("aria.input.invalid"));return oh(he)},validateOnLoad:!1}}),E=(Q,se,me,pe,Ee)=>{const he=Hn(aw),ge=s(OT+"range"),Ce=js.parts.label({dom:{tag:"label",attributes:{"aria-label":pe}},components:[sa(me)]}),Ae=js.parts.field({data:Ee,factory:mp,inputAttributes:{type:"text",...se==="hex"?{"aria-live":"polite"}:{}},inputClasses:[i("textfield")],inputBehaviours:en([k(se,Q,he),lr.config({}),Sa.config({...b({tooltipText:"",onSetup:At=>{he.set({isEnabled:()=>Sa.isEnabled(At),setEnabled:Jt=>Sa.setEnabled(At,Jt),immediatelyShow:()=>Sa.immediateOpenClose(At,!0),immediatelyHide:()=>Sa.immediateOpenClose(At,!1)}),Sa.setEnabled(At,!1)},onShow:(At,Jt)=>{Sa.setComponents(At,[{dom:{tag:"p",classes:[i("rgb-warning-note")]},components:[sa(s(se==="hex"?"colorcustom.rgb.invalidHex":"colorcustom.rgb.invalid"))]}])}})})]),onSetValue:At=>{sh.isInvalid(At)&&sh.run(At).get(j)}}),Ie=In("aria-invalid"),Xe=$s(v("invalid",P.some(Ie),"warning")),dt=[Ce,Ae,$s({dom:{tag:"div",classes:[i("invalid-icon")]},components:[Xe.asSpec()]}).asSpec()],Lt=se!=="hex"?[js.parts["aria-descriptor"]({text:ge})]:[],Dt=dt.concat(Lt);return{dom:{tag:"div",attributes:{role:"presentation"},classes:[i("rgb-container")]},components:Dt}},B=(Q,se)=>{const me=se.red,pe=se.green,Ee=se.blue;vt.setValue(Q,{red:me,green:pe,blue:Ee})},$=$s({dom:{tag:"div",classes:[i("rgba-preview")],styles:{"background-color":"white"},attributes:{role:"presentation"}}}),L=(Q,se)=>{$.getOpt(Q).each(me=>{po(me.element,"background-color","#"+se.value)})};return dd({factory:()=>{const Q={red:Hn(P.some(255)),green:Hn(P.some(255)),blue:Hn(P.some(255)),hex:Hn(P.some("ffffff"))},se=dt=>Q[dt].get(),me=(dt,Lt)=>{Q[dt].set(Lt)},pe=dt=>{const Lt=dt.red,Dt=dt.green,At=dt.blue;me("red",P.some(Lt)),me("green",P.some(Dt)),me("blue",P.some(At))},Ee=(dt,Lt)=>{const Dt=Lt.event;Dt.type!=="hex"?me(Dt.type,P.none()):f(dt)},he=(dt,Lt)=>{const Dt=Lt.event;(At=>At.type==="hex")(Dt)?((At,Jt)=>{u(At);const En=DA(Jt);me("hex",P.some(En.value));const zn=im(En);B(At,zn),pe(zn),jn(At,rw,{hex:En}),L(At,En)})(dt,Dt.value):((At,Jt,En)=>{const zn=parseInt(En,10);me(Jt,P.some(zn)),se("red").bind(Qn=>se("green").bind(Co=>se("blue").map(es=>pp(Qn,Co,es,1)))).each(Qn=>{const Co=((es,yr)=>{const Dr=K2(yr);return Db.getField(es,"hex").each($o=>{vo.isFocused($o)||vt.setValue(es,{hex:Dr.value})}),Dr})(At,Qn);jn(At,rw,{hex:Co}),L(At,Co)})})(dt,Dt.type,Dt.value)},ge=dt=>({label:s(OT+dt+".label"),description:s(OT+dt+".description")}),Ce=ge("red"),Ae=ge("green"),Ie=ge("blue"),Xe=ge("hex");return Ws(Db.sketch(dt=>({dom:{tag:"form",classes:[i("rgb-form")],attributes:{"aria-label":s("aria.color.picker")}},components:[dt.field("red",js.sketch(E(q2,"red",Ce.label,Ce.description,255))),dt.field("green",js.sketch(E(q2,"green",Ae.label,Ae.description,255))),dt.field("blue",js.sketch(E(q2,"blue",Ie.label,Ie.description,255))),dt.field("hex",js.sketch(E(NN,"hex",Xe.label,Xe.description,"ffffff"))),$.asSpec()],formBehaviours:en([sh.config({invalidClass:i("form-invalid")}),Fo("rgb-form-events",[Rt(BI,he),Rt(MI,Ee),Rt(LI,Ee)])])})),{apis:{updateHex:(dt,Lt)=>{vt.setValue(dt,{hex:Lt.value}),((Dt,At)=>{const Jt=im(At);B(Dt,Jt),pe(Jt)})(dt,Lt),L(dt,Lt)}}})},name:"RgbForm",configFields:[],apis:{updateHex:(Q,se,me)=>{Q.updateHex(se,me)}},extraApis:{}})},FI=(s,i,u,f)=>dd({name:"ColourPicker",configFields:[Ft("dom"),mt("onValidHex",j),mt("onInvalidHex",j)],factory:v=>{const C=i7(s,i,v.onValidHex,v.onInvalidHex,u,f),k=((Ee,he)=>{const ge=um.parts.spectrum({dom:{tag:"canvas",attributes:{role:"presentation"},classes:[he("sv-palette-spectrum")]}}),Ce=um.parts.thumb({dom:{tag:"div",attributes:{role:"presentation"},classes:[he("sv-palette-thumb")],innerHtml:`<div class=${he("sv-palette-inner-thumb")} role="presentation"></div>`}}),Ae=(Ie,Xe)=>{const{width:dt,height:Lt}=Ie,Dt=Ie.getContext("2d");if(Dt===null)return;Dt.fillStyle=Xe,Dt.fillRect(0,0,dt,Lt);const At=Dt.createLinearGradient(0,0,dt,0);At.addColorStop(0,"rgba(255,255,255,1)"),At.addColorStop(1,"rgba(255,255,255,0)"),Dt.fillStyle=At,Dt.fillRect(0,0,dt,Lt);const Jt=Dt.createLinearGradient(0,0,0,Lt);Jt.addColorStop(0,"rgba(0,0,0,0)"),Jt.addColorStop(1,"rgba(0,0,0,1)"),Dt.fillStyle=Jt,Dt.fillRect(0,0,dt,Lt)};return dd({factory:Ie=>{const Xe=q({x:0,y:0}),dt=en([Cs.config({find:P.some}),vo.config({})]);return um.sketch({dom:{tag:"div",attributes:{role:"slider","aria-valuetext":Ee(["Saturation {0}%, Brightness {1}%",0,0])},classes:[he("sv-palette")]},model:{mode:"xy",getInitialValue:Xe},rounded:!1,components:[ge,Ce],onChange:(Lt,Dt,At)=>{X(At)||bn(Lt.element,"aria-valuetext",Ee(["Saturation {0}%, Brightness {1}%",Math.floor(At.x),Math.floor(100-At.y)])),jn(Lt,AT,{value:At})},onInit:(Lt,Dt,At,Jt)=>{Ae(At.element.dom,MN(LN))},sliderBehaviours:dt})},name:"SaturationBrightnessPalette",configFields:[],apis:{setHue:(Ie,Xe,dt)=>{((Lt,Dt)=>{const At=Lt.components()[0].element.dom,Jt=by(Dt,100,100),En=BN(Jt);Ae(At,MN(En))})(Xe,dt)},setThumb:(Ie,Xe,dt)=>{((Lt,Dt)=>{const At=NS(im(Dt));um.setValue(Lt,{x:At.saturation,y:100-At.value}),bn(Lt.element,"aria-valuetext",Ee(["Saturation {0}%, Brightness {1}%",At.saturation,At.value]))})(Xe,dt)}},extraApis:{}})})(s,i),E={paletteRgba:Hn(LN),paletteHue:Hn(0)},B=$s(((Ee,he)=>{const ge=um.parts.spectrum({dom:{tag:"div",classes:[he("hue-slider-spectrum")],attributes:{role:"presentation"}}}),Ce=um.parts.thumb({dom:{tag:"div",classes:[he("hue-slider-thumb")],attributes:{role:"presentation"}}});return um.sketch({dom:{tag:"div",classes:[he("hue-slider")],attributes:{role:"slider","aria-valuemin":0,"aria-valuemax":360,"aria-valuenow":120}},rounded:!1,model:{mode:"y",getInitialValue:q(0)},components:[ge,Ce],sliderBehaviours:en([vo.config({})]),onChange:(Ae,Ie,Xe)=>{bn(Ae.element,"aria-valuenow",Math.floor(360-3.6*Xe)),jn(Ae,c_,{value:Xe})}})})(0,i)),$=$s(k.sketch({})),L=$s(C.sketch({})),Z=(Ee,he,ge)=>{$.getOpt(Ee).each(Ce=>{k.setHue(Ce,ge)})},Q=(Ee,he)=>{L.getOpt(Ee).each(ge=>{C.updateHex(ge,he)})},se=(Ee,he,ge)=>{B.getOpt(Ee).each(Ce=>{um.setValue(Ce,(Ae=>100-Ae/360*100)(ge))})},me=(Ee,he)=>{$.getOpt(Ee).each(ge=>{k.setThumb(ge,he)})},pe=(Ee,he,ge,Ce)=>{((Ae,Ie)=>{const Xe=im(Ae);E.paletteRgba.set(Xe),E.paletteHue.set(Ie)})(he,ge),ht(Ce,Ae=>{Ae(Ee,he,ge)})};return{uid:v.uid,dom:v.dom,components:[$.asSpec(),B.asSpec(),L.asSpec()],behaviours:en([Fo("colour-picker-events",[Rt(rw,(()=>{const Ee=[Z,se,me];return(he,ge)=>{const Ce=ge.event.hex,Ae=(Ie=>NS(im(Ie)))(Ce);pe(he,Ce,Ae.hue,Ee)}})()),Rt(AT,(()=>{const Ee=[Q];return(he,ge)=>{const Ce=ge.event.value,Ae=E.paletteHue.get(),Ie=by(Ae,Ce.x,100-Ce.y),Xe=IS(Ie);pe(he,Xe,Ae,Ee)}})()),Rt(c_,(()=>{const Ee=[Z,Q];return(he,ge)=>{const Ce=(Lt=>(100-Lt)/100*360)(ge.event.value),Ae=E.paletteRgba.get(),Ie=NS(Ae),Xe=by(Ce,Ie.saturation,Ie.value),dt=IS(Xe);pe(he,dt,Ce,Ee)}})())]),Cs.config({find:Ee=>L.getOpt(Ee)}),qn.config({mode:"acyclic"})])}}}),lh=()=>Cs.config({find:P.some}),RT=s=>Cs.config({find:i=>hr(i.element,s).bind(u=>i.getSystem().getByDom(u).toOptional())}),DT=Xn([mt("preprocess",de),mt("postprocess",de)]),NT=(s,i)=>{const u=Ci("RepresentingConfigs.memento processors",DT,i);return vt.config({store:{mode:"manual",getValue:f=>{const b=s.get(f),v=vt.getValue(b);return u.postprocess(v)},setValue:(f,b)=>{const v=u.preprocess(b),C=s.get(f);vt.setValue(C,v)}}})},k0=(s,i,u)=>vt.config({store:{mode:"manual",...s.map(f=>({initialValue:f})).getOr({}),getValue:i,setValue:u}}),IT=(s,i,u)=>k0(s,f=>i(f.element),(f,b)=>u(f.element,b)),iw=s=>vt.config({store:{mode:"memory",initialValue:s}}),l7={"colorcustom.rgb.red.label":"R","colorcustom.rgb.red.description":"Red component","colorcustom.rgb.green.label":"G","colorcustom.rgb.green.description":"Green component","colorcustom.rgb.blue.label":"B","colorcustom.rgb.blue.description":"Blue component","colorcustom.rgb.hex.label":"#","colorcustom.rgb.hex.description":"Hex color code","colorcustom.rgb.range":"Range 0 to 255","colorcustom.rgb.invalid":"Numbers only, 0 to 255","colorcustom.rgb.invalidHex":"Hexadecimal only, 000000 to FFFFFF","aria.color.picker":"Color Picker","aria.input.invalid":"Invalid input"};var $I=tinymce.util.Tools.resolve("tinymce.Resource");const PT=s=>ro(s,"init");var xp=tinymce.util.Tools.resolve("tinymce.util.Tools");const BT=(s,i)=>{let u=null;const f=()=>{R(u)||(clearTimeout(u),u=null)};return{cancel:f,throttle:(...b)=>{f(),u=setTimeout(()=>{u=null,s.apply(null,b)},i)}}},MT=In("alloy-fake-before-tabstop"),LT=In("alloy-fake-after-tabstop"),VI=s=>({dom:{tag:"div",styles:{width:"1px",height:"1px",outline:"none"},attributes:{tabindex:"0"},classes:s},behaviours:en([vo.config({ignore:!0}),lr.config({})])}),FT=(s,i)=>({dom:{tag:"div",classes:["tox-navobj",...s.getOr([])]},components:[VI([MT]),i,VI([LT])],behaviours:en([RT(1)])}),$T=(s,i)=>{jn(s,Ar(),{raw:{which:9,shiftKey:i}})},c7=(s,i)=>{const u=i.element;Zo(u,MT)?$T(s,!0):Zo(u,LT)&&$T(s,!1)},Sy=s=>xy(s,["."+MT,"."+LT].join(","),Oe),Nb=In("update-dialog"),VT=In("update-title"),HI=In("update-body"),zI=In("update-footer"),HT=In("body-send-message"),f_=In("dialog-focus-shifted"),zT=Fa().browser,_y=zT.isSafari(),UI=zT.isFirefox(),UT=_y||UI,WI=zT.isChromium(),u7=({scrollTop:s,scrollHeight:i,clientHeight:u})=>Math.ceil(s)+u>=i,jI=(s,i)=>s.scrollTo(0,i==="bottom"?99999999:i),WT=(s,i,u)=>{const f=s.dom;P.from(f.contentDocument).fold(u,b=>{let v=0;const C=((E,B)=>{const $=E.body;return P.from(!/^<!DOCTYPE (html|HTML)/.test(B)&&(!WI&&!_y||z($)&&($.scrollTop!==0||Math.abs($.scrollHeight-$.clientHeight)>1))?$:E.documentElement)})(b,i).map(E=>(v=E.scrollTop,E)).forall(u7),k=()=>{const E=f.contentWindow;z(E)&&(C?jI(E,"bottom"):!C&&UT&&v!==0&&jI(E,v))};_y&&f.addEventListener("load",k,{once:!0}),b.open(),b.write(i),b.close(),_y||k()})},jT=Vo(UT,_y?500:200).map(s=>((i,u)=>{let f=null,b=null;return{cancel:()=>{R(f)||(clearTimeout(f),f=null,b=null)},throttle:(...v)=>{b=v,R(f)&&(f=setTimeout(()=>{const C=b;f=null,b=null,i.apply(null,C)},u))}}})(WT,s)),m_=In("toolbar.button.execute"),Ib=In("common-button-display-events"),ZT={[cl()]:["disabling","alloy.base.behaviour","toggling","toolbar-button-events","tooltipping"],[li()]:["toolbar-button-events",Ib],[Nc()]:["toolbar-button-events","dropdown-events","tooltipping"],[$t()]:["focusing","alloy.base.behaviour",Ib]},g_=s=>po(s.element,"width",Sr(s.element,"width")),ZI=(s,i,u)=>Uu(s,{tag:"span",classes:["tox-icon","tox-tbtn__icon-wrap"],behaviours:u},i),lw=(s,i)=>ZI(s,i,[]),Pb=(s,i)=>ZI(s,i,[io.config({})]),KT=(s,i,u)=>({dom:{tag:"span",classes:[`${i}__select-label`]},components:[sa(u.translate(s))],behaviours:en([io.config({})])}),bd=In("update-menu-text"),uf=In("update-menu-icon"),qT=(s,i,u,f)=>{const b=Hn(j),v=s.text.map(me=>$s(KT(me,i,u.providers))),C=s.icon.map(me=>$s(Pb(me,u.providers.icons))),k=(me,pe)=>{const Ee=vt.getValue(me);return vo.focus(Ee),jn(Ee,"keydown",{raw:pe.event.raw}),ic.close(Ee),P.some(!0)},E=s.role.fold(()=>({}),me=>({role:me})),B=P.from(s.listRole).map(me=>({listRole:me})).getOr({}),$=s.ariaLabel.fold(()=>({}),me=>({"aria-label":u.providers.translate(me)})),L=Uu("chevron-down",{tag:"div",classes:[`${i}__select-chevron`]},u.providers.icons),Z=In("common-button-display-events"),Q="dropdown-events";return $s(ic.sketch({...s.uid?{uid:s.uid}:{},...E,...B,dom:{tag:"button",classes:[i,`${i}--select`].concat($e(s.classes,me=>`${i}--${me}`)),attributes:{...$,...z(f)?{"data-mce-name":f}:{}}},components:fy([C.map(me=>me.asSpec()),v.map(me=>me.asSpec()),P.some(L)]),matchWidth:!0,useMinWidth:!0,onOpen:(me,pe,Ee)=>{s.searchable&&(he=>{sN(he).each(ge=>vo.focus(ge))})(Ee)},dropdownBehaviours:en([...s.dropdownBehaviours,ml(()=>s.disabled||u.providers.isDisabled()),ci(),C0.config({}),io.config({}),...s.tooltip.map(me=>Sa.config(u.providers.tooltips.getConfig({tooltipText:u.providers.translate(me)}))).toArray(),Fo(Q,[_b(s,b),gp(s,b)]),Fo(Z,[cr((me,pe)=>s.listRole==="listbox"?j:g_(me))]),Fo("menubutton-update-display-text",[Rt(bd,(me,pe)=>{v.bind(Ee=>Ee.getOpt(me)).each(Ee=>{io.set(Ee,[sa(u.providers.translate(pe.event.text))])})}),Rt(uf,(me,pe)=>{C.bind(Ee=>Ee.getOpt(me)).each(Ee=>{io.set(Ee,[Pb(pe.event.icon,u.providers.icons)])})})])]),eventOrder:Ws(ZT,{[$t()]:["focusing","alloy.base.behaviour","item-type-events","normal-dropdown-events"],[li()]:["toolbar-button-events",Sa.name(),Q,Z]}),sandboxBehaviours:en([qn.config({mode:"special",onLeft:k,onRight:k}),Fo("dropdown-sandbox-events",[Rt(tN,(me,pe)=>{(Ee=>{const he=vt.getValue(Ee),ge=F2(Ee).map(rN);ic.refetch(he).get(()=>{const Ce=ra.getCoupled(he,"sandbox");ge.each(Ae=>F2(Ce).each(Ie=>((Xe,dt)=>{vt.setValue(Xe,dt.fetchPattern),Xe.element.dom.selectionStart=dt.selectionStart,Xe.element.dom.selectionEnd=dt.selectionEnd})(Ie,Ae)))})})(me),pe.stop()}),Rt(nN,(me,pe)=>{((Ee,he)=>{(ge=>D.getState(ge).bind(zs.getHighlighted).bind(zs.getHighlighted))(Ee).each(ge=>{((Ce,Ae,Ie,Xe)=>{const dt={...Xe,target:Ae};Ce.getSystem().triggerEvent(Ie,Ae,dt)})(Ee,ge.element,he.event.eventType,he.event.interactionEvent)})})(me,pe),pe.stop()})])]),lazySink:u.getSink,toggleClass:`${i}--active`,parts:{menu:{...yS(0,s.columns,s.presets),fakeFocus:s.searchable,...s.listRole==="listbox"?{}:{onHighlightItem:rI,onCollapseMenu:(me,pe,Ee)=>{zs.getHighlighted(Ee).each(he=>{rI(me,Ee,he)})},onDehighlightItem:NF}}},getAnchorOverrides:()=>({maxHeightFunction:(me,pe)=>{zg()(me,pe-10)}}),fetch:me=>kb(be(s.fetch,me))})).asSpec()},h_=s=>s.type==="separator",p_={type:"separator"},KI=(s,i)=>{const u=((f,b)=>{const v=Gt(f,(C,k)=>(E=>g(E))(k)?k===""?C:k==="|"?C.length>0&&!h_(C[C.length-1])?C.concat([p_]):C:ro(b,k.toLowerCase())?C.concat([b[k.toLowerCase()]]):C:C.concat([k]),[]);return v.length>0&&h_(v[v.length-1])&&v.pop(),v})(g(s)?s.split(" "):s,i);return Fn(u,(f,b)=>{if((v=>ro(v,"getSubmenuItems"))(b)){const v=(k=>{const E=on(k,"value").getOrThunk(()=>In("generated-menu-item"));return Ws({value:E},k)})(b),C=((k,E)=>{const B=k.getSubmenuItems(),$=KI(B,E);return{item:k,menus:Ws($.menus,{[k.value]:$.items}),expansions:Ws($.expansions,{[k.value]:k.value})}})(v,i);return{menus:Ws(f.menus,C.menus),items:[C.item,...f.items],expansions:Ws(f.expansions,C.expansions)}}return{...f,items:[b,...f.items]}},{menus:{},expansions:{},items:[]})},E0=(s,i,u,f)=>{const b=In("primary-menu"),v=KI(s,u.shared.providers.menuItems());if(v.items.length===0)return P.none();const C=(L=>L.search.fold(()=>({searchMode:"no-search"}),Z=>({searchMode:"search-with-field",placeholder:Z.placeholder})))(f),k=aI(b,v.items,i,u,f.isHorizontalMenu,C),E=(L=>L.search.fold(()=>({searchMode:"no-search"}),Z=>({searchMode:"search-with-results"})))(f),B=so(v.menus,(L,Z)=>aI(Z,L,i,u,!1,E)),$=Ws(B,kl(b,k));return P.from(cp.tieredData(b,$,v.expansions))},cw=s=>!ro(s,"items"),GT="data-value",b_=(s,i,u,f,b)=>$e(u,v=>cw(v)?{type:"togglemenuitem",...b?{}:{role:"option"},text:v.text,value:v.value,active:v.value===f,onAction:()=>{vt.setValue(s,v.value),jn(s,jl,{name:i}),vo.focus(s)}}:{type:"nestedmenuitem",text:v.text,getSubmenuItems:()=>b_(s,i,v.items,f,b)}),v_=(s,i)=>fn(s,u=>cw(u)?Vo(u.value===i,u):v_(u.items,i)),d7=dd({name:"HtmlSelect",configFields:[Ft("options"),Pn("selectBehaviours",[vo,vt]),mt("selectClasses",[]),mt("selectAttributes",{}),rs("data")],factory:(s,i)=>{const u=$e(s.options,b=>({dom:{tag:"option",value:b.value,innerHtml:b.text}})),f=s.data.map(b=>kl("initialValue",b)).getOr({});return{uid:s.uid,dom:{tag:"select",classes:s.selectClasses,attributes:s.selectAttributes},components:u,behaviours:Io(s.selectBehaviours,[vo.config({}),vt.config({store:{mode:"manual",getValue:b=>Lm(b.element),setValue:(b,v)=>{const C=Be(s.options);te(s.options,k=>k.value===v).isSome()?Bg(b.element,v):b.element.dom.selectedIndex===-1&&v===""&&C.each(k=>Bg(b.element,k.value))},...f}})])}}}),qI=q([mt("field1Name","field1"),mt("field2Name","field2"),Yd("onLockedChange"),Zh(["lockClass"]),mt("locked",!1),xo("coupledFieldBehaviours",[Cs,vt])]),YT=(s,i)=>ac({factory:js,name:s,overrides:u=>({fieldBehaviours:en([Fo("coupled-input-behaviour",[Rt(Hd(),f=>{((b,v,C)=>fr(b,v,C).bind(Cs.getCurrent))(f,u,i).each(b=>{fr(f,u,"lock").each(v=>{fo.isOn(v)&&u.onLockedChange(f,b,v)})})})])])})}),GI=q([YT("field1","field2"),YT("field2","field1"),ac({factory:Ol,schema:[Ft("dom")],name:"lock",overrides:s=>({buttonBehaviours:en([fo.config({selected:s.locked,toggleClass:s.markers.lockClass,aria:{mode:"pressed"}})])})})]),Zu=pc({name:"FormCoupledInputs",configFields:qI(),partFields:GI(),factory:(s,i,u,f)=>({uid:s.uid,dom:s.dom,components:i,behaviours:uo(s.coupledFieldBehaviours,[Cs.config({find:P.some}),vt.config({store:{mode:"manual",getValue:b=>{const v=yE(b,s,["field1","field2"]);return{[s.field1Name]:vt.getValue(v.field1()),[s.field2Name]:vt.getValue(v.field2())}},setValue:(b,v)=>{const C=yE(b,s,["field1","field2"]);Do(v,s.field1Name)&&vt.setValue(C.field1(),v[s.field1Name]),Do(v,s.field2Name)&&vt.setValue(C.field2(),v[s.field2Name])}}})]),apis:{getField1:b=>fr(b,s,"field1"),getField2:b=>fr(b,s,"field2"),getLock:b=>fr(b,s,"lock")}}),apis:{getField1:(s,i)=>s.getField1(i),getField2:(s,i)=>s.getField2(i),getLock:(s,i)=>s.getLock(i)}}),XT=s=>{const i=/^\s*(\d+(?:\.\d+)?)\s*(|cm|mm|in|px|pt|pc|em|ex|ch|rem|vw|vh|vmin|vmax|%)\s*$/.exec(s);if(i!==null){const u=parseFloat(i[1]),f=i[2];return Go.value({value:u,unit:f})}return Go.error(s)},JT=(s,i)=>{const u={"":96,px:96,pt:72,cm:2.54,pc:12,mm:25.4,in:1},f=b=>ro(u,b);return s.unit===i?P.some(s.value):f(s.unit)&&f(i)?u[s.unit]===u[i]?P.some(s.value):P.some(s.value/u[s.unit]*u[i]):P.none()},QT=s=>P.none(),YI=(s,i)=>{const u=s.label.map($=>Ab($,i)),f=[wo.config({disabled:()=>s.disabled||i.isDisabled()}),ci(),qn.config({mode:"execution",useEnter:s.multiline!==!0,useControlEnter:s.multiline===!0,execute:$=>(Mo($,nw),P.some(!0))}),Fo("textfield-change",[Rt(Hd(),($,L)=>{jn($,jl,{name:s.name})}),Rt(Lh(),($,L)=>{jn($,jl,{name:s.name})})]),lr.config({})],b=s.validation.map($=>sh.config({getRoot:L=>pi(L.element),invalidClass:"tox-invalid",validator:{validate:L=>{const Z=vt.getValue(L),Q=$.validator(Z);return oh(Q===!0?Go.value(Z):Go.error(Q))},validateOnLoad:$.validateOnLoad}})).toArray(),v={...s.placeholder.fold(q({}),$=>({placeholder:i.translate($)})),...s.inputMode.fold(q({}),$=>({inputmode:$})),"data-mce-name":s.name},C=js.parts.field({tag:s.multiline===!0?"textarea":"input",...s.data.map($=>({data:$})).getOr({}),inputAttributes:v,inputClasses:[s.classname],inputBehaviours:en(tn([f,b])),selectOnFocus:!1,factory:mp}),k=s.multiline?{dom:{tag:"div",classes:["tox-textarea-wrap"]},components:[C]}:C,E=(s.flex?["tox-form__group--stretched"]:[]).concat(s.maximized?["tox-form-group--maximize"]:[]),B=[wo.config({disabled:()=>s.disabled||i.isDisabled(),onDisabled:$=>{js.getField($).each(wo.disable)},onEnabled:$=>{js.getField($).each(wo.enable)}}),ci()];return tw(u,k,E,B)},uw=(s,i)=>i.getAnimationRoot.fold(()=>s.element,u=>u(s)),wp=s=>s.dimension.property,Bb=(s,i)=>s.dimension.getDimension(i),Mb=(s,i)=>{const u=uw(s,i);oa(u,[i.shrinkingClass,i.growingClass])},y_=(s,i)=>{Ro(s.element,i.openClass),Mn(s.element,i.closedClass),po(s.element,wp(i),"0px"),Yu(s.element)},e3=(s,i)=>{Ro(s.element,i.closedClass),Mn(s.element,i.openClass),Is(s.element,wp(i))},XI=(s,i,u,f)=>{u.setCollapsed(),po(s.element,wp(i),Bb(i,s.element)),Mb(s,i),y_(s,i),i.onStartShrink(s),i.onShrunk(s)},f7=(s,i,u,f)=>{const b=f.getOrThunk(()=>Bb(i,s.element));u.setCollapsed(),po(s.element,wp(i),b),Yu(s.element);const v=uw(s,i);Ro(v,i.growingClass),Mn(v,i.shrinkingClass),y_(s,i),i.onStartShrink(s)},JI=(s,i,u)=>{const f=Bb(i,s.element);(f==="0px"?XI:f7)(s,i,u,P.some(f))},QI=(s,i,u)=>{const f=uw(s,i),b=Zo(f,i.shrinkingClass),v=Bb(i,s.element);e3(s,i);const C=Bb(i,s.element);(b?()=>{po(s.element,wp(i),v),Yu(s.element)}:()=>{y_(s,i)})(),Ro(f,i.shrinkingClass),Mn(f,i.growingClass),e3(s,i),po(s.element,wp(i),C),u.setExpanded(),i.onStartGrow(s)},dw=(s,i,u)=>{const f=uw(s,i);return Zo(f,i.growingClass)===!0},e5=(s,i,u)=>{const f=uw(s,i);return Zo(f,i.shrinkingClass)===!0};var t5=Object.freeze({__proto__:null,refresh:(s,i,u)=>{if(u.isExpanded()){Is(s.element,wp(i));const f=Bb(i,s.element);po(s.element,wp(i),f)}},grow:(s,i,u)=>{u.isExpanded()||QI(s,i,u)},shrink:(s,i,u)=>{u.isExpanded()&&JI(s,i,u)},immediateShrink:(s,i,u)=>{u.isExpanded()&&XI(s,i,u)},hasGrown:(s,i,u)=>u.isExpanded(),hasShrunk:(s,i,u)=>u.isCollapsed(),isGrowing:dw,isShrinking:e5,isTransitioning:(s,i,u)=>dw(s,i)||e5(s,i),toggleGrow:(s,i,u)=>{(u.isExpanded()?JI:QI)(s,i,u)},disableTransitions:Mb,immediateGrow:(s,i,u)=>{u.isExpanded()||(e3(s,i),po(s.element,wp(i),Bb(i,s.element)),Mb(s,i),u.setExpanded(),i.onStartGrow(s),i.onGrown(s))}}),m7=Object.freeze({__proto__:null,exhibit:(s,i,u)=>{const f=i.expanded;return Tr(f?{classes:[i.openClass],styles:{}}:{classes:[i.closedClass],styles:kl(i.dimension.property,"0px")})},events:(s,i)=>yo([Gd(Mh(),(u,f)=>{f.event.raw.propertyName===s.dimension.property&&(Mb(u,s),i.isExpanded()&&Is(u.element,s.dimension.property),(i.isExpanded()?s.onGrown:s.onShrunk)(u))})])}),n5=[Ft("closedClass"),Ft("openClass"),Ft("shrinkingClass"),Ft("growingClass"),rs("getAnimationRoot"),vs("onShrunk"),vs("onStartShrink"),vs("onGrown"),vs("onStartGrow"),mt("expanded",!1),Ra("dimension",ya("property",{width:[ur("property","width"),ur("getDimension",s=>La(s)+"px")],height:[ur("property","height"),ur("getDimension",s=>_r(s)+"px")]}))];const Fc=Va({fields:n5,name:"sliding",active:m7,apis:t5,state:Object.freeze({__proto__:null,init:s=>{const i=Hn(s.expanded);return xa({isExpanded:()=>i.get()===!0,isCollapsed:()=>i.get()===!1,setCollapsed:be(i.set,!1),setExpanded:be(i.set,!0),readState:()=>"expanded: "+i.get()})}})}),o5=s=>({isEnabled:()=>!wo.isDisabled(s),setEnabled:i=>wo.set(s,!i),setActive:i=>{const u=s.element;i?(Mn(u,"tox-tbtn--enabled"),bn(u,"aria-pressed",!0)):(Ro(u,"tox-tbtn--enabled"),Bo(u,"aria-pressed"))},isActive:()=>Zo(s.element,"tox-tbtn--enabled"),setText:i=>{jn(s,bd,{text:i})},setIcon:i=>jn(s,uf,{icon:i})}),ky=(s,i,u,f,b=!0,v)=>qT({text:s.text,icon:s.icon,tooltip:s.tooltip,ariaLabel:s.tooltip,searchable:s.search.isSome(),role:f,fetch:(C,k)=>{const E={pattern:s.search.isSome()?w0(C):""};s.fetch(B=>{k(E0(B,ng.CLOSE_ON_EXECUTE,u,{isHorizontalMenu:!1,search:s.search}))},E,o5(C))},onSetup:s.onSetup,getApi:o5,columns:1,presets:"normal",classes:[],dropdownBehaviours:[...b?[lr.config({})]:[]]},i,u.shared,v),s5=(s,i,u)=>{const f=v=>C=>{const k=!C.isActive();C.setActive(k),v.storage.set(k),u.shared.getSink().each(E=>{i().getOpt(E).each(B=>{El(B.element),jn(B,sg,{name:v.name,value:v.storage.get()})})})},b=v=>C=>{C.setActive(v.storage.get())};return v=>{v($e(s,C=>{const k=C.text.fold(()=>({}),E=>({text:E}));return{type:C.type,active:!1,...k,onAction:f(C),onSetup:b(C)}}))}},t3=s=>({dom:{tag:"span",classes:["tox-tree__label"],attributes:{"aria-label":s}},components:[sa(s)]}),n3=In("leaf-label-event-id"),o3=({leaf:s,onLeafAction:i,visible:u,treeId:f,selectedId:b,backstage:v})=>{const C=s.menu.map(E=>ky(E,"tox-mbtn",v,P.none(),u)),k=[t3(s.title)];return C.each(E=>k.push(E)),Ol.sketch({dom:{tag:"div",classes:["tox-tree--leaf__label","tox-trbtn"].concat(u?["tox-tree--leaf__label--visible"]:[])},components:k,role:"treeitem",action:E=>{i(s.id),E.getSystem().broadcastOn([`update-active-item-${f}`],{value:s.id})},eventOrder:{[Ar()]:[n3,"keying"]},buttonBehaviours:en([...u?[lr.config({})]:[],fo.config({toggleClass:"tox-trbtn--enabled",toggleOnExecute:!1,aria:{mode:"selected"}}),sc.config({channels:{[`update-active-item-${f}`]:{onReceive:(E,B)=>{(B.value===s.id?fo.on:fo.off)(E)}}}}),Fo(n3,[cr((E,B)=>{b.each($=>{($===s.id?fo.on:fo.off)(E)})}),Rt(Ar(),(E,B)=>{const $=B.event.raw.code==="ArrowLeft",L=B.event.raw.code==="ArrowRight";$?(Lg(E.element,".tox-tree--directory").each(Z=>{E.getSystem().getByDom(Z).each(Q=>{O1(Z,".tox-tree--directory__label").each(se=>{Q.getSystem().getByDom(se).each(vo.focus)})})}),B.stop()):L&&B.stop()})])])})},r5=In("directory-label-event-id"),g7=({directory:s,visible:i,noChildren:u,backstage:f})=>{const b=s.menu.map(B=>ky(B,"tox-mbtn",f,P.none())),v=[{dom:{tag:"div",classes:["tox-chevron"]},components:[(C="chevron-right",k=f.shared.providers.icons,((B,$,L)=>Uu(B,{tag:"span",classes:["tox-tree__icon-wrap","tox-icon"],behaviours:[]},$))(C,k))]},t3(s.title)];var C,k;b.each(B=>{v.push(B)});const E=B=>{Lg(B.element,".tox-tree--directory").each($=>{B.getSystem().getByDom($).each(L=>{const Z=!fo.isOn(L);fo.toggle(L),jn(B,"expand-tree-node",{expanded:Z,node:s.id})})})};return Ol.sketch({dom:{tag:"div",classes:["tox-tree--directory__label","tox-trbtn"].concat(i?["tox-tree--directory__label--visible"]:[])},components:v,action:E,eventOrder:{[Ar()]:[r5,"keying"]},buttonBehaviours:en([...i?[lr.config({})]:[],Fo(r5,[Rt(Ar(),(B,$)=>{const L=$.event.raw.code==="ArrowRight",Z=$.event.raw.code==="ArrowLeft";L&&u&&$.stop(),(L||Z)&&Lg(B.element,".tox-tree--directory").each(Q=>{B.getSystem().getByDom(Q).each(se=>{!fo.isOn(se)&&L||fo.isOn(se)&&Z?(E(B),$.stop()):Z&&!fo.isOn(se)&&(Lg(se.element,".tox-tree--directory").each(me=>{O1(me,".tox-tree--directory__label").each(pe=>{se.getSystem().getByDom(pe).each(vo.focus)})}),$.stop())})})})])])})},h7=({children:s,onLeafAction:i,visible:u,treeId:f,expandedIds:b,selectedId:v,backstage:C})=>({dom:{tag:"div",classes:["tox-tree--directory__children"]},components:s.map(k=>k.type==="leaf"?o3({leaf:k,selectedId:v,onLeafAction:i,visible:u,treeId:f,backstage:C}):x_({directory:k,expandedIds:b,selectedId:v,onLeafAction:i,labelTabstopping:u,treeId:f,backstage:C})),behaviours:en([Fc.config({dimension:{property:"height"},closedClass:"tox-tree--directory__children--closed",openClass:"tox-tree--directory__children--open",growingClass:"tox-tree--directory__children--growing",shrinkingClass:"tox-tree--directory__children--shrinking",expanded:u}),io.config({})])}),a5=In("directory-event-id"),x_=({directory:s,onLeafAction:i,labelTabstopping:u,treeId:f,backstage:b,expandedIds:v,selectedId:C})=>{const{children:k}=s,E=Hn(v),B=v.includes(s.id);return{dom:{tag:"div",classes:["tox-tree--directory"],attributes:{role:"treeitem"}},components:[g7({directory:s,visible:u,noChildren:s.children.length===0,backstage:b}),h7({children:k,expandedIds:v,selectedId:C,onLeafAction:i,visible:B,treeId:f,backstage:b})],behaviours:en([Fo(a5,[cr(($,L)=>{fo.set($,B)}),Rt("expand-tree-node",($,L)=>{const{expanded:Z,node:Q}=L.event;E.set(Z?[...E.get(),Q]:E.get().filter(se=>se!==Q))})]),fo.config({...s.children.length>0?{aria:{mode:"expanded"}}:{},toggleClass:"tox-tree--directory--expanded",onToggled:($,L)=>{const Z=$.components()[1],Q=(se=L,k.map(me=>me.type==="leaf"?o3({leaf:me,selectedId:C,onLeafAction:i,visible:se,treeId:f,backstage:b}):x_({directory:me,expandedIds:E.get(),selectedId:C,onLeafAction:i,labelTabstopping:se,treeId:f,backstage:b})));var se;L?Fc.grow(Z):Fc.shrink(Z),io.set(Z,Q)}})])}},p7=In("tree-event-id");var b7=Object.freeze({__proto__:null,events:(s,i)=>{const u=s.stream.streams.setup(s,i);return yo([Rt(s.event,u),Du(()=>i.cancel())].concat(s.cancelEvent.map(f=>[Rt(f,()=>i.cancel())]).getOr([])))}});const i5=s=>{const i=Hn(null);return xa({readState:()=>({timer:i.get()!==null?"set":"unset"}),setTimer:u=>{i.set(u)},cancel:()=>{const u=i.get();u!==null&&u.cancel()}})};var v7=Object.freeze({__proto__:null,throttle:i5,init:s=>s.stream.streams.state(s)}),y7=[Ra("stream",ya("mode",{throttle:[Ft("delay"),mt("stopEvent",!0),ur("streams",{setup:(s,i)=>{const u=s.stream,f=BT(s.onStream,u.delay);return i.setTimer(f),(b,v)=>{f.throttle(b,v),u.stopEvent&&v.stop()}},state:i5})]})),mt("event","input"),rs("cancelEvent"),Yd("onStream")];const s3=Va({fields:y7,name:"streaming",active:b7,state:v7}),w_=(s,i,u)=>{const f=vt.getValue(u);vt.setValue(i,f),r3(i)},C_=(s,i)=>{const u=s.element,f=Lm(u),b=u.dom;Ko(u,"type")!=="number"&&i(b,f)},r3=s=>{C_(s,(i,u)=>i.setSelectionRange(u.length,u.length))},a3=q("alloy.typeahead.itemexecute"),x7=q([rs("lazySink"),Ft("fetch"),mt("minChars",5),mt("responseTime",1e3),vs("onOpen"),mt("getHotspot",P.some),mt("getAnchorOverrides",q({})),mt("layouts",P.none()),mt("eventOrder",{}),ai("model",{},[mt("getDisplayText",s=>s.meta!==void 0&&s.meta.text!==void 0?s.meta.text:s.value),mt("selectsOver",!0),mt("populateFromBrowse",!0)]),vs("onSetValue"),nc("onExecute"),vs("onItemExecute"),mt("inputClasses",[]),mt("inputAttributes",{}),mt("inputStyles",{}),mt("matchWidth",!0),mt("useMinWidth",!1),mt("dismissOnBlur",!0),Zh(["openClass"]),rs("initialData"),rs("listRole"),Pn("typeaheadBehaviours",[vo,vt,s3,qn,fo,ra]),$a("lazyTypeaheadComp",()=>Hn(P.none)),$a("previewing",()=>Hn(!0))].concat(nF()).concat(eT())),l5=q([sm({schema:[jh()],name:"menu",overrides:s=>({fakeFocus:!0,onHighlightItem:(i,u,f)=>{s.previewing.get()?s.lazyTypeaheadComp.get().each(b=>{((v,C,k)=>{if(v.selectsOver){const E=vt.getValue(C),B=v.getDisplayText(E),$=vt.getValue(k);return v.getDisplayText($).indexOf(B)===0?P.some(()=>{w_(0,C,k),((L,Z)=>{C_(L,(Q,se)=>Q.setSelectionRange(Z,se.length))})(C,B.length)}):P.none()}return P.none()})(s.model,b,f).fold(()=>{s.model.selectsOver?(zs.dehighlight(u,f),s.previewing.set(!0)):s.previewing.set(!1)},v=>{v(),s.previewing.set(!1)})}):s.lazyTypeaheadComp.get().each(b=>{s.model.populateFromBrowse&&w_(s.model,b,f),is(f.element,"id").each(v=>bn(b.element,"aria-activedescendant",v))})},onExecute:(i,u)=>s.lazyTypeaheadComp.get().map(f=>(jn(f,a3(),{item:u}),!0)),onHover:(i,u)=>{s.previewing.set(!1),s.lazyTypeaheadComp.get().each(f=>{s.model.populateFromBrowse&&w_(s.model,f,u)})}})})]),w7=pc({name:"Typeahead",configFields:x7(),partFields:l5(),factory:(s,i,u,f)=>{const b=(L,Z,Q)=>{s.previewing.set(!1);const se=ra.getCoupled(L,"sandbox");if(D.isOpen(se))Cs.getCurrent(se).each(me=>{zs.getHighlighted(me).fold(()=>{Q(me)},()=>{Pc(se,me.element,"keydown",Z)})});else{const me=pe=>{Cs.getCurrent(pe).each(Q)};LS(s,C(L),L,se,f,me,Wl.HighlightMenuAndItem).get(j)}},v=oF(s),C=L=>Z=>Z.map(Q=>{const se=Qa(Q.menus),me=Cn(se,pe=>mn(pe.items,Ee=>Ee.type==="item"));return vt.getState(L).update($e(me,pe=>pe.data)),Q}),k=L=>Cs.getCurrent(L),E="typeaheadevents",B=[vo.config({}),vt.config({onSetValue:s.onSetValue,store:{mode:"dataset",getDataKey:L=>Lm(L.element),getFallbackEntry:L=>({value:L,meta:{}}),setValue:(L,Z)=>{Bg(L.element,s.model.getDisplayText(Z))},...s.initialData.map(L=>kl("initialValue",L)).getOr({})}}),s3.config({stream:{mode:"throttle",delay:s.responseTime,stopEvent:!1},onStream:(L,Z)=>{const Q=ra.getCoupled(L,"sandbox");if(vo.isFocused(L)&&Lm(L.element).length>=s.minChars){const se=k(Q).bind(pe=>zs.getHighlighted(pe).map(vt.getValue));s.previewing.set(!0);const me=pe=>{k(Q).each(Ee=>{se.fold(()=>{s.model.selectsOver&&zs.highlightFirst(Ee)},he=>{zs.highlightBy(Ee,ge=>vt.getValue(ge).value===he.value),zs.getHighlighted(Ee).orThunk(()=>(zs.highlightFirst(Ee),P.none()))})})};LS(s,C(L),L,Q,f,me,Wl.HighlightJustMenu).get(j)}},cancelEvent:nd()}),qn.config({mode:"special",onDown:(L,Z)=>(b(L,Z,zs.highlightFirst),P.some(!0)),onEscape:L=>{const Z=ra.getCoupled(L,"sandbox");return D.isOpen(Z)?(D.close(Z),P.some(!0)):P.none()},onUp:(L,Z)=>(b(L,Z,zs.highlightLast),P.some(!0)),onEnter:L=>{const Z=ra.getCoupled(L,"sandbox"),Q=D.isOpen(Z);if(Q&&!s.previewing.get())return k(Z).bind(se=>zs.getHighlighted(se)).map(se=>(jn(L,a3(),{item:se}),!0));{const se=vt.getValue(L);return Mo(L,nd()),s.onExecute(Z,L,se),Q&&D.close(Z),P.some(!0)}}}),fo.config({toggleClass:s.markers.openClass,aria:{mode:"expanded"}}),ra.config({others:{sandbox:L=>QA(s,L,{onOpen:()=>fo.on(L),onClose:()=>{s.lazyTypeaheadComp.get().each(Z=>Bo(Z.element,"aria-activedescendant")),fo.off(L)}})}}),Fo(E,[cr(L=>{s.lazyTypeaheadComp.set(P.some(L))}),Du(L=>{s.lazyTypeaheadComp.set(P.none())}),nu(L=>{const Z=j;XA(s,C(L),L,f,Z,Wl.HighlightMenuAndItem).get(j)}),Rt(a3(),(L,Z)=>{const Q=ra.getCoupled(L,"sandbox");w_(s.model,L,Z.event.item),Mo(L,nd()),s.onItemExecute(L,Q,Z.event.item,vt.getValue(L)),D.close(Q),r3(L)})].concat(s.dismissOnBlur?[Rt(zd(),L=>{const Z=ra.getCoupled(L,"sandbox");ma(Z.element).isNone()&&D.close(Z)})]:[]))],$={[Nc()]:[vt.name(),s3.name(),E],...s.eventOrder};return{uid:s.uid,dom:eN(Ws(s,{inputAttributes:{role:"combobox","aria-autocomplete":"list","aria-haspopup":"true"}})),behaviours:{...v,...Io(s.typeaheadBehaviours,B)},eventOrder:$}}}),A0=s=>({...s,toCached:()=>A0(s.toCached()),bindFuture:i=>A0(s.bind(u=>u.fold(f=>oh(Go.error(f)),f=>i(f)))),bindResult:i=>A0(s.map(u=>u.bind(i))),mapResult:i=>A0(s.map(u=>u.map(i))),mapError:i=>A0(s.map(u=>u.mapError(i))),foldResult:(i,u)=>s.map(f=>f.fold(i,u)),withTimeout:(i,u)=>A0(kb(f=>{let b=!1;const v=setTimeout(()=>{b=!0,f(Go.error(u()))},i);s.get(C=>{b||(clearTimeout(v),f(C))})}))}),c5=s=>A0(kb(s)),fw=(s,i,u=[],f,b,v,C)=>{const k=i.fold(()=>({}),$=>({action:$})),E={buttonBehaviours:en([ml(()=>!s.enabled||C.isDisabled()),ci(),lr.config({}),...v.map($=>Sa.config(C.tooltips.getConfig({tooltipText:C.translate($)}))).toArray(),Fo("button press",[p1("click")])].concat(u)),eventOrder:{click:["button press","alloy.base.behaviour"],mousedown:["button press","alloy.base.behaviour"]},...k},B=Ws(E,{dom:f});return Ws(B,{components:b})},u5=(s,i,u,f=[],b)=>{const v={tag:"button",classes:["tox-tbtn"],attributes:{...s.tooltip.map(E=>({"aria-label":u.translate(E)})).getOr({}),"data-mce-name":b}},C=s.icon.map(E=>lw(E,u.icons)),k=fy([C]);return fw(s,i,f,v,k,s.tooltip,u)},i3=s=>{switch(s){case"primary":return["tox-button"];case"toolbar":return["tox-tbtn"];default:return["tox-button","tox-button--secondary"]}},d5=(s,i,u,f=[],b=[])=>{const v=u.translate(s.text),C=s.icon.map(L=>lw(L,u.icons)),k=[C.getOrThunk(()=>sa(v))],E=s.buttonType.getOr(s.primary||s.borderless?"primary":"secondary"),B={tag:"button",classes:[...i3(E),...C.isSome()?["tox-button--icon"]:[],...s.borderless?["tox-button--naked"]:[],...b],attributes:{"aria-label":v,"data-mce-name":s.text}},$=s.icon.map(q(v));return fw(s,i,f,B,k,$,u)},f5=(s,i,u,f=[],b=[])=>{const v=d5(s,P.some(i),u,f,b);return Ol.sketch(v)},l3=(s,i)=>u=>{i==="custom"?jn(u,sg,{name:s,value:{}}):i==="submit"?Mo(u,nw):i==="cancel"?Mo(u,bp):console.error("Unknown button type: ",i)},Ey=(s,i,u)=>{if(((f,b)=>b==="menu")(0,i)){const f=()=>C,b=s,v={...s,type:"menubutton",search:P.none(),onSetup:k=>(k.setEnabled(s.enabled),j),fetch:s5(b.items,f,u)},C=$s(ky(v,"tox-tbtn",u,P.none(),!0,s.text.or(s.tooltip).getOrUndefined()));return C.asSpec()}if(((f,b)=>b==="custom"||b==="cancel"||b==="submit")(0,i)){const f=l3(s.name,i),b={...s,borderless:!1};return f5(b,f,u.shared.providers,[])}if(((f,b)=>b==="togglebutton")(0,i))return((f,b,v)=>{var C,k;const E=f.icon.map(ge=>Pb(ge,b.icons)).map($s),B=f.buttonType.getOr(f.primary?"primary":"secondary"),$={...f,name:(C=f.name)!==null&&C!==void 0?C:"",tooltip:f.tooltip,enabled:(k=f.enabled)!==null&&k!==void 0&&k},L=$.tooltip.or(f.text).map(ge=>({"aria-label":b.translate(ge)})).getOr({}),Z=i3(B??"secondary"),Q=f.icon.isSome()&&f.text.isSome(),se={tag:"button",classes:[...Z.concat(f.icon.isSome()?["tox-button--icon"]:[]),...f.active?["tox-button--enabled"]:[],...Q?["tox-button--icon-and-text"]:[]],attributes:{...L,...z(v)?{"data-mce-name":v}:{}}},me=b.translate(f.text.getOr("")),pe=sa(me),Ee=[...fy([E.map(ge=>ge.asSpec())]),...f.text.isSome()?[pe]:[]],he=fw($,P.some(ge=>{jn(ge,sg,{name:f.name,value:{setIcon:Ce=>{E.map(Ae=>Ae.getOpt(ge).each(Ie=>{io.set(Ie,[Pb(Ce,b.icons)])}))}}})}),[],se,Ee,f.tooltip,b);return Ol.sketch(he)})(s,u.shared.providers,s.text.or(s.tooltip).getOrUndefined());throw console.error("Unknown footer button type: ",i),new Error("Unknown footer button type")},C7={type:"separator"},S7=s=>({type:"menuitem",value:s.url,text:s.title,meta:{attach:s.attach},onAction:j}),c3=(s,i)=>({type:"menuitem",value:i,text:s,meta:{attach:void 0},onAction:j}),m5=(s,i)=>(u=>$e(u,S7))(((u,f)=>mn(f,b=>b.type===u))(s,i)),_7=s=>m5("header",s.targets),k7=s=>m5("anchor",s.targets),g5=s=>P.from(s.anchorTop).map(i=>c3("<top>",i)).toArray(),h5=s=>P.from(s.anchorBottom).map(i=>c3("<bottom>",i)).toArray(),u3=(s,i)=>{const u=s.toLowerCase();return mn(i,f=>{var b;const v=f.meta!==void 0&&f.meta.text!==void 0?f.meta.text:f.text,C=(b=f.value)!==null&&b!==void 0?b:"";return ea(v.toLowerCase(),u)||ea(C.toLowerCase(),u)})},p5=In("aria-invalid"),E7=(s,i)=>{s.dom.checked=i},Ku=s=>s.dom.checked,Mr=s=>(i,u,f,b,v)=>on(u,"name").fold(()=>s(u,b,P.none(),v),C=>i.field(C,s(u,b,on(f,C),v))),A7={bar:Mr((s,i)=>((u,f)=>({dom:{tag:"div",classes:["tox-bar","tox-form__controls-h-stack"]},components:$e(u.items,f.interpreter)}))(s,i.shared)),collection:Mr((s,i,u)=>fI(s,i.shared.providers,u)),alertbanner:Mr((s,i)=>((u,f)=>{const b=jD(u.icon,f.icons);return lm.sketch({dom:{tag:"div",attributes:{role:"alert"},classes:["tox-notification","tox-notification--in",`tox-notification--${u.level}`]},components:[{dom:{tag:"div",classes:["tox-notification__icon"],innerHtml:u.url?void 0:b},components:u.url?[Ol.sketch({dom:{tag:"button",classes:["tox-button","tox-button--naked","tox-button--icon"],innerHtml:b,attributes:{title:f.translate(u.iconTooltip)}},action:v=>jn(v,sg,{name:"alert-banner",value:u.url}),buttonBehaviours:en([pS()])})]:void 0},{dom:{tag:"div",classes:["tox-notification__body"],innerHtml:f.translate(u.text)}}]})})(s,i.shared.providers)),input:Mr((s,i,u)=>((f,b,v)=>YI({name:f.name,multiline:!1,label:f.label,inputMode:f.inputMode,placeholder:f.placeholder,flex:!1,disabled:!f.enabled,classname:"tox-textfield",validation:P.none(),maximized:f.maximized,data:v},b))(s,i.shared.providers,u)),textarea:Mr((s,i,u)=>((f,b,v)=>YI({name:f.name,multiline:!0,label:f.label,inputMode:P.none(),placeholder:f.placeholder,flex:!0,disabled:!f.enabled,classname:"tox-textarea",validation:P.none(),maximized:f.maximized,data:v},b))(s,i.shared.providers,u)),label:Mr((s,i,u,f)=>((b,v,C)=>{const k="tox-label",E=b.align==="center"?[`${k}--center`]:[],B=b.align==="end"?[`${k}--end`]:[],$=$s({dom:{tag:"label",classes:[k,...E,...B]},components:[sa(v.providers.translate(b.label))]}),L=$e(b.items,v.interpreter);return{dom:{tag:"div",classes:["tox-form__group"]},components:[$.asSpec(),...L],behaviours:en([lh(),io.config({}),(Z=P.none(),IT(Z,Yf,zh)),qn.config({mode:"acyclic"}),Fo("label",[cr(Q=>{b.for.each(se=>{C(se).each(me=>{$.getOpt(Q).each(pe=>{var Ee;const he=(Ee=Ko(me.element,"id"))!==null&&Ee!==void 0?Ee:In("form-field");bn(me.element,"id",he),bn(pe.element,"for",he)})})})})])])};var Z})(s,i.shared,f)),iframe:(D3=(s,i,u)=>((f,b,v)=>{const C="tox-dialog__iframe",k=f.transparent?[]:[`${C}--opaque`],E=f.border?["tox-navobj-bordered"]:[],B={...f.label.map(Q=>({title:Q})).getOr({}),...v.map(Q=>({srcdoc:Q})).getOr({}),...f.sandboxed?{sandbox:"allow-scripts allow-same-origin"}:{}},$=((Q,se)=>{const me=Hn(Q.getOr(""));return{getValue:pe=>me.get(),setValue:(pe,Ee)=>{if(me.get()!==Ee){const he=pe.element,ge=()=>bn(he,"srcdoc",Ee);se?jT.fold(q(WT),Ce=>Ce.throttle)(he,Ee,ge):ge()}me.set(Ee)}}})(v,f.streamContent),L=f.label.map(Q=>Ab(Q,b)),Z=js.parts.field({factory:{sketch:Q=>FT(P.from(E),{uid:Q.uid,dom:{tag:"iframe",attributes:B,classes:[C,...k]},behaviours:en([lr.config({}),vo.config({}),k0(v,$.getValue,$.setValue),sc.config({channels:{[f_]:{onReceive:(se,me)=>{me.newFocus.each(pe=>{pi(se.element).each(Ee=>{(os(se.element,pe)?Mn:Ro)(Ee,"tox-navobj-bordered-focus")})})}}}})])})}});return tw(L,Z,["tox-form__group--stretched"],[])})(s,i.shared.providers,u),(s,i,u,f,b)=>{const v=Ws(i,{source:"dynamic"});return Mr(D3)(s,v,u,f,b)}),button:Mr((s,i)=>((u,f)=>{const b=l3(u.name,"custom");return v=P.none(),C=js.parts.field({factory:Ol,...d5(u,P.some(b),f,[iw(""),lh()])}),tw(v,C,[],[]);var v,C})(s,i.shared.providers)),checkbox:Mr((s,i,u)=>((f,b,v)=>{const C=L=>(L.element.dom.click(),P.some(!0)),k=js.parts.field({factory:{sketch:de},dom:{tag:"input",classes:["tox-checkbox__input"],attributes:{type:"checkbox"}},behaviours:en([lh(),wo.config({disabled:()=>!f.enabled||b.isDisabled(),onDisabled:L=>{pi(L.element).each(Z=>Mn(Z,"tox-checkbox--disabled"))},onEnabled:L=>{pi(L.element).each(Z=>Ro(Z,"tox-checkbox--disabled"))}}),lr.config({}),vo.config({}),IT(v,Ku,E7),qn.config({mode:"special",onEnter:C,onSpace:C,stopSpaceKeyup:!0}),Fo("checkbox-events",[Rt(zf(),(L,Z)=>{jn(L,jl,{name:f.name})})])])}),E=js.parts.label({dom:{tag:"span",classes:["tox-checkbox__label"]},components:[sa(b.translate(f.label))],behaviours:en([C0.config({})])}),B=L=>Uu(L==="checked"?"selected":"unselected",{tag:"span",classes:["tox-icon","tox-checkbox-icon__"+L]},b.icons),$=$s({dom:{tag:"div",classes:["tox-checkbox__icons"]},components:[B("checked"),B("unchecked")]});return js.sketch({dom:{tag:"label",classes:["tox-checkbox"]},components:[k,$.asSpec(),E],fieldBehaviours:en([wo.config({disabled:()=>!f.enabled||b.isDisabled()}),ci()])})})(s,i.shared.providers,u)),colorinput:Mr((s,i,u)=>((f,b,v,C)=>{const k=js.parts.field({factory:mp,inputClasses:["tox-textfield"],data:C,onSetValue:L=>sh.run(L).get(j),inputBehaviours:en([wo.config({disabled:b.providers.isDisabled}),ci(),lr.config({}),sh.config({invalidClass:"tox-textbox-field-invalid",getRoot:L=>pi(L.element),notify:{onValid:L=>{const Z=vt.getValue(L);jn(L,cT,{color:Z})}},validator:{validateOnLoad:!1,validate:L=>{const Z=vt.getValue(L);if(Z.length===0)return oh(Go.value(!0));{const Q=Ma("span");po(Q,"background-color",Z);const se=jr(Q,"background-color").fold(()=>Go.error("blah"),me=>Go.value(Z));return oh(se)}}}})]),selectOnFocus:!1}),E=f.label.map(L=>Ab(L,b.providers)),B=(L,Z)=>{jn(L,uT,{value:Z})},$=$s(((L,Z)=>ic.sketch({dom:L.dom,components:L.components,toggleClass:"mce-active",dropdownBehaviours:en([ml(Z.providers.isDisabled),ci(),C0.config({}),lr.config({})]),layouts:L.layouts,sandboxClasses:["tox-dialog__popups"],lazySink:Z.getSink,fetch:Q=>kb(se=>L.fetch(se)).map(se=>P.from(tT(Ws(x0(In("menu-value"),se,me=>{L.onItemAction(Q,me)},L.columns,L.presets,ng.CLOSE_ON_EXECUTE,Oe,Z.providers),{movement:Y2(L.columns,L.presets)})))),parts:{menu:yS(0,0,L.presets)}}))({dom:{tag:"span",attributes:{"aria-label":b.providers.translate("Color swatch")}},layouts:{onRtl:()=>[Yr,Gr,fa],onLtr:()=>[Gr,Yr,fa]},components:[],fetch:ZN(v.getColors(f.storageKey),f.storageKey,v.hasCustomColors()),columns:v.getColorCols(f.storageKey),presets:"color",onItemAction:(L,Z)=>{$.getOpt(L).each(Q=>{Z==="custom"?v.colorPicker(se=>{se.fold(()=>Mo(Q,bI),me=>{B(Q,me),LA(f.storageKey,me)})},"#ffffff"):B(Q,Z==="remove"?"":Z)})}},b));return js.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:E.toArray().concat([{dom:{tag:"div",classes:["tox-color-input"]},components:[k,$.asSpec()]}]),fieldBehaviours:en([Fo("form-field-events",[Rt(cT,(L,Z)=>{$.getOpt(L).each(Q=>{po(Q.element,"background-color",Z.event.color)}),jn(L,jl,{name:f.name})}),Rt(uT,(L,Z)=>{js.getField(L).each(Q=>{vt.setValue(Q,Z.event.value),Cs.getCurrent(L).each(vo.focus)})}),Rt(bI,(L,Z)=>{js.getField(L).each(Q=>{Cs.getCurrent(L).each(vo.focus)})})])])})})(s,i.shared,i.colorinput,u)),colorpicker:Mr((s,i,u)=>((f,b,v)=>{const C=B=>"tox-"+B,k=FI((B=>$=>g($)?B.translate(l7[$]):B.translate($))(b),C,b.tooltips.getConfig,(B,$,L=B,Z=B)=>Uu(L,{tag:"div",classes:["tox-icon","tox-control-wrap__status-icon-"+B],attributes:{title:b.translate(Z),"aria-live":"polite",...$.fold(()=>({}),Q=>({id:Q}))}},b.icons)),E=$s(k.sketch({dom:{tag:"div",classes:[C("color-picker-container")],attributes:{role:"presentation"}},onValidHex:B=>{jn(B,sg,{name:"hex-valid",value:!0})},onInvalidHex:B=>{jn(B,sg,{name:"hex-valid",value:!1})}}));return{dom:{tag:"div"},components:[E.asSpec()],behaviours:en([k0(v,B=>{const $=E.get(B);return Cs.getCurrent($).bind(L=>vt.getValue(L).hex).map(L=>"#"+Vs(L,"#")).getOr("")},(B,$)=>{const L=P.from(/^#([a-fA-F0-9]{3}(?:[a-fA-F0-9]{3})?)/.exec($)).bind(Q=>_e(Q,1)),Z=E.get(B);Cs.getCurrent(Z).fold(()=>{console.log("Can not find form")},Q=>{vt.setValue(Q,{hex:L.getOr("")}),Db.getField(Q,"hex").each(se=>{Mo(se,Hd())})})}),lh()])}})(0,i.shared.providers,u)),dropzone:Mr((s,i,u)=>((f,b,v)=>{const C=(se,me)=>{me.stop()},k=se=>(me,pe)=>{ht(se,Ee=>{Ee(me,pe)})},E=(se,me)=>{var pe;if(!wo.isDisabled(se)){const Ee=me.event.raw;$(se,(pe=Ee.dataTransfer)===null||pe===void 0?void 0:pe.files)}},B=(se,me)=>{const pe=me.event.raw.target;$(se,pe.files)},$=(se,me)=>{me&&(vt.setValue(se,((pe,Ee)=>{const he=xp.explode(Ee.getOption("images_file_types"));return mn(pt(pe),ge=>Tn(he,Ce=>yc(ge.name.toLowerCase(),`.${Ce.toLowerCase()}`)))})(me,b)),jn(se,jl,{name:f.name}))},L=$s({dom:{tag:"input",attributes:{type:"file",accept:"image/*"},styles:{display:"none"}},behaviours:en([Fo("input-file-events",[Uf(da()),Uf(Ud())])])}),Z=f.label.map(se=>Ab(se,b)),Q=js.parts.field({factory:{sketch:se=>({uid:se.uid,dom:{tag:"div",classes:["tox-dropzone-container"]},behaviours:en([iw(v.getOr([])),lh(),wo.config({}),fo.config({toggleClass:"dragenter",toggleOnExecute:!1}),Fo("dropzone-events",[Rt("dragenter",k([C,fo.toggle])),Rt("dragleave",k([C,fo.toggle])),Rt("dragover",C),Rt("drop",k([C,E])),Rt(zf(),B)])]),components:[{dom:{tag:"div",classes:["tox-dropzone"],styles:{}},components:[{dom:{tag:"p"},components:[sa(b.translate("Drop an image here"))]},Ol.sketch({dom:{tag:"button",styles:{position:"relative"},classes:["tox-button","tox-button--secondary"]},components:[sa(b.translate("Browse for an image")),L.asSpec()],action:me=>{L.get(me).element.dom.click()},buttonBehaviours:en([lr.config({}),ml(b.isDisabled),ci()])})]}]})}});return tw(Z,Q,["tox-form__group--stretched"],[])})(s,i.shared.providers,u)),grid:Mr((s,i)=>((u,f)=>({dom:{tag:"div",classes:["tox-form__grid",`tox-form__grid--${u.columns}col`]},components:$e(u.items,f.interpreter)}))(s,i.shared)),listbox:Mr((s,i,u)=>((f,b,v)=>{const C=Tn(f.items,Z=>!cw(Z)),k=b.shared.providers,E=v.bind(Z=>v_(f.items,Z)).orThunk(()=>Be(f.items).filter(cw)),B=f.label.map(Z=>Ab(Z,k)),$=js.parts.field({dom:{},factory:{sketch:Z=>qT({uid:Z.uid,text:E.map(Q=>Q.text),icon:P.none(),tooltip:P.none(),role:Vo(!C,"combobox"),...C?{}:{listRole:"listbox"},ariaLabel:f.label,fetch:(Q,se)=>{const me=b_(Q,f.name,f.items,vt.getValue(Q),C);se(E0(me,ng.CLOSE_ON_EXECUTE,b,{isHorizontalMenu:!1,search:P.none()}))},onSetup:q(j),getApi:q({}),columns:1,presets:"normal",classes:[],dropdownBehaviours:[lr.config({}),k0(E.map(Q=>Q.value),Q=>Ko(Q.element,GT),(Q,se)=>{v_(f.items,se).each(me=>{bn(Q.element,GT,me.value),jn(Q,bd,{text:me.text})})})]},"tox-listbox",b.shared)}}),L={dom:{tag:"div",classes:["tox-listboxfield"]},components:[$]};return js.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:tn([B.toArray(),[L]]),fieldBehaviours:en([wo.config({disabled:q(!f.enabled),onDisabled:Z=>{js.getField(Z).each(wo.disable)},onEnabled:Z=>{js.getField(Z).each(wo.enable)}})])})})(s,i,u)),selectbox:Mr((s,i,u)=>((f,b,v)=>{const C=$e(f.items,L=>({text:b.translate(L.text),value:L.value})),k=f.label.map(L=>Ab(L,b)),E=js.parts.field({dom:{},...v.map(L=>({data:L})).getOr({}),selectAttributes:{size:f.size},options:C,factory:d7,selectBehaviours:en([wo.config({disabled:()=>!f.enabled||b.isDisabled()}),lr.config({}),Fo("selectbox-change",[Rt(zf(),(L,Z)=>{jn(L,jl,{name:f.name})})])])}),B=f.size>1?P.none():P.some(Uu("chevron-down",{tag:"div",classes:["tox-selectfield__icon-js"]},b.icons)),$={dom:{tag:"div",classes:["tox-selectfield"]},components:tn([[E],B.toArray()])};return js.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:tn([k.toArray(),[$]]),fieldBehaviours:en([wo.config({disabled:()=>!f.enabled||b.isDisabled(),onDisabled:L=>{js.getField(L).each(wo.disable)},onEnabled:L=>{js.getField(L).each(wo.enable)}}),ci()])})})(s,i.shared.providers,u)),sizeinput:Mr((s,i)=>((u,f)=>{let b=QT;const v=In("ratio-event"),C=me=>Uu(me,{tag:"span",classes:["tox-icon","tox-lock-icon__"+me]},f.icons),k=u.label.getOr("Constrain proportions"),E=f.translate(k),B=Zu.parts.lock({dom:{tag:"button",classes:["tox-lock","tox-button","tox-button--naked","tox-button--icon"],attributes:{"aria-label":E,"data-mce-name":k}},components:[C("lock"),C("unlock")],buttonBehaviours:en([wo.config({disabled:()=>!u.enabled||f.isDisabled()}),ci(),lr.config({}),Sa.config(f.tooltips.getConfig({tooltipText:E}))])}),$=me=>({dom:{tag:"div",classes:["tox-form__group"]},components:me}),L=me=>js.parts.field({factory:mp,inputClasses:["tox-textfield"],inputBehaviours:en([wo.config({disabled:()=>!u.enabled||f.isDisabled()}),ci(),lr.config({}),Fo("size-input-events",[Rt(_s(),(pe,Ee)=>{jn(pe,v,{isField1:me})}),Rt(zf(),(pe,Ee)=>{jn(pe,jl,{name:u.name})})])]),selectOnFocus:!1}),Z=me=>({dom:{tag:"label",classes:["tox-label"]},components:[sa(f.translate(me))]}),Q=Zu.parts.field1($([js.parts.label(Z("Width")),L(!0)])),se=Zu.parts.field2($([js.parts.label(Z("Height")),L(!1)]));return Zu.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:[{dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:[Q,se,$([Z(""),B])]}],field1Name:"width",field2Name:"height",locked:!0,markers:{lockClass:"tox-locked"},onLockedChange:(me,pe,Ee)=>{XT(vt.getValue(me)).each(he=>{b(he).each(ge=>{vt.setValue(pe,(Ce=>{const Ae={"":0,px:0,pt:1,mm:1,pc:2,ex:2,em:2,ch:2,rem:2,cm:3,in:4,"%":4};let Ie=Ce.value.toFixed((Xe=Ce.unit)in Ae?Ae[Xe]:1);var Xe;return Ie.indexOf(".")!==-1&&(Ie=Ie.replace(/\.?0*$/,"")),Ie+Ce.unit})(ge))})})},coupledFieldBehaviours:en([wo.config({disabled:()=>!u.enabled||f.isDisabled(),onDisabled:me=>{Zu.getField1(me).bind(js.getField).each(wo.disable),Zu.getField2(me).bind(js.getField).each(wo.disable),Zu.getLock(me).each(wo.disable)},onEnabled:me=>{Zu.getField1(me).bind(js.getField).each(wo.enable),Zu.getField2(me).bind(js.getField).each(wo.enable),Zu.getLock(me).each(wo.enable)}}),ci(),Fo("size-input-events2",[Rt(v,(me,pe)=>{const Ee=pe.event.isField1,he=Ee?Zu.getField1(me):Zu.getField2(me),ge=Ee?Zu.getField2(me):Zu.getField1(me),Ce=he.map(vt.getValue).getOr(""),Ae=ge.map(vt.getValue).getOr("");b=((Ie,Xe)=>{const dt=XT(Ie).toOptional(),Lt=XT(Xe).toOptional();return Yt(dt,Lt,(Dt,At)=>JT(Dt,At.unit).map(Jt=>At.value/Jt).map(Jt=>{return En=Jt,zn=At.unit,Qn=>JT(Qn,zn).map(Co=>({value:Co*En,unit:zn}));var En,zn}).getOr(QT)).getOr(QT)})(Ce,Ae)})])])})})(s,i.shared.providers)),slider:Mr((s,i,u)=>((f,b,v)=>{const C=um.parts.label({dom:{tag:"label",classes:["tox-label"]},components:[sa(b.translate(f.label))]}),k=um.parts.spectrum({dom:{tag:"div",classes:["tox-slider__rail"],attributes:{role:"presentation"}}}),E=um.parts.thumb({dom:{tag:"div",classes:["tox-slider__handle"],attributes:{role:"presentation"}}});return um.sketch({dom:{tag:"div",classes:["tox-slider"],attributes:{role:"presentation"}},model:{mode:"x",minX:f.min,maxX:f.max,getInitialValue:q(v.getOrThunk(()=>(Math.abs(f.max)-Math.abs(f.min))/2))},components:[C,k,E],sliderBehaviours:en([lh(),vo.config({})]),onChoose:(B,$,L)=>{jn(B,jl,{name:f.name,value:L})},onChange:(B,$,L)=>{jn(B,jl,{name:f.name,value:L})}})})(s,i.shared.providers,u)),urlinput:Mr((s,i,u)=>((f,b,v,C)=>{const k=b.shared.providers,E=he=>{const ge=vt.getValue(he);v.addToHistory(ge.value,f.filetype)},B={...C.map(he=>({initialData:he})).getOr({}),dismissOnBlur:!0,inputClasses:["tox-textfield"],sandboxClasses:["tox-dialog__popups"],inputAttributes:{"aria-errormessage":p5,type:"url"},minChars:0,responseTime:0,fetch:he=>{const ge=((Ae,Ie,Xe)=>{var dt,Lt;const Dt=vt.getValue(Ie),At=(Lt=(dt=Dt==null?void 0:Dt.meta)===null||dt===void 0?void 0:dt.text)!==null&&Lt!==void 0?Lt:Dt.value;return Xe.getLinkInformation().fold(()=>[],Jt=>{const En=u3(At,(Qn=>$e(Qn,Co=>c3(Co,Co)))(Xe.getHistory(Ae)));return Ae==="file"?(zn=[En,u3(At,_7(Jt)),u3(At,tn([g5(Jt),k7(Jt),h5(Jt)]))],Gt(zn,(Qn,Co)=>Qn.length===0||Co.length===0?Qn.concat(Co):Qn.concat(C7,Co),[])):En;var zn})})(f.filetype,he,v),Ce=E0(ge,ng.BUBBLE_TO_SANDBOX,b,{isHorizontalMenu:!1,search:P.none()});return oh(Ce)},getHotspot:he=>pe.getOpt(he),onSetValue:(he,ge)=>{he.hasConfigured(sh)&&sh.run(he).get(j)},typeaheadBehaviours:en([...v.getValidationHandler().map(he=>sh.config({getRoot:ge=>pi(ge.element),invalidClass:"tox-control-wrap--status-invalid",notify:{onInvalid:(ge,Ce)=>{Z.getOpt(ge).each(Ae=>{bn(Ae.element,"title",k.translate(Ce))})}},validator:{validate:ge=>{const Ce=vt.getValue(ge);return c5(Ae=>{he({type:f.filetype,url:Ce.value},Ie=>{if(Ie.status==="invalid"){const Xe=Go.error(Ie.message);Ae(Xe)}else{const Xe=Go.value(Ie.message);Ae(Xe)}})})},validateOnLoad:!1}})).toArray(),wo.config({disabled:()=>!f.enabled||k.isDisabled()}),lr.config({}),Fo("urlinput-events",[Rt(Hd(),he=>{const ge=Lm(he.element),Ce=ge.trim();Ce!==ge&&Bg(he.element,Ce),f.filetype==="file"&&jn(he,jl,{name:f.name})}),Rt(zf(),he=>{jn(he,jl,{name:f.name}),E(he)}),Rt(Lh(),he=>{jn(he,jl,{name:f.name}),E(he)})])]),eventOrder:{[Hd()]:["streaming","urlinput-events","invalidating"]},model:{getDisplayText:he=>he.value,selectsOver:!1,populateFromBrowse:!1},markers:{openClass:"tox-textfield--popup-open"},lazySink:b.shared.getSink,parts:{menu:yS(0,0,"normal")},onExecute:(he,ge,Ce)=>{jn(ge,nw,{})},onItemExecute:(he,ge,Ce,Ae)=>{E(he),jn(he,jl,{name:f.name})}},$=js.parts.field({...B,factory:w7}),L=f.label.map(he=>Ab(he,k)),Z=$s(((he,ge,Ce=he,Ae=he)=>Uu(Ce,{tag:"div",classes:["tox-icon","tox-control-wrap__status-icon-"+he],attributes:{title:k.translate(Ae),"aria-live":"polite",...ge.fold(()=>({}),Ie=>({id:Ie}))}},k.icons))("invalid",P.some(p5),"warning")),Q=$s({dom:{tag:"div",classes:["tox-control-wrap__status-icon-wrap"]},components:[Z.asSpec()]}),se=v.getUrlPicker(f.filetype),me=In("browser.url.event"),pe=$s({dom:{tag:"div",classes:["tox-control-wrap"]},components:[$,Q.asSpec()],behaviours:en([wo.config({disabled:()=>!f.enabled||k.isDisabled()})])}),Ee=$s(f5({name:f.name,icon:P.some("browse"),text:f.picker_text.or(f.label).getOr(""),enabled:f.enabled,primary:!1,buttonType:P.none(),borderless:!0},he=>Mo(he,me),k,[],["tox-browse-url"]));return js.sketch({dom:HS([]),components:L.toArray().concat([{dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:tn([[pe.asSpec()],se.map(()=>Ee.asSpec()).toArray()])}]),fieldBehaviours:en([wo.config({disabled:()=>!f.enabled||k.isDisabled(),onDisabled:he=>{js.getField(he).each(wo.disable),Ee.getOpt(he).each(wo.disable)},onEnabled:he=>{js.getField(he).each(wo.enable),Ee.getOpt(he).each(wo.enable)}}),ci(),Fo("url-input-events",[Rt(me,he=>{Cs.getCurrent(he).each(ge=>{const Ce=vt.getValue(ge),Ae={fieldname:f.name,...Ce};se.each(Ie=>{Ie(Ae).get(Xe=>{vt.setValue(ge,Xe),jn(he,jl,{name:f.name})})})})})])])})})(s,i,i.urlinput,u)),customeditor:Mr(s=>{const i=bs(),u=$s({dom:{tag:s.tag}}),f=bs(),b=!PT(s)&&s.onFocus.isSome()?[vo.config({onFocus:v=>{s.onFocus.each(C=>{C(v.element.dom)})}}),lr.config({})]:[];return{dom:{tag:"div",classes:["tox-custom-editor"]},behaviours:en([Fo("custom-editor-events",[cr(v=>{u.getOpt(v).each(C=>{(PT(s)?s.init(C.element.dom):$I.load(s.scriptId,s.scriptUrl).then(k=>k(C.element.dom,s.settings))).then(k=>{f.on(E=>{k.setValue(E)}),f.clear(),i.set(k)})})})]),k0(P.none(),()=>i.get().fold(()=>f.get().getOr(""),v=>v.getValue()),(v,C)=>{i.get().fold(()=>f.set(C),k=>k.setValue(C))}),lh()].concat(b)),components:[u.asSpec()]}}),htmlpanel:Mr((s,i)=>((u,f)=>{const b=["tox-form__group",...u.stretched?["tox-form__group--stretched"]:[]],v=Fo("htmlpanel",[cr(C=>{u.onInit(C.element.dom)})]);return u.presets==="presentation"?lm.sketch({dom:{tag:"div",classes:b,innerHtml:u.html},containerBehaviours:en([Sa.config({...f.tooltips.getConfig({tooltipText:"",onShow:C=>{Rr(C.element,"[data-mce-tooltip]:hover").orThunk(()=>ma(C.element)).each(k=>{is(k,"data-mce-tooltip").each(E=>{Sa.setComponents(C,f.tooltips.getComponents({tooltipText:E}))})})}}),mode:"children-normal",anchor:C=>({type:"node",node:Rr(C.element,"[data-mce-tooltip]:hover").orThunk(()=>ma(C.element).filter(k=>is(k,"data-mce-tooltip").isSome())),root:C.element,layouts:{onLtr:q([fa,Wr,Gr,wa,Yr,qs]),onRtl:q([fa,Wr,Gr,wa,Yr,qs])},bubble:su(0,-2,{})})}),v])}):lm.sketch({dom:{tag:"div",classes:b,innerHtml:u.html,attributes:{role:"document"}},containerBehaviours:en([lr.config({}),vo.config({}),v])})})(s,i.shared.providers)),imagepreview:Mr((s,i,u)=>((f,b)=>{const v=Hn(b.getOr({url:""})),C=$s({dom:{tag:"img",classes:["tox-imagepreview__image"],attributes:b.map($=>({src:$.url})).getOr({})}}),k=$s({dom:{tag:"div",classes:["tox-imagepreview__container"],attributes:{role:"presentation"}},components:[C.asSpec()]}),E={};f.height.each($=>E.height=$);const B=b.map($=>({url:$.url,zoom:P.from($.zoom),cachedWidth:P.from($.cachedWidth),cachedHeight:P.from($.cachedHeight)}));return{dom:{tag:"div",classes:["tox-imagepreview"],styles:E,attributes:{role:"presentation"}},components:[k.asSpec()],behaviours:en([lh(),k0(B,()=>v.get(),($,L)=>{const Z={url:L.url};L.zoom.each(se=>Z.zoom=se),L.cachedWidth.each(se=>Z.cachedWidth=se),L.cachedHeight.each(se=>Z.cachedHeight=se),v.set(Z);const Q=()=>{const{cachedWidth:se,cachedHeight:me,zoom:pe}=Z;if(!N(se)&&!N(me)){if(N(pe)){const he=((ge,Ce,Ae)=>{const Ie=La(ge),Xe=_r(ge);return Math.min(Ie/Ce,Xe/Ae,1)})($.element,se,me);Z.zoom=he}const Ee=((he,ge,Ce,Ae,Ie)=>{const Xe=Ce*Ie,dt=Ae*Ie,Lt=Math.max(0,he/2-Xe/2),Dt=Math.max(0,ge/2-dt/2);return{left:Lt.toString()+"px",top:Dt.toString()+"px",width:Xe.toString()+"px",height:dt.toString()+"px"}})(La($.element),_r($.element),se,me,Z.zoom);k.getOpt($).each(he=>{yl(he.element,Ee)})}};C.getOpt($).each(se=>{const me=se.element;var pe;L.url!==Ko(me,"src")&&(bn(me,"src",L.url),Ro($.element,"tox-imagepreview__loaded")),Q(),(pe=me,new Promise((Ee,he)=>{const ge=()=>{Ae(),Ee(pe)},Ce=[Al(pe,"load",ge),Al(pe,"error",()=>{Ae(),he("Unable to load data from image: "+pe.dom.src)})],Ae=()=>ht(Ce,Ie=>Ie.unbind());pe.dom.complete&&ge()})).then(Ee=>{$.getSystem().isConnected()&&(Mn($.element,"tox-imagepreview__loaded"),Z.cachedWidth=Ee.dom.naturalWidth,Z.cachedHeight=Ee.dom.naturalHeight,Q())})})})])}})(s,u)),table:Mr((s,i)=>((u,f)=>{const b=k=>({dom:{tag:"td",innerHtml:f.translate(k)}});return{dom:{tag:"table",classes:["tox-dialog__table"]},components:[(C=u.header,{dom:{tag:"thead"},components:[{dom:{tag:"tr"},components:$e(C,k=>({dom:{tag:"th",innerHtml:f.translate(k)}}))}]}),(v=u.cells,{dom:{tag:"tbody"},components:$e(v,k=>({dom:{tag:"tr"},components:$e(k,b)}))})],behaviours:en([lr.config({}),vo.config({})])};var v,C})(s,i.shared.providers)),tree:Mr((s,i)=>((u,f)=>{const b=u.onLeafAction.getOr(j),v=u.onToggleExpand.getOr(j),C=u.defaultExpandedIds,k=Hn(C),E=Hn(u.defaultSelectedId),B=In("tree-id"),$=(L,Z)=>u.items.map(Q=>Q.type==="leaf"?o3({leaf:Q,selectedId:L,onLeafAction:b,visible:!0,treeId:B,backstage:f}):x_({directory:Q,selectedId:L,onLeafAction:b,expandedIds:Z,labelTabstopping:!0,treeId:B,backstage:f}));return{dom:{tag:"div",classes:["tox-tree"],attributes:{role:"tree"}},components:$(E.get(),k.get()),behaviours:en([qn.config({mode:"flow",selector:".tox-tree--leaf__label--visible, .tox-tree--directory__label--visible",cycles:!1}),Fo(p7,[Rt("expand-tree-node",(L,Z)=>{const{expanded:Q,node:se}=Z.event;k.set(Q?[...k.get(),se]:k.get().filter(me=>me!==se)),v(k.get(),{expanded:Q,node:se})})]),sc.config({channels:{[`update-active-item-${B}`]:{onReceive:(L,Z)=>{E.set(P.some(Z.value)),io.set(L,$(P.some(Z.value),k.get()))}}}}),io.config({})])}})(s,i)),panel:Mr((s,i)=>((u,f)=>({dom:{tag:"div",classes:u.classes},components:$e(u.items,f.shared.interpreter)}))(s,i))},d3={field:(s,i)=>i,record:q([])},S_=(s,i,u,f,b)=>{const v=Ws(f,{shared:{interpreter:C=>f3(s,C,u,v,b)}});return f3(s,i,u,v,b)},f3=(s,i,u,f,b)=>on(A7,i.type).fold(()=>(console.error(`Unknown factory type "${i.type}", defaulting to container: `,i),i),v=>v(s,i,u,f,b)),b5=(s,i,u,f)=>f3(d3,s,i,u,f),dm="layout-inset",Ay=s=>s.x,__=(s,i)=>s.x+s.width/2-i.width/2,m3=(s,i)=>s.x+s.width-i.width,df=s=>s.y,g3=(s,i)=>s.y+s.height-i.height,v5=(s,i)=>s.y+s.height/2-i.height/2,lu=(s,i,u)=>Zi(m3(s,i),g3(s,i),u.insetSouthwest(),Jh(),"southwest",Ki(s,{right:0,bottom:3}),dm),Lb=(s,i,u)=>Zi(Ay(s),g3(s,i),u.insetSoutheast(),Av(),"southeast",Ki(s,{left:1,bottom:3}),dm),cu=(s,i,u)=>Zi(m3(s,i),df(s),u.insetNorthwest(),Xh(),"northwest",Ki(s,{right:0,top:2}),dm),mw=(s,i,u)=>Zi(Ay(s),df(s),u.insetNortheast(),Ev(),"northeast",Ki(s,{left:1,top:2}),dm),Ss=(s,i,u)=>Zi(__(s,i),df(s),u.insetNorth(),CC(),"north",Ki(s,{top:2}),dm),ch=(s,i,u)=>Zi(__(s,i),g3(s,i),u.insetSouth(),Ix(),"south",Ki(s,{bottom:3}),dm),gw=(s,i,u)=>Zi(m3(s,i),v5(s,i),u.insetEast(),SC(),"east",Ki(s,{right:0}),dm),h3=(s,i,u)=>Zi(Ay(s),v5(s,i),u.insetWest(),Px(),"west",Ki(s,{left:1}),dm),p3=s=>{switch(s){case"north":return Ss;case"northeast":return mw;case"northwest":return cu;case"south":return ch;case"southeast":return Lb;case"southwest":return lu;case"east":return gw;case"west":return h3}},k_=(s,i,u,f,b)=>Pv(f).map(p3).getOr(Ss)(s,i,u,f,b),T7=s=>{switch(s){case"north":return ch;case"northeast":return Lb;case"northwest":return lu;case"south":return Ss;case"southeast":return mw;case"southwest":return cu;case"east":return h3;case"west":return gw}},b3=(s,i,u,f,b)=>Pv(f).map(T7).getOr(Ss)(s,i,u,f,b),hw={valignCentre:[],alignCentre:[],alignLeft:[],alignRight:[],right:[],left:[],bottom:[],top:[]},y5=(s,i,u)=>{const f={maxHeightFunction:np()};return()=>u()?{type:"node",root:it(bt(s())),node:P.from(s()),bubble:su(12,12,hw),layouts:{onRtl:()=>[mw],onLtr:()=>[cu]},overrides:f}:{type:"hotspot",hotspot:i(),bubble:su(-12,12,hw),layouts:{onRtl:()=>[Gr,Yr,fa],onLtr:()=>[Yr,Gr,fa]},overrides:f}},x5=(s,i,u,f)=>{const b={maxHeightFunction:np()};return()=>f()?{type:"node",root:it(bt(i())),node:P.from(i()),bubble:su(12,12,hw),layouts:{onRtl:()=>[Ss],onLtr:()=>[Ss]},overrides:b}:s?{type:"node",root:it(bt(i())),node:P.from(i()),bubble:su(0,-al(i()),hw),layouts:{onRtl:()=>[Wr],onLtr:()=>[Wr]},overrides:b}:{type:"hotspot",hotspot:u(),bubble:su(0,0,hw),layouts:{onRtl:()=>[Wr],onLtr:()=>[Wr]},overrides:b}},v3=(s,i,u)=>()=>u()?{type:"node",root:it(bt(s())),node:P.from(s()),layouts:{onRtl:()=>[Ss],onLtr:()=>[Ss]}}:{type:"hotspot",hotspot:i(),layouts:{onRtl:()=>[fa],onLtr:()=>[fa]}},w5=(s,i)=>()=>({type:"selection",root:i(),getSelection:()=>{const u=s.selection.getRng(),f=s.model.table.getSelectedCells();if(f.length>1){const b=f[0],v=f[f.length-1],C={firstCell:xn(b),lastCell:xn(v)};return P.some(C)}return P.some(Wm.range(xn(u.startContainer),u.startOffset,xn(u.endContainer),u.endOffset))}}),E_=s=>i=>({type:"node",root:s(),node:i}),O7=(s,i,u,f)=>{const b=l0(s),v=()=>xn(s.getBody()),C=()=>xn(s.getContentAreaContainer()),k=()=>b||!f();return{inlineDialog:y5(C,i,k),inlineBottomDialog:x5(s.inline,C,u,k),banner:v3(C,i,k),cursor:w5(s,v),node:E_(v)}},R7=s=>(i,u)=>{qN(s)(i,u)},D7=s=>()=>HA(s),N7=s=>i=>y0(s,i),I7=s=>i=>VA(s,i),C5=s=>()=>eg(s),S5=s=>Do(s,"items"),_5=s=>Do(s,"format"),y3=[{title:"Headings",items:[{title:"Heading 1",format:"h1"},{title:"Heading 2",format:"h2"},{title:"Heading 3",format:"h3"},{title:"Heading 4",format:"h4"},{title:"Heading 5",format:"h5"},{title:"Heading 6",format:"h6"}]},{title:"Inline",items:[{title:"Bold",format:"bold"},{title:"Italic",format:"italic"},{title:"Underline",format:"underline"},{title:"Strikethrough",format:"strikethrough"},{title:"Superscript",format:"superscript"},{title:"Subscript",format:"subscript"},{title:"Code",format:"code"}]},{title:"Blocks",items:[{title:"Paragraph",format:"p"},{title:"Blockquote",format:"blockquote"},{title:"Div",format:"div"},{title:"Pre",format:"pre"}]},{title:"Align",items:[{title:"Left",format:"alignleft"},{title:"Center",format:"aligncenter"},{title:"Right",format:"alignright"},{title:"Justify",format:"alignjustify"}]}],x3=s=>Gt(s,(i,u)=>{if(ro(u,"items")){const f=x3(u.items);return{customFormats:i.customFormats.concat(f.customFormats),formats:i.formats.concat([{title:u.title,items:f.formats}])}}if(ro(u,"inline")||(f=>ro(f,"block"))(u)||(f=>ro(f,"selector"))(u)){const f=`custom-${g(u.name)?u.name:u.title.toLowerCase()}`;return{customFormats:i.customFormats.concat([{name:f,format:u}]),formats:i.formats.concat([{title:u.title,format:f,icon:u.icon}])}}return{...i,formats:i.formats.concat(u)}},{customFormats:[],formats:[]}),k5=s=>ay(s).map(i=>{const u=((f,b)=>{const v=x3(b),C=k=>{ht(k,E=>{f.formatter.has(E.name)||f.formatter.register(E.name,E.format)})};return f.formatter?C(v.customFormats):f.on("init",()=>{C(v.customFormats)}),v.formats})(s,i);return QC(s)?y3.concat(u):u}).getOr(y3),E5=(s,i,u)=>({...s,type:"formatter",isSelected:i(s.format),getStylePreview:u(s.format)}),w3=(s,i,u,f)=>{const b=v=>$e(v,C=>S5(C)?(k=>{const E=b(k.items);return{...k,type:"submenu",getStyleItems:q(E)}})(C):_5(C)?(k=>E5(k,u,f))(C):(k=>{const E=qt(k);return E.length===1&&ct(E,"title")})(C)?{...C,type:"separator"}:(k=>{const E=g(k.name)?k.name:In(k.title),B=`custom-${E}`,$={...k,type:"formatter",format:B,isSelected:u(B),getStylePreview:f(B)};return s.formatter.register(E,$),$})(C));return b(i)},C3=s=>{let i=0;const u=f=>[{dom:{tag:"div",classes:["tox-tooltip__body"]},components:[sa(f.tooltipText)]}];return{getConfig:f=>({delayForShow:()=>i>0?60:300,delayForHide:q(300),exclusive:!0,lazySink:s,tooltipDom:{tag:"div",classes:["tox-tooltip","tox-tooltip--up"]},tooltipComponents:u(f),onShow:(b,v)=>{i++,f.onShow&&f.onShow(b,v)},onHide:(b,v)=>{i--,f.onHide&&f.onHide(b,v)},onSetup:f.onSetup}),getComponents:u}},A5=xp.trim,T5=s=>i=>!!((u=>z(u)&&u.nodeType===1)(i)&&(i.contentEditable===s||i.getAttribute("data-mce-contenteditable")===s)),P7=T5("true"),B7=T5("false"),O5=(s,i,u,f,b)=>({type:s,title:i,url:u,level:f,attach:b}),R5=s=>s.innerText||s.textContent,M7=s=>(i=>i&&i.nodeName==="A"&&(i.id||i.name)!==void 0)(s)&&ff(s),S3=s=>s&&/^(H[1-6])$/.test(s.nodeName),ff=s=>(i=>{let u=i;for(;u=u.parentNode;){const f=u.contentEditable;if(f&&f!=="inherit")return P7(u)}return!1})(s)&&!B7(s),L7=s=>S3(s)&&ff(s),_3=s=>{var i;const u=(f=>f.id?f.id:In("h"))(s);return O5("header",(i=R5(s))!==null&&i!==void 0?i:"","#"+u,(f=>S3(f)?parseInt(f.nodeName.substr(1),10):0)(s),()=>{s.id=u})},D5=s=>{const i=s.id||s.name,u=R5(s);return O5("anchor",u||"#"+i,"#"+i,0,j)},N5=s=>A5(s.title).length>0,F7=s=>{const i=(u=>$e(Ya(xn(u),"h1,h2,h3,h4,h5,h6,a:not([href])"),b=>b.dom))(s);return mn((u=>$e(mn(u,L7),_3))(i).concat((u=>$e(mn(u,M7),D5))(i)),N5)},pw="tinymce-url-history",k3=s=>g(s)&&/^https?/.test(s),E3=s=>y(s)&&ms(s,i=>{return!(A(u=i)&&u.length<=5&&qe(u,k3));var u}).isNone(),I5=()=>{const s=ju.getItem(pw);if(s===null)return{};let i;try{i=JSON.parse(s)}catch(u){if(u instanceof SyntaxError)return console.log("Local storage "+pw+" was not valid JSON",u),{};throw u}return E3(i)?i:(console.log("Local storage "+pw+" was not valid format",i),{})},$7=s=>{const i=I5();return on(i,s).getOr([])},V7=(s,i)=>{if(!k3(s))return;const u=I5(),f=on(u,i).getOr([]),b=mn(f,v=>v!==s);u[i]=[s].concat(b).slice(0,5),(v=>{if(!E3(v))throw new Error(`Bad format for history:
`+JSON.stringify(v));ju.setItem(pw,JSON.stringify(v))})(u)},P5=s=>!!s,H7=s=>so(xp.makeMap(s,/[, ]/),P5),A_=s=>P.from(tS(s)),A3=s=>P.from(s).filter(g).getOrUndefined(),B5=s=>({getHistory:$7,addToHistory:V7,getLinkInformation:()=>(i=>nS(i)?P.some({targets:F7(i.getBody()),anchorTop:A3(_D(i)),anchorBottom:A3(kD(i))}):P.none())(s),getValidationHandler:()=>(i=>P.from(x2(i)))(s),getUrlPicker:i=>((u,f)=>((b,v)=>{const C=(k=>{const E=P.from(w2(k)).filter(P5).map(H7);return A_(k).fold(Oe,B=>E.fold(Ve,$=>qt($).length>0&&$))})(b);return O(C)?C?A_(b):P.none():C[v]?A_(b):P.none()})(u,f).map(b=>v=>kb(C=>{const k={filetype:f,fieldname:v.fieldname,...P.from(v.meta).getOr({})};b.call(u,(E,B)=>{if(!g(E))throw new Error("Expected value to be string");if(B!==void 0&&!y(B))throw new Error("Expected meta to be a object");C({value:E,meta:B})},v.value,k)})))(s,i)}),Yi=JL,uh=fR,z7=q([mt("shell",!1),Ft("makeItem"),mt("setupItem",j),xo("listBehaviours",[io])]),Ty=ud({name:"items",overrides:()=>({behaviours:en([io.config({})])})}),U7=q([Ty]),T3=pc({name:q("CustomList")(),configFields:z7(),partFields:U7(),factory:(s,i,u,f)=>{const b=s.shell?{behaviours:[io.config({})],components:[]}:{behaviours:[],components:i};return{uid:s.uid,dom:s.dom,components:b.components,behaviours:Io(s.listBehaviours,b.behaviours),apis:{setItems:(v,C)=>{var k;(k=v,s.shell?P.some(k):fr(k,s,"items")).fold(()=>{throw console.error("Custom List was defined to not be a shell, but no item container was specified in components"),new Error("Custom List was defined to not be a shell, but no item container was specified in components")},E=>{const B=io.contents(E),$=C.length,L=$-B.length,Z=L>0?Tt(L,()=>s.makeItem()):[],Q=B.slice($);ht(Q,me=>io.remove(E,me)),ht(Z,me=>io.append(E,me));const se=io.contents(E);ht(se,(me,pe)=>{s.setupItem(v,me,C[pe],pe)})})}}}},apis:{setItems:(s,i,u)=>{s.setItems(i,u)}}}),T0=q([Ft("dom"),mt("shell",!0),Pn("toolbarBehaviours",[io])]),M5=q([ud({name:"groups",overrides:()=>({behaviours:en([io.config({})])})})]),fm=pc({name:"Toolbar",configFields:T0(),partFields:M5(),factory:(s,i,u,f)=>{const b=s.shell?{behaviours:[io.config({})],components:[]}:{behaviours:[],components:i};return{uid:s.uid,dom:s.dom,components:b.components,behaviours:Io(s.toolbarBehaviours,b.behaviours),apis:{setGroups:(v,C)=>{var k;(k=v,s.shell?P.some(k):fr(k,s,"groups")).fold(()=>{throw console.error("Toolbar was defined to not be a shell, but no groups container was specified in components"),new Error("Toolbar was defined to not be a shell, but no groups container was specified in components")},E=>{io.set(E,C)})},refresh:j},domModification:{attributes:{role:"group"}}}},apis:{setGroups:(s,i,u)=>{s.setGroups(i,u)}}}),O3=j,R3=Oe,T_=q([]);var D3,W7=Object.freeze({__proto__:null,setup:O3,isDocked:R3,getBehaviours:T_});const O_=q(In("toolbar-height-change")),dh={fadeInClass:"tox-editor-dock-fadein",fadeOutClass:"tox-editor-dock-fadeout",transitionClass:"tox-editor-dock-transition"},L5="tox-tinymce--toolbar-sticky-on",F5="tox-tinymce--toolbar-sticky-off",bw=(s,i)=>ct(Or.getModes(s),i),R_=s=>{const i=s.element;pi(i).each(u=>{const f="padding-"+Or.getModes(s)[0];if(Or.isDocked(s)){const b=La(u);po(i,"width",b+"px"),po(u,f,(v=>al(v)+(parseInt(Sr(v,"margin-top"),10)||0)+(parseInt(Sr(v,"margin-bottom"),10)||0))(i)+"px")}else Is(i,"width"),Is(u,f)})},N3=(s,i)=>{i?(Ro(s,dh.fadeOutClass),jo(s,[dh.transitionClass,dh.fadeInClass])):(Ro(s,dh.fadeInClass),jo(s,[dh.fadeOutClass,dh.transitionClass]))},$5=(s,i)=>{const u=xn(s.getContainer());i?(Mn(u,L5),Ro(u,F5)):(Mn(u,F5),Ro(u,L5))},V5=(s,i)=>{const u=bs(),f=i.getSink,b=k=>{f().each(E=>k(E.element))},v=k=>{s.inline||R_(k),$5(s,Or.isDocked(k)),k.getSystem().broadcastOn([K()],{}),f().each(E=>E.getSystem().broadcastOn([K()],{}))},C=s.inline?[]:[sc.config({channels:{[O_()]:{onReceive:R_}}})];return[vo.config({}),Or.config({contextual:{lazyContext:k=>{const E=al(k.element),B=s.inline?s.getContentAreaContainer():s.getContainer();return P.from(B).map($=>{const L=ta(xn($));return bb(s,k.element).fold(()=>{const Z=L.height-E,Q=L.y+(bw(k,"top")?0:E);return Ho(L.x,Q,L.width,Z)},Z=>{const Q=Gc(L,vb(Z)),se=bw(k,"top")?Q.y:Q.y+E;return Ho(Q.x,se,Q.width,Q.height-E)})})},onShow:()=>{b(k=>N3(k,!0))},onShown:k=>{b(E=>oa(E,[dh.transitionClass,dh.fadeInClass])),u.get().each(E=>{((B,$)=>{const L=la($);ad(L).filter(Z=>!os($,Z)).filter(Z=>os(Z,xn(L.dom.body))||$r(B,Z)).each(()=>El($))})(k.element,E),u.clear()})},onHide:k=>{((E,B)=>ma(E).orThunk(()=>B().toOptional().bind($=>ma($.element))))(k.element,f).fold(u.clear,u.set),b(E=>N3(E,!1))},onHidden:()=>{b(k=>oa(k,[dh.transitionClass]))},...dh},lazyViewport:k=>bb(s,k.element).fold(()=>{const E=Aa(),B=XE(s),$=E.y+(bw(k,"top")?B:0),L=E.height-(bw(k,"bottom")?B:0);return{bounds:Ho(E.x,$,E.width,L),optScrollEnv:P.none()}},E=>({bounds:vb(E),optScrollEnv:P.some({currentScrollTop:E.element.dom.scrollTop,scrollElmTop:Sl(E.element).top})})),modes:[i.header.getDockingMode()],onDocked:v,onUndocked:v}),...C]};var j7=Object.freeze({__proto__:null,setup:(s,i,u)=>{s.inline||(i.header.isPositionedAtTop()||s.on("ResizeEditor",()=>{u().each(Or.reset)}),s.on("ResizeWindow ResizeEditor",()=>{u().each(R_)}),s.on("SkinLoaded",()=>{u().each(f=>{Or.isDocked(f)?Or.reset(f):Or.refresh(f)})}),s.on("FullscreenStateChanged",()=>{u().each(Or.reset)})),s.on("AfterScrollIntoView",f=>{u().each(b=>{Or.refresh(b);const v=b.element;$R(v)&&((C,k)=>{const E=la(k),B=jc(k).dom.innerHeight,$=ir(E),L=xn(C.elm),Z=Li(L),Q=_r(L),se=Z.y,me=se+Q,pe=Sl(k),Ee=_r(k),he=pe.top,ge=he+Ee,Ce=Math.abs(he-$.top)<2,Ae=Math.abs(ge-($.top+B))<2;if(Ce&&se<ge)Md($.left,se-Ee,E);else if(Ae&&me>he){const Ie=se-B+Q+Ee;Md($.left,Ie,E)}})(f,v)})}),s.on("PostRender",()=>{$5(s,!1)})},isDocked:s=>s().map(Or.isDocked).getOr(!1),getBehaviours:V5});const Z7=Xn([za,Ra("items",Lf([_u([pA,Hi("items",Oa)]),Oa]))].concat(nh)),K7=[Hr("text"),Hr("tooltip"),Hr("icon"),zi("search",!1,Lf([gc,Xn([Hr("placeholder")])],s=>O(s)?s?P.some({placeholder:P.none()}):P.none():P.some(s))),Vi("fetch"),er("onSetup",()=>j)],H5=Xn([za,...K7]),z5=s=>kr("menubutton",H5,s),q7=Xn([za,z2,sf,Sb,wA,aF,Cb,Oc("presets","normal",["normal","color","listpreview"]),dN(1),cy,uN]);var I3=dd({factory:(s,i)=>{const u={focus:qn.focusIn,setMenus:(f,b)=>{const v=$e(b,C=>{const k={type:"menubutton",text:C.text,fetch:B=>{B(C.getItems())}},E=z5(k).mapError(B=>$i(B)).getOrDie();return ky(E,"tox-mbtn",i.backstage,P.some("menuitem"))});io.set(f,v)}};return{uid:s.uid,dom:s.dom,components:[],behaviours:en([io.config({}),Fo("menubar-events",[cr(f=>{s.onSetup(f)}),Rt(Un(),(f,b)=>{Rr(f.element,".tox-mbtn--active").each(v=>{Xd(b.event.target,".tox-mbtn").each(C=>{os(v,C)||f.getSystem().getByDom(v).each(k=>{f.getSystem().getByDom(C).each(E=>{ic.expand(E),ic.close(k),vo.focus(E)})})})})}),Rt(Gp(),(f,b)=>{b.event.prevFocus.bind(v=>f.getSystem().getByDom(v).toOptional()).each(v=>{b.event.newFocus.bind(C=>f.getSystem().getByDom(C).toOptional()).each(C=>{ic.isOpen(v)&&(ic.expand(C),ic.close(v))})})})]),qn.config({mode:"flow",selector:".tox-mbtn",onEscape:f=>(s.onEscape(f),P.some(!0))}),lr.config({})]),apis:u,domModification:{attributes:{role:"menubar"}}}},name:"silver.Menubar",configFields:[Ft("dom"),Ft("uid"),Ft("onEscape"),Ft("backstage"),mt("onSetup",j)],apis:{focus:(s,i)=>{s.focus(i)},setMenus:(s,i,u)=>{s.setMenus(i,u)}}});const U5="container",G7=[Pn("slotBehaviours",[])],P3=s=>"<alloy.field."+s+">",Y7=(s,i)=>{const u=$=>pR(s),f=($,L)=>(Z,Q)=>fr(Z,s,Q).map(se=>$(se,Q)).getOr(L),b=($,L)=>Ko($.element,"aria-hidden")!=="true",v=f(b,!1),C=f(($,L)=>{if(b($)){const Z=$.element;po(Z,"display","none"),bn(Z,"aria-hidden","true"),jn($,tu(),{name:L,visible:!1})}}),k=($=>(L,Z)=>{ht(Z,Q=>$(L,Q))})(C),E=f(($,L)=>{if(!b($)){const Z=$.element;Is(Z,"display"),Bo(Z,"aria-hidden"),jn($,tu(),{name:L,visible:!0})}}),B={getSlotNames:u,getSlot:($,L)=>fr($,s,L),isShowing:v,hideSlot:C,hideAllSlots:$=>k($,u()),showSlot:E};return{uid:s.uid,dom:s.dom,components:i,behaviours:co(s.slotBehaviours),apis:B}},X7=so({getSlotNames:(s,i)=>s.getSlotNames(i),getSlot:(s,i,u)=>s.getSlot(i,u),isShowing:(s,i,u)=>s.isShowing(i,u),hideSlot:(s,i,u)=>s.hideSlot(i,u),hideAllSlots:(s,i)=>s.hideAllSlots(i),showSlot:(s,i,u)=>s.showSlot(i,u)},s=>_1(s)),lc={...X7,sketch:s=>{const i=(()=>{const v=[];return{slot:(C,k)=>(v.push(C),hE(U5,P3(C),k)),record:q(v)}})(),u=s(i),f=i.record(),b=$e(f,v=>ac({name:v,pname:P3(v)}));return t2(U5,G7,b,Y7,u)}},J7=Xn([sf,z2,er("onShow",j),er("onHide",j),Cb]),Q7=s=>({element:()=>s.element.dom}),D_=(s,i)=>{const u=$e(qt(i),f=>{const b=i[f],v=wi((C=>kr("sidebar",J7,C))(b));return{name:f,getApi:Q7,onSetup:v.onSetup,onShow:v.onShow,onHide:v.onHide}});return $e(u,f=>{const b=Hn(j);return s.slot(f.name,{dom:{tag:"div",classes:["tox-sidebar__pane"]},behaviours:W2([_b(f,b),gp(f,b),Rt(tu(),(v,C)=>{const k=C.event;te(u,B=>B.name===k.name).each(B=>{(k.visible?B.onShow:B.onHide)(B.getApi(v))})})])})})},W5=s=>lc.sketch(i=>({dom:{tag:"div",classes:["tox-sidebar__pane-container"]},components:D_(i,s),slotBehaviours:W2([cr(u=>lc.hideAllSlots(u))])})),N_=(s,i)=>{bn(s,"role",i)},e$=s=>Cs.getCurrent(s).bind(i=>Fc.isGrowing(i)||Fc.hasGrown(i)?Cs.getCurrent(i).bind(u=>te(lc.getSlotNames(u),f=>lc.isShowing(u,f))):P.none()),B3=In("FixSizeEvent"),M3=In("AutoSizeEvent");var t$=Object.freeze({__proto__:null,block:(s,i,u,f)=>{bn(s.element,"aria-busy",!0);const b=i.getRoot(s).getOr(s),v=en([qn.config({mode:"special",onTab:()=>P.some(!0),onShiftTab:()=>P.some(!0)}),vo.config({})]),C=f(b,v),k=b.getSystem().build(C);io.append(b,Vl(k)),k.hasConfigured(qn)&&i.focus&&qn.focusIn(k),u.isBlocked()||i.onBlock(s),u.blockWith(()=>io.remove(b,k))},unblock:(s,i,u)=>{Bo(s.element,"aria-busy"),u.isBlocked()&&i.onUnblock(s),u.clear()},isBlocked:(s,i,u)=>u.isBlocked()}),n$=[er("getRoot",P.none),na("focus",!0),vs("onBlock"),vs("onUnblock")];const mf=Va({fields:n$,name:"blocking",apis:t$,state:Object.freeze({__proto__:null,init:()=>{const s=Sc(i=>i.destroy());return xa({readState:s.isSet,blockWith:i=>{s.set({destroy:i})},clear:s.clear,isBlocked:s.isSet})}})}),L3=s=>Cs.getCurrent(s).each(i=>El(i.element,!0)),j5=(s,i,u)=>{const f=Hn(!1),b=bs(),v=k=>{var E;f.get()&&(!(B=>B.type==="focusin")(E=k)||!(E.composed?Be(E.composedPath()):P.from(E.target)).map(xn).filter(ar).exists(B=>Zo(B,"mce-pastebin")))&&(k.preventDefault(),L3(i()),s.editorManager.setActive(s))};s.inline||s.on("PreInit",()=>{s.dom.bind(s.getWin(),"focusin",v),s.on("BeforeExecCommand",k=>{k.command.toLowerCase()==="mcefocus"&&k.value!==!0&&v(k)})});const C=k=>{k!==f.get()&&(f.set(k),((E,B,$,L)=>{const Z=B.element;if(((Q,se)=>{const me="tabindex",pe=`data-mce-${me}`;P.from(Q.iframeElement).map(xn).each(Ee=>{se?(is(Ee,me).each(he=>bn(Ee,pe,he)),bn(Ee,me,-1)):(Bo(Ee,me),is(Ee,pe).each(he=>{bn(Ee,me,he),Bo(Ee,pe)}))})})(E,$),$)mf.block(B,(Q=>(se,me)=>({dom:{tag:"div",attributes:{"aria-label":Q.translate("Loading..."),tabindex:"0"},classes:["tox-throbber__busy-spinner"]},components:[{dom:Jg('<div class="tox-spinner"><div></div><div></div><div></div></div>')}]}))(L)),Is(Z,"display"),Bo(Z,"aria-hidden"),E.hasFocus()&&L3(B);else{const Q=Cs.getCurrent(B).exists(se=>tp(se.element));mf.unblock(B),po(Z,"display","none"),bn(Z,"aria-hidden","true"),Q&&E.focus()}})(s,i(),k,u.providers),((E,B)=>{E.dispatch("AfterProgressState",{state:B})})(s,k))};s.on("ProgressState",k=>{if(b.on(clearTimeout),X(k.time)){const E=XC.setEditorTimeout(s,()=>C(k.state),k.time);b.set(E)}else C(k.state),b.clear()})},F3=(s,i,u)=>({within:s,extra:i,withinWidth:u}),$3=(s,i,u)=>{const f=Gt(s,(C,k)=>((E,B)=>{const $=u(E);return P.some({element:E,start:B,finish:B+$,width:$})})(k,C.len).fold(q(C),E=>({len:E.finish,list:C.list.concat([E])})),{len:0,list:[]}).list,b=mn(f,C=>C.finish<=i),v=Fn(b,(C,k)=>C+k.width,0);return{within:b,extra:f.slice(b.length),withinWidth:v}},I_=s=>$e(s,i=>i.element),Z5=(s,i)=>{const u=$e(i,f=>Vl(f));fm.setGroups(s,u)},K5=(s,i,u)=>{const f=i.builtGroups.get();if(f.length===0)return;const b=lp(s,i,"primary"),v=ra.getCoupled(s,"overflowGroup");po(b.element,"visibility","hidden");const C=f.concat([v]),k=fn(C,B=>ma(B.element).bind($=>B.getSystem().getByDom($).toOptional()));u([]),Z5(b,C);const E=((B,$,L,Z)=>{const Q=((Ee,he,ge)=>{const Ce=$3(he,Ee,ge);return Ce.extra.length===0?P.some(Ce):P.none()})(B,$,L).getOrThunk(()=>$3($,B-L(Z),L)),se=Q.within,me=Q.extra,pe=Q.withinWidth;return me.length===1&&me[0].width<=L(Z)?((Ee,he,ge)=>{const Ce=I_(Ee.concat(he));return F3(Ce,[],ge)})(se,me,pe):me.length>=1?((Ee,he,ge,Ce)=>{const Ae=I_(Ee).concat([ge]);return F3(Ae,I_(he),Ce)})(se,me,Z,pe):((Ee,he,ge)=>F3(I_(Ee),[],ge))(se,0,pe)})(La(b.element),i.builtGroups.get(),B=>Math.ceil(B.element.dom.getBoundingClientRect().width),v);E.extra.length===0?(io.remove(b,v),u([])):(Z5(b,E.within),u(E.extra)),Is(b.element,"visibility"),Yu(b.element),k.each(vo.focus)},q5=q([Pn("splitToolbarBehaviours",[ra]),$a("builtGroups",()=>Hn([]))]),o$=q([Zh(["overflowToggledClass"]),Tc("getOverflowBounds"),Ft("lazySink"),$a("overflowGroups",()=>Hn([])),vs("onOpened"),vs("onClosed")].concat(q5())),s$=q([ac({factory:fm,schema:T0(),name:"primary"}),sm({schema:T0(),name:"overflow"}),sm({name:"overflow-button"}),sm({name:"overflow-group"})]),V3=q((s,i)=>{((u,f)=>{const b=_m.max(u,f,["margin-left","border-left-width","padding-left","padding-right","border-right-width","margin-right"]);po(u,"max-width",b+"px")})(s,Math.floor(i))}),r$=q([Zh(["toggledClass"]),Ft("lazySink"),Vi("fetch"),Tc("getBounds"),Er("fireDismissalEventInstead",[mt("event",Im())]),Vm(),vs("onToggled")]),a$=q([sm({name:"button",overrides:s=>({dom:{attributes:{"aria-haspopup":"true"}},buttonBehaviours:en([fo.config({toggleClass:s.markers.toggledClass,aria:{mode:"expanded"},toggleOnExecute:!1,onToggled:s.onToggled})])})}),sm({factory:fm,schema:T0(),name:"toolbar",overrides:s=>({toolbarBehaviours:en([qn.config({mode:"cyclic",onEscape:i=>(fr(i,s,"button").each(vo.focus),P.none())})])})})]),P_=bs(),Oy=(s,i)=>{const u=ra.getCoupled(s,"toolbarSandbox");D.isOpen(u)?D.close(u):D.open(u,i.toolbar())},vw=(s,i,u,f)=>{const b=u.getBounds.map(C=>C()),v=u.lazySink(s).getOrDie();qi.positionWithinBounds(v,i,{anchor:{type:"hotspot",hotspot:s,layouts:f,overrides:{maxWidthFunction:V3()}}},b)},B_=(s,i,u,f,b)=>{fm.setGroups(i,b),vw(s,i,u,f),fo.on(s)},Cp=pc({name:"FloatingToolbarButton",factory:(s,i,u,f)=>({...Ol.sketch({...f.button(),action:b=>{Oy(b,f)},buttonBehaviours:uo({dump:f.button().buttonBehaviours},[ra.config({others:{toolbarSandbox:b=>((v,C,k)=>{const E=Yh();return{dom:{tag:"div",attributes:{id:E.id}},behaviours:en([qn.config({mode:"special",onEscape:B=>(D.close(B),P.some(!0))}),D.config({onOpen:(B,$)=>{const L=P_.get().getOr(!1);k.fetch().get(Z=>{B_(v,$,k,C.layouts,Z),E.link(v.element),L||qn.focusIn($)})},onClose:()=>{fo.off(v),P_.get().getOr(!1)||vo.focus(v),E.unlink(v.element)},isPartOf:(B,$,L)=>oc($,L)||oc(v,L),getAttachPoint:()=>k.lazySink(v).getOrDie()}),sc.config({channels:{...ue({isExtraPart:Oe,...k.fireDismissalEventInstead.map(B=>({fireEventInstead:{event:B.event}})).getOr({})}),...ze({doReposition:()=>{D.getState(ra.getCoupled(v,"toolbarSandbox")).each(B=>{vw(v,B,k,C.layouts)})}})}})])}})(b,u,s)}})])}),apis:{setGroups:(b,v)=>{D.getState(ra.getCoupled(b,"toolbarSandbox")).each(C=>{B_(b,C,s,u.layouts,v)})},reposition:b=>{D.getState(ra.getCoupled(b,"toolbarSandbox")).each(v=>{vw(b,v,s,u.layouts)})},toggle:b=>{Oy(b,f)},toggleWithoutFocusing:b=>{((v,C)=>{P_.set(!0),Oy(v,C),P_.clear()})(b,f)},getToolbar:b=>D.getState(ra.getCoupled(b,"toolbarSandbox")),isOpen:b=>D.isOpen(ra.getCoupled(b,"toolbarSandbox"))}}),configFields:r$(),partFields:a$(),apis:{setGroups:(s,i,u)=>{s.setGroups(i,u)},reposition:(s,i)=>{s.reposition(i)},toggle:(s,i)=>{s.toggle(i)},toggleWithoutFocusing:(s,i)=>{s.toggleWithoutFocusing(i)},getToolbar:(s,i)=>s.getToolbar(i),isOpen:(s,i)=>s.isOpen(i)}}),i$=q([Ft("items"),Zh(["itemSelector"]),Pn("tgroupBehaviours",[qn])]),l$=q([MC({name:"items",unit:"item"})]),Ry=pc({name:"ToolbarGroup",configFields:i$(),partFields:l$(),factory:(s,i,u,f)=>({uid:s.uid,dom:s.dom,components:i,behaviours:Io(s.tgroupBehaviours,[qn.config({mode:"flow",selector:s.markers.itemSelector})]),domModification:{attributes:{role:"toolbar"}}})}),M_=s=>$e(s,i=>Vl(i)),yw=(s,i,u)=>{K5(s,u,f=>{u.overflowGroups.set(f),i.getOpt(s).each(b=>{Cp.setGroups(b,M_(f))})})},H3=pc({name:"SplitFloatingToolbar",configFields:o$(),partFields:s$(),factory:(s,i,u,f)=>{const b=$s(Cp.sketch({fetch:()=>kb(v=>{v(M_(s.overflowGroups.get()))}),layouts:{onLtr:()=>[Yr,Gr],onRtl:()=>[Gr,Yr],onBottomLtr:()=>[qs,wa],onBottomRtl:()=>[wa,qs]},getBounds:u.getOverflowBounds,lazySink:s.lazySink,fireDismissalEventInstead:{},markers:{toggledClass:s.markers.overflowToggledClass},parts:{button:f["overflow-button"](),toolbar:f.overflow()},onToggled:(v,C)=>s[C?"onOpened":"onClosed"](v)}));return{uid:s.uid,dom:s.dom,components:i,behaviours:Io(s.splitToolbarBehaviours,[ra.config({others:{overflowGroup:()=>Ry.sketch({...f["overflow-group"](),items:[b.asSpec()]})}})]),apis:{setGroups:(v,C)=>{s.builtGroups.set($e(C,v.getSystem().build)),yw(v,b,s)},refresh:v=>yw(v,b,s),toggle:v=>{b.getOpt(v).each(C=>{Cp.toggle(C)})},toggleWithoutFocusing:v=>{b.getOpt(v).each(Cp.toggleWithoutFocusing)},isOpen:v=>b.getOpt(v).map(Cp.isOpen).getOr(!1),reposition:v=>{b.getOpt(v).each(C=>{Cp.reposition(C)})},getOverflow:v=>b.getOpt(v).bind(Cp.getToolbar)},domModification:{attributes:{role:"group"}}}},apis:{setGroups:(s,i,u)=>{s.setGroups(i,u)},refresh:(s,i)=>{s.refresh(i)},reposition:(s,i)=>{s.reposition(i)},toggle:(s,i)=>{s.toggle(i)},toggleWithoutFocusing:(s,i)=>{s.toggle(i)},isOpen:(s,i)=>s.isOpen(i),getOverflow:(s,i)=>s.getOverflow(i)}}),c$=q([Zh(["closedClass","openClass","shrinkingClass","growingClass","overflowToggledClass"]),vs("onOpened"),vs("onClosed")].concat(q5())),u$=q([ac({factory:fm,schema:T0(),name:"primary"}),ac({factory:fm,schema:T0(),name:"overflow",overrides:s=>({toolbarBehaviours:en([Fc.config({dimension:{property:"height"},closedClass:s.markers.closedClass,openClass:s.markers.openClass,shrinkingClass:s.markers.shrinkingClass,growingClass:s.markers.growingClass,onShrunk:i=>{fr(i,s,"overflow-button").each(u=>{fo.off(u)}),s.onClosed(i)},onGrown:i=>{s.onOpened(i)},onStartGrow:i=>{fr(i,s,"overflow-button").each(fo.on)}}),qn.config({mode:"acyclic",onEscape:i=>(fr(i,s,"overflow-button").each(vo.focus),P.some(!0))})])})}),sm({name:"overflow-button",overrides:s=>({buttonBehaviours:en([fo.config({toggleClass:s.markers.overflowToggledClass,aria:{mode:"expanded"},toggleOnExecute:!1})])})}),sm({name:"overflow-group"})]),z3=(s,i,u)=>{fr(s,i,"overflow-button").each(f=>{fr(s,i,"overflow").each(b=>{if(U3(s,i),Fc.hasShrunk(b)){const v=i.onOpened;i.onOpened=C=>{u||qn.focusIn(b),v(C),i.onOpened=v}}else{const v=i.onClosed;i.onClosed=C=>{u||vo.focus(f),v(C),i.onClosed=v}}Fc.toggleGrow(b)})})},U3=(s,i)=>{fr(s,i,"overflow").each(u=>{K5(s,i,f=>{const b=$e(f,v=>Vl(v));fm.setGroups(u,b)}),fr(s,i,"overflow-button").each(f=>{Fc.hasGrown(u)&&fo.on(f)}),Fc.refresh(u)})},W3=pc({name:"SplitSlidingToolbar",configFields:c$(),partFields:u$(),factory:(s,i,u,f)=>{const b="alloy.toolbar.toggle";return{uid:s.uid,dom:s.dom,components:i,behaviours:Io(s.splitToolbarBehaviours,[ra.config({others:{overflowGroup:v=>Ry.sketch({...f["overflow-group"](),items:[Ol.sketch({...f["overflow-button"](),action:C=>{Mo(v,b)}})]})}}),Fo("toolbar-toggle-events",[Rt(b,v=>{z3(v,s,!1)})])]),apis:{setGroups:(v,C)=>{((k,E)=>{const B=$e(E,k.getSystem().build);s.builtGroups.set(B)})(v,C),U3(v,s)},refresh:v=>U3(v,s),toggle:v=>{z3(v,s,!1)},toggleWithoutFocusing:v=>{z3(v,s,!0)},isOpen:v=>((C,k)=>fr(C,k,"overflow").map(Fc.hasGrown).getOr(!1))(v,s)},domModification:{attributes:{role:"group"}}}},apis:{setGroups:(s,i,u)=>{s.setGroups(i,u)},refresh:(s,i)=>{s.refresh(i)},toggle:(s,i)=>{s.toggle(i)},isOpen:(s,i)=>s.isOpen(i)}}),G5=s=>{const i=s.title.fold(()=>({}),u=>({attributes:{title:u}}));return{dom:{tag:"div",classes:["tox-toolbar__group"],...i},components:[Ry.parts.items({})],items:s.items,markers:{itemSelector:"*:not(.tox-split-button) > .tox-tbtn:not([disabled]), .tox-split-button:not([disabled]), .tox-toolbar-nav-js:not([disabled]), .tox-number-input:not([disabled])"},tgroupBehaviours:en([lr.config({}),vo.config({})])}},L_=s=>Ry.sketch(G5(s)),Y5=(s,i)=>{const u=cr(f=>{const b=$e(s.initGroups,L_);fm.setGroups(f,b)});return en([AS(s.providers.isDisabled),ci(),qn.config({mode:i,onEscape:s.onEscape,selector:".tox-toolbar__group"}),Fo("toolbar-events",[u])])},X5=s=>{const i=s.cyclicKeying?"cyclic":"acyclic";return{uid:s.uid,dom:{tag:"div",classes:["tox-toolbar-overlord"]},parts:{"overflow-group":G5({title:P.none(),items:[]}),"overflow-button":u5({icon:P.some("more-drawer"),enabled:!0,tooltip:P.some("Reveal or hide additional toolbar items")},P.none(),s.providers,[],"overflow-button")},splitToolbarBehaviours:Y5(s,i)}},d$=s=>{const i=X5(s),u=H3.parts.primary({dom:{tag:"div",classes:["tox-toolbar__primary"]}});return H3.sketch({...i,lazySink:s.getSink,getOverflowBounds:()=>{const f=s.moreDrawerData.lazyHeader().element,b=Li(f),v=rl(f),C=Li(v),k=Math.max(v.dom.scrollHeight,C.height);return Ho(b.x+4,C.y,b.width-8,k)},parts:{...i.parts,overflow:{dom:{tag:"div",classes:["tox-toolbar__overflow"],attributes:s.attributes}}},components:[u],markers:{overflowToggledClass:"tox-tbtn--enabled"},onOpened:f=>s.onToggled(f,!0),onClosed:f=>s.onToggled(f,!1)})},f$=s=>{const i=W3.parts.primary({dom:{tag:"div",classes:["tox-toolbar__primary"]}}),u=W3.parts.overflow({dom:{tag:"div",classes:["tox-toolbar__overflow"]}}),f=X5(s);return W3.sketch({...f,components:[i,u],markers:{openClass:"tox-toolbar__overflow--open",closedClass:"tox-toolbar__overflow--closed",growingClass:"tox-toolbar__overflow--growing",shrinkingClass:"tox-toolbar__overflow--shrinking",overflowToggledClass:"tox-tbtn--enabled"},onOpened:b=>{b.getSystem().broadcastOn([O_()],{type:"opened"}),s.onToggled(b,!0)},onClosed:b=>{b.getSystem().broadcastOn([O_()],{type:"closed"}),s.onToggled(b,!1)}})},j3=s=>{const i=s.cyclicKeying?"cyclic":"acyclic";return fm.sketch({uid:s.uid,dom:{tag:"div",classes:["tox-toolbar"].concat(s.type===tf.scrolling?["tox-toolbar--scrolling"]:[])},components:[fm.parts.groups({})],toolbarBehaviours:Y5(s,i)})},J5=[Sb,sf,Hr("tooltip"),Oc("buttonType","secondary",["primary","secondary"]),na("borderless",!1),Vi("onAction")],Z3={button:[...J5,of,Au("type",["button"])],togglebutton:[...J5,na("active",!1),Au("type",["togglebutton"])]},m$=[Au("type",["group"]),Ps("buttons",[],ya("type",Z3))],g$=ya("type",{...Z3,group:m$}),fh=Xn([Ps("buttons",[],g$),Vi("onShow"),Vi("onHide")]),Q5=(s,i)=>((u,f)=>{var b,v;const C=u.type==="togglebutton",k=u.icon.map(he=>Pb(he,f.icons)).map($s),E={...u,name:C?u.text.getOr(u.icon.getOr("")):(b=u.text)!==null&&b!==void 0?b:u.icon.getOr(""),primary:u.buttonType==="primary",buttonType:P.from(u.buttonType),tooltip:u.tooltip,icon:u.icon,enabled:!0,borderless:u.borderless},B=i3((v=u.buttonType)!==null&&v!==void 0?v:"secondary"),$=C?u.text.map(f.translate):P.some(f.translate(u.text)),L=$.map(sa),Z=E.tooltip.or($).map(he=>({"aria-label":f.translate(he)})).getOr({}),Q=k.map(he=>he.asSpec()),se=fy([Q,L]),me=u.icon.isSome()&&L.isSome(),pe={tag:"button",classes:B.concat(...u.icon.isSome()&&!me?["tox-button--icon"]:[]).concat(...me?["tox-button--icon-and-text"]:[]).concat(...u.borderless?["tox-button--naked"]:[]).concat(...u.type==="togglebutton"&&u.active?["tox-button--enabled"]:[]),attributes:Z},Ee=fw(E,P.some(he=>{const ge=Ce=>{k.map(Ae=>Ae.getOpt(he).each(Ie=>{io.set(Ie,[Pb(Ce,f.icons)])}))};return C?u.onAction({setIcon:ge,setActive:Ce=>{const Ae=he.element;Ce?(Mn(Ae,"tox-button--enabled"),bn(Ae,"aria-pressed",!0)):(Ro(Ae,"tox-button--enabled"),Bo(Ae,"aria-pressed"))},isActive:()=>Zo(he.element,"tox-button--enabled")}):u.type==="button"?u.onAction({setIcon:ge}):void 0}),[],pe,se,u.tooltip,f);return Ol.sketch(Ee)})(s,i),eP=Fa().deviceType,K3=eP.isPhone(),Xi=eP.isTablet();var Dy=pc({name:"silver.View",configFields:[Ft("viewConfig")],partFields:[ud({factory:{sketch:s=>{let i=!1;const u=$e(s.buttons,f=>f.type==="group"?(i=!0,((b,v)=>({dom:{tag:"div",classes:["tox-view__toolbar__group"]},components:$e(b.buttons,C=>Q5(C,v))}))(f,s.providers)):Q5(f,s.providers));return{uid:s.uid,dom:{tag:"div",classes:[i?"tox-view__toolbar":"tox-view__header",...K3||Xi?["tox-view--mobile","tox-view--scrolling"]:[]]},behaviours:en([vo.config({}),qn.config({mode:"flow",selector:"button, .tox-button",focusInside:Jv.OnEnterOrSpaceMode})]),components:i?u:[lm.sketch({dom:{tag:"div",classes:["tox-view__header-start"]},components:[]}),lm.sketch({dom:{tag:"div",classes:["tox-view__header-end"]},components:u})]}}},schema:[Ft("buttons"),Ft("providers")],name:"header"}),ud({factory:{sketch:s=>({uid:s.uid,behaviours:en([vo.config({}),lr.config({})]),dom:{tag:"div",classes:["tox-view__pane"]}})},schema:[],name:"pane"})],factory:(s,i,u,f)=>{const b={getPane:v=>Yi.getPart(v,s,"pane"),getOnShow:v=>s.viewConfig.onShow,getOnHide:v=>s.viewConfig.onHide};return{uid:s.uid,dom:s.dom,components:i,behaviours:en([vo.config({}),qn.config({mode:"cyclic",focusInside:Jv.OnEnterOrSpaceMode})]),apis:b}},apis:{getPane:(s,i)=>s.getPane(i),getOnShow:(s,i)=>s.getOnShow(i),getOnHide:(s,i)=>s.getOnHide(i)}});const h$=(s,i,u)=>Qr(i,(f,b)=>{const v=wi(kr("view",fh,f));return s.slot(b,Dy.sketch({dom:{tag:"div",classes:["tox-view"]},viewConfig:v,components:[...v.buttons.length>0?[Dy.parts.header({buttons:v.buttons,providers:u})]:[],Dy.parts.pane({})]}))}),p$=(s,i)=>lc.sketch(u=>({dom:{tag:"div",classes:["tox-view-wrap__slot-container"]},components:h$(u,s,i),slotBehaviours:W2([cr(f=>lc.hideAllSlots(f))])})),tP=s=>te(lc.getSlotNames(s),i=>lc.isShowing(s,i)),nP=(s,i,u)=>{lc.getSlot(s,i).each(f=>{Dy.getPane(f).each(b=>{var v;u(f)((v=b.element.dom,{getContainer:q(v)}))})})};var F_=dd({factory:(s,i)=>{const u={setViews:(f,b)=>{io.set(f,[p$(b,i.backstage.shared.providers)])},whichView:f=>Cs.getCurrent(f).bind(tP),toggleView:(f,b,v,C)=>Cs.getCurrent(f).exists(k=>{const E=tP(k),B=E.exists(L=>C===L),$=lc.getSlot(k,C).isSome();return $&&(lc.hideAllSlots(k),B?((L=>{const Z=L.element;po(Z,"display","none"),bn(Z,"aria-hidden","true")})(f),b()):(v(),(L=>{const Z=L.element;Is(Z,"display"),Bo(Z,"aria-hidden")})(f),lc.showSlot(k,C),((L,Z)=>{nP(L,Z,Dy.getOnShow)})(k,C)),E.each(L=>((Z,Q)=>nP(Z,Q,Dy.getOnHide))(k,L))),$})};return{uid:s.uid,dom:{tag:"div",classes:["tox-view-wrap"],attributes:{"aria-hidden":"true"},styles:{display:"none"}},components:[],behaviours:en([io.config({}),Cs.config({find:f=>{const b=io.contents(f);return Be(b)}})]),apis:u}},name:"silver.ViewWrapper",configFields:[Ft("backstage")],apis:{setViews:(s,i,u)=>s.setViews(i,u),toggleView:(s,i,u,f,b)=>s.toggleView(i,u,f,b),whichView:(s,i)=>s.whichView(i)}});const b$=uh.optional({factory:I3,name:"menubar",schema:[Ft("backstage")]}),v$=uh.optional({factory:{sketch:s=>T3.sketch({uid:s.uid,dom:s.dom,listBehaviours:en([qn.config({mode:"acyclic",selector:".tox-toolbar"})]),makeItem:()=>j3({type:s.type,uid:In("multiple-toolbar-item"),cyclicKeying:!1,initGroups:[],providers:s.providers,onEscape:()=>(s.onEscape(),P.some(!0))}),setupItem:(i,u,f,b)=>{fm.setGroups(u,f)},shell:!0})},name:"multiple-toolbar",schema:[Ft("dom"),Ft("onEscape")]}),y$=uh.optional({factory:{sketch:s=>(u=>u.type===tf.sliding?f$:u.type===tf.floating?d$:j3)(s)({type:s.type,uid:s.uid,onEscape:()=>(s.onEscape(),P.some(!0)),onToggled:(u,f)=>s.onToolbarToggled(f),cyclicKeying:!1,initGroups:[],getSink:s.getSink,providers:s.providers,moreDrawerData:{lazyToolbar:s.lazyToolbar,lazyMoreButton:s.lazyMoreButton,lazyHeader:s.lazyHeader},attributes:s.attributes})},name:"toolbar",schema:[Ft("dom"),Ft("onEscape"),Ft("getSink")]}),x$=uh.optional({factory:{sketch:s=>{const i=s.editor,u=s.sticky?V5:T_;return{uid:s.uid,dom:s.dom,components:s.components,behaviours:en(u(i,s.sharedBackstage))}}},name:"header",schema:[Ft("dom")]}),w$=uh.optional({factory:{sketch:s=>({uid:s.uid,dom:s.dom,components:[{dom:{tag:"a",attributes:{href:"https://www.tiny.cloud/tinymce-self-hosted-premium-features/?utm_campaign=self_hosted_upgrade_promo&utm_source=tiny&utm_medium=referral",rel:"noopener",target:"_blank","aria-hidden":"true"},classes:["tox-promotion-link"],innerHtml:"Upgrade"}}]})},name:"promotion",schema:[Ft("dom")]}),C$=uh.optional({name:"socket",schema:[Ft("dom")]}),S$=uh.optional({factory:{sketch:s=>({uid:s.uid,dom:{tag:"div",classes:["tox-sidebar"],attributes:{role:"presentation"}},components:[{dom:{tag:"div",classes:["tox-sidebar__slider"]},components:[],behaviours:en([lr.config({}),vo.config({}),Fc.config({dimension:{property:"width"},closedClass:"tox-sidebar--sliding-closed",openClass:"tox-sidebar--sliding-open",shrinkingClass:"tox-sidebar--sliding-shrinking",growingClass:"tox-sidebar--sliding-growing",onShrunk:i=>{Cs.getCurrent(i).each(lc.hideAllSlots),Mo(i,M3)},onGrown:i=>{Mo(i,M3)},onStartGrow:i=>{jn(i,B3,{width:jr(i.element,"width").getOr("")})},onStartShrink:i=>{jn(i,B3,{width:La(i.element)+"px"})}}),io.config({}),Cs.config({find:i=>{const u=io.contents(i);return Be(u)}})])}],behaviours:en([RT(0),Fo("sidebar-sliding-events",[Rt(B3,(i,u)=>{po(i.element,"width",u.event.width)}),Rt(M3,(i,u)=>{Is(i.element,"width")})])])})},name:"sidebar",schema:[Ft("dom")]}),_$=uh.optional({factory:{sketch:s=>({uid:s.uid,dom:{tag:"div",attributes:{"aria-hidden":"true"},classes:["tox-throbber"],styles:{display:"none"}},behaviours:en([io.config({}),mf.config({focus:!1}),Cs.config({find:i=>Be(i.components())})]),components:[]})},name:"throbber",schema:[Ft("dom")]}),k$=uh.optional({factory:F_,name:"viewWrapper",schema:[Ft("backstage")]}),E$=uh.optional({factory:{sketch:s=>({uid:s.uid,dom:{tag:"div",classes:["tox-editor-container"]},components:s.components})},name:"editorContainer",schema:[]});var vr=pc({name:"OuterContainer",factory:(s,i,u)=>{let f=!1;const b=C=>{dr(C,".tox-statusbar").each(k=>{Sr(k,"display")==="none"&&Ko(k,"aria-hidden")==="true"?(Is(k,"display"),Bo(k,"aria-hidden")):(po(k,"display","none"),bn(k,"aria-hidden","true"))})},v={getSocket:C=>Yi.getPart(C,s,"socket"),setSidebar:(C,k,E)=>{Yi.getPart(C,s,"sidebar").each(B=>(($,L,Z)=>{Cs.getCurrent($).each(Q=>{io.set(Q,[W5(L)]);const se=Z==null?void 0:Z.toLowerCase();g(se)&&ro(L,se)&&Cs.getCurrent(Q).each(me=>{lc.showSlot(me,se),Fc.immediateGrow(Q),Is(Q.element,"width"),N_($.element,"region")})})})(B,k,E))},toggleSidebar:(C,k)=>{Yi.getPart(C,s,"sidebar").each(E=>((B,$)=>{Cs.getCurrent(B).each(L=>{Cs.getCurrent(L).each(Z=>{Fc.hasGrown(L)?lc.isShowing(Z,$)?(Fc.shrink(L),N_(B.element,"presentation")):(lc.hideAllSlots(Z),lc.showSlot(Z,$),N_(B.element,"region")):(lc.hideAllSlots(Z),lc.showSlot(Z,$),Fc.grow(L),N_(B.element,"region"))})})})(E,k))},whichSidebar:C=>Yi.getPart(C,s,"sidebar").bind(e$).getOrNull(),getHeader:C=>Yi.getPart(C,s,"header"),getToolbar:C=>Yi.getPart(C,s,"toolbar"),setToolbar:(C,k)=>{Yi.getPart(C,s,"toolbar").each(E=>{const B=$e(k,L_);E.getApis().setGroups(E,B)})},setToolbars:(C,k)=>{Yi.getPart(C,s,"multiple-toolbar").each(E=>{const B=$e(k,$=>$e($,L_));T3.setItems(E,B)})},refreshToolbar:C=>{Yi.getPart(C,s,"toolbar").each(k=>k.getApis().refresh(k))},toggleToolbarDrawer:C=>{Yi.getPart(C,s,"toolbar").each(k=>{ba(k.getApis().toggle,E=>E(k))})},toggleToolbarDrawerWithoutFocusing:C=>{Yi.getPart(C,s,"toolbar").each(k=>{ba(k.getApis().toggleWithoutFocusing,E=>E(k))})},isToolbarDrawerToggled:C=>Yi.getPart(C,s,"toolbar").bind(k=>P.from(k.getApis().isOpen).map(E=>E(k))).getOr(!1),getThrobber:C=>Yi.getPart(C,s,"throbber"),focusToolbar:C=>{Yi.getPart(C,s,"toolbar").orThunk(()=>Yi.getPart(C,s,"multiple-toolbar")).each(k=>{qn.focusIn(k)})},setMenubar:(C,k)=>{Yi.getPart(C,s,"menubar").each(E=>{I3.setMenus(E,k)})},focusMenubar:C=>{Yi.getPart(C,s,"menubar").each(k=>{I3.focus(k)})},setViews:(C,k)=>{Yi.getPart(C,s,"viewWrapper").each(E=>{F_.setViews(E,k)})},toggleView:(C,k)=>Yi.getPart(C,s,"viewWrapper").exists(E=>F_.toggleView(E,()=>v.showMainView(C),()=>v.hideMainView(C),k)),whichView:C=>Yi.getPart(C,s,"viewWrapper").bind(F_.whichView).getOrNull(),hideMainView:C=>{f=v.isToolbarDrawerToggled(C),f&&v.toggleToolbarDrawer(C),Yi.getPart(C,s,"editorContainer").each(k=>{const E=k.element;b(E),po(E,"display","none"),bn(E,"aria-hidden","true")})},showMainView:C=>{f&&v.toggleToolbarDrawer(C),Yi.getPart(C,s,"editorContainer").each(k=>{const E=k.element;b(E),Is(E,"display"),Bo(E,"aria-hidden")})}};return{uid:s.uid,dom:s.dom,components:i,apis:v,behaviours:s.behaviours}},configFields:[Ft("dom"),Ft("behaviours")],partFields:[x$,b$,y$,v$,C$,S$,w$,_$,k$,E$],apis:{getSocket:(s,i)=>s.getSocket(i),setSidebar:(s,i,u,f)=>{s.setSidebar(i,u,f)},toggleSidebar:(s,i,u)=>{s.toggleSidebar(i,u)},whichSidebar:(s,i)=>s.whichSidebar(i),getHeader:(s,i)=>s.getHeader(i),getToolbar:(s,i)=>s.getToolbar(i),setToolbar:(s,i,u)=>{s.setToolbar(i,u)},setToolbars:(s,i,u)=>{s.setToolbars(i,u)},refreshToolbar:(s,i)=>s.refreshToolbar(i),toggleToolbarDrawer:(s,i)=>{s.toggleToolbarDrawer(i)},toggleToolbarDrawerWithoutFocusing:(s,i)=>{s.toggleToolbarDrawerWithoutFocusing(i)},isToolbarDrawerToggled:(s,i)=>s.isToolbarDrawerToggled(i),getThrobber:(s,i)=>s.getThrobber(i),setMenubar:(s,i,u)=>{s.setMenubar(i,u)},focusMenubar:(s,i)=>{s.focusMenubar(i)},focusToolbar:(s,i)=>{s.focusToolbar(i)},setViews:(s,i,u)=>{s.setViews(i,u)},toggleView:(s,i,u)=>s.toggleView(i,u),whichView:(s,i)=>s.whichView(i)}});const oP={file:{title:"File",items:"newdocument restoredraft | preview | importword exportpdf exportword | export print | deleteallconversations"},edit:{title:"Edit",items:"undo redo | cut copy paste pastetext | selectall | searchreplace"},view:{title:"View",items:"code revisionhistory | visualaid visualchars visualblocks | spellchecker | preview fullscreen | showcomments"},insert:{title:"Insert",items:"image link media addcomment pageembed inserttemplate codesample inserttable accordion math | charmap emoticons hr | pagebreak nonbreaking anchor tableofcontents footnotes | mergetags | insertdatetime"},format:{title:"Format",items:"bold italic underline strikethrough superscript subscript codeformat | styles blocks fontfamily fontsize align lineheight | forecolor backcolor | language | removeformat"},tools:{title:"Tools",items:"aidialog aishortcuts | spellchecker spellcheckerlanguage | autocorrect capitalization | a11ycheck code typography wordcount addtemplate"},table:{title:"Table",items:"inserttable | cell row column | advtablesort | tableprops deletetable"},help:{title:"Help",items:"help"}},q3=s=>s.split(" "),sP=(s,i)=>{const u={...oP,...i.menus},f=qt(i.menus).length>0,b=i.menubar===void 0||i.menubar===!0?q3("file edit view insert format tools table help"):q3(i.menubar===!1?"":i.menubar),v=mn(b,k=>{const E=ro(oP,k);return f?E||on(i.menus,k).exists(B=>ro(B,"items")):E}),C=$e(v,k=>{const E=u[k];return((B,$,L)=>{const Z=CD(L).split(/[ ,]/);return{text:B.title,getItems:()=>Cn(B.items,Q=>{const se=Q.toLowerCase();return se.trim().length===0||Tn(Z,me=>me===se)?[]:se==="separator"||se==="|"?[{type:"separator"}]:$.menuItems[se]?[$.menuItems[se]]:[]})}})({title:E.title,items:q3(E.items)},i,s)});return mn(C,k=>k.getItems().length>0&&Tn(k.getItems(),E=>g(E)||E.type!=="separator"))},rP=(s,i,u)=>(s.on("remove",()=>u.unload(i)),u.load(i)),G3=(s,i,u,f)=>(s.on("remove",()=>f.unloadRawCss(i)),f.loadRawCss(i,u)),A$=async(s,i)=>{const u="ui/"+aS(s).getOr("default")+"/skin.css",f=tinymce.Resource.get(u);if(!g(f)){const b=s.editorManager.suffix;return rP(s,i+`/skin${b}.css`,s.ui.styleSheetLoader)}G3(s,u,f,s.ui.styleSheetLoader)},T$=async(s,i)=>{var u;if(u=xn(s.getElement()),Qt(u).isSome()){const f="ui/"+aS(s).getOr("default")+"/skin.shadowdom.css",b=tinymce.Resource.get(f);if(!g(b)){const v=s.editorManager.suffix;return rP(s,i+`/skin.shadowdom${v}.css`,oy.DOM.styleSheetLoader)}G3(s,f,b,oy.DOM.styleSheetLoader)}},aP=(s,i)=>(async(u,f)=>{const b=()=>{const C=rS(f),k=f.editorManager.suffix;C&&f.contentCSS.push(C+(u?"/content.inline":"/content")+`${k}.css`)};aS(f).fold(b,C=>{const k="ui/"+C+(u?"/content.inline":"/content")+".css",E=tinymce.Resource.get(k);g(E)?G3(f,k,E,f.ui.styleSheetLoader):b()});const v=rS(f);if(!hb(f)&&g(v))return Promise.all([A$(f,v),T$(f,v)]).then()})(s,i).then((u=>{const f=()=>{u._skinLoaded=!0,(b=>{b.dispatch("SkinLoaded")})(u)};return()=>{u.initialized?f():u.on("init",f)}})(i),((u,f)=>()=>((b,v)=>{b.dispatch("SkinLoadError",v)})(u,{message:"Skin could not be loaded"}))(i)),iP=be(aP,!1),O$=be(aP,!0),O0=(s,i,u)=>wc(u)?s.translate(i):s.translate([i,s.translate(u)]),R$=(s,i)=>{const u=(v,C,k,E)=>{const B=s.shared.providers.translate(v.title);if(v.type==="separator")return P.some({type:"separator",text:B});if(v.type==="submenu"){const $=Cn(v.getStyleItems(),L=>f(L,C,E));return C===0&&$.length<=0?P.none():P.some({type:"nestedmenuitem",text:B,enabled:$.length>0,getSubmenuItems:()=>Cn(v.getStyleItems(),L=>f(L,C,E))})}return P.some({type:"togglemenuitem",text:B,icon:v.icon,active:v.isSelected(E),enabled:!k,onAction:i.onAction(v),...v.getStylePreview().fold(()=>({}),$=>({meta:{style:$}}))})},f=(v,C,k)=>{const E=v.type==="formatter"&&i.isInvalid(v);return C===0?E?[]:u(v,C,!1,k).toArray():u(v,C,E,k).toArray()},b=v=>{const C=i.getCurrentValue(),k=i.shouldHide?0:1;return Cn(v,E=>f(E,k,C))};return{validateItems:b,getFetch:(v,C)=>(k,E)=>{const B=C(),$=b(B);E(E0($,ng.CLOSE_ON_EXECUTE,v,{isHorizontalMenu:!1,search:P.none()}))}}},Ny=(s,i)=>{const u=i.dataset,f=u.type==="basic"?()=>$e(u.data,b=>E5(b,i.isSelectedFor,i.getPreviewFor)):u.getData;return{items:R$(s,i),getStyleItems:f}},xw=(s,i,u,f,b,v)=>{const{items:C,getStyleItems:k}=Ny(i,u),E=Hn(u.tooltip);return qT({text:u.icon.isSome()?P.none():u.text,icon:u.icon,ariaLabel:P.some(u.tooltip),tooltip:P.none(),role:P.none(),fetch:C.getFetch(i,k),onSetup:B=>{const $=L=>B.setTooltip(O0(s,f(L.value),L.value));return s.on(b,$),py(v0(s,"NodeChange",L=>{const Z=L.getComponent();u.updateText(Z),wo.set(L.getComponent(),!s.selection.isEditable())})(B),()=>s.off(b,$))},getApi:B=>({getComponent:q(B),setTooltip:$=>{const L=i.shared.providers.translate($);bn(B.element,"aria-label",L),E.set($)}}),columns:1,presets:"normal",classes:u.icon.isSome()?[]:["bespoke"],dropdownBehaviours:[Sa.config({...i.shared.providers.tooltips.getConfig({tooltipText:i.shared.providers.translate(u.tooltip),onShow:B=>{if(u.tooltip!==E.get()){const $=i.shared.providers.translate(E.get());Sa.setComponents(B,i.shared.providers.tooltips.getComponents({tooltipText:$}))}}})})]},"tox-tbtn",i.shared,v)};var R0;(function(s){s[s.SemiColon=0]="SemiColon",s[s.Space=1]="Space"})(R0||(R0={}));const Y3=(s,i,u)=>{const f=(b=((v,C)=>C===R0.SemiColon?v.replace(/;$/,"").split(";"):v.split(" "))(s.options.get(i),u),$e(b,v=>{let C=v,k=v;const E=v.split("=");return E.length>1&&(C=E[0],k=E[1]),{title:C,format:k}}));var b;return{type:"basic",data:f}},lP=q("Alignment {0}"),cP="left",X3=[{title:"Left",icon:"align-left",format:"alignleft",command:"JustifyLeft"},{title:"Center",icon:"align-center",format:"aligncenter",command:"JustifyCenter"},{title:"Right",icon:"align-right",format:"alignright",command:"JustifyRight"},{title:"Justify",icon:"align-justify",format:"alignjustify",command:"JustifyFull"}],J3=s=>{const i={type:"basic",data:X3};return{tooltip:O0(s,lP(),cP),text:P.none(),icon:P.some("align-left"),isSelectedFor:u=>()=>s.formatter.match(u),getCurrentValue:P.none,getPreviewFor:u=>P.none,onAction:u=>()=>te(X3,f=>f.format===u.format).each(f=>s.execCommand(f.command)),updateText:u=>{const f=te(X3,b=>s.formatter.match(b.format)).fold(q(cP),b=>b.title.toLowerCase());jn(u,uf,{icon:`align-${f}`}),((b,v)=>{b.dispatch("AlignTextUpdate",v)})(s,{value:f})},dataset:i,shouldHide:!1,isInvalid:u=>!s.formatter.canApply(u.format)}},uP=(s,i)=>{const u=i(),f=$e(u,b=>b.format);return P.from(s.formatter.closest(f)).bind(b=>te(u,v=>v.format===b))},Q3=q("Block {0}"),e4="Paragraph",t4=s=>{const i=Y3(s,"block_formats",R0.SemiColon);return{tooltip:O0(s,Q3(),e4),text:P.some(e4),icon:P.none(),isSelectedFor:u=>()=>s.formatter.match(u),getCurrentValue:P.none,getPreviewFor:u=>()=>{const f=s.formatter.get(u);return f?P.some({tag:f.length>0&&(f[0].inline||f[0].block)||"div",styles:s.dom.parseStyle(s.formatter.getCssText(u))}):P.none()},onAction:$N(s),updateText:u=>{const f=uP(s,()=>i.data).fold(q(e4),b=>b.title);jn(u,bd,{text:f}),((b,v)=>{b.dispatch("BlocksTextUpdate",v)})(s,{value:f})},dataset:i,shouldHide:!1,isInvalid:u=>!s.formatter.canApply(u.format)}},dP=q("Font {0}"),n4="System Font",D$=["-apple-system","Segoe UI","Roboto","Helvetica Neue","sans-serif"],fP=s=>{const i=s.split(/\s*,\s*/);return $e(i,u=>u.replace(/^['"]+|['"]+$/g,""))},mP=(s,i)=>i.length>0&&qe(i,u=>s.indexOf(u.toLowerCase())>-1),gP=s=>{const i=()=>{const f=B=>B?fP(B)[0]:"",b=s.queryCommandValue("FontName"),v=u.data,C=b?b.toLowerCase():"",k=sS(s);return{matchOpt:te(v,B=>{const $=B.format;return $.toLowerCase()===C||f($).toLowerCase()===f(C).toLowerCase()}).orThunk(()=>Vo(((B,$)=>{if(B.indexOf("-apple-system")===0||$.length>0){const L=fP(B.toLowerCase());return mP(L,D$)||mP(L,$)}return!1})(C,k),{title:n4,format:C})),font:b}},u=Y3(s,"font_family_formats",R0.SemiColon);return{tooltip:O0(s,dP(),n4),text:P.some(n4),icon:P.none(),isSelectedFor:f=>b=>b.exists(v=>v.format===f),getCurrentValue:()=>{const{matchOpt:f}=i();return f},getPreviewFor:f=>()=>P.some({tag:"div",styles:f.indexOf("dings")===-1?{"font-family":f}:{}}),onAction:f=>()=>{s.undoManager.transact(()=>{s.focus(),s.execCommand("FontName",!1,f.format)})},updateText:f=>{const{matchOpt:b,font:v}=i(),C=b.fold(q(v),k=>k.title);jn(f,bd,{text:C}),((k,E)=>{k.dispatch("FontFamilyTextUpdate",E)})(s,{value:C})},dataset:u,shouldHide:!1,isInvalid:Oe}},N$={unsupportedLength:["em","ex","cap","ch","ic","rem","lh","rlh","vw","vh","vi","vb","vmin","vmax","cm","mm","Q","in","pc","pt","px"],fixed:["px","pt"],relative:["%"],empty:[""]},I$=(()=>{const s="[0-9]+",i="[eE][+-]?"+s,u=b=>`(?:${b})?`,f=["Infinity",s+"\\."+u(s)+u(i),"\\."+s+u(i),s+u(i)].join("|");return new RegExp(`^([+-]?(?:${f}))(.*)$`)})(),$_=(s,i)=>P.from(I$.exec(s)).bind(u=>{const f=Number(u[1]),b=u[2];return((v,C)=>Tn(C,k=>Tn(N$[k],E=>v===E)))(b,i)?P.some({value:f,unit:b}):P.none()}),hP={tab:q(9),escape:q(27),enter:q(13),backspace:q(8),delete:q(46),left:q(37),up:q(38),right:q(39),down:q(40),space:q(32),home:q(36),end:q(35),pageUp:q(33),pageDown:q(34)},pP=q("Font size {0}"),bP="12pt",P$={"8pt":"1","10pt":"2","12pt":"3","14pt":"4","18pt":"5","24pt":"6","36pt":"7"},vP={"xx-small":"7pt","x-small":"8pt",small:"10pt",medium:"12pt",large:"14pt","x-large":"18pt","xx-large":"24pt"},B$=(s,i)=>/[0-9.]+px$/.test(s)?((u,f)=>{const b=Math.pow(10,f);return Math.round(u*b)/b})(72*parseInt(s,10)/96,i||0)+"pt":on(vP,s).getOr(s),M$=s=>on(P$,s).getOr(""),yP=s=>{const i=()=>{let b=P.none();const v=f.data,C=s.queryCommandValue("FontSize");if(C)for(let k=3;b.isNone()&&k>=0;k--){const E=B$(C,k),B=M$(E);b=te(v,$=>$.format===C||$.format===E||$.format===B)}return{matchOpt:b,size:C}},u=q(P.none),f=Y3(s,"font_size_formats",R0.Space);return{tooltip:O0(s,pP(),bP),text:P.some(bP),icon:P.none(),isSelectedFor:b=>v=>v.exists(C=>C.format===b),getPreviewFor:u,getCurrentValue:()=>{const{matchOpt:b}=i();return b},onAction:b=>()=>{s.undoManager.transact(()=>{s.focus(),s.execCommand("FontSize",!1,b.format)})},updateText:b=>{const{matchOpt:v,size:C}=i(),k=v.fold(q(C),E=>E.title);jn(b,bd,{text:k}),((E,B)=>{E.dispatch("FontSizeTextUpdate",B)})(s,{value:k})},dataset:f,shouldHide:!1,isInvalid:Oe}},xP=s=>wc(s)?"Formats":"Format {0}",wP=(s,i)=>{const u="Formats";return{tooltip:O0(s,xP(""),""),text:P.some(u),icon:P.none(),isSelectedFor:f=>()=>s.formatter.match(f),getCurrentValue:P.none,getPreviewFor:f=>()=>{const b=s.formatter.get(f);return b!==void 0?P.some({tag:b.length>0&&(b[0].inline||b[0].block)||"div",styles:s.dom.parseStyle(s.formatter.getCssText(f))}):P.none()},onAction:$N(s),updateText:f=>{const b=k=>S5(k)?Cn(k.items,b):_5(k)?[{title:k.title,format:k.format}]:[],v=Cn(k5(s),b),C=uP(s,q(v)).fold(q({title:u,tooltipLabel:""}),k=>({title:k.title,tooltipLabel:k.title}));jn(f,bd,{text:C.title}),((k,E)=>{k.dispatch("StylesTextUpdate",E)})(s,{value:C.tooltipLabel})},shouldHide:wD(s),isInvalid:f=>!s.formatter.canApply(f.format),dataset:i}},o4=q([Ft("toggleClass"),Ft("fetch"),Yd("onExecute"),mt("getHotspot",P.some),mt("getAnchorOverrides",q({})),Vm(),Yd("onItemExecute"),rs("lazySink"),Ft("dom"),vs("onOpen"),Pn("splitDropdownBehaviours",[ra,qn,vo]),mt("matchWidth",!1),mt("useMinWidth",!1),mt("eventOrder",{}),rs("role"),rs("listRole")].concat(eT())),L$=ac({factory:Ol,schema:[Ft("dom")],name:"arrow",defaults:()=>({buttonBehaviours:en([vo.revoke()])}),overrides:s=>({dom:{tag:"span",attributes:{role:"presentation"}},action:i=>{i.getSystem().getByUid(s.uid).each(qd)},buttonBehaviours:en([fo.config({toggleOnExecute:!1,toggleClass:s.toggleClass})])})}),F$=ac({factory:Ol,schema:[Ft("dom")],name:"button",defaults:()=>({buttonBehaviours:en([vo.revoke()])}),overrides:s=>({dom:{tag:"span",attributes:{role:"presentation"}},action:i=>{i.getSystem().getByUid(s.uid).each(u=>{s.onExecute(u,i)})}})}),$$=q([L$,F$,ud({factory:{sketch:s=>({uid:s.uid,dom:{tag:"span",styles:{display:"none"},attributes:{"aria-hidden":"true"},innerHtml:s.text}})},schema:[Ft("text")],name:"aria-descriptor"}),sm({schema:[jh()],name:"menu",defaults:s=>({onExecute:(i,u)=>{i.getSystem().getByUid(s.uid).each(f=>{s.onItemExecute(f,i,u)})}})}),tI()]),ww=pc({name:"SplitDropdown",configFields:o4(),partFields:$$(),factory:(s,i,u,f)=>{const b=B=>{Cs.getCurrent(B).each($=>{zs.highlightFirst($),qn.focusIn($)})},v=B=>{XA(s,de,B,f,b,Wl.HighlightMenuAndItem).get(j)},C=B=>{const $=lp(B,s,"button");return qd($),P.some(!0)},k={...yo([cr((B,$)=>{fr(B,s,"aria-descriptor").each(L=>{const Z=In("aria");bn(L.element,"id",Z),bn(B.element,"aria-describedby",Z)})})]),...ny(P.some(v))},E={repositionMenus:B=>{fo.isOn(B)&&sI(B)}};return{uid:s.uid,dom:s.dom,components:i,apis:E,eventOrder:{...s.eventOrder,[cl()]:["disabling","toggling","alloy.base.behaviour"]},events:k,behaviours:Io(s.splitDropdownBehaviours,[ra.config({others:{sandbox:B=>{const $=lp(B,s,"arrow");return QA(s,B,{onOpen:()=>{fo.on($),fo.on(B)},onClose:()=>{fo.off($),fo.off(B)}})}}}),qn.config({mode:"special",onSpace:C,onEnter:C,onDown:B=>(v(B),P.some(!0))}),vo.config({}),fo.config({toggleOnExecute:!1,aria:{mode:"expanded"}})]),domModification:{attributes:{role:s.role.getOr("button"),"aria-haspopup":!0}}}},apis:{repositionMenus:(s,i)=>s.repositionMenus(i)}}),s4=s=>({isEnabled:()=>!wo.isDisabled(s),setEnabled:i=>wo.set(s,!i),setText:i=>jn(s,bd,{text:i}),setIcon:i=>jn(s,uf,{icon:i})}),V$=s=>({setActive:i=>{fo.set(s,i)},isActive:()=>fo.isOn(s),isEnabled:()=>!wo.isDisabled(s),setEnabled:i=>wo.set(s,!i),setText:i=>jn(s,bd,{text:i}),setIcon:i=>jn(s,uf,{icon:i})}),CP=(s,i)=>s.map(u=>({"aria-label":i.translate(u)})).getOr({}),r4=In("focus-button"),a4=(s,i,u,f,b,v)=>{const C=i.map(E=>$s(KT(E,"tox-tbtn",b))),k=s.map(E=>$s(Pb(E,b.icons)));return{dom:{tag:"button",classes:["tox-tbtn"].concat(i.isSome()?["tox-tbtn--select"]:[]),attributes:{...CP(u,b),...z(v)?{"data-mce-name":v}:{}}},components:fy([k.map(E=>E.asSpec()),C.map(E=>E.asSpec())]),eventOrder:{[$t()]:["focusing","alloy.base.behaviour",Ib],[li()]:[Ib,"toolbar-group-button-events"]},buttonBehaviours:en([AS(b.isDisabled),ci(),Fo(Ib,[cr((E,B)=>g_(E)),Rt(bd,(E,B)=>{C.bind($=>$.getOpt(E)).each($=>{io.set($,[sa(b.translate(B.event.text))])})}),Rt(uf,(E,B)=>{k.bind($=>$.getOpt(E)).each($=>{io.set($,[Pb(B.event.icon,b.icons)])})}),Rt($t(),(E,B)=>{B.event.prevent(),Mo(E,r4)})])].concat(f.getOr([])))}},SP=(s,i,u,f)=>{var b;const v=Hn(j),C=a4(s.icon,s.text,s.tooltip,P.none(),u,f);return Ol.sketch({dom:C.dom,components:C.components,eventOrder:ZT,buttonBehaviours:{...en([Fo("toolbar-button-events",[(k={onAction:s.onAction,getApi:i.getApi},nu((E,B)=>{j2(k,E)($=>{jn(E,m_,{buttonApi:$}),k.onAction($)})})),_b(i,v),gp(i,v)]),...s.tooltip.map(E=>Sa.config(u.tooltips.getConfig({tooltipText:u.translate(E)+s.shortcut.map(B=>` (${TS(B)})`).getOr("")}))).toArray(),AS(()=>!s.enabled||u.isDisabled()),ci()].concat(i.toolbarButtonBehaviours)),[Ib]:(b=C.buttonBehaviours)===null||b===void 0?void 0:b[Ib]}});var k},_P=(s,i,u,f)=>SP(s,{toolbarButtonBehaviours:u.length>0?[Fo("toolbarButtonWith",u)]:[],getApi:s4,onSetup:s.onSetup},i,f),kP=(s,i,u,f)=>SP(s,{toolbarButtonBehaviours:[io.config({}),fo.config({toggleClass:"tox-tbtn--enabled",aria:{mode:"pressed"},toggleOnExecute:!1})].concat(u.length>0?[Fo("toolbarToggleButtonWith",u)]:[]),getApi:V$,onSetup:s.onSetup},i,f),H$=(s,i,u)=>f=>kb(b=>i.fetch(b)).map(b=>P.from(tT(Ws(x0(In("menu-value"),b,v=>{i.onItemAction(s(f),v)},i.columns,i.presets,ng.CLOSE_ON_EXECUTE,i.select.getOr(Oe),u),{movement:Y2(i.columns,i.presets),menuBehaviours:W2(i.columns!=="auto"?[]:[cr((v,C)=>{EA(v,4,wb(i.presets)).each(({numRows:k,numColumns:E})=>{qn.setGridSize(v,k,E)})})])})))),z$=[{name:"history",items:["undo","redo"]},{name:"ai",items:["aidialog","aishortcuts"]},{name:"styles",items:["styles"]},{name:"formatting",items:["bold","italic"]},{name:"alignment",items:["alignleft","aligncenter","alignright","alignjustify"]},{name:"indentation",items:["outdent","indent"]},{name:"permanent pen",items:["permanentpen"]},{name:"comments",items:["addcomment"]}],Fb=(s,i)=>(u,f,b,v)=>{const C=s(u).mapError(k=>$i(k)).getOrDie();return i(C,f,b,v)},U$={button:Fb(mN,(s,i,u,f)=>((b,v,C)=>_P(b,v,[],C))(s,i.shared.providers,f)),togglebutton:Fb(_S,(s,i,u,f)=>((b,v,C)=>kP(b,v,[],C))(s,i.shared.providers,f)),menubutton:Fb(z5,(s,i,u,f)=>ky(s,"tox-tbtn",i,P.none(),!1,f)),splitbutton:Fb(s=>kr("SplitButton",q7,s),(s,i,u,f)=>((b,v,C)=>{const k=Hn(b.tooltip.getOr("")),E=L=>({isEnabled:()=>!wo.isDisabled(L),setEnabled:Z=>wo.set(L,!Z),setIconFill:(Z,Q)=>{Rr(L.element,`svg path[class="${Z}"], rect[class="${Z}"]`).each(se=>{bn(se,"fill",Q)})},setActive:Z=>{bn(L.element,"aria-pressed",Z),Rr(L.element,"span").each(Q=>{L.getSystem().getByDom(Q).each(se=>fo.set(se,Z))})},isActive:()=>Rr(L.element,"span").exists(Z=>L.getSystem().getByDom(Z).exists(fo.isOn)),setText:Z=>Rr(L.element,"span").each(Q=>L.getSystem().getByDom(Q).each(se=>jn(se,bd,{text:Z}))),setIcon:Z=>Rr(L.element,"span").each(Q=>L.getSystem().getByDom(Q).each(se=>jn(se,uf,{icon:Z}))),setTooltip:Z=>{const Q=v.providers.translate(Z);bn(L.element,"aria-label",Q),k.set(Z)}}),B=Hn(j),$={getApi:E,onSetup:b.onSetup};return ww.sketch({dom:{tag:"div",classes:["tox-split-button"],attributes:{"aria-pressed":!1,...CP(b.tooltip,v.providers),...z(C)?{"data-mce-name":C}:{}}},onExecute:L=>{const Z=E(L);Z.isEnabled()&&b.onAction(Z)},onItemExecute:(L,Z,Q)=>{},splitDropdownBehaviours:en([_N(v.providers.isDisabled),ci(),Fo("split-dropdown-events",[cr((L,Z)=>g_(L)),Rt(r4,vo.focus),_b($,B),gp($,B)]),C0.config({}),...b.tooltip.map(L=>Sa.config({...v.providers.tooltips.getConfig({tooltipText:v.providers.translate(L),onShow:Z=>{if(k.get()!==L){const Q=v.providers.translate(k.get());Sa.setComponents(Z,v.providers.tooltips.getComponents({tooltipText:Q}))}}})})).toArray()]),eventOrder:{[li()]:["alloy.base.behaviour","split-dropdown-events","tooltipping"],[Nc()]:["split-dropdown-events","tooltipping"]},toggleClass:"tox-tbtn--enabled",lazySink:v.getSink,fetch:H$(E,b,v.providers),parts:{menu:yS(0,b.columns,b.presets)},components:[ww.parts.button(a4(b.icon,b.text,P.none(),P.some([fo.config({toggleClass:"tox-tbtn--enabled",toggleOnExecute:!1})]),v.providers)),ww.parts.arrow({dom:{tag:"button",classes:["tox-tbtn","tox-split-button__chevron"],innerHtml:jD("chevron-down",v.providers.icons)},buttonBehaviours:en([_N(v.providers.isDisabled),ci(),pS()])}),ww.parts["aria-descriptor"]({text:v.providers.translate("To open the popup, press Shift+Enter")})]})})(s,i.shared,f)),grouptoolbarbutton:Fb(s=>kr("GroupToolbarButton",Z7,s),(s,i,u,f)=>{const b=u.ui.registry.getAll().buttons,v={[rc]:i.shared.header.isPositionedAtTop()?$u.TopToBottom:$u.BottomToTop};if(i0(u)===tf.floating)return((C,k,E,B,$)=>{const L=k.shared,Z=Hn(j),Q={toolbarButtonBehaviours:[],getApi:s4,onSetup:C.onSetup},se=[Fo("toolbar-group-button-events",[_b(Q,Z),gp(Q,Z)])];return Cp.sketch({lazySink:L.getSink,fetch:()=>kb(me=>{me($e(E(C.items),L_))}),markers:{toggledClass:"tox-tbtn--enabled"},parts:{button:a4(C.icon,C.text,C.tooltip,P.some(se),L.providers,$),toolbar:{dom:{tag:"div",classes:["tox-toolbar__overflow"],attributes:B}}}})})(s,i,C=>V_(u,{buttons:b,toolbar:C,allowToolbarGroups:!1},i,P.none()),v,f);throw new Error("Toolbar groups are only supported when using floating toolbar mode")})},Cw={styles:(s,i)=>{const u={type:"advanced",...i.styles};return xw(s,i,wP(s,u),xP,"StylesTextUpdate","styles")},fontsize:(s,i)=>xw(s,i,yP(s),pP,"FontSizeTextUpdate","fontsize"),fontsizeinput:(s,i)=>((u,f,b,v)=>{let C=P.none();const k=v0(u,"NodeChange SwitchMode",Ce=>{const Ae=Ce.getComponent();C=P.some(Ae),b.updateInputValue(Ae),wo.set(Ae,!u.selection.isEditable())}),E=Ce=>({getComponent:q(Ce)}),B=Hn(j),$=In("custom-number-input-events"),L=(Ce,Ae,Ie)=>{const Xe=C.map(Jt=>vt.getValue(Jt)).getOr(""),dt=b.getNewValue(Xe,Ce),Lt=Xe.length-`${dt}`.length,Dt=C.map(Jt=>Jt.element.dom.selectionStart-Lt),At=C.map(Jt=>Jt.element.dom.selectionEnd-Lt);b.onAction(dt,Ie),C.each(Jt=>{vt.setValue(Jt,dt),Ae&&(Dt.each(En=>Jt.element.dom.selectionStart=En),At.each(En=>Jt.element.dom.selectionEnd=En))})},Z=(Ce,Ae)=>L((Ie,Xe)=>Ie-Xe,Ce,Ae),Q=(Ce,Ae)=>L((Ie,Xe)=>Ie+Xe,Ce,Ae),se=Ce=>pi(Ce.element).fold(P.none,Ae=>(El(Ae),P.some(!0))),me=Ce=>tp(Ce.element)?(Pe(Ce.element).each(Ae=>El(Ae)),P.some(!0)):P.none(),pe=(Ce,Ae,Ie,Xe)=>{const dt=Hn(j),Lt=f.shared.providers.translate(Ie),Dt=In("altExecuting"),At=v0(u,"NodeChange SwitchMode",En=>{wo.set(En.getComponent(),!u.selection.isEditable())}),Jt=En=>{wo.isDisabled(En)||Ce(!0)};return Ol.sketch({dom:{tag:"button",attributes:{"aria-label":Lt,"data-mce-name":Ae},classes:Xe.concat(Ae)},components:[lw(Ae,f.shared.providers.icons)],buttonBehaviours:en([wo.config({}),Sa.config(f.shared.providers.tooltips.getConfig({tooltipText:Lt})),Fo(Dt,[_b({onSetup:At,getApi:E},dt),gp({getApi:E},dt),Rt(Ar(),(En,zn)=>{zn.event.raw.keyCode!==hP.space()&&zn.event.raw.keyCode!==hP.enter()||wo.isDisabled(En)||Ce(!1)}),Rt(da(),Jt),Rt(He(),Jt)])]),eventOrder:{[Ar()]:[Dt,"keying"],[da()]:[Dt,"alloy.base.behaviour"],[He()]:[Dt,"alloy.base.behaviour"],[li()]:["alloy.base.behaviour",Dt,"tooltipping"],[Nc()]:[Dt,"tooltipping"]}})},Ee=$s(pe(Ce=>Z(!1,Ce),"minus","Decrease font size",[])),he=$s(pe(Ce=>Q(!1,Ce),"plus","Increase font size",[])),ge=$s({dom:{tag:"div",classes:["tox-input-wrapper"]},components:[mp.sketch({inputBehaviours:en([wo.config({}),Fo($,[_b({onSetup:k,getApi:E},B),gp({getApi:E},B)]),Fo("input-update-display-text",[Rt(bd,(Ce,Ae)=>{vt.setValue(Ce,Ae.event.text)}),Rt(Kr(),Ce=>{b.onAction(vt.getValue(Ce))}),Rt(zf(),Ce=>{b.onAction(vt.getValue(Ce))})]),qn.config({mode:"special",onEnter:Ce=>(L(de,!0,!0),P.some(!0)),onEscape:se,onUp:Ce=>(Q(!0,!1),P.some(!0)),onDown:Ce=>(Z(!0,!1),P.some(!0)),onLeft:(Ce,Ae)=>(Ae.cut(),P.none()),onRight:(Ce,Ae)=>(Ae.cut(),P.none())})])})],behaviours:en([vo.config({}),qn.config({mode:"special",onEnter:me,onSpace:me,onEscape:se}),Fo("input-wrapper-events",[Rt(Un(),Ce=>{ht([Ee,he],Ae=>{const Ie=xn(Ae.get(Ce).element.dom);tp(Ie)&&Rv(Ie)})})])])});return{dom:{tag:"div",classes:["tox-number-input"],attributes:{...z(v)?{"data-mce-name":v}:{}}},components:[Ee.asSpec(),ge.asSpec(),he.asSpec()],behaviours:en([vo.config({}),qn.config({mode:"flow",focusInside:Jv.OnEnterOrSpaceMode,cycles:!1,selector:"button, .tox-input-wrapper",onEscape:Ce=>tp(Ce.element)?P.none():(El(Ce.element),P.some(!0))})])}})(s,i,(u=>{const f=()=>u.queryCommandValue("FontSize");return{updateInputValue:b=>jn(b,bd,{text:f()}),onAction:(b,v)=>u.execCommand("FontSize",!1,b,{skip_focus:!v}),getNewValue:(b,v)=>{$_(b,["unsupportedLength","empty"]);const C=f(),k=$_(b,["unsupportedLength","empty"]).or($_(C,["unsupportedLength","empty"])),E=k.map(Q=>Q.value).getOr(16),B=JE(u),$=k.map(Q=>Q.unit).filter(Q=>Q!=="").getOr(B),L=v(E,(Q=>{var se;return(se={em:{step:.1},cm:{step:.1},in:{step:.1},pc:{step:.1},ch:{step:.1},rem:{step:.1}}[Q])!==null&&se!==void 0?se:{step:1}})($).step),Z=`${(Q=>Q>=0)(L)?L:E}${$}`;return Z!==C&&((Q,se)=>{Q.dispatch("FontSizeInputTextUpdate",se)})(u,{value:Z}),Z}}})(s),"fontsizeinput"),fontfamily:(s,i)=>xw(s,i,gP(s),dP,"FontFamilyTextUpdate","fontfamily"),blocks:(s,i)=>xw(s,i,t4(s),Q3,"BlocksTextUpdate","blocks"),align:(s,i)=>xw(s,i,J3(s),lP,"AlignTextUpdate","align")},V_=(s,i,u,f)=>{const b=(C=>{const k=C.toolbar,E=C.buttons;return k===!1?[]:k===void 0||k===!0?(B=>{const $=$e(z$,L=>{const Z=mn(L.items,Q=>ro(B,Q)||ro(Cw,Q));return{name:L.name,items:Z}});return mn($,L=>L.items.length>0)})(E):g(k)?(B=>{const $=B.split("|");return $e($,L=>({items:L.trim().split(" ")}))})(k):(B=>oe(B,$=>ro($,"name")&&ro($,"items")))(k)?k:(console.error("Toolbar type should be string, string[], boolean or ToolbarGroup[]"),[])})(i),v=$e(b,C=>{const k=Cn(C.items,E=>E.trim().length===0?[]:((B,$,L,Z,Q,se)=>on($,L.toLowerCase()).orThunk(()=>se.bind(me=>fn(me,pe=>on($,pe+L.toLowerCase())))).fold(()=>on(Cw,L.toLowerCase()).map(me=>me(B,Q)),me=>me.type!=="grouptoolbarbutton"||Z?((pe,Ee,he,ge)=>on(U$,pe.type).fold(()=>(console.error("skipping button defined by",pe),P.none()),Ce=>P.some(Ce(pe,Ee,he,ge))))(me,Q,B,L.toLowerCase()):(console.warn(`Ignoring the '${L}' toolbar button. Group toolbar buttons are only supported when using floating toolbar mode and cannot be nested.`),P.none())))(s,i.buttons,E,i.allowToolbarGroups,u,f).toArray());return{title:P.from(s.translate(C.name)),items:k}});return mn(v,C=>C.items.length>0)},EP=(s,i,u,f)=>{const b=i.mainUi.outerContainer,v=u.toolbar,C=u.buttons;if(oe(v,g)){const k=v.map(E=>{const B={toolbar:E,buttons:C,allowToolbarGroups:u.allowToolbarGroups};return V_(s,B,f,P.none())});vr.setToolbars(b,k)}else vr.setToolbar(b,V_(s,u,f,P.none()))},AP=Fa(),W$=AP.os.isiOS()&&AP.os.version.major<=12;var oW=Object.freeze({__proto__:null,render:(s,i,u,f,b)=>{const{mainUi:v,uiMotherships:C}=i,k=Hn(0),E=v.outerContainer;iP(s);const B=xn(b.targetNode),$=it(bt(B));Et(B,v.mothership),((se,me,pe)=>{fp(se)&&Et(pe.mainUi.mothership.element,pe.popupUi.mothership),Yx(me,pe.dialogUi.mothership)})(s,$,i),s.on("SkinLoaded",()=>{vr.setSidebar(E,u.sidebar,oS(s)),EP(s,i,u,f),k.set(s.getWin().innerWidth),vr.setMenubar(E,sP(s,u)),vr.setViews(E,u.views),((se,me)=>{const{uiMotherships:pe}=me,Ee=se.dom;let he=se.getWin();const ge=se.getDoc().documentElement,Ce=Hn(Qs(he.innerWidth,he.innerHeight)),Ae=Hn(Qs(ge.offsetWidth,ge.offsetHeight)),Ie=()=>{const Dt=Ce.get();Dt.left===he.innerWidth&&Dt.top===he.innerHeight||(Ce.set(Qs(he.innerWidth,he.innerHeight)),b0(se))},Xe=()=>{const Dt=se.getDoc().documentElement,At=Ae.get();At.left===Dt.offsetWidth&&At.top===Dt.offsetHeight||(Ae.set(Qs(Dt.offsetWidth,Dt.offsetHeight)),b0(se))},dt=Dt=>{((At,Jt)=>{At.dispatch("ScrollContent",Jt)})(se,Dt)};Ee.bind(he,"resize",Ie),Ee.bind(he,"scroll",dt);const Lt=Hx(xn(se.getBody()),"load",Xe);se.on("hide",()=>{ht(pe,Dt=>{po(Dt.element,"display","none")})}),se.on("show",()=>{ht(pe,Dt=>{Is(Dt.element,"display")})}),se.on("NodeChange",Xe),se.on("remove",()=>{Lt.unbind(),Ee.unbind(he,"resize",Ie),Ee.unbind(he,"scroll",dt),he=null})})(s,i)});const L=vr.getSocket(E).getOrDie("Could not find expected socket element");if(W$){yl(L.element,{overflow:"scroll","-webkit-overflow-scrolling":"touch"});const se=((pe,Ee)=>{let he=null;return{cancel:()=>{R(he)||(clearTimeout(he),he=null)},throttle:(...ge)=>{R(he)&&(he=setTimeout(()=>{he=null,pe.apply(null,ge)},20))}}})(()=>{s.dispatch("ScrollContent")}),me=Al(L.element,"scroll",se.throttle);s.on("remove",me.unbind)}SN(s,i),s.addCommand("ToggleSidebar",(se,me)=>{vr.toggleSidebar(E,me),(pe=>{pe.dispatch("ToggleSidebar")})(s)}),s.addQueryValueHandler("ToggleSidebar",()=>{var se;return(se=vr.whichSidebar(E))!==null&&se!==void 0?se:""}),s.addCommand("ToggleView",(se,me)=>{if(vr.toggleView(E,me)){const pe=E.element;v.mothership.broadcastOn([F()],{target:pe}),ht(C,Ee=>{Ee.broadcastOn([F()],{target:pe})}),R(vr.whichView(E))&&(s.focus(),s.nodeChanged(),vr.refreshToolbar(E)),(Ee=>{Ee.dispatch("ToggleView")})(s)}}),s.addQueryValueHandler("ToggleView",()=>{var se;return(se=vr.whichView(E))!==null&&se!==void 0?se:""});const Z=i0(s);Z!==tf.sliding&&Z!==tf.floating||s.on("ResizeWindow ResizeEditor ResizeContent",()=>{const se=s.getWin().innerWidth;se!==k.get()&&(vr.refreshToolbar(i.mainUi.outerContainer),k.set(se))});const Q={setEnabled:se=>{h0(i,!se)},isEnabled:()=>!wo.isDisabled(E)};return{iframeContainer:L.element.dom,editorContainer:E.element.dom,api:Q}}});const Sw=s=>/^[0-9\.]+(|px)$/i.test(""+s)?P.some(parseInt(""+s,10)):P.none(),$b=s=>X(s)?s+"px":s,_w=(s,i,u)=>{const f=i.filter(v=>s<v),b=u.filter(v=>s>v);return f.or(b).getOr(s)},i4=s=>{const i=v2(s),u=y2(s),f=ry(s);return Sw(i).map(b=>_w(b,u,f))},{ToolbarLocation:l4,ToolbarMode:TP}=k2,j$=(s,i,u,f,b)=>{const{mainUi:v,uiMotherships:C}=u,k=oy.DOM,E=l0(s),B=dp(s),$=ry(s).or(i4(s)),L=f.shared.header,Z=L.isPositionedAtTop,Q=i0(s),se=Q===TP.sliding||Q===TP.floating,me=Hn(!1),pe=()=>me.get()&&!s.removed,Ee=Ae=>se?Ae.fold(q(0),Ie=>Ie.components().length>1?_r(Ie.components()[1].element):0):0,he=()=>{ht(C,Ae=>{Ae.broadcastOn([K()],{})})},ge=Ae=>{if(!pe())return;E||b.on(dt=>{const Lt=$.getOrThunk(()=>va().width-ti(i).left-10);po(dt.element,"max-width",Lt+"px")});const Ie=ir(),Xe=!(E||E||!(Sl(v.outerContainer.element).left+Bi(v.outerContainer.element)>=window.innerWidth-40||jr(v.outerContainer.element,"width").isSome())||(po(v.outerContainer.element,"position","absolute"),po(v.outerContainer.element,"left","0px"),Is(v.outerContainer.element,"width"),0));if(se&&vr.refreshToolbar(v.outerContainer),!E){const dt=ir(),Lt=Vo(Ie.left!==dt.left,Ie);((Dt,At)=>{b.on(Jt=>{const En=vr.getToolbar(v.outerContainer),zn=Ee(En),Qn=ta(i),Co=(($o,ys)=>fp($o)?Kf(ys):P.none())(s,v.outerContainer.element),es=Co.fold(()=>Qn.x,$o=>{const ys=ta($o);return os($o,_n())?Qn.x:Qn.x-ys.x}),yr=Vo(Dt,Math.ceil(v.outerContainer.element.dom.getBoundingClientRect().width)).filter($o=>$o>150).map($o=>{const ys=At.getOr(ir()),ao=window.innerWidth-(es-ys.left),Nr=Math.max(Math.min($o,ao),150);return ao<$o&&po(v.outerContainer.element,"width",Nr+"px"),{width:Nr+"px"}}).getOr({width:"max-content"}),Dr={position:"absolute",left:Math.round(es)+"px",top:Co.fold(()=>Z()?Math.max(Qn.y-_r(Jt.element)+zn,0):Qn.bottom,$o=>{var ys;const ao=ta($o),Nr=(ys=$o.dom.scrollTop)!==null&&ys!==void 0?ys:0,Ys=os($o,_n())?Math.max(Qn.y-_r(Jt.element)+zn,0):Qn.y-ao.y+Nr-_r(Jt.element)+zn;return Z()?Ys:Qn.bottom})+"px"};yl(v.outerContainer.element,{...Dr,...yr})})})(Xe,Lt),Lt.each(Dt=>{Md(Dt.left,dt.top)})}B&&b.on(Ae),he()},Ce=()=>!(E||!B||!pe())&&b.get().exists(Ae=>{const Ie=L.getDockingMode(),Xe=(Lt=>{switch(gb(s)){case l4.auto:const Dt=vr.getToolbar(v.outerContainer),At=Ee(Dt),Jt=_r(Lt.element)-At,En=ta(i);if(En.y>Jt)return"top";{const zn=rl(i),Qn=Math.max(zn.dom.scrollHeight,_r(zn));return En.bottom<Qn-Jt||Aa().bottom<En.bottom-Jt?"bottom":"top"}case l4.bottom:return"bottom";case l4.top:default:return"top"}})(Ae);return Xe!==Ie&&(dt=Xe,b.on(Lt=>{Or.setModes(Lt,[dt]),L.setDockingMode(dt);const Dt=Z()?$u.TopToBottom:$u.BottomToTop;bn(Lt.element,rc,Dt)}),!0);var dt});return{isVisible:pe,isPositionedAtTop:Z,show:()=>{me.set(!0),po(v.outerContainer.element,"display","flex"),k.addClass(s.getBody(),"mce-edit-focus"),ht(C,Ae=>{Is(Ae.element,"display")}),Ce(),fp(s)?ge(Ae=>Or.isDocked(Ae)?Or.reset(Ae):Or.refresh(Ae)):ge(Or.refresh)},hide:()=>{me.set(!1),po(v.outerContainer.element,"display","none"),k.removeClass(s.getBody(),"mce-edit-focus"),ht(C,Ae=>{po(Ae.element,"display","none")})},update:ge,updateMode:()=>{Ce()&&ge(Or.reset)},repositionPopups:he}},OP=(s,i)=>{const u=ta(s);return{pos:i?u.y:u.bottom,bounds:u}};var Z$=Object.freeze({__proto__:null,render:(s,i,u,f,b)=>{const{mainUi:v}=i,C=bs(),k=xn(b.targetNode),E=j$(s,k,i,f,C),B=SD(s);O$(s);const $=()=>{if(C.isSet())return void E.show();C.set(vr.getHeader(v.outerContainer).getOrDie());const Z=lS(s);fp(s)?(Et(k,v.mothership),Et(k,i.popupUi.mothership)):Yx(Z,v.mothership),Yx(Z,i.dialogUi.mothership);const Q=()=>{EP(s,i,u,f),vr.setMenubar(v.outerContainer,sP(s,u)),E.show(),((se,me,pe,Ee)=>{const he=Hn(OP(me,pe.isPositionedAtTop())),ge=Xe=>{const{pos:dt,bounds:Lt}=OP(me,pe.isPositionedAtTop()),{pos:Dt,bounds:At}=he.get(),Jt=Lt.height!==At.height||Lt.width!==At.width;he.set({pos:dt,bounds:Lt}),Jt&&b0(se,Xe),pe.isVisible()&&(Dt!==dt?pe.update(Or.reset):Jt&&(pe.updateMode(),pe.repositionPopups()))};Ee||(se.on("activate",pe.show),se.on("deactivate",pe.hide)),se.on("SkinLoaded ResizeWindow",()=>pe.update(Or.reset)),se.on("NodeChange keydown",Xe=>{requestAnimationFrame(()=>ge(Xe))});let Ce=0;const Ae=BT(()=>pe.update(Or.refresh),33);se.on("ScrollWindow",()=>{const Xe=ir().left;Xe!==Ce&&(Ce=Xe,Ae.throttle()),pe.updateMode()}),fp(se)&&se.on("ElementScroll",Xe=>{pe.update(Or.refresh)});const Ie=_c();Ie.set(Hx(xn(se.getBody()),"load",Xe=>ge(Xe.raw))),se.on("remove",()=>{Ie.clear()})})(s,k,E,B),s.nodeChanged()};B?s.once("SkinLoaded",Q):Q()};s.on("show",$),s.on("hide",E.hide),B||(s.on("focus",$),s.on("blur",E.hide)),s.on("init",()=>{(s.hasFocus()||B)&&$()}),SN(s,i);const L={show:$,hide:E.hide,setEnabled:Z=>{h0(i,!Z)},isEnabled:()=>!wo.isDisabled(v.outerContainer)};return{editorContainer:v.outerContainer.element.dom,api:L}}});const RP="contexttoolbar-hide",DP=(s,i)=>Rt(m_,(u,f)=>{const b=(v=>({hide:()=>Mo(v,Fh()),getValue:()=>vt.getValue(v)}))(s.get(u));i.onAction(b,f.event.buttonApi)}),K$=(s,i)=>{const u=s.label.fold(()=>({}),v=>({"aria-label":v})),f=$s(mp.sketch({inputClasses:["tox-toolbar-textfield","tox-toolbar-nav-js"],data:s.initValue(),inputAttributes:u,selectOnFocus:!0,inputBehaviours:en([qn.config({mode:"special",onEnter:v=>b.findPrimary(v).map(C=>(qd(C),!0)),onLeft:(v,C)=>(C.cut(),P.none()),onRight:(v,C)=>(C.cut(),P.none())})])})),b=((v,C,k)=>{const E=$e(C,B=>$s((($,L,Z)=>(Q=>Q.type==="contextformtogglebutton")(L)?((Q,se,me)=>{const{primary:pe,...Ee}=se.original,he=wi(_S({...Ee,type:"togglebutton",onAction:j}));return kP(he,me,[DP(Q,se)])})($,L,Z):((Q,se,me)=>{const{primary:pe,...Ee}=se.original,he=wi(mN({...Ee,type:"button",onAction:j}));return _P(he,me,[DP(Q,se)])})($,L,Z))(v,B,k)));return{asSpecs:()=>$e(E,B=>B.asSpec()),findPrimary:B=>fn(C,($,L)=>$.primary?P.from(E[L]).bind(Z=>Z.getOpt(B)).filter(Fe(wo.isDisabled)):P.none())}})(f,s.commands,i);return[{title:P.none(),items:[f.asSpec()]},{title:P.none(),items:b.asSpecs()}]},NP=(s,i,u)=>i.bottom-s.y>=u&&s.bottom-i.y>=u,c4=s=>{const i=(u=>{const f=u.getBoundingClientRect();if(f.height<=0&&f.width<=0){const b=We(xn(u.startContainer),u.startOffset).element;return(ei(b)?Ea(b):P.some(b)).filter(ar).map(v=>v.dom.getBoundingClientRect()).getOr(f)}return f})(s.selection.getRng());if(s.inline){const u=ir();return Ho(u.left+i.left,u.top+i.top,i.width,i.height)}{const u=Li(xn(s.getBody()));return Ho(u.x+i.left,u.y+i.top,i.width,i.height)}},IP=(s,i,u,f=0)=>{const b=va(window),v=ta(xn(s.getContentAreaContainer())),C=C2(s)||S2(s)||_2(s),{x:k,width:E}=((B,$,L)=>{const Z=Math.max(B.x+L,$.x);return{x:Z,width:Math.min(B.right-L,$.right)-Z}})(v,b,f);if(s.inline&&!C)return Ho(k,b.y,E,b.height);{const B=i.header.isPositionedAtTop(),{y:$,bottom:L}=((Z,Q,se,me,pe,Ee)=>{const he=xn(Z.getContainer()),ge=Rr(he,".tox-editor-header").getOr(he),Ce=ta(ge),Ae=Ce.y>=Q.bottom,Ie=me&&!Ae;if(Z.inline&&Ie)return{y:Math.max(Ce.bottom+Ee,se.y),bottom:se.bottom};if(Z.inline&&!Ie)return{y:se.y,bottom:Math.min(Ce.y-Ee,se.bottom)};const Xe=pe==="line"?ta(he):Q;return Ie?{y:Math.max(Ce.bottom+Ee,se.y),bottom:Math.min(Xe.bottom-Ee,se.bottom)}:{y:Math.max(Xe.y+Ee,se.y),bottom:Math.min(Ce.y-Ee,se.bottom)}})(s,v,b,B,u,f);return Ho(k,$,E,L-$)}},u4={valignCentre:[],alignCentre:[],alignLeft:["tox-pop--align-left"],alignRight:["tox-pop--align-right"],right:["tox-pop--right"],left:["tox-pop--left"],bottom:["tox-pop--bottom"],top:["tox-pop--top"],inset:["tox-pop--inset"]},D0={maxHeightFunction:np(),maxWidthFunction:V3()},Vb=s=>s==="node",q$=(s,i,u,f,b)=>{const v=c4(s),C=f.lastElement().exists(k=>os(u,k));return((k,E)=>{const B=k.selection.getRng(),$=We(xn(B.startContainer),B.startOffset);return B.startContainer===B.endContainer&&B.startOffset===B.endOffset-1&&os($.element,E)})(s,u)?C?k_:Ss:C?((k,E,B)=>{const $=jr(k,"position");po(k,"position",E);const L=NP(v,ta(i),-20)&&!f.isReposition()?b3:k_;return $.each(Z=>po(k,"position",Z)),L})(i,f.getMode()):(f.getMode()==="fixed"?b.y+ir().top:b.y)+(_r(i)+12)<=v.y?Ss:ch},PP=(s,i,u,f)=>{const b=C=>(k,E,B,$,L)=>({...q$(s,$,C,u,L)({...k,y:L.y,height:L.height},E,B,$,L),alwaysFit:!0}),v=C=>Vb(f)?[b(C)]:[];return i?{onLtr:C=>[fa,Gr,Yr,wa,qs,Wr].concat(v(C)),onRtl:C=>[fa,Yr,Gr,qs,wa,Wr].concat(v(C))}:{onLtr:C=>[Wr,fa,wa,Gr,qs,Yr].concat(v(C)),onRtl:C=>[Wr,fa,qs,Yr,wa,Gr].concat(v(C))}},H_=(s,i)=>{const u=mn(i,v=>v.predicate(s.dom)),{pass:f,fail:b}=Dn(u,v=>v.type==="contexttoolbar");return{contextToolbars:f,contextForms:b}},z_=(s,i)=>{const u={},f=[],b=[],v={},C={},k=qt(s);return ht(k,E=>{const B=s[E];B.type==="contextform"?(($,L)=>{const Z=wi(kr("ContextForm",hF,L));u[$]=Z,Z.launch.map(Q=>{v["form:"+$]={...L.launch,type:Q.type==="contextformtogglebutton"?"togglebutton":"button",onAction:()=>{i(Z)}}}),Z.scope==="editor"?b.push(Z):f.push(Z),C[$]=Z})(E,B):B.type==="contexttoolbar"&&(($,L)=>{var Z;(Z=L,kr("ContextToolbar",hN,Z)).each(Q=>{L.scope==="editor"?b.push(Q):f.push(Q),C[$]=Q})})(E,B)}),{forms:u,inNodeScope:f,inEditorScope:b,lookupTable:C,formNavigators:v}},BP=In("forward-slide"),Iy=In("backward-slide"),N0=In("change-slide-event"),d4="tox-pop--resizing",f4="tox-pop--transition",G$=(s,i,u,f)=>{const b=f.backstage,v=b.shared,C=Fa().deviceType.isTouch,k=bs(),E=bs(),B=bs(),$=_i((Ie=>{const Xe=Hn([]);return Br.sketch({dom:{tag:"div",classes:["tox-pop"]},fireDismissalEventInstead:{event:"doNotDismissYet"},onShow:dt=>{Xe.set([]),Br.getContent(dt).each(Lt=>{Is(Lt.element,"visibility")}),Ro(dt.element,d4),Is(dt.element,"width")},inlineBehaviours:en([Fo("context-toolbar-events",[Gd(Mh(),(dt,Lt)=>{Lt.event.raw.propertyName==="width"&&(Ro(dt.element,d4),Is(dt.element,"width"))}),Rt(N0,(dt,Lt)=>{const Dt=dt.element;Is(Dt,"width");const At=La(Dt);Br.setContent(dt,Lt.event.contents),Mn(Dt,d4);const Jt=La(Dt);po(Dt,"width",At+"px"),Br.getContent(dt).each(En=>{Lt.event.focus.bind(zn=>(El(zn),ma(Dt))).orThunk(()=>(qn.focusIn(En),ad(bt(Dt))))}),setTimeout(()=>{po(dt.element,"width",Jt+"px")},0)}),Rt(BP,(dt,Lt)=>{Br.getContent(dt).each(Dt=>{Xe.set(Xe.get().concat([{bar:Dt,focus:ad(bt(dt.element))}]))}),jn(dt,N0,{contents:Lt.event.forwardContents,focus:P.none()})}),Rt(Iy,(dt,Lt)=>{Ye(Xe.get()).each(Dt=>{Xe.set(Xe.get().slice(0,Xe.get().length-1)),jn(dt,N0,{contents:Vl(Dt.bar),focus:Dt.focus})})})]),qn.config({mode:"special",onEscape:dt=>Ye(Xe.get()).fold(()=>Ie.onEscape(),Lt=>(Mo(dt,Iy),P.some(!0)))})]),lazySink:()=>Go.value(Ie.sink)})})({sink:u,onEscape:()=>(s.focus(),P.some(!0))})),L=()=>{const Ie=B.get().getOr("node"),Xe=Vb(Ie)?1:0;return IP(s,v,Ie,Xe)},Z=()=>!(s.removed||C()&&b.isContextMenuOpen()),Q=()=>{if(Z()){const Ie=L(),Xe=ia(B.get(),"node")?((dt,Lt)=>Lt.filter(Dt=>yn(Dt)&&bl(Dt)).map(Li).getOrThunk(()=>c4(dt)))(s,k.get()):c4(s);return Ie.height<=0||!NP(Xe,Ie,.01)}return!0},se=()=>{k.clear(),E.clear(),B.clear(),Br.hide($)},me=()=>{if(Br.isOpen($)){const Ie=$.element;Is(Ie,"display"),Q()?po(Ie,"display","none"):(E.set(0),Br.reposition($))}},pe=Ie=>({dom:{tag:"div",classes:["tox-pop__dialog"]},components:[Ie],behaviours:en([qn.config({mode:"acyclic"}),Fo("pop-dialog-wrap-events",[cr(Xe=>{s.shortcuts.add("ctrl+F9","focus statusbar",()=>qn.focusIn(Xe))}),Du(Xe=>{s.shortcuts.remove("ctrl+F9")})])])}),Ee=ni(()=>z_(i,Ie=>{const Xe=he([Ie]);jn($,BP,{forwardContents:pe(Xe)})})),he=Ie=>{const{buttons:Xe}=s.ui.registry.getAll(),dt={...Xe,...Ee().formNavigators},Lt=i0(s)===tf.scrolling?tf.scrolling:tf.default,Dt=tn($e(Ie,At=>At.type==="contexttoolbar"?((Jt,En)=>V_(s,{buttons:Jt,toolbar:En.items,allowToolbarGroups:!1},f.backstage,P.some(["form:"])))(dt,At):((Jt,En)=>K$(Jt,En))(At,v.providers)));return j3({type:Lt,uid:In("context-toolbar"),initGroups:Dt,onEscape:P.none,cyclicKeying:!0,providers:v.providers})},ge=(Ie,Xe)=>{if(Ae.cancel(),!Z())return;const dt=he(Ie),Lt=Ie[0].position,Dt=((Jt,En)=>{const zn=Jt==="node"?v.anchors.node(En):v.anchors.cursor(),Qn=((Co,es,yr,Dr)=>es==="line"?{bubble:su(12,0,u4),layouts:{onLtr:()=>[R1],onRtl:()=>[D1]},overrides:D0}:{bubble:su(0,12,u4,1/12),layouts:PP(Co,yr,Dr,es),overrides:D0})(s,Jt,C(),{lastElement:k.get,isReposition:()=>ia(E.get(),0),getMode:()=>qi.getMode(u)});return Ws(zn,Qn)})(Lt,Xe);B.set(Lt),E.set(1);const At=$.element;Is(At,"display"),(Jt=>ia(Yt(Jt,k.get(),os),!0))(Xe)||(Ro(At,f4),qi.reset(u,$)),Br.showWithinBounds($,pe(dt),{anchor:Dt,transition:{classes:[f4],mode:"placement"}},()=>P.some(L())),Xe.fold(k.clear,k.set),Q()&&po(At,"display","none")};let Ce=!1;const Ae=BT(()=>{!s.hasFocus()||s.removed||Ce||(Zo($.element,f4)?Ae.throttle():((Ie,Xe)=>{const dt=xn(Xe.getBody()),Lt=At=>os(At,dt),Dt=xn(Xe.selection.getNode());return(At=>!Lt(At)&&!$r(dt,At))(Dt)?P.none():((At,Jt,En)=>{const zn=H_(At,Jt);if(zn.contextForms.length>0)return P.some({elem:At,toolbars:[zn.contextForms[0]]});{const Qn=H_(At,En);if(Qn.contextForms.length>0)return P.some({elem:At,toolbars:[Qn.contextForms[0]]});if(zn.contextToolbars.length>0||Qn.contextToolbars.length>0){const Co=(es=>{if(es.length<=1)return es;{const yr=ao=>Tn(es,Nr=>Nr.position===ao),Dr=ao=>mn(es,Nr=>Nr.position===ao),$o=yr("selection"),ys=yr("node");if($o||ys){if(ys&&$o){const ao=Dr("node"),Nr=$e(Dr("selection"),Ys=>({...Ys,position:"node"}));return ao.concat(Nr)}return Dr($o?"selection":"node")}return Dr("line")}})(zn.contextToolbars.concat(Qn.contextToolbars));return P.some({elem:At,toolbars:Co})}return P.none()}})(Dt,Ie.inNodeScope,Ie.inEditorScope).orThunk(()=>((At,Jt,En)=>At(Jt)?P.none():td(Jt,zn=>{if(ar(zn)){const{contextToolbars:Qn,contextForms:Co}=H_(zn,En.inNodeScope),es=Co.length>0?Co:(yr=>{if(yr.length<=1)return yr;{const Dr=$o=>te(yr,ys=>ys.position===$o);return Dr("selection").orThunk(()=>Dr("node")).orThunk(()=>Dr("line")).map($o=>$o.position).fold(()=>[],$o=>mn(yr,ys=>ys.position===$o))}})(Qn);return es.length>0?P.some({elem:zn,toolbars:es}):P.none()}return P.none()},At))(Lt,Dt,Ie))})(Ee(),s).fold(se,Ie=>{ge(Ie.toolbars,P.some(Ie.elem))}))},17);s.on("init",()=>{s.on("remove",se),s.on("ScrollContent ScrollWindow ObjectResized ResizeEditor longpress",me),s.on("click keyup focus SetContent",Ae.throttle),s.on(RP,se),s.on("contexttoolbar-show",Ie=>{const Xe=Ee();on(Xe.lookupTable,Ie.toolbarKey).each(dt=>{ge([dt],Vo(Ie.target!==s,Ie.target)),Br.getContent($).each(qn.focusIn)})}),s.on("focusout",Ie=>{XC.setEditorTimeout(s,()=>{ma(u.element).isNone()&&ma($.element).isNone()&&se()},0)}),s.on("SwitchMode",()=>{s.mode.isReadOnly()&&se()}),s.on("ExecCommand",({command:Ie})=>{Ie.toLowerCase()==="toggleview"&&se()}),s.on("AfterProgressState",Ie=>{Ie.state?se():s.hasFocus()&&Ae.throttle()}),s.on("dragstart",()=>{Ce=!0}),s.on("dragend drop",()=>{Ce=!1}),s.on("NodeChange",Ie=>{ma($.element).fold(Ae.throttle,j)})})},MP=(s,i)=>{const u=()=>{const f=i.getOptions(s),b=i.getCurrent(s).map(i.hash),v=bs();return $e(f,C=>({type:"togglemenuitem",text:i.display(C),onSetup:k=>{const E=$=>{$&&(v.on(L=>L.setActive(!1)),v.set(k)),k.setActive($)};E(ia(b,i.hash(C)));const B=i.watcher(s,C,E);return()=>{v.clear(),B()}},onAction:()=>i.setCurrent(s,C)}))};s.ui.registry.addMenuButton(i.name,{tooltip:i.text,icon:i.icon,fetch:f=>f(u()),onSetup:i.onToolbarSetup}),s.ui.registry.addNestedMenuItem(i.name,{type:"nestedmenuitem",text:i.text,getSubmenuItems:u,onSetup:i.onMenuSetup})},Y$=s=>{MP(s,(i=>({name:"lineheight",text:"Line height",icon:"line-height",getOptions:RD,hash:u=>((f,b)=>$_(f,["fixed","relative","empty"]).map(({value:v,unit:C})=>v+C))(u).getOr(u),display:de,watcher:(u,f,b)=>u.formatter.formatChanged("lineheight",b,!1,{value:f}).unbind,getCurrent:u=>P.from(u.queryCommandValue("LineHeight")),setCurrent:(u,f)=>u.execCommand("LineHeight",!1,f),onToolbarSetup:ui(i),onMenuSetup:ui(i)}))(s)),(i=>P.from(GE(i)).map(u=>({name:"language",text:"Language",icon:"language",getOptions:q(u),hash:f=>N(f.customCode)?f.code:`${f.code}/${f.customCode}`,display:f=>f.title,watcher:(f,b,v)=>{var C;return f.formatter.formatChanged("lang",v,!1,{value:b.code,customValue:(C=b.customCode)!==null&&C!==void 0?C:null}).unbind},getCurrent:f=>{const b=xn(f.selection.getNode());return Hf(b,v=>P.some(v).filter(ar).bind(C=>is(C,"lang").map(k=>({code:k,customCode:is(C,"data-mce-lang").getOrUndefined(),title:""}))))},setCurrent:(f,b)=>f.execCommand("Lang",!1,b),onToolbarSetup:f=>{const b=_c();return f.setActive(i.formatter.match("lang",{},void 0,!0)),b.set(i.formatter.formatChanged("lang",f.setActive,!0)),py(b.clear,ui(i)(f))},onMenuSetup:ui(i)})))(s).each(i=>MP(s,i))},X$=s=>v0(s,"NodeChange",i=>{i.setEnabled(s.queryCommandState("outdent")&&s.selection.isEditable())}),kw=(s,i)=>u=>{u.setActive(i.get());const f=b=>{i.set(b.state),u.setActive(b.state)};return s.on("PastePlainTextToggle",f),py(()=>s.off("PastePlainTextToggle",f),ui(s)(u))},m4=(s,i)=>()=>{s.execCommand("mceToggleFormat",!1,i)},g4=s=>{(i=>{(u=>{xp.each([{name:"bold",text:"Bold",icon:"bold",shortcut:"Meta+B"},{name:"italic",text:"Italic",icon:"italic",shortcut:"Meta+I"},{name:"underline",text:"Underline",icon:"underline",shortcut:"Meta+U"},{name:"strikethrough",text:"Strikethrough",icon:"strike-through"},{name:"subscript",text:"Subscript",icon:"subscript"},{name:"superscript",text:"Superscript",icon:"superscript"}],(f,b)=>{u.ui.registry.addToggleButton(f.name,{tooltip:f.text,icon:f.icon,onSetup:og(u,f.name),onAction:m4(u,f.name),shortcut:f.shortcut})});for(let f=1;f<=6;f++){const b="h"+f,v=`Access+${f}`;u.ui.registry.addToggleButton(b,{text:b.toUpperCase(),tooltip:"Heading "+f,onSetup:og(u,b),onAction:m4(u,b),shortcut:v})}})(i),(u=>{xp.each([{name:"copy",text:"Copy",action:"Copy",icon:"copy"},{name:"help",text:"Help",action:"mceHelp",icon:"help",shortcut:"Alt+0"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all",shortcut:"Meta+A"},{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document"},{name:"print",text:"Print",action:"mcePrint",icon:"print",shortcut:"Meta+P"}],f=>{u.ui.registry.addButton(f.name,{tooltip:f.text,icon:f.icon,onAction:iu(u,f.action),shortcut:f.shortcut})}),xp.each([{name:"cut",text:"Cut",action:"Cut",icon:"cut"},{name:"paste",text:"Paste",action:"Paste",icon:"paste"},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting"},{name:"remove",text:"Remove",action:"Delete",icon:"remove"},{name:"hr",text:"Horizontal line",action:"InsertHorizontalRule",icon:"horizontal-rule"}],f=>{u.ui.registry.addButton(f.name,{tooltip:f.text,icon:f.icon,onSetup:ui(u),onAction:iu(u,f.action)})})})(i),(u=>{xp.each([{name:"blockquote",text:"Blockquote",action:"mceBlockQuote",icon:"quote"}],f=>{u.ui.registry.addToggleButton(f.name,{tooltip:f.text,icon:f.icon,onAction:iu(u,f.action),onSetup:og(u,f.name)})})})(i)})(s),(i=>{xp.each([{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document"},{name:"copy",text:"Copy",action:"Copy",icon:"copy",shortcut:"Meta+C"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all",shortcut:"Meta+A"},{name:"print",text:"Print...",action:"mcePrint",icon:"print",shortcut:"Meta+P"}],u=>{i.ui.registry.addMenuItem(u.name,{text:u.text,icon:u.icon,shortcut:u.shortcut,onAction:iu(i,u.action)})}),xp.each([{name:"bold",text:"Bold",action:"Bold",icon:"bold",shortcut:"Meta+B"},{name:"italic",text:"Italic",action:"Italic",icon:"italic",shortcut:"Meta+I"},{name:"underline",text:"Underline",action:"Underline",icon:"underline",shortcut:"Meta+U"},{name:"strikethrough",text:"Strikethrough",action:"Strikethrough",icon:"strike-through"},{name:"subscript",text:"Subscript",action:"Subscript",icon:"subscript"},{name:"superscript",text:"Superscript",action:"Superscript",icon:"superscript"},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting"},{name:"cut",text:"Cut",action:"Cut",icon:"cut",shortcut:"Meta+X"},{name:"paste",text:"Paste",action:"Paste",icon:"paste",shortcut:"Meta+V"},{name:"hr",text:"Horizontal line",action:"InsertHorizontalRule",icon:"horizontal-rule"}],u=>{i.ui.registry.addMenuItem(u.name,{text:u.text,icon:u.icon,shortcut:u.shortcut,onSetup:ui(i),onAction:iu(i,u.action)})}),i.ui.registry.addMenuItem("codeformat",{text:"Code",icon:"sourcecode",onSetup:ui(i),onAction:m4(i,"code")})})(s)},U_=(s,i)=>v0(s,"Undo Redo AddUndo TypingUndo ClearUndos SwitchMode",u=>{u.setEnabled(!s.mode.isReadOnly()&&s.undoManager[i]())}),J$=s=>v0(s,"VisualAid",i=>{i.setActive(s.hasVisual)}),Q$=(s,i)=>{(u=>{ht([{name:"alignleft",text:"Align left",cmd:"JustifyLeft",icon:"align-left"},{name:"aligncenter",text:"Align center",cmd:"JustifyCenter",icon:"align-center"},{name:"alignright",text:"Align right",cmd:"JustifyRight",icon:"align-right"},{name:"alignjustify",text:"Justify",cmd:"JustifyFull",icon:"align-justify"}],f=>{u.ui.registry.addToggleButton(f.name,{tooltip:f.text,icon:f.icon,onAction:iu(u,f.cmd),onSetup:og(u,f.name)})}),u.ui.registry.addButton("alignnone",{tooltip:"No alignment",icon:"align-none",onSetup:ui(u),onAction:iu(u,"JustifyNone")})})(s),g4(s),((u,f)=>{((b,v)=>{const C=Ny(v,J3(b));b.ui.registry.addNestedMenuItem("align",{text:v.shared.providers.translate("Align"),onSetup:ui(b),getSubmenuItems:()=>C.items.validateItems(C.getStyleItems())})})(u,f),((b,v)=>{const C=Ny(v,gP(b));b.ui.registry.addNestedMenuItem("fontfamily",{text:v.shared.providers.translate("Fonts"),onSetup:ui(b),getSubmenuItems:()=>C.items.validateItems(C.getStyleItems())})})(u,f),((b,v)=>{const C={type:"advanced",...v.styles},k=Ny(v,wP(b,C));b.ui.registry.addNestedMenuItem("styles",{text:"Formats",onSetup:ui(b),getSubmenuItems:()=>k.items.validateItems(k.getStyleItems())})})(u,f),((b,v)=>{const C=Ny(v,t4(b));b.ui.registry.addNestedMenuItem("blocks",{text:"Blocks",onSetup:ui(b),getSubmenuItems:()=>C.items.validateItems(C.getStyleItems())})})(u,f),((b,v)=>{const C=Ny(v,yP(b));b.ui.registry.addNestedMenuItem("fontsize",{text:"Font sizes",onSetup:ui(b),getSubmenuItems:()=>C.items.validateItems(C.getStyleItems())})})(u,f)})(s,i),(u=>{(f=>{f.ui.registry.addMenuItem("undo",{text:"Undo",icon:"undo",shortcut:"Meta+Z",onSetup:U_(f,"hasUndo"),onAction:iu(f,"undo")}),f.ui.registry.addMenuItem("redo",{text:"Redo",icon:"redo",shortcut:"Meta+Y",onSetup:U_(f,"hasRedo"),onAction:iu(f,"redo")})})(u),(f=>{f.ui.registry.addButton("undo",{tooltip:"Undo",icon:"undo",enabled:!1,onSetup:U_(f,"hasUndo"),onAction:iu(f,"undo"),shortcut:"Meta+Z"}),f.ui.registry.addButton("redo",{tooltip:"Redo",icon:"redo",enabled:!1,onSetup:U_(f,"hasRedo"),onAction:iu(f,"redo"),shortcut:"Meta+Y"})})(u)})(s),(u=>{(k=>{k.addCommand("mceApplyTextcolor",(E,B)=>{(($,L,Z)=>{$.undoManager.transact(()=>{$.focus(),$.formatter.apply(L,{value:Z}),$.nodeChanged()})})(k,E,B)}),k.addCommand("mceRemoveTextcolor",E=>{((B,$)=>{B.undoManager.transact(()=>{B.focus(),B.formatter.remove($,{value:null},void 0,!0),B.nodeChanged()})})(k,E)})})(u);const f=UN(u),b=WN(u),v=Hn(f),C=Hn(b);KA(u,"forecolor","forecolor",v),KA(u,"backcolor","hilitecolor",C),vy(u,"forecolor","forecolor","Text color",v),vy(u,"backcolor","hilitecolor","Background color",C)})(s),(u=>{(f=>{f.ui.registry.addButton("visualaid",{tooltip:"Visual aids",text:"Visual aids",onAction:iu(f,"mceToggleVisualAid")})})(u),(f=>{f.ui.registry.addToggleMenuItem("visualaid",{text:"Visual aids",onSetup:J$(f),onAction:iu(f,"mceToggleVisualAid")})})(u)})(s),(u=>{(f=>{f.ui.registry.addButton("outdent",{tooltip:"Decrease indent",icon:"outdent",onSetup:X$(f),onAction:iu(f,"outdent")}),f.ui.registry.addButton("indent",{tooltip:"Increase indent",icon:"indent",onSetup:ui(f),onAction:iu(f,"indent")})})(u)})(s),Y$(s),(u=>{const f=Hn(TD(u)),b=()=>u.execCommand("mceTogglePlainTextPaste");u.ui.registry.addToggleButton("pastetext",{active:!1,icon:"paste-text",tooltip:"Paste as text",onAction:b,onSetup:kw(u,f)}),u.ui.registry.addToggleMenuItem("pastetext",{text:"Paste as text",icon:"paste-text",onAction:b,onSetup:kw(u,f)})})(s)},LP=s=>g(s)?s.split(/[ ,]/):s,FP=s=>i=>i.options.get(s),$P=FP("contextmenu_never_use_native"),eV=FP("contextmenu_avoid_overlap"),h4=s=>{const i=s.ui.registry.getAll().contextMenus,u=s.options.get("contextmenu");return s.options.isSet("contextmenu")?u:mn(u,f=>ro(i,f))},Ew=(s,i)=>({type:"makeshift",x:s,y:i}),VP=s=>s.type==="longpress"||s.type.indexOf("touch")===0,tV=(s,i)=>i.type==="contextmenu"||i.type==="longpress"?s.inline?(u=>{if(VP(u)){const f=u.touches[0];return Ew(f.pageX,f.pageY)}return Ew(u.pageX,u.pageY)})(i):((u,f)=>{const b=oy.DOM.getPos(u);return((v,C,k)=>Ew(v.x+C,v.y+k))(f,b.x,b.y)})(s.getContentAreaContainer(),(u=>{if(VP(u)){const f=u.touches[0];return Ew(f.clientX,f.clientY)}return Ew(u.clientX,u.clientY)})(i)):HP(s),HP=s=>({type:"selection",root:xn(s.selection.getNode())}),zP=(s,i,u)=>{switch(u){case"node":return(f=>({type:"node",node:P.some(xn(f.selection.getNode())),root:xn(f.getBody())}))(s);case"point":return tV(s,i);case"selection":return HP(s)}},UP=(s,i,u,f,b,v)=>{const C=u(),k=zP(s,i,v);E0(C,ng.CLOSE_ON_EXECUTE,f,{isHorizontalMenu:!1,search:P.none()}).map(E=>{i.preventDefault(),Br.showMenuAt(b,{anchor:k},{menu:{markers:d0("normal")},data:E})})},WP={onLtr:()=>[fa,Gr,Yr,wa,qs,Wr,Ss,ch,mw,Lb,cu,lu],onRtl:()=>[fa,Yr,Gr,qs,wa,Wr,Ss,ch,cu,lu,mw,Lb]},nV={valignCentre:[],alignCentre:[],alignLeft:["tox-pop--align-left"],alignRight:["tox-pop--align-right"],right:["tox-pop--right"],left:["tox-pop--left"],bottom:["tox-pop--bottom"],top:["tox-pop--top"]},oV=(s,i,u,f,b,v)=>{const C=Fa(),k=C.os.isiOS(),E=C.os.isMacOS(),B=C.os.isAndroid(),$=C.deviceType.isTouch(),L=()=>{const Z=u();((Q,se,me,pe,Ee,he,ge)=>{const Ce=((Ae,Ie,Xe)=>{const dt=zP(Ae,Ie,Xe);return{bubble:su(0,Xe==="point"?12:0,nV),layouts:WP,overrides:{maxWidthFunction:V3(),maxHeightFunction:np()},...dt}})(Q,se,he);E0(me,ng.CLOSE_ON_EXECUTE,pe,{isHorizontalMenu:!0,search:P.none()}).map(Ae=>{se.preventDefault();const Ie=ge?Wl.HighlightMenuAndItem:Wl.HighlightNone;Br.showMenuWithinBounds(Ee,{anchor:Ce},{menu:{markers:d0("normal"),highlightOnOpen:Ie},data:Ae,type:"horizontal"},()=>P.some(IP(Q,pe.shared,he==="node"?"node":"selection"))),Q.dispatch(RP)})})(s,i,Z,f,b,v,!(B||k||E&&$))};if((E||k)&&v!=="node"){const Z=()=>{(Q=>{const se=Q.selection.getRng(),me=()=>{XC.setEditorTimeout(Q,()=>{Q.selection.setRng(se)},10),he()};Q.once("touchend",me);const pe=ge=>{ge.preventDefault(),ge.stopImmediatePropagation()};Q.on("mousedown",pe,!0);const Ee=()=>he();Q.once("longpresscancel",Ee);const he=()=>{Q.off("touchend",me),Q.off("longpresscancel",Ee),Q.off("mousedown",pe)}})(s),L()};((Q,se)=>{const me=Q.selection;if(me.isCollapsed()||se.touches.length<1)return!1;{const pe=se.touches[0],Ee=me.getRng();return jx(Q.getWin(),Wm.domRange(Ee)).exists(he=>he.left<=pe.clientX&&he.right>=pe.clientX&&he.top<=pe.clientY&&he.bottom>=pe.clientY)}})(s,i)?Z():(s.once("selectionchange",Z),s.once("touchend",()=>s.off("selectionchange",Z)))}else L()},jP=s=>g(s)?s==="|":s.type==="separator",p4={type:"separator"},ZP=s=>{const i=u=>({text:u.text,icon:u.icon,enabled:u.enabled,shortcut:u.shortcut});if(g(s))return s;switch(s.type){case"separator":return p4;case"submenu":return{type:"nestedmenuitem",...i(s),getSubmenuItems:()=>{const f=s.getSubmenuItems();return g(f)?f:$e(f,ZP)}};default:const u=s;return{type:"menuitem",...i(u),onAction:fe(u.onAction)}}},b4=(s,i)=>{if(i.length===0)return s;const u=Ye(s).filter(f=>!jP(f)).fold(()=>[],f=>[p4]);return s.concat(u).concat(i).concat([p4])},I0=(s,i)=>!(u=>u.type==="longpress"||ro(u,"touches"))(i)&&(i.button!==2||i.target===s.getBody()&&i.pointerType===""),KP=(s,i)=>I0(s,i)?s.selection.getStart(!0):i.target,sV=(s,i,u)=>{const f=Fa().deviceType.isTouch,b=_i(Br.sketch({dom:{tag:"div"},lazySink:i,onEscape:()=>s.focus(),onShow:()=>u.setContextMenuState(!0),onHide:()=>u.setContextMenuState(!1),fireDismissalEventInstead:{},inlineBehaviours:en([Fo("dismissContextMenu",[Rt(Im(),(k,E)=>{D.close(k),s.focus()})])])})),v=()=>Br.hide(b),C=k=>{if($P(s)&&k.preventDefault(),((B,$)=>$.ctrlKey&&!$P(B))(s,k)||(B=>h4(B).length===0)(s))return;const E=((B,$)=>{const L=eV(B),Z=I0(B,$)?"selection":"point";if(pl(L)){const Q=KP(B,$);return xy(xn(Q),L)?"node":Z}return Z})(s,k);(f()?oV:UP)(s,k,()=>{const B=KP(s,k),$=s.ui.registry.getAll(),L=h4(s);return((Z,Q,se)=>{const me=Gt(Q,(pe,Ee)=>on(Z,Ee.toLowerCase()).map(he=>{const ge=he.update(se);if(g(ge)&&pl(xc(ge)))return b4(pe,ge.split(" "));if(A(ge)&&ge.length>0){const Ce=$e(ge,ZP);return b4(pe,Ce)}return pe}).getOrThunk(()=>pe.concat([Ee])),[]);return me.length>0&&jP(me[me.length-1])&&me.pop(),me})($.contextMenus,L,B)},u,b,E)};s.on("init",()=>{const k="ResizeEditor ScrollContent ScrollWindow longpresscancel"+(f()?"":" ResizeWindow");s.on(k,v),s.on("longpress contextmenu",C)})},v4=ii([{offset:["x","y"]},{absolute:["x","y"]},{fixed:["x","y"]}]),P0=s=>i=>i.translate(-s.left,-s.top),uu=s=>i=>i.translate(s.left,s.top),rg=s=>(i,u)=>Gt(s,(f,b)=>b(f),Qs(i,u)),Aw=(s,i,u)=>s.fold(rg([uu(u),P0(i)]),rg([P0(i)]),rg([])),Py=(s,i,u)=>s.fold(rg([uu(u)]),rg([]),rg([uu(i)])),qP=(s,i,u)=>s.fold(rg([]),rg([P0(u)]),rg([uu(i),P0(u)])),GP=(s,i,u)=>{const f=s.fold((b,v)=>({position:P.some("absolute"),left:P.some(b+"px"),top:P.some(v+"px")}),(b,v)=>({position:P.some("absolute"),left:P.some(b-u.left+"px"),top:P.some(v-u.top+"px")}),(b,v)=>({position:P.some("fixed"),left:P.some(b+"px"),top:P.some(v+"px")}));return{right:P.none(),bottom:P.none(),...f}},y4=(s,i,u,f)=>{const b=(v,C)=>(k,E)=>{const B=v(i,u,f);return C(k.getOr(B.left),E.getOr(B.top))};return s.fold(b(qP,Tw),b(Py,Sp),b(Aw,B0))},Tw=v4.offset,Sp=v4.absolute,B0=v4.fixed,YP=(s,i)=>{const u=Ko(s,i);return N(u)?NaN:parseInt(u,10)},XP=(s,i,u,f,b,v)=>{const C=((B,$,L,Z)=>((Q,se)=>{const me=Q.element,pe=YP(me,se.leftAttr),Ee=YP(me,se.topAttr);return isNaN(pe)||isNaN(Ee)?P.none():P.some(Qs(pe,Ee))})(B,$).fold(()=>L,Q=>B0(Q.left+Z.left,Q.top+Z.top)))(s,i,u,f),k=i.mustSnap?QP(s,i,C,b,v):e6(s,i,C,b,v),E=Aw(C,b,v);return((B,$,L)=>{const Z=B.element;bn(Z,$.leftAttr,L.left+"px"),bn(Z,$.topAttr,L.top+"px")})(s,i,E),k.fold(()=>({coord:B0(E.left,E.top),extra:P.none()}),B=>({coord:B.output,extra:B.extra}))},JP=(s,i,u,f)=>fn(s,b=>{const v=b.sensor;return((k,E,B,$,L,Z)=>{const Q=Py(k,L,Z),se=Py(E,L,Z);return Math.abs(Q.left-se.left)<=B&&Math.abs(Q.top-se.top)<=$})(i,v,b.range.left,b.range.top,u,f)?P.some({output:y4(b.output,i,u,f),extra:b.extra}):P.none()}),QP=(s,i,u,f,b)=>{const v=i.getSnapPoints(s);return JP(v,u,f,b).orThunk(()=>Gt(v,(k,E)=>{const B=E.sensor,$=((L,Z,Q,se,me,pe)=>{const Ee=Py(L,me,pe),he=Py(Z,me,pe),ge=Math.abs(Ee.left-he.left),Ce=Math.abs(Ee.top-he.top);return Qs(ge,Ce)})(u,B,E.range.left,E.range.top,f,b);return k.deltas.fold(()=>({deltas:P.some($),snap:P.some(E)}),L=>($.left+$.top)/2<=(L.left+L.top)/2?{deltas:P.some($),snap:P.some(E)}:k)},{deltas:P.none(),snap:P.none()}).snap.map(k=>({output:y4(k.output,u,f,b),extra:k.extra})))},e6=(s,i,u,f,b)=>{const v=i.getSnapPoints(s);return JP(v,u,f,b)};var t6=Object.freeze({__proto__:null,snapTo:(s,i,u,f)=>{const b=i.getTarget(s.element);if(i.repositionTarget){const v=la(s.element),C=ir(v),k=ou(b),E=(($,L,Z)=>({coord:y4($.output,$.output,L,Z),extra:$.extra}))(f,C,k),B=GP(E.coord,0,k);xl(b,B)}}});const x4="data-initial-z-index",n6=(s,i)=>{s.getSystem().addToGui(i),(u=>{Ea(u.element).filter(ar).each(f=>{jr(f,"z-index").each(b=>{bn(f,x4,b)}),po(f,"z-index",Sr(u.element,"z-index"))})})(i)},rV=s=>{(i=>{Ea(i.element).filter(ar).each(u=>{is(u,x4).fold(()=>Is(u,"z-index"),f=>po(u,"z-index",f)),Bo(u,x4)})})(s),s.getSystem().removeFromGui(s)},o6=(s,i,u)=>s.getSystem().build(lm.sketch({dom:{styles:{left:"0px",top:"0px",width:"100%",height:"100%",position:"fixed","z-index":"1000000000000000"},classes:[i]},events:u}));var aV=Er("snaps",[Ft("getSnapPoints"),vs("onSensor"),Ft("leftAttr"),Ft("topAttr"),mt("lazyViewport",Aa),mt("mustSnap",!1)]);const w4=[mt("useFixed",Oe),Ft("blockerClass"),mt("getTarget",de),mt("onDrag",j),mt("repositionTarget",!0),mt("onDrop",j),er("getBounds",Aa),aV],C4=s=>{return(i=jr(s,"left"),u=jr(s,"top"),f=jr(s,"position"),i.isSome()&&u.isSome()&&f.isSome()?P.some(((b,v,C)=>(C==="fixed"?B0:Tw)(parseInt(b,10),parseInt(v,10)))(i.getOrDie(),u.getOrDie(),f.getOrDie())):P.none()).getOrThunk(()=>{const b=Sl(s);return Sp(b.left,b.top)});var i,u,f},s6=(s,i)=>({bounds:s.getBounds(),height:al(i.element),width:Bi(i.element)}),S4=(s,i,u,f,b)=>{const v=u.update(f,b),C=u.getStartData().getOrThunk(()=>s6(i,s));v.each(k=>{((E,B,$,L)=>{const Z=B.getTarget(E.element);if(B.repositionTarget){const Q=la(E.element),se=ir(Q),me=ou(Z),pe=C4(Z),Ee=((ge,Ce,Ae,Ie,Xe,dt,Lt)=>((Dt,At,Jt,En,zn)=>{const Qn=zn.bounds,Co=Py(At,Jt,En),es=Pu(Co.left,Qn.x,Qn.x+Qn.width-zn.width),yr=Pu(Co.top,Qn.y,Qn.y+Qn.height-zn.height),Dr=Sp(es,yr);return At.fold(()=>{const $o=qP(Dr,Jt,En);return Tw($o.left,$o.top)},q(Dr),()=>{const $o=Aw(Dr,Jt,En);return B0($o.left,$o.top)})})(0,Ce.fold(()=>{const Dt=(At=Ae,Jt=dt.left,En=dt.top,At.fold((Qn,Co)=>Tw(Qn+Jt,Co+En),(Qn,Co)=>Sp(Qn+Jt,Co+En),(Qn,Co)=>B0(Qn+Jt,Co+En)));var At,Jt,En;const zn=Aw(Dt,Ie,Xe);return B0(zn.left,zn.top)},Dt=>{const At=XP(ge,Dt,Ae,dt,Ie,Xe);return At.extra.each(Jt=>{Dt.onSensor(ge,Jt)}),At.coord}),Ie,Xe,Lt))(E,B.snaps,pe,se,me,L,$),he=GP(Ee,0,me);xl(Z,he)}B.onDrag(E,Z,L)})(s,i,C,k)})},_4=(s,i,u,f)=>{i.each(rV),u.snaps.each(v=>{((C,k)=>{((E,B)=>{const $=E.element;Bo($,B.leftAttr),Bo($,B.topAttr)})(C,k)})(s,v)});const b=u.getTarget(s.element);f.reset(),u.onDrop(s,b)},k4=s=>(i,u)=>{const f=b=>{u.setStartData(s6(i,b))};return yo([Rt($h(),b=>{u.getStartData().each(()=>f(b))}),...s(i,u,f)])};var iV=Object.freeze({__proto__:null,getData:s=>P.from(Qs(s.x,s.y)),getDelta:(s,i)=>Qs(i.left-s.left,i.top-s.top)});const r6=(s,i,u)=>[Rt($t(),(f,b)=>{if(b.event.raw.button!==0)return;b.stop();const v=()=>_4(f,P.some(E),s,i),C=nT(v,200),k={drop:v,delayDrop:C.schedule,forceDrop:v,move:B=>{C.cancel(),S4(f,s,i,iV,B)}},E=o6(f,s.blockerClass,(B=>yo([Rt($t(),B.forceDrop),Rt(bo(),B.drop),Rt(oo(),($,L)=>{B.move(L.event)}),Rt(Eo(),B.delayDrop)]))(k));u(f),n6(f,E)})],lV=[...w4,ur("dragger",{handlers:k4(r6)})];var a6=Object.freeze({__proto__:null,getData:s=>{const i=s.raw.touches;return i.length===1?(u=>{const f=u[0];return P.some(Qs(f.clientX,f.clientY))})(i):P.none()},getDelta:(s,i)=>Qs(i.left-s.left,i.top-s.top)});const i6=(s,i,u)=>{const f=bs(),b=v=>{_4(v,f.get(),s,i),f.clear()};return[Rt(Y(),(v,C)=>{C.stop();const k=()=>b(v),E={drop:k,delayDrop:j,forceDrop:k,move:$=>{S4(v,s,i,a6,$)}},B=o6(v,s.blockerClass,($=>yo([Rt(Y(),$.forceDrop),Rt(He(),$.drop),Rt(Je(),$.drop),Rt(ce(),(L,Z)=>{$.move(Z.event)})]))(E));f.set(B),u(v),n6(v,B)}),Rt(ce(),(v,C)=>{C.stop(),S4(v,s,i,a6,C.event)}),Rt(He(),(v,C)=>{C.stop(),b(v)}),Rt(Je(),b)]},cV=lV,l6=[...w4,ur("dragger",{handlers:k4(i6)})],c6=[...w4,ur("dragger",{handlers:k4((s,i,u)=>[...r6(s,i,u),...i6(s,i,u)])})];var uV=Object.freeze({__proto__:null,mouse:cV,touch:l6,mouseOrTouch:c6}),dV=Object.freeze({__proto__:null,init:()=>{let s=P.none(),i=P.none();const u=q({});return xa({readState:u,reset:()=>{s=P.none(),i=P.none()},update:(f,b)=>f.getData(b).bind(v=>((C,k)=>{const E=s.map(B=>C.getDelta(B,k));return s=P.some(k),E})(f,v)),getStartData:()=>i,setStartData:f=>{i=P.some(f)}})}});const M0=U({branchKey:"mode",branches:uV,name:"dragging",active:{events:(s,i)=>s.dragger.handlers(s,i)},extra:{snap:s=>({sensor:s.sensor,range:s.range,output:s.output,extra:P.from(s.extra)})},state:dV,apis:t6}),u6=(s,i,u,f,b,v)=>s.fold(()=>M0.snap({sensor:Sp(u-20,f-20),range:Qs(b,v),output:Sp(P.some(u),P.some(f)),extra:{td:i}}),C=>{const k=u-20,E=f-20,B=C.element.dom.getBoundingClientRect();return M0.snap({sensor:Sp(k,E),range:Qs(40,40),output:Sp(P.some(u-B.width/2),P.some(f-B.height/2)),extra:{td:i}})}),d6=(s,i,u)=>({getSnapPoints:s,leftAttr:"data-drag-left",topAttr:"data-drag-top",onSensor:(f,b)=>{const v=b.td;((C,k)=>C.exists(E=>os(E,k)))(i.get(),v)||(i.set(v),u(v))},mustSnap:!0}),f6=s=>$s(Ol.sketch({dom:{tag:"div",classes:["tox-selector"]},buttonBehaviours:en([M0.config({mode:"mouseOrTouch",blockerClass:"blocker",snaps:s}),C0.config({})]),eventOrder:{mousedown:["dragging","alloy.base.behaviour"],touchstart:["dragging","alloy.base.behaviour"]}})),m6=(s,i)=>{const u=Hn([]),f=Hn([]),b=Hn(!1),v=bs(),C=bs(),k=he=>{const ge=Li(he);return u6(L.getOpt(i),he,ge.x,ge.y,ge.width,ge.height)},E=he=>{const ge=Li(he);return u6(Z.getOpt(i),he,ge.right,ge.bottom,ge.width,ge.height)},B=d6(()=>$e(u.get(),he=>k(he)),v,he=>{C.get().each(ge=>{s.dispatch("TableSelectorChange",{start:he,finish:ge})})}),$=d6(()=>$e(f.get(),he=>E(he)),C,he=>{v.get().each(ge=>{s.dispatch("TableSelectorChange",{start:ge,finish:he})})}),L=f6(B),Z=f6($),Q=_i(L.asSpec()),se=_i(Z.asSpec()),me=(he,ge,Ce,Ae)=>{const Ie=Ce(ge);M0.snapTo(he,Ie),((Xe,dt,Lt,Dt)=>{const At=dt.dom.getBoundingClientRect();Is(Xe.element,"display");const Jt=jc(xn(s.getBody())).dom.innerHeight,En=At[Ae]<0,zn=((Qn,Co)=>Qn[Ae]>Co)(At,Jt);(En||zn)&&po(Xe.element,"display","none")})(he,ge)},pe=he=>me(Q,he,k,"top"),Ee=he=>me(se,he,E,"bottom");if(Fa().deviceType.isTouch()){const he=ge=>$e(ge,xn);s.on("TableSelectionChange",ge=>{b.get()||(qm(i,Q),qm(i,se),b.set(!0));const Ce=xn(ge.start),Ae=xn(ge.finish);v.set(Ce),C.set(Ae),P.from(ge.otherCells).each(Ie=>{u.set(he(Ie.upOrLeftCells)),f.set(he(Ie.downOrRightCells)),pe(Ce),Ee(Ae)})}),s.on("ResizeEditor ResizeWindow ScrollContent",()=>{v.get().each(pe),C.get().each(Ee)}),s.on("TableSelectionClear",()=>{b.get()&&(zl(Q),zl(se),b.set(!1)),v.clear(),C.clear()})}},g6=(s,i,u)=>{var f;const b=(f=i.delimiter)!==null&&f!==void 0?f:"";return{dom:{tag:"div",classes:["tox-statusbar__path"],attributes:{role:"navigation"}},behaviours:en([qn.config({mode:"flow",selector:"div[role=button]"}),wo.config({disabled:u.isDisabled}),ci(),lr.config({}),io.config({}),Fo("elementPathEvents",[cr((v,C)=>{s.shortcuts.add("alt+F11","focus statusbar elementpath",()=>qn.focusIn(v)),s.on("NodeChange",k=>{const E=($=>{const L=[];let Z=$.length;for(;Z-- >0;){const se=$[Z];if(se.nodeType===1&&(Q=se).nodeName!=="BR"&&!Q.getAttribute("data-mce-bogus")&&Q.getAttribute("data-mce-type")!=="bookmark"){const me=FN(s,se);if(me.isDefaultPrevented()||L.push({name:me.name,element:se}),me.isPropagationStopped())break}}var Q;return L})(k.parents),B=E.length>0?Gt(E,($,L,Z)=>{const Q=((se,me,pe)=>Ol.sketch({dom:{tag:"div",classes:["tox-statusbar__path-item"],attributes:{"data-index":pe}},components:[sa(se)],action:Ee=>{s.focus(),s.selection.select(me),s.nodeChanged()},buttonBehaviours:en([Sa.config({...u.tooltips.getConfig({tooltipText:u.translate(["Select the {0} element",me.nodeName.toLowerCase()]),onShow:(Ee,he)=>{((ge,Ce)=>{const Ae=P.from(Ko(ge,"id")).getOrThunk(()=>{const Ie=In("aria");return bn(Ce,"id",Ie),Ie});bn(ge,"aria-describedby",Ae)})(Ee.element,he.element)},onHide:Ee=>{var he;he=Ee.element,Bo(he,"aria-describedby")}})}),ml(u.isDisabled),ci()])}))(L.name,L.element,Z);return Z===0?$.concat([Q]):$.concat([{dom:{tag:"div",classes:["tox-statusbar__path-divider"],attributes:{"aria-hidden":!0}},components:[sa(` ${b} `)]},Q])},[]):[];io.set(v,B)})})])]),components:[]}};var _p;(function(s){s[s.None=0]="None",s[s.Both=1]="Both",s[s.Vertical=2]="Vertical"})(_p||(_p={}));const W_=(s,i,u)=>{const f=xn(s.getContainer()),b=((v,C,k,E,B)=>{const $={height:_w(E+C.top,sy(v),JC(v))};return k===_p.Both&&($.width=_w(B+C.left,y2(v),ry(v))),$})(s,i,u,_r(f),La(f));no(b,(v,C)=>{X(v)&&po(f,C,$b(v))}),(v=>{v.dispatch("ResizeEditor")})(s)},j_=(s,i,u,f)=>{const b=Qs(20*u,20*f);return W_(s,b,i),P.some(!0)},h6=(s,i)=>{const u=()=>{const f=[],b=QE(s),v=AD(s),C=zu(s)||s.hasPlugin("wordcount");return v&&f.push(g6(s,{},i)),b&&f.push((()=>{const k=TS("Alt+0");return{dom:{tag:"div",classes:["tox-statusbar__help-text"]},components:[sa(nf.translate(["Press {0} for help",k]))]}})()),C&&f.push((()=>{const k=[];return s.hasPlugin("wordcount")&&k.push(((E,B)=>{const $=(L,Z,Q)=>io.set(L,[sa(B.translate(["{0} "+Q,Z[Q]]))]);return Ol.sketch({dom:{tag:"button",classes:["tox-statusbar__wordcount"]},components:[],buttonBehaviours:en([ml(B.isDisabled),ci(),lr.config({}),io.config({}),vt.config({store:{mode:"memory",initialValue:{mode:"words",count:{words:0,characters:0}}}}),Fo("wordcount-events",[nu(L=>{const Z=vt.getValue(L),Q=Z.mode==="words"?"characters":"words";vt.setValue(L,{mode:Q,count:Z.count}),$(L,Z.count,Q)}),cr(L=>{E.on("wordCountUpdate",Z=>{const{mode:Q}=vt.getValue(L);vt.setValue(L,{mode:Q,count:Z.wordCount}),$(L,Z.wordCount,Q)})})])]),eventOrder:{[cl()]:["disabling","alloy.base.behaviour","wordcount-events"]}})})(s,i)),zu(s)&&k.push({dom:{tag:"span",classes:["tox-statusbar__branding"]},components:[{dom:{tag:"a",attributes:{href:"https://www.tiny.cloud/powered-by-tiny?utm_campaign=poweredby&utm_source=tiny&utm_medium=referral&utm_content=v7",rel:"noopener",target:"_blank","aria-label":s.translate(["Build with {0}","TinyMCE"])},innerHtml:s.translate(["Build with {0}",`<svg height="16" viewBox="0 0 80 16" width="80" xmlns="http://www.w3.org/2000/svg"><g opacity=".8"><path d="m80 3.537v-2.202h-7.976v11.585h7.976v-2.25h-5.474v-2.621h4.812v-2.069h-4.812v-2.443zm-10.647 6.929c-.493.217-1.13.337-1.864.337s-1.276-.156-1.805-.47a3.732 3.732 0 0 1 -1.3-1.298c-.324-.554-.48-1.191-.48-1.877s.156-1.335.48-1.877a3.635 3.635 0 0 1 1.3-1.299 3.466 3.466 0 0 1 1.805-.481c.65 0 .914.06 1.263.18.36.12.698.277.986.47.289.192.578.384.842.6l.12.085v-2.586l-.023-.024c-.385-.35-.855-.614-1.384-.818-.53-.205-1.155-.313-1.877-.313-.721 0-1.6.144-2.333.445a5.773 5.773 0 0 0 -1.937 1.251 5.929 5.929 0 0 0 -1.324 1.9c-.324.735-.48 1.565-.48 2.455s.156 1.72.48 2.454c.325.734.758 1.383 1.324 1.913.553.53 1.215.938 1.937 1.25a6.286 6.286 0 0 0 2.333.434c.819 0 1.384-.108 1.961-.313.59-.216 1.083-.505 1.468-.866l.024-.024v-2.49l-.12.096c-.41.337-.878.626-1.396.866zm-14.869-4.15-4.8-5.04-.024-.025h-.902v11.67h2.502v-6.847l2.827 3.08.385.409.397-.41 2.791-3.067v6.845h2.502v-11.679h-.902l-4.788 5.052z"/><path clip-rule="evenodd" d="m15.543 5.137c0-3.032-2.466-5.113-4.957-5.137-.36 0-.745.024-1.094.096-.157.024-3.85.758-3.85.758-3.032.602-4.62 2.466-4.704 4.788-.024.89-.024 4.27-.024 4.27.036 3.165 2.406 5.138 5.017 5.126.337 0 1.119-.109 1.287-.145.144-.024.385-.084.746-.144.661-.12 1.684-.325 3.067-.602 2.37-.409 4.103-2.009 4.44-4.33.156-1.023.084-4.692.084-4.692zm-3.213 3.308-2.346.457v2.31l-5.859 1.143v-5.75l2.346-.458v3.441l3.513-.686v-3.44l-3.513.685v-2.297l5.859-1.143v5.75zm20.09-3.296-.083-1.023h-2.13v8.794h2.346v-4.884c0-1.107.95-1.985 2.057-1.997 1.095 0 1.901.89 1.901 1.997v4.884h2.346v-5.245c-.012-2.105-1.588-3.777-3.67-3.765a3.764 3.764 0 0 0 -2.778 1.25l.012-.011zm-6.014-4.102 2.346-.458v2.298l-2.346.457z" fill-rule="evenodd"/><path d="m28.752 4.126h-2.346v8.794h2.346z"/><path clip-rule="evenodd" d="m43.777 15.483 4.043-11.357h-2.418l-1.54 4.355-.445 1.324-.36-1.324-1.54-4.355h-2.418l3.151 8.794-1.083 3.08zm-21.028-5.51c0 .722.541 1.034.878 1.034s.638-.048.95-.144l.518 1.708c-.217.145-.879.518-2.13.518a2.565 2.565 0 0 1 -2.562-2.587c-.024-1.082-.024-2.49 0-4.21h-1.54v-2.142h1.54v-1.912l2.346-.458v2.37h2.201v2.142h-2.2v3.693-.012z" fill-rule="evenodd"/></g></svg>
`.trim()])},behaviours:en([vo.config({})])}]}),{dom:{tag:"div",classes:["tox-statusbar__right-container"]},components:k}})()),f.length>0?[{dom:{tag:"div",classes:["tox-statusbar__text-container",...(()=>{const k="tox-statusbar__text-container--flex-start",E="tox-statusbar__text-container--flex-end";if(b){const B="tox-statusbar__text-container-3-cols";return C||v?C&&!v?[B,E]:[B,k]:[B,"tox-statusbar__text-container--space-around"]}return[C&&!v?E:k]})()]},components:f}]:[]};return{dom:{tag:"div",classes:["tox-statusbar"]},components:(()=>{const f=u(),b=((v,C)=>{const k=(B=>{const $=Gi(B);return $===!1?_p.None:$==="both"?_p.Both:_p.Vertical})(v);if(k===_p.None)return P.none();const E=k===_p.Both?"Press the arrow keys to resize the editor.":"Press the Up and Down arrow keys to resize the editor.";return P.some(Uu("resize-handle",{tag:"div",classes:["tox-statusbar__resize-handle"],attributes:{"aria-label":C.translate(E),"data-mce-name":"resize-handle"},behaviours:[M0.config({mode:"mouse",repositionTarget:!1,onDrag:(B,$,L)=>W_(v,L,k),blockerClass:"tox-blocker"}),qn.config({mode:"special",onLeft:()=>j_(v,k,-1,0),onRight:()=>j_(v,k,1,0),onUp:()=>j_(v,k,0,-1),onDown:()=>j_(v,k,0,1)}),lr.config({}),vo.config({}),Sa.config(C.tooltips.getConfig({tooltipText:C.translate("Resize")}))]},C.icons))})(s,i);return f.concat(b.toArray())})()}},p6=(s,i)=>i.get().getOrDie(`UI for ${s} has not been rendered`),fV=(s,i)=>{const u=s.inline,f=u?Z$:oW,b=dp(s)?j7:W7,v=(()=>{const Ie=bs(),Xe=bs(),dt=bs();return{dialogUi:Ie,popupUi:Xe,mainUi:dt,getUiMotherships:()=>{const Lt=Ie.get().map(At=>At.mothership),Dt=Xe.get().map(At=>At.mothership);return Lt.fold(()=>Dt.toArray(),At=>Dt.fold(()=>[At],Jt=>os(At.element,Jt.element)?[At]:[At,Jt]))},lazyGetInOuterOrDie:(Lt,Dt)=>()=>dt.get().bind(At=>Dt(At.outerContainer)).getOrDie(`Could not find ${Lt} element in OuterContainer`)}})(),C=bs(),k=bs(),E=bs(),B=Fa().deviceType.isTouch()?["tox-platform-touch"]:[],$=eA(s),L=i0(s),Z=$s({dom:{tag:"div",classes:["tox-anchorbar"]}}),Q=$s({dom:{tag:"div",classes:["tox-bottom-anchorbar"]}}),se=()=>v.mainUi.get().map(Ie=>Ie.outerContainer).bind(vr.getHeader),me=v.lazyGetInOuterOrDie("anchor bar",Z.getOpt),pe=v.lazyGetInOuterOrDie("bottom anchor bar",Q.getOpt),Ee=v.lazyGetInOuterOrDie("toolbar",vr.getToolbar),he=v.lazyGetInOuterOrDie("throbber",vr.getThrobber),ge=((Ie,Xe,dt,Lt)=>{const Dt=Hn(!1),At=(ys=>{const ao=Hn(eA(ys)?"bottom":"top");return{isPositionedAtTop:()=>ao.get()==="top",getDockingMode:ao.get,setDockingMode:ao.set}})(Xe),Jt={icons:()=>Xe.ui.registry.getAll().icons,menuItems:()=>Xe.ui.registry.getAll().menuItems,translate:nf.translate,isDisabled:()=>Xe.mode.isReadOnly()||!Xe.ui.isEnabled(),getOption:Xe.options.get,tooltips:C3(Ie.dialog)},En=B5(Xe),zn=(ys=>{const ao=Ai=>()=>ys.formatter.match(Ai),Nr=Ai=>()=>{const di=ys.formatter.get(Ai);return di!==void 0?P.some({tag:di.length>0&&(di[0].inline||di[0].block)||"div",styles:ys.dom.parseStyle(ys.formatter.getCssText(Ai))}):P.none()},Ys=Hn([]),Rl=Hn([]),Dl=Hn(!1);return ys.on("PreInit",Ai=>{const di=k5(ys),kp=w3(ys,di,ao,Nr);Ys.set(kp)}),ys.on("addStyleModifications",Ai=>{const di=w3(ys,Ai.items,ao,Nr);Rl.set(di),Dl.set(Ai.replace)}),{getData:()=>{const Ai=Dl.get()?[]:Ys.get(),di=Rl.get();return Ai.concat(di)}}})(Xe),Qn=(ys=>({colorPicker:R7(ys),hasCustomColors:D7(ys),getColors:N7(ys),getColorCols:I7(ys)}))(Xe),Co=(ys=>({isDraggableModal:C5(ys)}))(Xe),es={shared:{providers:Jt,anchors:O7(Xe,dt,Lt,At.isPositionedAtTop),header:At},urlinput:En,styles:zn,colorinput:Qn,dialog:Co,isContextMenuOpen:()=>Dt.get(),setContextMenuState:ys=>Dt.set(ys)},yr=ys=>P.none(),Dr={...es,shared:{...es.shared,interpreter:ys=>b5(ys,{},Dr,yr),getSink:Ie.popup}},$o={...es,shared:{...es.shared,interpreter:ys=>b5(ys,{},$o,yr),getSink:Ie.dialog}};return{popup:Dr,dialog:$o}})({popup:()=>Go.fromOption(v.popupUi.get().map(Ie=>Ie.sink),"(popup) UI has not been rendered"),dialog:()=>Go.fromOption(v.dialogUi.get().map(Ie=>Ie.sink),"UI has not been rendered")},s,me,pe),Ce=()=>{const Ie=(()=>{const es={attributes:{[rc]:$?$u.BottomToTop:$u.TopToBottom}},yr=vr.parts.menubar({dom:{tag:"div",classes:["tox-menubar"]},backstage:ge.popup,onEscape:()=>{s.focus()}}),Dr=vr.parts.toolbar({dom:{tag:"div",classes:["tox-toolbar"]},getSink:ge.popup.shared.getSink,providers:ge.popup.shared.providers,onEscape:()=>{s.focus()},onToolbarToggled:di=>{((kp,$y)=>{kp.dispatch("ToggleToolbarDrawer",{state:$y})})(s,di)},type:L,lazyToolbar:Ee,lazyHeader:()=>se().getOrDie("Could not find header element"),...es}),$o=vr.parts["multiple-toolbar"]({dom:{tag:"div",classes:["tox-toolbar-overlord"]},providers:ge.popup.shared.providers,onEscape:()=>{s.focus()},type:L}),ys=_2(s),ao=S2(s),Nr=C2(s),Ys=OD(s),Rl=vr.parts.promotion({dom:{tag:"div",classes:["tox-promotion"]}}),Dl=ys||ao||Nr,Ai=Ys?[Rl,yr]:[yr];return vr.parts.header({dom:{tag:"div",classes:["tox-editor-header"].concat(Dl?[]:["tox-editor-header--empty"]),...es},components:tn([Nr?Ai:[],ys?[$o]:ao?[Dr]:[],l0(s)?[]:[Z.asSpec()]]),sticky:dp(s),editor:s,sharedBackstage:ge.popup.shared})})(),Xe={dom:{tag:"div",classes:["tox-sidebar-wrap"]},components:[vr.parts.socket({dom:{tag:"div",classes:["tox-edit-area"]}}),vr.parts.sidebar({dom:{tag:"div",classes:["tox-sidebar"]}})]},dt=vr.parts.throbber({dom:{tag:"div",classes:["tox-throbber"]},backstage:ge.popup}),Lt=vr.parts.viewWrapper({backstage:ge.popup}),Dt=ED(s)&&!u?P.some(h6(s,ge.popup.shared.providers)):P.none(),At=tn([$?[]:[Ie],u?[]:[Xe],$?[Ie]:[]]),Jt=vr.parts.editorContainer({components:tn([At,u?[]:[Q.asSpec()]])}),En=cS(s),zn={role:"application",...nf.isRtl()?{dir:"rtl"}:{},...En?{"aria-hidden":"true"}:{}},Qn=_i(vr.sketch({dom:{tag:"div",classes:["tox","tox-tinymce"].concat(u?["tox-tinymce-inline"]:[]).concat($?["tox-tinymce--toolbar-bottom"]:[]).concat(B),styles:{visibility:"hidden",...En?{opacity:"0",border:"0"}:{}},attributes:zn},components:[Jt,...u?[]:[Lt,...Dt.toArray()],dt],behaviours:en([ci(),wo.config({disableClass:"tox-tinymce--disabled"}),qn.config({mode:"cyclic",selector:".tox-menubar, .tox-toolbar, .tox-toolbar__primary, .tox-toolbar__overflow--open, .tox-sidebar__overflow--open, .tox-statusbar__path, .tox-statusbar__wordcount, .tox-statusbar__branding a, .tox-statusbar__resize-handle"})])})),Co=VS(Qn);return C.set(Co),{mothership:Co,outerContainer:Qn}},Ae=Ie=>{const Xe=$b((Lt=>(At=>{const Jt=b2(At),En=sy(At),zn=JC(At);return Sw(Jt).map(Qn=>_w(Qn,En,zn))})(Lt).getOr(b2(Lt)))(s)),dt=$b((Lt=>i4(Lt).getOr(v2(Lt)))(s));return s.inline||(wl("div","width",dt)&&po(Ie.element,"width",dt),wl("div","height",Xe)?po(Ie.element,"height",Xe):po(Ie.element,"height","400px")),Xe};return{popups:{backstage:ge.popup,getMothership:()=>p6("popups",E)},dialogs:{backstage:ge.dialog,getMothership:()=>p6("dialogs",k)},renderUI:()=>{const Ie=Ce(),Xe=(()=>{const Lt=lS(s),Dt=os(_n(),Lt)&&Sr(Lt,"display")==="grid",At={dom:{tag:"div",classes:["tox","tox-silver-sink","tox-tinymce-aux"].concat(B),attributes:{...nf.isRtl()?{dir:"rtl"}:{}}},behaviours:en([qi.config({useFixed:()=>b.isDocked(se)})])},Jt={dom:{styles:{width:document.body.clientWidth+"px"}},events:yo([Rt(jd(),Qn=>{po(Qn.element,"width",document.body.clientWidth+"px")})])},En=_i(Ws(At,Dt?Jt:{})),zn=VS(En);return k.set(zn),{sink:En,mothership:zn}})(),dt=fp(s)?(()=>{const Lt={dom:{tag:"div",classes:["tox","tox-silver-sink","tox-silver-popup-sink","tox-tinymce-aux"].concat(B),attributes:{...nf.isRtl()?{dir:"rtl"}:{}}},behaviours:en([qi.config({useFixed:()=>b.isDocked(se),getBounds:()=>i.getPopupSinkBounds()})])},Dt=_i(Lt),At=VS(Dt);return E.set(At),{sink:Dt,mothership:At}})():(Lt=>(E.set(Lt.mothership),Lt))(Xe);return v.dialogUi.set(Xe),v.popupUi.set(dt),v.mainUi.set(Ie),(Lt=>{const{mainUi:Dt,popupUi:At,uiMotherships:Jt}=Lt;so(eS(s),(ao,Nr)=>{s.ui.registry.addGroupToolbarButton(Nr,ao)});const{buttons:En,menuItems:zn,contextToolbars:Qn,sidebars:Co,views:es}=s.ui.registry.getAll(),yr=iS(s),Dr={menuItems:zn,menus:pb(s),menubar:up(s),toolbar:yr.getOrThunk(()=>iy(s)),allowToolbarGroups:L===tf.floating,buttons:En,sidebar:Co,views:es};var $o;$o=Dt.outerContainer,s.addShortcut("alt+F9","focus menubar",()=>{vr.focusMenubar($o)}),s.addShortcut("alt+F10","focus toolbar",()=>{vr.focusToolbar($o)}),s.addCommand("ToggleToolbarDrawer",(ao,Nr)=>{Nr!=null&&Nr.skipFocus?vr.toggleToolbarDrawerWithoutFocusing($o):vr.toggleToolbarDrawer($o)}),s.addQueryStateHandler("ToggleToolbarDrawer",()=>vr.isToolbarDrawerToggled($o)),((ao,Nr,Ys)=>{const Rl=(Ts,ph)=>{ht([Nr,...Ys],gm=>{gm.broadcastEvent(Ts,ph)})},Dl=(Ts,ph)=>{ht([Nr,...Ys],gm=>{gm.broadcastOn([Ts],ph)})},Ai=Ts=>Dl(F(),{target:Ts.target}),di=Mi(),kp=Al(di,"touchstart",Ai),$y=Al(di,"touchmove",Ts=>Rl(Vn(),Ts)),Hb=Al(di,"touchend",Ts=>Rl(Dc(),Ts)),Ep=Al(di,"mousedown",Ai),$w=Al(di,"mouseup",Ts=>{Ts.raw.button===0&&Dl(G(),{target:Ts.target})}),zb=Ts=>Dl(F(),{target:xn(Ts.target)}),gh=Ts=>{Ts.button===0&&Dl(G(),{target:xn(Ts.target)})},F0=()=>{ht(ao.editorManager.get(),Ts=>{ao!==Ts&&Ts.dispatch("DismissPopups",{relatedTarget:ao})})},$0=Ts=>Rl($h(),em(Ts)),Vy=Ts=>{Dl(K(),{}),Rl(jd(),em(Ts))},ek=bt(xn(ao.getElement())),Vw=Hx(ek,"scroll",Ts=>{requestAnimationFrame(()=>{if(ao.getContainer()!=null){const ph=bb(ao,Nr.element).map(gm=>[gm.element,...gm.others]).getOr([]);Tn(ph,gm=>os(gm,Ts.target))&&(ao.dispatch("ElementScroll",{target:Ts.target.dom}),Rl(Eg(),Ts))}})}),Ub=()=>Dl(K(),{}),hh=Ts=>{Ts.state&&Dl(F(),{target:xn(ao.getContainer())})},Ap=Ts=>{Dl(F(),{target:xn(Ts.relatedTarget.getContainer())})},Hw=Ts=>ao.dispatch("focusin",Ts),zw=Ts=>ao.dispatch("focusout",Ts);ao.on("PostRender",()=>{ao.on("click",zb),ao.on("tap",zb),ao.on("mouseup",gh),ao.on("mousedown",F0),ao.on("ScrollWindow",$0),ao.on("ResizeWindow",Vy),ao.on("ResizeEditor",Ub),ao.on("AfterProgressState",hh),ao.on("DismissPopups",Ap),ht([Nr,...Ys],Ts=>{Ts.element.dom.addEventListener("focusin",Hw),Ts.element.dom.addEventListener("focusout",zw)})}),ao.on("remove",()=>{ao.off("click",zb),ao.off("tap",zb),ao.off("mouseup",gh),ao.off("mousedown",F0),ao.off("ScrollWindow",$0),ao.off("ResizeWindow",Vy),ao.off("ResizeEditor",Ub),ao.off("AfterProgressState",hh),ao.off("DismissPopups",Ap),ht([Nr,...Ys],Ts=>{Ts.element.dom.removeEventListener("focusin",Hw),Ts.element.dom.removeEventListener("focusout",zw)}),Ep.unbind(),kp.unbind(),$y.unbind(),Hb.unbind(),$w.unbind(),Vw.unbind()}),ao.on("detach",()=>{ht([Nr,...Ys],uE),ht([Nr,...Ys],Ts=>Ts.destroy())})})(s,Dt.mothership,Jt),b.setup(s,ge.popup.shared,se),Q$(s,ge.popup),sV(s,ge.popup.shared.getSink,ge.popup),(ao=>{const{sidebars:Nr}=ao.ui.registry.getAll();ht(qt(Nr),Ys=>{const Rl=Nr[Ys],Dl=()=>ia(P.from(ao.queryCommandValue("ToggleSidebar")),Ys);ao.ui.registry.addToggleButton(Ys,{icon:Rl.icon,tooltip:Rl.tooltip,onAction:Ai=>{ao.execCommand("ToggleSidebar",!1,Ys),Ai.setActive(Dl())},onSetup:Ai=>{Ai.setActive(Dl());const di=()=>Ai.setActive(Dl());return ao.on("ToggleSidebar",di),()=>{ao.off("ToggleSidebar",di)}}})})})(s),j5(s,he,ge.popup.shared),G$(s,Qn,At.sink,{backstage:ge.popup}),m6(s,At.sink);const ys={targetNode:s.getElement(),height:Ae(Dt.outerContainer)};return f.render(s,Lt,Dr,ge.popup,ys)})({popupUi:dt,dialogUi:Xe,mainUi:Ie,uiMotherships:v.getUiMotherships()})}}},mV=q([Ft("lazySink"),rs("dragBlockClass"),er("getBounds",Aa),mt("useTabstopAt",Ve),mt("firstTabstop",0),mt("eventOrder",{}),Pn("modalBehaviours",[qn]),nc("onExecute"),ul("onEscape")]),E4={sketch:de},A4=q([ud({name:"draghandle",overrides:(s,i)=>({behaviours:en([M0.config({mode:"mouse",getTarget:u=>Lg(u,'[role="dialog"]').getOr(u),blockerClass:s.dragBlockClass.getOrDie(new Error(`The drag blocker class was not specified for a dialog with a drag handle: 
`+JSON.stringify(i,null,2)).message),getBounds:s.getDragBounds})])})}),ac({schema:[Ft("dom")],name:"title"}),ac({factory:E4,schema:[Ft("dom")],name:"close"}),ac({factory:E4,schema:[Ft("dom")],name:"body"}),ud({factory:E4,schema:[Ft("dom")],name:"footer"}),sm({factory:{sketch:(s,i)=>({...s,dom:i.dom,components:i.components})},schema:[mt("dom",{tag:"div",styles:{position:"fixed",left:"0px",top:"0px",right:"0px",bottom:"0px"}}),mt("components",[])],name:"blocker"})]),Xr=pc({name:"ModalDialog",configFields:mV(),partFields:A4(),factory:(s,i,u,f)=>{const b=bs(),v=In("modal-events"),C={...s.eventOrder,[li()]:[v].concat(s.eventOrder["alloy.system.attached"]||[])},k=Fa();return{uid:s.uid,dom:s.dom,components:i,apis:{show:E=>{b.set(E);const B=s.lazySink(E).getOrDie(),$=f.blocker(),L=B.getSystem().build({...$,components:$.components.concat([Vl(E)]),behaviours:en([vo.config({}),Fo("dialog-blocker-events",[Gd(_s(),()=>{mf.isBlocked(E)||qn.focusIn(E)})])])});qm(B,L),qn.focusIn(E)},hide:E=>{b.clear(),Ea(E.element).each(B=>{E.getSystem().getByDom(B).each($=>{zl($)})})},getBody:E=>lp(E,s,"body"),getFooter:E=>fr(E,s,"footer"),setIdle:E=>{mf.unblock(E)},setBusy:(E,B)=>{mf.block(E,B)}},eventOrder:C,domModification:{attributes:{role:"dialog","aria-modal":"true"}},behaviours:Io(s.modalBehaviours,[io.config({}),qn.config({mode:"cyclic",onEnter:s.onExecute,onEscape:s.onEscape,useTabstopAt:s.useTabstopAt,firstTabstop:s.firstTabstop}),mf.config({getRoot:b.get}),Fo(v,[cr(E=>{const B=lp(E,s,"title").element,$=(L=>L.dom.textContent)(B);k.os.isMacOS()&&z($)?bn(E.element,"aria-label",$):((L,Z)=>{const Q=is(L,"id").fold(()=>{const se=In("dialog-label");return bn(Z,"id",se),se},de);bn(L,"aria-labelledby",Q)})(E.element,B)})])])}},apis:{show:(s,i)=>{s.show(i)},hide:(s,i)=>{s.hide(i)},getBody:(s,i)=>s.getBody(i),getFooter:(s,i)=>s.getFooter(i),setBusy:(s,i,u)=>{s.setBusy(i,u)},setIdle:(s,i)=>{s.setIdle(i)}}}),gV=Xn([za,pA].concat(g0)),Ow=gc,T4=[SA("button"),sf,Oc("align","end",["start","end"]),CS,rf,Dm("buttonType",["primary","secondary"])],Z_=[...T4,of],O4=[Au("type",["submit","cancel","custom"]),...Z_],hV=[Au("type",["menu"]),Sb,z2,sf,Hi("items",gV),...T4],pV=[...T4,Au("type",["togglebutton"]),z2,sf,Sb,na("active",!1)],b6=ya("type",{submit:O4,cancel:O4,custom:O4,menu:hV,togglebutton:pV}),bV=[za,of,Au("level",["info","warn","error","success"]),yA,mt("url","")],R4=Xn(bV),D4=[za,of,rf,SA("button"),sf,nW,Dm("buttonType",["primary","secondary","toolbar"]),CS],N4=Xn(D4),By=[za,pA],Ei=By.concat([xA]),vV=By.concat([bA,rf]),yV=Xn(vV),v6=gc,y6=Ei.concat([dN("auto")]),xV=Xn(y6),wV=_u([f0,of,yA]),CV=Ei.concat([Ql("storageKey","default")]),SV=Xn(CV),_V=Oa,kV=Xn(Ei),EV=Oa,x6=By.concat([Ql("tag","textarea"),br("scriptId"),br("scriptUrl"),Tc("onFocus"),zi("settings",void 0,qp)]),AV=By.concat([Ql("tag","textarea"),Vi("init")]),TV=Vd(s=>kr("customeditor.old",Ta(AV),s).orThunk(()=>kr("customeditor.new",Ta(x6),s))),OV=Oa,w6=Xn(Ei),I4=Su(Cu),C6=s=>[za,_g("columns"),s],S6=[za,br("html"),Oc("presets","presentation",["presentation","document"]),er("onInit",j),na("stretched",!1)],_6=Xn(S6),k6=Ei.concat([na("border",!1),na("sandboxed",!0),na("streamContent",!1),na("transparent",!0)]),P4=Xn(k6),RV=Oa,B4=Xn(By.concat([Hr("height")])),My=Xn([br("url"),Tu("zoom"),Tu("cachedWidth"),Tu("cachedHeight")]),E6=Ei.concat([Hr("inputMode"),Hr("placeholder"),na("maximized",!1),rf]),A6=Xn(E6),T6=Oa,DV=s=>[za,bA,s,Oc("align","start",["start","center","end"]),Hr("for")],NV=[of,f0],K_=[of,Hi("items",$f(0,()=>O6))],O6=Lf([Xn(NV),Xn(K_)]),IV=Ei.concat([Hi("items",O6),rf]),R6=Xn(IV),D6=Oa,M4=Ei.concat([Vf("items",[of,f0]),Pr("size",1),rf]),N6=Xn(M4),$c=Oa,I6=Ei.concat([na("constrain",!0),rf]),PV=Xn(I6),P6=Xn([br("width"),br("height")]),B6=By.concat([bA,Pr("min",0),Pr("max",0)]),BV=Xn(B6),MV=ed,LV=[za,Hi("header",Oa),Hi("cells",Su(Oa))],M6=Xn(LV),mh=Ei.concat([Hr("placeholder"),na("maximized",!1),rf]),L4=Xn(mh),L6=Oa,Rw=[Au("type",["directory","leaf"]),vA,br("id"),Ir("menu",H5)],q_=Xn(Rw),FV=Rw.concat([Hi("children",$f(0,()=>Eu("type",{directory:F6,leaf:q_})))]),F6=Xn(FV),$V=Eu("type",{directory:F6,leaf:q_}),VV=[za,Hi("items",$V),Tc("onLeafAction"),Tc("onToggleExpand"),Ps("defaultExpandedIds",[],Oa),Hr("defaultSelectedId")],HV=Xn(VV),zV=Ei.concat([Oc("filetype","file",["image","media","file"]),rf,Hr("picker_text")]),UV=Xn(zV),$6=Xn([f0,Wu]),F4=s=>ua("items","items",{tag:"required",process:{}},Su(Vd(i=>kr(`Checking item of ${s}`,mm,i).fold(u=>Go.error($i(u)),u=>Go.value(u))))),mm=Om(()=>{return Eu("type",{alertbanner:R4,bar:Xn((s=F4("bar"),[za,s])),button:N4,checkbox:yV,colorinput:SV,colorpicker:kV,dropzone:w6,grid:Xn(C6(F4("grid"))),iframe:P4,input:A6,listbox:R6,selectbox:N6,sizeinput:PV,slider:BV,textarea:L4,urlinput:UV,customeditor:TV,htmlpanel:_6,imagepreview:B4,collection:xV,label:Xn(DV(F4("label"))),table:M6,tree:HV,panel:V6});var s}),G_=[za,mt("classes",[]),Hi("items",mm)],V6=Xn(G_),WV=[SA("tab"),vA,Hi("items",mm)],H6=[za,Vf("tabs",WV)],z6=Xn(H6),$4=Z_,Y_=b6,Dw=Xn([br("title"),Ra("body",Eu("type",{panel:V6,tabpanel:z6})),Ql("size","normal"),Ps("buttons",[],Y_),mt("initialData",{}),er("onAction",j),er("onChange",j),er("onSubmit",j),er("onClose",j),er("onCancel",j),er("onTabChange",j)]),Nw=Xn([Au("type",["cancel","custom"]),...$4]),U6=Xn([br("title"),br("url"),Tu("height"),Tu("width"),Ph("buttons",Nw),er("onAction",j),er("onCancel",j),er("onClose",j),er("onMessage",j)]),X_=s=>y(s)?[s].concat(Cn(Qa(s),X_)):A(s)?Cn(s,X_):[],W6=s=>g(s.type)&&g(s.name),j6={checkbox:v6,colorinput:_V,colorpicker:EV,dropzone:I4,input:T6,iframe:RV,imagepreview:My,selectbox:$c,sizeinput:P6,slider:MV,listbox:D6,size:P6,textarea:L6,urlinput:$6,customeditor:OV,collection:wV,togglemenuitem:Ow},jV=s=>{const i=(f=>mn(X_(f),W6))(s),u=Cn(i,f=>(b=>P.from(j6[b.type]))(f).fold(()=>[],b=>[Ra(f.name,b)]));return Xn(u)},Z6=s=>{var i;return{internalDialog:wi(kr("dialog",Dw,s)),dataValidator:jV(s),initialData:(i=s.initialData)!==null&&i!==void 0?i:{}}},L0={open:(s,i)=>{const u=Z6(i);return s(u.internalDialog,u.initialData,u.dataValidator)},openUrl:(s,i)=>s(wi(kr("dialog",U6,i))),redial:s=>Z6(s)};var ZV=Object.freeze({__proto__:null,events:(s,i)=>{const u=(f,b)=>{s.updateState.each(v=>{const C=v(f,b);i.set(C)}),s.renderComponents.each(v=>{const C=v(b,i.get());(s.reuseDom?HE:o0)(f,C)})};return yo([Rt(ec(),(f,b)=>{const v=b;if(!v.universal){const C=s.channel;ct(v.channels,C)&&u(f,v.data)}}),cr((f,b)=>{s.initialData.each(v=>{u(f,v)})})])}}),KV=Object.freeze({__proto__:null,getState:(s,i,u)=>u}),K6=[Ft("channel"),rs("renderComponents"),rs("updateState"),rs("initialData"),na("reuseDom",!0)];const du=Va({fields:K6,name:"reflecting",active:ZV,apis:KV,state:Object.freeze({__proto__:null,init:()=>{const s=Hn(P.none());return{readState:()=>s.get().getOr("none"),get:s.get,set:s.set,clear:()=>s.set(P.none())}}})}),q6=s=>{const i=[],u={};return no(s,(f,b)=>{f.fold(()=>{i.push(b)},v=>{u[b]=v})}),i.length>0?Go.error(i):Go.value(u)},G6=(s,i,u,f)=>{const b=$s(Db.sketch(C=>({dom:{tag:"div",classes:["tox-form"].concat(s.classes)},components:$e(s.items,k=>S_(C,k,i,u,f))})));return{dom:{tag:"div",classes:["tox-dialog__body"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:[b.asSpec()]}],behaviours:en([qn.config({mode:"acyclic",useTabstopAt:Fe(Sy)}),(v=b,Cs.config({find:v.getOpt})),NT(b,{postprocess:C=>q6(C).fold(k=>(console.error(k),{}),de)}),Fo("dialog-body-panel",[Rt(_s(),(C,k)=>{C.getSystem().broadcastOn([f_],{newFocus:P.some(k.event.target)})})])])};var v},qV=dd({name:"TabButton",configFields:[mt("uid",void 0),Ft("value"),ua("dom","dom",ss(()=>({attributes:{role:"tab",id:In("aria"),"aria-selected":"false"}})),Fl()),rs("action"),mt("domModification",{}),Pn("tabButtonBehaviours",[vo,qn,vt]),Ft("view")],factory:(s,i)=>({uid:s.uid,dom:s.dom,components:s.components,events:ny(s.action),behaviours:Io(s.tabButtonBehaviours,[vo.config({}),qn.config({mode:"execution",useSpace:!0,useEnter:!0}),vt.config({store:{mode:"memory",initialValue:s.value}})]),domModification:s.domModification})}),Y6=q([Ft("tabs"),Ft("dom"),mt("clickToDismiss",!1),Pn("tabbarBehaviours",[zs,qn]),Zh(["tabClass","selectedClass"])]),Iw=MC({factory:qV,name:"tabs",unit:"tab",overrides:s=>{const i=(f,b)=>{zs.dehighlight(f,b),jn(f,Xt(),{tabbar:f,button:b})},u=(f,b)=>{zs.highlight(f,b),jn(f,Ag(),{tabbar:f,button:b})};return{action:f=>{const b=f.getSystem().getByUid(s.uid).getOrDie(),v=zs.isHighlighted(b,f);(v&&s.clickToDismiss?i:v?j:u)(b,f)},domModification:{classes:[s.markers.tabClass]}}}}),GV=q([Iw]),V4=pc({name:"Tabbar",configFields:Y6(),partFields:GV(),factory:(s,i,u,f)=>({uid:s.uid,dom:s.dom,components:i,"debug.sketcher":"Tabbar",domModification:{attributes:{role:"tablist"}},behaviours:Io(s.tabbarBehaviours,[zs.config({highlightClass:s.markers.selectedClass,itemClass:s.markers.tabClass,onHighlight:(b,v)=>{bn(v.element,"aria-selected","true")},onDehighlight:(b,v)=>{bn(v.element,"aria-selected","false")}}),qn.config({mode:"flow",getInitial:b=>zs.getHighlighted(b).map(v=>v.element),selector:"."+s.markers.tabClass,executeOnMove:!0})])})}),YV=dd({name:"Tabview",configFields:[Pn("tabviewBehaviours",[io])],factory:(s,i)=>({uid:s.uid,dom:s.dom,behaviours:Io(s.tabviewBehaviours,[io.config({})]),domModification:{attributes:{role:"tabpanel"}}})}),XV=q([mt("selectFirst",!0),vs("onChangeTab"),vs("onDismissTab"),mt("tabs",[]),Pn("tabSectionBehaviours",[])]),JV=ac({factory:V4,schema:[Ft("dom"),Ac("markers",[Ft("tabClass"),Ft("selectedClass")])],name:"tabbar",defaults:s=>({tabs:s.tabs})}),QV=ac({factory:YV,name:"tabview"}),X6=q([JV,QV]),Ly=pc({name:"TabSection",configFields:XV(),partFields:X6(),factory:(s,i,u,f)=>{const b=(v,C)=>{fr(v,s,"tabbar").each(k=>{C(k).each(qd)})};return{uid:s.uid,dom:s.dom,components:i,behaviours:co(s.tabSectionBehaviours),events:yo(tn([s.selectFirst?[cr((v,C)=>{b(v,zs.getFirst)})]:[],[Rt(Ag(),(v,C)=>{(k=>{const E=vt.getValue(k);fr(k,s,"tabview").each(B=>{te(s.tabs,$=>$.value===E).each($=>{const L=$.view();is(k.element,"id").each(Z=>{bn(B.element,"aria-labelledby",Z)}),io.set(B,L),s.onChangeTab(B,k,L)})})})(C.event.button)}),Rt(Xt(),(v,C)=>{const k=C.event.button;s.onDismissTab(v,k)})]])),apis:{getViewItems:v=>fr(v,s,"tabview").map(C=>io.contents(C)).getOr([]),showTab:(v,C)=>{b(v,k=>{const E=zs.getCandidates(k);return te(E,B=>vt.getValue(B)===C).filter(B=>!zs.isHighlighted(k,B))})}}}},apis:{getViewItems:(s,i)=>s.getViewItems(i),showTab:(s,i,u)=>{s.showTab(i,u)}}}),H4=(s,i)=>{po(s,"height",i+"px"),po(s,"flex-basis",i+"px")},Fy=(s,i,u)=>{Lg(s,'[role="dialog"]').each(f=>{Rr(f,'[role="tablist"]').each(b=>{u.get().map(v=>(po(i,"height","0"),po(i,"flex-basis","0"),Math.min(v,((C,k,E)=>{const B=rl(C).dom,$=Lg(C,".tox-dialog-wrap").getOr(C);let L;L=Sr($,"position")==="fixed"?Math.max(B.clientHeight,window.innerHeight):Math.max(B.offsetHeight,B.scrollHeight);const Z=_r(k),Q=k.dom.offsetLeft>=E.dom.offsetLeft+La(E)?Math.max(_r(E),Z):Z,se=parseInt(Sr(C,"margin-top"),10)||0,me=parseInt(Sr(C,"margin-bottom"),10)||0;return L-(_r(C)+se+me-Q)})(f,i,b)))).each(v=>{H4(i,v)})})})},ag=s=>Rr(s,'[role="tabpanel"]'),J_="send-data-to-section",z4="send-data-to-view",J6=(s,i,u,f)=>{const b=Hn({}),v=$=>{const L=vt.getValue($),Z=q6(L).getOr({}),Q=b.get(),se=Ws(Q,Z);b.set(se)},C=$=>{const L=b.get();vt.setValue($,L)},k=Hn(null),E=$e(s.tabs,$=>({value:$.name,dom:{tag:"div",classes:["tox-dialog__body-nav-item"]},components:[sa(u.shared.providers.translate($.title))],view:()=>[Db.sketch(L=>({dom:{tag:"div",classes:["tox-form"]},components:$e($.items,Z=>S_(L,Z,i,u,f)),formBehaviours:en([qn.config({mode:"acyclic",useTabstopAt:Fe(Sy)}),Fo("TabView.form.events",[cr(C),Du(v)]),sc.config({channels:hc([{key:J_,value:{onReceive:v}},{key:z4,value:{onReceive:C}}])})])}))]})),B=($=>{const L=bs();return{extraEvents:[cr(Q=>{const se=Q.element;ag(se).each(me=>{po(me,"visibility","hidden"),Q.getSystem().getByDom(me).toOptional().each(pe=>{const Ee=((ge,Ce,Ae)=>$e(ge,(Ie,Xe)=>{io.set(Ae,ge[Xe].view());const dt=Ce.dom.getBoundingClientRect();return io.set(Ae,[]),dt.height}))($,me,pe);(ge=>Be(ye(ge,(Ce,Ae)=>Ce>Ae?-1:Ce<Ae?1:0)))(Ee).fold(L.clear,L.set)}),Fy(se,me,L),Is(me,"visibility"),((pe,Ee)=>{Be(pe).each(he=>Ly.showTab(Ee,he.value))})($,Q),requestAnimationFrame(()=>{Fy(se,me,L)})})}),Rt(jd(),Q=>{const se=Q.element;ag(se).each(me=>{Fy(se,me,L)})}),Rt(zS,(Q,se)=>{const me=Q.element;ag(me).each(pe=>{const Ee=ad(bt(pe));po(pe,"visibility","hidden");const he=jr(pe,"height").map(Ce=>parseInt(Ce,10));Is(pe,"height"),Is(pe,"flex-basis");const ge=pe.dom.getBoundingClientRect().height;he.forall(Ce=>ge>Ce)?(L.set(ge),Fy(me,pe,L)):he.each(Ce=>{H4(pe,Ce)}),Is(pe,"visibility"),Ee.each(El)})})],selectFirst:!1}})(E);return Ly.sketch({dom:{tag:"div",classes:["tox-dialog__body"]},onChangeTab:($,L,Z)=>{const Q=vt.getValue(L);jn($,dI,{name:Q,oldName:k.get()}),k.set(Q)},tabs:E,components:[Ly.parts.tabbar({dom:{tag:"div",classes:["tox-dialog__body-nav"]},components:[V4.parts.tabs({})],markers:{tabClass:"tox-tab",selectedClass:"tox-dialog__body-nav-item--active"},tabbarBehaviours:en([lr.config({})])}),Ly.parts.tabview({dom:{tag:"div",classes:["tox-dialog__body-content"]}})],selectFirst:B.selectFirst,tabSectionBehaviours:en([Fo("tabpanel",B.extraEvents),qn.config({mode:"acyclic"}),Cs.config({find:$=>Be(Ly.getViewItems($))}),k0(P.none(),$=>($.getSystem().broadcastOn([J_],{}),b.get()),($,L)=>{b.set(L),$.getSystem().broadcastOn([z4],{})})])})},Q_=(s,i,u,f,b,v)=>({dom:{tag:"div",classes:["tox-dialog__content-js"],attributes:{...u.map(C=>({id:C})).getOr({}),...b?{"aria-live":"polite"}:{}}},components:[],behaviours:en([RT(0),du.config({channel:`${HI}-${i}`,updateState:(C,k)=>P.some({isTabPanel:()=>k.body.type==="tabpanel"}),renderComponents:C=>{const k=C.body;return k.type==="tabpanel"?[J6(k,C.initialData,f,v)]:[G6(k,C.initialData,f,v)]},initialData:s})])}),Q6=Qm.deviceType.isTouch(),Pw=(s,i)=>({dom:{tag:"div",styles:{display:"none"},classes:["tox-dialog__header"]},components:[s,i]}),U4=(s,i)=>Xr.parts.close(Ol.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":i.translate("Close")}},action:s,buttonBehaviours:en([lr.config({})])})),W4=()=>Xr.parts.title({dom:{tag:"div",classes:["tox-dialog__title"],innerHtml:"",styles:{display:"none"}}}),eB=(s,i)=>Xr.parts.body({dom:{tag:"div",classes:["tox-dialog__body"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:[{dom:Jg(`<p>${UD(i.translate(s))}</p>`)}]}]}),tB=s=>Xr.parts.footer({dom:{tag:"div",classes:["tox-dialog__footer"]},components:s}),nB=(s,i)=>[lm.sketch({dom:{tag:"div",classes:["tox-dialog__footer-start"]},components:s}),lm.sketch({dom:{tag:"div",classes:["tox-dialog__footer-end"]},components:i})],j4=s=>{const i="tox-dialog",u=i+"-wrap",f=u+"__backdrop",b=i+"__disable-scroll";return Xr.sketch({lazySink:s.lazySink,onEscape:v=>(s.onEscape(v),P.some(!0)),useTabstopAt:v=>!Sy(v),firstTabstop:s.firstTabstop,dom:{tag:"div",classes:[i].concat(s.extraClasses),styles:{position:"relative",...s.extraStyles}},components:[s.header,s.body,...s.footer.toArray()],parts:{blocker:{dom:Jg(`<div class="${u}"></div>`),components:[{dom:{tag:"div",classes:Q6?[f,f+"--opaque"]:[f]}}]}},dragBlockClass:u,modalBehaviours:en([vo.config({}),Fo("dialog-events",s.dialogEvents.concat([Gd(_s(),(v,C)=>{mf.isBlocked(v)||qn.focusIn(v)}),Rt(Gp(),(v,C)=>{v.getSystem().broadcastOn([f_],{newFocus:C.event.newFocus})})])),Fo("scroll-lock",[cr(()=>{Mn(_n(),b)}),Du(()=>{Ro(_n(),b)})]),...s.extraBehaviours]),eventOrder:{[cl()]:["dialog-events"],[li()]:["scroll-lock","dialog-events","alloy.base.behaviour"],[Nc()]:["alloy.base.behaviour","dialog-events","scroll-lock"],...s.eventOrder}})},oB=s=>Ol.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":s.translate("Close"),"data-mce-name":"close"}},buttonBehaviours:en([lr.config({}),Sa.config(s.tooltips.getConfig({tooltipText:s.translate("Close")}))]),components:[Uu("close",{tag:"span",classes:["tox-icon"]},s.icons)],action:i=>{Mo(i,bp)}}),Z4=(s,i,u,f)=>({dom:{tag:"h1",classes:["tox-dialog__title"],attributes:{...u.map(b=>({id:b})).getOr({})}},components:[],behaviours:en([du.config({channel:`${VT}-${i}`,initialData:s,renderComponents:b=>[sa(f.translate(b.title))]})])}),K4=()=>({dom:Jg('<div class="tox-dialog__draghandle"></div>')}),sB=(s,i,u)=>((f,b,v)=>{const C=Xr.parts.title(Z4(f,b,P.none(),v)),k=Xr.parts.draghandle(K4()),E=Xr.parts.close(oB(v)),B=[C].concat(f.draggable?[k]:[]).concat([E]);return lm.sketch({dom:Jg('<div class="tox-dialog__header"></div>'),components:B})})({title:u.shared.providers.translate(s),draggable:u.dialog.isDraggableModal()},i,u.shared.providers),rB=(s,i,u,f)=>({dom:{tag:"div",classes:["tox-dialog__busy-spinner"],attributes:{"aria-label":u.translate(s)},styles:{left:"0px",right:"0px",bottom:"0px",top:`${f.getOr(0)}px`,position:"absolute"}},behaviours:i,components:[{dom:Jg('<div class="tox-spinner"><div></div><div></div><div></div></div>')}]}),aB=(s,i,u)=>({onClose:()=>u.closeWindow(),onBlock:f=>{const b=Rr(s().element,".tox-dialog__header").map(v=>_r(v));Xr.setBusy(s(),(v,C)=>rB(f.message,C,i,b))},onUnblock:()=>{Xr.setIdle(s())}}),Bw="tox-dialog--fullscreen",q4="tox-dialog--width-lg",G4="tox-dialog--width-md",Mw=s=>{switch(s){case"large":return P.some(q4);case"medium":return P.some(G4);default:return P.none()}},Y4=(s,i)=>{const u=xn(i.element.dom);Zo(u,Bw)||(oa(u,[q4,G4]),Mw(s).each(f=>Mn(u,f)))},iB=(s,i)=>{const u=xn(s.element.dom),f=Ui(u),b=te(f,v=>v===q4||v===G4).or(Mw(i));((v,C)=>{ht(C,k=>{((E,B)=>{et(E)?E.dom.classList.toggle(B):(($,L)=>ct(Pt($),L)?Bn($,L):sn($,L))(E,B),Lo(E)})(v,k)})})(u,[Bw,...b.toArray()])},lB=(s,i,u)=>_i(j4({...s,firstTabstop:1,lazySink:u.shared.getSink,extraBehaviours:[iw({}),...s.extraBehaviours],onEscape:f=>{Mo(f,bp)},dialogEvents:i,eventOrder:{[ec()]:[du.name(),sc.name()],[li()]:["scroll-lock",du.name(),"messages","dialog-events","alloy.base.behaviour"],[Nc()]:["alloy.base.behaviour","dialog-events","messages",du.name(),"scroll-lock"]}})),Lw=(s,i={})=>$e(s,u=>u.type==="menu"?(f=>{const b=$e(f.items,v=>{const C=on(i,v.name).getOr(Hn(!1));return{...v,storage:C}});return{...f,items:b}})(u):u),cB=s=>Gt(s,(i,u)=>u.type==="menu"?Gt(u.items,(f,b)=>(f[b.name]=b.storage,f),i):i,{}),X4=(s,i)=>[Pm(_s(),c7),s(Tb,(u,f,b,v)=>{ad(bt(v.element)).fold(j,Rv),i.onClose(),f.onClose()}),s(bp,(u,f,b,v)=>{f.onCancel(u),Mo(v,Tb)}),Rt(aT,(u,f)=>i.onUnblock()),Rt(rT,(u,f)=>i.onBlock(f.event))],uB=(s,i,u)=>{const f=(v,C)=>Rt(v,(k,E)=>{b(k,(B,$)=>{C(s(),B,E.event,k)})}),b=(v,C)=>{du.getState(v).get().each(k=>{C(k.internalDialog,v)})};return[...X4(f,i),f(nw,(v,C)=>C.onSubmit(v)),f(jl,(v,C,k)=>{C.onChange(v,{name:k.name})}),f(sg,(v,C,k,E)=>{const B=()=>E.getSystem().isConnected()?qn.focusIn(E):void 0,$=Q=>Vr(Q,"disabled")||is(Q,"aria-disabled").exists(se=>se==="true"),L=bt(E.element),Z=ad(L);C.onAction(v,{name:k.name,value:k.value}),ad(L).fold(B,Q=>{$(Q)||Z.exists(se=>$r(Q,se)&&$(se))?B():u().toOptional().filter(se=>!$r(se.element,Q)).each(B)})}),f(dI,(v,C,k)=>{C.onTabChange(v,{newTabName:k.name,oldTabName:k.oldName})}),Du(v=>{const C=s();vt.setValue(v,C.getData())})]},eH=(s,i)=>{const u=i.map(v=>v.footerButtons).getOr([]),f=Dn(u,v=>v.align==="start"),b=(v,C)=>lm.sketch({dom:{tag:"div",classes:[`tox-dialog__footer-${v}`]},components:$e(C,k=>k.memento.asSpec())});return[b("start",f.pass),b("end",f.fail)]},dB=(s,i,u)=>({dom:Jg('<div class="tox-dialog__footer"></div>'),components:[],behaviours:en([du.config({channel:`${zI}-${i}`,initialData:s,updateState:(f,b)=>{const v=$e(b.buttons,C=>{const k=$s(((E,B)=>Ey(E,E.type,B))(C,u));return{name:C.name,align:C.align,memento:k}});return P.some({lookupByName:C=>((k,E,B)=>te(E,$=>$.name===B).bind($=>$.memento.getOpt(k)))(f,v,C),footerButtons:v})},renderComponents:eH})])}),J4=(s,i,u)=>Xr.parts.footer(dB(s,i,u)),Fw=(s,i)=>{if(s.getRoot().getSystem().isConnected()){const u=Cs.getCurrent(s.getFormWrapper()).getOr(s.getFormWrapper());return Db.getField(u,i).orThunk(()=>s.getFooter().bind(b=>du.getState(b).get()).bind(b=>b.lookupByName(i)))}return P.none()},fB=(s,i,u)=>{const f=v=>{const C=s.getRoot();C.getSystem().isConnected()&&v(C)},b={getData:()=>{const v=s.getRoot(),C=v.getSystem().isConnected()?s.getFormWrapper():v;return{...vt.getValue(C),...so(u,k=>k.get())}},setData:v=>{f(C=>{const k=b.getData(),E=Ws(k,v),B=((L,Z)=>{const Q=L.getRoot();return du.getState(Q).get().map(se=>wi(kr("data",se.dataValidator,Z))).getOr(Z)})(s,E),$=s.getFormWrapper();vt.setValue($,B),no(u,(L,Z)=>{ro(E,Z)&&L.set(E[Z])})})},setEnabled:(v,C)=>{Fw(s,v).each(C?wo.enable:wo.disable)},focus:v=>{Fw(s,v).each(vo.focus)},block:v=>{if(!g(v))throw new Error("The dialogInstanceAPI.block function should be passed a blocking message of type string as an argument");f(C=>{jn(C,rT,{message:v})})},unblock:()=>{f(v=>{Mo(v,aT)})},showTab:v=>{f(C=>{const k=s.getBody();du.getState(k).get().exists(E=>E.isTabPanel())&&Cs.getCurrent(k).each(E=>{Ly.showTab(E,v)})})},redial:v=>{f(C=>{const k=s.getId(),E=i(v),B=Lw(E.internalDialog.buttons,u);C.getSystem().broadcastOn([`${Nb}-${k}`],E),C.getSystem().broadcastOn([`${VT}-${k}`],E.internalDialog),C.getSystem().broadcastOn([`${HI}-${k}`],E.internalDialog),C.getSystem().broadcastOn([`${zI}-${k}`],{...E.internalDialog,buttons:B}),b.setData(E.initialData)})},close:()=>{f(v=>{Mo(v,Tb)})},toggleFullscreen:s.toggleFullscreen};return b},mB=(s,i,u,f=!1,b)=>{const v=In("dialog"),C=In("dialog-label"),k=In("dialog-content"),E=s.internalDialog,B=Hn(E.size),$=Mw(B.get()).toArray(),L=$s(((Ae,Ie,Xe,dt)=>lm.sketch({dom:Jg('<div class="tox-dialog__header"></div>'),components:[Z4(Ae,Ie,P.some(Xe),dt),K4(),oB(dt)],containerBehaviours:en([M0.config({mode:"mouse",blockerClass:"blocker",getTarget:Lt=>Xd(Lt,'[role="dialog"]').getOrDie(),snaps:{getSnapPoints:()=>[],leftAttr:"data-drag-left",topAttr:"data-drag-top"}})])}))({title:E.title,draggable:!0},v,C,u.shared.providers)),Z=$s(((Ae,Ie,Xe,dt,Lt,Dt)=>Q_(Ae,Ie,P.some(Xe),dt,Lt,Dt))({body:E.body,initialData:E.initialData},v,k,u,f,Ae=>Fw(ge,Ae))),Q=Lw(E.buttons),se=cB(Q),me=Vo(Q.length!==0,$s(((Ae,Ie,Xe)=>dB(Ae,Ie,Xe))({buttons:Q},v,u))),pe=uB(()=>Ce,{onBlock:Ae=>{mf.block(he,(Ie,Xe)=>{const dt=L.getOpt(he).map(Lt=>_r(Lt.element));return rB(Ae.message,Xe,u.shared.providers,dt)})},onUnblock:()=>{mf.unblock(he)},onClose:()=>i.closeWindow()},u.shared.getSink),Ee=Fa().os,he=_i({dom:{tag:"div",classes:["tox-dialog","tox-dialog-inline",...$],attributes:{role:"dialog",...Ee.isMacOS()?{"aria-label":E.title}:{"aria-labelledby":C}}},eventOrder:{[ec()]:[du.name(),sc.name()],[cl()]:["execute-on-form"],[li()]:["reflecting","execute-on-form"]},behaviours:en([qn.config({mode:"cyclic",onEscape:Ae=>(Mo(Ae,Tb),P.some(!0)),useTabstopAt:Ae=>!Sy(Ae)&&(ol(Ae)!=="button"||Ko(Ae,"disabled")!=="disabled"),firstTabstop:1}),du.config({channel:`${Nb}-${v}`,updateState:(Ae,Ie)=>(B.set(Ie.internalDialog.size),Y4(Ie.internalDialog.size,Ae),b(),P.some(Ie)),initialData:s}),vo.config({}),Fo("execute-on-form",pe.concat([Gd(_s(),(Ae,Ie)=>{qn.focusIn(Ae)}),Rt(Gp(),(Ae,Ie)=>{Ae.getSystem().broadcastOn([f_],{newFocus:Ie.event.newFocus})})])),mf.config({getRoot:()=>P.some(he)}),io.config({}),iw({})]),components:[L.asSpec(),Z.asSpec(),...me.map(Ae=>Ae.asSpec()).toArray()]}),ge={getId:q(v),getRoot:q(he),getFooter:()=>me.map(Ae=>Ae.get(he)),getBody:()=>Z.get(he),getFormWrapper:()=>{const Ae=Z.get(he);return Cs.getCurrent(Ae).getOr(Ae)},toggleFullscreen:()=>{iB(he,B.get())}},Ce=fB(ge,i.redial,se);return{dialog:he,instanceApi:Ce}};var Q4=tinymce.util.Tools.resolve("tinymce.util.URI");const tH=["insertContent","setContent","execCommand","close","block","unblock"],eO=s=>y(s)&&tH.indexOf(s.mceAction)!==-1,nH=(s,i,u,f)=>{const b=In("dialog"),v=sB(s.title,b,f),C=(Ee=>{const he={dom:{tag:"div",classes:["tox-dialog__content-js"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-iframe"]},components:[FT(P.none(),{dom:{tag:"iframe",attributes:{src:Ee.url}},behaviours:en([lr.config({}),vo.config({})])})]}],behaviours:en([qn.config({mode:"acyclic",useTabstopAt:Fe(Sy)})])};return Xr.parts.body(he)})(s),k=s.buttons.bind(Ee=>Ee.length===0?P.none():P.some(J4({buttons:Ee},b,f))),E=((Ee,he)=>{const ge=(Ae,Ie)=>Rt(Ae,(Xe,dt)=>{Ce(Xe,(Lt,Dt)=>{Ie(pe,Lt,dt.event,Xe)})}),Ce=(Ae,Ie)=>{du.getState(Ae).get().each(Xe=>{Ie(Xe,Ae)})};return[...X4(ge,he),ge(sg,(Ae,Ie,Xe)=>{Ie.onAction(Ae,{name:Xe.name})})]})(0,aB(()=>me,f.shared.providers,i)),B={...s.height.fold(()=>({}),Ee=>({height:Ee+"px","max-height":Ee+"px"})),...s.width.fold(()=>({}),Ee=>({width:Ee+"px","max-width":Ee+"px"}))},$=s.width.isNone()&&s.height.isNone()?["tox-dialog--width-lg"]:[],L=new Q4(s.url,{base_uri:new Q4(window.location.href)}),Z=`${L.protocol}://${L.host}${L.port?":"+L.port:""}`,Q=_c(),se=[du.config({channel:`${Nb}-${b}`,updateState:(Ee,he)=>P.some(he),initialData:s}),Fo("messages",[cr(()=>{const Ee=Al(xn(window),"message",he=>{if(L.isSameOrigin(new Q4(he.raw.origin))){const ge=he.raw.data;eO(ge)?((Ce,Ae,Ie)=>{switch(Ie.mceAction){case"insertContent":Ce.insertContent(Ie.content);break;case"setContent":Ce.setContent(Ie.content);break;case"execCommand":const Xe=!!O(Ie.ui)&&Ie.ui;Ce.execCommand(Ie.cmd,Xe,Ie.value);break;case"close":Ae.close();break;case"block":Ae.block(Ie.message);break;case"unblock":Ae.unblock()}})(u,pe,ge):(Ce=>!eO(Ce)&&y(Ce)&&ro(Ce,"mceAction"))(ge)&&s.onMessage(pe,ge)}});Q.set(Ee)}),Du(Q.clear)]),sc.config({channels:{[HT]:{onReceive:(Ee,he)=>{Rr(Ee.element,"iframe").each(ge=>{const Ce=ge.dom.contentWindow;z(Ce)&&Ce.postMessage(he,Z)})}}}})],me=lB({id:b,header:v,body:C,footer:k,extraClasses:$,extraBehaviours:se,extraStyles:B},E,f),pe=(Ee=>{const he=ge=>{Ee.getSystem().isConnected()&&ge(Ee)};return{block:ge=>{if(!g(ge))throw new Error("The urlDialogInstanceAPI.block function should be passed a blocking message of type string as an argument");he(Ce=>{jn(Ce,rT,{message:ge})})},unblock:()=>{he(ge=>{Mo(ge,aT)})},close:()=>{he(ge=>{Mo(ge,Tb)})},sendMessage:ge=>{he(Ce=>{Ce.getSystem().broadcastOn([HT],ge)})}}})(me);return{dialog:me,instanceApi:pe}},tO=(s,i)=>wi(kr("data",i,s)),gB=s=>xy(s,".tox-alert-dialog")||xy(s,".tox-confirm-dialog"),oH=(s,i,u)=>i&&u?[]:[Or.config({contextual:{lazyContext:()=>P.some(ta(xn(s.getContentAreaContainer()))),fadeInClass:"tox-dialog-dock-fadein",fadeOutClass:"tox-dialog-dock-fadeout",transitionClass:"tox-dialog-dock-transition"},modes:["top"],lazyViewport:f=>bb(s,f.element).map(b=>({bounds:vb(b),optScrollEnv:P.some({currentScrollTop:b.element.dom.scrollTop,scrollElmTop:Sl(b.element).top})})).getOrThunk(()=>({bounds:Aa(),optScrollEnv:P.none()}))})],sH=s=>{const i=s.editor,u=dp(i),f=(E=>{const B=E.shared;return{open:($,L)=>{const Z=()=>{Xr.hide(pe),L()},Q=$s(Ey({name:"close-alert",text:"OK",primary:!0,buttonType:P.some("primary"),align:"end",enabled:!0,icon:P.none()},"cancel",E)),se=W4(),me=U4(Z,B.providers),pe=_i(j4({lazySink:()=>B.getSink(),header:Pw(se,me),body:eB($,B.providers),footer:P.some(tB(nB([],[Q.asSpec()]))),onEscape:Z,extraClasses:["tox-alert-dialog"],extraBehaviours:[],extraStyles:{},dialogEvents:[Rt(bp,Z)],eventOrder:{}}));Xr.show(pe);const Ee=Q.get(pe);vo.focus(Ee)}}})(s.backstages.dialog),b=(E=>{const B=E.shared;return{open:($,L)=>{const Z=ge=>{Xr.hide(Ee),L(ge)},Q=$s(Ey({name:"yes",text:"Yes",primary:!0,buttonType:P.some("primary"),align:"end",enabled:!0,icon:P.none()},"submit",E)),se=Ey({name:"no",text:"No",primary:!1,buttonType:P.some("secondary"),align:"end",enabled:!0,icon:P.none()},"cancel",E),me=W4(),pe=U4(()=>Z(!1),B.providers),Ee=_i(j4({lazySink:()=>B.getSink(),header:Pw(me,pe),body:eB($,B.providers),footer:P.some(tB(nB([],[se,Q.asSpec()]))),onEscape:()=>Z(!1),extraClasses:["tox-confirm-dialog"],extraBehaviours:[],extraStyles:{},dialogEvents:[Rt(bp,()=>Z(!1)),Rt(nw,()=>Z(!0))],eventOrder:{}}));Xr.show(Ee);const he=Q.get(Ee);vo.focus(he)}}})(s.backstages.dialog),v=(E,B)=>L0.open(($,L,Z)=>{const Q=L,se=((me,pe,Ee)=>{const he=In("dialog"),ge=me.internalDialog,Ce=sB(ge.title,he,Ee),Ae=Hn(ge.size),Ie=Mw(Ae.get()).toArray(),Xe=((Co,es,yr,Dr)=>{const $o=Q_(Co,es,P.none(),yr,!1,Dr);return Xr.parts.body($o)})({body:ge.body,initialData:ge.initialData},he,Ee,Co=>Fw(zn,Co)),dt=Lw(ge.buttons),Lt=cB(dt),Dt=Vo(dt.length!==0,J4({buttons:dt},he,Ee)),At=uB(()=>Qn,aB(()=>En,Ee.shared.providers,pe),Ee.shared.getSink),Jt={id:he,header:Ce,body:Xe,footer:Dt,extraClasses:Ie,extraBehaviours:[du.config({channel:`${Nb}-${he}`,updateState:(Co,es)=>(Ae.set(es.internalDialog.size),Y4(es.internalDialog.size,Co),P.some(es)),initialData:me})],extraStyles:{}},En=lB(Jt,At,Ee),zn={getId:q(he),getRoot:q(En),getBody:()=>Xr.getBody(En),getFooter:()=>Xr.getFooter(En),getFormWrapper:()=>{const Co=Xr.getBody(En);return Cs.getCurrent(Co).getOr(Co)},toggleFullscreen:()=>{iB(En,Ae.get())}},Qn=fB(zn,pe.redial,Lt);return{dialog:En,instanceApi:Qn}})({dataValidator:Z,initialData:Q,internalDialog:$},{redial:L0.redial,closeWindow:()=>{Xr.hide(se.dialog),B(se.instanceApi)}},s.backstages.dialog);return Xr.show(se.dialog),se.instanceApi.setData(Q),se.instanceApi},E),C=(E,B,$,L)=>L0.open((Z,Q,se)=>{const me=tO(Q,se),pe=bs(),Ee=s.backstages.popup.shared.header.isPositionedAtTop(),he=()=>pe.on(Ae=>{Br.reposition(Ae),u&&Ee||Or.refresh(Ae)}),ge=mB({dataValidator:se,initialData:me,internalDialog:Z},{redial:L0.redial,closeWindow:()=>{pe.on(Br.hide),i.off("ResizeEditor",he),pe.clear(),$(ge.instanceApi)}},s.backstages.popup,L.ariaAttrs,he),Ce=_i(Br.sketch({lazySink:s.backstages.popup.shared.getSink,dom:{tag:"div",classes:[]},fireDismissalEventInstead:L.persistent?{event:"doNotDismissYet"}:{},...Ee?{}:{fireRepositionEventInstead:{}},inlineBehaviours:en([Fo("window-manager-inline-events",[Rt(Im(),(Ae,Ie)=>{Mo(ge.dialog,bp)})]),...oH(i,u,Ee)]),isExtraPart:(Ae,Ie)=>gB(Ie)}));return pe.set(Ce),Br.showWithinBounds(Ce,Vl(ge.dialog),{anchor:B},()=>{const Ae=i.inline?_n():xn(i.getContainer()),Ie=ta(Ae);return P.some(Ie)}),u&&Ee||(Or.refresh(Ce),i.on("ResizeEditor",he)),ge.instanceApi.setData(me),qn.focusIn(ge.dialog),ge.instanceApi},E),k=(E,B,$,L)=>L0.open((Z,Q,se)=>{const me=tO(Q,se),pe=bs(),Ee=s.backstages.popup.shared.header.isPositionedAtTop(),he=()=>pe.on(Ae=>{Br.reposition(Ae),Or.refresh(Ae)}),ge=mB({dataValidator:se,initialData:me,internalDialog:Z},{redial:L0.redial,closeWindow:()=>{pe.on(Br.hide),i.off("ResizeEditor ScrollWindow ElementScroll",he),pe.clear(),$(ge.instanceApi)}},s.backstages.popup,L.ariaAttrs,he),Ce=_i(Br.sketch({lazySink:s.backstages.popup.shared.getSink,dom:{tag:"div",classes:[]},fireDismissalEventInstead:L.persistent?{event:"doNotDismissYet"}:{},...Ee?{}:{fireRepositionEventInstead:{}},inlineBehaviours:en([Fo("window-manager-inline-events",[Rt(Im(),(Ae,Ie)=>{Mo(ge.dialog,bp)})]),Or.config({contextual:{lazyContext:()=>P.some(ta(xn(i.getContentAreaContainer()))),fadeInClass:"tox-dialog-dock-fadein",fadeOutClass:"tox-dialog-dock-fadeout",transitionClass:"tox-dialog-dock-transition"},modes:["top","bottom"],lazyViewport:Ae=>bb(i,Ae.element).map(Ie=>({bounds:vb(Ie),optScrollEnv:P.some({currentScrollTop:Ie.element.dom.scrollTop,scrollElmTop:Sl(Ie.element).top})})).getOrThunk(()=>({bounds:Aa(),optScrollEnv:P.none()}))})]),isExtraPart:(Ae,Ie)=>gB(Ie)}));return pe.set(Ce),Br.showWithinBounds(Ce,Vl(ge.dialog),{anchor:B},()=>s.backstages.popup.shared.getSink().toOptional().bind(Ae=>{const Ie=bb(i,Ae.element).map(Lt=>vb(Lt)).getOr(Aa()),Xe=ta(xn(i.getContentAreaContainer())),dt=Gc(Xe,Ie);return P.some(Ho(dt.x,dt.y,dt.width,dt.height-15))})),Or.refresh(Ce),i.on("ResizeEditor ScrollWindow ElementScroll ResizeWindow",he),ge.instanceApi.setData(me),qn.focusIn(ge.dialog),ge.instanceApi},E);return{open:(E,B,$)=>{if(!N(B)){if(B.inline==="toolbar")return C(E,s.backstages.popup.shared.anchors.inlineDialog(),$,B);if(B.inline==="bottom")return k(E,s.backstages.popup.shared.anchors.inlineBottomDialog(),$,B);if(B.inline==="cursor")return C(E,s.backstages.popup.shared.anchors.cursor(),$,B)}return v(E,$)},openUrl:(E,B)=>(($,L)=>L0.openUrl(Z=>{const Q=nH(Z,{closeWindow:()=>{Xr.hide(Q.dialog),L(Q.instanceApi)}},i,s.backstages.dialog);return Xr.show(Q.dialog),Q.instanceApi},$))(E,B),alert:(E,B)=>{f.open(E,B)},close:E=>{E.close()},confirm:(E,B)=>{b.open(E,B)}}};Bf.add("silver",s=>{(k=>{xD(k),(E=>{const B=E.options.register,$=Z=>oe(Z,g)?{value:_F(Z),valid:!0}:{valid:!1,message:"Must be an array of strings."},L=Z=>X(Z)&&Z>0?{value:Z,valid:!0}:{valid:!1,message:"Must be a positive number."};B("color_map",{processor:$,default:["#BFEDD2","Light Green","#FBEEB8","Light Yellow","#F8CAC6","Light Red","#ECCAFA","Light Purple","#C2E0F4","Light Blue","#2DC26B","Green","#F1C40F","Yellow","#E03E2D","Red","#B96AD9","Purple","#3598DB","Blue","#169179","Dark Turquoise","#E67E23","Orange","#BA372A","Dark Red","#843FA1","Dark Purple","#236FA1","Dark Blue","#ECF0F1","Light Gray","#CED4D9","Medium Gray","#95A5A6","Gray","#7E8C8D","Dark Gray","#34495E","Navy Blue","#000000","Black","#ffffff","White"]}),B("color_map_background",{processor:$}),B("color_map_foreground",{processor:$}),B("color_cols",{processor:L,default:PS(E)}),B("color_cols_foreground",{processor:L,default:zN(E,FA)}),B("color_cols_background",{processor:L,default:zN(E,$A)}),B("custom_colors",{processor:"boolean",default:!0}),B("color_default_foreground",{processor:"string",default:G2}),B("color_default_background",{processor:"string",default:G2})})(k),(E=>{const B=E.options.register;B("contextmenu_avoid_overlap",{processor:"string",default:""}),B("contextmenu_never_use_native",{processor:"boolean",default:!1}),B("contextmenu",{processor:$=>$===!1?{value:[],valid:!0}:g($)||oe($,g)?{value:LP($),valid:!0}:{valid:!1,message:"Must be false or a string."},default:"link linkchecker image editimage table spellchecker configurepermanentpen"})})(k)})(s);let i=()=>Aa();const{dialogs:u,popups:f,renderUI:b}=fV(s,{getPopupSinkBounds:()=>i()});iI(s,f.backstage.shared);const v=sH({editor:s,backstages:{popup:f.backstage,dialog:u.backstage}}),C=bs();return{renderUI:()=>{const k=b();return bb(s,f.getMothership().element).each(E=>{i=()=>vb(E)}),k},getWindowManagerImpl:q(v),getNotificationManagerImpl:()=>KD(s,{backstage:f.backstage},f.getMothership(),C)}})})();(function(){var n=tinymce.util.Tools.resolve("tinymce.ModelManager");const r=x=>_=>(D=>{const F=typeof D;return D===null?"null":F==="object"&&Array.isArray(D)?"array":F==="object"&&(K=G=D,(ae=String).prototype.isPrototypeOf(K)||((ue=G.constructor)===null||ue===void 0?void 0:ue.name)===ae.name)?"string":F;var K,G,ae,ue})(_)===x,l=x=>_=>typeof _===x,d=x=>_=>x===_,h=r("string"),g=r("object"),y=r("array"),w=d(null),A=l("boolean"),R=d(void 0),O=x=>!(_=>_==null)(x),N=l("function"),V=l("number"),z=()=>{},W=x=>()=>x,X=x=>x,oe=(x,_)=>x===_;function j(x,..._){return(...D)=>{const F=_.concat(D);return x.apply(null,F)}}const fe=x=>_=>!x(_),le=x=>x(),q=W(!1),de=W(!0);class ne{constructor(_,D){this.tag=_,this.value=D}static some(_){return new ne(!0,_)}static none(){return ne.singletonNone}fold(_,D){return this.tag?D(this.value):_()}isSome(){return this.tag}isNone(){return!this.tag}map(_){return this.tag?ne.some(_(this.value)):ne.none()}bind(_){return this.tag?_(this.value):ne.none()}exists(_){return this.tag&&_(this.value)}forall(_){return!this.tag||_(this.value)}filter(_){return!this.tag||_(this.value)?this:ne.none()}getOr(_){return this.tag?this.value:_}or(_){return this.tag?this:_}getOrThunk(_){return this.tag?this.value:_()}orThunk(_){return this.tag?this:_()}getOrDie(_){if(this.tag)return this.value;throw new Error(_??"Called getOrDie on None")}static from(_){return O(_)?ne.some(_):ne.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(_){this.tag&&_(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}ne.singletonNone=new ne(!1);const be=Array.prototype.slice,Fe=Array.prototype.indexOf,Ze=Array.prototype.push,rt=(x,_)=>{return D=x,F=_,Fe.call(D,F)>-1;var D,F},Oe=(x,_)=>{for(let D=0,F=x.length;D<F;D++)if(_(x[D],D))return!0;return!1},Ve=(x,_)=>{const D=[];for(let F=0;F<x;F++)D.push(_(F));return D},P=(x,_)=>{const D=x.length,F=new Array(D);for(let K=0;K<D;K++){const G=x[K];F[K]=_(G,K)}return F},wt=(x,_)=>{for(let D=0,F=x.length;D<F;D++)_(x[D],D)},Nt=(x,_)=>{const D=[],F=[];for(let K=0,G=x.length;K<G;K++){const ae=x[K];(_(ae,K)?D:F).push(ae)}return{pass:D,fail:F}},Kt=(x,_)=>{const D=[];for(let F=0,K=x.length;F<K;F++){const G=x[F];_(G,F)&&D.push(G)}return D},rn=(x,_,D)=>(((F,K)=>{for(let G=F.length-1;G>=0;G--)K(F[G],G)})(x,(F,K)=>{D=_(D,F,K)}),D),ct=(x,_,D)=>(wt(x,(F,K)=>{D=_(D,F,K)}),D),Tn=(x,_)=>((D,F,K)=>{for(let G=0,ae=D.length;G<ae;G++){const ue=D[G];if(F(ue,G))return ne.some(ue);if(K(ue,G))break}return ne.none()})(x,_,q),Tt=(x,_)=>{for(let D=0,F=x.length;D<F;D++)if(_(x[D],D))return ne.some(D);return ne.none()},ot=x=>{const _=[];for(let D=0,F=x.length;D<F;++D){if(!y(x[D]))throw new Error("Arr.flatten item "+D+" was not an array, input: "+x);Ze.apply(_,x[D])}return _},$e=(x,_)=>ot(P(x,_)),ht=(x,_)=>{for(let D=0,F=x.length;D<F;++D)if(_(x[D],D)!==!0)return!1;return!0},Dn=(x,_)=>{const D={};for(let F=0,K=x.length;F<K;F++){const G=x[F];D[String(G)]=_(G,F)}return D},mn=(x,_)=>_>=0&&_<x.length?ne.some(x[_]):ne.none(),Fn=x=>mn(x,0),Gt=x=>mn(x,x.length-1),te=(x,_)=>{for(let D=0;D<x.length;D++){const F=_(x[D],D);if(F.isSome())return F}return ne.none()},So=Object.keys,tn=Object.hasOwnProperty,Cn=(x,_)=>{const D=So(x);for(let F=0,K=D.length;F<K;F++){const G=D[F];_(x[G],G)}},qe=(x,_)=>st(x,(D,F)=>({k:F,v:_(D,F)})),st=(x,_)=>{const D={};return Cn(x,(F,K)=>{const G=_(F,K);D[G.k]=G.v}),D},xe=(x,_)=>{const D=[];return Cn(x,(F,K)=>{D.push(_(F,K))}),D},Re=x=>xe(x,X),Ue=(x,_)=>tn.call(x,_),ye=typeof window<"u"?window:Function("return this;")(),_e=(x,_)=>((D,F)=>{let K=F??ye;for(let G=0;G<D.length&&K!=null;++G)K=K[D[G]];return K})(x.split("."),_),Be=Object.getPrototypeOf,Ye=x=>{const _=_e("ownerDocument.defaultView",x);return g(x)&&((D=>((F,K)=>{const G=((ae,ue)=>_e(ae,ue))(F,K);if(G==null)throw new Error(F+" not available on this browser");return G})("HTMLElement",D))(_).prototype.isPrototypeOf(x)||/^HTML\w*Element$/.test(Be(x).constructor.name))},pt=x=>x.dom.nodeName.toLowerCase(),fn=x=>x.dom.nodeType,qt=x=>_=>fn(_)===x,Nn=x=>fn(x)===8||pt(x)==="#comment",no=x=>so(x)&&Ye(x.dom),so=qt(1),Wo=qt(3),Po=qt(9),or=qt(11),ps=x=>_=>so(_)&&pt(_)===x,Qr=(x,_,D)=>{if(!(h(D)||A(D)||V(D)))throw console.error("Invalid call to Attribute.set. Key ",_,":: Value ",D,":: Element ",x),new Error("Attribute value was not simple");x.setAttribute(_,D+"")},ms=(x,_,D)=>{Qr(x.dom,_,D)},Qa=(x,_)=>{const D=x.dom;Cn(_,(F,K)=>{Qr(D,K,F)})},on=(x,_)=>{const D=x.dom.getAttribute(_);return D===null?void 0:D},ro=(x,_)=>ne.from(on(x,_)),Do=(x,_)=>{x.dom.removeAttribute(_)},ia=x=>ct(x.dom.attributes,(_,D)=>(_[D.name]=D.value,_),{}),tl=x=>{if(x==null)throw new Error("Node cannot be null or undefined");return{dom:x}},Yt={fromHtml:(x,_)=>{const D=(_||document).createElement("div");if(D.innerHTML=x,!D.hasChildNodes()||D.childNodes.length>1){const F="HTML does not have a single root node";throw console.error(F,x),new Error(F)}return tl(D.childNodes[0])},fromTag:(x,_)=>{const D=(_||document).createElement(x);return tl(D)},fromText:(x,_)=>{const D=(_||document).createTextNode(x);return tl(D)},fromDom:tl,fromPoint:(x,_,D)=>ne.from(x.dom.elementFromPoint(_,D)).map(tl)},ba=(x,_)=>{const D=x.dom;if(D.nodeType!==1)return!1;{const F=D;if(F.matches!==void 0)return F.matches(_);if(F.msMatchesSelector!==void 0)return F.msMatchesSelector(_);if(F.webkitMatchesSelector!==void 0)return F.webkitMatchesSelector(_);if(F.mozMatchesSelector!==void 0)return F.mozMatchesSelector(_);throw new Error("Browser lacks native selectors")}},Vo=x=>x.nodeType!==1&&x.nodeType!==9&&x.nodeType!==11||x.childElementCount===0,Bl=(x,_)=>{const D=_===void 0?document:_.dom;return Vo(D)?ne.none():ne.from(D.querySelector(x)).map(Yt.fromDom)},Vs=(x,_)=>x.dom===_.dom,ea=(x,_)=>{const D=x.dom,F=_.dom;return D!==F&&D.contains(F)},vc=ba,yc=x=>Yt.fromDom(x.dom.ownerDocument),xc=x=>Po(x)?x:yc(x),pl=x=>ne.from(x.dom.parentNode).map(Yt.fromDom),wc=x=>ne.from(x.dom.parentElement).map(Yt.fromDom),Hs=(x,_)=>{const D=N(_)?_:q;let F=x.dom;const K=[];for(;F.parentNode!==null&&F.parentNode!==void 0;){const G=F.parentNode,ae=Yt.fromDom(G);if(K.push(ae),D(ae)===!0)break;F=G}return K},ho=x=>ne.from(x.dom.previousSibling).map(Yt.fromDom),nl=x=>ne.from(x.dom.nextSibling).map(Yt.fromDom),Ma=x=>P(x.dom.childNodes,Yt.fromDom),vu=(x,_)=>{const D=x.dom.childNodes;return ne.from(D[_]).map(Yt.fromDom)},xn=(x,_)=>{pl(x).each(D=>{D.dom.insertBefore(_.dom,x.dom)})},Yl=(x,_)=>{nl(x).fold(()=>{pl(x).each(D=>{wr(D,_)})},D=>{xn(D,_)})},Of=(x,_)=>{(F=>vu(F,0))(x).fold(()=>{wr(x,_)},F=>{x.dom.insertBefore(_.dom,F.dom)})},wr=(x,_)=>{x.dom.appendChild(_.dom)},Rf=(x,_)=>{xn(x,_),wr(_,x)},ol=(x,_)=>{wt(_,(D,F)=>{const K=F===0?x:_[F-1];Yl(K,D)})},Ml=(x,_)=>{wt(_,D=>{wr(x,D)})},bl=x=>{x.dom.textContent="",wt(Ma(x),_=>{ar(_)})},ar=x=>{const _=x.dom;_.parentNode!==null&&_.parentNode.removeChild(_)},ei=x=>{const _=Ma(x);_.length>0&&ol(x,_),ar(x)},sl=(x,_)=>Yt.fromDom(x.dom.cloneNode(_)),Df=x=>sl(x,!1),Wc=x=>sl(x,!0),vl=(x,_)=>{const D=Yt.fromTag(_),F=ia(x);return Qa(D,F),D},Od=["tfoot","thead","tbody","colgroup"],yu=(x,_,D)=>({element:x,rowspan:_,colspan:D}),os=(x,_,D)=>({element:x,cells:_,section:D}),$r=(x,_,D)=>({element:x,isNew:_,isLocked:D}),la=(x,_,D,F)=>({element:x,cells:_,section:D,isNew:F}),Nf=x=>Yt.fromDom(x.dom.host),rl=x=>{const _=Wo(x)?x.dom.parentNode:x.dom;if(_==null||_.ownerDocument===null)return!1;const D=_.ownerDocument;return(G=>{const ae=(ke=>Yt.fromDom(ke.dom.getRootNode()))(G);return or(ue=ae)&&O(ue.dom.host)?ne.some(ae):ne.none();var ue})(Yt.fromDom(_)).fold(()=>D.body.contains(_),(F=rl,K=Nf,G=>F(K(G))));var F,K},jc=x=>{const _=x.dom.body;if(_==null)throw new Error("Body is not available yet");return Yt.fromDom(_)},Ea=(x,_)=>{let D=[];return wt(Ma(x),F=>{_(F)&&(D=D.concat([F])),D=D.concat(Ea(F,_))}),D},pi=(x,_,D)=>((F,K,G)=>Kt(Hs(F,G),ae=>ba(ae,_)))(x,0,D),bi=(x,_)=>((D,F)=>Kt(Ma(D),K=>ba(K,_)))(x),Ns=(x,_)=>((D,F)=>{const K=F===void 0?document:F.dom;return Vo(K)?[]:P(K.querySelectorAll(D),Yt.fromDom)})(_,x);var hr=(x,_,D,F,K)=>x(D,F)?ne.some(D):N(K)&&K(D)?ne.none():_(D,F,K);const Pe=(x,_,D)=>{let F=x.dom;const K=N(D)?D:q;for(;F.parentNode;){F=F.parentNode;const G=Yt.fromDom(F);if(_(G))return ne.some(G);if(K(G))break}return ne.none()},ut=(x,_,D)=>hr((F,K)=>K(F),Pe,x,_,D),We=(x,_,D)=>Pe(x,F=>ba(F,_),D),yt=(x,_)=>((D,F)=>Tn(D.dom.childNodes,K=>{return G=Yt.fromDom(K),ba(G,_);var G}).map(Yt.fromDom))(x),bt=(x,_)=>Bl(_,x),it=(x,_,D)=>hr((F,K)=>ba(F,K),We,x,_,D),Qt=(x,_,D=oe)=>x.exists(F=>D(F,_)),gn=x=>{const _=[],D=F=>{_.push(F)};for(let F=0;F<x.length;F++)x[F].each(D);return _},yn=(x,_)=>x?ne.some(_):ne.none(),_n=(x,_,D)=>_===""||x.length>=_.length&&x.substr(D,D+_.length)===_,wn=(x,_,D=0,F)=>{const K=x.indexOf(_,D);return K!==-1&&(!!R(F)||K+_.length<=F)},_o=(x,_)=>_n(x,_,0),bn=(x,_)=>_n(x,_,x.length-_.length),Fs=(x=>_=>_.replace(x,""))(/^\s+|\s+$/g),Ko=x=>x.length>0,is=x=>x.style!==void 0&&N(x.style.getPropertyValue),Vr=(x,_,D)=>{if(!h(D))throw console.error("Invalid call to CSS.set. Property ",_,":: Value ",D,":: Element ",x),new Error("CSS value must be a string: "+D);is(x)&&x.style.setProperty(_,D)},Bo=(x,_,D)=>{const F=x.dom;Vr(F,_,D)},Xl=(x,_)=>{const D=x.dom;Cn(_,(F,K)=>{Vr(D,K,F)})},vi=(x,_)=>{const D=x.dom,F=window.getComputedStyle(D).getPropertyValue(_);return F!==""||rl(x)?F:po(D,_)},po=(x,_)=>is(x)?x.style.getPropertyValue(_):"",yl=(x,_)=>{const D=x.dom,F=po(D,_);return ne.from(F).filter(K=>K.length>0)},xl=(x,_)=>{((D,F)=>{is(D)&&D.style.removeProperty(F)})(x.dom,_),Qt(ro(x,"style").map(Fs),"")&&Do(x,"style")},Sr=(x,_,D=0)=>ro(x,_).map(F=>parseInt(F,10)).getOr(D),Rd=(x,_)=>Sr(x,_,1),jr=x=>ps("col")(x)?Sr(x,"span",1)>1:Rd(x,"colspan")>1,If=(x,_)=>parseInt(vi(x,_),10),wl=W(10),Is=W(10),Yu=(x,_)=>Cm(x,_,de),Cm=(x,_,D)=>$e(Ma(x),F=>ba(F,_)?D(F)?[F]:[]:Cm(F,_,D)),Sm=(x,_)=>((D,F,K=q)=>K(F)?ne.none():rt(D,pt(F))?ne.some(F):We(F,D.join(","),G=>ba(G,"table")||K(G)))(["td","th"],x,_),_r=x=>Yu(x,"th,td"),al=x=>ba(x,"colgroup")?bi(x,"col"):$e(Dd(x),_=>bi(_,"col")),Cl=(x,_)=>it(x,"table",_),Qs=x=>Yu(x,"tr"),Dd=x=>Cl(x).fold(W([]),_=>bi(_,"colgroup")),Sl=(x,_)=>P(x,D=>{if(pt(D)==="colgroup"){const F=P(al(D),K=>{const G=Sr(K,"span",1);return yu(K,1,G)});return os(D,F,"colgroup")}{const F=P(_r(D),K=>{const G=Sr(K,"rowspan",1),ae=Sr(K,"colspan",1);return yu(K,G,ae)});return os(D,F,_(D))}}),ti=x=>pl(x).map(_=>{const D=pt(_);return(F=>rt(Od,F))(D)?D:"tbody"}).getOr("tbody"),_m=x=>{const _=Qs(x),D=[...Dd(x),..._];return Sl(D,ti)},La=x=>{let _,D=!1;return(...F)=>(D||(D=!0,_=x.apply(null,F)),_)},Bi=()=>ni(0,0),ni=(x,_)=>({major:x,minor:_}),il={nu:ni,detect:(x,_)=>{const D=String(_).toLowerCase();return x.length===0?Bi():((F,K)=>{const G=((ue,ke)=>{for(let ze=0;ze<ue.length;ze++){const nt=ue[ze];if(nt.test(ke))return nt}})(F,K);if(!G)return{major:0,minor:0};const ae=ue=>Number(K.replace(G,"$"+ue));return ni(ae(1),ae(2))})(x,D)},unknown:Bi},vg=(x,_)=>{const D=String(_).toLowerCase();return Tn(x,F=>F.search(D))},qo=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,Zc=x=>_=>wn(_,x),Xu=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:x=>wn(x,"edge/")&&wn(x,"chrome")&&wn(x,"safari")&&wn(x,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,qo],search:x=>wn(x,"chrome")&&!wn(x,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:x=>wn(x,"msie")||wn(x,"trident")},{name:"Opera",versionRegexes:[qo,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:Zc("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:Zc("firefox")},{name:"Safari",versionRegexes:[qo,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:x=>(wn(x,"safari")||wn(x,"mobile/"))&&wn(x,"applewebkit")}],xu=[{name:"Windows",search:Zc("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:x=>wn(x,"iphone")||wn(x,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:Zc("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:Zc("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:Zc("linux"),versionRegexes:[]},{name:"Solaris",search:Zc("sunos"),versionRegexes:[]},{name:"FreeBSD",search:Zc("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:Zc("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],Rh={browsers:W(Xu),oses:W(xu)},lv="Edge",Ll="Chromium",Dh="Opera",cv="Firefox",yg="Safari",jp=x=>{const _=x.current,D=x.version,F=K=>()=>_===K;return{current:_,version:D,isEdge:F(lv),isChromium:F(Ll),isIE:F("IE"),isOpera:F(Dh),isFirefox:F(cv),isSafari:F(yg)}},an=()=>jp({current:void 0,version:il.unknown()}),Nd=jp,Id="Windows",xg="Android",oi="Linux",Pd="macOS",Pf="Solaris",uv="FreeBSD",Zp="ChromeOS",Kp=x=>{const _=x.current,D=x.version,F=K=>()=>_===K;return{current:_,version:D,isWindows:F(Id),isiOS:F("iOS"),isAndroid:F(xg),isMacOS:F(Pd),isLinux:F(oi),isSolaris:F(Pf),isFreeBSD:F(uv),isChromeOS:F(Zp)}},m1=()=>Kp({current:void 0,version:il.unknown()}),dv=Kp,g1=x=>window.matchMedia(x).matches;let wg=La(()=>((x,_,D)=>{const F=Rh.browsers(),K=Rh.oses(),G=_.bind(ke=>((ze,nt)=>te(nt.brands,Le=>{const je=Le.brand.toLowerCase();return Tn(ze,Ge=>{var ft;return je===((ft=Ge.brand)===null||ft===void 0?void 0:ft.toLowerCase())}).map(Ge=>({current:Ge.name,version:il.nu(parseInt(Le.version,10),0)}))}))(F,ke)).orThunk(()=>((ke,ze)=>vg(ke,ze).map(nt=>{const Le=il.detect(nt.versionRegexes,ze);return{current:nt.name,version:Le}}))(F,x)).fold(an,Nd),ae=((ke,ze)=>vg(ke,ze).map(nt=>{const Le=il.detect(nt.versionRegexes,ze);return{current:nt.name,version:Le}}))(K,x).fold(m1,dv),ue=((ke,ze,nt,Le)=>{const je=ke.isiOS()&&/ipad/i.test(nt)===!0,Ge=ke.isiOS()&&!je,ft=ke.isiOS()||ke.isAndroid(),gt=ft||Le("(pointer:coarse)"),Ht=je||!Ge&&ft&&Le("(min-device-width:768px)"),zt=Ge||ft&&!Ht,Vt=ze.isSafari()&&ke.isiOS()&&/safari/i.test(nt)===!1,Wt=!zt&&!Ht&&!Vt;return{isiPad:W(je),isiPhone:W(Ge),isTablet:W(Ht),isPhone:W(zt),isTouch:W(gt),isAndroid:ke.isAndroid,isiOS:ke.isiOS,isWebView:W(Vt),isDesktop:W(Wt)}})(ae,G,x,D);return{browser:G,os:ae,deviceType:ue}})(window.navigator.userAgent,ne.from(window.navigator.userAgentData),g1));const Kc=()=>wg(),Ju=(x,_)=>{const D=K=>{const G=_(K);if(G<=0||G===null){const ae=vi(K,x);return parseFloat(ae)||0}return G},F=(K,G)=>ct(G,(ae,ue)=>{const ke=vi(K,ue),ze=ke===void 0?0:parseInt(ke,10);return isNaN(ze)?ae:ae+ze},0);return{set:(K,G)=>{if(!V(G)&&!G.match(/^[0-9]+$/))throw new Error(x+".set accepts only positive integer values. Value was "+G);const ae=K.dom;is(ae)&&(ae.style[x]=G+"px")},get:D,getOuter:D,aggregate:F,max:(K,G,ae)=>{const ue=F(K,ae);return G>ue?G-ue:0}}},qc=(x,_,D)=>((F,K)=>(G=>{const ae=parseFloat(G);return isNaN(ae)?ne.none():ne.some(ae)})(F).getOr(K))(vi(x,_),D),Fa=Ju("width",x=>x.dom.offsetWidth),_l=x=>Fa.get(x),Bd=x=>Fa.getOuter(x),ls=x=>((_,D)=>{const F=_.dom,K=F.getBoundingClientRect().width||F.offsetWidth;return((G,ae,ue,ke)=>ae-qc(G,`padding-${ue}`,0)-qc(G,`padding-${ke}`,0)-qc(G,`border-${ue}-width`,0)-qc(G,`border-${ke}-width`,0))(_,K,"left","right")})(x),Cc=(x,_,D)=>{const F=x.cells,K=F.slice(0,_),G=F.slice(_),ae=K.concat(D).concat(G);return ll(x,ae)},km=(x,_,D)=>Cc(x,_,[D]),Em=(x,_,D)=>{x.cells[_]=D},ll=(x,_)=>la(x.element,_,x.section,x.isNew),Zr=(x,_)=>x.cells[_],pr=(x,_)=>Zr(x,_).element,Za=x=>x.cells.length,ir=x=>{const _=Nt(x,D=>D.section==="colgroup");return{rows:_.fail,cols:_.pass}},Md=(x,_,D)=>{const F=P(x.cells,D);return la(_(x.element),F,x.section,!0)},Ld="data-snooker-locked-cols",va=x=>ro(x,Ld).bind(_=>ne.from(_.match(/\d+/g))).map(_=>Dn(_,de)),Mi=x=>{const _=ct(ir(x).rows,(F,K)=>(wt(K.cells,(G,ae)=>{G.isLocked&&(F[ae]=!0)}),F),{}),D=xe(_,(F,K)=>parseInt(K,10));return((F,K)=>{const G=be.call(F,0);return G.sort(void 0),G})(D)},yi=(x,_)=>x+","+_,ca=(x,_)=>{const D=$e(x.all,F=>F.cells);return Kt(D,_)},Qu=x=>{const _={},D=[],F=Fn(x).map(je=>je.element).bind(Cl).bind(va).getOr({});let K=0,G=0,ae=0;const{pass:ue,fail:ke}=Nt(x,je=>je.section==="colgroup");wt(ke,je=>{const Ge=[];wt(je.cells,ft=>{let gt=0;for(;_[yi(ae,gt)]!==void 0;)gt++;const Ht=((Vt,Wt)=>Ue(Vt,Wt)&&Vt[Wt]!==void 0&&Vt[Wt]!==null)(F,gt.toString()),zt=((Vt,Wt,ln,dn,vt,Pn)=>({element:Vt,rowspan:Wt,colspan:ln,row:dn,column:vt,isLocked:Pn}))(ft.element,ft.rowspan,ft.colspan,ae,gt,Ht);for(let Vt=0;Vt<ft.colspan;Vt++)for(let Wt=0;Wt<ft.rowspan;Wt++){const ln=gt+Vt,dn=yi(ae+Wt,ln);_[dn]=zt,G=Math.max(G,ln+1)}Ge.push(zt)}),K++,D.push(os(je.element,Ge,je.section)),ae++});const{columns:ze,colgroups:nt}=Gt(ue).map(je=>{const Ge=(gt=>{const Ht={};let zt=0;return wt(gt.cells,Vt=>{const Wt=Vt.colspan;Ve(Wt,ln=>{const dn=zt+ln;Ht[dn]=((vt,Pn,co)=>({element:vt,colspan:Pn,column:co}))(Vt.element,Wt,dn)}),zt+=Wt}),Ht})(je);return{colgroups:[((gt,Ht)=>({element:gt,columns:Ht}))(je.element,Re(Ge))],columns:Ge}}).getOrThunk(()=>({colgroups:[],columns:{}}));return{grid:((je,Ge)=>({rows:je,columns:Ge}))(K,G),access:_,all:D,columns:ze,colgroups:nt}},Ho=x=>{const _=_m(x);return Qu(_)},ta=Qu,Li=(x,_,D)=>ne.from(x.access[yi(_,D)]),Gc=(x,_,D)=>{const F=ca(x,K=>D(_,K.element));return F.length>0?ne.some(F[0]):ne.none()},Aa=ca,Hn=x=>$e(x.all,_=>_.cells),Sc=x=>Re(x.columns),_c=x=>So(x.columns).length>0,bs=(x,_)=>ne.from(x.columns[_]),Bf=(x,_=de)=>{const D=x.grid,F=Ve(D.columns,X),K=Ve(D.rows,X);return P(F,G=>Nh(()=>$e(K,ae=>Li(x,ae,G).filter(ue=>ue.column===G).toArray()),ae=>ae.colspan===1&&_(ae.element),()=>Li(x,0,G)))},Nh=(x,_,D)=>{const F=x();return Tn(F,_).orThunk(()=>ne.from(F[0]).orThunk(D)).map(K=>K.element)},Yc=x=>{const _=x.grid,D=Ve(_.rows,X),F=Ve(_.columns,X);return P(D,K=>Nh(()=>$e(F,G=>Li(x,K,G).filter(ae=>ae.row===K).fold(W([]),ae=>[ae])),G=>G.rowspan===1,()=>Li(x,K,0)))},Go=(x,_)=>D=>xi(D)==="rtl"?_:x,xi=x=>vi(x,"direction")==="rtl"?"rtl":"ltr",Am=Ju("height",x=>{const _=x.dom;return rl(x)?_.getBoundingClientRect().height:_.offsetHeight}),wu=x=>Am.get(x),Cg=x=>Am.getOuter(x),kc=(x,_)=>({left:x,top:_,translate:(D,F)=>kc(x+D,_+F)}),Fi=kc,Xc=(x,_)=>x!==void 0?x:_!==void 0?_:0,Fd=x=>{const _=x.dom.ownerDocument,D=_.body,F=_.defaultView,K=_.documentElement;if(D===x.dom)return Fi(D.offsetLeft,D.offsetTop);const G=Xc(F==null?void 0:F.pageYOffset,K.scrollTop),ae=Xc(F==null?void 0:F.pageXOffset,K.scrollLeft),ue=Xc(K.clientTop,D.clientTop),ke=Xc(K.clientLeft,D.clientLeft);return Ke(x).translate(ae-ke,G-ue)},Ke=x=>{const _=x.dom,D=_.ownerDocument.body;return D===_?Fi(D.offsetLeft,D.offsetTop):rl(x)?(F=>{const K=F.getBoundingClientRect();return Fi(K.left,K.top)})(_):Fi(0,0)},Mf=(x,_)=>({row:x,y:_}),Ws=(x,_)=>({col:x,x:_}),Ih=x=>Fd(x).left+Bd(x),Tm=x=>Fd(x).left,fc=(x,_)=>Ws(x,Tm(_)),ss=(x,_)=>Ws(x,Ih(_)),si=x=>Fd(x).top,Jl=(x,_)=>Mf(x,si(_)),mc=(x,_)=>Mf(x,si(_)+Cg(_)),Jc=(x,_,D)=>{if(D.length===0)return[];const F=P(D.slice(1),(G,ae)=>G.map(ue=>x(ae,ue))),K=D[D.length-1].map(G=>_(D.length-1,G));return F.concat([K])},Cu={delta:X,positions:x=>Jc(Jl,mc,x),edge:si},Ka=Go({delta:X,edge:Tm,positions:x=>Jc(fc,ss,x)},{delta:x=>-x,edge:Ih,positions:x=>Jc(ss,fc,x)}),$d={delta:(x,_)=>Ka(_).delta(x,_),positions:(x,_)=>Ka(_).positions(x,_),edge:x=>Ka(x).edge(x)},Om={unsupportedLength:["em","ex","cap","ch","ic","rem","lh","rlh","vw","vh","vi","vb","vmin","vmax","cm","mm","Q","in","pc","pt","px"],fixed:["px","pt"],relative:["%"],empty:[""]},Sg=(()=>{const x="[0-9]+",_="[eE][+-]?"+x,D=K=>`(?:${K})?`,F=["Infinity",x+"\\."+D(x)+D(_),"\\."+x+D(_),x+D(_)].join("|");return new RegExp(`^([+-]?(?:${F}))(.*)$`)})(),Ta=/(\d+(\.\d+)?)%/,Xn=/(\d+(\.\d+)?)px|em/,Su=ps("col"),Lf=ps("tr"),ri=(x,_,D)=>{const F=wc(x).getOrThunk(()=>jc(yc(x)));return _(x)/D(F)*100},_u=(x,_)=>{Bo(x,"width",_+"px")},Fl=(x,_)=>{Bo(x,"width",_+"%")},ku=(x,_)=>{Bo(x,"height",_+"px")},ed=x=>{const _=(D=>{return qc(F=D,"height",F.dom.offsetHeight)+"px";var F})(x);return _?((D,F,K,G)=>{const ae=parseFloat(D);return bn(D,"%")&&pt(F)!=="table"?((ue,ke,ze,nt)=>{const Le=Cl(ue).map(je=>{const Ge=ze(je);return Math.floor(ke/100*Ge)}).getOr(ke);return nt(ue,Le),Le})(F,ae,K,G):ae})(_,x,wu,ku):wu(x)},Oa=(x,_)=>yl(x,_).orThunk(()=>ro(x,_).map(D=>D+"px")),gc=x=>Oa(x,"width"),Qc=x=>ri(x,_l,ls),Ff=x=>{return Su(x)?_l(x):qc(_=x,"width",_.dom.offsetWidth);var _},qp=x=>Lf(x)?wu(x):((_,D,F)=>F(_)/Rd(_,"rowspan"))(x,0,ed),Eu=(x,_,D)=>{Bo(x,"width",_+D)},Vd=x=>ri(x,_l,ls)+"%",Rm=W(Ta),kr=ps("col"),wi=x=>gc(x).getOrThunk(()=>Ff(x)+"px"),Ci=x=>{return(_=x,Oa(_,"height")).getOrThunk(()=>qp(x)+"px");var _},$i=(x,_,D,F,K,G)=>x.filter(F).fold(()=>G(((ae,ue)=>{if(ue<0||ue>=ae.length-1)return ne.none();const ke=ae[ue].fold(()=>{const nt=(Le=>{const je=be.call(Le,0);return je.reverse(),je})(ae.slice(0,ue));return te(nt,(Le,je)=>Le.map(Ge=>({value:Ge,delta:je+1})))},nt=>ne.some({value:nt,delta:0})),ze=ae[ue+1].fold(()=>{const nt=ae.slice(ue+1);return te(nt,(Le,je)=>Le.map(Ge=>({value:Ge,delta:je+1})))},nt=>ne.some({value:nt,delta:1}));return ke.bind(nt=>ze.map(Le=>{const je=Le.delta+nt.delta;return Math.abs(Le.value-nt.value)/je}))})(D,_)),ae=>K(ae)),ya=(x,_,D,F)=>{const K=Bf(x),G=_c(x)?(ke=>P(Sc(ke),ze=>ne.from(ze.element)))(x):K,ae=[ne.some($d.edge(_))].concat(P($d.positions(K,_),ke=>ke.map(ze=>ze.x))),ue=fe(jr);return P(G,(ke,ze)=>$i(ke,ze,ae,ue,nt=>{if((je=>{const Ge=Kc().browser,ft=Ge.isChromium()||Ge.isFirefox();return!kr(je)||ft})(nt))return D(nt);{const je=(Le=K[ze])!=null?X(Le):ne.none();return $i(je,ze,ae,ue,Ge=>F(ne.some(_l(Ge))),F)}var Le},F))},$f=x=>x.map(_=>_+"px").getOr(""),ua=(x,_,D)=>ya(x,_,Ff,F=>F.getOrThunk(D.minCellWidth)),$a=(x,_,D,F)=>{const K=Yc(x),G=P(x.all,ue=>ne.some(ue.element)),ae=[ne.some(Cu.edge(_))].concat(P(Cu.positions(K,_),ue=>ue.map(ke=>ke.y)));return P(G,(ue,ke)=>$i(ue,ke,ae,de,D,F))},Ec=(x,_)=>()=>rl(x)?_(x):parseFloat(yl(x,"width").getOr("0")),Ft=x=>{const _=Ec(x,F=>parseFloat(Vd(F))),D=Ec(x,_l);return{width:_,pixelWidth:D,getWidths:(F,K)=>((G,ae,ue)=>ya(G,ae,Qc,ke=>ke.fold(()=>ue.minCellWidth(),ze=>ze/ue.pixelWidth()*100)))(F,x,K),getCellDelta:F=>F/D()*100,singleColumnWidth:(F,K)=>[100-F],minCellWidth:()=>wl()/D()*100,setElementWidth:Fl,adjustTableWidth:F=>{const K=_();Fl(x,K+F/100*K)},isRelative:!0,label:"percent"}},Ra=x=>{const _=Ec(x,_l);return{width:_,pixelWidth:_,getWidths:(D,F)=>ua(D,x,F),getCellDelta:X,singleColumnWidth:(D,F)=>[Math.max(wl(),D+F)-D],minCellWidth:wl,setElementWidth:_u,adjustTableWidth:D=>{const F=_()+D;_u(x,F)},isRelative:!1,label:"pixel"}},_g=x=>gc(x).fold(()=>(_=>{const D=Ec(_,_l),F=W(0);return{width:D,pixelWidth:D,getWidths:(K,G)=>ua(K,_,G),getCellDelta:F,singleColumnWidth:W([0]),minCellWidth:F,setElementWidth:z,adjustTableWidth:z,isRelative:!0,label:"none"}})(x),_=>((D,F)=>Rm().exec(F)!==null?Ft(D):Ra(D))(x,_)),br=Ra,Au=Ft,Vi=(x,_,D)=>{const F=x[D].element,K=Yt.fromTag("td");wr(K,Yt.fromTag("br")),(_?wr:Of)(F,K)},Ac=((x,_)=>{const D=F=>x(F)?ne.from(F.dom.nodeValue):ne.none();return{get:F=>{if(!x(F))throw new Error("Can only get text value of a text node");return D(F).getOr("")},getOption:D,set:(F,K)=>{if(!x(F))throw new Error("Can only set raw text value of a text node");F.dom.nodeValue=K}}})(Wo),Vf=x=>Ac.get(x),Hi=x=>Ac.getOption(x),rs=(x,_)=>Ac.set(x,_),Ir=x=>pt(x)==="img"?1:Hi(x).fold(()=>Ma(x).length,_=>_.length),Tu=["img","br"],Hr=x=>Hi(x).filter(_=>_.trim().length!==0||_.indexOf("")>-1).isSome()||rt(Tu,pt(x))||(_=>no(_)&&on(_,"contenteditable")==="false")(x),Dm=x=>((_,D)=>{const F=K=>{for(let G=0;G<K.childNodes.length;G++){const ae=Yt.fromDom(K.childNodes[G]);if(D(ae))return ne.some(ae);const ue=F(K.childNodes[G]);if(ue.isSome())return ue}return ne.none()};return F(_.dom)})(x,Hr),Tc=x=>Ph(x,Hr),Ph=(x,_)=>{const D=F=>{const K=Ma(F);for(let G=K.length-1;G>=0;G--){const ae=K[G];if(_(ae))return ne.some(ae);const ue=D(ae);if(ue.isSome())return ue}return ne.none()};return D(x)},Er={scope:["row","col"]},mt=x=>()=>{const _=Yt.fromTag("td",x.dom);return wr(_,Yt.fromTag("br",x.dom)),_},zi=x=>()=>Yt.fromTag("col",x.dom),Pr=x=>()=>Yt.fromTag("colgroup",x.dom),Ql=x=>()=>Yt.fromTag("tr",x.dom),Oc=(x,_,D)=>{const F=((K,G)=>{const ae=vl(K,G),ue=Ma(Wc(K));return Ml(ae,ue),ae})(x,_);return Cn(D,(K,G)=>{K===null?Do(F,G):ms(F,G,K)}),F},na=x=>x,er=(x,_,D)=>{const F=(K,G)=>{((ae,ue)=>{const ke=ae.dom,ze=ue.dom;is(ke)&&is(ze)&&(ze.style.cssText=ke.style.cssText)})(K.element,G),xl(G,"height"),K.colspan!==1&&xl(G,"width")};return{col:K=>{const G=Yt.fromTag(pt(K.element),_.dom);return F(K,G),x(K.element,G),G},colgroup:Pr(_),row:Ql(_),cell:K=>{const G=Yt.fromTag(pt(K.element),_.dom),ae=D.getOr(["strong","em","b","i","span","font","h1","h2","h3","h4","h5","h6","p","div"]),ue=ae.length>0?((ke,ze,nt)=>Dm(ke).map(Le=>{const je=nt.join(","),Ge=pi(Le,je,ft=>Vs(ft,ke));return rn(Ge,(ft,gt)=>{const Ht=Df(gt);return wr(ft,Ht),Ht},ze)}).getOr(ze))(K.element,G,ae):G;return wr(ue,Yt.fromTag("br")),F(K,G),((ke,ze)=>{Cn(Er,(nt,Le)=>ro(ke,Le).filter(je=>rt(nt,je)).each(je=>ms(ze,Le,je)))})(K.element,G),x(K.element,G),G},replace:Oc,colGap:zi(_),gap:mt(_)}},Ps=x=>({col:zi(x),colgroup:Pr(x),row:Ql(x),cell:mt(x),replace:na,colGap:zi(x),gap:mt(x)}),ai=x=>_=>_.options.get(x),ii="100%",kl=x=>{var _;const D=x.dom,F=(_=D.getParent(x.selection.getStart(),D.isBlock))!==null&&_!==void 0?_:x.getBody();return ls(Yt.fromDom(F))+"px"},hc=x=>ne.from(x.options.get("table_clone_elements")),eu=ai("table_header_type"),td=ai("table_column_resizing"),Hf=x=>td(x)==="preservetable",kg=x=>td(x)==="resizetable",Bh=ai("table_sizing_mode"),Ou=x=>Bh(x)==="relative",M=x=>Bh(x)==="fixed",Y=x=>Bh(x)==="responsive",ce=ai("table_resize_bars"),He=ai("table_style_by_css"),Je=ai("table_merge_content_on_paste"),$t=x=>{const _=x.options,D=_.get("table_default_attributes");return _.isSet("table_default_attributes")?D:((F,K)=>Y(F)||He(F)?K:M(F)?{...K,width:kl(F)}:{...K,width:ii})(x,D)},oo=ai("table_use_colgroups"),Eo=x=>it(x,"[contenteditable]"),bo=(x,_=!1)=>rl(x)?x.dom.isContentEditable:Eo(x).fold(W(_),D=>Un(D)==="true"),Un=x=>x.dom.contentEditable,_s=x=>Yt.fromDom(x.getBody()),Kr=x=>_=>Vs(_,_s(x)),Ar=x=>{Do(x,"data-mce-style");const _=D=>Do(D,"data-mce-style");wt(_r(x),_),wt(al(x),_),wt(Qs(x),_)},Rc=x=>Yt.fromDom(x.selection.getStart()),Hd=x=>x.getBoundingClientRect().width,zf=x=>x.getBoundingClientRect().height,da=x=>(_,D)=>{const F=_.dom.getStyle(D,x)||_.dom.getAttrib(D,x);return ne.from(F).filter(Ko)},h1=da("width"),Mh=da("height"),fv=x=>ut(x,ps("table")).exists(bo),Si=(x,_)=>{const D=_.column,F=_.column+_.colspan-1,K=_.row,G=_.row+_.rowspan-1;return D<=x.finishCol&&F>=x.startCol&&K<=x.finishRow&&G>=x.startRow},zr=(x,_)=>_.column>=x.startCol&&_.column+_.colspan-1<=x.finishCol&&_.row>=x.startRow&&_.row+_.rowspan-1<=x.finishRow,qa=(x,_,D)=>{const F=Gc(x,_,Vs),K=Gc(x,D,Vs);return F.bind(G=>K.map(ae=>{return ue=G,ke=ae,{startRow:Math.min(ue.row,ke.row),startCol:Math.min(ue.column,ke.column),finishRow:Math.max(ue.row+ue.rowspan-1,ke.row+ke.rowspan-1),finishCol:Math.max(ue.column+ue.colspan-1,ke.column+ke.colspan-1)};var ue,ke}))},Ru=(x,_,D)=>qa(x,_,D).map(F=>{const K=Aa(x,j(Si,F));return P(K,G=>G.element)}),zd=(x,_)=>Gc(x,_,(D,F)=>ea(F,D)).map(D=>D.element),Lh=(x,_,D)=>{const F=cl(x);return Ru(F,_,D)},ec=(x,_,D,F,K)=>{const G=cl(x),ae=Vs(x,D)?ne.some(_):zd(G,_),ue=Vs(x,K)?ne.some(F):zd(G,F);return ae.bind(ke=>ue.bind(ze=>Ru(G,ke,ze)))},cl=Ho;var Nm=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","li","table","thead","tbody","tfoot","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],Ud=()=>({up:W({selector:We,closest:it,predicate:Pe,all:Hs}),down:W({selector:Ns,predicate:Ea}),styles:W({get:vi,getRaw:yl,set:Bo,remove:xl}),attrs:W({get:on,set:ms,remove:Do,copyTo:(x,_)=>{const D=ia(x);Qa(_,D)}}),insert:W({before:xn,after:Yl,afterAll:ol,append:wr,appendAll:Ml,prepend:Of,wrap:Rf}),remove:W({unwrap:ei,remove:ar}),create:W({nu:Yt.fromTag,clone:x=>Yt.fromDom(x.dom.cloneNode(!1)),text:Yt.fromText}),query:W({comparePosition:(x,_)=>x.dom.compareDocumentPosition(_.dom),prevSibling:ho,nextSibling:nl}),property:W({children:Ma,name:pt,parent:pl,document:x=>xc(x).dom,isText:Wo,isComment:Nn,isElement:so,isSpecial:x=>{const _=pt(x);return rt(["script","noscript","iframe","noframes","noembed","title","style","textarea","xmp"],_)},getLanguage:x=>so(x)?ro(x,"lang"):ne.none(),getText:Vf,setText:rs,isBoundary:x=>!!so(x)&&(pt(x)==="body"||rt(Nm,pt(x))),isEmptyTag:x=>!!so(x)&&rt(["br","img","hr","input"],pt(x)),isNonEditable:x=>so(x)&&on(x,"contenteditable")==="false"}),eq:Vs,is:vc});const bx=(x,_,D,F)=>{const K=_(x,D);return rn(F,(G,ae)=>{const ue=_(x,ae);return Fh(x,G,ue)},K)},Fh=(x,_,D)=>_.bind(F=>D.filter(j(x.eq,F))),nd=Ud(),Wd=(x,_)=>((D,F,K)=>K.length>0?((G,ae,ue,ke)=>ke(G,ae,ue[0],ue.slice(1)))(D,F,K,bx):ne.none())(nd,(D,F)=>x(F),_),Vn=x=>We(x,"table"),Dc=(x,_,D)=>{const F=K=>G=>D!==void 0&&D(G)||Vs(G,K);return Vs(x,_)?ne.some({boxes:ne.some([x]),start:x,finish:_}):Vn(x).bind(K=>Vn(_).bind(G=>{if(Vs(K,G))return ne.some({boxes:Lh(K,x,_),start:x,finish:_});if(ea(K,G)){const ae=pi(_,"td,th",F(K)),ue=ae.length>0?ae[ae.length-1]:_;return ne.some({boxes:ec(K,x,K,_,G),start:x,finish:ue})}if(ea(G,K)){const ae=pi(x,"td,th",F(G)),ue=ae.length>0?ae[ae.length-1]:x;return ne.some({boxes:ec(G,x,K,_,G),start:x,finish:ue})}return((ae,ue,ke)=>((ze,nt,Le,je=q)=>{const Ge=[nt].concat(ze.up().all(nt)),ft=[Le].concat(ze.up().all(Le)),gt=Wt=>Tt(Wt,je).fold(()=>Wt,ln=>Wt.slice(0,ln+1)),Ht=gt(Ge),zt=gt(ft),Vt=Tn(Ht,Wt=>Oe(zt,((ln,dn)=>j(ln.eq,dn))(ze,Wt)));return{firstpath:Ht,secondpath:zt,shared:Vt}})(nd,ae,ue,void 0))(x,_).shared.bind(ae=>it(ae,"table",D).bind(ue=>{const ke=pi(_,"td,th",F(ue)),ze=ke.length>0?ke[ke.length-1]:_,nt=pi(x,"td,th",F(ue)),Le=nt.length>0?nt[nt.length-1]:x;return ne.some({boxes:ec(ue,x,K,_,G),start:Le,finish:ze})}))}))},$h=(x,_)=>{const D=Ns(x,_);return D.length>0?ne.some(D):ne.none()},jd=(x,_,D)=>bt(x,_).bind(F=>bt(x,D).bind(K=>Wd(Vn,[F,K]).map(G=>({first:F,last:K,table:G})))),li=(x,_,D,F,K)=>((G,ae)=>Tn(G,ue=>ba(ue,ae)))(x,K).bind(G=>((ae,ue,ke)=>Cl(ae).bind(ze=>((nt,Le,je,Ge)=>Gc(nt,Le,Vs).bind(ft=>{const gt=je>0?ft.row+ft.rowspan-1:ft.row,Ht=Ge>0?ft.column+ft.colspan-1:ft.column;return Li(nt,gt+je,Ht+Ge).map(zt=>zt.element)}))(cl(ze),ae,ue,ke)))(G,_,D).bind(ae=>((ue,ke)=>We(ue,"table").bind(ze=>bt(ze,ke).bind(nt=>Dc(nt,ue).bind(Le=>Le.boxes.map(je=>({boxes:je,start:Le.start,finish:Le.finish}))))))(ae,F))),Nc=(x,_)=>$h(x,_),Im=(x,_,D)=>jd(x,_,D).bind(F=>{const K=ke=>Vs(x,ke),G="thead,tfoot,tbody,table",ae=We(F.first,G,K),ue=We(F.last,G,K);return ae.bind(ke=>ue.bind(ze=>Vs(ke,ze)?((nt,Le,je)=>((Ge,ft,gt)=>qa(Ge,ft,gt).bind(Ht=>((zt,Vt)=>{let Wt=!0;const ln=j(zr,Vt);for(let dn=Vt.startRow;dn<=Vt.finishRow;dn++)for(let vt=Vt.startCol;vt<=Vt.finishCol;vt++)Wt=Wt&&Li(zt,dn,vt).exists(ln);return Wt?ne.some(Vt):ne.none()})(Ge,Ht)))(cl(nt),Le,je))(F.table,F.first,F.last):ne.none()))}),Zd=X,Gp=x=>{const _=(D,F)=>ro(D,F).exists(K=>parseInt(K,10)>1);return x.length>0&&ht(x,D=>_(D,"rowspan")||_(D,"colspan"))?ne.some(x):ne.none()},tu=(x,_,D)=>_.length<=1?ne.none():Im(x,D.firstSelectedSelector,D.lastSelectedSelector).map(F=>({bounds:F,cells:_})),Eg="data-mce-selected",Ag="data-mce-first-selected",Xt="data-mce-last-selected",mv="["+Eg+"]",Kd={selected:Eg,selectedSelector:"td["+Eg+"],th["+Eg+"]",firstSelected:Ag,firstSelectedSelector:"td["+Ag+"],th["+Ag+"]",lastSelected:Xt,lastSelectedSelector:"td["+Xt+"],th["+Xt+"]"},Mo=(x,_,D)=>({element:D,mergable:tu(_,x,Kd),unmergable:Gp(x),selection:Zd(x)}),jn=x=>(_,D)=>{const F=pt(_),K=F==="col"||F==="colgroup"?Cl(G=_).bind(ae=>Nc(ae,Kd.firstSelectedSelector)).fold(W(G),ae=>ae[0]):_;var G;return it(K,x,D)},qd=jn("th,td,caption"),Cr=jn("th,td"),Ic=x=>{return _=x.model.table.getSelectedCells(),P(_,Yt.fromDom);var _},Pc=(x,_)=>{x.on("BeforeGetContent",D=>{const F=K=>{D.preventDefault(),(G=>Cl(G[0]).map(ae=>{const ue=((ke,ze)=>{const nt=Wt=>ba(Wt.element,ze),Le=Wc(ke),je=_m(Le),Ge=_g(ke),ft=ta(je),gt=((Wt,ln)=>{const dn=Wt.grid.columns;let vt=Wt.grid.rows,Pn=dn,co=0,Io=0;const xo=[],uo=[];return Cn(Wt.access,No=>{if(xo.push(No),ln(No)){uo.push(No);const gs=No.row,Ca=gs+No.rowspan-1,dl=No.column,ki=dl+No.colspan-1;gs<vt?vt=gs:Ca>co&&(co=Ca),dl<Pn?Pn=dl:ki>Io&&(Io=ki)}}),((No,gs,Ca,dl,ki,ru)=>({minRow:No,minCol:gs,maxRow:Ca,maxCol:dl,allCells:ki,selectedCells:ru}))(vt,Pn,co,Io,xo,uo)})(ft,nt),Ht="th:not("+ze+"),td:not("+ze+")",zt=Cm(Le,"th,td",Wt=>ba(Wt,Ht));wt(zt,ar),((Wt,ln,dn,vt)=>{const Pn=Kt(Wt,xo=>xo.section!=="colgroup"),co=ln.grid.columns,Io=ln.grid.rows;for(let xo=0;xo<Io;xo++){let uo=!1;for(let No=0;No<co;No++)xo<dn.minRow||xo>dn.maxRow||No<dn.minCol||No>dn.maxCol||(Li(ln,xo,No).filter(vt).isNone()?Vi(Pn,uo,xo):uo=!0)}})(je,ft,gt,nt);const Vt=((Wt,ln,dn,vt)=>{if(vt.minCol===0&&ln.grid.columns===vt.maxCol+1)return 0;const Pn=ua(ln,Wt,dn),co=ct(Pn,(uo,No)=>uo+No,0),Io=ct(Pn.slice(vt.minCol,vt.maxCol+1),(uo,No)=>uo+No,0),xo=Io/co*dn.pixelWidth()-dn.pixelWidth();return dn.getCellDelta(xo)})(ke,Ho(ke),Ge,gt);return((Wt,ln,dn,vt)=>{Cn(dn.columns,co=>{(co.column<ln.minCol||co.column>ln.maxCol)&&ar(co.element)});const Pn=Kt(Yu(Wt,"tr"),co=>co.dom.childElementCount===0);wt(Pn,ar),ln.minCol!==ln.maxCol&&ln.minRow!==ln.maxRow||wt(Yu(Wt,"th,td"),co=>{Do(co,"rowspan"),Do(co,"colspan")}),Do(Wt,Ld),Do(Wt,"data-snooker-col-series"),_g(Wt).adjustTableWidth(vt)})(Le,gt,ft,Vt),Le})(ae,mv);return Ar(ue),[ue]}))(K).each(G=>{D.content=D.format==="text"?(ae=>P(ae,ue=>ue.dom.innerText).join(""))(G):((ae,ue)=>P(ue,ke=>ae.selection.serializer.serialize(ke.dom,{})).join(""))(x,G)})};if(D.selection===!0){const K=(G=>Kt(Ic(G),ae=>ba(ae,Kd.selectedSelector)))(x);K.length>=1&&F(K)}}),x.on("BeforeSetContent",D=>{if(D.selection===!0&&D.paste===!0){const F=Ic(x);Fn(F).each(K=>{Cl(K).each(G=>{const ae=Kt(((ke,ze)=>{const nt=document.createElement("div");return nt.innerHTML=ke,Ma(Yt.fromDom(nt))})(D.content),ke=>pt(ke)!=="meta"),ue=ps("table");if(Je(x)&&ae.length===1&&ue(ae[0])){D.preventDefault();const ke=Yt.fromDom(x.getDoc()),ze=Ps(ke),nt=((Le,je,Ge)=>({element:Le,clipboard:je,generators:Ge}))(K,ae[0],ze);_.pasteCells(G,nt).each(()=>{x.focus()})}})})}})},yo=(x,_)=>({element:x,offset:_}),Tg=(x,_,D)=>x.property().isText(_)&&x.property().getText(_).trim().length===0||x.property().isComment(_)?D(_).bind(F=>Tg(x,F,D).orThunk(()=>ne.some(F))):ne.none(),p1=(x,_)=>x.property().isText(_)?x.property().getText(_).length:x.property().children(_).length,Rt=(x,_)=>{const D=Tg(x,_,x.query().prevSibling).getOr(_);if(x.property().isText(D))return yo(D,p1(x,D));const F=x.property().children(D);return F.length>0?Rt(x,F[F.length-1]):yo(D,p1(x,D))},gv=Rt,Og=Ud(),Rg=(x,_)=>{jr(x)||(F=>gc(F).bind(K=>{return G=K,ae=["fixed","relative","empty"],ne.from(Sg.exec(G)).bind(ue=>{const ke=Number(ue[1]),ze=ue[2];return((nt,Le)=>Oe(Le,je=>Oe(Om[je],Ge=>nt===Ge)))(ze,ae)?ne.some({value:ke,unit:ze}):ne.none()});var G,ae}))(x).each(F=>{const K=F.value/2;Eu(x,K,F.unit),Eu(_,K,F.unit)})},Pm=x=>P(x,W(0)),Uf=(x,_,D,F,K)=>K(x.slice(0,_)).concat(F).concat(K(x.slice(D))),b1=x=>(_,D,F,K)=>{if(x(F)){const G=Math.max(K,_[D]-Math.abs(F)),ae=Math.abs(G-_[D]);return F>=0?ae:-ae}return F},Gd=b1(x=>x<0),cr=b1(de),Du=()=>{const x=(D,F,K,G)=>{const ae=(100+K)/100,ue=Math.max(G,(D[F]+K)/ae);return P(D,(ke,ze)=>(ze===F?ue:ke/ae)-ke)},_=(D,F,K,G,ae,ue)=>ue?x(D,F,G,ae):((ke,ze,nt,Le,je)=>{const Ge=Gd(ke,ze,Le,je);return Uf(ke,ze,nt+1,[Ge,0],Pm)})(D,F,K,G,ae);return{resizeTable:(D,F)=>D(F),clampTableDelta:Gd,calcLeftEdgeDeltas:_,calcMiddleDeltas:(D,F,K,G,ae,ue,ke)=>_(D,K,G,ae,ue,ke),calcRightEdgeDeltas:(D,F,K,G,ae,ue)=>{if(ue)return x(D,K,G,ae);{const ke=Gd(D,K,G,ae);return Pm(D.slice(0,K)).concat([ke])}},calcRedestributedWidths:(D,F,K,G)=>{if(G){const ae=(F+K)/F,ue=P(D,ke=>ke/ae);return{delta:100*ae-100,newSizes:ue}}return{delta:K,newSizes:D}}}},Vh=()=>{const x=(_,D,F,K,G)=>{const ae=cr(_,K>=0?F:D,K,G);return Uf(_,D,F+1,[ae,-ae],Pm)};return{resizeTable:(_,D,F)=>{F&&_(D)},clampTableDelta:(_,D,F,K,G)=>{if(G){if(F>=0)return F;{const ae=ct(_,(ue,ke)=>ue+ke-K,0);return Math.max(-ae,F)}}return Gd(_,D,F,K)},calcLeftEdgeDeltas:x,calcMiddleDeltas:(_,D,F,K,G,ae)=>x(_,F,K,G,ae),calcRightEdgeDeltas:(_,D,F,K,G,ae)=>{if(ae)return Pm(_);{const ue=K/_.length;return P(_,W(ue))}},calcRedestributedWidths:(_,D,F,K)=>({delta:0,newSizes:_})}},nu=x=>Ho(x).grid,Wf=ps("th"),tc=x=>ht(x,_=>Wf(_.element)),Tr=(x,_)=>x&&_?"sectionCells":x?"section":"cells",jf=x=>{const _=x.section==="thead",D=Qt(Da(x.cells),"th");return x.section==="tfoot"?{type:"footer"}:_||D?{type:"header",subType:Tr(_,D)}:{type:"body"}},Da=x=>{const _=Kt(x,D=>Wf(D.element));return _.length===0?ne.some("td"):_.length===x.length?ne.some("th"):ne.none()},Yp=(x,_,D)=>$r(D(x.element,_),!0,x.isLocked),Bc=(x,_)=>x.section!==_?la(x.element,x.cells,_,x.isNew):x,xa=()=>({transformRow:Bc,transformCell:(x,_,D)=>{const F=D(x.element,_),K=pt(F)!=="td"?((G,ae)=>{const ue=vl(G,"td");Yl(G,ue);const ke=Ma(G);return Ml(ue,ke),ar(G),ue})(F):F;return $r(K,x.isNew,x.isLocked)}}),en=()=>({transformRow:Bc,transformCell:Yp}),Zf=()=>({transformRow:(x,_)=>Bc(x,_==="thead"?"tbody":_),transformCell:Yp}),Va=xa,I=en,U=Zf,ie=()=>({transformRow:X,transformCell:Yp}),Se=(x,_,D,F)=>{D===F?Do(x,_):ms(x,_,D)},et=(x,_,D)=>{Gt(bi(x,_)).fold(()=>Of(x,D),F=>Yl(F,D))},Pt=(x,_)=>{const D=[],F=[],K=je=>P(je,Ge=>{Ge.isNew&&D.push(Ge.element);const ft=Ge.element;return bl(ft),wt(Ge.cells,gt=>{gt.isNew&&F.push(gt.element),Se(gt.element,"colspan",gt.colspan,1),Se(gt.element,"rowspan",gt.rowspan,1),wr(ft,gt.element)}),ft}),G=je=>$e(je,Ge=>P(Ge.cells,ft=>(Se(ft.element,"span",ft.colspan,1),ft.element))),ae=(je,Ge)=>{const ft=((Ht,zt)=>{const Vt=yt(Ht,zt).getOrThunk(()=>{const Wt=Yt.fromTag(zt,yc(Ht).dom);return zt==="thead"?et(Ht,"caption,colgroup",Wt):zt==="colgroup"?et(Ht,"caption",Wt):wr(Ht,Wt),Wt});return bl(Vt),Vt})(x,Ge),gt=(Ge==="colgroup"?G:K)(je);Ml(ft,gt)},ue=(je,Ge)=>{je.length>0?ae(je,Ge):(ft=>{yt(x,ft).each(ar)})(Ge)},ke=[],ze=[],nt=[],Le=[];return wt(_,je=>{switch(je.section){case"thead":ke.push(je);break;case"tbody":ze.push(je);break;case"tfoot":nt.push(je);break;case"colgroup":Le.push(je)}}),ue(Le,"colgroup"),ue(ke,"thead"),ue(ze,"tbody"),ue(nt,"tfoot"),{newRows:D,newCells:F}},sn=(x,_)=>{if(x.length===0)return 0;const D=x[0];return Tt(x,F=>!_(D.element,F.element)).getOr(x.length)},Bn=(x,_)=>{const D=P(x,F=>P(F.cells,q));return P(x,(F,K)=>{const G=$e(F.cells,(ae,ue)=>{if(D[K][ue]===!1){const je=((Ge,ft,gt,Ht)=>{const zt=((dn,vt)=>dn[vt])(Ge,ft),Vt=zt.section==="colgroup",Wt=sn(zt.cells.slice(gt),Ht),ln=Vt?1:sn(((dn,vt)=>P(dn,Pn=>Zr(Pn,vt)))(Ge.slice(ft),gt),Ht);return{colspan:Wt,rowspan:ln}})(x,K,ue,_);return((Ge,ft,gt,Ht)=>{for(let zt=Ge;zt<Ge+gt;zt++)for(let Vt=ft;Vt<ft+Ht;Vt++)D[zt][Vt]=!0})(K,ue,je.rowspan,je.colspan),[(ke=ae.element,ze=je.rowspan,nt=je.colspan,Le=ae.isNew,{element:ke,rowspan:ze,colspan:nt,isNew:Le})]}return[];var ke,ze,nt,Le});return((ae,ue,ke,ze)=>({element:ae,cells:ue,section:ke,isNew:ze}))(F.element,G,F.section,F.isNew)})},Mn=(x,_,D)=>{const F=[];wt(x.colgroups,K=>{const G=[];for(let ae=0;ae<x.grid.columns;ae++){const ue=bs(x,ae).map(ke=>$r(ke.element,D,!1)).getOrThunk(()=>$r(_.colGap(),!0,!1));G.push(ue)}F.push(la(K.element,G,"colgroup",D))});for(let K=0;K<x.grid.rows;K++){const G=[];for(let ke=0;ke<x.grid.columns;ke++){const ze=Li(x,K,ke).map(nt=>$r(nt.element,D,nt.isLocked)).getOrThunk(()=>$r(_.gap(),!0,!1));G.push(ze)}const ae=x.all[K],ue=la(ae.element,G,ae.section,D);F.push(ue)}return F},Lo=x=>Bn(x,Vs),Ro=(x,_)=>te(x.all,D=>Tn(D.cells,F=>Vs(_,F.element))),Zo=(x,_,D)=>{const F=P(_.selection,G=>Sm(G).bind(ae=>Ro(x,ae)).filter(D)),K=gn(F);return yn(K.length>0,K)},jo=(x,_,D,F,K)=>(G,ae,ue,ke)=>{const ze=Ho(G),nt=ne.from(ke==null?void 0:ke.section).getOrThunk(ie);return _(ze,ae).map(Le=>{const je=((gt,Ht)=>Mn(gt,Ht,!1))(ze,ue),Ge=x(je,Le,Vs,K(ue),nt),ft=Mi(Ge.grid);return{info:Le,grid:Lo(Ge.grid),cursor:Ge.cursor,lockedColumns:ft}}).bind(Le=>{const je=Pt(G,Le.grid),Ge=ne.from(ke==null?void 0:ke.sizing).getOrThunk(()=>_g(G)),ft=ne.from(ke==null?void 0:ke.resize).getOrThunk(Vh);return D(G,Le.grid,Le.info,{sizing:Ge,resize:ft,section:nt}),F(G),Do(G,Ld),Le.lockedColumns.length>0&&ms(G,Ld,Le.lockedColumns.join(",")),ne.some({cursor:Le.cursor,newRows:je.newRows,newCells:je.newCells})})},oa=(x,_)=>Zo(x,_,de).map(D=>({cells:D,generators:_.generators,clipboard:_.clipboard})),Ui=(x,_)=>Zo(x,_,de),Ur=(x,_)=>Zo(x,_,D=>!D.isLocked),Nu=(x,_)=>ht(_,D=>((F,K)=>Ro(F,K).exists(G=>!G.isLocked))(x,D)),Kf=(x,_,D,F)=>{const K=ir(x).rows;let G=!0;for(let ae=0;ae<K.length;ae++)for(let ue=0;ue<Za(K[0]);ue++){const ke=K[ae],ze=Zr(ke,ue),nt=D(ze.element,_);nt&&!G?Em(ke,ue,$r(F(),!0,ze.isLocked)):nt&&(G=!1)}return x},ou=x=>{const _=G=>G(x),D=W(x),F=()=>K,K={tag:!0,inner:x,fold:(G,ae)=>ae(x),isValue:de,isError:q,map:G=>od.value(G(x)),mapError:F,bind:_,exists:_,forall:_,getOr:D,or:F,getOrThunk:D,orThunk:F,getOrDie:D,each:G=>{G(x)},toOptional:()=>ne.some(x)};return K},Dg=x=>{const _=()=>D,D={tag:!1,inner:x,fold:(K,G)=>K(x),isValue:q,isError:de,map:_,mapError:K=>od.error(K(x)),bind:_,exists:q,forall:de,getOr:X,or:X,getOrThunk:le,orThunk:le,getOrDie:(F=String(x),()=>{throw new Error(F)}),each:z,toOptional:ne.none};var F;return D},od={value:ou,error:Dg,fromOption:(x,_)=>x.fold(()=>Dg(_),ou)},Hh=(x,_)=>({rowDelta:0,colDelta:Za(x[0])-Za(_[0])}),Bm=(x,_)=>({rowDelta:x.length-_.length,colDelta:0}),qf=(x,_,D,F)=>{const K=_.section==="colgroup"?D.col:D.cell;return Ve(x,G=>$r(K(),!0,F(G)))},Xp=(x,_,D,F)=>{const K=x[x.length-1];return x.concat(Ve(_,()=>{const G=K.section==="colgroup"?D.colgroup:D.row,ae=Md(K,G,X),ue=qf(ae.cells.length,ae,D,ke=>Ue(F,ke.toString()));return ll(ae,ue)}))},hv=(x,_,D,F)=>P(x,K=>{const G=qf(_,K,D,q);return Cc(K,F,G)}),cs=(x,_,D)=>{const F=_.colDelta<0?hv:X,K=_.rowDelta<0?Xp:X,G=Mi(x),ae=Za(x[0]),ue=Oe(G,nt=>nt===ae-1),ke=F(x,Math.abs(_.colDelta),D,ue?ae-1:ae),ze=Mi(ke);return K(ke,Math.abs(_.rowDelta),D,Dn(ze,de))},qr=(x,_,D,F)=>{const K=j(F,Zr(x[_],D).element),G=x[_];return x.length>1&&Za(G)>1&&(D>0&&K(pr(G,D-1))||D<G.cells.length-1&&K(pr(G,D+1))||_>0&&K(pr(x[_-1],D))||_<x.length-1&&K(pr(x[_+1],D)))},Wi=(x,_,D)=>Kt(D,F=>F>=x.column&&F<=Za(_[0])+x.column),$l=(x,_,D,F,K)=>{((ze,nt,Le,je)=>{nt>0&&nt<ze[0].cells.length&&wt(ze,Ge=>{const ft=Ge.cells[nt-1];let gt=0;const Ht=je();for(;Ge.cells.length>nt+gt&&Le(ft.element,Ge.cells[nt+gt].element);)Em(Ge,nt+gt,$r(Ht,!0,Ge.cells[nt+gt].isLocked)),gt++})})(_,x,K,F.cell);const G=Bm(D,_),ae=cs(D,G,F),ue=Bm(_,ae),ke=cs(_,ue,F);return P(ke,(ze,nt)=>Cc(ze,x,ae[nt].cells))},pv=(x,_,D,F,K)=>{((Vt,Wt,ln,dn)=>{const vt=ir(Vt).rows;if(Wt>0&&Wt<vt.length){const Pn=((co,Io)=>ct(co,(xo,uo)=>Oe(xo,No=>Io(No.element,uo.element))?xo:xo.concat([uo]),[]))(vt[Wt-1].cells,ln);wt(Pn,co=>{let Io=ne.none();for(let xo=Wt;xo<vt.length;xo++)for(let uo=0;uo<Za(vt[0]);uo++){const No=vt[xo],gs=Zr(No,uo);ln(gs.element,co.element)&&(Io.isNone()&&(Io=ne.some(dn())),Io.each(Ca=>{Em(No,uo,$r(Ca,!0,gs.isLocked))}))}})}})(_,x,K,F.cell);const G=Mi(_),ae=Hh(_,D),ue={...ae,colDelta:ae.colDelta-G.length},ke=cs(_,ue,F),{cols:ze,rows:nt}=ir(ke),Le=Mi(ke),je=Hh(D,_),Ge={...je,colDelta:je.colDelta+Le.length},ft=(Ht=F,zt=Le,P(D,Vt=>ct(zt,(Wt,ln)=>{const dn=qf(1,Vt,Ht,de)[0];return km(Wt,ln,dn)},Vt))),gt=cs(ft,Ge,F);var Ht,zt;return[...ze,...nt.slice(0,x),...gt,...nt.slice(x,nt.length)]},bv=(x,_,D,F,K)=>{const{rows:G,cols:ae}=ir(x),ue=G.slice(0,_),ke=G.slice(_);return[...ae,...ue,((ze,nt,Le,je)=>Md(ze,Ge=>je(Ge,Le),nt))(G[D],(ze,nt)=>_>0&&_<G.length&&F(pr(G[_-1],nt),pr(G[_],nt))?Zr(G[_],nt):$r(K(ze.element,F),!0,ze.isLocked),F,K),...ke]},Gf=(x,_,D,F,K)=>P(x,G=>{const ae=_>0&&_<Za(G)&&F(pr(G,_-1),pr(G,_)),ue=((ke,ze,nt,Le,je,Ge,ft)=>{if(nt!=="colgroup"&&Le)return Zr(ke,ze);{const gt=Zr(ke,je);return $r(ft(gt.element,Ge),!0,!1)}})(G,_,G.section,ae,D,F,K);return km(G,_,ue)}),Ng=(x,_,D,F)=>((K,G,ae,ue)=>pr(K[G],ae)!==void 0&&G>0&&ue(pr(K[G-1],ae),pr(K[G],ae)))(x,_,D,F)||((K,G,ae)=>G>0&&ae(pr(K,G-1),pr(K,G)))(x[_],D,F),vx=(x,_,D,F)=>{const K=G=>(ae=>ae==="row"?(ue=>Rd(ue,"rowspan")>1)(_):jr(_))(G)?`${G}group`:G;return x?Wf(_)?K(D):null:F&&Wf(_)?K(D==="row"?"col":"row"):null},vv=(x,_,D)=>$r(D(x.element,_),!0,x.isLocked),Jp=(x,_,D,F,K,G,ae)=>P(x,(ue,ke)=>((ze,nt)=>{const Le=ze.cells,je=P(Le,(Ge,ft)=>{if((gt=>Oe(_,Ht=>D(gt.element,Ht.element)))(Ge)){const gt=ae(Ge,ke,ft)?K(Ge,D,F):Ge;return G(gt,ke,ft).each(Ht=>{var zt,Vt;zt=gt.element,Vt={scope:ne.from(Ht)},Cn(Vt,(Wt,ln)=>{Wt.fold(()=>{Do(zt,ln)},dn=>{Qr(zt.dom,ln,dn)})})}),gt}return Ge});return la(ze.element,je,ze.section,ze.isNew)})(ue)),yx=(x,_,D)=>$e(x,(F,K)=>Ng(x,K,_,D)?[]:[Zr(F,_)]),yv=(x,_,D,F,K)=>{const G=ir(x).rows,ae=$e(_,nt=>yx(G,nt,F)),ue=P(G,nt=>tc(nt.cells)),ke=((nt,Le)=>ht(Le,X)&&tc(nt)?de:(je,Ge,ft)=>!(pt(je.element)==="th"&&Le[Ge]))(ae,ue);return Jp(x,ae,F,K,vv,((nt,Le)=>(je,Ge)=>ne.some(vx(nt,je.element,"row",Le[Ge])))(D,ue),ke)},xv=(x,_,D,F)=>{const K=ir(x).rows,G=P(_,ae=>Zr(K[ae.row],ae.column));return Jp(x,G,D,F,vv,ne.none,de)},Ig=x=>{if(!y(x))throw new Error("cases must be an array");if(x.length===0)throw new Error("there must be at least one case");const _=[],D={};return wt(x,(F,K)=>{const G=So(F);if(G.length!==1)throw new Error("one and only one name per case");const ae=G[0],ue=F[ae];if(D[ae]!==void 0)throw new Error("duplicate key detected:"+ae);if(ae==="cata")throw new Error("cannot have a case named cata (sorry)");if(!y(ue))throw new Error("case arguments must be an array");_.push(ae),D[ae]=(...ke)=>{const ze=ke.length;if(ze!==ue.length)throw new Error("Wrong number of arguments to case "+ae+". Expected "+ue.length+" ("+ue+"), got "+ze);return{fold:(...nt)=>{if(nt.length!==x.length)throw new Error("Wrong number of arguments to fold. Expected "+x.length+", got "+nt.length);return nt[K].apply(null,ke)},match:nt=>{const Le=So(nt);if(_.length!==Le.length)throw new Error("Wrong number of arguments to match. Expected: "+_.join(",")+`
Actual: `+Le.join(","));if(!ht(_,je=>rt(Le,je)))throw new Error("Not all branches were specified when using match. Specified: "+Le.join(", ")+`
Required: `+_.join(", "));return nt[ae].apply(null,ke)},log:nt=>{console.log(nt,{constructors:_,constructor:ae,params:ke})}}}}),D},Qp={...Ig([{none:[]},{only:["index"]},{left:["index","next"]},{middle:["prev","index","next"]},{right:["prev","index"]}])},xx=(x,_,D)=>{const F=((K,G)=>_c(K)?((ae,ue)=>{const ke=Sc(ae);return P(ke,(ze,nt)=>({element:ze.element,width:ue[nt],colspan:ze.colspan}))})(K,G):((ae,ue)=>{const ke=Hn(ae);return P(ke,ze=>{const nt=((Le,je,Ge)=>{let ft=0;for(let gt=Le;gt<je;gt++)ft+=Ge[gt]!==void 0?Ge[gt]:0;return ft})(ze.column,ze.column+ze.colspan,ue);return{element:ze.element,width:nt,colspan:ze.colspan}})})(K,G))(x,_);wt(F,K=>{D.setElementWidth(K.element,K.width)})},Yf=(x,_,D,F,K)=>{const G=Ho(x),ae=K.getCellDelta(_),ue=K.getWidths(G,K),ke=D===G.grid.columns-1,ze=F.clampTableDelta(ue,D,ae,K.minCellWidth(),ke),nt=((je,Ge,ft,gt,Ht)=>{const zt=je.slice(0),Vt=((ln,dn)=>ln.length===0?Qp.none():ln.length===1?Qp.only(0):dn===0?Qp.left(0,1):dn===ln.length-1?Qp.right(dn-1,dn):dn>0&&dn<ln.length-1?Qp.middle(dn-1,dn,dn+1):Qp.none())(je,Ge),Wt=W(P(zt,W(0)));return Vt.fold(Wt,ln=>gt.singleColumnWidth(zt[ln],ft),(ln,dn)=>Ht.calcLeftEdgeDeltas(zt,ln,dn,ft,gt.minCellWidth(),gt.isRelative),(ln,dn,vt)=>Ht.calcMiddleDeltas(zt,ln,dn,vt,ft,gt.minCellWidth(),gt.isRelative),(ln,dn)=>Ht.calcRightEdgeDeltas(zt,ln,dn,ft,gt.minCellWidth(),gt.isRelative))})(ue,D,ze,K,F),Le=P(nt,(je,Ge)=>je+ue[Ge]);xx(G,Le,K),F.resizeTable(K.adjustTableWidth,ze,ke)},zh=(x,_,D)=>{const F=Ho(x),K=((ke,ze)=>$a(ke,ze,qp,nt=>nt.getOrThunk(Is)))(F,x),G=P(K,(ke,ze)=>D===ze?Math.max(_+ke,Is()):ke),ae=((ke,ze)=>P(ke.all,(nt,Le)=>({element:nt.element,height:ze[Le]})))(F,G);wt(ae,ke=>{ku(ke.element,ke.height)}),wt(Hn(F),ke=>{(ze=>{xl(ze,"height")})(ke.element)});const ue=rn(G,(ke,ze)=>ke+ze,0);ku(x,ue)},Uh=x=>ct(x,(_,D)=>Oe(_,F=>F.column===D.column)?_:_.concat([D]),[]).sort((_,D)=>_.column-D.column),Xf=ps("col"),Mm=ps("colgroup"),wv=x=>pt(x)==="tr"||Mm(x),eE=x=>({element:x,colspan:Sr(x,"colspan",1),rowspan:Sr(x,"rowspan",1)}),Cv=x=>ro(x,"scope").map(_=>_.substr(0,3)),Iu=(x,_=eE)=>{const D=K=>{if(wv(K))return Mm((G={element:K}).element)?x.colgroup(G):x.row(G);{const ae=K,ue=(ke=>Xf(ke.element)?x.col(ke):x.cell(ke))(_(ae));return F=ne.some({item:ae,replacement:ue}),ue}var G};let F=ne.none();return{getOrInit:(K,G)=>F.fold(()=>D(K),ae=>G(K,ae.item)?ae.replacement:D(K))}},bC=x=>_=>{const D=[],F=K=>{const G=x==="td"?{scope:null}:{},ae=_.replace(K,x,G);return D.push({item:K,sub:ae}),ae};return{replaceOrInit:(K,G)=>{if(wv(K)||Xf(K))return K;{const ae=K;return((ue,ke)=>Tn(D,ze=>ke(ze.item,ue)))(ae,G).fold(()=>F(ae),ue=>G(K,ue.item)?ue.sub:F(ae))}}}},wx=x=>({unmerge:_=>{const D=Cv(_);return D.each(F=>ms(_,"scope",F)),()=>{const F=x.cell({element:_,colspan:1,rowspan:1});return xl(F,"width"),xl(_,"width"),D.each(K=>ms(F,"scope",K)),F}},merge:_=>(xl(_[0],"width"),(()=>{const D=gn(P(_,Cv));if(D.length===0)return ne.none();{const F=D[0],K=["row","col"];return Oe(D,G=>G!==F&&rt(K,G))?ne.none():ne.from(F)}})().fold(()=>Do(_[0],"scope"),D=>ms(_[0],"scope",D+"group")),W(_[0]))}),Wh=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","table","thead","tfoot","tbody","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],ji=Ud(),jh=x=>((_,D)=>{const F=_.property().name(D);return rt(Wh,F)})(ji,x),Zh=x=>((_,D)=>{const F=_.property().name(D);return rt(["ol","ul"],F)})(ji,x),v1=x=>{const _=ps("br"),D=K=>Tc(K).bind(G=>{const ae=nl(G).map(ue=>!!jh(ue)||!!((ke,ze)=>rt(["br","img","hr","input"],ke.property().name(ze)))(ji,ue)&&pt(ue)!=="img").getOr(!1);return pl(G).map(ue=>{return ae===!0||pt(ke=ue)==="li"||Pe(ke,Zh).isSome()||_(G)||jh(ue)&&!Vs(K,ue)?[]:[Yt.fromTag("br")];var ke})}).getOr([]),F=(()=>{const K=$e(x,G=>{const ae=Ma(G);return(ue=>ht(ue,ke=>_(ke)||Wo(ke)&&Vf(ke).trim().length===0))(ae)?[]:ae.concat(D(G))});return K.length===0?[Yt.fromTag("br")]:K})();bl(x[0]),Ml(x[0],F)},vs=x=>bo(x,!0),nc=x=>{_r(x).length===0&&ar(x)},Yd=(x,_)=>({grid:x,cursor:_}),ul=(x,_,D)=>{const F=((K,G,ae)=>{var ue,ke;const ze=ir(K).rows;return ne.from((ke=(ue=ze[G])===null||ue===void 0?void 0:ue.cells[ae])===null||ke===void 0?void 0:ke.element).filter(vs).orThunk(()=>(nt=>te(nt,Le=>te(Le.cells,je=>{const Ge=je.element;return yn(vs(Ge),Ge)})))(ze))})(x,_,D);return Yd(x,F)},ur=x=>ct(x,(_,D)=>Oe(_,F=>F.row===D.row)?_:_.concat([D]),[]).sort((_,D)=>_.row-D.row),Sv=(x,_)=>(D,F,K,G,ae)=>{const ue=ur(F),ke=P(ue,nt=>nt.row),ze=((nt,Le,je,Ge,ft,gt,Ht)=>{const{cols:zt,rows:Vt}=ir(nt),Wt=Vt[Le[0]],ln=$e(Le,xo=>((uo,No,gs)=>{const Ca=uo[No];return $e(Ca.cells,(dl,ki)=>Ng(uo,No,ki,gs)?[]:[dl])})(Vt,xo,ft)),dn=P(Wt.cells,(xo,uo)=>tc(yx(Vt,uo,ft))),vt=[...Vt];wt(Le,xo=>{vt[xo]=Ht.transformRow(Vt[xo],je)});const Pn=[...zt,...vt],co=((xo,uo)=>ht(uo,X)&&tc(xo.cells)?de:(No,gs,Ca)=>!(pt(No.element)==="th"&&uo[Ca]))(Wt,dn),Io=((xo,uo)=>(No,gs,Ca)=>ne.some(vx(xo,No.element,"col",uo[Ca])))(Ge,dn);return Jp(Pn,ln,ft,gt,Ht.transformCell,Io,co)})(D,ke,x,_,K,G.replaceOrInit,ae);return ul(ze,F[0].row,F[0].column)},vC=Sv("thead",!0),tE=Sv("tbody",!1),Or=Sv("tfoot",!1),y1=(x,_,D)=>{const F=((G,ae)=>Sl(G,()=>ae))(x,D.section),K=ta(F);return Mn(K,_,!0)},Cx=(x,_,D,F)=>((K,G,ae,ue)=>{const ke=ta(G),ze=ue.getWidths(ke,ue);xx(ke,ze,ue)})(0,_,0,F.sizing),Pg=(x,_,D,F)=>((K,G,ae,ue,ke)=>{const ze=ta(G),nt=ue.getWidths(ze,ue),Le=ue.pixelWidth(),{newSizes:je,delta:Ge}=ke.calcRedestributedWidths(nt,Le,ae.pixelDelta,ue.isRelative);xx(ze,je,ue),ue.adjustTableWidth(Ge)})(0,_,D,F.sizing,F.resize),Pu=(x,_)=>Oe(_,D=>D.column===0&&D.isLocked),eb=(x,_)=>Oe(_,D=>D.column+D.colspan>=x.grid.columns&&D.isLocked),In=(x,_)=>{const D=Bf(x),F=Uh(_);return ct(F,(K,G)=>K+D[G.column].map(Bd).getOr(0),0)},sd=x=>(_,D)=>Ui(_,D).filter(F=>!(x?Pu:eb)(_,F)).map(F=>({details:F,pixelDelta:In(_,F)})),Sx=x=>(_,D)=>oa(_,D).filter(F=>!(x?Pu:eb)(_,F.cells)),x1=bC("th"),tb=bC("td"),w1=jo((x,_,D,F)=>{const K=_[0].row,G=ur(_),ae=rn(G,(ue,ke)=>({grid:bv(ue.grid,K,ke.row+ue.delta,D,F.getOrInit),delta:ue.delta+1}),{grid:x,delta:0}).grid;return ul(ae,K,_[0].column)},Ui,z,z,Iu),Kh=jo((x,_,D,F)=>{const K=ur(_),G=K[K.length-1],ae=G.row+G.rowspan,ue=rn(K,(ke,ze)=>bv(ke,ae,ze.row,D,F.getOrInit),x);return ul(ue,ae,_[0].column)},Ui,z,z,Iu),Bu=jo((x,_,D,F)=>{const K=_.details,G=Uh(K),ae=G[0].column,ue=rn(G,(ke,ze)=>({grid:Gf(ke.grid,ae,ze.column+ke.delta,D,F.getOrInit),delta:ke.delta+1}),{grid:x,delta:0}).grid;return ul(ue,K[0].row,ae)},sd(!0),Pg,z,Iu),nE=jo((x,_,D,F)=>{const K=_.details,G=K[K.length-1],ae=G.column+G.colspan,ue=Uh(K),ke=rn(ue,(ze,nt)=>Gf(ze,ae,nt.column,D,F.getOrInit),x);return ul(ke,K[0].row,ae)},sd(!1),Pg,z,Iu),C1=jo((x,_,D,F)=>{const K=Uh(_.details),G=((ue,ke)=>$e(ue,ze=>{const nt=ze.cells,Le=rn(ke,(je,Ge)=>Ge>=0&&Ge<je.length?je.slice(0,Ge).concat(je.slice(Ge+1)):je,nt);return Le.length>0?[la(ze.element,Le,ze.section,ze.isNew)]:[]}))(x,P(K,ue=>ue.column)),ae=G.length>0?G[0].cells.length-1:0;return ul(G,K[0].row,Math.min(K[0].column,ae))},(x,_)=>Ur(x,_).map(D=>({details:D,pixelDelta:-In(x,D)})),Pg,nc,Iu),_x=jo((x,_,D,F)=>{const K=ur(_),G=((ue,ke,ze)=>{const{rows:nt,cols:Le}=ir(ue);return[...Le,...nt.slice(0,ke),...nt.slice(ze+1)]})(x,K[0].row,K[K.length-1].row),ae=Math.max(ir(G).rows.length-1,0);return ul(G,Math.min(_[0].row,ae),_[0].column)},Ui,z,nc,Iu),S1=jo((x,_,D,F)=>{const K=Uh(_),G=P(K,ue=>ue.column),ae=yv(x,G,!0,D,F.replaceOrInit);return ul(ae,_[0].row,_[0].column)},Ur,z,z,x1),kx=jo((x,_,D,F)=>{const K=Uh(_),G=P(K,ue=>ue.column),ae=yv(x,G,!1,D,F.replaceOrInit);return ul(ae,_[0].row,_[0].column)},Ur,z,z,tb),Ex=jo(vC,Ur,z,z,x1),_1=jo(tE,Ur,z,z,tb),Ax=jo(Or,Ur,z,z,tb),Tx=jo((x,_,D,F)=>{const K=xv(x,_,D,F.replaceOrInit);return ul(K,_[0].row,_[0].column)},Ur,z,z,x1),yC=jo((x,_,D,F)=>{const K=xv(x,_,D,F.replaceOrInit);return ul(K,_[0].row,_[0].column)},Ur,z,z,tb),oE=jo((x,_,D,F)=>{const K=_.cells;v1(K);const G=((ae,ue,ke,ze)=>{const nt=ir(ae).rows;if(nt.length===0)return ae;for(let Le=ue.startRow;Le<=ue.finishRow;Le++)for(let je=ue.startCol;je<=ue.finishCol;je++){const Ge=nt[Le],ft=Zr(Ge,je).isLocked;Em(Ge,je,$r(ze(),!1,ft))}return ae})(x,_.bounds,0,F.merge(K));return Yd(G,ne.from(K[0]))},(x,_)=>((D,F)=>F.mergable)(0,_).filter(D=>Nu(x,D.cells)),Cx,z,wx),_v=jo((x,_,D,F)=>{const K=rn(_,(G,ae)=>Kf(G,ae,D,F.unmerge(ae)),x);return Yd(K,ne.from(_[0]))},(x,_)=>((D,F)=>F.unmergable)(0,_).filter(D=>Nu(x,D)),Cx,z,wx),Ox=jo((x,_,D,F)=>{const K=((ue,ke)=>{const ze=Ho(ue);return Mn(ze,ke,!0)})(_.clipboard,_.generators);var G,ae;return((ue,ke,ze,nt,Le)=>{const je=Mi(ke),Ge=((zt,Vt,Wt)=>{const ln=Za(Vt[0]),dn=ir(Vt).cols.length+zt.row,vt=Ve(ln-zt.column,Pn=>Pn+zt.column);return{row:dn,column:Tn(vt,Pn=>ht(Wt,co=>co!==Pn)).getOr(ln-1)}})(ue,ke,je),ft=ir(ze).rows,gt=Wi(Ge,ft,je);return((zt,Vt,Wt)=>{if(zt.row>=Vt.length||zt.column>Za(Vt[0]))return od.error("invalid start address out of table bounds, row: "+zt.row+", column: "+zt.column);const ln=Vt.slice(zt.row),dn=ln[0].cells.slice(zt.column),vt=Za(Wt[0]),Pn=Wt.length;return od.value({rowDelta:ln.length-Pn,colDelta:dn.length-vt})})(Ge,ke,ft).map(zt=>{const Vt={...zt,colDelta:zt.colDelta-gt.length},Wt=cs(ke,Vt,nt),ln=Mi(Wt),dn=Wi(Ge,ft,ln);return((vt,Pn,co,Io,xo,uo)=>{const No=vt.row,gs=vt.column,Ca=No+co.length,dl=gs+Za(co[0])+uo.length,ki=Dn(uo,de);for(let ru=No;ru<Ca;ru++){let Kg=0;for(let fl=gs;fl<dl;fl++){if(ki[fl]){Kg++;continue}qr(Pn,ru,fl,xo)&&Kf(Pn,pr(Pn[ru],fl),xo,Io.cell);const Qd=fl-gs-Kg,cb=Zr(co[ru-No],Qd),Ym=cb.element,ub=Io.replace(Ym);Em(Pn[ru],fl,$r(ub,!0,cb.isLocked))}}return Pn})(Ge,Wt,ft,nt,Le,dn)})})((G=_.row,ae=_.column,{row:G,column:ae}),x,K,_.generators,D).fold(()=>Yd(x,ne.some(_.element)),ue=>ul(ue,_.row,_.column))},(x,_)=>Sm(_.element).bind(D=>Ro(x,D).map(F=>({...F,generators:_.generators,clipboard:_.clipboard}))),Cx,z,Iu),qh=jo((x,_,D,F)=>{const K=ir(x).rows,G=_.cells[0].column,ae=K[_.cells[0].row],ue=y1(_.clipboard,_.generators,ae),ke=$l(G,x,ue,_.generators,D);return ul(ke,_.cells[0].row,_.cells[0].column)},Sx(!0),z,z,Iu),sE=jo((x,_,D,F)=>{const K=ir(x).rows,G=_.cells[_.cells.length-1].column+_.cells[_.cells.length-1].colspan,ae=K[_.cells[0].row],ue=y1(_.clipboard,_.generators,ae),ke=$l(G,x,ue,_.generators,D);return ul(ke,_.cells[0].row,G)},Sx(!1),z,z,Iu),rE=jo((x,_,D,F)=>{const K=ir(x).rows,G=_.cells[0].row,ae=K[G],ue=y1(_.clipboard,_.generators,ae),ke=pv(G,x,ue,_.generators,D);return ul(ke,_.cells[0].row,_.cells[0].column)},oa,z,z,Iu),Lm=jo((x,_,D,F)=>{const K=ir(x).rows,G=_.cells[_.cells.length-1].row+_.cells[_.cells.length-1].rowspan,ae=K[_.cells[0].row],ue=y1(_.clipboard,_.generators,ae),ke=pv(G,x,ue,_.generators,D);return ul(ke,G,_.cells[0].column)},oa,z,z,Iu),Bg=(x,_)=>{const D=Ho(x);return Ui(D,_).bind(F=>{const K=F[F.length-1],G=F[0].column,ae=K.column+K.colspan,ue=ot(P(D.all,ke=>Kt(ke.cells,ze=>ze.column>=G&&ze.column<ae)));return Da(ue)}).getOr("")},k1=(x,_)=>{const D=Ho(x);return Ui(D,_).bind(Da).getOr("")},xC=(x,_)=>{const D=Ho(x);return Ui(D,_).bind(F=>{const K=F[F.length-1],G=F[0].row,ae=K.row+K.rowspan;return(ue=>{const ke=P(ue,Le=>jf(Le).type),ze=rt(ke,"header"),nt=rt(ke,"footer");if(ze||nt){const Le=rt(ke,"body");return!ze||Le||nt?ze||Le||!nt?ne.none():ne.some("footer"):ne.some("header")}return ne.some("body")})(D.all.slice(G,ae))}).getOr("")},Rx=(x,_)=>x.dispatch("NewRow",{node:_}),kv=(x,_)=>x.dispatch("NewCell",{node:_}),Jf=(x,_,D)=>{x.dispatch("TableModified",{...D,table:_})},E1={structure:!1,style:!0},Ha={structure:!0,style:!1},sa={structure:!0,style:!0},Fm=(x,_)=>Ou(x)?Au(_):M(x)?br(_):_g(_),Dx=(x,_,D)=>{const F=nt=>pt(_s(nt))==="table",K=hc(x),G=kg(x)?z:Rg,ae=nt=>{switch(eu(x)){case"section":return Va();case"sectionCells":return I();case"cells":return U();default:return((Le,je)=>{var Ge;switch((Ge=Ho(Le),te(Ge.all,ft=>{const gt=jf(ft);return gt.type==="header"?ne.from(gt.subType):ne.none()})).getOr(je)){case"section":return xa();case"sectionCells":return en();case"cells":return Zf()}})(nt,"section")}},ue=(nt,Le,je,Ge)=>(ft,gt,Ht=!1)=>{Ar(ft);const zt=Yt.fromDom(x.getDoc()),Vt=er(je,zt,K),Wt={sizing:Fm(x,ft),resize:kg(x)?Du():Vh(),section:ae(ft)};return Le(ft)?nt(ft,gt,Vt,Wt).bind(ln=>{_.refresh(ft.dom),wt(ln.newRows,vt=>{Rx(x,vt.dom)}),wt(ln.newCells,vt=>{kv(x,vt.dom)});const dn=((vt,Pn)=>Pn.cursor.fold(()=>{const co=_r(vt);return Fn(co).filter(rl).map(Io=>{D.clearSelectedCells(vt.dom);const xo=x.dom.createRng();return xo.selectNode(Io.dom),x.selection.setRng(xo),ms(Io,"data-mce-selected","1"),xo})},co=>{const Io=gv(Og,co),xo=x.dom.createRng();return xo.setStart(Io.element.dom,Io.offset),xo.setEnd(Io.element.dom,Io.offset),x.selection.setRng(xo),D.clearSelectedCells(vt.dom),ne.some(xo)}))(ft,ln);return rl(ft)&&(Ar(ft),Ht||Jf(x,ft.dom,Ge)),dn.map(vt=>({rng:vt,effect:Ge}))}):ne.none()},ke=ue(_x,nt=>!F(x)||nu(nt).rows>1,z,Ha),ze=ue(C1,nt=>!F(x)||nu(nt).columns>1,z,Ha);return{deleteRow:ke,deleteColumn:ze,insertRowsBefore:ue(w1,de,z,Ha),insertRowsAfter:ue(Kh,de,z,Ha),insertColumnsBefore:ue(Bu,de,G,Ha),insertColumnsAfter:ue(nE,de,G,Ha),mergeCells:ue(oE,de,z,Ha),unmergeCells:ue(_v,de,z,Ha),pasteColsBefore:ue(qh,de,z,Ha),pasteColsAfter:ue(sE,de,z,Ha),pasteRowsBefore:ue(rE,de,z,Ha),pasteRowsAfter:ue(Lm,de,z,Ha),pasteCells:ue(Ox,de,z,sa),makeCellsHeader:ue(Tx,de,z,Ha),unmakeCellsHeader:ue(yC,de,z,Ha),makeColumnsHeader:ue(S1,de,z,Ha),unmakeColumnsHeader:ue(kx,de,z,Ha),makeRowsHeader:ue(Ex,de,z,Ha),makeRowsBody:ue(_1,de,z,Ha),makeRowsFooter:ue(Ax,de,z,Ha),getTableRowType:xC,getTableCellType:k1,getTableColType:Bg}},A1=(x,_,D)=>{const F=Sr(x,_,1);D===1||F<=1?Do(x,_):ms(x,_,Math.min(D,F))},_i=(x,_)=>D=>{const F=D.column+D.colspan-1,K=D.column;return F>=x&&K<_},Vl=Ig([{invalid:["raw"]},{pixels:["value"]},{percent:["value"]}]),Gh=(x,_,D)=>{const F=D.substring(0,D.length-x.length),K=parseFloat(F);return F===K.toString()?_(K):Vl.invalid(D)},$m={...Vl,from:x=>bn(x,"%")?Gh("%",Vl.percent,x):bn(x,"px")?Gh("px",Vl.pixels,x):Vl.invalid(x)},Mg=(x,_,D)=>{const F=$m.from(D),K=ht(x,G=>G==="0px")?((G,ae)=>{const ue=G.fold(()=>W(""),ke=>W(ke/ae+"px"),()=>W(100/ae+"%"));return Ve(ae,ue)})(F,x.length):((G,ae,ue)=>G.fold(()=>ae,ke=>((ze,nt,Le)=>{const je=Le/nt;return P(ze,Ge=>$m.from(Ge).fold(()=>Ge,ft=>ft*je+"px",ft=>ft/100*Le+"px"))})(ae,ue,ke),ke=>((ze,nt)=>P(ze,Le=>$m.from(Le).fold(()=>Le,je=>je/nt*100+"%",je=>je+"%")))(ae,ue)))(F,x,_);return Nx(K)},T1=(x,_)=>x.length===0?_:rn(x,(D,F)=>$m.from(F).fold(W(0),X,X)+D,0),wC=(x,_)=>$m.from(x).fold(W(x),D=>D+_+"px",D=>D+_+"%"),Nx=x=>{if(x.length===0)return x;const _=rn(x,(F,K)=>{const G=$m.from(K).fold(()=>({value:K,remainder:0}),ae=>((ue,ke)=>{const ze=Math.floor(ue);return{value:ze+"px",remainder:ue-ze}})(ae),ae=>({value:ae+"%",remainder:0}));return{output:[G.value].concat(F.output),remainder:F.remainder+G.remainder}},{output:[],remainder:0}),D=_.output;return D.slice(0,D.length-1).concat([wC(D[D.length-1],Math.round(_.remainder))])},Lg=$m.from,dr=(x,_,D)=>{const F=Ho(x),K=F.all,G=Hn(F),ae=Sc(F);_.each(ue=>{const ke=Lg(ue).fold(W("px"),W("px"),W("%")),ze=_l(x),nt=((je,Ge)=>ya(je,Ge,wi,$f))(F,x),Le=Mg(nt,ze,ue);_c(F)?((je,Ge,ft)=>{wt(Ge,(gt,Ht)=>{const zt=T1([je[Ht]],wl());Bo(gt.element,"width",zt+ft)})})(Le,ae,ke):((je,Ge,ft)=>{wt(Ge,gt=>{const Ht=je.slice(gt.column,gt.colspan+gt.column),zt=T1(Ht,wl());Bo(gt.element,"width",zt+ft)})})(Le,G,ke),Bo(x,"width",ue)}),D.each(ue=>{const ke=wu(x),ze=((nt,Le)=>$a(nt,Le,Ci,$f))(F,x);((nt,Le,je)=>{wt(je,Ge=>{xl(Ge.element,"height")}),wt(Le,(Ge,ft)=>{Bo(Ge.element,"height",nt[ft])})})(Mg(ze,ke,ue),K,G),Bo(x,"height",ue)})},O1=x=>gc(x).exists(_=>Ta.test(_)),Rr=x=>gc(x).exists(_=>Xn.test(_)),Xd=x=>gc(x).isNone(),rd=x=>{Do(x,"width"),Do(x,"height")},Yh=x=>{const _=Vd(x);dr(x,ne.some(_),ne.none()),rd(x)},oc=x=>{const _=(D=>_l(D)+"px")(x);dr(x,ne.some(_),ne.none()),rd(x)},Zi=x=>{xl(x,"width");const _=al(x),D=_.length>0?_:_r(x);wt(D,F=>{xl(F,"width"),rd(F)}),rd(x)},Fg={styles:{"border-collapse":"collapse",width:"100%"},attributes:{border:"1"},colGroups:!1},Ev=(x,_,D,F)=>Ve(x,K=>((G,ae,ue,ke)=>{const ze=Yt.fromTag("tr");for(let nt=0;nt<G;nt++){const Le=Yt.fromTag(ke<ae||nt<ue?"th":"td");nt<ue&&ms(Le,"scope","row"),ke<ae&&ms(Le,"scope","col"),wr(Le,Yt.fromTag("br")),wr(ze,Le)}return ze})(_,D,F,K)),Xh=(x,_)=>{x.selection.select(_.dom,!0),x.selection.collapse(!0)},Av=(x,_,D,F,K)=>{const G=(ue=>{const ke=ue.options,ze=ke.get("table_default_styles");return ke.isSet("table_default_styles")?ze:((nt,Le)=>Y(nt)||!He(nt)?Le:M(nt)?{...Le,width:kl(nt)}:{...Le,width:ii})(ue,ze)})(x),ae={styles:G,attributes:$t(x),colGroups:oo(x)};return x.undoManager.ignore(()=>{const ue=((ze,nt,Le,je,Ge,ft=Fg)=>{const gt=Yt.fromTag("table"),Ht=Ge!=="cells";Xl(gt,ft.styles),Qa(gt,ft.attributes),ft.colGroups&&wr(gt,(ln=>{const dn=Yt.fromTag("colgroup");return Ve(ln,()=>wr(dn,Yt.fromTag("col"))),dn})(nt));const zt=Math.min(ze,Le);if(Ht&&Le>0){const ln=Yt.fromTag("thead");wr(gt,ln);const dn=Ev(Le,nt,Ge==="sectionCells"?zt:0,je);Ml(ln,dn)}const Vt=Yt.fromTag("tbody");wr(gt,Vt);const Wt=Ev(Ht?ze-zt:ze,nt,Ht?0:Le,je);return Ml(Vt,Wt),gt})(D,_,K,F,eu(x),ae);ms(ue,"data-mce-id","__mce");const ke=(ze=>{const nt=Yt.fromTag("div"),Le=Yt.fromDom(ze.dom.cloneNode(!0));return wr(nt,Le),(je=>je.dom.innerHTML)(nt)})(ue);x.insertContent(ke),x.addVisual()}),bt(_s(x),'table[data-mce-id="__mce"]').map(ue=>(M(x)?oc(ue):Y(x)?Zi(ue):(Ou(x)||(ke=>h(ke)&&ke.indexOf("%")!==-1)(G.width))&&Yh(ue),Ar(ue),Do(ue,"data-mce-id"),((ke,ze)=>{wt(Ns(ze,"tr"),nt=>{Rx(ke,nt.dom),wt(Ns(nt,"th,td"),Le=>{kv(ke,Le.dom)})})})(x,ue),((ke,ze)=>{bt(ze,"td,th").each(j(Xh,ke))})(x,ue),ue.dom)).getOrNull()};var Jh=tinymce.util.Tools.resolve("tinymce.FakeClipboard");const CC="x-tinymce/dom-table-",Ix=CC+"rows",Px=CC+"columns",SC=x=>{const _=Jh.FakeClipboardItem(x);Jh.write([_])},Ki=x=>{var _;const D=(_=Jh.read())!==null&&_!==void 0?_:[];return te(D,F=>ne.from(F.getType(x)))},$g=x=>{Ki(x).isSome()&&Jh.clear()},_C=x=>{x.fold(Hl,_=>SC({[Ix]:_}))},Mu=()=>Ki(Ix),Hl=()=>$g(Ix),Qh=x=>{x.fold(kC,_=>SC({[Px]:_}))},nb=()=>Ki(Px),kC=()=>$g(Px),Gr=x=>qd(Rc(x),Kr(x)).filter(fv),Yr=(x,_)=>{const D=Kr(x),F=Le=>Cl(Le,D),K=Le=>(je=>Cr(Rc(je),Kr(je)).filter(fv))(x).bind(je=>F(je).map(Ge=>Le(Ge,je))),G=Le=>{x.focus()},ae=(Le,je=!1)=>K((Ge,ft)=>{const gt=Mo(Ic(x),Ge,ft);Le(Ge,gt,je).each(G)}),ue=()=>K((Le,je)=>((Ge,ft,gt)=>{const Ht=Ho(Ge);return Ui(Ht,ft).bind(zt=>{const Vt=Mn(Ht,gt,!1),Wt=ir(Vt).rows.slice(zt[0].row,zt[zt.length-1].row+zt[zt.length-1].rowspan),ln=$e(Wt,vt=>{const Pn=Kt(vt.cells,co=>!co.isLocked);return Pn.length>0?[{...vt,cells:Pn}]:[]}),dn=Lo(ln);return yn(dn.length>0,dn)}).map(zt=>P(zt,Vt=>{const Wt=Df(Vt.element);return wt(Vt.cells,ln=>{const dn=Wc(ln.element);Se(dn,"colspan",ln.colspan,1),Se(dn,"rowspan",ln.rowspan,1),wr(Wt,dn)}),Wt}))})(Le,Mo(Ic(x),Le,je),er(z,Yt.fromDom(x.getDoc()),ne.none()))),ke=()=>K((Le,je)=>((Ge,ft)=>{const gt=Ho(Ge);return Ur(gt,ft).map(Ht=>{const zt=Ht[Ht.length-1],Vt=Ht[0].column,Wt=zt.column+zt.colspan,ln=((vt,Pn,co)=>{if(_c(vt)){const Io=Kt(Sc(vt),_i(Pn,co)),xo=P(Io,No=>{const gs=Wc(No.element);return A1(gs,"span",co-Pn),gs}),uo=Yt.fromTag("colgroup");return Ml(uo,xo),[uo]}return[]})(gt,Vt,Wt),dn=((vt,Pn,co)=>P(vt.all,Io=>{const xo=Kt(Io.cells,_i(Pn,co)),uo=P(xo,gs=>{const Ca=Wc(gs.element);return A1(Ca,"colspan",co-Pn),Ca}),No=Yt.fromTag("tr");return Ml(No,uo),No}))(gt,Vt,Wt);return[...ln,...dn]})})(Le,Mo(Ic(x),Le,je))),ze=(Le,je)=>je().each(Ge=>{const ft=P(Ge,gt=>Wc(gt));K((gt,Ht)=>{const zt=Ps(Yt.fromDom(x.getDoc())),Vt=((Wt,ln,dn,vt)=>({selection:Zd(Wt),clipboard:dn,generators:vt}))(Ic(x),0,ft,zt);Le(gt,Vt).each(G)})}),nt=Le=>(je,Ge)=>((ft,gt)=>Ue(ft,gt)?ne.from(ft[gt]):ne.none())(Ge,"type").each(ft=>{ae(Le(ft),Ge.no_events)});Cn({mceTableSplitCells:()=>ae(_.unmergeCells),mceTableMergeCells:()=>ae(_.mergeCells),mceTableInsertRowBefore:()=>ae(_.insertRowsBefore),mceTableInsertRowAfter:()=>ae(_.insertRowsAfter),mceTableInsertColBefore:()=>ae(_.insertColumnsBefore),mceTableInsertColAfter:()=>ae(_.insertColumnsAfter),mceTableDeleteCol:()=>ae(_.deleteColumn),mceTableDeleteRow:()=>ae(_.deleteRow),mceTableCutCol:()=>ke().each(Le=>{Qh(Le),ae(_.deleteColumn)}),mceTableCutRow:()=>ue().each(Le=>{_C(Le),ae(_.deleteRow)}),mceTableCopyCol:()=>ke().each(Le=>Qh(Le)),mceTableCopyRow:()=>ue().each(Le=>_C(Le)),mceTablePasteColBefore:()=>ze(_.pasteColsBefore,nb),mceTablePasteColAfter:()=>ze(_.pasteColsAfter,nb),mceTablePasteRowBefore:()=>ze(_.pasteRowsBefore,Mu),mceTablePasteRowAfter:()=>ze(_.pasteRowsAfter,Mu),mceTableDelete:()=>Gr(x).each(Le=>{Cl(Le,D).filter(fe(D)).each(je=>{const Ge=Yt.fromText("");if(Yl(je,Ge),ar(je),x.dom.isEmpty(x.getBody()))x.setContent(""),x.selection.setCursorLocation();else{const ft=x.dom.createRng();ft.setStart(Ge.dom,0),ft.setEnd(Ge.dom,0),x.selection.setRng(ft),x.nodeChanged()}})}),mceTableCellToggleClass:(Le,je)=>{K(Ge=>{const ft=Ic(x),gt=ht(ft,zt=>x.formatter.match("tablecellclass",{value:je},zt.dom)),Ht=gt?x.formatter.remove:x.formatter.apply;wt(ft,zt=>Ht("tablecellclass",{value:je},zt.dom)),Jf(x,Ge.dom,E1)})},mceTableToggleClass:(Le,je)=>{K(Ge=>{x.formatter.toggle("tableclass",{value:je},Ge.dom),Jf(x,Ge.dom,E1)})},mceTableToggleCaption:()=>{Gr(x).each(Le=>{Cl(Le,D).each(je=>{yt(je,"caption").fold(()=>{const Ge=Yt.fromTag("caption");wr(Ge,Yt.fromText("Caption")),((ft,gt,Ht)=>{vu(ft,0).fold(()=>{wr(ft,gt)},zt=>{xn(zt,gt)})})(je,Ge),x.selection.setCursorLocation(Ge.dom,0)},Ge=>{ps("caption")(Le)&&Bl("td",je).each(ft=>x.selection.setCursorLocation(ft.dom,0)),ar(Ge)}),Jf(x,je.dom,Ha)})})},mceTableSizingMode:(Le,je)=>(Ge=>Gr(x).each(ft=>{Y(x)||M(x)||Ou(x)||Cl(ft,D).each(gt=>{Ge!=="relative"||O1(gt)?Ge!=="fixed"||Rr(gt)?Ge!=="responsive"||Xd(gt)||Zi(gt):oc(gt):Yh(gt),Ar(gt),Jf(x,gt.dom,Ha)})}))(je),mceTableCellType:nt(Le=>Le==="th"?_.makeCellsHeader:_.unmakeCellsHeader),mceTableColType:nt(Le=>Le==="th"?_.makeColumnsHeader:_.unmakeColumnsHeader),mceTableRowType:nt(Le=>{switch(Le){case"header":return _.makeRowsHeader;case"footer":return _.makeRowsFooter;default:return _.makeRowsBody}})},(Le,je)=>x.addCommand(je,Le)),x.addCommand("mceInsertTable",(Le,je)=>{((Ge,ft,gt,Ht={})=>{const zt=Vt=>V(Vt)&&Vt>0;if(zt(ft)&&zt(gt)){const Vt=Ht.headerRows||0,Wt=Ht.headerColumns||0;return Av(Ge,gt,ft,Wt,Vt)}console.error("Invalid values for mceInsertTable - rows and columns values are required to insert a table.")})(x,je.rows,je.columns,je.options)}),x.addCommand("mceTableApplyCellStyle",(Le,je)=>{const Ge=Ht=>"tablecell"+Ht.toLowerCase().replace("-","");if(!g(je))return;const ft=Kt(Ic(x),fv);if(ft.length===0)return;const gt=((Ht,zt)=>{const Vt={};return((Wt,ln,dn,vt)=>{Cn(Wt,(Pn,co)=>{(ln(Pn,co)?dn:vt)(Pn,co)})})(Ht,zt,(Wt=>(ln,dn)=>{Wt[dn]=ln})(Vt),z),Vt})(je,(Ht,zt)=>x.formatter.has(Ge(zt))&&h(Ht));(Ht=>{for(const zt in Ht)if(tn.call(Ht,zt))return!1;return!0})(gt)||(Cn(gt,(Ht,zt)=>{const Vt=Ge(zt);wt(ft,Wt=>{Ht===""?x.formatter.remove(Vt,{value:null},Wt.dom,!0):x.formatter.apply(Vt,{value:Ht},Wt.dom)})}),F(ft[0]).each(Ht=>Jf(x,Ht.dom,E1)))})},wa=Ig([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),qs={before:wa.before,on:wa.on,after:wa.after,cata:(x,_,D,F)=>x.fold(_,D,F),getStart:x=>x.fold(X,X,X)},Wr=(x,_)=>({selection:x,kill:_}),fa=(x,_)=>{const D=x.document.createRange();return D.selectNode(_.dom),D},R1=(x,_)=>{const D=x.document.createRange();return D1(D,_),D},D1=(x,_)=>x.selectNodeContents(_.dom),Bx=(x,_,D)=>{const F=x.document.createRange();var K;return K=F,_.fold(G=>{K.setStartBefore(G.dom)},(G,ae)=>{K.setStart(G.dom,ae)},G=>{K.setStartAfter(G.dom)}),((G,ae)=>{ae.fold(ue=>{G.setEndBefore(ue.dom)},(ue,ke)=>{G.setEnd(ue.dom,ke)},ue=>{G.setEndAfter(ue.dom)})})(F,D),F},Tv=(x,_,D,F,K)=>{const G=x.document.createRange();return G.setStart(_.dom,D),G.setEnd(F.dom,K),G},Mx=x=>({left:x.left,top:x.top,right:x.right,bottom:x.bottom,width:x.width,height:x.height}),ep=Ig([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),N1=(x,_,D)=>_(Yt.fromDom(D.startContainer),D.startOffset,Yt.fromDom(D.endContainer),D.endOffset),I1=(x,_)=>{const D=((F,K)=>K.match({domRange:G=>({ltr:W(G),rtl:ne.none}),relative:(G,ae)=>({ltr:La(()=>Bx(F,G,ae)),rtl:La(()=>ne.some(Bx(F,ae,G)))}),exact:(G,ae,ue,ke)=>({ltr:La(()=>Tv(F,G,ae,ue,ke)),rtl:La(()=>ne.some(Tv(F,ue,ke,G,ae)))})}))(x,_);return((F,K)=>{const G=K.ltr();return G.collapsed?K.rtl().filter(ae=>ae.collapsed===!1).map(ae=>ep.rtl(Yt.fromDom(ae.endContainer),ae.endOffset,Yt.fromDom(ae.startContainer),ae.startOffset)).getOrThunk(()=>N1(0,ep.ltr,G)):N1(0,ep.ltr,G)})(0,D)},Lx=(x,_)=>I1(x,_).match({ltr:(D,F,K,G)=>{const ae=x.document.createRange();return ae.setStart(D.dom,F),ae.setEnd(K.dom,G),ae},rtl:(D,F,K,G)=>{const ae=x.document.createRange();return ae.setStart(K.dom,G),ae.setEnd(D.dom,F),ae}});ep.ltr,ep.rtl;const Ov=(x,_,D,F)=>({start:x,soffset:_,finish:D,foffset:F}),sc=(x,_,D,F)=>({start:qs.on(x,_),finish:qs.on(D,F)}),Fx=(x,_)=>{const D=Lx(x,_);return Ov(Yt.fromDom(D.startContainer),D.startOffset,Yt.fromDom(D.endContainer),D.endOffset)},El=sc,Rv=(x,_,D,F,K)=>Vs(D,F)?ne.none():Dc(D,F,_).bind(G=>{const ae=G.boxes.getOr([]);return ae.length>1?(K(x,ae,G.start,G.finish),ne.some(Wr(ne.some(El(D,0,D,Ir(D))),!0))):ne.none()}),tp=(x,_)=>({item:x,mode:_}),ad=(x,_,D,F=ma)=>x.property().parent(_).map(K=>tp(K,F)),ma=(x,_,D,F=Vg)=>D.sibling(x,_).map(K=>tp(K,F)),Vg=(x,_,D,F=Vg)=>{const K=x.property().children(_);return D.first(K).map(G=>tp(G,F))},$x=[{current:ad,next:ma,fallback:ne.none()},{current:ma,next:Vg,fallback:ne.some(ad)},{current:Vg,next:Vg,fallback:ne.some(ma)}],Vx=(x,_,D,F,K=$x)=>Tn(K,G=>G.current===D).bind(G=>G.current(x,_,F,G.next).orThunk(()=>G.fallback.bind(ae=>Vx(x,_,ae,F)))),Dv=(x,_,D,F,K,G)=>Vx(x,_,F,K).bind(ae=>G(ae.item)?ne.none():D(ae.item)?ne.some(ae.item):Dv(x,ae.item,D,ae.mode,K,G)),Qf=x=>_=>x.property().children(_).length===0,aE=(x,_,D,F)=>Dv(x,_,D,ma,{sibling:(K,G)=>K.query().prevSibling(G),first:K=>K.length>0?ne.some(K[K.length-1]):ne.none()},F),Nv=(x,_,D,F)=>Dv(x,_,D,ma,{sibling:(K,G)=>K.query().nextSibling(G),first:K=>K.length>0?ne.some(K[0]):ne.none()},F),Hg=Ud(),EC=(x,_)=>((D,F,K)=>aE(D,F,Qf(D),K))(Hg,x,_),Iv=(x,_)=>((D,F,K)=>Nv(D,F,Qf(D),K))(Hg,x,_),Pv=Ig([{none:["message"]},{success:[]},{failedUp:["cell"]},{failedDown:["cell"]}]),P1=x=>it(x,"tr"),ob={...Pv,verify:(x,_,D,F,K,G,ae)=>it(F,"td,th",ae).bind(ue=>it(_,"td,th",ae).map(ke=>Vs(ue,ke)?Vs(F,ue)&&Ir(ue)===K?G(ke):Pv.none("in same cell"):Wd(P1,[ue,ke]).fold(()=>((ze,nt,Le)=>{const je=ze.getRect(nt),Ge=ze.getRect(Le);return Ge.right>je.left&&Ge.left<je.right})(x,ke,ue)?Pv.success():G(ke),ze=>G(ke)))).getOr(Pv.none("default")),cata:(x,_,D,F,K)=>x.fold(_,D,F,K)},B1=ps("br"),Al=(x,_,D)=>_(x,D).bind(F=>Wo(F)&&Vf(F).trim().length===0?Al(F,_,D):ne.some(F)),Hx=(x,_,D,F)=>((K,G)=>vu(K,G).filter(B1).orThunk(()=>vu(K,G-1).filter(B1)))(_,D).bind(K=>F.traverse(K).fold(()=>Al(K,F.gather,x).map(F.relative),G=>(ae=>pl(ae).bind(ue=>{const ke=Ma(ue);return((ze,nt)=>Tt(ze,j(Vs,nt)))(ke,ae).map(ze=>((nt,Le,je,Ge)=>({parent:nt,children:Le,element:je,index:Ge}))(ue,ke,ae,ze))}))(G).map(ae=>qs.on(ae.parent,ae.index)))),em=(x,_)=>({left:x.left,top:x.top+_,right:x.right,bottom:x.bottom+_}),Bv=(x,_)=>({left:x.left,top:x.top-_,right:x.right,bottom:x.bottom-_}),Jd=(x,_,D)=>({left:x.left+_,top:x.top+D,right:x.right+_,bottom:x.bottom+D}),Mv=x=>({left:x.left,top:x.top,right:x.right,bottom:x.bottom}),Lv=(x,_)=>ne.some(x.getRect(_)),zg=(x,_,D)=>so(_)?Lv(x,_).map(Mv):Wo(_)?((F,K,G)=>G>=0&&G<Ir(K)?F.getRangedRect(K,G,K,G+1):G>0?F.getRangedRect(K,G-1,K,G):ne.none())(x,_,D).map(Mv):ne.none(),np=(x,_)=>so(_)?Lv(x,_).map(Mv):Wo(_)?x.getRangedRect(_,0,_,Ir(_)).map(Mv):ne.none(),Lu=Ig([{none:[]},{retry:["caret"]}]),Fv=(x,_,D)=>ut(_,jh).fold(q,F=>np(x,F).exists(K=>((G,ae)=>G.left<ae.left||Math.abs(ae.right-G.left)<1||G.left>ae.right)(D,K))),iE={point:x=>x.bottom,adjuster:(x,_,D,F,K)=>{const G=em(K,5);return Math.abs(D.bottom-F.bottom)<1||D.top>K.bottom?Lu.retry(G):D.top===K.bottom?Lu.retry(em(K,1)):Fv(x,_,K)?Lu.retry(Jd(G,5,0)):Lu.none()},move:em,gather:Iv},su=(x,_,D,F,K)=>K===0?ne.some(F):((G,ae,ue)=>G.elementFromPoint(ae,ue).filter(ke=>pt(ke)==="table").isSome())(x,F.left,_.point(F))?((G,ae,ue,ke,ze)=>su(G,ae,ue,ae.move(ke,5),ze))(x,_,D,F,K-1):x.situsFromPoint(F.left,_.point(F)).bind(G=>G.start.fold(ne.none,ae=>np(x,ae).bind(ue=>_.adjuster(x,ae,ue,D,F).fold(ne.none,ke=>su(x,_,D,ke,K-1))).orThunk(()=>ne.some(F)),ne.none)),tm=(x,_,D)=>{const F=x.move(D,5),K=su(_,x,D,F,100).getOr(F);return((G,ae,ue)=>G.point(ae)>ue.getInnerHeight()?ne.some(G.point(ae)-ue.getInnerHeight()):G.point(ae)<0?ne.some(-G.point(ae)):ne.none())(x,K,_).fold(()=>_.situsFromPoint(K.left,x.point(K)),G=>(_.scrollBy(0,G),_.situsFromPoint(K.left,x.point(K)-G)))},Fu={tryUp:j(tm,{point:x=>x.top,adjuster:(x,_,D,F,K)=>{const G=Bv(K,5);return Math.abs(D.top-F.top)<1||D.bottom<K.top?Lu.retry(G):D.bottom===K.top?Lu.retry(Bv(K,1)):Fv(x,_,K)?Lu.retry(Jd(G,5,0)):Lu.none()},move:Bv,gather:EC}),tryDown:j(tm,iE),getJumpSize:W(5)},zx=(x,_,D)=>x.getSelection().bind(F=>((K,G,ae,ue)=>(B1(G)?((ze,nt,Le)=>Le.traverse(nt).orThunk(()=>Al(nt,Le.gather,ze)).map(Le.relative))(K,G,ue):Hx(K,G,ae,ue)).map(ze=>({start:ze,finish:ze})))(_,F.finish,F.foffset,D).fold(()=>ne.some(yo(F.finish,F.foffset)),K=>{const G=x.fromSitus(K);return ae=ob.verify(x,F.finish,F.foffset,G.finish,G.foffset,D.failure,_),ob.cata(ae,ue=>ne.none(),()=>ne.none(),ue=>ne.some(yo(ue,0)),ue=>ne.some(yo(ue,Ir(ue))));var ae})),Ga=(x,_,D,F,K,G)=>G===0?ne.none():lE(x,_,D,F,K).bind(ae=>{const ue=x.fromSitus(ae),ke=ob.verify(x,D,F,ue.finish,ue.foffset,K.failure,_);return ob.cata(ke,()=>ne.none(),()=>ne.some(ae),ze=>Vs(D,ze)&&F===0?$u(x,D,F,Bv,K):Ga(x,_,ze,0,K,G-1),ze=>Vs(D,ze)&&F===Ir(ze)?$u(x,D,F,em,K):Ga(x,_,ze,Ir(ze),K,G-1))}),$u=(x,_,D,F,K)=>zg(x,_,D).bind(G=>rc(x,K,F(G,Fu.getJumpSize()))),rc=(x,_,D)=>{const F=Kc().browser;return F.isChromium()||F.isSafari()||F.isFirefox()?_.retry(x,D):ne.none()},lE=(x,_,D,F,K)=>zg(x,D,F).bind(G=>rc(x,K,G)),Vm=(x,_,D,F,K)=>it(F,"td,th",_).bind(G=>it(G,"table",_).bind(ae=>((ue,ke)=>Pe(ue,ze=>pl(ze).exists(nt=>Vs(nt,ke)),void 0).isSome())(K,ae)?((ue,ke,ze)=>zx(ue,ke,ze).bind(nt=>Ga(ue,ke,nt.element,nt.offset,ze,20).map(ue.fromSitus)))(x,_,D).bind(ue=>it(ue.finish,"td,th",_).map(ke=>({start:G,finish:ke,range:ue}))):ne.none())),nm=(x,_,D,F,K,G)=>G(F,_).orThunk(()=>Vm(x,_,D,F,K).map(ae=>{const ue=ae.range;return Wr(ne.some(El(ue.start,ue.soffset,ue.finish,ue.foffset)),!0)})),sb=(x,_)=>it(x,"tr",_).bind(D=>it(D,"table",_).bind(F=>{const K=Ns(F,"tr");return Vs(D,K[0])?((G,ae,ue)=>aE(Hg,G,ke=>Tc(ke).isSome(),ue))(F,0,_).map(G=>{const ae=Ir(G);return Wr(ne.some(El(G,ae,G,ae)),!0)}):ne.none()})),Ug=(x,_)=>it(x,"tr",_).bind(D=>it(D,"table",_).bind(F=>{const K=Ns(F,"tr");return Vs(D,K[K.length-1])?((G,ae,ue)=>Nv(Hg,G,ke=>Dm(ke).isSome(),ue))(F,0,_).map(G=>Wr(ne.some(El(G,0,G,0)),!0)):ne.none()})),Mc=(x,_,D,F,K,G,ae)=>Vm(x,D,F,K,G).bind(ue=>Rv(_,D,ue.start,ue.finish,ae)),M1=x=>{let _=x;return{get:()=>_,set:D=>{_=D}}},L1=()=>{const x=(_=>{const D=M1(ne.none()),F=()=>D.get().each(_);return{clear:()=>{F(),D.set(ne.none())},isSet:()=>D.get().isSome(),get:()=>D.get(),set:K=>{F(),D.set(ne.some(K))}}})(z);return{...x,on:_=>x.get().each(_)}},$v=(x,_)=>it(x,"td,th",_),F1=x=>wc(x).exists(bo),AC={traverse:nl,gather:Iv,relative:qs.before,retry:Fu.tryDown,failure:ob.failedDown},Vv={traverse:ho,gather:EC,relative:qs.before,retry:Fu.tryUp,failure:ob.failedUp},om=x=>_=>_===x,Hv=om(38),op=om(40),sp=x=>x>=37&&x<=40,Hm={isBackward:om(37),isForward:om(39)},zm={isBackward:om(39),isForward:om(37)},zv=Ig([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),Um={domRange:zv.domRange,relative:zv.relative,exact:zv.exact,exactFromRange:x=>zv.exact(x.start,x.soffset,x.finish,x.foffset),getWin:x=>{const _=(D=>D.match({domRange:F=>Yt.fromDom(F.startContainer),relative:(F,K)=>qs.getStart(F),exact:(F,K,G,ae)=>F}))(x);return Yt.fromDom(xc(_).dom.defaultView)},range:Ov},Wm=(x,_)=>{const D=pt(x);return D==="input"?qs.after(x):rt(["br","img"],D)?_===0?qs.before(x):qs.after(x):qs.on(x,_)},jm=x=>ne.from(x.getSelection()),rp=(x,_)=>{jm(x).each(D=>{D.removeAllRanges(),D.addRange(_)})},$1=(x,_,D,F,K)=>{const G=Tv(x,_,D,F,K);rp(x,G)},rb=(x,_)=>I1(x,_).match({ltr:(D,F,K,G)=>{$1(x,D,F,K,G)},rtl:(D,F,K,G)=>{jm(x).each(ae=>{if(ae.setBaseAndExtent)ae.setBaseAndExtent(D.dom,F,K.dom,G);else if(ae.extend)try{((ue,ke,ze,nt,Le,je)=>{ke.collapse(ze.dom,nt),ke.extend(Le.dom,je)})(0,ae,D,F,K,G)}catch{$1(x,K,G,D,F)}else $1(x,K,G,D,F)})}}),V1=(x,_,D,F,K)=>{const G=((ae,ue,ke,ze)=>{const nt=Wm(ae,ue),Le=Wm(ke,ze);return Um.relative(nt,Le)})(_,D,F,K);rb(x,G)},Ux=(x,_,D)=>{const F=((K,G)=>{const ae=K.fold(qs.before,Wm,qs.after),ue=G.fold(qs.before,Wm,qs.after);return Um.relative(ae,ue)})(_,D);rb(x,F)},ab=x=>{if(x.rangeCount>0){const _=x.getRangeAt(0),D=x.getRangeAt(x.rangeCount-1);return ne.some(Ov(Yt.fromDom(_.startContainer),_.startOffset,Yt.fromDom(D.endContainer),D.endOffset))}return ne.none()},Ya=x=>{if(x.anchorNode===null||x.focusNode===null)return ab(x);{const _=Yt.fromDom(x.anchorNode),D=Yt.fromDom(x.focusNode);return((F,K,G,ae)=>{const ue=((ze,nt,Le,je)=>{const Ge=yc(ze).dom.createRange();return Ge.setStart(ze.dom,nt),Ge.setEnd(Le.dom,je),Ge})(F,K,G,ae),ke=Vs(F,G)&&K===ae;return ue.collapsed&&!ke})(_,x.anchorOffset,D,x.focusOffset)?ne.some(Ov(_,x.anchorOffset,D,x.focusOffset)):ab(x)}},Wx=(x,_,D=!0)=>{const F=(D?R1:fa)(x,_);rp(x,F)},TC=x=>(_=>jm(_).filter(D=>D.rangeCount>0).bind(Ya))(x).map(_=>Um.exact(_.start,_.soffset,_.finish,_.foffset)),jx=(x,_,D)=>((F,K,G)=>((ae,ue,ke)=>ae.caretPositionFromPoint?((ze,nt,Le)=>{var je;return ne.from((je=ze.caretPositionFromPoint)===null||je===void 0?void 0:je.call(ze,nt,Le)).bind(Ge=>{if(Ge.offsetNode===null)return ne.none();const ft=ze.createRange();return ft.setStart(Ge.offsetNode,Ge.offset),ft.collapse(),ne.some(ft)})})(ae,ue,ke):ae.caretRangeFromPoint?((ze,nt,Le)=>{var je;return ne.from((je=ze.caretRangeFromPoint)===null||je===void 0?void 0:je.call(ze,nt,Le))})(ae,ue,ke):ne.none())(F.document,K,G).map(ae=>Ov(Yt.fromDom(ae.startContainer),ae.startOffset,Yt.fromDom(ae.endContainer),ae.endOffset)))(x,_,D),Zx=x=>({elementFromPoint:(_,D)=>Yt.fromPoint(Yt.fromDom(x.document),_,D),getRect:_=>_.dom.getBoundingClientRect(),getRangedRect:(_,D,F,K)=>{const G=Um.exact(_,D,F,K);return((ae,ue)=>(ke=>{const ze=ke.getClientRects(),nt=ze.length>0?ze[0]:ke.getBoundingClientRect();return nt.width>0||nt.height>0?ne.some(nt).map(Mx):ne.none()})(Lx(ae,ue)))(x,G)},getSelection:()=>TC(x).map(_=>Fx(x,_)),fromSitus:_=>{const D=Um.relative(_.start,_.finish);return Fx(x,D)},situsFromPoint:(_,D)=>jx(x,_,D).map(F=>sc(F.start,F.soffset,F.finish,F.foffset)),clearSelection:()=>{(_=>{jm(_).each(D=>D.removeAllRanges())})(x)},collapseSelection:(_=!1)=>{TC(x).each(D=>D.fold(F=>F.collapse(_),(F,K)=>{const G=_?F:K;Ux(x,G,G)},(F,K,G,ae)=>{const ue=_?F:G,ke=_?K:ae;V1(x,ue,ke,ue,ke)}))},setSelection:_=>{V1(x,_.start,_.soffset,_.finish,_.foffset)},setRelativeSelection:(_,D)=>{Ux(x,_,D)},selectNode:_=>{Wx(x,_,!1)},selectContents:_=>{Wx(x,_)},getInnerHeight:()=>x.innerHeight,getScrollY:()=>(_=>{const D=_!==void 0?_.dom:document,F=D.body.scrollLeft||D.documentElement.scrollLeft,K=D.body.scrollTop||D.documentElement.scrollTop;return Fi(F,K)})(Yt.fromDom(x.document)).top,scrollBy:(_,D)=>{((F,K,G)=>{const ae=(G!==void 0?G.dom:document).defaultView;ae&&ae.scrollBy(F,K)})(_,D,Yt.fromDom(x.document))}}),Zm=(x,_)=>({rows:x,cols:_}),H1=x=>ut(x,no).exists(bo),Uv=(x,_)=>H1(x)||H1(_),Kx=x=>x.dom.classList!==void 0,cE=(x,_)=>((D,F,K)=>{const G=((ae,ue)=>{const ke=on(ae,ue);return ke===void 0||ke===""?[]:ke.split(" ")})(D,F).concat([K]);return ms(D,F,G.join(" ")),!0})(x,"class",_),Km=(x,_)=>{Kx(x)?x.dom.classList.add(_):cE(x,_)},Wv=(x,_)=>Kx(x)&&x.dom.classList.contains(_),OC=()=>({tag:"none"}),RC=x=>({tag:"multiple",elements:x}),id=x=>({tag:"single",element:x}),qx=x=>{const _=Yt.fromDom((ue=>{if(O(ue.target)){const ke=Yt.fromDom(ue.target);if(so(ke)&&O(ke.dom.shadowRoot)&&ue.composed&&ue.composedPath){const ze=ue.composedPath();if(ze)return Fn(ze)}}return ne.from(ue.target)})(x).getOr(x.target)),D=()=>x.stopPropagation(),F=()=>x.preventDefault(),K=(G=F,ae=D,(...ue)=>G(ae.apply(null,ue)));var G,ae;return((ue,ke,ze,nt,Le,je,Ge)=>({target:ue,x:ke,y:ze,stop:nt,prevent:Le,kill:je,raw:Ge}))(_,x.clientX,x.clientY,D,F,K,x)},z1=(x,_,D,F)=>{x.dom.removeEventListener(_,D,F)},DC=de,ap=(x,_,D)=>((F,K,G,ae)=>((ue,ke,ze,nt,Le)=>{const je=((Ge,ft)=>gt=>{Ge(gt)&&ft(qx(gt))})(ze,nt);return ue.dom.addEventListener(ke,je,Le),{unbind:j(z1,ue,ke,je,Le)}})(F,K,G,ae,!1))(x,_,DC,D),ib=qx,jv=x=>!Wv(Yt.fromDom(x.target),"ephox-snooker-resizer-bar"),NC=(x,_)=>{const D=(K=Kd.selectedSelector,{get:()=>Nc(Yt.fromDom(x.getBody()),K).fold(()=>Cr(Rc(x),Kr(x)).fold(OC,id),RC)}),F=((G,ae,ue)=>{const ke=je=>{Do(je,G.selected),Do(je,G.firstSelected),Do(je,G.lastSelected)},ze=je=>{ms(je,G.selected,"1")},nt=je=>{Le(je),ue()},Le=je=>{const Ge=Ns(je,`${G.selectedSelector},${G.firstSelectedSelector},${G.lastSelectedSelector}`);wt(Ge,ke)};return{clearBeforeUpdate:Le,clear:nt,selectRange:(je,Ge,ft,gt)=>{nt(je),wt(Ge,ze),ms(ft,G.firstSelected,"1"),ms(gt,G.lastSelected,"1"),ae(Ge,ft,gt)},selectedSelector:G.selectedSelector,firstSelectedSelector:G.firstSelectedSelector,lastSelectedSelector:G.lastSelectedSelector}})(Kd,(G,ae,ue)=>{Cl(ae).each(ke=>{const ze=P(G,Ge=>Ge.dom),nt=hc(x),Le=er(z,Yt.fromDom(x.getDoc()),nt),je=((Ge,ft,gt)=>{const Ht=Ho(Ge);return Ui(Ht,ft).map(zt=>{const Vt=Mn(Ht,gt,!1),{rows:Wt}=ir(Vt),ln=((vt,Pn)=>{const co=vt.slice(0,Pn[Pn.length-1].row+1),Io=Lo(co);return $e(Io,xo=>{const uo=xo.cells.slice(0,Pn[Pn.length-1].column+1);return P(uo,No=>No.element)})})(Wt,zt),dn=((vt,Pn)=>{const co=vt.slice(Pn[0].row+Pn[0].rowspan-1,vt.length),Io=Lo(co);return $e(Io,xo=>{const uo=xo.cells.slice(Pn[0].column+Pn[0].colspan-1,xo.cells.length);return P(uo,No=>No.element)})})(Wt,zt);return{upOrLeftCells:ln,downOrRightCells:dn}})})(ke,{selection:Ic(x)},Le).map(Ge=>qe(Ge,ft=>P(ft,gt=>gt.dom))).getOrUndefined();((Ge,ft,gt,Ht,zt)=>{Ge.dispatch("TableSelectionChange",{cells:ft,start:gt,finish:Ht,otherCells:zt})})(x,ze,ae.dom,ue.dom,je)})},()=>(G=>{G.dispatch("TableSelectionClear")})(x));var K;return x.on("init",G=>{const ae=x.getWin(),ue=_s(x),ke=Kr(x),ze=((gt,Ht,zt,Vt)=>{const Wt=((ln,dn,vt,Pn)=>{const co=L1(),Io=co.clear,xo=uo=>{co.on(No=>{Pn.clearBeforeUpdate(dn),$v(uo.target,vt).each(gs=>{Dc(No,gs,vt).each(Ca=>{const dl=Ca.boxes.getOr([]);if(dl.length===1){const ki=dl[0],ru=Un(ki)==="false",Kg=Qt(Eo(uo.target),ki,Vs);ru&&Kg&&Pn.selectRange(dn,dl,ki,ki)}else dl.length>1&&(Pn.selectRange(dn,dl,Ca.start,Ca.finish),ln.selectContents(gs))})})})};return{clearstate:Io,mousedown:uo=>{Pn.clear(dn),$v(uo.target,vt).filter(F1).each(co.set)},mouseover:uo=>{xo(uo)},mouseup:uo=>{xo(uo),Io()}}})(Zx(gt),Ht,zt,Vt);return{clearstate:Wt.clearstate,mousedown:Wt.mousedown,mouseover:Wt.mouseover,mouseup:Wt.mouseup}})(ae,ue,ke,F),nt=((gt,Ht,zt,Vt)=>{const Wt=Zx(gt),ln=()=>(Vt.clear(Ht),ne.none());return{keydown:(dn,vt,Pn,co,Io,xo)=>{const uo=dn.raw,No=uo.which,gs=uo.shiftKey===!0;return $h(Ht,Vt.selectedSelector).fold(()=>(sp(No)&&!gs&&Vt.clearBeforeUpdate(Ht),sp(No)&&gs&&!Uv(vt,co)?ne.none:op(No)&&gs?j(Mc,Wt,Ht,zt,AC,co,vt,Vt.selectRange):Hv(No)&&gs?j(Mc,Wt,Ht,zt,Vv,co,vt,Vt.selectRange):op(No)?j(nm,Wt,zt,AC,co,vt,Ug):Hv(No)?j(nm,Wt,zt,Vv,co,vt,sb):ne.none),dl=>{const ki=ru=>()=>te(ru,fl=>((Qd,cb,Ym,ub,G1)=>li(ub,Qd,cb,G1.firstSelectedSelector,G1.lastSelectedSelector).map(Xm=>(G1.clearBeforeUpdate(Ym),G1.selectRange(Ym,Xm.boxes,Xm.start,Xm.finish),Xm.boxes)))(fl.rows,fl.cols,Ht,dl,Vt)).fold(()=>jd(Ht,Vt.firstSelectedSelector,Vt.lastSelectedSelector).map(fl=>{const Qd=op(No)||xo.isForward(No)?qs.after:qs.before;return Wt.setRelativeSelection(qs.on(fl.first,0),Qd(fl.table)),Vt.clear(Ht),Wr(ne.none(),!0)}),fl=>ne.some(Wr(ne.none(),!0)));return sp(No)&&gs&&!Uv(vt,co)?ne.none:op(No)&&gs?ki([Zm(1,0)]):Hv(No)&&gs?ki([Zm(-1,0)]):xo.isBackward(No)&&gs?ki([Zm(0,-1),Zm(-1,0)]):xo.isForward(No)&&gs?ki([Zm(0,1),Zm(1,0)]):sp(No)&&!gs?ln:ne.none})()},keyup:(dn,vt,Pn,co,Io)=>$h(Ht,Vt.selectedSelector).fold(()=>{const xo=dn.raw,uo=xo.which;return xo.shiftKey===!0&&sp(uo)&&Uv(vt,co)?((No,gs,Ca,dl,ki,ru,Kg)=>Vs(Ca,ki)&&dl===ru?ne.none():it(Ca,"td,th",gs).bind(fl=>it(ki,"td,th",gs).bind(Qd=>Rv(No,gs,fl,Qd,Kg))))(Ht,zt,vt,Pn,co,Io,Vt.selectRange):ne.none()},ne.none)}})(ae,ue,ke,F),Le=((gt,Ht,zt,Vt)=>{const Wt=Zx(gt);return(ln,dn)=>{Vt.clearBeforeUpdate(Ht),Dc(ln,dn,zt).each(vt=>{const Pn=vt.boxes.getOr([]);Vt.selectRange(Ht,Pn,vt.start,vt.finish),Wt.selectContents(dn),Wt.collapseSelection()})}})(ae,ue,ke,F);x.on("TableSelectorChange",gt=>Le(gt.start,gt.finish));const je=(gt,Ht)=>{(zt=>zt.raw.shiftKey===!0)(gt)&&(Ht.kill&&gt.kill(),Ht.selection.each(zt=>{const Vt=Um.relative(zt.start,zt.finish),Wt=Lx(ae,Vt);x.selection.setRng(Wt)}))},Ge=gt=>gt.button===0,ft=(()=>{const gt=M1(Yt.fromDom(ue)),Ht=M1(0);return{touchEnd:zt=>{const Vt=Yt.fromDom(zt.target);if(ps("td")(Vt)||ps("th")(Vt)){const Wt=gt.get(),ln=Ht.get();Vs(Wt,Vt)&&zt.timeStamp-ln<300&&(zt.preventDefault(),Le(Vt,Vt))}gt.set(Vt),Ht.set(zt.timeStamp)}}})();x.on("dragstart",gt=>{ze.clearstate()}),x.on("mousedown",gt=>{Ge(gt)&&jv(gt)&&ze.mousedown(ib(gt))}),x.on("mouseover",gt=>{var Ht;(Ht=gt).buttons!==void 0&&(1&Ht.buttons)==0||!jv(gt)||ze.mouseover(ib(gt))}),x.on("mouseup",gt=>{Ge(gt)&&jv(gt)&&ze.mouseup(ib(gt))}),x.on("touchend",ft.touchEnd),x.on("keyup",gt=>{const Ht=ib(gt);if(Ht.raw.shiftKey&&sp(Ht.raw.which)){const zt=x.selection.getRng(),Vt=Yt.fromDom(zt.startContainer),Wt=Yt.fromDom(zt.endContainer);nt.keyup(Ht,Vt,zt.startOffset,Wt,zt.endOffset).each(ln=>{je(Ht,ln)})}}),x.on("keydown",gt=>{const Ht=ib(gt);_.hide();const zt=x.selection.getRng(),Vt=Yt.fromDom(zt.startContainer),Wt=Yt.fromDom(zt.endContainer),ln=Go(Hm,zm)(Yt.fromDom(x.selection.getStart()));nt.keydown(Ht,Vt,zt.startOffset,Wt,zt.endOffset,ln).each(dn=>{je(Ht,dn)}),_.show()}),x.on("NodeChange",()=>{const gt=x.selection,Ht=Yt.fromDom(gt.getStart()),zt=Yt.fromDom(gt.getEnd());Wd(Cl,[Ht,zt]).fold(()=>F.clear(ue),z)})}),x.on("PreInit",()=>{x.serializer.addTempAttr(Kd.firstSelected),x.serializer.addTempAttr(Kd.lastSelected)}),{getSelectedCells:()=>((G,ae,ue,ke)=>{switch(G.tag){case"none":return ae();case"single":return(ze=>[ze.dom])(G.element);case"multiple":return(ze=>P(ze,nt=>nt.dom))(G.elements)}})(D.get(),W([])),clearSelectedCells:G=>F.clear(Yt.fromDom(G))}},ld=x=>{let _=[];return{bind:D=>{if(D===void 0)throw new Error("Event bind error: undefined handler");_.push(D)},unbind:D=>{_=Kt(_,F=>F!==D)},trigger:(...D)=>{const F={};wt(x,(K,G)=>{F[K]=D[G]}),wt(_,K=>{K(F)})}}},Wg=x=>({registry:qe(x,_=>({bind:_.bind,unbind:_.unbind})),trigger:qe(x,_=>_.trigger)}),Zv=x=>x.slice(0).sort(),Kv=(x,_)=>{const D=Kt(_,F=>!rt(x,F));D.length>0&&(F=>{throw new Error("Unsupported keys for object: "+Zv(F).join(", "))})(D)},U1=x=>((_,D)=>((F,K,G)=>{if(K.length===0)throw new Error("You must specify at least one required field.");return((ae,ue)=>{if(!y(ue))throw new Error("The "+ae+" fields must be an array. Was: "+ue+".");wt(ue,ke=>{if(!h(ke))throw new Error("The value "+ke+" in the "+ae+" fields was not a string.")})})("required",K),(ae=>{const ue=Zv(ae);Tn(ue,(ke,ze)=>ze<ue.length-1&&ke===ue[ze+1]).each(ke=>{throw new Error("The field: "+ke+" occurs more than once in the combined fields: ["+ue.join(", ")+"].")})})(K),ae=>{const ue=So(ae);ht(K,ze=>rt(ue,ze))||((ze,nt)=>{throw new Error("All required keys ("+Zv(ze).join(", ")+") were not specified. Specified keys were: "+Zv(nt).join(", ")+".")})(K,ue),F(K,ue);const ke=Kt(K,ze=>!G.validate(ae[ze],ze));return ke.length>0&&((ze,nt)=>{throw new Error("All values need to be of type: "+nt+". Keys ("+Zv(ze).join(", ")+") were not.")})(ke,G.label),ae}})(_,D,{validate:N,label:"function"}))(Kv,x),qv=U1(["compare","extract","mutate","sink"]),qi=U1(["element","start","stop","destroy"]),W1=U1(["forceDrop","drop","move","delayDrop"]),jg=()=>{const x=(()=>{const F=Wg({move:ld(["info"])});return{onEvent:z,reset:z,events:F.registry}})(),_=(()=>{let F=ne.none();const K=Wg({move:ld(["info"])});return{onEvent:(G,ae)=>{ae.extract(G).each(ue=>{((ze,nt)=>{const Le=F.map(je=>ze.compare(je,nt));return F=ne.some(nt),Le})(ae,ue).each(ze=>{K.trigger.move(ze)})})},reset:()=>{F=ne.none()},events:K.registry}})();let D=x;return{on:()=>{D.reset(),D=_},off:()=>{D.reset(),D=x},isOn:()=>D===_,onEvent:(F,K)=>{D.onEvent(F,K)},events:_.events}},Zg=x=>{const _=x.replace(/\./g,"-");return{resolve:D=>_+"-"+D}},Gv=Zg("ephox-dragster").resolve;var j1=qv({compare:(x,_)=>Fi(_.left-x.left,_.top-x.top),extract:x=>ne.some(Fi(x.x,x.y)),sink:(x,_)=>{const D=(ue=>{const ke={layerClass:Gv("blocker"),...ue},ze=Yt.fromTag("div");return ms(ze,"role","presentation"),Xl(ze,{position:"fixed",left:"0px",top:"0px",width:"100%",height:"100%"}),Km(ze,Gv("blocker")),Km(ze,ke.layerClass),{element:W(ze),destroy:()=>{ar(ze)}}})(_),F=ap(D.element(),"mousedown",x.forceDrop),K=ap(D.element(),"mouseup",x.drop),G=ap(D.element(),"mousemove",x.move),ae=ap(D.element(),"mouseout",x.delayDrop);return qi({element:D.element,start:ue=>{wr(ue,D.element())},stop:()=>{ar(D.element())},destroy:()=>{D.destroy(),K.unbind(),G.unbind(),ae.unbind(),F.unbind()}})},mutate:(x,_)=>{x.mutate(_.left,_.top)}});const ip=Zg("ephox-snooker").resolve,qm=ip("resizer-bar"),Gx=ip("resizer-rows"),Z1=ip("resizer-cols"),zl=x=>{const _=Ns(x.parent(),"."+qm);wt(_,ar)},Gm=(x,_,D)=>{const F=x.origin();wt(_,K=>{K.each(G=>{const ae=D(F,G);Km(ae,qm),wr(x.parent(),ae)})})},Yx=(x,_,D,F,K)=>{const G=Fd(D),ae=_.isResizable,ue=F.length>0?Cu.positions(F,D):[],ke=ue.length>0?((Le,je)=>$e(Le.all,(Ge,ft)=>je(Ge.element)?[ft]:[]))(x,ae):[];((Le,je,Ge,ft)=>{Gm(Le,je,(gt,Ht)=>{const zt=((Vt,Wt,ln,dn,vt)=>{const Pn=Yt.fromTag("div");return Xl(Pn,{position:"absolute",left:Wt+"px",top:ln-3.5+"px",height:"7px",width:dn+"px"}),Qa(Pn,{"data-row":Vt,role:"presentation"}),Pn})(Ht.row,Ge.left-gt.left,Ht.y-gt.top,ft);return Km(zt,Gx),zt})})(_,Kt(ue,(Le,je)=>Oe(ke,Ge=>je===Ge)),G,Bd(D));const ze=K.length>0?$d.positions(K,D):[],nt=ze.length>0?((Le,je)=>{const Ge=[];return Ve(Le.grid.columns,ft=>{bs(Le,ft).map(gt=>gt.element).forall(je)&&Ge.push(ft)}),Kt(Ge,ft=>{const gt=Aa(Le,Ht=>Ht.column===ft);return ht(gt,Ht=>je(Ht.element))})})(x,ae):[];((Le,je,Ge,ft)=>{Gm(Le,je,(gt,Ht)=>{const zt=((Vt,Wt,ln,dn,vt)=>{const Pn=Yt.fromTag("div");return Xl(Pn,{position:"absolute",left:Wt-3.5+"px",top:ln+"px",height:vt+"px",width:"7px"}),Qa(Pn,{"data-column":Vt,role:"presentation"}),Pn})(Ht.col,Ht.x-gt.left,Ge.top-gt.top,0,ft);return Km(zt,Z1),zt})})(_,Kt(ze,(Le,je)=>Oe(nt,Ge=>je===Ge)),G,Cg(D))},Et=(x,_)=>{if(zl(x),x.isResizable(_)){const D=Ho(_),F=Yc(D),K=Bf(D);Yx(D,x,_,F,K)}},lb=(x,_)=>{const D=Ns(x.parent(),"."+qm);wt(D,_)},uE=x=>{lb(x,_=>{Bo(_,"display","none")})},IC=x=>{lb(x,_=>{Bo(_,"display","block")})},K1=ip("resizer-bar-dragging"),cd=x=>{const _=(()=>{const Le=Wg({drag:ld(["xDelta","yDelta","target"])});let je=ne.none();const Ge=(()=>{const ft=Wg({drag:ld(["xDelta","yDelta"])});return{mutate:(gt,Ht)=>{ft.trigger.drag(gt,Ht)},events:ft.registry}})();return Ge.events.drag.bind(ft=>{je.each(gt=>{Le.trigger.drag(ft.xDelta,ft.yDelta,gt)})}),{assign:ft=>{je=ne.some(ft)},get:()=>je,mutate:Ge.mutate,events:Le.registry}})(),D=((Le,je={})=>{var Ge;return((ft,gt,Ht)=>{let zt=!1;const Vt=Wg({start:ld([]),stop:ld([])}),Wt=jg(),ln=()=>{Pn.stop(),Wt.isOn()&&(Wt.off(),Vt.trigger.stop())},dn=((co,Io)=>{let xo=null;const uo=()=>{w(xo)||(clearTimeout(xo),xo=null)};return{cancel:uo,throttle:(...No)=>{uo(),xo=setTimeout(()=>{xo=null,co.apply(null,No)},200)}}})(ln);Wt.events.move.bind(co=>{gt.mutate(ft,co.info)});const vt=co=>(...Io)=>{zt&&co.apply(null,Io)},Pn=gt.sink(W1({forceDrop:ln,drop:vt(ln),move:vt(co=>{dn.cancel(),Wt.onEvent(co,gt)}),delayDrop:vt(dn.throttle)}),Ht);return{element:Pn.element,go:co=>{Pn.start(co),Wt.on(),Vt.trigger.start()},on:()=>{zt=!0},off:()=>{zt=!1},isActive:()=>zt,destroy:()=>{Pn.destroy()},events:Vt.registry}})(Le,(Ge=je.mode)!==null&&Ge!==void 0?Ge:j1,je)})(_,{});let F=ne.none();const K=(Le,je)=>ne.from(on(Le,je));_.events.drag.bind(Le=>{K(Le.target,"data-row").each(je=>{const Ge=If(Le.target,"top");Bo(Le.target,"top",Ge+Le.yDelta+"px")}),K(Le.target,"data-column").each(je=>{const Ge=If(Le.target,"left");Bo(Le.target,"left",Ge+Le.xDelta+"px")})});const G=(Le,je)=>If(Le,je)-Sr(Le,"data-initial-"+je,0);D.events.stop.bind(()=>{_.get().each(Le=>{F.each(je=>{K(Le,"data-row").each(Ge=>{const ft=G(Le,"top");Do(Le,"data-initial-top"),nt.trigger.adjustHeight(je,ft,parseInt(Ge,10))}),K(Le,"data-column").each(Ge=>{const ft=G(Le,"left");Do(Le,"data-initial-left"),nt.trigger.adjustWidth(je,ft,parseInt(Ge,10))}),Et(x,je)})})});const ae=(Le,je)=>{nt.trigger.startAdjust(),_.assign(Le),ms(Le,"data-initial-"+je,If(Le,je)),Km(Le,K1),Bo(Le,"opacity","0.2"),D.go(x.parent())},ue=ap(x.parent(),"mousedown",Le=>{var je;je=Le.target,Wv(je,Gx)&&ae(Le.target,"top"),(Ge=>Wv(Ge,Z1))(Le.target)&&ae(Le.target,"left")}),ke=Le=>Vs(Le,x.view()),ze=ap(x.view(),"mouseover",Le=>{var je;(je=Le.target,it(je,"table",ke).filter(bo)).fold(()=>{rl(Le.target)&&zl(x)},Ge=>{D.isActive()&&(F=ne.some(Ge),Et(x,Ge))})}),nt=Wg({adjustHeight:ld(["table","delta","row"]),adjustWidth:ld(["table","delta","column"]),startAdjust:ld([])});return{destroy:()=>{ue.unbind(),ze.unbind(),D.destroy(),zl(x)},refresh:Le=>{Et(x,Le)},on:D.on,off:D.off,hideBars:j(uE,x),showBars:j(IC,x),events:nt.registry}},q1=x=>O(x)&&x.nodeName==="TABLE",Yv="bar-",Xx=x=>on(x,"data-mce-resize")!=="false",Jx=x=>{const _=L1(),D=L1(),F=L1();let K,G,ae,ue;const ke=Le=>Fm(x,Le),ze=()=>Hf(x)?Vh():Du(),nt=(Le,je,Ge,ft)=>{const gt=(Vt=>{return _o(Wt=Vt,"corner-")?((ln,dn)=>ln.substring(7))(Wt):Wt;var Wt})(je),Ht=bn(gt,"e"),zt=_o(gt,"n");if(G===""&&Yh(Le),ue===""&&(Vt=>{const Wt=(ln=>wu(ln)+"px")(Vt);dr(Vt,ne.none(),ne.some(Wt)),rd(Vt)})(Le),Ge!==K&&G!==""){Bo(Le,"width",G);const Vt=ze(),Wt=ke(Le),ln=Hf(x)||Ht?(dn=>nu(dn).columns)(Le)-1:0;Yf(Le,Ge-K,ln,Vt,Wt)}else if((Vt=>/^(\d+(\.\d+)?)%$/.test(Vt))(G)){const Vt=parseFloat(G.replace("%",""));Bo(Le,"width",Ge*Vt/K+"%")}if((Vt=>/^(\d+(\.\d+)?)px$/.test(Vt))(G)&&(Vt=>{const Wt=Ho(Vt);_c(Wt)||wt(_r(Vt),ln=>{const dn=vi(ln,"width");Bo(ln,"width",dn),Do(ln,"width")})})(Le),ft!==ae&&ue!==""){Bo(Le,"height",ue);const Vt=zt?0:(Wt=>nu(Wt).rows)(Le)-1;zh(Le,ft-ae,Vt)}};return x.on("init",()=>{const Le=((je,Ge)=>je.inline?((ft,gt,Ht)=>({parent:W(gt),view:W(ft),origin:W(Fi(0,0)),isResizable:Ht}))(Yt.fromDom(je.getBody()),(()=>{const ft=Yt.fromTag("div");return Xl(ft,{position:"static",height:"0",width:"0",padding:"0",margin:"0",border:"0"}),wr(jc(Yt.fromDom(document)),ft),ft})(),Ge):((ft,gt)=>{const Ht=Po(ft)?(zt=>Yt.fromDom(xc(zt).dom.documentElement))(ft):ft;return{parent:W(Ht),view:W(ft),origin:W(Fi(0,0)),isResizable:gt}})(Yt.fromDom(je.getDoc()),Ge))(x,Xx);if(F.set(Le),(je=>{const Ge=je.options.get("object_resizing");return rt(Ge.split(","),"table")})(x)&&ce(x)){const je=((Ge,ft,gt)=>{const Ht=Cu,zt=$d,Vt=cd(Ge),Wt=Wg({beforeResize:ld(["table","type"]),afterResize:ld(["table","type"]),startDrag:ld([])});return Vt.events.adjustHeight.bind(ln=>{const dn=ln.table;Wt.trigger.beforeResize(dn,"row");const vt=Ht.delta(ln.delta,dn);zh(dn,vt,ln.row),Wt.trigger.afterResize(dn,"row")}),Vt.events.startAdjust.bind(ln=>{Wt.trigger.startDrag()}),Vt.events.adjustWidth.bind(ln=>{const dn=ln.table;Wt.trigger.beforeResize(dn,"col");const vt=zt.delta(ln.delta,dn),Pn=gt(dn);Yf(dn,vt,ln.column,ft,Pn),Wt.trigger.afterResize(dn,"col")}),{on:Vt.on,off:Vt.off,refreshBars:Vt.refresh,hideBars:Vt.hideBars,showBars:Vt.showBars,destroy:Vt.destroy,events:Wt.registry}})(Le,ze(),ke);je.on(),je.events.startDrag.bind(Ge=>{_.set(x.selection.getRng())}),je.events.beforeResize.bind(Ge=>{const ft=Ge.table.dom;((gt,Ht,zt,Vt,Wt)=>{gt.dispatch("ObjectResizeStart",{target:Ht,width:zt,height:Vt,origin:Wt})})(x,ft,Hd(ft),zf(ft),Yv+Ge.type)}),je.events.afterResize.bind(Ge=>{const ft=Ge.table,gt=ft.dom;Ar(ft),_.on(Ht=>{x.selection.setRng(Ht),x.focus()}),((Ht,zt,Vt,Wt,ln)=>{Ht.dispatch("ObjectResized",{target:zt,width:Vt,height:Wt,origin:ln})})(x,gt,Hd(gt),zf(gt),Yv+Ge.type),x.undoManager.add()}),D.set(je)}}),x.on("ObjectResizeStart",Le=>{const je=Le.target;if(q1(je)){const Ge=Yt.fromDom(je);wt(x.dom.select(".mce-clonedresizable"),ft=>{x.dom.addClass(ft,"mce-"+td(x)+"-columns")}),!Rr(Ge)&&M(x)?oc(Ge):!O1(Ge)&&Ou(x)&&Yh(Ge),Xd(Ge)&&_o(Le.origin,Yv)&&Yh(Ge),K=Le.width,G=Y(x)?"":h1(x,je).getOr(""),ae=Le.height,ue=Mh(x,je).getOr("")}}),x.on("ObjectResized",Le=>{const je=Le.target;if(q1(je)){const Ge=Yt.fromDom(je),ft=Le.origin;(gt=>_o(gt,"corner-"))(ft)&&nt(Ge,ft,Le.width,Le.height),Ar(Ge),Jf(x,Ge.dom,E1)}}),x.on("SwitchMode",()=>{D.on(Le=>{x.mode.isReadOnly()?Le.hideBars():Le.showBars()})}),x.on("dragstart dragend",Le=>{D.on(je=>{Le.type==="dragstart"?(je.hideBars(),je.off()):(je.on(),je.showBars())})}),x.on("remove",()=>{D.on(Le=>{Le.destroy()}),F.on(Le=>{((je,Ge)=>{je.inline&&ar(Ge.parent())})(x,Le)})}),{refresh:Le=>{D.on(je=>je.refreshBars(Yt.fromDom(Le)))},hide:()=>{D.on(Le=>Le.hideBars())},show:()=>{D.on(Le=>Le.showBars())}}},dE=x=>{(K=>{const G=K.options.register;G("table_clone_elements",{processor:"string[]"}),G("table_use_colgroups",{processor:"boolean",default:!0}),G("table_header_type",{processor:ae=>{const ue=rt(["section","cells","sectionCells","auto"],ae);return ue?{value:ae,valid:ue}:{valid:!1,message:"Must be one of: section, cells, sectionCells or auto."}},default:"section"}),G("table_sizing_mode",{processor:"string",default:"auto"}),G("table_default_attributes",{processor:"object",default:{border:"1"}}),G("table_default_styles",{processor:"object",default:{"border-collapse":"collapse"}}),G("table_column_resizing",{processor:ae=>{const ue=rt(["preservetable","resizetable"],ae);return ue?{value:ae,valid:ue}:{valid:!1,message:"Must be preservetable, or resizetable."}},default:"preservetable"}),G("table_resize_bars",{processor:"boolean",default:!0}),G("table_style_by_css",{processor:"boolean",default:!0}),G("table_merge_content_on_paste",{processor:"boolean",default:!0})})(x);const _=Jx(x),D=NC(x,_),F=Dx(x,_,D);return Yr(x,F),((K,G)=>{const ae=Kr(K),ue=ke=>Cr(Rc(K)).bind(ze=>Cl(ze,ae).map(nt=>{const Le=Mo(Ic(K),nt,ze);return ke(nt,Le)})).getOr("");Cn({mceTableRowType:()=>ue(G.getTableRowType),mceTableCellType:()=>ue(G.getTableCellType),mceTableColType:()=>ue(G.getTableColType)},(ke,ze)=>K.addQueryValueHandler(ze,ke))})(x,F),Pc(x,F),{getSelectedCells:D.getSelectedCells,clearSelectedCells:D.clearSelectedCells}};n.add("dom",x=>({table:dE(x)}))})();tinymce.Resource.add("ui/default/skin.css",`.tox{box-shadow:none;box-sizing:content-box;color:#222f3e;cursor:auto;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:16px;font-style:normal;font-weight:400;line-height:normal;-webkit-tap-highlight-color:transparent;-webkit-text-decoration:none;text-decoration:none;text-shadow:none;text-transform:none;vertical-align:initial;white-space:normal}.tox :not(svg):not(rect){box-sizing:inherit;color:inherit;cursor:inherit;direction:inherit;font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;line-height:inherit;-webkit-tap-highlight-color:inherit;text-align:inherit;text-decoration:inherit;text-shadow:inherit;text-transform:inherit;vertical-align:inherit;white-space:inherit}.tox :not(svg):not(rect){background:0 0;border:0;box-shadow:none;float:none;height:auto;margin:0;max-width:none;outline:0;padding:0;position:static;width:auto}.tox:not([dir=rtl]){direction:ltr;text-align:left}.tox[dir=rtl]{direction:rtl;text-align:right}.tox-tinymce{border:2px solid #eee;border-radius:10px;box-shadow:none;box-sizing:border-box;display:flex;flex-direction:column;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;overflow:hidden;position:relative;visibility:inherit!important}.tox.tox-tinymce-inline{border:none;box-shadow:none;overflow:initial}.tox.tox-tinymce-inline .tox-editor-container{overflow:initial}.tox.tox-tinymce-inline .tox-editor-header{background-color:#fff;border:2px solid #eee;border-radius:10px;box-shadow:none;overflow:hidden}.tox-tinymce-aux{font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;z-index:1300}.tox-tinymce :focus,.tox-tinymce-aux :focus{outline:0}button::-moz-focus-inner{border:0}.tox[dir=rtl] .tox-icon--flip svg{transform:rotateY(180deg)}.tox .accessibility-issue__header{align-items:center;display:flex;margin-bottom:4px}.tox .accessibility-issue__description{align-items:stretch;border-radius:6px;display:flex;justify-content:space-between}.tox .accessibility-issue__description>div{padding-bottom:4px}.tox .accessibility-issue__description>div>div{align-items:center;display:flex;margin-bottom:4px}.tox .accessibility-issue__description>div>div .tox-icon svg{display:block}.tox .accessibility-issue__repair{margin-top:16px}.tox .tox-dialog__body-content .accessibility-issue--info .accessibility-issue__description{background-color:rgba(0,101,216,.1);color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--info .tox-form__group h2{color:#006ce7}.tox .tox-dialog__body-content .accessibility-issue--info .tox-icon svg{fill:#006ce7}.tox .tox-dialog__body-content .accessibility-issue--info a.tox-button--naked.tox-button--icon{background-color:#006ce7;color:#fff}.tox .tox-dialog__body-content .accessibility-issue--info a.tox-button--naked.tox-button--icon:focus,.tox .tox-dialog__body-content .accessibility-issue--info a.tox-button--naked.tox-button--icon:hover{background-color:#0060ce}.tox .tox-dialog__body-content .accessibility-issue--info a.tox-button--naked.tox-button--icon:active{background-color:#0054b4}.tox .tox-dialog__body-content .accessibility-issue--warn .accessibility-issue__description{background-color:rgba(255,165,0,.08);color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--warn .tox-form__group h2{color:#8f5d00}.tox .tox-dialog__body-content .accessibility-issue--warn .tox-icon svg{fill:#8f5d00}.tox .tox-dialog__body-content .accessibility-issue--warn a.tox-button--naked.tox-button--icon{background-color:#ffe89d;color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--warn a.tox-button--naked.tox-button--icon:focus,.tox .tox-dialog__body-content .accessibility-issue--warn a.tox-button--naked.tox-button--icon:hover{background-color:#f2d574;color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--warn a.tox-button--naked.tox-button--icon:active{background-color:#e8c657;color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--error .accessibility-issue__description{background-color:rgba(204,0,0,.1);color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--error .tox-form__group h2{color:#c00}.tox .tox-dialog__body-content .accessibility-issue--error .tox-icon svg{fill:#c00}.tox .tox-dialog__body-content .accessibility-issue--error a.tox-button--naked.tox-button--icon{background-color:#f2bfbf;color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--error a.tox-button--naked.tox-button--icon:focus,.tox .tox-dialog__body-content .accessibility-issue--error a.tox-button--naked.tox-button--icon:hover{background-color:#e9a4a4;color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--error a.tox-button--naked.tox-button--icon:active{background-color:#ee9494;color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--success .accessibility-issue__description{background-color:rgba(120,171,70,.1);color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--success .accessibility-issue__description>:last-child{display:none}.tox .tox-dialog__body-content .accessibility-issue--success .tox-form__group h2{color:#527530}.tox .tox-dialog__body-content .accessibility-issue--success .tox-icon svg{fill:#527530}.tox .tox-dialog__body-content .accessibility-issue__header .tox-form__group h1,.tox .tox-dialog__body-content .tox-form__group .accessibility-issue__description h2{font-size:14px;margin-top:0}.tox:not([dir=rtl]) .tox-dialog__body-content .accessibility-issue__header .tox-button{margin-left:4px}.tox:not([dir=rtl]) .tox-dialog__body-content .accessibility-issue__header>:nth-last-child(2){margin-left:auto}.tox:not([dir=rtl]) .tox-dialog__body-content .accessibility-issue__description{padding:4px 4px 4px 8px}.tox[dir=rtl] .tox-dialog__body-content .accessibility-issue__header .tox-button{margin-right:4px}.tox[dir=rtl] .tox-dialog__body-content .accessibility-issue__header>:nth-last-child(2){margin-right:auto}.tox[dir=rtl] .tox-dialog__body-content .accessibility-issue__description{padding:4px 8px 4px 4px}.tox .mce-codemirror{background:#fff;bottom:0;font-size:13px;left:0;position:absolute;right:0;top:0;z-index:1}.tox .mce-codemirror.tox-inline-codemirror{margin:8px;position:absolute}.tox .tox-advtemplate .tox-form__grid{flex:1}.tox .tox-advtemplate .tox-form__grid>div:first-child{display:flex;flex-direction:column;width:30%}.tox .tox-advtemplate .tox-form__grid>div:first-child>div:nth-child(2){flex-basis:0;flex-grow:1;overflow:auto}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox .tox-advtemplate .tox-form__grid>div:first-child{width:100%}}.tox .tox-advtemplate iframe{border-color:#eee;border-radius:10px;border-style:solid;border-width:1px;margin:0 10px}.tox .tox-anchorbar{display:flex;flex:0 0 auto}.tox .tox-bottom-anchorbar{display:flex;flex:0 0 auto}.tox .tox-bar{display:flex;flex:0 0 auto}.tox .tox-button{background-color:#006ce7;background-image:none;background-position:0 0;background-repeat:repeat;border-color:#006ce7;border-radius:6px;border-style:solid;border-width:1px;box-shadow:none;box-sizing:border-box;color:#fff;cursor:pointer;display:inline-block;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:14px;font-style:normal;font-weight:700;letter-spacing:normal;line-height:24px;margin:0;outline:0;padding:4px 16px;position:relative;text-align:center;-webkit-text-decoration:none;text-decoration:none;text-transform:none;white-space:nowrap}.tox .tox-button::before{border-radius:6px;bottom:-1px;box-shadow:inset 0 0 0 1px #fff,0 0 0 2px #006ce7;content:'';left:-1px;opacity:0;pointer-events:none;position:absolute;right:-1px;top:-1px}.tox .tox-button[disabled]{background-color:#006ce7;background-image:none;border-color:#006ce7;box-shadow:none;color:rgba(255,255,255,.5);cursor:not-allowed}.tox .tox-button:focus:not(:disabled){background-color:#0060ce;background-image:none;border-color:#0060ce;box-shadow:none;color:#fff}.tox .tox-button:focus:not(:disabled)::before{opacity:1}.tox .tox-button:hover:not(:disabled){background-color:#0060ce;background-image:none;border-color:#0060ce;box-shadow:none;color:#fff}.tox .tox-button:active:not(:disabled){background-color:#0054b4;background-image:none;border-color:#0054b4;box-shadow:none;color:#fff}.tox .tox-button.tox-button--enabled{background-color:#0054b4;background-image:none;border-color:#0054b4;box-shadow:none;color:#fff}.tox .tox-button.tox-button--enabled[disabled]{background-color:#0054b4;background-image:none;border-color:#0054b4;box-shadow:none;color:rgba(255,255,255,.5);cursor:not-allowed}.tox .tox-button.tox-button--enabled:focus:not(:disabled){background-color:#00489b;background-image:none;border-color:#00489b;box-shadow:none;color:#fff}.tox .tox-button.tox-button--enabled:hover:not(:disabled){background-color:#00489b;background-image:none;border-color:#00489b;box-shadow:none;color:#fff}.tox .tox-button.tox-button--enabled:active:not(:disabled){background-color:#003c81;background-image:none;border-color:#003c81;box-shadow:none;color:#fff}.tox .tox-button--icon-and-text,.tox .tox-button.tox-button--icon-and-text,.tox .tox-button.tox-button--secondary.tox-button--icon-and-text{display:flex;padding:5px 4px}.tox .tox-button--icon-and-text .tox-icon svg,.tox .tox-button.tox-button--icon-and-text .tox-icon svg,.tox .tox-button.tox-button--secondary.tox-button--icon-and-text .tox-icon svg{display:block;fill:currentColor}.tox .tox-button--secondary{background-color:#f0f0f0;background-image:none;background-position:0 0;background-repeat:repeat;border-color:#f0f0f0;border-radius:6px;border-style:solid;border-width:1px;box-shadow:none;color:#222f3e;font-size:14px;font-style:normal;font-weight:700;letter-spacing:normal;outline:0;padding:4px 16px;-webkit-text-decoration:none;text-decoration:none;text-transform:none}.tox .tox-button--secondary[disabled]{background-color:#f0f0f0;background-image:none;border-color:#f0f0f0;box-shadow:none;color:rgba(34,47,62,.5)}.tox .tox-button--secondary:focus:not(:disabled){background-color:#e3e3e3;background-image:none;border-color:#e3e3e3;box-shadow:none;color:#222f3e}.tox .tox-button--secondary:hover:not(:disabled){background-color:#e3e3e3;background-image:none;border-color:#e3e3e3;box-shadow:none;color:#222f3e}.tox .tox-button--secondary:active:not(:disabled){background-color:#d6d6d6;background-image:none;border-color:#d6d6d6;box-shadow:none;color:#222f3e}.tox .tox-button--secondary.tox-button--enabled{background-color:#a8c8ed;background-image:none;border-color:#a8c8ed;box-shadow:none;color:#222f3e}.tox .tox-button--secondary.tox-button--enabled[disabled]{background-color:#a8c8ed;background-image:none;border-color:#a8c8ed;box-shadow:none;color:rgba(34,47,62,.5)}.tox .tox-button--secondary.tox-button--enabled:focus:not(:disabled){background-color:#93bbe9;background-image:none;border-color:#93bbe9;box-shadow:none;color:#222f3e}.tox .tox-button--secondary.tox-button--enabled:hover:not(:disabled){background-color:#93bbe9;background-image:none;border-color:#93bbe9;box-shadow:none;color:#222f3e}.tox .tox-button--secondary.tox-button--enabled:active:not(:disabled){background-color:#7daee4;background-image:none;border-color:#7daee4;box-shadow:none;color:#222f3e}.tox .tox-button--icon,.tox .tox-button.tox-button--icon,.tox .tox-button.tox-button--secondary.tox-button--icon{padding:4px}.tox .tox-button--icon .tox-icon svg,.tox .tox-button.tox-button--icon .tox-icon svg,.tox .tox-button.tox-button--secondary.tox-button--icon .tox-icon svg{display:block;fill:currentColor}.tox .tox-button-link{background:0;border:none;box-sizing:border-box;cursor:pointer;display:inline-block;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:16px;font-weight:400;line-height:1.3;margin:0;padding:0;white-space:nowrap}.tox .tox-button-link--sm{font-size:14px}.tox .tox-button--naked{background-color:transparent;border-color:transparent;box-shadow:unset;color:#222f3e}.tox .tox-button--naked[disabled]{background-color:rgba(34,47,62,.12);border-color:transparent;box-shadow:unset;color:rgba(34,47,62,.5)}.tox .tox-button--naked:hover:not(:disabled){background-color:rgba(34,47,62,.12);border-color:transparent;box-shadow:unset;color:#222f3e}.tox .tox-button--naked:focus:not(:disabled){background-color:rgba(34,47,62,.12);border-color:transparent;box-shadow:unset;color:#222f3e}.tox .tox-button--naked:active:not(:disabled){background-color:rgba(34,47,62,.18);border-color:transparent;box-shadow:unset;color:#222f3e}.tox .tox-button--naked .tox-icon svg{fill:currentColor}.tox .tox-button--naked.tox-button--icon:hover:not(:disabled){color:#222f3e}.tox .tox-checkbox{align-items:center;border-radius:6px;cursor:pointer;display:flex;height:36px;min-width:36px}.tox .tox-checkbox__input{height:1px;overflow:hidden;position:absolute;top:auto;width:1px}.tox .tox-checkbox__icons{align-items:center;border-radius:6px;box-shadow:0 0 0 2px transparent;box-sizing:content-box;display:flex;height:24px;justify-content:center;padding:calc(4px - 1px);width:24px}.tox .tox-checkbox__icons .tox-checkbox-icon__unchecked svg{display:block;fill:rgba(34,47,62,0.3)}@media (forced-colors:active){.tox .tox-checkbox__icons .tox-checkbox-icon__unchecked svg{fill:currentColor!important}}.tox .tox-checkbox__icons .tox-checkbox-icon__indeterminate svg{display:none;fill:#006ce7}.tox .tox-checkbox__icons .tox-checkbox-icon__checked svg{display:none;fill:#006ce7}.tox .tox-checkbox--disabled{color:rgba(34,47,62,.5);cursor:not-allowed}.tox .tox-checkbox--disabled .tox-checkbox__icons .tox-checkbox-icon__checked svg{fill:rgba(34,47,62,0.5)}.tox .tox-checkbox--disabled .tox-checkbox__icons .tox-checkbox-icon__unchecked svg{fill:rgba(34,47,62,0.5)}.tox .tox-checkbox--disabled .tox-checkbox__icons .tox-checkbox-icon__indeterminate svg{fill:rgba(34,47,62,0.5)}.tox input.tox-checkbox__input:checked+.tox-checkbox__icons .tox-checkbox-icon__unchecked svg{display:none}.tox input.tox-checkbox__input:checked+.tox-checkbox__icons .tox-checkbox-icon__checked svg{display:block}.tox input.tox-checkbox__input:indeterminate+.tox-checkbox__icons .tox-checkbox-icon__unchecked svg{display:none}.tox input.tox-checkbox__input:indeterminate+.tox-checkbox__icons .tox-checkbox-icon__indeterminate svg{display:block}.tox input.tox-checkbox__input:focus+.tox-checkbox__icons{border-radius:6px;box-shadow:inset 0 0 0 1px #006ce7;padding:calc(4px - 1px)}.tox:not([dir=rtl]) .tox-checkbox__label{margin-left:4px}.tox:not([dir=rtl]) .tox-checkbox__input{left:-10000px}.tox:not([dir=rtl]) .tox-bar .tox-checkbox{margin-left:4px}.tox[dir=rtl] .tox-checkbox__label{margin-right:4px}.tox[dir=rtl] .tox-checkbox__input{right:-10000px}.tox[dir=rtl] .tox-bar .tox-checkbox{margin-right:4px}.tox .tox-collection--toolbar .tox-collection__group{display:flex;padding:0}.tox .tox-collection--grid .tox-collection__group{display:flex;flex-wrap:wrap;max-height:208px;overflow-x:hidden;overflow-y:auto;padding:0}.tox .tox-collection--list .tox-collection__group{border-bottom-width:0;border-color:#e3e3e3;border-left-width:0;border-right-width:0;border-style:solid;border-top-width:1px;padding:4px 0}.tox .tox-collection--list .tox-collection__group:first-child{border-top-width:0}.tox .tox-collection__group-heading{background-color:#fcfcfc;color:rgba(34,47,62,.7);cursor:default;font-size:12px;font-style:normal;font-weight:400;margin-bottom:4px;margin-top:-4px;padding:4px 8px;text-transform:none;-webkit-touch-callout:none;-webkit-user-select:none;user-select:none}.tox .tox-collection__item{align-items:center;border-radius:3px;color:#222f3e;display:flex;-webkit-touch-callout:none;-webkit-user-select:none;user-select:none}.tox .tox-collection--list .tox-collection__item{padding:4px 8px}.tox .tox-collection--toolbar .tox-collection__item{border-radius:3px;padding:4px}.tox .tox-collection--grid .tox-collection__item{border-radius:3px;padding:4px}.tox .tox-collection--list .tox-collection__item--enabled{background-color:#fff;color:#222f3e}.tox .tox-collection--list .tox-collection__item--active{background-color:#006ce7}.tox .tox-collection--toolbar .tox-collection__item--enabled,.tox .tox-collection--toolbar .tox-collection__item--enabled.tox-collection__item--active,.tox .tox-collection--toolbar .tox-collection__item--enabled.tox-collection__item--active:hover{background-color:#a6ccf7;color:#222f3e}@media (forced-colors:active){.tox .tox-collection--toolbar .tox-collection__item--enabled,.tox .tox-collection--toolbar .tox-collection__item--enabled.tox-collection__item--active,.tox .tox-collection--toolbar .tox-collection__item--enabled.tox-collection__item--active:hover{border-radius:3px;outline:solid 1px}}.tox .tox-collection--toolbar .tox-collection__item--active{background-color:#fff;position:relative}.tox .tox-collection--toolbar .tox-collection__item--active:hover{background-color:#f0f0f0;color:#222f3e}.tox .tox-collection--toolbar .tox-collection__item--active:focus{background-color:#f0f0f0;color:#222f3e}.tox .tox-collection--toolbar .tox-collection__item--active:focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-collection--toolbar .tox-collection__item--active:focus::after{border:2px solid highlight}}.tox .tox-collection--grid .tox-collection__item--enabled{background-color:#a6ccf7;color:#222f3e}.tox .tox-collection--grid .tox-collection__item--active:not(.tox-collection__item--state-disabled){background-color:#f0f0f0;color:#222f3e;position:relative;z-index:1}.tox .tox-collection--grid .tox-collection__item--active:not(.tox-collection__item--state-disabled):focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7 inset;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-collection--grid .tox-collection__item--active:not(.tox-collection__item--state-disabled):focus::after{border:2px solid highlight}}.tox .tox-collection--list .tox-collection__item--active:not(.tox-collection__item--state-disabled){color:#fff}@media (forced-colors:active){.tox .tox-collection--list .tox-collection__item--active:not(.tox-collection__item--state-disabled){border:solid 1px}}.tox .tox-collection--toolbar .tox-collection__item--active:not(.tox-collection__item--state-disabled){color:#222f3e}@media (forced-colors:active){.tox .tox-collection--toolbar .tox-collection__item--active:not(.tox-collection__item--state-disabled):hover{border-radius:3px;outline:solid 1px}}.tox .tox-collection__item-checkmark,.tox .tox-collection__item-icon{align-items:center;display:flex;height:24px;justify-content:center;width:24px}.tox .tox-collection__item-checkmark svg,.tox .tox-collection__item-icon svg{fill:currentColor}.tox .tox-collection--toolbar-lg .tox-collection__item-icon{height:48px;width:48px}.tox .tox-collection__item-label{color:currentColor;display:inline-block;flex:1;font-size:14px;font-style:normal;font-weight:400;line-height:24px;max-width:100%;text-transform:none;word-break:break-all}.tox .tox-collection__item-accessory{color:currentColor;display:inline-block;font-size:14px;height:24px;line-height:24px;text-transform:none}.tox .tox-collection__item-caret{align-items:center;display:flex;min-height:24px}.tox .tox-collection__item-caret::after{content:'';font-size:0;min-height:inherit}.tox .tox-collection__item-caret svg{fill:currentColor}.tox .tox-collection__item--state-disabled{background-color:transparent;color:rgba(34,47,62,.5);cursor:not-allowed}.tox .tox-collection__item--state-disabled .tox-collection__item-caret svg{fill:rgba(34,47,62,0.5)}.tox .tox-collection--list .tox-collection__item:not(.tox-collection__item--enabled) .tox-collection__item-checkmark svg{display:none}.tox .tox-collection--list .tox-collection__item:not(.tox-collection__item--enabled) .tox-collection__item-accessory+.tox-collection__item-checkmark{display:none}.tox .tox-collection--horizontal{background-color:#fff;border:1px solid #e3e3e3;border-radius:6px;box-shadow:0 0 2px 0 rgba(34,47,62,.2),0 4px 8px 0 rgba(34,47,62,.15);display:flex;flex:0 0 auto;flex-shrink:0;flex-wrap:nowrap;margin-bottom:0;overflow-x:auto;padding:0}.tox .tox-collection--horizontal .tox-collection__group{align-items:center;display:flex;flex-wrap:nowrap;margin:0;padding:0 4px}.tox .tox-collection--horizontal .tox-collection__item{height:28px;margin:6px 1px 5px 0;padding:0 4px}.tox .tox-collection--horizontal .tox-collection__item-label{white-space:nowrap}.tox .tox-collection--horizontal .tox-collection__item-caret{margin-left:4px}.tox .tox-collection__item-container{display:flex}.tox .tox-collection__item-container--row{align-items:center;flex:1 1 auto;flex-direction:row}.tox .tox-collection__item-container--row.tox-collection__item-container--align-left{margin-right:auto}.tox .tox-collection__item-container--row.tox-collection__item-container--align-right{justify-content:flex-end;margin-left:auto}.tox .tox-collection__item-container--row.tox-collection__item-container--valign-top{align-items:flex-start;margin-bottom:auto}.tox .tox-collection__item-container--row.tox-collection__item-container--valign-middle{align-items:center}.tox .tox-collection__item-container--row.tox-collection__item-container--valign-bottom{align-items:flex-end;margin-top:auto}.tox .tox-collection__item-container--column{align-self:center;flex:1 1 auto;flex-direction:column}.tox .tox-collection__item-container--column.tox-collection__item-container--align-left{align-items:flex-start}.tox .tox-collection__item-container--column.tox-collection__item-container--align-right{align-items:flex-end}.tox .tox-collection__item-container--column.tox-collection__item-container--valign-top{align-self:flex-start}.tox .tox-collection__item-container--column.tox-collection__item-container--valign-middle{align-self:center}.tox .tox-collection__item-container--column.tox-collection__item-container--valign-bottom{align-self:flex-end}.tox:not([dir=rtl]) .tox-collection--horizontal .tox-collection__group:not(:last-of-type){border-right:1px solid transparent}.tox:not([dir=rtl]) .tox-collection--list .tox-collection__item>:not(:first-child){margin-left:8px}.tox:not([dir=rtl]) .tox-collection--list .tox-collection__item>.tox-collection__item-label:first-child{margin-left:4px}.tox:not([dir=rtl]) .tox-collection__item-accessory{margin-left:16px;text-align:right}.tox:not([dir=rtl]) .tox-collection .tox-collection__item-caret{margin-left:16px}.tox[dir=rtl] .tox-collection--horizontal .tox-collection__group:not(:last-of-type){border-left:1px solid transparent}.tox[dir=rtl] .tox-collection--list .tox-collection__item>:not(:first-child){margin-right:8px}.tox[dir=rtl] .tox-collection--list .tox-collection__item>.tox-collection__item-label:first-child{margin-right:4px}.tox[dir=rtl] .tox-collection__item-accessory{margin-right:16px;text-align:left}.tox[dir=rtl] .tox-collection .tox-collection__item-caret{margin-right:16px;transform:rotateY(180deg)}.tox[dir=rtl] .tox-collection--horizontal .tox-collection__item-caret{margin-right:4px}@media (forced-colors:active){.tox .tox-hue-slider,.tox .tox-rgb-form .tox-rgba-preview{background-color:currentColor!important;border:1px solid highlight!important;forced-color-adjust:none}}.tox .tox-color-picker-container{display:flex;flex-direction:row;height:225px;margin:0}.tox .tox-sv-palette{box-sizing:border-box;display:flex;height:100%}.tox .tox-sv-palette-spectrum{height:100%}.tox .tox-sv-palette,.tox .tox-sv-palette-spectrum{width:225px}.tox .tox-sv-palette-thumb{background:0 0;border:1px solid #000;border-radius:50%;box-sizing:content-box;height:12px;position:absolute;width:12px}.tox .tox-sv-palette-inner-thumb{border:1px solid #fff;border-radius:50%;height:10px;position:absolute;width:10px}.tox .tox-hue-slider{box-sizing:border-box;height:100%;width:25px}.tox .tox-hue-slider-spectrum{background:linear-gradient(to bottom,red,#ff0080,#f0f,#8000ff,#00f,#0080ff,#0ff,#00ff80,#0f0,#80ff00,#ff0,#ff8000,red);height:100%;width:100%}.tox .tox-hue-slider,.tox .tox-hue-slider-spectrum{width:20px}.tox .tox-hue-slider-spectrum:focus,.tox .tox-sv-palette-spectrum:focus{outline:#08f solid}.tox .tox-hue-slider-thumb{background:#fff;border:1px solid #000;box-sizing:content-box;height:4px;width:100%}.tox .tox-rgb-form{display:flex;flex-direction:column;justify-content:space-between}.tox .tox-rgb-form div{align-items:center;display:flex;justify-content:space-between;margin-bottom:5px;width:inherit}.tox .tox-rgb-form input{min-width:6em}.tox .tox-rgb-form input.tox-invalid{border:1px solid red!important;box-shadow:0 0 0 1px red}.tox .tox-rgb-container{position:relative}.tox .tox-rgb-form .tox-invalid-icon{align-content:center;align-items:center;display:none;height:100%;position:absolute;right:0;top:0}.tox .tox-rgb-form .tox-invalid-icon .tox-control-wrap__status-icon-invalid{margin:0}.tox .tox-rgb-warning-note{background-color:#f5cccc;border:1px solid #f0b3b3;border-radius:3px;color:#77181f;padding:3px}.tox input.tox-invalid+.tox-invalid-icon{display:flex}.tox .tox-rgb-form .tox-rgba-preview{border:1px solid #000;flex-grow:2;margin-bottom:0}.tox:not([dir=rtl]) .tox-sv-palette{margin-right:15px}.tox:not([dir=rtl]) .tox-hue-slider{margin-right:15px}.tox:not([dir=rtl]) .tox-hue-slider-thumb{margin-left:-1px}.tox:not([dir=rtl]) .tox-rgb-form label{margin-right:.5em}.tox[dir=rtl] .tox-sv-palette{margin-left:15px}.tox[dir=rtl] .tox-hue-slider{margin-left:15px}.tox[dir=rtl] .tox-hue-slider-thumb{margin-right:-1px}.tox[dir=rtl] .tox-rgb-form label{margin-left:.5em}.tox .tox-toolbar .tox-swatches,.tox .tox-toolbar__overflow .tox-swatches,.tox .tox-toolbar__primary .tox-swatches{margin:5px 0 6px 11px}.tox .tox-collection--list .tox-collection__group .tox-swatches-menu{border:0;margin:-4px -4px}.tox .tox-swatches__row{display:flex}@media (forced-colors:active){.tox .tox-swatches__row{forced-color-adjust:none}}.tox .tox-swatch{height:30px;transition:transform .15s,box-shadow .15s;width:30px}.tox .tox-swatch:focus,.tox .tox-swatch:hover{box-shadow:0 0 0 1px rgba(127,127,127,.3) inset;transform:scale(.8)}.tox .tox-swatch--remove{align-items:center;display:flex;justify-content:center}.tox .tox-swatch--remove svg path{stroke:#e74c3c}.tox .tox-swatches__picker-btn{align-items:center;background-color:transparent;border:0;cursor:pointer;display:flex;height:30px;justify-content:center;outline:0;padding:0;width:30px}.tox .tox-swatches__picker-btn svg{fill:#222f3e;height:24px;width:24px}.tox .tox-swatches__picker-btn:hover{background:#f0f0f0}.tox div.tox-swatch:not(.tox-swatch--remove) svg{display:none;fill:#222f3e;height:24px;margin:calc((30px - 24px)/ 2) calc((30px - 24px)/ 2);width:24px}.tox div.tox-swatch:not(.tox-swatch--remove) svg path{fill:#fff;paint-order:stroke;stroke:#222f3e;stroke-width:2px}.tox div.tox-swatch:not(.tox-swatch--remove).tox-collection__item--enabled svg{display:block}.tox:not([dir=rtl]) .tox-swatches__picker-btn{margin-left:auto}.tox[dir=rtl] .tox-swatches__picker-btn{margin-right:auto}.tox .tox-comment-thread{background:#fff;position:relative}.tox .tox-comment-thread>:not(:first-child){margin-top:8px}.tox .tox-comment{background:#fff;border:1px solid #eee;border-radius:6px;box-shadow:0 4px 8px 0 rgba(34,47,62,.1);padding:8px 8px 16px 8px;position:relative}.tox .tox-comment__header{align-items:center;color:#222f3e;display:flex;justify-content:space-between}.tox .tox-comment__date{color:#222f3e;font-size:12px;line-height:18px}.tox .tox-comment__body{color:#222f3e;font-size:14px;font-style:normal;font-weight:400;line-height:1.3;margin-top:8px;position:relative;text-transform:initial}.tox .tox-comment__body textarea{resize:none;white-space:normal;width:100%}.tox .tox-comment__expander{padding-top:8px}.tox .tox-comment__expander p{color:rgba(34,47,62,.7);font-size:14px;font-style:normal}.tox .tox-comment__body p{margin:0}.tox .tox-comment__buttonspacing{padding-top:16px;text-align:center}.tox .tox-comment-thread__overlay::after{background:#fff;bottom:0;content:"";display:flex;left:0;opacity:.9;position:absolute;right:0;top:0;z-index:5}.tox .tox-comment__reply{display:flex;flex-shrink:0;flex-wrap:wrap;justify-content:flex-end;margin-top:8px}.tox .tox-comment__reply>:first-child{margin-bottom:8px;width:100%}.tox .tox-comment__edit{display:flex;flex-wrap:wrap;justify-content:flex-end;margin-top:16px}.tox .tox-comment__gradient::after{background:linear-gradient(rgba(255,255,255,0),#fff);bottom:0;content:"";display:block;height:5em;margin-top:-40px;position:absolute;width:100%}.tox .tox-comment__overlay{background:#fff;bottom:0;display:flex;flex-direction:column;flex-grow:1;left:0;opacity:.9;position:absolute;right:0;text-align:center;top:0;z-index:5}.tox .tox-comment__loading-text{align-items:center;color:#222f3e;display:flex;flex-direction:column;position:relative}.tox .tox-comment__loading-text>div{padding-bottom:16px}.tox .tox-comment__overlaytext{bottom:0;flex-direction:column;font-size:14px;left:0;padding:1em;position:absolute;right:0;top:0;z-index:10}.tox .tox-comment__overlaytext p{background-color:#fff;box-shadow:0 0 8px 8px #fff;color:#222f3e;text-align:center}.tox .tox-comment__overlaytext div:nth-of-type(2){font-size:.8em}.tox .tox-comment__busy-spinner{align-items:center;background-color:#fff;bottom:0;display:flex;justify-content:center;left:0;position:absolute;right:0;top:0;z-index:20}.tox .tox-comment__scroll{display:flex;flex-direction:column;flex-shrink:1;overflow:auto}.tox .tox-conversations{margin:8px}.tox:not([dir=rtl]) .tox-comment__edit{margin-left:8px}.tox:not([dir=rtl]) .tox-comment__buttonspacing>:last-child,.tox:not([dir=rtl]) .tox-comment__edit>:last-child,.tox:not([dir=rtl]) .tox-comment__reply>:last-child{margin-left:8px}.tox[dir=rtl] .tox-comment__edit{margin-right:8px}.tox[dir=rtl] .tox-comment__buttonspacing>:last-child,.tox[dir=rtl] .tox-comment__edit>:last-child,.tox[dir=rtl] .tox-comment__reply>:last-child{margin-right:8px}.tox .tox-user{align-items:center;display:flex}.tox .tox-user__avatar svg{fill:rgba(34,47,62,0.7)}.tox .tox-user__avatar img{border-radius:50%;height:36px;object-fit:cover;vertical-align:middle;width:36px}.tox .tox-user__name{color:#222f3e;font-size:14px;font-style:normal;font-weight:700;line-height:18px;text-transform:none}.tox:not([dir=rtl]) .tox-user__avatar img,.tox:not([dir=rtl]) .tox-user__avatar svg{margin-right:8px}.tox:not([dir=rtl]) .tox-user__avatar+.tox-user__name{margin-left:8px}.tox[dir=rtl] .tox-user__avatar img,.tox[dir=rtl] .tox-user__avatar svg{margin-left:8px}.tox[dir=rtl] .tox-user__avatar+.tox-user__name{margin-right:8px}.tox .tox-dialog-wrap{align-items:center;bottom:0;display:flex;justify-content:center;left:0;position:fixed;right:0;top:0;z-index:1100}.tox .tox-dialog-wrap__backdrop{background-color:rgba(255,255,255,.75);bottom:0;left:0;position:absolute;right:0;top:0;z-index:1}.tox .tox-dialog-wrap__backdrop--opaque{background-color:#fff}.tox .tox-dialog{background-color:#fff;border-color:#eee;border-radius:10px;border-style:solid;border-width:0;box-shadow:0 16px 16px -10px rgba(34,47,62,.15),0 0 40px 1px rgba(34,47,62,.15);display:flex;flex-direction:column;max-height:100%;max-width:480px;overflow:hidden;position:relative;width:95vw;z-index:2}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox .tox-dialog{align-self:flex-start;margin:8px auto;max-height:calc(100vh - 8px * 2);width:calc(100vw - 16px)}}.tox .tox-dialog-inline{z-index:1100}.tox .tox-dialog__header{align-items:center;background-color:#fff;border-bottom:none;color:#222f3e;display:flex;font-size:16px;justify-content:space-between;padding:8px 16px 0 16px;position:relative}.tox .tox-dialog__header .tox-button{z-index:1}.tox .tox-dialog__draghandle{cursor:grab;height:100%;left:0;position:absolute;top:0;width:100%}.tox .tox-dialog__draghandle:active{cursor:grabbing}.tox .tox-dialog__dismiss{margin-left:auto}.tox .tox-dialog__title{font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:20px;font-style:normal;font-weight:400;line-height:1.3;margin:0;text-transform:none}.tox .tox-dialog__body{color:#222f3e;display:flex;flex:1;font-size:16px;font-style:normal;font-weight:400;line-height:1.3;min-width:0;text-align:left;text-transform:none}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox .tox-dialog__body{flex-direction:column}}.tox .tox-dialog__body-nav{align-items:flex-start;display:flex;flex-direction:column;flex-shrink:0;padding:16px 16px}@media only screen and (min-width:768px){.tox .tox-dialog__body-nav{max-width:11em}}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox .tox-dialog__body-nav{flex-direction:row;-webkit-overflow-scrolling:touch;overflow-x:auto;padding-bottom:0}}.tox .tox-dialog__body-nav-item{border-bottom:2px solid transparent;color:rgba(34,47,62,.7);display:inline-block;flex-shrink:0;font-size:14px;line-height:1.3;margin-bottom:8px;max-width:13em;-webkit-text-decoration:none;text-decoration:none}.tox .tox-dialog__body-nav-item:focus{background-color:rgba(0,108,231,.1)}.tox .tox-dialog__body-nav-item--active{border-bottom:2px solid #006ce7;color:#006ce7}@media (forced-colors:active){.tox .tox-dialog__body-nav-item--active{border-bottom:2px solid highlight;color:highlight}}.tox .tox-dialog__body-content{box-sizing:border-box;display:flex;flex:1;flex-direction:column;max-height:min(650px,calc(100vh - 110px));overflow:auto;-webkit-overflow-scrolling:touch;padding:16px 16px}.tox .tox-dialog__body-content>*{margin-bottom:0;margin-top:16px}.tox .tox-dialog__body-content>:first-child{margin-top:0}.tox .tox-dialog__body-content>:last-child{margin-bottom:0}.tox .tox-dialog__body-content>:only-child{margin-bottom:0;margin-top:0}.tox .tox-dialog__body-content a{color:#006ce7;cursor:pointer;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-dialog__body-content a:focus,.tox .tox-dialog__body-content a:hover{color:#003c81;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-dialog__body-content a:focus-visible{border-radius:1px;outline:2px solid #006ce7;outline-offset:2px}.tox .tox-dialog__body-content a:active{color:#00244e;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-dialog__body-content svg{fill:#222f3e}.tox .tox-dialog__body-content strong{font-weight:700}.tox .tox-dialog__body-content ul{list-style-type:disc}.tox .tox-dialog__body-content dd,.tox .tox-dialog__body-content ol,.tox .tox-dialog__body-content ul{padding-inline-start:2.5rem}.tox .tox-dialog__body-content dl,.tox .tox-dialog__body-content ol,.tox .tox-dialog__body-content ul{margin-bottom:16px}.tox .tox-dialog__body-content dd,.tox .tox-dialog__body-content dl,.tox .tox-dialog__body-content dt,.tox .tox-dialog__body-content ol,.tox .tox-dialog__body-content ul{display:block;margin-inline-end:0;margin-inline-start:0}.tox .tox-dialog__body-content .tox-form__group h1{color:#222f3e;font-size:20px;font-style:normal;font-weight:700;letter-spacing:normal;margin-bottom:16px;margin-top:2rem;text-transform:none}.tox .tox-dialog__body-content .tox-form__group h2{color:#222f3e;font-size:16px;font-style:normal;font-weight:700;letter-spacing:normal;margin-bottom:16px;margin-top:2rem;text-transform:none}.tox .tox-dialog__body-content .tox-form__group p{margin-bottom:16px}.tox .tox-dialog__body-content .tox-form__group h1:first-child,.tox .tox-dialog__body-content .tox-form__group h2:first-child,.tox .tox-dialog__body-content .tox-form__group p:first-child{margin-top:0}.tox .tox-dialog__body-content .tox-form__group h1:last-child,.tox .tox-dialog__body-content .tox-form__group h2:last-child,.tox .tox-dialog__body-content .tox-form__group p:last-child{margin-bottom:0}.tox .tox-dialog__body-content .tox-form__group h1:only-child,.tox .tox-dialog__body-content .tox-form__group h2:only-child,.tox .tox-dialog__body-content .tox-form__group p:only-child{margin-bottom:0;margin-top:0}.tox .tox-dialog__body-content .tox-form__group .tox-label.tox-label--center{text-align:center}.tox .tox-dialog__body-content .tox-form__group .tox-label.tox-label--end{text-align:end}.tox .tox-dialog--width-lg{height:650px;max-width:1200px}.tox .tox-dialog--fullscreen{height:100%;max-width:100%}.tox .tox-dialog--fullscreen .tox-dialog__body-content{max-height:100%}.tox .tox-dialog--width-md{max-width:800px}.tox .tox-dialog--width-md .tox-dialog__body-content{overflow:auto}.tox .tox-dialog__body-content--centered{text-align:center}.tox .tox-dialog__footer{align-items:center;background-color:#fff;border-top:none;display:flex;justify-content:space-between;padding:8px 16px}.tox .tox-dialog__footer-end,.tox .tox-dialog__footer-start{display:flex}.tox .tox-dialog__busy-spinner{align-items:center;background-color:rgba(255,255,255,.75);bottom:0;display:flex;justify-content:center;left:0;position:absolute;right:0;top:0;z-index:3}.tox .tox-dialog__table{border-collapse:collapse;width:100%}.tox .tox-dialog__table thead th{font-weight:700;padding-bottom:8px}.tox .tox-dialog__table thead th:first-child{padding-right:8px}.tox .tox-dialog__table tbody tr{border-bottom:1px solid #626262}.tox .tox-dialog__table tbody tr:last-child{border-bottom:none}.tox .tox-dialog__table td{padding-bottom:8px;padding-top:8px}.tox .tox-dialog__table td:first-child{padding-right:8px}.tox .tox-dialog__iframe{min-height:200px}.tox .tox-dialog__iframe.tox-dialog__iframe--opaque{background:#fff}.tox .tox-navobj-bordered{position:relative}.tox .tox-navobj-bordered::before{border:1px solid #eee;border-radius:6px;content:'';inset:0;opacity:1;pointer-events:none;position:absolute;z-index:1}.tox .tox-navobj-bordered iframe{border-radius:6px}.tox .tox-navobj-bordered-focus.tox-navobj-bordered::before{border-color:#006ce7;box-shadow:0 0 0 1px #006ce7;outline:0}.tox .tox-dialog__popups{position:absolute;width:100%;z-index:1100}.tox .tox-dialog__body-iframe{display:flex;flex:1;flex-direction:column}.tox .tox-dialog__body-iframe .tox-navobj{display:flex;flex:1}.tox .tox-dialog__body-iframe .tox-navobj :nth-child(2){flex:1;height:100%}.tox .tox-dialog-dock-fadeout{opacity:0;visibility:hidden}.tox .tox-dialog-dock-fadein{opacity:1;visibility:visible}.tox .tox-dialog-dock-transition{transition:visibility 0s linear .3s,opacity .3s ease}.tox .tox-dialog-dock-transition.tox-dialog-dock-fadein{transition-delay:0s}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox:not([dir=rtl]) .tox-dialog__body-nav{margin-right:0}}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox:not([dir=rtl]) .tox-dialog__body-nav-item:not(:first-child){margin-left:8px}}.tox:not([dir=rtl]) .tox-dialog__footer .tox-dialog__footer-end>*,.tox:not([dir=rtl]) .tox-dialog__footer .tox-dialog__footer-start>*{margin-left:8px}.tox[dir=rtl] .tox-dialog__body{text-align:right}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox[dir=rtl] .tox-dialog__body-nav{margin-left:0}}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox[dir=rtl] .tox-dialog__body-nav-item:not(:first-child){margin-right:8px}}.tox[dir=rtl] .tox-dialog__footer .tox-dialog__footer-end>*,.tox[dir=rtl] .tox-dialog__footer .tox-dialog__footer-start>*{margin-right:8px}body.tox-dialog__disable-scroll{overflow:hidden}.tox .tox-dropzone-container{display:flex;flex:1}.tox .tox-dropzone{align-items:center;background:#fff;border:2px dashed #eee;box-sizing:border-box;display:flex;flex-direction:column;flex-grow:1;justify-content:center;min-height:100px;padding:10px}.tox .tox-dropzone p{color:rgba(34,47,62,.7);margin:0 0 16px 0}.tox .tox-edit-area{display:flex;flex:1;overflow:hidden;position:relative}.tox .tox-edit-area::before{border:2px solid #006ce7;border-radius:4px;content:'';inset:0;opacity:0;pointer-events:none;position:absolute;transition:opacity .15s;z-index:1}@media (forced-colors:active){.tox .tox-edit-area::before{border:2px solid highlight}}.tox .tox-edit-area__iframe{background-color:#fff;border:0;box-sizing:border-box;flex:1;height:100%;position:absolute;width:100%}.tox.tox-edit-focus .tox-edit-area::before{opacity:1}.tox.tox-inline-edit-area{border:1px dotted #eee}.tox .tox-editor-container{display:flex;flex:1 1 auto;flex-direction:column;overflow:hidden}.tox .tox-editor-header{display:grid;grid-template-columns:1fr min-content;z-index:2}.tox:not(.tox-tinymce-inline) .tox-editor-header{background-color:#fff;border-bottom:none;box-shadow:0 2px 2px -2px rgba(34,47,62,.1),0 8px 8px -4px rgba(34,47,62,.07);padding:4px 0}.tox:not(.tox-tinymce-inline) .tox-editor-header:not(.tox-editor-dock-transition){transition:box-shadow .5s}.tox:not(.tox-tinymce-inline).tox-tinymce--toolbar-bottom .tox-editor-header{border-top:1px solid #e3e3e3;box-shadow:none}.tox:not(.tox-tinymce-inline).tox-tinymce--toolbar-sticky-on .tox-editor-header{background-color:#fff;box-shadow:0 2px 2px -2px rgba(34,47,62,.2),0 8px 8px -4px rgba(34,47,62,.15);padding:4px 0}.tox:not(.tox-tinymce-inline).tox-tinymce--toolbar-sticky-on.tox-tinymce--toolbar-bottom .tox-editor-header{box-shadow:0 2px 2px -2px rgba(34,47,62,.2),0 8px 8px -4px rgba(34,47,62,.15)}.tox.tox:not(.tox-tinymce-inline) .tox-editor-header.tox-editor-header--empty{background:0 0;border:none;box-shadow:none;padding:0}.tox-editor-dock-fadeout{opacity:0;visibility:hidden}.tox-editor-dock-fadein{opacity:1;visibility:visible}.tox-editor-dock-transition{transition:visibility 0s linear .25s,opacity .25s ease}.tox-editor-dock-transition.tox-editor-dock-fadein{transition-delay:0s}.tox .tox-control-wrap{flex:1;position:relative}.tox .tox-control-wrap:not(.tox-control-wrap--status-invalid) .tox-control-wrap__status-icon-invalid,.tox .tox-control-wrap:not(.tox-control-wrap--status-unknown) .tox-control-wrap__status-icon-unknown,.tox .tox-control-wrap:not(.tox-control-wrap--status-valid) .tox-control-wrap__status-icon-valid{display:none}.tox .tox-control-wrap svg{display:block}.tox .tox-control-wrap__status-icon-wrap{position:absolute;top:50%;transform:translateY(-50%)}.tox .tox-control-wrap__status-icon-invalid svg{fill:#c00}.tox .tox-control-wrap__status-icon-unknown svg{fill:orange}.tox .tox-control-wrap__status-icon-valid svg{fill:green}.tox:not([dir=rtl]) .tox-control-wrap--status-invalid .tox-textfield,.tox:not([dir=rtl]) .tox-control-wrap--status-unknown .tox-textfield,.tox:not([dir=rtl]) .tox-control-wrap--status-valid .tox-textfield{padding-right:32px}.tox:not([dir=rtl]) .tox-control-wrap__status-icon-wrap{right:4px}.tox[dir=rtl] .tox-control-wrap--status-invalid .tox-textfield,.tox[dir=rtl] .tox-control-wrap--status-unknown .tox-textfield,.tox[dir=rtl] .tox-control-wrap--status-valid .tox-textfield{padding-left:32px}.tox[dir=rtl] .tox-control-wrap__status-icon-wrap{left:4px}.tox .tox-custom-preview{border-color:#eee;border-radius:6px;border-style:solid;border-width:1px;flex:1;padding:8px}.tox .tox-autocompleter{max-width:25em}.tox .tox-autocompleter .tox-menu{box-sizing:border-box;max-width:25em}.tox .tox-autocompleter .tox-autocompleter-highlight{font-weight:700}.tox .tox-color-input{display:flex;position:relative;z-index:1}.tox .tox-color-input .tox-textfield{z-index:-1}.tox .tox-color-input span{border-color:rgba(34 47 3.1%);border-radius:6px;border-style:solid;border-width:1px;box-shadow:none;box-sizing:border-box;height:24px;position:absolute;top:6px;width:24px}@media (forced-colors:active){.tox .tox-color-input span{border-color:currentColor;border-width:2px!important;forced-color-adjust:none}}.tox .tox-color-input span:focus:not([aria-disabled=true]),.tox .tox-color-input span:hover:not([aria-disabled=true]){border-color:#006ce7;cursor:pointer}.tox .tox-color-input span::before{background-image:linear-gradient(45deg,rgba(0,0,0,.25) 25%,transparent 25%),linear-gradient(-45deg,rgba(0,0,0,.25) 25%,transparent 25%),linear-gradient(45deg,transparent 75%,rgba(0,0,0,.25) 75%),linear-gradient(-45deg,transparent 75%,rgba(0,0,0,.25) 75%);background-position:0 0,0 6px,6px -6px,-6px 0;background-size:12px 12px;border:1px solid #fff;border-radius:6px;box-sizing:border-box;content:'';height:24px;left:-1px;position:absolute;top:-1px;width:24px;z-index:-1}@media (forced-colors:active){.tox .tox-color-input span::before{border:none}}.tox .tox-color-input span[aria-disabled=true]{cursor:not-allowed}.tox:not([dir=rtl]) .tox-color-input .tox-textfield{padding-left:36px}.tox:not([dir=rtl]) .tox-color-input span{left:6px}.tox[dir=rtl] .tox-color-input .tox-textfield{padding-right:36px}.tox[dir=rtl] .tox-color-input span{right:6px}.tox .tox-label,.tox .tox-toolbar-label{color:rgba(34,47,62,.7);display:block;font-size:14px;font-style:normal;font-weight:400;line-height:1.3;padding:0 8px 0 0;text-transform:none;white-space:nowrap}.tox .tox-toolbar-label{padding:0 8px}.tox[dir=rtl] .tox-label{padding:0 0 0 8px}.tox .tox-form{display:flex;flex:1;flex-direction:column}.tox .tox-form__group{box-sizing:border-box;margin-bottom:4px}.tox .tox-form-group--maximize{flex:1}.tox .tox-form__group--error{color:#c00}.tox .tox-form__group--collection{display:flex}.tox .tox-form__grid{display:flex;flex-direction:row;flex-wrap:wrap;justify-content:space-between}.tox .tox-form__grid--2col>.tox-form__group{width:calc(50% - (8px / 2))}.tox .tox-form__grid--3col>.tox-form__group{width:calc(100% / 3 - (8px / 2))}.tox .tox-form__grid--4col>.tox-form__group{width:calc(25% - (8px / 2))}.tox .tox-form__controls-h-stack{align-items:center;display:flex}.tox .tox-form__group--inline{align-items:center;display:flex}.tox .tox-form__group--stretched{display:flex;flex:1;flex-direction:column}.tox .tox-form__group--stretched .tox-textarea{flex:1}.tox .tox-form__group--stretched .tox-navobj{display:flex;flex:1}.tox .tox-form__group--stretched .tox-navobj :nth-child(2){flex:1;height:100%}.tox:not([dir=rtl]) .tox-form__controls-h-stack>:not(:first-child){margin-left:4px}.tox[dir=rtl] .tox-form__controls-h-stack>:not(:first-child){margin-right:4px}.tox .tox-lock.tox-locked .tox-lock-icon__unlock,.tox .tox-lock:not(.tox-locked) .tox-lock-icon__lock{display:none}.tox .tox-listboxfield .tox-listbox--select,.tox .tox-textarea,.tox .tox-textarea-wrap .tox-textarea:focus,.tox .tox-textfield,.tox .tox-toolbar-textfield{appearance:none;background-color:#fff;border-color:#eee;border-radius:6px;border-style:solid;border-width:1px;box-shadow:none;box-sizing:border-box;color:#222f3e;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:16px;line-height:24px;margin:0;min-height:34px;outline:0;padding:5px 5.5px;resize:none;width:100%}.tox .tox-textarea[disabled],.tox .tox-textfield[disabled]{background-color:#f2f2f2;color:rgba(34,47,62,.85);cursor:not-allowed}.tox .tox-custom-editor:focus-within,.tox .tox-listboxfield .tox-listbox--select:focus,.tox .tox-textarea-wrap:focus-within,.tox .tox-textarea:focus,.tox .tox-textfield:focus{background-color:#fff;border-color:#006ce7;box-shadow:0 0 0 1px #006ce7;outline:0}.tox .tox-toolbar-textfield{border-width:0;margin-bottom:3px;margin-top:2px;max-width:250px}.tox .tox-naked-btn{background-color:transparent;border:0;border-color:transparent;box-shadow:unset;color:#006ce7;cursor:pointer;display:block;margin:0;padding:0}.tox .tox-naked-btn svg{display:block;fill:#222f3e}.tox:not([dir=rtl]) .tox-toolbar-textfield+*{margin-left:4px}.tox[dir=rtl] .tox-toolbar-textfield+*{margin-right:4px}.tox .tox-listboxfield{cursor:pointer;position:relative}.tox .tox-listboxfield .tox-listbox--select[disabled]{background-color:#f2f2f2;color:rgba(34,47,62,.85);cursor:not-allowed}.tox .tox-listbox__select-label{cursor:default;flex:1;margin:0 4px}.tox .tox-listbox__select-chevron{align-items:center;display:flex;justify-content:center;width:16px}.tox .tox-listbox__select-chevron svg{fill:#222f3e}@media (forced-colors:active){.tox .tox-listbox__select-chevron svg{fill:currentColor!important}}.tox .tox-listboxfield .tox-listbox--select{align-items:center;display:flex}.tox:not([dir=rtl]) .tox-listboxfield svg{right:8px}.tox[dir=rtl] .tox-listboxfield svg{left:8px}.tox .tox-selectfield{cursor:pointer;position:relative}.tox .tox-selectfield select{appearance:none;background-color:#fff;border-color:#eee;border-radius:6px;border-style:solid;border-width:1px;box-shadow:none;box-sizing:border-box;color:#222f3e;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:16px;line-height:24px;margin:0;min-height:34px;outline:0;padding:5px 5.5px;resize:none;width:100%}.tox .tox-selectfield select[disabled]{background-color:#f2f2f2;color:rgba(34,47,62,.85);cursor:not-allowed}.tox .tox-selectfield select::-ms-expand{display:none}.tox .tox-selectfield select:focus{background-color:#fff;border-color:#006ce7;box-shadow:0 0 0 1px #006ce7;outline:0}.tox .tox-selectfield svg{pointer-events:none;position:absolute;top:50%;transform:translateY(-50%)}.tox:not([dir=rtl]) .tox-selectfield select[size="0"],.tox:not([dir=rtl]) .tox-selectfield select[size="1"]{padding-right:24px}.tox:not([dir=rtl]) .tox-selectfield svg{right:8px}.tox[dir=rtl] .tox-selectfield select[size="0"],.tox[dir=rtl] .tox-selectfield select[size="1"]{padding-left:24px}.tox[dir=rtl] .tox-selectfield svg{left:8px}.tox .tox-textarea-wrap{border-color:#eee;border-radius:6px;border-style:solid;border-width:1px;display:flex;flex:1;overflow:hidden}.tox .tox-textarea{appearance:textarea;white-space:pre-wrap}.tox .tox-textarea-wrap .tox-textarea{border:none}.tox .tox-textarea-wrap .tox-textarea:focus{border:none}.tox-fullscreen{border:0;height:100%;margin:0;overflow:hidden;overscroll-behavior:none;padding:0;touch-action:pinch-zoom;width:100%}.tox.tox-tinymce.tox-fullscreen .tox-statusbar__resize-handle{display:none}.tox-shadowhost.tox-fullscreen,.tox.tox-tinymce.tox-fullscreen{left:0;position:fixed;top:0;z-index:1200}.tox.tox-tinymce.tox-fullscreen{background-color:transparent}.tox-fullscreen .tox.tox-tinymce-aux,.tox-fullscreen~.tox.tox-tinymce-aux{z-index:1201}.tox .tox-help__more-link{list-style:none;margin-top:1em}.tox .tox-imagepreview{background-color:#666;height:380px;overflow:hidden;position:relative;width:100%}.tox .tox-imagepreview.tox-imagepreview__loaded{overflow:auto}.tox .tox-imagepreview__container{display:flex;left:100vw;position:absolute;top:100vw}.tox .tox-imagepreview__image{background:url(data:image/gif;base64,R0lGODdhDAAMAIABAMzMzP///ywAAAAADAAMAAACFoQfqYeabNyDMkBQb81Uat85nxguUAEAOw==)}.tox .tox-image-tools .tox-spacer{flex:1}.tox .tox-image-tools .tox-bar{align-items:center;display:flex;height:60px;justify-content:center}.tox .tox-image-tools .tox-imagepreview,.tox .tox-image-tools .tox-imagepreview+.tox-bar{margin-top:8px}.tox .tox-image-tools .tox-croprect-block{background:#000;opacity:.5;position:absolute;zoom:1}.tox .tox-image-tools .tox-croprect-handle{border:2px solid #fff;height:20px;left:0;position:absolute;top:0;width:20px}.tox .tox-image-tools .tox-croprect-handle-move{border:0;cursor:move;position:absolute}.tox .tox-image-tools .tox-croprect-handle-nw{border-width:2px 0 0 2px;cursor:nw-resize;left:100px;margin:-2px 0 0 -2px;top:100px}.tox .tox-image-tools .tox-croprect-handle-ne{border-width:2px 2px 0 0;cursor:ne-resize;left:200px;margin:-2px 0 0 -20px;top:100px}.tox .tox-image-tools .tox-croprect-handle-sw{border-width:0 0 2px 2px;cursor:sw-resize;left:100px;margin:-20px 2px 0 -2px;top:200px}.tox .tox-image-tools .tox-croprect-handle-se{border-width:0 2px 2px 0;cursor:se-resize;left:200px;margin:-20px 0 0 -20px;top:200px}.tox .tox-insert-table-picker{background-color:#fff;display:flex;flex-wrap:wrap;width:170px}.tox .tox-insert-table-picker>div{border-color:#eee;border-style:solid;border-width:0 1px 1px 0;box-sizing:border-box;height:17px;width:17px}.tox .tox-collection--list .tox-collection__group .tox-insert-table-picker{margin:-4px -4px}.tox .tox-insert-table-picker .tox-insert-table-picker__selected{background-color:#006ce7;border-color:#eee}@media (forced-colors:active){.tox .tox-insert-table-picker .tox-insert-table-picker__selected{border-color:Highlight;filter:contrast(50%)}}.tox .tox-insert-table-picker__label{color:rgba(34,47,62,.7);display:block;font-size:14px;padding:4px;text-align:center;width:100%}.tox:not([dir=rtl]) .tox-insert-table-picker>div:nth-child(10n){border-right:0}.tox[dir=rtl] .tox-insert-table-picker>div:nth-child(10n+1){border-right:0}.tox .tox-menu{background-color:#fff;border:1px solid transparent;border-radius:6px;box-shadow:0 0 2px 0 rgba(34,47,62,.2),0 4px 8px 0 rgba(34,47,62,.15);display:inline-block;overflow:hidden;vertical-align:top;z-index:1150}.tox .tox-menu.tox-collection.tox-collection--list{padding:0 4px}.tox .tox-menu.tox-collection.tox-collection--toolbar{padding:8px}.tox .tox-menu.tox-collection.tox-collection--grid{padding:8px}@media only screen and (min-width:768px){.tox .tox-menu .tox-collection__item-label{overflow-wrap:break-word;word-break:normal}.tox .tox-dialog__popups .tox-menu .tox-collection__item-label{word-break:break-all}}.tox .tox-menu__label blockquote,.tox .tox-menu__label code,.tox .tox-menu__label h1,.tox .tox-menu__label h2,.tox .tox-menu__label h3,.tox .tox-menu__label h4,.tox .tox-menu__label h5,.tox .tox-menu__label h6,.tox .tox-menu__label p{margin:0}.tox .tox-menubar{background:repeating-linear-gradient(transparent 0 1px,transparent 1px 39px) center top 39px/100% calc(100% - 39px) no-repeat;background-color:#fff;display:flex;flex:0 0 auto;flex-shrink:0;flex-wrap:wrap;grid-column:1/-1;grid-row:1;padding:0 11px 0 12px}.tox .tox-promotion+.tox-menubar{grid-column:1}.tox .tox-promotion{background:repeating-linear-gradient(transparent 0 1px,transparent 1px 39px) center top 39px/100% calc(100% - 39px) no-repeat;background-color:#fff;grid-column:2;grid-row:1;padding-inline-end:8px;padding-inline-start:4px;padding-top:5px}.tox .tox-promotion-link{align-items:unsafe center;background-color:#e8f1f8;border-radius:5px;color:#086be6;cursor:pointer;display:flex;font-size:14px;height:26.6px;padding:4px 8px;white-space:nowrap}.tox .tox-promotion-link:hover{background-color:#b4d7ff}.tox .tox-promotion-link:focus{background-color:#d9edf7}.tox .tox-mbtn{align-items:center;background:#fff;border:0;border-radius:3px;box-shadow:none;color:#222f3e;display:flex;flex:0 0 auto;font-size:14px;font-style:normal;font-weight:400;height:28px;justify-content:center;margin:5px 1px 6px 0;outline:0;padding:0 4px;text-transform:none;width:auto}.tox .tox-mbtn[disabled]{background-color:#fff;border:0;box-shadow:none;color:rgba(34,47,62,.5);cursor:not-allowed}.tox .tox-mbtn:focus:not(:disabled){background:#fff;border:0;box-shadow:none;color:#222f3e;position:relative;z-index:1}.tox .tox-mbtn:focus:not(:disabled)::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-mbtn:focus:not(:disabled)::after{border:2px solid highlight}}.tox .tox-mbtn--active,.tox .tox-mbtn:not(:disabled).tox-mbtn--active:focus{background:#a6ccf7;border:0;box-shadow:none;color:#222f3e}.tox .tox-mbtn:hover:not(:disabled):not(.tox-mbtn--active){background:#f0f0f0;border:0;box-shadow:none;color:#222f3e}.tox .tox-mbtn__select-label{cursor:default;font-weight:400;margin:0 4px}.tox .tox-mbtn[disabled] .tox-mbtn__select-label{cursor:not-allowed}.tox .tox-mbtn__select-chevron{align-items:center;display:flex;justify-content:center;width:16px;display:none}.tox .tox-notification{border-radius:6px;border-style:solid;border-width:1px;box-shadow:none;box-sizing:border-box;display:grid;font-size:14px;font-weight:400;grid-template-columns:minmax(40px,1fr) auto minmax(40px,1fr);margin-left:auto;margin-right:auto;margin-top:4px;opacity:0;padding:4px;transition:transform .1s ease-in,opacity 150ms ease-in;width:max-content}.tox .tox-notification a{cursor:pointer;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification p{font-size:14px;font-weight:400}.tox .tox-notification:focus{border-color:#006ce7;box-shadow:0 0 0 1px #006ce7}.tox .tox-notification--in{opacity:1}.tox .tox-notification--success{background-color:#e4eeda;border-color:#d7e6c8;color:#222f3e}.tox .tox-notification--success p{color:#222f3e}.tox .tox-notification--success a{color:#517342}.tox .tox-notification--success a:focus,.tox .tox-notification--success a:hover{color:#24321d;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification--success a:focus-visible{border-radius:1px;outline:2px solid #517342;outline-offset:2px}.tox .tox-notification--success a:active{color:#0d120a;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification--success svg{fill:#222f3e}.tox .tox-notification--error{background-color:#f5cccc;border-color:#f0b3b3;color:#222f3e}.tox .tox-notification--error p{color:#222f3e}.tox .tox-notification--error a{color:#77181f}.tox .tox-notification--error a:focus,.tox .tox-notification--error a:hover{color:#220709;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification--error a:focus-visible{border-radius:1px;outline:2px solid #77181f;outline-offset:2px}.tox .tox-notification--error a:active{color:#000;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification--error svg{fill:#222f3e}.tox .tox-notification--warn,.tox .tox-notification--warning{background-color:#fff5cc;border-color:#fff0b3;color:#222f3e}.tox .tox-notification--warn p,.tox .tox-notification--warning p{color:#222f3e}.tox .tox-notification--warn a,.tox .tox-notification--warning a{color:#7a6e25}.tox .tox-notification--warn a:focus,.tox .tox-notification--warn a:hover,.tox .tox-notification--warning a:focus,.tox .tox-notification--warning a:hover{color:#2c280d;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification--warn a:focus-visible,.tox .tox-notification--warning a:focus-visible{border-radius:1px;outline:2px solid #7a6e25;outline-offset:2px}.tox .tox-notification--warn a:active,.tox .tox-notification--warning a:active{color:#050502;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification--warn svg,.tox .tox-notification--warning svg{fill:#222f3e}.tox .tox-notification--info{background-color:#d6e7fb;border-color:#c1dbf9;color:#222f3e}.tox .tox-notification--info p{color:#222f3e}.tox .tox-notification--info a{color:#2a64a6}.tox .tox-notification--info a:focus,.tox .tox-notification--info a:hover{color:#163355;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification--info a:focus-visible{border-radius:1px;outline:2px solid #2a64a6;outline-offset:2px}.tox .tox-notification--info a:active{color:#0b1a2c;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification--info svg{fill:#222f3e}.tox .tox-notification__body{align-self:center;color:#222f3e;font-size:14px;grid-column-end:3;grid-column-start:2;grid-row-end:2;grid-row-start:1;text-align:center;white-space:normal;word-break:break-all;word-break:break-word}.tox .tox-notification__body>*{margin:0}.tox .tox-notification__body>*+*{margin-top:1rem}.tox .tox-notification__icon{align-self:center;grid-column-end:2;grid-column-start:1;grid-row-end:2;grid-row-start:1;justify-self:end}.tox .tox-notification__icon svg{display:block}.tox .tox-notification__dismiss{align-self:start;grid-column-end:4;grid-column-start:3;grid-row-end:2;grid-row-start:1;justify-self:end}.tox .tox-notification .tox-progress-bar{grid-column-end:4;grid-column-start:1;grid-row-end:3;grid-row-start:2;justify-self:center}.tox .tox-notification-container-dock-fadeout{opacity:0;visibility:hidden}.tox .tox-notification-container-dock-fadein{opacity:1;visibility:visible}.tox .tox-notification-container-dock-transition{transition:visibility 0s linear .3s,opacity .3s ease}.tox .tox-notification-container-dock-transition.tox-notification-container-dock-fadein{transition-delay:0s}.tox .tox-pop{display:inline-block;position:relative}.tox .tox-pop--resizing{transition:width .1s ease}.tox .tox-pop--resizing .tox-toolbar,.tox .tox-pop--resizing .tox-toolbar__group{flex-wrap:nowrap}.tox .tox-pop--transition{transition:.15s ease;transition-property:left,right,top,bottom}.tox .tox-pop--transition::after,.tox .tox-pop--transition::before{transition:all .15s,visibility 0s,opacity 75ms ease 75ms}.tox .tox-pop__dialog{background-color:#fff;border:1px solid #eee;border-radius:6px;box-shadow:0 0 2px 0 rgba(34,47,62,.2),0 4px 8px 0 rgba(34,47,62,.15);min-width:0;overflow:hidden}.tox .tox-pop__dialog>:not(.tox-toolbar){margin:4px 4px 4px 8px}.tox .tox-pop__dialog .tox-toolbar{background-color:transparent;margin-bottom:-1px}.tox .tox-pop::after,.tox .tox-pop::before{border-style:solid;content:'';display:block;height:0;opacity:1;position:absolute;width:0}@media (forced-colors:active){.tox .tox-pop::after,.tox .tox-pop::before{content:none}}.tox .tox-pop.tox-pop--inset::after,.tox .tox-pop.tox-pop--inset::before{opacity:0;transition:all 0s .15s,visibility 0s,opacity 75ms ease}.tox .tox-pop.tox-pop--bottom::after,.tox .tox-pop.tox-pop--bottom::before{left:50%;top:100%}.tox .tox-pop.tox-pop--bottom::after{border-color:#fff transparent transparent transparent;border-width:8px;margin-left:-8px;margin-top:-1px}.tox .tox-pop.tox-pop--bottom::before{border-color:#eee transparent transparent transparent;border-width:9px;margin-left:-9px}.tox .tox-pop.tox-pop--top::after,.tox .tox-pop.tox-pop--top::before{left:50%;top:0;transform:translateY(-100%)}.tox .tox-pop.tox-pop--top::after{border-color:transparent transparent #fff transparent;border-width:8px;margin-left:-8px;margin-top:1px}.tox .tox-pop.tox-pop--top::before{border-color:transparent transparent #eee transparent;border-width:9px;margin-left:-9px}.tox .tox-pop.tox-pop--left::after,.tox .tox-pop.tox-pop--left::before{left:0;top:calc(50% - 1px);transform:translateY(-50%)}.tox .tox-pop.tox-pop--left::after{border-color:transparent #fff transparent transparent;border-width:8px;margin-left:-15px}.tox .tox-pop.tox-pop--left::before{border-color:transparent #eee transparent transparent;border-width:10px;margin-left:-19px}.tox .tox-pop.tox-pop--right::after,.tox .tox-pop.tox-pop--right::before{left:100%;top:calc(50% + 1px);transform:translateY(-50%)}.tox .tox-pop.tox-pop--right::after{border-color:transparent transparent transparent #fff;border-width:8px;margin-left:-1px}.tox .tox-pop.tox-pop--right::before{border-color:transparent transparent transparent #eee;border-width:10px;margin-left:-1px}.tox .tox-pop.tox-pop--align-left::after,.tox .tox-pop.tox-pop--align-left::before{left:20px}.tox .tox-pop.tox-pop--align-right::after,.tox .tox-pop.tox-pop--align-right::before{left:calc(100% - 20px)}.tox .tox-sidebar-wrap{display:flex;flex-direction:row;flex-grow:1;min-height:0}.tox .tox-sidebar{background-color:#fff;display:flex;flex-direction:row;justify-content:flex-end}.tox .tox-sidebar__slider{display:flex;overflow:hidden}.tox .tox-sidebar__pane-container{display:flex}.tox .tox-sidebar__pane{display:flex}.tox .tox-sidebar--sliding-closed{opacity:0}.tox .tox-sidebar--sliding-open{opacity:1}.tox .tox-sidebar--sliding-growing,.tox .tox-sidebar--sliding-shrinking{transition:width .5s ease,opacity .5s ease}.tox .tox-selector{background-color:#4099ff;border-color:#4099ff;border-style:solid;border-width:1px;box-sizing:border-box;display:inline-block;height:10px;position:absolute;width:10px}.tox.tox-platform-touch .tox-selector{height:12px;width:12px}.tox .tox-slider{align-items:center;display:flex;flex:1;height:24px;justify-content:center;position:relative}.tox .tox-slider__rail{background-color:transparent;border:1px solid #eee;border-radius:6px;height:10px;min-width:120px;width:100%}.tox .tox-slider__handle{background-color:#006ce7;border:2px solid #0054b4;border-radius:6px;box-shadow:none;height:24px;left:50%;position:absolute;top:50%;transform:translateX(-50%) translateY(-50%);width:14px}.tox .tox-form__controls-h-stack>.tox-slider:not(:first-of-type){margin-inline-start:8px}.tox .tox-form__controls-h-stack>.tox-form__group+.tox-slider{margin-inline-start:32px}.tox .tox-form__controls-h-stack>.tox-slider+.tox-form__group{margin-inline-start:32px}.tox .tox-source-code{overflow:auto}.tox .tox-spinner{display:flex}.tox .tox-spinner>div{animation:tam-bouncing-dots 1.5s ease-in-out 0s infinite both;background-color:rgba(34,47,62,.7);border-radius:100%;height:8px;width:8px}.tox .tox-spinner>div:first-child{animation-delay:-.32s}.tox .tox-spinner>div:nth-child(2){animation-delay:-.16s}@keyframes tam-bouncing-dots{0%,100%,80%{transform:scale(0)}40%{transform:scale(1)}}.tox:not([dir=rtl]) .tox-spinner>div:not(:first-child){margin-left:4px}.tox[dir=rtl] .tox-spinner>div:not(:first-child){margin-right:4px}.tox .tox-statusbar{align-items:center;background-color:#fff;border-top:1px solid #e3e3e3;color:rgba(34,47,62,.7);display:flex;flex:0 0 auto;font-size:14px;font-weight:400;height:25px;overflow:hidden;padding:0 8px;position:relative;text-transform:none}.tox .tox-statusbar__path{display:flex;flex:1 1 auto;text-overflow:ellipsis;white-space:nowrap}.tox .tox-statusbar__right-container{display:flex;justify-content:flex-end;white-space:nowrap}.tox .tox-statusbar__help-text{text-align:center}.tox .tox-statusbar__text-container{align-items:flex-start;display:flex;flex:1 1 auto;height:16px;justify-content:space-between;overflow:hidden}@media only screen and (min-width:768px){.tox .tox-statusbar__text-container.tox-statusbar__text-container-3-cols>.tox-statusbar__help-text,.tox .tox-statusbar__text-container.tox-statusbar__text-container-3-cols>.tox-statusbar__path,.tox .tox-statusbar__text-container.tox-statusbar__text-container-3-cols>.tox-statusbar__right-container{flex:0 0 calc(100% / 3)}}.tox .tox-statusbar__text-container.tox-statusbar__text-container--flex-end{justify-content:flex-end}.tox .tox-statusbar__text-container.tox-statusbar__text-container--flex-start{justify-content:flex-start}.tox .tox-statusbar__text-container.tox-statusbar__text-container--space-around{justify-content:space-around}.tox .tox-statusbar__path>*{display:inline;white-space:nowrap}.tox .tox-statusbar__wordcount{flex:0 0 auto;margin-left:1ch}@media only screen and (max-width:767px){.tox .tox-statusbar__text-container .tox-statusbar__help-text{display:none}.tox .tox-statusbar__text-container .tox-statusbar__help-text:only-child{display:block}}.tox .tox-statusbar a,.tox .tox-statusbar__path-item,.tox .tox-statusbar__wordcount{color:rgba(34,47,62,.7);position:relative;-webkit-text-decoration:none;text-decoration:none}.tox .tox-statusbar a:focus:not(:disabled):not([aria-disabled=true]),.tox .tox-statusbar a:hover:not(:disabled):not([aria-disabled=true]),.tox .tox-statusbar__path-item:focus:not(:disabled):not([aria-disabled=true]),.tox .tox-statusbar__path-item:hover:not(:disabled):not([aria-disabled=true]),.tox .tox-statusbar__wordcount:focus:not(:disabled):not([aria-disabled=true]),.tox .tox-statusbar__wordcount:hover:not(:disabled):not([aria-disabled=true]){color:#222f3e;cursor:pointer}.tox .tox-statusbar a:focus-visible::after,.tox .tox-statusbar__path-item:focus-visible::after,.tox .tox-statusbar__wordcount:focus-visible::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-statusbar a:focus-visible::after,.tox .tox-statusbar__path-item:focus-visible::after,.tox .tox-statusbar__wordcount:focus-visible::after{border:2px solid highlight}}.tox .tox-statusbar__branding svg{fill:rgba(34,47,62,0.8);height:1em;margin-left:.3em;width:auto}@media (forced-colors:active){.tox .tox-statusbar__branding svg{fill:currentColor}}.tox .tox-statusbar__branding a{align-items:center;display:inline-flex}.tox .tox-statusbar__branding a:focus:not(:disabled):not([aria-disabled=true]) svg,.tox .tox-statusbar__branding a:hover:not(:disabled):not([aria-disabled=true]) svg{fill:#222f3e}.tox .tox-statusbar__resize-handle{align-items:flex-end;align-self:stretch;cursor:nwse-resize;display:flex;flex:0 0 auto;justify-content:flex-end;margin-bottom:3px;margin-left:4px;margin-right:calc(3px - 8px);margin-top:3px;padding-bottom:0;padding-left:0;padding-right:0;position:relative}.tox .tox-statusbar__resize-handle svg{display:block;fill:rgba(34,47,62,0.5)}.tox .tox-statusbar__resize-handle:focus svg,.tox .tox-statusbar__resize-handle:hover svg{fill:#222f3e}.tox .tox-statusbar__resize-handle:focus-visible{background-color:transparent;border-radius:1px 1px 5px 1px;box-shadow:0 0 0 2px transparent}.tox .tox-statusbar__resize-handle:focus-visible::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-statusbar__resize-handle:focus-visible::after{border:2px solid highlight}}.tox:not([dir=rtl]) .tox-statusbar__path>*{margin-right:4px}.tox:not([dir=rtl]) .tox-statusbar__branding{margin-left:2ch}.tox[dir=rtl] .tox-statusbar{flex-direction:row-reverse}.tox[dir=rtl] .tox-statusbar__path>*{margin-left:4px}.tox[dir=rtl] .tox-statusbar__branding svg{margin-left:0;margin-right:.3em}.tox .tox-throbber{z-index:1299}.tox .tox-throbber__busy-spinner{align-items:center;background-color:rgba(255,255,255,.6);bottom:0;display:flex;justify-content:center;left:0;position:absolute;right:0;top:0}.tox .tox-tbtn{align-items:center;background:#fff;border:0;border-radius:3px;box-shadow:none;color:#222f3e;display:flex;flex:0 0 auto;font-size:14px;font-style:normal;font-weight:400;height:28px;justify-content:center;margin:6px 1px 5px 0;outline:0;padding:0;text-transform:none;width:34px}@media (forced-colors:active){.tox .tox-tbtn.tox-tbtn:hover,.tox .tox-tbtn:hover{outline:1px dashed currentColor}.tox .tox-tbtn.tox-tbtn--active,.tox .tox-tbtn.tox-tbtn--enabled,.tox .tox-tbtn.tox-tbtn--enabled:focus,.tox .tox-tbtn.tox-tbtn--enabled:hover,.tox .tox-tbtn:focus:not(.tox-tbtn--disabled){outline:1px solid currentColor;position:relative}}.tox .tox-tbtn svg{display:block;fill:#222f3e}@media (forced-colors:active){.tox .tox-tbtn svg{fill:currentColor!important}.tox .tox-tbtn svg.tox-tbtn--enabled,.tox .tox-tbtn svg:focus:not(.tox-tbtn--disabled){fill:currentColor!important}.tox .tox-tbtn svg .tox-tbtn:disabled,.tox .tox-tbtn svg .tox-tbtn:disabled:hover,.tox .tox-tbtn svg.tox-tbtn--disabled,.tox .tox-tbtn svg.tox-tbtn--disabled:hover{filter:contrast(0%)}}.tox .tox-tbtn.tox-tbtn-more{padding-left:5px;padding-right:5px;width:inherit}.tox .tox-tbtn:focus{background:#fff;border:0;box-shadow:none;position:relative;z-index:1}.tox .tox-tbtn:focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-tbtn:focus::after{border:2px solid highlight}}.tox .tox-tbtn:hover{background:#f0f0f0;border:0;box-shadow:none;color:#222f3e}.tox .tox-tbtn:hover svg{fill:#222f3e}.tox .tox-tbtn:active{background:#a6ccf7;border:0;box-shadow:none;color:#222f3e}.tox .tox-tbtn:active svg{fill:#222f3e}.tox .tox-tbtn--disabled .tox-tbtn--enabled svg{fill:rgba(34,47,62,0.5)}.tox .tox-tbtn--disabled,.tox .tox-tbtn--disabled:hover,.tox .tox-tbtn:disabled,.tox .tox-tbtn:disabled:hover{background:#fff;border:0;box-shadow:none;color:rgba(34,47,62,.5);cursor:not-allowed}.tox .tox-tbtn--disabled svg,.tox .tox-tbtn--disabled:hover svg,.tox .tox-tbtn:disabled svg,.tox .tox-tbtn:disabled:hover svg{fill:rgba(34,47,62,0.5)}.tox .tox-tbtn--active,.tox .tox-tbtn--enabled,.tox .tox-tbtn--enabled:focus,.tox .tox-tbtn--enabled:hover{background:#a6ccf7;border:0;box-shadow:none;color:#222f3e;position:relative}.tox .tox-tbtn--active>*,.tox .tox-tbtn--enabled:focus>*,.tox .tox-tbtn--enabled:hover>*,.tox .tox-tbtn--enabled>*{transform:none}.tox .tox-tbtn--active svg,.tox .tox-tbtn--enabled svg,.tox .tox-tbtn--enabled:focus svg,.tox .tox-tbtn--enabled:hover svg{fill:#222f3e}.tox .tox-tbtn--active.tox-tbtn--disabled svg,.tox .tox-tbtn--enabled.tox-tbtn--disabled svg,.tox .tox-tbtn--enabled:focus.tox-tbtn--disabled svg,.tox .tox-tbtn--enabled:hover.tox-tbtn--disabled svg{fill:rgba(34,47,62,0.5)}.tox .tox-tbtn--enabled:focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-tbtn--enabled:focus::after{border:2px solid highlight}}.tox .tox-tbtn:focus:not(.tox-tbtn--disabled){color:#222f3e}.tox .tox-tbtn:focus:not(.tox-tbtn--disabled) svg{fill:#222f3e}.tox .tox-tbtn:active>*{transform:none}.tox .tox-tbtn--md{height:42px;width:51px}.tox .tox-tbtn--lg{flex-direction:column;height:56px;width:68px}.tox .tox-tbtn--return{align-self:stretch;height:unset;width:16px}.tox .tox-tbtn--labeled{padding:0 4px;width:unset}.tox .tox-tbtn__vlabel{display:block;font-size:10px;font-weight:400;letter-spacing:-.025em;margin-bottom:4px;white-space:nowrap}.tox .tox-number-input{background:#f7f7f7;border-radius:3px;display:flex;margin:6px 1px 5px 0;position:relative;width:auto}.tox .tox-number-input:focus{background:#f7f7f7}.tox .tox-number-input:focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-number-input:focus::after{border:2px solid highlight}}.tox .tox-number-input .tox-input-wrapper{display:flex;pointer-events:none;position:relative;text-align:center}.tox .tox-number-input .tox-input-wrapper:focus{background-color:#f7f7f7;z-index:1}.tox .tox-number-input .tox-input-wrapper:focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-number-input .tox-input-wrapper:focus::after{border:2px solid highlight}}.tox .tox-number-input .tox-input-wrapper:has(input:focus)::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-number-input .tox-input-wrapper:has(input:focus)::after{border:2px solid highlight}}.tox .tox-number-input input{border-radius:3px;color:#222f3e;font-size:14px;margin:2px 0;pointer-events:all;position:relative;width:60px}.tox .tox-number-input input:hover{background:#f0f0f0;color:#222f3e}.tox .tox-number-input input:focus{background-color:#f7f7f7}.tox .tox-number-input input:disabled{background:#fff;border:0;box-shadow:none;color:rgba(34,47,62,.5);cursor:not-allowed}.tox .tox-number-input button{color:#222f3e;height:28px;position:relative;text-align:center;width:24px}@media (forced-colors:active){.tox .tox-number-input button:active,.tox .tox-number-input button:focus,.tox .tox-number-input button:hover{outline:1px solid currentColor!important}}.tox .tox-number-input button svg{display:block;fill:#222f3e;margin:0 auto;transform:scale(.67)}@media (forced-colors:active){.tox .tox-number-input button svg,.tox .tox-number-input button svg:active,.tox .tox-number-input button svg:hover{fill:currentColor!important}.tox .tox-number-input button svg:disabled{filter:contrast(0)}}.tox .tox-number-input button:focus{background:#f7f7f7;z-index:1}.tox .tox-number-input button:focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-number-input button:focus::after{border:2px solid highlight}}.tox .tox-number-input button:hover{background:#f0f0f0;border:0;box-shadow:none;color:#222f3e}.tox .tox-number-input button:hover svg{fill:#222f3e}.tox .tox-number-input button:active{background:#a6ccf7;border:0;box-shadow:none;color:#222f3e}.tox .tox-number-input button:active svg{fill:#222f3e}.tox .tox-number-input button:disabled{background:#fff;border:0;box-shadow:none;color:rgba(34,47,62,.5);cursor:not-allowed}.tox .tox-number-input button:disabled svg{fill:rgba(34,47,62,0.5)}.tox .tox-number-input button.minus{border-radius:3px 0 0 3px}.tox .tox-number-input button.plus{border-radius:0 3px 3px 0}.tox .tox-number-input:focus:not(:active)>.tox-input-wrapper,.tox .tox-number-input:focus:not(:active)>button{background:#f7f7f7}.tox .tox-tbtn--select{margin:6px 1px 5px 0;padding:0 4px;width:auto}.tox .tox-tbtn__select-label{cursor:default;font-weight:400;height:initial;margin:0 4px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.tox .tox-tbtn__select-chevron{align-items:center;display:flex;justify-content:center;width:16px}.tox .tox-tbtn__select-chevron svg{fill:rgba(34,47,62,0.5)}@media (forced-colors:active){.tox .tox-tbtn__select-chevron svg{fill:currentColor}}.tox .tox-tbtn--bespoke{background:#f7f7f7}.tox .tox-tbtn--bespoke:focus{background:#f7f7f7}.tox .tox-tbtn--bespoke+.tox-tbtn--bespoke{margin-inline-start:4px}.tox .tox-tbtn--bespoke .tox-tbtn__select-label{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;width:7em}.tox .tox-tbtn--disabled .tox-tbtn__select-label,.tox .tox-tbtn--select:disabled .tox-tbtn__select-label{cursor:not-allowed}.tox .tox-split-button{border:0;border-radius:3px;box-sizing:border-box;display:flex;margin:6px 1px 5px 0}.tox .tox-split-button:hover{box-shadow:0 0 0 1px #f0f0f0 inset}.tox .tox-split-button:focus{background:#fff;box-shadow:none;color:#222f3e;position:relative;z-index:1}.tox .tox-split-button:focus::after{pointer-events:none;border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-split-button:focus::after{border:2px solid highlight}}.tox .tox-split-button>*{border-radius:0}.tox .tox-split-button>:first-child{border-bottom-left-radius:3px;border-top-left-radius:3px}.tox .tox-split-button>:nth-child(2){border-bottom-right-radius:3px;border-top-right-radius:3px}.tox .tox-split-button__chevron{width:16px}.tox .tox-split-button__chevron svg{fill:rgba(34,47,62,0.5)}@media (forced-colors:active){.tox .tox-split-button__chevron svg{fill:currentColor}}.tox .tox-split-button .tox-tbtn{margin:0}.tox .tox-split-button:focus .tox-tbtn{background-color:transparent}.tox .tox-split-button.tox-tbtn--disabled .tox-tbtn:focus,.tox .tox-split-button.tox-tbtn--disabled .tox-tbtn:hover,.tox .tox-split-button.tox-tbtn--disabled:focus,.tox .tox-split-button.tox-tbtn--disabled:hover{background:#fff;box-shadow:none;color:rgba(34,47,62,.5)}.tox.tox-platform-touch .tox-split-button .tox-tbtn--select{padding:0 0}.tox.tox-platform-touch .tox-split-button .tox-tbtn:not(.tox-tbtn--select):first-child{width:30px}.tox.tox-platform-touch .tox-split-button__chevron{width:20px}.tox .tox-split-button.tox-tbtn--disabled svg #tox-icon-highlight-bg-color__color,.tox .tox-split-button.tox-tbtn--disabled svg #tox-icon-text-color__color{opacity:.6}.tox .tox-toolbar-overlord{background-color:#fff}.tox .tox-toolbar,.tox .tox-toolbar__overflow,.tox .tox-toolbar__primary{background-attachment:local;background-color:#fff;background-image:repeating-linear-gradient(#e3e3e3 0 1px,transparent 1px 39px);background-position:center top 40px;background-repeat:no-repeat;background-size:calc(100% - 11px * 2) calc(100% - 41px);display:flex;flex:0 0 auto;flex-shrink:0;flex-wrap:wrap;padding:0 0;transform:perspective(1px)}.tox .tox-toolbar-overlord>.tox-toolbar,.tox .tox-toolbar-overlord>.tox-toolbar__overflow,.tox .tox-toolbar-overlord>.tox-toolbar__primary{background-position:center top 0;background-size:calc(100% - 11px * 2) calc(100% - 0)}.tox .tox-toolbar__overflow.tox-toolbar__overflow--closed{height:0;opacity:0;padding-bottom:0;padding-top:0;visibility:hidden}.tox .tox-toolbar__overflow--growing{transition:height .3s ease,opacity .2s linear .1s}.tox .tox-toolbar__overflow--shrinking{transition:opacity .3s ease,height .2s linear .1s,visibility 0s linear .3s}.tox .tox-anchorbar,.tox .tox-toolbar-overlord{grid-column:1/-1}.tox .tox-menubar+.tox-toolbar,.tox .tox-menubar+.tox-toolbar-overlord{border-top:1px solid transparent;margin-top:-1px;padding-bottom:1px;padding-top:1px}@media (forced-colors:active){.tox .tox-menubar+.tox-toolbar,.tox .tox-menubar+.tox-toolbar-overlord{outline:1px solid currentColor}}.tox .tox-toolbar--scrolling{flex-wrap:nowrap;overflow-x:auto}.tox .tox-pop .tox-toolbar{border-width:0}.tox .tox-toolbar--no-divider{background-image:none}.tox .tox-toolbar-overlord .tox-toolbar:not(.tox-toolbar--scrolling):first-child,.tox .tox-toolbar-overlord .tox-toolbar__primary{background-position:center top 39px}.tox .tox-editor-header>.tox-toolbar--scrolling,.tox .tox-toolbar-overlord .tox-toolbar--scrolling:first-child{background-image:none}.tox.tox-tinymce-aux .tox-toolbar__overflow{background-color:#fff;background-position:center top 43px;background-size:calc(100% - 8px * 2) calc(100% - 51px);border:none;border-radius:6px;box-shadow:0 0 2px 0 rgba(34,47,62,.2),0 4px 8px 0 rgba(34,47,62,.15);overscroll-behavior:none;padding:4px 0}@media (forced-colors:active){.tox.tox-tinymce-aux .tox-toolbar__overflow{border:solid}}.tox-pop .tox-pop__dialog .tox-toolbar{background-position:center top 43px;background-size:calc(100% - 11px * 2) calc(100% - 51px);padding:4px 0}.tox .tox-toolbar__group{align-items:center;display:flex;flex-wrap:wrap;margin:0 0;padding:0 11px 0 12px}.tox .tox-toolbar__group--pull-right{margin-left:auto}.tox .tox-toolbar--scrolling .tox-toolbar__group{flex-shrink:0;flex-wrap:nowrap}.tox:not([dir=rtl]) .tox-toolbar__group:not(:last-of-type){border-right:1px solid transparent}.tox[dir=rtl] .tox-toolbar__group:not(:last-of-type){border-left:1px solid transparent}.tox .tox-tooltip{display:inline-block;max-width:15em;padding:8px;pointer-events:none;position:relative;width:max-content;z-index:1150}.tox .tox-tooltip__body{background-color:#222f3e;border-radius:6px;box-shadow:none;color:#fff;font-size:12px;font-style:normal;font-weight:600;overflow-wrap:break-word;padding:4px 6px;text-transform:none}@media (forced-colors:active){.tox .tox-tooltip__body{outline:outset 1px}}.tox .tox-tooltip__arrow{position:absolute}.tox .tox-tooltip--down .tox-tooltip__arrow{border-left:8px solid transparent;border-right:8px solid transparent;border-top:8px solid #222f3e;bottom:0;left:50%;position:absolute;transform:translateX(-50%)}.tox .tox-tooltip--up .tox-tooltip__arrow{border-bottom:8px solid #222f3e;border-left:8px solid transparent;border-right:8px solid transparent;left:50%;position:absolute;top:0;transform:translateX(-50%)}.tox .tox-tooltip--right .tox-tooltip__arrow{border-bottom:8px solid transparent;border-left:8px solid #222f3e;border-top:8px solid transparent;position:absolute;right:0;top:50%;transform:translateY(-50%)}.tox .tox-tooltip--left .tox-tooltip__arrow{border-bottom:8px solid transparent;border-right:8px solid #222f3e;border-top:8px solid transparent;left:0;position:absolute;top:50%;transform:translateY(-50%)}.tox .tox-tree{display:flex;flex-direction:column}.tox .tox-tree .tox-trbtn{align-items:center;background:0 0;border:0;border-radius:4px;box-shadow:none;color:#222f3e;display:flex;flex:0 0 auto;font-size:14px;font-style:normal;font-weight:400;height:28px;margin-bottom:4px;margin-top:4px;outline:0;overflow:hidden;padding:0;padding-left:8px;text-transform:none}.tox .tox-tree .tox-trbtn .tox-tree__label{cursor:default;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.tox .tox-tree .tox-trbtn svg{display:block;fill:#222f3e}.tox .tox-tree .tox-trbtn:focus{background:#f0f0f0;border:0;box-shadow:none}.tox .tox-tree .tox-trbtn:hover{background:#f0f0f0;border:0;box-shadow:none;color:#222f3e}.tox .tox-tree .tox-trbtn:hover svg{fill:#222f3e}.tox .tox-tree .tox-trbtn:active{background:#a6ccf7;border:0;box-shadow:none;color:#222f3e}.tox .tox-tree .tox-trbtn:active svg{fill:#222f3e}.tox .tox-tree .tox-trbtn--disabled,.tox .tox-tree .tox-trbtn--disabled:hover,.tox .tox-tree .tox-trbtn:disabled,.tox .tox-tree .tox-trbtn:disabled:hover{background:0 0;border:0;box-shadow:none;color:rgba(34,47,62,.5);cursor:not-allowed}.tox .tox-tree .tox-trbtn--disabled svg,.tox .tox-tree .tox-trbtn--disabled:hover svg,.tox .tox-tree .tox-trbtn:disabled svg,.tox .tox-tree .tox-trbtn:disabled:hover svg{fill:rgba(34,47,62,0.5)}.tox .tox-tree .tox-trbtn--enabled,.tox .tox-tree .tox-trbtn--enabled:hover{background:#a6ccf7;border:0;box-shadow:none;color:#222f3e}.tox .tox-tree .tox-trbtn--enabled:hover>*,.tox .tox-tree .tox-trbtn--enabled>*{transform:none}.tox .tox-tree .tox-trbtn--enabled svg,.tox .tox-tree .tox-trbtn--enabled:hover svg{fill:#222f3e}.tox .tox-tree .tox-trbtn:focus:not(.tox-trbtn--disabled){color:#222f3e}.tox .tox-tree .tox-trbtn:focus:not(.tox-trbtn--disabled) svg{fill:#222f3e}.tox .tox-tree .tox-trbtn:active>*{transform:none}.tox .tox-tree .tox-trbtn--return{align-self:stretch;height:unset;width:16px}.tox .tox-tree .tox-trbtn--labeled{padding:0 4px;width:unset}.tox .tox-tree .tox-trbtn__vlabel{display:block;font-size:10px;font-weight:400;letter-spacing:-.025em;margin-bottom:4px;white-space:nowrap}.tox .tox-tree .tox-tree--directory{display:flex;flex-direction:column}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label{font-weight:700}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label .tox-mbtn{margin-left:auto}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label .tox-mbtn svg{fill:transparent}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label .tox-mbtn.tox-mbtn--active svg,.tox .tox-tree .tox-tree--directory .tox-tree--directory__label .tox-mbtn:focus svg{fill:#222f3e}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:focus .tox-mbtn svg,.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:hover .tox-mbtn svg{fill:#222f3e}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:hover:has(.tox-mbtn:hover){background-color:transparent;color:#222f3e}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:hover:has(.tox-mbtn:hover) .tox-chevron svg{fill:#222f3e}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label .tox-chevron{margin-right:6px}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:has(+ .tox-tree--directory__children--growing) .tox-chevron,.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:has(+ .tox-tree--directory__children--shrinking) .tox-chevron{transition:transform .5s ease-in-out}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:has(+ .tox-tree--directory__children--growing) .tox-chevron,.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:has(+ .tox-tree--directory__children--open) .tox-chevron{transform:rotate(90deg)}.tox .tox-tree .tox-tree--leaf__label{font-weight:400}.tox .tox-tree .tox-tree--leaf__label .tox-mbtn{margin-left:auto}.tox .tox-tree .tox-tree--leaf__label .tox-mbtn svg{fill:transparent}.tox .tox-tree .tox-tree--leaf__label .tox-mbtn.tox-mbtn--active svg,.tox .tox-tree .tox-tree--leaf__label .tox-mbtn:focus svg{fill:#222f3e}.tox .tox-tree .tox-tree--leaf__label:hover .tox-mbtn svg{fill:#222f3e}.tox .tox-tree .tox-tree--leaf__label:hover:has(.tox-mbtn:hover){background-color:transparent;color:#222f3e}.tox .tox-tree .tox-tree--leaf__label:hover:has(.tox-mbtn:hover) .tox-chevron svg{fill:#222f3e}.tox .tox-tree .tox-tree--directory__children{overflow:hidden;padding-left:16px}.tox .tox-tree .tox-tree--directory__children.tox-tree--directory__children--growing,.tox .tox-tree .tox-tree--directory__children.tox-tree--directory__children--shrinking{transition:height .5s ease-in-out}.tox .tox-tree .tox-trbtn.tox-tree--leaf__label{display:flex;justify-content:space-between}.tox .tox-revisionhistory__pane{padding:0!important}.tox .tox-revisionhistory__container{display:flex;flex-direction:column;height:100%}.tox .tox-revisionhistory{background-color:#fff;border-top:1px solid #f0f0f0;display:flex;flex:1;height:100%;margin-top:8px;overflow-x:auto;overflow-y:hidden;position:relative;width:100%}.tox .tox-revisionhistory--align-right{margin-left:auto}.tox .tox-revisionhistory__iframe{flex:1}.tox .tox-revisionhistory__sidebar{display:flex;flex-direction:column;height:100%;min-width:248px;width:316px}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__sidebar-title{background-color:#fff;box-shadow:0 4px 8px 0 rgba(34,47,62,.1);color:#222f3e;font-size:20px;font-weight:400;line-height:28px;padding:12px;z-index:1}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions{background-color:#f0f0f0;display:flex;flex:1;flex-direction:column;gap:12px;overflow-y:auto;padding:10px 12px}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions:focus{height:100%;position:relative;z-index:1}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions:focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0;border-radius:6px;bottom:1px;left:1px;right:1px;top:1px}@media (forced-colors:active){.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions:focus::after{border:2px solid highlight}}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card{background-color:#fff;border:1px solid #f0f0f0;border-radius:6px;color:#222f3e;cursor:pointer;display:flex;flex-direction:column;font-size:14px;gap:12px;padding:12px;width:100%}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card:hover{box-shadow:0 4px 8px 0 rgba(34,47,62,.1)}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card:focus{position:relative;z-index:1}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card:focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7 #006ce7;content:'';left:0;position:absolute;right:0;top:0;border-radius:6px;box-shadow:0 0 0 2px #006ce7;box-shadow:0 0 0 2px #006ce7!important}@media (forced-colors:active){.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card:focus::after{border:2px solid highlight}}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card.tox-revisionhistory__card--selected{background-color:#fff5cc;box-shadow:0 4px 8px 0 rgba(34,47,62,.1);position:relative}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card.tox-revisionhistory__card--selected::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7 #e3b82a;content:'';left:0;position:absolute;right:0;top:0;border-radius:6px;box-shadow:0 0 0 2px #e3b82a}@media (forced-colors:active){.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card.tox-revisionhistory__card--selected::after{border:2px solid highlight}}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card-date{display:flex;gap:12px;justify-content:space-between}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card-date-label{font-size:16px;line-height:24px}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card-label{font-size:12px;font-weight:600;line-height:24px;padding:0}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card-author{align-items:center;display:flex;flex:1 0 0;gap:8px;height:36px}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card-author-name{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;font-size:14px;font-weight:700;line-height:18px}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__avatar{border-radius:50%;height:36px;object-fit:cover;vertical-align:middle;width:36px}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__norevision{color:rgba(34,47,62,.7);font-size:16px;line-height:24px;padding:5px 5.5px}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card-check-icon{color:#222f3e;height:24px}.tox .tox-view-wrap,.tox .tox-view-wrap__slot-container{background-color:#fff;display:flex;flex:1;flex-direction:column;height:100%}.tox .tox-view{display:flex;flex:1 1 auto;flex-direction:column;overflow:hidden}.tox .tox-view__header{align-items:center;display:flex;font-size:16px;justify-content:space-between;padding:10px 10px 2px 10px;position:relative}.tox .tox-view__label{color:#222f3e;font-weight:700;line-height:24px;padding:4px 16px;text-align:center;white-space:nowrap}.tox .tox-view__label--normal{font-size:16px}.tox .tox-view__label--large{font-size:20px}.tox .tox-view--mobile.tox-view__header,.tox .tox-view--mobile.tox-view__toolbar{padding:8px}.tox .tox-view--scrolling{flex-wrap:nowrap;overflow-x:auto}.tox .tox-view__toolbar{display:flex;flex-direction:row;gap:8px;justify-content:space-between;overflow-x:auto;padding:10px 10px 2px 10px}.tox .tox-view__toolbar__group{display:flex;flex-direction:row;gap:12px}.tox .tox-view__header-end,.tox .tox-view__header-start{display:flex}.tox .tox-view__pane{height:100%;padding:8px;position:relative;width:100%}.tox .tox-view__pane_panel{border:1px solid #eee;border-radius:6px}.tox:not([dir=rtl]) .tox-view__header .tox-view__header-end>*,.tox:not([dir=rtl]) .tox-view__header .tox-view__header-start>*{margin-left:8px}.tox[dir=rtl] .tox-view__header .tox-view__header-end>*,.tox[dir=rtl] .tox-view__header .tox-view__header-start>*{margin-right:8px}.tox .tox-well{border:1px solid #eee;border-radius:6px;padding:8px;width:100%}.tox .tox-well>:first-child{margin-top:0}.tox .tox-well>:last-child{margin-bottom:0}.tox .tox-well>:only-child{margin:0}.tox .tox-custom-editor{border:1px solid #eee;border-radius:6px;display:flex;flex:1;overflow:hidden;position:relative}.tox .tox-dialog-loading::before{background-color:rgba(0,0,0,.5);content:"";height:100%;position:absolute;width:100%;z-index:1000}.tox .tox-tab{cursor:pointer}.tox .tox-dialog__content-js{display:flex;flex:1}.tox .tox-dialog__body-content .tox-collection{display:flex;flex:1}`);tinymce.Resource.add("ui/default/content.css",`.mce-content-body .mce-item-anchor{background:transparent url("data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D'8'%20height%3D'12'%20xmlns%3D'http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg'%3E%3Cpath%20d%3D'M0%200L8%200%208%2012%204.09117821%209%200%2012z'%2F%3E%3C%2Fsvg%3E%0A") no-repeat center}.mce-content-body .mce-item-anchor:empty{cursor:default;display:inline-block;height:12px!important;padding:0 2px;-webkit-user-modify:read-only;-moz-user-modify:read-only;-webkit-user-select:all;user-select:all;width:8px!important}.mce-content-body .mce-item-anchor:not(:empty){background-position-x:2px;display:inline-block;padding-left:12px}.mce-content-body .mce-item-anchor[data-mce-selected]{outline-offset:1px}.tox-comments-visible .tox-comment[contenteditable=false]:not([data-mce-selected]),.tox-comments-visible span.tox-comment img:not([data-mce-selected]),.tox-comments-visible span.tox-comment span.mce-preview-object:not([data-mce-selected]),.tox-comments-visible span.tox-comment>audio:not([data-mce-selected]),.tox-comments-visible span.tox-comment>video:not([data-mce-selected]){outline:3px solid #ffe89d}.tox-comments-visible .tox-comment[contenteditable=false][data-mce-annotation-active=true]:not([data-mce-selected]){outline:3px solid #fed635}.tox-comments-visible span.tox-comment[data-mce-annotation-active=true] img:not([data-mce-selected]),.tox-comments-visible span.tox-comment[data-mce-annotation-active=true] span.mce-preview-object:not([data-mce-selected]),.tox-comments-visible span.tox-comment[data-mce-annotation-active=true]>audio:not([data-mce-selected]),.tox-comments-visible span.tox-comment[data-mce-annotation-active=true]>video:not([data-mce-selected]){outline:3px solid #fed635}.tox-comments-visible span.tox-comment:not([data-mce-selected]){background-color:#ffe89d;outline:0}.tox-comments-visible span.tox-comment[data-mce-annotation-active=true]:not([data-mce-selected=inline-boundary]){background-color:#fed635}.tox-checklist>li:not(.tox-checklist--hidden){list-style:none;margin:.25em 0}.tox-checklist>li:not(.tox-checklist--hidden)::before{content:url("data:image/svg+xml;charset=UTF-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2216%22%20height%3D%2216%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cg%20id%3D%22checklist-unchecked%22%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%3E%3Crect%20id%3D%22Rectangle%22%20width%3D%2215%22%20height%3D%2215%22%20x%3D%22.5%22%20y%3D%22.5%22%20fill-rule%3D%22nonzero%22%20stroke%3D%22%234C4C4C%22%20rx%3D%222%22%2F%3E%3C%2Fg%3E%3C%2Fsvg%3E%0A");cursor:pointer;height:1em;margin-left:-1.5em;margin-top:.125em;position:absolute;width:1em}.tox-checklist li:not(.tox-checklist--hidden).tox-checklist--checked::before{content:url("data:image/svg+xml;charset=UTF-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2216%22%20height%3D%2216%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cg%20id%3D%22checklist-checked%22%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%3E%3Crect%20id%3D%22Rectangle%22%20width%3D%2216%22%20height%3D%2216%22%20fill%3D%22%234099FF%22%20fill-rule%3D%22nonzero%22%20rx%3D%222%22%2F%3E%3Cpath%20id%3D%22Path%22%20fill%3D%22%23FFF%22%20fill-rule%3D%22nonzero%22%20d%3D%22M11.5703186%2C3.14417309%20C11.8516238%2C2.73724603%2012.4164781%2C2.62829933%2012.83558%2C2.89774797%20C13.260121%2C3.17069355%2013.3759736%2C3.72932262%2013.0909105%2C4.14168582%20L7.7580587%2C11.8560195%20C7.43776896%2C12.3193404%206.76483983%2C12.3852142%206.35607322%2C11.9948725%20L3.02491697%2C8.8138662%20C2.66090143%2C8.46625845%202.65798871%2C7.89594698%203.01850234%2C7.54483354%20C3.373942%2C7.19866177%203.94940006%2C7.19592841%204.30829608%2C7.5386474%20L6.85276923%2C9.9684299%20L11.5703186%2C3.14417309%20Z%22%2F%3E%3C%2Fg%3E%3C%2Fsvg%3E%0A")}[dir=rtl] .tox-checklist>li:not(.tox-checklist--hidden)::before{margin-left:0;margin-right:-1.5em}code[class*=language-],pre[class*=language-]{color:#000;background:0 0;text-shadow:0 1px #fff;font-family:Consolas,Monaco,'Andale Mono','Ubuntu Mono',monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;tab-size:4;-webkit-hyphens:none;hyphens:none}code[class*=language-] ::selection,code[class*=language-]::selection,pre[class*=language-] ::selection,pre[class*=language-]::selection{text-shadow:none;background:#b3d4fc}@media print{code[class*=language-],pre[class*=language-]{text-shadow:none}}pre[class*=language-]{padding:1em;margin:.5em 0;overflow:auto}:not(pre)>code[class*=language-],pre[class*=language-]{background:#f5f2f0}:not(pre)>code[class*=language-]{padding:.1em;border-radius:.3em;white-space:normal}.token.cdata,.token.comment,.token.doctype,.token.prolog{color:#708090}.token.punctuation{color:#999}.token.namespace{opacity:.7}.token.boolean,.token.constant,.token.deleted,.token.number,.token.property,.token.symbol,.token.tag{color:#905}.token.attr-name,.token.builtin,.token.char,.token.inserted,.token.selector,.token.string{color:#690}.language-css .token.string,.style .token.string,.token.entity,.token.operator,.token.url{color:#9a6e3a;background:hsla(0,0%,100%,.5)}.token.atrule,.token.attr-value,.token.keyword{color:#07a}.token.class-name,.token.function{color:#dd4a68}.token.important,.token.regex,.token.variable{color:#e90}.token.bold,.token.important{font-weight:700}.token.italic{font-style:italic}.token.entity{cursor:help}.mce-content-body{overflow-wrap:break-word;word-wrap:break-word}.mce-content-body .mce-visual-caret{background-color:#000;background-color:currentColor;position:absolute}.mce-content-body .mce-visual-caret-hidden{display:none}.mce-content-body [data-mce-caret]{left:-1000px;margin:0;padding:0;position:absolute;right:auto;top:0}.mce-content-body .mce-offscreen-selection{left:-2000000px;max-width:1000000px;position:absolute}.mce-content-body [contentEditable=false]{cursor:default}.mce-content-body [contentEditable=true]{cursor:text}.tox-cursor-format-painter{cursor:url("data:image/svg+xml;charset=UTF-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2224%22%20height%3D%2224%22%20viewBox%3D%220%200%2024%2024%22%3E%0A%20%20%3Cg%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%3E%0A%20%20%20%20%3Cpath%20fill%3D%22%23000%22%20fill-rule%3D%22nonzero%22%20d%3D%22M15%2C6%20C15%2C5.45%2014.55%2C5%2014%2C5%20L6%2C5%20C5.45%2C5%205%2C5.45%205%2C6%20L5%2C10%20C5%2C10.55%205.45%2C11%206%2C11%20L14%2C11%20C14.55%2C11%2015%2C10.55%2015%2C10%20L15%2C9%20L16%2C9%20L16%2C12%20L9%2C12%20L9%2C19%20C9%2C19.55%209.45%2C20%2010%2C20%20L11%2C20%20C11.55%2C20%2012%2C19.55%2012%2C19%20L12%2C14%20L18%2C14%20L18%2C7%20L15%2C7%20L15%2C6%20Z%22%2F%3E%0A%20%20%20%20%3Cpath%20fill%3D%22%23000%22%20fill-rule%3D%22nonzero%22%20d%3D%22M1%2C1%20L8.25%2C1%20C8.66421356%2C1%209%2C1.33578644%209%2C1.75%20L9%2C1.75%20C9%2C2.16421356%208.66421356%2C2.5%208.25%2C2.5%20L2.5%2C2.5%20L2.5%2C8.25%20C2.5%2C8.66421356%202.16421356%2C9%201.75%2C9%20L1.75%2C9%20C1.33578644%2C9%201%2C8.66421356%201%2C8.25%20L1%2C1%20Z%22%2F%3E%0A%20%20%3C%2Fg%3E%0A%3C%2Fsvg%3E%0A"),default}div.mce-footnotes hr{margin-inline:0 auto;width:25%}div.mce-footnotes li>a.mce-footnotes-backlink{-webkit-text-decoration:none;text-decoration:none}@media print{sup.mce-footnote a{color:#000;-webkit-text-decoration:none;text-decoration:none}div.mce-footnotes{page-break-inside:avoid;break-inside:avoid;width:100%}div.mce-footnotes li>a.mce-footnotes-backlink{display:none}}tiny-math-block{display:flex;justify-content:center;margin:16px 0 16px 0}tiny-math-inline{display:inline-block}.mce-content-body figure.align-left{float:left}.mce-content-body figure.align-right{float:right}.mce-content-body figure.image.align-center{display:table;margin-left:auto;margin-right:auto}.mce-preview-object{border:1px solid gray;display:inline-block;line-height:0;margin:0 2px;position:relative}.mce-preview-object .mce-shim{background:url("data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7");height:100%;left:0;position:absolute;top:0;width:100%}.mce-preview-object[data-mce-selected="2"] .mce-shim{display:none}.mce-content-body .mce-mergetag{cursor:default!important;-webkit-user-select:none;user-select:none}.mce-content-body .mce-mergetag:hover{background-color:rgba(0,108,231,.1)}.mce-content-body .mce-mergetag-affix{background-color:rgba(0,108,231,.1);color:#006ce7}.mce-object{background:transparent url("data:image/svg+xml;charset=UTF-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2224%22%20height%3D%2224%22%3E%3Cpath%20d%3D%22M4%203h16a1%201%200%200%201%201%201v16a1%201%200%200%201-1%201H4a1%201%200%200%201-1-1V4a1%201%200%200%201%201-1zm1%202v14h14V5H5zm4.79%202.565l5.64%204.028a.5.5%200%200%201%200%20.814l-5.64%204.028a.5.5%200%200%201-.79-.407V7.972a.5.5%200%200%201%20.79-.407z%22%2F%3E%3C%2Fsvg%3E%0A") no-repeat center;border:1px dashed #aaa}.mce-pagebreak{border:1px dashed #aaa;cursor:default;display:block;height:5px;margin-top:15px;page-break-before:always;width:100%}@media print{.mce-pagebreak{border:0}}.tiny-pageembed .mce-shim{background:url(data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7);height:100%;left:0;position:absolute;top:0;width:100%}.tiny-pageembed[data-mce-selected="2"] .mce-shim{display:none}.tiny-pageembed{display:inline-block;position:relative}.tiny-pageembed--16by9,.tiny-pageembed--1by1,.tiny-pageembed--21by9,.tiny-pageembed--4by3{display:block;overflow:hidden;padding:0;position:relative;width:100%}.tiny-pageembed--21by9{padding-top:42.857143%}.tiny-pageembed--16by9{padding-top:56.25%}.tiny-pageembed--4by3{padding-top:75%}.tiny-pageembed--1by1{padding-top:100%}.tiny-pageembed--16by9 iframe,.tiny-pageembed--1by1 iframe,.tiny-pageembed--21by9 iframe,.tiny-pageembed--4by3 iframe{border:0;height:100%;left:0;position:absolute;top:0;width:100%}.mce-content-body[data-mce-placeholder]{position:relative}.mce-content-body[data-mce-placeholder]:not(.mce-visualblocks)::before{color:rgba(34,47,62,.7);content:attr(data-mce-placeholder);position:absolute}@media (forced-colors:active){.mce-content-body[data-mce-placeholder]:not(.mce-visualblocks)::before{color:highlight;filter:brightness(30%);z-index:-1}}.mce-content-body:not([dir=rtl])[data-mce-placeholder]:not(.mce-visualblocks)::before{left:1px}.mce-content-body[dir=rtl][data-mce-placeholder]:not(.mce-visualblocks)::before{right:1px}.mce-content-body div.mce-resizehandle{background-color:#4099ff;border-color:#4099ff;border-style:solid;border-width:1px;box-sizing:border-box;height:10px;position:absolute;width:10px;z-index:1298}.mce-content-body div.mce-resizehandle:hover{background-color:#4099ff}.mce-content-body div.mce-resizehandle:first-of-type{cursor:nwse-resize}.mce-content-body div.mce-resizehandle:nth-of-type(2){cursor:nesw-resize}.mce-content-body div.mce-resizehandle:nth-of-type(3){cursor:nwse-resize}.mce-content-body div.mce-resizehandle:nth-of-type(4){cursor:nesw-resize}.mce-content-body .mce-resize-backdrop{z-index:10000}.mce-content-body .mce-clonedresizable{cursor:default;opacity:.5;outline:1px dashed black;position:absolute;z-index:10001}.mce-content-body .mce-clonedresizable.mce-resizetable-columns td,.mce-content-body .mce-clonedresizable.mce-resizetable-columns th{border:0}.mce-content-body .mce-resize-helper{background:#555;background:rgba(0 0 0%);border:1px;border-radius:3px;color:#fff;display:none;font-family:sans-serif;font-size:12px;line-height:14px;margin:5px 10px;padding:5px;position:absolute;white-space:nowrap;z-index:10002}.tox-rtc-user-selection{position:relative}.tox-rtc-user-cursor{bottom:0;cursor:default;position:absolute;top:0;width:2px}.tox-rtc-user-cursor::before{background-color:inherit;border-radius:50%;content:'';display:block;height:8px;position:absolute;right:-3px;top:-3px;width:8px}.tox-rtc-user-cursor:hover::after{background-color:inherit;border-radius:100px;box-sizing:border-box;color:#fff;content:attr(data-user);display:block;font-size:12px;font-weight:700;left:-5px;min-height:8px;min-width:8px;padding:0 12px;position:absolute;top:-11px;white-space:nowrap;z-index:1000}.tox-rtc-user-selection--1 .tox-rtc-user-cursor{background-color:#2dc26b}.tox-rtc-user-selection--2 .tox-rtc-user-cursor{background-color:#e03e2d}.tox-rtc-user-selection--3 .tox-rtc-user-cursor{background-color:#f1c40f}.tox-rtc-user-selection--4 .tox-rtc-user-cursor{background-color:#3598db}.tox-rtc-user-selection--5 .tox-rtc-user-cursor{background-color:#b96ad9}.tox-rtc-user-selection--6 .tox-rtc-user-cursor{background-color:#e67e23}.tox-rtc-user-selection--7 .tox-rtc-user-cursor{background-color:#aaa69d}.tox-rtc-user-selection--8 .tox-rtc-user-cursor{background-color:#f368e0}.tox-rtc-remote-image{background:#eaeaea url("data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D%2236%22%20height%3D%2212%22%20viewBox%3D%220%200%2036%2012%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%0A%20%20%3Ccircle%20cx%3D%226%22%20cy%3D%226%22%20r%3D%223%22%20fill%3D%22rgba(0%2C%200%2C%200%2C%20.2)%22%3E%0A%20%20%20%20%3Canimate%20attributeName%3D%22r%22%20values%3D%223%3B5%3B3%22%20calcMode%3D%22linear%22%20dur%3D%221s%22%20repeatCount%3D%22indefinite%22%20%2F%3E%0A%20%20%3C%2Fcircle%3E%0A%20%20%3Ccircle%20cx%3D%2218%22%20cy%3D%226%22%20r%3D%223%22%20fill%3D%22rgba(0%2C%200%2C%200%2C%20.2)%22%3E%0A%20%20%20%20%3Canimate%20attributeName%3D%22r%22%20values%3D%223%3B5%3B3%22%20calcMode%3D%22linear%22%20begin%3D%22.33s%22%20dur%3D%221s%22%20repeatCount%3D%22indefinite%22%20%2F%3E%0A%20%20%3C%2Fcircle%3E%0A%20%20%3Ccircle%20cx%3D%2230%22%20cy%3D%226%22%20r%3D%223%22%20fill%3D%22rgba(0%2C%200%2C%200%2C%20.2)%22%3E%0A%20%20%20%20%3Canimate%20attributeName%3D%22r%22%20values%3D%223%3B5%3B3%22%20calcMode%3D%22linear%22%20begin%3D%22.66s%22%20dur%3D%221s%22%20repeatCount%3D%22indefinite%22%20%2F%3E%0A%20%20%3C%2Fcircle%3E%0A%3C%2Fsvg%3E%0A") no-repeat center center;border:1px solid #ccc;min-height:240px;min-width:320px}.mce-match-marker{background:#aaa;color:#fff}.mce-match-marker-selected{background:#39f;color:#fff}.mce-match-marker-selected::selection{background:#39f;color:#fff}.mce-content-body audio[data-mce-selected],.mce-content-body details[data-mce-selected],.mce-content-body embed[data-mce-selected],.mce-content-body img[data-mce-selected],.mce-content-body object[data-mce-selected],.mce-content-body table[data-mce-selected],.mce-content-body video[data-mce-selected]{outline:3px solid #b4d7ff}.mce-content-body hr[data-mce-selected]{outline:3px solid #b4d7ff;outline-offset:1px}.mce-content-body [contentEditable=false] [contentEditable=true]:focus{outline:3px solid #b4d7ff}.mce-content-body [contentEditable=false] [contentEditable=true]:hover{outline:3px solid #b4d7ff}.mce-content-body [contentEditable=false][data-mce-selected]{cursor:not-allowed;outline:3px solid #b4d7ff}.mce-content-body.mce-content-readonly [contentEditable=true]:focus,.mce-content-body.mce-content-readonly [contentEditable=true]:hover{outline:0}.mce-content-body [data-mce-selected=inline-boundary]{background-color:#b4d7ff}.mce-content-body .mce-edit-focus{outline:3px solid #b4d7ff}.mce-content-body td[data-mce-selected],.mce-content-body th[data-mce-selected]{position:relative}.mce-content-body td[data-mce-selected]::selection,.mce-content-body th[data-mce-selected]::selection{background:0 0}.mce-content-body td[data-mce-selected] *,.mce-content-body th[data-mce-selected] *{outline:0;-webkit-touch-callout:none;-webkit-user-select:none;user-select:none}.mce-content-body td[data-mce-selected]::after,.mce-content-body th[data-mce-selected]::after{background-color:rgba(180,215,255,.7);border:1px solid rgba(180,215,255,.7);bottom:-1px;content:'';left:-1px;mix-blend-mode:multiply;position:absolute;right:-1px;top:-1px}@media screen and (-ms-high-contrast:active),(-ms-high-contrast:none){.mce-content-body td[data-mce-selected]::after,.mce-content-body th[data-mce-selected]::after{border-color:rgba(0,84,180,.7)}}.mce-content-body img[data-mce-selected]::selection{background:0 0}.ephox-snooker-resizer-bar{background-color:#b4d7ff;opacity:0;-webkit-user-select:none;user-select:none}.ephox-snooker-resizer-cols{cursor:col-resize}.ephox-snooker-resizer-rows{cursor:row-resize}.ephox-snooker-resizer-bar.ephox-snooker-resizer-bar-dragging{opacity:1}.mce-spellchecker-word{background-image:url("data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D'4'%20height%3D'4'%20xmlns%3D'http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg'%3E%3Cpath%20stroke%3D'%23ff0000'%20fill%3D'none'%20stroke-linecap%3D'round'%20stroke-opacity%3D'.75'%20d%3D'M0%203L2%201%204%203'%2F%3E%3C%2Fsvg%3E%0A");background-position:0 calc(100% + 1px);background-repeat:repeat-x;background-size:auto 6px;cursor:default;height:2rem}.mce-spellchecker-grammar{background-image:url("data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D'4'%20height%3D'4'%20xmlns%3D'http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg'%3E%3Cpath%20stroke%3D'%2300A835'%20fill%3D'none'%20stroke-linecap%3D'round'%20d%3D'M0%203L2%201%204%203'%2F%3E%3C%2Fsvg%3E%0A");background-position:0 calc(100% + 1px);background-repeat:repeat-x;background-size:auto 6px;cursor:default}.mce-toc{border:1px solid gray}.mce-toc h2{margin:4px}.mce-toc ul>li{list-style-type:none}[data-mce-block]{display:block}.mce-item-table:not([border]),.mce-item-table:not([border]) caption,.mce-item-table:not([border]) td,.mce-item-table:not([border]) th,.mce-item-table[border="0"],.mce-item-table[border="0"] caption,.mce-item-table[border="0"] td,.mce-item-table[border="0"] th,table[style*="border-width: 0px"],table[style*="border-width: 0px"] caption,table[style*="border-width: 0px"] td,table[style*="border-width: 0px"] th{border:1px dashed #bbb}.mce-visualblocks address,.mce-visualblocks article,.mce-visualblocks aside,.mce-visualblocks blockquote,.mce-visualblocks div:not([data-mce-bogus]),.mce-visualblocks dl,.mce-visualblocks figcaption,.mce-visualblocks figure,.mce-visualblocks h1,.mce-visualblocks h2,.mce-visualblocks h3,.mce-visualblocks h4,.mce-visualblocks h5,.mce-visualblocks h6,.mce-visualblocks hgroup,.mce-visualblocks ol,.mce-visualblocks p,.mce-visualblocks pre,.mce-visualblocks section,.mce-visualblocks ul{background-repeat:no-repeat;border:1px dashed #bbb;margin-left:3px;padding-top:10px}.mce-visualblocks p{background-image:url(data:image/gif;base64,R0lGODlhCQAJAJEAAAAAAP///7u7u////yH5BAEAAAMALAAAAAAJAAkAAAIQnG+CqCN/mlyvsRUpThG6AgA7)}.mce-visualblocks h1{background-image:url(data:image/gif;base64,R0lGODlhDQAKAIABALu7u////yH5BAEAAAEALAAAAAANAAoAAAIXjI8GybGu1JuxHoAfRNRW3TWXyF2YiRUAOw==)}.mce-visualblocks h2{background-image:url(data:image/gif;base64,R0lGODlhDgAKAIABALu7u////yH5BAEAAAEALAAAAAAOAAoAAAIajI8Hybbx4oOuqgTynJd6bGlWg3DkJzoaUAAAOw==)}.mce-visualblocks h3{background-image:url(data:image/gif;base64,R0lGODlhDgAKAIABALu7u////yH5BAEAAAEALAAAAAAOAAoAAAIZjI8Hybbx4oOuqgTynJf2Ln2NOHpQpmhAAQA7)}.mce-visualblocks h4{background-image:url(data:image/gif;base64,R0lGODlhDgAKAIABALu7u////yH5BAEAAAEALAAAAAAOAAoAAAIajI8HybbxInR0zqeAdhtJlXwV1oCll2HaWgAAOw==)}.mce-visualblocks h5{background-image:url(data:image/gif;base64,R0lGODlhDgAKAIABALu7u////yH5BAEAAAEALAAAAAAOAAoAAAIajI8HybbxIoiuwjane4iq5GlW05GgIkIZUAAAOw==)}.mce-visualblocks h6{background-image:url(data:image/gif;base64,R0lGODlhDgAKAIABALu7u////yH5BAEAAAEALAAAAAAOAAoAAAIajI8HybbxIoiuwjan04jep1iZ1XRlAo5bVgAAOw==)}.mce-visualblocks div:not([data-mce-bogus]){background-image:url(data:image/gif;base64,R0lGODlhEgAKAIABALu7u////yH5BAEAAAEALAAAAAASAAoAAAIfjI9poI0cgDywrhuxfbrzDEbQM2Ei5aRjmoySW4pAAQA7)}.mce-visualblocks section{background-image:url(data:image/gif;base64,R0lGODlhKAAKAIABALu7u////yH5BAEAAAEALAAAAAAoAAoAAAI5jI+pywcNY3sBWHdNrplytD2ellDeSVbp+GmWqaDqDMepc8t17Y4vBsK5hDyJMcI6KkuYU+jpjLoKADs=)}.mce-visualblocks article{background-image:url(data:image/gif;base64,R0lGODlhKgAKAIABALu7u////yH5BAEAAAEALAAAAAAqAAoAAAI6jI+pywkNY3wG0GBvrsd2tXGYSGnfiF7ikpXemTpOiJScasYoDJJrjsG9gkCJ0ag6KhmaIe3pjDYBBQA7)}.mce-visualblocks blockquote{background-image:url(data:image/gif;base64,R0lGODlhPgAKAIABALu7u////yH5BAEAAAEALAAAAAA+AAoAAAJPjI+py+0Knpz0xQDyuUhvfoGgIX5iSKZYgq5uNL5q69asZ8s5rrf0yZmpNkJZzFesBTu8TOlDVAabUyatguVhWduud3EyiUk45xhTTgMBBQA7)}.mce-visualblocks address{background-image:url(data:image/gif;base64,R0lGODlhLQAKAIABALu7u////yH5BAEAAAEALAAAAAAtAAoAAAI/jI+pywwNozSP1gDyyZcjb3UaRpXkWaXmZW4OqKLhBmLs+K263DkJK7OJeifh7FicKD9A1/IpGdKkyFpNmCkAADs=)}.mce-visualblocks pre{background-image:url(data:image/gif;base64,R0lGODlhFQAKAIABALu7uwAAACH5BAEAAAEALAAAAAAVAAoAAAIjjI+ZoN0cgDwSmnpz1NCueYERhnibZVKLNnbOq8IvKpJtVQAAOw==)}.mce-visualblocks figure{background-image:url(data:image/gif;base64,R0lGODlhJAAKAIAAALu7u////yH5BAEAAAEALAAAAAAkAAoAAAI0jI+py+2fwAHUSFvD3RlvG4HIp4nX5JFSpnZUJ6LlrM52OE7uSWosBHScgkSZj7dDKnWAAgA7)}.mce-visualblocks figcaption{border:1px dashed #bbb}.mce-visualblocks hgroup{background-image:url(data:image/gif;base64,R0lGODlhJwAKAIABALu7uwAAACH5BAEAAAEALAAAAAAnAAoAAAI3jI+pywYNI3uB0gpsRtt5fFnfNZaVSYJil4Wo03Hv6Z62uOCgiXH1kZIIJ8NiIxRrAZNMZAtQAAA7)}.mce-visualblocks aside{background-image:url(data:image/gif;base64,R0lGODlhHgAKAIABAKqqqv///yH5BAEAAAEALAAAAAAeAAoAAAItjI+pG8APjZOTzgtqy7I3f1yehmQcFY4WKZbqByutmW4aHUd6vfcVbgudgpYCADs=)}.mce-visualblocks ul{background-image:url(data:image/gif;base64,R0lGODlhDQAKAIAAALu7u////yH5BAEAAAEALAAAAAANAAoAAAIXjI8GybGuYnqUVSjvw26DzzXiqIDlVwAAOw==)}.mce-visualblocks ol{background-image:url(data:image/gif;base64,R0lGODlhDQAKAIABALu7u////yH5BAEAAAEALAAAAAANAAoAAAIXjI8GybH6HHt0qourxC6CvzXieHyeWQAAOw==)}.mce-visualblocks dl{background-image:url(data:image/gif;base64,R0lGODlhDQAKAIABALu7u////yH5BAEAAAEALAAAAAANAAoAAAIXjI8GybEOnmOvUoWznTqeuEjNSCqeGRUAOw==)}.mce-visualblocks:not([dir=rtl]) address,.mce-visualblocks:not([dir=rtl]) article,.mce-visualblocks:not([dir=rtl]) aside,.mce-visualblocks:not([dir=rtl]) blockquote,.mce-visualblocks:not([dir=rtl]) div:not([data-mce-bogus]),.mce-visualblocks:not([dir=rtl]) dl,.mce-visualblocks:not([dir=rtl]) figcaption,.mce-visualblocks:not([dir=rtl]) figure,.mce-visualblocks:not([dir=rtl]) h1,.mce-visualblocks:not([dir=rtl]) h2,.mce-visualblocks:not([dir=rtl]) h3,.mce-visualblocks:not([dir=rtl]) h4,.mce-visualblocks:not([dir=rtl]) h5,.mce-visualblocks:not([dir=rtl]) h6,.mce-visualblocks:not([dir=rtl]) hgroup,.mce-visualblocks:not([dir=rtl]) ol,.mce-visualblocks:not([dir=rtl]) p,.mce-visualblocks:not([dir=rtl]) pre,.mce-visualblocks:not([dir=rtl]) section,.mce-visualblocks:not([dir=rtl]) ul{margin-left:3px}.mce-visualblocks[dir=rtl] address,.mce-visualblocks[dir=rtl] article,.mce-visualblocks[dir=rtl] aside,.mce-visualblocks[dir=rtl] blockquote,.mce-visualblocks[dir=rtl] div:not([data-mce-bogus]),.mce-visualblocks[dir=rtl] dl,.mce-visualblocks[dir=rtl] figcaption,.mce-visualblocks[dir=rtl] figure,.mce-visualblocks[dir=rtl] h1,.mce-visualblocks[dir=rtl] h2,.mce-visualblocks[dir=rtl] h3,.mce-visualblocks[dir=rtl] h4,.mce-visualblocks[dir=rtl] h5,.mce-visualblocks[dir=rtl] h6,.mce-visualblocks[dir=rtl] hgroup,.mce-visualblocks[dir=rtl] ol,.mce-visualblocks[dir=rtl] p,.mce-visualblocks[dir=rtl] pre,.mce-visualblocks[dir=rtl] section,.mce-visualblocks[dir=rtl] ul{background-position-x:right;margin-right:3px}.mce-nbsp,.mce-shy{background:#aaa}.mce-shy::after{content:'-'}body{font-family:sans-serif}table{border-collapse:collapse}`);tinymce.Resource.add("content/default/content.css",`body{font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,Oxygen,Ubuntu,Cantarell,'Open Sans','Helvetica Neue',sans-serif;line-height:1.4;margin:1rem}table{border-collapse:collapse}table:not([cellpadding]) td,table:not([cellpadding]) th{padding:.4rem}table[border]:not([border="0"]):not([style*=border-width]) td,table[border]:not([border="0"]):not([style*=border-width]) th{border-width:1px}table[border]:not([border="0"]):not([style*=border-style]) td,table[border]:not([border="0"]):not([style*=border-style]) th{border-style:solid}table[border]:not([border="0"]):not([style*=border-color]) td,table[border]:not([border="0"]):not([style*=border-color]) th{border-color:#ccc}figure{display:table;margin:1rem auto}figure figcaption{color:#999;display:block;margin-top:.25rem;text-align:center}hr{border-color:#ccc;border-style:solid;border-width:1px 0 0 0}code{background-color:#e8e8e8;border-radius:3px;padding:.1rem .2rem}.mce-content-body:not([dir=rtl]) blockquote{border-left:2px solid #ccc;margin-left:1.5rem;padding-left:1rem}.mce-content-body[dir=rtl] blockquote{border-right:2px solid #ccc;margin-right:1.5rem;padding-right:1rem}`);tinymce.addI18n("de",{"#":"#",Accessibility:"Barrierefreiheit",Accordion:"","Accordion body...":"","Accordion summary...":"",Action:"Aktion",Activity:"Aktivitt",Address:"Adresse",Advanced:"Erweitert",Align:"Ausrichtung","Align center":"Zentrieren","Align left":"Linksbndig ausrichten","Align right":"Rechtsbndig ausrichten",Alignment:"Ausrichtung","Alignment {0}":"",All:"Alle","Alternative description":"Alternative Beschreibung","Alternative source":"Alternative Quelle","Alternative source URL":"URL der alternativen Quelle",Anchor:"Anker","Anchor...":"Textmarke",Anchors:"Anker","Animals and Nature":"Tiere und Natur",Arrows:"Pfeile",B:"B","Background color":"Hintergrundfarbe","Background color {0}":"",Black:"Schwarz",Block:"Blocksatz","Block {0}":"",Blockquote:"Blockzitat",Blocks:"Blcke",Blue:"Blau","Blue component":"Blauanteil",Body:"Inhalt",Bold:"Fett",Border:"Rahmen","Border color":"Rahmenfarbe","Border style":"Rahmenstil","Border width":"Rahmenbreite",Bottom:"Unten","Browse files":"","Browse for an image":"Bild...","Browse links":"","Bullet list":"Aufzhlung",Cancel:"Abbrechen",Caption:"Beschriftung",Cell:"Zelle","Cell padding":"Zelleninnenabstand","Cell properties":"Zelleigenschaften","Cell spacing":"Zellenabstand","Cell styles":"Zellstil","Cell type":"Zelltyp",Center:"Zentriert",Characters:"Zeichen","Characters (no spaces)":"Zeichen (ohne Leerzeichen)",Circle:"Kreis",Class:"Klasse","Clear formatting":"Formatierung entfernen",Close:"Schlieen",Code:"Code","Code sample...":"Codebeispiel...","Code view":"Code Ansicht","Color Picker":"Farbwahl","Color swatch":"Farbpalette",Cols:"Spalten",Column:"Spalte","Column clipboard actions":"Spalten-Zwischenablage-Aktionen","Column group":"Spaltengruppe","Column header":"Spaltenkopf","Constrain proportions":"Seitenverhltnis beibehalten",Copy:"Kopieren","Copy column":"Spalte kopieren","Copy row":"Zeile kopieren","Could not find the specified string.":"Die angegebene Zeichenfolge wurde nicht gefunden.","Could not load emojis":"Emojis konnten nicht geladen werden",Count:"Anzahl",Currency:"Whrung","Current window":"Aktuelles Fenster","Custom color":"Benutzerdefinierte Farbe","Custom...":"Benutzerdefiniert...",Cut:"Ausschneiden","Cut column":"Spalte ausschneiden","Cut row":"Zeile ausschneiden","Dark Blue":"Dunkelblau","Dark Gray":"Dunkelgrau","Dark Green":"Dunkelgrn","Dark Orange":"Dunkelorange","Dark Purple":"Dunkellila","Dark Red":"Dunkelrot","Dark Turquoise":"Dunkeltrkis","Dark Yellow":"Dunkelgelb",Dashed:"Gestrichelt","Date/time":"Datum/Uhrzeit","Decrease indent":"Einzug verkleinern",Default:"Standard","Delete accordion":"","Delete column":"Spalte lschen","Delete row":"Zeile lschen","Delete table":"Tabelle lschen",Dimensions:"Abmessungen",Disc:"Scheibe",Div:"Div",Document:"Dokument",Dotted:"Gepunktet",Double:"Doppelt","Drop an image here":"Bild hier ablegen","Dropped file type is not supported":"Hereingezogener Dateityp wird nicht untersttzt",Edit:"Bearbeiten",Embed:"Einbettung",Emojis:"Emojis","Emojis...":"Emojis...",Error:"Fehler","Error: Form submit field collision.":"Fehler: Kollision der Formularbesttigungsfelder.","Error: No form element found.":"Fehler: Kein Formularelement gefunden.","Extended Latin":"Erweitertes Latein","Failed to initialize plugin: {0}":"Plugin konnte nicht initialisiert werden: {0}","Failed to load plugin url: {0}":"Plugin-URL konnte nicht geladen werden: {0}","Failed to load plugin: {0} from url {1}":"Plugin konnte nicht geladen werden: {0} von URL {1}","Failed to upload image: {0}":"Bild konnte nicht hochgeladen werden: {0}",File:"Datei",Find:"Suchen","Find (if searchreplace plugin activated)":"Suchen (wenn Suchen/Ersetzen-Plugin aktiviert ist)","Find and Replace":"Suchen und Ersetzen","Find and replace...":"Suchen und ersetzen...","Find in selection":"In Auswahl suchen","Find whole words only":"Nur ganze Wrter suchen",Flags:"Flaggen","Focus to contextual toolbar":"Fokus auf kontextbezogene Symbolleiste","Focus to element path":"Fokus auf Elementpfad","Focus to menubar":"Fokus auf Menleiste","Focus to toolbar":"Fokus auf Symbolleiste",Font:"Schriftart","Font size {0}":"","Font sizes":"Schriftgren","Font {0}":"",Fonts:"Schriftarten","Food and Drink":"Essen und Trinken",Footer:"Fuzeile",Format:"Format","Format {0}":"",Formats:"Formate",Fullscreen:"Vollbild",G:"G",General:"Allgemein",Gray:"Grau",Green:"Grn","Green component":"Grnanteil",Groove:"Gekantet","Handy Shortcuts":"Praktische Tastenkombinationen",Header:"Kopfzeile","Header cell":"Kopfzelle","Heading 1":"berschrift 1","Heading 2":"berschrift 2","Heading 3":"berschrift 3","Heading 4":"berschrift 4","Heading 5":"berschrift 5","Heading 6":"berschrift 6",Headings:"berschriften",Height:"Hhe",Help:"Hilfe","Hex color code":"Hexadezimal-Farbwert",Hidden:"Unsichtbar","Horizontal align":"Horizontal ausrichten","Horizontal line":"Horizontale Linie","Horizontal space":"Horizontaler Raum",ID:"ID","ID should start with a letter, followed only by letters, numbers, dashes, dots, colons or underscores.":"Die ID muss mit einem Buchstaben beginnen gefolgt von Buchstaben, Zahlen, Bindestrichen, Punkten, Doppelpunkten oder Unterstrichen.","Image is decorative":"Bild ist dekorativ","Image list":"Bildliste","Image title":"Bildtitel","Image...":"Bild...","ImageProxy HTTP error: Could not find Image Proxy":"Image Proxy HTTP Fehler: Kann Image Proxy nicht finden","ImageProxy HTTP error: Incorrect Image Proxy URL":"Image Proxy HTTP Fehler: Falsche Image Proxy URL","ImageProxy HTTP error: Rejected request":"Image Proxy HTTP Fehler: Abgewiesene Anfrage","ImageProxy HTTP error: Unknown ImageProxy error":"Image Proxy HTTP Fehler: Unbekannter Image Proxy Fehler","Increase indent":"Einzug vergrern",Inline:"Zeichenformate",Insert:"Einfgen","Insert Template":"Vorlage einfgen","Insert accordion":"","Insert column after":"Neue Spalte danach einfgen","Insert column before":"Neue Spalte davor einfgen","Insert date/time":"Datum/Uhrzeit einfgen","Insert image":"Bild einfgen","Insert link (if link plugin activated)":"Link einfgen (wenn Link-Plugin aktiviert ist)","Insert row after":"Neue Zeile danach einfgen","Insert row before":"Neue Zeile davor einfgen","Insert table":"Tabelle einfgen","Insert template...":"Vorlage einfgen...","Insert video":"Video einfgen","Insert/Edit code sample":"Codebeispiel einfgen/bearbeiten","Insert/edit image":"Bild einfgen/bearbeiten","Insert/edit link":"Link einfgen/bearbeiten","Insert/edit media":"Medien einfgen/bearbeiten","Insert/edit video":"Video einfgen/bearbeiten",Inset:"Eingelassen","Invalid hex color code: {0}":"Ungltiger Hexadezimal-Farbwert: {0}","Invalid input":"Ungltige Eingabe",Italic:"Kursiv",Justify:"Blocksatz","Keyboard Navigation":"Tastaturnavigation",Language:"Sprache","Learn more...":"Erfahren Sie mehr dazu...",Left:"Links","Left to right":"Von links nach rechts","Light Blue":"Hellblau","Light Gray":"Hellgrau","Light Green":"Hellgrn","Light Purple":"Helllila","Light Red":"Hellrot","Light Yellow":"Hellgelb","Line height":"Liniendicke","Link list":"Linkliste","Link...":"Link...","List Properties":"Liste Eigenschaften","List properties...":"Liste Eigenschaften","Loading emojis...":"Lade Emojis...","Loading...":"Wird geladen...","Lower Alpha":"Lateinisches Alphabet in Kleinbuchstaben","Lower Greek":"Griechische Kleinbuchstaben","Lower Roman":"Kleiner rmischer Buchstabe","Match case":"Gro-/Kleinschreibung beachten",Mathematical:"Mathematisch","Media poster (Image URL)":"Medienposter (Bild-URL)","Media...":"Medien...","Medium Blue":"Mittleres Blau","Medium Gray":"Mittelgrau","Medium Purple":"Mittelviolett","Merge cells":"Zellen verbinden",Middle:"Mitte","Midnight Blue":"Mitternachtsblau","More...":"Mehr...",Name:"Name","Navy Blue":"Marineblau","New document":"Neues Dokument","New window":"Neues Fenster",Next:"Nchste",No:"Nein","No alignment":"Keine Ausrichtung","No color":"Keine Farbe","Nonbreaking space":"Geschtztes Leerzeichen",None:"Keine","Numbered list":"Nummerierte Liste",OR:"ODER",Objects:"Objekte",Ok:"Ok","Open help dialog":"Hilfe-Dialog ffnen","Open link":"Link ffnen","Open link in...":"Link ffnen in...","Open popup menu for split buttons":"ffne Popup Menge um Buttons zu trennen",Orange:"Orange",Outset:"Hervorstehend","Page break":"Seitenumbruch",Paragraph:"Absatz",Paste:"Einfgen","Paste as text":"Als Text einfgen","Paste column after":"Spalte danach einfgen","Paste column before":"Spalte davor einfgen","Paste is now in plain text mode. Contents will now be pasted as plain text until you toggle this option off.":"Einfgen ist nun im unformatierten Textmodus. Inhalte werden ab jetzt als unformatierter Text eingefgt, bis Sie diese Einstellung wieder deaktivieren.","Paste or type a link":"Link einfgen oder eingeben","Paste row after":"Zeile danach einfgen","Paste row before":"Zeile davor einfgen","Paste your embed code below:":"Fgen Sie Ihren Einbettungscode unten ein:",People:"Menschen",Plugins:"Plugins","Plugins installed ({0}):":"Installierte Plugins ({0}):","Powered by {0}":"Betrieben von {0}",Pre:"Pre",Preferences:"Einstellungen",Preformatted:"Vorformatiert","Premium plugins:":"Premium-Plugins:","Press the Up and Down arrow keys to resize the editor.":"","Press the arrow keys to resize the editor.":"","Press {0} for help":"",Preview:"Vorschau",Previous:"Vorherige",Print:"Drucken","Print...":"Drucken...",Purple:"Violett",Quotations:"Anfhrungszeichen",R:"R","Range 0 to 255":"Spanne 0 bis 255",Red:"Rot","Red component":"Rotanteil",Redo:"Wiederholen",Remove:"Entfernen","Remove color":"Farbauswahl aufheben","Remove link":"Link entfernen",Replace:"Ersetzen","Replace all":"Alle ersetzen","Replace with":"Ersetzen durch",Resize:"Skalieren","Restore last draft":"Letzten Entwurf wiederherstellen","Reveal or hide additional toolbar items":"","Rich Text Area":"Rich-Text-Area","Rich Text Area. Press ALT-0 for help.":"Rich-Text-Bereich. Drcken Sie Alt+0 fr Hilfe.","Rich Text Area. Press ALT-F9 for menu. Press ALT-F10 for toolbar. Press ALT-0 for help":"Rich-Text-Bereich. Drcken Sie Alt+F9 fr das Men. Drcken Sie Alt+F10 fr die Symbolleiste. Drcken Sie Alt+0 fr Hilfe.",Ridge:"Eingeritzt",Right:"Rechts","Right to left":"Von rechts nach links",Row:"Zeile","Row clipboard actions":"Zeilen-Zwischenablage-Aktionen","Row group":"Zeilengruppe","Row header":"Zeilenkopf","Row properties":"Zeileneigenschaften","Row type":"Zeilentyp",Rows:"Zeilen",Save:"Speichern","Save (if save plugin activated)":"Speichern (wenn Save-Plugin aktiviert ist)",Scope:"Bereich",Search:"Suchen","Select all":"Alles auswhlen","Select...":"Auswahl...",Selection:"Auswahl",Shortcut:"Tastenkombination","Show blocks":"Blcke anzeigen","Show caption":"Beschriftung anzeigen","Show invisible characters":"Unsichtbare Zeichen anzeigen",Size:"Schriftgre",Solid:"Durchgezogen",Source:"Quelle","Source code":"Quellcode","Special Character":"Sonderzeichen","Special character...":"Sonderzeichen...","Split cell":"Zelle aufteilen",Square:"Rechteck","Start list at number":"Beginne Liste mit Nummer",Strikethrough:"Durchgestrichen",Style:"Formatvorlage",Subscript:"Tiefgestellt",Superscript:"Hochgestellt","Switch to or from fullscreen mode":"Vollbildmodus umschalten",Symbols:"Symbole","System Font":"Betriebssystemschriftart",Table:"Tabelle","Table caption":"Tabellenbeschriftung","Table properties":"Tabelleneigenschaften","Table styles":"Tabellenstil",Template:"Vorlage",Templates:"Vorlagen",Text:"Text","Text color":"Textfarbe","Text color {0}":"","Text to display":"Anzuzeigender Text","The URL you entered seems to be an email address. Do you want to add the required mailto: prefix?":"Diese URL scheint eine E-Mail-Adresse zu sein. Mchten Sie das dazu bentigte mailto: voranstellen?","The URL you entered seems to be an external link. Do you want to add the required http:// prefix?":"Diese URL scheint ein externer Link zu sein. Mchten Sie das dazu bentigte http:// voranstellen?","The URL you entered seems to be an external link. Do you want to add the required https:// prefix?":"Die eingegebene URL scheint ein externer Link zu sein. Soll das fehlende https:// davor ergnzt werden?",Title:"Titel","To open the popup, press Shift+Enter":"Drcken Sie Umschalt+Eingabe, um das Popup-Fenster zu ffnen.","Toggle accordion":"",Tools:"Werkzeuge",Top:"Oben","Travel and Places":"Reisen und Orte",Turquoise:"Trkis",Underline:"Unterstrichen",Undo:"Rckgngig machen",Upload:"Hochladen","Uploading image":"Bild wird hochgeladen","Upper Alpha":"Lateinisches Alphabet in Grobuchstaben","Upper Roman":"Groer rmischer Buchstabe",Url:"URL","User Defined":"Benutzerdefiniert",Valid:"Gltig",Version:"Version","Vertical align":"Vertikal ausrichten","Vertical space":"Vertikaler Raum",View:"Ansicht","Visual aids":"Visuelle Hilfen",Warn:"Warnung",White:"Wei",Width:"Breite","Word count":"Anzahl der Wrter",Words:"Wrter","Words: {0}":"Wortzahl: {0}",Yellow:"Gelb",Yes:"Ja","You are using {0}":"Sie verwenden {0}","You have unsaved changes are you sure you want to navigate away?":"Die nderungen wurden noch nicht gespeichert. Sind Sie sicher, dass Sie diese Seite verlassen wollen?","Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.":"Ihr Browser untersttzt leider keinen direkten Zugriff auf die Zwischenablage. Bitte benutzen Sie die Tastenkombinationen Strg+X/C/V.",alignment:"Ausrichtung","austral sign":"Australzeichen","cedi sign":"Cedizeichen","colon sign":"Doppelpunkt","cruzeiro sign":"Cruzeirozeichen","currency sign":"Whrungssymbol","dollar sign":"Dollarzeichen","dong sign":"Dongzeichen","drachma sign":"Drachmezeichen","euro-currency sign":"Eurozeichen",example:"Beispiel",formatting:"Formatierung","french franc sign":"Franczeichen","german penny symbol":"Pfennigzeichen","guarani sign":"Guaranizeichen",history:"Historie","hryvnia sign":"Hrywnjazeichen",indentation:"Einrckungen","indian rupee sign":"Indisches Rupiezeichen","kip sign":"Kipzeichen","lira sign":"Lirezeichen","livre tournois sign":"Livrezeichen","manat sign":"Manatzeichen","mill sign":"Millzeichen","naira sign":"Nairazeichen","new sheqel sign":"Schekelzeichen","nordic mark sign":"Zeichen nordische Mark","peseta sign":"Pesetazeichen","peso sign":"Pesozeichen","ruble sign":"Rubelzeichen","rupee sign":"Rupiezeichen","spesmilo sign":"Spesmilozeichen",styles:"Stile","tenge sign":"Tengezeichen","tugrik sign":"Tugrikzeichen","turkish lira sign":"Trkisches Lirazeichen","won sign":"Wonzeichen","yen character":"Yenzeichen","yen/yuan character variant one":"Yen-/Yuanzeichen Variante 1","yuan character":"Yuanzeichen","yuan character, in hong kong and taiwan":"Yuanzeichen in Hongkong und Taiwan","{0} characters":"{0}Zeichen","{0} columns, {1} rows":"","{0} words":"{0} Wrter"});var NG={},IG={},PG;function gye(){return PG||(PG=1,function(){var n=tinymce.util.Tools.resolve("tinymce.PluginManager");const r=(M,Y,ce)=>{var He;return ce(M,Y.prototype)?!0:((He=M.constructor)===null||He===void 0?void 0:He.name)===Y.name},l=M=>{const Y=typeof M;return M===null?"null":Y==="object"&&Array.isArray(M)?"array":Y==="object"&&r(M,String,(ce,He)=>He.isPrototypeOf(ce))?"string":Y},d=M=>Y=>l(Y)===M,h=M=>Y=>typeof Y===M,g=d("string"),y=d("object"),w=d("array"),A=h("boolean"),R=M=>M==null,O=M=>!R(M),N=h("function"),V=h("number"),z=()=>{},W=(M,Y)=>ce=>M(Y(ce)),X=M=>()=>M,oe=(M,Y)=>M===Y;function j(M,...Y){return(...ce)=>{const He=Y.concat(ce);return M.apply(null,He)}}const fe=M=>Y=>!M(Y),le=X(!1);class q{constructor(Y,ce){this.tag=Y,this.value=ce}static some(Y){return new q(!0,Y)}static none(){return q.singletonNone}fold(Y,ce){return this.tag?ce(this.value):Y()}isSome(){return this.tag}isNone(){return!this.tag}map(Y){return this.tag?q.some(Y(this.value)):q.none()}bind(Y){return this.tag?Y(this.value):q.none()}exists(Y){return this.tag&&Y(this.value)}forall(Y){return!this.tag||Y(this.value)}filter(Y){return!this.tag||Y(this.value)?this:q.none()}getOr(Y){return this.tag?this.value:Y}or(Y){return this.tag?this:Y}getOrThunk(Y){return this.tag?this.value:Y()}orThunk(Y){return this.tag?this:Y()}getOrDie(Y){if(this.tag)return this.value;throw new Error(Y??"Called getOrDie on None")}static from(Y){return O(Y)?q.some(Y):q.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(Y){this.tag&&Y(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}q.singletonNone=new q(!1);const de=Array.prototype.slice,ne=Array.prototype.indexOf,be=Array.prototype.push,Fe=(M,Y)=>ne.call(M,Y),Ze=(M,Y)=>Fe(M,Y)>-1,rt=(M,Y)=>{for(let ce=0,He=M.length;ce<He;ce++){const Je=M[ce];if(Y(Je,ce))return!0}return!1},Oe=(M,Y)=>{const ce=M.length,He=new Array(ce);for(let Je=0;Je<ce;Je++){const $t=M[Je];He[Je]=Y($t,Je)}return He},Ve=(M,Y)=>{for(let ce=0,He=M.length;ce<He;ce++){const Je=M[ce];Y(Je,ce)}},P=(M,Y)=>{const ce=[];for(let He=0,Je=M.length;He<Je;He++){const $t=M[He];Y($t,He)&&ce.push($t)}return ce},wt=(M,Y)=>{if(M.length===0)return[];{let ce=Y(M[0]);const He=[];let Je=[];for(let $t=0,oo=M.length;$t<oo;$t++){const Eo=M[$t],bo=Y(Eo);bo!==ce&&(He.push(Je),Je=[]),ce=bo,Je.push(Eo)}return Je.length!==0&&He.push(Je),He}},Nt=(M,Y,ce)=>(Ve(M,(He,Je)=>{ce=Y(ce,He,Je)}),ce),Kt=(M,Y,ce)=>{for(let He=0,Je=M.length;He<Je;He++){const $t=M[He];if(Y($t,He))return q.some($t);if(ce($t,He))break}return q.none()},rn=(M,Y)=>Kt(M,Y,le),ct=M=>{const Y=[];for(let ce=0,He=M.length;ce<He;++ce){if(!w(M[ce]))throw new Error("Arr.flatten item "+ce+" was not an array, input: "+M);be.apply(Y,M[ce])}return Y},Tn=(M,Y)=>ct(Oe(M,Y)),Tt=M=>{const Y=de.call(M,0);return Y.reverse(),Y},ot=(M,Y)=>Y>=0&&Y<M.length?q.some(M[Y]):q.none(),$e=M=>ot(M,0),ht=M=>ot(M,M.length-1),Dn=(M,Y)=>{const ce=[],He=N(Y)?Je=>rt(ce,$t=>Y($t,Je)):Je=>Ze(ce,Je);for(let Je=0,$t=M.length;Je<$t;Je++){const oo=M[Je];He(oo)||ce.push(oo)}return ce},mn=(M,Y,ce=oe)=>M.exists(He=>ce(He,Y)),Fn=(M,Y,ce=oe)=>Gt(M,Y,ce).getOr(M.isNone()&&Y.isNone()),Gt=(M,Y,ce)=>M.isSome()&&Y.isSome()?q.some(ce(M.getOrDie(),Y.getOrDie())):q.none(),te=8,So=11,tn=1,Cn=3,qe=(M,Y)=>{const He=(Y||document).createElement("div");if(He.innerHTML=M,!He.hasChildNodes()||He.childNodes.length>1){const Je="HTML does not have a single root node";throw console.error(Je,M),new Error(Je)}return Re(He.childNodes[0])},st=(M,Y)=>{const He=(Y||document).createElement(M);return Re(He)},xe=(M,Y)=>{const He=(Y||document).createTextNode(M);return Re(He)},Re=M=>{if(M==null)throw new Error("Node cannot be null or undefined");return{dom:M}},ye={fromHtml:qe,fromTag:st,fromText:xe,fromDom:Re,fromPoint:(M,Y,ce)=>q.from(M.dom.elementFromPoint(Y,ce)).map(Re)},_e=(M,Y)=>{const ce=M.dom;if(ce.nodeType!==tn)return!1;{const He=ce;if(He.matches!==void 0)return He.matches(Y);if(He.msMatchesSelector!==void 0)return He.msMatchesSelector(Y);if(He.webkitMatchesSelector!==void 0)return He.webkitMatchesSelector(Y);if(He.mozMatchesSelector!==void 0)return He.mozMatchesSelector(Y);throw new Error("Browser lacks native selectors")}},Be=(M,Y)=>M.dom===Y.dom,Ye=(M,Y)=>{const ce=M.dom,He=Y.dom;return ce===He?!1:ce.contains(He)},pt=_e,fn=typeof window<"u"?window:Function("return this;")(),qt=(M,Y)=>{let ce=Y??fn;for(let He=0;He<M.length&&ce!==void 0&&ce!==null;++He)ce=ce[M[He]];return ce},Nn=(M,Y)=>{const ce=M.split(".");return qt(ce,Y)},no=(M,Y)=>Nn(M,Y),so=(M,Y)=>{const ce=no(M,Y);if(ce==null)throw new Error(M+" not available on this browser");return ce},Wo=Object.getPrototypeOf,Po=M=>so("HTMLElement",M),or=M=>{const Y=Nn("ownerDocument.defaultView",M);return y(M)&&(Po(Y).prototype.isPrototypeOf(M)||/^HTML\w*Element$/.test(Wo(M).constructor.name))},ps=M=>M.dom.nodeName.toLowerCase(),Qr=M=>M.dom.nodeType,ms=M=>Y=>Qr(Y)===M,Qa=M=>Qr(M)===te||ps(M)==="#comment",on=M=>ro(M)&&or(M.dom),ro=ms(tn),Do=ms(Cn),ia=ms(So),tl=M=>Y=>ro(Y)&&ps(Y)===M,Yt=M=>q.from(M.dom.parentNode).map(ye.fromDom),ba=M=>q.from(M.dom.parentElement).map(ye.fromDom),Vo=M=>q.from(M.dom.nextSibling).map(ye.fromDom),Bl=M=>Oe(M.dom.childNodes,ye.fromDom),Vs=(M,Y)=>{const ce=M.dom.childNodes;return q.from(ce[Y]).map(ye.fromDom)},ea=M=>Vs(M,0),vc=M=>Vs(M,M.dom.childNodes.length-1),yc=M=>ia(M)&&O(M.dom.host),xc=M=>ye.fromDom(M.dom.getRootNode()),pl=M=>{const Y=xc(M);return yc(Y)?q.some(Y):q.none()},wc=M=>ye.fromDom(M.dom.host),Hs=M=>{const Y=Do(M)?M.dom.parentNode:M.dom;if(Y==null||Y.ownerDocument===null)return!1;const ce=Y.ownerDocument;return pl(ye.fromDom(Y)).fold(()=>ce.body.contains(Y),W(Hs,wc))};var ho=(M,Y,ce,He,Je)=>M(ce,He)?q.some(ce):N(Je)&&Je(ce)?q.none():Y(ce,He,Je);const nl=(M,Y,ce)=>{let He=M.dom;const Je=N(ce)?ce:le;for(;He.parentNode;){He=He.parentNode;const $t=ye.fromDom(He);if(Y($t))return q.some($t);if(Je($t))break}return q.none()},Ma=(M,Y,ce)=>ho((Je,$t)=>$t(Je),nl,M,Y,ce),vu=(M,Y,ce)=>nl(M,He=>_e(He,Y),ce),xn=(M,Y,ce)=>ho((Je,$t)=>_e(Je,$t),vu,M,Y,ce),Yl=M=>xn(M,"[contenteditable]"),Of=(M,Y=!1)=>Hs(M)?M.dom.isContentEditable:Yl(M).fold(X(Y),ce=>wr(ce)==="true"),wr=M=>M.dom.contentEditable,Rf=(M,Y)=>{Yt(M).each(He=>{He.dom.insertBefore(Y.dom,M.dom)})},ol=(M,Y)=>{Vo(M).fold(()=>{Yt(M).each(Je=>{bl(Je,Y)})},He=>{Rf(He,Y)})},Ml=(M,Y)=>{ea(M).fold(()=>{bl(M,Y)},He=>{M.dom.insertBefore(Y.dom,He.dom)})},bl=(M,Y)=>{M.dom.appendChild(Y.dom)},ar=(M,Y)=>{Ve(Y,ce=>{Rf(M,ce)})},ei=(M,Y)=>{Ve(Y,ce=>{bl(M,ce)})},sl=M=>{M.dom.textContent="",Ve(Bl(M),Y=>{Df(Y)})},Df=M=>{const Y=M.dom;Y.parentNode!==null&&Y.parentNode.removeChild(Y)};var Wc=tinymce.util.Tools.resolve("tinymce.dom.RangeUtils"),vl=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker"),Od=tinymce.util.Tools.resolve("tinymce.util.VK");const yu=M=>Oe(M,ye.fromDom),os=Object.keys,$r=(M,Y)=>{const ce=os(M);for(let He=0,Je=ce.length;He<Je;He++){const $t=ce[He],oo=M[$t];Y(oo,$t)}},la=M=>(Y,ce)=>{M[ce]=Y},Nf=(M,Y,ce,He)=>{$r(M,(Je,$t)=>{(Y(Je,$t)?ce:He)(Je,$t)})},rl=(M,Y)=>{const ce={};return Nf(M,Y,la(ce),z),ce},jc=(M,Y,ce)=>{if(g(ce)||A(ce)||V(ce))M.setAttribute(Y,ce+"");else throw console.error("Invalid call to Attribute.set. Key ",Y,":: Value ",ce,":: Element ",M),new Error("Attribute value was not simple")},Ea=(M,Y)=>{const ce=M.dom;$r(Y,(He,Je)=>{jc(ce,Je,He)})},pi=M=>Nt(M.dom.attributes,(Y,ce)=>(Y[ce.name]=ce.value,Y),{}),bi=(M,Y)=>ye.fromDom(M.dom.cloneNode(Y)),Ns=M=>bi(M,!0),hr=(M,Y)=>{const ce=ye.fromTag(Y),He=pi(M);return Ea(ce,He),ce},Pe=(M,Y)=>{const ce=hr(M,Y);ol(M,ce);const He=Bl(M);return ei(ce,He),Df(M),ce};var ut=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),We=tinymce.util.Tools.resolve("tinymce.util.Tools");const yt=M=>Y=>O(Y)&&Y.nodeName.toLowerCase()===M,bt=M=>Y=>O(Y)&&M.test(Y.nodeName),it=M=>O(M)&&M.nodeType===3,Qt=M=>O(M)&&M.nodeType===1,gn=bt(/^(OL|UL|DL)$/),yn=bt(/^(OL|UL)$/),_n=yt("ol"),wn=bt(/^(LI|DT|DD)$/),_o=bt(/^(DT|DD)$/),bn=bt(/^(TH|TD)$/),Fs=yt("br"),Ko=M=>{var Y;return((Y=M.parentNode)===null||Y===void 0?void 0:Y.firstChild)===M},is=(M,Y)=>O(Y)&&Y.nodeName in M.schema.getTextBlockElements(),Vr=(M,Y)=>O(M)&&M.nodeName in Y,Bo=(M,Y)=>O(Y)&&Y.nodeName in M.schema.getVoidElements(),Xl=(M,Y)=>Fs(Y)?M.isBlock(Y.nextSibling)&&!Fs(Y.previousSibling):!1,vi=(M,Y,ce)=>{const He=M.isEmpty(Y);return ce&&M.select("span[data-mce-type=bookmark]",Y).length>0?!1:He},po=(M,Y)=>M.isChildOf(Y,M.getRoot()),yl=M=>Y=>Y.options.get(M),xl=M=>{const Y=M.options.register;Y("lists_indent_on_tab",{processor:"boolean",default:!0})},Sr=yl("lists_indent_on_tab"),Rd=yl("forced_root_block"),jr=yl("forced_root_block_attrs"),If=(M,Y,ce={})=>{const He=M.dom,Je=M.schema.getBlockElements(),$t=He.createFragment(),oo=Rd(M),Eo=jr(M);let bo,Un,_s=!1;for(Un=He.create(oo,{...Eo,...ce.style?{style:ce.style}:{}}),Vr(Y.firstChild,Je)||$t.appendChild(Un);bo=Y.firstChild;){const Kr=bo.nodeName;!_s&&(Kr!=="SPAN"||bo.getAttribute("data-mce-type")!=="bookmark")&&(_s=!0),Vr(bo,Je)?($t.appendChild(bo),Un=null):(Un||(Un=He.create(oo,Eo),$t.appendChild(Un)),Un.appendChild(bo))}return!_s&&Un&&Un.appendChild(He.create("br",{"data-mce-bogus":"1"})),$t},wl=ut.DOM,Is=(M,Y,ce)=>{const He=Un=>{const _s=Un.parentNode;_s&&We.each(Je,Kr=>{_s.insertBefore(Kr,ce.parentNode)}),wl.remove(Un)},Je=wl.select('span[data-mce-type="bookmark"]',Y),$t=If(M,ce),oo=wl.createRng();oo.setStartAfter(ce),oo.setEndAfter(Y);const Eo=oo.extractContents();for(let Un=Eo.firstChild;Un;Un=Un.firstChild)if(Un.nodeName==="LI"&&M.dom.isEmpty(Un)){wl.remove(Un);break}M.dom.isEmpty(Eo)||wl.insertAfter(Eo,Y),wl.insertAfter($t,Y);const bo=ce.parentElement;bo&&vi(M.dom,bo)&&He(bo),wl.remove(ce),vi(M.dom,Y)&&wl.remove(Y)},Yu=tl("dd"),Cm=tl("dt"),Sm=(M,Y)=>{Yu(Y)?Pe(Y,"dt"):Cm(Y)&&ba(Y).each(ce=>Is(M,ce.dom,Y.dom))},_r=M=>{Cm(M)&&Pe(M,"dd")},al=(M,Y,ce)=>{Y==="Indent"?Ve(ce,_r):Ve(ce,He=>Sm(M,He))},Cl=(M,Y)=>{if(it(M))return{container:M,offset:Y};const ce=Wc.getNode(M,Y);return it(ce)?{container:ce,offset:Y>=M.childNodes.length?ce.data.length:0}:ce.previousSibling&&it(ce.previousSibling)?{container:ce.previousSibling,offset:ce.previousSibling.data.length}:ce.nextSibling&&it(ce.nextSibling)?{container:ce.nextSibling,offset:0}:{container:M,offset:Y}},Qs=M=>{const Y=M.cloneRange(),ce=Cl(M.startContainer,M.startOffset);Y.setStart(ce.container,ce.offset);const He=Cl(M.endContainer,M.endOffset);return Y.setEnd(He.container,He.offset),Y},Dd=["OL","UL","DL"],Sl=Dd.join(","),ti=(M,Y)=>{const ce=Y||M.selection.getStart(!0);return M.dom.getParent(ce,Sl,Xu(M,ce))},_m=(M,Y)=>O(M)&&Y.length===1&&Y[0]===M,La=M=>P(M.querySelectorAll(Sl),gn),Bi=M=>{const Y=ti(M),ce=M.selection.getSelectedBlocks();return _m(Y,ce)?La(Y):P(ce,He=>gn(He)&&Y!==He)},ni=(M,Y)=>{const ce=We.map(Y,He=>{const Je=M.dom.getParent(He,"li,dd,dt",Xu(M,He));return Je||He});return Dn(ce)},il=M=>{const Y=M.selection.getSelectedBlocks();return P(ni(M,Y),wn)},vg=M=>P(il(M),_o),qo=(M,Y)=>{const ce=M.dom.getParents(Y,"TD,TH");return ce.length>0?ce[0]:M.getBody()},Zc=(M,Y)=>!gn(Y)&&!wn(Y)&&rt(Dd,ce=>M.isValidChild(Y.nodeName,ce)),Xu=(M,Y)=>{const ce=M.dom.getParents(Y,M.dom.isBlock),He=$t=>$t.nodeName.toLowerCase()!==Rd(M);return rn(ce,$t=>He($t)&&Zc(M.schema,$t)).getOr(M.getBody())},xu=M=>Yt(M).exists(Y=>wn(Y.dom)&&ea(Y).exists(ce=>!gn(ce.dom))&&vc(Y).exists(ce=>!gn(ce.dom))),Rh=(M,Y)=>{const ce=M.dom.getParents(Y,"ol,ul",Xu(M,Y));return ht(ce)},lv=M=>{const Y=Rh(M,M.selection.getStart()),ce=P(M.selection.getSelectedBlocks(),yn);return Y.toArray().concat(ce)},Ll=M=>{const Y=M.selection.getStart();return M.dom.getParents(Y,"ol,ul",Xu(M,Y))},Dh=M=>{const Y=lv(M),ce=Ll(M);return rn(ce,He=>xu(ye.fromDom(He))).fold(()=>cv(M,Y),He=>[He])},cv=(M,Y)=>{const ce=Oe(Y,He=>Rh(M,He).getOr(He));return Dn(ce)},yg=M=>/\btox\-/.test(M.className),jp=(M,Y)=>Kt(M,gn,bn).exists(ce=>ce.nodeName===Y&&!yg(ce)),an=(M,Y)=>Y!==null&&!M.dom.isEditable(Y),Nd=M=>{const Y=ti(M);return an(M,Y)},Id=(M,Y)=>{const ce=M.dom.getParent(Y,"ol,ul,dl");return an(M,ce)},xg=(M,Y)=>{const ce=M.selection.getNode();return Y({parents:M.dom.getParents(ce),element:ce}),M.on("NodeChange",Y),()=>M.off("NodeChange",Y)},oi=(M,Y)=>{const He=document.createDocumentFragment();return Ve(M,Je=>{He.appendChild(Je.dom)}),ye.fromDom(He)},Pd=(M,Y,ce)=>M.dispatch("ListMutation",{action:Y,element:ce}),uv=(M=>Y=>Y.replace(M,""))(/^\s+|\s+$/g),Zp=M=>M.length>0,Kp=M=>!Zp(M),m1=M=>M.style!==void 0&&N(M.style.getPropertyValue),dv=(M,Y,ce)=>{if(!g(ce))throw console.error("Invalid call to CSS.set. Property ",Y,":: Value ",ce,":: Element ",M),new Error("CSS value must be a string: "+ce);m1(M)&&M.style.setProperty(Y,ce)},g1=(M,Y,ce)=>{const He=M.dom;dv(He,Y,ce)},wg=M=>pt(M,"OL,UL"),Kc=M=>pt(M,"LI"),Ju=M=>ea(M).exists(wg),qc=M=>vc(M).exists(wg),Fa=M=>"listAttributes"in M,_l=M=>"isComment"in M,Bd=M=>"isFragment"in M,ls=M=>M.depth>0,Cc=M=>M.isSelected,km=M=>{const Y=Bl(M),ce=qc(M)?Y.slice(0,-1):Y;return Oe(ce,Ns)},Em=(M,Y,ce)=>Yt(M).filter(ro).map(He=>({depth:Y,dirty:!1,isSelected:ce,content:km(M),itemAttributes:pi(M),listAttributes:pi(He),listType:ps(He),isInPreviousLi:!1})),ll=(M,Y)=>{bl(M.item,Y.list)},Zr=M=>{for(let Y=1;Y<M.length;Y++)ll(M[Y-1],M[Y])},pr=(M,Y)=>{Gt(ht(M),$e(Y),ll)},Za=(M,Y)=>{const ce={list:ye.fromTag(Y,M),item:ye.fromTag("li",M)};return bl(ce.list,ce.item),ce},ir=(M,Y,ce)=>{const He=[];for(let Je=0;Je<ce;Je++)He.push(Za(M,Fa(Y)?Y.listType:Y.parentListType));return He},Md=(M,Y)=>{for(let ce=0;ce<M.length-1;ce++)g1(M[ce].item,"list-style-type","none");ht(M).each(ce=>{Fa(Y)&&(Ea(ce.list,Y.listAttributes),Ea(ce.item,Y.itemAttributes)),ei(ce.item,Y.content)})},Ld=(M,Y)=>{ps(M.list)!==Y.listType&&(M.list=Pe(M.list,Y.listType)),Ea(M.list,Y.listAttributes)},va=(M,Y,ce)=>{const He=ye.fromTag("li",M);return Ea(He,Y),ei(He,ce),He},Mi=(M,Y)=>{bl(M.list,Y),M.item=Y},yi=(M,Y,ce)=>{const He=Y.slice(0,ce.depth);return ht(He).each(Je=>{if(Fa(ce)){const $t=va(M,ce.itemAttributes,ce.content);Mi(Je,$t),Ld(Je,ce)}else if(Bd(ce))ei(Je.item,ce.content);else{const $t=ye.fromHtml(`<!--${ce.content}-->`);bl(Je.list,$t)}}),He},ca=(M,Y,ce)=>{const He=ir(M,ce,ce.depth-Y.length);return Zr(He),Md(He,ce),pr(Y,He),Y.concat(He)},Qu=(M,Y)=>{let ce=q.none();const He=Nt(Y,(Je,$t,oo)=>_l($t)?oo===0?(ce=q.some($t),Je):yi(M,Je,$t):$t.depth>Je.length?ca(M,Je,$t):yi(M,Je,$t),[]);return ce.each(Je=>{const $t=ye.fromHtml(`<!--${Je.content}-->`);$e(He).each(oo=>{Ml(oo.list,$t)})}),$e(He).map(Je=>Je.list)},Ho=(M,Y)=>{switch(M){case"Indent":Y.depth++;break;case"Outdent":Y.depth--;break;case"Flatten":Y.depth=0}Y.dirty=!0},ta=(M,Y)=>{Fa(M)&&Fa(Y)&&(M.listType=Y.listType,M.listAttributes={...Y.listAttributes})},Li=M=>{M.listAttributes=rl(M.listAttributes,(Y,ce)=>ce!=="start")},Gc=(M,Y)=>{const ce=M[Y].depth,He=$t=>$t.depth===ce&&!$t.dirty,Je=$t=>$t.depth<ce;return Kt(Tt(M.slice(0,Y)),He,Je).orThunk(()=>Kt(M.slice(Y+1),He,Je))},Aa=M=>(Ve(M,(Y,ce)=>{Gc(M,ce).fold(()=>{Y.dirty&&Fa(Y)&&Li(Y)},He=>ta(Y,He))}),M),Hn=M=>{let Y=M;return{get:()=>Y,set:Je=>{Y=Je}}},Sc=(M,Y,ce,He)=>{var Je;if(Qa(He))return[{depth:M+1,content:(Je=He.dom.nodeValue)!==null&&Je!==void 0?Je:"",dirty:!1,isSelected:!1,isComment:!0}];Y.each(Eo=>{Be(Eo.start,He)&&ce.set(!0)});const $t=Em(He,M,ce.get());Y.each(Eo=>{Be(Eo.end,He)&&ce.set(!1)});const oo=vc(He).filter(wg).map(Eo=>bs(M,Y,ce,Eo)).getOr([]);return $t.toArray().concat(oo)},_c=(M,Y,ce,He)=>ea(He).filter(wg).fold(()=>Sc(M,Y,ce,He),Je=>{const $t=Nt(Bl(He),(oo,Eo,bo)=>{if(bo===0)return oo;if(Kc(Eo))return oo.concat(Sc(M,Y,ce,Eo));{const Un={isFragment:!0,depth:M,content:[Eo],isSelected:!1,dirty:!1,parentListType:ps(Je)};return oo.concat(Un)}},[]);return bs(M,Y,ce,Je).concat($t)}),bs=(M,Y,ce,He)=>Tn(Bl(He),Je=>{const $t=wg(Je)?bs:_c,oo=M+1;return $t(oo,Y,ce,Je)}),Bf=(M,Y)=>{const ce=Hn(!1),He=0;return Oe(M,Je=>({sourceList:Je,entries:bs(He,Y,ce,Je)}))},Nh=(M,Y)=>{const ce=Aa(Y);return Oe(ce,He=>{const Je=_l(He)?oi([ye.fromHtml(`<!--${He.content}-->`)]):oi(He.content),$t=Fa(He)?He.itemAttributes:{};return ye.fromDom(If(M,Je.dom,$t))})},Yc=(M,Y)=>{const ce=Aa(Y);return Qu(M.contentDocument,ce).toArray()},Go=(M,Y)=>Tn(wt(Y,ls),ce=>$e(ce).exists(ls)?Yc(M,ce):Nh(M,ce)),xi=(M,Y)=>{Ve(P(M,Cc),ce=>Ho(Y,ce))},Am=M=>{const Y=Oe(il(M),ye.fromDom);return Gt(rn(Y,fe(Ju)),rn(Tt(Y),fe(Ju)),(ce,He)=>({start:ce,end:He}))},wu=(M,Y,ce)=>{const He=Bf(Y,Am(M));Ve(He,Je=>{xi(Je.entries,ce);const $t=Go(M,Je.entries);Ve($t,oo=>{Pd(M,ce==="Indent"?"IndentList":"OutdentList",oo.dom)}),ar(Je.sourceList,$t),Df(Je.sourceList)})},Cg=(M,Y)=>{const ce=yu(Dh(M)),He=yu(vg(M));let Je=!1;if(ce.length||He.length){const $t=M.selection.getBookmark();wu(M,ce,Y),al(M,Y,He),M.selection.moveToBookmark($t),M.selection.setRng(Qs(M.selection.getRng())),M.nodeChanged(),Je=!0}return Je},kc=(M,Y)=>!Nd(M)&&Cg(M,Y),Fi=M=>kc(M,"Indent"),Xc=M=>kc(M,"Outdent"),Fd=M=>kc(M,"Flatten"),Ke="\uFEFF",Mf=M=>M===Ke,Ws=(M,Y,ce)=>nl(M,Y,ce).isSome(),Ih=(M,Y)=>Ws(M,j(Be,Y));var Tm=tinymce.util.Tools.resolve("tinymce.dom.BookmarkManager");const fc=ut.DOM,ss=M=>{const Y={},ce=He=>{let Je=M[He?"startContainer":"endContainer"],$t=M[He?"startOffset":"endOffset"];if(Qt(Je)){const oo=fc.create("span",{"data-mce-type":"bookmark"});Je.hasChildNodes()?($t=Math.min($t,Je.childNodes.length-1),He?Je.insertBefore(oo,Je.childNodes[$t]):fc.insertAfter(oo,Je.childNodes[$t])):Je.appendChild(oo),Je=oo,$t=0}Y[He?"startContainer":"endContainer"]=Je,Y[He?"startOffset":"endOffset"]=$t};return ce(!0),M.collapsed||ce(),Y},si=M=>{const Y=He=>{const Je=Eo=>{var bo;let Un=(bo=Eo.parentNode)===null||bo===void 0?void 0:bo.firstChild,_s=0;for(;Un;){if(Un===Eo)return _s;(!Qt(Un)||Un.getAttribute("data-mce-type")!=="bookmark")&&_s++,Un=Un.nextSibling}return-1};let $t=M[He?"startContainer":"endContainer"],oo=M[He?"startOffset":"endOffset"];if($t){if(Qt($t)&&$t.parentNode){const Eo=$t;oo=Je($t),$t=$t.parentNode,fc.remove(Eo),!$t.hasChildNodes()&&fc.isBlock($t)&&$t.appendChild(fc.create("br"))}M[He?"startContainer":"endContainer"]=$t,M[He?"startOffset":"endOffset"]=oo}};Y(!0),Y();const ce=fc.createRng();return ce.setStart(M.startContainer,M.startOffset),M.endContainer&&ce.setEnd(M.endContainer,M.endOffset),Qs(ce)},Jl=M=>{switch(M){case"UL":return"ToggleUlList";case"OL":return"ToggleOlList";case"DL":return"ToggleDLList"}},mc=(M,Y,ce)=>{const He=ce["list-style-type"]?ce["list-style-type"]:null;M.setStyle(Y,"list-style-type",He)},Jc=(M,Y)=>{We.each(Y,(ce,He)=>{M.setAttribute(He,ce)})},Cu=(M,Y,ce)=>{Jc(Y,ce["list-attributes"]),We.each(M.select("li",Y),He=>{Jc(He,ce["list-item-attributes"])})},Ka=(M,Y,ce)=>{mc(M,Y,ce),Cu(M,Y,ce)},$d=(M,Y,ce)=>{We.each(ce,He=>M.setStyle(Y,He,""))},Om=(M,Y)=>O(Y)&&!Vr(Y,M.schema.getBlockElements()),Sg=(M,Y,ce,He)=>{let Je=Y[ce?"startContainer":"endContainer"];const $t=Y[ce?"startOffset":"endOffset"];Qt(Je)&&(Je=Je.childNodes[Math.min($t,Je.childNodes.length-1)]||Je),!ce&&Fs(Je.nextSibling)&&(Je=Je.nextSibling);const oo=bo=>{for(;!M.dom.isBlock(bo)&&bo.parentNode&&He!==bo;)bo=bo.parentNode;return bo},Eo=(bo,Un)=>{var _s;const Kr=new vl(bo,oo(bo)),Ar=Un?"next":"prev";let Rc;for(;Rc=Kr[Ar]();)if(!(Bo(M,Rc)||Mf(Rc.textContent)||((_s=Rc.textContent)===null||_s===void 0?void 0:_s.length)===0))return q.some(Rc);return q.none()};if(ce&&it(Je))if(Mf(Je.textContent))Je=Eo(Je,!1).getOr(Je);else for(Je.parentNode!==null&&Om(M,Je.parentNode)&&(Je=Je.parentNode);Je.previousSibling!==null&&(Om(M,Je.previousSibling)||it(Je.previousSibling));)Je=Je.previousSibling;if(!ce&&it(Je))if(Mf(Je.textContent))Je=Eo(Je,!0).getOr(Je);else for(Je.parentNode!==null&&Om(M,Je.parentNode)&&(Je=Je.parentNode);Je.nextSibling!==null&&(Om(M,Je.nextSibling)||it(Je.nextSibling));)Je=Je.nextSibling;for(;Je.parentNode!==He;){const bo=Je.parentNode;if(is(M,Je)||/^(TD|TH)$/.test(bo.nodeName))return Je;Je=bo}return Je},Ta=(M,Y,ce)=>{const He=[],Je=M.dom,$t=Sg(M,Y,!0,ce),oo=Sg(M,Y,!1,ce);let Eo;const bo=[];for(let Un=$t;Un&&(bo.push(Un),Un!==oo);Un=Un.nextSibling);return We.each(bo,Un=>{var _s;if(is(M,Un)){He.push(Un),Eo=null;return}if(Je.isBlock(Un)||Fs(Un)){Fs(Un)&&Je.remove(Un),Eo=null;return}const Kr=Un.nextSibling;if(Tm.isBookmarkNode(Un)&&(gn(Kr)||is(M,Kr)||!Kr&&Un.parentNode===ce)){Eo=null;return}Eo||(Eo=Je.create("p"),(_s=Un.parentNode)===null||_s===void 0||_s.insertBefore(Eo,Un),He.push(Eo)),Eo.appendChild(Un)}),He},Xn=(M,Y,ce)=>{const He=M.getStyle(Y,"list-style-type");let Je=ce?ce["list-style-type"]:"";return Je=Je===null?"":Je,He===Je},Su=(M,Y)=>{const ce=M.selection.getStart(!0),He=Sg(M,Y,!0,M.getBody());return Ih(ye.fromDom(He),ye.fromDom(Y.commonAncestorContainer))?Y.commonAncestorContainer:ce},Lf=(M,Y,ce)=>{const He=M.selection.getRng();let Je="LI";const $t=Xu(M,Su(M,He)),oo=M.dom;if(oo.getContentEditable(M.selection.getNode())==="false")return;Y=Y.toUpperCase(),Y==="DL"&&(Je="DT");const Eo=ss(He),bo=P(Ta(M,He,$t),M.dom.isEditable);We.each(bo,Un=>{let _s;const Kr=Un.previousSibling,Ar=Un.parentNode;wn(Ar)||(Kr&&gn(Kr)&&Kr.nodeName===Y&&Xn(oo,Kr,ce)?(_s=Kr,Un=oo.rename(Un,Je),Kr.appendChild(Un)):(_s=oo.create(Y),Ar.insertBefore(_s,Un),_s.appendChild(Un),Un=oo.rename(Un,Je)),$d(oo,Un,["margin","margin-right","margin-bottom","margin-left","margin-top","padding","padding-right","padding-bottom","padding-left","padding-top"]),Ka(oo,_s,ce),ed(M.dom,_s))}),M.selection.setRng(si(Eo))},ri=(M,Y)=>gn(M)&&M.nodeName===(Y==null?void 0:Y.nodeName),_u=(M,Y,ce)=>{const He=M.getStyle(Y,"list-style-type",!0),Je=M.getStyle(ce,"list-style-type",!0);return He===Je},Fl=(M,Y)=>M.className===Y.className,ku=(M,Y,ce)=>ri(Y,ce)&&_u(M,Y,ce)&&Fl(Y,ce),ed=(M,Y)=>{let ce,He=Y.nextSibling;if(ku(M,Y,He)){const Je=He;for(;ce=Je.firstChild;)Y.appendChild(ce);M.remove(Je)}if(He=Y.previousSibling,ku(M,Y,He)){const Je=He;for(;ce=Je.lastChild;)Y.insertBefore(ce,Y.firstChild);M.remove(Je)}},Oa=(M,Y,ce,He)=>{if(Y.nodeName!==ce){const Je=M.dom.rename(Y,ce);Ka(M.dom,Je,He),Pd(M,Jl(ce),Je)}else Ka(M.dom,Y,He),Pd(M,Jl(ce),Y)},gc=(M,Y,ce,He)=>{if(Y.classList.forEach((Je,$t,oo)=>{Je.startsWith("tox-")&&(oo.remove(Je),oo.length===0&&Y.removeAttribute("class"))}),Y.nodeName!==ce){const Je=M.dom.rename(Y,ce);Ka(M.dom,Je,He),Pd(M,Jl(ce),Je)}else Ka(M.dom,Y,He),Pd(M,Jl(ce),Y)},Qc=(M,Y,ce,He,Je)=>{const $t=gn(Y);if($t&&Y.nodeName===He&&!Ff(Je)&&!yg(Y))Fd(M);else{Lf(M,He,Je);const oo=ss(M.selection.getRng()),Eo=$t?[Y,...ce]:ce,bo=$t&&yg(Y)?gc:Oa;We.each(Eo,Un=>{bo(M,Un,He,Je)}),M.selection.setRng(si(oo))}},Ff=M=>"list-style-type"in M,qp=(M,Y,ce,He)=>{if(Y!==M.getBody())if(Y)if(Y.nodeName===ce&&!Ff(He)&&!yg(Y))Fd(M);else{const Je=ss(M.selection.getRng());yg(Y)&&Y.classList.forEach((oo,Eo,bo)=>{oo.startsWith("tox-")&&(bo.remove(oo),bo.length===0&&Y.removeAttribute("class"))}),Ka(M.dom,Y,He);const $t=M.dom.rename(Y,ce);ed(M.dom,$t),M.selection.setRng(si(Je)),Lf(M,ce,He),Pd(M,Jl(ce),$t)}else Lf(M,ce,He),Pd(M,Jl(ce),Y)},Eu=(M,Y,ce)=>{const He=ti(M);if(Id(M,He))return;const Je=Bi(M),$t=y(ce)?ce:{};Je.length>0?Qc(M,He,Je,Y,$t):qp(M,He,Y,$t)},Vd=ut.DOM,Rm=(M,Y)=>{const ce=Y.parentElement;if(ce&&ce.nodeName==="LI"&&ce.firstChild===Y){const He=ce.previousSibling;He&&He.nodeName==="LI"?(He.appendChild(Y),vi(M,ce)&&Vd.remove(ce)):Vd.setStyle(ce,"listStyleType","none")}if(gn(ce)){const He=ce.previousSibling;He&&He.nodeName==="LI"&&He.appendChild(Y)}},kr=(M,Y)=>{const ce=We.grep(M.select("ol,ul",Y));We.each(ce,He=>{Rm(M,He)})},wi=(M,Y,ce,He)=>{let Je=Y.startContainer;const $t=Y.startOffset;if(it(Je)&&(ce?$t<Je.data.length:$t>0))return Je;const oo=M.schema.getNonEmptyElements();Qt(Je)&&(Je=Wc.getNode(Je,$t));const Eo=new vl(Je,He);ce&&Xl(M.dom,Je)&&Eo.next();const bo=ce?Eo.next.bind(Eo):Eo.prev2.bind(Eo);for(;Je=bo();)if(Je.nodeName==="LI"&&!Je.hasChildNodes()||oo[Je.nodeName]||it(Je)&&Je.data.length>0)return Je;return null},Ci=(M,Y)=>{const ce=Y.childNodes;return ce.length===1&&!gn(ce[0])&&M.isBlock(ce[0])},$i=M=>q.from(M).map(ye.fromDom).filter(on).exists(Y=>Of(Y)&&!Ze(["details"],ps(Y))),ya=(M,Y)=>{Ci(M,Y)&&$i(Y.firstChild)&&M.remove(Y.firstChild,!0)},$f=(M,Y,ce)=>{let He;const Je=Ci(M,ce)?ce.firstChild:ce;if(ya(M,Y),!vi(M,Y,!0))for(;He=Y.firstChild;)Je.appendChild(He)},ua=(M,Y,ce)=>{let He;const Je=Y.parentNode;if(!po(M,Y)||!po(M,ce))return;gn(ce.lastChild)&&(He=ce.lastChild),Je===ce.lastChild&&Fs(Je.previousSibling)&&M.remove(Je.previousSibling);const $t=ce.lastChild;$t&&Fs($t)&&Y.hasChildNodes()&&M.remove($t),vi(M,ce,!0)&&sl(ye.fromDom(ce)),$f(M,Y,ce),He&&ce.appendChild(He);const Eo=Ye(ye.fromDom(ce),ye.fromDom(Y))?M.getParents(Y,gn,ce):[];M.remove(Y),Ve(Eo,bo=>{vi(M,bo)&&bo!==M.getRoot()&&M.remove(bo)})},$a=(M,Y,ce)=>{sl(ye.fromDom(ce)),ua(M.dom,Y,ce),M.selection.setCursorLocation(ce,0)},Ec=(M,Y,ce,He)=>{const Je=M.dom;if(Je.isEmpty(He))$a(M,ce,He);else{const $t=ss(Y);ua(Je,ce,He),M.selection.setRng(si($t))}},Ft=(M,Y,ce,He)=>{const Je=ss(Y);ua(M.dom,ce,He);const $t=si(Je);M.selection.setRng($t)},Ra=(M,Y)=>{const ce=M.dom,He=M.selection,Je=He.getStart(),$t=qo(M,Je),oo=ce.getParent(He.getStart(),"LI",$t);if(oo){const Eo=oo.parentElement;if(Eo===M.getBody()&&vi(ce,Eo))return!0;const bo=Qs(He.getRng()),Un=ce.getParent(wi(M,bo,Y,$t),"LI",$t),_s=Un&&(Y?ce.isChildOf(oo,Un):ce.isChildOf(Un,oo));if(Un&&Un!==oo&&!_s)return M.undoManager.transact(()=>{Y?Ec(M,bo,Un,oo):Ko(oo)?Xc(M):Ft(M,bo,oo,Un)}),!0;if(_s&&!Y&&Un!==oo)return M.undoManager.transact(()=>{if(bo.commonAncestorContainer.parentElement){const Kr=ss(bo),Ar=bo.commonAncestorContainer.parentElement;$f(ce,bo.commonAncestorContainer.parentElement,Un),Ar.remove();const Rc=si(Kr);M.selection.setRng(Rc)}}),!0;if(!Un&&!Y&&bo.startOffset===0&&bo.endOffset===0)return M.undoManager.transact(()=>{Fd(M)}),!0}return!1},_g=(M,Y,ce)=>{const He=M.getParent(Y.parentNode,M.isBlock,ce);M.remove(Y),He&&M.isEmpty(He)&&M.remove(He)},br=(M,Y)=>{const ce=M.dom,He=M.selection.getStart(),Je=qo(M,He),$t=ce.getParent(He,ce.isBlock,Je);if($t&&ce.isEmpty($t,void 0,{checkRootAsContent:!0})){const oo=Qs(M.selection.getRng()),Eo=ce.getParent(wi(M,oo,Y,Je),"LI",Je);if(Eo){const bo=Ar=>Ze(["td","th","caption"],ps(Ar)),Un=Ar=>Ar.dom===Je,_s=Ma(ye.fromDom(Eo),bo,Un),Kr=Ma(ye.fromDom(oo.startContainer),bo,Un);return Fn(_s,Kr,Be)?(M.undoManager.transact(()=>{const Ar=Eo.parentNode;_g(ce,$t,Je),ed(ce,Ar),M.selection.select(Eo,!0),M.selection.collapse(Y)}),!0):!1}}return!1},Au=(M,Y)=>Ra(M,Y)||br(M,Y),Vi=M=>{const Y=M.selection.getStart(),ce=qo(M,Y);return M.dom.getParent(Y,"LI,DT,DD",ce)||il(M).length>0},Ac=M=>Vi(M)?(M.undoManager.transact(()=>{M.execCommand("Delete"),kr(M.dom,M.getBody())}),!0):!1,Vf=(M,Y)=>{const ce=M.selection;return!Id(M,ce.getNode())&&(ce.isCollapsed()?Au(M,Y):Ac(M))},Hi=M=>{M.on("ExecCommand",Y=>{const ce=Y.command.toLowerCase();(ce==="delete"||ce==="forwarddelete")&&Vi(M)&&kr(M.dom,M.getBody())}),M.on("keydown",Y=>{Y.keyCode===Od.BACKSPACE?Vf(M,!1)&&Y.preventDefault():Y.keyCode===Od.DELETE&&Vf(M,!0)&&Y.preventDefault()})},rs=M=>({backspaceDelete:Y=>{Vf(M,Y)}}),Ir=(M,Y)=>{const ce=ti(M);ce===null||Id(M,ce)||M.undoManager.transact(()=>{y(Y.styles)&&M.dom.setStyles(ce,Y.styles),y(Y.attrs)&&$r(Y.attrs,(He,Je)=>M.dom.setAttrib(ce,Je,He))})},Tu=M=>{const Y=Tt(uv(M).split("")),ce=Oe(Y,(He,Je)=>{const $t=He.toUpperCase().charCodeAt(0)-65+1;return Math.pow(26,Je)*$t});return Nt(ce,(He,Je)=>He+Je,0)},Hr=M=>{if(M--,M<0)return"";{const Y=M%26,ce=Math.floor(M/26),He=Hr(ce),Je=String.fromCharCode(65+Y);return He+Je}},Dm=M=>/^[A-Z]+$/.test(M),Tc=M=>/^[a-z]+$/.test(M),Ph=M=>/^[0-9]+$/.test(M),Er=M=>Ph(M)?2:Dm(M)?0:Tc(M)?1:Kp(M)?3:4,mt=M=>{switch(Er(M)){case 2:return q.some({listStyleType:q.none(),start:M});case 0:return q.some({listStyleType:q.some("upper-alpha"),start:Tu(M).toString()});case 1:return q.some({listStyleType:q.some("lower-alpha"),start:Tu(M).toString()});case 3:return q.some({listStyleType:q.none(),start:""});case 4:return q.none()}},zi=M=>{const Y=parseInt(M.start,10);return mn(M.listStyleType,"upper-alpha")?Hr(Y):mn(M.listStyleType,"lower-alpha")?Hr(Y).toLowerCase():M.start},Pr=M=>{const Y=ti(M);!_n(Y)||Id(M,Y)||M.windowManager.open({title:"List Properties",body:{type:"panel",items:[{type:"input",name:"start",label:"Start list at number",inputMode:"numeric"}]},initialData:{start:zi({start:M.dom.getAttrib(Y,"start","1"),listStyleType:q.from(M.dom.getStyle(Y,"list-style-type"))})},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],onSubmit:ce=>{const He=ce.getData();mt(He.start).each(Je=>{M.execCommand("mceListUpdate",!1,{attrs:{start:Je.start==="1"?"":Je.start},styles:{"list-style-type":Je.listStyleType.getOr("")}})}),ce.close()}})},Ql=(M,Y)=>()=>{const ce=ti(M);return O(ce)&&ce.nodeName===Y},Oc=M=>{M.addCommand("mceListProps",()=>{Pr(M)})},na=M=>{M.on("BeforeExecCommand",Y=>{const ce=Y.command.toLowerCase();ce==="indent"?Fi(M):ce==="outdent"&&Xc(M)}),M.addCommand("InsertUnorderedList",(Y,ce)=>{Eu(M,"UL",ce)}),M.addCommand("InsertOrderedList",(Y,ce)=>{Eu(M,"OL",ce)}),M.addCommand("InsertDefinitionList",(Y,ce)=>{Eu(M,"DL",ce)}),M.addCommand("RemoveList",()=>{Fd(M)}),Oc(M),M.addCommand("mceListUpdate",(Y,ce)=>{y(ce)&&Ir(M,ce)}),M.addQueryStateHandler("InsertUnorderedList",Ql(M,"UL")),M.addQueryStateHandler("InsertOrderedList",Ql(M,"OL")),M.addQueryStateHandler("InsertDefinitionList",Ql(M,"DL"))};var er=tinymce.util.Tools.resolve("tinymce.html.Node");const Ps=M=>M.type===3,ai=M=>M.length===0,ii=M=>{const Y=(Je,$t)=>{const oo=er.create("li");Ve(Je,Eo=>oo.append(Eo)),$t?M.insert(oo,$t,!0):M.append(oo)},ce=(Je,$t)=>Ps($t)?[...Je,$t]:!ai(Je)&&!Ps($t)?(Y(Je,$t),[]):Je,He=Nt(M.children(),ce,[]);ai(He)||Y(He)},kl=M=>{M.on("PreInit",()=>{const{parser:Y}=M;Y.addNodeFilter("ul,ol",ce=>Ve(ce,ii))})},hc=M=>{M.on("keydown",Y=>{Y.keyCode!==Od.TAB||Od.metaKeyPressed(Y)||M.undoManager.transact(()=>{(Y.shiftKey?Xc(M):Fi(M))&&Y.preventDefault()})})},eu=M=>{Sr(M)&&hc(M),Hi(M)},td=(M,Y)=>ce=>{const He=Je=>{ce.setActive(jp(Je.parents,Y)),ce.setEnabled(!Id(M,Je.element)&&M.selection.isEditable())};return ce.setEnabled(M.selection.isEditable()),xg(M,He)},Hf=M=>{const Y=ce=>()=>M.execCommand(ce);M.hasPlugin("advlist")||(M.ui.registry.addToggleButton("numlist",{icon:"ordered-list",active:!1,tooltip:"Numbered list",onAction:Y("InsertOrderedList"),onSetup:td(M,"OL")}),M.ui.registry.addToggleButton("bullist",{icon:"unordered-list",active:!1,tooltip:"Bullet list",onAction:Y("InsertUnorderedList"),onSetup:td(M,"UL")}))},kg=(M,Y)=>ce=>xg(M,Je=>ce.setEnabled(jp(Je.parents,Y)&&!Id(M,Je.element))),Bh=M=>{const Y={text:"List properties...",icon:"ordered-list",onAction:()=>M.execCommand("mceListProps"),onSetup:kg(M,"OL")};M.ui.registry.addMenuItem("listprops",Y),M.ui.registry.addContextMenu("lists",{update:ce=>{const He=ti(M,ce);return _n(He)?["listprops"]:[]}})};var Ou=()=>{n.add("lists",M=>(xl(M),kl(M),M.hasPlugin("rtc",!0)?Oc(M):(eu(M),na(M)),Hf(M),Bh(M),rs(M)))};Ou()}()),IG}var BG;function hye(){return BG||(BG=1,gye()),NG}hye();var MG={},LG={},FG;function pye(){return FG||(FG=1,function(){var n=tinymce.util.Tools.resolve("tinymce.PluginManager");const r=(xe,Re)=>xe.dispatch("insertCustomChar",{chr:Re}),l=(xe,Re)=>{const Ue=r(xe,Re).chr;xe.execCommand("mceInsertContent",!1,Ue)},d=(xe,Re,Ue)=>{var ye;return Ue(xe,Re.prototype)?!0:((ye=xe.constructor)===null||ye===void 0?void 0:ye.name)===Re.name},h=xe=>{const Re=typeof xe;return xe===null?"null":Re==="object"&&Array.isArray(xe)?"array":Re==="object"&&d(xe,String,(Ue,ye)=>ye.isPrototypeOf(Ue))?"string":Re},g=xe=>Re=>h(Re)===xe,y=xe=>Re=>typeof Re===xe,w=xe=>Re=>xe===Re,A=g("array"),R=w(null),O=w(void 0),N=xe=>xe==null,V=xe=>!N(xe),z=y("function"),X=(xe=>()=>xe)(!1);class oe{constructor(Re,Ue){this.tag=Re,this.value=Ue}static some(Re){return new oe(!0,Re)}static none(){return oe.singletonNone}fold(Re,Ue){return this.tag?Ue(this.value):Re()}isSome(){return this.tag}isNone(){return!this.tag}map(Re){return this.tag?oe.some(Re(this.value)):oe.none()}bind(Re){return this.tag?Re(this.value):oe.none()}exists(Re){return this.tag&&Re(this.value)}forall(Re){return!this.tag||Re(this.value)}filter(Re){return!this.tag||Re(this.value)?this:oe.none()}getOr(Re){return this.tag?this.value:Re}or(Re){return this.tag?this:Re}getOrThunk(Re){return this.tag?this.value:Re()}orThunk(Re){return this.tag?this:Re()}getOrDie(Re){if(this.tag)return this.value;throw new Error(Re??"Called getOrDie on None")}static from(Re){return V(Re)?oe.some(Re):oe.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(Re){this.tag&&Re(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}oe.singletonNone=new oe(!1);const j=Array.prototype.push,fe=(xe,Re)=>{const Ue=xe.length,ye=new Array(Ue);for(let _e=0;_e<Ue;_e++){const Be=xe[_e];ye[_e]=Re(Be,_e)}return ye},le=(xe,Re)=>{for(let Ue=0,ye=xe.length;Ue<ye;Ue++){const _e=xe[Ue];Re(_e,Ue)}},q=(xe,Re,Ue)=>{for(let ye=0,_e=xe.length;ye<_e;ye++){const Be=xe[ye];if(Re(Be,ye))return oe.some(Be);if(Ue(Be,ye))break}return oe.none()},de=(xe,Re)=>q(xe,Re,X),ne=xe=>{const Re=[];for(let Ue=0,ye=xe.length;Ue<ye;++Ue){if(!A(xe[Ue]))throw new Error("Arr.flatten item "+Ue+" was not an array, input: "+xe);j.apply(Re,xe[Ue])}return Re},be=(xe,Re)=>ne(fe(xe,Re));var Fe=tinymce.util.Tools.resolve("tinymce.util.Tools");const Ze=xe=>Re=>Re.options.get(xe),rt=xe=>{const Re=xe.options.register,Ue=ye=>z(ye)||A(ye);Re("charmap",{processor:Ue}),Re("charmap_append",{processor:Ue})},Oe=Ze("charmap"),Ve=Ze("charmap_append"),P=Fe.isArray,wt="User Defined",Nt=()=>[{name:"Currency",characters:[[36,"dollar sign"],[162,"cent sign"],[8364,"euro sign"],[163,"pound sign"],[165,"yen sign"],[164,"currency sign"],[8352,"euro-currency sign"],[8353,"colon sign"],[8354,"cruzeiro sign"],[8355,"french franc sign"],[8356,"lira sign"],[8357,"mill sign"],[8358,"naira sign"],[8359,"peseta sign"],[8360,"rupee sign"],[8361,"won sign"],[8362,"new sheqel sign"],[8363,"dong sign"],[8365,"kip sign"],[8366,"tugrik sign"],[8367,"drachma sign"],[8368,"german penny symbol"],[8369,"peso sign"],[8370,"guarani sign"],[8371,"austral sign"],[8372,"hryvnia sign"],[8373,"cedi sign"],[8374,"livre tournois sign"],[8375,"spesmilo sign"],[8376,"tenge sign"],[8377,"indian rupee sign"],[8378,"turkish lira sign"],[8379,"nordic mark sign"],[8380,"manat sign"],[8381,"ruble sign"],[20870,"yen character"],[20803,"yuan character"],[22291,"yuan character, in hong kong and taiwan"],[22278,"yen/yuan character variant one"]]},{name:"Text",characters:[[169,"copyright sign"],[174,"registered sign"],[8482,"trade mark sign"],[8240,"per mille sign"],[181,"micro sign"],[183,"middle dot"],[8226,"bullet"],[8230,"three dot leader"],[8242,"minutes / feet"],[8243,"seconds / inches"],[167,"section sign"],[182,"paragraph sign"],[223,"sharp s / ess-zed"]]},{name:"Quotations",characters:[[8249,"single left-pointing angle quotation mark"],[8250,"single right-pointing angle quotation mark"],[171,"left pointing guillemet"],[187,"right pointing guillemet"],[8216,"left single quotation mark"],[8217,"right single quotation mark"],[8220,"left double quotation mark"],[8221,"right double quotation mark"],[8218,"single low-9 quotation mark"],[8222,"double low-9 quotation mark"],[60,"less-than sign"],[62,"greater-than sign"],[8804,"less-than or equal to"],[8805,"greater-than or equal to"],[8211,"en dash"],[8212,"em dash"],[175,"macron"],[8254,"overline"],[164,"currency sign"],[166,"broken bar"],[168,"diaeresis"],[161,"inverted exclamation mark"],[191,"turned question mark"],[710,"circumflex accent"],[732,"small tilde"],[176,"degree sign"],[8722,"minus sign"],[177,"plus-minus sign"],[247,"division sign"],[8260,"fraction slash"],[215,"multiplication sign"],[185,"superscript one"],[178,"superscript two"],[179,"superscript three"],[188,"fraction one quarter"],[189,"fraction one half"],[190,"fraction three quarters"]]},{name:"Mathematical",characters:[[402,"function / florin"],[8747,"integral"],[8721,"n-ary sumation"],[8734,"infinity"],[8730,"square root"],[8764,"similar to"],[8773,"approximately equal to"],[8776,"almost equal to"],[8800,"not equal to"],[8801,"identical to"],[8712,"element of"],[8713,"not an element of"],[8715,"contains as member"],[8719,"n-ary product"],[8743,"logical and"],[8744,"logical or"],[172,"not sign"],[8745,"intersection"],[8746,"union"],[8706,"partial differential"],[8704,"for all"],[8707,"there exists"],[8709,"diameter"],[8711,"backward difference"],[8727,"asterisk operator"],[8733,"proportional to"],[8736,"angle"]]},{name:"Extended Latin",characters:[[192,"A - grave"],[193,"A - acute"],[194,"A - circumflex"],[195,"A - tilde"],[196,"A - diaeresis"],[197,"A - ring above"],[256,"A - macron"],[198,"ligature AE"],[199,"C - cedilla"],[200,"E - grave"],[201,"E - acute"],[202,"E - circumflex"],[203,"E - diaeresis"],[274,"E - macron"],[204,"I - grave"],[205,"I - acute"],[206,"I - circumflex"],[207,"I - diaeresis"],[298,"I - macron"],[208,"ETH"],[209,"N - tilde"],[210,"O - grave"],[211,"O - acute"],[212,"O - circumflex"],[213,"O - tilde"],[214,"O - diaeresis"],[216,"O - slash"],[332,"O - macron"],[338,"ligature OE"],[352,"S - caron"],[217,"U - grave"],[218,"U - acute"],[219,"U - circumflex"],[220,"U - diaeresis"],[362,"U - macron"],[221,"Y - acute"],[376,"Y - diaeresis"],[562,"Y - macron"],[222,"THORN"],[224,"a - grave"],[225,"a - acute"],[226,"a - circumflex"],[227,"a - tilde"],[228,"a - diaeresis"],[229,"a - ring above"],[257,"a - macron"],[230,"ligature ae"],[231,"c - cedilla"],[232,"e - grave"],[233,"e - acute"],[234,"e - circumflex"],[235,"e - diaeresis"],[275,"e - macron"],[236,"i - grave"],[237,"i - acute"],[238,"i - circumflex"],[239,"i - diaeresis"],[299,"i - macron"],[240,"eth"],[241,"n - tilde"],[242,"o - grave"],[243,"o - acute"],[244,"o - circumflex"],[245,"o - tilde"],[246,"o - diaeresis"],[248,"o slash"],[333,"o macron"],[339,"ligature oe"],[353,"s - caron"],[249,"u - grave"],[250,"u - acute"],[251,"u - circumflex"],[252,"u - diaeresis"],[363,"u - macron"],[253,"y - acute"],[254,"thorn"],[255,"y - diaeresis"],[563,"y - macron"],[913,"Alpha"],[914,"Beta"],[915,"Gamma"],[916,"Delta"],[917,"Epsilon"],[918,"Zeta"],[919,"Eta"],[920,"Theta"],[921,"Iota"],[922,"Kappa"],[923,"Lambda"],[924,"Mu"],[925,"Nu"],[926,"Xi"],[927,"Omicron"],[928,"Pi"],[929,"Rho"],[931,"Sigma"],[932,"Tau"],[933,"Upsilon"],[934,"Phi"],[935,"Chi"],[936,"Psi"],[937,"Omega"],[945,"alpha"],[946,"beta"],[947,"gamma"],[948,"delta"],[949,"epsilon"],[950,"zeta"],[951,"eta"],[952,"theta"],[953,"iota"],[954,"kappa"],[955,"lambda"],[956,"mu"],[957,"nu"],[958,"xi"],[959,"omicron"],[960,"pi"],[961,"rho"],[962,"final sigma"],[963,"sigma"],[964,"tau"],[965,"upsilon"],[966,"phi"],[967,"chi"],[968,"psi"],[969,"omega"]]},{name:"Symbols",characters:[[8501,"alef symbol"],[982,"pi symbol"],[8476,"real part symbol"],[978,"upsilon - hook symbol"],[8472,"Weierstrass p"],[8465,"imaginary part"]]},{name:"Arrows",characters:[[8592,"leftwards arrow"],[8593,"upwards arrow"],[8594,"rightwards arrow"],[8595,"downwards arrow"],[8596,"left right arrow"],[8629,"carriage return"],[8656,"leftwards double arrow"],[8657,"upwards double arrow"],[8658,"rightwards double arrow"],[8659,"downwards double arrow"],[8660,"left right double arrow"],[8756,"therefore"],[8834,"subset of"],[8835,"superset of"],[8836,"not a subset of"],[8838,"subset of or equal to"],[8839,"superset of or equal to"],[8853,"circled plus"],[8855,"circled times"],[8869,"perpendicular"],[8901,"dot operator"],[8968,"left ceiling"],[8969,"right ceiling"],[8970,"left floor"],[8971,"right floor"],[9001,"left-pointing angle bracket"],[9002,"right-pointing angle bracket"],[9674,"lozenge"],[9824,"black spade suit"],[9827,"black club suit"],[9829,"black heart suit"],[9830,"black diamond suit"],[8194,"en space"],[8195,"em space"],[8201,"thin space"],[8204,"zero width non-joiner"],[8205,"zero width joiner"],[8206,"left-to-right mark"],[8207,"right-to-left mark"]]}],Kt=xe=>Fe.grep(xe,Re=>P(Re)&&Re.length===2),rn=xe=>P(xe)?Kt(xe):typeof xe=="function"?xe():[],ct=(xe,Re)=>{const Ue=Oe(xe);Ue&&(Re=[{name:wt,characters:rn(Ue)}]);const ye=Ve(xe);if(ye){const _e=Fe.grep(Re,Be=>Be.name===wt);return _e.length?(_e[0].characters=[..._e[0].characters,...rn(ye)],Re):Re.concat({name:wt,characters:rn(ye)})}return Re},Tn=xe=>{const Re=ct(xe,Nt());return Re.length>1?[{name:"All",characters:be(Re,Ue=>Ue.characters)}].concat(Re):Re},Tt=xe=>({getCharMap:()=>Tn(xe),insertChar:ye=>{l(xe,ye)}}),ot=xe=>{let Re=xe;return{get:()=>Re,set:_e=>{Re=_e}}},$e=(xe,Re)=>{let Ue=null;const ye=()=>{R(Ue)||(clearTimeout(Ue),Ue=null)};return{cancel:ye,throttle:(...Be)=>{ye(),Ue=setTimeout(()=>{Ue=null,xe.apply(null,Be)},Re)}}},ht=(xe,Re,Ue=0,ye)=>{const _e=xe.indexOf(Re,Ue);return _e!==-1?O(ye)?!0:_e+Re.length<=ye:!1},Dn=String.fromCodePoint,mn=(xe,Re,Ue)=>ht(Dn(xe).toLowerCase(),Ue)?!0:ht(Re.toLowerCase(),Ue)||ht(Re.toLowerCase().replace(/\s+/g,""),Ue),Fn=(xe,Re)=>{const Ue=[],ye=Re.toLowerCase();return le(xe.characters,_e=>{mn(_e[0],_e[1],ye)&&Ue.push(_e)}),fe(Ue,_e=>({text:_e[1],value:Dn(_e[0]),icon:Dn(_e[0])}))},Gt="pattern",te=(xe,Re)=>{const Ue=()=>[{label:"Search",type:"input",name:Gt},{type:"collection",name:"results"}],ye=()=>fe(Re,Po=>({title:Po.name,name:Po.name,items:Ue()})),_e=()=>({type:"panel",items:Ue()}),Be=()=>({type:"tabpanel",tabs:ye()}),Ye=Re.length===1?ot(wt):ot("All"),pt=(Po,or)=>{de(Re,ps=>ps.name===Ye.get()).each(ps=>{const Qr=Fn(ps,or);Po.setData({results:Qr})})},qt=$e(Po=>{const or=Po.getData().pattern;pt(Po,or)},40),Nn=Re.length===1?_e():Be(),no={pattern:"",results:Fn(Re[0],"")},so={title:"Special Character",size:"normal",body:Nn,buttons:[{type:"cancel",name:"close",text:"Close",primary:!0}],initialData:no,onAction:(Po,or)=>{or.name==="results"&&(l(xe,or.value),Po.close())},onTabChange:(Po,or)=>{Ye.set(or.newTabName),qt.throttle(Po)},onChange:(Po,or)=>{or.name===Gt&&qt.throttle(Po)}};xe.windowManager.open(so).focus(Gt)},So=(xe,Re)=>{xe.addCommand("mceShowCharmap",()=>{te(xe,Re)})},tn=(xe,Re)=>{xe.ui.registry.addAutocompleter("charmap",{trigger:":",columns:"auto",minChars:2,fetch:(Ue,ye)=>new Promise((_e,Be)=>{_e(Fn(Re,Ue))}),onAction:(Ue,ye,_e)=>{xe.selection.setRng(ye),xe.insertContent(_e),Ue.hide()}})},Cn=xe=>Re=>{const Ue=()=>{Re.setEnabled(xe.selection.isEditable())};return xe.on("NodeChange",Ue),Ue(),()=>{xe.off("NodeChange",Ue)}},qe=xe=>{const Re=()=>xe.execCommand("mceShowCharmap");xe.ui.registry.addButton("charmap",{icon:"insert-character",tooltip:"Special character",onAction:Re,onSetup:Cn(xe)}),xe.ui.registry.addMenuItem("charmap",{icon:"insert-character",text:"Special character...",onAction:Re,onSetup:Cn(xe)})};var st=()=>{n.add("charmap",xe=>{rt(xe);const Re=Tn(xe);return So(xe,Re),qe(xe),tn(xe,Re[0]),Tt(xe)})};st()}()),LG}var $G;function bye(){return $G||($G=1,pye()),MG}bye();var VG={},HG={},zG;function vye(){return zG||(zG=1,function(){var n=tinymce.util.Tools.resolve("tinymce.PluginManager");const l=(xe=>Re=>xe===Re)(null),d=xe=>xe,h=(xe,Re)=>{const Ue=xe.length,ye=new Array(Ue);for(let _e=0;_e<Ue;_e++){const Be=xe[_e];ye[_e]=Re(Be,_e)}return ye},y={aletter:"[A-Za-z---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------]",midnumlet:"[-'\\.]",midletter:"[:]",midnum:"[+*/,;;]",numeric:"[0-9---------------------------------]",cr:"\\r",lf:"\\n",newline:"[\v\f\u2028\u2029]",extend:"[------------------------------------------------------------------------------------------------------]",format:"[----\uFEFF-]",katakana:"[-------]",extendnumlet:"[=_--<>]",punctuation:"[~|!-*+-\\/:;?@\\[-`{};----------------------------------------------]"},w={ALETTER:0,MIDNUMLET:1,MIDLETTER:2,MIDNUM:3,NUMERIC:4,CR:5,LF:6,NEWLINE:7,EXTEND:8,FORMAT:9,KATAKANA:10,EXTENDNUMLET:11,AT:12,OTHER:13},A=[new RegExp(y.aletter),new RegExp(y.midnumlet),new RegExp(y.midletter),new RegExp(y.midnum),new RegExp(y.numeric),new RegExp(y.cr),new RegExp(y.lf),new RegExp(y.newline),new RegExp(y.extend),new RegExp(y.format),new RegExp(y.katakana),new RegExp(y.extendnumlet),new RegExp("@")],R="",O=new RegExp("^"+y.punctuation+"$"),N=/^\s+$/,V=A,z=w.OTHER,W=xe=>{let Re=z;const Ue=V.length;for(let ye=0;ye<Ue;++ye){const _e=V[ye];if(_e&&_e.test(xe)){Re=ye;break}}return Re},X=xe=>{const Re={};return Ue=>{if(Re[Ue])return Re[Ue];{const ye=xe(Ue);return Re[Ue]=ye,ye}}},oe=xe=>{const Re=X(W);return h(xe,Re)},j=(xe,Re)=>{const Ue=xe[Re],ye=xe[Re+1];if(Re<0||Re>xe.length-1&&Re!==0||Ue===w.ALETTER&&ye===w.ALETTER)return!1;const _e=xe[Re+2];if(Ue===w.ALETTER&&(ye===w.MIDLETTER||ye===w.MIDNUMLET||ye===w.AT)&&_e===w.ALETTER)return!1;const Be=xe[Re-1];return(Ue===w.MIDLETTER||Ue===w.MIDNUMLET||ye===w.AT)&&ye===w.ALETTER&&Be===w.ALETTER||(Ue===w.NUMERIC||Ue===w.ALETTER)&&(ye===w.NUMERIC||ye===w.ALETTER)||(Ue===w.MIDNUM||Ue===w.MIDNUMLET)&&ye===w.NUMERIC&&Be===w.NUMERIC||Ue===w.NUMERIC&&(ye===w.MIDNUM||ye===w.MIDNUMLET)&&_e===w.NUMERIC||(Ue===w.EXTEND||Ue===w.FORMAT)&&(ye===w.ALETTER||ye===w.NUMERIC||ye===w.KATAKANA||ye===w.EXTEND||ye===w.FORMAT)||(ye===w.EXTEND||ye===w.FORMAT&&(_e===w.ALETTER||_e===w.NUMERIC||_e===w.KATAKANA||_e===w.EXTEND||_e===w.FORMAT))&&(Ue===w.ALETTER||Ue===w.NUMERIC||Ue===w.KATAKANA||Ue===w.EXTEND||Ue===w.FORMAT)||Ue===w.CR&&ye===w.LF?!1:Ue===w.NEWLINE||Ue===w.CR||Ue===w.LF||ye===w.NEWLINE||ye===w.CR||ye===w.LF?!0:!(Ue===w.KATAKANA&&ye===w.KATAKANA||ye===w.EXTENDNUMLET&&(Ue===w.ALETTER||Ue===w.NUMERIC||Ue===w.KATAKANA||Ue===w.EXTENDNUMLET)||Ue===w.EXTENDNUMLET&&(ye===w.ALETTER||ye===w.NUMERIC||ye===w.KATAKANA)||Ue===w.AT)},fe=R,le=N,q=O,de=xe=>xe==="http"||xe==="https",ne=(xe,Re)=>{let Ue;for(Ue=Re;Ue<xe.length&&!le.test(xe[Ue]);Ue++);return Ue},be=(xe,Re)=>{const Ue=ne(xe,Re+1);return xe.slice(Re+1,Ue).join(fe).substr(0,3)==="://"?Ue:Re},Fe=(xe,Re,Ue,ye)=>{const _e=[],Be=[];let Ye=[];for(let pt=0;pt<Ue.length;++pt)if(Ye.push(xe[pt]),j(Ue,pt)){const fn=Re[pt];if((ye.includeWhitespace||!le.test(fn))&&(ye.includePunctuation||!q.test(fn))){const qt=pt-Ye.length+1,Nn=pt+1,no=Re.slice(qt,Nn).join(fe);if(de(no)){const so=be(Re,pt),Wo=xe.slice(Nn,so);Array.prototype.push.apply(Ye,Wo),pt=so}Re[pt+1]==="."&&/^([a-zA-Z]\.)+$/.test(no+".")?(Ye.push(xe[pt+1]),Be.push({start:qt,end:Nn+1})):Be.push({start:qt,end:Nn}),_e.push(Ye)}Ye=[]}return{words:_e,indices:Be}},Ze=()=>({includeWhitespace:!1,includePunctuation:!1}),rt=(xe,Re,Ue)=>{Ue={...Ze(),...Ue};const ye=h(xe,Re),_e=oe(ye);return Fe(xe,ye,_e,Ue)},Ve=(xe,Re,Ue)=>rt(xe,Re,Ue).words,P=xe=>xe.replace(/\uFEFF/g,"");var wt=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker");const Nt=(xe,Re)=>{const Ue=Re.getBlockElements(),ye=Re.getVoidElements(),_e=qt=>Ue[qt.nodeName]||ye[qt.nodeName],Be=[];let Ye="";const pt=new wt(xe,xe);let fn;for(;fn=pt.next();)fn.nodeType===3?Ye+=P(fn.data):_e(fn)&&Ye.length&&(Be.push(Ye),Ye="");return Ye.length&&Be.push(Ye),Be},Kt=xe=>xe.replace(/\u200B/g,""),rn=xe=>xe.replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"_").length,ct=(xe,Re)=>{const Ue=Kt(Nt(xe,Re).join(`
`));return Ve(Ue.split(""),d).length},Tn=(xe,Re)=>{const Ue=Nt(xe,Re).join("");return rn(Ue)},Tt=(xe,Re)=>{const Ue=Nt(xe,Re).join("").replace(/\s/g,"");return rn(Ue)},ot=(xe,Re)=>()=>Re(xe.getBody(),xe.schema),$e=(xe,Re)=>()=>Re(xe.selection.getRng().cloneContents(),xe.schema),ht=xe=>ot(xe,ct),Dn=xe=>({body:{getWordCount:ht(xe),getCharacterCount:ot(xe,Tn),getCharacterCountWithoutSpaces:ot(xe,Tt)},selection:{getWordCount:$e(xe,ct),getCharacterCount:$e(xe,Tn),getCharacterCountWithoutSpaces:$e(xe,Tt)},getCount:ht(xe)}),mn=(xe,Re)=>{xe.windowManager.open({title:"Word Count",body:{type:"panel",items:[{type:"table",header:["Count","Document","Selection"],cells:[["Words",String(Re.body.getWordCount()),String(Re.selection.getWordCount())],["Characters (no spaces)",String(Re.body.getCharacterCountWithoutSpaces()),String(Re.selection.getCharacterCountWithoutSpaces())],["Characters",String(Re.body.getCharacterCount()),String(Re.selection.getCharacterCount())]]}]},buttons:[{type:"cancel",name:"close",text:"Close",primary:!0}]})},Fn=(xe,Re)=>{xe.addCommand("mceWordCount",()=>mn(xe,Re))},Gt=(xe,Re)=>{let Ue=null;return{cancel:()=>{l(Ue)||(clearTimeout(Ue),Ue=null)},throttle:(...Be)=>{l(Ue)&&(Ue=setTimeout(()=>{Ue=null,xe.apply(null,Be)},Re))}}};var te=tinymce.util.Tools.resolve("tinymce.util.Delay");const So=(xe,Re)=>{xe.dispatch("wordCountUpdate",{wordCount:{words:Re.body.getWordCount(),characters:Re.body.getCharacterCount(),charactersWithoutSpaces:Re.body.getCharacterCountWithoutSpaces()}})},tn=(xe,Re)=>{So(xe,Re)},Cn=(xe,Re,Ue)=>{const ye=Gt(()=>tn(xe,Re),Ue);xe.on("init",()=>{tn(xe,Re),te.setEditorTimeout(xe,()=>{xe.on("SetContent BeforeAddUndo Undo Redo ViewUpdate keyup",ye.throttle)},0),xe.on("remove",ye.cancel)})},qe=xe=>{const Re=()=>xe.execCommand("mceWordCount");xe.ui.registry.addButton("wordcount",{tooltip:"Word count",icon:"character-count",onAction:Re}),xe.ui.registry.addMenuItem("wordcount",{text:"Word count",icon:"character-count",onAction:Re})};var st=(xe=300)=>{n.add("wordcount",Re=>{const Ue=Dn(Re);return Fn(Re,Ue),qe(Re),Cn(Re,Ue,xe),Ue})};st()}()),HG}var UG;function yye(){return UG||(UG=1,vye()),VG}yye();var WG={},jG={},ZG;function xye(){return ZG||(ZG=1,function(){var n=tinymce.util.Tools.resolve("tinymce.PluginManager");const r=(I,U,ie)=>{var Se;return ie(I,U.prototype)?!0:((Se=I.constructor)===null||Se===void 0?void 0:Se.name)===U.name},l=I=>{const U=typeof I;return I===null?"null":U==="object"&&Array.isArray(I)?"array":U==="object"&&r(I,String,(ie,Se)=>Se.isPrototypeOf(ie))?"string":U},d=I=>U=>l(U)===I,h=I=>U=>typeof U===I,g=I=>U=>I===U,y=d("string"),w=d("array"),A=h("boolean"),R=g(void 0),O=I=>I==null,N=I=>!O(I),V=h("function"),z=h("number"),W=()=>{},X=(I,U)=>ie=>I(U(ie)),oe=I=>()=>I,j=I=>I,fe=(I,U)=>I===U;function le(I,...U){return(...ie)=>{const Se=U.concat(ie);return I.apply(null,Se)}}const q=I=>{I()},de=oe(!1),ne=oe(!0);class be{constructor(U,ie){this.tag=U,this.value=ie}static some(U){return new be(!0,U)}static none(){return be.singletonNone}fold(U,ie){return this.tag?ie(this.value):U()}isSome(){return this.tag}isNone(){return!this.tag}map(U){return this.tag?be.some(U(this.value)):be.none()}bind(U){return this.tag?U(this.value):be.none()}exists(U){return this.tag&&U(this.value)}forall(U){return!this.tag||U(this.value)}filter(U){return!this.tag||U(this.value)?this:be.none()}getOr(U){return this.tag?this.value:U}or(U){return this.tag?this:U}getOrThunk(U){return this.tag?this.value:U()}orThunk(U){return this.tag?this:U()}getOrDie(U){if(this.tag)return this.value;throw new Error(U??"Called getOrDie on None")}static from(U){return N(U)?be.some(U):be.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(U){this.tag&&U(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}be.singletonNone=new be(!1);const Fe=Object.keys,Ze=Object.hasOwnProperty,rt=(I,U)=>{const ie=Fe(I);for(let Se=0,et=ie.length;Se<et;Se++){const Pt=ie[Se],sn=I[Pt];U(sn,Pt)}},Oe=I=>(U,ie)=>{I[ie]=U},Ve=(I,U,ie,Se)=>{rt(I,(et,Pt)=>{(U(et,Pt)?ie:Se)(et,Pt)})},P=(I,U)=>{const ie={};return Ve(I,U,Oe(ie),W),ie},wt=(I,U)=>{const ie=[];return rt(I,(Se,et)=>{ie.push(U(Se,et))}),ie},Nt=I=>wt(I,j),Kt=I=>Fe(I).length,rn=(I,U)=>ct(I,U)?be.from(I[U]):be.none(),ct=(I,U)=>Ze.call(I,U),Tn=(I,U)=>ct(I,U)&&I[U]!==void 0&&I[U]!==null,Tt=I=>{for(const U in I)if(Ze.call(I,U))return!1;return!0},ot=Array.prototype.indexOf,$e=Array.prototype.push,ht=(I,U)=>ot.call(I,U),Dn=(I,U)=>ht(I,U)>-1,mn=(I,U)=>{for(let ie=0,Se=I.length;ie<Se;ie++){const et=I[ie];if(U(et,ie))return!0}return!1},Fn=(I,U)=>{const ie=[];for(let Se=0;Se<I;Se++)ie.push(U(Se));return ie},Gt=(I,U)=>{const ie=I.length,Se=new Array(ie);for(let et=0;et<ie;et++){const Pt=I[et];Se[et]=U(Pt,et)}return Se},te=(I,U)=>{for(let ie=0,Se=I.length;ie<Se;ie++){const et=I[ie];U(et,ie)}},So=(I,U)=>{for(let ie=I.length-1;ie>=0;ie--){const Se=I[ie];U(Se,ie)}},tn=(I,U)=>{const ie=[],Se=[];for(let et=0,Pt=I.length;et<Pt;et++){const sn=I[et];(U(sn,et)?ie:Se).push(sn)}return{pass:ie,fail:Se}},Cn=(I,U)=>{const ie=[];for(let Se=0,et=I.length;Se<et;Se++){const Pt=I[Se];U(Pt,Se)&&ie.push(Pt)}return ie},qe=(I,U,ie)=>(So(I,(Se,et)=>{ie=U(ie,Se,et)}),ie),st=(I,U,ie)=>(te(I,(Se,et)=>{ie=U(ie,Se,et)}),ie),xe=(I,U,ie)=>{for(let Se=0,et=I.length;Se<et;Se++){const Pt=I[Se];if(U(Pt,Se))return be.some(Pt);if(ie(Pt,Se))break}return be.none()},Re=(I,U)=>xe(I,U,de),Ue=I=>{const U=[];for(let ie=0,Se=I.length;ie<Se;++ie){if(!w(I[ie]))throw new Error("Arr.flatten item "+ie+" was not an array, input: "+I);$e.apply(U,I[ie])}return U},ye=(I,U)=>Ue(Gt(I,U)),_e=(I,U)=>{for(let ie=0,Se=I.length;ie<Se;++ie){const et=I[ie];if(U(et,ie)!==!0)return!1}return!0},Be=(I,U)=>{const ie={};for(let Se=0,et=I.length;Se<et;Se++){const Pt=I[Se];ie[String(Pt)]=U(Pt,Se)}return ie},Ye=(I,U)=>U>=0&&U<I.length?be.some(I[U]):be.none(),pt=I=>Ye(I,0),fn=I=>Ye(I,I.length-1),qt=(I,U)=>{for(let ie=0;ie<I.length;ie++){const Se=U(I[ie],ie);if(Se.isSome())return Se}return be.none()},Nn=8,no=9,so=11,Wo=1,Po=3,or=(I,U)=>{const Se=(U||document).createElement("div");if(Se.innerHTML=I,!Se.hasChildNodes()||Se.childNodes.length>1){const et="HTML does not have a single root node";throw console.error(et,I),new Error(et)}return ms(Se.childNodes[0])},ps=(I,U)=>{const Se=(U||document).createElement(I);return ms(Se)},Qr=(I,U)=>{const Se=(U||document).createTextNode(I);return ms(Se)},ms=I=>{if(I==null)throw new Error("Node cannot be null or undefined");return{dom:I}},on={fromHtml:or,fromTag:ps,fromText:Qr,fromDom:ms,fromPoint:(I,U,ie)=>be.from(I.dom.elementFromPoint(U,ie)).map(ms)},ro=(I,U)=>{const ie=I.dom;if(ie.nodeType!==Wo)return!1;{const Se=ie;if(Se.matches!==void 0)return Se.matches(U);if(Se.msMatchesSelector!==void 0)return Se.msMatchesSelector(U);if(Se.webkitMatchesSelector!==void 0)return Se.webkitMatchesSelector(U);if(Se.mozMatchesSelector!==void 0)return Se.mozMatchesSelector(U);throw new Error("Browser lacks native selectors")}},Do=I=>I.nodeType!==Wo&&I.nodeType!==no&&I.nodeType!==so||I.childElementCount===0,ia=(I,U)=>{const ie=U===void 0?document:U.dom;return Do(ie)?[]:Gt(ie.querySelectorAll(I),on.fromDom)},tl=(I,U)=>{const ie=U===void 0?document:U.dom;return Do(ie)?be.none():be.from(ie.querySelector(I)).map(on.fromDom)},Yt=(I,U)=>I.dom===U.dom,ba=ro;typeof window<"u"||Function("return this;")();const Vo=I=>I.dom.nodeName.toLowerCase(),Bl=I=>I.dom.nodeType,Vs=I=>U=>Bl(U)===I,ea=I=>Bl(I)===Nn||Vo(I)==="#comment",vc=Vs(Wo),yc=Vs(Po),xc=Vs(no),pl=Vs(so),wc=I=>U=>vc(U)&&Vo(U)===I,Hs=I=>on.fromDom(I.dom.ownerDocument),ho=I=>xc(I)?I:Hs(I),nl=I=>be.from(I.dom.parentNode).map(on.fromDom),Ma=(I,U)=>{const ie=V(U)?U:de;let Se=I.dom;const et=[];for(;Se.parentNode!==null&&Se.parentNode!==void 0;){const Pt=Se.parentNode,sn=on.fromDom(Pt);if(et.push(sn),ie(sn)===!0)break;Se=Pt}return et},vu=I=>be.from(I.dom.previousSibling).map(on.fromDom),xn=I=>be.from(I.dom.nextSibling).map(on.fromDom),Yl=I=>Gt(I.dom.childNodes,on.fromDom),Of=(I,U)=>{const ie=I.dom.childNodes;return be.from(ie[U]).map(on.fromDom)},wr=I=>Of(I,0),Rf=I=>pl(I)&&N(I.dom.host),ol=I=>on.fromDom(I.dom.getRootNode()),Ml=I=>{const U=ol(I);return Rf(U)?be.some(U):be.none()},bl=I=>on.fromDom(I.dom.host),ar=I=>{const U=yc(I)?I.dom.parentNode:I.dom;if(U==null||U.ownerDocument===null)return!1;const ie=U.ownerDocument;return Ml(on.fromDom(U)).fold(()=>ie.body.contains(U),X(ar,bl))};var ei=(I,U,ie,Se,et)=>I(ie,Se)?be.some(ie):V(et)&&et(ie)?be.none():U(ie,Se,et);const sl=(I,U,ie)=>{let Se=I.dom;const et=V(ie)?ie:de;for(;Se.parentNode;){Se=Se.parentNode;const Pt=on.fromDom(Se);if(U(Pt))return be.some(Pt);if(et(Pt))break}return be.none()},Df=(I,U,ie)=>ei((et,Pt)=>Pt(et),sl,I,U,ie),Wc=(I,U)=>{const ie=et=>U(on.fromDom(et));return Re(I.dom.childNodes,ie).map(on.fromDom)},vl=(I,U,ie)=>sl(I,Se=>ro(Se,U),ie),Od=(I,U)=>Wc(I,ie=>ro(ie,U)),yu=(I,U)=>tl(U,I),os=(I,U,ie)=>ei((et,Pt)=>ro(et,Pt),vl,I,U,ie),$r=I=>os(I,"[contenteditable]"),la=(I,U=!1)=>ar(I)?I.dom.isContentEditable:$r(I).fold(oe(U),ie=>Nf(ie)==="true"),Nf=I=>I.dom.contentEditable,rl=I=>I.nodeName.toLowerCase(),jc=I=>on.fromDom(I.getBody()),Ea=I=>U=>Yt(U,jc(I)),pi=I=>I?I.replace(/px$/,""):"",bi=I=>/^\d+(\.\d+)?$/.test(I)?I+"px":I,Ns=I=>on.fromDom(I.selection.getStart()),hr=I=>on.fromDom(I.selection.getEnd()),Pe=I=>Df(I,wc("table")).forall(la),ut=(I,U)=>Cn(Yl(I),U),We=(I,U)=>{let ie=[];return te(Yl(I),Se=>{U(Se)&&(ie=ie.concat([Se])),ie=ie.concat(We(Se,U))}),ie},yt=(I,U)=>ut(I,ie=>ro(ie,U)),bt=(I,U)=>ia(U,I),it=(I,U,ie)=>{if(y(ie)||A(ie)||z(ie))I.setAttribute(U,ie+"");else throw console.error("Invalid call to Attribute.set. Key ",U,":: Value ",ie,":: Element ",I),new Error("Attribute value was not simple")},Qt=(I,U,ie)=>{it(I.dom,U,ie)},gn=(I,U)=>{const ie=I.dom;rt(U,(Se,et)=>{it(ie,et,Se)})},yn=(I,U)=>{const ie=I.dom.getAttribute(U);return ie===null?void 0:ie},_n=(I,U)=>be.from(yn(I,U)),wn=(I,U)=>{I.dom.removeAttribute(U)},_o=I=>st(I.dom.attributes,(U,ie)=>(U[ie.name]=ie.value,U),{}),bn=(I,U,ie=fe)=>I.exists(Se=>ie(Se,U)),Fs=I=>{const U=[],ie=Se=>{U.push(Se)};for(let Se=0;Se<I.length;Se++)I[Se].each(ie);return U},Ko=(I,U,ie)=>I.isSome()&&U.isSome()?be.some(ie(I.getOrDie(),U.getOrDie())):be.none(),is=I=>I.bind(j),Vr=(I,U)=>I?be.some(U):be.none(),Bo=(I,U)=>I.substring(U),Xl=(I,U,ie)=>U===""||I.length>=U.length&&I.substr(ie,ie+U.length)===U,vi=(I,U)=>po(I,U)?Bo(I,U.length):I,po=(I,U)=>Xl(I,U,0),xl=(I=>U=>U.replace(I,""))(/^\s+|\s+$/g),Sr=I=>I.length>0,Rd=I=>!Sr(I),jr=(I,U=10)=>{const ie=parseInt(I,U);return isNaN(ie)?be.none():be.some(ie)},If=I=>{const U=parseFloat(I);return isNaN(U)?be.none():be.some(U)},wl=I=>I.style!==void 0&&V(I.style.getPropertyValue),Is=(I,U,ie)=>{if(!y(ie))throw console.error("Invalid call to CSS.set. Property ",U,":: Value ",ie,":: Element ",I),new Error("CSS value must be a string: "+ie);wl(I)&&I.style.setProperty(U,ie)},Yu=(I,U)=>{wl(I)&&I.style.removeProperty(U)},Cm=(I,U,ie)=>{const Se=I.dom;Is(Se,U,ie)},Sm=(I,U)=>{const ie=I.dom,et=window.getComputedStyle(ie).getPropertyValue(U);return et===""&&!ar(I)?_r(ie,U):et},_r=(I,U)=>wl(I)?I.style.getPropertyValue(U):"",al=(I,U)=>{const ie=I.dom,Se=_r(ie,U);return be.from(Se).filter(et=>et.length>0)},Cl=(I,U)=>{const ie=I.dom;Yu(ie,U),bn(_n(I,"style").map(xl),"")&&wn(I,"style")},Qs=(I,U,ie=0)=>_n(I,U).map(Se=>parseInt(Se,10)).getOr(ie),Dd=(I,U)=>Sl(I,U,ne),Sl=(I,U,ie)=>ye(Yl(I),Se=>ro(Se,U)?ie(Se)?[Se]:[]:Sl(Se,U,ie)),ti=["tfoot","thead","tbody","colgroup"],_m=I=>Dn(ti,I),La=(I,U)=>({rows:I,columns:U}),Bi=(I,U,ie)=>({element:I,rowspan:U,colspan:ie}),ni=(I,U,ie,Se,et,Pt)=>({element:I,rowspan:U,colspan:ie,row:Se,column:et,isLocked:Pt}),il=(I,U,ie)=>({element:I,cells:U,section:ie}),vg=(I,U,ie,Se)=>({startRow:I,startCol:U,finishRow:ie,finishCol:Se}),qo=(I,U,ie)=>({element:I,colspan:U,column:ie}),Zc=(I,U)=>({element:I,columns:U}),Xu=(I,U,ie=de)=>{if(ie(U))return be.none();if(Dn(I,Vo(U)))return be.some(U);const Se=et=>ro(et,"table")||ie(et);return vl(U,I.join(","),Se)},xu=(I,U)=>Xu(["td","th"],I,U),Rh=I=>Dd(I,"th,td"),lv=I=>ro(I,"colgroup")?yt(I,"col"):ye(cv(I),U=>yt(U,"col")),Ll=(I,U)=>os(I,"table",U),Dh=I=>Dd(I,"tr"),cv=I=>Ll(I).fold(oe([]),U=>yt(U,"colgroup")),yg=(I,U)=>Gt(I,ie=>{if(Vo(ie)==="colgroup"){const Se=Gt(lv(ie),et=>{const Pt=Qs(et,"span",1);return Bi(et,1,Pt)});return il(ie,Se,"colgroup")}else{const Se=Gt(Rh(ie),et=>{const Pt=Qs(et,"rowspan",1),sn=Qs(et,"colspan",1);return Bi(et,Pt,sn)});return il(ie,Se,U(ie))}}),jp=I=>nl(I).map(U=>{const ie=Vo(U);return _m(ie)?ie:"tbody"}).getOr("tbody"),an=I=>{const U=Dh(I),Se=[...cv(I),...U];return yg(Se,jp)},Nd="data-snooker-locked-cols",Id=I=>_n(I,Nd).bind(U=>be.from(U.match(/\d+/g))).map(U=>Be(U,ne)),xg=(I,U)=>I+","+U,oi=(I,U,ie)=>be.from(I.access[xg(U,ie)]),Pd=(I,U,ie)=>{const Se=Pf(I,et=>ie(U,et.element));return Se.length>0?be.some(Se[0]):be.none()},Pf=(I,U)=>{const ie=ye(I.all,Se=>Se.cells);return Cn(ie,U)},uv=I=>{const U={};let ie=0;return te(I.cells,Se=>{const et=Se.colspan;Fn(et,Pt=>{const sn=ie+Pt;U[sn]=qo(Se.element,et,sn)}),ie+=et}),U},Zp=I=>{const U={},ie=[],et=pt(I).map(oa=>oa.element).bind(Ll).bind(Id).getOr({});let Pt=0,sn=0,Bn=0;const{pass:Mn,fail:Lo}=tn(I,oa=>oa.section==="colgroup");te(Lo,oa=>{const Ui=[];te(oa.cells,Ur=>{let Nu=0;for(;U[xg(Bn,Nu)]!==void 0;)Nu++;const Kf=Tn(et,Nu.toString()),ou=ni(Ur.element,Ur.rowspan,Ur.colspan,Bn,Nu,Kf);for(let Dg=0;Dg<Ur.colspan;Dg++)for(let od=0;od<Ur.rowspan;od++){const Hh=Bn+od,Bm=Nu+Dg,qf=xg(Hh,Bm);U[qf]=ou,sn=Math.max(sn,Bm+1)}Ui.push(ou)}),Pt++,ie.push(il(oa.element,Ui,oa.section)),Bn++});const{columns:Ro,colgroups:Zo}=fn(Mn).map(oa=>{const Ui=uv(oa);return{colgroups:[Zc(oa.element,Nt(Ui))],columns:Ui}}).getOrThunk(()=>({colgroups:[],columns:{}}));return{grid:La(Pt,sn),access:U,all:ie,columns:Ro,colgroups:Zo}},Kc={fromTable:I=>{const U=an(I);return Zp(U)},generate:Zp,getAt:oi,findItem:Pd,filterItems:Pf,justCells:I=>ye(I.all,U=>U.cells),justColumns:I=>Nt(I.columns),hasColumns:I=>Fe(I.columns).length>0,getColumnAt:(I,U)=>be.from(I.columns[U])};var Ju=tinymce.util.Tools.resolve("tinymce.util.Tools");const qc=(I,U,ie)=>{const Se=I.select("td,th",U);let et;for(let Pt=0;Pt<Se.length;Pt++){const sn=I.getStyle(Se[Pt],ie);if(R(et)&&(et=sn),et!==sn)return""}return et},Fa=(I,U,ie)=>{Ju.each("left center right".split(" "),Se=>{Se!==ie&&I.formatter.remove("align"+Se,{},U)}),ie&&I.formatter.apply("align"+ie,{},U)},_l=(I,U,ie)=>{Ju.each("top middle bottom".split(" "),Se=>{Se!==ie&&I.formatter.remove("valign"+Se,{},U)}),ie&&I.formatter.apply("valign"+ie,{},U)},Bd=(I,U,ie)=>{I.dispatch("TableModified",{...ie,table:U})},ls=(I,U)=>If(I).getOr(U),Cc=(I,U,ie)=>ls(Sm(I,U),ie),km=(I,U,ie,Se)=>{const et=Cc(I,`padding-${ie}`,0),Pt=Cc(I,`padding-${Se}`,0),sn=Cc(I,`border-${ie}-width`,0),Bn=Cc(I,`border-${Se}-width`,0);return U-et-Pt-sn-Bn},Em=(I,U)=>{const ie=I.dom,Se=ie.getBoundingClientRect().width||ie.offsetWidth;return km(I,Se,"left","right")},Zr=I=>Em(I);var pr=tinymce.util.Tools.resolve("tinymce.Env");const Za="tableprops tabledelete | tableinsertrowbefore tableinsertrowafter tabledeleterow | tableinsertcolbefore tableinsertcolafter tabledeletecol",ir=Fn(5,I=>{const U=`${I+1}px`;return{title:U,value:U}}),Md=Gt(["Solid","Dotted","Dashed","Double","Groove","Ridge","Inset","Outset","None","Hidden"],I=>({title:I,value:I.toLowerCase()})),Ld="100%",va=I=>{var U;const ie=I.dom,Se=(U=ie.getParent(I.selection.getStart(),ie.isBlock))!==null&&U!==void 0?U:I.getBody();return Zr(on.fromDom(Se))+"px"},Mi=(I,U)=>Cg(I)||!bs(I)?U:wu(I)?{...U,width:va(I)}:{...U,width:Ld},yi=(I,U)=>Cg(I)||bs(I)?U:wu(I)?{...U,width:va(I)}:{...U,width:Ld},ca=I=>U=>U.options.get(I),Qu=I=>{const U=I.options.register;U("table_border_widths",{processor:"object[]",default:ir}),U("table_border_styles",{processor:"object[]",default:Md}),U("table_cell_advtab",{processor:"boolean",default:!0}),U("table_row_advtab",{processor:"boolean",default:!0}),U("table_advtab",{processor:"boolean",default:!0}),U("table_appearance_options",{processor:"boolean",default:!0}),U("table_grid",{processor:"boolean",default:!pr.deviceType.isTouch()}),U("table_cell_class_list",{processor:"object[]",default:[]}),U("table_row_class_list",{processor:"object[]",default:[]}),U("table_class_list",{processor:"object[]",default:[]}),U("table_toolbar",{processor:"string",default:Za}),U("table_background_color_map",{processor:"object[]",default:[]}),U("table_border_color_map",{processor:"object[]",default:[]})},Ho=ca("table_sizing_mode"),ta=ca("table_border_widths"),Li=ca("table_border_styles"),Gc=ca("table_cell_advtab"),Aa=ca("table_row_advtab"),Hn=ca("table_advtab"),Sc=ca("table_appearance_options"),_c=ca("table_grid"),bs=ca("table_style_by_css"),Bf=ca("table_cell_class_list"),Nh=ca("table_row_class_list"),Yc=ca("table_class_list"),Go=ca("table_toolbar"),xi=ca("table_background_color_map"),Am=ca("table_border_color_map"),wu=I=>Ho(I)==="fixed",Cg=I=>Ho(I)==="responsive",kc=I=>{const U=I.options,ie=U.get("table_default_styles");return U.isSet("table_default_styles")?ie:Mi(I,ie)},Fi=I=>{const U=I.options,ie=U.get("table_default_attributes");return U.isSet("table_default_attributes")?ie:yi(I,ie)},Xc=(I,U)=>U.column>=I.startCol&&U.column+U.colspan-1<=I.finishCol&&U.row>=I.startRow&&U.row+U.rowspan-1<=I.finishRow,Fd=(I,U)=>{let ie=!0;const Se=le(Xc,U);for(let et=U.startRow;et<=U.finishRow;et++)for(let Pt=U.startCol;Pt<=U.finishCol;Pt++)ie=ie&&Kc.getAt(I,et,Pt).exists(Se);return ie?be.some(U):be.none()},Ke=(I,U)=>vg(Math.min(I.row,U.row),Math.min(I.column,U.column),Math.max(I.row+I.rowspan-1,U.row+U.rowspan-1),Math.max(I.column+I.colspan-1,U.column+U.colspan-1)),Mf=(I,U,ie)=>{const Se=Kc.findItem(I,U,Yt),et=Kc.findItem(I,ie,Yt);return Se.bind(Pt=>et.map(sn=>Ke(Pt,sn)))},Ws=(I,U,ie)=>Mf(I,U,ie).bind(Se=>Fd(I,Se)),Ih=(I,U,ie)=>{const Se=Tm(I);return Ws(Se,U,ie)},Tm=Kc.fromTable,fc=(I,U)=>{nl(I).each(Se=>{Se.dom.insertBefore(U.dom,I.dom)})},ss=(I,U)=>{xn(I).fold(()=>{nl(I).each(et=>{Jl(et,U)})},Se=>{fc(Se,U)})},si=(I,U)=>{wr(I).fold(()=>{Jl(I,U)},Se=>{I.dom.insertBefore(U.dom,Se.dom)})},Jl=(I,U)=>{I.dom.appendChild(U.dom)},mc=(I,U)=>{fc(I,U),Jl(U,I)},Jc=(I,U)=>{te(U,(ie,Se)=>{const et=Se===0?I:U[Se-1];ss(et,ie)})},Cu=(I,U)=>{te(U,ie=>{Jl(I,ie)})},Ka=I=>{const U=I.dom;U.parentNode!==null&&U.parentNode.removeChild(U)},$d=I=>{const U=Yl(I);U.length>0&&Jc(I,U),Ka(I)},Sg=((I,U)=>{const ie=Pt=>{if(!I(Pt))throw new Error("Can only get "+U+" value of a "+U+" node");return Se(Pt).getOr("")},Se=Pt=>I(Pt)?be.from(Pt.dom.nodeValue):be.none();return{get:ie,getOption:Se,set:(Pt,sn)=>{if(!I(Pt))throw new Error("Can only set raw "+U+" value of a "+U+" node");Pt.dom.nodeValue=sn}}})(yc,"text"),Ta=I=>Sg.get(I),Xn=(I,U)=>Sg.set(I,U);var Su=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","li","table","thead","tbody","tfoot","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],Lf=()=>{const I=Lo=>on.fromDom(Lo.dom.cloneNode(!1)),U=Lo=>ho(Lo).dom,ie=Lo=>vc(Lo)?Vo(Lo)==="body"?!0:Dn(Su,Vo(Lo)):!1,Se=Lo=>vc(Lo)?Dn(["br","img","hr","input"],Vo(Lo)):!1,et=Lo=>vc(Lo)&&yn(Lo,"contenteditable")==="false",Pt=(Lo,Ro)=>Lo.dom.compareDocumentPosition(Ro.dom),sn=(Lo,Ro)=>{const Zo=_o(Lo);gn(Ro,Zo)},Bn=Lo=>{const Ro=Vo(Lo);return Dn(["script","noscript","iframe","noframes","noembed","title","style","textarea","xmp"],Ro)},Mn=Lo=>vc(Lo)?_n(Lo,"lang"):be.none();return{up:oe({selector:vl,closest:os,predicate:sl,all:Ma}),down:oe({selector:bt,predicate:We}),styles:oe({get:Sm,getRaw:al,set:Cm,remove:Cl}),attrs:oe({get:yn,set:Qt,remove:wn,copyTo:sn}),insert:oe({before:fc,after:ss,afterAll:Jc,append:Jl,appendAll:Cu,prepend:si,wrap:mc}),remove:oe({unwrap:$d,remove:Ka}),create:oe({nu:on.fromTag,clone:I,text:on.fromText}),query:oe({comparePosition:Pt,prevSibling:vu,nextSibling:xn}),property:oe({children:Yl,name:Vo,parent:nl,document:U,isText:yc,isComment:ea,isElement:vc,isSpecial:Bn,getLanguage:Mn,getText:Ta,setText:Xn,isBoundary:ie,isEmptyTag:Se,isNonEditable:et}),eq:Yt,is:ba}};const ri=(I,U,ie,Se)=>{const et=ie[0],Pt=ie.slice(1);return Se(I,U,et,Pt)},_u=(I,U,ie)=>ie.length>0?ri(I,U,ie,Fl):be.none(),Fl=(I,U,ie,Se)=>{const et=U(I,ie);return qe(Se,(Pt,sn)=>{const Bn=U(I,sn);return ku(I,Pt,Bn)},et)},ku=(I,U,ie)=>U.bind(Se=>ie.filter(le(I.eq,Se))),ed=_u,Oa=Lf(),gc=(I,U)=>ed(Oa,(ie,Se)=>I(Se),U),Qc=I=>vl(I,"table"),Ff=(I,U)=>{const ie=bt(I,U);return ie.length>0?be.some(ie):be.none()},qp=(I,U,ie)=>yu(I,U).bind(Se=>yu(I,ie).bind(et=>gc(Qc,[Se,et]).map(Pt=>({first:Se,last:et,table:Pt})))),Eu=(I,U)=>Ff(I,U),Vd=(I,U,ie)=>qp(I,U,ie).bind(Se=>{const et=Mn=>Yt(I,Mn),Pt="thead,tfoot,tbody,table",sn=vl(Se.first,Pt,et),Bn=vl(Se.last,Pt,et);return sn.bind(Mn=>Bn.bind(Lo=>Yt(Mn,Lo)?Ih(Se.table,Se.first,Se.last):be.none()))}),Rm=I=>Gt(I,on.fromDom),kr="data-mce-selected",wi="data-mce-first-selected",Ci="td["+wi+"],th["+wi+"]",$i="data-mce-last-selected",ya="td["+$i+"],th["+$i+"]",$f={selected:kr,firstSelectedSelector:Ci,lastSelectedSelector:ya},ua=I=>Ll(I).bind(U=>Eu(U,$f.firstSelectedSelector)).fold(oe(I),U=>U[0]),$a=I=>(U,ie)=>{const Se=Vo(U),et=Se==="col"||Se==="colgroup"?ua(U):U;return os(et,I,ie)},Ec=$a("th,td,caption"),Ft=$a("th,td"),Ra=I=>Rm(I.model.table.getSelectedCells()),_g=(I,U)=>{const ie=Ft(I),Se=ie.bind(et=>Ll(et)).map(et=>Dh(et));return Ko(ie,Se,(et,Pt)=>Cn(Pt,sn=>mn(Rm(sn.dom.cells),Bn=>yn(Bn,U)==="1"||Yt(Bn,et)))).getOr([])},br=[{text:"None",value:""},{text:"Top",value:"top"},{text:"Middle",value:"middle"},{text:"Bottom",value:"bottom"}],Au=I=>({value:Hi(I)}),Vi=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,Ac=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,Vf=I=>Vi.test(I)||Ac.test(I),Hi=I=>vi(I,"#").toUpperCase(),rs=I=>Vf(I)?be.some({value:Hi(I)}):be.none(),Ir=I=>{const U=I.toString(16);return(U.length===1?"0"+U:U).toUpperCase()},Tu=I=>{const U=Ir(I.red)+Ir(I.green)+Ir(I.blue);return Au(U)},Hr=/^\s*rgb\s*\(\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*(\d+)\s*\)\s*$/i,Dm=/^\s*rgba\s*\(\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*((?:\d?\.\d+|\d+)%?)\s*\)\s*$/i,Tc=(I,U,ie,Se)=>({red:I,green:U,blue:ie,alpha:Se}),Ph=(I,U,ie,Se)=>{const et=parseInt(I,10),Pt=parseInt(U,10),sn=parseInt(ie,10),Bn=parseFloat(Se);return Tc(et,Pt,sn,Bn)},Er=I=>{const U=Hr.exec(I);if(U!==null)return be.some(Ph(U[1],U[2],U[3],"1"));const ie=Dm.exec(I);return ie!==null?be.some(Ph(ie[1],ie[2],ie[3],ie[4])):be.none()},mt=I=>rs(I).orThunk(()=>Er(I).map(Tu)).getOrThunk(()=>{const U=document.createElement("canvas");U.height=1,U.width=1;const ie=U.getContext("2d");ie.clearRect(0,0,U.width,U.height),ie.fillStyle="#FFFFFF",ie.fillStyle=I,ie.fillRect(0,0,1,1);const Se=ie.getImageData(0,0,1,1).data,et=Se[0],Pt=Se[1],sn=Se[2],Bn=Se[3];return Tu(Tc(et,Pt,sn,Bn))}),zi=I=>Er(I).map(Tu).map(U=>"#"+U.value).getOr(I),Pr=I=>{let U=I;return{get:()=>U,set:et=>{U=et}}},Ql=I=>{const U=Pr(be.none()),ie=()=>U.get().each(I);return{clear:()=>{ie(),U.set(be.none())},isSet:()=>U.get().isSome(),get:()=>U.get(),set:Bn=>{ie(),U.set(be.some(Bn))}}},Oc=()=>Ql(I=>I.unbind()),na=(I,U,ie)=>Se=>{const et=Oc(),Pt=Rd(ie),sn=()=>{const Bn=Ra(I),Mn=Lo=>I.formatter.match(U,{value:ie},Lo.dom,Pt);Pt?(Se.setActive(!mn(Bn,Mn)),et.set(I.formatter.formatChanged(U,Lo=>Se.setActive(!Lo),!0))):(Se.setActive(_e(Bn,Mn)),et.set(I.formatter.formatChanged(U,Se.setActive,!1,{value:ie})))};return I.initialized?sn():I.on("init",sn),et.clear},er=I=>Tn(I,"menu"),Ps=I=>Gt(I,U=>{const ie=U.text||U.title||"";return er(U)?{text:ie,items:Ps(U.menu)}:{text:ie,value:U.value}}),ai=I=>I.length?be.some(Ps([{text:"Select...",value:"mce-no-match"},...I])):be.none(),ii=(I,U,ie,Se)=>Gt(U,et=>{const Pt=et.text||et.title;return er(et)?{type:"nestedmenuitem",text:Pt,getSubmenuItems:()=>ii(I,et.menu,ie,Se)}:{text:Pt,type:"togglemenuitem",onAction:()=>Se(et.value),onSetup:na(I,ie,et.value)}}),kl=(I,U)=>ie=>{I.execCommand("mceTableApplyCellStyle",!1,{[U]:ie})},hc=I=>ye(I,U=>er(U)?[{...U,menu:hc(U.menu)}]:Sr(U.value)?[U]:[]),eu=(I,U,ie,Se)=>et=>et(ii(I,U,ie,Se)),td=(I,U,ie)=>{const Se=Gt(U,et=>({text:et.title,value:"#"+mt(et.value).value,type:"choiceitem"}));return[{type:"fancymenuitem",fancytype:"colorswatch",initData:{colors:Se.length>0?Se:void 0,allowCustomColors:!1},onAction:et=>{const Pt=et.value==="remove"?"":et.value;I.execCommand("mceTableApplyCellStyle",!1,{[ie]:Pt})}}]},Hf=I=>()=>{const ie=I.queryCommandValue("mceTableRowType")==="header"?"body":"header";I.execCommand("mceTableRowType",!1,{type:ie})},kg=I=>()=>{const ie=I.queryCommandValue("mceTableColType")==="th"?"td":"th";I.execCommand("mceTableColType",!1,{type:ie})},Bh=I=>ai(Bf(I)).map(U=>({name:"class",type:"listbox",label:"Class",items:U})),Ou=[{name:"width",type:"input",label:"Width"},{name:"celltype",type:"listbox",label:"Cell type",items:[{text:"Cell",value:"td"},{text:"Header cell",value:"th"}]},{name:"scope",type:"listbox",label:"Scope",items:[{text:"None",value:""},{text:"Row",value:"row"},{text:"Column",value:"col"},{text:"Row group",value:"rowgroup"},{text:"Column group",value:"colgroup"}]},{name:"halign",type:"listbox",label:"Horizontal align",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},{name:"valign",type:"listbox",label:"Vertical align",items:br}],M=I=>Ou.concat(Bh(I).toArray()),Y=(I,U)=>{const Se=[{name:"borderstyle",type:"listbox",label:"Border style",items:[{text:"Select...",value:""}].concat(Ps(Li(I)))},{name:"bordercolor",type:"colorinput",label:"Border color"},{name:"backgroundcolor",type:"colorinput",label:"Background color"}];return{title:"Advanced",name:"advanced",items:U==="cell"?[{name:"borderwidth",type:"input",label:"Border width"}].concat(Se):Se}},He={normal:(I,U)=>{const ie=I.dom;return{setAttrib:(sn,Bn)=>{ie.setAttrib(U,sn,Bn)},setStyle:(sn,Bn)=>{ie.setStyle(U,sn,Bn)},setFormat:(sn,Bn)=>{Bn===""?I.formatter.remove(sn,{value:null},U,!0):I.formatter.apply(sn,{value:Bn},U)}}}},Je=wc("th"),$t=(I,U)=>I&&U?"sectionCells":I?"section":"cells",oo=I=>{const U=I.section==="thead",ie=bn(Eo(I.cells),"th");return I.section==="tfoot"?{type:"footer"}:U||ie?{type:"header",subType:$t(U,ie)}:{type:"body"}},Eo=I=>{const U=Cn(I,ie=>Je(ie.element));return U.length===0?be.some("td"):U.length===I.length?be.some("th"):be.none()},bo=I=>{const U=Gt(I,et=>oo(et).type),ie=Dn(U,"header"),Se=Dn(U,"footer");if(!ie&&!Se)return be.some("body");{const et=Dn(U,"body");return ie&&!et&&!Se?be.some("header"):!ie&&!et&&Se?be.some("footer"):be.none()}},Un=I=>{let U=!1,ie;return(...Se)=>(U||(U=!0,ie=I.apply(null,Se)),ie)},_s=(I,U)=>qt(I.all,ie=>Re(ie.cells,Se=>Yt(U,Se.element))),Kr=(I,U,ie)=>{const Se=Gt(U.selection,Pt=>xu(Pt).bind(sn=>_s(I,sn)).filter(ie)),et=Fs(Se);return Vr(et.length>0,et)},Ar=(I,U)=>U.mergable,Rc=(I,U)=>U.unmergable,Hd=(I,U)=>Kr(I,U,ne),zf=(I,U)=>_s(I,U).exists(ie=>!ie.isLocked),da=(I,U)=>_e(U,ie=>zf(I,ie)),h1=(I,U)=>Ar(I,U).filter(ie=>da(I,ie.cells)),Mh=(I,U)=>Rc(I,U).filter(ie=>da(I,ie));({...{generate:I=>{if(!w(I))throw new Error("cases must be an array");if(I.length===0)throw new Error("there must be at least one case");const U=[],ie={};return te(I,(Se,et)=>{const Pt=Fe(Se);if(Pt.length!==1)throw new Error("one and only one name per case");const sn=Pt[0],Bn=Se[sn];if(ie[sn]!==void 0)throw new Error("duplicate key detected:"+sn);if(sn==="cata")throw new Error("cannot have a case named cata (sorry)");if(!w(Bn))throw new Error("case arguments must be an array");U.push(sn),ie[sn]=(...Mn)=>{const Lo=Mn.length;if(Lo!==Bn.length)throw new Error("Wrong number of arguments to case "+sn+". Expected "+Bn.length+" ("+Bn+"), got "+Lo);return{fold:(...Zo)=>{if(Zo.length!==I.length)throw new Error("Wrong number of arguments to fold. Expected "+I.length+", got "+Zo.length);return Zo[et].apply(null,Mn)},match:Zo=>{const jo=Fe(Zo);if(U.length!==jo.length)throw new Error("Wrong number of arguments to match. Expected: "+U.join(",")+`
Actual: `+jo.join(","));if(!_e(U,Ui=>Dn(jo,Ui)))throw new Error("Not all branches were specified when using match. Specified: "+jo.join(", ")+`
Required: `+U.join(", "));return Zo[sn].apply(null,Mn)},log:Zo=>{console.log(Zo,{constructors:U,constructor:sn,params:Mn})}}}}),ie}}.generate([{none:[]},{only:["index"]},{left:["index","next"]},{middle:["prev","index","next"]},{right:["prev","index"]}])});const Ru=(I,U)=>{const ie=Kc.fromTable(I);return Hd(ie,U).bind(et=>{const Pt=et[et.length-1],sn=et[0].row,Bn=Pt.row+Pt.rowspan,Mn=ie.all.slice(sn,Bn);return bo(Mn)}).getOr("")},zd=I=>po(I,"rgb")?zi(I):I,Lh=I=>{const U=on.fromDom(I);return{borderwidth:al(U,"border-width").getOr(""),borderstyle:al(U,"border-style").getOr(""),bordercolor:al(U,"border-color").map(zd).getOr(""),backgroundcolor:al(U,"background-color").map(zd).getOr("")}},ec=I=>{const U=I[0],ie=I.slice(1);return te(ie,Se=>{te(Fe(U),et=>{rt(Se,(Pt,sn)=>{const Bn=U[et];Bn!==""&&et===sn&&Bn!==Pt&&(U[et]=et==="class"?"mce-no-match":"")})})}),U},cl=(I,U,ie,Se)=>Re(I,et=>!R(ie.formatter.matchNode(Se,U+et))).getOr(""),Nm=le(cl,["left","center","right"],"align"),Ud=le(cl,["top","middle","bottom"],"valign"),bx=(I,U)=>{const ie=kc(I),Se=Fi(I),et=()=>({borderstyle:rn(ie,"border-style").getOr(""),bordercolor:zd(rn(ie,"border-color").getOr("")),backgroundcolor:zd(rn(ie,"background-color").getOr(""))}),Pt={height:"",width:"100%",cellspacing:"",cellpadding:"",caption:!1,class:"",align:"",border:""},sn=()=>{const Ro=ie["border-width"];return bs(I)&&Ro?{border:Ro}:rn(Se,"border").fold(()=>({}),Zo=>({border:Zo}))},Bn=U?et():{},Mn=()=>{const Ro=rn(ie,"border-spacing").or(rn(Se,"cellspacing")).fold(()=>({}),jo=>({cellspacing:jo})),Zo=rn(ie,"border-padding").or(rn(Se,"cellpadding")).fold(()=>({}),jo=>({cellpadding:jo}));return{...Ro,...Zo}};return{...Pt,...ie,...Se,...Bn,...sn(),...Mn()}},Fh=I=>Ll(on.fromDom(I)).map(U=>{const ie={selection:Rm(I.cells)};return Ru(U,ie)}).getOr(""),nd=(I,U,ie)=>{const Se=(Bn,Mn)=>{const Lo=al(on.fromDom(Mn),"border-width");return bs(I)&&Lo.isSome()?Lo.getOr(""):Bn.getAttrib(Mn,"border")||qc(I.dom,Mn,"border-width")||qc(I.dom,Mn,"border")||""},et=I.dom,Pt=bs(I)?et.getStyle(U,"border-spacing")||et.getAttrib(U,"cellspacing"):et.getAttrib(U,"cellspacing")||et.getStyle(U,"border-spacing"),sn=bs(I)?qc(et,U,"padding")||et.getAttrib(U,"cellpadding"):et.getAttrib(U,"cellpadding")||qc(et,U,"padding");return{width:et.getStyle(U,"width")||et.getAttrib(U,"width"),height:et.getStyle(U,"height")||et.getAttrib(U,"height"),cellspacing:Pt??"",cellpadding:sn??"",border:Se(et,U),caption:!!et.select("caption",U)[0],class:et.getAttrib(U,"class",""),align:Nm(I,U),...ie?Lh(U):{}}},Wd=(I,U,ie)=>{const Se=I.dom;return{height:Se.getStyle(U,"height")||Se.getAttrib(U,"height"),class:Se.getAttrib(U,"class",""),type:Fh(U),align:Nm(I,U),...ie?Lh(U):{}}},Vn=(I,U,ie,Se)=>{const et=I.dom,Pt=Se.getOr(U);return{width:((Bn,Mn)=>et.getStyle(Bn,Mn)||et.getAttrib(Bn,Mn))(Pt,"width"),scope:et.getAttrib(U,"scope"),celltype:rl(U),class:et.getAttrib(U,"class",""),halign:Nm(I,U),valign:Ud(I,U),...ie?Lh(U):{}}},Dc=(I,U)=>{const ie=Kc.fromTable(I),Se=Kc.justCells(ie),et=Cn(Se,Pt=>mn(U,sn=>Yt(Pt.element,sn)));return Gt(et,Pt=>({element:Pt.element.dom,column:Kc.getColumnAt(ie,Pt.column).map(sn=>sn.element.dom)}))},$h=(I,U,ie,Se)=>{Se("scope")&&I.setAttrib("scope",ie.scope),Se("class")&&ie.class!=="mce-no-match"&&I.setAttrib("class",ie.class),Se("width")&&U.setStyle("width",bi(ie.width))},jd=(I,U,ie)=>{ie("backgroundcolor")&&I.setFormat("tablecellbackgroundcolor",U.backgroundcolor),ie("bordercolor")&&I.setFormat("tablecellbordercolor",U.bordercolor),ie("borderstyle")&&I.setFormat("tablecellborderstyle",U.borderstyle),ie("borderwidth")&&I.setFormat("tablecellborderwidth",bi(U.borderwidth))},li=(I,U,ie,Se)=>{const et=U.length===1;te(U,Pt=>{const sn=Pt.element,Bn=et?ne:Se,Mn=He.normal(I,sn),Lo=Pt.column.map(Ro=>He.normal(I,Ro)).getOr(Mn);$h(Mn,Lo,ie,Bn),Gc(I)&&jd(Mn,ie,Bn),Se("halign")&&Fa(I,sn,ie.halign),Se("valign")&&_l(I,sn,ie.valign)})},Nc=(I,U)=>{I.execCommand("mceTableCellType",!1,{type:U.celltype,no_events:!0})},Im=(I,U,ie,Se)=>{const et=P(Se,(Pt,sn)=>ie[sn]!==Pt);Kt(et)>0&&U.length>=1&&Ll(U[0]).each(Pt=>{const sn=Dc(Pt,U),Bn=Kt(P(et,(Lo,Ro)=>Ro!=="scope"&&Ro!=="celltype"))>0,Mn=ct(et,"celltype");(Bn||ct(et,"scope"))&&li(I,sn,Se,le(ct,et)),Mn&&Nc(I,Se),Bd(I,Pt.dom,{structure:Mn,style:Bn})})},Zd=(I,U,ie,Se)=>{const et=Se.getData();Se.close(),I.undoManager.transact(()=>{Im(I,U,ie,et),I.focus()})},Gp=(I,U)=>{const ie=Ll(U[0]).map(Se=>Gt(Dc(Se,U),et=>Vn(I,et.element,Gc(I),et.column)));return ec(ie.getOrDie())},tu=I=>{const U=Ra(I);if(U.length===0)return;const ie=Gp(I,U),Se={type:"tabpanel",tabs:[{title:"General",name:"general",items:M(I)},Y(I,"cell")]},et={type:"panel",items:[{type:"grid",columns:2,items:M(I)}]};I.windowManager.open({title:"Cell Properties",size:"normal",body:Gc(I)?Se:et,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:ie,onSubmit:le(Zd,I,U,ie)})},Eg=I=>ai(Nh(I)).map(U=>({name:"class",type:"listbox",label:"Class",items:U})),Ag=[{type:"listbox",name:"type",label:"Row type",items:[{text:"Header",value:"header"},{text:"Body",value:"body"},{text:"Footer",value:"footer"}]},{type:"listbox",name:"align",label:"Alignment",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},{label:"Height",name:"height",type:"input"}],Xt=I=>Ag.concat(Eg(I).toArray()),mv=(I,U,ie)=>{ie("class")&&U.class!=="mce-no-match"&&I.setAttrib("class",U.class),ie("height")&&I.setStyle("height",bi(U.height))},Kd=(I,U,ie)=>{ie("backgroundcolor")&&I.setStyle("background-color",U.backgroundcolor),ie("bordercolor")&&I.setStyle("border-color",U.bordercolor),ie("borderstyle")&&I.setStyle("border-style",U.borderstyle)},Mo=(I,U,ie,Se)=>{const Pt=U.length===1?ne:Se;te(U,sn=>{const Bn=yt(on.fromDom(sn),"td,th"),Mn=He.normal(I,sn);mv(Mn,ie,Pt),Aa(I)&&Kd(Mn,ie,Pt),Se("height")&&te(Bn,Lo=>{I.dom.setStyle(Lo.dom,"height",null)}),Se("align")&&Fa(I,sn,ie.align)})},jn=(I,U)=>{I.execCommand("mceTableRowType",!1,{type:U.type,no_events:!0})},qd=(I,U,ie,Se)=>{const et=P(Se,(Pt,sn)=>ie[sn]!==Pt);if(Kt(et)>0){const Pt=ct(et,"type"),sn=Pt?Kt(et)>1:!0;sn&&Mo(I,U,Se,le(ct,et)),Pt&&jn(I,Se),Ll(on.fromDom(U[0])).each(Bn=>Bd(I,Bn.dom,{structure:Pt,style:sn}))}},Cr=(I,U,ie,Se)=>{const et=Se.getData();Se.close(),I.undoManager.transact(()=>{qd(I,U,ie,et),I.focus()})},Ic=I=>{const U=_g(Ns(I),$f.selected);if(U.length===0)return;const ie=Gt(U,sn=>Wd(I,sn.dom,Aa(I))),Se=ec(ie),et={type:"tabpanel",tabs:[{title:"General",name:"general",items:Xt(I)},Y(I,"row")]},Pt={type:"panel",items:[{type:"grid",columns:2,items:Xt(I)}]};I.windowManager.open({title:"Row Properties",size:"normal",body:Aa(I)?et:Pt,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:Se,onSubmit:le(Cr,I,Gt(U,sn=>sn.dom),Se)})},Pc=(I,U,ie)=>{const Se=ie?[{type:"input",name:"cols",label:"Cols",inputMode:"numeric"},{type:"input",name:"rows",label:"Rows",inputMode:"numeric"}]:[],et=[{type:"input",name:"width",label:"Width"},{type:"input",name:"height",label:"Height"}],Pt=Sc(I)?[{type:"input",name:"cellspacing",label:"Cell spacing",inputMode:"numeric"},{type:"input",name:"cellpadding",label:"Cell padding",inputMode:"numeric"},{type:"input",name:"border",label:"Border width"},{type:"label",label:"Caption",items:[{type:"checkbox",name:"caption",label:"Show caption"}]}]:[],sn=[{type:"listbox",name:"align",label:"Alignment",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]}],Bn=U.length>0?[{name:"class",type:"listbox",label:"Class",items:U}]:[];return Se.concat(et).concat(Pt).concat(sn).concat(Bn)},yo=(I,U,ie,Se)=>{if(U.tagName==="TD"||U.tagName==="TH")y(ie)&&N(Se)?I.setStyle(U,ie,Se):I.setStyles(U,ie);else if(U.children)for(let et=0;et<U.children.length;et++)yo(I,U.children[et],ie,Se)},Tg=(I,U,ie,Se)=>{const et=I.dom,Pt={},sn={},Bn=bs(I),Mn=Hn(I),Lo=parseFloat(ie.border)===0;if(!R(ie.class)&&ie.class!=="mce-no-match"&&(Pt.class=ie.class),sn.height=bi(ie.height),Bn?sn.width=bi(ie.width):et.getAttrib(U,"width")&&(Pt.width=pi(ie.width)),Bn?(Lo?(Pt.border=0,sn["border-width"]=""):(sn["border-width"]=bi(ie.border),Pt.border=1),sn["border-spacing"]=bi(ie.cellspacing)):(Pt.border=Lo?0:ie.border,Pt.cellpadding=ie.cellpadding,Pt.cellspacing=ie.cellspacing),Bn&&U.children){const Ro={};if(Lo?Ro["border-width"]="":Se.border&&(Ro["border-width"]=bi(ie.border)),Se.cellpadding&&(Ro.padding=bi(ie.cellpadding)),Mn&&Se.bordercolor&&(Ro["border-color"]=ie.bordercolor),!Tt(Ro))for(let Zo=0;Zo<U.children.length;Zo++)yo(et,U.children[Zo],Ro)}if(Mn){const Ro=ie;sn["background-color"]=Ro.backgroundcolor,sn["border-color"]=Ro.bordercolor,sn["border-style"]=Ro.borderstyle}et.setStyles(U,{...kc(I),...sn}),et.setAttribs(U,{...Fi(I),...Pt})},p1=(I,U,ie,Se)=>{const et=I.dom,Pt=Se.getData(),sn=P(Pt,(Bn,Mn)=>ie[Mn]!==Bn);Se.close(),I.undoManager.transact(()=>{if(!U){const Bn=jr(Pt.cols).getOr(1),Mn=jr(Pt.rows).getOr(1);I.execCommand("mceInsertTable",!1,{rows:Mn,columns:Bn}),U=Ft(Ns(I),Ea(I)).bind(Lo=>Ll(Lo,Ea(I))).map(Lo=>Lo.dom).getOrDie()}if(Kt(sn)>0){const Bn={border:ct(sn,"border"),bordercolor:ct(sn,"bordercolor"),cellpadding:ct(sn,"cellpadding")};Tg(I,U,Pt,Bn);const Mn=et.select("caption",U)[0];(Mn&&!Pt.caption||!Mn&&Pt.caption)&&I.execCommand("mceTableToggleCaption"),Fa(I,U,Pt.align)}if(I.focus(),I.addVisual(),Kt(sn)>0){const Bn=ct(sn,"caption"),Mn=Bn?Kt(sn)>1:!0;Bd(I,U,{structure:Bn,style:Mn})}})},Rt=(I,U)=>{const ie=I.dom;let Se,et=bx(I,Hn(I));U?(et.cols="1",et.rows="1",Hn(I)&&(et.borderstyle="",et.bordercolor="",et.backgroundcolor="")):(Se=ie.getParent(I.selection.getStart(),"table",I.getBody()),Se?et=nd(I,Se,Hn(I)):Hn(I)&&(et.borderstyle="",et.bordercolor="",et.backgroundcolor=""));const Pt=ai(Yc(I));Pt.isSome()&&et.class&&(et.class=et.class.replace(/\s*mce\-item\-table\s*/g,""));const sn={type:"grid",columns:2,items:Pc(I,Pt.getOr([]),U)},Bn=()=>({type:"panel",items:[sn]}),Mn=()=>({type:"tabpanel",tabs:[{title:"General",name:"general",items:[sn]},Y(I,"table")]}),Lo=Hn(I)?Mn():Bn();I.windowManager.open({title:"Table Properties",size:"normal",body:Lo,onSubmit:le(p1,I,Se,et),buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:et})},gv=I=>{const U=ie=>{Pe(Ns(I))&&ie()};rt({mceTableProps:le(Rt,I,!1),mceTableRowProps:le(Ic,I),mceTableCellProps:le(tu,I),mceInsertTableDialog:le(Rt,I,!0)},(ie,Se)=>I.addCommand(Se,()=>U(ie)))},Og=(I,U)=>Od(I,U).isSome(),Rg=j,Pm=I=>{const U=(Se,et)=>_n(Se,et).exists(Pt=>parseInt(Pt,10)>1),ie=Se=>U(Se,"rowspan")||U(Se,"colspan");return I.length>0&&_e(I,ie)?be.some(I):be.none()},Uf=(I,U,ie)=>U.length<=1?be.none():Vd(I,ie.firstSelectedSelector,ie.lastSelectedSelector).map(Se=>({bounds:Se,cells:U})),b1=I=>({element:I,mergable:be.none(),unmergable:be.none(),selection:[I]}),Gd=(I,U,ie)=>({element:ie,mergable:Uf(U,I,$f),unmergable:Pm(I),selection:Rg(I)}),cr=I=>{const U=Pr(be.none()),ie=Pr([]);let Se=be.none();const et=wc("caption"),Pt=cs=>Se.forall(qr=>!qr[cs]),sn=()=>Ec(Ns(I),Ea(I)),Bn=()=>Ec(hr(I),Ea(I)),Mn=()=>sn().bind(cs=>is(Ko(Ll(cs),Bn().bind(Ll),(qr,Wi)=>Yt(qr,Wi)?et(cs)?be.some(b1(cs)):be.some(Gd(Ra(I),qr,cs)):be.none()))),Lo=cs=>Ll(cs.element).map(Wi=>{const $l=Kc.fromTable(Wi),pv=Hd($l,cs).getOr([]),bv=st(pv,(Gf,Ng)=>(Ng.isLocked&&(Gf.onAny=!0,Ng.column===0?Gf.onFirst=!0:Ng.column+Ng.colspan>=$l.grid.columns&&(Gf.onLast=!0)),Gf),{onAny:!1,onFirst:!1,onLast:!1});return{mergeable:h1($l,cs).isSome(),unmergeable:Mh($l,cs).isSome(),locked:bv}}),Ro=()=>{U.set(Un(Mn)()),Se=U.get().bind(Lo),te(ie.get(),q)},Zo=cs=>(cs(),ie.set(ie.get().concat([cs])),()=>{ie.set(Cn(ie.get(),qr=>qr!==cs))}),jo=(cs,qr)=>Zo(()=>U.get().fold(()=>{cs.setEnabled(!1)},Wi=>{cs.setEnabled(!qr(Wi)&&I.selection.isEditable())})),oa=(cs,qr,Wi)=>Zo(()=>U.get().fold(()=>{cs.setEnabled(!1),cs.setActive(!1)},$l=>{cs.setEnabled(!qr($l)&&I.selection.isEditable()),cs.setActive(Wi($l))})),Ui=cs=>Se.exists(qr=>qr.locked[cs]),Ur=cs=>jo(cs,qr=>!1),Nu=cs=>jo(cs,qr=>et(qr.element)),Kf=cs=>qr=>jo(qr,Wi=>et(Wi.element)||Ui(cs)),ou=cs=>qr=>jo(qr,Wi=>et(Wi.element)||cs().isNone()),Dg=(cs,qr)=>Wi=>jo(Wi,$l=>et($l.element)||cs().isNone()||Ui(qr)),od=cs=>jo(cs,qr=>Pt("mergeable")),Hh=cs=>jo(cs,qr=>Pt("unmergeable")),Bm=cs=>oa(cs,de,qr=>Ll(qr.element,Ea(I)).exists($l=>Og($l,"caption"))),qf=(cs,qr)=>Wi=>oa(Wi,$l=>et($l.element),()=>I.queryCommandValue(cs)===qr),Xp=qf("mceTableRowType","header"),hv=qf("mceTableColType","th");return I.on("NodeChange ExecCommand TableSelectorChange",Ro),{onSetupTable:Ur,onSetupCellOrRow:Nu,onSetupColumn:Kf,onSetupPasteable:ou,onSetupPasteableColumn:Dg,onSetupMergeable:od,onSetupUnmergeable:Hh,resetTargets:Ro,onSetupTableWithCaption:Bm,onSetupTableRowHeaders:Xp,onSetupTableColumnHeaders:hv,targets:U.get}};var Du=tinymce.util.Tools.resolve("tinymce.FakeClipboard");const Vh="x-tinymce/dom-table-",nu=Vh+"rows",Wf=Vh+"columns",tc=I=>{var U;const ie=(U=Du.read())!==null&&U!==void 0?U:[];return qt(ie,Se=>be.from(Se.getType(I)))},Tr=()=>tc(nu),jf=()=>tc(Wf),Da=I=>U=>{const ie=()=>{U.setEnabled(I.selection.isEditable())};return I.on("NodeChange",ie),ie(),()=>{I.off("NodeChange",ie)}},Yp=(I,U)=>{I.ui.registry.addMenuButton("table",{tooltip:"Table",icon:"table",onSetup:Da(I),fetch:Bn=>Bn("inserttable | cell row column | advtablesort | tableprops deletetable")});const ie=Bn=>()=>I.execCommand(Bn),Se=(Bn,Mn)=>{I.queryCommandSupported(Mn.command)&&I.ui.registry.addButton(Bn,{...Mn,onAction:V(Mn.onAction)?Mn.onAction:ie(Mn.command)})},et=(Bn,Mn)=>{I.queryCommandSupported(Mn.command)&&I.ui.registry.addToggleButton(Bn,{...Mn,onAction:V(Mn.onAction)?Mn.onAction:ie(Mn.command)})};Se("tableprops",{tooltip:"Table properties",command:"mceTableProps",icon:"table",onSetup:U.onSetupTable}),Se("tabledelete",{tooltip:"Delete table",command:"mceTableDelete",icon:"table-delete-table",onSetup:U.onSetupTable}),Se("tablecellprops",{tooltip:"Cell properties",command:"mceTableCellProps",icon:"table-cell-properties",onSetup:U.onSetupCellOrRow}),Se("tablemergecells",{tooltip:"Merge cells",command:"mceTableMergeCells",icon:"table-merge-cells",onSetup:U.onSetupMergeable}),Se("tablesplitcells",{tooltip:"Split cell",command:"mceTableSplitCells",icon:"table-split-cells",onSetup:U.onSetupUnmergeable}),Se("tableinsertrowbefore",{tooltip:"Insert row before",command:"mceTableInsertRowBefore",icon:"table-insert-row-above",onSetup:U.onSetupCellOrRow}),Se("tableinsertrowafter",{tooltip:"Insert row after",command:"mceTableInsertRowAfter",icon:"table-insert-row-after",onSetup:U.onSetupCellOrRow}),Se("tabledeleterow",{tooltip:"Delete row",command:"mceTableDeleteRow",icon:"table-delete-row",onSetup:U.onSetupCellOrRow}),Se("tablerowprops",{tooltip:"Row properties",command:"mceTableRowProps",icon:"table-row-properties",onSetup:U.onSetupCellOrRow}),Se("tableinsertcolbefore",{tooltip:"Insert column before",command:"mceTableInsertColBefore",icon:"table-insert-column-before",onSetup:U.onSetupColumn("onFirst")}),Se("tableinsertcolafter",{tooltip:"Insert column after",command:"mceTableInsertColAfter",icon:"table-insert-column-after",onSetup:U.onSetupColumn("onLast")}),Se("tabledeletecol",{tooltip:"Delete column",command:"mceTableDeleteCol",icon:"table-delete-column",onSetup:U.onSetupColumn("onAny")}),Se("tablecutrow",{tooltip:"Cut row",command:"mceTableCutRow",icon:"cut-row",onSetup:U.onSetupCellOrRow}),Se("tablecopyrow",{tooltip:"Copy row",command:"mceTableCopyRow",icon:"duplicate-row",onSetup:U.onSetupCellOrRow}),Se("tablepasterowbefore",{tooltip:"Paste row before",command:"mceTablePasteRowBefore",icon:"paste-row-before",onSetup:U.onSetupPasteable(Tr)}),Se("tablepasterowafter",{tooltip:"Paste row after",command:"mceTablePasteRowAfter",icon:"paste-row-after",onSetup:U.onSetupPasteable(Tr)}),Se("tablecutcol",{tooltip:"Cut column",command:"mceTableCutCol",icon:"cut-column",onSetup:U.onSetupColumn("onAny")}),Se("tablecopycol",{tooltip:"Copy column",command:"mceTableCopyCol",icon:"duplicate-column",onSetup:U.onSetupColumn("onAny")}),Se("tablepastecolbefore",{tooltip:"Paste column before",command:"mceTablePasteColBefore",icon:"paste-column-before",onSetup:U.onSetupPasteableColumn(jf,"onFirst")}),Se("tablepastecolafter",{tooltip:"Paste column after",command:"mceTablePasteColAfter",icon:"paste-column-after",onSetup:U.onSetupPasteableColumn(jf,"onLast")}),Se("tableinsertdialog",{tooltip:"Insert table",command:"mceInsertTableDialog",icon:"table",onSetup:Da(I)});const Pt=hc(Yc(I));Pt.length!==0&&I.queryCommandSupported("mceTableToggleClass")&&I.ui.registry.addMenuButton("tableclass",{icon:"table-classes",tooltip:"Table styles",fetch:eu(I,Pt,"tableclass",Bn=>I.execCommand("mceTableToggleClass",!1,Bn)),onSetup:U.onSetupTable});const sn=hc(Bf(I));sn.length!==0&&I.queryCommandSupported("mceTableCellToggleClass")&&I.ui.registry.addMenuButton("tablecellclass",{icon:"table-cell-classes",tooltip:"Cell styles",fetch:eu(I,sn,"tablecellclass",Bn=>I.execCommand("mceTableCellToggleClass",!1,Bn)),onSetup:U.onSetupCellOrRow}),I.queryCommandSupported("mceTableApplyCellStyle")&&(I.ui.registry.addMenuButton("tablecellvalign",{icon:"vertical-align",tooltip:"Vertical align",fetch:eu(I,br,"tablecellverticalalign",kl(I,"vertical-align")),onSetup:U.onSetupCellOrRow}),I.ui.registry.addMenuButton("tablecellborderwidth",{icon:"border-width",tooltip:"Border width",fetch:eu(I,ta(I),"tablecellborderwidth",kl(I,"border-width")),onSetup:U.onSetupCellOrRow}),I.ui.registry.addMenuButton("tablecellborderstyle",{icon:"border-style",tooltip:"Border style",fetch:eu(I,Li(I),"tablecellborderstyle",kl(I,"border-style")),onSetup:U.onSetupCellOrRow}),I.ui.registry.addMenuButton("tablecellbackgroundcolor",{icon:"cell-background-color",tooltip:"Background color",fetch:Bn=>Bn(td(I,xi(I),"background-color")),onSetup:U.onSetupCellOrRow}),I.ui.registry.addMenuButton("tablecellbordercolor",{icon:"cell-border-color",tooltip:"Border color",fetch:Bn=>Bn(td(I,Am(I),"border-color")),onSetup:U.onSetupCellOrRow})),et("tablecaption",{tooltip:"Table caption",icon:"table-caption",command:"mceTableToggleCaption",onSetup:U.onSetupTableWithCaption}),et("tablerowheader",{tooltip:"Row header",icon:"table-top-header",command:"mceTableRowType",onAction:Hf(I),onSetup:U.onSetupTableRowHeaders}),et("tablecolheader",{tooltip:"Column header",icon:"table-left-header",command:"mceTableColType",onAction:kg(I),onSetup:U.onSetupTableColumnHeaders})},Bc=I=>{const U=Se=>I.dom.is(Se,"table")&&I.getBody().contains(Se)&&I.dom.isEditable(Se.parentNode),ie=Go(I);ie.length>0&&I.ui.registry.addContextToolbar("table",{predicate:U,items:ie,scope:"node",position:"node"})},xa=I=>U=>{const ie=()=>{U.setEnabled(I.selection.isEditable())};return I.on("NodeChange",ie),ie(),()=>{I.off("NodeChange",ie)}},en=(I,U)=>{const ie=Zo=>()=>I.execCommand(Zo),Se=(Zo,jo)=>I.queryCommandSupported(jo.command)?(I.ui.registry.addMenuItem(Zo,{...jo,onAction:V(jo.onAction)?jo.onAction:ie(jo.command)}),!0):!1,et=(Zo,jo)=>{I.queryCommandSupported(jo.command)&&I.ui.registry.addToggleMenuItem(Zo,{...jo,onAction:V(jo.onAction)?jo.onAction:ie(jo.command)})},Pt=Zo=>{I.execCommand("mceInsertTable",!1,{rows:Zo.numRows,columns:Zo.numColumns})},sn=[Se("tableinsertrowbefore",{text:"Insert row before",icon:"table-insert-row-above",command:"mceTableInsertRowBefore",onSetup:U.onSetupCellOrRow}),Se("tableinsertrowafter",{text:"Insert row after",icon:"table-insert-row-after",command:"mceTableInsertRowAfter",onSetup:U.onSetupCellOrRow}),Se("tabledeleterow",{text:"Delete row",icon:"table-delete-row",command:"mceTableDeleteRow",onSetup:U.onSetupCellOrRow}),Se("tablerowprops",{text:"Row properties",icon:"table-row-properties",command:"mceTableRowProps",onSetup:U.onSetupCellOrRow}),Se("tablecutrow",{text:"Cut row",icon:"cut-row",command:"mceTableCutRow",onSetup:U.onSetupCellOrRow}),Se("tablecopyrow",{text:"Copy row",icon:"duplicate-row",command:"mceTableCopyRow",onSetup:U.onSetupCellOrRow}),Se("tablepasterowbefore",{text:"Paste row before",icon:"paste-row-before",command:"mceTablePasteRowBefore",onSetup:U.onSetupPasteable(Tr)}),Se("tablepasterowafter",{text:"Paste row after",icon:"paste-row-after",command:"mceTablePasteRowAfter",onSetup:U.onSetupPasteable(Tr)})],Bn=[Se("tableinsertcolumnbefore",{text:"Insert column before",icon:"table-insert-column-before",command:"mceTableInsertColBefore",onSetup:U.onSetupColumn("onFirst")}),Se("tableinsertcolumnafter",{text:"Insert column after",icon:"table-insert-column-after",command:"mceTableInsertColAfter",onSetup:U.onSetupColumn("onLast")}),Se("tabledeletecolumn",{text:"Delete column",icon:"table-delete-column",command:"mceTableDeleteCol",onSetup:U.onSetupColumn("onAny")}),Se("tablecutcolumn",{text:"Cut column",icon:"cut-column",command:"mceTableCutCol",onSetup:U.onSetupColumn("onAny")}),Se("tablecopycolumn",{text:"Copy column",icon:"duplicate-column",command:"mceTableCopyCol",onSetup:U.onSetupColumn("onAny")}),Se("tablepastecolumnbefore",{text:"Paste column before",icon:"paste-column-before",command:"mceTablePasteColBefore",onSetup:U.onSetupPasteableColumn(jf,"onFirst")}),Se("tablepastecolumnafter",{text:"Paste column after",icon:"paste-column-after",command:"mceTablePasteColAfter",onSetup:U.onSetupPasteableColumn(jf,"onLast")})],Mn=[Se("tablecellprops",{text:"Cell properties",icon:"table-cell-properties",command:"mceTableCellProps",onSetup:U.onSetupCellOrRow}),Se("tablemergecells",{text:"Merge cells",icon:"table-merge-cells",command:"mceTableMergeCells",onSetup:U.onSetupMergeable}),Se("tablesplitcells",{text:"Split cell",icon:"table-split-cells",command:"mceTableSplitCells",onSetup:U.onSetupUnmergeable})];_c(I)?I.ui.registry.addNestedMenuItem("inserttable",{text:"Table",icon:"table",getSubmenuItems:()=>[{type:"fancymenuitem",fancytype:"inserttable",onAction:Pt}],onSetup:xa(I)}):I.ui.registry.addMenuItem("inserttable",{text:"Table",icon:"table",onAction:ie("mceInsertTableDialog"),onSetup:xa(I)}),I.ui.registry.addMenuItem("inserttabledialog",{text:"Insert table",icon:"table",onAction:ie("mceInsertTableDialog"),onSetup:xa(I)}),Se("tableprops",{text:"Table properties",onSetup:U.onSetupTable,command:"mceTableProps"}),Se("deletetable",{text:"Delete table",icon:"table-delete-table",onSetup:U.onSetupTable,command:"mceTableDelete"}),Dn(sn,!0)&&I.ui.registry.addNestedMenuItem("row",{type:"nestedmenuitem",text:"Row",getSubmenuItems:oe("tableinsertrowbefore tableinsertrowafter tabledeleterow tablerowprops | tablecutrow tablecopyrow tablepasterowbefore tablepasterowafter")}),Dn(Bn,!0)&&I.ui.registry.addNestedMenuItem("column",{type:"nestedmenuitem",text:"Column",getSubmenuItems:oe("tableinsertcolumnbefore tableinsertcolumnafter tabledeletecolumn | tablecutcolumn tablecopycolumn tablepastecolumnbefore tablepastecolumnafter")}),Dn(Mn,!0)&&I.ui.registry.addNestedMenuItem("cell",{type:"nestedmenuitem",text:"Cell",getSubmenuItems:oe("tablecellprops tablemergecells tablesplitcells")}),I.ui.registry.addContextMenu("table",{update:()=>(U.resetTargets(),U.targets().fold(oe(""),Zo=>Vo(Zo.element)==="caption"?"tableprops deletetable":"cell row column | advtablesort | tableprops deletetable"))});const Lo=hc(Yc(I));Lo.length!==0&&I.queryCommandSupported("mceTableToggleClass")&&I.ui.registry.addNestedMenuItem("tableclass",{icon:"table-classes",text:"Table styles",getSubmenuItems:()=>ii(I,Lo,"tableclass",Zo=>I.execCommand("mceTableToggleClass",!1,Zo)),onSetup:U.onSetupTable});const Ro=hc(Bf(I));Ro.length!==0&&I.queryCommandSupported("mceTableCellToggleClass")&&I.ui.registry.addNestedMenuItem("tablecellclass",{icon:"table-cell-classes",text:"Cell styles",getSubmenuItems:()=>ii(I,Ro,"tablecellclass",Zo=>I.execCommand("mceTableCellToggleClass",!1,Zo)),onSetup:U.onSetupCellOrRow}),I.queryCommandSupported("mceTableApplyCellStyle")&&(I.ui.registry.addNestedMenuItem("tablecellvalign",{icon:"vertical-align",text:"Vertical align",getSubmenuItems:()=>ii(I,br,"tablecellverticalalign",kl(I,"vertical-align")),onSetup:U.onSetupCellOrRow}),I.ui.registry.addNestedMenuItem("tablecellborderwidth",{icon:"border-width",text:"Border width",getSubmenuItems:()=>ii(I,ta(I),"tablecellborderwidth",kl(I,"border-width")),onSetup:U.onSetupCellOrRow}),I.ui.registry.addNestedMenuItem("tablecellborderstyle",{icon:"border-style",text:"Border style",getSubmenuItems:()=>ii(I,Li(I),"tablecellborderstyle",kl(I,"border-style")),onSetup:U.onSetupCellOrRow}),I.ui.registry.addNestedMenuItem("tablecellbackgroundcolor",{icon:"cell-background-color",text:"Background color",getSubmenuItems:()=>td(I,xi(I),"background-color"),onSetup:U.onSetupCellOrRow}),I.ui.registry.addNestedMenuItem("tablecellbordercolor",{icon:"cell-border-color",text:"Border color",getSubmenuItems:()=>td(I,Am(I),"border-color"),onSetup:U.onSetupCellOrRow})),et("tablecaption",{icon:"table-caption",text:"Table caption",command:"mceTableToggleCaption",onSetup:U.onSetupTableWithCaption}),et("tablerowheader",{text:"Row header",icon:"table-top-header",command:"mceTableRowType",onAction:Hf(I),onSetup:U.onSetupTableRowHeaders}),et("tablecolheader",{text:"Column header",icon:"table-left-header",command:"mceTableColType",onAction:kg(I),onSetup:U.onSetupTableRowHeaders})},Zf=I=>{const U=cr(I);Qu(I),gv(I),en(I,U),Yp(I,U),Bc(I)};var Va=()=>{n.add("table",Zf)};Va()}()),jG}var KG;function wye(){return KG||(KG=1,xye()),WG}wye();var qG={},GG={},YG;function Cye(){return YG||(YG=1,function(){var n=tinymce.util.Tools.resolve("tinymce.PluginManager"),r=tinymce.util.Tools.resolve("tinymce.Env");const l=W=>X=>X.options.get(W),d=W=>{const X=W.options.register;X("pagebreak_separator",{processor:"string",default:"<!-- pagebreak -->"}),X("pagebreak_split_block",{processor:"boolean",default:!1})},h=l("pagebreak_separator"),g=l("pagebreak_split_block"),y="mce-pagebreak",w=W=>{const X=`<img src="${r.transparentSrc}" class="${y}" data-mce-resize="false" data-mce-placeholder />`;return W?`<p>${X}</p>`:X},A=W=>{const X=h(W),oe=()=>g(W),j=new RegExp(X.replace(/[\?\.\*\[\]\(\)\{\}\+\^\$\:]/g,fe=>"\\"+fe),"gi");W.on("BeforeSetContent",fe=>{fe.content=fe.content.replace(j,w(oe()))}),W.on("PreInit",()=>{W.serializer.addNodeFilter("img",fe=>{let le=fe.length,q,de;for(;le--;)if(q=fe[le],de=q.attr("class"),de&&de.indexOf(y)!==-1){const ne=q.parent;if(ne&&W.schema.getBlockElements()[ne.name]&&oe()){ne.type=3,ne.value=X,ne.raw=!0,q.remove();continue}q.type=3,q.value=X,q.raw=!0}})})},R=W=>{W.addCommand("mcePageBreak",()=>{W.insertContent(w(g(W)))})},O=W=>{W.on("ResolveName",X=>{X.target.nodeName==="IMG"&&W.dom.hasClass(X.target,y)&&(X.name="pagebreak")})},N=W=>X=>{const oe=()=>{X.setEnabled(W.selection.isEditable())};return W.on("NodeChange",oe),oe(),()=>{W.off("NodeChange",oe)}},V=W=>{const X=()=>W.execCommand("mcePageBreak");W.ui.registry.addButton("pagebreak",{icon:"page-break",tooltip:"Page break",onAction:X,onSetup:N(W)}),W.ui.registry.addMenuItem("pagebreak",{text:"Page break",icon:"page-break",onAction:X,onSetup:N(W)})};var z=()=>{n.add("pagebreak",W=>{d(W),R(W),V(W),A(W),O(W)})};z()}()),GG}var XG;function Sye(){return XG||(XG=1,Cye()),qG}Sye();var _ye=["onActivate","onAddUndo","onBeforeAddUndo","onBeforeExecCommand","onBeforeGetContent","onBeforeRenderUI","onBeforeSetContent","onBeforePaste","onBlur","onChange","onClearUndos","onClick","onContextMenu","onCommentChange","onCompositionEnd","onCompositionStart","onCompositionUpdate","onCopy","onCut","onDblclick","onDeactivate","onDirty","onDrag","onDragDrop","onDragEnd","onDragGesture","onDragOver","onDrop","onExecCommand","onFocus","onFocusIn","onFocusOut","onGetContent","onHide","onInit","onInput","onKeyDown","onKeyPress","onKeyUp","onLoadContent","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp","onNodeChange","onObjectResizeStart","onObjectResized","onObjectSelected","onPaste","onPostProcess","onPostRender","onPreProcess","onProgressState","onRedo","onRemove","onReset","onSaveContent","onSelectionChange","onSetAttrib","onSetContent","onShow","onSubmit","onUndo","onVisualAid"],kye=function(n){return _ye.map(function(r){return r.toLowerCase()}).indexOf(n.toLowerCase())!==-1},Eye=function(n,r,l){Object.keys(r).filter(kye).forEach(function(d){var h=r[d];typeof h=="function"&&(d==="onInit"?h(n,l):l.on(d.substring(2),function(g){return h(g,l)}))})},Aye=function(n,r,l,d){var h=n.modelEvents?n.modelEvents:null,g=Array.isArray(h)?h.join(" "):h;Wn(d,function(y,w){l&&typeof y=="string"&&y!==w&&y!==l.getContent({format:n.outputFormat})&&l.setContent(y)}),l.on(g||"change input undo redo",function(){r.emit("update:modelValue",l.getContent({format:n.outputFormat}))})},Tye=function(n,r,l,d,h,g){d.setContent(g()),l.attrs["onUpdate:modelValue"]&&Aye(r,l,d,h),Eye(n,l.attrs,d)},JG=0,xee=function(n){var r=Date.now(),l=Math.floor(Math.random()*1e9);return JG++,n+"_"+l+JG+String(r)},Oye=function(n){return n!==null&&n.tagName.toLowerCase()==="textarea"},QG=function(n){return typeof n>"u"||n===""?[]:Array.isArray(n)?n:n.split(" ")},Rye=function(n,r){return QG(n).concat(QG(r))},Dye=function(n){return n==null},eY=function(n){var r;return typeof((r=n.options)===null||r===void 0?void 0:r.set)=="function"&&n.options.isRegistered("disabled")},tY=function(){return{listeners:[],scriptId:xee("tiny-script"),scriptLoaded:!1}},Nye=function(){var n=tY(),r=function(h,g,y,w){var A=g.createElement("script");A.referrerPolicy="origin",A.type="application/javascript",A.id=h,A.src=y;var R=function(){A.removeEventListener("load",R),w()};A.addEventListener("load",R),g.head&&g.head.appendChild(A)},l=function(h,g,y){n.scriptLoaded?y():(n.listeners.push(y),h.getElementById(n.scriptId)||r(n.scriptId,h,g,function(){n.listeners.forEach(function(w){return w()}),n.scriptLoaded=!0}))},d=function(){n=tY()};return{load:l,reinitialize:d}},Iye=Nye(),Pye=function(){return typeof window<"u"?window:global},oC=function(){var n=Pye();return n&&n.tinymce?n.tinymce:null},Bye={apiKey:String,licenseKey:String,cloudChannel:String,id:String,init:Object,initialValue:String,inline:Boolean,modelEvents:[String,Array],plugins:[String,Array],tagName:String,toolbar:[String,Array],modelValue:String,disabled:Boolean,readonly:Boolean,tinymceScriptSrc:String,outputFormat:{type:String,validator:function(n){return n==="html"||n==="text"}}},Qb=function(){return Qb=Object.assign||function(n){for(var r,l=1,d=arguments.length;l<d;l++){r=arguments[l];for(var h in r)Object.prototype.hasOwnProperty.call(r,h)&&(n[h]=r[h])}return n},Qb.apply(this,arguments)},Mye=function(n,r,l,d){return n(d||"div",{id:r,ref:l})},Lye=function(n,r,l){return n("textarea",{id:r,visibility:"hidden",ref:l})},t9={selector:void 0,target:void 0},n9=function(n,r){var l;typeof((l=n.mode)===null||l===void 0?void 0:l.set)=="function"?n.mode.set(r):n.setMode(r)},wee=UY({props:Bye,setup:function(n,r){var l=n.init?Qb(Qb({},n.init),t9):Qb({},t9),d=xL(n),h=d.disabled,g=d.readonly,y=d.modelValue,w=d.tagName,A=go(null),R=null,O=n.id||xee("tiny-vue"),N=n.init&&n.init.inline||n.inline,V=!!r.attrs["onUpdate:modelValue"],z=!0,W=n.initialValue?n.initialValue:"",X="",oe=function(le){return V?function(){return y!=null&&y.value?y.value:""}:function(){return le?W:X}},j=function(){var le=oe(z),q=Qb(Qb({},l),{disabled:n.disabled,readonly:n.readonly,target:A.value,plugins:Rye(l.plugins,n.plugins),toolbar:n.toolbar||l.toolbar,inline:N,license_key:n.licenseKey,setup:function(de){R=de,!eY(R)&&n.disabled===!0&&n9(R,"readonly"),de.on("init",function(ne){return Tye(ne,n,r,de,y,le)}),typeof l.setup=="function"&&l.setup(de)}});Oye(A.value)&&(A.value.style.visibility=""),oC().init(q),z=!1};Wn(g,function(le){R!==null&&n9(R,le?"readonly":"design")}),Wn(h,function(le){R!==null&&(eY(R)?R.options.set("disabled",le):n9(R,le?"readonly":"design"))}),Wn(w,function(le){var q;R&&(V||(X=R.getContent()),(q=oC())===null||q===void 0||q.remove(R),gr(function(){return j()}))}),bu(function(){if(oC()!==null)j();else if(A.value&&A.value.ownerDocument){var le=n.cloudChannel?n.cloudChannel:"7",q=n.apiKey?n.apiKey:"no-api-key",de=Dye(n.tinymceScriptSrc)?"https://cdn.tiny.cloud/1/".concat(q,"/tinymce/").concat(le,"/tinymce.min.js"):n.tinymceScriptSrc;Iye.load(A.value.ownerDocument,de,j)}}),zc(function(){oC()!==null&&oC().remove(R)}),N||(uU(function(){z||j()}),SL(function(){var le;R&&(V||(X=R.getContent()),(le=oC())===null||le===void 0||le.remove(R))}));var fe=function(le){var q;R&&(X=R.getContent(),(q=oC())===null||q===void 0||q.remove(R),l=Qb(Qb(Qb({},l),le),t9),gr(function(){return j()}))};return r.expose({rerender:fe,getEditor:function(){return R}}),function(){return N?Mye(rv,O,A,n.tagName):Lye(rv,O,A)}}});let sC,kM,Xy;const{t:Fye}=aR.global;class Cee{constructor(r){Yn(this,"editor_id",null);Yn(this,"editor",null);Yn(this,"scroll_top",0);Yn(this,"scroll_left",0);Yn(this,"wordCount",go(0));Yn(this,"characterCount",go(0));this.editor_id=r,sC=Bt.settings(),kM=Bt.clipboard(),Xy=Bt.preferences()}getInit(){return{license_key:"gpl",language:"de",height:"100%",menubar:!1,statusbar:!1,statusbar:!1,plugins:"lists charmap wordcount table pagebreak",toolbar1:"undo redo styles bold italic underline bullist numlist forecolor backcolor removeformat charmap table pagebreak wordcount",pagebreak_split_block:!0,custom_undo_redo_levels:10,text_patterns:!1,skin_url:"default",content_css:"default",content_style:sC.tinyContentStyle,browser_spellcheck:sC.allow_spellcheck,highlight_on_focus:!0,iframe_aria_text:Fye("tinyHelperIframeAriaText"),paste_as_text:!1,paste_block_drop:!0,paste_merge_formats:!0,paste_tab_spaces:4,smart_paste:!1,paste_data_images:!1,paste_remove_styles_if_webkit:!0,paste_webkit_styles:"none",paste_preprocess:this.handlePaste}}init(){this.editor=mye.get(this.editor_id),this.editor.getWin().addEventListener("scroll",this.saveScrolling.bind(this)),this.applyZoom(),this.applyFormat(),this.applyWordCount()}handleCopy(r){kM.setContent(r.clipboardData.getData("text/html"))}handlePaste(r,l){kM.getPasteAllowed(l.content)||(l.content="",kM.showWarning())}async applyFocus(){try{await gr(),this.editor.focus()}catch{}}applyFormat(){if(sC.contentClass)for(const r of document.getElementsByClassName("tox-tinymce-aux"))r.classList.add(sC.contentClass)}applyZoom(){try{this.editor.dom.setStyle(this.editor.dom.doc.body,"font-size",Xy.editor_zoom+"rem"),this.editor.dom.setStyle(this.editor.dom.select("h1"),"font-size",Xy.editor_zoom*sC.tinyH1Size+"rem"),this.editor.dom.setStyle(this.editor.dom.select("h2"),"font-size",Xy.editor_zoom*sC.tinyH2Size+"rem"),this.editor.dom.setStyle(this.editor.dom.select("h3"),"font-size",Xy.editor_zoom+"rem"),this.editor.dom.setStyle(this.editor.dom.select("h4"),"font-size",Xy.editor_zoom+"rem"),this.editor.dom.setStyle(this.editor.dom.select("h5"),"font-size",Xy.editor_zoom+"rem"),this.editor.dom.setStyle(this.editor.dom.select("h6"),"font-size",Xy.editor_zoom+"rem")}catch{}}saveScrolling(){const r=this.editor.getWin();(r.scrollX>0||r.scrollY>0)&&(this.scroll_left=r.scrollX,this.scroll_top=r.scrollY)}restoreScrolling(){try{this.editor.getWin().scroll({left:this.scroll_left,top:this.scroll_top})}catch(r){console.log(r)}}applyScrolling(){try{const r=this.editor.selection.getNode(),l=r.getBoundingClientRect(),d=this.editor.getContentAreaContainer().getBoundingClientRect();(l.top<d.top||l.bottom>d.bottom||l.right>d.right||l.left<d.left)&&r.scrollIntoView({behavior:"smooth",block:"nearest"})}catch(r){console.log(r)}}applyWordCount(){try{const r=this.editor.plugins.wordcount;this.wordCount.value=r.body.getWordCount(),this.characterCount.value=r.body.getCharacterCount()}catch{}}}const $ye={id:"app-essay-edit-wrapper"},Vye={for:"app-essay",class:"hidden"},Hye={class:"tinyWrapper"},zye={class:"wordCountWrapper"},Uye={__name:"EditEssay",props:["taskKey","essayKey"],setup(n){const r=Bt.essay(),l=Bt.settings(),d=Bt.preferences(),h=Bt.layout(),g=Bt.tasks(),y=n,w=new Cee("app-essay-"+y.essayKey);Wn(()=>l.contentClass,w.applyFormat.bind(w)),Wn(()=>d.editor_zoom,w.applyZoom.bind(w)),Wn(()=>h.focusChange,A);async function A(){h.focusTarget=="right"&&h.isEssayVisible&&g.currentKey==y.taskKey&&(w.applyFocus(),await gr(),w.restoreScrolling())}function R(){w.init()}function O(){r.updateContent(y.essayKey),w.applyZoom(),w.applyWordCount()}function N(){r.updateContent(y.essayKey),w.applyWordCount()}return(V,z)=>(Uo(),Ba("div",$ye,[De("label",Vye,jt(V.$t("editEssayHiddenField")),1),De("div",Hye,[Ne(tt(wee),{id:"app-essay-"+y.essayKey,modelValue:tt(r).editEssays[y.essayKey].content,"onUpdate:modelValue":z[0]||(z[0]=W=>tt(r).editEssays[y.essayKey].content=W),onInit:R,onChange:O,onKeyup:N,onKeydown:tt(h).handleKeyDown,onCopy:tt(w).handleCopy,onCut:tt(w).handleCopy,onScroll:tt(w).saveScrolling,licenseKey:"gpl",init:tt(w).getInit()},null,8,["id","modelValue","onKeydown","onCopy","onCut","onScroll","init"])]),ns(De("div",zye,[Ne(Xs,{variant:"text",size:"small",onClick:z[1]||(z[1]=W=>tt(d).toggleWordCountCharacters()),text:tt(d).word_count_characters?V.$t("allNumCharacters",tt(w).characterCount.value):V.$t("allNumWords",tt(w).wordCount.value)},null,8,["text"])],512),[[Ms,tt(d).word_count_enabled]])]))}},Wye=Oh(Uye,[["__scopeId","data-v-b8847d42"]]),jye={id:"app-note-edit-wrapper"},Zye=["for"],Kye={class:"tinyWrapper"},qye={class:"wordCountWrapper"},Gye={__name:"EditNote",props:["noteKey","noteLabel"],setup(n){const r=Bt.notes(),l=Bt.settings(),d=Bt.preferences(),h=Bt.layout(),g=n,y=new Cee("app-note-"+g.noteKey);Wn(()=>l.contentClass,y.applyFormat.bind(y)),Wn(()=>d.editor_zoom,y.applyZoom.bind(y)),Wn(()=>h.focusChange,w);async function w(){h.focusTarget=="right"&&h.isNotesSelected&&r.activeKey==g.noteKey&&(y.applyFocus(),await gr(),y.restoreScrolling())}function A(){y.init()}function R(){r.updateContent(g.noteKey),y.applyZoom(),y.applyWordCount()}function O(){r.updateContent(g.noteKey),y.applyWordCount()}return(N,V)=>(Uo(),Ba("div",jye,[De("label",{class:"hidden",for:"app-note-"+g.noteKey},jt(N.$t("editNoteHiddenField",[g.noteLabel])),9,Zye),De("div",Kye,[Ne(tt(wee),{id:"app-note-"+g.noteKey,modelValue:tt(r).editNotes[g.noteKey].note_text,"onUpdate:modelValue":V[0]||(V[0]=z=>tt(r).editNotes[g.noteKey].note_text=z),onInit:A,onChange:R,onKeyup:O,onKeydown:tt(h).handleKeyDown,onCopy:tt(y).handleCopy,onCut:tt(y).handleCopy,licenseKey:"gpl",init:tt(y).getInit()},null,8,["id","modelValue","onKeydown","onCopy","onCut","init"])]),ns(De("div",qye,[Ne(Xs,{variant:"text",size:"small",onClick:V[1]||(V[1]=z=>tt(d).toggleWordCountCharacters()),text:tt(d).word_count_characters?N.$t("allNumCharacters",tt(y).characterCount.value):N.$t("allNumWords",tt(y).wordCount.value)},null,8,["text"])],512),[[Ms,tt(d).word_count_enabled]])]))}},Yye=Oh(Gye,[["__scopeId","data-v-f11cf2cf"]]),Xye={id:"app-edit-select-wrapper"},Jye={class:"appEditChoices"},Qye={class:"sr-only",id:"app-edit-select-annotations"},exe={"aria-hidden":"true"},txe={class:"sr-only",id:"app-edit-select-text"},nxe={"aria-hidden":"true"},oxe=["id"],sxe={"aria-hidden":"true"},rxe={key:1,"aria-hidden":"true"},axe={__name:"EditSelect",setup(n){const r=Bt.layout(),l=Bt.essay(),d=Bt.notes(),h=Bt.settings(),g=Bt.preferences(),y=Bt.annotations(),w=Bt.resources(),A=Bt.tasks(),R=go("essay");O();function O(){switch(r.rightContent){case"annotations":R.value="annotations";break;case"essay":R.value="essay";break;case"notes":R.value=d.activeKey;break}}function N(){d.handleTaskChange(),O()}Wn(()=>r.rightContent,O),Wn(()=>d.activeKey,O),Wn(()=>A.currentKey,N);function V(){switch(R.value){case void 0:O();break;case"annotations":r.showAnnotations();break;case"essay":r.showEssay();break;default:r.showNotes(),d.activeKey=R.value;break}}function z(){R.value="annotations",V()}return Wn(()=>y.selectionChange,z),(W,X)=>(Uo(),Ba("div",Xye,[De("div",Jye,[tt(h).hasNotes||tt(A).hasInstructions||tt(w).hasAnnotatableResource?(Uo(),Jr(oQ,{key:0,density:"comfortable",variant:"outlined",divided:"",modelValue:R.value,"onUpdate:modelValue":X[0]||(X[0]=oe=>R.value=oe),onClick:X[1]||(X[1]=oe=>V())},{default:pn(()=>[tt(A).hasInstructions||tt(w).hasAnnotatableResource?(Uo(),Jr(Xs,{key:0,"aria-labelledby":"app-edit-select-annotations",size:"small",value:"annotations"},{default:pn(()=>[Ne(Yo,{icon:"mdi-marker"}),De("span",Qye,jt(W.$t("allAnnotations")),1),De("span",exe,jt(W.$t("allAnnotations")),1)]),_:1})):ql("",!0),Ne(Xs,{"aria-labelledby":"app-edit-select-text",size:"small",value:"essay"},{default:pn(()=>[Ne(Yo,{icon:"mdi-file-edit-outline"}),De("span",txe,jt(W.$t("editSelectEditText")),1),De("span",nxe,jt(W.$t("editSelectText")),1)]),_:1}),(Uo(!0),Ba(hs,null,Mp(tt(d).currentNotes,oe=>(Uo(),Jr(Xs,{size:"small","aria-labelledby":"app-edit-select-note"+oe.note_no,key:oe.getKey(),value:oe.getKey()},{default:pn(()=>[Ne(Yo,{icon:"mdi-clipboard-outline"}),De("span",{class:"sr-only",id:"app-edit-select-note"+oe.note_no},jt(tt(h).notice_boards==1?W.$t("editSelectEditNotes"):W.$t("editSelectEditNote",[oe.note_no+1])),9,oxe),De("span",sxe,jt(tt(h).notice_boards==1?W.$t("editSelectNotes"):oe.note_no+1),1)]),_:2},1032,["aria-labelledby","value"]))),128))]),_:1},8,["modelValue"])):ql("",!0),X[5]||(X[5]=ja("  ")),tt(h).hasNotes?(Uo(),Ba("span",rxe,"")):ql("",!0),Ne(zk,{density:"comfortable",variant:"outlined",divided:""},{default:pn(()=>[Ne(Xs,{title:W.$t("editSelectZoomOut"),size:"small",icon:"mdi-magnify-minus-outline",onClick:X[2]||(X[2]=oe=>tt(g).zoomEditorOut())},null,8,["title"]),Ne(Xs,{title:W.$t("editSelectZoomIn"),size:"small",icon:"mdi-magnify-plus-outline",onClick:X[3]||(X[3]=oe=>tt(g).zoomEditorIn())},null,8,["title"]),Ne(Xs,{title:tt(g).word_count_enabled?W.$t("editSelectCounterHide"):W.$t("editSelectCounterShow"),size:"small",icon:tt(g).word_count_enabled?"mdi-numeric":"mdi-numeric-off",onClick:X[4]||(X[4]=oe=>tt(g).toggleWordCountEnabled())},null,8,["title","icon"])]),_:1})]),ns(Ne(uye,{class:"appEditors"},null,512),[[Ms,tt(r).isAnnotationsSelected]]),(Uo(!0),Ba(hs,null,Mp(tt(l).essays,oe=>ns((Uo(),Jr(Wye,{class:"appEditors",key:oe.getKey(),essayKey:oe.getKey(),taskKey:tt(J0).buildKey(oe.task_id)},null,8,["essayKey","taskKey"])),[[Ms,tt(r).isEssaySelected&&tt(A).currentKey==tt(J0).buildKey(oe.task_id)]])),128)),tt(h).notice_boards>0?(Uo(!0),Ba(hs,{key:0},Mp(tt(d).notes,oe=>ns((Uo(),Jr(Yye,{class:"appEditors",key:oe.getKey(),noteKey:oe.getKey(),noteLabel:tt(h).notice_boards==1?W.$t("editSelectEditNotes"):W.$t("editSelectEditNote",oe.note_no+1)},null,8,["noteKey","noteLabel"])),[[Ms,tt(r).isNotesSelected&&tt(d).activeKey==oe.getKey()]])),128)):ql("",!0)]))}},ixe=Oh(axe,[["__scopeId","data-v-79498729"]]);class lxe{constructor(r,l,d){Yn(this,"observer",null);Yn(this,"marks",[]);if(!r)throw new Error("Missing anchor element");this.el=r,l instanceof Function&&(this.onSelection=l,this.el.addEventListener("mouseup",this.selectionHandler.bind(this)),this.el.addEventListener("touchend",this.selectionHandler.bind(this)),this.el.addEventListener("keydown",this.keydownHandler.bind(this))),d instanceof Function&&(this.onIntersection=d,this.observer=new IntersectionObserver(this.intersectionHandler.bind(this),{root:this.el,threshold:[1]}))}onSelection(r){}onIntersection(r){}keydownHandler(r){switch(r.key){case"Enter":r.preventDefault(),this.selectionHandler(r);break;case"Escape":r.preventDefault(),this.removeSelection();break}}selectionHandler(r){let l=this.getSelectionData();l.mouseX=r.clientX,l.mouseY=r.clientY,l.firstWord>0&&l.lastWord>0&&this.onSelection(l)}intersectionHandler(r){let l=0;this.marks.forEach(d=>{(l==0||d.firstWord<l)&&this.isMarkVisible(d.firstWord,d.lastWord)&&(l=d.firstWord)}),this.onIntersection(l)}removeSelection(){window.getSelection().collapseToEnd()}getSelectionData(){const r=window.getSelection(),l=r.getRangeAt(0);if(!r||!l)return{};let d=l.commonAncestorContainer;d.nodeType==3&&(d=d.parentNode.parentNode);let h=0,g=0,y=0;return d.querySelectorAll("w-p").forEach(w=>{if(r.containsNode(w,!0)){let A=parseInt(w.getAttribute("w")),R=parseInt(w.getAttribute("p"));(h==0||A<h)&&(h=A,y=R),A>g&&(g=A)}}),{firstWord:h,lastWord:g,parentNumber:y,isCollapsed:r.isCollapsed}}addLabel(r,l,d){let h=this.el.querySelector('w-p[w="'+d+'"]');h&&(h.setAttribute("label",l),h.classList.add(r))}showMark(r,l,d){this.marks.push({cssClass:r,firstWord:l,lastWord:d}),this.el.querySelectorAll("w-p").forEach(h=>{let g=parseInt(h.getAttribute("w"));g>=l&&g<=d&&h.classList.add(r),this.observer&&(g==l||g==d)&&this.observer.observe(h)})}hideMark(r,l,d){this.marks=this.marks.filter(h=>h.cssClass!=r||h.firstWord!=l||h.lastWord!=d),this.el.querySelectorAll("w-p."+r).forEach(h=>{let g=parseInt(h.getAttribute("w"));g>=l&&g<=d&&h.classList.remove(r),this.observer&&(g==l||g==d)&&this.observer.unobserve(h)})}hideAllMarksOfClass(r){this.marks=this.marks.filter(l=>l.cssClass!=r),this.el.querySelectorAll("w-p."+r).forEach(l=>{l.classList.remove(r)})}hideAllMarksAndLabels(){this.marks=[],this.el.querySelectorAll("w-p[class]").forEach(r=>{r.classList.value=""}),this.observer&&this.observer.disconnect()}hideSelection(){}scrollToMark(r,l){if(!this.isMarkVisible(r,l,!0)){const d=this.el.querySelector('w-p[w="'+r+'"]');d&&d.scrollIntoView()}}setCaretToMark(r){const l=this.el.querySelector('w-p[w="'+r+'"]').childNodes[0];if(l){let d=document.createRange(),h=window.getSelection();d.setStart(l,0),d.collapse(!0),h.removeAllRanges(),h.addRange(d)}}isMarkVisible(r,l,d){const h=this.el.querySelector('w-p[w="'+r+'"]'),g=this.el.querySelector('w-p[w="'+l+'"]');if(!h||!g)return!1;const y=this.el.getBoundingClientRect(),w=h.getBoundingClientRect(),A=g.getBoundingClientRect(),R=w.top>=y.top&&w.bottom<=y.bottom,O=A.top>=y.top&&A.bottom<=y.bottom;return d?R&&O:R||O}}const cxe={id:"app-instructions-wrapper"},uxe={class:"appTextButtons"},dxe={id:"app-instructions-mode-select"},fxe={id:"app-instructions-mode-mark"},mxe=["innerHTML"],gxe={__name:"Instructions",setup(n){const r=Bt.tasks(),l=Bt.layout(),d=Bt.preferences(),h=Bt.clipboard(),g=Bt.annotations(),y=go(0);let w;bu(()=>{w=new lxe(document.getElementById("app-instructions"),V,z),A()});async function A(){l.isInstructionsSelected&&(await gr(),w.hideAllMarksAndLabels(),g.activeAnnotations.forEach(le=>N(le)))}Wn(()=>g.markerChange,A),Wn(()=>r.currentKey,A);function R(){if(l.isInstructionsSelected){w.hideAllMarksOfClass("selected");let le=g.getAnnotation(g.selectedKey);le&&(w.showMark("selected",le.start_position,le.end_position),w.addLabel("labelled",le.label,le.start_position),w.scrollToMark(le.start_position,le.end_position))}}Wn(()=>g.selectionChange,R);function O(){if(l.isInstructionsSelected){let le=g.getAnnotation(g.selectedKey);w.setCaretToMark(le.start_position)}}Wn(()=>g.caretRequest,O);function N(le){w.showMark("marked",le.start_position,le.end_position),w.addLabel("labelled",le.label,le.start_position)}async function V(le){if(le.isCollapsed){const q=g.getActiveAnotationsInRange(le.firstWord,le.lastWord);if(q.length){const de=q.shift();g.selectAnnotation(de.getKey())}}else if(y.value===1){w.removeSelection();const q=new Sf({task_id:r.currentTask.task_id,resource_id:Sf.RESOURCE_ID_INSTRUCTIONS,parent_number:le.parentNumber,start_position:le.firstWord,end_position:le.lastWord});await g.createAnnotation(q),g.selectAnnotation(q.getKey())}}function z(le){const q=g.getActiveAnnotationsByStartPosition(le);if(q.length){const de=q.shift();g.setFirstVisibleAnnotation(de.getKey())}}function W(le){y.value=le}async function X(){l.focusTarget=="left"&&l.isInstructionsVisible&&(await gr(),document.getElementById("app-instructions").focus())}Wn(()=>l.focusChange,X);function oe(le){const q=fe();h.setContent(q),le.clipboardData.setData("text/html",q),le.preventDefault()}function j(le){return le.preventDefault(),!1}function fe(){var le;if(document.selection&&document.selection.createRange)return le=document.selection.createRange(),le.htmlText;if(window.getSelection){var q=window.getSelection();if(q.rangeCount>0){le=q.getRangeAt(0);var de=le.cloneContents(),ne=document.createElement("div");return ne.appendChild(de),ne.innerHTML}else return""}else return""}return(le,q)=>{var de;return Uo(),Ba("div",cxe,[De("div",uxe,[Ne(oQ,{modelValue:y.value,"onUpdate:modelValue":q[2]||(q[2]=ne=>y.value=ne),density:"comfortable",variant:"outlined",divided:""},{default:pn(()=>[Ne(Xs,{"aria-labelledby":"app-instructions-mode-select",size:"small",value:"0",onClick:q[0]||(q[0]=ne=>W(0))},{default:pn(()=>[Ne(Yo,{icon:"mdi-cursor-default-outline"}),De("span",dxe,jt(le.$t("allSelect")),1)]),_:1}),Ne(Xs,{"aria-labelledby":"app-instructions-mode-mark",size:"small",value:"1",onClick:q[1]||(q[1]=ne=>W(1))},{default:pn(()=>[Ne(Yo,{icon:"mdi-marker"}),De("span",fxe,jt(le.$t("allMark")),1)]),_:1})]),_:1},8,["modelValue"]),q[5]||(q[5]=ja("  ")),Ne(zk,{density:"comfortable",variant:"outlined",divided:""},{default:pn(()=>[Ne(Xs,{title:le.$t("instructionsZoomOut"),size:"small",icon:"mdi-magnify-minus-outline",onClick:q[3]||(q[3]=ne=>tt(d).zoomInstructionsOut())},null,8,["title"]),Ne(Xs,{title:le.$t("instructionsZoomIn"),size:"small",icon:"mdi-magnify-plus-outline",onClick:q[4]||(q[4]=ne=>tt(d).zoomInstructionsIn())},null,8,["title"])]),_:1})]),De("div",{id:"app-instructions",class:"app-instructions-scroll long-essay-content",contenteditable:"true",style:Rs("font-size:"+tt(d).instructions_zoom+"rem;"),innerHTML:((de=tt(r).currentTask)==null?void 0:de.instructions)??"",onBeforeinput:j,onCopy:oe,onCut:oe},null,44,mxe)])}}},hxe=(n,r,l)=>{let d=Promise.resolve();const h=new EventTarget,g=(W,X=null)=>h.dispatchEvent(new CustomEvent(W,{detail:X})),y=((W=0)=>()=>++W)(),w={},A=document.createElement("iframe"),R=Promise.withResolvers();return A.src=r+"?file="+encodeURIComponent(l),A.style.width="100%",A.style.height="100%",n.appendChild(A),window.addEventListener("message",z),{on:h.addEventListener.bind(h),off:h.removeEventListener.bind(h),getAll:()=>N("getAll"),get:W=>N("get",W),update:W=>O("update",W),setAll:W=>O("setAll",W),add:W=>O("add",W),delete:W=>O("delete",W),selected:()=>N("selected"),select:W=>N("select",W),currentPage:()=>N("currentPage"),destroy:()=>{window.removeEventListener("message",z),iframe.remove()},rebuild:()=>{window.addEventListener("message",z),n.appendChild(A)}};function O(W,...X){return d=d.then(()=>N(W,...X))}function N(W,...X){return new Promise(oe=>{const j=y();return w[j]=oe,R.promise.then(()=>A.contentWindow.postMessage({id:j,name:W,args:X}))})}function V(W){if(!w[W.id])return;const X=w[W.id];delete w[W.id],X(W.value)}function z(W){if(W.source===A.contentWindow){if(W.data.emit){W.data.emit.name==="ready"&&R.resolve(),g(W.data.emit.name,W.data.emit.detail);return}if(W.data.response){V(W.data.response);return}}}},pxe={class:"appResourceWrapper"},bxe={__name:"ResourcePdf",props:["resource"],setup(n){const r=Bt.layout(),l=Bt.tasks();Bt.resources();const d=Bt.annotations(),g=n.resource,y=go();let w;bu(()=>{w=hxe(y.value,"./annotate-pdf/pdfjs-dist/web/viewer.html",g.url),R(),w.on("create",O),w.on("update",N),w.on("delete",V),w.on("select",z),w.on("pageChanged",W),A()});async function A(){r.isResourceShown(g)&&(await gr(),y.value.focus())}Wn(()=>r.focusChange,A);function R(){const j=[];for(const fe of d.getAnnotationsForResourceId(g.id))j.push({id:fe.mark_key,page:fe.parent_number,intern:JSON.parse(fe.mark_value)});w.setAll(j)}async function O(j){const fe=new Sf({task_id:l.currentTask.task_id,resource_id:g.id,mark_key:j.detail.id,mark_value:JSON.stringify(j.detail.intern),parent_number:j.detail.page,start_position:Math.round(-j.detail.intern.rect[1])});await d.createAnnotation(fe),d.selectAnnotation(fe.getKey())}function N(j){const fe=d.getAnnotation(Sf.buildKey(g.id,j.detail.id));fe&&(fe.mark_value=JSON.stringify(j.detail.intern),d.updateAnnotation(fe))}function V(j){j.detail&&d.deleteAnnotation(Sf.buildKey(g.id,j.detail.id))}function z(j){j.detail&&d.selectAnnotation(Sf.buildKey(g.id,j.detail.id))}function W(j){let fe=d.getActiveAnnotationsByParentNumber(j.detail);if(fe.length){let le=fe.shift();d.setFirstVisibleAnnotation(le.getKey())}}function X(){const j=d.getAnnotation(d.selectedKey);j&&j.resource_id===g.id&&w.select(j.mark_key)}Wn(()=>d.selectionChange,X);function oe(){const j=Sf.getFromKey(d.deletedKey);j.resource_id==g.id&&w.delete(j.mark_key)}return Wn(()=>d.deletedKey,oe),(j,fe)=>(Uo(),Ba("div",pxe,[fe[0]||(fe[0]=De("div",{class:"appTextButtons"},null,-1)),De("div",{class:"appResourceNode",tabindex:"0",ref_key:"ResourceNode",ref:y},null,512)]))}},vxe=Oh(bxe,[["__scopeId","data-v-7b5054ab"]]),yxe={id:"app-resource-url-wrapper"},xxe=["src"],wxe={__name:"ResourceUrl",props:["resource"],setup(n){const r=Bt.layout();Bt.resources();const d=n.resource,h=go();async function g(){r.isResourceShown(d)&&(await gr(),h.value.focus())}return bu(()=>g),Wn(()=>r.focusChange,g),(y,w)=>(Uo(),Ba("div",yxe,[w[0]||(w[0]=De("div",{class:"appTextButtons"},null,-1)),De("div",{tabindex:"0",class:"appResourceNode",ref_key:"ResourceNode",ref:h},[De("iframe",{src:tt(d).url,width:"100%",height:"100%",frameborder:"0",referrerpolicy:"strict-origin-when-cross-origin",allowfullscreen:""},null,8,xxe)],512)]))}},Cxe=Oh(wxe,[["__scopeId","data-v-21a81ae2"]]),Sxe={id:"app-resources",tabindex:"0",class:"resources"},_xe={__name:"Resources",setup(n){const r=Bt.layout(),l=Bt.resources(),d=Bt.tasks();async function h(){await gr(),l.selectFirstEmbeddedResource()}return Wn(()=>d.currentKey,h),(g,y)=>(Uo(),Ba("div",Sxe,[(Uo(!0),Ba(hs,null,Mp(tt(l).resources,w=>(Uo(),Ba(hs,{key:w.key},[w.isPdf()?ns((Uo(),Jr(vxe,{key:w.key,resource:w},null,8,["resource"])),[[Ms,tt(r).isResourceShown(w)]]):ql("",!0),w.isEmbeddedUrl()?ns((Uo(),Jr(Cxe,{key:w.key,resource:w},null,8,["resource"])),[[Ms,tt(r).isResourceShown(w)]]):ql("",!0)],64))),128))]))}},kxe=Oh(_xe,[["__scopeId","data-v-85d0ff06"]]),Exe=Kn({scrollable:Boolean,...Js(),...Up(),...Pi({tag:"main"})},"VMain"),eW=Xo()({name:"VMain",props:Exe(),setup(n,r){let{slots:l}=r;const{dimensionStyles:d}=Wp(n),{mainStyles:h}=$me(),{ssrBootStyles:g}=qL();return Ls(()=>Ne(n.tag,{class:zo(["v-main",{"v-main--scrollable":n.scrollable},n.class]),style:Rs([h.value,g.value,d.value,n.style])},{default:()=>{var y,w;return[n.scrollable?De("div",{class:"v-main__scroller"},[(y=l.default)==null?void 0:y.call(l)]):(w=l.default)==null?void 0:w.call(l)]}})),{}}}),Axe={id:"app-main-container"},Txe={class:"col-header"},Oxe={class:"headline"},Rxe={"aria-hidden":"true"},Dxe={id:"app-expand-left-column",class:"sr-only"},Nxe={class:"col-content"},Ixe={class:"col-header"},Pxe={class:"headline"},Bxe={"aria-hidden":"true"},Mxe={id:"app-expand-right-column",class:"sr-only"},Lxe={class:"col-content"},Fxe={__name:"MainContent",setup(n){const r=Bt.layout(),l=Bt.resources(),d=Bt.clipboard();return document.addEventListener("keydown",r.handleKeyDown),bu(async()=>{r.setFocusChange("header")}),(h,g)=>(Uo(),Jr(eW,{"fill-height":""},{default:pn(()=>{var y;return[De("div",Axe,[ns(De("section",{"aria-label":"Linke Spalte",class:zo(["column",{colExpanded:tt(r).isLeftExpanded,colNormal:!tt(r).isLeftExpanded}])},[De("div",Txe,[De("h1",Oxe,jt(tt(r).isInstructionsSelected?h.$t("allInstructions"):tt(r).isInstructionsPdfSelected?h.$t("allInstructionsPdf"):tt(r).isResourcesSelected?(y=tt(l).activeResource)==null?void 0:y.title:h.$t("mainContentLeftColumn")),1),Ne(zk,{density:"comfortable"},{default:pn(()=>[ns(Ne(Xs,{size:"small",onClick:g[0]||(g[0]=w=>tt(r).setLeftExpanded(!1))},{default:pn(()=>[Ne(Yo,{icon:"mdi-chevron-left"}),De("span",null,jt(tt(r).isAnnotationsSelected?h.$t("allAnnotations"):tt(r).isEssaySelected?h.$t("allEssay"):tt(r).isNotesSelected?h.$t("allNotes"):h.$t("mainContentExpandRightColumn")),1)]),_:1},512),[[Ms,tt(r).isLeftExpanded]]),ns(Ne(Xs,{"aria-labelledby":"app-expand-left-column",size:"small",onClick:g[1]||(g[1]=w=>tt(r).setLeftExpanded(!0))},{default:pn(()=>[De("span",Rxe,jt(h.$t("mainContentExpand")),1),De("span",Dxe,jt(h.$t("mainContentExpandLeftColumn")),1),Ne(Yo,{icon:"mdi-chevron-right"})]),_:1},512),[[Ms,!tt(r).isLeftExpanded]])]),_:1})]),De("div",Nxe,[ns(Ne(gxe,null,null,512),[[Ms,tt(r).isInstructionsVisible]]),ns(Ne(kxe,null,null,512),[[Ms,tt(r).isInstructionsPdfVisible||tt(r).isResourcesVisible]])])],2),[[Ms,tt(r).isLeftVisible]]),ns(De("section",{"aria-label":"Rechte Spalte",class:zo(["column",{colExpanded:tt(r).isRightExpanded,colNormal:!tt(r).isRightExpanded}])},[De("div",Ixe,[De("h1",Pxe,jt(tt(r).isAnnotationsSelected?h.$t("allAnnotations"):tt(r).isEssayVisible?h.$t("allEssay"):tt(r).isNotesVisible?h.$t("allNotesWillPurged"):h.$t("mainContentRightColumn")),1),Ne(zk,{density:"comfortable"},{default:pn(()=>[ns(Ne(Xs,{size:"small",onClick:g[2]||(g[2]=w=>tt(r).setRightExpanded(!1))},{default:pn(()=>{var w;return[De("span",null,jt(tt(r).isInstructionsSelected?h.$t("allInstructions"):tt(r).isInstructionsPdfSelected?h.$t("allInstructionsPdf"):tt(r).isResourcesSelected?(w=tt(l).activeResource)==null?void 0:w.title:h.$t("mainContentExpandLeftColumn")),1),Ne(Yo,{icon:"mdi-chevron-right"})]}),_:1},512),[[Ms,tt(r).isRightExpanded]]),ns(Ne(Xs,{"aria-labelledby":"app-expand-right-column",size:"small",onClick:g[3]||(g[3]=w=>tt(r).setRightExpanded(!0))},{default:pn(()=>[Ne(Yo,{icon:"mdi-chevron-left"}),De("span",Bxe,jt(h.$t("mainContentExpand")),1),De("span",Mxe,jt(h.$t("mainContentExpandRightColumn")),1)]),_:1},512),[[Ms,!tt(r).isRightExpanded]])]),_:1})]),De("div",Lxe,[Ne(ixe)])],2),[[Ms,tt(r).isRightVisible]])]),Ne(fx,{width:"500",persistent:"",modelValue:tt(d).show_warning,"onUpdate:modelValue":g[5]||(g[5]=w=>tt(d).show_warning=w)},{default:pn(()=>[Ne(dx,null,{default:pn(()=>[Ne(r1,null,{default:pn(()=>[De("p",null,jt(h.$t("mainContentCopyPrevented")),1)]),_:1}),Ne(s1,null,{default:pn(()=>[Ne(QU),Ne(Xs,{onClick:g[4]||(g[4]=w=>tt(d).hideWarning())},{default:pn(()=>[ja(jt(h.$t("allOk")),1)]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]}),_:1}))}},$xe=Oh(Fxe,[["__scopeId","data-v-317e3a46"]]),Vxe={__name:"StartupPage",setup(n){const r=Bt.api(),l=Bt.layout();return(d,h)=>(Uo(),Jr(eW,{"fill-height":""},{default:pn(()=>[Ne(lee,{elevation:"1",color:"white",density:"compact"},{default:pn(()=>[De("p",null,jt(d.$t("startupPageLoadData")),1),Ne(QU),Ne(Xs,{href:tt(r).returnUrl},{default:pn(()=>[Ne(Yo,{left:"",icon:"mdi-logout-variant"}),De("span",null,jt(d.$t("allEnd")),1)]),_:1},8,["href"])]),_:1}),Ne(fx,{"max-width":"1000",persistent:"",modelValue:tt(l).showInitFailure,"onUpdate:modelValue":h[0]||(h[0]=g=>tt(l).showInitFailure=g)},{default:pn(()=>[Ne(dx,null,{default:pn(()=>[Ne(r1,null,{default:pn(()=>[De("p",null,jt(d.$t("startupPageLoadError")),1)]),_:1}),Ne(s1,null,{default:pn(()=>[Ne(Xs,{href:tt(r).returnUrl},{default:pn(()=>[Ne(Yo,{left:"",icon:"mdi-logout-variant"}),De("span",null,jt(d.$t("allEnd")),1)]),_:1},8,["href"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),Ne(fx,{"max-width":"1000",persistent:"",modelValue:tt(l).showReplaceConfirmation,"onUpdate:modelValue":h[2]||(h[2]=g=>tt(l).showReplaceConfirmation=g)},{default:pn(()=>[Ne(dx,null,{default:pn(()=>[Ne(r1,null,{default:pn(()=>[De("p",null,jt(d.$t("startupPageOverwriteInfo")),1),De("p",null,jt(d.$t("startupPageOverwriteQuestion")),1)]),_:1}),Ne(s1,null,{default:pn(()=>[Ne(Xs,{onClick:h[1]||(h[1]=g=>tt(r).loadDataFromBackend())},{default:pn(()=>[Ne(Yo,{left:"",icon:"mdi-reload"}),De("span",null,jt(d.$t("allLoad")),1)]),_:1}),Ne(Xs,{href:tt(r).returnUrl},{default:pn(()=>[Ne(Yo,{left:"",icon:"mdi-logout-variant"}),De("span",null,jt(d.$t("allCancel")),1)]),_:1},8,["href"])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1}))}},Hxe={key:0,class:"column"},zxe={class:"col-header bg-grey-lighten-4"},Uxe={class:"text-h6",style:{color:"#f00000"}},Wxe={class:"col-content"},jxe=["innerHTML"],Zxe={class:"col-footer bg-grey-lighten-4"},Kxe={key:1,class:"column"},qxe={class:"col-header bg-grey-lighten-4"},Gxe={class:"text-h6"},Yxe={class:"col-header bg-grey-lighten-4"},Xxe={class:"text-h6"},Jxe={key:0},Qxe={class:"col-header bg-grey-lighten-4"},e2e={class:"text-h6"},t2e={key:0},n2e={class:"col-content"},o2e=["innerHTML"],s2e={class:"col-footer bg-grey-lighten-4"},r2e={__name:"ReviewContent",setup(n){const r=Bt.api(),l=Bt.config(),d=Bt.essay(),h=Bt.tasks(),g=Bt.writer(),y=Bt.settings(),w=Bt.preferences(),A=Bt.changes(),R=Bt.tasks(),O=Bt.layout(),{t:N}=aR.global,V=go(!1),z=go(!1);function W(j=""){const fe=R.taskIds>0?N("allEssay"):R.currentTask.title;return j?fe+" - "+j:fe}async function X(j){console.log("authorize",j);const fe=await r.saveFinalContentToBackend(j);if(console.log(fe),!fe.success||j&&!g.isAuthorized){V.value=!0,z.value=j;return}await XJ(),window.location=r.returnUrl}async function oe(){r.saveFinalContentToBackend(!1).success||(V.value=!0,z.value=!1)}return(j,fe)=>(Uo(),Jr(eW,{"fill-height":""},{default:pn(()=>[tt(A).hasWritingChanges?(Uo(),Ba("div",Hxe,[De("div",zxe,[De("h2",Uxe,jt(W(j.$t("reviewContentNotYetSent"))),1),De("p",null,jt(j.$t("reviewContentTryAgainLater")),1)]),De("div",Wxe,[(Uo(!0),Ba(hs,null,Mp(tt(d).essays,le=>ns((Uo(),Ba("div",{class:zo("long-essay-content "+tt(y).contentClass),style:Rs("font-size:"+tt(w).editor_zoom+"rem;"),innerHTML:le.content},null,14,jxe)),[[Ms,tt(R).currentKey==tt(J0).buildKey(le.task_id)]])),256))]),De("div",Zxe,[Ne(Xs,{class:"ma-2",color:tt(l).primaryColorCss,onClick:fe[0]||(fe[0]=le=>oe())},{default:pn(()=>[Ne(Yo,{color:tt(l).primaryTextColorCss,icon:"mdi-refresh"},null,8,["color"]),De("span",{style:Rs(tt(l).primaryTextColorFullCss)},jt(j.$t("reviewContentTryAgain")),5)]),_:1},8,["color"]),ns(Ne(Xs,{class:"ma-2",onClick:fe[1]||(fe[1]=le=>tt(O).setReview(!1))},{default:pn(()=>[Ne(Yo,{icon:"mdi-file-edit-outline"}),De("span",null,jt(j.$t("reviewContentContinueEditing")),1)]),_:1},512),[[Ms,!tt(g).writingEndReached&&!tt(g).isExcluded]])])])):ql("",!0),tt(A).hasWritingChanges?ql("",!0):(Uo(),Ba("div",Kxe,[ns(De("div",qxe,[De("h2",Gxe,jt(W(j.$t("reviewContentExcluded"))),1),De("p",null,jt(j.$t("reviewContentEditingPrevented")),1)],512),[[Ms,tt(g).isExcluded]]),ns(De("div",Yxe,[De("h2",Xxe,jt(W(j.$t("reviewContentTimeOver"))),1),De("p",null,[ja(jt(j.$t("reviewContentEditingPrevented"))+" "+jt(j.$t("reviewContentPleaseCheckText"))+" "+jt(j.$t("reviewContentYouMayScroll"))+" ",1),tt(h).hasWrittenNotes?(Uo(),Ba("span",Jxe,jt(j.$t("reviewContentNotesWillBePurged")),1)):ql("",!0)])],512),[[Ms,tt(g).writingEndReached&&!tt(g).isExcluded]]),ns(De("div",Qxe,[De("h2",e2e,jt(W()),1),De("p",null,[ja(jt(j.$t("reviewContentPleaseCheckText"))+" "+jt(j.$t("reviewContentYouMayScroll"))+" ",1),tt(h).hasWrittenNotes?(Uo(),Ba("span",t2e,jt(j.$t("reviewContentNotesWillBePurged")),1)):ql("",!0),ja(" "+jt(j.$t("reviewContentAuthorizationFinishes")),1)])],512),[[Ms,!tt(g).writingEndReached&&!tt(g).isExcluded]]),De("div",n2e,[(Uo(!0),Ba(hs,null,Mp(tt(d).essays,le=>ns((Uo(),Ba("div",{class:zo("long-essay-content "+tt(y).contentClass),style:Rs("font-size:"+tt(w).editor_zoom+"rem;"),innerHTML:le.content},null,14,o2e)),[[Ms,tt(R).currentKey==tt(J0).buildKey(le.task_id)]])),256))]),De("div",s2e,[ns(Ne(Xs,{class:"ma-2 primary",onClick:fe[2]||(fe[2]=le=>X(!0)),color:tt(l).primaryColorCss},{default:pn(()=>[Ne(Yo,{color:tt(l).primaryTextColorCss,icon:"mdi-file-send-outline"},null,8,["color"]),De("span",{style:Rs(tt(l).primaryTextColorFullCss)},jt(j.$t("reviewContentAuthorize",tt(R).countTasks)),5)]),_:1},8,["color"]),[[Ms,!tt(g).isExcluded]]),ns(Ne(Xs,{class:"ma-2",onClick:fe[3]||(fe[3]=le=>X(!1))},{default:pn(()=>[Ne(Yo,{icon:"mdi-logout-variant"}),De("span",null,jt(j.$t("reviewContentDontAuthorize")),1)]),_:1},512),[[Ms,tt(g).writingEndReached||tt(g).isExcluded]]),ns(Ne(Xs,{class:"ma-2",onClick:fe[4]||(fe[4]=le=>tt(O).setReview(!1))},{default:pn(()=>[Ne(Yo,{icon:"mdi-file-edit-outline"}),De("span",null,jt(j.$t("reviewContentContinueEditing")),1)]),_:1},512),[[Ms,!tt(g).writingEndReached&&!tt(g).isExcluded]])])])),Ne(fx,{"max-width":"1000",persistent:"",modelValue:V.value,"onUpdate:modelValue":fe[6]||(fe[6]=le=>V.value=le)},{default:pn(()=>[Ne(dx,null,{default:pn(()=>[Ne(r1,null,{default:pn(()=>[De("p",null,jt(j.$t("reviewContentNetworkProblem")),1),De("p",null,[fe[7]||(fe[7]=De("br",null,null,-1)),ja(jt(j.$t("reviewContentLeaveAndTryLater")),1)]),ns(De("p",null,[fe[8]||(fe[8]=De("br",null,null,-1)),ja(" "+jt(j.$t("reviewContentCallSupervisionToAuthorize")),1)],512),[[Ms,z.value]]),ns(De("p",null,[fe[9]||(fe[9]=De("br",null,null,-1)),ja(" "+jt(j.$t("reviewContentCallSupervisionForHelp")),1)],512),[[Ms,!z.value]])]),_:1}),Ne(s1,null,{default:pn(()=>[Ne(Xs,{onClick:fe[5]||(fe[5]=le=>V.value=!1)},{default:pn(()=>[Ne(Yo,{left:"",icon:"mdi-close"}),De("span",null,jt(j.$t("allCloseMessage")),1)]),_:1}),Ne(Xs,{href:tt(r).returnUrl},{default:pn(()=>[Ne(Yo,{left:"",icon:"mdi-logout-variant"}),De("span",null,jt(j.$t("reviewContentLeaveWithoutSending")),1)]),_:1},8,["href"])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1}))}},a2e=Oh(r2e,[["__scopeId","data-v-3658113b"]]),i2e=Kn({...Js(),...Fme({fullHeight:!0}),...Gl()},"VApp"),l2e=Xo()({name:"VApp",props:i2e(),setup(n,r){let{slots:l}=r;const d=Uc(n),{layoutClasses:h,getLayoutItem:g,items:y,layoutRef:w}=Hme(n),{rtlClasses:A}=Ah();return Ls(()=>{var R;return De("div",{ref:w,class:zo(["v-application",d.themeClasses.value,h.value,A.value,n.class]),style:Rs([n.style])},[De("div",{class:"v-application__wrap"},[(R=l.default)==null?void 0:R.call(l)])])}),{getLayoutItem:g,items:y,theme:d}}}),c2e={__name:"App",setup(n){const r=Bt.api(),l=Bt.layout();return r.init(),(d,h)=>(Uo(),Jr(l2e,{"fill-height":""},{default:pn(()=>[tt(l).isInitialized?ql("",!0):(Uo(),Jr(Vxe,{key:0})),tt(l).isInitialized?(Uo(),Jr(V1e,{key:1})):ql("",!0),tt(l).isInitialized&&!tt(l).isReview?(Uo(),Jr(nye,{key:2})):ql("",!0),tt(l).isInitialized?ns((Uo(),Jr($xe,{key:3},null,512)),[[Ms,!tt(l).isReview]]):ql("",!0),tt(l).isInitialized?ns((Uo(),Jr(a2e,{key:4},null,512)),[[Ms,tt(l).isReview]]):ql("",!0)]),_:1}))}},See=Mde(c2e);Rhe(See);See.mount("#app");
